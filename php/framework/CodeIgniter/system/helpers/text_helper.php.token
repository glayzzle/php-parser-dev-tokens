[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * CodeIgniter\n *\n * An open source application development framework for PHP\n *\n * This content is released under the MIT License (MIT)\n *\n * Copyright (c) 2014 - 2017, British Columbia Institute of Technology\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and\/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n *\n * @package\tCodeIgniter\n * @author\tEllisLab Dev Team\n * @copyright\tCopyright (c) 2008 - 2014, EllisLab, Inc. (https:\/\/ellislab.com\/)\n * @copyright\tCopyright (c) 2014 - 2017, British Columbia Institute of Technology (http:\/\/bcit.ca\/)\n * @license\thttp:\/\/opensource.org\/licenses\/MIT\tMIT License\n * @link\thttps:\/\/codeigniter.com\n * @since\tVersion 1.0.0\n * @filesource\n *\/",2],["T_WHITESPACE","\n",37],["T_STRING","defined",38],"(",["T_CONSTANT_ENCAPSED_STRING","'BASEPATH'",38],")",["T_WHITESPACE"," ",38],["T_LOGICAL_OR","OR",38],["T_WHITESPACE"," ",38],["T_EXIT","exit",38],"(",["T_CONSTANT_ENCAPSED_STRING","'No direct script access allowed'",38],")",";",["T_WHITESPACE","\n\n",38],["T_DOC_COMMENT","\/**\n * CodeIgniter Text Helpers\n *\n * @package\t\tCodeIgniter\n * @subpackage\tHelpers\n * @category\tHelpers\n * @author\t\tEllisLab Dev Team\n * @link\t\thttps:\/\/codeigniter.com\/user_guide\/helpers\/text_helper.html\n *\/",40],["T_WHITESPACE","\n\n",48],["T_COMMENT","\/\/ ------------------------------------------------------------------------\n",50],["T_WHITESPACE","\n",51],["T_IF","if",52],["T_WHITESPACE"," ",52],"(",["T_WHITESPACE"," ",52],"!",["T_WHITESPACE"," ",52],["T_STRING","function_exists",52],"(",["T_CONSTANT_ENCAPSED_STRING","'word_limiter'",52],")",")",["T_WHITESPACE","\n",52],"{",["T_WHITESPACE","\n\t",53],["T_DOC_COMMENT","\/**\n\t * Word Limiter\n\t *\n\t * Limits a string to X number of words.\n\t *\n\t * @param\tstring\n\t * @param\tint\n\t * @param\tstring\tthe end character. Usually an ellipsis\n\t * @return\tstring\n\t *\/",54],["T_WHITESPACE","\n\t",63],["T_FUNCTION","function",64],["T_WHITESPACE"," ",64],["T_STRING","word_limiter",64],"(",["T_VARIABLE","$str",64],",",["T_WHITESPACE"," ",64],["T_VARIABLE","$limit",64],["T_WHITESPACE"," ",64],"=",["T_WHITESPACE"," ",64],["T_LNUMBER","100",64],",",["T_WHITESPACE"," ",64],["T_VARIABLE","$end_char",64],["T_WHITESPACE"," ",64],"=",["T_WHITESPACE"," ",64],["T_CONSTANT_ENCAPSED_STRING","'&#8230;'",64],")",["T_WHITESPACE","\n\t",64],"{",["T_WHITESPACE","\n\t\t",65],["T_IF","if",66],["T_WHITESPACE"," ",66],"(",["T_STRING","trim",66],"(",["T_VARIABLE","$str",66],")",["T_WHITESPACE"," ",66],["T_IS_IDENTICAL","===",66],["T_WHITESPACE"," ",66],["T_CONSTANT_ENCAPSED_STRING","''",66],")",["T_WHITESPACE","\n\t\t",66],"{",["T_WHITESPACE","\n\t\t\t",67],["T_RETURN","return",68],["T_WHITESPACE"," ",68],["T_VARIABLE","$str",68],";",["T_WHITESPACE","\n\t\t",68],"}",["T_WHITESPACE","\n\n\t\t",69],["T_STRING","preg_match",71],"(",["T_CONSTANT_ENCAPSED_STRING","'\/^\\s*+(?:\\S++\\s*+){1,'",71],".",["T_INT_CAST","(int)",71],["T_WHITESPACE"," ",71],["T_VARIABLE","$limit",71],".",["T_CONSTANT_ENCAPSED_STRING","'}\/'",71],",",["T_WHITESPACE"," ",71],["T_VARIABLE","$str",71],",",["T_WHITESPACE"," ",71],["T_VARIABLE","$matches",71],")",";",["T_WHITESPACE","\n\n\t\t",71],["T_IF","if",73],["T_WHITESPACE"," ",73],"(",["T_STRING","strlen",73],"(",["T_VARIABLE","$str",73],")",["T_WHITESPACE"," ",73],["T_IS_IDENTICAL","===",73],["T_WHITESPACE"," ",73],["T_STRING","strlen",73],"(",["T_VARIABLE","$matches",73],"[",["T_LNUMBER","0",73],"]",")",")",["T_WHITESPACE","\n\t\t",73],"{",["T_WHITESPACE","\n\t\t\t",74],["T_VARIABLE","$end_char",75],["T_WHITESPACE"," ",75],"=",["T_WHITESPACE"," ",75],["T_CONSTANT_ENCAPSED_STRING","''",75],";",["T_WHITESPACE","\n\t\t",75],"}",["T_WHITESPACE","\n\n\t\t",76],["T_RETURN","return",78],["T_WHITESPACE"," ",78],["T_STRING","rtrim",78],"(",["T_VARIABLE","$matches",78],"[",["T_LNUMBER","0",78],"]",")",".",["T_VARIABLE","$end_char",78],";",["T_WHITESPACE","\n\t",78],"}",["T_WHITESPACE","\n",79],"}",["T_WHITESPACE","\n\n",80],["T_COMMENT","\/\/ ------------------------------------------------------------------------\n",82],["T_WHITESPACE","\n",83],["T_IF","if",84],["T_WHITESPACE"," ",84],"(",["T_WHITESPACE"," ",84],"!",["T_WHITESPACE"," ",84],["T_STRING","function_exists",84],"(",["T_CONSTANT_ENCAPSED_STRING","'character_limiter'",84],")",")",["T_WHITESPACE","\n",84],"{",["T_WHITESPACE","\n\t",85],["T_DOC_COMMENT","\/**\n\t * Character Limiter\n\t *\n\t * Limits the string based on the character count.  Preserves complete words\n\t * so the character count may not be exactly as specified.\n\t *\n\t * @param\tstring\n\t * @param\tint\n\t * @param\tstring\tthe end character. Usually an ellipsis\n\t * @return\tstring\n\t *\/",86],["T_WHITESPACE","\n\t",96],["T_FUNCTION","function",97],["T_WHITESPACE"," ",97],["T_STRING","character_limiter",97],"(",["T_VARIABLE","$str",97],",",["T_WHITESPACE"," ",97],["T_VARIABLE","$n",97],["T_WHITESPACE"," ",97],"=",["T_WHITESPACE"," ",97],["T_LNUMBER","500",97],",",["T_WHITESPACE"," ",97],["T_VARIABLE","$end_char",97],["T_WHITESPACE"," ",97],"=",["T_WHITESPACE"," ",97],["T_CONSTANT_ENCAPSED_STRING","'&#8230;'",97],")",["T_WHITESPACE","\n\t",97],"{",["T_WHITESPACE","\n\t\t",98],["T_IF","if",99],["T_WHITESPACE"," ",99],"(",["T_STRING","mb_strlen",99],"(",["T_VARIABLE","$str",99],")",["T_WHITESPACE"," ",99],"<",["T_WHITESPACE"," ",99],["T_VARIABLE","$n",99],")",["T_WHITESPACE","\n\t\t",99],"{",["T_WHITESPACE","\n\t\t\t",100],["T_RETURN","return",101],["T_WHITESPACE"," ",101],["T_VARIABLE","$str",101],";",["T_WHITESPACE","\n\t\t",101],"}",["T_WHITESPACE","\n\n\t\t",102],["T_COMMENT","\/\/ a bit complicated, but faster than preg_replace with \\s+\n",104],["T_WHITESPACE","\t\t",105],["T_VARIABLE","$str",105],["T_WHITESPACE"," ",105],"=",["T_WHITESPACE"," ",105],["T_STRING","preg_replace",105],"(",["T_CONSTANT_ENCAPSED_STRING","'\/ {2,}\/'",105],",",["T_WHITESPACE"," ",105],["T_CONSTANT_ENCAPSED_STRING","' '",105],",",["T_WHITESPACE"," ",105],["T_STRING","str_replace",105],"(",["T_ARRAY","array",105],"(",["T_CONSTANT_ENCAPSED_STRING","\"\\r\"",105],",",["T_WHITESPACE"," ",105],["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",105],",",["T_WHITESPACE"," ",105],["T_CONSTANT_ENCAPSED_STRING","\"\\t\"",105],",",["T_WHITESPACE"," ",105],["T_CONSTANT_ENCAPSED_STRING","\"\\v\"",105],",",["T_WHITESPACE"," ",105],["T_CONSTANT_ENCAPSED_STRING","\"\\f\"",105],")",",",["T_WHITESPACE"," ",105],["T_CONSTANT_ENCAPSED_STRING","' '",105],",",["T_WHITESPACE"," ",105],["T_VARIABLE","$str",105],")",")",";",["T_WHITESPACE","\n\n\t\t",105],["T_IF","if",107],["T_WHITESPACE"," ",107],"(",["T_STRING","mb_strlen",107],"(",["T_VARIABLE","$str",107],")",["T_WHITESPACE"," ",107],["T_IS_SMALLER_OR_EQUAL","<=",107],["T_WHITESPACE"," ",107],["T_VARIABLE","$n",107],")",["T_WHITESPACE","\n\t\t",107],"{",["T_WHITESPACE","\n\t\t\t",108],["T_RETURN","return",109],["T_WHITESPACE"," ",109],["T_VARIABLE","$str",109],";",["T_WHITESPACE","\n\t\t",109],"}",["T_WHITESPACE","\n\n\t\t",110],["T_VARIABLE","$out",112],["T_WHITESPACE"," ",112],"=",["T_WHITESPACE"," ",112],["T_CONSTANT_ENCAPSED_STRING","''",112],";",["T_WHITESPACE","\n\t\t",112],["T_FOREACH","foreach",113],["T_WHITESPACE"," ",113],"(",["T_STRING","explode",113],"(",["T_CONSTANT_ENCAPSED_STRING","' '",113],",",["T_WHITESPACE"," ",113],["T_STRING","trim",113],"(",["T_VARIABLE","$str",113],")",")",["T_WHITESPACE"," ",113],["T_AS","as",113],["T_WHITESPACE"," ",113],["T_VARIABLE","$val",113],")",["T_WHITESPACE","\n\t\t",113],"{",["T_WHITESPACE","\n\t\t\t",114],["T_VARIABLE","$out",115],["T_WHITESPACE"," ",115],["T_CONCAT_EQUAL",".=",115],["T_WHITESPACE"," ",115],["T_VARIABLE","$val",115],".",["T_CONSTANT_ENCAPSED_STRING","' '",115],";",["T_WHITESPACE","\n\n\t\t\t",115],["T_IF","if",117],["T_WHITESPACE"," ",117],"(",["T_STRING","mb_strlen",117],"(",["T_VARIABLE","$out",117],")",["T_WHITESPACE"," ",117],["T_IS_GREATER_OR_EQUAL",">=",117],["T_WHITESPACE"," ",117],["T_VARIABLE","$n",117],")",["T_WHITESPACE","\n\t\t\t",117],"{",["T_WHITESPACE","\n\t\t\t\t",118],["T_VARIABLE","$out",119],["T_WHITESPACE"," ",119],"=",["T_WHITESPACE"," ",119],["T_STRING","trim",119],"(",["T_VARIABLE","$out",119],")",";",["T_WHITESPACE","\n\t\t\t\t",119],["T_RETURN","return",120],["T_WHITESPACE"," ",120],"(",["T_STRING","mb_strlen",120],"(",["T_VARIABLE","$out",120],")",["T_WHITESPACE"," ",120],["T_IS_IDENTICAL","===",120],["T_WHITESPACE"," ",120],["T_STRING","mb_strlen",120],"(",["T_VARIABLE","$str",120],")",")",["T_WHITESPACE"," ",120],"?",["T_WHITESPACE"," ",120],["T_VARIABLE","$out",120],["T_WHITESPACE"," ",120],":",["T_WHITESPACE"," ",120],["T_VARIABLE","$out",120],".",["T_VARIABLE","$end_char",120],";",["T_WHITESPACE","\n\t\t\t",120],"}",["T_WHITESPACE","\n\t\t",121],"}",["T_WHITESPACE","\n\t",122],"}",["T_WHITESPACE","\n",123],"}",["T_WHITESPACE","\n\n",124],["T_COMMENT","\/\/ ------------------------------------------------------------------------\n",126],["T_WHITESPACE","\n",127],["T_IF","if",128],["T_WHITESPACE"," ",128],"(",["T_WHITESPACE"," ",128],"!",["T_WHITESPACE"," ",128],["T_STRING","function_exists",128],"(",["T_CONSTANT_ENCAPSED_STRING","'ascii_to_entities'",128],")",")",["T_WHITESPACE","\n",128],"{",["T_WHITESPACE","\n\t",129],["T_DOC_COMMENT","\/**\n\t * High ASCII to Entities\n\t *\n\t * Converts high ASCII text and MS Word special characters to character entities\n\t *\n\t * @param\tstring\t$str\n\t * @return\tstring\n\t *\/",130],["T_WHITESPACE","\n\t",137],["T_FUNCTION","function",138],["T_WHITESPACE"," ",138],["T_STRING","ascii_to_entities",138],"(",["T_VARIABLE","$str",138],")",["T_WHITESPACE","\n\t",138],"{",["T_WHITESPACE","\n\t\t",139],["T_VARIABLE","$out",140],["T_WHITESPACE"," ",140],"=",["T_WHITESPACE"," ",140],["T_CONSTANT_ENCAPSED_STRING","''",140],";",["T_WHITESPACE","\n\t\t",140],["T_FOR","for",141],["T_WHITESPACE"," ",141],"(",["T_VARIABLE","$i",141],["T_WHITESPACE"," ",141],"=",["T_WHITESPACE"," ",141],["T_LNUMBER","0",141],",",["T_WHITESPACE"," ",141],["T_VARIABLE","$s",141],["T_WHITESPACE"," ",141],"=",["T_WHITESPACE"," ",141],["T_STRING","strlen",141],"(",["T_VARIABLE","$str",141],")",["T_WHITESPACE"," ",141],"-",["T_WHITESPACE"," ",141],["T_LNUMBER","1",141],",",["T_WHITESPACE"," ",141],["T_VARIABLE","$count",141],["T_WHITESPACE"," ",141],"=",["T_WHITESPACE"," ",141],["T_LNUMBER","1",141],",",["T_WHITESPACE"," ",141],["T_VARIABLE","$temp",141],["T_WHITESPACE"," ",141],"=",["T_WHITESPACE"," ",141],["T_ARRAY","array",141],"(",")",";",["T_WHITESPACE"," ",141],["T_VARIABLE","$i",141],["T_WHITESPACE"," ",141],["T_IS_SMALLER_OR_EQUAL","<=",141],["T_WHITESPACE"," ",141],["T_VARIABLE","$s",141],";",["T_WHITESPACE"," ",141],["T_VARIABLE","$i",141],["T_INC","++",141],")",["T_WHITESPACE","\n\t\t",141],"{",["T_WHITESPACE","\n\t\t\t",142],["T_VARIABLE","$ordinal",143],["T_WHITESPACE"," ",143],"=",["T_WHITESPACE"," ",143],["T_STRING","ord",143],"(",["T_VARIABLE","$str",143],"[",["T_VARIABLE","$i",143],"]",")",";",["T_WHITESPACE","\n\n\t\t\t",143],["T_IF","if",145],["T_WHITESPACE"," ",145],"(",["T_VARIABLE","$ordinal",145],["T_WHITESPACE"," ",145],"<",["T_WHITESPACE"," ",145],["T_LNUMBER","128",145],")",["T_WHITESPACE","\n\t\t\t",145],"{",["T_WHITESPACE","\n\t\t\t\t",146],["T_COMMENT","\/*\n\t\t\t\t\tIf the $temp array has a value but we have moved on, then it seems only\n\t\t\t\t\tfair that we output that entity and restart $temp before continuing. -Paul\n\t\t\t\t*\/",147],["T_WHITESPACE","\n\t\t\t\t",150],["T_IF","if",151],["T_WHITESPACE"," ",151],"(",["T_STRING","count",151],"(",["T_VARIABLE","$temp",151],")",["T_WHITESPACE"," ",151],["T_IS_IDENTICAL","===",151],["T_WHITESPACE"," ",151],["T_LNUMBER","1",151],")",["T_WHITESPACE","\n\t\t\t\t",151],"{",["T_WHITESPACE","\n\t\t\t\t\t",152],["T_VARIABLE","$out",153],["T_WHITESPACE"," ",153],["T_CONCAT_EQUAL",".=",153],["T_WHITESPACE"," ",153],["T_CONSTANT_ENCAPSED_STRING","'&#'",153],".",["T_STRING","array_shift",153],"(",["T_VARIABLE","$temp",153],")",".",["T_CONSTANT_ENCAPSED_STRING","';'",153],";",["T_WHITESPACE","\n\t\t\t\t\t",153],["T_VARIABLE","$count",154],["T_WHITESPACE"," ",154],"=",["T_WHITESPACE"," ",154],["T_LNUMBER","1",154],";",["T_WHITESPACE","\n\t\t\t\t",154],"}",["T_WHITESPACE","\n\n\t\t\t\t",155],["T_VARIABLE","$out",157],["T_WHITESPACE"," ",157],["T_CONCAT_EQUAL",".=",157],["T_WHITESPACE"," ",157],["T_VARIABLE","$str",157],"[",["T_VARIABLE","$i",157],"]",";",["T_WHITESPACE","\n\t\t\t",157],"}",["T_WHITESPACE","\n\t\t\t",158],["T_ELSE","else",159],["T_WHITESPACE","\n\t\t\t",159],"{",["T_WHITESPACE","\n\t\t\t\t",160],["T_IF","if",161],["T_WHITESPACE"," ",161],"(",["T_STRING","count",161],"(",["T_VARIABLE","$temp",161],")",["T_WHITESPACE"," ",161],["T_IS_IDENTICAL","===",161],["T_WHITESPACE"," ",161],["T_LNUMBER","0",161],")",["T_WHITESPACE","\n\t\t\t\t",161],"{",["T_WHITESPACE","\n\t\t\t\t\t",162],["T_VARIABLE","$count",163],["T_WHITESPACE"," ",163],"=",["T_WHITESPACE"," ",163],"(",["T_VARIABLE","$ordinal",163],["T_WHITESPACE"," ",163],"<",["T_WHITESPACE"," ",163],["T_LNUMBER","224",163],")",["T_WHITESPACE"," ",163],"?",["T_WHITESPACE"," ",163],["T_LNUMBER","2",163],["T_WHITESPACE"," ",163],":",["T_WHITESPACE"," ",163],["T_LNUMBER","3",163],";",["T_WHITESPACE","\n\t\t\t\t",163],"}",["T_WHITESPACE","\n\n\t\t\t\t",164],["T_VARIABLE","$temp",166],"[","]",["T_WHITESPACE"," ",166],"=",["T_WHITESPACE"," ",166],["T_VARIABLE","$ordinal",166],";",["T_WHITESPACE","\n\n\t\t\t\t",166],["T_IF","if",168],["T_WHITESPACE"," ",168],"(",["T_STRING","count",168],"(",["T_VARIABLE","$temp",168],")",["T_WHITESPACE"," ",168],["T_IS_IDENTICAL","===",168],["T_WHITESPACE"," ",168],["T_VARIABLE","$count",168],")",["T_WHITESPACE","\n\t\t\t\t",168],"{",["T_WHITESPACE","\n\t\t\t\t\t",169],["T_VARIABLE","$number",170],["T_WHITESPACE"," ",170],"=",["T_WHITESPACE"," ",170],"(",["T_VARIABLE","$count",170],["T_WHITESPACE"," ",170],["T_IS_IDENTICAL","===",170],["T_WHITESPACE"," ",170],["T_LNUMBER","3",170],")",["T_WHITESPACE","\n\t\t\t\t\t\t",170],"?",["T_WHITESPACE"," ",171],"(","(",["T_VARIABLE","$temp",171],"[",["T_LNUMBER","0",171],"]",["T_WHITESPACE"," ",171],"%",["T_WHITESPACE"," ",171],["T_LNUMBER","16",171],")",["T_WHITESPACE"," ",171],"*",["T_WHITESPACE"," ",171],["T_LNUMBER","4096",171],")",["T_WHITESPACE"," ",171],"+",["T_WHITESPACE"," ",171],"(","(",["T_VARIABLE","$temp",171],"[",["T_LNUMBER","1",171],"]",["T_WHITESPACE"," ",171],"%",["T_WHITESPACE"," ",171],["T_LNUMBER","64",171],")",["T_WHITESPACE"," ",171],"*",["T_WHITESPACE"," ",171],["T_LNUMBER","64",171],")",["T_WHITESPACE"," ",171],"+",["T_WHITESPACE"," ",171],"(",["T_VARIABLE","$temp",171],"[",["T_LNUMBER","2",171],"]",["T_WHITESPACE"," ",171],"%",["T_WHITESPACE"," ",171],["T_LNUMBER","64",171],")",["T_WHITESPACE","\n\t\t\t\t\t\t",171],":",["T_WHITESPACE"," ",172],"(","(",["T_VARIABLE","$temp",172],"[",["T_LNUMBER","0",172],"]",["T_WHITESPACE"," ",172],"%",["T_WHITESPACE"," ",172],["T_LNUMBER","32",172],")",["T_WHITESPACE"," ",172],"*",["T_WHITESPACE"," ",172],["T_LNUMBER","64",172],")",["T_WHITESPACE"," ",172],"+",["T_WHITESPACE"," ",172],"(",["T_VARIABLE","$temp",172],"[",["T_LNUMBER","1",172],"]",["T_WHITESPACE"," ",172],"%",["T_WHITESPACE"," ",172],["T_LNUMBER","64",172],")",";",["T_WHITESPACE","\n\n\t\t\t\t\t",172],["T_VARIABLE","$out",174],["T_WHITESPACE"," ",174],["T_CONCAT_EQUAL",".=",174],["T_WHITESPACE"," ",174],["T_CONSTANT_ENCAPSED_STRING","'&#'",174],".",["T_VARIABLE","$number",174],".",["T_CONSTANT_ENCAPSED_STRING","';'",174],";",["T_WHITESPACE","\n\t\t\t\t\t",174],["T_VARIABLE","$count",175],["T_WHITESPACE"," ",175],"=",["T_WHITESPACE"," ",175],["T_LNUMBER","1",175],";",["T_WHITESPACE","\n\t\t\t\t\t",175],["T_VARIABLE","$temp",176],["T_WHITESPACE"," ",176],"=",["T_WHITESPACE"," ",176],["T_ARRAY","array",176],"(",")",";",["T_WHITESPACE","\n\t\t\t\t",176],"}",["T_WHITESPACE","\n\t\t\t\t",177],["T_COMMENT","\/\/ If this is the last iteration, just output whatever we have\n",178],["T_WHITESPACE","\t\t\t\t",179],["T_ELSEIF","elseif",179],["T_WHITESPACE"," ",179],"(",["T_VARIABLE","$i",179],["T_WHITESPACE"," ",179],["T_IS_IDENTICAL","===",179],["T_WHITESPACE"," ",179],["T_VARIABLE","$s",179],")",["T_WHITESPACE","\n\t\t\t\t",179],"{",["T_WHITESPACE","\n\t\t\t\t\t",180],["T_VARIABLE","$out",181],["T_WHITESPACE"," ",181],["T_CONCAT_EQUAL",".=",181],["T_WHITESPACE"," ",181],["T_CONSTANT_ENCAPSED_STRING","'&#'",181],".",["T_STRING","implode",181],"(",["T_CONSTANT_ENCAPSED_STRING","';'",181],",",["T_WHITESPACE"," ",181],["T_VARIABLE","$temp",181],")",".",["T_CONSTANT_ENCAPSED_STRING","';'",181],";",["T_WHITESPACE","\n\t\t\t\t",181],"}",["T_WHITESPACE","\n\t\t\t",182],"}",["T_WHITESPACE","\n\t\t",183],"}",["T_WHITESPACE","\n\n\t\t",184],["T_RETURN","return",186],["T_WHITESPACE"," ",186],["T_VARIABLE","$out",186],";",["T_WHITESPACE","\n\t",186],"}",["T_WHITESPACE","\n",187],"}",["T_WHITESPACE","\n\n",188],["T_COMMENT","\/\/ ------------------------------------------------------------------------\n",190],["T_WHITESPACE","\n",191],["T_IF","if",192],["T_WHITESPACE"," ",192],"(",["T_WHITESPACE"," ",192],"!",["T_WHITESPACE"," ",192],["T_STRING","function_exists",192],"(",["T_CONSTANT_ENCAPSED_STRING","'entities_to_ascii'",192],")",")",["T_WHITESPACE","\n",192],"{",["T_WHITESPACE","\n\t",193],["T_DOC_COMMENT","\/**\n\t * Entities to ASCII\n\t *\n\t * Converts character entities back to ASCII\n\t *\n\t * @param\tstring\n\t * @param\tbool\n\t * @return\tstring\n\t *\/",194],["T_WHITESPACE","\n\t",202],["T_FUNCTION","function",203],["T_WHITESPACE"," ",203],["T_STRING","entities_to_ascii",203],"(",["T_VARIABLE","$str",203],",",["T_WHITESPACE"," ",203],["T_VARIABLE","$all",203],["T_WHITESPACE"," ",203],"=",["T_WHITESPACE"," ",203],["T_STRING","TRUE",203],")",["T_WHITESPACE","\n\t",203],"{",["T_WHITESPACE","\n\t\t",204],["T_IF","if",205],["T_WHITESPACE"," ",205],"(",["T_STRING","preg_match_all",205],"(",["T_CONSTANT_ENCAPSED_STRING","'\/\\&#(\\d+)\\;\/'",205],",",["T_WHITESPACE"," ",205],["T_VARIABLE","$str",205],",",["T_WHITESPACE"," ",205],["T_VARIABLE","$matches",205],")",")",["T_WHITESPACE","\n\t\t",205],"{",["T_WHITESPACE","\n\t\t\t",206],["T_FOR","for",207],["T_WHITESPACE"," ",207],"(",["T_VARIABLE","$i",207],["T_WHITESPACE"," ",207],"=",["T_WHITESPACE"," ",207],["T_LNUMBER","0",207],",",["T_WHITESPACE"," ",207],["T_VARIABLE","$s",207],["T_WHITESPACE"," ",207],"=",["T_WHITESPACE"," ",207],["T_STRING","count",207],"(",["T_VARIABLE","$matches",207],"[",["T_LNUMBER","0",207],"]",")",";",["T_WHITESPACE"," ",207],["T_VARIABLE","$i",207],["T_WHITESPACE"," ",207],"<",["T_WHITESPACE"," ",207],["T_VARIABLE","$s",207],";",["T_WHITESPACE"," ",207],["T_VARIABLE","$i",207],["T_INC","++",207],")",["T_WHITESPACE","\n\t\t\t",207],"{",["T_WHITESPACE","\n\t\t\t\t",208],["T_VARIABLE","$digits",209],["T_WHITESPACE"," ",209],"=",["T_WHITESPACE"," ",209],["T_VARIABLE","$matches",209],"[",["T_LNUMBER","1",209],"]","[",["T_VARIABLE","$i",209],"]",";",["T_WHITESPACE","\n\t\t\t\t",209],["T_VARIABLE","$out",210],["T_WHITESPACE"," ",210],"=",["T_WHITESPACE"," ",210],["T_CONSTANT_ENCAPSED_STRING","''",210],";",["T_WHITESPACE","\n\n\t\t\t\t",210],["T_IF","if",212],["T_WHITESPACE"," ",212],"(",["T_VARIABLE","$digits",212],["T_WHITESPACE"," ",212],"<",["T_WHITESPACE"," ",212],["T_LNUMBER","128",212],")",["T_WHITESPACE","\n\t\t\t\t",212],"{",["T_WHITESPACE","\n\t\t\t\t\t",213],["T_VARIABLE","$out",214],["T_WHITESPACE"," ",214],["T_CONCAT_EQUAL",".=",214],["T_WHITESPACE"," ",214],["T_STRING","chr",214],"(",["T_VARIABLE","$digits",214],")",";",["T_WHITESPACE","\n\n\t\t\t\t",214],"}",["T_WHITESPACE","\n\t\t\t\t",216],["T_ELSEIF","elseif",217],["T_WHITESPACE"," ",217],"(",["T_VARIABLE","$digits",217],["T_WHITESPACE"," ",217],"<",["T_WHITESPACE"," ",217],["T_LNUMBER","2048",217],")",["T_WHITESPACE","\n\t\t\t\t",217],"{",["T_WHITESPACE","\n\t\t\t\t\t",218],["T_VARIABLE","$out",219],["T_WHITESPACE"," ",219],["T_CONCAT_EQUAL",".=",219],["T_WHITESPACE"," ",219],["T_STRING","chr",219],"(",["T_LNUMBER","192",219],["T_WHITESPACE"," ",219],"+",["T_WHITESPACE"," ",219],"(","(",["T_VARIABLE","$digits",219],["T_WHITESPACE"," ",219],"-",["T_WHITESPACE"," ",219],"(",["T_VARIABLE","$digits",219],["T_WHITESPACE"," ",219],"%",["T_WHITESPACE"," ",219],["T_LNUMBER","64",219],")",")",["T_WHITESPACE"," ",219],"\/",["T_WHITESPACE"," ",219],["T_LNUMBER","64",219],")",")",".",["T_STRING","chr",219],"(",["T_LNUMBER","128",219],["T_WHITESPACE"," ",219],"+",["T_WHITESPACE"," ",219],"(",["T_VARIABLE","$digits",219],["T_WHITESPACE"," ",219],"%",["T_WHITESPACE"," ",219],["T_LNUMBER","64",219],")",")",";",["T_WHITESPACE","\n\t\t\t\t",219],"}",["T_WHITESPACE","\n\t\t\t\t",220],["T_ELSE","else",221],["T_WHITESPACE","\n\t\t\t\t",221],"{",["T_WHITESPACE","\n\t\t\t\t\t",222],["T_VARIABLE","$out",223],["T_WHITESPACE"," ",223],["T_CONCAT_EQUAL",".=",223],["T_WHITESPACE"," ",223],["T_STRING","chr",223],"(",["T_LNUMBER","224",223],["T_WHITESPACE"," ",223],"+",["T_WHITESPACE"," ",223],"(","(",["T_VARIABLE","$digits",223],["T_WHITESPACE"," ",223],"-",["T_WHITESPACE"," ",223],"(",["T_VARIABLE","$digits",223],["T_WHITESPACE"," ",223],"%",["T_WHITESPACE"," ",223],["T_LNUMBER","4096",223],")",")",["T_WHITESPACE"," ",223],"\/",["T_WHITESPACE"," ",223],["T_LNUMBER","4096",223],")",")",["T_WHITESPACE","\n\t\t\t\t\t\t",223],".",["T_STRING","chr",224],"(",["T_LNUMBER","128",224],["T_WHITESPACE"," ",224],"+",["T_WHITESPACE"," ",224],"(","(","(",["T_VARIABLE","$digits",224],["T_WHITESPACE"," ",224],"%",["T_WHITESPACE"," ",224],["T_LNUMBER","4096",224],")",["T_WHITESPACE"," ",224],"-",["T_WHITESPACE"," ",224],"(",["T_VARIABLE","$digits",224],["T_WHITESPACE"," ",224],"%",["T_WHITESPACE"," ",224],["T_LNUMBER","64",224],")",")",["T_WHITESPACE"," ",224],"\/",["T_WHITESPACE"," ",224],["T_LNUMBER","64",224],")",")",["T_WHITESPACE","\n\t\t\t\t\t\t",224],".",["T_STRING","chr",225],"(",["T_LNUMBER","128",225],["T_WHITESPACE"," ",225],"+",["T_WHITESPACE"," ",225],"(",["T_VARIABLE","$digits",225],["T_WHITESPACE"," ",225],"%",["T_WHITESPACE"," ",225],["T_LNUMBER","64",225],")",")",";",["T_WHITESPACE","\n\t\t\t\t",225],"}",["T_WHITESPACE","\n\n\t\t\t\t",226],["T_VARIABLE","$str",228],["T_WHITESPACE"," ",228],"=",["T_WHITESPACE"," ",228],["T_STRING","str_replace",228],"(",["T_VARIABLE","$matches",228],"[",["T_LNUMBER","0",228],"]","[",["T_VARIABLE","$i",228],"]",",",["T_WHITESPACE"," ",228],["T_VARIABLE","$out",228],",",["T_WHITESPACE"," ",228],["T_VARIABLE","$str",228],")",";",["T_WHITESPACE","\n\t\t\t",228],"}",["T_WHITESPACE","\n\t\t",229],"}",["T_WHITESPACE","\n\n\t\t",230],["T_IF","if",232],["T_WHITESPACE"," ",232],"(",["T_VARIABLE","$all",232],")",["T_WHITESPACE","\n\t\t",232],"{",["T_WHITESPACE","\n\t\t\t",233],["T_RETURN","return",234],["T_WHITESPACE"," ",234],["T_STRING","str_replace",234],"(",["T_WHITESPACE","\n\t\t\t\t",234],["T_ARRAY","array",235],"(",["T_CONSTANT_ENCAPSED_STRING","'&amp;'",235],",",["T_WHITESPACE"," ",235],["T_CONSTANT_ENCAPSED_STRING","'&lt;'",235],",",["T_WHITESPACE"," ",235],["T_CONSTANT_ENCAPSED_STRING","'&gt;'",235],",",["T_WHITESPACE"," ",235],["T_CONSTANT_ENCAPSED_STRING","'&quot;'",235],",",["T_WHITESPACE"," ",235],["T_CONSTANT_ENCAPSED_STRING","'&apos;'",235],",",["T_WHITESPACE"," ",235],["T_CONSTANT_ENCAPSED_STRING","'&#45;'",235],")",",",["T_WHITESPACE","\n\t\t\t\t",235],["T_ARRAY","array",236],"(",["T_CONSTANT_ENCAPSED_STRING","'&'",236],",",["T_WHITESPACE"," ",236],["T_CONSTANT_ENCAPSED_STRING","'<'",236],",",["T_WHITESPACE"," ",236],["T_CONSTANT_ENCAPSED_STRING","'>'",236],",",["T_WHITESPACE"," ",236],["T_CONSTANT_ENCAPSED_STRING","'\"'",236],",",["T_WHITESPACE"," ",236],["T_CONSTANT_ENCAPSED_STRING","\"'\"",236],",",["T_WHITESPACE"," ",236],["T_CONSTANT_ENCAPSED_STRING","'-'",236],")",",",["T_WHITESPACE","\n\t\t\t\t",236],["T_VARIABLE","$str",237],["T_WHITESPACE","\n\t\t\t",237],")",";",["T_WHITESPACE","\n\t\t",238],"}",["T_WHITESPACE","\n\n\t\t",239],["T_RETURN","return",241],["T_WHITESPACE"," ",241],["T_VARIABLE","$str",241],";",["T_WHITESPACE","\n\t",241],"}",["T_WHITESPACE","\n",242],"}",["T_WHITESPACE","\n\n",243],["T_COMMENT","\/\/ ------------------------------------------------------------------------\n",245],["T_WHITESPACE","\n",246],["T_IF","if",247],["T_WHITESPACE"," ",247],"(",["T_WHITESPACE"," ",247],"!",["T_WHITESPACE"," ",247],["T_STRING","function_exists",247],"(",["T_CONSTANT_ENCAPSED_STRING","'word_censor'",247],")",")",["T_WHITESPACE","\n",247],"{",["T_WHITESPACE","\n\t",248],["T_DOC_COMMENT","\/**\n\t * Word Censoring Function\n\t *\n\t * Supply a string and an array of disallowed words and any\n\t * matched words will be converted to #### or to the replacement\n\t * word you've submitted.\n\t *\n\t * @param\tstring\tthe text string\n\t * @param\tstring\tthe array of censored words\n\t * @param\tstring\tthe optional replacement value\n\t * @return\tstring\n\t *\/",249],["T_WHITESPACE","\n\t",260],["T_FUNCTION","function",261],["T_WHITESPACE"," ",261],["T_STRING","word_censor",261],"(",["T_VARIABLE","$str",261],",",["T_WHITESPACE"," ",261],["T_VARIABLE","$censored",261],",",["T_WHITESPACE"," ",261],["T_VARIABLE","$replacement",261],["T_WHITESPACE"," ",261],"=",["T_WHITESPACE"," ",261],["T_CONSTANT_ENCAPSED_STRING","''",261],")",["T_WHITESPACE","\n\t",261],"{",["T_WHITESPACE","\n\t\t",262],["T_IF","if",263],["T_WHITESPACE"," ",263],"(",["T_WHITESPACE"," ",263],"!",["T_WHITESPACE"," ",263],["T_STRING","is_array",263],"(",["T_VARIABLE","$censored",263],")",")",["T_WHITESPACE","\n\t\t",263],"{",["T_WHITESPACE","\n\t\t\t",264],["T_RETURN","return",265],["T_WHITESPACE"," ",265],["T_VARIABLE","$str",265],";",["T_WHITESPACE","\n\t\t",265],"}",["T_WHITESPACE","\n\n\t\t",266],["T_VARIABLE","$str",268],["T_WHITESPACE"," ",268],"=",["T_WHITESPACE"," ",268],["T_CONSTANT_ENCAPSED_STRING","' '",268],".",["T_VARIABLE","$str",268],".",["T_CONSTANT_ENCAPSED_STRING","' '",268],";",["T_WHITESPACE","\n\n\t\t",268],["T_COMMENT","\/\/ \\w, \\b and a few others do not match on a unicode character\n",270],["T_WHITESPACE","\t\t",271],["T_COMMENT","\/\/ set for performance reasons. As a result words like \u00c3\u00bcber\n",271],["T_WHITESPACE","\t\t",272],["T_COMMENT","\/\/ will not match on a word boundary. Instead, we'll assume that\n",272],["T_WHITESPACE","\t\t",273],["T_COMMENT","\/\/ a bad word will be bookeneded by any of these characters.\n",273],["T_WHITESPACE","\t\t",274],["T_VARIABLE","$delim",274],["T_WHITESPACE"," ",274],"=",["T_WHITESPACE"," ",274],["T_CONSTANT_ENCAPSED_STRING","'[-_\\'\\\"`(){}<>\\[\\]|!?@#%&,.:;^~*+=\\\/ 0-9\\n\\r\\t]'",274],";",["T_WHITESPACE","\n\n\t\t",274],["T_FOREACH","foreach",276],["T_WHITESPACE"," ",276],"(",["T_VARIABLE","$censored",276],["T_WHITESPACE"," ",276],["T_AS","as",276],["T_WHITESPACE"," ",276],["T_VARIABLE","$badword",276],")",["T_WHITESPACE","\n\t\t",276],"{",["T_WHITESPACE","\n\t\t\t",277],["T_VARIABLE","$badword",278],["T_WHITESPACE"," ",278],"=",["T_WHITESPACE"," ",278],["T_STRING","str_replace",278],"(",["T_CONSTANT_ENCAPSED_STRING","'\\*'",278],",",["T_WHITESPACE"," ",278],["T_CONSTANT_ENCAPSED_STRING","'\\w*?'",278],",",["T_WHITESPACE"," ",278],["T_STRING","preg_quote",278],"(",["T_VARIABLE","$badword",278],",",["T_WHITESPACE"," ",278],["T_CONSTANT_ENCAPSED_STRING","'\/'",278],")",")",";",["T_WHITESPACE","\n\t\t\t",278],["T_IF","if",279],["T_WHITESPACE"," ",279],"(",["T_VARIABLE","$replacement",279],["T_WHITESPACE"," ",279],["T_IS_NOT_IDENTICAL","!==",279],["T_WHITESPACE"," ",279],["T_CONSTANT_ENCAPSED_STRING","''",279],")",["T_WHITESPACE","\n\t\t\t",279],"{",["T_WHITESPACE","\n\t\t\t\t",280],["T_VARIABLE","$str",281],["T_WHITESPACE"," ",281],"=",["T_WHITESPACE"," ",281],["T_STRING","preg_replace",281],"(",["T_WHITESPACE","\n\t\t\t\t\t",281],"\"",["T_ENCAPSED_AND_WHITESPACE","\/(",282],["T_CURLY_OPEN","{",282],["T_VARIABLE","$delim",282],"}",["T_ENCAPSED_AND_WHITESPACE",")(",282],"\"",".",["T_VARIABLE","$badword",282],".","\"",["T_ENCAPSED_AND_WHITESPACE",")(",282],["T_CURLY_OPEN","{",282],["T_VARIABLE","$delim",282],"}",["T_ENCAPSED_AND_WHITESPACE",")\/i",282],"\"",",",["T_WHITESPACE","\n\t\t\t\t\t",282],"\"",["T_ENCAPSED_AND_WHITESPACE","\\\\1",283],["T_CURLY_OPEN","{",283],["T_VARIABLE","$replacement",283],"}",["T_ENCAPSED_AND_WHITESPACE","\\\\3",283],"\"",",",["T_WHITESPACE","\n\t\t\t\t\t",283],["T_VARIABLE","$str",284],["T_WHITESPACE","\n\t\t\t\t",284],")",";",["T_WHITESPACE","\n\t\t\t",285],"}",["T_WHITESPACE","\n\t\t\t",286],["T_ELSEIF","elseif",287],["T_WHITESPACE"," ",287],"(",["T_STRING","preg_match_all",287],"(","\"",["T_ENCAPSED_AND_WHITESPACE","\/",287],["T_CURLY_OPEN","{",287],["T_VARIABLE","$delim",287],"}",["T_ENCAPSED_AND_WHITESPACE","(",287],"\"",".",["T_VARIABLE","$badword",287],".","\"",["T_ENCAPSED_AND_WHITESPACE",")",287],["T_CURLY_OPEN","{",287],["T_VARIABLE","$delim",287],"}",["T_ENCAPSED_AND_WHITESPACE","\/i",287],"\"",",",["T_WHITESPACE"," ",287],["T_VARIABLE","$str",287],",",["T_WHITESPACE"," ",287],["T_VARIABLE","$matches",287],",",["T_WHITESPACE"," ",287],["T_STRING","PREG_PATTERN_ORDER",287],["T_WHITESPACE"," ",287],"|",["T_WHITESPACE"," ",287],["T_STRING","PREG_OFFSET_CAPTURE",287],")",")",["T_WHITESPACE","\n\t\t\t",287],"{",["T_WHITESPACE","\n\t\t\t\t",288],["T_VARIABLE","$matches",289],["T_WHITESPACE"," ",289],"=",["T_WHITESPACE"," ",289],["T_VARIABLE","$matches",289],"[",["T_LNUMBER","1",289],"]",";",["T_WHITESPACE","\n\t\t\t\t",289],["T_FOR","for",290],["T_WHITESPACE"," ",290],"(",["T_VARIABLE","$i",290],["T_WHITESPACE"," ",290],"=",["T_WHITESPACE"," ",290],["T_STRING","count",290],"(",["T_VARIABLE","$matches",290],")",["T_WHITESPACE"," ",290],"-",["T_WHITESPACE"," ",290],["T_LNUMBER","1",290],";",["T_WHITESPACE"," ",290],["T_VARIABLE","$i",290],["T_WHITESPACE"," ",290],["T_IS_GREATER_OR_EQUAL",">=",290],["T_WHITESPACE"," ",290],["T_LNUMBER","0",290],";",["T_WHITESPACE"," ",290],["T_VARIABLE","$i",290],["T_DEC","--",290],")",["T_WHITESPACE","\n\t\t\t\t",290],"{",["T_WHITESPACE","\n\t\t\t\t\t",291],["T_VARIABLE","$length",292],["T_WHITESPACE"," ",292],"=",["T_WHITESPACE"," ",292],["T_STRING","strlen",292],"(",["T_VARIABLE","$matches",292],"[",["T_VARIABLE","$i",292],"]","[",["T_LNUMBER","0",292],"]",")",";",["T_WHITESPACE","\n\t\t\t\t\t",292],["T_VARIABLE","$str",293],["T_WHITESPACE"," ",293],"=",["T_WHITESPACE"," ",293],["T_STRING","substr_replace",293],"(",["T_WHITESPACE","\n\t\t\t\t\t\t",293],["T_VARIABLE","$str",294],",",["T_WHITESPACE","\n\t\t\t\t\t\t",294],["T_STRING","str_repeat",295],"(",["T_CONSTANT_ENCAPSED_STRING","'#'",295],",",["T_WHITESPACE"," ",295],["T_VARIABLE","$length",295],")",",",["T_WHITESPACE","\n\t\t\t\t\t\t",295],["T_VARIABLE","$matches",296],"[",["T_VARIABLE","$i",296],"]","[",["T_LNUMBER","1",296],"]",",",["T_WHITESPACE","\n\t\t\t\t\t\t",296],["T_VARIABLE","$length",297],["T_WHITESPACE","\n\t\t\t\t\t",297],")",";",["T_WHITESPACE","\n\t\t\t\t",298],"}",["T_WHITESPACE","\n\t\t\t",299],"}",["T_WHITESPACE","\n\t\t",300],"}",["T_WHITESPACE","\n\n\t\t",301],["T_RETURN","return",303],["T_WHITESPACE"," ",303],["T_STRING","trim",303],"(",["T_VARIABLE","$str",303],")",";",["T_WHITESPACE","\n\t",303],"}",["T_WHITESPACE","\n",304],"}",["T_WHITESPACE","\n\n",305],["T_COMMENT","\/\/ ------------------------------------------------------------------------\n",307],["T_WHITESPACE","\n",308],["T_IF","if",309],["T_WHITESPACE"," ",309],"(",["T_WHITESPACE"," ",309],"!",["T_WHITESPACE"," ",309],["T_STRING","function_exists",309],"(",["T_CONSTANT_ENCAPSED_STRING","'highlight_code'",309],")",")",["T_WHITESPACE","\n",309],"{",["T_WHITESPACE","\n\t",310],["T_DOC_COMMENT","\/**\n\t * Code Highlighter\n\t *\n\t * Colorizes code strings\n\t *\n\t * @param\tstring\tthe text string\n\t * @return\tstring\n\t *\/",311],["T_WHITESPACE","\n\t",318],["T_FUNCTION","function",319],["T_WHITESPACE"," ",319],["T_STRING","highlight_code",319],"(",["T_VARIABLE","$str",319],")",["T_WHITESPACE","\n\t",319],"{",["T_WHITESPACE","\n\t\t",320],["T_COMMENT","\/* The highlight string function encodes and highlights\n\t\t * brackets so we need them to start raw.\n\t\t *\n\t\t * Also replace any existing PHP tags to temporary markers\n\t\t * so they don't accidentally break the string out of PHP,\n\t\t * and thus, thwart the highlighting.\n\t\t *\/",321],["T_WHITESPACE","\n\t\t",327],["T_VARIABLE","$str",328],["T_WHITESPACE"," ",328],"=",["T_WHITESPACE"," ",328],["T_STRING","str_replace",328],"(",["T_WHITESPACE","\n\t\t\t",328],["T_ARRAY","array",329],"(",["T_CONSTANT_ENCAPSED_STRING","'&lt;'",329],",",["T_WHITESPACE"," ",329],["T_CONSTANT_ENCAPSED_STRING","'&gt;'",329],",",["T_WHITESPACE"," ",329],["T_CONSTANT_ENCAPSED_STRING","'<?'",329],",",["T_WHITESPACE"," ",329],["T_CONSTANT_ENCAPSED_STRING","'?>'",329],",",["T_WHITESPACE"," ",329],["T_CONSTANT_ENCAPSED_STRING","'<%'",329],",",["T_WHITESPACE"," ",329],["T_CONSTANT_ENCAPSED_STRING","'%>'",329],",",["T_WHITESPACE"," ",329],["T_CONSTANT_ENCAPSED_STRING","'\\\\'",329],",",["T_WHITESPACE"," ",329],["T_CONSTANT_ENCAPSED_STRING","'<\/script>'",329],")",",",["T_WHITESPACE","\n\t\t\t",329],["T_ARRAY","array",330],"(",["T_CONSTANT_ENCAPSED_STRING","'<'",330],",",["T_WHITESPACE"," ",330],["T_CONSTANT_ENCAPSED_STRING","'>'",330],",",["T_WHITESPACE"," ",330],["T_CONSTANT_ENCAPSED_STRING","'phptagopen'",330],",",["T_WHITESPACE"," ",330],["T_CONSTANT_ENCAPSED_STRING","'phptagclose'",330],",",["T_WHITESPACE"," ",330],["T_CONSTANT_ENCAPSED_STRING","'asptagopen'",330],",",["T_WHITESPACE"," ",330],["T_CONSTANT_ENCAPSED_STRING","'asptagclose'",330],",",["T_WHITESPACE"," ",330],["T_CONSTANT_ENCAPSED_STRING","'backslashtmp'",330],",",["T_WHITESPACE"," ",330],["T_CONSTANT_ENCAPSED_STRING","'scriptclose'",330],")",",",["T_WHITESPACE","\n\t\t\t",330],["T_VARIABLE","$str",331],["T_WHITESPACE","\n\t\t",331],")",";",["T_WHITESPACE","\n\n\t\t",332],["T_COMMENT","\/\/ The highlight_string function requires that the text be surrounded\n",334],["T_WHITESPACE","\t\t",335],["T_COMMENT","\/\/ by PHP tags, which we will remove later\n",335],["T_WHITESPACE","\t\t",336],["T_VARIABLE","$str",336],["T_WHITESPACE"," ",336],"=",["T_WHITESPACE"," ",336],["T_STRING","highlight_string",336],"(",["T_CONSTANT_ENCAPSED_STRING","'<?php '",336],".",["T_VARIABLE","$str",336],".",["T_CONSTANT_ENCAPSED_STRING","' ?>'",336],",",["T_WHITESPACE"," ",336],["T_STRING","TRUE",336],")",";",["T_WHITESPACE","\n\n\t\t",336],["T_COMMENT","\/\/ Remove our artificially added PHP, and the syntax highlighting that came with it\n",338],["T_WHITESPACE","\t\t",339],["T_VARIABLE","$str",339],["T_WHITESPACE"," ",339],"=",["T_WHITESPACE"," ",339],["T_STRING","preg_replace",339],"(",["T_WHITESPACE","\n\t\t\t",339],["T_ARRAY","array",340],"(",["T_WHITESPACE","\n\t\t\t\t",340],["T_CONSTANT_ENCAPSED_STRING","'\/<span style=\"color: #([A-Z0-9]+)\">&lt;\\?php(&nbsp;| )\/i'",341],",",["T_WHITESPACE","\n\t\t\t\t",341],["T_CONSTANT_ENCAPSED_STRING","'\/(<span style=\"color: #[A-Z0-9]+\">.*?)\\?&gt;<\\\/span>\\n<\\\/span>\\n<\\\/code>\/is'",342],",",["T_WHITESPACE","\n\t\t\t\t",342],["T_CONSTANT_ENCAPSED_STRING","'\/<span style=\"color: #[A-Z0-9]+\"\\><\\\/span>\/i'",343],["T_WHITESPACE","\n\t\t\t",343],")",",",["T_WHITESPACE","\n\t\t\t",344],["T_ARRAY","array",345],"(",["T_WHITESPACE","\n\t\t\t\t",345],["T_CONSTANT_ENCAPSED_STRING","'<span style=\"color: #$1\">'",346],",",["T_WHITESPACE","\n\t\t\t\t",346],["T_CONSTANT_ENCAPSED_STRING","\"$1<\/span>\\n<\/span>\\n<\/code>\"",347],",",["T_WHITESPACE","\n\t\t\t\t",347],["T_CONSTANT_ENCAPSED_STRING","''",348],["T_WHITESPACE","\n\t\t\t",348],")",",",["T_WHITESPACE","\n\t\t\t",349],["T_VARIABLE","$str",350],["T_WHITESPACE","\n\t\t",350],")",";",["T_WHITESPACE","\n\n\t\t",351],["T_COMMENT","\/\/ Replace our markers back to PHP tags.\n",353],["T_WHITESPACE","\t\t",354],["T_RETURN","return",354],["T_WHITESPACE"," ",354],["T_STRING","str_replace",354],"(",["T_WHITESPACE","\n\t\t\t",354],["T_ARRAY","array",355],"(",["T_CONSTANT_ENCAPSED_STRING","'phptagopen'",355],",",["T_WHITESPACE"," ",355],["T_CONSTANT_ENCAPSED_STRING","'phptagclose'",355],",",["T_WHITESPACE"," ",355],["T_CONSTANT_ENCAPSED_STRING","'asptagopen'",355],",",["T_WHITESPACE"," ",355],["T_CONSTANT_ENCAPSED_STRING","'asptagclose'",355],",",["T_WHITESPACE"," ",355],["T_CONSTANT_ENCAPSED_STRING","'backslashtmp'",355],",",["T_WHITESPACE"," ",355],["T_CONSTANT_ENCAPSED_STRING","'scriptclose'",355],")",",",["T_WHITESPACE","\n\t\t\t",355],["T_ARRAY","array",356],"(",["T_CONSTANT_ENCAPSED_STRING","'&lt;?'",356],",",["T_WHITESPACE"," ",356],["T_CONSTANT_ENCAPSED_STRING","'?&gt;'",356],",",["T_WHITESPACE"," ",356],["T_CONSTANT_ENCAPSED_STRING","'&lt;%'",356],",",["T_WHITESPACE"," ",356],["T_CONSTANT_ENCAPSED_STRING","'%&gt;'",356],",",["T_WHITESPACE"," ",356],["T_CONSTANT_ENCAPSED_STRING","'\\\\'",356],",",["T_WHITESPACE"," ",356],["T_CONSTANT_ENCAPSED_STRING","'&lt;\/script&gt;'",356],")",",",["T_WHITESPACE","\n\t\t\t",356],["T_VARIABLE","$str",357],["T_WHITESPACE","\n\t\t",357],")",";",["T_WHITESPACE","\n\t",358],"}",["T_WHITESPACE","\n",359],"}",["T_WHITESPACE","\n\n",360],["T_COMMENT","\/\/ ------------------------------------------------------------------------\n",362],["T_WHITESPACE","\n",363],["T_IF","if",364],["T_WHITESPACE"," ",364],"(",["T_WHITESPACE"," ",364],"!",["T_WHITESPACE"," ",364],["T_STRING","function_exists",364],"(",["T_CONSTANT_ENCAPSED_STRING","'highlight_phrase'",364],")",")",["T_WHITESPACE","\n",364],"{",["T_WHITESPACE","\n\t",365],["T_DOC_COMMENT","\/**\n\t * Phrase Highlighter\n\t *\n\t * Highlights a phrase within a text string\n\t *\n\t * @param\tstring\t$str\t\tthe text string\n\t * @param\tstring\t$phrase\t\tthe phrase you'd like to highlight\n\t * @param\tstring\t$tag_open\tthe openging tag to precede the phrase with\n\t * @param\tstring\t$tag_close\tthe closing tag to end the phrase with\n\t * @return\tstring\n\t *\/",366],["T_WHITESPACE","\n\t",376],["T_FUNCTION","function",377],["T_WHITESPACE"," ",377],["T_STRING","highlight_phrase",377],"(",["T_VARIABLE","$str",377],",",["T_WHITESPACE"," ",377],["T_VARIABLE","$phrase",377],",",["T_WHITESPACE"," ",377],["T_VARIABLE","$tag_open",377],["T_WHITESPACE"," ",377],"=",["T_WHITESPACE"," ",377],["T_CONSTANT_ENCAPSED_STRING","'<mark>'",377],",",["T_WHITESPACE"," ",377],["T_VARIABLE","$tag_close",377],["T_WHITESPACE"," ",377],"=",["T_WHITESPACE"," ",377],["T_CONSTANT_ENCAPSED_STRING","'<\/mark>'",377],")",["T_WHITESPACE","\n\t",377],"{",["T_WHITESPACE","\n\t\t",378],["T_RETURN","return",379],["T_WHITESPACE"," ",379],"(",["T_VARIABLE","$str",379],["T_WHITESPACE"," ",379],["T_IS_NOT_IDENTICAL","!==",379],["T_WHITESPACE"," ",379],["T_CONSTANT_ENCAPSED_STRING","''",379],["T_WHITESPACE"," ",379],["T_BOOLEAN_AND","&&",379],["T_WHITESPACE"," ",379],["T_VARIABLE","$phrase",379],["T_WHITESPACE"," ",379],["T_IS_NOT_IDENTICAL","!==",379],["T_WHITESPACE"," ",379],["T_CONSTANT_ENCAPSED_STRING","''",379],")",["T_WHITESPACE","\n\t\t\t",379],"?",["T_WHITESPACE"," ",380],["T_STRING","preg_replace",380],"(",["T_CONSTANT_ENCAPSED_STRING","'\/('",380],".",["T_STRING","preg_quote",380],"(",["T_VARIABLE","$phrase",380],",",["T_WHITESPACE"," ",380],["T_CONSTANT_ENCAPSED_STRING","'\/'",380],")",".",["T_CONSTANT_ENCAPSED_STRING","')\/i'",380],".","(",["T_STRING","UTF8_ENABLED",380],["T_WHITESPACE"," ",380],"?",["T_WHITESPACE"," ",380],["T_CONSTANT_ENCAPSED_STRING","'u'",380],["T_WHITESPACE"," ",380],":",["T_WHITESPACE"," ",380],["T_CONSTANT_ENCAPSED_STRING","''",380],")",",",["T_WHITESPACE"," ",380],["T_VARIABLE","$tag_open",380],".",["T_CONSTANT_ENCAPSED_STRING","'\\\\1'",380],".",["T_VARIABLE","$tag_close",380],",",["T_WHITESPACE"," ",380],["T_VARIABLE","$str",380],")",["T_WHITESPACE","\n\t\t\t",380],":",["T_WHITESPACE"," ",381],["T_VARIABLE","$str",381],";",["T_WHITESPACE","\n\t",381],"}",["T_WHITESPACE","\n",382],"}",["T_WHITESPACE","\n\n",383],["T_COMMENT","\/\/ ------------------------------------------------------------------------\n",385],["T_WHITESPACE","\n",386],["T_IF","if",387],["T_WHITESPACE"," ",387],"(",["T_WHITESPACE"," ",387],"!",["T_WHITESPACE"," ",387],["T_STRING","function_exists",387],"(",["T_CONSTANT_ENCAPSED_STRING","'convert_accented_characters'",387],")",")",["T_WHITESPACE","\n",387],"{",["T_WHITESPACE","\n\t",388],["T_DOC_COMMENT","\/**\n\t * Convert Accented Foreign Characters to ASCII\n\t *\n\t * @param\tstring\t$str\tInput string\n\t * @return\tstring\n\t *\/",389],["T_WHITESPACE","\n\t",394],["T_FUNCTION","function",395],["T_WHITESPACE"," ",395],["T_STRING","convert_accented_characters",395],"(",["T_VARIABLE","$str",395],")",["T_WHITESPACE","\n\t",395],"{",["T_WHITESPACE","\n\t\t",396],["T_STATIC","static",397],["T_WHITESPACE"," ",397],["T_VARIABLE","$array_from",397],",",["T_WHITESPACE"," ",397],["T_VARIABLE","$array_to",397],";",["T_WHITESPACE","\n\n\t\t",397],["T_IF","if",399],["T_WHITESPACE"," ",399],"(",["T_WHITESPACE"," ",399],"!",["T_WHITESPACE"," ",399],["T_STRING","is_array",399],"(",["T_VARIABLE","$array_from",399],")",")",["T_WHITESPACE","\n\t\t",399],"{",["T_WHITESPACE","\n\t\t\t",400],["T_IF","if",401],["T_WHITESPACE"," ",401],"(",["T_STRING","file_exists",401],"(",["T_STRING","APPPATH",401],".",["T_CONSTANT_ENCAPSED_STRING","'config\/foreign_chars.php'",401],")",")",["T_WHITESPACE","\n\t\t\t",401],"{",["T_WHITESPACE","\n\t\t\t\t",402],["T_INCLUDE","include",403],"(",["T_STRING","APPPATH",403],".",["T_CONSTANT_ENCAPSED_STRING","'config\/foreign_chars.php'",403],")",";",["T_WHITESPACE","\n\t\t\t",403],"}",["T_WHITESPACE","\n\n\t\t\t",404],["T_IF","if",406],["T_WHITESPACE"," ",406],"(",["T_STRING","file_exists",406],"(",["T_STRING","APPPATH",406],".",["T_CONSTANT_ENCAPSED_STRING","'config\/'",406],".",["T_STRING","ENVIRONMENT",406],".",["T_CONSTANT_ENCAPSED_STRING","'\/foreign_chars.php'",406],")",")",["T_WHITESPACE","\n\t\t\t",406],"{",["T_WHITESPACE","\n\t\t\t\t",407],["T_INCLUDE","include",408],"(",["T_STRING","APPPATH",408],".",["T_CONSTANT_ENCAPSED_STRING","'config\/'",408],".",["T_STRING","ENVIRONMENT",408],".",["T_CONSTANT_ENCAPSED_STRING","'\/foreign_chars.php'",408],")",";",["T_WHITESPACE","\n\t\t\t",408],"}",["T_WHITESPACE","\n\n\t\t\t",409],["T_IF","if",411],["T_WHITESPACE"," ",411],"(",["T_EMPTY","empty",411],"(",["T_VARIABLE","$foreign_characters",411],")",["T_WHITESPACE"," ",411],["T_LOGICAL_OR","OR",411],["T_WHITESPACE"," ",411],"!",["T_WHITESPACE"," ",411],["T_STRING","is_array",411],"(",["T_VARIABLE","$foreign_characters",411],")",")",["T_WHITESPACE","\n\t\t\t",411],"{",["T_WHITESPACE","\n\t\t\t\t",412],["T_VARIABLE","$array_from",413],["T_WHITESPACE"," ",413],"=",["T_WHITESPACE"," ",413],["T_ARRAY","array",413],"(",")",";",["T_WHITESPACE","\n\t\t\t\t",413],["T_VARIABLE","$array_to",414],["T_WHITESPACE"," ",414],"=",["T_WHITESPACE"," ",414],["T_ARRAY","array",414],"(",")",";",["T_WHITESPACE","\n\n\t\t\t\t",414],["T_RETURN","return",416],["T_WHITESPACE"," ",416],["T_VARIABLE","$str",416],";",["T_WHITESPACE","\n\t\t\t",416],"}",["T_WHITESPACE","\n\n\t\t\t",417],["T_VARIABLE","$array_from",419],["T_WHITESPACE"," ",419],"=",["T_WHITESPACE"," ",419],["T_STRING","array_keys",419],"(",["T_VARIABLE","$foreign_characters",419],")",";",["T_WHITESPACE","\n\t\t\t",419],["T_VARIABLE","$array_to",420],["T_WHITESPACE"," ",420],"=",["T_WHITESPACE"," ",420],["T_STRING","array_values",420],"(",["T_VARIABLE","$foreign_characters",420],")",";",["T_WHITESPACE","\n\t\t",420],"}",["T_WHITESPACE","\n\n\t\t",421],["T_RETURN","return",423],["T_WHITESPACE"," ",423],["T_STRING","preg_replace",423],"(",["T_VARIABLE","$array_from",423],",",["T_WHITESPACE"," ",423],["T_VARIABLE","$array_to",423],",",["T_WHITESPACE"," ",423],["T_VARIABLE","$str",423],")",";",["T_WHITESPACE","\n\t",423],"}",["T_WHITESPACE","\n",424],"}",["T_WHITESPACE","\n\n",425],["T_COMMENT","\/\/ ------------------------------------------------------------------------\n",427],["T_WHITESPACE","\n",428],["T_IF","if",429],["T_WHITESPACE"," ",429],"(",["T_WHITESPACE"," ",429],"!",["T_WHITESPACE"," ",429],["T_STRING","function_exists",429],"(",["T_CONSTANT_ENCAPSED_STRING","'word_wrap'",429],")",")",["T_WHITESPACE","\n",429],"{",["T_WHITESPACE","\n\t",430],["T_DOC_COMMENT","\/**\n\t * Word Wrap\n\t *\n\t * Wraps text at the specified character. Maintains the integrity of words.\n\t * Anything placed between {unwrap}{\/unwrap} will not be word wrapped, nor\n\t * will URLs.\n\t *\n\t * @param\tstring\t$str\t\tthe text string\n\t * @param\tint\t$charlim = 76\tthe number of characters to wrap at\n\t * @return\tstring\n\t *\/",431],["T_WHITESPACE","\n\t",441],["T_FUNCTION","function",442],["T_WHITESPACE"," ",442],["T_STRING","word_wrap",442],"(",["T_VARIABLE","$str",442],",",["T_WHITESPACE"," ",442],["T_VARIABLE","$charlim",442],["T_WHITESPACE"," ",442],"=",["T_WHITESPACE"," ",442],["T_LNUMBER","76",442],")",["T_WHITESPACE","\n\t",442],"{",["T_WHITESPACE","\n\t\t",443],["T_COMMENT","\/\/ Set the character limit\n",444],["T_WHITESPACE","\t\t",445],["T_STRING","is_numeric",445],"(",["T_VARIABLE","$charlim",445],")",["T_WHITESPACE"," ",445],["T_LOGICAL_OR","OR",445],["T_WHITESPACE"," ",445],["T_VARIABLE","$charlim",445],["T_WHITESPACE"," ",445],"=",["T_WHITESPACE"," ",445],["T_LNUMBER","76",445],";",["T_WHITESPACE","\n\n\t\t",445],["T_COMMENT","\/\/ Reduce multiple spaces\n",447],["T_WHITESPACE","\t\t",448],["T_VARIABLE","$str",448],["T_WHITESPACE"," ",448],"=",["T_WHITESPACE"," ",448],["T_STRING","preg_replace",448],"(",["T_CONSTANT_ENCAPSED_STRING","'| +|'",448],",",["T_WHITESPACE"," ",448],["T_CONSTANT_ENCAPSED_STRING","' '",448],",",["T_WHITESPACE"," ",448],["T_VARIABLE","$str",448],")",";",["T_WHITESPACE","\n\n\t\t",448],["T_COMMENT","\/\/ Standardize newlines\n",450],["T_WHITESPACE","\t\t",451],["T_IF","if",451],["T_WHITESPACE"," ",451],"(",["T_STRING","strpos",451],"(",["T_VARIABLE","$str",451],",",["T_WHITESPACE"," ",451],["T_CONSTANT_ENCAPSED_STRING","\"\\r\"",451],")",["T_WHITESPACE"," ",451],["T_IS_NOT_IDENTICAL","!==",451],["T_WHITESPACE"," ",451],["T_STRING","FALSE",451],")",["T_WHITESPACE","\n\t\t",451],"{",["T_WHITESPACE","\n\t\t\t",452],["T_VARIABLE","$str",453],["T_WHITESPACE"," ",453],"=",["T_WHITESPACE"," ",453],["T_STRING","str_replace",453],"(",["T_ARRAY","array",453],"(",["T_CONSTANT_ENCAPSED_STRING","\"\\r\\n\"",453],",",["T_WHITESPACE"," ",453],["T_CONSTANT_ENCAPSED_STRING","\"\\r\"",453],")",",",["T_WHITESPACE"," ",453],["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",453],",",["T_WHITESPACE"," ",453],["T_VARIABLE","$str",453],")",";",["T_WHITESPACE","\n\t\t",453],"}",["T_WHITESPACE","\n\n\t\t",454],["T_COMMENT","\/\/ If the current word is surrounded by {unwrap} tags we'll\n",456],["T_WHITESPACE","\t\t",457],["T_COMMENT","\/\/ strip the entire chunk and replace it with a marker.\n",457],["T_WHITESPACE","\t\t",458],["T_VARIABLE","$unwrap",458],["T_WHITESPACE"," ",458],"=",["T_WHITESPACE"," ",458],["T_ARRAY","array",458],"(",")",";",["T_WHITESPACE","\n\t\t",458],["T_IF","if",459],["T_WHITESPACE"," ",459],"(",["T_STRING","preg_match_all",459],"(",["T_CONSTANT_ENCAPSED_STRING","'|\\{unwrap\\}(.+?)\\{\/unwrap\\}|s'",459],",",["T_WHITESPACE"," ",459],["T_VARIABLE","$str",459],",",["T_WHITESPACE"," ",459],["T_VARIABLE","$matches",459],")",")",["T_WHITESPACE","\n\t\t",459],"{",["T_WHITESPACE","\n\t\t\t",460],["T_FOR","for",461],["T_WHITESPACE"," ",461],"(",["T_VARIABLE","$i",461],["T_WHITESPACE"," ",461],"=",["T_WHITESPACE"," ",461],["T_LNUMBER","0",461],",",["T_WHITESPACE"," ",461],["T_VARIABLE","$c",461],["T_WHITESPACE"," ",461],"=",["T_WHITESPACE"," ",461],["T_STRING","count",461],"(",["T_VARIABLE","$matches",461],"[",["T_LNUMBER","0",461],"]",")",";",["T_WHITESPACE"," ",461],["T_VARIABLE","$i",461],["T_WHITESPACE"," ",461],"<",["T_WHITESPACE"," ",461],["T_VARIABLE","$c",461],";",["T_WHITESPACE"," ",461],["T_VARIABLE","$i",461],["T_INC","++",461],")",["T_WHITESPACE","\n\t\t\t",461],"{",["T_WHITESPACE","\n\t\t\t\t",462],["T_VARIABLE","$unwrap",463],"[","]",["T_WHITESPACE"," ",463],"=",["T_WHITESPACE"," ",463],["T_VARIABLE","$matches",463],"[",["T_LNUMBER","1",463],"]","[",["T_VARIABLE","$i",463],"]",";",["T_WHITESPACE","\n\t\t\t\t",463],["T_VARIABLE","$str",464],["T_WHITESPACE"," ",464],"=",["T_WHITESPACE"," ",464],["T_STRING","str_replace",464],"(",["T_VARIABLE","$matches",464],"[",["T_LNUMBER","0",464],"]","[",["T_VARIABLE","$i",464],"]",",",["T_WHITESPACE"," ",464],["T_CONSTANT_ENCAPSED_STRING","'{{unwrapped'",464],".",["T_VARIABLE","$i",464],".",["T_CONSTANT_ENCAPSED_STRING","'}}'",464],",",["T_WHITESPACE"," ",464],["T_VARIABLE","$str",464],")",";",["T_WHITESPACE","\n\t\t\t",464],"}",["T_WHITESPACE","\n\t\t",465],"}",["T_WHITESPACE","\n\n\t\t",466],["T_COMMENT","\/\/ Use PHP's native function to do the initial wordwrap.\n",468],["T_WHITESPACE","\t\t",469],["T_COMMENT","\/\/ We set the cut flag to FALSE so that any individual words that are\n",469],["T_WHITESPACE","\t\t",470],["T_COMMENT","\/\/ too long get left alone. In the next step we'll deal with them.\n",470],["T_WHITESPACE","\t\t",471],["T_VARIABLE","$str",471],["T_WHITESPACE"," ",471],"=",["T_WHITESPACE"," ",471],["T_STRING","wordwrap",471],"(",["T_VARIABLE","$str",471],",",["T_WHITESPACE"," ",471],["T_VARIABLE","$charlim",471],",",["T_WHITESPACE"," ",471],["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",471],",",["T_WHITESPACE"," ",471],["T_STRING","FALSE",471],")",";",["T_WHITESPACE","\n\n\t\t",471],["T_COMMENT","\/\/ Split the string into individual lines of text and cycle through them\n",473],["T_WHITESPACE","\t\t",474],["T_VARIABLE","$output",474],["T_WHITESPACE"," ",474],"=",["T_WHITESPACE"," ",474],["T_CONSTANT_ENCAPSED_STRING","''",474],";",["T_WHITESPACE","\n\t\t",474],["T_FOREACH","foreach",475],["T_WHITESPACE"," ",475],"(",["T_STRING","explode",475],"(",["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",475],",",["T_WHITESPACE"," ",475],["T_VARIABLE","$str",475],")",["T_WHITESPACE"," ",475],["T_AS","as",475],["T_WHITESPACE"," ",475],["T_VARIABLE","$line",475],")",["T_WHITESPACE","\n\t\t",475],"{",["T_WHITESPACE","\n\t\t\t",476],["T_COMMENT","\/\/ Is the line within the allowed character count?\n",477],["T_WHITESPACE","\t\t\t",478],["T_COMMENT","\/\/ If so we'll join it to the output and continue\n",478],["T_WHITESPACE","\t\t\t",479],["T_IF","if",479],["T_WHITESPACE"," ",479],"(",["T_STRING","mb_strlen",479],"(",["T_VARIABLE","$line",479],")",["T_WHITESPACE"," ",479],["T_IS_SMALLER_OR_EQUAL","<=",479],["T_WHITESPACE"," ",479],["T_VARIABLE","$charlim",479],")",["T_WHITESPACE","\n\t\t\t",479],"{",["T_WHITESPACE","\n\t\t\t\t",480],["T_VARIABLE","$output",481],["T_WHITESPACE"," ",481],["T_CONCAT_EQUAL",".=",481],["T_WHITESPACE"," ",481],["T_VARIABLE","$line",481],".",["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",481],";",["T_WHITESPACE","\n\t\t\t\t",481],["T_CONTINUE","continue",482],";",["T_WHITESPACE","\n\t\t\t",482],"}",["T_WHITESPACE","\n\n\t\t\t",483],["T_VARIABLE","$temp",485],["T_WHITESPACE"," ",485],"=",["T_WHITESPACE"," ",485],["T_CONSTANT_ENCAPSED_STRING","''",485],";",["T_WHITESPACE","\n\t\t\t",485],["T_WHILE","while",486],["T_WHITESPACE"," ",486],"(",["T_STRING","mb_strlen",486],"(",["T_VARIABLE","$line",486],")",["T_WHITESPACE"," ",486],">",["T_WHITESPACE"," ",486],["T_VARIABLE","$charlim",486],")",["T_WHITESPACE","\n\t\t\t",486],"{",["T_WHITESPACE","\n\t\t\t\t",487],["T_COMMENT","\/\/ If the over-length word is a URL we won't wrap it\n",488],["T_WHITESPACE","\t\t\t\t",489],["T_IF","if",489],["T_WHITESPACE"," ",489],"(",["T_STRING","preg_match",489],"(",["T_CONSTANT_ENCAPSED_STRING","'!\\[url.+\\]|:\/\/|www\\.!'",489],",",["T_WHITESPACE"," ",489],["T_VARIABLE","$line",489],")",")",["T_WHITESPACE","\n\t\t\t\t",489],"{",["T_WHITESPACE","\n\t\t\t\t\t",490],["T_BREAK","break",491],";",["T_WHITESPACE","\n\t\t\t\t",491],"}",["T_WHITESPACE","\n\n\t\t\t\t",492],["T_COMMENT","\/\/ Trim the word down\n",494],["T_WHITESPACE","\t\t\t\t",495],["T_VARIABLE","$temp",495],["T_WHITESPACE"," ",495],["T_CONCAT_EQUAL",".=",495],["T_WHITESPACE"," ",495],["T_STRING","mb_substr",495],"(",["T_VARIABLE","$line",495],",",["T_WHITESPACE"," ",495],["T_LNUMBER","0",495],",",["T_WHITESPACE"," ",495],["T_VARIABLE","$charlim",495],["T_WHITESPACE"," ",495],"-",["T_WHITESPACE"," ",495],["T_LNUMBER","1",495],")",";",["T_WHITESPACE","\n\t\t\t\t",495],["T_VARIABLE","$line",496],["T_WHITESPACE"," ",496],"=",["T_WHITESPACE"," ",496],["T_STRING","mb_substr",496],"(",["T_VARIABLE","$line",496],",",["T_WHITESPACE"," ",496],["T_VARIABLE","$charlim",496],["T_WHITESPACE"," ",496],"-",["T_WHITESPACE"," ",496],["T_LNUMBER","1",496],")",";",["T_WHITESPACE","\n\t\t\t",496],"}",["T_WHITESPACE","\n\n\t\t\t",497],["T_COMMENT","\/\/ If $temp contains data it means we had to split up an over-length\n",499],["T_WHITESPACE","\t\t\t",500],["T_COMMENT","\/\/ word into smaller chunks so we'll add it back to our current line\n",500],["T_WHITESPACE","\t\t\t",501],["T_IF","if",501],["T_WHITESPACE"," ",501],"(",["T_VARIABLE","$temp",501],["T_WHITESPACE"," ",501],["T_IS_NOT_IDENTICAL","!==",501],["T_WHITESPACE"," ",501],["T_CONSTANT_ENCAPSED_STRING","''",501],")",["T_WHITESPACE","\n\t\t\t",501],"{",["T_WHITESPACE","\n\t\t\t\t",502],["T_VARIABLE","$output",503],["T_WHITESPACE"," ",503],["T_CONCAT_EQUAL",".=",503],["T_WHITESPACE"," ",503],["T_VARIABLE","$temp",503],".",["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",503],".",["T_VARIABLE","$line",503],".",["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",503],";",["T_WHITESPACE","\n\t\t\t",503],"}",["T_WHITESPACE","\n\t\t\t",504],["T_ELSE","else",505],["T_WHITESPACE","\n\t\t\t",505],"{",["T_WHITESPACE","\n\t\t\t\t",506],["T_VARIABLE","$output",507],["T_WHITESPACE"," ",507],["T_CONCAT_EQUAL",".=",507],["T_WHITESPACE"," ",507],["T_VARIABLE","$line",507],".",["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",507],";",["T_WHITESPACE","\n\t\t\t",507],"}",["T_WHITESPACE","\n\t\t",508],"}",["T_WHITESPACE","\n\n\t\t",509],["T_COMMENT","\/\/ Put our markers back\n",511],["T_WHITESPACE","\t\t",512],["T_IF","if",512],["T_WHITESPACE"," ",512],"(",["T_STRING","count",512],"(",["T_VARIABLE","$unwrap",512],")",["T_WHITESPACE"," ",512],">",["T_WHITESPACE"," ",512],["T_LNUMBER","0",512],")",["T_WHITESPACE","\n\t\t",512],"{",["T_WHITESPACE","\n\t\t\t",513],["T_FOREACH","foreach",514],["T_WHITESPACE"," ",514],"(",["T_VARIABLE","$unwrap",514],["T_WHITESPACE"," ",514],["T_AS","as",514],["T_WHITESPACE"," ",514],["T_VARIABLE","$key",514],["T_WHITESPACE"," ",514],["T_DOUBLE_ARROW","=>",514],["T_WHITESPACE"," ",514],["T_VARIABLE","$val",514],")",["T_WHITESPACE","\n\t\t\t",514],"{",["T_WHITESPACE","\n\t\t\t\t",515],["T_VARIABLE","$output",516],["T_WHITESPACE"," ",516],"=",["T_WHITESPACE"," ",516],["T_STRING","str_replace",516],"(",["T_CONSTANT_ENCAPSED_STRING","'{{unwrapped'",516],".",["T_VARIABLE","$key",516],".",["T_CONSTANT_ENCAPSED_STRING","'}}'",516],",",["T_WHITESPACE"," ",516],["T_VARIABLE","$val",516],",",["T_WHITESPACE"," ",516],["T_VARIABLE","$output",516],")",";",["T_WHITESPACE","\n\t\t\t",516],"}",["T_WHITESPACE","\n\t\t",517],"}",["T_WHITESPACE","\n\n\t\t",518],["T_RETURN","return",520],["T_WHITESPACE"," ",520],["T_VARIABLE","$output",520],";",["T_WHITESPACE","\n\t",520],"}",["T_WHITESPACE","\n",521],"}",["T_WHITESPACE","\n\n",522],["T_COMMENT","\/\/ ------------------------------------------------------------------------\n",524],["T_WHITESPACE","\n",525],["T_IF","if",526],["T_WHITESPACE"," ",526],"(",["T_WHITESPACE"," ",526],"!",["T_WHITESPACE"," ",526],["T_STRING","function_exists",526],"(",["T_CONSTANT_ENCAPSED_STRING","'ellipsize'",526],")",")",["T_WHITESPACE","\n",526],"{",["T_WHITESPACE","\n\t",527],["T_DOC_COMMENT","\/**\n\t * Ellipsize String\n\t *\n\t * This function will strip tags from a string, split it at its max_length and ellipsize\n\t *\n\t * @param\tstring\tstring to ellipsize\n\t * @param\tint\tmax length of string\n\t * @param\tmixed\tint (1|0) or float, .5, .2, etc for position to split\n\t * @param\tstring\tellipsis ; Default '...'\n\t * @return\tstring\tellipsized string\n\t *\/",528],["T_WHITESPACE","\n\t",538],["T_FUNCTION","function",539],["T_WHITESPACE"," ",539],["T_STRING","ellipsize",539],"(",["T_VARIABLE","$str",539],",",["T_WHITESPACE"," ",539],["T_VARIABLE","$max_length",539],",",["T_WHITESPACE"," ",539],["T_VARIABLE","$position",539],["T_WHITESPACE"," ",539],"=",["T_WHITESPACE"," ",539],["T_LNUMBER","1",539],",",["T_WHITESPACE"," ",539],["T_VARIABLE","$ellipsis",539],["T_WHITESPACE"," ",539],"=",["T_WHITESPACE"," ",539],["T_CONSTANT_ENCAPSED_STRING","'&hellip;'",539],")",["T_WHITESPACE","\n\t",539],"{",["T_WHITESPACE","\n\t\t",540],["T_COMMENT","\/\/ Strip tags\n",541],["T_WHITESPACE","\t\t",542],["T_VARIABLE","$str",542],["T_WHITESPACE"," ",542],"=",["T_WHITESPACE"," ",542],["T_STRING","trim",542],"(",["T_STRING","strip_tags",542],"(",["T_VARIABLE","$str",542],")",")",";",["T_WHITESPACE","\n\n\t\t",542],["T_COMMENT","\/\/ Is the string long enough to ellipsize?\n",544],["T_WHITESPACE","\t\t",545],["T_IF","if",545],["T_WHITESPACE"," ",545],"(",["T_STRING","mb_strlen",545],"(",["T_VARIABLE","$str",545],")",["T_WHITESPACE"," ",545],["T_IS_SMALLER_OR_EQUAL","<=",545],["T_WHITESPACE"," ",545],["T_VARIABLE","$max_length",545],")",["T_WHITESPACE","\n\t\t",545],"{",["T_WHITESPACE","\n\t\t\t",546],["T_RETURN","return",547],["T_WHITESPACE"," ",547],["T_VARIABLE","$str",547],";",["T_WHITESPACE","\n\t\t",547],"}",["T_WHITESPACE","\n\n\t\t",548],["T_VARIABLE","$beg",550],["T_WHITESPACE"," ",550],"=",["T_WHITESPACE"," ",550],["T_STRING","mb_substr",550],"(",["T_VARIABLE","$str",550],",",["T_WHITESPACE"," ",550],["T_LNUMBER","0",550],",",["T_WHITESPACE"," ",550],["T_STRING","floor",550],"(",["T_VARIABLE","$max_length",550],["T_WHITESPACE"," ",550],"*",["T_WHITESPACE"," ",550],["T_VARIABLE","$position",550],")",")",";",["T_WHITESPACE","\n\t\t",550],["T_VARIABLE","$position",551],["T_WHITESPACE"," ",551],"=",["T_WHITESPACE"," ",551],"(",["T_VARIABLE","$position",551],["T_WHITESPACE"," ",551],">",["T_WHITESPACE"," ",551],["T_LNUMBER","1",551],")",["T_WHITESPACE"," ",551],"?",["T_WHITESPACE"," ",551],["T_LNUMBER","1",551],["T_WHITESPACE"," ",551],":",["T_WHITESPACE"," ",551],["T_VARIABLE","$position",551],";",["T_WHITESPACE","\n\n\t\t",551],["T_IF","if",553],["T_WHITESPACE"," ",553],"(",["T_VARIABLE","$position",553],["T_WHITESPACE"," ",553],["T_IS_IDENTICAL","===",553],["T_WHITESPACE"," ",553],["T_LNUMBER","1",553],")",["T_WHITESPACE","\n\t\t",553],"{",["T_WHITESPACE","\n\t\t\t",554],["T_VARIABLE","$end",555],["T_WHITESPACE"," ",555],"=",["T_WHITESPACE"," ",555],["T_STRING","mb_substr",555],"(",["T_VARIABLE","$str",555],",",["T_WHITESPACE"," ",555],["T_LNUMBER","0",555],",",["T_WHITESPACE"," ",555],"-","(",["T_VARIABLE","$max_length",555],["T_WHITESPACE"," ",555],"-",["T_WHITESPACE"," ",555],["T_STRING","mb_strlen",555],"(",["T_VARIABLE","$beg",555],")",")",")",";",["T_WHITESPACE","\n\t\t",555],"}",["T_WHITESPACE","\n\t\t",556],["T_ELSE","else",557],["T_WHITESPACE","\n\t\t",557],"{",["T_WHITESPACE","\n\t\t\t",558],["T_VARIABLE","$end",559],["T_WHITESPACE"," ",559],"=",["T_WHITESPACE"," ",559],["T_STRING","mb_substr",559],"(",["T_VARIABLE","$str",559],",",["T_WHITESPACE"," ",559],"-","(",["T_VARIABLE","$max_length",559],["T_WHITESPACE"," ",559],"-",["T_WHITESPACE"," ",559],["T_STRING","mb_strlen",559],"(",["T_VARIABLE","$beg",559],")",")",")",";",["T_WHITESPACE","\n\t\t",559],"}",["T_WHITESPACE","\n\n\t\t",560],["T_RETURN","return",562],["T_WHITESPACE"," ",562],["T_VARIABLE","$beg",562],".",["T_VARIABLE","$ellipsis",562],".",["T_VARIABLE","$end",562],";",["T_WHITESPACE","\n\t",562],"}",["T_WHITESPACE","\n",563],"}",["T_WHITESPACE","\n",564]]