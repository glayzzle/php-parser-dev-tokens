[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * CodeIgniter\n *\n * An open source application development framework for PHP\n *\n * This content is released under the MIT License (MIT)\n *\n * Copyright (c) 2014 - 2017, British Columbia Institute of Technology\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and\/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n *\n * @package\tCodeIgniter\n * @author\tEllisLab Dev Team\n * @copyright\tCopyright (c) 2008 - 2014, EllisLab, Inc. (https:\/\/ellislab.com\/)\n * @copyright\tCopyright (c) 2014 - 2017, British Columbia Institute of Technology (http:\/\/bcit.ca\/)\n * @license\thttp:\/\/opensource.org\/licenses\/MIT\tMIT License\n * @link\thttps:\/\/codeigniter.com\n * @since\tVersion 1.4.1\n * @filesource\n *\/",2],["T_WHITESPACE","\n",37],["T_STRING","defined",38],"(",["T_CONSTANT_ENCAPSED_STRING","'BASEPATH'",38],")",["T_WHITESPACE"," ",38],["T_LOGICAL_OR","OR",38],["T_WHITESPACE"," ",38],["T_EXIT","exit",38],"(",["T_CONSTANT_ENCAPSED_STRING","'No direct script access allowed'",38],")",";",["T_WHITESPACE","\n\n",38],["T_DOC_COMMENT","\/**\n * oci8 Database Adapter Class\n *\n * Note: _DB is an extender class that the app controller\n * creates dynamically based on whether the query builder\n * class is being used or not.\n *\n * @package\t\tCodeIgniter\n * @subpackage  Drivers\n * @category\tDatabase\n * @author\t\tEllisLab Dev Team\n * @link\t\thttps:\/\/codeigniter.com\/user_guide\/database\/\n *\/",40],["T_WHITESPACE","\n\n",52],["T_DOC_COMMENT","\/**\n * oci8 Database Adapter Class\n *\n * This is a modification of the DB_driver class to\n * permit access to oracle databases\n *\n * @author\t  Kelly McArdle\n *\/",54],["T_WHITESPACE","\n",61],["T_CLASS","class",62],["T_WHITESPACE"," ",62],["T_STRING","CI_DB_oci8_driver",62],["T_WHITESPACE"," ",62],["T_EXTENDS","extends",62],["T_WHITESPACE"," ",62],["T_STRING","CI_DB",62],["T_WHITESPACE"," ",62],"{",["T_WHITESPACE","\n\n\t",62],["T_DOC_COMMENT","\/**\n\t * Database driver\n\t *\n\t * @var\tstring\n\t *\/",64],["T_WHITESPACE","\n\t",68],["T_PUBLIC","public",69],["T_WHITESPACE"," ",69],["T_VARIABLE","$dbdriver",69],["T_WHITESPACE"," ",69],"=",["T_WHITESPACE"," ",69],["T_CONSTANT_ENCAPSED_STRING","'oci8'",69],";",["T_WHITESPACE","\n\n\t",69],["T_DOC_COMMENT","\/**\n\t * Statement ID\n\t *\n\t * @var\tresource\n\t *\/",71],["T_WHITESPACE","\n\t",75],["T_PUBLIC","public",76],["T_WHITESPACE"," ",76],["T_VARIABLE","$stmt_id",76],";",["T_WHITESPACE","\n\n\t",76],["T_DOC_COMMENT","\/**\n\t * Cursor ID\n\t *\n\t * @var\tresource\n\t *\/",78],["T_WHITESPACE","\n\t",82],["T_PUBLIC","public",83],["T_WHITESPACE"," ",83],["T_VARIABLE","$curs_id",83],";",["T_WHITESPACE","\n\n\t",83],["T_DOC_COMMENT","\/**\n\t * Commit mode flag\n\t *\n\t * @var\tint\n\t *\/",85],["T_WHITESPACE","\n\t",89],["T_PUBLIC","public",90],["T_WHITESPACE"," ",90],["T_VARIABLE","$commit_mode",90],["T_WHITESPACE"," ",90],"=",["T_WHITESPACE"," ",90],["T_STRING","OCI_COMMIT_ON_SUCCESS",90],";",["T_WHITESPACE","\n\n\t",90],["T_DOC_COMMENT","\/**\n\t * Limit used flag\n\t *\n\t * If we use LIMIT, we'll add a field that will\n\t * throw off num_fields later.\n\t *\n\t * @var\tbool\n\t *\/",92],["T_WHITESPACE","\n\t",99],["T_PUBLIC","public",100],["T_WHITESPACE"," ",100],["T_VARIABLE","$limit_used",100],";",["T_WHITESPACE","\n\n\t",100],["T_COMMENT","\/\/ --------------------------------------------------------------------\n",102],["T_WHITESPACE","\n\t",103],["T_DOC_COMMENT","\/**\n\t * Reset $stmt_id flag\n\t *\n\t * Used by stored_procedure() to prevent _execute() from\n\t * re-setting the statement ID.\n\t *\/",104],["T_WHITESPACE","\n\t",109],["T_PROTECTED","protected",110],["T_WHITESPACE"," ",110],["T_VARIABLE","$_reset_stmt_id",110],["T_WHITESPACE"," ",110],"=",["T_WHITESPACE"," ",110],["T_STRING","TRUE",110],";",["T_WHITESPACE","\n\n\t",110],["T_DOC_COMMENT","\/**\n\t * List of reserved identifiers\n\t *\n\t * Identifiers that must NOT be escaped.\n\t *\n\t * @var\tstring[]\n\t *\/",112],["T_WHITESPACE","\n\t",118],["T_PROTECTED","protected",119],["T_WHITESPACE"," ",119],["T_VARIABLE","$_reserved_identifiers",119],["T_WHITESPACE"," ",119],"=",["T_WHITESPACE"," ",119],["T_ARRAY","array",119],"(",["T_CONSTANT_ENCAPSED_STRING","'*'",119],",",["T_WHITESPACE"," ",119],["T_CONSTANT_ENCAPSED_STRING","'rownum'",119],")",";",["T_WHITESPACE","\n\n\t",119],["T_DOC_COMMENT","\/**\n\t * ORDER BY random keyword\n\t *\n\t * @var\tarray\n\t *\/",121],["T_WHITESPACE","\n\t",125],["T_PROTECTED","protected",126],["T_WHITESPACE"," ",126],["T_VARIABLE","$_random_keyword",126],["T_WHITESPACE"," ",126],"=",["T_WHITESPACE"," ",126],["T_ARRAY","array",126],"(",["T_CONSTANT_ENCAPSED_STRING","'ASC'",126],",",["T_WHITESPACE"," ",126],["T_CONSTANT_ENCAPSED_STRING","'ASC'",126],")",";",["T_WHITESPACE"," ",126],["T_COMMENT","\/\/ not currently supported\n",126],["T_WHITESPACE","\n\t",127],["T_DOC_COMMENT","\/**\n\t * COUNT string\n\t *\n\t * @used-by\tCI_DB_driver::count_all()\n\t * @used-by\tCI_DB_query_builder::count_all_results()\n\t *\n\t * @var\tstring\n\t *\/",128],["T_WHITESPACE","\n\t",135],["T_PROTECTED","protected",136],["T_WHITESPACE"," ",136],["T_VARIABLE","$_count_string",136],["T_WHITESPACE"," ",136],"=",["T_WHITESPACE"," ",136],["T_CONSTANT_ENCAPSED_STRING","'SELECT COUNT(1) AS '",136],";",["T_WHITESPACE","\n\n\t",136],["T_COMMENT","\/\/ --------------------------------------------------------------------\n",138],["T_WHITESPACE","\n\t",139],["T_DOC_COMMENT","\/**\n\t * Class constructor\n\t *\n\t * @param\tarray\t$params\n\t * @return\tvoid\n\t *\/",140],["T_WHITESPACE","\n\t",145],["T_PUBLIC","public",146],["T_WHITESPACE"," ",146],["T_FUNCTION","function",146],["T_WHITESPACE"," ",146],["T_STRING","__construct",146],"(",["T_VARIABLE","$params",146],")",["T_WHITESPACE","\n\t",146],"{",["T_WHITESPACE","\n\t\t",147],["T_STRING","parent",148],["T_DOUBLE_COLON","::",148],["T_STRING","__construct",148],"(",["T_VARIABLE","$params",148],")",";",["T_WHITESPACE","\n\n\t\t",148],["T_VARIABLE","$valid_dsns",150],["T_WHITESPACE"," ",150],"=",["T_WHITESPACE"," ",150],["T_ARRAY","array",150],"(",["T_WHITESPACE","\n\t\t\t",150],["T_CONSTANT_ENCAPSED_STRING","'tns'",151],["T_WHITESPACE","\t",151],["T_DOUBLE_ARROW","=>",151],["T_WHITESPACE"," ",151],["T_CONSTANT_ENCAPSED_STRING","'\/^\\(DESCRIPTION=(\\(.+\\)){2,}\\)$\/'",151],",",["T_WHITESPACE"," ",151],["T_COMMENT","\/\/ TNS\n",151],["T_WHITESPACE","\t\t\t",152],["T_COMMENT","\/\/ Easy Connect string (Oracle 10g+)\n",152],["T_WHITESPACE","\t\t\t",153],["T_CONSTANT_ENCAPSED_STRING","'ec'",153],["T_WHITESPACE","\t",153],["T_DOUBLE_ARROW","=>",153],["T_WHITESPACE"," ",153],["T_CONSTANT_ENCAPSED_STRING","'\/^(\\\/\\\/)?[a-z0-9.:_-]+(:[1-9][0-9]{0,4})?(\\\/[a-z0-9$_]+)?(:[^\\\/])?(\\\/[a-z0-9$_]+)?$\/i'",153],",",["T_WHITESPACE","\n\t\t\t",153],["T_CONSTANT_ENCAPSED_STRING","'in'",154],["T_WHITESPACE","\t",154],["T_DOUBLE_ARROW","=>",154],["T_WHITESPACE"," ",154],["T_CONSTANT_ENCAPSED_STRING","'\/^[a-z0-9$_]+$\/i'",154],["T_WHITESPACE"," ",154],["T_COMMENT","\/\/ Instance name (defined in tnsnames.ora)\n",154],["T_WHITESPACE","\t\t",155],")",";",["T_WHITESPACE","\n\n\t\t",155],["T_COMMENT","\/* Space characters don't have any effect when actually\n\t\t * connecting, but can be a hassle while validating the DSN.\n\t\t *\/",157],["T_WHITESPACE","\n\t\t",159],["T_VARIABLE","$this",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","dsn",160],["T_WHITESPACE"," ",160],"=",["T_WHITESPACE"," ",160],["T_STRING","str_replace",160],"(",["T_ARRAY","array",160],"(",["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",160],",",["T_WHITESPACE"," ",160],["T_CONSTANT_ENCAPSED_STRING","\"\\r\"",160],",",["T_WHITESPACE"," ",160],["T_CONSTANT_ENCAPSED_STRING","\"\\t\"",160],",",["T_WHITESPACE"," ",160],["T_CONSTANT_ENCAPSED_STRING","' '",160],")",",",["T_WHITESPACE"," ",160],["T_CONSTANT_ENCAPSED_STRING","''",160],",",["T_WHITESPACE"," ",160],["T_VARIABLE","$this",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","dsn",160],")",";",["T_WHITESPACE","\n\n\t\t",160],["T_IF","if",162],["T_WHITESPACE"," ",162],"(",["T_VARIABLE","$this",162],["T_OBJECT_OPERATOR","->",162],["T_STRING","dsn",162],["T_WHITESPACE"," ",162],["T_IS_NOT_IDENTICAL","!==",162],["T_WHITESPACE"," ",162],["T_CONSTANT_ENCAPSED_STRING","''",162],")",["T_WHITESPACE","\n\t\t",162],"{",["T_WHITESPACE","\n\t\t\t",163],["T_FOREACH","foreach",164],["T_WHITESPACE"," ",164],"(",["T_VARIABLE","$valid_dsns",164],["T_WHITESPACE"," ",164],["T_AS","as",164],["T_WHITESPACE"," ",164],["T_VARIABLE","$regexp",164],")",["T_WHITESPACE","\n\t\t\t",164],"{",["T_WHITESPACE","\n\t\t\t\t",165],["T_IF","if",166],["T_WHITESPACE"," ",166],"(",["T_STRING","preg_match",166],"(",["T_VARIABLE","$regexp",166],",",["T_WHITESPACE"," ",166],["T_VARIABLE","$this",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","dsn",166],")",")",["T_WHITESPACE","\n\t\t\t\t",166],"{",["T_WHITESPACE","\n\t\t\t\t\t",167],["T_RETURN","return",168],";",["T_WHITESPACE","\n\t\t\t\t",168],"}",["T_WHITESPACE","\n\t\t\t",169],"}",["T_WHITESPACE","\n\t\t",170],"}",["T_WHITESPACE","\n\n\t\t",171],["T_COMMENT","\/\/ Legacy support for TNS in the hostname configuration field\n",173],["T_WHITESPACE","\t\t",174],["T_VARIABLE","$this",174],["T_OBJECT_OPERATOR","->",174],["T_STRING","hostname",174],["T_WHITESPACE"," ",174],"=",["T_WHITESPACE"," ",174],["T_STRING","str_replace",174],"(",["T_ARRAY","array",174],"(",["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",174],",",["T_WHITESPACE"," ",174],["T_CONSTANT_ENCAPSED_STRING","\"\\r\"",174],",",["T_WHITESPACE"," ",174],["T_CONSTANT_ENCAPSED_STRING","\"\\t\"",174],",",["T_WHITESPACE"," ",174],["T_CONSTANT_ENCAPSED_STRING","' '",174],")",",",["T_WHITESPACE"," ",174],["T_CONSTANT_ENCAPSED_STRING","''",174],",",["T_WHITESPACE"," ",174],["T_VARIABLE","$this",174],["T_OBJECT_OPERATOR","->",174],["T_STRING","hostname",174],")",";",["T_WHITESPACE","\n\t\t",174],["T_IF","if",175],["T_WHITESPACE"," ",175],"(",["T_STRING","preg_match",175],"(",["T_VARIABLE","$valid_dsns",175],"[",["T_CONSTANT_ENCAPSED_STRING","'tns'",175],"]",",",["T_WHITESPACE"," ",175],["T_VARIABLE","$this",175],["T_OBJECT_OPERATOR","->",175],["T_STRING","hostname",175],")",")",["T_WHITESPACE","\n\t\t",175],"{",["T_WHITESPACE","\n\t\t\t",176],["T_VARIABLE","$this",177],["T_OBJECT_OPERATOR","->",177],["T_STRING","dsn",177],["T_WHITESPACE"," ",177],"=",["T_WHITESPACE"," ",177],["T_VARIABLE","$this",177],["T_OBJECT_OPERATOR","->",177],["T_STRING","hostname",177],";",["T_WHITESPACE","\n\t\t\t",177],["T_RETURN","return",178],";",["T_WHITESPACE","\n\t\t",178],"}",["T_WHITESPACE","\n\t\t",179],["T_ELSEIF","elseif",180],["T_WHITESPACE"," ",180],"(",["T_VARIABLE","$this",180],["T_OBJECT_OPERATOR","->",180],["T_STRING","hostname",180],["T_WHITESPACE"," ",180],["T_IS_NOT_IDENTICAL","!==",180],["T_WHITESPACE"," ",180],["T_CONSTANT_ENCAPSED_STRING","''",180],["T_WHITESPACE"," ",180],["T_BOOLEAN_AND","&&",180],["T_WHITESPACE"," ",180],["T_STRING","strpos",180],"(",["T_VARIABLE","$this",180],["T_OBJECT_OPERATOR","->",180],["T_STRING","hostname",180],",",["T_WHITESPACE"," ",180],["T_CONSTANT_ENCAPSED_STRING","'\/'",180],")",["T_WHITESPACE"," ",180],["T_IS_IDENTICAL","===",180],["T_WHITESPACE"," ",180],["T_STRING","FALSE",180],["T_WHITESPACE"," ",180],["T_BOOLEAN_AND","&&",180],["T_WHITESPACE"," ",180],["T_STRING","strpos",180],"(",["T_VARIABLE","$this",180],["T_OBJECT_OPERATOR","->",180],["T_STRING","hostname",180],",",["T_WHITESPACE"," ",180],["T_CONSTANT_ENCAPSED_STRING","':'",180],")",["T_WHITESPACE"," ",180],["T_IS_IDENTICAL","===",180],["T_WHITESPACE"," ",180],["T_STRING","FALSE",180],["T_WHITESPACE","\n\t\t\t",180],["T_BOOLEAN_AND","&&",181],["T_WHITESPACE"," ",181],"(","(",["T_WHITESPACE"," ",181],"!",["T_WHITESPACE"," ",181],["T_EMPTY","empty",181],"(",["T_VARIABLE","$this",181],["T_OBJECT_OPERATOR","->",181],["T_STRING","port",181],")",["T_WHITESPACE"," ",181],["T_BOOLEAN_AND","&&",181],["T_WHITESPACE"," ",181],["T_STRING","ctype_digit",181],"(",["T_VARIABLE","$this",181],["T_OBJECT_OPERATOR","->",181],["T_STRING","port",181],")",")",["T_WHITESPACE"," ",181],["T_LOGICAL_OR","OR",181],["T_WHITESPACE"," ",181],["T_VARIABLE","$this",181],["T_OBJECT_OPERATOR","->",181],["T_STRING","database",181],["T_WHITESPACE"," ",181],["T_IS_NOT_IDENTICAL","!==",181],["T_WHITESPACE"," ",181],["T_CONSTANT_ENCAPSED_STRING","''",181],")",")",["T_WHITESPACE","\n\t\t",181],"{",["T_WHITESPACE","\n\t\t\t",182],["T_COMMENT","\/* If the hostname field isn't empty, doesn't contain\n\t\t\t * ':' and\/or '\/' and if port and\/or database aren't\n\t\t\t * empty, then the hostname field is most likely indeed\n\t\t\t * just a hostname. Therefore we'll try and build an\n\t\t\t * Easy Connect string from these 3 settings, assuming\n\t\t\t * that the database field is a service name.\n\t\t\t *\/",183],["T_WHITESPACE","\n\t\t\t",189],["T_VARIABLE","$this",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","dsn",190],["T_WHITESPACE"," ",190],"=",["T_WHITESPACE"," ",190],["T_VARIABLE","$this",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","hostname",190],["T_WHITESPACE","\n\t\t\t\t",190],".","(","(",["T_WHITESPACE"," ",191],"!",["T_WHITESPACE"," ",191],["T_EMPTY","empty",191],"(",["T_VARIABLE","$this",191],["T_OBJECT_OPERATOR","->",191],["T_STRING","port",191],")",["T_WHITESPACE"," ",191],["T_BOOLEAN_AND","&&",191],["T_WHITESPACE"," ",191],["T_STRING","ctype_digit",191],"(",["T_VARIABLE","$this",191],["T_OBJECT_OPERATOR","->",191],["T_STRING","port",191],")",")",["T_WHITESPACE"," ",191],"?",["T_WHITESPACE"," ",191],["T_CONSTANT_ENCAPSED_STRING","':'",191],".",["T_VARIABLE","$this",191],["T_OBJECT_OPERATOR","->",191],["T_STRING","port",191],["T_WHITESPACE"," ",191],":",["T_WHITESPACE"," ",191],["T_CONSTANT_ENCAPSED_STRING","''",191],")",["T_WHITESPACE","\n\t\t\t\t",191],".","(",["T_VARIABLE","$this",192],["T_OBJECT_OPERATOR","->",192],["T_STRING","database",192],["T_WHITESPACE"," ",192],["T_IS_NOT_IDENTICAL","!==",192],["T_WHITESPACE"," ",192],["T_CONSTANT_ENCAPSED_STRING","''",192],["T_WHITESPACE"," ",192],"?",["T_WHITESPACE"," ",192],["T_CONSTANT_ENCAPSED_STRING","'\/'",192],".",["T_STRING","ltrim",192],"(",["T_VARIABLE","$this",192],["T_OBJECT_OPERATOR","->",192],["T_STRING","database",192],",",["T_WHITESPACE"," ",192],["T_CONSTANT_ENCAPSED_STRING","'\/'",192],")",["T_WHITESPACE"," ",192],":",["T_WHITESPACE"," ",192],["T_CONSTANT_ENCAPSED_STRING","''",192],")",";",["T_WHITESPACE","\n\n\t\t\t",192],["T_IF","if",194],["T_WHITESPACE"," ",194],"(",["T_STRING","preg_match",194],"(",["T_VARIABLE","$valid_dsns",194],"[",["T_CONSTANT_ENCAPSED_STRING","'ec'",194],"]",",",["T_WHITESPACE"," ",194],["T_VARIABLE","$this",194],["T_OBJECT_OPERATOR","->",194],["T_STRING","dsn",194],")",")",["T_WHITESPACE","\n\t\t\t",194],"{",["T_WHITESPACE","\n\t\t\t\t",195],["T_RETURN","return",196],";",["T_WHITESPACE","\n\t\t\t",196],"}",["T_WHITESPACE","\n\t\t",197],"}",["T_WHITESPACE","\n\n\t\t",198],["T_COMMENT","\/* At this point, we can only try and validate the hostname and\n\t\t * database fields separately as DSNs.\n\t\t *\/",200],["T_WHITESPACE","\n\t\t",202],["T_IF","if",203],["T_WHITESPACE"," ",203],"(",["T_STRING","preg_match",203],"(",["T_VARIABLE","$valid_dsns",203],"[",["T_CONSTANT_ENCAPSED_STRING","'ec'",203],"]",",",["T_WHITESPACE"," ",203],["T_VARIABLE","$this",203],["T_OBJECT_OPERATOR","->",203],["T_STRING","hostname",203],")",["T_WHITESPACE"," ",203],["T_LOGICAL_OR","OR",203],["T_WHITESPACE"," ",203],["T_STRING","preg_match",203],"(",["T_VARIABLE","$valid_dsns",203],"[",["T_CONSTANT_ENCAPSED_STRING","'in'",203],"]",",",["T_WHITESPACE"," ",203],["T_VARIABLE","$this",203],["T_OBJECT_OPERATOR","->",203],["T_STRING","hostname",203],")",")",["T_WHITESPACE","\n\t\t",203],"{",["T_WHITESPACE","\n\t\t\t",204],["T_VARIABLE","$this",205],["T_OBJECT_OPERATOR","->",205],["T_STRING","dsn",205],["T_WHITESPACE"," ",205],"=",["T_WHITESPACE"," ",205],["T_VARIABLE","$this",205],["T_OBJECT_OPERATOR","->",205],["T_STRING","hostname",205],";",["T_WHITESPACE","\n\t\t\t",205],["T_RETURN","return",206],";",["T_WHITESPACE","\n\t\t",206],"}",["T_WHITESPACE","\n\n\t\t",207],["T_VARIABLE","$this",209],["T_OBJECT_OPERATOR","->",209],["T_STRING","database",209],["T_WHITESPACE"," ",209],"=",["T_WHITESPACE"," ",209],["T_STRING","str_replace",209],"(",["T_ARRAY","array",209],"(",["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",209],",",["T_WHITESPACE"," ",209],["T_CONSTANT_ENCAPSED_STRING","\"\\r\"",209],",",["T_WHITESPACE"," ",209],["T_CONSTANT_ENCAPSED_STRING","\"\\t\"",209],",",["T_WHITESPACE"," ",209],["T_CONSTANT_ENCAPSED_STRING","' '",209],")",",",["T_WHITESPACE"," ",209],["T_CONSTANT_ENCAPSED_STRING","''",209],",",["T_WHITESPACE"," ",209],["T_VARIABLE","$this",209],["T_OBJECT_OPERATOR","->",209],["T_STRING","database",209],")",";",["T_WHITESPACE","\n\t\t",209],["T_FOREACH","foreach",210],["T_WHITESPACE"," ",210],"(",["T_VARIABLE","$valid_dsns",210],["T_WHITESPACE"," ",210],["T_AS","as",210],["T_WHITESPACE"," ",210],["T_VARIABLE","$regexp",210],")",["T_WHITESPACE","\n\t\t",210],"{",["T_WHITESPACE","\n\t\t\t",211],["T_IF","if",212],["T_WHITESPACE"," ",212],"(",["T_STRING","preg_match",212],"(",["T_VARIABLE","$regexp",212],",",["T_WHITESPACE"," ",212],["T_VARIABLE","$this",212],["T_OBJECT_OPERATOR","->",212],["T_STRING","database",212],")",")",["T_WHITESPACE","\n\t\t\t",212],"{",["T_WHITESPACE","\n\t\t\t\t",213],["T_RETURN","return",214],";",["T_WHITESPACE","\n\t\t\t",214],"}",["T_WHITESPACE","\n\t\t",215],"}",["T_WHITESPACE","\n\n\t\t",216],["T_COMMENT","\/* Well - OK, an empty string should work as well.\n\t\t * PHP will try to use environment variables to\n\t\t * determine which Oracle instance to connect to.\n\t\t *\/",218],["T_WHITESPACE","\n\t\t",221],["T_VARIABLE","$this",222],["T_OBJECT_OPERATOR","->",222],["T_STRING","dsn",222],["T_WHITESPACE"," ",222],"=",["T_WHITESPACE"," ",222],["T_CONSTANT_ENCAPSED_STRING","''",222],";",["T_WHITESPACE","\n\t",222],"}",["T_WHITESPACE","\n\n\t",223],["T_COMMENT","\/\/ --------------------------------------------------------------------\n",225],["T_WHITESPACE","\n\t",226],["T_DOC_COMMENT","\/**\n\t * Non-persistent database connection\n\t *\n\t * @param\tbool\t$persistent\n\t * @return\tresource\n\t *\/",227],["T_WHITESPACE","\n\t",232],["T_PUBLIC","public",233],["T_WHITESPACE"," ",233],["T_FUNCTION","function",233],["T_WHITESPACE"," ",233],["T_STRING","db_connect",233],"(",["T_VARIABLE","$persistent",233],["T_WHITESPACE"," ",233],"=",["T_WHITESPACE"," ",233],["T_STRING","FALSE",233],")",["T_WHITESPACE","\n\t",233],"{",["T_WHITESPACE","\n\t\t",234],["T_VARIABLE","$func",235],["T_WHITESPACE"," ",235],"=",["T_WHITESPACE"," ",235],"(",["T_VARIABLE","$persistent",235],["T_WHITESPACE"," ",235],["T_IS_IDENTICAL","===",235],["T_WHITESPACE"," ",235],["T_STRING","TRUE",235],")",["T_WHITESPACE"," ",235],"?",["T_WHITESPACE"," ",235],["T_CONSTANT_ENCAPSED_STRING","'oci_pconnect'",235],["T_WHITESPACE"," ",235],":",["T_WHITESPACE"," ",235],["T_CONSTANT_ENCAPSED_STRING","'oci_connect'",235],";",["T_WHITESPACE","\n\t\t",235],["T_RETURN","return",236],["T_WHITESPACE"," ",236],["T_EMPTY","empty",236],"(",["T_VARIABLE","$this",236],["T_OBJECT_OPERATOR","->",236],["T_STRING","char_set",236],")",["T_WHITESPACE","\n\t\t\t",236],"?",["T_WHITESPACE"," ",237],["T_VARIABLE","$func",237],"(",["T_VARIABLE","$this",237],["T_OBJECT_OPERATOR","->",237],["T_STRING","username",237],",",["T_WHITESPACE"," ",237],["T_VARIABLE","$this",237],["T_OBJECT_OPERATOR","->",237],["T_STRING","password",237],",",["T_WHITESPACE"," ",237],["T_VARIABLE","$this",237],["T_OBJECT_OPERATOR","->",237],["T_STRING","dsn",237],")",["T_WHITESPACE","\n\t\t\t",237],":",["T_WHITESPACE"," ",238],["T_VARIABLE","$func",238],"(",["T_VARIABLE","$this",238],["T_OBJECT_OPERATOR","->",238],["T_STRING","username",238],",",["T_WHITESPACE"," ",238],["T_VARIABLE","$this",238],["T_OBJECT_OPERATOR","->",238],["T_STRING","password",238],",",["T_WHITESPACE"," ",238],["T_VARIABLE","$this",238],["T_OBJECT_OPERATOR","->",238],["T_STRING","dsn",238],",",["T_WHITESPACE"," ",238],["T_VARIABLE","$this",238],["T_OBJECT_OPERATOR","->",238],["T_STRING","char_set",238],")",";",["T_WHITESPACE","\n\t",238],"}",["T_WHITESPACE","\n\n\t",239],["T_COMMENT","\/\/ --------------------------------------------------------------------\n",241],["T_WHITESPACE","\n\t",242],["T_DOC_COMMENT","\/**\n\t * Database version number\n\t *\n\t * @return\tstring\n\t *\/",243],["T_WHITESPACE","\n\t",247],["T_PUBLIC","public",248],["T_WHITESPACE"," ",248],["T_FUNCTION","function",248],["T_WHITESPACE"," ",248],["T_STRING","version",248],"(",")",["T_WHITESPACE","\n\t",248],"{",["T_WHITESPACE","\n\t\t",249],["T_IF","if",250],["T_WHITESPACE"," ",250],"(",["T_ISSET","isset",250],"(",["T_VARIABLE","$this",250],["T_OBJECT_OPERATOR","->",250],["T_STRING","data_cache",250],"[",["T_CONSTANT_ENCAPSED_STRING","'version'",250],"]",")",")",["T_WHITESPACE","\n\t\t",250],"{",["T_WHITESPACE","\n\t\t\t",251],["T_RETURN","return",252],["T_WHITESPACE"," ",252],["T_VARIABLE","$this",252],["T_OBJECT_OPERATOR","->",252],["T_STRING","data_cache",252],"[",["T_CONSTANT_ENCAPSED_STRING","'version'",252],"]",";",["T_WHITESPACE","\n\t\t",252],"}",["T_WHITESPACE","\n\n\t\t",253],["T_IF","if",255],["T_WHITESPACE"," ",255],"(",["T_WHITESPACE"," ",255],"!",["T_WHITESPACE"," ",255],["T_VARIABLE","$this",255],["T_OBJECT_OPERATOR","->",255],["T_STRING","conn_id",255],["T_WHITESPACE"," ",255],["T_LOGICAL_OR","OR",255],["T_WHITESPACE"," ",255],"(",["T_VARIABLE","$version_string",255],["T_WHITESPACE"," ",255],"=",["T_WHITESPACE"," ",255],["T_STRING","oci_server_version",255],"(",["T_VARIABLE","$this",255],["T_OBJECT_OPERATOR","->",255],["T_STRING","conn_id",255],")",")",["T_WHITESPACE"," ",255],["T_IS_IDENTICAL","===",255],["T_WHITESPACE"," ",255],["T_STRING","FALSE",255],")",["T_WHITESPACE","\n\t\t",255],"{",["T_WHITESPACE","\n\t\t\t",256],["T_RETURN","return",257],["T_WHITESPACE"," ",257],["T_STRING","FALSE",257],";",["T_WHITESPACE","\n\t\t",257],"}",["T_WHITESPACE","\n\t\t",258],["T_ELSEIF","elseif",259],["T_WHITESPACE"," ",259],"(",["T_STRING","preg_match",259],"(",["T_CONSTANT_ENCAPSED_STRING","'#Release\\s(\\d+(?:\\.\\d+)+)#'",259],",",["T_WHITESPACE"," ",259],["T_VARIABLE","$version_string",259],",",["T_WHITESPACE"," ",259],["T_VARIABLE","$match",259],")",")",["T_WHITESPACE","\n\t\t",259],"{",["T_WHITESPACE","\n\t\t\t",260],["T_RETURN","return",261],["T_WHITESPACE"," ",261],["T_VARIABLE","$this",261],["T_OBJECT_OPERATOR","->",261],["T_STRING","data_cache",261],"[",["T_CONSTANT_ENCAPSED_STRING","'version'",261],"]",["T_WHITESPACE"," ",261],"=",["T_WHITESPACE"," ",261],["T_VARIABLE","$match",261],"[",["T_LNUMBER","1",261],"]",";",["T_WHITESPACE","\n\t\t",261],"}",["T_WHITESPACE","\n\n\t\t",262],["T_RETURN","return",264],["T_WHITESPACE"," ",264],["T_STRING","FALSE",264],";",["T_WHITESPACE","\n\t",264],"}",["T_WHITESPACE","\n\n\t",265],["T_COMMENT","\/\/ --------------------------------------------------------------------\n",267],["T_WHITESPACE","\n\t",268],["T_DOC_COMMENT","\/**\n\t * Execute the query\n\t *\n\t * @param\tstring\t$sql\tan SQL query\n\t * @return\tresource\n\t *\/",269],["T_WHITESPACE","\n\t",274],["T_PROTECTED","protected",275],["T_WHITESPACE"," ",275],["T_FUNCTION","function",275],["T_WHITESPACE"," ",275],["T_STRING","_execute",275],"(",["T_VARIABLE","$sql",275],")",["T_WHITESPACE","\n\t",275],"{",["T_WHITESPACE","\n\t\t",276],["T_COMMENT","\/* Oracle must parse the query before it is run. All of the actions with\n\t\t * the query are based on the statement id returned by oci_parse().\n\t\t *\/",277],["T_WHITESPACE","\n\t\t",279],["T_IF","if",280],["T_WHITESPACE"," ",280],"(",["T_VARIABLE","$this",280],["T_OBJECT_OPERATOR","->",280],["T_STRING","_reset_stmt_id",280],["T_WHITESPACE"," ",280],["T_IS_IDENTICAL","===",280],["T_WHITESPACE"," ",280],["T_STRING","TRUE",280],")",["T_WHITESPACE","\n\t\t",280],"{",["T_WHITESPACE","\n\t\t\t",281],["T_VARIABLE","$this",282],["T_OBJECT_OPERATOR","->",282],["T_STRING","stmt_id",282],["T_WHITESPACE"," ",282],"=",["T_WHITESPACE"," ",282],["T_STRING","oci_parse",282],"(",["T_VARIABLE","$this",282],["T_OBJECT_OPERATOR","->",282],["T_STRING","conn_id",282],",",["T_WHITESPACE"," ",282],["T_VARIABLE","$sql",282],")",";",["T_WHITESPACE","\n\t\t",282],"}",["T_WHITESPACE","\n\n\t\t",283],["T_STRING","oci_set_prefetch",285],"(",["T_VARIABLE","$this",285],["T_OBJECT_OPERATOR","->",285],["T_STRING","stmt_id",285],",",["T_WHITESPACE"," ",285],["T_LNUMBER","1000",285],")",";",["T_WHITESPACE","\n\t\t",285],["T_RETURN","return",286],["T_WHITESPACE"," ",286],["T_STRING","oci_execute",286],"(",["T_VARIABLE","$this",286],["T_OBJECT_OPERATOR","->",286],["T_STRING","stmt_id",286],",",["T_WHITESPACE"," ",286],["T_VARIABLE","$this",286],["T_OBJECT_OPERATOR","->",286],["T_STRING","commit_mode",286],")",";",["T_WHITESPACE","\n\t",286],"}",["T_WHITESPACE","\n\n\t",287],["T_COMMENT","\/\/ --------------------------------------------------------------------\n",289],["T_WHITESPACE","\n\t",290],["T_DOC_COMMENT","\/**\n\t * Get cursor. Returns a cursor from the database\n\t *\n\t * @return\tresource\n\t *\/",291],["T_WHITESPACE","\n\t",295],["T_PUBLIC","public",296],["T_WHITESPACE"," ",296],["T_FUNCTION","function",296],["T_WHITESPACE"," ",296],["T_STRING","get_cursor",296],"(",")",["T_WHITESPACE","\n\t",296],"{",["T_WHITESPACE","\n\t\t",297],["T_RETURN","return",298],["T_WHITESPACE"," ",298],["T_VARIABLE","$this",298],["T_OBJECT_OPERATOR","->",298],["T_STRING","curs_id",298],["T_WHITESPACE"," ",298],"=",["T_WHITESPACE"," ",298],["T_STRING","oci_new_cursor",298],"(",["T_VARIABLE","$this",298],["T_OBJECT_OPERATOR","->",298],["T_STRING","conn_id",298],")",";",["T_WHITESPACE","\n\t",298],"}",["T_WHITESPACE","\n\n\t",299],["T_COMMENT","\/\/ --------------------------------------------------------------------\n",301],["T_WHITESPACE","\n\t",302],["T_DOC_COMMENT","\/**\n\t * Stored Procedure.  Executes a stored procedure\n\t *\n\t * @param\tstring\tpackage name in which the stored procedure is in\n\t * @param\tstring\tstored procedure name to execute\n\t * @param\tarray\tparameters\n\t * @return\tmixed\n\t *\n\t * params array keys\n\t *\n\t * KEY      OPTIONAL  NOTES\n\t * name     no        the name of the parameter should be in :<param_name> format\n\t * value    no        the value of the parameter.  If this is an OUT or IN OUT parameter,\n\t *                    this should be a reference to a variable\n\t * type     yes       the type of the parameter\n\t * length   yes       the max size of the parameter\n\t *\/",303],["T_WHITESPACE","\n\t",319],["T_PUBLIC","public",320],["T_WHITESPACE"," ",320],["T_FUNCTION","function",320],["T_WHITESPACE"," ",320],["T_STRING","stored_procedure",320],"(",["T_VARIABLE","$package",320],",",["T_WHITESPACE"," ",320],["T_VARIABLE","$procedure",320],",",["T_WHITESPACE"," ",320],["T_ARRAY","array",320],["T_WHITESPACE"," ",320],["T_VARIABLE","$params",320],")",["T_WHITESPACE","\n\t",320],"{",["T_WHITESPACE","\n\t\t",321],["T_IF","if",322],["T_WHITESPACE"," ",322],"(",["T_VARIABLE","$package",322],["T_WHITESPACE"," ",322],["T_IS_IDENTICAL","===",322],["T_WHITESPACE"," ",322],["T_CONSTANT_ENCAPSED_STRING","''",322],["T_WHITESPACE"," ",322],["T_LOGICAL_OR","OR",322],["T_WHITESPACE"," ",322],["T_VARIABLE","$procedure",322],["T_WHITESPACE"," ",322],["T_IS_IDENTICAL","===",322],["T_WHITESPACE"," ",322],["T_CONSTANT_ENCAPSED_STRING","''",322],")",["T_WHITESPACE","\n\t\t",322],"{",["T_WHITESPACE","\n\t\t\t",323],["T_STRING","log_message",324],"(",["T_CONSTANT_ENCAPSED_STRING","'error'",324],",",["T_WHITESPACE"," ",324],["T_CONSTANT_ENCAPSED_STRING","'Invalid query: '",324],".",["T_VARIABLE","$package",324],".",["T_CONSTANT_ENCAPSED_STRING","'.'",324],".",["T_VARIABLE","$procedure",324],")",";",["T_WHITESPACE","\n\t\t\t",324],["T_RETURN","return",325],["T_WHITESPACE"," ",325],"(",["T_VARIABLE","$this",325],["T_OBJECT_OPERATOR","->",325],["T_STRING","db_debug",325],")",["T_WHITESPACE"," ",325],"?",["T_WHITESPACE"," ",325],["T_VARIABLE","$this",325],["T_OBJECT_OPERATOR","->",325],["T_STRING","display_error",325],"(",["T_CONSTANT_ENCAPSED_STRING","'db_invalid_query'",325],")",["T_WHITESPACE"," ",325],":",["T_WHITESPACE"," ",325],["T_STRING","FALSE",325],";",["T_WHITESPACE","\n\t\t",325],"}",["T_WHITESPACE","\n\n\t\t",326],["T_COMMENT","\/\/ Build the query string\n",328],["T_WHITESPACE","\t\t",329],["T_VARIABLE","$sql",329],["T_WHITESPACE"," ",329],"=",["T_WHITESPACE"," ",329],["T_CONSTANT_ENCAPSED_STRING","'BEGIN '",329],".",["T_VARIABLE","$package",329],".",["T_CONSTANT_ENCAPSED_STRING","'.'",329],".",["T_VARIABLE","$procedure",329],".",["T_CONSTANT_ENCAPSED_STRING","'('",329],";",["T_WHITESPACE","\n\n\t\t",329],["T_VARIABLE","$have_cursor",331],["T_WHITESPACE"," ",331],"=",["T_WHITESPACE"," ",331],["T_STRING","FALSE",331],";",["T_WHITESPACE","\n\t\t",331],["T_FOREACH","foreach",332],["T_WHITESPACE"," ",332],"(",["T_VARIABLE","$params",332],["T_WHITESPACE"," ",332],["T_AS","as",332],["T_WHITESPACE"," ",332],["T_VARIABLE","$param",332],")",["T_WHITESPACE","\n\t\t",332],"{",["T_WHITESPACE","\n\t\t\t",333],["T_VARIABLE","$sql",334],["T_WHITESPACE"," ",334],["T_CONCAT_EQUAL",".=",334],["T_WHITESPACE"," ",334],["T_VARIABLE","$param",334],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",334],"]",".",["T_CONSTANT_ENCAPSED_STRING","','",334],";",["T_WHITESPACE","\n\n\t\t\t",334],["T_IF","if",336],["T_WHITESPACE"," ",336],"(",["T_ISSET","isset",336],"(",["T_VARIABLE","$param",336],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",336],"]",")",["T_WHITESPACE"," ",336],["T_BOOLEAN_AND","&&",336],["T_WHITESPACE"," ",336],["T_VARIABLE","$param",336],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",336],"]",["T_WHITESPACE"," ",336],["T_IS_IDENTICAL","===",336],["T_WHITESPACE"," ",336],["T_STRING","OCI_B_CURSOR",336],")",["T_WHITESPACE","\n\t\t\t",336],"{",["T_WHITESPACE","\n\t\t\t\t",337],["T_VARIABLE","$have_cursor",338],["T_WHITESPACE"," ",338],"=",["T_WHITESPACE"," ",338],["T_STRING","TRUE",338],";",["T_WHITESPACE","\n\t\t\t",338],"}",["T_WHITESPACE","\n\t\t",339],"}",["T_WHITESPACE","\n\t\t",340],["T_VARIABLE","$sql",341],["T_WHITESPACE"," ",341],"=",["T_WHITESPACE"," ",341],["T_STRING","trim",341],"(",["T_VARIABLE","$sql",341],",",["T_WHITESPACE"," ",341],["T_CONSTANT_ENCAPSED_STRING","','",341],")",".",["T_CONSTANT_ENCAPSED_STRING","'); END;'",341],";",["T_WHITESPACE","\n\n\t\t",341],["T_VARIABLE","$this",343],["T_OBJECT_OPERATOR","->",343],["T_STRING","_reset_stmt_id",343],["T_WHITESPACE"," ",343],"=",["T_WHITESPACE"," ",343],["T_STRING","FALSE",343],";",["T_WHITESPACE","\n\t\t",343],["T_VARIABLE","$this",344],["T_OBJECT_OPERATOR","->",344],["T_STRING","stmt_id",344],["T_WHITESPACE"," ",344],"=",["T_WHITESPACE"," ",344],["T_STRING","oci_parse",344],"(",["T_VARIABLE","$this",344],["T_OBJECT_OPERATOR","->",344],["T_STRING","conn_id",344],",",["T_WHITESPACE"," ",344],["T_VARIABLE","$sql",344],")",";",["T_WHITESPACE","\n\t\t",344],["T_VARIABLE","$this",345],["T_OBJECT_OPERATOR","->",345],["T_STRING","_bind_params",345],"(",["T_VARIABLE","$params",345],")",";",["T_WHITESPACE","\n\t\t",345],["T_VARIABLE","$result",346],["T_WHITESPACE"," ",346],"=",["T_WHITESPACE"," ",346],["T_VARIABLE","$this",346],["T_OBJECT_OPERATOR","->",346],["T_STRING","query",346],"(",["T_VARIABLE","$sql",346],",",["T_WHITESPACE"," ",346],["T_STRING","FALSE",346],",",["T_WHITESPACE"," ",346],["T_VARIABLE","$have_cursor",346],")",";",["T_WHITESPACE","\n\t\t",346],["T_VARIABLE","$this",347],["T_OBJECT_OPERATOR","->",347],["T_STRING","_reset_stmt_id",347],["T_WHITESPACE"," ",347],"=",["T_WHITESPACE"," ",347],["T_STRING","TRUE",347],";",["T_WHITESPACE","\n\t\t",347],["T_RETURN","return",348],["T_WHITESPACE"," ",348],["T_VARIABLE","$result",348],";",["T_WHITESPACE","\n\t",348],"}",["T_WHITESPACE","\n\n\t",349],["T_COMMENT","\/\/ --------------------------------------------------------------------\n",351],["T_WHITESPACE","\n\t",352],["T_DOC_COMMENT","\/**\n\t * Bind parameters\n\t *\n\t * @param\tarray\t$params\n\t * @return\tvoid\n\t *\/",353],["T_WHITESPACE","\n\t",358],["T_PROTECTED","protected",359],["T_WHITESPACE"," ",359],["T_FUNCTION","function",359],["T_WHITESPACE"," ",359],["T_STRING","_bind_params",359],"(",["T_VARIABLE","$params",359],")",["T_WHITESPACE","\n\t",359],"{",["T_WHITESPACE","\n\t\t",360],["T_IF","if",361],["T_WHITESPACE"," ",361],"(",["T_WHITESPACE"," ",361],"!",["T_WHITESPACE"," ",361],["T_STRING","is_array",361],"(",["T_VARIABLE","$params",361],")",["T_WHITESPACE"," ",361],["T_LOGICAL_OR","OR",361],["T_WHITESPACE"," ",361],"!",["T_WHITESPACE"," ",361],["T_STRING","is_resource",361],"(",["T_VARIABLE","$this",361],["T_OBJECT_OPERATOR","->",361],["T_STRING","stmt_id",361],")",")",["T_WHITESPACE","\n\t\t",361],"{",["T_WHITESPACE","\n\t\t\t",362],["T_RETURN","return",363],";",["T_WHITESPACE","\n\t\t",363],"}",["T_WHITESPACE","\n\n\t\t",364],["T_FOREACH","foreach",366],["T_WHITESPACE"," ",366],"(",["T_VARIABLE","$params",366],["T_WHITESPACE"," ",366],["T_AS","as",366],["T_WHITESPACE"," ",366],["T_VARIABLE","$param",366],")",["T_WHITESPACE","\n\t\t",366],"{",["T_WHITESPACE","\n\t\t\t",367],["T_FOREACH","foreach",368],["T_WHITESPACE"," ",368],"(",["T_ARRAY","array",368],"(",["T_CONSTANT_ENCAPSED_STRING","'name'",368],",",["T_WHITESPACE"," ",368],["T_CONSTANT_ENCAPSED_STRING","'value'",368],",",["T_WHITESPACE"," ",368],["T_CONSTANT_ENCAPSED_STRING","'type'",368],",",["T_WHITESPACE"," ",368],["T_CONSTANT_ENCAPSED_STRING","'length'",368],")",["T_WHITESPACE"," ",368],["T_AS","as",368],["T_WHITESPACE"," ",368],["T_VARIABLE","$val",368],")",["T_WHITESPACE","\n\t\t\t",368],"{",["T_WHITESPACE","\n\t\t\t\t",369],["T_IF","if",370],["T_WHITESPACE"," ",370],"(",["T_WHITESPACE"," ",370],"!",["T_WHITESPACE"," ",370],["T_ISSET","isset",370],"(",["T_VARIABLE","$param",370],"[",["T_VARIABLE","$val",370],"]",")",")",["T_WHITESPACE","\n\t\t\t\t",370],"{",["T_WHITESPACE","\n\t\t\t\t\t",371],["T_VARIABLE","$param",372],"[",["T_VARIABLE","$val",372],"]",["T_WHITESPACE"," ",372],"=",["T_WHITESPACE"," ",372],["T_CONSTANT_ENCAPSED_STRING","''",372],";",["T_WHITESPACE","\n\t\t\t\t",372],"}",["T_WHITESPACE","\n\t\t\t",373],"}",["T_WHITESPACE","\n\n\t\t\t",374],["T_STRING","oci_bind_by_name",376],"(",["T_VARIABLE","$this",376],["T_OBJECT_OPERATOR","->",376],["T_STRING","stmt_id",376],",",["T_WHITESPACE"," ",376],["T_VARIABLE","$param",376],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",376],"]",",",["T_WHITESPACE"," ",376],["T_VARIABLE","$param",376],"[",["T_CONSTANT_ENCAPSED_STRING","'value'",376],"]",",",["T_WHITESPACE"," ",376],["T_VARIABLE","$param",376],"[",["T_CONSTANT_ENCAPSED_STRING","'length'",376],"]",",",["T_WHITESPACE"," ",376],["T_VARIABLE","$param",376],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",376],"]",")",";",["T_WHITESPACE","\n\t\t",376],"}",["T_WHITESPACE","\n\t",377],"}",["T_WHITESPACE","\n\n\t",378],["T_COMMENT","\/\/ --------------------------------------------------------------------\n",380],["T_WHITESPACE","\n\t",381],["T_DOC_COMMENT","\/**\n\t * Begin Transaction\n\t *\n\t * @return\tbool\n\t *\/",382],["T_WHITESPACE","\n\t",386],["T_PROTECTED","protected",387],["T_WHITESPACE"," ",387],["T_FUNCTION","function",387],["T_WHITESPACE"," ",387],["T_STRING","_trans_begin",387],"(",")",["T_WHITESPACE","\n\t",387],"{",["T_WHITESPACE","\n\t\t",388],["T_VARIABLE","$this",389],["T_OBJECT_OPERATOR","->",389],["T_STRING","commit_mode",389],["T_WHITESPACE"," ",389],"=",["T_WHITESPACE"," ",389],["T_STRING","OCI_NO_AUTO_COMMIT",389],";",["T_WHITESPACE","\n\t\t",389],["T_RETURN","return",390],["T_WHITESPACE"," ",390],["T_STRING","TRUE",390],";",["T_WHITESPACE","\n\t",390],"}",["T_WHITESPACE","\n\n\t",391],["T_COMMENT","\/\/ --------------------------------------------------------------------\n",393],["T_WHITESPACE","\n\t",394],["T_DOC_COMMENT","\/**\n\t * Commit Transaction\n\t *\n\t * @return\tbool\n\t *\/",395],["T_WHITESPACE","\n\t",399],["T_PROTECTED","protected",400],["T_WHITESPACE"," ",400],["T_FUNCTION","function",400],["T_WHITESPACE"," ",400],["T_STRING","_trans_commit",400],"(",")",["T_WHITESPACE","\n\t",400],"{",["T_WHITESPACE","\n\t\t",401],["T_VARIABLE","$this",402],["T_OBJECT_OPERATOR","->",402],["T_STRING","commit_mode",402],["T_WHITESPACE"," ",402],"=",["T_WHITESPACE"," ",402],["T_STRING","OCI_COMMIT_ON_SUCCESS",402],";",["T_WHITESPACE","\n\n\t\t",402],["T_RETURN","return",404],["T_WHITESPACE"," ",404],["T_STRING","oci_commit",404],"(",["T_VARIABLE","$this",404],["T_OBJECT_OPERATOR","->",404],["T_STRING","conn_id",404],")",";",["T_WHITESPACE","\n\t",404],"}",["T_WHITESPACE","\n\n\t",405],["T_COMMENT","\/\/ --------------------------------------------------------------------\n",407],["T_WHITESPACE","\n\t",408],["T_DOC_COMMENT","\/**\n\t * Rollback Transaction\n\t *\n\t * @return\tbool\n\t *\/",409],["T_WHITESPACE","\n\t",413],["T_PROTECTED","protected",414],["T_WHITESPACE"," ",414],["T_FUNCTION","function",414],["T_WHITESPACE"," ",414],["T_STRING","_trans_rollback",414],"(",")",["T_WHITESPACE","\n\t",414],"{",["T_WHITESPACE","\n\t\t",415],["T_VARIABLE","$this",416],["T_OBJECT_OPERATOR","->",416],["T_STRING","commit_mode",416],["T_WHITESPACE"," ",416],"=",["T_WHITESPACE"," ",416],["T_STRING","OCI_COMMIT_ON_SUCCESS",416],";",["T_WHITESPACE","\n\t\t",416],["T_RETURN","return",417],["T_WHITESPACE"," ",417],["T_STRING","oci_rollback",417],"(",["T_VARIABLE","$this",417],["T_OBJECT_OPERATOR","->",417],["T_STRING","conn_id",417],")",";",["T_WHITESPACE","\n\t",417],"}",["T_WHITESPACE","\n\n\t",418],["T_COMMENT","\/\/ --------------------------------------------------------------------\n",420],["T_WHITESPACE","\n\t",421],["T_DOC_COMMENT","\/**\n\t * Affected Rows\n\t *\n\t * @return\tint\n\t *\/",422],["T_WHITESPACE","\n\t",426],["T_PUBLIC","public",427],["T_WHITESPACE"," ",427],["T_FUNCTION","function",427],["T_WHITESPACE"," ",427],["T_STRING","affected_rows",427],"(",")",["T_WHITESPACE","\n\t",427],"{",["T_WHITESPACE","\n\t\t",428],["T_RETURN","return",429],["T_WHITESPACE"," ",429],["T_STRING","oci_num_rows",429],"(",["T_VARIABLE","$this",429],["T_OBJECT_OPERATOR","->",429],["T_STRING","stmt_id",429],")",";",["T_WHITESPACE","\n\t",429],"}",["T_WHITESPACE","\n\n\t",430],["T_COMMENT","\/\/ --------------------------------------------------------------------\n",432],["T_WHITESPACE","\n\t",433],["T_DOC_COMMENT","\/**\n\t * Insert ID\n\t *\n\t * @return\tint\n\t *\/",434],["T_WHITESPACE","\n\t",438],["T_PUBLIC","public",439],["T_WHITESPACE"," ",439],["T_FUNCTION","function",439],["T_WHITESPACE"," ",439],["T_STRING","insert_id",439],"(",")",["T_WHITESPACE","\n\t",439],"{",["T_WHITESPACE","\n\t\t",440],["T_COMMENT","\/\/ not supported in oracle\n",441],["T_WHITESPACE","\t\t",442],["T_RETURN","return",442],["T_WHITESPACE"," ",442],["T_VARIABLE","$this",442],["T_OBJECT_OPERATOR","->",442],["T_STRING","display_error",442],"(",["T_CONSTANT_ENCAPSED_STRING","'db_unsupported_function'",442],")",";",["T_WHITESPACE","\n\t",442],"}",["T_WHITESPACE","\n\n\t",443],["T_COMMENT","\/\/ --------------------------------------------------------------------\n",445],["T_WHITESPACE","\n\t",446],["T_DOC_COMMENT","\/**\n\t * Show table query\n\t *\n\t * Generates a platform-specific query string so that the table names can be fetched\n\t *\n\t * @param\tbool\t$prefix_limit\n\t * @return\tstring\n\t *\/",447],["T_WHITESPACE","\n\t",454],["T_PROTECTED","protected",455],["T_WHITESPACE"," ",455],["T_FUNCTION","function",455],["T_WHITESPACE"," ",455],["T_STRING","_list_tables",455],"(",["T_VARIABLE","$prefix_limit",455],["T_WHITESPACE"," ",455],"=",["T_WHITESPACE"," ",455],["T_STRING","FALSE",455],")",["T_WHITESPACE","\n\t",455],"{",["T_WHITESPACE","\n\t\t",456],["T_VARIABLE","$sql",457],["T_WHITESPACE"," ",457],"=",["T_WHITESPACE"," ",457],["T_CONSTANT_ENCAPSED_STRING","'SELECT \"TABLE_NAME\" FROM \"ALL_TABLES\"'",457],";",["T_WHITESPACE","\n\n\t\t",457],["T_IF","if",459],["T_WHITESPACE"," ",459],"(",["T_VARIABLE","$prefix_limit",459],["T_WHITESPACE"," ",459],["T_IS_NOT_IDENTICAL","!==",459],["T_WHITESPACE"," ",459],["T_STRING","FALSE",459],["T_WHITESPACE"," ",459],["T_BOOLEAN_AND","&&",459],["T_WHITESPACE"," ",459],["T_VARIABLE","$this",459],["T_OBJECT_OPERATOR","->",459],["T_STRING","dbprefix",459],["T_WHITESPACE"," ",459],["T_IS_NOT_IDENTICAL","!==",459],["T_WHITESPACE"," ",459],["T_CONSTANT_ENCAPSED_STRING","''",459],")",["T_WHITESPACE","\n\t\t",459],"{",["T_WHITESPACE","\n\t\t\t",460],["T_RETURN","return",461],["T_WHITESPACE"," ",461],["T_VARIABLE","$sql",461],".",["T_CONSTANT_ENCAPSED_STRING","' WHERE \"TABLE_NAME\" LIKE \\''",461],".",["T_VARIABLE","$this",461],["T_OBJECT_OPERATOR","->",461],["T_STRING","escape_like_str",461],"(",["T_VARIABLE","$this",461],["T_OBJECT_OPERATOR","->",461],["T_STRING","dbprefix",461],")",".",["T_CONSTANT_ENCAPSED_STRING","\"%' \"",461],["T_WHITESPACE","\n\t\t\t\t",461],".",["T_STRING","sprintf",462],"(",["T_VARIABLE","$this",462],["T_OBJECT_OPERATOR","->",462],["T_STRING","_like_escape_str",462],",",["T_WHITESPACE"," ",462],["T_VARIABLE","$this",462],["T_OBJECT_OPERATOR","->",462],["T_STRING","_like_escape_chr",462],")",";",["T_WHITESPACE","\n\t\t",462],"}",["T_WHITESPACE","\n\n\t\t",463],["T_RETURN","return",465],["T_WHITESPACE"," ",465],["T_VARIABLE","$sql",465],";",["T_WHITESPACE","\n\t",465],"}",["T_WHITESPACE","\n\n\t",466],["T_COMMENT","\/\/ --------------------------------------------------------------------\n",468],["T_WHITESPACE","\n\t",469],["T_DOC_COMMENT","\/**\n\t * Show column query\n\t *\n\t * Generates a platform-specific query string so that the column names can be fetched\n\t *\n\t * @param\tstring\t$table\n\t * @return\tstring\n\t *\/",470],["T_WHITESPACE","\n\t",477],["T_PROTECTED","protected",478],["T_WHITESPACE"," ",478],["T_FUNCTION","function",478],["T_WHITESPACE"," ",478],["T_STRING","_list_columns",478],"(",["T_VARIABLE","$table",478],["T_WHITESPACE"," ",478],"=",["T_WHITESPACE"," ",478],["T_CONSTANT_ENCAPSED_STRING","''",478],")",["T_WHITESPACE","\n\t",478],"{",["T_WHITESPACE","\n\t\t",479],["T_IF","if",480],["T_WHITESPACE"," ",480],"(",["T_STRING","strpos",480],"(",["T_VARIABLE","$table",480],",",["T_WHITESPACE"," ",480],["T_CONSTANT_ENCAPSED_STRING","'.'",480],")",["T_WHITESPACE"," ",480],["T_IS_NOT_IDENTICAL","!==",480],["T_WHITESPACE"," ",480],["T_STRING","FALSE",480],")",["T_WHITESPACE","\n\t\t",480],"{",["T_WHITESPACE","\n\t\t\t",481],["T_STRING","sscanf",482],"(",["T_VARIABLE","$table",482],",",["T_WHITESPACE"," ",482],["T_CONSTANT_ENCAPSED_STRING","'%[^.].%s'",482],",",["T_WHITESPACE"," ",482],["T_VARIABLE","$owner",482],",",["T_WHITESPACE"," ",482],["T_VARIABLE","$table",482],")",";",["T_WHITESPACE","\n\t\t",482],"}",["T_WHITESPACE","\n\t\t",483],["T_ELSE","else",484],["T_WHITESPACE","\n\t\t",484],"{",["T_WHITESPACE","\n\t\t\t",485],["T_VARIABLE","$owner",486],["T_WHITESPACE"," ",486],"=",["T_WHITESPACE"," ",486],["T_VARIABLE","$this",486],["T_OBJECT_OPERATOR","->",486],["T_STRING","username",486],";",["T_WHITESPACE","\n\t\t",486],"}",["T_WHITESPACE","\n\n\t\t",487],["T_RETURN","return",489],["T_WHITESPACE"," ",489],["T_CONSTANT_ENCAPSED_STRING","'SELECT COLUMN_NAME FROM ALL_TAB_COLUMNS\n\t\t\tWHERE UPPER(OWNER) = '",489],".",["T_VARIABLE","$this",490],["T_OBJECT_OPERATOR","->",490],["T_STRING","escape",490],"(",["T_STRING","strtoupper",490],"(",["T_VARIABLE","$owner",490],")",")",".",["T_CONSTANT_ENCAPSED_STRING","'\n\t\t\t\tAND UPPER(TABLE_NAME) = '",490],".",["T_VARIABLE","$this",491],["T_OBJECT_OPERATOR","->",491],["T_STRING","escape",491],"(",["T_STRING","strtoupper",491],"(",["T_VARIABLE","$table",491],")",")",";",["T_WHITESPACE","\n\t",491],"}",["T_WHITESPACE","\n\n\t",492],["T_COMMENT","\/\/ --------------------------------------------------------------------\n",494],["T_WHITESPACE","\n\t",495],["T_DOC_COMMENT","\/**\n\t * Returns an object with field data\n\t *\n\t * @param\tstring\t$table\n\t * @return\tarray\n\t *\/",496],["T_WHITESPACE","\n\t",501],["T_PUBLIC","public",502],["T_WHITESPACE"," ",502],["T_FUNCTION","function",502],["T_WHITESPACE"," ",502],["T_STRING","field_data",502],"(",["T_VARIABLE","$table",502],")",["T_WHITESPACE","\n\t",502],"{",["T_WHITESPACE","\n\t\t",503],["T_IF","if",504],["T_WHITESPACE"," ",504],"(",["T_STRING","strpos",504],"(",["T_VARIABLE","$table",504],",",["T_WHITESPACE"," ",504],["T_CONSTANT_ENCAPSED_STRING","'.'",504],")",["T_WHITESPACE"," ",504],["T_IS_NOT_IDENTICAL","!==",504],["T_WHITESPACE"," ",504],["T_STRING","FALSE",504],")",["T_WHITESPACE","\n\t\t",504],"{",["T_WHITESPACE","\n\t\t\t",505],["T_STRING","sscanf",506],"(",["T_VARIABLE","$table",506],",",["T_WHITESPACE"," ",506],["T_CONSTANT_ENCAPSED_STRING","'%[^.].%s'",506],",",["T_WHITESPACE"," ",506],["T_VARIABLE","$owner",506],",",["T_WHITESPACE"," ",506],["T_VARIABLE","$table",506],")",";",["T_WHITESPACE","\n\t\t",506],"}",["T_WHITESPACE","\n\t\t",507],["T_ELSE","else",508],["T_WHITESPACE","\n\t\t",508],"{",["T_WHITESPACE","\n\t\t\t",509],["T_VARIABLE","$owner",510],["T_WHITESPACE"," ",510],"=",["T_WHITESPACE"," ",510],["T_VARIABLE","$this",510],["T_OBJECT_OPERATOR","->",510],["T_STRING","username",510],";",["T_WHITESPACE","\n\t\t",510],"}",["T_WHITESPACE","\n\n\t\t",511],["T_VARIABLE","$sql",513],["T_WHITESPACE"," ",513],"=",["T_WHITESPACE"," ",513],["T_CONSTANT_ENCAPSED_STRING","'SELECT COLUMN_NAME, DATA_TYPE, CHAR_LENGTH, DATA_PRECISION, DATA_LENGTH, DATA_DEFAULT, NULLABLE\n\t\t\tFROM ALL_TAB_COLUMNS\n\t\t\tWHERE UPPER(OWNER) = '",513],".",["T_VARIABLE","$this",515],["T_OBJECT_OPERATOR","->",515],["T_STRING","escape",515],"(",["T_STRING","strtoupper",515],"(",["T_VARIABLE","$owner",515],")",")",".",["T_CONSTANT_ENCAPSED_STRING","'\n\t\t\t\tAND UPPER(TABLE_NAME) = '",515],".",["T_VARIABLE","$this",516],["T_OBJECT_OPERATOR","->",516],["T_STRING","escape",516],"(",["T_STRING","strtoupper",516],"(",["T_VARIABLE","$table",516],")",")",";",["T_WHITESPACE","\n\n\t\t",516],["T_IF","if",518],["T_WHITESPACE"," ",518],"(","(",["T_VARIABLE","$query",518],["T_WHITESPACE"," ",518],"=",["T_WHITESPACE"," ",518],["T_VARIABLE","$this",518],["T_OBJECT_OPERATOR","->",518],["T_STRING","query",518],"(",["T_VARIABLE","$sql",518],")",")",["T_WHITESPACE"," ",518],["T_IS_IDENTICAL","===",518],["T_WHITESPACE"," ",518],["T_STRING","FALSE",518],")",["T_WHITESPACE","\n\t\t",518],"{",["T_WHITESPACE","\n\t\t\t",519],["T_RETURN","return",520],["T_WHITESPACE"," ",520],["T_STRING","FALSE",520],";",["T_WHITESPACE","\n\t\t",520],"}",["T_WHITESPACE","\n\t\t",521],["T_VARIABLE","$query",522],["T_WHITESPACE"," ",522],"=",["T_WHITESPACE"," ",522],["T_VARIABLE","$query",522],["T_OBJECT_OPERATOR","->",522],["T_STRING","result_object",522],"(",")",";",["T_WHITESPACE","\n\n\t\t",522],["T_VARIABLE","$retval",524],["T_WHITESPACE"," ",524],"=",["T_WHITESPACE"," ",524],["T_ARRAY","array",524],"(",")",";",["T_WHITESPACE","\n\t\t",524],["T_FOR","for",525],["T_WHITESPACE"," ",525],"(",["T_VARIABLE","$i",525],["T_WHITESPACE"," ",525],"=",["T_WHITESPACE"," ",525],["T_LNUMBER","0",525],",",["T_WHITESPACE"," ",525],["T_VARIABLE","$c",525],["T_WHITESPACE"," ",525],"=",["T_WHITESPACE"," ",525],["T_STRING","count",525],"(",["T_VARIABLE","$query",525],")",";",["T_WHITESPACE"," ",525],["T_VARIABLE","$i",525],["T_WHITESPACE"," ",525],"<",["T_WHITESPACE"," ",525],["T_VARIABLE","$c",525],";",["T_WHITESPACE"," ",525],["T_VARIABLE","$i",525],["T_INC","++",525],")",["T_WHITESPACE","\n\t\t",525],"{",["T_WHITESPACE","\n\t\t\t",526],["T_VARIABLE","$retval",527],"[",["T_VARIABLE","$i",527],"]",["T_WHITESPACE","\t\t\t",527],"=",["T_WHITESPACE"," ",527],["T_NEW","new",527],["T_WHITESPACE"," ",527],["T_STRING","stdClass",527],"(",")",";",["T_WHITESPACE","\n\t\t\t",527],["T_VARIABLE","$retval",528],"[",["T_VARIABLE","$i",528],"]",["T_OBJECT_OPERATOR","->",528],["T_STRING","name",528],["T_WHITESPACE","\t\t",528],"=",["T_WHITESPACE"," ",528],["T_VARIABLE","$query",528],"[",["T_VARIABLE","$i",528],"]",["T_OBJECT_OPERATOR","->",528],["T_STRING","COLUMN_NAME",528],";",["T_WHITESPACE","\n\t\t\t",528],["T_VARIABLE","$retval",529],"[",["T_VARIABLE","$i",529],"]",["T_OBJECT_OPERATOR","->",529],["T_STRING","type",529],["T_WHITESPACE","\t\t",529],"=",["T_WHITESPACE"," ",529],["T_VARIABLE","$query",529],"[",["T_VARIABLE","$i",529],"]",["T_OBJECT_OPERATOR","->",529],["T_STRING","DATA_TYPE",529],";",["T_WHITESPACE","\n\n\t\t\t",529],["T_VARIABLE","$length",531],["T_WHITESPACE"," ",531],"=",["T_WHITESPACE"," ",531],"(",["T_VARIABLE","$query",531],"[",["T_VARIABLE","$i",531],"]",["T_OBJECT_OPERATOR","->",531],["T_STRING","CHAR_LENGTH",531],["T_WHITESPACE"," ",531],">",["T_WHITESPACE"," ",531],["T_LNUMBER","0",531],")",["T_WHITESPACE","\n\t\t\t\t",531],"?",["T_WHITESPACE"," ",532],["T_VARIABLE","$query",532],"[",["T_VARIABLE","$i",532],"]",["T_OBJECT_OPERATOR","->",532],["T_STRING","CHAR_LENGTH",532],["T_WHITESPACE"," ",532],":",["T_WHITESPACE"," ",532],["T_VARIABLE","$query",532],"[",["T_VARIABLE","$i",532],"]",["T_OBJECT_OPERATOR","->",532],["T_STRING","DATA_PRECISION",532],";",["T_WHITESPACE","\n\t\t\t",532],["T_IF","if",533],["T_WHITESPACE"," ",533],"(",["T_VARIABLE","$length",533],["T_WHITESPACE"," ",533],["T_IS_IDENTICAL","===",533],["T_WHITESPACE"," ",533],["T_STRING","NULL",533],")",["T_WHITESPACE","\n\t\t\t",533],"{",["T_WHITESPACE","\n\t\t\t\t",534],["T_VARIABLE","$length",535],["T_WHITESPACE"," ",535],"=",["T_WHITESPACE"," ",535],["T_VARIABLE","$query",535],"[",["T_VARIABLE","$i",535],"]",["T_OBJECT_OPERATOR","->",535],["T_STRING","DATA_LENGTH",535],";",["T_WHITESPACE","\n\t\t\t",535],"}",["T_WHITESPACE","\n\t\t\t",536],["T_VARIABLE","$retval",537],"[",["T_VARIABLE","$i",537],"]",["T_OBJECT_OPERATOR","->",537],["T_STRING","max_length",537],["T_WHITESPACE","\t\t",537],"=",["T_WHITESPACE"," ",537],["T_VARIABLE","$length",537],";",["T_WHITESPACE","\n\n\t\t\t",537],["T_VARIABLE","$default",539],["T_WHITESPACE"," ",539],"=",["T_WHITESPACE"," ",539],["T_VARIABLE","$query",539],"[",["T_VARIABLE","$i",539],"]",["T_OBJECT_OPERATOR","->",539],["T_STRING","DATA_DEFAULT",539],";",["T_WHITESPACE","\n\t\t\t",539],["T_IF","if",540],["T_WHITESPACE"," ",540],"(",["T_VARIABLE","$default",540],["T_WHITESPACE"," ",540],["T_IS_IDENTICAL","===",540],["T_WHITESPACE"," ",540],["T_STRING","NULL",540],["T_WHITESPACE"," ",540],["T_BOOLEAN_AND","&&",540],["T_WHITESPACE"," ",540],["T_VARIABLE","$query",540],"[",["T_VARIABLE","$i",540],"]",["T_OBJECT_OPERATOR","->",540],["T_STRING","NULLABLE",540],["T_WHITESPACE"," ",540],["T_IS_IDENTICAL","===",540],["T_WHITESPACE"," ",540],["T_CONSTANT_ENCAPSED_STRING","'N'",540],")",["T_WHITESPACE","\n\t\t\t",540],"{",["T_WHITESPACE","\n\t\t\t\t",541],["T_VARIABLE","$default",542],["T_WHITESPACE"," ",542],"=",["T_WHITESPACE"," ",542],["T_CONSTANT_ENCAPSED_STRING","''",542],";",["T_WHITESPACE","\n\t\t\t",542],"}",["T_WHITESPACE","\n\t\t\t",543],["T_VARIABLE","$retval",544],"[",["T_VARIABLE","$i",544],"]",["T_OBJECT_OPERATOR","->",544],["T_STRING","default",544],["T_WHITESPACE"," ",544],"=",["T_WHITESPACE"," ",544],["T_VARIABLE","$default",544],";",["T_WHITESPACE","\n\t\t",544],"}",["T_WHITESPACE","\n\n\t\t",545],["T_RETURN","return",547],["T_WHITESPACE"," ",547],["T_VARIABLE","$retval",547],";",["T_WHITESPACE","\n\t",547],"}",["T_WHITESPACE","\n\n\t",548],["T_COMMENT","\/\/ --------------------------------------------------------------------\n",550],["T_WHITESPACE","\n\t",551],["T_DOC_COMMENT","\/**\n\t * Error\n\t *\n\t * Returns an array containing code and message of the last\n\t * database error that has occurred.\n\t *\n\t * @return\tarray\n\t *\/",552],["T_WHITESPACE","\n\t",559],["T_PUBLIC","public",560],["T_WHITESPACE"," ",560],["T_FUNCTION","function",560],["T_WHITESPACE"," ",560],["T_STRING","error",560],"(",")",["T_WHITESPACE","\n\t",560],"{",["T_WHITESPACE","\n\t\t",561],["T_COMMENT","\/\/ oci_error() returns an array that already contains\n",562],["T_WHITESPACE","\t\t",563],["T_COMMENT","\/\/ 'code' and 'message' keys, but it can return false\n",563],["T_WHITESPACE","\t\t",564],["T_COMMENT","\/\/ if there was no error ....\n",564],["T_WHITESPACE","\t\t",565],["T_IF","if",565],["T_WHITESPACE"," ",565],"(",["T_STRING","is_resource",565],"(",["T_VARIABLE","$this",565],["T_OBJECT_OPERATOR","->",565],["T_STRING","curs_id",565],")",")",["T_WHITESPACE","\n\t\t",565],"{",["T_WHITESPACE","\n\t\t\t",566],["T_VARIABLE","$error",567],["T_WHITESPACE"," ",567],"=",["T_WHITESPACE"," ",567],["T_STRING","oci_error",567],"(",["T_VARIABLE","$this",567],["T_OBJECT_OPERATOR","->",567],["T_STRING","curs_id",567],")",";",["T_WHITESPACE","\n\t\t",567],"}",["T_WHITESPACE","\n\t\t",568],["T_ELSEIF","elseif",569],["T_WHITESPACE"," ",569],"(",["T_STRING","is_resource",569],"(",["T_VARIABLE","$this",569],["T_OBJECT_OPERATOR","->",569],["T_STRING","stmt_id",569],")",")",["T_WHITESPACE","\n\t\t",569],"{",["T_WHITESPACE","\n\t\t\t",570],["T_VARIABLE","$error",571],["T_WHITESPACE"," ",571],"=",["T_WHITESPACE"," ",571],["T_STRING","oci_error",571],"(",["T_VARIABLE","$this",571],["T_OBJECT_OPERATOR","->",571],["T_STRING","stmt_id",571],")",";",["T_WHITESPACE","\n\t\t",571],"}",["T_WHITESPACE","\n\t\t",572],["T_ELSEIF","elseif",573],["T_WHITESPACE"," ",573],"(",["T_STRING","is_resource",573],"(",["T_VARIABLE","$this",573],["T_OBJECT_OPERATOR","->",573],["T_STRING","conn_id",573],")",")",["T_WHITESPACE","\n\t\t",573],"{",["T_WHITESPACE","\n\t\t\t",574],["T_VARIABLE","$error",575],["T_WHITESPACE"," ",575],"=",["T_WHITESPACE"," ",575],["T_STRING","oci_error",575],"(",["T_VARIABLE","$this",575],["T_OBJECT_OPERATOR","->",575],["T_STRING","conn_id",575],")",";",["T_WHITESPACE","\n\t\t",575],"}",["T_WHITESPACE","\n\t\t",576],["T_ELSE","else",577],["T_WHITESPACE","\n\t\t",577],"{",["T_WHITESPACE","\n\t\t\t",578],["T_VARIABLE","$error",579],["T_WHITESPACE"," ",579],"=",["T_WHITESPACE"," ",579],["T_STRING","oci_error",579],"(",")",";",["T_WHITESPACE","\n\t\t",579],"}",["T_WHITESPACE","\n\n\t\t",580],["T_RETURN","return",582],["T_WHITESPACE"," ",582],["T_STRING","is_array",582],"(",["T_VARIABLE","$error",582],")",["T_WHITESPACE","\n\t\t\t",582],"?",["T_WHITESPACE"," ",583],["T_VARIABLE","$error",583],["T_WHITESPACE","\n\t\t\t",583],":",["T_WHITESPACE"," ",584],["T_ARRAY","array",584],"(",["T_CONSTANT_ENCAPSED_STRING","'code'",584],["T_WHITESPACE"," ",584],["T_DOUBLE_ARROW","=>",584],["T_WHITESPACE"," ",584],["T_CONSTANT_ENCAPSED_STRING","''",584],",",["T_WHITESPACE"," ",584],["T_CONSTANT_ENCAPSED_STRING","'message'",584],["T_WHITESPACE"," ",584],["T_DOUBLE_ARROW","=>",584],["T_WHITESPACE"," ",584],["T_CONSTANT_ENCAPSED_STRING","''",584],")",";",["T_WHITESPACE","\n\t",584],"}",["T_WHITESPACE","\n\n\t",585],["T_COMMENT","\/\/ --------------------------------------------------------------------\n",587],["T_WHITESPACE","\n\t",588],["T_DOC_COMMENT","\/**\n\t * Insert batch statement\n\t *\n\t * Generates a platform-specific insert string from the supplied data\n\t *\n\t * @param\tstring\t$table\tTable name\n\t * @param\tarray\t$keys\tINSERT keys\n\t * @param \tarray\t$values\tINSERT values\n\t * @return\tstring\n\t *\/",589],["T_WHITESPACE","\n\t",598],["T_PROTECTED","protected",599],["T_WHITESPACE"," ",599],["T_FUNCTION","function",599],["T_WHITESPACE"," ",599],["T_STRING","_insert_batch",599],"(",["T_VARIABLE","$table",599],",",["T_WHITESPACE"," ",599],["T_VARIABLE","$keys",599],",",["T_WHITESPACE"," ",599],["T_VARIABLE","$values",599],")",["T_WHITESPACE","\n\t",599],"{",["T_WHITESPACE","\n\t\t",600],["T_VARIABLE","$keys",601],["T_WHITESPACE"," ",601],"=",["T_WHITESPACE"," ",601],["T_STRING","implode",601],"(",["T_CONSTANT_ENCAPSED_STRING","', '",601],",",["T_WHITESPACE"," ",601],["T_VARIABLE","$keys",601],")",";",["T_WHITESPACE","\n\t\t",601],["T_VARIABLE","$sql",602],["T_WHITESPACE"," ",602],"=",["T_WHITESPACE"," ",602],["T_CONSTANT_ENCAPSED_STRING","\"INSERT ALL\\n\"",602],";",["T_WHITESPACE","\n\n\t\t",602],["T_FOR","for",604],["T_WHITESPACE"," ",604],"(",["T_VARIABLE","$i",604],["T_WHITESPACE"," ",604],"=",["T_WHITESPACE"," ",604],["T_LNUMBER","0",604],",",["T_WHITESPACE"," ",604],["T_VARIABLE","$c",604],["T_WHITESPACE"," ",604],"=",["T_WHITESPACE"," ",604],["T_STRING","count",604],"(",["T_VARIABLE","$values",604],")",";",["T_WHITESPACE"," ",604],["T_VARIABLE","$i",604],["T_WHITESPACE"," ",604],"<",["T_WHITESPACE"," ",604],["T_VARIABLE","$c",604],";",["T_WHITESPACE"," ",604],["T_VARIABLE","$i",604],["T_INC","++",604],")",["T_WHITESPACE","\n\t\t",604],"{",["T_WHITESPACE","\n\t\t\t",605],["T_VARIABLE","$sql",606],["T_WHITESPACE"," ",606],["T_CONCAT_EQUAL",".=",606],["T_WHITESPACE"," ",606],["T_CONSTANT_ENCAPSED_STRING","'\tINTO '",606],".",["T_VARIABLE","$table",606],".",["T_CONSTANT_ENCAPSED_STRING","' ('",606],".",["T_VARIABLE","$keys",606],".",["T_CONSTANT_ENCAPSED_STRING","') VALUES '",606],".",["T_VARIABLE","$values",606],"[",["T_VARIABLE","$i",606],"]",".",["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",606],";",["T_WHITESPACE","\n\t\t",606],"}",["T_WHITESPACE","\n\n\t\t",607],["T_RETURN","return",609],["T_WHITESPACE"," ",609],["T_VARIABLE","$sql",609],".",["T_CONSTANT_ENCAPSED_STRING","'SELECT * FROM dual'",609],";",["T_WHITESPACE","\n\t",609],"}",["T_WHITESPACE","\n\n\t",610],["T_COMMENT","\/\/ --------------------------------------------------------------------\n",612],["T_WHITESPACE","\n\t",613],["T_DOC_COMMENT","\/**\n\t * Truncate statement\n\t *\n\t * Generates a platform-specific truncate string from the supplied data\n\t *\n\t * If the database does not support the TRUNCATE statement,\n\t * then this method maps to 'DELETE FROM table'\n\t *\n\t * @param\tstring\t$table\n\t * @return\tstring\n\t *\/",614],["T_WHITESPACE","\n\t",624],["T_PROTECTED","protected",625],["T_WHITESPACE"," ",625],["T_FUNCTION","function",625],["T_WHITESPACE"," ",625],["T_STRING","_truncate",625],"(",["T_VARIABLE","$table",625],")",["T_WHITESPACE","\n\t",625],"{",["T_WHITESPACE","\n\t\t",626],["T_RETURN","return",627],["T_WHITESPACE"," ",627],["T_CONSTANT_ENCAPSED_STRING","'TRUNCATE TABLE '",627],".",["T_VARIABLE","$table",627],";",["T_WHITESPACE","\n\t",627],"}",["T_WHITESPACE","\n\n\t",628],["T_COMMENT","\/\/ --------------------------------------------------------------------\n",630],["T_WHITESPACE","\n\t",631],["T_DOC_COMMENT","\/**\n\t * Delete statement\n\t *\n\t * Generates a platform-specific delete string from the supplied data\n\t *\n\t * @param\tstring\t$table\n\t * @return\tstring\n\t *\/",632],["T_WHITESPACE","\n\t",639],["T_PROTECTED","protected",640],["T_WHITESPACE"," ",640],["T_FUNCTION","function",640],["T_WHITESPACE"," ",640],["T_STRING","_delete",640],"(",["T_VARIABLE","$table",640],")",["T_WHITESPACE","\n\t",640],"{",["T_WHITESPACE","\n\t\t",641],["T_IF","if",642],["T_WHITESPACE"," ",642],"(",["T_VARIABLE","$this",642],["T_OBJECT_OPERATOR","->",642],["T_STRING","qb_limit",642],")",["T_WHITESPACE","\n\t\t",642],"{",["T_WHITESPACE","\n\t\t\t",643],["T_VARIABLE","$this",644],["T_OBJECT_OPERATOR","->",644],["T_STRING","where",644],"(",["T_CONSTANT_ENCAPSED_STRING","'rownum <= '",644],",",["T_VARIABLE","$this",644],["T_OBJECT_OPERATOR","->",644],["T_STRING","qb_limit",644],",",["T_WHITESPACE"," ",644],["T_STRING","FALSE",644],")",";",["T_WHITESPACE","\n\t\t\t",644],["T_VARIABLE","$this",645],["T_OBJECT_OPERATOR","->",645],["T_STRING","qb_limit",645],["T_WHITESPACE"," ",645],"=",["T_WHITESPACE"," ",645],["T_STRING","FALSE",645],";",["T_WHITESPACE","\n\t\t",645],"}",["T_WHITESPACE","\n\n\t\t",646],["T_RETURN","return",648],["T_WHITESPACE"," ",648],["T_STRING","parent",648],["T_DOUBLE_COLON","::",648],["T_STRING","_delete",648],"(",["T_VARIABLE","$table",648],")",";",["T_WHITESPACE","\n\t",648],"}",["T_WHITESPACE","\n\n\t",649],["T_COMMENT","\/\/ --------------------------------------------------------------------\n",651],["T_WHITESPACE","\n\t",652],["T_DOC_COMMENT","\/**\n\t * LIMIT\n\t *\n\t * Generates a platform-specific LIMIT clause\n\t *\n\t * @param\tstring\t$sql\tSQL Query\n\t * @return\tstring\n\t *\/",653],["T_WHITESPACE","\n\t",660],["T_PROTECTED","protected",661],["T_WHITESPACE"," ",661],["T_FUNCTION","function",661],["T_WHITESPACE"," ",661],["T_STRING","_limit",661],"(",["T_VARIABLE","$sql",661],")",["T_WHITESPACE","\n\t",661],"{",["T_WHITESPACE","\n\t\t",662],["T_IF","if",663],["T_WHITESPACE"," ",663],"(",["T_STRING","version_compare",663],"(",["T_VARIABLE","$this",663],["T_OBJECT_OPERATOR","->",663],["T_STRING","version",663],"(",")",",",["T_WHITESPACE"," ",663],["T_CONSTANT_ENCAPSED_STRING","'12.1'",663],",",["T_WHITESPACE"," ",663],["T_CONSTANT_ENCAPSED_STRING","'>='",663],")",")",["T_WHITESPACE","\n\t\t",663],"{",["T_WHITESPACE","\n\t\t\t",664],["T_COMMENT","\/\/ OFFSET-FETCH can be used only with the ORDER BY clause\n",665],["T_WHITESPACE","\t\t\t",666],["T_EMPTY","empty",666],"(",["T_VARIABLE","$this",666],["T_OBJECT_OPERATOR","->",666],["T_STRING","qb_orderby",666],")",["T_WHITESPACE"," ",666],["T_BOOLEAN_AND","&&",666],["T_WHITESPACE"," ",666],["T_VARIABLE","$sql",666],["T_WHITESPACE"," ",666],["T_CONCAT_EQUAL",".=",666],["T_WHITESPACE"," ",666],["T_CONSTANT_ENCAPSED_STRING","' ORDER BY 1'",666],";",["T_WHITESPACE","\n\n\t\t\t",666],["T_RETURN","return",668],["T_WHITESPACE"," ",668],["T_VARIABLE","$sql",668],".",["T_CONSTANT_ENCAPSED_STRING","' OFFSET '",668],".",["T_INT_CAST","(int)",668],["T_WHITESPACE"," ",668],["T_VARIABLE","$this",668],["T_OBJECT_OPERATOR","->",668],["T_STRING","qb_offset",668],".",["T_CONSTANT_ENCAPSED_STRING","' ROWS FETCH NEXT '",668],".",["T_VARIABLE","$this",668],["T_OBJECT_OPERATOR","->",668],["T_STRING","qb_limit",668],".",["T_CONSTANT_ENCAPSED_STRING","' ROWS ONLY'",668],";",["T_WHITESPACE","\n\t\t",668],"}",["T_WHITESPACE","\n\n\t\t",669],["T_VARIABLE","$this",671],["T_OBJECT_OPERATOR","->",671],["T_STRING","limit_used",671],["T_WHITESPACE"," ",671],"=",["T_WHITESPACE"," ",671],["T_STRING","TRUE",671],";",["T_WHITESPACE","\n\t\t",671],["T_RETURN","return",672],["T_WHITESPACE"," ",672],["T_CONSTANT_ENCAPSED_STRING","'SELECT * FROM (SELECT inner_query.*, rownum rnum FROM ('",672],".",["T_VARIABLE","$sql",672],".",["T_CONSTANT_ENCAPSED_STRING","') inner_query WHERE rownum < '",672],".","(",["T_VARIABLE","$this",672],["T_OBJECT_OPERATOR","->",672],["T_STRING","qb_offset",672],["T_WHITESPACE"," ",672],"+",["T_WHITESPACE"," ",672],["T_VARIABLE","$this",672],["T_OBJECT_OPERATOR","->",672],["T_STRING","qb_limit",672],["T_WHITESPACE"," ",672],"+",["T_WHITESPACE"," ",672],["T_LNUMBER","1",672],")",".",["T_CONSTANT_ENCAPSED_STRING","')'",672],["T_WHITESPACE","\n\t\t\t",672],".","(",["T_VARIABLE","$this",673],["T_OBJECT_OPERATOR","->",673],["T_STRING","qb_offset",673],["T_WHITESPACE"," ",673],"?",["T_WHITESPACE"," ",673],["T_CONSTANT_ENCAPSED_STRING","' WHERE rnum >= '",673],".","(",["T_VARIABLE","$this",673],["T_OBJECT_OPERATOR","->",673],["T_STRING","qb_offset",673],["T_WHITESPACE"," ",673],"+",["T_WHITESPACE"," ",673],["T_LNUMBER","1",673],")",["T_WHITESPACE"," ",673],":",["T_WHITESPACE"," ",673],["T_CONSTANT_ENCAPSED_STRING","''",673],")",";",["T_WHITESPACE","\n\t",673],"}",["T_WHITESPACE","\n\n\t",674],["T_COMMENT","\/\/ --------------------------------------------------------------------\n",676],["T_WHITESPACE","\n\t",677],["T_DOC_COMMENT","\/**\n\t * Close DB Connection\n\t *\n\t * @return\tvoid\n\t *\/",678],["T_WHITESPACE","\n\t",682],["T_PROTECTED","protected",683],["T_WHITESPACE"," ",683],["T_FUNCTION","function",683],["T_WHITESPACE"," ",683],["T_STRING","_close",683],"(",")",["T_WHITESPACE","\n\t",683],"{",["T_WHITESPACE","\n\t\t",684],["T_STRING","oci_close",685],"(",["T_VARIABLE","$this",685],["T_OBJECT_OPERATOR","->",685],["T_STRING","conn_id",685],")",";",["T_WHITESPACE","\n\t",685],"}",["T_WHITESPACE","\n\n",686],"}",["T_WHITESPACE","\n",688]]