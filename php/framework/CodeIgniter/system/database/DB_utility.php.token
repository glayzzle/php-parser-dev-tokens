[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * CodeIgniter\n *\n * An open source application development framework for PHP\n *\n * This content is released under the MIT License (MIT)\n *\n * Copyright (c) 2014 - 2017, British Columbia Institute of Technology\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and\/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n *\n * @package\tCodeIgniter\n * @author\tEllisLab Dev Team\n * @copyright\tCopyright (c) 2008 - 2014, EllisLab, Inc. (https:\/\/ellislab.com\/)\n * @copyright\tCopyright (c) 2014 - 2017, British Columbia Institute of Technology (http:\/\/bcit.ca\/)\n * @license\thttp:\/\/opensource.org\/licenses\/MIT\tMIT License\n * @link\thttps:\/\/codeigniter.com\n * @since\tVersion 1.0.0\n * @filesource\n *\/",2],["T_WHITESPACE","\n",37],["T_STRING","defined",38],"(",["T_CONSTANT_ENCAPSED_STRING","'BASEPATH'",38],")",["T_WHITESPACE"," ",38],["T_LOGICAL_OR","OR",38],["T_WHITESPACE"," ",38],["T_EXIT","exit",38],"(",["T_CONSTANT_ENCAPSED_STRING","'No direct script access allowed'",38],")",";",["T_WHITESPACE","\n\n",38],["T_DOC_COMMENT","\/**\n * Database Utility Class\n *\n * @category\tDatabase\n * @author\t\tEllisLab Dev Team\n * @link\t\thttps:\/\/codeigniter.com\/user_guide\/database\/\n *\/",40],["T_WHITESPACE","\n",46],["T_ABSTRACT","abstract",47],["T_WHITESPACE"," ",47],["T_CLASS","class",47],["T_WHITESPACE"," ",47],["T_STRING","CI_DB_utility",47],["T_WHITESPACE"," ",47],"{",["T_WHITESPACE","\n\n\t",47],["T_DOC_COMMENT","\/**\n\t * Database object\n\t *\n\t * @var\tobject\n\t *\/",49],["T_WHITESPACE","\n\t",53],["T_PROTECTED","protected",54],["T_WHITESPACE"," ",54],["T_VARIABLE","$db",54],";",["T_WHITESPACE","\n\n\t",54],["T_COMMENT","\/\/ --------------------------------------------------------------------\n",56],["T_WHITESPACE","\n\t",57],["T_DOC_COMMENT","\/**\n\t * List databases statement\n\t *\n\t * @var\tstring\n\t *\/",58],["T_WHITESPACE","\n\t",62],["T_PROTECTED","protected",63],["T_WHITESPACE"," ",63],["T_VARIABLE","$_list_databases",63],["T_WHITESPACE","\t\t",63],"=",["T_WHITESPACE"," ",63],["T_STRING","FALSE",63],";",["T_WHITESPACE","\n\n\t",63],["T_DOC_COMMENT","\/**\n\t * OPTIMIZE TABLE statement\n\t *\n\t * @var\tstring\n\t *\/",65],["T_WHITESPACE","\n\t",69],["T_PROTECTED","protected",70],["T_WHITESPACE"," ",70],["T_VARIABLE","$_optimize_table",70],["T_WHITESPACE","\t",70],"=",["T_WHITESPACE"," ",70],["T_STRING","FALSE",70],";",["T_WHITESPACE","\n\n\t",70],["T_DOC_COMMENT","\/**\n\t * REPAIR TABLE statement\n\t *\n\t * @var\tstring\n\t *\/",72],["T_WHITESPACE","\n\t",76],["T_PROTECTED","protected",77],["T_WHITESPACE"," ",77],["T_VARIABLE","$_repair_table",77],["T_WHITESPACE","\t",77],"=",["T_WHITESPACE"," ",77],["T_STRING","FALSE",77],";",["T_WHITESPACE","\n\n\t",77],["T_COMMENT","\/\/ --------------------------------------------------------------------\n",79],["T_WHITESPACE","\n\t",80],["T_DOC_COMMENT","\/**\n\t * Class constructor\n\t *\n\t * @param\tobject\t&$db\tDatabase object\n\t * @return\tvoid\n\t *\/",81],["T_WHITESPACE","\n\t",86],["T_PUBLIC","public",87],["T_WHITESPACE"," ",87],["T_FUNCTION","function",87],["T_WHITESPACE"," ",87],["T_STRING","__construct",87],"(","&",["T_VARIABLE","$db",87],")",["T_WHITESPACE","\n\t",87],"{",["T_WHITESPACE","\n\t\t",88],["T_VARIABLE","$this",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","db",89],["T_WHITESPACE"," ",89],"=","&",["T_WHITESPACE"," ",89],["T_VARIABLE","$db",89],";",["T_WHITESPACE","\n\t\t",89],["T_STRING","log_message",90],"(",["T_CONSTANT_ENCAPSED_STRING","'info'",90],",",["T_WHITESPACE"," ",90],["T_CONSTANT_ENCAPSED_STRING","'Database Utility Class Initialized'",90],")",";",["T_WHITESPACE","\n\t",90],"}",["T_WHITESPACE","\n\n\t",91],["T_COMMENT","\/\/ --------------------------------------------------------------------\n",93],["T_WHITESPACE","\n\t",94],["T_DOC_COMMENT","\/**\n\t * List databases\n\t *\n\t * @return\tarray\n\t *\/",95],["T_WHITESPACE","\n\t",99],["T_PUBLIC","public",100],["T_WHITESPACE"," ",100],["T_FUNCTION","function",100],["T_WHITESPACE"," ",100],["T_STRING","list_databases",100],"(",")",["T_WHITESPACE","\n\t",100],"{",["T_WHITESPACE","\n\t\t",101],["T_COMMENT","\/\/ Is there a cached result?\n",102],["T_WHITESPACE","\t\t",103],["T_IF","if",103],["T_WHITESPACE"," ",103],"(",["T_ISSET","isset",103],"(",["T_VARIABLE","$this",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","db",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","data_cache",103],"[",["T_CONSTANT_ENCAPSED_STRING","'db_names'",103],"]",")",")",["T_WHITESPACE","\n\t\t",103],"{",["T_WHITESPACE","\n\t\t\t",104],["T_RETURN","return",105],["T_WHITESPACE"," ",105],["T_VARIABLE","$this",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","db",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","data_cache",105],"[",["T_CONSTANT_ENCAPSED_STRING","'db_names'",105],"]",";",["T_WHITESPACE","\n\t\t",105],"}",["T_WHITESPACE","\n\t\t",106],["T_ELSEIF","elseif",107],["T_WHITESPACE"," ",107],"(",["T_VARIABLE","$this",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","_list_databases",107],["T_WHITESPACE"," ",107],["T_IS_IDENTICAL","===",107],["T_WHITESPACE"," ",107],["T_STRING","FALSE",107],")",["T_WHITESPACE","\n\t\t",107],"{",["T_WHITESPACE","\n\t\t\t",108],["T_RETURN","return",109],["T_WHITESPACE"," ",109],"(",["T_VARIABLE","$this",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","db",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","db_debug",109],")",["T_WHITESPACE"," ",109],"?",["T_WHITESPACE"," ",109],["T_VARIABLE","$this",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","db",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","display_error",109],"(",["T_CONSTANT_ENCAPSED_STRING","'db_unsupported_feature'",109],")",["T_WHITESPACE"," ",109],":",["T_WHITESPACE"," ",109],["T_STRING","FALSE",109],";",["T_WHITESPACE","\n\t\t",109],"}",["T_WHITESPACE","\n\n\t\t",110],["T_VARIABLE","$this",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","db",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","data_cache",112],"[",["T_CONSTANT_ENCAPSED_STRING","'db_names'",112],"]",["T_WHITESPACE"," ",112],"=",["T_WHITESPACE"," ",112],["T_ARRAY","array",112],"(",")",";",["T_WHITESPACE","\n\n\t\t",112],["T_VARIABLE","$query",114],["T_WHITESPACE"," ",114],"=",["T_WHITESPACE"," ",114],["T_VARIABLE","$this",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","db",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","query",114],"(",["T_VARIABLE","$this",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","_list_databases",114],")",";",["T_WHITESPACE","\n\t\t",114],["T_IF","if",115],["T_WHITESPACE"," ",115],"(",["T_VARIABLE","$query",115],["T_WHITESPACE"," ",115],["T_IS_IDENTICAL","===",115],["T_WHITESPACE"," ",115],["T_STRING","FALSE",115],")",["T_WHITESPACE","\n\t\t",115],"{",["T_WHITESPACE","\n\t\t\t",116],["T_RETURN","return",117],["T_WHITESPACE"," ",117],["T_VARIABLE","$this",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","db",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","data_cache",117],"[",["T_CONSTANT_ENCAPSED_STRING","'db_names'",117],"]",";",["T_WHITESPACE","\n\t\t",117],"}",["T_WHITESPACE","\n\n\t\t",118],["T_FOR","for",120],["T_WHITESPACE"," ",120],"(",["T_VARIABLE","$i",120],["T_WHITESPACE"," ",120],"=",["T_WHITESPACE"," ",120],["T_LNUMBER","0",120],",",["T_WHITESPACE"," ",120],["T_VARIABLE","$query",120],["T_WHITESPACE"," ",120],"=",["T_WHITESPACE"," ",120],["T_VARIABLE","$query",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","result_array",120],"(",")",",",["T_WHITESPACE"," ",120],["T_VARIABLE","$c",120],["T_WHITESPACE"," ",120],"=",["T_WHITESPACE"," ",120],["T_STRING","count",120],"(",["T_VARIABLE","$query",120],")",";",["T_WHITESPACE"," ",120],["T_VARIABLE","$i",120],["T_WHITESPACE"," ",120],"<",["T_WHITESPACE"," ",120],["T_VARIABLE","$c",120],";",["T_WHITESPACE"," ",120],["T_VARIABLE","$i",120],["T_INC","++",120],")",["T_WHITESPACE","\n\t\t",120],"{",["T_WHITESPACE","\n\t\t\t",121],["T_VARIABLE","$this",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","db",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","data_cache",122],"[",["T_CONSTANT_ENCAPSED_STRING","'db_names'",122],"]","[","]",["T_WHITESPACE"," ",122],"=",["T_WHITESPACE"," ",122],["T_STRING","current",122],"(",["T_VARIABLE","$query",122],"[",["T_VARIABLE","$i",122],"]",")",";",["T_WHITESPACE","\n\t\t",122],"}",["T_WHITESPACE","\n\n\t\t",123],["T_RETURN","return",125],["T_WHITESPACE"," ",125],["T_VARIABLE","$this",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","db",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","data_cache",125],"[",["T_CONSTANT_ENCAPSED_STRING","'db_names'",125],"]",";",["T_WHITESPACE","\n\t",125],"}",["T_WHITESPACE","\n\n\t",126],["T_COMMENT","\/\/ --------------------------------------------------------------------\n",128],["T_WHITESPACE","\n\t",129],["T_DOC_COMMENT","\/**\n\t * Determine if a particular database exists\n\t *\n\t * @param\tstring\t$database_name\n\t * @return\tbool\n\t *\/",130],["T_WHITESPACE","\n\t",135],["T_PUBLIC","public",136],["T_WHITESPACE"," ",136],["T_FUNCTION","function",136],["T_WHITESPACE"," ",136],["T_STRING","database_exists",136],"(",["T_VARIABLE","$database_name",136],")",["T_WHITESPACE","\n\t",136],"{",["T_WHITESPACE","\n\t\t",137],["T_RETURN","return",138],["T_WHITESPACE"," ",138],["T_STRING","in_array",138],"(",["T_VARIABLE","$database_name",138],",",["T_WHITESPACE"," ",138],["T_VARIABLE","$this",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","list_databases",138],"(",")",")",";",["T_WHITESPACE","\n\t",138],"}",["T_WHITESPACE","\n\n\t",139],["T_COMMENT","\/\/ --------------------------------------------------------------------\n",141],["T_WHITESPACE","\n\t",142],["T_DOC_COMMENT","\/**\n\t * Optimize Table\n\t *\n\t * @param\tstring\t$table_name\n\t * @return\tmixed\n\t *\/",143],["T_WHITESPACE","\n\t",148],["T_PUBLIC","public",149],["T_WHITESPACE"," ",149],["T_FUNCTION","function",149],["T_WHITESPACE"," ",149],["T_STRING","optimize_table",149],"(",["T_VARIABLE","$table_name",149],")",["T_WHITESPACE","\n\t",149],"{",["T_WHITESPACE","\n\t\t",150],["T_IF","if",151],["T_WHITESPACE"," ",151],"(",["T_VARIABLE","$this",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","_optimize_table",151],["T_WHITESPACE"," ",151],["T_IS_IDENTICAL","===",151],["T_WHITESPACE"," ",151],["T_STRING","FALSE",151],")",["T_WHITESPACE","\n\t\t",151],"{",["T_WHITESPACE","\n\t\t\t",152],["T_RETURN","return",153],["T_WHITESPACE"," ",153],"(",["T_VARIABLE","$this",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","db",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","db_debug",153],")",["T_WHITESPACE"," ",153],"?",["T_WHITESPACE"," ",153],["T_VARIABLE","$this",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","db",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","display_error",153],"(",["T_CONSTANT_ENCAPSED_STRING","'db_unsupported_feature'",153],")",["T_WHITESPACE"," ",153],":",["T_WHITESPACE"," ",153],["T_STRING","FALSE",153],";",["T_WHITESPACE","\n\t\t",153],"}",["T_WHITESPACE","\n\n\t\t",154],["T_VARIABLE","$query",156],["T_WHITESPACE"," ",156],"=",["T_WHITESPACE"," ",156],["T_VARIABLE","$this",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","db",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","query",156],"(",["T_STRING","sprintf",156],"(",["T_VARIABLE","$this",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","_optimize_table",156],",",["T_WHITESPACE"," ",156],["T_VARIABLE","$this",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","db",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","escape_identifiers",156],"(",["T_VARIABLE","$table_name",156],")",")",")",";",["T_WHITESPACE","\n\t\t",156],["T_IF","if",157],["T_WHITESPACE"," ",157],"(",["T_VARIABLE","$query",157],["T_WHITESPACE"," ",157],["T_IS_NOT_IDENTICAL","!==",157],["T_WHITESPACE"," ",157],["T_STRING","FALSE",157],")",["T_WHITESPACE","\n\t\t",157],"{",["T_WHITESPACE","\n\t\t\t",158],["T_VARIABLE","$query",159],["T_WHITESPACE"," ",159],"=",["T_WHITESPACE"," ",159],["T_VARIABLE","$query",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","result_array",159],"(",")",";",["T_WHITESPACE","\n\t\t\t",159],["T_RETURN","return",160],["T_WHITESPACE"," ",160],["T_STRING","current",160],"(",["T_VARIABLE","$query",160],")",";",["T_WHITESPACE","\n\t\t",160],"}",["T_WHITESPACE","\n\n\t\t",161],["T_RETURN","return",163],["T_WHITESPACE"," ",163],["T_STRING","FALSE",163],";",["T_WHITESPACE","\n\t",163],"}",["T_WHITESPACE","\n\n\t",164],["T_COMMENT","\/\/ --------------------------------------------------------------------\n",166],["T_WHITESPACE","\n\t",167],["T_DOC_COMMENT","\/**\n\t * Optimize Database\n\t *\n\t * @return\tmixed\n\t *\/",168],["T_WHITESPACE","\n\t",172],["T_PUBLIC","public",173],["T_WHITESPACE"," ",173],["T_FUNCTION","function",173],["T_WHITESPACE"," ",173],["T_STRING","optimize_database",173],"(",")",["T_WHITESPACE","\n\t",173],"{",["T_WHITESPACE","\n\t\t",174],["T_IF","if",175],["T_WHITESPACE"," ",175],"(",["T_VARIABLE","$this",175],["T_OBJECT_OPERATOR","->",175],["T_STRING","_optimize_table",175],["T_WHITESPACE"," ",175],["T_IS_IDENTICAL","===",175],["T_WHITESPACE"," ",175],["T_STRING","FALSE",175],")",["T_WHITESPACE","\n\t\t",175],"{",["T_WHITESPACE","\n\t\t\t",176],["T_RETURN","return",177],["T_WHITESPACE"," ",177],"(",["T_VARIABLE","$this",177],["T_OBJECT_OPERATOR","->",177],["T_STRING","db",177],["T_OBJECT_OPERATOR","->",177],["T_STRING","db_debug",177],")",["T_WHITESPACE"," ",177],"?",["T_WHITESPACE"," ",177],["T_VARIABLE","$this",177],["T_OBJECT_OPERATOR","->",177],["T_STRING","db",177],["T_OBJECT_OPERATOR","->",177],["T_STRING","display_error",177],"(",["T_CONSTANT_ENCAPSED_STRING","'db_unsupported_feature'",177],")",["T_WHITESPACE"," ",177],":",["T_WHITESPACE"," ",177],["T_STRING","FALSE",177],";",["T_WHITESPACE","\n\t\t",177],"}",["T_WHITESPACE","\n\n\t\t",178],["T_VARIABLE","$result",180],["T_WHITESPACE"," ",180],"=",["T_WHITESPACE"," ",180],["T_ARRAY","array",180],"(",")",";",["T_WHITESPACE","\n\t\t",180],["T_FOREACH","foreach",181],["T_WHITESPACE"," ",181],"(",["T_VARIABLE","$this",181],["T_OBJECT_OPERATOR","->",181],["T_STRING","db",181],["T_OBJECT_OPERATOR","->",181],["T_STRING","list_tables",181],"(",")",["T_WHITESPACE"," ",181],["T_AS","as",181],["T_WHITESPACE"," ",181],["T_VARIABLE","$table_name",181],")",["T_WHITESPACE","\n\t\t",181],"{",["T_WHITESPACE","\n\t\t\t",182],["T_VARIABLE","$res",183],["T_WHITESPACE"," ",183],"=",["T_WHITESPACE"," ",183],["T_VARIABLE","$this",183],["T_OBJECT_OPERATOR","->",183],["T_STRING","db",183],["T_OBJECT_OPERATOR","->",183],["T_STRING","query",183],"(",["T_STRING","sprintf",183],"(",["T_VARIABLE","$this",183],["T_OBJECT_OPERATOR","->",183],["T_STRING","_optimize_table",183],",",["T_WHITESPACE"," ",183],["T_VARIABLE","$this",183],["T_OBJECT_OPERATOR","->",183],["T_STRING","db",183],["T_OBJECT_OPERATOR","->",183],["T_STRING","escape_identifiers",183],"(",["T_VARIABLE","$table_name",183],")",")",")",";",["T_WHITESPACE","\n\t\t\t",183],["T_IF","if",184],["T_WHITESPACE"," ",184],"(",["T_STRING","is_bool",184],"(",["T_VARIABLE","$res",184],")",")",["T_WHITESPACE","\n\t\t\t",184],"{",["T_WHITESPACE","\n\t\t\t\t",185],["T_RETURN","return",186],["T_WHITESPACE"," ",186],["T_VARIABLE","$res",186],";",["T_WHITESPACE","\n\t\t\t",186],"}",["T_WHITESPACE","\n\n\t\t\t",187],["T_COMMENT","\/\/ Build the result array...\n",189],["T_WHITESPACE","\t\t\t",190],["T_VARIABLE","$res",190],["T_WHITESPACE"," ",190],"=",["T_WHITESPACE"," ",190],["T_VARIABLE","$res",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","result_array",190],"(",")",";",["T_WHITESPACE","\n\t\t\t",190],["T_VARIABLE","$res",191],["T_WHITESPACE"," ",191],"=",["T_WHITESPACE"," ",191],["T_STRING","current",191],"(",["T_VARIABLE","$res",191],")",";",["T_WHITESPACE","\n\t\t\t",191],["T_VARIABLE","$key",192],["T_WHITESPACE"," ",192],"=",["T_WHITESPACE"," ",192],["T_STRING","str_replace",192],"(",["T_VARIABLE","$this",192],["T_OBJECT_OPERATOR","->",192],["T_STRING","db",192],["T_OBJECT_OPERATOR","->",192],["T_STRING","database",192],".",["T_CONSTANT_ENCAPSED_STRING","'.'",192],",",["T_WHITESPACE"," ",192],["T_CONSTANT_ENCAPSED_STRING","''",192],",",["T_WHITESPACE"," ",192],["T_STRING","current",192],"(",["T_VARIABLE","$res",192],")",")",";",["T_WHITESPACE","\n\t\t\t",192],["T_VARIABLE","$keys",193],["T_WHITESPACE"," ",193],"=",["T_WHITESPACE"," ",193],["T_STRING","array_keys",193],"(",["T_VARIABLE","$res",193],")",";",["T_WHITESPACE","\n\t\t\t",193],["T_UNSET","unset",194],"(",["T_VARIABLE","$res",194],"[",["T_VARIABLE","$keys",194],"[",["T_LNUMBER","0",194],"]","]",")",";",["T_WHITESPACE","\n\n\t\t\t",194],["T_VARIABLE","$result",196],"[",["T_VARIABLE","$key",196],"]",["T_WHITESPACE"," ",196],"=",["T_WHITESPACE"," ",196],["T_VARIABLE","$res",196],";",["T_WHITESPACE","\n\t\t",196],"}",["T_WHITESPACE","\n\n\t\t",197],["T_RETURN","return",199],["T_WHITESPACE"," ",199],["T_VARIABLE","$result",199],";",["T_WHITESPACE","\n\t",199],"}",["T_WHITESPACE","\n\n\t",200],["T_COMMENT","\/\/ --------------------------------------------------------------------\n",202],["T_WHITESPACE","\n\t",203],["T_DOC_COMMENT","\/**\n\t * Repair Table\n\t *\n\t * @param\tstring\t$table_name\n\t * @return\tmixed\n\t *\/",204],["T_WHITESPACE","\n\t",209],["T_PUBLIC","public",210],["T_WHITESPACE"," ",210],["T_FUNCTION","function",210],["T_WHITESPACE"," ",210],["T_STRING","repair_table",210],"(",["T_VARIABLE","$table_name",210],")",["T_WHITESPACE","\n\t",210],"{",["T_WHITESPACE","\n\t\t",211],["T_IF","if",212],["T_WHITESPACE"," ",212],"(",["T_VARIABLE","$this",212],["T_OBJECT_OPERATOR","->",212],["T_STRING","_repair_table",212],["T_WHITESPACE"," ",212],["T_IS_IDENTICAL","===",212],["T_WHITESPACE"," ",212],["T_STRING","FALSE",212],")",["T_WHITESPACE","\n\t\t",212],"{",["T_WHITESPACE","\n\t\t\t",213],["T_RETURN","return",214],["T_WHITESPACE"," ",214],"(",["T_VARIABLE","$this",214],["T_OBJECT_OPERATOR","->",214],["T_STRING","db",214],["T_OBJECT_OPERATOR","->",214],["T_STRING","db_debug",214],")",["T_WHITESPACE"," ",214],"?",["T_WHITESPACE"," ",214],["T_VARIABLE","$this",214],["T_OBJECT_OPERATOR","->",214],["T_STRING","db",214],["T_OBJECT_OPERATOR","->",214],["T_STRING","display_error",214],"(",["T_CONSTANT_ENCAPSED_STRING","'db_unsupported_feature'",214],")",["T_WHITESPACE"," ",214],":",["T_WHITESPACE"," ",214],["T_STRING","FALSE",214],";",["T_WHITESPACE","\n\t\t",214],"}",["T_WHITESPACE","\n\n\t\t",215],["T_VARIABLE","$query",217],["T_WHITESPACE"," ",217],"=",["T_WHITESPACE"," ",217],["T_VARIABLE","$this",217],["T_OBJECT_OPERATOR","->",217],["T_STRING","db",217],["T_OBJECT_OPERATOR","->",217],["T_STRING","query",217],"(",["T_STRING","sprintf",217],"(",["T_VARIABLE","$this",217],["T_OBJECT_OPERATOR","->",217],["T_STRING","_repair_table",217],",",["T_WHITESPACE"," ",217],["T_VARIABLE","$this",217],["T_OBJECT_OPERATOR","->",217],["T_STRING","db",217],["T_OBJECT_OPERATOR","->",217],["T_STRING","escape_identifiers",217],"(",["T_VARIABLE","$table_name",217],")",")",")",";",["T_WHITESPACE","\n\t\t",217],["T_IF","if",218],["T_WHITESPACE"," ",218],"(",["T_STRING","is_bool",218],"(",["T_VARIABLE","$query",218],")",")",["T_WHITESPACE","\n\t\t",218],"{",["T_WHITESPACE","\n\t\t\t",219],["T_RETURN","return",220],["T_WHITESPACE"," ",220],["T_VARIABLE","$query",220],";",["T_WHITESPACE","\n\t\t",220],"}",["T_WHITESPACE","\n\n\t\t",221],["T_VARIABLE","$query",223],["T_WHITESPACE"," ",223],"=",["T_WHITESPACE"," ",223],["T_VARIABLE","$query",223],["T_OBJECT_OPERATOR","->",223],["T_STRING","result_array",223],"(",")",";",["T_WHITESPACE","\n\t\t",223],["T_RETURN","return",224],["T_WHITESPACE"," ",224],["T_STRING","current",224],"(",["T_VARIABLE","$query",224],")",";",["T_WHITESPACE","\n\t",224],"}",["T_WHITESPACE","\n\n\t",225],["T_COMMENT","\/\/ --------------------------------------------------------------------\n",227],["T_WHITESPACE","\n\t",228],["T_DOC_COMMENT","\/**\n\t * Generate CSV from a query result object\n\t *\n\t * @param\tobject\t$query\t\tQuery result object\n\t * @param\tstring\t$delim\t\tDelimiter (default: ,)\n\t * @param\tstring\t$newline\tNewline character (default: \\n)\n\t * @param\tstring\t$enclosure\tEnclosure (default: \")\n\t * @return\tstring\n\t *\/",229],["T_WHITESPACE","\n\t",237],["T_PUBLIC","public",238],["T_WHITESPACE"," ",238],["T_FUNCTION","function",238],["T_WHITESPACE"," ",238],["T_STRING","csv_from_result",238],"(",["T_STRING","CI_DB_result",238],["T_WHITESPACE"," ",238],["T_VARIABLE","$query",238],",",["T_WHITESPACE"," ",238],["T_VARIABLE","$delim",238],["T_WHITESPACE"," ",238],"=",["T_WHITESPACE"," ",238],["T_CONSTANT_ENCAPSED_STRING","','",238],",",["T_WHITESPACE"," ",238],["T_VARIABLE","$newline",238],["T_WHITESPACE"," ",238],"=",["T_WHITESPACE"," ",238],["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",238],",",["T_WHITESPACE"," ",238],["T_VARIABLE","$enclosure",238],["T_WHITESPACE"," ",238],"=",["T_WHITESPACE"," ",238],["T_CONSTANT_ENCAPSED_STRING","'\"'",238],")",["T_WHITESPACE","\n\t",238],"{",["T_WHITESPACE","\n\t\t",239],["T_VARIABLE","$out",240],["T_WHITESPACE"," ",240],"=",["T_WHITESPACE"," ",240],["T_CONSTANT_ENCAPSED_STRING","''",240],";",["T_WHITESPACE","\n\t\t",240],["T_COMMENT","\/\/ First generate the headings from the table column names\n",241],["T_WHITESPACE","\t\t",242],["T_FOREACH","foreach",242],["T_WHITESPACE"," ",242],"(",["T_VARIABLE","$query",242],["T_OBJECT_OPERATOR","->",242],["T_STRING","list_fields",242],"(",")",["T_WHITESPACE"," ",242],["T_AS","as",242],["T_WHITESPACE"," ",242],["T_VARIABLE","$name",242],")",["T_WHITESPACE","\n\t\t",242],"{",["T_WHITESPACE","\n\t\t\t",243],["T_VARIABLE","$out",244],["T_WHITESPACE"," ",244],["T_CONCAT_EQUAL",".=",244],["T_WHITESPACE"," ",244],["T_VARIABLE","$enclosure",244],".",["T_STRING","str_replace",244],"(",["T_VARIABLE","$enclosure",244],",",["T_WHITESPACE"," ",244],["T_VARIABLE","$enclosure",244],".",["T_VARIABLE","$enclosure",244],",",["T_WHITESPACE"," ",244],["T_VARIABLE","$name",244],")",".",["T_VARIABLE","$enclosure",244],".",["T_VARIABLE","$delim",244],";",["T_WHITESPACE","\n\t\t",244],"}",["T_WHITESPACE","\n\n\t\t",245],["T_VARIABLE","$out",247],["T_WHITESPACE"," ",247],"=",["T_WHITESPACE"," ",247],["T_STRING","substr",247],"(",["T_VARIABLE","$out",247],",",["T_WHITESPACE"," ",247],["T_LNUMBER","0",247],",",["T_WHITESPACE"," ",247],"-",["T_STRING","strlen",247],"(",["T_VARIABLE","$delim",247],")",")",".",["T_VARIABLE","$newline",247],";",["T_WHITESPACE","\n\n\t\t",247],["T_COMMENT","\/\/ Next blast through the result array and build out the rows\n",249],["T_WHITESPACE","\t\t",250],["T_WHILE","while",250],["T_WHITESPACE"," ",250],"(",["T_VARIABLE","$row",250],["T_WHITESPACE"," ",250],"=",["T_WHITESPACE"," ",250],["T_VARIABLE","$query",250],["T_OBJECT_OPERATOR","->",250],["T_STRING","unbuffered_row",250],"(",["T_CONSTANT_ENCAPSED_STRING","'array'",250],")",")",["T_WHITESPACE","\n\t\t",250],"{",["T_WHITESPACE","\n\t\t\t",251],["T_VARIABLE","$line",252],["T_WHITESPACE"," ",252],"=",["T_WHITESPACE"," ",252],["T_ARRAY","array",252],"(",")",";",["T_WHITESPACE","\n\t\t\t",252],["T_FOREACH","foreach",253],["T_WHITESPACE"," ",253],"(",["T_VARIABLE","$row",253],["T_WHITESPACE"," ",253],["T_AS","as",253],["T_WHITESPACE"," ",253],["T_VARIABLE","$item",253],")",["T_WHITESPACE","\n\t\t\t",253],"{",["T_WHITESPACE","\n\t\t\t\t",254],["T_VARIABLE","$line",255],"[","]",["T_WHITESPACE"," ",255],"=",["T_WHITESPACE"," ",255],["T_VARIABLE","$enclosure",255],".",["T_STRING","str_replace",255],"(",["T_VARIABLE","$enclosure",255],",",["T_WHITESPACE"," ",255],["T_VARIABLE","$enclosure",255],".",["T_VARIABLE","$enclosure",255],",",["T_WHITESPACE"," ",255],["T_VARIABLE","$item",255],")",".",["T_VARIABLE","$enclosure",255],";",["T_WHITESPACE","\n\t\t\t",255],"}",["T_WHITESPACE","\n\t\t\t",256],["T_VARIABLE","$out",257],["T_WHITESPACE"," ",257],["T_CONCAT_EQUAL",".=",257],["T_WHITESPACE"," ",257],["T_STRING","implode",257],"(",["T_VARIABLE","$delim",257],",",["T_WHITESPACE"," ",257],["T_VARIABLE","$line",257],")",".",["T_VARIABLE","$newline",257],";",["T_WHITESPACE","\n\t\t",257],"}",["T_WHITESPACE","\n\n\t\t",258],["T_RETURN","return",260],["T_WHITESPACE"," ",260],["T_VARIABLE","$out",260],";",["T_WHITESPACE","\n\t",260],"}",["T_WHITESPACE","\n\n\t",261],["T_COMMENT","\/\/ --------------------------------------------------------------------\n",263],["T_WHITESPACE","\n\t",264],["T_DOC_COMMENT","\/**\n\t * Generate XML data from a query result object\n\t *\n\t * @param\tobject\t$query\tQuery result object\n\t * @param\tarray\t$params\tAny preferences\n\t * @return\tstring\n\t *\/",265],["T_WHITESPACE","\n\t",271],["T_PUBLIC","public",272],["T_WHITESPACE"," ",272],["T_FUNCTION","function",272],["T_WHITESPACE"," ",272],["T_STRING","xml_from_result",272],"(",["T_STRING","CI_DB_result",272],["T_WHITESPACE"," ",272],["T_VARIABLE","$query",272],",",["T_WHITESPACE"," ",272],["T_VARIABLE","$params",272],["T_WHITESPACE"," ",272],"=",["T_WHITESPACE"," ",272],["T_ARRAY","array",272],"(",")",")",["T_WHITESPACE","\n\t",272],"{",["T_WHITESPACE","\n\t\t",273],["T_COMMENT","\/\/ Set our default values\n",274],["T_WHITESPACE","\t\t",275],["T_FOREACH","foreach",275],["T_WHITESPACE"," ",275],"(",["T_ARRAY","array",275],"(",["T_CONSTANT_ENCAPSED_STRING","'root'",275],["T_WHITESPACE"," ",275],["T_DOUBLE_ARROW","=>",275],["T_WHITESPACE"," ",275],["T_CONSTANT_ENCAPSED_STRING","'root'",275],",",["T_WHITESPACE"," ",275],["T_CONSTANT_ENCAPSED_STRING","'element'",275],["T_WHITESPACE"," ",275],["T_DOUBLE_ARROW","=>",275],["T_WHITESPACE"," ",275],["T_CONSTANT_ENCAPSED_STRING","'element'",275],",",["T_WHITESPACE"," ",275],["T_CONSTANT_ENCAPSED_STRING","'newline'",275],["T_WHITESPACE"," ",275],["T_DOUBLE_ARROW","=>",275],["T_WHITESPACE"," ",275],["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",275],",",["T_WHITESPACE"," ",275],["T_CONSTANT_ENCAPSED_STRING","'tab'",275],["T_WHITESPACE"," ",275],["T_DOUBLE_ARROW","=>",275],["T_WHITESPACE"," ",275],["T_CONSTANT_ENCAPSED_STRING","\"\\t\"",275],")",["T_WHITESPACE"," ",275],["T_AS","as",275],["T_WHITESPACE"," ",275],["T_VARIABLE","$key",275],["T_WHITESPACE"," ",275],["T_DOUBLE_ARROW","=>",275],["T_WHITESPACE"," ",275],["T_VARIABLE","$val",275],")",["T_WHITESPACE","\n\t\t",275],"{",["T_WHITESPACE","\n\t\t\t",276],["T_IF","if",277],["T_WHITESPACE"," ",277],"(",["T_WHITESPACE"," ",277],"!",["T_WHITESPACE"," ",277],["T_ISSET","isset",277],"(",["T_VARIABLE","$params",277],"[",["T_VARIABLE","$key",277],"]",")",")",["T_WHITESPACE","\n\t\t\t",277],"{",["T_WHITESPACE","\n\t\t\t\t",278],["T_VARIABLE","$params",279],"[",["T_VARIABLE","$key",279],"]",["T_WHITESPACE"," ",279],"=",["T_WHITESPACE"," ",279],["T_VARIABLE","$val",279],";",["T_WHITESPACE","\n\t\t\t",279],"}",["T_WHITESPACE","\n\t\t",280],"}",["T_WHITESPACE","\n\n\t\t",281],["T_COMMENT","\/\/ Create variables for convenience\n",283],["T_WHITESPACE","\t\t",284],["T_STRING","extract",284],"(",["T_VARIABLE","$params",284],")",";",["T_WHITESPACE","\n\n\t\t",284],["T_COMMENT","\/\/ Load the xml helper\n",286],["T_WHITESPACE","\t\t",287],["T_STRING","get_instance",287],"(",")",["T_OBJECT_OPERATOR","->",287],["T_STRING","load",287],["T_OBJECT_OPERATOR","->",287],["T_STRING","helper",287],"(",["T_CONSTANT_ENCAPSED_STRING","'xml'",287],")",";",["T_WHITESPACE","\n\n\t\t",287],["T_COMMENT","\/\/ Generate the result\n",289],["T_WHITESPACE","\t\t",290],["T_VARIABLE","$xml",290],["T_WHITESPACE"," ",290],"=",["T_WHITESPACE"," ",290],["T_CONSTANT_ENCAPSED_STRING","'<'",290],".",["T_VARIABLE","$root",290],".",["T_CONSTANT_ENCAPSED_STRING","'>'",290],".",["T_VARIABLE","$newline",290],";",["T_WHITESPACE","\n\t\t",290],["T_WHILE","while",291],["T_WHITESPACE"," ",291],"(",["T_VARIABLE","$row",291],["T_WHITESPACE"," ",291],"=",["T_WHITESPACE"," ",291],["T_VARIABLE","$query",291],["T_OBJECT_OPERATOR","->",291],["T_STRING","unbuffered_row",291],"(",")",")",["T_WHITESPACE","\n\t\t",291],"{",["T_WHITESPACE","\n\t\t\t",292],["T_VARIABLE","$xml",293],["T_WHITESPACE"," ",293],["T_CONCAT_EQUAL",".=",293],["T_WHITESPACE"," ",293],["T_VARIABLE","$tab",293],".",["T_CONSTANT_ENCAPSED_STRING","'<'",293],".",["T_VARIABLE","$element",293],".",["T_CONSTANT_ENCAPSED_STRING","'>'",293],".",["T_VARIABLE","$newline",293],";",["T_WHITESPACE","\n\t\t\t",293],["T_FOREACH","foreach",294],["T_WHITESPACE"," ",294],"(",["T_VARIABLE","$row",294],["T_WHITESPACE"," ",294],["T_AS","as",294],["T_WHITESPACE"," ",294],["T_VARIABLE","$key",294],["T_WHITESPACE"," ",294],["T_DOUBLE_ARROW","=>",294],["T_WHITESPACE"," ",294],["T_VARIABLE","$val",294],")",["T_WHITESPACE","\n\t\t\t",294],"{",["T_WHITESPACE","\n\t\t\t\t",295],["T_VARIABLE","$xml",296],["T_WHITESPACE"," ",296],["T_CONCAT_EQUAL",".=",296],["T_WHITESPACE"," ",296],["T_VARIABLE","$tab",296],".",["T_VARIABLE","$tab",296],".",["T_CONSTANT_ENCAPSED_STRING","'<'",296],".",["T_VARIABLE","$key",296],".",["T_CONSTANT_ENCAPSED_STRING","'>'",296],".",["T_STRING","xml_convert",296],"(",["T_VARIABLE","$val",296],")",".",["T_CONSTANT_ENCAPSED_STRING","'<\/'",296],".",["T_VARIABLE","$key",296],".",["T_CONSTANT_ENCAPSED_STRING","'>'",296],".",["T_VARIABLE","$newline",296],";",["T_WHITESPACE","\n\t\t\t",296],"}",["T_WHITESPACE","\n\t\t\t",297],["T_VARIABLE","$xml",298],["T_WHITESPACE"," ",298],["T_CONCAT_EQUAL",".=",298],["T_WHITESPACE"," ",298],["T_VARIABLE","$tab",298],".",["T_CONSTANT_ENCAPSED_STRING","'<\/'",298],".",["T_VARIABLE","$element",298],".",["T_CONSTANT_ENCAPSED_STRING","'>'",298],".",["T_VARIABLE","$newline",298],";",["T_WHITESPACE","\n\t\t",298],"}",["T_WHITESPACE","\n\n\t\t",299],["T_RETURN","return",301],["T_WHITESPACE"," ",301],["T_VARIABLE","$xml",301],".",["T_CONSTANT_ENCAPSED_STRING","'<\/'",301],".",["T_VARIABLE","$root",301],".",["T_CONSTANT_ENCAPSED_STRING","'>'",301],".",["T_VARIABLE","$newline",301],";",["T_WHITESPACE","\n\t",301],"}",["T_WHITESPACE","\n\n\t",302],["T_COMMENT","\/\/ --------------------------------------------------------------------\n",304],["T_WHITESPACE","\n\t",305],["T_DOC_COMMENT","\/**\n\t * Database Backup\n\t *\n\t * @param\tarray\t$params\n\t * @return\tstring\n\t *\/",306],["T_WHITESPACE","\n\t",311],["T_PUBLIC","public",312],["T_WHITESPACE"," ",312],["T_FUNCTION","function",312],["T_WHITESPACE"," ",312],["T_STRING","backup",312],"(",["T_VARIABLE","$params",312],["T_WHITESPACE"," ",312],"=",["T_WHITESPACE"," ",312],["T_ARRAY","array",312],"(",")",")",["T_WHITESPACE","\n\t",312],"{",["T_WHITESPACE","\n\t\t",313],["T_COMMENT","\/\/ If the parameters have not been submitted as an\n",314],["T_WHITESPACE","\t\t",315],["T_COMMENT","\/\/ array then we know that it is simply the table\n",315],["T_WHITESPACE","\t\t",316],["T_COMMENT","\/\/ name, which is a valid short cut.\n",316],["T_WHITESPACE","\t\t",317],["T_IF","if",317],["T_WHITESPACE"," ",317],"(",["T_STRING","is_string",317],"(",["T_VARIABLE","$params",317],")",")",["T_WHITESPACE","\n\t\t",317],"{",["T_WHITESPACE","\n\t\t\t",318],["T_VARIABLE","$params",319],["T_WHITESPACE"," ",319],"=",["T_WHITESPACE"," ",319],["T_ARRAY","array",319],"(",["T_CONSTANT_ENCAPSED_STRING","'tables'",319],["T_WHITESPACE"," ",319],["T_DOUBLE_ARROW","=>",319],["T_WHITESPACE"," ",319],["T_VARIABLE","$params",319],")",";",["T_WHITESPACE","\n\t\t",319],"}",["T_WHITESPACE","\n\n\t\t",320],["T_COMMENT","\/\/ Set up our default preferences\n",322],["T_WHITESPACE","\t\t",323],["T_VARIABLE","$prefs",323],["T_WHITESPACE"," ",323],"=",["T_WHITESPACE"," ",323],["T_ARRAY","array",323],"(",["T_WHITESPACE","\n\t\t\t",323],["T_CONSTANT_ENCAPSED_STRING","'tables'",324],["T_WHITESPACE","\t\t",324],["T_DOUBLE_ARROW","=>",324],["T_WHITESPACE"," ",324],["T_ARRAY","array",324],"(",")",",",["T_WHITESPACE","\n\t\t\t",324],["T_CONSTANT_ENCAPSED_STRING","'ignore'",325],["T_WHITESPACE","\t\t",325],["T_DOUBLE_ARROW","=>",325],["T_WHITESPACE"," ",325],["T_ARRAY","array",325],"(",")",",",["T_WHITESPACE","\n\t\t\t",325],["T_CONSTANT_ENCAPSED_STRING","'filename'",326],["T_WHITESPACE","\t\t",326],["T_DOUBLE_ARROW","=>",326],["T_WHITESPACE"," ",326],["T_CONSTANT_ENCAPSED_STRING","''",326],",",["T_WHITESPACE","\n\t\t\t",326],["T_CONSTANT_ENCAPSED_STRING","'format'",327],["T_WHITESPACE","\t\t",327],["T_DOUBLE_ARROW","=>",327],["T_WHITESPACE"," ",327],["T_CONSTANT_ENCAPSED_STRING","'gzip'",327],",",["T_WHITESPACE"," ",327],["T_COMMENT","\/\/ gzip, zip, txt\n",327],["T_WHITESPACE","\t\t\t",328],["T_CONSTANT_ENCAPSED_STRING","'add_drop'",328],["T_WHITESPACE","\t\t",328],["T_DOUBLE_ARROW","=>",328],["T_WHITESPACE"," ",328],["T_STRING","TRUE",328],",",["T_WHITESPACE","\n\t\t\t",328],["T_CONSTANT_ENCAPSED_STRING","'add_insert'",329],["T_WHITESPACE","\t\t",329],["T_DOUBLE_ARROW","=>",329],["T_WHITESPACE"," ",329],["T_STRING","TRUE",329],",",["T_WHITESPACE","\n\t\t\t",329],["T_CONSTANT_ENCAPSED_STRING","'newline'",330],["T_WHITESPACE","\t\t",330],["T_DOUBLE_ARROW","=>",330],["T_WHITESPACE"," ",330],["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",330],",",["T_WHITESPACE","\n\t\t\t",330],["T_CONSTANT_ENCAPSED_STRING","'foreign_key_checks'",331],["T_WHITESPACE","\t",331],["T_DOUBLE_ARROW","=>",331],["T_WHITESPACE"," ",331],["T_STRING","TRUE",331],["T_WHITESPACE","\n\t\t",331],")",";",["T_WHITESPACE","\n\n\t\t",332],["T_COMMENT","\/\/ Did the user submit any preferences? If so set them....\n",334],["T_WHITESPACE","\t\t",335],["T_IF","if",335],["T_WHITESPACE"," ",335],"(",["T_STRING","count",335],"(",["T_VARIABLE","$params",335],")",["T_WHITESPACE"," ",335],">",["T_WHITESPACE"," ",335],["T_LNUMBER","0",335],")",["T_WHITESPACE","\n\t\t",335],"{",["T_WHITESPACE","\n\t\t\t",336],["T_FOREACH","foreach",337],["T_WHITESPACE"," ",337],"(",["T_VARIABLE","$prefs",337],["T_WHITESPACE"," ",337],["T_AS","as",337],["T_WHITESPACE"," ",337],["T_VARIABLE","$key",337],["T_WHITESPACE"," ",337],["T_DOUBLE_ARROW","=>",337],["T_WHITESPACE"," ",337],["T_VARIABLE","$val",337],")",["T_WHITESPACE","\n\t\t\t",337],"{",["T_WHITESPACE","\n\t\t\t\t",338],["T_IF","if",339],["T_WHITESPACE"," ",339],"(",["T_ISSET","isset",339],"(",["T_VARIABLE","$params",339],"[",["T_VARIABLE","$key",339],"]",")",")",["T_WHITESPACE","\n\t\t\t\t",339],"{",["T_WHITESPACE","\n\t\t\t\t\t",340],["T_VARIABLE","$prefs",341],"[",["T_VARIABLE","$key",341],"]",["T_WHITESPACE"," ",341],"=",["T_WHITESPACE"," ",341],["T_VARIABLE","$params",341],"[",["T_VARIABLE","$key",341],"]",";",["T_WHITESPACE","\n\t\t\t\t",341],"}",["T_WHITESPACE","\n\t\t\t",342],"}",["T_WHITESPACE","\n\t\t",343],"}",["T_WHITESPACE","\n\n\t\t",344],["T_COMMENT","\/\/ Are we backing up a complete database or individual tables?\n",346],["T_WHITESPACE","\t\t",347],["T_COMMENT","\/\/ If no table names were submitted we'll fetch the entire table list\n",347],["T_WHITESPACE","\t\t",348],["T_IF","if",348],["T_WHITESPACE"," ",348],"(",["T_STRING","count",348],"(",["T_VARIABLE","$prefs",348],"[",["T_CONSTANT_ENCAPSED_STRING","'tables'",348],"]",")",["T_WHITESPACE"," ",348],["T_IS_IDENTICAL","===",348],["T_WHITESPACE"," ",348],["T_LNUMBER","0",348],")",["T_WHITESPACE","\n\t\t",348],"{",["T_WHITESPACE","\n\t\t\t",349],["T_VARIABLE","$prefs",350],"[",["T_CONSTANT_ENCAPSED_STRING","'tables'",350],"]",["T_WHITESPACE"," ",350],"=",["T_WHITESPACE"," ",350],["T_VARIABLE","$this",350],["T_OBJECT_OPERATOR","->",350],["T_STRING","db",350],["T_OBJECT_OPERATOR","->",350],["T_STRING","list_tables",350],"(",")",";",["T_WHITESPACE","\n\t\t",350],"}",["T_WHITESPACE","\n\n\t\t",351],["T_COMMENT","\/\/ Validate the format\n",353],["T_WHITESPACE","\t\t",354],["T_IF","if",354],["T_WHITESPACE"," ",354],"(",["T_WHITESPACE"," ",354],"!",["T_WHITESPACE"," ",354],["T_STRING","in_array",354],"(",["T_VARIABLE","$prefs",354],"[",["T_CONSTANT_ENCAPSED_STRING","'format'",354],"]",",",["T_WHITESPACE"," ",354],["T_ARRAY","array",354],"(",["T_CONSTANT_ENCAPSED_STRING","'gzip'",354],",",["T_WHITESPACE"," ",354],["T_CONSTANT_ENCAPSED_STRING","'zip'",354],",",["T_WHITESPACE"," ",354],["T_CONSTANT_ENCAPSED_STRING","'txt'",354],")",",",["T_WHITESPACE"," ",354],["T_STRING","TRUE",354],")",")",["T_WHITESPACE","\n\t\t",354],"{",["T_WHITESPACE","\n\t\t\t",355],["T_VARIABLE","$prefs",356],"[",["T_CONSTANT_ENCAPSED_STRING","'format'",356],"]",["T_WHITESPACE"," ",356],"=",["T_WHITESPACE"," ",356],["T_CONSTANT_ENCAPSED_STRING","'txt'",356],";",["T_WHITESPACE","\n\t\t",356],"}",["T_WHITESPACE","\n\n\t\t",357],["T_COMMENT","\/\/ Is the encoder supported? If not, we'll either issue an\n",359],["T_WHITESPACE","\t\t",360],["T_COMMENT","\/\/ error or use plain text depending on the debug settings\n",360],["T_WHITESPACE","\t\t",361],["T_IF","if",361],["T_WHITESPACE"," ",361],"(","(",["T_VARIABLE","$prefs",361],"[",["T_CONSTANT_ENCAPSED_STRING","'format'",361],"]",["T_WHITESPACE"," ",361],["T_IS_IDENTICAL","===",361],["T_WHITESPACE"," ",361],["T_CONSTANT_ENCAPSED_STRING","'gzip'",361],["T_WHITESPACE"," ",361],["T_BOOLEAN_AND","&&",361],["T_WHITESPACE"," ",361],"!",["T_WHITESPACE"," ",361],["T_STRING","function_exists",361],"(",["T_CONSTANT_ENCAPSED_STRING","'gzencode'",361],")",")",["T_WHITESPACE","\n\t\t\t",361],["T_LOGICAL_OR","OR",362],["T_WHITESPACE"," ",362],"(",["T_VARIABLE","$prefs",362],"[",["T_CONSTANT_ENCAPSED_STRING","'format'",362],"]",["T_WHITESPACE"," ",362],["T_IS_IDENTICAL","===",362],["T_WHITESPACE"," ",362],["T_CONSTANT_ENCAPSED_STRING","'zip'",362],["T_WHITESPACE"," ",362],["T_BOOLEAN_AND","&&",362],["T_WHITESPACE"," ",362],"!",["T_WHITESPACE"," ",362],["T_STRING","function_exists",362],"(",["T_CONSTANT_ENCAPSED_STRING","'gzcompress'",362],")",")",")",["T_WHITESPACE","\n\t\t",362],"{",["T_WHITESPACE","\n\t\t\t",363],["T_IF","if",364],["T_WHITESPACE"," ",364],"(",["T_VARIABLE","$this",364],["T_OBJECT_OPERATOR","->",364],["T_STRING","db",364],["T_OBJECT_OPERATOR","->",364],["T_STRING","db_debug",364],")",["T_WHITESPACE","\n\t\t\t",364],"{",["T_WHITESPACE","\n\t\t\t\t",365],["T_RETURN","return",366],["T_WHITESPACE"," ",366],["T_VARIABLE","$this",366],["T_OBJECT_OPERATOR","->",366],["T_STRING","db",366],["T_OBJECT_OPERATOR","->",366],["T_STRING","display_error",366],"(",["T_CONSTANT_ENCAPSED_STRING","'db_unsupported_compression'",366],")",";",["T_WHITESPACE","\n\t\t\t",366],"}",["T_WHITESPACE","\n\n\t\t\t",367],["T_VARIABLE","$prefs",369],"[",["T_CONSTANT_ENCAPSED_STRING","'format'",369],"]",["T_WHITESPACE"," ",369],"=",["T_WHITESPACE"," ",369],["T_CONSTANT_ENCAPSED_STRING","'txt'",369],";",["T_WHITESPACE","\n\t\t",369],"}",["T_WHITESPACE","\n\n\t\t",370],["T_COMMENT","\/\/ Was a Zip file requested?\n",372],["T_WHITESPACE","\t\t",373],["T_IF","if",373],["T_WHITESPACE"," ",373],"(",["T_VARIABLE","$prefs",373],"[",["T_CONSTANT_ENCAPSED_STRING","'format'",373],"]",["T_WHITESPACE"," ",373],["T_IS_IDENTICAL","===",373],["T_WHITESPACE"," ",373],["T_CONSTANT_ENCAPSED_STRING","'zip'",373],")",["T_WHITESPACE","\n\t\t",373],"{",["T_WHITESPACE","\n\t\t\t",374],["T_COMMENT","\/\/ Set the filename if not provided (only needed with Zip files)\n",375],["T_WHITESPACE","\t\t\t",376],["T_IF","if",376],["T_WHITESPACE"," ",376],"(",["T_VARIABLE","$prefs",376],"[",["T_CONSTANT_ENCAPSED_STRING","'filename'",376],"]",["T_WHITESPACE"," ",376],["T_IS_IDENTICAL","===",376],["T_WHITESPACE"," ",376],["T_CONSTANT_ENCAPSED_STRING","''",376],")",["T_WHITESPACE","\n\t\t\t",376],"{",["T_WHITESPACE","\n\t\t\t\t",377],["T_VARIABLE","$prefs",378],"[",["T_CONSTANT_ENCAPSED_STRING","'filename'",378],"]",["T_WHITESPACE"," ",378],"=",["T_WHITESPACE"," ",378],"(",["T_STRING","count",378],"(",["T_VARIABLE","$prefs",378],"[",["T_CONSTANT_ENCAPSED_STRING","'tables'",378],"]",")",["T_WHITESPACE"," ",378],["T_IS_IDENTICAL","===",378],["T_WHITESPACE"," ",378],["T_LNUMBER","1",378],["T_WHITESPACE"," ",378],"?",["T_WHITESPACE"," ",378],["T_VARIABLE","$prefs",378],"[",["T_CONSTANT_ENCAPSED_STRING","'tables'",378],"]",["T_WHITESPACE"," ",378],":",["T_WHITESPACE"," ",378],["T_VARIABLE","$this",378],["T_OBJECT_OPERATOR","->",378],["T_STRING","db",378],["T_OBJECT_OPERATOR","->",378],["T_STRING","database",378],")",["T_WHITESPACE","\n\t\t\t\t\t\t\t",378],".",["T_STRING","date",379],"(",["T_CONSTANT_ENCAPSED_STRING","'Y-m-d_H-i'",379],",",["T_WHITESPACE"," ",379],["T_STRING","time",379],"(",")",")",".",["T_CONSTANT_ENCAPSED_STRING","'.sql'",379],";",["T_WHITESPACE","\n\t\t\t",379],"}",["T_WHITESPACE","\n\t\t\t",380],["T_ELSE","else",381],["T_WHITESPACE","\n\t\t\t",381],"{",["T_WHITESPACE","\n\t\t\t\t",382],["T_COMMENT","\/\/ If they included the .zip file extension we'll remove it\n",383],["T_WHITESPACE","\t\t\t\t",384],["T_IF","if",384],["T_WHITESPACE"," ",384],"(",["T_STRING","preg_match",384],"(",["T_CONSTANT_ENCAPSED_STRING","'|.+?\\.zip$|'",384],",",["T_WHITESPACE"," ",384],["T_VARIABLE","$prefs",384],"[",["T_CONSTANT_ENCAPSED_STRING","'filename'",384],"]",")",")",["T_WHITESPACE","\n\t\t\t\t",384],"{",["T_WHITESPACE","\n\t\t\t\t\t",385],["T_VARIABLE","$prefs",386],"[",["T_CONSTANT_ENCAPSED_STRING","'filename'",386],"]",["T_WHITESPACE"," ",386],"=",["T_WHITESPACE"," ",386],["T_STRING","str_replace",386],"(",["T_CONSTANT_ENCAPSED_STRING","'.zip'",386],",",["T_WHITESPACE"," ",386],["T_CONSTANT_ENCAPSED_STRING","''",386],",",["T_WHITESPACE"," ",386],["T_VARIABLE","$prefs",386],"[",["T_CONSTANT_ENCAPSED_STRING","'filename'",386],"]",")",";",["T_WHITESPACE","\n\t\t\t\t",386],"}",["T_WHITESPACE","\n\n\t\t\t\t",387],["T_COMMENT","\/\/ Tack on the \".sql\" file extension if needed\n",389],["T_WHITESPACE","\t\t\t\t",390],["T_IF","if",390],["T_WHITESPACE"," ",390],"(",["T_WHITESPACE"," ",390],"!",["T_WHITESPACE"," ",390],["T_STRING","preg_match",390],"(",["T_CONSTANT_ENCAPSED_STRING","'|.+?\\.sql$|'",390],",",["T_WHITESPACE"," ",390],["T_VARIABLE","$prefs",390],"[",["T_CONSTANT_ENCAPSED_STRING","'filename'",390],"]",")",")",["T_WHITESPACE","\n\t\t\t\t",390],"{",["T_WHITESPACE","\n\t\t\t\t\t",391],["T_VARIABLE","$prefs",392],"[",["T_CONSTANT_ENCAPSED_STRING","'filename'",392],"]",["T_WHITESPACE"," ",392],["T_CONCAT_EQUAL",".=",392],["T_WHITESPACE"," ",392],["T_CONSTANT_ENCAPSED_STRING","'.sql'",392],";",["T_WHITESPACE","\n\t\t\t\t",392],"}",["T_WHITESPACE","\n\t\t\t",393],"}",["T_WHITESPACE","\n\n\t\t\t",394],["T_COMMENT","\/\/ Load the Zip class and output it\n",396],["T_WHITESPACE","\t\t\t",397],["T_VARIABLE","$CI",397],["T_WHITESPACE"," ",397],"=","&",["T_WHITESPACE"," ",397],["T_STRING","get_instance",397],"(",")",";",["T_WHITESPACE","\n\t\t\t",397],["T_VARIABLE","$CI",398],["T_OBJECT_OPERATOR","->",398],["T_STRING","load",398],["T_OBJECT_OPERATOR","->",398],["T_STRING","library",398],"(",["T_CONSTANT_ENCAPSED_STRING","'zip'",398],")",";",["T_WHITESPACE","\n\t\t\t",398],["T_VARIABLE","$CI",399],["T_OBJECT_OPERATOR","->",399],["T_STRING","zip",399],["T_OBJECT_OPERATOR","->",399],["T_STRING","add_data",399],"(",["T_VARIABLE","$prefs",399],"[",["T_CONSTANT_ENCAPSED_STRING","'filename'",399],"]",",",["T_WHITESPACE"," ",399],["T_VARIABLE","$this",399],["T_OBJECT_OPERATOR","->",399],["T_STRING","_backup",399],"(",["T_VARIABLE","$prefs",399],")",")",";",["T_WHITESPACE","\n\t\t\t",399],["T_RETURN","return",400],["T_WHITESPACE"," ",400],["T_VARIABLE","$CI",400],["T_OBJECT_OPERATOR","->",400],["T_STRING","zip",400],["T_OBJECT_OPERATOR","->",400],["T_STRING","get_zip",400],"(",")",";",["T_WHITESPACE","\n\t\t",400],"}",["T_WHITESPACE","\n\t\t",401],["T_ELSEIF","elseif",402],["T_WHITESPACE"," ",402],"(",["T_VARIABLE","$prefs",402],"[",["T_CONSTANT_ENCAPSED_STRING","'format'",402],"]",["T_WHITESPACE"," ",402],["T_IS_IDENTICAL","===",402],["T_WHITESPACE"," ",402],["T_CONSTANT_ENCAPSED_STRING","'txt'",402],")",["T_WHITESPACE"," ",402],["T_COMMENT","\/\/ Was a text file requested?\n",402],["T_WHITESPACE","\t\t",403],"{",["T_WHITESPACE","\n\t\t\t",403],["T_RETURN","return",404],["T_WHITESPACE"," ",404],["T_VARIABLE","$this",404],["T_OBJECT_OPERATOR","->",404],["T_STRING","_backup",404],"(",["T_VARIABLE","$prefs",404],")",";",["T_WHITESPACE","\n\t\t",404],"}",["T_WHITESPACE","\n\t\t",405],["T_ELSEIF","elseif",406],["T_WHITESPACE"," ",406],"(",["T_VARIABLE","$prefs",406],"[",["T_CONSTANT_ENCAPSED_STRING","'format'",406],"]",["T_WHITESPACE"," ",406],["T_IS_IDENTICAL","===",406],["T_WHITESPACE"," ",406],["T_CONSTANT_ENCAPSED_STRING","'gzip'",406],")",["T_WHITESPACE"," ",406],["T_COMMENT","\/\/ Was a Gzip file requested?\n",406],["T_WHITESPACE","\t\t",407],"{",["T_WHITESPACE","\n\t\t\t",407],["T_RETURN","return",408],["T_WHITESPACE"," ",408],["T_STRING","gzencode",408],"(",["T_VARIABLE","$this",408],["T_OBJECT_OPERATOR","->",408],["T_STRING","_backup",408],"(",["T_VARIABLE","$prefs",408],")",")",";",["T_WHITESPACE","\n\t\t",408],"}",["T_WHITESPACE","\n\n\t\t",409],["T_RETURN","return",411],";",["T_WHITESPACE","\n\t",411],"}",["T_WHITESPACE","\n\n",412],"}",["T_WHITESPACE","\n",414]]