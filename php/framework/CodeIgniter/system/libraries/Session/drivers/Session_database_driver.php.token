[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * CodeIgniter\n *\n * An open source application development framework for PHP\n *\n * This content is released under the MIT License (MIT)\n *\n * Copyright (c) 2014 - 2017, British Columbia Institute of Technology\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and\/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n *\n * @package\tCodeIgniter\n * @author\tEllisLab Dev Team\n * @copyright\tCopyright (c) 2008 - 2014, EllisLab, Inc. (https:\/\/ellislab.com\/)\n * @copyright\tCopyright (c) 2014 - 2017, British Columbia Institute of Technology (http:\/\/bcit.ca\/)\n * @license\thttp:\/\/opensource.org\/licenses\/MIT\tMIT License\n * @link\thttps:\/\/codeigniter.com\n * @since\tVersion 3.0.0\n * @filesource\n *\/",2],["T_WHITESPACE","\n",37],["T_STRING","defined",38],"(",["T_CONSTANT_ENCAPSED_STRING","'BASEPATH'",38],")",["T_WHITESPACE"," ",38],["T_LOGICAL_OR","OR",38],["T_WHITESPACE"," ",38],["T_EXIT","exit",38],"(",["T_CONSTANT_ENCAPSED_STRING","'No direct script access allowed'",38],")",";",["T_WHITESPACE","\n\n",38],["T_DOC_COMMENT","\/**\n * CodeIgniter Session Database Driver\n *\n * @package\tCodeIgniter\n * @subpackage\tLibraries\n * @category\tSessions\n * @author\tAndrey Andreev\n * @link\thttps:\/\/codeigniter.com\/user_guide\/libraries\/sessions.html\n *\/",40],["T_WHITESPACE","\n",48],["T_CLASS","class",49],["T_WHITESPACE"," ",49],["T_STRING","CI_Session_database_driver",49],["T_WHITESPACE"," ",49],["T_EXTENDS","extends",49],["T_WHITESPACE"," ",49],["T_STRING","CI_Session_driver",49],["T_WHITESPACE"," ",49],["T_IMPLEMENTS","implements",49],["T_WHITESPACE"," ",49],["T_STRING","SessionHandlerInterface",49],["T_WHITESPACE"," ",49],"{",["T_WHITESPACE","\n\n\t",49],["T_DOC_COMMENT","\/**\n\t * DB object\n\t *\n\t * @var\tobject\n\t *\/",51],["T_WHITESPACE","\n\t",55],["T_PROTECTED","protected",56],["T_WHITESPACE"," ",56],["T_VARIABLE","$_db",56],";",["T_WHITESPACE","\n\n\t",56],["T_DOC_COMMENT","\/**\n\t * Row exists flag\n\t *\n\t * @var\tbool\n\t *\/",58],["T_WHITESPACE","\n\t",62],["T_PROTECTED","protected",63],["T_WHITESPACE"," ",63],["T_VARIABLE","$_row_exists",63],["T_WHITESPACE"," ",63],"=",["T_WHITESPACE"," ",63],["T_STRING","FALSE",63],";",["T_WHITESPACE","\n\n\t",63],["T_DOC_COMMENT","\/**\n\t * Lock \"driver\" flag\n\t *\n\t * @var\tstring\n\t *\/",65],["T_WHITESPACE","\n\t",69],["T_PROTECTED","protected",70],["T_WHITESPACE"," ",70],["T_VARIABLE","$_platform",70],";",["T_WHITESPACE","\n\n\t",70],["T_COMMENT","\/\/ ------------------------------------------------------------------------\n",72],["T_WHITESPACE","\n\t",73],["T_DOC_COMMENT","\/**\n\t * Class constructor\n\t *\n\t * @param\tarray\t$params\tConfiguration parameters\n\t * @return\tvoid\n\t *\/",74],["T_WHITESPACE","\n\t",79],["T_PUBLIC","public",80],["T_WHITESPACE"," ",80],["T_FUNCTION","function",80],["T_WHITESPACE"," ",80],["T_STRING","__construct",80],"(","&",["T_VARIABLE","$params",80],")",["T_WHITESPACE","\n\t",80],"{",["T_WHITESPACE","\n\t\t",81],["T_STRING","parent",82],["T_DOUBLE_COLON","::",82],["T_STRING","__construct",82],"(",["T_VARIABLE","$params",82],")",";",["T_WHITESPACE","\n\n\t\t",82],["T_VARIABLE","$CI",84],["T_WHITESPACE"," ",84],"=","&",["T_WHITESPACE"," ",84],["T_STRING","get_instance",84],"(",")",";",["T_WHITESPACE","\n\t\t",84],["T_ISSET","isset",85],"(",["T_VARIABLE","$CI",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","db",85],")",["T_WHITESPACE"," ",85],["T_LOGICAL_OR","OR",85],["T_WHITESPACE"," ",85],["T_VARIABLE","$CI",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","load",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","database",85],"(",")",";",["T_WHITESPACE","\n\t\t",85],["T_VARIABLE","$this",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","_db",86],["T_WHITESPACE"," ",86],"=",["T_WHITESPACE"," ",86],["T_VARIABLE","$CI",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","db",86],";",["T_WHITESPACE","\n\n\t\t",86],["T_IF","if",88],["T_WHITESPACE"," ",88],"(",["T_WHITESPACE"," ",88],"!",["T_WHITESPACE"," ",88],["T_VARIABLE","$this",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","_db",88],["T_WHITESPACE"," ",88],["T_INSTANCEOF","instanceof",88],["T_WHITESPACE"," ",88],["T_STRING","CI_DB_query_builder",88],")",["T_WHITESPACE","\n\t\t",88],"{",["T_WHITESPACE","\n\t\t\t",89],["T_THROW","throw",90],["T_WHITESPACE"," ",90],["T_NEW","new",90],["T_WHITESPACE"," ",90],["T_STRING","Exception",90],"(",["T_CONSTANT_ENCAPSED_STRING","'Query Builder not enabled for the configured database. Aborting.'",90],")",";",["T_WHITESPACE","\n\t\t",90],"}",["T_WHITESPACE","\n\t\t",91],["T_ELSEIF","elseif",92],["T_WHITESPACE"," ",92],"(",["T_VARIABLE","$this",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","_db",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","pconnect",92],")",["T_WHITESPACE","\n\t\t",92],"{",["T_WHITESPACE","\n\t\t\t",93],["T_THROW","throw",94],["T_WHITESPACE"," ",94],["T_NEW","new",94],["T_WHITESPACE"," ",94],["T_STRING","Exception",94],"(",["T_CONSTANT_ENCAPSED_STRING","'Configured database connection is persistent. Aborting.'",94],")",";",["T_WHITESPACE","\n\t\t",94],"}",["T_WHITESPACE","\n\t\t",95],["T_ELSEIF","elseif",96],["T_WHITESPACE"," ",96],"(",["T_VARIABLE","$this",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","_db",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","cache_on",96],")",["T_WHITESPACE","\n\t\t",96],"{",["T_WHITESPACE","\n\t\t\t",97],["T_THROW","throw",98],["T_WHITESPACE"," ",98],["T_NEW","new",98],["T_WHITESPACE"," ",98],["T_STRING","Exception",98],"(",["T_CONSTANT_ENCAPSED_STRING","'Configured database connection has cache enabled. Aborting.'",98],")",";",["T_WHITESPACE","\n\t\t",98],"}",["T_WHITESPACE","\n\n\t\t",99],["T_VARIABLE","$db_driver",101],["T_WHITESPACE"," ",101],"=",["T_WHITESPACE"," ",101],["T_VARIABLE","$this",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","_db",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","dbdriver",101],".","(",["T_EMPTY","empty",101],"(",["T_VARIABLE","$this",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","_db",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","subdriver",101],")",["T_WHITESPACE"," ",101],"?",["T_WHITESPACE"," ",101],["T_CONSTANT_ENCAPSED_STRING","''",101],["T_WHITESPACE"," ",101],":",["T_WHITESPACE"," ",101],["T_CONSTANT_ENCAPSED_STRING","'_'",101],".",["T_VARIABLE","$this",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","_db",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","subdriver",101],")",";",["T_WHITESPACE","\n\t\t",101],["T_IF","if",102],["T_WHITESPACE"," ",102],"(",["T_STRING","strpos",102],"(",["T_VARIABLE","$db_driver",102],",",["T_WHITESPACE"," ",102],["T_CONSTANT_ENCAPSED_STRING","'mysql'",102],")",["T_WHITESPACE"," ",102],["T_IS_NOT_IDENTICAL","!==",102],["T_WHITESPACE"," ",102],["T_STRING","FALSE",102],")",["T_WHITESPACE","\n\t\t",102],"{",["T_WHITESPACE","\n\t\t\t",103],["T_VARIABLE","$this",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","_platform",104],["T_WHITESPACE"," ",104],"=",["T_WHITESPACE"," ",104],["T_CONSTANT_ENCAPSED_STRING","'mysql'",104],";",["T_WHITESPACE","\n\t\t",104],"}",["T_WHITESPACE","\n\t\t",105],["T_ELSEIF","elseif",106],["T_WHITESPACE"," ",106],"(",["T_STRING","in_array",106],"(",["T_VARIABLE","$db_driver",106],",",["T_WHITESPACE"," ",106],["T_ARRAY","array",106],"(",["T_CONSTANT_ENCAPSED_STRING","'postgre'",106],",",["T_WHITESPACE"," ",106],["T_CONSTANT_ENCAPSED_STRING","'pdo_pgsql'",106],")",",",["T_WHITESPACE"," ",106],["T_STRING","TRUE",106],")",")",["T_WHITESPACE","\n\t\t",106],"{",["T_WHITESPACE","\n\t\t\t",107],["T_VARIABLE","$this",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","_platform",108],["T_WHITESPACE"," ",108],"=",["T_WHITESPACE"," ",108],["T_CONSTANT_ENCAPSED_STRING","'postgre'",108],";",["T_WHITESPACE","\n\t\t",108],"}",["T_WHITESPACE","\n\n\t\t",109],["T_COMMENT","\/\/ Note: BC work-around for the old 'sess_table_name' setting, should be removed in the future.\n",111],["T_WHITESPACE","\t\t",112],["T_IF","if",112],["T_WHITESPACE"," ",112],"(",["T_WHITESPACE"," ",112],"!",["T_WHITESPACE"," ",112],["T_ISSET","isset",112],"(",["T_VARIABLE","$this",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","_config",112],"[",["T_CONSTANT_ENCAPSED_STRING","'save_path'",112],"]",")",["T_WHITESPACE"," ",112],["T_BOOLEAN_AND","&&",112],["T_WHITESPACE"," ",112],"(",["T_VARIABLE","$this",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","_config",112],"[",["T_CONSTANT_ENCAPSED_STRING","'save_path'",112],"]",["T_WHITESPACE"," ",112],"=",["T_WHITESPACE"," ",112],["T_STRING","config_item",112],"(",["T_CONSTANT_ENCAPSED_STRING","'sess_table_name'",112],")",")",")",["T_WHITESPACE","\n\t\t",112],"{",["T_WHITESPACE","\n\t\t\t",113],["T_STRING","log_message",114],"(",["T_CONSTANT_ENCAPSED_STRING","'debug'",114],",",["T_WHITESPACE"," ",114],["T_CONSTANT_ENCAPSED_STRING","'Session: \"sess_save_path\" is empty; using BC fallback to \"sess_table_name\".'",114],")",";",["T_WHITESPACE","\n\t\t",114],"}",["T_WHITESPACE","\n\t",115],"}",["T_WHITESPACE","\n\n\t",116],["T_COMMENT","\/\/ ------------------------------------------------------------------------\n",118],["T_WHITESPACE","\n\t",119],["T_DOC_COMMENT","\/**\n\t * Open\n\t *\n\t * Initializes the database connection\n\t *\n\t * @param\tstring\t$save_path\tTable name\n\t * @param\tstring\t$name\t\tSession cookie name, unused\n\t * @return\tbool\n\t *\/",120],["T_WHITESPACE","\n\t",128],["T_PUBLIC","public",129],["T_WHITESPACE"," ",129],["T_FUNCTION","function",129],["T_WHITESPACE"," ",129],["T_STRING","open",129],"(",["T_VARIABLE","$save_path",129],",",["T_WHITESPACE"," ",129],["T_VARIABLE","$name",129],")",["T_WHITESPACE","\n\t",129],"{",["T_WHITESPACE","\n\t\t",130],["T_IF","if",131],["T_WHITESPACE"," ",131],"(",["T_EMPTY","empty",131],"(",["T_VARIABLE","$this",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","_db",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","conn_id",131],")",["T_WHITESPACE"," ",131],["T_BOOLEAN_AND","&&",131],["T_WHITESPACE"," ",131],"!",["T_WHITESPACE"," ",131],["T_VARIABLE","$this",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","_db",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","db_connect",131],"(",")",")",["T_WHITESPACE","\n\t\t",131],"{",["T_WHITESPACE","\n\t\t\t",132],["T_RETURN","return",133],["T_WHITESPACE"," ",133],["T_VARIABLE","$this",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","_fail",133],"(",")",";",["T_WHITESPACE","\n\t\t",133],"}",["T_WHITESPACE","\n\n\t\t",134],["T_RETURN","return",136],["T_WHITESPACE"," ",136],["T_VARIABLE","$this",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","_success",136],";",["T_WHITESPACE","\n\t",136],"}",["T_WHITESPACE","\n\n\t",137],["T_COMMENT","\/\/ ------------------------------------------------------------------------\n",139],["T_WHITESPACE","\n\t",140],["T_DOC_COMMENT","\/**\n\t * Read\n\t *\n\t * Reads session data and acquires a lock\n\t *\n\t * @param\tstring\t$session_id\tSession ID\n\t * @return\tstring\tSerialized session data\n\t *\/",141],["T_WHITESPACE","\n\t",148],["T_PUBLIC","public",149],["T_WHITESPACE"," ",149],["T_FUNCTION","function",149],["T_WHITESPACE"," ",149],["T_STRING","read",149],"(",["T_VARIABLE","$session_id",149],")",["T_WHITESPACE","\n\t",149],"{",["T_WHITESPACE","\n\t\t",150],["T_IF","if",151],["T_WHITESPACE"," ",151],"(",["T_VARIABLE","$this",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","_get_lock",151],"(",["T_VARIABLE","$session_id",151],")",["T_WHITESPACE"," ",151],["T_IS_NOT_IDENTICAL","!==",151],["T_WHITESPACE"," ",151],["T_STRING","FALSE",151],")",["T_WHITESPACE","\n\t\t",151],"{",["T_WHITESPACE","\n\t\t\t",152],["T_COMMENT","\/\/ Prevent previous QB calls from messing with our queries\n",153],["T_WHITESPACE","\t\t\t",154],["T_VARIABLE","$this",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","_db",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","reset_query",154],"(",")",";",["T_WHITESPACE","\n\n\t\t\t",154],["T_COMMENT","\/\/ Needed by write() to detect session_regenerate_id() calls\n",156],["T_WHITESPACE","\t\t\t",157],["T_VARIABLE","$this",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","_session_id",157],["T_WHITESPACE"," ",157],"=",["T_WHITESPACE"," ",157],["T_VARIABLE","$session_id",157],";",["T_WHITESPACE","\n\n\t\t\t",157],["T_VARIABLE","$this",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","_db",159],["T_WHITESPACE","\n\t\t\t\t",159],["T_OBJECT_OPERATOR","->",160],["T_STRING","select",160],"(",["T_CONSTANT_ENCAPSED_STRING","'data'",160],")",["T_WHITESPACE","\n\t\t\t\t",160],["T_OBJECT_OPERATOR","->",161],["T_STRING","from",161],"(",["T_VARIABLE","$this",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","_config",161],"[",["T_CONSTANT_ENCAPSED_STRING","'save_path'",161],"]",")",["T_WHITESPACE","\n\t\t\t\t",161],["T_OBJECT_OPERATOR","->",162],["T_STRING","where",162],"(",["T_CONSTANT_ENCAPSED_STRING","'id'",162],",",["T_WHITESPACE"," ",162],["T_VARIABLE","$session_id",162],")",";",["T_WHITESPACE","\n\n\t\t\t",162],["T_IF","if",164],["T_WHITESPACE"," ",164],"(",["T_VARIABLE","$this",164],["T_OBJECT_OPERATOR","->",164],["T_STRING","_config",164],"[",["T_CONSTANT_ENCAPSED_STRING","'match_ip'",164],"]",")",["T_WHITESPACE","\n\t\t\t",164],"{",["T_WHITESPACE","\n\t\t\t\t",165],["T_VARIABLE","$this",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","_db",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","where",166],"(",["T_CONSTANT_ENCAPSED_STRING","'ip_address'",166],",",["T_WHITESPACE"," ",166],["T_VARIABLE","$_SERVER",166],"[",["T_CONSTANT_ENCAPSED_STRING","'REMOTE_ADDR'",166],"]",")",";",["T_WHITESPACE","\n\t\t\t",166],"}",["T_WHITESPACE","\n\n\t\t\t",167],["T_IF","if",169],["T_WHITESPACE"," ",169],"(",["T_WHITESPACE"," ",169],"!",["T_WHITESPACE"," ",169],"(",["T_VARIABLE","$result",169],["T_WHITESPACE"," ",169],"=",["T_WHITESPACE"," ",169],["T_VARIABLE","$this",169],["T_OBJECT_OPERATOR","->",169],["T_STRING","_db",169],["T_OBJECT_OPERATOR","->",169],["T_STRING","get",169],"(",")",")",["T_WHITESPACE"," ",169],["T_LOGICAL_OR","OR",169],["T_WHITESPACE"," ",169],"(",["T_VARIABLE","$result",169],["T_WHITESPACE"," ",169],"=",["T_WHITESPACE"," ",169],["T_VARIABLE","$result",169],["T_OBJECT_OPERATOR","->",169],["T_STRING","row",169],"(",")",")",["T_WHITESPACE"," ",169],["T_IS_IDENTICAL","===",169],["T_WHITESPACE"," ",169],["T_STRING","NULL",169],")",["T_WHITESPACE","\n\t\t\t",169],"{",["T_WHITESPACE","\n\t\t\t\t",170],["T_COMMENT","\/\/ PHP7 will reuse the same SessionHandler object after\n",171],["T_WHITESPACE","\t\t\t\t",172],["T_COMMENT","\/\/ ID regeneration, so we need to explicitly set this to\n",172],["T_WHITESPACE","\t\t\t\t",173],["T_COMMENT","\/\/ FALSE instead of relying on the default ...\n",173],["T_WHITESPACE","\t\t\t\t",174],["T_VARIABLE","$this",174],["T_OBJECT_OPERATOR","->",174],["T_STRING","_row_exists",174],["T_WHITESPACE"," ",174],"=",["T_WHITESPACE"," ",174],["T_STRING","FALSE",174],";",["T_WHITESPACE","\n\t\t\t\t",174],["T_VARIABLE","$this",175],["T_OBJECT_OPERATOR","->",175],["T_STRING","_fingerprint",175],["T_WHITESPACE"," ",175],"=",["T_WHITESPACE"," ",175],["T_STRING","md5",175],"(",["T_CONSTANT_ENCAPSED_STRING","''",175],")",";",["T_WHITESPACE","\n\t\t\t\t",175],["T_RETURN","return",176],["T_WHITESPACE"," ",176],["T_CONSTANT_ENCAPSED_STRING","''",176],";",["T_WHITESPACE","\n\t\t\t",176],"}",["T_WHITESPACE","\n\n\t\t\t",177],["T_COMMENT","\/\/ PostgreSQL's variant of a BLOB datatype is Bytea, which is a\n",179],["T_WHITESPACE","\t\t\t",180],["T_COMMENT","\/\/ PITA to work with, so we use base64-encoded data in a TEXT\n",180],["T_WHITESPACE","\t\t\t",181],["T_COMMENT","\/\/ field instead.\n",181],["T_WHITESPACE","\t\t\t",182],["T_VARIABLE","$result",182],["T_WHITESPACE"," ",182],"=",["T_WHITESPACE"," ",182],"(",["T_VARIABLE","$this",182],["T_OBJECT_OPERATOR","->",182],["T_STRING","_platform",182],["T_WHITESPACE"," ",182],["T_IS_IDENTICAL","===",182],["T_WHITESPACE"," ",182],["T_CONSTANT_ENCAPSED_STRING","'postgre'",182],")",["T_WHITESPACE","\n\t\t\t\t",182],"?",["T_WHITESPACE"," ",183],["T_STRING","base64_decode",183],"(",["T_STRING","rtrim",183],"(",["T_VARIABLE","$result",183],["T_OBJECT_OPERATOR","->",183],["T_STRING","data",183],")",")",["T_WHITESPACE","\n\t\t\t\t",183],":",["T_WHITESPACE"," ",184],["T_VARIABLE","$result",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","data",184],";",["T_WHITESPACE","\n\n\t\t\t",184],["T_VARIABLE","$this",186],["T_OBJECT_OPERATOR","->",186],["T_STRING","_fingerprint",186],["T_WHITESPACE"," ",186],"=",["T_WHITESPACE"," ",186],["T_STRING","md5",186],"(",["T_VARIABLE","$result",186],")",";",["T_WHITESPACE","\n\t\t\t",186],["T_VARIABLE","$this",187],["T_OBJECT_OPERATOR","->",187],["T_STRING","_row_exists",187],["T_WHITESPACE"," ",187],"=",["T_WHITESPACE"," ",187],["T_STRING","TRUE",187],";",["T_WHITESPACE","\n\t\t\t",187],["T_RETURN","return",188],["T_WHITESPACE"," ",188],["T_VARIABLE","$result",188],";",["T_WHITESPACE","\n\t\t",188],"}",["T_WHITESPACE","\n\n\t\t",189],["T_VARIABLE","$this",191],["T_OBJECT_OPERATOR","->",191],["T_STRING","_fingerprint",191],["T_WHITESPACE"," ",191],"=",["T_WHITESPACE"," ",191],["T_STRING","md5",191],"(",["T_CONSTANT_ENCAPSED_STRING","''",191],")",";",["T_WHITESPACE","\n\t\t",191],["T_RETURN","return",192],["T_WHITESPACE"," ",192],["T_CONSTANT_ENCAPSED_STRING","''",192],";",["T_WHITESPACE","\n\t",192],"}",["T_WHITESPACE","\n\n\t",193],["T_COMMENT","\/\/ ------------------------------------------------------------------------\n",195],["T_WHITESPACE","\n\t",196],["T_DOC_COMMENT","\/**\n\t * Write\n\t *\n\t * Writes (create \/ update) session data\n\t *\n\t * @param\tstring\t$session_id\tSession ID\n\t * @param\tstring\t$session_data\tSerialized session data\n\t * @return\tbool\n\t *\/",197],["T_WHITESPACE","\n\t",205],["T_PUBLIC","public",206],["T_WHITESPACE"," ",206],["T_FUNCTION","function",206],["T_WHITESPACE"," ",206],["T_STRING","write",206],"(",["T_VARIABLE","$session_id",206],",",["T_WHITESPACE"," ",206],["T_VARIABLE","$session_data",206],")",["T_WHITESPACE","\n\t",206],"{",["T_WHITESPACE","\n\t\t",207],["T_COMMENT","\/\/ Prevent previous QB calls from messing with our queries\n",208],["T_WHITESPACE","\t\t",209],["T_VARIABLE","$this",209],["T_OBJECT_OPERATOR","->",209],["T_STRING","_db",209],["T_OBJECT_OPERATOR","->",209],["T_STRING","reset_query",209],"(",")",";",["T_WHITESPACE","\n\n\t\t",209],["T_IF","if",211],["T_WHITESPACE"," ",211],"(",["T_VARIABLE","$this",211],["T_OBJECT_OPERATOR","->",211],["T_STRING","_lock",211],["T_WHITESPACE"," ",211],["T_IS_IDENTICAL","===",211],["T_WHITESPACE"," ",211],["T_STRING","FALSE",211],")",["T_WHITESPACE","\n\t\t",211],"{",["T_WHITESPACE","\n\t\t\t",212],["T_RETURN","return",213],["T_WHITESPACE"," ",213],["T_VARIABLE","$this",213],["T_OBJECT_OPERATOR","->",213],["T_STRING","_fail",213],"(",")",";",["T_WHITESPACE","\n\t\t",213],"}",["T_WHITESPACE","\n\t\t",214],["T_COMMENT","\/\/ Was the ID regenerated?\n",215],["T_WHITESPACE","\t\t",216],["T_ELSEIF","elseif",216],["T_WHITESPACE"," ",216],"(",["T_VARIABLE","$session_id",216],["T_WHITESPACE"," ",216],["T_IS_NOT_IDENTICAL","!==",216],["T_WHITESPACE"," ",216],["T_VARIABLE","$this",216],["T_OBJECT_OPERATOR","->",216],["T_STRING","_session_id",216],")",["T_WHITESPACE","\n\t\t",216],"{",["T_WHITESPACE","\n\t\t\t",217],["T_IF","if",218],["T_WHITESPACE"," ",218],"(",["T_WHITESPACE"," ",218],"!",["T_WHITESPACE"," ",218],["T_VARIABLE","$this",218],["T_OBJECT_OPERATOR","->",218],["T_STRING","_release_lock",218],"(",")",["T_WHITESPACE"," ",218],["T_LOGICAL_OR","OR",218],["T_WHITESPACE"," ",218],"!",["T_WHITESPACE"," ",218],["T_VARIABLE","$this",218],["T_OBJECT_OPERATOR","->",218],["T_STRING","_get_lock",218],"(",["T_VARIABLE","$session_id",218],")",")",["T_WHITESPACE","\n\t\t\t",218],"{",["T_WHITESPACE","\n\t\t\t\t",219],["T_RETURN","return",220],["T_WHITESPACE"," ",220],["T_VARIABLE","$this",220],["T_OBJECT_OPERATOR","->",220],["T_STRING","_fail",220],"(",")",";",["T_WHITESPACE","\n\t\t\t",220],"}",["T_WHITESPACE","\n\n\t\t\t",221],["T_VARIABLE","$this",223],["T_OBJECT_OPERATOR","->",223],["T_STRING","_row_exists",223],["T_WHITESPACE"," ",223],"=",["T_WHITESPACE"," ",223],["T_STRING","FALSE",223],";",["T_WHITESPACE","\n\t\t\t",223],["T_VARIABLE","$this",224],["T_OBJECT_OPERATOR","->",224],["T_STRING","_session_id",224],["T_WHITESPACE"," ",224],"=",["T_WHITESPACE"," ",224],["T_VARIABLE","$session_id",224],";",["T_WHITESPACE","\n\t\t",224],"}",["T_WHITESPACE","\n\n\t\t",225],["T_IF","if",227],["T_WHITESPACE"," ",227],"(",["T_VARIABLE","$this",227],["T_OBJECT_OPERATOR","->",227],["T_STRING","_row_exists",227],["T_WHITESPACE"," ",227],["T_IS_IDENTICAL","===",227],["T_WHITESPACE"," ",227],["T_STRING","FALSE",227],")",["T_WHITESPACE","\n\t\t",227],"{",["T_WHITESPACE","\n\t\t\t",228],["T_VARIABLE","$insert_data",229],["T_WHITESPACE"," ",229],"=",["T_WHITESPACE"," ",229],["T_ARRAY","array",229],"(",["T_WHITESPACE","\n\t\t\t\t",229],["T_CONSTANT_ENCAPSED_STRING","'id'",230],["T_WHITESPACE"," ",230],["T_DOUBLE_ARROW","=>",230],["T_WHITESPACE"," ",230],["T_VARIABLE","$session_id",230],",",["T_WHITESPACE","\n\t\t\t\t",230],["T_CONSTANT_ENCAPSED_STRING","'ip_address'",231],["T_WHITESPACE"," ",231],["T_DOUBLE_ARROW","=>",231],["T_WHITESPACE"," ",231],["T_VARIABLE","$_SERVER",231],"[",["T_CONSTANT_ENCAPSED_STRING","'REMOTE_ADDR'",231],"]",",",["T_WHITESPACE","\n\t\t\t\t",231],["T_CONSTANT_ENCAPSED_STRING","'timestamp'",232],["T_WHITESPACE"," ",232],["T_DOUBLE_ARROW","=>",232],["T_WHITESPACE"," ",232],["T_STRING","time",232],"(",")",",",["T_WHITESPACE","\n\t\t\t\t",232],["T_CONSTANT_ENCAPSED_STRING","'data'",233],["T_WHITESPACE"," ",233],["T_DOUBLE_ARROW","=>",233],["T_WHITESPACE"," ",233],"(",["T_VARIABLE","$this",233],["T_OBJECT_OPERATOR","->",233],["T_STRING","_platform",233],["T_WHITESPACE"," ",233],["T_IS_IDENTICAL","===",233],["T_WHITESPACE"," ",233],["T_CONSTANT_ENCAPSED_STRING","'postgre'",233],["T_WHITESPACE"," ",233],"?",["T_WHITESPACE"," ",233],["T_STRING","base64_encode",233],"(",["T_VARIABLE","$session_data",233],")",["T_WHITESPACE"," ",233],":",["T_WHITESPACE"," ",233],["T_VARIABLE","$session_data",233],")",["T_WHITESPACE","\n\t\t\t",233],")",";",["T_WHITESPACE","\n\n\t\t\t",234],["T_IF","if",236],["T_WHITESPACE"," ",236],"(",["T_VARIABLE","$this",236],["T_OBJECT_OPERATOR","->",236],["T_STRING","_db",236],["T_OBJECT_OPERATOR","->",236],["T_STRING","insert",236],"(",["T_VARIABLE","$this",236],["T_OBJECT_OPERATOR","->",236],["T_STRING","_config",236],"[",["T_CONSTANT_ENCAPSED_STRING","'save_path'",236],"]",",",["T_WHITESPACE"," ",236],["T_VARIABLE","$insert_data",236],")",")",["T_WHITESPACE","\n\t\t\t",236],"{",["T_WHITESPACE","\n\t\t\t\t",237],["T_VARIABLE","$this",238],["T_OBJECT_OPERATOR","->",238],["T_STRING","_fingerprint",238],["T_WHITESPACE"," ",238],"=",["T_WHITESPACE"," ",238],["T_STRING","md5",238],"(",["T_VARIABLE","$session_data",238],")",";",["T_WHITESPACE","\n\t\t\t\t",238],["T_VARIABLE","$this",239],["T_OBJECT_OPERATOR","->",239],["T_STRING","_row_exists",239],["T_WHITESPACE"," ",239],"=",["T_WHITESPACE"," ",239],["T_STRING","TRUE",239],";",["T_WHITESPACE","\n\t\t\t\t",239],["T_RETURN","return",240],["T_WHITESPACE"," ",240],["T_VARIABLE","$this",240],["T_OBJECT_OPERATOR","->",240],["T_STRING","_success",240],";",["T_WHITESPACE","\n\t\t\t",240],"}",["T_WHITESPACE","\n\n\t\t\t",241],["T_RETURN","return",243],["T_WHITESPACE"," ",243],["T_VARIABLE","$this",243],["T_OBJECT_OPERATOR","->",243],["T_STRING","_fail",243],"(",")",";",["T_WHITESPACE","\n\t\t",243],"}",["T_WHITESPACE","\n\n\t\t",244],["T_VARIABLE","$this",246],["T_OBJECT_OPERATOR","->",246],["T_STRING","_db",246],["T_OBJECT_OPERATOR","->",246],["T_STRING","where",246],"(",["T_CONSTANT_ENCAPSED_STRING","'id'",246],",",["T_WHITESPACE"," ",246],["T_VARIABLE","$session_id",246],")",";",["T_WHITESPACE","\n\t\t",246],["T_IF","if",247],["T_WHITESPACE"," ",247],"(",["T_VARIABLE","$this",247],["T_OBJECT_OPERATOR","->",247],["T_STRING","_config",247],"[",["T_CONSTANT_ENCAPSED_STRING","'match_ip'",247],"]",")",["T_WHITESPACE","\n\t\t",247],"{",["T_WHITESPACE","\n\t\t\t",248],["T_VARIABLE","$this",249],["T_OBJECT_OPERATOR","->",249],["T_STRING","_db",249],["T_OBJECT_OPERATOR","->",249],["T_STRING","where",249],"(",["T_CONSTANT_ENCAPSED_STRING","'ip_address'",249],",",["T_WHITESPACE"," ",249],["T_VARIABLE","$_SERVER",249],"[",["T_CONSTANT_ENCAPSED_STRING","'REMOTE_ADDR'",249],"]",")",";",["T_WHITESPACE","\n\t\t",249],"}",["T_WHITESPACE","\n\n\t\t",250],["T_VARIABLE","$update_data",252],["T_WHITESPACE"," ",252],"=",["T_WHITESPACE"," ",252],["T_ARRAY","array",252],"(",["T_CONSTANT_ENCAPSED_STRING","'timestamp'",252],["T_WHITESPACE"," ",252],["T_DOUBLE_ARROW","=>",252],["T_WHITESPACE"," ",252],["T_STRING","time",252],"(",")",")",";",["T_WHITESPACE","\n\t\t",252],["T_IF","if",253],["T_WHITESPACE"," ",253],"(",["T_VARIABLE","$this",253],["T_OBJECT_OPERATOR","->",253],["T_STRING","_fingerprint",253],["T_WHITESPACE"," ",253],["T_IS_NOT_IDENTICAL","!==",253],["T_WHITESPACE"," ",253],["T_STRING","md5",253],"(",["T_VARIABLE","$session_data",253],")",")",["T_WHITESPACE","\n\t\t",253],"{",["T_WHITESPACE","\n\t\t\t",254],["T_VARIABLE","$update_data",255],"[",["T_CONSTANT_ENCAPSED_STRING","'data'",255],"]",["T_WHITESPACE"," ",255],"=",["T_WHITESPACE"," ",255],"(",["T_VARIABLE","$this",255],["T_OBJECT_OPERATOR","->",255],["T_STRING","_platform",255],["T_WHITESPACE"," ",255],["T_IS_IDENTICAL","===",255],["T_WHITESPACE"," ",255],["T_CONSTANT_ENCAPSED_STRING","'postgre'",255],")",["T_WHITESPACE","\n\t\t\t\t",255],"?",["T_WHITESPACE"," ",256],["T_STRING","base64_encode",256],"(",["T_VARIABLE","$session_data",256],")",["T_WHITESPACE","\n\t\t\t\t",256],":",["T_WHITESPACE"," ",257],["T_VARIABLE","$session_data",257],";",["T_WHITESPACE","\n\t\t",257],"}",["T_WHITESPACE","\n\n\t\t",258],["T_IF","if",260],["T_WHITESPACE"," ",260],"(",["T_VARIABLE","$this",260],["T_OBJECT_OPERATOR","->",260],["T_STRING","_db",260],["T_OBJECT_OPERATOR","->",260],["T_STRING","update",260],"(",["T_VARIABLE","$this",260],["T_OBJECT_OPERATOR","->",260],["T_STRING","_config",260],"[",["T_CONSTANT_ENCAPSED_STRING","'save_path'",260],"]",",",["T_WHITESPACE"," ",260],["T_VARIABLE","$update_data",260],")",")",["T_WHITESPACE","\n\t\t",260],"{",["T_WHITESPACE","\n\t\t\t",261],["T_VARIABLE","$this",262],["T_OBJECT_OPERATOR","->",262],["T_STRING","_fingerprint",262],["T_WHITESPACE"," ",262],"=",["T_WHITESPACE"," ",262],["T_STRING","md5",262],"(",["T_VARIABLE","$session_data",262],")",";",["T_WHITESPACE","\n\t\t\t",262],["T_RETURN","return",263],["T_WHITESPACE"," ",263],["T_VARIABLE","$this",263],["T_OBJECT_OPERATOR","->",263],["T_STRING","_success",263],";",["T_WHITESPACE","\n\t\t",263],"}",["T_WHITESPACE","\n\n\t\t",264],["T_RETURN","return",266],["T_WHITESPACE"," ",266],["T_VARIABLE","$this",266],["T_OBJECT_OPERATOR","->",266],["T_STRING","_fail",266],"(",")",";",["T_WHITESPACE","\n\t",266],"}",["T_WHITESPACE","\n\n\t",267],["T_COMMENT","\/\/ ------------------------------------------------------------------------\n",269],["T_WHITESPACE","\n\t",270],["T_DOC_COMMENT","\/**\n\t * Close\n\t *\n\t * Releases locks\n\t *\n\t * @return\tbool\n\t *\/",271],["T_WHITESPACE","\n\t",277],["T_PUBLIC","public",278],["T_WHITESPACE"," ",278],["T_FUNCTION","function",278],["T_WHITESPACE"," ",278],["T_STRING","close",278],"(",")",["T_WHITESPACE","\n\t",278],"{",["T_WHITESPACE","\n\t\t",279],["T_RETURN","return",280],["T_WHITESPACE"," ",280],"(",["T_VARIABLE","$this",280],["T_OBJECT_OPERATOR","->",280],["T_STRING","_lock",280],["T_WHITESPACE"," ",280],["T_BOOLEAN_AND","&&",280],["T_WHITESPACE"," ",280],"!",["T_WHITESPACE"," ",280],["T_VARIABLE","$this",280],["T_OBJECT_OPERATOR","->",280],["T_STRING","_release_lock",280],"(",")",")",["T_WHITESPACE","\n\t\t\t",280],"?",["T_WHITESPACE"," ",281],["T_VARIABLE","$this",281],["T_OBJECT_OPERATOR","->",281],["T_STRING","_fail",281],"(",")",["T_WHITESPACE","\n\t\t\t",281],":",["T_WHITESPACE"," ",282],["T_VARIABLE","$this",282],["T_OBJECT_OPERATOR","->",282],["T_STRING","_success",282],";",["T_WHITESPACE","\n\t",282],"}",["T_WHITESPACE","\n\n\t",283],["T_COMMENT","\/\/ ------------------------------------------------------------------------\n",285],["T_WHITESPACE","\n\t",286],["T_DOC_COMMENT","\/**\n\t * Destroy\n\t *\n\t * Destroys the current session.\n\t *\n\t * @param\tstring\t$session_id\tSession ID\n\t * @return\tbool\n\t *\/",287],["T_WHITESPACE","\n\t",294],["T_PUBLIC","public",295],["T_WHITESPACE"," ",295],["T_FUNCTION","function",295],["T_WHITESPACE"," ",295],["T_STRING","destroy",295],"(",["T_VARIABLE","$session_id",295],")",["T_WHITESPACE","\n\t",295],"{",["T_WHITESPACE","\n\t\t",296],["T_IF","if",297],["T_WHITESPACE"," ",297],"(",["T_VARIABLE","$this",297],["T_OBJECT_OPERATOR","->",297],["T_STRING","_lock",297],")",["T_WHITESPACE","\n\t\t",297],"{",["T_WHITESPACE","\n\t\t\t",298],["T_COMMENT","\/\/ Prevent previous QB calls from messing with our queries\n",299],["T_WHITESPACE","\t\t\t",300],["T_VARIABLE","$this",300],["T_OBJECT_OPERATOR","->",300],["T_STRING","_db",300],["T_OBJECT_OPERATOR","->",300],["T_STRING","reset_query",300],"(",")",";",["T_WHITESPACE","\n\n\t\t\t",300],["T_VARIABLE","$this",302],["T_OBJECT_OPERATOR","->",302],["T_STRING","_db",302],["T_OBJECT_OPERATOR","->",302],["T_STRING","where",302],"(",["T_CONSTANT_ENCAPSED_STRING","'id'",302],",",["T_WHITESPACE"," ",302],["T_VARIABLE","$session_id",302],")",";",["T_WHITESPACE","\n\t\t\t",302],["T_IF","if",303],["T_WHITESPACE"," ",303],"(",["T_VARIABLE","$this",303],["T_OBJECT_OPERATOR","->",303],["T_STRING","_config",303],"[",["T_CONSTANT_ENCAPSED_STRING","'match_ip'",303],"]",")",["T_WHITESPACE","\n\t\t\t",303],"{",["T_WHITESPACE","\n\t\t\t\t",304],["T_VARIABLE","$this",305],["T_OBJECT_OPERATOR","->",305],["T_STRING","_db",305],["T_OBJECT_OPERATOR","->",305],["T_STRING","where",305],"(",["T_CONSTANT_ENCAPSED_STRING","'ip_address'",305],",",["T_WHITESPACE"," ",305],["T_VARIABLE","$_SERVER",305],"[",["T_CONSTANT_ENCAPSED_STRING","'REMOTE_ADDR'",305],"]",")",";",["T_WHITESPACE","\n\t\t\t",305],"}",["T_WHITESPACE","\n\n\t\t\t",306],["T_IF","if",308],["T_WHITESPACE"," ",308],"(",["T_WHITESPACE"," ",308],"!",["T_WHITESPACE"," ",308],["T_VARIABLE","$this",308],["T_OBJECT_OPERATOR","->",308],["T_STRING","_db",308],["T_OBJECT_OPERATOR","->",308],["T_STRING","delete",308],"(",["T_VARIABLE","$this",308],["T_OBJECT_OPERATOR","->",308],["T_STRING","_config",308],"[",["T_CONSTANT_ENCAPSED_STRING","'save_path'",308],"]",")",")",["T_WHITESPACE","\n\t\t\t",308],"{",["T_WHITESPACE","\n\t\t\t\t",309],["T_RETURN","return",310],["T_WHITESPACE"," ",310],["T_VARIABLE","$this",310],["T_OBJECT_OPERATOR","->",310],["T_STRING","_fail",310],"(",")",";",["T_WHITESPACE","\n\t\t\t",310],"}",["T_WHITESPACE","\n\t\t",311],"}",["T_WHITESPACE","\n\n\t\t",312],["T_IF","if",314],["T_WHITESPACE"," ",314],"(",["T_VARIABLE","$this",314],["T_OBJECT_OPERATOR","->",314],["T_STRING","close",314],"(",")",["T_WHITESPACE"," ",314],["T_IS_IDENTICAL","===",314],["T_WHITESPACE"," ",314],["T_VARIABLE","$this",314],["T_OBJECT_OPERATOR","->",314],["T_STRING","_success",314],")",["T_WHITESPACE","\n\t\t",314],"{",["T_WHITESPACE","\n\t\t\t",315],["T_VARIABLE","$this",316],["T_OBJECT_OPERATOR","->",316],["T_STRING","_cookie_destroy",316],"(",")",";",["T_WHITESPACE","\n\t\t\t",316],["T_RETURN","return",317],["T_WHITESPACE"," ",317],["T_VARIABLE","$this",317],["T_OBJECT_OPERATOR","->",317],["T_STRING","_success",317],";",["T_WHITESPACE","\n\t\t",317],"}",["T_WHITESPACE","\n\n\t\t",318],["T_RETURN","return",320],["T_WHITESPACE"," ",320],["T_VARIABLE","$this",320],["T_OBJECT_OPERATOR","->",320],["T_STRING","_fail",320],"(",")",";",["T_WHITESPACE","\n\t",320],"}",["T_WHITESPACE","\n\n\t",321],["T_COMMENT","\/\/ ------------------------------------------------------------------------\n",323],["T_WHITESPACE","\n\t",324],["T_DOC_COMMENT","\/**\n\t * Garbage Collector\n\t *\n\t * Deletes expired sessions\n\t *\n\t * @param\tint \t$maxlifetime\tMaximum lifetime of sessions\n\t * @return\tbool\n\t *\/",325],["T_WHITESPACE","\n\t",332],["T_PUBLIC","public",333],["T_WHITESPACE"," ",333],["T_FUNCTION","function",333],["T_WHITESPACE"," ",333],["T_STRING","gc",333],"(",["T_VARIABLE","$maxlifetime",333],")",["T_WHITESPACE","\n\t",333],"{",["T_WHITESPACE","\n\t\t",334],["T_COMMENT","\/\/ Prevent previous QB calls from messing with our queries\n",335],["T_WHITESPACE","\t\t",336],["T_VARIABLE","$this",336],["T_OBJECT_OPERATOR","->",336],["T_STRING","_db",336],["T_OBJECT_OPERATOR","->",336],["T_STRING","reset_query",336],"(",")",";",["T_WHITESPACE","\n\n\t\t",336],["T_RETURN","return",338],["T_WHITESPACE"," ",338],"(",["T_VARIABLE","$this",338],["T_OBJECT_OPERATOR","->",338],["T_STRING","_db",338],["T_OBJECT_OPERATOR","->",338],["T_STRING","delete",338],"(",["T_VARIABLE","$this",338],["T_OBJECT_OPERATOR","->",338],["T_STRING","_config",338],"[",["T_CONSTANT_ENCAPSED_STRING","'save_path'",338],"]",",",["T_WHITESPACE"," ",338],["T_CONSTANT_ENCAPSED_STRING","'timestamp < '",338],".","(",["T_STRING","time",338],"(",")",["T_WHITESPACE"," ",338],"-",["T_WHITESPACE"," ",338],["T_VARIABLE","$maxlifetime",338],")",")",")",["T_WHITESPACE","\n\t\t\t",338],"?",["T_WHITESPACE"," ",339],["T_VARIABLE","$this",339],["T_OBJECT_OPERATOR","->",339],["T_STRING","_success",339],["T_WHITESPACE","\n\t\t\t",339],":",["T_WHITESPACE"," ",340],["T_VARIABLE","$this",340],["T_OBJECT_OPERATOR","->",340],["T_STRING","_fail",340],"(",")",";",["T_WHITESPACE","\n\t",340],"}",["T_WHITESPACE","\n\n\t",341],["T_COMMENT","\/\/ ------------------------------------------------------------------------\n",343],["T_WHITESPACE","\n\t",344],["T_DOC_COMMENT","\/**\n\t * Get lock\n\t *\n\t * Acquires a lock, depending on the underlying platform.\n\t *\n\t * @param\tstring\t$session_id\tSession ID\n\t * @return\tbool\n\t *\/",345],["T_WHITESPACE","\n\t",352],["T_PROTECTED","protected",353],["T_WHITESPACE"," ",353],["T_FUNCTION","function",353],["T_WHITESPACE"," ",353],["T_STRING","_get_lock",353],"(",["T_VARIABLE","$session_id",353],")",["T_WHITESPACE","\n\t",353],"{",["T_WHITESPACE","\n\t\t",354],["T_IF","if",355],["T_WHITESPACE"," ",355],"(",["T_VARIABLE","$this",355],["T_OBJECT_OPERATOR","->",355],["T_STRING","_platform",355],["T_WHITESPACE"," ",355],["T_IS_IDENTICAL","===",355],["T_WHITESPACE"," ",355],["T_CONSTANT_ENCAPSED_STRING","'mysql'",355],")",["T_WHITESPACE","\n\t\t",355],"{",["T_WHITESPACE","\n\t\t\t",356],["T_VARIABLE","$arg",357],["T_WHITESPACE"," ",357],"=",["T_WHITESPACE"," ",357],["T_STRING","md5",357],"(",["T_VARIABLE","$session_id",357],".","(",["T_VARIABLE","$this",357],["T_OBJECT_OPERATOR","->",357],["T_STRING","_config",357],"[",["T_CONSTANT_ENCAPSED_STRING","'match_ip'",357],"]",["T_WHITESPACE"," ",357],"?",["T_WHITESPACE"," ",357],["T_CONSTANT_ENCAPSED_STRING","'_'",357],".",["T_VARIABLE","$_SERVER",357],"[",["T_CONSTANT_ENCAPSED_STRING","'REMOTE_ADDR'",357],"]",["T_WHITESPACE"," ",357],":",["T_WHITESPACE"," ",357],["T_CONSTANT_ENCAPSED_STRING","''",357],")",")",";",["T_WHITESPACE","\n\t\t\t",357],["T_IF","if",358],["T_WHITESPACE"," ",358],"(",["T_VARIABLE","$this",358],["T_OBJECT_OPERATOR","->",358],["T_STRING","_db",358],["T_OBJECT_OPERATOR","->",358],["T_STRING","query",358],"(",["T_CONSTANT_ENCAPSED_STRING","\"SELECT GET_LOCK('\"",358],".",["T_VARIABLE","$arg",358],".",["T_CONSTANT_ENCAPSED_STRING","\"', 300) AS ci_session_lock\"",358],")",["T_OBJECT_OPERATOR","->",358],["T_STRING","row",358],"(",")",["T_OBJECT_OPERATOR","->",358],["T_STRING","ci_session_lock",358],")",["T_WHITESPACE","\n\t\t\t",358],"{",["T_WHITESPACE","\n\t\t\t\t",359],["T_VARIABLE","$this",360],["T_OBJECT_OPERATOR","->",360],["T_STRING","_lock",360],["T_WHITESPACE"," ",360],"=",["T_WHITESPACE"," ",360],["T_VARIABLE","$arg",360],";",["T_WHITESPACE","\n\t\t\t\t",360],["T_RETURN","return",361],["T_WHITESPACE"," ",361],["T_STRING","TRUE",361],";",["T_WHITESPACE","\n\t\t\t",361],"}",["T_WHITESPACE","\n\n\t\t\t",362],["T_RETURN","return",364],["T_WHITESPACE"," ",364],["T_STRING","FALSE",364],";",["T_WHITESPACE","\n\t\t",364],"}",["T_WHITESPACE","\n\t\t",365],["T_ELSEIF","elseif",366],["T_WHITESPACE"," ",366],"(",["T_VARIABLE","$this",366],["T_OBJECT_OPERATOR","->",366],["T_STRING","_platform",366],["T_WHITESPACE"," ",366],["T_IS_IDENTICAL","===",366],["T_WHITESPACE"," ",366],["T_CONSTANT_ENCAPSED_STRING","'postgre'",366],")",["T_WHITESPACE","\n\t\t",366],"{",["T_WHITESPACE","\n\t\t\t",367],["T_VARIABLE","$arg",368],["T_WHITESPACE"," ",368],"=",["T_WHITESPACE"," ",368],["T_CONSTANT_ENCAPSED_STRING","\"hashtext('\"",368],".",["T_VARIABLE","$session_id",368],".",["T_CONSTANT_ENCAPSED_STRING","\"')\"",368],".","(",["T_VARIABLE","$this",368],["T_OBJECT_OPERATOR","->",368],["T_STRING","_config",368],"[",["T_CONSTANT_ENCAPSED_STRING","'match_ip'",368],"]",["T_WHITESPACE"," ",368],"?",["T_WHITESPACE"," ",368],["T_CONSTANT_ENCAPSED_STRING","\", hashtext('\"",368],".",["T_VARIABLE","$_SERVER",368],"[",["T_CONSTANT_ENCAPSED_STRING","'REMOTE_ADDR'",368],"]",".",["T_CONSTANT_ENCAPSED_STRING","\"')\"",368],["T_WHITESPACE"," ",368],":",["T_WHITESPACE"," ",368],["T_CONSTANT_ENCAPSED_STRING","''",368],")",";",["T_WHITESPACE","\n\t\t\t",368],["T_IF","if",369],["T_WHITESPACE"," ",369],"(",["T_VARIABLE","$this",369],["T_OBJECT_OPERATOR","->",369],["T_STRING","_db",369],["T_OBJECT_OPERATOR","->",369],["T_STRING","simple_query",369],"(",["T_CONSTANT_ENCAPSED_STRING","'SELECT pg_advisory_lock('",369],".",["T_VARIABLE","$arg",369],".",["T_CONSTANT_ENCAPSED_STRING","')'",369],")",")",["T_WHITESPACE","\n\t\t\t",369],"{",["T_WHITESPACE","\n\t\t\t\t",370],["T_VARIABLE","$this",371],["T_OBJECT_OPERATOR","->",371],["T_STRING","_lock",371],["T_WHITESPACE"," ",371],"=",["T_WHITESPACE"," ",371],["T_VARIABLE","$arg",371],";",["T_WHITESPACE","\n\t\t\t\t",371],["T_RETURN","return",372],["T_WHITESPACE"," ",372],["T_STRING","TRUE",372],";",["T_WHITESPACE","\n\t\t\t",372],"}",["T_WHITESPACE","\n\n\t\t\t",373],["T_RETURN","return",375],["T_WHITESPACE"," ",375],["T_STRING","FALSE",375],";",["T_WHITESPACE","\n\t\t",375],"}",["T_WHITESPACE","\n\n\t\t",376],["T_RETURN","return",378],["T_WHITESPACE"," ",378],["T_STRING","parent",378],["T_DOUBLE_COLON","::",378],["T_STRING","_get_lock",378],"(",["T_VARIABLE","$session_id",378],")",";",["T_WHITESPACE","\n\t",378],"}",["T_WHITESPACE","\n\n\t",379],["T_COMMENT","\/\/ ------------------------------------------------------------------------\n",381],["T_WHITESPACE","\n\t",382],["T_DOC_COMMENT","\/**\n\t * Release lock\n\t *\n\t * Releases a previously acquired lock\n\t *\n\t * @return\tbool\n\t *\/",383],["T_WHITESPACE","\n\t",389],["T_PROTECTED","protected",390],["T_WHITESPACE"," ",390],["T_FUNCTION","function",390],["T_WHITESPACE"," ",390],["T_STRING","_release_lock",390],"(",")",["T_WHITESPACE","\n\t",390],"{",["T_WHITESPACE","\n\t\t",391],["T_IF","if",392],["T_WHITESPACE"," ",392],"(",["T_WHITESPACE"," ",392],"!",["T_WHITESPACE"," ",392],["T_VARIABLE","$this",392],["T_OBJECT_OPERATOR","->",392],["T_STRING","_lock",392],")",["T_WHITESPACE","\n\t\t",392],"{",["T_WHITESPACE","\n\t\t\t",393],["T_RETURN","return",394],["T_WHITESPACE"," ",394],["T_STRING","TRUE",394],";",["T_WHITESPACE","\n\t\t",394],"}",["T_WHITESPACE","\n\n\t\t",395],["T_IF","if",397],["T_WHITESPACE"," ",397],"(",["T_VARIABLE","$this",397],["T_OBJECT_OPERATOR","->",397],["T_STRING","_platform",397],["T_WHITESPACE"," ",397],["T_IS_IDENTICAL","===",397],["T_WHITESPACE"," ",397],["T_CONSTANT_ENCAPSED_STRING","'mysql'",397],")",["T_WHITESPACE","\n\t\t",397],"{",["T_WHITESPACE","\n\t\t\t",398],["T_IF","if",399],["T_WHITESPACE"," ",399],"(",["T_VARIABLE","$this",399],["T_OBJECT_OPERATOR","->",399],["T_STRING","_db",399],["T_OBJECT_OPERATOR","->",399],["T_STRING","query",399],"(",["T_CONSTANT_ENCAPSED_STRING","\"SELECT RELEASE_LOCK('\"",399],".",["T_VARIABLE","$this",399],["T_OBJECT_OPERATOR","->",399],["T_STRING","_lock",399],".",["T_CONSTANT_ENCAPSED_STRING","\"') AS ci_session_lock\"",399],")",["T_OBJECT_OPERATOR","->",399],["T_STRING","row",399],"(",")",["T_OBJECT_OPERATOR","->",399],["T_STRING","ci_session_lock",399],")",["T_WHITESPACE","\n\t\t\t",399],"{",["T_WHITESPACE","\n\t\t\t\t",400],["T_VARIABLE","$this",401],["T_OBJECT_OPERATOR","->",401],["T_STRING","_lock",401],["T_WHITESPACE"," ",401],"=",["T_WHITESPACE"," ",401],["T_STRING","FALSE",401],";",["T_WHITESPACE","\n\t\t\t\t",401],["T_RETURN","return",402],["T_WHITESPACE"," ",402],["T_STRING","TRUE",402],";",["T_WHITESPACE","\n\t\t\t",402],"}",["T_WHITESPACE","\n\n\t\t\t",403],["T_RETURN","return",405],["T_WHITESPACE"," ",405],["T_STRING","FALSE",405],";",["T_WHITESPACE","\n\t\t",405],"}",["T_WHITESPACE","\n\t\t",406],["T_ELSEIF","elseif",407],["T_WHITESPACE"," ",407],"(",["T_VARIABLE","$this",407],["T_OBJECT_OPERATOR","->",407],["T_STRING","_platform",407],["T_WHITESPACE"," ",407],["T_IS_IDENTICAL","===",407],["T_WHITESPACE"," ",407],["T_CONSTANT_ENCAPSED_STRING","'postgre'",407],")",["T_WHITESPACE","\n\t\t",407],"{",["T_WHITESPACE","\n\t\t\t",408],["T_IF","if",409],["T_WHITESPACE"," ",409],"(",["T_VARIABLE","$this",409],["T_OBJECT_OPERATOR","->",409],["T_STRING","_db",409],["T_OBJECT_OPERATOR","->",409],["T_STRING","simple_query",409],"(",["T_CONSTANT_ENCAPSED_STRING","'SELECT pg_advisory_unlock('",409],".",["T_VARIABLE","$this",409],["T_OBJECT_OPERATOR","->",409],["T_STRING","_lock",409],".",["T_CONSTANT_ENCAPSED_STRING","')'",409],")",")",["T_WHITESPACE","\n\t\t\t",409],"{",["T_WHITESPACE","\n\t\t\t\t",410],["T_VARIABLE","$this",411],["T_OBJECT_OPERATOR","->",411],["T_STRING","_lock",411],["T_WHITESPACE"," ",411],"=",["T_WHITESPACE"," ",411],["T_STRING","FALSE",411],";",["T_WHITESPACE","\n\t\t\t\t",411],["T_RETURN","return",412],["T_WHITESPACE"," ",412],["T_STRING","TRUE",412],";",["T_WHITESPACE","\n\t\t\t",412],"}",["T_WHITESPACE","\n\n\t\t\t",413],["T_RETURN","return",415],["T_WHITESPACE"," ",415],["T_STRING","FALSE",415],";",["T_WHITESPACE","\n\t\t",415],"}",["T_WHITESPACE","\n\n\t\t",416],["T_RETURN","return",418],["T_WHITESPACE"," ",418],["T_STRING","parent",418],["T_DOUBLE_COLON","::",418],["T_STRING","_release_lock",418],"(",")",";",["T_WHITESPACE","\n\t",418],"}",["T_WHITESPACE","\n",419],"}",["T_WHITESPACE","\n",420]]