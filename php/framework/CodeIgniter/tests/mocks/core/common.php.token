[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_COMMENT","\/\/ Set up the global CI functions in their most minimal core representation\n",3],["T_WHITESPACE","\n",4],["T_IF","if",5],["T_WHITESPACE"," ",5],"(",["T_WHITESPACE"," ",5],"!",["T_WHITESPACE"," ",5],["T_STRING","function_exists",5],"(",["T_CONSTANT_ENCAPSED_STRING","'get_instance'",5],")",")",["T_WHITESPACE","\n",5],"{",["T_WHITESPACE","\n\t",6],["T_FUNCTION","function",7],["T_WHITESPACE"," ",7],"&",["T_STRING","get_instance",7],"(",")",["T_WHITESPACE","\n\t",7],"{",["T_WHITESPACE","\n\t\t",8],["T_VARIABLE","$test",9],["T_WHITESPACE"," ",9],"=",["T_WHITESPACE"," ",9],["T_STRING","CI_TestCase",9],["T_DOUBLE_COLON","::",9],["T_STRING","instance",9],"(",")",";",["T_WHITESPACE","\n\t\t",9],["T_VARIABLE","$test",10],["T_WHITESPACE"," ",10],"=",["T_WHITESPACE"," ",10],["T_VARIABLE","$test",10],["T_OBJECT_OPERATOR","->",10],["T_STRING","ci_instance",10],"(",")",";",["T_WHITESPACE","\n\t\t",10],["T_RETURN","return",11],["T_WHITESPACE"," ",11],["T_VARIABLE","$test",11],";",["T_WHITESPACE","\n\t",11],"}",["T_WHITESPACE","\n",12],"}",["T_WHITESPACE","\n\n",13],["T_COMMENT","\/\/ --------------------------------------------------------------------\n",15],["T_WHITESPACE","\n",16],["T_IF","if",17],["T_WHITESPACE"," ",17],"(",["T_WHITESPACE"," ",17],"!",["T_WHITESPACE"," ",17],["T_STRING","function_exists",17],"(",["T_CONSTANT_ENCAPSED_STRING","'get_config'",17],")",")",["T_WHITESPACE","\n",17],"{",["T_WHITESPACE","\n\t",18],["T_FUNCTION","function",19],["T_WHITESPACE"," ",19],"&",["T_STRING","get_config",19],"(",")",["T_WHITESPACE","\n\t",19],"{",["T_WHITESPACE","\n\t\t",20],["T_VARIABLE","$test",21],["T_WHITESPACE"," ",21],"=",["T_WHITESPACE"," ",21],["T_STRING","CI_TestCase",21],["T_DOUBLE_COLON","::",21],["T_STRING","instance",21],"(",")",";",["T_WHITESPACE","\n\t\t",21],["T_VARIABLE","$config",22],["T_WHITESPACE"," ",22],"=",["T_WHITESPACE"," ",22],["T_VARIABLE","$test",22],["T_OBJECT_OPERATOR","->",22],["T_STRING","ci_get_config",22],"(",")",";",["T_WHITESPACE","\n\t\t",22],["T_RETURN","return",23],["T_WHITESPACE"," ",23],["T_VARIABLE","$config",23],";",["T_WHITESPACE","\n\t",23],"}",["T_WHITESPACE","\n",24],"}",["T_WHITESPACE","\n\n",25],["T_IF","if",27],["T_WHITESPACE"," ",27],"(",["T_WHITESPACE"," ",27],"!",["T_WHITESPACE"," ",27],["T_STRING","function_exists",27],"(",["T_CONSTANT_ENCAPSED_STRING","'config_item'",27],")",")",["T_WHITESPACE","\n",27],"{",["T_WHITESPACE","\n\t",28],["T_FUNCTION","function",29],["T_WHITESPACE"," ",29],["T_STRING","config_item",29],"(",["T_VARIABLE","$item",29],")",["T_WHITESPACE","\n\t",29],"{",["T_WHITESPACE","\n\t\t",30],["T_VARIABLE","$config",31],["T_WHITESPACE"," ",31],"=","&",["T_WHITESPACE"," ",31],["T_STRING","get_config",31],"(",")",";",["T_WHITESPACE","\n\n\t\t",31],["T_IF","if",33],["T_WHITESPACE"," ",33],"(",["T_WHITESPACE"," ",33],"!",["T_WHITESPACE"," ",33],["T_ISSET","isset",33],"(",["T_VARIABLE","$config",33],"[",["T_VARIABLE","$item",33],"]",")",")",["T_WHITESPACE","\n\t\t",33],"{",["T_WHITESPACE","\n\t\t\t",34],["T_RETURN","return",35],["T_WHITESPACE"," ",35],["T_STRING","NULL",35],";",["T_WHITESPACE","\n\t\t",35],"}",["T_WHITESPACE","\n\n\t\t",36],["T_RETURN","return",38],["T_WHITESPACE"," ",38],["T_VARIABLE","$config",38],"[",["T_VARIABLE","$item",38],"]",";",["T_WHITESPACE","\n\t",38],"}",["T_WHITESPACE","\n",39],"}",["T_WHITESPACE","\n\n",40],["T_IF","if",42],["T_WHITESPACE"," ",42],"(",["T_WHITESPACE"," ",42],"!",["T_WHITESPACE"," ",42],["T_STRING","function_exists",42],"(",["T_CONSTANT_ENCAPSED_STRING","'get_mimes'",42],")",")",["T_WHITESPACE","\n",42],"{",["T_WHITESPACE","\n\t",43],["T_DOC_COMMENT","\/**\n\t * Returns the MIME types array from config\/mimes.php\n\t *\n\t * @return\tarray\n\t *\/",44],["T_WHITESPACE","\n\t",48],["T_FUNCTION","function",49],["T_WHITESPACE"," ",49],"&",["T_STRING","get_mimes",49],"(",")",["T_WHITESPACE","\n\t",49],"{",["T_WHITESPACE","\n\t\t",50],["T_STATIC","static",51],["T_WHITESPACE"," ",51],["T_VARIABLE","$_mimes",51],["T_WHITESPACE"," ",51],"=",["T_WHITESPACE"," ",51],["T_ARRAY","array",51],"(",")",";",["T_WHITESPACE","\n\n\t\t",51],["T_IF","if",53],["T_WHITESPACE"," ",53],"(",["T_EMPTY","empty",53],"(",["T_VARIABLE","$_mimes",53],")",")",["T_WHITESPACE","\n\t\t",53],"{",["T_WHITESPACE","\n\t\t\t",54],["T_VARIABLE","$path",55],["T_WHITESPACE"," ",55],"=",["T_WHITESPACE"," ",55],["T_STRING","realpath",55],"(",["T_STRING","PROJECT_BASE",55],".",["T_CONSTANT_ENCAPSED_STRING","'application\/config\/mimes.php'",55],")",";",["T_WHITESPACE","\n\t\t\t",55],["T_IF","if",56],["T_WHITESPACE"," ",56],"(",["T_STRING","is_file",56],"(",["T_VARIABLE","$path",56],")",")",["T_WHITESPACE","\n\t\t\t",56],"{",["T_WHITESPACE","\n\t\t\t\t",57],["T_VARIABLE","$_mimes",58],["T_WHITESPACE"," ",58],"=",["T_WHITESPACE"," ",58],["T_INCLUDE","include",58],"(",["T_VARIABLE","$path",58],")",";",["T_WHITESPACE","\n\t\t\t",58],"}",["T_WHITESPACE","\n\t\t",59],"}",["T_WHITESPACE","\n\n\t\t",60],["T_RETURN","return",62],["T_WHITESPACE"," ",62],["T_VARIABLE","$_mimes",62],";",["T_WHITESPACE","\n\t",62],"}",["T_WHITESPACE","\n",63],"}",["T_WHITESPACE","\n\n",64],["T_COMMENT","\/\/ --------------------------------------------------------------------\n",66],["T_WHITESPACE","\n",67],["T_COMMENT","\/*\nif ( ! function_exists('load_class'))\n{\n\tfunction load_class($class, $directory = 'libraries', $prefix = 'CI_')\n\t{\n\t\tif ($directory !== 'core' OR $prefix !== 'CI_')\n\t\t{\n\t\t\tthrow new Exception('Not Implemented: Non-core load_class()');\n\t\t}\n\n\t\t$test = CI_TestCase::instance();\n\n\t\t$obj =& $test->ci_core_class($class);\n\n\t\tif (is_string($obj))\n\t\t{\n\t\t\tthrow new Exception('Bad Isolation: Use ci_set_core_class to set '.$class);\n\t\t}\n\n\t\treturn $obj;\n\t}\n}\n*\/",68],["T_WHITESPACE","\n\n",90],["T_COMMENT","\/\/ Clean up error messages\n",92],["T_COMMENT","\/\/ --------------------------------------------------------------------\n",93],["T_WHITESPACE","\n",94],["T_IF","if",95],["T_WHITESPACE"," ",95],"(",["T_WHITESPACE"," ",95],"!",["T_WHITESPACE"," ",95],["T_STRING","function_exists",95],"(",["T_CONSTANT_ENCAPSED_STRING","'show_error'",95],")",")",["T_WHITESPACE","\n",95],"{",["T_WHITESPACE","\n\t",96],["T_FUNCTION","function",97],["T_WHITESPACE"," ",97],["T_STRING","show_error",97],"(",["T_VARIABLE","$message",97],",",["T_WHITESPACE"," ",97],["T_VARIABLE","$status_code",97],["T_WHITESPACE"," ",97],"=",["T_WHITESPACE"," ",97],["T_LNUMBER","500",97],",",["T_WHITESPACE"," ",97],["T_VARIABLE","$heading",97],["T_WHITESPACE"," ",97],"=",["T_WHITESPACE"," ",97],["T_CONSTANT_ENCAPSED_STRING","'An Error Was Encountered'",97],")",["T_WHITESPACE","\n\t",97],"{",["T_WHITESPACE","\n\t\t",98],["T_THROW","throw",99],["T_WHITESPACE"," ",99],["T_NEW","new",99],["T_WHITESPACE"," ",99],["T_STRING","RuntimeException",99],"(",["T_CONSTANT_ENCAPSED_STRING","'CI Error: '",99],".",["T_VARIABLE","$message",99],")",";",["T_WHITESPACE","\n\t",99],"}",["T_WHITESPACE","\n",100],"}",["T_WHITESPACE","\n\n",101],["T_IF","if",103],["T_WHITESPACE"," ",103],"(",["T_WHITESPACE"," ",103],"!",["T_WHITESPACE"," ",103],["T_STRING","function_exists",103],"(",["T_CONSTANT_ENCAPSED_STRING","'show_404'",103],")",")",["T_WHITESPACE","\n",103],"{",["T_WHITESPACE","\n\t",104],["T_FUNCTION","function",105],["T_WHITESPACE"," ",105],["T_STRING","show_404",105],"(",["T_VARIABLE","$page",105],["T_WHITESPACE"," ",105],"=",["T_WHITESPACE"," ",105],["T_CONSTANT_ENCAPSED_STRING","''",105],",",["T_WHITESPACE"," ",105],["T_VARIABLE","$log_error",105],["T_WHITESPACE"," ",105],"=",["T_WHITESPACE"," ",105],["T_STRING","TRUE",105],")",["T_WHITESPACE","\n\t",105],"{",["T_WHITESPACE","\n\t\t",106],["T_THROW","throw",107],["T_WHITESPACE"," ",107],["T_NEW","new",107],["T_WHITESPACE"," ",107],["T_STRING","RuntimeException",107],"(",["T_CONSTANT_ENCAPSED_STRING","'CI Error: 404'",107],")",";",["T_WHITESPACE","\n\t",107],"}",["T_WHITESPACE","\n",108],"}",["T_WHITESPACE","\n\n",109],["T_IF","if",111],["T_WHITESPACE"," ",111],"(",["T_WHITESPACE"," ",111],"!",["T_WHITESPACE"," ",111],["T_STRING","function_exists",111],"(",["T_CONSTANT_ENCAPSED_STRING","'_exception_handler'",111],")",")",["T_WHITESPACE","\n",111],"{",["T_WHITESPACE","\n\t",112],["T_FUNCTION","function",113],["T_WHITESPACE"," ",113],["T_STRING","_exception_handler",113],"(",["T_VARIABLE","$severity",113],",",["T_WHITESPACE"," ",113],["T_VARIABLE","$message",113],",",["T_WHITESPACE"," ",113],["T_VARIABLE","$filepath",113],",",["T_WHITESPACE"," ",113],["T_VARIABLE","$line",113],")",["T_WHITESPACE","\n\t",113],"{",["T_WHITESPACE","\n\t\t",114],["T_THROW","throw",115],["T_WHITESPACE"," ",115],["T_NEW","new",115],["T_WHITESPACE"," ",115],["T_STRING","RuntimeException",115],"(",["T_CONSTANT_ENCAPSED_STRING","'CI Exception: '",115],".",["T_VARIABLE","$message",115],".",["T_CONSTANT_ENCAPSED_STRING","' | '",115],".",["T_VARIABLE","$filepath",115],".",["T_CONSTANT_ENCAPSED_STRING","' | '",115],".",["T_VARIABLE","$line",115],")",";",["T_WHITESPACE","\n\t",115],"}",["T_WHITESPACE","\n",116],"}",["T_WHITESPACE","\n\n",117],["T_COMMENT","\/\/ We assume a few things about our environment ...\n",119],["T_COMMENT","\/\/ --------------------------------------------------------------------\n",120],["T_IF","if",121],["T_WHITESPACE"," ",121],"(",["T_WHITESPACE"," ",121],"!",["T_WHITESPACE"," ",121],["T_STRING","function_exists",121],"(",["T_CONSTANT_ENCAPSED_STRING","'is_loaded'",121],")",")",["T_WHITESPACE","\n",121],"{",["T_WHITESPACE","\n\t",122],["T_FUNCTION","function",123],["T_WHITESPACE"," ",123],"&",["T_STRING","is_loaded",123],"(",")",["T_WHITESPACE","\n\t",123],"{",["T_WHITESPACE","\n\t\t",124],["T_VARIABLE","$loaded",125],["T_WHITESPACE"," ",125],"=",["T_WHITESPACE"," ",125],["T_ARRAY","array",125],"(",")",";",["T_WHITESPACE","\n\t\t",125],["T_RETURN","return",126],["T_WHITESPACE"," ",126],["T_VARIABLE","$loaded",126],";",["T_WHITESPACE","\n\t",126],"}",["T_WHITESPACE","\n",127],"}",["T_WHITESPACE","\n\n",128],["T_IF","if",130],["T_WHITESPACE"," ",130],"(",["T_WHITESPACE"," ",130],"!",["T_WHITESPACE"," ",130],["T_STRING","function_exists",130],"(",["T_CONSTANT_ENCAPSED_STRING","'log_message'",130],")",")",["T_WHITESPACE","\n",130],"{",["T_WHITESPACE","\n\t",131],["T_FUNCTION","function",132],["T_WHITESPACE"," ",132],["T_STRING","log_message",132],"(",["T_VARIABLE","$level",132],",",["T_WHITESPACE"," ",132],["T_VARIABLE","$message",132],")",["T_WHITESPACE","\n\t",132],"{",["T_WHITESPACE","\n\t\t",133],["T_RETURN","return",134],["T_WHITESPACE"," ",134],["T_STRING","TRUE",134],";",["T_WHITESPACE","\n\t",134],"}",["T_WHITESPACE","\n",135],"}",["T_WHITESPACE","\n\n",136],["T_IF","if",138],["T_WHITESPACE"," ",138],"(",["T_WHITESPACE"," ",138],"!",["T_WHITESPACE"," ",138],["T_STRING","function_exists",138],"(",["T_CONSTANT_ENCAPSED_STRING","'set_status_header'",138],")",")",["T_WHITESPACE","\n",138],"{",["T_WHITESPACE","\n\t",139],["T_FUNCTION","function",140],["T_WHITESPACE"," ",140],["T_STRING","set_status_header",140],"(",["T_VARIABLE","$code",140],["T_WHITESPACE"," ",140],"=",["T_WHITESPACE"," ",140],["T_LNUMBER","200",140],",",["T_WHITESPACE"," ",140],["T_VARIABLE","$text",140],["T_WHITESPACE"," ",140],"=",["T_WHITESPACE"," ",140],["T_CONSTANT_ENCAPSED_STRING","''",140],")",["T_WHITESPACE","\n\t",140],"{",["T_WHITESPACE","\n\t\t",141],["T_RETURN","return",142],["T_WHITESPACE"," ",142],["T_STRING","TRUE",142],";",["T_WHITESPACE","\n\t",142],"}",["T_WHITESPACE","\n",143],"}",["T_WHITESPACE","\n\n",144],["T_IF","if",146],["T_WHITESPACE"," ",146],"(",["T_WHITESPACE"," ",146],"!",["T_WHITESPACE"," ",146],["T_STRING","function_exists",146],"(",["T_CONSTANT_ENCAPSED_STRING","'is_cli'",146],")",")",["T_WHITESPACE","\n",146],"{",["T_WHITESPACE","\n\t",147],["T_COMMENT","\/\/ In order to test HTTP functionality, we need to lie about this\n",148],["T_WHITESPACE","\t",149],["T_FUNCTION","function",149],["T_WHITESPACE"," ",149],["T_STRING","is_cli",149],"(",")",["T_WHITESPACE","\n\t",149],"{",["T_WHITESPACE","\n\t\t",150],["T_RETURN","return",151],["T_WHITESPACE"," ",151],["T_STRING","FALSE",151],";",["T_WHITESPACE","\n\t",151],"}",["T_WHITESPACE","\n",152],"}"]