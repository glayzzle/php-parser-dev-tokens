[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Magento\n *\n * NOTICE OF LICENSE\n *\n * This source file is subject to the Open Software License (OSL 3.0)\n * that is bundled with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/opensource.org\/licenses\/osl-3.0.php\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@magento.com so we can send you a copy immediately.\n *\n * DISCLAIMER\n *\n * Do not edit or add to this file if you wish to upgrade Magento to newer\n * versions in the future. If you wish to customize Magento for your\n * needs please refer to http:\/\/www.magento.com for more information.\n *\n * @category    Mage\n * @package     Mage_Connect\n * @copyright  Copyright (c) 2006-2016 X.commerce, Inc. and affiliates (http:\/\/www.magento.com)\n * @license    http:\/\/opensource.org\/licenses\/osl-3.0.php  Open Software License (OSL 3.0)\n *\/",2],["T_WHITESPACE","\n\n",25],["T_DOC_COMMENT","\/**\n * Class to manipulate with packages\n *\n * @category    Mage\n * @package     Mage_Connect\n * @author      Magento Core Team <core@magentocommerce.com>\n *\/",27],["T_WHITESPACE","\n\n",33],["T_CLASS","class",35],["T_WHITESPACE"," ",35],["T_STRING","Mage_Connect_Packager",35],["T_WHITESPACE","\n",35],"{",["T_WHITESPACE","\n    ",36],["T_DOC_COMMENT","\/**\n     * Constructor\n     *\/",37],["T_WHITESPACE","\n    ",39],["T_PUBLIC","public",40],["T_WHITESPACE"," ",40],["T_FUNCTION","function",40],["T_WHITESPACE"," ",40],["T_STRING","__construct",40],"(",")",["T_WHITESPACE","\n    ",40],"{",["T_WHITESPACE","\n    ",41],"}",["T_WHITESPACE","\n\n    ",42],["T_DOC_COMMENT","\/**\n     *\n     * @var Mage_Archive\n     *\/",44],["T_WHITESPACE","\n    ",47],["T_PROTECTED","protected",48],["T_WHITESPACE"," ",48],["T_VARIABLE","$_archiver",48],["T_WHITESPACE"," ",48],"=",["T_WHITESPACE"," ",48],["T_STRING","null",48],";",["T_WHITESPACE","\n    ",48],["T_PROTECTED","protected",49],["T_WHITESPACE"," ",49],["T_VARIABLE","$_http",49],["T_WHITESPACE"," ",49],"=",["T_WHITESPACE"," ",49],["T_STRING","null",49],";",["T_WHITESPACE","\n\n\n\n    ",49],["T_DOC_COMMENT","\/**\n     *\n     * @return Mage_Archive\n     *\/",53],["T_WHITESPACE","\n    ",56],["T_PUBLIC","public",57],["T_WHITESPACE"," ",57],["T_FUNCTION","function",57],["T_WHITESPACE"," ",57],["T_STRING","getArchiver",57],"(",")",["T_WHITESPACE","\n    ",57],"{",["T_WHITESPACE","\n        ",58],["T_IF","if",59],"(",["T_STRING","is_null",59],"(",["T_VARIABLE","$this",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","_archiver",59],")",")",["T_WHITESPACE"," ",59],"{",["T_WHITESPACE","\n            ",59],["T_VARIABLE","$this",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","_archiver",60],["T_WHITESPACE"," ",60],"=",["T_WHITESPACE"," ",60],["T_NEW","new",60],["T_WHITESPACE"," ",60],["T_STRING","Mage_Archive",60],"(",")",";",["T_WHITESPACE","\n        ",60],"}",["T_WHITESPACE","\n        ",61],["T_RETURN","return",62],["T_WHITESPACE"," ",62],["T_VARIABLE","$this",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","_archiver",62],";",["T_WHITESPACE","\n    ",62],"}",["T_WHITESPACE","\n\n    ",63],["T_PUBLIC","public",65],["T_WHITESPACE"," ",65],["T_FUNCTION","function",65],["T_WHITESPACE"," ",65],["T_STRING","getDownloader",65],"(",")",["T_WHITESPACE","\n    ",65],"{",["T_WHITESPACE","\n        ",66],["T_IF","if",67],"(",["T_STRING","is_null",67],"(",["T_VARIABLE","$this",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","_http",67],")",")",["T_WHITESPACE"," ",67],"{",["T_WHITESPACE","\n            ",67],["T_VARIABLE","$this",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","_http",68],["T_WHITESPACE"," ",68],"=",["T_WHITESPACE"," ",68],["T_STRING","Mage_HTTP_Client",68],["T_DOUBLE_COLON","::",68],["T_STRING","getInstance",68],"(",")",";",["T_WHITESPACE","\n        ",68],"}",["T_WHITESPACE","\n        ",69],["T_RETURN","return",70],["T_WHITESPACE"," ",70],["T_VARIABLE","$this",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","_http",70],";",["T_WHITESPACE","\n    ",70],"}",["T_WHITESPACE","\n\n\n    ",71],["T_PUBLIC","public",74],["T_WHITESPACE"," ",74],["T_FUNCTION","function",74],["T_WHITESPACE"," ",74],["T_STRING","getRemoteConf",74],"(",["T_VARIABLE","$ftpString",74],")",["T_WHITESPACE","\n    ",74],"{",["T_WHITESPACE","\n        ",75],["T_VARIABLE","$ftpObj",76],["T_WHITESPACE"," ",76],"=",["T_WHITESPACE"," ",76],["T_NEW","new",76],["T_WHITESPACE"," ",76],["T_STRING","Mage_Connect_Ftp",76],"(",")",";",["T_WHITESPACE","\n        ",76],["T_VARIABLE","$ftpObj",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","connect",77],"(",["T_VARIABLE","$ftpString",77],")",";",["T_WHITESPACE","\n        ",77],["T_VARIABLE","$cfgFile",78],["T_WHITESPACE"," ",78],"=",["T_WHITESPACE"," ",78],["T_CONSTANT_ENCAPSED_STRING","\"connect.cfg\"",78],";",["T_WHITESPACE","\n        ",78],["T_VARIABLE","$cacheFile",79],["T_WHITESPACE"," ",79],"=",["T_WHITESPACE"," ",79],["T_CONSTANT_ENCAPSED_STRING","\"cache.cfg\"",79],";",["T_WHITESPACE","\n\n\n        ",79],["T_VARIABLE","$wd",82],["T_WHITESPACE"," ",82],"=",["T_WHITESPACE"," ",82],["T_VARIABLE","$ftpObj",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","getcwd",82],"(",")",";",["T_WHITESPACE","\n\n        ",82],["T_VARIABLE","$remoteConfigExists",84],["T_WHITESPACE"," ",84],"=",["T_WHITESPACE"," ",84],["T_VARIABLE","$ftpObj",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","fileExists",84],"(",["T_VARIABLE","$cfgFile",84],")",";",["T_WHITESPACE","\n        ",84],["T_VARIABLE","$tempConfigFile",85],["T_WHITESPACE"," ",85],"=",["T_WHITESPACE"," ",85],["T_STRING","uniqid",85],"(",["T_VARIABLE","$cfgFile",85],".",["T_CONSTANT_ENCAPSED_STRING","\"_temp\"",85],")",";",["T_WHITESPACE","\n        ",85],["T_IF","if",86],"(","!",["T_VARIABLE","$remoteConfigExists",86],")",["T_WHITESPACE"," ",86],"{",["T_WHITESPACE","\n            ",86],["T_VARIABLE","$remoteCfg",87],["T_WHITESPACE"," ",87],"=",["T_WHITESPACE"," ",87],["T_NEW","new",87],["T_WHITESPACE"," ",87],["T_STRING","Mage_Connect_Config",87],"(",["T_VARIABLE","$tempConfigFile",87],")",";",["T_WHITESPACE","\n            ",87],["T_VARIABLE","$remoteCfg",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","store",88],"(",")",";",["T_WHITESPACE","\n            ",88],["T_VARIABLE","$ftpObj",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","upload",89],"(",["T_VARIABLE","$cfgFile",89],",",["T_WHITESPACE"," ",89],["T_VARIABLE","$tempConfigFile",89],")",";",["T_WHITESPACE","\n        ",89],"}",["T_WHITESPACE"," ",90],["T_ELSE","else",90],["T_WHITESPACE"," ",90],"{",["T_WHITESPACE","\n            ",90],["T_VARIABLE","$ftpObj",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","get",91],"(",["T_VARIABLE","$tempConfigFile",91],",",["T_WHITESPACE"," ",91],["T_VARIABLE","$cfgFile",91],")",";",["T_WHITESPACE","\n            ",91],["T_VARIABLE","$remoteCfg",92],["T_WHITESPACE"," ",92],"=",["T_WHITESPACE"," ",92],["T_NEW","new",92],["T_WHITESPACE"," ",92],["T_STRING","Mage_Connect_Config",92],"(",["T_VARIABLE","$tempConfigFile",92],")",";",["T_WHITESPACE","\n        ",92],"}",["T_WHITESPACE","\n\n        ",93],["T_VARIABLE","$ftpObj",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","chdir",95],"(",["T_VARIABLE","$wd",95],")",";",["T_WHITESPACE","\n\n        ",95],["T_VARIABLE","$remoteCacheExists",97],["T_WHITESPACE"," ",97],"=",["T_WHITESPACE"," ",97],["T_VARIABLE","$ftpObj",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","fileExists",97],"(",["T_VARIABLE","$cacheFile",97],")",";",["T_WHITESPACE","\n        ",97],["T_VARIABLE","$tempCacheFile",98],["T_WHITESPACE"," ",98],"=",["T_WHITESPACE"," ",98],["T_STRING","uniqid",98],"(",["T_VARIABLE","$cacheFile",98],".",["T_CONSTANT_ENCAPSED_STRING","\"_temp\"",98],")",";",["T_WHITESPACE","\n\n        ",98],["T_IF","if",100],"(","!",["T_VARIABLE","$remoteCacheExists",100],")",["T_WHITESPACE"," ",100],"{",["T_WHITESPACE","\n            ",100],["T_VARIABLE","$remoteCache",101],["T_WHITESPACE"," ",101],"=",["T_WHITESPACE"," ",101],["T_NEW","new",101],["T_WHITESPACE"," ",101],["T_STRING","Mage_Connect_Singleconfig",101],"(",["T_VARIABLE","$tempCacheFile",101],")",";",["T_WHITESPACE","\n            ",101],["T_VARIABLE","$remoteCache",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","clear",102],"(",")",";",["T_WHITESPACE","\n            ",102],["T_VARIABLE","$ftpObj",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","upload",103],"(",["T_VARIABLE","$cacheFile",103],",",["T_WHITESPACE"," ",103],["T_VARIABLE","$tempCacheFile",103],")",";",["T_WHITESPACE","\n        ",103],"}",["T_WHITESPACE"," ",104],["T_ELSE","else",104],["T_WHITESPACE"," ",104],"{",["T_WHITESPACE","\n            ",104],["T_VARIABLE","$ftpObj",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","get",105],"(",["T_VARIABLE","$tempCacheFile",105],",",["T_WHITESPACE"," ",105],["T_VARIABLE","$cacheFile",105],")",";",["T_WHITESPACE","\n            ",105],["T_VARIABLE","$remoteCache",106],["T_WHITESPACE"," ",106],"=",["T_WHITESPACE"," ",106],["T_NEW","new",106],["T_WHITESPACE"," ",106],["T_STRING","Mage_Connect_Singleconfig",106],"(",["T_VARIABLE","$tempCacheFile",106],")",";",["T_WHITESPACE","\n        ",106],"}",["T_WHITESPACE","\n        ",107],["T_VARIABLE","$ftpObj",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","chdir",108],"(",["T_VARIABLE","$wd",108],")",";",["T_WHITESPACE","\n        ",108],["T_RETURN","return",109],["T_WHITESPACE"," ",109],["T_ARRAY","array",109],"(",["T_VARIABLE","$remoteCache",109],",",["T_WHITESPACE"," ",109],["T_VARIABLE","$remoteCfg",109],",",["T_WHITESPACE"," ",109],["T_VARIABLE","$ftpObj",109],")",";",["T_WHITESPACE","\n    ",109],"}",["T_WHITESPACE","\n\n\n    ",110],["T_PUBLIC","public",113],["T_WHITESPACE"," ",113],["T_FUNCTION","function",113],["T_WHITESPACE"," ",113],["T_STRING","getRemoteCache",113],"(",["T_VARIABLE","$ftpString",113],")",["T_WHITESPACE","\n    ",113],"{",["T_WHITESPACE","\n\n        ",114],["T_VARIABLE","$ftpObj",116],["T_WHITESPACE"," ",116],"=",["T_WHITESPACE"," ",116],["T_NEW","new",116],["T_WHITESPACE"," ",116],["T_STRING","Mage_Connect_Ftp",116],"(",")",";",["T_WHITESPACE","\n        ",116],["T_VARIABLE","$ftpObj",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","connect",117],"(",["T_VARIABLE","$ftpString",117],")",";",["T_WHITESPACE","\n        ",117],["T_VARIABLE","$remoteConfigExists",118],["T_WHITESPACE"," ",118],"=",["T_WHITESPACE"," ",118],["T_VARIABLE","$ftpObj",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","fileExists",118],"(",["T_CONSTANT_ENCAPSED_STRING","\"cache.cfg\"",118],")",";",["T_WHITESPACE","\n        ",118],["T_IF","if",119],"(","!",["T_VARIABLE","$remoteConfigExists",119],")",["T_WHITESPACE"," ",119],"{",["T_WHITESPACE","\n            ",119],["T_VARIABLE","$configFile",120],"=",["T_WHITESPACE"," ",120],["T_STRING","uniqid",120],"(",["T_CONSTANT_ENCAPSED_STRING","\"temp_cachecfg_\"",120],")",";",["T_WHITESPACE","\n            ",120],["T_VARIABLE","$remoteCfg",121],["T_WHITESPACE"," ",121],"=",["T_WHITESPACE"," ",121],["T_NEW","new",121],["T_WHITESPACE"," ",121],["T_STRING","Mage_Connect_Singleconfig",121],"(",["T_VARIABLE","$configFile",121],")",";",["T_WHITESPACE","\n            ",121],["T_VARIABLE","$remoteCfg",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","clear",122],"(",")",";",["T_WHITESPACE","\n            ",122],["T_VARIABLE","$ftpObj",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","upload",123],"(",["T_CONSTANT_ENCAPSED_STRING","\"cache.cfg\"",123],",",["T_WHITESPACE"," ",123],["T_VARIABLE","$configFile",123],")",";",["T_WHITESPACE","\n        ",123],"}",["T_WHITESPACE"," ",124],["T_ELSE","else",124],["T_WHITESPACE"," ",124],"{",["T_WHITESPACE","\n            ",124],["T_VARIABLE","$configFile",125],["T_WHITESPACE"," ",125],"=",["T_WHITESPACE"," ",125],["T_STRING","uniqid",125],"(",["T_CONSTANT_ENCAPSED_STRING","\"temp_cachecfg_\"",125],")",";",["T_WHITESPACE","\n            ",125],["T_VARIABLE","$ftpObj",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","get",126],"(",["T_VARIABLE","$configFile",126],",",["T_WHITESPACE"," ",126],["T_CONSTANT_ENCAPSED_STRING","\"cache.cfg\"",126],")",";",["T_WHITESPACE","\n            ",126],["T_VARIABLE","$remoteCfg",127],["T_WHITESPACE"," ",127],"=",["T_WHITESPACE"," ",127],["T_NEW","new",127],["T_WHITESPACE"," ",127],["T_STRING","Mage_Connect_Singleconfig",127],"(",["T_VARIABLE","$configFile",127],")",";",["T_WHITESPACE","\n        ",127],"}",["T_WHITESPACE","\n        ",128],["T_RETURN","return",129],["T_WHITESPACE"," ",129],["T_ARRAY","array",129],"(",["T_VARIABLE","$remoteCfg",129],",",["T_WHITESPACE"," ",129],["T_VARIABLE","$ftpObj",129],")",";",["T_WHITESPACE","\n    ",129],"}",["T_WHITESPACE","\n\n\n    ",130],["T_PUBLIC","public",133],["T_WHITESPACE"," ",133],["T_FUNCTION","function",133],["T_WHITESPACE"," ",133],["T_STRING","getRemoteConfig",133],"(",["T_VARIABLE","$ftpString",133],")",["T_WHITESPACE","\n    ",133],"{",["T_WHITESPACE","\n        ",134],["T_VARIABLE","$ftpObj",135],["T_WHITESPACE"," ",135],"=",["T_WHITESPACE"," ",135],["T_NEW","new",135],["T_WHITESPACE"," ",135],["T_STRING","Mage_Connect_Ftp",135],"(",")",";",["T_WHITESPACE","\n        ",135],["T_VARIABLE","$ftpObj",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","connect",136],"(",["T_VARIABLE","$ftpString",136],")",";",["T_WHITESPACE","\n        ",136],["T_VARIABLE","$cfgFile",137],["T_WHITESPACE"," ",137],"=",["T_WHITESPACE"," ",137],["T_CONSTANT_ENCAPSED_STRING","\"connect.cfg\"",137],";",["T_WHITESPACE","\n\n        ",137],["T_VARIABLE","$wd",139],["T_WHITESPACE"," ",139],"=",["T_WHITESPACE"," ",139],["T_VARIABLE","$ftpObj",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","getcwd",139],"(",")",";",["T_WHITESPACE","\n        ",139],["T_VARIABLE","$remoteConfigExists",140],["T_WHITESPACE"," ",140],"=",["T_WHITESPACE"," ",140],["T_VARIABLE","$ftpObj",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","fileExists",140],"(",["T_VARIABLE","$cfgFile",140],")",";",["T_WHITESPACE","\n        ",140],["T_VARIABLE","$tempConfigFile",141],["T_WHITESPACE"," ",141],"=",["T_WHITESPACE"," ",141],["T_STRING","uniqid",141],"(",["T_VARIABLE","$cfgFile",141],".",["T_CONSTANT_ENCAPSED_STRING","\"_temp\"",141],")",";",["T_WHITESPACE","\n        ",141],["T_IF","if",142],"(","!",["T_VARIABLE","$remoteConfigExists",142],")",["T_WHITESPACE"," ",142],"{",["T_WHITESPACE","\n            ",142],["T_VARIABLE","$remoteCfg",143],["T_WHITESPACE"," ",143],"=",["T_WHITESPACE"," ",143],["T_NEW","new",143],["T_WHITESPACE"," ",143],["T_STRING","Mage_Connect_Config",143],"(",["T_VARIABLE","$tempConfigFile",143],")",";",["T_WHITESPACE","\n            ",143],["T_VARIABLE","$remoteCfg",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","store",144],"(",")",";",["T_WHITESPACE","\n            ",144],["T_VARIABLE","$ftpObj",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","upload",145],"(",["T_VARIABLE","$cfgFile",145],",",["T_WHITESPACE"," ",145],["T_VARIABLE","$tempConfigFile",145],")",";",["T_WHITESPACE","\n        ",145],"}",["T_WHITESPACE"," ",146],["T_ELSE","else",146],["T_WHITESPACE"," ",146],"{",["T_WHITESPACE","\n            ",146],["T_VARIABLE","$ftpObj",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","get",147],"(",["T_VARIABLE","$tempConfigFile",147],",",["T_WHITESPACE"," ",147],["T_VARIABLE","$cfgFile",147],")",";",["T_WHITESPACE","\n            ",147],["T_VARIABLE","$remoteCfg",148],["T_WHITESPACE"," ",148],"=",["T_WHITESPACE"," ",148],["T_NEW","new",148],["T_WHITESPACE"," ",148],["T_STRING","Mage_Connect_Config",148],"(",["T_VARIABLE","$tempConfigFile",148],")",";",["T_WHITESPACE","\n        ",148],"}",["T_WHITESPACE","\n        ",149],["T_VARIABLE","$ftpObj",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","chdir",150],"(",["T_VARIABLE","$wd",150],")",";",["T_WHITESPACE","\n        ",150],["T_RETURN","return",151],["T_WHITESPACE"," ",151],["T_ARRAY","array",151],"(",["T_VARIABLE","$remoteCfg",151],",",["T_WHITESPACE"," ",151],["T_VARIABLE","$ftpObj",151],")",";",["T_WHITESPACE","\n    ",151],"}",["T_WHITESPACE","\n\n    ",152],["T_PUBLIC","public",154],["T_WHITESPACE"," ",154],["T_FUNCTION","function",154],["T_WHITESPACE"," ",154],["T_STRING","writeToRemoteCache",154],"(",["T_VARIABLE","$cache",154],",",["T_WHITESPACE"," ",154],["T_VARIABLE","$ftpObj",154],")",["T_WHITESPACE","\n    ",154],"{",["T_WHITESPACE","\n        ",155],["T_VARIABLE","$wd",156],["T_WHITESPACE"," ",156],"=",["T_WHITESPACE"," ",156],["T_VARIABLE","$ftpObj",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","getcwd",156],"(",")",";",["T_WHITESPACE","\n        ",156],["T_VARIABLE","$ftpObj",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","upload",157],"(",["T_CONSTANT_ENCAPSED_STRING","\"cache.cfg\"",157],",",["T_WHITESPACE"," ",157],["T_VARIABLE","$cache",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","getFilename",157],"(",")",")",";",["T_WHITESPACE","\n        ",157],"@",["T_STRING","unlink",158],"(",["T_VARIABLE","$cache",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","getFilename",158],"(",")",")",";",["T_WHITESPACE","\n        ",158],["T_VARIABLE","$ftpObj",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","chdir",159],"(",["T_VARIABLE","$wd",159],")",";",["T_WHITESPACE","\n    ",159],"}",["T_WHITESPACE","\n\n    ",160],["T_PUBLIC","public",162],["T_WHITESPACE"," ",162],["T_FUNCTION","function",162],["T_WHITESPACE"," ",162],["T_STRING","writeToRemoteConfig",162],"(",["T_VARIABLE","$cache",162],",",["T_WHITESPACE"," ",162],["T_VARIABLE","$ftpObj",162],")",["T_WHITESPACE","\n    ",162],"{",["T_WHITESPACE","\n        ",163],["T_VARIABLE","$wd",164],["T_WHITESPACE"," ",164],"=",["T_WHITESPACE"," ",164],["T_VARIABLE","$ftpObj",164],["T_OBJECT_OPERATOR","->",164],["T_STRING","getcwd",164],"(",")",";",["T_WHITESPACE","\n        ",164],["T_VARIABLE","$ftpObj",165],["T_OBJECT_OPERATOR","->",165],["T_STRING","upload",165],"(",["T_CONSTANT_ENCAPSED_STRING","\"connect.cfg\"",165],",",["T_WHITESPACE"," ",165],["T_VARIABLE","$cache",165],["T_OBJECT_OPERATOR","->",165],["T_STRING","getFilename",165],"(",")",")",";",["T_WHITESPACE","\n        ",165],"@",["T_STRING","unlink",166],"(",["T_VARIABLE","$cache",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","getFilename",166],"(",")",")",";",["T_WHITESPACE","\n        ",166],["T_VARIABLE","$ftpObj",167],["T_OBJECT_OPERATOR","->",167],["T_STRING","chdir",167],"(",["T_VARIABLE","$wd",167],")",";",["T_WHITESPACE","\n    ",167],"}",["T_WHITESPACE","\n\n    ",168],["T_DOC_COMMENT","\/**\n     *\n     * @param $chanName\n     * @param $package\n     * @param Mage_Connect_Singleconfig $cacheObj\n     * @param $ftp\n     * @return unknown_type\n     *\/",170],["T_WHITESPACE","\n    ",177],["T_PUBLIC","public",178],["T_WHITESPACE"," ",178],["T_FUNCTION","function",178],["T_WHITESPACE"," ",178],["T_STRING","processUninstallPackage",178],"(",["T_VARIABLE","$chanName",178],",",["T_WHITESPACE"," ",178],["T_VARIABLE","$package",178],",",["T_WHITESPACE"," ",178],["T_VARIABLE","$cacheObj",178],",",["T_WHITESPACE"," ",178],["T_VARIABLE","$configObj",178],")",["T_WHITESPACE","\n    ",178],"{",["T_WHITESPACE","\n        ",179],["T_VARIABLE","$package",180],["T_WHITESPACE"," ",180],"=",["T_WHITESPACE"," ",180],["T_VARIABLE","$cacheObj",180],["T_OBJECT_OPERATOR","->",180],["T_STRING","getPackageObject",180],"(",["T_VARIABLE","$chanName",180],",",["T_WHITESPACE"," ",180],["T_VARIABLE","$package",180],")",";",["T_WHITESPACE","\n        ",180],["T_VARIABLE","$contents",181],["T_WHITESPACE"," ",181],"=",["T_WHITESPACE"," ",181],["T_VARIABLE","$package",181],["T_OBJECT_OPERATOR","->",181],["T_STRING","getContents",181],"(",")",";",["T_WHITESPACE","\n\n        ",181],["T_VARIABLE","$targetPath",183],["T_WHITESPACE"," ",183],"=",["T_WHITESPACE"," ",183],["T_STRING","rtrim",183],"(",["T_VARIABLE","$configObj",183],["T_OBJECT_OPERATOR","->",183],["T_STRING","magento_root",183],",",["T_WHITESPACE"," ",183],["T_CONSTANT_ENCAPSED_STRING","\"\\\\\/\"",183],")",";",["T_WHITESPACE","\n        ",183],["T_FOREACH","foreach",184],"(",["T_VARIABLE","$contents",184],["T_WHITESPACE"," ",184],["T_AS","as",184],["T_WHITESPACE"," ",184],["T_VARIABLE","$file",184],")",["T_WHITESPACE"," ",184],"{",["T_WHITESPACE","\n            ",184],["T_VARIABLE","$fileName",185],["T_WHITESPACE"," ",185],"=",["T_WHITESPACE"," ",185],["T_STRING","basename",185],"(",["T_VARIABLE","$file",185],")",";",["T_WHITESPACE","\n            ",185],["T_VARIABLE","$filePath",186],["T_WHITESPACE"," ",186],"=",["T_WHITESPACE"," ",186],["T_STRING","dirname",186],"(",["T_VARIABLE","$file",186],")",";",["T_WHITESPACE","\n            ",186],["T_VARIABLE","$dest",187],["T_WHITESPACE"," ",187],"=",["T_WHITESPACE"," ",187],["T_VARIABLE","$targetPath",187],["T_WHITESPACE"," ",187],".",["T_WHITESPACE"," ",187],["T_STRING","DIRECTORY_SEPARATOR",187],["T_WHITESPACE"," ",187],".",["T_WHITESPACE"," ",187],["T_VARIABLE","$filePath",187],["T_WHITESPACE"," ",187],".",["T_WHITESPACE"," ",187],["T_STRING","DIRECTORY_SEPARATOR",187],["T_WHITESPACE"," ",187],".",["T_WHITESPACE"," ",187],["T_VARIABLE","$fileName",187],";",["T_WHITESPACE","\n            ",187],["T_IF","if",188],"(","@",["T_STRING","file_exists",188],"(",["T_VARIABLE","$dest",188],")",")",["T_WHITESPACE"," ",188],"{",["T_WHITESPACE","\n                ",188],["T_COMMENT","\/\/var_dump($dest);\n",189],["T_WHITESPACE","                ",190],"@",["T_STRING","unlink",190],"(",["T_VARIABLE","$dest",190],")",";",["T_WHITESPACE","\n            ",190],"}",["T_WHITESPACE","\n        ",191],"}",["T_WHITESPACE","\n    ",192],"}",["T_WHITESPACE","\n\n    ",193],["T_DOC_COMMENT","\/**\n     *\n     * @param $chanName\n     * @param $package\n     * @param Mage_Connect_Singleconfig $cacheObj\n     * @param Mage_Connect_Ftp $ftp\n     * @return unknown_type\n     *\/",195],["T_WHITESPACE","\n    ",202],["T_PUBLIC","public",203],["T_WHITESPACE"," ",203],["T_FUNCTION","function",203],["T_WHITESPACE"," ",203],["T_STRING","processUninstallPackageFtp",203],"(",["T_VARIABLE","$chanName",203],",",["T_WHITESPACE"," ",203],["T_VARIABLE","$package",203],",",["T_WHITESPACE"," ",203],["T_VARIABLE","$cacheObj",203],",",["T_WHITESPACE"," ",203],["T_VARIABLE","$ftp",203],")",["T_WHITESPACE","\n    ",203],"{",["T_WHITESPACE","\n        ",204],["T_VARIABLE","$ftpDir",205],["T_WHITESPACE"," ",205],"=",["T_WHITESPACE"," ",205],["T_VARIABLE","$ftp",205],["T_OBJECT_OPERATOR","->",205],["T_STRING","getcwd",205],"(",")",";",["T_WHITESPACE","\n        ",205],["T_VARIABLE","$package",206],["T_WHITESPACE"," ",206],"=",["T_WHITESPACE"," ",206],["T_VARIABLE","$cacheObj",206],["T_OBJECT_OPERATOR","->",206],["T_STRING","getPackageObject",206],"(",["T_VARIABLE","$chanName",206],",",["T_WHITESPACE"," ",206],["T_VARIABLE","$package",206],")",";",["T_WHITESPACE","\n        ",206],["T_VARIABLE","$contents",207],["T_WHITESPACE"," ",207],"=",["T_WHITESPACE"," ",207],["T_VARIABLE","$package",207],["T_OBJECT_OPERATOR","->",207],["T_STRING","getContents",207],"(",")",";",["T_WHITESPACE","\n        ",207],["T_FOREACH","foreach",208],"(",["T_VARIABLE","$contents",208],["T_WHITESPACE"," ",208],["T_AS","as",208],["T_WHITESPACE"," ",208],["T_VARIABLE","$file",208],")",["T_WHITESPACE"," ",208],"{",["T_WHITESPACE","\n            ",208],["T_VARIABLE","$res",209],["T_WHITESPACE"," ",209],"=",["T_WHITESPACE"," ",209],["T_VARIABLE","$ftp",209],["T_OBJECT_OPERATOR","->",209],["T_STRING","delete",209],"(",["T_VARIABLE","$file",209],")",";",["T_WHITESPACE","\n        ",209],"}",["T_WHITESPACE","\n        ",210],["T_VARIABLE","$ftp",211],["T_OBJECT_OPERATOR","->",211],["T_STRING","chdir",211],"(",["T_VARIABLE","$ftpDir",211],")",";",["T_WHITESPACE","\n    ",211],"}",["T_WHITESPACE","\n\n    ",212],["T_PROTECTED","protected",214],["T_WHITESPACE"," ",214],["T_FUNCTION","function",214],["T_WHITESPACE"," ",214],["T_STRING","convertFtpPath",214],"(",["T_VARIABLE","$str",214],")",["T_WHITESPACE","\n    ",214],"{",["T_WHITESPACE","\n        ",215],["T_RETURN","return",216],["T_WHITESPACE"," ",216],["T_STRING","str_replace",216],"(",["T_CONSTANT_ENCAPSED_STRING","\"\\\\\"",216],",",["T_WHITESPACE"," ",216],["T_CONSTANT_ENCAPSED_STRING","\"\/\"",216],",",["T_WHITESPACE"," ",216],["T_VARIABLE","$str",216],")",";",["T_WHITESPACE","\n    ",216],"}",["T_WHITESPACE","\n\n    ",217],["T_PUBLIC","public",219],["T_WHITESPACE"," ",219],["T_FUNCTION","function",219],["T_WHITESPACE"," ",219],["T_STRING","processInstallPackageFtp",219],"(",["T_VARIABLE","$package",219],",",["T_WHITESPACE"," ",219],["T_VARIABLE","$file",219],",",["T_WHITESPACE"," ",219],["T_VARIABLE","$configObj",219],",",["T_WHITESPACE"," ",219],["T_VARIABLE","$ftp",219],")",["T_WHITESPACE","\n    ",219],"{",["T_WHITESPACE","\n        ",220],["T_VARIABLE","$ftpDir",221],["T_WHITESPACE"," ",221],"=",["T_WHITESPACE"," ",221],["T_VARIABLE","$ftp",221],["T_OBJECT_OPERATOR","->",221],["T_STRING","getcwd",221],"(",")",";",["T_WHITESPACE","\n        ",221],["T_VARIABLE","$contents",222],["T_WHITESPACE"," ",222],"=",["T_WHITESPACE"," ",222],["T_VARIABLE","$package",222],["T_OBJECT_OPERATOR","->",222],["T_STRING","getContents",222],"(",")",";",["T_WHITESPACE","\n        ",222],["T_VARIABLE","$arc",223],["T_WHITESPACE"," ",223],"=",["T_WHITESPACE"," ",223],["T_VARIABLE","$this",223],["T_OBJECT_OPERATOR","->",223],["T_STRING","getArchiver",223],"(",")",";",["T_WHITESPACE","\n        ",223],["T_VARIABLE","$target",224],["T_WHITESPACE"," ",224],"=",["T_WHITESPACE"," ",224],["T_STRING","dirname",224],"(",["T_VARIABLE","$file",224],")",".",["T_STRING","DS",224],".",["T_VARIABLE","$package",224],["T_OBJECT_OPERATOR","->",224],["T_STRING","getReleaseFilename",224],"(",")",";",["T_WHITESPACE","\n        ",224],"@",["T_STRING","mkdir",225],"(",["T_VARIABLE","$target",225],",",["T_WHITESPACE"," ",225],["T_LNUMBER","0777",225],",",["T_WHITESPACE"," ",225],["T_STRING","true",225],")",";",["T_WHITESPACE","\n        ",225],["T_VARIABLE","$mode",226],["T_WHITESPACE"," ",226],"=",["T_WHITESPACE"," ",226],["T_VARIABLE","$configObj",226],["T_OBJECT_OPERATOR","->",226],["T_STRING","global_dir_mode",226],";",["T_WHITESPACE","\n        ",226],["T_VARIABLE","$tar",227],["T_WHITESPACE"," ",227],"=",["T_WHITESPACE"," ",227],["T_VARIABLE","$arc",227],["T_OBJECT_OPERATOR","->",227],["T_STRING","unpack",227],"(",["T_VARIABLE","$file",227],",",["T_WHITESPACE"," ",227],["T_VARIABLE","$target",227],")",";",["T_WHITESPACE","\n        ",227],["T_VARIABLE","$modeFile",228],["T_WHITESPACE"," ",228],"=",["T_WHITESPACE"," ",228],["T_VARIABLE","$configObj",228],["T_OBJECT_OPERATOR","->",228],["T_STRING","global_file_mode",228],";",["T_WHITESPACE","\n        ",228],["T_VARIABLE","$modeDir",229],["T_WHITESPACE"," ",229],"=",["T_WHITESPACE"," ",229],["T_VARIABLE","$configObj",229],["T_OBJECT_OPERATOR","->",229],["T_STRING","global_dir_mode",229],";",["T_WHITESPACE","\n        ",229],["T_FOREACH","foreach",230],"(",["T_VARIABLE","$contents",230],["T_WHITESPACE"," ",230],["T_AS","as",230],["T_WHITESPACE"," ",230],["T_VARIABLE","$file",230],")",["T_WHITESPACE"," ",230],"{",["T_WHITESPACE","\n            ",230],["T_VARIABLE","$fileName",231],["T_WHITESPACE"," ",231],"=",["T_WHITESPACE"," ",231],["T_STRING","basename",231],"(",["T_VARIABLE","$file",231],")",";",["T_WHITESPACE","\n            ",231],["T_VARIABLE","$filePath",232],["T_WHITESPACE"," ",232],"=",["T_WHITESPACE"," ",232],["T_VARIABLE","$this",232],["T_OBJECT_OPERATOR","->",232],["T_STRING","convertFtpPath",232],"(",["T_STRING","dirname",232],"(",["T_VARIABLE","$file",232],")",")",";",["T_WHITESPACE","\n            ",232],["T_VARIABLE","$source",233],["T_WHITESPACE"," ",233],"=",["T_WHITESPACE"," ",233],["T_VARIABLE","$tar",233],".",["T_STRING","DS",233],".",["T_VARIABLE","$file",233],";",["T_WHITESPACE","\n            ",233],["T_IF","if",234],["T_WHITESPACE"," ",234],"(",["T_STRING","file_exists",234],"(",["T_VARIABLE","$source",234],")",["T_WHITESPACE"," ",234],["T_BOOLEAN_AND","&&",234],["T_WHITESPACE"," ",234],["T_STRING","is_file",234],"(",["T_VARIABLE","$source",234],")",")",["T_WHITESPACE"," ",234],"{",["T_WHITESPACE","\n                ",234],["T_VARIABLE","$args",235],["T_WHITESPACE"," ",235],"=",["T_WHITESPACE"," ",235],["T_ARRAY","array",235],"(",["T_STRING","ltrim",235],"(",["T_VARIABLE","$file",235],",",["T_CONSTANT_ENCAPSED_STRING","\"\/\"",235],")",",",["T_WHITESPACE"," ",235],["T_VARIABLE","$source",235],")",";",["T_WHITESPACE","\n                ",235],["T_IF","if",236],"(",["T_VARIABLE","$modeDir",236],")",["T_WHITESPACE"," ",236],"{",["T_WHITESPACE","\n                    ",236],["T_VARIABLE","$args",237],"[","]",["T_WHITESPACE"," ",237],"=",["T_WHITESPACE"," ",237],["T_VARIABLE","$modeDir",237],";",["T_WHITESPACE","\n                ",237],"}",["T_WHITESPACE","\n                ",238],["T_STRING","call_user_func_array",239],"(",["T_ARRAY","array",239],"(",["T_VARIABLE","$ftp",239],",",["T_CONSTANT_ENCAPSED_STRING","'upload'",239],")",",",["T_WHITESPACE"," ",239],["T_VARIABLE","$args",239],")",";",["T_WHITESPACE","\n            ",239],"}",["T_WHITESPACE","\n        ",240],"}",["T_WHITESPACE","\n        ",241],["T_VARIABLE","$ftp",242],["T_OBJECT_OPERATOR","->",242],["T_STRING","chdir",242],"(",["T_VARIABLE","$ftpDir",242],")",";",["T_WHITESPACE","\n        ",242],["T_STRING","Mage_System_Dirs",243],["T_DOUBLE_COLON","::",243],["T_STRING","rm",243],"(",["T_ARRAY","array",243],"(",["T_CONSTANT_ENCAPSED_STRING","\"-r\"",243],",",["T_VARIABLE","$target",243],")",")",";",["T_WHITESPACE","\n    ",243],"}",["T_WHITESPACE","\n\n    ",244],["T_DOC_COMMENT","\/**\n     * Package installation to FS\n     * @param Mage_Connect_Package $package\n     * @param string $file\n     * @return void\n     * @throws Exception\n     *\/",246],["T_WHITESPACE","\n    ",252],["T_PUBLIC","public",253],["T_WHITESPACE"," ",253],["T_FUNCTION","function",253],["T_WHITESPACE"," ",253],["T_STRING","processInstallPackage",253],"(",["T_VARIABLE","$package",253],",",["T_WHITESPACE"," ",253],["T_VARIABLE","$file",253],",",["T_WHITESPACE"," ",253],["T_VARIABLE","$configObj",253],")",["T_WHITESPACE","\n    ",253],"{",["T_WHITESPACE","\n        ",254],["T_VARIABLE","$contents",255],["T_WHITESPACE"," ",255],"=",["T_WHITESPACE"," ",255],["T_VARIABLE","$package",255],["T_OBJECT_OPERATOR","->",255],["T_STRING","getContents",255],"(",")",";",["T_WHITESPACE","\n        ",255],["T_VARIABLE","$arc",256],["T_WHITESPACE"," ",256],"=",["T_WHITESPACE"," ",256],["T_VARIABLE","$this",256],["T_OBJECT_OPERATOR","->",256],["T_STRING","getArchiver",256],"(",")",";",["T_WHITESPACE","\n        ",256],["T_VARIABLE","$target",257],["T_WHITESPACE"," ",257],"=",["T_WHITESPACE"," ",257],["T_STRING","dirname",257],"(",["T_VARIABLE","$file",257],")",".",["T_STRING","DS",257],".",["T_VARIABLE","$package",257],["T_OBJECT_OPERATOR","->",257],["T_STRING","getReleaseFilename",257],"(",")",";",["T_WHITESPACE","\n        ",257],"@",["T_STRING","mkdir",258],"(",["T_VARIABLE","$target",258],",",["T_WHITESPACE"," ",258],["T_LNUMBER","0777",258],",",["T_WHITESPACE"," ",258],["T_STRING","true",258],")",";",["T_WHITESPACE","\n        ",258],["T_VARIABLE","$mode",259],["T_WHITESPACE"," ",259],"=",["T_WHITESPACE"," ",259],["T_VARIABLE","$configObj",259],["T_OBJECT_OPERATOR","->",259],["T_STRING","global_dir_mode",259],";",["T_WHITESPACE","\n        ",259],["T_VARIABLE","$tar",260],["T_WHITESPACE"," ",260],"=",["T_WHITESPACE"," ",260],["T_VARIABLE","$arc",260],["T_OBJECT_OPERATOR","->",260],["T_STRING","unpack",260],"(",["T_VARIABLE","$file",260],",",["T_WHITESPACE"," ",260],["T_VARIABLE","$target",260],")",";",["T_WHITESPACE","\n        ",260],["T_VARIABLE","$modeFile",261],["T_WHITESPACE"," ",261],"=",["T_WHITESPACE"," ",261],["T_VARIABLE","$configObj",261],["T_OBJECT_OPERATOR","->",261],["T_STRING","global_file_mode",261],";",["T_WHITESPACE","\n        ",261],["T_VARIABLE","$modeDir",262],["T_WHITESPACE"," ",262],"=",["T_WHITESPACE"," ",262],["T_VARIABLE","$configObj",262],["T_OBJECT_OPERATOR","->",262],["T_STRING","global_dir_mode",262],";",["T_WHITESPACE","\n        ",262],["T_FOREACH","foreach",263],"(",["T_VARIABLE","$contents",263],["T_WHITESPACE"," ",263],["T_AS","as",263],["T_WHITESPACE"," ",263],["T_VARIABLE","$file",263],")",["T_WHITESPACE"," ",263],"{",["T_WHITESPACE","\n            ",263],["T_VARIABLE","$fileName",264],["T_WHITESPACE"," ",264],"=",["T_WHITESPACE"," ",264],["T_STRING","basename",264],"(",["T_VARIABLE","$file",264],")",";",["T_WHITESPACE","\n            ",264],["T_VARIABLE","$filePath",265],["T_WHITESPACE"," ",265],"=",["T_WHITESPACE"," ",265],["T_STRING","dirname",265],"(",["T_VARIABLE","$file",265],")",";",["T_WHITESPACE","\n            ",265],["T_VARIABLE","$source",266],["T_WHITESPACE"," ",266],"=",["T_WHITESPACE"," ",266],["T_VARIABLE","$tar",266],".",["T_STRING","DS",266],".",["T_VARIABLE","$file",266],";",["T_WHITESPACE","\n            ",266],["T_VARIABLE","$targetPath",267],["T_WHITESPACE"," ",267],"=",["T_WHITESPACE"," ",267],["T_STRING","rtrim",267],"(",["T_VARIABLE","$configObj",267],["T_OBJECT_OPERATOR","->",267],["T_STRING","magento_root",267],",",["T_WHITESPACE"," ",267],["T_CONSTANT_ENCAPSED_STRING","\"\\\\\/\"",267],")",";",["T_WHITESPACE","\n            ",267],"@",["T_STRING","mkdir",268],"(",["T_VARIABLE","$targetPath",268],".",["T_WHITESPACE"," ",268],["T_STRING","DS",268],["T_WHITESPACE"," ",268],".",["T_WHITESPACE"," ",268],["T_VARIABLE","$filePath",268],",",["T_WHITESPACE"," ",268],["T_VARIABLE","$modeDir",268],",",["T_WHITESPACE"," ",268],["T_STRING","true",268],")",";",["T_WHITESPACE","\n            ",268],["T_VARIABLE","$dest",269],["T_WHITESPACE"," ",269],"=",["T_WHITESPACE"," ",269],["T_VARIABLE","$targetPath",269],["T_WHITESPACE"," ",269],".",["T_WHITESPACE"," ",269],["T_STRING","DS",269],["T_WHITESPACE"," ",269],".",["T_WHITESPACE"," ",269],["T_VARIABLE","$filePath",269],["T_WHITESPACE"," ",269],".",["T_WHITESPACE"," ",269],["T_STRING","DS",269],["T_WHITESPACE"," ",269],".",["T_WHITESPACE"," ",269],["T_VARIABLE","$fileName",269],";",["T_WHITESPACE","\n            ",269],["T_IF","if",270],["T_WHITESPACE"," ",270],"(",["T_STRING","is_file",270],"(",["T_VARIABLE","$source",270],")",")",["T_WHITESPACE"," ",270],"{",["T_WHITESPACE","\n                ",270],"@",["T_STRING","copy",271],"(",["T_VARIABLE","$source",271],",",["T_WHITESPACE"," ",271],["T_VARIABLE","$dest",271],")",";",["T_WHITESPACE","\n                ",271],["T_IF","if",272],"(",["T_VARIABLE","$modeFile",272],")",["T_WHITESPACE"," ",272],"{",["T_WHITESPACE","\n                    ",272],"@",["T_STRING","chmod",273],"(",["T_VARIABLE","$dest",273],",",["T_WHITESPACE"," ",273],["T_VARIABLE","$modeFile",273],")",";",["T_WHITESPACE","\n                ",273],"}",["T_WHITESPACE","\n            ",274],"}",["T_WHITESPACE"," ",275],["T_ELSE","else",275],["T_WHITESPACE"," ",275],"{",["T_WHITESPACE","\n                ",275],"@",["T_STRING","mkdir",276],"(",["T_VARIABLE","$dest",276],",",["T_WHITESPACE"," ",276],["T_VARIABLE","$modeDir",276],")",";",["T_WHITESPACE","\n            ",276],"}",["T_WHITESPACE","\n        ",277],"}",["T_WHITESPACE","\n        ",278],["T_STRING","Mage_System_Dirs",279],["T_DOUBLE_COLON","::",279],["T_STRING","rm",279],"(",["T_ARRAY","array",279],"(",["T_CONSTANT_ENCAPSED_STRING","\"-r\"",279],",",["T_VARIABLE","$target",279],")",")",";",["T_WHITESPACE","\n    ",279],"}",["T_WHITESPACE","\n\n\n    ",280],["T_DOC_COMMENT","\/**\n     * Get local modified files\n     * @param $chanName\n     * @param $package\n     * @param $cacheObj\n     * @param $configObj\n     * @return array\n     *\/",283],["T_WHITESPACE","\n    ",290],["T_PUBLIC","public",291],["T_WHITESPACE"," ",291],["T_FUNCTION","function",291],["T_WHITESPACE"," ",291],["T_STRING","getLocalModifiedFiles",291],"(",["T_VARIABLE","$chanName",291],",",["T_WHITESPACE"," ",291],["T_VARIABLE","$package",291],",",["T_WHITESPACE"," ",291],["T_VARIABLE","$cacheObj",291],",",["T_WHITESPACE"," ",291],["T_VARIABLE","$configObj",291],")",["T_WHITESPACE","\n    ",291],"{",["T_WHITESPACE","\n        ",292],["T_VARIABLE","$p",293],["T_WHITESPACE"," ",293],"=",["T_WHITESPACE"," ",293],["T_VARIABLE","$cachObj",293],["T_OBJECT_OPERATOR","->",293],["T_STRING","getPackageObject",293],"(",["T_VARIABLE","$chanName",293],",",["T_WHITESPACE"," ",293],["T_VARIABLE","$package",293],")",";",["T_WHITESPACE","\n        ",293],["T_VARIABLE","$hashContents",294],["T_WHITESPACE"," ",294],"=",["T_WHITESPACE"," ",294],["T_VARIABLE","$p",294],["T_OBJECT_OPERATOR","->",294],["T_STRING","getHashContents",294],"(",")",";",["T_WHITESPACE","\n        ",294],["T_VARIABLE","$listModified",295],["T_WHITESPACE"," ",295],"=",["T_WHITESPACE"," ",295],["T_ARRAY","array",295],"(",")",";",["T_WHITESPACE","\n        ",295],["T_FOREACH","foreach",296],["T_WHITESPACE"," ",296],"(",["T_VARIABLE","$hashContents",296],["T_WHITESPACE"," ",296],["T_AS","as",296],["T_WHITESPACE"," ",296],["T_VARIABLE","$file",296],["T_DOUBLE_ARROW","=>",296],["T_VARIABLE","$hash",296],")",["T_WHITESPACE"," ",296],"{",["T_WHITESPACE","\n            ",296],["T_IF","if",297],["T_WHITESPACE"," ",297],"(",["T_STRING","md5_file",297],"(",["T_VARIABLE","$configObj",297],["T_OBJECT_OPERATOR","->",297],["T_STRING","magento_root",297],["T_WHITESPACE"," ",297],".",["T_WHITESPACE"," ",297],["T_STRING","DS",297],["T_WHITESPACE"," ",297],".",["T_WHITESPACE"," ",297],["T_VARIABLE","$file",297],")",["T_IS_NOT_IDENTICAL","!==",297],["T_VARIABLE","$hash",297],")",["T_WHITESPACE"," ",297],"{",["T_WHITESPACE","\n                ",297],["T_VARIABLE","$listModified",298],"[","]",["T_WHITESPACE"," ",298],"=",["T_WHITESPACE"," ",298],["T_VARIABLE","$file",298],";",["T_WHITESPACE","\n            ",298],"}",["T_WHITESPACE","\n        ",299],"}",["T_WHITESPACE","\n        ",300],["T_RETURN","return",301],["T_WHITESPACE"," ",301],["T_VARIABLE","$listModified",301],";",["T_WHITESPACE","\n    ",301],"}",["T_WHITESPACE","\n\n    ",302],["T_DOC_COMMENT","\/**\n     * Get remote modified files\n     *\n     * @param $chanName\n     * @param $package\n     * @param $cacheObj\n     * @param Mage_Connect_Ftp $ftp\n     * @return array\n     *\/",304],["T_WHITESPACE","\n    ",312],["T_PUBLIC","public",313],["T_WHITESPACE"," ",313],["T_FUNCTION","function",313],["T_WHITESPACE"," ",313],["T_STRING","getRemoteModifiedFiles",313],"(",["T_VARIABLE","$chanName",313],",",["T_WHITESPACE"," ",313],["T_VARIABLE","$package",313],",",["T_WHITESPACE"," ",313],["T_VARIABLE","$cacheObj",313],",",["T_WHITESPACE"," ",313],["T_VARIABLE","$ftp",313],")",["T_WHITESPACE","\n    ",313],"{",["T_WHITESPACE","\n        ",314],["T_VARIABLE","$p",315],["T_WHITESPACE"," ",315],"=",["T_WHITESPACE"," ",315],["T_VARIABLE","$cacheObj",315],["T_OBJECT_OPERATOR","->",315],["T_STRING","getPackageObject",315],"(",["T_VARIABLE","$chanName",315],",",["T_WHITESPACE"," ",315],["T_VARIABLE","$package",315],")",";",["T_WHITESPACE","\n        ",315],["T_VARIABLE","$hashContents",316],["T_WHITESPACE"," ",316],"=",["T_WHITESPACE"," ",316],["T_VARIABLE","$p",316],["T_OBJECT_OPERATOR","->",316],["T_STRING","getHashContents",316],"(",")",";",["T_WHITESPACE","\n        ",316],["T_VARIABLE","$listModified",317],["T_WHITESPACE"," ",317],"=",["T_WHITESPACE"," ",317],["T_ARRAY","array",317],"(",")",";",["T_WHITESPACE","\n        ",317],["T_FOREACH","foreach",318],["T_WHITESPACE"," ",318],"(",["T_VARIABLE","$hashContents",318],["T_WHITESPACE"," ",318],["T_AS","as",318],["T_WHITESPACE"," ",318],["T_VARIABLE","$file",318],["T_DOUBLE_ARROW","=>",318],["T_VARIABLE","$hash",318],")",["T_WHITESPACE"," ",318],"{",["T_WHITESPACE","\n            ",318],["T_VARIABLE","$localFile",319],["T_WHITESPACE"," ",319],"=",["T_WHITESPACE"," ",319],["T_STRING","uniqid",319],"(",["T_CONSTANT_ENCAPSED_STRING","\"temp_remote_\"",319],")",";",["T_WHITESPACE","\n            ",319],["T_IF","if",320],"(","!",["T_VARIABLE","$ftp",320],["T_OBJECT_OPERATOR","->",320],["T_STRING","fileExists",320],"(",["T_VARIABLE","$file",320],")",")",["T_WHITESPACE"," ",320],"{",["T_WHITESPACE","\n                ",320],["T_CONTINUE","continue",321],";",["T_WHITESPACE","\n            ",321],"}",["T_WHITESPACE","\n            ",322],["T_VARIABLE","$ftp",323],["T_OBJECT_OPERATOR","->",323],["T_STRING","get",323],"(",["T_VARIABLE","$localFile",323],",",["T_WHITESPACE"," ",323],["T_VARIABLE","$file",323],")",";",["T_WHITESPACE","\n            ",323],["T_IF","if",324],["T_WHITESPACE"," ",324],"(",["T_STRING","file_exists",324],"(",["T_VARIABLE","$localFile",324],")",["T_WHITESPACE"," ",324],["T_BOOLEAN_AND","&&",324],["T_WHITESPACE"," ",324],["T_STRING","md5_file",324],"(",["T_VARIABLE","$localFile",324],")",["T_IS_NOT_IDENTICAL","!==",324],["T_VARIABLE","$hash",324],")",["T_WHITESPACE"," ",324],"{",["T_WHITESPACE","\n                ",324],["T_VARIABLE","$listModified",325],"[","]",["T_WHITESPACE"," ",325],"=",["T_WHITESPACE"," ",325],["T_VARIABLE","$file",325],";",["T_WHITESPACE","\n            ",325],"}",["T_WHITESPACE","\n            ",326],"@",["T_STRING","unlink",327],"(",["T_VARIABLE","$localFile",327],")",";",["T_WHITESPACE","\n        ",327],"}",["T_WHITESPACE","\n        ",328],["T_RETURN","return",329],["T_WHITESPACE"," ",329],["T_VARIABLE","$listModified",329],";",["T_WHITESPACE","\n    ",329],"}",["T_WHITESPACE","\n\n\n    ",330],["T_DOC_COMMENT","\/**\n     *\n     * Get upgrades list\n     *\n     * @param string\/array $channels\n     * @param Mage_Connect_Singleconfig $cacheObject\n     * @param Mage_Connect_Rest $restObj optional\n     * @param bool $checkConflicts\n     * @return array\n     *\/",333],["T_WHITESPACE","\n    ",342],["T_PUBLIC","public",343],["T_WHITESPACE"," ",343],["T_FUNCTION","function",343],["T_WHITESPACE"," ",343],["T_STRING","getUpgradesList",343],"(",["T_VARIABLE","$channels",343],",",["T_WHITESPACE"," ",343],["T_VARIABLE","$cacheObject",343],",",["T_WHITESPACE"," ",343],["T_VARIABLE","$configObj",343],",",["T_WHITESPACE"," ",343],["T_VARIABLE","$restObj",343],["T_WHITESPACE"," ",343],"=",["T_WHITESPACE"," ",343],["T_STRING","null",343],",",["T_WHITESPACE"," ",343],["T_VARIABLE","$checkConflicts",343],["T_WHITESPACE"," ",343],"=",["T_WHITESPACE"," ",343],["T_STRING","false",343],")",["T_WHITESPACE","\n    ",343],"{",["T_WHITESPACE","\n        ",344],["T_IF","if",345],"(",["T_STRING","is_scalar",345],"(",["T_VARIABLE","$channels",345],")",")",["T_WHITESPACE"," ",345],"{",["T_WHITESPACE","\n            ",345],["T_VARIABLE","$channels",346],["T_WHITESPACE"," ",346],"=",["T_WHITESPACE"," ",346],["T_ARRAY","array",346],"(",["T_VARIABLE","$channels",346],")",";",["T_WHITESPACE","\n        ",346],"}",["T_WHITESPACE","\n\n        ",347],["T_IF","if",349],"(","!",["T_VARIABLE","$restObj",349],")",["T_WHITESPACE"," ",349],"{",["T_WHITESPACE","\n            ",349],["T_VARIABLE","$restObj",350],["T_WHITESPACE"," ",350],"=",["T_WHITESPACE"," ",350],["T_NEW","new",350],["T_WHITESPACE"," ",350],["T_STRING","Mage_Connect_Rest",350],"(",")",";",["T_WHITESPACE","\n        ",350],"}",["T_WHITESPACE","\n\n        ",351],["T_VARIABLE","$updates",353],["T_WHITESPACE"," ",353],"=",["T_WHITESPACE"," ",353],["T_ARRAY","array",353],"(",")",";",["T_WHITESPACE","\n        ",353],["T_FOREACH","foreach",354],"(",["T_VARIABLE","$channels",354],["T_WHITESPACE"," ",354],["T_AS","as",354],["T_WHITESPACE"," ",354],["T_VARIABLE","$chan",354],")",["T_WHITESPACE"," ",354],"{",["T_WHITESPACE","\n\n            ",354],["T_IF","if",356],"(","!",["T_VARIABLE","$cacheObject",356],["T_OBJECT_OPERATOR","->",356],["T_STRING","isChannel",356],"(",["T_VARIABLE","$chan",356],")",")",["T_WHITESPACE"," ",356],"{",["T_WHITESPACE","\n                ",356],["T_CONTINUE","continue",357],";",["T_WHITESPACE","\n            ",357],"}",["T_WHITESPACE","\n            ",358],["T_VARIABLE","$chanName",359],["T_WHITESPACE"," ",359],"=",["T_WHITESPACE"," ",359],["T_VARIABLE","$cacheObject",359],["T_OBJECT_OPERATOR","->",359],["T_STRING","chanName",359],"(",["T_VARIABLE","$chan",359],")",";",["T_WHITESPACE","\n            ",359],["T_VARIABLE","$localPackages",360],["T_WHITESPACE"," ",360],"=",["T_WHITESPACE"," ",360],["T_VARIABLE","$cacheObject",360],["T_OBJECT_OPERATOR","->",360],["T_STRING","getInstalledPackages",360],"(",["T_VARIABLE","$chanName",360],")",";",["T_WHITESPACE","\n            ",360],["T_VARIABLE","$localPackages",361],["T_WHITESPACE"," ",361],"=",["T_WHITESPACE"," ",361],["T_VARIABLE","$localPackages",361],"[",["T_VARIABLE","$chanName",361],"]",";",["T_WHITESPACE","\n\n            ",361],["T_IF","if",363],"(","!",["T_STRING","count",363],"(",["T_VARIABLE","$localPackages",363],")",")",["T_WHITESPACE"," ",363],"{",["T_WHITESPACE","\n                ",363],["T_CONTINUE","continue",364],";",["T_WHITESPACE","\n            ",364],"}",["T_WHITESPACE","\n\n            ",365],["T_VARIABLE","$channel",367],["T_WHITESPACE"," ",367],"=",["T_WHITESPACE"," ",367],["T_VARIABLE","$cacheObject",367],["T_OBJECT_OPERATOR","->",367],["T_STRING","getChannel",367],"(",["T_VARIABLE","$chan",367],")",";",["T_WHITESPACE","\n            ",367],["T_VARIABLE","$uri",368],["T_WHITESPACE"," ",368],"=",["T_WHITESPACE"," ",368],["T_VARIABLE","$channel",368],"[",["T_STRING","Mage_Connect_Singleconfig",368],["T_DOUBLE_COLON","::",368],["T_STRING","K_URI",368],"]",";",["T_WHITESPACE","\n            ",368],["T_VARIABLE","$restObj",369],["T_OBJECT_OPERATOR","->",369],["T_STRING","setChannel",369],"(",["T_VARIABLE","$uri",369],")",";",["T_WHITESPACE","\n            ",369],["T_VARIABLE","$remotePackages",370],["T_WHITESPACE"," ",370],"=",["T_WHITESPACE"," ",370],["T_VARIABLE","$restObj",370],["T_OBJECT_OPERATOR","->",370],["T_STRING","getPackagesHashed",370],"(",")",";",["T_WHITESPACE","\n\n            ",370],["T_DOC_COMMENT","\/**\n             * Iterate packages of channel $chan\n             *\/",372],["T_WHITESPACE","\n            ",374],["T_VARIABLE","$state",375],["T_WHITESPACE"," ",375],"=",["T_WHITESPACE"," ",375],["T_VARIABLE","$configObj",375],["T_OBJECT_OPERATOR","->",375],["T_STRING","preferred_state",375],["T_WHITESPACE"," ",375],"?",["T_WHITESPACE"," ",375],["T_VARIABLE","$configObj",375],["T_OBJECT_OPERATOR","->",375],["T_STRING","preferred_state",375],["T_WHITESPACE"," ",375],":",["T_WHITESPACE"," ",375],["T_CONSTANT_ENCAPSED_STRING","\"devel\"",375],";",["T_WHITESPACE","\n\n            ",375],["T_FOREACH","foreach",377],"(",["T_VARIABLE","$localPackages",377],["T_WHITESPACE"," ",377],["T_AS","as",377],["T_WHITESPACE"," ",377],["T_VARIABLE","$localName",377],["T_DOUBLE_ARROW","=>",377],["T_VARIABLE","$localData",377],")",["T_WHITESPACE"," ",377],"{",["T_WHITESPACE","\n                ",377],["T_IF","if",378],"(","!",["T_ISSET","isset",378],"(",["T_VARIABLE","$remotePackages",378],"[",["T_VARIABLE","$localName",378],"]",")",")",["T_WHITESPACE"," ",378],"{",["T_WHITESPACE","\n                    ",378],["T_CONTINUE","continue",379],";",["T_WHITESPACE","\n                ",379],"}",["T_WHITESPACE","\n                ",380],["T_VARIABLE","$package",381],["T_WHITESPACE"," ",381],"=",["T_WHITESPACE"," ",381],["T_VARIABLE","$remotePackages",381],"[",["T_VARIABLE","$localName",381],"]",";",["T_WHITESPACE","\n                ",381],["T_VARIABLE","$neededToUpgrade",382],["T_WHITESPACE"," ",382],"=",["T_WHITESPACE"," ",382],["T_STRING","false",382],";",["T_WHITESPACE","\n                ",382],["T_VARIABLE","$remoteVersion",383],["T_WHITESPACE"," ",383],"=",["T_WHITESPACE"," ",383],["T_VARIABLE","$localVersion",383],["T_WHITESPACE"," ",383],"=",["T_WHITESPACE"," ",383],["T_STRING","trim",383],"(",["T_VARIABLE","$localData",383],"[",["T_STRING","Mage_Connect_Singleconfig",383],["T_DOUBLE_COLON","::",383],["T_STRING","K_VER",383],"]",")",";",["T_WHITESPACE","\n                ",383],["T_FOREACH","foreach",384],"(",["T_VARIABLE","$package",384],["T_WHITESPACE"," ",384],["T_AS","as",384],["T_WHITESPACE"," ",384],["T_VARIABLE","$version",384],["T_WHITESPACE"," ",384],["T_DOUBLE_ARROW","=>",384],["T_WHITESPACE"," ",384],["T_VARIABLE","$s",384],")",["T_WHITESPACE"," ",384],"{",["T_WHITESPACE","\n\n                    ",384],["T_IF","if",386],"(",["T_WHITESPACE"," ",386],["T_VARIABLE","$cacheObject",386],["T_OBJECT_OPERATOR","->",386],["T_STRING","compareStabilities",386],"(",["T_VARIABLE","$s",386],",",["T_WHITESPACE"," ",386],["T_VARIABLE","$state",386],")",["T_WHITESPACE"," ",386],"<",["T_WHITESPACE"," ",386],["T_LNUMBER","0",386],["T_WHITESPACE"," ",386],")",["T_WHITESPACE"," ",386],"{",["T_WHITESPACE","\n                        ",386],["T_CONTINUE","continue",387],";",["T_WHITESPACE","\n                    ",387],"}",["T_WHITESPACE","\n\n                    ",388],["T_IF","if",390],"(",["T_STRING","version_compare",390],"(",["T_VARIABLE","$version",390],",",["T_WHITESPACE"," ",390],["T_VARIABLE","$localVersion",390],",",["T_WHITESPACE"," ",390],["T_CONSTANT_ENCAPSED_STRING","\">\"",390],")",")",["T_WHITESPACE"," ",390],"{",["T_WHITESPACE","\n                        ",390],["T_VARIABLE","$neededToUpgrade",391],["T_WHITESPACE"," ",391],"=",["T_WHITESPACE"," ",391],["T_STRING","true",391],";",["T_WHITESPACE","\n                        ",391],["T_VARIABLE","$remoteVersion",392],["T_WHITESPACE"," ",392],"=",["T_WHITESPACE"," ",392],["T_VARIABLE","$version",392],";",["T_WHITESPACE","\n                    ",392],"}",["T_WHITESPACE","\n\n                    ",393],["T_IF","if",395],"(",["T_VARIABLE","$checkConflicts",395],")",["T_WHITESPACE"," ",395],"{",["T_WHITESPACE","\n                        ",395],["T_VARIABLE","$conflicts",396],["T_WHITESPACE"," ",396],"=",["T_WHITESPACE"," ",396],["T_VARIABLE","$cacheObject",396],["T_OBJECT_OPERATOR","->",396],["T_STRING","hasConflicts",396],"(",["T_VARIABLE","$chanName",396],",",["T_WHITESPACE"," ",396],["T_VARIABLE","$localName",396],",",["T_WHITESPACE"," ",396],["T_VARIABLE","$remoteVersion",396],")",";",["T_WHITESPACE","\n                        ",396],["T_IF","if",397],"(",["T_STRING","false",397],["T_WHITESPACE"," ",397],["T_IS_NOT_IDENTICAL","!==",397],["T_WHITESPACE"," ",397],["T_VARIABLE","$conflicts",397],")",["T_WHITESPACE"," ",397],"{",["T_WHITESPACE","\n                            ",397],["T_VARIABLE","$neededToUpgrade",398],["T_WHITESPACE"," ",398],"=",["T_WHITESPACE"," ",398],["T_STRING","false",398],";",["T_WHITESPACE","\n                        ",398],"}",["T_WHITESPACE","\n                    ",399],"}",["T_WHITESPACE","\n                ",400],"}",["T_WHITESPACE","\n                ",401],["T_IF","if",402],"(","!",["T_VARIABLE","$neededToUpgrade",402],")",["T_WHITESPACE"," ",402],"{",["T_WHITESPACE","\n                    ",402],["T_CONTINUE","continue",403],";",["T_WHITESPACE","\n                ",403],"}",["T_WHITESPACE","\n                ",404],["T_IF","if",405],"(","!",["T_ISSET","isset",405],"(",["T_VARIABLE","$updates",405],"[",["T_VARIABLE","$chanName",405],"]",")",")",["T_WHITESPACE"," ",405],"{",["T_WHITESPACE","\n                    ",405],["T_VARIABLE","$updates",406],"[",["T_VARIABLE","$chanName",406],"]",["T_WHITESPACE"," ",406],"=",["T_WHITESPACE"," ",406],["T_ARRAY","array",406],"(",")",";",["T_WHITESPACE","\n                ",406],"}",["T_WHITESPACE","\n                ",407],["T_VARIABLE","$updates",408],"[",["T_VARIABLE","$chanName",408],"]","[",["T_VARIABLE","$localName",408],"]",["T_WHITESPACE"," ",408],"=",["T_WHITESPACE"," ",408],["T_ARRAY","array",408],"(",["T_CONSTANT_ENCAPSED_STRING","\"from\"",408],["T_DOUBLE_ARROW","=>",408],["T_VARIABLE","$localVersion",408],",",["T_WHITESPACE"," ",408],["T_CONSTANT_ENCAPSED_STRING","\"to\"",408],["T_DOUBLE_ARROW","=>",408],["T_VARIABLE","$remoteVersion",408],")",";",["T_WHITESPACE","\n            ",408],"}",["T_WHITESPACE","\n        ",409],"}",["T_WHITESPACE","\n        ",410],["T_RETURN","return",411],["T_WHITESPACE"," ",411],["T_VARIABLE","$updates",411],";",["T_WHITESPACE","\n    ",411],"}",["T_WHITESPACE","\n\n    ",412],["T_DOC_COMMENT","\/**\n     * Get uninstall list\n     * @param string $chanName\n     * @param string $package\n     * @param Mage_Connect_Singleconfig $cache\n     * @param Mage_Connect_Config $config\n     * @param bool $withDepsRecursive\n     * @return array\n     *\/",414],["T_WHITESPACE","\n    ",422],["T_PUBLIC","public",423],["T_WHITESPACE"," ",423],["T_FUNCTION","function",423],["T_WHITESPACE"," ",423],["T_STRING","getUninstallList",423],"(",["T_VARIABLE","$chanName",423],",",["T_WHITESPACE"," ",423],["T_VARIABLE","$package",423],",",["T_WHITESPACE"," ",423],["T_VARIABLE","$cache",423],",",["T_WHITESPACE"," ",423],["T_VARIABLE","$config",423],",",["T_WHITESPACE"," ",423],["T_VARIABLE","$withDepsRecursive",423],["T_WHITESPACE"," ",423],"=",["T_WHITESPACE"," ",423],["T_STRING","true",423],")",["T_WHITESPACE","\n    ",423],"{",["T_WHITESPACE","\n        ",424],["T_STATIC","static",425],["T_WHITESPACE"," ",425],["T_VARIABLE","$level",425],["T_WHITESPACE"," ",425],"=",["T_WHITESPACE"," ",425],["T_LNUMBER","0",425],";",["T_WHITESPACE","\n        ",425],["T_STATIC","static",426],["T_WHITESPACE"," ",426],["T_VARIABLE","$hash",426],["T_WHITESPACE"," ",426],"=",["T_WHITESPACE"," ",426],["T_ARRAY","array",426],"(",")",";",["T_WHITESPACE","\n\n        ",426],["T_VARIABLE","$chanName",428],["T_WHITESPACE"," ",428],"=",["T_WHITESPACE"," ",428],["T_VARIABLE","$cache",428],["T_OBJECT_OPERATOR","->",428],["T_STRING","chanName",428],"(",["T_VARIABLE","$chanName",428],")",";",["T_WHITESPACE","\n        ",428],["T_VARIABLE","$keyOuter",429],["T_WHITESPACE"," ",429],"=",["T_WHITESPACE"," ",429],["T_VARIABLE","$chanName",429],["T_WHITESPACE"," ",429],".",["T_WHITESPACE"," ",429],["T_CONSTANT_ENCAPSED_STRING","\"\/\"",429],["T_WHITESPACE"," ",429],".",["T_WHITESPACE"," ",429],["T_VARIABLE","$package",429],";",["T_WHITESPACE","\n        ",429],["T_VARIABLE","$level",430],["T_INC","++",430],";",["T_WHITESPACE","\n\n        ",430],["T_TRY","try",432],["T_WHITESPACE"," ",432],"{",["T_WHITESPACE","\n            ",432],["T_VARIABLE","$chanName",433],["T_WHITESPACE"," ",433],"=",["T_WHITESPACE"," ",433],["T_VARIABLE","$cache",433],["T_OBJECT_OPERATOR","->",433],["T_STRING","chanName",433],"(",["T_VARIABLE","$chanName",433],")",";",["T_WHITESPACE","\n            ",433],["T_IF","if",434],"(","!",["T_VARIABLE","$cache",434],["T_OBJECT_OPERATOR","->",434],["T_STRING","hasPackage",434],"(",["T_VARIABLE","$chanName",434],",",["T_WHITESPACE"," ",434],["T_VARIABLE","$package",434],")",")",["T_WHITESPACE"," ",434],"{",["T_WHITESPACE","\n                ",434],["T_VARIABLE","$level",435],["T_DEC","--",435],";",["T_WHITESPACE","\n                ",435],["T_IF","if",436],"(",["T_VARIABLE","$level",436],["T_WHITESPACE"," ",436],["T_IS_EQUAL","==",436],["T_WHITESPACE"," ",436],["T_LNUMBER","0",436],")",["T_WHITESPACE"," ",436],"{",["T_WHITESPACE","\n                    ",436],["T_VARIABLE","$hash",437],["T_WHITESPACE"," ",437],"=",["T_WHITESPACE"," ",437],["T_ARRAY","array",437],"(",")",";",["T_WHITESPACE","\n                    ",437],["T_RETURN","return",438],["T_WHITESPACE"," ",438],["T_ARRAY","array",438],"(",["T_CONSTANT_ENCAPSED_STRING","'list'",438],["T_DOUBLE_ARROW","=>",438],["T_ARRAY","array",438],"(",")",")",";",["T_WHITESPACE","\n                ",438],"}",["T_WHITESPACE","\n                ",439],["T_RETURN","return",440],";",["T_WHITESPACE","\n            ",440],"}",["T_WHITESPACE","\n            ",441],["T_VARIABLE","$dependencies",442],["T_WHITESPACE"," ",442],"=",["T_WHITESPACE"," ",442],["T_VARIABLE","$cache",442],["T_OBJECT_OPERATOR","->",442],["T_STRING","getPackageDependencies",442],"(",["T_VARIABLE","$chanName",442],",",["T_WHITESPACE"," ",442],["T_VARIABLE","$package",442],")",";",["T_WHITESPACE","\n            ",442],["T_VARIABLE","$data",443],["T_WHITESPACE"," ",443],"=",["T_WHITESPACE"," ",443],["T_VARIABLE","$cache",443],["T_OBJECT_OPERATOR","->",443],["T_STRING","getPackage",443],"(",["T_VARIABLE","$chanName",443],",",["T_WHITESPACE"," ",443],["T_VARIABLE","$package",443],")",";",["T_WHITESPACE","\n            ",443],["T_VARIABLE","$version",444],["T_WHITESPACE"," ",444],"=",["T_WHITESPACE"," ",444],["T_VARIABLE","$data",444],"[",["T_CONSTANT_ENCAPSED_STRING","'version'",444],"]",";",["T_WHITESPACE","\n            ",444],["T_VARIABLE","$keyOuter",445],["T_WHITESPACE"," ",445],"=",["T_WHITESPACE"," ",445],["T_VARIABLE","$chanName",445],["T_WHITESPACE"," ",445],".",["T_WHITESPACE"," ",445],["T_CONSTANT_ENCAPSED_STRING","\"\/\"",445],["T_WHITESPACE"," ",445],".",["T_WHITESPACE"," ",445],["T_VARIABLE","$package",445],";",["T_WHITESPACE","\n\n            ",445],["T_COMMENT","\/\/print \"Processing outer: {$keyOuter} \\n\";\n",447],["T_WHITESPACE","            ",448],["T_VARIABLE","$hash",448],"[",["T_VARIABLE","$keyOuter",448],"]",["T_WHITESPACE"," ",448],"=",["T_WHITESPACE"," ",448],["T_ARRAY","array",448],["T_WHITESPACE"," ",448],"(",["T_WHITESPACE","\n                ",448],["T_CONSTANT_ENCAPSED_STRING","'name'",449],["T_WHITESPACE","     ",449],["T_DOUBLE_ARROW","=>",449],["T_WHITESPACE"," ",449],["T_VARIABLE","$package",449],",",["T_WHITESPACE","\n                ",449],["T_CONSTANT_ENCAPSED_STRING","'channel'",450],["T_WHITESPACE","  ",450],["T_DOUBLE_ARROW","=>",450],["T_WHITESPACE"," ",450],["T_VARIABLE","$chanName",450],",",["T_WHITESPACE","\n                ",450],["T_CONSTANT_ENCAPSED_STRING","'version'",451],["T_WHITESPACE","  ",451],["T_DOUBLE_ARROW","=>",451],["T_WHITESPACE"," ",451],["T_VARIABLE","$version",451],",",["T_WHITESPACE","\n                ",451],["T_CONSTANT_ENCAPSED_STRING","'packages'",452],["T_WHITESPACE"," ",452],["T_DOUBLE_ARROW","=>",452],["T_WHITESPACE"," ",452],["T_VARIABLE","$dependencies",452],",",["T_WHITESPACE","\n            ",452],")",";",["T_WHITESPACE","\n\n            ",453],["T_IF","if",455],"(",["T_VARIABLE","$withDepsRecursive",455],")",["T_WHITESPACE"," ",455],"{",["T_WHITESPACE","\n                ",455],["T_VARIABLE","$flds",456],["T_WHITESPACE"," ",456],"=",["T_WHITESPACE"," ",456],["T_ARRAY","array",456],"(",["T_CONSTANT_ENCAPSED_STRING","'name'",456],",",["T_CONSTANT_ENCAPSED_STRING","'channel'",456],",",["T_CONSTANT_ENCAPSED_STRING","'min'",456],",",["T_CONSTANT_ENCAPSED_STRING","'max'",456],")",";",["T_WHITESPACE","\n                ",456],["T_VARIABLE","$fldsCount",457],["T_WHITESPACE"," ",457],"=",["T_WHITESPACE"," ",457],["T_STRING","count",457],"(",["T_VARIABLE","$flds",457],")",";",["T_WHITESPACE","\n                ",457],["T_FOREACH","foreach",458],"(",["T_VARIABLE","$dependencies",458],["T_WHITESPACE"," ",458],["T_AS","as",458],["T_WHITESPACE"," ",458],["T_VARIABLE","$row",458],")",["T_WHITESPACE"," ",458],"{",["T_WHITESPACE","\n                    ",458],["T_FOREACH","foreach",459],"(",["T_VARIABLE","$flds",459],["T_WHITESPACE"," ",459],["T_AS","as",459],["T_WHITESPACE"," ",459],["T_VARIABLE","$key",459],")",["T_WHITESPACE"," ",459],"{",["T_WHITESPACE","\n                        ",459],["T_VARIABLE","$varName",460],["T_WHITESPACE"," ",460],"=",["T_WHITESPACE"," ",460],["T_CONSTANT_ENCAPSED_STRING","\"p\"",460],".",["T_STRING","ucfirst",460],"(",["T_VARIABLE","$key",460],")",";",["T_WHITESPACE","\n                        ",460],"$",["T_VARIABLE","$varName",461],["T_WHITESPACE"," ",461],"=",["T_WHITESPACE"," ",461],["T_VARIABLE","$row",461],"[",["T_VARIABLE","$key",461],"]",";",["T_WHITESPACE","\n                    ",461],"}",["T_WHITESPACE","\n                    ",462],["T_VARIABLE","$method",463],["T_WHITESPACE"," ",463],"=",["T_WHITESPACE"," ",463],["T_FUNC_C","__FUNCTION__",463],";",["T_WHITESPACE","\n                    ",463],["T_VARIABLE","$keyInner",464],["T_WHITESPACE"," ",464],"=",["T_WHITESPACE"," ",464],["T_VARIABLE","$pChannel",464],["T_WHITESPACE"," ",464],".",["T_WHITESPACE"," ",464],["T_CONSTANT_ENCAPSED_STRING","\"\/\"",464],["T_WHITESPACE"," ",464],".",["T_WHITESPACE"," ",464],["T_VARIABLE","$pName",464],";",["T_WHITESPACE","\n                    ",464],["T_IF","if",465],"(","!",["T_ISSET","isset",465],"(",["T_VARIABLE","$hash",465],"[",["T_VARIABLE","$keyInner",465],"]",")",")",["T_WHITESPACE"," ",465],"{",["T_WHITESPACE","\n                        ",465],["T_VARIABLE","$this",466],["T_OBJECT_OPERATOR","->",466],["T_VARIABLE","$method",466],"(",["T_VARIABLE","$pChannel",466],",",["T_WHITESPACE"," ",466],["T_VARIABLE","$pName",466],",",["T_WHITESPACE"," ",466],["T_VARIABLE","$cache",466],",",["T_WHITESPACE"," ",466],["T_VARIABLE","$config",466],",",["T_WHITESPACE","\n                        ",466],["T_VARIABLE","$withDepsRecursive",467],",",["T_WHITESPACE"," ",467],["T_STRING","false",467],")",";",["T_WHITESPACE","\n                    ",467],"}",["T_WHITESPACE","\n                ",468],"}",["T_WHITESPACE","\n            ",469],"}",["T_WHITESPACE","\n\n        ",470],"}",["T_WHITESPACE"," ",472],["T_CATCH","catch",472],["T_WHITESPACE"," ",472],"(",["T_STRING","Exception",472],["T_WHITESPACE"," ",472],["T_VARIABLE","$e",472],")",["T_WHITESPACE"," ",472],"{",["T_WHITESPACE","\n        ",472],"}",["T_WHITESPACE","\n\n        ",473],["T_VARIABLE","$level",475],["T_DEC","--",475],";",["T_WHITESPACE","\n        ",475],["T_IF","if",476],"(",["T_LNUMBER","0",476],["T_WHITESPACE"," ",476],["T_IS_IDENTICAL","===",476],["T_WHITESPACE"," ",476],["T_VARIABLE","$level",476],")",["T_WHITESPACE"," ",476],"{",["T_WHITESPACE","\n            ",476],["T_VARIABLE","$out",477],["T_WHITESPACE"," ",477],"=",["T_WHITESPACE"," ",477],["T_VARIABLE","$this",477],["T_OBJECT_OPERATOR","->",477],["T_STRING","processDepsHash",477],"(",["T_VARIABLE","$hash",477],")",";",["T_WHITESPACE","\n            ",477],["T_VARIABLE","$hash",478],["T_WHITESPACE"," ",478],"=",["T_WHITESPACE"," ",478],["T_ARRAY","array",478],"(",")",";",["T_WHITESPACE","\n            ",478],["T_RETURN","return",479],["T_WHITESPACE"," ",479],["T_ARRAY","array",479],"(",["T_CONSTANT_ENCAPSED_STRING","'list'",479],["T_DOUBLE_ARROW","=>",479],["T_VARIABLE","$out",479],")",";",["T_WHITESPACE","\n        ",479],"}",["T_WHITESPACE","\n    ",480],"}",["T_WHITESPACE","\n\n    ",481],["T_DOC_COMMENT","\/**\n     * Get dependencies list\/install order info\n     *\n     *\n     * @param string $chanName\n     * @param string $package\n     * @param Mage_Connect_Singleconfig $cache\n     * @param Mage_Connect_Config $config\n     * @param mixed $versionMax\n     * @param mixed $versionMin\n     * @return mixed\n     *\/",483],["T_WHITESPACE","\n    ",494],["T_PUBLIC","public",495],["T_WHITESPACE"," ",495],["T_FUNCTION","function",495],["T_WHITESPACE"," ",495],["T_STRING","getDependenciesList",495],"(",["T_VARIABLE","$chanName",495],",",["T_WHITESPACE"," ",495],["T_VARIABLE","$package",495],",",["T_WHITESPACE"," ",495],["T_VARIABLE","$cache",495],",",["T_WHITESPACE"," ",495],["T_VARIABLE","$config",495],",",["T_WHITESPACE"," ",495],["T_VARIABLE","$versionMax",495],["T_WHITESPACE"," ",495],"=",["T_WHITESPACE"," ",495],["T_STRING","false",495],",",["T_WHITESPACE"," ",495],["T_VARIABLE","$versionMin",495],["T_WHITESPACE"," ",495],"=",["T_WHITESPACE"," ",495],["T_STRING","false",495],",",["T_WHITESPACE","\n        ",495],["T_VARIABLE","$withDepsRecursive",496],["T_WHITESPACE"," ",496],"=",["T_WHITESPACE"," ",496],["T_STRING","true",496],",",["T_WHITESPACE"," ",496],["T_VARIABLE","$forceRemote",496],["T_WHITESPACE"," ",496],"=",["T_WHITESPACE"," ",496],["T_STRING","false",496],["T_WHITESPACE","\n    ",496],")",["T_WHITESPACE"," ",497],"{",["T_WHITESPACE","\n        ",497],["T_STATIC","static",498],["T_WHITESPACE"," ",498],["T_VARIABLE","$level",498],["T_WHITESPACE"," ",498],"=",["T_WHITESPACE"," ",498],["T_LNUMBER","0",498],";",["T_WHITESPACE","\n        ",498],["T_STATIC","static",499],["T_WHITESPACE"," ",499],["T_VARIABLE","$_depsHash",499],["T_WHITESPACE"," ",499],"=",["T_WHITESPACE"," ",499],["T_ARRAY","array",499],"(",")",";",["T_WHITESPACE","\n        ",499],["T_STATIC","static",500],["T_WHITESPACE"," ",500],["T_VARIABLE","$_deps",500],["T_WHITESPACE"," ",500],"=",["T_WHITESPACE"," ",500],["T_ARRAY","array",500],"(",")",";",["T_WHITESPACE","\n        ",500],["T_STATIC","static",501],["T_WHITESPACE"," ",501],["T_VARIABLE","$_failed",501],["T_WHITESPACE"," ",501],"=",["T_WHITESPACE"," ",501],["T_ARRAY","array",501],"(",")",";",["T_WHITESPACE","\n\n        ",501],["T_VARIABLE","$level",503],["T_INC","++",503],";",["T_WHITESPACE","\n\n        ",503],["T_TRY","try",505],["T_WHITESPACE"," ",505],"{",["T_WHITESPACE","\n            ",505],["T_VARIABLE","$chanName",506],["T_WHITESPACE"," ",506],"=",["T_WHITESPACE"," ",506],["T_VARIABLE","$cache",506],["T_OBJECT_OPERATOR","->",506],["T_STRING","chanName",506],"(",["T_VARIABLE","$chanName",506],")",";",["T_WHITESPACE","\n\n            ",506],["T_VARIABLE","$rest",508],["T_WHITESPACE"," ",508],"=",["T_WHITESPACE"," ",508],["T_NEW","new",508],["T_WHITESPACE"," ",508],["T_STRING","Mage_Connect_Rest",508],"(",["T_VARIABLE","$config",508],["T_OBJECT_OPERATOR","->",508],["T_STRING","protocol",508],")",";",["T_WHITESPACE","\n            ",508],["T_VARIABLE","$rest",509],["T_OBJECT_OPERATOR","->",509],["T_STRING","setChannel",509],"(",["T_VARIABLE","$cache",509],["T_OBJECT_OPERATOR","->",509],["T_STRING","chanUrl",509],"(",["T_VARIABLE","$chanName",509],")",")",";",["T_WHITESPACE","\n            ",509],["T_VARIABLE","$releases",510],["T_WHITESPACE"," ",510],"=",["T_WHITESPACE"," ",510],["T_VARIABLE","$rest",510],["T_OBJECT_OPERATOR","->",510],["T_STRING","getReleases",510],"(",["T_VARIABLE","$package",510],")",";",["T_WHITESPACE","\n            ",510],["T_IF","if",511],"(","!",["T_VARIABLE","$releases",511],["T_WHITESPACE"," ",511],["T_BOOLEAN_OR","||",511],["T_WHITESPACE"," ",511],"!",["T_STRING","count",511],"(",["T_VARIABLE","$releases",511],")",")",["T_WHITESPACE"," ",511],"{",["T_WHITESPACE","\n                ",511],["T_THROW","throw",512],["T_WHITESPACE"," ",512],["T_NEW","new",512],["T_WHITESPACE"," ",512],["T_STRING","Exception",512],"(","\"",["T_ENCAPSED_AND_WHITESPACE","No releases for: '",512],["T_CURLY_OPEN","{",512],["T_VARIABLE","$package",512],"}",["T_ENCAPSED_AND_WHITESPACE","', skipping",512],"\"",")",";",["T_WHITESPACE","\n            ",512],"}",["T_WHITESPACE","\n            ",513],["T_VARIABLE","$state",514],["T_WHITESPACE"," ",514],"=",["T_WHITESPACE"," ",514],["T_VARIABLE","$config",514],["T_OBJECT_OPERATOR","->",514],["T_STRING","preffered_state",514],["T_WHITESPACE"," ",514],"?",["T_WHITESPACE"," ",514],["T_VARIABLE","$confg",514],["T_OBJECT_OPERATOR","->",514],["T_STRING","preffered_state",514],["T_WHITESPACE"," ",514],":",["T_WHITESPACE"," ",514],["T_CONSTANT_ENCAPSED_STRING","'devel'",514],";",["T_WHITESPACE","\n            ",514],["T_VARIABLE","$version",515],["T_WHITESPACE"," ",515],"=",["T_WHITESPACE"," ",515],["T_VARIABLE","$cache",515],["T_OBJECT_OPERATOR","->",515],["T_STRING","detectVersionFromRestArray",515],"(",["T_VARIABLE","$releases",515],",",["T_WHITESPACE"," ",515],["T_VARIABLE","$versionMin",515],",",["T_WHITESPACE"," ",515],["T_VARIABLE","$versionMax",515],",",["T_WHITESPACE"," ",515],["T_VARIABLE","$state",515],")",";",["T_WHITESPACE","\n            ",515],["T_IF","if",516],"(","!",["T_VARIABLE","$version",516],")",["T_WHITESPACE"," ",516],"{",["T_WHITESPACE","\n                ",516],["T_THROW","throw",517],["T_WHITESPACE"," ",517],["T_NEW","new",517],["T_WHITESPACE"," ",517],["T_STRING","Exception",517],"(","\"",["T_ENCAPSED_AND_WHITESPACE","Version for '",517],["T_CURLY_OPEN","{",517],["T_VARIABLE","$package",517],"}",["T_ENCAPSED_AND_WHITESPACE","' was not detected",517],"\"",")",";",["T_WHITESPACE","\n            ",517],"}",["T_WHITESPACE","\n            ",518],["T_VARIABLE","$packageInfo",519],["T_WHITESPACE"," ",519],"=",["T_WHITESPACE"," ",519],["T_VARIABLE","$rest",519],["T_OBJECT_OPERATOR","->",519],["T_STRING","getPackageReleaseInfo",519],"(",["T_VARIABLE","$package",519],",",["T_WHITESPACE"," ",519],["T_VARIABLE","$version",519],")",";",["T_WHITESPACE","\n            ",519],["T_IF","if",520],"(",["T_STRING","false",520],["T_WHITESPACE"," ",520],["T_IS_IDENTICAL","===",520],["T_WHITESPACE"," ",520],["T_VARIABLE","$packageInfo",520],")",["T_WHITESPACE"," ",520],"{",["T_WHITESPACE","\n                ",520],["T_THROW","throw",521],["T_WHITESPACE"," ",521],["T_NEW","new",521],["T_WHITESPACE"," ",521],["T_STRING","Exception",521],"(","\"",["T_ENCAPSED_AND_WHITESPACE","Package release '",521],["T_CURLY_OPEN","{",521],["T_VARIABLE","$package",521],"}",["T_ENCAPSED_AND_WHITESPACE","' not found on server",521],"\"",")",";",["T_WHITESPACE","\n            ",521],"}",["T_WHITESPACE","\n            ",522],["T_UNSET","unset",523],"(",["T_VARIABLE","$rest",523],")",";",["T_WHITESPACE","\n            ",523],["T_VARIABLE","$dependencies",524],["T_WHITESPACE"," ",524],"=",["T_WHITESPACE"," ",524],["T_VARIABLE","$packageInfo",524],["T_OBJECT_OPERATOR","->",524],["T_STRING","getDependencyPackages",524],"(",")",";",["T_WHITESPACE","\n            ",524],["T_VARIABLE","$keyOuter",525],["T_WHITESPACE"," ",525],"=",["T_WHITESPACE"," ",525],["T_VARIABLE","$chanName",525],["T_WHITESPACE"," ",525],".",["T_WHITESPACE"," ",525],["T_CONSTANT_ENCAPSED_STRING","\"\/\"",525],["T_WHITESPACE"," ",525],".",["T_WHITESPACE"," ",525],["T_VARIABLE","$package",525],";",["T_WHITESPACE","\n\n            ",525],["T_COMMENT","\/\/print \"Processing outer: {$keyOuter} \\n\";\n",527],["T_WHITESPACE","            ",528],["T_VARIABLE","$_depsHash",528],"[",["T_VARIABLE","$keyOuter",528],"]",["T_WHITESPACE"," ",528],"=",["T_WHITESPACE"," ",528],["T_ARRAY","array",528],["T_WHITESPACE"," ",528],"(",["T_WHITESPACE","\n                ",528],["T_CONSTANT_ENCAPSED_STRING","'name'",529],["T_WHITESPACE","               ",529],["T_DOUBLE_ARROW","=>",529],["T_WHITESPACE"," ",529],["T_VARIABLE","$package",529],",",["T_WHITESPACE","\n                ",529],["T_CONSTANT_ENCAPSED_STRING","'channel'",530],["T_WHITESPACE","            ",530],["T_DOUBLE_ARROW","=>",530],["T_WHITESPACE"," ",530],["T_VARIABLE","$chanName",530],",",["T_WHITESPACE","\n                ",530],["T_CONSTANT_ENCAPSED_STRING","'downloaded_version'",531],["T_WHITESPACE"," ",531],["T_DOUBLE_ARROW","=>",531],["T_WHITESPACE"," ",531],["T_VARIABLE","$version",531],",",["T_WHITESPACE","\n                ",531],["T_CONSTANT_ENCAPSED_STRING","'min'",532],["T_WHITESPACE","                ",532],["T_DOUBLE_ARROW","=>",532],["T_WHITESPACE"," ",532],["T_VARIABLE","$versionMin",532],",",["T_WHITESPACE","\n                ",532],["T_CONSTANT_ENCAPSED_STRING","'max'",533],["T_WHITESPACE","                ",533],["T_DOUBLE_ARROW","=>",533],["T_WHITESPACE"," ",533],["T_VARIABLE","$versionMax",533],",",["T_WHITESPACE","\n                ",533],["T_CONSTANT_ENCAPSED_STRING","'packages'",534],["T_WHITESPACE","           ",534],["T_DOUBLE_ARROW","=>",534],["T_WHITESPACE"," ",534],["T_VARIABLE","$dependencies",534],",",["T_WHITESPACE","\n            ",534],")",";",["T_WHITESPACE","\n\n            ",535],["T_IF","if",537],"(",["T_VARIABLE","$withDepsRecursive",537],")",["T_WHITESPACE"," ",537],"{",["T_WHITESPACE","\n                ",537],["T_VARIABLE","$flds",538],["T_WHITESPACE"," ",538],"=",["T_WHITESPACE"," ",538],["T_ARRAY","array",538],"(",["T_CONSTANT_ENCAPSED_STRING","'name'",538],",",["T_CONSTANT_ENCAPSED_STRING","'channel'",538],",",["T_CONSTANT_ENCAPSED_STRING","'min'",538],",",["T_CONSTANT_ENCAPSED_STRING","'max'",538],")",";",["T_WHITESPACE","\n                ",538],["T_VARIABLE","$fldsCount",539],["T_WHITESPACE"," ",539],"=",["T_WHITESPACE"," ",539],["T_STRING","count",539],"(",["T_VARIABLE","$flds",539],")",";",["T_WHITESPACE","\n                ",539],["T_FOREACH","foreach",540],"(",["T_VARIABLE","$dependencies",540],["T_WHITESPACE"," ",540],["T_AS","as",540],["T_WHITESPACE"," ",540],["T_VARIABLE","$row",540],")",["T_WHITESPACE"," ",540],"{",["T_WHITESPACE","\n                    ",540],["T_FOREACH","foreach",541],"(",["T_VARIABLE","$flds",541],["T_WHITESPACE"," ",541],["T_AS","as",541],["T_WHITESPACE"," ",541],["T_VARIABLE","$key",541],")",["T_WHITESPACE"," ",541],"{",["T_WHITESPACE","\n                        ",541],["T_VARIABLE","$varName",542],["T_WHITESPACE"," ",542],"=",["T_WHITESPACE"," ",542],["T_CONSTANT_ENCAPSED_STRING","\"p\"",542],".",["T_STRING","ucfirst",542],"(",["T_VARIABLE","$key",542],")",";",["T_WHITESPACE","\n                        ",542],"$",["T_VARIABLE","$varName",543],["T_WHITESPACE"," ",543],"=",["T_WHITESPACE"," ",543],["T_VARIABLE","$row",543],"[",["T_VARIABLE","$key",543],"]",";",["T_WHITESPACE","\n                    ",543],"}",["T_WHITESPACE","\n                    ",544],["T_VARIABLE","$method",545],["T_WHITESPACE"," ",545],"=",["T_WHITESPACE"," ",545],["T_FUNC_C","__FUNCTION__",545],";",["T_WHITESPACE","\n                    ",545],["T_VARIABLE","$keyInner",546],["T_WHITESPACE"," ",546],"=",["T_WHITESPACE"," ",546],["T_VARIABLE","$pChannel",546],["T_WHITESPACE"," ",546],".",["T_WHITESPACE"," ",546],["T_CONSTANT_ENCAPSED_STRING","\"\/\"",546],["T_WHITESPACE"," ",546],".",["T_WHITESPACE"," ",546],["T_VARIABLE","$pName",546],";",["T_WHITESPACE","\n                    ",546],["T_IF","if",547],"(","!",["T_ISSET","isset",547],"(",["T_VARIABLE","$_depsHash",547],"[",["T_VARIABLE","$keyInner",547],"]",")",")",["T_WHITESPACE"," ",547],"{",["T_WHITESPACE","\n                        ",547],["T_VARIABLE","$_deps",548],"[","]",["T_WHITESPACE"," ",548],"=",["T_WHITESPACE"," ",548],["T_VARIABLE","$row",548],";",["T_WHITESPACE","\n                        ",548],["T_VARIABLE","$this",549],["T_OBJECT_OPERATOR","->",549],["T_VARIABLE","$method",549],"(",["T_VARIABLE","$pChannel",549],",",["T_WHITESPACE"," ",549],["T_VARIABLE","$pName",549],",",["T_WHITESPACE"," ",549],["T_VARIABLE","$cache",549],",",["T_WHITESPACE"," ",549],["T_VARIABLE","$config",549],",",["T_WHITESPACE","\n                        ",549],["T_VARIABLE","$pMax",550],",",["T_WHITESPACE"," ",550],["T_VARIABLE","$pMin",550],",",["T_WHITESPACE"," ",550],["T_VARIABLE","$withDepsRecursive",550],",",["T_WHITESPACE"," ",550],["T_VARIABLE","$forceRemote",550],",",["T_WHITESPACE"," ",550],["T_STRING","false",550],")",";",["T_WHITESPACE","\n                    ",550],"}",["T_WHITESPACE"," ",551],["T_ELSE","else",551],["T_WHITESPACE"," ",551],"{",["T_WHITESPACE","\n                        ",551],["T_VARIABLE","$downloaded",552],["T_WHITESPACE"," ",552],"=",["T_WHITESPACE"," ",552],["T_VARIABLE","$_depsHash",552],"[",["T_VARIABLE","$keyInner",552],"]","[",["T_CONSTANT_ENCAPSED_STRING","'downloaded_version'",552],"]",";",["T_WHITESPACE","\n                        ",552],["T_VARIABLE","$hasMin",553],["T_WHITESPACE"," ",553],"=",["T_WHITESPACE"," ",553],["T_VARIABLE","$_depsHash",553],"[",["T_VARIABLE","$keyInner",553],"]","[",["T_CONSTANT_ENCAPSED_STRING","'min'",553],"]",";",["T_WHITESPACE","\n                        ",553],["T_VARIABLE","$hasMax",554],["T_WHITESPACE"," ",554],"=",["T_WHITESPACE"," ",554],["T_VARIABLE","$_depsHash",554],"[",["T_VARIABLE","$keyInner",554],"]","[",["T_CONSTANT_ENCAPSED_STRING","'max'",554],"]",";",["T_WHITESPACE","\n                        ",554],["T_IF","if",555],"(",["T_VARIABLE","$pMin",555],["T_WHITESPACE"," ",555],["T_IS_IDENTICAL","===",555],["T_WHITESPACE"," ",555],["T_VARIABLE","$hasMin",555],["T_WHITESPACE"," ",555],["T_BOOLEAN_AND","&&",555],["T_WHITESPACE"," ",555],["T_VARIABLE","$pMax",555],["T_WHITESPACE"," ",555],["T_IS_IDENTICAL","===",555],["T_WHITESPACE"," ",555],["T_VARIABLE","$hasMax",555],")",["T_WHITESPACE"," ",555],"{",["T_WHITESPACE","\n                            ",555],["T_COMMENT","\/\/var_dump(\"Equal requirements, skipping\");\n",556],["T_WHITESPACE","                            ",557],["T_CONTINUE","continue",557],";",["T_WHITESPACE","\n                        ",557],"}",["T_WHITESPACE","\n\n                        ",558],["T_IF","if",560],"(",["T_VARIABLE","$cache",560],["T_OBJECT_OPERATOR","->",560],["T_STRING","versionInRange",560],"(",["T_VARIABLE","$downloaded",560],",",["T_WHITESPACE"," ",560],["T_VARIABLE","$pMin",560],",",["T_WHITESPACE"," ",560],["T_VARIABLE","$pMax",560],")",")",["T_WHITESPACE"," ",560],"{",["T_WHITESPACE","\n                            ",560],["T_COMMENT","\/\/var_dump(\"Downloaded package matches new range too\");\n",561],["T_WHITESPACE","                            ",562],["T_CONTINUE","continue",562],";",["T_WHITESPACE","\n                        ",562],"}",["T_WHITESPACE","\n\n                        ",563],["T_VARIABLE","$names",565],["T_WHITESPACE"," ",565],"=",["T_WHITESPACE"," ",565],["T_ARRAY","array",565],"(",["T_CONSTANT_ENCAPSED_STRING","\"pMin\"",565],",",["T_CONSTANT_ENCAPSED_STRING","\"pMax\"",565],",",["T_CONSTANT_ENCAPSED_STRING","\"hasMin\"",565],",",["T_CONSTANT_ENCAPSED_STRING","\"hasMax\"",565],")",";",["T_WHITESPACE","\n                        ",565],["T_FOR","for",566],"(",["T_VARIABLE","$i",566],"=",["T_LNUMBER","0",566],",",["T_WHITESPACE"," ",566],["T_VARIABLE","$c",566],"=",["T_STRING","count",566],"(",["T_VARIABLE","$names",566],")",";",["T_WHITESPACE"," ",566],["T_VARIABLE","$i",566],"<",["T_VARIABLE","$c",566],";",["T_WHITESPACE"," ",566],["T_VARIABLE","$i",566],["T_INC","++",566],")",["T_WHITESPACE"," ",566],"{",["T_WHITESPACE","\n                            ",566],["T_IF","if",567],"(","!",["T_ISSET","isset",567],"(","$",["T_VARIABLE","$names",567],"[",["T_VARIABLE","$i",567],"]",")",")",["T_WHITESPACE"," ",567],"{",["T_WHITESPACE","\n                                ",567],["T_CONTINUE","continue",568],";",["T_WHITESPACE","\n                            ",568],"}",["T_WHITESPACE","\n                            ",569],["T_IF","if",570],"(",["T_STRING","false",570],["T_WHITESPACE"," ",570],["T_IS_NOT_IDENTICAL","!==",570],["T_WHITESPACE"," ",570],"$",["T_VARIABLE","$names",570],"[",["T_VARIABLE","$i",570],"]",")",["T_WHITESPACE"," ",570],"{",["T_WHITESPACE","\n                                ",570],["T_CONTINUE","continue",571],";",["T_WHITESPACE","\n                            ",571],"}",["T_WHITESPACE","\n                            ",572],"$",["T_VARIABLE","$names",573],"[",["T_VARIABLE","$i",573],"]",["T_WHITESPACE"," ",573],"=",["T_WHITESPACE"," ",573],["T_VARIABLE","$i",573],["T_WHITESPACE"," ",573],"%",["T_WHITESPACE"," ",573],["T_LNUMBER","2",573],["T_WHITESPACE"," ",573],["T_IS_EQUAL","==",573],["T_WHITESPACE"," ",573],["T_LNUMBER","0",573],["T_WHITESPACE"," ",573],"?",["T_WHITESPACE"," ",573],["T_CONSTANT_ENCAPSED_STRING","\"0\"",573],["T_WHITESPACE"," ",573],":",["T_WHITESPACE"," ",573],["T_CONSTANT_ENCAPSED_STRING","\"999999999\"",573],";",["T_WHITESPACE","\n                        ",573],"}",["T_WHITESPACE","\n\n                        ",574],["T_IF","if",576],"(","!",["T_VARIABLE","$cache",576],["T_OBJECT_OPERATOR","->",576],["T_STRING","hasVersionRangeIntersect",576],"(",["T_VARIABLE","$pMin",576],",",["T_VARIABLE","$pMax",576],",",["T_WHITESPACE"," ",576],["T_VARIABLE","$hasMin",576],",",["T_WHITESPACE"," ",576],["T_VARIABLE","$hasMax",576],")",")",["T_WHITESPACE"," ",576],"{",["T_WHITESPACE","\n                            ",576],["T_VARIABLE","$reason",577],["T_WHITESPACE"," ",577],"=",["T_WHITESPACE"," ",577],"\"",["T_ENCAPSED_AND_WHITESPACE","Detected ",577],["T_CURLY_OPEN","{",577],["T_VARIABLE","$pName",577],"}",["T_ENCAPSED_AND_WHITESPACE"," conflict of versions: ",577],["T_CURLY_OPEN","{",577],["T_VARIABLE","$hasMin",577],"}",["T_ENCAPSED_AND_WHITESPACE","-",577],["T_CURLY_OPEN","{",577],["T_VARIABLE","$hasMax",577],"}",["T_ENCAPSED_AND_WHITESPACE"," and ",577],["T_CURLY_OPEN","{",577],["T_VARIABLE","$pMin",577],"}",["T_ENCAPSED_AND_WHITESPACE","-",577],["T_CURLY_OPEN","{",577],["T_VARIABLE","$pMax",577],"}","\"",";",["T_WHITESPACE","\n                            ",577],["T_UNSET","unset",578],"(",["T_VARIABLE","$_depsHash",578],"[",["T_VARIABLE","$keyInner",578],"]",")",";",["T_WHITESPACE","\n                            ",578],["T_VARIABLE","$_failed",579],"[","]",["T_WHITESPACE"," ",579],"=",["T_WHITESPACE"," ",579],["T_ARRAY","array",579],"(",["T_WHITESPACE","\n                                ",579],["T_CONSTANT_ENCAPSED_STRING","'name'",580],["T_WHITESPACE","    ",580],["T_DOUBLE_ARROW","=>",580],["T_WHITESPACE"," ",580],["T_VARIABLE","$pName",580],",",["T_WHITESPACE","\n                                ",580],["T_CONSTANT_ENCAPSED_STRING","'channel'",581],["T_WHITESPACE"," ",581],["T_DOUBLE_ARROW","=>",581],["T_WHITESPACE"," ",581],["T_VARIABLE","$pChannel",581],",",["T_WHITESPACE","\n                                ",581],["T_CONSTANT_ENCAPSED_STRING","'max'",582],["T_WHITESPACE","     ",582],["T_DOUBLE_ARROW","=>",582],["T_WHITESPACE"," ",582],["T_VARIABLE","$pMax",582],",",["T_WHITESPACE","\n                                ",582],["T_CONSTANT_ENCAPSED_STRING","'min'",583],["T_WHITESPACE","     ",583],["T_DOUBLE_ARROW","=>",583],["T_WHITESPACE"," ",583],["T_VARIABLE","$pMin",583],",",["T_WHITESPACE","\n                                ",583],["T_CONSTANT_ENCAPSED_STRING","'reason'",584],["T_WHITESPACE","  ",584],["T_DOUBLE_ARROW","=>",584],["T_WHITESPACE"," ",584],["T_VARIABLE","$reason",584],["T_WHITESPACE","\n                            ",584],")",";",["T_WHITESPACE","\n                            ",585],["T_CONTINUE","continue",586],";",["T_WHITESPACE","\n                        ",586],"}",["T_WHITESPACE","\n                        ",587],["T_VARIABLE","$newMaxIsLess",588],["T_WHITESPACE"," ",588],"=",["T_WHITESPACE"," ",588],["T_STRING","version_compare",588],"(",["T_VARIABLE","$pMax",588],",",["T_WHITESPACE"," ",588],["T_VARIABLE","$hasMax",588],",",["T_WHITESPACE"," ",588],["T_CONSTANT_ENCAPSED_STRING","\"<\"",588],")",";",["T_WHITESPACE","\n                        ",588],["T_VARIABLE","$newMinIsGreater",589],["T_WHITESPACE"," ",589],"=",["T_WHITESPACE"," ",589],["T_STRING","version_compare",589],"(",["T_VARIABLE","$pMin",589],",",["T_WHITESPACE"," ",589],["T_VARIABLE","$hasMin",589],",",["T_WHITESPACE"," ",589],["T_CONSTANT_ENCAPSED_STRING","\">\"",589],")",";",["T_WHITESPACE","\n                        ",589],["T_VARIABLE","$forceMax",590],["T_WHITESPACE"," ",590],"=",["T_WHITESPACE"," ",590],["T_VARIABLE","$newMaxIsLess",590],["T_WHITESPACE"," ",590],"?",["T_WHITESPACE"," ",590],["T_VARIABLE","$pMax",590],["T_WHITESPACE"," ",590],":",["T_WHITESPACE"," ",590],["T_VARIABLE","$hasMax",590],";",["T_WHITESPACE","\n                        ",590],["T_VARIABLE","$forceMin",591],["T_WHITESPACE"," ",591],"=",["T_WHITESPACE"," ",591],["T_VARIABLE","$newMinIsGreater",591],["T_WHITESPACE"," ",591],"?",["T_WHITESPACE"," ",591],["T_VARIABLE","$pMin",591],["T_WHITESPACE"," ",591],":",["T_WHITESPACE"," ",591],["T_VARIABLE","$hasMin",591],";",["T_WHITESPACE","\n                        ",591],["T_COMMENT","\/\/var_dump(\"Trying to process {$pName} : max {$forceMax} - min {$forceMin}\");\n",592],["T_WHITESPACE","                        ",593],["T_VARIABLE","$this",593],["T_OBJECT_OPERATOR","->",593],["T_VARIABLE","$method",593],"(",["T_VARIABLE","$pChannel",593],",",["T_WHITESPACE"," ",593],["T_VARIABLE","$pName",593],",",["T_WHITESPACE"," ",593],["T_VARIABLE","$cache",593],",",["T_WHITESPACE"," ",593],["T_VARIABLE","$config",593],",",["T_WHITESPACE","\n                        ",593],["T_VARIABLE","$forceMax",594],",",["T_WHITESPACE"," ",594],["T_VARIABLE","$forceMin",594],",",["T_WHITESPACE"," ",594],["T_VARIABLE","$withDepsRecursive",594],",",["T_WHITESPACE"," ",594],["T_VARIABLE","$forceRemote",594],")",";",["T_WHITESPACE","\n                    ",594],"}",["T_WHITESPACE","\n                ",595],"}",["T_WHITESPACE","\n            ",596],"}",["T_WHITESPACE","\n        ",597],"}",["T_WHITESPACE"," ",598],["T_CATCH","catch",598],["T_WHITESPACE"," ",598],"(",["T_STRING","Exception",598],["T_WHITESPACE"," ",598],["T_VARIABLE","$e",598],")",["T_WHITESPACE"," ",598],"{",["T_WHITESPACE","\n            ",598],["T_VARIABLE","$_failed",599],"[","]",["T_WHITESPACE"," ",599],"=",["T_WHITESPACE"," ",599],["T_ARRAY","array",599],"(",["T_WHITESPACE","\n                ",599],["T_CONSTANT_ENCAPSED_STRING","'name'",600],["T_WHITESPACE","    ",600],["T_DOUBLE_ARROW","=>",600],["T_WHITESPACE"," ",600],["T_VARIABLE","$package",600],",",["T_WHITESPACE","\n                ",600],["T_CONSTANT_ENCAPSED_STRING","'channel'",601],["T_WHITESPACE"," ",601],["T_DOUBLE_ARROW","=>",601],["T_WHITESPACE"," ",601],["T_VARIABLE","$chanName",601],",",["T_WHITESPACE","\n                ",601],["T_CONSTANT_ENCAPSED_STRING","'max'",602],["T_WHITESPACE","     ",602],["T_DOUBLE_ARROW","=>",602],["T_WHITESPACE"," ",602],["T_VARIABLE","$versionMax",602],",",["T_WHITESPACE","\n                ",602],["T_CONSTANT_ENCAPSED_STRING","'min'",603],["T_WHITESPACE","     ",603],["T_DOUBLE_ARROW","=>",603],["T_WHITESPACE"," ",603],["T_VARIABLE","$versionMin",603],",",["T_WHITESPACE","\n                ",603],["T_CONSTANT_ENCAPSED_STRING","'reason'",604],["T_WHITESPACE","  ",604],["T_DOUBLE_ARROW","=>",604],["T_WHITESPACE"," ",604],["T_VARIABLE","$e",604],["T_OBJECT_OPERATOR","->",604],["T_STRING","getMessage",604],"(",")",["T_WHITESPACE","\n            ",604],")",";",["T_WHITESPACE","\n        ",605],"}",["T_WHITESPACE","\n\n        ",606],["T_VARIABLE","$level",608],["T_DEC","--",608],";",["T_WHITESPACE","\n        ",608],["T_IF","if",609],"(",["T_VARIABLE","$level",609],["T_WHITESPACE"," ",609],["T_IS_EQUAL","==",609],["T_WHITESPACE"," ",609],["T_LNUMBER","0",609],")",["T_WHITESPACE"," ",609],"{",["T_WHITESPACE","\n            ",609],["T_VARIABLE","$out",610],["T_WHITESPACE"," ",610],"=",["T_WHITESPACE"," ",610],["T_VARIABLE","$this",610],["T_OBJECT_OPERATOR","->",610],["T_STRING","processDepsHash",610],"(",["T_VARIABLE","$_depsHash",610],")",";",["T_WHITESPACE","\n            ",610],["T_VARIABLE","$deps",611],["T_WHITESPACE"," ",611],"=",["T_WHITESPACE"," ",611],["T_VARIABLE","$_deps",611],";",["T_WHITESPACE","\n            ",611],["T_VARIABLE","$failed",612],["T_WHITESPACE"," ",612],"=",["T_WHITESPACE"," ",612],["T_VARIABLE","$_failed",612],";",["T_WHITESPACE","\n            ",612],["T_VARIABLE","$_depsHash",613],["T_WHITESPACE"," ",613],"=",["T_WHITESPACE"," ",613],["T_ARRAY","array",613],"(",")",";",["T_WHITESPACE","\n            ",613],["T_VARIABLE","$_deps",614],["T_WHITESPACE"," ",614],"=",["T_WHITESPACE"," ",614],["T_ARRAY","array",614],"(",")",";",["T_WHITESPACE","\n            ",614],["T_VARIABLE","$_failed",615],["T_WHITESPACE"," ",615],"=",["T_WHITESPACE"," ",615],["T_ARRAY","array",615],"(",")",";",["T_WHITESPACE","\n            ",615],["T_RETURN","return",616],["T_WHITESPACE"," ",616],["T_ARRAY","array",616],"(",["T_CONSTANT_ENCAPSED_STRING","'deps'",616],["T_WHITESPACE"," ",616],["T_DOUBLE_ARROW","=>",616],["T_WHITESPACE"," ",616],["T_VARIABLE","$deps",616],",",["T_WHITESPACE"," ",616],["T_CONSTANT_ENCAPSED_STRING","'result'",616],["T_WHITESPACE"," ",616],["T_DOUBLE_ARROW","=>",616],["T_WHITESPACE"," ",616],["T_VARIABLE","$out",616],",",["T_WHITESPACE"," ",616],["T_CONSTANT_ENCAPSED_STRING","'failed'",616],["T_DOUBLE_ARROW","=>",616],["T_WHITESPACE"," ",616],["T_VARIABLE","$failed",616],")",";",["T_WHITESPACE","\n        ",616],"}",["T_WHITESPACE","\n    ",617],"}",["T_WHITESPACE","\n\n    ",618],["T_DOC_COMMENT","\/**\n     * Process dependencies hash\n     * Makes topological sorting and gives operation order list\n     *\n     * @param array $depsHash\n     * @param bool $sortReverse\n     * @return array\n     *\/",620],["T_WHITESPACE","\n    ",627],["T_PROTECTED","protected",628],["T_WHITESPACE"," ",628],["T_FUNCTION","function",628],["T_WHITESPACE"," ",628],["T_STRING","processDepsHash",628],"(","&",["T_VARIABLE","$depsHash",628],",",["T_WHITESPACE"," ",628],["T_VARIABLE","$sortReverse",628],["T_WHITESPACE"," ",628],"=",["T_WHITESPACE"," ",628],["T_STRING","true",628],")",["T_WHITESPACE","\n    ",628],"{",["T_WHITESPACE","\n        ",629],["T_VARIABLE","$nodes",630],["T_WHITESPACE"," ",630],"=",["T_WHITESPACE"," ",630],["T_ARRAY","array",630],"(",")",";",["T_WHITESPACE","\n        ",630],["T_VARIABLE","$graph",631],["T_WHITESPACE"," ",631],"=",["T_WHITESPACE"," ",631],["T_NEW","new",631],["T_WHITESPACE"," ",631],["T_STRING","Mage_Connect_Structures_Graph",631],"(",")",";",["T_WHITESPACE","\n\n        ",631],["T_FOREACH","foreach",633],"(",["T_VARIABLE","$depsHash",633],["T_WHITESPACE"," ",633],["T_AS","as",633],["T_WHITESPACE"," ",633],["T_VARIABLE","$key",633],["T_DOUBLE_ARROW","=>",633],["T_VARIABLE","$data",633],")",["T_WHITESPACE"," ",633],"{",["T_WHITESPACE","\n            ",633],["T_VARIABLE","$packages",634],["T_WHITESPACE"," ",634],"=",["T_WHITESPACE"," ",634],["T_VARIABLE","$data",634],"[",["T_CONSTANT_ENCAPSED_STRING","'packages'",634],"]",";",["T_WHITESPACE","\n            ",634],["T_VARIABLE","$node",635],["T_WHITESPACE"," ",635],"=",["T_WHITESPACE"," ",635],["T_NEW","new",635],["T_WHITESPACE"," ",635],["T_STRING","Mage_Connect_Structures_Node",635],"(",")",";",["T_WHITESPACE","\n            ",635],["T_VARIABLE","$nodes",636],"[",["T_VARIABLE","$key",636],"]",["T_WHITESPACE"," ",636],"=","&",["T_WHITESPACE"," ",636],["T_VARIABLE","$node",636],";",["T_WHITESPACE","\n            ",636],["T_UNSET","unset",637],"(",["T_VARIABLE","$data",637],"[",["T_CONSTANT_ENCAPSED_STRING","'packages'",637],"]",")",";",["T_WHITESPACE","\n            ",637],["T_VARIABLE","$node",638],["T_OBJECT_OPERATOR","->",638],["T_STRING","setData",638],"(",["T_VARIABLE","$data",638],")",";",["T_WHITESPACE","\n            ",638],["T_VARIABLE","$graph",639],["T_OBJECT_OPERATOR","->",639],["T_STRING","addNode",639],"(",["T_VARIABLE","$node",639],")",";",["T_WHITESPACE","\n            ",639],["T_UNSET","unset",640],"(",["T_VARIABLE","$node",640],")",";",["T_WHITESPACE","\n        ",640],"}",["T_WHITESPACE","\n\n        ",641],["T_IF","if",643],"(",["T_STRING","count",643],"(",["T_VARIABLE","$nodes",643],")",["T_WHITESPACE"," ",643],">",["T_WHITESPACE"," ",643],["T_LNUMBER","1",643],")",["T_WHITESPACE"," ",643],"{",["T_WHITESPACE","\n            ",643],["T_FOREACH","foreach",644],"(",["T_VARIABLE","$depsHash",644],["T_WHITESPACE"," ",644],["T_AS","as",644],["T_WHITESPACE"," ",644],["T_VARIABLE","$key",644],["T_DOUBLE_ARROW","=>",644],["T_VARIABLE","$data",644],")",["T_WHITESPACE"," ",644],"{",["T_WHITESPACE","\n                ",644],["T_VARIABLE","$packages",645],["T_WHITESPACE"," ",645],"=",["T_WHITESPACE"," ",645],["T_VARIABLE","$data",645],"[",["T_CONSTANT_ENCAPSED_STRING","'packages'",645],"]",";",["T_WHITESPACE","\n                ",645],["T_FOREACH","foreach",646],"(",["T_VARIABLE","$packages",646],["T_WHITESPACE"," ",646],["T_AS","as",646],["T_WHITESPACE"," ",646],["T_VARIABLE","$pdata",646],")",["T_WHITESPACE"," ",646],"{",["T_WHITESPACE","\n                    ",646],["T_VARIABLE","$pName",647],["T_WHITESPACE"," ",647],"=",["T_WHITESPACE"," ",647],["T_VARIABLE","$pdata",647],"[",["T_CONSTANT_ENCAPSED_STRING","'channel'",647],"]",["T_WHITESPACE"," ",647],".",["T_WHITESPACE"," ",647],["T_CONSTANT_ENCAPSED_STRING","\"\/\"",647],["T_WHITESPACE"," ",647],".",["T_WHITESPACE"," ",647],["T_VARIABLE","$pdata",647],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",647],"]",";",["T_WHITESPACE","\n                    ",647],["T_IF","if",648],"(",["T_ISSET","isset",648],"(",["T_VARIABLE","$nodes",648],"[",["T_VARIABLE","$key",648],"]",",",["T_WHITESPACE"," ",648],["T_VARIABLE","$nodes",648],"[",["T_VARIABLE","$pName",648],"]",")",")",["T_WHITESPACE"," ",648],"{",["T_WHITESPACE","\n                        ",648],["T_VARIABLE","$nodes",649],"[",["T_VARIABLE","$key",649],"]",["T_OBJECT_OPERATOR","->",649],["T_STRING","connectTo",649],"(",["T_VARIABLE","$nodes",649],"[",["T_VARIABLE","$pName",649],"]",")",";",["T_WHITESPACE","\n                    ",649],"}",["T_WHITESPACE","\n                ",650],"}",["T_WHITESPACE","\n            ",651],"}",["T_WHITESPACE","\n        ",652],"}",["T_WHITESPACE","\n        ",653],["T_VARIABLE","$result",654],["T_WHITESPACE"," ",654],"=",["T_WHITESPACE"," ",654],["T_VARIABLE","$graph",654],["T_OBJECT_OPERATOR","->",654],["T_STRING","topologicalSort",654],"(",")",";",["T_WHITESPACE","\n        ",654],["T_VARIABLE","$sortReverse",655],["T_WHITESPACE"," ",655],"?",["T_WHITESPACE"," ",655],["T_STRING","krsort",655],"(",["T_VARIABLE","$result",655],")",["T_WHITESPACE"," ",655],":",["T_WHITESPACE"," ",655],["T_STRING","ksort",655],"(",["T_VARIABLE","$result",655],")",";",["T_WHITESPACE","\n        ",655],["T_VARIABLE","$out",656],["T_WHITESPACE"," ",656],"=",["T_WHITESPACE"," ",656],["T_ARRAY","array",656],"(",")",";",["T_WHITESPACE","\n        ",656],["T_VARIABLE","$total",657],["T_WHITESPACE"," ",657],"=",["T_WHITESPACE"," ",657],["T_LNUMBER","0",657],";",["T_WHITESPACE","\n        ",657],["T_FOREACH","foreach",658],"(",["T_VARIABLE","$result",658],["T_WHITESPACE"," ",658],["T_AS","as",658],["T_WHITESPACE"," ",658],["T_VARIABLE","$order",658],["T_DOUBLE_ARROW","=>",658],["T_VARIABLE","$nodes",658],")",["T_WHITESPACE"," ",658],"{",["T_WHITESPACE","\n            ",658],["T_FOREACH","foreach",659],"(",["T_VARIABLE","$nodes",659],["T_WHITESPACE"," ",659],["T_AS","as",659],["T_WHITESPACE"," ",659],["T_VARIABLE","$n",659],")",["T_WHITESPACE"," ",659],"{",["T_WHITESPACE","\n                ",659],["T_VARIABLE","$out",660],"[","]",["T_WHITESPACE"," ",660],"=",["T_WHITESPACE"," ",660],["T_VARIABLE","$n",660],["T_OBJECT_OPERATOR","->",660],["T_STRING","getData",660],"(",")",";",["T_WHITESPACE","\n            ",660],"}",["T_WHITESPACE","\n        ",661],"}",["T_WHITESPACE","\n        ",662],["T_UNSET","unset",663],"(",["T_VARIABLE","$graph",663],",",["T_WHITESPACE"," ",663],["T_VARIABLE","$nodes",663],")",";",["T_WHITESPACE","\n        ",663],["T_RETURN","return",664],["T_WHITESPACE"," ",664],["T_VARIABLE","$out",664],";",["T_WHITESPACE","\n    ",664],"}",["T_WHITESPACE","\n",665],"}",["T_WHITESPACE","\n",666]]