[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Magento\n *\n * NOTICE OF LICENSE\n *\n * This source file is subject to the Open Software License (OSL 3.0)\n * that is bundled with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/opensource.org\/licenses\/osl-3.0.php\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@magento.com so we can send you a copy immediately.\n *\n * DISCLAIMER\n *\n * Do not edit or add to this file if you wish to upgrade Magento to newer\n * versions in the future. If you wish to customize Magento for your\n * needs please refer to http:\/\/www.magento.com for more information.\n *\n * @category    Mage\n * @package     Mage_Connect\n * @copyright  Copyright (c) 2006-2016 X.commerce, Inc. and affiliates (http:\/\/www.magento.com)\n * @license    http:\/\/opensource.org\/licenses\/osl-3.0.php  Open Software License (OSL 3.0)\n *\/",2],["T_WHITESPACE","\n\n",25],["T_FINAL","final",27],["T_WHITESPACE"," ",27],["T_CLASS","class",27],["T_WHITESPACE"," ",27],["T_STRING","Mage_Connect_Command_Remote",27],["T_WHITESPACE","\n",27],["T_EXTENDS","extends",28],["T_WHITESPACE"," ",28],["T_STRING","Mage_Connect_Command",28],["T_WHITESPACE","\n",28],"{",["T_WHITESPACE","\n\n    ",29],["T_DOC_COMMENT","\/**\n     * List-upgrades callback\n     * @param srting $command\n     * @param array $options\n     * @param array $params\n     * @return void\n     *\/",31],["T_WHITESPACE","\n    ",37],["T_PUBLIC","public",38],["T_WHITESPACE"," ",38],["T_FUNCTION","function",38],["T_WHITESPACE"," ",38],["T_STRING","doListUpgrades",38],"(",["T_VARIABLE","$command",38],",",["T_WHITESPACE"," ",38],["T_VARIABLE","$options",38],",",["T_WHITESPACE"," ",38],["T_VARIABLE","$params",38],")",["T_WHITESPACE","\n    ",38],"{",["T_WHITESPACE","\n\n        ",39],["T_VARIABLE","$this",41],["T_OBJECT_OPERATOR","->",41],["T_STRING","cleanupParams",41],"(",["T_VARIABLE","$params",41],")",";",["T_WHITESPACE","\n        ",41],["T_TRY","try",42],["T_WHITESPACE"," ",42],"{",["T_WHITESPACE","\n            ",42],["T_VARIABLE","$packager",43],["T_WHITESPACE"," ",43],"=",["T_WHITESPACE"," ",43],["T_NEW","new",43],["T_WHITESPACE"," ",43],["T_STRING","Mage_Connect_Packager",43],"(",")",";",["T_WHITESPACE","\n            ",43],["T_VARIABLE","$ftp",44],["T_WHITESPACE"," ",44],"=",["T_WHITESPACE"," ",44],["T_EMPTY","empty",44],"(",["T_VARIABLE","$options",44],"[",["T_CONSTANT_ENCAPSED_STRING","'ftp'",44],"]",")",["T_WHITESPACE"," ",44],"?",["T_WHITESPACE"," ",44],["T_STRING","false",44],["T_WHITESPACE"," ",44],":",["T_WHITESPACE"," ",44],["T_VARIABLE","$options",44],"[",["T_CONSTANT_ENCAPSED_STRING","'ftp'",44],"]",";",["T_WHITESPACE","\n            ",44],["T_IF","if",45],"(",["T_VARIABLE","$ftp",45],")",["T_WHITESPACE"," ",45],"{",["T_WHITESPACE","\n                ",45],["T_LIST","list",46],"(",["T_VARIABLE","$cache",46],",",["T_WHITESPACE"," ",46],["T_VARIABLE","$config",46],",",["T_WHITESPACE"," ",46],["T_VARIABLE","$ftpObj",46],")",["T_WHITESPACE"," ",46],"=",["T_WHITESPACE"," ",46],["T_VARIABLE","$packager",46],["T_OBJECT_OPERATOR","->",46],["T_STRING","getRemoteConf",46],"(",["T_VARIABLE","$ftp",46],")",";",["T_WHITESPACE","\n            ",46],"}",["T_WHITESPACE"," ",47],["T_ELSE","else",47],["T_WHITESPACE"," ",47],"{",["T_WHITESPACE","\n                ",47],["T_VARIABLE","$cache",48],["T_WHITESPACE"," ",48],"=",["T_WHITESPACE"," ",48],["T_VARIABLE","$this",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","getSconfig",48],"(",")",";",["T_WHITESPACE","\n                ",48],["T_VARIABLE","$config",49],["T_WHITESPACE"," ",49],"=",["T_WHITESPACE"," ",49],["T_VARIABLE","$this",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","config",49],"(",")",";",["T_WHITESPACE","\n            ",49],"}",["T_WHITESPACE","\n\n            ",50],["T_IF","if",52],"(","!",["T_EMPTY","empty",52],"(",["T_VARIABLE","$params",52],"[",["T_LNUMBER","0",52],"]",")",")",["T_WHITESPACE"," ",52],"{",["T_WHITESPACE","\n                ",52],["T_VARIABLE","$channels",53],["T_WHITESPACE"," ",53],"=",["T_WHITESPACE"," ",53],["T_VARIABLE","$params",53],"[",["T_LNUMBER","0",53],"]",";",["T_WHITESPACE","\n                ",53],["T_VARIABLE","$cache",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","getChannel",54],"(",["T_VARIABLE","$channels",54],")",";",["T_WHITESPACE","\n            ",54],"}",["T_WHITESPACE"," ",55],["T_ELSE","else",55],["T_WHITESPACE"," ",55],"{",["T_WHITESPACE","\n                ",55],["T_VARIABLE","$channels",56],["T_WHITESPACE"," ",56],"=",["T_WHITESPACE"," ",56],["T_VARIABLE","$cache",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","getChannelNames",56],"(",")",";",["T_WHITESPACE","\n            ",56],"}",["T_WHITESPACE","\n            ",57],["T_VARIABLE","$ups",58],["T_WHITESPACE"," ",58],"=",["T_WHITESPACE"," ",58],["T_VARIABLE","$packager",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","getUpgradesList",58],"(",["T_VARIABLE","$channels",58],",",["T_WHITESPACE"," ",58],["T_VARIABLE","$cache",58],",",["T_WHITESPACE"," ",58],["T_VARIABLE","$config",58],")",";",["T_WHITESPACE","\n\n            ",58],["T_IF","if",60],"(",["T_STRING","count",60],"(",["T_VARIABLE","$ups",60],")",")",["T_WHITESPACE"," ",60],"{",["T_WHITESPACE","\n                ",60],["T_VARIABLE","$data",61],["T_WHITESPACE"," ",61],"=",["T_WHITESPACE"," ",61],["T_ARRAY","array",61],"(",["T_VARIABLE","$command",61],["T_WHITESPACE"," ",61],["T_DOUBLE_ARROW","=>",61],["T_WHITESPACE"," ",61],["T_ARRAY","array",61],"(",["T_CONSTANT_ENCAPSED_STRING","'data'",61],["T_DOUBLE_ARROW","=>",61],["T_VARIABLE","$ups",61],")",")",";",["T_WHITESPACE","\n            ",61],"}",["T_WHITESPACE"," ",62],["T_ELSE","else",62],["T_WHITESPACE"," ",62],"{",["T_WHITESPACE","\n                ",62],["T_VARIABLE","$data",63],["T_WHITESPACE"," ",63],"=",["T_WHITESPACE"," ",63],["T_CONSTANT_ENCAPSED_STRING","\"No upgrades available\"",63],";",["T_WHITESPACE","\n            ",63],"}",["T_WHITESPACE","\n            ",64],["T_VARIABLE","$this",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","ui",65],"(",")",["T_OBJECT_OPERATOR","->",65],["T_STRING","output",65],"(",["T_VARIABLE","$data",65],")",";",["T_WHITESPACE","\n        ",65],"}",["T_WHITESPACE"," ",66],["T_CATCH","catch",66],"(",["T_STRING","Exception",66],["T_WHITESPACE"," ",66],["T_VARIABLE","$e",66],")",["T_WHITESPACE"," ",66],"{",["T_WHITESPACE","\n            ",66],["T_VARIABLE","$this",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","doError",67],"(",["T_VARIABLE","$command",67],",",["T_WHITESPACE"," ",67],["T_VARIABLE","$e",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","getMessage",67],"(",")",")",";",["T_WHITESPACE","\n        ",67],"}",["T_WHITESPACE","\n    ",68],"}",["T_WHITESPACE","\n\n\n    ",69],["T_DOC_COMMENT","\/**\n     * List available\n     * @param $command\n     * @param $options\n     * @param $params\n     * @return unknown_type\n     *\/",72],["T_WHITESPACE","\n\n    ",78],["T_PUBLIC","public",80],["T_WHITESPACE"," ",80],["T_FUNCTION","function",80],["T_WHITESPACE"," ",80],["T_STRING","doListAvailable",80],"(",["T_VARIABLE","$command",80],",",["T_WHITESPACE"," ",80],["T_VARIABLE","$options",80],",",["T_WHITESPACE"," ",80],["T_VARIABLE","$params",80],")",["T_WHITESPACE","\n    ",80],"{",["T_WHITESPACE","\n        ",81],["T_VARIABLE","$this",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","cleanupParams",82],"(",["T_VARIABLE","$params",82],")",";",["T_WHITESPACE","\n\n        ",82],["T_TRY","try",84],["T_WHITESPACE"," ",84],"{",["T_WHITESPACE","\n            ",84],["T_VARIABLE","$packager",85],["T_WHITESPACE"," ",85],"=",["T_WHITESPACE"," ",85],["T_NEW","new",85],["T_WHITESPACE"," ",85],["T_STRING","Mage_Connect_Packager",85],"(",")",";",["T_WHITESPACE","\n            ",85],["T_VARIABLE","$ftp",86],["T_WHITESPACE"," ",86],"=",["T_WHITESPACE"," ",86],["T_EMPTY","empty",86],"(",["T_VARIABLE","$options",86],"[",["T_CONSTANT_ENCAPSED_STRING","'ftp'",86],"]",")",["T_WHITESPACE"," ",86],"?",["T_WHITESPACE"," ",86],["T_STRING","false",86],["T_WHITESPACE"," ",86],":",["T_WHITESPACE"," ",86],["T_VARIABLE","$options",86],"[",["T_CONSTANT_ENCAPSED_STRING","'ftp'",86],"]",";",["T_WHITESPACE","\n            ",86],["T_IF","if",87],"(",["T_VARIABLE","$ftp",87],")",["T_WHITESPACE"," ",87],"{",["T_WHITESPACE","\n                ",87],["T_LIST","list",88],"(",["T_VARIABLE","$cache",88],",",["T_WHITESPACE"," ",88],["T_VARIABLE","$config",88],",",["T_WHITESPACE"," ",88],["T_VARIABLE","$ftpObj",88],")",["T_WHITESPACE"," ",88],"=",["T_WHITESPACE"," ",88],["T_VARIABLE","$packager",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","getRemoteConf",88],"(",["T_VARIABLE","$ftp",88],")",";",["T_WHITESPACE","\n            ",88],"}",["T_WHITESPACE"," ",89],["T_ELSE","else",89],["T_WHITESPACE"," ",89],"{",["T_WHITESPACE","\n                ",89],["T_VARIABLE","$cache",90],["T_WHITESPACE"," ",90],"=",["T_WHITESPACE"," ",90],["T_VARIABLE","$this",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","getSconfig",90],"(",")",";",["T_WHITESPACE","\n                ",90],["T_VARIABLE","$config",91],["T_WHITESPACE"," ",91],"=",["T_WHITESPACE"," ",91],["T_VARIABLE","$this",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","config",91],"(",")",";",["T_WHITESPACE","\n            ",91],"}",["T_WHITESPACE","\n\n            ",92],["T_IF","if",94],"(","!",["T_EMPTY","empty",94],"(",["T_VARIABLE","$params",94],"[",["T_LNUMBER","0",94],"]",")",")",["T_WHITESPACE"," ",94],"{",["T_WHITESPACE","\n                ",94],["T_VARIABLE","$channels",95],["T_WHITESPACE"," ",95],"=",["T_WHITESPACE"," ",95],["T_ARRAY","array",95],"(",["T_VARIABLE","$params",95],"[",["T_LNUMBER","0",95],"]",")",";",["T_WHITESPACE","\n                ",95],["T_VARIABLE","$cache",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","getChannel",96],"(",["T_VARIABLE","$channels",96],"[",["T_LNUMBER","0",96],"]",")",";",["T_WHITESPACE","\n            ",96],"}",["T_WHITESPACE"," ",97],["T_ELSE","else",97],["T_WHITESPACE"," ",97],"{",["T_WHITESPACE","\n                ",97],["T_VARIABLE","$channels",98],["T_WHITESPACE"," ",98],"=",["T_WHITESPACE","  ",98],["T_VARIABLE","$cache",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","getChannelNames",98],"(",")",";",["T_WHITESPACE","\n            ",98],"}",["T_WHITESPACE","\n            \n            \n\n            ",99],["T_VARIABLE","$packs",103],["T_WHITESPACE"," ",103],"=",["T_WHITESPACE"," ",103],["T_ARRAY","array",103],"(",")",";",["T_WHITESPACE","\n            ",103],["T_FOREACH","foreach",104],["T_WHITESPACE"," ",104],"(",["T_VARIABLE","$channels",104],["T_WHITESPACE"," ",104],["T_AS","as",104],["T_WHITESPACE"," ",104],["T_VARIABLE","$channel",104],")",["T_WHITESPACE"," ",104],"{",["T_WHITESPACE","\n                ",104],["T_TRY","try",105],["T_WHITESPACE"," ",105],"{",["T_WHITESPACE","\n                    ",105],["T_VARIABLE","$chan",106],["T_WHITESPACE"," ",106],"=",["T_WHITESPACE"," ",106],["T_VARIABLE","$cache",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","getChannel",106],"(",["T_VARIABLE","$channel",106],")",";",["T_WHITESPACE","\n                    ",106],["T_VARIABLE","$uri",107],["T_WHITESPACE"," ",107],"=",["T_WHITESPACE"," ",107],["T_VARIABLE","$cache",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","chanUrl",107],"(",["T_VARIABLE","$channel",107],")",";",["T_WHITESPACE","\n\n                    ",107],["T_VARIABLE","$rest",109],["T_WHITESPACE"," ",109],"=",["T_WHITESPACE"," ",109],["T_VARIABLE","$this",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","rest",109],"(",")",";",["T_WHITESPACE","\n                    ",109],["T_VARIABLE","$rest",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","setChannel",110],"(",["T_VARIABLE","$uri",110],")",";",["T_WHITESPACE","\n\n                    ",110],["T_VARIABLE","$packages",112],["T_WHITESPACE"," ",112],"=",["T_WHITESPACE"," ",112],["T_VARIABLE","$rest",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","getPackages",112],"(",")",";",["T_WHITESPACE","\n                    ",112],["T_IF","if",113],"(","!",["T_STRING","count",113],"(",["T_VARIABLE","$packages",113],")",")",["T_WHITESPACE"," ",113],"{",["T_WHITESPACE","\n                        ",113],["T_VARIABLE","$this",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","ui",114],"(",")",["T_OBJECT_OPERATOR","->",114],["T_STRING","output",114],"(","\"",["T_ENCAPSED_AND_WHITESPACE","Channel '",114],["T_CURLY_OPEN","{",114],["T_VARIABLE","$channel",114],"}",["T_ENCAPSED_AND_WHITESPACE","' has no packages",114],"\"",")",";",["T_WHITESPACE","\n                        ",114],["T_CONTINUE","continue",115],";",["T_WHITESPACE","\n                    ",115],"}",["T_WHITESPACE","\n                    ",116],["T_VARIABLE","$packs",117],"[",["T_VARIABLE","$channel",117],"]","[",["T_CONSTANT_ENCAPSED_STRING","'title'",117],"]",["T_WHITESPACE"," ",117],"=",["T_WHITESPACE"," ",117],["T_CONSTANT_ENCAPSED_STRING","\"Packages for channel '\"",117],".",["T_VARIABLE","$channel",117],".",["T_CONSTANT_ENCAPSED_STRING","\"':\"",117],";",["T_WHITESPACE","\n                    ",117],["T_FOREACH","foreach",118],"(",["T_VARIABLE","$packages",118],["T_WHITESPACE"," ",118],["T_AS","as",118],["T_WHITESPACE"," ",118],["T_VARIABLE","$p",118],")",["T_WHITESPACE"," ",118],"{",["T_WHITESPACE","\n                        ",118],["T_VARIABLE","$packageName",119],["T_WHITESPACE"," ",119],"=",["T_WHITESPACE"," ",119],["T_VARIABLE","$p",119],"[",["T_CONSTANT_ENCAPSED_STRING","'n'",119],"]",";",["T_WHITESPACE","\n                        ",119],["T_VARIABLE","$releases",120],["T_WHITESPACE"," ",120],"=",["T_WHITESPACE"," ",120],["T_ARRAY","array",120],"(",")",";",["T_WHITESPACE","\n                        ",120],["T_FOREACH","foreach",121],"(",["T_VARIABLE","$p",121],"[",["T_CONSTANT_ENCAPSED_STRING","'r'",121],"]",["T_WHITESPACE"," ",121],["T_AS","as",121],["T_WHITESPACE"," ",121],["T_VARIABLE","$k",121],["T_DOUBLE_ARROW","=>",121],["T_VARIABLE","$r",121],")",["T_WHITESPACE"," ",121],"{",["T_WHITESPACE","\n                            ",121],["T_VARIABLE","$releases",122],"[",["T_VARIABLE","$r",122],"]",["T_WHITESPACE"," ",122],"=",["T_WHITESPACE"," ",122],["T_VARIABLE","$rest",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","shortStateToLong",122],"(",["T_VARIABLE","$k",122],")",";",["T_WHITESPACE","\n                        ",122],"}",["T_WHITESPACE","\n                        ",123],["T_VARIABLE","$packs",124],"[",["T_VARIABLE","$channel",124],"]","[",["T_CONSTANT_ENCAPSED_STRING","'packages'",124],"]","[",["T_VARIABLE","$packageName",124],"]","[",["T_CONSTANT_ENCAPSED_STRING","'releases'",124],"]",["T_WHITESPACE"," ",124],"=",["T_WHITESPACE"," ",124],["T_VARIABLE","$releases",124],";",["T_WHITESPACE","\n                    ",124],"}",["T_WHITESPACE","\n                ",125],"}",["T_WHITESPACE"," ",126],["T_CATCH","catch",126],["T_WHITESPACE"," ",126],"(",["T_STRING","Exception",126],["T_WHITESPACE"," ",126],["T_VARIABLE","$e",126],")",["T_WHITESPACE"," ",126],"{",["T_WHITESPACE","\n                    ",126],["T_VARIABLE","$this",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","doError",127],"(",["T_VARIABLE","$command",127],",",["T_WHITESPACE"," ",127],["T_VARIABLE","$e",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","getMessage",127],"(",")",")",";",["T_WHITESPACE","\n                ",127],"}",["T_WHITESPACE","\n            ",128],"}",["T_WHITESPACE","\n            ",129],["T_VARIABLE","$dataOut",130],["T_WHITESPACE"," ",130],"=",["T_WHITESPACE"," ",130],["T_ARRAY","array",130],"(",")",";",["T_WHITESPACE","\n            ",130],["T_VARIABLE","$dataOut",131],"[",["T_VARIABLE","$command",131],"]","=",["T_WHITESPACE"," ",131],["T_ARRAY","array",131],"(",["T_CONSTANT_ENCAPSED_STRING","'data'",131],["T_DOUBLE_ARROW","=>",131],["T_VARIABLE","$packs",131],")",";",["T_WHITESPACE","\n            ",131],["T_VARIABLE","$this",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","ui",132],"(",")",["T_OBJECT_OPERATOR","->",132],["T_STRING","output",132],"(",["T_VARIABLE","$dataOut",132],")",";",["T_WHITESPACE","\n\n        ",132],"}",["T_WHITESPACE"," ",134],["T_CATCH","catch",134],"(",["T_STRING","Exception",134],["T_WHITESPACE"," ",134],["T_VARIABLE","$e",134],")",["T_WHITESPACE"," ",134],"{",["T_WHITESPACE","\n            ",134],["T_VARIABLE","$this",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","doError",135],"(",["T_VARIABLE","$command",135],",",["T_WHITESPACE"," ",135],["T_VARIABLE","$e",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","getMessage",135],"(",")",")",";",["T_WHITESPACE","\n        ",135],"}",["T_WHITESPACE","\n         \n    ",136],"}",["T_WHITESPACE","\n\n    ",138],["T_DOC_COMMENT","\/**\n     * Download command callback\n     *\n     * @param string $command\n     * @param array $options\n     * @param array $params\n     * @return void\n     *\/",140],["T_WHITESPACE","\n    ",147],["T_PUBLIC","public",148],["T_WHITESPACE"," ",148],["T_FUNCTION","function",148],["T_WHITESPACE"," ",148],["T_STRING","doDownload",148],"(",["T_VARIABLE","$command",148],",",["T_WHITESPACE"," ",148],["T_VARIABLE","$options",148],",",["T_WHITESPACE"," ",148],["T_VARIABLE","$params",148],")",["T_WHITESPACE","\n    ",148],"{",["T_WHITESPACE","\n        ",149],["T_VARIABLE","$this",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","cleanupParams",150],"(",["T_VARIABLE","$params",150],")",";",["T_WHITESPACE","\n        ",150],["T_COMMENT","\/\/$this->splitPackageArgs($params);\n",151],["T_WHITESPACE","        ",152],["T_TRY","try",152],["T_WHITESPACE"," ",152],"{",["T_WHITESPACE","\n            ",152],["T_IF","if",153],"(",["T_STRING","count",153],"(",["T_VARIABLE","$params",153],")",["T_WHITESPACE"," ",153],"<",["T_WHITESPACE"," ",153],["T_LNUMBER","2",153],")",["T_WHITESPACE"," ",153],"{",["T_WHITESPACE","\n                ",153],["T_THROW","throw",154],["T_WHITESPACE"," ",154],["T_NEW","new",154],["T_WHITESPACE"," ",154],["T_STRING","Exception",154],"(",["T_CONSTANT_ENCAPSED_STRING","\"Arguments should be: channel Package\"",154],")",";",["T_WHITESPACE","\n            ",154],"}",["T_WHITESPACE","\n\n            ",155],["T_VARIABLE","$channel",157],["T_WHITESPACE"," ",157],"=",["T_WHITESPACE"," ",157],["T_VARIABLE","$params",157],"[",["T_LNUMBER","0",157],"]",";",["T_WHITESPACE","\n            ",157],["T_VARIABLE","$package",158],["T_WHITESPACE"," ",158],"=",["T_WHITESPACE"," ",158],["T_VARIABLE","$params",158],"[",["T_LNUMBER","1",158],"]",";",["T_WHITESPACE","\n\n            ",158],["T_VARIABLE","$packager",160],["T_WHITESPACE"," ",160],"=",["T_WHITESPACE"," ",160],["T_VARIABLE","$this",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","getPackager",160],"(",")",";",["T_WHITESPACE","\n            ",160],["T_VARIABLE","$ftp",161],["T_WHITESPACE"," ",161],"=",["T_WHITESPACE"," ",161],["T_EMPTY","empty",161],"(",["T_VARIABLE","$options",161],"[",["T_CONSTANT_ENCAPSED_STRING","'ftp'",161],"]",")",["T_WHITESPACE"," ",161],"?",["T_WHITESPACE"," ",161],["T_STRING","false",161],["T_WHITESPACE"," ",161],":",["T_WHITESPACE"," ",161],["T_VARIABLE","$options",161],"[",["T_CONSTANT_ENCAPSED_STRING","'ftp'",161],"]",";",["T_WHITESPACE","\n            ",161],["T_IF","if",162],"(",["T_VARIABLE","$ftp",162],")",["T_WHITESPACE"," ",162],"{",["T_WHITESPACE","\n                ",162],["T_LIST","list",163],"(",["T_VARIABLE","$cache",163],",",["T_WHITESPACE"," ",163],["T_VARIABLE","$config",163],",",["T_WHITESPACE"," ",163],["T_VARIABLE","$ftpObj",163],")",["T_WHITESPACE"," ",163],"=",["T_WHITESPACE"," ",163],["T_VARIABLE","$packager",163],["T_OBJECT_OPERATOR","->",163],["T_STRING","getRemoteConf",163],"(",["T_VARIABLE","$ftp",163],")",";",["T_WHITESPACE","\n            ",163],"}",["T_WHITESPACE"," ",164],["T_ELSE","else",164],["T_WHITESPACE"," ",164],"{",["T_WHITESPACE","\n                ",164],["T_VARIABLE","$cache",165],["T_WHITESPACE"," ",165],"=",["T_WHITESPACE"," ",165],["T_VARIABLE","$this",165],["T_OBJECT_OPERATOR","->",165],["T_STRING","getSconfig",165],"(",")",";",["T_WHITESPACE","\n                ",165],["T_VARIABLE","$config",166],["T_WHITESPACE"," ",166],"=",["T_WHITESPACE"," ",166],["T_VARIABLE","$this",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","config",166],"(",")",";",["T_WHITESPACE","\n            ",166],"}",["T_WHITESPACE","\n\n            ",167],["T_VARIABLE","$chan",169],["T_WHITESPACE"," ",169],"=",["T_WHITESPACE"," ",169],["T_VARIABLE","$cache",169],["T_OBJECT_OPERATOR","->",169],["T_STRING","getChannel",169],"(",["T_VARIABLE","$channel",169],")",";",["T_WHITESPACE","\n            ",169],["T_VARIABLE","$uri",170],["T_WHITESPACE"," ",170],"=",["T_WHITESPACE"," ",170],["T_VARIABLE","$cache",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","chanUrl",170],"(",["T_VARIABLE","$channel",170],")",";",["T_WHITESPACE","\n\n            ",170],["T_VARIABLE","$rest",172],["T_WHITESPACE"," ",172],"=",["T_WHITESPACE"," ",172],["T_VARIABLE","$this",172],["T_OBJECT_OPERATOR","->",172],["T_STRING","rest",172],"(",")",";",["T_WHITESPACE","\n            ",172],["T_VARIABLE","$rest",173],["T_OBJECT_OPERATOR","->",173],["T_STRING","setChannel",173],"(",["T_VARIABLE","$uri",173],")",";",["T_WHITESPACE","\n            ",173],["T_VARIABLE","$c",174],["T_WHITESPACE"," ",174],"=",["T_WHITESPACE"," ",174],["T_VARIABLE","$rest",174],["T_OBJECT_OPERATOR","->",174],["T_STRING","getReleases",174],"(",["T_VARIABLE","$package",174],")",";",["T_WHITESPACE","\n            ",174],["T_IF","if",175],"(","!",["T_STRING","count",175],"(",["T_VARIABLE","$c",175],")",")",["T_WHITESPACE"," ",175],"{",["T_WHITESPACE","\n                ",175],["T_THROW","throw",176],["T_WHITESPACE"," ",176],["T_NEW","new",176],["T_WHITESPACE"," ",176],["T_STRING","Exception",176],"(",["T_CONSTANT_ENCAPSED_STRING","\"No releases found for package\"",176],")",";",["T_WHITESPACE","\n            ",176],"}",["T_WHITESPACE","\n            ",177],["T_VARIABLE","$version",178],["T_WHITESPACE"," ",178],"=",["T_WHITESPACE"," ",178],["T_VARIABLE","$cache",178],["T_OBJECT_OPERATOR","->",178],["T_STRING","detectVersionFromRestArray",178],"(",["T_VARIABLE","$c",178],")",";",["T_WHITESPACE","\n            ",178],["T_VARIABLE","$dir",179],["T_WHITESPACE"," ",179],"=",["T_WHITESPACE"," ",179],["T_VARIABLE","$config",179],["T_OBJECT_OPERATOR","->",179],["T_STRING","getChannelCacheDir",179],"(",["T_VARIABLE","$channel",179],")",";",["T_WHITESPACE","\n            ",179],["T_VARIABLE","$file",180],["T_WHITESPACE"," ",180],"=",["T_WHITESPACE"," ",180],["T_VARIABLE","$dir",180],".",["T_STRING","DIRECTORY_SEPARATOR",180],".",["T_VARIABLE","$package",180],".",["T_CONSTANT_ENCAPSED_STRING","\"-\"",180],".",["T_VARIABLE","$version",180],".",["T_CONSTANT_ENCAPSED_STRING","\".tgz\"",180],";",["T_WHITESPACE","\n            ",180],["T_VARIABLE","$rest",181],["T_OBJECT_OPERATOR","->",181],["T_STRING","downloadPackageFileOfRelease",181],"(",["T_VARIABLE","$package",181],",",["T_WHITESPACE"," ",181],["T_VARIABLE","$version",181],",",["T_WHITESPACE"," ",181],["T_VARIABLE","$file",181],")",";",["T_WHITESPACE","\n            ",181],["T_IF","if",182],"(",["T_VARIABLE","$ftp",182],")",["T_WHITESPACE"," ",182],"{",["T_WHITESPACE","\n                ",182],"@",["T_STRING","unlink",183],"(",["T_VARIABLE","$config",183],["T_OBJECT_OPERATOR","->",183],["T_STRING","getFilename",183],"(",")",")",";",["T_WHITESPACE","\n                ",183],"@",["T_STRING","unlink",184],"(",["T_VARIABLE","$cache",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","getFilename",184],"(",")",")",";",["T_WHITESPACE","\n            ",184],"}",["T_WHITESPACE","\n            ",185],["T_VARIABLE","$this",186],["T_OBJECT_OPERATOR","->",186],["T_STRING","ui",186],"(",")",["T_OBJECT_OPERATOR","->",186],["T_STRING","output",186],"(",["T_CONSTANT_ENCAPSED_STRING","\"Saved to: \"",186],".",["T_WHITESPACE"," ",186],["T_VARIABLE","$file",186],")",";",["T_WHITESPACE","\n        ",186],"}",["T_WHITESPACE"," ",187],["T_CATCH","catch",187],["T_WHITESPACE"," ",187],"(",["T_STRING","Exception",187],["T_WHITESPACE"," ",187],["T_VARIABLE","$e",187],")",["T_WHITESPACE"," ",187],"{",["T_WHITESPACE","\n            ",187],["T_IF","if",188],"(",["T_VARIABLE","$ftp",188],")",["T_WHITESPACE"," ",188],"{",["T_WHITESPACE","\n                ",188],"@",["T_STRING","unlink",189],"(",["T_VARIABLE","$config",189],["T_OBJECT_OPERATOR","->",189],["T_STRING","getFilename",189],"(",")",")",";",["T_WHITESPACE","\n                ",189],"@",["T_STRING","unlink",190],"(",["T_VARIABLE","$cache",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","getFilename",190],"(",")",")",";",["T_WHITESPACE","\n            ",190],"}",["T_WHITESPACE","\n            ",191],["T_VARIABLE","$this",192],["T_OBJECT_OPERATOR","->",192],["T_STRING","doError",192],"(",["T_VARIABLE","$command",192],",",["T_WHITESPACE"," ",192],["T_VARIABLE","$e",192],["T_OBJECT_OPERATOR","->",192],["T_STRING","getMessage",192],"(",")",")",";",["T_WHITESPACE","\n        ",192],"}",["T_WHITESPACE","\n    ",193],"}",["T_WHITESPACE","\n\n    ",194],["T_DOC_COMMENT","\/**\n     * Clear cache command callback\n     * @param string $command\n     * @param array $options\n     * @param array $params\n     * @return void\n     *\/",196],["T_WHITESPACE","\n    ",202],["T_PUBLIC","public",203],["T_WHITESPACE"," ",203],["T_FUNCTION","function",203],["T_WHITESPACE"," ",203],["T_STRING","doClearCache",203],"(",["T_VARIABLE","$command",203],",",["T_WHITESPACE"," ",203],["T_VARIABLE","$options",203],",",["T_WHITESPACE"," ",203],["T_VARIABLE","$params",203],")",["T_WHITESPACE","\n    ",203],"{",["T_WHITESPACE","\n        ",204],["T_VARIABLE","$this",205],["T_OBJECT_OPERATOR","->",205],["T_STRING","cleanupParams",205],"(",["T_VARIABLE","$params",205],")",";",["T_WHITESPACE","\n        ",205],["T_TRY","try",206],["T_WHITESPACE"," ",206],"{",["T_WHITESPACE","\n            ",206],["T_VARIABLE","$packager",207],["T_WHITESPACE"," ",207],"=",["T_WHITESPACE"," ",207],["T_NEW","new",207],["T_WHITESPACE"," ",207],["T_STRING","Mage_Connect_Packager",207],"(",")",";",["T_WHITESPACE","\n            ",207],["T_VARIABLE","$ftp",208],["T_WHITESPACE"," ",208],"=",["T_WHITESPACE"," ",208],["T_EMPTY","empty",208],"(",["T_VARIABLE","$options",208],"[",["T_CONSTANT_ENCAPSED_STRING","'ftp'",208],"]",")",["T_WHITESPACE"," ",208],"?",["T_WHITESPACE"," ",208],["T_STRING","false",208],["T_WHITESPACE"," ",208],":",["T_WHITESPACE"," ",208],["T_VARIABLE","$options",208],"[",["T_CONSTANT_ENCAPSED_STRING","'ftp'",208],"]",";",["T_WHITESPACE","\n            ",208],["T_IF","if",209],"(",["T_VARIABLE","$ftp",209],")",["T_WHITESPACE"," ",209],"{",["T_WHITESPACE","\n                ",209],["T_LIST","list",210],"(",["T_VARIABLE","$cache",210],",",["T_WHITESPACE"," ",210],["T_VARIABLE","$ftpObj",210],")",["T_WHITESPACE"," ",210],"=",["T_WHITESPACE"," ",210],["T_VARIABLE","$packager",210],["T_OBJECT_OPERATOR","->",210],["T_STRING","getRemoteCache",210],"(",["T_VARIABLE","$ftp",210],")",";",["T_WHITESPACE","\n                ",210],["T_VARIABLE","$cache",211],["T_OBJECT_OPERATOR","->",211],["T_STRING","clear",211],"(",")",";",["T_WHITESPACE","\n                ",211],["T_VARIABLE","$packager",212],["T_OBJECT_OPERATOR","->",212],["T_STRING","writeToRemoteCache",212],"(",["T_VARIABLE","$cache",212],",",["T_WHITESPACE"," ",212],["T_VARIABLE","$ftpObj",212],")",";",["T_WHITESPACE","              \n            ",212],"}",["T_WHITESPACE"," ",213],["T_ELSE","else",213],["T_WHITESPACE"," ",213],"{",["T_WHITESPACE","\n                ",213],["T_VARIABLE","$cache",214],["T_WHITESPACE"," ",214],"=",["T_WHITESPACE"," ",214],["T_VARIABLE","$this",214],["T_OBJECT_OPERATOR","->",214],["T_STRING","getSconfig",214],"(",")",";",["T_WHITESPACE","\n                ",214],["T_VARIABLE","$cache",215],["T_OBJECT_OPERATOR","->",215],["T_STRING","clear",215],"(",")",";",["T_WHITESPACE","\n            ",215],"}",["T_WHITESPACE","\n        ",216],"}",["T_WHITESPACE"," ",217],["T_CATCH","catch",217],["T_WHITESPACE"," ",217],"(",["T_STRING","Exception",217],["T_WHITESPACE"," ",217],["T_VARIABLE","$e",217],")",["T_WHITESPACE"," ",217],"{",["T_WHITESPACE","\n             ",217],["T_VARIABLE","$this",218],["T_OBJECT_OPERATOR","->",218],["T_STRING","doError",218],"(",["T_VARIABLE","$command",218],",",["T_WHITESPACE"," ",218],["T_VARIABLE","$e",218],["T_OBJECT_OPERATOR","->",218],["T_STRING","getMessage",218],"(",")",")",";",["T_WHITESPACE","\n        ",218],"}",["T_WHITESPACE","\n    ",219],"}",["T_WHITESPACE","\n\n\n\n\n\n",220],"}",["T_WHITESPACE","\n",226]]