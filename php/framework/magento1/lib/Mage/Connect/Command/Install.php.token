[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Magento\n *\n * NOTICE OF LICENSE\n *\n * This source file is subject to the Open Software License (OSL 3.0)\n * that is bundled with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/opensource.org\/licenses\/osl-3.0.php\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@magento.com so we can send you a copy immediately.\n *\n * DISCLAIMER\n *\n * Do not edit or add to this file if you wish to upgrade Magento to newer\n * versions in the future. If you wish to customize Magento for your\n * needs please refer to http:\/\/www.magento.com for more information.\n *\n * @category    Mage\n * @package     Mage_Connect\n * @copyright  Copyright (c) 2006-2016 X.commerce, Inc. and affiliates (http:\/\/www.magento.com)\n * @license    http:\/\/opensource.org\/licenses\/osl-3.0.php  Open Software License (OSL 3.0)\n *\/",2],["T_WHITESPACE","\n\n\n",25],["T_FINAL","final",28],["T_WHITESPACE"," ",28],["T_CLASS","class",28],["T_WHITESPACE"," ",28],["T_STRING","Mage_Connect_Command_Install",28],["T_WHITESPACE","\n",28],["T_EXTENDS","extends",29],["T_WHITESPACE"," ",29],["T_STRING","Mage_Connect_Command",29],["T_WHITESPACE","\n",29],"{",["T_WHITESPACE","\n\n    ",30],["T_DOC_COMMENT","\/**\n     * Install action callback\n     * @param string $command\n     * @param array $options\n     * @param array $params\n     * @return void\n     *\/",32],["T_WHITESPACE","\n    ",38],["T_PUBLIC","public",39],["T_WHITESPACE"," ",39],["T_FUNCTION","function",39],["T_WHITESPACE"," ",39],["T_STRING","doInstall",39],"(",["T_VARIABLE","$command",39],",",["T_WHITESPACE"," ",39],["T_VARIABLE","$options",39],",",["T_WHITESPACE"," ",39],["T_VARIABLE","$params",39],",",["T_WHITESPACE"," ",39],["T_VARIABLE","$objects",39],["T_WHITESPACE"," ",39],"=",["T_WHITESPACE"," ",39],["T_ARRAY","array",39],"(",")",")",["T_WHITESPACE","\n    ",39],"{",["T_WHITESPACE","\n        ",40],["T_VARIABLE","$this",41],["T_OBJECT_OPERATOR","->",41],["T_STRING","cleanupParams",41],"(",["T_VARIABLE","$params",41],")",";",["T_WHITESPACE","\n\n        ",41],["T_VARIABLE","$installFileMode",43],["T_WHITESPACE"," ",43],"=",["T_WHITESPACE"," ",43],["T_VARIABLE","$command",43],["T_WHITESPACE"," ",43],["T_IS_IDENTICAL","===",43],["T_WHITESPACE"," ",43],["T_CONSTANT_ENCAPSED_STRING","'install-file'",43],";",["T_WHITESPACE","\n\n\n         \n\n        ",43],["T_TRY","try",48],["T_WHITESPACE"," ",48],"{",["T_WHITESPACE","\n            ",48],["T_VARIABLE","$packager",49],["T_WHITESPACE"," ",49],"=",["T_WHITESPACE"," ",49],["T_VARIABLE","$this",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","getPackager",49],"(",")",";",["T_WHITESPACE","\n            ",49],["T_VARIABLE","$forceMode",50],["T_WHITESPACE"," ",50],"=",["T_WHITESPACE"," ",50],["T_ISSET","isset",50],"(",["T_VARIABLE","$options",50],"[",["T_CONSTANT_ENCAPSED_STRING","'force'",50],"]",")",";",["T_WHITESPACE","\n            ",50],["T_VARIABLE","$upgradeAllMode",51],["T_WHITESPACE"," ",51],"=",["T_WHITESPACE"," ",51],["T_VARIABLE","$command",51],["T_WHITESPACE"," ",51],["T_IS_EQUAL","==",51],["T_WHITESPACE"," ",51],["T_CONSTANT_ENCAPSED_STRING","'upgrade-all'",51],";",["T_WHITESPACE","\n            ",51],["T_VARIABLE","$upgradeMode",52],["T_WHITESPACE"," ",52],"=",["T_WHITESPACE"," ",52],["T_VARIABLE","$command",52],["T_WHITESPACE"," ",52],["T_IS_EQUAL","==",52],["T_WHITESPACE"," ",52],["T_CONSTANT_ENCAPSED_STRING","'upgrade'",52],["T_WHITESPACE"," ",52],["T_BOOLEAN_OR","||",52],["T_WHITESPACE"," ",52],["T_VARIABLE","$command",52],["T_WHITESPACE"," ",52],["T_IS_EQUAL","==",52],["T_WHITESPACE"," ",52],["T_CONSTANT_ENCAPSED_STRING","'upgrade-all'",52],";",["T_WHITESPACE","\n            ",52],["T_VARIABLE","$noFilesInstall",53],["T_WHITESPACE"," ",53],"=",["T_WHITESPACE"," ",53],["T_ISSET","isset",53],"(",["T_VARIABLE","$options",53],"[",["T_CONSTANT_ENCAPSED_STRING","'nofiles'",53],"]",")",";",["T_WHITESPACE","\n            ",53],["T_VARIABLE","$withDepsMode",54],["T_WHITESPACE"," ",54],"=",["T_WHITESPACE"," ",54],"!",["T_ISSET","isset",54],"(",["T_VARIABLE","$options",54],"[",["T_CONSTANT_ENCAPSED_STRING","'nodeps'",54],"]",")",";",["T_WHITESPACE","\n            ",54],["T_VARIABLE","$ignoreModifiedMode",55],["T_WHITESPACE"," ",55],"=",["T_WHITESPACE"," ",55],["T_STRING","true",55],["T_WHITESPACE"," ",55],["T_BOOLEAN_OR","||",55],["T_WHITESPACE"," ",55],"!",["T_ISSET","isset",55],"(",["T_VARIABLE","$options",55],"[",["T_CONSTANT_ENCAPSED_STRING","'ignorelocalmodification'",55],"]",")",";",["T_WHITESPACE","\n\n            ",55],["T_VARIABLE","$rest",57],["T_WHITESPACE"," ",57],"=",["T_WHITESPACE"," ",57],["T_VARIABLE","$this",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","rest",57],"(",")",";",["T_WHITESPACE","\n            ",57],["T_VARIABLE","$ftp",58],["T_WHITESPACE"," ",58],"=",["T_WHITESPACE"," ",58],["T_EMPTY","empty",58],"(",["T_VARIABLE","$options",58],"[",["T_CONSTANT_ENCAPSED_STRING","'ftp'",58],"]",")",["T_WHITESPACE"," ",58],"?",["T_WHITESPACE"," ",58],["T_STRING","false",58],["T_WHITESPACE"," ",58],":",["T_WHITESPACE"," ",58],["T_VARIABLE","$options",58],"[",["T_CONSTANT_ENCAPSED_STRING","'ftp'",58],"]",";",["T_WHITESPACE","\n            ",58],["T_IF","if",59],"(",["T_VARIABLE","$ftp",59],")",["T_WHITESPACE"," ",59],"{",["T_WHITESPACE","\n                ",59],["T_LIST","list",60],"(",["T_VARIABLE","$cache",60],",",["T_WHITESPACE"," ",60],["T_VARIABLE","$config",60],",",["T_WHITESPACE"," ",60],["T_VARIABLE","$ftpObj",60],")",["T_WHITESPACE"," ",60],"=",["T_WHITESPACE"," ",60],["T_VARIABLE","$packager",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","getRemoteConf",60],"(",["T_VARIABLE","$ftp",60],")",";",["T_WHITESPACE","\n            ",60],"}",["T_WHITESPACE"," ",61],["T_ELSE","else",61],["T_WHITESPACE"," ",61],"{",["T_WHITESPACE","\n                ",61],["T_VARIABLE","$config",62],["T_WHITESPACE"," ",62],"=",["T_WHITESPACE"," ",62],["T_VARIABLE","$this",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","config",62],"(",")",";",["T_WHITESPACE","\n                ",62],["T_VARIABLE","$cache",63],["T_WHITESPACE"," ",63],"=",["T_WHITESPACE"," ",63],["T_VARIABLE","$this",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","getSconfig",63],"(",")",";",["T_WHITESPACE","\n            ",63],"}",["T_WHITESPACE","\n            ",64],["T_IF","if",65],"(",["T_VARIABLE","$installFileMode",65],")",["T_WHITESPACE"," ",65],"{",["T_WHITESPACE","\n                ",65],["T_IF","if",66],"(",["T_STRING","count",66],"(",["T_VARIABLE","$params",66],")",["T_WHITESPACE"," ",66],"<",["T_WHITESPACE"," ",66],["T_LNUMBER","1",66],")",["T_WHITESPACE"," ",66],"{",["T_WHITESPACE","\n                    ",66],["T_THROW","throw",67],["T_WHITESPACE"," ",67],["T_NEW","new",67],["T_WHITESPACE"," ",67],["T_STRING","Exception",67],"(",["T_CONSTANT_ENCAPSED_STRING","\"Argument should be: filename\"",67],")",";",["T_WHITESPACE","\n                ",67],"}",["T_WHITESPACE","\n                ",68],["T_VARIABLE","$filename",69],["T_WHITESPACE"," ",69],"=",["T_WHITESPACE"," ",69],["T_VARIABLE","$params",69],"[",["T_LNUMBER","0",69],"]",";",["T_WHITESPACE","\n                ",69],["T_IF","if",70],"(","!","@",["T_STRING","file_exists",70],"(",["T_VARIABLE","$filename",70],")",")",["T_WHITESPACE"," ",70],"{",["T_WHITESPACE","\n                    ",70],["T_THROW","throw",71],["T_WHITESPACE"," ",71],["T_NEW","new",71],["T_WHITESPACE"," ",71],["T_STRING","Exception",71],"(","\"",["T_ENCAPSED_AND_WHITESPACE","File '",71],["T_CURLY_OPEN","{",71],["T_VARIABLE","$filename",71],"}",["T_ENCAPSED_AND_WHITESPACE","' not found",71],"\"",")",";",["T_WHITESPACE","\n                ",71],"}",["T_WHITESPACE","\n                ",72],["T_IF","if",73],"(","!","@",["T_STRING","is_readable",73],"(",["T_VARIABLE","$filename",73],")",")",["T_WHITESPACE"," ",73],"{",["T_WHITESPACE","\n                    ",73],["T_THROW","throw",74],["T_WHITESPACE"," ",74],["T_NEW","new",74],["T_WHITESPACE"," ",74],["T_STRING","Exception",74],"(","\"",["T_ENCAPSED_AND_WHITESPACE","File '",74],["T_CURLY_OPEN","{",74],["T_VARIABLE","$filename",74],"}",["T_ENCAPSED_AND_WHITESPACE","' is not readable",74],"\"",")",";",["T_WHITESPACE","\n                ",74],"}",["T_WHITESPACE","\n\n                ",75],["T_VARIABLE","$package",77],["T_WHITESPACE"," ",77],"=",["T_WHITESPACE"," ",77],["T_NEW","new",77],["T_WHITESPACE"," ",77],["T_STRING","Mage_Connect_Package",77],"(",["T_VARIABLE","$filename",77],")",";",["T_WHITESPACE","\n                ",77],["T_VARIABLE","$package",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","validate",78],"(",")",";",["T_WHITESPACE","\n                ",78],["T_VARIABLE","$errors",79],["T_WHITESPACE"," ",79],"=",["T_WHITESPACE"," ",79],["T_VARIABLE","$package",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","getErrors",79],"(",")",";",["T_WHITESPACE","\n                ",79],["T_IF","if",80],"(",["T_STRING","count",80],"(",["T_VARIABLE","$errors",80],")",")",["T_WHITESPACE"," ",80],"{",["T_WHITESPACE","\n                    ",80],["T_THROW","throw",81],["T_WHITESPACE"," ",81],["T_NEW","new",81],["T_WHITESPACE"," ",81],["T_STRING","Exception",81],"(",["T_CONSTANT_ENCAPSED_STRING","\"Package file is invalid\\n\"",81],".",["T_STRING","implode",81],"(",["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",81],",",["T_WHITESPACE"," ",81],["T_VARIABLE","$errors",81],")",")",";",["T_WHITESPACE","\n                ",81],"}",["T_WHITESPACE","\n\n                ",82],["T_VARIABLE","$pChan",84],["T_WHITESPACE"," ",84],"=",["T_WHITESPACE"," ",84],["T_VARIABLE","$package",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","getChannel",84],"(",")",";",["T_WHITESPACE","\n                ",84],["T_VARIABLE","$pName",85],["T_WHITESPACE"," ",85],"=",["T_WHITESPACE"," ",85],["T_VARIABLE","$package",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","getName",85],"(",")",";",["T_WHITESPACE","\n                ",85],["T_VARIABLE","$pVer",86],["T_WHITESPACE"," ",86],"=",["T_WHITESPACE"," ",86],["T_VARIABLE","$package",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","getVersion",86],"(",")",";",["T_WHITESPACE","\n\n\n                ",86],["T_IF","if",89],"(","!",["T_VARIABLE","$cache",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","isChannel",89],"(",["T_VARIABLE","$pChan",89],")",")",["T_WHITESPACE"," ",89],"{",["T_WHITESPACE","\n                    ",89],["T_THROW","throw",90],["T_WHITESPACE"," ",90],["T_NEW","new",90],["T_WHITESPACE"," ",90],["T_STRING","Exception",90],"(","\"",["T_ENCAPSED_AND_WHITESPACE","'",90],["T_CURLY_OPEN","{",90],["T_VARIABLE","$pChan",90],"}",["T_ENCAPSED_AND_WHITESPACE","' is not installed channel",90],"\"",")",";",["T_WHITESPACE","\n                ",90],"}",["T_WHITESPACE","\n\n                ",91],["T_VARIABLE","$conflicts",93],["T_WHITESPACE"," ",93],"=",["T_WHITESPACE"," ",93],["T_VARIABLE","$cache",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","hasConflicts",93],"(",["T_VARIABLE","$pChan",93],",",["T_WHITESPACE"," ",93],["T_VARIABLE","$pName",93],",",["T_WHITESPACE"," ",93],["T_VARIABLE","$pVer",93],")",";",["T_WHITESPACE","\n\n                ",93],["T_IF","if",95],"(",["T_STRING","false",95],["T_WHITESPACE"," ",95],["T_IS_NOT_IDENTICAL","!==",95],["T_WHITESPACE"," ",95],["T_VARIABLE","$conflicts",95],")",["T_WHITESPACE"," ",95],"{",["T_WHITESPACE","\n                    ",95],["T_VARIABLE","$conflicts",96],["T_WHITESPACE"," ",96],"=",["T_WHITESPACE"," ",96],["T_STRING","implode",96],"(",["T_CONSTANT_ENCAPSED_STRING","\", \"",96],",",["T_VARIABLE","$conflicts",96],")",";",["T_WHITESPACE","\n                    ",96],["T_IF","if",97],"(",["T_VARIABLE","$forceMode",97],")",["T_WHITESPACE"," ",97],"{",["T_WHITESPACE","\n                        ",97],["T_VARIABLE","$this",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","doError",98],"(",["T_VARIABLE","$command",98],",",["T_WHITESPACE"," ",98],"\"",["T_ENCAPSED_AND_WHITESPACE","Package ",98],["T_CURLY_OPEN","{",98],["T_VARIABLE","$pChan",98],"}",["T_ENCAPSED_AND_WHITESPACE","\/",98],["T_CURLY_OPEN","{",98],["T_VARIABLE","$pName",98],"}",["T_ENCAPSED_AND_WHITESPACE"," ",98],["T_CURLY_OPEN","{",98],["T_VARIABLE","$pVer",98],"}",["T_ENCAPSED_AND_WHITESPACE"," conflicts with: ",98],"\"",".",["T_VARIABLE","$conflicts",98],")",";",["T_WHITESPACE","\n                    ",98],"}",["T_WHITESPACE"," ",99],["T_ELSE","else",99],["T_WHITESPACE"," ",99],"{",["T_WHITESPACE","\n                        ",99],["T_THROW","throw",100],["T_WHITESPACE"," ",100],["T_NEW","new",100],["T_WHITESPACE"," ",100],["T_STRING","Exception",100],"(","\"",["T_ENCAPSED_AND_WHITESPACE","Package ",100],["T_CURLY_OPEN","{",100],["T_VARIABLE","$pChan",100],"}",["T_ENCAPSED_AND_WHITESPACE","\/",100],["T_CURLY_OPEN","{",100],["T_VARIABLE","$pName",100],"}",["T_ENCAPSED_AND_WHITESPACE"," ",100],["T_CURLY_OPEN","{",100],["T_VARIABLE","$pVer",100],"}",["T_ENCAPSED_AND_WHITESPACE"," conflicts with: ",100],"\"",".",["T_VARIABLE","$conflicts",100],")",";",["T_WHITESPACE","\n                    ",100],"}",["T_WHITESPACE","\n                ",101],"}",["T_WHITESPACE","\n\n                ",102],["T_VARIABLE","$conflicts",104],["T_WHITESPACE"," ",104],"=",["T_WHITESPACE"," ",104],["T_VARIABLE","$package",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","checkPhpDependencies",104],"(",")",";",["T_WHITESPACE","\n                ",104],["T_IF","if",105],"(",["T_STRING","true",105],["T_WHITESPACE"," ",105],["T_IS_NOT_IDENTICAL","!==",105],["T_WHITESPACE"," ",105],["T_VARIABLE","$conflicts",105],")",["T_WHITESPACE"," ",105],"{",["T_WHITESPACE","\n                    ",105],["T_VARIABLE","$confilcts",106],["T_WHITESPACE"," ",106],"=",["T_WHITESPACE"," ",106],["T_STRING","implode",106],"(",["T_CONSTANT_ENCAPSED_STRING","\",\"",106],",",["T_VARIABLE","$conflicts",106],")",";",["T_WHITESPACE","\n                    ",106],["T_VARIABLE","$err",107],["T_WHITESPACE"," ",107],"=",["T_WHITESPACE"," ",107],"\"",["T_ENCAPSED_AND_WHITESPACE","Package ",107],["T_CURLY_OPEN","{",107],["T_VARIABLE","$pChan",107],"}",["T_ENCAPSED_AND_WHITESPACE","\/",107],["T_CURLY_OPEN","{",107],["T_VARIABLE","$pName",107],"}",["T_ENCAPSED_AND_WHITESPACE"," ",107],["T_CURLY_OPEN","{",107],["T_VARIABLE","$pVer",107],"}",["T_ENCAPSED_AND_WHITESPACE"," depends on PHP extensions: ",107],"\"",".",["T_VARIABLE","$conflicts",107],";",["T_WHITESPACE","\n                    ",107],["T_IF","if",108],"(",["T_VARIABLE","$forceMode",108],")",["T_WHITESPACE"," ",108],"{",["T_WHITESPACE","\n                        ",108],["T_VARIABLE","$this",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","doError",109],"(",["T_VARIABLE","$command",109],",",["T_WHITESPACE"," ",109],["T_VARIABLE","$err",109],")",";",["T_WHITESPACE","\n                    ",109],"}",["T_WHITESPACE"," ",110],["T_ELSE","else",110],["T_WHITESPACE"," ",110],"{",["T_WHITESPACE","\n                        ",110],["T_THROW","throw",111],["T_WHITESPACE"," ",111],["T_NEW","new",111],["T_WHITESPACE"," ",111],["T_STRING","Exception",111],"(",["T_VARIABLE","$err",111],")",";",["T_WHITESPACE","\n                    ",111],"}",["T_WHITESPACE","\n                ",112],"}",["T_WHITESPACE","\n\n                ",113],["T_VARIABLE","$conflicts",115],["T_WHITESPACE"," ",115],"=",["T_WHITESPACE"," ",115],["T_VARIABLE","$package",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","checkPhpVersion",115],"(",")",";",["T_WHITESPACE","\n                ",115],["T_IF","if",116],"(",["T_STRING","true",116],["T_WHITESPACE"," ",116],["T_IS_NOT_IDENTICAL","!==",116],["T_WHITESPACE"," ",116],["T_VARIABLE","$conflicts",116],")",["T_WHITESPACE"," ",116],"{",["T_WHITESPACE","\n                    ",116],["T_VARIABLE","$err",117],["T_WHITESPACE"," ",117],"=",["T_WHITESPACE"," ",117],"\"",["T_ENCAPSED_AND_WHITESPACE","Package ",117],["T_CURLY_OPEN","{",117],["T_VARIABLE","$pChan",117],"}",["T_ENCAPSED_AND_WHITESPACE","\/",117],["T_CURLY_OPEN","{",117],["T_VARIABLE","$pName",117],"}",["T_ENCAPSED_AND_WHITESPACE"," ",117],["T_CURLY_OPEN","{",117],["T_VARIABLE","$pVer",117],"}",["T_ENCAPSED_AND_WHITESPACE",": ",117],"\"",".",["T_VARIABLE","$conflicts",117],";",["T_WHITESPACE","\n                    ",117],["T_IF","if",118],"(",["T_VARIABLE","$forceMode",118],")",["T_WHITESPACE"," ",118],"{",["T_WHITESPACE","\n                        ",118],["T_VARIABLE","$this",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","doError",119],"(",["T_VARIABLE","$command",119],",",["T_WHITESPACE"," ",119],["T_VARIABLE","$err",119],")",";",["T_WHITESPACE","\n                    ",119],"}",["T_WHITESPACE"," ",120],["T_ELSE","else",120],["T_WHITESPACE"," ",120],"{",["T_WHITESPACE","\n                        ",120],["T_THROW","throw",121],["T_WHITESPACE"," ",121],["T_NEW","new",121],["T_WHITESPACE"," ",121],["T_STRING","Exception",121],"(",["T_VARIABLE","$err",121],")",";",["T_WHITESPACE","\n                    ",121],"}",["T_WHITESPACE","\n                ",122],"}",["T_WHITESPACE","\n\n\n                ",123],["T_IF","if",126],"(","!",["T_VARIABLE","$noFilesInstall",126],")",["T_WHITESPACE"," ",126],"{",["T_WHITESPACE","\n                    ",126],["T_IF","if",127],"(",["T_VARIABLE","$ftp",127],")",["T_WHITESPACE"," ",127],"{",["T_WHITESPACE","\n                        ",127],["T_VARIABLE","$packager",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","processInstallPackageFtp",128],"(",["T_VARIABLE","$package",128],",",["T_WHITESPACE"," ",128],["T_VARIABLE","$filename",128],",",["T_WHITESPACE"," ",128],["T_VARIABLE","$config",128],",",["T_WHITESPACE"," ",128],["T_VARIABLE","$ftpObj",128],")",";",["T_WHITESPACE","\n                    ",128],"}",["T_WHITESPACE"," ",129],["T_ELSE","else",129],["T_WHITESPACE"," ",129],"{",["T_WHITESPACE","\n                        ",129],["T_VARIABLE","$packager",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","processInstallPackage",130],"(",["T_VARIABLE","$package",130],",",["T_WHITESPACE"," ",130],["T_VARIABLE","$filename",130],",",["T_WHITESPACE"," ",130],["T_VARIABLE","$config",130],")",";",["T_WHITESPACE","\n                    ",130],"}",["T_WHITESPACE","\n                ",131],"}",["T_WHITESPACE","\n                ",132],["T_VARIABLE","$cache",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","addPackage",133],"(",["T_VARIABLE","$package",133],")",";",["T_WHITESPACE","\n                ",133],["T_VARIABLE","$installedDeps",134],["T_WHITESPACE"," ",134],"=",["T_WHITESPACE"," ",134],["T_ARRAY","array",134],"(",")",";",["T_WHITESPACE","\n                ",134],["T_VARIABLE","$installedDepsAssoc",135],["T_WHITESPACE"," ",135],"=",["T_WHITESPACE"," ",135],["T_ARRAY","array",135],"(",")",";",["T_WHITESPACE","\n                ",135],["T_VARIABLE","$installedDepsAssoc",136],"[","]",["T_WHITESPACE"," ",136],"=",["T_WHITESPACE"," ",136],["T_ARRAY","array",136],"(",["T_CONSTANT_ENCAPSED_STRING","'channel'",136],["T_DOUBLE_ARROW","=>",136],["T_VARIABLE","$pChan",136],",",["T_WHITESPACE"," ",136],["T_CONSTANT_ENCAPSED_STRING","'name'",136],["T_DOUBLE_ARROW","=>",136],["T_VARIABLE","$pName",136],",",["T_WHITESPACE"," ",136],["T_CONSTANT_ENCAPSED_STRING","'version'",136],["T_DOUBLE_ARROW","=>",136],["T_VARIABLE","$pVer",136],")",";",["T_WHITESPACE","\n                ",136],["T_VARIABLE","$installedDeps",137],"[","]",["T_WHITESPACE"," ",137],"=",["T_WHITESPACE"," ",137],["T_ARRAY","array",137],"(",["T_VARIABLE","$pChan",137],",",["T_WHITESPACE"," ",137],["T_VARIABLE","$pName",137],",",["T_WHITESPACE"," ",137],["T_VARIABLE","$pVer",137],")",";",["T_WHITESPACE","\n\n\n                ",137],["T_VARIABLE","$title",140],["T_WHITESPACE"," ",140],"=",["T_WHITESPACE"," ",140],["T_ISSET","isset",140],"(",["T_VARIABLE","$options",140],"[",["T_CONSTANT_ENCAPSED_STRING","'title'",140],"]",")",["T_WHITESPACE"," ",140],"?",["T_WHITESPACE"," ",140],["T_VARIABLE","$options",140],"[",["T_CONSTANT_ENCAPSED_STRING","'title'",140],"]",["T_WHITESPACE"," ",140],":",["T_WHITESPACE"," ",140],["T_CONSTANT_ENCAPSED_STRING","\"Package installed: \"",140],";",["T_WHITESPACE","\n                ",140],["T_VARIABLE","$out",141],["T_WHITESPACE"," ",141],"=",["T_WHITESPACE"," ",141],["T_ARRAY","array",141],"(",["T_VARIABLE","$command",141],["T_WHITESPACE"," ",141],["T_DOUBLE_ARROW","=>",141],["T_WHITESPACE"," ",141],["T_ARRAY","array",141],"(",["T_CONSTANT_ENCAPSED_STRING","'data'",141],["T_DOUBLE_ARROW","=>",141],["T_VARIABLE","$installedDeps",141],",",["T_WHITESPACE"," ",141],["T_CONSTANT_ENCAPSED_STRING","'assoc'",141],["T_DOUBLE_ARROW","=>",141],["T_VARIABLE","$installedDepsAssoc",141],",",["T_WHITESPACE","  ",141],["T_CONSTANT_ENCAPSED_STRING","'title'",141],["T_DOUBLE_ARROW","=>",141],["T_VARIABLE","$title",141],")",")",";",["T_WHITESPACE","\n\n                ",141],["T_IF","if",143],"(",["T_VARIABLE","$ftp",143],")",["T_WHITESPACE"," ",143],"{",["T_WHITESPACE","\n                    ",143],["T_VARIABLE","$packager",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","writeToRemoteCache",144],"(",["T_VARIABLE","$cache",144],",",["T_WHITESPACE"," ",144],["T_VARIABLE","$ftpObj",144],")",";",["T_WHITESPACE","\n                    ",144],"@",["T_STRING","unlink",145],"(",["T_VARIABLE","$config",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","getFilename",145],"(",")",")",";",["T_WHITESPACE","\n                ",145],"}",["T_WHITESPACE","\n\n                ",146],["T_VARIABLE","$this",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","ui",148],"(",")",["T_OBJECT_OPERATOR","->",148],["T_STRING","output",148],"(",["T_VARIABLE","$out",148],")",";",["T_WHITESPACE","\n                ",148],["T_RETURN","return",149],["T_WHITESPACE"," ",149],["T_VARIABLE","$out",149],"[",["T_VARIABLE","$command",149],"]","[",["T_CONSTANT_ENCAPSED_STRING","'data'",149],"]",";",["T_WHITESPACE","\n            ",149],"}",["T_WHITESPACE","\n\n            ",150],["T_IF","if",152],"(","!",["T_VARIABLE","$upgradeAllMode",152],")",["T_WHITESPACE"," ",152],"{",["T_WHITESPACE","\n\n                ",152],["T_IF","if",154],"(",["T_STRING","count",154],"(",["T_VARIABLE","$params",154],")",["T_WHITESPACE"," ",154],"<",["T_WHITESPACE"," ",154],["T_LNUMBER","2",154],")",["T_WHITESPACE"," ",154],"{",["T_WHITESPACE","\n                    ",154],["T_THROW","throw",155],["T_WHITESPACE"," ",155],["T_NEW","new",155],["T_WHITESPACE"," ",155],["T_STRING","Exception",155],"(",["T_CONSTANT_ENCAPSED_STRING","\"Argument should be: channelName packageName\"",155],")",";",["T_WHITESPACE","\n                ",155],"}",["T_WHITESPACE","\n                ",156],["T_VARIABLE","$channel",157],["T_WHITESPACE"," ",157],"=",["T_WHITESPACE"," ",157],["T_VARIABLE","$params",157],"[",["T_LNUMBER","0",157],"]",";",["T_WHITESPACE","\n                ",157],["T_VARIABLE","$package",158],["T_WHITESPACE"," ",158],"=",["T_WHITESPACE"," ",158],["T_VARIABLE","$params",158],"[",["T_LNUMBER","1",158],"]",";",["T_WHITESPACE","\n                ",158],["T_VARIABLE","$argVersionMax",159],["T_WHITESPACE"," ",159],"=",["T_WHITESPACE"," ",159],["T_ISSET","isset",159],"(",["T_VARIABLE","$params",159],"[",["T_LNUMBER","2",159],"]",")",["T_WHITESPACE"," ",159],"?",["T_WHITESPACE"," ",159],["T_VARIABLE","$params",159],"[",["T_LNUMBER","2",159],"]",":",["T_WHITESPACE"," ",159],["T_STRING","false",159],";",["T_WHITESPACE","\n                ",159],["T_VARIABLE","$argVersionMin",160],["T_WHITESPACE"," ",160],"=",["T_WHITESPACE"," ",160],["T_STRING","false",160],";",["T_WHITESPACE","\n\n                ",160],["T_IF","if",162],"(",["T_VARIABLE","$cache",162],["T_OBJECT_OPERATOR","->",162],["T_STRING","isChannelName",162],"(",["T_VARIABLE","$channel",162],")",")",["T_WHITESPACE"," ",162],"{",["T_WHITESPACE","\n                    ",162],["T_VARIABLE","$uri",163],["T_WHITESPACE"," ",163],"=",["T_WHITESPACE"," ",163],["T_VARIABLE","$cache",163],["T_OBJECT_OPERATOR","->",163],["T_STRING","chanUrl",163],"(",["T_VARIABLE","$channel",163],")",";",["T_WHITESPACE","\n                ",163],"}",["T_WHITESPACE"," ",164],["T_ELSEIF","elseif",164],"(",["T_VARIABLE","$this",164],["T_OBJECT_OPERATOR","->",164],["T_STRING","validator",164],"(",")",["T_OBJECT_OPERATOR","->",164],["T_STRING","validateUrl",164],"(",["T_VARIABLE","$channel",164],")",")",["T_WHITESPACE"," ",164],"{",["T_WHITESPACE","\n                    ",164],["T_VARIABLE","$uri",165],["T_WHITESPACE"," ",165],"=",["T_WHITESPACE"," ",165],["T_VARIABLE","$channel",165],";",["T_WHITESPACE","\n                ",165],"}",["T_WHITESPACE"," ",166],["T_ELSEIF","elseif",166],"(",["T_VARIABLE","$channel",166],")",["T_WHITESPACE"," ",166],"{",["T_WHITESPACE","\n                    ",166],["T_VARIABLE","$uri",167],["T_WHITESPACE"," ",167],"=",["T_WHITESPACE"," ",167],["T_VARIABLE","$config",167],["T_OBJECT_OPERATOR","->",167],["T_STRING","protocol",167],".",["T_CONSTANT_ENCAPSED_STRING","':\/\/'",167],".",["T_VARIABLE","$channel",167],";",["T_WHITESPACE","\n                ",167],"}",["T_WHITESPACE"," ",168],["T_ELSE","else",168],["T_WHITESPACE"," ",168],"{",["T_WHITESPACE","\n                    ",168],["T_THROW","throw",169],["T_WHITESPACE"," ",169],["T_NEW","new",169],["T_WHITESPACE"," ",169],["T_STRING","Exception",169],"(","\"",["T_ENCAPSED_AND_WHITESPACE","'",169],["T_CURLY_OPEN","{",169],["T_VARIABLE","$channel",169],"}",["T_ENCAPSED_AND_WHITESPACE","' is not existant channel name \/ valid uri",169],"\"",")",";",["T_WHITESPACE","\n                ",169],"}",["T_WHITESPACE","\n\n                ",170],["T_IF","if",172],"(",["T_VARIABLE","$uri",172],["T_WHITESPACE"," ",172],["T_BOOLEAN_AND","&&",172],["T_WHITESPACE"," ",172],"!",["T_VARIABLE","$cache",172],["T_OBJECT_OPERATOR","->",172],["T_STRING","isChannel",172],"(",["T_VARIABLE","$uri",172],")",")",["T_WHITESPACE"," ",172],"{",["T_WHITESPACE","\n                    ",172],["T_VARIABLE","$rest",173],["T_OBJECT_OPERATOR","->",173],["T_STRING","setChannel",173],"(",["T_VARIABLE","$uri",173],")",";",["T_WHITESPACE","\n                    ",173],["T_VARIABLE","$data",174],["T_WHITESPACE"," ",174],"=",["T_WHITESPACE"," ",174],["T_VARIABLE","$rest",174],["T_OBJECT_OPERATOR","->",174],["T_STRING","getChannelInfo",174],"(",")",";",["T_WHITESPACE","\n                    ",174],["T_VARIABLE","$data",175],["T_OBJECT_OPERATOR","->",175],["T_STRING","uri",175],["T_WHITESPACE"," ",175],"=",["T_WHITESPACE"," ",175],["T_VARIABLE","$uri",175],";",["T_WHITESPACE","\n                    ",175],["T_VARIABLE","$cache",176],["T_OBJECT_OPERATOR","->",176],["T_STRING","addChannel",176],"(",["T_VARIABLE","$data",176],["T_OBJECT_OPERATOR","->",176],["T_STRING","name",176],",",["T_WHITESPACE"," ",176],["T_VARIABLE","$uri",176],")",";",["T_WHITESPACE","\n                    ",176],["T_VARIABLE","$this",177],["T_OBJECT_OPERATOR","->",177],["T_STRING","ui",177],"(",")",["T_OBJECT_OPERATOR","->",177],["T_STRING","output",177],"(",["T_CONSTANT_ENCAPSED_STRING","\"Successfully added channel: \"",177],".",["T_VARIABLE","$uri",177],")",";",["T_WHITESPACE","\n                ",177],"}",["T_WHITESPACE","\n                ",178],["T_VARIABLE","$channelName",179],["T_WHITESPACE"," ",179],"=",["T_WHITESPACE"," ",179],["T_VARIABLE","$cache",179],["T_OBJECT_OPERATOR","->",179],["T_STRING","chanName",179],"(",["T_VARIABLE","$channel",179],")",";",["T_WHITESPACE","\n                ",179],["T_COMMENT","\/\/var_dump($channelName);\n",180],["T_WHITESPACE","                ",181],["T_VARIABLE","$packagesToInstall",181],["T_WHITESPACE"," ",181],"=",["T_WHITESPACE"," ",181],["T_VARIABLE","$packager",181],["T_OBJECT_OPERATOR","->",181],["T_STRING","getDependenciesList",181],"(",["T_WHITESPACE"," ",181],["T_VARIABLE","$channelName",181],",",["T_WHITESPACE"," ",181],["T_VARIABLE","$package",181],",",["T_WHITESPACE"," ",181],["T_VARIABLE","$cache",181],",",["T_WHITESPACE"," ",181],["T_VARIABLE","$config",181],",",["T_WHITESPACE"," ",181],["T_VARIABLE","$argVersionMax",181],",",["T_WHITESPACE"," ",181],["T_VARIABLE","$argVersionMin",181],",",["T_WHITESPACE"," ",181],["T_VARIABLE","$withDepsMode",181],")",";",["T_WHITESPACE","\n                ",181],["T_VARIABLE","$packagesToInstall",182],["T_WHITESPACE"," ",182],"=",["T_WHITESPACE"," ",182],["T_VARIABLE","$packagesToInstall",182],"[",["T_CONSTANT_ENCAPSED_STRING","'result'",182],"]",";",["T_WHITESPACE","\n                ",182],["T_COMMENT","\/\/var_dump($packagesToInstall);\n",183],["T_WHITESPACE","\n            ",184],"}",["T_WHITESPACE"," ",185],["T_ELSE","else",185],["T_WHITESPACE"," ",185],"{",["T_WHITESPACE","\n                ",185],["T_IF","if",186],"(",["T_EMPTY","empty",186],"(",["T_VARIABLE","$params",186],"[",["T_LNUMBER","0",186],"]",")",")",["T_WHITESPACE"," ",186],"{",["T_WHITESPACE","\n                    ",186],["T_VARIABLE","$channels",187],["T_WHITESPACE"," ",187],"=",["T_WHITESPACE"," ",187],["T_VARIABLE","$cache",187],["T_OBJECT_OPERATOR","->",187],["T_STRING","getChannelNames",187],"(",")",";",["T_WHITESPACE","\n                ",187],"}",["T_WHITESPACE"," ",188],["T_ELSE","else",188],["T_WHITESPACE"," ",188],"{",["T_WHITESPACE","\n                    ",188],["T_VARIABLE","$channel",189],["T_WHITESPACE"," ",189],"=",["T_WHITESPACE"," ",189],["T_VARIABLE","$params",189],"[",["T_LNUMBER","0",189],"]",";",["T_WHITESPACE","\n                    ",189],["T_IF","if",190],"(","!",["T_VARIABLE","$cache",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","isChannel",190],"(",["T_VARIABLE","$channel",190],")",")",["T_WHITESPACE"," ",190],"{",["T_WHITESPACE","\n                        ",190],["T_THROW","throw",191],["T_WHITESPACE"," ",191],["T_NEW","new",191],["T_WHITESPACE"," ",191],["T_STRING","Exception",191],"(","\"",["T_ENCAPSED_AND_WHITESPACE","'",191],["T_CURLY_OPEN","{",191],["T_VARIABLE","$channel",191],"}",["T_ENCAPSED_AND_WHITESPACE","' is not existant channel name \/ valid uri",191],"\"",")",";",["T_WHITESPACE","\n                    ",191],"}",["T_WHITESPACE","\n                    ",192],["T_VARIABLE","$channels",193],["T_WHITESPACE"," ",193],"=",["T_WHITESPACE"," ",193],["T_VARIABLE","$cache",193],["T_OBJECT_OPERATOR","->",193],["T_STRING","chanName",193],"(",["T_VARIABLE","$channel",193],")",";",["T_WHITESPACE","\n                ",193],"}",["T_WHITESPACE","\n                ",194],["T_VARIABLE","$packagesToInstall",195],["T_WHITESPACE"," ",195],"=",["T_WHITESPACE"," ",195],["T_ARRAY","array",195],"(",")",";",["T_WHITESPACE","\n                ",195],["T_VARIABLE","$neededToUpgrade",196],["T_WHITESPACE"," ",196],"=",["T_WHITESPACE"," ",196],["T_VARIABLE","$packager",196],["T_OBJECT_OPERATOR","->",196],["T_STRING","getUpgradesList",196],"(",["T_VARIABLE","$channels",196],",",["T_WHITESPACE"," ",196],["T_VARIABLE","$cache",196],",",["T_WHITESPACE"," ",196],["T_VARIABLE","$config",196],")",";",["T_WHITESPACE","\n                ",196],["T_FOREACH","foreach",197],"(",["T_VARIABLE","$neededToUpgrade",197],["T_WHITESPACE"," ",197],["T_AS","as",197],["T_WHITESPACE"," ",197],["T_VARIABLE","$chan",197],["T_DOUBLE_ARROW","=>",197],["T_VARIABLE","$packages",197],")",["T_WHITESPACE"," ",197],"{",["T_WHITESPACE","\n                    ",197],["T_FOREACH","foreach",198],"(",["T_VARIABLE","$packages",198],["T_WHITESPACE"," ",198],["T_AS","as",198],["T_WHITESPACE"," ",198],["T_VARIABLE","$name",198],["T_DOUBLE_ARROW","=>",198],["T_VARIABLE","$data",198],")",["T_WHITESPACE"," ",198],"{",["T_WHITESPACE","\n                        ",198],["T_VARIABLE","$versionTo",199],["T_WHITESPACE"," ",199],"=",["T_WHITESPACE"," ",199],["T_VARIABLE","$data",199],"[",["T_CONSTANT_ENCAPSED_STRING","'to'",199],"]",";",["T_WHITESPACE","\n                        ",199],["T_VARIABLE","$tmp",200],["T_WHITESPACE"," ",200],"=",["T_WHITESPACE"," ",200],["T_VARIABLE","$packager",200],["T_OBJECT_OPERATOR","->",200],["T_STRING","getDependenciesList",200],"(",["T_WHITESPACE"," ",200],["T_VARIABLE","$chan",200],",",["T_WHITESPACE"," ",200],["T_VARIABLE","$name",200],",",["T_WHITESPACE"," ",200],["T_VARIABLE","$cache",200],",",["T_WHITESPACE"," ",200],["T_VARIABLE","$config",200],",",["T_WHITESPACE"," ",200],["T_VARIABLE","$versionTo",200],",",["T_WHITESPACE"," ",200],["T_VARIABLE","$versionTo",200],",",["T_WHITESPACE"," ",200],["T_VARIABLE","$withDepsMode",200],")",";",["T_WHITESPACE","\n                        ",200],["T_IF","if",201],"(",["T_STRING","count",201],"(",["T_VARIABLE","$tmp",201],"[",["T_CONSTANT_ENCAPSED_STRING","'result'",201],"]",")",")",["T_WHITESPACE"," ",201],"{",["T_WHITESPACE","\n                            ",201],["T_VARIABLE","$packagesToInstall",202],["T_WHITESPACE"," ",202],"=",["T_WHITESPACE"," ",202],["T_STRING","array_merge",202],"(",["T_VARIABLE","$packagesToInstall",202],",",["T_WHITESPACE"," ",202],["T_VARIABLE","$tmp",202],"[",["T_CONSTANT_ENCAPSED_STRING","'result'",202],"]",")",";",["T_WHITESPACE","\n                        ",202],"}",["T_WHITESPACE","\n                    ",203],"}",["T_WHITESPACE","\n                ",204],"}",["T_WHITESPACE","\n            ",205],"}",["T_WHITESPACE","\n\n            ",206],["T_DOC_COMMENT","\/**\n             * Make installation\n             *\/",208],["T_WHITESPACE","\n            ",210],["T_VARIABLE","$installedDeps",211],["T_WHITESPACE"," ",211],"=",["T_WHITESPACE"," ",211],["T_ARRAY","array",211],"(",")",";",["T_WHITESPACE","\n            ",211],["T_VARIABLE","$installedDepsAssoc",212],["T_WHITESPACE"," ",212],"=",["T_WHITESPACE"," ",212],["T_ARRAY","array",212],"(",")",";",["T_WHITESPACE","\n            ",212],["T_VARIABLE","$keys",213],["T_WHITESPACE"," ",213],"=",["T_WHITESPACE"," ",213],["T_ARRAY","array",213],"(",")",";",["T_WHITESPACE","\n\n            ",213],["T_FOREACH","foreach",215],"(",["T_VARIABLE","$packagesToInstall",215],["T_WHITESPACE"," ",215],["T_AS","as",215],["T_WHITESPACE"," ",215],["T_VARIABLE","$package",215],")",["T_WHITESPACE"," ",215],"{",["T_WHITESPACE","\n                ",215],["T_TRY","try",216],["T_WHITESPACE"," ",216],"{",["T_WHITESPACE","\n                    ",216],["T_VARIABLE","$pName",217],["T_WHITESPACE"," ",217],"=",["T_WHITESPACE"," ",217],["T_VARIABLE","$package",217],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",217],"]",";",["T_WHITESPACE","\n                    ",217],["T_VARIABLE","$pChan",218],["T_WHITESPACE"," ",218],"=",["T_WHITESPACE"," ",218],["T_VARIABLE","$package",218],"[",["T_CONSTANT_ENCAPSED_STRING","'channel'",218],"]",";",["T_WHITESPACE","\n                    ",218],["T_VARIABLE","$pVer",219],["T_WHITESPACE"," ",219],"=",["T_WHITESPACE"," ",219],["T_VARIABLE","$package",219],"[",["T_CONSTANT_ENCAPSED_STRING","'downloaded_version'",219],"]",";",["T_WHITESPACE","\n                    ",219],["T_VARIABLE","$rest",220],["T_OBJECT_OPERATOR","->",220],["T_STRING","setChannel",220],"(",["T_VARIABLE","$cache",220],["T_OBJECT_OPERATOR","->",220],["T_STRING","chanUrl",220],"(",["T_VARIABLE","$pChan",220],")",")",";",["T_WHITESPACE","\n\n                    ",220],["T_DOC_COMMENT","\/**\n                     * Upgrade mode\n                     *\/",222],["T_WHITESPACE","\n                    ",224],["T_IF","if",225],"(",["T_VARIABLE","$upgradeMode",225],["T_WHITESPACE"," ",225],["T_BOOLEAN_AND","&&",225],["T_WHITESPACE"," ",225],["T_VARIABLE","$cache",225],["T_OBJECT_OPERATOR","->",225],["T_STRING","hasPackage",225],"(",["T_VARIABLE","$pChan",225],",",["T_WHITESPACE"," ",225],["T_VARIABLE","$pName",225],",",["T_WHITESPACE"," ",225],["T_VARIABLE","$pVer",225],",",["T_WHITESPACE"," ",225],["T_VARIABLE","$pVer",225],")",")",["T_WHITESPACE"," ",225],"{",["T_WHITESPACE","\n                        ",225],["T_VARIABLE","$this",226],["T_OBJECT_OPERATOR","->",226],["T_STRING","ui",226],"(",")",["T_OBJECT_OPERATOR","->",226],["T_STRING","output",226],"(","\"",["T_ENCAPSED_AND_WHITESPACE","Already installed: ",226],["T_CURLY_OPEN","{",226],["T_VARIABLE","$pChan",226],"}",["T_ENCAPSED_AND_WHITESPACE","\/",226],["T_CURLY_OPEN","{",226],["T_VARIABLE","$pName",226],"}",["T_ENCAPSED_AND_WHITESPACE"," ",226],["T_CURLY_OPEN","{",226],["T_VARIABLE","$pVer",226],"}",["T_ENCAPSED_AND_WHITESPACE",", skipping",226],"\"",")",";",["T_WHITESPACE","\n                        ",226],["T_CONTINUE","continue",227],";",["T_WHITESPACE","\n                    ",227],"}",["T_WHITESPACE","\n\n                    ",228],["T_VARIABLE","$conflicts",230],["T_WHITESPACE"," ",230],"=",["T_WHITESPACE"," ",230],["T_VARIABLE","$cache",230],["T_OBJECT_OPERATOR","->",230],["T_STRING","hasConflicts",230],"(",["T_VARIABLE","$pChan",230],",",["T_WHITESPACE"," ",230],["T_VARIABLE","$pName",230],",",["T_WHITESPACE"," ",230],["T_VARIABLE","$pVer",230],")",";",["T_WHITESPACE","\n\n                    ",230],["T_IF","if",232],"(",["T_STRING","false",232],["T_WHITESPACE"," ",232],["T_IS_NOT_IDENTICAL","!==",232],["T_WHITESPACE"," ",232],["T_VARIABLE","$conflicts",232],")",["T_WHITESPACE"," ",232],"{",["T_WHITESPACE","\n                        ",232],["T_VARIABLE","$conflicts",233],["T_WHITESPACE"," ",233],"=",["T_WHITESPACE"," ",233],["T_STRING","implode",233],"(",["T_CONSTANT_ENCAPSED_STRING","\", \"",233],",",["T_VARIABLE","$conflicts",233],")",";",["T_WHITESPACE","\n                        ",233],["T_IF","if",234],"(",["T_VARIABLE","$forceMode",234],")",["T_WHITESPACE"," ",234],"{",["T_WHITESPACE","\n                            ",234],["T_VARIABLE","$this",235],["T_OBJECT_OPERATOR","->",235],["T_STRING","doError",235],"(",["T_VARIABLE","$command",235],",",["T_WHITESPACE"," ",235],"\"",["T_ENCAPSED_AND_WHITESPACE","Package ",235],["T_CURLY_OPEN","{",235],["T_VARIABLE","$pChan",235],"}",["T_ENCAPSED_AND_WHITESPACE","\/",235],["T_CURLY_OPEN","{",235],["T_VARIABLE","$pName",235],"}",["T_ENCAPSED_AND_WHITESPACE"," ",235],["T_CURLY_OPEN","{",235],["T_VARIABLE","$pVer",235],"}",["T_ENCAPSED_AND_WHITESPACE"," conflicts with: ",235],"\"",".",["T_VARIABLE","$conflicts",235],")",";",["T_WHITESPACE","\n                        ",235],"}",["T_WHITESPACE"," ",236],["T_ELSE","else",236],["T_WHITESPACE"," ",236],"{",["T_WHITESPACE","\n                            ",236],["T_THROW","throw",237],["T_WHITESPACE"," ",237],["T_NEW","new",237],["T_WHITESPACE"," ",237],["T_STRING","Exception",237],"(","\"",["T_ENCAPSED_AND_WHITESPACE","Package ",237],["T_CURLY_OPEN","{",237],["T_VARIABLE","$pChan",237],"}",["T_ENCAPSED_AND_WHITESPACE","\/",237],["T_CURLY_OPEN","{",237],["T_VARIABLE","$pName",237],"}",["T_ENCAPSED_AND_WHITESPACE"," ",237],["T_CURLY_OPEN","{",237],["T_VARIABLE","$pVer",237],"}",["T_ENCAPSED_AND_WHITESPACE"," conflicts with: ",237],"\"",".",["T_VARIABLE","$conflicts",237],")",";",["T_WHITESPACE","\n                        ",237],"}",["T_WHITESPACE","\n                    ",238],"}",["T_WHITESPACE","\n\n                     \n                    ",239],["T_DOC_COMMENT","\/**\n                     * Modifications\n                     *\/",242],["T_WHITESPACE","\n                    ",244],["T_IF","if",245],["T_WHITESPACE"," ",245],"(",["T_VARIABLE","$upgradeMode",245],["T_WHITESPACE"," ",245],["T_BOOLEAN_AND","&&",245],["T_WHITESPACE"," ",245],"!",["T_VARIABLE","$ignoreModifiedMode",245],")",["T_WHITESPACE"," ",245],"{",["T_WHITESPACE","\n                        ",245],["T_IF","if",246],"(",["T_VARIABLE","$ftp",246],")",["T_WHITESPACE"," ",246],"{",["T_WHITESPACE","\n                            ",246],["T_VARIABLE","$modifications",247],["T_WHITESPACE"," ",247],"=",["T_WHITESPACE"," ",247],["T_VARIABLE","$packager",247],["T_OBJECT_OPERATOR","->",247],["T_STRING","getRemoteModifiedFiles",247],"(",["T_VARIABLE","$pChan",247],",",["T_WHITESPACE"," ",247],["T_VARIABLE","$pName",247],",",["T_WHITESPACE"," ",247],["T_VARIABLE","$cache",247],",",["T_WHITESPACE"," ",247],["T_VARIABLE","$config",247],",",["T_WHITESPACE"," ",247],["T_VARIABLE","$ftp",247],")",";",["T_WHITESPACE","\n                        ",247],"}",["T_WHITESPACE"," ",248],["T_ELSE","else",248],["T_WHITESPACE"," ",248],"{",["T_WHITESPACE","\n                            ",248],["T_VARIABLE","$modifications",249],["T_WHITESPACE"," ",249],"=",["T_WHITESPACE"," ",249],["T_VARIABLE","$packager",249],["T_OBJECT_OPERATOR","->",249],["T_STRING","getLocalModifiedFiles",249],"(",["T_VARIABLE","$pChan",249],",",["T_WHITESPACE"," ",249],["T_VARIABLE","$pName",249],",",["T_WHITESPACE"," ",249],["T_VARIABLE","$cache",249],",",["T_WHITESPACE"," ",249],["T_VARIABLE","$config",249],")",";",["T_WHITESPACE","\n                        ",249],"}",["T_WHITESPACE","\n                        ",250],["T_IF","if",251],["T_WHITESPACE"," ",251],"(",["T_STRING","count",251],"(",["T_VARIABLE","$modifications",251],")",["T_WHITESPACE"," ",251],">",["T_WHITESPACE"," ",251],["T_LNUMBER","0",251],")",["T_WHITESPACE"," ",251],"{",["T_WHITESPACE","\n                            ",251],["T_VARIABLE","$this",252],["T_OBJECT_OPERATOR","->",252],["T_STRING","ui",252],"(",")",["T_OBJECT_OPERATOR","->",252],["T_STRING","output",252],"(",["T_CONSTANT_ENCAPSED_STRING","'Changed locally: '",252],")",";",["T_WHITESPACE","\n                            ",252],["T_FOREACH","foreach",253],["T_WHITESPACE"," ",253],"(",["T_VARIABLE","$modifications",253],["T_WHITESPACE"," ",253],["T_AS","as",253],["T_WHITESPACE"," ",253],["T_VARIABLE","$row",253],")",["T_WHITESPACE"," ",253],"{",["T_WHITESPACE","\n                                ",253],["T_IF","if",254],"(","!",["T_VARIABLE","$ftp",254],")",["T_WHITESPACE"," ",254],"{",["T_WHITESPACE","\n                                    ",254],["T_VARIABLE","$this",255],["T_OBJECT_OPERATOR","->",255],["T_STRING","ui",255],"(",")",["T_OBJECT_OPERATOR","->",255],["T_STRING","output",255],"(",["T_VARIABLE","$config",255],["T_OBJECT_OPERATOR","->",255],["T_STRING","magento_root",255],".",["T_STRING","DS",255],".",["T_VARIABLE","$row",255],")",";",["T_WHITESPACE","\n                                ",255],"}",["T_WHITESPACE"," ",256],["T_ELSE","else",256],["T_WHITESPACE"," ",256],"{",["T_WHITESPACE","\n                                    ",256],["T_VARIABLE","$this",257],["T_OBJECT_OPERATOR","->",257],["T_STRING","ui",257],"(",")",["T_OBJECT_OPERATOR","->",257],["T_STRING","output",257],"(",["T_VARIABLE","$row",257],")",";",["T_WHITESPACE","\n                                ",257],"}",["T_WHITESPACE","\n                            ",258],"}",["T_WHITESPACE","\n                            ",259],["T_COMMENT","\/*$this->ui()->confirm('Do you want rewrite all files?');\n                             continue;*\/",260],["T_WHITESPACE","\n                        ",261],"}",["T_WHITESPACE","\n                    ",262],"}",["T_WHITESPACE","\n\n                    ",263],["T_VARIABLE","$dir",265],["T_WHITESPACE"," ",265],"=",["T_WHITESPACE"," ",265],["T_VARIABLE","$config",265],["T_OBJECT_OPERATOR","->",265],["T_STRING","getChannelCacheDir",265],"(",["T_VARIABLE","$pChan",265],")",";",["T_WHITESPACE","\n                    ",265],"@",["T_STRING","mkdir",266],"(",["T_VARIABLE","$dir",266],",",["T_WHITESPACE"," ",266],["T_LNUMBER","0777",266],",",["T_WHITESPACE"," ",266],["T_STRING","true",266],")",";",["T_WHITESPACE","\n                    ",266],["T_VARIABLE","$file",267],["T_WHITESPACE"," ",267],"=",["T_WHITESPACE"," ",267],["T_VARIABLE","$dir",267],".",["T_STRING","DIRECTORY_SEPARATOR",267],".",["T_VARIABLE","$pName",267],".",["T_CONSTANT_ENCAPSED_STRING","\"-\"",267],".",["T_VARIABLE","$pVer",267],".",["T_CONSTANT_ENCAPSED_STRING","\".tgz\"",267],";",["T_WHITESPACE","\n                    ",267],["T_IF","if",268],"(","!","@",["T_STRING","file_exists",268],"(",["T_VARIABLE","$file",268],")",")",["T_WHITESPACE"," ",268],"{",["T_WHITESPACE","\n                        ",268],["T_VARIABLE","$rest",269],["T_OBJECT_OPERATOR","->",269],["T_STRING","downloadPackageFileOfRelease",269],"(",["T_VARIABLE","$pName",269],",",["T_WHITESPACE"," ",269],["T_VARIABLE","$pVer",269],",",["T_WHITESPACE"," ",269],["T_VARIABLE","$file",269],")",";",["T_WHITESPACE","\n                    ",269],"}",["T_WHITESPACE","\n                    ",270],["T_VARIABLE","$package",271],["T_WHITESPACE"," ",271],"=",["T_WHITESPACE"," ",271],["T_NEW","new",271],["T_WHITESPACE"," ",271],["T_STRING","Mage_Connect_Package",271],"(",["T_VARIABLE","$file",271],")",";",["T_WHITESPACE","\n\n\n\n                    ",271],["T_VARIABLE","$conflicts",275],["T_WHITESPACE"," ",275],"=",["T_WHITESPACE"," ",275],["T_VARIABLE","$package",275],["T_OBJECT_OPERATOR","->",275],["T_STRING","checkPhpDependencies",275],"(",")",";",["T_WHITESPACE","\n                    ",275],["T_IF","if",276],"(",["T_STRING","true",276],["T_WHITESPACE"," ",276],["T_IS_NOT_IDENTICAL","!==",276],["T_WHITESPACE"," ",276],["T_VARIABLE","$conflicts",276],")",["T_WHITESPACE"," ",276],"{",["T_WHITESPACE","                       \n                        ",276],["T_VARIABLE","$confilcts",277],["T_WHITESPACE"," ",277],"=",["T_WHITESPACE"," ",277],["T_STRING","implode",277],"(",["T_CONSTANT_ENCAPSED_STRING","\",\"",277],",",["T_VARIABLE","$conflicts",277],")",";",["T_WHITESPACE","\n                        ",277],["T_VARIABLE","$err",278],["T_WHITESPACE"," ",278],"=",["T_WHITESPACE"," ",278],"\"",["T_ENCAPSED_AND_WHITESPACE","Package ",278],["T_CURLY_OPEN","{",278],["T_VARIABLE","$pChan",278],"}",["T_ENCAPSED_AND_WHITESPACE","\/",278],["T_CURLY_OPEN","{",278],["T_VARIABLE","$pName",278],"}",["T_ENCAPSED_AND_WHITESPACE"," ",278],["T_CURLY_OPEN","{",278],["T_VARIABLE","$pVer",278],"}",["T_ENCAPSED_AND_WHITESPACE"," depends on PHP extensions: ",278],"\"",".",["T_VARIABLE","$conflicts",278],";",["T_WHITESPACE","\n                        ",278],["T_IF","if",279],"(",["T_VARIABLE","$forceMode",279],")",["T_WHITESPACE"," ",279],"{",["T_WHITESPACE","\n                            ",279],["T_VARIABLE","$this",280],["T_OBJECT_OPERATOR","->",280],["T_STRING","doError",280],"(",["T_VARIABLE","$command",280],",",["T_WHITESPACE"," ",280],["T_VARIABLE","$err",280],")",";",["T_WHITESPACE","\n                        ",280],"}",["T_WHITESPACE"," ",281],["T_ELSE","else",281],["T_WHITESPACE"," ",281],"{",["T_WHITESPACE","\n                            ",281],["T_THROW","throw",282],["T_WHITESPACE"," ",282],["T_NEW","new",282],["T_WHITESPACE"," ",282],["T_STRING","Exception",282],"(",["T_VARIABLE","$err",282],")",";",["T_WHITESPACE","\n                        ",282],"}",["T_WHITESPACE","\n                    ",283],"}",["T_WHITESPACE","\n\n                    ",284],["T_VARIABLE","$conflicts",286],["T_WHITESPACE"," ",286],"=",["T_WHITESPACE"," ",286],["T_VARIABLE","$package",286],["T_OBJECT_OPERATOR","->",286],["T_STRING","checkPhpVersion",286],"(",")",";",["T_WHITESPACE","\n                    ",286],["T_IF","if",287],"(",["T_STRING","true",287],["T_WHITESPACE"," ",287],["T_IS_NOT_IDENTICAL","!==",287],["T_WHITESPACE"," ",287],["T_VARIABLE","$conflicts",287],")",["T_WHITESPACE"," ",287],"{",["T_WHITESPACE","\n                        ",287],["T_VARIABLE","$err",288],["T_WHITESPACE"," ",288],"=",["T_WHITESPACE"," ",288],"\"",["T_ENCAPSED_AND_WHITESPACE","Package ",288],["T_CURLY_OPEN","{",288],["T_VARIABLE","$pChan",288],"}",["T_ENCAPSED_AND_WHITESPACE","\/",288],["T_CURLY_OPEN","{",288],["T_VARIABLE","$pName",288],"}",["T_ENCAPSED_AND_WHITESPACE"," ",288],["T_CURLY_OPEN","{",288],["T_VARIABLE","$pVer",288],"}",["T_ENCAPSED_AND_WHITESPACE",": ",288],"\"",".",["T_VARIABLE","$conflicts",288],";",["T_WHITESPACE","\n                        ",288],["T_IF","if",289],"(",["T_VARIABLE","$forceMode",289],")",["T_WHITESPACE"," ",289],"{",["T_WHITESPACE","\n                            ",289],["T_VARIABLE","$this",290],["T_OBJECT_OPERATOR","->",290],["T_STRING","doError",290],"(",["T_VARIABLE","$command",290],",",["T_WHITESPACE"," ",290],["T_VARIABLE","$err",290],")",";",["T_WHITESPACE","\n                        ",290],"}",["T_WHITESPACE"," ",291],["T_ELSE","else",291],["T_WHITESPACE"," ",291],"{",["T_WHITESPACE","\n                            ",291],["T_THROW","throw",292],["T_WHITESPACE"," ",292],["T_NEW","new",292],["T_WHITESPACE"," ",292],["T_STRING","Exception",292],"(",["T_VARIABLE","$err",292],")",";",["T_WHITESPACE","\n                        ",292],"}",["T_WHITESPACE","\n                    ",293],"}",["T_WHITESPACE","\n\n                    ",294],["T_IF","if",296],"(","!",["T_VARIABLE","$noFilesInstall",296],")",["T_WHITESPACE"," ",296],"{",["T_WHITESPACE","\n                        ",296],["T_IF","if",297],"(",["T_VARIABLE","$ftp",297],")",["T_WHITESPACE"," ",297],"{",["T_WHITESPACE","\n                            ",297],["T_VARIABLE","$packager",298],["T_OBJECT_OPERATOR","->",298],["T_STRING","processInstallPackageFtp",298],"(",["T_VARIABLE","$package",298],",",["T_WHITESPACE"," ",298],["T_VARIABLE","$file",298],",",["T_WHITESPACE"," ",298],["T_VARIABLE","$config",298],",",["T_WHITESPACE"," ",298],["T_VARIABLE","$ftpObj",298],")",";",["T_WHITESPACE","\n                        ",298],"}",["T_WHITESPACE"," ",299],["T_ELSE","else",299],["T_WHITESPACE"," ",299],"{",["T_WHITESPACE","\n                            ",299],["T_VARIABLE","$packager",300],["T_OBJECT_OPERATOR","->",300],["T_STRING","processInstallPackage",300],"(",["T_VARIABLE","$package",300],",",["T_WHITESPACE"," ",300],["T_VARIABLE","$file",300],",",["T_WHITESPACE"," ",300],["T_VARIABLE","$config",300],")",";",["T_WHITESPACE","\n                        ",300],"}",["T_WHITESPACE","\n                    ",301],"}",["T_WHITESPACE","\n                    ",302],["T_VARIABLE","$cache",303],["T_OBJECT_OPERATOR","->",303],["T_STRING","addPackage",303],"(",["T_VARIABLE","$package",303],")",";",["T_WHITESPACE","\n\n                    ",303],["T_VARIABLE","$installedDepsAssoc",305],"[","]",["T_WHITESPACE"," ",305],"=",["T_WHITESPACE"," ",305],["T_ARRAY","array",305],"(",["T_CONSTANT_ENCAPSED_STRING","'channel'",305],["T_DOUBLE_ARROW","=>",305],["T_VARIABLE","$pChan",305],",",["T_WHITESPACE"," ",305],["T_CONSTANT_ENCAPSED_STRING","'name'",305],["T_DOUBLE_ARROW","=>",305],["T_VARIABLE","$pName",305],",",["T_WHITESPACE"," ",305],["T_CONSTANT_ENCAPSED_STRING","'version'",305],["T_DOUBLE_ARROW","=>",305],["T_VARIABLE","$pVer",305],")",";",["T_WHITESPACE","\n                    ",305],["T_VARIABLE","$installedDeps",306],"[","]",["T_WHITESPACE"," ",306],"=",["T_WHITESPACE"," ",306],["T_ARRAY","array",306],"(",["T_VARIABLE","$pChan",306],",",["T_WHITESPACE"," ",306],["T_VARIABLE","$pName",306],",",["T_WHITESPACE"," ",306],["T_VARIABLE","$pVer",306],")",";",["T_WHITESPACE","\n\n                ",306],"}",["T_WHITESPACE"," ",308],["T_CATCH","catch",308],"(",["T_STRING","Exception",308],["T_WHITESPACE"," ",308],["T_VARIABLE","$e",308],")",["T_WHITESPACE"," ",308],"{",["T_WHITESPACE","\n                    ",308],["T_VARIABLE","$this",309],["T_OBJECT_OPERATOR","->",309],["T_STRING","doError",309],"(",["T_VARIABLE","$command",309],",",["T_WHITESPACE"," ",309],["T_VARIABLE","$e",309],["T_OBJECT_OPERATOR","->",309],["T_STRING","getMessage",309],"(",")",")",";",["T_WHITESPACE","\n                ",309],"}",["T_WHITESPACE","\n            ",310],"}",["T_WHITESPACE","\n\n\n\n            ",311],["T_VARIABLE","$title",315],["T_WHITESPACE"," ",315],"=",["T_WHITESPACE"," ",315],["T_ISSET","isset",315],"(",["T_VARIABLE","$options",315],"[",["T_CONSTANT_ENCAPSED_STRING","'title'",315],"]",")",["T_WHITESPACE"," ",315],"?",["T_WHITESPACE"," ",315],["T_VARIABLE","$options",315],"[",["T_CONSTANT_ENCAPSED_STRING","'title'",315],"]",["T_WHITESPACE"," ",315],":",["T_WHITESPACE"," ",315],["T_CONSTANT_ENCAPSED_STRING","\"Package installed: \"",315],";",["T_WHITESPACE","\n            ",315],["T_VARIABLE","$out",316],["T_WHITESPACE"," ",316],"=",["T_WHITESPACE"," ",316],["T_ARRAY","array",316],"(",["T_VARIABLE","$command",316],["T_WHITESPACE"," ",316],["T_DOUBLE_ARROW","=>",316],["T_WHITESPACE"," ",316],["T_ARRAY","array",316],"(",["T_CONSTANT_ENCAPSED_STRING","'data'",316],["T_DOUBLE_ARROW","=>",316],["T_VARIABLE","$installedDeps",316],",",["T_WHITESPACE"," ",316],["T_CONSTANT_ENCAPSED_STRING","'assoc'",316],["T_DOUBLE_ARROW","=>",316],["T_VARIABLE","$installedDepsAssoc",316],",",["T_WHITESPACE","  ",316],["T_CONSTANT_ENCAPSED_STRING","'title'",316],["T_DOUBLE_ARROW","=>",316],["T_VARIABLE","$title",316],")",")",";",["T_WHITESPACE","\n\n            ",316],["T_IF","if",318],"(",["T_VARIABLE","$ftp",318],")",["T_WHITESPACE"," ",318],"{",["T_WHITESPACE","\n                ",318],["T_VARIABLE","$packager",319],["T_OBJECT_OPERATOR","->",319],["T_STRING","writeToRemoteCache",319],"(",["T_VARIABLE","$cache",319],",",["T_WHITESPACE"," ",319],["T_VARIABLE","$ftpObj",319],")",";",["T_WHITESPACE","\n                ",319],"@",["T_STRING","unlink",320],"(",["T_VARIABLE","$config",320],["T_OBJECT_OPERATOR","->",320],["T_STRING","getFilename",320],"(",")",")",";",["T_WHITESPACE","\n            ",320],"}",["T_WHITESPACE","\n\n            ",321],["T_VARIABLE","$this",323],["T_OBJECT_OPERATOR","->",323],["T_STRING","ui",323],"(",")",["T_OBJECT_OPERATOR","->",323],["T_STRING","output",323],"(",["T_VARIABLE","$out",323],")",";",["T_WHITESPACE","\n            ",323],["T_RETURN","return",324],["T_WHITESPACE"," ",324],["T_VARIABLE","$out",324],"[",["T_VARIABLE","$command",324],"]","[",["T_CONSTANT_ENCAPSED_STRING","'data'",324],"]",";",["T_WHITESPACE","\n\n        ",324],"}",["T_WHITESPACE"," ",326],["T_CATCH","catch",326],["T_WHITESPACE"," ",326],"(",["T_STRING","Exception",326],["T_WHITESPACE"," ",326],["T_VARIABLE","$e",326],")",["T_WHITESPACE"," ",326],"{",["T_WHITESPACE","\n            ",326],["T_IF","if",327],"(",["T_VARIABLE","$ftp",327],")",["T_WHITESPACE"," ",327],"{",["T_WHITESPACE","\n                ",327],["T_VARIABLE","$packager",328],["T_OBJECT_OPERATOR","->",328],["T_STRING","writeToRemoteCache",328],"(",["T_VARIABLE","$cache",328],",",["T_WHITESPACE"," ",328],["T_VARIABLE","$ftpObj",328],")",";",["T_WHITESPACE","\n                ",328],"@",["T_STRING","unlink",329],"(",["T_VARIABLE","$config",329],["T_OBJECT_OPERATOR","->",329],["T_STRING","getFilename",329],"(",")",")",";",["T_WHITESPACE","\n            ",329],"}",["T_WHITESPACE","\n            ",330],["T_RETURN","return",331],["T_WHITESPACE"," ",331],["T_VARIABLE","$this",331],["T_OBJECT_OPERATOR","->",331],["T_STRING","doError",331],"(",["T_VARIABLE","$command",331],",",["T_WHITESPACE"," ",331],["T_VARIABLE","$e",331],["T_OBJECT_OPERATOR","->",331],["T_STRING","getMessage",331],"(",")",")",";",["T_WHITESPACE","\n        ",331],"}",["T_WHITESPACE","\n    ",332],"}",["T_WHITESPACE","\n\n    ",333],["T_DOC_COMMENT","\/**\n     * Upgrade action callback\n     * @param string $command\n     * @param array $options\n     * @param array $params\n     * @return void\n     *\/",335],["T_WHITESPACE","\n    ",341],["T_PUBLIC","public",342],["T_WHITESPACE"," ",342],["T_FUNCTION","function",342],["T_WHITESPACE"," ",342],["T_STRING","doUpgrade",342],"(",["T_VARIABLE","$command",342],",",["T_WHITESPACE"," ",342],["T_VARIABLE","$options",342],",",["T_WHITESPACE"," ",342],["T_VARIABLE","$params",342],")",["T_WHITESPACE","\n    ",342],"{",["T_WHITESPACE","\n        ",343],["T_VARIABLE","$options",344],"[",["T_CONSTANT_ENCAPSED_STRING","'title'",344],"]",["T_WHITESPACE"," ",344],"=",["T_WHITESPACE"," ",344],["T_CONSTANT_ENCAPSED_STRING","\"Package upgraded: \"",344],";",["T_WHITESPACE","\n        ",344],["T_RETURN","return",345],["T_WHITESPACE"," ",345],["T_VARIABLE","$this",345],["T_OBJECT_OPERATOR","->",345],["T_STRING","doInstall",345],"(",["T_VARIABLE","$command",345],",",["T_WHITESPACE"," ",345],["T_VARIABLE","$options",345],",",["T_WHITESPACE"," ",345],["T_VARIABLE","$params",345],")",";",["T_WHITESPACE","\n    ",345],"}",["T_WHITESPACE","\n\n    ",346],["T_DOC_COMMENT","\/**\n     * Updgrade action callback\n     * @param string $command\n     * @param array $options\n     * @param array $params\n     * @return void\n     *\/",348],["T_WHITESPACE","\n    ",354],["T_PUBLIC","public",355],["T_WHITESPACE"," ",355],["T_FUNCTION","function",355],["T_WHITESPACE"," ",355],["T_STRING","doUpgradeAll",355],"(",["T_VARIABLE","$command",355],",",["T_WHITESPACE"," ",355],["T_VARIABLE","$options",355],",",["T_WHITESPACE"," ",355],["T_VARIABLE","$params",355],")",["T_WHITESPACE","\n    ",355],"{",["T_WHITESPACE","\n        ",356],["T_VARIABLE","$options",357],"[",["T_CONSTANT_ENCAPSED_STRING","'title'",357],"]",["T_WHITESPACE"," ",357],"=",["T_WHITESPACE"," ",357],["T_CONSTANT_ENCAPSED_STRING","\"Package upgraded: \"",357],";",["T_WHITESPACE","\n        ",357],["T_RETURN","return",358],["T_WHITESPACE"," ",358],["T_VARIABLE","$this",358],["T_OBJECT_OPERATOR","->",358],["T_STRING","doInstall",358],"(",["T_VARIABLE","$command",358],",",["T_WHITESPACE"," ",358],["T_VARIABLE","$options",358],",",["T_WHITESPACE"," ",358],["T_VARIABLE","$params",358],")",";",["T_WHITESPACE","\n    ",358],"}",["T_WHITESPACE","\n\n    ",359],["T_DOC_COMMENT","\/**\n     * Uninstall package callback\n     * @param string $command\n     * @param array $options\n     * @param array $params\n     * @return unknown_type\n     *\/",361],["T_WHITESPACE","\n    ",367],["T_PUBLIC","public",368],["T_WHITESPACE"," ",368],["T_FUNCTION","function",368],["T_WHITESPACE"," ",368],["T_STRING","doUninstall",368],"(",["T_VARIABLE","$command",368],",",["T_WHITESPACE"," ",368],["T_VARIABLE","$options",368],",",["T_WHITESPACE"," ",368],["T_VARIABLE","$params",368],")",["T_WHITESPACE","\n    ",368],"{",["T_WHITESPACE","\n        ",369],["T_VARIABLE","$this",370],["T_OBJECT_OPERATOR","->",370],["T_STRING","cleanupParams",370],"(",["T_VARIABLE","$params",370],")",";",["T_WHITESPACE","\n        ",370],["T_COMMENT","\/\/$this->splitPackageArgs($params);\n",371],["T_WHITESPACE","\n        ",372],["T_TRY","try",373],["T_WHITESPACE"," ",373],"{",["T_WHITESPACE","\n            ",373],["T_IF","if",374],"(",["T_STRING","count",374],"(",["T_VARIABLE","$params",374],")",["T_WHITESPACE"," ",374],["T_IS_NOT_EQUAL","!=",374],["T_WHITESPACE"," ",374],["T_LNUMBER","2",374],")",["T_WHITESPACE"," ",374],"{",["T_WHITESPACE","\n                ",374],["T_THROW","throw",375],["T_WHITESPACE"," ",375],["T_NEW","new",375],["T_WHITESPACE"," ",375],["T_STRING","Exception",375],"(",["T_CONSTANT_ENCAPSED_STRING","\"Argument count should be = 2\"",375],")",";",["T_WHITESPACE","\n            ",375],"}",["T_WHITESPACE","\n\n            ",376],["T_VARIABLE","$channel",378],["T_WHITESPACE"," ",378],"=",["T_WHITESPACE"," ",378],["T_VARIABLE","$params",378],"[",["T_LNUMBER","0",378],"]",";",["T_WHITESPACE","\n            ",378],["T_VARIABLE","$package",379],["T_WHITESPACE"," ",379],"=",["T_WHITESPACE"," ",379],["T_VARIABLE","$params",379],"[",["T_LNUMBER","1",379],"]",";",["T_WHITESPACE","\n            ",379],["T_VARIABLE","$packager",380],["T_WHITESPACE"," ",380],"=",["T_WHITESPACE"," ",380],["T_VARIABLE","$this",380],["T_OBJECT_OPERATOR","->",380],["T_STRING","getPackager",380],"(",")",";",["T_WHITESPACE","\n            ",380],["T_VARIABLE","$withDepsMode",381],["T_WHITESPACE"," ",381],"=",["T_WHITESPACE"," ",381],"!",["T_ISSET","isset",381],"(",["T_VARIABLE","$options",381],"[",["T_CONSTANT_ENCAPSED_STRING","'nodeps'",381],"]",")",";",["T_WHITESPACE","\n            ",381],["T_VARIABLE","$forceMode",382],["T_WHITESPACE"," ",382],"=",["T_WHITESPACE"," ",382],["T_ISSET","isset",382],"(",["T_VARIABLE","$options",382],"[",["T_CONSTANT_ENCAPSED_STRING","'force'",382],"]",")",";",["T_WHITESPACE","\n\n            ",382],["T_VARIABLE","$ftp",384],["T_WHITESPACE"," ",384],"=",["T_WHITESPACE"," ",384],["T_EMPTY","empty",384],"(",["T_VARIABLE","$options",384],"[",["T_CONSTANT_ENCAPSED_STRING","'ftp'",384],"]",")",["T_WHITESPACE"," ",384],"?",["T_WHITESPACE"," ",384],["T_STRING","false",384],["T_WHITESPACE"," ",384],":",["T_WHITESPACE"," ",384],["T_VARIABLE","$options",384],"[",["T_CONSTANT_ENCAPSED_STRING","'ftp'",384],"]",";",["T_WHITESPACE","\n            ",384],["T_IF","if",385],"(",["T_VARIABLE","$ftp",385],")",["T_WHITESPACE"," ",385],"{",["T_WHITESPACE","\n                ",385],["T_LIST","list",386],"(",["T_VARIABLE","$cache",386],",",["T_WHITESPACE"," ",386],["T_VARIABLE","$config",386],",",["T_WHITESPACE"," ",386],["T_VARIABLE","$ftpObj",386],")",["T_WHITESPACE"," ",386],"=",["T_WHITESPACE"," ",386],["T_VARIABLE","$packager",386],["T_OBJECT_OPERATOR","->",386],["T_STRING","getRemoteConf",386],"(",["T_VARIABLE","$ftp",386],")",";",["T_WHITESPACE","\n            ",386],"}",["T_WHITESPACE"," ",387],["T_ELSE","else",387],["T_WHITESPACE"," ",387],"{",["T_WHITESPACE","\n                ",387],["T_VARIABLE","$cache",388],["T_WHITESPACE"," ",388],"=",["T_WHITESPACE"," ",388],["T_VARIABLE","$this",388],["T_OBJECT_OPERATOR","->",388],["T_STRING","getSconfig",388],"(",")",";",["T_WHITESPACE","\n                ",388],["T_VARIABLE","$config",389],["T_WHITESPACE"," ",389],"=",["T_WHITESPACE"," ",389],["T_VARIABLE","$this",389],["T_OBJECT_OPERATOR","->",389],["T_STRING","config",389],"(",")",";",["T_WHITESPACE","\n            ",389],"}",["T_WHITESPACE","\n\n            ",390],["T_VARIABLE","$chan",392],["T_WHITESPACE"," ",392],"=",["T_WHITESPACE"," ",392],["T_VARIABLE","$cache",392],["T_OBJECT_OPERATOR","->",392],["T_STRING","getChannel",392],"(",["T_VARIABLE","$channel",392],")",";",["T_WHITESPACE","\n            ",392],["T_VARIABLE","$channel",393],["T_WHITESPACE"," ",393],"=",["T_WHITESPACE"," ",393],["T_VARIABLE","$cache",393],["T_OBJECT_OPERATOR","->",393],["T_STRING","chanName",393],"(",["T_VARIABLE","$channel",393],")",";",["T_WHITESPACE","\n            ",393],["T_IF","if",394],"(","!",["T_VARIABLE","$cache",394],["T_OBJECT_OPERATOR","->",394],["T_STRING","hasPackage",394],"(",["T_VARIABLE","$channel",394],",",["T_WHITESPACE"," ",394],["T_VARIABLE","$package",394],")",")",["T_WHITESPACE"," ",394],"{",["T_WHITESPACE","\n                ",394],["T_THROW","throw",395],["T_WHITESPACE"," ",395],["T_NEW","new",395],["T_WHITESPACE"," ",395],["T_STRING","Exception",395],"(",["T_CONSTANT_ENCAPSED_STRING","\"Package is not installed\"",395],")",";",["T_WHITESPACE","\n            ",395],"}",["T_WHITESPACE","\n\n            ",396],["T_VARIABLE","$deletedPackages",398],["T_WHITESPACE"," ",398],"=",["T_WHITESPACE"," ",398],["T_ARRAY","array",398],"(",")",";",["T_WHITESPACE","\n            ",398],["T_VARIABLE","$list",399],["T_WHITESPACE"," ",399],"=",["T_WHITESPACE"," ",399],["T_VARIABLE","$packager",399],["T_OBJECT_OPERATOR","->",399],["T_STRING","getUninstallList",399],"(",["T_VARIABLE","$channel",399],",",["T_WHITESPACE"," ",399],["T_VARIABLE","$package",399],",",["T_WHITESPACE"," ",399],["T_VARIABLE","$cache",399],",",["T_WHITESPACE"," ",399],["T_VARIABLE","$config",399],",",["T_WHITESPACE"," ",399],["T_VARIABLE","$withDepsMode",399],")",";",["T_WHITESPACE","\n            ",399],["T_FOREACH","foreach",400],"(",["T_VARIABLE","$list",400],"[",["T_CONSTANT_ENCAPSED_STRING","'list'",400],"]",["T_WHITESPACE"," ",400],["T_AS","as",400],["T_WHITESPACE"," ",400],["T_VARIABLE","$packageData",400],")",["T_WHITESPACE"," ",400],"{",["T_WHITESPACE","\n                ",400],["T_TRY","try",401],["T_WHITESPACE"," ",401],"{",["T_WHITESPACE","\n                    ",401],["T_VARIABLE","$reqd",402],["T_WHITESPACE"," ",402],"=",["T_WHITESPACE"," ",402],["T_VARIABLE","$cache",402],["T_OBJECT_OPERATOR","->",402],["T_STRING","requiredByOtherPackages",402],"(",["T_VARIABLE","$packageData",402],"[",["T_CONSTANT_ENCAPSED_STRING","'channel'",402],"]",",",["T_WHITESPACE"," ",402],["T_VARIABLE","$packageData",402],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",402],"]",",",["T_WHITESPACE"," ",402],["T_VARIABLE","$list",402],"[",["T_CONSTANT_ENCAPSED_STRING","'list'",402],"]",")",";",["T_WHITESPACE","\n                    ",402],["T_IF","if",403],"(",["T_STRING","count",403],"(",["T_VARIABLE","$reqd",403],")",")",["T_WHITESPACE"," ",403],"{",["T_WHITESPACE","\n                        ",403],["T_VARIABLE","$errMessage",404],["T_WHITESPACE"," ",404],"=",["T_WHITESPACE"," ",404],"\"",["T_CURLY_OPEN","{",404],["T_VARIABLE","$packageData",404],"[",["T_CONSTANT_ENCAPSED_STRING","'channel'",404],"]","}",["T_ENCAPSED_AND_WHITESPACE","\/",404],["T_CURLY_OPEN","{",404],["T_VARIABLE","$packageData",404],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",404],"]","}",["T_ENCAPSED_AND_WHITESPACE"," ",404],["T_CURLY_OPEN","{",404],["T_VARIABLE","$packageData",404],"[",["T_CONSTANT_ENCAPSED_STRING","'version'",404],"]","}",["T_ENCAPSED_AND_WHITESPACE"," is required by: ",404],"\"",";",["T_WHITESPACE","\n                        ",404],["T_VARIABLE","$t",405],["T_WHITESPACE"," ",405],"=",["T_WHITESPACE"," ",405],["T_ARRAY","array",405],"(",")",";",["T_WHITESPACE","\n                        ",405],["T_FOREACH","foreach",406],"(",["T_VARIABLE","$reqd",406],["T_WHITESPACE"," ",406],["T_AS","as",406],["T_WHITESPACE"," ",406],["T_VARIABLE","$r",406],")",["T_WHITESPACE"," ",406],"{",["T_WHITESPACE","\n                            ",406],["T_VARIABLE","$t",407],"[","]",["T_WHITESPACE"," ",407],"=",["T_WHITESPACE"," ",407],["T_VARIABLE","$r",407],"[",["T_CONSTANT_ENCAPSED_STRING","'channel'",407],"]",".",["T_CONSTANT_ENCAPSED_STRING","\"\/\"",407],".",["T_VARIABLE","$r",407],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",407],"]",".",["T_WHITESPACE"," ",407],["T_CONSTANT_ENCAPSED_STRING","\" \"",407],".",["T_VARIABLE","$r",407],"[",["T_CONSTANT_ENCAPSED_STRING","'version'",407],"]",";",["T_WHITESPACE","\n                        ",407],"}",["T_WHITESPACE","\n                        ",408],["T_VARIABLE","$errMessage",409],["T_WHITESPACE"," ",409],["T_CONCAT_EQUAL",".=",409],["T_WHITESPACE"," ",409],["T_STRING","implode",409],"(",["T_CONSTANT_ENCAPSED_STRING","\", \"",409],",",["T_WHITESPACE"," ",409],["T_VARIABLE","$t",409],")",";",["T_WHITESPACE","\n                        ",409],["T_IF","if",410],"(",["T_VARIABLE","$forceMode",410],")",["T_WHITESPACE"," ",410],"{",["T_WHITESPACE","\n                            ",410],["T_VARIABLE","$this",411],["T_OBJECT_OPERATOR","->",411],["T_STRING","ui",411],"(",")",["T_OBJECT_OPERATOR","->",411],["T_STRING","output",411],"(",["T_CONSTANT_ENCAPSED_STRING","\"Warning: \"",411],".",["T_VARIABLE","$errMessage",411],")",";",["T_WHITESPACE","\n                        ",411],"}",["T_WHITESPACE"," ",412],["T_ELSE","else",412],["T_WHITESPACE"," ",412],"{",["T_WHITESPACE","\n                            ",412],["T_THROW","throw",413],["T_WHITESPACE"," ",413],["T_NEW","new",413],["T_WHITESPACE"," ",413],["T_STRING","Exception",413],"(",["T_VARIABLE","$errMessage",413],")",";",["T_WHITESPACE","\n                        ",413],"}",["T_WHITESPACE","\n                    ",414],"}",["T_WHITESPACE","\n\n                    ",415],["T_LIST","list",417],"(",["T_VARIABLE","$chan",417],",",["T_WHITESPACE"," ",417],["T_VARIABLE","$pack",417],")",["T_WHITESPACE"," ",417],"=",["T_WHITESPACE"," ",417],["T_ARRAY","array",417],"(",["T_VARIABLE","$packageData",417],"[",["T_CONSTANT_ENCAPSED_STRING","'channel'",417],"]",",",["T_WHITESPACE"," ",417],["T_VARIABLE","$packageData",417],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",417],"]",")",";",["T_WHITESPACE","\n                    ",417],["T_IF","if",418],"(",["T_VARIABLE","$ftp",418],")",["T_WHITESPACE"," ",418],"{",["T_WHITESPACE","\n                        ",418],["T_VARIABLE","$packager",419],["T_OBJECT_OPERATOR","->",419],["T_STRING","processUninstallPackageFtp",419],"(",["T_VARIABLE","$chan",419],",",["T_WHITESPACE"," ",419],["T_VARIABLE","$pack",419],",",["T_WHITESPACE"," ",419],["T_VARIABLE","$cache",419],",",["T_WHITESPACE"," ",419],["T_VARIABLE","$config",419],",",["T_WHITESPACE","  ",419],["T_VARIABLE","$ftp",419],")",";",["T_WHITESPACE","\n                    ",419],"}",["T_WHITESPACE"," ",420],["T_ELSE","else",420],["T_WHITESPACE"," ",420],"{",["T_WHITESPACE","\n                        ",420],["T_VARIABLE","$packager",421],["T_OBJECT_OPERATOR","->",421],["T_STRING","processUninstallPackage",421],"(",["T_VARIABLE","$chan",421],",",["T_WHITESPACE"," ",421],["T_VARIABLE","$pack",421],",",["T_WHITESPACE"," ",421],["T_VARIABLE","$cache",421],",",["T_WHITESPACE"," ",421],["T_VARIABLE","$config",421],")",";",["T_WHITESPACE","\n                    ",421],"}",["T_WHITESPACE","\n                    ",422],["T_VARIABLE","$cache",423],["T_OBJECT_OPERATOR","->",423],["T_STRING","deletePackage",423],"(",["T_VARIABLE","$chan",423],",",["T_WHITESPACE"," ",423],["T_VARIABLE","$pack",423],")",";",["T_WHITESPACE","\n                    ",423],["T_VARIABLE","$deletedPackages",424],"[","]",["T_WHITESPACE"," ",424],"=",["T_WHITESPACE"," ",424],["T_ARRAY","array",424],"(",["T_VARIABLE","$chan",424],",",["T_WHITESPACE"," ",424],["T_VARIABLE","$pack",424],")",";",["T_WHITESPACE","\n\n                ",424],"}",["T_WHITESPACE"," ",426],["T_CATCH","catch",426],"(",["T_STRING","Exception",426],["T_WHITESPACE"," ",426],["T_VARIABLE","$e",426],")",["T_WHITESPACE"," ",426],"{",["T_WHITESPACE","\n                    ",426],["T_IF","if",427],"(",["T_VARIABLE","$forceMode",427],")",["T_WHITESPACE"," ",427],"{",["T_WHITESPACE","\n                        ",427],["T_VARIABLE","$this",428],["T_OBJECT_OPERATOR","->",428],["T_STRING","doError",428],"(",["T_VARIABLE","$command",428],",",["T_WHITESPACE"," ",428],["T_VARIABLE","$e",428],["T_OBJECT_OPERATOR","->",428],["T_STRING","getMessage",428],"(",")",")",";",["T_WHITESPACE","\n                    ",428],"}",["T_WHITESPACE"," ",429],["T_ELSE","else",429],["T_WHITESPACE"," ",429],"{",["T_WHITESPACE","\n                        ",429],["T_THROW","throw",430],["T_WHITESPACE"," ",430],["T_NEW","new",430],["T_WHITESPACE"," ",430],["T_STRING","Exception",430],"(",["T_VARIABLE","$e",430],["T_OBJECT_OPERATOR","->",430],["T_STRING","getMessage",430],"(",")",")",";",["T_WHITESPACE","\n                    ",430],"}",["T_WHITESPACE","\n                ",431],"}",["T_WHITESPACE","\n            ",432],"}",["T_WHITESPACE","\n            ",433],["T_IF","if",434],"(",["T_VARIABLE","$ftp",434],")",["T_WHITESPACE"," ",434],"{",["T_WHITESPACE","\n                ",434],["T_VARIABLE","$packager",435],["T_OBJECT_OPERATOR","->",435],["T_STRING","writeToRemoteCache",435],"(",["T_VARIABLE","$cache",435],",",["T_WHITESPACE"," ",435],["T_VARIABLE","$ftpObj",435],")",";",["T_WHITESPACE","\n                ",435],"@",["T_STRING","unlink",436],"(",["T_VARIABLE","$config",436],["T_OBJECT_OPERATOR","->",436],["T_STRING","getFilename",436],"(",")",")",";",["T_WHITESPACE","\n            ",436],"}",["T_WHITESPACE","\n            ",437],["T_VARIABLE","$out",438],["T_WHITESPACE"," ",438],"=",["T_WHITESPACE"," ",438],["T_ARRAY","array",438],"(",["T_VARIABLE","$command",438],["T_DOUBLE_ARROW","=>",438],["T_ARRAY","array",438],"(",["T_CONSTANT_ENCAPSED_STRING","'data'",438],["T_DOUBLE_ARROW","=>",438],["T_VARIABLE","$deletedPackages",438],",",["T_WHITESPACE"," ",438],["T_CONSTANT_ENCAPSED_STRING","'title'",438],["T_DOUBLE_ARROW","=>",438],["T_CONSTANT_ENCAPSED_STRING","'Package deleted: '",438],")",")",";",["T_WHITESPACE","\n            ",438],["T_VARIABLE","$this",439],["T_OBJECT_OPERATOR","->",439],["T_STRING","ui",439],"(",")",["T_OBJECT_OPERATOR","->",439],["T_STRING","output",439],"(",["T_VARIABLE","$out",439],")",";",["T_WHITESPACE","\n\n        ",439],"}",["T_WHITESPACE"," ",441],["T_CATCH","catch",441],["T_WHITESPACE"," ",441],"(",["T_STRING","Exception",441],["T_WHITESPACE"," ",441],["T_VARIABLE","$e",441],")",["T_WHITESPACE"," ",441],"{",["T_WHITESPACE","\n            ",441],["T_RETURN","return",442],["T_WHITESPACE"," ",442],["T_VARIABLE","$this",442],["T_OBJECT_OPERATOR","->",442],["T_STRING","doError",442],"(",["T_VARIABLE","$command",442],",",["T_WHITESPACE"," ",442],["T_VARIABLE","$e",442],["T_OBJECT_OPERATOR","->",442],["T_STRING","getMessage",442],"(",")",")",";",["T_WHITESPACE","\n        ",442],"}",["T_WHITESPACE","\n\n    ",443],"}",["T_WHITESPACE","\n\n",445],"}",["T_WHITESPACE","\n\n",447]]