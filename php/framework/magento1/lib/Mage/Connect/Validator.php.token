[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Magento\n *\n * NOTICE OF LICENSE\n *\n * This source file is subject to the Open Software License (OSL 3.0)\n * that is bundled with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/opensource.org\/licenses\/osl-3.0.php\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@magento.com so we can send you a copy immediately.\n *\n * DISCLAIMER\n *\n * Do not edit or add to this file if you wish to upgrade Magento to newer\n * versions in the future. If you wish to customize Magento for your\n * needs please refer to http:\/\/www.magento.com for more information.\n *\n * @category    Mage\n * @package     Mage_Connect\n * @copyright  Copyright (c) 2006-2016 X.commerce, Inc. and affiliates (http:\/\/www.magento.com)\n * @license    http:\/\/opensource.org\/licenses\/osl-3.0.php  Open Software License (OSL 3.0)\n *\/",2],["T_WHITESPACE","\n\n",25],["T_DOC_COMMENT","\/**\n * Class to validate string resources\n *\n * @category    Mage\n * @package     Mage_Connect\n * @author      Magento Core Team <core@magentocommerce.com>\n *\/",27],["T_WHITESPACE","\n\n",33],["T_CLASS","class",35],["T_WHITESPACE"," ",35],["T_STRING","Mage_Connect_Validator",35],["T_WHITESPACE","\n",35],"{",["T_WHITESPACE","\n    ",36],["T_PROTECTED","protected",37],["T_WHITESPACE"," ",37],["T_STATIC","static",37],["T_WHITESPACE"," ",37],["T_VARIABLE","$_stability",37],["T_WHITESPACE"," ",37],"=",["T_WHITESPACE"," ",37],["T_ARRAY","array",37],"(",["T_LNUMBER","0",37],["T_DOUBLE_ARROW","=>",37],["T_CONSTANT_ENCAPSED_STRING","'devel'",37],",",["T_LNUMBER","1",37],["T_DOUBLE_ARROW","=>",37],["T_CONSTANT_ENCAPSED_STRING","'alpha'",37],",",["T_LNUMBER","2",37],["T_DOUBLE_ARROW","=>",37],["T_CONSTANT_ENCAPSED_STRING","'beta'",37],",",["T_LNUMBER","3",37],["T_DOUBLE_ARROW","=>",37],["T_CONSTANT_ENCAPSED_STRING","'stable'",37],")",";",["T_WHITESPACE","\n\n\n    ",37],["T_PUBLIC","public",40],["T_WHITESPACE"," ",40],["T_STATIC","static",40],["T_WHITESPACE"," ",40],["T_FUNCTION","function",40],["T_WHITESPACE"," ",40],["T_STRING","getStabilities",40],"(",")",["T_WHITESPACE","\n    ",40],"{",["T_WHITESPACE","\n        ",41],["T_RETURN","return",42],["T_WHITESPACE"," ",42],["T_STRING","self",42],["T_DOUBLE_COLON","::",42],["T_VARIABLE","$_stability",42],";",["T_WHITESPACE","\n    ",42],"}",["T_WHITESPACE","\n\n\n\n    ",43],["T_DOC_COMMENT","\/**\n     * Compare stabilities. Returns:\n     *\n     * -1 if the first stability is lower than the second\n     *  0 if they are equal\n     *  1 if the second is lower.\n     * @param $s1\n     * @param $s2\n     * @return int\n     *\/",47],["T_WHITESPACE","\n    ",56],["T_PUBLIC","public",57],["T_WHITESPACE"," ",57],["T_FUNCTION","function",57],["T_WHITESPACE"," ",57],["T_STRING","compareStabilities",57],"(",["T_VARIABLE","$s1",57],",",["T_WHITESPACE"," ",57],["T_VARIABLE","$s2",57],")",["T_WHITESPACE","\n    ",57],"{",["T_WHITESPACE","\n        ",58],["T_VARIABLE","$list",59],["T_WHITESPACE"," ",59],"=",["T_WHITESPACE"," ",59],["T_VARIABLE","$this",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","getStabilities",59],"(",")",";",["T_WHITESPACE","\n        ",59],["T_VARIABLE","$tmp",60],["T_WHITESPACE"," ",60],"=",["T_WHITESPACE"," ",60],["T_STRING","array_combine",60],"(",["T_STRING","array_values",60],"(",["T_VARIABLE","$list",60],")",",",["T_STRING","array_keys",60],"(",["T_VARIABLE","$list",60],")",")",";",["T_WHITESPACE","\n\n        ",60],["T_IF","if",62],"(","!",["T_ISSET","isset",62],"(",["T_VARIABLE","$tmp",62],"[",["T_VARIABLE","$s1",62],"]",",",["T_WHITESPACE"," ",62],["T_VARIABLE","$tmp",62],"[",["T_VARIABLE","$s2",62],"]",")",")",["T_WHITESPACE"," ",62],"{",["T_WHITESPACE","\n            ",62],["T_THROW","throw",63],["T_WHITESPACE"," ",63],["T_NEW","new",63],["T_WHITESPACE"," ",63],["T_STRING","Exception",63],"(",["T_CONSTANT_ENCAPSED_STRING","\"Invalid stability in compareStabilities argument\"",63],")",";",["T_WHITESPACE","\n        ",63],"}",["T_WHITESPACE","\n\n\n        ",64],["T_COMMENT","\/\/ 'stable' turns to 3\n",67],["T_WHITESPACE","        ",68],["T_COMMENT","\/\/ 'devel' turns to 0\n",68],["T_WHITESPACE","        ",69],["T_VARIABLE","$s1",69],["T_WHITESPACE"," ",69],"=",["T_WHITESPACE"," ",69],["T_VARIABLE","$tmp",69],"[",["T_VARIABLE","$s1",69],"]",";",["T_WHITESPACE","\n        ",69],["T_VARIABLE","$s2",70],["T_WHITESPACE"," ",70],"=",["T_WHITESPACE"," ",70],["T_VARIABLE","$tmp",70],"[",["T_VARIABLE","$s2",70],"]",";",["T_WHITESPACE","\n        ",70],["T_IF","if",71],"(",["T_VARIABLE","$s1",71],["T_WHITESPACE"," ",71],["T_IS_IDENTICAL","===",71],["T_WHITESPACE"," ",71],["T_VARIABLE","$s2",71],")",["T_WHITESPACE"," ",71],"{",["T_WHITESPACE","\n            ",71],["T_RETURN","return",72],["T_WHITESPACE"," ",72],["T_LNUMBER","0",72],";",["T_WHITESPACE","\n        ",72],"}",["T_WHITESPACE"," ",73],["T_ELSEIF","elseif",73],"(",["T_VARIABLE","$s1",73],["T_WHITESPACE"," ",73],">",["T_WHITESPACE"," ",73],["T_VARIABLE","$s2",73],")",["T_WHITESPACE"," ",73],"{",["T_WHITESPACE","\n            ",73],["T_RETURN","return",74],["T_WHITESPACE"," ",74],["T_LNUMBER","1",74],";",["T_WHITESPACE","\n        ",74],"}",["T_WHITESPACE"," ",75],["T_ELSEIF","elseif",75],"(",["T_VARIABLE","$s1",75],["T_WHITESPACE"," ",75],"<",["T_WHITESPACE"," ",75],["T_VARIABLE","$s2",75],")",["T_WHITESPACE"," ",75],"{",["T_WHITESPACE","\n            ",75],["T_RETURN","return",76],["T_WHITESPACE"," ",76],"-",["T_LNUMBER","1",76],";",["T_WHITESPACE","\n        ",76],"}",["T_WHITESPACE","\n    ",77],"}",["T_WHITESPACE","\n\n    ",78],["T_DOC_COMMENT","\/**\n     * Constructor\n     *\/",80],["T_WHITESPACE","\n    ",82],["T_PUBLIC","public",83],["T_WHITESPACE"," ",83],["T_FUNCTION","function",83],["T_WHITESPACE"," ",83],["T_STRING","__construct",83],"(",")",["T_WHITESPACE","\n    ",83],"{",["T_WHITESPACE","\n\n    ",84],"}",["T_WHITESPACE","\n\n    ",86],["T_DOC_COMMENT","\/**\n     * Validate max len of string\n     * @param string $str\n     * @param int $maxLen\n     * @return bool\n     *\/",88],["T_WHITESPACE","\n    ",93],["T_PUBLIC","public",94],["T_WHITESPACE"," ",94],["T_FUNCTION","function",94],["T_WHITESPACE"," ",94],["T_STRING","validateMaxLen",94],"(",["T_VARIABLE","$str",94],",",["T_WHITESPACE"," ",94],["T_VARIABLE","$maxLen",94],")",["T_WHITESPACE","\n    ",94],"{",["T_WHITESPACE","\n        ",95],["T_RETURN","return",96],["T_WHITESPACE"," ",96],["T_STRING","strlen",96],"(",["T_STRING_CAST","(string)",96],["T_WHITESPACE"," ",96],["T_VARIABLE","$str",96],")",["T_WHITESPACE"," ",96],["T_IS_SMALLER_OR_EQUAL","<=",96],["T_WHITESPACE"," ",96],["T_INT_CAST","(int)",96],["T_WHITESPACE"," ",96],["T_VARIABLE","$maxLen",96],";",["T_WHITESPACE","\n    ",96],"}",["T_WHITESPACE","\n\n    ",97],["T_DOC_COMMENT","\/**\n    * Validate channel name and url\n    *\n    * @param mixed $str\n    * @return bool\n    *\/",99],["T_WHITESPACE","\n    ",104],["T_PUBLIC","public",105],["T_WHITESPACE"," ",105],["T_FUNCTION","function",105],["T_WHITESPACE"," ",105],["T_STRING","validateChannelNameOrUri",105],"(",["T_VARIABLE","$str",105],")",["T_WHITESPACE","\n    ",105],"{",["T_WHITESPACE","\n        ",106],["T_RETURN","return",107],["T_WHITESPACE"," ",107],"(",["T_WHITESPACE"," ",107],["T_VARIABLE","$this",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","validateUrl",107],"(",["T_VARIABLE","$str",107],")",["T_WHITESPACE"," ",107],["T_BOOLEAN_OR","||",107],["T_WHITESPACE"," ",107],["T_VARIABLE","$this",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","validatePackageName",107],"(",["T_VARIABLE","$str",107],")",")",";",["T_WHITESPACE","\n    ",107],"}",["T_WHITESPACE","\n\n    ",108],["T_DOC_COMMENT","\/**\n    * Validate License url\n    *\n    * @param mixed $str\n    * @return boolean\n    *\/",110],["T_WHITESPACE","\n    ",115],["T_PUBLIC","public",116],["T_WHITESPACE"," ",116],["T_FUNCTION","function",116],["T_WHITESPACE"," ",116],["T_STRING","validateLicenseUrl",116],"(",["T_VARIABLE","$str",116],")",["T_WHITESPACE","\n    ",116],"{",["T_WHITESPACE","\n        ",117],["T_IF","if",118],["T_WHITESPACE"," ",118],"(",["T_VARIABLE","$str",118],")",["T_WHITESPACE"," ",118],"{",["T_WHITESPACE","\n            ",118],["T_RETURN","return",119],["T_WHITESPACE"," ",119],"(",["T_WHITESPACE"," ",119],["T_VARIABLE","$this",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","validateUrl",119],"(",["T_VARIABLE","$str",119],")",["T_WHITESPACE"," ",119],["T_BOOLEAN_OR","||",119],["T_WHITESPACE"," ",119],["T_VARIABLE","$this",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","validatePackageName",119],"(",["T_VARIABLE","$str",119],")",")",";",["T_WHITESPACE","\n        ",119],"}",["T_WHITESPACE","\n        ",120],["T_RETURN","return",121],["T_WHITESPACE"," ",121],["T_STRING","true",121],";",["T_WHITESPACE","\n    ",121],"}",["T_WHITESPACE","\n\n    ",122],["T_DOC_COMMENT","\/**\n     * Validate compatible data\n     * @param array $data\n     * @return bool\n     *\/",124],["T_WHITESPACE","\n    ",128],["T_PUBLIC","public",129],["T_WHITESPACE"," ",129],["T_FUNCTION","function",129],["T_WHITESPACE"," ",129],["T_STRING","validateCompatible",129],"(",["T_ARRAY","array",129],["T_WHITESPACE"," ",129],["T_VARIABLE","$data",129],")",["T_WHITESPACE","\n    ",129],"{",["T_WHITESPACE","\n        ",130],["T_IF","if",131],"(","!",["T_STRING","count",131],"(",["T_VARIABLE","$data",131],")",")",["T_WHITESPACE"," ",131],"{",["T_WHITESPACE","\n            ",131],["T_DOC_COMMENT","\/**\n             * Allow empty\n             *\/",132],["T_WHITESPACE","\n            ",134],["T_RETURN","return",135],["T_WHITESPACE"," ",135],["T_STRING","true",135],";",["T_WHITESPACE","\n        ",135],"}",["T_WHITESPACE","\n        ",136],["T_VARIABLE","$count",137],["T_WHITESPACE"," ",137],"=",["T_WHITESPACE"," ",137],["T_LNUMBER","0",137],";",["T_WHITESPACE","\n        ",137],["T_FOREACH","foreach",138],"(",["T_VARIABLE","$data",138],["T_WHITESPACE"," ",138],["T_AS","as",138],["T_WHITESPACE"," ",138],["T_VARIABLE","$k",138],["T_DOUBLE_ARROW","=>",138],["T_VARIABLE","$v",138],")",["T_WHITESPACE"," ",138],"{",["T_WHITESPACE","\n           ",138],["T_FOREACH","foreach",139],"(",["T_ARRAY","array",139],"(",["T_CONSTANT_ENCAPSED_STRING","'name'",139],",",["T_CONSTANT_ENCAPSED_STRING","'channel'",139],",",["T_CONSTANT_ENCAPSED_STRING","'min'",139],",",["T_CONSTANT_ENCAPSED_STRING","'max'",139],")",["T_WHITESPACE"," ",139],["T_AS","as",139],["T_WHITESPACE"," ",139],["T_VARIABLE","$fld",139],")",["T_WHITESPACE"," ",139],"{",["T_WHITESPACE","\n                 ",139],"$",["T_VARIABLE","$fld",140],["T_WHITESPACE"," ",140],"=",["T_WHITESPACE"," ",140],["T_STRING","trim",140],"(",["T_VARIABLE","$v",140],"[",["T_VARIABLE","$fld",140],"]",")",";",["T_WHITESPACE","\n           ",140],"}",["T_WHITESPACE","\n           ",141],["T_VARIABLE","$count",142],["T_INC","++",142],";",["T_WHITESPACE","\n\n           ",142],["T_VARIABLE","$res",144],["T_WHITESPACE"," ",144],"=",["T_WHITESPACE"," ",144],["T_VARIABLE","$this",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","validateUrl",144],"(",["T_VARIABLE","$channel",144],")",["T_WHITESPACE"," ",144],["T_BOOLEAN_AND","&&",144],["T_WHITESPACE"," ",144],["T_STRING","strlen",144],"(",["T_VARIABLE","$channel",144],")",";",["T_WHITESPACE","\n           ",144],["T_IF","if",145],"(","!",["T_VARIABLE","$res",145],")",["T_WHITESPACE"," ",145],"{",["T_WHITESPACE","\n              ",145],["T_VARIABLE","$this",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","addError",146],"(","\"",["T_ENCAPSED_AND_WHITESPACE","Invalid or empty channel in compat. #",146],["T_CURLY_OPEN","{",146],["T_VARIABLE","$count",146],"}","\"",")",";",["T_WHITESPACE","\n           ",146],"}",["T_WHITESPACE","\n\n           ",147],["T_VARIABLE","$res",149],["T_WHITESPACE"," ",149],"=",["T_WHITESPACE"," ",149],["T_VARIABLE","$this",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","validatePackageName",149],"(",["T_VARIABLE","$name",149],")",["T_WHITESPACE"," ",149],["T_BOOLEAN_AND","&&",149],["T_WHITESPACE"," ",149],["T_STRING","strlen",149],"(",["T_VARIABLE","$name",149],")",";",["T_WHITESPACE","\n           ",149],["T_IF","if",150],"(","!",["T_VARIABLE","$res",150],")",["T_WHITESPACE"," ",150],"{",["T_WHITESPACE","\n              ",150],["T_VARIABLE","$this",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","addError",151],"(","\"",["T_ENCAPSED_AND_WHITESPACE","Invalid or empty name in compat. #",151],["T_CURLY_OPEN","{",151],["T_VARIABLE","$count",151],"}","\"",")",";",["T_WHITESPACE","\n           ",151],"}",["T_WHITESPACE","\n           ",152],["T_VARIABLE","$res1",153],["T_WHITESPACE"," ",153],"=",["T_WHITESPACE"," ",153],["T_VARIABLE","$this",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","validateVersion",153],"(",["T_VARIABLE","$min",153],")",";",["T_WHITESPACE","\n           ",153],["T_IF","if",154],"(","!",["T_VARIABLE","$res1",154],")",["T_WHITESPACE"," ",154],"{",["T_WHITESPACE","\n              ",154],["T_VARIABLE","$this",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","addError",155],"(","\"",["T_ENCAPSED_AND_WHITESPACE","Invalid or empty minVersion in compat. #",155],["T_CURLY_OPEN","{",155],["T_VARIABLE","$count",155],"}","\"",")",";",["T_WHITESPACE","\n           ",155],"}",["T_WHITESPACE","\n           ",156],["T_VARIABLE","$res2",157],["T_WHITESPACE"," ",157],"=",["T_WHITESPACE"," ",157],["T_VARIABLE","$this",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","validateVersion",157],"(",["T_VARIABLE","$max",157],")",";",["T_WHITESPACE","\n           ",157],["T_IF","if",158],"(","!",["T_VARIABLE","$res2",158],")",["T_WHITESPACE"," ",158],"{",["T_WHITESPACE","\n              ",158],["T_VARIABLE","$this",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","addError",159],"(","\"",["T_ENCAPSED_AND_WHITESPACE","Invalid or empty maxVersion in compat. #",159],["T_CURLY_OPEN","{",159],["T_VARIABLE","$count",159],"}","\"",")",";",["T_WHITESPACE","\n           ",159],"}",["T_WHITESPACE","\n           ",160],["T_IF","if",161],"(",["T_VARIABLE","$res1",161],["T_WHITESPACE"," ",161],["T_BOOLEAN_AND","&&",161],["T_WHITESPACE"," ",161],["T_VARIABLE","$res2",161],["T_WHITESPACE"," ",161],["T_BOOLEAN_AND","&&",161],["T_WHITESPACE"," ",161],["T_VARIABLE","$this",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","versionLower",161],"(",["T_VARIABLE","$max",161],",",["T_WHITESPACE"," ",161],["T_VARIABLE","$min",161],")",")",["T_WHITESPACE"," ",161],"{",["T_WHITESPACE","\n                 ",161],["T_VARIABLE","$this",162],["T_OBJECT_OPERATOR","->",162],["T_STRING","addError",162],"(","\"",["T_ENCAPSED_AND_WHITESPACE","Max version is lower than min in compat #",162],["T_CURLY_OPEN","{",162],["T_VARIABLE","$count",162],"}","\"",")",";",["T_WHITESPACE","\n           ",162],"}",["T_WHITESPACE","\n\n        ",163],"}",["T_WHITESPACE","\n        ",165],["T_RETURN","return",166],["T_WHITESPACE"," ",166],"!",["T_WHITESPACE"," ",166],["T_VARIABLE","$this",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","hasErrors",166],"(",")",";",["T_WHITESPACE","\n    ",166],"}",["T_WHITESPACE","\n\n    ",167],["T_DOC_COMMENT","\/**\n     * Validate authors of package\n     * @param array $authors\n     * @return bool\n     *\/",169],["T_WHITESPACE","\n    ",173],["T_PUBLIC","public",174],["T_WHITESPACE"," ",174],["T_FUNCTION","function",174],["T_WHITESPACE"," ",174],["T_STRING","validateAuthors",174],"(",["T_ARRAY","array",174],["T_WHITESPACE"," ",174],["T_VARIABLE","$authors",174],")",["T_WHITESPACE","\n    ",174],"{",["T_WHITESPACE","\n        ",175],["T_IF","if",176],"(","!",["T_STRING","count",176],"(",["T_VARIABLE","$authors",176],")",")",["T_WHITESPACE"," ",176],"{",["T_WHITESPACE","\n            ",176],["T_VARIABLE","$this",177],["T_OBJECT_OPERATOR","->",177],["T_STRING","addError",177],"(",["T_CONSTANT_ENCAPSED_STRING","'Empty authors section'",177],")",";",["T_WHITESPACE","\n            ",177],["T_RETURN","return",178],["T_WHITESPACE"," ",178],["T_STRING","false",178],";",["T_WHITESPACE","\n        ",178],"}",["T_WHITESPACE","\n        ",179],["T_VARIABLE","$count",180],["T_WHITESPACE"," ",180],"=",["T_WHITESPACE"," ",180],["T_LNUMBER","0",180],";",["T_WHITESPACE","\n        ",180],["T_FOREACH","foreach",181],"(",["T_VARIABLE","$authors",181],["T_WHITESPACE"," ",181],["T_AS","as",181],["T_WHITESPACE"," ",181],["T_VARIABLE","$k",181],["T_DOUBLE_ARROW","=>",181],["T_VARIABLE","$v",181],")",["T_WHITESPACE"," ",181],"{",["T_WHITESPACE","\n           ",181],["T_VARIABLE","$count",182],["T_INC","++",182],";",["T_WHITESPACE","\n           ",182],["T_STRING","array_map",183],"(",["T_CONSTANT_ENCAPSED_STRING","'trim'",183],",",["T_WHITESPACE"," ",183],["T_VARIABLE","$v",183],")",";",["T_WHITESPACE","\n           ",183],["T_VARIABLE","$name",184],["T_WHITESPACE"," ",184],"=",["T_WHITESPACE"," ",184],["T_VARIABLE","$v",184],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",184],"]",";",["T_WHITESPACE","\n           ",184],["T_VARIABLE","$login",185],["T_WHITESPACE"," ",185],"=",["T_WHITESPACE"," ",185],["T_VARIABLE","$v",185],"[",["T_CONSTANT_ENCAPSED_STRING","'user'",185],"]",";",["T_WHITESPACE","\n           ",185],["T_VARIABLE","$email",186],["T_WHITESPACE"," ",186],"=",["T_WHITESPACE"," ",186],["T_VARIABLE","$v",186],"[",["T_CONSTANT_ENCAPSED_STRING","'email'",186],"]",";",["T_WHITESPACE","\n           ",186],["T_VARIABLE","$res",187],["T_WHITESPACE"," ",187],"=",["T_WHITESPACE"," ",187],["T_VARIABLE","$this",187],["T_OBJECT_OPERATOR","->",187],["T_STRING","validateMaxLen",187],"(",["T_VARIABLE","$name",187],",",["T_WHITESPACE"," ",187],["T_LNUMBER","256",187],")",["T_WHITESPACE"," ",187],["T_BOOLEAN_AND","&&",187],["T_WHITESPACE"," ",187],["T_STRING","strlen",187],"(",["T_VARIABLE","$name",187],")",";",["T_WHITESPACE","\n           ",187],["T_IF","if",188],"(","!",["T_VARIABLE","$res",188],")",["T_WHITESPACE"," ",188],"{",["T_WHITESPACE","\n              ",188],["T_VARIABLE","$this",189],["T_OBJECT_OPERATOR","->",189],["T_STRING","addError",189],"(","\"",["T_ENCAPSED_AND_WHITESPACE","Invalid or empty name for author #",189],["T_CURLY_OPEN","{",189],["T_VARIABLE","$count",189],"}","\"",")",";",["T_WHITESPACE","\n           ",189],"}",["T_WHITESPACE","\n           ",190],["T_VARIABLE","$res",191],["T_WHITESPACE"," ",191],"=",["T_WHITESPACE"," ",191],["T_VARIABLE","$this",191],["T_OBJECT_OPERATOR","->",191],["T_STRING","validatePackageName",191],"(",["T_VARIABLE","$login",191],")",["T_WHITESPACE"," ",191],["T_BOOLEAN_AND","&&",191],["T_WHITESPACE"," ",191],["T_STRING","strlen",191],"(",["T_VARIABLE","$login",191],")",";",["T_WHITESPACE","\n           ",191],["T_IF","if",192],"(","!",["T_VARIABLE","$res",192],")",["T_WHITESPACE"," ",192],"{",["T_WHITESPACE","\n                 ",192],["T_VARIABLE","$this",193],["T_OBJECT_OPERATOR","->",193],["T_STRING","addError",193],"(","\"",["T_ENCAPSED_AND_WHITESPACE","Invalid or empty login for author #",193],["T_CURLY_OPEN","{",193],["T_VARIABLE","$count",193],"}","\"",")",";",["T_WHITESPACE","\n           ",193],"}",["T_WHITESPACE","\n           ",194],["T_VARIABLE","$res",195],["T_WHITESPACE"," ",195],"=",["T_WHITESPACE"," ",195],["T_VARIABLE","$this",195],["T_OBJECT_OPERATOR","->",195],["T_STRING","validateEmail",195],"(",["T_VARIABLE","$email",195],")",";",["T_WHITESPACE","\n           ",195],["T_IF","if",196],"(","!",["T_VARIABLE","$res",196],")",["T_WHITESPACE"," ",196],"{",["T_WHITESPACE","\n                 ",196],["T_VARIABLE","$this",197],["T_OBJECT_OPERATOR","->",197],["T_STRING","addError",197],"(","\"",["T_ENCAPSED_AND_WHITESPACE","Invalid or empty email for author #",197],["T_CURLY_OPEN","{",197],["T_VARIABLE","$count",197],"}","\"",")",";",["T_WHITESPACE","\n           ",197],"}",["T_WHITESPACE","\n        ",198],"}",["T_WHITESPACE","\n        ",199],["T_RETURN","return",200],["T_WHITESPACE"," ",200],"!",["T_WHITESPACE"," ",200],["T_VARIABLE","$this",200],["T_OBJECT_OPERATOR","->",200],["T_STRING","hasErrors",200],"(",")",";",["T_WHITESPACE","\n    ",200],"}",["T_WHITESPACE","\n\n\n    ",201],["T_DOC_COMMENT","\/**\n     * Validator errors\n     * @var array\n     *\/",204],["T_WHITESPACE","\n    ",207],["T_PRIVATE","private",208],["T_WHITESPACE"," ",208],["T_VARIABLE","$_errors",208],["T_WHITESPACE"," ",208],"=",["T_WHITESPACE"," ",208],["T_ARRAY","array",208],"(",")",";",["T_WHITESPACE","\n\n    ",208],["T_DOC_COMMENT","\/**\n     * Add error\n     * @param string $err\n     * @return\n     *\/",210],["T_WHITESPACE","\n    ",214],["T_PRIVATE","private",215],["T_WHITESPACE"," ",215],["T_FUNCTION","function",215],["T_WHITESPACE"," ",215],["T_STRING","addError",215],"(",["T_VARIABLE","$err",215],")",["T_WHITESPACE","\n    ",215],"{",["T_WHITESPACE","\n        ",216],["T_VARIABLE","$this",217],["T_OBJECT_OPERATOR","->",217],["T_STRING","_errors",217],"[","]",["T_WHITESPACE"," ",217],"=",["T_WHITESPACE"," ",217],["T_VARIABLE","$err",217],";",["T_WHITESPACE","\n    ",217],"}",["T_WHITESPACE","\n\n    ",218],["T_DOC_COMMENT","\/**\n     * Set validator errors\n     * @param array $err\n     * @return\n     *\/",220],["T_WHITESPACE","\n\n    ",224],["T_PRIVATE","private",226],["T_WHITESPACE"," ",226],["T_FUNCTION","function",226],["T_WHITESPACE"," ",226],["T_STRING","setErrors",226],"(",["T_ARRAY","array",226],["T_WHITESPACE"," ",226],["T_VARIABLE","$err",226],")",["T_WHITESPACE","\n    ",226],"{",["T_WHITESPACE","\n        ",227],["T_VARIABLE","$this",228],["T_OBJECT_OPERATOR","->",228],["T_STRING","_errors",228],["T_WHITESPACE"," ",228],"=",["T_WHITESPACE"," ",228],["T_VARIABLE","$err",228],";",["T_WHITESPACE","\n    ",228],"}",["T_WHITESPACE","\n\n    ",229],["T_DOC_COMMENT","\/**\n     * Clear validator errors\n     * @return\n     *\/",231],["T_WHITESPACE","\n    ",234],["T_PRIVATE","private",235],["T_WHITESPACE"," ",235],["T_FUNCTION","function",235],["T_WHITESPACE"," ",235],["T_STRING","clearErrors",235],"(",")",["T_WHITESPACE","\n    ",235],"{",["T_WHITESPACE","\n        ",236],["T_VARIABLE","$this",237],["T_OBJECT_OPERATOR","->",237],["T_STRING","_errors",237],["T_WHITESPACE"," ",237],"=",["T_WHITESPACE"," ",237],["T_ARRAY","array",237],"(",")",";",["T_WHITESPACE","\n    ",237],"}",["T_WHITESPACE","\n\n    ",238],["T_DOC_COMMENT","\/**\n     * Check if there are validator errors set\n     * @return unknown_type\n     *\/",240],["T_WHITESPACE","\n    ",243],["T_PUBLIC","public",244],["T_WHITESPACE"," ",244],["T_FUNCTION","function",244],["T_WHITESPACE"," ",244],["T_STRING","hasErrors",244],"(",")",["T_WHITESPACE","\n    ",244],"{",["T_WHITESPACE","\n        ",245],["T_RETURN","return",246],["T_WHITESPACE"," ",246],["T_STRING","count",246],"(",["T_VARIABLE","$this",246],["T_OBJECT_OPERATOR","->",246],["T_STRING","_errors",246],")",["T_WHITESPACE"," ",246],["T_IS_NOT_EQUAL","!=",246],["T_WHITESPACE"," ",246],["T_LNUMBER","0",246],";",["T_WHITESPACE","\n    ",246],"}",["T_WHITESPACE","\n\n\n    ",247],["T_DOC_COMMENT","\/**\n     * Get errors\n     * @param bool $clear if true after this call erros will be cleared\n     * @return array\n     *\/",250],["T_WHITESPACE","\n    ",254],["T_PUBLIC","public",255],["T_WHITESPACE"," ",255],["T_FUNCTION","function",255],["T_WHITESPACE"," ",255],["T_STRING","getErrors",255],"(",["T_VARIABLE","$clear",255],["T_WHITESPACE"," ",255],"=",["T_WHITESPACE"," ",255],["T_STRING","true",255],")",["T_WHITESPACE","\n    ",255],"{",["T_WHITESPACE","\n        ",256],["T_VARIABLE","$out",257],["T_WHITESPACE"," ",257],"=",["T_WHITESPACE"," ",257],["T_VARIABLE","$this",257],["T_OBJECT_OPERATOR","->",257],["T_STRING","_errors",257],";",["T_WHITESPACE","\n        ",257],["T_IF","if",258],"(",["T_VARIABLE","$clear",258],")",["T_WHITESPACE"," ",258],"{",["T_WHITESPACE","\n            ",258],["T_VARIABLE","$this",259],["T_OBJECT_OPERATOR","->",259],["T_STRING","clearErrors",259],"(",")",";",["T_WHITESPACE","\n        ",259],"}",["T_WHITESPACE","\n        ",260],["T_RETURN","return",261],["T_WHITESPACE"," ",261],["T_VARIABLE","$out",261],";",["T_WHITESPACE","\n    ",261],"}",["T_WHITESPACE","\n\n    ",262],["T_DOC_COMMENT","\/**\n     * Validate URL\n     * @param string $str\n     * @return bool\n     *\/",264],["T_WHITESPACE","\n    ",268],["T_PUBLIC","public",269],["T_WHITESPACE"," ",269],["T_FUNCTION","function",269],["T_WHITESPACE"," ",269],["T_STRING","validateUrl",269],"(",["T_VARIABLE","$str",269],")",["T_WHITESPACE","\n    ",269],"{",["T_WHITESPACE","\n        ",270],["T_VARIABLE","$regex",271],["T_WHITESPACE"," ",271],"=",["T_WHITESPACE"," ",271],["T_CONSTANT_ENCAPSED_STRING","\"@([0-9]{1,3}\\\\.[0-9]{1,3}\\\\.[0-9]{1,3}\\\\.[0-9]{1,3}|\"",271],["T_WHITESPACE","\n        ",271],".",["T_CONSTANT_ENCAPSED_STRING","\"(((news|telnet|nttp|file|http|ftp|https):\/\/)|(www|ftp)\"",272],["T_WHITESPACE","\n        ",272],".",["T_CONSTANT_ENCAPSED_STRING","\"[-A-Za-z0-9]*\\\\.)[-A-Za-z0-9\\\\.]+)(:[0-9]*)?@i\"",273],";",["T_WHITESPACE","\n        ",273],["T_RETURN","return",274],["T_WHITESPACE"," ",274],["T_STRING","preg_match",274],"(",["T_VARIABLE","$regex",274],",",["T_WHITESPACE"," ",274],["T_VARIABLE","$str",274],")",";",["T_WHITESPACE","\n    ",274],"}",["T_WHITESPACE","\n\n\n    ",275],["T_DOC_COMMENT","\/**\n     * Validates package stability\n     * @param string $str\n     * @return bool\n     *\/",278],["T_WHITESPACE","\n    ",282],["T_PUBLIC","public",283],["T_WHITESPACE"," ",283],["T_FUNCTION","function",283],["T_WHITESPACE"," ",283],["T_STRING","validateStability",283],"(",["T_VARIABLE","$str",283],")",["T_WHITESPACE","\n    ",283],"{",["T_WHITESPACE","\n        ",284],["T_RETURN","return",285],["T_WHITESPACE"," ",285],["T_STRING","in_array",285],"(",["T_STRING","strval",285],"(",["T_VARIABLE","$str",285],")",",",["T_WHITESPACE"," ",285],["T_STRING","self",285],["T_DOUBLE_COLON","::",285],["T_VARIABLE","$_stability",285],")",";",["T_WHITESPACE","\n    ",285],"}",["T_WHITESPACE","\n\n    ",286],["T_DOC_COMMENT","\/**\n     * Validate date format\n     * @param $date\n     * @return bool\n     *\/",288],["T_WHITESPACE","\n    ",292],["T_PUBLIC","public",293],["T_WHITESPACE"," ",293],["T_FUNCTION","function",293],["T_WHITESPACE"," ",293],["T_STRING","validateDate",293],"(",["T_VARIABLE","$date",293],")",["T_WHITESPACE","\n    ",293],"{",["T_WHITESPACE","\n        ",294],["T_VARIABLE","$subs",295],["T_WHITESPACE"," ",295],"=",["T_WHITESPACE"," ",295],["T_STRING","null",295],";",["T_WHITESPACE","\n        ",295],["T_VARIABLE","$check1",296],["T_WHITESPACE"," ",296],"=",["T_WHITESPACE"," ",296],["T_STRING","preg_match",296],"(",["T_CONSTANT_ENCAPSED_STRING","\"\/^([\\d]{4})-([\\d]{2})-([\\d]{2})$\/i\"",296],",",["T_WHITESPACE"," ",296],["T_VARIABLE","$date",296],",",["T_WHITESPACE"," ",296],["T_VARIABLE","$subs",296],")",";",["T_WHITESPACE","\n        ",296],["T_IF","if",297],"(","!",["T_VARIABLE","$check1",297],")",["T_WHITESPACE"," ",297],"{",["T_WHITESPACE","\n            ",297],["T_RETURN","return",298],["T_WHITESPACE"," ",298],["T_STRING","false",298],";",["T_WHITESPACE","\n        ",298],"}",["T_WHITESPACE","\n        ",299],["T_RETURN","return",300],["T_WHITESPACE"," ",300],["T_STRING","checkdate",300],"(",["T_VARIABLE","$subs",300],"[",["T_LNUMBER","2",300],"]",",",["T_WHITESPACE"," ",300],["T_VARIABLE","$subs",300],"[",["T_LNUMBER","3",300],"]",",",["T_WHITESPACE"," ",300],["T_VARIABLE","$subs",300],"[",["T_LNUMBER","1",300],"]",")",";",["T_WHITESPACE","\n    ",300],"}",["T_WHITESPACE","\n\n\n    ",301],["T_DOC_COMMENT","\/**\n     * Validate email\n     * @param string $email\n     * @return bool\n     *\/",304],["T_WHITESPACE","\n    ",308],["T_PUBLIC","public",309],["T_WHITESPACE"," ",309],["T_FUNCTION","function",309],["T_WHITESPACE"," ",309],["T_STRING","validateEmail",309],"(",["T_VARIABLE","$email",309],")",["T_WHITESPACE","\n    ",309],"{",["T_WHITESPACE","\n        ",310],["T_RETURN","return",311],["T_WHITESPACE"," ",311],["T_STRING","preg_match",311],"(",["T_CONSTANT_ENCAPSED_STRING","\"\/^([a-z0-9\\+_\\-]+)(\\.[a-z0-9\\+_\\-]+)*@([a-z0-9\\-]+\\.)+[a-z]{2,6}$\/ix\"",311],",",["T_WHITESPACE"," ",311],["T_VARIABLE","$email",311],")",";",["T_WHITESPACE","\n    ",311],"}",["T_WHITESPACE","\n\n    ",312],["T_DOC_COMMENT","\/**\n     * Validate package name\n     * @param $name\n     * @return bool\n     *\/",314],["T_WHITESPACE","\n    ",318],["T_PUBLIC","public",319],["T_WHITESPACE"," ",319],["T_FUNCTION","function",319],["T_WHITESPACE"," ",319],["T_STRING","validatePackageName",319],"(",["T_VARIABLE","$name",319],")",["T_WHITESPACE","\n    ",319],"{",["T_WHITESPACE","\n        ",320],["T_RETURN","return",321],["T_WHITESPACE"," ",321],["T_STRING","preg_match",321],"(",["T_CONSTANT_ENCAPSED_STRING","\"\/^[a-zA-Z0-9_-]+$\/i\"",321],",",["T_WHITESPACE"," ",321],["T_VARIABLE","$name",321],")",";",["T_WHITESPACE","\n    ",321],"}",["T_WHITESPACE","\n\n    ",322],["T_DOC_COMMENT","\/**\n     * Validate version number\n     * @param string $version\n     * @return bool\n     *\/",324],["T_WHITESPACE","\n    ",328],["T_PUBLIC","public",329],["T_WHITESPACE"," ",329],["T_FUNCTION","function",329],["T_WHITESPACE"," ",329],["T_STRING","validateVersion",329],"(",["T_VARIABLE","$version",329],")",["T_WHITESPACE","\n    ",329],"{",["T_WHITESPACE","\n        ",330],["T_RETURN","return",331],["T_WHITESPACE"," ",331],["T_STRING","preg_match",331],"(",["T_CONSTANT_ENCAPSED_STRING","\"\/^[\\d]+\\.[\\d]+\\.[\\d]+([[:alnum:]\\.\\-\\_]+)?$\/i\"",331],",",["T_WHITESPACE"," ",331],["T_VARIABLE","$version",331],")",";",["T_WHITESPACE","\n    ",331],"}",["T_WHITESPACE","\n\n    ",332],["T_DOC_COMMENT","\/**\n     * Check versions are equal\n     * @param string $v1\n     * @param string $v2\n     * @return bool\n     *\/",334],["T_WHITESPACE","\n    ",339],["T_PUBLIC","public",340],["T_WHITESPACE"," ",340],["T_FUNCTION","function",340],["T_WHITESPACE"," ",340],["T_STRING","versionEqual",340],"(",["T_VARIABLE","$v1",340],",",["T_WHITESPACE"," ",340],["T_VARIABLE","$v2",340],")",["T_WHITESPACE","\n    ",340],"{",["T_WHITESPACE","\n        ",341],["T_RETURN","return",342],["T_WHITESPACE"," ",342],["T_STRING","version_compare",342],"(",["T_VARIABLE","$v1",342],",",["T_WHITESPACE"," ",342],["T_VARIABLE","$v2",342],",",["T_WHITESPACE"," ",342],["T_CONSTANT_ENCAPSED_STRING","\"==\"",342],")",";",["T_WHITESPACE","\n    ",342],"}",["T_WHITESPACE","\n\n    ",343],["T_DOC_COMMENT","\/**\n     * Check version $v1 <= $v2\n     * @param string $v1\n     * @param string $v2\n     * @return bool\n     *\/",345],["T_WHITESPACE","\n    ",350],["T_PUBLIC","public",351],["T_WHITESPACE"," ",351],["T_FUNCTION","function",351],["T_WHITESPACE"," ",351],["T_STRING","versionLowerEqual",351],"(",["T_VARIABLE","$v1",351],",",["T_WHITESPACE"," ",351],["T_VARIABLE","$v2",351],")",["T_WHITESPACE","\n    ",351],"{",["T_WHITESPACE","\n        ",352],["T_RETURN","return",353],["T_WHITESPACE"," ",353],["T_STRING","version_compare",353],"(",["T_VARIABLE","$v1",353],",",["T_WHITESPACE"," ",353],["T_VARIABLE","$v2",353],",",["T_WHITESPACE"," ",353],["T_CONSTANT_ENCAPSED_STRING","\"le\"",353],")",";",["T_WHITESPACE","\n    ",353],"}",["T_WHITESPACE","\n\n\n    ",354],["T_DOC_COMMENT","\/**\n     * Check if version $v1 lower than $v2\n     * @param string $v1\n     * @param string $v2\n     * @return bool\n     *\/",357],["T_WHITESPACE","\n    ",362],["T_PUBLIC","public",363],["T_WHITESPACE"," ",363],["T_FUNCTION","function",363],["T_WHITESPACE"," ",363],["T_STRING","versionLower",363],"(",["T_VARIABLE","$v1",363],",",["T_WHITESPACE"," ",363],["T_VARIABLE","$v2",363],")",["T_WHITESPACE","\n    ",363],"{",["T_WHITESPACE","\n        ",364],["T_RETURN","return",365],["T_WHITESPACE"," ",365],["T_STRING","version_compare",365],"(",["T_VARIABLE","$v1",365],",",["T_WHITESPACE"," ",365],["T_VARIABLE","$v2",365],",",["T_WHITESPACE"," ",365],["T_CONSTANT_ENCAPSED_STRING","\"<\"",365],")",";",["T_WHITESPACE","\n    ",365],"}",["T_WHITESPACE","\n\n    ",366],["T_DOC_COMMENT","\/**\n     * Check version $v1 >= $v2\n     * @param string $v1\n     * @param string $v2\n     * @return bool\n     *\/",368],["T_WHITESPACE","\n    ",373],["T_PUBLIC","public",374],["T_WHITESPACE"," ",374],["T_FUNCTION","function",374],["T_WHITESPACE"," ",374],["T_STRING","versionGreaterEqual",374],"(",["T_VARIABLE","$v1",374],",",["T_WHITESPACE"," ",374],["T_VARIABLE","$v2",374],")",["T_WHITESPACE","\n    ",374],"{",["T_WHITESPACE","\n        ",375],["T_RETURN","return",376],["T_WHITESPACE"," ",376],["T_STRING","version_compare",376],"(",["T_VARIABLE","$v1",376],",",["T_WHITESPACE"," ",376],["T_VARIABLE","$v2",376],",",["T_WHITESPACE"," ",376],["T_CONSTANT_ENCAPSED_STRING","\"ge\"",376],")",";",["T_WHITESPACE","\n    ",376],"}",["T_WHITESPACE","\n\n\n    ",377],["T_DOC_COMMENT","\/**\n     * Generic regex validation\n     * @param string $str\n     * @param string $regex\n     * @return bool\n     *\/",380],["T_WHITESPACE","\n    ",385],["T_PUBLIC","public",386],["T_WHITESPACE"," ",386],["T_FUNCTION","function",386],["T_WHITESPACE"," ",386],["T_STRING","validateRegex",386],"(",["T_VARIABLE","$str",386],",",["T_WHITESPACE"," ",386],["T_VARIABLE","$regex",386],")",["T_WHITESPACE","\n    ",386],"{",["T_WHITESPACE","\n        ",387],["T_RETURN","return",388],["T_WHITESPACE"," ",388],["T_STRING","preg_match",388],"(",["T_VARIABLE","$regex",388],",",["T_WHITESPACE"," ",388],["T_VARIABLE","$str",388],")",";",["T_WHITESPACE","\n    ",388],"}",["T_WHITESPACE","\n\n\n    ",389],["T_DOC_COMMENT","\/**\n     * Check if PHP extension loaded\n     * @param string $name Extension name\n     * @return bool\n     *\/",392],["T_WHITESPACE","\n    ",396],["T_PUBLIC","public",397],["T_WHITESPACE"," ",397],["T_FUNCTION","function",397],["T_WHITESPACE"," ",397],["T_STRING","validatePhpExtension",397],"(",["T_VARIABLE","$name",397],")",["T_WHITESPACE","\n    ",397],"{",["T_WHITESPACE","\n        ",398],["T_RETURN","return",399],["T_WHITESPACE"," ",399],["T_STRING","extension_loaded",399],"(",["T_VARIABLE","$name",399],")",";",["T_WHITESPACE","\n    ",399],"}",["T_WHITESPACE","\n\n\n    ",400],["T_PUBLIC","public",403],["T_WHITESPACE"," ",403],["T_FUNCTION","function",403],["T_WHITESPACE"," ",403],["T_STRING","validatePHPVersion",403],"(",["T_VARIABLE","$min",403],",",["T_WHITESPACE"," ",403],["T_VARIABLE","$max",403],",",["T_WHITESPACE"," ",403],["T_VARIABLE","$ver",403],["T_WHITESPACE"," ",403],"=",["T_WHITESPACE"," ",403],["T_STRING","PHP_VERSION",403],")",["T_WHITESPACE","\n    ",403],"{",["T_WHITESPACE","\n        ",404],["T_VARIABLE","$minAccepted",405],["T_WHITESPACE"," ",405],"=",["T_WHITESPACE"," ",405],["T_STRING","true",405],";",["T_WHITESPACE","\n        ",405],["T_IF","if",406],"(",["T_VARIABLE","$min",406],")",["T_WHITESPACE"," ",406],"{",["T_WHITESPACE","\n            ",406],["T_VARIABLE","$minAccepted",407],["T_WHITESPACE"," ",407],"=",["T_WHITESPACE"," ",407],["T_STRING","version_compare",407],"(",["T_VARIABLE","$ver",407],",",["T_WHITESPACE"," ",407],["T_VARIABLE","$min",407],",",["T_WHITESPACE"," ",407],["T_CONSTANT_ENCAPSED_STRING","\">=\"",407],")",";",["T_WHITESPACE","\n        ",407],"}",["T_WHITESPACE","\n        ",408],["T_VARIABLE","$maxAccepted",409],["T_WHITESPACE"," ",409],"=",["T_WHITESPACE"," ",409],["T_STRING","true",409],";",["T_WHITESPACE","\n        ",409],["T_IF","if",410],"(",["T_VARIABLE","$max",410],")",["T_WHITESPACE"," ",410],"{",["T_WHITESPACE","\n            ",410],["T_VARIABLE","$maxAccepted",411],["T_WHITESPACE"," ",411],"=",["T_WHITESPACE"," ",411],["T_STRING","version_compate",411],"(",["T_VARIABLE","$ver",411],",",["T_WHITESPACE"," ",411],["T_VARIABLE","$max",411],",",["T_WHITESPACE"," ",411],["T_CONSTANT_ENCAPSED_STRING","\"<=\"",411],")",";",["T_WHITESPACE","\n        ",411],"}",["T_WHITESPACE","\n        ",412],["T_RETURN","return",413],["T_WHITESPACE"," ",413],["T_BOOL_CAST","(bool)",413],["T_WHITESPACE"," ",413],["T_VARIABLE","$minAccepted",413],["T_WHITESPACE"," ",413],["T_BOOLEAN_AND","&&",413],["T_WHITESPACE"," ",413],["T_VARIABLE","$maxAccepted",413],";",["T_WHITESPACE","\n    ",413],"}",["T_WHITESPACE","\n\n\n",414],"}",["T_WHITESPACE","\n",417]]