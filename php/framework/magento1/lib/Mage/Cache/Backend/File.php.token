[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Magento\n *\n * NOTICE OF LICENSE\n *\n * This source file is subject to the Open Software License (OSL 3.0)\n * that is bundled with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/opensource.org\/licenses\/osl-3.0.php\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@magento.com so we can send you a copy immediately.\n *\n * DISCLAIMER\n *\n * Do not edit or add to this file if you wish to upgrade Magento to newer\n * versions in the future. If you wish to customize Magento for your\n * needs please refer to http:\/\/www.magento.com for more information.\n *\n * @category    Mage\n * @package     Mage_Cache\n * @copyright  Copyright (c) 2006-2016 X.commerce, Inc. and affiliates (http:\/\/www.magento.com)\n * @license    http:\/\/opensource.org\/licenses\/osl-3.0.php  Open Software License (OSL 3.0)\n *\/",2],["T_WHITESPACE","\n\n",25],["T_DOC_COMMENT","\/**\n * Licensed under New BSD license http:\/\/opensource.org\/licenses\/BSD-3-Clause\n * Copyright (c) 2012, Colin Mollenhour\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n *  * Redistributions of source code must retain the above copyright\n *    notice, this list of conditions and the following disclaimer.\n *  * Redistributions in binary form must reproduce the above copyright\n *    notice, this list of conditions and the following disclaimer in the\n *    documentation and\/or other materials provided with the distribution.\n *  * The name of Colin Mollenhour may not be used to endorse or promote products\n *    derived from this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER BE LIABLE FOR ANY\n * DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\/",27],["T_WHITESPACE","\n\n",53],["T_DOC_COMMENT","\/**\n * Optimized file cache backend\n *\n * @category  Mage\n * @package   Mage_Cache\n * @author    Magento Core Team <core@magentocommerce.com>\n *\/",55],["T_WHITESPACE","\n",61],["T_CLASS","class",62],["T_WHITESPACE"," ",62],["T_STRING","Mage_Cache_Backend_File",62],["T_WHITESPACE"," ",62],["T_EXTENDS","extends",62],["T_WHITESPACE"," ",62],["T_STRING","Zend_Cache_Backend_File",62],["T_WHITESPACE","\n",62],"{",["T_WHITESPACE","\n    ",63],["T_DOC_COMMENT","\/**\n     * Default options for the File cache adapter\n     *\n     *  @var array\n     *\/",64],["T_WHITESPACE","\n    ",68],["T_PROTECTED","protected",69],["T_WHITESPACE"," ",69],["T_VARIABLE","$_options",69],["T_WHITESPACE"," ",69],"=",["T_WHITESPACE"," ",69],["T_ARRAY","array",69],"(",["T_WHITESPACE","\n        ",69],["T_CONSTANT_ENCAPSED_STRING","'cache_dir'",70],["T_WHITESPACE","              ",70],["T_DOUBLE_ARROW","=>",70],["T_WHITESPACE"," ",70],["T_STRING","null",70],",",["T_WHITESPACE","    ",70],["T_COMMENT","\/\/ Path to cache files\n",70],["T_WHITESPACE","        ",71],["T_CONSTANT_ENCAPSED_STRING","'file_locking'",71],["T_WHITESPACE","           ",71],["T_DOUBLE_ARROW","=>",71],["T_WHITESPACE"," ",71],["T_STRING","true",71],",",["T_WHITESPACE","    ",71],["T_COMMENT","\/\/ Best to keep enabled\n",71],["T_WHITESPACE","        ",72],["T_CONSTANT_ENCAPSED_STRING","'read_control'",72],["T_WHITESPACE","           ",72],["T_DOUBLE_ARROW","=>",72],["T_WHITESPACE"," ",72],["T_STRING","false",72],",",["T_WHITESPACE","   ",72],["T_COMMENT","\/\/ Use a checksum to detect corrupt data\n",72],["T_WHITESPACE","        ",73],["T_CONSTANT_ENCAPSED_STRING","'read_control_type'",73],["T_WHITESPACE","      ",73],["T_DOUBLE_ARROW","=>",73],["T_WHITESPACE"," ",73],["T_CONSTANT_ENCAPSED_STRING","'crc32'",73],",",["T_WHITESPACE"," ",73],["T_COMMENT","\/\/ If read_control is enabled, which checksum algorithm to use\n",73],["T_WHITESPACE","        ",74],["T_CONSTANT_ENCAPSED_STRING","'hashed_directory_level'",74],["T_WHITESPACE"," ",74],["T_DOUBLE_ARROW","=>",74],["T_WHITESPACE"," ",74],["T_LNUMBER","2",74],",",["T_WHITESPACE","       ",74],["T_COMMENT","\/\/ How many characters should be used to create sub-directories\n",74],["T_WHITESPACE","        ",75],["T_CONSTANT_ENCAPSED_STRING","'use_chmod'",75],["T_WHITESPACE"," ",75],["T_DOUBLE_ARROW","=>",75],["T_WHITESPACE"," ",75],["T_STRING","FALSE",75],",",["T_WHITESPACE","              ",75],["T_COMMENT","\/\/ Do not use chmod on files and directories (should use umask() to control permissions)\n",75],["T_WHITESPACE","        ",76],["T_CONSTANT_ENCAPSED_STRING","'file_mode'",76],["T_WHITESPACE"," ",76],["T_DOUBLE_ARROW","=>",76],["T_WHITESPACE"," ",76],["T_LNUMBER","0660",76],",",["T_WHITESPACE","               ",76],["T_COMMENT","\/\/ Filesystem permissions for created files (requires use_chmod)\n",76],["T_WHITESPACE","        ",77],["T_CONSTANT_ENCAPSED_STRING","'directory_mode'",77],["T_WHITESPACE"," ",77],["T_DOUBLE_ARROW","=>",77],["T_WHITESPACE"," ",77],["T_LNUMBER","0770",77],",",["T_WHITESPACE","          ",77],["T_COMMENT","\/\/ Filesystem permissions for created directories (requires use_chmod)\n",77],["T_WHITESPACE","        ",78],["T_CONSTANT_ENCAPSED_STRING","'file_name_prefix'",78],["T_WHITESPACE","       ",78],["T_DOUBLE_ARROW","=>",78],["T_WHITESPACE"," ",78],["T_CONSTANT_ENCAPSED_STRING","'mage'",78],",",["T_WHITESPACE","  ",78],["T_COMMENT","\/\/ Prefix for cache directories created\n",78],["T_WHITESPACE","    ",79],")",";",["T_WHITESPACE","\n\n    ",79],["T_DOC_COMMENT","\/**\n     * Prevents unnecessary checks\n     *\n     *  @var boolean\n     *\/",81],["T_WHITESPACE","\n    ",85],["T_PROTECTED","protected",86],["T_WHITESPACE"," ",86],["T_VARIABLE","$_isTagDirChecked",86],";",["T_WHITESPACE","\n\n    ",86],["T_DOC_COMMENT","\/**\n     * @param  array $options\n     *\/",88],["T_WHITESPACE","\n    ",90],["T_PUBLIC","public",91],["T_WHITESPACE"," ",91],["T_FUNCTION","function",91],["T_WHITESPACE"," ",91],["T_STRING","__construct",91],"(",["T_ARRAY","array",91],["T_WHITESPACE"," ",91],["T_VARIABLE","$options",91],["T_WHITESPACE"," ",91],"=",["T_WHITESPACE"," ",91],["T_ARRAY","array",91],"(",")",")",["T_WHITESPACE","\n    ",91],"{",["T_WHITESPACE","\n        ",92],["T_COMMENT","\/\/ Backwards compatibility ZF 1.11 and ZF 1.12\n",93],["T_WHITESPACE","        ",94],["T_IF","if",94],["T_WHITESPACE"," ",94],"(",["T_ISSET","isset",94],"(",["T_VARIABLE","$options",94],"[",["T_CONSTANT_ENCAPSED_STRING","'hashed_directory_umask'",94],"]",")",")",["T_WHITESPACE"," ",94],"{",["T_WHITESPACE","\n            ",94],["T_VARIABLE","$options",95],"[",["T_CONSTANT_ENCAPSED_STRING","'directory_mode'",95],"]",["T_WHITESPACE"," ",95],"=",["T_WHITESPACE"," ",95],["T_VARIABLE","$options",95],"[",["T_CONSTANT_ENCAPSED_STRING","'hashed_directory_umask'",95],"]",";",["T_WHITESPACE","\n        ",95],"}",["T_WHITESPACE","\n        ",96],["T_IF","if",97],["T_WHITESPACE"," ",97],"(",["T_ISSET","isset",97],"(",["T_VARIABLE","$options",97],"[",["T_CONSTANT_ENCAPSED_STRING","'cache_file_umask'",97],"]",")",")",["T_WHITESPACE"," ",97],"{",["T_WHITESPACE","\n            ",97],["T_VARIABLE","$options",98],"[",["T_CONSTANT_ENCAPSED_STRING","'file_mode'",98],"]",["T_WHITESPACE"," ",98],"=",["T_WHITESPACE"," ",98],["T_VARIABLE","$options",98],"[",["T_CONSTANT_ENCAPSED_STRING","'cache_file_umask'",98],"]",";",["T_WHITESPACE","\n        ",98],"}",["T_WHITESPACE","\n\n        ",99],["T_COMMENT","\/\/ Auto-enable chmod if modes are specified.\n",101],["T_WHITESPACE","        ",102],["T_IF","if",102],["T_WHITESPACE"," ",102],"(",["T_ISSET","isset",102],"(",["T_VARIABLE","$options",102],"[",["T_CONSTANT_ENCAPSED_STRING","'directory_mode'",102],"]",")",["T_WHITESPACE"," ",102],["T_BOOLEAN_OR","||",102],["T_WHITESPACE"," ",102],["T_ISSET","isset",102],"(",["T_VARIABLE","$options",102],"[",["T_CONSTANT_ENCAPSED_STRING","'file_mode'",102],"]",")",")",["T_WHITESPACE"," ",102],"{",["T_WHITESPACE","\n            ",102],["T_VARIABLE","$options",103],"[",["T_CONSTANT_ENCAPSED_STRING","'use_chmod'",103],"]",["T_WHITESPACE"," ",103],"=",["T_WHITESPACE"," ",103],["T_STRING","TRUE",103],";",["T_WHITESPACE","\n        ",103],"}",["T_WHITESPACE","\n\n        ",104],["T_COMMENT","\/\/ Don't use parent constructor\n",106],["T_WHITESPACE","        ",107],["T_WHILE","while",107],["T_WHITESPACE"," ",107],"(",["T_LIST","list",107],"(",["T_VARIABLE","$name",107],",",["T_WHITESPACE"," ",107],["T_VARIABLE","$value",107],")",["T_WHITESPACE"," ",107],"=",["T_WHITESPACE"," ",107],["T_STRING","each",107],"(",["T_VARIABLE","$options",107],")",")",["T_WHITESPACE"," ",107],"{",["T_WHITESPACE","\n            ",107],["T_VARIABLE","$this",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","setOption",108],"(",["T_VARIABLE","$name",108],",",["T_WHITESPACE"," ",108],["T_VARIABLE","$value",108],")",";",["T_WHITESPACE","\n        ",108],"}",["T_WHITESPACE","\n\n        ",109],["T_COMMENT","\/\/ Check cache dir\n",111],["T_WHITESPACE","        ",112],["T_IF","if",112],["T_WHITESPACE"," ",112],"(",["T_VARIABLE","$this",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","_options",112],"[",["T_CONSTANT_ENCAPSED_STRING","'cache_dir'",112],"]",["T_WHITESPACE"," ",112],["T_IS_NOT_IDENTICAL","!==",112],["T_WHITESPACE"," ",112],["T_STRING","null",112],")",["T_WHITESPACE"," ",112],"{",["T_WHITESPACE","\n            ",112],["T_VARIABLE","$this",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","setCacheDir",113],"(",["T_VARIABLE","$this",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","_options",113],"[",["T_CONSTANT_ENCAPSED_STRING","'cache_dir'",113],"]",")",";",["T_WHITESPACE","\n        ",113],"}",["T_WHITESPACE"," ",114],["T_ELSE","else",114],["T_WHITESPACE"," ",114],"{",["T_WHITESPACE","\n            ",114],["T_VARIABLE","$this",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","setCacheDir",115],"(",["T_STRING","self",115],["T_DOUBLE_COLON","::",115],["T_STRING","getTmpDir",115],"(",")",["T_WHITESPACE"," ",115],".",["T_WHITESPACE"," ",115],["T_STRING","DIRECTORY_SEPARATOR",115],",",["T_WHITESPACE"," ",115],["T_STRING","false",115],")",";",["T_WHITESPACE","\n        ",115],"}",["T_WHITESPACE","\n\n        ",116],["T_COMMENT","\/\/ Validate prefix\n",118],["T_WHITESPACE","        ",119],["T_IF","if",119],["T_WHITESPACE"," ",119],"(",["T_ISSET","isset",119],"(",["T_VARIABLE","$this",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","_options",119],"[",["T_CONSTANT_ENCAPSED_STRING","'file_name_prefix'",119],"]",")",")",["T_WHITESPACE"," ",119],"{",["T_WHITESPACE","\n            ",119],["T_IF","if",120],["T_WHITESPACE"," ",120],"(","!",["T_STRING","preg_match",120],"(",["T_CONSTANT_ENCAPSED_STRING","'~^[a-zA-Z0-9_]+$~D'",120],",",["T_WHITESPACE"," ",120],["T_VARIABLE","$this",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","_options",120],"[",["T_CONSTANT_ENCAPSED_STRING","'file_name_prefix'",120],"]",")",")",["T_WHITESPACE"," ",120],"{",["T_WHITESPACE","\n                ",120],["T_STRING","Zend_Cache",121],["T_DOUBLE_COLON","::",121],["T_STRING","throwException",121],"(",["T_CONSTANT_ENCAPSED_STRING","'Invalid file_name_prefix : must use only [a-zA-Z0-9_]'",121],")",";",["T_WHITESPACE","\n            ",121],"}",["T_WHITESPACE","\n        ",122],"}",["T_WHITESPACE","\n\n        ",123],["T_COMMENT","\/\/ See #ZF-4422\n",125],["T_WHITESPACE","        ",126],["T_IF","if",126],["T_WHITESPACE"," ",126],"(",["T_STRING","is_string",126],"(",["T_VARIABLE","$this",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","_options",126],"[",["T_CONSTANT_ENCAPSED_STRING","'directory_mode'",126],"]",")",")",["T_WHITESPACE"," ",126],"{",["T_WHITESPACE","\n            ",126],["T_VARIABLE","$this",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","_options",127],"[",["T_CONSTANT_ENCAPSED_STRING","'directory_mode'",127],"]",["T_WHITESPACE"," ",127],"=",["T_WHITESPACE"," ",127],["T_STRING","octdec",127],"(",["T_VARIABLE","$this",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","_options",127],"[",["T_CONSTANT_ENCAPSED_STRING","'directory_mode'",127],"]",")",";",["T_WHITESPACE","\n        ",127],"}",["T_WHITESPACE","\n        ",128],["T_IF","if",129],["T_WHITESPACE"," ",129],"(",["T_STRING","is_string",129],"(",["T_VARIABLE","$this",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","_options",129],"[",["T_CONSTANT_ENCAPSED_STRING","'file_mode'",129],"]",")",")",["T_WHITESPACE"," ",129],"{",["T_WHITESPACE","\n            ",129],["T_VARIABLE","$this",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","_options",130],"[",["T_CONSTANT_ENCAPSED_STRING","'file_mode'",130],"]",["T_WHITESPACE"," ",130],"=",["T_WHITESPACE"," ",130],["T_STRING","octdec",130],"(",["T_VARIABLE","$this",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","_options",130],"[",["T_CONSTANT_ENCAPSED_STRING","'file_mode'",130],"]",")",";",["T_WHITESPACE","\n        ",130],"}",["T_WHITESPACE","\n        ",131],["T_VARIABLE","$this",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","_options",132],"[",["T_CONSTANT_ENCAPSED_STRING","'hashed_directory_umask'",132],"]",["T_WHITESPACE"," ",132],"=",["T_WHITESPACE"," ",132],["T_VARIABLE","$this",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","_options",132],"[",["T_CONSTANT_ENCAPSED_STRING","'directory_mode'",132],"]",";",["T_WHITESPACE","\n        ",132],["T_VARIABLE","$this",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","_options",133],"[",["T_CONSTANT_ENCAPSED_STRING","'cache_file_umask'",133],"]",["T_WHITESPACE","       ",133],"=",["T_WHITESPACE"," ",133],["T_VARIABLE","$this",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","_options",133],"[",["T_CONSTANT_ENCAPSED_STRING","'file_mode'",133],"]",";",["T_WHITESPACE","\n    ",133],"}",["T_WHITESPACE","\n\n    ",134],["T_DOC_COMMENT","\/**\n     * Trying to load cached value by id, in case of failure will return false, in other case will return cached string\n     *\n     * @param  string  $id                     Cache id\n     * @param  boolean $doNotTestCacheValidity If set to true, the cache validity won't be tested\n     *\n     * @return string|bool Cached data or false\n     *\/",136],["T_WHITESPACE","\n    ",143],["T_PUBLIC","public",144],["T_WHITESPACE"," ",144],["T_FUNCTION","function",144],["T_WHITESPACE"," ",144],["T_STRING","load",144],"(",["T_VARIABLE","$id",144],",",["T_WHITESPACE"," ",144],["T_VARIABLE","$doNotTestCacheValidity",144],["T_WHITESPACE"," ",144],"=",["T_WHITESPACE"," ",144],["T_STRING","false",144],")",["T_WHITESPACE","\n    ",144],"{",["T_WHITESPACE","\n        ",145],["T_VARIABLE","$file",146],["T_WHITESPACE","  ",146],"=",["T_WHITESPACE"," ",146],["T_VARIABLE","$this",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","_file",146],"(",["T_VARIABLE","$id",146],")",";",["T_WHITESPACE","\n        ",146],["T_VARIABLE","$cache",147],["T_WHITESPACE"," ",147],"=",["T_WHITESPACE"," ",147],["T_VARIABLE","$this",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","_getCache",147],"(",["T_VARIABLE","$file",147],",",["T_WHITESPACE"," ",147],["T_STRING","true",147],")",";",["T_WHITESPACE","\n        ",147],["T_IF","if",148],["T_WHITESPACE"," ",148],"(","!",["T_VARIABLE","$cache",148],")",["T_WHITESPACE"," ",148],"{",["T_WHITESPACE","\n            ",148],["T_RETURN","return",149],["T_WHITESPACE"," ",149],["T_STRING","false",149],";",["T_WHITESPACE","\n        ",149],"}",["T_WHITESPACE","\n        ",150],["T_LIST","list",151],"(",["T_VARIABLE","$metadatas",151],",",["T_WHITESPACE"," ",151],["T_VARIABLE","$data",151],")",["T_WHITESPACE"," ",151],"=",["T_WHITESPACE"," ",151],["T_VARIABLE","$cache",151],";",["T_WHITESPACE","\n        ",151],["T_IF","if",152],["T_WHITESPACE"," ",152],"(","!",["T_VARIABLE","$doNotTestCacheValidity",152],["T_WHITESPACE"," ",152],["T_BOOLEAN_AND","&&",152],["T_WHITESPACE"," ",152],["T_STRING","time",152],"(",")",["T_WHITESPACE"," ",152],">",["T_WHITESPACE"," ",152],["T_VARIABLE","$metadatas",152],"[",["T_CONSTANT_ENCAPSED_STRING","'expire'",152],"]",")",["T_WHITESPACE"," ",152],"{",["T_WHITESPACE","\n            ",152],["T_COMMENT","\/\/ ?? $this->remove($id);\n",153],["T_WHITESPACE","            ",154],["T_RETURN","return",154],["T_WHITESPACE"," ",154],["T_STRING","false",154],";",["T_WHITESPACE","\n        ",154],"}",["T_WHITESPACE","\n        ",155],["T_IF","if",156],["T_WHITESPACE"," ",156],"(",["T_VARIABLE","$this",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","_options",156],"[",["T_CONSTANT_ENCAPSED_STRING","'read_control'",156],"]",")",["T_WHITESPACE"," ",156],"{",["T_WHITESPACE","\n            ",156],["T_VARIABLE","$hashData",157],["T_WHITESPACE","    ",157],"=",["T_WHITESPACE"," ",157],["T_VARIABLE","$this",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","_hash",157],"(",["T_VARIABLE","$data",157],",",["T_WHITESPACE"," ",157],["T_VARIABLE","$this",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","_options",157],"[",["T_CONSTANT_ENCAPSED_STRING","'read_control_type'",157],"]",")",";",["T_WHITESPACE","\n            ",157],["T_VARIABLE","$hashControl",158],["T_WHITESPACE"," ",158],"=",["T_WHITESPACE"," ",158],["T_VARIABLE","$metadatas",158],"[",["T_CONSTANT_ENCAPSED_STRING","'hash'",158],"]",";",["T_WHITESPACE","\n            ",158],["T_IF","if",159],["T_WHITESPACE"," ",159],"(",["T_VARIABLE","$hashData",159],["T_WHITESPACE"," ",159],["T_IS_NOT_EQUAL","!=",159],["T_WHITESPACE"," ",159],["T_VARIABLE","$hashControl",159],")",["T_WHITESPACE"," ",159],"{",["T_WHITESPACE","\n                ",159],["T_VARIABLE","$this",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","_log",160],"(",["T_WHITESPACE","\n                    ",160],["T_CONSTANT_ENCAPSED_STRING","'Zend_Cache_Backend_File::load() \/ read_control : stored hash and computed hash do not match'",161],["T_WHITESPACE","\n                ",161],")",";",["T_WHITESPACE","\n                ",162],["T_VARIABLE","$this",163],["T_OBJECT_OPERATOR","->",163],["T_STRING","remove",163],"(",["T_VARIABLE","$id",163],")",";",["T_WHITESPACE","\n\n                ",163],["T_RETURN","return",165],["T_WHITESPACE"," ",165],["T_STRING","false",165],";",["T_WHITESPACE","\n            ",165],"}",["T_WHITESPACE","\n        ",166],"}",["T_WHITESPACE","\n\n        ",167],["T_RETURN","return",169],["T_WHITESPACE"," ",169],["T_VARIABLE","$data",169],";",["T_WHITESPACE","\n    ",169],"}",["T_WHITESPACE","\n\n    ",170],["T_DOC_COMMENT","\/**\n     * Save some string data into a cache record\n     *\n     * Note : $data must be a \"string\" (serialization is done by the\n     * core not by the backend)\n     *\n     * @param  string   $data             Data to cache\n     * @param  string   $id               Cache id\n     * @param  array    $tags             Array of strings, the cache record will be tagged by each string entry\n     * @param  bool|int $specificLifetime If != false, set a specific lifetime for this cache record\n     *                                    (null => infinite lifetime)\n     *\n     * @return boolean In case of success returns true\n     *\/",172],["T_WHITESPACE","\n    ",185],["T_PUBLIC","public",186],["T_WHITESPACE"," ",186],["T_FUNCTION","function",186],["T_WHITESPACE"," ",186],["T_STRING","save",186],"(",["T_VARIABLE","$data",186],",",["T_WHITESPACE"," ",186],["T_VARIABLE","$id",186],",",["T_WHITESPACE"," ",186],["T_VARIABLE","$tags",186],["T_WHITESPACE"," ",186],"=",["T_WHITESPACE"," ",186],["T_ARRAY","array",186],"(",")",",",["T_WHITESPACE"," ",186],["T_VARIABLE","$specificLifetime",186],["T_WHITESPACE"," ",186],"=",["T_WHITESPACE"," ",186],["T_STRING","false",186],")",["T_WHITESPACE","\n    ",186],"{",["T_WHITESPACE","\n        ",187],["T_VARIABLE","$file",188],["T_WHITESPACE"," ",188],"=",["T_WHITESPACE"," ",188],["T_VARIABLE","$this",188],["T_OBJECT_OPERATOR","->",188],["T_STRING","_file",188],"(",["T_VARIABLE","$id",188],")",";",["T_WHITESPACE","\n        ",188],["T_VARIABLE","$path",189],["T_WHITESPACE"," ",189],"=",["T_WHITESPACE"," ",189],["T_VARIABLE","$this",189],["T_OBJECT_OPERATOR","->",189],["T_STRING","_path",189],"(",["T_VARIABLE","$id",189],")",";",["T_WHITESPACE","\n        ",189],["T_IF","if",190],["T_WHITESPACE"," ",190],"(",["T_VARIABLE","$this",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","_options",190],"[",["T_CONSTANT_ENCAPSED_STRING","'hashed_directory_level'",190],"]",["T_WHITESPACE"," ",190],">",["T_WHITESPACE"," ",190],["T_LNUMBER","0",190],")",["T_WHITESPACE"," ",190],"{",["T_WHITESPACE","\n            ",190],["T_IF","if",191],["T_WHITESPACE"," ",191],"(","!",["T_STRING","is_writable",191],"(",["T_VARIABLE","$path",191],")",")",["T_WHITESPACE"," ",191],"{",["T_WHITESPACE","\n                ",191],["T_COMMENT","\/\/ maybe, we just have to build the directory structure\n",192],["T_WHITESPACE","                ",193],["T_VARIABLE","$this",193],["T_OBJECT_OPERATOR","->",193],["T_STRING","_recursiveMkdirAndChmod",193],"(",["T_VARIABLE","$id",193],")",";",["T_WHITESPACE","\n                ",193],["T_IF","if",194],["T_WHITESPACE"," ",194],"(","!",["T_STRING","is_writable",194],"(",["T_VARIABLE","$path",194],")",")",["T_WHITESPACE"," ",194],"{",["T_WHITESPACE","\n                    ",194],["T_RETURN","return",195],["T_WHITESPACE"," ",195],["T_STRING","false",195],";",["T_WHITESPACE","\n                ",195],"}",["T_WHITESPACE","\n            ",196],"}",["T_WHITESPACE","\n        ",197],"}",["T_WHITESPACE","\n        ",198],["T_IF","if",199],["T_WHITESPACE"," ",199],"(",["T_VARIABLE","$this",199],["T_OBJECT_OPERATOR","->",199],["T_STRING","_options",199],"[",["T_CONSTANT_ENCAPSED_STRING","'read_control'",199],"]",")",["T_WHITESPACE"," ",199],"{",["T_WHITESPACE","\n            ",199],["T_VARIABLE","$hash",200],["T_WHITESPACE"," ",200],"=",["T_WHITESPACE"," ",200],["T_VARIABLE","$this",200],["T_OBJECT_OPERATOR","->",200],["T_STRING","_hash",200],"(",["T_VARIABLE","$data",200],",",["T_WHITESPACE"," ",200],["T_VARIABLE","$this",200],["T_OBJECT_OPERATOR","->",200],["T_STRING","_options",200],"[",["T_CONSTANT_ENCAPSED_STRING","'read_control_type'",200],"]",")",";",["T_WHITESPACE","\n        ",200],"}",["T_WHITESPACE"," ",201],["T_ELSE","else",201],["T_WHITESPACE"," ",201],"{",["T_WHITESPACE","\n            ",201],["T_VARIABLE","$hash",202],["T_WHITESPACE"," ",202],"=",["T_WHITESPACE"," ",202],["T_CONSTANT_ENCAPSED_STRING","''",202],";",["T_WHITESPACE","\n        ",202],"}",["T_WHITESPACE","\n        ",203],["T_VARIABLE","$metadatas",204],["T_WHITESPACE"," ",204],"=",["T_WHITESPACE"," ",204],["T_ARRAY","array",204],"(",["T_WHITESPACE","\n            ",204],["T_CONSTANT_ENCAPSED_STRING","'hash'",205],["T_WHITESPACE","   ",205],["T_DOUBLE_ARROW","=>",205],["T_WHITESPACE"," ",205],["T_VARIABLE","$hash",205],",",["T_WHITESPACE","\n            ",205],["T_CONSTANT_ENCAPSED_STRING","'mtime'",206],["T_WHITESPACE","  ",206],["T_DOUBLE_ARROW","=>",206],["T_WHITESPACE"," ",206],["T_STRING","time",206],"(",")",",",["T_WHITESPACE","\n            ",206],["T_CONSTANT_ENCAPSED_STRING","'expire'",207],["T_WHITESPACE"," ",207],["T_DOUBLE_ARROW","=>",207],["T_WHITESPACE"," ",207],["T_VARIABLE","$this",207],["T_OBJECT_OPERATOR","->",207],["T_STRING","_expireTime",207],"(",["T_VARIABLE","$this",207],["T_OBJECT_OPERATOR","->",207],["T_STRING","getLifetime",207],"(",["T_VARIABLE","$specificLifetime",207],")",")",",",["T_WHITESPACE","\n            ",207],["T_CONSTANT_ENCAPSED_STRING","'tags'",208],["T_WHITESPACE","   ",208],["T_DOUBLE_ARROW","=>",208],["T_WHITESPACE"," ",208],["T_STRING","implode",208],"(",["T_CONSTANT_ENCAPSED_STRING","','",208],",",["T_WHITESPACE"," ",208],["T_VARIABLE","$tags",208],")",",",["T_WHITESPACE","\n        ",208],")",";",["T_WHITESPACE","\n        ",209],["T_VARIABLE","$res",210],["T_WHITESPACE"," ",210],"=",["T_WHITESPACE"," ",210],["T_VARIABLE","$this",210],["T_OBJECT_OPERATOR","->",210],["T_STRING","_filePutContents",210],"(",["T_VARIABLE","$file",210],",",["T_WHITESPACE"," ",210],["T_STRING","serialize",210],"(",["T_VARIABLE","$metadatas",210],")",["T_WHITESPACE"," ",210],".",["T_WHITESPACE"," ",210],["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",210],["T_WHITESPACE"," ",210],".",["T_WHITESPACE"," ",210],["T_VARIABLE","$data",210],")",";",["T_WHITESPACE","\n        ",210],["T_VARIABLE","$res",211],["T_WHITESPACE"," ",211],"=",["T_WHITESPACE"," ",211],["T_VARIABLE","$res",211],["T_WHITESPACE"," ",211],["T_BOOLEAN_AND","&&",211],["T_WHITESPACE"," ",211],["T_VARIABLE","$this",211],["T_OBJECT_OPERATOR","->",211],["T_STRING","_updateIdsTags",211],"(",["T_ARRAY","array",211],"(",["T_VARIABLE","$id",211],")",",",["T_WHITESPACE"," ",211],["T_VARIABLE","$tags",211],",",["T_WHITESPACE"," ",211],["T_CONSTANT_ENCAPSED_STRING","'merge'",211],")",";",["T_WHITESPACE","\n\n        ",211],["T_RETURN","return",213],["T_WHITESPACE"," ",213],["T_VARIABLE","$res",213],";",["T_WHITESPACE","\n    ",213],"}",["T_WHITESPACE","\n\n    ",214],["T_DOC_COMMENT","\/**\n     * Remove a cache record\n     *\n     * @param  string $id Cache id\n     *\n     * @return boolean In case of success returns true\n     *\/",216],["T_WHITESPACE","\n    ",222],["T_PUBLIC","public",223],["T_WHITESPACE"," ",223],["T_FUNCTION","function",223],["T_WHITESPACE"," ",223],["T_STRING","remove",223],"(",["T_VARIABLE","$id",223],")",["T_WHITESPACE","\n    ",223],"{",["T_WHITESPACE","\n        ",224],["T_VARIABLE","$file",225],["T_WHITESPACE","      ",225],"=",["T_WHITESPACE"," ",225],["T_VARIABLE","$this",225],["T_OBJECT_OPERATOR","->",225],["T_STRING","_file",225],"(",["T_VARIABLE","$id",225],")",";",["T_WHITESPACE","\n        ",225],["T_VARIABLE","$metadatas",226],["T_WHITESPACE"," ",226],"=",["T_WHITESPACE"," ",226],["T_VARIABLE","$this",226],["T_OBJECT_OPERATOR","->",226],["T_STRING","_getCache",226],"(",["T_VARIABLE","$file",226],",",["T_WHITESPACE"," ",226],["T_STRING","false",226],")",";",["T_WHITESPACE","\n        ",226],["T_IF","if",227],["T_WHITESPACE"," ",227],"(",["T_VARIABLE","$metadatas",227],")",["T_WHITESPACE"," ",227],"{",["T_WHITESPACE","\n            ",227],["T_VARIABLE","$boolRemove",228],["T_WHITESPACE"," ",228],"=",["T_WHITESPACE"," ",228],["T_VARIABLE","$this",228],["T_OBJECT_OPERATOR","->",228],["T_STRING","_remove",228],"(",["T_VARIABLE","$file",228],")",";",["T_WHITESPACE","\n            ",228],["T_VARIABLE","$boolTags",229],["T_WHITESPACE","   ",229],"=",["T_WHITESPACE"," ",229],["T_VARIABLE","$this",229],["T_OBJECT_OPERATOR","->",229],["T_STRING","_updateIdsTags",229],"(",["T_ARRAY","array",229],"(",["T_VARIABLE","$id",229],")",",",["T_WHITESPACE"," ",229],["T_STRING","explode",229],"(",["T_CONSTANT_ENCAPSED_STRING","','",229],",",["T_WHITESPACE"," ",229],["T_VARIABLE","$metadatas",229],"[",["T_CONSTANT_ENCAPSED_STRING","'tags'",229],"]",")",",",["T_WHITESPACE"," ",229],["T_CONSTANT_ENCAPSED_STRING","'diff'",229],")",";",["T_WHITESPACE","\n\n            ",229],["T_RETURN","return",231],["T_WHITESPACE"," ",231],["T_VARIABLE","$boolRemove",231],["T_WHITESPACE"," ",231],["T_BOOLEAN_AND","&&",231],["T_WHITESPACE"," ",231],["T_VARIABLE","$boolTags",231],";",["T_WHITESPACE","\n        ",231],"}",["T_WHITESPACE","\n\n        ",232],["T_RETURN","return",234],["T_WHITESPACE"," ",234],["T_STRING","false",234],";",["T_WHITESPACE","\n    ",234],"}",["T_WHITESPACE","\n\n    ",235],["T_DOC_COMMENT","\/**\n     * Clean some cache records\n     *\n     * Available modes are :\n     * 'all' (default)  => remove all cache entries ($tags is not used)\n     * 'old'            => remove too old cache entries ($tags is not used)\n     * 'matchingTag'    => remove cache entries matching all given tags\n     *                     ($tags can be an array of strings or a single string)\n     * 'notMatchingTag' => remove cache entries not matching one of the given tags\n     *                     ($tags can be an array of strings or a single string)\n     * 'matchingAnyTag' => remove cache entries matching any given tags\n     *                     ($tags can be an array of strings or a single string)\n     *\n     * @param  string $mode\n     * @param  array $tags\n     *\n     * @return boolean In case of success returns true\n     *\/",237],["T_WHITESPACE","\n    ",254],["T_PUBLIC","public",255],["T_WHITESPACE"," ",255],["T_FUNCTION","function",255],["T_WHITESPACE"," ",255],["T_STRING","clean",255],"(",["T_VARIABLE","$mode",255],["T_WHITESPACE"," ",255],"=",["T_WHITESPACE"," ",255],["T_STRING","Zend_Cache",255],["T_DOUBLE_COLON","::",255],["T_STRING","CLEANING_MODE_ALL",255],",",["T_WHITESPACE"," ",255],["T_VARIABLE","$tags",255],["T_WHITESPACE"," ",255],"=",["T_WHITESPACE"," ",255],["T_ARRAY","array",255],"(",")",")",["T_WHITESPACE","\n    ",255],"{",["T_WHITESPACE","\n        ",256],["T_COMMENT","\/\/ We use this protected method to hide the recursive stuff\n",257],["T_WHITESPACE","        ",258],["T_STRING","clearstatcache",258],"(",")",";",["T_WHITESPACE","\n        ",258],["T_SWITCH","switch",259],["T_WHITESPACE"," ",259],"(",["T_VARIABLE","$mode",259],")",["T_WHITESPACE"," ",259],"{",["T_WHITESPACE","\n            ",259],["T_CASE","case",260],["T_WHITESPACE"," ",260],["T_STRING","Zend_Cache",260],["T_DOUBLE_COLON","::",260],["T_STRING","CLEANING_MODE_ALL",260],":",["T_WHITESPACE","\n            ",260],["T_CASE","case",261],["T_WHITESPACE"," ",261],["T_STRING","Zend_Cache",261],["T_DOUBLE_COLON","::",261],["T_STRING","CLEANING_MODE_OLD",261],":",["T_WHITESPACE","\n                ",261],["T_RETURN","return",262],["T_WHITESPACE"," ",262],["T_VARIABLE","$this",262],["T_OBJECT_OPERATOR","->",262],["T_STRING","_clean",262],"(",["T_VARIABLE","$this",262],["T_OBJECT_OPERATOR","->",262],["T_STRING","_options",262],"[",["T_CONSTANT_ENCAPSED_STRING","'cache_dir'",262],"]",",",["T_WHITESPACE"," ",262],["T_VARIABLE","$mode",262],")",";",["T_WHITESPACE","\n            ",262],["T_DEFAULT","default",263],":",["T_WHITESPACE","\n                ",263],["T_RETURN","return",264],["T_WHITESPACE"," ",264],["T_VARIABLE","$this",264],["T_OBJECT_OPERATOR","->",264],["T_STRING","_cleanNew",264],"(",["T_VARIABLE","$mode",264],",",["T_WHITESPACE"," ",264],["T_VARIABLE","$tags",264],")",";",["T_WHITESPACE","\n        ",264],"}",["T_WHITESPACE","\n    ",265],"}",["T_WHITESPACE","\n\n    ",266],["T_DOC_COMMENT","\/**\n     * Return an array of stored tags\n     *\n     * @return array Array of stored tags (string)\n     *\/",268],["T_WHITESPACE","\n    ",272],["T_PUBLIC","public",273],["T_WHITESPACE"," ",273],["T_FUNCTION","function",273],["T_WHITESPACE"," ",273],["T_STRING","getTags",273],"(",")",["T_WHITESPACE","\n    ",273],"{",["T_WHITESPACE","\n        ",274],["T_VARIABLE","$prefix",275],["T_WHITESPACE","    ",275],"=",["T_WHITESPACE"," ",275],["T_VARIABLE","$this",275],["T_OBJECT_OPERATOR","->",275],["T_STRING","_tagFile",275],"(",["T_CONSTANT_ENCAPSED_STRING","''",275],")",";",["T_WHITESPACE","\n        ",275],["T_VARIABLE","$prefixLen",276],["T_WHITESPACE"," ",276],"=",["T_WHITESPACE"," ",276],["T_STRING","strlen",276],"(",["T_VARIABLE","$prefix",276],")",";",["T_WHITESPACE","\n        ",276],["T_VARIABLE","$tags",277],["T_WHITESPACE","      ",277],"=",["T_WHITESPACE"," ",277],["T_ARRAY","array",277],"(",")",";",["T_WHITESPACE","\n        ",277],["T_FOREACH","foreach",278],["T_WHITESPACE"," ",278],"(","@",["T_STRING","glob",278],"(",["T_VARIABLE","$prefix",278],["T_WHITESPACE"," ",278],".",["T_WHITESPACE"," ",278],["T_CONSTANT_ENCAPSED_STRING","'*'",278],")",["T_WHITESPACE"," ",278],["T_AS","as",278],["T_WHITESPACE"," ",278],["T_VARIABLE","$tagFile",278],")",["T_WHITESPACE"," ",278],"{",["T_WHITESPACE","\n            ",278],["T_VARIABLE","$tags",279],"[","]",["T_WHITESPACE"," ",279],"=",["T_WHITESPACE"," ",279],["T_STRING","substr",279],"(",["T_VARIABLE","$tagFile",279],",",["T_WHITESPACE"," ",279],["T_VARIABLE","$prefixLen",279],")",";",["T_WHITESPACE","\n        ",279],"}",["T_WHITESPACE","\n\n        ",280],["T_RETURN","return",282],["T_WHITESPACE"," ",282],["T_VARIABLE","$tags",282],";",["T_WHITESPACE","\n    ",282],"}",["T_WHITESPACE","\n\n    ",283],["T_DOC_COMMENT","\/**\n     * Return an array of stored cache ids which match given tags\n     *\n     * In case of multiple tags, a logical AND is made between tags\n     *\n     * @param  array $tags Array of tags\n     *\n     * @return array Array of matching cache ids (string)\n     *\/",285],["T_WHITESPACE","\n    ",293],["T_PUBLIC","public",294],["T_WHITESPACE"," ",294],["T_FUNCTION","function",294],["T_WHITESPACE"," ",294],["T_STRING","getIdsMatchingTags",294],"(",["T_VARIABLE","$tags",294],["T_WHITESPACE"," ",294],"=",["T_WHITESPACE"," ",294],["T_ARRAY","array",294],"(",")",")",["T_WHITESPACE","\n    ",294],"{",["T_WHITESPACE","\n        ",295],["T_RETURN","return",296],["T_WHITESPACE"," ",296],["T_VARIABLE","$this",296],["T_OBJECT_OPERATOR","->",296],["T_STRING","_getIdsByTags",296],"(",["T_STRING","Zend_Cache",296],["T_DOUBLE_COLON","::",296],["T_STRING","CLEANING_MODE_MATCHING_TAG",296],",",["T_WHITESPACE"," ",296],["T_VARIABLE","$tags",296],")",";",["T_WHITESPACE","\n    ",296],"}",["T_WHITESPACE","\n\n    ",297],["T_DOC_COMMENT","\/**\n     * Return an array of stored cache ids which don't match given tags\n     *\n     * In case of multiple tags, a logical OR is made between tags\n     *\n     * @param  array $tags Array of tags\n     *\n     * @return array Array of not matching cache ids (string)\n     *\/",299],["T_WHITESPACE","\n    ",307],["T_PUBLIC","public",308],["T_WHITESPACE"," ",308],["T_FUNCTION","function",308],["T_WHITESPACE"," ",308],["T_STRING","getIdsNotMatchingTags",308],"(",["T_VARIABLE","$tags",308],["T_WHITESPACE"," ",308],"=",["T_WHITESPACE"," ",308],["T_ARRAY","array",308],"(",")",")",["T_WHITESPACE","\n    ",308],"{",["T_WHITESPACE","\n        ",309],["T_RETURN","return",310],["T_WHITESPACE"," ",310],["T_VARIABLE","$this",310],["T_OBJECT_OPERATOR","->",310],["T_STRING","_getIdsByTags",310],"(",["T_STRING","Zend_Cache",310],["T_DOUBLE_COLON","::",310],["T_STRING","CLEANING_MODE_NOT_MATCHING_TAG",310],",",["T_WHITESPACE"," ",310],["T_VARIABLE","$tags",310],")",";",["T_WHITESPACE","\n    ",310],"}",["T_WHITESPACE","\n\n    ",311],["T_DOC_COMMENT","\/**\n     * Return an array of stored cache ids which match any given tags\n     *\n     * In case of multiple tags, a logical OR is made between tags\n     *\n     * @param  array $tags Array of tags\n     *\n     * @return array Array of any matching cache ids (string)\n     *\/",313],["T_WHITESPACE","\n    ",321],["T_PUBLIC","public",322],["T_WHITESPACE"," ",322],["T_FUNCTION","function",322],["T_WHITESPACE"," ",322],["T_STRING","getIdsMatchingAnyTags",322],"(",["T_VARIABLE","$tags",322],["T_WHITESPACE"," ",322],"=",["T_WHITESPACE"," ",322],["T_ARRAY","array",322],"(",")",")",["T_WHITESPACE","\n    ",322],"{",["T_WHITESPACE","\n        ",323],["T_RETURN","return",324],["T_WHITESPACE"," ",324],["T_VARIABLE","$this",324],["T_OBJECT_OPERATOR","->",324],["T_STRING","_getIdsByTags",324],"(",["T_STRING","Zend_Cache",324],["T_DOUBLE_COLON","::",324],["T_STRING","CLEANING_MODE_MATCHING_ANY_TAG",324],",",["T_WHITESPACE"," ",324],["T_VARIABLE","$tags",324],")",";",["T_WHITESPACE","\n    ",324],"}",["T_WHITESPACE","\n\n    ",325],["T_DOC_COMMENT","\/**\n     * Return an array of metadatas for the given cache id\n     *\n     * The array must include these keys :\n     * - expire : the expire timestamp\n     * - tags : a string array of tags\n     * - mtime : timestamp of last modification time\n     *\n     * @param  string $id Cache id\n     *\n     * @return array Array of metadatas (false if the cache id is not found)\n     *\/",327],["T_WHITESPACE","\n    ",338],["T_PUBLIC","public",339],["T_WHITESPACE"," ",339],["T_FUNCTION","function",339],["T_WHITESPACE"," ",339],["T_STRING","getMetadatas",339],"(",["T_VARIABLE","$id",339],")",["T_WHITESPACE","\n    ",339],"{",["T_WHITESPACE","\n        ",340],["T_VARIABLE","$metadatas",341],["T_WHITESPACE"," ",341],"=",["T_WHITESPACE"," ",341],["T_VARIABLE","$this",341],["T_OBJECT_OPERATOR","->",341],["T_STRING","_getCache",341],"(",["T_VARIABLE","$this",341],["T_OBJECT_OPERATOR","->",341],["T_STRING","_file",341],"(",["T_VARIABLE","$id",341],")",",",["T_WHITESPACE"," ",341],["T_STRING","false",341],")",";",["T_WHITESPACE","\n        ",341],["T_IF","if",342],["T_WHITESPACE"," ",342],"(",["T_VARIABLE","$metadatas",342],")",["T_WHITESPACE"," ",342],"{",["T_WHITESPACE","\n            ",342],["T_VARIABLE","$metadatas",343],"[",["T_CONSTANT_ENCAPSED_STRING","'tags'",343],"]",["T_WHITESPACE"," ",343],"=",["T_WHITESPACE"," ",343],["T_STRING","explode",343],"(",["T_CONSTANT_ENCAPSED_STRING","','",343],",",["T_WHITESPACE"," ",343],["T_VARIABLE","$metadatas",343],"[",["T_CONSTANT_ENCAPSED_STRING","'tags'",343],"]",")",";",["T_WHITESPACE","\n        ",343],"}",["T_WHITESPACE","\n\n        ",344],["T_RETURN","return",346],["T_WHITESPACE"," ",346],["T_VARIABLE","$metadatas",346],";",["T_WHITESPACE","\n    ",346],"}",["T_WHITESPACE","\n\n    ",347],["T_DOC_COMMENT","\/**\n     * Give (if possible) an extra lifetime to the given cache id\n     *\n     * @param  string $id Cache id\n     * @param  int $extraLifetime\n     *\n     * @return boolean In case of success returns true\n     *\/",349],["T_WHITESPACE","\n    ",356],["T_PUBLIC","public",357],["T_WHITESPACE"," ",357],["T_FUNCTION","function",357],["T_WHITESPACE"," ",357],["T_STRING","touch",357],"(",["T_VARIABLE","$id",357],",",["T_WHITESPACE"," ",357],["T_VARIABLE","$extraLifetime",357],")",["T_WHITESPACE","\n    ",357],"{",["T_WHITESPACE","\n        ",358],["T_VARIABLE","$file",359],["T_WHITESPACE","  ",359],"=",["T_WHITESPACE"," ",359],["T_VARIABLE","$this",359],["T_OBJECT_OPERATOR","->",359],["T_STRING","_file",359],"(",["T_VARIABLE","$id",359],")",";",["T_WHITESPACE","\n        ",359],["T_VARIABLE","$cache",360],["T_WHITESPACE"," ",360],"=",["T_WHITESPACE"," ",360],["T_VARIABLE","$this",360],["T_OBJECT_OPERATOR","->",360],["T_STRING","_getCache",360],"(",["T_VARIABLE","$file",360],",",["T_WHITESPACE"," ",360],["T_STRING","true",360],")",";",["T_WHITESPACE","\n        ",360],["T_IF","if",361],["T_WHITESPACE"," ",361],"(","!",["T_VARIABLE","$cache",361],")",["T_WHITESPACE"," ",361],"{",["T_WHITESPACE","\n            ",361],["T_RETURN","return",362],["T_WHITESPACE"," ",362],["T_STRING","false",362],";",["T_WHITESPACE","\n        ",362],"}",["T_WHITESPACE","\n        ",363],["T_LIST","list",364],"(",["T_VARIABLE","$metadatas",364],",",["T_WHITESPACE"," ",364],["T_VARIABLE","$data",364],")",["T_WHITESPACE"," ",364],"=",["T_WHITESPACE"," ",364],["T_VARIABLE","$cache",364],";",["T_WHITESPACE","\n        ",364],["T_IF","if",365],["T_WHITESPACE"," ",365],"(",["T_STRING","time",365],"(",")",["T_WHITESPACE"," ",365],">",["T_WHITESPACE"," ",365],["T_VARIABLE","$metadatas",365],"[",["T_CONSTANT_ENCAPSED_STRING","'expire'",365],"]",")",["T_WHITESPACE"," ",365],"{",["T_WHITESPACE","\n            ",365],["T_RETURN","return",366],["T_WHITESPACE"," ",366],["T_STRING","false",366],";",["T_WHITESPACE","\n        ",366],"}",["T_WHITESPACE","\n        ",367],["T_VARIABLE","$newMetadatas",368],["T_WHITESPACE"," ",368],"=",["T_WHITESPACE"," ",368],["T_ARRAY","array",368],"(",["T_WHITESPACE","\n            ",368],["T_CONSTANT_ENCAPSED_STRING","'hash'",369],["T_WHITESPACE","   ",369],["T_DOUBLE_ARROW","=>",369],["T_WHITESPACE"," ",369],["T_VARIABLE","$metadatas",369],"[",["T_CONSTANT_ENCAPSED_STRING","'hash'",369],"]",",",["T_WHITESPACE","\n            ",369],["T_CONSTANT_ENCAPSED_STRING","'mtime'",370],["T_WHITESPACE","  ",370],["T_DOUBLE_ARROW","=>",370],["T_WHITESPACE"," ",370],["T_STRING","time",370],"(",")",",",["T_WHITESPACE","\n            ",370],["T_CONSTANT_ENCAPSED_STRING","'expire'",371],["T_WHITESPACE"," ",371],["T_DOUBLE_ARROW","=>",371],["T_WHITESPACE"," ",371],["T_VARIABLE","$metadatas",371],"[",["T_CONSTANT_ENCAPSED_STRING","'expire'",371],"]",["T_WHITESPACE"," ",371],"+",["T_WHITESPACE"," ",371],["T_VARIABLE","$extraLifetime",371],",",["T_WHITESPACE","\n            ",371],["T_CONSTANT_ENCAPSED_STRING","'tags'",372],["T_WHITESPACE","   ",372],["T_DOUBLE_ARROW","=>",372],["T_WHITESPACE"," ",372],["T_VARIABLE","$metadatas",372],"[",["T_CONSTANT_ENCAPSED_STRING","'tags'",372],"]",["T_WHITESPACE","\n        ",372],")",";",["T_WHITESPACE","\n\n        ",373],["T_RETURN","return",375],["T_WHITESPACE"," ",375],"!","!",["T_VARIABLE","$this",375],["T_OBJECT_OPERATOR","->",375],["T_STRING","_filePutContents",375],"(",["T_VARIABLE","$file",375],",",["T_WHITESPACE"," ",375],["T_STRING","serialize",375],"(",["T_VARIABLE","$newMetadatas",375],")",["T_WHITESPACE"," ",375],".",["T_WHITESPACE"," ",375],["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",375],["T_WHITESPACE"," ",375],".",["T_WHITESPACE"," ",375],["T_VARIABLE","$data",375],")",";",["T_WHITESPACE","\n    ",375],"}",["T_WHITESPACE","\n\n    ",376],["T_DOC_COMMENT","\/**\n     * Get a metadatas record and optionally the data as well\n     *\n     * @param  string $file  Cache file\n     * @param  bool $withData\n     *\n     * @return array|bool\n     *\/",378],["T_WHITESPACE","\n    ",385],["T_PROTECTED","protected",386],["T_WHITESPACE"," ",386],["T_FUNCTION","function",386],["T_WHITESPACE"," ",386],["T_STRING","_getCache",386],"(",["T_VARIABLE","$file",386],",",["T_WHITESPACE"," ",386],["T_VARIABLE","$withData",386],")",["T_WHITESPACE","\n    ",386],"{",["T_WHITESPACE","\n        ",387],["T_IF","if",388],["T_WHITESPACE"," ",388],"(","!",["T_STRING","is_file",388],"(",["T_VARIABLE","$file",388],")",["T_WHITESPACE"," ",388],["T_BOOLEAN_OR","||",388],["T_WHITESPACE"," ",388],"!","(",["T_VARIABLE","$fd",388],["T_WHITESPACE"," ",388],"=",["T_WHITESPACE"," ",388],"@",["T_STRING","fopen",388],"(",["T_VARIABLE","$file",388],",",["T_WHITESPACE"," ",388],["T_CONSTANT_ENCAPSED_STRING","'rb'",388],")",")",")",["T_WHITESPACE"," ",388],"{",["T_WHITESPACE","\n            ",388],["T_RETURN","return",389],["T_WHITESPACE"," ",389],["T_STRING","false",389],";",["T_WHITESPACE","\n        ",389],"}",["T_WHITESPACE","\n        ",390],["T_IF","if",391],["T_WHITESPACE"," ",391],"(",["T_VARIABLE","$this",391],["T_OBJECT_OPERATOR","->",391],["T_STRING","_options",391],"[",["T_CONSTANT_ENCAPSED_STRING","'file_locking'",391],"]",")",["T_WHITESPACE"," ",391],"{",["T_WHITESPACE","\n            ",391],["T_STRING","flock",392],"(",["T_VARIABLE","$fd",392],",",["T_WHITESPACE"," ",392],["T_STRING","LOCK_SH",392],")",";",["T_WHITESPACE","\n        ",392],"}",["T_WHITESPACE","\n        ",393],["T_VARIABLE","$metadata",394],["T_WHITESPACE"," ",394],"=",["T_WHITESPACE"," ",394],["T_STRING","fgets",394],"(",["T_VARIABLE","$fd",394],")",";",["T_WHITESPACE","\n        ",394],["T_IF","if",395],["T_WHITESPACE"," ",395],"(","!",["T_VARIABLE","$metadata",395],")",["T_WHITESPACE"," ",395],"{",["T_WHITESPACE","\n            ",395],["T_IF","if",396],["T_WHITESPACE"," ",396],"(",["T_VARIABLE","$this",396],["T_OBJECT_OPERATOR","->",396],["T_STRING","_options",396],"[",["T_CONSTANT_ENCAPSED_STRING","'file_locking'",396],"]",")",["T_WHITESPACE"," ",396],"{",["T_WHITESPACE","\n                ",396],["T_STRING","flock",397],"(",["T_VARIABLE","$fd",397],",",["T_WHITESPACE"," ",397],["T_STRING","LOCK_UN",397],")",";",["T_WHITESPACE","\n            ",397],"}",["T_WHITESPACE","\n            ",398],["T_STRING","fclose",399],"(",["T_VARIABLE","$fd",399],")",";",["T_WHITESPACE","\n\n            ",399],["T_RETURN","return",401],["T_WHITESPACE"," ",401],["T_STRING","false",401],";",["T_WHITESPACE","\n        ",401],"}",["T_WHITESPACE","\n        ",402],["T_IF","if",403],["T_WHITESPACE"," ",403],"(",["T_VARIABLE","$withData",403],")",["T_WHITESPACE"," ",403],"{",["T_WHITESPACE","\n            ",403],["T_VARIABLE","$data",404],["T_WHITESPACE"," ",404],"=",["T_WHITESPACE"," ",404],["T_STRING","stream_get_contents",404],"(",["T_VARIABLE","$fd",404],")",";",["T_WHITESPACE","\n        ",404],"}",["T_WHITESPACE","\n        ",405],["T_IF","if",406],["T_WHITESPACE"," ",406],"(",["T_VARIABLE","$this",406],["T_OBJECT_OPERATOR","->",406],["T_STRING","_options",406],"[",["T_CONSTANT_ENCAPSED_STRING","'file_locking'",406],"]",")",["T_WHITESPACE"," ",406],"{",["T_WHITESPACE","\n            ",406],["T_STRING","flock",407],"(",["T_VARIABLE","$fd",407],",",["T_WHITESPACE"," ",407],["T_STRING","LOCK_UN",407],")",";",["T_WHITESPACE","\n        ",407],"}",["T_WHITESPACE","\n        ",408],["T_STRING","fclose",409],"(",["T_VARIABLE","$fd",409],")",";",["T_WHITESPACE","\n        ",409],["T_VARIABLE","$metadata",410],["T_WHITESPACE"," ",410],"=",["T_WHITESPACE"," ",410],"@",["T_STRING","unserialize",410],"(",["T_STRING","rtrim",410],"(",["T_VARIABLE","$metadata",410],",",["T_WHITESPACE"," ",410],["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",410],")",")",";",["T_WHITESPACE","\n        ",410],["T_IF","if",411],["T_WHITESPACE"," ",411],"(",["T_VARIABLE","$withData",411],")",["T_WHITESPACE"," ",411],"{",["T_WHITESPACE","\n            ",411],["T_RETURN","return",412],["T_WHITESPACE"," ",412],["T_ARRAY","array",412],"(",["T_VARIABLE","$metadata",412],",",["T_WHITESPACE"," ",412],["T_VARIABLE","$data",412],")",";",["T_WHITESPACE","\n        ",412],"}",["T_WHITESPACE","\n\n        ",413],["T_RETURN","return",415],["T_WHITESPACE"," ",415],["T_VARIABLE","$metadata",415],";",["T_WHITESPACE","\n    ",415],"}",["T_WHITESPACE","\n\n    ",416],["T_DOC_COMMENT","\/**\n     * Get meta data from a cache record\n     *\n     * @param  string $id Cache id\n     *\n     * @return array|bool Associative array of meta data\n     *\/",418],["T_WHITESPACE","\n    ",424],["T_PROTECTED","protected",425],["T_WHITESPACE"," ",425],["T_FUNCTION","function",425],["T_WHITESPACE"," ",425],["T_STRING","_getMetadatas",425],"(",["T_VARIABLE","$id",425],")",["T_WHITESPACE","\n    ",425],"{",["T_WHITESPACE","\n        ",426],["T_RETURN","return",427],["T_WHITESPACE"," ",427],["T_VARIABLE","$this",427],["T_OBJECT_OPERATOR","->",427],["T_STRING","_getCache",427],"(",["T_VARIABLE","$this",427],["T_OBJECT_OPERATOR","->",427],["T_STRING","_file",427],"(",["T_VARIABLE","$id",427],")",",",["T_WHITESPACE"," ",427],["T_STRING","false",427],")",";",["T_WHITESPACE","\n    ",427],"}",["T_WHITESPACE","\n\n    ",428],["T_DOC_COMMENT","\/**\n     * Set a metadatas record\n     *\n     * @param  string  $id        Cache id\n     * @param  array   $metadatas Associative array of metadatas\n     * @param  boolean $save      Optional pass false to disable saving to file\n     *\n     * @return boolean In case of success returns true\n     *\/",430],["T_WHITESPACE","\n    ",438],["T_PROTECTED","protected",439],["T_WHITESPACE"," ",439],["T_FUNCTION","function",439],["T_WHITESPACE"," ",439],["T_STRING","_setMetadatas",439],"(",["T_VARIABLE","$id",439],",",["T_WHITESPACE"," ",439],["T_VARIABLE","$metadatas",439],",",["T_WHITESPACE"," ",439],["T_VARIABLE","$save",439],["T_WHITESPACE"," ",439],"=",["T_WHITESPACE"," ",439],["T_STRING","true",439],")",["T_WHITESPACE","\n    ",439],"{",["T_WHITESPACE","\n        ",440],["T_COMMENT","\/\/ TODO - implement for unit tests ___expire method\n",441],["T_WHITESPACE","        ",442],["T_RETURN","return",442],["T_WHITESPACE"," ",442],["T_STRING","true",442],";",["T_WHITESPACE","\n    ",442],"}",["T_WHITESPACE","\n\n    ",443],["T_DOC_COMMENT","\/**\n     * Return the complete directory path of a filename (including hashedDirectoryStructure)\n     *\n     * Uses multiple letters for a single-level hash rather than multiple levels\n     *\n     * @param  string  $id    Cache id\n     * @param  boolean $parts If true, returns array of directory parts instead of single string\n     *\n     * @return string|array Complete directory path\n     *\/",445],["T_WHITESPACE","\n    ",454],["T_PROTECTED","protected",455],["T_WHITESPACE"," ",455],["T_FUNCTION","function",455],["T_WHITESPACE"," ",455],["T_STRING","_path",455],"(",["T_VARIABLE","$id",455],",",["T_WHITESPACE"," ",455],["T_VARIABLE","$parts",455],["T_WHITESPACE"," ",455],"=",["T_WHITESPACE"," ",455],["T_STRING","false",455],")",["T_WHITESPACE","\n    ",455],"{",["T_WHITESPACE","\n        ",456],["T_VARIABLE","$partsArray",457],["T_WHITESPACE"," ",457],"=",["T_WHITESPACE"," ",457],["T_ARRAY","array",457],"(",")",";",["T_WHITESPACE","\n        ",457],["T_VARIABLE","$root",458],["T_WHITESPACE","   ",458],"=",["T_WHITESPACE"," ",458],["T_VARIABLE","$this",458],["T_OBJECT_OPERATOR","->",458],["T_STRING","_options",458],"[",["T_CONSTANT_ENCAPSED_STRING","'cache_dir'",458],"]",";",["T_WHITESPACE","\n        ",458],["T_VARIABLE","$prefix",459],["T_WHITESPACE"," ",459],"=",["T_WHITESPACE"," ",459],["T_VARIABLE","$this",459],["T_OBJECT_OPERATOR","->",459],["T_STRING","_options",459],"[",["T_CONSTANT_ENCAPSED_STRING","'file_name_prefix'",459],"]",";",["T_WHITESPACE","\n        ",459],["T_IF","if",460],["T_WHITESPACE"," ",460],"(",["T_VARIABLE","$this",460],["T_OBJECT_OPERATOR","->",460],["T_STRING","_options",460],"[",["T_CONSTANT_ENCAPSED_STRING","'hashed_directory_level'",460],"]",["T_WHITESPACE"," ",460],">",["T_WHITESPACE"," ",460],["T_LNUMBER","0",460],")",["T_WHITESPACE"," ",460],"{",["T_WHITESPACE","\n            ",460],["T_VARIABLE","$root",461],["T_WHITESPACE"," ",461],["T_CONCAT_EQUAL",".=",461],["T_WHITESPACE"," ",461],["T_VARIABLE","$prefix",461],["T_WHITESPACE"," ",461],".",["T_WHITESPACE"," ",461],["T_CONSTANT_ENCAPSED_STRING","'--'",461],["T_WHITESPACE"," ",461],".",["T_WHITESPACE"," ",461],["T_STRING","substr",461],"(",["T_STRING","md5",461],"(",["T_VARIABLE","$id",461],")",",",["T_WHITESPACE"," ",461],"-",["T_VARIABLE","$this",461],["T_OBJECT_OPERATOR","->",461],["T_STRING","_options",461],"[",["T_CONSTANT_ENCAPSED_STRING","'hashed_directory_level'",461],"]",")",["T_WHITESPACE"," ",461],".",["T_WHITESPACE"," ",461],["T_STRING","DIRECTORY_SEPARATOR",461],";",["T_WHITESPACE","\n            ",461],["T_VARIABLE","$partsArray",462],"[","]",["T_WHITESPACE"," ",462],"=",["T_WHITESPACE"," ",462],["T_VARIABLE","$root",462],";",["T_WHITESPACE","\n        ",462],"}",["T_WHITESPACE","\n        ",463],["T_IF","if",464],["T_WHITESPACE"," ",464],"(",["T_VARIABLE","$parts",464],")",["T_WHITESPACE"," ",464],"{",["T_WHITESPACE","\n            ",464],["T_RETURN","return",465],["T_WHITESPACE"," ",465],["T_VARIABLE","$partsArray",465],";",["T_WHITESPACE","\n        ",465],"}",["T_WHITESPACE","\n        ",466],["T_RETURN","return",467],["T_WHITESPACE"," ",467],["T_VARIABLE","$root",467],";",["T_WHITESPACE","\n    ",467],"}",["T_WHITESPACE","\n\n    ",468],["T_DOC_COMMENT","\/**\n     * Clean some cache records (protected method used for recursive stuff)\n     *\n     * Available modes are :\n     * Zend_Cache::CLEANING_MODE_ALL (default)    => remove all cache entries ($tags is not used)\n     * Zend_Cache::CLEANING_MODE_OLD              => remove too old cache entries ($tags is not used)\n     * Zend_Cache::CLEANING_MODE_MATCHING_TAG     => remove cache entries matching all given tags\n     *                                               ($tags can be an array of strings or a single string)\n     * Zend_Cache::CLEANING_MODE_NOT_MATCHING_TAG => remove cache entries not {matching one of the given tags}\n     *                                               ($tags can be an array of strings or a single string)\n     * Zend_Cache::CLEANING_MODE_MATCHING_ANY_TAG => remove cache entries matching any given tags\n     *                                               ($tags can be an array of strings or a single string)\n     *\n     * @param string $dir  Directory to clean\n     * @param string $mode Clean mode\n     * @param array  $tags\n     *\n     * @throws Zend_Cache_Exception\n     * @return boolean In case of success returns true\n     *\/",470],["T_WHITESPACE","\n    ",489],["T_PROTECTED","protected",490],["T_WHITESPACE"," ",490],["T_FUNCTION","function",490],["T_WHITESPACE"," ",490],["T_STRING","_clean",490],"(",["T_VARIABLE","$dir",490],",",["T_WHITESPACE"," ",490],["T_VARIABLE","$mode",490],["T_WHITESPACE"," ",490],"=",["T_WHITESPACE"," ",490],["T_STRING","Zend_Cache",490],["T_DOUBLE_COLON","::",490],["T_STRING","CLEANING_MODE_ALL",490],",",["T_WHITESPACE"," ",490],["T_VARIABLE","$tags",490],["T_WHITESPACE"," ",490],"=",["T_WHITESPACE"," ",490],["T_ARRAY","array",490],"(",")",")",["T_WHITESPACE","\n    ",490],"{",["T_WHITESPACE","\n        ",491],["T_IF","if",492],["T_WHITESPACE"," ",492],"(","!",["T_STRING","is_dir",492],"(",["T_VARIABLE","$dir",492],")",")",["T_WHITESPACE"," ",492],"{",["T_WHITESPACE","\n            ",492],["T_RETURN","return",493],["T_WHITESPACE"," ",493],["T_STRING","false",493],";",["T_WHITESPACE","\n        ",493],"}",["T_WHITESPACE","\n        ",494],["T_VARIABLE","$result",495],["T_WHITESPACE"," ",495],"=",["T_WHITESPACE"," ",495],["T_STRING","true",495],";",["T_WHITESPACE","\n        ",495],["T_VARIABLE","$glob",496],["T_WHITESPACE","   ",496],"=",["T_WHITESPACE"," ",496],"@",["T_STRING","glob",496],"(",["T_VARIABLE","$dir",496],["T_WHITESPACE"," ",496],".",["T_WHITESPACE"," ",496],["T_VARIABLE","$this",496],["T_OBJECT_OPERATOR","->",496],["T_STRING","_options",496],"[",["T_CONSTANT_ENCAPSED_STRING","'file_name_prefix'",496],"]",["T_WHITESPACE"," ",496],".",["T_WHITESPACE"," ",496],["T_CONSTANT_ENCAPSED_STRING","'--*'",496],")",";",["T_WHITESPACE","\n        ",496],["T_IF","if",497],["T_WHITESPACE"," ",497],"(",["T_VARIABLE","$glob",497],["T_WHITESPACE"," ",497],["T_IS_IDENTICAL","===",497],["T_WHITESPACE"," ",497],["T_STRING","false",497],")",["T_WHITESPACE"," ",497],"{",["T_WHITESPACE","\n            ",497],["T_RETURN","return",498],["T_WHITESPACE"," ",498],["T_STRING","true",498],";",["T_WHITESPACE","\n        ",498],"}",["T_WHITESPACE","\n        ",499],["T_FOREACH","foreach",500],["T_WHITESPACE"," ",500],"(",["T_VARIABLE","$glob",500],["T_WHITESPACE"," ",500],["T_AS","as",500],["T_WHITESPACE"," ",500],["T_VARIABLE","$file",500],")",["T_WHITESPACE"," ",500],"{",["T_WHITESPACE","\n            ",500],["T_IF","if",501],["T_WHITESPACE"," ",501],"(",["T_STRING","is_file",501],"(",["T_VARIABLE","$file",501],")",")",["T_WHITESPACE"," ",501],"{",["T_WHITESPACE","\n                ",501],["T_IF","if",502],["T_WHITESPACE"," ",502],"(",["T_VARIABLE","$mode",502],["T_WHITESPACE"," ",502],["T_IS_EQUAL","==",502],["T_WHITESPACE"," ",502],["T_STRING","Zend_Cache",502],["T_DOUBLE_COLON","::",502],["T_STRING","CLEANING_MODE_ALL",502],")",["T_WHITESPACE"," ",502],"{",["T_WHITESPACE","\n                    ",502],["T_VARIABLE","$result",503],["T_WHITESPACE"," ",503],"=",["T_WHITESPACE"," ",503],"@",["T_STRING","unlink",503],"(",["T_VARIABLE","$file",503],")",["T_WHITESPACE"," ",503],["T_BOOLEAN_AND","&&",503],["T_WHITESPACE"," ",503],["T_VARIABLE","$result",503],";",["T_WHITESPACE","\n                    ",503],["T_CONTINUE","continue",504],";",["T_WHITESPACE","\n                ",504],"}",["T_WHITESPACE","\n\n                ",505],["T_VARIABLE","$id",507],["T_WHITESPACE","    ",507],"=",["T_WHITESPACE"," ",507],["T_VARIABLE","$this",507],["T_OBJECT_OPERATOR","->",507],["T_STRING","_fileNameToId",507],"(",["T_STRING","basename",507],"(",["T_VARIABLE","$file",507],")",")",";",["T_WHITESPACE","\n                ",507],["T_VARIABLE","$_file",508],["T_WHITESPACE"," ",508],"=",["T_WHITESPACE"," ",508],["T_VARIABLE","$this",508],["T_OBJECT_OPERATOR","->",508],["T_STRING","_file",508],"(",["T_VARIABLE","$id",508],")",";",["T_WHITESPACE","\n                ",508],["T_IF","if",509],["T_WHITESPACE"," ",509],"(",["T_VARIABLE","$file",509],["T_WHITESPACE"," ",509],["T_IS_NOT_EQUAL","!=",509],["T_WHITESPACE"," ",509],["T_VARIABLE","$_file",509],")",["T_WHITESPACE"," ",509],"{",["T_WHITESPACE","\n                    ",509],"@",["T_STRING","unlink",510],"(",["T_VARIABLE","$file",510],")",";",["T_WHITESPACE","\n                    ",510],["T_CONTINUE","continue",511],";",["T_WHITESPACE","\n                ",511],"}",["T_WHITESPACE","\n                ",512],["T_VARIABLE","$metadatas",513],["T_WHITESPACE"," ",513],"=",["T_WHITESPACE"," ",513],["T_VARIABLE","$this",513],["T_OBJECT_OPERATOR","->",513],["T_STRING","_getCache",513],"(",["T_VARIABLE","$file",513],",",["T_WHITESPACE"," ",513],["T_STRING","false",513],")",";",["T_WHITESPACE","\n                ",513],["T_IF","if",514],["T_WHITESPACE"," ",514],"(","!",["T_VARIABLE","$metadatas",514],")",["T_WHITESPACE"," ",514],"{",["T_WHITESPACE","\n                    ",514],"@",["T_STRING","unlink",515],"(",["T_VARIABLE","$file",515],")",";",["T_WHITESPACE","\n                    ",515],["T_CONTINUE","continue",516],";",["T_WHITESPACE","\n                ",516],"}",["T_WHITESPACE","\n                ",517],["T_IF","if",518],["T_WHITESPACE"," ",518],"(",["T_VARIABLE","$mode",518],["T_WHITESPACE"," ",518],["T_IS_EQUAL","==",518],["T_WHITESPACE"," ",518],["T_STRING","Zend_Cache",518],["T_DOUBLE_COLON","::",518],["T_STRING","CLEANING_MODE_OLD",518],")",["T_WHITESPACE"," ",518],"{",["T_WHITESPACE","\n                    ",518],["T_IF","if",519],["T_WHITESPACE"," ",519],"(",["T_STRING","time",519],"(",")",["T_WHITESPACE"," ",519],">",["T_WHITESPACE"," ",519],["T_VARIABLE","$metadatas",519],"[",["T_CONSTANT_ENCAPSED_STRING","'expire'",519],"]",")",["T_WHITESPACE"," ",519],"{",["T_WHITESPACE","\n                        ",519],["T_VARIABLE","$result",520],["T_WHITESPACE"," ",520],"=",["T_WHITESPACE"," ",520],["T_VARIABLE","$this",520],["T_OBJECT_OPERATOR","->",520],["T_STRING","_remove",520],"(",["T_VARIABLE","$file",520],")",["T_WHITESPACE"," ",520],["T_BOOLEAN_AND","&&",520],["T_WHITESPACE"," ",520],["T_VARIABLE","$result",520],";",["T_WHITESPACE","\n                        ",520],["T_VARIABLE","$result",521],["T_WHITESPACE"," ",521],"=",["T_WHITESPACE"," ",521],["T_VARIABLE","$this",521],["T_OBJECT_OPERATOR","->",521],["T_STRING","_updateIdsTags",521],"(",["T_ARRAY","array",521],"(",["T_VARIABLE","$id",521],")",",",["T_WHITESPACE"," ",521],["T_STRING","explode",521],"(",["T_CONSTANT_ENCAPSED_STRING","','",521],",",["T_WHITESPACE"," ",521],["T_VARIABLE","$metadatas",521],"[",["T_CONSTANT_ENCAPSED_STRING","'tags'",521],"]",")",",",["T_WHITESPACE"," ",521],["T_CONSTANT_ENCAPSED_STRING","'diff'",521],")",["T_WHITESPACE"," ",521],["T_BOOLEAN_AND","&&",521],["T_WHITESPACE"," ",521],["T_VARIABLE","$result",521],";",["T_WHITESPACE","\n                    ",521],"}",["T_WHITESPACE","\n                    ",522],["T_CONTINUE","continue",523],";",["T_WHITESPACE","\n                ",523],"}",["T_WHITESPACE"," ",524],["T_ELSE","else",524],["T_WHITESPACE"," ",524],"{",["T_WHITESPACE","\n                    ",524],["T_STRING","Zend_Cache",525],["T_DOUBLE_COLON","::",525],["T_STRING","throwException",525],"(",["T_CONSTANT_ENCAPSED_STRING","'Invalid mode for clean() method.'",525],")",";",["T_WHITESPACE","\n                ",525],"}",["T_WHITESPACE","\n            ",526],"}",["T_WHITESPACE","\n            ",527],["T_IF","if",528],["T_WHITESPACE"," ",528],"(",["T_STRING","is_dir",528],"(",["T_VARIABLE","$file",528],")",["T_WHITESPACE"," ",528],["T_BOOLEAN_AND","&&",528],["T_WHITESPACE"," ",528],["T_VARIABLE","$this",528],["T_OBJECT_OPERATOR","->",528],["T_STRING","_options",528],"[",["T_CONSTANT_ENCAPSED_STRING","'hashed_directory_level'",528],"]",["T_WHITESPACE"," ",528],">",["T_WHITESPACE"," ",528],["T_LNUMBER","0",528],")",["T_WHITESPACE"," ",528],"{",["T_WHITESPACE","\n                ",528],["T_COMMENT","\/\/ Recursive call\n",529],["T_WHITESPACE","                ",530],["T_VARIABLE","$result",530],["T_WHITESPACE"," ",530],"=",["T_WHITESPACE"," ",530],["T_VARIABLE","$this",530],["T_OBJECT_OPERATOR","->",530],["T_STRING","_clean",530],"(",["T_VARIABLE","$file",530],["T_WHITESPACE"," ",530],".",["T_WHITESPACE"," ",530],["T_STRING","DIRECTORY_SEPARATOR",530],",",["T_WHITESPACE"," ",530],["T_VARIABLE","$mode",530],")",["T_WHITESPACE"," ",530],["T_BOOLEAN_AND","&&",530],["T_WHITESPACE"," ",530],["T_VARIABLE","$result",530],";",["T_WHITESPACE","\n                ",530],["T_IF","if",531],["T_WHITESPACE"," ",531],"(",["T_VARIABLE","$mode",531],["T_WHITESPACE"," ",531],["T_IS_EQUAL","==",531],["T_WHITESPACE"," ",531],["T_CONSTANT_ENCAPSED_STRING","'all'",531],")",["T_WHITESPACE"," ",531],"{",["T_WHITESPACE","\n                    ",531],["T_COMMENT","\/\/ if mode=='all', we try to drop the structure too\n",532],["T_WHITESPACE","                    ",533],"@",["T_STRING","rmdir",533],"(",["T_VARIABLE","$file",533],")",";",["T_WHITESPACE","\n                ",533],"}",["T_WHITESPACE","\n            ",534],"}",["T_WHITESPACE","\n        ",535],"}",["T_WHITESPACE","\n        ",536],["T_IF","if",537],["T_WHITESPACE"," ",537],"(",["T_VARIABLE","$mode",537],["T_WHITESPACE"," ",537],["T_IS_EQUAL","==",537],["T_WHITESPACE"," ",537],["T_CONSTANT_ENCAPSED_STRING","'all'",537],")",["T_WHITESPACE"," ",537],"{",["T_WHITESPACE","\n            ",537],["T_FOREACH","foreach",538],["T_WHITESPACE"," ",538],"(",["T_STRING","glob",538],"(",["T_VARIABLE","$this",538],["T_OBJECT_OPERATOR","->",538],["T_STRING","_tagFile",538],"(",["T_CONSTANT_ENCAPSED_STRING","'*'",538],")",")",["T_WHITESPACE"," ",538],["T_AS","as",538],["T_WHITESPACE"," ",538],["T_VARIABLE","$tagFile",538],")",["T_WHITESPACE"," ",538],"{",["T_WHITESPACE","\n                ",538],"@",["T_STRING","unlink",539],"(",["T_VARIABLE","$tagFile",539],")",";",["T_WHITESPACE","\n            ",539],"}",["T_WHITESPACE","\n        ",540],"}",["T_WHITESPACE","\n\n        ",541],["T_RETURN","return",543],["T_WHITESPACE"," ",543],["T_VARIABLE","$result",543],";",["T_WHITESPACE","\n    ",543],"}",["T_WHITESPACE","\n\n    ",544],["T_DOC_COMMENT","\/**\n     * Clean some cache records (protected method used for recursive stuff)\n     *\n     * Available modes are :\n     * Zend_Cache::CLEANING_MODE_ALL (default)    => remove all cache entries ($tags is not used)\n     * Zend_Cache::CLEANING_MODE_OLD              => remove too old cache entries ($tags is not used)\n     * Zend_Cache::CLEANING_MODE_MATCHING_TAG     => remove cache entries matching all given tags\n     *                                               ($tags can be an array of strings or a single string)\n     * Zend_Cache::CLEANING_MODE_NOT_MATCHING_TAG => remove cache entries not {matching one of the given tags}\n     *                                               ($tags can be an array of strings or a single string)\n     * Zend_Cache::CLEANING_MODE_MATCHING_ANY_TAG => remove cache entries matching any given tags\n     *                                               ($tags can be an array of strings or a single string)\n     *\n     * @param  string $mode Clean mode\n     * @param  array  $tags Array of tags\n     *\n     * @throws Zend_Cache_Exception\n     * @return boolean In case of success returns true\n     *\/",546],["T_WHITESPACE","\n    ",564],["T_PROTECTED","protected",565],["T_WHITESPACE"," ",565],["T_FUNCTION","function",565],["T_WHITESPACE"," ",565],["T_STRING","_cleanNew",565],"(",["T_VARIABLE","$mode",565],["T_WHITESPACE"," ",565],"=",["T_WHITESPACE"," ",565],["T_STRING","Zend_Cache",565],["T_DOUBLE_COLON","::",565],["T_STRING","CLEANING_MODE_ALL",565],",",["T_WHITESPACE"," ",565],["T_VARIABLE","$tags",565],["T_WHITESPACE"," ",565],"=",["T_WHITESPACE"," ",565],["T_ARRAY","array",565],"(",")",")",["T_WHITESPACE","\n    ",565],"{",["T_WHITESPACE","\n        ",566],["T_VARIABLE","$result",567],["T_WHITESPACE"," ",567],"=",["T_WHITESPACE"," ",567],["T_STRING","true",567],";",["T_WHITESPACE","\n        ",567],["T_VARIABLE","$ids",568],["T_WHITESPACE","    ",568],"=",["T_WHITESPACE"," ",568],["T_VARIABLE","$this",568],["T_OBJECT_OPERATOR","->",568],["T_STRING","_getIdsByTags",568],"(",["T_VARIABLE","$mode",568],",",["T_WHITESPACE"," ",568],["T_VARIABLE","$tags",568],")",";",["T_WHITESPACE","\n        ",568],["T_FOREACH","foreach",569],["T_WHITESPACE"," ",569],"(",["T_VARIABLE","$ids",569],["T_WHITESPACE"," ",569],["T_AS","as",569],["T_WHITESPACE"," ",569],["T_VARIABLE","$id",569],")",["T_WHITESPACE"," ",569],"{",["T_WHITESPACE","\n            ",569],["T_VARIABLE","$idFile",570],["T_WHITESPACE"," ",570],"=",["T_WHITESPACE"," ",570],["T_VARIABLE","$this",570],["T_OBJECT_OPERATOR","->",570],["T_STRING","_file",570],"(",["T_VARIABLE","$id",570],")",";",["T_WHITESPACE","\n            ",570],["T_IF","if",571],["T_WHITESPACE"," ",571],"(",["T_STRING","is_file",571],"(",["T_VARIABLE","$idFile",571],")",")",["T_WHITESPACE"," ",571],"{",["T_WHITESPACE","\n                ",571],["T_VARIABLE","$result",572],["T_WHITESPACE"," ",572],"=",["T_WHITESPACE"," ",572],["T_VARIABLE","$this",572],["T_OBJECT_OPERATOR","->",572],["T_STRING","_remove",572],"(",["T_VARIABLE","$idFile",572],")",["T_WHITESPACE"," ",572],["T_BOOLEAN_AND","&&",572],["T_WHITESPACE"," ",572],["T_VARIABLE","$result",572],";",["T_WHITESPACE","\n            ",572],"}",["T_WHITESPACE","\n        ",573],"}",["T_WHITESPACE","\n        ",574],["T_SWITCH","switch",575],["T_WHITESPACE"," ",575],"(",["T_VARIABLE","$mode",575],")",["T_WHITESPACE"," ",575],"{",["T_WHITESPACE","\n            ",575],["T_CASE","case",576],["T_WHITESPACE"," ",576],["T_STRING","Zend_Cache",576],["T_DOUBLE_COLON","::",576],["T_STRING","CLEANING_MODE_MATCHING_ANY_TAG",576],":",["T_WHITESPACE","\n                ",576],["T_FOREACH","foreach",577],["T_WHITESPACE"," ",577],"(",["T_VARIABLE","$tags",577],["T_WHITESPACE"," ",577],["T_AS","as",577],["T_WHITESPACE"," ",577],["T_VARIABLE","$tag",577],")",["T_WHITESPACE"," ",577],"{",["T_WHITESPACE","\n                    ",577],["T_VARIABLE","$tagFile",578],["T_WHITESPACE"," ",578],"=",["T_WHITESPACE"," ",578],["T_VARIABLE","$this",578],["T_OBJECT_OPERATOR","->",578],["T_STRING","_tagFile",578],"(",["T_VARIABLE","$tag",578],")",";",["T_WHITESPACE","\n                    ",578],["T_IF","if",579],["T_WHITESPACE"," ",579],"(",["T_STRING","is_file",579],"(",["T_VARIABLE","$tagFile",579],")",")",["T_WHITESPACE"," ",579],"{",["T_WHITESPACE","\n                        ",579],["T_VARIABLE","$result",580],["T_WHITESPACE"," ",580],"=",["T_WHITESPACE"," ",580],["T_VARIABLE","$this",580],["T_OBJECT_OPERATOR","->",580],["T_STRING","_remove",580],"(",["T_VARIABLE","$tagFile",580],")",["T_WHITESPACE"," ",580],["T_BOOLEAN_AND","&&",580],["T_WHITESPACE"," ",580],["T_VARIABLE","$result",580],";",["T_WHITESPACE","\n                    ",580],"}",["T_WHITESPACE","\n                ",581],"}",["T_WHITESPACE","\n                ",582],["T_BREAK","break",583],";",["T_WHITESPACE","\n            ",583],["T_CASE","case",584],["T_WHITESPACE"," ",584],["T_STRING","Zend_Cache",584],["T_DOUBLE_COLON","::",584],["T_STRING","CLEANING_MODE_NOT_MATCHING_TAG",584],":",["T_WHITESPACE","\n            ",584],["T_CASE","case",585],["T_WHITESPACE"," ",585],["T_STRING","Zend_Cache",585],["T_DOUBLE_COLON","::",585],["T_STRING","CLEANING_MODE_MATCHING_TAG",585],":",["T_WHITESPACE","\n                ",585],["T_VARIABLE","$this",586],["T_OBJECT_OPERATOR","->",586],["T_STRING","_updateIdsTags",586],"(",["T_VARIABLE","$ids",586],",",["T_WHITESPACE"," ",586],["T_VARIABLE","$tags",586],",",["T_WHITESPACE"," ",586],["T_CONSTANT_ENCAPSED_STRING","'diff'",586],")",";",["T_WHITESPACE","\n                ",586],["T_BREAK","break",587],";",["T_WHITESPACE","\n        ",587],"}",["T_WHITESPACE","\n\n        ",588],["T_RETURN","return",590],["T_WHITESPACE"," ",590],["T_VARIABLE","$result",590],";",["T_WHITESPACE","\n    ",590],"}",["T_WHITESPACE","\n\n    ",591],["T_DOC_COMMENT","\/**\n     * Fetching cache' ids, by tags using different mods\n     *\n     * @param string $mode\n     * @param array  $tags\n     *\n     * @return array\n     *\/",593],["T_WHITESPACE","\n    ",600],["T_PROTECTED","protected",601],["T_WHITESPACE"," ",601],["T_FUNCTION","function",601],["T_WHITESPACE"," ",601],["T_STRING","_getIdsByTags",601],"(",["T_VARIABLE","$mode",601],",",["T_WHITESPACE"," ",601],["T_VARIABLE","$tags",601],")",["T_WHITESPACE","\n    ",601],"{",["T_WHITESPACE","\n        ",602],["T_VARIABLE","$ids",603],["T_WHITESPACE"," ",603],"=",["T_WHITESPACE"," ",603],["T_ARRAY","array",603],"(",")",";",["T_WHITESPACE","\n        ",603],["T_SWITCH","switch",604],["T_WHITESPACE"," ",604],"(",["T_VARIABLE","$mode",604],")",["T_WHITESPACE"," ",604],"{",["T_WHITESPACE","\n            ",604],["T_CASE","case",605],["T_WHITESPACE"," ",605],["T_STRING","Zend_Cache",605],["T_DOUBLE_COLON","::",605],["T_STRING","CLEANING_MODE_NOT_MATCHING_TAG",605],":",["T_WHITESPACE","\n                ",605],["T_VARIABLE","$ids",606],["T_WHITESPACE"," ",606],"=",["T_WHITESPACE"," ",606],["T_VARIABLE","$this",606],["T_OBJECT_OPERATOR","->",606],["T_STRING","getIds",606],"(",")",";",["T_WHITESPACE","\n                ",606],["T_IF","if",607],["T_WHITESPACE"," ",607],"(",["T_VARIABLE","$tags",607],")",["T_WHITESPACE"," ",607],"{",["T_WHITESPACE","\n                    ",607],["T_FOREACH","foreach",608],["T_WHITESPACE"," ",608],"(",["T_VARIABLE","$tags",608],["T_WHITESPACE"," ",608],["T_AS","as",608],["T_WHITESPACE"," ",608],["T_VARIABLE","$tag",608],")",["T_WHITESPACE"," ",608],"{",["T_WHITESPACE","\n                        ",608],["T_IF","if",609],["T_WHITESPACE"," ",609],"(","!",["T_VARIABLE","$ids",609],")",["T_WHITESPACE"," ",609],"{",["T_WHITESPACE","\n                            ",609],["T_BREAK","break",610],";",["T_WHITESPACE"," ",610],["T_COMMENT","\/\/ early termination optimization\n",610],["T_WHITESPACE","                        ",611],"}",["T_WHITESPACE","\n                        ",611],["T_VARIABLE","$ids",612],["T_WHITESPACE"," ",612],"=",["T_WHITESPACE"," ",612],["T_STRING","array_diff",612],"(",["T_VARIABLE","$ids",612],",",["T_WHITESPACE"," ",612],["T_VARIABLE","$this",612],["T_OBJECT_OPERATOR","->",612],["T_STRING","_getTagIds",612],"(",["T_VARIABLE","$tag",612],")",")",";",["T_WHITESPACE","\n                    ",612],"}",["T_WHITESPACE","\n                ",613],"}",["T_WHITESPACE","\n                ",614],["T_BREAK","break",615],";",["T_WHITESPACE","\n            ",615],["T_CASE","case",616],["T_WHITESPACE"," ",616],["T_STRING","Zend_Cache",616],["T_DOUBLE_COLON","::",616],["T_STRING","CLEANING_MODE_MATCHING_TAG",616],":",["T_WHITESPACE","\n                ",616],["T_IF","if",617],["T_WHITESPACE"," ",617],"(",["T_VARIABLE","$tags",617],")",["T_WHITESPACE"," ",617],"{",["T_WHITESPACE","\n                    ",617],["T_VARIABLE","$tag",618],["T_WHITESPACE"," ",618],"=",["T_WHITESPACE"," ",618],["T_STRING","array_shift",618],"(",["T_VARIABLE","$tags",618],")",";",["T_WHITESPACE","\n                    ",618],["T_VARIABLE","$ids",619],["T_WHITESPACE"," ",619],"=",["T_WHITESPACE"," ",619],["T_VARIABLE","$this",619],["T_OBJECT_OPERATOR","->",619],["T_STRING","_getTagIds",619],"(",["T_VARIABLE","$tag",619],")",";",["T_WHITESPACE","\n                    ",619],["T_FOREACH","foreach",620],["T_WHITESPACE"," ",620],"(",["T_VARIABLE","$tags",620],["T_WHITESPACE"," ",620],["T_AS","as",620],["T_WHITESPACE"," ",620],["T_VARIABLE","$tag",620],")",["T_WHITESPACE"," ",620],"{",["T_WHITESPACE","\n                        ",620],["T_IF","if",621],["T_WHITESPACE"," ",621],"(","!",["T_VARIABLE","$ids",621],")",["T_WHITESPACE"," ",621],"{",["T_WHITESPACE","\n                            ",621],["T_BREAK","break",622],";",["T_WHITESPACE"," ",622],["T_COMMENT","\/\/ early termination optimization\n",622],["T_WHITESPACE","                        ",623],"}",["T_WHITESPACE","\n                        ",623],["T_VARIABLE","$ids",624],["T_WHITESPACE"," ",624],"=",["T_WHITESPACE"," ",624],["T_STRING","array_intersect",624],"(",["T_VARIABLE","$ids",624],",",["T_WHITESPACE"," ",624],["T_VARIABLE","$this",624],["T_OBJECT_OPERATOR","->",624],["T_STRING","_getTagIds",624],"(",["T_VARIABLE","$tag",624],")",")",";",["T_WHITESPACE","\n                    ",624],"}",["T_WHITESPACE","\n                    ",625],["T_VARIABLE","$ids",626],["T_WHITESPACE"," ",626],"=",["T_WHITESPACE"," ",626],["T_STRING","array_unique",626],"(",["T_VARIABLE","$ids",626],")",";",["T_WHITESPACE","\n                ",626],"}",["T_WHITESPACE","\n                ",627],["T_BREAK","break",628],";",["T_WHITESPACE","\n            ",628],["T_CASE","case",629],["T_WHITESPACE"," ",629],["T_STRING","Zend_Cache",629],["T_DOUBLE_COLON","::",629],["T_STRING","CLEANING_MODE_MATCHING_ANY_TAG",629],":",["T_WHITESPACE","\n                ",629],["T_FOREACH","foreach",630],["T_WHITESPACE"," ",630],"(",["T_VARIABLE","$tags",630],["T_WHITESPACE"," ",630],["T_AS","as",630],["T_WHITESPACE"," ",630],["T_VARIABLE","$tag",630],")",["T_WHITESPACE"," ",630],"{",["T_WHITESPACE","\n                    ",630],["T_VARIABLE","$ids",631],["T_WHITESPACE"," ",631],"=",["T_WHITESPACE"," ",631],["T_STRING","array_merge",631],"(",["T_VARIABLE","$ids",631],",",["T_VARIABLE","$this",631],["T_OBJECT_OPERATOR","->",631],["T_STRING","_getTagIds",631],"(",["T_VARIABLE","$tag",631],")",")",";",["T_WHITESPACE","\n                ",631],"}",["T_WHITESPACE","\n                ",632],["T_VARIABLE","$ids",633],["T_WHITESPACE"," ",633],"=",["T_WHITESPACE"," ",633],["T_STRING","array_unique",633],"(",["T_VARIABLE","$ids",633],")",";",["T_WHITESPACE","\n                ",633],["T_BREAK","break",634],";",["T_WHITESPACE","\n        ",634],"}",["T_WHITESPACE","\n\n        ",635],["T_RETURN","return",637],["T_WHITESPACE"," ",637],["T_VARIABLE","$ids",637],";",["T_WHITESPACE","\n    ",637],"}",["T_WHITESPACE","\n\n    ",638],["T_DOC_COMMENT","\/**\n     * Make and return a file name (with path)\n     *\n     * @param  string $id Cache id\n     *\n     * @return string File name (with path)\n     *\/",640],["T_WHITESPACE","\n    ",646],["T_PROTECTED","protected",647],["T_WHITESPACE"," ",647],["T_FUNCTION","function",647],["T_WHITESPACE"," ",647],["T_STRING","_tagFile",647],"(",["T_VARIABLE","$id",647],")",["T_WHITESPACE","\n    ",647],"{",["T_WHITESPACE","\n        ",648],["T_RETURN","return",649],["T_WHITESPACE"," ",649],["T_VARIABLE","$this",649],["T_OBJECT_OPERATOR","->",649],["T_STRING","_tagPath",649],"(",")",["T_WHITESPACE"," ",649],".",["T_WHITESPACE"," ",649],["T_VARIABLE","$this",649],["T_OBJECT_OPERATOR","->",649],["T_STRING","_idToFileName",649],"(",["T_VARIABLE","$id",649],")",";",["T_WHITESPACE","\n    ",649],"}",["T_WHITESPACE","\n\n    ",650],["T_DOC_COMMENT","\/**\n     * Return the complete directory path where tags are stored\n     *\n     * @return string Complete directory path\n     *\/",652],["T_WHITESPACE","\n    ",656],["T_PROTECTED","protected",657],["T_WHITESPACE"," ",657],["T_FUNCTION","function",657],["T_WHITESPACE"," ",657],["T_STRING","_tagPath",657],"(",")",["T_WHITESPACE","\n    ",657],"{",["T_WHITESPACE","\n        ",658],["T_VARIABLE","$path",659],["T_WHITESPACE"," ",659],"=",["T_WHITESPACE"," ",659],["T_VARIABLE","$this",659],["T_OBJECT_OPERATOR","->",659],["T_STRING","_options",659],"[",["T_CONSTANT_ENCAPSED_STRING","'cache_dir'",659],"]",["T_WHITESPACE"," ",659],".",["T_WHITESPACE"," ",659],["T_STRING","DIRECTORY_SEPARATOR",659],["T_WHITESPACE"," ",659],".",["T_WHITESPACE"," ",659],["T_VARIABLE","$this",659],["T_OBJECT_OPERATOR","->",659],["T_STRING","_options",659],"[",["T_CONSTANT_ENCAPSED_STRING","'file_name_prefix'",659],"]",["T_WHITESPACE"," ",659],".",["T_WHITESPACE"," ",659],["T_CONSTANT_ENCAPSED_STRING","'-tags'",659],["T_WHITESPACE","\n                    ",659],".",["T_WHITESPACE"," ",660],["T_STRING","DIRECTORY_SEPARATOR",660],";",["T_WHITESPACE","\n        ",660],["T_IF","if",661],["T_WHITESPACE"," ",661],"(","!",["T_VARIABLE","$this",661],["T_OBJECT_OPERATOR","->",661],["T_STRING","_isTagDirChecked",661],")",["T_WHITESPACE"," ",661],"{",["T_WHITESPACE","\n            ",661],["T_IF","if",662],["T_WHITESPACE"," ",662],"(","!",["T_STRING","is_dir",662],"(",["T_VARIABLE","$path",662],")",")",["T_WHITESPACE"," ",662],"{",["T_WHITESPACE","\n                ",662],["T_IF","if",663],["T_WHITESPACE"," ",663],"(","@",["T_STRING","mkdir",663],"(",["T_VARIABLE","$path",663],",",["T_WHITESPACE"," ",663],["T_VARIABLE","$this",663],["T_OBJECT_OPERATOR","->",663],["T_STRING","_options",663],"[",["T_CONSTANT_ENCAPSED_STRING","'use_chmod'",663],"]",["T_WHITESPACE"," ",663],"?",["T_WHITESPACE"," ",663],["T_VARIABLE","$this",663],["T_OBJECT_OPERATOR","->",663],["T_STRING","_options",663],"[",["T_CONSTANT_ENCAPSED_STRING","'directory_mode'",663],"]",["T_WHITESPACE"," ",663],":",["T_WHITESPACE"," ",663],["T_LNUMBER","0777",663],")",["T_WHITESPACE"," ",663],["T_BOOLEAN_AND","&&",663],["T_WHITESPACE"," ",663],["T_VARIABLE","$this",663],["T_OBJECT_OPERATOR","->",663],["T_STRING","_options",663],"[",["T_CONSTANT_ENCAPSED_STRING","'use_chmod'",663],"]",")",["T_WHITESPACE"," ",663],"{",["T_WHITESPACE","\n                    ",663],"@",["T_STRING","chmod",664],"(",["T_VARIABLE","$path",664],",",["T_WHITESPACE"," ",664],["T_VARIABLE","$this",664],["T_OBJECT_OPERATOR","->",664],["T_STRING","_options",664],"[",["T_CONSTANT_ENCAPSED_STRING","'directory_mode'",664],"]",")",";",["T_WHITESPACE"," ",664],["T_COMMENT","\/\/ see #ZF-320 (this line is required in some configurations)\n",664],["T_WHITESPACE","                ",665],"}",["T_WHITESPACE","\n            ",665],"}",["T_WHITESPACE","\n            ",666],["T_VARIABLE","$this",667],["T_OBJECT_OPERATOR","->",667],["T_STRING","_isTagDirChecked",667],["T_WHITESPACE"," ",667],"=",["T_WHITESPACE"," ",667],["T_STRING","true",667],";",["T_WHITESPACE","\n        ",667],"}",["T_WHITESPACE","\n\n        ",668],["T_RETURN","return",670],["T_WHITESPACE"," ",670],["T_VARIABLE","$path",670],";",["T_WHITESPACE","\n    ",670],"}",["T_WHITESPACE","\n\n    ",671],["T_DOC_COMMENT","\/**\n     * Fetching all existed tags' ids\n     *\n     * @param string|resource $tag\n     *\n     * @return array\n     *\/",673],["T_WHITESPACE","\n    ",679],["T_PROTECTED","protected",680],["T_WHITESPACE"," ",680],["T_FUNCTION","function",680],["T_WHITESPACE"," ",680],["T_STRING","_getTagIds",680],"(",["T_VARIABLE","$tag",680],")",["T_WHITESPACE","\n    ",680],"{",["T_WHITESPACE","\n        ",681],["T_IF","if",682],["T_WHITESPACE"," ",682],"(",["T_STRING","is_resource",682],"(",["T_VARIABLE","$tag",682],")",")",["T_WHITESPACE"," ",682],"{",["T_WHITESPACE","\n            ",682],["T_VARIABLE","$ids",683],["T_WHITESPACE"," ",683],"=",["T_WHITESPACE"," ",683],["T_STRING","stream_get_contents",683],"(",["T_VARIABLE","$tag",683],")",";",["T_WHITESPACE","\n        ",683],"}",["T_WHITESPACE"," ",684],["T_ELSEIF","elseif",684],"(",["T_STRING","file_exists",684],"(",["T_VARIABLE","$this",684],["T_OBJECT_OPERATOR","->",684],["T_STRING","_tagFile",684],"(",["T_VARIABLE","$tag",684],")",")",")",["T_WHITESPACE"," ",684],"{",["T_WHITESPACE","\n            ",684],["T_VARIABLE","$ids",685],["T_WHITESPACE"," ",685],"=",["T_WHITESPACE"," ",685],"@",["T_STRING","file_get_contents",685],"(",["T_VARIABLE","$this",685],["T_OBJECT_OPERATOR","->",685],["T_STRING","_tagFile",685],"(",["T_VARIABLE","$tag",685],")",")",";",["T_WHITESPACE","\n        ",685],"}",["T_WHITESPACE"," ",686],["T_ELSE","else",686],["T_WHITESPACE"," ",686],"{",["T_WHITESPACE","\n            ",686],["T_VARIABLE","$ids",687],["T_WHITESPACE"," ",687],"=",["T_WHITESPACE"," ",687],["T_STRING","false",687],";",["T_WHITESPACE","\n        ",687],"}",["T_WHITESPACE","\n        ",688],["T_IF","if",689],"(",["T_WHITESPACE"," ",689],"!",["T_WHITESPACE"," ",689],["T_VARIABLE","$ids",689],")",["T_WHITESPACE"," ",689],"{",["T_WHITESPACE","\n            ",689],["T_RETURN","return",690],["T_WHITESPACE"," ",690],["T_ARRAY","array",690],"(",")",";",["T_WHITESPACE","\n        ",690],"}",["T_WHITESPACE","\n        ",691],["T_VARIABLE","$ids",692],["T_WHITESPACE"," ",692],"=",["T_WHITESPACE"," ",692],["T_STRING","trim",692],"(",["T_STRING","substr",692],"(",["T_VARIABLE","$ids",692],",",["T_WHITESPACE"," ",692],["T_LNUMBER","0",692],",",["T_WHITESPACE"," ",692],["T_STRING","strrpos",692],"(",["T_VARIABLE","$ids",692],",",["T_WHITESPACE"," ",692],["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",692],")",")",")",";",["T_WHITESPACE","\n        ",692],["T_RETURN","return",693],["T_WHITESPACE"," ",693],["T_VARIABLE","$ids",693],["T_WHITESPACE"," ",693],"?",["T_WHITESPACE"," ",693],["T_STRING","explode",693],"(",["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",693],",",["T_WHITESPACE"," ",693],["T_VARIABLE","$ids",693],")",["T_WHITESPACE"," ",693],":",["T_WHITESPACE"," ",693],["T_ARRAY","array",693],"(",")",";",["T_WHITESPACE","\n    ",693],"}",["T_WHITESPACE","\n\n    ",694],["T_DOC_COMMENT","\/**\n     * Updating tags' ids\n     *\n     * @param array  $ids\n     * @param array  $tags\n     * @param string $mode\n     *\n     * @return boolean\n     *\/",696],["T_WHITESPACE","\n    ",704],["T_PROTECTED","protected",705],["T_WHITESPACE"," ",705],["T_FUNCTION","function",705],["T_WHITESPACE"," ",705],["T_STRING","_updateIdsTags",705],"(",["T_VARIABLE","$ids",705],",",["T_WHITESPACE"," ",705],["T_VARIABLE","$tags",705],",",["T_WHITESPACE"," ",705],["T_VARIABLE","$mode",705],")",["T_WHITESPACE","\n    ",705],"{",["T_WHITESPACE","\n        ",706],["T_VARIABLE","$result",707],["T_WHITESPACE"," ",707],"=",["T_WHITESPACE"," ",707],["T_STRING","true",707],";",["T_WHITESPACE","\n        ",707],["T_IF","if",708],["T_WHITESPACE"," ",708],"(",["T_EMPTY","empty",708],"(",["T_VARIABLE","$ids",708],")",")",["T_WHITESPACE"," ",708],"{",["T_WHITESPACE","\n            ",708],["T_RETURN","return",709],["T_WHITESPACE"," ",709],["T_VARIABLE","$result",709],";",["T_WHITESPACE","\n        ",709],"}",["T_WHITESPACE","\n        ",710],["T_FOREACH","foreach",711],"(",["T_VARIABLE","$tags",711],["T_WHITESPACE"," ",711],["T_AS","as",711],["T_WHITESPACE"," ",711],["T_VARIABLE","$tag",711],")",["T_WHITESPACE"," ",711],"{",["T_WHITESPACE","\n            ",711],["T_VARIABLE","$file",712],["T_WHITESPACE"," ",712],"=",["T_WHITESPACE"," ",712],["T_VARIABLE","$this",712],["T_OBJECT_OPERATOR","->",712],["T_STRING","_tagFile",712],"(",["T_VARIABLE","$tag",712],")",";",["T_WHITESPACE","\n            ",712],["T_IF","if",713],["T_WHITESPACE"," ",713],"(",["T_STRING","file_exists",713],"(",["T_VARIABLE","$file",713],")",")",["T_WHITESPACE"," ",713],"{",["T_WHITESPACE","\n                ",713],["T_IF","if",714],["T_WHITESPACE"," ",714],"(",["T_VARIABLE","$mode",714],["T_WHITESPACE"," ",714],["T_IS_EQUAL","==",714],["T_WHITESPACE"," ",714],["T_CONSTANT_ENCAPSED_STRING","'diff'",714],["T_WHITESPACE"," ",714],["T_BOOLEAN_OR","||",714],["T_WHITESPACE"," ",714],"(",["T_STRING","rand",714],"(",["T_LNUMBER","1",714],",",["T_LNUMBER","100",714],")",["T_WHITESPACE"," ",714],["T_IS_EQUAL","==",714],["T_WHITESPACE"," ",714],["T_LNUMBER","1",714],["T_WHITESPACE"," ",714],["T_BOOLEAN_AND","&&",714],["T_WHITESPACE"," ",714],["T_STRING","filesize",714],"(",["T_VARIABLE","$file",714],")",["T_WHITESPACE"," ",714],">",["T_WHITESPACE"," ",714],["T_LNUMBER","4096",714],")",")",["T_WHITESPACE"," ",714],"{",["T_WHITESPACE","\n                    ",714],["T_VARIABLE","$file",715],["T_WHITESPACE"," ",715],"=",["T_WHITESPACE"," ",715],["T_VARIABLE","$this",715],["T_OBJECT_OPERATOR","->",715],["T_STRING","_tagFile",715],"(",["T_VARIABLE","$tag",715],")",";",["T_WHITESPACE","\n                    ",715],["T_IF","if",716],["T_WHITESPACE"," ",716],"(",["T_WHITESPACE"," ",716],"!",["T_WHITESPACE"," ",716],"(",["T_VARIABLE","$fd",716],["T_WHITESPACE"," ",716],"=",["T_WHITESPACE"," ",716],["T_STRING","fopen",716],"(",["T_VARIABLE","$file",716],",",["T_WHITESPACE"," ",716],["T_CONSTANT_ENCAPSED_STRING","'rb+'",716],")",")",")",["T_WHITESPACE"," ",716],"{",["T_WHITESPACE","\n                        ",716],["T_VARIABLE","$result",717],["T_WHITESPACE"," ",717],"=",["T_WHITESPACE"," ",717],["T_STRING","false",717],";",["T_WHITESPACE","\n                        ",717],["T_CONTINUE","continue",718],";",["T_WHITESPACE","\n                    ",718],"}",["T_WHITESPACE","\n                    ",719],["T_IF","if",720],["T_WHITESPACE"," ",720],"(",["T_VARIABLE","$this",720],["T_OBJECT_OPERATOR","->",720],["T_STRING","_options",720],"[",["T_CONSTANT_ENCAPSED_STRING","'file_locking'",720],"]",")",["T_WHITESPACE"," ",720],["T_STRING","flock",720],"(",["T_VARIABLE","$fd",720],",",["T_WHITESPACE"," ",720],["T_STRING","LOCK_EX",720],")",";",["T_WHITESPACE","\n                    ",720],["T_IF","if",721],["T_WHITESPACE"," ",721],"(",["T_VARIABLE","$mode",721],["T_WHITESPACE"," ",721],["T_IS_EQUAL","==",721],["T_WHITESPACE"," ",721],["T_CONSTANT_ENCAPSED_STRING","'diff'",721],")",["T_WHITESPACE"," ",721],"{",["T_WHITESPACE","\n                        ",721],["T_VARIABLE","$_ids",722],["T_WHITESPACE"," ",722],"=",["T_WHITESPACE"," ",722],["T_STRING","array_diff",722],"(",["T_VARIABLE","$this",722],["T_OBJECT_OPERATOR","->",722],["T_STRING","_getTagIds",722],"(",["T_VARIABLE","$fd",722],")",",",["T_WHITESPACE"," ",722],["T_VARIABLE","$ids",722],")",";",["T_WHITESPACE","\n                    ",722],"}",["T_WHITESPACE"," ",723],["T_ELSE","else",723],["T_WHITESPACE"," ",723],"{",["T_WHITESPACE","\n                        ",723],["T_VARIABLE","$_ids",724],["T_WHITESPACE"," ",724],"=",["T_WHITESPACE"," ",724],["T_STRING","array_merge",724],"(",["T_VARIABLE","$this",724],["T_OBJECT_OPERATOR","->",724],["T_STRING","_getTagIds",724],"(",["T_VARIABLE","$fd",724],")",",",["T_WHITESPACE"," ",724],["T_VARIABLE","$ids",724],")",";",["T_WHITESPACE","\n                    ",724],"}",["T_WHITESPACE","\n                    ",725],["T_STRING","fseek",726],"(",["T_VARIABLE","$fd",726],",",["T_WHITESPACE"," ",726],["T_LNUMBER","0",726],")",";",["T_WHITESPACE","\n                    ",726],["T_STRING","ftruncate",727],"(",["T_VARIABLE","$fd",727],",",["T_WHITESPACE"," ",727],["T_LNUMBER","0",727],")",";",["T_WHITESPACE","\n                    ",727],["T_VARIABLE","$result",728],["T_WHITESPACE"," ",728],"=",["T_WHITESPACE"," ",728],["T_STRING","fwrite",728],"(",["T_VARIABLE","$fd",728],",",["T_WHITESPACE"," ",728],["T_STRING","implode",728],"(",["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",728],",",["T_WHITESPACE"," ",728],["T_STRING","array_unique",728],"(",["T_VARIABLE","$_ids",728],")",")",".",["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",728],")",["T_WHITESPACE"," ",728],["T_BOOLEAN_AND","&&",728],["T_WHITESPACE"," ",728],["T_VARIABLE","$result",728],";",["T_WHITESPACE","\n                    ",728],["T_IF","if",729],["T_WHITESPACE"," ",729],"(",["T_VARIABLE","$this",729],["T_OBJECT_OPERATOR","->",729],["T_STRING","_options",729],"[",["T_CONSTANT_ENCAPSED_STRING","'file_locking'",729],"]",")",["T_WHITESPACE"," ",729],["T_STRING","flock",729],"(",["T_VARIABLE","$fd",729],",",["T_WHITESPACE"," ",729],["T_STRING","LOCK_UN",729],")",";",["T_WHITESPACE","\n                    ",729],["T_STRING","fclose",730],"(",["T_VARIABLE","$fd",730],")",";",["T_WHITESPACE","\n                ",730],"}",["T_WHITESPACE","\n                ",731],["T_ELSE","else",732],["T_WHITESPACE"," ",732],"{",["T_WHITESPACE","\n                    ",732],["T_VARIABLE","$result",733],["T_WHITESPACE"," ",733],"=",["T_WHITESPACE"," ",733],["T_STRING","file_put_contents",733],"(",["T_VARIABLE","$file",733],",",["T_WHITESPACE"," ",733],["T_STRING","implode",733],"(",["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",733],",",["T_WHITESPACE"," ",733],["T_VARIABLE","$ids",733],")",".",["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",733],",",["T_WHITESPACE"," ",733],["T_STRING","FILE_APPEND",733],["T_WHITESPACE"," ",733],"|",["T_WHITESPACE"," ",733],"(",["T_VARIABLE","$this",733],["T_OBJECT_OPERATOR","->",733],["T_STRING","_options",733],"[",["T_CONSTANT_ENCAPSED_STRING","'file_locking'",733],"]",["T_WHITESPACE"," ",733],"?",["T_WHITESPACE"," ",733],["T_STRING","LOCK_EX",733],["T_WHITESPACE"," ",733],":",["T_WHITESPACE"," ",733],["T_LNUMBER","0",733],")",")",["T_WHITESPACE"," ",733],["T_BOOLEAN_AND","&&",733],["T_WHITESPACE"," ",733],["T_VARIABLE","$result",733],";",["T_WHITESPACE","\n                ",733],"}",["T_WHITESPACE","\n            ",734],"}",["T_WHITESPACE"," ",735],["T_ELSE","else",735],["T_WHITESPACE"," ",735],["T_IF","if",735],["T_WHITESPACE"," ",735],"(",["T_VARIABLE","$mode",735],["T_WHITESPACE"," ",735],["T_IS_EQUAL","==",735],["T_WHITESPACE"," ",735],["T_CONSTANT_ENCAPSED_STRING","'merge'",735],")",["T_WHITESPACE"," ",735],"{",["T_WHITESPACE","\n                ",735],["T_VARIABLE","$result",736],["T_WHITESPACE"," ",736],"=",["T_WHITESPACE"," ",736],["T_VARIABLE","$this",736],["T_OBJECT_OPERATOR","->",736],["T_STRING","_filePutContents",736],"(",["T_VARIABLE","$file",736],",",["T_WHITESPACE"," ",736],["T_STRING","implode",736],"(",["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",736],",",["T_WHITESPACE"," ",736],["T_VARIABLE","$ids",736],")",".",["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",736],")",["T_WHITESPACE"," ",736],["T_BOOLEAN_AND","&&",736],["T_WHITESPACE"," ",736],["T_VARIABLE","$result",736],";",["T_WHITESPACE","\n            ",736],"}",["T_WHITESPACE","\n        ",737],"}",["T_WHITESPACE","\n        ",738],["T_RETURN","return",739],["T_WHITESPACE"," ",739],["T_VARIABLE","$result",739],";",["T_WHITESPACE","\n    ",739],"}",["T_WHITESPACE","\n\n    ",740],["T_DOC_COMMENT","\/**\n     * Put the given string into the given file\n     *\n     * @param  string $file   File complete path\n     * @param  string $string String to put in file\n     *\n     * @return boolean In case of success returns true\n     *\/",742],["T_WHITESPACE","\n    ",749],["T_PROTECTED","protected",750],["T_WHITESPACE"," ",750],["T_FUNCTION","function",750],["T_WHITESPACE"," ",750],["T_STRING","_filePutContents",750],"(",["T_VARIABLE","$file",750],",",["T_WHITESPACE"," ",750],["T_VARIABLE","$string",750],")",["T_WHITESPACE","\n    ",750],"{",["T_WHITESPACE","\n        ",751],["T_VARIABLE","$result",752],["T_WHITESPACE"," ",752],"=",["T_WHITESPACE"," ",752],"@",["T_STRING","file_put_contents",752],"(",["T_VARIABLE","$file",752],",",["T_WHITESPACE"," ",752],["T_VARIABLE","$string",752],",",["T_WHITESPACE"," ",752],["T_VARIABLE","$this",752],["T_OBJECT_OPERATOR","->",752],["T_STRING","_options",752],"[",["T_CONSTANT_ENCAPSED_STRING","'file_locking'",752],"]",["T_WHITESPACE"," ",752],"?",["T_WHITESPACE"," ",752],["T_STRING","LOCK_EX",752],["T_WHITESPACE"," ",752],":",["T_WHITESPACE"," ",752],["T_LNUMBER","0",752],")",";",["T_WHITESPACE","\n        ",752],["T_IF","if",753],["T_WHITESPACE"," ",753],"(",["T_VARIABLE","$result",753],["T_WHITESPACE"," ",753],["T_BOOLEAN_AND","&&",753],["T_WHITESPACE"," ",753],["T_VARIABLE","$this",753],["T_OBJECT_OPERATOR","->",753],["T_STRING","_options",753],"[",["T_CONSTANT_ENCAPSED_STRING","'use_chmod'",753],"]",")",["T_WHITESPACE"," ",753],"{",["T_WHITESPACE","\n            ",753],"@",["T_STRING","chmod",754],"(",["T_VARIABLE","$file",754],",",["T_WHITESPACE"," ",754],["T_VARIABLE","$this",754],["T_OBJECT_OPERATOR","->",754],["T_STRING","_options",754],"[",["T_CONSTANT_ENCAPSED_STRING","'file_mode'",754],"]",")",";",["T_WHITESPACE","\n        ",754],"}",["T_WHITESPACE","\n\n        ",755],["T_RETURN","return",757],["T_WHITESPACE"," ",757],["T_VARIABLE","$result",757],";",["T_WHITESPACE","\n    ",757],"}",["T_WHITESPACE","\n\n    ",758],["T_DOC_COMMENT","\/**\n     * Make the directory structure for the given id\n     *\n     * @param string $id cache id\n     * @return boolean true\n     *\/",760],["T_WHITESPACE","\n    ",765],["T_PROTECTED","protected",766],["T_WHITESPACE"," ",766],["T_FUNCTION","function",766],["T_WHITESPACE"," ",766],["T_STRING","_recursiveMkdirAndChmod",766],"(",["T_VARIABLE","$id",766],")",["T_WHITESPACE","\n    ",766],"{",["T_WHITESPACE","\n        ",767],["T_IF","if",768],["T_WHITESPACE"," ",768],"(",["T_VARIABLE","$this",768],["T_OBJECT_OPERATOR","->",768],["T_STRING","_options",768],"[",["T_CONSTANT_ENCAPSED_STRING","'hashed_directory_level'",768],"]",["T_WHITESPACE"," ",768],["T_IS_SMALLER_OR_EQUAL","<=",768],["T_LNUMBER","0",768],")",["T_WHITESPACE"," ",768],"{",["T_WHITESPACE","\n            ",768],["T_RETURN","return",769],["T_WHITESPACE"," ",769],["T_STRING","true",769],";",["T_WHITESPACE","\n        ",769],"}",["T_WHITESPACE","\n        ",770],["T_VARIABLE","$partsArray",771],["T_WHITESPACE"," ",771],"=",["T_WHITESPACE"," ",771],["T_VARIABLE","$this",771],["T_OBJECT_OPERATOR","->",771],["T_STRING","_path",771],"(",["T_VARIABLE","$id",771],",",["T_WHITESPACE"," ",771],["T_STRING","true",771],")",";",["T_WHITESPACE","\n        ",771],["T_FOREACH","foreach",772],["T_WHITESPACE"," ",772],"(",["T_VARIABLE","$partsArray",772],["T_WHITESPACE"," ",772],["T_AS","as",772],["T_WHITESPACE"," ",772],["T_VARIABLE","$part",772],")",["T_WHITESPACE"," ",772],"{",["T_WHITESPACE","\n            ",772],["T_IF","if",773],["T_WHITESPACE"," ",773],"(","!",["T_STRING","is_dir",773],"(",["T_VARIABLE","$part",773],")",")",["T_WHITESPACE"," ",773],"{",["T_WHITESPACE","\n                ",773],"@",["T_STRING","mkdir",774],"(",["T_VARIABLE","$part",774],",",["T_WHITESPACE"," ",774],["T_VARIABLE","$this",774],["T_OBJECT_OPERATOR","->",774],["T_STRING","_options",774],"[",["T_CONSTANT_ENCAPSED_STRING","'use_chmod'",774],"]",["T_WHITESPACE"," ",774],"?",["T_WHITESPACE"," ",774],["T_VARIABLE","$this",774],["T_OBJECT_OPERATOR","->",774],["T_STRING","_options",774],"[",["T_CONSTANT_ENCAPSED_STRING","'directory_mode'",774],"]",["T_WHITESPACE"," ",774],":",["T_WHITESPACE"," ",774],["T_LNUMBER","0777",774],")",";",["T_WHITESPACE","\n                ",774],["T_IF","if",775],["T_WHITESPACE"," ",775],"(",["T_VARIABLE","$this",775],["T_OBJECT_OPERATOR","->",775],["T_STRING","_options",775],"[",["T_CONSTANT_ENCAPSED_STRING","'use_chmod'",775],"]",")",["T_WHITESPACE"," ",775],"{",["T_WHITESPACE","\n                    ",775],"@",["T_STRING","chmod",776],"(",["T_VARIABLE","$part",776],",",["T_WHITESPACE"," ",776],["T_VARIABLE","$this",776],["T_OBJECT_OPERATOR","->",776],["T_STRING","_options",776],"[",["T_CONSTANT_ENCAPSED_STRING","'directory_mode'",776],"]",")",";",["T_WHITESPACE"," ",776],["T_COMMENT","\/\/ see #ZF-320 (this line is required in some configurations)\n",776],["T_WHITESPACE","                ",777],"}",["T_WHITESPACE","\n            ",777],"}",["T_WHITESPACE","\n        ",778],"}",["T_WHITESPACE","\n        ",779],["T_RETURN","return",780],["T_WHITESPACE"," ",780],["T_STRING","true",780],";",["T_WHITESPACE","\n    ",780],"}",["T_WHITESPACE","\n\n    ",781],["T_DOC_COMMENT","\/**\n     * For unit testing only\n     *\n     * @param $id\n     *\/",783],["T_WHITESPACE","\n    ",787],["T_PUBLIC","public",788],["T_WHITESPACE"," ",788],["T_FUNCTION","function",788],["T_WHITESPACE"," ",788],["T_STRING","___expire",788],"(",["T_VARIABLE","$id",788],")",["T_WHITESPACE","\n    ",788],"{",["T_WHITESPACE","\n        ",789],["T_VARIABLE","$metadata",790],["T_WHITESPACE"," ",790],"=",["T_WHITESPACE"," ",790],["T_VARIABLE","$this",790],["T_OBJECT_OPERATOR","->",790],["T_STRING","_getMetadatas",790],"(",["T_VARIABLE","$id",790],")",";",["T_WHITESPACE","\n        ",790],["T_VARIABLE","$this",791],["T_OBJECT_OPERATOR","->",791],["T_STRING","touch",791],"(",["T_VARIABLE","$id",791],",",["T_WHITESPACE"," ",791],["T_LNUMBER","1",791],["T_WHITESPACE"," ",791],"-",["T_WHITESPACE"," ",791],["T_VARIABLE","$metadata",791],"[",["T_CONSTANT_ENCAPSED_STRING","'expire'",791],"]",")",";",["T_WHITESPACE","\n    ",791],"}",["T_WHITESPACE","\n",792],"}",["T_WHITESPACE","\n",793]]