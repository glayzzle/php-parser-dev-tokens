[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * LICENSE\n *\n * This source file is subject to the new BSD license that is bundled\n * with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/framework.zend.com\/license\/new-bsd\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@zend.com so we can send you a copy immediately.\n *\n * @category   Zend\n * @package    Zend_Cloud\n * @subpackage StorageService\n * @copyright  Copyright (c) 2005-2015 Zend Technologies USA Inc. (http:\/\/www.zend.com)\n * @license    http:\/\/framework.zend.com\/license\/new-bsd     New BSD License\n *\/",2],["T_WHITESPACE","\n\n",18],["T_COMMENT","#require_once 'Zend\/Cloud\/StorageService\/Adapter.php';\n",20],["T_COMMENT","#require_once 'Zend\/Service\/WindowsAzure\/Storage\/Blob.php';\n",21],["T_COMMENT","#require_once 'Zend\/Cloud\/StorageService\/Exception.php';\n",22],["T_WHITESPACE","\n",23],["T_DOC_COMMENT","\/**\n *\n * Windows Azure Blob Service abstraction\n *\n * @category   Zend\n * @package    Zend_Cloud\n * @subpackage StorageService\n * @copyright  Copyright (c) 2005-2015 Zend Technologies USA Inc. (http:\/\/www.zend.com)\n * @license    http:\/\/framework.zend.com\/license\/new-bsd     New BSD License\n *\/",24],["T_WHITESPACE","\n",33],["T_CLASS","class",34],["T_WHITESPACE"," ",34],["T_STRING","Zend_Cloud_StorageService_Adapter_WindowsAzure",34],["T_WHITESPACE","\n    ",34],["T_IMPLEMENTS","implements",35],["T_WHITESPACE"," ",35],["T_STRING","Zend_Cloud_StorageService_Adapter",35],["T_WHITESPACE","\n",35],"{",["T_WHITESPACE","\n    ",36],["T_CONST","const",37],["T_WHITESPACE"," ",37],["T_STRING","ACCOUNT_NAME",37],["T_WHITESPACE","      ",37],"=",["T_WHITESPACE"," ",37],["T_CONSTANT_ENCAPSED_STRING","'storage_accountname'",37],";",["T_WHITESPACE","\n    ",37],["T_CONST","const",38],["T_WHITESPACE"," ",38],["T_STRING","ACCOUNT_KEY",38],["T_WHITESPACE","       ",38],"=",["T_WHITESPACE"," ",38],["T_CONSTANT_ENCAPSED_STRING","'storage_accountkey'",38],";",["T_WHITESPACE","\n    ",38],["T_CONST","const",39],["T_WHITESPACE"," ",39],["T_STRING","HOST",39],["T_WHITESPACE","              ",39],"=",["T_WHITESPACE"," ",39],["T_CONSTANT_ENCAPSED_STRING","\"storage_host\"",39],";",["T_WHITESPACE","\n    ",39],["T_CONST","const",40],["T_WHITESPACE"," ",40],["T_STRING","PROXY_HOST",40],["T_WHITESPACE","        ",40],"=",["T_WHITESPACE"," ",40],["T_CONSTANT_ENCAPSED_STRING","\"storage_proxy_host\"",40],";",["T_WHITESPACE","\n    ",40],["T_CONST","const",41],["T_WHITESPACE"," ",41],["T_STRING","PROXY_PORT",41],["T_WHITESPACE","        ",41],"=",["T_WHITESPACE"," ",41],["T_CONSTANT_ENCAPSED_STRING","\"storage_proxy_port\"",41],";",["T_WHITESPACE","\n    ",41],["T_CONST","const",42],["T_WHITESPACE"," ",42],["T_STRING","PROXY_CREDENTIALS",42],["T_WHITESPACE"," ",42],"=",["T_WHITESPACE"," ",42],["T_CONSTANT_ENCAPSED_STRING","\"storage_proxy_credentials\"",42],";",["T_WHITESPACE","\n    ",42],["T_CONST","const",43],["T_WHITESPACE"," ",43],["T_STRING","CONTAINER",43],["T_WHITESPACE","         ",43],"=",["T_WHITESPACE"," ",43],["T_CONSTANT_ENCAPSED_STRING","\"storage_container\"",43],";",["T_WHITESPACE","\n    ",43],["T_CONST","const",44],["T_WHITESPACE"," ",44],["T_STRING","RETURN_TYPE",44],["T_WHITESPACE","       ",44],"=",["T_WHITESPACE"," ",44],["T_CONSTANT_ENCAPSED_STRING","'return_type'",44],";",["T_WHITESPACE","\n    ",44],["T_CONST","const",45],["T_WHITESPACE"," ",45],["T_STRING","RETURN_PATHNAME",45],["T_WHITESPACE","   ",45],"=",["T_WHITESPACE"," ",45],["T_CONSTANT_ENCAPSED_STRING","'return_path'",45],";",["T_WHITESPACE","\n    ",45],["T_CONST","const",46],["T_WHITESPACE"," ",46],["T_STRING","RETURN_OPENMODE",46],["T_WHITESPACE","   ",46],"=",["T_WHITESPACE"," ",46],["T_CONSTANT_ENCAPSED_STRING","'return_openmode'",46],";",["T_WHITESPACE","\n\n    ",46],["T_DOC_COMMENT","\/** return types  for fetch *\/",48],["T_WHITESPACE","\n    ",48],["T_CONST","const",49],["T_WHITESPACE"," ",49],["T_STRING","RETURN_PATH",49],["T_WHITESPACE","   ",49],"=",["T_WHITESPACE"," ",49],["T_LNUMBER","1",49],";",["T_WHITESPACE","   ",49],["T_COMMENT","\/\/ return filename\n",49],["T_WHITESPACE","    ",50],["T_CONST","const",50],["T_WHITESPACE"," ",50],["T_STRING","RETURN_STRING",50],["T_WHITESPACE"," ",50],"=",["T_WHITESPACE"," ",50],["T_LNUMBER","2",50],";",["T_WHITESPACE"," ",50],["T_COMMENT","\/\/ return data as string\n",50],["T_WHITESPACE","    ",51],["T_CONST","const",51],["T_WHITESPACE"," ",51],["T_STRING","RETURN_STREAM",51],["T_WHITESPACE"," ",51],"=",["T_WHITESPACE"," ",51],["T_LNUMBER","3",51],";",["T_WHITESPACE"," ",51],["T_COMMENT","\/\/ return PHP stream\n",51],["T_WHITESPACE","\n    ",52],["T_DOC_COMMENT","\/** return types  for list *\/",53],["T_WHITESPACE","\n    ",53],["T_CONST","const",54],["T_WHITESPACE"," ",54],["T_STRING","RETURN_LIST",54],["T_WHITESPACE","  ",54],"=",["T_WHITESPACE"," ",54],["T_LNUMBER","1",54],";",["T_WHITESPACE","   ",54],["T_COMMENT","\/\/ return native list\n",54],["T_WHITESPACE","    ",55],["T_CONST","const",55],["T_WHITESPACE"," ",55],["T_STRING","RETURN_NAMES",55],["T_WHITESPACE"," ",55],"=",["T_WHITESPACE"," ",55],["T_LNUMBER","2",55],";",["T_WHITESPACE","  ",55],["T_COMMENT","\/\/ return only names\n",55],["T_WHITESPACE","\n    ",56],["T_CONST","const",57],["T_WHITESPACE"," ",57],["T_STRING","DEFAULT_HOST",57],["T_WHITESPACE"," ",57],"=",["T_WHITESPACE"," ",57],["T_STRING","Zend_Service_WindowsAzure_Storage",57],["T_DOUBLE_COLON","::",57],["T_STRING","URL_CLOUD_BLOB",57],";",["T_WHITESPACE","\n\n    ",57],["T_DOC_COMMENT","\/**\n     * Storage container to operate on\n     *\n     * @var string\n     *\/",59],["T_WHITESPACE","\n    ",63],["T_PROTECTED","protected",64],["T_WHITESPACE"," ",64],["T_VARIABLE","$_container",64],";",["T_WHITESPACE","\n\n    ",64],["T_DOC_COMMENT","\/**\n     * Storage client\n     *\n     * @var Zend_Service_WindowsAzure_Storage_Blob\n     *\/",66],["T_WHITESPACE","\n    ",70],["T_PROTECTED","protected",71],["T_WHITESPACE"," ",71],["T_VARIABLE","$_storageClient",71],["T_WHITESPACE"," ",71],"=",["T_WHITESPACE"," ",71],["T_STRING","null",71],";",["T_WHITESPACE","\n\n    ",71],["T_DOC_COMMENT","\/**\n     * Creates a new Zend_Cloud_Storage_WindowsAzure instance\n     *\n     * @param array|Zend_Config  $options   Options for the Zend_Cloud_Storage_WindowsAzure instance\n     *\/",73],["T_WHITESPACE","\n    ",77],["T_PUBLIC","public",78],["T_WHITESPACE"," ",78],["T_FUNCTION","function",78],["T_WHITESPACE"," ",78],["T_STRING","__construct",78],"(",["T_VARIABLE","$options",78],["T_WHITESPACE"," ",78],"=",["T_WHITESPACE"," ",78],["T_ARRAY","array",78],"(",")",")",["T_WHITESPACE","\n    ",78],"{",["T_WHITESPACE","\n        ",79],["T_IF","if",80],["T_WHITESPACE"," ",80],"(",["T_VARIABLE","$options",80],["T_WHITESPACE"," ",80],["T_INSTANCEOF","instanceof",80],["T_WHITESPACE"," ",80],["T_STRING","Zend_Config",80],")",["T_WHITESPACE"," ",80],"{",["T_WHITESPACE","\n            ",80],["T_VARIABLE","$options",81],["T_WHITESPACE"," ",81],"=",["T_WHITESPACE"," ",81],["T_VARIABLE","$options",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","toArray",81],"(",")",";",["T_WHITESPACE","\n        ",81],"}",["T_WHITESPACE","\n\n        ",82],["T_IF","if",84],["T_WHITESPACE"," ",84],"(","!",["T_STRING","is_array",84],"(",["T_VARIABLE","$options",84],")",")",["T_WHITESPACE"," ",84],"{",["T_WHITESPACE","\n            ",84],["T_THROW","throw",85],["T_WHITESPACE"," ",85],["T_NEW","new",85],["T_WHITESPACE"," ",85],["T_STRING","Zend_Cloud_StorageService_Exception",85],"(",["T_CONSTANT_ENCAPSED_STRING","'Invalid options provided'",85],")",";",["T_WHITESPACE","\n        ",85],"}",["T_WHITESPACE","\n\n        ",86],["T_COMMENT","\/\/ Build Zend_Service_WindowsAzure_Storage_Blob instance\n",88],["T_WHITESPACE","        ",89],["T_IF","if",89],["T_WHITESPACE"," ",89],"(","!",["T_ISSET","isset",89],"(",["T_VARIABLE","$options",89],"[",["T_STRING","self",89],["T_DOUBLE_COLON","::",89],["T_STRING","HOST",89],"]",")",")",["T_WHITESPACE"," ",89],"{",["T_WHITESPACE","\n            ",89],["T_VARIABLE","$host",90],["T_WHITESPACE"," ",90],"=",["T_WHITESPACE"," ",90],["T_STRING","self",90],["T_DOUBLE_COLON","::",90],["T_STRING","DEFAULT_HOST",90],";",["T_WHITESPACE","\n        ",90],"}",["T_WHITESPACE"," ",91],["T_ELSE","else",91],["T_WHITESPACE"," ",91],"{",["T_WHITESPACE","\n            ",91],["T_VARIABLE","$host",92],["T_WHITESPACE"," ",92],"=",["T_WHITESPACE"," ",92],["T_VARIABLE","$options",92],"[",["T_STRING","self",92],["T_DOUBLE_COLON","::",92],["T_STRING","HOST",92],"]",";",["T_WHITESPACE","\n        ",92],"}",["T_WHITESPACE","\n\n        ",93],["T_IF","if",95],["T_WHITESPACE"," ",95],"(","!",["T_ISSET","isset",95],"(",["T_VARIABLE","$options",95],"[",["T_STRING","self",95],["T_DOUBLE_COLON","::",95],["T_STRING","ACCOUNT_NAME",95],"]",")",")",["T_WHITESPACE"," ",95],"{",["T_WHITESPACE","\n            ",95],["T_THROW","throw",96],["T_WHITESPACE"," ",96],["T_NEW","new",96],["T_WHITESPACE"," ",96],["T_STRING","Zend_Cloud_StorageService_Exception",96],"(",["T_CONSTANT_ENCAPSED_STRING","'No Windows Azure account name provided.'",96],")",";",["T_WHITESPACE","\n        ",96],"}",["T_WHITESPACE","\n        ",97],["T_IF","if",98],["T_WHITESPACE"," ",98],"(","!",["T_ISSET","isset",98],"(",["T_VARIABLE","$options",98],"[",["T_STRING","self",98],["T_DOUBLE_COLON","::",98],["T_STRING","ACCOUNT_KEY",98],"]",")",")",["T_WHITESPACE"," ",98],"{",["T_WHITESPACE","\n            ",98],["T_THROW","throw",99],["T_WHITESPACE"," ",99],["T_NEW","new",99],["T_WHITESPACE"," ",99],["T_STRING","Zend_Cloud_StorageService_Exception",99],"(",["T_CONSTANT_ENCAPSED_STRING","'No Windows Azure account key provided.'",99],")",";",["T_WHITESPACE","\n        ",99],"}",["T_WHITESPACE","\n\n        ",100],["T_VARIABLE","$this",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","_storageClient",102],["T_WHITESPACE"," ",102],"=",["T_WHITESPACE"," ",102],["T_NEW","new",102],["T_WHITESPACE"," ",102],["T_STRING","Zend_Service_WindowsAzure_Storage_Blob",102],"(",["T_VARIABLE","$host",102],",",["T_WHITESPACE","\n             ",102],["T_VARIABLE","$options",103],"[",["T_STRING","self",103],["T_DOUBLE_COLON","::",103],["T_STRING","ACCOUNT_NAME",103],"]",",",["T_WHITESPACE"," ",103],["T_VARIABLE","$options",103],"[",["T_STRING","self",103],["T_DOUBLE_COLON","::",103],["T_STRING","ACCOUNT_KEY",103],"]",")",";",["T_WHITESPACE","\n\n        ",103],["T_COMMENT","\/\/ Parse other options\n",105],["T_WHITESPACE","        ",106],["T_IF","if",106],["T_WHITESPACE"," ",106],"(","!",["T_EMPTY","empty",106],"(",["T_VARIABLE","$options",106],"[",["T_STRING","self",106],["T_DOUBLE_COLON","::",106],["T_STRING","PROXY_HOST",106],"]",")",")",["T_WHITESPACE"," ",106],"{",["T_WHITESPACE","\n            ",106],["T_VARIABLE","$proxyHost",107],["T_WHITESPACE"," ",107],"=",["T_WHITESPACE"," ",107],["T_VARIABLE","$options",107],"[",["T_STRING","self",107],["T_DOUBLE_COLON","::",107],["T_STRING","PROXY_HOST",107],"]",";",["T_WHITESPACE","\n            ",107],["T_VARIABLE","$proxyPort",108],["T_WHITESPACE"," ",108],"=",["T_WHITESPACE"," ",108],["T_ISSET","isset",108],"(",["T_VARIABLE","$options",108],"[",["T_STRING","self",108],["T_DOUBLE_COLON","::",108],["T_STRING","PROXY_PORT",108],"]",")",["T_WHITESPACE"," ",108],"?",["T_WHITESPACE"," ",108],["T_VARIABLE","$options",108],"[",["T_STRING","self",108],["T_DOUBLE_COLON","::",108],["T_STRING","PROXY_PORT",108],"]",["T_WHITESPACE"," ",108],":",["T_WHITESPACE"," ",108],["T_LNUMBER","8080",108],";",["T_WHITESPACE","\n            ",108],["T_VARIABLE","$proxyCredentials",109],["T_WHITESPACE"," ",109],"=",["T_WHITESPACE"," ",109],["T_ISSET","isset",109],"(",["T_VARIABLE","$options",109],"[",["T_STRING","self",109],["T_DOUBLE_COLON","::",109],["T_STRING","PROXY_CREDENTIALS",109],"]",")",["T_WHITESPACE"," ",109],"?",["T_WHITESPACE"," ",109],["T_VARIABLE","$options",109],"[",["T_STRING","self",109],["T_DOUBLE_COLON","::",109],["T_STRING","PROXY_CREDENTIALS",109],"]",["T_WHITESPACE"," ",109],":",["T_WHITESPACE"," ",109],["T_CONSTANT_ENCAPSED_STRING","''",109],";",["T_WHITESPACE","\n\n            ",109],["T_VARIABLE","$this",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","_storageClient",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","setProxy",111],"(",["T_STRING","true",111],",",["T_WHITESPACE"," ",111],["T_VARIABLE","$proxyHost",111],",",["T_WHITESPACE"," ",111],["T_VARIABLE","$proxyPort",111],",",["T_WHITESPACE"," ",111],["T_VARIABLE","$proxyCredentials",111],")",";",["T_WHITESPACE","\n        ",111],"}",["T_WHITESPACE","\n\n        ",112],["T_IF","if",114],["T_WHITESPACE"," ",114],"(",["T_ISSET","isset",114],"(",["T_VARIABLE","$options",114],"[",["T_STRING","self",114],["T_DOUBLE_COLON","::",114],["T_STRING","HTTP_ADAPTER",114],"]",")",")",["T_WHITESPACE"," ",114],"{",["T_WHITESPACE","\n            ",114],["T_VARIABLE","$this",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","_storageClient",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","setHttpClientChannel",115],"(",["T_VARIABLE","$options",115],"[",["T_STRING","self",115],["T_DOUBLE_COLON","::",115],["T_STRING","HTTP_ADAPTER",115],"]",")",";",["T_WHITESPACE","\n        ",115],"}",["T_WHITESPACE","\n\n        ",116],["T_COMMENT","\/\/ Set container\n",118],["T_WHITESPACE","        ",119],["T_VARIABLE","$this",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","_container",119],["T_WHITESPACE"," ",119],"=",["T_WHITESPACE"," ",119],["T_VARIABLE","$options",119],"[",["T_STRING","self",119],["T_DOUBLE_COLON","::",119],["T_STRING","CONTAINER",119],"]",";",["T_WHITESPACE","\n\n        ",119],["T_COMMENT","\/\/ Make sure the container exists\n",121],["T_WHITESPACE","        ",122],["T_IF","if",122],["T_WHITESPACE"," ",122],"(","!",["T_VARIABLE","$this",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","_storageClient",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","containerExists",122],"(",["T_VARIABLE","$this",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","_container",122],")",")",["T_WHITESPACE"," ",122],"{",["T_WHITESPACE","\n            ",122],["T_VARIABLE","$this",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","_storageClient",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","createContainer",123],"(",["T_VARIABLE","$this",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","_container",123],")",";",["T_WHITESPACE","\n        ",123],"}",["T_WHITESPACE","\n    ",124],"}",["T_WHITESPACE","\n\n    ",125],["T_DOC_COMMENT","\/**\n     * Get an item from the storage service.\n     *\n     * @param  string $path\n     * @param  array $options\n     * @return mixed\n     *\/",127],["T_WHITESPACE","\n    ",133],["T_PUBLIC","public",134],["T_WHITESPACE"," ",134],["T_FUNCTION","function",134],["T_WHITESPACE"," ",134],["T_STRING","fetchItem",134],"(",["T_VARIABLE","$path",134],",",["T_WHITESPACE"," ",134],["T_VARIABLE","$options",134],["T_WHITESPACE"," ",134],"=",["T_WHITESPACE"," ",134],["T_STRING","null",134],")",["T_WHITESPACE","\n    ",134],"{",["T_WHITESPACE","\n        ",135],["T_COMMENT","\/\/ Options\n",136],["T_WHITESPACE","        ",137],["T_VARIABLE","$returnType",137],["T_WHITESPACE"," ",137],"=",["T_WHITESPACE"," ",137],["T_STRING","self",137],["T_DOUBLE_COLON","::",137],["T_STRING","RETURN_STRING",137],";",["T_WHITESPACE","\n        ",137],["T_VARIABLE","$returnPath",138],["T_WHITESPACE"," ",138],"=",["T_WHITESPACE"," ",138],["T_STRING","tempnam",138],"(",["T_CONSTANT_ENCAPSED_STRING","''",138],",",["T_WHITESPACE"," ",138],["T_CONSTANT_ENCAPSED_STRING","'azr'",138],")",";",["T_WHITESPACE","\n        ",138],["T_VARIABLE","$openMode",139],["T_WHITESPACE","   ",139],"=",["T_WHITESPACE"," ",139],["T_CONSTANT_ENCAPSED_STRING","'r'",139],";",["T_WHITESPACE","\n\n        ",139],["T_COMMENT","\/\/ Parse options\n",141],["T_WHITESPACE","        ",142],["T_IF","if",142],["T_WHITESPACE"," ",142],"(",["T_STRING","is_array",142],"(",["T_VARIABLE","$options",142],")",")",["T_WHITESPACE"," ",142],"{",["T_WHITESPACE","\n            ",142],["T_IF","if",143],["T_WHITESPACE"," ",143],"(",["T_ISSET","isset",143],"(",["T_VARIABLE","$options",143],"[",["T_STRING","self",143],["T_DOUBLE_COLON","::",143],["T_STRING","RETURN_TYPE",143],"]",")",")",["T_WHITESPACE"," ",143],"{",["T_WHITESPACE","\n                ",143],["T_VARIABLE","$returnType",144],["T_WHITESPACE"," ",144],"=",["T_WHITESPACE"," ",144],["T_VARIABLE","$options",144],"[",["T_STRING","self",144],["T_DOUBLE_COLON","::",144],["T_STRING","RETURN_TYPE",144],"]",";",["T_WHITESPACE","\n            ",144],"}",["T_WHITESPACE","\n\n            ",145],["T_IF","if",147],["T_WHITESPACE"," ",147],"(",["T_ISSET","isset",147],"(",["T_VARIABLE","$options",147],"[",["T_STRING","self",147],["T_DOUBLE_COLON","::",147],["T_STRING","RETURN_PATHNAME",147],"]",")",")",["T_WHITESPACE"," ",147],"{",["T_WHITESPACE","\n                ",147],["T_VARIABLE","$returnPath",148],["T_WHITESPACE"," ",148],"=",["T_WHITESPACE"," ",148],["T_VARIABLE","$options",148],"[",["T_STRING","self",148],["T_DOUBLE_COLON","::",148],["T_STRING","RETURN_PATHNAME",148],"]",";",["T_WHITESPACE","\n            ",148],"}",["T_WHITESPACE","\n\n            ",149],["T_IF","if",151],["T_WHITESPACE"," ",151],"(",["T_ISSET","isset",151],"(",["T_VARIABLE","$options",151],"[",["T_STRING","self",151],["T_DOUBLE_COLON","::",151],["T_STRING","RETURN_OPENMODE",151],"]",")",")",["T_WHITESPACE"," ",151],"{",["T_WHITESPACE","\n                ",151],["T_VARIABLE","$openMode",152],["T_WHITESPACE"," ",152],"=",["T_WHITESPACE"," ",152],["T_VARIABLE","$options",152],"[",["T_STRING","self",152],["T_DOUBLE_COLON","::",152],["T_STRING","RETURN_OPENMODE",152],"]",";",["T_WHITESPACE","\n            ",152],"}",["T_WHITESPACE","\n        ",153],"}",["T_WHITESPACE","\n\n        ",154],["T_COMMENT","\/\/ Fetch the blob\n",156],["T_WHITESPACE","        ",157],["T_TRY","try",157],["T_WHITESPACE"," ",157],"{",["T_WHITESPACE","\n            ",157],["T_VARIABLE","$this",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","_storageClient",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","getBlob",158],"(",["T_WHITESPACE","\n                ",158],["T_VARIABLE","$this",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","_container",159],",",["T_WHITESPACE","\n                ",159],["T_VARIABLE","$path",160],",",["T_WHITESPACE","\n                ",160],["T_VARIABLE","$returnPath",161],["T_WHITESPACE","\n            ",161],")",";",["T_WHITESPACE","\n        ",162],"}",["T_WHITESPACE"," ",163],["T_CATCH","catch",163],["T_WHITESPACE"," ",163],"(",["T_STRING","Zend_Service_WindowsAzure_Exception",163],["T_WHITESPACE"," ",163],["T_VARIABLE","$e",163],")",["T_WHITESPACE"," ",163],"{",["T_WHITESPACE","\n            ",163],["T_IF","if",164],["T_WHITESPACE"," ",164],"(",["T_STRING","strpos",164],"(",["T_VARIABLE","$e",164],["T_OBJECT_OPERATOR","->",164],["T_STRING","getMessage",164],"(",")",",",["T_WHITESPACE"," ",164],["T_CONSTANT_ENCAPSED_STRING","\"does not exist\"",164],")",["T_WHITESPACE"," ",164],["T_IS_NOT_IDENTICAL","!==",164],["T_WHITESPACE"," ",164],["T_STRING","false",164],")",["T_WHITESPACE"," ",164],"{",["T_WHITESPACE","\n                ",164],["T_RETURN","return",165],["T_WHITESPACE"," ",165],["T_STRING","false",165],";",["T_WHITESPACE","\n            ",165],"}",["T_WHITESPACE","\n            ",166],["T_THROW","throw",167],["T_WHITESPACE"," ",167],["T_NEW","new",167],["T_WHITESPACE"," ",167],["T_STRING","Zend_Cloud_StorageService_Exception",167],"(",["T_CONSTANT_ENCAPSED_STRING","'Error on fetch: '",167],".",["T_VARIABLE","$e",167],["T_OBJECT_OPERATOR","->",167],["T_STRING","getMessage",167],"(",")",",",["T_WHITESPACE"," ",167],["T_VARIABLE","$e",167],["T_OBJECT_OPERATOR","->",167],["T_STRING","getCode",167],"(",")",",",["T_WHITESPACE"," ",167],["T_VARIABLE","$e",167],")",";",["T_WHITESPACE","\n        ",167],"}",["T_WHITESPACE","\n\n        ",168],["T_COMMENT","\/\/ Return value\n",170],["T_WHITESPACE","        ",171],["T_IF","if",171],["T_WHITESPACE"," ",171],"(",["T_VARIABLE","$returnType",171],["T_WHITESPACE"," ",171],["T_IS_EQUAL","==",171],["T_WHITESPACE"," ",171],["T_STRING","self",171],["T_DOUBLE_COLON","::",171],["T_STRING","RETURN_PATH",171],")",["T_WHITESPACE"," ",171],"{",["T_WHITESPACE","\n            ",171],["T_RETURN","return",172],["T_WHITESPACE"," ",172],["T_VARIABLE","$returnPath",172],";",["T_WHITESPACE","\n        ",172],"}",["T_WHITESPACE","\n        ",173],["T_IF","if",174],["T_WHITESPACE"," ",174],"(",["T_VARIABLE","$returnType",174],["T_WHITESPACE"," ",174],["T_IS_EQUAL","==",174],["T_WHITESPACE"," ",174],["T_STRING","self",174],["T_DOUBLE_COLON","::",174],["T_STRING","RETURN_STRING",174],")",["T_WHITESPACE"," ",174],"{",["T_WHITESPACE","\n            ",174],["T_RETURN","return",175],["T_WHITESPACE"," ",175],["T_STRING","file_get_contents",175],"(",["T_VARIABLE","$returnPath",175],")",";",["T_WHITESPACE","\n        ",175],"}",["T_WHITESPACE","\n        ",176],["T_IF","if",177],["T_WHITESPACE"," ",177],"(",["T_VARIABLE","$returnType",177],["T_WHITESPACE"," ",177],["T_IS_EQUAL","==",177],["T_WHITESPACE"," ",177],["T_STRING","self",177],["T_DOUBLE_COLON","::",177],["T_STRING","RETURN_STREAM",177],")",["T_WHITESPACE"," ",177],"{",["T_WHITESPACE","\n            ",177],["T_RETURN","return",178],["T_WHITESPACE"," ",178],["T_STRING","fopen",178],"(",["T_VARIABLE","$returnPath",178],",",["T_WHITESPACE"," ",178],["T_VARIABLE","$openMode",178],")",";",["T_WHITESPACE","\n        ",178],"}",["T_WHITESPACE","\n    ",179],"}",["T_WHITESPACE","\n\n    ",180],["T_DOC_COMMENT","\/**\n     * Store an item in the storage service.\n     * WARNING: This operation overwrites any item that is located at\n     * $destinationPath.\n     * @param string $destinationPath\n     * @param mixed  $data\n     * @param  array $options\n     * @return boolean\n     *\/",182],["T_WHITESPACE","\n    ",190],["T_PUBLIC","public",191],["T_WHITESPACE"," ",191],["T_FUNCTION","function",191],["T_WHITESPACE"," ",191],["T_STRING","storeItem",191],"(",["T_VARIABLE","$destinationPath",191],",",["T_WHITESPACE"," ",191],["T_VARIABLE","$data",191],",",["T_WHITESPACE"," ",191],["T_VARIABLE","$options",191],["T_WHITESPACE"," ",191],"=",["T_WHITESPACE"," ",191],["T_STRING","null",191],")",["T_WHITESPACE","\n    ",191],"{",["T_WHITESPACE","\n        ",192],["T_COMMENT","\/\/ Create a temporary file that will be uploaded\n",193],["T_WHITESPACE","        ",194],["T_VARIABLE","$temporaryFilePath",194],["T_WHITESPACE","       ",194],"=",["T_WHITESPACE"," ",194],["T_CONSTANT_ENCAPSED_STRING","''",194],";",["T_WHITESPACE","\n        ",194],["T_VARIABLE","$removeTemporaryFilePath",195],["T_WHITESPACE"," ",195],"=",["T_WHITESPACE"," ",195],["T_STRING","false",195],";",["T_WHITESPACE","\n\n        ",195],["T_IF","if",197],["T_WHITESPACE"," ",197],"(",["T_STRING","is_resource",197],"(",["T_VARIABLE","$data",197],")",")",["T_WHITESPACE","    ",197],"{",["T_WHITESPACE","\n            ",197],["T_VARIABLE","$temporaryFilePath",198],["T_WHITESPACE"," ",198],"=",["T_WHITESPACE"," ",198],["T_STRING","tempnam",198],"(",["T_CONSTANT_ENCAPSED_STRING","''",198],",",["T_WHITESPACE"," ",198],["T_CONSTANT_ENCAPSED_STRING","'azr'",198],")",";",["T_WHITESPACE","\n            ",198],["T_VARIABLE","$fpDestination",199],["T_WHITESPACE","     ",199],"=",["T_WHITESPACE"," ",199],["T_STRING","fopen",199],"(",["T_VARIABLE","$temporaryFilePath",199],",",["T_WHITESPACE"," ",199],["T_CONSTANT_ENCAPSED_STRING","'w'",199],")",";",["T_WHITESPACE","\n\n            ",199],["T_VARIABLE","$fpSource",201],["T_WHITESPACE"," ",201],"=",["T_WHITESPACE"," ",201],["T_VARIABLE","$data",201],";",["T_WHITESPACE","\n            ",201],["T_STRING","rewind",202],"(",["T_VARIABLE","$fpSource",202],")",";",["T_WHITESPACE","\n            ",202],["T_WHILE","while",203],["T_WHITESPACE"," ",203],"(","!",["T_STRING","feof",203],"(",["T_VARIABLE","$fpSource",203],")",")",["T_WHITESPACE"," ",203],"{",["T_WHITESPACE","\n                ",203],["T_STRING","fwrite",204],"(",["T_VARIABLE","$fpDestination",204],",",["T_WHITESPACE"," ",204],["T_STRING","fread",204],"(",["T_VARIABLE","$fpSource",204],",",["T_WHITESPACE"," ",204],["T_LNUMBER","8192",204],")",")",";",["T_WHITESPACE","\n            ",204],"}",["T_WHITESPACE","\n\n            ",205],["T_STRING","fclose",207],"(",["T_VARIABLE","$fpDestination",207],")",";",["T_WHITESPACE","\n\n            ",207],["T_VARIABLE","$removeTemporaryFilePath",209],["T_WHITESPACE"," ",209],"=",["T_WHITESPACE"," ",209],["T_STRING","true",209],";",["T_WHITESPACE","\n        ",209],"}",["T_WHITESPACE"," ",210],["T_ELSEIF","elseif",210],["T_WHITESPACE"," ",210],"(",["T_STRING","file_exists",210],"(",["T_VARIABLE","$data",210],")",")",["T_WHITESPACE"," ",210],"{",["T_WHITESPACE","\n            ",210],["T_VARIABLE","$temporaryFilePath",211],["T_WHITESPACE","       ",211],"=",["T_WHITESPACE"," ",211],["T_VARIABLE","$data",211],";",["T_WHITESPACE","\n            ",211],["T_VARIABLE","$removeTemporaryFilePath",212],["T_WHITESPACE"," ",212],"=",["T_WHITESPACE"," ",212],["T_STRING","false",212],";",["T_WHITESPACE","\n        ",212],"}",["T_WHITESPACE"," ",213],["T_ELSE","else",213],["T_WHITESPACE"," ",213],"{",["T_WHITESPACE","\n            ",213],["T_VARIABLE","$temporaryFilePath",214],["T_WHITESPACE"," ",214],"=",["T_WHITESPACE"," ",214],["T_STRING","tempnam",214],"(",["T_CONSTANT_ENCAPSED_STRING","''",214],",",["T_WHITESPACE"," ",214],["T_CONSTANT_ENCAPSED_STRING","'azr'",214],")",";",["T_WHITESPACE","\n            ",214],["T_STRING","file_put_contents",215],"(",["T_VARIABLE","$temporaryFilePath",215],",",["T_WHITESPACE"," ",215],["T_VARIABLE","$data",215],")",";",["T_WHITESPACE","\n            ",215],["T_VARIABLE","$removeTemporaryFilePath",216],["T_WHITESPACE"," ",216],"=",["T_WHITESPACE"," ",216],["T_STRING","true",216],";",["T_WHITESPACE","\n        ",216],"}",["T_WHITESPACE","\n\n        ",217],["T_TRY","try",219],["T_WHITESPACE"," ",219],"{",["T_WHITESPACE","\n            ",219],["T_COMMENT","\/\/ Upload data\n",220],["T_WHITESPACE","            ",221],["T_VARIABLE","$this",221],["T_OBJECT_OPERATOR","->",221],["T_STRING","_storageClient",221],["T_OBJECT_OPERATOR","->",221],["T_STRING","putBlob",221],"(",["T_WHITESPACE","\n                ",221],["T_VARIABLE","$this",222],["T_OBJECT_OPERATOR","->",222],["T_STRING","_container",222],",",["T_WHITESPACE","\n                ",222],["T_VARIABLE","$destinationPath",223],",",["T_WHITESPACE","\n                ",223],["T_VARIABLE","$temporaryFilePath",224],["T_WHITESPACE","\n            ",224],")",";",["T_WHITESPACE","\n        ",225],"}",["T_WHITESPACE"," ",226],["T_CATCH","catch",226],"(",["T_STRING","Zend_Service_WindowsAzure_Exception",226],["T_WHITESPACE"," ",226],["T_VARIABLE","$e",226],")",["T_WHITESPACE"," ",226],"{",["T_WHITESPACE","\n            ",226],"@",["T_STRING","unlink",227],"(",["T_VARIABLE","$temporaryFilePath",227],")",";",["T_WHITESPACE","\n            ",227],["T_THROW","throw",228],["T_WHITESPACE"," ",228],["T_NEW","new",228],["T_WHITESPACE"," ",228],["T_STRING","Zend_Cloud_StorageService_Exception",228],"(",["T_CONSTANT_ENCAPSED_STRING","'Error on store: '",228],".",["T_VARIABLE","$e",228],["T_OBJECT_OPERATOR","->",228],["T_STRING","getMessage",228],"(",")",",",["T_WHITESPACE"," ",228],["T_VARIABLE","$e",228],["T_OBJECT_OPERATOR","->",228],["T_STRING","getCode",228],"(",")",",",["T_WHITESPACE"," ",228],["T_VARIABLE","$e",228],")",";",["T_WHITESPACE","\n        ",228],"}",["T_WHITESPACE","\n        ",229],["T_IF","if",230],["T_WHITESPACE"," ",230],"(",["T_VARIABLE","$removeTemporaryFilePath",230],")",["T_WHITESPACE"," ",230],"{",["T_WHITESPACE","\n            ",230],"@",["T_STRING","unlink",231],"(",["T_VARIABLE","$temporaryFilePath",231],")",";",["T_WHITESPACE","\n        ",231],"}",["T_WHITESPACE","\n    ",232],"}",["T_WHITESPACE","\n\n    ",233],["T_DOC_COMMENT","\/**\n     * Delete an item in the storage service.\n     *\n     * @param  string $path\n     * @param  array  $options\n     * @return void\n     *\/",235],["T_WHITESPACE","\n    ",241],["T_PUBLIC","public",242],["T_WHITESPACE"," ",242],["T_FUNCTION","function",242],["T_WHITESPACE"," ",242],["T_STRING","deleteItem",242],"(",["T_VARIABLE","$path",242],",",["T_WHITESPACE"," ",242],["T_VARIABLE","$options",242],["T_WHITESPACE"," ",242],"=",["T_WHITESPACE"," ",242],["T_STRING","null",242],")",["T_WHITESPACE","\n    ",242],"{",["T_WHITESPACE","\n        ",243],["T_TRY","try",244],["T_WHITESPACE"," ",244],"{",["T_WHITESPACE","\n            ",244],["T_VARIABLE","$this",245],["T_OBJECT_OPERATOR","->",245],["T_STRING","_storageClient",245],["T_OBJECT_OPERATOR","->",245],["T_STRING","deleteBlob",245],"(",["T_WHITESPACE","\n                ",245],["T_VARIABLE","$this",246],["T_OBJECT_OPERATOR","->",246],["T_STRING","_container",246],",",["T_WHITESPACE","\n                ",246],["T_VARIABLE","$path",247],["T_WHITESPACE","\n            ",247],")",";",["T_WHITESPACE","\n        ",248],"}",["T_WHITESPACE"," ",249],["T_CATCH","catch",249],["T_WHITESPACE"," ",249],"(",["T_STRING","Zend_Service_WindowsAzure_Exception",249],["T_WHITESPACE"," ",249],["T_VARIABLE","$e",249],")",["T_WHITESPACE"," ",249],"{",["T_WHITESPACE","\n            ",249],["T_THROW","throw",250],["T_WHITESPACE"," ",250],["T_NEW","new",250],["T_WHITESPACE"," ",250],["T_STRING","Zend_Cloud_StorageService_Exception",250],"(",["T_CONSTANT_ENCAPSED_STRING","'Error on delete: '",250],".",["T_VARIABLE","$e",250],["T_OBJECT_OPERATOR","->",250],["T_STRING","getMessage",250],"(",")",",",["T_WHITESPACE"," ",250],["T_VARIABLE","$e",250],["T_OBJECT_OPERATOR","->",250],["T_STRING","getCode",250],"(",")",",",["T_WHITESPACE"," ",250],["T_VARIABLE","$e",250],")",";",["T_WHITESPACE","\n        ",250],"}",["T_WHITESPACE","\n    ",251],"}",["T_WHITESPACE","\n\n    ",252],["T_DOC_COMMENT","\/**\n     * Copy an item in the storage service to a given path.\n     *\n     * @param  string $sourcePath\n     * @param  string $destinationPath\n     * @param  array  $options\n     * @return void\n     *\/",254],["T_WHITESPACE","\n    ",261],["T_PUBLIC","public",262],["T_WHITESPACE"," ",262],["T_FUNCTION","function",262],["T_WHITESPACE"," ",262],["T_STRING","copyItem",262],"(",["T_VARIABLE","$sourcePath",262],",",["T_WHITESPACE"," ",262],["T_VARIABLE","$destinationPath",262],",",["T_WHITESPACE"," ",262],["T_VARIABLE","$options",262],["T_WHITESPACE"," ",262],"=",["T_WHITESPACE"," ",262],["T_STRING","null",262],")",["T_WHITESPACE","\n    ",262],"{",["T_WHITESPACE","\n        ",263],["T_TRY","try",264],["T_WHITESPACE"," ",264],"{",["T_WHITESPACE","\n            ",264],["T_VARIABLE","$this",265],["T_OBJECT_OPERATOR","->",265],["T_STRING","_storageClient",265],["T_OBJECT_OPERATOR","->",265],["T_STRING","copyBlob",265],"(",["T_WHITESPACE","\n                ",265],["T_VARIABLE","$this",266],["T_OBJECT_OPERATOR","->",266],["T_STRING","_container",266],",",["T_WHITESPACE","\n                ",266],["T_VARIABLE","$sourcePath",267],",",["T_WHITESPACE","\n                ",267],["T_VARIABLE","$this",268],["T_OBJECT_OPERATOR","->",268],["T_STRING","_container",268],",",["T_WHITESPACE","\n                ",268],["T_VARIABLE","$destinationPath",269],["T_WHITESPACE","\n            ",269],")",";",["T_WHITESPACE","\n        ",270],"}",["T_WHITESPACE"," ",271],["T_CATCH","catch",271],["T_WHITESPACE"," ",271],"(",["T_STRING","Zend_Service_WindowsAzure_Exception",271],["T_WHITESPACE"," ",271],["T_VARIABLE","$e",271],")",["T_WHITESPACE"," ",271],"{",["T_WHITESPACE","\n            ",271],["T_THROW","throw",272],["T_WHITESPACE"," ",272],["T_NEW","new",272],["T_WHITESPACE"," ",272],["T_STRING","Zend_Cloud_StorageService_Exception",272],"(",["T_CONSTANT_ENCAPSED_STRING","'Error on copy: '",272],".",["T_VARIABLE","$e",272],["T_OBJECT_OPERATOR","->",272],["T_STRING","getMessage",272],"(",")",",",["T_WHITESPACE"," ",272],["T_VARIABLE","$e",272],["T_OBJECT_OPERATOR","->",272],["T_STRING","getCode",272],"(",")",",",["T_WHITESPACE"," ",272],["T_VARIABLE","$e",272],")",";",["T_WHITESPACE","\n        ",272],"}",["T_WHITESPACE","\n    ",273],"}",["T_WHITESPACE","\n\n    ",274],["T_DOC_COMMENT","\/**\n     * Move an item in the storage service to a given path.\n     *\n     * @param  string $sourcePath\n     * @param  string $destinationPath\n     * @param  array  $options\n     * @return void\n     *\/",276],["T_WHITESPACE","\n    ",283],["T_PUBLIC","public",284],["T_WHITESPACE"," ",284],["T_FUNCTION","function",284],["T_WHITESPACE"," ",284],["T_STRING","moveItem",284],"(",["T_VARIABLE","$sourcePath",284],",",["T_WHITESPACE"," ",284],["T_VARIABLE","$destinationPath",284],",",["T_WHITESPACE"," ",284],["T_VARIABLE","$options",284],["T_WHITESPACE"," ",284],"=",["T_WHITESPACE"," ",284],["T_STRING","null",284],")",["T_WHITESPACE","\n    ",284],"{",["T_WHITESPACE","\n        ",285],["T_TRY","try",286],["T_WHITESPACE"," ",286],"{",["T_WHITESPACE","\n            ",286],["T_VARIABLE","$this",287],["T_OBJECT_OPERATOR","->",287],["T_STRING","_storageClient",287],["T_OBJECT_OPERATOR","->",287],["T_STRING","copyBlob",287],"(",["T_WHITESPACE","\n                ",287],["T_VARIABLE","$this",288],["T_OBJECT_OPERATOR","->",288],["T_STRING","_container",288],",",["T_WHITESPACE","\n                ",288],["T_VARIABLE","$sourcePath",289],",",["T_WHITESPACE","\n                ",289],["T_VARIABLE","$this",290],["T_OBJECT_OPERATOR","->",290],["T_STRING","_container",290],",",["T_WHITESPACE","\n                ",290],["T_VARIABLE","$destinationPath",291],["T_WHITESPACE","\n            ",291],")",";",["T_WHITESPACE","\n\n            ",292],["T_VARIABLE","$this",294],["T_OBJECT_OPERATOR","->",294],["T_STRING","_storageClient",294],["T_OBJECT_OPERATOR","->",294],["T_STRING","deleteBlob",294],"(",["T_WHITESPACE","\n                ",294],["T_VARIABLE","$this",295],["T_OBJECT_OPERATOR","->",295],["T_STRING","_container",295],",",["T_WHITESPACE","\n                ",295],["T_VARIABLE","$sourcePath",296],["T_WHITESPACE","\n            ",296],")",";",["T_WHITESPACE","\n        ",297],"}",["T_WHITESPACE"," ",298],["T_CATCH","catch",298],["T_WHITESPACE"," ",298],"(",["T_STRING","Zend_Service_WindowsAzure_Exception",298],["T_WHITESPACE"," ",298],["T_VARIABLE","$e",298],")",["T_WHITESPACE"," ",298],"{",["T_WHITESPACE","\n            ",298],["T_THROW","throw",299],["T_WHITESPACE"," ",299],["T_NEW","new",299],["T_WHITESPACE"," ",299],["T_STRING","Zend_Cloud_StorageService_Exception",299],"(",["T_CONSTANT_ENCAPSED_STRING","'Error on move: '",299],".",["T_VARIABLE","$e",299],["T_OBJECT_OPERATOR","->",299],["T_STRING","getMessage",299],"(",")",",",["T_WHITESPACE"," ",299],["T_VARIABLE","$e",299],["T_OBJECT_OPERATOR","->",299],["T_STRING","getCode",299],"(",")",",",["T_WHITESPACE"," ",299],["T_VARIABLE","$e",299],")",";",["T_WHITESPACE","\n        ",299],"}",["T_WHITESPACE","\n\n    ",300],"}",["T_WHITESPACE","\n\n    ",302],["T_DOC_COMMENT","\/**\n     * Rename an item in the storage service to a given name.\n     *\n     *\n     * @param  string $path\n     * @param  string $name\n     * @param  array $options\n     * @return void\n     *\/",304],["T_WHITESPACE","\n    ",312],["T_PUBLIC","public",313],["T_WHITESPACE"," ",313],["T_FUNCTION","function",313],["T_WHITESPACE"," ",313],["T_STRING","renameItem",313],"(",["T_VARIABLE","$path",313],",",["T_WHITESPACE"," ",313],["T_VARIABLE","$name",313],",",["T_WHITESPACE"," ",313],["T_VARIABLE","$options",313],["T_WHITESPACE"," ",313],"=",["T_WHITESPACE"," ",313],["T_STRING","null",313],")",["T_WHITESPACE","\n    ",313],"{",["T_WHITESPACE","\n        ",314],["T_RETURN","return",315],["T_WHITESPACE"," ",315],["T_VARIABLE","$this",315],["T_OBJECT_OPERATOR","->",315],["T_STRING","moveItem",315],"(",["T_VARIABLE","$path",315],",",["T_WHITESPACE"," ",315],["T_VARIABLE","$name",315],",",["T_WHITESPACE"," ",315],["T_VARIABLE","$options",315],")",";",["T_WHITESPACE","\n    ",315],"}",["T_WHITESPACE","\n\n    ",316],["T_DOC_COMMENT","\/**\n     * List items in the given directory in the storage service\n     *\n     * The $path must be a directory\n     *\n     *\n     * @param  string $path Must be a directory\n     * @param  array $options\n     * @return array A list of item names\n     *\/",318],["T_WHITESPACE","\n    ",327],["T_PUBLIC","public",328],["T_WHITESPACE"," ",328],["T_FUNCTION","function",328],["T_WHITESPACE"," ",328],["T_STRING","listItems",328],"(",["T_VARIABLE","$path",328],",",["T_WHITESPACE"," ",328],["T_VARIABLE","$options",328],["T_WHITESPACE"," ",328],"=",["T_WHITESPACE"," ",328],["T_STRING","null",328],")",["T_WHITESPACE","\n    ",328],"{",["T_WHITESPACE","\n        ",329],["T_COMMENT","\/\/ Options\n",330],["T_WHITESPACE","        ",331],["T_VARIABLE","$returnType",331],["T_WHITESPACE"," ",331],"=",["T_WHITESPACE"," ",331],["T_STRING","self",331],["T_DOUBLE_COLON","::",331],["T_STRING","RETURN_NAMES",331],";",["T_WHITESPACE"," ",331],["T_COMMENT","\/\/ 1: return list of paths, 2: return raw output from underlying provider\n",331],["T_WHITESPACE","\n        ",332],["T_COMMENT","\/\/ Parse options\n",333],["T_WHITESPACE","        ",334],["T_IF","if",334],["T_WHITESPACE"," ",334],"(",["T_STRING","is_array",334],"(",["T_VARIABLE","$options",334],")",["T_BOOLEAN_AND","&&",334],["T_WHITESPACE"," ",334],["T_ISSET","isset",334],"(",["T_VARIABLE","$options",334],"[",["T_STRING","self",334],["T_DOUBLE_COLON","::",334],["T_STRING","RETURN_TYPE",334],"]",")",")",["T_WHITESPACE"," ",334],"{",["T_WHITESPACE","\n               ",334],["T_VARIABLE","$returnType",335],["T_WHITESPACE"," ",335],"=",["T_WHITESPACE"," ",335],["T_VARIABLE","$options",335],"[",["T_STRING","self",335],["T_DOUBLE_COLON","::",335],["T_STRING","RETURN_TYPE",335],"]",";",["T_WHITESPACE","\n        ",335],"}",["T_WHITESPACE","\n\n        ",336],["T_TRY","try",338],["T_WHITESPACE"," ",338],"{",["T_WHITESPACE","\n            ",338],["T_COMMENT","\/\/ Fetch list\n",339],["T_WHITESPACE","            ",340],["T_VARIABLE","$blobList",340],["T_WHITESPACE"," ",340],"=",["T_WHITESPACE"," ",340],["T_VARIABLE","$this",340],["T_OBJECT_OPERATOR","->",340],["T_STRING","_storageClient",340],["T_OBJECT_OPERATOR","->",340],["T_STRING","listBlobs",340],"(",["T_WHITESPACE","\n                ",340],["T_VARIABLE","$this",341],["T_OBJECT_OPERATOR","->",341],["T_STRING","_container",341],",",["T_WHITESPACE","\n                ",341],["T_VARIABLE","$path",342],["T_WHITESPACE","\n            ",342],")",";",["T_WHITESPACE","\n        ",343],"}",["T_WHITESPACE"," ",344],["T_CATCH","catch",344],["T_WHITESPACE"," ",344],"(",["T_STRING","Zend_Service_WindowsAzure_Exception",344],["T_WHITESPACE"," ",344],["T_VARIABLE","$e",344],")",["T_WHITESPACE"," ",344],"{",["T_WHITESPACE","\n            ",344],["T_THROW","throw",345],["T_WHITESPACE"," ",345],["T_NEW","new",345],["T_WHITESPACE"," ",345],["T_STRING","Zend_Cloud_StorageService_Exception",345],"(",["T_CONSTANT_ENCAPSED_STRING","'Error on list: '",345],".",["T_VARIABLE","$e",345],["T_OBJECT_OPERATOR","->",345],["T_STRING","getMessage",345],"(",")",",",["T_WHITESPACE"," ",345],["T_VARIABLE","$e",345],["T_OBJECT_OPERATOR","->",345],["T_STRING","getCode",345],"(",")",",",["T_WHITESPACE"," ",345],["T_VARIABLE","$e",345],")",";",["T_WHITESPACE","\n        ",345],"}",["T_WHITESPACE","\n\n        ",346],["T_COMMENT","\/\/ Return\n",348],["T_WHITESPACE","        ",349],["T_IF","if",349],["T_WHITESPACE"," ",349],"(",["T_VARIABLE","$returnType",349],["T_WHITESPACE"," ",349],["T_IS_EQUAL","==",349],["T_WHITESPACE"," ",349],["T_STRING","self",349],["T_DOUBLE_COLON","::",349],["T_STRING","RETURN_LIST",349],")",["T_WHITESPACE"," ",349],"{",["T_WHITESPACE","\n            ",349],["T_RETURN","return",350],["T_WHITESPACE"," ",350],["T_VARIABLE","$blobList",350],";",["T_WHITESPACE","\n        ",350],"}",["T_WHITESPACE","\n\n        ",351],["T_VARIABLE","$returnValue",353],["T_WHITESPACE"," ",353],"=",["T_WHITESPACE"," ",353],["T_ARRAY","array",353],"(",")",";",["T_WHITESPACE","\n        ",353],["T_FOREACH","foreach",354],["T_WHITESPACE"," ",354],"(",["T_VARIABLE","$blobList",354],["T_WHITESPACE"," ",354],["T_AS","as",354],["T_WHITESPACE"," ",354],["T_VARIABLE","$blob",354],")",["T_WHITESPACE"," ",354],"{",["T_WHITESPACE","\n            ",354],["T_VARIABLE","$returnValue",355],"[","]",["T_WHITESPACE"," ",355],"=",["T_WHITESPACE"," ",355],["T_VARIABLE","$blob",355],["T_OBJECT_OPERATOR","->",355],["T_STRING","Name",355],";",["T_WHITESPACE","\n        ",355],"}",["T_WHITESPACE","\n\n        ",356],["T_RETURN","return",358],["T_WHITESPACE"," ",358],["T_VARIABLE","$returnValue",358],";",["T_WHITESPACE","\n    ",358],"}",["T_WHITESPACE","\n\n    ",359],["T_DOC_COMMENT","\/**\n     * Get a key\/value array of metadata for the given path.\n     *\n     * @param  string $path\n     * @param  array  $options\n     * @return array\n     *\/",361],["T_WHITESPACE","\n    ",367],["T_PUBLIC","public",368],["T_WHITESPACE"," ",368],["T_FUNCTION","function",368],["T_WHITESPACE"," ",368],["T_STRING","fetchMetadata",368],"(",["T_VARIABLE","$path",368],",",["T_WHITESPACE"," ",368],["T_VARIABLE","$options",368],["T_WHITESPACE"," ",368],"=",["T_WHITESPACE"," ",368],["T_STRING","null",368],")",["T_WHITESPACE","\n    ",368],"{",["T_WHITESPACE","\n        ",369],["T_TRY","try",370],["T_WHITESPACE"," ",370],"{",["T_WHITESPACE","\n            ",370],["T_RETURN","return",371],["T_WHITESPACE"," ",371],["T_VARIABLE","$this",371],["T_OBJECT_OPERATOR","->",371],["T_STRING","_storageClient",371],["T_OBJECT_OPERATOR","->",371],["T_STRING","getBlobMetaData",371],"(",["T_WHITESPACE","\n                ",371],["T_VARIABLE","$this",372],["T_OBJECT_OPERATOR","->",372],["T_STRING","_container",372],",",["T_WHITESPACE","\n                ",372],["T_VARIABLE","$path",373],["T_WHITESPACE","\n            ",373],")",";",["T_WHITESPACE","\n        ",374],"}",["T_WHITESPACE"," ",375],["T_CATCH","catch",375],["T_WHITESPACE"," ",375],"(",["T_STRING","Zend_Service_WindowsAzure_Exception",375],["T_WHITESPACE"," ",375],["T_VARIABLE","$e",375],")",["T_WHITESPACE"," ",375],"{",["T_WHITESPACE","\n            ",375],["T_IF","if",376],["T_WHITESPACE"," ",376],"(",["T_STRING","strpos",376],"(",["T_VARIABLE","$e",376],["T_OBJECT_OPERATOR","->",376],["T_STRING","getMessage",376],"(",")",",",["T_WHITESPACE"," ",376],["T_CONSTANT_ENCAPSED_STRING","\"could not be accessed\"",376],")",["T_WHITESPACE"," ",376],["T_IS_NOT_IDENTICAL","!==",376],["T_WHITESPACE"," ",376],["T_STRING","false",376],")",["T_WHITESPACE"," ",376],"{",["T_WHITESPACE","\n                ",376],["T_RETURN","return",377],["T_WHITESPACE"," ",377],["T_STRING","false",377],";",["T_WHITESPACE","\n            ",377],"}",["T_WHITESPACE","\n            ",378],["T_THROW","throw",379],["T_WHITESPACE"," ",379],["T_NEW","new",379],["T_WHITESPACE"," ",379],["T_STRING","Zend_Cloud_StorageService_Exception",379],"(",["T_CONSTANT_ENCAPSED_STRING","'Error on fetch: '",379],".",["T_VARIABLE","$e",379],["T_OBJECT_OPERATOR","->",379],["T_STRING","getMessage",379],"(",")",",",["T_WHITESPACE"," ",379],["T_VARIABLE","$e",379],["T_OBJECT_OPERATOR","->",379],["T_STRING","getCode",379],"(",")",",",["T_WHITESPACE"," ",379],["T_VARIABLE","$e",379],")",";",["T_WHITESPACE","\n        ",379],"}",["T_WHITESPACE","\n    ",380],"}",["T_WHITESPACE","\n\n    ",381],["T_DOC_COMMENT","\/**\n     * Store a key\/value array of metadata at the given path.\n     * WARNING: This operation overwrites any metadata that is located at\n     * $destinationPath.\n     *\n     * @param  string $destinationPath\n     * @param  array $options\n     * @return void\n     *\/",383],["T_WHITESPACE","\n    ",391],["T_PUBLIC","public",392],["T_WHITESPACE"," ",392],["T_FUNCTION","function",392],["T_WHITESPACE"," ",392],["T_STRING","storeMetadata",392],"(",["T_VARIABLE","$destinationPath",392],",",["T_WHITESPACE"," ",392],["T_VARIABLE","$metadata",392],",",["T_WHITESPACE"," ",392],["T_VARIABLE","$options",392],["T_WHITESPACE"," ",392],"=",["T_WHITESPACE"," ",392],["T_STRING","null",392],")",["T_WHITESPACE","\n    ",392],"{",["T_WHITESPACE","\n        ",393],["T_TRY","try",394],["T_WHITESPACE","    ",394],"{",["T_WHITESPACE","\n            ",394],["T_VARIABLE","$this",395],["T_OBJECT_OPERATOR","->",395],["T_STRING","_storageClient",395],["T_OBJECT_OPERATOR","->",395],["T_STRING","setBlobMetadata",395],"(",["T_VARIABLE","$this",395],["T_OBJECT_OPERATOR","->",395],["T_STRING","_container",395],",",["T_WHITESPACE"," ",395],["T_VARIABLE","$destinationPath",395],",",["T_WHITESPACE"," ",395],["T_VARIABLE","$metadata",395],")",";",["T_WHITESPACE","\n        ",395],"}",["T_WHITESPACE"," ",396],["T_CATCH","catch",396],["T_WHITESPACE"," ",396],"(",["T_STRING","Zend_Service_WindowsAzure_Exception",396],["T_WHITESPACE"," ",396],["T_VARIABLE","$e",396],")",["T_WHITESPACE"," ",396],"{",["T_WHITESPACE","\n            ",396],["T_IF","if",397],["T_WHITESPACE"," ",397],"(",["T_STRING","strpos",397],"(",["T_VARIABLE","$e",397],["T_OBJECT_OPERATOR","->",397],["T_STRING","getMessage",397],"(",")",",",["T_WHITESPACE"," ",397],["T_CONSTANT_ENCAPSED_STRING","\"could not be accessed\"",397],")",["T_WHITESPACE"," ",397],["T_IS_IDENTICAL","===",397],["T_WHITESPACE"," ",397],["T_STRING","false",397],")",["T_WHITESPACE"," ",397],"{",["T_WHITESPACE","\n                ",397],["T_THROW","throw",398],["T_WHITESPACE"," ",398],["T_NEW","new",398],["T_WHITESPACE"," ",398],["T_STRING","Zend_Cloud_StorageService_Exception",398],"(",["T_CONSTANT_ENCAPSED_STRING","'Error on store metadata: '",398],".",["T_VARIABLE","$e",398],["T_OBJECT_OPERATOR","->",398],["T_STRING","getMessage",398],"(",")",",",["T_WHITESPACE"," ",398],["T_VARIABLE","$e",398],["T_OBJECT_OPERATOR","->",398],["T_STRING","getCode",398],"(",")",",",["T_WHITESPACE"," ",398],["T_VARIABLE","$e",398],")",";",["T_WHITESPACE","\n            ",398],"}",["T_WHITESPACE","\n        ",399],"}",["T_WHITESPACE","\n    ",400],"}",["T_WHITESPACE","\n\n    ",401],["T_DOC_COMMENT","\/**\n     * Delete a key\/value array of metadata at the given path.\n     *\n     * @param  string $path\n     * @param  array $options\n     * @return void\n     *\/",403],["T_WHITESPACE","\n    ",409],["T_PUBLIC","public",410],["T_WHITESPACE"," ",410],["T_FUNCTION","function",410],["T_WHITESPACE"," ",410],["T_STRING","deleteMetadata",410],"(",["T_VARIABLE","$path",410],",",["T_WHITESPACE"," ",410],["T_VARIABLE","$options",410],["T_WHITESPACE"," ",410],"=",["T_WHITESPACE"," ",410],["T_STRING","null",410],")",["T_WHITESPACE","\n    ",410],"{",["T_WHITESPACE","\n        ",411],["T_TRY","try",412],["T_WHITESPACE"," ",412],"{",["T_WHITESPACE","\n            ",412],["T_VARIABLE","$this",413],["T_OBJECT_OPERATOR","->",413],["T_STRING","_storageClient",413],["T_OBJECT_OPERATOR","->",413],["T_STRING","setBlobMetadata",413],"(",["T_VARIABLE","$this",413],["T_OBJECT_OPERATOR","->",413],["T_STRING","_container",413],",",["T_WHITESPACE"," ",413],["T_VARIABLE","$destinationPath",413],",",["T_WHITESPACE"," ",413],["T_ARRAY","array",413],"(",")",")",";",["T_WHITESPACE","\n        ",413],"}",["T_WHITESPACE"," ",414],["T_CATCH","catch",414],["T_WHITESPACE"," ",414],"(",["T_STRING","Zend_Service_WindowsAzure_Exception",414],["T_WHITESPACE"," ",414],["T_VARIABLE","$e",414],")",["T_WHITESPACE"," ",414],"{",["T_WHITESPACE","\n            ",414],["T_IF","if",415],["T_WHITESPACE"," ",415],"(",["T_STRING","strpos",415],"(",["T_VARIABLE","$e",415],["T_OBJECT_OPERATOR","->",415],["T_STRING","getMessage",415],"(",")",",",["T_WHITESPACE"," ",415],["T_CONSTANT_ENCAPSED_STRING","\"could not be accessed\"",415],")",["T_WHITESPACE"," ",415],["T_IS_IDENTICAL","===",415],["T_WHITESPACE"," ",415],["T_STRING","false",415],")",["T_WHITESPACE"," ",415],"{",["T_WHITESPACE","\n                ",415],["T_THROW","throw",416],["T_WHITESPACE"," ",416],["T_NEW","new",416],["T_WHITESPACE"," ",416],["T_STRING","Zend_Cloud_StorageService_Exception",416],"(",["T_CONSTANT_ENCAPSED_STRING","'Error on delete metadata: '",416],".",["T_VARIABLE","$e",416],["T_OBJECT_OPERATOR","->",416],["T_STRING","getMessage",416],"(",")",",",["T_WHITESPACE"," ",416],["T_VARIABLE","$e",416],["T_OBJECT_OPERATOR","->",416],["T_STRING","getCode",416],"(",")",",",["T_WHITESPACE"," ",416],["T_VARIABLE","$e",416],")",";",["T_WHITESPACE","\n            ",416],"}",["T_WHITESPACE","\n        ",417],"}",["T_WHITESPACE","\n    ",418],"}",["T_WHITESPACE","\n\n    ",419],["T_DOC_COMMENT","\/**\n     * Delete container\n     *\n     * @return void\n     *\/",421],["T_WHITESPACE","\n    ",425],["T_PUBLIC","public",426],["T_WHITESPACE"," ",426],["T_FUNCTION","function",426],["T_WHITESPACE"," ",426],["T_STRING","deleteContainer",426],"(",")",["T_WHITESPACE","\n    ",426],"{",["T_WHITESPACE","\n        ",427],["T_TRY","try",428],["T_WHITESPACE"," ",428],"{",["T_WHITESPACE","\n            ",428],["T_VARIABLE","$this",429],["T_OBJECT_OPERATOR","->",429],["T_STRING","_storageClient",429],["T_OBJECT_OPERATOR","->",429],["T_STRING","deleteContainer",429],"(",["T_VARIABLE","$this",429],["T_OBJECT_OPERATOR","->",429],["T_STRING","_container",429],")",";",["T_WHITESPACE","\n        ",429],"}",["T_WHITESPACE"," ",430],["T_CATCH","catch",430],["T_WHITESPACE"," ",430],"(",["T_STRING","Zend_Service_WindowsAzure_Exception",430],["T_WHITESPACE"," ",430],["T_VARIABLE","$e",430],")",["T_WHITESPACE"," ",430],"{",["T_WHITESPACE","\n            ",430],["T_THROW","throw",431],["T_WHITESPACE"," ",431],["T_NEW","new",431],["T_WHITESPACE"," ",431],["T_STRING","Zend_Cloud_StorageService_Exception",431],"(",["T_CONSTANT_ENCAPSED_STRING","'Error on delete: '",431],".",["T_VARIABLE","$e",431],["T_OBJECT_OPERATOR","->",431],["T_STRING","getMessage",431],"(",")",",",["T_WHITESPACE"," ",431],["T_VARIABLE","$e",431],["T_OBJECT_OPERATOR","->",431],["T_STRING","getCode",431],"(",")",",",["T_WHITESPACE"," ",431],["T_VARIABLE","$e",431],")",";",["T_WHITESPACE","\n        ",431],"}",["T_WHITESPACE","\n    ",432],"}",["T_WHITESPACE","\n\n    ",433],["T_DOC_COMMENT","\/**\n     * Get the concrete adapter.\n     * @return Zend_Service_Azure_Storage_Blob\n     *\/",435],["T_WHITESPACE","\n    ",438],["T_PUBLIC","public",439],["T_WHITESPACE"," ",439],["T_FUNCTION","function",439],["T_WHITESPACE"," ",439],["T_STRING","getClient",439],"(",")",["T_WHITESPACE","\n    ",439],"{",["T_WHITESPACE","\n         ",440],["T_RETURN","return",441],["T_WHITESPACE"," ",441],["T_VARIABLE","$this",441],["T_OBJECT_OPERATOR","->",441],["T_STRING","_storageClient",441],";",["T_WHITESPACE","\n    ",441],"}",["T_WHITESPACE","\n",442],"}",["T_WHITESPACE","\n",443]]