[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * @category   Zend\n * @package    Zend_Cloud_Infrastructure\n * @subpackage Adapter\n * @copyright  Copyright (c) 2005-2015 Zend Technologies USA Inc. (http:\/\/www.zend.com)\n * @license    http:\/\/framework.zend.com\/license\/new-bsd     New BSD License\n *\/",2],["T_WHITESPACE","\n\n",8],["T_COMMENT","#require_once 'Zend\/Service\/Amazon\/Ec2\/Instance.php';\n",10],["T_COMMENT","#require_once 'Zend\/Service\/Amazon\/Ec2\/Image.php';\n",11],["T_COMMENT","#require_once 'Zend\/Service\/Amazon\/Ec2\/Availabilityzones.php';\n",12],["T_COMMENT","#require_once 'Zend\/Service\/Amazon\/Ec2\/CloudWatch.php';\n",13],["T_COMMENT","#require_once 'Zend\/Cloud\/Infrastructure\/Instance.php';\n",14],["T_COMMENT","#require_once 'Zend\/Cloud\/Infrastructure\/InstanceList.php';\n",15],["T_COMMENT","#require_once 'Zend\/Cloud\/Infrastructure\/Image.php';\n",16],["T_COMMENT","#require_once 'Zend\/Cloud\/Infrastructure\/ImageList.php';\n",17],["T_COMMENT","#require_once 'Zend\/Cloud\/Infrastructure\/Adapter\/AbstractAdapter.php';\n",18],["T_WHITESPACE","\n",19],["T_DOC_COMMENT","\/**\n * Amazon EC2 adapter for infrastructure service\n *\n * @package    Zend_Cloud_Infrastructure\n * @subpackage Adapter\n * @copyright  Copyright (c) 2005-2015 Zend Technologies USA Inc. (http:\/\/www.zend.com)\n * @license    http:\/\/framework.zend.com\/license\/new-bsd     New BSD License\n *\/",20],["T_WHITESPACE","\n",27],["T_CLASS","class",28],["T_WHITESPACE"," ",28],["T_STRING","Zend_Cloud_Infrastructure_Adapter_Ec2",28],["T_WHITESPACE"," ",28],["T_EXTENDS","extends",28],["T_WHITESPACE"," ",28],["T_STRING","Zend_Cloud_Infrastructure_Adapter_AbstractAdapter",28],["T_WHITESPACE","\n",28],"{",["T_WHITESPACE","\n    ",29],["T_DOC_COMMENT","\/**\n     * AWS constants\n     *\/",30],["T_WHITESPACE","\n    ",32],["T_CONST","const",33],["T_WHITESPACE"," ",33],["T_STRING","AWS_ACCESS_KEY",33],["T_WHITESPACE","     ",33],"=",["T_WHITESPACE"," ",33],["T_CONSTANT_ENCAPSED_STRING","'aws_accesskey'",33],";",["T_WHITESPACE","\n    ",33],["T_CONST","const",34],["T_WHITESPACE"," ",34],["T_STRING","AWS_SECRET_KEY",34],["T_WHITESPACE","     ",34],"=",["T_WHITESPACE"," ",34],["T_CONSTANT_ENCAPSED_STRING","'aws_secretkey'",34],";",["T_WHITESPACE","\n    ",34],["T_CONST","const",35],["T_WHITESPACE"," ",35],["T_STRING","AWS_REGION",35],["T_WHITESPACE","         ",35],"=",["T_WHITESPACE"," ",35],["T_CONSTANT_ENCAPSED_STRING","'aws_region'",35],";",["T_WHITESPACE","\n    ",35],["T_CONST","const",36],["T_WHITESPACE"," ",36],["T_STRING","AWS_SECURITY_GROUP",36],["T_WHITESPACE"," ",36],"=",["T_WHITESPACE"," ",36],["T_CONSTANT_ENCAPSED_STRING","'securityGroup'",36],";",["T_WHITESPACE","\n\n    ",36],["T_DOC_COMMENT","\/**\n     * Ec2 Instance \n     * \n     * @var Ec2Instance\n     *\/",38],["T_WHITESPACE","\n    ",42],["T_PROTECTED","protected",43],["T_WHITESPACE"," ",43],["T_VARIABLE","$ec2",43],";",["T_WHITESPACE","\n\n    ",43],["T_DOC_COMMENT","\/**\n     * Ec2 Image\n     * \n     * @var Ec2Image\n     *\/",45],["T_WHITESPACE","\n    ",49],["T_PROTECTED","protected",50],["T_WHITESPACE"," ",50],["T_VARIABLE","$ec2Image",50],";",["T_WHITESPACE","\n\n    ",50],["T_DOC_COMMENT","\/**\n     * Ec2 Zone\n     * \n     * @var Ec2Zone\n     *\/",52],["T_WHITESPACE","\n    ",56],["T_PROTECTED","protected",57],["T_WHITESPACE"," ",57],["T_VARIABLE","$ec2Zone",57],";",["T_WHITESPACE","\n\n    ",57],["T_DOC_COMMENT","\/**\n     * Ec2 Monitor \n     * \n     * @var Ec2Monitor\n     *\/",59],["T_WHITESPACE","\n    ",63],["T_PROTECTED","protected",64],["T_WHITESPACE"," ",64],["T_VARIABLE","$ec2Monitor",64],";",["T_WHITESPACE","\n\n    ",64],["T_DOC_COMMENT","\/**\n     * AWS Access Key\n     * \n     * @var string \n     *\/",66],["T_WHITESPACE","\n    ",70],["T_PROTECTED","protected",71],["T_WHITESPACE"," ",71],["T_VARIABLE","$accessKey",71],";",["T_WHITESPACE","\n\n    ",71],["T_DOC_COMMENT","\/**\n     * AWS Access Secret\n     * \n     * @var string \n     *\/",73],["T_WHITESPACE","\n    ",77],["T_PROTECTED","protected",78],["T_WHITESPACE"," ",78],["T_VARIABLE","$accessSecret",78],";",["T_WHITESPACE","\n\n    ",78],["T_DOC_COMMENT","\/**\n     * Region zone \n     * \n     * @var string \n     *\/",80],["T_WHITESPACE","\n    ",84],["T_PROTECTED","protected",85],["T_WHITESPACE"," ",85],["T_VARIABLE","$region",85],";",["T_WHITESPACE","\n\n    ",85],["T_DOC_COMMENT","\/**\n     * Map array between EC2 and Infrastructure status\n     * \n     * @var array \n     *\/",87],["T_WHITESPACE","\n    ",91],["T_PROTECTED","protected",92],["T_WHITESPACE"," ",92],["T_VARIABLE","$mapStatus",92],["T_WHITESPACE"," ",92],"=",["T_WHITESPACE"," ",92],["T_ARRAY","array",92],["T_WHITESPACE"," ",92],"(",["T_WHITESPACE","\n        ",92],["T_CONSTANT_ENCAPSED_STRING","'running'",93],["T_WHITESPACE","       ",93],["T_DOUBLE_ARROW","=>",93],["T_WHITESPACE"," ",93],["T_STRING","Zend_Cloud_Infrastructure_Instance",93],["T_DOUBLE_COLON","::",93],["T_STRING","STATUS_RUNNING",93],",",["T_WHITESPACE","\n        ",93],["T_CONSTANT_ENCAPSED_STRING","'terminated'",94],["T_WHITESPACE","    ",94],["T_DOUBLE_ARROW","=>",94],["T_WHITESPACE"," ",94],["T_STRING","Zend_Cloud_Infrastructure_Instance",94],["T_DOUBLE_COLON","::",94],["T_STRING","STATUS_TERMINATED",94],",",["T_WHITESPACE","\n        ",94],["T_CONSTANT_ENCAPSED_STRING","'pending'",95],["T_WHITESPACE","       ",95],["T_DOUBLE_ARROW","=>",95],["T_WHITESPACE"," ",95],["T_STRING","Zend_Cloud_Infrastructure_Instance",95],["T_DOUBLE_COLON","::",95],["T_STRING","STATUS_PENDING",95],",",["T_WHITESPACE","\n        ",95],["T_CONSTANT_ENCAPSED_STRING","'shutting-down'",96],["T_WHITESPACE"," ",96],["T_DOUBLE_ARROW","=>",96],["T_WHITESPACE"," ",96],["T_STRING","Zend_Cloud_Infrastructure_Instance",96],["T_DOUBLE_COLON","::",96],["T_STRING","STATUS_SHUTTING_DOWN",96],",",["T_WHITESPACE","\n        ",96],["T_CONSTANT_ENCAPSED_STRING","'stopping'",97],["T_WHITESPACE","      ",97],["T_DOUBLE_ARROW","=>",97],["T_WHITESPACE"," ",97],["T_STRING","Zend_Cloud_Infrastructure_Instance",97],["T_DOUBLE_COLON","::",97],["T_STRING","STATUS_PENDING",97],",",["T_WHITESPACE","\n        ",97],["T_CONSTANT_ENCAPSED_STRING","'stopped'",98],["T_WHITESPACE","       ",98],["T_DOUBLE_ARROW","=>",98],["T_WHITESPACE"," ",98],["T_STRING","Zend_Cloud_Infrastructure_Instance",98],["T_DOUBLE_COLON","::",98],["T_STRING","STATUS_STOPPED",98],",",["T_WHITESPACE","\n        ",98],["T_CONSTANT_ENCAPSED_STRING","'rebooting'",99],["T_WHITESPACE","     ",99],["T_DOUBLE_ARROW","=>",99],["T_WHITESPACE"," ",99],["T_STRING","Zend_Cloud_Infrastructure_Instance",99],["T_DOUBLE_COLON","::",99],["T_STRING","STATUS_REBOOTING",99],",",["T_WHITESPACE","\n    ",99],")",";",["T_WHITESPACE","\n\n    ",100],["T_DOC_COMMENT","\/**\n     * Map monitor metrics between Infrastructure and EC2\n     * \n     * @var array \n     *\/",102],["T_WHITESPACE","\n    ",106],["T_PROTECTED","protected",107],["T_WHITESPACE"," ",107],["T_VARIABLE","$mapMetrics",107],"=",["T_WHITESPACE"," ",107],["T_ARRAY","array",107],["T_WHITESPACE"," ",107],"(",["T_WHITESPACE","\n        ",107],["T_STRING","Zend_Cloud_Infrastructure_Instance",108],["T_DOUBLE_COLON","::",108],["T_STRING","MONITOR_CPU",108],["T_WHITESPACE","         ",108],["T_DOUBLE_ARROW","=>",108],["T_WHITESPACE"," ",108],["T_CONSTANT_ENCAPSED_STRING","'CPUUtilization'",108],",",["T_WHITESPACE","\n        ",108],["T_STRING","Zend_Cloud_Infrastructure_Instance",109],["T_DOUBLE_COLON","::",109],["T_STRING","MONITOR_DISK_READ",109],["T_WHITESPACE","   ",109],["T_DOUBLE_ARROW","=>",109],["T_WHITESPACE"," ",109],["T_CONSTANT_ENCAPSED_STRING","'DiskReadBytes'",109],",",["T_WHITESPACE","\n        ",109],["T_STRING","Zend_Cloud_Infrastructure_Instance",110],["T_DOUBLE_COLON","::",110],["T_STRING","MONITOR_DISK_WRITE",110],["T_WHITESPACE","  ",110],["T_DOUBLE_ARROW","=>",110],["T_WHITESPACE"," ",110],["T_CONSTANT_ENCAPSED_STRING","'DiskWriteBytes'",110],",",["T_WHITESPACE","\n        ",110],["T_STRING","Zend_Cloud_Infrastructure_Instance",111],["T_DOUBLE_COLON","::",111],["T_STRING","MONITOR_NETWORK_IN",111],["T_WHITESPACE","  ",111],["T_DOUBLE_ARROW","=>",111],["T_WHITESPACE"," ",111],["T_CONSTANT_ENCAPSED_STRING","'NetworkIn'",111],",",["T_WHITESPACE","\n        ",111],["T_STRING","Zend_Cloud_Infrastructure_Instance",112],["T_DOUBLE_COLON","::",112],["T_STRING","MONITOR_NETWORK_OUT",112],["T_WHITESPACE"," ",112],["T_DOUBLE_ARROW","=>",112],["T_WHITESPACE"," ",112],["T_CONSTANT_ENCAPSED_STRING","'NetworkOut'",112],",",["T_WHITESPACE","\n    ",112],")",";",["T_WHITESPACE","\n\n    ",113],["T_DOC_COMMENT","\/**\n     * Constructor\n     *\n     * @param  array|Zend_Config $options\n     * @return void\n     *\/",115],["T_WHITESPACE","\n    ",120],["T_PUBLIC","public",121],["T_WHITESPACE"," ",121],["T_FUNCTION","function",121],["T_WHITESPACE"," ",121],["T_STRING","__construct",121],"(",["T_VARIABLE","$options",121],["T_WHITESPACE"," ",121],"=",["T_WHITESPACE"," ",121],["T_ARRAY","array",121],"(",")",")",["T_WHITESPACE","\n    ",121],"{",["T_WHITESPACE","\n        ",122],["T_IF","if",123],["T_WHITESPACE"," ",123],"(",["T_STRING","is_object",123],"(",["T_VARIABLE","$options",123],")",")",["T_WHITESPACE"," ",123],"{",["T_WHITESPACE","\n            ",123],["T_IF","if",124],["T_WHITESPACE"," ",124],"(",["T_STRING","method_exists",124],"(",["T_VARIABLE","$options",124],",",["T_WHITESPACE"," ",124],["T_CONSTANT_ENCAPSED_STRING","'toArray'",124],")",")",["T_WHITESPACE"," ",124],"{",["T_WHITESPACE","\n                ",124],["T_VARIABLE","$options",125],"=",["T_WHITESPACE"," ",125],["T_VARIABLE","$options",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","toArray",125],"(",")",";",["T_WHITESPACE","\n            ",125],"}",["T_WHITESPACE"," ",126],["T_ELSEIF","elseif",126],["T_WHITESPACE"," ",126],"(",["T_VARIABLE","$options",126],["T_WHITESPACE"," ",126],["T_INSTANCEOF","instanceof",126],["T_WHITESPACE"," ",126],["T_STRING","Traversable",126],")",["T_WHITESPACE"," ",126],"{",["T_WHITESPACE","\n                ",126],["T_VARIABLE","$options",127],["T_WHITESPACE"," ",127],"=",["T_WHITESPACE"," ",127],["T_STRING","iterator_to_array",127],"(",["T_VARIABLE","$options",127],")",";",["T_WHITESPACE","\n            ",127],"}",["T_WHITESPACE","\n        ",128],"}",["T_WHITESPACE","\n        \n        ",129],["T_IF","if",131],["T_WHITESPACE"," ",131],"(",["T_EMPTY","empty",131],"(",["T_VARIABLE","$options",131],")",["T_WHITESPACE"," ",131],["T_BOOLEAN_OR","||",131],["T_WHITESPACE"," ",131],"!",["T_STRING","is_array",131],"(",["T_VARIABLE","$options",131],")",")",["T_WHITESPACE"," ",131],"{",["T_WHITESPACE","\n            ",131],["T_COMMENT","#require_once 'Zend\/Cloud\/Infrastructure\/Exception.php';\n",132],["T_WHITESPACE","            ",133],["T_THROW","throw",133],["T_WHITESPACE"," ",133],["T_NEW","new",133],["T_WHITESPACE"," ",133],["T_STRING","Zend_Cloud_Infrastructure_Exception",133],"(",["T_CONSTANT_ENCAPSED_STRING","'Invalid options provided'",133],")",";",["T_WHITESPACE","\n        ",133],"}",["T_WHITESPACE","\n        \n        ",134],["T_IF","if",136],["T_WHITESPACE"," ",136],"(","!",["T_ISSET","isset",136],"(",["T_VARIABLE","$options",136],"[",["T_STRING","self",136],["T_DOUBLE_COLON","::",136],["T_STRING","AWS_ACCESS_KEY",136],"]",")",["T_WHITESPACE"," \n            ",136],["T_BOOLEAN_OR","||",137],["T_WHITESPACE"," ",137],"!",["T_ISSET","isset",137],"(",["T_VARIABLE","$options",137],"[",["T_STRING","self",137],["T_DOUBLE_COLON","::",137],["T_STRING","AWS_SECRET_KEY",137],"]",")",["T_WHITESPACE","\n        ",137],")",["T_WHITESPACE"," ",138],"{",["T_WHITESPACE","\n            ",138],["T_COMMENT","#require_once 'Zend\/Cloud\/Infrastructure\/Exception.php';\n",139],["T_WHITESPACE","            ",140],["T_THROW","throw",140],["T_WHITESPACE"," ",140],["T_NEW","new",140],["T_WHITESPACE"," ",140],["T_STRING","Zend_Cloud_Infrastructure_Exception",140],"(",["T_CONSTANT_ENCAPSED_STRING","'AWS keys not specified!'",140],")",";",["T_WHITESPACE","\n        ",140],"}",["T_WHITESPACE","\n\n        ",141],["T_VARIABLE","$this",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","accessKey",143],["T_WHITESPACE","    ",143],"=",["T_WHITESPACE"," ",143],["T_VARIABLE","$options",143],"[",["T_STRING","self",143],["T_DOUBLE_COLON","::",143],["T_STRING","AWS_ACCESS_KEY",143],"]",";",["T_WHITESPACE","\n        ",143],["T_VARIABLE","$this",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","accessSecret",144],["T_WHITESPACE"," ",144],"=",["T_WHITESPACE"," ",144],["T_VARIABLE","$options",144],"[",["T_STRING","self",144],["T_DOUBLE_COLON","::",144],["T_STRING","AWS_SECRET_KEY",144],"]",";",["T_WHITESPACE","\n        ",144],["T_VARIABLE","$this",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","region",145],["T_WHITESPACE","       ",145],"=",["T_WHITESPACE"," ",145],["T_CONSTANT_ENCAPSED_STRING","''",145],";",["T_WHITESPACE","\n\n        ",145],["T_IF","if",147],["T_WHITESPACE"," ",147],"(",["T_ISSET","isset",147],"(",["T_VARIABLE","$options",147],"[",["T_STRING","self",147],["T_DOUBLE_COLON","::",147],["T_STRING","AWS_REGION",147],"]",")",")",["T_WHITESPACE"," ",147],"{",["T_WHITESPACE","\n            ",147],["T_VARIABLE","$this",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","region",148],"=",["T_WHITESPACE"," ",148],["T_VARIABLE","$options",148],"[",["T_STRING","self",148],["T_DOUBLE_COLON","::",148],["T_STRING","AWS_REGION",148],"]",";",["T_WHITESPACE","\n        ",148],"}",["T_WHITESPACE","\n\n        ",149],["T_TRY","try",151],["T_WHITESPACE"," ",151],"{",["T_WHITESPACE","\n            ",151],["T_VARIABLE","$this",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","ec2",152],["T_WHITESPACE"," ",152],"=",["T_WHITESPACE"," ",152],["T_NEW","new",152],["T_WHITESPACE"," ",152],["T_STRING","Zend_Service_Amazon_Ec2_Instance",152],"(",["T_VARIABLE","$options",152],"[",["T_STRING","self",152],["T_DOUBLE_COLON","::",152],["T_STRING","AWS_ACCESS_KEY",152],"]",",",["T_WHITESPACE"," ",152],["T_VARIABLE","$options",152],"[",["T_STRING","self",152],["T_DOUBLE_COLON","::",152],["T_STRING","AWS_SECRET_KEY",152],"]",",",["T_WHITESPACE"," ",152],["T_VARIABLE","$this",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","region",152],")",";",["T_WHITESPACE","\n        ",152],"}",["T_WHITESPACE"," ",153],["T_CATCH","catch",153],["T_WHITESPACE"," ",153],"(",["T_STRING","Exception",153],["T_WHITESPACE","  ",153],["T_VARIABLE","$e",153],")",["T_WHITESPACE"," ",153],"{",["T_WHITESPACE","\n            ",153],["T_COMMENT","#require_once 'Zend\/Cloud\/Infrastructure\/Exception.php';\n",154],["T_WHITESPACE","            ",155],["T_THROW","throw",155],["T_WHITESPACE"," ",155],["T_NEW","new",155],["T_WHITESPACE"," ",155],["T_STRING","Zend_Cloud_Infrastructure_Exception",155],"(",["T_CONSTANT_ENCAPSED_STRING","'Error on create: '",155],["T_WHITESPACE"," ",155],".",["T_WHITESPACE"," ",155],["T_VARIABLE","$e",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","getMessage",155],"(",")",",",["T_WHITESPACE"," ",155],["T_VARIABLE","$e",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","getCode",155],"(",")",",",["T_WHITESPACE"," ",155],["T_VARIABLE","$e",155],")",";",["T_WHITESPACE","\n        ",155],"}",["T_WHITESPACE","\n\n        ",156],["T_IF","if",158],["T_WHITESPACE"," ",158],"(",["T_ISSET","isset",158],"(",["T_VARIABLE","$options",158],"[",["T_STRING","self",158],["T_DOUBLE_COLON","::",158],["T_STRING","HTTP_ADAPTER",158],"]",")",")",["T_WHITESPACE"," ",158],"{",["T_WHITESPACE","\n            ",158],["T_VARIABLE","$this",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","ec2",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","getHttpClient",159],"(",")",["T_OBJECT_OPERATOR","->",159],["T_STRING","setAdapter",159],"(",["T_VARIABLE","$options",159],"[",["T_STRING","self",159],["T_DOUBLE_COLON","::",159],["T_STRING","HTTP_ADAPTER",159],"]",")",";",["T_WHITESPACE","\n        ",159],"}",["T_WHITESPACE","\n    ",160],"}",["T_WHITESPACE","\n\n    ",161],["T_DOC_COMMENT","\/**\n     * Convert the attributes of EC2 into attributes of Infrastructure\n     * \n     * @param  array $attr\n     * @return array|boolean \n     *\/",163],["T_WHITESPACE","\n    ",168],["T_PRIVATE","private",169],["T_WHITESPACE"," ",169],["T_FUNCTION","function",169],["T_WHITESPACE"," ",169],["T_STRING","convertAttributes",169],"(",["T_VARIABLE","$attr",169],")",["T_WHITESPACE","\n    ",169],"{",["T_WHITESPACE","\n        ",170],["T_VARIABLE","$result",171],["T_WHITESPACE"," ",171],"=",["T_WHITESPACE"," ",171],["T_ARRAY","array",171],"(",")",";",["T_WHITESPACE","       \n        ",171],["T_IF","if",172],["T_WHITESPACE"," ",172],"(","!",["T_EMPTY","empty",172],"(",["T_VARIABLE","$attr",172],")",["T_WHITESPACE"," ",172],["T_BOOLEAN_AND","&&",172],["T_WHITESPACE"," ",172],["T_STRING","is_array",172],"(",["T_VARIABLE","$attr",172],")",")",["T_WHITESPACE"," ",172],"{",["T_WHITESPACE","\n            ",172],["T_VARIABLE","$result",173],"[",["T_STRING","Zend_Cloud_Infrastructure_Instance",173],["T_DOUBLE_COLON","::",173],["T_STRING","INSTANCE_ID",173],"]",["T_WHITESPACE","         ",173],"=",["T_WHITESPACE"," ",173],["T_VARIABLE","$attr",173],"[",["T_CONSTANT_ENCAPSED_STRING","'instanceId'",173],"]",";",["T_WHITESPACE","\n            ",173],["T_VARIABLE","$result",174],"[",["T_STRING","Zend_Cloud_Infrastructure_Instance",174],["T_DOUBLE_COLON","::",174],["T_STRING","INSTANCE_STATUS",174],"]",["T_WHITESPACE","     ",174],"=",["T_WHITESPACE"," ",174],["T_VARIABLE","$this",174],["T_OBJECT_OPERATOR","->",174],["T_STRING","mapStatus",174],"[",["T_VARIABLE","$attr",174],"[",["T_CONSTANT_ENCAPSED_STRING","'instanceState'",174],"]","[",["T_CONSTANT_ENCAPSED_STRING","'name'",174],"]","]",";",["T_WHITESPACE","\n            ",174],["T_VARIABLE","$result",175],"[",["T_STRING","Zend_Cloud_Infrastructure_Instance",175],["T_DOUBLE_COLON","::",175],["T_STRING","INSTANCE_IMAGEID",175],"]",["T_WHITESPACE","    ",175],"=",["T_WHITESPACE"," ",175],["T_VARIABLE","$attr",175],"[",["T_CONSTANT_ENCAPSED_STRING","'imageId'",175],"]",";",["T_WHITESPACE","\n            ",175],["T_VARIABLE","$result",176],"[",["T_STRING","Zend_Cloud_Infrastructure_Instance",176],["T_DOUBLE_COLON","::",176],["T_STRING","INSTANCE_ZONE",176],"]",["T_WHITESPACE","       ",176],"=",["T_WHITESPACE"," ",176],["T_VARIABLE","$attr",176],"[",["T_CONSTANT_ENCAPSED_STRING","'availabilityZone'",176],"]",";",["T_WHITESPACE","\n            ",176],["T_VARIABLE","$result",177],"[",["T_STRING","Zend_Cloud_Infrastructure_Instance",177],["T_DOUBLE_COLON","::",177],["T_STRING","INSTANCE_LAUNCHTIME",177],"]",["T_WHITESPACE"," ",177],"=",["T_WHITESPACE"," ",177],["T_VARIABLE","$attr",177],"[",["T_CONSTANT_ENCAPSED_STRING","'launchTime'",177],"]",";",["T_WHITESPACE","\n\n            ",177],["T_SWITCH","switch",179],["T_WHITESPACE"," ",179],"(",["T_VARIABLE","$attr",179],"[",["T_CONSTANT_ENCAPSED_STRING","'instanceType'",179],"]",")",["T_WHITESPACE"," ",179],"{",["T_WHITESPACE","\n                ",179],["T_CASE","case",180],["T_WHITESPACE"," ",180],["T_STRING","Zend_Service_Amazon_Ec2_Instance",180],["T_DOUBLE_COLON","::",180],["T_STRING","MICRO",180],":",["T_WHITESPACE","\n                    ",180],["T_VARIABLE","$result",181],"[",["T_STRING","Zend_Cloud_Infrastructure_Instance",181],["T_DOUBLE_COLON","::",181],["T_STRING","INSTANCE_CPU",181],"]",["T_WHITESPACE","     ",181],"=",["T_WHITESPACE"," ",181],["T_CONSTANT_ENCAPSED_STRING","'1 virtual core'",181],";",["T_WHITESPACE","\n                    ",181],["T_VARIABLE","$result",182],"[",["T_STRING","Zend_Cloud_Infrastructure_Instance",182],["T_DOUBLE_COLON","::",182],["T_STRING","INSTANCE_RAM",182],"]",["T_WHITESPACE","     ",182],"=",["T_WHITESPACE"," ",182],["T_CONSTANT_ENCAPSED_STRING","'613MB'",182],";",["T_WHITESPACE","\n                    ",182],["T_VARIABLE","$result",183],"[",["T_STRING","Zend_Cloud_Infrastructure_Instance",183],["T_DOUBLE_COLON","::",183],["T_STRING","INSTANCE_STORAGE",183],"]",["T_WHITESPACE"," ",183],"=",["T_WHITESPACE"," ",183],["T_CONSTANT_ENCAPSED_STRING","'0GB'",183],";",["T_WHITESPACE","\n                    ",183],["T_BREAK","break",184],";",["T_WHITESPACE","\n                ",184],["T_CASE","case",185],["T_WHITESPACE"," ",185],["T_STRING","Zend_Service_Amazon_Ec2_Instance",185],["T_DOUBLE_COLON","::",185],["T_STRING","SMALL",185],":",["T_WHITESPACE","\n                    ",185],["T_VARIABLE","$result",186],"[",["T_STRING","Zend_Cloud_Infrastructure_Instance",186],["T_DOUBLE_COLON","::",186],["T_STRING","INSTANCE_CPU",186],"]",["T_WHITESPACE","     ",186],"=",["T_WHITESPACE"," ",186],["T_CONSTANT_ENCAPSED_STRING","'1 virtual core'",186],";",["T_WHITESPACE","\n                    ",186],["T_VARIABLE","$result",187],"[",["T_STRING","Zend_Cloud_Infrastructure_Instance",187],["T_DOUBLE_COLON","::",187],["T_STRING","INSTANCE_RAM",187],"]",["T_WHITESPACE","     ",187],"=",["T_WHITESPACE"," ",187],["T_CONSTANT_ENCAPSED_STRING","'1.7GB'",187],";",["T_WHITESPACE","\n                    ",187],["T_VARIABLE","$result",188],"[",["T_STRING","Zend_Cloud_Infrastructure_Instance",188],["T_DOUBLE_COLON","::",188],["T_STRING","INSTANCE_STORAGE",188],"]",["T_WHITESPACE"," ",188],"=",["T_WHITESPACE"," ",188],["T_CONSTANT_ENCAPSED_STRING","'160GB'",188],";",["T_WHITESPACE","\n                    ",188],["T_BREAK","break",189],";",["T_WHITESPACE","\n                ",189],["T_CASE","case",190],["T_WHITESPACE"," ",190],["T_STRING","Zend_Service_Amazon_Ec2_Instance",190],["T_DOUBLE_COLON","::",190],["T_STRING","LARGE",190],":",["T_WHITESPACE","\n                    ",190],["T_VARIABLE","$result",191],"[",["T_STRING","Zend_Cloud_Infrastructure_Instance",191],["T_DOUBLE_COLON","::",191],["T_STRING","INSTANCE_CPU",191],"]",["T_WHITESPACE","     ",191],"=",["T_WHITESPACE"," ",191],["T_CONSTANT_ENCAPSED_STRING","'2 virtual core'",191],";",["T_WHITESPACE","\n                    ",191],["T_VARIABLE","$result",192],"[",["T_STRING","Zend_Cloud_Infrastructure_Instance",192],["T_DOUBLE_COLON","::",192],["T_STRING","INSTANCE_RAM",192],"]",["T_WHITESPACE","     ",192],"=",["T_WHITESPACE"," ",192],["T_CONSTANT_ENCAPSED_STRING","'7.5GB'",192],";",["T_WHITESPACE","\n                    ",192],["T_VARIABLE","$result",193],"[",["T_STRING","Zend_Cloud_Infrastructure_Instance",193],["T_DOUBLE_COLON","::",193],["T_STRING","INSTANCE_STORAGE",193],"]",["T_WHITESPACE"," ",193],"=",["T_WHITESPACE"," ",193],["T_CONSTANT_ENCAPSED_STRING","'850GB'",193],";",["T_WHITESPACE","\n                    ",193],["T_BREAK","break",194],";",["T_WHITESPACE","\n                ",194],["T_CASE","case",195],["T_WHITESPACE"," ",195],["T_STRING","Zend_Service_Amazon_Ec2_Instance",195],["T_DOUBLE_COLON","::",195],["T_STRING","XLARGE",195],":",["T_WHITESPACE","\n                    ",195],["T_VARIABLE","$result",196],"[",["T_STRING","Zend_Cloud_Infrastructure_Instance",196],["T_DOUBLE_COLON","::",196],["T_STRING","INSTANCE_CPU",196],"]",["T_WHITESPACE","     ",196],"=",["T_WHITESPACE"," ",196],["T_CONSTANT_ENCAPSED_STRING","'4 virtual core'",196],";",["T_WHITESPACE","\n                    ",196],["T_VARIABLE","$result",197],"[",["T_STRING","Zend_Cloud_Infrastructure_Instance",197],["T_DOUBLE_COLON","::",197],["T_STRING","INSTANCE_RAM",197],"]",["T_WHITESPACE","     ",197],"=",["T_WHITESPACE"," ",197],["T_CONSTANT_ENCAPSED_STRING","'15GB'",197],";",["T_WHITESPACE","\n                    ",197],["T_VARIABLE","$result",198],"[",["T_STRING","Zend_Cloud_Infrastructure_Instance",198],["T_DOUBLE_COLON","::",198],["T_STRING","INSTANCE_STORAGE",198],"]",["T_WHITESPACE"," ",198],"=",["T_WHITESPACE"," ",198],["T_CONSTANT_ENCAPSED_STRING","'1690GB'",198],";",["T_WHITESPACE","\n                    ",198],["T_BREAK","break",199],";",["T_WHITESPACE","\n                ",199],["T_CASE","case",200],["T_WHITESPACE"," ",200],["T_STRING","Zend_Service_Amazon_Ec2_Instance",200],["T_DOUBLE_COLON","::",200],["T_STRING","HCPU_MEDIUM",200],":",["T_WHITESPACE","\n                    ",200],["T_VARIABLE","$result",201],"[",["T_STRING","Zend_Cloud_Infrastructure_Instance",201],["T_DOUBLE_COLON","::",201],["T_STRING","INSTANCE_CPU",201],"]",["T_WHITESPACE","     ",201],"=",["T_WHITESPACE"," ",201],["T_CONSTANT_ENCAPSED_STRING","'2 virtual core'",201],";",["T_WHITESPACE","\n                    ",201],["T_VARIABLE","$result",202],"[",["T_STRING","Zend_Cloud_Infrastructure_Instance",202],["T_DOUBLE_COLON","::",202],["T_STRING","INSTANCE_RAM",202],"]",["T_WHITESPACE","     ",202],"=",["T_WHITESPACE"," ",202],["T_CONSTANT_ENCAPSED_STRING","'1.7GB'",202],";",["T_WHITESPACE","\n                    ",202],["T_VARIABLE","$result",203],"[",["T_STRING","Zend_Cloud_Infrastructure_Instance",203],["T_DOUBLE_COLON","::",203],["T_STRING","INSTANCE_STORAGE",203],"]",["T_WHITESPACE"," ",203],"=",["T_WHITESPACE"," ",203],["T_CONSTANT_ENCAPSED_STRING","'350GB'",203],";",["T_WHITESPACE","\n                    ",203],["T_BREAK","break",204],";",["T_WHITESPACE","\n                ",204],["T_CASE","case",205],["T_WHITESPACE"," ",205],["T_STRING","Zend_Service_Amazon_Ec2_Instance",205],["T_DOUBLE_COLON","::",205],["T_STRING","HCPU_XLARGE",205],":",["T_WHITESPACE","\n                    ",205],["T_VARIABLE","$result",206],"[",["T_STRING","Zend_Cloud_Infrastructure_Instance",206],["T_DOUBLE_COLON","::",206],["T_STRING","INSTANCE_CPU",206],"]",["T_WHITESPACE","     ",206],"=",["T_WHITESPACE"," ",206],["T_CONSTANT_ENCAPSED_STRING","'8 virtual core'",206],";",["T_WHITESPACE","\n                    ",206],["T_VARIABLE","$result",207],"[",["T_STRING","Zend_Cloud_Infrastructure_Instance",207],["T_DOUBLE_COLON","::",207],["T_STRING","INSTANCE_RAM",207],"]",["T_WHITESPACE","     ",207],"=",["T_WHITESPACE"," ",207],["T_CONSTANT_ENCAPSED_STRING","'7GB'",207],";",["T_WHITESPACE","\n                    ",207],["T_VARIABLE","$result",208],"[",["T_STRING","Zend_Cloud_Infrastructure_Instance",208],["T_DOUBLE_COLON","::",208],["T_STRING","INSTANCE_STORAGE",208],"]",["T_WHITESPACE"," ",208],"=",["T_WHITESPACE"," ",208],["T_CONSTANT_ENCAPSED_STRING","'1690GB'",208],";",["T_WHITESPACE","\n                    ",208],["T_BREAK","break",209],";",["T_WHITESPACE","\n            ",209],"}",["T_WHITESPACE","\n        ",210],"}",["T_WHITESPACE","\n        ",211],["T_RETURN","return",212],["T_WHITESPACE"," ",212],["T_VARIABLE","$result",212],";",["T_WHITESPACE","\n    ",212],"}",["T_WHITESPACE","\n\n    ",213],["T_DOC_COMMENT","\/**\n     * Return a list of the available instancies\n     *\n     * @return Zend_Cloud_Infrastructure_InstanceList\n     *\/",215],["T_WHITESPACE"," \n    ",219],["T_PUBLIC","public",220],["T_WHITESPACE"," ",220],["T_FUNCTION","function",220],["T_WHITESPACE"," ",220],["T_STRING","listInstances",220],"(",")",["T_WHITESPACE"," \n    ",220],"{",["T_WHITESPACE","\n        ",221],["T_VARIABLE","$this",222],["T_OBJECT_OPERATOR","->",222],["T_STRING","adapterResult",222],["T_WHITESPACE"," ",222],"=",["T_WHITESPACE"," ",222],["T_VARIABLE","$this",222],["T_OBJECT_OPERATOR","->",222],["T_STRING","ec2",222],["T_OBJECT_OPERATOR","->",222],["T_STRING","describe",222],"(",")",";",["T_WHITESPACE","\n\n        ",222],["T_VARIABLE","$result",224],["T_WHITESPACE"," ",224],"=",["T_WHITESPACE"," ",224],["T_ARRAY","array",224],"(",")",";",["T_WHITESPACE","\n        ",224],["T_FOREACH","foreach",225],["T_WHITESPACE"," ",225],"(",["T_VARIABLE","$this",225],["T_OBJECT_OPERATOR","->",225],["T_STRING","adapterResult",225],"[",["T_CONSTANT_ENCAPSED_STRING","'instances'",225],"]",["T_WHITESPACE"," ",225],["T_AS","as",225],["T_WHITESPACE"," ",225],["T_VARIABLE","$instance",225],")",["T_WHITESPACE"," ",225],"{",["T_WHITESPACE","\n            ",225],["T_VARIABLE","$result",226],"[","]","=",["T_WHITESPACE"," ",226],["T_VARIABLE","$this",226],["T_OBJECT_OPERATOR","->",226],["T_STRING","convertAttributes",226],"(",["T_VARIABLE","$instance",226],")",";",["T_WHITESPACE","\n        ",226],"}",["T_WHITESPACE","\n        ",227],["T_RETURN","return",228],["T_WHITESPACE"," ",228],["T_NEW","new",228],["T_WHITESPACE"," ",228],["T_STRING","Zend_Cloud_Infrastructure_InstanceList",228],"(",["T_VARIABLE","$this",228],",",["T_WHITESPACE"," ",228],["T_VARIABLE","$result",228],")",";",["T_WHITESPACE","\n    ",228],"}",["T_WHITESPACE","\n\n    ",229],["T_DOC_COMMENT","\/**\n     * Return the status of an instance\n     *\n     * @param  string\n     * @return string|boolean\n     *\/",231],["T_WHITESPACE"," \n    ",236],["T_PUBLIC","public",237],["T_WHITESPACE"," ",237],["T_FUNCTION","function",237],["T_WHITESPACE"," ",237],["T_STRING","statusInstance",237],"(",["T_VARIABLE","$id",237],")",["T_WHITESPACE","\n    ",237],"{",["T_WHITESPACE","\n        ",238],["T_VARIABLE","$this",239],["T_OBJECT_OPERATOR","->",239],["T_STRING","adapterResult",239],["T_WHITESPACE"," ",239],"=",["T_WHITESPACE"," ",239],["T_VARIABLE","$this",239],["T_OBJECT_OPERATOR","->",239],["T_STRING","ec2",239],["T_OBJECT_OPERATOR","->",239],["T_STRING","describe",239],"(",["T_VARIABLE","$id",239],")",";",["T_WHITESPACE","\n        ",239],["T_IF","if",240],["T_WHITESPACE"," ",240],"(",["T_EMPTY","empty",240],"(",["T_VARIABLE","$this",240],["T_OBJECT_OPERATOR","->",240],["T_STRING","adapterResult",240],"[",["T_CONSTANT_ENCAPSED_STRING","'instances'",240],"]",")",")",["T_WHITESPACE"," ",240],"{",["T_WHITESPACE","\n            ",240],["T_RETURN","return",241],["T_WHITESPACE"," ",241],["T_STRING","false",241],";",["T_WHITESPACE","\n        ",241],"}",["T_WHITESPACE","    \n        ",242],["T_VARIABLE","$result",243],["T_WHITESPACE"," ",243],"=",["T_WHITESPACE"," ",243],["T_VARIABLE","$this",243],["T_OBJECT_OPERATOR","->",243],["T_STRING","adapterResult",243],"[",["T_CONSTANT_ENCAPSED_STRING","'instances'",243],"]","[",["T_LNUMBER","0",243],"]",";",["T_WHITESPACE","\n        ",243],["T_RETURN","return",244],["T_WHITESPACE"," ",244],["T_VARIABLE","$this",244],["T_OBJECT_OPERATOR","->",244],["T_STRING","mapStatus",244],"[",["T_VARIABLE","$result",244],"[",["T_CONSTANT_ENCAPSED_STRING","'instanceState'",244],"]","[",["T_CONSTANT_ENCAPSED_STRING","'name'",244],"]","]",";",["T_WHITESPACE","\n    ",244],"}",["T_WHITESPACE","\n\n    ",245],["T_DOC_COMMENT","\/**\n     * Return the public DNS name of the instance\n     * \n     * @param  string $id\n     * @return string|boolean \n     *\/",247],["T_WHITESPACE","\n    ",252],["T_PUBLIC","public",253],["T_WHITESPACE"," ",253],["T_FUNCTION","function",253],["T_WHITESPACE"," ",253],["T_STRING","publicDnsInstance",253],"(",["T_VARIABLE","$id",253],")",["T_WHITESPACE"," \n    ",253],"{",["T_WHITESPACE","\n        ",254],["T_VARIABLE","$this",255],["T_OBJECT_OPERATOR","->",255],["T_STRING","adapterResult",255],["T_WHITESPACE"," ",255],"=",["T_WHITESPACE"," ",255],["T_VARIABLE","$this",255],["T_OBJECT_OPERATOR","->",255],["T_STRING","ec2",255],["T_OBJECT_OPERATOR","->",255],["T_STRING","describe",255],"(",["T_VARIABLE","$id",255],")",";",["T_WHITESPACE","\n        ",255],["T_IF","if",256],["T_WHITESPACE"," ",256],"(",["T_EMPTY","empty",256],"(",["T_VARIABLE","$this",256],["T_OBJECT_OPERATOR","->",256],["T_STRING","adapterResult",256],"[",["T_CONSTANT_ENCAPSED_STRING","'instances'",256],"]",")",")",["T_WHITESPACE"," ",256],"{",["T_WHITESPACE","\n            ",256],["T_RETURN","return",257],["T_WHITESPACE"," ",257],["T_STRING","false",257],";",["T_WHITESPACE","\n        ",257],"}",["T_WHITESPACE","    \n        ",258],["T_VARIABLE","$result",259],["T_WHITESPACE"," ",259],"=",["T_WHITESPACE"," ",259],["T_VARIABLE","$this",259],["T_OBJECT_OPERATOR","->",259],["T_STRING","adapterResult",259],"[",["T_CONSTANT_ENCAPSED_STRING","'instances'",259],"]","[",["T_LNUMBER","0",259],"]",";",["T_WHITESPACE","\n        ",259],["T_RETURN","return",260],["T_WHITESPACE"," ",260],["T_VARIABLE","$result",260],"[",["T_CONSTANT_ENCAPSED_STRING","'dnsName'",260],"]",";",["T_WHITESPACE","\n    ",260],"}",["T_WHITESPACE","\n\n    ",261],["T_DOC_COMMENT","\/**\n     * Reboot an instance\n     *\n     * @param string $id\n     * @return boolean\n     *\/",263],["T_WHITESPACE"," \n    ",268],["T_PUBLIC","public",269],["T_WHITESPACE"," ",269],["T_FUNCTION","function",269],["T_WHITESPACE"," ",269],["T_STRING","rebootInstance",269],"(",["T_VARIABLE","$id",269],")",["T_WHITESPACE","\n    ",269],"{",["T_WHITESPACE","\n        ",270],["T_VARIABLE","$this",271],["T_OBJECT_OPERATOR","->",271],["T_STRING","adapterResult",271],"=",["T_WHITESPACE"," ",271],["T_VARIABLE","$this",271],["T_OBJECT_OPERATOR","->",271],["T_STRING","ec2",271],["T_OBJECT_OPERATOR","->",271],["T_STRING","reboot",271],"(",["T_VARIABLE","$id",271],")",";",["T_WHITESPACE","\n        ",271],["T_RETURN","return",272],["T_WHITESPACE"," ",272],["T_VARIABLE","$this",272],["T_OBJECT_OPERATOR","->",272],["T_STRING","adapterResult",272],";",["T_WHITESPACE","\n    ",272],"}",["T_WHITESPACE","\n\n    ",273],["T_DOC_COMMENT","\/**\n     * Create a new instance\n     *\n     * @param string $name\n     * @param array $options\n     * @return Instance|boolean\n     *\/",275],["T_WHITESPACE"," \n    ",281],["T_PUBLIC","public",282],["T_WHITESPACE"," ",282],["T_FUNCTION","function",282],["T_WHITESPACE"," ",282],["T_STRING","createInstance",282],"(",["T_VARIABLE","$name",282],",",["T_WHITESPACE"," ",282],["T_VARIABLE","$options",282],")",["T_WHITESPACE","\n    ",282],"{",["T_WHITESPACE","\n        ",283],["T_COMMENT","\/\/ @todo instance's name management?\n",284],["T_WHITESPACE","        ",285],["T_VARIABLE","$this",285],["T_OBJECT_OPERATOR","->",285],["T_STRING","adapterResult",285],["T_WHITESPACE"," ",285],"=",["T_WHITESPACE"," ",285],["T_VARIABLE","$this",285],["T_OBJECT_OPERATOR","->",285],["T_STRING","ec2",285],["T_OBJECT_OPERATOR","->",285],["T_STRING","run",285],"(",["T_VARIABLE","$options",285],")",";",["T_WHITESPACE","\n        ",285],["T_IF","if",286],["T_WHITESPACE"," ",286],"(",["T_EMPTY","empty",286],"(",["T_VARIABLE","$this",286],["T_OBJECT_OPERATOR","->",286],["T_STRING","adapterResult",286],"[",["T_CONSTANT_ENCAPSED_STRING","'instances'",286],"]",")",")",["T_WHITESPACE"," ",286],"{",["T_WHITESPACE","\n            ",286],["T_RETURN","return",287],["T_WHITESPACE"," ",287],["T_STRING","false",287],";",["T_WHITESPACE","\n        ",287],"}",["T_WHITESPACE","\n        ",288],["T_VARIABLE","$this",289],["T_OBJECT_OPERATOR","->",289],["T_STRING","error",289],"=",["T_WHITESPACE"," ",289],["T_STRING","false",289],";",["T_WHITESPACE","\n        ",289],["T_RETURN","return",290],["T_WHITESPACE"," ",290],["T_NEW","new",290],["T_WHITESPACE"," ",290],["T_STRING","Zend_Cloud_Infrastructure_Instance",290],"(",["T_VARIABLE","$this",290],",",["T_WHITESPACE"," ",290],["T_VARIABLE","$this",290],["T_OBJECT_OPERATOR","->",290],["T_STRING","convertAttributes",290],"(",["T_VARIABLE","$this",290],["T_OBJECT_OPERATOR","->",290],["T_STRING","adapterResult",290],"[",["T_CONSTANT_ENCAPSED_STRING","'instances'",290],"]","[",["T_LNUMBER","0",290],"]",")",")",";",["T_WHITESPACE","\n    ",290],"}",["T_WHITESPACE","\n\n    ",291],["T_DOC_COMMENT","\/**\n     * Stop an instance\n     *\n     * @param  string $id\n     * @return boolean\n     *\/",293],["T_WHITESPACE"," \n    ",298],["T_PUBLIC","public",299],["T_WHITESPACE"," ",299],["T_FUNCTION","function",299],["T_WHITESPACE"," ",299],["T_STRING","stopInstance",299],"(",["T_VARIABLE","$id",299],")",["T_WHITESPACE","\n    ",299],"{",["T_WHITESPACE","\n        ",300],["T_COMMENT","#require_once 'Zend\/Cloud\/Infrastructure\/Exception.php';\n",301],["T_WHITESPACE","        ",302],["T_THROW","throw",302],["T_WHITESPACE"," ",302],["T_NEW","new",302],["T_WHITESPACE"," ",302],["T_STRING","Zend_Cloud_Infrastructure_Exception",302],"(",["T_CONSTANT_ENCAPSED_STRING","'The stopInstance method is not implemented in the adapter'",302],")",";",["T_WHITESPACE","\n    ",302],"}",["T_WHITESPACE","\n \n    ",303],["T_DOC_COMMENT","\/**\n     * Start an instance\n     *\n     * @param  string $id\n     * @return boolean\n     *\/",305],["T_WHITESPACE"," \n    ",310],["T_PUBLIC","public",311],["T_WHITESPACE"," ",311],["T_FUNCTION","function",311],["T_WHITESPACE"," ",311],["T_STRING","startInstance",311],"(",["T_VARIABLE","$id",311],")",["T_WHITESPACE","\n    ",311],"{",["T_WHITESPACE","\n        ",312],["T_COMMENT","#require_once 'Zend\/Cloud\/Infrastructure\/Exception.php';\n",313],["T_WHITESPACE","        ",314],["T_THROW","throw",314],["T_WHITESPACE"," ",314],["T_NEW","new",314],["T_WHITESPACE"," ",314],["T_STRING","Zend_Cloud_Infrastructure_Exception",314],"(",["T_CONSTANT_ENCAPSED_STRING","'The startInstance method is not implemented in the adapter'",314],")",";",["T_WHITESPACE","\n    ",314],"}",["T_WHITESPACE","\n \n    ",315],["T_DOC_COMMENT","\/**\n     * Destroy an instance\n     *\n     * @param  string $id\n     * @return boolean\n     *\/",317],["T_WHITESPACE"," \n    ",322],["T_PUBLIC","public",323],["T_WHITESPACE"," ",323],["T_FUNCTION","function",323],["T_WHITESPACE"," ",323],["T_STRING","destroyInstance",323],"(",["T_VARIABLE","$id",323],")",["T_WHITESPACE","\n    ",323],"{",["T_WHITESPACE","\n        ",324],["T_VARIABLE","$this",325],["T_OBJECT_OPERATOR","->",325],["T_STRING","adapterResult",325],["T_WHITESPACE"," ",325],"=",["T_WHITESPACE"," ",325],["T_VARIABLE","$this",325],["T_OBJECT_OPERATOR","->",325],["T_STRING","ec2",325],["T_OBJECT_OPERATOR","->",325],["T_STRING","terminate",325],"(",["T_VARIABLE","$id",325],")",";",["T_WHITESPACE","\n        ",325],["T_RETURN","return",326],["T_WHITESPACE"," ",326],"(","!",["T_EMPTY","empty",326],"(",["T_VARIABLE","$this",326],["T_OBJECT_OPERATOR","->",326],["T_STRING","adapterResult",326],")",")",";",["T_WHITESPACE","\n    ",326],"}",["T_WHITESPACE","\n \n    ",327],["T_DOC_COMMENT","\/**\n     * Return a list of all the available instance images\n     *\n     * @return ImageList\n     *\/",329],["T_WHITESPACE"," \n    ",333],["T_PUBLIC","public",334],["T_WHITESPACE"," ",334],["T_FUNCTION","function",334],["T_WHITESPACE"," ",334],["T_STRING","imagesInstance",334],"(",")",["T_WHITESPACE","\n    ",334],"{",["T_WHITESPACE","\n        ",335],["T_IF","if",336],["T_WHITESPACE"," ",336],"(","!",["T_ISSET","isset",336],"(",["T_VARIABLE","$this",336],["T_OBJECT_OPERATOR","->",336],["T_STRING","ec2Image",336],")",")",["T_WHITESPACE"," ",336],"{",["T_WHITESPACE","\n            ",336],["T_VARIABLE","$this",337],["T_OBJECT_OPERATOR","->",337],["T_STRING","ec2Image",337],["T_WHITESPACE"," ",337],"=",["T_WHITESPACE"," ",337],["T_NEW","new",337],["T_WHITESPACE"," ",337],["T_STRING","Zend_Service_Amazon_Ec2_Image",337],"(",["T_VARIABLE","$this",337],["T_OBJECT_OPERATOR","->",337],["T_STRING","accessKey",337],",",["T_WHITESPACE"," ",337],["T_VARIABLE","$this",337],["T_OBJECT_OPERATOR","->",337],["T_STRING","accessSecret",337],",",["T_WHITESPACE"," ",337],["T_VARIABLE","$this",337],["T_OBJECT_OPERATOR","->",337],["T_STRING","region",337],")",";",["T_WHITESPACE","\n        ",337],"}",["T_WHITESPACE","\n\n        ",338],["T_VARIABLE","$this",340],["T_OBJECT_OPERATOR","->",340],["T_STRING","adapterResult",340],["T_WHITESPACE"," ",340],"=",["T_WHITESPACE"," ",340],["T_VARIABLE","$this",340],["T_OBJECT_OPERATOR","->",340],["T_STRING","ec2Image",340],["T_OBJECT_OPERATOR","->",340],["T_STRING","describe",340],"(",")",";",["T_WHITESPACE","\n                \n        ",340],["T_VARIABLE","$images",342],["T_WHITESPACE"," ",342],"=",["T_WHITESPACE"," ",342],["T_ARRAY","array",342],"(",")",";",["T_WHITESPACE","\n\n        ",342],["T_FOREACH","foreach",344],["T_WHITESPACE"," ",344],"(",["T_VARIABLE","$this",344],["T_OBJECT_OPERATOR","->",344],["T_STRING","adapterResult",344],["T_WHITESPACE"," ",344],["T_AS","as",344],["T_WHITESPACE"," ",344],["T_VARIABLE","$result",344],")",["T_WHITESPACE"," ",344],"{",["T_WHITESPACE","\n            ",344],["T_SWITCH","switch",345],["T_WHITESPACE"," ",345],"(",["T_STRING","strtolower",345],"(",["T_VARIABLE","$result",345],"[",["T_CONSTANT_ENCAPSED_STRING","'platform'",345],"]",")",")",["T_WHITESPACE"," ",345],"{",["T_WHITESPACE","\n                ",345],["T_CASE","case",346],["T_WHITESPACE"," ",346],["T_CONSTANT_ENCAPSED_STRING","'windows'",346],["T_WHITESPACE"," ",346],":",["T_WHITESPACE","\n                    ",346],["T_VARIABLE","$platform",347],["T_WHITESPACE"," ",347],"=",["T_WHITESPACE"," ",347],["T_STRING","Zend_Cloud_Infrastructure_Image",347],["T_DOUBLE_COLON","::",347],["T_STRING","IMAGE_WINDOWS",347],";",["T_WHITESPACE","\n                    ",347],["T_BREAK","break",348],";",["T_WHITESPACE","\n                ",348],["T_DEFAULT","default",349],":",["T_WHITESPACE","\n                    ",349],["T_VARIABLE","$platform",350],["T_WHITESPACE"," ",350],"=",["T_WHITESPACE"," ",350],["T_STRING","Zend_Cloud_Infrastructure_Image",350],["T_DOUBLE_COLON","::",350],["T_STRING","IMAGE_LINUX",350],";",["T_WHITESPACE","\n                    ",350],["T_BREAK","break",351],";",["T_WHITESPACE","\n            ",351],"}",["T_WHITESPACE","\n\n            ",352],["T_VARIABLE","$images",354],"[","]","=",["T_WHITESPACE"," ",354],["T_ARRAY","array",354],["T_WHITESPACE"," ",354],"(",["T_WHITESPACE","\n                ",354],["T_STRING","Zend_Cloud_Infrastructure_Image",355],["T_DOUBLE_COLON","::",355],["T_STRING","IMAGE_ID",355],["T_WHITESPACE","           ",355],["T_DOUBLE_ARROW","=>",355],["T_WHITESPACE"," ",355],["T_VARIABLE","$result",355],"[",["T_CONSTANT_ENCAPSED_STRING","'imageId'",355],"]",",",["T_WHITESPACE","\n                ",355],["T_STRING","Zend_Cloud_Infrastructure_Image",356],["T_DOUBLE_COLON","::",356],["T_STRING","IMAGE_NAME",356],["T_WHITESPACE","         ",356],["T_DOUBLE_ARROW","=>",356],["T_WHITESPACE"," ",356],["T_CONSTANT_ENCAPSED_STRING","''",356],",",["T_WHITESPACE","\n                ",356],["T_STRING","Zend_Cloud_Infrastructure_Image",357],["T_DOUBLE_COLON","::",357],["T_STRING","IMAGE_DESCRIPTION",357],["T_WHITESPACE","  ",357],["T_DOUBLE_ARROW","=>",357],["T_WHITESPACE"," ",357],["T_VARIABLE","$result",357],"[",["T_CONSTANT_ENCAPSED_STRING","'imageLocation'",357],"]",",",["T_WHITESPACE","\n                ",357],["T_STRING","Zend_Cloud_Infrastructure_Image",358],["T_DOUBLE_COLON","::",358],["T_STRING","IMAGE_OWNERID",358],["T_WHITESPACE","      ",358],["T_DOUBLE_ARROW","=>",358],["T_WHITESPACE"," ",358],["T_VARIABLE","$result",358],"[",["T_CONSTANT_ENCAPSED_STRING","'imageOwnerId'",358],"]",",",["T_WHITESPACE","\n                ",358],["T_STRING","Zend_Cloud_Infrastructure_Image",359],["T_DOUBLE_COLON","::",359],["T_STRING","IMAGE_ARCHITECTURE",359],["T_WHITESPACE"," ",359],["T_DOUBLE_ARROW","=>",359],["T_WHITESPACE"," ",359],["T_VARIABLE","$result",359],"[",["T_CONSTANT_ENCAPSED_STRING","'architecture'",359],"]",",",["T_WHITESPACE","\n                ",359],["T_STRING","Zend_Cloud_Infrastructure_Image",360],["T_DOUBLE_COLON","::",360],["T_STRING","IMAGE_PLATFORM",360],["T_WHITESPACE","     ",360],["T_DOUBLE_ARROW","=>",360],["T_WHITESPACE"," ",360],["T_VARIABLE","$platform",360],",",["T_WHITESPACE","\n            ",360],")",";",["T_WHITESPACE","\n        ",361],"}",["T_WHITESPACE","\n        ",362],["T_RETURN","return",363],["T_WHITESPACE"," ",363],["T_NEW","new",363],["T_WHITESPACE"," ",363],["T_STRING","Zend_Cloud_Infrastructure_ImageList",363],"(",["T_VARIABLE","$images",363],",",["T_VARIABLE","$this",363],["T_OBJECT_OPERATOR","->",363],["T_STRING","ec2Image",363],")",";",["T_WHITESPACE","\n    ",363],"}",["T_WHITESPACE","\n\n    ",364],["T_DOC_COMMENT","\/**\n     * Return all the available zones\n     * \n     * @return array\n     *\/",366],["T_WHITESPACE","\n    ",370],["T_PUBLIC","public",371],["T_WHITESPACE"," ",371],["T_FUNCTION","function",371],["T_WHITESPACE"," ",371],["T_STRING","zonesInstance",371],"(",")",["T_WHITESPACE","\n    ",371],"{",["T_WHITESPACE","\n        ",372],["T_IF","if",373],["T_WHITESPACE"," ",373],"(","!",["T_ISSET","isset",373],"(",["T_VARIABLE","$this",373],["T_OBJECT_OPERATOR","->",373],["T_STRING","ec2Zone",373],")",")",["T_WHITESPACE"," ",373],"{",["T_WHITESPACE","\n            ",373],["T_VARIABLE","$this",374],["T_OBJECT_OPERATOR","->",374],["T_STRING","ec2Zone",374],["T_WHITESPACE"," ",374],"=",["T_WHITESPACE"," ",374],["T_NEW","new",374],["T_WHITESPACE"," ",374],["T_STRING","Zend_Service_Amazon_Ec2_AvailabilityZones",374],"(",["T_VARIABLE","$this",374],["T_OBJECT_OPERATOR","->",374],["T_STRING","accessKey",374],",",["T_VARIABLE","$this",374],["T_OBJECT_OPERATOR","->",374],["T_STRING","accessSecret",374],",",["T_VARIABLE","$this",374],["T_OBJECT_OPERATOR","->",374],["T_STRING","region",374],")",";",["T_WHITESPACE","\n        ",374],"}",["T_WHITESPACE","\n        ",375],["T_VARIABLE","$this",376],["T_OBJECT_OPERATOR","->",376],["T_STRING","adapterResult",376],["T_WHITESPACE"," ",376],"=",["T_WHITESPACE"," ",376],["T_VARIABLE","$this",376],["T_OBJECT_OPERATOR","->",376],["T_STRING","ec2Zone",376],["T_OBJECT_OPERATOR","->",376],["T_STRING","describe",376],"(",")",";",["T_WHITESPACE","\n\n        ",376],["T_VARIABLE","$zones",378],["T_WHITESPACE"," ",378],"=",["T_WHITESPACE"," ",378],["T_ARRAY","array",378],"(",")",";",["T_WHITESPACE","\n        ",378],["T_FOREACH","foreach",379],["T_WHITESPACE"," ",379],"(",["T_VARIABLE","$this",379],["T_OBJECT_OPERATOR","->",379],["T_STRING","adapterResult",379],["T_WHITESPACE"," ",379],["T_AS","as",379],["T_WHITESPACE"," ",379],["T_VARIABLE","$zone",379],")",["T_WHITESPACE"," ",379],"{",["T_WHITESPACE","\n            ",379],["T_IF","if",380],["T_WHITESPACE"," ",380],"(",["T_STRING","strtolower",380],"(",["T_VARIABLE","$zone",380],"[",["T_CONSTANT_ENCAPSED_STRING","'zoneState'",380],"]",")",["T_WHITESPACE"," ",380],["T_IS_IDENTICAL","===",380],["T_WHITESPACE"," ",380],["T_CONSTANT_ENCAPSED_STRING","'available'",380],")",["T_WHITESPACE"," ",380],"{",["T_WHITESPACE","\n                ",380],["T_VARIABLE","$zones",381],"[","]",["T_WHITESPACE"," ",381],"=",["T_WHITESPACE"," ",381],["T_ARRAY","array",381],["T_WHITESPACE"," ",381],"(",["T_WHITESPACE","\n                    ",381],["T_STRING","Zend_Cloud_Infrastructure_Instance",382],["T_DOUBLE_COLON","::",382],["T_STRING","INSTANCE_ZONE",382],["T_WHITESPACE"," ",382],["T_DOUBLE_ARROW","=>",382],["T_WHITESPACE"," ",382],["T_VARIABLE","$zone",382],"[",["T_CONSTANT_ENCAPSED_STRING","'zoneName'",382],"]",",",["T_WHITESPACE","\n                ",382],")",";",["T_WHITESPACE","\n            ",383],"}",["T_WHITESPACE","\n        ",384],"}",["T_WHITESPACE","\n        ",385],["T_RETURN","return",386],["T_WHITESPACE"," ",386],["T_VARIABLE","$zones",386],";",["T_WHITESPACE","\n    ",386],"}",["T_WHITESPACE","\n\n    ",387],["T_DOC_COMMENT","\/**\n     * Return the system information about the $metric of an instance\n     * \n     * @param  string $id\n     * @param  string $metric\n     * @param  null|array $options\n     * @return array\n     *\/",389],["T_WHITESPACE"," \n    ",396],["T_PUBLIC","public",397],["T_WHITESPACE"," ",397],["T_FUNCTION","function",397],["T_WHITESPACE"," ",397],["T_STRING","monitorInstance",397],"(",["T_VARIABLE","$id",397],",",["T_WHITESPACE"," ",397],["T_VARIABLE","$metric",397],",",["T_WHITESPACE"," ",397],["T_VARIABLE","$options",397],["T_WHITESPACE"," ",397],"=",["T_WHITESPACE"," ",397],["T_STRING","null",397],")",["T_WHITESPACE","\n    ",397],"{",["T_WHITESPACE","\n        ",398],["T_IF","if",399],["T_WHITESPACE"," ",399],"(",["T_EMPTY","empty",399],"(",["T_VARIABLE","$id",399],")",["T_WHITESPACE"," ",399],["T_BOOLEAN_OR","||",399],["T_WHITESPACE"," ",399],["T_EMPTY","empty",399],"(",["T_VARIABLE","$metric",399],")",")",["T_WHITESPACE"," ",399],"{",["T_WHITESPACE","\n            ",399],["T_RETURN","return",400],["T_WHITESPACE"," ",400],["T_STRING","false",400],";",["T_WHITESPACE","\n        ",400],"}",["T_WHITESPACE","\n\n        ",401],["T_IF","if",403],["T_WHITESPACE"," ",403],"(","!",["T_STRING","in_array",403],"(",["T_VARIABLE","$metric",403],",",["T_VARIABLE","$this",403],["T_OBJECT_OPERATOR","->",403],["T_STRING","validMetrics",403],")",")",["T_WHITESPACE"," ",403],"{",["T_WHITESPACE","\n            ",403],["T_COMMENT","#require_once 'Zend\/Cloud\/Infrastructure\/Exception.php';\n",404],["T_WHITESPACE","            ",405],["T_THROW","throw",405],["T_WHITESPACE"," ",405],["T_NEW","new",405],["T_WHITESPACE"," ",405],["T_STRING","Zend_Cloud_Infrastructure_Exception",405],"(",["T_STRING","sprintf",405],"(",["T_WHITESPACE","\n                ",405],["T_CONSTANT_ENCAPSED_STRING","'The metric \"%s\" is not valid'",406],",",["T_WHITESPACE"," \n                ",406],["T_VARIABLE","$metric",407],["T_WHITESPACE","\n            ",407],")",")",";",["T_WHITESPACE","\n        ",408],"}",["T_WHITESPACE","\n\n        ",409],["T_IF","if",411],["T_WHITESPACE"," ",411],"(","!",["T_EMPTY","empty",411],"(",["T_VARIABLE","$options",411],")",["T_WHITESPACE"," ",411],["T_BOOLEAN_AND","&&",411],["T_WHITESPACE"," ",411],"!",["T_STRING","is_array",411],"(",["T_VARIABLE","$options",411],")",")",["T_WHITESPACE"," ",411],"{",["T_WHITESPACE","\n            ",411],["T_COMMENT","#require_once 'Zend\/Cloud\/Infrastructure\/Exception.php';\n",412],["T_WHITESPACE","            ",413],["T_THROW","throw",413],["T_WHITESPACE"," ",413],["T_NEW","new",413],["T_WHITESPACE"," ",413],["T_STRING","Zend_Cloud_Infrastructure_Exception",413],"(",["T_CONSTANT_ENCAPSED_STRING","'The options must be an array'",413],")",";",["T_WHITESPACE","\n        ",413],"}",["T_WHITESPACE","\n\n        ",414],["T_IF","if",416],["T_WHITESPACE"," ",416],"(","!",["T_EMPTY","empty",416],"(",["T_VARIABLE","$options",416],")",["T_WHITESPACE"," \n            ",416],["T_BOOLEAN_AND","&&",417],["T_WHITESPACE"," ",417],"(",["T_EMPTY","empty",417],"(",["T_VARIABLE","$options",417],"[",["T_STRING","Zend_Cloud_Infrastructure_Instance",417],["T_DOUBLE_COLON","::",417],["T_STRING","MONITOR_START_TIME",417],"]",")",["T_WHITESPACE"," \n                ",417],["T_BOOLEAN_OR","||",418],["T_WHITESPACE"," ",418],["T_EMPTY","empty",418],"(",["T_VARIABLE","$options",418],"[",["T_STRING","Zend_Cloud_Infrastructure_Instance",418],["T_DOUBLE_COLON","::",418],["T_STRING","MONITOR_END_TIME",418],"]",")",")",["T_WHITESPACE","\n        ",418],")",["T_WHITESPACE"," ",419],"{",["T_WHITESPACE","\n            ",419],["T_COMMENT","#require_once 'Zend\/Cloud\/Infrastructure\/Exception.php';\n",420],["T_WHITESPACE","            ",421],["T_THROW","throw",421],["T_WHITESPACE"," ",421],["T_NEW","new",421],["T_WHITESPACE"," ",421],["T_STRING","Zend_Cloud_Infrastructure_Exception",421],"(",["T_STRING","sprintf",421],"(",["T_WHITESPACE","\n                ",421],["T_CONSTANT_ENCAPSED_STRING","'The options array must contain: \"%s\" and \"%s\"'",422],",",["T_WHITESPACE","\n                ",422],["T_VARIABLE","$options",423],"[",["T_STRING","Zend_Cloud_Infrastructure_Instance",423],["T_DOUBLE_COLON","::",423],["T_STRING","MONITOR_START_TIME",423],"]",",",["T_WHITESPACE","\n                ",423],["T_VARIABLE","$options",424],"[",["T_STRING","Zend_Cloud_Infrastructure_Instance",424],["T_DOUBLE_COLON","::",424],["T_STRING","MONITOR_END_TIME",424],"]",["T_WHITESPACE","\n            ",424],")",")",";",["T_WHITESPACE","\n        ",425],"}",["T_WHITESPACE","      \n\n        ",426],["T_IF","if",428],["T_WHITESPACE"," ",428],"(","!",["T_ISSET","isset",428],"(",["T_VARIABLE","$this",428],["T_OBJECT_OPERATOR","->",428],["T_STRING","ec2Monitor",428],")",")",["T_WHITESPACE"," ",428],"{",["T_WHITESPACE","\n            ",428],["T_VARIABLE","$this",429],["T_OBJECT_OPERATOR","->",429],["T_STRING","ec2Monitor",429],["T_WHITESPACE"," ",429],"=",["T_WHITESPACE"," ",429],["T_NEW","new",429],["T_WHITESPACE"," ",429],["T_STRING","Zend_Service_Amazon_Ec2_CloudWatch",429],"(",["T_VARIABLE","$this",429],["T_OBJECT_OPERATOR","->",429],["T_STRING","accessKey",429],",",["T_WHITESPACE"," ",429],["T_VARIABLE","$this",429],["T_OBJECT_OPERATOR","->",429],["T_STRING","accessSecret",429],",",["T_WHITESPACE"," ",429],["T_VARIABLE","$this",429],["T_OBJECT_OPERATOR","->",429],["T_STRING","region",429],")",";",["T_WHITESPACE","\n        ",429],"}",["T_WHITESPACE","\n\n        ",430],["T_VARIABLE","$param",432],["T_WHITESPACE"," ",432],"=",["T_WHITESPACE"," ",432],["T_ARRAY","array",432],"(",["T_WHITESPACE","\n            ",432],["T_CONSTANT_ENCAPSED_STRING","'MeasureName'",433],["T_WHITESPACE"," ",433],["T_DOUBLE_ARROW","=>",433],["T_WHITESPACE"," ",433],["T_VARIABLE","$this",433],["T_OBJECT_OPERATOR","->",433],["T_STRING","mapMetrics",433],"[",["T_VARIABLE","$metric",433],"]",",",["T_WHITESPACE","\n            ",433],["T_CONSTANT_ENCAPSED_STRING","'Statistics'",434],["T_WHITESPACE","  ",434],["T_DOUBLE_ARROW","=>",434],["T_WHITESPACE"," ",434],["T_ARRAY","array",434],"(",["T_CONSTANT_ENCAPSED_STRING","'Average'",434],")",",",["T_WHITESPACE","\n            ",434],["T_CONSTANT_ENCAPSED_STRING","'Dimensions'",435],["T_WHITESPACE","  ",435],["T_DOUBLE_ARROW","=>",435],["T_WHITESPACE"," ",435],["T_ARRAY","array",435],"(",["T_CONSTANT_ENCAPSED_STRING","'InstanceId'",435],["T_WHITESPACE"," ",435],["T_DOUBLE_ARROW","=>",435],["T_WHITESPACE"," ",435],["T_VARIABLE","$id",435],")",",",["T_WHITESPACE","\n        ",435],")",";",["T_WHITESPACE","\n\n        ",436],["T_IF","if",438],["T_WHITESPACE"," ",438],"(","!",["T_EMPTY","empty",438],"(",["T_VARIABLE","$options",438],")",")",["T_WHITESPACE"," ",438],"{",["T_WHITESPACE","\n            ",438],["T_VARIABLE","$param",439],"[",["T_CONSTANT_ENCAPSED_STRING","'StartTime'",439],"]",["T_WHITESPACE"," ",439],"=",["T_WHITESPACE"," ",439],["T_VARIABLE","$options",439],"[",["T_STRING","Zend_Cloud_Infrastructure_Instance",439],["T_DOUBLE_COLON","::",439],["T_STRING","MONITOR_START_TIME",439],"]",";",["T_WHITESPACE","\n            ",439],["T_VARIABLE","$param",440],"[",["T_CONSTANT_ENCAPSED_STRING","'EndTime'",440],"]",["T_WHITESPACE","   ",440],"=",["T_WHITESPACE"," ",440],["T_VARIABLE","$options",440],"[",["T_STRING","Zend_Cloud_Infrastructure_Instance",440],["T_DOUBLE_COLON","::",440],["T_STRING","MONITOR_END_TIME",440],"]",";",["T_WHITESPACE","\n        ",440],"}",["T_WHITESPACE","\n\n        ",441],["T_VARIABLE","$this",443],["T_OBJECT_OPERATOR","->",443],["T_STRING","adapterResult",443],["T_WHITESPACE"," ",443],"=",["T_WHITESPACE"," ",443],["T_VARIABLE","$this",443],["T_OBJECT_OPERATOR","->",443],["T_STRING","ec2Monitor",443],["T_OBJECT_OPERATOR","->",443],["T_STRING","getMetricStatistics",443],"(",["T_VARIABLE","$param",443],")",";",["T_WHITESPACE","\n\n        ",443],["T_VARIABLE","$monitor",445],["T_WHITESPACE","             ",445],"=",["T_WHITESPACE"," ",445],["T_ARRAY","array",445],"(",")",";",["T_WHITESPACE","\n        ",445],["T_VARIABLE","$num",446],["T_WHITESPACE","                 ",446],"=",["T_WHITESPACE"," ",446],["T_LNUMBER","0",446],";",["T_WHITESPACE","\n        ",446],["T_VARIABLE","$average",447],["T_WHITESPACE","             ",447],"=",["T_WHITESPACE"," ",447],["T_LNUMBER","0",447],";",["T_WHITESPACE","\n\n        ",447],["T_IF","if",449],["T_WHITESPACE"," ",449],"(","!",["T_EMPTY","empty",449],"(",["T_VARIABLE","$this",449],["T_OBJECT_OPERATOR","->",449],["T_STRING","adapterResult",449],"[",["T_CONSTANT_ENCAPSED_STRING","'datapoints'",449],"]",")",")",["T_WHITESPACE"," ",449],"{",["T_WHITESPACE","\n            ",449],["T_FOREACH","foreach",450],["T_WHITESPACE"," ",450],"(",["T_VARIABLE","$this",450],["T_OBJECT_OPERATOR","->",450],["T_STRING","adapterResult",450],"[",["T_CONSTANT_ENCAPSED_STRING","'datapoints'",450],"]",["T_WHITESPACE"," ",450],["T_AS","as",450],["T_WHITESPACE"," ",450],["T_VARIABLE","$result",450],")",["T_WHITESPACE"," ",450],"{",["T_WHITESPACE","\n                ",450],["T_VARIABLE","$monitor",451],"[",["T_CONSTANT_ENCAPSED_STRING","'series'",451],"]","[","]",["T_WHITESPACE"," ",451],"=",["T_WHITESPACE"," ",451],["T_ARRAY","array",451],["T_WHITESPACE"," ",451],"(",["T_WHITESPACE","\n                    ",451],["T_CONSTANT_ENCAPSED_STRING","'timestamp'",452],["T_WHITESPACE"," ",452],["T_DOUBLE_ARROW","=>",452],["T_WHITESPACE"," ",452],["T_VARIABLE","$result",452],"[",["T_CONSTANT_ENCAPSED_STRING","'Timestamp'",452],"]",",",["T_WHITESPACE","\n                    ",452],["T_CONSTANT_ENCAPSED_STRING","'value'",453],["T_WHITESPACE","     ",453],["T_DOUBLE_ARROW","=>",453],["T_WHITESPACE"," ",453],["T_VARIABLE","$result",453],"[",["T_CONSTANT_ENCAPSED_STRING","'Average'",453],"]",",",["T_WHITESPACE","\n                ",453],")",";",["T_WHITESPACE","\n                ",454],["T_VARIABLE","$average",455],["T_WHITESPACE"," ",455],["T_PLUS_EQUAL","+=",455],["T_WHITESPACE"," ",455],["T_VARIABLE","$result",455],"[",["T_CONSTANT_ENCAPSED_STRING","'Average'",455],"]",";",["T_WHITESPACE","\n                ",455],["T_VARIABLE","$num",456],["T_INC","++",456],";",["T_WHITESPACE","\n            ",456],"}",["T_WHITESPACE","\n        ",457],"}",["T_WHITESPACE","\n\n        ",458],["T_IF","if",460],["T_WHITESPACE"," ",460],"(",["T_VARIABLE","$num",460],["T_WHITESPACE"," ",460],">",["T_WHITESPACE"," ",460],["T_LNUMBER","0",460],")",["T_WHITESPACE"," ",460],"{",["T_WHITESPACE","\n            ",460],["T_VARIABLE","$monitor",461],"[",["T_CONSTANT_ENCAPSED_STRING","'average'",461],"]",["T_WHITESPACE"," ",461],"=",["T_WHITESPACE"," ",461],["T_VARIABLE","$average",461],["T_WHITESPACE"," ",461],"\/",["T_WHITESPACE"," ",461],["T_VARIABLE","$num",461],";",["T_WHITESPACE","\n        ",461],"}",["T_WHITESPACE","\n\n        ",462],["T_RETURN","return",464],["T_WHITESPACE"," ",464],["T_VARIABLE","$monitor",464],";",["T_WHITESPACE","\n    ",464],"}",["T_WHITESPACE","\n\n    ",465],["T_DOC_COMMENT","\/**\n     * Get the adapter \n     * \n     * @return Zend_Service_Amazon_Ec2_Instance\n     *\/",467],["T_WHITESPACE","\n    ",471],["T_PUBLIC","public",472],["T_WHITESPACE"," ",472],["T_FUNCTION","function",472],["T_WHITESPACE"," ",472],["T_STRING","getAdapter",472],"(",")",["T_WHITESPACE","\n    ",472],"{",["T_WHITESPACE","\n        ",473],["T_RETURN","return",474],["T_WHITESPACE"," ",474],["T_VARIABLE","$this",474],["T_OBJECT_OPERATOR","->",474],["T_STRING","ec2",474],";",["T_WHITESPACE","\n    ",474],"}",["T_WHITESPACE","\n\n    ",475],["T_DOC_COMMENT","\/**\n     * Get last HTTP request\n     * \n     * @return string \n     *\/",477],["T_WHITESPACE","\n    ",481],["T_PUBLIC","public",482],["T_WHITESPACE"," ",482],["T_FUNCTION","function",482],["T_WHITESPACE"," ",482],["T_STRING","getLastHttpRequest",482],"(",")",["T_WHITESPACE","\n    ",482],"{",["T_WHITESPACE","\n        ",483],["T_RETURN","return",484],["T_WHITESPACE"," ",484],["T_VARIABLE","$this",484],["T_OBJECT_OPERATOR","->",484],["T_STRING","ec2",484],["T_OBJECT_OPERATOR","->",484],["T_STRING","getHttpClient",484],"(",")",["T_OBJECT_OPERATOR","->",484],["T_STRING","getLastRequest",484],"(",")",";",["T_WHITESPACE","\n    ",484],"}",["T_WHITESPACE","\n\n    ",485],["T_DOC_COMMENT","\/**\n     * Get the last HTTP response\n     * \n     * @return Zend_Http_Response \n     *\/",487],["T_WHITESPACE","\n    ",491],["T_PUBLIC","public",492],["T_WHITESPACE"," ",492],["T_FUNCTION","function",492],["T_WHITESPACE"," ",492],["T_STRING","getLastHttpResponse",492],"(",")",["T_WHITESPACE","\n    ",492],"{",["T_WHITESPACE","\n        ",493],["T_RETURN","return",494],["T_WHITESPACE"," ",494],["T_VARIABLE","$this",494],["T_OBJECT_OPERATOR","->",494],["T_STRING","ec2",494],["T_OBJECT_OPERATOR","->",494],["T_STRING","getHttpClient",494],"(",")",["T_OBJECT_OPERATOR","->",494],["T_STRING","getLastResponse",494],"(",")",";",["T_WHITESPACE","\n    ",494],"}",["T_WHITESPACE","\n",495],"}",["T_WHITESPACE","\n",496]]