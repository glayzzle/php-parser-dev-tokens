[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * @category   Zend\n * @package    Zend_Cloud_Infrastructure\n * @subpackage Adapter\n * @copyright  Copyright (c) 2005-2015 Zend Technologies USA Inc. (http:\/\/www.zend.com)\n * @license    http:\/\/framework.zend.com\/license\/new-bsd     New BSD License\n *\/",2],["T_WHITESPACE","\n\n",8],["T_COMMENT","#require_once 'Zend\/Service\/Rackspace\/Servers.php';\n",10],["T_COMMENT","#require_once 'Zend\/Cloud\/Infrastructure\/Instance.php';\n",11],["T_COMMENT","#require_once 'Zend\/Cloud\/Infrastructure\/InstanceList.php';\n",12],["T_COMMENT","#require_once 'Zend\/Cloud\/Infrastructure\/Image.php';\n",13],["T_COMMENT","#require_once 'Zend\/Cloud\/Infrastructure\/ImageList.php';\n",14],["T_COMMENT","#require_once 'Zend\/Cloud\/Infrastructure\/Adapter\/AbstractAdapter.php';\n",15],["T_WHITESPACE","\n",16],["T_DOC_COMMENT","\/**\n * Rackspace servers adapter for infrastructure service\n *\n * @package    Zend_Cloud_Infrastructure\n * @subpackage Adapter\n * @copyright  Copyright (c) 2005-2015 Zend Technologies USA Inc. (http:\/\/www.zend.com)\n * @license    http:\/\/framework.zend.com\/license\/new-bsd     New BSD License\n *\/",17],["T_WHITESPACE","\n",24],["T_CLASS","class",25],["T_WHITESPACE"," ",25],["T_STRING","Zend_Cloud_Infrastructure_Adapter_Rackspace",25],["T_WHITESPACE"," ",25],["T_EXTENDS","extends",25],["T_WHITESPACE"," ",25],["T_STRING","Zend_Cloud_Infrastructure_Adapter_AbstractAdapter",25],["T_WHITESPACE","\n",25],"{",["T_WHITESPACE","\n    ",26],["T_DOC_COMMENT","\/**\n     * RACKSPACE constants\n     *\/",27],["T_WHITESPACE","\n    ",29],["T_CONST","const",30],["T_WHITESPACE"," ",30],["T_STRING","RACKSPACE_USER",30],["T_WHITESPACE","      ",30],"=",["T_WHITESPACE"," ",30],["T_CONSTANT_ENCAPSED_STRING","'rackspace_user'",30],";",["T_WHITESPACE","\n    ",30],["T_CONST","const",31],["T_WHITESPACE"," ",31],["T_STRING","RACKSPACE_KEY",31],["T_WHITESPACE","       ",31],"=",["T_WHITESPACE"," ",31],["T_CONSTANT_ENCAPSED_STRING","'rackspace_key'",31],";",["T_WHITESPACE","\n    ",31],["T_CONST","const",32],["T_WHITESPACE"," ",32],["T_STRING","RACKSPACE_REGION",32],["T_WHITESPACE","    ",32],"=",["T_WHITESPACE"," ",32],["T_CONSTANT_ENCAPSED_STRING","'rackspace_region'",32],";",["T_WHITESPACE","\n    ",32],["T_CONST","const",33],["T_WHITESPACE"," ",33],["T_STRING","RACKSPACE_ZONE_USA",33],["T_WHITESPACE","  ",33],"=",["T_WHITESPACE"," ",33],["T_CONSTANT_ENCAPSED_STRING","'USA'",33],";",["T_WHITESPACE","\n    ",33],["T_CONST","const",34],["T_WHITESPACE"," ",34],["T_STRING","RACKSPACE_ZONE_UK",34],["T_WHITESPACE","   ",34],"=",["T_WHITESPACE"," ",34],["T_CONSTANT_ENCAPSED_STRING","'UK'",34],";",["T_WHITESPACE","\n    ",34],["T_CONST","const",35],["T_WHITESPACE"," ",35],["T_STRING","MONITOR_CPU_SAMPLES",35],["T_WHITESPACE"," ",35],"=",["T_WHITESPACE"," ",35],["T_LNUMBER","3",35],";",["T_WHITESPACE","\n    ",35],["T_DOC_COMMENT","\/**\n     * Rackspace Servers Instance \n     * \n     * @var Zend_Service_Rackspace_Servers\n     *\/",36],["T_WHITESPACE","\n    ",40],["T_PROTECTED","protected",41],["T_WHITESPACE"," ",41],["T_VARIABLE","$rackspace",41],";",["T_WHITESPACE","\n    ",41],["T_DOC_COMMENT","\/**\n     * Rackspace access user\n     * \n     * @var string \n     *\/",42],["T_WHITESPACE","\n    ",46],["T_PROTECTED","protected",47],["T_WHITESPACE"," ",47],["T_VARIABLE","$accessUser",47],";",["T_WHITESPACE","\n\n    ",47],["T_DOC_COMMENT","\/**\n     * Rackspace access key\n     * \n     * @var string \n     *\/",49],["T_WHITESPACE","\n    ",53],["T_PROTECTED","protected",54],["T_WHITESPACE"," ",54],["T_VARIABLE","$accessKey",54],";",["T_WHITESPACE","\n    ",54],["T_DOC_COMMENT","\/**\n     * Rackspace Region\n     * \n     * @var string \n     *\/",55],["T_WHITESPACE","\n    ",59],["T_PROTECTED","protected",60],["T_WHITESPACE"," ",60],["T_VARIABLE","$region",60],";",["T_WHITESPACE","\n    ",60],["T_DOC_COMMENT","\/**\n     * Flavors\n     * \n     * @var array \n     *\/",61],["T_WHITESPACE","\n    ",65],["T_PROTECTED","protected",66],["T_WHITESPACE"," ",66],["T_VARIABLE","$flavors",66],";",["T_WHITESPACE","\n    ",66],["T_DOC_COMMENT","\/**\n     * Map array between Rackspace and Infrastructure status\n     * \n     * @var array \n     *\/",67],["T_WHITESPACE","\n    ",71],["T_PROTECTED","protected",72],["T_WHITESPACE"," ",72],["T_VARIABLE","$mapStatus",72],["T_WHITESPACE"," ",72],"=",["T_WHITESPACE"," ",72],["T_ARRAY","array",72],["T_WHITESPACE"," ",72],"(",["T_WHITESPACE","\n        ",72],["T_CONSTANT_ENCAPSED_STRING","'ACTIVE'",73],["T_WHITESPACE","             ",73],["T_DOUBLE_ARROW","=>",73],["T_WHITESPACE"," ",73],["T_STRING","Zend_Cloud_Infrastructure_Instance",73],["T_DOUBLE_COLON","::",73],["T_STRING","STATUS_RUNNING",73],",",["T_WHITESPACE","\n        ",73],["T_CONSTANT_ENCAPSED_STRING","'SUSPENDED'",74],["T_WHITESPACE","          ",74],["T_DOUBLE_ARROW","=>",74],["T_WHITESPACE"," ",74],["T_STRING","Zend_Cloud_Infrastructure_Instance",74],["T_DOUBLE_COLON","::",74],["T_STRING","STATUS_STOPPED",74],",",["T_WHITESPACE","\n        ",74],["T_CONSTANT_ENCAPSED_STRING","'BUILD'",75],["T_WHITESPACE","              ",75],["T_DOUBLE_ARROW","=>",75],["T_WHITESPACE"," ",75],["T_STRING","Zend_Cloud_Infrastructure_Instance",75],["T_DOUBLE_COLON","::",75],["T_STRING","STATUS_REBUILD",75],",",["T_WHITESPACE","\n        ",75],["T_CONSTANT_ENCAPSED_STRING","'REBUILD'",76],["T_WHITESPACE","            ",76],["T_DOUBLE_ARROW","=>",76],["T_WHITESPACE"," ",76],["T_STRING","Zend_Cloud_Infrastructure_Instance",76],["T_DOUBLE_COLON","::",76],["T_STRING","STATUS_REBUILD",76],",",["T_WHITESPACE","\n        ",76],["T_CONSTANT_ENCAPSED_STRING","'QUEUE_RESIZE'",77],["T_WHITESPACE","       ",77],["T_DOUBLE_ARROW","=>",77],["T_WHITESPACE"," ",77],["T_STRING","Zend_Cloud_Infrastructure_Instance",77],["T_DOUBLE_COLON","::",77],["T_STRING","STATUS_PENDING",77],",",["T_WHITESPACE","\n        ",77],["T_CONSTANT_ENCAPSED_STRING","'PREP_RESIZE'",78],["T_WHITESPACE","        ",78],["T_DOUBLE_ARROW","=>",78],["T_WHITESPACE"," ",78],["T_STRING","Zend_Cloud_Infrastructure_Instance",78],["T_DOUBLE_COLON","::",78],["T_STRING","STATUS_PENDING",78],",",["T_WHITESPACE","\n        ",78],["T_CONSTANT_ENCAPSED_STRING","'RESIZE'",79],["T_WHITESPACE","             ",79],["T_DOUBLE_ARROW","=>",79],["T_WHITESPACE"," ",79],["T_STRING","Zend_Cloud_Infrastructure_Instance",79],["T_DOUBLE_COLON","::",79],["T_STRING","STATUS_REBUILD",79],",",["T_WHITESPACE","\n        ",79],["T_CONSTANT_ENCAPSED_STRING","'VERIFY_RESIZE'",80],["T_WHITESPACE","      ",80],["T_DOUBLE_ARROW","=>",80],["T_WHITESPACE"," ",80],["T_STRING","Zend_Cloud_Infrastructure_Instance",80],["T_DOUBLE_COLON","::",80],["T_STRING","STATUS_REBUILD",80],",",["T_WHITESPACE","\n        ",80],["T_CONSTANT_ENCAPSED_STRING","'PASSWORD'",81],["T_WHITESPACE","           ",81],["T_DOUBLE_ARROW","=>",81],["T_WHITESPACE"," ",81],["T_STRING","Zend_Cloud_Infrastructure_Instance",81],["T_DOUBLE_COLON","::",81],["T_STRING","STATUS_PENDING",81],",",["T_WHITESPACE","\n        ",81],["T_CONSTANT_ENCAPSED_STRING","'RESCUE'",82],["T_WHITESPACE","             ",82],["T_DOUBLE_ARROW","=>",82],["T_WHITESPACE"," ",82],["T_STRING","Zend_Cloud_Infrastructure_Instance",82],["T_DOUBLE_COLON","::",82],["T_STRING","STATUS_PENDING",82],",",["T_WHITESPACE","\n        ",82],["T_CONSTANT_ENCAPSED_STRING","'REBOOT'",83],["T_WHITESPACE","             ",83],["T_DOUBLE_ARROW","=>",83],["T_WHITESPACE"," ",83],["T_STRING","Zend_Cloud_Infrastructure_Instance",83],["T_DOUBLE_COLON","::",83],["T_STRING","STATUS_REBOOTING",83],",",["T_WHITESPACE","\n        ",83],["T_CONSTANT_ENCAPSED_STRING","'HARD_REBOOT'",84],["T_WHITESPACE","        ",84],["T_DOUBLE_ARROW","=>",84],["T_WHITESPACE"," ",84],["T_STRING","Zend_Cloud_Infrastructure_Instance",84],["T_DOUBLE_COLON","::",84],["T_STRING","STATUS_REBOOTING",84],",",["T_WHITESPACE","\n        ",84],["T_CONSTANT_ENCAPSED_STRING","'SHARE_IP'",85],["T_WHITESPACE","           ",85],["T_DOUBLE_ARROW","=>",85],["T_WHITESPACE"," ",85],["T_STRING","Zend_Cloud_Infrastructure_Instance",85],["T_DOUBLE_COLON","::",85],["T_STRING","STATUS_PENDING",85],",",["T_WHITESPACE","\n        ",85],["T_CONSTANT_ENCAPSED_STRING","'SHARE_IP_NO_CONFIG'",86],["T_WHITESPACE"," ",86],["T_DOUBLE_ARROW","=>",86],["T_WHITESPACE"," ",86],["T_STRING","Zend_Cloud_Infrastructure_Instance",86],["T_DOUBLE_COLON","::",86],["T_STRING","STATUS_PENDING",86],",",["T_WHITESPACE","\n        ",86],["T_CONSTANT_ENCAPSED_STRING","'DELETE_IP'",87],["T_WHITESPACE","          ",87],["T_DOUBLE_ARROW","=>",87],["T_WHITESPACE"," ",87],["T_STRING","Zend_Cloud_Infrastructure_Instance",87],["T_DOUBLE_COLON","::",87],["T_STRING","STATUS_PENDING",87],",",["T_WHITESPACE","\n        ",87],["T_CONSTANT_ENCAPSED_STRING","'UNKNOWN'",88],["T_WHITESPACE","            ",88],["T_DOUBLE_ARROW","=>",88],["T_WHITESPACE"," ",88],["T_STRING","Zend_Cloud_Infrastructure_Instance",88],["T_DOUBLE_COLON","::",88],["T_STRING","STATUS_PENDING",88],["T_WHITESPACE","\n    ",88],")",";",["T_WHITESPACE","\n    ",89],["T_DOC_COMMENT","\/**\n     * Constructor\n     *\n     * @param  array|Zend_Config $options\n     * @return void\n     *\/",90],["T_WHITESPACE","\n    ",95],["T_PUBLIC","public",96],["T_WHITESPACE"," ",96],["T_FUNCTION","function",96],["T_WHITESPACE"," ",96],["T_STRING","__construct",96],"(",["T_VARIABLE","$options",96],["T_WHITESPACE"," ",96],"=",["T_WHITESPACE"," ",96],["T_ARRAY","array",96],"(",")",")",["T_WHITESPACE","\n    ",96],"{",["T_WHITESPACE","\n        ",97],["T_IF","if",98],["T_WHITESPACE"," ",98],"(",["T_STRING","is_object",98],"(",["T_VARIABLE","$options",98],")",")",["T_WHITESPACE"," ",98],"{",["T_WHITESPACE","\n            ",98],["T_IF","if",99],["T_WHITESPACE"," ",99],"(",["T_STRING","method_exists",99],"(",["T_VARIABLE","$options",99],",",["T_WHITESPACE"," ",99],["T_CONSTANT_ENCAPSED_STRING","'toArray'",99],")",")",["T_WHITESPACE"," ",99],"{",["T_WHITESPACE","\n                ",99],["T_VARIABLE","$options",100],"=",["T_WHITESPACE"," ",100],["T_VARIABLE","$options",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","toArray",100],"(",")",";",["T_WHITESPACE","\n            ",100],"}",["T_WHITESPACE"," ",101],["T_ELSEIF","elseif",101],["T_WHITESPACE"," ",101],"(",["T_VARIABLE","$options",101],["T_WHITESPACE"," ",101],["T_INSTANCEOF","instanceof",101],["T_WHITESPACE"," ",101],["T_STRING","Traversable",101],")",["T_WHITESPACE"," ",101],"{",["T_WHITESPACE","\n                ",101],["T_VARIABLE","$options",102],["T_WHITESPACE"," ",102],"=",["T_WHITESPACE"," ",102],["T_STRING","iterator_to_array",102],"(",["T_VARIABLE","$options",102],")",";",["T_WHITESPACE","\n            ",102],"}",["T_WHITESPACE","\n        ",103],"}",["T_WHITESPACE","\n        \n        ",104],["T_IF","if",106],["T_WHITESPACE"," ",106],"(",["T_EMPTY","empty",106],"(",["T_VARIABLE","$options",106],")",["T_WHITESPACE"," ",106],["T_BOOLEAN_OR","||",106],["T_WHITESPACE"," ",106],"!",["T_STRING","is_array",106],"(",["T_VARIABLE","$options",106],")",")",["T_WHITESPACE"," ",106],"{",["T_WHITESPACE","\n            ",106],["T_COMMENT","#require_once 'Zend\/Cloud\/Infrastructure\/Exception.php';\n",107],["T_WHITESPACE","            ",108],["T_THROW","throw",108],["T_WHITESPACE"," ",108],["T_NEW","new",108],["T_WHITESPACE"," ",108],["T_STRING","Zend_Cloud_Infrastructure_Exception",108],"(",["T_CONSTANT_ENCAPSED_STRING","'Invalid options provided'",108],")",";",["T_WHITESPACE","\n        ",108],"}",["T_WHITESPACE","\n        \n        ",109],["T_IF","if",111],["T_WHITESPACE"," ",111],"(","!",["T_ISSET","isset",111],"(",["T_VARIABLE","$options",111],"[",["T_STRING","self",111],["T_DOUBLE_COLON","::",111],["T_STRING","RACKSPACE_USER",111],"]",")",")",["T_WHITESPACE"," ",111],"{",["T_WHITESPACE","\n            ",111],["T_COMMENT","#require_once 'Zend\/Cloud\/Infrastructure\/Exception.php';\n",112],["T_WHITESPACE","            ",113],["T_THROW","throw",113],["T_WHITESPACE"," ",113],["T_NEW","new",113],["T_WHITESPACE"," ",113],["T_STRING","Zend_Cloud_Infrastructure_Exception",113],"(",["T_CONSTANT_ENCAPSED_STRING","'Rackspace access user not specified!'",113],")",";",["T_WHITESPACE","\n        ",113],"}",["T_WHITESPACE","\n\n        ",114],["T_IF","if",116],["T_WHITESPACE"," ",116],"(","!",["T_ISSET","isset",116],"(",["T_VARIABLE","$options",116],"[",["T_STRING","self",116],["T_DOUBLE_COLON","::",116],["T_STRING","RACKSPACE_KEY",116],"]",")",")",["T_WHITESPACE"," ",116],"{",["T_WHITESPACE","\n            ",116],["T_COMMENT","#require_once 'Zend\/Cloud\/Infrastructure\/Exception.php';\n",117],["T_WHITESPACE","            ",118],["T_THROW","throw",118],["T_WHITESPACE"," ",118],["T_NEW","new",118],["T_WHITESPACE"," ",118],["T_STRING","Zend_Cloud_Infrastructure_Exception",118],"(",["T_CONSTANT_ENCAPSED_STRING","'Rackspace access key not specified!'",118],")",";",["T_WHITESPACE","\n        ",118],"}",["T_WHITESPACE","\n        \n        ",119],["T_VARIABLE","$this",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","accessUser",121],["T_WHITESPACE"," ",121],"=",["T_WHITESPACE"," ",121],["T_VARIABLE","$options",121],"[",["T_STRING","self",121],["T_DOUBLE_COLON","::",121],["T_STRING","RACKSPACE_USER",121],"]",";",["T_WHITESPACE","\n        ",121],["T_VARIABLE","$this",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","accessKey",122],["T_WHITESPACE","  ",122],"=",["T_WHITESPACE"," ",122],["T_VARIABLE","$options",122],"[",["T_STRING","self",122],["T_DOUBLE_COLON","::",122],["T_STRING","RACKSPACE_KEY",122],"]",";",["T_WHITESPACE","\n        \n        ",122],["T_IF","if",124],["T_WHITESPACE"," ",124],"(",["T_ISSET","isset",124],"(",["T_VARIABLE","$options",124],"[",["T_STRING","self",124],["T_DOUBLE_COLON","::",124],["T_STRING","RACKSPACE_REGION",124],"]",")",")",["T_WHITESPACE"," ",124],"{",["T_WHITESPACE","\n            ",124],["T_SWITCH","switch",125],["T_WHITESPACE"," ",125],"(",["T_VARIABLE","$options",125],"[",["T_STRING","self",125],["T_DOUBLE_COLON","::",125],["T_STRING","RACKSPACE_REGION",125],"]",")",["T_WHITESPACE"," ",125],"{",["T_WHITESPACE","\n                ",125],["T_CASE","case",126],["T_WHITESPACE"," ",126],["T_STRING","self",126],["T_DOUBLE_COLON","::",126],["T_STRING","RACKSPACE_ZONE_UK",126],":",["T_WHITESPACE","\n                    ",126],["T_VARIABLE","$this",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","region",127],"=",["T_WHITESPACE"," ",127],["T_STRING","Zend_Service_Rackspace_Servers",127],["T_DOUBLE_COLON","::",127],["T_STRING","UK_AUTH_URL",127],";",["T_WHITESPACE","\n                    ",127],["T_BREAK","break",128],";",["T_WHITESPACE","\n                ",128],["T_CASE","case",129],["T_WHITESPACE"," ",129],["T_STRING","self",129],["T_DOUBLE_COLON","::",129],["T_STRING","RACKSPACE_ZONE_USA",129],":",["T_WHITESPACE","\n                    ",129],["T_VARIABLE","$this",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","region",130],["T_WHITESPACE"," ",130],"=",["T_WHITESPACE"," ",130],["T_STRING","Zend_Service_Rackspace_Servers",130],["T_DOUBLE_COLON","::",130],["T_STRING","US_AUTH_URL",130],";",["T_WHITESPACE","\n                    ",130],["T_BREAK","break",131],";",["T_WHITESPACE","\n                ",131],["T_DEFAULT","default",132],":",["T_WHITESPACE","\n                    ",132],["T_COMMENT","#require_once 'Zend\/Cloud\/Infrastructure\/Exception.php';\n",133],["T_WHITESPACE","                    ",134],["T_THROW","throw",134],["T_WHITESPACE"," ",134],["T_NEW","new",134],["T_WHITESPACE"," ",134],["T_STRING","Zend_Cloud_Infrastructure_Exception",134],"(",["T_CONSTANT_ENCAPSED_STRING","'The region is not valid'",134],")",";",["T_WHITESPACE","\n            ",134],"}",["T_WHITESPACE","\n        ",135],"}",["T_WHITESPACE"," ",136],["T_ELSE","else",136],["T_WHITESPACE"," ",136],"{",["T_WHITESPACE","\n            ",136],["T_VARIABLE","$this",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","region",137],["T_WHITESPACE"," ",137],"=",["T_WHITESPACE"," ",137],["T_STRING","Zend_Service_Rackspace_Servers",137],["T_DOUBLE_COLON","::",137],["T_STRING","US_AUTH_URL",137],";",["T_WHITESPACE","\n        ",137],"}",["T_WHITESPACE","\n\n        ",138],["T_TRY","try",140],["T_WHITESPACE"," ",140],"{",["T_WHITESPACE","\n            ",140],["T_VARIABLE","$this",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","rackspace",141],["T_WHITESPACE"," ",141],"=",["T_WHITESPACE"," ",141],["T_NEW","new",141],["T_WHITESPACE"," ",141],["T_STRING","Zend_Service_Rackspace_Servers",141],"(",["T_VARIABLE","$this",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","accessUser",141],",",["T_VARIABLE","$this",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","accessKey",141],",",["T_WHITESPACE"," ",141],["T_VARIABLE","$this",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","region",141],")",";",["T_WHITESPACE","\n        ",141],"}",["T_WHITESPACE"," ",142],["T_CATCH","catch",142],["T_WHITESPACE"," ",142],"(",["T_STRING","Exception",142],["T_WHITESPACE","  ",142],["T_VARIABLE","$e",142],")",["T_WHITESPACE"," ",142],"{",["T_WHITESPACE","\n            ",142],["T_COMMENT","#require_once 'Zend\/Cloud\/Infrastructure\/Exception.php';\n",143],["T_WHITESPACE","            ",144],["T_THROW","throw",144],["T_WHITESPACE"," ",144],["T_NEW","new",144],["T_WHITESPACE"," ",144],["T_STRING","Zend_Cloud_Infrastructure_Exception",144],"(",["T_CONSTANT_ENCAPSED_STRING","'Error on create: '",144],["T_WHITESPACE"," ",144],".",["T_WHITESPACE"," ",144],["T_VARIABLE","$e",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","getMessage",144],"(",")",",",["T_WHITESPACE"," ",144],["T_VARIABLE","$e",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","getCode",144],"(",")",",",["T_WHITESPACE"," ",144],["T_VARIABLE","$e",144],")",";",["T_WHITESPACE","\n        ",144],"}",["T_WHITESPACE","\n\n        ",145],["T_IF","if",147],["T_WHITESPACE"," ",147],"(",["T_ISSET","isset",147],"(",["T_VARIABLE","$options",147],"[",["T_STRING","self",147],["T_DOUBLE_COLON","::",147],["T_STRING","HTTP_ADAPTER",147],"]",")",")",["T_WHITESPACE"," ",147],"{",["T_WHITESPACE","\n            ",147],["T_VARIABLE","$this",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","rackspace",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","getHttpClient",148],"(",")",["T_OBJECT_OPERATOR","->",148],["T_STRING","setAdapter",148],"(",["T_VARIABLE","$options",148],"[",["T_STRING","self",148],["T_DOUBLE_COLON","::",148],["T_STRING","HTTP_ADAPTER",148],"]",")",";",["T_WHITESPACE","\n        ",148],"}",["T_WHITESPACE","\n        \n    ",149],"}",["T_WHITESPACE","\n    ",151],["T_DOC_COMMENT","\/**\n     * Convert the attributes of Rackspace server into attributes of Infrastructure\n     * \n     * @param  array $attr\n     * @return array|boolean \n     *\/",152],["T_WHITESPACE","\n    ",157],["T_PROTECTED","protected",158],["T_WHITESPACE"," ",158],["T_FUNCTION","function",158],["T_WHITESPACE"," ",158],["T_STRING","convertAttributes",158],"(",["T_VARIABLE","$attr",158],")",["T_WHITESPACE","\n    ",158],"{",["T_WHITESPACE","\n        ",159],["T_VARIABLE","$result",160],["T_WHITESPACE"," ",160],"=",["T_WHITESPACE"," ",160],["T_ARRAY","array",160],"(",")",";",["T_WHITESPACE","       \n        ",160],["T_IF","if",161],["T_WHITESPACE"," ",161],"(","!",["T_EMPTY","empty",161],"(",["T_VARIABLE","$attr",161],")",["T_WHITESPACE"," ",161],["T_BOOLEAN_AND","&&",161],["T_WHITESPACE"," ",161],["T_STRING","is_array",161],"(",["T_VARIABLE","$attr",161],")",")",["T_WHITESPACE"," ",161],"{",["T_WHITESPACE","\n            ",161],["T_VARIABLE","$result",162],"[",["T_STRING","Zend_Cloud_Infrastructure_Instance",162],["T_DOUBLE_COLON","::",162],["T_STRING","INSTANCE_ID",162],"]",["T_WHITESPACE","      ",162],"=",["T_WHITESPACE"," ",162],["T_VARIABLE","$attr",162],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",162],"]",";",["T_WHITESPACE","\n            ",162],["T_VARIABLE","$result",163],"[",["T_STRING","Zend_Cloud_Infrastructure_Instance",163],["T_DOUBLE_COLON","::",163],["T_STRING","INSTANCE_NAME",163],"]",["T_WHITESPACE","    ",163],"=",["T_WHITESPACE"," ",163],["T_VARIABLE","$attr",163],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",163],"]",";",["T_WHITESPACE","\n            ",163],["T_VARIABLE","$result",164],"[",["T_STRING","Zend_Cloud_Infrastructure_Instance",164],["T_DOUBLE_COLON","::",164],["T_STRING","INSTANCE_STATUS",164],"]",["T_WHITESPACE","  ",164],"=",["T_WHITESPACE"," ",164],["T_VARIABLE","$this",164],["T_OBJECT_OPERATOR","->",164],["T_STRING","mapStatus",164],"[",["T_VARIABLE","$attr",164],"[",["T_CONSTANT_ENCAPSED_STRING","'status'",164],"]","]",";",["T_WHITESPACE","\n            ",164],["T_VARIABLE","$result",165],"[",["T_STRING","Zend_Cloud_Infrastructure_Instance",165],["T_DOUBLE_COLON","::",165],["T_STRING","INSTANCE_IMAGEID",165],"]",["T_WHITESPACE"," ",165],"=",["T_WHITESPACE"," ",165],["T_VARIABLE","$attr",165],"[",["T_CONSTANT_ENCAPSED_STRING","'imageId'",165],"]",";",["T_WHITESPACE","\n            ",165],["T_IF","if",166],["T_WHITESPACE"," ",166],"(",["T_VARIABLE","$this",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","region",166],["T_IS_EQUAL","==",166],["T_STRING","Zend_Service_Rackspace_Servers",166],["T_DOUBLE_COLON","::",166],["T_STRING","US_AUTH_URL",166],")",["T_WHITESPACE"," ",166],"{",["T_WHITESPACE","\n                ",166],["T_VARIABLE","$result",167],"[",["T_STRING","Zend_Cloud_Infrastructure_Instance",167],["T_DOUBLE_COLON","::",167],["T_STRING","INSTANCE_ZONE",167],"]",["T_WHITESPACE"," ",167],"=",["T_WHITESPACE"," ",167],["T_STRING","self",167],["T_DOUBLE_COLON","::",167],["T_STRING","RACKSPACE_ZONE_USA",167],";",["T_WHITESPACE","\n            ",167],"}",["T_WHITESPACE"," ",168],["T_ELSE","else",168],["T_WHITESPACE"," ",168],"{",["T_WHITESPACE","\n                ",168],["T_VARIABLE","$result",169],"[",["T_STRING","Zend_Cloud_Infrastructure_Instance",169],["T_DOUBLE_COLON","::",169],["T_STRING","INSTANCE_ZONE",169],"]",["T_WHITESPACE"," ",169],"=",["T_WHITESPACE"," ",169],["T_STRING","self",169],["T_DOUBLE_COLON","::",169],["T_STRING","RACKSPACE_ZONE_UK",169],";",["T_WHITESPACE","\n            ",169],"}",["T_WHITESPACE","\n            ",170],["T_VARIABLE","$result",171],"[",["T_STRING","Zend_Cloud_Infrastructure_Instance",171],["T_DOUBLE_COLON","::",171],["T_STRING","INSTANCE_RAM",171],"]",["T_WHITESPACE","     ",171],"=",["T_WHITESPACE"," ",171],["T_VARIABLE","$this",171],["T_OBJECT_OPERATOR","->",171],["T_STRING","flavors",171],"[",["T_VARIABLE","$attr",171],"[",["T_CONSTANT_ENCAPSED_STRING","'flavorId'",171],"]","]","[",["T_CONSTANT_ENCAPSED_STRING","'ram'",171],"]",";",["T_WHITESPACE","\n            ",171],["T_VARIABLE","$result",172],"[",["T_STRING","Zend_Cloud_Infrastructure_Instance",172],["T_DOUBLE_COLON","::",172],["T_STRING","INSTANCE_STORAGE",172],"]",["T_WHITESPACE"," ",172],"=",["T_WHITESPACE"," ",172],["T_VARIABLE","$this",172],["T_OBJECT_OPERATOR","->",172],["T_STRING","flavors",172],"[",["T_VARIABLE","$attr",172],"[",["T_CONSTANT_ENCAPSED_STRING","'flavorId'",172],"]","]","[",["T_CONSTANT_ENCAPSED_STRING","'disk'",172],"]",";",["T_WHITESPACE","\n        ",172],"}",["T_WHITESPACE","\n        ",173],["T_RETURN","return",174],["T_WHITESPACE"," ",174],["T_VARIABLE","$result",174],";",["T_WHITESPACE","\n    ",174],"}",["T_WHITESPACE","\n    ",175],["T_DOC_COMMENT","\/**\n     * Return a list of the available instancies\n     *\n     * @return InstanceList|boolean\n     *\/",176],["T_WHITESPACE"," \n    ",180],["T_PUBLIC","public",181],["T_WHITESPACE"," ",181],["T_FUNCTION","function",181],["T_WHITESPACE"," ",181],["T_STRING","listInstances",181],"(",")",["T_WHITESPACE"," \n    ",181],"{",["T_WHITESPACE","\n        ",182],["T_VARIABLE","$this",183],["T_OBJECT_OPERATOR","->",183],["T_STRING","adapterResult",183],["T_WHITESPACE"," ",183],"=",["T_WHITESPACE"," ",183],["T_VARIABLE","$this",183],["T_OBJECT_OPERATOR","->",183],["T_STRING","rackspace",183],["T_OBJECT_OPERATOR","->",183],["T_STRING","listServers",183],"(",["T_STRING","true",183],")",";",["T_WHITESPACE","\n        ",183],["T_IF","if",184],["T_WHITESPACE"," ",184],"(",["T_VARIABLE","$this",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","adapterResult",184],["T_IS_IDENTICAL","===",184],["T_STRING","false",184],")",["T_WHITESPACE"," ",184],"{",["T_WHITESPACE","\n            ",184],["T_RETURN","return",185],["T_WHITESPACE"," ",185],["T_STRING","false",185],";",["T_WHITESPACE","\n        ",185],"}",["T_WHITESPACE","\n        ",186],["T_VARIABLE","$array",187],"=",["T_WHITESPACE"," ",187],["T_VARIABLE","$this",187],["T_OBJECT_OPERATOR","->",187],["T_STRING","adapterResult",187],["T_OBJECT_OPERATOR","->",187],["T_STRING","toArray",187],"(",")",";",["T_WHITESPACE","\n        ",187],["T_VARIABLE","$result",188],["T_WHITESPACE"," ",188],"=",["T_WHITESPACE"," ",188],["T_ARRAY","array",188],"(",")",";",["T_WHITESPACE","\n        ",188],["T_FOREACH","foreach",189],["T_WHITESPACE"," ",189],"(",["T_VARIABLE","$array",189],["T_WHITESPACE"," ",189],["T_AS","as",189],["T_WHITESPACE"," ",189],["T_VARIABLE","$instance",189],")",["T_WHITESPACE"," ",189],"{",["T_WHITESPACE","\n            ",189],["T_VARIABLE","$result",190],"[","]","=",["T_WHITESPACE"," ",190],["T_VARIABLE","$this",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","convertAttributes",190],"(",["T_VARIABLE","$instance",190],")",";",["T_WHITESPACE","\n        ",190],"}",["T_WHITESPACE","\n        ",191],["T_RETURN","return",192],["T_WHITESPACE"," ",192],["T_NEW","new",192],["T_WHITESPACE"," ",192],["T_STRING","Zend_Cloud_Infrastructure_InstanceList",192],"(",["T_VARIABLE","$this",192],",",["T_WHITESPACE"," ",192],["T_VARIABLE","$result",192],")",";",["T_WHITESPACE","\n    ",192],"}",["T_WHITESPACE","\n    ",193],["T_DOC_COMMENT","\/**\n     * Return the status of an instance\n     *\n     * @param  string\n     * @return string|boolean\n     *\/",194],["T_WHITESPACE"," \n    ",199],["T_PUBLIC","public",200],["T_WHITESPACE"," ",200],["T_FUNCTION","function",200],["T_WHITESPACE"," ",200],["T_STRING","statusInstance",200],"(",["T_VARIABLE","$id",200],")",["T_WHITESPACE","\n    ",200],"{",["T_WHITESPACE","\n        ",201],["T_VARIABLE","$this",202],["T_OBJECT_OPERATOR","->",202],["T_STRING","adapterResult",202],["T_WHITESPACE"," ",202],"=",["T_WHITESPACE"," ",202],["T_VARIABLE","$this",202],["T_OBJECT_OPERATOR","->",202],["T_STRING","rackspace",202],["T_OBJECT_OPERATOR","->",202],["T_STRING","getServer",202],"(",["T_VARIABLE","$id",202],")",";",["T_WHITESPACE","\n        ",202],["T_IF","if",203],["T_WHITESPACE"," ",203],"(",["T_VARIABLE","$this",203],["T_OBJECT_OPERATOR","->",203],["T_STRING","adapterResult",203],["T_IS_IDENTICAL","===",203],["T_STRING","false",203],")",["T_WHITESPACE"," ",203],"{",["T_WHITESPACE","\n            ",203],["T_RETURN","return",204],["T_WHITESPACE"," ",204],["T_STRING","false",204],";",["T_WHITESPACE","\n        ",204],"}",["T_WHITESPACE","\n        ",205],["T_VARIABLE","$array",206],"=",["T_WHITESPACE"," ",206],["T_VARIABLE","$this",206],["T_OBJECT_OPERATOR","->",206],["T_STRING","adapterResult",206],["T_OBJECT_OPERATOR","->",206],["T_STRING","toArray",206],"(",")",";",["T_WHITESPACE","\n        ",206],["T_RETURN","return",207],["T_WHITESPACE"," ",207],["T_VARIABLE","$this",207],["T_OBJECT_OPERATOR","->",207],["T_STRING","mapStatus",207],"[",["T_VARIABLE","$array",207],"[",["T_CONSTANT_ENCAPSED_STRING","'status'",207],"]","]",";",["T_WHITESPACE","\n    ",207],"}",["T_WHITESPACE","\n    ",208],["T_DOC_COMMENT","\/**\n     * Return the public DNS name\/Ip address of the instance\n     * \n     * @param  string $id\n     * @return string|boolean \n     *\/",209],["T_WHITESPACE","\n    ",214],["T_PUBLIC","public",215],["T_WHITESPACE"," ",215],["T_FUNCTION","function",215],["T_WHITESPACE"," ",215],["T_STRING","publicDnsInstance",215],"(",["T_VARIABLE","$id",215],")",["T_WHITESPACE"," \n    ",215],"{",["T_WHITESPACE","\n        ",216],["T_VARIABLE","$this",217],["T_OBJECT_OPERATOR","->",217],["T_STRING","adapterResult",217],["T_WHITESPACE"," ",217],"=",["T_WHITESPACE"," ",217],["T_VARIABLE","$this",217],["T_OBJECT_OPERATOR","->",217],["T_STRING","rackspace",217],["T_OBJECT_OPERATOR","->",217],["T_STRING","getServerPublicIp",217],"(",["T_VARIABLE","$id",217],")",";",["T_WHITESPACE","\n        ",217],["T_IF","if",218],["T_WHITESPACE"," ",218],"(",["T_EMPTY","empty",218],"(",["T_VARIABLE","$this",218],["T_OBJECT_OPERATOR","->",218],["T_STRING","adapterResult",218],")",")",["T_WHITESPACE"," ",218],"{",["T_WHITESPACE","\n            ",218],["T_RETURN","return",219],["T_WHITESPACE"," ",219],["T_STRING","false",219],";",["T_WHITESPACE","\n        ",219],"}",["T_WHITESPACE","    \n        ",220],["T_RETURN","return",221],["T_WHITESPACE"," ",221],["T_VARIABLE","$this",221],["T_OBJECT_OPERATOR","->",221],["T_STRING","adapterResult",221],"[",["T_LNUMBER","0",221],"]",";",["T_WHITESPACE","\n    ",221],"}",["T_WHITESPACE","\n    ",222],["T_DOC_COMMENT","\/**\n     * Reboot an instance\n     *\n     * @param string $id\n     * @return boolean\n     *\/",223],["T_WHITESPACE"," \n    ",228],["T_PUBLIC","public",229],["T_WHITESPACE"," ",229],["T_FUNCTION","function",229],["T_WHITESPACE"," ",229],["T_STRING","rebootInstance",229],"(",["T_VARIABLE","$id",229],")",["T_WHITESPACE","\n    ",229],"{",["T_WHITESPACE","\n        ",230],["T_RETURN","return",231],["T_WHITESPACE"," ",231],["T_VARIABLE","$this",231],["T_OBJECT_OPERATOR","->",231],["T_STRING","rackspace",231],["T_OBJECT_OPERATOR","->",231],["T_STRING","rebootServer",231],"(",["T_VARIABLE","$id",231],",",["T_STRING","true",231],")",";",["T_WHITESPACE","\n    ",231],"}",["T_WHITESPACE","\n    ",232],["T_DOC_COMMENT","\/**\n     * Create a new instance\n     *\n     * @param string $name\n     * @param array $options\n     * @return Instance|boolean\n     *\/",233],["T_WHITESPACE"," \n    ",239],["T_PUBLIC","public",240],["T_WHITESPACE"," ",240],["T_FUNCTION","function",240],["T_WHITESPACE"," ",240],["T_STRING","createInstance",240],"(",["T_VARIABLE","$name",240],",",["T_WHITESPACE"," ",240],["T_VARIABLE","$options",240],")",["T_WHITESPACE","\n    ",240],"{",["T_WHITESPACE","\n        ",241],["T_IF","if",242],["T_WHITESPACE"," ",242],"(",["T_EMPTY","empty",242],"(",["T_VARIABLE","$name",242],")",")",["T_WHITESPACE"," ",242],"{",["T_WHITESPACE","\n            ",242],["T_COMMENT","#require_once 'Zend\/Cloud\/Infrastructure\/Exception.php';\n",243],["T_WHITESPACE","            ",244],["T_THROW","throw",244],["T_WHITESPACE"," ",244],["T_NEW","new",244],["T_WHITESPACE"," ",244],["T_STRING","Zend_Cloud_Infrastructure_Exception",244],"(",["T_CONSTANT_ENCAPSED_STRING","'You must specify the name of the instance'",244],")",";",["T_WHITESPACE","\n        ",244],"}",["T_WHITESPACE","\n        ",245],["T_IF","if",246],["T_WHITESPACE"," ",246],"(",["T_EMPTY","empty",246],"(",["T_VARIABLE","$options",246],")",["T_WHITESPACE"," ",246],["T_BOOLEAN_OR","||",246],["T_WHITESPACE"," ",246],"!",["T_STRING","is_array",246],"(",["T_VARIABLE","$options",246],")",")",["T_WHITESPACE"," ",246],"{",["T_WHITESPACE","\n            ",246],["T_COMMENT","#require_once 'Zend\/Cloud\/Infrastructure\/Exception.php';\n",247],["T_WHITESPACE","            ",248],["T_THROW","throw",248],["T_WHITESPACE"," ",248],["T_NEW","new",248],["T_WHITESPACE"," ",248],["T_STRING","Zend_Cloud_Infrastructure_Exception",248],"(",["T_CONSTANT_ENCAPSED_STRING","'The options must be an array'",248],")",";",["T_WHITESPACE","\n        ",248],"}",["T_WHITESPACE","\n        ",249],["T_COMMENT","\/\/ @todo create an generic abstract definition for an instance?\n",250],["T_WHITESPACE","        ",251],["T_VARIABLE","$metadata",251],"=",["T_WHITESPACE"," ",251],["T_ARRAY","array",251],"(",")",";",["T_WHITESPACE","\n        ",251],["T_IF","if",252],["T_WHITESPACE"," ",252],"(",["T_ISSET","isset",252],"(",["T_VARIABLE","$options",252],"[",["T_CONSTANT_ENCAPSED_STRING","'metadata'",252],"]",")",")",["T_WHITESPACE"," ",252],"{",["T_WHITESPACE","\n            ",252],["T_VARIABLE","$metadata",253],"=",["T_WHITESPACE"," ",253],["T_VARIABLE","$options",253],"[",["T_CONSTANT_ENCAPSED_STRING","'metadata'",253],"]",";",["T_WHITESPACE","\n            ",253],["T_UNSET","unset",254],"(",["T_VARIABLE","$options",254],"[",["T_CONSTANT_ENCAPSED_STRING","'metadata'",254],"]",")",";",["T_WHITESPACE","\n        ",254],"}",["T_WHITESPACE","\n        ",255],["T_VARIABLE","$files",256],"=",["T_WHITESPACE"," ",256],["T_ARRAY","array",256],"(",")",";",["T_WHITESPACE","\n        ",256],["T_IF","if",257],["T_WHITESPACE"," ",257],"(",["T_ISSET","isset",257],"(",["T_VARIABLE","$options",257],"[",["T_CONSTANT_ENCAPSED_STRING","'files'",257],"]",")",")",["T_WHITESPACE"," ",257],"{",["T_WHITESPACE","\n            ",257],["T_VARIABLE","$files",258],"=",["T_WHITESPACE"," ",258],["T_VARIABLE","$options",258],"[",["T_CONSTANT_ENCAPSED_STRING","'files'",258],"]",";",["T_WHITESPACE","\n            ",258],["T_UNSET","unset",259],"(",["T_VARIABLE","$options",259],"[",["T_CONSTANT_ENCAPSED_STRING","'files'",259],"]",")",";",["T_WHITESPACE","\n        ",259],"}",["T_WHITESPACE","\n        ",260],["T_VARIABLE","$options",261],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",261],"]","=",["T_WHITESPACE"," ",261],["T_VARIABLE","$name",261],";",["T_WHITESPACE","\n        ",261],["T_VARIABLE","$this",262],["T_OBJECT_OPERATOR","->",262],["T_STRING","adapterResult",262],["T_WHITESPACE"," ",262],"=",["T_WHITESPACE"," ",262],["T_VARIABLE","$this",262],["T_OBJECT_OPERATOR","->",262],["T_STRING","rackspace",262],["T_OBJECT_OPERATOR","->",262],["T_STRING","createServer",262],"(",["T_VARIABLE","$options",262],",",["T_VARIABLE","$metadata",262],",",["T_VARIABLE","$files",262],")",";",["T_WHITESPACE","\n        ",262],["T_IF","if",263],["T_WHITESPACE"," ",263],"(",["T_VARIABLE","$this",263],["T_OBJECT_OPERATOR","->",263],["T_STRING","adapterResult",263],["T_IS_IDENTICAL","===",263],["T_STRING","false",263],")",["T_WHITESPACE"," ",263],"{",["T_WHITESPACE","\n            ",263],["T_RETURN","return",264],["T_WHITESPACE"," ",264],["T_STRING","false",264],";",["T_WHITESPACE","\n        ",264],"}",["T_WHITESPACE","\n        ",265],["T_RETURN","return",266],["T_WHITESPACE"," ",266],["T_NEW","new",266],["T_WHITESPACE"," ",266],["T_STRING","Zend_Cloud_Infrastructure_Instance",266],"(",["T_VARIABLE","$this",266],",",["T_WHITESPACE"," ",266],["T_VARIABLE","$this",266],["T_OBJECT_OPERATOR","->",266],["T_STRING","convertAttributes",266],"(",["T_VARIABLE","$this",266],["T_OBJECT_OPERATOR","->",266],["T_STRING","adapterResult",266],["T_OBJECT_OPERATOR","->",266],["T_STRING","toArray",266],"(",")",")",")",";",["T_WHITESPACE","\n    ",266],"}",["T_WHITESPACE","\n    ",267],["T_DOC_COMMENT","\/**\n     * Stop an instance\n     *\n     * @param  string $id\n     * @return boolean\n     *\/",268],["T_WHITESPACE"," \n    ",273],["T_PUBLIC","public",274],["T_WHITESPACE"," ",274],["T_FUNCTION","function",274],["T_WHITESPACE"," ",274],["T_STRING","stopInstance",274],"(",["T_VARIABLE","$id",274],")",["T_WHITESPACE","\n    ",274],"{",["T_WHITESPACE","\n        ",275],["T_COMMENT","#require_once 'Zend\/Cloud\/Infrastructure\/Exception.php';\n",276],["T_WHITESPACE","        ",277],["T_THROW","throw",277],["T_WHITESPACE"," ",277],["T_NEW","new",277],["T_WHITESPACE"," ",277],["T_STRING","Zend_Cloud_Infrastructure_Exception",277],"(",["T_CONSTANT_ENCAPSED_STRING","'The stopInstance method is not implemented in the adapter'",277],")",";",["T_WHITESPACE","\n    ",277],"}",["T_WHITESPACE","\n \n    ",278],["T_DOC_COMMENT","\/**\n     * Start an instance\n     *\n     * @param  string $id\n     * @return boolean\n     *\/",280],["T_WHITESPACE"," \n    ",285],["T_PUBLIC","public",286],["T_WHITESPACE"," ",286],["T_FUNCTION","function",286],["T_WHITESPACE"," ",286],["T_STRING","startInstance",286],"(",["T_VARIABLE","$id",286],")",["T_WHITESPACE","\n    ",286],"{",["T_WHITESPACE","\n        ",287],["T_COMMENT","#require_once 'Zend\/Cloud\/Infrastructure\/Exception.php';\n",288],["T_WHITESPACE","        ",289],["T_THROW","throw",289],["T_WHITESPACE"," ",289],["T_NEW","new",289],["T_WHITESPACE"," ",289],["T_STRING","Zend_Cloud_Infrastructure_Exception",289],"(",["T_CONSTANT_ENCAPSED_STRING","'The startInstance method is not implemented in the adapter'",289],")",";",["T_WHITESPACE","\n    ",289],"}",["T_WHITESPACE","\n \n    ",290],["T_DOC_COMMENT","\/**\n     * Destroy an instance\n     *\n     * @param  string $id\n     * @return boolean\n     *\/",292],["T_WHITESPACE"," \n    ",297],["T_PUBLIC","public",298],["T_WHITESPACE"," ",298],["T_FUNCTION","function",298],["T_WHITESPACE"," ",298],["T_STRING","destroyInstance",298],"(",["T_VARIABLE","$id",298],")",["T_WHITESPACE","\n    ",298],"{",["T_WHITESPACE","\n        ",299],["T_VARIABLE","$this",300],["T_OBJECT_OPERATOR","->",300],["T_STRING","adapterResult",300],"=",["T_WHITESPACE"," ",300],["T_VARIABLE","$this",300],["T_OBJECT_OPERATOR","->",300],["T_STRING","rackspace",300],["T_OBJECT_OPERATOR","->",300],["T_STRING","deleteServer",300],"(",["T_VARIABLE","$id",300],")",";",["T_WHITESPACE","\n        ",300],["T_RETURN","return",301],["T_WHITESPACE"," ",301],["T_VARIABLE","$this",301],["T_OBJECT_OPERATOR","->",301],["T_STRING","adapterResult",301],";",["T_WHITESPACE","\n    ",301],"}",["T_WHITESPACE","\n    ",302],["T_DOC_COMMENT","\/**\n     * Return a list of all the available instance images\n     *\n     * @return ImageList|boolean\n     *\/",303],["T_WHITESPACE"," \n    ",307],["T_PUBLIC","public",308],["T_WHITESPACE"," ",308],["T_FUNCTION","function",308],["T_WHITESPACE"," ",308],["T_STRING","imagesInstance",308],"(",")",["T_WHITESPACE","\n    ",308],"{",["T_WHITESPACE","\n        ",309],["T_VARIABLE","$this",310],["T_OBJECT_OPERATOR","->",310],["T_STRING","adapterResult",310],["T_WHITESPACE"," ",310],"=",["T_WHITESPACE"," ",310],["T_VARIABLE","$this",310],["T_OBJECT_OPERATOR","->",310],["T_STRING","rackspace",310],["T_OBJECT_OPERATOR","->",310],["T_STRING","listImages",310],"(",["T_STRING","true",310],")",";",["T_WHITESPACE","\n        ",310],["T_IF","if",311],["T_WHITESPACE"," ",311],"(",["T_VARIABLE","$this",311],["T_OBJECT_OPERATOR","->",311],["T_STRING","adapterResult",311],["T_IS_IDENTICAL","===",311],["T_STRING","false",311],")",["T_WHITESPACE"," ",311],"{",["T_WHITESPACE","\n            ",311],["T_RETURN","return",312],["T_WHITESPACE"," ",312],["T_STRING","false",312],";",["T_WHITESPACE","\n        ",312],"}",["T_WHITESPACE","\n        \n        ",313],["T_VARIABLE","$images",315],"=",["T_WHITESPACE"," ",315],["T_VARIABLE","$this",315],["T_OBJECT_OPERATOR","->",315],["T_STRING","adapterResult",315],["T_OBJECT_OPERATOR","->",315],["T_STRING","toArray",315],"(",")",";",["T_WHITESPACE","\n        ",315],["T_VARIABLE","$result",316],"=",["T_WHITESPACE"," ",316],["T_ARRAY","array",316],"(",")",";",["T_WHITESPACE","\n        \n        ",316],["T_FOREACH","foreach",318],["T_WHITESPACE"," ",318],"(",["T_VARIABLE","$images",318],["T_WHITESPACE"," ",318],["T_AS","as",318],["T_WHITESPACE"," ",318],["T_VARIABLE","$image",318],")",["T_WHITESPACE"," ",318],"{",["T_WHITESPACE","\n            ",318],["T_IF","if",319],["T_WHITESPACE"," ",319],"(",["T_STRING","strtolower",319],"(",["T_VARIABLE","$image",319],"[",["T_CONSTANT_ENCAPSED_STRING","'status'",319],"]",")",["T_IS_IDENTICAL","===",319],["T_CONSTANT_ENCAPSED_STRING","'active'",319],")",["T_WHITESPACE"," ",319],"{",["T_WHITESPACE","\n                ",319],["T_IF","if",320],["T_WHITESPACE"," ",320],"(",["T_STRING","strpos",320],"(",["T_VARIABLE","$image",320],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",320],"]",",",["T_CONSTANT_ENCAPSED_STRING","'Windows'",320],")",["T_IS_NOT_IDENTICAL","!==",320],["T_STRING","false",320],")",["T_WHITESPACE"," ",320],"{",["T_WHITESPACE","\n                    ",320],["T_VARIABLE","$platform",321],["T_WHITESPACE"," ",321],"=",["T_WHITESPACE"," ",321],["T_STRING","Zend_Cloud_Infrastructure_Image",321],["T_DOUBLE_COLON","::",321],["T_STRING","IMAGE_WINDOWS",321],";",["T_WHITESPACE","\n                ",321],"}",["T_WHITESPACE"," ",322],["T_ELSE","else",322],["T_WHITESPACE"," ",322],"{",["T_WHITESPACE","\n                    ",322],["T_VARIABLE","$platform",323],["T_WHITESPACE"," ",323],"=",["T_WHITESPACE"," ",323],["T_STRING","Zend_Cloud_Infrastructure_Image",323],["T_DOUBLE_COLON","::",323],["T_STRING","IMAGE_LINUX",323],";",["T_WHITESPACE","\n                ",323],"}",["T_WHITESPACE","\n                ",324],["T_IF","if",325],["T_WHITESPACE"," ",325],"(",["T_STRING","strpos",325],"(",["T_VARIABLE","$image",325],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",325],"]",",",["T_CONSTANT_ENCAPSED_STRING","'x64'",325],")",["T_IS_NOT_IDENTICAL","!==",325],["T_STRING","false",325],")",["T_WHITESPACE"," ",325],"{",["T_WHITESPACE","\n                    ",325],["T_VARIABLE","$arch",326],["T_WHITESPACE"," ",326],"=",["T_WHITESPACE"," ",326],["T_STRING","Zend_Cloud_Infrastructure_Image",326],["T_DOUBLE_COLON","::",326],["T_STRING","ARCH_64BIT",326],";",["T_WHITESPACE","\n                ",326],"}",["T_WHITESPACE"," ",327],["T_ELSE","else",327],["T_WHITESPACE"," ",327],"{",["T_WHITESPACE","\n                    ",327],["T_VARIABLE","$arch",328],["T_WHITESPACE"," ",328],"=",["T_WHITESPACE"," ",328],["T_STRING","Zend_Cloud_Infrastructure_Image",328],["T_DOUBLE_COLON","::",328],["T_STRING","ARCH_32BIT",328],";",["T_WHITESPACE","\n                ",328],"}",["T_WHITESPACE","\n                ",329],["T_VARIABLE","$result",330],"[","]","=",["T_WHITESPACE"," ",330],["T_ARRAY","array",330],["T_WHITESPACE"," ",330],"(",["T_WHITESPACE","\n                    ",330],["T_STRING","Zend_Cloud_Infrastructure_Image",331],["T_DOUBLE_COLON","::",331],["T_STRING","IMAGE_ID",331],["T_WHITESPACE","           ",331],["T_DOUBLE_ARROW","=>",331],["T_WHITESPACE"," ",331],["T_VARIABLE","$image",331],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",331],"]",",",["T_WHITESPACE","\n                    ",331],["T_STRING","Zend_Cloud_Infrastructure_Image",332],["T_DOUBLE_COLON","::",332],["T_STRING","IMAGE_NAME",332],["T_WHITESPACE","         ",332],["T_DOUBLE_ARROW","=>",332],["T_WHITESPACE"," ",332],["T_VARIABLE","$image",332],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",332],"]",",",["T_WHITESPACE","\n                    ",332],["T_STRING","Zend_Cloud_Infrastructure_Image",333],["T_DOUBLE_COLON","::",333],["T_STRING","IMAGE_DESCRIPTION",333],["T_WHITESPACE","  ",333],["T_DOUBLE_ARROW","=>",333],["T_WHITESPACE"," ",333],["T_VARIABLE","$image",333],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",333],"]",",",["T_WHITESPACE","\n                    ",333],["T_STRING","Zend_Cloud_Infrastructure_Image",334],["T_DOUBLE_COLON","::",334],["T_STRING","IMAGE_ARCHITECTURE",334],["T_WHITESPACE"," ",334],["T_DOUBLE_ARROW","=>",334],["T_WHITESPACE"," ",334],["T_VARIABLE","$arch",334],",",["T_WHITESPACE","\n                    ",334],["T_STRING","Zend_Cloud_Infrastructure_Image",335],["T_DOUBLE_COLON","::",335],["T_STRING","IMAGE_PLATFORM",335],["T_WHITESPACE","     ",335],["T_DOUBLE_ARROW","=>",335],["T_WHITESPACE"," ",335],["T_VARIABLE","$platform",335],",",["T_WHITESPACE","\n                ",335],")",";",["T_WHITESPACE","\n            ",336],"}",["T_WHITESPACE","\n        ",337],"}",["T_WHITESPACE","\n        ",338],["T_RETURN","return",339],["T_WHITESPACE"," ",339],["T_NEW","new",339],["T_WHITESPACE"," ",339],["T_STRING","Zend_Cloud_Infrastructure_ImageList",339],"(",["T_VARIABLE","$result",339],",",["T_VARIABLE","$this",339],["T_OBJECT_OPERATOR","->",339],["T_STRING","adapterResult",339],")",";",["T_WHITESPACE","\n    ",339],"}",["T_WHITESPACE","\n    ",340],["T_DOC_COMMENT","\/**\n     * Return all the available zones\n     * \n     * @return array\n     *\/",341],["T_WHITESPACE","\n    ",345],["T_PUBLIC","public",346],["T_WHITESPACE"," ",346],["T_FUNCTION","function",346],["T_WHITESPACE"," ",346],["T_STRING","zonesInstance",346],"(",")",["T_WHITESPACE","\n    ",346],"{",["T_WHITESPACE","\n        ",347],["T_RETURN","return",348],["T_WHITESPACE"," ",348],["T_ARRAY","array",348],"(",["T_STRING","self",348],["T_DOUBLE_COLON","::",348],["T_STRING","RACKSPACE_ZONE_USA",348],",",["T_STRING","self",348],["T_DOUBLE_COLON","::",348],["T_STRING","RACKSPACE_ZONE_UK",348],")",";",["T_WHITESPACE","\n    ",348],"}",["T_WHITESPACE","\n    ",349],["T_DOC_COMMENT","\/**\n     * Return the system information about the $metric of an instance\n     * NOTE: it works only for Linux servers\n     * \n     * @param  string $id\n     * @param  string $metric\n     * @param  null|array $options\n     * @return array|boolean\n     *\/",350],["T_WHITESPACE"," \n    ",358],["T_PUBLIC","public",359],["T_WHITESPACE"," ",359],["T_FUNCTION","function",359],["T_WHITESPACE"," ",359],["T_STRING","monitorInstance",359],"(",["T_VARIABLE","$id",359],",",["T_WHITESPACE"," ",359],["T_VARIABLE","$metric",359],",",["T_WHITESPACE"," ",359],["T_VARIABLE","$options",359],["T_WHITESPACE"," ",359],"=",["T_WHITESPACE"," ",359],["T_STRING","null",359],")",["T_WHITESPACE","\n    ",359],"{",["T_WHITESPACE","\n        ",360],["T_IF","if",361],["T_WHITESPACE"," ",361],"(","!",["T_STRING","function_exists",361],"(",["T_CONSTANT_ENCAPSED_STRING","\"ssh2_connect\"",361],")",")",["T_WHITESPACE"," ",361],"{",["T_WHITESPACE","\n            ",361],["T_COMMENT","#require_once 'Zend\/Cloud\/Infrastructure\/Exception.php';\n",362],["T_WHITESPACE","            ",363],["T_THROW","throw",363],["T_WHITESPACE"," ",363],["T_NEW","new",363],["T_WHITESPACE"," ",363],["T_STRING","Zend_Cloud_Infrastructure_Exception",363],"(",["T_CONSTANT_ENCAPSED_STRING","'Monitor requires the PHP \"SSH\" extension (ext\/ssh2)'",363],")",";",["T_WHITESPACE","\n        ",363],"}",["T_WHITESPACE","\n        ",364],["T_IF","if",365],["T_WHITESPACE"," ",365],"(",["T_EMPTY","empty",365],"(",["T_VARIABLE","$id",365],")",")",["T_WHITESPACE"," ",365],"{",["T_WHITESPACE","\n            ",365],["T_COMMENT","#require_once 'Zend\/Cloud\/Infrastructure\/Exception.php';\n",366],["T_WHITESPACE","            ",367],["T_THROW","throw",367],["T_WHITESPACE"," ",367],["T_NEW","new",367],["T_WHITESPACE"," ",367],["T_STRING","Zend_Cloud_Infrastructure_Exception",367],"(",["T_CONSTANT_ENCAPSED_STRING","'You must specify the id of the instance to monitor'",367],")",";",["T_WHITESPACE","\n        ",367],"}",["T_WHITESPACE","\n        ",368],["T_IF","if",369],["T_WHITESPACE"," ",369],"(",["T_EMPTY","empty",369],"(",["T_VARIABLE","$metric",369],")",")",["T_WHITESPACE"," ",369],"{",["T_WHITESPACE","\n            ",369],["T_COMMENT","#require_once 'Zend\/Cloud\/Infrastructure\/Exception.php';\n",370],["T_WHITESPACE","            ",371],["T_THROW","throw",371],["T_WHITESPACE"," ",371],["T_NEW","new",371],["T_WHITESPACE"," ",371],["T_STRING","Zend_Cloud_Infrastructure_Exception",371],"(",["T_CONSTANT_ENCAPSED_STRING","'You must specify the metric to monitor'",371],")",";",["T_WHITESPACE","\n        ",371],"}",["T_WHITESPACE","\n        ",372],["T_IF","if",373],["T_WHITESPACE"," ",373],"(","!",["T_STRING","in_array",373],"(",["T_VARIABLE","$metric",373],",",["T_VARIABLE","$this",373],["T_OBJECT_OPERATOR","->",373],["T_STRING","validMetrics",373],")",")",["T_WHITESPACE"," ",373],"{",["T_WHITESPACE","\n            ",373],["T_COMMENT","#require_once 'Zend\/Cloud\/Infrastructure\/Exception.php';\n",374],["T_WHITESPACE","            ",375],["T_THROW","throw",375],["T_WHITESPACE"," ",375],["T_NEW","new",375],["T_WHITESPACE"," ",375],["T_STRING","Zend_Cloud_Infrastructure_Exception",375],"(",["T_STRING","sprintf",375],"(",["T_CONSTANT_ENCAPSED_STRING","'The metric \"%s\" is not valid'",375],",",["T_WHITESPACE"," ",375],["T_VARIABLE","$metric",375],")",")",";",["T_WHITESPACE","\n        ",375],"}",["T_WHITESPACE","\n        ",376],["T_IF","if",377],["T_WHITESPACE"," ",377],"(","!",["T_EMPTY","empty",377],"(",["T_VARIABLE","$options",377],")",["T_WHITESPACE"," ",377],["T_BOOLEAN_AND","&&",377],["T_WHITESPACE"," ",377],"!",["T_STRING","is_array",377],"(",["T_VARIABLE","$options",377],")",")",["T_WHITESPACE"," ",377],"{",["T_WHITESPACE","\n            ",377],["T_COMMENT","#require_once 'Zend\/Cloud\/Infrastructure\/Exception.php';\n",378],["T_WHITESPACE","            ",379],["T_THROW","throw",379],["T_WHITESPACE"," ",379],["T_NEW","new",379],["T_WHITESPACE"," ",379],["T_STRING","Zend_Cloud_Infrastructure_Exception",379],"(",["T_CONSTANT_ENCAPSED_STRING","'The options must be an array'",379],")",";",["T_WHITESPACE","\n        ",379],"}",["T_WHITESPACE","\n        \n        ",380],["T_SWITCH","switch",382],["T_WHITESPACE"," ",382],"(",["T_VARIABLE","$metric",382],")",["T_WHITESPACE"," ",382],"{",["T_WHITESPACE","\n            ",382],["T_CASE","case",383],["T_WHITESPACE"," ",383],["T_STRING","Zend_Cloud_Infrastructure_Instance",383],["T_DOUBLE_COLON","::",383],["T_STRING","MONITOR_CPU",383],":",["T_WHITESPACE","\n                ",383],["T_VARIABLE","$cmd",384],"=",["T_WHITESPACE"," ",384],["T_CONSTANT_ENCAPSED_STRING","'top -b -n '",384],".",["T_STRING","self",384],["T_DOUBLE_COLON","::",384],["T_STRING","MONITOR_CPU_SAMPLES",384],".",["T_CONSTANT_ENCAPSED_STRING","' | grep \\'Cpu\\''",384],";",["T_WHITESPACE","\n                ",384],["T_BREAK","break",385],";",["T_WHITESPACE","\n            ",385],["T_CASE","case",386],["T_WHITESPACE"," ",386],["T_STRING","Zend_Cloud_Infrastructure_Instance",386],["T_DOUBLE_COLON","::",386],["T_STRING","MONITOR_RAM",386],":",["T_WHITESPACE","\n                ",386],["T_VARIABLE","$cmd",387],"=",["T_WHITESPACE"," ",387],["T_CONSTANT_ENCAPSED_STRING","'top -b -n 1 | grep \\'Mem\\''",387],";",["T_WHITESPACE","\n                ",387],["T_BREAK","break",388],";",["T_WHITESPACE","\n            ",388],["T_CASE","case",389],["T_WHITESPACE"," ",389],["T_STRING","Zend_Cloud_Infrastructure_Instance",389],["T_DOUBLE_COLON","::",389],["T_STRING","MONITOR_DISK",389],":",["T_WHITESPACE","\n                ",389],["T_VARIABLE","$cmd",390],"=",["T_WHITESPACE"," ",390],["T_CONSTANT_ENCAPSED_STRING","'df --total | grep total'",390],";",["T_WHITESPACE","\n                ",390],["T_BREAK","break",391],";",["T_WHITESPACE","\n        ",391],"}",["T_WHITESPACE","\n        ",392],["T_IF","if",393],["T_WHITESPACE"," ",393],"(",["T_EMPTY","empty",393],"(",["T_VARIABLE","$cmd",393],")",")",["T_WHITESPACE"," ",393],"{",["T_WHITESPACE","\n            ",393],["T_COMMENT","#require_once 'Zend\/Cloud\/Infrastructure\/Exception.php';\n",394],["T_WHITESPACE","            ",395],["T_THROW","throw",395],["T_WHITESPACE"," ",395],["T_NEW","new",395],["T_WHITESPACE"," ",395],["T_STRING","Zend_Cloud_Infrastructure_Exception",395],"(",["T_CONSTANT_ENCAPSED_STRING","'The metric specified is not supported by the adapter'",395],")",";",["T_WHITESPACE","\n        ",395],"}",["T_WHITESPACE","\n        \n        ",396],["T_VARIABLE","$params",398],"=",["T_WHITESPACE"," ",398],["T_ARRAY","array",398],"(",["T_WHITESPACE","\n            ",398],["T_STRING","Zend_Cloud_Infrastructure_Instance",399],["T_DOUBLE_COLON","::",399],["T_STRING","SSH_USERNAME",399],["T_WHITESPACE"," ",399],["T_DOUBLE_ARROW","=>",399],["T_WHITESPACE"," ",399],["T_VARIABLE","$options",399],"[",["T_CONSTANT_ENCAPSED_STRING","'username'",399],"]",",",["T_WHITESPACE","\n            ",399],["T_STRING","Zend_Cloud_Infrastructure_Instance",400],["T_DOUBLE_COLON","::",400],["T_STRING","SSH_PASSWORD",400],["T_WHITESPACE"," ",400],["T_DOUBLE_ARROW","=>",400],["T_WHITESPACE"," ",400],["T_VARIABLE","$options",400],"[",["T_CONSTANT_ENCAPSED_STRING","'password'",400],"]",["T_WHITESPACE","\n        ",400],")",";",["T_WHITESPACE","\n        ",401],["T_VARIABLE","$exec_time",402],"=",["T_WHITESPACE"," ",402],["T_STRING","time",402],"(",")",";",["T_WHITESPACE","\n        ",402],["T_VARIABLE","$result",403],"=",["T_WHITESPACE"," ",403],["T_VARIABLE","$this",403],["T_OBJECT_OPERATOR","->",403],["T_STRING","deployInstance",403],"(",["T_VARIABLE","$id",403],",",["T_VARIABLE","$params",403],",",["T_VARIABLE","$cmd",403],")",";",["T_WHITESPACE","\n        \n        ",403],["T_IF","if",405],["T_WHITESPACE"," ",405],"(",["T_EMPTY","empty",405],"(",["T_VARIABLE","$result",405],")",")",["T_WHITESPACE"," ",405],"{",["T_WHITESPACE","\n            ",405],["T_RETURN","return",406],["T_WHITESPACE"," ",406],["T_STRING","false",406],";",["T_WHITESPACE","\n        ",406],"}",["T_WHITESPACE","\n\n        ",407],["T_VARIABLE","$monitor",409],["T_WHITESPACE"," ",409],"=",["T_WHITESPACE"," ",409],["T_ARRAY","array",409],"(",")",";",["T_WHITESPACE","\n        ",409],["T_VARIABLE","$num",410],["T_WHITESPACE","     ",410],"=",["T_WHITESPACE"," ",410],["T_LNUMBER","0",410],";",["T_WHITESPACE","\n        ",410],["T_VARIABLE","$average",411],["T_WHITESPACE"," ",411],"=",["T_WHITESPACE"," ",411],["T_LNUMBER","0",411],";",["T_WHITESPACE","\n\n        ",411],["T_VARIABLE","$outputs",413],"=",["T_WHITESPACE"," ",413],["T_STRING","explode",413],"(",["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",413],",",["T_VARIABLE","$result",413],")",";",["T_WHITESPACE","\n        ",413],["T_FOREACH","foreach",414],["T_WHITESPACE"," ",414],"(",["T_VARIABLE","$outputs",414],["T_WHITESPACE"," ",414],["T_AS","as",414],["T_WHITESPACE"," ",414],["T_VARIABLE","$output",414],")",["T_WHITESPACE"," ",414],"{",["T_WHITESPACE","\n            ",414],["T_IF","if",415],["T_WHITESPACE"," ",415],"(","!",["T_EMPTY","empty",415],"(",["T_VARIABLE","$output",415],")",")",["T_WHITESPACE"," ",415],"{",["T_WHITESPACE","\n                ",415],["T_SWITCH","switch",416],["T_WHITESPACE"," ",416],"(",["T_VARIABLE","$metric",416],")",["T_WHITESPACE"," ",416],"{",["T_WHITESPACE","\n                    ",416],["T_CASE","case",417],["T_WHITESPACE"," ",417],["T_STRING","Zend_Cloud_Infrastructure_Instance",417],["T_DOUBLE_COLON","::",417],["T_STRING","MONITOR_CPU",417],":",["T_WHITESPACE","\n                        ",417],["T_IF","if",418],["T_WHITESPACE"," ",418],"(",["T_STRING","preg_match",418],"(",["T_CONSTANT_ENCAPSED_STRING","'\/(\\d+\\.\\d)%us\/'",418],",",["T_WHITESPACE"," ",418],["T_VARIABLE","$output",418],",",["T_VARIABLE","$match",418],")",")",["T_WHITESPACE"," ",418],"{",["T_WHITESPACE","\n                            ",418],["T_VARIABLE","$usage",419],["T_WHITESPACE"," ",419],"=",["T_WHITESPACE"," ",419],["T_DOUBLE_CAST","(float)",419],["T_WHITESPACE"," ",419],["T_VARIABLE","$match",419],"[",["T_LNUMBER","1",419],"]",";",["T_WHITESPACE","\n                        ",419],"}",["T_WHITESPACE","\n                        ",420],["T_BREAK","break",421],";",["T_WHITESPACE","\n                    ",421],["T_CASE","case",422],["T_WHITESPACE"," ",422],["T_STRING","Zend_Cloud_Infrastructure_Instance",422],["T_DOUBLE_COLON","::",422],["T_STRING","MONITOR_RAM",422],":",["T_WHITESPACE","\n                        ",422],["T_IF","if",423],["T_WHITESPACE"," ",423],"(",["T_STRING","preg_match",423],"(",["T_CONSTANT_ENCAPSED_STRING","'\/(\\d+)k total\/'",423],",",["T_WHITESPACE"," ",423],["T_VARIABLE","$output",423],",",["T_VARIABLE","$match",423],")",")",["T_WHITESPACE"," ",423],"{",["T_WHITESPACE","\n                            ",423],["T_VARIABLE","$total",424],["T_WHITESPACE"," ",424],"=",["T_WHITESPACE"," ",424],["T_INT_CAST","(integer)",424],["T_WHITESPACE"," ",424],["T_VARIABLE","$match",424],"[",["T_LNUMBER","1",424],"]",";",["T_WHITESPACE","\n                        ",424],"}",["T_WHITESPACE","\n                        ",425],["T_IF","if",426],["T_WHITESPACE"," ",426],"(",["T_STRING","preg_match",426],"(",["T_CONSTANT_ENCAPSED_STRING","'\/(\\d+)k used\/'",426],",",["T_WHITESPACE"," ",426],["T_VARIABLE","$output",426],",",["T_VARIABLE","$match",426],")",")",["T_WHITESPACE"," ",426],"{",["T_WHITESPACE","\n                            ",426],["T_VARIABLE","$used",427],["T_WHITESPACE"," ",427],"=",["T_WHITESPACE"," ",427],["T_INT_CAST","(integer)",427],["T_WHITESPACE"," ",427],["T_VARIABLE","$match",427],"[",["T_LNUMBER","1",427],"]",";",["T_WHITESPACE","\n                        ",427],"}",["T_WHITESPACE","\n                        ",428],["T_IF","if",429],["T_WHITESPACE"," ",429],"(",["T_VARIABLE","$total",429],">",["T_LNUMBER","0",429],")",["T_WHITESPACE"," ",429],"{",["T_WHITESPACE","\n                            ",429],["T_VARIABLE","$usage",430],"=",["T_WHITESPACE"," ",430],["T_DOUBLE_CAST","(float)",430],["T_WHITESPACE"," ",430],["T_VARIABLE","$used",430],"\/",["T_VARIABLE","$total",430],";",["T_WHITESPACE","\n                        ",430],"}",["T_WHITESPACE","    \n                        ",431],["T_BREAK","break",432],";",["T_WHITESPACE","\n                    ",432],["T_CASE","case",433],["T_WHITESPACE"," ",433],["T_STRING","Zend_Cloud_Infrastructure_Instance",433],["T_DOUBLE_COLON","::",433],["T_STRING","MONITOR_DISK",433],":",["T_WHITESPACE","\n                        ",433],["T_IF","if",434],["T_WHITESPACE"," ",434],"(",["T_STRING","preg_match",434],"(",["T_CONSTANT_ENCAPSED_STRING","'\/(\\d+)%\/'",434],",",["T_WHITESPACE"," ",434],["T_VARIABLE","$output",434],",",["T_VARIABLE","$match",434],")",")",["T_WHITESPACE"," ",434],"{",["T_WHITESPACE","\n                            ",434],["T_VARIABLE","$usage",435],["T_WHITESPACE"," ",435],"=",["T_WHITESPACE"," ",435],["T_DOUBLE_CAST","(float)",435],["T_WHITESPACE"," ",435],["T_VARIABLE","$match",435],"[",["T_LNUMBER","1",435],"]",";",["T_WHITESPACE","\n                        ",435],"}",["T_WHITESPACE","\n                        ",436],["T_BREAK","break",437],";",["T_WHITESPACE","\n                ",437],"}",["T_WHITESPACE","\n                \n                ",438],["T_VARIABLE","$monitor",440],"[",["T_CONSTANT_ENCAPSED_STRING","'series'",440],"]","[","]",["T_WHITESPACE"," ",440],"=",["T_WHITESPACE"," ",440],["T_ARRAY","array",440],["T_WHITESPACE"," ",440],"(",["T_WHITESPACE","\n                    ",440],["T_CONSTANT_ENCAPSED_STRING","'timestamp'",441],["T_WHITESPACE"," ",441],["T_DOUBLE_ARROW","=>",441],["T_WHITESPACE"," ",441],["T_VARIABLE","$exec_time",441],",",["T_WHITESPACE","\n                    ",441],["T_CONSTANT_ENCAPSED_STRING","'value'",442],["T_WHITESPACE","     ",442],["T_DOUBLE_ARROW","=>",442],["T_WHITESPACE"," ",442],["T_STRING","number_format",442],"(",["T_VARIABLE","$usage",442],",",["T_LNUMBER","2",442],")",".",["T_CONSTANT_ENCAPSED_STRING","'%'",442],["T_WHITESPACE","\n                ",442],")",";",["T_WHITESPACE","\n                \n                ",443],["T_VARIABLE","$average",445],["T_WHITESPACE"," ",445],["T_PLUS_EQUAL","+=",445],["T_WHITESPACE"," ",445],["T_VARIABLE","$usage",445],";",["T_WHITESPACE","\n                ",445],["T_VARIABLE","$exec_time",446],["T_PLUS_EQUAL","+=",446],["T_WHITESPACE"," ",446],["T_LNUMBER","60",446],";",["T_WHITESPACE"," ",446],["T_COMMENT","\/\/ seconds\n",446],["T_WHITESPACE","                ",447],["T_VARIABLE","$num",447],["T_INC","++",447],";",["T_WHITESPACE","\n            ",447],"}",["T_WHITESPACE","\n        ",448],"}",["T_WHITESPACE","\n        \n        ",449],["T_IF","if",451],["T_WHITESPACE"," ",451],"(",["T_VARIABLE","$num",451],">",["T_LNUMBER","0",451],")",["T_WHITESPACE"," ",451],"{",["T_WHITESPACE","\n            ",451],["T_VARIABLE","$monitor",452],"[",["T_CONSTANT_ENCAPSED_STRING","'average'",452],"]",["T_WHITESPACE"," ",452],"=",["T_WHITESPACE"," ",452],["T_STRING","number_format",452],"(",["T_VARIABLE","$average",452],"\/",["T_VARIABLE","$num",452],",",["T_LNUMBER","2",452],")",".",["T_CONSTANT_ENCAPSED_STRING","'%'",452],";",["T_WHITESPACE","\n        ",452],"}",["T_WHITESPACE","\n        ",453],["T_RETURN","return",454],["T_WHITESPACE"," ",454],["T_VARIABLE","$monitor",454],";",["T_WHITESPACE","\n    ",454],"}",["T_WHITESPACE","\n    ",455],["T_DOC_COMMENT","\/**\n     * Get the adapter \n     * \n     * @return Zend_Service_Rackspace_Servers\n     *\/",456],["T_WHITESPACE","\n    ",460],["T_PUBLIC","public",461],["T_WHITESPACE"," ",461],["T_FUNCTION","function",461],["T_WHITESPACE"," ",461],["T_STRING","getAdapter",461],"(",")",["T_WHITESPACE","\n    ",461],"{",["T_WHITESPACE","\n        ",462],["T_RETURN","return",463],["T_WHITESPACE"," ",463],["T_VARIABLE","$this",463],["T_OBJECT_OPERATOR","->",463],["T_STRING","rackspace",463],";",["T_WHITESPACE","\n    ",463],"}",["T_WHITESPACE","\n    ",464],["T_DOC_COMMENT","\/**\n     * Get last HTTP request\n     * \n     * @return string \n     *\/",465],["T_WHITESPACE","\n    ",469],["T_PUBLIC","public",470],["T_WHITESPACE"," ",470],["T_FUNCTION","function",470],["T_WHITESPACE"," ",470],["T_STRING","getLastHttpRequest",470],"(",")",["T_WHITESPACE","\n    ",470],"{",["T_WHITESPACE","\n        ",471],["T_RETURN","return",472],["T_WHITESPACE"," ",472],["T_VARIABLE","$this",472],["T_OBJECT_OPERATOR","->",472],["T_STRING","rackspace",472],["T_OBJECT_OPERATOR","->",472],["T_STRING","getHttpClient",472],"(",")",["T_OBJECT_OPERATOR","->",472],["T_STRING","getLastRequest",472],"(",")",";",["T_WHITESPACE","\n    ",472],"}",["T_WHITESPACE","\n    ",473],["T_DOC_COMMENT","\/**\n     * Get the last HTTP response\n     * \n     * @return Zend_Http_Response \n     *\/",474],["T_WHITESPACE","\n    ",478],["T_PUBLIC","public",479],["T_WHITESPACE"," ",479],["T_FUNCTION","function",479],["T_WHITESPACE"," ",479],["T_STRING","getLastHttpResponse",479],"(",")",["T_WHITESPACE","\n    ",479],"{",["T_WHITESPACE","\n        ",480],["T_RETURN","return",481],["T_WHITESPACE"," ",481],["T_VARIABLE","$this",481],["T_OBJECT_OPERATOR","->",481],["T_STRING","rackspace",481],["T_OBJECT_OPERATOR","->",481],["T_STRING","getHttpClient",481],"(",")",["T_OBJECT_OPERATOR","->",481],["T_STRING","getLastResponse",481],"(",")",";",["T_WHITESPACE","\n    ",481],"}",["T_WHITESPACE","\n",482],"}",["T_WHITESPACE","\n",483]]