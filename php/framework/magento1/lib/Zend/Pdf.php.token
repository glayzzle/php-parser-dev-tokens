[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Zend Framework\n *\n * LICENSE\n *\n * This source file is subject to the new BSD license that is bundled\n * with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/framework.zend.com\/license\/new-bsd\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@zend.com so we can send you a copy immediately.\n *\n * @category   Zend\n * @package    Zend_Pdf\n * @copyright  Copyright (c) 2005-2015 Zend Technologies USA Inc. (http:\/\/www.zend.com)\n * @license    http:\/\/framework.zend.com\/license\/new-bsd     New BSD License\n * @version    $Id$\n *\/",2],["T_WHITESPACE","\n\n\n",20],["T_DOC_COMMENT","\/** User land classes and interfaces turned on by Zend\/Pdf.php file inclusion. *\/",23],["T_WHITESPACE","\n",23],["T_DOC_COMMENT","\/** @todo Section should be removed with ZF 2.0 release as obsolete            *\/",24],["T_WHITESPACE","\n\n",24],["T_DOC_COMMENT","\/** Zend_Pdf_Page *\/",26],["T_WHITESPACE","\n",26],["T_COMMENT","#require_once 'Zend\/Pdf\/Page.php';\n",27],["T_WHITESPACE","\n",28],["T_DOC_COMMENT","\/** Zend_Pdf_Style *\/",29],["T_WHITESPACE","\n",29],["T_COMMENT","#require_once 'Zend\/Pdf\/Style.php';\n",30],["T_WHITESPACE","\n",31],["T_DOC_COMMENT","\/** Zend_Pdf_Color_GrayScale *\/",32],["T_WHITESPACE","\n",32],["T_COMMENT","#require_once 'Zend\/Pdf\/Color\/GrayScale.php';\n",33],["T_WHITESPACE","\n",34],["T_DOC_COMMENT","\/** Zend_Pdf_Color_Rgb *\/",35],["T_WHITESPACE","\n",35],["T_COMMENT","#require_once 'Zend\/Pdf\/Color\/Rgb.php';\n",36],["T_WHITESPACE","\n",37],["T_DOC_COMMENT","\/** Zend_Pdf_Color_Cmyk *\/",38],["T_WHITESPACE","\n",38],["T_COMMENT","#require_once 'Zend\/Pdf\/Color\/Cmyk.php';\n",39],["T_WHITESPACE","\n",40],["T_DOC_COMMENT","\/** Zend_Pdf_Color_Html *\/",41],["T_WHITESPACE","\n",41],["T_COMMENT","#require_once 'Zend\/Pdf\/Color\/Html.php';\n",42],["T_WHITESPACE","\n",43],["T_DOC_COMMENT","\/** Zend_Pdf_Image *\/",44],["T_WHITESPACE","\n",44],["T_COMMENT","#require_once 'Zend\/Pdf\/Image.php';\n",45],["T_WHITESPACE","\n",46],["T_DOC_COMMENT","\/** Zend_Pdf_Font *\/",47],["T_WHITESPACE","\n",47],["T_COMMENT","#require_once 'Zend\/Pdf\/Font.php';\n",48],["T_WHITESPACE","\n",49],["T_DOC_COMMENT","\/** Zend_Pdf_Resource_Extractor *\/",50],["T_WHITESPACE","\n",50],["T_COMMENT","#require_once 'Zend\/Pdf\/Resource\/Extractor.php';\n",51],["T_WHITESPACE","\n",52],["T_DOC_COMMENT","\/** Zend_Pdf_Canvas *\/",53],["T_WHITESPACE","\n",53],["T_COMMENT","#require_once 'Zend\/Pdf\/Canvas.php';\n",54],["T_WHITESPACE","\n\n",55],["T_DOC_COMMENT","\/** Internally used classes *\/",57],["T_WHITESPACE","\n",57],["T_COMMENT","#require_once 'Zend\/Pdf\/Element.php';\n",58],["T_COMMENT","#require_once 'Zend\/Pdf\/Element\/Array.php';\n",59],["T_COMMENT","#require_once 'Zend\/Pdf\/Element\/String\/Binary.php';\n",60],["T_COMMENT","#require_once 'Zend\/Pdf\/Element\/Boolean.php';\n",61],["T_COMMENT","#require_once 'Zend\/Pdf\/Element\/Dictionary.php';\n",62],["T_COMMENT","#require_once 'Zend\/Pdf\/Element\/Name.php';\n",63],["T_COMMENT","#require_once 'Zend\/Pdf\/Element\/Null.php';\n",64],["T_COMMENT","#require_once 'Zend\/Pdf\/Element\/Numeric.php';\n",65],["T_COMMENT","#require_once 'Zend\/Pdf\/Element\/String.php';\n",66],["T_WHITESPACE","\n\n",67],["T_DOC_COMMENT","\/**\n * General entity which describes PDF document.\n * It implements document abstraction with a document level operations.\n *\n * Class is used to create new PDF document or load existing document.\n * See details in a class constructor description\n *\n * Class agregates document level properties and entities (pages, bookmarks,\n * document level actions, attachments, form object, etc)\n *\n * @category   Zend\n * @package    Zend_Pdf\n * @copyright  Copyright (c) 2005-2015 Zend Technologies USA Inc. (http:\/\/www.zend.com)\n * @license    http:\/\/framework.zend.com\/license\/new-bsd     New BSD License\n *\/",69],["T_WHITESPACE","\n",83],["T_CLASS","class",84],["T_WHITESPACE"," ",84],["T_STRING","Zend_Pdf",84],["T_WHITESPACE","\n",84],"{",["T_WHITESPACE","\n  ",85],["T_COMMENT","\/**** Class Constants ****\/",86],["T_WHITESPACE","\n\n    ",86],["T_DOC_COMMENT","\/**\n     * Version number of generated PDF documents.\n     *\/",88],["T_WHITESPACE","\n    ",90],["T_CONST","const",91],["T_WHITESPACE"," ",91],["T_STRING","PDF_VERSION",91],["T_WHITESPACE"," ",91],"=",["T_WHITESPACE"," ",91],["T_CONSTANT_ENCAPSED_STRING","'1.4'",91],";",["T_WHITESPACE","\n\n    ",91],["T_DOC_COMMENT","\/**\n     * PDF file header.\n     *\/",93],["T_WHITESPACE","\n    ",95],["T_CONST","const",96],["T_WHITESPACE"," ",96],["T_STRING","PDF_HEADER",96],["T_WHITESPACE","  ",96],"=",["T_WHITESPACE"," ",96],["T_CONSTANT_ENCAPSED_STRING","\"%PDF-1.4\\n%\\xE2\\xE3\\xCF\\xD3\\n\"",96],";",["T_WHITESPACE","\n\n    ",96],["T_DOC_COMMENT","\/**\n     * Form field options\n     *\/",98],["T_WHITESPACE","\n    ",100],["T_CONST","const",101],["T_WHITESPACE"," ",101],["T_STRING","PDF_FORM_FIELD_READONLY",101],["T_WHITESPACE"," ",101],"=",["T_WHITESPACE"," ",101],["T_LNUMBER","1",101],";",["T_WHITESPACE","\n    ",101],["T_CONST","const",102],["T_WHITESPACE"," ",102],["T_STRING","PDF_FORM_FIELD_REQUIRED",102],["T_WHITESPACE"," ",102],"=",["T_WHITESPACE"," ",102],["T_LNUMBER","2",102],";",["T_WHITESPACE","\n    ",102],["T_CONST","const",103],["T_WHITESPACE"," ",103],["T_STRING","PDF_FORM_FIELD_NOEXPORT",103],["T_WHITESPACE"," ",103],"=",["T_WHITESPACE"," ",103],["T_LNUMBER","4",103],";",["T_WHITESPACE","\n\n    ",103],["T_DOC_COMMENT","\/**\n     * Pages collection\n     *\n     * @todo implement it as a class, which supports ArrayAccess and Iterator interfaces,\n     *       to provide incremental parsing and pages tree updating.\n     *       That will give good performance and memory (PDF size) benefits.\n     *\n     * @var array   - array of Zend_Pdf_Page object\n     *\/",105],["T_WHITESPACE","\n    ",113],["T_PUBLIC","public",114],["T_WHITESPACE"," ",114],["T_VARIABLE","$pages",114],["T_WHITESPACE"," ",114],"=",["T_WHITESPACE"," ",114],["T_ARRAY","array",114],"(",")",";",["T_WHITESPACE","\n\n    ",114],["T_DOC_COMMENT","\/**\n     * Document properties\n     *\n     * It's an associative array with PDF meta information, values may\n     * be string, boolean or float.\n     * Returned array could be used directly to access, add, modify or remove\n     * document properties.\n     *\n     * Standard document properties: Title (must be set for PDF\/X documents), Author,\n     * Subject, Keywords (comma separated list), Creator (the name of the application,\n     * that created document, if it was converted from other format), Trapped (must be\n     * true, false or null, can not be null for PDF\/X documents)\n     *\n     * @var array\n     *\/",116],["T_WHITESPACE","\n    ",130],["T_PUBLIC","public",131],["T_WHITESPACE"," ",131],["T_VARIABLE","$properties",131],["T_WHITESPACE"," ",131],"=",["T_WHITESPACE"," ",131],["T_ARRAY","array",131],"(",")",";",["T_WHITESPACE","\n\n    ",131],["T_DOC_COMMENT","\/**\n     * Original properties set.\n     *\n     * Used for tracking properties changes\n     *\n     * @var array\n     *\/",133],["T_WHITESPACE","\n    ",139],["T_PROTECTED","protected",140],["T_WHITESPACE"," ",140],["T_VARIABLE","$_originalProperties",140],["T_WHITESPACE"," ",140],"=",["T_WHITESPACE"," ",140],["T_ARRAY","array",140],"(",")",";",["T_WHITESPACE","\n\n    ",140],["T_DOC_COMMENT","\/**\n     * Document level javascript\n     *\n     * @var string\n     *\/",142],["T_WHITESPACE","\n    ",146],["T_PROTECTED","protected",147],["T_WHITESPACE"," ",147],["T_VARIABLE","$_javaScript",147],["T_WHITESPACE"," ",147],"=",["T_WHITESPACE"," ",147],["T_STRING","null",147],";",["T_WHITESPACE","\n\n    ",147],["T_DOC_COMMENT","\/**\n     * Document named destinations or \"GoTo...\" actions, used to refer\n     * document parts from outside PDF\n     *\n     * @var array   - array of Zend_Pdf_Target objects\n     *\/",149],["T_WHITESPACE","\n    ",154],["T_PROTECTED","protected",155],["T_WHITESPACE"," ",155],["T_VARIABLE","$_namedTargets",155],["T_WHITESPACE"," ",155],"=",["T_WHITESPACE"," ",155],["T_ARRAY","array",155],"(",")",";",["T_WHITESPACE","\n\n    ",155],["T_DOC_COMMENT","\/**\n     * Document outlines\n     *\n     * @var array - array of Zend_Pdf_Outline objects\n     *\/",157],["T_WHITESPACE","\n    ",161],["T_PUBLIC","public",162],["T_WHITESPACE"," ",162],["T_VARIABLE","$outlines",162],["T_WHITESPACE"," ",162],"=",["T_WHITESPACE"," ",162],["T_ARRAY","array",162],"(",")",";",["T_WHITESPACE","\n\n    ",162],["T_DOC_COMMENT","\/**\n     * Original document outlines list\n     * Used to track outlines update\n     *\n     * @var array - array of Zend_Pdf_Outline objects\n     *\/",164],["T_WHITESPACE","\n    ",169],["T_PROTECTED","protected",170],["T_WHITESPACE"," ",170],["T_VARIABLE","$_originalOutlines",170],["T_WHITESPACE"," ",170],"=",["T_WHITESPACE"," ",170],["T_ARRAY","array",170],"(",")",";",["T_WHITESPACE","\n\n    ",170],["T_DOC_COMMENT","\/**\n     * Original document outlines open elements count\n     * Used to track outlines update\n     *\n     * @var integer\n     *\/",172],["T_WHITESPACE","\n    ",177],["T_PROTECTED","protected",178],["T_WHITESPACE"," ",178],["T_VARIABLE","$_originalOpenOutlinesCount",178],["T_WHITESPACE"," ",178],"=",["T_WHITESPACE"," ",178],["T_LNUMBER","0",178],";",["T_WHITESPACE","\n\n    ",178],["T_DOC_COMMENT","\/**\n     * Pdf trailer (last or just created)\n     *\n     * @var Zend_Pdf_Trailer\n     *\/",180],["T_WHITESPACE","\n    ",184],["T_PROTECTED","protected",185],["T_WHITESPACE"," ",185],["T_VARIABLE","$_trailer",185],["T_WHITESPACE"," ",185],"=",["T_WHITESPACE"," ",185],["T_STRING","null",185],";",["T_WHITESPACE","\n\n    ",185],["T_DOC_COMMENT","\/**\n     * PDF objects factory.\n     *\n     * @var Zend_Pdf_ElementFactory_Interface\n     *\/",187],["T_WHITESPACE","\n    ",191],["T_PROTECTED","protected",192],["T_WHITESPACE"," ",192],["T_VARIABLE","$_objFactory",192],["T_WHITESPACE"," ",192],"=",["T_WHITESPACE"," ",192],["T_STRING","null",192],";",["T_WHITESPACE","\n\n    ",192],["T_DOC_COMMENT","\/**\n     * Memory manager for stream objects\n     *\n     * @var Zend_Memory_Manager|null\n     *\/",194],["T_WHITESPACE","\n    ",198],["T_PROTECTED","protected",199],["T_WHITESPACE"," ",199],["T_STATIC","static",199],["T_WHITESPACE"," ",199],["T_VARIABLE","$_memoryManager",199],["T_WHITESPACE"," ",199],"=",["T_WHITESPACE"," ",199],["T_STRING","null",199],";",["T_WHITESPACE","\n\n    ",199],["T_DOC_COMMENT","\/**\n     * Pdf file parser.\n     * It's not used, but has to be destroyed only with Zend_Pdf object\n     *\n     * @var Zend_Pdf_Parser\n     *\/",201],["T_WHITESPACE","\n    ",206],["T_PROTECTED","protected",207],["T_WHITESPACE"," ",207],["T_VARIABLE","$_parser",207],";",["T_WHITESPACE","\n\n    ",207],["T_DOC_COMMENT","\/**\n     * List of inheritable attributesfor pages tree\n     *\n     * @var array\n     *\/",209],["T_WHITESPACE","\n    ",213],["T_PROTECTED","protected",214],["T_WHITESPACE"," ",214],["T_STATIC","static",214],["T_WHITESPACE"," ",214],["T_VARIABLE","$_inheritableAttributes",214],["T_WHITESPACE"," ",214],"=",["T_WHITESPACE"," ",214],["T_ARRAY","array",214],"(",["T_CONSTANT_ENCAPSED_STRING","'Resources'",214],",",["T_WHITESPACE"," ",214],["T_CONSTANT_ENCAPSED_STRING","'MediaBox'",214],",",["T_WHITESPACE"," ",214],["T_CONSTANT_ENCAPSED_STRING","'CropBox'",214],",",["T_WHITESPACE"," ",214],["T_CONSTANT_ENCAPSED_STRING","'Rotate'",214],")",";",["T_WHITESPACE","\n\n    ",214],["T_DOC_COMMENT","\/**\n     * List of form fields\n     *\n     * @var array - Associative array, key: name of form field, value: Zend_Pdf_Element\n     *\/",216],["T_WHITESPACE","\n    ",220],["T_PROTECTED","protected",221],["T_WHITESPACE"," ",221],["T_VARIABLE","$_formFields",221],["T_WHITESPACE"," ",221],"=",["T_WHITESPACE"," ",221],["T_ARRAY","array",221],"(",")",";",["T_WHITESPACE","\n\n    ",221],["T_DOC_COMMENT","\/**\n     * True if the object is a newly created PDF document (affects save() method behavior)\n     * False otherwise\n     *\n     * @var boolean\n     *\/",223],["T_WHITESPACE","\n    ",228],["T_PROTECTED","protected",229],["T_WHITESPACE"," ",229],["T_VARIABLE","$_isNewDocument",229],["T_WHITESPACE"," ",229],"=",["T_WHITESPACE"," ",229],["T_STRING","true",229],";",["T_WHITESPACE","\n\n    ",229],["T_DOC_COMMENT","\/**\n     * Request used memory manager\n     *\n     * @return Zend_Memory_Manager\n     *\/",231],["T_WHITESPACE","\n    ",235],["T_STATIC","static",236],["T_WHITESPACE"," ",236],["T_PUBLIC","public",236],["T_WHITESPACE"," ",236],["T_FUNCTION","function",236],["T_WHITESPACE"," ",236],["T_STRING","getMemoryManager",236],"(",")",["T_WHITESPACE","\n    ",236],"{",["T_WHITESPACE","\n        ",237],["T_IF","if",238],["T_WHITESPACE"," ",238],"(",["T_STRING","self",238],["T_DOUBLE_COLON","::",238],["T_VARIABLE","$_memoryManager",238],["T_WHITESPACE"," ",238],["T_IS_IDENTICAL","===",238],["T_WHITESPACE"," ",238],["T_STRING","null",238],")",["T_WHITESPACE"," ",238],"{",["T_WHITESPACE","\n            ",238],["T_COMMENT","#require_once 'Zend\/Memory.php';\n",239],["T_WHITESPACE","            ",240],["T_STRING","self",240],["T_DOUBLE_COLON","::",240],["T_VARIABLE","$_memoryManager",240],["T_WHITESPACE"," ",240],"=",["T_WHITESPACE"," ",240],["T_STRING","Zend_Memory",240],["T_DOUBLE_COLON","::",240],["T_STRING","factory",240],"(",["T_CONSTANT_ENCAPSED_STRING","'none'",240],")",";",["T_WHITESPACE","\n        ",240],"}",["T_WHITESPACE","\n\n        ",241],["T_RETURN","return",243],["T_WHITESPACE"," ",243],["T_STRING","self",243],["T_DOUBLE_COLON","::",243],["T_VARIABLE","$_memoryManager",243],";",["T_WHITESPACE","\n    ",243],"}",["T_WHITESPACE","\n\n    ",244],["T_DOC_COMMENT","\/**\n     * Set user defined memory manager\n     *\n     * @param Zend_Memory_Manager $memoryManager\n     *\/",246],["T_WHITESPACE","\n    ",250],["T_STATIC","static",251],["T_WHITESPACE"," ",251],["T_PUBLIC","public",251],["T_WHITESPACE"," ",251],["T_FUNCTION","function",251],["T_WHITESPACE"," ",251],["T_STRING","setMemoryManager",251],"(",["T_STRING","Zend_Memory_Manager",251],["T_WHITESPACE"," ",251],["T_VARIABLE","$memoryManager",251],")",["T_WHITESPACE","\n    ",251],"{",["T_WHITESPACE","\n        ",252],["T_STRING","self",253],["T_DOUBLE_COLON","::",253],["T_VARIABLE","$_memoryManager",253],["T_WHITESPACE"," ",253],"=",["T_WHITESPACE"," ",253],["T_VARIABLE","$memoryManager",253],";",["T_WHITESPACE","\n    ",253],"}",["T_WHITESPACE","\n\n\n    ",254],["T_DOC_COMMENT","\/**\n     * Create new PDF document from a $source string\n     *\n     * @param string $source\n     * @param integer $revision\n     * @return Zend_Pdf\n     *\/",257],["T_WHITESPACE","\n    ",263],["T_PUBLIC","public",264],["T_WHITESPACE"," ",264],["T_STATIC","static",264],["T_WHITESPACE"," ",264],["T_FUNCTION","function",264],["T_WHITESPACE"," ",264],["T_STRING","parse",264],"(","&",["T_VARIABLE","$source",264],["T_WHITESPACE"," ",264],"=",["T_WHITESPACE"," ",264],["T_STRING","null",264],",",["T_WHITESPACE"," ",264],["T_VARIABLE","$revision",264],["T_WHITESPACE"," ",264],"=",["T_WHITESPACE"," ",264],["T_STRING","null",264],")",["T_WHITESPACE","\n    ",264],"{",["T_WHITESPACE","\n        ",265],["T_RETURN","return",266],["T_WHITESPACE"," ",266],["T_NEW","new",266],["T_WHITESPACE"," ",266],["T_STRING","Zend_Pdf",266],"(",["T_VARIABLE","$source",266],",",["T_WHITESPACE"," ",266],["T_VARIABLE","$revision",266],")",";",["T_WHITESPACE","\n    ",266],"}",["T_WHITESPACE","\n\n    ",267],["T_DOC_COMMENT","\/**\n     * Load PDF document from a file\n     *\n     * @param string $source\n     * @param integer $revision\n     * @return Zend_Pdf\n     *\/",269],["T_WHITESPACE","\n    ",275],["T_PUBLIC","public",276],["T_WHITESPACE"," ",276],["T_STATIC","static",276],["T_WHITESPACE"," ",276],["T_FUNCTION","function",276],["T_WHITESPACE"," ",276],["T_STRING","load",276],"(",["T_VARIABLE","$source",276],["T_WHITESPACE"," ",276],"=",["T_WHITESPACE"," ",276],["T_STRING","null",276],",",["T_WHITESPACE"," ",276],["T_VARIABLE","$revision",276],["T_WHITESPACE"," ",276],"=",["T_WHITESPACE"," ",276],["T_STRING","null",276],")",["T_WHITESPACE","\n    ",276],"{",["T_WHITESPACE","\n        ",277],["T_RETURN","return",278],["T_WHITESPACE"," ",278],["T_NEW","new",278],["T_WHITESPACE"," ",278],["T_STRING","Zend_Pdf",278],"(",["T_VARIABLE","$source",278],",",["T_WHITESPACE"," ",278],["T_VARIABLE","$revision",278],",",["T_WHITESPACE"," ",278],["T_STRING","true",278],")",";",["T_WHITESPACE","\n    ",278],"}",["T_WHITESPACE","\n\n    ",279],["T_DOC_COMMENT","\/**\n     * Render PDF document and save it.\n     *\n     * If $updateOnly is true and it's not a new document, then it only\n     * appends new section to the end of file.\n     *\n     * @param string $filename\n     * @param boolean $updateOnly\n     * @throws Zend_Pdf_Exception\n     *\/",281],["T_WHITESPACE","\n    ",290],["T_PUBLIC","public",291],["T_WHITESPACE"," ",291],["T_FUNCTION","function",291],["T_WHITESPACE"," ",291],["T_STRING","save",291],"(",["T_VARIABLE","$filename",291],",",["T_WHITESPACE"," ",291],["T_VARIABLE","$updateOnly",291],["T_WHITESPACE"," ",291],"=",["T_WHITESPACE"," ",291],["T_STRING","false",291],")",["T_WHITESPACE","\n    ",291],"{",["T_WHITESPACE","\n        ",292],["T_IF","if",293],["T_WHITESPACE"," ",293],"(","(",["T_VARIABLE","$file",293],["T_WHITESPACE"," ",293],"=",["T_WHITESPACE"," ",293],"@",["T_STRING","fopen",293],"(",["T_VARIABLE","$filename",293],",",["T_WHITESPACE"," ",293],["T_VARIABLE","$updateOnly",293],["T_WHITESPACE"," ",293],"?",["T_WHITESPACE"," ",293],["T_CONSTANT_ENCAPSED_STRING","'ab'",293],":",["T_CONSTANT_ENCAPSED_STRING","'wb'",293],")",")",["T_WHITESPACE"," ",293],["T_IS_IDENTICAL","===",293],["T_WHITESPACE"," ",293],["T_STRING","false",293],["T_WHITESPACE"," ",293],")",["T_WHITESPACE"," ",293],"{",["T_WHITESPACE","\n            ",293],["T_COMMENT","#require_once 'Zend\/Pdf\/Exception.php';\n",294],["T_WHITESPACE","            ",295],["T_THROW","throw",295],["T_WHITESPACE"," ",295],["T_NEW","new",295],["T_WHITESPACE"," ",295],["T_STRING","Zend_Pdf_Exception",295],"(",["T_WHITESPACE"," ",295],"\"",["T_ENCAPSED_AND_WHITESPACE","Can not open '",295],["T_VARIABLE","$filename",295],["T_ENCAPSED_AND_WHITESPACE","' file for writing.",295],"\"",["T_WHITESPACE"," ",295],")",";",["T_WHITESPACE","\n        ",295],"}",["T_WHITESPACE","\n\n        ",296],["T_VARIABLE","$this",298],["T_OBJECT_OPERATOR","->",298],["T_STRING","render",298],"(",["T_VARIABLE","$updateOnly",298],",",["T_WHITESPACE"," ",298],["T_VARIABLE","$file",298],")",";",["T_WHITESPACE","\n\n        ",298],["T_STRING","fclose",300],"(",["T_VARIABLE","$file",300],")",";",["T_WHITESPACE","\n    ",300],"}",["T_WHITESPACE","\n\n    ",301],["T_DOC_COMMENT","\/**\n     * Creates or loads PDF document.\n     *\n     * If $source is null, then it creates a new document.\n     *\n     * If $source is a string and $load is false, then it loads document\n     * from a binary string.\n     *\n     * If $source is a string and $load is true, then it loads document\n     * from a file.\n     * $revision used to roll back document to specified version\n     * (0 - current version, 1 - previous version, 2 - ...)\n     *\n     * @param string  $source - PDF file to load\n     * @param integer $revision\n     * @param bool    $load\n     * @throws Zend_Pdf_Exception\n     * @return Zend_Pdf\n     *\/",303],["T_WHITESPACE","\n    ",321],["T_PUBLIC","public",322],["T_WHITESPACE"," ",322],["T_FUNCTION","function",322],["T_WHITESPACE"," ",322],["T_STRING","__construct",322],"(",["T_VARIABLE","$source",322],["T_WHITESPACE"," ",322],"=",["T_WHITESPACE"," ",322],["T_STRING","null",322],",",["T_WHITESPACE"," ",322],["T_VARIABLE","$revision",322],["T_WHITESPACE"," ",322],"=",["T_WHITESPACE"," ",322],["T_STRING","null",322],",",["T_WHITESPACE"," ",322],["T_VARIABLE","$load",322],["T_WHITESPACE"," ",322],"=",["T_WHITESPACE"," ",322],["T_STRING","false",322],")",["T_WHITESPACE","\n    ",322],"{",["T_WHITESPACE","\n        ",323],["T_COMMENT","#require_once 'Zend\/Pdf\/ElementFactory.php';\n",324],["T_WHITESPACE","        ",325],["T_VARIABLE","$this",325],["T_OBJECT_OPERATOR","->",325],["T_STRING","_objFactory",325],["T_WHITESPACE"," ",325],"=",["T_WHITESPACE"," ",325],["T_STRING","Zend_Pdf_ElementFactory",325],["T_DOUBLE_COLON","::",325],["T_STRING","createFactory",325],"(",["T_LNUMBER","1",325],")",";",["T_WHITESPACE","\n\n        ",325],["T_IF","if",327],["T_WHITESPACE"," ",327],"(",["T_VARIABLE","$source",327],["T_WHITESPACE"," ",327],["T_IS_NOT_IDENTICAL","!==",327],["T_WHITESPACE"," ",327],["T_STRING","null",327],")",["T_WHITESPACE"," ",327],"{",["T_WHITESPACE","\n            ",327],["T_COMMENT","#require_once 'Zend\/Pdf\/Parser.php';\n",328],["T_WHITESPACE","            ",329],["T_VARIABLE","$this",329],["T_OBJECT_OPERATOR","->",329],["T_STRING","_parser",329],["T_WHITESPACE","           ",329],"=",["T_WHITESPACE"," ",329],["T_NEW","new",329],["T_WHITESPACE"," ",329],["T_STRING","Zend_Pdf_Parser",329],"(",["T_VARIABLE","$source",329],",",["T_WHITESPACE"," ",329],["T_VARIABLE","$this",329],["T_OBJECT_OPERATOR","->",329],["T_STRING","_objFactory",329],",",["T_WHITESPACE"," ",329],["T_VARIABLE","$load",329],")",";",["T_WHITESPACE","\n            ",329],["T_VARIABLE","$this",330],["T_OBJECT_OPERATOR","->",330],["T_STRING","_pdfHeaderVersion",330],["T_WHITESPACE"," ",330],"=",["T_WHITESPACE"," ",330],["T_VARIABLE","$this",330],["T_OBJECT_OPERATOR","->",330],["T_STRING","_parser",330],["T_OBJECT_OPERATOR","->",330],["T_STRING","getPDFVersion",330],"(",")",";",["T_WHITESPACE","\n            ",330],["T_VARIABLE","$this",331],["T_OBJECT_OPERATOR","->",331],["T_STRING","_trailer",331],["T_WHITESPACE","          ",331],"=",["T_WHITESPACE"," ",331],["T_VARIABLE","$this",331],["T_OBJECT_OPERATOR","->",331],["T_STRING","_parser",331],["T_OBJECT_OPERATOR","->",331],["T_STRING","getTrailer",331],"(",")",";",["T_WHITESPACE","\n            ",331],["T_IF","if",332],["T_WHITESPACE"," ",332],"(",["T_VARIABLE","$this",332],["T_OBJECT_OPERATOR","->",332],["T_STRING","_trailer",332],["T_OBJECT_OPERATOR","->",332],["T_STRING","Encrypt",332],["T_WHITESPACE"," ",332],["T_IS_NOT_IDENTICAL","!==",332],["T_WHITESPACE"," ",332],["T_STRING","null",332],")",["T_WHITESPACE"," ",332],"{",["T_WHITESPACE","\n                ",332],["T_COMMENT","#require_once 'Zend\/Pdf\/Exception.php';\n",333],["T_WHITESPACE","                ",334],["T_THROW","throw",334],["T_WHITESPACE"," ",334],["T_NEW","new",334],["T_WHITESPACE"," ",334],["T_STRING","Zend_Pdf_Exception",334],"(",["T_CONSTANT_ENCAPSED_STRING","'Encrypted document modification is not supported'",334],")",";",["T_WHITESPACE","\n            ",334],"}",["T_WHITESPACE","\n            ",335],["T_IF","if",336],["T_WHITESPACE"," ",336],"(",["T_VARIABLE","$revision",336],["T_WHITESPACE"," ",336],["T_IS_NOT_IDENTICAL","!==",336],["T_WHITESPACE"," ",336],["T_STRING","null",336],")",["T_WHITESPACE"," ",336],"{",["T_WHITESPACE","\n                ",336],["T_VARIABLE","$this",337],["T_OBJECT_OPERATOR","->",337],["T_STRING","rollback",337],"(",["T_VARIABLE","$revision",337],")",";",["T_WHITESPACE","\n            ",337],"}",["T_WHITESPACE"," ",338],["T_ELSE","else",338],["T_WHITESPACE"," ",338],"{",["T_WHITESPACE","\n                ",338],["T_VARIABLE","$this",339],["T_OBJECT_OPERATOR","->",339],["T_STRING","_loadPages",339],"(",["T_VARIABLE","$this",339],["T_OBJECT_OPERATOR","->",339],["T_STRING","_trailer",339],["T_OBJECT_OPERATOR","->",339],["T_STRING","Root",339],["T_OBJECT_OPERATOR","->",339],["T_STRING","Pages",339],")",";",["T_WHITESPACE","\n            ",339],"}",["T_WHITESPACE","\n\n            ",340],["T_VARIABLE","$this",342],["T_OBJECT_OPERATOR","->",342],["T_STRING","_loadNamedDestinations",342],"(",["T_VARIABLE","$this",342],["T_OBJECT_OPERATOR","->",342],["T_STRING","_trailer",342],["T_OBJECT_OPERATOR","->",342],["T_STRING","Root",342],",",["T_WHITESPACE"," ",342],["T_VARIABLE","$this",342],["T_OBJECT_OPERATOR","->",342],["T_STRING","_parser",342],["T_OBJECT_OPERATOR","->",342],["T_STRING","getPDFVersion",342],"(",")",")",";",["T_WHITESPACE","\n            ",342],["T_VARIABLE","$this",343],["T_OBJECT_OPERATOR","->",343],["T_STRING","_loadOutlines",343],"(",["T_VARIABLE","$this",343],["T_OBJECT_OPERATOR","->",343],["T_STRING","_trailer",343],["T_OBJECT_OPERATOR","->",343],["T_STRING","Root",343],")",";",["T_WHITESPACE","\n            ",343],["T_VARIABLE","$this",344],["T_OBJECT_OPERATOR","->",344],["T_STRING","_loadJavaScript",344],"(",["T_VARIABLE","$this",344],["T_OBJECT_OPERATOR","->",344],["T_STRING","_trailer",344],["T_OBJECT_OPERATOR","->",344],["T_STRING","Root",344],")",";",["T_WHITESPACE","\n            ",344],["T_VARIABLE","$this",345],["T_OBJECT_OPERATOR","->",345],["T_STRING","_loadFormFields",345],"(",["T_VARIABLE","$this",345],["T_OBJECT_OPERATOR","->",345],["T_STRING","_trailer",345],["T_OBJECT_OPERATOR","->",345],["T_STRING","Root",345],")",";",["T_WHITESPACE","\n\n            ",345],["T_IF","if",347],["T_WHITESPACE"," ",347],"(",["T_VARIABLE","$this",347],["T_OBJECT_OPERATOR","->",347],["T_STRING","_trailer",347],["T_OBJECT_OPERATOR","->",347],["T_STRING","Info",347],["T_WHITESPACE"," ",347],["T_IS_NOT_IDENTICAL","!==",347],["T_WHITESPACE"," ",347],["T_STRING","null",347],")",["T_WHITESPACE"," ",347],"{",["T_WHITESPACE","\n                ",347],["T_VARIABLE","$this",348],["T_OBJECT_OPERATOR","->",348],["T_STRING","properties",348],["T_WHITESPACE"," ",348],"=",["T_WHITESPACE"," ",348],["T_VARIABLE","$this",348],["T_OBJECT_OPERATOR","->",348],["T_STRING","_trailer",348],["T_OBJECT_OPERATOR","->",348],["T_STRING","Info",348],["T_OBJECT_OPERATOR","->",348],["T_STRING","toPhp",348],"(",")",";",["T_WHITESPACE","\n\n                ",348],["T_IF","if",350],["T_WHITESPACE"," ",350],"(",["T_ISSET","isset",350],"(",["T_VARIABLE","$this",350],["T_OBJECT_OPERATOR","->",350],["T_STRING","properties",350],"[",["T_CONSTANT_ENCAPSED_STRING","'Trapped'",350],"]",")",")",["T_WHITESPACE"," ",350],"{",["T_WHITESPACE","\n                    ",350],["T_SWITCH","switch",351],["T_WHITESPACE"," ",351],"(",["T_VARIABLE","$this",351],["T_OBJECT_OPERATOR","->",351],["T_STRING","properties",351],"[",["T_CONSTANT_ENCAPSED_STRING","'Trapped'",351],"]",")",["T_WHITESPACE"," ",351],"{",["T_WHITESPACE","\n                        ",351],["T_CASE","case",352],["T_WHITESPACE"," ",352],["T_CONSTANT_ENCAPSED_STRING","'True'",352],":",["T_WHITESPACE","\n                            ",352],["T_VARIABLE","$this",353],["T_OBJECT_OPERATOR","->",353],["T_STRING","properties",353],"[",["T_CONSTANT_ENCAPSED_STRING","'Trapped'",353],"]",["T_WHITESPACE"," ",353],"=",["T_WHITESPACE"," ",353],["T_STRING","true",353],";",["T_WHITESPACE","\n                            ",353],["T_BREAK","break",354],";",["T_WHITESPACE","\n\n                        ",354],["T_CASE","case",356],["T_WHITESPACE"," ",356],["T_CONSTANT_ENCAPSED_STRING","'False'",356],":",["T_WHITESPACE","\n                            ",356],["T_VARIABLE","$this",357],["T_OBJECT_OPERATOR","->",357],["T_STRING","properties",357],"[",["T_CONSTANT_ENCAPSED_STRING","'Trapped'",357],"]",["T_WHITESPACE"," ",357],"=",["T_WHITESPACE"," ",357],["T_STRING","false",357],";",["T_WHITESPACE","\n                            ",357],["T_BREAK","break",358],";",["T_WHITESPACE","\n\n                        ",358],["T_CASE","case",360],["T_WHITESPACE"," ",360],["T_CONSTANT_ENCAPSED_STRING","'Unknown'",360],":",["T_WHITESPACE","\n                            ",360],["T_VARIABLE","$this",361],["T_OBJECT_OPERATOR","->",361],["T_STRING","properties",361],"[",["T_CONSTANT_ENCAPSED_STRING","'Trapped'",361],"]",["T_WHITESPACE"," ",361],"=",["T_WHITESPACE"," ",361],["T_STRING","null",361],";",["T_WHITESPACE","\n                            ",361],["T_BREAK","break",362],";",["T_WHITESPACE","\n\n                        ",362],["T_DEFAULT","default",364],":",["T_WHITESPACE","\n                            ",364],["T_COMMENT","\/\/ Wrong property value\n",365],["T_WHITESPACE","                            ",366],["T_COMMENT","\/\/ Do nothing\n",366],["T_WHITESPACE","                            ",367],["T_BREAK","break",367],";",["T_WHITESPACE","\n                    ",367],"}",["T_WHITESPACE","\n                ",368],"}",["T_WHITESPACE","\n\n                ",369],["T_VARIABLE","$this",371],["T_OBJECT_OPERATOR","->",371],["T_STRING","_originalProperties",371],["T_WHITESPACE"," ",371],"=",["T_WHITESPACE"," ",371],["T_VARIABLE","$this",371],["T_OBJECT_OPERATOR","->",371],["T_STRING","properties",371],";",["T_WHITESPACE","\n            ",371],"}",["T_WHITESPACE","\n\n            ",372],["T_VARIABLE","$this",374],["T_OBJECT_OPERATOR","->",374],["T_STRING","_isNewDocument",374],["T_WHITESPACE"," ",374],"=",["T_WHITESPACE"," ",374],["T_STRING","false",374],";",["T_WHITESPACE","\n        ",374],"}",["T_WHITESPACE"," ",375],["T_ELSE","else",375],["T_WHITESPACE"," ",375],"{",["T_WHITESPACE","\n            ",375],["T_VARIABLE","$this",376],["T_OBJECT_OPERATOR","->",376],["T_STRING","_pdfHeaderVersion",376],["T_WHITESPACE"," ",376],"=",["T_WHITESPACE"," ",376],["T_STRING","Zend_Pdf",376],["T_DOUBLE_COLON","::",376],["T_STRING","PDF_VERSION",376],";",["T_WHITESPACE","\n\n            ",376],["T_VARIABLE","$trailerDictionary",378],["T_WHITESPACE"," ",378],"=",["T_WHITESPACE"," ",378],["T_NEW","new",378],["T_WHITESPACE"," ",378],["T_STRING","Zend_Pdf_Element_Dictionary",378],"(",")",";",["T_WHITESPACE","\n\n            ",378],["T_DOC_COMMENT","\/**\n             * Document id\n             *\/",380],["T_WHITESPACE","\n            ",382],["T_VARIABLE","$docId",383],["T_WHITESPACE"," ",383],"=",["T_WHITESPACE"," ",383],["T_STRING","md5",383],"(",["T_STRING","uniqid",383],"(",["T_STRING","rand",383],"(",")",",",["T_WHITESPACE"," ",383],["T_STRING","true",383],")",")",";",["T_WHITESPACE","   ",383],["T_COMMENT","\/\/ 32 byte (128 bit) identifier\n",383],["T_WHITESPACE","            ",384],["T_VARIABLE","$docIdLow",384],["T_WHITESPACE","  ",384],"=",["T_WHITESPACE"," ",384],["T_STRING","substr",384],"(",["T_VARIABLE","$docId",384],",",["T_WHITESPACE","  ",384],["T_LNUMBER","0",384],",",["T_WHITESPACE"," ",384],["T_LNUMBER","16",384],")",";",["T_WHITESPACE","  ",384],["T_COMMENT","\/\/ first 16 bytes\n",384],["T_WHITESPACE","            ",385],["T_VARIABLE","$docIdHigh",385],["T_WHITESPACE"," ",385],"=",["T_WHITESPACE"," ",385],["T_STRING","substr",385],"(",["T_VARIABLE","$docId",385],",",["T_WHITESPACE"," ",385],["T_LNUMBER","16",385],",",["T_WHITESPACE"," ",385],["T_LNUMBER","16",385],")",";",["T_WHITESPACE","  ",385],["T_COMMENT","\/\/ second 16 bytes\n",385],["T_WHITESPACE","\n            ",386],["T_VARIABLE","$trailerDictionary",387],["T_OBJECT_OPERATOR","->",387],["T_STRING","ID",387],["T_WHITESPACE"," ",387],"=",["T_WHITESPACE"," ",387],["T_NEW","new",387],["T_WHITESPACE"," ",387],["T_STRING","Zend_Pdf_Element_Array",387],"(",")",";",["T_WHITESPACE","\n            ",387],["T_VARIABLE","$trailerDictionary",388],["T_OBJECT_OPERATOR","->",388],["T_STRING","ID",388],["T_OBJECT_OPERATOR","->",388],["T_STRING","items",388],"[","]",["T_WHITESPACE"," ",388],"=",["T_WHITESPACE"," ",388],["T_NEW","new",388],["T_WHITESPACE"," ",388],["T_STRING","Zend_Pdf_Element_String_Binary",388],"(",["T_VARIABLE","$docIdLow",388],")",";",["T_WHITESPACE","\n            ",388],["T_VARIABLE","$trailerDictionary",389],["T_OBJECT_OPERATOR","->",389],["T_STRING","ID",389],["T_OBJECT_OPERATOR","->",389],["T_STRING","items",389],"[","]",["T_WHITESPACE"," ",389],"=",["T_WHITESPACE"," ",389],["T_NEW","new",389],["T_WHITESPACE"," ",389],["T_STRING","Zend_Pdf_Element_String_Binary",389],"(",["T_VARIABLE","$docIdHigh",389],")",";",["T_WHITESPACE","\n\n            ",389],["T_VARIABLE","$trailerDictionary",391],["T_OBJECT_OPERATOR","->",391],["T_STRING","Size",391],["T_WHITESPACE"," ",391],"=",["T_WHITESPACE"," ",391],["T_NEW","new",391],["T_WHITESPACE"," ",391],["T_STRING","Zend_Pdf_Element_Numeric",391],"(",["T_LNUMBER","0",391],")",";",["T_WHITESPACE","\n\n            ",391],["T_COMMENT","#require_once 'Zend\/Pdf\/Trailer\/Generator.php';\n",393],["T_WHITESPACE","            ",394],["T_VARIABLE","$this",394],["T_OBJECT_OPERATOR","->",394],["T_STRING","_trailer",394],["T_WHITESPACE"," ",394],"=",["T_WHITESPACE"," ",394],["T_NEW","new",394],["T_WHITESPACE"," ",394],["T_STRING","Zend_Pdf_Trailer_Generator",394],"(",["T_VARIABLE","$trailerDictionary",394],")",";",["T_WHITESPACE","\n\n            ",394],["T_DOC_COMMENT","\/**\n             * Document catalog indirect object.\n             *\/",396],["T_WHITESPACE","\n            ",398],["T_VARIABLE","$docCatalog",399],["T_WHITESPACE"," ",399],"=",["T_WHITESPACE"," ",399],["T_VARIABLE","$this",399],["T_OBJECT_OPERATOR","->",399],["T_STRING","_objFactory",399],["T_OBJECT_OPERATOR","->",399],["T_STRING","newObject",399],"(",["T_NEW","new",399],["T_WHITESPACE"," ",399],["T_STRING","Zend_Pdf_Element_Dictionary",399],"(",")",")",";",["T_WHITESPACE","\n            ",399],["T_VARIABLE","$docCatalog",400],["T_OBJECT_OPERATOR","->",400],["T_STRING","Type",400],["T_WHITESPACE","    ",400],"=",["T_WHITESPACE"," ",400],["T_NEW","new",400],["T_WHITESPACE"," ",400],["T_STRING","Zend_Pdf_Element_Name",400],"(",["T_CONSTANT_ENCAPSED_STRING","'Catalog'",400],")",";",["T_WHITESPACE","\n            ",400],["T_VARIABLE","$docCatalog",401],["T_OBJECT_OPERATOR","->",401],["T_STRING","Version",401],["T_WHITESPACE"," ",401],"=",["T_WHITESPACE"," ",401],["T_NEW","new",401],["T_WHITESPACE"," ",401],["T_STRING","Zend_Pdf_Element_Name",401],"(",["T_STRING","Zend_Pdf",401],["T_DOUBLE_COLON","::",401],["T_STRING","PDF_VERSION",401],")",";",["T_WHITESPACE","\n            ",401],["T_VARIABLE","$this",402],["T_OBJECT_OPERATOR","->",402],["T_STRING","_trailer",402],["T_OBJECT_OPERATOR","->",402],["T_STRING","Root",402],["T_WHITESPACE"," ",402],"=",["T_WHITESPACE"," ",402],["T_VARIABLE","$docCatalog",402],";",["T_WHITESPACE","\n\n            ",402],["T_DOC_COMMENT","\/**\n             * Pages container\n             *\/",404],["T_WHITESPACE","\n            ",406],["T_VARIABLE","$docPages",407],["T_WHITESPACE"," ",407],"=",["T_WHITESPACE"," ",407],["T_VARIABLE","$this",407],["T_OBJECT_OPERATOR","->",407],["T_STRING","_objFactory",407],["T_OBJECT_OPERATOR","->",407],["T_STRING","newObject",407],"(",["T_NEW","new",407],["T_WHITESPACE"," ",407],["T_STRING","Zend_Pdf_Element_Dictionary",407],"(",")",")",";",["T_WHITESPACE","\n            ",407],["T_VARIABLE","$docPages",408],["T_OBJECT_OPERATOR","->",408],["T_STRING","Type",408],["T_WHITESPACE","  ",408],"=",["T_WHITESPACE"," ",408],["T_NEW","new",408],["T_WHITESPACE"," ",408],["T_STRING","Zend_Pdf_Element_Name",408],"(",["T_CONSTANT_ENCAPSED_STRING","'Pages'",408],")",";",["T_WHITESPACE","\n            ",408],["T_VARIABLE","$docPages",409],["T_OBJECT_OPERATOR","->",409],["T_STRING","Kids",409],["T_WHITESPACE","  ",409],"=",["T_WHITESPACE"," ",409],["T_NEW","new",409],["T_WHITESPACE"," ",409],["T_STRING","Zend_Pdf_Element_Array",409],"(",")",";",["T_WHITESPACE","\n            ",409],["T_VARIABLE","$docPages",410],["T_OBJECT_OPERATOR","->",410],["T_STRING","Count",410],["T_WHITESPACE"," ",410],"=",["T_WHITESPACE"," ",410],["T_NEW","new",410],["T_WHITESPACE"," ",410],["T_STRING","Zend_Pdf_Element_Numeric",410],"(",["T_LNUMBER","0",410],")",";",["T_WHITESPACE","\n            ",410],["T_VARIABLE","$docCatalog",411],["T_OBJECT_OPERATOR","->",411],["T_STRING","Pages",411],["T_WHITESPACE"," ",411],"=",["T_WHITESPACE"," ",411],["T_VARIABLE","$docPages",411],";",["T_WHITESPACE","\n        ",411],"}",["T_WHITESPACE","\n    ",412],"}",["T_WHITESPACE","\n\n    ",413],["T_DOC_COMMENT","\/**\n     * Retrive number of revisions.\n     *\n     * @return integer\n     *\/",415],["T_WHITESPACE","\n    ",419],["T_PUBLIC","public",420],["T_WHITESPACE"," ",420],["T_FUNCTION","function",420],["T_WHITESPACE"," ",420],["T_STRING","revisions",420],"(",")",["T_WHITESPACE","\n    ",420],"{",["T_WHITESPACE","\n        ",421],["T_VARIABLE","$revisions",422],["T_WHITESPACE"," ",422],"=",["T_WHITESPACE"," ",422],["T_LNUMBER","1",422],";",["T_WHITESPACE","\n        ",422],["T_VARIABLE","$currentTrailer",423],["T_WHITESPACE"," ",423],"=",["T_WHITESPACE"," ",423],["T_VARIABLE","$this",423],["T_OBJECT_OPERATOR","->",423],["T_STRING","_trailer",423],";",["T_WHITESPACE","\n\n        ",423],["T_WHILE","while",425],["T_WHITESPACE"," ",425],"(",["T_VARIABLE","$currentTrailer",425],["T_OBJECT_OPERATOR","->",425],["T_STRING","getPrev",425],"(",")",["T_WHITESPACE"," ",425],["T_IS_NOT_IDENTICAL","!==",425],["T_WHITESPACE"," ",425],["T_STRING","null",425],["T_WHITESPACE"," ",425],["T_BOOLEAN_AND","&&",425],["T_WHITESPACE"," ",425],["T_VARIABLE","$currentTrailer",425],["T_OBJECT_OPERATOR","->",425],["T_STRING","getPrev",425],"(",")",["T_OBJECT_OPERATOR","->",425],["T_STRING","Root",425],["T_WHITESPACE"," ",425],["T_IS_NOT_IDENTICAL","!==",425],["T_WHITESPACE"," ",425],["T_STRING","null",425],["T_WHITESPACE"," ",425],")",["T_WHITESPACE"," ",425],"{",["T_WHITESPACE","\n            ",425],["T_VARIABLE","$revisions",426],["T_INC","++",426],";",["T_WHITESPACE","\n            ",426],["T_VARIABLE","$currentTrailer",427],["T_WHITESPACE"," ",427],"=",["T_WHITESPACE"," ",427],["T_VARIABLE","$currentTrailer",427],["T_OBJECT_OPERATOR","->",427],["T_STRING","getPrev",427],"(",")",";",["T_WHITESPACE","\n        ",427],"}",["T_WHITESPACE","\n\n        ",428],["T_RETURN","return",430],["T_WHITESPACE"," ",430],["T_VARIABLE","$revisions",430],["T_INC","++",430],";",["T_WHITESPACE","\n    ",430],"}",["T_WHITESPACE","\n\n    ",431],["T_DOC_COMMENT","\/**\n     * Rollback document $steps number of revisions.\n     * This method must be invoked before any changes, applied to the document.\n     * Otherwise behavior is undefined.\n     *\n     * @param integer $steps\n     *\/",433],["T_WHITESPACE","\n    ",439],["T_PUBLIC","public",440],["T_WHITESPACE"," ",440],["T_FUNCTION","function",440],["T_WHITESPACE"," ",440],["T_STRING","rollback",440],"(",["T_VARIABLE","$steps",440],")",["T_WHITESPACE","\n    ",440],"{",["T_WHITESPACE","\n        ",441],["T_FOR","for",442],["T_WHITESPACE"," ",442],"(",["T_VARIABLE","$count",442],["T_WHITESPACE"," ",442],"=",["T_WHITESPACE"," ",442],["T_LNUMBER","0",442],";",["T_WHITESPACE"," ",442],["T_VARIABLE","$count",442],["T_WHITESPACE"," ",442],"<",["T_WHITESPACE"," ",442],["T_VARIABLE","$steps",442],";",["T_WHITESPACE"," ",442],["T_VARIABLE","$count",442],["T_INC","++",442],")",["T_WHITESPACE"," ",442],"{",["T_WHITESPACE","\n            ",442],["T_IF","if",443],["T_WHITESPACE"," ",443],"(",["T_VARIABLE","$this",443],["T_OBJECT_OPERATOR","->",443],["T_STRING","_trailer",443],["T_OBJECT_OPERATOR","->",443],["T_STRING","getPrev",443],"(",")",["T_WHITESPACE"," ",443],["T_IS_NOT_IDENTICAL","!==",443],["T_WHITESPACE"," ",443],["T_STRING","null",443],["T_WHITESPACE"," ",443],["T_BOOLEAN_AND","&&",443],["T_WHITESPACE"," ",443],["T_VARIABLE","$this",443],["T_OBJECT_OPERATOR","->",443],["T_STRING","_trailer",443],["T_OBJECT_OPERATOR","->",443],["T_STRING","getPrev",443],"(",")",["T_OBJECT_OPERATOR","->",443],["T_STRING","Root",443],["T_WHITESPACE"," ",443],["T_IS_NOT_IDENTICAL","!==",443],["T_WHITESPACE"," ",443],["T_STRING","null",443],")",["T_WHITESPACE"," ",443],"{",["T_WHITESPACE","\n                ",443],["T_VARIABLE","$this",444],["T_OBJECT_OPERATOR","->",444],["T_STRING","_trailer",444],["T_WHITESPACE"," ",444],"=",["T_WHITESPACE"," ",444],["T_VARIABLE","$this",444],["T_OBJECT_OPERATOR","->",444],["T_STRING","_trailer",444],["T_OBJECT_OPERATOR","->",444],["T_STRING","getPrev",444],"(",")",";",["T_WHITESPACE","\n            ",444],"}",["T_WHITESPACE"," ",445],["T_ELSE","else",445],["T_WHITESPACE"," ",445],"{",["T_WHITESPACE","\n                ",445],["T_BREAK","break",446],";",["T_WHITESPACE","\n            ",446],"}",["T_WHITESPACE","\n        ",447],"}",["T_WHITESPACE","\n        ",448],["T_VARIABLE","$this",449],["T_OBJECT_OPERATOR","->",449],["T_STRING","_objFactory",449],["T_OBJECT_OPERATOR","->",449],["T_STRING","setObjectCount",449],"(",["T_VARIABLE","$this",449],["T_OBJECT_OPERATOR","->",449],["T_STRING","_trailer",449],["T_OBJECT_OPERATOR","->",449],["T_STRING","Size",449],["T_OBJECT_OPERATOR","->",449],["T_STRING","value",449],")",";",["T_WHITESPACE","\n\n        ",449],["T_COMMENT","\/\/ Mark content as modified to force new trailer generation at render time\n",451],["T_WHITESPACE","        ",452],["T_VARIABLE","$this",452],["T_OBJECT_OPERATOR","->",452],["T_STRING","_trailer",452],["T_OBJECT_OPERATOR","->",452],["T_STRING","Root",452],["T_OBJECT_OPERATOR","->",452],["T_STRING","touch",452],"(",")",";",["T_WHITESPACE","\n\n        ",452],["T_VARIABLE","$this",454],["T_OBJECT_OPERATOR","->",454],["T_STRING","pages",454],["T_WHITESPACE"," ",454],"=",["T_WHITESPACE"," ",454],["T_ARRAY","array",454],"(",")",";",["T_WHITESPACE","\n        ",454],["T_VARIABLE","$this",455],["T_OBJECT_OPERATOR","->",455],["T_STRING","_loadPages",455],"(",["T_VARIABLE","$this",455],["T_OBJECT_OPERATOR","->",455],["T_STRING","_trailer",455],["T_OBJECT_OPERATOR","->",455],["T_STRING","Root",455],["T_OBJECT_OPERATOR","->",455],["T_STRING","Pages",455],")",";",["T_WHITESPACE","\n    ",455],"}",["T_WHITESPACE","\n\n    ",456],["T_DOC_COMMENT","\/**\n     * Load pages recursively\n     *\n     * @param Zend_Pdf_Element_Reference $pages\n     * @param array|null                 $attributes\n     * @throws Zend_Pdf_Exception\n     *\/",458],["T_WHITESPACE","\n    ",464],["T_PROTECTED","protected",465],["T_WHITESPACE"," ",465],["T_FUNCTION","function",465],["T_WHITESPACE"," ",465],["T_STRING","_loadPages",465],"(",["T_STRING","Zend_Pdf_Element_Reference",465],["T_WHITESPACE"," ",465],["T_VARIABLE","$pages",465],",",["T_WHITESPACE"," ",465],["T_VARIABLE","$attributes",465],["T_WHITESPACE"," ",465],"=",["T_WHITESPACE"," ",465],["T_ARRAY","array",465],"(",")",")",["T_WHITESPACE","\n    ",465],"{",["T_WHITESPACE","\n        ",466],["T_IF","if",467],["T_WHITESPACE"," ",467],"(",["T_VARIABLE","$pages",467],["T_OBJECT_OPERATOR","->",467],["T_STRING","getType",467],"(",")",["T_WHITESPACE"," ",467],["T_IS_NOT_EQUAL","!=",467],["T_WHITESPACE"," ",467],["T_STRING","Zend_Pdf_Element",467],["T_DOUBLE_COLON","::",467],["T_STRING","TYPE_DICTIONARY",467],")",["T_WHITESPACE"," ",467],"{",["T_WHITESPACE","\n            ",467],["T_COMMENT","#require_once 'Zend\/Pdf\/Exception.php';\n",468],["T_WHITESPACE","            ",469],["T_THROW","throw",469],["T_WHITESPACE"," ",469],["T_NEW","new",469],["T_WHITESPACE"," ",469],["T_STRING","Zend_Pdf_Exception",469],"(",["T_CONSTANT_ENCAPSED_STRING","'Wrong argument'",469],")",";",["T_WHITESPACE","\n        ",469],"}",["T_WHITESPACE","\n\n        ",470],["T_FOREACH","foreach",472],["T_WHITESPACE"," ",472],"(",["T_VARIABLE","$pages",472],["T_OBJECT_OPERATOR","->",472],["T_STRING","getKeys",472],"(",")",["T_WHITESPACE"," ",472],["T_AS","as",472],["T_WHITESPACE"," ",472],["T_VARIABLE","$property",472],")",["T_WHITESPACE"," ",472],"{",["T_WHITESPACE","\n            ",472],["T_IF","if",473],["T_WHITESPACE"," ",473],"(",["T_STRING","in_array",473],"(",["T_VARIABLE","$property",473],",",["T_WHITESPACE"," ",473],["T_STRING","self",473],["T_DOUBLE_COLON","::",473],["T_VARIABLE","$_inheritableAttributes",473],")",")",["T_WHITESPACE"," ",473],"{",["T_WHITESPACE","\n                ",473],["T_VARIABLE","$attributes",474],"[",["T_VARIABLE","$property",474],"]",["T_WHITESPACE"," ",474],"=",["T_WHITESPACE"," ",474],["T_VARIABLE","$pages",474],["T_OBJECT_OPERATOR","->",474],["T_VARIABLE","$property",474],";",["T_WHITESPACE","\n                ",474],["T_VARIABLE","$pages",475],["T_OBJECT_OPERATOR","->",475],["T_VARIABLE","$property",475],["T_WHITESPACE"," ",475],"=",["T_WHITESPACE"," ",475],["T_STRING","null",475],";",["T_WHITESPACE","\n            ",475],"}",["T_WHITESPACE","\n        ",476],"}",["T_WHITESPACE","\n\n\n        ",477],["T_FOREACH","foreach",480],["T_WHITESPACE"," ",480],"(",["T_VARIABLE","$pages",480],["T_OBJECT_OPERATOR","->",480],["T_STRING","Kids",480],["T_OBJECT_OPERATOR","->",480],["T_STRING","items",480],["T_WHITESPACE"," ",480],["T_AS","as",480],["T_WHITESPACE"," ",480],["T_VARIABLE","$child",480],")",["T_WHITESPACE"," ",480],"{",["T_WHITESPACE","\n            ",480],["T_IF","if",481],["T_WHITESPACE"," ",481],"(",["T_VARIABLE","$child",481],["T_OBJECT_OPERATOR","->",481],["T_STRING","Type",481],["T_OBJECT_OPERATOR","->",481],["T_STRING","value",481],["T_WHITESPACE"," ",481],["T_IS_EQUAL","==",481],["T_WHITESPACE"," ",481],["T_CONSTANT_ENCAPSED_STRING","'Pages'",481],")",["T_WHITESPACE"," ",481],"{",["T_WHITESPACE","\n                ",481],["T_VARIABLE","$this",482],["T_OBJECT_OPERATOR","->",482],["T_STRING","_loadPages",482],"(",["T_VARIABLE","$child",482],",",["T_WHITESPACE"," ",482],["T_VARIABLE","$attributes",482],")",";",["T_WHITESPACE","\n            ",482],"}",["T_WHITESPACE"," ",483],["T_ELSE","else",483],["T_WHITESPACE"," ",483],["T_IF","if",483],["T_WHITESPACE"," ",483],"(",["T_VARIABLE","$child",483],["T_OBJECT_OPERATOR","->",483],["T_STRING","Type",483],["T_OBJECT_OPERATOR","->",483],["T_STRING","value",483],["T_WHITESPACE"," ",483],["T_IS_EQUAL","==",483],["T_WHITESPACE"," ",483],["T_CONSTANT_ENCAPSED_STRING","'Page'",483],")",["T_WHITESPACE"," ",483],"{",["T_WHITESPACE","\n                ",483],["T_FOREACH","foreach",484],["T_WHITESPACE"," ",484],"(",["T_STRING","self",484],["T_DOUBLE_COLON","::",484],["T_VARIABLE","$_inheritableAttributes",484],["T_WHITESPACE"," ",484],["T_AS","as",484],["T_WHITESPACE"," ",484],["T_VARIABLE","$property",484],")",["T_WHITESPACE"," ",484],"{",["T_WHITESPACE","\n                    ",484],["T_IF","if",485],["T_WHITESPACE"," ",485],"(",["T_VARIABLE","$child",485],["T_OBJECT_OPERATOR","->",485],["T_VARIABLE","$property",485],["T_WHITESPACE"," ",485],["T_IS_IDENTICAL","===",485],["T_WHITESPACE"," ",485],["T_STRING","null",485],["T_WHITESPACE"," ",485],["T_BOOLEAN_AND","&&",485],["T_WHITESPACE"," ",485],["T_STRING","array_key_exists",485],"(",["T_VARIABLE","$property",485],",",["T_WHITESPACE"," ",485],["T_VARIABLE","$attributes",485],")",")",["T_WHITESPACE"," ",485],"{",["T_WHITESPACE","\n                        ",485],["T_DOC_COMMENT","\/**\n                         * Important note.\n                         * If any attribute or dependant object is an indirect object, then it's still\n                         * shared between pages.\n                         *\/",486],["T_WHITESPACE","\n                        ",490],["T_IF","if",491],["T_WHITESPACE"," ",491],"(",["T_VARIABLE","$attributes",491],"[",["T_VARIABLE","$property",491],"]",["T_WHITESPACE"," ",491],["T_INSTANCEOF","instanceof",491],["T_WHITESPACE"," ",491],["T_STRING","Zend_Pdf_Element_Object",491],["T_WHITESPACE","  ",491],["T_BOOLEAN_OR","||",491],["T_WHITESPACE","\n                            ",491],["T_VARIABLE","$attributes",492],"[",["T_VARIABLE","$property",492],"]",["T_WHITESPACE"," ",492],["T_INSTANCEOF","instanceof",492],["T_WHITESPACE"," ",492],["T_STRING","Zend_Pdf_Element_Reference",492],")",["T_WHITESPACE"," ",492],"{",["T_WHITESPACE","\n                            ",492],["T_VARIABLE","$child",493],["T_OBJECT_OPERATOR","->",493],["T_VARIABLE","$property",493],["T_WHITESPACE"," ",493],"=",["T_WHITESPACE"," ",493],["T_VARIABLE","$attributes",493],"[",["T_VARIABLE","$property",493],"]",";",["T_WHITESPACE","\n                        ",493],"}",["T_WHITESPACE"," ",494],["T_ELSE","else",494],["T_WHITESPACE"," ",494],"{",["T_WHITESPACE","\n                            ",494],["T_VARIABLE","$child",495],["T_OBJECT_OPERATOR","->",495],["T_VARIABLE","$property",495],["T_WHITESPACE"," ",495],"=",["T_WHITESPACE"," ",495],["T_VARIABLE","$this",495],["T_OBJECT_OPERATOR","->",495],["T_STRING","_objFactory",495],["T_OBJECT_OPERATOR","->",495],["T_STRING","newObject",495],"(",["T_VARIABLE","$attributes",495],"[",["T_VARIABLE","$property",495],"]",")",";",["T_WHITESPACE","\n                        ",495],"}",["T_WHITESPACE","\n                    ",496],"}",["T_WHITESPACE","\n                ",497],"}",["T_WHITESPACE","\n\n                ",498],["T_COMMENT","#require_once 'Zend\/Pdf\/Page.php';\n",500],["T_WHITESPACE","                ",501],["T_VARIABLE","$this",501],["T_OBJECT_OPERATOR","->",501],["T_STRING","pages",501],"[","]",["T_WHITESPACE"," ",501],"=",["T_WHITESPACE"," ",501],["T_NEW","new",501],["T_WHITESPACE"," ",501],["T_STRING","Zend_Pdf_Page",501],"(",["T_VARIABLE","$child",501],",",["T_WHITESPACE"," ",501],["T_VARIABLE","$this",501],["T_OBJECT_OPERATOR","->",501],["T_STRING","_objFactory",501],")",";",["T_WHITESPACE","\n            ",501],"}",["T_WHITESPACE","\n        ",502],"}",["T_WHITESPACE","\n    ",503],"}",["T_WHITESPACE","\n\n    ",504],["T_DOC_COMMENT","\/**\n     * Load named destinations recursively\n     *\n     * @param Zend_Pdf_Element_Reference $root Document catalog entry\n     * @param string $pdfHeaderVersion\n     * @throws Zend_Pdf_Exception\n     *\/",506],["T_WHITESPACE","\n    ",512],["T_PROTECTED","protected",513],["T_WHITESPACE"," ",513],["T_FUNCTION","function",513],["T_WHITESPACE"," ",513],["T_STRING","_loadNamedDestinations",513],"(",["T_STRING","Zend_Pdf_Element_Reference",513],["T_WHITESPACE"," ",513],["T_VARIABLE","$root",513],",",["T_WHITESPACE"," ",513],["T_VARIABLE","$pdfHeaderVersion",513],")",["T_WHITESPACE","\n    ",513],"{",["T_WHITESPACE","\n        ",514],["T_IF","if",515],["T_WHITESPACE"," ",515],"(",["T_VARIABLE","$root",515],["T_OBJECT_OPERATOR","->",515],["T_STRING","Version",515],["T_WHITESPACE"," ",515],["T_IS_NOT_IDENTICAL","!==",515],["T_WHITESPACE"," ",515],["T_STRING","null",515],["T_WHITESPACE","  ",515],["T_BOOLEAN_AND","&&",515],["T_WHITESPACE","  ",515],["T_STRING","version_compare",515],"(",["T_VARIABLE","$root",515],["T_OBJECT_OPERATOR","->",515],["T_STRING","Version",515],["T_OBJECT_OPERATOR","->",515],["T_STRING","value",515],",",["T_WHITESPACE"," ",515],["T_VARIABLE","$pdfHeaderVersion",515],",",["T_WHITESPACE"," ",515],["T_CONSTANT_ENCAPSED_STRING","'>'",515],")",")",["T_WHITESPACE"," ",515],"{",["T_WHITESPACE","\n            ",515],["T_VARIABLE","$versionIs_1_2_plus",516],["T_WHITESPACE"," ",516],"=",["T_WHITESPACE"," ",516],["T_STRING","version_compare",516],"(",["T_VARIABLE","$root",516],["T_OBJECT_OPERATOR","->",516],["T_STRING","Version",516],["T_OBJECT_OPERATOR","->",516],["T_STRING","value",516],",",["T_WHITESPACE","    ",516],["T_CONSTANT_ENCAPSED_STRING","'1.1'",516],",",["T_WHITESPACE"," ",516],["T_CONSTANT_ENCAPSED_STRING","'>'",516],")",";",["T_WHITESPACE","\n        ",516],"}",["T_WHITESPACE"," ",517],["T_ELSE","else",517],["T_WHITESPACE"," ",517],"{",["T_WHITESPACE","\n            ",517],["T_VARIABLE","$versionIs_1_2_plus",518],["T_WHITESPACE"," ",518],"=",["T_WHITESPACE"," ",518],["T_STRING","version_compare",518],"(",["T_VARIABLE","$pdfHeaderVersion",518],",",["T_WHITESPACE"," ",518],["T_CONSTANT_ENCAPSED_STRING","'1.1'",518],",",["T_WHITESPACE"," ",518],["T_CONSTANT_ENCAPSED_STRING","'>'",518],")",";",["T_WHITESPACE","\n        ",518],"}",["T_WHITESPACE","\n\n        ",519],["T_IF","if",521],["T_WHITESPACE"," ",521],"(",["T_VARIABLE","$versionIs_1_2_plus",521],")",["T_WHITESPACE"," ",521],"{",["T_WHITESPACE","\n            ",521],["T_COMMENT","\/\/ PDF version is 1.2+\n",522],["T_WHITESPACE","            ",523],["T_COMMENT","\/\/ Look for Destinations structure at Name dictionary\n",523],["T_WHITESPACE","            ",524],["T_IF","if",524],["T_WHITESPACE"," ",524],"(",["T_VARIABLE","$root",524],["T_OBJECT_OPERATOR","->",524],["T_STRING","Names",524],["T_WHITESPACE"," ",524],["T_IS_NOT_IDENTICAL","!==",524],["T_WHITESPACE"," ",524],["T_STRING","null",524],["T_WHITESPACE","  ",524],["T_BOOLEAN_AND","&&",524],["T_WHITESPACE","  ",524],["T_VARIABLE","$root",524],["T_OBJECT_OPERATOR","->",524],["T_STRING","Names",524],["T_OBJECT_OPERATOR","->",524],["T_STRING","Dests",524],["T_WHITESPACE"," ",524],["T_IS_NOT_IDENTICAL","!==",524],["T_WHITESPACE"," ",524],["T_STRING","null",524],")",["T_WHITESPACE"," ",524],"{",["T_WHITESPACE","\n                ",524],["T_COMMENT","#require_once 'Zend\/Pdf\/NameTree.php';\n",525],["T_WHITESPACE","                ",526],["T_COMMENT","#require_once 'Zend\/Pdf\/Target.php';\n",526],["T_WHITESPACE","                ",527],["T_FOREACH","foreach",527],["T_WHITESPACE"," ",527],"(",["T_NEW","new",527],["T_WHITESPACE"," ",527],["T_STRING","Zend_Pdf_NameTree",527],"(",["T_VARIABLE","$root",527],["T_OBJECT_OPERATOR","->",527],["T_STRING","Names",527],["T_OBJECT_OPERATOR","->",527],["T_STRING","Dests",527],")",["T_WHITESPACE"," ",527],["T_AS","as",527],["T_WHITESPACE"," ",527],["T_VARIABLE","$name",527],["T_WHITESPACE"," ",527],["T_DOUBLE_ARROW","=>",527],["T_WHITESPACE"," ",527],["T_VARIABLE","$destination",527],")",["T_WHITESPACE"," ",527],"{",["T_WHITESPACE","\n                    ",527],["T_VARIABLE","$this",528],["T_OBJECT_OPERATOR","->",528],["T_STRING","_namedTargets",528],"[",["T_VARIABLE","$name",528],"]",["T_WHITESPACE"," ",528],"=",["T_WHITESPACE"," ",528],["T_STRING","Zend_Pdf_Target",528],["T_DOUBLE_COLON","::",528],["T_STRING","load",528],"(",["T_VARIABLE","$destination",528],")",";",["T_WHITESPACE","\n                ",528],"}",["T_WHITESPACE","\n            ",529],"}",["T_WHITESPACE","\n        ",530],"}",["T_WHITESPACE"," ",531],["T_ELSE","else",531],["T_WHITESPACE"," ",531],"{",["T_WHITESPACE","\n            ",531],["T_COMMENT","\/\/ PDF version is 1.1 (or earlier)\n",532],["T_WHITESPACE","            ",533],["T_COMMENT","\/\/ Look for Destinations sructure at Dest entry of document catalog\n",533],["T_WHITESPACE","            ",534],["T_IF","if",534],["T_WHITESPACE"," ",534],"(",["T_VARIABLE","$root",534],["T_OBJECT_OPERATOR","->",534],["T_STRING","Dests",534],["T_WHITESPACE"," ",534],["T_IS_NOT_IDENTICAL","!==",534],["T_WHITESPACE"," ",534],["T_STRING","null",534],")",["T_WHITESPACE"," ",534],"{",["T_WHITESPACE","\n                ",534],["T_IF","if",535],["T_WHITESPACE"," ",535],"(",["T_VARIABLE","$root",535],["T_OBJECT_OPERATOR","->",535],["T_STRING","Dests",535],["T_OBJECT_OPERATOR","->",535],["T_STRING","getType",535],"(",")",["T_WHITESPACE"," ",535],["T_IS_NOT_EQUAL","!=",535],["T_WHITESPACE"," ",535],["T_STRING","Zend_Pdf_Element",535],["T_DOUBLE_COLON","::",535],["T_STRING","TYPE_DICTIONARY",535],")",["T_WHITESPACE"," ",535],"{",["T_WHITESPACE","\n                    ",535],["T_COMMENT","#require_once 'Zend\/Pdf\/Exception.php';\n",536],["T_WHITESPACE","                    ",537],["T_THROW","throw",537],["T_WHITESPACE"," ",537],["T_NEW","new",537],["T_WHITESPACE"," ",537],["T_STRING","Zend_Pdf_Exception",537],"(",["T_CONSTANT_ENCAPSED_STRING","'Document catalog Dests entry must be a dictionary.'",537],")",";",["T_WHITESPACE","\n                ",537],"}",["T_WHITESPACE","\n\n                ",538],["T_COMMENT","#require_once 'Zend\/Pdf\/Target.php';\n",540],["T_WHITESPACE","                ",541],["T_FOREACH","foreach",541],["T_WHITESPACE"," ",541],"(",["T_VARIABLE","$root",541],["T_OBJECT_OPERATOR","->",541],["T_STRING","Dests",541],["T_OBJECT_OPERATOR","->",541],["T_STRING","getKeys",541],"(",")",["T_WHITESPACE"," ",541],["T_AS","as",541],["T_WHITESPACE"," ",541],["T_VARIABLE","$destKey",541],")",["T_WHITESPACE"," ",541],"{",["T_WHITESPACE","\n                    ",541],["T_VARIABLE","$this",542],["T_OBJECT_OPERATOR","->",542],["T_STRING","_namedTargets",542],"[",["T_VARIABLE","$destKey",542],"]",["T_WHITESPACE"," ",542],"=",["T_WHITESPACE"," ",542],["T_STRING","Zend_Pdf_Target",542],["T_DOUBLE_COLON","::",542],["T_STRING","load",542],"(",["T_VARIABLE","$root",542],["T_OBJECT_OPERATOR","->",542],["T_STRING","Dests",542],["T_OBJECT_OPERATOR","->",542],["T_VARIABLE","$destKey",542],")",";",["T_WHITESPACE","\n                ",542],"}",["T_WHITESPACE","\n            ",543],"}",["T_WHITESPACE","\n        ",544],"}",["T_WHITESPACE","\n    ",545],"}",["T_WHITESPACE","\n\n    ",546],["T_DOC_COMMENT","\/**\n     * Load outlines recursively\n     *\n     * @param Zend_Pdf_Element_Reference $root Document catalog entry\n     * @throws Zend_Pdf_Exception\n     *\/",548],["T_WHITESPACE","\n    ",553],["T_PROTECTED","protected",554],["T_WHITESPACE"," ",554],["T_FUNCTION","function",554],["T_WHITESPACE"," ",554],["T_STRING","_loadOutlines",554],"(",["T_STRING","Zend_Pdf_Element_Reference",554],["T_WHITESPACE"," ",554],["T_VARIABLE","$root",554],")",["T_WHITESPACE","\n    ",554],"{",["T_WHITESPACE","\n        ",555],["T_IF","if",556],["T_WHITESPACE"," ",556],"(",["T_VARIABLE","$root",556],["T_OBJECT_OPERATOR","->",556],["T_STRING","Outlines",556],["T_WHITESPACE"," ",556],["T_IS_IDENTICAL","===",556],["T_WHITESPACE"," ",556],["T_STRING","null",556],")",["T_WHITESPACE"," ",556],"{",["T_WHITESPACE","\n            ",556],["T_RETURN","return",557],";",["T_WHITESPACE","\n        ",557],"}",["T_WHITESPACE","\n\n        ",558],["T_IF","if",560],["T_WHITESPACE"," ",560],"(",["T_VARIABLE","$root",560],["T_OBJECT_OPERATOR","->",560],["T_STRING","Outlines",560],["T_OBJECT_OPERATOR","->",560],["T_STRING","getType",560],"(",")",["T_WHITESPACE"," ",560],["T_IS_NOT_EQUAL","!=",560],["T_WHITESPACE"," ",560],["T_STRING","Zend_Pdf_Element",560],["T_DOUBLE_COLON","::",560],["T_STRING","TYPE_DICTIONARY",560],")",["T_WHITESPACE"," ",560],"{",["T_WHITESPACE","\n            ",560],["T_COMMENT","#require_once 'Zend\/Pdf\/Exception.php';\n",561],["T_WHITESPACE","            ",562],["T_THROW","throw",562],["T_WHITESPACE"," ",562],["T_NEW","new",562],["T_WHITESPACE"," ",562],["T_STRING","Zend_Pdf_Exception",562],"(",["T_CONSTANT_ENCAPSED_STRING","'Document catalog Outlines entry must be a dictionary.'",562],")",";",["T_WHITESPACE","\n        ",562],"}",["T_WHITESPACE","\n\n        ",563],["T_IF","if",565],["T_WHITESPACE"," ",565],"(",["T_VARIABLE","$root",565],["T_OBJECT_OPERATOR","->",565],["T_STRING","Outlines",565],["T_OBJECT_OPERATOR","->",565],["T_STRING","Type",565],["T_WHITESPACE"," ",565],["T_IS_NOT_IDENTICAL","!==",565],["T_WHITESPACE"," ",565],["T_STRING","null",565],["T_WHITESPACE","  ",565],["T_BOOLEAN_AND","&&",565],["T_WHITESPACE","  ",565],["T_VARIABLE","$root",565],["T_OBJECT_OPERATOR","->",565],["T_STRING","Outlines",565],["T_OBJECT_OPERATOR","->",565],["T_STRING","Type",565],["T_OBJECT_OPERATOR","->",565],["T_STRING","value",565],["T_WHITESPACE"," ",565],["T_IS_NOT_EQUAL","!=",565],["T_WHITESPACE"," ",565],["T_CONSTANT_ENCAPSED_STRING","'Outlines'",565],")",["T_WHITESPACE"," ",565],"{",["T_WHITESPACE","\n            ",565],["T_COMMENT","#require_once 'Zend\/Pdf\/Exception.php';\n",566],["T_WHITESPACE","            ",567],["T_THROW","throw",567],["T_WHITESPACE"," ",567],["T_NEW","new",567],["T_WHITESPACE"," ",567],["T_STRING","Zend_Pdf_Exception",567],"(",["T_CONSTANT_ENCAPSED_STRING","'Outlines Type entry must be an \\'Outlines\\' string.'",567],")",";",["T_WHITESPACE","\n        ",567],"}",["T_WHITESPACE","\n\n        ",568],["T_IF","if",570],["T_WHITESPACE"," ",570],"(",["T_VARIABLE","$root",570],["T_OBJECT_OPERATOR","->",570],["T_STRING","Outlines",570],["T_OBJECT_OPERATOR","->",570],["T_STRING","First",570],["T_WHITESPACE"," ",570],["T_IS_IDENTICAL","===",570],["T_WHITESPACE"," ",570],["T_STRING","null",570],")",["T_WHITESPACE"," ",570],"{",["T_WHITESPACE","\n            ",570],["T_RETURN","return",571],";",["T_WHITESPACE","\n        ",571],"}",["T_WHITESPACE","\n\n        ",572],["T_VARIABLE","$outlineDictionary",574],["T_WHITESPACE"," ",574],"=",["T_WHITESPACE"," ",574],["T_VARIABLE","$root",574],["T_OBJECT_OPERATOR","->",574],["T_STRING","Outlines",574],["T_OBJECT_OPERATOR","->",574],["T_STRING","First",574],";",["T_WHITESPACE","\n        ",574],["T_VARIABLE","$processedDictionaries",575],["T_WHITESPACE"," ",575],"=",["T_WHITESPACE"," ",575],["T_NEW","new",575],["T_WHITESPACE"," ",575],["T_STRING","SplObjectStorage",575],"(",")",";",["T_WHITESPACE","\n        ",575],["T_WHILE","while",576],["T_WHITESPACE"," ",576],"(",["T_VARIABLE","$outlineDictionary",576],["T_WHITESPACE"," ",576],["T_IS_NOT_IDENTICAL","!==",576],["T_WHITESPACE"," ",576],["T_STRING","null",576],["T_WHITESPACE","  ",576],["T_BOOLEAN_AND","&&",576],["T_WHITESPACE","  ",576],"!",["T_VARIABLE","$processedDictionaries",576],["T_OBJECT_OPERATOR","->",576],["T_STRING","contains",576],"(",["T_VARIABLE","$outlineDictionary",576],")",")",["T_WHITESPACE"," ",576],"{",["T_WHITESPACE","\n            ",576],["T_VARIABLE","$processedDictionaries",577],["T_OBJECT_OPERATOR","->",577],["T_STRING","attach",577],"(",["T_VARIABLE","$outlineDictionary",577],")",";",["T_WHITESPACE","\n\n            ",577],["T_COMMENT","#require_once 'Zend\/Pdf\/Outline\/Loaded.php';\n",579],["T_WHITESPACE","            ",580],["T_VARIABLE","$this",580],["T_OBJECT_OPERATOR","->",580],["T_STRING","outlines",580],"[","]",["T_WHITESPACE"," ",580],"=",["T_WHITESPACE"," ",580],["T_NEW","new",580],["T_WHITESPACE"," ",580],["T_STRING","Zend_Pdf_Outline_Loaded",580],"(",["T_VARIABLE","$outlineDictionary",580],")",";",["T_WHITESPACE","\n\n            ",580],["T_VARIABLE","$outlineDictionary",582],["T_WHITESPACE"," ",582],"=",["T_WHITESPACE"," ",582],["T_VARIABLE","$outlineDictionary",582],["T_OBJECT_OPERATOR","->",582],["T_STRING","Next",582],";",["T_WHITESPACE","\n        ",582],"}",["T_WHITESPACE","\n\n        ",583],["T_VARIABLE","$this",585],["T_OBJECT_OPERATOR","->",585],["T_STRING","_originalOutlines",585],["T_WHITESPACE"," ",585],"=",["T_WHITESPACE"," ",585],["T_VARIABLE","$this",585],["T_OBJECT_OPERATOR","->",585],["T_STRING","outlines",585],";",["T_WHITESPACE","\n\n        ",585],["T_IF","if",587],["T_WHITESPACE"," ",587],"(",["T_VARIABLE","$root",587],["T_OBJECT_OPERATOR","->",587],["T_STRING","Outlines",587],["T_OBJECT_OPERATOR","->",587],["T_STRING","Count",587],["T_WHITESPACE"," ",587],["T_IS_NOT_IDENTICAL","!==",587],["T_WHITESPACE"," ",587],["T_STRING","null",587],")",["T_WHITESPACE"," ",587],"{",["T_WHITESPACE","\n            ",587],["T_VARIABLE","$this",588],["T_OBJECT_OPERATOR","->",588],["T_STRING","_originalOpenOutlinesCount",588],["T_WHITESPACE"," ",588],"=",["T_WHITESPACE"," ",588],["T_VARIABLE","$root",588],["T_OBJECT_OPERATOR","->",588],["T_STRING","Outlines",588],["T_OBJECT_OPERATOR","->",588],["T_STRING","Count",588],["T_OBJECT_OPERATOR","->",588],["T_STRING","value",588],";",["T_WHITESPACE","\n        ",588],"}",["T_WHITESPACE","\n    ",589],"}",["T_WHITESPACE","\n\n    ",590],["T_DOC_COMMENT","\/**\n     * Load JavaScript\n     *\n     * Populates the _javaScript string, for later use of getJavaScript method.\n     *\n     * @param Zend_Pdf_Element_Reference $root Document catalog entry\n     *\/",592],["T_WHITESPACE","\n    ",598],["T_PROTECTED","protected",599],["T_WHITESPACE"," ",599],["T_FUNCTION","function",599],["T_WHITESPACE"," ",599],["T_STRING","_loadJavaScript",599],"(",["T_STRING","Zend_Pdf_Element_Reference",599],["T_WHITESPACE"," ",599],["T_VARIABLE","$root",599],")",["T_WHITESPACE","\n    ",599],"{",["T_WHITESPACE","\n        ",600],["T_IF","if",601],["T_WHITESPACE"," ",601],"(",["T_STRING","null",601],["T_WHITESPACE"," ",601],["T_IS_IDENTICAL","===",601],["T_WHITESPACE"," ",601],["T_VARIABLE","$root",601],["T_OBJECT_OPERATOR","->",601],["T_STRING","Names",601],["T_WHITESPACE"," ",601],["T_BOOLEAN_OR","||",601],["T_WHITESPACE"," ",601],["T_STRING","null",601],["T_WHITESPACE"," ",601],["T_IS_IDENTICAL","===",601],["T_WHITESPACE"," ",601],["T_VARIABLE","$root",601],["T_OBJECT_OPERATOR","->",601],["T_STRING","Names",601],["T_OBJECT_OPERATOR","->",601],["T_STRING","JavaScript",601],["T_WHITESPACE","\n            ",601],["T_BOOLEAN_OR","||",602],["T_WHITESPACE"," ",602],["T_STRING","null",602],["T_WHITESPACE"," ",602],["T_IS_IDENTICAL","===",602],["T_WHITESPACE"," ",602],["T_VARIABLE","$root",602],["T_OBJECT_OPERATOR","->",602],["T_STRING","Names",602],["T_OBJECT_OPERATOR","->",602],["T_STRING","JavaScript",602],["T_OBJECT_OPERATOR","->",602],["T_STRING","Names",602],["T_WHITESPACE","\n        ",602],")",["T_WHITESPACE"," ",603],"{",["T_WHITESPACE","\n            ",603],["T_RETURN","return",604],";",["T_WHITESPACE","\n        ",604],"}",["T_WHITESPACE","\n\n        ",605],["T_FOREACH","foreach",607],["T_WHITESPACE"," ",607],"(",["T_VARIABLE","$root",607],["T_OBJECT_OPERATOR","->",607],["T_STRING","Names",607],["T_OBJECT_OPERATOR","->",607],["T_STRING","JavaScript",607],["T_OBJECT_OPERATOR","->",607],["T_STRING","Names",607],["T_OBJECT_OPERATOR","->",607],["T_STRING","items",607],["T_WHITESPACE"," ",607],["T_AS","as",607],["T_WHITESPACE"," ",607],["T_VARIABLE","$item",607],")",["T_WHITESPACE"," ",607],"{",["T_WHITESPACE","\n            ",607],["T_IF","if",608],["T_WHITESPACE"," ",608],"(",["T_VARIABLE","$item",608],["T_WHITESPACE"," ",608],["T_INSTANCEOF","instanceof",608],["T_WHITESPACE"," ",608],["T_STRING","Zend_Pdf_Element_Reference",608],["T_WHITESPACE","\n                ",608],["T_BOOLEAN_AND","&&",609],["T_WHITESPACE"," ",609],["T_VARIABLE","$item",609],["T_OBJECT_OPERATOR","->",609],["T_STRING","S",609],["T_OBJECT_OPERATOR","->",609],["T_STRING","value",609],["T_WHITESPACE"," ",609],["T_IS_IDENTICAL","===",609],["T_WHITESPACE"," ",609],["T_CONSTANT_ENCAPSED_STRING","'JavaScript'",609],["T_WHITESPACE","\n            ",609],")",["T_WHITESPACE"," ",610],"{",["T_WHITESPACE","\n                ",610],["T_VARIABLE","$this",611],["T_OBJECT_OPERATOR","->",611],["T_STRING","_javaScript",611],"[","]",["T_WHITESPACE"," ",611],"=",["T_WHITESPACE"," ",611],["T_VARIABLE","$item",611],["T_OBJECT_OPERATOR","->",611],["T_STRING","JS",611],["T_OBJECT_OPERATOR","->",611],["T_STRING","value",611],";",["T_WHITESPACE","\n            ",611],"}",["T_WHITESPACE","\n        ",612],"}",["T_WHITESPACE","\n    ",613],"}",["T_WHITESPACE","\n  \n    ",614],["T_DOC_COMMENT","\/**\n     * Load form fields\n     *\n     * Populates the _formFields array, for later lookup of fields by name\n     *\n     * @param Zend_Pdf_Element_Reference $root Document catalog entry\n     *\/",616],["T_WHITESPACE","\n    ",622],["T_PROTECTED","protected",623],["T_WHITESPACE"," ",623],["T_FUNCTION","function",623],["T_WHITESPACE"," ",623],["T_STRING","_loadFormFields",623],"(",["T_STRING","Zend_Pdf_Element_Reference",623],["T_WHITESPACE"," ",623],["T_VARIABLE","$root",623],")",["T_WHITESPACE","\n    ",623],"{",["T_WHITESPACE","\n        ",624],["T_IF","if",625],["T_WHITESPACE"," ",625],"(",["T_VARIABLE","$root",625],["T_OBJECT_OPERATOR","->",625],["T_STRING","AcroForm",625],["T_WHITESPACE"," ",625],["T_IS_IDENTICAL","===",625],["T_WHITESPACE"," ",625],["T_STRING","null",625],["T_WHITESPACE"," ",625],["T_BOOLEAN_OR","||",625],["T_WHITESPACE"," ",625],["T_VARIABLE","$root",625],["T_OBJECT_OPERATOR","->",625],["T_STRING","AcroForm",625],["T_OBJECT_OPERATOR","->",625],["T_STRING","Fields",625],["T_WHITESPACE"," ",625],["T_IS_IDENTICAL","===",625],["T_WHITESPACE"," ",625],["T_STRING","null",625],")",["T_WHITESPACE"," ",625],"{",["T_WHITESPACE","\n            ",625],["T_RETURN","return",626],";",["T_WHITESPACE","\n        ",626],"}",["T_WHITESPACE","\n\n        ",627],["T_FOREACH","foreach",629],["T_WHITESPACE"," ",629],"(",["T_VARIABLE","$root",629],["T_OBJECT_OPERATOR","->",629],["T_STRING","AcroForm",629],["T_OBJECT_OPERATOR","->",629],["T_STRING","Fields",629],["T_OBJECT_OPERATOR","->",629],["T_STRING","items",629],["T_WHITESPACE"," ",629],["T_AS","as",629],["T_WHITESPACE"," ",629],["T_VARIABLE","$field",629],")",["T_WHITESPACE"," ",629],"{",["T_WHITESPACE","\n            ",629],["T_COMMENT","\/* We only support fields that are textfields and have a name *\/",630],["T_WHITESPACE","\n            ",630],["T_IF","if",631],["T_WHITESPACE"," ",631],"(",["T_VARIABLE","$field",631],["T_OBJECT_OPERATOR","->",631],["T_STRING","FT",631],["T_WHITESPACE"," ",631],["T_BOOLEAN_AND","&&",631],["T_WHITESPACE"," ",631],["T_VARIABLE","$field",631],["T_OBJECT_OPERATOR","->",631],["T_STRING","FT",631],["T_OBJECT_OPERATOR","->",631],["T_STRING","value",631],["T_WHITESPACE"," ",631],["T_IS_EQUAL","==",631],["T_WHITESPACE"," ",631],["T_CONSTANT_ENCAPSED_STRING","'Tx'",631],["T_WHITESPACE"," ",631],["T_BOOLEAN_AND","&&",631],["T_WHITESPACE"," ",631],["T_VARIABLE","$field",631],["T_OBJECT_OPERATOR","->",631],["T_STRING","T",631],["T_WHITESPACE","\n                ",631],["T_BOOLEAN_AND","&&",632],["T_WHITESPACE"," ",632],["T_VARIABLE","$field",632],["T_OBJECT_OPERATOR","->",632],["T_STRING","T",632],["T_WHITESPACE"," ",632],["T_IS_NOT_IDENTICAL","!==",632],["T_WHITESPACE"," ",632],["T_STRING","null",632],["T_WHITESPACE","\n            ",632],")",["T_WHITESPACE"," ",633],"{",["T_WHITESPACE","\n                ",633],["T_VARIABLE","$this",634],["T_OBJECT_OPERATOR","->",634],["T_STRING","_formFields",634],"[",["T_VARIABLE","$field",634],["T_OBJECT_OPERATOR","->",634],["T_STRING","T",634],["T_OBJECT_OPERATOR","->",634],["T_STRING","value",634],"]",["T_WHITESPACE"," ",634],"=",["T_WHITESPACE"," ",634],["T_VARIABLE","$field",634],";",["T_WHITESPACE","\n            ",634],"}",["T_WHITESPACE","\n        ",635],"}",["T_WHITESPACE","\n\n        ",636],["T_IF","if",638],["T_WHITESPACE"," ",638],"(","!",["T_VARIABLE","$root",638],["T_OBJECT_OPERATOR","->",638],["T_STRING","AcroForm",638],["T_OBJECT_OPERATOR","->",638],["T_STRING","NeedAppearances",638],["T_WHITESPACE","\n            ",638],["T_BOOLEAN_OR","||",639],["T_WHITESPACE"," ",639],"!",["T_VARIABLE","$root",639],["T_OBJECT_OPERATOR","->",639],["T_STRING","AcroForm",639],["T_OBJECT_OPERATOR","->",639],["T_STRING","NeedAppearances",639],["T_OBJECT_OPERATOR","->",639],["T_STRING","value",639],["T_WHITESPACE","\n        ",639],")",["T_WHITESPACE"," ",640],"{",["T_WHITESPACE","\n            ",640],["T_COMMENT","\/* Ask the .pdf viewer to generate its own appearance data, so we do not have to *\/",641],["T_WHITESPACE","\n            ",641],["T_VARIABLE","$root",642],["T_OBJECT_OPERATOR","->",642],["T_STRING","AcroForm",642],["T_OBJECT_OPERATOR","->",642],["T_STRING","add",642],"(",["T_WHITESPACE","\n                ",642],["T_NEW","new",643],["T_WHITESPACE"," ",643],["T_STRING","Zend_Pdf_Element_Name",643],"(",["T_CONSTANT_ENCAPSED_STRING","'NeedAppearances'",643],")",",",["T_WHITESPACE","\n                ",643],["T_NEW","new",644],["T_WHITESPACE"," ",644],["T_STRING","Zend_Pdf_Element_Boolean",644],"(",["T_STRING","true",644],")",["T_WHITESPACE","\n            ",644],")",";",["T_WHITESPACE","\n            ",645],["T_VARIABLE","$root",646],["T_OBJECT_OPERATOR","->",646],["T_STRING","AcroForm",646],["T_OBJECT_OPERATOR","->",646],["T_STRING","touch",646],"(",")",";",["T_WHITESPACE","\n        ",646],"}",["T_WHITESPACE","\n    ",647],"}",["T_WHITESPACE","\n\n    ",648],["T_DOC_COMMENT","\/**\n     * Retrieves a list with the names of the AcroForm textfields in the PDF\n     *\n     * @return array of strings\n     *\/",650],["T_WHITESPACE","\n    ",654],["T_PUBLIC","public",655],["T_WHITESPACE"," ",655],["T_FUNCTION","function",655],["T_WHITESPACE"," ",655],["T_STRING","getTextFieldNames",655],"(",")",["T_WHITESPACE","\n    ",655],"{",["T_WHITESPACE","\n        ",656],["T_RETURN","return",657],["T_WHITESPACE"," ",657],["T_STRING","array_keys",657],"(",["T_VARIABLE","$this",657],["T_OBJECT_OPERATOR","->",657],["T_STRING","_formFields",657],")",";",["T_WHITESPACE","\n    ",657],"}",["T_WHITESPACE","\n\n    ",658],["T_DOC_COMMENT","\/**\n     * Sets the value of an AcroForm text field\n     *\n     * @param string $name Name of textfield\n     * @param string $value Value\n     * @throws Zend_Pdf_Exception if the textfield does not exist in the pdf\n     *\/",660],["T_WHITESPACE","\n    ",666],["T_PUBLIC","public",667],["T_WHITESPACE"," ",667],["T_FUNCTION","function",667],["T_WHITESPACE"," ",667],["T_STRING","setTextField",667],"(",["T_VARIABLE","$name",667],",",["T_WHITESPACE"," ",667],["T_VARIABLE","$value",667],")",["T_WHITESPACE","\n    ",667],"{",["T_WHITESPACE","\n        ",668],["T_IF","if",669],["T_WHITESPACE"," ",669],"(","!",["T_ISSET","isset",669],"(",["T_VARIABLE","$this",669],["T_OBJECT_OPERATOR","->",669],["T_STRING","_formFields",669],"[",["T_VARIABLE","$name",669],"]",")",")",["T_WHITESPACE"," ",669],"{",["T_WHITESPACE","\n            ",669],["T_THROW","throw",670],["T_WHITESPACE"," ",670],["T_NEW","new",670],["T_WHITESPACE"," ",670],["T_STRING","Zend_Pdf_Exception",670],"(",["T_WHITESPACE","\n                ",670],"\"",["T_ENCAPSED_AND_WHITESPACE","Field '",671],["T_VARIABLE","$name",671],["T_ENCAPSED_AND_WHITESPACE","' does not exist or is not a textfield",671],"\"",["T_WHITESPACE","\n            ",671],")",";",["T_WHITESPACE","\n        ",672],"}",["T_WHITESPACE","\n\n        ",673],["T_DOC_COMMENT","\/** @var Zend_Pdf_Element $field *\/",675],["T_WHITESPACE","\n        ",675],["T_VARIABLE","$field",676],["T_WHITESPACE"," ",676],"=",["T_WHITESPACE"," ",676],["T_VARIABLE","$this",676],["T_OBJECT_OPERATOR","->",676],["T_STRING","_formFields",676],"[",["T_VARIABLE","$name",676],"]",";",["T_WHITESPACE","\n        ",676],["T_VARIABLE","$field",677],["T_OBJECT_OPERATOR","->",677],["T_STRING","add",677],"(",["T_WHITESPACE","\n            ",677],["T_NEW","new",678],["T_WHITESPACE"," ",678],["T_STRING","Zend_Pdf_Element_Name",678],"(",["T_CONSTANT_ENCAPSED_STRING","'V'",678],")",",",["T_WHITESPACE"," ",678],["T_NEW","new",678],["T_WHITESPACE"," ",678],["T_STRING","Zend_Pdf_Element_String",678],"(",["T_VARIABLE","$value",678],")",["T_WHITESPACE","\n        ",678],")",";",["T_WHITESPACE","\n        ",679],["T_VARIABLE","$field",680],["T_OBJECT_OPERATOR","->",680],["T_STRING","touch",680],"(",")",";",["T_WHITESPACE","\n    ",680],"}",["T_WHITESPACE","\n\n    ",681],["T_DOC_COMMENT","\/**\n     * Sets the properties for an AcroForm text field\n     *\n     * @param string $name\n     * @param mixed  $bitmask\n     * @throws Zend_Pdf_Exception\n     *\/",683],["T_WHITESPACE","\n    ",689],["T_PUBLIC","public",690],["T_WHITESPACE"," ",690],["T_FUNCTION","function",690],["T_WHITESPACE"," ",690],["T_STRING","setTextFieldProperties",690],"(",["T_VARIABLE","$name",690],",",["T_WHITESPACE"," ",690],["T_VARIABLE","$bitmask",690],")",["T_WHITESPACE","\n    ",690],"{",["T_WHITESPACE","\n        ",691],["T_IF","if",692],["T_WHITESPACE"," ",692],"(","!",["T_ISSET","isset",692],"(",["T_VARIABLE","$this",692],["T_OBJECT_OPERATOR","->",692],["T_STRING","_formFields",692],"[",["T_VARIABLE","$name",692],"]",")",")",["T_WHITESPACE"," ",692],"{",["T_WHITESPACE","\n            ",692],["T_THROW","throw",693],["T_WHITESPACE"," ",693],["T_NEW","new",693],["T_WHITESPACE"," ",693],["T_STRING","Zend_Pdf_Exception",693],"(",["T_WHITESPACE","\n                ",693],"\"",["T_ENCAPSED_AND_WHITESPACE","Field '",694],["T_VARIABLE","$name",694],["T_ENCAPSED_AND_WHITESPACE","' does not exist or is not a textfield",694],"\"",["T_WHITESPACE","\n            ",694],")",";",["T_WHITESPACE","\n        ",695],"}",["T_WHITESPACE","\n\n        ",696],["T_VARIABLE","$field",698],["T_WHITESPACE"," ",698],"=",["T_WHITESPACE"," ",698],["T_VARIABLE","$this",698],["T_OBJECT_OPERATOR","->",698],["T_STRING","_formFields",698],"[",["T_VARIABLE","$name",698],"]",";",["T_WHITESPACE","\n        ",698],["T_VARIABLE","$field",699],["T_OBJECT_OPERATOR","->",699],["T_STRING","add",699],"(",["T_WHITESPACE","\n            ",699],["T_NEW","new",700],["T_WHITESPACE"," ",700],["T_STRING","Zend_Pdf_Element_Name",700],"(",["T_CONSTANT_ENCAPSED_STRING","'Ff'",700],")",",",["T_WHITESPACE","\n            ",700],["T_NEW","new",701],["T_WHITESPACE"," ",701],["T_STRING","Zend_Pdf_Element_Numeric",701],"(",["T_VARIABLE","$bitmask",701],")",["T_WHITESPACE","\n        ",701],")",";",["T_WHITESPACE","\n        ",702],["T_VARIABLE","$field",703],["T_OBJECT_OPERATOR","->",703],["T_STRING","touch",703],"(",")",";",["T_WHITESPACE","\n    ",703],"}",["T_WHITESPACE","\n\n    ",704],["T_DOC_COMMENT","\/**\n     * Marks an AcroForm text field as read only\n     *\n     * @param string $name\n     *\/",706],["T_WHITESPACE","\n    ",710],["T_PUBLIC","public",711],["T_WHITESPACE"," ",711],["T_FUNCTION","function",711],["T_WHITESPACE"," ",711],["T_STRING","markTextFieldAsReadOnly",711],"(",["T_VARIABLE","$name",711],")",["T_WHITESPACE","\n    ",711],"{",["T_WHITESPACE","\n        ",712],["T_VARIABLE","$this",713],["T_OBJECT_OPERATOR","->",713],["T_STRING","setTextFieldProperties",713],"(",["T_VARIABLE","$name",713],",",["T_WHITESPACE"," ",713],["T_STRING","self",713],["T_DOUBLE_COLON","::",713],["T_STRING","PDF_FORM_FIELD_READONLY",713],")",";",["T_WHITESPACE","\n    ",713],"}",["T_WHITESPACE","\n\n    ",714],["T_DOC_COMMENT","\/**\n     * Orginize pages to tha pages tree structure.\n     *\n     * @todo atomatically attach page to the document, if it's not done yet.\n     * @todo check, that page is attached to the current document\n     *\n     * @todo Dump pages as a balanced tree instead of a plain set.\n     *\/",716],["T_WHITESPACE","\n    ",723],["T_PROTECTED","protected",724],["T_WHITESPACE"," ",724],["T_FUNCTION","function",724],["T_WHITESPACE"," ",724],["T_STRING","_dumpPages",724],"(",")",["T_WHITESPACE","\n    ",724],"{",["T_WHITESPACE","\n        ",725],["T_VARIABLE","$root",726],["T_WHITESPACE"," ",726],"=",["T_WHITESPACE"," ",726],["T_VARIABLE","$this",726],["T_OBJECT_OPERATOR","->",726],["T_STRING","_trailer",726],["T_OBJECT_OPERATOR","->",726],["T_STRING","Root",726],";",["T_WHITESPACE","\n        ",726],["T_VARIABLE","$pagesContainer",727],["T_WHITESPACE"," ",727],"=",["T_WHITESPACE"," ",727],["T_VARIABLE","$root",727],["T_OBJECT_OPERATOR","->",727],["T_STRING","Pages",727],";",["T_WHITESPACE","\n\n        ",727],["T_VARIABLE","$pagesContainer",729],["T_OBJECT_OPERATOR","->",729],["T_STRING","touch",729],"(",")",";",["T_WHITESPACE","\n        ",729],["T_VARIABLE","$pagesContainer",730],["T_OBJECT_OPERATOR","->",730],["T_STRING","Kids",730],["T_OBJECT_OPERATOR","->",730],["T_STRING","items",730],["T_WHITESPACE"," ",730],"=",["T_WHITESPACE"," ",730],["T_ARRAY","array",730],"(",")",";",["T_WHITESPACE","\n\n        ",730],["T_FOREACH","foreach",732],["T_WHITESPACE"," ",732],"(",["T_VARIABLE","$this",732],["T_OBJECT_OPERATOR","->",732],["T_STRING","pages",732],["T_WHITESPACE"," ",732],["T_AS","as",732],["T_WHITESPACE"," ",732],["T_VARIABLE","$page",732],["T_WHITESPACE"," ",732],")",["T_WHITESPACE"," ",732],"{",["T_WHITESPACE","\n            ",732],["T_VARIABLE","$page",733],["T_OBJECT_OPERATOR","->",733],["T_STRING","render",733],"(",["T_VARIABLE","$this",733],["T_OBJECT_OPERATOR","->",733],["T_STRING","_objFactory",733],")",";",["T_WHITESPACE","\n\n            ",733],["T_VARIABLE","$pageDictionary",735],["T_WHITESPACE"," ",735],"=",["T_WHITESPACE"," ",735],["T_VARIABLE","$page",735],["T_OBJECT_OPERATOR","->",735],["T_STRING","getPageDictionary",735],"(",")",";",["T_WHITESPACE","\n            ",735],["T_VARIABLE","$pageDictionary",736],["T_OBJECT_OPERATOR","->",736],["T_STRING","touch",736],"(",")",";",["T_WHITESPACE","\n            ",736],["T_VARIABLE","$pageDictionary",737],["T_OBJECT_OPERATOR","->",737],["T_STRING","Parent",737],["T_WHITESPACE"," ",737],"=",["T_WHITESPACE"," ",737],["T_VARIABLE","$pagesContainer",737],";",["T_WHITESPACE","\n\n            ",737],["T_VARIABLE","$pagesContainer",739],["T_OBJECT_OPERATOR","->",739],["T_STRING","Kids",739],["T_OBJECT_OPERATOR","->",739],["T_STRING","items",739],"[","]",["T_WHITESPACE"," ",739],"=",["T_WHITESPACE"," ",739],["T_VARIABLE","$pageDictionary",739],";",["T_WHITESPACE","\n        ",739],"}",["T_WHITESPACE","\n\n        ",740],["T_VARIABLE","$this",742],["T_OBJECT_OPERATOR","->",742],["T_STRING","_refreshPagesHash",742],"(",")",";",["T_WHITESPACE","\n\n        ",742],["T_VARIABLE","$pagesContainer",744],["T_OBJECT_OPERATOR","->",744],["T_STRING","Count",744],["T_OBJECT_OPERATOR","->",744],["T_STRING","touch",744],"(",")",";",["T_WHITESPACE","\n        ",744],["T_VARIABLE","$pagesContainer",745],["T_OBJECT_OPERATOR","->",745],["T_STRING","Count",745],["T_OBJECT_OPERATOR","->",745],["T_STRING","value",745],["T_WHITESPACE"," ",745],"=",["T_WHITESPACE"," ",745],["T_STRING","count",745],"(",["T_VARIABLE","$this",745],["T_OBJECT_OPERATOR","->",745],["T_STRING","pages",745],")",";",["T_WHITESPACE","\n\n\n        ",745],["T_COMMENT","\/\/ Refresh named destinations list\n",748],["T_WHITESPACE","        ",749],["T_FOREACH","foreach",749],["T_WHITESPACE"," ",749],"(",["T_VARIABLE","$this",749],["T_OBJECT_OPERATOR","->",749],["T_STRING","_namedTargets",749],["T_WHITESPACE"," ",749],["T_AS","as",749],["T_WHITESPACE"," ",749],["T_VARIABLE","$name",749],["T_WHITESPACE"," ",749],["T_DOUBLE_ARROW","=>",749],["T_WHITESPACE"," ",749],["T_VARIABLE","$namedTarget",749],")",["T_WHITESPACE"," ",749],"{",["T_WHITESPACE","\n            ",749],["T_IF","if",750],["T_WHITESPACE"," ",750],"(",["T_VARIABLE","$namedTarget",750],["T_WHITESPACE"," ",750],["T_INSTANCEOF","instanceof",750],["T_WHITESPACE"," ",750],["T_STRING","Zend_Pdf_Destination_Explicit",750],")",["T_WHITESPACE"," ",750],"{",["T_WHITESPACE","\n                ",750],["T_COMMENT","\/\/ Named target is an explicit destination\n",751],["T_WHITESPACE","                ",752],["T_IF","if",752],["T_WHITESPACE"," ",752],"(",["T_VARIABLE","$this",752],["T_OBJECT_OPERATOR","->",752],["T_STRING","resolveDestination",752],"(",["T_VARIABLE","$namedTarget",752],",",["T_WHITESPACE"," ",752],["T_STRING","false",752],")",["T_WHITESPACE"," ",752],["T_IS_IDENTICAL","===",752],["T_WHITESPACE"," ",752],["T_STRING","null",752],")",["T_WHITESPACE"," ",752],"{",["T_WHITESPACE","\n                    ",752],["T_UNSET","unset",753],"(",["T_VARIABLE","$this",753],["T_OBJECT_OPERATOR","->",753],["T_STRING","_namedTargets",753],"[",["T_VARIABLE","$name",753],"]",")",";",["T_WHITESPACE","\n                ",753],"}",["T_WHITESPACE","\n            ",754],"}",["T_WHITESPACE"," ",755],["T_ELSE","else",755],["T_WHITESPACE"," ",755],["T_IF","if",755],["T_WHITESPACE"," ",755],"(",["T_VARIABLE","$namedTarget",755],["T_WHITESPACE"," ",755],["T_INSTANCEOF","instanceof",755],["T_WHITESPACE"," ",755],["T_STRING","Zend_Pdf_Action",755],")",["T_WHITESPACE"," ",755],"{",["T_WHITESPACE","\n                ",755],["T_COMMENT","\/\/ Named target is an action\n",756],["T_WHITESPACE","                ",757],["T_IF","if",757],["T_WHITESPACE"," ",757],"(",["T_VARIABLE","$this",757],["T_OBJECT_OPERATOR","->",757],["T_STRING","_cleanUpAction",757],"(",["T_VARIABLE","$namedTarget",757],",",["T_WHITESPACE"," ",757],["T_STRING","false",757],")",["T_WHITESPACE"," ",757],["T_IS_IDENTICAL","===",757],["T_WHITESPACE"," ",757],["T_STRING","null",757],")",["T_WHITESPACE"," ",757],"{",["T_WHITESPACE","\n                    ",757],["T_COMMENT","\/\/ Action is a GoTo action with an unresolved destination\n",758],["T_WHITESPACE","                    ",759],["T_UNSET","unset",759],"(",["T_VARIABLE","$this",759],["T_OBJECT_OPERATOR","->",759],["T_STRING","_namedTargets",759],"[",["T_VARIABLE","$name",759],"]",")",";",["T_WHITESPACE","\n                ",759],"}",["T_WHITESPACE","\n            ",760],"}",["T_WHITESPACE"," ",761],["T_ELSE","else",761],["T_WHITESPACE"," ",761],"{",["T_WHITESPACE","\n                ",761],["T_COMMENT","#require_once 'Zend\/Pdf\/Exception.php';\n",762],["T_WHITESPACE","                ",763],["T_THROW","throw",763],["T_WHITESPACE"," ",763],["T_NEW","new",763],["T_WHITESPACE"," ",763],["T_STRING","Zend_Pdf_Exception",763],"(",["T_CONSTANT_ENCAPSED_STRING","'Wrong type of named targed (\\''",763],["T_WHITESPACE"," ",763],".",["T_WHITESPACE"," ",763],["T_STRING","get_class",763],"(",["T_VARIABLE","$namedTarget",763],")",["T_WHITESPACE"," ",763],".",["T_WHITESPACE"," ",763],["T_CONSTANT_ENCAPSED_STRING","'\\').'",763],")",";",["T_WHITESPACE","\n            ",763],"}",["T_WHITESPACE","\n        ",764],"}",["T_WHITESPACE","\n\n        ",765],["T_COMMENT","\/\/ Refresh outlines\n",767],["T_WHITESPACE","        ",768],["T_COMMENT","#require_once 'Zend\/Pdf\/RecursivelyIteratableObjectsContainer.php';\n",768],["T_WHITESPACE","        ",769],["T_VARIABLE","$iterator",769],["T_WHITESPACE"," ",769],"=",["T_WHITESPACE"," ",769],["T_NEW","new",769],["T_WHITESPACE"," ",769],["T_STRING","RecursiveIteratorIterator",769],"(",["T_NEW","new",769],["T_WHITESPACE"," ",769],["T_STRING","Zend_Pdf_RecursivelyIteratableObjectsContainer",769],"(",["T_VARIABLE","$this",769],["T_OBJECT_OPERATOR","->",769],["T_STRING","outlines",769],")",",",["T_WHITESPACE"," ",769],["T_STRING","RecursiveIteratorIterator",769],["T_DOUBLE_COLON","::",769],["T_STRING","SELF_FIRST",769],")",";",["T_WHITESPACE","\n        ",769],["T_FOREACH","foreach",770],["T_WHITESPACE"," ",770],"(",["T_VARIABLE","$iterator",770],["T_WHITESPACE"," ",770],["T_AS","as",770],["T_WHITESPACE"," ",770],["T_VARIABLE","$outline",770],")",["T_WHITESPACE"," ",770],"{",["T_WHITESPACE","\n            ",770],["T_VARIABLE","$target",771],["T_WHITESPACE"," ",771],"=",["T_WHITESPACE"," ",771],["T_VARIABLE","$outline",771],["T_OBJECT_OPERATOR","->",771],["T_STRING","getTarget",771],"(",")",";",["T_WHITESPACE","\n\n            ",771],["T_IF","if",773],["T_WHITESPACE"," ",773],"(",["T_VARIABLE","$target",773],["T_WHITESPACE"," ",773],["T_IS_NOT_IDENTICAL","!==",773],["T_WHITESPACE"," ",773],["T_STRING","null",773],")",["T_WHITESPACE"," ",773],"{",["T_WHITESPACE","\n                ",773],["T_IF","if",774],["T_WHITESPACE"," ",774],"(",["T_VARIABLE","$target",774],["T_WHITESPACE"," ",774],["T_INSTANCEOF","instanceof",774],["T_WHITESPACE"," ",774],["T_STRING","Zend_Pdf_Destination",774],")",["T_WHITESPACE"," ",774],"{",["T_WHITESPACE","\n                    ",774],["T_COMMENT","\/\/ Outline target is a destination\n",775],["T_WHITESPACE","                    ",776],["T_IF","if",776],["T_WHITESPACE"," ",776],"(",["T_VARIABLE","$this",776],["T_OBJECT_OPERATOR","->",776],["T_STRING","resolveDestination",776],"(",["T_VARIABLE","$target",776],",",["T_WHITESPACE"," ",776],["T_STRING","false",776],")",["T_WHITESPACE"," ",776],["T_IS_IDENTICAL","===",776],["T_WHITESPACE"," ",776],["T_STRING","null",776],")",["T_WHITESPACE"," ",776],"{",["T_WHITESPACE","\n                        ",776],["T_VARIABLE","$outline",777],["T_OBJECT_OPERATOR","->",777],["T_STRING","setTarget",777],"(",["T_STRING","null",777],")",";",["T_WHITESPACE","\n                    ",777],"}",["T_WHITESPACE","\n                ",778],"}",["T_WHITESPACE"," ",779],["T_ELSE","else",779],["T_WHITESPACE"," ",779],["T_IF","if",779],["T_WHITESPACE"," ",779],"(",["T_VARIABLE","$target",779],["T_WHITESPACE"," ",779],["T_INSTANCEOF","instanceof",779],["T_WHITESPACE"," ",779],["T_STRING","Zend_Pdf_Action",779],")",["T_WHITESPACE"," ",779],"{",["T_WHITESPACE","\n                    ",779],["T_COMMENT","\/\/ Outline target is an action\n",780],["T_WHITESPACE","                    ",781],["T_IF","if",781],["T_WHITESPACE"," ",781],"(",["T_VARIABLE","$this",781],["T_OBJECT_OPERATOR","->",781],["T_STRING","_cleanUpAction",781],"(",["T_VARIABLE","$target",781],",",["T_WHITESPACE"," ",781],["T_STRING","false",781],")",["T_WHITESPACE"," ",781],["T_IS_IDENTICAL","===",781],["T_WHITESPACE"," ",781],["T_STRING","null",781],")",["T_WHITESPACE"," ",781],"{",["T_WHITESPACE","\n                        ",781],["T_COMMENT","\/\/ Action is a GoTo action with an unresolved destination\n",782],["T_WHITESPACE","                        ",783],["T_VARIABLE","$outline",783],["T_OBJECT_OPERATOR","->",783],["T_STRING","setTarget",783],"(",["T_STRING","null",783],")",";",["T_WHITESPACE","\n                    ",783],"}",["T_WHITESPACE","\n                ",784],"}",["T_WHITESPACE"," ",785],["T_ELSE","else",785],["T_WHITESPACE"," ",785],"{",["T_WHITESPACE","\n                    ",785],["T_COMMENT","#require_once 'Zend\/Pdf\/Exception.php';\n",786],["T_WHITESPACE","                    ",787],["T_THROW","throw",787],["T_WHITESPACE"," ",787],["T_NEW","new",787],["T_WHITESPACE"," ",787],["T_STRING","Zend_Pdf_Exception",787],"(",["T_CONSTANT_ENCAPSED_STRING","'Wrong outline target.'",787],")",";",["T_WHITESPACE","\n                ",787],"}",["T_WHITESPACE","\n            ",788],"}",["T_WHITESPACE","\n        ",789],"}",["T_WHITESPACE","\n\n        ",790],["T_VARIABLE","$openAction",792],["T_WHITESPACE"," ",792],"=",["T_WHITESPACE"," ",792],["T_VARIABLE","$this",792],["T_OBJECT_OPERATOR","->",792],["T_STRING","getOpenAction",792],"(",")",";",["T_WHITESPACE","\n        ",792],["T_IF","if",793],["T_WHITESPACE"," ",793],"(",["T_VARIABLE","$openAction",793],["T_WHITESPACE"," ",793],["T_IS_NOT_IDENTICAL","!==",793],["T_WHITESPACE"," ",793],["T_STRING","null",793],")",["T_WHITESPACE"," ",793],"{",["T_WHITESPACE","\n            ",793],["T_IF","if",794],["T_WHITESPACE"," ",794],"(",["T_VARIABLE","$openAction",794],["T_WHITESPACE"," ",794],["T_INSTANCEOF","instanceof",794],["T_WHITESPACE"," ",794],["T_STRING","Zend_Pdf_Action",794],")",["T_WHITESPACE"," ",794],"{",["T_WHITESPACE","\n                ",794],["T_COMMENT","\/\/ OpenAction is an action\n",795],["T_WHITESPACE","                ",796],["T_IF","if",796],["T_WHITESPACE"," ",796],"(",["T_VARIABLE","$this",796],["T_OBJECT_OPERATOR","->",796],["T_STRING","_cleanUpAction",796],"(",["T_VARIABLE","$openAction",796],",",["T_WHITESPACE"," ",796],["T_STRING","false",796],")",["T_WHITESPACE"," ",796],["T_IS_IDENTICAL","===",796],["T_WHITESPACE"," ",796],["T_STRING","null",796],")",["T_WHITESPACE"," ",796],"{",["T_WHITESPACE","\n                    ",796],["T_COMMENT","\/\/ Action is a GoTo action with an unresolved destination\n",797],["T_WHITESPACE","                    ",798],["T_VARIABLE","$this",798],["T_OBJECT_OPERATOR","->",798],["T_STRING","setOpenAction",798],"(",["T_STRING","null",798],")",";",["T_WHITESPACE","\n                ",798],"}",["T_WHITESPACE","\n            ",799],"}",["T_WHITESPACE"," ",800],["T_ELSE","else",800],["T_WHITESPACE"," ",800],["T_IF","if",800],["T_WHITESPACE"," ",800],"(",["T_VARIABLE","$openAction",800],["T_WHITESPACE"," ",800],["T_INSTANCEOF","instanceof",800],["T_WHITESPACE"," ",800],["T_STRING","Zend_Pdf_Destination",800],")",["T_WHITESPACE"," ",800],"{",["T_WHITESPACE","\n                ",800],["T_COMMENT","\/\/ OpenAction target is a destination\n",801],["T_WHITESPACE","                ",802],["T_IF","if",802],["T_WHITESPACE"," ",802],"(",["T_VARIABLE","$this",802],["T_OBJECT_OPERATOR","->",802],["T_STRING","resolveDestination",802],"(",["T_VARIABLE","$openAction",802],",",["T_WHITESPACE"," ",802],["T_STRING","false",802],")",["T_WHITESPACE"," ",802],["T_IS_IDENTICAL","===",802],["T_WHITESPACE"," ",802],["T_STRING","null",802],")",["T_WHITESPACE"," ",802],"{",["T_WHITESPACE","\n                    ",802],["T_VARIABLE","$this",803],["T_OBJECT_OPERATOR","->",803],["T_STRING","setOpenAction",803],"(",["T_STRING","null",803],")",";",["T_WHITESPACE","\n                ",803],"}",["T_WHITESPACE","\n            ",804],"}",["T_WHITESPACE"," ",805],["T_ELSE","else",805],["T_WHITESPACE"," ",805],"{",["T_WHITESPACE","\n                ",805],["T_COMMENT","#require_once 'Zend\/Pdf\/Exception.php';\n",806],["T_WHITESPACE","                ",807],["T_THROW","throw",807],["T_WHITESPACE"," ",807],["T_NEW","new",807],["T_WHITESPACE"," ",807],["T_STRING","Zend_Pdf_Exception",807],"(",["T_CONSTANT_ENCAPSED_STRING","'OpenAction has to be either PDF Action or Destination.'",807],")",";",["T_WHITESPACE","\n            ",807],"}",["T_WHITESPACE","\n        ",808],"}",["T_WHITESPACE","\n    ",809],"}",["T_WHITESPACE","\n\n    ",810],["T_DOC_COMMENT","\/**\n     * Dump named destinations\n     *\n     * @todo Create a balanced tree instead of plain structure.\n     *\/",812],["T_WHITESPACE","\n    ",816],["T_PROTECTED","protected",817],["T_WHITESPACE"," ",817],["T_FUNCTION","function",817],["T_WHITESPACE"," ",817],["T_STRING","_dumpNamedDestinations",817],"(",")",["T_WHITESPACE","\n    ",817],"{",["T_WHITESPACE","\n        ",818],["T_STRING","ksort",819],"(",["T_VARIABLE","$this",819],["T_OBJECT_OPERATOR","->",819],["T_STRING","_namedTargets",819],",",["T_WHITESPACE"," ",819],["T_STRING","SORT_STRING",819],")",";",["T_WHITESPACE","\n\n        ",819],["T_VARIABLE","$destArrayItems",821],["T_WHITESPACE"," ",821],"=",["T_WHITESPACE"," ",821],["T_ARRAY","array",821],"(",")",";",["T_WHITESPACE","\n        ",821],["T_FOREACH","foreach",822],["T_WHITESPACE"," ",822],"(",["T_VARIABLE","$this",822],["T_OBJECT_OPERATOR","->",822],["T_STRING","_namedTargets",822],["T_WHITESPACE"," ",822],["T_AS","as",822],["T_WHITESPACE"," ",822],["T_VARIABLE","$name",822],["T_WHITESPACE"," ",822],["T_DOUBLE_ARROW","=>",822],["T_WHITESPACE"," ",822],["T_VARIABLE","$destination",822],")",["T_WHITESPACE"," ",822],"{",["T_WHITESPACE","\n            ",822],["T_VARIABLE","$destArrayItems",823],"[","]",["T_WHITESPACE"," ",823],"=",["T_WHITESPACE"," ",823],["T_NEW","new",823],["T_WHITESPACE"," ",823],["T_STRING","Zend_Pdf_Element_String",823],"(",["T_VARIABLE","$name",823],")",";",["T_WHITESPACE","\n\n            ",823],["T_IF","if",825],["T_WHITESPACE"," ",825],"(",["T_VARIABLE","$destination",825],["T_WHITESPACE"," ",825],["T_INSTANCEOF","instanceof",825],["T_WHITESPACE"," ",825],["T_STRING","Zend_Pdf_Target",825],")",["T_WHITESPACE"," ",825],"{",["T_WHITESPACE","\n                ",825],["T_VARIABLE","$destArrayItems",826],"[","]",["T_WHITESPACE"," ",826],"=",["T_WHITESPACE"," ",826],["T_VARIABLE","$destination",826],["T_OBJECT_OPERATOR","->",826],["T_STRING","getResource",826],"(",")",";",["T_WHITESPACE","\n            ",826],"}",["T_WHITESPACE"," ",827],["T_ELSE","else",827],["T_WHITESPACE"," ",827],"{",["T_WHITESPACE","\n                ",827],["T_COMMENT","#require_once 'Zend\/Pdf\/Exception.php';\n",828],["T_WHITESPACE","                ",829],["T_THROW","throw",829],["T_WHITESPACE"," ",829],["T_NEW","new",829],["T_WHITESPACE"," ",829],["T_STRING","Zend_Pdf_Exception",829],"(",["T_CONSTANT_ENCAPSED_STRING","'PDF named destinations must be a Zend_Pdf_Target object.'",829],")",";",["T_WHITESPACE","\n            ",829],"}",["T_WHITESPACE","\n        ",830],"}",["T_WHITESPACE","\n        ",831],["T_VARIABLE","$destArray",832],["T_WHITESPACE"," ",832],"=",["T_WHITESPACE"," ",832],["T_VARIABLE","$this",832],["T_OBJECT_OPERATOR","->",832],["T_STRING","_objFactory",832],["T_OBJECT_OPERATOR","->",832],["T_STRING","newObject",832],"(",["T_NEW","new",832],["T_WHITESPACE"," ",832],["T_STRING","Zend_Pdf_Element_Array",832],"(",["T_VARIABLE","$destArrayItems",832],")",")",";",["T_WHITESPACE","\n\n        ",832],["T_VARIABLE","$DestTree",834],["T_WHITESPACE"," ",834],"=",["T_WHITESPACE"," ",834],["T_VARIABLE","$this",834],["T_OBJECT_OPERATOR","->",834],["T_STRING","_objFactory",834],["T_OBJECT_OPERATOR","->",834],["T_STRING","newObject",834],"(",["T_NEW","new",834],["T_WHITESPACE"," ",834],["T_STRING","Zend_Pdf_Element_Dictionary",834],"(",")",")",";",["T_WHITESPACE","\n        ",834],["T_VARIABLE","$DestTree",835],["T_OBJECT_OPERATOR","->",835],["T_STRING","Names",835],["T_WHITESPACE"," ",835],"=",["T_WHITESPACE"," ",835],["T_VARIABLE","$destArray",835],";",["T_WHITESPACE","\n\n        ",835],["T_VARIABLE","$root",837],["T_WHITESPACE"," ",837],"=",["T_WHITESPACE"," ",837],["T_VARIABLE","$this",837],["T_OBJECT_OPERATOR","->",837],["T_STRING","_trailer",837],["T_OBJECT_OPERATOR","->",837],["T_STRING","Root",837],";",["T_WHITESPACE","\n\n        ",837],["T_IF","if",839],["T_WHITESPACE"," ",839],"(",["T_VARIABLE","$root",839],["T_OBJECT_OPERATOR","->",839],["T_STRING","Names",839],["T_WHITESPACE"," ",839],["T_IS_IDENTICAL","===",839],["T_WHITESPACE"," ",839],["T_STRING","null",839],")",["T_WHITESPACE"," ",839],"{",["T_WHITESPACE","\n            ",839],["T_VARIABLE","$root",840],["T_OBJECT_OPERATOR","->",840],["T_STRING","touch",840],"(",")",";",["T_WHITESPACE","\n            ",840],["T_VARIABLE","$root",841],["T_OBJECT_OPERATOR","->",841],["T_STRING","Names",841],["T_WHITESPACE"," ",841],"=",["T_WHITESPACE"," ",841],["T_VARIABLE","$this",841],["T_OBJECT_OPERATOR","->",841],["T_STRING","_objFactory",841],["T_OBJECT_OPERATOR","->",841],["T_STRING","newObject",841],"(",["T_NEW","new",841],["T_WHITESPACE"," ",841],["T_STRING","Zend_Pdf_Element_Dictionary",841],"(",")",")",";",["T_WHITESPACE","\n        ",841],"}",["T_WHITESPACE"," ",842],["T_ELSE","else",842],["T_WHITESPACE"," ",842],"{",["T_WHITESPACE","\n            ",842],["T_VARIABLE","$root",843],["T_OBJECT_OPERATOR","->",843],["T_STRING","Names",843],["T_OBJECT_OPERATOR","->",843],["T_STRING","touch",843],"(",")",";",["T_WHITESPACE","\n        ",843],"}",["T_WHITESPACE","\n        ",844],["T_VARIABLE","$root",845],["T_OBJECT_OPERATOR","->",845],["T_STRING","Names",845],["T_OBJECT_OPERATOR","->",845],["T_STRING","Dests",845],["T_WHITESPACE"," ",845],"=",["T_WHITESPACE"," ",845],["T_VARIABLE","$DestTree",845],";",["T_WHITESPACE","\n    ",845],"}",["T_WHITESPACE","\n\n    ",846],["T_DOC_COMMENT","\/**\n     * Dump outlines recursively\n     *\/",848],["T_WHITESPACE","\n    ",850],["T_PROTECTED","protected",851],["T_WHITESPACE"," ",851],["T_FUNCTION","function",851],["T_WHITESPACE"," ",851],["T_STRING","_dumpOutlines",851],"(",")",["T_WHITESPACE","\n    ",851],"{",["T_WHITESPACE","\n        ",852],["T_VARIABLE","$root",853],["T_WHITESPACE"," ",853],"=",["T_WHITESPACE"," ",853],["T_VARIABLE","$this",853],["T_OBJECT_OPERATOR","->",853],["T_STRING","_trailer",853],["T_OBJECT_OPERATOR","->",853],["T_STRING","Root",853],";",["T_WHITESPACE","\n\n        ",853],["T_IF","if",855],["T_WHITESPACE"," ",855],"(",["T_VARIABLE","$root",855],["T_OBJECT_OPERATOR","->",855],["T_STRING","Outlines",855],["T_WHITESPACE"," ",855],["T_IS_IDENTICAL","===",855],["T_WHITESPACE"," ",855],["T_STRING","null",855],")",["T_WHITESPACE"," ",855],"{",["T_WHITESPACE","\n            ",855],["T_IF","if",856],["T_WHITESPACE"," ",856],"(",["T_STRING","count",856],"(",["T_VARIABLE","$this",856],["T_OBJECT_OPERATOR","->",856],["T_STRING","outlines",856],")",["T_WHITESPACE"," ",856],["T_IS_EQUAL","==",856],["T_WHITESPACE"," ",856],["T_LNUMBER","0",856],")",["T_WHITESPACE"," ",856],"{",["T_WHITESPACE","\n                ",856],["T_RETURN","return",857],";",["T_WHITESPACE","\n            ",857],"}",["T_WHITESPACE"," ",858],["T_ELSE","else",858],["T_WHITESPACE"," ",858],"{",["T_WHITESPACE","\n                ",858],["T_VARIABLE","$root",859],["T_OBJECT_OPERATOR","->",859],["T_STRING","Outlines",859],["T_WHITESPACE"," ",859],"=",["T_WHITESPACE"," ",859],["T_VARIABLE","$this",859],["T_OBJECT_OPERATOR","->",859],["T_STRING","_objFactory",859],["T_OBJECT_OPERATOR","->",859],["T_STRING","newObject",859],"(",["T_NEW","new",859],["T_WHITESPACE"," ",859],["T_STRING","Zend_Pdf_Element_Dictionary",859],"(",")",")",";",["T_WHITESPACE","\n                ",859],["T_VARIABLE","$root",860],["T_OBJECT_OPERATOR","->",860],["T_STRING","Outlines",860],["T_OBJECT_OPERATOR","->",860],["T_STRING","Type",860],["T_WHITESPACE"," ",860],"=",["T_WHITESPACE"," ",860],["T_NEW","new",860],["T_WHITESPACE"," ",860],["T_STRING","Zend_Pdf_Element_Name",860],"(",["T_CONSTANT_ENCAPSED_STRING","'Outlines'",860],")",";",["T_WHITESPACE","\n                ",860],["T_VARIABLE","$updateOutlinesNavigation",861],["T_WHITESPACE"," ",861],"=",["T_WHITESPACE"," ",861],["T_STRING","true",861],";",["T_WHITESPACE","\n            ",861],"}",["T_WHITESPACE","\n        ",862],"}",["T_WHITESPACE"," ",863],["T_ELSE","else",863],["T_WHITESPACE"," ",863],"{",["T_WHITESPACE","\n            ",863],["T_VARIABLE","$updateOutlinesNavigation",864],["T_WHITESPACE"," ",864],"=",["T_WHITESPACE"," ",864],["T_STRING","false",864],";",["T_WHITESPACE","\n            ",864],["T_IF","if",865],["T_WHITESPACE"," ",865],"(",["T_STRING","count",865],"(",["T_VARIABLE","$this",865],["T_OBJECT_OPERATOR","->",865],["T_STRING","_originalOutlines",865],")",["T_WHITESPACE"," ",865],["T_IS_NOT_EQUAL","!=",865],["T_WHITESPACE"," ",865],["T_STRING","count",865],"(",["T_VARIABLE","$this",865],["T_OBJECT_OPERATOR","->",865],["T_STRING","outlines",865],")",")",["T_WHITESPACE"," ",865],"{",["T_WHITESPACE","\n                ",865],["T_COMMENT","\/\/ If original and current outlines arrays have different size then outlines list was updated\n",866],["T_WHITESPACE","                ",867],["T_VARIABLE","$updateOutlinesNavigation",867],["T_WHITESPACE"," ",867],"=",["T_WHITESPACE"," ",867],["T_STRING","true",867],";",["T_WHITESPACE","\n            ",867],"}",["T_WHITESPACE"," ",868],["T_ELSE","else",868],["T_WHITESPACE"," ",868],["T_IF","if",868],["T_WHITESPACE"," ",868],"(",["T_WHITESPACE"," ",868],"!","(",["T_STRING","array_keys",868],"(",["T_VARIABLE","$this",868],["T_OBJECT_OPERATOR","->",868],["T_STRING","_originalOutlines",868],")",["T_WHITESPACE"," ",868],["T_IS_IDENTICAL","===",868],["T_WHITESPACE"," ",868],["T_STRING","array_keys",868],"(",["T_VARIABLE","$this",868],["T_OBJECT_OPERATOR","->",868],["T_STRING","outlines",868],")",")",["T_WHITESPACE"," ",868],")",["T_WHITESPACE"," ",868],"{",["T_WHITESPACE","\n                ",868],["T_COMMENT","\/\/ If original and current outlines arrays have different keys (with a glance to an order) then outlines list was updated\n",869],["T_WHITESPACE","                ",870],["T_VARIABLE","$updateOutlinesNavigation",870],["T_WHITESPACE"," ",870],"=",["T_WHITESPACE"," ",870],["T_STRING","true",870],";",["T_WHITESPACE","\n            ",870],"}",["T_WHITESPACE"," ",871],["T_ELSE","else",871],["T_WHITESPACE"," ",871],"{",["T_WHITESPACE","\n                ",871],["T_FOREACH","foreach",872],["T_WHITESPACE"," ",872],"(",["T_VARIABLE","$this",872],["T_OBJECT_OPERATOR","->",872],["T_STRING","outlines",872],["T_WHITESPACE"," ",872],["T_AS","as",872],["T_WHITESPACE"," ",872],["T_VARIABLE","$key",872],["T_WHITESPACE"," ",872],["T_DOUBLE_ARROW","=>",872],["T_WHITESPACE"," ",872],["T_VARIABLE","$outline",872],")",["T_WHITESPACE"," ",872],"{",["T_WHITESPACE","\n                    ",872],["T_IF","if",873],["T_WHITESPACE"," ",873],"(",["T_VARIABLE","$this",873],["T_OBJECT_OPERATOR","->",873],["T_STRING","_originalOutlines",873],"[",["T_VARIABLE","$key",873],"]",["T_WHITESPACE"," ",873],["T_IS_NOT_IDENTICAL","!==",873],["T_WHITESPACE"," ",873],["T_VARIABLE","$outline",873],")",["T_WHITESPACE"," ",873],"{",["T_WHITESPACE","\n                        ",873],["T_VARIABLE","$updateOutlinesNavigation",874],["T_WHITESPACE"," ",874],"=",["T_WHITESPACE"," ",874],["T_STRING","true",874],";",["T_WHITESPACE","\n                    ",874],"}",["T_WHITESPACE","\n                ",875],"}",["T_WHITESPACE","\n            ",876],"}",["T_WHITESPACE","\n        ",877],"}",["T_WHITESPACE","\n\n        ",878],["T_VARIABLE","$lastOutline",880],["T_WHITESPACE"," ",880],"=",["T_WHITESPACE"," ",880],["T_STRING","null",880],";",["T_WHITESPACE","\n        ",880],["T_VARIABLE","$openOutlinesCount",881],["T_WHITESPACE"," ",881],"=",["T_WHITESPACE"," ",881],["T_LNUMBER","0",881],";",["T_WHITESPACE","\n        ",881],["T_IF","if",882],["T_WHITESPACE"," ",882],"(",["T_VARIABLE","$updateOutlinesNavigation",882],")",["T_WHITESPACE"," ",882],"{",["T_WHITESPACE","\n            ",882],["T_VARIABLE","$root",883],["T_OBJECT_OPERATOR","->",883],["T_STRING","Outlines",883],["T_OBJECT_OPERATOR","->",883],["T_STRING","touch",883],"(",")",";",["T_WHITESPACE","\n            ",883],["T_VARIABLE","$root",884],["T_OBJECT_OPERATOR","->",884],["T_STRING","Outlines",884],["T_OBJECT_OPERATOR","->",884],["T_STRING","First",884],["T_WHITESPACE"," ",884],"=",["T_WHITESPACE"," ",884],["T_STRING","null",884],";",["T_WHITESPACE","\n\n            ",884],["T_FOREACH","foreach",886],["T_WHITESPACE"," ",886],"(",["T_VARIABLE","$this",886],["T_OBJECT_OPERATOR","->",886],["T_STRING","outlines",886],["T_WHITESPACE"," ",886],["T_AS","as",886],["T_WHITESPACE"," ",886],["T_VARIABLE","$outline",886],")",["T_WHITESPACE"," ",886],"{",["T_WHITESPACE","\n                ",886],["T_IF","if",887],["T_WHITESPACE"," ",887],"(",["T_VARIABLE","$lastOutline",887],["T_WHITESPACE"," ",887],["T_IS_IDENTICAL","===",887],["T_WHITESPACE"," ",887],["T_STRING","null",887],")",["T_WHITESPACE"," ",887],"{",["T_WHITESPACE","\n                    ",887],["T_COMMENT","\/\/ First pass. Update Outlines dictionary First entry using corresponding value\n",888],["T_WHITESPACE","                    ",889],["T_VARIABLE","$lastOutline",889],["T_WHITESPACE"," ",889],"=",["T_WHITESPACE"," ",889],["T_VARIABLE","$outline",889],["T_OBJECT_OPERATOR","->",889],["T_STRING","dumpOutline",889],"(",["T_VARIABLE","$this",889],["T_OBJECT_OPERATOR","->",889],["T_STRING","_objFactory",889],",",["T_WHITESPACE"," ",889],["T_VARIABLE","$updateOutlinesNavigation",889],",",["T_WHITESPACE"," ",889],["T_VARIABLE","$root",889],["T_OBJECT_OPERATOR","->",889],["T_STRING","Outlines",889],")",";",["T_WHITESPACE","\n                    ",889],["T_VARIABLE","$root",890],["T_OBJECT_OPERATOR","->",890],["T_STRING","Outlines",890],["T_OBJECT_OPERATOR","->",890],["T_STRING","First",890],["T_WHITESPACE"," ",890],"=",["T_WHITESPACE"," ",890],["T_VARIABLE","$lastOutline",890],";",["T_WHITESPACE","\n                ",890],"}",["T_WHITESPACE"," ",891],["T_ELSE","else",891],["T_WHITESPACE"," ",891],"{",["T_WHITESPACE","\n                    ",891],["T_COMMENT","\/\/ Update previous outline dictionary Next entry (Prev is updated within dumpOutline() method)\n",892],["T_WHITESPACE","                    ",893],["T_VARIABLE","$currentOutlineDictionary",893],["T_WHITESPACE"," ",893],"=",["T_WHITESPACE"," ",893],["T_VARIABLE","$outline",893],["T_OBJECT_OPERATOR","->",893],["T_STRING","dumpOutline",893],"(",["T_VARIABLE","$this",893],["T_OBJECT_OPERATOR","->",893],["T_STRING","_objFactory",893],",",["T_WHITESPACE"," ",893],["T_VARIABLE","$updateOutlinesNavigation",893],",",["T_WHITESPACE"," ",893],["T_VARIABLE","$root",893],["T_OBJECT_OPERATOR","->",893],["T_STRING","Outlines",893],",",["T_WHITESPACE"," ",893],["T_VARIABLE","$lastOutline",893],")",";",["T_WHITESPACE","\n                    ",893],["T_VARIABLE","$lastOutline",894],["T_OBJECT_OPERATOR","->",894],["T_STRING","Next",894],["T_WHITESPACE"," ",894],"=",["T_WHITESPACE"," ",894],["T_VARIABLE","$currentOutlineDictionary",894],";",["T_WHITESPACE","\n                    ",894],["T_VARIABLE","$lastOutline",895],["T_WHITESPACE","       ",895],"=",["T_WHITESPACE"," ",895],["T_VARIABLE","$currentOutlineDictionary",895],";",["T_WHITESPACE","\n                ",895],"}",["T_WHITESPACE","\n                ",896],["T_VARIABLE","$openOutlinesCount",897],["T_WHITESPACE"," ",897],["T_PLUS_EQUAL","+=",897],["T_WHITESPACE"," ",897],["T_VARIABLE","$outline",897],["T_OBJECT_OPERATOR","->",897],["T_STRING","openOutlinesCount",897],"(",")",";",["T_WHITESPACE","\n            ",897],"}",["T_WHITESPACE","\n\n            ",898],["T_VARIABLE","$root",900],["T_OBJECT_OPERATOR","->",900],["T_STRING","Outlines",900],["T_OBJECT_OPERATOR","->",900],["T_STRING","Last",900],["T_WHITESPACE","  ",900],"=",["T_WHITESPACE"," ",900],["T_VARIABLE","$lastOutline",900],";",["T_WHITESPACE","\n        ",900],"}",["T_WHITESPACE"," ",901],["T_ELSE","else",901],["T_WHITESPACE"," ",901],"{",["T_WHITESPACE","\n            ",901],["T_FOREACH","foreach",902],["T_WHITESPACE"," ",902],"(",["T_VARIABLE","$this",902],["T_OBJECT_OPERATOR","->",902],["T_STRING","outlines",902],["T_WHITESPACE"," ",902],["T_AS","as",902],["T_WHITESPACE"," ",902],["T_VARIABLE","$outline",902],")",["T_WHITESPACE"," ",902],"{",["T_WHITESPACE","\n                ",902],["T_VARIABLE","$lastOutline",903],["T_WHITESPACE"," ",903],"=",["T_WHITESPACE"," ",903],["T_VARIABLE","$outline",903],["T_OBJECT_OPERATOR","->",903],["T_STRING","dumpOutline",903],"(",["T_VARIABLE","$this",903],["T_OBJECT_OPERATOR","->",903],["T_STRING","_objFactory",903],",",["T_WHITESPACE"," ",903],["T_VARIABLE","$updateOutlinesNavigation",903],",",["T_WHITESPACE"," ",903],["T_VARIABLE","$root",903],["T_OBJECT_OPERATOR","->",903],["T_STRING","Outlines",903],",",["T_WHITESPACE"," ",903],["T_VARIABLE","$lastOutline",903],")",";",["T_WHITESPACE","\n                ",903],["T_VARIABLE","$openOutlinesCount",904],["T_WHITESPACE"," ",904],["T_PLUS_EQUAL","+=",904],["T_WHITESPACE"," ",904],["T_VARIABLE","$outline",904],["T_OBJECT_OPERATOR","->",904],["T_STRING","openOutlinesCount",904],"(",")",";",["T_WHITESPACE","\n            ",904],"}",["T_WHITESPACE","\n        ",905],"}",["T_WHITESPACE","\n\n        ",906],["T_IF","if",908],["T_WHITESPACE"," ",908],"(",["T_VARIABLE","$openOutlinesCount",908],["T_WHITESPACE"," ",908],["T_IS_NOT_EQUAL","!=",908],["T_WHITESPACE"," ",908],["T_VARIABLE","$this",908],["T_OBJECT_OPERATOR","->",908],["T_STRING","_originalOpenOutlinesCount",908],")",["T_WHITESPACE"," ",908],"{",["T_WHITESPACE","\n            ",908],["T_VARIABLE","$root",909],["T_OBJECT_OPERATOR","->",909],["T_STRING","Outlines",909],["T_OBJECT_OPERATOR","->",909],["T_STRING","touch",909],";",["T_WHITESPACE","\n            ",909],["T_VARIABLE","$root",910],["T_OBJECT_OPERATOR","->",910],["T_STRING","Outlines",910],["T_OBJECT_OPERATOR","->",910],["T_STRING","Count",910],["T_WHITESPACE"," ",910],"=",["T_WHITESPACE"," ",910],["T_NEW","new",910],["T_WHITESPACE"," ",910],["T_STRING","Zend_Pdf_Element_Numeric",910],"(",["T_VARIABLE","$openOutlinesCount",910],")",";",["T_WHITESPACE","\n        ",910],"}",["T_WHITESPACE","\n    ",911],"}",["T_WHITESPACE","\n\n    ",912],["T_DOC_COMMENT","\/**\n     * Create page object, attached to the PDF document.\n     * Method signatures:\n     *\n     * 1. Create new page with a specified pagesize.\n     *    If $factory is null then it will be created and page must be attached to the document to be\n     *    included into output.\n     * ---------------------------------------------------------\n     * new Zend_Pdf_Page(string $pagesize);\n     * ---------------------------------------------------------\n     *\n     * 2. Create new page with a specified pagesize (in default user space units).\n     *    If $factory is null then it will be created and page must be attached to the document to be\n     *    included into output.\n     * ---------------------------------------------------------\n     * new Zend_Pdf_Page(numeric $width, numeric $height);\n     * ---------------------------------------------------------\n     *\n     * @param mixed $param1\n     * @param mixed $param2\n     * @return Zend_Pdf_Page\n     *\/",914],["T_WHITESPACE","\n    ",935],["T_PUBLIC","public",936],["T_WHITESPACE"," ",936],["T_FUNCTION","function",936],["T_WHITESPACE"," ",936],["T_STRING","newPage",936],"(",["T_VARIABLE","$param1",936],",",["T_WHITESPACE"," ",936],["T_VARIABLE","$param2",936],["T_WHITESPACE"," ",936],"=",["T_WHITESPACE"," ",936],["T_STRING","null",936],")",["T_WHITESPACE","\n    ",936],"{",["T_WHITESPACE","\n        ",937],["T_COMMENT","#require_once 'Zend\/Pdf\/Page.php';\n",938],["T_WHITESPACE","        ",939],["T_IF","if",939],["T_WHITESPACE"," ",939],"(",["T_VARIABLE","$param2",939],["T_WHITESPACE"," ",939],["T_IS_IDENTICAL","===",939],["T_WHITESPACE"," ",939],["T_STRING","null",939],")",["T_WHITESPACE"," ",939],"{",["T_WHITESPACE","\n            ",939],["T_RETURN","return",940],["T_WHITESPACE"," ",940],["T_NEW","new",940],["T_WHITESPACE"," ",940],["T_STRING","Zend_Pdf_Page",940],"(",["T_VARIABLE","$param1",940],",",["T_WHITESPACE"," ",940],["T_VARIABLE","$this",940],["T_OBJECT_OPERATOR","->",940],["T_STRING","_objFactory",940],")",";",["T_WHITESPACE","\n        ",940],"}",["T_WHITESPACE"," ",941],["T_ELSE","else",941],["T_WHITESPACE"," ",941],"{",["T_WHITESPACE","\n            ",941],["T_RETURN","return",942],["T_WHITESPACE"," ",942],["T_NEW","new",942],["T_WHITESPACE"," ",942],["T_STRING","Zend_Pdf_Page",942],"(",["T_VARIABLE","$param1",942],",",["T_WHITESPACE"," ",942],["T_VARIABLE","$param2",942],",",["T_WHITESPACE"," ",942],["T_VARIABLE","$this",942],["T_OBJECT_OPERATOR","->",942],["T_STRING","_objFactory",942],")",";",["T_WHITESPACE","\n        ",942],"}",["T_WHITESPACE","\n    ",943],"}",["T_WHITESPACE","\n\n    ",944],["T_DOC_COMMENT","\/**\n     * Return the document-level Metadata\n     * or null Metadata stream is not presented\n     *\n     * @return string\n     *\/",946],["T_WHITESPACE","\n    ",951],["T_PUBLIC","public",952],["T_WHITESPACE"," ",952],["T_FUNCTION","function",952],["T_WHITESPACE"," ",952],["T_STRING","getMetadata",952],"(",")",["T_WHITESPACE","\n    ",952],"{",["T_WHITESPACE","\n        ",953],["T_IF","if",954],["T_WHITESPACE"," ",954],"(",["T_VARIABLE","$this",954],["T_OBJECT_OPERATOR","->",954],["T_STRING","_trailer",954],["T_OBJECT_OPERATOR","->",954],["T_STRING","Root",954],["T_OBJECT_OPERATOR","->",954],["T_STRING","Metadata",954],["T_WHITESPACE"," ",954],["T_IS_NOT_IDENTICAL","!==",954],["T_WHITESPACE"," ",954],["T_STRING","null",954],")",["T_WHITESPACE"," ",954],"{",["T_WHITESPACE","\n            ",954],["T_RETURN","return",955],["T_WHITESPACE"," ",955],["T_VARIABLE","$this",955],["T_OBJECT_OPERATOR","->",955],["T_STRING","_trailer",955],["T_OBJECT_OPERATOR","->",955],["T_STRING","Root",955],["T_OBJECT_OPERATOR","->",955],["T_STRING","Metadata",955],["T_OBJECT_OPERATOR","->",955],["T_STRING","value",955],";",["T_WHITESPACE","\n        ",955],"}",["T_WHITESPACE"," ",956],["T_ELSE","else",956],["T_WHITESPACE"," ",956],"{",["T_WHITESPACE","\n            ",956],["T_RETURN","return",957],["T_WHITESPACE"," ",957],["T_STRING","null",957],";",["T_WHITESPACE","\n        ",957],"}",["T_WHITESPACE","\n    ",958],"}",["T_WHITESPACE","\n\n    ",959],["T_DOC_COMMENT","\/**\n     * Sets the document-level Metadata (mast be valid XMP document)\n     *\n     * @param string $metadata\n     *\/",961],["T_WHITESPACE","\n    ",965],["T_PUBLIC","public",966],["T_WHITESPACE"," ",966],["T_FUNCTION","function",966],["T_WHITESPACE"," ",966],["T_STRING","setMetadata",966],"(",["T_VARIABLE","$metadata",966],")",["T_WHITESPACE","\n    ",966],"{",["T_WHITESPACE","\n        ",967],["T_VARIABLE","$metadataObject",968],["T_WHITESPACE"," ",968],"=",["T_WHITESPACE"," ",968],["T_VARIABLE","$this",968],["T_OBJECT_OPERATOR","->",968],["T_STRING","_objFactory",968],["T_OBJECT_OPERATOR","->",968],["T_STRING","newStreamObject",968],"(",["T_VARIABLE","$metadata",968],")",";",["T_WHITESPACE","\n        ",968],["T_VARIABLE","$metadataObject",969],["T_OBJECT_OPERATOR","->",969],["T_STRING","dictionary",969],["T_OBJECT_OPERATOR","->",969],["T_STRING","Type",969],["T_WHITESPACE","    ",969],"=",["T_WHITESPACE"," ",969],["T_NEW","new",969],["T_WHITESPACE"," ",969],["T_STRING","Zend_Pdf_Element_Name",969],"(",["T_CONSTANT_ENCAPSED_STRING","'Metadata'",969],")",";",["T_WHITESPACE","\n        ",969],["T_VARIABLE","$metadataObject",970],["T_OBJECT_OPERATOR","->",970],["T_STRING","dictionary",970],["T_OBJECT_OPERATOR","->",970],["T_STRING","Subtype",970],["T_WHITESPACE"," ",970],"=",["T_WHITESPACE"," ",970],["T_NEW","new",970],["T_WHITESPACE"," ",970],["T_STRING","Zend_Pdf_Element_Name",970],"(",["T_CONSTANT_ENCAPSED_STRING","'XML'",970],")",";",["T_WHITESPACE","\n\n        ",970],["T_VARIABLE","$this",972],["T_OBJECT_OPERATOR","->",972],["T_STRING","_trailer",972],["T_OBJECT_OPERATOR","->",972],["T_STRING","Root",972],["T_OBJECT_OPERATOR","->",972],["T_STRING","Metadata",972],["T_WHITESPACE"," ",972],"=",["T_WHITESPACE"," ",972],["T_VARIABLE","$metadataObject",972],";",["T_WHITESPACE","\n        ",972],["T_VARIABLE","$this",973],["T_OBJECT_OPERATOR","->",973],["T_STRING","_trailer",973],["T_OBJECT_OPERATOR","->",973],["T_STRING","Root",973],["T_OBJECT_OPERATOR","->",973],["T_STRING","touch",973],"(",")",";",["T_WHITESPACE","\n    ",973],"}",["T_WHITESPACE","\n\n    ",974],["T_DOC_COMMENT","\/**\n     * Return the document-level JavaScript\n     * or null if there is no JavaScript for this document\n     *\n     * @return string\n     *\/",976],["T_WHITESPACE","\n    ",981],["T_PUBLIC","public",982],["T_WHITESPACE"," ",982],["T_FUNCTION","function",982],["T_WHITESPACE"," ",982],["T_STRING","getJavaScript",982],"(",")",["T_WHITESPACE","\n    ",982],"{",["T_WHITESPACE","\n        ",983],["T_RETURN","return",984],["T_WHITESPACE"," ",984],["T_VARIABLE","$this",984],["T_OBJECT_OPERATOR","->",984],["T_STRING","_javaScript",984],";",["T_WHITESPACE","\n    ",984],"}",["T_WHITESPACE","\n\n    ",985],["T_DOC_COMMENT","\/**\n     * Get open Action\n     * Returns Zend_Pdf_Target (Zend_Pdf_Destination or Zend_Pdf_Action object)\n     *\n     * @return Zend_Pdf_Target\n     *\/",987],["T_WHITESPACE","\n    ",992],["T_PUBLIC","public",993],["T_WHITESPACE"," ",993],["T_FUNCTION","function",993],["T_WHITESPACE"," ",993],["T_STRING","getOpenAction",993],"(",")",["T_WHITESPACE","\n    ",993],"{",["T_WHITESPACE","\n        ",994],["T_IF","if",995],["T_WHITESPACE"," ",995],"(",["T_VARIABLE","$this",995],["T_OBJECT_OPERATOR","->",995],["T_STRING","_trailer",995],["T_OBJECT_OPERATOR","->",995],["T_STRING","Root",995],["T_OBJECT_OPERATOR","->",995],["T_STRING","OpenAction",995],["T_WHITESPACE"," ",995],["T_IS_NOT_IDENTICAL","!==",995],["T_WHITESPACE"," ",995],["T_STRING","null",995],")",["T_WHITESPACE"," ",995],"{",["T_WHITESPACE","\n            ",995],["T_COMMENT","#require_once 'Zend\/Pdf\/Target.php';\n",996],["T_WHITESPACE","            ",997],["T_RETURN","return",997],["T_WHITESPACE"," ",997],["T_STRING","Zend_Pdf_Target",997],["T_DOUBLE_COLON","::",997],["T_STRING","load",997],"(",["T_VARIABLE","$this",997],["T_OBJECT_OPERATOR","->",997],["T_STRING","_trailer",997],["T_OBJECT_OPERATOR","->",997],["T_STRING","Root",997],["T_OBJECT_OPERATOR","->",997],["T_STRING","OpenAction",997],")",";",["T_WHITESPACE","\n        ",997],"}",["T_WHITESPACE"," ",998],["T_ELSE","else",998],["T_WHITESPACE"," ",998],"{",["T_WHITESPACE","\n            ",998],["T_RETURN","return",999],["T_WHITESPACE"," ",999],["T_STRING","null",999],";",["T_WHITESPACE","\n        ",999],"}",["T_WHITESPACE","\n    ",1000],"}",["T_WHITESPACE","\n\n    ",1001],["T_DOC_COMMENT","\/**\n     * Set open Action which is actually Zend_Pdf_Destination or Zend_Pdf_Action object\n     *\n     * @param Zend_Pdf_Target $openAction\n     * @returns Zend_Pdf\n     *\/",1003],["T_WHITESPACE","\n    ",1008],["T_PUBLIC","public",1009],["T_WHITESPACE"," ",1009],["T_FUNCTION","function",1009],["T_WHITESPACE"," ",1009],["T_STRING","setOpenAction",1009],"(",["T_STRING","Zend_Pdf_Target",1009],["T_WHITESPACE"," ",1009],["T_VARIABLE","$openAction",1009],["T_WHITESPACE"," ",1009],"=",["T_WHITESPACE"," ",1009],["T_STRING","null",1009],")",["T_WHITESPACE","\n    ",1009],"{",["T_WHITESPACE","\n        ",1010],["T_VARIABLE","$root",1011],["T_WHITESPACE"," ",1011],"=",["T_WHITESPACE"," ",1011],["T_VARIABLE","$this",1011],["T_OBJECT_OPERATOR","->",1011],["T_STRING","_trailer",1011],["T_OBJECT_OPERATOR","->",1011],["T_STRING","Root",1011],";",["T_WHITESPACE","\n        ",1011],["T_VARIABLE","$root",1012],["T_OBJECT_OPERATOR","->",1012],["T_STRING","touch",1012],"(",")",";",["T_WHITESPACE","\n\n        ",1012],["T_IF","if",1014],["T_WHITESPACE"," ",1014],"(",["T_VARIABLE","$openAction",1014],["T_WHITESPACE"," ",1014],["T_IS_IDENTICAL","===",1014],["T_WHITESPACE"," ",1014],["T_STRING","null",1014],")",["T_WHITESPACE"," ",1014],"{",["T_WHITESPACE","\n            ",1014],["T_VARIABLE","$root",1015],["T_OBJECT_OPERATOR","->",1015],["T_STRING","OpenAction",1015],["T_WHITESPACE"," ",1015],"=",["T_WHITESPACE"," ",1015],["T_STRING","null",1015],";",["T_WHITESPACE","\n        ",1015],"}",["T_WHITESPACE"," ",1016],["T_ELSE","else",1016],["T_WHITESPACE"," ",1016],"{",["T_WHITESPACE","\n            ",1016],["T_VARIABLE","$root",1017],["T_OBJECT_OPERATOR","->",1017],["T_STRING","OpenAction",1017],["T_WHITESPACE"," ",1017],"=",["T_WHITESPACE"," ",1017],["T_VARIABLE","$openAction",1017],["T_OBJECT_OPERATOR","->",1017],["T_STRING","getResource",1017],"(",")",";",["T_WHITESPACE","\n\n            ",1017],["T_IF","if",1019],["T_WHITESPACE"," ",1019],"(",["T_VARIABLE","$openAction",1019],["T_WHITESPACE"," ",1019],["T_INSTANCEOF","instanceof",1019],["T_WHITESPACE"," ",1019],["T_STRING","Zend_Pdf_Action",1019],")",["T_WHITESPACE","  ",1019],"{",["T_WHITESPACE","\n                ",1019],["T_VARIABLE","$openAction",1020],["T_OBJECT_OPERATOR","->",1020],["T_STRING","dumpAction",1020],"(",["T_VARIABLE","$this",1020],["T_OBJECT_OPERATOR","->",1020],["T_STRING","_objFactory",1020],")",";",["T_WHITESPACE","\n            ",1020],"}",["T_WHITESPACE","\n        ",1021],"}",["T_WHITESPACE","\n\n        ",1022],["T_RETURN","return",1024],["T_WHITESPACE"," ",1024],["T_VARIABLE","$this",1024],";",["T_WHITESPACE","\n    ",1024],"}",["T_WHITESPACE","\n\n    ",1025],["T_DOC_COMMENT","\/**\n     * Return an associative array containing all the named destinations (or GoTo actions) in the PDF.\n     * Named targets can be used to reference from outside\n     * the PDF, ex: 'http:\/\/www.something.com\/mydocument.pdf#MyAction'\n     *\n     * @return array\n     *\/",1027],["T_WHITESPACE","\n    ",1033],["T_PUBLIC","public",1034],["T_WHITESPACE"," ",1034],["T_FUNCTION","function",1034],["T_WHITESPACE"," ",1034],["T_STRING","getNamedDestinations",1034],"(",")",["T_WHITESPACE","\n    ",1034],"{",["T_WHITESPACE","\n        ",1035],["T_RETURN","return",1036],["T_WHITESPACE"," ",1036],["T_VARIABLE","$this",1036],["T_OBJECT_OPERATOR","->",1036],["T_STRING","_namedTargets",1036],";",["T_WHITESPACE","\n    ",1036],"}",["T_WHITESPACE","\n\n    ",1037],["T_DOC_COMMENT","\/**\n     * Return specified named destination\n     *\n     * @param string $name\n     * @return Zend_Pdf_Destination_Explicit|Zend_Pdf_Action_GoTo\n     *\/",1039],["T_WHITESPACE","\n    ",1044],["T_PUBLIC","public",1045],["T_WHITESPACE"," ",1045],["T_FUNCTION","function",1045],["T_WHITESPACE"," ",1045],["T_STRING","getNamedDestination",1045],"(",["T_VARIABLE","$name",1045],")",["T_WHITESPACE","\n    ",1045],"{",["T_WHITESPACE","\n        ",1046],["T_IF","if",1047],["T_WHITESPACE"," ",1047],"(",["T_ISSET","isset",1047],"(",["T_VARIABLE","$this",1047],["T_OBJECT_OPERATOR","->",1047],["T_STRING","_namedTargets",1047],"[",["T_VARIABLE","$name",1047],"]",")",")",["T_WHITESPACE"," ",1047],"{",["T_WHITESPACE","\n            ",1047],["T_RETURN","return",1048],["T_WHITESPACE"," ",1048],["T_VARIABLE","$this",1048],["T_OBJECT_OPERATOR","->",1048],["T_STRING","_namedTargets",1048],"[",["T_VARIABLE","$name",1048],"]",";",["T_WHITESPACE","\n        ",1048],"}",["T_WHITESPACE"," ",1049],["T_ELSE","else",1049],["T_WHITESPACE"," ",1049],"{",["T_WHITESPACE","\n            ",1049],["T_RETURN","return",1050],["T_WHITESPACE"," ",1050],["T_STRING","null",1050],";",["T_WHITESPACE","\n        ",1050],"}",["T_WHITESPACE","\n    ",1051],"}",["T_WHITESPACE","\n\n    ",1052],["T_DOC_COMMENT","\/**\n     * Set specified named destination\n     *\n     * @param string                                             $name\n     * @param Zend_Pdf_Destination_Explicit|Zend_Pdf_Action_GoTo $destination\n     * @throws Zend_Pdf_Exception\n     *\/",1054],["T_WHITESPACE","\n    ",1060],["T_PUBLIC","public",1061],["T_WHITESPACE"," ",1061],["T_FUNCTION","function",1061],["T_WHITESPACE"," ",1061],["T_STRING","setNamedDestination",1061],"(",["T_VARIABLE","$name",1061],",",["T_WHITESPACE"," ",1061],["T_VARIABLE","$destination",1061],["T_WHITESPACE"," ",1061],"=",["T_WHITESPACE"," ",1061],["T_STRING","null",1061],")",["T_WHITESPACE","\n    ",1061],"{",["T_WHITESPACE","\n        ",1062],["T_IF","if",1063],["T_WHITESPACE"," ",1063],"(",["T_VARIABLE","$destination",1063],["T_WHITESPACE"," ",1063],["T_IS_NOT_IDENTICAL","!==",1063],["T_WHITESPACE"," ",1063],["T_STRING","null",1063],["T_WHITESPACE","  ",1063],["T_BOOLEAN_AND","&&",1063],["T_WHITESPACE","\n            ",1063],"!",["T_VARIABLE","$destination",1064],["T_WHITESPACE"," ",1064],["T_INSTANCEOF","instanceof",1064],["T_WHITESPACE"," ",1064],["T_STRING","Zend_Pdf_Action_GoTo",1064],["T_WHITESPACE","  ",1064],["T_BOOLEAN_AND","&&",1064],["T_WHITESPACE","\n            ",1064],"!",["T_VARIABLE","$destination",1065],["T_WHITESPACE"," ",1065],["T_INSTANCEOF","instanceof",1065],["T_WHITESPACE"," ",1065],["T_STRING","Zend_Pdf_Destination_Explicit",1065],")",["T_WHITESPACE"," ",1065],"{",["T_WHITESPACE","\n            ",1065],["T_COMMENT","#require_once 'Zend\/Pdf\/Exception.php';\n",1066],["T_WHITESPACE","            ",1067],["T_THROW","throw",1067],["T_WHITESPACE"," ",1067],["T_NEW","new",1067],["T_WHITESPACE"," ",1067],["T_STRING","Zend_Pdf_Exception",1067],"(",["T_CONSTANT_ENCAPSED_STRING","'PDF named destination must refer an explicit destination or a GoTo PDF action.'",1067],")",";",["T_WHITESPACE","\n        ",1067],"}",["T_WHITESPACE","\n\n        ",1068],["T_IF","if",1070],["T_WHITESPACE"," ",1070],"(",["T_VARIABLE","$destination",1070],["T_WHITESPACE"," ",1070],["T_IS_NOT_IDENTICAL","!==",1070],["T_WHITESPACE"," ",1070],["T_STRING","null",1070],")",["T_WHITESPACE"," ",1070],"{",["T_WHITESPACE","\n           ",1070],["T_VARIABLE","$this",1071],["T_OBJECT_OPERATOR","->",1071],["T_STRING","_namedTargets",1071],"[",["T_VARIABLE","$name",1071],"]",["T_WHITESPACE"," ",1071],"=",["T_WHITESPACE"," ",1071],["T_VARIABLE","$destination",1071],";",["T_WHITESPACE","\n        ",1071],"}",["T_WHITESPACE"," ",1072],["T_ELSE","else",1072],["T_WHITESPACE"," ",1072],"{",["T_WHITESPACE","\n            ",1072],["T_UNSET","unset",1073],"(",["T_VARIABLE","$this",1073],["T_OBJECT_OPERATOR","->",1073],["T_STRING","_namedTargets",1073],"[",["T_VARIABLE","$name",1073],"]",")",";",["T_WHITESPACE","\n        ",1073],"}",["T_WHITESPACE","\n    ",1074],"}",["T_WHITESPACE","\n\n    ",1075],["T_DOC_COMMENT","\/**\n     * Pages collection hash:\n     * <page dictionary object hash id> => Zend_Pdf_Page\n     *\n     * @var SplObjectStorage\n     *\/",1077],["T_WHITESPACE","\n    ",1082],["T_PROTECTED","protected",1083],["T_WHITESPACE"," ",1083],["T_VARIABLE","$_pageReferences",1083],["T_WHITESPACE"," ",1083],"=",["T_WHITESPACE"," ",1083],["T_STRING","null",1083],";",["T_WHITESPACE","\n\n    ",1083],["T_DOC_COMMENT","\/**\n     * Pages collection hash:\n     * <page number> => Zend_Pdf_Page\n     *\n     * @var array\n     *\/",1085],["T_WHITESPACE","\n    ",1090],["T_PROTECTED","protected",1091],["T_WHITESPACE"," ",1091],["T_VARIABLE","$_pageNumbers",1091],["T_WHITESPACE"," ",1091],"=",["T_WHITESPACE"," ",1091],["T_STRING","null",1091],";",["T_WHITESPACE","\n\n    ",1091],["T_DOC_COMMENT","\/**\n     * Refresh page collection hashes\n     *\n     * @return Zend_Pdf\n     *\/",1093],["T_WHITESPACE","\n    ",1097],["T_PROTECTED","protected",1098],["T_WHITESPACE"," ",1098],["T_FUNCTION","function",1098],["T_WHITESPACE"," ",1098],["T_STRING","_refreshPagesHash",1098],"(",")",["T_WHITESPACE","\n    ",1098],"{",["T_WHITESPACE","\n        ",1099],["T_VARIABLE","$this",1100],["T_OBJECT_OPERATOR","->",1100],["T_STRING","_pageReferences",1100],["T_WHITESPACE"," ",1100],"=",["T_WHITESPACE"," ",1100],["T_ARRAY","array",1100],"(",")",";",["T_WHITESPACE","\n        ",1100],["T_VARIABLE","$this",1101],["T_OBJECT_OPERATOR","->",1101],["T_STRING","_pageNumbers",1101],["T_WHITESPACE","    ",1101],"=",["T_WHITESPACE"," ",1101],["T_ARRAY","array",1101],"(",")",";",["T_WHITESPACE","\n        ",1101],["T_VARIABLE","$count",1102],["T_WHITESPACE"," ",1102],"=",["T_WHITESPACE"," ",1102],["T_LNUMBER","1",1102],";",["T_WHITESPACE","\n        ",1102],["T_FOREACH","foreach",1103],["T_WHITESPACE"," ",1103],"(",["T_VARIABLE","$this",1103],["T_OBJECT_OPERATOR","->",1103],["T_STRING","pages",1103],["T_WHITESPACE"," ",1103],["T_AS","as",1103],["T_WHITESPACE"," ",1103],["T_VARIABLE","$page",1103],")",["T_WHITESPACE"," ",1103],"{",["T_WHITESPACE","\n            ",1103],["T_VARIABLE","$pageDictionaryHashId",1104],["T_WHITESPACE"," ",1104],"=",["T_WHITESPACE"," ",1104],["T_STRING","spl_object_hash",1104],"(",["T_VARIABLE","$page",1104],["T_OBJECT_OPERATOR","->",1104],["T_STRING","getPageDictionary",1104],"(",")",["T_OBJECT_OPERATOR","->",1104],["T_STRING","getObject",1104],"(",")",")",";",["T_WHITESPACE","\n            ",1104],["T_VARIABLE","$this",1105],["T_OBJECT_OPERATOR","->",1105],["T_STRING","_pageReferences",1105],"[",["T_VARIABLE","$pageDictionaryHashId",1105],"]",["T_WHITESPACE"," ",1105],"=",["T_WHITESPACE"," ",1105],["T_VARIABLE","$page",1105],";",["T_WHITESPACE","\n            ",1105],["T_VARIABLE","$this",1106],["T_OBJECT_OPERATOR","->",1106],["T_STRING","_pageNumbers",1106],"[",["T_VARIABLE","$count",1106],["T_INC","++",1106],"]",["T_WHITESPACE","                 ",1106],"=",["T_WHITESPACE"," ",1106],["T_VARIABLE","$page",1106],";",["T_WHITESPACE","\n        ",1106],"}",["T_WHITESPACE","\n\n        ",1107],["T_RETURN","return",1109],["T_WHITESPACE"," ",1109],["T_VARIABLE","$this",1109],";",["T_WHITESPACE","\n    ",1109],"}",["T_WHITESPACE","\n\n    ",1110],["T_DOC_COMMENT","\/**\n     * Resolve destination.\n     *\n     * Returns Zend_Pdf_Page page object or null if destination is not found within PDF document.\n     *\n     * @param Zend_Pdf_Destination $destination Destination to resolve\n     * @param bool $refreshPageCollectionHashes Refresh page collection hashes before processing\n     * @return Zend_Pdf_Page|null\n     * @throws Zend_Pdf_Exception\n     *\/",1112],["T_WHITESPACE","\n    ",1121],["T_PUBLIC","public",1122],["T_WHITESPACE"," ",1122],["T_FUNCTION","function",1122],["T_WHITESPACE"," ",1122],["T_STRING","resolveDestination",1122],"(",["T_STRING","Zend_Pdf_Destination",1122],["T_WHITESPACE"," ",1122],["T_VARIABLE","$destination",1122],",",["T_WHITESPACE"," ",1122],["T_VARIABLE","$refreshPageCollectionHashes",1122],["T_WHITESPACE"," ",1122],"=",["T_WHITESPACE"," ",1122],["T_STRING","true",1122],")",["T_WHITESPACE","\n    ",1122],"{",["T_WHITESPACE","\n        ",1123],["T_IF","if",1124],["T_WHITESPACE"," ",1124],"(",["T_VARIABLE","$this",1124],["T_OBJECT_OPERATOR","->",1124],["T_STRING","_pageReferences",1124],["T_WHITESPACE"," ",1124],["T_IS_IDENTICAL","===",1124],["T_WHITESPACE"," ",1124],["T_STRING","null",1124],["T_WHITESPACE","  ",1124],["T_BOOLEAN_OR","||",1124],["T_WHITESPACE","  ",1124],["T_VARIABLE","$refreshPageCollectionHashes",1124],")",["T_WHITESPACE"," ",1124],"{",["T_WHITESPACE","\n            ",1124],["T_VARIABLE","$this",1125],["T_OBJECT_OPERATOR","->",1125],["T_STRING","_refreshPagesHash",1125],"(",")",";",["T_WHITESPACE","\n        ",1125],"}",["T_WHITESPACE","\n\n        ",1126],["T_IF","if",1128],["T_WHITESPACE"," ",1128],"(",["T_VARIABLE","$destination",1128],["T_WHITESPACE"," ",1128],["T_INSTANCEOF","instanceof",1128],["T_WHITESPACE"," ",1128],["T_STRING","Zend_Pdf_Destination_Named",1128],")",["T_WHITESPACE"," ",1128],"{",["T_WHITESPACE","\n            ",1128],["T_IF","if",1129],["T_WHITESPACE"," ",1129],"(","!",["T_ISSET","isset",1129],"(",["T_VARIABLE","$this",1129],["T_OBJECT_OPERATOR","->",1129],["T_STRING","_namedTargets",1129],"[",["T_VARIABLE","$destination",1129],["T_OBJECT_OPERATOR","->",1129],["T_STRING","getName",1129],"(",")","]",")",")",["T_WHITESPACE"," ",1129],"{",["T_WHITESPACE","\n                ",1129],["T_RETURN","return",1130],["T_WHITESPACE"," ",1130],["T_STRING","null",1130],";",["T_WHITESPACE","\n            ",1130],"}",["T_WHITESPACE","\n            ",1131],["T_VARIABLE","$destination",1132],["T_WHITESPACE"," ",1132],"=",["T_WHITESPACE"," ",1132],["T_VARIABLE","$this",1132],["T_OBJECT_OPERATOR","->",1132],["T_STRING","getNamedDestination",1132],"(",["T_VARIABLE","$destination",1132],["T_OBJECT_OPERATOR","->",1132],["T_STRING","getName",1132],"(",")",")",";",["T_WHITESPACE","\n\n            ",1132],["T_IF","if",1134],["T_WHITESPACE"," ",1134],"(",["T_VARIABLE","$destination",1134],["T_WHITESPACE"," ",1134],["T_INSTANCEOF","instanceof",1134],["T_WHITESPACE"," ",1134],["T_STRING","Zend_Pdf_Action",1134],")",["T_WHITESPACE"," ",1134],"{",["T_WHITESPACE","\n                ",1134],["T_IF","if",1135],["T_WHITESPACE"," ",1135],"(","!",["T_VARIABLE","$destination",1135],["T_WHITESPACE"," ",1135],["T_INSTANCEOF","instanceof",1135],["T_WHITESPACE"," ",1135],["T_STRING","Zend_Pdf_Action_GoTo",1135],")",["T_WHITESPACE"," ",1135],"{",["T_WHITESPACE","\n                    ",1135],["T_RETURN","return",1136],["T_WHITESPACE"," ",1136],["T_STRING","null",1136],";",["T_WHITESPACE","\n                ",1136],"}",["T_WHITESPACE","\n                ",1137],["T_VARIABLE","$destination",1138],["T_WHITESPACE"," ",1138],"=",["T_WHITESPACE"," ",1138],["T_VARIABLE","$destination",1138],["T_OBJECT_OPERATOR","->",1138],["T_STRING","getDestination",1138],"(",")",";",["T_WHITESPACE","\n            ",1138],"}",["T_WHITESPACE","\n\n            ",1139],["T_IF","if",1141],["T_WHITESPACE"," ",1141],"(","!",["T_VARIABLE","$destination",1141],["T_WHITESPACE"," ",1141],["T_INSTANCEOF","instanceof",1141],["T_WHITESPACE"," ",1141],["T_STRING","Zend_Pdf_Destination_Explicit",1141],")",["T_WHITESPACE"," ",1141],"{",["T_WHITESPACE","\n                ",1141],["T_COMMENT","#require_once 'Zend\/Pdf\/Exception.php';\n",1142],["T_WHITESPACE","                ",1143],["T_THROW","throw",1143],["T_WHITESPACE"," ",1143],["T_NEW","new",1143],["T_WHITESPACE"," ",1143],["T_STRING","Zend_Pdf_Exception",1143],"(",["T_CONSTANT_ENCAPSED_STRING","'Named destination target has to be an explicit destination.'",1143],")",";",["T_WHITESPACE","\n            ",1143],"}",["T_WHITESPACE","\n        ",1144],"}",["T_WHITESPACE","\n\n        ",1145],["T_COMMENT","\/\/ Named target is an explicit destination\n",1147],["T_WHITESPACE","        ",1148],["T_VARIABLE","$pageElement",1148],["T_WHITESPACE"," ",1148],"=",["T_WHITESPACE"," ",1148],["T_VARIABLE","$destination",1148],["T_OBJECT_OPERATOR","->",1148],["T_STRING","getResource",1148],"(",")",["T_OBJECT_OPERATOR","->",1148],["T_STRING","items",1148],"[",["T_LNUMBER","0",1148],"]",";",["T_WHITESPACE","\n\n        ",1148],["T_IF","if",1150],["T_WHITESPACE"," ",1150],"(",["T_VARIABLE","$pageElement",1150],["T_OBJECT_OPERATOR","->",1150],["T_STRING","getType",1150],"(",")",["T_WHITESPACE"," ",1150],["T_IS_EQUAL","==",1150],["T_WHITESPACE"," ",1150],["T_STRING","Zend_Pdf_Element",1150],["T_DOUBLE_COLON","::",1150],["T_STRING","TYPE_NUMERIC",1150],")",["T_WHITESPACE"," ",1150],"{",["T_WHITESPACE","\n            ",1150],["T_COMMENT","\/\/ Page reference is a PDF number\n",1151],["T_WHITESPACE","            ",1152],["T_IF","if",1152],["T_WHITESPACE"," ",1152],"(","!",["T_ISSET","isset",1152],"(",["T_VARIABLE","$this",1152],["T_OBJECT_OPERATOR","->",1152],["T_STRING","_pageNumbers",1152],"[",["T_VARIABLE","$pageElement",1152],["T_OBJECT_OPERATOR","->",1152],["T_STRING","value",1152],"]",")",")",["T_WHITESPACE"," ",1152],"{",["T_WHITESPACE","\n                ",1152],["T_RETURN","return",1153],["T_WHITESPACE"," ",1153],["T_STRING","null",1153],";",["T_WHITESPACE","\n            ",1153],"}",["T_WHITESPACE","\n\n            ",1154],["T_RETURN","return",1156],["T_WHITESPACE"," ",1156],["T_VARIABLE","$this",1156],["T_OBJECT_OPERATOR","->",1156],["T_STRING","_pageNumbers",1156],"[",["T_VARIABLE","$pageElement",1156],["T_OBJECT_OPERATOR","->",1156],["T_STRING","value",1156],"]",";",["T_WHITESPACE","\n        ",1156],"}",["T_WHITESPACE","\n\n        ",1157],["T_COMMENT","\/\/ Page reference is a PDF page dictionary reference\n",1159],["T_WHITESPACE","        ",1160],["T_VARIABLE","$pageDictionaryHashId",1160],["T_WHITESPACE"," ",1160],"=",["T_WHITESPACE"," ",1160],["T_STRING","spl_object_hash",1160],"(",["T_VARIABLE","$pageElement",1160],["T_OBJECT_OPERATOR","->",1160],["T_STRING","getObject",1160],"(",")",")",";",["T_WHITESPACE","\n        ",1160],["T_IF","if",1161],["T_WHITESPACE"," ",1161],"(","!",["T_ISSET","isset",1161],"(",["T_VARIABLE","$this",1161],["T_OBJECT_OPERATOR","->",1161],["T_STRING","_pageReferences",1161],"[",["T_VARIABLE","$pageDictionaryHashId",1161],"]",")",")",["T_WHITESPACE"," ",1161],"{",["T_WHITESPACE","\n            ",1161],["T_RETURN","return",1162],["T_WHITESPACE"," ",1162],["T_STRING","null",1162],";",["T_WHITESPACE","\n        ",1162],"}",["T_WHITESPACE","\n        ",1163],["T_RETURN","return",1164],["T_WHITESPACE"," ",1164],["T_VARIABLE","$this",1164],["T_OBJECT_OPERATOR","->",1164],["T_STRING","_pageReferences",1164],"[",["T_VARIABLE","$pageDictionaryHashId",1164],"]",";",["T_WHITESPACE","\n    ",1164],"}",["T_WHITESPACE","\n\n    ",1165],["T_DOC_COMMENT","\/**\n     * Walk through action and its chained actions tree and remove nodes\n     * if they are GoTo actions with an unresolved target.\n     *\n     * Returns null if root node is deleted or updated action overwise.\n     *\n     * @todo Give appropriate name and make method public\n     *\n     * @param Zend_Pdf_Action $action\n     * @param bool $refreshPageCollectionHashes Refresh page collection hashes before processing\n     * @return Zend_Pdf_Action|null\n     *\/",1167],["T_WHITESPACE","\n    ",1178],["T_PROTECTED","protected",1179],["T_WHITESPACE"," ",1179],["T_FUNCTION","function",1179],["T_WHITESPACE"," ",1179],["T_STRING","_cleanUpAction",1179],"(",["T_STRING","Zend_Pdf_Action",1179],["T_WHITESPACE"," ",1179],["T_VARIABLE","$action",1179],",",["T_WHITESPACE"," ",1179],["T_VARIABLE","$refreshPageCollectionHashes",1179],["T_WHITESPACE"," ",1179],"=",["T_WHITESPACE"," ",1179],["T_STRING","true",1179],")",["T_WHITESPACE","\n    ",1179],"{",["T_WHITESPACE","\n        ",1180],["T_IF","if",1181],["T_WHITESPACE"," ",1181],"(",["T_VARIABLE","$this",1181],["T_OBJECT_OPERATOR","->",1181],["T_STRING","_pageReferences",1181],["T_WHITESPACE"," ",1181],["T_IS_IDENTICAL","===",1181],["T_WHITESPACE"," ",1181],["T_STRING","null",1181],["T_WHITESPACE","  ",1181],["T_BOOLEAN_OR","||",1181],["T_WHITESPACE","  ",1181],["T_VARIABLE","$refreshPageCollectionHashes",1181],")",["T_WHITESPACE"," ",1181],"{",["T_WHITESPACE","\n            ",1181],["T_VARIABLE","$this",1182],["T_OBJECT_OPERATOR","->",1182],["T_STRING","_refreshPagesHash",1182],"(",")",";",["T_WHITESPACE","\n        ",1182],"}",["T_WHITESPACE","\n\n        ",1183],["T_COMMENT","\/\/ Named target is an action\n",1185],["T_WHITESPACE","        ",1186],["T_IF","if",1186],["T_WHITESPACE"," ",1186],"(",["T_VARIABLE","$action",1186],["T_WHITESPACE"," ",1186],["T_INSTANCEOF","instanceof",1186],["T_WHITESPACE"," ",1186],["T_STRING","Zend_Pdf_Action_GoTo",1186],["T_WHITESPACE","  ",1186],["T_BOOLEAN_AND","&&",1186],["T_WHITESPACE","\n            ",1186],["T_VARIABLE","$this",1187],["T_OBJECT_OPERATOR","->",1187],["T_STRING","resolveDestination",1187],"(",["T_VARIABLE","$action",1187],["T_OBJECT_OPERATOR","->",1187],["T_STRING","getDestination",1187],"(",")",",",["T_WHITESPACE"," ",1187],["T_STRING","false",1187],")",["T_WHITESPACE"," ",1187],["T_IS_IDENTICAL","===",1187],["T_WHITESPACE"," ",1187],["T_STRING","null",1187],")",["T_WHITESPACE"," ",1187],"{",["T_WHITESPACE","\n            ",1187],["T_COMMENT","\/\/ Action itself is a GoTo action with an unresolved destination\n",1188],["T_WHITESPACE","            ",1189],["T_RETURN","return",1189],["T_WHITESPACE"," ",1189],["T_STRING","null",1189],";",["T_WHITESPACE","\n        ",1189],"}",["T_WHITESPACE","\n\n        ",1190],["T_COMMENT","\/\/ Walk through child actions\n",1192],["T_WHITESPACE","        ",1193],["T_VARIABLE","$iterator",1193],["T_WHITESPACE"," ",1193],"=",["T_WHITESPACE"," ",1193],["T_NEW","new",1193],["T_WHITESPACE"," ",1193],["T_STRING","RecursiveIteratorIterator",1193],"(",["T_VARIABLE","$action",1193],",",["T_WHITESPACE"," ",1193],["T_STRING","RecursiveIteratorIterator",1193],["T_DOUBLE_COLON","::",1193],["T_STRING","SELF_FIRST",1193],")",";",["T_WHITESPACE","\n\n        ",1193],["T_VARIABLE","$actionsToClean",1195],["T_WHITESPACE","        ",1195],"=",["T_WHITESPACE"," ",1195],["T_ARRAY","array",1195],"(",")",";",["T_WHITESPACE","\n        ",1195],["T_VARIABLE","$deletionCandidateKeys",1196],["T_WHITESPACE"," ",1196],"=",["T_WHITESPACE"," ",1196],["T_ARRAY","array",1196],"(",")",";",["T_WHITESPACE","\n        ",1196],["T_FOREACH","foreach",1197],["T_WHITESPACE"," ",1197],"(",["T_VARIABLE","$iterator",1197],["T_WHITESPACE"," ",1197],["T_AS","as",1197],["T_WHITESPACE"," ",1197],["T_VARIABLE","$chainedAction",1197],")",["T_WHITESPACE"," ",1197],"{",["T_WHITESPACE","\n            ",1197],["T_IF","if",1198],["T_WHITESPACE"," ",1198],"(",["T_VARIABLE","$chainedAction",1198],["T_WHITESPACE"," ",1198],["T_INSTANCEOF","instanceof",1198],["T_WHITESPACE"," ",1198],["T_STRING","Zend_Pdf_Action_GoTo",1198],["T_WHITESPACE","  ",1198],["T_BOOLEAN_AND","&&",1198],["T_WHITESPACE","\n                ",1198],["T_VARIABLE","$this",1199],["T_OBJECT_OPERATOR","->",1199],["T_STRING","resolveDestination",1199],"(",["T_VARIABLE","$chainedAction",1199],["T_OBJECT_OPERATOR","->",1199],["T_STRING","getDestination",1199],"(",")",",",["T_WHITESPACE"," ",1199],["T_STRING","false",1199],")",["T_WHITESPACE"," ",1199],["T_IS_IDENTICAL","===",1199],["T_WHITESPACE"," ",1199],["T_STRING","null",1199],")",["T_WHITESPACE"," ",1199],"{",["T_WHITESPACE","\n                ",1199],["T_COMMENT","\/\/ Some child action is a GoTo action with an unresolved destination\n",1200],["T_WHITESPACE","                ",1201],["T_COMMENT","\/\/ Mark it as a candidate for deletion\n",1201],["T_WHITESPACE","                ",1202],["T_VARIABLE","$actionsToClean",1202],"[","]",["T_WHITESPACE","        ",1202],"=",["T_WHITESPACE"," ",1202],["T_VARIABLE","$iterator",1202],["T_OBJECT_OPERATOR","->",1202],["T_STRING","getSubIterator",1202],"(",")",";",["T_WHITESPACE","\n                ",1202],["T_VARIABLE","$deletionCandidateKeys",1203],"[","]",["T_WHITESPACE"," ",1203],"=",["T_WHITESPACE"," ",1203],["T_VARIABLE","$iterator",1203],["T_OBJECT_OPERATOR","->",1203],["T_STRING","getSubIterator",1203],"(",")",["T_OBJECT_OPERATOR","->",1203],["T_STRING","key",1203],"(",")",";",["T_WHITESPACE","\n            ",1203],"}",["T_WHITESPACE","\n        ",1204],"}",["T_WHITESPACE","\n        ",1205],["T_FOREACH","foreach",1206],["T_WHITESPACE"," ",1206],"(",["T_VARIABLE","$actionsToClean",1206],["T_WHITESPACE"," ",1206],["T_AS","as",1206],["T_WHITESPACE"," ",1206],["T_VARIABLE","$id",1206],["T_WHITESPACE"," ",1206],["T_DOUBLE_ARROW","=>",1206],["T_WHITESPACE"," ",1206],["T_VARIABLE","$action",1206],")",["T_WHITESPACE"," ",1206],"{",["T_WHITESPACE","\n            ",1206],["T_UNSET","unset",1207],"(",["T_VARIABLE","$action",1207],["T_OBJECT_OPERATOR","->",1207],["T_STRING","next",1207],"[",["T_VARIABLE","$deletionCandidateKeys",1207],"[",["T_VARIABLE","$id",1207],"]","]",")",";",["T_WHITESPACE","\n        ",1207],"}",["T_WHITESPACE","\n\n        ",1208],["T_RETURN","return",1210],["T_WHITESPACE"," ",1210],["T_VARIABLE","$action",1210],";",["T_WHITESPACE","\n    ",1210],"}",["T_WHITESPACE","\n\n    ",1211],["T_DOC_COMMENT","\/**\n     * Extract fonts attached to the document\n     *\n     * returns array of Zend_Pdf_Resource_Font_Extracted objects\n     *\n     * @return array\n     * @throws Zend_Pdf_Exception\n     *\/",1213],["T_WHITESPACE","\n    ",1220],["T_PUBLIC","public",1221],["T_WHITESPACE"," ",1221],["T_FUNCTION","function",1221],["T_WHITESPACE"," ",1221],["T_STRING","extractFonts",1221],"(",")",["T_WHITESPACE","\n    ",1221],"{",["T_WHITESPACE","\n        ",1222],["T_VARIABLE","$fontResourcesUnique",1223],["T_WHITESPACE"," ",1223],"=",["T_WHITESPACE"," ",1223],["T_ARRAY","array",1223],"(",")",";",["T_WHITESPACE","\n        ",1223],["T_FOREACH","foreach",1224],["T_WHITESPACE"," ",1224],"(",["T_VARIABLE","$this",1224],["T_OBJECT_OPERATOR","->",1224],["T_STRING","pages",1224],["T_WHITESPACE"," ",1224],["T_AS","as",1224],["T_WHITESPACE"," ",1224],["T_VARIABLE","$page",1224],")",["T_WHITESPACE"," ",1224],"{",["T_WHITESPACE","\n            ",1224],["T_VARIABLE","$pageResources",1225],["T_WHITESPACE"," ",1225],"=",["T_WHITESPACE"," ",1225],["T_VARIABLE","$page",1225],["T_OBJECT_OPERATOR","->",1225],["T_STRING","extractResources",1225],"(",")",";",["T_WHITESPACE","\n\n            ",1225],["T_IF","if",1227],["T_WHITESPACE"," ",1227],"(",["T_VARIABLE","$pageResources",1227],["T_OBJECT_OPERATOR","->",1227],["T_STRING","Font",1227],["T_WHITESPACE"," ",1227],["T_IS_IDENTICAL","===",1227],["T_WHITESPACE"," ",1227],["T_STRING","null",1227],")",["T_WHITESPACE"," ",1227],"{",["T_WHITESPACE","\n                ",1227],["T_COMMENT","\/\/ Page doesn't contain have any font reference\n",1228],["T_WHITESPACE","                ",1229],["T_CONTINUE","continue",1229],";",["T_WHITESPACE","\n            ",1229],"}",["T_WHITESPACE","\n\n            ",1230],["T_VARIABLE","$fontResources",1232],["T_WHITESPACE"," ",1232],"=",["T_WHITESPACE"," ",1232],["T_VARIABLE","$pageResources",1232],["T_OBJECT_OPERATOR","->",1232],["T_STRING","Font",1232],";",["T_WHITESPACE","\n\n            ",1232],["T_FOREACH","foreach",1234],["T_WHITESPACE"," ",1234],"(",["T_VARIABLE","$fontResources",1234],["T_OBJECT_OPERATOR","->",1234],["T_STRING","getKeys",1234],"(",")",["T_WHITESPACE"," ",1234],["T_AS","as",1234],["T_WHITESPACE"," ",1234],["T_VARIABLE","$fontResourceName",1234],")",["T_WHITESPACE"," ",1234],"{",["T_WHITESPACE","\n                ",1234],["T_VARIABLE","$fontDictionary",1235],["T_WHITESPACE"," ",1235],"=",["T_WHITESPACE"," ",1235],["T_VARIABLE","$fontResources",1235],["T_OBJECT_OPERATOR","->",1235],["T_VARIABLE","$fontResourceName",1235],";",["T_WHITESPACE","\n\n                ",1235],["T_IF","if",1237],["T_WHITESPACE"," ",1237],"(","!",["T_WHITESPACE"," ",1237],"(",["T_VARIABLE","$fontDictionary",1237],["T_WHITESPACE"," ",1237],["T_INSTANCEOF","instanceof",1237],["T_WHITESPACE"," ",1237],["T_STRING","Zend_Pdf_Element_Reference",1237],["T_WHITESPACE","  ",1237],["T_BOOLEAN_OR","||",1237],["T_WHITESPACE","\n                       ",1237],["T_VARIABLE","$fontDictionary",1238],["T_WHITESPACE"," ",1238],["T_INSTANCEOF","instanceof",1238],["T_WHITESPACE"," ",1238],["T_STRING","Zend_Pdf_Element_Object",1238],")",["T_WHITESPACE"," ",1238],")",["T_WHITESPACE"," ",1238],"{",["T_WHITESPACE","\n                    ",1238],["T_COMMENT","#require_once 'Zend\/Pdf\/Exception.php';\n",1239],["T_WHITESPACE","                    ",1240],["T_THROW","throw",1240],["T_WHITESPACE"," ",1240],["T_NEW","new",1240],["T_WHITESPACE"," ",1240],["T_STRING","Zend_Pdf_Exception",1240],"(",["T_CONSTANT_ENCAPSED_STRING","'Font dictionary has to be an indirect object or object reference.'",1240],")",";",["T_WHITESPACE","\n                ",1240],"}",["T_WHITESPACE","\n\n                ",1241],["T_VARIABLE","$fontResourcesUnique",1243],"[",["T_STRING","spl_object_hash",1243],"(",["T_VARIABLE","$fontDictionary",1243],["T_OBJECT_OPERATOR","->",1243],["T_STRING","getObject",1243],"(",")",")","]",["T_WHITESPACE"," ",1243],"=",["T_WHITESPACE"," ",1243],["T_VARIABLE","$fontDictionary",1243],";",["T_WHITESPACE","\n            ",1243],"}",["T_WHITESPACE","\n        ",1244],"}",["T_WHITESPACE","\n\n        ",1245],["T_VARIABLE","$fonts",1247],["T_WHITESPACE"," ",1247],"=",["T_WHITESPACE"," ",1247],["T_ARRAY","array",1247],"(",")",";",["T_WHITESPACE","\n        ",1247],["T_COMMENT","#require_once 'Zend\/Pdf\/Exception.php';\n",1248],["T_WHITESPACE","        ",1249],["T_FOREACH","foreach",1249],["T_WHITESPACE"," ",1249],"(",["T_VARIABLE","$fontResourcesUnique",1249],["T_WHITESPACE"," ",1249],["T_AS","as",1249],["T_WHITESPACE"," ",1249],["T_VARIABLE","$resourceId",1249],["T_WHITESPACE"," ",1249],["T_DOUBLE_ARROW","=>",1249],["T_WHITESPACE"," ",1249],["T_VARIABLE","$fontDictionary",1249],")",["T_WHITESPACE"," ",1249],"{",["T_WHITESPACE","\n            ",1249],["T_TRY","try",1250],["T_WHITESPACE"," ",1250],"{",["T_WHITESPACE","\n                ",1250],["T_COMMENT","\/\/ Try to extract font\n",1251],["T_WHITESPACE","                ",1252],["T_COMMENT","#require_once 'Zend\/Pdf\/Resource\/Font\/Extracted.php';\n",1252],["T_WHITESPACE","                ",1253],["T_VARIABLE","$extractedFont",1253],["T_WHITESPACE"," ",1253],"=",["T_WHITESPACE"," ",1253],["T_NEW","new",1253],["T_WHITESPACE"," ",1253],["T_STRING","Zend_Pdf_Resource_Font_Extracted",1253],"(",["T_VARIABLE","$fontDictionary",1253],")",";",["T_WHITESPACE","\n\n                ",1253],["T_VARIABLE","$fonts",1255],"[",["T_VARIABLE","$resourceId",1255],"]",["T_WHITESPACE"," ",1255],"=",["T_WHITESPACE"," ",1255],["T_VARIABLE","$extractedFont",1255],";",["T_WHITESPACE","\n            ",1255],"}",["T_WHITESPACE"," ",1256],["T_CATCH","catch",1256],["T_WHITESPACE"," ",1256],"(",["T_STRING","Zend_Pdf_Exception",1256],["T_WHITESPACE"," ",1256],["T_VARIABLE","$e",1256],")",["T_WHITESPACE"," ",1256],"{",["T_WHITESPACE","\n                ",1256],["T_IF","if",1257],["T_WHITESPACE"," ",1257],"(",["T_VARIABLE","$e",1257],["T_OBJECT_OPERATOR","->",1257],["T_STRING","getMessage",1257],"(",")",["T_WHITESPACE"," ",1257],["T_IS_NOT_EQUAL","!=",1257],["T_WHITESPACE"," ",1257],["T_CONSTANT_ENCAPSED_STRING","'Unsupported font type.'",1257],")",["T_WHITESPACE"," ",1257],"{",["T_WHITESPACE","\n                    ",1257],["T_THROW","throw",1258],["T_WHITESPACE"," ",1258],["T_VARIABLE","$e",1258],";",["T_WHITESPACE","\n                ",1258],"}",["T_WHITESPACE","\n            ",1259],"}",["T_WHITESPACE","\n        ",1260],"}",["T_WHITESPACE","\n\n        ",1261],["T_RETURN","return",1263],["T_WHITESPACE"," ",1263],["T_VARIABLE","$fonts",1263],";",["T_WHITESPACE","\n    ",1263],"}",["T_WHITESPACE","\n\n    ",1264],["T_DOC_COMMENT","\/**\n     * Extract font attached to the page by specific font name\n     *\n     * $fontName should be specified in UTF-8 encoding\n     *\n     * @param string $fontName\n     * @return Zend_Pdf_Resource_Font_Extracted|null\n     * @throws Zend_Pdf_Exception\n     *\/",1266],["T_WHITESPACE","\n    ",1274],["T_PUBLIC","public",1275],["T_WHITESPACE"," ",1275],["T_FUNCTION","function",1275],["T_WHITESPACE"," ",1275],["T_STRING","extractFont",1275],"(",["T_VARIABLE","$fontName",1275],")",["T_WHITESPACE","\n    ",1275],"{",["T_WHITESPACE","\n        ",1276],["T_VARIABLE","$fontResourcesUnique",1277],["T_WHITESPACE"," ",1277],"=",["T_WHITESPACE"," ",1277],["T_ARRAY","array",1277],"(",")",";",["T_WHITESPACE","\n        ",1277],["T_COMMENT","#require_once 'Zend\/Pdf\/Exception.php';\n",1278],["T_WHITESPACE","        ",1279],["T_FOREACH","foreach",1279],["T_WHITESPACE"," ",1279],"(",["T_VARIABLE","$this",1279],["T_OBJECT_OPERATOR","->",1279],["T_STRING","pages",1279],["T_WHITESPACE"," ",1279],["T_AS","as",1279],["T_WHITESPACE"," ",1279],["T_VARIABLE","$page",1279],")",["T_WHITESPACE"," ",1279],"{",["T_WHITESPACE","\n            ",1279],["T_VARIABLE","$pageResources",1280],["T_WHITESPACE"," ",1280],"=",["T_WHITESPACE"," ",1280],["T_VARIABLE","$page",1280],["T_OBJECT_OPERATOR","->",1280],["T_STRING","extractResources",1280],"(",")",";",["T_WHITESPACE","\n\n            ",1280],["T_IF","if",1282],["T_WHITESPACE"," ",1282],"(",["T_VARIABLE","$pageResources",1282],["T_OBJECT_OPERATOR","->",1282],["T_STRING","Font",1282],["T_WHITESPACE"," ",1282],["T_IS_IDENTICAL","===",1282],["T_WHITESPACE"," ",1282],["T_STRING","null",1282],")",["T_WHITESPACE"," ",1282],"{",["T_WHITESPACE","\n                ",1282],["T_COMMENT","\/\/ Page doesn't contain have any font reference\n",1283],["T_WHITESPACE","                ",1284],["T_CONTINUE","continue",1284],";",["T_WHITESPACE","\n            ",1284],"}",["T_WHITESPACE","\n\n            ",1285],["T_VARIABLE","$fontResources",1287],["T_WHITESPACE"," ",1287],"=",["T_WHITESPACE"," ",1287],["T_VARIABLE","$pageResources",1287],["T_OBJECT_OPERATOR","->",1287],["T_STRING","Font",1287],";",["T_WHITESPACE","\n\n            ",1287],["T_FOREACH","foreach",1289],["T_WHITESPACE"," ",1289],"(",["T_VARIABLE","$fontResources",1289],["T_OBJECT_OPERATOR","->",1289],["T_STRING","getKeys",1289],"(",")",["T_WHITESPACE"," ",1289],["T_AS","as",1289],["T_WHITESPACE"," ",1289],["T_VARIABLE","$fontResourceName",1289],")",["T_WHITESPACE"," ",1289],"{",["T_WHITESPACE","\n                ",1289],["T_VARIABLE","$fontDictionary",1290],["T_WHITESPACE"," ",1290],"=",["T_WHITESPACE"," ",1290],["T_VARIABLE","$fontResources",1290],["T_OBJECT_OPERATOR","->",1290],["T_VARIABLE","$fontResourceName",1290],";",["T_WHITESPACE","\n\n                ",1290],["T_IF","if",1292],["T_WHITESPACE"," ",1292],"(","!",["T_WHITESPACE"," ",1292],"(",["T_VARIABLE","$fontDictionary",1292],["T_WHITESPACE"," ",1292],["T_INSTANCEOF","instanceof",1292],["T_WHITESPACE"," ",1292],["T_STRING","Zend_Pdf_Element_Reference",1292],["T_WHITESPACE","  ",1292],["T_BOOLEAN_OR","||",1292],["T_WHITESPACE","\n                       ",1292],["T_VARIABLE","$fontDictionary",1293],["T_WHITESPACE"," ",1293],["T_INSTANCEOF","instanceof",1293],["T_WHITESPACE"," ",1293],["T_STRING","Zend_Pdf_Element_Object",1293],")",["T_WHITESPACE"," ",1293],")",["T_WHITESPACE"," ",1293],"{",["T_WHITESPACE","\n                    ",1293],["T_COMMENT","#require_once 'Zend\/Pdf\/Exception.php';\n",1294],["T_WHITESPACE","                    ",1295],["T_THROW","throw",1295],["T_WHITESPACE"," ",1295],["T_NEW","new",1295],["T_WHITESPACE"," ",1295],["T_STRING","Zend_Pdf_Exception",1295],"(",["T_CONSTANT_ENCAPSED_STRING","'Font dictionary has to be an indirect object or object reference.'",1295],")",";",["T_WHITESPACE","\n                ",1295],"}",["T_WHITESPACE","\n\n                ",1296],["T_VARIABLE","$resourceId",1298],["T_WHITESPACE"," ",1298],"=",["T_WHITESPACE"," ",1298],["T_STRING","spl_object_hash",1298],"(",["T_VARIABLE","$fontDictionary",1298],["T_OBJECT_OPERATOR","->",1298],["T_STRING","getObject",1298],"(",")",")",";",["T_WHITESPACE","\n                ",1298],["T_IF","if",1299],["T_WHITESPACE"," ",1299],"(",["T_ISSET","isset",1299],"(",["T_VARIABLE","$fontResourcesUnique",1299],"[",["T_VARIABLE","$resourceId",1299],"]",")",")",["T_WHITESPACE"," ",1299],"{",["T_WHITESPACE","\n                    ",1299],["T_CONTINUE","continue",1300],";",["T_WHITESPACE","\n                ",1300],"}",["T_WHITESPACE"," ",1301],["T_ELSE","else",1301],["T_WHITESPACE"," ",1301],"{",["T_WHITESPACE","\n                    ",1301],["T_COMMENT","\/\/ Mark resource as processed\n",1302],["T_WHITESPACE","                    ",1303],["T_VARIABLE","$fontResourcesUnique",1303],"[",["T_VARIABLE","$resourceId",1303],"]",["T_WHITESPACE"," ",1303],"=",["T_WHITESPACE"," ",1303],["T_LNUMBER","1",1303],";",["T_WHITESPACE","\n                ",1303],"}",["T_WHITESPACE","\n\n                ",1304],["T_IF","if",1306],["T_WHITESPACE"," ",1306],"(",["T_VARIABLE","$fontDictionary",1306],["T_OBJECT_OPERATOR","->",1306],["T_STRING","BaseFont",1306],["T_OBJECT_OPERATOR","->",1306],["T_STRING","value",1306],["T_WHITESPACE"," ",1306],["T_IS_NOT_EQUAL","!=",1306],["T_WHITESPACE"," ",1306],["T_VARIABLE","$fontName",1306],")",["T_WHITESPACE"," ",1306],"{",["T_WHITESPACE","\n                    ",1306],["T_CONTINUE","continue",1307],";",["T_WHITESPACE","\n                ",1307],"}",["T_WHITESPACE","\n\n                ",1308],["T_TRY","try",1310],["T_WHITESPACE"," ",1310],"{",["T_WHITESPACE","\n                    ",1310],["T_COMMENT","\/\/ Try to extract font\n",1311],["T_WHITESPACE","                    ",1312],["T_COMMENT","#require_once 'Zend\/Pdf\/Resource\/Font\/Extracted.php';\n",1312],["T_WHITESPACE","                    ",1313],["T_RETURN","return",1313],["T_WHITESPACE"," ",1313],["T_NEW","new",1313],["T_WHITESPACE"," ",1313],["T_STRING","Zend_Pdf_Resource_Font_Extracted",1313],"(",["T_VARIABLE","$fontDictionary",1313],")",";",["T_WHITESPACE","\n                ",1313],"}",["T_WHITESPACE"," ",1314],["T_CATCH","catch",1314],["T_WHITESPACE"," ",1314],"(",["T_STRING","Zend_Pdf_Exception",1314],["T_WHITESPACE"," ",1314],["T_VARIABLE","$e",1314],")",["T_WHITESPACE"," ",1314],"{",["T_WHITESPACE","\n                    ",1314],["T_IF","if",1315],["T_WHITESPACE"," ",1315],"(",["T_VARIABLE","$e",1315],["T_OBJECT_OPERATOR","->",1315],["T_STRING","getMessage",1315],"(",")",["T_WHITESPACE"," ",1315],["T_IS_NOT_EQUAL","!=",1315],["T_WHITESPACE"," ",1315],["T_CONSTANT_ENCAPSED_STRING","'Unsupported font type.'",1315],")",["T_WHITESPACE"," ",1315],"{",["T_WHITESPACE","\n                        ",1315],["T_THROW","throw",1316],["T_WHITESPACE"," ",1316],["T_VARIABLE","$e",1316],";",["T_WHITESPACE","\n                    ",1316],"}",["T_WHITESPACE","\n                    ",1317],["T_COMMENT","\/\/ Continue searhing\n",1318],["T_WHITESPACE","                ",1319],"}",["T_WHITESPACE","\n            ",1319],"}",["T_WHITESPACE","\n        ",1320],"}",["T_WHITESPACE","\n\n        ",1321],["T_RETURN","return",1323],["T_WHITESPACE"," ",1323],["T_STRING","null",1323],";",["T_WHITESPACE","\n    ",1323],"}",["T_WHITESPACE","\n\n    ",1324],["T_DOC_COMMENT","\/**\n     * Render the completed PDF to a string.\n     * If $newSegmentOnly is true and it's not a new document,\n     * then only appended part of PDF is returned.\n     *\n     * @param boolean $newSegmentOnly\n     * @param resource $outputStream\n     * @return string\n     * @throws Zend_Pdf_Exception\n     *\/",1326],["T_WHITESPACE","\n    ",1335],["T_PUBLIC","public",1336],["T_WHITESPACE"," ",1336],["T_FUNCTION","function",1336],["T_WHITESPACE"," ",1336],["T_STRING","render",1336],"(",["T_VARIABLE","$newSegmentOnly",1336],["T_WHITESPACE"," ",1336],"=",["T_WHITESPACE"," ",1336],["T_STRING","false",1336],",",["T_WHITESPACE"," ",1336],["T_VARIABLE","$outputStream",1336],["T_WHITESPACE"," ",1336],"=",["T_WHITESPACE"," ",1336],["T_STRING","null",1336],")",["T_WHITESPACE","\n    ",1336],"{",["T_WHITESPACE","\n        ",1337],["T_IF","if",1338],["T_WHITESPACE"," ",1338],"(",["T_VARIABLE","$this",1338],["T_OBJECT_OPERATOR","->",1338],["T_STRING","_isNewDocument",1338],")",["T_WHITESPACE"," ",1338],"{",["T_WHITESPACE","\n            ",1338],["T_COMMENT","\/\/ Drop full document first time even $newSegmentOnly is set to true\n",1339],["T_WHITESPACE","            ",1340],["T_VARIABLE","$newSegmentOnly",1340],["T_WHITESPACE"," ",1340],"=",["T_WHITESPACE"," ",1340],["T_STRING","false",1340],";",["T_WHITESPACE","\n            ",1340],["T_VARIABLE","$this",1341],["T_OBJECT_OPERATOR","->",1341],["T_STRING","_isNewDocument",1341],["T_WHITESPACE"," ",1341],"=",["T_WHITESPACE"," ",1341],["T_STRING","false",1341],";",["T_WHITESPACE","\n        ",1341],"}",["T_WHITESPACE","\n\n        ",1342],["T_COMMENT","\/\/ Save document properties if necessary\n",1344],["T_WHITESPACE","        ",1345],["T_IF","if",1345],["T_WHITESPACE"," ",1345],"(",["T_VARIABLE","$this",1345],["T_OBJECT_OPERATOR","->",1345],["T_STRING","properties",1345],["T_WHITESPACE"," ",1345],["T_IS_NOT_EQUAL","!=",1345],["T_WHITESPACE"," ",1345],["T_VARIABLE","$this",1345],["T_OBJECT_OPERATOR","->",1345],["T_STRING","_originalProperties",1345],")",["T_WHITESPACE"," ",1345],"{",["T_WHITESPACE","\n            ",1345],["T_VARIABLE","$docInfo",1346],["T_WHITESPACE"," ",1346],"=",["T_WHITESPACE"," ",1346],["T_VARIABLE","$this",1346],["T_OBJECT_OPERATOR","->",1346],["T_STRING","_objFactory",1346],["T_OBJECT_OPERATOR","->",1346],["T_STRING","newObject",1346],"(",["T_NEW","new",1346],["T_WHITESPACE"," ",1346],["T_STRING","Zend_Pdf_Element_Dictionary",1346],"(",")",")",";",["T_WHITESPACE","\n\n            ",1346],["T_FOREACH","foreach",1348],["T_WHITESPACE"," ",1348],"(",["T_VARIABLE","$this",1348],["T_OBJECT_OPERATOR","->",1348],["T_STRING","properties",1348],["T_WHITESPACE"," ",1348],["T_AS","as",1348],["T_WHITESPACE"," ",1348],["T_VARIABLE","$key",1348],["T_WHITESPACE"," ",1348],["T_DOUBLE_ARROW","=>",1348],["T_WHITESPACE"," ",1348],["T_VARIABLE","$value",1348],")",["T_WHITESPACE"," ",1348],"{",["T_WHITESPACE","\n                ",1348],["T_SWITCH","switch",1349],["T_WHITESPACE"," ",1349],"(",["T_VARIABLE","$key",1349],")",["T_WHITESPACE"," ",1349],"{",["T_WHITESPACE","\n                    ",1349],["T_CASE","case",1350],["T_WHITESPACE"," ",1350],["T_CONSTANT_ENCAPSED_STRING","'Trapped'",1350],":",["T_WHITESPACE","\n                        ",1350],["T_SWITCH","switch",1351],["T_WHITESPACE"," ",1351],"(",["T_VARIABLE","$value",1351],")",["T_WHITESPACE"," ",1351],"{",["T_WHITESPACE","\n                            ",1351],["T_CASE","case",1352],["T_WHITESPACE"," ",1352],["T_STRING","true",1352],":",["T_WHITESPACE","\n                                ",1352],["T_VARIABLE","$docInfo",1353],["T_OBJECT_OPERATOR","->",1353],["T_VARIABLE","$key",1353],["T_WHITESPACE"," ",1353],"=",["T_WHITESPACE"," ",1353],["T_NEW","new",1353],["T_WHITESPACE"," ",1353],["T_STRING","Zend_Pdf_Element_Name",1353],"(",["T_CONSTANT_ENCAPSED_STRING","'True'",1353],")",";",["T_WHITESPACE","\n                                ",1353],["T_BREAK","break",1354],";",["T_WHITESPACE","\n\n                            ",1354],["T_CASE","case",1356],["T_WHITESPACE"," ",1356],["T_STRING","false",1356],":",["T_WHITESPACE","\n                                ",1356],["T_VARIABLE","$docInfo",1357],["T_OBJECT_OPERATOR","->",1357],["T_VARIABLE","$key",1357],["T_WHITESPACE"," ",1357],"=",["T_WHITESPACE"," ",1357],["T_NEW","new",1357],["T_WHITESPACE"," ",1357],["T_STRING","Zend_Pdf_Element_Name",1357],"(",["T_CONSTANT_ENCAPSED_STRING","'False'",1357],")",";",["T_WHITESPACE","\n                                ",1357],["T_BREAK","break",1358],";",["T_WHITESPACE","\n\n                            ",1358],["T_CASE","case",1360],["T_WHITESPACE"," ",1360],["T_STRING","null",1360],":",["T_WHITESPACE","\n                                ",1360],["T_VARIABLE","$docInfo",1361],["T_OBJECT_OPERATOR","->",1361],["T_VARIABLE","$key",1361],["T_WHITESPACE"," ",1361],"=",["T_WHITESPACE"," ",1361],["T_NEW","new",1361],["T_WHITESPACE"," ",1361],["T_STRING","Zend_Pdf_Element_Name",1361],"(",["T_CONSTANT_ENCAPSED_STRING","'Unknown'",1361],")",";",["T_WHITESPACE","\n                                ",1361],["T_BREAK","break",1362],";",["T_WHITESPACE","\n\n                            ",1362],["T_DEFAULT","default",1364],":",["T_WHITESPACE","\n                                ",1364],["T_COMMENT","#require_once 'Zend\/Pdf\/Exception.php';\n",1365],["T_WHITESPACE","                                ",1366],["T_THROW","throw",1366],["T_WHITESPACE"," ",1366],["T_NEW","new",1366],["T_WHITESPACE"," ",1366],["T_STRING","Zend_Pdf_Exception",1366],"(",["T_CONSTANT_ENCAPSED_STRING","'Wrong Trapped document property vale: \\''",1366],["T_WHITESPACE"," ",1366],".",["T_WHITESPACE"," ",1366],["T_VARIABLE","$value",1366],["T_WHITESPACE"," ",1366],".",["T_WHITESPACE"," ",1366],["T_CONSTANT_ENCAPSED_STRING","'\\'. Only true, false and null values are allowed.'",1366],")",";",["T_WHITESPACE","\n                                ",1366],["T_BREAK","break",1367],";",["T_WHITESPACE","\n                        ",1367],"}",["T_WHITESPACE","\n\n                    ",1368],["T_CASE","case",1370],["T_WHITESPACE"," ",1370],["T_CONSTANT_ENCAPSED_STRING","'CreationDate'",1370],":",["T_WHITESPACE","\n                        ",1370],["T_COMMENT","\/\/ break intentionally omitted\n",1371],["T_WHITESPACE","                    ",1372],["T_CASE","case",1372],["T_WHITESPACE"," ",1372],["T_CONSTANT_ENCAPSED_STRING","'ModDate'",1372],":",["T_WHITESPACE","\n                        ",1372],["T_VARIABLE","$docInfo",1373],["T_OBJECT_OPERATOR","->",1373],["T_VARIABLE","$key",1373],["T_WHITESPACE"," ",1373],"=",["T_WHITESPACE"," ",1373],["T_NEW","new",1373],["T_WHITESPACE"," ",1373],["T_STRING","Zend_Pdf_Element_String",1373],"(",["T_STRING_CAST","(string)",1373],["T_VARIABLE","$value",1373],")",";",["T_WHITESPACE","\n                        ",1373],["T_BREAK","break",1374],";",["T_WHITESPACE","\n\n                    ",1374],["T_CASE","case",1376],["T_WHITESPACE"," ",1376],["T_CONSTANT_ENCAPSED_STRING","'Title'",1376],":",["T_WHITESPACE","\n                        ",1376],["T_COMMENT","\/\/ break intentionally omitted\n",1377],["T_WHITESPACE","                    ",1378],["T_CASE","case",1378],["T_WHITESPACE"," ",1378],["T_CONSTANT_ENCAPSED_STRING","'Author'",1378],":",["T_WHITESPACE","\n                        ",1378],["T_COMMENT","\/\/ break intentionally omitted\n",1379],["T_WHITESPACE","                    ",1380],["T_CASE","case",1380],["T_WHITESPACE"," ",1380],["T_CONSTANT_ENCAPSED_STRING","'Subject'",1380],":",["T_WHITESPACE","\n                        ",1380],["T_COMMENT","\/\/ break intentionally omitted\n",1381],["T_WHITESPACE","                    ",1382],["T_CASE","case",1382],["T_WHITESPACE"," ",1382],["T_CONSTANT_ENCAPSED_STRING","'Keywords'",1382],":",["T_WHITESPACE","\n                        ",1382],["T_COMMENT","\/\/ break intentionally omitted\n",1383],["T_WHITESPACE","                    ",1384],["T_CASE","case",1384],["T_WHITESPACE"," ",1384],["T_CONSTANT_ENCAPSED_STRING","'Creator'",1384],":",["T_WHITESPACE","\n                        ",1384],["T_COMMENT","\/\/ break intentionally omitted\n",1385],["T_WHITESPACE","                    ",1386],["T_CASE","case",1386],["T_WHITESPACE"," ",1386],["T_CONSTANT_ENCAPSED_STRING","'Producer'",1386],":",["T_WHITESPACE","\n                        ",1386],["T_IF","if",1387],["T_WHITESPACE"," ",1387],"(",["T_STRING","extension_loaded",1387],"(",["T_CONSTANT_ENCAPSED_STRING","'mbstring'",1387],")",["T_WHITESPACE"," ",1387],["T_IS_IDENTICAL","===",1387],["T_WHITESPACE"," ",1387],["T_STRING","true",1387],")",["T_WHITESPACE"," ",1387],"{",["T_WHITESPACE","\n                            ",1387],["T_VARIABLE","$detected",1388],["T_WHITESPACE"," ",1388],"=",["T_WHITESPACE"," ",1388],["T_STRING","mb_detect_encoding",1388],"(",["T_VARIABLE","$value",1388],")",";",["T_WHITESPACE","\n                            ",1388],["T_IF","if",1389],["T_WHITESPACE"," ",1389],"(",["T_VARIABLE","$detected",1389],["T_WHITESPACE"," ",1389],["T_IS_NOT_IDENTICAL","!==",1389],["T_WHITESPACE"," ",1389],["T_CONSTANT_ENCAPSED_STRING","'ASCII'",1389],")",["T_WHITESPACE"," ",1389],"{",["T_WHITESPACE","\n                                ",1389],["T_VARIABLE","$value",1390],["T_WHITESPACE"," ",1390],"=",["T_WHITESPACE"," ",1390],["T_CONSTANT_ENCAPSED_STRING","\"\\xfe\\xff\"",1390],["T_WHITESPACE"," ",1390],".",["T_WHITESPACE"," ",1390],["T_STRING","mb_convert_encoding",1390],"(",["T_VARIABLE","$value",1390],",",["T_WHITESPACE"," ",1390],["T_CONSTANT_ENCAPSED_STRING","'UTF-16'",1390],",",["T_WHITESPACE"," ",1390],["T_VARIABLE","$detected",1390],")",";",["T_WHITESPACE","\n                            ",1390],"}",["T_WHITESPACE","\n                        ",1391],"}",["T_WHITESPACE","\n                        ",1392],["T_VARIABLE","$docInfo",1393],["T_OBJECT_OPERATOR","->",1393],["T_VARIABLE","$key",1393],["T_WHITESPACE"," ",1393],"=",["T_WHITESPACE"," ",1393],["T_NEW","new",1393],["T_WHITESPACE"," ",1393],["T_STRING","Zend_Pdf_Element_String",1393],"(",["T_STRING_CAST","(string)",1393],["T_VARIABLE","$value",1393],")",";",["T_WHITESPACE","\n                        ",1393],["T_BREAK","break",1394],";",["T_WHITESPACE","\n\n                    ",1394],["T_DEFAULT","default",1396],":",["T_WHITESPACE","\n                        ",1396],["T_COMMENT","\/\/ Set property using PDF type based on PHP type\n",1397],["T_WHITESPACE","                        ",1398],["T_VARIABLE","$docInfo",1398],["T_OBJECT_OPERATOR","->",1398],["T_VARIABLE","$key",1398],["T_WHITESPACE"," ",1398],"=",["T_WHITESPACE"," ",1398],["T_STRING","Zend_Pdf_Element",1398],["T_DOUBLE_COLON","::",1398],["T_STRING","phpToPdf",1398],"(",["T_VARIABLE","$value",1398],")",";",["T_WHITESPACE","\n                        ",1398],["T_BREAK","break",1399],";",["T_WHITESPACE","\n                ",1399],"}",["T_WHITESPACE","\n            ",1400],"}",["T_WHITESPACE","\n\n            ",1401],["T_VARIABLE","$this",1403],["T_OBJECT_OPERATOR","->",1403],["T_STRING","_trailer",1403],["T_OBJECT_OPERATOR","->",1403],["T_STRING","Info",1403],["T_WHITESPACE"," ",1403],"=",["T_WHITESPACE"," ",1403],["T_VARIABLE","$docInfo",1403],";",["T_WHITESPACE","\n        ",1403],"}",["T_WHITESPACE","\n\n        ",1404],["T_VARIABLE","$this",1406],["T_OBJECT_OPERATOR","->",1406],["T_STRING","_dumpPages",1406],"(",")",";",["T_WHITESPACE","\n        ",1406],["T_VARIABLE","$this",1407],["T_OBJECT_OPERATOR","->",1407],["T_STRING","_dumpNamedDestinations",1407],"(",")",";",["T_WHITESPACE","\n        ",1407],["T_VARIABLE","$this",1408],["T_OBJECT_OPERATOR","->",1408],["T_STRING","_dumpOutlines",1408],"(",")",";",["T_WHITESPACE","\n\n        ",1408],["T_COMMENT","\/\/ Check, that PDF file was modified\n",1410],["T_WHITESPACE","        ",1411],["T_COMMENT","\/\/ File is always modified by _dumpPages() now, but future implementations may eliminate this.\n",1411],["T_WHITESPACE","        ",1412],["T_IF","if",1412],["T_WHITESPACE"," ",1412],"(","!",["T_VARIABLE","$this",1412],["T_OBJECT_OPERATOR","->",1412],["T_STRING","_objFactory",1412],["T_OBJECT_OPERATOR","->",1412],["T_STRING","isModified",1412],"(",")",")",["T_WHITESPACE"," ",1412],"{",["T_WHITESPACE","\n            ",1412],["T_IF","if",1413],["T_WHITESPACE"," ",1413],"(",["T_VARIABLE","$newSegmentOnly",1413],")",["T_WHITESPACE"," ",1413],"{",["T_WHITESPACE","\n                ",1413],["T_COMMENT","\/\/ Do nothing, return\n",1414],["T_WHITESPACE","                ",1415],["T_RETURN","return",1415],["T_WHITESPACE"," ",1415],["T_CONSTANT_ENCAPSED_STRING","''",1415],";",["T_WHITESPACE","\n            ",1415],"}",["T_WHITESPACE","\n\n            ",1416],["T_IF","if",1418],["T_WHITESPACE"," ",1418],"(",["T_VARIABLE","$outputStream",1418],["T_WHITESPACE"," ",1418],["T_IS_IDENTICAL","===",1418],["T_WHITESPACE"," ",1418],["T_STRING","null",1418],")",["T_WHITESPACE"," ",1418],"{",["T_WHITESPACE","\n                ",1418],["T_RETURN","return",1419],["T_WHITESPACE"," ",1419],["T_VARIABLE","$this",1419],["T_OBJECT_OPERATOR","->",1419],["T_STRING","_trailer",1419],["T_OBJECT_OPERATOR","->",1419],["T_STRING","getPDFString",1419],"(",")",";",["T_WHITESPACE","\n            ",1419],"}",["T_WHITESPACE"," ",1420],["T_ELSE","else",1420],["T_WHITESPACE"," ",1420],"{",["T_WHITESPACE","\n                ",1420],["T_VARIABLE","$pdfData",1421],["T_WHITESPACE"," ",1421],"=",["T_WHITESPACE"," ",1421],["T_VARIABLE","$this",1421],["T_OBJECT_OPERATOR","->",1421],["T_STRING","_trailer",1421],["T_OBJECT_OPERATOR","->",1421],["T_STRING","getPDFString",1421],"(",")",";",["T_WHITESPACE","\n                ",1421],["T_WHILE","while",1422],["T_WHITESPACE"," ",1422],"(",["T_WHITESPACE"," ",1422],["T_STRING","strlen",1422],"(",["T_VARIABLE","$pdfData",1422],")",["T_WHITESPACE"," ",1422],">",["T_WHITESPACE"," ",1422],["T_LNUMBER","0",1422],["T_WHITESPACE"," ",1422],["T_BOOLEAN_AND","&&",1422],["T_WHITESPACE"," ",1422],"(",["T_VARIABLE","$byteCount",1422],["T_WHITESPACE"," ",1422],"=",["T_WHITESPACE"," ",1422],["T_STRING","fwrite",1422],"(",["T_VARIABLE","$outputStream",1422],",",["T_WHITESPACE"," ",1422],["T_VARIABLE","$pdfData",1422],")",")",["T_WHITESPACE"," ",1422],["T_IS_NOT_EQUAL","!=",1422],["T_WHITESPACE"," ",1422],["T_STRING","false",1422],["T_WHITESPACE"," ",1422],")",["T_WHITESPACE"," ",1422],"{",["T_WHITESPACE","\n                    ",1422],["T_VARIABLE","$pdfData",1423],["T_WHITESPACE"," ",1423],"=",["T_WHITESPACE"," ",1423],["T_STRING","substr",1423],"(",["T_VARIABLE","$pdfData",1423],",",["T_WHITESPACE"," ",1423],["T_VARIABLE","$byteCount",1423],")",";",["T_WHITESPACE","\n                ",1423],"}",["T_WHITESPACE","\n\n                ",1424],["T_RETURN","return",1426],["T_WHITESPACE"," ",1426],["T_CONSTANT_ENCAPSED_STRING","''",1426],";",["T_WHITESPACE","\n            ",1426],"}",["T_WHITESPACE","\n        ",1427],"}",["T_WHITESPACE","\n\n        ",1428],["T_COMMENT","\/\/ offset (from a start of PDF file) of new PDF file segment\n",1430],["T_WHITESPACE","        ",1431],["T_VARIABLE","$offset",1431],["T_WHITESPACE"," ",1431],"=",["T_WHITESPACE"," ",1431],["T_VARIABLE","$this",1431],["T_OBJECT_OPERATOR","->",1431],["T_STRING","_trailer",1431],["T_OBJECT_OPERATOR","->",1431],["T_STRING","getPDFLength",1431],"(",")",";",["T_WHITESPACE","\n        ",1431],["T_COMMENT","\/\/ Last Object number in a list of free objects\n",1432],["T_WHITESPACE","        ",1433],["T_VARIABLE","$lastFreeObject",1433],["T_WHITESPACE"," ",1433],"=",["T_WHITESPACE"," ",1433],["T_VARIABLE","$this",1433],["T_OBJECT_OPERATOR","->",1433],["T_STRING","_trailer",1433],["T_OBJECT_OPERATOR","->",1433],["T_STRING","getLastFreeObject",1433],"(",")",";",["T_WHITESPACE","\n\n        ",1433],["T_COMMENT","\/\/ Array of cross-reference table subsections\n",1435],["T_WHITESPACE","        ",1436],["T_VARIABLE","$xrefTable",1436],["T_WHITESPACE"," ",1436],"=",["T_WHITESPACE"," ",1436],["T_ARRAY","array",1436],"(",")",";",["T_WHITESPACE","\n        ",1436],["T_COMMENT","\/\/ Object numbers of first objects in each subsection\n",1437],["T_WHITESPACE","        ",1438],["T_VARIABLE","$xrefSectionStartNums",1438],["T_WHITESPACE"," ",1438],"=",["T_WHITESPACE"," ",1438],["T_ARRAY","array",1438],"(",")",";",["T_WHITESPACE","\n\n        ",1438],["T_COMMENT","\/\/ Last cross-reference table subsection\n",1440],["T_WHITESPACE","        ",1441],["T_VARIABLE","$xrefSection",1441],["T_WHITESPACE"," ",1441],"=",["T_WHITESPACE"," ",1441],["T_ARRAY","array",1441],"(",")",";",["T_WHITESPACE","\n        ",1441],["T_COMMENT","\/\/ Dummy initialization of the first element (specail case - header of linked list of free objects).\n",1442],["T_WHITESPACE","        ",1443],["T_VARIABLE","$xrefSection",1443],"[","]",["T_WHITESPACE"," ",1443],"=",["T_WHITESPACE"," ",1443],["T_LNUMBER","0",1443],";",["T_WHITESPACE","\n        ",1443],["T_VARIABLE","$xrefSectionStartNums",1444],"[","]",["T_WHITESPACE"," ",1444],"=",["T_WHITESPACE"," ",1444],["T_LNUMBER","0",1444],";",["T_WHITESPACE","\n        ",1444],["T_COMMENT","\/\/ Object number of last processed PDF object.\n",1445],["T_WHITESPACE","        ",1446],["T_COMMENT","\/\/ Used to manage cross-reference subsections.\n",1446],["T_WHITESPACE","        ",1447],["T_COMMENT","\/\/ Initialized by zero (specail case - header of linked list of free objects).\n",1447],["T_WHITESPACE","        ",1448],["T_VARIABLE","$lastObjNum",1448],["T_WHITESPACE"," ",1448],"=",["T_WHITESPACE"," ",1448],["T_LNUMBER","0",1448],";",["T_WHITESPACE","\n\n        ",1448],["T_IF","if",1450],["T_WHITESPACE"," ",1450],"(",["T_VARIABLE","$outputStream",1450],["T_WHITESPACE"," ",1450],["T_IS_NOT_IDENTICAL","!==",1450],["T_WHITESPACE"," ",1450],["T_STRING","null",1450],")",["T_WHITESPACE"," ",1450],"{",["T_WHITESPACE","\n            ",1450],["T_IF","if",1451],["T_WHITESPACE"," ",1451],"(","!",["T_VARIABLE","$newSegmentOnly",1451],")",["T_WHITESPACE"," ",1451],"{",["T_WHITESPACE","\n                ",1451],["T_VARIABLE","$pdfData",1452],["T_WHITESPACE"," ",1452],"=",["T_WHITESPACE"," ",1452],["T_VARIABLE","$this",1452],["T_OBJECT_OPERATOR","->",1452],["T_STRING","_trailer",1452],["T_OBJECT_OPERATOR","->",1452],["T_STRING","getPDFString",1452],"(",")",";",["T_WHITESPACE","\n                ",1452],["T_WHILE","while",1453],["T_WHITESPACE"," ",1453],"(",["T_WHITESPACE"," ",1453],["T_STRING","strlen",1453],"(",["T_VARIABLE","$pdfData",1453],")",["T_WHITESPACE"," ",1453],">",["T_WHITESPACE"," ",1453],["T_LNUMBER","0",1453],["T_WHITESPACE"," ",1453],["T_BOOLEAN_AND","&&",1453],["T_WHITESPACE"," ",1453],"(",["T_VARIABLE","$byteCount",1453],["T_WHITESPACE"," ",1453],"=",["T_WHITESPACE"," ",1453],["T_STRING","fwrite",1453],"(",["T_VARIABLE","$outputStream",1453],",",["T_WHITESPACE"," ",1453],["T_VARIABLE","$pdfData",1453],")",")",["T_WHITESPACE"," ",1453],["T_IS_NOT_EQUAL","!=",1453],["T_WHITESPACE"," ",1453],["T_STRING","false",1453],["T_WHITESPACE"," ",1453],")",["T_WHITESPACE"," ",1453],"{",["T_WHITESPACE","\n                    ",1453],["T_VARIABLE","$pdfData",1454],["T_WHITESPACE"," ",1454],"=",["T_WHITESPACE"," ",1454],["T_STRING","substr",1454],"(",["T_VARIABLE","$pdfData",1454],",",["T_WHITESPACE"," ",1454],["T_VARIABLE","$byteCount",1454],")",";",["T_WHITESPACE","\n                ",1454],"}",["T_WHITESPACE","\n            ",1455],"}",["T_WHITESPACE","\n        ",1456],"}",["T_WHITESPACE"," ",1457],["T_ELSE","else",1457],["T_WHITESPACE"," ",1457],"{",["T_WHITESPACE","\n            ",1457],["T_VARIABLE","$pdfSegmentBlocks",1458],["T_WHITESPACE"," ",1458],"=",["T_WHITESPACE"," ",1458],"(",["T_VARIABLE","$newSegmentOnly",1458],")",["T_WHITESPACE"," ",1458],"?",["T_WHITESPACE"," ",1458],["T_ARRAY","array",1458],"(",")",["T_WHITESPACE"," ",1458],":",["T_WHITESPACE"," ",1458],["T_ARRAY","array",1458],"(",["T_VARIABLE","$this",1458],["T_OBJECT_OPERATOR","->",1458],["T_STRING","_trailer",1458],["T_OBJECT_OPERATOR","->",1458],["T_STRING","getPDFString",1458],"(",")",")",";",["T_WHITESPACE","\n        ",1458],"}",["T_WHITESPACE","\n\n        ",1459],["T_COMMENT","\/\/ Iterate objects to create new reference table\n",1461],["T_WHITESPACE","        ",1462],["T_FOREACH","foreach",1462],["T_WHITESPACE"," ",1462],"(",["T_VARIABLE","$this",1462],["T_OBJECT_OPERATOR","->",1462],["T_STRING","_objFactory",1462],["T_OBJECT_OPERATOR","->",1462],["T_STRING","listModifiedObjects",1462],"(",")",["T_WHITESPACE"," ",1462],["T_AS","as",1462],["T_WHITESPACE"," ",1462],["T_VARIABLE","$updateInfo",1462],")",["T_WHITESPACE"," ",1462],"{",["T_WHITESPACE","\n            ",1462],["T_VARIABLE","$objNum",1463],["T_WHITESPACE"," ",1463],"=",["T_WHITESPACE"," ",1463],["T_VARIABLE","$updateInfo",1463],["T_OBJECT_OPERATOR","->",1463],["T_STRING","getObjNum",1463],"(",")",";",["T_WHITESPACE","\n\n            ",1463],["T_IF","if",1465],["T_WHITESPACE"," ",1465],"(",["T_VARIABLE","$objNum",1465],["T_WHITESPACE"," ",1465],"-",["T_WHITESPACE"," ",1465],["T_VARIABLE","$lastObjNum",1465],["T_WHITESPACE"," ",1465],["T_IS_NOT_EQUAL","!=",1465],["T_WHITESPACE"," ",1465],["T_LNUMBER","1",1465],")",["T_WHITESPACE"," ",1465],"{",["T_WHITESPACE","\n                ",1465],["T_COMMENT","\/\/ Save cross-reference table subsection and start new one\n",1466],["T_WHITESPACE","                ",1467],["T_VARIABLE","$xrefTable",1467],"[","]",["T_WHITESPACE"," ",1467],"=",["T_WHITESPACE"," ",1467],["T_VARIABLE","$xrefSection",1467],";",["T_WHITESPACE","\n                ",1467],["T_VARIABLE","$xrefSection",1468],["T_WHITESPACE"," ",1468],"=",["T_WHITESPACE"," ",1468],["T_ARRAY","array",1468],"(",")",";",["T_WHITESPACE","\n                ",1468],["T_VARIABLE","$xrefSectionStartNums",1469],"[","]",["T_WHITESPACE"," ",1469],"=",["T_WHITESPACE"," ",1469],["T_VARIABLE","$objNum",1469],";",["T_WHITESPACE","\n            ",1469],"}",["T_WHITESPACE","\n\n            ",1470],["T_IF","if",1472],["T_WHITESPACE"," ",1472],"(",["T_VARIABLE","$updateInfo",1472],["T_OBJECT_OPERATOR","->",1472],["T_STRING","isFree",1472],"(",")",")",["T_WHITESPACE"," ",1472],"{",["T_WHITESPACE","\n                ",1472],["T_COMMENT","\/\/ Free object cross-reference table entry\n",1473],["T_WHITESPACE","                ",1474],["T_VARIABLE","$xrefSection",1474],"[","]",["T_WHITESPACE","  ",1474],"=",["T_WHITESPACE"," ",1474],["T_STRING","sprintf",1474],"(",["T_CONSTANT_ENCAPSED_STRING","\"%010d %05d f \\n\"",1474],",",["T_WHITESPACE"," ",1474],["T_VARIABLE","$lastFreeObject",1474],",",["T_WHITESPACE"," ",1474],["T_VARIABLE","$updateInfo",1474],["T_OBJECT_OPERATOR","->",1474],["T_STRING","getGenNum",1474],"(",")",")",";",["T_WHITESPACE","\n                ",1474],["T_VARIABLE","$lastFreeObject",1475],["T_WHITESPACE"," ",1475],"=",["T_WHITESPACE"," ",1475],["T_VARIABLE","$objNum",1475],";",["T_WHITESPACE","\n            ",1475],"}",["T_WHITESPACE"," ",1476],["T_ELSE","else",1476],["T_WHITESPACE"," ",1476],"{",["T_WHITESPACE","\n                ",1476],["T_COMMENT","\/\/ In-use object cross-reference table entry\n",1477],["T_WHITESPACE","                ",1478],["T_VARIABLE","$xrefSection",1478],"[","]",["T_WHITESPACE","  ",1478],"=",["T_WHITESPACE"," ",1478],["T_STRING","sprintf",1478],"(",["T_CONSTANT_ENCAPSED_STRING","\"%010d %05d n \\n\"",1478],",",["T_WHITESPACE"," ",1478],["T_VARIABLE","$offset",1478],",",["T_WHITESPACE"," ",1478],["T_VARIABLE","$updateInfo",1478],["T_OBJECT_OPERATOR","->",1478],["T_STRING","getGenNum",1478],"(",")",")",";",["T_WHITESPACE","\n\n                ",1478],["T_VARIABLE","$pdfBlock",1480],["T_WHITESPACE"," ",1480],"=",["T_WHITESPACE"," ",1480],["T_VARIABLE","$updateInfo",1480],["T_OBJECT_OPERATOR","->",1480],["T_STRING","getObjectDump",1480],"(",")",";",["T_WHITESPACE","\n                ",1480],["T_VARIABLE","$offset",1481],["T_WHITESPACE"," ",1481],["T_PLUS_EQUAL","+=",1481],["T_WHITESPACE"," ",1481],["T_STRING","strlen",1481],"(",["T_VARIABLE","$pdfBlock",1481],")",";",["T_WHITESPACE","\n\n                ",1481],["T_IF","if",1483],["T_WHITESPACE"," ",1483],"(",["T_VARIABLE","$outputStream",1483],["T_WHITESPACE"," ",1483],["T_IS_IDENTICAL","===",1483],["T_WHITESPACE"," ",1483],["T_STRING","null",1483],")",["T_WHITESPACE"," ",1483],"{",["T_WHITESPACE","\n                    ",1483],["T_VARIABLE","$pdfSegmentBlocks",1484],"[","]",["T_WHITESPACE"," ",1484],"=",["T_WHITESPACE"," ",1484],["T_VARIABLE","$pdfBlock",1484],";",["T_WHITESPACE","\n                ",1484],"}",["T_WHITESPACE"," ",1485],["T_ELSE","else",1485],["T_WHITESPACE"," ",1485],"{",["T_WHITESPACE","\n                    ",1485],["T_WHILE","while",1486],["T_WHITESPACE"," ",1486],"(",["T_WHITESPACE"," ",1486],["T_STRING","strlen",1486],"(",["T_VARIABLE","$pdfBlock",1486],")",["T_WHITESPACE"," ",1486],">",["T_WHITESPACE"," ",1486],["T_LNUMBER","0",1486],["T_WHITESPACE"," ",1486],["T_BOOLEAN_AND","&&",1486],["T_WHITESPACE"," ",1486],"(",["T_VARIABLE","$byteCount",1486],["T_WHITESPACE"," ",1486],"=",["T_WHITESPACE"," ",1486],["T_STRING","fwrite",1486],"(",["T_VARIABLE","$outputStream",1486],",",["T_WHITESPACE"," ",1486],["T_VARIABLE","$pdfBlock",1486],")",")",["T_WHITESPACE"," ",1486],["T_IS_NOT_EQUAL","!=",1486],["T_WHITESPACE"," ",1486],["T_STRING","false",1486],["T_WHITESPACE"," ",1486],")",["T_WHITESPACE"," ",1486],"{",["T_WHITESPACE","\n                        ",1486],["T_VARIABLE","$pdfBlock",1487],["T_WHITESPACE"," ",1487],"=",["T_WHITESPACE"," ",1487],["T_STRING","substr",1487],"(",["T_VARIABLE","$pdfBlock",1487],",",["T_WHITESPACE"," ",1487],["T_VARIABLE","$byteCount",1487],")",";",["T_WHITESPACE","\n                    ",1487],"}",["T_WHITESPACE","\n                ",1488],"}",["T_WHITESPACE","\n            ",1489],"}",["T_WHITESPACE","\n            ",1490],["T_VARIABLE","$lastObjNum",1491],["T_WHITESPACE"," ",1491],"=",["T_WHITESPACE"," ",1491],["T_VARIABLE","$objNum",1491],";",["T_WHITESPACE","\n        ",1491],"}",["T_WHITESPACE","\n        ",1492],["T_COMMENT","\/\/ Save last cross-reference table subsection\n",1493],["T_WHITESPACE","        ",1494],["T_VARIABLE","$xrefTable",1494],"[","]",["T_WHITESPACE"," ",1494],"=",["T_WHITESPACE"," ",1494],["T_VARIABLE","$xrefSection",1494],";",["T_WHITESPACE","\n\n        ",1494],["T_COMMENT","\/\/ Modify first entry (specail case - header of linked list of free objects).\n",1496],["T_WHITESPACE","        ",1497],["T_VARIABLE","$xrefTable",1497],"[",["T_LNUMBER","0",1497],"]","[",["T_LNUMBER","0",1497],"]",["T_WHITESPACE"," ",1497],"=",["T_WHITESPACE"," ",1497],["T_STRING","sprintf",1497],"(",["T_CONSTANT_ENCAPSED_STRING","\"%010d 65535 f \\n\"",1497],",",["T_WHITESPACE"," ",1497],["T_VARIABLE","$lastFreeObject",1497],")",";",["T_WHITESPACE","\n\n        ",1497],["T_VARIABLE","$xrefTableStr",1499],["T_WHITESPACE"," ",1499],"=",["T_WHITESPACE"," ",1499],["T_CONSTANT_ENCAPSED_STRING","\"xref\\n\"",1499],";",["T_WHITESPACE","\n        ",1499],["T_FOREACH","foreach",1500],["T_WHITESPACE"," ",1500],"(",["T_VARIABLE","$xrefTable",1500],["T_WHITESPACE"," ",1500],["T_AS","as",1500],["T_WHITESPACE"," ",1500],["T_VARIABLE","$sectId",1500],["T_WHITESPACE"," ",1500],["T_DOUBLE_ARROW","=>",1500],["T_WHITESPACE"," ",1500],["T_VARIABLE","$xrefSection",1500],")",["T_WHITESPACE"," ",1500],"{",["T_WHITESPACE","\n            ",1500],["T_VARIABLE","$xrefTableStr",1501],["T_WHITESPACE"," ",1501],["T_CONCAT_EQUAL",".=",1501],["T_WHITESPACE"," ",1501],["T_STRING","sprintf",1501],"(",["T_CONSTANT_ENCAPSED_STRING","\"%d %d \\n\"",1501],",",["T_WHITESPACE"," ",1501],["T_VARIABLE","$xrefSectionStartNums",1501],"[",["T_VARIABLE","$sectId",1501],"]",",",["T_WHITESPACE"," ",1501],["T_STRING","count",1501],"(",["T_VARIABLE","$xrefSection",1501],")",")",";",["T_WHITESPACE","\n            ",1501],["T_FOREACH","foreach",1502],["T_WHITESPACE"," ",1502],"(",["T_VARIABLE","$xrefSection",1502],["T_WHITESPACE"," ",1502],["T_AS","as",1502],["T_WHITESPACE"," ",1502],["T_VARIABLE","$xrefTableEntry",1502],")",["T_WHITESPACE"," ",1502],"{",["T_WHITESPACE","\n                ",1502],["T_VARIABLE","$xrefTableStr",1503],["T_WHITESPACE"," ",1503],["T_CONCAT_EQUAL",".=",1503],["T_WHITESPACE"," ",1503],["T_VARIABLE","$xrefTableEntry",1503],";",["T_WHITESPACE","\n            ",1503],"}",["T_WHITESPACE","\n        ",1504],"}",["T_WHITESPACE","\n\n        ",1505],["T_VARIABLE","$this",1507],["T_OBJECT_OPERATOR","->",1507],["T_STRING","_trailer",1507],["T_OBJECT_OPERATOR","->",1507],["T_STRING","Size",1507],["T_OBJECT_OPERATOR","->",1507],["T_STRING","value",1507],["T_WHITESPACE"," ",1507],"=",["T_WHITESPACE"," ",1507],["T_VARIABLE","$this",1507],["T_OBJECT_OPERATOR","->",1507],["T_STRING","_objFactory",1507],["T_OBJECT_OPERATOR","->",1507],["T_STRING","getObjectCount",1507],"(",")",";",["T_WHITESPACE","\n\n        ",1507],["T_VARIABLE","$pdfBlock",1509],["T_WHITESPACE"," ",1509],"=",["T_WHITESPACE"," ",1509],["T_VARIABLE","$xrefTableStr",1509],["T_WHITESPACE","\n                 ",1509],".",["T_WHITESPACE","  ",1510],["T_VARIABLE","$this",1510],["T_OBJECT_OPERATOR","->",1510],["T_STRING","_trailer",1510],["T_OBJECT_OPERATOR","->",1510],["T_STRING","toString",1510],"(",")",["T_WHITESPACE","\n                 ",1510],".",["T_WHITESPACE"," ",1511],["T_CONSTANT_ENCAPSED_STRING","\"startxref\\n\"",1511],["T_WHITESPACE"," ",1511],".",["T_WHITESPACE"," ",1511],["T_VARIABLE","$offset",1511],["T_WHITESPACE"," ",1511],".",["T_WHITESPACE"," ",1511],["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",1511],["T_WHITESPACE","\n                 ",1511],".",["T_WHITESPACE"," ",1512],["T_CONSTANT_ENCAPSED_STRING","\"%%EOF\\n\"",1512],";",["T_WHITESPACE","\n\n        ",1512],["T_VARIABLE","$this",1514],["T_OBJECT_OPERATOR","->",1514],["T_STRING","_objFactory",1514],["T_OBJECT_OPERATOR","->",1514],["T_STRING","cleanEnumerationShiftCache",1514],"(",")",";",["T_WHITESPACE","\n\n        ",1514],["T_IF","if",1516],["T_WHITESPACE"," ",1516],"(",["T_VARIABLE","$outputStream",1516],["T_WHITESPACE"," ",1516],["T_IS_IDENTICAL","===",1516],["T_WHITESPACE"," ",1516],["T_STRING","null",1516],")",["T_WHITESPACE"," ",1516],"{",["T_WHITESPACE","\n            ",1516],["T_VARIABLE","$pdfSegmentBlocks",1517],"[","]",["T_WHITESPACE"," ",1517],"=",["T_WHITESPACE"," ",1517],["T_VARIABLE","$pdfBlock",1517],";",["T_WHITESPACE","\n\n            ",1517],["T_RETURN","return",1519],["T_WHITESPACE"," ",1519],["T_STRING","implode",1519],"(",["T_CONSTANT_ENCAPSED_STRING","''",1519],",",["T_WHITESPACE"," ",1519],["T_VARIABLE","$pdfSegmentBlocks",1519],")",";",["T_WHITESPACE","\n        ",1519],"}",["T_WHITESPACE"," ",1520],["T_ELSE","else",1520],["T_WHITESPACE"," ",1520],"{",["T_WHITESPACE","\n            ",1520],["T_WHILE","while",1521],["T_WHITESPACE"," ",1521],"(",["T_WHITESPACE"," ",1521],["T_STRING","strlen",1521],"(",["T_VARIABLE","$pdfBlock",1521],")",["T_WHITESPACE"," ",1521],">",["T_WHITESPACE"," ",1521],["T_LNUMBER","0",1521],["T_WHITESPACE"," ",1521],["T_BOOLEAN_AND","&&",1521],["T_WHITESPACE"," ",1521],"(",["T_VARIABLE","$byteCount",1521],["T_WHITESPACE"," ",1521],"=",["T_WHITESPACE"," ",1521],["T_STRING","fwrite",1521],"(",["T_VARIABLE","$outputStream",1521],",",["T_WHITESPACE"," ",1521],["T_VARIABLE","$pdfBlock",1521],")",")",["T_WHITESPACE"," ",1521],["T_IS_NOT_EQUAL","!=",1521],["T_WHITESPACE"," ",1521],["T_STRING","false",1521],["T_WHITESPACE"," ",1521],")",["T_WHITESPACE"," ",1521],"{",["T_WHITESPACE","\n                ",1521],["T_VARIABLE","$pdfBlock",1522],["T_WHITESPACE"," ",1522],"=",["T_WHITESPACE"," ",1522],["T_STRING","substr",1522],"(",["T_VARIABLE","$pdfBlock",1522],",",["T_WHITESPACE"," ",1522],["T_VARIABLE","$byteCount",1522],")",";",["T_WHITESPACE","\n            ",1522],"}",["T_WHITESPACE","\n\n            ",1523],["T_RETURN","return",1525],["T_WHITESPACE"," ",1525],["T_CONSTANT_ENCAPSED_STRING","''",1525],";",["T_WHITESPACE","\n        ",1525],"}",["T_WHITESPACE","\n    ",1526],"}",["T_WHITESPACE","\n\n    ",1527],["T_DOC_COMMENT","\/**\n     * Sets the document-level JavaScript\n     *\n     * Resets and appends\n     *\n     * @param string|array $javaScript\n     *\/",1529],["T_WHITESPACE","\n    ",1535],["T_PUBLIC","public",1536],["T_WHITESPACE"," ",1536],["T_FUNCTION","function",1536],["T_WHITESPACE"," ",1536],["T_STRING","setJavaScript",1536],"(",["T_VARIABLE","$javaScript",1536],")",["T_WHITESPACE","\n    ",1536],"{",["T_WHITESPACE","\n        ",1537],["T_VARIABLE","$this",1538],["T_OBJECT_OPERATOR","->",1538],["T_STRING","resetJavaScript",1538],"(",")",";",["T_WHITESPACE","\n\n        ",1538],["T_VARIABLE","$this",1540],["T_OBJECT_OPERATOR","->",1540],["T_STRING","addJavaScript",1540],"(",["T_VARIABLE","$javaScript",1540],")",";",["T_WHITESPACE","\n    ",1540],"}",["T_WHITESPACE","\n\n    ",1541],["T_DOC_COMMENT","\/**\n     * Resets the document-level JavaScript\n     *\/",1543],["T_WHITESPACE","\n    ",1545],["T_PUBLIC","public",1546],["T_WHITESPACE"," ",1546],["T_FUNCTION","function",1546],["T_WHITESPACE"," ",1546],["T_STRING","resetJavaScript",1546],"(",")",["T_WHITESPACE","\n    ",1546],"{",["T_WHITESPACE","\n        ",1547],["T_VARIABLE","$this",1548],["T_OBJECT_OPERATOR","->",1548],["T_STRING","_javaScript",1548],["T_WHITESPACE"," ",1548],"=",["T_WHITESPACE"," ",1548],["T_STRING","null",1548],";",["T_WHITESPACE","\n\n        ",1548],["T_VARIABLE","$root",1550],["T_WHITESPACE"," ",1550],"=",["T_WHITESPACE"," ",1550],["T_VARIABLE","$this",1550],["T_OBJECT_OPERATOR","->",1550],["T_STRING","_trailer",1550],["T_OBJECT_OPERATOR","->",1550],["T_STRING","Root",1550],";",["T_WHITESPACE","\n        ",1550],["T_IF","if",1551],["T_WHITESPACE"," ",1551],"(",["T_STRING","null",1551],["T_WHITESPACE"," ",1551],["T_IS_IDENTICAL","===",1551],["T_WHITESPACE"," ",1551],["T_VARIABLE","$root",1551],["T_OBJECT_OPERATOR","->",1551],["T_STRING","Names",1551],["T_WHITESPACE"," ",1551],["T_BOOLEAN_OR","||",1551],["T_WHITESPACE"," ",1551],["T_STRING","null",1551],["T_WHITESPACE"," ",1551],["T_IS_IDENTICAL","===",1551],["T_WHITESPACE"," ",1551],["T_VARIABLE","$root",1551],["T_OBJECT_OPERATOR","->",1551],["T_STRING","Names",1551],["T_OBJECT_OPERATOR","->",1551],["T_STRING","JavaScript",1551],")",["T_WHITESPACE"," ",1551],"{",["T_WHITESPACE","\n            ",1551],["T_RETURN","return",1552],";",["T_WHITESPACE","\n        ",1552],"}",["T_WHITESPACE","\n        ",1553],["T_VARIABLE","$root",1554],["T_OBJECT_OPERATOR","->",1554],["T_STRING","Names",1554],["T_OBJECT_OPERATOR","->",1554],["T_STRING","JavaScript",1554],["T_WHITESPACE"," ",1554],"=",["T_WHITESPACE"," ",1554],["T_STRING","null",1554],";",["T_WHITESPACE","\n    ",1554],"}",["T_WHITESPACE","\n\n    ",1555],["T_DOC_COMMENT","\/**\n     * Appends JavaScript to the document-level JavaScript\n     *\n     * @param string|array $javaScript\n     * @throws Zend_Pdf_Exception\n     *\/",1557],["T_WHITESPACE","\n    ",1562],["T_PUBLIC","public",1563],["T_WHITESPACE"," ",1563],["T_FUNCTION","function",1563],["T_WHITESPACE"," ",1563],["T_STRING","addJavaScript",1563],"(",["T_VARIABLE","$javaScript",1563],")",["T_WHITESPACE","\n    ",1563],"{",["T_WHITESPACE","\n        ",1564],["T_IF","if",1565],["T_WHITESPACE"," ",1565],"(",["T_EMPTY","empty",1565],"(",["T_VARIABLE","$javaScript",1565],")",")",["T_WHITESPACE"," ",1565],"{",["T_WHITESPACE","\n            ",1565],["T_THROW","throw",1566],["T_WHITESPACE"," ",1566],["T_NEW","new",1566],["T_WHITESPACE"," ",1566],["T_STRING","Zend_Pdf_Exception",1566],"(",["T_WHITESPACE","\n                ",1566],["T_CONSTANT_ENCAPSED_STRING","'JavaScript must be a non empty string or array of strings'",1567],["T_WHITESPACE","\n            ",1567],")",";",["T_WHITESPACE","\n        ",1568],"}",["T_WHITESPACE","\n\n        ",1569],["T_IF","if",1571],["T_WHITESPACE"," ",1571],"(","!",["T_STRING","is_array",1571],"(",["T_VARIABLE","$javaScript",1571],")",")",["T_WHITESPACE"," ",1571],"{",["T_WHITESPACE","\n            ",1571],["T_VARIABLE","$javaScript",1572],["T_WHITESPACE"," ",1572],"=",["T_WHITESPACE"," ",1572],["T_ARRAY","array",1572],"(",["T_VARIABLE","$javaScript",1572],")",";",["T_WHITESPACE","\n        ",1572],"}",["T_WHITESPACE","\n\n        ",1573],["T_IF","if",1575],["T_WHITESPACE"," ",1575],"(",["T_STRING","null",1575],["T_WHITESPACE"," ",1575],["T_IS_IDENTICAL","===",1575],["T_WHITESPACE"," ",1575],["T_VARIABLE","$this",1575],["T_OBJECT_OPERATOR","->",1575],["T_STRING","_javaScript",1575],")",["T_WHITESPACE"," ",1575],"{",["T_WHITESPACE","\n            ",1575],["T_VARIABLE","$this",1576],["T_OBJECT_OPERATOR","->",1576],["T_STRING","_javaScript",1576],["T_WHITESPACE"," ",1576],"=",["T_WHITESPACE"," ",1576],["T_VARIABLE","$javaScript",1576],";",["T_WHITESPACE","\n        ",1576],"}",["T_WHITESPACE"," ",1577],["T_ELSE","else",1577],["T_WHITESPACE"," ",1577],"{",["T_WHITESPACE","\n            ",1577],["T_VARIABLE","$this",1578],["T_OBJECT_OPERATOR","->",1578],["T_STRING","_javaScript",1578],["T_WHITESPACE"," ",1578],"=",["T_WHITESPACE"," ",1578],["T_STRING","array_merge",1578],"(",["T_VARIABLE","$this",1578],["T_OBJECT_OPERATOR","->",1578],["T_STRING","_javaScript",1578],",",["T_WHITESPACE"," ",1578],["T_VARIABLE","$javaScript",1578],")",";",["T_WHITESPACE","\n        ",1578],"}",["T_WHITESPACE","\n\n        ",1579],["T_IF","if",1581],["T_WHITESPACE"," ",1581],"(","!",["T_EMPTY","empty",1581],"(",["T_VARIABLE","$this",1581],["T_OBJECT_OPERATOR","->",1581],["T_STRING","_javaScript",1581],")",")",["T_WHITESPACE"," ",1581],"{",["T_WHITESPACE","\n            ",1581],["T_VARIABLE","$items",1582],["T_WHITESPACE"," ",1582],"=",["T_WHITESPACE"," ",1582],["T_ARRAY","array",1582],"(",")",";",["T_WHITESPACE","\n\n            ",1582],["T_FOREACH","foreach",1584],["T_WHITESPACE"," ",1584],"(",["T_VARIABLE","$this",1584],["T_OBJECT_OPERATOR","->",1584],["T_STRING","_javaScript",1584],["T_WHITESPACE"," ",1584],["T_AS","as",1584],["T_WHITESPACE"," ",1584],["T_VARIABLE","$javaScript",1584],")",["T_WHITESPACE"," ",1584],"{",["T_WHITESPACE","\n                ",1584],["T_VARIABLE","$jsCode",1585],["T_WHITESPACE"," ",1585],"=",["T_WHITESPACE"," ",1585],["T_ARRAY","array",1585],"(",["T_WHITESPACE","\n                    ",1585],["T_CONSTANT_ENCAPSED_STRING","'S'",1586],["T_WHITESPACE","  ",1586],["T_DOUBLE_ARROW","=>",1586],["T_WHITESPACE"," ",1586],["T_NEW","new",1586],["T_WHITESPACE"," ",1586],["T_STRING","Zend_Pdf_Element_Name",1586],"(",["T_CONSTANT_ENCAPSED_STRING","'JavaScript'",1586],")",",",["T_WHITESPACE","\n                    ",1586],["T_CONSTANT_ENCAPSED_STRING","'JS'",1587],["T_WHITESPACE"," ",1587],["T_DOUBLE_ARROW","=>",1587],["T_WHITESPACE"," ",1587],["T_NEW","new",1587],["T_WHITESPACE"," ",1587],["T_STRING","Zend_Pdf_Element_String",1587],"(",["T_VARIABLE","$javaScript",1587],")",["T_WHITESPACE","\n                ",1587],")",";",["T_WHITESPACE","\n                ",1588],["T_VARIABLE","$items",1589],"[","]",["T_WHITESPACE"," ",1589],"=",["T_WHITESPACE"," ",1589],["T_NEW","new",1589],["T_WHITESPACE"," ",1589],["T_STRING","Zend_Pdf_Element_String",1589],"(",["T_CONSTANT_ENCAPSED_STRING","'EmbeddedJS'",1589],")",";",["T_WHITESPACE","\n                ",1589],["T_VARIABLE","$items",1590],"[","]",["T_WHITESPACE"," ",1590],"=",["T_WHITESPACE"," ",1590],["T_VARIABLE","$this",1590],["T_OBJECT_OPERATOR","->",1590],["T_STRING","_objFactory",1590],["T_OBJECT_OPERATOR","->",1590],["T_STRING","newObject",1590],"(",["T_WHITESPACE","\n                    ",1590],["T_NEW","new",1591],["T_WHITESPACE"," ",1591],["T_STRING","Zend_Pdf_Element_Dictionary",1591],"(",["T_VARIABLE","$jsCode",1591],")",["T_WHITESPACE","\n                ",1591],")",";",["T_WHITESPACE","\n            ",1592],"}",["T_WHITESPACE","\n\n            ",1593],["T_VARIABLE","$jsRef",1595],["T_WHITESPACE"," ",1595],"=",["T_WHITESPACE"," ",1595],["T_VARIABLE","$this",1595],["T_OBJECT_OPERATOR","->",1595],["T_STRING","_objFactory",1595],["T_OBJECT_OPERATOR","->",1595],["T_STRING","newObject",1595],"(",["T_WHITESPACE","\n                ",1595],["T_NEW","new",1596],["T_WHITESPACE"," ",1596],["T_STRING","Zend_Pdf_Element_Dictionary",1596],"(",["T_WHITESPACE","\n                    ",1596],["T_ARRAY","array",1597],"(",["T_CONSTANT_ENCAPSED_STRING","'Names'",1597],["T_WHITESPACE"," ",1597],["T_DOUBLE_ARROW","=>",1597],["T_WHITESPACE"," ",1597],["T_NEW","new",1597],["T_WHITESPACE"," ",1597],["T_STRING","Zend_Pdf_Element_Array",1597],"(",["T_VARIABLE","$items",1597],")",")",["T_WHITESPACE","\n                ",1597],")",["T_WHITESPACE","\n            ",1598],")",";",["T_WHITESPACE","\n\n            ",1599],["T_IF","if",1601],["T_WHITESPACE"," ",1601],"(",["T_STRING","null",1601],["T_WHITESPACE"," ",1601],["T_IS_IDENTICAL","===",1601],["T_WHITESPACE"," ",1601],["T_VARIABLE","$this",1601],["T_OBJECT_OPERATOR","->",1601],["T_STRING","_trailer",1601],["T_OBJECT_OPERATOR","->",1601],["T_STRING","Root",1601],["T_OBJECT_OPERATOR","->",1601],["T_STRING","Names",1601],")",["T_WHITESPACE"," ",1601],"{",["T_WHITESPACE","\n                ",1601],["T_VARIABLE","$this",1602],["T_OBJECT_OPERATOR","->",1602],["T_STRING","_trailer",1602],["T_OBJECT_OPERATOR","->",1602],["T_STRING","Root",1602],["T_OBJECT_OPERATOR","->",1602],["T_STRING","Names",1602],["T_WHITESPACE"," ",1602],"=",["T_WHITESPACE"," ",1602],["T_NEW","new",1602],["T_WHITESPACE"," ",1602],["T_STRING","Zend_Pdf_Element_Dictionary",1602],"(",")",";",["T_WHITESPACE","\n            ",1602],"}",["T_WHITESPACE","\n            ",1603],["T_VARIABLE","$this",1604],["T_OBJECT_OPERATOR","->",1604],["T_STRING","_trailer",1604],["T_OBJECT_OPERATOR","->",1604],["T_STRING","Root",1604],["T_OBJECT_OPERATOR","->",1604],["T_STRING","Names",1604],["T_OBJECT_OPERATOR","->",1604],["T_STRING","JavaScript",1604],["T_WHITESPACE"," ",1604],"=",["T_WHITESPACE"," ",1604],["T_VARIABLE","$jsRef",1604],";",["T_WHITESPACE","\n        ",1604],"}",["T_WHITESPACE","\n    ",1605],"}",["T_WHITESPACE","\n\n    ",1606],["T_DOC_COMMENT","\/**\n     * Convert date to PDF format (it's close to ASN.1 (Abstract Syntax Notation\n     * One) defined in ISO\/IEC 8824).\n     *\n     * @todo This really isn't the best location for this method. It should\n     *   probably actually exist as Zend_Pdf_Element_Date or something like that.\n     *\n     * @todo Address the following E_STRICT issue:\n     *   PHP Strict Standards:  date(): It is not safe to rely on the system's\n     *   timezone settings. Please use the date.timezone setting, the TZ\n     *   environment variable or the date_default_timezone_set() function. In\n     *   case you used any of those methods and you are still getting this\n     *   warning, you most likely misspelled the timezone identifier.\n     *\n     * @param integer $timestamp (optional) If omitted, uses the current time.\n     * @return string\n     *\/",1608],["T_WHITESPACE","\n    ",1624],["T_PUBLIC","public",1625],["T_WHITESPACE"," ",1625],["T_STATIC","static",1625],["T_WHITESPACE"," ",1625],["T_FUNCTION","function",1625],["T_WHITESPACE"," ",1625],["T_STRING","pdfDate",1625],"(",["T_VARIABLE","$timestamp",1625],["T_WHITESPACE"," ",1625],"=",["T_WHITESPACE"," ",1625],["T_STRING","null",1625],")",["T_WHITESPACE","\n    ",1625],"{",["T_WHITESPACE","\n        ",1626],["T_IF","if",1627],["T_WHITESPACE"," ",1627],"(",["T_VARIABLE","$timestamp",1627],["T_WHITESPACE"," ",1627],["T_IS_IDENTICAL","===",1627],["T_WHITESPACE"," ",1627],["T_STRING","null",1627],")",["T_WHITESPACE"," ",1627],"{",["T_WHITESPACE","\n            ",1627],["T_VARIABLE","$date",1628],["T_WHITESPACE"," ",1628],"=",["T_WHITESPACE"," ",1628],["T_STRING","date",1628],"(",["T_CONSTANT_ENCAPSED_STRING","'\\D\\:YmdHisO'",1628],")",";",["T_WHITESPACE","\n        ",1628],"}",["T_WHITESPACE"," ",1629],["T_ELSE","else",1629],["T_WHITESPACE"," ",1629],"{",["T_WHITESPACE","\n            ",1629],["T_VARIABLE","$date",1630],["T_WHITESPACE"," ",1630],"=",["T_WHITESPACE"," ",1630],["T_STRING","date",1630],"(",["T_CONSTANT_ENCAPSED_STRING","'\\D\\:YmdHisO'",1630],",",["T_WHITESPACE"," ",1630],["T_VARIABLE","$timestamp",1630],")",";",["T_WHITESPACE","\n        ",1630],"}",["T_WHITESPACE","\n        ",1631],["T_RETURN","return",1632],["T_WHITESPACE"," ",1632],["T_STRING","substr_replace",1632],"(",["T_VARIABLE","$date",1632],",",["T_WHITESPACE"," ",1632],["T_CONSTANT_ENCAPSED_STRING","'\\''",1632],",",["T_WHITESPACE"," ",1632],"-",["T_LNUMBER","2",1632],",",["T_WHITESPACE"," ",1632],["T_LNUMBER","0",1632],")",["T_WHITESPACE"," ",1632],".",["T_WHITESPACE"," ",1632],["T_CONSTANT_ENCAPSED_STRING","'\\''",1632],";",["T_WHITESPACE","\n    ",1632],"}",["T_WHITESPACE","\n\n",1633],"}",["T_WHITESPACE","\n",1635]]