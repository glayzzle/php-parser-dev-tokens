[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Zend Framework\n *\n * LICENSE\n *\n * This source file is subject to the new BSD license that is bundled\n * with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/framework.zend.com\/license\/new-bsd\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@zend.com so we can send you a copy immediately.\n *\n * @category   Zend\n * @package    Zend_Dom\n * @copyright  Copyright (c) 2005-2015 Zend Technologies USA Inc. (http:\/\/www.zend.com)\n * @license    http:\/\/framework.zend.com\/license\/new-bsd     New BSD License\n * @version    $Id$\n *\/",2],["T_WHITESPACE","\n\n",20],["T_DOC_COMMENT","\/**\n * @see Zend_Dom_Query_Css2Xpath\n *\/",22],["T_WHITESPACE","\n",24],["T_COMMENT","#require_once 'Zend\/Dom\/Query\/Css2Xpath.php';\n",25],["T_WHITESPACE","\n",26],["T_DOC_COMMENT","\/**\n * @see Zend_Dom_Query_Result\n *\/",27],["T_WHITESPACE","\n",29],["T_COMMENT","#require_once 'Zend\/Dom\/Query\/Result.php';\n",30],["T_WHITESPACE","\n",31],["T_DOC_COMMENT","\/** @see Zend_Xml_Security *\/",32],["T_WHITESPACE","\n",32],["T_COMMENT","#require_once 'Zend\/Xml\/Security.php';\n",33],["T_WHITESPACE","\n",34],["T_DOC_COMMENT","\/** @see Zend_Xml_Exception *\/",35],["T_WHITESPACE","\n",35],["T_COMMENT","#require_once 'Zend\/Xml\/Exception.php';\n",36],["T_WHITESPACE","\n",37],["T_DOC_COMMENT","\/**\n * Query DOM structures based on CSS selectors and\/or XPath\n *\n * @package    Zend_Dom\n * @subpackage Query\n * @copyright  Copyright (c) 2005-2015 Zend Technologies USA Inc. (http:\/\/www.zend.com)\n * @license    http:\/\/framework.zend.com\/license\/new-bsd     New BSD License\n *\/",38],["T_WHITESPACE","\n",45],["T_CLASS","class",46],["T_WHITESPACE"," ",46],["T_STRING","Zend_Dom_Query",46],["T_WHITESPACE","\n",46],"{",["T_WHITESPACE","\n    ",47],["T_COMMENT","\/**#@+\n     * Document types\n     *\/",48],["T_WHITESPACE","\n    ",50],["T_CONST","const",51],["T_WHITESPACE"," ",51],["T_STRING","DOC_DOM",51],["T_WHITESPACE","   ",51],"=",["T_WHITESPACE"," ",51],["T_CONSTANT_ENCAPSED_STRING","'docDom'",51],";",["T_WHITESPACE","\n    ",51],["T_CONST","const",52],["T_WHITESPACE"," ",52],["T_STRING","DOC_XML",52],["T_WHITESPACE","   ",52],"=",["T_WHITESPACE"," ",52],["T_CONSTANT_ENCAPSED_STRING","'docXml'",52],";",["T_WHITESPACE","\n    ",52],["T_CONST","const",53],["T_WHITESPACE"," ",53],["T_STRING","DOC_HTML",53],["T_WHITESPACE","  ",53],"=",["T_WHITESPACE"," ",53],["T_CONSTANT_ENCAPSED_STRING","'docHtml'",53],";",["T_WHITESPACE","\n    ",53],["T_CONST","const",54],["T_WHITESPACE"," ",54],["T_STRING","DOC_XHTML",54],["T_WHITESPACE"," ",54],"=",["T_WHITESPACE"," ",54],["T_CONSTANT_ENCAPSED_STRING","'docXhtml'",54],";",["T_WHITESPACE","\n    ",54],["T_COMMENT","\/**#@-*\/",55],["T_WHITESPACE","\n\n    ",55],["T_DOC_COMMENT","\/**\n     * @var string|DOMDocument\n     *\/",57],["T_WHITESPACE","\n    ",59],["T_PROTECTED","protected",60],["T_WHITESPACE"," ",60],["T_VARIABLE","$_document",60],";",["T_WHITESPACE","\n\n    ",60],["T_DOC_COMMENT","\/**\n     * DOMDocument errors, if any\n     * @var false|array\n     *\/",62],["T_WHITESPACE","\n    ",65],["T_PROTECTED","protected",66],["T_WHITESPACE"," ",66],["T_VARIABLE","$_documentErrors",66],["T_WHITESPACE"," ",66],"=",["T_WHITESPACE"," ",66],["T_STRING","false",66],";",["T_WHITESPACE","\n\n    ",66],["T_DOC_COMMENT","\/**\n     * Document type\n     * @var string\n     *\/",68],["T_WHITESPACE","\n    ",71],["T_PROTECTED","protected",72],["T_WHITESPACE"," ",72],["T_VARIABLE","$_docType",72],";",["T_WHITESPACE","\n\n    ",72],["T_DOC_COMMENT","\/**\n     * Document encoding\n     * @var null|string\n     *\/",74],["T_WHITESPACE","\n    ",77],["T_PROTECTED","protected",78],["T_WHITESPACE"," ",78],["T_VARIABLE","$_encoding",78],";",["T_WHITESPACE","\n\n    ",78],["T_DOC_COMMENT","\/**\n     * XPath namespaces\n     * @var array\n     *\/",80],["T_WHITESPACE","\n    ",83],["T_PROTECTED","protected",84],["T_WHITESPACE"," ",84],["T_VARIABLE","$_xpathNamespaces",84],["T_WHITESPACE"," ",84],"=",["T_WHITESPACE"," ",84],["T_ARRAY","array",84],"(",")",";",["T_WHITESPACE","\n\n    ",84],["T_DOC_COMMENT","\/**\n     * Constructor\n     *\n     * @param null|string|DOMDocument $document\n     * @param null|string $encoding\n     *\/",86],["T_WHITESPACE","\n    ",91],["T_PUBLIC","public",92],["T_WHITESPACE"," ",92],["T_FUNCTION","function",92],["T_WHITESPACE"," ",92],["T_STRING","__construct",92],"(",["T_VARIABLE","$document",92],["T_WHITESPACE"," ",92],"=",["T_WHITESPACE"," ",92],["T_STRING","null",92],",",["T_WHITESPACE"," ",92],["T_VARIABLE","$encoding",92],["T_WHITESPACE"," ",92],"=",["T_WHITESPACE"," ",92],["T_STRING","null",92],")",["T_WHITESPACE","\n    ",92],"{",["T_WHITESPACE","\n        ",93],["T_VARIABLE","$this",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","setEncoding",94],"(",["T_VARIABLE","$encoding",94],")",";",["T_WHITESPACE","\n        ",94],["T_VARIABLE","$this",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","setDocument",95],"(",["T_VARIABLE","$document",95],")",";",["T_WHITESPACE","\n    ",95],"}",["T_WHITESPACE","\n\n    ",96],["T_DOC_COMMENT","\/**\n     * Set document encoding\n     *\n     * @param  string $encoding\n     * @return Zend_Dom_Query\n     *\/",98],["T_WHITESPACE","\n    ",103],["T_PUBLIC","public",104],["T_WHITESPACE"," ",104],["T_FUNCTION","function",104],["T_WHITESPACE"," ",104],["T_STRING","setEncoding",104],"(",["T_VARIABLE","$encoding",104],")",["T_WHITESPACE","\n    ",104],"{",["T_WHITESPACE","\n        ",105],["T_VARIABLE","$this",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","_encoding",106],["T_WHITESPACE"," ",106],"=",["T_WHITESPACE"," ",106],"(",["T_STRING","null",106],["T_WHITESPACE"," ",106],["T_IS_IDENTICAL","===",106],["T_WHITESPACE"," ",106],["T_VARIABLE","$encoding",106],")",["T_WHITESPACE"," ",106],"?",["T_WHITESPACE"," ",106],["T_STRING","null",106],["T_WHITESPACE"," ",106],":",["T_WHITESPACE"," ",106],["T_STRING_CAST","(string)",106],["T_WHITESPACE"," ",106],["T_VARIABLE","$encoding",106],";",["T_WHITESPACE","\n        ",106],["T_RETURN","return",107],["T_WHITESPACE"," ",107],["T_VARIABLE","$this",107],";",["T_WHITESPACE","\n    ",107],"}",["T_WHITESPACE","\n\n    ",108],["T_DOC_COMMENT","\/**\n     * Get document encoding\n     *\n     * @return null|string\n     *\/",110],["T_WHITESPACE","\n    ",114],["T_PUBLIC","public",115],["T_WHITESPACE"," ",115],["T_FUNCTION","function",115],["T_WHITESPACE"," ",115],["T_STRING","getEncoding",115],"(",")",["T_WHITESPACE","\n    ",115],"{",["T_WHITESPACE","\n        ",116],["T_RETURN","return",117],["T_WHITESPACE"," ",117],["T_VARIABLE","$this",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","_encoding",117],";",["T_WHITESPACE","\n    ",117],"}",["T_WHITESPACE","\n\n    ",118],["T_DOC_COMMENT","\/**\n     * Set document to query\n     *\n     * @param  string|DOMDocument $document\n     * @param  null|string $encoding Document encoding\n     * @return Zend_Dom_Query\n     *\/",120],["T_WHITESPACE","\n    ",126],["T_PUBLIC","public",127],["T_WHITESPACE"," ",127],["T_FUNCTION","function",127],["T_WHITESPACE"," ",127],["T_STRING","setDocument",127],"(",["T_VARIABLE","$document",127],",",["T_WHITESPACE"," ",127],["T_VARIABLE","$encoding",127],["T_WHITESPACE"," ",127],"=",["T_WHITESPACE"," ",127],["T_STRING","null",127],")",["T_WHITESPACE","\n    ",127],"{",["T_WHITESPACE","\n        ",128],["T_IF","if",129],["T_WHITESPACE"," ",129],"(",["T_VARIABLE","$document",129],["T_WHITESPACE"," ",129],["T_INSTANCEOF","instanceof",129],["T_WHITESPACE"," ",129],["T_STRING","DOMDocument",129],")",["T_WHITESPACE"," ",129],"{",["T_WHITESPACE","\n            ",129],["T_RETURN","return",130],["T_WHITESPACE"," ",130],["T_VARIABLE","$this",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","setDocumentDom",130],"(",["T_VARIABLE","$document",130],")",";",["T_WHITESPACE","\n        ",130],"}",["T_WHITESPACE","\n        ",131],["T_IF","if",132],["T_WHITESPACE"," ",132],"(",["T_LNUMBER","0",132],["T_WHITESPACE"," ",132],["T_IS_IDENTICAL","===",132],["T_WHITESPACE"," ",132],["T_STRING","strlen",132],"(",["T_VARIABLE","$document",132],")",")",["T_WHITESPACE"," ",132],"{",["T_WHITESPACE","\n            ",132],["T_RETURN","return",133],["T_WHITESPACE"," ",133],["T_VARIABLE","$this",133],";",["T_WHITESPACE","\n        ",133],"}",["T_WHITESPACE","\n        ",134],["T_COMMENT","\/\/ breaking XML declaration to make syntax highlighting work\n",135],["T_WHITESPACE","        ",136],["T_IF","if",136],["T_WHITESPACE"," ",136],"(",["T_CONSTANT_ENCAPSED_STRING","'<'",136],["T_WHITESPACE"," ",136],".",["T_WHITESPACE"," ",136],["T_CONSTANT_ENCAPSED_STRING","'?xml'",136],["T_WHITESPACE"," ",136],["T_IS_EQUAL","==",136],["T_WHITESPACE"," ",136],["T_STRING","substr",136],"(",["T_STRING","trim",136],"(",["T_VARIABLE","$document",136],")",",",["T_WHITESPACE"," ",136],["T_LNUMBER","0",136],",",["T_WHITESPACE"," ",136],["T_LNUMBER","5",136],")",")",["T_WHITESPACE"," ",136],"{",["T_WHITESPACE","\n            ",136],["T_IF","if",137],["T_WHITESPACE"," ",137],"(",["T_STRING","preg_match",137],"(",["T_CONSTANT_ENCAPSED_STRING","'\/<html[^>]*xmlns=\"([^\"]+)\"[^>]*>\/i'",137],",",["T_WHITESPACE"," ",137],["T_VARIABLE","$document",137],",",["T_WHITESPACE"," ",137],["T_VARIABLE","$matches",137],")",")",["T_WHITESPACE"," ",137],"{",["T_WHITESPACE","\n                ",137],["T_VARIABLE","$this",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","_xpathNamespaces",138],"[","]",["T_WHITESPACE"," ",138],"=",["T_WHITESPACE"," ",138],["T_VARIABLE","$matches",138],"[",["T_LNUMBER","1",138],"]",";",["T_WHITESPACE","\n                ",138],["T_RETURN","return",139],["T_WHITESPACE"," ",139],["T_VARIABLE","$this",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","setDocumentXhtml",139],"(",["T_VARIABLE","$document",139],",",["T_WHITESPACE"," ",139],["T_VARIABLE","$encoding",139],")",";",["T_WHITESPACE","\n            ",139],"}",["T_WHITESPACE","\n            ",140],["T_RETURN","return",141],["T_WHITESPACE"," ",141],["T_VARIABLE","$this",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","setDocumentXml",141],"(",["T_VARIABLE","$document",141],",",["T_WHITESPACE"," ",141],["T_VARIABLE","$encoding",141],")",";",["T_WHITESPACE","\n        ",141],"}",["T_WHITESPACE","\n        ",142],["T_IF","if",143],["T_WHITESPACE"," ",143],"(",["T_STRING","strstr",143],"(",["T_VARIABLE","$document",143],",",["T_WHITESPACE"," ",143],["T_CONSTANT_ENCAPSED_STRING","'DTD XHTML'",143],")",")",["T_WHITESPACE"," ",143],"{",["T_WHITESPACE","\n            ",143],["T_RETURN","return",144],["T_WHITESPACE"," ",144],["T_VARIABLE","$this",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","setDocumentXhtml",144],"(",["T_VARIABLE","$document",144],",",["T_WHITESPACE"," ",144],["T_VARIABLE","$encoding",144],")",";",["T_WHITESPACE","\n        ",144],"}",["T_WHITESPACE","\n        ",145],["T_RETURN","return",146],["T_WHITESPACE"," ",146],["T_VARIABLE","$this",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","setDocumentHtml",146],"(",["T_VARIABLE","$document",146],",",["T_WHITESPACE"," ",146],["T_VARIABLE","$encoding",146],")",";",["T_WHITESPACE","\n    ",146],"}",["T_WHITESPACE","\n\n    ",147],["T_DOC_COMMENT","\/**\n     * Set DOMDocument to query\n     *\n     * @param  DOMDocument $document\n     * @return Zend_Dom_Query\n     *\/",149],["T_WHITESPACE","\n    ",154],["T_PUBLIC","public",155],["T_WHITESPACE"," ",155],["T_FUNCTION","function",155],["T_WHITESPACE"," ",155],["T_STRING","setDocumentDom",155],"(",["T_STRING","DOMDocument",155],["T_WHITESPACE"," ",155],["T_VARIABLE","$document",155],")",["T_WHITESPACE","\n    ",155],"{",["T_WHITESPACE","\n        ",156],["T_VARIABLE","$this",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","_document",157],["T_WHITESPACE"," ",157],"=",["T_WHITESPACE"," ",157],["T_VARIABLE","$document",157],";",["T_WHITESPACE","\n        ",157],["T_VARIABLE","$this",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","_docType",158],["T_WHITESPACE","  ",158],"=",["T_WHITESPACE"," ",158],["T_STRING","self",158],["T_DOUBLE_COLON","::",158],["T_STRING","DOC_DOM",158],";",["T_WHITESPACE","\n        ",158],["T_IF","if",159],["T_WHITESPACE"," ",159],"(",["T_STRING","null",159],["T_WHITESPACE"," ",159],["T_IS_NOT_IDENTICAL","!==",159],["T_WHITESPACE"," ",159],["T_VARIABLE","$document",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","encoding",159],")",["T_WHITESPACE"," ",159],"{",["T_WHITESPACE","\n            ",159],["T_VARIABLE","$this",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","setEncoding",160],"(",["T_VARIABLE","$document",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","encoding",160],")",";",["T_WHITESPACE","\n        ",160],"}",["T_WHITESPACE","\n        ",161],["T_RETURN","return",162],["T_WHITESPACE"," ",162],["T_VARIABLE","$this",162],";",["T_WHITESPACE","\n    ",162],"}",["T_WHITESPACE","\n\n    ",163],["T_DOC_COMMENT","\/**\n     * Register HTML document\n     *\n     * @param  string $document\n     * @param  null|string $encoding Document encoding\n     * @return Zend_Dom_Query\n     *\/",165],["T_WHITESPACE","\n    ",171],["T_PUBLIC","public",172],["T_WHITESPACE"," ",172],["T_FUNCTION","function",172],["T_WHITESPACE"," ",172],["T_STRING","setDocumentHtml",172],"(",["T_VARIABLE","$document",172],",",["T_WHITESPACE"," ",172],["T_VARIABLE","$encoding",172],["T_WHITESPACE"," ",172],"=",["T_WHITESPACE"," ",172],["T_STRING","null",172],")",["T_WHITESPACE","\n    ",172],"{",["T_WHITESPACE","\n        ",173],["T_VARIABLE","$this",174],["T_OBJECT_OPERATOR","->",174],["T_STRING","_document",174],["T_WHITESPACE"," ",174],"=",["T_WHITESPACE"," ",174],["T_STRING_CAST","(string)",174],["T_WHITESPACE"," ",174],["T_VARIABLE","$document",174],";",["T_WHITESPACE","\n        ",174],["T_VARIABLE","$this",175],["T_OBJECT_OPERATOR","->",175],["T_STRING","_docType",175],["T_WHITESPACE","  ",175],"=",["T_WHITESPACE"," ",175],["T_STRING","self",175],["T_DOUBLE_COLON","::",175],["T_STRING","DOC_HTML",175],";",["T_WHITESPACE","\n        ",175],["T_IF","if",176],["T_WHITESPACE"," ",176],"(",["T_STRING","null",176],["T_WHITESPACE"," ",176],["T_IS_NOT_IDENTICAL","!==",176],["T_WHITESPACE"," ",176],["T_VARIABLE","$encoding",176],")",["T_WHITESPACE"," ",176],"{",["T_WHITESPACE","\n            ",176],["T_VARIABLE","$this",177],["T_OBJECT_OPERATOR","->",177],["T_STRING","setEncoding",177],"(",["T_VARIABLE","$encoding",177],")",";",["T_WHITESPACE","\n        ",177],"}",["T_WHITESPACE","\n        ",178],["T_RETURN","return",179],["T_WHITESPACE"," ",179],["T_VARIABLE","$this",179],";",["T_WHITESPACE","\n    ",179],"}",["T_WHITESPACE","\n\n    ",180],["T_DOC_COMMENT","\/**\n     * Register XHTML document\n     *\n     * @param  string $document\n     * @param  null|string $encoding Document encoding\n     * @return Zend_Dom_Query\n     *\/",182],["T_WHITESPACE","\n    ",188],["T_PUBLIC","public",189],["T_WHITESPACE"," ",189],["T_FUNCTION","function",189],["T_WHITESPACE"," ",189],["T_STRING","setDocumentXhtml",189],"(",["T_VARIABLE","$document",189],",",["T_WHITESPACE"," ",189],["T_VARIABLE","$encoding",189],["T_WHITESPACE"," ",189],"=",["T_WHITESPACE"," ",189],["T_STRING","null",189],")",["T_WHITESPACE","\n    ",189],"{",["T_WHITESPACE","\n        ",190],["T_VARIABLE","$this",191],["T_OBJECT_OPERATOR","->",191],["T_STRING","_document",191],["T_WHITESPACE"," ",191],"=",["T_WHITESPACE"," ",191],["T_STRING_CAST","(string)",191],["T_WHITESPACE"," ",191],["T_VARIABLE","$document",191],";",["T_WHITESPACE","\n        ",191],["T_VARIABLE","$this",192],["T_OBJECT_OPERATOR","->",192],["T_STRING","_docType",192],["T_WHITESPACE","  ",192],"=",["T_WHITESPACE"," ",192],["T_STRING","self",192],["T_DOUBLE_COLON","::",192],["T_STRING","DOC_XHTML",192],";",["T_WHITESPACE","\n        ",192],["T_IF","if",193],["T_WHITESPACE"," ",193],"(",["T_STRING","null",193],["T_WHITESPACE"," ",193],["T_IS_NOT_IDENTICAL","!==",193],["T_WHITESPACE"," ",193],["T_VARIABLE","$encoding",193],")",["T_WHITESPACE"," ",193],"{",["T_WHITESPACE","\n            ",193],["T_VARIABLE","$this",194],["T_OBJECT_OPERATOR","->",194],["T_STRING","setEncoding",194],"(",["T_VARIABLE","$encoding",194],")",";",["T_WHITESPACE","\n        ",194],"}",["T_WHITESPACE","\n        ",195],["T_RETURN","return",196],["T_WHITESPACE"," ",196],["T_VARIABLE","$this",196],";",["T_WHITESPACE","\n    ",196],"}",["T_WHITESPACE","\n\n    ",197],["T_DOC_COMMENT","\/**\n     * Register XML document\n     *\n     * @param  string $document\n     * @param  null|string $encoding Document encoding\n     * @return Zend_Dom_Query\n     *\/",199],["T_WHITESPACE","\n    ",205],["T_PUBLIC","public",206],["T_WHITESPACE"," ",206],["T_FUNCTION","function",206],["T_WHITESPACE"," ",206],["T_STRING","setDocumentXml",206],"(",["T_VARIABLE","$document",206],",",["T_WHITESPACE"," ",206],["T_VARIABLE","$encoding",206],["T_WHITESPACE"," ",206],"=",["T_WHITESPACE"," ",206],["T_STRING","null",206],")",["T_WHITESPACE","\n    ",206],"{",["T_WHITESPACE","\n        ",207],["T_VARIABLE","$this",208],["T_OBJECT_OPERATOR","->",208],["T_STRING","_document",208],["T_WHITESPACE"," ",208],"=",["T_WHITESPACE"," ",208],["T_STRING_CAST","(string)",208],["T_WHITESPACE"," ",208],["T_VARIABLE","$document",208],";",["T_WHITESPACE","\n        ",208],["T_VARIABLE","$this",209],["T_OBJECT_OPERATOR","->",209],["T_STRING","_docType",209],["T_WHITESPACE","  ",209],"=",["T_WHITESPACE"," ",209],["T_STRING","self",209],["T_DOUBLE_COLON","::",209],["T_STRING","DOC_XML",209],";",["T_WHITESPACE","\n        ",209],["T_IF","if",210],["T_WHITESPACE"," ",210],"(",["T_STRING","null",210],["T_WHITESPACE"," ",210],["T_IS_NOT_IDENTICAL","!==",210],["T_WHITESPACE"," ",210],["T_VARIABLE","$encoding",210],")",["T_WHITESPACE"," ",210],"{",["T_WHITESPACE","\n            ",210],["T_VARIABLE","$this",211],["T_OBJECT_OPERATOR","->",211],["T_STRING","setEncoding",211],"(",["T_VARIABLE","$encoding",211],")",";",["T_WHITESPACE","\n        ",211],"}",["T_WHITESPACE","\n        ",212],["T_RETURN","return",213],["T_WHITESPACE"," ",213],["T_VARIABLE","$this",213],";",["T_WHITESPACE","\n    ",213],"}",["T_WHITESPACE","\n\n    ",214],["T_DOC_COMMENT","\/**\n     * Retrieve current document\n     *\n     * @return string|DOMDocument\n     *\/",216],["T_WHITESPACE","\n    ",220],["T_PUBLIC","public",221],["T_WHITESPACE"," ",221],["T_FUNCTION","function",221],["T_WHITESPACE"," ",221],["T_STRING","getDocument",221],"(",")",["T_WHITESPACE","\n    ",221],"{",["T_WHITESPACE","\n        ",222],["T_RETURN","return",223],["T_WHITESPACE"," ",223],["T_VARIABLE","$this",223],["T_OBJECT_OPERATOR","->",223],["T_STRING","_document",223],";",["T_WHITESPACE","\n    ",223],"}",["T_WHITESPACE","\n\n    ",224],["T_DOC_COMMENT","\/**\n     * Get document type\n     *\n     * @return string\n     *\/",226],["T_WHITESPACE","\n    ",230],["T_PUBLIC","public",231],["T_WHITESPACE"," ",231],["T_FUNCTION","function",231],["T_WHITESPACE"," ",231],["T_STRING","getDocumentType",231],"(",")",["T_WHITESPACE","\n    ",231],"{",["T_WHITESPACE","\n        ",232],["T_RETURN","return",233],["T_WHITESPACE"," ",233],["T_VARIABLE","$this",233],["T_OBJECT_OPERATOR","->",233],["T_STRING","_docType",233],";",["T_WHITESPACE","\n    ",233],"}",["T_WHITESPACE","\n\n    ",234],["T_DOC_COMMENT","\/**\n     * Get any DOMDocument errors found\n     *\n     * @return false|array\n     *\/",236],["T_WHITESPACE","\n    ",240],["T_PUBLIC","public",241],["T_WHITESPACE"," ",241],["T_FUNCTION","function",241],["T_WHITESPACE"," ",241],["T_STRING","getDocumentErrors",241],"(",")",["T_WHITESPACE","\n    ",241],"{",["T_WHITESPACE","\n        ",242],["T_RETURN","return",243],["T_WHITESPACE"," ",243],["T_VARIABLE","$this",243],["T_OBJECT_OPERATOR","->",243],["T_STRING","_documentErrors",243],";",["T_WHITESPACE","\n    ",243],"}",["T_WHITESPACE","\n\n    ",244],["T_DOC_COMMENT","\/**\n     * Perform a CSS selector query\n     *\n     * @param  string $query\n     * @return Zend_Dom_Query_Result\n     *\/",246],["T_WHITESPACE","\n    ",251],["T_PUBLIC","public",252],["T_WHITESPACE"," ",252],["T_FUNCTION","function",252],["T_WHITESPACE"," ",252],["T_STRING","query",252],"(",["T_VARIABLE","$query",252],")",["T_WHITESPACE","\n    ",252],"{",["T_WHITESPACE","\n        ",253],["T_VARIABLE","$xpathQuery",254],["T_WHITESPACE"," ",254],"=",["T_WHITESPACE"," ",254],["T_STRING","Zend_Dom_Query_Css2Xpath",254],["T_DOUBLE_COLON","::",254],["T_STRING","transform",254],"(",["T_VARIABLE","$query",254],")",";",["T_WHITESPACE","\n        ",254],["T_RETURN","return",255],["T_WHITESPACE"," ",255],["T_VARIABLE","$this",255],["T_OBJECT_OPERATOR","->",255],["T_STRING","queryXpath",255],"(",["T_VARIABLE","$xpathQuery",255],",",["T_WHITESPACE"," ",255],["T_VARIABLE","$query",255],")",";",["T_WHITESPACE","\n    ",255],"}",["T_WHITESPACE","\n\n    ",256],["T_DOC_COMMENT","\/**\n     * Perform an XPath query\n     *\n     * @param  string|array $xpathQuery\n     * @param  string       $query CSS selector query\n     * @throws Zend_Dom_Exception\n     * @return Zend_Dom_Query_Result\n     *\/",258],["T_WHITESPACE","\n    ",265],["T_PUBLIC","public",266],["T_WHITESPACE"," ",266],["T_FUNCTION","function",266],["T_WHITESPACE"," ",266],["T_STRING","queryXpath",266],"(",["T_VARIABLE","$xpathQuery",266],",",["T_WHITESPACE"," ",266],["T_VARIABLE","$query",266],["T_WHITESPACE"," ",266],"=",["T_WHITESPACE"," ",266],["T_STRING","null",266],")",["T_WHITESPACE","\n    ",266],"{",["T_WHITESPACE","\n        ",267],["T_IF","if",268],["T_WHITESPACE"," ",268],"(",["T_STRING","null",268],["T_WHITESPACE"," ",268],["T_IS_IDENTICAL","===",268],["T_WHITESPACE"," ",268],"(",["T_VARIABLE","$document",268],["T_WHITESPACE"," ",268],"=",["T_WHITESPACE"," ",268],["T_VARIABLE","$this",268],["T_OBJECT_OPERATOR","->",268],["T_STRING","getDocument",268],"(",")",")",")",["T_WHITESPACE"," ",268],"{",["T_WHITESPACE","\n            ",268],["T_COMMENT","#require_once 'Zend\/Dom\/Exception.php';\n",269],["T_WHITESPACE","            ",270],["T_THROW","throw",270],["T_WHITESPACE"," ",270],["T_NEW","new",270],["T_WHITESPACE"," ",270],["T_STRING","Zend_Dom_Exception",270],"(",["T_CONSTANT_ENCAPSED_STRING","'Cannot query; no document registered'",270],")",";",["T_WHITESPACE","\n        ",270],"}",["T_WHITESPACE","\n\n        ",271],["T_VARIABLE","$encoding",273],["T_WHITESPACE"," ",273],"=",["T_WHITESPACE"," ",273],["T_VARIABLE","$this",273],["T_OBJECT_OPERATOR","->",273],["T_STRING","getEncoding",273],"(",")",";",["T_WHITESPACE","\n        ",273],["T_STRING","libxml_use_internal_errors",274],"(",["T_STRING","true",274],")",";",["T_WHITESPACE","\n        ",274],["T_IF","if",275],["T_WHITESPACE"," ",275],"(",["T_STRING","null",275],["T_WHITESPACE"," ",275],["T_IS_IDENTICAL","===",275],["T_WHITESPACE"," ",275],["T_VARIABLE","$encoding",275],")",["T_WHITESPACE"," ",275],"{",["T_WHITESPACE","\n            ",275],["T_VARIABLE","$domDoc",276],["T_WHITESPACE"," ",276],"=",["T_WHITESPACE"," ",276],["T_NEW","new",276],["T_WHITESPACE"," ",276],["T_STRING","DOMDocument",276],"(",["T_CONSTANT_ENCAPSED_STRING","'1.0'",276],")",";",["T_WHITESPACE","\n        ",276],"}",["T_WHITESPACE"," ",277],["T_ELSE","else",277],["T_WHITESPACE"," ",277],"{",["T_WHITESPACE","\n            ",277],["T_VARIABLE","$domDoc",278],["T_WHITESPACE"," ",278],"=",["T_WHITESPACE"," ",278],["T_NEW","new",278],["T_WHITESPACE"," ",278],["T_STRING","DOMDocument",278],"(",["T_CONSTANT_ENCAPSED_STRING","'1.0'",278],",",["T_WHITESPACE"," ",278],["T_VARIABLE","$encoding",278],")",";",["T_WHITESPACE","\n        ",278],"}",["T_WHITESPACE","\n        ",279],["T_VARIABLE","$type",280],["T_WHITESPACE","   ",280],"=",["T_WHITESPACE"," ",280],["T_VARIABLE","$this",280],["T_OBJECT_OPERATOR","->",280],["T_STRING","getDocumentType",280],"(",")",";",["T_WHITESPACE","\n        ",280],["T_SWITCH","switch",281],["T_WHITESPACE"," ",281],"(",["T_VARIABLE","$type",281],")",["T_WHITESPACE"," ",281],"{",["T_WHITESPACE","\n            ",281],["T_CASE","case",282],["T_WHITESPACE"," ",282],["T_STRING","self",282],["T_DOUBLE_COLON","::",282],["T_STRING","DOC_DOM",282],":",["T_WHITESPACE","\n                ",282],["T_VARIABLE","$domDoc",283],["T_WHITESPACE"," ",283],"=",["T_WHITESPACE"," ",283],["T_VARIABLE","$this",283],["T_OBJECT_OPERATOR","->",283],["T_STRING","_document",283],";",["T_WHITESPACE","\n                ",283],["T_VARIABLE","$success",284],["T_WHITESPACE"," ",284],"=",["T_WHITESPACE"," ",284],["T_STRING","true",284],";",["T_WHITESPACE","\n                ",284],["T_BREAK","break",285],";",["T_WHITESPACE","\n            ",285],["T_CASE","case",286],["T_WHITESPACE"," ",286],["T_STRING","self",286],["T_DOUBLE_COLON","::",286],["T_STRING","DOC_XML",286],":",["T_WHITESPACE","\n                ",286],["T_TRY","try",287],["T_WHITESPACE"," ",287],"{",["T_WHITESPACE","\n                    ",287],["T_VARIABLE","$domDoc",288],["T_WHITESPACE"," ",288],"=",["T_WHITESPACE"," ",288],["T_STRING","Zend_Xml_Security",288],["T_DOUBLE_COLON","::",288],["T_STRING","scan",288],"(",["T_VARIABLE","$document",288],",",["T_WHITESPACE"," ",288],["T_VARIABLE","$domDoc",288],")",";",["T_WHITESPACE","\n                    ",288],["T_VARIABLE","$success",289],["T_WHITESPACE"," ",289],"=",["T_WHITESPACE"," ",289],"(",["T_VARIABLE","$domDoc",289],["T_WHITESPACE"," ",289],["T_IS_NOT_IDENTICAL","!==",289],["T_WHITESPACE"," ",289],["T_STRING","false",289],")",";",["T_WHITESPACE","\n                ",289],"}",["T_WHITESPACE"," ",290],["T_CATCH","catch",290],["T_WHITESPACE"," ",290],"(",["T_STRING","Zend_Xml_Exception",290],["T_WHITESPACE"," ",290],["T_VARIABLE","$e",290],")",["T_WHITESPACE"," ",290],"{",["T_WHITESPACE","\n                    ",290],["T_COMMENT","#require_once 'Zend\/Dom\/Exception.php';\n",291],["T_WHITESPACE","                    ",292],["T_THROW","throw",292],["T_WHITESPACE"," ",292],["T_NEW","new",292],["T_WHITESPACE"," ",292],["T_STRING","Zend_Dom_Exception",292],"(",["T_WHITESPACE","\n                        ",292],["T_VARIABLE","$e",293],["T_OBJECT_OPERATOR","->",293],["T_STRING","getMessage",293],"(",")",["T_WHITESPACE","\n                    ",293],")",";",["T_WHITESPACE","\n                ",294],"}",["T_WHITESPACE","\n                ",295],["T_BREAK","break",296],";",["T_WHITESPACE","\n            ",296],["T_CASE","case",297],["T_WHITESPACE"," ",297],["T_STRING","self",297],["T_DOUBLE_COLON","::",297],["T_STRING","DOC_HTML",297],":",["T_WHITESPACE","\n            ",297],["T_CASE","case",298],["T_WHITESPACE"," ",298],["T_STRING","self",298],["T_DOUBLE_COLON","::",298],["T_STRING","DOC_XHTML",298],":",["T_WHITESPACE","\n            ",298],["T_DEFAULT","default",299],":",["T_WHITESPACE","\n                ",299],["T_VARIABLE","$success",300],["T_WHITESPACE"," ",300],"=",["T_WHITESPACE"," ",300],["T_VARIABLE","$domDoc",300],["T_OBJECT_OPERATOR","->",300],["T_STRING","loadHTML",300],"(",["T_VARIABLE","$document",300],")",";",["T_WHITESPACE","\n                ",300],["T_BREAK","break",301],";",["T_WHITESPACE","\n        ",301],"}",["T_WHITESPACE","\n        ",302],["T_VARIABLE","$errors",303],["T_WHITESPACE"," ",303],"=",["T_WHITESPACE"," ",303],["T_STRING","libxml_get_errors",303],"(",")",";",["T_WHITESPACE","\n        ",303],["T_IF","if",304],["T_WHITESPACE"," ",304],"(","!",["T_EMPTY","empty",304],"(",["T_VARIABLE","$errors",304],")",")",["T_WHITESPACE"," ",304],"{",["T_WHITESPACE","\n            ",304],["T_VARIABLE","$this",305],["T_OBJECT_OPERATOR","->",305],["T_STRING","_documentErrors",305],["T_WHITESPACE"," ",305],"=",["T_WHITESPACE"," ",305],["T_VARIABLE","$errors",305],";",["T_WHITESPACE","\n            ",305],["T_STRING","libxml_clear_errors",306],"(",")",";",["T_WHITESPACE","\n        ",306],"}",["T_WHITESPACE","\n        ",307],["T_STRING","libxml_use_internal_errors",308],"(",["T_STRING","false",308],")",";",["T_WHITESPACE","\n\n        ",308],["T_IF","if",310],["T_WHITESPACE"," ",310],"(","!",["T_VARIABLE","$success",310],")",["T_WHITESPACE"," ",310],"{",["T_WHITESPACE","\n            ",310],["T_COMMENT","#require_once 'Zend\/Dom\/Exception.php';\n",311],["T_WHITESPACE","            ",312],["T_THROW","throw",312],["T_WHITESPACE"," ",312],["T_NEW","new",312],["T_WHITESPACE"," ",312],["T_STRING","Zend_Dom_Exception",312],"(",["T_STRING","sprintf",312],"(",["T_CONSTANT_ENCAPSED_STRING","'Error parsing document (type == %s)'",312],",",["T_WHITESPACE"," ",312],["T_VARIABLE","$type",312],")",")",";",["T_WHITESPACE","\n        ",312],"}",["T_WHITESPACE","\n\n        ",313],["T_VARIABLE","$nodeList",315],["T_WHITESPACE"," ",315],"=",["T_WHITESPACE"," ",315],["T_VARIABLE","$this",315],["T_OBJECT_OPERATOR","->",315],["T_STRING","_getNodeList",315],"(",["T_VARIABLE","$domDoc",315],",",["T_WHITESPACE"," ",315],["T_VARIABLE","$xpathQuery",315],")",";",["T_WHITESPACE","\n        ",315],["T_RETURN","return",316],["T_WHITESPACE"," ",316],["T_NEW","new",316],["T_WHITESPACE"," ",316],["T_STRING","Zend_Dom_Query_Result",316],"(",["T_VARIABLE","$query",316],",",["T_WHITESPACE"," ",316],["T_VARIABLE","$xpathQuery",316],",",["T_WHITESPACE"," ",316],["T_VARIABLE","$domDoc",316],",",["T_WHITESPACE"," ",316],["T_VARIABLE","$nodeList",316],")",";",["T_WHITESPACE","\n    ",316],"}",["T_WHITESPACE","\n\n    ",317],["T_DOC_COMMENT","\/**\n     * Register XPath namespaces\n     *\n     * @param array $xpathNamespaces\n     *\/",319],["T_WHITESPACE","\n    ",323],["T_PUBLIC","public",324],["T_WHITESPACE"," ",324],["T_FUNCTION","function",324],["T_WHITESPACE"," ",324],["T_STRING","registerXpathNamespaces",324],"(",["T_VARIABLE","$xpathNamespaces",324],")",["T_WHITESPACE","\n    ",324],"{",["T_WHITESPACE","\n        ",325],["T_VARIABLE","$this",326],["T_OBJECT_OPERATOR","->",326],["T_STRING","_xpathNamespaces",326],["T_WHITESPACE"," ",326],"=",["T_WHITESPACE"," ",326],["T_VARIABLE","$xpathNamespaces",326],";",["T_WHITESPACE","\n    ",326],"}",["T_WHITESPACE","\n\n    ",327],["T_DOC_COMMENT","\/**\n     * Prepare node list\n     *\n     * @param  DOMDocument $document\n     * @param  string|array $xpathQuery\n     * @return array\n     *\/",329],["T_WHITESPACE","\n    ",335],["T_PROTECTED","protected",336],["T_WHITESPACE"," ",336],["T_FUNCTION","function",336],["T_WHITESPACE"," ",336],["T_STRING","_getNodeList",336],"(",["T_VARIABLE","$document",336],",",["T_WHITESPACE"," ",336],["T_VARIABLE","$xpathQuery",336],")",["T_WHITESPACE","\n    ",336],"{",["T_WHITESPACE","\n        ",337],["T_VARIABLE","$xpath",338],["T_WHITESPACE","      ",338],"=",["T_WHITESPACE"," ",338],["T_NEW","new",338],["T_WHITESPACE"," ",338],["T_STRING","DOMXPath",338],"(",["T_VARIABLE","$document",338],")",";",["T_WHITESPACE","\n        ",338],["T_FOREACH","foreach",339],["T_WHITESPACE"," ",339],"(",["T_VARIABLE","$this",339],["T_OBJECT_OPERATOR","->",339],["T_STRING","_xpathNamespaces",339],["T_WHITESPACE"," ",339],["T_AS","as",339],["T_WHITESPACE"," ",339],["T_VARIABLE","$prefix",339],["T_WHITESPACE"," ",339],["T_DOUBLE_ARROW","=>",339],["T_WHITESPACE"," ",339],["T_VARIABLE","$namespaceUri",339],")",["T_WHITESPACE"," ",339],"{",["T_WHITESPACE","\n            ",339],["T_VARIABLE","$xpath",340],["T_OBJECT_OPERATOR","->",340],["T_STRING","registerNamespace",340],"(",["T_VARIABLE","$prefix",340],",",["T_WHITESPACE"," ",340],["T_VARIABLE","$namespaceUri",340],")",";",["T_WHITESPACE","\n        ",340],"}",["T_WHITESPACE","\n        ",341],["T_VARIABLE","$xpathQuery",342],["T_WHITESPACE"," ",342],"=",["T_WHITESPACE"," ",342],["T_STRING_CAST","(string)",342],["T_WHITESPACE"," ",342],["T_VARIABLE","$xpathQuery",342],";",["T_WHITESPACE","\n        ",342],["T_IF","if",343],["T_WHITESPACE"," ",343],"(",["T_STRING","preg_match_all",343],"(",["T_CONSTANT_ENCAPSED_STRING","'|\\[contains\\((@[a-z0-9_-]+),\\s?\\' |i'",343],",",["T_WHITESPACE"," ",343],["T_VARIABLE","$xpathQuery",343],",",["T_WHITESPACE"," ",343],["T_VARIABLE","$matches",343],")",")",["T_WHITESPACE"," ",343],"{",["T_WHITESPACE","\n            ",343],["T_FOREACH","foreach",344],["T_WHITESPACE"," ",344],"(",["T_VARIABLE","$matches",344],"[",["T_LNUMBER","1",344],"]",["T_WHITESPACE"," ",344],["T_AS","as",344],["T_WHITESPACE"," ",344],["T_VARIABLE","$attribute",344],")",["T_WHITESPACE"," ",344],"{",["T_WHITESPACE","\n                ",344],["T_VARIABLE","$queryString",345],["T_WHITESPACE"," ",345],"=",["T_WHITESPACE"," ",345],["T_CONSTANT_ENCAPSED_STRING","'\/\/*['",345],["T_WHITESPACE"," ",345],".",["T_WHITESPACE"," ",345],["T_VARIABLE","$attribute",345],["T_WHITESPACE"," ",345],".",["T_WHITESPACE"," ",345],["T_CONSTANT_ENCAPSED_STRING","']'",345],";",["T_WHITESPACE","\n                ",345],["T_VARIABLE","$attributeName",346],["T_WHITESPACE"," ",346],"=",["T_WHITESPACE"," ",346],["T_STRING","substr",346],"(",["T_VARIABLE","$attribute",346],",",["T_WHITESPACE"," ",346],["T_LNUMBER","1",346],")",";",["T_WHITESPACE","\n                ",346],["T_VARIABLE","$nodes",347],["T_WHITESPACE"," ",347],"=",["T_WHITESPACE"," ",347],["T_VARIABLE","$xpath",347],["T_OBJECT_OPERATOR","->",347],["T_STRING","query",347],"(",["T_VARIABLE","$queryString",347],")",";",["T_WHITESPACE","\n                ",347],["T_FOREACH","foreach",348],["T_WHITESPACE"," ",348],"(",["T_VARIABLE","$nodes",348],["T_WHITESPACE"," ",348],["T_AS","as",348],["T_WHITESPACE"," ",348],["T_VARIABLE","$node",348],")",["T_WHITESPACE"," ",348],"{",["T_WHITESPACE","\n                    ",348],["T_VARIABLE","$attr",349],["T_WHITESPACE"," ",349],"=",["T_WHITESPACE"," ",349],["T_VARIABLE","$node",349],["T_OBJECT_OPERATOR","->",349],["T_STRING","attributes",349],["T_OBJECT_OPERATOR","->",349],["T_STRING","getNamedItem",349],"(",["T_VARIABLE","$attributeName",349],")",";",["T_WHITESPACE","\n                    ",349],["T_VARIABLE","$attr",350],["T_OBJECT_OPERATOR","->",350],["T_STRING","value",350],["T_WHITESPACE"," ",350],"=",["T_WHITESPACE"," ",350],["T_CONSTANT_ENCAPSED_STRING","' '",350],["T_WHITESPACE"," ",350],".",["T_WHITESPACE"," ",350],["T_VARIABLE","$attr",350],["T_OBJECT_OPERATOR","->",350],["T_STRING","value",350],["T_WHITESPACE"," ",350],".",["T_WHITESPACE"," ",350],["T_CONSTANT_ENCAPSED_STRING","' '",350],";",["T_WHITESPACE","\n                ",350],"}",["T_WHITESPACE","\n            ",351],"}",["T_WHITESPACE","\n        ",352],"}",["T_WHITESPACE","\n        ",353],["T_RETURN","return",354],["T_WHITESPACE"," ",354],["T_VARIABLE","$xpath",354],["T_OBJECT_OPERATOR","->",354],["T_STRING","query",354],"(",["T_VARIABLE","$xpathQuery",354],")",";",["T_WHITESPACE","\n    ",354],"}",["T_WHITESPACE","\n",355],"}",["T_WHITESPACE","\n",356]]