[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Zend Framework\n *\n * LICENSE\n *\n * This source file is subject to the new BSD license that is bundled\n * with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/framework.zend.com\/license\/new-bsd\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@zend.com so we can send you a copy immediately.\n *\n * @category   Zend\n * @package    Zend_Pdf\n * @copyright  Copyright (c) 2005-2015 Zend Technologies USA Inc. (http:\/\/www.zend.com)\n * @license    http:\/\/framework.zend.com\/license\/new-bsd     New BSD License\n * @version    $Id$\n *\/",2],["T_WHITESPACE","\n\n\n",20],["T_DOC_COMMENT","\/** Internally used classes *\/",23],["T_WHITESPACE","\n",23],["T_COMMENT","#require_once 'Zend\/Pdf\/Element\/Array.php';\n",24],["T_COMMENT","#require_once 'Zend\/Pdf\/Element\/Dictionary.php';\n",25],["T_COMMENT","#require_once 'Zend\/Pdf\/Element\/Name.php';\n",26],["T_COMMENT","#require_once 'Zend\/Pdf\/Element\/Numeric.php';\n",27],["T_COMMENT","#require_once 'Zend\/Pdf\/Element\/String\/Binary.php';\n",28],["T_WHITESPACE","\n\n",29],["T_DOC_COMMENT","\/** Zend_Pdf_Resource_Image *\/",31],["T_WHITESPACE","\n",31],["T_COMMENT","#require_once 'Zend\/Pdf\/Resource\/Image.php';\n",32],["T_WHITESPACE","\n",33],["T_DOC_COMMENT","\/**\n * PNG image\n *\n * @package    Zend_Pdf\n * @copyright  Copyright (c) 2005-2015 Zend Technologies USA Inc. (http:\/\/www.zend.com)\n * @license    http:\/\/framework.zend.com\/license\/new-bsd     New BSD License\n *\/",34],["T_WHITESPACE","\n",40],["T_CLASS","class",41],["T_WHITESPACE"," ",41],["T_STRING","Zend_Pdf_Resource_Image_Png",41],["T_WHITESPACE"," ",41],["T_EXTENDS","extends",41],["T_WHITESPACE"," ",41],["T_STRING","Zend_Pdf_Resource_Image",41],["T_WHITESPACE","\n",41],"{",["T_WHITESPACE","\n    ",42],["T_CONST","const",43],["T_WHITESPACE"," ",43],["T_STRING","PNG_COMPRESSION_DEFAULT_STRATEGY",43],["T_WHITESPACE"," ",43],"=",["T_WHITESPACE"," ",43],["T_LNUMBER","0",43],";",["T_WHITESPACE","\n    ",43],["T_CONST","const",44],["T_WHITESPACE"," ",44],["T_STRING","PNG_COMPRESSION_FILTERED",44],["T_WHITESPACE"," ",44],"=",["T_WHITESPACE"," ",44],["T_LNUMBER","1",44],";",["T_WHITESPACE","\n    ",44],["T_CONST","const",45],["T_WHITESPACE"," ",45],["T_STRING","PNG_COMPRESSION_HUFFMAN_ONLY",45],["T_WHITESPACE"," ",45],"=",["T_WHITESPACE"," ",45],["T_LNUMBER","2",45],";",["T_WHITESPACE","\n    ",45],["T_CONST","const",46],["T_WHITESPACE"," ",46],["T_STRING","PNG_COMPRESSION_RLE",46],["T_WHITESPACE"," ",46],"=",["T_WHITESPACE"," ",46],["T_LNUMBER","3",46],";",["T_WHITESPACE","\n\n    ",46],["T_CONST","const",48],["T_WHITESPACE"," ",48],["T_STRING","PNG_FILTER_NONE",48],["T_WHITESPACE"," ",48],"=",["T_WHITESPACE"," ",48],["T_LNUMBER","0",48],";",["T_WHITESPACE","\n    ",48],["T_CONST","const",49],["T_WHITESPACE"," ",49],["T_STRING","PNG_FILTER_SUB",49],["T_WHITESPACE"," ",49],"=",["T_WHITESPACE"," ",49],["T_LNUMBER","1",49],";",["T_WHITESPACE","\n    ",49],["T_CONST","const",50],["T_WHITESPACE"," ",50],["T_STRING","PNG_FILTER_UP",50],["T_WHITESPACE"," ",50],"=",["T_WHITESPACE"," ",50],["T_LNUMBER","2",50],";",["T_WHITESPACE","\n    ",50],["T_CONST","const",51],["T_WHITESPACE"," ",51],["T_STRING","PNG_FILTER_AVERAGE",51],["T_WHITESPACE"," ",51],"=",["T_WHITESPACE"," ",51],["T_LNUMBER","3",51],";",["T_WHITESPACE","\n    ",51],["T_CONST","const",52],["T_WHITESPACE"," ",52],["T_STRING","PNG_FILTER_PAETH",52],["T_WHITESPACE"," ",52],"=",["T_WHITESPACE"," ",52],["T_LNUMBER","4",52],";",["T_WHITESPACE","\n\n    ",52],["T_CONST","const",54],["T_WHITESPACE"," ",54],["T_STRING","PNG_INTERLACING_DISABLED",54],["T_WHITESPACE"," ",54],"=",["T_WHITESPACE"," ",54],["T_LNUMBER","0",54],";",["T_WHITESPACE","\n    ",54],["T_CONST","const",55],["T_WHITESPACE"," ",55],["T_STRING","PNG_INTERLACING_ENABLED",55],["T_WHITESPACE"," ",55],"=",["T_WHITESPACE"," ",55],["T_LNUMBER","1",55],";",["T_WHITESPACE","\n\n    ",55],["T_CONST","const",57],["T_WHITESPACE"," ",57],["T_STRING","PNG_CHANNEL_GRAY",57],["T_WHITESPACE"," ",57],"=",["T_WHITESPACE"," ",57],["T_LNUMBER","0",57],";",["T_WHITESPACE","\n    ",57],["T_CONST","const",58],["T_WHITESPACE"," ",58],["T_STRING","PNG_CHANNEL_RGB",58],["T_WHITESPACE"," ",58],"=",["T_WHITESPACE"," ",58],["T_LNUMBER","2",58],";",["T_WHITESPACE","\n    ",58],["T_CONST","const",59],["T_WHITESPACE"," ",59],["T_STRING","PNG_CHANNEL_INDEXED",59],["T_WHITESPACE"," ",59],"=",["T_WHITESPACE"," ",59],["T_LNUMBER","3",59],";",["T_WHITESPACE","\n    ",59],["T_CONST","const",60],["T_WHITESPACE"," ",60],["T_STRING","PNG_CHANNEL_GRAY_ALPHA",60],["T_WHITESPACE"," ",60],"=",["T_WHITESPACE"," ",60],["T_LNUMBER","4",60],";",["T_WHITESPACE","\n    ",60],["T_CONST","const",61],["T_WHITESPACE"," ",61],["T_STRING","PNG_CHANNEL_RGB_ALPHA",61],["T_WHITESPACE"," ",61],"=",["T_WHITESPACE"," ",61],["T_LNUMBER","6",61],";",["T_WHITESPACE","\n\n    ",61],["T_PROTECTED","protected",63],["T_WHITESPACE"," ",63],["T_VARIABLE","$_width",63],";",["T_WHITESPACE","\n    ",63],["T_PROTECTED","protected",64],["T_WHITESPACE"," ",64],["T_VARIABLE","$_height",64],";",["T_WHITESPACE","\n    ",64],["T_PROTECTED","protected",65],["T_WHITESPACE"," ",65],["T_VARIABLE","$_imageProperties",65],";",["T_WHITESPACE","\n\n    ",65],["T_DOC_COMMENT","\/**\n     * Object constructor\n     *\n     * @param string $imageFileName\n     * @throws Zend_Pdf_Exception\n     * @todo Add compression conversions to support compression strategys other than PNG_COMPRESSION_DEFAULT_STRATEGY.\n     * @todo Add pre-compression filtering.\n     * @todo Add interlaced image handling.\n     * @todo Add support for 16-bit images. Requires PDF version bump to 1.5 at least.\n     * @todo Add processing for all PNG chunks defined in the spec. gAMA etc.\n     * @todo Fix tRNS chunk support for Indexed Images to a SMask.\n     *\/",67],["T_WHITESPACE","\n    ",78],["T_PUBLIC","public",79],["T_WHITESPACE"," ",79],["T_FUNCTION","function",79],["T_WHITESPACE"," ",79],["T_STRING","__construct",79],"(",["T_VARIABLE","$imageFileName",79],")",["T_WHITESPACE","\n    ",79],"{",["T_WHITESPACE","\n        ",80],["T_IF","if",81],["T_WHITESPACE"," ",81],"(","(",["T_VARIABLE","$imageFile",81],["T_WHITESPACE"," ",81],"=",["T_WHITESPACE"," ",81],"@",["T_STRING","fopen",81],"(",["T_VARIABLE","$imageFileName",81],",",["T_WHITESPACE"," ",81],["T_CONSTANT_ENCAPSED_STRING","'rb'",81],")",")",["T_WHITESPACE"," ",81],["T_IS_IDENTICAL","===",81],["T_WHITESPACE"," ",81],["T_STRING","false",81],["T_WHITESPACE"," ",81],")",["T_WHITESPACE"," ",81],"{",["T_WHITESPACE","\n            ",81],["T_COMMENT","#require_once 'Zend\/Pdf\/Exception.php';\n",82],["T_WHITESPACE","            ",83],["T_THROW","throw",83],["T_WHITESPACE"," ",83],["T_NEW","new",83],["T_WHITESPACE"," ",83],["T_STRING","Zend_Pdf_Exception",83],"(",["T_WHITESPACE"," ",83],"\"",["T_ENCAPSED_AND_WHITESPACE","Can not open '",83],["T_VARIABLE","$imageFileName",83],["T_ENCAPSED_AND_WHITESPACE","' file for reading.",83],"\"",["T_WHITESPACE"," ",83],")",";",["T_WHITESPACE","\n        ",83],"}",["T_WHITESPACE","\n\n        ",84],["T_STRING","parent",86],["T_DOUBLE_COLON","::",86],["T_STRING","__construct",86],"(",")",";",["T_WHITESPACE","\n\n        ",86],["T_COMMENT","\/\/Check if the file is a PNG\n",88],["T_WHITESPACE","        ",89],["T_STRING","fseek",89],"(",["T_VARIABLE","$imageFile",89],",",["T_WHITESPACE"," ",89],["T_LNUMBER","1",89],",",["T_WHITESPACE"," ",89],["T_STRING","SEEK_CUR",89],")",";",["T_WHITESPACE"," ",89],["T_COMMENT","\/\/First signature byte (%)\n",89],["T_WHITESPACE","        ",90],["T_IF","if",90],["T_WHITESPACE"," ",90],"(",["T_CONSTANT_ENCAPSED_STRING","'PNG'",90],["T_WHITESPACE"," ",90],["T_IS_NOT_EQUAL","!=",90],["T_WHITESPACE"," ",90],["T_STRING","fread",90],"(",["T_VARIABLE","$imageFile",90],",",["T_WHITESPACE"," ",90],["T_LNUMBER","3",90],")",")",["T_WHITESPACE"," ",90],"{",["T_WHITESPACE","\n            ",90],["T_COMMENT","#require_once 'Zend\/Pdf\/Exception.php';\n",91],["T_WHITESPACE","            ",92],["T_THROW","throw",92],["T_WHITESPACE"," ",92],["T_NEW","new",92],["T_WHITESPACE"," ",92],["T_STRING","Zend_Pdf_Exception",92],"(",["T_CONSTANT_ENCAPSED_STRING","'Image is not a PNG'",92],")",";",["T_WHITESPACE","\n        ",92],"}",["T_WHITESPACE","\n        ",93],["T_STRING","fseek",94],"(",["T_VARIABLE","$imageFile",94],",",["T_WHITESPACE"," ",94],["T_LNUMBER","12",94],",",["T_WHITESPACE"," ",94],["T_STRING","SEEK_CUR",94],")",";",["T_WHITESPACE"," ",94],["T_COMMENT","\/\/Signature bytes (Includes the IHDR chunk) IHDR processed linerarly because it doesnt contain a variable chunk length\n",94],["T_WHITESPACE","        ",95],["T_VARIABLE","$wtmp",95],["T_WHITESPACE"," ",95],"=",["T_WHITESPACE"," ",95],["T_STRING","unpack",95],"(",["T_CONSTANT_ENCAPSED_STRING","'Ni'",95],",",["T_STRING","fread",95],"(",["T_VARIABLE","$imageFile",95],",",["T_WHITESPACE"," ",95],["T_LNUMBER","4",95],")",")",";",["T_WHITESPACE"," ",95],["T_COMMENT","\/\/Unpack a 4-Byte Long\n",95],["T_WHITESPACE","        ",96],["T_VARIABLE","$width",96],["T_WHITESPACE"," ",96],"=",["T_WHITESPACE"," ",96],["T_VARIABLE","$wtmp",96],"[",["T_CONSTANT_ENCAPSED_STRING","'i'",96],"]",";",["T_WHITESPACE","\n        ",96],["T_VARIABLE","$htmp",97],["T_WHITESPACE"," ",97],"=",["T_WHITESPACE"," ",97],["T_STRING","unpack",97],"(",["T_CONSTANT_ENCAPSED_STRING","'Ni'",97],",",["T_STRING","fread",97],"(",["T_VARIABLE","$imageFile",97],",",["T_WHITESPACE"," ",97],["T_LNUMBER","4",97],")",")",";",["T_WHITESPACE","\n        ",97],["T_VARIABLE","$height",98],["T_WHITESPACE"," ",98],"=",["T_WHITESPACE"," ",98],["T_VARIABLE","$htmp",98],"[",["T_CONSTANT_ENCAPSED_STRING","'i'",98],"]",";",["T_WHITESPACE","\n        ",98],["T_VARIABLE","$bits",99],["T_WHITESPACE"," ",99],"=",["T_WHITESPACE"," ",99],["T_STRING","ord",99],"(",["T_STRING","fread",99],"(",["T_VARIABLE","$imageFile",99],",",["T_WHITESPACE"," ",99],["T_LNUMBER","1",99],")",")",";",["T_WHITESPACE"," ",99],["T_COMMENT","\/\/Higher than 8 bit depths are only supported in later versions of PDF.\n",99],["T_WHITESPACE","        ",100],["T_VARIABLE","$color",100],["T_WHITESPACE"," ",100],"=",["T_WHITESPACE"," ",100],["T_STRING","ord",100],"(",["T_STRING","fread",100],"(",["T_VARIABLE","$imageFile",100],",",["T_WHITESPACE"," ",100],["T_LNUMBER","1",100],")",")",";",["T_WHITESPACE","\n\n        ",100],["T_VARIABLE","$compression",102],["T_WHITESPACE"," ",102],"=",["T_WHITESPACE"," ",102],["T_STRING","ord",102],"(",["T_STRING","fread",102],"(",["T_VARIABLE","$imageFile",102],",",["T_WHITESPACE"," ",102],["T_LNUMBER","1",102],")",")",";",["T_WHITESPACE","\n        ",102],["T_VARIABLE","$prefilter",103],["T_WHITESPACE"," ",103],"=",["T_WHITESPACE"," ",103],["T_STRING","ord",103],"(",["T_STRING","fread",103],"(",["T_VARIABLE","$imageFile",103],",",["T_LNUMBER","1",103],")",")",";",["T_WHITESPACE","\n\n        ",103],["T_IF","if",105],["T_WHITESPACE"," ",105],"(","(",["T_VARIABLE","$interlacing",105],["T_WHITESPACE"," ",105],"=",["T_WHITESPACE"," ",105],["T_STRING","ord",105],"(",["T_STRING","fread",105],"(",["T_VARIABLE","$imageFile",105],",",["T_LNUMBER","1",105],")",")",")",["T_WHITESPACE"," ",105],["T_IS_NOT_EQUAL","!=",105],["T_WHITESPACE"," ",105],["T_STRING","Zend_Pdf_Resource_Image_Png",105],["T_DOUBLE_COLON","::",105],["T_STRING","PNG_INTERLACING_DISABLED",105],")",["T_WHITESPACE"," ",105],"{",["T_WHITESPACE","\n            ",105],["T_COMMENT","#require_once 'Zend\/Pdf\/Exception.php';\n",106],["T_WHITESPACE","            ",107],["T_THROW","throw",107],["T_WHITESPACE"," ",107],["T_NEW","new",107],["T_WHITESPACE"," ",107],["T_STRING","Zend_Pdf_Exception",107],"(",["T_WHITESPACE"," ",107],["T_CONSTANT_ENCAPSED_STRING","\"Only non-interlaced images are currently supported.\"",107],["T_WHITESPACE"," ",107],")",";",["T_WHITESPACE","\n        ",107],"}",["T_WHITESPACE","\n\n        ",108],["T_VARIABLE","$this",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","_width",110],["T_WHITESPACE"," ",110],"=",["T_WHITESPACE"," ",110],["T_VARIABLE","$width",110],";",["T_WHITESPACE","\n        ",110],["T_VARIABLE","$this",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","_height",111],["T_WHITESPACE"," ",111],"=",["T_WHITESPACE"," ",111],["T_VARIABLE","$height",111],";",["T_WHITESPACE","\n        ",111],["T_VARIABLE","$this",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","_imageProperties",112],["T_WHITESPACE"," ",112],"=",["T_WHITESPACE"," ",112],["T_ARRAY","array",112],"(",")",";",["T_WHITESPACE","\n        ",112],["T_VARIABLE","$this",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","_imageProperties",113],"[",["T_CONSTANT_ENCAPSED_STRING","'bitDepth'",113],"]",["T_WHITESPACE"," ",113],"=",["T_WHITESPACE"," ",113],["T_VARIABLE","$bits",113],";",["T_WHITESPACE","\n        ",113],["T_VARIABLE","$this",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","_imageProperties",114],"[",["T_CONSTANT_ENCAPSED_STRING","'pngColorType'",114],"]",["T_WHITESPACE"," ",114],"=",["T_WHITESPACE"," ",114],["T_VARIABLE","$color",114],";",["T_WHITESPACE","\n        ",114],["T_VARIABLE","$this",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","_imageProperties",115],"[",["T_CONSTANT_ENCAPSED_STRING","'pngFilterType'",115],"]",["T_WHITESPACE"," ",115],"=",["T_WHITESPACE"," ",115],["T_VARIABLE","$prefilter",115],";",["T_WHITESPACE","\n        ",115],["T_VARIABLE","$this",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","_imageProperties",116],"[",["T_CONSTANT_ENCAPSED_STRING","'pngCompressionType'",116],"]",["T_WHITESPACE"," ",116],"=",["T_WHITESPACE"," ",116],["T_VARIABLE","$compression",116],";",["T_WHITESPACE","\n        ",116],["T_VARIABLE","$this",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","_imageProperties",117],"[",["T_CONSTANT_ENCAPSED_STRING","'pngInterlacingType'",117],"]",["T_WHITESPACE"," ",117],"=",["T_WHITESPACE"," ",117],["T_VARIABLE","$interlacing",117],";",["T_WHITESPACE","\n\n        ",117],["T_STRING","fseek",119],"(",["T_VARIABLE","$imageFile",119],",",["T_WHITESPACE"," ",119],["T_LNUMBER","4",119],",",["T_WHITESPACE"," ",119],["T_STRING","SEEK_CUR",119],")",";",["T_WHITESPACE"," ",119],["T_COMMENT","\/\/4 Byte Ending Sequence\n",119],["T_WHITESPACE","        ",120],["T_VARIABLE","$imageData",120],["T_WHITESPACE"," ",120],"=",["T_WHITESPACE"," ",120],["T_CONSTANT_ENCAPSED_STRING","''",120],";",["T_WHITESPACE","\n\n        ",120],["T_COMMENT","\/*\n         * The following loop processes PNG chunks. 4 Byte Longs are packed first give the chunk length\n         * followed by the chunk signature, a four byte code. IDAT and IEND are manditory in any PNG.\n         *\/",122],["T_WHITESPACE","\n        ",125],["T_WHILE","while",126],["T_WHITESPACE"," ",126],"(","!",["T_STRING","feof",126],"(",["T_VARIABLE","$imageFile",126],")",")",["T_WHITESPACE"," ",126],"{",["T_WHITESPACE","\n            ",126],["T_VARIABLE","$chunkLengthBytes",127],["T_WHITESPACE"," ",127],"=",["T_WHITESPACE"," ",127],["T_STRING","fread",127],"(",["T_VARIABLE","$imageFile",127],",",["T_WHITESPACE"," ",127],["T_LNUMBER","4",127],")",";",["T_WHITESPACE","\n            ",127],["T_IF","if",128],["T_WHITESPACE"," ",128],"(",["T_VARIABLE","$chunkLengthBytes",128],["T_WHITESPACE"," ",128],["T_IS_IDENTICAL","===",128],["T_WHITESPACE"," ",128],["T_STRING","false",128],")",["T_WHITESPACE"," ",128],"{",["T_WHITESPACE","\n                ",128],["T_COMMENT","#require_once 'Zend\/Pdf\/Exception.php';\n",129],["T_WHITESPACE","                ",130],["T_THROW","throw",130],["T_WHITESPACE"," ",130],["T_NEW","new",130],["T_WHITESPACE"," ",130],["T_STRING","Zend_Pdf_Exception",130],"(",["T_CONSTANT_ENCAPSED_STRING","'Error ocuured while image file reading.'",130],")",";",["T_WHITESPACE","\n            ",130],"}",["T_WHITESPACE","\n\n            ",131],["T_VARIABLE","$chunkLengthtmp",133],["T_WHITESPACE"," ",133],"=",["T_WHITESPACE"," ",133],["T_STRING","unpack",133],"(",["T_CONSTANT_ENCAPSED_STRING","'Ni'",133],",",["T_WHITESPACE"," ",133],["T_VARIABLE","$chunkLengthBytes",133],")",";",["T_WHITESPACE","\n            ",133],["T_VARIABLE","$chunkLength",134],["T_WHITESPACE","    ",134],"=",["T_WHITESPACE"," ",134],["T_VARIABLE","$chunkLengthtmp",134],"[",["T_CONSTANT_ENCAPSED_STRING","'i'",134],"]",";",["T_WHITESPACE","\n            ",134],["T_VARIABLE","$chunkType",135],["T_WHITESPACE","      ",135],"=",["T_WHITESPACE"," ",135],["T_STRING","fread",135],"(",["T_VARIABLE","$imageFile",135],",",["T_WHITESPACE"," ",135],["T_LNUMBER","4",135],")",";",["T_WHITESPACE","\n            ",135],["T_SWITCH","switch",136],"(",["T_VARIABLE","$chunkType",136],")",["T_WHITESPACE"," ",136],"{",["T_WHITESPACE","\n                ",136],["T_CASE","case",137],["T_WHITESPACE"," ",137],["T_CONSTANT_ENCAPSED_STRING","'IDAT'",137],":",["T_WHITESPACE"," ",137],["T_COMMENT","\/\/Image Data\n",137],["T_WHITESPACE","                    ",138],["T_COMMENT","\/*\n                     * Reads the actual image data from the PNG file. Since we know at this point that the compression\n                     * strategy is the default strategy, we also know that this data is Zip compressed. We will either copy\n                     * the data directly to the PDF and provide the correct FlateDecode predictor, or decompress the data\n                     * decode the filters and output the data as a raw pixel map.\n                     *\/",138],["T_WHITESPACE","\n                    ",143],["T_VARIABLE","$imageData",144],["T_WHITESPACE"," ",144],["T_CONCAT_EQUAL",".=",144],["T_WHITESPACE"," ",144],["T_STRING","fread",144],"(",["T_VARIABLE","$imageFile",144],",",["T_WHITESPACE"," ",144],["T_VARIABLE","$chunkLength",144],")",";",["T_WHITESPACE","\n                    ",144],["T_STRING","fseek",145],"(",["T_VARIABLE","$imageFile",145],",",["T_WHITESPACE"," ",145],["T_LNUMBER","4",145],",",["T_WHITESPACE"," ",145],["T_STRING","SEEK_CUR",145],")",";",["T_WHITESPACE","\n                    ",145],["T_BREAK","break",146],";",["T_WHITESPACE","\n\n                ",146],["T_CASE","case",148],["T_WHITESPACE"," ",148],["T_CONSTANT_ENCAPSED_STRING","'PLTE'",148],":",["T_WHITESPACE"," ",148],["T_COMMENT","\/\/Palette\n",148],["T_WHITESPACE","                    ",149],["T_VARIABLE","$paletteData",149],["T_WHITESPACE"," ",149],"=",["T_WHITESPACE"," ",149],["T_STRING","fread",149],"(",["T_VARIABLE","$imageFile",149],",",["T_WHITESPACE"," ",149],["T_VARIABLE","$chunkLength",149],")",";",["T_WHITESPACE","\n                    ",149],["T_STRING","fseek",150],"(",["T_VARIABLE","$imageFile",150],",",["T_WHITESPACE"," ",150],["T_LNUMBER","4",150],",",["T_WHITESPACE"," ",150],["T_STRING","SEEK_CUR",150],")",";",["T_WHITESPACE","\n                    ",150],["T_BREAK","break",151],";",["T_WHITESPACE","\n\n                ",151],["T_CASE","case",153],["T_WHITESPACE"," ",153],["T_CONSTANT_ENCAPSED_STRING","'tRNS'",153],":",["T_WHITESPACE"," ",153],["T_COMMENT","\/\/Basic (non-alpha channel) transparency.\n",153],["T_WHITESPACE","                    ",154],["T_VARIABLE","$trnsData",154],["T_WHITESPACE"," ",154],"=",["T_WHITESPACE"," ",154],["T_STRING","fread",154],"(",["T_VARIABLE","$imageFile",154],",",["T_WHITESPACE"," ",154],["T_VARIABLE","$chunkLength",154],")",";",["T_WHITESPACE","\n                    ",154],["T_SWITCH","switch",155],["T_WHITESPACE"," ",155],"(",["T_VARIABLE","$color",155],")",["T_WHITESPACE"," ",155],"{",["T_WHITESPACE","\n                        ",155],["T_CASE","case",156],["T_WHITESPACE"," ",156],["T_STRING","Zend_Pdf_Resource_Image_Png",156],["T_DOUBLE_COLON","::",156],["T_STRING","PNG_CHANNEL_GRAY",156],":",["T_WHITESPACE","\n                            ",156],["T_VARIABLE","$baseColor",157],["T_WHITESPACE"," ",157],"=",["T_WHITESPACE"," ",157],["T_STRING","ord",157],"(",["T_STRING","substr",157],"(",["T_VARIABLE","$trnsData",157],",",["T_WHITESPACE"," ",157],["T_LNUMBER","1",157],",",["T_WHITESPACE"," ",157],["T_LNUMBER","1",157],")",")",";",["T_WHITESPACE","\n                            ",157],["T_VARIABLE","$transparencyData",158],["T_WHITESPACE"," ",158],"=",["T_WHITESPACE"," ",158],["T_ARRAY","array",158],"(",["T_NEW","new",158],["T_WHITESPACE"," ",158],["T_STRING","Zend_Pdf_Element_Numeric",158],"(",["T_VARIABLE","$baseColor",158],")",",",["T_WHITESPACE","\n                                                      ",158],["T_NEW","new",159],["T_WHITESPACE"," ",159],["T_STRING","Zend_Pdf_Element_Numeric",159],"(",["T_VARIABLE","$baseColor",159],")",")",";",["T_WHITESPACE","\n                            ",159],["T_BREAK","break",160],";",["T_WHITESPACE","\n\n                        ",160],["T_CASE","case",162],["T_WHITESPACE"," ",162],["T_STRING","Zend_Pdf_Resource_Image_Png",162],["T_DOUBLE_COLON","::",162],["T_STRING","PNG_CHANNEL_RGB",162],":",["T_WHITESPACE","\n                            ",162],["T_VARIABLE","$red",163],["T_WHITESPACE"," ",163],"=",["T_WHITESPACE"," ",163],["T_STRING","ord",163],"(",["T_STRING","substr",163],"(",["T_VARIABLE","$trnsData",163],",",["T_LNUMBER","1",163],",",["T_LNUMBER","1",163],")",")",";",["T_WHITESPACE","\n                            ",163],["T_VARIABLE","$green",164],["T_WHITESPACE"," ",164],"=",["T_WHITESPACE"," ",164],["T_STRING","ord",164],"(",["T_STRING","substr",164],"(",["T_VARIABLE","$trnsData",164],",",["T_LNUMBER","3",164],",",["T_LNUMBER","1",164],")",")",";",["T_WHITESPACE","\n                            ",164],["T_VARIABLE","$blue",165],["T_WHITESPACE"," ",165],"=",["T_WHITESPACE"," ",165],["T_STRING","ord",165],"(",["T_STRING","substr",165],"(",["T_VARIABLE","$trnsData",165],",",["T_LNUMBER","5",165],",",["T_LNUMBER","1",165],")",")",";",["T_WHITESPACE","\n                            ",165],["T_VARIABLE","$transparencyData",166],["T_WHITESPACE"," ",166],"=",["T_WHITESPACE"," ",166],["T_ARRAY","array",166],"(",["T_NEW","new",166],["T_WHITESPACE"," ",166],["T_STRING","Zend_Pdf_Element_Numeric",166],"(",["T_VARIABLE","$red",166],")",",",["T_WHITESPACE","\n                                                      ",166],["T_NEW","new",167],["T_WHITESPACE"," ",167],["T_STRING","Zend_Pdf_Element_Numeric",167],"(",["T_VARIABLE","$red",167],")",",",["T_WHITESPACE","\n                                                      ",167],["T_NEW","new",168],["T_WHITESPACE"," ",168],["T_STRING","Zend_Pdf_Element_Numeric",168],"(",["T_VARIABLE","$green",168],")",",",["T_WHITESPACE","\n                                                      ",168],["T_NEW","new",169],["T_WHITESPACE"," ",169],["T_STRING","Zend_Pdf_Element_Numeric",169],"(",["T_VARIABLE","$green",169],")",",",["T_WHITESPACE","\n                                                      ",169],["T_NEW","new",170],["T_WHITESPACE"," ",170],["T_STRING","Zend_Pdf_Element_Numeric",170],"(",["T_VARIABLE","$blue",170],")",",",["T_WHITESPACE","\n                                                      ",170],["T_NEW","new",171],["T_WHITESPACE"," ",171],["T_STRING","Zend_Pdf_Element_Numeric",171],"(",["T_VARIABLE","$blue",171],")",")",";",["T_WHITESPACE","\n                            ",171],["T_BREAK","break",172],";",["T_WHITESPACE","\n\n                        ",172],["T_CASE","case",174],["T_WHITESPACE"," ",174],["T_STRING","Zend_Pdf_Resource_Image_Png",174],["T_DOUBLE_COLON","::",174],["T_STRING","PNG_CHANNEL_INDEXED",174],":",["T_WHITESPACE","\n                            ",174],["T_COMMENT","\/\/Find the first transparent color in the index, we will mask that. (This is a bit of a hack. This should be a SMask and mask all entries values).\n",175],["T_WHITESPACE","                            ",176],["T_IF","if",176],"(","(",["T_VARIABLE","$trnsIdx",176],["T_WHITESPACE"," ",176],"=",["T_WHITESPACE"," ",176],["T_STRING","strpos",176],"(",["T_VARIABLE","$trnsData",176],",",["T_WHITESPACE"," ",176],["T_CONSTANT_ENCAPSED_STRING","\"\\0\"",176],")",")",["T_WHITESPACE"," ",176],["T_IS_NOT_IDENTICAL","!==",176],["T_WHITESPACE"," ",176],["T_STRING","false",176],")",["T_WHITESPACE"," ",176],"{",["T_WHITESPACE","\n                                ",176],["T_VARIABLE","$transparencyData",177],["T_WHITESPACE"," ",177],"=",["T_WHITESPACE"," ",177],["T_ARRAY","array",177],"(",["T_NEW","new",177],["T_WHITESPACE"," ",177],["T_STRING","Zend_Pdf_Element_Numeric",177],"(",["T_VARIABLE","$trnsIdx",177],")",",",["T_WHITESPACE","\n                                                          ",177],["T_NEW","new",178],["T_WHITESPACE"," ",178],["T_STRING","Zend_Pdf_Element_Numeric",178],"(",["T_VARIABLE","$trnsIdx",178],")",")",";",["T_WHITESPACE","\n                            ",178],"}",["T_WHITESPACE","\n                            ",179],["T_BREAK","break",180],";",["T_WHITESPACE","\n\n                        ",180],["T_CASE","case",182],["T_WHITESPACE"," ",182],["T_STRING","Zend_Pdf_Resource_Image_Png",182],["T_DOUBLE_COLON","::",182],["T_STRING","PNG_CHANNEL_GRAY_ALPHA",182],":",["T_WHITESPACE","\n                            ",182],["T_COMMENT","\/\/ Fall through to the next case\n",183],["T_WHITESPACE","\n                        ",184],["T_CASE","case",185],["T_WHITESPACE"," ",185],["T_STRING","Zend_Pdf_Resource_Image_Png",185],["T_DOUBLE_COLON","::",185],["T_STRING","PNG_CHANNEL_RGB_ALPHA",185],":",["T_WHITESPACE","\n                            ",185],["T_COMMENT","#require_once 'Zend\/Pdf\/Exception.php';\n",186],["T_WHITESPACE","                            ",187],["T_THROW","throw",187],["T_WHITESPACE"," ",187],["T_NEW","new",187],["T_WHITESPACE"," ",187],["T_STRING","Zend_Pdf_Exception",187],"(",["T_WHITESPACE"," ",187],["T_CONSTANT_ENCAPSED_STRING","\"tRNS chunk illegal for Alpha Channel Images\"",187],["T_WHITESPACE"," ",187],")",";",["T_WHITESPACE","\n                            ",187],["T_BREAK","break",188],";",["T_WHITESPACE","\n                    ",188],"}",["T_WHITESPACE","\n                    ",189],["T_STRING","fseek",190],"(",["T_VARIABLE","$imageFile",190],",",["T_WHITESPACE"," ",190],["T_LNUMBER","4",190],",",["T_WHITESPACE"," ",190],["T_STRING","SEEK_CUR",190],")",";",["T_WHITESPACE"," ",190],["T_COMMENT","\/\/4 Byte Ending Sequence\n",190],["T_WHITESPACE","                    ",191],["T_BREAK","break",191],";",["T_WHITESPACE","\n\n                ",191],["T_CASE","case",193],["T_WHITESPACE"," ",193],["T_CONSTANT_ENCAPSED_STRING","'IEND'",193],";",["T_WHITESPACE","\n                    ",193],["T_BREAK","break",194],["T_WHITESPACE"," ",194],["T_LNUMBER","2",194],";",["T_WHITESPACE"," ",194],["T_COMMENT","\/\/End the loop too\n",194],["T_WHITESPACE","\n                ",195],["T_DEFAULT","default",196],":",["T_WHITESPACE","\n                    ",196],["T_STRING","fseek",197],"(",["T_VARIABLE","$imageFile",197],",",["T_WHITESPACE"," ",197],["T_VARIABLE","$chunkLength",197],["T_WHITESPACE"," ",197],"+",["T_WHITESPACE"," ",197],["T_LNUMBER","4",197],",",["T_WHITESPACE"," ",197],["T_STRING","SEEK_CUR",197],")",";",["T_WHITESPACE"," ",197],["T_COMMENT","\/\/Skip the section\n",197],["T_WHITESPACE","                    ",198],["T_BREAK","break",198],";",["T_WHITESPACE","\n            ",198],"}",["T_WHITESPACE","\n        ",199],"}",["T_WHITESPACE","\n        ",200],["T_STRING","fclose",201],"(",["T_VARIABLE","$imageFile",201],")",";",["T_WHITESPACE","\n\n        ",201],["T_VARIABLE","$compressed",203],["T_WHITESPACE"," ",203],"=",["T_WHITESPACE"," ",203],["T_STRING","true",203],";",["T_WHITESPACE","\n        ",203],["T_VARIABLE","$imageDataTmp",204],["T_WHITESPACE"," ",204],"=",["T_WHITESPACE"," ",204],["T_CONSTANT_ENCAPSED_STRING","''",204],";",["T_WHITESPACE","\n        ",204],["T_VARIABLE","$smaskData",205],["T_WHITESPACE"," ",205],"=",["T_WHITESPACE"," ",205],["T_CONSTANT_ENCAPSED_STRING","''",205],";",["T_WHITESPACE","\n        ",205],["T_SWITCH","switch",206],["T_WHITESPACE"," ",206],"(",["T_VARIABLE","$color",206],")",["T_WHITESPACE"," ",206],"{",["T_WHITESPACE","\n            ",206],["T_CASE","case",207],["T_WHITESPACE"," ",207],["T_STRING","Zend_Pdf_Resource_Image_Png",207],["T_DOUBLE_COLON","::",207],["T_STRING","PNG_CHANNEL_RGB",207],":",["T_WHITESPACE","\n                ",207],["T_VARIABLE","$colorSpace",208],["T_WHITESPACE"," ",208],"=",["T_WHITESPACE"," ",208],["T_NEW","new",208],["T_WHITESPACE"," ",208],["T_STRING","Zend_Pdf_Element_Name",208],"(",["T_CONSTANT_ENCAPSED_STRING","'DeviceRGB'",208],")",";",["T_WHITESPACE","\n                ",208],["T_BREAK","break",209],";",["T_WHITESPACE","\n\n            ",209],["T_CASE","case",211],["T_WHITESPACE"," ",211],["T_STRING","Zend_Pdf_Resource_Image_Png",211],["T_DOUBLE_COLON","::",211],["T_STRING","PNG_CHANNEL_GRAY",211],":",["T_WHITESPACE","\n                ",211],["T_VARIABLE","$colorSpace",212],["T_WHITESPACE"," ",212],"=",["T_WHITESPACE"," ",212],["T_NEW","new",212],["T_WHITESPACE"," ",212],["T_STRING","Zend_Pdf_Element_Name",212],"(",["T_CONSTANT_ENCAPSED_STRING","'DeviceGray'",212],")",";",["T_WHITESPACE","\n                ",212],["T_BREAK","break",213],";",["T_WHITESPACE","\n\n            ",213],["T_CASE","case",215],["T_WHITESPACE"," ",215],["T_STRING","Zend_Pdf_Resource_Image_Png",215],["T_DOUBLE_COLON","::",215],["T_STRING","PNG_CHANNEL_INDEXED",215],":",["T_WHITESPACE","\n                ",215],["T_IF","if",216],"(",["T_EMPTY","empty",216],"(",["T_VARIABLE","$paletteData",216],")",")",["T_WHITESPACE"," ",216],"{",["T_WHITESPACE","\n                    ",216],["T_COMMENT","#require_once 'Zend\/Pdf\/Exception.php';\n",217],["T_WHITESPACE","                    ",218],["T_THROW","throw",218],["T_WHITESPACE"," ",218],["T_NEW","new",218],["T_WHITESPACE"," ",218],["T_STRING","Zend_Pdf_Exception",218],"(",["T_WHITESPACE"," ",218],["T_CONSTANT_ENCAPSED_STRING","\"PNG Corruption: No palette data read for indexed type PNG.\"",218],["T_WHITESPACE"," ",218],")",";",["T_WHITESPACE","\n                ",218],"}",["T_WHITESPACE","\n                ",219],["T_VARIABLE","$colorSpace",220],["T_WHITESPACE"," ",220],"=",["T_WHITESPACE"," ",220],["T_NEW","new",220],["T_WHITESPACE"," ",220],["T_STRING","Zend_Pdf_Element_Array",220],"(",")",";",["T_WHITESPACE","\n                ",220],["T_VARIABLE","$colorSpace",221],["T_OBJECT_OPERATOR","->",221],["T_STRING","items",221],"[","]",["T_WHITESPACE"," ",221],"=",["T_WHITESPACE"," ",221],["T_NEW","new",221],["T_WHITESPACE"," ",221],["T_STRING","Zend_Pdf_Element_Name",221],"(",["T_CONSTANT_ENCAPSED_STRING","'Indexed'",221],")",";",["T_WHITESPACE","\n                ",221],["T_VARIABLE","$colorSpace",222],["T_OBJECT_OPERATOR","->",222],["T_STRING","items",222],"[","]",["T_WHITESPACE"," ",222],"=",["T_WHITESPACE"," ",222],["T_NEW","new",222],["T_WHITESPACE"," ",222],["T_STRING","Zend_Pdf_Element_Name",222],"(",["T_CONSTANT_ENCAPSED_STRING","'DeviceRGB'",222],")",";",["T_WHITESPACE","\n                ",222],["T_VARIABLE","$colorSpace",223],["T_OBJECT_OPERATOR","->",223],["T_STRING","items",223],"[","]",["T_WHITESPACE"," ",223],"=",["T_WHITESPACE"," ",223],["T_NEW","new",223],["T_WHITESPACE"," ",223],["T_STRING","Zend_Pdf_Element_Numeric",223],"(","(",["T_STRING","strlen",223],"(",["T_VARIABLE","$paletteData",223],")","\/",["T_LNUMBER","3",223],"-",["T_LNUMBER","1",223],")",")",";",["T_WHITESPACE","\n                ",223],["T_VARIABLE","$paletteObject",224],["T_WHITESPACE"," ",224],"=",["T_WHITESPACE"," ",224],["T_VARIABLE","$this",224],["T_OBJECT_OPERATOR","->",224],["T_STRING","_objectFactory",224],["T_OBJECT_OPERATOR","->",224],["T_STRING","newObject",224],"(",["T_NEW","new",224],["T_WHITESPACE"," ",224],["T_STRING","Zend_Pdf_Element_String_Binary",224],"(",["T_VARIABLE","$paletteData",224],")",")",";",["T_WHITESPACE","\n                ",224],["T_VARIABLE","$colorSpace",225],["T_OBJECT_OPERATOR","->",225],["T_STRING","items",225],"[","]",["T_WHITESPACE"," ",225],"=",["T_WHITESPACE"," ",225],["T_VARIABLE","$paletteObject",225],";",["T_WHITESPACE","\n                ",225],["T_BREAK","break",226],";",["T_WHITESPACE","\n\n            ",226],["T_CASE","case",228],["T_WHITESPACE"," ",228],["T_STRING","Zend_Pdf_Resource_Image_Png",228],["T_DOUBLE_COLON","::",228],["T_STRING","PNG_CHANNEL_GRAY_ALPHA",228],":",["T_WHITESPACE","\n                ",228],["T_COMMENT","\/*\n                 * To decode PNG's with alpha data we must create two images from one. One image will contain the Gray data\n                 * the other will contain the Gray transparency overlay data. The former will become the object data and the latter\n                 * will become the Shadow Mask (SMask).\n                 *\/",229],["T_WHITESPACE","\n                ",233],["T_IF","if",234],"(",["T_VARIABLE","$bits",234],["T_WHITESPACE"," ",234],">",["T_WHITESPACE"," ",234],["T_LNUMBER","8",234],")",["T_WHITESPACE"," ",234],"{",["T_WHITESPACE","\n                    ",234],["T_COMMENT","#require_once 'Zend\/Pdf\/Exception.php';\n",235],["T_WHITESPACE","                    ",236],["T_THROW","throw",236],["T_WHITESPACE"," ",236],["T_NEW","new",236],["T_WHITESPACE"," ",236],["T_STRING","Zend_Pdf_Exception",236],"(",["T_CONSTANT_ENCAPSED_STRING","\"Alpha PNGs with bit depth > 8 are not yet supported\"",236],")",";",["T_WHITESPACE","\n                ",236],"}",["T_WHITESPACE","\n\n                ",237],["T_VARIABLE","$colorSpace",239],["T_WHITESPACE"," ",239],"=",["T_WHITESPACE"," ",239],["T_NEW","new",239],["T_WHITESPACE"," ",239],["T_STRING","Zend_Pdf_Element_Name",239],"(",["T_CONSTANT_ENCAPSED_STRING","'DeviceGray'",239],")",";",["T_WHITESPACE","\n\n                ",239],["T_COMMENT","#require_once 'Zend\/Pdf\/ElementFactory.php';\n",241],["T_WHITESPACE","                ",242],["T_VARIABLE","$decodingObjFactory",242],["T_WHITESPACE"," ",242],"=",["T_WHITESPACE"," ",242],["T_STRING","Zend_Pdf_ElementFactory",242],["T_DOUBLE_COLON","::",242],["T_STRING","createFactory",242],"(",["T_LNUMBER","1",242],")",";",["T_WHITESPACE","\n                ",242],["T_VARIABLE","$decodingStream",243],["T_WHITESPACE"," ",243],"=",["T_WHITESPACE"," ",243],["T_VARIABLE","$decodingObjFactory",243],["T_OBJECT_OPERATOR","->",243],["T_STRING","newStreamObject",243],"(",["T_VARIABLE","$imageData",243],")",";",["T_WHITESPACE","\n                ",243],["T_VARIABLE","$decodingStream",244],["T_OBJECT_OPERATOR","->",244],["T_STRING","dictionary",244],["T_OBJECT_OPERATOR","->",244],["T_STRING","Filter",244],["T_WHITESPACE","      ",244],"=",["T_WHITESPACE"," ",244],["T_NEW","new",244],["T_WHITESPACE"," ",244],["T_STRING","Zend_Pdf_Element_Name",244],"(",["T_CONSTANT_ENCAPSED_STRING","'FlateDecode'",244],")",";",["T_WHITESPACE","\n                ",244],["T_VARIABLE","$decodingStream",245],["T_OBJECT_OPERATOR","->",245],["T_STRING","dictionary",245],["T_OBJECT_OPERATOR","->",245],["T_STRING","DecodeParms",245],["T_WHITESPACE"," ",245],"=",["T_WHITESPACE"," ",245],["T_NEW","new",245],["T_WHITESPACE"," ",245],["T_STRING","Zend_Pdf_Element_Dictionary",245],"(",")",";",["T_WHITESPACE","\n                ",245],["T_VARIABLE","$decodingStream",246],["T_OBJECT_OPERATOR","->",246],["T_STRING","dictionary",246],["T_OBJECT_OPERATOR","->",246],["T_STRING","DecodeParms",246],["T_OBJECT_OPERATOR","->",246],["T_STRING","Predictor",246],["T_WHITESPACE","        ",246],"=",["T_WHITESPACE"," ",246],["T_NEW","new",246],["T_WHITESPACE"," ",246],["T_STRING","Zend_Pdf_Element_Numeric",246],"(",["T_LNUMBER","15",246],")",";",["T_WHITESPACE","\n                ",246],["T_VARIABLE","$decodingStream",247],["T_OBJECT_OPERATOR","->",247],["T_STRING","dictionary",247],["T_OBJECT_OPERATOR","->",247],["T_STRING","DecodeParms",247],["T_OBJECT_OPERATOR","->",247],["T_STRING","Columns",247],["T_WHITESPACE","          ",247],"=",["T_WHITESPACE"," ",247],["T_NEW","new",247],["T_WHITESPACE"," ",247],["T_STRING","Zend_Pdf_Element_Numeric",247],"(",["T_VARIABLE","$width",247],")",";",["T_WHITESPACE","\n                ",247],["T_VARIABLE","$decodingStream",248],["T_OBJECT_OPERATOR","->",248],["T_STRING","dictionary",248],["T_OBJECT_OPERATOR","->",248],["T_STRING","DecodeParms",248],["T_OBJECT_OPERATOR","->",248],["T_STRING","Colors",248],["T_WHITESPACE","           ",248],"=",["T_WHITESPACE"," ",248],["T_NEW","new",248],["T_WHITESPACE"," ",248],["T_STRING","Zend_Pdf_Element_Numeric",248],"(",["T_LNUMBER","2",248],")",";",["T_WHITESPACE","   ",248],["T_COMMENT","\/\/GreyAlpha\n",248],["T_WHITESPACE","                ",249],["T_VARIABLE","$decodingStream",249],["T_OBJECT_OPERATOR","->",249],["T_STRING","dictionary",249],["T_OBJECT_OPERATOR","->",249],["T_STRING","DecodeParms",249],["T_OBJECT_OPERATOR","->",249],["T_STRING","BitsPerComponent",249],["T_WHITESPACE"," ",249],"=",["T_WHITESPACE"," ",249],["T_NEW","new",249],["T_WHITESPACE"," ",249],["T_STRING","Zend_Pdf_Element_Numeric",249],"(",["T_VARIABLE","$bits",249],")",";",["T_WHITESPACE","\n                ",249],["T_VARIABLE","$decodingStream",250],["T_OBJECT_OPERATOR","->",250],["T_STRING","skipFilters",250],"(",")",";",["T_WHITESPACE","\n\n                ",250],["T_VARIABLE","$pngDataRawDecoded",252],["T_WHITESPACE"," ",252],"=",["T_WHITESPACE"," ",252],["T_VARIABLE","$decodingStream",252],["T_OBJECT_OPERATOR","->",252],["T_STRING","value",252],";",["T_WHITESPACE","\n\n                ",252],["T_COMMENT","\/\/Iterate every pixel and copy out gray data and alpha channel (this will be slow)\n",254],["T_WHITESPACE","                ",255],["T_FOR","for",255],"(",["T_VARIABLE","$pixel",255],["T_WHITESPACE"," ",255],"=",["T_WHITESPACE"," ",255],["T_LNUMBER","0",255],",",["T_WHITESPACE"," ",255],["T_VARIABLE","$pixelcount",255],["T_WHITESPACE"," ",255],"=",["T_WHITESPACE"," ",255],"(",["T_VARIABLE","$width",255],["T_WHITESPACE"," ",255],"*",["T_WHITESPACE"," ",255],["T_VARIABLE","$height",255],")",";",["T_WHITESPACE"," ",255],["T_VARIABLE","$pixel",255],["T_WHITESPACE"," ",255],"<",["T_WHITESPACE"," ",255],["T_VARIABLE","$pixelcount",255],";",["T_WHITESPACE"," ",255],["T_VARIABLE","$pixel",255],["T_INC","++",255],")",["T_WHITESPACE"," ",255],"{",["T_WHITESPACE","\n                    ",255],["T_VARIABLE","$imageDataTmp",256],["T_WHITESPACE"," ",256],["T_CONCAT_EQUAL",".=",256],["T_WHITESPACE"," ",256],["T_VARIABLE","$pngDataRawDecoded",256],"[","(",["T_VARIABLE","$pixel",256],"*",["T_LNUMBER","2",256],")","]",";",["T_WHITESPACE","\n                    ",256],["T_VARIABLE","$smaskData",257],["T_WHITESPACE"," ",257],["T_CONCAT_EQUAL",".=",257],["T_WHITESPACE"," ",257],["T_VARIABLE","$pngDataRawDecoded",257],"[","(",["T_VARIABLE","$pixel",257],"*",["T_LNUMBER","2",257],")","+",["T_LNUMBER","1",257],"]",";",["T_WHITESPACE","\n                ",257],"}",["T_WHITESPACE","\n                ",258],["T_VARIABLE","$compressed",259],["T_WHITESPACE"," ",259],"=",["T_WHITESPACE"," ",259],["T_STRING","false",259],";",["T_WHITESPACE","\n                ",259],["T_VARIABLE","$imageData",260],["T_WHITESPACE","  ",260],"=",["T_WHITESPACE"," ",260],["T_VARIABLE","$imageDataTmp",260],";",["T_WHITESPACE"," ",260],["T_COMMENT","\/\/Overwrite image data with the gray channel without alpha\n",260],["T_WHITESPACE","                ",261],["T_BREAK","break",261],";",["T_WHITESPACE","\n\n            ",261],["T_CASE","case",263],["T_WHITESPACE"," ",263],["T_STRING","Zend_Pdf_Resource_Image_Png",263],["T_DOUBLE_COLON","::",263],["T_STRING","PNG_CHANNEL_RGB_ALPHA",263],":",["T_WHITESPACE","\n                ",263],["T_COMMENT","\/*\n                 * To decode PNG's with alpha data we must create two images from one. One image will contain the RGB data\n                 * the other will contain the Gray transparency overlay data. The former will become the object data and the latter\n                 * will become the Shadow Mask (SMask).\n                 *\/",264],["T_WHITESPACE","\n                ",268],["T_IF","if",269],"(",["T_VARIABLE","$bits",269],["T_WHITESPACE"," ",269],">",["T_WHITESPACE"," ",269],["T_LNUMBER","8",269],")",["T_WHITESPACE"," ",269],"{",["T_WHITESPACE","\n                    ",269],["T_COMMENT","#require_once 'Zend\/Pdf\/Exception.php';\n",270],["T_WHITESPACE","                    ",271],["T_THROW","throw",271],["T_WHITESPACE"," ",271],["T_NEW","new",271],["T_WHITESPACE"," ",271],["T_STRING","Zend_Pdf_Exception",271],"(",["T_CONSTANT_ENCAPSED_STRING","\"Alpha PNGs with bit depth > 8 are not yet supported\"",271],")",";",["T_WHITESPACE","\n                ",271],"}",["T_WHITESPACE","\n\n                ",272],["T_VARIABLE","$colorSpace",274],["T_WHITESPACE"," ",274],"=",["T_WHITESPACE"," ",274],["T_NEW","new",274],["T_WHITESPACE"," ",274],["T_STRING","Zend_Pdf_Element_Name",274],"(",["T_CONSTANT_ENCAPSED_STRING","'DeviceRGB'",274],")",";",["T_WHITESPACE","\n\n                ",274],["T_COMMENT","#require_once 'Zend\/Pdf\/ElementFactory.php';\n",276],["T_WHITESPACE","                ",277],["T_VARIABLE","$decodingObjFactory",277],["T_WHITESPACE"," ",277],"=",["T_WHITESPACE"," ",277],["T_STRING","Zend_Pdf_ElementFactory",277],["T_DOUBLE_COLON","::",277],["T_STRING","createFactory",277],"(",["T_LNUMBER","1",277],")",";",["T_WHITESPACE","\n                ",277],["T_VARIABLE","$decodingStream",278],["T_WHITESPACE"," ",278],"=",["T_WHITESPACE"," ",278],["T_VARIABLE","$decodingObjFactory",278],["T_OBJECT_OPERATOR","->",278],["T_STRING","newStreamObject",278],"(",["T_VARIABLE","$imageData",278],")",";",["T_WHITESPACE","\n                ",278],["T_VARIABLE","$decodingStream",279],["T_OBJECT_OPERATOR","->",279],["T_STRING","dictionary",279],["T_OBJECT_OPERATOR","->",279],["T_STRING","Filter",279],["T_WHITESPACE","      ",279],"=",["T_WHITESPACE"," ",279],["T_NEW","new",279],["T_WHITESPACE"," ",279],["T_STRING","Zend_Pdf_Element_Name",279],"(",["T_CONSTANT_ENCAPSED_STRING","'FlateDecode'",279],")",";",["T_WHITESPACE","\n                ",279],["T_VARIABLE","$decodingStream",280],["T_OBJECT_OPERATOR","->",280],["T_STRING","dictionary",280],["T_OBJECT_OPERATOR","->",280],["T_STRING","DecodeParms",280],["T_WHITESPACE"," ",280],"=",["T_WHITESPACE"," ",280],["T_NEW","new",280],["T_WHITESPACE"," ",280],["T_STRING","Zend_Pdf_Element_Dictionary",280],"(",")",";",["T_WHITESPACE","\n                ",280],["T_VARIABLE","$decodingStream",281],["T_OBJECT_OPERATOR","->",281],["T_STRING","dictionary",281],["T_OBJECT_OPERATOR","->",281],["T_STRING","DecodeParms",281],["T_OBJECT_OPERATOR","->",281],["T_STRING","Predictor",281],["T_WHITESPACE","        ",281],"=",["T_WHITESPACE"," ",281],["T_NEW","new",281],["T_WHITESPACE"," ",281],["T_STRING","Zend_Pdf_Element_Numeric",281],"(",["T_LNUMBER","15",281],")",";",["T_WHITESPACE","\n                ",281],["T_VARIABLE","$decodingStream",282],["T_OBJECT_OPERATOR","->",282],["T_STRING","dictionary",282],["T_OBJECT_OPERATOR","->",282],["T_STRING","DecodeParms",282],["T_OBJECT_OPERATOR","->",282],["T_STRING","Columns",282],["T_WHITESPACE","          ",282],"=",["T_WHITESPACE"," ",282],["T_NEW","new",282],["T_WHITESPACE"," ",282],["T_STRING","Zend_Pdf_Element_Numeric",282],"(",["T_VARIABLE","$width",282],")",";",["T_WHITESPACE","\n                ",282],["T_VARIABLE","$decodingStream",283],["T_OBJECT_OPERATOR","->",283],["T_STRING","dictionary",283],["T_OBJECT_OPERATOR","->",283],["T_STRING","DecodeParms",283],["T_OBJECT_OPERATOR","->",283],["T_STRING","Colors",283],["T_WHITESPACE","           ",283],"=",["T_WHITESPACE"," ",283],["T_NEW","new",283],["T_WHITESPACE"," ",283],["T_STRING","Zend_Pdf_Element_Numeric",283],"(",["T_LNUMBER","4",283],")",";",["T_WHITESPACE","   ",283],["T_COMMENT","\/\/RGBA\n",283],["T_WHITESPACE","                ",284],["T_VARIABLE","$decodingStream",284],["T_OBJECT_OPERATOR","->",284],["T_STRING","dictionary",284],["T_OBJECT_OPERATOR","->",284],["T_STRING","DecodeParms",284],["T_OBJECT_OPERATOR","->",284],["T_STRING","BitsPerComponent",284],["T_WHITESPACE"," ",284],"=",["T_WHITESPACE"," ",284],["T_NEW","new",284],["T_WHITESPACE"," ",284],["T_STRING","Zend_Pdf_Element_Numeric",284],"(",["T_VARIABLE","$bits",284],")",";",["T_WHITESPACE","\n                ",284],["T_VARIABLE","$decodingStream",285],["T_OBJECT_OPERATOR","->",285],["T_STRING","skipFilters",285],"(",")",";",["T_WHITESPACE","\n\n                ",285],["T_VARIABLE","$pngDataRawDecoded",287],["T_WHITESPACE"," ",287],"=",["T_WHITESPACE"," ",287],["T_VARIABLE","$decodingStream",287],["T_OBJECT_OPERATOR","->",287],["T_STRING","value",287],";",["T_WHITESPACE","\n\n                ",287],["T_COMMENT","\/\/Iterate every pixel and copy out rgb data and alpha channel (this will be slow)\n",289],["T_WHITESPACE","                ",290],["T_FOR","for",290],"(",["T_VARIABLE","$pixel",290],["T_WHITESPACE"," ",290],"=",["T_WHITESPACE"," ",290],["T_LNUMBER","0",290],",",["T_WHITESPACE"," ",290],["T_VARIABLE","$pixelcount",290],["T_WHITESPACE"," ",290],"=",["T_WHITESPACE"," ",290],"(",["T_VARIABLE","$width",290],["T_WHITESPACE"," ",290],"*",["T_WHITESPACE"," ",290],["T_VARIABLE","$height",290],")",";",["T_WHITESPACE"," ",290],["T_VARIABLE","$pixel",290],["T_WHITESPACE"," ",290],"<",["T_WHITESPACE"," ",290],["T_VARIABLE","$pixelcount",290],";",["T_WHITESPACE"," ",290],["T_VARIABLE","$pixel",290],["T_INC","++",290],")",["T_WHITESPACE"," ",290],"{",["T_WHITESPACE","\n                    ",290],["T_VARIABLE","$imageDataTmp",291],["T_WHITESPACE"," ",291],["T_CONCAT_EQUAL",".=",291],["T_WHITESPACE"," ",291],["T_VARIABLE","$pngDataRawDecoded",291],"[","(",["T_VARIABLE","$pixel",291],"*",["T_LNUMBER","4",291],")","+",["T_LNUMBER","0",291],"]",["T_WHITESPACE"," ",291],".",["T_WHITESPACE"," ",291],["T_VARIABLE","$pngDataRawDecoded",291],"[","(",["T_VARIABLE","$pixel",291],"*",["T_LNUMBER","4",291],")","+",["T_LNUMBER","1",291],"]",["T_WHITESPACE"," ",291],".",["T_WHITESPACE"," ",291],["T_VARIABLE","$pngDataRawDecoded",291],"[","(",["T_VARIABLE","$pixel",291],"*",["T_LNUMBER","4",291],")","+",["T_LNUMBER","2",291],"]",";",["T_WHITESPACE","\n                    ",291],["T_VARIABLE","$smaskData",292],["T_WHITESPACE"," ",292],["T_CONCAT_EQUAL",".=",292],["T_WHITESPACE"," ",292],["T_VARIABLE","$pngDataRawDecoded",292],"[","(",["T_VARIABLE","$pixel",292],"*",["T_LNUMBER","4",292],")","+",["T_LNUMBER","3",292],"]",";",["T_WHITESPACE","\n                ",292],"}",["T_WHITESPACE","\n\n                ",293],["T_VARIABLE","$compressed",295],["T_WHITESPACE"," ",295],"=",["T_WHITESPACE"," ",295],["T_STRING","false",295],";",["T_WHITESPACE","\n                ",295],["T_VARIABLE","$imageData",296],["T_WHITESPACE","  ",296],"=",["T_WHITESPACE"," ",296],["T_VARIABLE","$imageDataTmp",296],";",["T_WHITESPACE"," ",296],["T_COMMENT","\/\/Overwrite image data with the RGB channel without alpha\n",296],["T_WHITESPACE","                ",297],["T_BREAK","break",297],";",["T_WHITESPACE","\n\n            ",297],["T_DEFAULT","default",299],":",["T_WHITESPACE","\n                ",299],["T_COMMENT","#require_once 'Zend\/Pdf\/Exception.php';\n",300],["T_WHITESPACE","                ",301],["T_THROW","throw",301],["T_WHITESPACE"," ",301],["T_NEW","new",301],["T_WHITESPACE"," ",301],["T_STRING","Zend_Pdf_Exception",301],"(",["T_WHITESPACE"," ",301],["T_CONSTANT_ENCAPSED_STRING","\"PNG Corruption: Invalid color space.\"",301],["T_WHITESPACE"," ",301],")",";",["T_WHITESPACE","\n        ",301],"}",["T_WHITESPACE","\n\n        ",302],["T_IF","if",304],"(",["T_EMPTY","empty",304],"(",["T_VARIABLE","$imageData",304],")",")",["T_WHITESPACE"," ",304],"{",["T_WHITESPACE","\n            ",304],["T_COMMENT","#require_once 'Zend\/Pdf\/Exception.php';\n",305],["T_WHITESPACE","            ",306],["T_THROW","throw",306],["T_WHITESPACE"," ",306],["T_NEW","new",306],["T_WHITESPACE"," ",306],["T_STRING","Zend_Pdf_Exception",306],"(",["T_WHITESPACE"," ",306],["T_CONSTANT_ENCAPSED_STRING","\"Corrupt PNG Image. Mandatory IDAT chunk not found.\"",306],["T_WHITESPACE"," ",306],")",";",["T_WHITESPACE","\n        ",306],"}",["T_WHITESPACE","\n\n        ",307],["T_VARIABLE","$imageDictionary",309],["T_WHITESPACE"," ",309],"=",["T_WHITESPACE"," ",309],["T_VARIABLE","$this",309],["T_OBJECT_OPERATOR","->",309],["T_STRING","_resource",309],["T_OBJECT_OPERATOR","->",309],["T_STRING","dictionary",309],";",["T_WHITESPACE","\n        ",309],["T_IF","if",310],"(","!",["T_EMPTY","empty",310],"(",["T_VARIABLE","$smaskData",310],")",")",["T_WHITESPACE"," ",310],"{",["T_WHITESPACE","\n            ",310],["T_COMMENT","\/*\n             * Includes the Alpha transparency data as a Gray Image, then assigns the image as the Shadow Mask for the main image data.\n             *\/",311],["T_WHITESPACE","\n            ",313],["T_VARIABLE","$smaskStream",314],["T_WHITESPACE"," ",314],"=",["T_WHITESPACE"," ",314],["T_VARIABLE","$this",314],["T_OBJECT_OPERATOR","->",314],["T_STRING","_objectFactory",314],["T_OBJECT_OPERATOR","->",314],["T_STRING","newStreamObject",314],"(",["T_VARIABLE","$smaskData",314],")",";",["T_WHITESPACE","\n            ",314],["T_VARIABLE","$smaskStream",315],["T_OBJECT_OPERATOR","->",315],["T_STRING","dictionary",315],["T_OBJECT_OPERATOR","->",315],["T_STRING","Type",315],["T_WHITESPACE","             ",315],"=",["T_WHITESPACE"," ",315],["T_NEW","new",315],["T_WHITESPACE"," ",315],["T_STRING","Zend_Pdf_Element_Name",315],"(",["T_CONSTANT_ENCAPSED_STRING","'XObject'",315],")",";",["T_WHITESPACE","\n            ",315],["T_VARIABLE","$smaskStream",316],["T_OBJECT_OPERATOR","->",316],["T_STRING","dictionary",316],["T_OBJECT_OPERATOR","->",316],["T_STRING","Subtype",316],["T_WHITESPACE","          ",316],"=",["T_WHITESPACE"," ",316],["T_NEW","new",316],["T_WHITESPACE"," ",316],["T_STRING","Zend_Pdf_Element_Name",316],"(",["T_CONSTANT_ENCAPSED_STRING","'Image'",316],")",";",["T_WHITESPACE","\n            ",316],["T_VARIABLE","$smaskStream",317],["T_OBJECT_OPERATOR","->",317],["T_STRING","dictionary",317],["T_OBJECT_OPERATOR","->",317],["T_STRING","Width",317],["T_WHITESPACE","            ",317],"=",["T_WHITESPACE"," ",317],["T_NEW","new",317],["T_WHITESPACE"," ",317],["T_STRING","Zend_Pdf_Element_Numeric",317],"(",["T_VARIABLE","$width",317],")",";",["T_WHITESPACE","\n            ",317],["T_VARIABLE","$smaskStream",318],["T_OBJECT_OPERATOR","->",318],["T_STRING","dictionary",318],["T_OBJECT_OPERATOR","->",318],["T_STRING","Height",318],["T_WHITESPACE","           ",318],"=",["T_WHITESPACE"," ",318],["T_NEW","new",318],["T_WHITESPACE"," ",318],["T_STRING","Zend_Pdf_Element_Numeric",318],"(",["T_VARIABLE","$height",318],")",";",["T_WHITESPACE","\n            ",318],["T_VARIABLE","$smaskStream",319],["T_OBJECT_OPERATOR","->",319],["T_STRING","dictionary",319],["T_OBJECT_OPERATOR","->",319],["T_STRING","ColorSpace",319],["T_WHITESPACE","       ",319],"=",["T_WHITESPACE"," ",319],["T_NEW","new",319],["T_WHITESPACE"," ",319],["T_STRING","Zend_Pdf_Element_Name",319],"(",["T_CONSTANT_ENCAPSED_STRING","'DeviceGray'",319],")",";",["T_WHITESPACE","\n            ",319],["T_VARIABLE","$smaskStream",320],["T_OBJECT_OPERATOR","->",320],["T_STRING","dictionary",320],["T_OBJECT_OPERATOR","->",320],["T_STRING","BitsPerComponent",320],["T_WHITESPACE"," ",320],"=",["T_WHITESPACE"," ",320],["T_NEW","new",320],["T_WHITESPACE"," ",320],["T_STRING","Zend_Pdf_Element_Numeric",320],"(",["T_VARIABLE","$bits",320],")",";",["T_WHITESPACE","\n            ",320],["T_VARIABLE","$imageDictionary",321],["T_OBJECT_OPERATOR","->",321],["T_STRING","SMask",321],["T_WHITESPACE"," ",321],"=",["T_WHITESPACE"," ",321],["T_VARIABLE","$smaskStream",321],";",["T_WHITESPACE","\n\n            ",321],["T_COMMENT","\/\/ Encode stream with FlateDecode filter\n",323],["T_WHITESPACE","            ",324],["T_VARIABLE","$smaskStreamDecodeParms",324],["T_WHITESPACE"," ",324],"=",["T_WHITESPACE"," ",324],["T_ARRAY","array",324],"(",")",";",["T_WHITESPACE","\n            ",324],["T_VARIABLE","$smaskStreamDecodeParms",325],"[",["T_CONSTANT_ENCAPSED_STRING","'Predictor'",325],"]",["T_WHITESPACE","        ",325],"=",["T_WHITESPACE"," ",325],["T_NEW","new",325],["T_WHITESPACE"," ",325],["T_STRING","Zend_Pdf_Element_Numeric",325],"(",["T_LNUMBER","15",325],")",";",["T_WHITESPACE","\n            ",325],["T_VARIABLE","$smaskStreamDecodeParms",326],"[",["T_CONSTANT_ENCAPSED_STRING","'Columns'",326],"]",["T_WHITESPACE","          ",326],"=",["T_WHITESPACE"," ",326],["T_NEW","new",326],["T_WHITESPACE"," ",326],["T_STRING","Zend_Pdf_Element_Numeric",326],"(",["T_VARIABLE","$width",326],")",";",["T_WHITESPACE","\n            ",326],["T_VARIABLE","$smaskStreamDecodeParms",327],"[",["T_CONSTANT_ENCAPSED_STRING","'Colors'",327],"]",["T_WHITESPACE","           ",327],"=",["T_WHITESPACE"," ",327],["T_NEW","new",327],["T_WHITESPACE"," ",327],["T_STRING","Zend_Pdf_Element_Numeric",327],"(",["T_LNUMBER","1",327],")",";",["T_WHITESPACE","\n            ",327],["T_VARIABLE","$smaskStreamDecodeParms",328],"[",["T_CONSTANT_ENCAPSED_STRING","'BitsPerComponent'",328],"]",["T_WHITESPACE"," ",328],"=",["T_WHITESPACE"," ",328],["T_NEW","new",328],["T_WHITESPACE"," ",328],["T_STRING","Zend_Pdf_Element_Numeric",328],"(",["T_LNUMBER","8",328],")",";",["T_WHITESPACE","\n            ",328],["T_VARIABLE","$smaskStream",329],["T_OBJECT_OPERATOR","->",329],["T_STRING","dictionary",329],["T_OBJECT_OPERATOR","->",329],["T_STRING","DecodeParms",329],["T_WHITESPACE","  ",329],"=",["T_WHITESPACE"," ",329],["T_NEW","new",329],["T_WHITESPACE"," ",329],["T_STRING","Zend_Pdf_Element_Dictionary",329],"(",["T_VARIABLE","$smaskStreamDecodeParms",329],")",";",["T_WHITESPACE","\n            ",329],["T_VARIABLE","$smaskStream",330],["T_OBJECT_OPERATOR","->",330],["T_STRING","dictionary",330],["T_OBJECT_OPERATOR","->",330],["T_STRING","Filter",330],["T_WHITESPACE","       ",330],"=",["T_WHITESPACE"," ",330],["T_NEW","new",330],["T_WHITESPACE"," ",330],["T_STRING","Zend_Pdf_Element_Name",330],"(",["T_CONSTANT_ENCAPSED_STRING","'FlateDecode'",330],")",";",["T_WHITESPACE","\n        ",330],"}",["T_WHITESPACE","\n\n        ",331],["T_IF","if",333],"(","!",["T_EMPTY","empty",333],"(",["T_VARIABLE","$transparencyData",333],")",")",["T_WHITESPACE"," ",333],"{",["T_WHITESPACE","\n            ",333],["T_COMMENT","\/\/This is experimental and not properly tested.\n",334],["T_WHITESPACE","            ",335],["T_VARIABLE","$imageDictionary",335],["T_OBJECT_OPERATOR","->",335],["T_STRING","Mask",335],["T_WHITESPACE"," ",335],"=",["T_WHITESPACE"," ",335],["T_NEW","new",335],["T_WHITESPACE"," ",335],["T_STRING","Zend_Pdf_Element_Array",335],"(",["T_VARIABLE","$transparencyData",335],")",";",["T_WHITESPACE","\n        ",335],"}",["T_WHITESPACE","\n\n        ",336],["T_VARIABLE","$imageDictionary",338],["T_OBJECT_OPERATOR","->",338],["T_STRING","Width",338],["T_WHITESPACE","            ",338],"=",["T_WHITESPACE"," ",338],["T_NEW","new",338],["T_WHITESPACE"," ",338],["T_STRING","Zend_Pdf_Element_Numeric",338],"(",["T_VARIABLE","$width",338],")",";",["T_WHITESPACE","\n        ",338],["T_VARIABLE","$imageDictionary",339],["T_OBJECT_OPERATOR","->",339],["T_STRING","Height",339],["T_WHITESPACE","           ",339],"=",["T_WHITESPACE"," ",339],["T_NEW","new",339],["T_WHITESPACE"," ",339],["T_STRING","Zend_Pdf_Element_Numeric",339],"(",["T_VARIABLE","$height",339],")",";",["T_WHITESPACE","\n        ",339],["T_VARIABLE","$imageDictionary",340],["T_OBJECT_OPERATOR","->",340],["T_STRING","ColorSpace",340],["T_WHITESPACE","       ",340],"=",["T_WHITESPACE"," ",340],["T_VARIABLE","$colorSpace",340],";",["T_WHITESPACE","\n        ",340],["T_VARIABLE","$imageDictionary",341],["T_OBJECT_OPERATOR","->",341],["T_STRING","BitsPerComponent",341],["T_WHITESPACE"," ",341],"=",["T_WHITESPACE"," ",341],["T_NEW","new",341],["T_WHITESPACE"," ",341],["T_STRING","Zend_Pdf_Element_Numeric",341],"(",["T_VARIABLE","$bits",341],")",";",["T_WHITESPACE","\n        ",341],["T_VARIABLE","$imageDictionary",342],["T_OBJECT_OPERATOR","->",342],["T_STRING","Filter",342],["T_WHITESPACE","       ",342],"=",["T_WHITESPACE"," ",342],["T_NEW","new",342],["T_WHITESPACE"," ",342],["T_STRING","Zend_Pdf_Element_Name",342],"(",["T_CONSTANT_ENCAPSED_STRING","'FlateDecode'",342],")",";",["T_WHITESPACE","\n\n        ",342],["T_VARIABLE","$decodeParms",344],["T_WHITESPACE"," ",344],"=",["T_WHITESPACE"," ",344],["T_ARRAY","array",344],"(",")",";",["T_WHITESPACE","\n        ",344],["T_VARIABLE","$decodeParms",345],"[",["T_CONSTANT_ENCAPSED_STRING","'Predictor'",345],"]",["T_WHITESPACE","        ",345],"=",["T_WHITESPACE"," ",345],["T_NEW","new",345],["T_WHITESPACE"," ",345],["T_STRING","Zend_Pdf_Element_Numeric",345],"(",["T_LNUMBER","15",345],")",";",["T_WHITESPACE"," ",345],["T_COMMENT","\/\/ Optimal prediction\n",345],["T_WHITESPACE","        ",346],["T_VARIABLE","$decodeParms",346],"[",["T_CONSTANT_ENCAPSED_STRING","'Columns'",346],"]",["T_WHITESPACE","          ",346],"=",["T_WHITESPACE"," ",346],["T_NEW","new",346],["T_WHITESPACE"," ",346],["T_STRING","Zend_Pdf_Element_Numeric",346],"(",["T_VARIABLE","$width",346],")",";",["T_WHITESPACE","\n        ",346],["T_VARIABLE","$decodeParms",347],"[",["T_CONSTANT_ENCAPSED_STRING","'Colors'",347],"]",["T_WHITESPACE","           ",347],"=",["T_WHITESPACE"," ",347],["T_NEW","new",347],["T_WHITESPACE"," ",347],["T_STRING","Zend_Pdf_Element_Numeric",347],"(","(","(",["T_VARIABLE","$color",347],["T_IS_EQUAL","==",347],["T_STRING","Zend_Pdf_Resource_Image_Png",347],["T_DOUBLE_COLON","::",347],["T_STRING","PNG_CHANNEL_RGB",347],["T_WHITESPACE"," ",347],["T_BOOLEAN_OR","||",347],["T_WHITESPACE"," ",347],["T_VARIABLE","$color",347],["T_IS_EQUAL","==",347],["T_STRING","Zend_Pdf_Resource_Image_Png",347],["T_DOUBLE_COLON","::",347],["T_STRING","PNG_CHANNEL_RGB_ALPHA",347],")","?","(",["T_LNUMBER","3",347],")",":","(",["T_LNUMBER","1",347],")",")",")",";",["T_WHITESPACE","\n        ",347],["T_VARIABLE","$decodeParms",348],"[",["T_CONSTANT_ENCAPSED_STRING","'BitsPerComponent'",348],"]",["T_WHITESPACE"," ",348],"=",["T_WHITESPACE"," ",348],["T_NEW","new",348],["T_WHITESPACE"," ",348],["T_STRING","Zend_Pdf_Element_Numeric",348],"(",["T_VARIABLE","$bits",348],")",";",["T_WHITESPACE","\n        ",348],["T_VARIABLE","$imageDictionary",349],["T_OBJECT_OPERATOR","->",349],["T_STRING","DecodeParms",349],["T_WHITESPACE","  ",349],"=",["T_WHITESPACE"," ",349],["T_NEW","new",349],["T_WHITESPACE"," ",349],["T_STRING","Zend_Pdf_Element_Dictionary",349],"(",["T_VARIABLE","$decodeParms",349],")",";",["T_WHITESPACE","\n\n        ",349],["T_COMMENT","\/\/Include only the image IDAT section data.\n",351],["T_WHITESPACE","        ",352],["T_VARIABLE","$this",352],["T_OBJECT_OPERATOR","->",352],["T_STRING","_resource",352],["T_OBJECT_OPERATOR","->",352],["T_STRING","value",352],["T_WHITESPACE"," ",352],"=",["T_WHITESPACE"," ",352],["T_VARIABLE","$imageData",352],";",["T_WHITESPACE","\n\n        ",352],["T_COMMENT","\/\/Skip double compression\n",354],["T_WHITESPACE","        ",355],["T_IF","if",355],["T_WHITESPACE"," ",355],"(",["T_VARIABLE","$compressed",355],")",["T_WHITESPACE"," ",355],"{",["T_WHITESPACE","\n            ",355],["T_VARIABLE","$this",356],["T_OBJECT_OPERATOR","->",356],["T_STRING","_resource",356],["T_OBJECT_OPERATOR","->",356],["T_STRING","skipFilters",356],"(",")",";",["T_WHITESPACE","\n        ",356],"}",["T_WHITESPACE","\n    ",357],"}",["T_WHITESPACE","\n\n    ",358],["T_DOC_COMMENT","\/**\n     * Image width\n     *\/",360],["T_WHITESPACE","\n    ",362],["T_PUBLIC","public",363],["T_WHITESPACE"," ",363],["T_FUNCTION","function",363],["T_WHITESPACE"," ",363],["T_STRING","getPixelWidth",363],"(",")",["T_WHITESPACE"," ",363],"{",["T_WHITESPACE","\n    ",363],["T_RETURN","return",364],["T_WHITESPACE"," ",364],["T_VARIABLE","$this",364],["T_OBJECT_OPERATOR","->",364],["T_STRING","_width",364],";",["T_WHITESPACE","\n    ",364],"}",["T_WHITESPACE","\n\n    ",365],["T_DOC_COMMENT","\/**\n     * Image height\n     *\/",367],["T_WHITESPACE","\n    ",369],["T_PUBLIC","public",370],["T_WHITESPACE"," ",370],["T_FUNCTION","function",370],["T_WHITESPACE"," ",370],["T_STRING","getPixelHeight",370],"(",")",["T_WHITESPACE"," ",370],"{",["T_WHITESPACE","\n        ",370],["T_RETURN","return",371],["T_WHITESPACE"," ",371],["T_VARIABLE","$this",371],["T_OBJECT_OPERATOR","->",371],["T_STRING","_height",371],";",["T_WHITESPACE","\n    ",371],"}",["T_WHITESPACE","\n\n    ",372],["T_DOC_COMMENT","\/**\n     * Image properties\n     *\/",374],["T_WHITESPACE","\n    ",376],["T_PUBLIC","public",377],["T_WHITESPACE"," ",377],["T_FUNCTION","function",377],["T_WHITESPACE"," ",377],["T_STRING","getProperties",377],"(",")",["T_WHITESPACE"," ",377],"{",["T_WHITESPACE","\n        ",377],["T_RETURN","return",378],["T_WHITESPACE"," ",378],["T_VARIABLE","$this",378],["T_OBJECT_OPERATOR","->",378],["T_STRING","_imageProperties",378],";",["T_WHITESPACE","\n    ",378],"}",["T_WHITESPACE","\n",379],"}",["T_WHITESPACE","\n",380]]