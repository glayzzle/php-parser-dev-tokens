[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Zend Framework\n *\n * LICENSE\n *\n * This source file is subject to the new BSD license that is bundled\n * with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/framework.zend.com\/license\/new-bsd\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@zend.com so we can send you a copy immediately.\n *\n * @category   Zend\n * @package    Zend_Pdf\n * @copyright  Copyright (c) 2005-2015 Zend Technologies USA Inc. (http:\/\/www.zend.com)\n * @license    http:\/\/framework.zend.com\/license\/new-bsd     New BSD License\n * @version    $Id$\n *\/",2],["T_WHITESPACE","\n\n",20],["T_DOC_COMMENT","\/** Internally used classes *\/",22],["T_WHITESPACE","\n",22],["T_COMMENT","#require_once 'Zend\/Pdf\/Element.php';\n",23],["T_COMMENT","#require_once 'Zend\/Pdf\/Element\/Array.php';\n",24],["T_COMMENT","#require_once 'Zend\/Pdf\/Element\/String\/Binary.php';\n",25],["T_COMMENT","#require_once 'Zend\/Pdf\/Element\/Boolean.php';\n",26],["T_COMMENT","#require_once 'Zend\/Pdf\/Element\/Dictionary.php';\n",27],["T_COMMENT","#require_once 'Zend\/Pdf\/Element\/Name.php';\n",28],["T_COMMENT","#require_once 'Zend\/Pdf\/Element\/Null.php';\n",29],["T_COMMENT","#require_once 'Zend\/Pdf\/Element\/Numeric.php';\n",30],["T_COMMENT","#require_once 'Zend\/Pdf\/Element\/String.php';\n",31],["T_COMMENT","#require_once 'Zend\/Pdf\/Resource\/Unified.php';\n",32],["T_WHITESPACE","\n",33],["T_COMMENT","#require_once 'Zend\/Pdf\/Canvas\/Abstract.php';\n",34],["T_WHITESPACE","\n\n",35],["T_DOC_COMMENT","\/**\n * PDF Page\n *\n * @package    Zend_Pdf\n * @copyright  Copyright (c) 2005-2015 Zend Technologies USA Inc. (http:\/\/www.zend.com)\n * @license    http:\/\/framework.zend.com\/license\/new-bsd     New BSD License\n *\/",37],["T_WHITESPACE","\n",43],["T_CLASS","class",44],["T_WHITESPACE"," ",44],["T_STRING","Zend_Pdf_Page",44],["T_WHITESPACE"," ",44],["T_EXTENDS","extends",44],["T_WHITESPACE"," ",44],["T_STRING","Zend_Pdf_Canvas_Abstract",44],["T_WHITESPACE","\n",44],"{",["T_WHITESPACE","\n  ",45],["T_COMMENT","\/**** Class Constants ****\/",46],["T_WHITESPACE","\n\n\n  ",46],["T_COMMENT","\/* Page Sizes *\/",49],["T_WHITESPACE","\n\n    ",49],["T_DOC_COMMENT","\/**\n     * Size representing an A4 page in portrait (tall) orientation.\n     *\/",51],["T_WHITESPACE","\n    ",53],["T_CONST","const",54],["T_WHITESPACE"," ",54],["T_STRING","SIZE_A4",54],["T_WHITESPACE","                ",54],"=",["T_WHITESPACE"," ",54],["T_CONSTANT_ENCAPSED_STRING","'595:842:'",54],";",["T_WHITESPACE","\n\n    ",54],["T_DOC_COMMENT","\/**\n     * Size representing an A4 page in landscape (wide) orientation.\n     *\/",56],["T_WHITESPACE","\n    ",58],["T_CONST","const",59],["T_WHITESPACE"," ",59],["T_STRING","SIZE_A4_LANDSCAPE",59],["T_WHITESPACE","      ",59],"=",["T_WHITESPACE"," ",59],["T_CONSTANT_ENCAPSED_STRING","'842:595:'",59],";",["T_WHITESPACE","\n\n    ",59],["T_DOC_COMMENT","\/**\n     * Size representing a US Letter page in portrait (tall) orientation.\n     *\/",61],["T_WHITESPACE","\n    ",63],["T_CONST","const",64],["T_WHITESPACE"," ",64],["T_STRING","SIZE_LETTER",64],["T_WHITESPACE","            ",64],"=",["T_WHITESPACE"," ",64],["T_CONSTANT_ENCAPSED_STRING","'612:792:'",64],";",["T_WHITESPACE","\n\n    ",64],["T_DOC_COMMENT","\/**\n     * Size representing a US Letter page in landscape (wide) orientation.\n     *\/",66],["T_WHITESPACE","\n    ",68],["T_CONST","const",69],["T_WHITESPACE"," ",69],["T_STRING","SIZE_LETTER_LANDSCAPE",69],["T_WHITESPACE","  ",69],"=",["T_WHITESPACE"," ",69],["T_CONSTANT_ENCAPSED_STRING","'792:612:'",69],";",["T_WHITESPACE","\n\n\n  ",69],["T_COMMENT","\/* Shape Drawing *\/",72],["T_WHITESPACE","\n\n    ",72],["T_DOC_COMMENT","\/**\n     * Stroke the path only. Do not fill.\n     *\/",74],["T_WHITESPACE","\n    ",76],["T_CONST","const",77],["T_WHITESPACE"," ",77],["T_STRING","SHAPE_DRAW_STROKE",77],["T_WHITESPACE","      ",77],"=",["T_WHITESPACE"," ",77],["T_LNUMBER","0",77],";",["T_WHITESPACE","\n\n    ",77],["T_DOC_COMMENT","\/**\n     * Fill the path only. Do not stroke.\n     *\/",79],["T_WHITESPACE","\n    ",81],["T_CONST","const",82],["T_WHITESPACE"," ",82],["T_STRING","SHAPE_DRAW_FILL",82],["T_WHITESPACE","        ",82],"=",["T_WHITESPACE"," ",82],["T_LNUMBER","1",82],";",["T_WHITESPACE","\n\n    ",82],["T_DOC_COMMENT","\/**\n     * Fill and stroke the path.\n     *\/",84],["T_WHITESPACE","\n    ",86],["T_CONST","const",87],["T_WHITESPACE"," ",87],["T_STRING","SHAPE_DRAW_FILL_AND_STROKE",87],["T_WHITESPACE"," ",87],"=",["T_WHITESPACE"," ",87],["T_LNUMBER","2",87],";",["T_WHITESPACE","\n\n\n  ",87],["T_COMMENT","\/* Shape Filling Methods *\/",90],["T_WHITESPACE","\n\n    ",90],["T_DOC_COMMENT","\/**\n     * Fill the path using the non-zero winding rule.\n     *\/",92],["T_WHITESPACE","\n    ",94],["T_CONST","const",95],["T_WHITESPACE"," ",95],["T_STRING","FILL_METHOD_NON_ZERO_WINDING",95],["T_WHITESPACE"," ",95],"=",["T_WHITESPACE"," ",95],["T_LNUMBER","0",95],";",["T_WHITESPACE","\n\n    ",95],["T_DOC_COMMENT","\/**\n     * Fill the path using the even-odd rule.\n     *\/",97],["T_WHITESPACE","\n    ",99],["T_CONST","const",100],["T_WHITESPACE"," ",100],["T_STRING","FILL_METHOD_EVEN_ODD",100],["T_WHITESPACE","        ",100],"=",["T_WHITESPACE"," ",100],["T_LNUMBER","1",100],";",["T_WHITESPACE","\n\n\n  ",100],["T_COMMENT","\/* Line Dash Types *\/",103],["T_WHITESPACE","\n\n    ",103],["T_DOC_COMMENT","\/**\n     * Solid line dash.\n     *\/",105],["T_WHITESPACE","\n    ",107],["T_CONST","const",108],["T_WHITESPACE"," ",108],["T_STRING","LINE_DASHING_SOLID",108],["T_WHITESPACE"," ",108],"=",["T_WHITESPACE"," ",108],["T_LNUMBER","0",108],";",["T_WHITESPACE","\n\n\n\n    ",108],["T_DOC_COMMENT","\/**\n     * Page dictionary (refers to an inderect Zend_Pdf_Element_Dictionary object).\n     *\n     * @var Zend_Pdf_Element_Reference|Zend_Pdf_Element_Object\n     *\/",112],["T_WHITESPACE","\n    ",116],["T_PROTECTED","protected",117],["T_WHITESPACE"," ",117],["T_VARIABLE","$_dictionary",117],";",["T_WHITESPACE","\n\n    ",117],["T_DOC_COMMENT","\/**\n     * PDF objects factory.\n     *\n     * @var Zend_Pdf_ElementFactory_Interface\n     *\/",119],["T_WHITESPACE","\n    ",123],["T_PROTECTED","protected",124],["T_WHITESPACE"," ",124],["T_VARIABLE","$_objFactory",124],["T_WHITESPACE"," ",124],"=",["T_WHITESPACE"," ",124],["T_STRING","null",124],";",["T_WHITESPACE","\n\n    ",124],["T_DOC_COMMENT","\/**\n     * Flag which signals, that page is created separately from any PDF document or\n     * attached to anyone.\n     *\n     * @var boolean\n     *\/",126],["T_WHITESPACE","\n    ",131],["T_PROTECTED","protected",132],["T_WHITESPACE"," ",132],["T_VARIABLE","$_attached",132],";",["T_WHITESPACE","\n\n    ",132],["T_DOC_COMMENT","\/**\n     * Safe Graphics State semafore\n     *\n     * If it's false, than we can't be sure Graphics State is restored withing\n     * context of previous contents stream (ex. drawing coordinate system may be rotated).\n     * We should encompass existing content with save\/restore GS operators\n     *\n     * @var boolean\n     *\/",134],["T_WHITESPACE","\n    ",142],["T_PROTECTED","protected",143],["T_WHITESPACE"," ",143],["T_VARIABLE","$_safeGS",143],";",["T_WHITESPACE","\n\n    ",143],["T_DOC_COMMENT","\/**\n     * Object constructor.\n     * Constructor signatures:\n     *\n     * 1. Load PDF page from a parsed PDF file.\n     *    Object factory is created by PDF parser.\n     * ---------------------------------------------------------\n     * new Zend_Pdf_Page(Zend_Pdf_Element_Dictionary       $pageDict,\n     *                   Zend_Pdf_ElementFactory_Interface $factory);\n     * ---------------------------------------------------------\n     *\n     * 2. Make a copy of the PDF page.\n     *    New page is created in the same context as source page. Object factory is shared.\n     *    Thus it will be attached to the document, but need to be placed into Zend_Pdf::$pages array\n     *    to be included into output.\n     * ---------------------------------------------------------\n     * new Zend_Pdf_Page(Zend_Pdf_Page $page);\n     * ---------------------------------------------------------\n     *\n     * 3. Create new page with a specified pagesize.\n     *    If $factory is null then it will be created and page must be attached to the document to be\n     *    included into output.\n     * ---------------------------------------------------------\n     * new Zend_Pdf_Page(string $pagesize, Zend_Pdf_ElementFactory_Interface $factory = null);\n     * ---------------------------------------------------------\n     *\n     * 4. Create new page with a specified pagesize (in default user space units).\n     *    If $factory is null then it will be created and page must be attached to the document to be\n     *    included into output.\n     * ---------------------------------------------------------\n     * new Zend_Pdf_Page(numeric $width, numeric $height, Zend_Pdf_ElementFactory_Interface $factory = null);\n     * ---------------------------------------------------------\n     *\n     *\n     * @param mixed $param1\n     * @param mixed $param2\n     * @param mixed $param3\n     * @throws Zend_Pdf_Exception\n     *\/",145],["T_WHITESPACE","\n    ",183],["T_PUBLIC","public",184],["T_WHITESPACE"," ",184],["T_FUNCTION","function",184],["T_WHITESPACE"," ",184],["T_STRING","__construct",184],"(",["T_VARIABLE","$param1",184],",",["T_WHITESPACE"," ",184],["T_VARIABLE","$param2",184],["T_WHITESPACE"," ",184],"=",["T_WHITESPACE"," ",184],["T_STRING","null",184],",",["T_WHITESPACE"," ",184],["T_VARIABLE","$param3",184],["T_WHITESPACE"," ",184],"=",["T_WHITESPACE"," ",184],["T_STRING","null",184],")",["T_WHITESPACE","\n    ",184],"{",["T_WHITESPACE","\n        ",185],["T_IF","if",186],["T_WHITESPACE"," ",186],"(","(",["T_VARIABLE","$param1",186],["T_WHITESPACE"," ",186],["T_INSTANCEOF","instanceof",186],["T_WHITESPACE"," ",186],["T_STRING","Zend_Pdf_Element_Reference",186],["T_WHITESPACE"," ",186],["T_BOOLEAN_OR","||",186],["T_WHITESPACE","\n             ",186],["T_VARIABLE","$param1",187],["T_WHITESPACE"," ",187],["T_INSTANCEOF","instanceof",187],["T_WHITESPACE"," ",187],["T_STRING","Zend_Pdf_Element_Object",187],["T_WHITESPACE","\n            ",187],")",["T_WHITESPACE"," ",188],["T_BOOLEAN_AND","&&",188],["T_WHITESPACE","\n            ",188],["T_VARIABLE","$param2",189],["T_WHITESPACE"," ",189],["T_INSTANCEOF","instanceof",189],["T_WHITESPACE"," ",189],["T_STRING","Zend_Pdf_ElementFactory_Interface",189],["T_WHITESPACE"," ",189],["T_BOOLEAN_AND","&&",189],["T_WHITESPACE","\n            ",189],["T_VARIABLE","$param3",190],["T_WHITESPACE"," ",190],["T_IS_IDENTICAL","===",190],["T_WHITESPACE"," ",190],["T_STRING","null",190],["T_WHITESPACE","\n           ",190],")",["T_WHITESPACE"," ",191],"{",["T_WHITESPACE","\n            ",191],["T_SWITCH","switch",192],["T_WHITESPACE"," ",192],"(",["T_VARIABLE","$param1",192],["T_OBJECT_OPERATOR","->",192],["T_STRING","getType",192],"(",")",")",["T_WHITESPACE"," ",192],"{",["T_WHITESPACE","\n                ",192],["T_CASE","case",193],["T_WHITESPACE"," ",193],["T_STRING","Zend_Pdf_Element",193],["T_DOUBLE_COLON","::",193],["T_STRING","TYPE_DICTIONARY",193],":",["T_WHITESPACE","\n                    ",193],["T_VARIABLE","$this",194],["T_OBJECT_OPERATOR","->",194],["T_STRING","_dictionary",194],["T_WHITESPACE"," ",194],"=",["T_WHITESPACE"," ",194],["T_VARIABLE","$param1",194],";",["T_WHITESPACE","\n                    ",194],["T_VARIABLE","$this",195],["T_OBJECT_OPERATOR","->",195],["T_STRING","_objFactory",195],["T_WHITESPACE"," ",195],"=",["T_WHITESPACE"," ",195],["T_VARIABLE","$param2",195],";",["T_WHITESPACE","\n                    ",195],["T_VARIABLE","$this",196],["T_OBJECT_OPERATOR","->",196],["T_STRING","_attached",196],["T_WHITESPACE","   ",196],"=",["T_WHITESPACE"," ",196],["T_STRING","true",196],";",["T_WHITESPACE","\n                    ",196],["T_VARIABLE","$this",197],["T_OBJECT_OPERATOR","->",197],["T_STRING","_safeGS",197],["T_WHITESPACE","     ",197],"=",["T_WHITESPACE"," ",197],["T_STRING","false",197],";",["T_WHITESPACE","\n                    ",197],["T_RETURN","return",198],";",["T_WHITESPACE","\n                    ",198],["T_BREAK","break",199],";",["T_WHITESPACE","\n\n                ",199],["T_CASE","case",201],["T_WHITESPACE"," ",201],["T_STRING","Zend_Pdf_Element",201],["T_DOUBLE_COLON","::",201],["T_STRING","TYPE_NULL",201],":",["T_WHITESPACE","\n                    ",201],["T_VARIABLE","$this",202],["T_OBJECT_OPERATOR","->",202],["T_STRING","_objFactory",202],["T_WHITESPACE"," ",202],"=",["T_WHITESPACE"," ",202],["T_VARIABLE","$param2",202],";",["T_WHITESPACE","\n                    ",202],["T_VARIABLE","$pageWidth",203],["T_WHITESPACE"," ",203],"=",["T_WHITESPACE"," ",203],["T_VARIABLE","$pageHeight",203],["T_WHITESPACE"," ",203],"=",["T_WHITESPACE"," ",203],["T_LNUMBER","0",203],";",["T_WHITESPACE","\n                    ",203],["T_BREAK","break",204],";",["T_WHITESPACE","\n\n                ",204],["T_DEFAULT","default",206],":",["T_WHITESPACE","\n                    ",206],["T_COMMENT","#require_once 'Zend\/Pdf\/Exception.php';\n",207],["T_WHITESPACE","                    ",208],["T_THROW","throw",208],["T_WHITESPACE"," ",208],["T_NEW","new",208],["T_WHITESPACE"," ",208],["T_STRING","Zend_Pdf_Exception",208],"(",["T_CONSTANT_ENCAPSED_STRING","'Unrecognized object type.'",208],")",";",["T_WHITESPACE","\n                    ",208],["T_BREAK","break",209],";",["T_WHITESPACE","\n\n            ",209],"}",["T_WHITESPACE","\n        ",211],"}",["T_WHITESPACE"," ",212],["T_ELSE","else",212],["T_WHITESPACE"," ",212],["T_IF","if",212],["T_WHITESPACE"," ",212],"(",["T_VARIABLE","$param1",212],["T_WHITESPACE"," ",212],["T_INSTANCEOF","instanceof",212],["T_WHITESPACE"," ",212],["T_STRING","Zend_Pdf_Page",212],["T_WHITESPACE"," ",212],["T_BOOLEAN_AND","&&",212],["T_WHITESPACE"," ",212],["T_VARIABLE","$param2",212],["T_WHITESPACE"," ",212],["T_IS_IDENTICAL","===",212],["T_WHITESPACE"," ",212],["T_STRING","null",212],["T_WHITESPACE"," ",212],["T_BOOLEAN_AND","&&",212],["T_WHITESPACE"," ",212],["T_VARIABLE","$param3",212],["T_WHITESPACE"," ",212],["T_IS_IDENTICAL","===",212],["T_WHITESPACE"," ",212],["T_STRING","null",212],")",["T_WHITESPACE"," ",212],"{",["T_WHITESPACE","\n            ",212],["T_COMMENT","\/\/ Duplicate existing page.\n",213],["T_WHITESPACE","            ",214],["T_COMMENT","\/\/ Let already existing content and resources to be shared between pages\n",214],["T_WHITESPACE","            ",215],["T_COMMENT","\/\/ We don't give existing content modification functionality, so we don't need \"deep copy\"\n",215],["T_WHITESPACE","            ",216],["T_VARIABLE","$this",216],["T_OBJECT_OPERATOR","->",216],["T_STRING","_objFactory",216],["T_WHITESPACE"," ",216],"=",["T_WHITESPACE"," ",216],["T_VARIABLE","$param1",216],["T_OBJECT_OPERATOR","->",216],["T_STRING","_objFactory",216],";",["T_WHITESPACE","\n            ",216],["T_VARIABLE","$this",217],["T_OBJECT_OPERATOR","->",217],["T_STRING","_attached",217],["T_WHITESPACE","   ",217],"=",["T_WHITESPACE"," ",217],"&",["T_VARIABLE","$param1",217],["T_OBJECT_OPERATOR","->",217],["T_STRING","_attached",217],";",["T_WHITESPACE","\n            ",217],["T_VARIABLE","$this",218],["T_OBJECT_OPERATOR","->",218],["T_STRING","_safeGS",218],["T_WHITESPACE","     ",218],"=",["T_WHITESPACE"," ",218],["T_STRING","false",218],";",["T_WHITESPACE","\n\n            ",218],["T_VARIABLE","$this",220],["T_OBJECT_OPERATOR","->",220],["T_STRING","_dictionary",220],["T_WHITESPACE"," ",220],"=",["T_WHITESPACE"," ",220],["T_VARIABLE","$this",220],["T_OBJECT_OPERATOR","->",220],["T_STRING","_objFactory",220],["T_OBJECT_OPERATOR","->",220],["T_STRING","newObject",220],"(",["T_NEW","new",220],["T_WHITESPACE"," ",220],["T_STRING","Zend_Pdf_Element_Dictionary",220],"(",")",")",";",["T_WHITESPACE","\n\n            ",220],["T_FOREACH","foreach",222],["T_WHITESPACE"," ",222],"(",["T_VARIABLE","$param1",222],["T_OBJECT_OPERATOR","->",222],["T_STRING","_dictionary",222],["T_OBJECT_OPERATOR","->",222],["T_STRING","getKeys",222],"(",")",["T_WHITESPACE"," ",222],["T_AS","as",222],["T_WHITESPACE"," ",222],["T_VARIABLE","$key",222],")",["T_WHITESPACE"," ",222],"{",["T_WHITESPACE","\n                ",222],["T_IF","if",223],["T_WHITESPACE"," ",223],"(",["T_VARIABLE","$key",223],["T_WHITESPACE"," ",223],["T_IS_EQUAL","==",223],["T_WHITESPACE"," ",223],["T_CONSTANT_ENCAPSED_STRING","'Contents'",223],")",["T_WHITESPACE"," ",223],"{",["T_WHITESPACE","\n                    ",223],["T_COMMENT","\/\/ Clone Contents property\n",224],["T_WHITESPACE","\n                    ",225],["T_VARIABLE","$this",226],["T_OBJECT_OPERATOR","->",226],["T_STRING","_dictionary",226],["T_OBJECT_OPERATOR","->",226],["T_STRING","Contents",226],["T_WHITESPACE"," ",226],"=",["T_WHITESPACE"," ",226],["T_NEW","new",226],["T_WHITESPACE"," ",226],["T_STRING","Zend_Pdf_Element_Array",226],"(",")",";",["T_WHITESPACE","\n\n                    ",226],["T_IF","if",228],["T_WHITESPACE"," ",228],"(",["T_VARIABLE","$param1",228],["T_OBJECT_OPERATOR","->",228],["T_STRING","_dictionary",228],["T_OBJECT_OPERATOR","->",228],["T_STRING","Contents",228],["T_OBJECT_OPERATOR","->",228],["T_STRING","getType",228],"(",")",["T_WHITESPACE"," ",228],["T_IS_NOT_EQUAL","!=",228],["T_WHITESPACE"," ",228],["T_STRING","Zend_Pdf_Element",228],["T_DOUBLE_COLON","::",228],["T_STRING","TYPE_ARRAY",228],")",["T_WHITESPACE"," ",228],"{",["T_WHITESPACE","\n                        ",228],["T_COMMENT","\/\/ Prepare array of content streams and add existing stream\n",229],["T_WHITESPACE","                        ",230],["T_VARIABLE","$this",230],["T_OBJECT_OPERATOR","->",230],["T_STRING","_dictionary",230],["T_OBJECT_OPERATOR","->",230],["T_STRING","Contents",230],["T_OBJECT_OPERATOR","->",230],["T_STRING","items",230],"[","]",["T_WHITESPACE"," ",230],"=",["T_WHITESPACE"," ",230],["T_VARIABLE","$param1",230],["T_OBJECT_OPERATOR","->",230],["T_STRING","_dictionary",230],["T_OBJECT_OPERATOR","->",230],["T_STRING","Contents",230],";",["T_WHITESPACE","\n                    ",230],"}",["T_WHITESPACE"," ",231],["T_ELSE","else",231],["T_WHITESPACE"," ",231],"{",["T_WHITESPACE","\n                        ",231],["T_COMMENT","\/\/ Clone array of the content streams\n",232],["T_WHITESPACE","                        ",233],["T_FOREACH","foreach",233],["T_WHITESPACE"," ",233],"(",["T_VARIABLE","$param1",233],["T_OBJECT_OPERATOR","->",233],["T_STRING","_dictionary",233],["T_OBJECT_OPERATOR","->",233],["T_STRING","Contents",233],["T_OBJECT_OPERATOR","->",233],["T_STRING","items",233],["T_WHITESPACE"," ",233],["T_AS","as",233],["T_WHITESPACE"," ",233],["T_VARIABLE","$srcContentStream",233],")",["T_WHITESPACE"," ",233],"{",["T_WHITESPACE","\n                            ",233],["T_VARIABLE","$this",234],["T_OBJECT_OPERATOR","->",234],["T_STRING","_dictionary",234],["T_OBJECT_OPERATOR","->",234],["T_STRING","Contents",234],["T_OBJECT_OPERATOR","->",234],["T_STRING","items",234],"[","]",["T_WHITESPACE"," ",234],"=",["T_WHITESPACE"," ",234],["T_VARIABLE","$srcContentStream",234],";",["T_WHITESPACE","\n                        ",234],"}",["T_WHITESPACE","\n                    ",235],"}",["T_WHITESPACE","\n                ",236],"}",["T_WHITESPACE"," ",237],["T_ELSE","else",237],["T_WHITESPACE"," ",237],"{",["T_WHITESPACE","\n                    ",237],["T_VARIABLE","$this",238],["T_OBJECT_OPERATOR","->",238],["T_STRING","_dictionary",238],["T_OBJECT_OPERATOR","->",238],["T_VARIABLE","$key",238],["T_WHITESPACE"," ",238],"=",["T_WHITESPACE"," ",238],["T_VARIABLE","$param1",238],["T_OBJECT_OPERATOR","->",238],["T_STRING","_dictionary",238],["T_OBJECT_OPERATOR","->",238],["T_VARIABLE","$key",238],";",["T_WHITESPACE","\n                ",238],"}",["T_WHITESPACE","\n            ",239],"}",["T_WHITESPACE","\n\n            ",240],["T_RETURN","return",242],";",["T_WHITESPACE","\n        ",242],"}",["T_WHITESPACE"," ",243],["T_ELSE","else",243],["T_WHITESPACE"," ",243],["T_IF","if",243],["T_WHITESPACE"," ",243],"(",["T_STRING","is_string",243],"(",["T_VARIABLE","$param1",243],")",["T_WHITESPACE"," ",243],["T_BOOLEAN_AND","&&",243],["T_WHITESPACE","\n                   ",243],"(",["T_VARIABLE","$param2",244],["T_WHITESPACE"," ",244],["T_IS_IDENTICAL","===",244],["T_WHITESPACE"," ",244],["T_STRING","null",244],["T_WHITESPACE"," ",244],["T_BOOLEAN_OR","||",244],["T_WHITESPACE"," ",244],["T_VARIABLE","$param2",244],["T_WHITESPACE"," ",244],["T_INSTANCEOF","instanceof",244],["T_WHITESPACE"," ",244],["T_STRING","Zend_Pdf_ElementFactory_Interface",244],")",["T_WHITESPACE"," ",244],["T_BOOLEAN_AND","&&",244],["T_WHITESPACE","\n                   ",244],["T_VARIABLE","$param3",245],["T_WHITESPACE"," ",245],["T_IS_IDENTICAL","===",245],["T_WHITESPACE"," ",245],["T_STRING","null",245],")",["T_WHITESPACE"," ",245],"{",["T_WHITESPACE","\n            ",245],["T_IF","if",246],["T_WHITESPACE"," ",246],"(",["T_VARIABLE","$param2",246],["T_WHITESPACE"," ",246],["T_IS_NOT_IDENTICAL","!==",246],["T_WHITESPACE"," ",246],["T_STRING","null",246],")",["T_WHITESPACE"," ",246],"{",["T_WHITESPACE","\n                ",246],["T_VARIABLE","$this",247],["T_OBJECT_OPERATOR","->",247],["T_STRING","_objFactory",247],["T_WHITESPACE"," ",247],"=",["T_WHITESPACE"," ",247],["T_VARIABLE","$param2",247],";",["T_WHITESPACE","\n            ",247],"}",["T_WHITESPACE"," ",248],["T_ELSE","else",248],["T_WHITESPACE"," ",248],"{",["T_WHITESPACE","\n                ",248],["T_COMMENT","#require_once 'Zend\/Pdf\/ElementFactory.php';\n",249],["T_WHITESPACE","                ",250],["T_VARIABLE","$this",250],["T_OBJECT_OPERATOR","->",250],["T_STRING","_objFactory",250],["T_WHITESPACE"," ",250],"=",["T_WHITESPACE"," ",250],["T_STRING","Zend_Pdf_ElementFactory",250],["T_DOUBLE_COLON","::",250],["T_STRING","createFactory",250],"(",["T_LNUMBER","1",250],")",";",["T_WHITESPACE","\n            ",250],"}",["T_WHITESPACE","\n            ",251],["T_VARIABLE","$this",252],["T_OBJECT_OPERATOR","->",252],["T_STRING","_attached",252],["T_WHITESPACE","   ",252],"=",["T_WHITESPACE"," ",252],["T_STRING","false",252],";",["T_WHITESPACE","\n            ",252],["T_VARIABLE","$this",253],["T_OBJECT_OPERATOR","->",253],["T_STRING","_safeGS",253],["T_WHITESPACE","     ",253],"=",["T_WHITESPACE"," ",253],["T_STRING","true",253],";",["T_WHITESPACE"," ",253],["T_DOC_COMMENT","\/** New page created. That's users App responsibility to track GS changes *\/",253],["T_WHITESPACE","\n\n            ",253],["T_SWITCH","switch",255],["T_WHITESPACE"," ",255],"(",["T_STRING","strtolower",255],"(",["T_VARIABLE","$param1",255],")",")",["T_WHITESPACE"," ",255],"{",["T_WHITESPACE","\n                ",255],["T_CASE","case",256],["T_WHITESPACE"," ",256],["T_CONSTANT_ENCAPSED_STRING","'a4'",256],":",["T_WHITESPACE","\n                    ",256],["T_VARIABLE","$param1",257],["T_WHITESPACE"," ",257],"=",["T_WHITESPACE"," ",257],["T_STRING","Zend_Pdf_Page",257],["T_DOUBLE_COLON","::",257],["T_STRING","SIZE_A4",257],";",["T_WHITESPACE","\n                    ",257],["T_BREAK","break",258],";",["T_WHITESPACE","\n                ",258],["T_CASE","case",259],["T_WHITESPACE"," ",259],["T_CONSTANT_ENCAPSED_STRING","'a4-landscape'",259],":",["T_WHITESPACE","\n                    ",259],["T_VARIABLE","$param1",260],["T_WHITESPACE"," ",260],"=",["T_WHITESPACE"," ",260],["T_STRING","Zend_Pdf_Page",260],["T_DOUBLE_COLON","::",260],["T_STRING","SIZE_A4_LANDSCAPE",260],";",["T_WHITESPACE","\n                    ",260],["T_BREAK","break",261],";",["T_WHITESPACE","\n                ",261],["T_CASE","case",262],["T_WHITESPACE"," ",262],["T_CONSTANT_ENCAPSED_STRING","'letter'",262],":",["T_WHITESPACE","\n                    ",262],["T_VARIABLE","$param1",263],["T_WHITESPACE"," ",263],"=",["T_WHITESPACE"," ",263],["T_STRING","Zend_Pdf_Page",263],["T_DOUBLE_COLON","::",263],["T_STRING","SIZE_LETTER",263],";",["T_WHITESPACE","\n                    ",263],["T_BREAK","break",264],";",["T_WHITESPACE","\n                ",264],["T_CASE","case",265],["T_WHITESPACE"," ",265],["T_CONSTANT_ENCAPSED_STRING","'letter-landscape'",265],":",["T_WHITESPACE","\n                    ",265],["T_VARIABLE","$param1",266],["T_WHITESPACE"," ",266],"=",["T_WHITESPACE"," ",266],["T_STRING","Zend_Pdf_Page",266],["T_DOUBLE_COLON","::",266],["T_STRING","SIZE_LETTER_LANDSCAPE",266],";",["T_WHITESPACE","\n                    ",266],["T_BREAK","break",267],";",["T_WHITESPACE","\n                ",267],["T_DEFAULT","default",268],":",["T_WHITESPACE","\n                    ",268],["T_COMMENT","\/\/ should be in \"x:y\" or \"x:y:\" form\n",269],["T_WHITESPACE","            ",270],"}",["T_WHITESPACE","\n\n            ",270],["T_VARIABLE","$pageDim",272],["T_WHITESPACE"," ",272],"=",["T_WHITESPACE"," ",272],["T_STRING","explode",272],"(",["T_CONSTANT_ENCAPSED_STRING","':'",272],",",["T_WHITESPACE"," ",272],["T_VARIABLE","$param1",272],")",";",["T_WHITESPACE","\n            ",272],["T_IF","if",273],"(",["T_STRING","count",273],"(",["T_VARIABLE","$pageDim",273],")",["T_WHITESPACE"," ",273],["T_IS_EQUAL","==",273],["T_WHITESPACE"," ",273],["T_LNUMBER","2",273],["T_WHITESPACE","  ",273],["T_BOOLEAN_OR","||",273],["T_WHITESPACE","  ",273],["T_STRING","count",273],"(",["T_VARIABLE","$pageDim",273],")",["T_WHITESPACE"," ",273],["T_IS_EQUAL","==",273],["T_WHITESPACE"," ",273],["T_LNUMBER","3",273],")",["T_WHITESPACE"," ",273],"{",["T_WHITESPACE","\n                ",273],["T_VARIABLE","$pageWidth",274],["T_WHITESPACE","  ",274],"=",["T_WHITESPACE"," ",274],["T_VARIABLE","$pageDim",274],"[",["T_LNUMBER","0",274],"]",";",["T_WHITESPACE","\n                ",274],["T_VARIABLE","$pageHeight",275],["T_WHITESPACE"," ",275],"=",["T_WHITESPACE"," ",275],["T_VARIABLE","$pageDim",275],"[",["T_LNUMBER","1",275],"]",";",["T_WHITESPACE","\n            ",275],"}",["T_WHITESPACE"," ",276],["T_ELSE","else",276],["T_WHITESPACE"," ",276],"{",["T_WHITESPACE","\n                ",276],["T_DOC_COMMENT","\/**\n                 * @todo support of user defined pagesize notations, like:\n                 *       \"210x297mm\", \"595x842\", \"8.5x11in\", \"612x792\"\n                 *\/",277],["T_WHITESPACE","\n                ",280],["T_COMMENT","#require_once 'Zend\/Pdf\/Exception.php';\n",281],["T_WHITESPACE","                ",282],["T_THROW","throw",282],["T_WHITESPACE"," ",282],["T_NEW","new",282],["T_WHITESPACE"," ",282],["T_STRING","Zend_Pdf_Exception",282],"(",["T_CONSTANT_ENCAPSED_STRING","'Wrong pagesize notation.'",282],")",";",["T_WHITESPACE","\n            ",282],"}",["T_WHITESPACE","\n            ",283],["T_DOC_COMMENT","\/**\n             * @todo support of pagesize recalculation to \"default user space units\"\n             *\/",284],["T_WHITESPACE","\n\n        ",286],"}",["T_WHITESPACE"," ",288],["T_ELSE","else",288],["T_WHITESPACE"," ",288],["T_IF","if",288],["T_WHITESPACE"," ",288],"(",["T_STRING","is_numeric",288],"(",["T_VARIABLE","$param1",288],")",["T_WHITESPACE"," ",288],["T_BOOLEAN_AND","&&",288],["T_WHITESPACE"," ",288],["T_STRING","is_numeric",288],"(",["T_VARIABLE","$param2",288],")",["T_WHITESPACE"," ",288],["T_BOOLEAN_AND","&&",288],["T_WHITESPACE","\n                   ",288],"(",["T_VARIABLE","$param3",289],["T_WHITESPACE"," ",289],["T_IS_IDENTICAL","===",289],["T_WHITESPACE"," ",289],["T_STRING","null",289],["T_WHITESPACE"," ",289],["T_BOOLEAN_OR","||",289],["T_WHITESPACE"," ",289],["T_VARIABLE","$param3",289],["T_WHITESPACE"," ",289],["T_INSTANCEOF","instanceof",289],["T_WHITESPACE"," ",289],["T_STRING","Zend_Pdf_ElementFactory_Interface",289],")",")",["T_WHITESPACE"," ",289],"{",["T_WHITESPACE","\n            ",289],["T_IF","if",290],["T_WHITESPACE"," ",290],"(",["T_VARIABLE","$param3",290],["T_WHITESPACE"," ",290],["T_IS_NOT_IDENTICAL","!==",290],["T_WHITESPACE"," ",290],["T_STRING","null",290],")",["T_WHITESPACE"," ",290],"{",["T_WHITESPACE","\n                ",290],["T_VARIABLE","$this",291],["T_OBJECT_OPERATOR","->",291],["T_STRING","_objFactory",291],["T_WHITESPACE"," ",291],"=",["T_WHITESPACE"," ",291],["T_VARIABLE","$param3",291],";",["T_WHITESPACE","\n            ",291],"}",["T_WHITESPACE"," ",292],["T_ELSE","else",292],["T_WHITESPACE"," ",292],"{",["T_WHITESPACE","\n                ",292],["T_COMMENT","#require_once 'Zend\/Pdf\/ElementFactory.php';\n",293],["T_WHITESPACE","                ",294],["T_VARIABLE","$this",294],["T_OBJECT_OPERATOR","->",294],["T_STRING","_objFactory",294],["T_WHITESPACE"," ",294],"=",["T_WHITESPACE"," ",294],["T_STRING","Zend_Pdf_ElementFactory",294],["T_DOUBLE_COLON","::",294],["T_STRING","createFactory",294],"(",["T_LNUMBER","1",294],")",";",["T_WHITESPACE","\n            ",294],"}",["T_WHITESPACE","\n\n            ",295],["T_VARIABLE","$this",297],["T_OBJECT_OPERATOR","->",297],["T_STRING","_attached",297],["T_WHITESPACE"," ",297],"=",["T_WHITESPACE"," ",297],["T_STRING","false",297],";",["T_WHITESPACE","\n            ",297],["T_VARIABLE","$this",298],["T_OBJECT_OPERATOR","->",298],["T_STRING","_safeGS",298],["T_WHITESPACE","   ",298],"=",["T_WHITESPACE"," ",298],["T_STRING","true",298],";",["T_WHITESPACE"," ",298],["T_DOC_COMMENT","\/** New page created. That's users App responsibility to track GS changes *\/",298],["T_WHITESPACE","\n            ",298],["T_VARIABLE","$pageWidth",299],["T_WHITESPACE","  ",299],"=",["T_WHITESPACE"," ",299],["T_VARIABLE","$param1",299],";",["T_WHITESPACE","\n            ",299],["T_VARIABLE","$pageHeight",300],["T_WHITESPACE"," ",300],"=",["T_WHITESPACE"," ",300],["T_VARIABLE","$param2",300],";",["T_WHITESPACE","\n\n        ",300],"}",["T_WHITESPACE"," ",302],["T_ELSE","else",302],["T_WHITESPACE"," ",302],"{",["T_WHITESPACE","\n            ",302],["T_COMMENT","#require_once 'Zend\/Pdf\/Exception.php';\n",303],["T_WHITESPACE","            ",304],["T_THROW","throw",304],["T_WHITESPACE"," ",304],["T_NEW","new",304],["T_WHITESPACE"," ",304],["T_STRING","Zend_Pdf_Exception",304],"(",["T_CONSTANT_ENCAPSED_STRING","'Unrecognized method signature, wrong number of arguments or wrong argument types.'",304],")",";",["T_WHITESPACE","\n        ",304],"}",["T_WHITESPACE","\n\n        ",305],["T_VARIABLE","$this",307],["T_OBJECT_OPERATOR","->",307],["T_STRING","_dictionary",307],["T_WHITESPACE"," ",307],"=",["T_WHITESPACE"," ",307],["T_VARIABLE","$this",307],["T_OBJECT_OPERATOR","->",307],["T_STRING","_objFactory",307],["T_OBJECT_OPERATOR","->",307],["T_STRING","newObject",307],"(",["T_NEW","new",307],["T_WHITESPACE"," ",307],["T_STRING","Zend_Pdf_Element_Dictionary",307],"(",")",")",";",["T_WHITESPACE","\n        ",307],["T_VARIABLE","$this",308],["T_OBJECT_OPERATOR","->",308],["T_STRING","_dictionary",308],["T_OBJECT_OPERATOR","->",308],["T_STRING","Type",308],["T_WHITESPACE","         ",308],"=",["T_WHITESPACE"," ",308],["T_NEW","new",308],["T_WHITESPACE"," ",308],["T_STRING","Zend_Pdf_Element_Name",308],"(",["T_CONSTANT_ENCAPSED_STRING","'Page'",308],")",";",["T_WHITESPACE","\n        ",308],["T_COMMENT","#require_once 'Zend\/Pdf.php';\n",309],["T_WHITESPACE","        ",310],["T_VARIABLE","$this",310],["T_OBJECT_OPERATOR","->",310],["T_STRING","_dictionary",310],["T_OBJECT_OPERATOR","->",310],["T_STRING","LastModified",310],["T_WHITESPACE"," ",310],"=",["T_WHITESPACE"," ",310],["T_NEW","new",310],["T_WHITESPACE"," ",310],["T_STRING","Zend_Pdf_Element_String",310],"(",["T_STRING","Zend_Pdf",310],["T_DOUBLE_COLON","::",310],["T_STRING","pdfDate",310],"(",")",")",";",["T_WHITESPACE","\n        ",310],["T_VARIABLE","$this",311],["T_OBJECT_OPERATOR","->",311],["T_STRING","_dictionary",311],["T_OBJECT_OPERATOR","->",311],["T_STRING","Resources",311],["T_WHITESPACE","    ",311],"=",["T_WHITESPACE"," ",311],["T_NEW","new",311],["T_WHITESPACE"," ",311],["T_STRING","Zend_Pdf_Element_Dictionary",311],"(",")",";",["T_WHITESPACE","\n        ",311],["T_VARIABLE","$this",312],["T_OBJECT_OPERATOR","->",312],["T_STRING","_dictionary",312],["T_OBJECT_OPERATOR","->",312],["T_STRING","MediaBox",312],["T_WHITESPACE","     ",312],"=",["T_WHITESPACE"," ",312],["T_NEW","new",312],["T_WHITESPACE"," ",312],["T_STRING","Zend_Pdf_Element_Array",312],"(",")",";",["T_WHITESPACE","\n        ",312],["T_VARIABLE","$this",313],["T_OBJECT_OPERATOR","->",313],["T_STRING","_dictionary",313],["T_OBJECT_OPERATOR","->",313],["T_STRING","MediaBox",313],["T_OBJECT_OPERATOR","->",313],["T_STRING","items",313],"[","]",["T_WHITESPACE"," ",313],"=",["T_WHITESPACE"," ",313],["T_NEW","new",313],["T_WHITESPACE"," ",313],["T_STRING","Zend_Pdf_Element_Numeric",313],"(",["T_LNUMBER","0",313],")",";",["T_WHITESPACE","\n        ",313],["T_VARIABLE","$this",314],["T_OBJECT_OPERATOR","->",314],["T_STRING","_dictionary",314],["T_OBJECT_OPERATOR","->",314],["T_STRING","MediaBox",314],["T_OBJECT_OPERATOR","->",314],["T_STRING","items",314],"[","]",["T_WHITESPACE"," ",314],"=",["T_WHITESPACE"," ",314],["T_NEW","new",314],["T_WHITESPACE"," ",314],["T_STRING","Zend_Pdf_Element_Numeric",314],"(",["T_LNUMBER","0",314],")",";",["T_WHITESPACE","\n        ",314],["T_VARIABLE","$this",315],["T_OBJECT_OPERATOR","->",315],["T_STRING","_dictionary",315],["T_OBJECT_OPERATOR","->",315],["T_STRING","MediaBox",315],["T_OBJECT_OPERATOR","->",315],["T_STRING","items",315],"[","]",["T_WHITESPACE"," ",315],"=",["T_WHITESPACE"," ",315],["T_NEW","new",315],["T_WHITESPACE"," ",315],["T_STRING","Zend_Pdf_Element_Numeric",315],"(",["T_VARIABLE","$pageWidth",315],")",";",["T_WHITESPACE","\n        ",315],["T_VARIABLE","$this",316],["T_OBJECT_OPERATOR","->",316],["T_STRING","_dictionary",316],["T_OBJECT_OPERATOR","->",316],["T_STRING","MediaBox",316],["T_OBJECT_OPERATOR","->",316],["T_STRING","items",316],"[","]",["T_WHITESPACE"," ",316],"=",["T_WHITESPACE"," ",316],["T_NEW","new",316],["T_WHITESPACE"," ",316],["T_STRING","Zend_Pdf_Element_Numeric",316],"(",["T_VARIABLE","$pageHeight",316],")",";",["T_WHITESPACE","\n        ",316],["T_VARIABLE","$this",317],["T_OBJECT_OPERATOR","->",317],["T_STRING","_dictionary",317],["T_OBJECT_OPERATOR","->",317],["T_STRING","Contents",317],["T_WHITESPACE","     ",317],"=",["T_WHITESPACE"," ",317],["T_NEW","new",317],["T_WHITESPACE"," ",317],["T_STRING","Zend_Pdf_Element_Array",317],"(",")",";",["T_WHITESPACE","\n    ",317],"}",["T_WHITESPACE","\n\n\n    ",318],["T_DOC_COMMENT","\/**\n     * Attach resource to the canvas\n     *\n     * Method returns a name of the resource which can be used\n     * as a resource reference within drawing instructions stream\n     * Allowed types: 'ExtGState', 'ColorSpace', 'Pattern', 'Shading',\n     * 'XObject', 'Font', 'Properties'\n     *\n     * @param string $type\n     * @param Zend_Pdf_Resource $resource\n     * @return string\n     *\/",321],["T_WHITESPACE","\n    ",332],["T_PROTECTED","protected",333],["T_WHITESPACE"," ",333],["T_FUNCTION","function",333],["T_WHITESPACE"," ",333],["T_STRING","_attachResource",333],"(",["T_VARIABLE","$type",333],",",["T_WHITESPACE"," ",333],["T_STRING","Zend_Pdf_Resource",333],["T_WHITESPACE"," ",333],["T_VARIABLE","$resource",333],")",["T_WHITESPACE","\n    ",333],"{",["T_WHITESPACE","\n        ",334],["T_COMMENT","\/\/ Check that Resources dictionary contains appropriate resource set\n",335],["T_WHITESPACE","        ",336],["T_IF","if",336],["T_WHITESPACE"," ",336],"(",["T_VARIABLE","$this",336],["T_OBJECT_OPERATOR","->",336],["T_STRING","_dictionary",336],["T_OBJECT_OPERATOR","->",336],["T_STRING","Resources",336],["T_OBJECT_OPERATOR","->",336],["T_VARIABLE","$type",336],["T_WHITESPACE"," ",336],["T_IS_IDENTICAL","===",336],["T_WHITESPACE"," ",336],["T_STRING","null",336],")",["T_WHITESPACE"," ",336],"{",["T_WHITESPACE","\n            ",336],["T_VARIABLE","$this",337],["T_OBJECT_OPERATOR","->",337],["T_STRING","_dictionary",337],["T_OBJECT_OPERATOR","->",337],["T_STRING","Resources",337],["T_OBJECT_OPERATOR","->",337],["T_STRING","touch",337],"(",")",";",["T_WHITESPACE","\n            ",337],["T_VARIABLE","$this",338],["T_OBJECT_OPERATOR","->",338],["T_STRING","_dictionary",338],["T_OBJECT_OPERATOR","->",338],["T_STRING","Resources",338],["T_OBJECT_OPERATOR","->",338],["T_VARIABLE","$type",338],["T_WHITESPACE"," ",338],"=",["T_WHITESPACE"," ",338],["T_NEW","new",338],["T_WHITESPACE"," ",338],["T_STRING","Zend_Pdf_Element_Dictionary",338],"(",")",";",["T_WHITESPACE","\n        ",338],"}",["T_WHITESPACE"," ",339],["T_ELSE","else",339],["T_WHITESPACE"," ",339],"{",["T_WHITESPACE","\n            ",339],["T_VARIABLE","$this",340],["T_OBJECT_OPERATOR","->",340],["T_STRING","_dictionary",340],["T_OBJECT_OPERATOR","->",340],["T_STRING","Resources",340],["T_OBJECT_OPERATOR","->",340],["T_VARIABLE","$type",340],["T_OBJECT_OPERATOR","->",340],["T_STRING","touch",340],"(",")",";",["T_WHITESPACE","\n        ",340],"}",["T_WHITESPACE","\n\n        ",341],["T_COMMENT","\/\/ Check, that resource is already attached to resource set.\n",343],["T_WHITESPACE","        ",344],["T_VARIABLE","$resObject",344],["T_WHITESPACE"," ",344],"=",["T_WHITESPACE"," ",344],["T_VARIABLE","$resource",344],["T_OBJECT_OPERATOR","->",344],["T_STRING","getResource",344],"(",")",";",["T_WHITESPACE","\n        ",344],["T_FOREACH","foreach",345],["T_WHITESPACE"," ",345],"(",["T_VARIABLE","$this",345],["T_OBJECT_OPERATOR","->",345],["T_STRING","_dictionary",345],["T_OBJECT_OPERATOR","->",345],["T_STRING","Resources",345],["T_OBJECT_OPERATOR","->",345],["T_VARIABLE","$type",345],["T_OBJECT_OPERATOR","->",345],["T_STRING","getKeys",345],"(",")",["T_WHITESPACE"," ",345],["T_AS","as",345],["T_WHITESPACE"," ",345],["T_VARIABLE","$ResID",345],")",["T_WHITESPACE"," ",345],"{",["T_WHITESPACE","\n            ",345],["T_IF","if",346],["T_WHITESPACE"," ",346],"(",["T_VARIABLE","$this",346],["T_OBJECT_OPERATOR","->",346],["T_STRING","_dictionary",346],["T_OBJECT_OPERATOR","->",346],["T_STRING","Resources",346],["T_OBJECT_OPERATOR","->",346],["T_VARIABLE","$type",346],["T_OBJECT_OPERATOR","->",346],["T_VARIABLE","$ResID",346],["T_WHITESPACE"," ",346],["T_IS_IDENTICAL","===",346],["T_WHITESPACE"," ",346],["T_VARIABLE","$resObject",346],")",["T_WHITESPACE"," ",346],"{",["T_WHITESPACE","\n                ",346],["T_RETURN","return",347],["T_WHITESPACE"," ",347],["T_VARIABLE","$ResID",347],";",["T_WHITESPACE","\n            ",347],"}",["T_WHITESPACE","\n        ",348],"}",["T_WHITESPACE","\n\n        ",349],["T_VARIABLE","$idCounter",351],["T_WHITESPACE"," ",351],"=",["T_WHITESPACE"," ",351],["T_LNUMBER","1",351],";",["T_WHITESPACE","\n        ",351],["T_DO","do",352],["T_WHITESPACE"," ",352],"{",["T_WHITESPACE","\n            ",352],["T_VARIABLE","$newResName",353],["T_WHITESPACE"," ",353],"=",["T_WHITESPACE"," ",353],["T_VARIABLE","$type",353],"[",["T_LNUMBER","0",353],"]",["T_WHITESPACE"," ",353],".",["T_WHITESPACE"," ",353],["T_VARIABLE","$idCounter",353],["T_INC","++",353],";",["T_WHITESPACE","\n        ",353],"}",["T_WHITESPACE"," ",354],["T_WHILE","while",354],["T_WHITESPACE"," ",354],"(",["T_VARIABLE","$this",354],["T_OBJECT_OPERATOR","->",354],["T_STRING","_dictionary",354],["T_OBJECT_OPERATOR","->",354],["T_STRING","Resources",354],["T_OBJECT_OPERATOR","->",354],["T_VARIABLE","$type",354],["T_OBJECT_OPERATOR","->",354],["T_VARIABLE","$newResName",354],["T_WHITESPACE"," ",354],["T_IS_NOT_IDENTICAL","!==",354],["T_WHITESPACE"," ",354],["T_STRING","null",354],")",";",["T_WHITESPACE","\n\n        ",354],["T_VARIABLE","$this",356],["T_OBJECT_OPERATOR","->",356],["T_STRING","_dictionary",356],["T_OBJECT_OPERATOR","->",356],["T_STRING","Resources",356],["T_OBJECT_OPERATOR","->",356],["T_VARIABLE","$type",356],["T_OBJECT_OPERATOR","->",356],["T_VARIABLE","$newResName",356],["T_WHITESPACE"," ",356],"=",["T_WHITESPACE"," ",356],["T_VARIABLE","$resObject",356],";",["T_WHITESPACE","\n        ",356],["T_VARIABLE","$this",357],["T_OBJECT_OPERATOR","->",357],["T_STRING","_objFactory",357],["T_OBJECT_OPERATOR","->",357],["T_STRING","attach",357],"(",["T_VARIABLE","$resource",357],["T_OBJECT_OPERATOR","->",357],["T_STRING","getFactory",357],"(",")",")",";",["T_WHITESPACE","\n\n        ",357],["T_RETURN","return",359],["T_WHITESPACE"," ",359],["T_VARIABLE","$newResName",359],";",["T_WHITESPACE","\n    ",359],"}",["T_WHITESPACE","\n\n    ",360],["T_DOC_COMMENT","\/**\n     * Add procedureSet to the Page description\n     *\n     * @param string $procSetName\n     *\/",362],["T_WHITESPACE","\n    ",366],["T_PROTECTED","protected",367],["T_WHITESPACE"," ",367],["T_FUNCTION","function",367],["T_WHITESPACE"," ",367],["T_STRING","_addProcSet",367],"(",["T_VARIABLE","$procSetName",367],")",["T_WHITESPACE","\n    ",367],"{",["T_WHITESPACE","\n        ",368],["T_COMMENT","\/\/ Check that Resources dictionary contains ProcSet entry\n",369],["T_WHITESPACE","        ",370],["T_IF","if",370],["T_WHITESPACE"," ",370],"(",["T_VARIABLE","$this",370],["T_OBJECT_OPERATOR","->",370],["T_STRING","_dictionary",370],["T_OBJECT_OPERATOR","->",370],["T_STRING","Resources",370],["T_OBJECT_OPERATOR","->",370],["T_STRING","ProcSet",370],["T_WHITESPACE"," ",370],["T_IS_IDENTICAL","===",370],["T_WHITESPACE"," ",370],["T_STRING","null",370],")",["T_WHITESPACE"," ",370],"{",["T_WHITESPACE","\n            ",370],["T_VARIABLE","$this",371],["T_OBJECT_OPERATOR","->",371],["T_STRING","_dictionary",371],["T_OBJECT_OPERATOR","->",371],["T_STRING","Resources",371],["T_OBJECT_OPERATOR","->",371],["T_STRING","touch",371],"(",")",";",["T_WHITESPACE","\n            ",371],["T_VARIABLE","$this",372],["T_OBJECT_OPERATOR","->",372],["T_STRING","_dictionary",372],["T_OBJECT_OPERATOR","->",372],["T_STRING","Resources",372],["T_OBJECT_OPERATOR","->",372],["T_STRING","ProcSet",372],["T_WHITESPACE"," ",372],"=",["T_WHITESPACE"," ",372],["T_NEW","new",372],["T_WHITESPACE"," ",372],["T_STRING","Zend_Pdf_Element_Array",372],"(",")",";",["T_WHITESPACE","\n        ",372],"}",["T_WHITESPACE"," ",373],["T_ELSE","else",373],["T_WHITESPACE"," ",373],"{",["T_WHITESPACE","\n            ",373],["T_VARIABLE","$this",374],["T_OBJECT_OPERATOR","->",374],["T_STRING","_dictionary",374],["T_OBJECT_OPERATOR","->",374],["T_STRING","Resources",374],["T_OBJECT_OPERATOR","->",374],["T_STRING","ProcSet",374],["T_OBJECT_OPERATOR","->",374],["T_STRING","touch",374],"(",")",";",["T_WHITESPACE","\n        ",374],"}",["T_WHITESPACE","\n\n        ",375],["T_FOREACH","foreach",377],["T_WHITESPACE"," ",377],"(",["T_VARIABLE","$this",377],["T_OBJECT_OPERATOR","->",377],["T_STRING","_dictionary",377],["T_OBJECT_OPERATOR","->",377],["T_STRING","Resources",377],["T_OBJECT_OPERATOR","->",377],["T_STRING","ProcSet",377],["T_OBJECT_OPERATOR","->",377],["T_STRING","items",377],["T_WHITESPACE"," ",377],["T_AS","as",377],["T_WHITESPACE"," ",377],["T_VARIABLE","$procSetEntry",377],")",["T_WHITESPACE"," ",377],"{",["T_WHITESPACE","\n            ",377],["T_IF","if",378],["T_WHITESPACE"," ",378],"(",["T_VARIABLE","$procSetEntry",378],["T_OBJECT_OPERATOR","->",378],["T_STRING","value",378],["T_WHITESPACE"," ",378],["T_IS_EQUAL","==",378],["T_WHITESPACE"," ",378],["T_VARIABLE","$procSetName",378],")",["T_WHITESPACE"," ",378],"{",["T_WHITESPACE","\n                ",378],["T_COMMENT","\/\/ Procset is already included into a ProcSet array\n",379],["T_WHITESPACE","                ",380],["T_RETURN","return",380],";",["T_WHITESPACE","\n            ",380],"}",["T_WHITESPACE","\n        ",381],"}",["T_WHITESPACE","\n\n        ",382],["T_VARIABLE","$this",384],["T_OBJECT_OPERATOR","->",384],["T_STRING","_dictionary",384],["T_OBJECT_OPERATOR","->",384],["T_STRING","Resources",384],["T_OBJECT_OPERATOR","->",384],["T_STRING","ProcSet",384],["T_OBJECT_OPERATOR","->",384],["T_STRING","items",384],"[","]",["T_WHITESPACE"," ",384],"=",["T_WHITESPACE"," ",384],["T_NEW","new",384],["T_WHITESPACE"," ",384],["T_STRING","Zend_Pdf_Element_Name",384],"(",["T_VARIABLE","$procSetName",384],")",";",["T_WHITESPACE","\n    ",384],"}",["T_WHITESPACE","\n\n    ",385],["T_DOC_COMMENT","\/**\n     * Returns dictionaries of used resources.\n     *\n     * Used for canvas implementations interoperability\n     *\n     * Structure of the returned array:\n     * array(\n     *   <resTypeName> => array(\n     *                      <resName> => <Zend_Pdf_Resource object>,\n     *                      <resName> => <Zend_Pdf_Resource object>,\n     *                      <resName> => <Zend_Pdf_Resource object>,\n     *                      ...\n     *                    ),\n     *   <resTypeName> => array(\n     *                      <resName> => <Zend_Pdf_Resource object>,\n     *                      <resName> => <Zend_Pdf_Resource object>,\n     *                      <resName> => <Zend_Pdf_Resource object>,\n     *                      ...\n     *                    ),\n     *   ...\n     *   'ProcSet' => array()\n     * )\n     *\n     * where ProcSet array is a list of used procedure sets names (strings).\n     * Allowed procedure set names: 'PDF', 'Text', 'ImageB', 'ImageC', 'ImageI'\n     *\n     * @internal\n     * @return array\n     *\/",387],["T_WHITESPACE","\n    ",415],["T_PUBLIC","public",416],["T_WHITESPACE"," ",416],["T_FUNCTION","function",416],["T_WHITESPACE"," ",416],["T_STRING","getResources",416],"(",")",["T_WHITESPACE","\n    ",416],"{",["T_WHITESPACE","\n        ",417],["T_VARIABLE","$resources",418],["T_WHITESPACE"," ",418],"=",["T_WHITESPACE"," ",418],["T_ARRAY","array",418],"(",")",";",["T_WHITESPACE","\n        ",418],["T_VARIABLE","$resDictionary",419],["T_WHITESPACE"," ",419],"=",["T_WHITESPACE"," ",419],["T_VARIABLE","$this",419],["T_OBJECT_OPERATOR","->",419],["T_STRING","_dictionary",419],["T_OBJECT_OPERATOR","->",419],["T_STRING","Resources",419],";",["T_WHITESPACE","\n\n        ",419],["T_FOREACH","foreach",421],["T_WHITESPACE"," ",421],"(",["T_VARIABLE","$resDictionary",421],["T_OBJECT_OPERATOR","->",421],["T_STRING","getKeys",421],"(",")",["T_WHITESPACE"," ",421],["T_AS","as",421],["T_WHITESPACE"," ",421],["T_VARIABLE","$resType",421],")",["T_WHITESPACE"," ",421],"{",["T_WHITESPACE","\n            ",421],["T_VARIABLE","$resources",422],"[",["T_VARIABLE","$resType",422],"]",["T_WHITESPACE"," ",422],"=",["T_WHITESPACE"," ",422],["T_ARRAY","array",422],"(",")",";",["T_WHITESPACE","\n\n            ",422],["T_IF","if",424],["T_WHITESPACE"," ",424],"(",["T_VARIABLE","$resType",424],["T_WHITESPACE"," ",424],["T_IS_EQUAL","==",424],["T_WHITESPACE"," ",424],["T_CONSTANT_ENCAPSED_STRING","'ProcSet'",424],")",["T_WHITESPACE"," ",424],"{",["T_WHITESPACE","\n                ",424],["T_FOREACH","foreach",425],["T_WHITESPACE"," ",425],"(",["T_VARIABLE","$resDictionary",425],["T_OBJECT_OPERATOR","->",425],["T_STRING","ProcSet",425],["T_OBJECT_OPERATOR","->",425],["T_STRING","items",425],["T_WHITESPACE"," ",425],["T_AS","as",425],["T_WHITESPACE"," ",425],["T_VARIABLE","$procSetEntry",425],")",["T_WHITESPACE"," ",425],"{",["T_WHITESPACE","\n                    ",425],["T_VARIABLE","$resources",426],"[",["T_VARIABLE","$resType",426],"]","[","]",["T_WHITESPACE"," ",426],"=",["T_WHITESPACE"," ",426],["T_VARIABLE","$procSetEntry",426],["T_OBJECT_OPERATOR","->",426],["T_STRING","value",426],";",["T_WHITESPACE","\n                ",426],"}",["T_WHITESPACE","\n            ",427],"}",["T_WHITESPACE"," ",428],["T_ELSE","else",428],["T_WHITESPACE"," ",428],"{",["T_WHITESPACE","\n                ",428],["T_VARIABLE","$resMap",429],["T_WHITESPACE"," ",429],"=",["T_WHITESPACE"," ",429],["T_VARIABLE","$resDictionary",429],["T_OBJECT_OPERATOR","->",429],["T_VARIABLE","$resType",429],";",["T_WHITESPACE","\n\n                ",429],["T_FOREACH","foreach",431],["T_WHITESPACE"," ",431],"(",["T_VARIABLE","$resMap",431],["T_OBJECT_OPERATOR","->",431],["T_STRING","getKeys",431],"(",")",["T_WHITESPACE"," ",431],["T_AS","as",431],["T_WHITESPACE"," ",431],["T_VARIABLE","$resId",431],")",["T_WHITESPACE"," ",431],"{",["T_WHITESPACE","\n                    ",431],["T_VARIABLE","$resources",432],"[",["T_VARIABLE","$resType",432],"]","[",["T_VARIABLE","$resId",432],"]",["T_WHITESPACE"," ",432],"=",["T_NEW","new",432],["T_WHITESPACE"," ",432],["T_STRING","Zend_Pdf_Resource_Unified",432],"(",["T_VARIABLE","$resMap",432],["T_OBJECT_OPERATOR","->",432],["T_VARIABLE","$resId",432],")",";",["T_WHITESPACE","\n                ",432],"}",["T_WHITESPACE","\n            ",433],"}",["T_WHITESPACE","\n        ",434],"}",["T_WHITESPACE","\n\n        ",435],["T_RETURN","return",437],["T_WHITESPACE"," ",437],["T_VARIABLE","$resources",437],";",["T_WHITESPACE","\n    ",437],"}",["T_WHITESPACE","\n\n    ",438],["T_DOC_COMMENT","\/**\n     * Get drawing instructions stream\n     *\n     * It has to be returned as a PDF stream object to make it reusable.\n     *\n     * @internal\n     * @returns Zend_Pdf_Resource_ContentStream\n     *\/",440],["T_WHITESPACE","\n    ",447],["T_PUBLIC","public",448],["T_WHITESPACE"," ",448],["T_FUNCTION","function",448],["T_WHITESPACE"," ",448],["T_STRING","getContents",448],"(",")",["T_WHITESPACE","\n    ",448],"{",["T_WHITESPACE","\n        ",449],["T_DOC_COMMENT","\/** @todo implementation *\/",450],["T_WHITESPACE","\n    ",450],"}",["T_WHITESPACE","\n\n    ",451],["T_DOC_COMMENT","\/**\n     * Return the height of this page in points.\n     *\n     * @return float\n     *\/",453],["T_WHITESPACE","\n    ",457],["T_PUBLIC","public",458],["T_WHITESPACE"," ",458],["T_FUNCTION","function",458],["T_WHITESPACE"," ",458],["T_STRING","getHeight",458],"(",")",["T_WHITESPACE","\n    ",458],"{",["T_WHITESPACE","\n        ",459],["T_RETURN","return",460],["T_WHITESPACE"," ",460],["T_VARIABLE","$this",460],["T_OBJECT_OPERATOR","->",460],["T_STRING","_dictionary",460],["T_OBJECT_OPERATOR","->",460],["T_STRING","MediaBox",460],["T_OBJECT_OPERATOR","->",460],["T_STRING","items",460],"[",["T_LNUMBER","3",460],"]",["T_OBJECT_OPERATOR","->",460],["T_STRING","value",460],["T_WHITESPACE"," ",460],"-",["T_WHITESPACE","\n               ",460],["T_VARIABLE","$this",461],["T_OBJECT_OPERATOR","->",461],["T_STRING","_dictionary",461],["T_OBJECT_OPERATOR","->",461],["T_STRING","MediaBox",461],["T_OBJECT_OPERATOR","->",461],["T_STRING","items",461],"[",["T_LNUMBER","1",461],"]",["T_OBJECT_OPERATOR","->",461],["T_STRING","value",461],";",["T_WHITESPACE","\n    ",461],"}",["T_WHITESPACE","\n\n    ",462],["T_DOC_COMMENT","\/**\n     * Return the width of this page in points.\n     *\n     * @return float\n     *\/",464],["T_WHITESPACE","\n    ",468],["T_PUBLIC","public",469],["T_WHITESPACE"," ",469],["T_FUNCTION","function",469],["T_WHITESPACE"," ",469],["T_STRING","getWidth",469],"(",")",["T_WHITESPACE","\n    ",469],"{",["T_WHITESPACE","\n        ",470],["T_RETURN","return",471],["T_WHITESPACE"," ",471],["T_VARIABLE","$this",471],["T_OBJECT_OPERATOR","->",471],["T_STRING","_dictionary",471],["T_OBJECT_OPERATOR","->",471],["T_STRING","MediaBox",471],["T_OBJECT_OPERATOR","->",471],["T_STRING","items",471],"[",["T_LNUMBER","2",471],"]",["T_OBJECT_OPERATOR","->",471],["T_STRING","value",471],["T_WHITESPACE"," ",471],"-",["T_WHITESPACE","\n               ",471],["T_VARIABLE","$this",472],["T_OBJECT_OPERATOR","->",472],["T_STRING","_dictionary",472],["T_OBJECT_OPERATOR","->",472],["T_STRING","MediaBox",472],["T_OBJECT_OPERATOR","->",472],["T_STRING","items",472],"[",["T_LNUMBER","0",472],"]",["T_OBJECT_OPERATOR","->",472],["T_STRING","value",472],";",["T_WHITESPACE","\n    ",472],"}",["T_WHITESPACE","\n\n    ",473],["T_DOC_COMMENT","\/**\n     * Clone page, extract it and dependent objects from the current document,\n     * so it can be used within other docs.\n     *\/",475],["T_WHITESPACE","\n    ",478],["T_PUBLIC","public",479],["T_WHITESPACE"," ",479],["T_FUNCTION","function",479],["T_WHITESPACE"," ",479],["T_STRING","__clone",479],"(",")",["T_WHITESPACE","\n    ",479],"{",["T_WHITESPACE","\n        ",480],["T_VARIABLE","$factory",481],["T_WHITESPACE"," ",481],"=",["T_WHITESPACE"," ",481],["T_STRING","Zend_Pdf_ElementFactory",481],["T_DOUBLE_COLON","::",481],["T_STRING","createFactory",481],"(",["T_LNUMBER","1",481],")",";",["T_WHITESPACE","\n        ",481],["T_VARIABLE","$processed",482],["T_WHITESPACE"," ",482],"=",["T_WHITESPACE"," ",482],["T_ARRAY","array",482],"(",")",";",["T_WHITESPACE","\n\n        ",482],["T_COMMENT","\/\/ Clone dictionary object.\n",484],["T_WHITESPACE","        ",485],["T_COMMENT","\/\/ Do it explicitly to prevent sharing page attributes between different\n",485],["T_WHITESPACE","        ",486],["T_COMMENT","\/\/ results of clonePage() operation (other resources are still shared)\n",486],["T_WHITESPACE","        ",487],["T_VARIABLE","$dictionary",487],["T_WHITESPACE"," ",487],"=",["T_WHITESPACE"," ",487],["T_NEW","new",487],["T_WHITESPACE"," ",487],["T_STRING","Zend_Pdf_Element_Dictionary",487],"(",")",";",["T_WHITESPACE","\n        ",487],["T_FOREACH","foreach",488],["T_WHITESPACE"," ",488],"(",["T_VARIABLE","$this",488],["T_OBJECT_OPERATOR","->",488],["T_STRING","_dictionary",488],["T_OBJECT_OPERATOR","->",488],["T_STRING","getKeys",488],"(",")",["T_WHITESPACE"," ",488],["T_AS","as",488],["T_WHITESPACE"," ",488],["T_VARIABLE","$key",488],")",["T_WHITESPACE"," ",488],"{",["T_WHITESPACE","\n            ",488],["T_VARIABLE","$dictionary",489],["T_OBJECT_OPERATOR","->",489],["T_VARIABLE","$key",489],["T_WHITESPACE"," ",489],"=",["T_WHITESPACE"," ",489],["T_VARIABLE","$this",489],["T_OBJECT_OPERATOR","->",489],["T_STRING","_dictionary",489],["T_OBJECT_OPERATOR","->",489],["T_VARIABLE","$key",489],["T_OBJECT_OPERATOR","->",489],["T_STRING","makeClone",489],"(",["T_VARIABLE","$factory",489],["T_OBJECT_OPERATOR","->",489],["T_STRING","getFactory",489],"(",")",",",["T_WHITESPACE","\n                                                                        ",489],["T_VARIABLE","$processed",490],",",["T_WHITESPACE","\n                                                                        ",490],["T_STRING","Zend_Pdf_Element",491],["T_DOUBLE_COLON","::",491],["T_STRING","CLONE_MODE_SKIP_PAGES",491],")",";",["T_WHITESPACE","\n        ",491],"}",["T_WHITESPACE","\n\n        ",492],["T_VARIABLE","$this",494],["T_OBJECT_OPERATOR","->",494],["T_STRING","_dictionary",494],["T_WHITESPACE"," ",494],"=",["T_WHITESPACE"," ",494],["T_VARIABLE","$factory",494],["T_OBJECT_OPERATOR","->",494],["T_STRING","newObject",494],"(",["T_VARIABLE","$dictionary",494],")",";",["T_WHITESPACE","\n        ",494],["T_VARIABLE","$this",495],["T_OBJECT_OPERATOR","->",495],["T_STRING","_objFactory",495],["T_WHITESPACE","     ",495],"=",["T_WHITESPACE"," ",495],["T_VARIABLE","$factory",495],";",["T_WHITESPACE","\n        ",495],["T_VARIABLE","$this",496],["T_OBJECT_OPERATOR","->",496],["T_STRING","_attached",496],["T_WHITESPACE","       ",496],"=",["T_WHITESPACE"," ",496],["T_STRING","false",496],";",["T_WHITESPACE","\n        ",496],["T_VARIABLE","$this",497],["T_OBJECT_OPERATOR","->",497],["T_STRING","_style",497],["T_WHITESPACE","          ",497],"=",["T_WHITESPACE"," ",497],["T_STRING","null",497],";",["T_WHITESPACE","\n        ",497],["T_VARIABLE","$this",498],["T_OBJECT_OPERATOR","->",498],["T_STRING","_font",498],["T_WHITESPACE","           ",498],"=",["T_WHITESPACE"," ",498],["T_STRING","null",498],";",["T_WHITESPACE","\n    ",498],"}",["T_WHITESPACE","\n\n    ",499],["T_DOC_COMMENT","\/**\n     * Clone page, extract it and dependent objects from the current document,\n     * so it can be used within other docs.\n     *\n     * @internal\n     * @param Zend_Pdf_ElementFactory_Interface $factory\n     * @param array $processed\n     * @return Zend_Pdf_Page\n     *\/",501],["T_WHITESPACE","\n    ",509],["T_PUBLIC","public",510],["T_WHITESPACE"," ",510],["T_FUNCTION","function",510],["T_WHITESPACE"," ",510],["T_STRING","clonePage",510],"(",["T_VARIABLE","$factory",510],",",["T_WHITESPACE"," ",510],"&",["T_VARIABLE","$processed",510],")",["T_WHITESPACE","\n    ",510],"{",["T_WHITESPACE","\n        ",511],["T_COMMENT","\/\/ Clone dictionary object.\n",512],["T_WHITESPACE","        ",513],["T_COMMENT","\/\/ Do it explicitly to prevent sharing page attributes between different\n",513],["T_WHITESPACE","        ",514],["T_COMMENT","\/\/ results of clonePage() operation (other resources are still shared)\n",514],["T_WHITESPACE","        ",515],["T_VARIABLE","$dictionary",515],["T_WHITESPACE"," ",515],"=",["T_WHITESPACE"," ",515],["T_NEW","new",515],["T_WHITESPACE"," ",515],["T_STRING","Zend_Pdf_Element_Dictionary",515],"(",")",";",["T_WHITESPACE","\n        ",515],["T_FOREACH","foreach",516],["T_WHITESPACE"," ",516],"(",["T_VARIABLE","$this",516],["T_OBJECT_OPERATOR","->",516],["T_STRING","_dictionary",516],["T_OBJECT_OPERATOR","->",516],["T_STRING","getKeys",516],"(",")",["T_WHITESPACE"," ",516],["T_AS","as",516],["T_WHITESPACE"," ",516],["T_VARIABLE","$key",516],")",["T_WHITESPACE"," ",516],"{",["T_WHITESPACE","\n            ",516],["T_VARIABLE","$dictionary",517],["T_OBJECT_OPERATOR","->",517],["T_VARIABLE","$key",517],["T_WHITESPACE"," ",517],"=",["T_WHITESPACE"," ",517],["T_VARIABLE","$this",517],["T_OBJECT_OPERATOR","->",517],["T_STRING","_dictionary",517],["T_OBJECT_OPERATOR","->",517],["T_VARIABLE","$key",517],["T_OBJECT_OPERATOR","->",517],["T_STRING","makeClone",517],"(",["T_VARIABLE","$factory",517],["T_OBJECT_OPERATOR","->",517],["T_STRING","getFactory",517],"(",")",",",["T_WHITESPACE","\n                                                                        ",517],["T_VARIABLE","$processed",518],",",["T_WHITESPACE","\n                                                                        ",518],["T_STRING","Zend_Pdf_Element",519],["T_DOUBLE_COLON","::",519],["T_STRING","CLONE_MODE_SKIP_PAGES",519],")",";",["T_WHITESPACE","\n        ",519],"}",["T_WHITESPACE","\n\n        ",520],["T_VARIABLE","$clonedPage",522],["T_WHITESPACE"," ",522],"=",["T_WHITESPACE"," ",522],["T_NEW","new",522],["T_WHITESPACE"," ",522],["T_STRING","Zend_Pdf_Page",522],"(",["T_VARIABLE","$factory",522],["T_OBJECT_OPERATOR","->",522],["T_STRING","newObject",522],"(",["T_VARIABLE","$dictionary",522],")",",",["T_WHITESPACE"," ",522],["T_VARIABLE","$factory",522],")",";",["T_WHITESPACE","\n        ",522],["T_VARIABLE","$clonedPage",523],["T_OBJECT_OPERATOR","->",523],["T_STRING","_attached",523],["T_WHITESPACE"," ",523],"=",["T_WHITESPACE"," ",523],["T_STRING","false",523],";",["T_WHITESPACE","\n\n        ",523],["T_RETURN","return",525],["T_WHITESPACE"," ",525],["T_VARIABLE","$clonedPage",525],";",["T_WHITESPACE","\n    ",525],"}",["T_WHITESPACE","\n\n    ",526],["T_DOC_COMMENT","\/**\n     * Retrive PDF file reference to the page\n     *\n     * @internal\n     * @return Zend_Pdf_Element_Dictionary\n     *\/",528],["T_WHITESPACE","\n    ",533],["T_PUBLIC","public",534],["T_WHITESPACE"," ",534],["T_FUNCTION","function",534],["T_WHITESPACE"," ",534],["T_STRING","getPageDictionary",534],"(",")",["T_WHITESPACE","\n    ",534],"{",["T_WHITESPACE","\n        ",535],["T_RETURN","return",536],["T_WHITESPACE"," ",536],["T_VARIABLE","$this",536],["T_OBJECT_OPERATOR","->",536],["T_STRING","_dictionary",536],";",["T_WHITESPACE","\n    ",536],"}",["T_WHITESPACE","\n\n    ",537],["T_DOC_COMMENT","\/**\n     * Dump current drawing instructions into the content stream.\n     *\n     * @todo Don't forget to close all current graphics operations (like path drawing)\n     *\n     * @throws Zend_Pdf_Exception\n     *\/",539],["T_WHITESPACE","\n    ",545],["T_PUBLIC","public",546],["T_WHITESPACE"," ",546],["T_FUNCTION","function",546],["T_WHITESPACE"," ",546],["T_STRING","flush",546],"(",")",["T_WHITESPACE","\n    ",546],"{",["T_WHITESPACE","\n        ",547],["T_IF","if",548],["T_WHITESPACE"," ",548],"(",["T_VARIABLE","$this",548],["T_OBJECT_OPERATOR","->",548],["T_STRING","_saveCount",548],["T_WHITESPACE"," ",548],["T_IS_NOT_EQUAL","!=",548],["T_WHITESPACE"," ",548],["T_LNUMBER","0",548],")",["T_WHITESPACE"," ",548],"{",["T_WHITESPACE","\n            ",548],["T_COMMENT","#require_once 'Zend\/Pdf\/Exception.php';\n",549],["T_WHITESPACE","            ",550],["T_THROW","throw",550],["T_WHITESPACE"," ",550],["T_NEW","new",550],["T_WHITESPACE"," ",550],["T_STRING","Zend_Pdf_Exception",550],"(",["T_CONSTANT_ENCAPSED_STRING","'Saved graphics state is not restored'",550],")",";",["T_WHITESPACE","\n        ",550],"}",["T_WHITESPACE","\n\n        ",551],["T_IF","if",553],["T_WHITESPACE"," ",553],"(",["T_VARIABLE","$this",553],["T_OBJECT_OPERATOR","->",553],["T_STRING","_contents",553],["T_WHITESPACE"," ",553],["T_IS_EQUAL","==",553],["T_WHITESPACE"," ",553],["T_CONSTANT_ENCAPSED_STRING","''",553],")",["T_WHITESPACE"," ",553],"{",["T_WHITESPACE","\n            ",553],["T_RETURN","return",554],";",["T_WHITESPACE","\n        ",554],"}",["T_WHITESPACE","\n\n        ",555],["T_IF","if",557],["T_WHITESPACE"," ",557],"(",["T_VARIABLE","$this",557],["T_OBJECT_OPERATOR","->",557],["T_STRING","_dictionary",557],["T_OBJECT_OPERATOR","->",557],["T_STRING","Contents",557],["T_OBJECT_OPERATOR","->",557],["T_STRING","getType",557],"(",")",["T_WHITESPACE"," ",557],["T_IS_NOT_EQUAL","!=",557],["T_WHITESPACE"," ",557],["T_STRING","Zend_Pdf_Element",557],["T_DOUBLE_COLON","::",557],["T_STRING","TYPE_ARRAY",557],")",["T_WHITESPACE"," ",557],"{",["T_WHITESPACE","\n            ",557],["T_DOC_COMMENT","\/**\n             * It's a stream object.\n             * Prepare Contents page attribute for update.\n             *\/",558],["T_WHITESPACE","\n            ",561],["T_VARIABLE","$this",562],["T_OBJECT_OPERATOR","->",562],["T_STRING","_dictionary",562],["T_OBJECT_OPERATOR","->",562],["T_STRING","touch",562],"(",")",";",["T_WHITESPACE","\n\n            ",562],["T_VARIABLE","$currentPageContents",564],["T_WHITESPACE"," ",564],"=",["T_WHITESPACE"," ",564],["T_VARIABLE","$this",564],["T_OBJECT_OPERATOR","->",564],["T_STRING","_dictionary",564],["T_OBJECT_OPERATOR","->",564],["T_STRING","Contents",564],";",["T_WHITESPACE","\n            ",564],["T_VARIABLE","$this",565],["T_OBJECT_OPERATOR","->",565],["T_STRING","_dictionary",565],["T_OBJECT_OPERATOR","->",565],["T_STRING","Contents",565],["T_WHITESPACE"," ",565],"=",["T_WHITESPACE"," ",565],["T_NEW","new",565],["T_WHITESPACE"," ",565],["T_STRING","Zend_Pdf_Element_Array",565],"(",")",";",["T_WHITESPACE","\n            ",565],["T_VARIABLE","$this",566],["T_OBJECT_OPERATOR","->",566],["T_STRING","_dictionary",566],["T_OBJECT_OPERATOR","->",566],["T_STRING","Contents",566],["T_OBJECT_OPERATOR","->",566],["T_STRING","items",566],"[","]",["T_WHITESPACE"," ",566],"=",["T_WHITESPACE"," ",566],["T_VARIABLE","$currentPageContents",566],";",["T_WHITESPACE","\n        ",566],"}",["T_WHITESPACE"," ",567],["T_ELSE","else",567],["T_WHITESPACE"," ",567],"{",["T_WHITESPACE","\n            ",567],["T_VARIABLE","$this",568],["T_OBJECT_OPERATOR","->",568],["T_STRING","_dictionary",568],["T_OBJECT_OPERATOR","->",568],["T_STRING","Contents",568],["T_OBJECT_OPERATOR","->",568],["T_STRING","touch",568],"(",")",";",["T_WHITESPACE","\n        ",568],"}",["T_WHITESPACE","\n\n        ",569],["T_IF","if",571],["T_WHITESPACE"," ",571],"(","(","!",["T_VARIABLE","$this",571],["T_OBJECT_OPERATOR","->",571],["T_STRING","_safeGS",571],")",["T_WHITESPACE","  ",571],["T_BOOLEAN_AND","&&",571],["T_WHITESPACE","  ",571],"(",["T_STRING","count",571],"(",["T_VARIABLE","$this",571],["T_OBJECT_OPERATOR","->",571],["T_STRING","_dictionary",571],["T_OBJECT_OPERATOR","->",571],["T_STRING","Contents",571],["T_OBJECT_OPERATOR","->",571],["T_STRING","items",571],")",["T_WHITESPACE"," ",571],["T_IS_NOT_EQUAL","!=",571],["T_WHITESPACE"," ",571],["T_LNUMBER","0",571],")",")",["T_WHITESPACE"," ",571],"{",["T_WHITESPACE","\n            ",571],["T_DOC_COMMENT","\/**\n             * Page already has some content which is not treated as safe.\n             *\n             * Add save\/restore GS operators\n             *\/",572],["T_WHITESPACE","\n            ",576],["T_VARIABLE","$this",577],["T_OBJECT_OPERATOR","->",577],["T_STRING","_addProcSet",577],"(",["T_CONSTANT_ENCAPSED_STRING","'PDF'",577],")",";",["T_WHITESPACE","\n\n            ",577],["T_VARIABLE","$newContentsArray",579],["T_WHITESPACE"," ",579],"=",["T_WHITESPACE"," ",579],["T_NEW","new",579],["T_WHITESPACE"," ",579],["T_STRING","Zend_Pdf_Element_Array",579],"(",")",";",["T_WHITESPACE","\n            ",579],["T_VARIABLE","$newContentsArray",580],["T_OBJECT_OPERATOR","->",580],["T_STRING","items",580],"[","]",["T_WHITESPACE"," ",580],"=",["T_WHITESPACE"," ",580],["T_VARIABLE","$this",580],["T_OBJECT_OPERATOR","->",580],["T_STRING","_objFactory",580],["T_OBJECT_OPERATOR","->",580],["T_STRING","newStreamObject",580],"(",["T_CONSTANT_ENCAPSED_STRING","\" q\\n\"",580],")",";",["T_WHITESPACE","\n            ",580],["T_FOREACH","foreach",581],["T_WHITESPACE"," ",581],"(",["T_VARIABLE","$this",581],["T_OBJECT_OPERATOR","->",581],["T_STRING","_dictionary",581],["T_OBJECT_OPERATOR","->",581],["T_STRING","Contents",581],["T_OBJECT_OPERATOR","->",581],["T_STRING","items",581],["T_WHITESPACE"," ",581],["T_AS","as",581],["T_WHITESPACE"," ",581],["T_VARIABLE","$contentStream",581],")",["T_WHITESPACE"," ",581],"{",["T_WHITESPACE","\n                ",581],["T_VARIABLE","$newContentsArray",582],["T_OBJECT_OPERATOR","->",582],["T_STRING","items",582],"[","]",["T_WHITESPACE"," ",582],"=",["T_WHITESPACE"," ",582],["T_VARIABLE","$contentStream",582],";",["T_WHITESPACE","\n            ",582],"}",["T_WHITESPACE","\n            ",583],["T_VARIABLE","$newContentsArray",584],["T_OBJECT_OPERATOR","->",584],["T_STRING","items",584],"[","]",["T_WHITESPACE"," ",584],"=",["T_WHITESPACE"," ",584],["T_VARIABLE","$this",584],["T_OBJECT_OPERATOR","->",584],["T_STRING","_objFactory",584],["T_OBJECT_OPERATOR","->",584],["T_STRING","newStreamObject",584],"(",["T_CONSTANT_ENCAPSED_STRING","\" Q\\n\"",584],")",";",["T_WHITESPACE","\n\n            ",584],["T_VARIABLE","$this",586],["T_OBJECT_OPERATOR","->",586],["T_STRING","_dictionary",586],["T_OBJECT_OPERATOR","->",586],["T_STRING","touch",586],"(",")",";",["T_WHITESPACE","\n            ",586],["T_VARIABLE","$this",587],["T_OBJECT_OPERATOR","->",587],["T_STRING","_dictionary",587],["T_OBJECT_OPERATOR","->",587],["T_STRING","Contents",587],["T_WHITESPACE"," ",587],"=",["T_WHITESPACE"," ",587],["T_VARIABLE","$newContentsArray",587],";",["T_WHITESPACE","\n\n            ",587],["T_VARIABLE","$this",589],["T_OBJECT_OPERATOR","->",589],["T_STRING","_safeGS",589],["T_WHITESPACE"," ",589],"=",["T_WHITESPACE"," ",589],["T_STRING","true",589],";",["T_WHITESPACE","\n        ",589],"}",["T_WHITESPACE","\n\n        ",590],["T_VARIABLE","$this",592],["T_OBJECT_OPERATOR","->",592],["T_STRING","_dictionary",592],["T_OBJECT_OPERATOR","->",592],["T_STRING","Contents",592],["T_OBJECT_OPERATOR","->",592],["T_STRING","items",592],"[","]",["T_WHITESPACE"," ",592],"=",["T_WHITESPACE","\n                ",592],["T_VARIABLE","$this",593],["T_OBJECT_OPERATOR","->",593],["T_STRING","_objFactory",593],["T_OBJECT_OPERATOR","->",593],["T_STRING","newStreamObject",593],"(",["T_VARIABLE","$this",593],["T_OBJECT_OPERATOR","->",593],["T_STRING","_contents",593],")",";",["T_WHITESPACE","\n\n        ",593],["T_VARIABLE","$this",595],["T_OBJECT_OPERATOR","->",595],["T_STRING","_contents",595],["T_WHITESPACE"," ",595],"=",["T_WHITESPACE"," ",595],["T_CONSTANT_ENCAPSED_STRING","''",595],";",["T_WHITESPACE","\n    ",595],"}",["T_WHITESPACE","\n\n    ",596],["T_DOC_COMMENT","\/**\n     * Prepare page to be rendered into PDF.\n     *\n     * @todo Don't forget to close all current graphics operations (like path drawing)\n     *\n     * @param Zend_Pdf_ElementFactory_Interface $objFactory\n     * @throws Zend_Pdf_Exception\n     *\/",598],["T_WHITESPACE","\n    ",605],["T_PUBLIC","public",606],["T_WHITESPACE"," ",606],["T_FUNCTION","function",606],["T_WHITESPACE"," ",606],["T_STRING","render",606],"(",["T_STRING","Zend_Pdf_ElementFactory_Interface",606],["T_WHITESPACE"," ",606],["T_VARIABLE","$objFactory",606],")",["T_WHITESPACE","\n    ",606],"{",["T_WHITESPACE","\n        ",607],["T_VARIABLE","$this",608],["T_OBJECT_OPERATOR","->",608],["T_STRING","flush",608],"(",")",";",["T_WHITESPACE","\n\n        ",608],["T_IF","if",610],["T_WHITESPACE"," ",610],"(",["T_VARIABLE","$objFactory",610],["T_WHITESPACE"," ",610],["T_IS_IDENTICAL","===",610],["T_WHITESPACE"," ",610],["T_VARIABLE","$this",610],["T_OBJECT_OPERATOR","->",610],["T_STRING","_objFactory",610],")",["T_WHITESPACE"," ",610],"{",["T_WHITESPACE","\n            ",610],["T_COMMENT","\/\/ Page is already attached to the document.\n",611],["T_WHITESPACE","            ",612],["T_RETURN","return",612],";",["T_WHITESPACE","\n        ",612],"}",["T_WHITESPACE","\n\n        ",613],["T_IF","if",615],["T_WHITESPACE"," ",615],"(",["T_VARIABLE","$this",615],["T_OBJECT_OPERATOR","->",615],["T_STRING","_attached",615],")",["T_WHITESPACE"," ",615],"{",["T_WHITESPACE","\n            ",615],["T_COMMENT","#require_once 'Zend\/Pdf\/Exception.php';\n",616],["T_WHITESPACE","            ",617],["T_THROW","throw",617],["T_WHITESPACE"," ",617],["T_NEW","new",617],["T_WHITESPACE"," ",617],["T_STRING","Zend_Pdf_Exception",617],"(",["T_CONSTANT_ENCAPSED_STRING","'Page is attached to other documen. Use clone $page to get it context free.'",617],")",";",["T_WHITESPACE","\n        ",617],"}",["T_WHITESPACE"," ",618],["T_ELSE","else",618],["T_WHITESPACE"," ",618],"{",["T_WHITESPACE","\n            ",618],["T_VARIABLE","$objFactory",619],["T_OBJECT_OPERATOR","->",619],["T_STRING","attach",619],"(",["T_VARIABLE","$this",619],["T_OBJECT_OPERATOR","->",619],["T_STRING","_objFactory",619],")",";",["T_WHITESPACE","\n        ",619],"}",["T_WHITESPACE","\n    ",620],"}",["T_WHITESPACE","\n\n    ",621],["T_DOC_COMMENT","\/**\n     * Extract resources attached to the page\n     *\n     * This method is not intended to be used in userland, but helps to optimize some document wide operations\n     *\n     * returns array of Zend_Pdf_Element_Dictionary objects\n     *\n     * @internal\n     * @return array\n     *\/",623],["T_WHITESPACE","\n    ",632],["T_PUBLIC","public",633],["T_WHITESPACE"," ",633],["T_FUNCTION","function",633],["T_WHITESPACE"," ",633],["T_STRING","extractResources",633],"(",")",["T_WHITESPACE","\n    ",633],"{",["T_WHITESPACE","\n        ",634],["T_RETURN","return",635],["T_WHITESPACE"," ",635],["T_VARIABLE","$this",635],["T_OBJECT_OPERATOR","->",635],["T_STRING","_dictionary",635],["T_OBJECT_OPERATOR","->",635],["T_STRING","Resources",635],";",["T_WHITESPACE","\n    ",635],"}",["T_WHITESPACE","\n\n    ",636],["T_DOC_COMMENT","\/**\n     * Extract fonts attached to the page\n     *\n     * returns array of Zend_Pdf_Resource_Font_Extracted objects\n     *\n     * @return array\n     * @throws Zend_Pdf_Exception\n     *\/",638],["T_WHITESPACE","\n    ",645],["T_PUBLIC","public",646],["T_WHITESPACE"," ",646],["T_FUNCTION","function",646],["T_WHITESPACE"," ",646],["T_STRING","extractFonts",646],"(",")",["T_WHITESPACE","\n    ",646],"{",["T_WHITESPACE","\n        ",647],["T_IF","if",648],["T_WHITESPACE"," ",648],"(",["T_VARIABLE","$this",648],["T_OBJECT_OPERATOR","->",648],["T_STRING","_dictionary",648],["T_OBJECT_OPERATOR","->",648],["T_STRING","Resources",648],["T_OBJECT_OPERATOR","->",648],["T_STRING","Font",648],["T_WHITESPACE"," ",648],["T_IS_IDENTICAL","===",648],["T_WHITESPACE"," ",648],["T_STRING","null",648],")",["T_WHITESPACE"," ",648],"{",["T_WHITESPACE","\n            ",648],["T_COMMENT","\/\/ Page doesn't have any font attached\n",649],["T_WHITESPACE","            ",650],["T_COMMENT","\/\/ Return empty array\n",650],["T_WHITESPACE","            ",651],["T_RETURN","return",651],["T_WHITESPACE"," ",651],["T_ARRAY","array",651],"(",")",";",["T_WHITESPACE","\n        ",651],"}",["T_WHITESPACE","\n\n        ",652],["T_VARIABLE","$fontResources",654],["T_WHITESPACE"," ",654],"=",["T_WHITESPACE"," ",654],["T_VARIABLE","$this",654],["T_OBJECT_OPERATOR","->",654],["T_STRING","_dictionary",654],["T_OBJECT_OPERATOR","->",654],["T_STRING","Resources",654],["T_OBJECT_OPERATOR","->",654],["T_STRING","Font",654],";",["T_WHITESPACE","\n\n        ",654],["T_VARIABLE","$fontResourcesUnique",656],["T_WHITESPACE"," ",656],"=",["T_WHITESPACE"," ",656],["T_ARRAY","array",656],"(",")",";",["T_WHITESPACE","\n        ",656],["T_FOREACH","foreach",657],["T_WHITESPACE"," ",657],"(",["T_VARIABLE","$fontResources",657],["T_OBJECT_OPERATOR","->",657],["T_STRING","getKeys",657],"(",")",["T_WHITESPACE"," ",657],["T_AS","as",657],["T_WHITESPACE"," ",657],["T_VARIABLE","$fontResourceName",657],")",["T_WHITESPACE"," ",657],"{",["T_WHITESPACE","\n            ",657],["T_VARIABLE","$fontDictionary",658],["T_WHITESPACE"," ",658],"=",["T_WHITESPACE"," ",658],["T_VARIABLE","$fontResources",658],["T_OBJECT_OPERATOR","->",658],["T_VARIABLE","$fontResourceName",658],";",["T_WHITESPACE","\n\n            ",658],["T_IF","if",660],["T_WHITESPACE"," ",660],"(","!",["T_WHITESPACE"," ",660],"(",["T_VARIABLE","$fontDictionary",660],["T_WHITESPACE"," ",660],["T_INSTANCEOF","instanceof",660],["T_WHITESPACE"," ",660],["T_STRING","Zend_Pdf_Element_Reference",660],["T_WHITESPACE","  ",660],["T_BOOLEAN_OR","||",660],["T_WHITESPACE","\n                   ",660],["T_VARIABLE","$fontDictionary",661],["T_WHITESPACE"," ",661],["T_INSTANCEOF","instanceof",661],["T_WHITESPACE"," ",661],["T_STRING","Zend_Pdf_Element_Object",661],")",["T_WHITESPACE"," ",661],")",["T_WHITESPACE"," ",661],"{",["T_WHITESPACE","\n                ",661],["T_COMMENT","#require_once 'Zend\/Pdf\/Exception.php';\n",662],["T_WHITESPACE","                ",663],["T_THROW","throw",663],["T_WHITESPACE"," ",663],["T_NEW","new",663],["T_WHITESPACE"," ",663],["T_STRING","Zend_Pdf_Exception",663],"(",["T_CONSTANT_ENCAPSED_STRING","'Font dictionary has to be an indirect object or object reference.'",663],")",";",["T_WHITESPACE","\n            ",663],"}",["T_WHITESPACE","\n\n            ",664],["T_VARIABLE","$fontResourcesUnique",666],"[",["T_STRING","spl_object_hash",666],"(",["T_VARIABLE","$fontDictionary",666],["T_OBJECT_OPERATOR","->",666],["T_STRING","getObject",666],"(",")",")","]",["T_WHITESPACE"," ",666],"=",["T_WHITESPACE"," ",666],["T_VARIABLE","$fontDictionary",666],";",["T_WHITESPACE","\n        ",666],"}",["T_WHITESPACE","\n\n        ",667],["T_VARIABLE","$fonts",669],["T_WHITESPACE"," ",669],"=",["T_WHITESPACE"," ",669],["T_ARRAY","array",669],"(",")",";",["T_WHITESPACE","\n        ",669],["T_COMMENT","#require_once 'Zend\/Pdf\/Exception.php';\n",670],["T_WHITESPACE","        ",671],["T_FOREACH","foreach",671],["T_WHITESPACE"," ",671],"(",["T_VARIABLE","$fontResourcesUnique",671],["T_WHITESPACE"," ",671],["T_AS","as",671],["T_WHITESPACE"," ",671],["T_VARIABLE","$resourceId",671],["T_WHITESPACE"," ",671],["T_DOUBLE_ARROW","=>",671],["T_WHITESPACE"," ",671],["T_VARIABLE","$fontDictionary",671],")",["T_WHITESPACE"," ",671],"{",["T_WHITESPACE","\n            ",671],["T_TRY","try",672],["T_WHITESPACE"," ",672],"{",["T_WHITESPACE","\n                ",672],["T_COMMENT","#require_once 'Zend\/Pdf\/Resource\/Font\/Extracted.php';\n",673],["T_WHITESPACE","                ",674],["T_COMMENT","\/\/ Try to extract font\n",674],["T_WHITESPACE","                ",675],["T_VARIABLE","$extractedFont",675],["T_WHITESPACE"," ",675],"=",["T_WHITESPACE"," ",675],["T_NEW","new",675],["T_WHITESPACE"," ",675],["T_STRING","Zend_Pdf_Resource_Font_Extracted",675],"(",["T_VARIABLE","$fontDictionary",675],")",";",["T_WHITESPACE","\n\n                ",675],["T_VARIABLE","$fonts",677],"[",["T_VARIABLE","$resourceId",677],"]",["T_WHITESPACE"," ",677],"=",["T_WHITESPACE"," ",677],["T_VARIABLE","$extractedFont",677],";",["T_WHITESPACE","\n            ",677],"}",["T_WHITESPACE"," ",678],["T_CATCH","catch",678],["T_WHITESPACE"," ",678],"(",["T_STRING","Zend_Pdf_Exception",678],["T_WHITESPACE"," ",678],["T_VARIABLE","$e",678],")",["T_WHITESPACE"," ",678],"{",["T_WHITESPACE","\n                ",678],["T_IF","if",679],["T_WHITESPACE"," ",679],"(",["T_VARIABLE","$e",679],["T_OBJECT_OPERATOR","->",679],["T_STRING","getMessage",679],"(",")",["T_WHITESPACE"," ",679],["T_IS_NOT_EQUAL","!=",679],["T_WHITESPACE"," ",679],["T_CONSTANT_ENCAPSED_STRING","'Unsupported font type.'",679],")",["T_WHITESPACE"," ",679],"{",["T_WHITESPACE","\n                    ",679],["T_THROW","throw",680],["T_WHITESPACE"," ",680],["T_NEW","new",680],["T_WHITESPACE"," ",680],["T_STRING","Zend_Pdf_Exception",680],"(",["T_VARIABLE","$e",680],["T_OBJECT_OPERATOR","->",680],["T_STRING","getMessage",680],"(",")",",",["T_WHITESPACE"," ",680],["T_VARIABLE","$e",680],["T_OBJECT_OPERATOR","->",680],["T_STRING","getCode",680],"(",")",",",["T_WHITESPACE"," ",680],["T_VARIABLE","$e",680],")",";",["T_WHITESPACE","\n                ",680],"}",["T_WHITESPACE","\n            ",681],"}",["T_WHITESPACE","\n        ",682],"}",["T_WHITESPACE","\n\n        ",683],["T_RETURN","return",685],["T_WHITESPACE"," ",685],["T_VARIABLE","$fonts",685],";",["T_WHITESPACE","\n    ",685],"}",["T_WHITESPACE","\n\n    ",686],["T_DOC_COMMENT","\/**\n     * Extract font attached to the page by specific font name\n     *\n     * $fontName should be specified in UTF-8 encoding\n     *\n     * @return Zend_Pdf_Resource_Font_Extracted|null\n     * @throws Zend_Pdf_Exception\n     *\/",688],["T_WHITESPACE","\n    ",695],["T_PUBLIC","public",696],["T_WHITESPACE"," ",696],["T_FUNCTION","function",696],["T_WHITESPACE"," ",696],["T_STRING","extractFont",696],"(",["T_VARIABLE","$fontName",696],")",["T_WHITESPACE","\n    ",696],"{",["T_WHITESPACE","\n        ",697],["T_IF","if",698],["T_WHITESPACE"," ",698],"(",["T_VARIABLE","$this",698],["T_OBJECT_OPERATOR","->",698],["T_STRING","_dictionary",698],["T_OBJECT_OPERATOR","->",698],["T_STRING","Resources",698],["T_OBJECT_OPERATOR","->",698],["T_STRING","Font",698],["T_WHITESPACE"," ",698],["T_IS_IDENTICAL","===",698],["T_WHITESPACE"," ",698],["T_STRING","null",698],")",["T_WHITESPACE"," ",698],"{",["T_WHITESPACE","\n            ",698],["T_COMMENT","\/\/ Page doesn't have any font attached\n",699],["T_WHITESPACE","            ",700],["T_RETURN","return",700],["T_WHITESPACE"," ",700],["T_STRING","null",700],";",["T_WHITESPACE","\n        ",700],"}",["T_WHITESPACE","\n\n        ",701],["T_VARIABLE","$fontResources",703],["T_WHITESPACE"," ",703],"=",["T_WHITESPACE"," ",703],["T_VARIABLE","$this",703],["T_OBJECT_OPERATOR","->",703],["T_STRING","_dictionary",703],["T_OBJECT_OPERATOR","->",703],["T_STRING","Resources",703],["T_OBJECT_OPERATOR","->",703],["T_STRING","Font",703],";",["T_WHITESPACE","\n\n        ",703],["T_VARIABLE","$fontResourcesUnique",705],["T_WHITESPACE"," ",705],"=",["T_WHITESPACE"," ",705],["T_ARRAY","array",705],"(",")",";",["T_WHITESPACE","\n\n        ",705],["T_COMMENT","#require_once 'Zend\/Pdf\/Exception.php';\n",707],["T_WHITESPACE","        ",708],["T_FOREACH","foreach",708],["T_WHITESPACE"," ",708],"(",["T_VARIABLE","$fontResources",708],["T_OBJECT_OPERATOR","->",708],["T_STRING","getKeys",708],"(",")",["T_WHITESPACE"," ",708],["T_AS","as",708],["T_WHITESPACE"," ",708],["T_VARIABLE","$fontResourceName",708],")",["T_WHITESPACE"," ",708],"{",["T_WHITESPACE","\n            ",708],["T_VARIABLE","$fontDictionary",709],["T_WHITESPACE"," ",709],"=",["T_WHITESPACE"," ",709],["T_VARIABLE","$fontResources",709],["T_OBJECT_OPERATOR","->",709],["T_VARIABLE","$fontResourceName",709],";",["T_WHITESPACE","\n\n            ",709],["T_IF","if",711],["T_WHITESPACE"," ",711],"(","!",["T_WHITESPACE"," ",711],"(",["T_VARIABLE","$fontDictionary",711],["T_WHITESPACE"," ",711],["T_INSTANCEOF","instanceof",711],["T_WHITESPACE"," ",711],["T_STRING","Zend_Pdf_Element_Reference",711],["T_WHITESPACE","  ",711],["T_BOOLEAN_OR","||",711],["T_WHITESPACE","\n                   ",711],["T_VARIABLE","$fontDictionary",712],["T_WHITESPACE"," ",712],["T_INSTANCEOF","instanceof",712],["T_WHITESPACE"," ",712],["T_STRING","Zend_Pdf_Element_Object",712],")",["T_WHITESPACE"," ",712],")",["T_WHITESPACE"," ",712],"{",["T_WHITESPACE","\n                ",712],["T_COMMENT","#require_once 'Zend\/Pdf\/Exception.php';\n",713],["T_WHITESPACE","                ",714],["T_THROW","throw",714],["T_WHITESPACE"," ",714],["T_NEW","new",714],["T_WHITESPACE"," ",714],["T_STRING","Zend_Pdf_Exception",714],"(",["T_CONSTANT_ENCAPSED_STRING","'Font dictionary has to be an indirect object or object reference.'",714],")",";",["T_WHITESPACE","\n            ",714],"}",["T_WHITESPACE","\n\n            ",715],["T_VARIABLE","$resourceId",717],["T_WHITESPACE"," ",717],"=",["T_WHITESPACE"," ",717],["T_STRING","spl_object_hash",717],"(",["T_VARIABLE","$fontDictionary",717],["T_OBJECT_OPERATOR","->",717],["T_STRING","getObject",717],"(",")",")",";",["T_WHITESPACE","\n            ",717],["T_IF","if",718],["T_WHITESPACE"," ",718],"(",["T_ISSET","isset",718],"(",["T_VARIABLE","$fontResourcesUnique",718],"[",["T_VARIABLE","$resourceId",718],"]",")",")",["T_WHITESPACE"," ",718],"{",["T_WHITESPACE","\n                ",718],["T_CONTINUE","continue",719],";",["T_WHITESPACE","\n            ",719],"}",["T_WHITESPACE"," ",720],["T_ELSE","else",720],["T_WHITESPACE"," ",720],"{",["T_WHITESPACE","\n                ",720],["T_COMMENT","\/\/ Mark resource as processed\n",721],["T_WHITESPACE","                ",722],["T_VARIABLE","$fontResourcesUnique",722],"[",["T_VARIABLE","$resourceId",722],"]",["T_WHITESPACE"," ",722],"=",["T_WHITESPACE"," ",722],["T_LNUMBER","1",722],";",["T_WHITESPACE","\n            ",722],"}",["T_WHITESPACE","\n\n            ",723],["T_IF","if",725],["T_WHITESPACE"," ",725],"(",["T_VARIABLE","$fontDictionary",725],["T_OBJECT_OPERATOR","->",725],["T_STRING","BaseFont",725],["T_OBJECT_OPERATOR","->",725],["T_STRING","value",725],["T_WHITESPACE"," ",725],["T_IS_NOT_EQUAL","!=",725],["T_WHITESPACE"," ",725],["T_VARIABLE","$fontName",725],")",["T_WHITESPACE"," ",725],"{",["T_WHITESPACE","\n                ",725],["T_CONTINUE","continue",726],";",["T_WHITESPACE","\n            ",726],"}",["T_WHITESPACE","\n\n            ",727],["T_TRY","try",729],["T_WHITESPACE"," ",729],"{",["T_WHITESPACE","\n                ",729],["T_COMMENT","\/\/ Try to extract font\n",730],["T_WHITESPACE","                ",731],["T_COMMENT","#require_once 'Zend\/Pdf\/Resource\/Font\/Extracted.php';\n",731],["T_WHITESPACE","                ",732],["T_RETURN","return",732],["T_WHITESPACE"," ",732],["T_NEW","new",732],["T_WHITESPACE"," ",732],["T_STRING","Zend_Pdf_Resource_Font_Extracted",732],"(",["T_VARIABLE","$fontDictionary",732],")",";",["T_WHITESPACE","\n            ",732],"}",["T_WHITESPACE"," ",733],["T_CATCH","catch",733],["T_WHITESPACE"," ",733],"(",["T_STRING","Zend_Pdf_Exception",733],["T_WHITESPACE"," ",733],["T_VARIABLE","$e",733],")",["T_WHITESPACE"," ",733],"{",["T_WHITESPACE","\n                ",733],["T_IF","if",734],["T_WHITESPACE"," ",734],"(",["T_VARIABLE","$e",734],["T_OBJECT_OPERATOR","->",734],["T_STRING","getMessage",734],"(",")",["T_WHITESPACE"," ",734],["T_IS_NOT_EQUAL","!=",734],["T_WHITESPACE"," ",734],["T_CONSTANT_ENCAPSED_STRING","'Unsupported font type.'",734],")",["T_WHITESPACE"," ",734],"{",["T_WHITESPACE","\n                    ",734],["T_THROW","throw",735],["T_WHITESPACE"," ",735],["T_NEW","new",735],["T_WHITESPACE"," ",735],["T_STRING","Zend_Pdf_Exception",735],"(",["T_VARIABLE","$e",735],["T_OBJECT_OPERATOR","->",735],["T_STRING","getMessage",735],"(",")",",",["T_WHITESPACE"," ",735],["T_VARIABLE","$e",735],["T_OBJECT_OPERATOR","->",735],["T_STRING","getCode",735],"(",")",",",["T_WHITESPACE"," ",735],["T_VARIABLE","$e",735],")",";",["T_WHITESPACE","\n                ",735],"}",["T_WHITESPACE","\n\n                ",736],["T_COMMENT","\/\/ Continue searhing font with specified name\n",738],["T_WHITESPACE","            ",739],"}",["T_WHITESPACE","\n        ",739],"}",["T_WHITESPACE","\n\n        ",740],["T_RETURN","return",742],["T_WHITESPACE"," ",742],["T_STRING","null",742],";",["T_WHITESPACE","\n    ",742],"}",["T_WHITESPACE","\n\n    ",743],["T_DOC_COMMENT","\/**\n     *\n     * @param Zend_Pdf_Annotation $annotation\n     * @return Zend_Pdf_Page\n     *\/",745],["T_WHITESPACE","\n    ",749],["T_PUBLIC","public",750],["T_WHITESPACE"," ",750],["T_FUNCTION","function",750],["T_WHITESPACE"," ",750],["T_STRING","attachAnnotation",750],"(",["T_STRING","Zend_Pdf_Annotation",750],["T_WHITESPACE"," ",750],["T_VARIABLE","$annotation",750],")",["T_WHITESPACE","\n    ",750],"{",["T_WHITESPACE","\n        ",751],["T_VARIABLE","$annotationDictionary",752],["T_WHITESPACE"," ",752],"=",["T_WHITESPACE"," ",752],["T_VARIABLE","$annotation",752],["T_OBJECT_OPERATOR","->",752],["T_STRING","getResource",752],"(",")",";",["T_WHITESPACE","\n        ",752],["T_IF","if",753],["T_WHITESPACE"," ",753],"(","!",["T_VARIABLE","$annotationDictionary",753],["T_WHITESPACE"," ",753],["T_INSTANCEOF","instanceof",753],["T_WHITESPACE"," ",753],["T_STRING","Zend_Pdf_Element_Object",753],["T_WHITESPACE","  ",753],["T_BOOLEAN_AND","&&",753],["T_WHITESPACE","\n            ",753],"!",["T_VARIABLE","$annotationDictionary",754],["T_WHITESPACE"," ",754],["T_INSTANCEOF","instanceof",754],["T_WHITESPACE"," ",754],["T_STRING","Zend_Pdf_Element_Reference",754],")",["T_WHITESPACE"," ",754],"{",["T_WHITESPACE","\n            ",754],["T_VARIABLE","$annotationDictionary",755],["T_WHITESPACE"," ",755],"=",["T_WHITESPACE"," ",755],["T_VARIABLE","$this",755],["T_OBJECT_OPERATOR","->",755],["T_STRING","_objFactory",755],["T_OBJECT_OPERATOR","->",755],["T_STRING","newObject",755],"(",["T_VARIABLE","$annotationDictionary",755],")",";",["T_WHITESPACE","\n        ",755],"}",["T_WHITESPACE","\n\n        ",756],["T_IF","if",758],["T_WHITESPACE"," ",758],"(",["T_VARIABLE","$this",758],["T_OBJECT_OPERATOR","->",758],["T_STRING","_dictionary",758],["T_OBJECT_OPERATOR","->",758],["T_STRING","Annots",758],["T_WHITESPACE"," ",758],["T_IS_IDENTICAL","===",758],["T_WHITESPACE"," ",758],["T_STRING","null",758],")",["T_WHITESPACE"," ",758],"{",["T_WHITESPACE","\n            ",758],["T_VARIABLE","$this",759],["T_OBJECT_OPERATOR","->",759],["T_STRING","_dictionary",759],["T_OBJECT_OPERATOR","->",759],["T_STRING","touch",759],"(",")",";",["T_WHITESPACE","\n            ",759],["T_VARIABLE","$this",760],["T_OBJECT_OPERATOR","->",760],["T_STRING","_dictionary",760],["T_OBJECT_OPERATOR","->",760],["T_STRING","Annots",760],["T_WHITESPACE"," ",760],"=",["T_WHITESPACE"," ",760],["T_NEW","new",760],["T_WHITESPACE"," ",760],["T_STRING","Zend_Pdf_Element_Array",760],"(",")",";",["T_WHITESPACE","\n        ",760],"}",["T_WHITESPACE"," ",761],["T_ELSE","else",761],["T_WHITESPACE"," ",761],"{",["T_WHITESPACE","\n            ",761],["T_VARIABLE","$this",762],["T_OBJECT_OPERATOR","->",762],["T_STRING","_dictionary",762],["T_OBJECT_OPERATOR","->",762],["T_STRING","Annots",762],["T_OBJECT_OPERATOR","->",762],["T_STRING","touch",762],"(",")",";",["T_WHITESPACE","\n        ",762],"}",["T_WHITESPACE","\n\n        ",763],["T_VARIABLE","$this",765],["T_OBJECT_OPERATOR","->",765],["T_STRING","_dictionary",765],["T_OBJECT_OPERATOR","->",765],["T_STRING","Annots",765],["T_OBJECT_OPERATOR","->",765],["T_STRING","items",765],"[","]",["T_WHITESPACE"," ",765],"=",["T_WHITESPACE"," ",765],["T_VARIABLE","$annotationDictionary",765],";",["T_WHITESPACE","\n\n        ",765],["T_VARIABLE","$annotationDictionary",767],["T_OBJECT_OPERATOR","->",767],["T_STRING","touch",767],"(",")",";",["T_WHITESPACE","\n        ",767],["T_VARIABLE","$annotationDictionary",768],["T_OBJECT_OPERATOR","->",768],["T_STRING","P",768],["T_WHITESPACE"," ",768],"=",["T_WHITESPACE"," ",768],["T_VARIABLE","$this",768],["T_OBJECT_OPERATOR","->",768],["T_STRING","_dictionary",768],";",["T_WHITESPACE","\n\n        ",768],["T_RETURN","return",770],["T_WHITESPACE"," ",770],["T_VARIABLE","$this",770],";",["T_WHITESPACE","\n    ",770],"}",["T_WHITESPACE","\n",771],"}",["T_WHITESPACE","\n\n",772]]