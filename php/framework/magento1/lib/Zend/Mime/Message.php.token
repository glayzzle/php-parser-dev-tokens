[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Zend Framework\n *\n * LICENSE\n *\n * This source file is subject to the new BSD license that is bundled\n * with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/framework.zend.com\/license\/new-bsd\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@zend.com so we can send you a copy immediately.\n *\n * @category   Zend\n * @package    Zend_Mime\n * @copyright  Copyright (c) 2005-2015 Zend Technologies USA Inc. (http:\/\/www.zend.com)\n * @license    http:\/\/framework.zend.com\/license\/new-bsd     New BSD License\n * @version    $Id$\n *\/",2],["T_WHITESPACE","\n\n",20],["T_DOC_COMMENT","\/**\n * Zend_Mime\n *\/",22],["T_WHITESPACE","\n",24],["T_COMMENT","#require_once 'Zend\/Mime.php';\n",25],["T_WHITESPACE","\n",26],["T_DOC_COMMENT","\/**\n * Zend_Mime_Part\n *\/",27],["T_WHITESPACE","\n",29],["T_COMMENT","#require_once 'Zend\/Mime\/Part.php';\n",30],["T_WHITESPACE","\n",31],["T_DOC_COMMENT","\/**\n * @category   Zend\n * @package    Zend_Mime\n * @copyright  Copyright (c) 2005-2015 Zend Technologies USA Inc. (http:\/\/www.zend.com)\n * @license    http:\/\/framework.zend.com\/license\/new-bsd     New BSD License\n *\/",32],["T_WHITESPACE","\n",37],["T_CLASS","class",38],["T_WHITESPACE"," ",38],["T_STRING","Zend_Mime_Message",38],["T_WHITESPACE","\n",38],"{",["T_WHITESPACE","\n    ",39],["T_DOC_COMMENT","\/**\n     * The Zend_Mime_Parts of the message\n     *\n     * @var array\n     *\/",40],["T_WHITESPACE","\n    ",44],["T_PROTECTED","protected",45],["T_WHITESPACE"," ",45],["T_VARIABLE","$_parts",45],["T_WHITESPACE"," ",45],"=",["T_WHITESPACE"," ",45],["T_ARRAY","array",45],"(",")",";",["T_WHITESPACE","\n\n    ",45],["T_DOC_COMMENT","\/**\n     * The Zend_Mime object for the message\n     *\n     * @var Zend_Mime|null\n     *\/",47],["T_WHITESPACE","\n    ",51],["T_PROTECTED","protected",52],["T_WHITESPACE"," ",52],["T_VARIABLE","$_mime",52],["T_WHITESPACE"," ",52],"=",["T_WHITESPACE"," ",52],["T_STRING","null",52],";",["T_WHITESPACE","\n\n    ",52],["T_DOC_COMMENT","\/**\n     * Returns the list of all Zend_Mime_Parts in the message\n     *\n     * @return array of Zend_Mime_Part\n     *\/",54],["T_WHITESPACE","\n    ",58],["T_PUBLIC","public",59],["T_WHITESPACE"," ",59],["T_FUNCTION","function",59],["T_WHITESPACE"," ",59],["T_STRING","getParts",59],"(",")",["T_WHITESPACE","\n    ",59],"{",["T_WHITESPACE","\n        ",60],["T_RETURN","return",61],["T_WHITESPACE"," ",61],["T_VARIABLE","$this",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","_parts",61],";",["T_WHITESPACE","\n    ",61],"}",["T_WHITESPACE","\n\n    ",62],["T_DOC_COMMENT","\/**\n     * Sets the given array of Zend_Mime_Parts as the array for the message\n     *\n     * @param array $parts\n     *\/",64],["T_WHITESPACE","\n    ",68],["T_PUBLIC","public",69],["T_WHITESPACE"," ",69],["T_FUNCTION","function",69],["T_WHITESPACE"," ",69],["T_STRING","setParts",69],"(",["T_VARIABLE","$parts",69],")",["T_WHITESPACE","\n    ",69],"{",["T_WHITESPACE","\n        ",70],["T_VARIABLE","$this",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","_parts",71],["T_WHITESPACE"," ",71],"=",["T_WHITESPACE"," ",71],["T_VARIABLE","$parts",71],";",["T_WHITESPACE","\n    ",71],"}",["T_WHITESPACE","\n\n    ",72],["T_DOC_COMMENT","\/**\n     * Append a new Zend_Mime_Part to the current message\n     *\n     * @param Zend_Mime_Part $part\n     *\/",74],["T_WHITESPACE","\n    ",78],["T_PUBLIC","public",79],["T_WHITESPACE"," ",79],["T_FUNCTION","function",79],["T_WHITESPACE"," ",79],["T_STRING","addPart",79],"(",["T_STRING","Zend_Mime_Part",79],["T_WHITESPACE"," ",79],["T_VARIABLE","$part",79],")",["T_WHITESPACE","\n    ",79],"{",["T_WHITESPACE","\n        ",80],["T_DOC_COMMENT","\/**\n         * @todo check for duplicate object handle\n         *\/",81],["T_WHITESPACE","\n        ",83],["T_VARIABLE","$this",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","_parts",84],"[","]",["T_WHITESPACE"," ",84],"=",["T_WHITESPACE"," ",84],["T_VARIABLE","$part",84],";",["T_WHITESPACE","\n    ",84],"}",["T_WHITESPACE","\n\n    ",85],["T_DOC_COMMENT","\/**\n     * Check if message needs to be sent as multipart\n     * MIME message or if it has only one part.\n     *\n     * @return boolean\n     *\/",87],["T_WHITESPACE","\n    ",92],["T_PUBLIC","public",93],["T_WHITESPACE"," ",93],["T_FUNCTION","function",93],["T_WHITESPACE"," ",93],["T_STRING","isMultiPart",93],"(",")",["T_WHITESPACE","\n    ",93],"{",["T_WHITESPACE","\n        ",94],["T_RETURN","return",95],["T_WHITESPACE"," ",95],"(",["T_STRING","count",95],"(",["T_VARIABLE","$this",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","_parts",95],")",["T_WHITESPACE"," ",95],">",["T_WHITESPACE"," ",95],["T_LNUMBER","1",95],")",";",["T_WHITESPACE","\n    ",95],"}",["T_WHITESPACE","\n\n    ",96],["T_DOC_COMMENT","\/**\n     * Set Zend_Mime object for the message\n     *\n     * This can be used to set the boundary specifically or to use a subclass of\n     * Zend_Mime for generating the boundary.\n     *\n     * @param Zend_Mime $mime\n     *\/",98],["T_WHITESPACE","\n    ",105],["T_PUBLIC","public",106],["T_WHITESPACE"," ",106],["T_FUNCTION","function",106],["T_WHITESPACE"," ",106],["T_STRING","setMime",106],"(",["T_STRING","Zend_Mime",106],["T_WHITESPACE"," ",106],["T_VARIABLE","$mime",106],")",["T_WHITESPACE","\n    ",106],"{",["T_WHITESPACE","\n        ",107],["T_VARIABLE","$this",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","_mime",108],["T_WHITESPACE"," ",108],"=",["T_WHITESPACE"," ",108],["T_VARIABLE","$mime",108],";",["T_WHITESPACE","\n    ",108],"}",["T_WHITESPACE","\n\n    ",109],["T_DOC_COMMENT","\/**\n     * Returns the Zend_Mime object in use by the message\n     *\n     * If the object was not present, it is created and returned. Can be used to\n     * determine the boundary used in this message.\n     *\n     * @return Zend_Mime\n     *\/",111],["T_WHITESPACE","\n    ",118],["T_PUBLIC","public",119],["T_WHITESPACE"," ",119],["T_FUNCTION","function",119],["T_WHITESPACE"," ",119],["T_STRING","getMime",119],"(",")",["T_WHITESPACE","\n    ",119],"{",["T_WHITESPACE","\n        ",120],["T_IF","if",121],["T_WHITESPACE"," ",121],"(",["T_VARIABLE","$this",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","_mime",121],["T_WHITESPACE"," ",121],["T_IS_IDENTICAL","===",121],["T_WHITESPACE"," ",121],["T_STRING","null",121],")",["T_WHITESPACE"," ",121],"{",["T_WHITESPACE","\n            ",121],["T_VARIABLE","$this",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","_mime",122],["T_WHITESPACE"," ",122],"=",["T_WHITESPACE"," ",122],["T_NEW","new",122],["T_WHITESPACE"," ",122],["T_STRING","Zend_Mime",122],"(",")",";",["T_WHITESPACE","\n        ",122],"}",["T_WHITESPACE","\n\n        ",123],["T_RETURN","return",125],["T_WHITESPACE"," ",125],["T_VARIABLE","$this",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","_mime",125],";",["T_WHITESPACE","\n    ",125],"}",["T_WHITESPACE","\n\n    ",126],["T_DOC_COMMENT","\/**\n     * Generate MIME-compliant message from the current configuration\n     *\n     * This can be a multipart message if more than one MIME part was added. If\n     * only one part is present, the content of this part is returned. If no\n     * part had been added, an empty string is returned.\n     *\n     * Parts are seperated by the mime boundary as defined in Zend_Mime. If\n     * {@link setMime()} has been called before this method, the Zend_Mime\n     * object set by this call will be used. Otherwise, a new Zend_Mime object\n     * is generated and used.\n     *\n     * @param string $EOL EOL string; defaults to {@link Zend_Mime::LINEEND}\n     * @return string\n     *\/",128],["T_WHITESPACE","\n    ",142],["T_PUBLIC","public",143],["T_WHITESPACE"," ",143],["T_FUNCTION","function",143],["T_WHITESPACE"," ",143],["T_STRING","generateMessage",143],"(",["T_VARIABLE","$EOL",143],["T_WHITESPACE"," ",143],"=",["T_WHITESPACE"," ",143],["T_STRING","Zend_Mime",143],["T_DOUBLE_COLON","::",143],["T_STRING","LINEEND",143],")",["T_WHITESPACE","\n    ",143],"{",["T_WHITESPACE","\n        ",144],["T_IF","if",145],["T_WHITESPACE"," ",145],"(","!",["T_VARIABLE","$this",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","isMultiPart",145],"(",")",")",["T_WHITESPACE"," ",145],"{",["T_WHITESPACE","\n            ",145],["T_VARIABLE","$body",146],["T_WHITESPACE"," ",146],"=",["T_WHITESPACE"," ",146],["T_STRING","array_shift",146],"(",["T_VARIABLE","$this",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","_parts",146],")",";",["T_WHITESPACE","\n            ",146],["T_VARIABLE","$body",147],["T_WHITESPACE"," ",147],"=",["T_WHITESPACE"," ",147],["T_VARIABLE","$body",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","getContent",147],"(",["T_VARIABLE","$EOL",147],")",";",["T_WHITESPACE","\n        ",147],"}",["T_WHITESPACE"," ",148],["T_ELSE","else",148],["T_WHITESPACE"," ",148],"{",["T_WHITESPACE","\n            ",148],["T_VARIABLE","$mime",149],["T_WHITESPACE"," ",149],"=",["T_WHITESPACE"," ",149],["T_VARIABLE","$this",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","getMime",149],"(",")",";",["T_WHITESPACE","\n\n            ",149],["T_VARIABLE","$boundaryLine",151],["T_WHITESPACE"," ",151],"=",["T_WHITESPACE"," ",151],["T_VARIABLE","$mime",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","boundaryLine",151],"(",["T_VARIABLE","$EOL",151],")",";",["T_WHITESPACE","\n            ",151],["T_VARIABLE","$body",152],["T_WHITESPACE"," ",152],"=",["T_WHITESPACE"," ",152],["T_CONSTANT_ENCAPSED_STRING","'This is a message in Mime Format.  If you see this, '",152],["T_WHITESPACE","\n                  ",152],".",["T_WHITESPACE"," ",153],["T_CONSTANT_ENCAPSED_STRING","\"your mail reader does not support this format.\"",153],["T_WHITESPACE"," ",153],".",["T_WHITESPACE"," ",153],["T_VARIABLE","$EOL",153],";",["T_WHITESPACE","\n\n            ",153],["T_FOREACH","foreach",155],["T_WHITESPACE"," ",155],"(",["T_STRING","array_keys",155],"(",["T_VARIABLE","$this",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","_parts",155],")",["T_WHITESPACE"," ",155],["T_AS","as",155],["T_WHITESPACE"," ",155],["T_VARIABLE","$p",155],")",["T_WHITESPACE"," ",155],"{",["T_WHITESPACE","\n                ",155],["T_VARIABLE","$body",156],["T_WHITESPACE"," ",156],["T_CONCAT_EQUAL",".=",156],["T_WHITESPACE"," ",156],["T_VARIABLE","$boundaryLine",156],["T_WHITESPACE","\n                         ",156],".",["T_WHITESPACE"," ",157],["T_VARIABLE","$this",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","getPartHeaders",157],"(",["T_VARIABLE","$p",157],",",["T_WHITESPACE"," ",157],["T_VARIABLE","$EOL",157],")",["T_WHITESPACE","\n                         ",157],".",["T_WHITESPACE"," ",158],["T_VARIABLE","$EOL",158],["T_WHITESPACE","\n                         ",158],".",["T_WHITESPACE"," ",159],["T_VARIABLE","$this",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","getPartContent",159],"(",["T_VARIABLE","$p",159],",",["T_WHITESPACE"," ",159],["T_VARIABLE","$EOL",159],")",";",["T_WHITESPACE","\n            ",159],"}",["T_WHITESPACE","\n\n            ",160],["T_VARIABLE","$body",162],["T_WHITESPACE"," ",162],["T_CONCAT_EQUAL",".=",162],["T_WHITESPACE"," ",162],["T_VARIABLE","$mime",162],["T_OBJECT_OPERATOR","->",162],["T_STRING","mimeEnd",162],"(",["T_VARIABLE","$EOL",162],")",";",["T_WHITESPACE","\n        ",162],"}",["T_WHITESPACE","\n\n        ",163],["T_RETURN","return",165],["T_WHITESPACE"," ",165],["T_STRING","trim",165],"(",["T_VARIABLE","$body",165],")",";",["T_WHITESPACE","\n    ",165],"}",["T_WHITESPACE","\n\n    ",166],["T_DOC_COMMENT","\/**\n     * Get the headers of a given part as an array\n     *\n     * @param int $partnum\n     * @return array\n     *\/",168],["T_WHITESPACE","\n    ",173],["T_PUBLIC","public",174],["T_WHITESPACE"," ",174],["T_FUNCTION","function",174],["T_WHITESPACE"," ",174],["T_STRING","getPartHeadersArray",174],"(",["T_VARIABLE","$partnum",174],")",["T_WHITESPACE","\n    ",174],"{",["T_WHITESPACE","\n        ",175],["T_RETURN","return",176],["T_WHITESPACE"," ",176],["T_VARIABLE","$this",176],["T_OBJECT_OPERATOR","->",176],["T_STRING","_parts",176],"[",["T_VARIABLE","$partnum",176],"]",["T_OBJECT_OPERATOR","->",176],["T_STRING","getHeadersArray",176],"(",")",";",["T_WHITESPACE","\n    ",176],"}",["T_WHITESPACE","\n\n    ",177],["T_DOC_COMMENT","\/**\n     * Get the headers of a given part as a string\n     *\n     * @param  int    $partnum\n     * @param  string $EOL\n     * @return string\n     *\/",179],["T_WHITESPACE","\n    ",185],["T_PUBLIC","public",186],["T_WHITESPACE"," ",186],["T_FUNCTION","function",186],["T_WHITESPACE"," ",186],["T_STRING","getPartHeaders",186],"(",["T_VARIABLE","$partnum",186],",",["T_WHITESPACE"," ",186],["T_VARIABLE","$EOL",186],["T_WHITESPACE"," ",186],"=",["T_WHITESPACE"," ",186],["T_STRING","Zend_Mime",186],["T_DOUBLE_COLON","::",186],["T_STRING","LINEEND",186],")",["T_WHITESPACE","\n    ",186],"{",["T_WHITESPACE","\n        ",187],["T_RETURN","return",188],["T_WHITESPACE"," ",188],["T_VARIABLE","$this",188],["T_OBJECT_OPERATOR","->",188],["T_STRING","_parts",188],"[",["T_VARIABLE","$partnum",188],"]",["T_OBJECT_OPERATOR","->",188],["T_STRING","getHeaders",188],"(",["T_VARIABLE","$EOL",188],")",";",["T_WHITESPACE","\n    ",188],"}",["T_WHITESPACE","\n\n    ",189],["T_DOC_COMMENT","\/**\n     * Get the (encoded) content of a given part as a string\n     *\n     * @param  int    $partnum\n     * @param  string $EOL\n     * @return string\n     *\/",191],["T_WHITESPACE","\n    ",197],["T_PUBLIC","public",198],["T_WHITESPACE"," ",198],["T_FUNCTION","function",198],["T_WHITESPACE"," ",198],["T_STRING","getPartContent",198],"(",["T_VARIABLE","$partnum",198],",",["T_WHITESPACE"," ",198],["T_VARIABLE","$EOL",198],["T_WHITESPACE"," ",198],"=",["T_WHITESPACE"," ",198],["T_STRING","Zend_Mime",198],["T_DOUBLE_COLON","::",198],["T_STRING","LINEEND",198],")",["T_WHITESPACE","\n    ",198],"{",["T_WHITESPACE","\n        ",199],["T_RETURN","return",200],["T_WHITESPACE"," ",200],["T_VARIABLE","$this",200],["T_OBJECT_OPERATOR","->",200],["T_STRING","_parts",200],"[",["T_VARIABLE","$partnum",200],"]",["T_OBJECT_OPERATOR","->",200],["T_STRING","getContent",200],"(",["T_VARIABLE","$EOL",200],")",";",["T_WHITESPACE","\n    ",200],"}",["T_WHITESPACE","\n\n    ",201],["T_DOC_COMMENT","\/**\n     * Explode MIME multipart string into seperate parts\n     *\n     * Parts consist of the header and the body of each MIME part.\n     *\n     * @param  string $body\n     * @param  string $boundary\n     * @throws Zend_Exception\n     * @return array\n     *\/",203],["T_WHITESPACE","\n    ",212],["T_PROTECTED","protected",213],["T_WHITESPACE"," ",213],["T_STATIC","static",213],["T_WHITESPACE"," ",213],["T_FUNCTION","function",213],["T_WHITESPACE"," ",213],["T_STRING","_disassembleMime",213],"(",["T_VARIABLE","$body",213],",",["T_WHITESPACE"," ",213],["T_VARIABLE","$boundary",213],")",["T_WHITESPACE","\n    ",213],"{",["T_WHITESPACE","\n        ",214],["T_VARIABLE","$start",215],["T_WHITESPACE"," ",215],"=",["T_WHITESPACE"," ",215],["T_LNUMBER","0",215],";",["T_WHITESPACE","\n        ",215],["T_VARIABLE","$res",216],["T_WHITESPACE","   ",216],"=",["T_WHITESPACE"," ",216],["T_ARRAY","array",216],"(",")",";",["T_WHITESPACE","\n        ",216],["T_COMMENT","\/\/ find every mime part limiter and cut out the\n",217],["T_WHITESPACE","        ",218],["T_COMMENT","\/\/ string before it.\n",218],["T_WHITESPACE","        ",219],["T_COMMENT","\/\/ the part before the first boundary string is discarded:\n",219],["T_WHITESPACE","        ",220],["T_VARIABLE","$p",220],["T_WHITESPACE"," ",220],"=",["T_WHITESPACE"," ",220],["T_STRING","strpos",220],"(",["T_VARIABLE","$body",220],",",["T_WHITESPACE"," ",220],["T_CONSTANT_ENCAPSED_STRING","'--'",220],["T_WHITESPACE"," ",220],".",["T_WHITESPACE"," ",220],["T_VARIABLE","$boundary",220],["T_WHITESPACE"," ",220],".",["T_WHITESPACE"," ",220],["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",220],",",["T_WHITESPACE"," ",220],["T_VARIABLE","$start",220],")",";",["T_WHITESPACE","\n        ",220],["T_IF","if",221],["T_WHITESPACE"," ",221],"(",["T_VARIABLE","$p",221],["T_WHITESPACE"," ",221],["T_IS_IDENTICAL","===",221],["T_WHITESPACE"," ",221],["T_STRING","false",221],")",["T_WHITESPACE"," ",221],"{",["T_WHITESPACE","\n            ",221],["T_COMMENT","\/\/ no parts found!\n",222],["T_WHITESPACE","            ",223],["T_RETURN","return",223],["T_WHITESPACE"," ",223],["T_ARRAY","array",223],"(",")",";",["T_WHITESPACE","\n        ",223],"}",["T_WHITESPACE","\n\n        ",224],["T_COMMENT","\/\/ position after first boundary line\n",226],["T_WHITESPACE","        ",227],["T_VARIABLE","$start",227],["T_WHITESPACE"," ",227],"=",["T_WHITESPACE"," ",227],["T_VARIABLE","$p",227],["T_WHITESPACE"," ",227],"+",["T_WHITESPACE"," ",227],["T_LNUMBER","3",227],["T_WHITESPACE"," ",227],"+",["T_WHITESPACE"," ",227],["T_STRING","strlen",227],"(",["T_VARIABLE","$boundary",227],")",";",["T_WHITESPACE","\n\n        ",227],["T_WHILE","while",229],["T_WHITESPACE"," ",229],"(","(",["T_VARIABLE","$p",229],["T_WHITESPACE"," ",229],"=",["T_WHITESPACE"," ",229],["T_STRING","strpos",229],"(",["T_VARIABLE","$body",229],",",["T_WHITESPACE"," ",229],["T_CONSTANT_ENCAPSED_STRING","'--'",229],["T_WHITESPACE"," ",229],".",["T_WHITESPACE"," ",229],["T_VARIABLE","$boundary",229],["T_WHITESPACE"," ",229],".",["T_WHITESPACE"," ",229],["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",229],",",["T_WHITESPACE"," ",229],["T_VARIABLE","$start",229],")",")",["T_WHITESPACE","\n               ",229],["T_IS_NOT_IDENTICAL","!==",230],["T_WHITESPACE"," ",230],["T_STRING","false",230],")",["T_WHITESPACE"," ",230],"{",["T_WHITESPACE","\n            ",230],["T_VARIABLE","$res",231],"[","]",["T_WHITESPACE"," ",231],"=",["T_WHITESPACE"," ",231],["T_STRING","substr",231],"(",["T_VARIABLE","$body",231],",",["T_WHITESPACE"," ",231],["T_VARIABLE","$start",231],",",["T_WHITESPACE"," ",231],["T_VARIABLE","$p",231],["T_WHITESPACE"," ",231],"-",["T_WHITESPACE"," ",231],["T_VARIABLE","$start",231],")",";",["T_WHITESPACE","\n            ",231],["T_VARIABLE","$start",232],["T_WHITESPACE"," ",232],"=",["T_WHITESPACE"," ",232],["T_VARIABLE","$p",232],["T_WHITESPACE"," ",232],"+",["T_WHITESPACE"," ",232],["T_LNUMBER","3",232],["T_WHITESPACE"," ",232],"+",["T_WHITESPACE"," ",232],["T_STRING","strlen",232],"(",["T_VARIABLE","$boundary",232],")",";",["T_WHITESPACE","\n        ",232],"}",["T_WHITESPACE","\n\n        ",233],["T_COMMENT","\/\/ no more parts, find end boundary\n",235],["T_WHITESPACE","        ",236],["T_VARIABLE","$p",236],["T_WHITESPACE"," ",236],"=",["T_WHITESPACE"," ",236],["T_STRING","strpos",236],"(",["T_VARIABLE","$body",236],",",["T_WHITESPACE"," ",236],["T_CONSTANT_ENCAPSED_STRING","'--'",236],["T_WHITESPACE"," ",236],".",["T_WHITESPACE"," ",236],["T_VARIABLE","$boundary",236],["T_WHITESPACE"," ",236],".",["T_WHITESPACE"," ",236],["T_CONSTANT_ENCAPSED_STRING","'--'",236],",",["T_WHITESPACE"," ",236],["T_VARIABLE","$start",236],")",";",["T_WHITESPACE","\n        ",236],["T_IF","if",237],["T_WHITESPACE"," ",237],"(",["T_VARIABLE","$p",237],["T_WHITESPACE"," ",237],["T_IS_IDENTICAL","===",237],["T_WHITESPACE"," ",237],["T_STRING","false",237],")",["T_WHITESPACE"," ",237],"{",["T_WHITESPACE","\n            ",237],["T_THROW","throw",238],["T_WHITESPACE"," ",238],["T_NEW","new",238],["T_WHITESPACE"," ",238],["T_STRING","Zend_Exception",238],"(",["T_CONSTANT_ENCAPSED_STRING","'Not a valid Mime Message: End Missing'",238],")",";",["T_WHITESPACE","\n        ",238],"}",["T_WHITESPACE","\n\n        ",239],["T_COMMENT","\/\/ the remaining part also needs to be parsed:\n",241],["T_WHITESPACE","        ",242],["T_VARIABLE","$res",242],"[","]",["T_WHITESPACE"," ",242],"=",["T_WHITESPACE"," ",242],["T_STRING","substr",242],"(",["T_VARIABLE","$body",242],",",["T_WHITESPACE"," ",242],["T_VARIABLE","$start",242],",",["T_WHITESPACE"," ",242],["T_VARIABLE","$p",242],["T_WHITESPACE"," ",242],"-",["T_WHITESPACE"," ",242],["T_VARIABLE","$start",242],")",";",["T_WHITESPACE","\n\n        ",242],["T_RETURN","return",244],["T_WHITESPACE"," ",244],["T_VARIABLE","$res",244],";",["T_WHITESPACE","\n    ",244],"}",["T_WHITESPACE","\n\n    ",245],["T_DOC_COMMENT","\/**\n     * Decodes a MIME encoded string and returns a Zend_Mime_Message object with\n     * all the MIME parts set according to the given string\n     *\n     * @param  string $message\n     * @param  string $boundary\n     * @param  string $EOL EOL string; defaults to {@link Zend_Mime::LINEEND}\n     * @throws Zend_Exception\n     * @return Zend_Mime_Message\n     *\/",247],["T_WHITESPACE","\n    ",256],["T_PUBLIC","public",257],["T_WHITESPACE"," ",257],["T_STATIC","static",257],["T_WHITESPACE"," ",257],["T_FUNCTION","function",257],["T_WHITESPACE"," ",257],["T_STRING","createFromMessage",257],"(",["T_WHITESPACE","\n        ",257],["T_VARIABLE","$message",258],",",["T_WHITESPACE"," ",258],["T_VARIABLE","$boundary",258],",",["T_WHITESPACE"," ",258],["T_VARIABLE","$EOL",258],["T_WHITESPACE"," ",258],"=",["T_WHITESPACE"," ",258],["T_STRING","Zend_Mime",258],["T_DOUBLE_COLON","::",258],["T_STRING","LINEEND",258],["T_WHITESPACE","\n    ",258],")",["T_WHITESPACE","\n    ",259],"{",["T_WHITESPACE","\n        ",260],["T_COMMENT","#require_once 'Zend\/Mime\/Decode.php';\n",261],["T_WHITESPACE","        ",262],["T_VARIABLE","$parts",262],["T_WHITESPACE"," ",262],"=",["T_WHITESPACE"," ",262],["T_STRING","Zend_Mime_Decode",262],["T_DOUBLE_COLON","::",262],["T_STRING","splitMessageStruct",262],"(",["T_VARIABLE","$message",262],",",["T_WHITESPACE"," ",262],["T_VARIABLE","$boundary",262],",",["T_WHITESPACE"," ",262],["T_VARIABLE","$EOL",262],")",";",["T_WHITESPACE","\n\n        ",262],["T_VARIABLE","$res",264],["T_WHITESPACE"," ",264],"=",["T_WHITESPACE"," ",264],["T_NEW","new",264],["T_WHITESPACE"," ",264],["T_STRING","self",264],"(",")",";",["T_WHITESPACE","\n        ",264],["T_FOREACH","foreach",265],["T_WHITESPACE"," ",265],"(",["T_VARIABLE","$parts",265],["T_WHITESPACE"," ",265],["T_AS","as",265],["T_WHITESPACE"," ",265],["T_VARIABLE","$part",265],")",["T_WHITESPACE"," ",265],"{",["T_WHITESPACE","\n            ",265],["T_COMMENT","\/\/ now we build a new MimePart for the current Message Part:\n",266],["T_WHITESPACE","            ",267],["T_VARIABLE","$newPart",267],["T_WHITESPACE"," ",267],"=",["T_WHITESPACE"," ",267],["T_NEW","new",267],["T_WHITESPACE"," ",267],["T_STRING","Zend_Mime_Part",267],"(",["T_VARIABLE","$part",267],"[",["T_CONSTANT_ENCAPSED_STRING","'body'",267],"]",")",";",["T_WHITESPACE","\n            ",267],["T_FOREACH","foreach",268],["T_WHITESPACE"," ",268],"(",["T_VARIABLE","$part",268],"[",["T_CONSTANT_ENCAPSED_STRING","'header'",268],"]",["T_WHITESPACE"," ",268],["T_AS","as",268],["T_WHITESPACE"," ",268],["T_VARIABLE","$key",268],["T_WHITESPACE"," ",268],["T_DOUBLE_ARROW","=>",268],["T_WHITESPACE"," ",268],["T_VARIABLE","$value",268],")",["T_WHITESPACE"," ",268],"{",["T_WHITESPACE","\n                ",268],["T_DOC_COMMENT","\/**\n                 * @todo check for characterset and filename\n                 *\/",269],["T_WHITESPACE","\n                ",271],["T_SWITCH","switch",272],["T_WHITESPACE"," ",272],"(",["T_STRING","strtolower",272],"(",["T_VARIABLE","$key",272],")",")",["T_WHITESPACE"," ",272],"{",["T_WHITESPACE","\n                    ",272],["T_CASE","case",273],["T_WHITESPACE"," ",273],["T_CONSTANT_ENCAPSED_STRING","'content-type'",273],":",["T_WHITESPACE","\n                        ",273],["T_VARIABLE","$newPart",274],["T_OBJECT_OPERATOR","->",274],["T_STRING","type",274],["T_WHITESPACE"," ",274],"=",["T_WHITESPACE"," ",274],["T_VARIABLE","$value",274],";",["T_WHITESPACE","\n                        ",274],["T_BREAK","break",275],";",["T_WHITESPACE","\n                    ",275],["T_CASE","case",276],["T_WHITESPACE"," ",276],["T_CONSTANT_ENCAPSED_STRING","'content-transfer-encoding'",276],":",["T_WHITESPACE","\n                        ",276],["T_VARIABLE","$newPart",277],["T_OBJECT_OPERATOR","->",277],["T_STRING","encoding",277],["T_WHITESPACE"," ",277],"=",["T_WHITESPACE"," ",277],["T_VARIABLE","$value",277],";",["T_WHITESPACE","\n                        ",277],["T_BREAK","break",278],";",["T_WHITESPACE","\n                    ",278],["T_CASE","case",279],["T_WHITESPACE"," ",279],["T_CONSTANT_ENCAPSED_STRING","'content-id'",279],":",["T_WHITESPACE","\n                        ",279],["T_VARIABLE","$newPart",280],["T_OBJECT_OPERATOR","->",280],["T_STRING","id",280],["T_WHITESPACE"," ",280],"=",["T_WHITESPACE"," ",280],["T_STRING","trim",280],"(",["T_VARIABLE","$value",280],",",["T_WHITESPACE"," ",280],["T_CONSTANT_ENCAPSED_STRING","'<>'",280],")",";",["T_WHITESPACE","\n                        ",280],["T_BREAK","break",281],";",["T_WHITESPACE","\n                    ",281],["T_CASE","case",282],["T_WHITESPACE"," ",282],["T_CONSTANT_ENCAPSED_STRING","'content-disposition'",282],":",["T_WHITESPACE","\n                        ",282],["T_VARIABLE","$newPart",283],["T_OBJECT_OPERATOR","->",283],["T_STRING","disposition",283],["T_WHITESPACE"," ",283],"=",["T_WHITESPACE"," ",283],["T_VARIABLE","$value",283],";",["T_WHITESPACE","\n                        ",283],["T_BREAK","break",284],";",["T_WHITESPACE","\n                    ",284],["T_CASE","case",285],["T_WHITESPACE"," ",285],["T_CONSTANT_ENCAPSED_STRING","'content-description'",285],":",["T_WHITESPACE","\n                        ",285],["T_VARIABLE","$newPart",286],["T_OBJECT_OPERATOR","->",286],["T_STRING","description",286],["T_WHITESPACE"," ",286],"=",["T_WHITESPACE"," ",286],["T_VARIABLE","$value",286],";",["T_WHITESPACE","\n                        ",286],["T_BREAK","break",287],";",["T_WHITESPACE","\n                    ",287],["T_CASE","case",288],["T_WHITESPACE"," ",288],["T_CONSTANT_ENCAPSED_STRING","'content-location'",288],":",["T_WHITESPACE","\n                        ",288],["T_VARIABLE","$newPart",289],["T_OBJECT_OPERATOR","->",289],["T_STRING","location",289],["T_WHITESPACE"," ",289],"=",["T_WHITESPACE"," ",289],["T_VARIABLE","$value",289],";",["T_WHITESPACE","\n                        ",289],["T_BREAK","break",290],";",["T_WHITESPACE","\n                    ",290],["T_CASE","case",291],["T_WHITESPACE"," ",291],["T_CONSTANT_ENCAPSED_STRING","'content-language'",291],":",["T_WHITESPACE","\n                        ",291],["T_VARIABLE","$newPart",292],["T_OBJECT_OPERATOR","->",292],["T_STRING","language",292],["T_WHITESPACE"," ",292],"=",["T_WHITESPACE"," ",292],["T_VARIABLE","$value",292],";",["T_WHITESPACE","\n                        ",292],["T_BREAK","break",293],";",["T_WHITESPACE","\n                    ",293],["T_DEFAULT","default",294],":",["T_WHITESPACE","\n                        ",294],["T_THROW","throw",295],["T_WHITESPACE"," ",295],["T_NEW","new",295],["T_WHITESPACE"," ",295],["T_STRING","Zend_Exception",295],"(",["T_WHITESPACE","\n                            ",295],["T_CONSTANT_ENCAPSED_STRING","'Unknown header ignored for MimePart:'",296],["T_WHITESPACE"," ",296],".",["T_WHITESPACE"," ",296],["T_VARIABLE","$key",296],["T_WHITESPACE","\n                        ",296],")",";",["T_WHITESPACE","\n                ",297],"}",["T_WHITESPACE","\n            ",298],"}",["T_WHITESPACE","\n            ",299],["T_VARIABLE","$res",300],["T_OBJECT_OPERATOR","->",300],["T_STRING","addPart",300],"(",["T_VARIABLE","$newPart",300],")",";",["T_WHITESPACE","\n        ",300],"}",["T_WHITESPACE","\n\n        ",301],["T_RETURN","return",303],["T_WHITESPACE"," ",303],["T_VARIABLE","$res",303],";",["T_WHITESPACE","\n    ",303],"}",["T_WHITESPACE","\n",304],"}",["T_WHITESPACE","\n",305]]