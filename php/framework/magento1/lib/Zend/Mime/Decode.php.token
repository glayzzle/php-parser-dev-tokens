[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Zend Framework\n *\n * LICENSE\n *\n * This source file is subject to the new BSD license that is bundled\n * with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/framework.zend.com\/license\/new-bsd\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@zend.com so we can send you a copy immediately.\n *\n * @category   Zend\n * @package    Zend_Mime\n * @copyright  Copyright (c) 2005-2015 Zend Technologies USA Inc. (http:\/\/www.zend.com)\n * @license    http:\/\/framework.zend.com\/license\/new-bsd     New BSD License\n * @version    $Id$\n *\/",2],["T_WHITESPACE","\n\n",20],["T_DOC_COMMENT","\/**\n * @see Zend_Mime\n *\/",22],["T_WHITESPACE","\n",24],["T_COMMENT","#require_once 'Zend\/Mime.php';\n",25],["T_WHITESPACE","\n",26],["T_DOC_COMMENT","\/**\n * @category   Zend\n * @package    Zend_Mime\n * @copyright  Copyright (c) 2005-2015 Zend Technologies USA Inc. (http:\/\/www.zend.com)\n * @license    http:\/\/framework.zend.com\/license\/new-bsd     New BSD License\n *\/",27],["T_WHITESPACE","\n",32],["T_CLASS","class",33],["T_WHITESPACE"," ",33],["T_STRING","Zend_Mime_Decode",33],["T_WHITESPACE","\n",33],"{",["T_WHITESPACE","\n    ",34],["T_DOC_COMMENT","\/**\n     * Explode MIME multipart string into seperate parts\n     *\n     * Parts consist of the header and the body of each MIME part.\n     *\n     * @param  string $body     raw body of message\n     * @param  string $boundary boundary as found in content-type\n     * @return array parts with content of each part, empty if no parts found\n     * @throws Zend_Exception\n     *\/",35],["T_WHITESPACE","\n    ",44],["T_PUBLIC","public",45],["T_WHITESPACE"," ",45],["T_STATIC","static",45],["T_WHITESPACE"," ",45],["T_FUNCTION","function",45],["T_WHITESPACE"," ",45],["T_STRING","splitMime",45],"(",["T_VARIABLE","$body",45],",",["T_WHITESPACE"," ",45],["T_VARIABLE","$boundary",45],")",["T_WHITESPACE","\n    ",45],"{",["T_WHITESPACE","\n        ",46],["T_COMMENT","\/\/ TODO: we're ignoring \\r for now - is this function fast enough and is it safe to asume noone needs \\r?\n",47],["T_WHITESPACE","        ",48],["T_VARIABLE","$body",48],["T_WHITESPACE"," ",48],"=",["T_WHITESPACE"," ",48],["T_STRING","str_replace",48],"(",["T_CONSTANT_ENCAPSED_STRING","\"\\r\"",48],",",["T_WHITESPACE"," ",48],["T_CONSTANT_ENCAPSED_STRING","''",48],",",["T_WHITESPACE"," ",48],["T_VARIABLE","$body",48],")",";",["T_WHITESPACE","\n\n        ",48],["T_VARIABLE","$start",50],["T_WHITESPACE"," ",50],"=",["T_WHITESPACE"," ",50],["T_LNUMBER","0",50],";",["T_WHITESPACE","\n        ",50],["T_VARIABLE","$res",51],["T_WHITESPACE","   ",51],"=",["T_WHITESPACE"," ",51],["T_ARRAY","array",51],"(",")",";",["T_WHITESPACE","\n        ",51],["T_COMMENT","\/\/ find every mime part limiter and cut out the\n",52],["T_WHITESPACE","        ",53],["T_COMMENT","\/\/ string before it.\n",53],["T_WHITESPACE","        ",54],["T_COMMENT","\/\/ the part before the first boundary string is discarded:\n",54],["T_WHITESPACE","        ",55],["T_VARIABLE","$p",55],["T_WHITESPACE"," ",55],"=",["T_WHITESPACE"," ",55],["T_STRING","strpos",55],"(",["T_VARIABLE","$body",55],",",["T_WHITESPACE"," ",55],["T_CONSTANT_ENCAPSED_STRING","'--'",55],["T_WHITESPACE"," ",55],".",["T_WHITESPACE"," ",55],["T_VARIABLE","$boundary",55],["T_WHITESPACE"," ",55],".",["T_WHITESPACE"," ",55],["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",55],",",["T_WHITESPACE"," ",55],["T_VARIABLE","$start",55],")",";",["T_WHITESPACE","\n        ",55],["T_IF","if",56],["T_WHITESPACE"," ",56],"(",["T_VARIABLE","$p",56],["T_WHITESPACE"," ",56],["T_IS_IDENTICAL","===",56],["T_WHITESPACE"," ",56],["T_STRING","false",56],")",["T_WHITESPACE"," ",56],"{",["T_WHITESPACE","\n            ",56],["T_COMMENT","\/\/ no parts found!\n",57],["T_WHITESPACE","            ",58],["T_RETURN","return",58],["T_WHITESPACE"," ",58],["T_ARRAY","array",58],"(",")",";",["T_WHITESPACE","\n        ",58],"}",["T_WHITESPACE","\n\n        ",59],["T_COMMENT","\/\/ position after first boundary line\n",61],["T_WHITESPACE","        ",62],["T_VARIABLE","$start",62],["T_WHITESPACE"," ",62],"=",["T_WHITESPACE"," ",62],["T_VARIABLE","$p",62],["T_WHITESPACE"," ",62],"+",["T_WHITESPACE"," ",62],["T_LNUMBER","3",62],["T_WHITESPACE"," ",62],"+",["T_WHITESPACE"," ",62],["T_STRING","strlen",62],"(",["T_VARIABLE","$boundary",62],")",";",["T_WHITESPACE","\n\n        ",62],["T_WHILE","while",64],["T_WHITESPACE"," ",64],"(","(",["T_VARIABLE","$p",64],["T_WHITESPACE"," ",64],"=",["T_WHITESPACE"," ",64],["T_STRING","strpos",64],"(",["T_VARIABLE","$body",64],",",["T_WHITESPACE"," ",64],["T_CONSTANT_ENCAPSED_STRING","'--'",64],["T_WHITESPACE"," ",64],".",["T_WHITESPACE"," ",64],["T_VARIABLE","$boundary",64],["T_WHITESPACE"," ",64],".",["T_WHITESPACE"," ",64],["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",64],",",["T_WHITESPACE"," ",64],["T_VARIABLE","$start",64],")",")",["T_WHITESPACE"," ",64],["T_IS_NOT_IDENTICAL","!==",64],["T_WHITESPACE"," ",64],["T_STRING","false",64],")",["T_WHITESPACE"," ",64],"{",["T_WHITESPACE","\n            ",64],["T_VARIABLE","$res",65],"[","]",["T_WHITESPACE"," ",65],"=",["T_WHITESPACE"," ",65],["T_STRING","substr",65],"(",["T_VARIABLE","$body",65],",",["T_WHITESPACE"," ",65],["T_VARIABLE","$start",65],",",["T_WHITESPACE"," ",65],["T_VARIABLE","$p",65],"-",["T_VARIABLE","$start",65],")",";",["T_WHITESPACE","\n            ",65],["T_VARIABLE","$start",66],["T_WHITESPACE"," ",66],"=",["T_WHITESPACE"," ",66],["T_VARIABLE","$p",66],["T_WHITESPACE"," ",66],"+",["T_WHITESPACE"," ",66],["T_LNUMBER","3",66],["T_WHITESPACE"," ",66],"+",["T_WHITESPACE"," ",66],["T_STRING","strlen",66],"(",["T_VARIABLE","$boundary",66],")",";",["T_WHITESPACE","\n        ",66],"}",["T_WHITESPACE","\n\n        ",67],["T_COMMENT","\/\/ no more parts, find end boundary\n",69],["T_WHITESPACE","        ",70],["T_VARIABLE","$p",70],["T_WHITESPACE"," ",70],"=",["T_WHITESPACE"," ",70],["T_STRING","strpos",70],"(",["T_VARIABLE","$body",70],",",["T_WHITESPACE"," ",70],["T_CONSTANT_ENCAPSED_STRING","'--'",70],["T_WHITESPACE"," ",70],".",["T_WHITESPACE"," ",70],["T_VARIABLE","$boundary",70],["T_WHITESPACE"," ",70],".",["T_WHITESPACE"," ",70],["T_CONSTANT_ENCAPSED_STRING","'--'",70],",",["T_WHITESPACE"," ",70],["T_VARIABLE","$start",70],")",";",["T_WHITESPACE","\n        ",70],["T_IF","if",71],["T_WHITESPACE"," ",71],"(",["T_VARIABLE","$p",71],["T_WHITESPACE"," ",71],["T_IS_IDENTICAL","===",71],["T_WHITESPACE"," ",71],["T_STRING","false",71],")",["T_WHITESPACE"," ",71],"{",["T_WHITESPACE","\n            ",71],["T_THROW","throw",72],["T_WHITESPACE"," ",72],["T_NEW","new",72],["T_WHITESPACE"," ",72],["T_STRING","Zend_Exception",72],"(",["T_CONSTANT_ENCAPSED_STRING","'Not a valid Mime Message: End Missing'",72],")",";",["T_WHITESPACE","\n        ",72],"}",["T_WHITESPACE","\n\n        ",73],["T_COMMENT","\/\/ the remaining part also needs to be parsed:\n",75],["T_WHITESPACE","        ",76],["T_VARIABLE","$res",76],"[","]",["T_WHITESPACE"," ",76],"=",["T_WHITESPACE"," ",76],["T_STRING","substr",76],"(",["T_VARIABLE","$body",76],",",["T_WHITESPACE"," ",76],["T_VARIABLE","$start",76],",",["T_WHITESPACE"," ",76],["T_VARIABLE","$p",76],["T_WHITESPACE"," ",76],"-",["T_WHITESPACE"," ",76],["T_VARIABLE","$start",76],")",";",["T_WHITESPACE","\n\n        ",76],["T_RETURN","return",78],["T_WHITESPACE"," ",78],["T_VARIABLE","$res",78],";",["T_WHITESPACE","\n    ",78],"}",["T_WHITESPACE","\n\n    ",79],["T_DOC_COMMENT","\/**\n     * decodes a mime encoded String and returns a\n     * struct of parts with header and body\n     *\n     * @param  string $message  raw message content\n     * @param  string $boundary boundary as found in content-type\n     * @param  string $EOL      EOL string; defaults to {@link Zend_Mime::LINEEND}\n     * @return array|null parts as array('header' => array(name => value), 'body' => content), null if no parts found\n     * @throws Zend_Exception\n     *\/",81],["T_WHITESPACE","\n    ",90],["T_PUBLIC","public",91],["T_WHITESPACE"," ",91],["T_STATIC","static",91],["T_WHITESPACE"," ",91],["T_FUNCTION","function",91],["T_WHITESPACE"," ",91],["T_STRING","splitMessageStruct",91],"(",["T_WHITESPACE","\n        ",91],["T_VARIABLE","$message",92],",",["T_WHITESPACE"," ",92],["T_VARIABLE","$boundary",92],",",["T_WHITESPACE"," ",92],["T_VARIABLE","$EOL",92],["T_WHITESPACE"," ",92],"=",["T_WHITESPACE"," ",92],["T_STRING","Zend_Mime",92],["T_DOUBLE_COLON","::",92],["T_STRING","LINEEND",92],["T_WHITESPACE","\n    ",92],")",["T_WHITESPACE","\n    ",93],"{",["T_WHITESPACE","\n        ",94],["T_VARIABLE","$parts",95],["T_WHITESPACE"," ",95],"=",["T_WHITESPACE"," ",95],["T_STRING","self",95],["T_DOUBLE_COLON","::",95],["T_STRING","splitMime",95],"(",["T_VARIABLE","$message",95],",",["T_WHITESPACE"," ",95],["T_VARIABLE","$boundary",95],")",";",["T_WHITESPACE","\n        ",95],["T_IF","if",96],["T_WHITESPACE"," ",96],"(",["T_STRING","count",96],"(",["T_VARIABLE","$parts",96],")",["T_WHITESPACE"," ",96],["T_IS_SMALLER_OR_EQUAL","<=",96],["T_WHITESPACE"," ",96],["T_LNUMBER","0",96],")",["T_WHITESPACE"," ",96],"{",["T_WHITESPACE","\n            ",96],["T_RETURN","return",97],["T_WHITESPACE"," ",97],["T_STRING","null",97],";",["T_WHITESPACE","\n        ",97],"}",["T_WHITESPACE","\n        ",98],["T_VARIABLE","$result",99],["T_WHITESPACE"," ",99],"=",["T_WHITESPACE"," ",99],["T_ARRAY","array",99],"(",")",";",["T_WHITESPACE","\n        ",99],["T_FOREACH","foreach",100],["T_WHITESPACE"," ",100],"(",["T_VARIABLE","$parts",100],["T_WHITESPACE"," ",100],["T_AS","as",100],["T_WHITESPACE"," ",100],["T_VARIABLE","$part",100],")",["T_WHITESPACE"," ",100],"{",["T_WHITESPACE","\n            ",100],["T_STRING","self",101],["T_DOUBLE_COLON","::",101],["T_STRING","splitMessage",101],"(",["T_VARIABLE","$part",101],",",["T_WHITESPACE"," ",101],["T_VARIABLE","$headers",101],",",["T_WHITESPACE"," ",101],["T_VARIABLE","$body",101],",",["T_WHITESPACE"," ",101],["T_VARIABLE","$EOL",101],")",";",["T_WHITESPACE","\n            ",101],["T_VARIABLE","$result",102],"[","]",["T_WHITESPACE"," ",102],"=",["T_WHITESPACE"," ",102],["T_ARRAY","array",102],"(",["T_WHITESPACE","\n                ",102],["T_CONSTANT_ENCAPSED_STRING","'header'",103],["T_WHITESPACE"," ",103],["T_DOUBLE_ARROW","=>",103],["T_WHITESPACE"," ",103],["T_VARIABLE","$headers",103],",",["T_WHITESPACE","\n                ",103],["T_CONSTANT_ENCAPSED_STRING","'body'",104],["T_WHITESPACE","   ",104],["T_DOUBLE_ARROW","=>",104],["T_WHITESPACE"," ",104],["T_VARIABLE","$body",104],["T_WHITESPACE","\n            ",104],")",";",["T_WHITESPACE","\n        ",105],"}",["T_WHITESPACE","\n\n        ",106],["T_RETURN","return",108],["T_WHITESPACE"," ",108],["T_VARIABLE","$result",108],";",["T_WHITESPACE","\n    ",108],"}",["T_WHITESPACE","\n\n    ",109],["T_DOC_COMMENT","\/**\n     * split a message in header and body part, if no header or an\n     * invalid header is found $headers is empty\n     *\n     * The charset of the returned headers depend on your iconv settings.\n     *\n     * @param  string $message raw message with header and optional content\n     * @param  array  $headers output param, array with headers as array(name => value)\n     * @param  string $body    output param, content of message\n     * @param  string $EOL     EOL string; defaults to {@link Zend_Mime::LINEEND}\n     * @return null\n     *\/",111],["T_WHITESPACE","\n    ",122],["T_PUBLIC","public",123],["T_WHITESPACE"," ",123],["T_STATIC","static",123],["T_WHITESPACE"," ",123],["T_FUNCTION","function",123],["T_WHITESPACE"," ",123],["T_STRING","splitMessage",123],"(",["T_WHITESPACE","\n        ",123],["T_VARIABLE","$message",124],",",["T_WHITESPACE"," ",124],"&",["T_VARIABLE","$headers",124],",",["T_WHITESPACE"," ",124],"&",["T_VARIABLE","$body",124],",",["T_WHITESPACE"," ",124],["T_VARIABLE","$EOL",124],["T_WHITESPACE"," ",124],"=",["T_WHITESPACE"," ",124],["T_STRING","Zend_Mime",124],["T_DOUBLE_COLON","::",124],["T_STRING","LINEEND",124],["T_WHITESPACE","\n    ",124],")",["T_WHITESPACE","\n    ",125],"{",["T_WHITESPACE","\n        ",126],["T_COMMENT","\/\/ check for valid header at first line\n",127],["T_WHITESPACE","        ",128],["T_VARIABLE","$firstline",128],["T_WHITESPACE"," ",128],"=",["T_WHITESPACE"," ",128],["T_STRING","strtok",128],"(",["T_VARIABLE","$message",128],",",["T_WHITESPACE"," ",128],["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",128],")",";",["T_WHITESPACE","\n        ",128],["T_IF","if",129],["T_WHITESPACE"," ",129],"(","!",["T_STRING","preg_match",129],"(",["T_CONSTANT_ENCAPSED_STRING","'%^[^\\s]+[^:]*:%'",129],",",["T_WHITESPACE"," ",129],["T_VARIABLE","$firstline",129],")",")",["T_WHITESPACE"," ",129],"{",["T_WHITESPACE","\n            ",129],["T_VARIABLE","$headers",130],["T_WHITESPACE"," ",130],"=",["T_WHITESPACE"," ",130],["T_ARRAY","array",130],"(",")",";",["T_WHITESPACE","\n            ",130],["T_COMMENT","\/\/ TODO: we're ignoring \\r for now - is this function fast enough and is it safe to asume noone needs \\r?\n",131],["T_WHITESPACE","            ",132],["T_VARIABLE","$body",132],["T_WHITESPACE"," ",132],"=",["T_WHITESPACE"," ",132],["T_STRING","str_replace",132],"(",["T_WHITESPACE","\n                ",132],["T_ARRAY","array",133],"(",["T_WHITESPACE","\n                    ",133],["T_CONSTANT_ENCAPSED_STRING","\"\\r\"",134],",",["T_WHITESPACE","\n                    ",134],["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",135],["T_WHITESPACE","\n                ",135],")",",",["T_WHITESPACE"," ",136],["T_ARRAY","array",136],"(",["T_WHITESPACE","\n                    ",136],["T_CONSTANT_ENCAPSED_STRING","''",137],",",["T_WHITESPACE","\n                    ",137],["T_VARIABLE","$EOL",138],["T_WHITESPACE","\n                ",138],")",",",["T_WHITESPACE"," ",139],["T_VARIABLE","$message",139],["T_WHITESPACE","\n            ",139],")",";",["T_WHITESPACE","\n\n            ",140],["T_RETURN","return",142],";",["T_WHITESPACE","\n        ",142],"}",["T_WHITESPACE","\n\n        ",143],["T_COMMENT","\/\/ find an empty line between headers and body\n",145],["T_WHITESPACE","        ",146],["T_COMMENT","\/\/ default is set new line\n",146],["T_WHITESPACE","        ",147],["T_IF","if",147],["T_WHITESPACE"," ",147],"(",["T_STRING","strpos",147],"(",["T_VARIABLE","$message",147],",",["T_WHITESPACE"," ",147],["T_VARIABLE","$EOL",147],["T_WHITESPACE"," ",147],".",["T_WHITESPACE"," ",147],["T_VARIABLE","$EOL",147],")",")",["T_WHITESPACE"," ",147],"{",["T_WHITESPACE","\n            ",147],["T_LIST","list",148],"(",["T_VARIABLE","$headers",148],",",["T_WHITESPACE"," ",148],["T_VARIABLE","$body",148],")",["T_WHITESPACE"," ",148],"=",["T_WHITESPACE"," ",148],["T_STRING","explode",148],"(",["T_VARIABLE","$EOL",148],["T_WHITESPACE"," ",148],".",["T_WHITESPACE"," ",148],["T_VARIABLE","$EOL",148],",",["T_WHITESPACE"," ",148],["T_VARIABLE","$message",148],",",["T_WHITESPACE"," ",148],["T_LNUMBER","2",148],")",";",["T_WHITESPACE","\n            ",148],["T_COMMENT","\/\/ next is the standard new line\n",149],["T_WHITESPACE","        ",150],"}",["T_WHITESPACE"," ",150],["T_ELSE","else",150],["T_WHITESPACE"," ",150],"{",["T_WHITESPACE","\n            ",150],["T_IF","if",151],["T_WHITESPACE"," ",151],"(",["T_VARIABLE","$EOL",151],["T_WHITESPACE"," ",151],["T_IS_NOT_EQUAL","!=",151],["T_WHITESPACE"," ",151],["T_CONSTANT_ENCAPSED_STRING","\"\\r\\n\"",151],["T_WHITESPACE"," ",151],["T_BOOLEAN_AND","&&",151],["T_WHITESPACE"," ",151],["T_STRING","strpos",151],"(",["T_VARIABLE","$message",151],",",["T_WHITESPACE"," ",151],["T_CONSTANT_ENCAPSED_STRING","\"\\r\\n\\r\\n\"",151],")",")",["T_WHITESPACE"," ",151],"{",["T_WHITESPACE","\n                ",151],["T_LIST","list",152],"(",["T_VARIABLE","$headers",152],",",["T_WHITESPACE"," ",152],["T_VARIABLE","$body",152],")",["T_WHITESPACE"," ",152],"=",["T_WHITESPACE"," ",152],["T_STRING","explode",152],"(",["T_CONSTANT_ENCAPSED_STRING","\"\\r\\n\\r\\n\"",152],",",["T_WHITESPACE"," ",152],["T_VARIABLE","$message",152],",",["T_WHITESPACE"," ",152],["T_LNUMBER","2",152],")",";",["T_WHITESPACE","\n                ",152],["T_COMMENT","\/\/ next is the other \"standard\" new line\n",153],["T_WHITESPACE","            ",154],"}",["T_WHITESPACE"," ",154],["T_ELSE","else",154],["T_WHITESPACE"," ",154],"{",["T_WHITESPACE","\n                ",154],["T_IF","if",155],["T_WHITESPACE"," ",155],"(",["T_VARIABLE","$EOL",155],["T_WHITESPACE"," ",155],["T_IS_NOT_EQUAL","!=",155],["T_WHITESPACE"," ",155],["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",155],["T_WHITESPACE"," ",155],["T_BOOLEAN_AND","&&",155],["T_WHITESPACE"," ",155],["T_STRING","strpos",155],"(",["T_VARIABLE","$message",155],",",["T_WHITESPACE"," ",155],["T_CONSTANT_ENCAPSED_STRING","\"\\n\\n\"",155],")",")",["T_WHITESPACE"," ",155],"{",["T_WHITESPACE","\n                    ",155],["T_LIST","list",156],"(",["T_VARIABLE","$headers",156],",",["T_WHITESPACE"," ",156],["T_VARIABLE","$body",156],")",["T_WHITESPACE"," ",156],"=",["T_WHITESPACE"," ",156],["T_STRING","explode",156],"(",["T_CONSTANT_ENCAPSED_STRING","\"\\n\\n\"",156],",",["T_WHITESPACE"," ",156],["T_VARIABLE","$message",156],",",["T_WHITESPACE"," ",156],["T_LNUMBER","2",156],")",";",["T_WHITESPACE","\n                    ",156],["T_COMMENT","\/\/ at last resort find anything that looks like a new line\n",157],["T_WHITESPACE","                ",158],"}",["T_WHITESPACE"," ",158],["T_ELSE","else",158],["T_WHITESPACE"," ",158],"{",["T_WHITESPACE","\n                    ",158],"@",["T_LIST","list",159],"(",["T_VARIABLE","$headers",159],",",["T_WHITESPACE"," ",159],["T_VARIABLE","$body",159],")",["T_WHITESPACE"," ",159],"=",["T_WHITESPACE","\n                        ",159],"@",["T_STRING","preg_split",160],"(",["T_CONSTANT_ENCAPSED_STRING","\"%([\\r\\n]+)\\\\1%U\"",160],",",["T_WHITESPACE"," ",160],["T_VARIABLE","$message",160],",",["T_WHITESPACE"," ",160],["T_LNUMBER","2",160],")",";",["T_WHITESPACE","\n                ",160],"}",["T_WHITESPACE","\n            ",161],"}",["T_WHITESPACE","\n        ",162],"}",["T_WHITESPACE","\n\n        ",163],["T_VARIABLE","$headers",165],["T_WHITESPACE"," ",165],"=",["T_WHITESPACE"," ",165],["T_STRING","iconv_mime_decode_headers",165],"(",["T_WHITESPACE","\n            ",165],["T_VARIABLE","$headers",166],",",["T_WHITESPACE"," ",166],["T_STRING","ICONV_MIME_DECODE_CONTINUE_ON_ERROR",166],["T_WHITESPACE","\n        ",166],")",";",["T_WHITESPACE","\n\n        ",167],["T_IF","if",169],["T_WHITESPACE"," ",169],"(",["T_VARIABLE","$headers",169],["T_WHITESPACE"," ",169],["T_IS_IDENTICAL","===",169],["T_WHITESPACE"," ",169],["T_STRING","false",169],")",["T_WHITESPACE"," ",169],"{",["T_WHITESPACE","\n            ",169],["T_COMMENT","\/\/ an error occurs during the decoding\n",170],["T_WHITESPACE","            ",171],["T_RETURN","return",171],";",["T_WHITESPACE","\n        ",171],"}",["T_WHITESPACE","\n\n        ",172],["T_COMMENT","\/\/ normalize header names\n",174],["T_WHITESPACE","        ",175],["T_FOREACH","foreach",175],["T_WHITESPACE"," ",175],"(",["T_VARIABLE","$headers",175],["T_WHITESPACE"," ",175],["T_AS","as",175],["T_WHITESPACE"," ",175],["T_VARIABLE","$name",175],["T_WHITESPACE"," ",175],["T_DOUBLE_ARROW","=>",175],["T_WHITESPACE"," ",175],["T_VARIABLE","$header",175],")",["T_WHITESPACE"," ",175],"{",["T_WHITESPACE","\n            ",175],["T_VARIABLE","$lower",176],["T_WHITESPACE"," ",176],"=",["T_WHITESPACE"," ",176],["T_STRING","strtolower",176],"(",["T_VARIABLE","$name",176],")",";",["T_WHITESPACE","\n            ",176],["T_IF","if",177],["T_WHITESPACE"," ",177],"(",["T_VARIABLE","$lower",177],["T_WHITESPACE"," ",177],["T_IS_EQUAL","==",177],["T_WHITESPACE"," ",177],["T_VARIABLE","$name",177],")",["T_WHITESPACE"," ",177],"{",["T_WHITESPACE","\n                ",177],["T_CONTINUE","continue",178],";",["T_WHITESPACE","\n            ",178],"}",["T_WHITESPACE","\n            ",179],["T_UNSET","unset",180],"(",["T_VARIABLE","$headers",180],"[",["T_VARIABLE","$name",180],"]",")",";",["T_WHITESPACE","\n            ",180],["T_IF","if",181],["T_WHITESPACE"," ",181],"(","!",["T_ISSET","isset",181],"(",["T_VARIABLE","$headers",181],"[",["T_VARIABLE","$lower",181],"]",")",")",["T_WHITESPACE"," ",181],"{",["T_WHITESPACE","\n                ",181],["T_VARIABLE","$headers",182],"[",["T_VARIABLE","$lower",182],"]",["T_WHITESPACE"," ",182],"=",["T_WHITESPACE"," ",182],["T_VARIABLE","$header",182],";",["T_WHITESPACE","\n                ",182],["T_CONTINUE","continue",183],";",["T_WHITESPACE","\n            ",183],"}",["T_WHITESPACE","\n            ",184],["T_IF","if",185],["T_WHITESPACE"," ",185],"(",["T_STRING","is_array",185],"(",["T_VARIABLE","$headers",185],"[",["T_VARIABLE","$lower",185],"]",")",")",["T_WHITESPACE"," ",185],"{",["T_WHITESPACE","\n                ",185],["T_VARIABLE","$headers",186],"[",["T_VARIABLE","$lower",186],"]","[","]",["T_WHITESPACE"," ",186],"=",["T_WHITESPACE"," ",186],["T_VARIABLE","$header",186],";",["T_WHITESPACE","\n                ",186],["T_CONTINUE","continue",187],";",["T_WHITESPACE","\n            ",187],"}",["T_WHITESPACE","\n            ",188],["T_VARIABLE","$headers",189],"[",["T_VARIABLE","$lower",189],"]",["T_WHITESPACE"," ",189],"=",["T_WHITESPACE"," ",189],["T_ARRAY","array",189],"(",["T_WHITESPACE","\n                ",189],["T_VARIABLE","$headers",190],"[",["T_VARIABLE","$lower",190],"]",",",["T_WHITESPACE","\n                ",190],["T_VARIABLE","$header",191],["T_WHITESPACE","\n            ",191],")",";",["T_WHITESPACE","\n        ",192],"}",["T_WHITESPACE","\n    ",193],"}",["T_WHITESPACE","\n\n    ",194],["T_DOC_COMMENT","\/**\n     * split a content type in its different parts\n     *\n     * @param  string $type       content-type\n     * @param  string $wantedPart the wanted part, else an array with all parts is returned\n     * @return string|array wanted part or all parts as array('type' => content-type, partname => value)\n     *\/",196],["T_WHITESPACE","\n    ",202],["T_PUBLIC","public",203],["T_WHITESPACE"," ",203],["T_STATIC","static",203],["T_WHITESPACE"," ",203],["T_FUNCTION","function",203],["T_WHITESPACE"," ",203],["T_STRING","splitContentType",203],"(",["T_VARIABLE","$type",203],",",["T_WHITESPACE"," ",203],["T_VARIABLE","$wantedPart",203],["T_WHITESPACE"," ",203],"=",["T_WHITESPACE"," ",203],["T_STRING","null",203],")",["T_WHITESPACE","\n    ",203],"{",["T_WHITESPACE","\n        ",204],["T_RETURN","return",205],["T_WHITESPACE"," ",205],["T_STRING","self",205],["T_DOUBLE_COLON","::",205],["T_STRING","splitHeaderField",205],"(",["T_VARIABLE","$type",205],",",["T_WHITESPACE"," ",205],["T_VARIABLE","$wantedPart",205],",",["T_WHITESPACE"," ",205],["T_CONSTANT_ENCAPSED_STRING","'type'",205],")",";",["T_WHITESPACE","\n    ",205],"}",["T_WHITESPACE","\n\n    ",206],["T_DOC_COMMENT","\/**\n     * split a header field like content type in its different parts\n     *\n     * @param  string     $field\n     * @param  string     $wantedPart the wanted part, else an array with all parts is returned\n     * @param  int|string $firstName  key name for the first part\n     * @throws Zend_Exception\n     * @return string|array wanted part or all parts as array($firstName => firstPart, partname => value)\n     *\/",208],["T_WHITESPACE","\n    ",216],["T_PUBLIC","public",217],["T_WHITESPACE"," ",217],["T_STATIC","static",217],["T_WHITESPACE"," ",217],["T_FUNCTION","function",217],["T_WHITESPACE"," ",217],["T_STRING","splitHeaderField",217],"(",["T_WHITESPACE","\n        ",217],["T_VARIABLE","$field",218],",",["T_WHITESPACE"," ",218],["T_VARIABLE","$wantedPart",218],["T_WHITESPACE"," ",218],"=",["T_WHITESPACE"," ",218],["T_STRING","null",218],",",["T_WHITESPACE"," ",218],["T_VARIABLE","$firstName",218],["T_WHITESPACE"," ",218],"=",["T_WHITESPACE"," ",218],["T_LNUMBER","0",218],["T_WHITESPACE","\n    ",218],")",["T_WHITESPACE","\n    ",219],"{",["T_WHITESPACE","\n        ",220],["T_VARIABLE","$wantedPart",221],["T_WHITESPACE"," ",221],"=",["T_WHITESPACE"," ",221],["T_STRING","strtolower",221],"(",["T_VARIABLE","$wantedPart",221],")",";",["T_WHITESPACE","\n        ",221],["T_VARIABLE","$firstName",222],["T_WHITESPACE","  ",222],"=",["T_WHITESPACE"," ",222],["T_STRING","strtolower",222],"(",["T_VARIABLE","$firstName",222],")",";",["T_WHITESPACE","\n\n        ",222],["T_COMMENT","\/\/ special case - a bit optimized\n",224],["T_WHITESPACE","        ",225],["T_IF","if",225],["T_WHITESPACE"," ",225],"(",["T_VARIABLE","$firstName",225],["T_WHITESPACE"," ",225],["T_IS_IDENTICAL","===",225],["T_WHITESPACE"," ",225],["T_VARIABLE","$wantedPart",225],")",["T_WHITESPACE"," ",225],"{",["T_WHITESPACE","\n            ",225],["T_VARIABLE","$field",226],["T_WHITESPACE"," ",226],"=",["T_WHITESPACE"," ",226],["T_STRING","strtok",226],"(",["T_VARIABLE","$field",226],",",["T_WHITESPACE"," ",226],["T_CONSTANT_ENCAPSED_STRING","';'",226],")",";",["T_WHITESPACE","\n\n            ",226],["T_RETURN","return",228],["T_WHITESPACE"," ",228],["T_VARIABLE","$field",228],"[",["T_LNUMBER","0",228],"]",["T_WHITESPACE"," ",228],["T_IS_EQUAL","==",228],["T_WHITESPACE"," ",228],["T_CONSTANT_ENCAPSED_STRING","'\"'",228],["T_WHITESPACE"," ",228],"?",["T_WHITESPACE"," ",228],["T_STRING","substr",228],"(",["T_VARIABLE","$field",228],",",["T_WHITESPACE"," ",228],["T_LNUMBER","1",228],",",["T_WHITESPACE"," ",228],"-",["T_LNUMBER","1",228],")",["T_WHITESPACE"," ",228],":",["T_WHITESPACE"," ",228],["T_VARIABLE","$field",228],";",["T_WHITESPACE","\n        ",228],"}",["T_WHITESPACE","\n\n        ",229],["T_VARIABLE","$field",231],["T_WHITESPACE"," ",231],"=",["T_WHITESPACE"," ",231],["T_VARIABLE","$firstName",231],["T_WHITESPACE"," ",231],".",["T_WHITESPACE"," ",231],["T_CONSTANT_ENCAPSED_STRING","'='",231],["T_WHITESPACE"," ",231],".",["T_WHITESPACE"," ",231],["T_VARIABLE","$field",231],";",["T_WHITESPACE","\n        ",231],["T_IF","if",232],["T_WHITESPACE"," ",232],"(","!",["T_STRING","preg_match_all",232],"(",["T_CONSTANT_ENCAPSED_STRING","'%([^=\\s]+)\\s*=\\s*(\"[^\"]+\"|[^;]+)(;\\s*|$)%'",232],",",["T_WHITESPACE"," ",232],["T_VARIABLE","$field",232],",",["T_WHITESPACE"," ",232],["T_VARIABLE","$matches",232],")",")",["T_WHITESPACE"," ",232],"{",["T_WHITESPACE","\n            ",232],["T_THROW","throw",233],["T_WHITESPACE"," ",233],["T_NEW","new",233],["T_WHITESPACE"," ",233],["T_STRING","Zend_Exception",233],"(",["T_CONSTANT_ENCAPSED_STRING","'not a valid header field'",233],")",";",["T_WHITESPACE","\n        ",233],"}",["T_WHITESPACE","\n\n        ",234],["T_IF","if",236],["T_WHITESPACE"," ",236],"(",["T_VARIABLE","$wantedPart",236],")",["T_WHITESPACE"," ",236],"{",["T_WHITESPACE","\n            ",236],["T_FOREACH","foreach",237],["T_WHITESPACE"," ",237],"(",["T_VARIABLE","$matches",237],"[",["T_LNUMBER","1",237],"]",["T_WHITESPACE"," ",237],["T_AS","as",237],["T_WHITESPACE"," ",237],["T_VARIABLE","$key",237],["T_WHITESPACE"," ",237],["T_DOUBLE_ARROW","=>",237],["T_WHITESPACE"," ",237],["T_VARIABLE","$name",237],")",["T_WHITESPACE"," ",237],"{",["T_WHITESPACE","\n                ",237],["T_IF","if",238],["T_WHITESPACE"," ",238],"(",["T_STRING","strcasecmp",238],"(",["T_VARIABLE","$name",238],",",["T_WHITESPACE"," ",238],["T_VARIABLE","$wantedPart",238],")",")",["T_WHITESPACE"," ",238],"{",["T_WHITESPACE","\n                    ",238],["T_CONTINUE","continue",239],";",["T_WHITESPACE","\n                ",239],"}",["T_WHITESPACE","\n                ",240],["T_IF","if",241],["T_WHITESPACE"," ",241],"(",["T_VARIABLE","$matches",241],"[",["T_LNUMBER","2",241],"]","[",["T_VARIABLE","$key",241],"]","[",["T_LNUMBER","0",241],"]",["T_WHITESPACE"," ",241],["T_IS_NOT_EQUAL","!=",241],["T_WHITESPACE"," ",241],["T_CONSTANT_ENCAPSED_STRING","'\"'",241],")",["T_WHITESPACE"," ",241],"{",["T_WHITESPACE","\n                    ",241],["T_RETURN","return",242],["T_WHITESPACE"," ",242],["T_VARIABLE","$matches",242],"[",["T_LNUMBER","2",242],"]","[",["T_VARIABLE","$key",242],"]",";",["T_WHITESPACE","\n                ",242],"}",["T_WHITESPACE","\n\n                ",243],["T_RETURN","return",245],["T_WHITESPACE"," ",245],["T_STRING","substr",245],"(",["T_VARIABLE","$matches",245],"[",["T_LNUMBER","2",245],"]","[",["T_VARIABLE","$key",245],"]",",",["T_WHITESPACE"," ",245],["T_LNUMBER","1",245],",",["T_WHITESPACE"," ",245],"-",["T_LNUMBER","1",245],")",";",["T_WHITESPACE","\n            ",245],"}",["T_WHITESPACE","\n\n            ",246],["T_RETURN","return",248],["T_WHITESPACE"," ",248],["T_STRING","null",248],";",["T_WHITESPACE","\n        ",248],"}",["T_WHITESPACE","\n\n        ",249],["T_VARIABLE","$split",251],["T_WHITESPACE"," ",251],"=",["T_WHITESPACE"," ",251],["T_ARRAY","array",251],"(",")",";",["T_WHITESPACE","\n        ",251],["T_FOREACH","foreach",252],["T_WHITESPACE"," ",252],"(",["T_VARIABLE","$matches",252],"[",["T_LNUMBER","1",252],"]",["T_WHITESPACE"," ",252],["T_AS","as",252],["T_WHITESPACE"," ",252],["T_VARIABLE","$key",252],["T_WHITESPACE"," ",252],["T_DOUBLE_ARROW","=>",252],["T_WHITESPACE"," ",252],["T_VARIABLE","$name",252],")",["T_WHITESPACE"," ",252],"{",["T_WHITESPACE","\n            ",252],["T_VARIABLE","$name",253],["T_WHITESPACE"," ",253],"=",["T_WHITESPACE"," ",253],["T_STRING","strtolower",253],"(",["T_VARIABLE","$name",253],")",";",["T_WHITESPACE","\n            ",253],["T_IF","if",254],["T_WHITESPACE"," ",254],"(",["T_VARIABLE","$matches",254],"[",["T_LNUMBER","2",254],"]","[",["T_VARIABLE","$key",254],"]","[",["T_LNUMBER","0",254],"]",["T_WHITESPACE"," ",254],["T_IS_EQUAL","==",254],["T_WHITESPACE"," ",254],["T_CONSTANT_ENCAPSED_STRING","'\"'",254],")",["T_WHITESPACE"," ",254],"{",["T_WHITESPACE","\n                ",254],["T_VARIABLE","$split",255],"[",["T_VARIABLE","$name",255],"]",["T_WHITESPACE"," ",255],"=",["T_WHITESPACE"," ",255],["T_STRING","substr",255],"(",["T_VARIABLE","$matches",255],"[",["T_LNUMBER","2",255],"]","[",["T_VARIABLE","$key",255],"]",",",["T_WHITESPACE"," ",255],["T_LNUMBER","1",255],",",["T_WHITESPACE"," ",255],"-",["T_LNUMBER","1",255],")",";",["T_WHITESPACE","\n            ",255],"}",["T_WHITESPACE"," ",256],["T_ELSE","else",256],["T_WHITESPACE"," ",256],"{",["T_WHITESPACE","\n                ",256],["T_VARIABLE","$split",257],"[",["T_VARIABLE","$name",257],"]",["T_WHITESPACE"," ",257],"=",["T_WHITESPACE"," ",257],["T_VARIABLE","$matches",257],"[",["T_LNUMBER","2",257],"]","[",["T_VARIABLE","$key",257],"]",";",["T_WHITESPACE","\n            ",257],"}",["T_WHITESPACE","\n        ",258],"}",["T_WHITESPACE","\n\n        ",259],["T_RETURN","return",261],["T_WHITESPACE"," ",261],["T_VARIABLE","$split",261],";",["T_WHITESPACE","\n    ",261],"}",["T_WHITESPACE","\n\n    ",262],["T_DOC_COMMENT","\/**\n     * decode a quoted printable encoded string\n     *\n     * The charset of the returned string depends on your iconv settings.\n     *\n     * @param  string $string Encoded string\n     * @return string         Decoded string\n     *\/",264],["T_WHITESPACE","\n    ",271],["T_PUBLIC","public",272],["T_WHITESPACE"," ",272],["T_STATIC","static",272],["T_WHITESPACE"," ",272],["T_FUNCTION","function",272],["T_WHITESPACE"," ",272],["T_STRING","decodeQuotedPrintable",272],"(",["T_VARIABLE","$string",272],")",["T_WHITESPACE","\n    ",272],"{",["T_WHITESPACE","\n        ",273],["T_RETURN","return",274],["T_WHITESPACE"," ",274],["T_STRING","quoted_printable_decode",274],"(",["T_VARIABLE","$string",274],")",";",["T_WHITESPACE","\n    ",274],"}",["T_WHITESPACE","\n",275],"}",["T_WHITESPACE","\n",276]]