[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Zend Framework\n *\n * LICENSE\n *\n * This source file is subject to the new BSD license that is bundled\n * with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/framework.zend.com\/license\/new-bsd\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@zend.com so we can send you a copy immediately.\n *\n * @category   Zend\n * @package    Zend_Log\n * @subpackage Formatter\n * @copyright  Copyright (c) 2005-2015 Zend Technologies USA Inc. (http:\/\/www.zend.com)\n * @license    http:\/\/framework.zend.com\/license\/new-bsd     New BSD License\n * @version    $Id$\n *\/",2],["T_WHITESPACE","\n\n",21],["T_DOC_COMMENT","\/** Zend_Log_Formatter_Abstract *\/",23],["T_WHITESPACE","\n",23],["T_COMMENT","#require_once 'Zend\/Log\/Formatter\/Abstract.php';\n",24],["T_WHITESPACE","\n",25],["T_DOC_COMMENT","\/**\n * @category   Zend\n * @package    Zend_Log\n * @subpackage Formatter\n * @copyright  Copyright (c) 2005-2015 Zend Technologies USA Inc. (http:\/\/www.zend.com)\n * @license    http:\/\/framework.zend.com\/license\/new-bsd     New BSD License\n * @version    $Id$\n *\/",26],["T_WHITESPACE","\n",33],["T_CLASS","class",34],["T_WHITESPACE"," ",34],["T_STRING","Zend_Log_Formatter_Xml",34],["T_WHITESPACE"," ",34],["T_EXTENDS","extends",34],["T_WHITESPACE"," ",34],["T_STRING","Zend_Log_Formatter_Abstract",34],["T_WHITESPACE","\n",34],"{",["T_WHITESPACE","\n    ",35],["T_DOC_COMMENT","\/**\n     * @var string Name of root element\n     *\/",36],["T_WHITESPACE","\n    ",38],["T_PROTECTED","protected",39],["T_WHITESPACE"," ",39],["T_VARIABLE","$_rootElement",39],";",["T_WHITESPACE","\n\n    ",39],["T_DOC_COMMENT","\/**\n     * @var array Relates XML elements to log data field keys.\n     *\/",41],["T_WHITESPACE","\n    ",43],["T_PROTECTED","protected",44],["T_WHITESPACE"," ",44],["T_VARIABLE","$_elementMap",44],";",["T_WHITESPACE","\n\n    ",44],["T_DOC_COMMENT","\/**\n     * @var string Encoding to use in XML\n     *\/",46],["T_WHITESPACE","\n    ",48],["T_PROTECTED","protected",49],["T_WHITESPACE"," ",49],["T_VARIABLE","$_encoding",49],";",["T_WHITESPACE","\n\n    ",49],["T_DOC_COMMENT","\/**\n     * Class constructor\n     * (the default encoding is UTF-8)\n     *\n     * @param array|Zend_Config $options\n     * @return void\n     *\/",51],["T_WHITESPACE","\n    ",57],["T_PUBLIC","public",58],["T_WHITESPACE"," ",58],["T_FUNCTION","function",58],["T_WHITESPACE"," ",58],["T_STRING","__construct",58],"(",["T_VARIABLE","$options",58],["T_WHITESPACE"," ",58],"=",["T_WHITESPACE"," ",58],["T_ARRAY","array",58],"(",")",")",["T_WHITESPACE","\n    ",58],"{",["T_WHITESPACE","\n        ",59],["T_IF","if",60],["T_WHITESPACE"," ",60],"(",["T_VARIABLE","$options",60],["T_WHITESPACE"," ",60],["T_INSTANCEOF","instanceof",60],["T_WHITESPACE"," ",60],["T_STRING","Zend_Config",60],")",["T_WHITESPACE"," ",60],"{",["T_WHITESPACE","\n            ",60],["T_VARIABLE","$options",61],["T_WHITESPACE"," ",61],"=",["T_WHITESPACE"," ",61],["T_VARIABLE","$options",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","toArray",61],"(",")",";",["T_WHITESPACE","\n        ",61],"}",["T_WHITESPACE"," ",62],["T_ELSEIF","elseif",62],["T_WHITESPACE"," ",62],"(","!",["T_STRING","is_array",62],"(",["T_VARIABLE","$options",62],")",")",["T_WHITESPACE"," ",62],"{",["T_WHITESPACE","\n            ",62],["T_VARIABLE","$args",63],["T_WHITESPACE"," ",63],"=",["T_WHITESPACE"," ",63],["T_STRING","func_get_args",63],"(",")",";",["T_WHITESPACE","\n\n            ",63],["T_VARIABLE","$options",65],["T_WHITESPACE"," ",65],"=",["T_WHITESPACE"," ",65],["T_ARRAY","array",65],"(",["T_WHITESPACE","\n            \t",65],["T_CONSTANT_ENCAPSED_STRING","'rootElement'",66],["T_WHITESPACE"," ",66],["T_DOUBLE_ARROW","=>",66],["T_WHITESPACE"," ",66],["T_STRING","array_shift",66],"(",["T_VARIABLE","$args",66],")",["T_WHITESPACE","\n            ",66],")",";",["T_WHITESPACE","\n\n            ",67],["T_IF","if",69],["T_WHITESPACE"," ",69],"(",["T_STRING","count",69],"(",["T_VARIABLE","$args",69],")",")",["T_WHITESPACE"," ",69],"{",["T_WHITESPACE","\n                ",69],["T_VARIABLE","$options",70],"[",["T_CONSTANT_ENCAPSED_STRING","'elementMap'",70],"]",["T_WHITESPACE"," ",70],"=",["T_WHITESPACE"," ",70],["T_STRING","array_shift",70],"(",["T_VARIABLE","$args",70],")",";",["T_WHITESPACE","\n            ",70],"}",["T_WHITESPACE","\n\n            ",71],["T_IF","if",73],["T_WHITESPACE"," ",73],"(",["T_STRING","count",73],"(",["T_VARIABLE","$args",73],")",")",["T_WHITESPACE"," ",73],"{",["T_WHITESPACE","\n                ",73],["T_VARIABLE","$options",74],"[",["T_CONSTANT_ENCAPSED_STRING","'encoding'",74],"]",["T_WHITESPACE"," ",74],"=",["T_WHITESPACE"," ",74],["T_STRING","array_shift",74],"(",["T_VARIABLE","$args",74],")",";",["T_WHITESPACE","\n            ",74],"}",["T_WHITESPACE","\n        ",75],"}",["T_WHITESPACE","\n\n        ",76],["T_IF","if",78],["T_WHITESPACE"," ",78],"(","!",["T_STRING","array_key_exists",78],"(",["T_CONSTANT_ENCAPSED_STRING","'rootElement'",78],",",["T_WHITESPACE"," ",78],["T_VARIABLE","$options",78],")",")",["T_WHITESPACE"," ",78],"{",["T_WHITESPACE","\n            ",78],["T_VARIABLE","$options",79],"[",["T_CONSTANT_ENCAPSED_STRING","'rootElement'",79],"]",["T_WHITESPACE"," ",79],"=",["T_WHITESPACE"," ",79],["T_CONSTANT_ENCAPSED_STRING","'logEntry'",79],";",["T_WHITESPACE","\n        ",79],"}",["T_WHITESPACE","\n\n        ",80],["T_IF","if",82],["T_WHITESPACE"," ",82],"(","!",["T_STRING","array_key_exists",82],"(",["T_CONSTANT_ENCAPSED_STRING","'encoding'",82],",",["T_WHITESPACE"," ",82],["T_VARIABLE","$options",82],")",")",["T_WHITESPACE"," ",82],"{",["T_WHITESPACE","\n            ",82],["T_VARIABLE","$options",83],"[",["T_CONSTANT_ENCAPSED_STRING","'encoding'",83],"]",["T_WHITESPACE"," ",83],"=",["T_WHITESPACE"," ",83],["T_CONSTANT_ENCAPSED_STRING","'UTF-8'",83],";",["T_WHITESPACE","\n        ",83],"}",["T_WHITESPACE","\n\n        ",84],["T_VARIABLE","$this",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","_rootElement",86],["T_WHITESPACE"," ",86],"=",["T_WHITESPACE"," ",86],["T_VARIABLE","$options",86],"[",["T_CONSTANT_ENCAPSED_STRING","'rootElement'",86],"]",";",["T_WHITESPACE","\n        ",86],["T_VARIABLE","$this",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","setEncoding",87],"(",["T_VARIABLE","$options",87],"[",["T_CONSTANT_ENCAPSED_STRING","'encoding'",87],"]",")",";",["T_WHITESPACE","\n\n        ",87],["T_IF","if",89],["T_WHITESPACE"," ",89],"(",["T_STRING","array_key_exists",89],"(",["T_CONSTANT_ENCAPSED_STRING","'elementMap'",89],",",["T_WHITESPACE"," ",89],["T_VARIABLE","$options",89],")",")",["T_WHITESPACE"," ",89],"{",["T_WHITESPACE","\n            ",89],["T_VARIABLE","$this",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","_elementMap",90],["T_WHITESPACE","  ",90],"=",["T_WHITESPACE"," ",90],["T_VARIABLE","$options",90],"[",["T_CONSTANT_ENCAPSED_STRING","'elementMap'",90],"]",";",["T_WHITESPACE","\n        ",90],"}",["T_WHITESPACE","\n    ",91],"}",["T_WHITESPACE","\n\n    ",92],["T_DOC_COMMENT","\/**\n\t * Factory for Zend_Log_Formatter_Xml classe\n\t *\n\t * @param array|Zend_Config $options\n\t * @return Zend_Log_Formatter_Xml\n     *\/",94],["T_WHITESPACE","\n    ",99],["T_PUBLIC","public",100],["T_WHITESPACE"," ",100],["T_STATIC","static",100],["T_WHITESPACE"," ",100],["T_FUNCTION","function",100],["T_WHITESPACE"," ",100],["T_STRING","factory",100],"(",["T_VARIABLE","$options",100],")",["T_WHITESPACE","\n    ",100],"{",["T_WHITESPACE","\n        ",101],["T_RETURN","return",102],["T_WHITESPACE"," ",102],["T_NEW","new",102],["T_WHITESPACE"," ",102],["T_STRING","self",102],"(",["T_VARIABLE","$options",102],")",";",["T_WHITESPACE","\n    ",102],"}",["T_WHITESPACE","\n\n    ",103],["T_DOC_COMMENT","\/**\n     * Get encoding\n     *\n     * @return string\n     *\/",105],["T_WHITESPACE","\n    ",109],["T_PUBLIC","public",110],["T_WHITESPACE"," ",110],["T_FUNCTION","function",110],["T_WHITESPACE"," ",110],["T_STRING","getEncoding",110],"(",")",["T_WHITESPACE","\n    ",110],"{",["T_WHITESPACE","\n        ",111],["T_RETURN","return",112],["T_WHITESPACE"," ",112],["T_VARIABLE","$this",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","_encoding",112],";",["T_WHITESPACE","\n    ",112],"}",["T_WHITESPACE","\n\n    ",113],["T_DOC_COMMENT","\/**\n     * Set encoding\n     *\n     * @param  string $value\n     * @return Zend_Log_Formatter_Xml\n     *\/",115],["T_WHITESPACE","\n    ",120],["T_PUBLIC","public",121],["T_WHITESPACE"," ",121],["T_FUNCTION","function",121],["T_WHITESPACE"," ",121],["T_STRING","setEncoding",121],"(",["T_VARIABLE","$value",121],")",["T_WHITESPACE","\n    ",121],"{",["T_WHITESPACE","\n        ",122],["T_VARIABLE","$this",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","_encoding",123],["T_WHITESPACE"," ",123],"=",["T_WHITESPACE"," ",123],["T_STRING_CAST","(string)",123],["T_WHITESPACE"," ",123],["T_VARIABLE","$value",123],";",["T_WHITESPACE","\n        ",123],["T_RETURN","return",124],["T_WHITESPACE"," ",124],["T_VARIABLE","$this",124],";",["T_WHITESPACE","\n    ",124],"}",["T_WHITESPACE","\n\n    ",125],["T_DOC_COMMENT","\/**\n     * Formats data into a single line to be written by the writer.\n     *\n     * @param  array    $event    event data\n     * @return string             formatted line to write to the log\n     *\/",127],["T_WHITESPACE","\n    ",132],["T_PUBLIC","public",133],["T_WHITESPACE"," ",133],["T_FUNCTION","function",133],["T_WHITESPACE"," ",133],["T_STRING","format",133],"(",["T_VARIABLE","$event",133],")",["T_WHITESPACE","\n    ",133],"{",["T_WHITESPACE","\n        ",134],["T_IF","if",135],["T_WHITESPACE"," ",135],"(",["T_VARIABLE","$this",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","_elementMap",135],["T_WHITESPACE"," ",135],["T_IS_IDENTICAL","===",135],["T_WHITESPACE"," ",135],["T_STRING","null",135],")",["T_WHITESPACE"," ",135],"{",["T_WHITESPACE","\n            ",135],["T_VARIABLE","$dataToInsert",136],["T_WHITESPACE"," ",136],"=",["T_WHITESPACE"," ",136],["T_VARIABLE","$event",136],";",["T_WHITESPACE","\n        ",136],"}",["T_WHITESPACE"," ",137],["T_ELSE","else",137],["T_WHITESPACE"," ",137],"{",["T_WHITESPACE","\n            ",137],["T_VARIABLE","$dataToInsert",138],["T_WHITESPACE"," ",138],"=",["T_WHITESPACE"," ",138],["T_ARRAY","array",138],"(",")",";",["T_WHITESPACE","\n            ",138],["T_FOREACH","foreach",139],["T_WHITESPACE"," ",139],"(",["T_VARIABLE","$this",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","_elementMap",139],["T_WHITESPACE"," ",139],["T_AS","as",139],["T_WHITESPACE"," ",139],["T_VARIABLE","$elementName",139],["T_WHITESPACE"," ",139],["T_DOUBLE_ARROW","=>",139],["T_WHITESPACE"," ",139],["T_VARIABLE","$fieldKey",139],")",["T_WHITESPACE"," ",139],"{",["T_WHITESPACE","\n                ",139],["T_VARIABLE","$dataToInsert",140],"[",["T_VARIABLE","$elementName",140],"]",["T_WHITESPACE"," ",140],"=",["T_WHITESPACE"," ",140],["T_VARIABLE","$event",140],"[",["T_VARIABLE","$fieldKey",140],"]",";",["T_WHITESPACE","\n            ",140],"}",["T_WHITESPACE","\n        ",141],"}",["T_WHITESPACE","\n\n        ",142],["T_VARIABLE","$enc",144],["T_WHITESPACE"," ",144],"=",["T_WHITESPACE"," ",144],["T_VARIABLE","$this",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","getEncoding",144],"(",")",";",["T_WHITESPACE","\n        ",144],["T_VARIABLE","$dom",145],["T_WHITESPACE"," ",145],"=",["T_WHITESPACE"," ",145],["T_NEW","new",145],["T_WHITESPACE"," ",145],["T_STRING","DOMDocument",145],"(",["T_CONSTANT_ENCAPSED_STRING","'1.0'",145],",",["T_WHITESPACE"," ",145],["T_VARIABLE","$enc",145],")",";",["T_WHITESPACE","\n        ",145],["T_VARIABLE","$elt",146],["T_WHITESPACE"," ",146],"=",["T_WHITESPACE"," ",146],["T_VARIABLE","$dom",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","appendChild",146],"(",["T_NEW","new",146],["T_WHITESPACE"," ",146],["T_STRING","DOMElement",146],"(",["T_VARIABLE","$this",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","_rootElement",146],")",")",";",["T_WHITESPACE","\n\n        ",146],["T_FOREACH","foreach",148],["T_WHITESPACE"," ",148],"(",["T_VARIABLE","$dataToInsert",148],["T_WHITESPACE"," ",148],["T_AS","as",148],["T_WHITESPACE"," ",148],["T_VARIABLE","$key",148],["T_WHITESPACE"," ",148],["T_DOUBLE_ARROW","=>",148],["T_WHITESPACE"," ",148],["T_VARIABLE","$value",148],")",["T_WHITESPACE"," ",148],"{",["T_WHITESPACE","\n            ",148],["T_IF","if",149],["T_WHITESPACE"," ",149],"(",["T_EMPTY","empty",149],"(",["T_VARIABLE","$value",149],")",["T_WHITESPACE"," \n                ",149],["T_BOOLEAN_OR","||",150],["T_WHITESPACE"," ",150],["T_STRING","is_scalar",150],"(",["T_VARIABLE","$value",150],")",["T_WHITESPACE"," \n                ",150],["T_BOOLEAN_OR","||",151],["T_WHITESPACE"," ",151],"(",["T_STRING","is_object",151],"(",["T_VARIABLE","$value",151],")",["T_WHITESPACE"," ",151],["T_BOOLEAN_AND","&&",151],["T_WHITESPACE"," ",151],["T_STRING","method_exists",151],"(",["T_VARIABLE","$value",151],",",["T_CONSTANT_ENCAPSED_STRING","'__toString'",151],")",")",["T_WHITESPACE","\n            ",151],")",["T_WHITESPACE"," ",152],"{",["T_WHITESPACE","\n                ",152],["T_IF","if",153],"(",["T_VARIABLE","$key",153],["T_WHITESPACE"," ",153],["T_IS_EQUAL","==",153],["T_WHITESPACE"," ",153],["T_CONSTANT_ENCAPSED_STRING","\"message\"",153],")",["T_WHITESPACE"," ",153],"{",["T_WHITESPACE","\n                    ",153],["T_VARIABLE","$value",154],["T_WHITESPACE"," ",154],"=",["T_WHITESPACE"," ",154],["T_STRING","htmlspecialchars",154],"(",["T_VARIABLE","$value",154],",",["T_WHITESPACE"," ",154],["T_STRING","ENT_COMPAT",154],",",["T_WHITESPACE"," ",154],["T_VARIABLE","$enc",154],")",";",["T_WHITESPACE","\n                ",154],"}",["T_WHITESPACE","\n                ",155],["T_VARIABLE","$elt",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","appendChild",156],"(",["T_NEW","new",156],["T_WHITESPACE"," ",156],["T_STRING","DOMElement",156],"(",["T_VARIABLE","$key",156],",",["T_WHITESPACE"," ",156],["T_STRING_CAST","(string)",156],["T_VARIABLE","$value",156],")",")",";",["T_WHITESPACE","\n            ",156],"}",["T_WHITESPACE","\n        ",157],"}",["T_WHITESPACE","\n\n        ",158],["T_VARIABLE","$xml",160],["T_WHITESPACE"," ",160],"=",["T_WHITESPACE"," ",160],["T_VARIABLE","$dom",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","saveXML",160],"(",")",";",["T_WHITESPACE","\n        ",160],["T_VARIABLE","$xml",161],["T_WHITESPACE"," ",161],"=",["T_WHITESPACE"," ",161],["T_STRING","preg_replace",161],"(",["T_CONSTANT_ENCAPSED_STRING","'\/<\\?xml version=\"1.0\"( encoding=\"[^\\\"]*\")?\\?>\\n\/u'",161],",",["T_WHITESPACE"," ",161],["T_CONSTANT_ENCAPSED_STRING","''",161],",",["T_WHITESPACE"," ",161],["T_VARIABLE","$xml",161],")",";",["T_WHITESPACE","\n\n        ",161],["T_RETURN","return",163],["T_WHITESPACE"," ",163],["T_VARIABLE","$xml",163],["T_WHITESPACE"," ",163],".",["T_WHITESPACE"," ",163],["T_STRING","PHP_EOL",163],";",["T_WHITESPACE","\n    ",163],"}",["T_WHITESPACE","\n",164],"}",["T_WHITESPACE","\n",165]]