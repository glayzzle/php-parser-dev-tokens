[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Zend Framework\n *\n * LICENSE\n *\n * This source file is subject to the new BSD license that is bundled\n * with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/framework.zend.com\/license\/new-bsd\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@zend.com so we can send you a copy immediately.\n *\n * @category   Zend\n * @package    Zend_Log\n * @subpackage Writer\n * @copyright  Copyright (c) 2005-2015 Zend Technologies USA Inc. (http:\/\/www.zend.com)\n * @license    http:\/\/framework.zend.com\/license\/new-bsd     New BSD License\n * @version    $Id$\n *\/",2],["T_WHITESPACE","\n\n",21],["T_DOC_COMMENT","\/** Zend_Log_Writer_Abstract *\/",23],["T_WHITESPACE","\n",23],["T_COMMENT","#require_once 'Zend\/Log\/Writer\/Abstract.php';\n",24],["T_WHITESPACE","\n",25],["T_DOC_COMMENT","\/** Zend_Log_Exception *\/",26],["T_WHITESPACE","\n",26],["T_COMMENT","#require_once 'Zend\/Log\/Exception.php';\n",27],["T_WHITESPACE","\n",28],["T_DOC_COMMENT","\/** Zend_Log_Formatter_Simple*\/",29],["T_WHITESPACE","\n",29],["T_COMMENT","#require_once 'Zend\/Log\/Formatter\/Simple.php';\n",30],["T_WHITESPACE","\n",31],["T_DOC_COMMENT","\/**\n * Class used for writing log messages to email via Zend_Mail.\n *\n * Allows for emailing log messages at and above a certain level via a\n * Zend_Mail object.  Note that this class only sends the email upon\n * completion, so any log entries accumulated are sent in a single email.\n *\n * @category   Zend\n * @package    Zend_Log\n * @subpackage Writer\n * @copyright  Copyright (c) 2005-2015 Zend Technologies USA Inc. (http:\/\/www.zend.com)\n * @license    http:\/\/framework.zend.com\/license\/new-bsd     New BSD License\n * @version    $Id$\n *\/",32],["T_WHITESPACE","\n",45],["T_CLASS","class",46],["T_WHITESPACE"," ",46],["T_STRING","Zend_Log_Writer_Mail",46],["T_WHITESPACE"," ",46],["T_EXTENDS","extends",46],["T_WHITESPACE"," ",46],["T_STRING","Zend_Log_Writer_Abstract",46],["T_WHITESPACE","\n",46],"{",["T_WHITESPACE","\n    ",47],["T_DOC_COMMENT","\/**\n     * Array of formatted events to include in message body.\n     *\n     * @var array\n     *\/",48],["T_WHITESPACE","\n    ",52],["T_PROTECTED","protected",53],["T_WHITESPACE"," ",53],["T_VARIABLE","$_eventsToMail",53],["T_WHITESPACE"," ",53],"=",["T_WHITESPACE"," ",53],["T_ARRAY","array",53],"(",")",";",["T_WHITESPACE","\n\n    ",53],["T_DOC_COMMENT","\/**\n     * Array of formatted lines for use in an HTML email body; these events\n     * are formatted with an optional formatter if the caller is using\n     * Zend_Layout.\n     *\n     * @var array\n     *\/",55],["T_WHITESPACE","\n    ",61],["T_PROTECTED","protected",62],["T_WHITESPACE"," ",62],["T_VARIABLE","$_layoutEventsToMail",62],["T_WHITESPACE"," ",62],"=",["T_WHITESPACE"," ",62],["T_ARRAY","array",62],"(",")",";",["T_WHITESPACE","\n\n    ",62],["T_DOC_COMMENT","\/**\n     * Zend_Mail instance to use\n     *\n     * @var Zend_Mail\n     *\/",64],["T_WHITESPACE","\n    ",68],["T_PROTECTED","protected",69],["T_WHITESPACE"," ",69],["T_VARIABLE","$_mail",69],";",["T_WHITESPACE","\n\n    ",69],["T_DOC_COMMENT","\/**\n     * Zend_Layout instance to use; optional.\n     *\n     * @var Zend_Layout\n     *\/",71],["T_WHITESPACE","\n    ",75],["T_PROTECTED","protected",76],["T_WHITESPACE"," ",76],["T_VARIABLE","$_layout",76],";",["T_WHITESPACE","\n\n    ",76],["T_DOC_COMMENT","\/**\n     * Optional formatter for use when rendering with Zend_Layout.\n     *\n     * @var Zend_Log_Formatter_Interface\n     *\/",78],["T_WHITESPACE","\n    ",82],["T_PROTECTED","protected",83],["T_WHITESPACE"," ",83],["T_VARIABLE","$_layoutFormatter",83],";",["T_WHITESPACE","\n\n    ",83],["T_DOC_COMMENT","\/**\n     * Array keeping track of the number of entries per priority level.\n     *\n     * @var array\n     *\/",85],["T_WHITESPACE","\n    ",89],["T_PROTECTED","protected",90],["T_WHITESPACE"," ",90],["T_VARIABLE","$_numEntriesPerPriority",90],["T_WHITESPACE"," ",90],"=",["T_WHITESPACE"," ",90],["T_ARRAY","array",90],"(",")",";",["T_WHITESPACE","\n\n    ",90],["T_DOC_COMMENT","\/**\n     * Subject prepend text.\n     *\n     * Can only be used of the Zend_Mail object has not already had its\n     * subject line set.  Using this will cause the subject to have the entry\n     * counts per-priority level appended to it.\n     *\n     * @var string|null\n     *\/",92],["T_WHITESPACE","\n    ",100],["T_PROTECTED","protected",101],["T_WHITESPACE"," ",101],["T_VARIABLE","$_subjectPrependText",101],";",["T_WHITESPACE","\n\n    ",101],["T_DOC_COMMENT","\/**\n     * MethodMap for Zend_Mail's headers\n     *\n     * @var array\n     *\/",103],["T_WHITESPACE","\n    ",107],["T_PROTECTED","protected",108],["T_WHITESPACE"," ",108],["T_STATIC","static",108],["T_WHITESPACE"," ",108],["T_VARIABLE","$_methodMapHeaders",108],["T_WHITESPACE"," ",108],"=",["T_WHITESPACE"," ",108],["T_ARRAY","array",108],"(",["T_WHITESPACE","\n        ",108],["T_CONSTANT_ENCAPSED_STRING","'from'",109],["T_WHITESPACE"," ",109],["T_DOUBLE_ARROW","=>",109],["T_WHITESPACE"," ",109],["T_CONSTANT_ENCAPSED_STRING","'setFrom'",109],",",["T_WHITESPACE","\n        ",109],["T_CONSTANT_ENCAPSED_STRING","'to'",110],["T_WHITESPACE"," ",110],["T_DOUBLE_ARROW","=>",110],["T_WHITESPACE"," ",110],["T_CONSTANT_ENCAPSED_STRING","'addTo'",110],",",["T_WHITESPACE","\n        ",110],["T_CONSTANT_ENCAPSED_STRING","'cc'",111],["T_WHITESPACE"," ",111],["T_DOUBLE_ARROW","=>",111],["T_WHITESPACE"," ",111],["T_CONSTANT_ENCAPSED_STRING","'addCc'",111],",",["T_WHITESPACE","\n        ",111],["T_CONSTANT_ENCAPSED_STRING","'bcc'",112],["T_WHITESPACE"," ",112],["T_DOUBLE_ARROW","=>",112],["T_WHITESPACE"," ",112],["T_CONSTANT_ENCAPSED_STRING","'addBcc'",112],",",["T_WHITESPACE","\n    ",112],")",";",["T_WHITESPACE","\n\n    ",113],["T_DOC_COMMENT","\/**\n     * Class constructor.\n     *\n     * Constructs the mail writer; requires a Zend_Mail instance, and takes an\n     * optional Zend_Layout instance.  If Zend_Layout is being used,\n     * $this->_layout->events will be set for use in the layout template.\n     *\n     * @param  Zend_Mail $mail Mail instance\n     * @param  Zend_Layout $layout Layout instance; optional\n     * @return void\n     *\/",115],["T_WHITESPACE","\n    ",125],["T_PUBLIC","public",126],["T_WHITESPACE"," ",126],["T_FUNCTION","function",126],["T_WHITESPACE"," ",126],["T_STRING","__construct",126],"(",["T_STRING","Zend_Mail",126],["T_WHITESPACE"," ",126],["T_VARIABLE","$mail",126],",",["T_WHITESPACE"," ",126],["T_STRING","Zend_Layout",126],["T_WHITESPACE"," ",126],["T_VARIABLE","$layout",126],["T_WHITESPACE"," ",126],"=",["T_WHITESPACE"," ",126],["T_STRING","null",126],")",["T_WHITESPACE","\n    ",126],"{",["T_WHITESPACE","\n        ",127],["T_VARIABLE","$this",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","_mail",128],["T_WHITESPACE"," ",128],"=",["T_WHITESPACE"," ",128],["T_VARIABLE","$mail",128],";",["T_WHITESPACE","\n        ",128],["T_IF","if",129],["T_WHITESPACE"," ",129],"(",["T_STRING","null",129],["T_WHITESPACE"," ",129],["T_IS_NOT_IDENTICAL","!==",129],["T_WHITESPACE"," ",129],["T_VARIABLE","$layout",129],")",["T_WHITESPACE"," ",129],"{",["T_WHITESPACE","\n            ",129],["T_VARIABLE","$this",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","setLayout",130],"(",["T_VARIABLE","$layout",130],")",";",["T_WHITESPACE","\n        ",130],"}",["T_WHITESPACE","\n        ",131],["T_VARIABLE","$this",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","_formatter",132],["T_WHITESPACE"," ",132],"=",["T_WHITESPACE"," ",132],["T_NEW","new",132],["T_WHITESPACE"," ",132],["T_STRING","Zend_Log_Formatter_Simple",132],"(",")",";",["T_WHITESPACE","\n    ",132],"}",["T_WHITESPACE","\n\n    ",133],["T_DOC_COMMENT","\/**\n     * Create a new instance of Zend_Log_Writer_Mail\n     *\n     * @param  array|Zend_Config $config\n     * @return Zend_Log_Writer_Mail\n     *\/",135],["T_WHITESPACE","\n    ",140],["T_STATIC","static",141],["T_WHITESPACE"," ",141],["T_PUBLIC","public",141],["T_WHITESPACE"," ",141],["T_FUNCTION","function",141],["T_WHITESPACE"," ",141],["T_STRING","factory",141],"(",["T_VARIABLE","$config",141],")",["T_WHITESPACE","\n    ",141],"{",["T_WHITESPACE","\n        ",142],["T_VARIABLE","$config",143],["T_WHITESPACE"," ",143],"=",["T_WHITESPACE"," ",143],["T_STRING","self",143],["T_DOUBLE_COLON","::",143],["T_STRING","_parseConfig",143],"(",["T_VARIABLE","$config",143],")",";",["T_WHITESPACE","\n        ",143],["T_VARIABLE","$mail",144],["T_WHITESPACE"," ",144],"=",["T_WHITESPACE"," ",144],["T_STRING","self",144],["T_DOUBLE_COLON","::",144],["T_STRING","_constructMailFromConfig",144],"(",["T_VARIABLE","$config",144],")",";",["T_WHITESPACE","\n        ",144],["T_VARIABLE","$writer",145],["T_WHITESPACE"," ",145],"=",["T_WHITESPACE"," ",145],["T_NEW","new",145],["T_WHITESPACE"," ",145],["T_STRING","self",145],"(",["T_VARIABLE","$mail",145],")",";",["T_WHITESPACE","\n\n        ",145],["T_IF","if",147],["T_WHITESPACE"," ",147],"(",["T_ISSET","isset",147],"(",["T_VARIABLE","$config",147],"[",["T_CONSTANT_ENCAPSED_STRING","'layout'",147],"]",")",["T_WHITESPACE"," ",147],["T_BOOLEAN_OR","||",147],["T_WHITESPACE"," ",147],["T_ISSET","isset",147],"(",["T_VARIABLE","$config",147],"[",["T_CONSTANT_ENCAPSED_STRING","'layoutOptions'",147],"]",")",")",["T_WHITESPACE"," ",147],"{",["T_WHITESPACE","\n            ",147],["T_VARIABLE","$writer",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","setLayout",148],"(",["T_VARIABLE","$config",148],")",";",["T_WHITESPACE","\n        ",148],"}",["T_WHITESPACE","\n        ",149],["T_IF","if",150],["T_WHITESPACE"," ",150],"(",["T_ISSET","isset",150],"(",["T_VARIABLE","$config",150],"[",["T_CONSTANT_ENCAPSED_STRING","'layoutFormatter'",150],"]",")",")",["T_WHITESPACE"," ",150],"{",["T_WHITESPACE","\n            ",150],["T_VARIABLE","$layoutFormatter",151],["T_WHITESPACE"," ",151],"=",["T_WHITESPACE"," ",151],["T_NEW","new",151],["T_WHITESPACE"," ",151],["T_VARIABLE","$config",151],"[",["T_CONSTANT_ENCAPSED_STRING","'layoutFormatter'",151],"]",";",["T_WHITESPACE","\n            ",151],["T_VARIABLE","$writer",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","setLayoutFormatter",152],"(",["T_VARIABLE","$layoutFormatter",152],")",";",["T_WHITESPACE","\n        ",152],"}",["T_WHITESPACE","\n        ",153],["T_IF","if",154],["T_WHITESPACE"," ",154],"(",["T_ISSET","isset",154],"(",["T_VARIABLE","$config",154],"[",["T_CONSTANT_ENCAPSED_STRING","'subjectPrependText'",154],"]",")",")",["T_WHITESPACE"," ",154],"{",["T_WHITESPACE","\n            ",154],["T_VARIABLE","$writer",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","setSubjectPrependText",155],"(",["T_VARIABLE","$config",155],"[",["T_CONSTANT_ENCAPSED_STRING","'subjectPrependText'",155],"]",")",";",["T_WHITESPACE","\n        ",155],"}",["T_WHITESPACE","\n\n        ",156],["T_RETURN","return",158],["T_WHITESPACE"," ",158],["T_VARIABLE","$writer",158],";",["T_WHITESPACE","\n    ",158],"}",["T_WHITESPACE","\n\n    ",159],["T_DOC_COMMENT","\/**\n     * Set the layout\n     *\n     * @param Zend_Layout|array $layout\n     * @return Zend_Log_Writer_Mail\n     * @throws Zend_Log_Exception\n     *\/",161],["T_WHITESPACE","\n    ",167],["T_PUBLIC","public",168],["T_WHITESPACE"," ",168],["T_FUNCTION","function",168],["T_WHITESPACE"," ",168],["T_STRING","setLayout",168],"(",["T_VARIABLE","$layout",168],")",["T_WHITESPACE","\n    ",168],"{",["T_WHITESPACE","\n        ",169],["T_IF","if",170],["T_WHITESPACE"," ",170],"(",["T_STRING","is_array",170],"(",["T_VARIABLE","$layout",170],")",")",["T_WHITESPACE"," ",170],"{",["T_WHITESPACE","\n            ",170],["T_VARIABLE","$layout",171],["T_WHITESPACE"," ",171],"=",["T_WHITESPACE"," ",171],["T_VARIABLE","$this",171],["T_OBJECT_OPERATOR","->",171],["T_STRING","_constructLayoutFromConfig",171],"(",["T_VARIABLE","$layout",171],")",";",["T_WHITESPACE","\n        ",171],"}",["T_WHITESPACE","\n\n        ",172],["T_IF","if",174],["T_WHITESPACE"," ",174],"(","!",["T_VARIABLE","$layout",174],["T_WHITESPACE"," ",174],["T_INSTANCEOF","instanceof",174],["T_WHITESPACE"," ",174],["T_STRING","Zend_Layout",174],")",["T_WHITESPACE"," ",174],"{",["T_WHITESPACE","\n            ",174],["T_COMMENT","#require_once 'Zend\/Log\/Exception.php';\n",175],["T_WHITESPACE","            ",176],["T_THROW","throw",176],["T_WHITESPACE"," ",176],["T_NEW","new",176],["T_WHITESPACE"," ",176],["T_STRING","Zend_Log_Exception",176],"(",["T_CONSTANT_ENCAPSED_STRING","'Mail must be an instance of Zend_Layout or an array'",176],")",";",["T_WHITESPACE","\n        ",176],"}",["T_WHITESPACE","\n        ",177],["T_VARIABLE","$this",178],["T_OBJECT_OPERATOR","->",178],["T_STRING","_layout",178],["T_WHITESPACE"," ",178],"=",["T_WHITESPACE"," ",178],["T_VARIABLE","$layout",178],";",["T_WHITESPACE","\n\n        ",178],["T_RETURN","return",180],["T_WHITESPACE"," ",180],["T_VARIABLE","$this",180],";",["T_WHITESPACE","\n    ",180],"}",["T_WHITESPACE","\n\n    ",181],["T_DOC_COMMENT","\/**\n     * Construct a Zend_Mail instance based on a configuration array\n     *\n     * @param array $config\n     * @return Zend_Mail\n     * @throws Zend_Log_Exception\n     *\/",183],["T_WHITESPACE","\n    ",189],["T_PROTECTED","protected",190],["T_WHITESPACE"," ",190],["T_STATIC","static",190],["T_WHITESPACE"," ",190],["T_FUNCTION","function",190],["T_WHITESPACE"," ",190],["T_STRING","_constructMailFromConfig",190],"(",["T_ARRAY","array",190],["T_WHITESPACE"," ",190],["T_VARIABLE","$config",190],")",["T_WHITESPACE","\n    ",190],"{",["T_WHITESPACE","\n        ",191],["T_VARIABLE","$mailClass",192],["T_WHITESPACE"," ",192],"=",["T_WHITESPACE"," ",192],["T_CONSTANT_ENCAPSED_STRING","'Zend_Mail'",192],";",["T_WHITESPACE","\n        ",192],["T_IF","if",193],["T_WHITESPACE"," ",193],"(",["T_ISSET","isset",193],"(",["T_VARIABLE","$config",193],"[",["T_CONSTANT_ENCAPSED_STRING","'mail'",193],"]",")",")",["T_WHITESPACE"," ",193],"{",["T_WHITESPACE","\n            ",193],["T_VARIABLE","$mailClass",194],["T_WHITESPACE"," ",194],"=",["T_WHITESPACE"," ",194],["T_VARIABLE","$config",194],"[",["T_CONSTANT_ENCAPSED_STRING","'mail'",194],"]",";",["T_WHITESPACE","\n        ",194],"}",["T_WHITESPACE","\n\n        ",195],["T_IF","if",197],["T_WHITESPACE"," ",197],"(","!",["T_STRING","array_key_exists",197],"(",["T_CONSTANT_ENCAPSED_STRING","'charset'",197],",",["T_WHITESPACE"," ",197],["T_VARIABLE","$config",197],")",")",["T_WHITESPACE"," ",197],"{",["T_WHITESPACE","\n            ",197],["T_VARIABLE","$config",198],"[",["T_CONSTANT_ENCAPSED_STRING","'charset'",198],"]",["T_WHITESPACE"," ",198],"=",["T_WHITESPACE"," ",198],["T_STRING","null",198],";",["T_WHITESPACE","\n        ",198],"}",["T_WHITESPACE","\n        ",199],["T_VARIABLE","$mail",200],["T_WHITESPACE"," ",200],"=",["T_WHITESPACE"," ",200],["T_NEW","new",200],["T_WHITESPACE"," ",200],["T_VARIABLE","$mailClass",200],"(",["T_VARIABLE","$config",200],"[",["T_CONSTANT_ENCAPSED_STRING","'charset'",200],"]",")",";",["T_WHITESPACE","\n        ",200],["T_IF","if",201],["T_WHITESPACE"," ",201],"(","!",["T_VARIABLE","$mail",201],["T_WHITESPACE"," ",201],["T_INSTANCEOF","instanceof",201],["T_WHITESPACE"," ",201],["T_STRING","Zend_Mail",201],")",["T_WHITESPACE"," ",201],"{",["T_WHITESPACE","\n            ",201],["T_THROW","throw",202],["T_WHITESPACE"," ",202],["T_NEW","new",202],["T_WHITESPACE"," ",202],["T_STRING","Zend_Log_Exception",202],"(",["T_VARIABLE","$mail",202],["T_WHITESPACE"," ",202],".",["T_WHITESPACE"," ",202],["T_CONSTANT_ENCAPSED_STRING","'must extend Zend_Mail'",202],")",";",["T_WHITESPACE","\n        ",202],"}",["T_WHITESPACE","\n\n        ",203],["T_IF","if",205],["T_WHITESPACE"," ",205],"(",["T_ISSET","isset",205],"(",["T_VARIABLE","$config",205],"[",["T_CONSTANT_ENCAPSED_STRING","'subject'",205],"]",")",")",["T_WHITESPACE"," ",205],"{",["T_WHITESPACE","\n            ",205],["T_VARIABLE","$mail",206],["T_OBJECT_OPERATOR","->",206],["T_STRING","setSubject",206],"(",["T_VARIABLE","$config",206],"[",["T_CONSTANT_ENCAPSED_STRING","'subject'",206],"]",")",";",["T_WHITESPACE","\n        ",206],"}",["T_WHITESPACE","\n\n        ",207],["T_VARIABLE","$headerAddresses",209],["T_WHITESPACE"," ",209],"=",["T_WHITESPACE"," ",209],["T_STRING","array_intersect_key",209],"(",["T_VARIABLE","$config",209],",",["T_WHITESPACE"," ",209],["T_STRING","self",209],["T_DOUBLE_COLON","::",209],["T_VARIABLE","$_methodMapHeaders",209],")",";",["T_WHITESPACE","\n        ",209],["T_IF","if",210],["T_WHITESPACE"," ",210],"(",["T_STRING","count",210],"(",["T_VARIABLE","$headerAddresses",210],")",")",["T_WHITESPACE"," ",210],"{",["T_WHITESPACE","\n            ",210],["T_FOREACH","foreach",211],["T_WHITESPACE"," ",211],"(",["T_VARIABLE","$headerAddresses",211],["T_WHITESPACE"," ",211],["T_AS","as",211],["T_WHITESPACE"," ",211],["T_VARIABLE","$header",211],["T_WHITESPACE"," ",211],["T_DOUBLE_ARROW","=>",211],["T_WHITESPACE"," ",211],["T_VARIABLE","$address",211],")",["T_WHITESPACE"," ",211],"{",["T_WHITESPACE","\n                ",211],["T_VARIABLE","$method",212],["T_WHITESPACE"," ",212],"=",["T_WHITESPACE"," ",212],["T_STRING","self",212],["T_DOUBLE_COLON","::",212],["T_VARIABLE","$_methodMapHeaders",212],"[",["T_VARIABLE","$header",212],"]",";",["T_WHITESPACE","\n                ",212],["T_IF","if",213],["T_WHITESPACE"," ",213],"(",["T_STRING","is_array",213],"(",["T_VARIABLE","$address",213],")",["T_WHITESPACE"," ",213],["T_BOOLEAN_AND","&&",213],["T_WHITESPACE"," ",213],["T_ISSET","isset",213],"(",["T_VARIABLE","$address",213],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",213],"]",")",["T_WHITESPACE","\n                    ",213],["T_BOOLEAN_AND","&&",214],["T_WHITESPACE"," ",214],"!",["T_STRING","is_numeric",214],"(",["T_VARIABLE","$address",214],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",214],"]",")",["T_WHITESPACE","\n                ",214],")",["T_WHITESPACE"," ",215],"{",["T_WHITESPACE","\n                    ",215],["T_VARIABLE","$params",216],["T_WHITESPACE"," ",216],"=",["T_WHITESPACE"," ",216],["T_ARRAY","array",216],"(",["T_WHITESPACE","\n                        ",216],["T_VARIABLE","$address",217],"[",["T_CONSTANT_ENCAPSED_STRING","'email'",217],"]",",",["T_WHITESPACE","\n                        ",217],["T_VARIABLE","$address",218],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",218],"]",["T_WHITESPACE","\n                    ",218],")",";",["T_WHITESPACE","\n                ",219],"}",["T_WHITESPACE"," ",220],["T_ELSE","else",220],["T_WHITESPACE"," ",220],["T_IF","if",220],["T_WHITESPACE"," ",220],"(",["T_STRING","is_array",220],"(",["T_VARIABLE","$address",220],")",["T_WHITESPACE"," ",220],["T_BOOLEAN_AND","&&",220],["T_WHITESPACE"," ",220],["T_ISSET","isset",220],"(",["T_VARIABLE","$address",220],"[",["T_CONSTANT_ENCAPSED_STRING","'email'",220],"]",")",")",["T_WHITESPACE"," ",220],"{",["T_WHITESPACE","\n                    ",220],["T_VARIABLE","$params",221],["T_WHITESPACE"," ",221],"=",["T_WHITESPACE"," ",221],["T_ARRAY","array",221],"(",["T_VARIABLE","$address",221],"[",["T_CONSTANT_ENCAPSED_STRING","'email'",221],"]",")",";",["T_WHITESPACE","\n                ",221],"}",["T_WHITESPACE"," ",222],["T_ELSE","else",222],["T_WHITESPACE"," ",222],"{",["T_WHITESPACE","\n                    ",222],["T_VARIABLE","$params",223],["T_WHITESPACE"," ",223],"=",["T_WHITESPACE"," ",223],["T_ARRAY","array",223],"(",["T_VARIABLE","$address",223],")",";",["T_WHITESPACE","\n                ",223],"}",["T_WHITESPACE","\n                ",224],["T_STRING","call_user_func_array",225],"(",["T_ARRAY","array",225],"(",["T_VARIABLE","$mail",225],",",["T_WHITESPACE"," ",225],["T_VARIABLE","$method",225],")",",",["T_WHITESPACE"," ",225],["T_VARIABLE","$params",225],")",";",["T_WHITESPACE","\n            ",225],"}",["T_WHITESPACE","\n        ",226],"}",["T_WHITESPACE","\n\n        ",227],["T_RETURN","return",229],["T_WHITESPACE"," ",229],["T_VARIABLE","$mail",229],";",["T_WHITESPACE","\n    ",229],"}",["T_WHITESPACE","\n\n    ",230],["T_DOC_COMMENT","\/**\n     * Construct a Zend_Layout instance based on a configuration array\n     *\n     * @param array $config\n     * @return Zend_Layout\n     * @throws Zend_Log_Exception\n     *\/",232],["T_WHITESPACE","\n    ",238],["T_PROTECTED","protected",239],["T_WHITESPACE"," ",239],["T_FUNCTION","function",239],["T_WHITESPACE"," ",239],["T_STRING","_constructLayoutFromConfig",239],"(",["T_ARRAY","array",239],["T_WHITESPACE"," ",239],["T_VARIABLE","$config",239],")",["T_WHITESPACE","\n    ",239],"{",["T_WHITESPACE","\n        ",240],["T_VARIABLE","$config",241],["T_WHITESPACE"," ",241],"=",["T_WHITESPACE"," ",241],["T_STRING","array_merge",241],"(",["T_ARRAY","array",241],"(",["T_WHITESPACE","\n            ",241],["T_CONSTANT_ENCAPSED_STRING","'layout'",242],["T_WHITESPACE"," ",242],["T_DOUBLE_ARROW","=>",242],["T_WHITESPACE"," ",242],["T_CONSTANT_ENCAPSED_STRING","'Zend_Layout'",242],",",["T_WHITESPACE","\n            ",242],["T_CONSTANT_ENCAPSED_STRING","'layoutOptions'",243],["T_WHITESPACE"," ",243],["T_DOUBLE_ARROW","=>",243],["T_WHITESPACE"," ",243],["T_STRING","null",243],["T_WHITESPACE","\n        ",243],")",",",["T_WHITESPACE"," ",244],["T_VARIABLE","$config",244],")",";",["T_WHITESPACE","\n\n        ",244],["T_VARIABLE","$layoutClass",246],["T_WHITESPACE"," ",246],"=",["T_WHITESPACE"," ",246],["T_VARIABLE","$config",246],"[",["T_CONSTANT_ENCAPSED_STRING","'layout'",246],"]",";",["T_WHITESPACE","\n        ",246],["T_VARIABLE","$layout",247],["T_WHITESPACE"," ",247],"=",["T_WHITESPACE"," ",247],["T_NEW","new",247],["T_WHITESPACE"," ",247],["T_VARIABLE","$layoutClass",247],"(",["T_VARIABLE","$config",247],"[",["T_CONSTANT_ENCAPSED_STRING","'layoutOptions'",247],"]",")",";",["T_WHITESPACE","\n        ",247],["T_IF","if",248],["T_WHITESPACE"," ",248],"(","!",["T_VARIABLE","$layout",248],["T_WHITESPACE"," ",248],["T_INSTANCEOF","instanceof",248],["T_WHITESPACE"," ",248],["T_STRING","Zend_Layout",248],")",["T_WHITESPACE"," ",248],"{",["T_WHITESPACE","\n            ",248],["T_THROW","throw",249],["T_WHITESPACE"," ",249],["T_NEW","new",249],["T_WHITESPACE"," ",249],["T_STRING","Zend_Log_Exception",249],"(",["T_VARIABLE","$layout",249],["T_WHITESPACE"," ",249],".",["T_WHITESPACE"," ",249],["T_CONSTANT_ENCAPSED_STRING","'must extend Zend_Layout'",249],")",";",["T_WHITESPACE","\n        ",249],"}",["T_WHITESPACE","\n\n        ",250],["T_RETURN","return",252],["T_WHITESPACE"," ",252],["T_VARIABLE","$layout",252],";",["T_WHITESPACE","\n    ",252],"}",["T_WHITESPACE","\n\n    ",253],["T_DOC_COMMENT","\/**\n     * Places event line into array of lines to be used as message body.\n     *\n     * Handles the formatting of both plaintext entries, as well as those\n     * rendered with Zend_Layout.\n     *\n     * @param  array $event Event data\n     * @return void\n     *\/",255],["T_WHITESPACE","\n    ",263],["T_PROTECTED","protected",264],["T_WHITESPACE"," ",264],["T_FUNCTION","function",264],["T_WHITESPACE"," ",264],["T_STRING","_write",264],"(",["T_VARIABLE","$event",264],")",["T_WHITESPACE","\n    ",264],"{",["T_WHITESPACE","\n        ",265],["T_COMMENT","\/\/ Track the number of entries per priority level.\n",266],["T_WHITESPACE","        ",267],["T_IF","if",267],["T_WHITESPACE"," ",267],"(","!",["T_ISSET","isset",267],"(",["T_VARIABLE","$this",267],["T_OBJECT_OPERATOR","->",267],["T_STRING","_numEntriesPerPriority",267],"[",["T_VARIABLE","$event",267],"[",["T_CONSTANT_ENCAPSED_STRING","'priorityName'",267],"]","]",")",")",["T_WHITESPACE"," ",267],"{",["T_WHITESPACE","\n            ",267],["T_VARIABLE","$this",268],["T_OBJECT_OPERATOR","->",268],["T_STRING","_numEntriesPerPriority",268],"[",["T_VARIABLE","$event",268],"[",["T_CONSTANT_ENCAPSED_STRING","'priorityName'",268],"]","]",["T_WHITESPACE"," ",268],"=",["T_WHITESPACE"," ",268],["T_LNUMBER","1",268],";",["T_WHITESPACE","\n        ",268],"}",["T_WHITESPACE"," ",269],["T_ELSE","else",269],["T_WHITESPACE"," ",269],"{",["T_WHITESPACE","\n            ",269],["T_VARIABLE","$this",270],["T_OBJECT_OPERATOR","->",270],["T_STRING","_numEntriesPerPriority",270],"[",["T_VARIABLE","$event",270],"[",["T_CONSTANT_ENCAPSED_STRING","'priorityName'",270],"]","]",["T_INC","++",270],";",["T_WHITESPACE","\n        ",270],"}",["T_WHITESPACE","\n\n        ",271],["T_VARIABLE","$formattedEvent",273],["T_WHITESPACE"," ",273],"=",["T_WHITESPACE"," ",273],["T_VARIABLE","$this",273],["T_OBJECT_OPERATOR","->",273],["T_STRING","_formatter",273],["T_OBJECT_OPERATOR","->",273],["T_STRING","format",273],"(",["T_VARIABLE","$event",273],")",";",["T_WHITESPACE","\n\n        ",273],["T_COMMENT","\/\/ All plaintext events are to use the standard formatter.\n",275],["T_WHITESPACE","        ",276],["T_VARIABLE","$this",276],["T_OBJECT_OPERATOR","->",276],["T_STRING","_eventsToMail",276],"[","]",["T_WHITESPACE"," ",276],"=",["T_WHITESPACE"," ",276],["T_VARIABLE","$formattedEvent",276],";",["T_WHITESPACE","\n\n        ",276],["T_COMMENT","\/\/ If we have a Zend_Layout instance, use a specific formatter for the\n",278],["T_WHITESPACE","        ",279],["T_COMMENT","\/\/ layout if one exists.  Otherwise, just use the event with its\n",279],["T_WHITESPACE","        ",280],["T_COMMENT","\/\/ default format.\n",280],["T_WHITESPACE","        ",281],["T_IF","if",281],["T_WHITESPACE"," ",281],"(",["T_VARIABLE","$this",281],["T_OBJECT_OPERATOR","->",281],["T_STRING","_layout",281],")",["T_WHITESPACE"," ",281],"{",["T_WHITESPACE","\n            ",281],["T_IF","if",282],["T_WHITESPACE"," ",282],"(",["T_VARIABLE","$this",282],["T_OBJECT_OPERATOR","->",282],["T_STRING","_layoutFormatter",282],")",["T_WHITESPACE"," ",282],"{",["T_WHITESPACE","\n                ",282],["T_VARIABLE","$this",283],["T_OBJECT_OPERATOR","->",283],["T_STRING","_layoutEventsToMail",283],"[","]",["T_WHITESPACE"," ",283],"=",["T_WHITESPACE","\n                    ",283],["T_VARIABLE","$this",284],["T_OBJECT_OPERATOR","->",284],["T_STRING","_layoutFormatter",284],["T_OBJECT_OPERATOR","->",284],["T_STRING","format",284],"(",["T_VARIABLE","$event",284],")",";",["T_WHITESPACE","\n            ",284],"}",["T_WHITESPACE"," ",285],["T_ELSE","else",285],["T_WHITESPACE"," ",285],"{",["T_WHITESPACE","\n                ",285],["T_VARIABLE","$this",286],["T_OBJECT_OPERATOR","->",286],["T_STRING","_layoutEventsToMail",286],"[","]",["T_WHITESPACE"," ",286],"=",["T_WHITESPACE"," ",286],["T_VARIABLE","$formattedEvent",286],";",["T_WHITESPACE","\n            ",286],"}",["T_WHITESPACE","\n        ",287],"}",["T_WHITESPACE","\n    ",288],"}",["T_WHITESPACE","\n\n    ",289],["T_DOC_COMMENT","\/**\n     * Gets instance of Zend_Log_Formatter_Instance used for formatting a\n     * message using Zend_Layout, if applicable.\n     *\n     * @return Zend_Log_Formatter_Interface|null The formatter, or null.\n     *\/",291],["T_WHITESPACE","\n    ",296],["T_PUBLIC","public",297],["T_WHITESPACE"," ",297],["T_FUNCTION","function",297],["T_WHITESPACE"," ",297],["T_STRING","getLayoutFormatter",297],"(",")",["T_WHITESPACE","\n    ",297],"{",["T_WHITESPACE","\n        ",298],["T_RETURN","return",299],["T_WHITESPACE"," ",299],["T_VARIABLE","$this",299],["T_OBJECT_OPERATOR","->",299],["T_STRING","_layoutFormatter",299],";",["T_WHITESPACE","\n    ",299],"}",["T_WHITESPACE","\n\n    ",300],["T_DOC_COMMENT","\/**\n     * Sets a specific formatter for use with Zend_Layout events.\n     *\n     * Allows use of a second formatter on lines that will be rendered with\n     * Zend_Layout.  In the event that Zend_Layout is not being used, this\n     * formatter cannot be set, so an exception will be thrown.\n     *\n     * @param  Zend_Log_Formatter_Interface $formatter\n     * @return Zend_Log_Writer_Mail\n     * @throws Zend_Log_Exception\n     *\/",302],["T_WHITESPACE","\n    ",312],["T_PUBLIC","public",313],["T_WHITESPACE"," ",313],["T_FUNCTION","function",313],["T_WHITESPACE"," ",313],["T_STRING","setLayoutFormatter",313],"(",["T_STRING","Zend_Log_Formatter_Interface",313],["T_WHITESPACE"," ",313],["T_VARIABLE","$formatter",313],")",["T_WHITESPACE","\n    ",313],"{",["T_WHITESPACE","\n        ",314],["T_IF","if",315],["T_WHITESPACE"," ",315],"(","!",["T_VARIABLE","$this",315],["T_OBJECT_OPERATOR","->",315],["T_STRING","_layout",315],")",["T_WHITESPACE"," ",315],"{",["T_WHITESPACE","\n            ",315],["T_THROW","throw",316],["T_WHITESPACE"," ",316],["T_NEW","new",316],["T_WHITESPACE"," ",316],["T_STRING","Zend_Log_Exception",316],"(",["T_WHITESPACE","\n                ",316],["T_CONSTANT_ENCAPSED_STRING","'cannot set formatter for layout; '",317],["T_WHITESPACE"," ",317],".",["T_WHITESPACE","\n                    ",317],["T_CONSTANT_ENCAPSED_STRING","'a Zend_Layout instance is not in use'",318],")",";",["T_WHITESPACE","\n        ",318],"}",["T_WHITESPACE","\n\n        ",319],["T_VARIABLE","$this",321],["T_OBJECT_OPERATOR","->",321],["T_STRING","_layoutFormatter",321],["T_WHITESPACE"," ",321],"=",["T_WHITESPACE"," ",321],["T_VARIABLE","$formatter",321],";",["T_WHITESPACE","\n        ",321],["T_RETURN","return",322],["T_WHITESPACE"," ",322],["T_VARIABLE","$this",322],";",["T_WHITESPACE","\n    ",322],"}",["T_WHITESPACE","\n\n    ",323],["T_DOC_COMMENT","\/**\n     * Allows caller to have the mail subject dynamically set to contain the\n     * entry counts per-priority level.\n     *\n     * Sets the text for use in the subject, with entry counts per-priority\n     * level appended to the end.  Since a Zend_Mail subject can only be set\n     * once, this method cannot be used if the Zend_Mail object already has a\n     * subject set.\n     *\n     * @param  string $subject Subject prepend text.\n     * @return Zend_Log_Writer_Mail\n     * @throws Zend_Log_Exception\n     *\/",325],["T_WHITESPACE","\n    ",337],["T_PUBLIC","public",338],["T_WHITESPACE"," ",338],["T_FUNCTION","function",338],["T_WHITESPACE"," ",338],["T_STRING","setSubjectPrependText",338],"(",["T_VARIABLE","$subject",338],")",["T_WHITESPACE","\n    ",338],"{",["T_WHITESPACE","\n        ",339],["T_IF","if",340],["T_WHITESPACE"," ",340],"(",["T_VARIABLE","$this",340],["T_OBJECT_OPERATOR","->",340],["T_STRING","_mail",340],["T_OBJECT_OPERATOR","->",340],["T_STRING","getSubject",340],"(",")",")",["T_WHITESPACE"," ",340],"{",["T_WHITESPACE","\n            ",340],["T_THROW","throw",341],["T_WHITESPACE"," ",341],["T_NEW","new",341],["T_WHITESPACE"," ",341],["T_STRING","Zend_Log_Exception",341],"(",["T_WHITESPACE","\n                ",341],["T_CONSTANT_ENCAPSED_STRING","'subject already set on mail; '",342],["T_WHITESPACE"," ",342],".",["T_WHITESPACE","\n                    ",342],["T_CONSTANT_ENCAPSED_STRING","'cannot set subject prepend text'",343],")",";",["T_WHITESPACE","\n        ",343],"}",["T_WHITESPACE","\n\n        ",344],["T_VARIABLE","$this",346],["T_OBJECT_OPERATOR","->",346],["T_STRING","_subjectPrependText",346],["T_WHITESPACE"," ",346],"=",["T_WHITESPACE"," ",346],["T_STRING_CAST","(string)",346],["T_WHITESPACE"," ",346],["T_VARIABLE","$subject",346],";",["T_WHITESPACE","\n        ",346],["T_RETURN","return",347],["T_WHITESPACE"," ",347],["T_VARIABLE","$this",347],";",["T_WHITESPACE","\n    ",347],"}",["T_WHITESPACE","\n\n    ",348],["T_DOC_COMMENT","\/**\n     * Sends mail to recipient(s) if log entries are present.  Note that both\n     * plaintext and HTML portions of email are handled here.\n     *\n     * @return void\n     *\/",350],["T_WHITESPACE","\n    ",355],["T_PUBLIC","public",356],["T_WHITESPACE"," ",356],["T_FUNCTION","function",356],["T_WHITESPACE"," ",356],["T_STRING","shutdown",356],"(",")",["T_WHITESPACE","\n    ",356],"{",["T_WHITESPACE","\n        ",357],["T_COMMENT","\/\/ If there are events to mail, use them as message body.  Otherwise,\n",358],["T_WHITESPACE","        ",359],["T_COMMENT","\/\/ there is no mail to be sent.\n",359],["T_WHITESPACE","        ",360],["T_IF","if",360],["T_WHITESPACE"," ",360],"(",["T_EMPTY","empty",360],"(",["T_VARIABLE","$this",360],["T_OBJECT_OPERATOR","->",360],["T_STRING","_eventsToMail",360],")",")",["T_WHITESPACE"," ",360],"{",["T_WHITESPACE","\n            ",360],["T_RETURN","return",361],";",["T_WHITESPACE","\n        ",361],"}",["T_WHITESPACE","\n\n        ",362],["T_IF","if",364],["T_WHITESPACE"," ",364],"(",["T_VARIABLE","$this",364],["T_OBJECT_OPERATOR","->",364],["T_STRING","_subjectPrependText",364],["T_WHITESPACE"," ",364],["T_IS_NOT_IDENTICAL","!==",364],["T_WHITESPACE"," ",364],["T_STRING","null",364],")",["T_WHITESPACE"," ",364],"{",["T_WHITESPACE","\n            ",364],["T_COMMENT","\/\/ Tack on the summary of entries per-priority to the subject\n",365],["T_WHITESPACE","            ",366],["T_COMMENT","\/\/ line and set it on the Zend_Mail object.\n",366],["T_WHITESPACE","            ",367],["T_VARIABLE","$numEntries",367],["T_WHITESPACE"," ",367],"=",["T_WHITESPACE"," ",367],["T_VARIABLE","$this",367],["T_OBJECT_OPERATOR","->",367],["T_STRING","_getFormattedNumEntriesPerPriority",367],"(",")",";",["T_WHITESPACE","\n            ",367],["T_VARIABLE","$this",368],["T_OBJECT_OPERATOR","->",368],["T_STRING","_mail",368],["T_OBJECT_OPERATOR","->",368],["T_STRING","setSubject",368],"(",["T_WHITESPACE","\n                ",368],"\"",["T_CURLY_OPEN","{",369],["T_VARIABLE","$this",369],["T_OBJECT_OPERATOR","->",369],["T_STRING","_subjectPrependText",369],"}",["T_ENCAPSED_AND_WHITESPACE"," (",369],["T_CURLY_OPEN","{",369],["T_VARIABLE","$numEntries",369],"}",["T_ENCAPSED_AND_WHITESPACE",")",369],"\"",")",";",["T_WHITESPACE","\n        ",369],"}",["T_WHITESPACE","\n\n\n        ",370],["T_COMMENT","\/\/ Always provide events to mail as plaintext.\n",373],["T_WHITESPACE","        ",374],["T_VARIABLE","$this",374],["T_OBJECT_OPERATOR","->",374],["T_STRING","_mail",374],["T_OBJECT_OPERATOR","->",374],["T_STRING","setBodyText",374],"(",["T_STRING","implode",374],"(",["T_CONSTANT_ENCAPSED_STRING","''",374],",",["T_WHITESPACE"," ",374],["T_VARIABLE","$this",374],["T_OBJECT_OPERATOR","->",374],["T_STRING","_eventsToMail",374],")",")",";",["T_WHITESPACE","\n\n        ",374],["T_COMMENT","\/\/ If a Zend_Layout instance is being used, set its \"events\"\n",376],["T_WHITESPACE","        ",377],["T_COMMENT","\/\/ value to the lines formatted for use with the layout.\n",377],["T_WHITESPACE","        ",378],["T_IF","if",378],["T_WHITESPACE"," ",378],"(",["T_VARIABLE","$this",378],["T_OBJECT_OPERATOR","->",378],["T_STRING","_layout",378],")",["T_WHITESPACE"," ",378],"{",["T_WHITESPACE","\n            ",378],["T_COMMENT","\/\/ Set the required \"messages\" value for the layout.  Here we\n",379],["T_WHITESPACE","            ",380],["T_COMMENT","\/\/ are assuming that the layout is for use with HTML.\n",380],["T_WHITESPACE","            ",381],["T_VARIABLE","$this",381],["T_OBJECT_OPERATOR","->",381],["T_STRING","_layout",381],["T_OBJECT_OPERATOR","->",381],["T_STRING","events",381],["T_WHITESPACE"," ",381],"=",["T_WHITESPACE","\n                ",381],["T_STRING","implode",382],"(",["T_CONSTANT_ENCAPSED_STRING","''",382],",",["T_WHITESPACE"," ",382],["T_VARIABLE","$this",382],["T_OBJECT_OPERATOR","->",382],["T_STRING","_layoutEventsToMail",382],")",";",["T_WHITESPACE","\n\n            ",382],["T_COMMENT","\/\/ If an exception occurs during rendering, convert it to a notice\n",384],["T_WHITESPACE","            ",385],["T_COMMENT","\/\/ so we can avoid an exception thrown without a stack frame.\n",385],["T_WHITESPACE","            ",386],["T_TRY","try",386],["T_WHITESPACE"," ",386],"{",["T_WHITESPACE","\n                ",386],["T_VARIABLE","$this",387],["T_OBJECT_OPERATOR","->",387],["T_STRING","_mail",387],["T_OBJECT_OPERATOR","->",387],["T_STRING","setBodyHtml",387],"(",["T_VARIABLE","$this",387],["T_OBJECT_OPERATOR","->",387],["T_STRING","_layout",387],["T_OBJECT_OPERATOR","->",387],["T_STRING","render",387],"(",")",")",";",["T_WHITESPACE","\n            ",387],"}",["T_WHITESPACE"," ",388],["T_CATCH","catch",388],["T_WHITESPACE"," ",388],"(",["T_STRING","Exception",388],["T_WHITESPACE"," ",388],["T_VARIABLE","$e",388],")",["T_WHITESPACE"," ",388],"{",["T_WHITESPACE","\n                ",388],["T_STRING","trigger_error",389],"(",["T_WHITESPACE","\n                    ",389],["T_CONSTANT_ENCAPSED_STRING","\"exception occurred when rendering layout; \"",390],["T_WHITESPACE"," ",390],".",["T_WHITESPACE","\n                        ",390],["T_CONSTANT_ENCAPSED_STRING","\"unable to set html body for message; \"",391],["T_WHITESPACE"," ",391],".",["T_WHITESPACE","\n                        ",391],"\"",["T_ENCAPSED_AND_WHITESPACE","message = ",392],["T_CURLY_OPEN","{",392],["T_VARIABLE","$e",392],["T_OBJECT_OPERATOR","->",392],["T_STRING","getMessage",392],"(",")","}",["T_ENCAPSED_AND_WHITESPACE","; ",392],"\"",["T_WHITESPACE"," ",392],".",["T_WHITESPACE","\n                        ",392],"\"",["T_ENCAPSED_AND_WHITESPACE","code = ",393],["T_CURLY_OPEN","{",393],["T_VARIABLE","$e",393],["T_OBJECT_OPERATOR","->",393],["T_STRING","getCode",393],"(",")","}",["T_ENCAPSED_AND_WHITESPACE","; ",393],"\"",["T_WHITESPACE"," ",393],".",["T_WHITESPACE","\n                        ",393],["T_CONSTANT_ENCAPSED_STRING","\"exception class = \"",394],["T_WHITESPACE"," ",394],".",["T_WHITESPACE"," ",394],["T_STRING","get_class",394],"(",["T_VARIABLE","$e",394],")",",",["T_WHITESPACE","\n                    ",394],["T_STRING","E_USER_NOTICE",395],")",";",["T_WHITESPACE","\n            ",395],"}",["T_WHITESPACE","\n        ",396],"}",["T_WHITESPACE","\n\n        ",397],["T_COMMENT","\/\/ Finally, send the mail.  If an exception occurs, convert it into a\n",399],["T_WHITESPACE","        ",400],["T_COMMENT","\/\/ warning-level message so we can avoid an exception thrown without a\n",400],["T_WHITESPACE","        ",401],["T_COMMENT","\/\/ stack frame.\n",401],["T_WHITESPACE","        ",402],["T_TRY","try",402],["T_WHITESPACE"," ",402],"{",["T_WHITESPACE","\n            ",402],["T_VARIABLE","$this",403],["T_OBJECT_OPERATOR","->",403],["T_STRING","_mail",403],["T_OBJECT_OPERATOR","->",403],["T_STRING","send",403],"(",")",";",["T_WHITESPACE","\n        ",403],"}",["T_WHITESPACE"," ",404],["T_CATCH","catch",404],["T_WHITESPACE"," ",404],"(",["T_STRING","Exception",404],["T_WHITESPACE"," ",404],["T_VARIABLE","$e",404],")",["T_WHITESPACE"," ",404],"{",["T_WHITESPACE","\n            ",404],["T_STRING","trigger_error",405],"(",["T_WHITESPACE","\n                ",405],["T_CONSTANT_ENCAPSED_STRING","\"unable to send log entries via email; \"",406],["T_WHITESPACE"," ",406],".",["T_WHITESPACE","\n                    ",406],"\"",["T_ENCAPSED_AND_WHITESPACE","message = ",407],["T_CURLY_OPEN","{",407],["T_VARIABLE","$e",407],["T_OBJECT_OPERATOR","->",407],["T_STRING","getMessage",407],"(",")","}",["T_ENCAPSED_AND_WHITESPACE","; ",407],"\"",["T_WHITESPACE"," ",407],".",["T_WHITESPACE","\n                    ",407],"\"",["T_ENCAPSED_AND_WHITESPACE","code = ",408],["T_CURLY_OPEN","{",408],["T_VARIABLE","$e",408],["T_OBJECT_OPERATOR","->",408],["T_STRING","getCode",408],"(",")","}",["T_ENCAPSED_AND_WHITESPACE","; ",408],"\"",["T_WHITESPACE"," ",408],".",["T_WHITESPACE","\n                        ",408],["T_CONSTANT_ENCAPSED_STRING","\"exception class = \"",409],["T_WHITESPACE"," ",409],".",["T_WHITESPACE"," ",409],["T_STRING","get_class",409],"(",["T_VARIABLE","$e",409],")",",",["T_WHITESPACE","\n                ",409],["T_STRING","E_USER_WARNING",410],")",";",["T_WHITESPACE","\n        ",410],"}",["T_WHITESPACE","\n    ",411],"}",["T_WHITESPACE","\n\n    ",412],["T_DOC_COMMENT","\/**\n     * Gets a string of number of entries per-priority level that occurred, or\n     * an emptry string if none occurred.\n     *\n     * @return string\n     *\/",414],["T_WHITESPACE","\n    ",419],["T_PROTECTED","protected",420],["T_WHITESPACE"," ",420],["T_FUNCTION","function",420],["T_WHITESPACE"," ",420],["T_STRING","_getFormattedNumEntriesPerPriority",420],"(",")",["T_WHITESPACE","\n    ",420],"{",["T_WHITESPACE","\n        ",421],["T_VARIABLE","$strings",422],["T_WHITESPACE"," ",422],"=",["T_WHITESPACE"," ",422],["T_ARRAY","array",422],"(",")",";",["T_WHITESPACE","\n\n        ",422],["T_FOREACH","foreach",424],["T_WHITESPACE"," ",424],"(",["T_VARIABLE","$this",424],["T_OBJECT_OPERATOR","->",424],["T_STRING","_numEntriesPerPriority",424],["T_WHITESPACE"," ",424],["T_AS","as",424],["T_WHITESPACE"," ",424],["T_VARIABLE","$priority",424],["T_WHITESPACE"," ",424],["T_DOUBLE_ARROW","=>",424],["T_WHITESPACE"," ",424],["T_VARIABLE","$numEntries",424],")",["T_WHITESPACE"," ",424],"{",["T_WHITESPACE","\n            ",424],["T_VARIABLE","$strings",425],"[","]",["T_WHITESPACE"," ",425],"=",["T_WHITESPACE"," ",425],"\"",["T_CURLY_OPEN","{",425],["T_VARIABLE","$priority",425],"}",["T_ENCAPSED_AND_WHITESPACE","=",425],["T_CURLY_OPEN","{",425],["T_VARIABLE","$numEntries",425],"}","\"",";",["T_WHITESPACE","\n        ",425],"}",["T_WHITESPACE","\n\n        ",426],["T_RETURN","return",428],["T_WHITESPACE"," ",428],["T_STRING","implode",428],"(",["T_CONSTANT_ENCAPSED_STRING","', '",428],",",["T_WHITESPACE"," ",428],["T_VARIABLE","$strings",428],")",";",["T_WHITESPACE","\n    ",428],"}",["T_WHITESPACE","\n",429],"}",["T_WHITESPACE","\n",430]]