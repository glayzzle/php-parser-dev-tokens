[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Zend Framework\n *\n * LICENSE\n *\n * This source file is subject to the new BSD license that is bundled\n * with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/framework.zend.com\/license\/new-bsd\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@zend.com so we can send you a copy immediately.\n *\n * @category   Zend\n * @package    Zend_Queue\n * @subpackage Stomp\n * @copyright  Copyright (c) 2005-2015 Zend Technologies USA Inc. (http:\/\/www.zend.com)\n * @license    http:\/\/framework.zend.com\/license\/new-bsd     New BSD License\n * @version    $Id$\n *\/",2],["T_WHITESPACE","\n\n",21],["T_DOC_COMMENT","\/**\n * @see Zend_Queue_Stomp_FrameInterface\n *\/",23],["T_WHITESPACE","\n",25],["T_COMMENT","#require_once 'Zend\/Queue\/Stomp\/FrameInterface.php';\n",26],["T_WHITESPACE","\n",27],["T_DOC_COMMENT","\/**\n * This class represents a Stomp Frame\n *\n * @category   Zend\n * @package    Zend_Queue\n * @subpackage Stomp\n * @copyright  Copyright (c) 2005-2015 Zend Technologies USA Inc. (http:\/\/www.zend.com)\n * @license    http:\/\/framework.zend.com\/license\/new-bsd     New BSD License\n *\/",28],["T_WHITESPACE","\n",36],["T_CLASS","class",37],["T_WHITESPACE"," ",37],["T_STRING","Zend_Queue_Stomp_Frame",37],["T_WHITESPACE","\n    ",37],["T_IMPLEMENTS","implements",38],["T_WHITESPACE"," ",38],["T_STRING","Zend_Queue_Stomp_FrameInterface",38],["T_WHITESPACE","\n",38],"{",["T_WHITESPACE","\n    ",39],["T_CONST","const",40],["T_WHITESPACE"," ",40],["T_STRING","END_OF_FRAME",40],["T_WHITESPACE","   ",40],"=",["T_WHITESPACE"," ",40],["T_CONSTANT_ENCAPSED_STRING","\"\\x00\\n\"",40],";",["T_WHITESPACE","\n    ",40],["T_CONST","const",41],["T_WHITESPACE"," ",41],["T_STRING","CONTENT_LENGTH",41],["T_WHITESPACE"," ",41],"=",["T_WHITESPACE"," ",41],["T_CONSTANT_ENCAPSED_STRING","'content-length'",41],";",["T_WHITESPACE","\n    ",41],["T_CONST","const",42],["T_WHITESPACE"," ",42],["T_STRING","EOL",42],["T_WHITESPACE","            ",42],"=",["T_WHITESPACE"," ",42],["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",42],";",["T_WHITESPACE","\n\n    ",42],["T_DOC_COMMENT","\/**\n     * Headers for the frame\n     *\n     * @var array\n     *\/",44],["T_WHITESPACE","\n    ",48],["T_PROTECTED","protected",49],["T_WHITESPACE"," ",49],["T_VARIABLE","$_headers",49],["T_WHITESPACE"," ",49],"=",["T_WHITESPACE"," ",49],["T_ARRAY","array",49],"(",")",";",["T_WHITESPACE","\n\n    ",49],["T_DOC_COMMENT","\/**\n     * The command for the frame\n     *\n     * @var string\n     *\/",51],["T_WHITESPACE","\n    ",55],["T_PROTECTED","protected",56],["T_WHITESPACE"," ",56],["T_VARIABLE","$_command",56],["T_WHITESPACE"," ",56],"=",["T_WHITESPACE"," ",56],["T_STRING","null",56],";",["T_WHITESPACE","\n\n    ",56],["T_DOC_COMMENT","\/**\n     * The body of the frame\n     *\n     * @var string\n     *\/",58],["T_WHITESPACE","\n    ",62],["T_PROTECTED","protected",63],["T_WHITESPACE"," ",63],["T_VARIABLE","$_body",63],["T_WHITESPACE"," ",63],"=",["T_WHITESPACE"," ",63],["T_STRING","null",63],";",["T_WHITESPACE","\n\n    ",63],["T_DOC_COMMENT","\/**\n     * Do the content-length automatically?\n     *\/",65],["T_WHITESPACE","\n    ",67],["T_PROTECTED","protected",68],["T_WHITESPACE"," ",68],["T_VARIABLE","$_autoContentLength",68],["T_WHITESPACE"," ",68],"=",["T_WHITESPACE"," ",68],["T_STRING","null",68],";",["T_WHITESPACE","\n\n    ",68],["T_DOC_COMMENT","\/**\n     * Constructor\n     *\/",70],["T_WHITESPACE","\n    ",72],["T_PUBLIC","public",73],["T_WHITESPACE"," ",73],["T_FUNCTION","function",73],["T_WHITESPACE"," ",73],["T_STRING","__construct",73],"(",")",["T_WHITESPACE","\n    ",73],"{",["T_WHITESPACE","\n        ",74],["T_VARIABLE","$this",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","setHeaders",75],"(",["T_ARRAY","array",75],"(",")",")",";",["T_WHITESPACE","\n        ",75],["T_VARIABLE","$this",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","setBody",76],"(",["T_STRING","null",76],")",";",["T_WHITESPACE","\n        ",76],["T_VARIABLE","$this",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","setCommand",77],"(",["T_STRING","null",77],")",";",["T_WHITESPACE","\n        ",77],["T_VARIABLE","$this",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","setAutoContentLength",78],"(",["T_STRING","true",78],")",";",["T_WHITESPACE","\n    ",78],"}",["T_WHITESPACE","\n\n    ",79],["T_DOC_COMMENT","\/**\n     * get the status of the auto content length\n     *\n     * If AutoContentLength is true this code will automatically put the\n     * content-length header in, even if it is already set by the user.\n     *\n     * This is done to make the message sending more reliable.\n     *\n     * @return boolean\n     *\/",81],["T_WHITESPACE","\n    ",90],["T_PUBLIC","public",91],["T_WHITESPACE"," ",91],["T_FUNCTION","function",91],["T_WHITESPACE"," ",91],["T_STRING","getAutoContentLength",91],"(",")",["T_WHITESPACE","\n    ",91],"{",["T_WHITESPACE","\n        ",92],["T_RETURN","return",93],["T_WHITESPACE"," ",93],["T_VARIABLE","$this",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","_autoContentLength",93],";",["T_WHITESPACE","\n    ",93],"}",["T_WHITESPACE","\n\n    ",94],["T_DOC_COMMENT","\/**\n     * setAutoContentLength()\n     *\n     * Set the value on or off.\n     *\n     * @param boolean $auto\n     * @return $this;\n     * @throws Zend_Queue_Exception\n     *\/",96],["T_WHITESPACE","\n    ",104],["T_PUBLIC","public",105],["T_WHITESPACE"," ",105],["T_FUNCTION","function",105],["T_WHITESPACE"," ",105],["T_STRING","setAutoContentLength",105],"(",["T_VARIABLE","$auto",105],")",["T_WHITESPACE","\n    ",105],"{",["T_WHITESPACE","\n        ",106],["T_IF","if",107],["T_WHITESPACE"," ",107],"(","!",["T_STRING","is_bool",107],"(",["T_VARIABLE","$auto",107],")",")",["T_WHITESPACE"," ",107],"{",["T_WHITESPACE","\n            ",107],["T_COMMENT","#require_once 'Zend\/Queue\/Exception.php';\n",108],["T_WHITESPACE","            ",109],["T_THROW","throw",109],["T_WHITESPACE"," ",109],["T_NEW","new",109],["T_WHITESPACE"," ",109],["T_STRING","Zend_Queue_Exception",109],"(",["T_CONSTANT_ENCAPSED_STRING","'$auto is not a boolean'",109],")",";",["T_WHITESPACE","\n        ",109],"}",["T_WHITESPACE","\n\n        ",110],["T_VARIABLE","$this",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","_autoContentLength",112],["T_WHITESPACE"," ",112],"=",["T_WHITESPACE"," ",112],["T_VARIABLE","$auto",112],";",["T_WHITESPACE","\n        ",112],["T_RETURN","return",113],["T_WHITESPACE"," ",113],["T_VARIABLE","$this",113],";",["T_WHITESPACE","\n    ",113],"}",["T_WHITESPACE","\n\n    ",114],["T_DOC_COMMENT","\/**\n     * Get the headers\n     *\n     * @return array\n     *\/",116],["T_WHITESPACE","\n    ",120],["T_PUBLIC","public",121],["T_WHITESPACE"," ",121],["T_FUNCTION","function",121],["T_WHITESPACE"," ",121],["T_STRING","getHeaders",121],"(",")",["T_WHITESPACE","\n    ",121],"{",["T_WHITESPACE","\n        ",122],["T_RETURN","return",123],["T_WHITESPACE"," ",123],["T_VARIABLE","$this",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","_headers",123],";",["T_WHITESPACE","\n    ",123],"}",["T_WHITESPACE","\n\n    ",124],["T_DOC_COMMENT","\/**\n     * Set the headers\n     *\n     * Throws an exception if the array values are not strings.\n     *\n     * @param array $headers\n     * @return $this\n     * @throws Zend_Queue_Exception\n     *\/",126],["T_WHITESPACE","\n    ",134],["T_PUBLIC","public",135],["T_WHITESPACE"," ",135],["T_FUNCTION","function",135],["T_WHITESPACE"," ",135],["T_STRING","setHeaders",135],"(",["T_ARRAY","array",135],["T_WHITESPACE"," ",135],["T_VARIABLE","$headers",135],")",["T_WHITESPACE","\n    ",135],"{",["T_WHITESPACE","\n        ",136],["T_FOREACH","foreach",137],["T_WHITESPACE"," ",137],"(",["T_VARIABLE","$headers",137],["T_WHITESPACE"," ",137],["T_AS","as",137],["T_WHITESPACE"," ",137],["T_VARIABLE","$header",137],["T_WHITESPACE"," ",137],["T_DOUBLE_ARROW","=>",137],["T_WHITESPACE"," ",137],["T_VARIABLE","$value",137],")",["T_WHITESPACE"," ",137],"{",["T_WHITESPACE","\n            ",137],["T_VARIABLE","$this",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","setHeader",138],"(",["T_VARIABLE","$header",138],",",["T_WHITESPACE"," ",138],["T_VARIABLE","$value",138],")",";",["T_WHITESPACE","\n        ",138],"}",["T_WHITESPACE","\n\n        ",139],["T_RETURN","return",141],["T_WHITESPACE"," ",141],["T_VARIABLE","$this",141],";",["T_WHITESPACE","\n    ",141],"}",["T_WHITESPACE","\n\n    ",142],["T_DOC_COMMENT","\/**\n     * Sets a value for a header\n     *\n     * @param  string $header\n     * @param  string $value\n     * @return Zend_Queue_Stomp_Frame\n     * @throws Zend_Queue_Exception\n     *\/",144],["T_WHITESPACE","\n    ",151],["T_PUBLIC","public",152],["T_WHITESPACE"," ",152],["T_FUNCTION","function",152],["T_WHITESPACE"," ",152],["T_STRING","setHeader",152],"(",["T_VARIABLE","$header",152],",",["T_WHITESPACE"," ",152],["T_VARIABLE","$value",152],")",["T_WHITESPACE"," ",152],"{",["T_WHITESPACE","\n        ",152],["T_IF","if",153],["T_WHITESPACE"," ",153],"(","!",["T_STRING","is_string",153],"(",["T_VARIABLE","$header",153],")",")",["T_WHITESPACE"," ",153],"{",["T_WHITESPACE","\n            ",153],["T_COMMENT","#require_once 'Zend\/Queue\/Exception.php';\n",154],["T_WHITESPACE","            ",155],["T_THROW","throw",155],["T_WHITESPACE"," ",155],["T_NEW","new",155],["T_WHITESPACE"," ",155],["T_STRING","Zend_Queue_Exception",155],"(",["T_CONSTANT_ENCAPSED_STRING","'$header is not a string: '",155],["T_WHITESPACE"," ",155],".",["T_WHITESPACE"," ",155],["T_STRING","print_r",155],"(",["T_VARIABLE","$header",155],",",["T_WHITESPACE"," ",155],["T_STRING","true",155],")",")",";",["T_WHITESPACE","\n        ",155],"}",["T_WHITESPACE","\n\n        ",156],["T_IF","if",158],["T_WHITESPACE"," ",158],"(","!",["T_STRING","is_scalar",158],"(",["T_VARIABLE","$value",158],")",")",["T_WHITESPACE"," ",158],"{",["T_WHITESPACE","\n            ",158],["T_COMMENT","#require_once 'Zend\/Queue\/Exception.php';\n",159],["T_WHITESPACE","            ",160],["T_THROW","throw",160],["T_WHITESPACE"," ",160],["T_NEW","new",160],["T_WHITESPACE"," ",160],["T_STRING","Zend_Queue_Exception",160],"(",["T_CONSTANT_ENCAPSED_STRING","'$value is not a string: '",160],["T_WHITESPACE"," ",160],".",["T_WHITESPACE"," ",160],["T_STRING","print_r",160],"(",["T_VARIABLE","$value",160],",",["T_WHITESPACE"," ",160],["T_STRING","true",160],")",")",";",["T_WHITESPACE","\n        ",160],"}",["T_WHITESPACE","\n\n        ",161],["T_VARIABLE","$this",163],["T_OBJECT_OPERATOR","->",163],["T_STRING","_headers",163],"[",["T_VARIABLE","$header",163],"]",["T_WHITESPACE"," ",163],"=",["T_WHITESPACE"," ",163],["T_VARIABLE","$value",163],";",["T_WHITESPACE","\n        ",163],["T_RETURN","return",164],["T_WHITESPACE"," ",164],["T_VARIABLE","$this",164],";",["T_WHITESPACE","\n    ",164],"}",["T_WHITESPACE","\n\n\n    ",165],["T_DOC_COMMENT","\/**\n     * Returns a value for a header\n     *\n     * Returns false if the header does not exist.\n     *\n     * @param  string $header\n     * @return string|false\n     * @throws Zend_Queue_Exception\n     *\/",168],["T_WHITESPACE","\n    ",176],["T_PUBLIC","public",177],["T_WHITESPACE"," ",177],["T_FUNCTION","function",177],["T_WHITESPACE"," ",177],["T_STRING","getHeader",177],"(",["T_VARIABLE","$header",177],")",["T_WHITESPACE","\n    ",177],"{",["T_WHITESPACE","\n        ",178],["T_IF","if",179],["T_WHITESPACE"," ",179],"(","!",["T_STRING","is_string",179],"(",["T_VARIABLE","$header",179],")",")",["T_WHITESPACE"," ",179],"{",["T_WHITESPACE","\n            ",179],["T_COMMENT","#require_once 'Zend\/Queue\/Exception.php';\n",180],["T_WHITESPACE","            ",181],["T_THROW","throw",181],["T_WHITESPACE"," ",181],["T_NEW","new",181],["T_WHITESPACE"," ",181],["T_STRING","Zend_Queue_Exception",181],"(",["T_CONSTANT_ENCAPSED_STRING","'$header is not a string'",181],")",";",["T_WHITESPACE","\n        ",181],"}",["T_WHITESPACE","\n\n        ",182],["T_RETURN","return",184],["T_WHITESPACE"," ",184],["T_ISSET","isset",184],"(",["T_VARIABLE","$this",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","_headers",184],"[",["T_VARIABLE","$header",184],"]",")",["T_WHITESPACE","\n            ",184],"?",["T_WHITESPACE"," ",185],["T_VARIABLE","$this",185],["T_OBJECT_OPERATOR","->",185],["T_STRING","_headers",185],"[",["T_VARIABLE","$header",185],"]",["T_WHITESPACE","\n            ",185],":",["T_WHITESPACE"," ",186],["T_STRING","false",186],";",["T_WHITESPACE","\n    ",186],"}",["T_WHITESPACE","\n\n    ",187],["T_DOC_COMMENT","\/**\n     * Return the body for this frame\n     *\n     * Returns false if the body does not exist\n     *\n     * @return false|string\n     *\/",189],["T_WHITESPACE","\n    ",195],["T_PUBLIC","public",196],["T_WHITESPACE"," ",196],["T_FUNCTION","function",196],["T_WHITESPACE"," ",196],["T_STRING","getBody",196],"(",")",["T_WHITESPACE","\n    ",196],"{",["T_WHITESPACE","\n        ",197],["T_RETURN","return",198],["T_WHITESPACE"," ",198],["T_VARIABLE","$this",198],["T_OBJECT_OPERATOR","->",198],["T_STRING","_body",198],["T_WHITESPACE"," ",198],["T_IS_IDENTICAL","===",198],["T_WHITESPACE"," ",198],["T_STRING","null",198],["T_WHITESPACE","\n            ",198],"?",["T_WHITESPACE"," ",199],["T_STRING","false",199],["T_WHITESPACE","\n            ",199],":",["T_WHITESPACE"," ",200],["T_VARIABLE","$this",200],["T_OBJECT_OPERATOR","->",200],["T_STRING","_body",200],";",["T_WHITESPACE","\n    ",200],"}",["T_WHITESPACE","\n\n    ",201],["T_DOC_COMMENT","\/**\n     * Set the body for this frame\n     *\n     * Set to null for no body.\n     *\n     * @param  string|null $body\n     * @return Zend_Queue_Stomp_Frame\n     * @throws Zend_Queue_Exception\n     *\/",203],["T_WHITESPACE","\n    ",211],["T_PUBLIC","public",212],["T_WHITESPACE"," ",212],["T_FUNCTION","function",212],["T_WHITESPACE"," ",212],["T_STRING","setBody",212],"(",["T_VARIABLE","$body",212],")",["T_WHITESPACE","\n    ",212],"{",["T_WHITESPACE","\n        ",213],["T_IF","if",214],["T_WHITESPACE"," ",214],"(","!",["T_STRING","is_string",214],"(",["T_VARIABLE","$body",214],")",["T_WHITESPACE"," ",214],["T_BOOLEAN_AND","&&",214],["T_WHITESPACE"," ",214],["T_VARIABLE","$body",214],["T_WHITESPACE"," ",214],["T_IS_NOT_IDENTICAL","!==",214],["T_WHITESPACE"," ",214],["T_STRING","null",214],")",["T_WHITESPACE"," ",214],"{",["T_WHITESPACE","\n            ",214],["T_COMMENT","#require_once 'Zend\/Queue\/Exception.php';\n",215],["T_WHITESPACE","            ",216],["T_THROW","throw",216],["T_WHITESPACE"," ",216],["T_NEW","new",216],["T_WHITESPACE"," ",216],["T_STRING","Zend_Queue_Exception",216],"(",["T_CONSTANT_ENCAPSED_STRING","'$body is not a string or null'",216],")",";",["T_WHITESPACE","\n        ",216],"}",["T_WHITESPACE","\n\n        ",217],["T_VARIABLE","$this",219],["T_OBJECT_OPERATOR","->",219],["T_STRING","_body",219],["T_WHITESPACE"," ",219],"=",["T_WHITESPACE"," ",219],["T_VARIABLE","$body",219],";",["T_WHITESPACE","\n        ",219],["T_RETURN","return",220],["T_WHITESPACE"," ",220],["T_VARIABLE","$this",220],";",["T_WHITESPACE","\n    ",220],"}",["T_WHITESPACE","\n\n    ",221],["T_DOC_COMMENT","\/**\n     * Return the command for this frame\n     *\n     * Return false if the command does not exist\n     *\n     * @return string|false\n     *\/",223],["T_WHITESPACE","\n    ",229],["T_PUBLIC","public",230],["T_WHITESPACE"," ",230],["T_FUNCTION","function",230],["T_WHITESPACE"," ",230],["T_STRING","getCommand",230],"(",")",["T_WHITESPACE","\n    ",230],"{",["T_WHITESPACE","\n        ",231],["T_RETURN","return",232],["T_WHITESPACE"," ",232],["T_VARIABLE","$this",232],["T_OBJECT_OPERATOR","->",232],["T_STRING","_command",232],["T_WHITESPACE"," ",232],["T_IS_IDENTICAL","===",232],["T_WHITESPACE"," ",232],["T_STRING","null",232],["T_WHITESPACE","\n            ",232],"?",["T_WHITESPACE"," ",233],["T_STRING","false",233],["T_WHITESPACE","\n            ",233],":",["T_WHITESPACE"," ",234],["T_VARIABLE","$this",234],["T_OBJECT_OPERATOR","->",234],["T_STRING","_command",234],";",["T_WHITESPACE","\n    ",234],"}",["T_WHITESPACE","\n\n    ",235],["T_DOC_COMMENT","\/**\n     * Set the body for this frame\n     *\n     * @param  string|null\n     * @return Zend_Queue_Stomp_Frame\n     * @throws Zend_Queue_Exception\n     *\/",237],["T_WHITESPACE","\n    ",243],["T_PUBLIC","public",244],["T_WHITESPACE"," ",244],["T_FUNCTION","function",244],["T_WHITESPACE"," ",244],["T_STRING","setCommand",244],"(",["T_VARIABLE","$command",244],")",["T_WHITESPACE","\n    ",244],"{",["T_WHITESPACE","\n        ",245],["T_IF","if",246],["T_WHITESPACE"," ",246],"(","!",["T_STRING","is_string",246],"(",["T_VARIABLE","$command",246],")",["T_WHITESPACE"," ",246],["T_BOOLEAN_AND","&&",246],["T_WHITESPACE"," ",246],["T_VARIABLE","$command",246],["T_WHITESPACE"," ",246],["T_IS_NOT_IDENTICAL","!==",246],["T_WHITESPACE"," ",246],["T_STRING","null",246],")",["T_WHITESPACE"," ",246],"{",["T_WHITESPACE","\n            ",246],["T_COMMENT","#require_once 'Zend\/Queue\/Exception.php';\n",247],["T_WHITESPACE","            ",248],["T_THROW","throw",248],["T_WHITESPACE"," ",248],["T_NEW","new",248],["T_WHITESPACE"," ",248],["T_STRING","Zend_Queue_Exception",248],"(",["T_CONSTANT_ENCAPSED_STRING","'$command is not a string or null'",248],")",";",["T_WHITESPACE","\n        ",248],"}",["T_WHITESPACE","\n\n        ",249],["T_VARIABLE","$this",251],["T_OBJECT_OPERATOR","->",251],["T_STRING","_command",251],["T_WHITESPACE"," ",251],"=",["T_WHITESPACE"," ",251],["T_VARIABLE","$command",251],";",["T_WHITESPACE","\n        ",251],["T_RETURN","return",252],["T_WHITESPACE"," ",252],["T_VARIABLE","$this",252],";",["T_WHITESPACE","\n    ",252],"}",["T_WHITESPACE","\n\n    ",253],["T_DOC_COMMENT","\/**\n     * Takes the current parameters and returns a Stomp Frame\n     *\n     * @return string\n     * @throws Zend_Queue_Exception\n     *\/",255],["T_WHITESPACE","\n    ",260],["T_PUBLIC","public",261],["T_WHITESPACE"," ",261],["T_FUNCTION","function",261],["T_WHITESPACE"," ",261],["T_STRING","toFrame",261],"(",")",["T_WHITESPACE","\n    ",261],"{",["T_WHITESPACE","\n        ",262],["T_IF","if",263],["T_WHITESPACE"," ",263],"(",["T_VARIABLE","$this",263],["T_OBJECT_OPERATOR","->",263],["T_STRING","getCommand",263],"(",")",["T_WHITESPACE"," ",263],["T_IS_IDENTICAL","===",263],["T_WHITESPACE"," ",263],["T_STRING","false",263],")",["T_WHITESPACE"," ",263],"{",["T_WHITESPACE","\n            ",263],["T_COMMENT","#require_once 'Zend\/Queue\/Exception.php';\n",264],["T_WHITESPACE","            ",265],["T_THROW","throw",265],["T_WHITESPACE"," ",265],["T_NEW","new",265],["T_WHITESPACE"," ",265],["T_STRING","Zend_Queue_Exception",265],"(",["T_CONSTANT_ENCAPSED_STRING","'You must set the command'",265],")",";",["T_WHITESPACE","\n        ",265],"}",["T_WHITESPACE","\n\n        ",266],["T_VARIABLE","$command",268],["T_WHITESPACE"," ",268],"=",["T_WHITESPACE"," ",268],["T_VARIABLE","$this",268],["T_OBJECT_OPERATOR","->",268],["T_STRING","getCommand",268],"(",")",";",["T_WHITESPACE","\n        ",268],["T_VARIABLE","$headers",269],["T_WHITESPACE"," ",269],"=",["T_WHITESPACE"," ",269],["T_VARIABLE","$this",269],["T_OBJECT_OPERATOR","->",269],["T_STRING","getHeaders",269],"(",")",";",["T_WHITESPACE","\n        ",269],["T_VARIABLE","$body",270],["T_WHITESPACE","    ",270],"=",["T_WHITESPACE"," ",270],["T_VARIABLE","$this",270],["T_OBJECT_OPERATOR","->",270],["T_STRING","getBody",270],"(",")",";",["T_WHITESPACE","\n        ",270],["T_VARIABLE","$frame",271],["T_WHITESPACE","   ",271],"=",["T_WHITESPACE"," ",271],["T_CONSTANT_ENCAPSED_STRING","''",271],";",["T_WHITESPACE","\n\n        ",271],["T_COMMENT","\/\/ add a content-length to the SEND command.\n",273],["T_WHITESPACE","        ",274],["T_COMMENT","\/\/ @see http:\/\/stomp.codehaus.org\/Protocol\n",274],["T_WHITESPACE","        ",275],["T_IF","if",275],["T_WHITESPACE"," ",275],"(",["T_VARIABLE","$this",275],["T_OBJECT_OPERATOR","->",275],["T_STRING","getAutoContentLength",275],"(",")",")",["T_WHITESPACE"," ",275],"{",["T_WHITESPACE","\n            ",275],["T_VARIABLE","$headers",276],"[",["T_STRING","self",276],["T_DOUBLE_COLON","::",276],["T_STRING","CONTENT_LENGTH",276],"]",["T_WHITESPACE"," ",276],"=",["T_WHITESPACE"," ",276],["T_STRING","strlen",276],"(",["T_VARIABLE","$this",276],["T_OBJECT_OPERATOR","->",276],["T_STRING","getBody",276],"(",")",")",";",["T_WHITESPACE","\n        ",276],"}",["T_WHITESPACE","\n\n        ",277],["T_COMMENT","\/\/ Command\n",279],["T_WHITESPACE","        ",280],["T_VARIABLE","$frame",280],["T_WHITESPACE"," ",280],"=",["T_WHITESPACE"," ",280],["T_VARIABLE","$command",280],["T_WHITESPACE"," ",280],".",["T_WHITESPACE"," ",280],["T_STRING","self",280],["T_DOUBLE_COLON","::",280],["T_STRING","EOL",280],";",["T_WHITESPACE","\n\n        ",280],["T_COMMENT","\/\/ Headers\n",282],["T_WHITESPACE","        ",283],["T_FOREACH","foreach",283],["T_WHITESPACE"," ",283],"(",["T_VARIABLE","$headers",283],["T_WHITESPACE"," ",283],["T_AS","as",283],["T_WHITESPACE"," ",283],["T_VARIABLE","$key",283],["T_DOUBLE_ARROW","=>",283],["T_VARIABLE","$value",283],")",["T_WHITESPACE"," ",283],"{",["T_WHITESPACE","\n            ",283],["T_VARIABLE","$frame",284],["T_WHITESPACE"," ",284],["T_CONCAT_EQUAL",".=",284],["T_WHITESPACE"," ",284],["T_VARIABLE","$key",284],["T_WHITESPACE"," ",284],".",["T_WHITESPACE"," ",284],["T_CONSTANT_ENCAPSED_STRING","': '",284],["T_WHITESPACE"," ",284],".",["T_WHITESPACE"," ",284],["T_VARIABLE","$value",284],["T_WHITESPACE"," ",284],".",["T_WHITESPACE"," ",284],["T_STRING","self",284],["T_DOUBLE_COLON","::",284],["T_STRING","EOL",284],";",["T_WHITESPACE","\n        ",284],"}",["T_WHITESPACE","\n\n        ",285],["T_COMMENT","\/\/ Seperator\n",287],["T_WHITESPACE","        ",288],["T_VARIABLE","$frame",288],["T_WHITESPACE"," ",288],["T_CONCAT_EQUAL",".=",288],["T_WHITESPACE"," ",288],["T_STRING","self",288],["T_DOUBLE_COLON","::",288],["T_STRING","EOL",288],";",["T_WHITESPACE"," ",288],["T_COMMENT","\/\/ blank line required by protocol\n",288],["T_WHITESPACE","\n        ",289],["T_COMMENT","\/\/ add the body if any\n",290],["T_WHITESPACE","        ",291],["T_IF","if",291],["T_WHITESPACE"," ",291],"(",["T_VARIABLE","$body",291],["T_WHITESPACE"," ",291],["T_IS_NOT_IDENTICAL","!==",291],["T_WHITESPACE"," ",291],["T_STRING","false",291],")",["T_WHITESPACE"," ",291],"{",["T_WHITESPACE","\n            ",291],["T_VARIABLE","$frame",292],["T_WHITESPACE"," ",292],["T_CONCAT_EQUAL",".=",292],["T_WHITESPACE"," ",292],["T_VARIABLE","$body",292],";",["T_WHITESPACE","\n        ",292],"}",["T_WHITESPACE","\n        ",293],["T_VARIABLE","$frame",294],["T_WHITESPACE"," ",294],["T_CONCAT_EQUAL",".=",294],["T_WHITESPACE"," ",294],["T_STRING","self",294],["T_DOUBLE_COLON","::",294],["T_STRING","END_OF_FRAME",294],";",["T_WHITESPACE","\n\n        ",294],["T_RETURN","return",296],["T_WHITESPACE"," ",296],["T_VARIABLE","$frame",296],";",["T_WHITESPACE","\n    ",296],"}",["T_WHITESPACE","\n\n    ",297],["T_DOC_COMMENT","\/**\n     * @see toFrame()\n     * @return string\n     *\/",299],["T_WHITESPACE","\n    ",302],["T_PUBLIC","public",303],["T_WHITESPACE"," ",303],["T_FUNCTION","function",303],["T_WHITESPACE"," ",303],["T_STRING","__toString",303],"(",")",["T_WHITESPACE","\n    ",303],"{",["T_WHITESPACE","\n        ",304],["T_TRY","try",305],["T_WHITESPACE"," ",305],"{",["T_WHITESPACE","\n            ",305],["T_VARIABLE","$return",306],["T_WHITESPACE"," ",306],"=",["T_WHITESPACE"," ",306],["T_VARIABLE","$this",306],["T_OBJECT_OPERATOR","->",306],["T_STRING","toFrame",306],"(",")",";",["T_WHITESPACE","\n        ",306],"}",["T_WHITESPACE"," ",307],["T_CATCH","catch",307],["T_WHITESPACE"," ",307],"(",["T_STRING","Zend_Queue_Exception",307],["T_WHITESPACE"," ",307],["T_VARIABLE","$e",307],")",["T_WHITESPACE"," ",307],"{",["T_WHITESPACE","\n            ",307],["T_VARIABLE","$return",308],["T_WHITESPACE"," ",308],"=",["T_WHITESPACE"," ",308],["T_CONSTANT_ENCAPSED_STRING","''",308],";",["T_WHITESPACE","\n        ",308],"}",["T_WHITESPACE","\n        ",309],["T_RETURN","return",310],["T_WHITESPACE"," ",310],["T_VARIABLE","$return",310],";",["T_WHITESPACE","\n    ",310],"}",["T_WHITESPACE","\n\n    ",311],["T_DOC_COMMENT","\/**\n     * Accepts a frame and deconstructs the frame into its component parts\n     *\n     * @param  string $frame - a stomp frame\n     * @return $this\n     *\/",313],["T_WHITESPACE","\n    ",318],["T_PUBLIC","public",319],["T_WHITESPACE"," ",319],["T_FUNCTION","function",319],["T_WHITESPACE"," ",319],["T_STRING","fromFrame",319],"(",["T_VARIABLE","$frame",319],")",["T_WHITESPACE","\n    ",319],"{",["T_WHITESPACE","\n        ",320],["T_IF","if",321],["T_WHITESPACE"," ",321],"(","!",["T_STRING","is_string",321],"(",["T_VARIABLE","$frame",321],")",")",["T_WHITESPACE"," ",321],"{",["T_WHITESPACE","\n            ",321],["T_COMMENT","#require_once 'Zend\/Queue\/Exception.php';\n",322],["T_WHITESPACE","            ",323],["T_THROW","throw",323],["T_WHITESPACE"," ",323],["T_NEW","new",323],["T_WHITESPACE"," ",323],["T_STRING","Zend_Queue_Exception",323],"(",["T_CONSTANT_ENCAPSED_STRING","'$frame is not a string'",323],")",";",["T_WHITESPACE","\n        ",323],"}",["T_WHITESPACE","\n\n        ",324],["T_VARIABLE","$headers",326],["T_WHITESPACE"," ",326],"=",["T_WHITESPACE"," ",326],["T_ARRAY","array",326],"(",")",";",["T_WHITESPACE","\n        ",326],["T_VARIABLE","$body",327],["T_WHITESPACE","    ",327],"=",["T_WHITESPACE"," ",327],["T_STRING","null",327],";",["T_WHITESPACE","\n        ",327],["T_VARIABLE","$command",328],["T_WHITESPACE"," ",328],"=",["T_WHITESPACE"," ",328],["T_STRING","false",328],";",["T_WHITESPACE","\n        ",328],["T_VARIABLE","$header",329],["T_WHITESPACE","  ",329],"=",["T_WHITESPACE"," ",329],["T_CONSTANT_ENCAPSED_STRING","''",329],";",["T_WHITESPACE","\n\n        ",329],["T_COMMENT","\/\/ separate the headers and the body\n",331],["T_WHITESPACE","        ",332],["T_VARIABLE","$match",332],["T_WHITESPACE"," ",332],"=",["T_WHITESPACE"," ",332],["T_STRING","self",332],["T_DOUBLE_COLON","::",332],["T_STRING","EOL",332],["T_WHITESPACE"," ",332],".",["T_WHITESPACE"," ",332],["T_STRING","self",332],["T_DOUBLE_COLON","::",332],["T_STRING","EOL",332],";",["T_WHITESPACE","\n        ",332],["T_IF","if",333],["T_WHITESPACE"," ",333],"(",["T_STRING","preg_match",333],"(",["T_CONSTANT_ENCAPSED_STRING","'\/'",333],["T_WHITESPACE"," ",333],".",["T_WHITESPACE"," ",333],["T_VARIABLE","$match",333],["T_WHITESPACE"," ",333],".",["T_WHITESPACE"," ",333],["T_CONSTANT_ENCAPSED_STRING","'\/'",333],",",["T_WHITESPACE"," ",333],["T_VARIABLE","$frame",333],")",")",["T_WHITESPACE"," ",333],"{",["T_WHITESPACE","\n            ",333],["T_LIST","list",334],["T_WHITESPACE"," ",334],"(",["T_VARIABLE","$header",334],",",["T_WHITESPACE"," ",334],["T_VARIABLE","$body",334],")",["T_WHITESPACE"," ",334],"=",["T_WHITESPACE"," ",334],["T_STRING","explode",334],"(",["T_VARIABLE","$match",334],",",["T_WHITESPACE"," ",334],["T_VARIABLE","$frame",334],",",["T_WHITESPACE"," ",334],["T_LNUMBER","2",334],")",";",["T_WHITESPACE","\n        ",334],"}",["T_WHITESPACE"," ",335],["T_ELSE","else",335],["T_WHITESPACE"," ",335],"{",["T_WHITESPACE","\n            ",335],["T_VARIABLE","$header",336],["T_WHITESPACE"," ",336],"=",["T_WHITESPACE"," ",336],["T_VARIABLE","$frame",336],";",["T_WHITESPACE","\n        ",336],"}",["T_WHITESPACE","\n\n        ",337],["T_COMMENT","\/\/ blow up headers\n",339],["T_WHITESPACE","        ",340],["T_VARIABLE","$headers",340],["T_WHITESPACE"," ",340],"=",["T_WHITESPACE"," ",340],["T_STRING","explode",340],"(",["T_STRING","self",340],["T_DOUBLE_COLON","::",340],["T_STRING","EOL",340],",",["T_WHITESPACE"," ",340],["T_VARIABLE","$header",340],")",";",["T_WHITESPACE","\n        ",340],["T_UNSET","unset",341],"(",["T_VARIABLE","$header",341],")",";",["T_WHITESPACE","\n\n        ",341],["T_COMMENT","\/\/ get the command (first line)\n",343],["T_WHITESPACE","        ",344],["T_VARIABLE","$this",344],["T_OBJECT_OPERATOR","->",344],["T_STRING","setCommand",344],"(",["T_STRING","array_shift",344],"(",["T_VARIABLE","$headers",344],")",")",";",["T_WHITESPACE","\n\n        ",344],["T_COMMENT","\/\/ set each of the headers.\n",346],["T_WHITESPACE","        ",347],["T_FOREACH","foreach",347],["T_WHITESPACE"," ",347],"(",["T_VARIABLE","$headers",347],["T_WHITESPACE"," ",347],["T_AS","as",347],["T_WHITESPACE"," ",347],["T_VARIABLE","$header",347],")",["T_WHITESPACE"," ",347],"{",["T_WHITESPACE","\n            ",347],["T_IF","if",348],["T_WHITESPACE"," ",348],"(",["T_STRING","strpos",348],"(",["T_VARIABLE","$header",348],",",["T_WHITESPACE"," ",348],["T_CONSTANT_ENCAPSED_STRING","':'",348],")",["T_WHITESPACE"," ",348],">",["T_WHITESPACE"," ",348],["T_LNUMBER","0",348],")",["T_WHITESPACE"," ",348],"{",["T_WHITESPACE","\n                ",348],["T_LIST","list",349],"(",["T_VARIABLE","$name",349],",",["T_WHITESPACE"," ",349],["T_VARIABLE","$value",349],")",["T_WHITESPACE"," ",349],"=",["T_WHITESPACE"," ",349],["T_STRING","explode",349],"(",["T_CONSTANT_ENCAPSED_STRING","':'",349],",",["T_WHITESPACE"," ",349],["T_VARIABLE","$header",349],",",["T_WHITESPACE"," ",349],["T_LNUMBER","2",349],")",";",["T_WHITESPACE","\n                ",349],["T_VARIABLE","$this",350],["T_OBJECT_OPERATOR","->",350],["T_STRING","setHeader",350],"(",["T_VARIABLE","$name",350],",",["T_WHITESPACE"," ",350],["T_VARIABLE","$value",350],")",";",["T_WHITESPACE","\n            ",350],"}",["T_WHITESPACE","\n        ",351],"}",["T_WHITESPACE","\n\n        ",352],["T_COMMENT","\/\/ crop the body if content-length is present\n",354],["T_WHITESPACE","        ",355],["T_IF","if",355],["T_WHITESPACE"," ",355],"(",["T_VARIABLE","$this",355],["T_OBJECT_OPERATOR","->",355],["T_STRING","getHeader",355],"(",["T_STRING","self",355],["T_DOUBLE_COLON","::",355],["T_STRING","CONTENT_LENGTH",355],")",["T_WHITESPACE"," ",355],["T_IS_NOT_IDENTICAL","!==",355],["T_WHITESPACE"," ",355],["T_STRING","false",355],["T_WHITESPACE"," ",355],")",["T_WHITESPACE"," ",355],"{",["T_WHITESPACE","\n            ",355],["T_VARIABLE","$length",356],["T_WHITESPACE"," ",356],"=",["T_WHITESPACE"," ",356],["T_INT_CAST","(int)",356],["T_WHITESPACE"," ",356],["T_VARIABLE","$this",356],["T_OBJECT_OPERATOR","->",356],["T_STRING","getHeader",356],"(",["T_STRING","self",356],["T_DOUBLE_COLON","::",356],["T_STRING","CONTENT_LENGTH",356],")",";",["T_WHITESPACE","\n            ",356],["T_VARIABLE","$body",357],["T_WHITESPACE","   ",357],"=",["T_WHITESPACE"," ",357],["T_STRING","substr",357],"(",["T_VARIABLE","$body",357],",",["T_WHITESPACE"," ",357],["T_LNUMBER","0",357],",",["T_WHITESPACE"," ",357],["T_VARIABLE","$length",357],")",";",["T_WHITESPACE","\n        ",357],"}",["T_WHITESPACE","\n\n        ",358],["T_VARIABLE","$this",360],["T_OBJECT_OPERATOR","->",360],["T_STRING","setBody",360],"(",["T_VARIABLE","$body",360],")",";",["T_WHITESPACE","\n        ",360],["T_RETURN","return",361],["T_WHITESPACE"," ",361],["T_VARIABLE","$this",361],";",["T_WHITESPACE","\n    ",361],"}",["T_WHITESPACE","\n",362],"}",["T_WHITESPACE","\n",363]]