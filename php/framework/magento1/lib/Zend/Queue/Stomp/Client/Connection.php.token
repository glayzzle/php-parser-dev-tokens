[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Zend Framework\n *\n * LICENSE\n *\n * This source file is subject to the new BSD license that is bundled\n * with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/framework.zend.com\/license\/new-bsd\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@zend.com so we can send you a copy immediately.\n *\n * @category   Zend\n * @package    Zend_Queue\n * @subpackage Stomp\n * @copyright  Copyright (c) 2005-2015 Zend Technologies USA Inc. (http:\/\/www.zend.com)\n * @license    http:\/\/framework.zend.com\/license\/new-bsd     New BSD License\n * @version    $Id$\n *\/",2],["T_WHITESPACE","\n\n",21],["T_DOC_COMMENT","\/**\n * @see Zend_Queue_Stomp_Client_ConnectionInterface\n *\/",23],["T_WHITESPACE","\n",25],["T_COMMENT","#require_once 'Zend\/Queue\/Stomp\/Client\/ConnectionInterface.php';\n",26],["T_WHITESPACE","\n",27],["T_DOC_COMMENT","\/**\n * The Stomp client interacts with a Stomp server.\n *\n * @category   Zend\n * @package    Zend_Queue\n * @subpackage Stomp\n * @copyright  Copyright (c) 2005-2015 Zend Technologies USA Inc. (http:\/\/www.zend.com)\n * @license    http:\/\/framework.zend.com\/license\/new-bsd     New BSD License\n *\/",28],["T_WHITESPACE","\n",36],["T_CLASS","class",37],["T_WHITESPACE"," ",37],["T_STRING","Zend_Queue_Stomp_Client_Connection",37],["T_WHITESPACE","\n    ",37],["T_IMPLEMENTS","implements",38],["T_WHITESPACE"," ",38],["T_STRING","Zend_Queue_Stomp_Client_ConnectionInterface",38],["T_WHITESPACE","\n",38],"{",["T_WHITESPACE","\n    ",39],["T_CONST","const",40],["T_WHITESPACE"," ",40],["T_STRING","READ_TIMEOUT_DEFAULT_USEC",40],["T_WHITESPACE"," ",40],"=",["T_WHITESPACE"," ",40],["T_LNUMBER","0",40],";",["T_WHITESPACE"," ",40],["T_COMMENT","\/\/ 0 microseconds\n",40],["T_WHITESPACE","    ",41],["T_CONST","const",41],["T_WHITESPACE"," ",41],["T_STRING","READ_TIMEOUT_DEFAULT_SEC",41],["T_WHITESPACE"," ",41],"=",["T_WHITESPACE"," ",41],["T_LNUMBER","5",41],";",["T_WHITESPACE"," ",41],["T_COMMENT","\/\/ 5 seconds\n",41],["T_WHITESPACE","\n    ",42],["T_DOC_COMMENT","\/**\n     * Connection options\n     * @var array\n     *\/",43],["T_WHITESPACE","\n    ",46],["T_PROTECTED","protected",47],["T_WHITESPACE"," ",47],["T_VARIABLE","$_options",47],";",["T_WHITESPACE","\n\n    ",47],["T_DOC_COMMENT","\/**\n     * tcp\/udp socket\n     *\n     * @var resource\n     *\/",49],["T_WHITESPACE","\n    ",53],["T_PROTECTED","protected",54],["T_WHITESPACE"," ",54],["T_VARIABLE","$_socket",54],["T_WHITESPACE"," ",54],"=",["T_WHITESPACE"," ",54],["T_STRING","false",54],";",["T_WHITESPACE","\n\n    ",54],["T_DOC_COMMENT","\/**\n     * open() opens a socket to the Stomp server\n     *\n     * @param  array $options ('scheme', 'host', 'port')\n     * @param  string $scheme\n     * @param  string $host\n     * @param  int $port\n     * @param  array $options Accepts \"timeout_sec\" and \"timeout_usec\" keys\n     * @return true;\n     * @throws Zend_Queue_Exception\n     *\/",56],["T_WHITESPACE","\n    ",66],["T_PUBLIC","public",67],["T_WHITESPACE"," ",67],["T_FUNCTION","function",67],["T_WHITESPACE"," ",67],["T_STRING","open",67],"(",["T_VARIABLE","$scheme",67],",",["T_WHITESPACE"," ",67],["T_VARIABLE","$host",67],",",["T_WHITESPACE"," ",67],["T_VARIABLE","$port",67],",",["T_WHITESPACE"," ",67],["T_ARRAY","array",67],["T_WHITESPACE"," ",67],["T_VARIABLE","$options",67],["T_WHITESPACE"," ",67],"=",["T_WHITESPACE"," ",67],["T_ARRAY","array",67],"(",")",")",["T_WHITESPACE","\n    ",67],"{",["T_WHITESPACE","\n        ",68],["T_VARIABLE","$str",69],["T_WHITESPACE"," ",69],"=",["T_WHITESPACE"," ",69],["T_VARIABLE","$scheme",69],["T_WHITESPACE"," ",69],".",["T_WHITESPACE"," ",69],["T_CONSTANT_ENCAPSED_STRING","':\/\/'",69],["T_WHITESPACE"," ",69],".",["T_WHITESPACE"," ",69],["T_VARIABLE","$host",69],";",["T_WHITESPACE","\n        ",69],["T_VARIABLE","$this",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","_socket",70],["T_WHITESPACE"," ",70],"=",["T_WHITESPACE"," ",70],["T_STRING","fsockopen",70],"(",["T_VARIABLE","$str",70],",",["T_WHITESPACE"," ",70],["T_VARIABLE","$port",70],",",["T_WHITESPACE"," ",70],["T_VARIABLE","$errno",70],",",["T_WHITESPACE"," ",70],["T_VARIABLE","$errstr",70],")",";",["T_WHITESPACE","\n\n        ",70],["T_IF","if",72],["T_WHITESPACE"," ",72],"(",["T_VARIABLE","$this",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","_socket",72],["T_WHITESPACE"," ",72],["T_IS_IDENTICAL","===",72],["T_WHITESPACE"," ",72],["T_STRING","false",72],")",["T_WHITESPACE"," ",72],"{",["T_WHITESPACE","\n            ",72],["T_COMMENT","\/\/ aparently there is some reason that fsockopen will return false\n",73],["T_WHITESPACE","            ",74],["T_COMMENT","\/\/ but it normally throws an error.\n",74],["T_WHITESPACE","            ",75],["T_COMMENT","#require_once 'Zend\/Queue\/Exception.php';\n",75],["T_WHITESPACE","            ",76],["T_THROW","throw",76],["T_WHITESPACE"," ",76],["T_NEW","new",76],["T_WHITESPACE"," ",76],["T_STRING","Zend_Queue_Exception",76],"(","\"",["T_ENCAPSED_AND_WHITESPACE","Unable to connect to ",76],["T_VARIABLE","$str",76],["T_ENCAPSED_AND_WHITESPACE","; error = ",76],["T_VARIABLE","$errstr",76],["T_ENCAPSED_AND_WHITESPACE"," ( errno = ",76],["T_VARIABLE","$errno",76],["T_ENCAPSED_AND_WHITESPACE"," )",76],"\"",")",";",["T_WHITESPACE","\n        ",76],"}",["T_WHITESPACE","\n\n        ",77],["T_STRING","stream_set_blocking",79],"(",["T_VARIABLE","$this",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","_socket",79],",",["T_WHITESPACE"," ",79],["T_LNUMBER","0",79],")",";",["T_WHITESPACE"," ",79],["T_COMMENT","\/\/ non blocking\n",79],["T_WHITESPACE","\n        ",80],["T_IF","if",81],["T_WHITESPACE"," ",81],"(","!",["T_ISSET","isset",81],"(",["T_VARIABLE","$options",81],"[",["T_CONSTANT_ENCAPSED_STRING","'timeout_sec'",81],"]",")",")",["T_WHITESPACE"," ",81],"{",["T_WHITESPACE","\n            ",81],["T_VARIABLE","$options",82],"[",["T_CONSTANT_ENCAPSED_STRING","'timeout_sec'",82],"]",["T_WHITESPACE"," ",82],"=",["T_WHITESPACE"," ",82],["T_STRING","self",82],["T_DOUBLE_COLON","::",82],["T_STRING","READ_TIMEOUT_DEFAULT_SEC",82],";",["T_WHITESPACE","\n        ",82],"}",["T_WHITESPACE","\n        ",83],["T_IF","if",84],["T_WHITESPACE"," ",84],"(","!",["T_WHITESPACE"," ",84],["T_ISSET","isset",84],"(",["T_VARIABLE","$options",84],"[",["T_CONSTANT_ENCAPSED_STRING","'timeout_usec'",84],"]",")",")",["T_WHITESPACE"," ",84],"{",["T_WHITESPACE","\n            ",84],["T_VARIABLE","$options",85],"[",["T_CONSTANT_ENCAPSED_STRING","'timeout_usec'",85],"]",["T_WHITESPACE"," ",85],"=",["T_WHITESPACE"," ",85],["T_STRING","self",85],["T_DOUBLE_COLON","::",85],["T_STRING","READ_TIMEOUT_DEFAULT_USEC",85],";",["T_WHITESPACE","\n        ",85],"}",["T_WHITESPACE","\n\n        ",86],["T_VARIABLE","$this",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","_options",88],["T_WHITESPACE"," ",88],"=",["T_WHITESPACE"," ",88],["T_VARIABLE","$options",88],";",["T_WHITESPACE","\n\n        ",88],["T_RETURN","return",90],["T_WHITESPACE"," ",90],["T_STRING","true",90],";",["T_WHITESPACE","\n    ",90],"}",["T_WHITESPACE","\n\n    ",91],["T_DOC_COMMENT","\/**\n     * Close the socket explicitly when destructed\n     *\n     * @return void\n     *\/",93],["T_WHITESPACE","\n    ",97],["T_PUBLIC","public",98],["T_WHITESPACE"," ",98],["T_FUNCTION","function",98],["T_WHITESPACE"," ",98],["T_STRING","__destruct",98],"(",")",["T_WHITESPACE","\n    ",98],"{",["T_WHITESPACE","\n    ",99],"}",["T_WHITESPACE","\n\n    ",100],["T_DOC_COMMENT","\/**\n     * Close connection\n     *\n     * @param  boolean $destructor\n     * @return void\n     *\/",102],["T_WHITESPACE","\n    ",107],["T_PUBLIC","public",108],["T_WHITESPACE"," ",108],["T_FUNCTION","function",108],["T_WHITESPACE"," ",108],["T_STRING","close",108],"(",["T_VARIABLE","$destructor",108],["T_WHITESPACE"," ",108],"=",["T_WHITESPACE"," ",108],["T_STRING","false",108],")",["T_WHITESPACE","\n    ",108],"{",["T_WHITESPACE","\n        ",109],["T_COMMENT","\/\/ Gracefully disconnect\n",110],["T_WHITESPACE","        ",111],["T_IF","if",111],["T_WHITESPACE"," ",111],"(","!",["T_VARIABLE","$destructor",111],")",["T_WHITESPACE"," ",111],"{",["T_WHITESPACE","\n            ",111],["T_VARIABLE","$frame",112],["T_WHITESPACE"," ",112],"=",["T_WHITESPACE"," ",112],["T_VARIABLE","$this",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","createFrame",112],"(",")",";",["T_WHITESPACE","\n            ",112],["T_VARIABLE","$frame",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","setCommand",113],"(",["T_CONSTANT_ENCAPSED_STRING","'DISCONNECT'",113],")",";",["T_WHITESPACE","\n            ",113],["T_VARIABLE","$this",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","write",114],"(",["T_VARIABLE","$frame",114],")",";",["T_WHITESPACE","\n        ",114],"}",["T_WHITESPACE","\n\n        ",115],["T_COMMENT","\/\/ @todo: Should be fixed.\n",117],["T_WHITESPACE","        ",118],["T_COMMENT","\/\/ When the socket is \"closed\", it will trigger the below error when php exits\n",118],["T_WHITESPACE","        ",119],["T_COMMENT","\/\/ Fatal error: Exception thrown without a stack frame in Unknown on line 0\n",119],["T_WHITESPACE","\n        ",120],["T_COMMENT","\/\/ Danlo: I suspect this is because this has already been claimed by the interpeter\n",121],["T_WHITESPACE","        ",122],["T_COMMENT","\/\/ thus trying to shutdown this resources, which is already shutdown is a problem.\n",122],["T_WHITESPACE","        ",123],["T_IF","if",123],["T_WHITESPACE"," ",123],"(",["T_STRING","is_resource",123],"(",["T_VARIABLE","$this",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","_socket",123],")",")",["T_WHITESPACE"," ",123],"{",["T_WHITESPACE","\n            ",123],["T_COMMENT","\/\/ fclose($this->_socket);\n",124],["T_WHITESPACE","        ",125],"}",["T_WHITESPACE","\n\n        ",125],["T_COMMENT","\/\/ $this->_socket = null;\n",127],["T_WHITESPACE","    ",128],"}",["T_WHITESPACE","\n\n    ",128],["T_DOC_COMMENT","\/**\n     * Check whether we are connected to the server\n     *\n     * @return true\n     * @throws Zend_Queue_Exception\n     *\/",130],["T_WHITESPACE","\n    ",135],["T_PUBLIC","public",136],["T_WHITESPACE"," ",136],["T_FUNCTION","function",136],["T_WHITESPACE"," ",136],["T_STRING","ping",136],"(",")",["T_WHITESPACE","\n    ",136],"{",["T_WHITESPACE","\n        ",137],["T_IF","if",138],["T_WHITESPACE"," ",138],"(","!",["T_STRING","is_resource",138],"(",["T_VARIABLE","$this",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","_socket",138],")",")",["T_WHITESPACE"," ",138],"{",["T_WHITESPACE","\n            ",138],["T_COMMENT","#require_once 'Zend\/Queue\/Exception.php';\n",139],["T_WHITESPACE","            ",140],["T_THROW","throw",140],["T_WHITESPACE"," ",140],["T_NEW","new",140],["T_WHITESPACE"," ",140],["T_STRING","Zend_Queue_Exception",140],"(",["T_CONSTANT_ENCAPSED_STRING","'Not connected to Stomp server'",140],")",";",["T_WHITESPACE","\n        ",140],"}",["T_WHITESPACE","\n        ",141],["T_RETURN","return",142],["T_WHITESPACE"," ",142],["T_STRING","true",142],";",["T_WHITESPACE","\n    ",142],"}",["T_WHITESPACE","\n\n    ",143],["T_DOC_COMMENT","\/**\n     * Write a frame to the stomp server\n     *\n     * example: $response = $client->write($frame)->read();\n     *\n     * @param Zend_Queue_Stom_FrameInterface $frame\n     * @return $this\n     *\/",145],["T_WHITESPACE","\n    ",152],["T_PUBLIC","public",153],["T_WHITESPACE"," ",153],["T_FUNCTION","function",153],["T_WHITESPACE"," ",153],["T_STRING","write",153],"(",["T_STRING","Zend_Queue_Stomp_FrameInterface",153],["T_WHITESPACE"," ",153],["T_VARIABLE","$frame",153],")",["T_WHITESPACE","\n    ",153],"{",["T_WHITESPACE","\n        ",154],["T_VARIABLE","$this",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","ping",155],"(",")",";",["T_WHITESPACE","\n        ",155],["T_VARIABLE","$output",156],["T_WHITESPACE"," ",156],"=",["T_WHITESPACE"," ",156],["T_VARIABLE","$frame",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","toFrame",156],"(",")",";",["T_WHITESPACE","\n\n        ",156],["T_VARIABLE","$bytes",158],["T_WHITESPACE"," ",158],"=",["T_WHITESPACE"," ",158],["T_STRING","fwrite",158],"(",["T_VARIABLE","$this",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","_socket",158],",",["T_WHITESPACE"," ",158],["T_VARIABLE","$output",158],",",["T_WHITESPACE"," ",158],["T_STRING","strlen",158],"(",["T_VARIABLE","$output",158],")",")",";",["T_WHITESPACE","\n        ",158],["T_IF","if",159],["T_WHITESPACE"," ",159],"(",["T_VARIABLE","$bytes",159],["T_WHITESPACE"," ",159],["T_IS_IDENTICAL","===",159],["T_WHITESPACE"," ",159],["T_STRING","false",159],["T_WHITESPACE"," ",159],["T_BOOLEAN_OR","||",159],["T_WHITESPACE"," ",159],["T_VARIABLE","$bytes",159],["T_WHITESPACE"," ",159],["T_IS_EQUAL","==",159],["T_WHITESPACE"," ",159],["T_LNUMBER","0",159],")",["T_WHITESPACE"," ",159],"{",["T_WHITESPACE","\n            ",159],["T_COMMENT","#require_once 'Zend\/Queue\/Exception.php';\n",160],["T_WHITESPACE","            ",161],["T_THROW","throw",161],["T_WHITESPACE"," ",161],["T_NEW","new",161],["T_WHITESPACE"," ",161],["T_STRING","Zend_Queue_Exception",161],"(",["T_CONSTANT_ENCAPSED_STRING","'No bytes written'",161],")",";",["T_WHITESPACE","\n        ",161],"}",["T_WHITESPACE","\n\n        ",162],["T_RETURN","return",164],["T_WHITESPACE"," ",164],["T_VARIABLE","$this",164],";",["T_WHITESPACE","\n    ",164],"}",["T_WHITESPACE","\n\n    ",165],["T_DOC_COMMENT","\/**\n     * Tests the socket to see if there is data for us\n     *\n     * @return boolean\n     *\/",167],["T_WHITESPACE","\n    ",171],["T_PUBLIC","public",172],["T_WHITESPACE"," ",172],["T_FUNCTION","function",172],["T_WHITESPACE"," ",172],["T_STRING","canRead",172],"(",")",["T_WHITESPACE","\n    ",172],"{",["T_WHITESPACE","\n        ",173],["T_VARIABLE","$read",174],["T_WHITESPACE","   ",174],"=",["T_WHITESPACE"," ",174],["T_ARRAY","array",174],"(",["T_VARIABLE","$this",174],["T_OBJECT_OPERATOR","->",174],["T_STRING","_socket",174],")",";",["T_WHITESPACE","\n        ",174],["T_VARIABLE","$write",175],["T_WHITESPACE","  ",175],"=",["T_WHITESPACE"," ",175],["T_STRING","null",175],";",["T_WHITESPACE","\n        ",175],["T_VARIABLE","$except",176],["T_WHITESPACE"," ",176],"=",["T_WHITESPACE"," ",176],["T_STRING","null",176],";",["T_WHITESPACE","\n\n        ",176],["T_RETURN","return",178],["T_WHITESPACE"," ",178],["T_STRING","stream_select",178],"(",["T_WHITESPACE","\n            ",178],["T_VARIABLE","$read",179],",",["T_WHITESPACE","\n            ",179],["T_VARIABLE","$write",180],",",["T_WHITESPACE","\n            ",180],["T_VARIABLE","$except",181],",",["T_WHITESPACE","\n            ",181],["T_VARIABLE","$this",182],["T_OBJECT_OPERATOR","->",182],["T_STRING","_options",182],"[",["T_CONSTANT_ENCAPSED_STRING","'timeout_sec'",182],"]",",",["T_WHITESPACE","\n            ",182],["T_VARIABLE","$this",183],["T_OBJECT_OPERATOR","->",183],["T_STRING","_options",183],"[",["T_CONSTANT_ENCAPSED_STRING","'timeout_usec'",183],"]",["T_WHITESPACE","\n        ",183],")",["T_WHITESPACE"," ",184],["T_IS_EQUAL","==",184],["T_WHITESPACE"," ",184],["T_LNUMBER","1",184],";",["T_WHITESPACE","\n        ",184],["T_COMMENT","\/\/ see http:\/\/us.php.net\/manual\/en\/function.stream-select.php\n",185],["T_WHITESPACE","    ",186],"}",["T_WHITESPACE","\n\n    ",186],["T_DOC_COMMENT","\/**\n     * Reads in a frame from the socket or returns false.\n     *\n     * @return Zend_Queue_Stomp_FrameInterface|false\n     * @throws Zend_Queue_Exception\n     *\/",188],["T_WHITESPACE","\n    ",193],["T_PUBLIC","public",194],["T_WHITESPACE"," ",194],["T_FUNCTION","function",194],["T_WHITESPACE"," ",194],["T_STRING","read",194],"(",")",["T_WHITESPACE","\n    ",194],"{",["T_WHITESPACE","\n        ",195],["T_VARIABLE","$this",196],["T_OBJECT_OPERATOR","->",196],["T_STRING","ping",196],"(",")",";",["T_WHITESPACE","\n\n        ",196],["T_VARIABLE","$response",198],["T_WHITESPACE"," ",198],"=",["T_WHITESPACE"," ",198],["T_CONSTANT_ENCAPSED_STRING","''",198],";",["T_WHITESPACE","\n        ",198],["T_VARIABLE","$prev",199],["T_WHITESPACE","     ",199],"=",["T_WHITESPACE"," ",199],["T_CONSTANT_ENCAPSED_STRING","''",199],";",["T_WHITESPACE","\n\n        ",199],["T_COMMENT","\/\/ while not end of file.\n",201],["T_WHITESPACE","        ",202],["T_WHILE","while",202],["T_WHITESPACE"," ",202],"(","!",["T_STRING","feof",202],"(",["T_VARIABLE","$this",202],["T_OBJECT_OPERATOR","->",202],["T_STRING","_socket",202],")",")",["T_WHITESPACE"," ",202],"{",["T_WHITESPACE","\n            ",202],["T_COMMENT","\/\/ read in one character until \"\\0\\n\" is found\n",203],["T_WHITESPACE","            ",204],["T_VARIABLE","$data",204],["T_WHITESPACE"," ",204],"=",["T_WHITESPACE"," ",204],["T_STRING","fread",204],"(",["T_VARIABLE","$this",204],["T_OBJECT_OPERATOR","->",204],["T_STRING","_socket",204],",",["T_WHITESPACE"," ",204],["T_LNUMBER","1",204],")",";",["T_WHITESPACE","\n\n            ",204],["T_COMMENT","\/\/ check to make sure that the connection is not lost.\n",206],["T_WHITESPACE","            ",207],["T_IF","if",207],["T_WHITESPACE"," ",207],"(",["T_VARIABLE","$data",207],["T_WHITESPACE"," ",207],["T_IS_IDENTICAL","===",207],["T_WHITESPACE"," ",207],["T_STRING","false",207],")",["T_WHITESPACE"," ",207],"{",["T_WHITESPACE","\n                ",207],["T_COMMENT","#require_once 'Zend\/Queue\/Exception.php';\n",208],["T_WHITESPACE","                ",209],["T_THROW","throw",209],["T_WHITESPACE"," ",209],["T_NEW","new",209],["T_WHITESPACE"," ",209],["T_STRING","Zend_Queue_Exception",209],"(",["T_CONSTANT_ENCAPSED_STRING","'Connection lost'",209],")",";",["T_WHITESPACE","\n            ",209],"}",["T_WHITESPACE","\n\n            ",210],["T_COMMENT","\/\/ append last character read to $response\n",212],["T_WHITESPACE","            ",213],["T_VARIABLE","$response",213],["T_WHITESPACE"," ",213],["T_CONCAT_EQUAL",".=",213],["T_WHITESPACE"," ",213],["T_VARIABLE","$data",213],";",["T_WHITESPACE","\n\n            ",213],["T_COMMENT","\/\/ is this \\0 (prev) \\n (data)? END_OF_FRAME\n",215],["T_WHITESPACE","            ",216],["T_IF","if",216],["T_WHITESPACE"," ",216],"(",["T_STRING","ord",216],"(",["T_VARIABLE","$data",216],")",["T_WHITESPACE"," ",216],["T_IS_EQUAL","==",216],["T_WHITESPACE"," ",216],["T_LNUMBER","10",216],["T_WHITESPACE"," ",216],["T_BOOLEAN_AND","&&",216],["T_WHITESPACE"," ",216],["T_STRING","ord",216],"(",["T_VARIABLE","$prev",216],")",["T_WHITESPACE"," ",216],["T_IS_EQUAL","==",216],["T_WHITESPACE"," ",216],["T_LNUMBER","0",216],")",["T_WHITESPACE"," ",216],"{",["T_WHITESPACE","\n                ",216],["T_BREAK","break",217],";",["T_WHITESPACE","\n            ",217],"}",["T_WHITESPACE","\n            ",218],["T_VARIABLE","$prev",219],["T_WHITESPACE"," ",219],"=",["T_WHITESPACE"," ",219],["T_VARIABLE","$data",219],";",["T_WHITESPACE","\n        ",219],"}",["T_WHITESPACE","\n\n        ",220],["T_IF","if",222],["T_WHITESPACE"," ",222],"(",["T_VARIABLE","$response",222],["T_WHITESPACE"," ",222],["T_IS_IDENTICAL","===",222],["T_WHITESPACE"," ",222],["T_CONSTANT_ENCAPSED_STRING","''",222],")",["T_WHITESPACE"," ",222],"{",["T_WHITESPACE","\n            ",222],["T_RETURN","return",223],["T_WHITESPACE"," ",223],["T_STRING","false",223],";",["T_WHITESPACE","\n        ",223],"}",["T_WHITESPACE","\n\n        ",224],["T_VARIABLE","$frame",226],["T_WHITESPACE"," ",226],"=",["T_WHITESPACE"," ",226],["T_VARIABLE","$this",226],["T_OBJECT_OPERATOR","->",226],["T_STRING","createFrame",226],"(",")",";",["T_WHITESPACE","\n        ",226],["T_VARIABLE","$frame",227],["T_OBJECT_OPERATOR","->",227],["T_STRING","fromFrame",227],"(",["T_VARIABLE","$response",227],")",";",["T_WHITESPACE","\n        ",227],["T_RETURN","return",228],["T_WHITESPACE"," ",228],["T_VARIABLE","$frame",228],";",["T_WHITESPACE","\n    ",228],"}",["T_WHITESPACE","\n\n    ",229],["T_DOC_COMMENT","\/**\n     * Set the frameClass to be used\n     *\n     * This must be a Zend_Queue_Stomp_FrameInterface.\n     *\n     * @param  string $classname - class is an instance of Zend_Queue_Stomp_FrameInterface\n     * @return $this;\n     *\/",231],["T_WHITESPACE","\n    ",238],["T_PUBLIC","public",239],["T_WHITESPACE"," ",239],["T_FUNCTION","function",239],["T_WHITESPACE"," ",239],["T_STRING","setFrameClass",239],"(",["T_VARIABLE","$classname",239],")",["T_WHITESPACE","\n    ",239],"{",["T_WHITESPACE","\n        ",240],["T_VARIABLE","$this",241],["T_OBJECT_OPERATOR","->",241],["T_STRING","_options",241],"[",["T_CONSTANT_ENCAPSED_STRING","'frameClass'",241],"]",["T_WHITESPACE"," ",241],"=",["T_WHITESPACE"," ",241],["T_VARIABLE","$classname",241],";",["T_WHITESPACE","\n        ",241],["T_RETURN","return",242],["T_WHITESPACE"," ",242],["T_VARIABLE","$this",242],";",["T_WHITESPACE","\n    ",242],"}",["T_WHITESPACE","\n\n    ",243],["T_DOC_COMMENT","\/**\n     * Get the frameClass\n     *\n     * @return string\n     *\/",245],["T_WHITESPACE","\n    ",249],["T_PUBLIC","public",250],["T_WHITESPACE"," ",250],["T_FUNCTION","function",250],["T_WHITESPACE"," ",250],["T_STRING","getFrameClass",250],"(",")",["T_WHITESPACE","\n    ",250],"{",["T_WHITESPACE","\n        ",251],["T_RETURN","return",252],["T_WHITESPACE"," ",252],["T_ISSET","isset",252],"(",["T_VARIABLE","$this",252],["T_OBJECT_OPERATOR","->",252],["T_STRING","_options",252],"[",["T_CONSTANT_ENCAPSED_STRING","'frameClass'",252],"]",")",["T_WHITESPACE","\n            ",252],"?",["T_WHITESPACE"," ",253],["T_VARIABLE","$this",253],["T_OBJECT_OPERATOR","->",253],["T_STRING","_options",253],"[",["T_CONSTANT_ENCAPSED_STRING","'frameClass'",253],"]",["T_WHITESPACE","\n            ",253],":",["T_WHITESPACE"," ",254],["T_CONSTANT_ENCAPSED_STRING","'Zend_Queue_Stomp_Frame'",254],";",["T_WHITESPACE","\n    ",254],"}",["T_WHITESPACE","\n\n    ",255],["T_DOC_COMMENT","\/**\n     * Create an empty frame\n     *\n     * @return Zend_Queue_Stomp_FrameInterface\n     *\/",257],["T_WHITESPACE","\n    ",261],["T_PUBLIC","public",262],["T_WHITESPACE"," ",262],["T_FUNCTION","function",262],["T_WHITESPACE"," ",262],["T_STRING","createFrame",262],"(",")",["T_WHITESPACE","\n    ",262],"{",["T_WHITESPACE","\n        ",263],["T_VARIABLE","$class",264],["T_WHITESPACE"," ",264],"=",["T_WHITESPACE"," ",264],["T_VARIABLE","$this",264],["T_OBJECT_OPERATOR","->",264],["T_STRING","getFrameClass",264],"(",")",";",["T_WHITESPACE","\n\n        ",264],["T_IF","if",266],["T_WHITESPACE"," ",266],"(","!",["T_STRING","class_exists",266],"(",["T_VARIABLE","$class",266],")",")",["T_WHITESPACE"," ",266],"{",["T_WHITESPACE","\n            ",266],["T_COMMENT","#require_once 'Zend\/Loader.php';\n",267],["T_WHITESPACE","            ",268],["T_STRING","Zend_Loader",268],["T_DOUBLE_COLON","::",268],["T_STRING","loadClass",268],"(",["T_VARIABLE","$class",268],")",";",["T_WHITESPACE","\n        ",268],"}",["T_WHITESPACE","\n\n        ",269],["T_VARIABLE","$frame",271],["T_WHITESPACE"," ",271],"=",["T_WHITESPACE"," ",271],["T_NEW","new",271],["T_WHITESPACE"," ",271],["T_VARIABLE","$class",271],"(",")",";",["T_WHITESPACE","\n\n        ",271],["T_IF","if",273],["T_WHITESPACE"," ",273],"(","!",["T_VARIABLE","$frame",273],["T_WHITESPACE"," ",273],["T_INSTANCEOF","instanceof",273],["T_WHITESPACE"," ",273],["T_STRING","Zend_Queue_Stomp_FrameInterface",273],")",["T_WHITESPACE"," ",273],"{",["T_WHITESPACE","\n            ",273],["T_COMMENT","#require_once 'Zend\/Queue\/Exception.php';\n",274],["T_WHITESPACE","            ",275],["T_THROW","throw",275],["T_WHITESPACE"," ",275],["T_NEW","new",275],["T_WHITESPACE"," ",275],["T_STRING","Zend_Queue_Exception",275],"(",["T_CONSTANT_ENCAPSED_STRING","'Invalid Frame class provided; must implement Zend_Queue_Stomp_FrameInterface'",275],")",";",["T_WHITESPACE","\n        ",275],"}",["T_WHITESPACE","\n\n        ",276],["T_RETURN","return",278],["T_WHITESPACE"," ",278],["T_VARIABLE","$frame",278],";",["T_WHITESPACE","\n    ",278],"}",["T_WHITESPACE","\n",279],"}",["T_WHITESPACE","\n",280]]