[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Zend Framework\n *\n * LICENSE\n *\n * This source file is subject to the new BSD license that is bundled\n * with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/framework.zend.com\/license\/new-bsd\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@zend.com so we can send you a copy immediately.\n *\n * @category   Zend\n * @package    Zend_Queue\n * @subpackage Adapter\n * @copyright  Copyright (c) 2005-2015 Zend Technologies USA Inc. (http:\/\/www.zend.com)\n * @license    http:\/\/framework.zend.com\/license\/new-bsd     New BSD License\n * @version    $Id$\n *\/",2],["T_WHITESPACE","\n\n",21],["T_DOC_COMMENT","\/**\n * @see Zend_Queue\n *\/",23],["T_WHITESPACE","\n",25],["T_COMMENT","#require_once 'Zend\/Queue.php';\n",26],["T_WHITESPACE","\n",27],["T_DOC_COMMENT","\/**\n * @see Zend_Queue_Adapter_AdapterInterface\n *\/",28],["T_WHITESPACE","\n",30],["T_COMMENT","#require_once 'Zend\/Queue\/Adapter\/AdapterInterface.php';\n",31],["T_WHITESPACE","\n",32],["T_DOC_COMMENT","\/**\n * Class for connecting to queues performing common operations.\n *\n * @category   Zend\n * @package    Zend_Queue\n * @subpackage Adapter\n * @copyright  Copyright (c) 2005-2015 Zend Technologies USA Inc. (http:\/\/www.zend.com)\n * @license    http:\/\/framework.zend.com\/license\/new-bsd     New BSD License\n *\/",33],["T_WHITESPACE","\n",41],["T_ABSTRACT","abstract",42],["T_WHITESPACE"," ",42],["T_CLASS","class",42],["T_WHITESPACE"," ",42],["T_STRING","Zend_Queue_Adapter_AdapterAbstract",42],["T_WHITESPACE","\n    ",42],["T_IMPLEMENTS","implements",43],["T_WHITESPACE"," ",43],["T_STRING","Zend_Queue_Adapter_AdapterInterface",43],["T_WHITESPACE","\n",43],"{",["T_WHITESPACE","\n    ",44],["T_DOC_COMMENT","\/**\n     * Default timeout for createQueue() function\n     *\/",45],["T_WHITESPACE","\n    ",47],["T_CONST","const",48],["T_WHITESPACE"," ",48],["T_STRING","CREATE_TIMEOUT_DEFAULT",48],["T_WHITESPACE"," ",48],"=",["T_WHITESPACE"," ",48],["T_LNUMBER","30",48],";",["T_WHITESPACE","\n\n    ",48],["T_DOC_COMMENT","\/**\n     * Default timeout for recieve() function\n     *\/",50],["T_WHITESPACE","\n    ",52],["T_CONST","const",53],["T_WHITESPACE"," ",53],["T_STRING","RECEIVE_TIMEOUT_DEFAULT",53],["T_WHITESPACE"," ",53],"=",["T_WHITESPACE"," ",53],["T_LNUMBER","30",53],";",["T_WHITESPACE","\n\n    ",53],["T_DOC_COMMENT","\/**\n     * User-provided options\n     *\n     * @var array\n     *\/",55],["T_WHITESPACE","\n    ",59],["T_PROTECTED","protected",60],["T_WHITESPACE"," ",60],["T_VARIABLE","$_options",60],["T_WHITESPACE"," ",60],"=",["T_WHITESPACE"," ",60],["T_ARRAY","array",60],"(",")",";",["T_WHITESPACE","\n\n    ",60],["T_DOC_COMMENT","\/**\n     * Internal array of queues to save on lookups\n     *\n     * @var array\n     *\/",62],["T_WHITESPACE","\n    ",66],["T_PROTECTED","protected",67],["T_WHITESPACE"," ",67],["T_VARIABLE","$_queues",67],["T_WHITESPACE"," ",67],"=",["T_WHITESPACE"," ",67],["T_ARRAY","array",67],"(",")",";",["T_WHITESPACE","\n\n    ",67],["T_DOC_COMMENT","\/**\n     * Contains the Zend_Queue that this object\n     *\n     * @var Zend_Queue_Adapter_Abstract\n     *\/",69],["T_WHITESPACE","\n    ",73],["T_PROTECTED","protected",74],["T_WHITESPACE"," ",74],["T_VARIABLE","$_queue",74],["T_WHITESPACE"," ",74],"=",["T_WHITESPACE"," ",74],["T_STRING","null",74],";",["T_WHITESPACE","\n\n    ",74],["T_DOC_COMMENT","\/**\n     * Constructor.\n     *\n     * $options is an array of key\/value pairs or an instance of Zend_Config\n     * containing configuration options.  These options are common to most adapters:\n     *\n     * See the Zend_Queue Adapter Notes documentation for example configurations.\n     *\n     * Some options are used on a case-by-case basis by adapters:\n     *\n     * access_key     => (string) Amazon AWS Access Key\n     * secret_key     => (string) Amazon AWS Secret Key\n     * dbname         => (string) The name of the database to user\n     * username       => (string) Connect to the database as this username.\n     * password       => (string) Password associated with the username.\n     * host           => (string) What host to connect to, defaults to localhost\n     * port           => (string) The port of the database\n     *\n     * @param  array|Zend_Config $config An array having configuration data\n     * @param  Zend_Queue The Zend_Queue object that created this class\n     * @return void\n     * @throws Zend_Queue_Exception\n     *\/",76],["T_WHITESPACE","\n    ",98],["T_PUBLIC","public",99],["T_WHITESPACE"," ",99],["T_FUNCTION","function",99],["T_WHITESPACE"," ",99],["T_STRING","__construct",99],"(",["T_VARIABLE","$options",99],",",["T_WHITESPACE"," ",99],["T_STRING","Zend_Queue",99],["T_WHITESPACE"," ",99],["T_VARIABLE","$queue",99],["T_WHITESPACE"," ",99],"=",["T_WHITESPACE"," ",99],["T_STRING","null",99],")",["T_WHITESPACE","\n    ",99],"{",["T_WHITESPACE","\n        ",100],["T_IF","if",101],["T_WHITESPACE"," ",101],"(",["T_VARIABLE","$options",101],["T_WHITESPACE"," ",101],["T_INSTANCEOF","instanceof",101],["T_WHITESPACE"," ",101],["T_STRING","Zend_Config",101],")",["T_WHITESPACE"," ",101],"{",["T_WHITESPACE","\n            ",101],["T_VARIABLE","$options",102],["T_WHITESPACE"," ",102],"=",["T_WHITESPACE"," ",102],["T_VARIABLE","$options",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","toArray",102],"(",")",";",["T_WHITESPACE","\n        ",102],"}",["T_WHITESPACE","\n\n        ",103],["T_COMMENT","\/*\n         * Verify that adapter parameters are in an array.\n         *\/",105],["T_WHITESPACE","\n        ",107],["T_IF","if",108],["T_WHITESPACE"," ",108],"(","!",["T_STRING","is_array",108],"(",["T_VARIABLE","$options",108],")",")",["T_WHITESPACE"," ",108],"{",["T_WHITESPACE","\n            ",108],["T_COMMENT","#require_once 'Zend\/Queue\/Exception.php';\n",109],["T_WHITESPACE","            ",110],["T_THROW","throw",110],["T_WHITESPACE"," ",110],["T_NEW","new",110],["T_WHITESPACE"," ",110],["T_STRING","Zend_Queue_Exception",110],"(",["T_CONSTANT_ENCAPSED_STRING","'Adapter options must be an array or Zend_Config object'",110],")",";",["T_WHITESPACE","\n        ",110],"}",["T_WHITESPACE","\n\n        ",111],["T_COMMENT","\/\/ set the queue\n",113],["T_WHITESPACE","        ",114],["T_IF","if",114],["T_WHITESPACE"," ",114],"(",["T_VARIABLE","$queue",114],["T_WHITESPACE"," ",114],["T_IS_NOT_IDENTICAL","!==",114],["T_WHITESPACE"," ",114],["T_STRING","null",114],")",["T_WHITESPACE"," ",114],"{",["T_WHITESPACE","\n            ",114],["T_VARIABLE","$this",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","setQueue",115],"(",["T_VARIABLE","$queue",115],")",";",["T_WHITESPACE","\n        ",115],"}",["T_WHITESPACE","\n\n        ",116],["T_VARIABLE","$adapterOptions",118],["T_WHITESPACE"," ",118],"=",["T_WHITESPACE"," ",118],["T_ARRAY","array",118],"(",")",";",["T_WHITESPACE","\n        ",118],["T_VARIABLE","$driverOptions",119],["T_WHITESPACE","  ",119],"=",["T_WHITESPACE"," ",119],["T_ARRAY","array",119],"(",")",";",["T_WHITESPACE","\n\n        ",119],["T_COMMENT","\/\/ Normalize the options and merge with the defaults\n",121],["T_WHITESPACE","        ",122],["T_IF","if",122],["T_WHITESPACE"," ",122],"(",["T_STRING","array_key_exists",122],"(",["T_CONSTANT_ENCAPSED_STRING","'options'",122],",",["T_WHITESPACE"," ",122],["T_VARIABLE","$options",122],")",")",["T_WHITESPACE"," ",122],"{",["T_WHITESPACE","\n            ",122],["T_IF","if",123],["T_WHITESPACE"," ",123],"(","!",["T_STRING","is_array",123],"(",["T_VARIABLE","$options",123],"[",["T_CONSTANT_ENCAPSED_STRING","'options'",123],"]",")",")",["T_WHITESPACE"," ",123],"{",["T_WHITESPACE","\n                ",123],["T_COMMENT","#require_once 'Zend\/Queue\/Exception.php';\n",124],["T_WHITESPACE","                ",125],["T_THROW","throw",125],["T_WHITESPACE"," ",125],["T_NEW","new",125],["T_WHITESPACE"," ",125],["T_STRING","Zend_Queue_Exception",125],"(",["T_CONSTANT_ENCAPSED_STRING","\"Configuration array 'options' must be an array\"",125],")",";",["T_WHITESPACE","\n            ",125],"}",["T_WHITESPACE","\n\n            ",126],["T_COMMENT","\/\/ Can't use array_merge() because keys might be integers\n",128],["T_WHITESPACE","            ",129],["T_FOREACH","foreach",129],["T_WHITESPACE"," ",129],"(",["T_VARIABLE","$options",129],"[",["T_CONSTANT_ENCAPSED_STRING","'options'",129],"]",["T_WHITESPACE"," ",129],["T_AS","as",129],["T_WHITESPACE"," ",129],["T_VARIABLE","$key",129],["T_WHITESPACE"," ",129],["T_DOUBLE_ARROW","=>",129],["T_WHITESPACE"," ",129],["T_VARIABLE","$value",129],")",["T_WHITESPACE"," ",129],"{",["T_WHITESPACE","\n                ",129],["T_VARIABLE","$adapterOptions",130],"[",["T_VARIABLE","$key",130],"]",["T_WHITESPACE"," ",130],"=",["T_WHITESPACE"," ",130],["T_VARIABLE","$value",130],";",["T_WHITESPACE","\n            ",130],"}",["T_WHITESPACE","\n        ",131],"}",["T_WHITESPACE","\n        ",132],["T_IF","if",133],["T_WHITESPACE"," ",133],"(",["T_STRING","array_key_exists",133],"(",["T_CONSTANT_ENCAPSED_STRING","'driverOptions'",133],",",["T_WHITESPACE"," ",133],["T_VARIABLE","$options",133],")",")",["T_WHITESPACE"," ",133],"{",["T_WHITESPACE","\n            ",133],["T_COMMENT","\/\/ can't use array_merge() because keys might be integers\n",134],["T_WHITESPACE","            ",135],["T_FOREACH","foreach",135],["T_WHITESPACE"," ",135],"(",["T_ARRAY_CAST","(array)",135],["T_VARIABLE","$options",135],"[",["T_CONSTANT_ENCAPSED_STRING","'driverOptions'",135],"]",["T_WHITESPACE"," ",135],["T_AS","as",135],["T_WHITESPACE"," ",135],["T_VARIABLE","$key",135],["T_WHITESPACE"," ",135],["T_DOUBLE_ARROW","=>",135],["T_WHITESPACE"," ",135],["T_VARIABLE","$value",135],")",["T_WHITESPACE"," ",135],"{",["T_WHITESPACE","\n                ",135],["T_VARIABLE","$driverOptions",136],"[",["T_VARIABLE","$key",136],"]",["T_WHITESPACE"," ",136],"=",["T_WHITESPACE"," ",136],["T_VARIABLE","$value",136],";",["T_WHITESPACE","\n            ",136],"}",["T_WHITESPACE","\n        ",137],"}",["T_WHITESPACE","\n        ",138],["T_VARIABLE","$this",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","_options",139],["T_WHITESPACE"," ",139],"=",["T_WHITESPACE"," ",139],["T_STRING","array_merge",139],"(",["T_VARIABLE","$this",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","_options",139],",",["T_WHITESPACE"," ",139],["T_VARIABLE","$options",139],")",";",["T_WHITESPACE","\n        ",139],["T_VARIABLE","$this",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","_options",140],"[",["T_CONSTANT_ENCAPSED_STRING","'options'",140],"]",["T_WHITESPACE","       ",140],"=",["T_WHITESPACE"," ",140],["T_VARIABLE","$adapterOptions",140],";",["T_WHITESPACE","\n        ",140],["T_VARIABLE","$this",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","_options",141],"[",["T_CONSTANT_ENCAPSED_STRING","'driverOptions'",141],"]",["T_WHITESPACE"," ",141],"=",["T_WHITESPACE"," ",141],["T_VARIABLE","$driverOptions",141],";",["T_WHITESPACE","\n    ",141],"}",["T_WHITESPACE","\n\n    ",142],["T_COMMENT","\/********************************************************************\n    * Queue management functions\n     *********************************************************************\/",144],["T_WHITESPACE","\n    ",146],["T_DOC_COMMENT","\/**\n     * get the Zend_Queue class that is attached to this object\n     *\n     * @return Zend_Queue|null\n     *\/",147],["T_WHITESPACE","\n    ",151],["T_PUBLIC","public",152],["T_WHITESPACE"," ",152],["T_FUNCTION","function",152],["T_WHITESPACE"," ",152],["T_STRING","getQueue",152],"(",")",["T_WHITESPACE","\n    ",152],"{",["T_WHITESPACE","\n        ",153],["T_RETURN","return",154],["T_WHITESPACE"," ",154],["T_VARIABLE","$this",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","_queue",154],";",["T_WHITESPACE","\n    ",154],"}",["T_WHITESPACE","\n\n    ",155],["T_DOC_COMMENT","\/**\n     * set the Zend_Queue class for this object\n     *\n     * @param  Zend_Queue $queue\n     * @return Zend_Queue_Adapter_AdapterInterface\n     *\/",157],["T_WHITESPACE","\n    ",162],["T_PUBLIC","public",163],["T_WHITESPACE"," ",163],["T_FUNCTION","function",163],["T_WHITESPACE"," ",163],["T_STRING","setQueue",163],"(",["T_STRING","Zend_Queue",163],["T_WHITESPACE"," ",163],["T_VARIABLE","$queue",163],")",["T_WHITESPACE","\n    ",163],"{",["T_WHITESPACE","\n        ",164],["T_VARIABLE","$this",165],["T_OBJECT_OPERATOR","->",165],["T_STRING","_queue",165],["T_WHITESPACE"," ",165],"=",["T_WHITESPACE"," ",165],["T_VARIABLE","$queue",165],";",["T_WHITESPACE","\n        ",165],["T_RETURN","return",166],["T_WHITESPACE"," ",166],["T_VARIABLE","$this",166],";",["T_WHITESPACE","\n    ",166],"}",["T_WHITESPACE","\n\n    ",167],["T_DOC_COMMENT","\/**\n     * Returns the configuration options in this adapter.\n     *\n     * @return array\n     *\/",169],["T_WHITESPACE","\n    ",173],["T_PUBLIC","public",174],["T_WHITESPACE"," ",174],["T_FUNCTION","function",174],["T_WHITESPACE"," ",174],["T_STRING","getOptions",174],"(",")",["T_WHITESPACE","\n    ",174],"{",["T_WHITESPACE","\n        ",175],["T_RETURN","return",176],["T_WHITESPACE"," ",176],["T_VARIABLE","$this",176],["T_OBJECT_OPERATOR","->",176],["T_STRING","_options",176],";",["T_WHITESPACE","\n    ",176],"}",["T_WHITESPACE","\n\n    ",177],["T_DOC_COMMENT","\/**\n     * Indicates if a function is supported or not.\n     *\n     * @param  string $name\n     * @return boolean\n     *\/",179],["T_WHITESPACE","\n    ",184],["T_PUBLIC","public",185],["T_WHITESPACE"," ",185],["T_FUNCTION","function",185],["T_WHITESPACE"," ",185],["T_STRING","isSupported",185],"(",["T_VARIABLE","$name",185],")",["T_WHITESPACE","\n    ",185],"{",["T_WHITESPACE","\n        ",186],["T_VARIABLE","$list",187],["T_WHITESPACE"," ",187],"=",["T_WHITESPACE"," ",187],["T_VARIABLE","$this",187],["T_OBJECT_OPERATOR","->",187],["T_STRING","getCapabilities",187],"(",")",";",["T_WHITESPACE","\n\n        ",187],["T_RETURN","return",189],["T_WHITESPACE"," ",189],"(",["T_ISSET","isset",189],"(",["T_VARIABLE","$list",189],"[",["T_VARIABLE","$name",189],"]",")",["T_WHITESPACE"," ",189],["T_BOOLEAN_AND","&&",189],["T_WHITESPACE"," ",189],["T_VARIABLE","$list",189],"[",["T_VARIABLE","$name",189],"]",")",";",["T_WHITESPACE","\n     ",189],"}",["T_WHITESPACE","\n",190],"}",["T_WHITESPACE","\n",191]]