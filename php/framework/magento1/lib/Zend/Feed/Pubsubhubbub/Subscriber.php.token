[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Zend Framework\n *\n * LICENSE\n *\n * This source file is subject to the new BSD license that is bundled\n * with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/framework.zend.com\/license\/new-bsd\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@zend.com so we can send you a copy immediately.\n *\n * @category   Zend\n * @package    Zend_Feed_Pubsubhubbub\n * @copyright  Copyright (c) 2005-2015 Zend Technologies USA Inc. (http:\/\/www.zend.com)\n * @license    http:\/\/framework.zend.com\/license\/new-bsd     New BSD License\n * @version    $Id$\n *\/",2],["T_WHITESPACE","\n\n",20],["T_DOC_COMMENT","\/**\n * @see Zend_Feed_Pubsubhubbub\n *\/",22],["T_WHITESPACE","\n",24],["T_COMMENT","#require_once 'Zend\/Feed\/Pubsubhubbub.php';\n",25],["T_WHITESPACE","\n",26],["T_DOC_COMMENT","\/**\n * @see Zend_Date\n *\/",27],["T_WHITESPACE","\n",29],["T_COMMENT","#require_once 'Zend\/Date.php';\n",30],["T_WHITESPACE","\n",31],["T_DOC_COMMENT","\/**\n * @category   Zend\n * @package    Zend_Feed_Pubsubhubbub\n * @copyright  Copyright (c) 2005-2015 Zend Technologies USA Inc. (http:\/\/www.zend.com)\n * @license    http:\/\/framework.zend.com\/license\/new-bsd     New BSD License\n *\/",32],["T_WHITESPACE","\n",37],["T_CLASS","class",38],["T_WHITESPACE"," ",38],["T_STRING","Zend_Feed_Pubsubhubbub_Subscriber",38],["T_WHITESPACE","\n",38],"{",["T_WHITESPACE","\n    ",39],["T_DOC_COMMENT","\/**\n     * An array of URLs for all Hub Servers to subscribe\/unsubscribe.\n     *\n     * @var array\n     *\/",40],["T_WHITESPACE","\n    ",44],["T_PROTECTED","protected",45],["T_WHITESPACE"," ",45],["T_VARIABLE","$_hubUrls",45],["T_WHITESPACE"," ",45],"=",["T_WHITESPACE"," ",45],["T_ARRAY","array",45],"(",")",";",["T_WHITESPACE","\n\n    ",45],["T_DOC_COMMENT","\/**\n     * An array of optional parameters to be included in any\n     * (un)subscribe requests.\n     *\n     * @var array\n     *\/",47],["T_WHITESPACE","\n    ",52],["T_PROTECTED","protected",53],["T_WHITESPACE"," ",53],["T_VARIABLE","$_parameters",53],["T_WHITESPACE"," ",53],"=",["T_WHITESPACE"," ",53],["T_ARRAY","array",53],"(",")",";",["T_WHITESPACE","\n\n    ",53],["T_DOC_COMMENT","\/**\n     * The URL of the topic (Rss or Atom feed) which is the subject of\n     * our current intent to subscribe to\/unsubscribe from updates from\n     * the currently configured Hub Servers.\n     *\n     * @var string\n     *\/",55],["T_WHITESPACE","\n    ",61],["T_PROTECTED","protected",62],["T_WHITESPACE"," ",62],["T_VARIABLE","$_topicUrl",62],["T_WHITESPACE"," ",62],"=",["T_WHITESPACE"," ",62],["T_CONSTANT_ENCAPSED_STRING","''",62],";",["T_WHITESPACE","\n\n    ",62],["T_DOC_COMMENT","\/**\n     * The URL Hub Servers must use when communicating with this Subscriber\n     *\n     * @var string\n     *\/",64],["T_WHITESPACE","\n    ",68],["T_PROTECTED","protected",69],["T_WHITESPACE"," ",69],["T_VARIABLE","$_callbackUrl",69],["T_WHITESPACE"," ",69],"=",["T_WHITESPACE"," ",69],["T_CONSTANT_ENCAPSED_STRING","''",69],";",["T_WHITESPACE","\n\n    ",69],["T_DOC_COMMENT","\/**\n     * The number of seconds for which the subscriber would like to have the\n     * subscription active. Defaults to null, i.e. not sent, to setup a\n     * permanent subscription if possible.\n     *\n     * @var int\n     *\/",71],["T_WHITESPACE","\n    ",77],["T_PROTECTED","protected",78],["T_WHITESPACE"," ",78],["T_VARIABLE","$_leaseSeconds",78],["T_WHITESPACE"," ",78],"=",["T_WHITESPACE"," ",78],["T_STRING","null",78],";",["T_WHITESPACE","\n\n    ",78],["T_DOC_COMMENT","\/**\n     * The preferred verification mode (sync or async). By default, this\n     * Subscriber prefers synchronous verification, but is considered\n     * desireable to support asynchronous verification if possible.\n     *\n     * Zend_Feed_Pubsubhubbub_Subscriber will always send both modes, whose\n     * order of occurance in the parameter list determines this preference.\n     *\n     * @var string\n     *\/",80],["T_WHITESPACE","\n    ",89],["T_PROTECTED","protected",90],["T_WHITESPACE"," ",90],["T_VARIABLE","$_preferredVerificationMode",90],["T_WHITESPACE","\n        ",90],"=",["T_WHITESPACE"," ",91],["T_STRING","Zend_Feed_Pubsubhubbub",91],["T_DOUBLE_COLON","::",91],["T_STRING","VERIFICATION_MODE_SYNC",91],";",["T_WHITESPACE","\n\n    ",91],["T_DOC_COMMENT","\/**\n     * An array of any errors including keys for 'response', 'hubUrl'.\n     * The response is the actual Zend_Http_Response object.\n     *\n     * @var array\n     *\/",93],["T_WHITESPACE","\n    ",98],["T_PROTECTED","protected",99],["T_WHITESPACE"," ",99],["T_VARIABLE","$_errors",99],["T_WHITESPACE"," ",99],"=",["T_WHITESPACE"," ",99],["T_ARRAY","array",99],"(",")",";",["T_WHITESPACE","\n\n    ",99],["T_DOC_COMMENT","\/**\n     * An array of Hub Server URLs for Hubs operating at this time in\n     * asynchronous verification mode.\n     *\n     * @var array\n     *\/",101],["T_WHITESPACE","\n    ",106],["T_PROTECTED","protected",107],["T_WHITESPACE"," ",107],["T_VARIABLE","$_asyncHubs",107],["T_WHITESPACE"," ",107],"=",["T_WHITESPACE"," ",107],["T_ARRAY","array",107],"(",")",";",["T_WHITESPACE","\n\n    ",107],["T_DOC_COMMENT","\/**\n     * An instance of Zend_Feed_Pubsubhubbub_Model_SubscriptionInterface used to background\n     * save any verification tokens associated with a subscription or other.\n     *\n     * @var Zend_Feed_Pubsubhubbub_Model_SubscriptionInterface\n     *\/",109],["T_WHITESPACE","\n    ",114],["T_PROTECTED","protected",115],["T_WHITESPACE"," ",115],["T_VARIABLE","$_storage",115],["T_WHITESPACE"," ",115],"=",["T_WHITESPACE"," ",115],["T_STRING","null",115],";",["T_WHITESPACE","\n\n    ",115],["T_DOC_COMMENT","\/**\n     * An array of authentication credentials for HTTP Basic Authentication\n     * if required by specific Hubs. The array is indexed by Hub Endpoint URI\n     * and the value is a simple array of the username and password to apply.\n     *\n     * @var array\n     *\/",117],["T_WHITESPACE","\n    ",123],["T_PROTECTED","protected",124],["T_WHITESPACE"," ",124],["T_VARIABLE","$_authentications",124],["T_WHITESPACE"," ",124],"=",["T_WHITESPACE"," ",124],["T_ARRAY","array",124],"(",")",";",["T_WHITESPACE","\n\n    ",124],["T_DOC_COMMENT","\/**\n     * Tells the Subscriber to append any subscription identifier to the path\n     * of the base Callback URL. E.g. an identifier \"subkey1\" would be added\n     * to the callback URL \"http:\/\/www.example.com\/callback\" to create a subscription\n     * specific Callback URL of \"http:\/\/www.example.com\/callback\/subkey1\".\n     *\n     * This is required for all Hubs using the Pubsubhubbub 0.1 Specification.\n     * It should be manually intercepted and passed to the Callback class using\n     * Zend_Feed_Pubsubhubbub_Subscriber_Callback::setSubscriptionKey(). Will\n     * require a route in the form \"callback\/:subkey\" to allow the parameter be\n     * retrieved from an action using the Zend_Controller_Action::_getParam()\n     * method.\n     *\n     * @var string\n     *\/",126],["T_WHITESPACE","\n    ",140],["T_PROTECTED","protected",141],["T_WHITESPACE"," ",141],["T_VARIABLE","$_usePathParameter",141],["T_WHITESPACE"," ",141],"=",["T_WHITESPACE"," ",141],["T_STRING","false",141],";",["T_WHITESPACE","\n\n    ",141],["T_DOC_COMMENT","\/**\n     * Constructor; accepts an array or Zend_Config instance to preset\n     * options for the Subscriber without calling all supported setter\n     * methods in turn.\n     *\n     * @param  array|Zend_Config|null $config Options array or Zend_Config instance\n     * @throws Zend_Feed_Pubsubhubbub_Exception\n     *\/",143],["T_WHITESPACE","\n    ",150],["T_PUBLIC","public",151],["T_WHITESPACE"," ",151],["T_FUNCTION","function",151],["T_WHITESPACE"," ",151],["T_STRING","__construct",151],"(",["T_VARIABLE","$config",151],["T_WHITESPACE"," ",151],"=",["T_WHITESPACE"," ",151],["T_STRING","null",151],")",["T_WHITESPACE","\n    ",151],"{",["T_WHITESPACE","\n        ",152],["T_IF","if",153],["T_WHITESPACE"," ",153],"(",["T_VARIABLE","$config",153],["T_WHITESPACE"," ",153],["T_IS_NOT_IDENTICAL","!==",153],["T_WHITESPACE"," ",153],["T_STRING","null",153],")",["T_WHITESPACE"," ",153],"{",["T_WHITESPACE","\n            ",153],["T_VARIABLE","$this",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","setConfig",154],"(",["T_VARIABLE","$config",154],")",";",["T_WHITESPACE","\n        ",154],"}",["T_WHITESPACE","\n    ",155],"}",["T_WHITESPACE","\n\n    ",156],["T_DOC_COMMENT","\/**\n     * Process any injected configuration options\n     *\n     * @param  array|Zend_Config $config Options array or Zend_Config instance\n     * @throws Zend_Feed_Pubsubhubbub_Exception\n     * @return Zend_Feed_Pubsubhubbub_Subscriber\n     *\/",158],["T_WHITESPACE","\n    ",164],["T_PUBLIC","public",165],["T_WHITESPACE"," ",165],["T_FUNCTION","function",165],["T_WHITESPACE"," ",165],["T_STRING","setConfig",165],"(",["T_VARIABLE","$config",165],")",["T_WHITESPACE","\n    ",165],"{",["T_WHITESPACE","\n        ",166],["T_IF","if",167],["T_WHITESPACE"," ",167],"(",["T_VARIABLE","$config",167],["T_WHITESPACE"," ",167],["T_INSTANCEOF","instanceof",167],["T_WHITESPACE"," ",167],["T_STRING","Zend_Config",167],")",["T_WHITESPACE"," ",167],"{",["T_WHITESPACE","\n            ",167],["T_VARIABLE","$config",168],["T_WHITESPACE"," ",168],"=",["T_WHITESPACE"," ",168],["T_VARIABLE","$config",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","toArray",168],"(",")",";",["T_WHITESPACE","\n        ",168],"}",["T_WHITESPACE"," ",169],["T_ELSEIF","elseif",169],["T_WHITESPACE"," ",169],"(","!",["T_STRING","is_array",169],"(",["T_VARIABLE","$config",169],")",")",["T_WHITESPACE"," ",169],"{",["T_WHITESPACE","\n            ",169],["T_COMMENT","#require_once 'Zend\/Feed\/Pubsubhubbub\/Exception.php';\n",170],["T_WHITESPACE","            ",171],["T_THROW","throw",171],["T_WHITESPACE"," ",171],["T_NEW","new",171],["T_WHITESPACE"," ",171],["T_STRING","Zend_Feed_Pubsubhubbub_Exception",171],"(",["T_CONSTANT_ENCAPSED_STRING","'Array or Zend_Config object'",171],["T_WHITESPACE","\n                ",171],".",["T_WHITESPACE"," ",172],["T_CONSTANT_ENCAPSED_STRING","' expected, got '",172],["T_WHITESPACE"," ",172],".",["T_WHITESPACE"," ",172],["T_STRING","gettype",172],"(",["T_VARIABLE","$config",172],")",")",";",["T_WHITESPACE","\n        ",172],"}",["T_WHITESPACE","\n        ",173],["T_IF","if",174],["T_WHITESPACE"," ",174],"(",["T_STRING","array_key_exists",174],"(",["T_CONSTANT_ENCAPSED_STRING","'hubUrls'",174],",",["T_WHITESPACE"," ",174],["T_VARIABLE","$config",174],")",")",["T_WHITESPACE"," ",174],"{",["T_WHITESPACE","\n            ",174],["T_VARIABLE","$this",175],["T_OBJECT_OPERATOR","->",175],["T_STRING","addHubUrls",175],"(",["T_VARIABLE","$config",175],"[",["T_CONSTANT_ENCAPSED_STRING","'hubUrls'",175],"]",")",";",["T_WHITESPACE","\n        ",175],"}",["T_WHITESPACE","\n        ",176],["T_IF","if",177],["T_WHITESPACE"," ",177],"(",["T_STRING","array_key_exists",177],"(",["T_CONSTANT_ENCAPSED_STRING","'callbackUrl'",177],",",["T_WHITESPACE"," ",177],["T_VARIABLE","$config",177],")",")",["T_WHITESPACE"," ",177],"{",["T_WHITESPACE","\n            ",177],["T_VARIABLE","$this",178],["T_OBJECT_OPERATOR","->",178],["T_STRING","setCallbackUrl",178],"(",["T_VARIABLE","$config",178],"[",["T_CONSTANT_ENCAPSED_STRING","'callbackUrl'",178],"]",")",";",["T_WHITESPACE","\n        ",178],"}",["T_WHITESPACE","\n        ",179],["T_IF","if",180],["T_WHITESPACE"," ",180],"(",["T_STRING","array_key_exists",180],"(",["T_CONSTANT_ENCAPSED_STRING","'topicUrl'",180],",",["T_WHITESPACE"," ",180],["T_VARIABLE","$config",180],")",")",["T_WHITESPACE"," ",180],"{",["T_WHITESPACE","\n            ",180],["T_VARIABLE","$this",181],["T_OBJECT_OPERATOR","->",181],["T_STRING","setTopicUrl",181],"(",["T_VARIABLE","$config",181],"[",["T_CONSTANT_ENCAPSED_STRING","'topicUrl'",181],"]",")",";",["T_WHITESPACE","\n        ",181],"}",["T_WHITESPACE","\n        ",182],["T_IF","if",183],["T_WHITESPACE"," ",183],"(",["T_STRING","array_key_exists",183],"(",["T_CONSTANT_ENCAPSED_STRING","'storage'",183],",",["T_WHITESPACE"," ",183],["T_VARIABLE","$config",183],")",")",["T_WHITESPACE"," ",183],"{",["T_WHITESPACE","\n            ",183],["T_VARIABLE","$this",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","setStorage",184],"(",["T_VARIABLE","$config",184],"[",["T_CONSTANT_ENCAPSED_STRING","'storage'",184],"]",")",";",["T_WHITESPACE","\n        ",184],"}",["T_WHITESPACE","\n        ",185],["T_IF","if",186],["T_WHITESPACE"," ",186],"(",["T_STRING","array_key_exists",186],"(",["T_CONSTANT_ENCAPSED_STRING","'leaseSeconds'",186],",",["T_WHITESPACE"," ",186],["T_VARIABLE","$config",186],")",")",["T_WHITESPACE"," ",186],"{",["T_WHITESPACE","\n            ",186],["T_VARIABLE","$this",187],["T_OBJECT_OPERATOR","->",187],["T_STRING","setLeaseSeconds",187],"(",["T_VARIABLE","$config",187],"[",["T_CONSTANT_ENCAPSED_STRING","'leaseSeconds'",187],"]",")",";",["T_WHITESPACE","\n        ",187],"}",["T_WHITESPACE","\n        ",188],["T_IF","if",189],["T_WHITESPACE"," ",189],"(",["T_STRING","array_key_exists",189],"(",["T_CONSTANT_ENCAPSED_STRING","'parameters'",189],",",["T_WHITESPACE"," ",189],["T_VARIABLE","$config",189],")",")",["T_WHITESPACE"," ",189],"{",["T_WHITESPACE","\n            ",189],["T_VARIABLE","$this",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","setParameters",190],"(",["T_VARIABLE","$config",190],"[",["T_CONSTANT_ENCAPSED_STRING","'parameters'",190],"]",")",";",["T_WHITESPACE","\n        ",190],"}",["T_WHITESPACE","\n        ",191],["T_IF","if",192],["T_WHITESPACE"," ",192],"(",["T_STRING","array_key_exists",192],"(",["T_CONSTANT_ENCAPSED_STRING","'authentications'",192],",",["T_WHITESPACE"," ",192],["T_VARIABLE","$config",192],")",")",["T_WHITESPACE"," ",192],"{",["T_WHITESPACE","\n            ",192],["T_VARIABLE","$this",193],["T_OBJECT_OPERATOR","->",193],["T_STRING","addAuthentications",193],"(",["T_VARIABLE","$config",193],"[",["T_CONSTANT_ENCAPSED_STRING","'authentications'",193],"]",")",";",["T_WHITESPACE","\n        ",193],"}",["T_WHITESPACE","\n        ",194],["T_IF","if",195],["T_WHITESPACE"," ",195],"(",["T_STRING","array_key_exists",195],"(",["T_CONSTANT_ENCAPSED_STRING","'usePathParameter'",195],",",["T_WHITESPACE"," ",195],["T_VARIABLE","$config",195],")",")",["T_WHITESPACE"," ",195],"{",["T_WHITESPACE","\n            ",195],["T_VARIABLE","$this",196],["T_OBJECT_OPERATOR","->",196],["T_STRING","usePathParameter",196],"(",["T_VARIABLE","$config",196],"[",["T_CONSTANT_ENCAPSED_STRING","'usePathParameter'",196],"]",")",";",["T_WHITESPACE","\n        ",196],"}",["T_WHITESPACE","\n        ",197],["T_IF","if",198],["T_WHITESPACE"," ",198],"(",["T_STRING","array_key_exists",198],"(",["T_CONSTANT_ENCAPSED_STRING","'preferredVerificationMode'",198],",",["T_WHITESPACE"," ",198],["T_VARIABLE","$config",198],")",")",["T_WHITESPACE"," ",198],"{",["T_WHITESPACE","\n            ",198],["T_VARIABLE","$this",199],["T_OBJECT_OPERATOR","->",199],["T_STRING","setPreferredVerificationMode",199],"(",["T_WHITESPACE","\n                ",199],["T_VARIABLE","$config",200],"[",["T_CONSTANT_ENCAPSED_STRING","'preferredVerificationMode'",200],"]",["T_WHITESPACE","\n            ",200],")",";",["T_WHITESPACE","\n        ",201],"}",["T_WHITESPACE","\n        ",202],["T_RETURN","return",203],["T_WHITESPACE"," ",203],["T_VARIABLE","$this",203],";",["T_WHITESPACE","\n    ",203],"}",["T_WHITESPACE","\n\n    ",204],["T_DOC_COMMENT","\/**\n     * Set the topic URL (RSS or Atom feed) to which the intended (un)subscribe\n     * event will relate\n     *\n     * @param  string $url\n     * @throws Zend_Feed_Pubsubhubbub_Exception\n     * @return Zend_Feed_Pubsubhubbub_Subscriber\n     *\/",206],["T_WHITESPACE","\n    ",213],["T_PUBLIC","public",214],["T_WHITESPACE"," ",214],["T_FUNCTION","function",214],["T_WHITESPACE"," ",214],["T_STRING","setTopicUrl",214],"(",["T_VARIABLE","$url",214],")",["T_WHITESPACE","\n    ",214],"{",["T_WHITESPACE","\n        ",215],["T_IF","if",216],["T_WHITESPACE"," ",216],"(",["T_EMPTY","empty",216],"(",["T_VARIABLE","$url",216],")",["T_WHITESPACE"," ",216],["T_BOOLEAN_OR","||",216],["T_WHITESPACE"," ",216],"!",["T_STRING","is_string",216],"(",["T_VARIABLE","$url",216],")",["T_WHITESPACE"," ",216],["T_BOOLEAN_OR","||",216],["T_WHITESPACE"," ",216],"!",["T_STRING","Zend_Uri",216],["T_DOUBLE_COLON","::",216],["T_STRING","check",216],"(",["T_VARIABLE","$url",216],")",")",["T_WHITESPACE"," ",216],"{",["T_WHITESPACE","\n            ",216],["T_COMMENT","#require_once 'Zend\/Feed\/Pubsubhubbub\/Exception.php';\n",217],["T_WHITESPACE","            ",218],["T_THROW","throw",218],["T_WHITESPACE"," ",218],["T_NEW","new",218],["T_WHITESPACE"," ",218],["T_STRING","Zend_Feed_Pubsubhubbub_Exception",218],"(",["T_CONSTANT_ENCAPSED_STRING","'Invalid parameter \"url\"'",218],["T_WHITESPACE","\n                ",218],".",["T_CONSTANT_ENCAPSED_STRING","' of \"'",219],["T_WHITESPACE"," ",219],".",["T_WHITESPACE"," ",219],["T_VARIABLE","$url",219],["T_WHITESPACE"," ",219],".",["T_WHITESPACE"," ",219],["T_CONSTANT_ENCAPSED_STRING","'\" must be a non-empty string and a valid'",219],["T_WHITESPACE","\n                ",219],".",["T_CONSTANT_ENCAPSED_STRING","' URL'",220],")",";",["T_WHITESPACE","\n        ",220],"}",["T_WHITESPACE","\n        ",221],["T_VARIABLE","$this",222],["T_OBJECT_OPERATOR","->",222],["T_STRING","_topicUrl",222],["T_WHITESPACE"," ",222],"=",["T_WHITESPACE"," ",222],["T_VARIABLE","$url",222],";",["T_WHITESPACE","\n        ",222],["T_RETURN","return",223],["T_WHITESPACE"," ",223],["T_VARIABLE","$this",223],";",["T_WHITESPACE","\n    ",223],"}",["T_WHITESPACE","\n\n    ",224],["T_DOC_COMMENT","\/**\n     * Set the topic URL (RSS or Atom feed) to which the intended (un)subscribe\n     * event will relate\n     *\n     * @throws Zend_Feed_Pubsubhubbub_Exception\n     * @return string\n     *\/",226],["T_WHITESPACE","\n    ",232],["T_PUBLIC","public",233],["T_WHITESPACE"," ",233],["T_FUNCTION","function",233],["T_WHITESPACE"," ",233],["T_STRING","getTopicUrl",233],"(",")",["T_WHITESPACE","\n    ",233],"{",["T_WHITESPACE","\n        ",234],["T_IF","if",235],["T_WHITESPACE"," ",235],"(",["T_EMPTY","empty",235],"(",["T_VARIABLE","$this",235],["T_OBJECT_OPERATOR","->",235],["T_STRING","_topicUrl",235],")",")",["T_WHITESPACE"," ",235],"{",["T_WHITESPACE","\n            ",235],["T_COMMENT","#require_once 'Zend\/Feed\/Pubsubhubbub\/Exception.php';\n",236],["T_WHITESPACE","            ",237],["T_THROW","throw",237],["T_WHITESPACE"," ",237],["T_NEW","new",237],["T_WHITESPACE"," ",237],["T_STRING","Zend_Feed_Pubsubhubbub_Exception",237],"(",["T_CONSTANT_ENCAPSED_STRING","'A valid Topic (RSS or Atom'",237],["T_WHITESPACE","\n                ",237],".",["T_WHITESPACE"," ",238],["T_CONSTANT_ENCAPSED_STRING","' feed) URL MUST be set before attempting any operation'",238],")",";",["T_WHITESPACE","\n        ",238],"}",["T_WHITESPACE","\n        ",239],["T_RETURN","return",240],["T_WHITESPACE"," ",240],["T_VARIABLE","$this",240],["T_OBJECT_OPERATOR","->",240],["T_STRING","_topicUrl",240],";",["T_WHITESPACE","\n    ",240],"}",["T_WHITESPACE","\n\n    ",241],["T_DOC_COMMENT","\/**\n     * Set the number of seconds for which any subscription will remain valid\n     *\n     * @param  int $seconds\n     * @throws Zend_Feed_Pubsubhubbub_Exception\n     * @return Zend_Feed_Pubsubhubbub_Subscriber\n     *\/",243],["T_WHITESPACE","\n    ",249],["T_PUBLIC","public",250],["T_WHITESPACE"," ",250],["T_FUNCTION","function",250],["T_WHITESPACE"," ",250],["T_STRING","setLeaseSeconds",250],"(",["T_VARIABLE","$seconds",250],")",["T_WHITESPACE","\n    ",250],"{",["T_WHITESPACE","\n        ",251],["T_VARIABLE","$seconds",252],["T_WHITESPACE"," ",252],"=",["T_WHITESPACE"," ",252],["T_STRING","intval",252],"(",["T_VARIABLE","$seconds",252],")",";",["T_WHITESPACE","\n        ",252],["T_IF","if",253],["T_WHITESPACE"," ",253],"(",["T_VARIABLE","$seconds",253],["T_WHITESPACE"," ",253],["T_IS_SMALLER_OR_EQUAL","<=",253],["T_WHITESPACE"," ",253],["T_LNUMBER","0",253],")",["T_WHITESPACE"," ",253],"{",["T_WHITESPACE","\n            ",253],["T_COMMENT","#require_once 'Zend\/Feed\/Pubsubhubbub\/Exception.php';\n",254],["T_WHITESPACE","            ",255],["T_THROW","throw",255],["T_WHITESPACE"," ",255],["T_NEW","new",255],["T_WHITESPACE"," ",255],["T_STRING","Zend_Feed_Pubsubhubbub_Exception",255],"(",["T_CONSTANT_ENCAPSED_STRING","'Expected lease seconds'",255],["T_WHITESPACE","\n                ",255],".",["T_WHITESPACE"," ",256],["T_CONSTANT_ENCAPSED_STRING","' must be an integer greater than zero'",256],")",";",["T_WHITESPACE","\n        ",256],"}",["T_WHITESPACE","\n        ",257],["T_VARIABLE","$this",258],["T_OBJECT_OPERATOR","->",258],["T_STRING","_leaseSeconds",258],["T_WHITESPACE"," ",258],"=",["T_WHITESPACE"," ",258],["T_VARIABLE","$seconds",258],";",["T_WHITESPACE","\n        ",258],["T_RETURN","return",259],["T_WHITESPACE"," ",259],["T_VARIABLE","$this",259],";",["T_WHITESPACE","\n    ",259],"}",["T_WHITESPACE","\n\n    ",260],["T_DOC_COMMENT","\/**\n     * Get the number of lease seconds on subscriptions\n     *\n     * @return int\n     *\/",262],["T_WHITESPACE","\n    ",266],["T_PUBLIC","public",267],["T_WHITESPACE"," ",267],["T_FUNCTION","function",267],["T_WHITESPACE"," ",267],["T_STRING","getLeaseSeconds",267],"(",")",["T_WHITESPACE","\n    ",267],"{",["T_WHITESPACE","\n        ",268],["T_RETURN","return",269],["T_WHITESPACE"," ",269],["T_VARIABLE","$this",269],["T_OBJECT_OPERATOR","->",269],["T_STRING","_leaseSeconds",269],";",["T_WHITESPACE","\n    ",269],"}",["T_WHITESPACE","\n\n    ",270],["T_DOC_COMMENT","\/**\n     * Set the callback URL to be used by Hub Servers when communicating with\n     * this Subscriber\n     *\n     * @param  string $url\n     * @throws Zend_Feed_Pubsubhubbub_Exception\n     * @return Zend_Feed_Pubsubhubbub_Subscriber\n     *\/",272],["T_WHITESPACE","\n    ",279],["T_PUBLIC","public",280],["T_WHITESPACE"," ",280],["T_FUNCTION","function",280],["T_WHITESPACE"," ",280],["T_STRING","setCallbackUrl",280],"(",["T_VARIABLE","$url",280],")",["T_WHITESPACE","\n    ",280],"{",["T_WHITESPACE","\n        ",281],["T_IF","if",282],["T_WHITESPACE"," ",282],"(",["T_EMPTY","empty",282],"(",["T_VARIABLE","$url",282],")",["T_WHITESPACE"," ",282],["T_BOOLEAN_OR","||",282],["T_WHITESPACE"," ",282],"!",["T_STRING","is_string",282],"(",["T_VARIABLE","$url",282],")",["T_WHITESPACE"," ",282],["T_BOOLEAN_OR","||",282],["T_WHITESPACE"," ",282],"!",["T_STRING","Zend_Uri",282],["T_DOUBLE_COLON","::",282],["T_STRING","check",282],"(",["T_VARIABLE","$url",282],")",")",["T_WHITESPACE"," ",282],"{",["T_WHITESPACE","\n            ",282],["T_COMMENT","#require_once 'Zend\/Feed\/Pubsubhubbub\/Exception.php';\n",283],["T_WHITESPACE","            ",284],["T_THROW","throw",284],["T_WHITESPACE"," ",284],["T_NEW","new",284],["T_WHITESPACE"," ",284],["T_STRING","Zend_Feed_Pubsubhubbub_Exception",284],"(",["T_CONSTANT_ENCAPSED_STRING","'Invalid parameter \"url\"'",284],["T_WHITESPACE","\n                ",284],".",["T_WHITESPACE"," ",285],["T_CONSTANT_ENCAPSED_STRING","' of \"'",285],["T_WHITESPACE"," ",285],".",["T_WHITESPACE"," ",285],["T_VARIABLE","$url",285],["T_WHITESPACE"," ",285],".",["T_WHITESPACE"," ",285],["T_CONSTANT_ENCAPSED_STRING","'\" must be a non-empty string and a valid'",285],["T_WHITESPACE","\n                ",285],".",["T_WHITESPACE"," ",286],["T_CONSTANT_ENCAPSED_STRING","' URL'",286],")",";",["T_WHITESPACE","\n        ",286],"}",["T_WHITESPACE","\n        ",287],["T_VARIABLE","$this",288],["T_OBJECT_OPERATOR","->",288],["T_STRING","_callbackUrl",288],["T_WHITESPACE"," ",288],"=",["T_WHITESPACE"," ",288],["T_VARIABLE","$url",288],";",["T_WHITESPACE","\n        ",288],["T_RETURN","return",289],["T_WHITESPACE"," ",289],["T_VARIABLE","$this",289],";",["T_WHITESPACE","\n    ",289],"}",["T_WHITESPACE","\n\n    ",290],["T_DOC_COMMENT","\/**\n     * Get the callback URL to be used by Hub Servers when communicating with\n     * this Subscriber\n     *\n     * @throws Zend_Feed_Pubsubhubbub_Exception\n     * @return string\n     *\/",292],["T_WHITESPACE","\n    ",298],["T_PUBLIC","public",299],["T_WHITESPACE"," ",299],["T_FUNCTION","function",299],["T_WHITESPACE"," ",299],["T_STRING","getCallbackUrl",299],"(",")",["T_WHITESPACE","\n    ",299],"{",["T_WHITESPACE","\n        ",300],["T_IF","if",301],["T_WHITESPACE"," ",301],"(",["T_EMPTY","empty",301],"(",["T_VARIABLE","$this",301],["T_OBJECT_OPERATOR","->",301],["T_STRING","_callbackUrl",301],")",")",["T_WHITESPACE"," ",301],"{",["T_WHITESPACE","\n            ",301],["T_COMMENT","#require_once 'Zend\/Feed\/Pubsubhubbub\/Exception.php';\n",302],["T_WHITESPACE","            ",303],["T_THROW","throw",303],["T_WHITESPACE"," ",303],["T_NEW","new",303],["T_WHITESPACE"," ",303],["T_STRING","Zend_Feed_Pubsubhubbub_Exception",303],"(",["T_CONSTANT_ENCAPSED_STRING","'A valid Callback URL MUST be'",303],["T_WHITESPACE","\n                ",303],".",["T_WHITESPACE"," ",304],["T_CONSTANT_ENCAPSED_STRING","' set before attempting any operation'",304],")",";",["T_WHITESPACE","\n        ",304],"}",["T_WHITESPACE","\n        ",305],["T_RETURN","return",306],["T_WHITESPACE"," ",306],["T_VARIABLE","$this",306],["T_OBJECT_OPERATOR","->",306],["T_STRING","_callbackUrl",306],";",["T_WHITESPACE","\n    ",306],"}",["T_WHITESPACE","\n\n    ",307],["T_DOC_COMMENT","\/**\n     * Set preferred verification mode (sync or async). By default, this\n     * Subscriber prefers synchronous verification, but does support\n     * asynchronous if that's the Hub Server's utilised mode.\n     *\n     * Zend_Feed_Pubsubhubbub_Subscriber will always send both modes, whose\n     * order of occurance in the parameter list determines this preference.\n     *\n     * @param  string $mode Should be 'sync' or 'async'\n     * @throws Zend_Feed_Pubsubhubbub_Exception\n     * @return Zend_Feed_Pubsubhubbub_Subscriber\n     *\/",309],["T_WHITESPACE","\n    ",320],["T_PUBLIC","public",321],["T_WHITESPACE"," ",321],["T_FUNCTION","function",321],["T_WHITESPACE"," ",321],["T_STRING","setPreferredVerificationMode",321],"(",["T_VARIABLE","$mode",321],")",["T_WHITESPACE","\n    ",321],"{",["T_WHITESPACE","\n        ",322],["T_IF","if",323],["T_WHITESPACE"," ",323],"(",["T_VARIABLE","$mode",323],["T_WHITESPACE"," ",323],["T_IS_NOT_IDENTICAL","!==",323],["T_WHITESPACE"," ",323],["T_STRING","Zend_Feed_Pubsubhubbub",323],["T_DOUBLE_COLON","::",323],["T_STRING","VERIFICATION_MODE_SYNC",323],["T_WHITESPACE","\n        ",323],["T_BOOLEAN_AND","&&",324],["T_WHITESPACE"," ",324],["T_VARIABLE","$mode",324],["T_WHITESPACE"," ",324],["T_IS_NOT_IDENTICAL","!==",324],["T_WHITESPACE"," ",324],["T_STRING","Zend_Feed_Pubsubhubbub",324],["T_DOUBLE_COLON","::",324],["T_STRING","VERIFICATION_MODE_ASYNC",324],")",["T_WHITESPACE"," ",324],"{",["T_WHITESPACE","\n            ",324],["T_COMMENT","#require_once 'Zend\/Feed\/Pubsubhubbub\/Exception.php';\n",325],["T_WHITESPACE","            ",326],["T_THROW","throw",326],["T_WHITESPACE"," ",326],["T_NEW","new",326],["T_WHITESPACE"," ",326],["T_STRING","Zend_Feed_Pubsubhubbub_Exception",326],"(",["T_CONSTANT_ENCAPSED_STRING","'Invalid preferred'",326],["T_WHITESPACE","\n                ",326],".",["T_WHITESPACE"," ",327],["T_CONSTANT_ENCAPSED_STRING","' mode specified: \"'",327],["T_WHITESPACE"," ",327],".",["T_WHITESPACE"," ",327],["T_VARIABLE","$mode",327],["T_WHITESPACE"," ",327],".",["T_WHITESPACE"," ",327],["T_CONSTANT_ENCAPSED_STRING","'\" but should be one of'",327],["T_WHITESPACE","\n                ",327],".",["T_WHITESPACE"," ",328],["T_CONSTANT_ENCAPSED_STRING","' Zend_Feed_Pubsubhubbub::VERIFICATION_MODE_SYNC or'",328],["T_WHITESPACE","\n                ",328],".",["T_WHITESPACE"," ",329],["T_CONSTANT_ENCAPSED_STRING","' Zend_Feed_Pubsubhubbub::VERIFICATION_MODE_ASYNC'",329],")",";",["T_WHITESPACE","\n        ",329],"}",["T_WHITESPACE","\n        ",330],["T_VARIABLE","$this",331],["T_OBJECT_OPERATOR","->",331],["T_STRING","_preferredVerificationMode",331],["T_WHITESPACE"," ",331],"=",["T_WHITESPACE"," ",331],["T_VARIABLE","$mode",331],";",["T_WHITESPACE","\n        ",331],["T_RETURN","return",332],["T_WHITESPACE"," ",332],["T_VARIABLE","$this",332],";",["T_WHITESPACE","\n    ",332],"}",["T_WHITESPACE","\n\n    ",333],["T_DOC_COMMENT","\/**\n     * Get preferred verification mode (sync or async).\n     *\n     * @return string\n     *\/",335],["T_WHITESPACE","\n    ",339],["T_PUBLIC","public",340],["T_WHITESPACE"," ",340],["T_FUNCTION","function",340],["T_WHITESPACE"," ",340],["T_STRING","getPreferredVerificationMode",340],"(",")",["T_WHITESPACE","\n    ",340],"{",["T_WHITESPACE","\n        ",341],["T_RETURN","return",342],["T_WHITESPACE"," ",342],["T_VARIABLE","$this",342],["T_OBJECT_OPERATOR","->",342],["T_STRING","_preferredVerificationMode",342],";",["T_WHITESPACE","\n    ",342],"}",["T_WHITESPACE","\n\n    ",343],["T_DOC_COMMENT","\/**\n     * Add a Hub Server URL supported by Publisher\n     *\n     * @param  string $url\n     * @throws Zend_Feed_Pubsubhubbub_Exception\n     * @return Zend_Feed_Pubsubhubbub_Subscriber\n     *\/",345],["T_WHITESPACE","\n    ",351],["T_PUBLIC","public",352],["T_WHITESPACE"," ",352],["T_FUNCTION","function",352],["T_WHITESPACE"," ",352],["T_STRING","addHubUrl",352],"(",["T_VARIABLE","$url",352],")",["T_WHITESPACE","\n    ",352],"{",["T_WHITESPACE","\n        ",353],["T_IF","if",354],["T_WHITESPACE"," ",354],"(",["T_EMPTY","empty",354],"(",["T_VARIABLE","$url",354],")",["T_WHITESPACE"," ",354],["T_BOOLEAN_OR","||",354],["T_WHITESPACE"," ",354],"!",["T_STRING","is_string",354],"(",["T_VARIABLE","$url",354],")",["T_WHITESPACE"," ",354],["T_BOOLEAN_OR","||",354],["T_WHITESPACE"," ",354],"!",["T_STRING","Zend_Uri",354],["T_DOUBLE_COLON","::",354],["T_STRING","check",354],"(",["T_VARIABLE","$url",354],")",")",["T_WHITESPACE"," ",354],"{",["T_WHITESPACE","\n            ",354],["T_COMMENT","#require_once 'Zend\/Feed\/Pubsubhubbub\/Exception.php';\n",355],["T_WHITESPACE","            ",356],["T_THROW","throw",356],["T_WHITESPACE"," ",356],["T_NEW","new",356],["T_WHITESPACE"," ",356],["T_STRING","Zend_Feed_Pubsubhubbub_Exception",356],"(",["T_CONSTANT_ENCAPSED_STRING","'Invalid parameter \"url\"'",356],["T_WHITESPACE","\n                ",356],".",["T_WHITESPACE"," ",357],["T_CONSTANT_ENCAPSED_STRING","' of \"'",357],["T_WHITESPACE"," ",357],".",["T_WHITESPACE"," ",357],["T_VARIABLE","$url",357],["T_WHITESPACE"," ",357],".",["T_WHITESPACE"," ",357],["T_CONSTANT_ENCAPSED_STRING","'\" must be a non-empty string and a valid'",357],["T_WHITESPACE","\n                ",357],".",["T_WHITESPACE"," ",358],["T_CONSTANT_ENCAPSED_STRING","' URL'",358],")",";",["T_WHITESPACE","\n        ",358],"}",["T_WHITESPACE","\n        ",359],["T_VARIABLE","$this",360],["T_OBJECT_OPERATOR","->",360],["T_STRING","_hubUrls",360],"[","]",["T_WHITESPACE"," ",360],"=",["T_WHITESPACE"," ",360],["T_VARIABLE","$url",360],";",["T_WHITESPACE","\n        ",360],["T_RETURN","return",361],["T_WHITESPACE"," ",361],["T_VARIABLE","$this",361],";",["T_WHITESPACE","\n    ",361],"}",["T_WHITESPACE","\n\n    ",362],["T_DOC_COMMENT","\/**\n     * Add an array of Hub Server URLs supported by Publisher\n     *\n     * @param  array $urls\n     * @return Zend_Feed_Pubsubhubbub_Subscriber\n     *\/",364],["T_WHITESPACE","\n    ",369],["T_PUBLIC","public",370],["T_WHITESPACE"," ",370],["T_FUNCTION","function",370],["T_WHITESPACE"," ",370],["T_STRING","addHubUrls",370],"(",["T_ARRAY","array",370],["T_WHITESPACE"," ",370],["T_VARIABLE","$urls",370],")",["T_WHITESPACE","\n    ",370],"{",["T_WHITESPACE","\n        ",371],["T_FOREACH","foreach",372],["T_WHITESPACE"," ",372],"(",["T_VARIABLE","$urls",372],["T_WHITESPACE"," ",372],["T_AS","as",372],["T_WHITESPACE"," ",372],["T_VARIABLE","$url",372],")",["T_WHITESPACE"," ",372],"{",["T_WHITESPACE","\n            ",372],["T_VARIABLE","$this",373],["T_OBJECT_OPERATOR","->",373],["T_STRING","addHubUrl",373],"(",["T_VARIABLE","$url",373],")",";",["T_WHITESPACE","\n        ",373],"}",["T_WHITESPACE","\n        ",374],["T_RETURN","return",375],["T_WHITESPACE"," ",375],["T_VARIABLE","$this",375],";",["T_WHITESPACE","\n    ",375],"}",["T_WHITESPACE","\n\n    ",376],["T_DOC_COMMENT","\/**\n     * Remove a Hub Server URL\n     *\n     * @param  string $url\n     * @return Zend_Feed_Pubsubhubbub_Subscriber\n     *\/",378],["T_WHITESPACE","\n    ",383],["T_PUBLIC","public",384],["T_WHITESPACE"," ",384],["T_FUNCTION","function",384],["T_WHITESPACE"," ",384],["T_STRING","removeHubUrl",384],"(",["T_VARIABLE","$url",384],")",["T_WHITESPACE","\n    ",384],"{",["T_WHITESPACE","\n        ",385],["T_IF","if",386],["T_WHITESPACE"," ",386],"(","!",["T_STRING","in_array",386],"(",["T_VARIABLE","$url",386],",",["T_WHITESPACE"," ",386],["T_VARIABLE","$this",386],["T_OBJECT_OPERATOR","->",386],["T_STRING","getHubUrls",386],"(",")",")",")",["T_WHITESPACE"," ",386],"{",["T_WHITESPACE","\n            ",386],["T_RETURN","return",387],["T_WHITESPACE"," ",387],["T_VARIABLE","$this",387],";",["T_WHITESPACE","\n        ",387],"}",["T_WHITESPACE","\n        ",388],["T_VARIABLE","$key",389],["T_WHITESPACE"," ",389],"=",["T_WHITESPACE"," ",389],["T_STRING","array_search",389],"(",["T_VARIABLE","$url",389],",",["T_WHITESPACE"," ",389],["T_VARIABLE","$this",389],["T_OBJECT_OPERATOR","->",389],["T_STRING","_hubUrls",389],")",";",["T_WHITESPACE","\n        ",389],["T_UNSET","unset",390],"(",["T_VARIABLE","$this",390],["T_OBJECT_OPERATOR","->",390],["T_STRING","_hubUrls",390],"[",["T_VARIABLE","$key",390],"]",")",";",["T_WHITESPACE","\n        ",390],["T_RETURN","return",391],["T_WHITESPACE"," ",391],["T_VARIABLE","$this",391],";",["T_WHITESPACE","\n    ",391],"}",["T_WHITESPACE","\n\n    ",392],["T_DOC_COMMENT","\/**\n     * Return an array of unique Hub Server URLs currently available\n     *\n     * @return array\n     *\/",394],["T_WHITESPACE","\n    ",398],["T_PUBLIC","public",399],["T_WHITESPACE"," ",399],["T_FUNCTION","function",399],["T_WHITESPACE"," ",399],["T_STRING","getHubUrls",399],"(",")",["T_WHITESPACE","\n    ",399],"{",["T_WHITESPACE","\n        ",400],["T_VARIABLE","$this",401],["T_OBJECT_OPERATOR","->",401],["T_STRING","_hubUrls",401],["T_WHITESPACE"," ",401],"=",["T_WHITESPACE"," ",401],["T_STRING","array_unique",401],"(",["T_VARIABLE","$this",401],["T_OBJECT_OPERATOR","->",401],["T_STRING","_hubUrls",401],")",";",["T_WHITESPACE","\n        ",401],["T_RETURN","return",402],["T_WHITESPACE"," ",402],["T_VARIABLE","$this",402],["T_OBJECT_OPERATOR","->",402],["T_STRING","_hubUrls",402],";",["T_WHITESPACE","\n    ",402],"}",["T_WHITESPACE","\n\n    ",403],["T_DOC_COMMENT","\/**\n     * Add authentication credentials for a given URL\n     *\n     * @param  string $url\n     * @param  array  $authentication\n     * @throws Zend_Feed_Pubsubhubbub_Exception\n     * @return Zend_Feed_Pubsubhubbub_Subscriber\n     *\/",405],["T_WHITESPACE","\n    ",412],["T_PUBLIC","public",413],["T_WHITESPACE"," ",413],["T_FUNCTION","function",413],["T_WHITESPACE"," ",413],["T_STRING","addAuthentication",413],"(",["T_VARIABLE","$url",413],",",["T_WHITESPACE"," ",413],["T_ARRAY","array",413],["T_WHITESPACE"," ",413],["T_VARIABLE","$authentication",413],")",["T_WHITESPACE","\n    ",413],"{",["T_WHITESPACE","\n        ",414],["T_IF","if",415],["T_WHITESPACE"," ",415],"(",["T_EMPTY","empty",415],"(",["T_VARIABLE","$url",415],")",["T_WHITESPACE"," ",415],["T_BOOLEAN_OR","||",415],["T_WHITESPACE"," ",415],"!",["T_STRING","is_string",415],"(",["T_VARIABLE","$url",415],")",["T_WHITESPACE"," ",415],["T_BOOLEAN_OR","||",415],["T_WHITESPACE"," ",415],"!",["T_STRING","Zend_Uri",415],["T_DOUBLE_COLON","::",415],["T_STRING","check",415],"(",["T_VARIABLE","$url",415],")",")",["T_WHITESPACE"," ",415],"{",["T_WHITESPACE","\n            ",415],["T_COMMENT","#require_once 'Zend\/Feed\/Pubsubhubbub\/Exception.php';\n",416],["T_WHITESPACE","            ",417],["T_THROW","throw",417],["T_WHITESPACE"," ",417],["T_NEW","new",417],["T_WHITESPACE"," ",417],["T_STRING","Zend_Feed_Pubsubhubbub_Exception",417],"(",["T_CONSTANT_ENCAPSED_STRING","'Invalid parameter \"url\"'",417],["T_WHITESPACE","\n                ",417],".",["T_WHITESPACE"," ",418],["T_CONSTANT_ENCAPSED_STRING","' of \"'",418],["T_WHITESPACE"," ",418],".",["T_WHITESPACE"," ",418],["T_VARIABLE","$url",418],["T_WHITESPACE"," ",418],".",["T_WHITESPACE"," ",418],["T_CONSTANT_ENCAPSED_STRING","'\" must be a non-empty string and a valid'",418],["T_WHITESPACE","\n                ",418],".",["T_WHITESPACE"," ",419],["T_CONSTANT_ENCAPSED_STRING","' URL'",419],")",";",["T_WHITESPACE","\n        ",419],"}",["T_WHITESPACE","\n        ",420],["T_VARIABLE","$this",421],["T_OBJECT_OPERATOR","->",421],["T_STRING","_authentications",421],"[",["T_VARIABLE","$url",421],"]",["T_WHITESPACE"," ",421],"=",["T_WHITESPACE"," ",421],["T_VARIABLE","$authentication",421],";",["T_WHITESPACE","\n        ",421],["T_RETURN","return",422],["T_WHITESPACE"," ",422],["T_VARIABLE","$this",422],";",["T_WHITESPACE","\n    ",422],"}",["T_WHITESPACE","\n\n    ",423],["T_DOC_COMMENT","\/**\n     * Add authentication credentials for hub URLs\n     *\n     * @param  array $authentications\n     * @return Zend_Feed_Pubsubhubbub_Subscriber\n     *\/",425],["T_WHITESPACE","\n    ",430],["T_PUBLIC","public",431],["T_WHITESPACE"," ",431],["T_FUNCTION","function",431],["T_WHITESPACE"," ",431],["T_STRING","addAuthentications",431],"(",["T_ARRAY","array",431],["T_WHITESPACE"," ",431],["T_VARIABLE","$authentications",431],")",["T_WHITESPACE","\n    ",431],"{",["T_WHITESPACE","\n        ",432],["T_FOREACH","foreach",433],["T_WHITESPACE"," ",433],"(",["T_VARIABLE","$authentications",433],["T_WHITESPACE"," ",433],["T_AS","as",433],["T_WHITESPACE"," ",433],["T_VARIABLE","$url",433],["T_WHITESPACE"," ",433],["T_DOUBLE_ARROW","=>",433],["T_WHITESPACE"," ",433],["T_VARIABLE","$authentication",433],")",["T_WHITESPACE"," ",433],"{",["T_WHITESPACE","\n            ",433],["T_VARIABLE","$this",434],["T_OBJECT_OPERATOR","->",434],["T_STRING","addAuthentication",434],"(",["T_VARIABLE","$url",434],",",["T_WHITESPACE"," ",434],["T_VARIABLE","$authentication",434],")",";",["T_WHITESPACE","\n        ",434],"}",["T_WHITESPACE","\n        ",435],["T_RETURN","return",436],["T_WHITESPACE"," ",436],["T_VARIABLE","$this",436],";",["T_WHITESPACE","\n    ",436],"}",["T_WHITESPACE","\n\n    ",437],["T_DOC_COMMENT","\/**\n     * Get all hub URL authentication credentials\n     *\n     * @return array\n     *\/",439],["T_WHITESPACE","\n    ",443],["T_PUBLIC","public",444],["T_WHITESPACE"," ",444],["T_FUNCTION","function",444],["T_WHITESPACE"," ",444],["T_STRING","getAuthentications",444],"(",")",["T_WHITESPACE","\n    ",444],"{",["T_WHITESPACE","\n        ",445],["T_RETURN","return",446],["T_WHITESPACE"," ",446],["T_VARIABLE","$this",446],["T_OBJECT_OPERATOR","->",446],["T_STRING","_authentications",446],";",["T_WHITESPACE","\n    ",446],"}",["T_WHITESPACE","\n\n    ",447],["T_DOC_COMMENT","\/**\n     * Set flag indicating whether or not to use a path parameter\n     *\n     * @param  bool $bool\n     * @return Zend_Feed_Pubsubhubbub_Subscriber\n     *\/",449],["T_WHITESPACE","\n    ",454],["T_PUBLIC","public",455],["T_WHITESPACE"," ",455],["T_FUNCTION","function",455],["T_WHITESPACE"," ",455],["T_STRING","usePathParameter",455],"(",["T_VARIABLE","$bool",455],["T_WHITESPACE"," ",455],"=",["T_WHITESPACE"," ",455],["T_STRING","true",455],")",["T_WHITESPACE","\n    ",455],"{",["T_WHITESPACE","\n        ",456],["T_VARIABLE","$this",457],["T_OBJECT_OPERATOR","->",457],["T_STRING","_usePathParameter",457],["T_WHITESPACE"," ",457],"=",["T_WHITESPACE"," ",457],["T_VARIABLE","$bool",457],";",["T_WHITESPACE","\n        ",457],["T_RETURN","return",458],["T_WHITESPACE"," ",458],["T_VARIABLE","$this",458],";",["T_WHITESPACE","\n    ",458],"}",["T_WHITESPACE","\n\n    ",459],["T_DOC_COMMENT","\/**\n     * Add an optional parameter to the (un)subscribe requests\n     *\n     * @param  string      $name\n     * @param  string|null $value\n     * @throws Zend_Feed_Pubsubhubbub_Exception\n     * @return Zend_Feed_Pubsubhubbub_Subscriber\n     *\/",461],["T_WHITESPACE","\n    ",468],["T_PUBLIC","public",469],["T_WHITESPACE"," ",469],["T_FUNCTION","function",469],["T_WHITESPACE"," ",469],["T_STRING","setParameter",469],"(",["T_VARIABLE","$name",469],",",["T_WHITESPACE"," ",469],["T_VARIABLE","$value",469],["T_WHITESPACE"," ",469],"=",["T_WHITESPACE"," ",469],["T_STRING","null",469],")",["T_WHITESPACE","\n    ",469],"{",["T_WHITESPACE","\n        ",470],["T_IF","if",471],["T_WHITESPACE"," ",471],"(",["T_STRING","is_array",471],"(",["T_VARIABLE","$name",471],")",")",["T_WHITESPACE"," ",471],"{",["T_WHITESPACE","\n            ",471],["T_VARIABLE","$this",472],["T_OBJECT_OPERATOR","->",472],["T_STRING","setParameters",472],"(",["T_VARIABLE","$name",472],")",";",["T_WHITESPACE","\n            ",472],["T_RETURN","return",473],["T_WHITESPACE"," ",473],["T_VARIABLE","$this",473],";",["T_WHITESPACE","\n        ",473],"}",["T_WHITESPACE","\n        ",474],["T_IF","if",475],["T_WHITESPACE"," ",475],"(",["T_EMPTY","empty",475],"(",["T_VARIABLE","$name",475],")",["T_WHITESPACE"," ",475],["T_BOOLEAN_OR","||",475],["T_WHITESPACE"," ",475],"!",["T_STRING","is_string",475],"(",["T_VARIABLE","$name",475],")",")",["T_WHITESPACE"," ",475],"{",["T_WHITESPACE","\n            ",475],["T_COMMENT","#require_once 'Zend\/Feed\/Pubsubhubbub\/Exception.php';\n",476],["T_WHITESPACE","            ",477],["T_THROW","throw",477],["T_WHITESPACE"," ",477],["T_NEW","new",477],["T_WHITESPACE"," ",477],["T_STRING","Zend_Feed_Pubsubhubbub_Exception",477],"(",["T_CONSTANT_ENCAPSED_STRING","'Invalid parameter \"name\"'",477],["T_WHITESPACE","\n                ",477],".",["T_WHITESPACE"," ",478],["T_CONSTANT_ENCAPSED_STRING","' of \"'",478],["T_WHITESPACE"," ",478],".",["T_WHITESPACE"," ",478],["T_VARIABLE","$name",478],["T_WHITESPACE"," ",478],".",["T_WHITESPACE"," ",478],["T_CONSTANT_ENCAPSED_STRING","'\" must be a non-empty string'",478],")",";",["T_WHITESPACE","\n        ",478],"}",["T_WHITESPACE","\n        ",479],["T_IF","if",480],["T_WHITESPACE"," ",480],"(",["T_VARIABLE","$value",480],["T_WHITESPACE"," ",480],["T_IS_IDENTICAL","===",480],["T_WHITESPACE"," ",480],["T_STRING","null",480],")",["T_WHITESPACE"," ",480],"{",["T_WHITESPACE","\n            ",480],["T_VARIABLE","$this",481],["T_OBJECT_OPERATOR","->",481],["T_STRING","removeParameter",481],"(",["T_VARIABLE","$name",481],")",";",["T_WHITESPACE","\n            ",481],["T_RETURN","return",482],["T_WHITESPACE"," ",482],["T_VARIABLE","$this",482],";",["T_WHITESPACE","\n        ",482],"}",["T_WHITESPACE","\n        ",483],["T_IF","if",484],["T_WHITESPACE"," ",484],"(",["T_EMPTY","empty",484],"(",["T_VARIABLE","$value",484],")",["T_WHITESPACE"," ",484],["T_BOOLEAN_OR","||",484],["T_WHITESPACE"," ",484],"(","!",["T_STRING","is_string",484],"(",["T_VARIABLE","$value",484],")",["T_WHITESPACE"," ",484],["T_BOOLEAN_AND","&&",484],["T_WHITESPACE"," ",484],["T_VARIABLE","$value",484],["T_WHITESPACE"," ",484],["T_IS_NOT_IDENTICAL","!==",484],["T_WHITESPACE"," ",484],["T_STRING","null",484],")",")",["T_WHITESPACE"," ",484],"{",["T_WHITESPACE","\n            ",484],["T_COMMENT","#require_once 'Zend\/Feed\/Pubsubhubbub\/Exception.php';\n",485],["T_WHITESPACE","            ",486],["T_THROW","throw",486],["T_WHITESPACE"," ",486],["T_NEW","new",486],["T_WHITESPACE"," ",486],["T_STRING","Zend_Feed_Pubsubhubbub_Exception",486],"(",["T_CONSTANT_ENCAPSED_STRING","'Invalid parameter \"value\"'",486],["T_WHITESPACE","\n                ",486],".",["T_WHITESPACE"," ",487],["T_CONSTANT_ENCAPSED_STRING","' of \"'",487],["T_WHITESPACE"," ",487],".",["T_WHITESPACE"," ",487],["T_VARIABLE","$value",487],["T_WHITESPACE"," ",487],".",["T_WHITESPACE"," ",487],["T_CONSTANT_ENCAPSED_STRING","'\" must be a non-empty string'",487],")",";",["T_WHITESPACE","\n        ",487],"}",["T_WHITESPACE","\n        ",488],["T_VARIABLE","$this",489],["T_OBJECT_OPERATOR","->",489],["T_STRING","_parameters",489],"[",["T_VARIABLE","$name",489],"]",["T_WHITESPACE"," ",489],"=",["T_WHITESPACE"," ",489],["T_VARIABLE","$value",489],";",["T_WHITESPACE","\n        ",489],["T_RETURN","return",490],["T_WHITESPACE"," ",490],["T_VARIABLE","$this",490],";",["T_WHITESPACE","\n    ",490],"}",["T_WHITESPACE","\n\n    ",491],["T_DOC_COMMENT","\/**\n     * Add an optional parameter to the (un)subscribe requests\n     *\n     * @param  array $parameters\n     * @throws Zend_Feed_Pubsubhubbub_Exception\n     * @return Zend_Feed_Pubsubhubbub_Subscriber\n     *\/",493],["T_WHITESPACE","\n    ",499],["T_PUBLIC","public",500],["T_WHITESPACE"," ",500],["T_FUNCTION","function",500],["T_WHITESPACE"," ",500],["T_STRING","setParameters",500],"(",["T_ARRAY","array",500],["T_WHITESPACE"," ",500],["T_VARIABLE","$parameters",500],")",["T_WHITESPACE","\n    ",500],"{",["T_WHITESPACE","\n        ",501],["T_FOREACH","foreach",502],["T_WHITESPACE"," ",502],"(",["T_VARIABLE","$parameters",502],["T_WHITESPACE"," ",502],["T_AS","as",502],["T_WHITESPACE"," ",502],["T_VARIABLE","$name",502],["T_WHITESPACE"," ",502],["T_DOUBLE_ARROW","=>",502],["T_WHITESPACE"," ",502],["T_VARIABLE","$value",502],")",["T_WHITESPACE"," ",502],"{",["T_WHITESPACE","\n            ",502],["T_VARIABLE","$this",503],["T_OBJECT_OPERATOR","->",503],["T_STRING","setParameter",503],"(",["T_VARIABLE","$name",503],",",["T_WHITESPACE"," ",503],["T_VARIABLE","$value",503],")",";",["T_WHITESPACE","\n        ",503],"}",["T_WHITESPACE","\n        ",504],["T_RETURN","return",505],["T_WHITESPACE"," ",505],["T_VARIABLE","$this",505],";",["T_WHITESPACE","\n    ",505],"}",["T_WHITESPACE","\n\n    ",506],["T_DOC_COMMENT","\/**\n     * Remove an optional parameter for the (un)subscribe requests\n     *\n     * @param  string $name\n     * @throws Zend_Feed_Pubsubhubbub_Exception\n     * @return Zend_Feed_Pubsubhubbub_Subscriber\n     *\/",508],["T_WHITESPACE","\n    ",514],["T_PUBLIC","public",515],["T_WHITESPACE"," ",515],["T_FUNCTION","function",515],["T_WHITESPACE"," ",515],["T_STRING","removeParameter",515],"(",["T_VARIABLE","$name",515],")",["T_WHITESPACE","\n    ",515],"{",["T_WHITESPACE","\n        ",516],["T_IF","if",517],["T_WHITESPACE"," ",517],"(",["T_EMPTY","empty",517],"(",["T_VARIABLE","$name",517],")",["T_WHITESPACE"," ",517],["T_BOOLEAN_OR","||",517],["T_WHITESPACE"," ",517],"!",["T_STRING","is_string",517],"(",["T_VARIABLE","$name",517],")",")",["T_WHITESPACE"," ",517],"{",["T_WHITESPACE","\n            ",517],["T_COMMENT","#require_once 'Zend\/Feed\/Pubsubhubbub\/Exception.php';\n",518],["T_WHITESPACE","            ",519],["T_THROW","throw",519],["T_WHITESPACE"," ",519],["T_NEW","new",519],["T_WHITESPACE"," ",519],["T_STRING","Zend_Feed_Pubsubhubbub_Exception",519],"(",["T_CONSTANT_ENCAPSED_STRING","'Invalid parameter \"name\"'",519],["T_WHITESPACE","\n                ",519],".",["T_WHITESPACE"," ",520],["T_CONSTANT_ENCAPSED_STRING","' of \"'",520],["T_WHITESPACE"," ",520],".",["T_WHITESPACE"," ",520],["T_VARIABLE","$name",520],["T_WHITESPACE"," ",520],".",["T_WHITESPACE"," ",520],["T_CONSTANT_ENCAPSED_STRING","'\" must be a non-empty string'",520],")",";",["T_WHITESPACE","\n        ",520],"}",["T_WHITESPACE","\n        ",521],["T_IF","if",522],["T_WHITESPACE"," ",522],"(",["T_STRING","array_key_exists",522],"(",["T_VARIABLE","$name",522],",",["T_WHITESPACE"," ",522],["T_VARIABLE","$this",522],["T_OBJECT_OPERATOR","->",522],["T_STRING","_parameters",522],")",")",["T_WHITESPACE"," ",522],"{",["T_WHITESPACE","\n            ",522],["T_UNSET","unset",523],"(",["T_VARIABLE","$this",523],["T_OBJECT_OPERATOR","->",523],["T_STRING","_parameters",523],"[",["T_VARIABLE","$name",523],"]",")",";",["T_WHITESPACE","\n        ",523],"}",["T_WHITESPACE","\n        ",524],["T_RETURN","return",525],["T_WHITESPACE"," ",525],["T_VARIABLE","$this",525],";",["T_WHITESPACE","\n    ",525],"}",["T_WHITESPACE","\n\n    ",526],["T_DOC_COMMENT","\/**\n     * Return an array of optional parameters for (un)subscribe requests\n     *\n     * @return array\n     *\/",528],["T_WHITESPACE","\n    ",532],["T_PUBLIC","public",533],["T_WHITESPACE"," ",533],["T_FUNCTION","function",533],["T_WHITESPACE"," ",533],["T_STRING","getParameters",533],"(",")",["T_WHITESPACE","\n    ",533],"{",["T_WHITESPACE","\n        ",534],["T_RETURN","return",535],["T_WHITESPACE"," ",535],["T_VARIABLE","$this",535],["T_OBJECT_OPERATOR","->",535],["T_STRING","_parameters",535],";",["T_WHITESPACE","\n    ",535],"}",["T_WHITESPACE","\n\n    ",536],["T_DOC_COMMENT","\/**\n     * Sets an instance of Zend_Feed_Pubsubhubbub_Model_SubscriptionInterface used to background\n     * save any verification tokens associated with a subscription or other.\n     *\n     * @param  Zend_Feed_Pubsubhubbub_Model_SubscriptionInterface $storage\n     * @return Zend_Feed_Pubsubhubbub_Subscriber\n     *\/",538],["T_WHITESPACE","\n    ",544],["T_PUBLIC","public",545],["T_WHITESPACE"," ",545],["T_FUNCTION","function",545],["T_WHITESPACE"," ",545],["T_STRING","setStorage",545],"(",["T_STRING","Zend_Feed_Pubsubhubbub_Model_SubscriptionInterface",545],["T_WHITESPACE"," ",545],["T_VARIABLE","$storage",545],")",["T_WHITESPACE","\n    ",545],"{",["T_WHITESPACE","\n        ",546],["T_VARIABLE","$this",547],["T_OBJECT_OPERATOR","->",547],["T_STRING","_storage",547],["T_WHITESPACE"," ",547],"=",["T_WHITESPACE"," ",547],["T_VARIABLE","$storage",547],";",["T_WHITESPACE","\n        ",547],["T_RETURN","return",548],["T_WHITESPACE"," ",548],["T_VARIABLE","$this",548],";",["T_WHITESPACE","\n    ",548],"}",["T_WHITESPACE","\n\n    ",549],["T_DOC_COMMENT","\/**\n     * Gets an instance of Zend_Feed_Pubsubhubbub_Storage_StorageInterface used\n     * to background save any verification tokens associated with a subscription\n     * or other.\n     *\n     * @throws Zend_Feed_Pubsubhubbub_Exception\n     * @return Zend_Feed_Pubsubhubbub_Model_SubscriptionInterface\n     *\/",551],["T_WHITESPACE","\n    ",558],["T_PUBLIC","public",559],["T_WHITESPACE"," ",559],["T_FUNCTION","function",559],["T_WHITESPACE"," ",559],["T_STRING","getStorage",559],"(",")",["T_WHITESPACE","\n    ",559],"{",["T_WHITESPACE","\n        ",560],["T_IF","if",561],["T_WHITESPACE"," ",561],"(",["T_VARIABLE","$this",561],["T_OBJECT_OPERATOR","->",561],["T_STRING","_storage",561],["T_WHITESPACE"," ",561],["T_IS_IDENTICAL","===",561],["T_WHITESPACE"," ",561],["T_STRING","null",561],")",["T_WHITESPACE"," ",561],"{",["T_WHITESPACE","\n            ",561],["T_COMMENT","#require_once 'Zend\/Feed\/Pubsubhubbub\/Exception.php';\n",562],["T_WHITESPACE","            ",563],["T_THROW","throw",563],["T_WHITESPACE"," ",563],["T_NEW","new",563],["T_WHITESPACE"," ",563],["T_STRING","Zend_Feed_Pubsubhubbub_Exception",563],"(",["T_CONSTANT_ENCAPSED_STRING","'No storage vehicle '",563],["T_WHITESPACE","\n                ",563],".",["T_WHITESPACE"," ",564],["T_CONSTANT_ENCAPSED_STRING","'has been set.'",564],")",";",["T_WHITESPACE","\n        ",564],"}",["T_WHITESPACE","\n        ",565],["T_RETURN","return",566],["T_WHITESPACE"," ",566],["T_VARIABLE","$this",566],["T_OBJECT_OPERATOR","->",566],["T_STRING","_storage",566],";",["T_WHITESPACE","\n    ",566],"}",["T_WHITESPACE","\n\n    ",567],["T_DOC_COMMENT","\/**\n     * Subscribe to one or more Hub Servers using the stored Hub URLs\n     * for the given Topic URL (RSS or Atom feed)\n     *\/",569],["T_WHITESPACE","\n    ",572],["T_PUBLIC","public",573],["T_WHITESPACE"," ",573],["T_FUNCTION","function",573],["T_WHITESPACE"," ",573],["T_STRING","subscribeAll",573],"(",")",["T_WHITESPACE","\n    ",573],"{",["T_WHITESPACE","\n        ",574],["T_RETURN","return",575],["T_WHITESPACE"," ",575],["T_VARIABLE","$this",575],["T_OBJECT_OPERATOR","->",575],["T_STRING","_doRequest",575],"(",["T_CONSTANT_ENCAPSED_STRING","'subscribe'",575],")",";",["T_WHITESPACE","\n    ",575],"}",["T_WHITESPACE","\n\n    ",576],["T_DOC_COMMENT","\/**\n     * Unsubscribe from one or more Hub Servers using the stored Hub URLs\n     * for the given Topic URL (RSS or Atom feed)\n     *\/",578],["T_WHITESPACE","\n    ",581],["T_PUBLIC","public",582],["T_WHITESPACE"," ",582],["T_FUNCTION","function",582],["T_WHITESPACE"," ",582],["T_STRING","unsubscribeAll",582],"(",")",["T_WHITESPACE","\n    ",582],"{",["T_WHITESPACE","\n        ",583],["T_RETURN","return",584],["T_WHITESPACE"," ",584],["T_VARIABLE","$this",584],["T_OBJECT_OPERATOR","->",584],["T_STRING","_doRequest",584],"(",["T_CONSTANT_ENCAPSED_STRING","'unsubscribe'",584],")",";",["T_WHITESPACE","\n    ",584],"}",["T_WHITESPACE","\n\n    ",585],["T_DOC_COMMENT","\/**\n     * Returns a boolean indicator of whether the notifications to Hub\n     * Servers were ALL successful. If even one failed, FALSE is returned.\n     *\n     * @return bool\n     *\/",587],["T_WHITESPACE","\n    ",592],["T_PUBLIC","public",593],["T_WHITESPACE"," ",593],["T_FUNCTION","function",593],["T_WHITESPACE"," ",593],["T_STRING","isSuccess",593],"(",")",["T_WHITESPACE","\n    ",593],"{",["T_WHITESPACE","\n        ",594],["T_IF","if",595],["T_WHITESPACE"," ",595],"(",["T_STRING","count",595],"(",["T_VARIABLE","$this",595],["T_OBJECT_OPERATOR","->",595],["T_STRING","_errors",595],")",["T_WHITESPACE"," ",595],">",["T_WHITESPACE"," ",595],["T_LNUMBER","0",595],")",["T_WHITESPACE"," ",595],"{",["T_WHITESPACE","\n            ",595],["T_RETURN","return",596],["T_WHITESPACE"," ",596],["T_STRING","false",596],";",["T_WHITESPACE","\n        ",596],"}",["T_WHITESPACE","\n        ",597],["T_RETURN","return",598],["T_WHITESPACE"," ",598],["T_STRING","true",598],";",["T_WHITESPACE","\n    ",598],"}",["T_WHITESPACE","\n\n    ",599],["T_DOC_COMMENT","\/**\n     * Return an array of errors met from any failures, including keys:\n     * 'response' => the Zend_Http_Response object from the failure\n     * 'hubUrl' => the URL of the Hub Server whose notification failed\n     *\n     * @return array\n     *\/",601],["T_WHITESPACE","\n    ",607],["T_PUBLIC","public",608],["T_WHITESPACE"," ",608],["T_FUNCTION","function",608],["T_WHITESPACE"," ",608],["T_STRING","getErrors",608],"(",")",["T_WHITESPACE","\n    ",608],"{",["T_WHITESPACE","\n        ",609],["T_RETURN","return",610],["T_WHITESPACE"," ",610],["T_VARIABLE","$this",610],["T_OBJECT_OPERATOR","->",610],["T_STRING","_errors",610],";",["T_WHITESPACE","\n    ",610],"}",["T_WHITESPACE","\n\n    ",611],["T_DOC_COMMENT","\/**\n     * Return an array of Hub Server URLs who returned a response indicating\n     * operation in Asynchronous Verification Mode, i.e. they will not confirm\n     * any (un)subscription immediately but at a later time (Hubs may be\n     * doing this as a batch process when load balancing)\n     *\n     * @return array\n     *\/",613],["T_WHITESPACE","\n    ",620],["T_PUBLIC","public",621],["T_WHITESPACE"," ",621],["T_FUNCTION","function",621],["T_WHITESPACE"," ",621],["T_STRING","getAsyncHubs",621],"(",")",["T_WHITESPACE","\n    ",621],"{",["T_WHITESPACE","\n        ",622],["T_RETURN","return",623],["T_WHITESPACE"," ",623],["T_VARIABLE","$this",623],["T_OBJECT_OPERATOR","->",623],["T_STRING","_asyncHubs",623],";",["T_WHITESPACE","\n    ",623],"}",["T_WHITESPACE","\n\n    ",624],["T_DOC_COMMENT","\/**\n     * Executes an (un)subscribe request\n     *\n     * @param  string $mode\n     * @throws Zend_Feed_Pubsubhubbub_Exception\n     * @throws Zend_Http_Client_Exception\n     *\/",626],["T_WHITESPACE","\n    ",632],["T_PROTECTED","protected",633],["T_WHITESPACE"," ",633],["T_FUNCTION","function",633],["T_WHITESPACE"," ",633],["T_STRING","_doRequest",633],"(",["T_VARIABLE","$mode",633],")",["T_WHITESPACE","\n    ",633],"{",["T_WHITESPACE","\n        ",634],["T_VARIABLE","$client",635],["T_WHITESPACE"," ",635],"=",["T_WHITESPACE"," ",635],["T_VARIABLE","$this",635],["T_OBJECT_OPERATOR","->",635],["T_STRING","_getHttpClient",635],"(",")",";",["T_WHITESPACE","\n        ",635],["T_VARIABLE","$hubs",636],["T_WHITESPACE","   ",636],"=",["T_WHITESPACE"," ",636],["T_VARIABLE","$this",636],["T_OBJECT_OPERATOR","->",636],["T_STRING","getHubUrls",636],"(",")",";",["T_WHITESPACE","\n        ",636],["T_IF","if",637],["T_WHITESPACE"," ",637],"(",["T_EMPTY","empty",637],"(",["T_VARIABLE","$hubs",637],")",")",["T_WHITESPACE"," ",637],"{",["T_WHITESPACE","\n            ",637],["T_COMMENT","#require_once 'Zend\/Feed\/Pubsubhubbub\/Exception.php';\n",638],["T_WHITESPACE","            ",639],["T_THROW","throw",639],["T_WHITESPACE"," ",639],["T_NEW","new",639],["T_WHITESPACE"," ",639],["T_STRING","Zend_Feed_Pubsubhubbub_Exception",639],"(",["T_CONSTANT_ENCAPSED_STRING","'No Hub Server URLs'",639],["T_WHITESPACE","\n                ",639],".",["T_WHITESPACE"," ",640],["T_CONSTANT_ENCAPSED_STRING","' have been set so no subscriptions can be attempted'",640],")",";",["T_WHITESPACE","\n        ",640],"}",["T_WHITESPACE","\n        ",641],["T_VARIABLE","$this",642],["T_OBJECT_OPERATOR","->",642],["T_STRING","_errors",642],["T_WHITESPACE"," ",642],"=",["T_WHITESPACE"," ",642],["T_ARRAY","array",642],"(",")",";",["T_WHITESPACE","\n        ",642],["T_VARIABLE","$this",643],["T_OBJECT_OPERATOR","->",643],["T_STRING","_asyncHubs",643],["T_WHITESPACE"," ",643],"=",["T_WHITESPACE"," ",643],["T_ARRAY","array",643],"(",")",";",["T_WHITESPACE","\n        ",643],["T_FOREACH","foreach",644],["T_WHITESPACE"," ",644],"(",["T_VARIABLE","$hubs",644],["T_WHITESPACE"," ",644],["T_AS","as",644],["T_WHITESPACE"," ",644],["T_VARIABLE","$url",644],")",["T_WHITESPACE"," ",644],"{",["T_WHITESPACE","\n            ",644],["T_IF","if",645],["T_WHITESPACE"," ",645],"(",["T_STRING","array_key_exists",645],"(",["T_VARIABLE","$url",645],",",["T_WHITESPACE"," ",645],["T_VARIABLE","$this",645],["T_OBJECT_OPERATOR","->",645],["T_STRING","_authentications",645],")",")",["T_WHITESPACE"," ",645],"{",["T_WHITESPACE","\n                ",645],["T_VARIABLE","$auth",646],["T_WHITESPACE"," ",646],"=",["T_WHITESPACE"," ",646],["T_VARIABLE","$this",646],["T_OBJECT_OPERATOR","->",646],["T_STRING","_authentications",646],"[",["T_VARIABLE","$url",646],"]",";",["T_WHITESPACE","\n                ",646],["T_VARIABLE","$client",647],["T_OBJECT_OPERATOR","->",647],["T_STRING","setAuth",647],"(",["T_VARIABLE","$auth",647],"[",["T_LNUMBER","0",647],"]",",",["T_WHITESPACE"," ",647],["T_VARIABLE","$auth",647],"[",["T_LNUMBER","1",647],"]",")",";",["T_WHITESPACE","\n            ",647],"}",["T_WHITESPACE","\n            ",648],["T_VARIABLE","$client",649],["T_OBJECT_OPERATOR","->",649],["T_STRING","setUri",649],"(",["T_VARIABLE","$url",649],")",";",["T_WHITESPACE","\n            ",649],["T_VARIABLE","$client",650],["T_OBJECT_OPERATOR","->",650],["T_STRING","setRawData",650],"(",["T_WHITESPACE","\n                ",650],["T_VARIABLE","$this",651],["T_OBJECT_OPERATOR","->",651],["T_STRING","_getRequestParameters",651],"(",["T_VARIABLE","$url",651],",",["T_WHITESPACE"," ",651],["T_VARIABLE","$mode",651],")",",",["T_WHITESPACE","\n                ",651],["T_CONSTANT_ENCAPSED_STRING","'application\/x-www-form-urlencoded'",652],["T_WHITESPACE","\n            ",652],")",";",["T_WHITESPACE","\n            ",653],["T_VARIABLE","$response",654],["T_WHITESPACE"," ",654],"=",["T_WHITESPACE"," ",654],["T_VARIABLE","$client",654],["T_OBJECT_OPERATOR","->",654],["T_STRING","request",654],"(",")",";",["T_WHITESPACE","\n            ",654],["T_IF","if",655],["T_WHITESPACE"," ",655],"(",["T_VARIABLE","$response",655],["T_OBJECT_OPERATOR","->",655],["T_STRING","getStatus",655],"(",")",["T_WHITESPACE"," ",655],["T_IS_NOT_IDENTICAL","!==",655],["T_WHITESPACE"," ",655],["T_LNUMBER","204",655],["T_WHITESPACE","\n                ",655],["T_BOOLEAN_AND","&&",656],["T_WHITESPACE"," ",656],["T_VARIABLE","$response",656],["T_OBJECT_OPERATOR","->",656],["T_STRING","getStatus",656],"(",")",["T_WHITESPACE"," ",656],["T_IS_NOT_IDENTICAL","!==",656],["T_WHITESPACE"," ",656],["T_LNUMBER","202",656],["T_WHITESPACE","\n            ",656],")",["T_WHITESPACE"," ",657],"{",["T_WHITESPACE","\n                ",657],["T_VARIABLE","$this",658],["T_OBJECT_OPERATOR","->",658],["T_STRING","_errors",658],"[","]",["T_WHITESPACE"," ",658],"=",["T_WHITESPACE"," ",658],["T_ARRAY","array",658],"(",["T_WHITESPACE","\n                    ",658],["T_CONSTANT_ENCAPSED_STRING","'response'",659],["T_WHITESPACE"," ",659],["T_DOUBLE_ARROW","=>",659],["T_WHITESPACE"," ",659],["T_VARIABLE","$response",659],",",["T_WHITESPACE","\n                    ",659],["T_CONSTANT_ENCAPSED_STRING","'hubUrl'",660],["T_WHITESPACE","   ",660],["T_DOUBLE_ARROW","=>",660],["T_WHITESPACE"," ",660],["T_VARIABLE","$url",660],",",["T_WHITESPACE","\n                ",660],")",";",["T_WHITESPACE","\n            ",661],["T_DOC_COMMENT","\/**\n             * At first I thought it was needed, but the backend storage will\n             * allow tracking async without any user interference. It's left\n             * here in case the user is interested in knowing what Hubs\n             * are using async verification modes so they may update Models and\n             * move these to asynchronous processes.\n             *\/",662],["T_WHITESPACE","\n            ",668],"}",["T_WHITESPACE"," ",669],["T_ELSEIF","elseif",669],["T_WHITESPACE"," ",669],"(",["T_VARIABLE","$response",669],["T_OBJECT_OPERATOR","->",669],["T_STRING","getStatus",669],"(",")",["T_WHITESPACE"," ",669],["T_IS_EQUAL","==",669],["T_WHITESPACE"," ",669],["T_LNUMBER","202",669],")",["T_WHITESPACE"," ",669],"{",["T_WHITESPACE","\n                ",669],["T_VARIABLE","$this",670],["T_OBJECT_OPERATOR","->",670],["T_STRING","_asyncHubs",670],"[","]",["T_WHITESPACE"," ",670],"=",["T_WHITESPACE"," ",670],["T_ARRAY","array",670],"(",["T_WHITESPACE","\n                    ",670],["T_CONSTANT_ENCAPSED_STRING","'response'",671],["T_WHITESPACE"," ",671],["T_DOUBLE_ARROW","=>",671],["T_WHITESPACE"," ",671],["T_VARIABLE","$response",671],",",["T_WHITESPACE","\n                    ",671],["T_CONSTANT_ENCAPSED_STRING","'hubUrl'",672],["T_WHITESPACE","   ",672],["T_DOUBLE_ARROW","=>",672],["T_WHITESPACE"," ",672],["T_VARIABLE","$url",672],",",["T_WHITESPACE","\n                ",672],")",";",["T_WHITESPACE","\n            ",673],"}",["T_WHITESPACE","\n        ",674],"}",["T_WHITESPACE","\n    ",675],"}",["T_WHITESPACE","\n\n    ",676],["T_DOC_COMMENT","\/**\n     * Get a basic prepared HTTP client for use\n     *\n     * @return Zend_Http_Client\n     *\/",678],["T_WHITESPACE","\n    ",682],["T_PROTECTED","protected",683],["T_WHITESPACE"," ",683],["T_FUNCTION","function",683],["T_WHITESPACE"," ",683],["T_STRING","_getHttpClient",683],"(",")",["T_WHITESPACE","\n    ",683],"{",["T_WHITESPACE","\n        ",684],["T_VARIABLE","$client",685],["T_WHITESPACE"," ",685],"=",["T_WHITESPACE"," ",685],["T_STRING","Zend_Feed_Pubsubhubbub",685],["T_DOUBLE_COLON","::",685],["T_STRING","getHttpClient",685],"(",")",";",["T_WHITESPACE","\n        ",685],["T_VARIABLE","$client",686],["T_OBJECT_OPERATOR","->",686],["T_STRING","setMethod",686],"(",["T_STRING","Zend_Http_Client",686],["T_DOUBLE_COLON","::",686],["T_STRING","POST",686],")",";",["T_WHITESPACE","\n        ",686],["T_VARIABLE","$client",687],["T_OBJECT_OPERATOR","->",687],["T_STRING","setConfig",687],"(",["T_ARRAY","array",687],"(",["T_CONSTANT_ENCAPSED_STRING","'useragent'",687],["T_WHITESPACE"," ",687],["T_DOUBLE_ARROW","=>",687],["T_WHITESPACE"," ",687],["T_CONSTANT_ENCAPSED_STRING","'Zend_Feed_Pubsubhubbub_Subscriber\/'",687],["T_WHITESPACE","\n            ",687],".",["T_WHITESPACE"," ",688],["T_STRING","Zend_Version",688],["T_DOUBLE_COLON","::",688],["T_STRING","VERSION",688],")",")",";",["T_WHITESPACE","\n        ",688],["T_RETURN","return",689],["T_WHITESPACE"," ",689],["T_VARIABLE","$client",689],";",["T_WHITESPACE","\n    ",689],"}",["T_WHITESPACE","\n\n    ",690],["T_DOC_COMMENT","\/**\n     * Return a list of standard protocol\/optional parameters for addition to\n     * client's POST body that are specific to the current Hub Server URL\n     *\n     * @param  string $hubUrl\n     * @param  string $mode\n     * @throws Zend_Feed_Pubsubhubbub_Exception\n     * @return string\n     *\/",692],["T_WHITESPACE","\n    ",700],["T_PROTECTED","protected",701],["T_WHITESPACE"," ",701],["T_FUNCTION","function",701],["T_WHITESPACE"," ",701],["T_STRING","_getRequestParameters",701],"(",["T_VARIABLE","$hubUrl",701],",",["T_WHITESPACE"," ",701],["T_VARIABLE","$mode",701],")",["T_WHITESPACE","\n    ",701],"{",["T_WHITESPACE","\n        ",702],["T_IF","if",703],["T_WHITESPACE"," ",703],"(","!",["T_STRING","in_array",703],"(",["T_VARIABLE","$mode",703],",",["T_WHITESPACE"," ",703],["T_ARRAY","array",703],"(",["T_CONSTANT_ENCAPSED_STRING","'subscribe'",703],",",["T_WHITESPACE"," ",703],["T_CONSTANT_ENCAPSED_STRING","'unsubscribe'",703],")",")",")",["T_WHITESPACE"," ",703],"{",["T_WHITESPACE","\n            ",703],["T_COMMENT","#require_once 'Zend\/Feed\/Pubsubhubbub\/Exception.php';\n",704],["T_WHITESPACE","            ",705],["T_THROW","throw",705],["T_WHITESPACE"," ",705],["T_NEW","new",705],["T_WHITESPACE"," ",705],["T_STRING","Zend_Feed_Pubsubhubbub_Exception",705],"(",["T_CONSTANT_ENCAPSED_STRING","'Invalid mode specified: \"'",705],["T_WHITESPACE","\n                ",705],".",["T_WHITESPACE"," ",706],["T_VARIABLE","$mode",706],["T_WHITESPACE"," ",706],".",["T_WHITESPACE"," ",706],["T_CONSTANT_ENCAPSED_STRING","'\" which should have been \"subscribe\" or \"unsubscribe\"'",706],")",";",["T_WHITESPACE","\n        ",706],"}",["T_WHITESPACE","\n\n        ",707],["T_VARIABLE","$params",709],["T_WHITESPACE"," ",709],"=",["T_WHITESPACE"," ",709],["T_ARRAY","array",709],"(",["T_WHITESPACE","\n            ",709],["T_CONSTANT_ENCAPSED_STRING","'hub.mode'",710],["T_WHITESPACE","  ",710],["T_DOUBLE_ARROW","=>",710],["T_WHITESPACE"," ",710],["T_VARIABLE","$mode",710],",",["T_WHITESPACE","\n            ",710],["T_CONSTANT_ENCAPSED_STRING","'hub.topic'",711],["T_WHITESPACE"," ",711],["T_DOUBLE_ARROW","=>",711],["T_WHITESPACE"," ",711],["T_VARIABLE","$this",711],["T_OBJECT_OPERATOR","->",711],["T_STRING","getTopicUrl",711],"(",")",",",["T_WHITESPACE","\n        ",711],")",";",["T_WHITESPACE","\n\n        ",712],["T_IF","if",714],["T_WHITESPACE"," ",714],"(",["T_VARIABLE","$this",714],["T_OBJECT_OPERATOR","->",714],["T_STRING","getPreferredVerificationMode",714],"(",")",["T_WHITESPACE","\n                ",714],["T_IS_EQUAL","==",715],["T_WHITESPACE"," ",715],["T_STRING","Zend_Feed_Pubsubhubbub",715],["T_DOUBLE_COLON","::",715],["T_STRING","VERIFICATION_MODE_SYNC",715],["T_WHITESPACE","\n        ",715],")",["T_WHITESPACE"," ",716],"{",["T_WHITESPACE","\n            ",716],["T_VARIABLE","$vmodes",717],["T_WHITESPACE"," ",717],"=",["T_WHITESPACE"," ",717],["T_ARRAY","array",717],"(",["T_WHITESPACE","\n                ",717],["T_STRING","Zend_Feed_Pubsubhubbub",718],["T_DOUBLE_COLON","::",718],["T_STRING","VERIFICATION_MODE_SYNC",718],",",["T_WHITESPACE","\n                ",718],["T_STRING","Zend_Feed_Pubsubhubbub",719],["T_DOUBLE_COLON","::",719],["T_STRING","VERIFICATION_MODE_ASYNC",719],",",["T_WHITESPACE","\n            ",719],")",";",["T_WHITESPACE","\n        ",720],"}",["T_WHITESPACE"," ",721],["T_ELSE","else",721],["T_WHITESPACE"," ",721],"{",["T_WHITESPACE","\n            ",721],["T_VARIABLE","$vmodes",722],["T_WHITESPACE"," ",722],"=",["T_WHITESPACE"," ",722],["T_ARRAY","array",722],"(",["T_WHITESPACE","\n                ",722],["T_STRING","Zend_Feed_Pubsubhubbub",723],["T_DOUBLE_COLON","::",723],["T_STRING","VERIFICATION_MODE_ASYNC",723],",",["T_WHITESPACE","\n                ",723],["T_STRING","Zend_Feed_Pubsubhubbub",724],["T_DOUBLE_COLON","::",724],["T_STRING","VERIFICATION_MODE_SYNC",724],",",["T_WHITESPACE","\n            ",724],")",";",["T_WHITESPACE","\n        ",725],"}",["T_WHITESPACE","\n        ",726],["T_VARIABLE","$params",727],"[",["T_CONSTANT_ENCAPSED_STRING","'hub.verify'",727],"]",["T_WHITESPACE"," ",727],"=",["T_WHITESPACE"," ",727],["T_ARRAY","array",727],"(",")",";",["T_WHITESPACE","\n        ",727],["T_FOREACH","foreach",728],"(",["T_VARIABLE","$vmodes",728],["T_WHITESPACE"," ",728],["T_AS","as",728],["T_WHITESPACE"," ",728],["T_VARIABLE","$vmode",728],")",["T_WHITESPACE"," ",728],"{",["T_WHITESPACE","\n            ",728],["T_VARIABLE","$params",729],"[",["T_CONSTANT_ENCAPSED_STRING","'hub.verify'",729],"]","[","]",["T_WHITESPACE"," ",729],"=",["T_WHITESPACE"," ",729],["T_VARIABLE","$vmode",729],";",["T_WHITESPACE","\n        ",729],"}",["T_WHITESPACE","\n\n        ",730],["T_DOC_COMMENT","\/**\n         * Establish a persistent verify_token and attach key to callback\n         * URL's path\/querystring\n         *\/",732],["T_WHITESPACE","\n        ",735],["T_VARIABLE","$key",736],["T_WHITESPACE","   ",736],"=",["T_WHITESPACE"," ",736],["T_VARIABLE","$this",736],["T_OBJECT_OPERATOR","->",736],["T_STRING","_generateSubscriptionKey",736],"(",["T_VARIABLE","$params",736],",",["T_WHITESPACE"," ",736],["T_VARIABLE","$hubUrl",736],")",";",["T_WHITESPACE","\n        ",736],["T_VARIABLE","$token",737],["T_WHITESPACE"," ",737],"=",["T_WHITESPACE"," ",737],["T_VARIABLE","$this",737],["T_OBJECT_OPERATOR","->",737],["T_STRING","_generateVerifyToken",737],"(",")",";",["T_WHITESPACE","\n        ",737],["T_VARIABLE","$params",738],"[",["T_CONSTANT_ENCAPSED_STRING","'hub.verify_token'",738],"]",["T_WHITESPACE"," ",738],"=",["T_WHITESPACE"," ",738],["T_VARIABLE","$token",738],";",["T_WHITESPACE","\n\n        ",738],["T_COMMENT","\/\/ Note: query string only usable with PuSH 0.2 Hubs\n",740],["T_WHITESPACE","        ",741],["T_IF","if",741],["T_WHITESPACE"," ",741],"(","!",["T_VARIABLE","$this",741],["T_OBJECT_OPERATOR","->",741],["T_STRING","_usePathParameter",741],")",["T_WHITESPACE"," ",741],"{",["T_WHITESPACE","\n            ",741],["T_VARIABLE","$params",742],"[",["T_CONSTANT_ENCAPSED_STRING","'hub.callback'",742],"]",["T_WHITESPACE"," ",742],"=",["T_WHITESPACE"," ",742],["T_VARIABLE","$this",742],["T_OBJECT_OPERATOR","->",742],["T_STRING","getCallbackUrl",742],"(",")",["T_WHITESPACE","\n                ",742],".",["T_WHITESPACE"," ",743],["T_CONSTANT_ENCAPSED_STRING","'?xhub.subscription='",743],["T_WHITESPACE"," ",743],".",["T_WHITESPACE"," ",743],["T_STRING","Zend_Feed_Pubsubhubbub",743],["T_DOUBLE_COLON","::",743],["T_STRING","urlencode",743],"(",["T_VARIABLE","$key",743],")",";",["T_WHITESPACE","\n        ",743],"}",["T_WHITESPACE"," ",744],["T_ELSE","else",744],["T_WHITESPACE"," ",744],"{",["T_WHITESPACE","\n            ",744],["T_VARIABLE","$params",745],"[",["T_CONSTANT_ENCAPSED_STRING","'hub.callback'",745],"]",["T_WHITESPACE"," ",745],"=",["T_WHITESPACE"," ",745],["T_STRING","rtrim",745],"(",["T_VARIABLE","$this",745],["T_OBJECT_OPERATOR","->",745],["T_STRING","getCallbackUrl",745],"(",")",",",["T_WHITESPACE"," ",745],["T_CONSTANT_ENCAPSED_STRING","'\/'",745],")",["T_WHITESPACE","\n                ",745],".",["T_WHITESPACE"," ",746],["T_CONSTANT_ENCAPSED_STRING","'\/'",746],["T_WHITESPACE"," ",746],".",["T_WHITESPACE"," ",746],["T_STRING","Zend_Feed_Pubsubhubbub",746],["T_DOUBLE_COLON","::",746],["T_STRING","urlencode",746],"(",["T_VARIABLE","$key",746],")",";",["T_WHITESPACE","\n        ",746],"}",["T_WHITESPACE","\n        ",747],["T_IF","if",748],["T_WHITESPACE"," ",748],"(",["T_VARIABLE","$mode",748],["T_WHITESPACE"," ",748],["T_IS_EQUAL","==",748],["T_WHITESPACE"," ",748],["T_CONSTANT_ENCAPSED_STRING","'subscribe'",748],["T_WHITESPACE"," ",748],["T_BOOLEAN_AND","&&",748],["T_WHITESPACE"," ",748],["T_VARIABLE","$this",748],["T_OBJECT_OPERATOR","->",748],["T_STRING","getLeaseSeconds",748],"(",")",["T_WHITESPACE"," ",748],["T_IS_NOT_IDENTICAL","!==",748],["T_WHITESPACE"," ",748],["T_STRING","null",748],")",["T_WHITESPACE"," ",748],"{",["T_WHITESPACE","\n            ",748],["T_VARIABLE","$params",749],"[",["T_CONSTANT_ENCAPSED_STRING","'hub.lease_seconds'",749],"]",["T_WHITESPACE"," ",749],"=",["T_WHITESPACE"," ",749],["T_VARIABLE","$this",749],["T_OBJECT_OPERATOR","->",749],["T_STRING","getLeaseSeconds",749],"(",")",";",["T_WHITESPACE","\n        ",749],"}",["T_WHITESPACE","\n\n        ",750],["T_COMMENT","\/\/ hub.secret not currently supported\n",752],["T_WHITESPACE","        ",753],["T_VARIABLE","$optParams",753],["T_WHITESPACE"," ",753],"=",["T_WHITESPACE"," ",753],["T_VARIABLE","$this",753],["T_OBJECT_OPERATOR","->",753],["T_STRING","getParameters",753],"(",")",";",["T_WHITESPACE","\n        ",753],["T_FOREACH","foreach",754],["T_WHITESPACE"," ",754],"(",["T_VARIABLE","$optParams",754],["T_WHITESPACE"," ",754],["T_AS","as",754],["T_WHITESPACE"," ",754],["T_VARIABLE","$name",754],["T_WHITESPACE"," ",754],["T_DOUBLE_ARROW","=>",754],["T_WHITESPACE"," ",754],["T_VARIABLE","$value",754],")",["T_WHITESPACE"," ",754],"{",["T_WHITESPACE","\n            ",754],["T_VARIABLE","$params",755],"[",["T_VARIABLE","$name",755],"]",["T_WHITESPACE"," ",755],"=",["T_WHITESPACE"," ",755],["T_VARIABLE","$value",755],";",["T_WHITESPACE","\n        ",755],"}",["T_WHITESPACE","\n\n        ",756],["T_COMMENT","\/\/ store subscription to storage\n",758],["T_WHITESPACE","        ",759],["T_VARIABLE","$now",759],["T_WHITESPACE"," ",759],"=",["T_WHITESPACE"," ",759],["T_NEW","new",759],["T_WHITESPACE"," ",759],["T_STRING","Zend_Date",759],";",["T_WHITESPACE","\n        ",759],["T_VARIABLE","$expires",760],["T_WHITESPACE"," ",760],"=",["T_WHITESPACE"," ",760],["T_STRING","null",760],";",["T_WHITESPACE","\n        ",760],["T_IF","if",761],["T_WHITESPACE"," ",761],"(",["T_ISSET","isset",761],"(",["T_VARIABLE","$params",761],"[",["T_CONSTANT_ENCAPSED_STRING","'hub.lease_seconds'",761],"]",")",")",["T_WHITESPACE"," ",761],"{",["T_WHITESPACE","\n            ",761],["T_VARIABLE","$expires",762],["T_WHITESPACE"," ",762],"=",["T_WHITESPACE"," ",762],["T_VARIABLE","$now",762],["T_OBJECT_OPERATOR","->",762],["T_STRING","add",762],"(",["T_VARIABLE","$params",762],"[",["T_CONSTANT_ENCAPSED_STRING","'hub.lease_seconds'",762],"]",",",["T_WHITESPACE"," ",762],["T_STRING","Zend_Date",762],["T_DOUBLE_COLON","::",762],["T_STRING","SECOND",762],")",["T_WHITESPACE","\n                ",762],["T_OBJECT_OPERATOR","->",763],["T_STRING","get",763],"(",["T_CONSTANT_ENCAPSED_STRING","'yyyy-MM-dd HH:mm:ss'",763],")",";",["T_WHITESPACE","\n        ",763],"}",["T_WHITESPACE","\n        ",764],["T_VARIABLE","$data",765],["T_WHITESPACE"," ",765],"=",["T_WHITESPACE"," ",765],["T_ARRAY","array",765],"(",["T_WHITESPACE","\n            ",765],["T_CONSTANT_ENCAPSED_STRING","'id'",766],["T_WHITESPACE","                 ",766],["T_DOUBLE_ARROW","=>",766],["T_WHITESPACE"," ",766],["T_VARIABLE","$key",766],",",["T_WHITESPACE","\n            ",766],["T_CONSTANT_ENCAPSED_STRING","'topic_url'",767],["T_WHITESPACE","          ",767],["T_DOUBLE_ARROW","=>",767],["T_WHITESPACE"," ",767],["T_VARIABLE","$params",767],"[",["T_CONSTANT_ENCAPSED_STRING","'hub.topic'",767],"]",",",["T_WHITESPACE","\n            ",767],["T_CONSTANT_ENCAPSED_STRING","'hub_url'",768],["T_WHITESPACE","            ",768],["T_DOUBLE_ARROW","=>",768],["T_WHITESPACE"," ",768],["T_VARIABLE","$hubUrl",768],",",["T_WHITESPACE","\n            ",768],["T_CONSTANT_ENCAPSED_STRING","'created_time'",769],["T_WHITESPACE","       ",769],["T_DOUBLE_ARROW","=>",769],["T_WHITESPACE"," ",769],["T_VARIABLE","$now",769],["T_OBJECT_OPERATOR","->",769],["T_STRING","get",769],"(",["T_CONSTANT_ENCAPSED_STRING","'yyyy-MM-dd HH:mm:ss'",769],")",",",["T_WHITESPACE","\n            ",769],["T_CONSTANT_ENCAPSED_STRING","'lease_seconds'",770],["T_WHITESPACE","      ",770],["T_DOUBLE_ARROW","=>",770],["T_WHITESPACE"," ",770],["T_VARIABLE","$expires",770],",",["T_WHITESPACE","\n            ",770],["T_CONSTANT_ENCAPSED_STRING","'verify_token'",771],["T_WHITESPACE","       ",771],["T_DOUBLE_ARROW","=>",771],["T_WHITESPACE"," ",771],["T_STRING","hash",771],"(",["T_CONSTANT_ENCAPSED_STRING","'sha256'",771],",",["T_WHITESPACE"," ",771],["T_VARIABLE","$params",771],"[",["T_CONSTANT_ENCAPSED_STRING","'hub.verify_token'",771],"]",")",",",["T_WHITESPACE","\n            ",771],["T_CONSTANT_ENCAPSED_STRING","'secret'",772],["T_WHITESPACE","             ",772],["T_DOUBLE_ARROW","=>",772],["T_WHITESPACE"," ",772],["T_STRING","null",772],",",["T_WHITESPACE","\n            ",772],["T_CONSTANT_ENCAPSED_STRING","'expiration_time'",773],["T_WHITESPACE","    ",773],["T_DOUBLE_ARROW","=>",773],["T_WHITESPACE"," ",773],["T_VARIABLE","$expires",773],",",["T_WHITESPACE","\n            ",773],["T_CONSTANT_ENCAPSED_STRING","'subscription_state'",774],["T_WHITESPACE"," ",774],["T_DOUBLE_ARROW","=>",774],["T_WHITESPACE"," ",774],["T_STRING","Zend_Feed_Pubsubhubbub",774],["T_DOUBLE_COLON","::",774],["T_STRING","SUBSCRIPTION_NOTVERIFIED",774],",",["T_WHITESPACE","\n        ",774],")",";",["T_WHITESPACE","\n        ",775],["T_VARIABLE","$this",776],["T_OBJECT_OPERATOR","->",776],["T_STRING","getStorage",776],"(",")",["T_OBJECT_OPERATOR","->",776],["T_STRING","setSubscription",776],"(",["T_VARIABLE","$data",776],")",";",["T_WHITESPACE","\n\n        ",776],["T_RETURN","return",778],["T_WHITESPACE"," ",778],["T_VARIABLE","$this",778],["T_OBJECT_OPERATOR","->",778],["T_STRING","_toByteValueOrderedString",778],"(",["T_WHITESPACE","\n            ",778],["T_VARIABLE","$this",779],["T_OBJECT_OPERATOR","->",779],["T_STRING","_urlEncode",779],"(",["T_VARIABLE","$params",779],")",["T_WHITESPACE","\n        ",779],")",";",["T_WHITESPACE","\n    ",780],"}",["T_WHITESPACE","\n\n    ",781],["T_DOC_COMMENT","\/**\n     * Simple helper to generate a verification token used in (un)subscribe\n     * requests to a Hub Server. Follows no particular method, which means\n     * it might be improved\/changed in future.\n     *\n     * @return string\n     *\/",783],["T_WHITESPACE","\n    ",789],["T_PROTECTED","protected",790],["T_WHITESPACE"," ",790],["T_FUNCTION","function",790],["T_WHITESPACE"," ",790],["T_STRING","_generateVerifyToken",790],"(",")",["T_WHITESPACE","\n    ",790],"{",["T_WHITESPACE","\n        ",791],["T_IF","if",792],["T_WHITESPACE"," ",792],"(","!",["T_EMPTY","empty",792],"(",["T_VARIABLE","$this",792],["T_OBJECT_OPERATOR","->",792],["T_STRING","_testStaticToken",792],")",")",["T_WHITESPACE"," ",792],"{",["T_WHITESPACE","\n            ",792],["T_RETURN","return",793],["T_WHITESPACE"," ",793],["T_VARIABLE","$this",793],["T_OBJECT_OPERATOR","->",793],["T_STRING","_testStaticToken",793],";",["T_WHITESPACE","\n        ",793],"}",["T_WHITESPACE","\n        ",794],["T_RETURN","return",795],["T_WHITESPACE"," ",795],["T_STRING","uniqid",795],"(",["T_STRING","rand",795],"(",")",",",["T_WHITESPACE"," ",795],["T_STRING","true",795],")",["T_WHITESPACE"," ",795],".",["T_WHITESPACE"," ",795],["T_STRING","time",795],"(",")",";",["T_WHITESPACE","\n    ",795],"}",["T_WHITESPACE","\n\n    ",796],["T_DOC_COMMENT","\/**\n     * Simple helper to generate a verification token used in (un)subscribe\n     * requests to a Hub Server.\n     *\n     * @param  array  $params\n     * @param  string $hubUrl The Hub Server URL for which this token will apply\n     * @return string\n     *\/",798],["T_WHITESPACE","\n    ",805],["T_PROTECTED","protected",806],["T_WHITESPACE"," ",806],["T_FUNCTION","function",806],["T_WHITESPACE"," ",806],["T_STRING","_generateSubscriptionKey",806],"(",["T_ARRAY","array",806],["T_WHITESPACE"," ",806],["T_VARIABLE","$params",806],",",["T_WHITESPACE"," ",806],["T_VARIABLE","$hubUrl",806],")",["T_WHITESPACE","\n    ",806],"{",["T_WHITESPACE","\n        ",807],["T_VARIABLE","$keyBase",808],["T_WHITESPACE"," ",808],"=",["T_WHITESPACE"," ",808],["T_VARIABLE","$params",808],"[",["T_CONSTANT_ENCAPSED_STRING","'hub.topic'",808],"]",["T_WHITESPACE"," ",808],".",["T_WHITESPACE"," ",808],["T_VARIABLE","$hubUrl",808],";",["T_WHITESPACE","\n        ",808],["T_VARIABLE","$key",809],["T_WHITESPACE","     ",809],"=",["T_WHITESPACE"," ",809],["T_STRING","md5",809],"(",["T_VARIABLE","$keyBase",809],")",";",["T_WHITESPACE","\n        ",809],["T_RETURN","return",810],["T_WHITESPACE"," ",810],["T_VARIABLE","$key",810],";",["T_WHITESPACE","\n    ",810],"}",["T_WHITESPACE","\n\n    ",811],["T_DOC_COMMENT","\/**\n     * URL Encode an array of parameters\n     *\n     * @param  array $params\n     * @return array\n     *\/",813],["T_WHITESPACE","\n    ",818],["T_PROTECTED","protected",819],["T_WHITESPACE"," ",819],["T_FUNCTION","function",819],["T_WHITESPACE"," ",819],["T_STRING","_urlEncode",819],"(",["T_ARRAY","array",819],["T_WHITESPACE"," ",819],["T_VARIABLE","$params",819],")",["T_WHITESPACE","\n    ",819],"{",["T_WHITESPACE","\n        ",820],["T_VARIABLE","$encoded",821],["T_WHITESPACE"," ",821],"=",["T_WHITESPACE"," ",821],["T_ARRAY","array",821],"(",")",";",["T_WHITESPACE","\n        ",821],["T_FOREACH","foreach",822],["T_WHITESPACE"," ",822],"(",["T_VARIABLE","$params",822],["T_WHITESPACE"," ",822],["T_AS","as",822],["T_WHITESPACE"," ",822],["T_VARIABLE","$key",822],["T_WHITESPACE"," ",822],["T_DOUBLE_ARROW","=>",822],["T_WHITESPACE"," ",822],["T_VARIABLE","$value",822],")",["T_WHITESPACE"," ",822],"{",["T_WHITESPACE","\n            ",822],["T_IF","if",823],["T_WHITESPACE"," ",823],"(",["T_STRING","is_array",823],"(",["T_VARIABLE","$value",823],")",")",["T_WHITESPACE"," ",823],"{",["T_WHITESPACE","\n                ",823],["T_VARIABLE","$ekey",824],["T_WHITESPACE"," ",824],"=",["T_WHITESPACE"," ",824],["T_STRING","Zend_Feed_Pubsubhubbub",824],["T_DOUBLE_COLON","::",824],["T_STRING","urlencode",824],"(",["T_VARIABLE","$key",824],")",";",["T_WHITESPACE","\n                ",824],["T_VARIABLE","$encoded",825],"[",["T_VARIABLE","$ekey",825],"]",["T_WHITESPACE"," ",825],"=",["T_WHITESPACE"," ",825],["T_ARRAY","array",825],"(",")",";",["T_WHITESPACE","\n                ",825],["T_FOREACH","foreach",826],["T_WHITESPACE"," ",826],"(",["T_VARIABLE","$value",826],["T_WHITESPACE"," ",826],["T_AS","as",826],["T_WHITESPACE"," ",826],["T_VARIABLE","$duplicateKey",826],")",["T_WHITESPACE"," ",826],"{",["T_WHITESPACE","\n                    ",826],["T_VARIABLE","$encoded",827],"[",["T_VARIABLE","$ekey",827],"]","[","]",["T_WHITESPACE","\n                        ",827],"=",["T_WHITESPACE"," ",828],["T_STRING","Zend_Feed_Pubsubhubbub",828],["T_DOUBLE_COLON","::",828],["T_STRING","urlencode",828],"(",["T_VARIABLE","$duplicateKey",828],")",";",["T_WHITESPACE","\n                ",828],"}",["T_WHITESPACE","\n            ",829],"}",["T_WHITESPACE"," ",830],["T_ELSE","else",830],["T_WHITESPACE"," ",830],"{",["T_WHITESPACE","\n                ",830],["T_VARIABLE","$encoded",831],"[",["T_STRING","Zend_Feed_Pubsubhubbub",831],["T_DOUBLE_COLON","::",831],["T_STRING","urlencode",831],"(",["T_VARIABLE","$key",831],")","]",["T_WHITESPACE","\n                    ",831],"=",["T_WHITESPACE"," ",832],["T_STRING","Zend_Feed_Pubsubhubbub",832],["T_DOUBLE_COLON","::",832],["T_STRING","urlencode",832],"(",["T_VARIABLE","$value",832],")",";",["T_WHITESPACE","\n            ",832],"}",["T_WHITESPACE","\n        ",833],"}",["T_WHITESPACE","\n        ",834],["T_RETURN","return",835],["T_WHITESPACE"," ",835],["T_VARIABLE","$encoded",835],";",["T_WHITESPACE","\n    ",835],"}",["T_WHITESPACE","\n\n    ",836],["T_DOC_COMMENT","\/**\n     * Order outgoing parameters\n     *\n     * @param  array $params\n     * @return array\n     *\/",838],["T_WHITESPACE","\n    ",843],["T_PROTECTED","protected",844],["T_WHITESPACE"," ",844],["T_FUNCTION","function",844],["T_WHITESPACE"," ",844],["T_STRING","_toByteValueOrderedString",844],"(",["T_ARRAY","array",844],["T_WHITESPACE"," ",844],["T_VARIABLE","$params",844],")",["T_WHITESPACE","\n    ",844],"{",["T_WHITESPACE","\n        ",845],["T_VARIABLE","$return",846],["T_WHITESPACE"," ",846],"=",["T_WHITESPACE"," ",846],["T_ARRAY","array",846],"(",")",";",["T_WHITESPACE","\n        ",846],["T_STRING","uksort",847],"(",["T_VARIABLE","$params",847],",",["T_WHITESPACE"," ",847],["T_CONSTANT_ENCAPSED_STRING","'strnatcmp'",847],")",";",["T_WHITESPACE","\n        ",847],["T_FOREACH","foreach",848],["T_WHITESPACE"," ",848],"(",["T_VARIABLE","$params",848],["T_WHITESPACE"," ",848],["T_AS","as",848],["T_WHITESPACE"," ",848],["T_VARIABLE","$key",848],["T_WHITESPACE"," ",848],["T_DOUBLE_ARROW","=>",848],["T_WHITESPACE"," ",848],["T_VARIABLE","$value",848],")",["T_WHITESPACE"," ",848],"{",["T_WHITESPACE","\n            ",848],["T_IF","if",849],["T_WHITESPACE"," ",849],"(",["T_STRING","is_array",849],"(",["T_VARIABLE","$value",849],")",")",["T_WHITESPACE"," ",849],"{",["T_WHITESPACE","\n                ",849],["T_FOREACH","foreach",850],["T_WHITESPACE"," ",850],"(",["T_VARIABLE","$value",850],["T_WHITESPACE"," ",850],["T_AS","as",850],["T_WHITESPACE"," ",850],["T_VARIABLE","$keyduplicate",850],")",["T_WHITESPACE"," ",850],"{",["T_WHITESPACE","\n                    ",850],["T_VARIABLE","$return",851],"[","]",["T_WHITESPACE"," ",851],"=",["T_WHITESPACE"," ",851],["T_VARIABLE","$key",851],["T_WHITESPACE"," ",851],".",["T_WHITESPACE"," ",851],["T_CONSTANT_ENCAPSED_STRING","'='",851],["T_WHITESPACE"," ",851],".",["T_WHITESPACE"," ",851],["T_VARIABLE","$keyduplicate",851],";",["T_WHITESPACE","\n                ",851],"}",["T_WHITESPACE","\n            ",852],"}",["T_WHITESPACE"," ",853],["T_ELSE","else",853],["T_WHITESPACE"," ",853],"{",["T_WHITESPACE","\n                ",853],["T_VARIABLE","$return",854],"[","]",["T_WHITESPACE"," ",854],"=",["T_WHITESPACE"," ",854],["T_VARIABLE","$key",854],["T_WHITESPACE"," ",854],".",["T_WHITESPACE"," ",854],["T_CONSTANT_ENCAPSED_STRING","'='",854],["T_WHITESPACE"," ",854],".",["T_WHITESPACE"," ",854],["T_VARIABLE","$value",854],";",["T_WHITESPACE","\n            ",854],"}",["T_WHITESPACE","\n        ",855],"}",["T_WHITESPACE","\n        ",856],["T_RETURN","return",857],["T_WHITESPACE"," ",857],["T_STRING","implode",857],"(",["T_CONSTANT_ENCAPSED_STRING","'&'",857],",",["T_WHITESPACE"," ",857],["T_VARIABLE","$return",857],")",";",["T_WHITESPACE","\n    ",857],"}",["T_WHITESPACE","\n\n    ",858],["T_DOC_COMMENT","\/**\n     * This is STRICTLY for testing purposes only...\n     *\/",860],["T_WHITESPACE","\n    ",862],["T_PROTECTED","protected",863],["T_WHITESPACE"," ",863],["T_VARIABLE","$_testStaticToken",863],["T_WHITESPACE"," ",863],"=",["T_WHITESPACE"," ",863],["T_STRING","null",863],";",["T_WHITESPACE","\n\n    ",863],["T_FINAL","final",865],["T_WHITESPACE"," ",865],["T_PUBLIC","public",865],["T_WHITESPACE"," ",865],["T_FUNCTION","function",865],["T_WHITESPACE"," ",865],["T_STRING","setTestStaticToken",865],"(",["T_VARIABLE","$token",865],")",["T_WHITESPACE","\n    ",865],"{",["T_WHITESPACE","\n        ",866],["T_VARIABLE","$this",867],["T_OBJECT_OPERATOR","->",867],["T_STRING","_testStaticToken",867],["T_WHITESPACE"," ",867],"=",["T_WHITESPACE"," ",867],["T_STRING_CAST","(string)",867],["T_WHITESPACE"," ",867],["T_VARIABLE","$token",867],";",["T_WHITESPACE","\n    ",867],"}",["T_WHITESPACE","\n",868],"}",["T_WHITESPACE","\n",869]]