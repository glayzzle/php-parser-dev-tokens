[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Zend Framework\n *\n * LICENSE\n *\n * This source file is subject to the new BSD license that is bundled\n * with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/framework.zend.com\/license\/new-bsd\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@zend.com so we can send you a copy immediately.\n *\n * @category   Zend\n * @package    Zend_Gdata\n * @subpackage Gdata\n * @copyright  Copyright (c) 2005-2015 Zend Technologies USA Inc. (http:\/\/www.zend.com)\n * @license    http:\/\/framework.zend.com\/license\/new-bsd     New BSD License\n * @version    $Id$\n *\/",2],["T_WHITESPACE","\n\n",21],["T_DOC_COMMENT","\/**\n * Zend_Http_Client\n *\/",23],["T_WHITESPACE","\n",25],["T_COMMENT","#require_once 'Zend\/Http\/Client.php';\n",26],["T_WHITESPACE","\n",27],["T_DOC_COMMENT","\/**\n * Gdata Http Client object.\n *\n * Class to extend the generic Zend Http Client with the ability to perform\n * secure AuthSub requests\n *\n * @category   Zend\n * @package    Zend_Gdata\n * @subpackage Gdata\n * @copyright  Copyright (c) 2005-2015 Zend Technologies USA Inc. (http:\/\/www.zend.com)\n * @license    http:\/\/framework.zend.com\/license\/new-bsd     New BSD License\n *\/",28],["T_WHITESPACE","\n",39],["T_CLASS","class",40],["T_WHITESPACE"," ",40],["T_STRING","Zend_Gdata_HttpClient",40],["T_WHITESPACE"," ",40],["T_EXTENDS","extends",40],["T_WHITESPACE"," ",40],["T_STRING","Zend_Http_Client",40],["T_WHITESPACE","\n",40],"{",["T_WHITESPACE","\n\n    ",41],["T_DOC_COMMENT","\/**\n     * OpenSSL private key resource id\n     * This key is used for AuthSub authentication.  If this value is set,\n     * it is assuemd that secure AuthSub is desired.\n     *\n     * @var resource\n     *\/",43],["T_WHITESPACE","\n    ",49],["T_PRIVATE","private",50],["T_WHITESPACE"," ",50],["T_VARIABLE","$_authSubPrivateKeyId",50],["T_WHITESPACE"," ",50],"=",["T_WHITESPACE"," ",50],["T_STRING","null",50],";",["T_WHITESPACE","\n\n    ",50],["T_DOC_COMMENT","\/**\n     * Token for AuthSub authentication.\n     * If this token is set, AuthSub authentication is used.\n     *\n     * @var string\n     *\/",52],["T_WHITESPACE","\n    ",57],["T_PRIVATE","private",58],["T_WHITESPACE"," ",58],["T_VARIABLE","$_authSubToken",58],["T_WHITESPACE"," ",58],"=",["T_WHITESPACE"," ",58],["T_STRING","null",58],";",["T_WHITESPACE","\n\n    ",58],["T_DOC_COMMENT","\/**\n     * Token for ClientLogin authentication.\n     * If only this token is set, ClientLogin authentication is used.\n     *\n     * @var string\n     *\/",60],["T_WHITESPACE","\n    ",65],["T_PRIVATE","private",66],["T_WHITESPACE"," ",66],["T_VARIABLE","$_clientLoginToken",66],["T_WHITESPACE"," ",66],"=",["T_WHITESPACE"," ",66],["T_STRING","null",66],";",["T_WHITESPACE","\n\n    ",66],["T_DOC_COMMENT","\/**\n     * Token for ClientLogin authentication.\n     * If this token is set, and the AuthSub key is not set,\n     * ClientLogin authentication is used\n     *\n     * @var string\n     *\/",68],["T_WHITESPACE","\n    ",74],["T_PRIVATE","private",75],["T_WHITESPACE"," ",75],["T_VARIABLE","$_clientLoginKey",75],["T_WHITESPACE"," ",75],"=",["T_WHITESPACE"," ",75],["T_STRING","null",75],";",["T_WHITESPACE","\n\n    ",75],["T_DOC_COMMENT","\/**\n     * True if this request is being made with data supplied by\n     * a stream object instead of a raw encoded string.\n     *\n     * @var bool\n     *\/",77],["T_WHITESPACE","\n    ",82],["T_PROTECTED","protected",83],["T_WHITESPACE"," ",83],["T_VARIABLE","$_streamingRequest",83],["T_WHITESPACE"," ",83],"=",["T_WHITESPACE"," ",83],["T_STRING","null",83],";",["T_WHITESPACE","\n\n    ",83],["T_DOC_COMMENT","\/**\n     * Sets the PEM formatted private key, as read from a file.\n     *\n     * This method reads the file and then calls setAuthSubPrivateKey()\n     * with the file contents.\n     *\n     * @param string $file The location of the file containing the PEM key\n     * @param string $passphrase The optional private key passphrase\n     * @param bool $useIncludePath Whether to search the include_path\n     *                             for the file\n     * @return void\n     *\/",85],["T_WHITESPACE","\n    ",96],["T_PUBLIC","public",97],["T_WHITESPACE"," ",97],["T_FUNCTION","function",97],["T_WHITESPACE"," ",97],["T_STRING","setAuthSubPrivateKeyFile",97],"(",["T_VARIABLE","$file",97],",",["T_WHITESPACE"," ",97],["T_VARIABLE","$passphrase",97],["T_WHITESPACE"," ",97],"=",["T_WHITESPACE"," ",97],["T_STRING","null",97],",",["T_WHITESPACE","\n                                             ",97],["T_VARIABLE","$useIncludePath",98],["T_WHITESPACE"," ",98],"=",["T_WHITESPACE"," ",98],["T_STRING","false",98],")",["T_WHITESPACE"," ",98],"{",["T_WHITESPACE","\n        ",98],["T_VARIABLE","$fp",99],["T_WHITESPACE"," ",99],"=",["T_WHITESPACE"," ",99],"@",["T_STRING","fopen",99],"(",["T_VARIABLE","$file",99],",",["T_WHITESPACE"," ",99],["T_CONSTANT_ENCAPSED_STRING","\"r\"",99],",",["T_WHITESPACE"," ",99],["T_VARIABLE","$useIncludePath",99],")",";",["T_WHITESPACE","\n        ",99],["T_IF","if",100],["T_WHITESPACE"," ",100],"(","!",["T_VARIABLE","$fp",100],")",["T_WHITESPACE"," ",100],"{",["T_WHITESPACE","\n            ",100],["T_COMMENT","#require_once 'Zend\/Gdata\/App\/InvalidArgumentException.php';\n",101],["T_WHITESPACE","            ",102],["T_THROW","throw",102],["T_WHITESPACE"," ",102],["T_NEW","new",102],["T_WHITESPACE"," ",102],["T_STRING","Zend_Gdata_App_InvalidArgumentException",102],"(",["T_CONSTANT_ENCAPSED_STRING","'Failed to open private key file for AuthSub.'",102],")",";",["T_WHITESPACE","\n        ",102],"}",["T_WHITESPACE","\n\n        ",103],["T_VARIABLE","$key",105],["T_WHITESPACE"," ",105],"=",["T_WHITESPACE"," ",105],["T_CONSTANT_ENCAPSED_STRING","''",105],";",["T_WHITESPACE","\n        ",105],["T_WHILE","while",106],["T_WHITESPACE"," ",106],"(","!",["T_STRING","feof",106],"(",["T_VARIABLE","$fp",106],")",")",["T_WHITESPACE"," ",106],"{",["T_WHITESPACE","\n            ",106],["T_VARIABLE","$key",107],["T_WHITESPACE"," ",107],["T_CONCAT_EQUAL",".=",107],["T_WHITESPACE"," ",107],["T_STRING","fread",107],"(",["T_VARIABLE","$fp",107],",",["T_WHITESPACE"," ",107],["T_LNUMBER","8192",107],")",";",["T_WHITESPACE","\n        ",107],"}",["T_WHITESPACE","\n        ",108],["T_VARIABLE","$this",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","setAuthSubPrivateKey",109],"(",["T_VARIABLE","$key",109],",",["T_WHITESPACE"," ",109],["T_VARIABLE","$passphrase",109],")",";",["T_WHITESPACE","\n        ",109],["T_STRING","fclose",110],"(",["T_VARIABLE","$fp",110],")",";",["T_WHITESPACE","\n    ",110],"}",["T_WHITESPACE","\n\n    ",111],["T_DOC_COMMENT","\/**\n     * Sets the PEM formatted private key to be used for secure AuthSub auth.\n     *\n     * In order to call this method, openssl must be enabled in your PHP\n     * installation.  Otherwise, a Zend_Gdata_App_InvalidArgumentException\n     * will be thrown.\n     *\n     * @param string $key The private key\n     * @param string $passphrase The optional private key passphrase\n     * @throws Zend_Gdata_App_InvalidArgumentException\n     * @return Zend_Gdata_HttpClient Provides a fluent interface\n     *\/",113],["T_WHITESPACE","\n    ",124],["T_PUBLIC","public",125],["T_WHITESPACE"," ",125],["T_FUNCTION","function",125],["T_WHITESPACE"," ",125],["T_STRING","setAuthSubPrivateKey",125],"(",["T_VARIABLE","$key",125],",",["T_WHITESPACE"," ",125],["T_VARIABLE","$passphrase",125],["T_WHITESPACE"," ",125],"=",["T_WHITESPACE"," ",125],["T_STRING","null",125],")",["T_WHITESPACE"," ",125],"{",["T_WHITESPACE","\n        ",125],["T_IF","if",126],["T_WHITESPACE"," ",126],"(",["T_VARIABLE","$key",126],["T_WHITESPACE"," ",126],["T_IS_NOT_EQUAL","!=",126],["T_WHITESPACE"," ",126],["T_STRING","null",126],["T_WHITESPACE"," ",126],["T_BOOLEAN_AND","&&",126],["T_WHITESPACE"," ",126],"!",["T_STRING","function_exists",126],"(",["T_CONSTANT_ENCAPSED_STRING","'openssl_pkey_get_private'",126],")",")",["T_WHITESPACE"," ",126],"{",["T_WHITESPACE","\n            ",126],["T_COMMENT","#require_once 'Zend\/Gdata\/App\/InvalidArgumentException.php';\n",127],["T_WHITESPACE","            ",128],["T_THROW","throw",128],["T_WHITESPACE"," ",128],["T_NEW","new",128],["T_WHITESPACE"," ",128],["T_STRING","Zend_Gdata_App_InvalidArgumentException",128],"(",["T_WHITESPACE","\n                    ",128],["T_CONSTANT_ENCAPSED_STRING","'You cannot enable secure AuthSub if the openssl module '",129],["T_WHITESPACE"," ",129],".",["T_WHITESPACE","\n                    ",129],["T_CONSTANT_ENCAPSED_STRING","'is not enabled in your PHP installation.'",130],")",";",["T_WHITESPACE","\n        ",130],"}",["T_WHITESPACE","\n        ",131],["T_VARIABLE","$this",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","_authSubPrivateKeyId",132],["T_WHITESPACE"," ",132],"=",["T_WHITESPACE"," ",132],["T_STRING","openssl_pkey_get_private",132],"(",["T_WHITESPACE","\n                ",132],["T_VARIABLE","$key",133],",",["T_WHITESPACE"," ",133],["T_VARIABLE","$passphrase",133],")",";",["T_WHITESPACE","\n        ",133],["T_RETURN","return",134],["T_WHITESPACE"," ",134],["T_VARIABLE","$this",134],";",["T_WHITESPACE","\n    ",134],"}",["T_WHITESPACE","\n\n    ",135],["T_DOC_COMMENT","\/**\n     * Gets the openssl private key id\n     *\n     * @return string The private key\n     *\/",137],["T_WHITESPACE","\n    ",141],["T_PUBLIC","public",142],["T_WHITESPACE"," ",142],["T_FUNCTION","function",142],["T_WHITESPACE"," ",142],["T_STRING","getAuthSubPrivateKeyId",142],"(",")",["T_WHITESPACE"," ",142],"{",["T_WHITESPACE","\n        ",142],["T_RETURN","return",143],["T_WHITESPACE"," ",143],["T_VARIABLE","$this",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","_authSubPrivateKeyId",143],";",["T_WHITESPACE","\n    ",143],"}",["T_WHITESPACE","\n\n    ",144],["T_DOC_COMMENT","\/**\n     * Gets the AuthSub token used for authentication\n     *\n     * @return string The token\n     *\/",146],["T_WHITESPACE","\n    ",150],["T_PUBLIC","public",151],["T_WHITESPACE"," ",151],["T_FUNCTION","function",151],["T_WHITESPACE"," ",151],["T_STRING","getAuthSubToken",151],"(",")",["T_WHITESPACE"," ",151],"{",["T_WHITESPACE","\n        ",151],["T_RETURN","return",152],["T_WHITESPACE"," ",152],["T_VARIABLE","$this",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","_authSubToken",152],";",["T_WHITESPACE","\n    ",152],"}",["T_WHITESPACE","\n\n    ",153],["T_DOC_COMMENT","\/**\n     * Sets the AuthSub token used for authentication\n     *\n     * @param string $token The token\n     * @return Zend_Gdata_HttpClient Provides a fluent interface\n     *\/",155],["T_WHITESPACE","\n    ",160],["T_PUBLIC","public",161],["T_WHITESPACE"," ",161],["T_FUNCTION","function",161],["T_WHITESPACE"," ",161],["T_STRING","setAuthSubToken",161],"(",["T_VARIABLE","$token",161],")",["T_WHITESPACE"," ",161],"{",["T_WHITESPACE","\n        ",161],["T_VARIABLE","$this",162],["T_OBJECT_OPERATOR","->",162],["T_STRING","_authSubToken",162],["T_WHITESPACE"," ",162],"=",["T_WHITESPACE"," ",162],["T_VARIABLE","$token",162],";",["T_WHITESPACE","\n        ",162],["T_RETURN","return",163],["T_WHITESPACE"," ",163],["T_VARIABLE","$this",163],";",["T_WHITESPACE","\n    ",163],"}",["T_WHITESPACE","\n\n    ",164],["T_DOC_COMMENT","\/**\n     * Gets the ClientLogin token used for authentication\n     *\n     * @return string The token\n     *\/",166],["T_WHITESPACE","\n    ",170],["T_PUBLIC","public",171],["T_WHITESPACE"," ",171],["T_FUNCTION","function",171],["T_WHITESPACE"," ",171],["T_STRING","getClientLoginToken",171],"(",")",["T_WHITESPACE"," ",171],"{",["T_WHITESPACE","\n        ",171],["T_RETURN","return",172],["T_WHITESPACE"," ",172],["T_VARIABLE","$this",172],["T_OBJECT_OPERATOR","->",172],["T_STRING","_clientLoginToken",172],";",["T_WHITESPACE","\n    ",172],"}",["T_WHITESPACE","\n\n    ",173],["T_DOC_COMMENT","\/**\n     * Sets the ClientLogin token used for authentication\n     *\n     * @param string $token The token\n     * @return Zend_Gdata_HttpClient Provides a fluent interface\n     *\/",175],["T_WHITESPACE","\n    ",180],["T_PUBLIC","public",181],["T_WHITESPACE"," ",181],["T_FUNCTION","function",181],["T_WHITESPACE"," ",181],["T_STRING","setClientLoginToken",181],"(",["T_VARIABLE","$token",181],")",["T_WHITESPACE"," ",181],"{",["T_WHITESPACE","\n        ",181],["T_VARIABLE","$this",182],["T_OBJECT_OPERATOR","->",182],["T_STRING","_clientLoginToken",182],["T_WHITESPACE"," ",182],"=",["T_WHITESPACE"," ",182],["T_VARIABLE","$token",182],";",["T_WHITESPACE","\n        ",182],["T_RETURN","return",183],["T_WHITESPACE"," ",183],["T_VARIABLE","$this",183],";",["T_WHITESPACE","\n    ",183],"}",["T_WHITESPACE","\n\n    ",184],["T_DOC_COMMENT","\/**\n     * Filters the HTTP requests being sent to add the Authorization header.\n     *\n     * If both AuthSub and ClientLogin tokens are set,\n     * AuthSub takes precedence.  If an AuthSub key is set, then\n     * secure AuthSub authentication is used, and the request is signed.\n     * Requests must be signed only with the private key corresponding to the\n     * public key registered with Google.  If an AuthSub key is set, but\n     * openssl support is not enabled in the PHP installation, an exception is\n     * thrown.\n     *\n     * @param string $method The HTTP method\n     * @param string $url The URL\n     * @param array $headers An associate array of headers to be\n     *                       sent with the request or null\n     * @param string $body The body of the request or null\n     * @param string $contentType The MIME content type of the body or null\n     * @throws Zend_Gdata_App_Exception if there was a signing failure\n     * @return array The processed values in an associative array,\n     *               using the same names as the params\n     *\/",186],["T_WHITESPACE","\n    ",206],["T_PUBLIC","public",207],["T_WHITESPACE"," ",207],["T_FUNCTION","function",207],["T_WHITESPACE"," ",207],["T_STRING","filterHttpRequest",207],"(",["T_VARIABLE","$method",207],",",["T_WHITESPACE"," ",207],["T_VARIABLE","$url",207],",",["T_WHITESPACE"," ",207],["T_VARIABLE","$headers",207],["T_WHITESPACE"," ",207],"=",["T_WHITESPACE"," ",207],["T_ARRAY","array",207],"(",")",",",["T_WHITESPACE"," ",207],["T_VARIABLE","$body",207],["T_WHITESPACE"," ",207],"=",["T_WHITESPACE"," ",207],["T_STRING","null",207],",",["T_WHITESPACE"," ",207],["T_VARIABLE","$contentType",207],["T_WHITESPACE"," ",207],"=",["T_WHITESPACE"," ",207],["T_STRING","null",207],")",["T_WHITESPACE"," ",207],"{",["T_WHITESPACE","\n        ",207],["T_IF","if",208],["T_WHITESPACE"," ",208],"(",["T_VARIABLE","$this",208],["T_OBJECT_OPERATOR","->",208],["T_STRING","getAuthSubToken",208],"(",")",["T_WHITESPACE"," ",208],["T_IS_NOT_EQUAL","!=",208],["T_WHITESPACE"," ",208],["T_STRING","null",208],")",["T_WHITESPACE"," ",208],"{",["T_WHITESPACE","\n            ",208],["T_COMMENT","\/\/ AuthSub authentication\n",209],["T_WHITESPACE","            ",210],["T_IF","if",210],["T_WHITESPACE"," ",210],"(",["T_VARIABLE","$this",210],["T_OBJECT_OPERATOR","->",210],["T_STRING","getAuthSubPrivateKeyId",210],"(",")",["T_WHITESPACE"," ",210],["T_IS_NOT_EQUAL","!=",210],["T_WHITESPACE"," ",210],["T_STRING","null",210],")",["T_WHITESPACE"," ",210],"{",["T_WHITESPACE","\n                ",210],["T_COMMENT","\/\/ secure AuthSub\n",211],["T_WHITESPACE","                ",212],["T_VARIABLE","$time",212],["T_WHITESPACE"," ",212],"=",["T_WHITESPACE"," ",212],["T_STRING","time",212],"(",")",";",["T_WHITESPACE","\n                ",212],["T_VARIABLE","$nonce",213],["T_WHITESPACE"," ",213],"=",["T_WHITESPACE"," ",213],["T_STRING","mt_rand",213],"(",["T_LNUMBER","0",213],",",["T_WHITESPACE"," ",213],["T_LNUMBER","999999999",213],")",";",["T_WHITESPACE","\n                ",213],["T_VARIABLE","$dataToSign",214],["T_WHITESPACE"," ",214],"=",["T_WHITESPACE"," ",214],["T_VARIABLE","$method",214],["T_WHITESPACE"," ",214],".",["T_WHITESPACE"," ",214],["T_CONSTANT_ENCAPSED_STRING","' '",214],["T_WHITESPACE"," ",214],".",["T_WHITESPACE"," ",214],["T_VARIABLE","$url",214],["T_WHITESPACE"," ",214],".",["T_WHITESPACE"," ",214],["T_CONSTANT_ENCAPSED_STRING","' '",214],["T_WHITESPACE"," ",214],".",["T_WHITESPACE"," ",214],["T_VARIABLE","$time",214],["T_WHITESPACE"," ",214],".",["T_WHITESPACE"," ",214],["T_CONSTANT_ENCAPSED_STRING","' '",214],["T_WHITESPACE"," ",214],".",["T_WHITESPACE"," ",214],["T_VARIABLE","$nonce",214],";",["T_WHITESPACE","\n\n                ",214],["T_COMMENT","\/\/ compute signature\n",216],["T_WHITESPACE","                ",217],["T_VARIABLE","$pKeyId",217],["T_WHITESPACE"," ",217],"=",["T_WHITESPACE"," ",217],["T_VARIABLE","$this",217],["T_OBJECT_OPERATOR","->",217],["T_STRING","getAuthSubPrivateKeyId",217],"(",")",";",["T_WHITESPACE","\n                ",217],["T_VARIABLE","$signSuccess",218],["T_WHITESPACE"," ",218],"=",["T_WHITESPACE"," ",218],["T_STRING","openssl_sign",218],"(",["T_VARIABLE","$dataToSign",218],",",["T_WHITESPACE"," ",218],["T_VARIABLE","$signature",218],",",["T_WHITESPACE"," ",218],["T_VARIABLE","$pKeyId",218],",",["T_WHITESPACE","\n                                            ",218],["T_STRING","OPENSSL_ALGO_SHA1",219],")",";",["T_WHITESPACE","\n                ",219],["T_IF","if",220],["T_WHITESPACE"," ",220],"(","!",["T_VARIABLE","$signSuccess",220],")",["T_WHITESPACE"," ",220],"{",["T_WHITESPACE","\n                    ",220],["T_COMMENT","#require_once 'Zend\/Gdata\/App\/Exception.php';\n",221],["T_WHITESPACE","                    ",222],["T_THROW","throw",222],["T_WHITESPACE"," ",222],["T_NEW","new",222],["T_WHITESPACE"," ",222],["T_STRING","Zend_Gdata_App_Exception",222],"(",["T_WHITESPACE","\n                            ",222],["T_CONSTANT_ENCAPSED_STRING","'openssl_signing failure - returned false'",223],")",";",["T_WHITESPACE","\n                ",223],"}",["T_WHITESPACE","\n                ",224],["T_COMMENT","\/\/ encode signature\n",225],["T_WHITESPACE","                ",226],["T_VARIABLE","$encodedSignature",226],["T_WHITESPACE"," ",226],"=",["T_WHITESPACE"," ",226],["T_STRING","base64_encode",226],"(",["T_VARIABLE","$signature",226],")",";",["T_WHITESPACE","\n\n                ",226],["T_COMMENT","\/\/ final header\n",228],["T_WHITESPACE","                ",229],["T_VARIABLE","$headers",229],"[",["T_CONSTANT_ENCAPSED_STRING","'authorization'",229],"]",["T_WHITESPACE"," ",229],"=",["T_WHITESPACE"," ",229],["T_CONSTANT_ENCAPSED_STRING","'AuthSub token=\"'",229],["T_WHITESPACE"," ",229],".",["T_WHITESPACE"," ",229],["T_VARIABLE","$this",229],["T_OBJECT_OPERATOR","->",229],["T_STRING","getAuthSubToken",229],"(",")",["T_WHITESPACE"," ",229],".",["T_WHITESPACE"," ",229],["T_CONSTANT_ENCAPSED_STRING","'\" '",229],["T_WHITESPACE"," ",229],".",["T_WHITESPACE","\n                                            ",229],["T_CONSTANT_ENCAPSED_STRING","'data=\"'",230],["T_WHITESPACE"," ",230],".",["T_WHITESPACE"," ",230],["T_VARIABLE","$dataToSign",230],["T_WHITESPACE"," ",230],".",["T_WHITESPACE"," ",230],["T_CONSTANT_ENCAPSED_STRING","'\" '",230],["T_WHITESPACE"," ",230],".",["T_WHITESPACE","\n                                            ",230],["T_CONSTANT_ENCAPSED_STRING","'sig=\"'",231],["T_WHITESPACE"," ",231],".",["T_WHITESPACE"," ",231],["T_VARIABLE","$encodedSignature",231],["T_WHITESPACE"," ",231],".",["T_WHITESPACE"," ",231],["T_CONSTANT_ENCAPSED_STRING","'\" '",231],["T_WHITESPACE"," ",231],".",["T_WHITESPACE","\n                                            ",231],["T_CONSTANT_ENCAPSED_STRING","'sigalg=\"rsa-sha1\"'",232],";",["T_WHITESPACE","\n            ",232],"}",["T_WHITESPACE"," ",233],["T_ELSE","else",233],["T_WHITESPACE"," ",233],"{",["T_WHITESPACE","\n                ",233],["T_COMMENT","\/\/ AuthSub without secure tokens\n",234],["T_WHITESPACE","                ",235],["T_VARIABLE","$headers",235],"[",["T_CONSTANT_ENCAPSED_STRING","'authorization'",235],"]",["T_WHITESPACE"," ",235],"=",["T_WHITESPACE"," ",235],["T_CONSTANT_ENCAPSED_STRING","'AuthSub token=\"'",235],["T_WHITESPACE"," ",235],".",["T_WHITESPACE"," ",235],["T_VARIABLE","$this",235],["T_OBJECT_OPERATOR","->",235],["T_STRING","getAuthSubToken",235],"(",")",["T_WHITESPACE"," ",235],".",["T_WHITESPACE"," ",235],["T_CONSTANT_ENCAPSED_STRING","'\"'",235],";",["T_WHITESPACE","\n            ",235],"}",["T_WHITESPACE","\n        ",236],"}",["T_WHITESPACE"," ",237],["T_ELSEIF","elseif",237],["T_WHITESPACE"," ",237],"(",["T_VARIABLE","$this",237],["T_OBJECT_OPERATOR","->",237],["T_STRING","getClientLoginToken",237],"(",")",["T_WHITESPACE"," ",237],["T_IS_NOT_EQUAL","!=",237],["T_WHITESPACE"," ",237],["T_STRING","null",237],")",["T_WHITESPACE"," ",237],"{",["T_WHITESPACE","\n            ",237],["T_VARIABLE","$headers",238],"[",["T_CONSTANT_ENCAPSED_STRING","'authorization'",238],"]",["T_WHITESPACE"," ",238],"=",["T_WHITESPACE"," ",238],["T_CONSTANT_ENCAPSED_STRING","'GoogleLogin auth='",238],["T_WHITESPACE"," ",238],".",["T_WHITESPACE"," ",238],["T_VARIABLE","$this",238],["T_OBJECT_OPERATOR","->",238],["T_STRING","getClientLoginToken",238],"(",")",";",["T_WHITESPACE","\n        ",238],"}",["T_WHITESPACE","\n        ",239],["T_RETURN","return",240],["T_WHITESPACE"," ",240],["T_ARRAY","array",240],"(",["T_CONSTANT_ENCAPSED_STRING","'method'",240],["T_WHITESPACE"," ",240],["T_DOUBLE_ARROW","=>",240],["T_WHITESPACE"," ",240],["T_VARIABLE","$method",240],",",["T_WHITESPACE"," ",240],["T_CONSTANT_ENCAPSED_STRING","'url'",240],["T_WHITESPACE"," ",240],["T_DOUBLE_ARROW","=>",240],["T_WHITESPACE"," ",240],["T_VARIABLE","$url",240],",",["T_WHITESPACE"," ",240],["T_CONSTANT_ENCAPSED_STRING","'body'",240],["T_WHITESPACE"," ",240],["T_DOUBLE_ARROW","=>",240],["T_WHITESPACE"," ",240],["T_VARIABLE","$body",240],",",["T_WHITESPACE"," ",240],["T_CONSTANT_ENCAPSED_STRING","'headers'",240],["T_WHITESPACE"," ",240],["T_DOUBLE_ARROW","=>",240],["T_WHITESPACE"," ",240],["T_VARIABLE","$headers",240],",",["T_WHITESPACE"," ",240],["T_CONSTANT_ENCAPSED_STRING","'contentType'",240],["T_WHITESPACE"," ",240],["T_DOUBLE_ARROW","=>",240],["T_WHITESPACE"," ",240],["T_VARIABLE","$contentType",240],")",";",["T_WHITESPACE","\n    ",240],"}",["T_WHITESPACE","\n\n    ",241],["T_DOC_COMMENT","\/**\n     * Method for filtering the HTTP response, though no filtering is\n     * currently done.\n     *\n     * @param Zend_Http_Response $response The response object to filter\n     * @return Zend_Http_Response The filterd response object\n     *\/",243],["T_WHITESPACE","\n    ",249],["T_PUBLIC","public",250],["T_WHITESPACE"," ",250],["T_FUNCTION","function",250],["T_WHITESPACE"," ",250],["T_STRING","filterHttpResponse",250],"(",["T_VARIABLE","$response",250],")",["T_WHITESPACE"," ",250],"{",["T_WHITESPACE","\n        ",250],["T_RETURN","return",251],["T_WHITESPACE"," ",251],["T_VARIABLE","$response",251],";",["T_WHITESPACE","\n    ",251],"}",["T_WHITESPACE","\n\n    ",252],["T_DOC_COMMENT","\/**\n     * Return the current connection adapter\n     *\n     * @return Zend_Http_Client_Adapter_Interface|string $adapter\n     *\/",254],["T_WHITESPACE","\n    ",258],["T_PUBLIC","public",259],["T_WHITESPACE"," ",259],["T_FUNCTION","function",259],["T_WHITESPACE"," ",259],["T_STRING","getAdapter",259],"(",")",["T_WHITESPACE","\n    ",259],"{",["T_WHITESPACE","\n        ",260],["T_RETURN","return",261],["T_WHITESPACE"," ",261],["T_VARIABLE","$this",261],["T_OBJECT_OPERATOR","->",261],["T_STRING","adapter",261],";",["T_WHITESPACE","\n    ",261],"}",["T_WHITESPACE","\n\n   ",262],["T_DOC_COMMENT","\/**\n     * Load the connection adapter\n     *\n     * @param Zend_Http_Client_Adapter_Interface $adapter\n     * @return void\n     *\/",264],["T_WHITESPACE","\n    ",269],["T_PUBLIC","public",270],["T_WHITESPACE"," ",270],["T_FUNCTION","function",270],["T_WHITESPACE"," ",270],["T_STRING","setAdapter",270],"(",["T_VARIABLE","$adapter",270],")",["T_WHITESPACE","\n    ",270],"{",["T_WHITESPACE","\n        ",271],["T_IF","if",272],["T_WHITESPACE"," ",272],"(",["T_VARIABLE","$adapter",272],["T_WHITESPACE"," ",272],["T_IS_EQUAL","==",272],["T_WHITESPACE"," ",272],["T_STRING","null",272],")",["T_WHITESPACE"," ",272],"{",["T_WHITESPACE","\n            ",272],["T_VARIABLE","$this",273],["T_OBJECT_OPERATOR","->",273],["T_STRING","adapter",273],["T_WHITESPACE"," ",273],"=",["T_WHITESPACE"," ",273],["T_VARIABLE","$adapter",273],";",["T_WHITESPACE","\n        ",273],"}",["T_WHITESPACE"," ",274],["T_ELSE","else",274],["T_WHITESPACE"," ",274],"{",["T_WHITESPACE","\n              ",274],["T_STRING","parent",275],["T_DOUBLE_COLON","::",275],["T_STRING","setAdapter",275],"(",["T_VARIABLE","$adapter",275],")",";",["T_WHITESPACE","\n        ",275],"}",["T_WHITESPACE","\n    ",276],"}",["T_WHITESPACE","\n\n    ",277],["T_DOC_COMMENT","\/**\n     * Set the streamingRequest variable which controls whether we are\n     * sending the raw (already encoded) POST data from a stream source.\n     *\n     * @param boolean $value The value to set.\n     * @return void\n     *\/",279],["T_WHITESPACE","\n    ",285],["T_PUBLIC","public",286],["T_WHITESPACE"," ",286],["T_FUNCTION","function",286],["T_WHITESPACE"," ",286],["T_STRING","setStreamingRequest",286],"(",["T_VARIABLE","$value",286],")",["T_WHITESPACE","\n    ",286],"{",["T_WHITESPACE","\n        ",287],["T_VARIABLE","$this",288],["T_OBJECT_OPERATOR","->",288],["T_STRING","_streamingRequest",288],["T_WHITESPACE"," ",288],"=",["T_WHITESPACE"," ",288],["T_VARIABLE","$value",288],";",["T_WHITESPACE","\n    ",288],"}",["T_WHITESPACE","\n\n    ",289],["T_DOC_COMMENT","\/**\n     * Check whether the client is set to perform streaming requests.\n     *\n     * @return boolean True if yes, false otherwise.\n     *\/",291],["T_WHITESPACE","\n    ",295],["T_PUBLIC","public",296],["T_WHITESPACE"," ",296],["T_FUNCTION","function",296],["T_WHITESPACE"," ",296],["T_STRING","getStreamingRequest",296],"(",")",["T_WHITESPACE","\n    ",296],"{",["T_WHITESPACE","\n        ",297],["T_IF","if",298],["T_WHITESPACE"," ",298],"(",["T_VARIABLE","$this",298],["T_OBJECT_OPERATOR","->",298],["T_STRING","_streamingRequest",298],"(",")",")",["T_WHITESPACE"," ",298],"{",["T_WHITESPACE","\n            ",298],["T_RETURN","return",299],["T_WHITESPACE"," ",299],["T_STRING","true",299],";",["T_WHITESPACE","\n        ",299],"}",["T_WHITESPACE"," ",300],["T_ELSE","else",300],["T_WHITESPACE"," ",300],"{",["T_WHITESPACE","\n            ",300],["T_RETURN","return",301],["T_WHITESPACE"," ",301],["T_STRING","false",301],";",["T_WHITESPACE","\n        ",301],"}",["T_WHITESPACE","\n    ",302],"}",["T_WHITESPACE","\n\n    ",303],["T_DOC_COMMENT","\/**\n     * Prepare the request body (for POST and PUT requests)\n     *\n     * @return string\n     * @throws Zend_Http_Client_Exception\n     *\/",305],["T_WHITESPACE","\n    ",310],["T_PROTECTED","protected",311],["T_WHITESPACE"," ",311],["T_FUNCTION","function",311],["T_WHITESPACE"," ",311],["T_STRING","_prepareBody",311],"(",")",["T_WHITESPACE","\n    ",311],"{",["T_WHITESPACE","\n        ",312],["T_IF","if",313],"(",["T_VARIABLE","$this",313],["T_OBJECT_OPERATOR","->",313],["T_STRING","_streamingRequest",313],")",["T_WHITESPACE"," ",313],"{",["T_WHITESPACE","\n            ",313],["T_VARIABLE","$this",314],["T_OBJECT_OPERATOR","->",314],["T_STRING","setHeaders",314],"(",["T_STRING","self",314],["T_DOUBLE_COLON","::",314],["T_STRING","CONTENT_LENGTH",314],",",["T_WHITESPACE","\n                ",314],["T_VARIABLE","$this",315],["T_OBJECT_OPERATOR","->",315],["T_STRING","raw_post_data",315],["T_OBJECT_OPERATOR","->",315],["T_STRING","getTotalSize",315],"(",")",")",";",["T_WHITESPACE","\n            ",315],["T_RETURN","return",316],["T_WHITESPACE"," ",316],["T_VARIABLE","$this",316],["T_OBJECT_OPERATOR","->",316],["T_STRING","raw_post_data",316],";",["T_WHITESPACE","\n        ",316],"}",["T_WHITESPACE","\n        ",317],["T_ELSE","else",318],["T_WHITESPACE"," ",318],"{",["T_WHITESPACE","\n            ",318],["T_RETURN","return",319],["T_WHITESPACE"," ",319],["T_STRING","parent",319],["T_DOUBLE_COLON","::",319],["T_STRING","_prepareBody",319],"(",")",";",["T_WHITESPACE","\n        ",319],"}",["T_WHITESPACE","\n    ",320],"}",["T_WHITESPACE","\n\n    ",321],["T_DOC_COMMENT","\/**\n     * Clear all custom parameters we set.\n     *\n     * @return Zend_Http_Client\n     *\/",323],["T_WHITESPACE","\n    ",327],["T_PUBLIC","public",328],["T_WHITESPACE"," ",328],["T_FUNCTION","function",328],["T_WHITESPACE"," ",328],["T_STRING","resetParameters",328],"(",["T_VARIABLE","$clearAll",328],["T_WHITESPACE"," ",328],"=",["T_WHITESPACE"," ",328],["T_STRING","false",328],")",["T_WHITESPACE","\n    ",328],"{",["T_WHITESPACE","\n        ",329],["T_VARIABLE","$this",330],["T_OBJECT_OPERATOR","->",330],["T_STRING","_streamingRequest",330],["T_WHITESPACE"," ",330],"=",["T_WHITESPACE"," ",330],["T_STRING","false",330],";",["T_WHITESPACE","\n\n        ",330],["T_RETURN","return",332],["T_WHITESPACE"," ",332],["T_STRING","parent",332],["T_DOUBLE_COLON","::",332],["T_STRING","resetParameters",332],"(",["T_VARIABLE","$clearAll",332],")",";",["T_WHITESPACE","\n    ",332],"}",["T_WHITESPACE","\n\n    ",333],["T_DOC_COMMENT","\/**\n     * Set the raw (already encoded) POST data from a stream source.\n     *\n     * This is used to support POSTing from open file handles without\n     * caching the entire body into memory. It is a wrapper around\n     * Zend_Http_Client::setRawData().\n     *\n     * @param string $data The request data\n     * @param string $enctype The encoding type\n     * @return Zend_Http_Client\n     *\/",335],["T_WHITESPACE","\n    ",345],["T_PUBLIC","public",346],["T_WHITESPACE"," ",346],["T_FUNCTION","function",346],["T_WHITESPACE"," ",346],["T_STRING","setRawDataStream",346],"(",["T_VARIABLE","$data",346],",",["T_WHITESPACE"," ",346],["T_VARIABLE","$enctype",346],["T_WHITESPACE"," ",346],"=",["T_WHITESPACE"," ",346],["T_STRING","null",346],")",["T_WHITESPACE","\n    ",346],"{",["T_WHITESPACE","\n        ",347],["T_VARIABLE","$this",348],["T_OBJECT_OPERATOR","->",348],["T_STRING","_streamingRequest",348],["T_WHITESPACE"," ",348],"=",["T_WHITESPACE"," ",348],["T_STRING","true",348],";",["T_WHITESPACE","\n        ",348],["T_RETURN","return",349],["T_WHITESPACE"," ",349],["T_VARIABLE","$this",349],["T_OBJECT_OPERATOR","->",349],["T_STRING","setRawData",349],"(",["T_VARIABLE","$data",349],",",["T_WHITESPACE"," ",349],["T_VARIABLE","$enctype",349],")",";",["T_WHITESPACE","\n    ",349],"}",["T_WHITESPACE","\n\n",350],"}",["T_WHITESPACE","\n",352]]