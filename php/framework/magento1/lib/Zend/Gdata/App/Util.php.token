[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_DOC_COMMENT","\/**\n * Zend Framework\n *\n * LICENSE\n *\n * This source file is subject to the new BSD license that is bundled\n * with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/framework.zend.com\/license\/new-bsd\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@zend.com so we can send you a copy immediately.\n *\n * @category   Zend\n * @package    Zend_Gdata\n * @subpackage App\n * @copyright  Copyright (c) 2005-2015 Zend Technologies USA Inc. (http:\/\/www.zend.com)\n * @license    http:\/\/framework.zend.com\/license\/new-bsd     New BSD License\n * @version    $Id$\n *\/",3],["T_WHITESPACE","\n\n",22],["T_DOC_COMMENT","\/**\n * Utility class for static functions needed by Zend_Gdata_App\n *\n * @category   Zend\n * @package    Zend_Gdata\n * @subpackage App\n * @copyright  Copyright (c) 2005-2015 Zend Technologies USA Inc. (http:\/\/www.zend.com)\n * @license    http:\/\/framework.zend.com\/license\/new-bsd     New BSD License\n *\/",24],["T_WHITESPACE","\n",32],["T_CLASS","class",33],["T_WHITESPACE"," ",33],["T_STRING","Zend_Gdata_App_Util",33],["T_WHITESPACE","\n",33],"{",["T_WHITESPACE","\n\n    ",34],["T_DOC_COMMENT","\/**\n     *  Convert timestamp into RFC 3339 date string.\n     *  2005-04-19T15:30:00\n     *\n     * @param int $timestamp\n     * @throws Zend_Gdata_App_InvalidArgumentException\n     *\/",36],["T_WHITESPACE","\n    ",42],["T_PUBLIC","public",43],["T_WHITESPACE"," ",43],["T_STATIC","static",43],["T_WHITESPACE"," ",43],["T_FUNCTION","function",43],["T_WHITESPACE"," ",43],["T_STRING","formatTimestamp",43],"(",["T_VARIABLE","$timestamp",43],")",["T_WHITESPACE","\n    ",43],"{",["T_WHITESPACE","\n        ",44],["T_VARIABLE","$rfc3339",45],["T_WHITESPACE"," ",45],"=",["T_WHITESPACE"," ",45],["T_CONSTANT_ENCAPSED_STRING","'\/^(\\d{4})\\-?(\\d{2})\\-?(\\d{2})((T|t)(\\d{2})\\:?(\\d{2})'",45],["T_WHITESPACE"," ",45],".",["T_WHITESPACE","\n                   ",45],["T_CONSTANT_ENCAPSED_STRING","'\\:?(\\d{2})(\\.\\d{1,})?((Z|z)|([\\+\\-])(\\d{2})\\:?(\\d{2})))?$\/'",46],";",["T_WHITESPACE","\n\n        ",46],["T_IF","if",48],["T_WHITESPACE"," ",48],"(",["T_STRING","ctype_digit",48],"(",["T_STRING_CAST","(string)",48],["T_VARIABLE","$timestamp",48],")",")",["T_WHITESPACE"," ",48],"{",["T_WHITESPACE","\n            ",48],["T_RETURN","return",49],["T_WHITESPACE"," ",49],["T_STRING","gmdate",49],"(",["T_CONSTANT_ENCAPSED_STRING","'Y-m-d\\TH:i:sP'",49],",",["T_WHITESPACE"," ",49],["T_VARIABLE","$timestamp",49],")",";",["T_WHITESPACE","\n        ",49],"}",["T_WHITESPACE"," ",50],["T_ELSEIF","elseif",50],["T_WHITESPACE"," ",50],"(",["T_STRING","preg_match",50],"(",["T_VARIABLE","$rfc3339",50],",",["T_WHITESPACE"," ",50],["T_VARIABLE","$timestamp",50],")",["T_WHITESPACE"," ",50],">",["T_WHITESPACE"," ",50],["T_LNUMBER","0",50],")",["T_WHITESPACE"," ",50],"{",["T_WHITESPACE","\n            ",50],["T_COMMENT","\/\/ timestamp is already properly formatted\n",51],["T_WHITESPACE","            ",52],["T_RETURN","return",52],["T_WHITESPACE"," ",52],["T_VARIABLE","$timestamp",52],";",["T_WHITESPACE","\n        ",52],"}",["T_WHITESPACE"," ",53],["T_ELSE","else",53],["T_WHITESPACE"," ",53],"{",["T_WHITESPACE","\n            ",53],["T_VARIABLE","$ts",54],["T_WHITESPACE"," ",54],"=",["T_WHITESPACE"," ",54],["T_STRING","strtotime",54],"(",["T_VARIABLE","$timestamp",54],")",";",["T_WHITESPACE","\n            ",54],["T_IF","if",55],["T_WHITESPACE"," ",55],"(",["T_VARIABLE","$ts",55],["T_WHITESPACE"," ",55],["T_IS_IDENTICAL","===",55],["T_WHITESPACE"," ",55],["T_STRING","false",55],")",["T_WHITESPACE"," ",55],"{",["T_WHITESPACE","\n                ",55],["T_COMMENT","#require_once 'Zend\/Gdata\/App\/InvalidArgumentException.php';\n",56],["T_WHITESPACE","                ",57],["T_THROW","throw",57],["T_WHITESPACE"," ",57],["T_NEW","new",57],["T_WHITESPACE"," ",57],["T_STRING","Zend_Gdata_App_InvalidArgumentException",57],"(","\"",["T_ENCAPSED_AND_WHITESPACE","Invalid timestamp: ",57],["T_VARIABLE","$timestamp",57],["T_ENCAPSED_AND_WHITESPACE",".",57],"\"",")",";",["T_WHITESPACE","\n            ",57],"}",["T_WHITESPACE","\n            ",58],["T_RETURN","return",59],["T_WHITESPACE"," ",59],["T_STRING","date",59],"(",["T_CONSTANT_ENCAPSED_STRING","'Y-m-d\\TH:i:s'",59],",",["T_WHITESPACE"," ",59],["T_VARIABLE","$ts",59],")",";",["T_WHITESPACE","\n        ",59],"}",["T_WHITESPACE","\n    ",60],"}",["T_WHITESPACE","\n\n    ",61],["T_DOC_COMMENT","\/** Find the greatest key that is less than or equal to a given upper\n      * bound, and return the value associated with that key.\n      *\n      * @param integer|null $maximumKey The upper bound for keys. If null, the\n      *        maxiumum valued key will be found.\n      * @param array $collection An two-dimensional array of key\/value pairs\n      *        to search through.\n      * @returns mixed The value corresponding to the located key.\n      * @throws Zend_Gdata_App_Exception Thrown if $collection is empty.\n      *\/",63],["T_WHITESPACE","\n    ",72],["T_PUBLIC","public",73],["T_WHITESPACE"," ",73],["T_STATIC","static",73],["T_WHITESPACE"," ",73],["T_FUNCTION","function",73],["T_WHITESPACE"," ",73],["T_STRING","findGreatestBoundedValue",73],"(",["T_VARIABLE","$maximumKey",73],",",["T_WHITESPACE"," ",73],["T_VARIABLE","$collection",73],")",["T_WHITESPACE","\n    ",73],"{",["T_WHITESPACE","\n        ",74],["T_VARIABLE","$found",75],["T_WHITESPACE"," ",75],"=",["T_WHITESPACE"," ",75],["T_STRING","false",75],";",["T_WHITESPACE","\n        ",75],["T_VARIABLE","$foundKey",76],["T_WHITESPACE"," ",76],"=",["T_WHITESPACE"," ",76],["T_VARIABLE","$maximumKey",76],";",["T_WHITESPACE","\n\n        ",76],["T_COMMENT","\/\/ Sanity check: Make sure that the collection isn't empty\n",78],["T_WHITESPACE","        ",79],["T_IF","if",79],["T_WHITESPACE"," ",79],"(",["T_STRING","sizeof",79],"(",["T_VARIABLE","$collection",79],")",["T_WHITESPACE"," ",79],["T_IS_EQUAL","==",79],["T_WHITESPACE"," ",79],["T_LNUMBER","0",79],")",["T_WHITESPACE"," ",79],"{",["T_WHITESPACE","\n            ",79],["T_COMMENT","#require_once 'Zend\/Gdata\/App\/Exception.php';\n",80],["T_WHITESPACE","            ",81],["T_THROW","throw",81],["T_WHITESPACE"," ",81],["T_NEW","new",81],["T_WHITESPACE"," ",81],["T_STRING","Zend_Gdata_App_Exception",81],"(",["T_CONSTANT_ENCAPSED_STRING","\"Empty namespace collection encountered.\"",81],")",";",["T_WHITESPACE","\n        ",81],"}",["T_WHITESPACE","\n\n        ",82],["T_IF","if",84],["T_WHITESPACE"," ",84],"(",["T_VARIABLE","$maximumKey",84],["T_WHITESPACE"," ",84],["T_IS_IDENTICAL","===",84],["T_WHITESPACE"," ",84],["T_STRING","null",84],")",["T_WHITESPACE"," ",84],"{",["T_WHITESPACE","\n            ",84],["T_COMMENT","\/\/ If the key is null, then we return the maximum available\n",85],["T_WHITESPACE","            ",86],["T_VARIABLE","$keys",86],["T_WHITESPACE"," ",86],"=",["T_WHITESPACE"," ",86],["T_STRING","array_keys",86],"(",["T_VARIABLE","$collection",86],")",";",["T_WHITESPACE","\n            ",86],["T_STRING","sort",87],"(",["T_VARIABLE","$keys",87],")",";",["T_WHITESPACE","\n            ",87],["T_VARIABLE","$found",88],["T_WHITESPACE"," ",88],"=",["T_WHITESPACE"," ",88],["T_STRING","true",88],";",["T_WHITESPACE","\n            ",88],["T_VARIABLE","$foundKey",89],["T_WHITESPACE"," ",89],"=",["T_WHITESPACE"," ",89],["T_STRING","end",89],"(",["T_VARIABLE","$keys",89],")",";",["T_WHITESPACE","\n        ",89],"}",["T_WHITESPACE"," ",90],["T_ELSE","else",90],["T_WHITESPACE"," ",90],"{",["T_WHITESPACE","\n            ",90],["T_COMMENT","\/\/ Otherwise, we optimistically guess that the current version\n",91],["T_WHITESPACE","            ",92],["T_COMMENT","\/\/ will have a matching namespce. If that fails, we decrement the\n",92],["T_WHITESPACE","            ",93],["T_COMMENT","\/\/ version until we find a match.\n",93],["T_WHITESPACE","            ",94],["T_WHILE","while",94],["T_WHITESPACE"," ",94],"(","!",["T_VARIABLE","$found",94],["T_WHITESPACE"," ",94],["T_BOOLEAN_AND","&&",94],["T_WHITESPACE"," ",94],["T_VARIABLE","$foundKey",94],["T_WHITESPACE"," ",94],["T_IS_GREATER_OR_EQUAL",">=",94],["T_WHITESPACE"," ",94],["T_LNUMBER","0",94],")",["T_WHITESPACE"," ",94],"{",["T_WHITESPACE","\n                ",94],["T_IF","if",95],["T_WHITESPACE"," ",95],"(",["T_STRING","array_key_exists",95],"(",["T_VARIABLE","$foundKey",95],",",["T_WHITESPACE"," ",95],["T_VARIABLE","$collection",95],")",")",["T_WHITESPACE","\n                    ",95],["T_VARIABLE","$found",96],["T_WHITESPACE"," ",96],"=",["T_WHITESPACE"," ",96],["T_STRING","true",96],";",["T_WHITESPACE","\n                ",96],["T_ELSE","else",97],["T_WHITESPACE","\n                    ",97],["T_VARIABLE","$foundKey",98],["T_DEC","--",98],";",["T_WHITESPACE","\n            ",98],"}",["T_WHITESPACE","\n        ",99],"}",["T_WHITESPACE","\n\n        ",100],["T_COMMENT","\/\/ Guard: A namespace wasn't found. Either none were registered, or\n",102],["T_WHITESPACE","        ",103],["T_COMMENT","\/\/ the current protcol version is lower than the maximum namespace.\n",103],["T_WHITESPACE","        ",104],["T_IF","if",104],["T_WHITESPACE"," ",104],"(","!",["T_VARIABLE","$found",104],")",["T_WHITESPACE"," ",104],"{",["T_WHITESPACE","\n            ",104],["T_COMMENT","#require_once 'Zend\/Gdata\/App\/Exception.php';\n",105],["T_WHITESPACE","            ",106],["T_THROW","throw",106],["T_WHITESPACE"," ",106],["T_NEW","new",106],["T_WHITESPACE"," ",106],["T_STRING","Zend_Gdata_App_Exception",106],"(",["T_CONSTANT_ENCAPSED_STRING","\"Namespace compatible with current protocol not found.\"",106],")",";",["T_WHITESPACE","\n        ",106],"}",["T_WHITESPACE","\n\n        ",107],["T_RETURN","return",109],["T_WHITESPACE"," ",109],["T_VARIABLE","$foundKey",109],";",["T_WHITESPACE","\n    ",109],"}",["T_WHITESPACE","\n\n",110],"}",["T_WHITESPACE","\n",112]]