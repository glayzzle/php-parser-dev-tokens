[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Zend Framework\n *\n * LICENSE\n *\n * This source file is subject to the new BSD license that is bundled\n * with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/framework.zend.com\/license\/new-bsd\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@zend.com so we can send you a copy immediately.\n *\n * @category   Zend\n * @package    Zend_Json\n * @copyright  Copyright (c) 2005-2015 Zend Technologies USA Inc. (http:\/\/www.zend.com)\n * @license    http:\/\/framework.zend.com\/license\/new-bsd     New BSD License\n * @version    $Id$\n *\/",2],["T_WHITESPACE","\n\n",20],["T_DOC_COMMENT","\/**\n * Zend_Json_Expr.\n *\n * @see Zend_Json_Expr\n *\/",22],["T_WHITESPACE","\n",26],["T_COMMENT","#require_once 'Zend\/Json\/Expr.php';\n",27],["T_WHITESPACE","\n",28],["T_DOC_COMMENT","\/** @see Zend_Xml_Security *\/",29],["T_WHITESPACE","\n",29],["T_COMMENT","#require_once 'Zend\/Xml\/Security.php';\n",30],["T_WHITESPACE","\n",31],["T_DOC_COMMENT","\/**\n * Class for encoding to and decoding from JSON.\n *\n * @category   Zend\n * @package    Zend_Json\n * @uses       Zend_Json_Expr\n * @copyright  Copyright (c) 2005-2015 Zend Technologies USA Inc. (http:\/\/www.zend.com)\n * @license    http:\/\/framework.zend.com\/license\/new-bsd     New BSD License\n *\/",32],["T_WHITESPACE","\n",40],["T_CLASS","class",41],["T_WHITESPACE"," ",41],["T_STRING","Zend_Json",41],["T_WHITESPACE","\n",41],"{",["T_WHITESPACE","\n    ",42],["T_DOC_COMMENT","\/**\n     * How objects should be encoded -- arrays or as StdClass. TYPE_ARRAY is 1\n     * so that it is a boolean true value, allowing it to be used with\n     * ext\/json's functions.\n     *\/",43],["T_WHITESPACE","\n    ",47],["T_CONST","const",48],["T_WHITESPACE"," ",48],["T_STRING","TYPE_ARRAY",48],["T_WHITESPACE","  ",48],"=",["T_WHITESPACE"," ",48],["T_LNUMBER","1",48],";",["T_WHITESPACE","\n    ",48],["T_CONST","const",49],["T_WHITESPACE"," ",49],["T_STRING","TYPE_OBJECT",49],["T_WHITESPACE"," ",49],"=",["T_WHITESPACE"," ",49],["T_LNUMBER","0",49],";",["T_WHITESPACE","\n\n     ",49],["T_DOC_COMMENT","\/**\n      * To check the allowed nesting depth of the XML tree during xml2json conversion.\n      *\n      * @var int\n      *\/",51],["T_WHITESPACE","\n    ",55],["T_PUBLIC","public",56],["T_WHITESPACE"," ",56],["T_STATIC","static",56],["T_WHITESPACE"," ",56],["T_VARIABLE","$maxRecursionDepthAllowed",56],"=",["T_LNUMBER","25",56],";",["T_WHITESPACE","\n\n    ",56],["T_DOC_COMMENT","\/**\n     * @var bool\n     *\/",58],["T_WHITESPACE","\n    ",60],["T_PUBLIC","public",61],["T_WHITESPACE"," ",61],["T_STATIC","static",61],["T_WHITESPACE"," ",61],["T_VARIABLE","$useBuiltinEncoderDecoder",61],["T_WHITESPACE"," ",61],"=",["T_WHITESPACE"," ",61],["T_STRING","false",61],";",["T_WHITESPACE","\n\n    ",61],["T_DOC_COMMENT","\/**\n     * Decodes the given $encodedValue string which is\n     * encoded in the JSON format\n     *\n     * Uses ext\/json's json_decode if available.\n     *\n     * @param string $encodedValue Encoded in JSON format\n     * @param int $objectDecodeType Optional; flag indicating how to decode\n     * objects. See {@link Zend_Json_Decoder::decode()} for details.\n     * @return mixed\n     *\/",63],["T_WHITESPACE","\n    ",73],["T_PUBLIC","public",74],["T_WHITESPACE"," ",74],["T_STATIC","static",74],["T_WHITESPACE"," ",74],["T_FUNCTION","function",74],["T_WHITESPACE"," ",74],["T_STRING","decode",74],"(",["T_VARIABLE","$encodedValue",74],",",["T_WHITESPACE"," ",74],["T_VARIABLE","$objectDecodeType",74],["T_WHITESPACE"," ",74],"=",["T_WHITESPACE"," ",74],["T_STRING","Zend_Json",74],["T_DOUBLE_COLON","::",74],["T_STRING","TYPE_ARRAY",74],")",["T_WHITESPACE","\n    ",74],"{",["T_WHITESPACE","\n        ",75],["T_VARIABLE","$encodedValue",76],["T_WHITESPACE"," ",76],"=",["T_WHITESPACE"," ",76],["T_STRING_CAST","(string)",76],["T_WHITESPACE"," ",76],["T_VARIABLE","$encodedValue",76],";",["T_WHITESPACE","\n        ",76],["T_IF","if",77],["T_WHITESPACE"," ",77],"(",["T_STRING","function_exists",77],"(",["T_CONSTANT_ENCAPSED_STRING","'json_decode'",77],")",["T_WHITESPACE"," ",77],["T_BOOLEAN_AND","&&",77],["T_WHITESPACE"," ",77],["T_STRING","self",77],["T_DOUBLE_COLON","::",77],["T_VARIABLE","$useBuiltinEncoderDecoder",77],["T_WHITESPACE"," ",77],["T_IS_NOT_IDENTICAL","!==",77],["T_WHITESPACE"," ",77],["T_STRING","true",77],")",["T_WHITESPACE"," ",77],"{",["T_WHITESPACE","\n            ",77],["T_VARIABLE","$decode",78],["T_WHITESPACE"," ",78],"=",["T_WHITESPACE"," ",78],["T_STRING","json_decode",78],"(",["T_VARIABLE","$encodedValue",78],",",["T_WHITESPACE"," ",78],["T_VARIABLE","$objectDecodeType",78],")",";",["T_WHITESPACE","\n\n            ",78],["T_COMMENT","\/\/ php < 5.3\n",80],["T_WHITESPACE","            ",81],["T_IF","if",81],["T_WHITESPACE"," ",81],"(","!",["T_STRING","function_exists",81],"(",["T_CONSTANT_ENCAPSED_STRING","'json_last_error'",81],")",")",["T_WHITESPACE"," ",81],"{",["T_WHITESPACE","\n                ",81],["T_IF","if",82],["T_WHITESPACE"," ",82],"(",["T_STRING","strtolower",82],"(",["T_VARIABLE","$encodedValue",82],")",["T_WHITESPACE"," ",82],["T_IS_IDENTICAL","===",82],["T_WHITESPACE"," ",82],["T_CONSTANT_ENCAPSED_STRING","'null'",82],")",["T_WHITESPACE"," ",82],"{",["T_WHITESPACE","\n                    ",82],["T_RETURN","return",83],["T_WHITESPACE"," ",83],["T_STRING","null",83],";",["T_WHITESPACE","\n                ",83],"}",["T_WHITESPACE"," ",84],["T_ELSEIF","elseif",84],["T_WHITESPACE"," ",84],"(",["T_VARIABLE","$decode",84],["T_WHITESPACE"," ",84],["T_IS_IDENTICAL","===",84],["T_WHITESPACE"," ",84],["T_STRING","null",84],")",["T_WHITESPACE"," ",84],"{",["T_WHITESPACE","\n                    ",84],["T_COMMENT","#require_once 'Zend\/Json\/Exception.php';\n",85],["T_WHITESPACE","                    ",86],["T_THROW","throw",86],["T_WHITESPACE"," ",86],["T_NEW","new",86],["T_WHITESPACE"," ",86],["T_STRING","Zend_Json_Exception",86],"(",["T_CONSTANT_ENCAPSED_STRING","'Decoding failed'",86],")",";",["T_WHITESPACE","\n                ",86],"}",["T_WHITESPACE","\n            ",87],["T_COMMENT","\/\/ php >= 5.3\n",88],["T_WHITESPACE","            ",89],"}",["T_WHITESPACE"," ",89],["T_ELSEIF","elseif",89],["T_WHITESPACE"," ",89],"(","(",["T_VARIABLE","$jsonLastErr",89],["T_WHITESPACE"," ",89],"=",["T_WHITESPACE"," ",89],["T_STRING","json_last_error",89],"(",")",")",["T_WHITESPACE"," ",89],["T_IS_NOT_EQUAL","!=",89],["T_WHITESPACE"," ",89],["T_STRING","JSON_ERROR_NONE",89],")",["T_WHITESPACE"," ",89],"{",["T_WHITESPACE","\n                ",89],["T_COMMENT","#require_once 'Zend\/Json\/Exception.php';\n",90],["T_WHITESPACE","                ",91],["T_SWITCH","switch",91],["T_WHITESPACE"," ",91],"(",["T_VARIABLE","$jsonLastErr",91],")",["T_WHITESPACE"," ",91],"{",["T_WHITESPACE","\n                    ",91],["T_CASE","case",92],["T_WHITESPACE"," ",92],["T_STRING","JSON_ERROR_DEPTH",92],":",["T_WHITESPACE","\n                        ",92],["T_THROW","throw",93],["T_WHITESPACE"," ",93],["T_NEW","new",93],["T_WHITESPACE"," ",93],["T_STRING","Zend_Json_Exception",93],"(",["T_CONSTANT_ENCAPSED_STRING","'Decoding failed: Maximum stack depth exceeded'",93],")",";",["T_WHITESPACE","\n                    ",93],["T_CASE","case",94],["T_WHITESPACE"," ",94],["T_STRING","JSON_ERROR_CTRL_CHAR",94],":",["T_WHITESPACE","\n                        ",94],["T_THROW","throw",95],["T_WHITESPACE"," ",95],["T_NEW","new",95],["T_WHITESPACE"," ",95],["T_STRING","Zend_Json_Exception",95],"(",["T_CONSTANT_ENCAPSED_STRING","'Decoding failed: Unexpected control character found'",95],")",";",["T_WHITESPACE","\n                    ",95],["T_CASE","case",96],["T_WHITESPACE"," ",96],["T_STRING","JSON_ERROR_SYNTAX",96],":",["T_WHITESPACE","\n                        ",96],["T_THROW","throw",97],["T_WHITESPACE"," ",97],["T_NEW","new",97],["T_WHITESPACE"," ",97],["T_STRING","Zend_Json_Exception",97],"(",["T_CONSTANT_ENCAPSED_STRING","'Decoding failed: Syntax error'",97],")",";",["T_WHITESPACE","\n                    ",97],["T_DEFAULT","default",98],":",["T_WHITESPACE","\n                        ",98],["T_THROW","throw",99],["T_WHITESPACE"," ",99],["T_NEW","new",99],["T_WHITESPACE"," ",99],["T_STRING","Zend_Json_Exception",99],"(",["T_CONSTANT_ENCAPSED_STRING","'Decoding failed'",99],")",";",["T_WHITESPACE","\n                ",99],"}",["T_WHITESPACE","\n            ",100],"}",["T_WHITESPACE","\n\n            ",101],["T_RETURN","return",103],["T_WHITESPACE"," ",103],["T_VARIABLE","$decode",103],";",["T_WHITESPACE","\n        ",103],"}",["T_WHITESPACE","\n\n        ",104],["T_COMMENT","#require_once 'Zend\/Json\/Decoder.php';\n",106],["T_WHITESPACE","        ",107],["T_RETURN","return",107],["T_WHITESPACE"," ",107],["T_STRING","Zend_Json_Decoder",107],["T_DOUBLE_COLON","::",107],["T_STRING","decode",107],"(",["T_VARIABLE","$encodedValue",107],",",["T_WHITESPACE"," ",107],["T_VARIABLE","$objectDecodeType",107],")",";",["T_WHITESPACE","\n    ",107],"}",["T_WHITESPACE","\n\n    ",108],["T_DOC_COMMENT","\/**\n     * Encode the mixed $valueToEncode into the JSON format\n     *\n     * Encodes using ext\/json's json_encode() if available.\n     *\n     * NOTE: Object should not contain cycles; the JSON format\n     * does not allow object reference.\n     *\n     * NOTE: Only public variables will be encoded\n     *\n     * NOTE: Encoding native javascript expressions are possible using Zend_Json_Expr.\n     *       You can enable this by setting $options['enableJsonExprFinder'] = true\n     *\n     * @see Zend_Json_Expr\n     *\n     * @param  mixed $valueToEncode\n     * @param  boolean $cycleCheck Optional; whether or not to check for object recursion; off by default\n     * @param  array $options Additional options used during encoding\n     * @return string JSON encoded object\n     *\/",110],["T_WHITESPACE","\n    ",129],["T_PUBLIC","public",130],["T_WHITESPACE"," ",130],["T_STATIC","static",130],["T_WHITESPACE"," ",130],["T_FUNCTION","function",130],["T_WHITESPACE"," ",130],["T_STRING","encode",130],"(",["T_VARIABLE","$valueToEncode",130],",",["T_WHITESPACE"," ",130],["T_VARIABLE","$cycleCheck",130],["T_WHITESPACE"," ",130],"=",["T_WHITESPACE"," ",130],["T_STRING","false",130],",",["T_WHITESPACE"," ",130],["T_VARIABLE","$options",130],["T_WHITESPACE"," ",130],"=",["T_WHITESPACE"," ",130],["T_ARRAY","array",130],"(",")",")",["T_WHITESPACE","\n    ",130],"{",["T_WHITESPACE","\n        ",131],["T_IF","if",132],["T_WHITESPACE"," ",132],"(",["T_STRING","is_object",132],"(",["T_VARIABLE","$valueToEncode",132],")",")",["T_WHITESPACE"," ",132],"{",["T_WHITESPACE","\n            ",132],["T_IF","if",133],["T_WHITESPACE"," ",133],"(",["T_STRING","method_exists",133],"(",["T_VARIABLE","$valueToEncode",133],",",["T_WHITESPACE"," ",133],["T_CONSTANT_ENCAPSED_STRING","'toJson'",133],")",")",["T_WHITESPACE"," ",133],"{",["T_WHITESPACE","\n                ",133],["T_RETURN","return",134],["T_WHITESPACE"," ",134],["T_VARIABLE","$valueToEncode",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","toJson",134],"(",")",";",["T_WHITESPACE","\n            ",134],"}",["T_WHITESPACE"," ",135],["T_ELSEIF","elseif",135],["T_WHITESPACE"," ",135],"(",["T_STRING","method_exists",135],"(",["T_VARIABLE","$valueToEncode",135],",",["T_WHITESPACE"," ",135],["T_CONSTANT_ENCAPSED_STRING","'toArray'",135],")",")",["T_WHITESPACE"," ",135],"{",["T_WHITESPACE","\n                ",135],["T_RETURN","return",136],["T_WHITESPACE"," ",136],["T_STRING","self",136],["T_DOUBLE_COLON","::",136],["T_STRING","encode",136],"(",["T_VARIABLE","$valueToEncode",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","toArray",136],"(",")",",",["T_WHITESPACE"," ",136],["T_VARIABLE","$cycleCheck",136],",",["T_WHITESPACE"," ",136],["T_VARIABLE","$options",136],")",";",["T_WHITESPACE","\n            ",136],"}",["T_WHITESPACE","\n        ",137],"}",["T_WHITESPACE","\n\n        ",138],["T_COMMENT","\/\/ Pre-encoding look for Zend_Json_Expr objects and replacing by tmp ids\n",140],["T_WHITESPACE","        ",141],["T_VARIABLE","$javascriptExpressions",141],["T_WHITESPACE"," ",141],"=",["T_WHITESPACE"," ",141],["T_ARRAY","array",141],"(",")",";",["T_WHITESPACE","\n        ",141],["T_IF","if",142],"(",["T_ISSET","isset",142],"(",["T_VARIABLE","$options",142],"[",["T_CONSTANT_ENCAPSED_STRING","'enableJsonExprFinder'",142],"]",")",["T_WHITESPACE","\n           ",142],["T_BOOLEAN_AND","&&",143],["T_WHITESPACE"," ",143],"(",["T_VARIABLE","$options",143],"[",["T_CONSTANT_ENCAPSED_STRING","'enableJsonExprFinder'",143],"]",["T_WHITESPACE"," ",143],["T_IS_EQUAL","==",143],["T_WHITESPACE"," ",143],["T_STRING","true",143],")",["T_WHITESPACE","\n        ",143],")",["T_WHITESPACE"," ",144],"{",["T_WHITESPACE","\n            ",144],["T_DOC_COMMENT","\/**\n             * @see Zend_Json_Encoder\n             *\/",145],["T_WHITESPACE","\n            ",147],["T_COMMENT","#require_once \"Zend\/Json\/Encoder.php\";\n",148],["T_WHITESPACE","            ",149],["T_VARIABLE","$valueToEncode",149],["T_WHITESPACE"," ",149],"=",["T_WHITESPACE"," ",149],["T_STRING","self",149],["T_DOUBLE_COLON","::",149],["T_STRING","_recursiveJsonExprFinder",149],"(",["T_VARIABLE","$valueToEncode",149],",",["T_WHITESPACE"," ",149],["T_VARIABLE","$javascriptExpressions",149],")",";",["T_WHITESPACE","\n        ",149],"}",["T_WHITESPACE","\n\n        ",150],["T_COMMENT","\/\/ Encoding\n",152],["T_WHITESPACE","        ",153],["T_IF","if",153],["T_WHITESPACE"," ",153],"(",["T_STRING","function_exists",153],"(",["T_CONSTANT_ENCAPSED_STRING","'json_encode'",153],")",["T_WHITESPACE"," ",153],["T_BOOLEAN_AND","&&",153],["T_WHITESPACE"," ",153],["T_STRING","self",153],["T_DOUBLE_COLON","::",153],["T_VARIABLE","$useBuiltinEncoderDecoder",153],["T_WHITESPACE"," ",153],["T_IS_NOT_IDENTICAL","!==",153],["T_WHITESPACE"," ",153],["T_STRING","true",153],")",["T_WHITESPACE"," ",153],"{",["T_WHITESPACE","\n            ",153],["T_VARIABLE","$encodedResult",154],["T_WHITESPACE"," ",154],"=",["T_WHITESPACE"," ",154],["T_STRING","json_encode",154],"(",["T_VARIABLE","$valueToEncode",154],")",";",["T_WHITESPACE","\n        ",154],"}",["T_WHITESPACE"," ",155],["T_ELSE","else",155],["T_WHITESPACE"," ",155],"{",["T_WHITESPACE","\n            ",155],["T_COMMENT","#require_once 'Zend\/Json\/Encoder.php';\n",156],["T_WHITESPACE","            ",157],["T_VARIABLE","$encodedResult",157],["T_WHITESPACE"," ",157],"=",["T_WHITESPACE"," ",157],["T_STRING","Zend_Json_Encoder",157],["T_DOUBLE_COLON","::",157],["T_STRING","encode",157],"(",["T_VARIABLE","$valueToEncode",157],",",["T_WHITESPACE"," ",157],["T_VARIABLE","$cycleCheck",157],",",["T_WHITESPACE"," ",157],["T_VARIABLE","$options",157],")",";",["T_WHITESPACE","\n        ",157],"}",["T_WHITESPACE","\n\n        ",158],["T_COMMENT","\/\/only do post-proccessing to revert back the Zend_Json_Expr if any.\n",160],["T_WHITESPACE","        ",161],["T_IF","if",161],["T_WHITESPACE"," ",161],"(",["T_STRING","count",161],"(",["T_VARIABLE","$javascriptExpressions",161],")",["T_WHITESPACE"," ",161],">",["T_WHITESPACE"," ",161],["T_LNUMBER","0",161],")",["T_WHITESPACE"," ",161],"{",["T_WHITESPACE","\n            ",161],["T_VARIABLE","$count",162],["T_WHITESPACE"," ",162],"=",["T_WHITESPACE"," ",162],["T_STRING","count",162],"(",["T_VARIABLE","$javascriptExpressions",162],")",";",["T_WHITESPACE","\n            ",162],["T_FOR","for",163],"(",["T_VARIABLE","$i",163],["T_WHITESPACE"," ",163],"=",["T_WHITESPACE"," ",163],["T_LNUMBER","0",163],";",["T_WHITESPACE"," ",163],["T_VARIABLE","$i",163],["T_WHITESPACE"," ",163],"<",["T_WHITESPACE"," ",163],["T_VARIABLE","$count",163],";",["T_WHITESPACE"," ",163],["T_VARIABLE","$i",163],["T_INC","++",163],")",["T_WHITESPACE"," ",163],"{",["T_WHITESPACE","\n                ",163],["T_VARIABLE","$magicKey",164],["T_WHITESPACE"," ",164],"=",["T_WHITESPACE"," ",164],["T_VARIABLE","$javascriptExpressions",164],"[",["T_VARIABLE","$i",164],"]","[",["T_CONSTANT_ENCAPSED_STRING","'magicKey'",164],"]",";",["T_WHITESPACE","\n                ",164],["T_VARIABLE","$value",165],["T_WHITESPACE","    ",165],"=",["T_WHITESPACE"," ",165],["T_VARIABLE","$javascriptExpressions",165],"[",["T_VARIABLE","$i",165],"]","[",["T_CONSTANT_ENCAPSED_STRING","'value'",165],"]",";",["T_WHITESPACE","\n\n                ",165],["T_VARIABLE","$encodedResult",167],["T_WHITESPACE"," ",167],"=",["T_WHITESPACE"," ",167],["T_STRING","str_replace",167],"(",["T_WHITESPACE","\n                    ",167],["T_COMMENT","\/\/instead of replacing \"key:magicKey\", we replace directly magicKey by value because \"key\" never changes.\n",168],["T_WHITESPACE","                    ",169],["T_CONSTANT_ENCAPSED_STRING","'\"'",169],["T_WHITESPACE"," ",169],".",["T_WHITESPACE"," ",169],["T_VARIABLE","$magicKey",169],["T_WHITESPACE"," ",169],".",["T_WHITESPACE"," ",169],["T_CONSTANT_ENCAPSED_STRING","'\"'",169],",",["T_WHITESPACE","\n                    ",169],["T_VARIABLE","$value",170],",",["T_WHITESPACE","\n                    ",170],["T_VARIABLE","$encodedResult",171],["T_WHITESPACE","\n                ",171],")",";",["T_WHITESPACE","\n            ",172],"}",["T_WHITESPACE","\n        ",173],"}",["T_WHITESPACE","\n\n         ",174],["T_RETURN","return",176],["T_WHITESPACE"," ",176],["T_VARIABLE","$encodedResult",176],";",["T_WHITESPACE","\n    ",176],"}",["T_WHITESPACE","\n\n    ",177],["T_DOC_COMMENT","\/**\n     * Check & Replace Zend_Json_Expr for tmp ids in the valueToEncode\n     *\n     * Check if the value is a Zend_Json_Expr, and if replace its value\n     * with a magic key and save the javascript expression in an array.\n     *\n     * NOTE this method is recursive.\n     *\n     * NOTE: This method is used internally by the encode method.\n     *\n     * @see encode\n     * @param array|object|Zend_Json_Expr $value a string - object property to be encoded\n     * @param array $javascriptExpressions\n     * @param null $currentKey\n     *\n     * @internal param mixed $valueToCheck\n     * @return void\n     *\/",179],["T_WHITESPACE","\n    ",196],["T_PROTECTED","protected",197],["T_WHITESPACE"," ",197],["T_STATIC","static",197],["T_WHITESPACE"," ",197],["T_FUNCTION","function",197],["T_WHITESPACE"," ",197],["T_STRING","_recursiveJsonExprFinder",197],"(","&",["T_VARIABLE","$value",197],",",["T_WHITESPACE"," ",197],["T_ARRAY","array",197],["T_WHITESPACE"," ",197],"&",["T_VARIABLE","$javascriptExpressions",197],",",["T_WHITESPACE"," ",197],["T_VARIABLE","$currentKey",197],["T_WHITESPACE"," ",197],"=",["T_WHITESPACE"," ",197],["T_STRING","null",197],")",["T_WHITESPACE","\n    ",197],"{",["T_WHITESPACE","\n         ",198],["T_IF","if",199],["T_WHITESPACE"," ",199],"(",["T_VARIABLE","$value",199],["T_WHITESPACE"," ",199],["T_INSTANCEOF","instanceof",199],["T_WHITESPACE"," ",199],["T_STRING","Zend_Json_Expr",199],")",["T_WHITESPACE"," ",199],"{",["T_WHITESPACE","\n            ",199],["T_COMMENT","\/\/ TODO: Optimize with ascii keys, if performance is bad\n",200],["T_WHITESPACE","            ",201],["T_VARIABLE","$magicKey",201],["T_WHITESPACE"," ",201],"=",["T_WHITESPACE"," ",201],["T_CONSTANT_ENCAPSED_STRING","\"____\"",201],["T_WHITESPACE"," ",201],".",["T_WHITESPACE"," ",201],["T_VARIABLE","$currentKey",201],["T_WHITESPACE"," ",201],".",["T_WHITESPACE"," ",201],["T_CONSTANT_ENCAPSED_STRING","\"_\"",201],["T_WHITESPACE"," ",201],".",["T_WHITESPACE"," ",201],"(",["T_STRING","count",201],"(",["T_VARIABLE","$javascriptExpressions",201],")",")",";",["T_WHITESPACE","\n            ",201],["T_VARIABLE","$javascriptExpressions",202],"[","]",["T_WHITESPACE"," ",202],"=",["T_WHITESPACE"," ",202],["T_ARRAY","array",202],"(",["T_WHITESPACE","\n\n                ",202],["T_COMMENT","\/\/if currentKey is integer, encodeUnicodeString call is not required.\n",204],["T_WHITESPACE","                ",205],["T_CONSTANT_ENCAPSED_STRING","\"magicKey\"",205],["T_WHITESPACE"," ",205],["T_DOUBLE_ARROW","=>",205],["T_WHITESPACE"," ",205],"(",["T_STRING","is_int",205],"(",["T_VARIABLE","$currentKey",205],")",")",["T_WHITESPACE"," ",205],"?",["T_WHITESPACE"," ",205],["T_VARIABLE","$magicKey",205],["T_WHITESPACE"," ",205],":",["T_WHITESPACE"," ",205],["T_STRING","Zend_Json_Encoder",205],["T_DOUBLE_COLON","::",205],["T_STRING","encodeUnicodeString",205],"(",["T_VARIABLE","$magicKey",205],")",",",["T_WHITESPACE","\n                ",205],["T_CONSTANT_ENCAPSED_STRING","\"value\"",206],["T_WHITESPACE","    ",206],["T_DOUBLE_ARROW","=>",206],["T_WHITESPACE"," ",206],["T_VARIABLE","$value",206],["T_OBJECT_OPERATOR","->",206],["T_STRING","__toString",206],"(",")",",",["T_WHITESPACE","\n            ",206],")",";",["T_WHITESPACE","\n            ",207],["T_VARIABLE","$value",208],["T_WHITESPACE"," ",208],"=",["T_WHITESPACE"," ",208],["T_VARIABLE","$magicKey",208],";",["T_WHITESPACE","\n        ",208],"}",["T_WHITESPACE"," ",209],["T_ELSEIF","elseif",209],["T_WHITESPACE"," ",209],"(",["T_STRING","is_array",209],"(",["T_VARIABLE","$value",209],")",")",["T_WHITESPACE"," ",209],"{",["T_WHITESPACE","\n            ",209],["T_FOREACH","foreach",210],["T_WHITESPACE"," ",210],"(",["T_VARIABLE","$value",210],["T_WHITESPACE"," ",210],["T_AS","as",210],["T_WHITESPACE"," ",210],["T_VARIABLE","$k",210],["T_WHITESPACE"," ",210],["T_DOUBLE_ARROW","=>",210],["T_WHITESPACE"," ",210],["T_VARIABLE","$v",210],")",["T_WHITESPACE"," ",210],"{",["T_WHITESPACE","\n                ",210],["T_VARIABLE","$value",211],"[",["T_VARIABLE","$k",211],"]",["T_WHITESPACE"," ",211],"=",["T_WHITESPACE"," ",211],["T_STRING","self",211],["T_DOUBLE_COLON","::",211],["T_STRING","_recursiveJsonExprFinder",211],"(",["T_VARIABLE","$value",211],"[",["T_VARIABLE","$k",211],"]",",",["T_WHITESPACE"," ",211],["T_VARIABLE","$javascriptExpressions",211],",",["T_WHITESPACE"," ",211],["T_VARIABLE","$k",211],")",";",["T_WHITESPACE","\n            ",211],"}",["T_WHITESPACE","\n        ",212],"}",["T_WHITESPACE"," ",213],["T_ELSEIF","elseif",213],["T_WHITESPACE"," ",213],"(",["T_STRING","is_object",213],"(",["T_VARIABLE","$value",213],")",")",["T_WHITESPACE"," ",213],"{",["T_WHITESPACE","\n            ",213],["T_FOREACH","foreach",214],["T_WHITESPACE"," ",214],"(",["T_VARIABLE","$value",214],["T_WHITESPACE"," ",214],["T_AS","as",214],["T_WHITESPACE"," ",214],["T_VARIABLE","$k",214],["T_WHITESPACE"," ",214],["T_DOUBLE_ARROW","=>",214],["T_WHITESPACE"," ",214],["T_VARIABLE","$v",214],")",["T_WHITESPACE"," ",214],"{",["T_WHITESPACE","\n                ",214],["T_VARIABLE","$value",215],["T_OBJECT_OPERATOR","->",215],["T_VARIABLE","$k",215],["T_WHITESPACE"," ",215],"=",["T_WHITESPACE"," ",215],["T_STRING","self",215],["T_DOUBLE_COLON","::",215],["T_STRING","_recursiveJsonExprFinder",215],"(",["T_VARIABLE","$value",215],["T_OBJECT_OPERATOR","->",215],["T_VARIABLE","$k",215],",",["T_WHITESPACE"," ",215],["T_VARIABLE","$javascriptExpressions",215],",",["T_WHITESPACE"," ",215],["T_VARIABLE","$k",215],")",";",["T_WHITESPACE","\n            ",215],"}",["T_WHITESPACE","\n        ",216],"}",["T_WHITESPACE","\n        ",217],["T_RETURN","return",218],["T_WHITESPACE"," ",218],["T_VARIABLE","$value",218],";",["T_WHITESPACE","\n    ",218],"}",["T_WHITESPACE","\n\n    ",219],["T_DOC_COMMENT","\/**\n     * Return the value of an XML attribute text or the text between\n     * the XML tags\n     *\n     * In order to allow Zend_Json_Expr from xml, we check if the node\n     * matchs the pattern that try to detect if it is a new Zend_Json_Expr\n     * if it matches, we return a new Zend_Json_Expr instead of a text node\n     *\n     * @param SimpleXMLElement $simpleXmlElementObject\n     * @return Zend_Json_Expr|string\n     *\/",221],["T_WHITESPACE","\n    ",231],["T_PROTECTED","protected",232],["T_WHITESPACE"," ",232],["T_STATIC","static",232],["T_WHITESPACE"," ",232],["T_FUNCTION","function",232],["T_WHITESPACE"," ",232],["T_STRING","_getXmlValue",232],"(",["T_VARIABLE","$simpleXmlElementObject",232],")",["T_WHITESPACE"," ",232],"{",["T_WHITESPACE","\n        ",232],["T_VARIABLE","$pattern",233],["T_WHITESPACE"," ",233],"=",["T_WHITESPACE"," ",233],["T_CONSTANT_ENCAPSED_STRING","'\/^[\\s]*new Zend_Json_Expr[\\s]*\\([\\s]*[\\\"\\']{1}(.*)[\\\"\\']{1}[\\s]*\\)[\\s]*$\/'",233],";",["T_WHITESPACE","\n        ",233],["T_VARIABLE","$matchings",234],["T_WHITESPACE"," ",234],"=",["T_WHITESPACE"," ",234],["T_ARRAY","array",234],"(",")",";",["T_WHITESPACE","\n        ",234],["T_VARIABLE","$match",235],["T_WHITESPACE"," ",235],"=",["T_WHITESPACE"," ",235],["T_STRING","preg_match",235],["T_WHITESPACE"," ",235],"(",["T_VARIABLE","$pattern",235],",",["T_WHITESPACE"," ",235],["T_VARIABLE","$simpleXmlElementObject",235],",",["T_WHITESPACE"," ",235],["T_VARIABLE","$matchings",235],")",";",["T_WHITESPACE","\n        ",235],["T_IF","if",236],["T_WHITESPACE"," ",236],"(",["T_VARIABLE","$match",236],")",["T_WHITESPACE"," ",236],"{",["T_WHITESPACE","\n            ",236],["T_RETURN","return",237],["T_WHITESPACE"," ",237],["T_NEW","new",237],["T_WHITESPACE"," ",237],["T_STRING","Zend_Json_Expr",237],"(",["T_VARIABLE","$matchings",237],"[",["T_LNUMBER","1",237],"]",")",";",["T_WHITESPACE","\n        ",237],"}",["T_WHITESPACE"," ",238],["T_ELSE","else",238],["T_WHITESPACE"," ",238],"{",["T_WHITESPACE","\n            ",238],["T_RETURN","return",239],["T_WHITESPACE"," ",239],"(",["T_STRING","trim",239],"(",["T_STRING","strval",239],"(",["T_VARIABLE","$simpleXmlElementObject",239],")",")",")",";",["T_WHITESPACE","\n        ",239],"}",["T_WHITESPACE","\n    ",240],"}",["T_WHITESPACE","\n    ",241],["T_DOC_COMMENT","\/**\n     * _processXml - Contains the logic for xml2json\n     *\n     * The logic in this function is a recursive one.\n     *\n     * The main caller of this function (i.e. fromXml) needs to provide\n     * only the first two parameters i.e. the SimpleXMLElement object and\n     * the flag for ignoring or not ignoring XML attributes. The third parameter\n     * will be used internally within this function during the recursive calls.\n     *\n     * This function converts the SimpleXMLElement object into a PHP array by\n     * calling a recursive (protected static) function in this class. Once all\n     * the XML elements are stored in the PHP array, it is returned to the caller.\n     *\n     * Throws a Zend_Json_Exception if the XML tree is deeper than the allowed limit.\n     *\n     * @param SimpleXMLElement $simpleXmlElementObject\n     * @param boolean $ignoreXmlAttributes\n     * @param integer $recursionDepth\n     * @return array\n     *\/",242],["T_WHITESPACE","\n    ",262],["T_PROTECTED","protected",263],["T_WHITESPACE"," ",263],["T_STATIC","static",263],["T_WHITESPACE"," ",263],["T_FUNCTION","function",263],["T_WHITESPACE"," ",263],["T_STRING","_processXml",263],"(",["T_VARIABLE","$simpleXmlElementObject",263],",",["T_WHITESPACE"," ",263],["T_VARIABLE","$ignoreXmlAttributes",263],",",["T_WHITESPACE"," ",263],["T_VARIABLE","$recursionDepth",263],"=",["T_LNUMBER","0",263],")",["T_WHITESPACE","\n    ",263],"{",["T_WHITESPACE","\n        ",264],["T_COMMENT","\/\/ Keep an eye on how deeply we are involved in recursion.\n",265],["T_WHITESPACE","        ",266],["T_IF","if",266],["T_WHITESPACE"," ",266],"(",["T_VARIABLE","$recursionDepth",266],["T_WHITESPACE"," ",266],">",["T_WHITESPACE"," ",266],["T_STRING","self",266],["T_DOUBLE_COLON","::",266],["T_VARIABLE","$maxRecursionDepthAllowed",266],")",["T_WHITESPACE"," ",266],"{",["T_WHITESPACE","\n            ",266],["T_COMMENT","\/\/ XML tree is too deep. Exit now by throwing an exception.\n",267],["T_WHITESPACE","            ",268],["T_COMMENT","#require_once 'Zend\/Json\/Exception.php';\n",268],["T_WHITESPACE","            ",269],["T_THROW","throw",269],["T_WHITESPACE"," ",269],["T_NEW","new",269],["T_WHITESPACE"," ",269],["T_STRING","Zend_Json_Exception",269],"(",["T_WHITESPACE","\n                ",269],["T_CONSTANT_ENCAPSED_STRING","\"Function _processXml exceeded the allowed recursion depth of \"",270],["T_WHITESPACE"," ",270],".",["T_WHITESPACE","\n                ",270],["T_STRING","self",271],["T_DOUBLE_COLON","::",271],["T_VARIABLE","$maxRecursionDepthAllowed",271],")",";",["T_WHITESPACE","\n        ",271],"}",["T_WHITESPACE"," ",272],["T_COMMENT","\/\/ End of if ($recursionDepth > self::$maxRecursionDepthAllowed)\n",272],["T_WHITESPACE","\n        ",273],["T_VARIABLE","$children",274],["T_WHITESPACE"," ",274],"=",["T_WHITESPACE"," ",274],["T_VARIABLE","$simpleXmlElementObject",274],["T_OBJECT_OPERATOR","->",274],["T_STRING","children",274],"(",")",";",["T_WHITESPACE","\n        ",274],["T_VARIABLE","$name",275],["T_WHITESPACE"," ",275],"=",["T_WHITESPACE"," ",275],["T_VARIABLE","$simpleXmlElementObject",275],["T_OBJECT_OPERATOR","->",275],["T_STRING","getName",275],"(",")",";",["T_WHITESPACE","\n        ",275],["T_VARIABLE","$value",276],["T_WHITESPACE"," ",276],"=",["T_WHITESPACE"," ",276],["T_STRING","self",276],["T_DOUBLE_COLON","::",276],["T_STRING","_getXmlValue",276],"(",["T_VARIABLE","$simpleXmlElementObject",276],")",";",["T_WHITESPACE","\n        ",276],["T_VARIABLE","$attributes",277],["T_WHITESPACE"," ",277],"=",["T_WHITESPACE"," ",277],["T_ARRAY_CAST","(array)",277],["T_WHITESPACE"," ",277],["T_VARIABLE","$simpleXmlElementObject",277],["T_OBJECT_OPERATOR","->",277],["T_STRING","attributes",277],"(",")",";",["T_WHITESPACE","\n\n        ",277],["T_IF","if",279],["T_WHITESPACE"," ",279],"(",["T_STRING","count",279],"(",["T_VARIABLE","$children",279],")",["T_WHITESPACE"," ",279],["T_IS_EQUAL","==",279],["T_WHITESPACE"," ",279],["T_LNUMBER","0",279],")",["T_WHITESPACE"," ",279],"{",["T_WHITESPACE","\n            ",279],["T_IF","if",280],["T_WHITESPACE"," ",280],"(","!",["T_EMPTY","empty",280],"(",["T_VARIABLE","$attributes",280],")",["T_WHITESPACE"," ",280],["T_BOOLEAN_AND","&&",280],["T_WHITESPACE"," ",280],"!",["T_VARIABLE","$ignoreXmlAttributes",280],")",["T_WHITESPACE"," ",280],"{",["T_WHITESPACE","\n                ",280],["T_FOREACH","foreach",281],["T_WHITESPACE"," ",281],"(",["T_VARIABLE","$attributes",281],"[",["T_CONSTANT_ENCAPSED_STRING","'@attributes'",281],"]",["T_WHITESPACE"," ",281],["T_AS","as",281],["T_WHITESPACE"," ",281],["T_VARIABLE","$k",281],["T_WHITESPACE"," ",281],["T_DOUBLE_ARROW","=>",281],["T_WHITESPACE"," ",281],["T_VARIABLE","$v",281],")",["T_WHITESPACE"," ",281],"{",["T_WHITESPACE","\n                    ",281],["T_VARIABLE","$attributes",282],"[",["T_CONSTANT_ENCAPSED_STRING","'@attributes'",282],"]","[",["T_VARIABLE","$k",282],"]","=",["T_WHITESPACE"," ",282],["T_STRING","self",282],["T_DOUBLE_COLON","::",282],["T_STRING","_getXmlValue",282],"(",["T_VARIABLE","$v",282],")",";",["T_WHITESPACE","\n                ",282],"}",["T_WHITESPACE","\n                ",283],["T_IF","if",284],["T_WHITESPACE"," ",284],"(","!",["T_EMPTY","empty",284],"(",["T_VARIABLE","$value",284],")",")",["T_WHITESPACE"," ",284],"{",["T_WHITESPACE","\n                    ",284],["T_VARIABLE","$attributes",285],"[",["T_CONSTANT_ENCAPSED_STRING","'@text'",285],"]",["T_WHITESPACE"," ",285],"=",["T_WHITESPACE"," ",285],["T_VARIABLE","$value",285],";",["T_WHITESPACE","\n                ",285],"}",["T_WHITESPACE"," \n                ",286],["T_RETURN","return",287],["T_WHITESPACE"," ",287],["T_ARRAY","array",287],"(",["T_VARIABLE","$name",287],["T_WHITESPACE"," ",287],["T_DOUBLE_ARROW","=>",287],["T_WHITESPACE"," ",287],["T_VARIABLE","$attributes",287],")",";",["T_WHITESPACE","\n            ",287],"}",["T_WHITESPACE"," ",288],["T_ELSE","else",288],["T_WHITESPACE"," ",288],"{",["T_WHITESPACE","\n               ",288],["T_RETURN","return",289],["T_WHITESPACE"," ",289],["T_ARRAY","array",289],"(",["T_VARIABLE","$name",289],["T_WHITESPACE"," ",289],["T_DOUBLE_ARROW","=>",289],["T_WHITESPACE"," ",289],["T_VARIABLE","$value",289],")",";",["T_WHITESPACE","\n            ",289],"}",["T_WHITESPACE","\n        ",290],"}",["T_WHITESPACE"," ",291],["T_ELSE","else",291],["T_WHITESPACE"," ",291],"{",["T_WHITESPACE","\n            ",291],["T_VARIABLE","$childArray",292],"=",["T_WHITESPACE"," ",292],["T_ARRAY","array",292],"(",")",";",["T_WHITESPACE","\n            ",292],["T_FOREACH","foreach",293],["T_WHITESPACE"," ",293],"(",["T_VARIABLE","$children",293],["T_WHITESPACE"," ",293],["T_AS","as",293],["T_WHITESPACE"," ",293],["T_VARIABLE","$child",293],")",["T_WHITESPACE"," ",293],"{",["T_WHITESPACE","\n                ",293],["T_VARIABLE","$childname",294],["T_WHITESPACE"," ",294],"=",["T_WHITESPACE"," ",294],["T_VARIABLE","$child",294],["T_OBJECT_OPERATOR","->",294],["T_STRING","getName",294],"(",")",";",["T_WHITESPACE","\n                ",294],["T_VARIABLE","$element",295],["T_WHITESPACE"," ",295],"=",["T_WHITESPACE"," ",295],["T_STRING","self",295],["T_DOUBLE_COLON","::",295],["T_STRING","_processXml",295],"(",["T_VARIABLE","$child",295],",",["T_VARIABLE","$ignoreXmlAttributes",295],",",["T_VARIABLE","$recursionDepth",295],"+",["T_LNUMBER","1",295],")",";",["T_WHITESPACE","\n                ",295],["T_IF","if",296],["T_WHITESPACE"," ",296],"(",["T_STRING","array_key_exists",296],"(",["T_VARIABLE","$childname",296],",",["T_WHITESPACE"," ",296],["T_VARIABLE","$childArray",296],")",")",["T_WHITESPACE"," ",296],"{",["T_WHITESPACE","\n                    ",296],["T_IF","if",297],["T_WHITESPACE"," ",297],"(",["T_EMPTY","empty",297],"(",["T_VARIABLE","$subChild",297],"[",["T_VARIABLE","$childname",297],"]",")",")",["T_WHITESPACE"," ",297],"{",["T_WHITESPACE","\n                        ",297],["T_VARIABLE","$childArray",298],"[",["T_VARIABLE","$childname",298],"]",["T_WHITESPACE"," ",298],"=",["T_WHITESPACE"," ",298],["T_ARRAY","array",298],"(",["T_VARIABLE","$childArray",298],"[",["T_VARIABLE","$childname",298],"]",")",";",["T_WHITESPACE","\n                        ",298],["T_VARIABLE","$subChild",299],"[",["T_VARIABLE","$childname",299],"]",["T_WHITESPACE"," ",299],"=",["T_WHITESPACE"," ",299],["T_STRING","true",299],";",["T_WHITESPACE","\n                    ",299],"}",["T_WHITESPACE","\n                    ",300],["T_VARIABLE","$childArray",301],"[",["T_VARIABLE","$childname",301],"]","[","]",["T_WHITESPACE"," ",301],"=",["T_WHITESPACE"," ",301],["T_VARIABLE","$element",301],"[",["T_VARIABLE","$childname",301],"]",";",["T_WHITESPACE","\n                ",301],"}",["T_WHITESPACE"," ",302],["T_ELSE","else",302],["T_WHITESPACE"," ",302],"{",["T_WHITESPACE","\n                    ",302],["T_VARIABLE","$childArray",303],"[",["T_VARIABLE","$childname",303],"]",["T_WHITESPACE"," ",303],"=",["T_WHITESPACE"," ",303],["T_VARIABLE","$element",303],"[",["T_VARIABLE","$childname",303],"]",";",["T_WHITESPACE","\n                ",303],"}",["T_WHITESPACE","\n            ",304],"}",["T_WHITESPACE","\n            ",305],["T_IF","if",306],["T_WHITESPACE"," ",306],"(","!",["T_EMPTY","empty",306],"(",["T_VARIABLE","$attributes",306],")",["T_WHITESPACE"," ",306],["T_BOOLEAN_AND","&&",306],["T_WHITESPACE"," ",306],"!",["T_VARIABLE","$ignoreXmlAttributes",306],")",["T_WHITESPACE"," ",306],"{",["T_WHITESPACE","\n                ",306],["T_FOREACH","foreach",307],["T_WHITESPACE"," ",307],"(",["T_VARIABLE","$attributes",307],"[",["T_CONSTANT_ENCAPSED_STRING","'@attributes'",307],"]",["T_WHITESPACE"," ",307],["T_AS","as",307],["T_WHITESPACE"," ",307],["T_VARIABLE","$k",307],["T_WHITESPACE"," ",307],["T_DOUBLE_ARROW","=>",307],["T_WHITESPACE"," ",307],["T_VARIABLE","$v",307],")",["T_WHITESPACE"," ",307],"{",["T_WHITESPACE","\n                    ",307],["T_VARIABLE","$attributes",308],"[",["T_CONSTANT_ENCAPSED_STRING","'@attributes'",308],"]","[",["T_VARIABLE","$k",308],"]",["T_WHITESPACE"," ",308],"=",["T_WHITESPACE"," ",308],["T_STRING","self",308],["T_DOUBLE_COLON","::",308],["T_STRING","_getXmlValue",308],"(",["T_VARIABLE","$v",308],")",";",["T_WHITESPACE","\n                ",308],"}",["T_WHITESPACE","\n                ",309],["T_VARIABLE","$childArray",310],"[",["T_CONSTANT_ENCAPSED_STRING","'@attributes'",310],"]",["T_WHITESPACE"," ",310],"=",["T_WHITESPACE"," ",310],["T_VARIABLE","$attributes",310],"[",["T_CONSTANT_ENCAPSED_STRING","'@attributes'",310],"]",";",["T_WHITESPACE","\n            ",310],"}",["T_WHITESPACE","\n            ",311],["T_IF","if",312],["T_WHITESPACE"," ",312],"(","!",["T_EMPTY","empty",312],"(",["T_VARIABLE","$value",312],")",")",["T_WHITESPACE"," ",312],"{",["T_WHITESPACE","\n                ",312],["T_VARIABLE","$childArray",313],"[",["T_CONSTANT_ENCAPSED_STRING","'@text'",313],"]",["T_WHITESPACE"," ",313],"=",["T_WHITESPACE"," ",313],["T_VARIABLE","$value",313],";",["T_WHITESPACE","\n            ",313],"}",["T_WHITESPACE","\n            ",314],["T_RETURN","return",315],["T_WHITESPACE"," ",315],["T_ARRAY","array",315],"(",["T_VARIABLE","$name",315],["T_WHITESPACE"," ",315],["T_DOUBLE_ARROW","=>",315],["T_WHITESPACE"," ",315],["T_VARIABLE","$childArray",315],")",";",["T_WHITESPACE","\n        ",315],"}",["T_WHITESPACE","\n    ",316],"}",["T_WHITESPACE","\n\n    ",317],["T_DOC_COMMENT","\/**\n     * fromXml - Converts XML to JSON\n     *\n     * Converts a XML formatted string into a JSON formatted string.\n     * The value returned will be a string in JSON format.\n     *\n     * The caller of this function needs to provide only the first parameter,\n     * which is an XML formatted String. The second parameter is optional, which\n     * lets the user to select if the XML attributes in the input XML string\n     * should be included or ignored in xml2json conversion.\n     *\n     * This function converts the XML formatted string into a PHP array by\n     * calling a recursive (protected static) function in this class. Then, it\n     * converts that PHP array into JSON by calling the \"encode\" static funcion.\n     *\n     * Throws a Zend_Json_Exception if the input not a XML formatted string.\n     * NOTE: Encoding native javascript expressions via Zend_Json_Expr is not possible.\n     *\n     * @static\n     * @access public\n     * @param string $xmlStringContents XML String to be converted\n     * @param boolean $ignoreXmlAttributes Include or exclude XML attributes in\n     * the xml2json conversion process.\n     * @return mixed - JSON formatted string on success\n     * @throws Zend_Json_Exception\n     *\/",319],["T_WHITESPACE","\n    ",344],["T_PUBLIC","public",345],["T_WHITESPACE"," ",345],["T_STATIC","static",345],["T_WHITESPACE"," ",345],["T_FUNCTION","function",345],["T_WHITESPACE"," ",345],["T_STRING","fromXml",345],"(",["T_VARIABLE","$xmlStringContents",345],",",["T_WHITESPACE"," ",345],["T_VARIABLE","$ignoreXmlAttributes",345],"=",["T_STRING","true",345],")",["T_WHITESPACE","\n    ",345],"{",["T_WHITESPACE","\n        ",346],["T_COMMENT","\/\/ Load the XML formatted string into a Simple XML Element object.\n",347],["T_WHITESPACE","        ",348],["T_VARIABLE","$simpleXmlElementObject",348],["T_WHITESPACE"," ",348],"=",["T_WHITESPACE"," ",348],["T_STRING","Zend_Xml_Security",348],["T_DOUBLE_COLON","::",348],["T_STRING","scan",348],"(",["T_VARIABLE","$xmlStringContents",348],")",";",["T_WHITESPACE","\n\n        ",348],["T_COMMENT","\/\/ If it is not a valid XML content, throw an exception.\n",350],["T_WHITESPACE","        ",351],["T_IF","if",351],["T_WHITESPACE"," ",351],"(",["T_VARIABLE","$simpleXmlElementObject",351],["T_WHITESPACE"," ",351],["T_IS_EQUAL","==",351],["T_WHITESPACE"," ",351],["T_STRING","null",351],")",["T_WHITESPACE"," ",351],"{",["T_WHITESPACE","\n            ",351],["T_COMMENT","#require_once 'Zend\/Json\/Exception.php';\n",352],["T_WHITESPACE","            ",353],["T_THROW","throw",353],["T_WHITESPACE"," ",353],["T_NEW","new",353],["T_WHITESPACE"," ",353],["T_STRING","Zend_Json_Exception",353],"(",["T_CONSTANT_ENCAPSED_STRING","'Function fromXml was called with an invalid XML formatted string.'",353],")",";",["T_WHITESPACE","\n        ",353],"}",["T_WHITESPACE"," ",354],["T_COMMENT","\/\/ End of if ($simpleXmlElementObject == null)\n",354],["T_WHITESPACE","\n        ",355],["T_VARIABLE","$resultArray",356],["T_WHITESPACE"," ",356],"=",["T_WHITESPACE"," ",356],["T_STRING","null",356],";",["T_WHITESPACE","\n\n        ",356],["T_COMMENT","\/\/ Call the recursive function to convert the XML into a PHP array.\n",358],["T_WHITESPACE","        ",359],["T_VARIABLE","$resultArray",359],["T_WHITESPACE"," ",359],"=",["T_WHITESPACE"," ",359],["T_STRING","self",359],["T_DOUBLE_COLON","::",359],["T_STRING","_processXml",359],"(",["T_VARIABLE","$simpleXmlElementObject",359],",",["T_WHITESPACE"," ",359],["T_VARIABLE","$ignoreXmlAttributes",359],")",";",["T_WHITESPACE","\n\n        ",359],["T_COMMENT","\/\/ Convert the PHP array to JSON using Zend_Json encode method.\n",361],["T_WHITESPACE","        ",362],["T_COMMENT","\/\/ It is just that simple.\n",362],["T_WHITESPACE","        ",363],["T_VARIABLE","$jsonStringOutput",363],["T_WHITESPACE"," ",363],"=",["T_WHITESPACE"," ",363],["T_STRING","self",363],["T_DOUBLE_COLON","::",363],["T_STRING","encode",363],"(",["T_VARIABLE","$resultArray",363],")",";",["T_WHITESPACE","\n        ",363],["T_RETURN","return",364],"(",["T_VARIABLE","$jsonStringOutput",364],")",";",["T_WHITESPACE","\n    ",364],"}",["T_WHITESPACE","\n\n    \n\n    ",365],["T_DOC_COMMENT","\/**\n     * Pretty-print JSON string\n     *\n     * Use 'format' option to select output format - currently html and txt supported, txt is default\n     * Use 'indent' option to override the indentation string set in the format - by default for the 'txt' format it's a tab\n     *\n     * @param string $json Original JSON string\n     * @param array $options Encoding options\n     * @return string\n     *\/",369],["T_WHITESPACE","\n    ",378],["T_PUBLIC","public",379],["T_WHITESPACE"," ",379],["T_STATIC","static",379],["T_WHITESPACE"," ",379],["T_FUNCTION","function",379],["T_WHITESPACE"," ",379],["T_STRING","prettyPrint",379],"(",["T_VARIABLE","$json",379],",",["T_WHITESPACE"," ",379],["T_VARIABLE","$options",379],["T_WHITESPACE"," ",379],"=",["T_WHITESPACE"," ",379],["T_ARRAY","array",379],"(",")",")",["T_WHITESPACE","\n    ",379],"{",["T_WHITESPACE","\n        ",380],["T_VARIABLE","$tokens",381],["T_WHITESPACE"," ",381],"=",["T_WHITESPACE"," ",381],["T_STRING","preg_split",381],"(",["T_CONSTANT_ENCAPSED_STRING","'|([\\{\\}\\]\\[,])|'",381],",",["T_WHITESPACE"," ",381],["T_VARIABLE","$json",381],",",["T_WHITESPACE"," ",381],"-",["T_LNUMBER","1",381],",",["T_WHITESPACE"," ",381],["T_STRING","PREG_SPLIT_DELIM_CAPTURE",381],")",";",["T_WHITESPACE","\n        ",381],["T_VARIABLE","$result",382],["T_WHITESPACE"," ",382],"=",["T_WHITESPACE"," ",382],["T_CONSTANT_ENCAPSED_STRING","''",382],";",["T_WHITESPACE","\n        ",382],["T_VARIABLE","$indent",383],["T_WHITESPACE"," ",383],"=",["T_WHITESPACE"," ",383],["T_LNUMBER","0",383],";",["T_WHITESPACE","\n\n        ",383],["T_VARIABLE","$format",385],"=",["T_WHITESPACE"," ",385],["T_CONSTANT_ENCAPSED_STRING","'txt'",385],";",["T_WHITESPACE","\n\n        ",385],["T_VARIABLE","$ind",387],["T_WHITESPACE"," ",387],"=",["T_WHITESPACE"," ",387],["T_CONSTANT_ENCAPSED_STRING","\"\\t\"",387],";",["T_WHITESPACE","\n\n        ",387],["T_IF","if",389],["T_WHITESPACE"," ",389],"(",["T_ISSET","isset",389],"(",["T_VARIABLE","$options",389],"[",["T_CONSTANT_ENCAPSED_STRING","'format'",389],"]",")",")",["T_WHITESPACE"," ",389],"{",["T_WHITESPACE","\n            ",389],["T_VARIABLE","$format",390],["T_WHITESPACE"," ",390],"=",["T_WHITESPACE"," ",390],["T_VARIABLE","$options",390],"[",["T_CONSTANT_ENCAPSED_STRING","'format'",390],"]",";",["T_WHITESPACE","\n        ",390],"}",["T_WHITESPACE","\n\n        ",391],["T_SWITCH","switch",393],["T_WHITESPACE"," ",393],"(",["T_VARIABLE","$format",393],")",["T_WHITESPACE"," ",393],"{",["T_WHITESPACE","\n            ",393],["T_CASE","case",394],["T_WHITESPACE"," ",394],["T_CONSTANT_ENCAPSED_STRING","'html'",394],":",["T_WHITESPACE","\n                ",394],["T_VARIABLE","$lineBreak",395],["T_WHITESPACE"," ",395],"=",["T_WHITESPACE"," ",395],["T_CONSTANT_ENCAPSED_STRING","'<br \/>'",395],";",["T_WHITESPACE","\n                ",395],["T_VARIABLE","$ind",396],["T_WHITESPACE"," ",396],"=",["T_WHITESPACE"," ",396],["T_CONSTANT_ENCAPSED_STRING","'&nbsp;&nbsp;&nbsp;&nbsp;'",396],";",["T_WHITESPACE","\n                ",396],["T_BREAK","break",397],";",["T_WHITESPACE","\n            ",397],["T_DEFAULT","default",398],":",["T_WHITESPACE","\n            ",398],["T_CASE","case",399],["T_WHITESPACE"," ",399],["T_CONSTANT_ENCAPSED_STRING","'txt'",399],":",["T_WHITESPACE","\n                ",399],["T_VARIABLE","$lineBreak",400],["T_WHITESPACE"," ",400],"=",["T_WHITESPACE"," ",400],["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",400],";",["T_WHITESPACE","\n                ",400],["T_VARIABLE","$ind",401],["T_WHITESPACE"," ",401],"=",["T_WHITESPACE"," ",401],["T_CONSTANT_ENCAPSED_STRING","\"\\t\"",401],";",["T_WHITESPACE","\n                ",401],["T_BREAK","break",402],";",["T_WHITESPACE","\n        ",402],"}",["T_WHITESPACE","\n\n        ",403],["T_COMMENT","\/\/ override the defined indent setting with the supplied option\n",405],["T_WHITESPACE","        ",406],["T_IF","if",406],["T_WHITESPACE"," ",406],"(",["T_ISSET","isset",406],"(",["T_VARIABLE","$options",406],"[",["T_CONSTANT_ENCAPSED_STRING","'indent'",406],"]",")",")",["T_WHITESPACE"," ",406],"{",["T_WHITESPACE","\n            ",406],["T_VARIABLE","$ind",407],["T_WHITESPACE"," ",407],"=",["T_WHITESPACE"," ",407],["T_VARIABLE","$options",407],"[",["T_CONSTANT_ENCAPSED_STRING","'indent'",407],"]",";",["T_WHITESPACE","\n        ",407],"}",["T_WHITESPACE","\n\n        ",408],["T_VARIABLE","$inLiteral",410],["T_WHITESPACE"," ",410],"=",["T_WHITESPACE"," ",410],["T_STRING","false",410],";",["T_WHITESPACE","\n        ",410],["T_FOREACH","foreach",411],"(",["T_VARIABLE","$tokens",411],["T_WHITESPACE"," ",411],["T_AS","as",411],["T_WHITESPACE"," ",411],["T_VARIABLE","$token",411],")",["T_WHITESPACE"," ",411],"{",["T_WHITESPACE","\n            ",411],["T_IF","if",412],"(",["T_VARIABLE","$token",412],["T_WHITESPACE"," ",412],["T_IS_EQUAL","==",412],["T_WHITESPACE"," ",412],["T_CONSTANT_ENCAPSED_STRING","''",412],")",["T_WHITESPACE"," ",412],"{",["T_WHITESPACE","\n                ",412],["T_CONTINUE","continue",413],";",["T_WHITESPACE","\n            ",413],"}",["T_WHITESPACE","\n\n            ",414],["T_VARIABLE","$prefix",416],["T_WHITESPACE"," ",416],"=",["T_WHITESPACE"," ",416],["T_STRING","str_repeat",416],"(",["T_VARIABLE","$ind",416],",",["T_WHITESPACE"," ",416],["T_VARIABLE","$indent",416],")",";",["T_WHITESPACE","\n            ",416],["T_IF","if",417],["T_WHITESPACE"," ",417],"(","!",["T_VARIABLE","$inLiteral",417],["T_WHITESPACE"," ",417],["T_BOOLEAN_AND","&&",417],["T_WHITESPACE"," ",417],"(",["T_VARIABLE","$token",417],["T_WHITESPACE"," ",417],["T_IS_EQUAL","==",417],["T_WHITESPACE"," ",417],["T_CONSTANT_ENCAPSED_STRING","'{'",417],["T_WHITESPACE"," ",417],["T_BOOLEAN_OR","||",417],["T_WHITESPACE"," ",417],["T_VARIABLE","$token",417],["T_WHITESPACE"," ",417],["T_IS_EQUAL","==",417],["T_WHITESPACE"," ",417],["T_CONSTANT_ENCAPSED_STRING","'['",417],")",")",["T_WHITESPACE"," ",417],"{",["T_WHITESPACE","\n                ",417],["T_VARIABLE","$indent",418],["T_INC","++",418],";",["T_WHITESPACE","\n                ",418],["T_IF","if",419],["T_WHITESPACE"," ",419],"(","(",["T_VARIABLE","$result",419],["T_WHITESPACE"," ",419],["T_IS_NOT_EQUAL","!=",419],["T_WHITESPACE"," ",419],["T_CONSTANT_ENCAPSED_STRING","''",419],")",["T_WHITESPACE"," ",419],["T_BOOLEAN_AND","&&",419],["T_WHITESPACE"," ",419],"(",["T_VARIABLE","$result",419],"[","(",["T_STRING","strlen",419],"(",["T_VARIABLE","$result",419],")","-",["T_LNUMBER","1",419],")","]",["T_WHITESPACE"," ",419],["T_IS_EQUAL","==",419],["T_WHITESPACE"," ",419],["T_VARIABLE","$lineBreak",419],")",")",["T_WHITESPACE"," ",419],"{",["T_WHITESPACE","\n                    ",419],["T_VARIABLE","$result",420],["T_WHITESPACE"," ",420],["T_CONCAT_EQUAL",".=",420],["T_WHITESPACE"," ",420],["T_VARIABLE","$prefix",420],";",["T_WHITESPACE","\n                ",420],"}",["T_WHITESPACE","\n                ",421],["T_VARIABLE","$result",422],["T_WHITESPACE"," ",422],["T_CONCAT_EQUAL",".=",422],["T_WHITESPACE"," ",422],["T_VARIABLE","$token",422],["T_WHITESPACE"," ",422],".",["T_WHITESPACE"," ",422],["T_VARIABLE","$lineBreak",422],";",["T_WHITESPACE","\n            ",422],"}",["T_WHITESPACE"," ",423],["T_ELSEIF","elseif",423],["T_WHITESPACE"," ",423],"(","!",["T_VARIABLE","$inLiteral",423],["T_WHITESPACE"," ",423],["T_BOOLEAN_AND","&&",423],["T_WHITESPACE"," ",423],"(",["T_VARIABLE","$token",423],["T_WHITESPACE"," ",423],["T_IS_EQUAL","==",423],["T_WHITESPACE"," ",423],["T_CONSTANT_ENCAPSED_STRING","'}'",423],["T_WHITESPACE"," ",423],["T_BOOLEAN_OR","||",423],["T_WHITESPACE"," ",423],["T_VARIABLE","$token",423],["T_WHITESPACE"," ",423],["T_IS_EQUAL","==",423],["T_WHITESPACE"," ",423],["T_CONSTANT_ENCAPSED_STRING","']'",423],")",")",["T_WHITESPACE"," ",423],"{",["T_WHITESPACE","\n                ",423],["T_VARIABLE","$indent",424],["T_DEC","--",424],";",["T_WHITESPACE","\n                ",424],["T_VARIABLE","$prefix",425],["T_WHITESPACE"," ",425],"=",["T_WHITESPACE"," ",425],["T_STRING","str_repeat",425],"(",["T_VARIABLE","$ind",425],",",["T_WHITESPACE"," ",425],["T_VARIABLE","$indent",425],")",";",["T_WHITESPACE","\n                ",425],["T_VARIABLE","$result",426],["T_WHITESPACE"," ",426],["T_CONCAT_EQUAL",".=",426],["T_WHITESPACE"," ",426],["T_VARIABLE","$lineBreak",426],["T_WHITESPACE"," ",426],".",["T_WHITESPACE"," ",426],["T_VARIABLE","$prefix",426],["T_WHITESPACE"," ",426],".",["T_WHITESPACE"," ",426],["T_VARIABLE","$token",426],";",["T_WHITESPACE","\n            ",426],"}",["T_WHITESPACE"," ",427],["T_ELSEIF","elseif",427],["T_WHITESPACE"," ",427],"(","!",["T_VARIABLE","$inLiteral",427],["T_WHITESPACE"," ",427],["T_BOOLEAN_AND","&&",427],["T_WHITESPACE"," ",427],["T_VARIABLE","$token",427],["T_WHITESPACE"," ",427],["T_IS_EQUAL","==",427],["T_WHITESPACE"," ",427],["T_CONSTANT_ENCAPSED_STRING","','",427],")",["T_WHITESPACE"," ",427],"{",["T_WHITESPACE","\n                ",427],["T_VARIABLE","$result",428],["T_WHITESPACE"," ",428],["T_CONCAT_EQUAL",".=",428],["T_WHITESPACE"," ",428],["T_VARIABLE","$token",428],["T_WHITESPACE"," ",428],".",["T_WHITESPACE"," ",428],["T_VARIABLE","$lineBreak",428],";",["T_WHITESPACE","\n            ",428],"}",["T_WHITESPACE"," ",429],["T_ELSE","else",429],["T_WHITESPACE"," ",429],"{",["T_WHITESPACE","\n                ",429],["T_VARIABLE","$result",430],["T_WHITESPACE"," ",430],["T_CONCAT_EQUAL",".=",430],["T_WHITESPACE"," ",430],"(",["T_WHITESPACE"," ",430],["T_VARIABLE","$inLiteral",430],["T_WHITESPACE"," ",430],"?",["T_WHITESPACE"," ",430],["T_CONSTANT_ENCAPSED_STRING","''",430],["T_WHITESPACE"," ",430],":",["T_WHITESPACE"," ",430],["T_VARIABLE","$prefix",430],["T_WHITESPACE"," ",430],")",["T_WHITESPACE"," ",430],".",["T_WHITESPACE"," ",430],["T_VARIABLE","$token",430],";",["T_WHITESPACE","\n                \n                ",430],["T_COMMENT","\/\/ Count # of unescaped double-quotes in token, subtract # of\n",432],["T_WHITESPACE","                ",433],["T_COMMENT","\/\/ escaped double-quotes and if the result is odd then we are \n",433],["T_WHITESPACE","                ",434],["T_COMMENT","\/\/ inside a string literal\n",434],["T_WHITESPACE","                ",435],["T_IF","if",435],["T_WHITESPACE"," ",435],"(","(",["T_STRING","substr_count",435],"(",["T_VARIABLE","$token",435],",",["T_WHITESPACE"," ",435],["T_CONSTANT_ENCAPSED_STRING","\"\\\"\"",435],")","-",["T_STRING","substr_count",435],"(",["T_VARIABLE","$token",435],",",["T_WHITESPACE"," ",435],["T_CONSTANT_ENCAPSED_STRING","\"\\\\\\\"\"",435],")",")",["T_WHITESPACE"," ",435],"%",["T_WHITESPACE"," ",435],["T_LNUMBER","2",435],["T_WHITESPACE"," ",435],["T_IS_NOT_EQUAL","!=",435],["T_WHITESPACE"," ",435],["T_LNUMBER","0",435],")",["T_WHITESPACE"," ",435],"{",["T_WHITESPACE","\n                    ",435],["T_VARIABLE","$inLiteral",436],["T_WHITESPACE"," ",436],"=",["T_WHITESPACE"," ",436],"!",["T_VARIABLE","$inLiteral",436],";",["T_WHITESPACE","\n                ",436],"}",["T_WHITESPACE","\n            ",437],"}",["T_WHITESPACE","\n        ",438],"}",["T_WHITESPACE","\n        ",439],["T_RETURN","return",440],["T_WHITESPACE"," ",440],["T_VARIABLE","$result",440],";",["T_WHITESPACE","\n   ",440],"}",["T_WHITESPACE","\n",441],"}",["T_WHITESPACE","\n",442]]