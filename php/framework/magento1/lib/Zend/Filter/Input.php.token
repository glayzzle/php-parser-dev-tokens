[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Zend Framework\n *\n * LICENSE\n *\n * This source file is subject to the new BSD license that is bundled\n * with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/framework.zend.com\/license\/new-bsd\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@zend.com so we can send you a copy immediately.\n *\n * @category   Zend\n * @package    Zend_Filter\n * @copyright  Copyright (c) 2005-2015 Zend Technologies USA Inc. (http:\/\/www.zend.com)\n * @license    http:\/\/framework.zend.com\/license\/new-bsd     New BSD License\n * @version    $Id$\n *\/",2],["T_WHITESPACE","\n\n",20],["T_DOC_COMMENT","\/**\n * @see Zend_Loader\n *\/",22],["T_WHITESPACE","\n",24],["T_COMMENT","#require_once 'Zend\/Loader.php';\n",25],["T_WHITESPACE","\n",26],["T_DOC_COMMENT","\/**\n * @see Zend_Filter\n *\/",27],["T_WHITESPACE","\n",29],["T_COMMENT","#require_once 'Zend\/Filter.php';\n",30],["T_WHITESPACE","\n",31],["T_DOC_COMMENT","\/**\n * @see Zend_Validate\n *\/",32],["T_WHITESPACE","\n",34],["T_COMMENT","#require_once 'Zend\/Validate.php';\n",35],["T_WHITESPACE","\n",36],["T_DOC_COMMENT","\/**\n * @category   Zend\n * @package    Zend_Filter\n * @copyright  Copyright (c) 2005-2015 Zend Technologies USA Inc. (http:\/\/www.zend.com)\n * @license    http:\/\/framework.zend.com\/license\/new-bsd     New BSD License\n *\/",37],["T_WHITESPACE","\n",42],["T_CLASS","class",43],["T_WHITESPACE"," ",43],["T_STRING","Zend_Filter_Input",43],["T_WHITESPACE","\n",43],"{",["T_WHITESPACE","\n\n    ",44],["T_CONST","const",46],["T_WHITESPACE"," ",46],["T_STRING","ALLOW_EMPTY",46],["T_WHITESPACE","           ",46],"=",["T_WHITESPACE"," ",46],["T_CONSTANT_ENCAPSED_STRING","'allowEmpty'",46],";",["T_WHITESPACE","\n    ",46],["T_CONST","const",47],["T_WHITESPACE"," ",47],["T_STRING","BREAK_CHAIN",47],["T_WHITESPACE","           ",47],"=",["T_WHITESPACE"," ",47],["T_CONSTANT_ENCAPSED_STRING","'breakChainOnFailure'",47],";",["T_WHITESPACE","\n    ",47],["T_CONST","const",48],["T_WHITESPACE"," ",48],["T_STRING","DEFAULT_VALUE",48],["T_WHITESPACE","         ",48],"=",["T_WHITESPACE"," ",48],["T_CONSTANT_ENCAPSED_STRING","'default'",48],";",["T_WHITESPACE","\n    ",48],["T_CONST","const",49],["T_WHITESPACE"," ",49],["T_STRING","MESSAGES",49],["T_WHITESPACE","              ",49],"=",["T_WHITESPACE"," ",49],["T_CONSTANT_ENCAPSED_STRING","'messages'",49],";",["T_WHITESPACE","\n    ",49],["T_CONST","const",50],["T_WHITESPACE"," ",50],["T_STRING","ESCAPE_FILTER",50],["T_WHITESPACE","         ",50],"=",["T_WHITESPACE"," ",50],["T_CONSTANT_ENCAPSED_STRING","'escapeFilter'",50],";",["T_WHITESPACE","\n    ",50],["T_CONST","const",51],["T_WHITESPACE"," ",51],["T_STRING","FIELDS",51],["T_WHITESPACE","                ",51],"=",["T_WHITESPACE"," ",51],["T_CONSTANT_ENCAPSED_STRING","'fields'",51],";",["T_WHITESPACE","\n    ",51],["T_CONST","const",52],["T_WHITESPACE"," ",52],["T_STRING","FILTER",52],["T_WHITESPACE","                ",52],"=",["T_WHITESPACE"," ",52],["T_CONSTANT_ENCAPSED_STRING","'filter'",52],";",["T_WHITESPACE","\n    ",52],["T_CONST","const",53],["T_WHITESPACE"," ",53],["T_STRING","FILTER_CHAIN",53],["T_WHITESPACE","          ",53],"=",["T_WHITESPACE"," ",53],["T_CONSTANT_ENCAPSED_STRING","'filterChain'",53],";",["T_WHITESPACE","\n    ",53],["T_CONST","const",54],["T_WHITESPACE"," ",54],["T_STRING","MISSING_MESSAGE",54],["T_WHITESPACE","       ",54],"=",["T_WHITESPACE"," ",54],["T_CONSTANT_ENCAPSED_STRING","'missingMessage'",54],";",["T_WHITESPACE","\n    ",54],["T_CONST","const",55],["T_WHITESPACE"," ",55],["T_STRING","INPUT_NAMESPACE",55],["T_WHITESPACE","       ",55],"=",["T_WHITESPACE"," ",55],["T_CONSTANT_ENCAPSED_STRING","'inputNamespace'",55],";",["T_WHITESPACE","\n    ",55],["T_CONST","const",56],["T_WHITESPACE"," ",56],["T_STRING","VALIDATOR_NAMESPACE",56],["T_WHITESPACE","   ",56],"=",["T_WHITESPACE"," ",56],["T_CONSTANT_ENCAPSED_STRING","'validatorNamespace'",56],";",["T_WHITESPACE","\n    ",56],["T_CONST","const",57],["T_WHITESPACE"," ",57],["T_STRING","FILTER_NAMESPACE",57],["T_WHITESPACE","      ",57],"=",["T_WHITESPACE"," ",57],["T_CONSTANT_ENCAPSED_STRING","'filterNamespace'",57],";",["T_WHITESPACE","\n    ",57],["T_CONST","const",58],["T_WHITESPACE"," ",58],["T_STRING","NOT_EMPTY_MESSAGE",58],["T_WHITESPACE","     ",58],"=",["T_WHITESPACE"," ",58],["T_CONSTANT_ENCAPSED_STRING","'notEmptyMessage'",58],";",["T_WHITESPACE","\n    ",58],["T_CONST","const",59],["T_WHITESPACE"," ",59],["T_STRING","PRESENCE",59],["T_WHITESPACE","              ",59],"=",["T_WHITESPACE"," ",59],["T_CONSTANT_ENCAPSED_STRING","'presence'",59],";",["T_WHITESPACE","\n    ",59],["T_CONST","const",60],["T_WHITESPACE"," ",60],["T_STRING","PRESENCE_OPTIONAL",60],["T_WHITESPACE","     ",60],"=",["T_WHITESPACE"," ",60],["T_CONSTANT_ENCAPSED_STRING","'optional'",60],";",["T_WHITESPACE","\n    ",60],["T_CONST","const",61],["T_WHITESPACE"," ",61],["T_STRING","PRESENCE_REQUIRED",61],["T_WHITESPACE","     ",61],"=",["T_WHITESPACE"," ",61],["T_CONSTANT_ENCAPSED_STRING","'required'",61],";",["T_WHITESPACE","\n    ",61],["T_CONST","const",62],["T_WHITESPACE"," ",62],["T_STRING","RULE",62],["T_WHITESPACE","                  ",62],"=",["T_WHITESPACE"," ",62],["T_CONSTANT_ENCAPSED_STRING","'rule'",62],";",["T_WHITESPACE","\n    ",62],["T_CONST","const",63],["T_WHITESPACE"," ",63],["T_STRING","RULE_WILDCARD",63],["T_WHITESPACE","         ",63],"=",["T_WHITESPACE"," ",63],["T_CONSTANT_ENCAPSED_STRING","'*'",63],";",["T_WHITESPACE","\n    ",63],["T_CONST","const",64],["T_WHITESPACE"," ",64],["T_STRING","VALIDATE",64],["T_WHITESPACE","              ",64],"=",["T_WHITESPACE"," ",64],["T_CONSTANT_ENCAPSED_STRING","'validate'",64],";",["T_WHITESPACE","\n    ",64],["T_CONST","const",65],["T_WHITESPACE"," ",65],["T_STRING","VALIDATOR",65],["T_WHITESPACE","             ",65],"=",["T_WHITESPACE"," ",65],["T_CONSTANT_ENCAPSED_STRING","'validator'",65],";",["T_WHITESPACE","\n    ",65],["T_CONST","const",66],["T_WHITESPACE"," ",66],["T_STRING","VALIDATOR_CHAIN",66],["T_WHITESPACE","       ",66],"=",["T_WHITESPACE"," ",66],["T_CONSTANT_ENCAPSED_STRING","'validatorChain'",66],";",["T_WHITESPACE","\n    ",66],["T_CONST","const",67],["T_WHITESPACE"," ",67],["T_STRING","VALIDATOR_CHAIN_COUNT",67],["T_WHITESPACE"," ",67],"=",["T_WHITESPACE"," ",67],["T_CONSTANT_ENCAPSED_STRING","'validatorChainCount'",67],";",["T_WHITESPACE","\n\n    ",67],["T_DOC_COMMENT","\/**\n     * @var array Input data, before processing.\n     *\/",69],["T_WHITESPACE","\n    ",71],["T_PROTECTED","protected",72],["T_WHITESPACE"," ",72],["T_VARIABLE","$_data",72],["T_WHITESPACE"," ",72],"=",["T_WHITESPACE"," ",72],["T_ARRAY","array",72],"(",")",";",["T_WHITESPACE","\n\n    ",72],["T_DOC_COMMENT","\/**\n     * @var array Association of rules to filters.\n     *\/",74],["T_WHITESPACE","\n    ",76],["T_PROTECTED","protected",77],["T_WHITESPACE"," ",77],["T_VARIABLE","$_filterRules",77],["T_WHITESPACE"," ",77],"=",["T_WHITESPACE"," ",77],["T_ARRAY","array",77],"(",")",";",["T_WHITESPACE","\n\n    ",77],["T_DOC_COMMENT","\/**\n     * @var array Association of rules to validators.\n     *\/",79],["T_WHITESPACE","\n    ",81],["T_PROTECTED","protected",82],["T_WHITESPACE"," ",82],["T_VARIABLE","$_validatorRules",82],["T_WHITESPACE"," ",82],"=",["T_WHITESPACE"," ",82],["T_ARRAY","array",82],"(",")",";",["T_WHITESPACE","\n\n    ",82],["T_DOC_COMMENT","\/**\n     * @var array After processing data, this contains mapping of valid fields\n     * to field values.\n     *\/",84],["T_WHITESPACE","\n    ",87],["T_PROTECTED","protected",88],["T_WHITESPACE"," ",88],["T_VARIABLE","$_validFields",88],["T_WHITESPACE"," ",88],"=",["T_WHITESPACE"," ",88],["T_ARRAY","array",88],"(",")",";",["T_WHITESPACE","\n\n    ",88],["T_DOC_COMMENT","\/**\n     * @var array After processing data, this contains mapping of validation\n     * rules that did not pass validation to the array of messages returned\n     * by the validator chain.\n     *\/",90],["T_WHITESPACE","\n    ",94],["T_PROTECTED","protected",95],["T_WHITESPACE"," ",95],["T_VARIABLE","$_invalidMessages",95],["T_WHITESPACE"," ",95],"=",["T_WHITESPACE"," ",95],["T_ARRAY","array",95],"(",")",";",["T_WHITESPACE","\n\n    ",95],["T_DOC_COMMENT","\/**\n     * @var array After processing data, this contains mapping of validation\n     * rules that did not pass validation to the array of error identifiers\n     * returned by the validator chain.\n     *\/",97],["T_WHITESPACE","\n    ",101],["T_PROTECTED","protected",102],["T_WHITESPACE"," ",102],["T_VARIABLE","$_invalidErrors",102],["T_WHITESPACE"," ",102],"=",["T_WHITESPACE"," ",102],["T_ARRAY","array",102],"(",")",";",["T_WHITESPACE","\n\n    ",102],["T_DOC_COMMENT","\/**\n     * @var array After processing data, this contains mapping of validation\n     * rules in which some fields were missing to the array of messages\n     * indicating which fields were missing.\n     *\/",104],["T_WHITESPACE","\n    ",108],["T_PROTECTED","protected",109],["T_WHITESPACE"," ",109],["T_VARIABLE","$_missingFields",109],["T_WHITESPACE"," ",109],"=",["T_WHITESPACE"," ",109],["T_ARRAY","array",109],"(",")",";",["T_WHITESPACE","\n\n    ",109],["T_DOC_COMMENT","\/**\n     * @var array After processing, this contains a copy of $_data elements\n     * that were not mentioned in any validation rule.\n     *\/",111],["T_WHITESPACE","\n    ",114],["T_PROTECTED","protected",115],["T_WHITESPACE"," ",115],["T_VARIABLE","$_unknownFields",115],["T_WHITESPACE"," ",115],"=",["T_WHITESPACE"," ",115],["T_ARRAY","array",115],"(",")",";",["T_WHITESPACE","\n\n    ",115],["T_DOC_COMMENT","\/**\n     * @var Zend_Filter_Interface The filter object that is run on values\n     * returned by the getEscaped() method.\n     *\/",117],["T_WHITESPACE","\n    ",120],["T_PROTECTED","protected",121],["T_WHITESPACE"," ",121],["T_VARIABLE","$_defaultEscapeFilter",121],["T_WHITESPACE"," ",121],"=",["T_WHITESPACE"," ",121],["T_STRING","null",121],";",["T_WHITESPACE","\n\n    ",121],["T_DOC_COMMENT","\/**\n     * Plugin loaders\n     * @var array\n     *\/",123],["T_WHITESPACE","\n    ",126],["T_PROTECTED","protected",127],["T_WHITESPACE"," ",127],["T_VARIABLE","$_loaders",127],["T_WHITESPACE"," ",127],"=",["T_WHITESPACE"," ",127],["T_ARRAY","array",127],"(",")",";",["T_WHITESPACE","\n\n    ",127],["T_DOC_COMMENT","\/**\n     * @var array Default values to use when processing filters and validators.\n     *\/",129],["T_WHITESPACE","\n    ",131],["T_PROTECTED","protected",132],["T_WHITESPACE"," ",132],["T_VARIABLE","$_defaults",132],["T_WHITESPACE"," ",132],"=",["T_WHITESPACE"," ",132],["T_ARRAY","array",132],"(",["T_WHITESPACE","\n        ",132],["T_STRING","self",133],["T_DOUBLE_COLON","::",133],["T_STRING","ALLOW_EMPTY",133],["T_WHITESPACE","         ",133],["T_DOUBLE_ARROW","=>",133],["T_WHITESPACE"," ",133],["T_STRING","false",133],",",["T_WHITESPACE","\n        ",133],["T_STRING","self",134],["T_DOUBLE_COLON","::",134],["T_STRING","BREAK_CHAIN",134],["T_WHITESPACE","         ",134],["T_DOUBLE_ARROW","=>",134],["T_WHITESPACE"," ",134],["T_STRING","false",134],",",["T_WHITESPACE","\n        ",134],["T_STRING","self",135],["T_DOUBLE_COLON","::",135],["T_STRING","ESCAPE_FILTER",135],["T_WHITESPACE","       ",135],["T_DOUBLE_ARROW","=>",135],["T_WHITESPACE"," ",135],["T_CONSTANT_ENCAPSED_STRING","'HtmlEntities'",135],",",["T_WHITESPACE","\n        ",135],["T_STRING","self",136],["T_DOUBLE_COLON","::",136],["T_STRING","MISSING_MESSAGE",136],["T_WHITESPACE","     ",136],["T_DOUBLE_ARROW","=>",136],["T_WHITESPACE"," ",136],["T_CONSTANT_ENCAPSED_STRING","\"Field '%field%' is required by rule '%rule%', but the field is missing\"",136],",",["T_WHITESPACE","\n        ",136],["T_STRING","self",137],["T_DOUBLE_COLON","::",137],["T_STRING","NOT_EMPTY_MESSAGE",137],["T_WHITESPACE","   ",137],["T_DOUBLE_ARROW","=>",137],["T_WHITESPACE"," ",137],["T_CONSTANT_ENCAPSED_STRING","\"You must give a non-empty value for field '%field%'\"",137],",",["T_WHITESPACE","\n        ",137],["T_STRING","self",138],["T_DOUBLE_COLON","::",138],["T_STRING","PRESENCE",138],["T_WHITESPACE","            ",138],["T_DOUBLE_ARROW","=>",138],["T_WHITESPACE"," ",138],["T_STRING","self",138],["T_DOUBLE_COLON","::",138],["T_STRING","PRESENCE_OPTIONAL",138],["T_WHITESPACE","\n    ",138],")",";",["T_WHITESPACE","\n\n    ",139],["T_DOC_COMMENT","\/**\n     * @var boolean Set to False initially, this is set to True after the\n     * input data have been processed.  Reset to False in setData() method.\n     *\/",141],["T_WHITESPACE","\n    ",144],["T_PROTECTED","protected",145],["T_WHITESPACE"," ",145],["T_VARIABLE","$_processed",145],["T_WHITESPACE"," ",145],"=",["T_WHITESPACE"," ",145],["T_STRING","false",145],";",["T_WHITESPACE","\n\n    ",145],["T_DOC_COMMENT","\/**\n     * Translation object\n     * @var Zend_Translate\n     *\/",147],["T_WHITESPACE","\n    ",150],["T_PROTECTED","protected",151],["T_WHITESPACE"," ",151],["T_VARIABLE","$_translator",151],";",["T_WHITESPACE","\n\n    ",151],["T_DOC_COMMENT","\/**\n     * Is translation disabled?\n     * @var Boolean\n     *\/",153],["T_WHITESPACE","\n    ",156],["T_PROTECTED","protected",157],["T_WHITESPACE"," ",157],["T_VARIABLE","$_translatorDisabled",157],["T_WHITESPACE"," ",157],"=",["T_WHITESPACE"," ",157],["T_STRING","false",157],";",["T_WHITESPACE","\n\n    ",157],["T_DOC_COMMENT","\/**\n     * @param array $filterRules\n     * @param array $validatorRules\n     * @param array $data       OPTIONAL\n     * @param array $options    OPTIONAL\n     *\/",159],["T_WHITESPACE","\n    ",164],["T_PUBLIC","public",165],["T_WHITESPACE"," ",165],["T_FUNCTION","function",165],["T_WHITESPACE"," ",165],["T_STRING","__construct",165],"(",["T_VARIABLE","$filterRules",165],",",["T_WHITESPACE"," ",165],["T_VARIABLE","$validatorRules",165],",",["T_WHITESPACE"," ",165],["T_ARRAY","array",165],["T_WHITESPACE"," ",165],["T_VARIABLE","$data",165],["T_WHITESPACE"," ",165],"=",["T_WHITESPACE"," ",165],["T_STRING","null",165],",",["T_WHITESPACE"," ",165],["T_ARRAY","array",165],["T_WHITESPACE"," ",165],["T_VARIABLE","$options",165],["T_WHITESPACE"," ",165],"=",["T_WHITESPACE"," ",165],["T_STRING","null",165],")",["T_WHITESPACE","\n    ",165],"{",["T_WHITESPACE","\n        ",166],["T_IF","if",167],["T_WHITESPACE"," ",167],"(",["T_VARIABLE","$options",167],")",["T_WHITESPACE"," ",167],"{",["T_WHITESPACE","\n            ",167],["T_VARIABLE","$this",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","setOptions",168],"(",["T_VARIABLE","$options",168],")",";",["T_WHITESPACE","\n        ",168],"}",["T_WHITESPACE","\n\n        ",169],["T_VARIABLE","$this",171],["T_OBJECT_OPERATOR","->",171],["T_STRING","_filterRules",171],["T_WHITESPACE"," ",171],"=",["T_WHITESPACE"," ",171],["T_ARRAY_CAST","(array)",171],["T_WHITESPACE"," ",171],["T_VARIABLE","$filterRules",171],";",["T_WHITESPACE","\n        ",171],["T_VARIABLE","$this",172],["T_OBJECT_OPERATOR","->",172],["T_STRING","_validatorRules",172],["T_WHITESPACE"," ",172],"=",["T_WHITESPACE"," ",172],["T_ARRAY_CAST","(array)",172],["T_WHITESPACE"," ",172],["T_VARIABLE","$validatorRules",172],";",["T_WHITESPACE","\n\n        ",172],["T_IF","if",174],["T_WHITESPACE"," ",174],"(",["T_VARIABLE","$data",174],")",["T_WHITESPACE"," ",174],"{",["T_WHITESPACE","\n            ",174],["T_VARIABLE","$this",175],["T_OBJECT_OPERATOR","->",175],["T_STRING","setData",175],"(",["T_VARIABLE","$data",175],")",";",["T_WHITESPACE","\n        ",175],"}",["T_WHITESPACE","\n    ",176],"}",["T_WHITESPACE","\n\n    ",177],["T_DOC_COMMENT","\/**\n     * @param mixed $namespaces\n     * @return Zend_Filter_Input\n     * @deprecated since 1.5.0RC1 - use addFilterPrefixPath() or addValidatorPrefixPath instead.\n     *\/",179],["T_WHITESPACE","\n    ",183],["T_PUBLIC","public",184],["T_WHITESPACE"," ",184],["T_FUNCTION","function",184],["T_WHITESPACE"," ",184],["T_STRING","addNamespace",184],"(",["T_VARIABLE","$namespaces",184],")",["T_WHITESPACE","\n    ",184],"{",["T_WHITESPACE","\n        ",185],["T_IF","if",186],["T_WHITESPACE"," ",186],"(","!",["T_STRING","is_array",186],"(",["T_VARIABLE","$namespaces",186],")",")",["T_WHITESPACE"," ",186],"{",["T_WHITESPACE","\n            ",186],["T_VARIABLE","$namespaces",187],["T_WHITESPACE"," ",187],"=",["T_WHITESPACE"," ",187],["T_ARRAY","array",187],"(",["T_VARIABLE","$namespaces",187],")",";",["T_WHITESPACE","\n        ",187],"}",["T_WHITESPACE","\n\n        ",188],["T_FOREACH","foreach",190],["T_WHITESPACE"," ",190],"(",["T_VARIABLE","$namespaces",190],["T_WHITESPACE"," ",190],["T_AS","as",190],["T_WHITESPACE"," ",190],["T_VARIABLE","$namespace",190],")",["T_WHITESPACE"," ",190],"{",["T_WHITESPACE","\n            ",190],["T_VARIABLE","$prefix",191],["T_WHITESPACE"," ",191],"=",["T_WHITESPACE"," ",191],["T_VARIABLE","$namespace",191],";",["T_WHITESPACE","\n            ",191],["T_VARIABLE","$path",192],["T_WHITESPACE"," ",192],"=",["T_WHITESPACE"," ",192],["T_STRING","str_replace",192],"(",["T_CONSTANT_ENCAPSED_STRING","'_'",192],",",["T_WHITESPACE"," ",192],["T_STRING","DIRECTORY_SEPARATOR",192],",",["T_WHITESPACE"," ",192],["T_VARIABLE","$prefix",192],")",";",["T_WHITESPACE","\n            ",192],["T_VARIABLE","$this",193],["T_OBJECT_OPERATOR","->",193],["T_STRING","addFilterPrefixPath",193],"(",["T_VARIABLE","$prefix",193],",",["T_WHITESPACE"," ",193],["T_VARIABLE","$path",193],")",";",["T_WHITESPACE","\n            ",193],["T_VARIABLE","$this",194],["T_OBJECT_OPERATOR","->",194],["T_STRING","addValidatorPrefixPath",194],"(",["T_VARIABLE","$prefix",194],",",["T_WHITESPACE"," ",194],["T_VARIABLE","$path",194],")",";",["T_WHITESPACE","\n        ",194],"}",["T_WHITESPACE","\n\n        ",195],["T_RETURN","return",197],["T_WHITESPACE"," ",197],["T_VARIABLE","$this",197],";",["T_WHITESPACE","\n    ",197],"}",["T_WHITESPACE","\n\n    ",198],["T_DOC_COMMENT","\/**\n     * Add prefix path for all elements\n     *\n     * @param  string $prefix\n     * @param  string $path\n     * @return Zend_Filter_Input\n     *\/",200],["T_WHITESPACE","\n    ",206],["T_PUBLIC","public",207],["T_WHITESPACE"," ",207],["T_FUNCTION","function",207],["T_WHITESPACE"," ",207],["T_STRING","addFilterPrefixPath",207],"(",["T_VARIABLE","$prefix",207],",",["T_WHITESPACE"," ",207],["T_VARIABLE","$path",207],")",["T_WHITESPACE","\n    ",207],"{",["T_WHITESPACE","\n        ",208],["T_VARIABLE","$this",209],["T_OBJECT_OPERATOR","->",209],["T_STRING","getPluginLoader",209],"(",["T_STRING","self",209],["T_DOUBLE_COLON","::",209],["T_STRING","FILTER",209],")",["T_OBJECT_OPERATOR","->",209],["T_STRING","addPrefixPath",209],"(",["T_VARIABLE","$prefix",209],",",["T_WHITESPACE"," ",209],["T_VARIABLE","$path",209],")",";",["T_WHITESPACE","\n\n        ",209],["T_RETURN","return",211],["T_WHITESPACE"," ",211],["T_VARIABLE","$this",211],";",["T_WHITESPACE","\n    ",211],"}",["T_WHITESPACE","\n\n    ",212],["T_DOC_COMMENT","\/**\n     * Add prefix path for all elements\n     *\n     * @param  string $prefix\n     * @param  string $path\n     * @return Zend_Filter_Input\n     *\/",214],["T_WHITESPACE","\n    ",220],["T_PUBLIC","public",221],["T_WHITESPACE"," ",221],["T_FUNCTION","function",221],["T_WHITESPACE"," ",221],["T_STRING","addValidatorPrefixPath",221],"(",["T_VARIABLE","$prefix",221],",",["T_WHITESPACE"," ",221],["T_VARIABLE","$path",221],")",["T_WHITESPACE","\n    ",221],"{",["T_WHITESPACE","\n        ",222],["T_VARIABLE","$this",223],["T_OBJECT_OPERATOR","->",223],["T_STRING","getPluginLoader",223],"(",["T_STRING","self",223],["T_DOUBLE_COLON","::",223],["T_STRING","VALIDATE",223],")",["T_OBJECT_OPERATOR","->",223],["T_STRING","addPrefixPath",223],"(",["T_VARIABLE","$prefix",223],",",["T_WHITESPACE"," ",223],["T_VARIABLE","$path",223],")",";",["T_WHITESPACE","\n\n        ",223],["T_RETURN","return",225],["T_WHITESPACE"," ",225],["T_VARIABLE","$this",225],";",["T_WHITESPACE","\n    ",225],"}",["T_WHITESPACE","\n\n    ",226],["T_DOC_COMMENT","\/**\n     * Set plugin loaders for use with decorators and elements\n     *\n     * @param  Zend_Loader_PluginLoader_Interface $loader\n     * @param  string $type 'filter' or 'validate'\n     * @return Zend_Filter_Input\n     * @throws Zend_Filter_Exception on invalid type\n     *\/",228],["T_WHITESPACE","\n    ",235],["T_PUBLIC","public",236],["T_WHITESPACE"," ",236],["T_FUNCTION","function",236],["T_WHITESPACE"," ",236],["T_STRING","setPluginLoader",236],"(",["T_STRING","Zend_Loader_PluginLoader_Interface",236],["T_WHITESPACE"," ",236],["T_VARIABLE","$loader",236],",",["T_WHITESPACE"," ",236],["T_VARIABLE","$type",236],")",["T_WHITESPACE","\n    ",236],"{",["T_WHITESPACE","\n        ",237],["T_VARIABLE","$type",238],["T_WHITESPACE"," ",238],"=",["T_WHITESPACE"," ",238],["T_STRING","strtolower",238],"(",["T_VARIABLE","$type",238],")",";",["T_WHITESPACE","\n        ",238],["T_SWITCH","switch",239],["T_WHITESPACE"," ",239],"(",["T_VARIABLE","$type",239],")",["T_WHITESPACE"," ",239],"{",["T_WHITESPACE","\n            ",239],["T_CASE","case",240],["T_WHITESPACE"," ",240],["T_STRING","self",240],["T_DOUBLE_COLON","::",240],["T_STRING","FILTER",240],":",["T_WHITESPACE","\n            ",240],["T_CASE","case",241],["T_WHITESPACE"," ",241],["T_STRING","self",241],["T_DOUBLE_COLON","::",241],["T_STRING","VALIDATE",241],":",["T_WHITESPACE","\n                ",241],["T_VARIABLE","$this",242],["T_OBJECT_OPERATOR","->",242],["T_STRING","_loaders",242],"[",["T_VARIABLE","$type",242],"]",["T_WHITESPACE"," ",242],"=",["T_WHITESPACE"," ",242],["T_VARIABLE","$loader",242],";",["T_WHITESPACE","\n                ",242],["T_RETURN","return",243],["T_WHITESPACE"," ",243],["T_VARIABLE","$this",243],";",["T_WHITESPACE","\n            ",243],["T_DEFAULT","default",244],":",["T_WHITESPACE","\n                ",244],["T_COMMENT","#require_once 'Zend\/Filter\/Exception.php';\n",245],["T_WHITESPACE","                ",246],["T_THROW","throw",246],["T_WHITESPACE"," ",246],["T_NEW","new",246],["T_WHITESPACE"," ",246],["T_STRING","Zend_Filter_Exception",246],"(",["T_STRING","sprintf",246],"(",["T_CONSTANT_ENCAPSED_STRING","'Invalid type \"%s\" provided to setPluginLoader()'",246],",",["T_WHITESPACE"," ",246],["T_VARIABLE","$type",246],")",")",";",["T_WHITESPACE","\n        ",246],"}",["T_WHITESPACE","\n\n        ",247],["T_RETURN","return",249],["T_WHITESPACE"," ",249],["T_VARIABLE","$this",249],";",["T_WHITESPACE","\n    ",249],"}",["T_WHITESPACE","\n\n    ",250],["T_DOC_COMMENT","\/**\n     * Retrieve plugin loader for given type\n     *\n     * $type may be one of:\n     * - filter\n     * - validator\n     *\n     * If a plugin loader does not exist for the given type, defaults are\n     * created.\n     *\n     * @param  string $type 'filter' or 'validate'\n     * @return Zend_Loader_PluginLoader_Interface\n     * @throws Zend_Filter_Exception on invalid type\n     *\/",252],["T_WHITESPACE","\n    ",265],["T_PUBLIC","public",266],["T_WHITESPACE"," ",266],["T_FUNCTION","function",266],["T_WHITESPACE"," ",266],["T_STRING","getPluginLoader",266],"(",["T_VARIABLE","$type",266],")",["T_WHITESPACE","\n    ",266],"{",["T_WHITESPACE","\n        ",267],["T_VARIABLE","$type",268],["T_WHITESPACE"," ",268],"=",["T_WHITESPACE"," ",268],["T_STRING","strtolower",268],"(",["T_VARIABLE","$type",268],")",";",["T_WHITESPACE","\n        ",268],["T_IF","if",269],["T_WHITESPACE"," ",269],"(","!",["T_ISSET","isset",269],"(",["T_VARIABLE","$this",269],["T_OBJECT_OPERATOR","->",269],["T_STRING","_loaders",269],"[",["T_VARIABLE","$type",269],"]",")",")",["T_WHITESPACE"," ",269],"{",["T_WHITESPACE","\n            ",269],["T_SWITCH","switch",270],["T_WHITESPACE"," ",270],"(",["T_VARIABLE","$type",270],")",["T_WHITESPACE"," ",270],"{",["T_WHITESPACE","\n                ",270],["T_CASE","case",271],["T_WHITESPACE"," ",271],["T_STRING","self",271],["T_DOUBLE_COLON","::",271],["T_STRING","FILTER",271],":",["T_WHITESPACE","\n                    ",271],["T_VARIABLE","$prefixSegment",272],["T_WHITESPACE"," ",272],"=",["T_WHITESPACE"," ",272],["T_CONSTANT_ENCAPSED_STRING","'Zend_Filter_'",272],";",["T_WHITESPACE","\n                    ",272],["T_VARIABLE","$pathSegment",273],["T_WHITESPACE","   ",273],"=",["T_WHITESPACE"," ",273],["T_CONSTANT_ENCAPSED_STRING","'Zend\/Filter\/'",273],";",["T_WHITESPACE","\n                    ",273],["T_BREAK","break",274],";",["T_WHITESPACE","\n                ",274],["T_CASE","case",275],["T_WHITESPACE"," ",275],["T_STRING","self",275],["T_DOUBLE_COLON","::",275],["T_STRING","VALIDATE",275],":",["T_WHITESPACE","\n                    ",275],["T_VARIABLE","$prefixSegment",276],["T_WHITESPACE"," ",276],"=",["T_WHITESPACE"," ",276],["T_CONSTANT_ENCAPSED_STRING","'Zend_Validate_'",276],";",["T_WHITESPACE","\n                    ",276],["T_VARIABLE","$pathSegment",277],["T_WHITESPACE","   ",277],"=",["T_WHITESPACE"," ",277],["T_CONSTANT_ENCAPSED_STRING","'Zend\/Validate\/'",277],";",["T_WHITESPACE","\n                    ",277],["T_BREAK","break",278],";",["T_WHITESPACE","\n                ",278],["T_DEFAULT","default",279],":",["T_WHITESPACE","\n                    ",279],["T_COMMENT","#require_once 'Zend\/Filter\/Exception.php';\n",280],["T_WHITESPACE","                    ",281],["T_THROW","throw",281],["T_WHITESPACE"," ",281],["T_NEW","new",281],["T_WHITESPACE"," ",281],["T_STRING","Zend_Filter_Exception",281],"(",["T_STRING","sprintf",281],"(",["T_CONSTANT_ENCAPSED_STRING","'Invalid type \"%s\" provided to getPluginLoader()'",281],",",["T_WHITESPACE"," ",281],["T_VARIABLE","$type",281],")",")",";",["T_WHITESPACE","\n            ",281],"}",["T_WHITESPACE","\n\n            ",282],["T_COMMENT","#require_once 'Zend\/Loader\/PluginLoader.php';\n",284],["T_WHITESPACE","            ",285],["T_VARIABLE","$this",285],["T_OBJECT_OPERATOR","->",285],["T_STRING","_loaders",285],"[",["T_VARIABLE","$type",285],"]",["T_WHITESPACE"," ",285],"=",["T_WHITESPACE"," ",285],["T_NEW","new",285],["T_WHITESPACE"," ",285],["T_STRING","Zend_Loader_PluginLoader",285],"(",["T_WHITESPACE","\n                ",285],["T_ARRAY","array",286],"(",["T_VARIABLE","$prefixSegment",286],["T_WHITESPACE"," ",286],["T_DOUBLE_ARROW","=>",286],["T_WHITESPACE"," ",286],["T_VARIABLE","$pathSegment",286],")",["T_WHITESPACE","\n            ",286],")",";",["T_WHITESPACE","\n        ",287],"}",["T_WHITESPACE","\n\n        ",288],["T_RETURN","return",290],["T_WHITESPACE"," ",290],["T_VARIABLE","$this",290],["T_OBJECT_OPERATOR","->",290],["T_STRING","_loaders",290],"[",["T_VARIABLE","$type",290],"]",";",["T_WHITESPACE","\n    ",290],"}",["T_WHITESPACE","\n\n    ",291],["T_DOC_COMMENT","\/**\n     * @return array\n     *\/",293],["T_WHITESPACE","\n    ",295],["T_PUBLIC","public",296],["T_WHITESPACE"," ",296],["T_FUNCTION","function",296],["T_WHITESPACE"," ",296],["T_STRING","getMessages",296],"(",")",["T_WHITESPACE","\n    ",296],"{",["T_WHITESPACE","\n        ",297],["T_VARIABLE","$this",298],["T_OBJECT_OPERATOR","->",298],["T_STRING","_process",298],"(",")",";",["T_WHITESPACE","\n        ",298],["T_RETURN","return",299],["T_WHITESPACE"," ",299],["T_STRING","array_merge",299],"(",["T_VARIABLE","$this",299],["T_OBJECT_OPERATOR","->",299],["T_STRING","_invalidMessages",299],",",["T_WHITESPACE"," ",299],["T_VARIABLE","$this",299],["T_OBJECT_OPERATOR","->",299],["T_STRING","_missingFields",299],")",";",["T_WHITESPACE","\n    ",299],"}",["T_WHITESPACE","\n\n    ",300],["T_DOC_COMMENT","\/**\n     * @return array\n     *\/",302],["T_WHITESPACE","\n    ",304],["T_PUBLIC","public",305],["T_WHITESPACE"," ",305],["T_FUNCTION","function",305],["T_WHITESPACE"," ",305],["T_STRING","getErrors",305],"(",")",["T_WHITESPACE","\n    ",305],"{",["T_WHITESPACE","\n        ",306],["T_VARIABLE","$this",307],["T_OBJECT_OPERATOR","->",307],["T_STRING","_process",307],"(",")",";",["T_WHITESPACE","\n        ",307],["T_RETURN","return",308],["T_WHITESPACE"," ",308],["T_VARIABLE","$this",308],["T_OBJECT_OPERATOR","->",308],["T_STRING","_invalidErrors",308],";",["T_WHITESPACE","\n    ",308],"}",["T_WHITESPACE","\n\n    ",309],["T_DOC_COMMENT","\/**\n     * @return array\n     *\/",311],["T_WHITESPACE","\n    ",313],["T_PUBLIC","public",314],["T_WHITESPACE"," ",314],["T_FUNCTION","function",314],["T_WHITESPACE"," ",314],["T_STRING","getInvalid",314],"(",")",["T_WHITESPACE","\n    ",314],"{",["T_WHITESPACE","\n        ",315],["T_VARIABLE","$this",316],["T_OBJECT_OPERATOR","->",316],["T_STRING","_process",316],"(",")",";",["T_WHITESPACE","\n        ",316],["T_RETURN","return",317],["T_WHITESPACE"," ",317],["T_VARIABLE","$this",317],["T_OBJECT_OPERATOR","->",317],["T_STRING","_invalidMessages",317],";",["T_WHITESPACE","\n    ",317],"}",["T_WHITESPACE","\n\n    ",318],["T_DOC_COMMENT","\/**\n     * @return array\n     *\/",320],["T_WHITESPACE","\n    ",322],["T_PUBLIC","public",323],["T_WHITESPACE"," ",323],["T_FUNCTION","function",323],["T_WHITESPACE"," ",323],["T_STRING","getMissing",323],"(",")",["T_WHITESPACE","\n    ",323],"{",["T_WHITESPACE","\n        ",324],["T_VARIABLE","$this",325],["T_OBJECT_OPERATOR","->",325],["T_STRING","_process",325],"(",")",";",["T_WHITESPACE","\n        ",325],["T_RETURN","return",326],["T_WHITESPACE"," ",326],["T_VARIABLE","$this",326],["T_OBJECT_OPERATOR","->",326],["T_STRING","_missingFields",326],";",["T_WHITESPACE","\n    ",326],"}",["T_WHITESPACE","\n\n    ",327],["T_DOC_COMMENT","\/**\n     * @return array\n     *\/",329],["T_WHITESPACE","\n    ",331],["T_PUBLIC","public",332],["T_WHITESPACE"," ",332],["T_FUNCTION","function",332],["T_WHITESPACE"," ",332],["T_STRING","getUnknown",332],"(",")",["T_WHITESPACE","\n    ",332],"{",["T_WHITESPACE","\n        ",333],["T_VARIABLE","$this",334],["T_OBJECT_OPERATOR","->",334],["T_STRING","_process",334],"(",")",";",["T_WHITESPACE","\n        ",334],["T_RETURN","return",335],["T_WHITESPACE"," ",335],["T_VARIABLE","$this",335],["T_OBJECT_OPERATOR","->",335],["T_STRING","_unknownFields",335],";",["T_WHITESPACE","\n    ",335],"}",["T_WHITESPACE","\n\n    ",336],["T_DOC_COMMENT","\/**\n     * @param string $fieldName OPTIONAL\n     * @return mixed\n     *\/",338],["T_WHITESPACE","\n    ",341],["T_PUBLIC","public",342],["T_WHITESPACE"," ",342],["T_FUNCTION","function",342],["T_WHITESPACE"," ",342],["T_STRING","getEscaped",342],"(",["T_VARIABLE","$fieldName",342],["T_WHITESPACE"," ",342],"=",["T_WHITESPACE"," ",342],["T_STRING","null",342],")",["T_WHITESPACE","\n    ",342],"{",["T_WHITESPACE","\n        ",343],["T_VARIABLE","$this",344],["T_OBJECT_OPERATOR","->",344],["T_STRING","_process",344],"(",")",";",["T_WHITESPACE","\n        ",344],["T_VARIABLE","$this",345],["T_OBJECT_OPERATOR","->",345],["T_STRING","_getDefaultEscapeFilter",345],"(",")",";",["T_WHITESPACE","\n\n        ",345],["T_IF","if",347],["T_WHITESPACE"," ",347],"(",["T_VARIABLE","$fieldName",347],["T_WHITESPACE"," ",347],["T_IS_IDENTICAL","===",347],["T_WHITESPACE"," ",347],["T_STRING","null",347],")",["T_WHITESPACE"," ",347],"{",["T_WHITESPACE","\n            ",347],["T_RETURN","return",348],["T_WHITESPACE"," ",348],["T_VARIABLE","$this",348],["T_OBJECT_OPERATOR","->",348],["T_STRING","_escapeRecursive",348],"(",["T_VARIABLE","$this",348],["T_OBJECT_OPERATOR","->",348],["T_STRING","_validFields",348],")",";",["T_WHITESPACE","\n        ",348],"}",["T_WHITESPACE","\n        ",349],["T_IF","if",350],["T_WHITESPACE"," ",350],"(",["T_STRING","array_key_exists",350],"(",["T_VARIABLE","$fieldName",350],",",["T_WHITESPACE"," ",350],["T_VARIABLE","$this",350],["T_OBJECT_OPERATOR","->",350],["T_STRING","_validFields",350],")",")",["T_WHITESPACE"," ",350],"{",["T_WHITESPACE","\n            ",350],["T_RETURN","return",351],["T_WHITESPACE"," ",351],["T_VARIABLE","$this",351],["T_OBJECT_OPERATOR","->",351],["T_STRING","_escapeRecursive",351],"(",["T_VARIABLE","$this",351],["T_OBJECT_OPERATOR","->",351],["T_STRING","_validFields",351],"[",["T_VARIABLE","$fieldName",351],"]",")",";",["T_WHITESPACE","\n        ",351],"}",["T_WHITESPACE","\n        ",352],["T_RETURN","return",353],["T_WHITESPACE"," ",353],["T_STRING","null",353],";",["T_WHITESPACE","\n    ",353],"}",["T_WHITESPACE","\n\n    ",354],["T_DOC_COMMENT","\/**\n     * @param mixed $value\n     * @return mixed\n     *\/",356],["T_WHITESPACE","\n    ",359],["T_PROTECTED","protected",360],["T_WHITESPACE"," ",360],["T_FUNCTION","function",360],["T_WHITESPACE"," ",360],["T_STRING","_escapeRecursive",360],"(",["T_VARIABLE","$data",360],")",["T_WHITESPACE","\n    ",360],"{",["T_WHITESPACE","\n        ",361],["T_IF","if",362],"(",["T_VARIABLE","$data",362],["T_WHITESPACE"," ",362],["T_IS_IDENTICAL","===",362],["T_WHITESPACE"," ",362],["T_STRING","null",362],")",["T_WHITESPACE"," ",362],"{",["T_WHITESPACE","\n            ",362],["T_RETURN","return",363],["T_WHITESPACE"," ",363],["T_VARIABLE","$data",363],";",["T_WHITESPACE","\n        ",363],"}",["T_WHITESPACE","\n\n        ",364],["T_IF","if",366],["T_WHITESPACE"," ",366],"(","!",["T_STRING","is_array",366],"(",["T_VARIABLE","$data",366],")",")",["T_WHITESPACE"," ",366],"{",["T_WHITESPACE","\n            ",366],["T_RETURN","return",367],["T_WHITESPACE"," ",367],["T_VARIABLE","$this",367],["T_OBJECT_OPERATOR","->",367],["T_STRING","_getDefaultEscapeFilter",367],"(",")",["T_OBJECT_OPERATOR","->",367],["T_STRING","filter",367],"(",["T_VARIABLE","$data",367],")",";",["T_WHITESPACE","\n        ",367],"}",["T_WHITESPACE","\n        ",368],["T_FOREACH","foreach",369],["T_WHITESPACE"," ",369],"(",["T_VARIABLE","$data",369],["T_WHITESPACE"," ",369],["T_AS","as",369],["T_WHITESPACE"," ",369],"&",["T_VARIABLE","$element",369],")",["T_WHITESPACE"," ",369],"{",["T_WHITESPACE","\n            ",369],["T_VARIABLE","$element",370],["T_WHITESPACE"," ",370],"=",["T_WHITESPACE"," ",370],["T_VARIABLE","$this",370],["T_OBJECT_OPERATOR","->",370],["T_STRING","_escapeRecursive",370],"(",["T_VARIABLE","$element",370],")",";",["T_WHITESPACE","\n        ",370],"}",["T_WHITESPACE","\n        ",371],["T_RETURN","return",372],["T_WHITESPACE"," ",372],["T_VARIABLE","$data",372],";",["T_WHITESPACE","\n    ",372],"}",["T_WHITESPACE","\n\n    ",373],["T_DOC_COMMENT","\/**\n     * @param string $fieldName OPTIONAL\n     * @return mixed\n     *\/",375],["T_WHITESPACE","\n    ",378],["T_PUBLIC","public",379],["T_WHITESPACE"," ",379],["T_FUNCTION","function",379],["T_WHITESPACE"," ",379],["T_STRING","getUnescaped",379],"(",["T_VARIABLE","$fieldName",379],["T_WHITESPACE"," ",379],"=",["T_WHITESPACE"," ",379],["T_STRING","null",379],")",["T_WHITESPACE","\n    ",379],"{",["T_WHITESPACE","\n        ",380],["T_VARIABLE","$this",381],["T_OBJECT_OPERATOR","->",381],["T_STRING","_process",381],"(",")",";",["T_WHITESPACE","\n        ",381],["T_IF","if",382],["T_WHITESPACE"," ",382],"(",["T_VARIABLE","$fieldName",382],["T_WHITESPACE"," ",382],["T_IS_IDENTICAL","===",382],["T_WHITESPACE"," ",382],["T_STRING","null",382],")",["T_WHITESPACE"," ",382],"{",["T_WHITESPACE","\n            ",382],["T_RETURN","return",383],["T_WHITESPACE"," ",383],["T_VARIABLE","$this",383],["T_OBJECT_OPERATOR","->",383],["T_STRING","_validFields",383],";",["T_WHITESPACE","\n        ",383],"}",["T_WHITESPACE","\n        ",384],["T_IF","if",385],["T_WHITESPACE"," ",385],"(",["T_STRING","array_key_exists",385],"(",["T_VARIABLE","$fieldName",385],",",["T_WHITESPACE"," ",385],["T_VARIABLE","$this",385],["T_OBJECT_OPERATOR","->",385],["T_STRING","_validFields",385],")",")",["T_WHITESPACE"," ",385],"{",["T_WHITESPACE","\n            ",385],["T_RETURN","return",386],["T_WHITESPACE"," ",386],["T_VARIABLE","$this",386],["T_OBJECT_OPERATOR","->",386],["T_STRING","_validFields",386],"[",["T_VARIABLE","$fieldName",386],"]",";",["T_WHITESPACE","\n        ",386],"}",["T_WHITESPACE","\n        ",387],["T_RETURN","return",388],["T_WHITESPACE"," ",388],["T_STRING","null",388],";",["T_WHITESPACE","\n    ",388],"}",["T_WHITESPACE","\n\n    ",389],["T_DOC_COMMENT","\/**\n     * @param string $fieldName\n     * @return mixed\n     *\/",391],["T_WHITESPACE","\n    ",394],["T_PUBLIC","public",395],["T_WHITESPACE"," ",395],["T_FUNCTION","function",395],["T_WHITESPACE"," ",395],["T_STRING","__get",395],"(",["T_VARIABLE","$fieldName",395],")",["T_WHITESPACE","\n    ",395],"{",["T_WHITESPACE","\n        ",396],["T_RETURN","return",397],["T_WHITESPACE"," ",397],["T_VARIABLE","$this",397],["T_OBJECT_OPERATOR","->",397],["T_STRING","getEscaped",397],"(",["T_VARIABLE","$fieldName",397],")",";",["T_WHITESPACE","\n    ",397],"}",["T_WHITESPACE","\n\n    ",398],["T_DOC_COMMENT","\/**\n     * @return boolean\n     *\/",400],["T_WHITESPACE","\n    ",402],["T_PUBLIC","public",403],["T_WHITESPACE"," ",403],["T_FUNCTION","function",403],["T_WHITESPACE"," ",403],["T_STRING","hasInvalid",403],"(",")",["T_WHITESPACE","\n    ",403],"{",["T_WHITESPACE","\n        ",404],["T_VARIABLE","$this",405],["T_OBJECT_OPERATOR","->",405],["T_STRING","_process",405],"(",")",";",["T_WHITESPACE","\n        ",405],["T_RETURN","return",406],["T_WHITESPACE"," ",406],"!","(",["T_EMPTY","empty",406],"(",["T_VARIABLE","$this",406],["T_OBJECT_OPERATOR","->",406],["T_STRING","_invalidMessages",406],")",")",";",["T_WHITESPACE","\n    ",406],"}",["T_WHITESPACE","\n\n    ",407],["T_DOC_COMMENT","\/**\n     * @return boolean\n     *\/",409],["T_WHITESPACE","\n    ",411],["T_PUBLIC","public",412],["T_WHITESPACE"," ",412],["T_FUNCTION","function",412],["T_WHITESPACE"," ",412],["T_STRING","hasMissing",412],"(",")",["T_WHITESPACE","\n    ",412],"{",["T_WHITESPACE","\n        ",413],["T_VARIABLE","$this",414],["T_OBJECT_OPERATOR","->",414],["T_STRING","_process",414],"(",")",";",["T_WHITESPACE","\n        ",414],["T_RETURN","return",415],["T_WHITESPACE"," ",415],"!","(",["T_EMPTY","empty",415],"(",["T_VARIABLE","$this",415],["T_OBJECT_OPERATOR","->",415],["T_STRING","_missingFields",415],")",")",";",["T_WHITESPACE","\n    ",415],"}",["T_WHITESPACE","\n\n    ",416],["T_DOC_COMMENT","\/**\n     * @return boolean\n     *\/",418],["T_WHITESPACE","\n    ",420],["T_PUBLIC","public",421],["T_WHITESPACE"," ",421],["T_FUNCTION","function",421],["T_WHITESPACE"," ",421],["T_STRING","hasUnknown",421],"(",")",["T_WHITESPACE","\n    ",421],"{",["T_WHITESPACE","\n        ",422],["T_VARIABLE","$this",423],["T_OBJECT_OPERATOR","->",423],["T_STRING","_process",423],"(",")",";",["T_WHITESPACE","\n        ",423],["T_RETURN","return",424],["T_WHITESPACE"," ",424],"!","(",["T_EMPTY","empty",424],"(",["T_VARIABLE","$this",424],["T_OBJECT_OPERATOR","->",424],["T_STRING","_unknownFields",424],")",")",";",["T_WHITESPACE","\n    ",424],"}",["T_WHITESPACE","\n\n    ",425],["T_DOC_COMMENT","\/**\n     * @return boolean\n     *\/",427],["T_WHITESPACE","\n    ",429],["T_PUBLIC","public",430],["T_WHITESPACE"," ",430],["T_FUNCTION","function",430],["T_WHITESPACE"," ",430],["T_STRING","hasValid",430],"(",")",["T_WHITESPACE","\n    ",430],"{",["T_WHITESPACE","\n        ",431],["T_VARIABLE","$this",432],["T_OBJECT_OPERATOR","->",432],["T_STRING","_process",432],"(",")",";",["T_WHITESPACE","\n        ",432],["T_RETURN","return",433],["T_WHITESPACE"," ",433],"!","(",["T_EMPTY","empty",433],"(",["T_VARIABLE","$this",433],["T_OBJECT_OPERATOR","->",433],["T_STRING","_validFields",433],")",")",";",["T_WHITESPACE","\n    ",433],"}",["T_WHITESPACE","\n\n    ",434],["T_DOC_COMMENT","\/**\n     * @param string $fieldName\n     * @return boolean\n     *\/",436],["T_WHITESPACE","\n    ",439],["T_PUBLIC","public",440],["T_WHITESPACE"," ",440],["T_FUNCTION","function",440],["T_WHITESPACE"," ",440],["T_STRING","isValid",440],"(",["T_VARIABLE","$fieldName",440],["T_WHITESPACE"," ",440],"=",["T_WHITESPACE"," ",440],["T_STRING","null",440],")",["T_WHITESPACE","\n    ",440],"{",["T_WHITESPACE","\n        ",441],["T_VARIABLE","$this",442],["T_OBJECT_OPERATOR","->",442],["T_STRING","_process",442],"(",")",";",["T_WHITESPACE","\n        ",442],["T_IF","if",443],["T_WHITESPACE"," ",443],"(",["T_VARIABLE","$fieldName",443],["T_WHITESPACE"," ",443],["T_IS_IDENTICAL","===",443],["T_WHITESPACE"," ",443],["T_STRING","null",443],")",["T_WHITESPACE"," ",443],"{",["T_WHITESPACE","\n            ",443],["T_RETURN","return",444],["T_WHITESPACE"," ",444],"!","(",["T_VARIABLE","$this",444],["T_OBJECT_OPERATOR","->",444],["T_STRING","hasMissing",444],"(",")",["T_WHITESPACE"," ",444],["T_BOOLEAN_OR","||",444],["T_WHITESPACE"," ",444],["T_VARIABLE","$this",444],["T_OBJECT_OPERATOR","->",444],["T_STRING","hasInvalid",444],"(",")",")",";",["T_WHITESPACE","\n        ",444],"}",["T_WHITESPACE","\n        ",445],["T_RETURN","return",446],["T_WHITESPACE"," ",446],["T_STRING","array_key_exists",446],"(",["T_VARIABLE","$fieldName",446],",",["T_WHITESPACE"," ",446],["T_VARIABLE","$this",446],["T_OBJECT_OPERATOR","->",446],["T_STRING","_validFields",446],")",";",["T_WHITESPACE","\n    ",446],"}",["T_WHITESPACE","\n\n    ",447],["T_DOC_COMMENT","\/**\n     * @param string $fieldName\n     * @return boolean\n     *\/",449],["T_WHITESPACE","\n    ",452],["T_PUBLIC","public",453],["T_WHITESPACE"," ",453],["T_FUNCTION","function",453],["T_WHITESPACE"," ",453],["T_STRING","__isset",453],"(",["T_VARIABLE","$fieldName",453],")",["T_WHITESPACE","\n    ",453],"{",["T_WHITESPACE","\n        ",454],["T_VARIABLE","$this",455],["T_OBJECT_OPERATOR","->",455],["T_STRING","_process",455],"(",")",";",["T_WHITESPACE","\n        ",455],["T_RETURN","return",456],["T_WHITESPACE"," ",456],["T_ISSET","isset",456],"(",["T_VARIABLE","$this",456],["T_OBJECT_OPERATOR","->",456],["T_STRING","_validFields",456],"[",["T_VARIABLE","$fieldName",456],"]",")",";",["T_WHITESPACE","\n    ",456],"}",["T_WHITESPACE","\n\n    ",457],["T_DOC_COMMENT","\/**\n     * @return Zend_Filter_Input\n     * @throws Zend_Filter_Exception\n     *\/",459],["T_WHITESPACE","\n    ",462],["T_PUBLIC","public",463],["T_WHITESPACE"," ",463],["T_FUNCTION","function",463],["T_WHITESPACE"," ",463],["T_STRING","process",463],"(",")",["T_WHITESPACE","\n    ",463],"{",["T_WHITESPACE","\n        ",464],["T_VARIABLE","$this",465],["T_OBJECT_OPERATOR","->",465],["T_STRING","_process",465],"(",")",";",["T_WHITESPACE","\n        ",465],["T_IF","if",466],["T_WHITESPACE"," ",466],"(",["T_VARIABLE","$this",466],["T_OBJECT_OPERATOR","->",466],["T_STRING","hasInvalid",466],"(",")",")",["T_WHITESPACE"," ",466],"{",["T_WHITESPACE","\n            ",466],["T_COMMENT","#require_once 'Zend\/Filter\/Exception.php';\n",467],["T_WHITESPACE","            ",468],["T_THROW","throw",468],["T_WHITESPACE"," ",468],["T_NEW","new",468],["T_WHITESPACE"," ",468],["T_STRING","Zend_Filter_Exception",468],"(",["T_CONSTANT_ENCAPSED_STRING","\"Input has invalid fields\"",468],")",";",["T_WHITESPACE","\n        ",468],"}",["T_WHITESPACE","\n        ",469],["T_IF","if",470],["T_WHITESPACE"," ",470],"(",["T_VARIABLE","$this",470],["T_OBJECT_OPERATOR","->",470],["T_STRING","hasMissing",470],"(",")",")",["T_WHITESPACE"," ",470],"{",["T_WHITESPACE","\n            ",470],["T_COMMENT","#require_once 'Zend\/Filter\/Exception.php';\n",471],["T_WHITESPACE","            ",472],["T_THROW","throw",472],["T_WHITESPACE"," ",472],["T_NEW","new",472],["T_WHITESPACE"," ",472],["T_STRING","Zend_Filter_Exception",472],"(",["T_CONSTANT_ENCAPSED_STRING","\"Input has missing fields\"",472],")",";",["T_WHITESPACE","\n        ",472],"}",["T_WHITESPACE","\n\n        ",473],["T_RETURN","return",475],["T_WHITESPACE"," ",475],["T_VARIABLE","$this",475],";",["T_WHITESPACE","\n    ",475],"}",["T_WHITESPACE","\n\n    ",476],["T_DOC_COMMENT","\/**\n     * @param array $data\n     * @return Zend_Filter_Input\n     *\/",478],["T_WHITESPACE","\n    ",481],["T_PUBLIC","public",482],["T_WHITESPACE"," ",482],["T_FUNCTION","function",482],["T_WHITESPACE"," ",482],["T_STRING","setData",482],"(",["T_ARRAY","array",482],["T_WHITESPACE"," ",482],["T_VARIABLE","$data",482],")",["T_WHITESPACE","\n    ",482],"{",["T_WHITESPACE","\n        ",483],["T_VARIABLE","$this",484],["T_OBJECT_OPERATOR","->",484],["T_STRING","_data",484],["T_WHITESPACE"," ",484],"=",["T_WHITESPACE"," ",484],["T_VARIABLE","$data",484],";",["T_WHITESPACE","\n\n        ",484],["T_DOC_COMMENT","\/**\n         * Reset to initial state\n         *\/",486],["T_WHITESPACE","\n        ",488],["T_VARIABLE","$this",489],["T_OBJECT_OPERATOR","->",489],["T_STRING","_validFields",489],["T_WHITESPACE"," ",489],"=",["T_WHITESPACE"," ",489],["T_ARRAY","array",489],"(",")",";",["T_WHITESPACE","\n        ",489],["T_VARIABLE","$this",490],["T_OBJECT_OPERATOR","->",490],["T_STRING","_invalidMessages",490],["T_WHITESPACE"," ",490],"=",["T_WHITESPACE"," ",490],["T_ARRAY","array",490],"(",")",";",["T_WHITESPACE","\n        ",490],["T_VARIABLE","$this",491],["T_OBJECT_OPERATOR","->",491],["T_STRING","_invalidErrors",491],["T_WHITESPACE"," ",491],"=",["T_WHITESPACE"," ",491],["T_ARRAY","array",491],"(",")",";",["T_WHITESPACE","\n        ",491],["T_VARIABLE","$this",492],["T_OBJECT_OPERATOR","->",492],["T_STRING","_missingFields",492],["T_WHITESPACE"," ",492],"=",["T_WHITESPACE"," ",492],["T_ARRAY","array",492],"(",")",";",["T_WHITESPACE","\n        ",492],["T_VARIABLE","$this",493],["T_OBJECT_OPERATOR","->",493],["T_STRING","_unknownFields",493],["T_WHITESPACE"," ",493],"=",["T_WHITESPACE"," ",493],["T_ARRAY","array",493],"(",")",";",["T_WHITESPACE","\n\n        ",493],["T_VARIABLE","$this",495],["T_OBJECT_OPERATOR","->",495],["T_STRING","_processed",495],["T_WHITESPACE"," ",495],"=",["T_WHITESPACE"," ",495],["T_STRING","false",495],";",["T_WHITESPACE","\n\n        ",495],["T_RETURN","return",497],["T_WHITESPACE"," ",497],["T_VARIABLE","$this",497],";",["T_WHITESPACE","\n    ",497],"}",["T_WHITESPACE","\n\n    ",498],["T_DOC_COMMENT","\/**\n     * @param mixed $escapeFilter\n     * @return Zend_Filter_Interface\n     *\/",500],["T_WHITESPACE","\n    ",503],["T_PUBLIC","public",504],["T_WHITESPACE"," ",504],["T_FUNCTION","function",504],["T_WHITESPACE"," ",504],["T_STRING","setDefaultEscapeFilter",504],"(",["T_VARIABLE","$escapeFilter",504],")",["T_WHITESPACE","\n    ",504],"{",["T_WHITESPACE","\n        ",505],["T_IF","if",506],["T_WHITESPACE"," ",506],"(",["T_STRING","is_string",506],"(",["T_VARIABLE","$escapeFilter",506],")",["T_WHITESPACE"," ",506],["T_BOOLEAN_OR","||",506],["T_WHITESPACE"," ",506],["T_STRING","is_array",506],"(",["T_VARIABLE","$escapeFilter",506],")",")",["T_WHITESPACE"," ",506],"{",["T_WHITESPACE","\n            ",506],["T_VARIABLE","$escapeFilter",507],["T_WHITESPACE"," ",507],"=",["T_WHITESPACE"," ",507],["T_VARIABLE","$this",507],["T_OBJECT_OPERATOR","->",507],["T_STRING","_getFilter",507],"(",["T_VARIABLE","$escapeFilter",507],")",";",["T_WHITESPACE","\n        ",507],"}",["T_WHITESPACE","\n        ",508],["T_IF","if",509],["T_WHITESPACE"," ",509],"(","!",["T_VARIABLE","$escapeFilter",509],["T_WHITESPACE"," ",509],["T_INSTANCEOF","instanceof",509],["T_WHITESPACE"," ",509],["T_STRING","Zend_Filter_Interface",509],")",["T_WHITESPACE"," ",509],"{",["T_WHITESPACE","\n            ",509],["T_COMMENT","#require_once 'Zend\/Filter\/Exception.php';\n",510],["T_WHITESPACE","            ",511],["T_THROW","throw",511],["T_WHITESPACE"," ",511],["T_NEW","new",511],["T_WHITESPACE"," ",511],["T_STRING","Zend_Filter_Exception",511],"(",["T_CONSTANT_ENCAPSED_STRING","'Escape filter specified does not implement Zend_Filter_Interface'",511],")",";",["T_WHITESPACE","\n        ",511],"}",["T_WHITESPACE","\n        ",512],["T_VARIABLE","$this",513],["T_OBJECT_OPERATOR","->",513],["T_STRING","_defaultEscapeFilter",513],["T_WHITESPACE"," ",513],"=",["T_WHITESPACE"," ",513],["T_VARIABLE","$escapeFilter",513],";",["T_WHITESPACE","\n        ",513],["T_RETURN","return",514],["T_WHITESPACE"," ",514],["T_VARIABLE","$escapeFilter",514],";",["T_WHITESPACE","\n    ",514],"}",["T_WHITESPACE","\n\n    ",515],["T_DOC_COMMENT","\/**\n     * @param array $options\n     * @return Zend_Filter_Input\n     * @throws Zend_Filter_Exception if an unknown option is given\n     *\/",517],["T_WHITESPACE","\n    ",521],["T_PUBLIC","public",522],["T_WHITESPACE"," ",522],["T_FUNCTION","function",522],["T_WHITESPACE"," ",522],["T_STRING","setOptions",522],"(",["T_ARRAY","array",522],["T_WHITESPACE"," ",522],["T_VARIABLE","$options",522],")",["T_WHITESPACE","\n    ",522],"{",["T_WHITESPACE","\n        ",523],["T_FOREACH","foreach",524],["T_WHITESPACE"," ",524],"(",["T_VARIABLE","$options",524],["T_WHITESPACE"," ",524],["T_AS","as",524],["T_WHITESPACE"," ",524],["T_VARIABLE","$option",524],["T_WHITESPACE"," ",524],["T_DOUBLE_ARROW","=>",524],["T_WHITESPACE"," ",524],["T_VARIABLE","$value",524],")",["T_WHITESPACE"," ",524],"{",["T_WHITESPACE","\n            ",524],["T_SWITCH","switch",525],["T_WHITESPACE"," ",525],"(",["T_VARIABLE","$option",525],")",["T_WHITESPACE"," ",525],"{",["T_WHITESPACE","\n                ",525],["T_CASE","case",526],["T_WHITESPACE"," ",526],["T_STRING","self",526],["T_DOUBLE_COLON","::",526],["T_STRING","ESCAPE_FILTER",526],":",["T_WHITESPACE","\n                    ",526],["T_VARIABLE","$this",527],["T_OBJECT_OPERATOR","->",527],["T_STRING","setDefaultEscapeFilter",527],"(",["T_VARIABLE","$value",527],")",";",["T_WHITESPACE","\n                    ",527],["T_BREAK","break",528],";",["T_WHITESPACE","\n                ",528],["T_CASE","case",529],["T_WHITESPACE"," ",529],["T_STRING","self",529],["T_DOUBLE_COLON","::",529],["T_STRING","INPUT_NAMESPACE",529],":",["T_WHITESPACE","\n                    ",529],["T_VARIABLE","$this",530],["T_OBJECT_OPERATOR","->",530],["T_STRING","addNamespace",530],"(",["T_VARIABLE","$value",530],")",";",["T_WHITESPACE","\n                    ",530],["T_BREAK","break",531],";",["T_WHITESPACE","\n                ",531],["T_CASE","case",532],["T_WHITESPACE"," ",532],["T_STRING","self",532],["T_DOUBLE_COLON","::",532],["T_STRING","VALIDATOR_NAMESPACE",532],":",["T_WHITESPACE","\n                    ",532],["T_IF","if",533],"(",["T_STRING","is_string",533],"(",["T_VARIABLE","$value",533],")",")",["T_WHITESPACE"," ",533],"{",["T_WHITESPACE","\n                        ",533],["T_VARIABLE","$value",534],["T_WHITESPACE"," ",534],"=",["T_WHITESPACE"," ",534],["T_ARRAY","array",534],"(",["T_VARIABLE","$value",534],")",";",["T_WHITESPACE","\n                    ",534],"}",["T_WHITESPACE","\n\n                    ",535],["T_FOREACH","foreach",537],"(",["T_VARIABLE","$value",537],["T_WHITESPACE"," ",537],["T_AS","AS",537],["T_WHITESPACE"," ",537],["T_VARIABLE","$prefix",537],")",["T_WHITESPACE"," ",537],"{",["T_WHITESPACE","\n                        ",537],["T_VARIABLE","$this",538],["T_OBJECT_OPERATOR","->",538],["T_STRING","addValidatorPrefixPath",538],"(",["T_WHITESPACE","\n                                ",538],["T_VARIABLE","$prefix",539],",",["T_WHITESPACE","\n                                ",539],["T_STRING","str_replace",540],"(",["T_CONSTANT_ENCAPSED_STRING","'_'",540],",",["T_WHITESPACE"," ",540],["T_STRING","DIRECTORY_SEPARATOR",540],",",["T_WHITESPACE"," ",540],["T_VARIABLE","$prefix",540],")",["T_WHITESPACE","\n                        ",540],")",";",["T_WHITESPACE","\n                    ",541],"}",["T_WHITESPACE","\n                    ",542],["T_BREAK","break",543],";",["T_WHITESPACE","\n                ",543],["T_CASE","case",544],["T_WHITESPACE"," ",544],["T_STRING","self",544],["T_DOUBLE_COLON","::",544],["T_STRING","FILTER_NAMESPACE",544],":",["T_WHITESPACE","\n                    ",544],["T_IF","if",545],"(",["T_STRING","is_string",545],"(",["T_VARIABLE","$value",545],")",")",["T_WHITESPACE"," ",545],"{",["T_WHITESPACE","\n                        ",545],["T_VARIABLE","$value",546],["T_WHITESPACE"," ",546],"=",["T_WHITESPACE"," ",546],["T_ARRAY","array",546],"(",["T_VARIABLE","$value",546],")",";",["T_WHITESPACE","\n                    ",546],"}",["T_WHITESPACE","\n\n                    ",547],["T_FOREACH","foreach",549],"(",["T_VARIABLE","$value",549],["T_WHITESPACE"," ",549],["T_AS","AS",549],["T_WHITESPACE"," ",549],["T_VARIABLE","$prefix",549],")",["T_WHITESPACE"," ",549],"{",["T_WHITESPACE","\n                        ",549],["T_VARIABLE","$this",550],["T_OBJECT_OPERATOR","->",550],["T_STRING","addFilterPrefixPath",550],"(",["T_WHITESPACE","\n                                ",550],["T_VARIABLE","$prefix",551],",",["T_WHITESPACE","\n                                ",551],["T_STRING","str_replace",552],"(",["T_CONSTANT_ENCAPSED_STRING","'_'",552],",",["T_WHITESPACE"," ",552],["T_STRING","DIRECTORY_SEPARATOR",552],",",["T_WHITESPACE"," ",552],["T_VARIABLE","$prefix",552],")",["T_WHITESPACE","\n                        ",552],")",";",["T_WHITESPACE","\n                    ",553],"}",["T_WHITESPACE","\n                    ",554],["T_BREAK","break",555],";",["T_WHITESPACE","\n                ",555],["T_CASE","case",556],["T_WHITESPACE"," ",556],["T_STRING","self",556],["T_DOUBLE_COLON","::",556],["T_STRING","ALLOW_EMPTY",556],":",["T_WHITESPACE","\n                ",556],["T_CASE","case",557],["T_WHITESPACE"," ",557],["T_STRING","self",557],["T_DOUBLE_COLON","::",557],["T_STRING","BREAK_CHAIN",557],":",["T_WHITESPACE","\n                ",557],["T_CASE","case",558],["T_WHITESPACE"," ",558],["T_STRING","self",558],["T_DOUBLE_COLON","::",558],["T_STRING","MISSING_MESSAGE",558],":",["T_WHITESPACE","\n                ",558],["T_CASE","case",559],["T_WHITESPACE"," ",559],["T_STRING","self",559],["T_DOUBLE_COLON","::",559],["T_STRING","NOT_EMPTY_MESSAGE",559],":",["T_WHITESPACE","\n                ",559],["T_CASE","case",560],["T_WHITESPACE"," ",560],["T_STRING","self",560],["T_DOUBLE_COLON","::",560],["T_STRING","PRESENCE",560],":",["T_WHITESPACE","\n                    ",560],["T_VARIABLE","$this",561],["T_OBJECT_OPERATOR","->",561],["T_STRING","_defaults",561],"[",["T_VARIABLE","$option",561],"]",["T_WHITESPACE"," ",561],"=",["T_WHITESPACE"," ",561],["T_VARIABLE","$value",561],";",["T_WHITESPACE","\n                    ",561],["T_BREAK","break",562],";",["T_WHITESPACE","\n                ",562],["T_DEFAULT","default",563],":",["T_WHITESPACE","\n                    ",563],["T_COMMENT","#require_once 'Zend\/Filter\/Exception.php';\n",564],["T_WHITESPACE","                    ",565],["T_THROW","throw",565],["T_WHITESPACE"," ",565],["T_NEW","new",565],["T_WHITESPACE"," ",565],["T_STRING","Zend_Filter_Exception",565],"(","\"",["T_ENCAPSED_AND_WHITESPACE","Unknown option '",565],["T_VARIABLE","$option",565],["T_ENCAPSED_AND_WHITESPACE","'",565],"\"",")",";",["T_WHITESPACE","\n                    ",565],["T_BREAK","break",566],";",["T_WHITESPACE","\n            ",566],"}",["T_WHITESPACE","\n        ",567],"}",["T_WHITESPACE","\n\n        ",568],["T_RETURN","return",570],["T_WHITESPACE"," ",570],["T_VARIABLE","$this",570],";",["T_WHITESPACE","\n    ",570],"}",["T_WHITESPACE","\n\n    ",571],["T_DOC_COMMENT","\/**\n     * Set translation object\n     *\n     * @param  Zend_Translate|Zend_Translate_Adapter|null $translator\n     * @return Zend_Filter_Input\n     *\/",573],["T_WHITESPACE","\n    ",578],["T_PUBLIC","public",579],["T_WHITESPACE"," ",579],["T_FUNCTION","function",579],["T_WHITESPACE"," ",579],["T_STRING","setTranslator",579],"(",["T_VARIABLE","$translator",579],["T_WHITESPACE"," ",579],"=",["T_WHITESPACE"," ",579],["T_STRING","null",579],")",["T_WHITESPACE","\n    ",579],"{",["T_WHITESPACE","\n        ",580],["T_IF","if",581],["T_WHITESPACE"," ",581],"(","(",["T_STRING","null",581],["T_WHITESPACE"," ",581],["T_IS_IDENTICAL","===",581],["T_WHITESPACE"," ",581],["T_VARIABLE","$translator",581],")",["T_WHITESPACE"," ",581],["T_BOOLEAN_OR","||",581],["T_WHITESPACE"," ",581],"(",["T_VARIABLE","$translator",581],["T_WHITESPACE"," ",581],["T_INSTANCEOF","instanceof",581],["T_WHITESPACE"," ",581],["T_STRING","Zend_Translate_Adapter",581],")",")",["T_WHITESPACE"," ",581],"{",["T_WHITESPACE","\n            ",581],["T_VARIABLE","$this",582],["T_OBJECT_OPERATOR","->",582],["T_STRING","_translator",582],["T_WHITESPACE"," ",582],"=",["T_WHITESPACE"," ",582],["T_VARIABLE","$translator",582],";",["T_WHITESPACE","\n        ",582],"}",["T_WHITESPACE"," ",583],["T_ELSEIF","elseif",583],["T_WHITESPACE"," ",583],"(",["T_VARIABLE","$translator",583],["T_WHITESPACE"," ",583],["T_INSTANCEOF","instanceof",583],["T_WHITESPACE"," ",583],["T_STRING","Zend_Translate",583],")",["T_WHITESPACE"," ",583],"{",["T_WHITESPACE","\n            ",583],["T_VARIABLE","$this",584],["T_OBJECT_OPERATOR","->",584],["T_STRING","_translator",584],["T_WHITESPACE"," ",584],"=",["T_WHITESPACE"," ",584],["T_VARIABLE","$translator",584],["T_OBJECT_OPERATOR","->",584],["T_STRING","getAdapter",584],"(",")",";",["T_WHITESPACE","\n        ",584],"}",["T_WHITESPACE"," ",585],["T_ELSE","else",585],["T_WHITESPACE"," ",585],"{",["T_WHITESPACE","\n            ",585],["T_COMMENT","#require_once 'Zend\/Validate\/Exception.php';\n",586],["T_WHITESPACE","            ",587],["T_THROW","throw",587],["T_WHITESPACE"," ",587],["T_NEW","new",587],["T_WHITESPACE"," ",587],["T_STRING","Zend_Validate_Exception",587],"(",["T_CONSTANT_ENCAPSED_STRING","'Invalid translator specified'",587],")",";",["T_WHITESPACE","\n        ",587],"}",["T_WHITESPACE","\n\n        ",588],["T_RETURN","return",590],["T_WHITESPACE"," ",590],["T_VARIABLE","$this",590],";",["T_WHITESPACE","\n    ",590],"}",["T_WHITESPACE","\n\n    ",591],["T_DOC_COMMENT","\/**\n     * Return translation object\n     *\n     * @return Zend_Translate_Adapter|null\n     *\/",593],["T_WHITESPACE","\n    ",597],["T_PUBLIC","public",598],["T_WHITESPACE"," ",598],["T_FUNCTION","function",598],["T_WHITESPACE"," ",598],["T_STRING","getTranslator",598],"(",")",["T_WHITESPACE","\n    ",598],"{",["T_WHITESPACE","\n        ",599],["T_IF","if",600],["T_WHITESPACE"," ",600],"(",["T_VARIABLE","$this",600],["T_OBJECT_OPERATOR","->",600],["T_STRING","translatorIsDisabled",600],"(",")",")",["T_WHITESPACE"," ",600],"{",["T_WHITESPACE","\n            ",600],["T_RETURN","return",601],["T_WHITESPACE"," ",601],["T_STRING","null",601],";",["T_WHITESPACE","\n        ",601],"}",["T_WHITESPACE","\n\n        ",602],["T_IF","if",604],["T_WHITESPACE"," ",604],"(",["T_VARIABLE","$this",604],["T_OBJECT_OPERATOR","->",604],["T_STRING","_translator",604],["T_WHITESPACE"," ",604],["T_IS_IDENTICAL","===",604],["T_WHITESPACE"," ",604],["T_STRING","null",604],")",["T_WHITESPACE"," ",604],"{",["T_WHITESPACE","\n            ",604],["T_COMMENT","#require_once 'Zend\/Registry.php';\n",605],["T_WHITESPACE","            ",606],["T_IF","if",606],["T_WHITESPACE"," ",606],"(",["T_STRING","Zend_Registry",606],["T_DOUBLE_COLON","::",606],["T_STRING","isRegistered",606],"(",["T_CONSTANT_ENCAPSED_STRING","'Zend_Translate'",606],")",")",["T_WHITESPACE"," ",606],"{",["T_WHITESPACE","\n                ",606],["T_VARIABLE","$translator",607],["T_WHITESPACE"," ",607],"=",["T_WHITESPACE"," ",607],["T_STRING","Zend_Registry",607],["T_DOUBLE_COLON","::",607],["T_STRING","get",607],"(",["T_CONSTANT_ENCAPSED_STRING","'Zend_Translate'",607],")",";",["T_WHITESPACE","\n                ",607],["T_IF","if",608],["T_WHITESPACE"," ",608],"(",["T_VARIABLE","$translator",608],["T_WHITESPACE"," ",608],["T_INSTANCEOF","instanceof",608],["T_WHITESPACE"," ",608],["T_STRING","Zend_Translate_Adapter",608],")",["T_WHITESPACE"," ",608],"{",["T_WHITESPACE","\n                    ",608],["T_RETURN","return",609],["T_WHITESPACE"," ",609],["T_VARIABLE","$translator",609],";",["T_WHITESPACE","\n                ",609],"}",["T_WHITESPACE"," ",610],["T_ELSEIF","elseif",610],["T_WHITESPACE"," ",610],"(",["T_VARIABLE","$translator",610],["T_WHITESPACE"," ",610],["T_INSTANCEOF","instanceof",610],["T_WHITESPACE"," ",610],["T_STRING","Zend_Translate",610],")",["T_WHITESPACE"," ",610],"{",["T_WHITESPACE","\n                    ",610],["T_RETURN","return",611],["T_WHITESPACE"," ",611],["T_VARIABLE","$translator",611],["T_OBJECT_OPERATOR","->",611],["T_STRING","getAdapter",611],"(",")",";",["T_WHITESPACE","\n                ",611],"}",["T_WHITESPACE","\n            ",612],"}",["T_WHITESPACE","\n        ",613],"}",["T_WHITESPACE","\n\n        ",614],["T_RETURN","return",616],["T_WHITESPACE"," ",616],["T_VARIABLE","$this",616],["T_OBJECT_OPERATOR","->",616],["T_STRING","_translator",616],";",["T_WHITESPACE","\n    ",616],"}",["T_WHITESPACE","\n\n    ",617],["T_DOC_COMMENT","\/**\n     * Indicate whether or not translation should be disabled\n     *\n     * @param  bool $flag\n     * @return Zend_Filter_Input\n     *\/",619],["T_WHITESPACE","\n    ",624],["T_PUBLIC","public",625],["T_WHITESPACE"," ",625],["T_FUNCTION","function",625],["T_WHITESPACE"," ",625],["T_STRING","setDisableTranslator",625],"(",["T_VARIABLE","$flag",625],")",["T_WHITESPACE","\n    ",625],"{",["T_WHITESPACE","\n        ",626],["T_VARIABLE","$this",627],["T_OBJECT_OPERATOR","->",627],["T_STRING","_translatorDisabled",627],["T_WHITESPACE"," ",627],"=",["T_WHITESPACE"," ",627],["T_BOOL_CAST","(bool)",627],["T_WHITESPACE"," ",627],["T_VARIABLE","$flag",627],";",["T_WHITESPACE","\n        ",627],["T_RETURN","return",628],["T_WHITESPACE"," ",628],["T_VARIABLE","$this",628],";",["T_WHITESPACE","\n    ",628],"}",["T_WHITESPACE","\n\n    ",629],["T_DOC_COMMENT","\/**\n     * Is translation disabled?\n     *\n     * @return bool\n     *\/",631],["T_WHITESPACE","\n    ",635],["T_PUBLIC","public",636],["T_WHITESPACE"," ",636],["T_FUNCTION","function",636],["T_WHITESPACE"," ",636],["T_STRING","translatorIsDisabled",636],"(",")",["T_WHITESPACE","\n    ",636],"{",["T_WHITESPACE","\n        ",637],["T_RETURN","return",638],["T_WHITESPACE"," ",638],["T_VARIABLE","$this",638],["T_OBJECT_OPERATOR","->",638],["T_STRING","_translatorDisabled",638],";",["T_WHITESPACE","\n    ",638],"}",["T_WHITESPACE","\n\n    ",639],["T_COMMENT","\/*\n     * Protected methods\n     *\/",641],["T_WHITESPACE","\n\n    ",643],["T_DOC_COMMENT","\/**\n     * @return void\n     *\/",645],["T_WHITESPACE","\n    ",647],["T_PROTECTED","protected",648],["T_WHITESPACE"," ",648],["T_FUNCTION","function",648],["T_WHITESPACE"," ",648],["T_STRING","_filter",648],"(",")",["T_WHITESPACE","\n    ",648],"{",["T_WHITESPACE","\n        ",649],["T_FOREACH","foreach",650],["T_WHITESPACE"," ",650],"(",["T_VARIABLE","$this",650],["T_OBJECT_OPERATOR","->",650],["T_STRING","_filterRules",650],["T_WHITESPACE"," ",650],["T_AS","as",650],["T_WHITESPACE"," ",650],["T_VARIABLE","$ruleName",650],["T_WHITESPACE"," ",650],["T_DOUBLE_ARROW","=>",650],["T_WHITESPACE"," ",650],"&",["T_VARIABLE","$filterRule",650],")",["T_WHITESPACE"," ",650],"{",["T_WHITESPACE","\n            ",650],["T_DOC_COMMENT","\/**\n             * Make sure we have an array representing this filter chain.\n             * Don't typecast to (array) because it might be a Zend_Filter object\n             *\/",651],["T_WHITESPACE","\n            ",654],["T_IF","if",655],["T_WHITESPACE"," ",655],"(","!",["T_STRING","is_array",655],"(",["T_VARIABLE","$filterRule",655],")",")",["T_WHITESPACE"," ",655],"{",["T_WHITESPACE","\n                ",655],["T_VARIABLE","$filterRule",656],["T_WHITESPACE"," ",656],"=",["T_WHITESPACE"," ",656],["T_ARRAY","array",656],"(",["T_VARIABLE","$filterRule",656],")",";",["T_WHITESPACE","\n            ",656],"}",["T_WHITESPACE","\n\n            ",657],["T_DOC_COMMENT","\/**\n             * Filters are indexed by integer, metacommands are indexed by string.\n             * Pick out the filters.\n             *\/",659],["T_WHITESPACE","\n            ",662],["T_VARIABLE","$filterList",663],["T_WHITESPACE"," ",663],"=",["T_WHITESPACE"," ",663],["T_ARRAY","array",663],"(",")",";",["T_WHITESPACE","\n            ",663],["T_FOREACH","foreach",664],["T_WHITESPACE"," ",664],"(",["T_VARIABLE","$filterRule",664],["T_WHITESPACE"," ",664],["T_AS","as",664],["T_WHITESPACE"," ",664],["T_VARIABLE","$key",664],["T_WHITESPACE"," ",664],["T_DOUBLE_ARROW","=>",664],["T_WHITESPACE"," ",664],["T_VARIABLE","$value",664],")",["T_WHITESPACE"," ",664],"{",["T_WHITESPACE","\n                ",664],["T_IF","if",665],["T_WHITESPACE"," ",665],"(",["T_STRING","is_int",665],"(",["T_VARIABLE","$key",665],")",")",["T_WHITESPACE"," ",665],"{",["T_WHITESPACE","\n                    ",665],["T_VARIABLE","$filterList",666],"[","]",["T_WHITESPACE"," ",666],"=",["T_WHITESPACE"," ",666],["T_VARIABLE","$value",666],";",["T_WHITESPACE","\n                ",666],"}",["T_WHITESPACE","\n            ",667],"}",["T_WHITESPACE","\n\n            ",668],["T_DOC_COMMENT","\/**\n             * Use defaults for filter metacommands.\n             *\/",670],["T_WHITESPACE","\n            ",672],["T_VARIABLE","$filterRule",673],"[",["T_STRING","self",673],["T_DOUBLE_COLON","::",673],["T_STRING","RULE",673],"]",["T_WHITESPACE"," ",673],"=",["T_WHITESPACE"," ",673],["T_VARIABLE","$ruleName",673],";",["T_WHITESPACE","\n            ",673],["T_IF","if",674],["T_WHITESPACE"," ",674],"(","!",["T_ISSET","isset",674],"(",["T_VARIABLE","$filterRule",674],"[",["T_STRING","self",674],["T_DOUBLE_COLON","::",674],["T_STRING","FIELDS",674],"]",")",")",["T_WHITESPACE"," ",674],"{",["T_WHITESPACE","\n                ",674],["T_VARIABLE","$filterRule",675],"[",["T_STRING","self",675],["T_DOUBLE_COLON","::",675],["T_STRING","FIELDS",675],"]",["T_WHITESPACE"," ",675],"=",["T_WHITESPACE"," ",675],["T_VARIABLE","$ruleName",675],";",["T_WHITESPACE","\n            ",675],"}",["T_WHITESPACE","\n\n            ",676],["T_DOC_COMMENT","\/**\n             * Load all the filter classes and add them to the chain.\n             *\/",678],["T_WHITESPACE","\n            ",680],["T_IF","if",681],["T_WHITESPACE"," ",681],"(","!",["T_ISSET","isset",681],"(",["T_VARIABLE","$filterRule",681],"[",["T_STRING","self",681],["T_DOUBLE_COLON","::",681],["T_STRING","FILTER_CHAIN",681],"]",")",")",["T_WHITESPACE"," ",681],"{",["T_WHITESPACE","\n                ",681],["T_VARIABLE","$filterRule",682],"[",["T_STRING","self",682],["T_DOUBLE_COLON","::",682],["T_STRING","FILTER_CHAIN",682],"]",["T_WHITESPACE"," ",682],"=",["T_WHITESPACE"," ",682],["T_NEW","new",682],["T_WHITESPACE"," ",682],["T_STRING","Zend_Filter",682],"(",")",";",["T_WHITESPACE","\n                ",682],["T_FOREACH","foreach",683],["T_WHITESPACE"," ",683],"(",["T_VARIABLE","$filterList",683],["T_WHITESPACE"," ",683],["T_AS","as",683],["T_WHITESPACE"," ",683],["T_VARIABLE","$filter",683],")",["T_WHITESPACE"," ",683],"{",["T_WHITESPACE","\n                    ",683],["T_IF","if",684],["T_WHITESPACE"," ",684],"(",["T_STRING","is_string",684],"(",["T_VARIABLE","$filter",684],")",["T_WHITESPACE"," ",684],["T_BOOLEAN_OR","||",684],["T_WHITESPACE"," ",684],["T_STRING","is_array",684],"(",["T_VARIABLE","$filter",684],")",")",["T_WHITESPACE"," ",684],"{",["T_WHITESPACE","\n                        ",684],["T_VARIABLE","$filter",685],["T_WHITESPACE"," ",685],"=",["T_WHITESPACE"," ",685],["T_VARIABLE","$this",685],["T_OBJECT_OPERATOR","->",685],["T_STRING","_getFilter",685],"(",["T_VARIABLE","$filter",685],")",";",["T_WHITESPACE","\n                    ",685],"}",["T_WHITESPACE","\n                    ",686],["T_VARIABLE","$filterRule",687],"[",["T_STRING","self",687],["T_DOUBLE_COLON","::",687],["T_STRING","FILTER_CHAIN",687],"]",["T_OBJECT_OPERATOR","->",687],["T_STRING","addFilter",687],"(",["T_VARIABLE","$filter",687],")",";",["T_WHITESPACE","\n                ",687],"}",["T_WHITESPACE","\n            ",688],"}",["T_WHITESPACE","\n\n            ",689],["T_DOC_COMMENT","\/**\n             * If the ruleName is the special wildcard rule,\n             * then apply the filter chain to all input data.\n             * Else just process the field named by the rule.\n             *\/",691],["T_WHITESPACE","\n            ",695],["T_IF","if",696],["T_WHITESPACE"," ",696],"(",["T_VARIABLE","$ruleName",696],["T_WHITESPACE"," ",696],["T_IS_EQUAL","==",696],["T_WHITESPACE"," ",696],["T_STRING","self",696],["T_DOUBLE_COLON","::",696],["T_STRING","RULE_WILDCARD",696],")",["T_WHITESPACE"," ",696],"{",["T_WHITESPACE","\n                ",696],["T_FOREACH","foreach",697],["T_WHITESPACE"," ",697],"(",["T_STRING","array_keys",697],"(",["T_VARIABLE","$this",697],["T_OBJECT_OPERATOR","->",697],["T_STRING","_data",697],")",["T_WHITESPACE"," ",697],["T_AS","as",697],["T_WHITESPACE"," ",697],["T_VARIABLE","$field",697],")",["T_WHITESPACE","  ",697],"{",["T_WHITESPACE","\n                    ",697],["T_VARIABLE","$this",698],["T_OBJECT_OPERATOR","->",698],["T_STRING","_filterRule",698],"(",["T_STRING","array_merge",698],"(",["T_VARIABLE","$filterRule",698],",",["T_WHITESPACE"," ",698],["T_ARRAY","array",698],"(",["T_STRING","self",698],["T_DOUBLE_COLON","::",698],["T_STRING","FIELDS",698],["T_WHITESPACE"," ",698],["T_DOUBLE_ARROW","=>",698],["T_WHITESPACE"," ",698],["T_VARIABLE","$field",698],")",")",")",";",["T_WHITESPACE","\n                ",698],"}",["T_WHITESPACE","\n            ",699],"}",["T_WHITESPACE"," ",700],["T_ELSE","else",700],["T_WHITESPACE"," ",700],"{",["T_WHITESPACE","\n                ",700],["T_VARIABLE","$this",701],["T_OBJECT_OPERATOR","->",701],["T_STRING","_filterRule",701],"(",["T_VARIABLE","$filterRule",701],")",";",["T_WHITESPACE","\n            ",701],"}",["T_WHITESPACE","\n        ",702],"}",["T_WHITESPACE","\n    ",703],"}",["T_WHITESPACE","\n\n    ",704],["T_DOC_COMMENT","\/**\n     * @param array $filterRule\n     * @return void\n     *\/",706],["T_WHITESPACE","\n    ",709],["T_PROTECTED","protected",710],["T_WHITESPACE"," ",710],["T_FUNCTION","function",710],["T_WHITESPACE"," ",710],["T_STRING","_filterRule",710],"(",["T_ARRAY","array",710],["T_WHITESPACE"," ",710],["T_VARIABLE","$filterRule",710],")",["T_WHITESPACE","\n    ",710],"{",["T_WHITESPACE","\n        ",711],["T_VARIABLE","$field",712],["T_WHITESPACE"," ",712],"=",["T_WHITESPACE"," ",712],["T_VARIABLE","$filterRule",712],"[",["T_STRING","self",712],["T_DOUBLE_COLON","::",712],["T_STRING","FIELDS",712],"]",";",["T_WHITESPACE","\n        ",712],["T_IF","if",713],["T_WHITESPACE"," ",713],"(","!",["T_STRING","array_key_exists",713],"(",["T_VARIABLE","$field",713],",",["T_WHITESPACE"," ",713],["T_VARIABLE","$this",713],["T_OBJECT_OPERATOR","->",713],["T_STRING","_data",713],")",")",["T_WHITESPACE"," ",713],"{",["T_WHITESPACE","\n            ",713],["T_RETURN","return",714],";",["T_WHITESPACE","\n        ",714],"}",["T_WHITESPACE","\n        ",715],["T_IF","if",716],["T_WHITESPACE"," ",716],"(",["T_STRING","is_array",716],"(",["T_VARIABLE","$this",716],["T_OBJECT_OPERATOR","->",716],["T_STRING","_data",716],"[",["T_VARIABLE","$field",716],"]",")",")",["T_WHITESPACE"," ",716],"{",["T_WHITESPACE","\n            ",716],["T_FOREACH","foreach",717],["T_WHITESPACE"," ",717],"(",["T_VARIABLE","$this",717],["T_OBJECT_OPERATOR","->",717],["T_STRING","_data",717],"[",["T_VARIABLE","$field",717],"]",["T_WHITESPACE"," ",717],["T_AS","as",717],["T_WHITESPACE"," ",717],["T_VARIABLE","$key",717],["T_WHITESPACE"," ",717],["T_DOUBLE_ARROW","=>",717],["T_WHITESPACE"," ",717],["T_VARIABLE","$value",717],")",["T_WHITESPACE"," ",717],"{",["T_WHITESPACE","\n                ",717],["T_VARIABLE","$this",718],["T_OBJECT_OPERATOR","->",718],["T_STRING","_data",718],"[",["T_VARIABLE","$field",718],"]","[",["T_VARIABLE","$key",718],"]",["T_WHITESPACE"," ",718],"=",["T_WHITESPACE"," ",718],["T_VARIABLE","$filterRule",718],"[",["T_STRING","self",718],["T_DOUBLE_COLON","::",718],["T_STRING","FILTER_CHAIN",718],"]",["T_OBJECT_OPERATOR","->",718],["T_STRING","filter",718],"(",["T_VARIABLE","$value",718],")",";",["T_WHITESPACE","\n            ",718],"}",["T_WHITESPACE","\n        ",719],"}",["T_WHITESPACE"," ",720],["T_ELSE","else",720],["T_WHITESPACE"," ",720],"{",["T_WHITESPACE","\n            ",720],["T_VARIABLE","$this",721],["T_OBJECT_OPERATOR","->",721],["T_STRING","_data",721],"[",["T_VARIABLE","$field",721],"]",["T_WHITESPACE"," ",721],"=",["T_WHITESPACE","\n                ",721],["T_VARIABLE","$filterRule",722],"[",["T_STRING","self",722],["T_DOUBLE_COLON","::",722],["T_STRING","FILTER_CHAIN",722],"]",["T_OBJECT_OPERATOR","->",722],["T_STRING","filter",722],"(",["T_VARIABLE","$this",722],["T_OBJECT_OPERATOR","->",722],["T_STRING","_data",722],"[",["T_VARIABLE","$field",722],"]",")",";",["T_WHITESPACE","\n        ",722],"}",["T_WHITESPACE","\n    ",723],"}",["T_WHITESPACE","\n\n    ",724],["T_DOC_COMMENT","\/**\n     * @return Zend_Filter_Interface\n     *\/",726],["T_WHITESPACE","\n    ",728],["T_PROTECTED","protected",729],["T_WHITESPACE"," ",729],["T_FUNCTION","function",729],["T_WHITESPACE"," ",729],["T_STRING","_getDefaultEscapeFilter",729],"(",")",["T_WHITESPACE","\n    ",729],"{",["T_WHITESPACE","\n        ",730],["T_IF","if",731],["T_WHITESPACE"," ",731],"(",["T_VARIABLE","$this",731],["T_OBJECT_OPERATOR","->",731],["T_STRING","_defaultEscapeFilter",731],["T_WHITESPACE"," ",731],["T_IS_NOT_IDENTICAL","!==",731],["T_WHITESPACE"," ",731],["T_STRING","null",731],")",["T_WHITESPACE"," ",731],"{",["T_WHITESPACE","\n            ",731],["T_RETURN","return",732],["T_WHITESPACE"," ",732],["T_VARIABLE","$this",732],["T_OBJECT_OPERATOR","->",732],["T_STRING","_defaultEscapeFilter",732],";",["T_WHITESPACE","\n        ",732],"}",["T_WHITESPACE","\n        ",733],["T_RETURN","return",734],["T_WHITESPACE"," ",734],["T_VARIABLE","$this",734],["T_OBJECT_OPERATOR","->",734],["T_STRING","setDefaultEscapeFilter",734],"(",["T_VARIABLE","$this",734],["T_OBJECT_OPERATOR","->",734],["T_STRING","_defaults",734],"[",["T_STRING","self",734],["T_DOUBLE_COLON","::",734],["T_STRING","ESCAPE_FILTER",734],"]",")",";",["T_WHITESPACE","\n    ",734],"}",["T_WHITESPACE","\n\n    ",735],["T_DOC_COMMENT","\/**\n     * @param string $rule\n     * @param string $field\n     * @return string\n     *\/",737],["T_WHITESPACE","\n    ",741],["T_PROTECTED","protected",742],["T_WHITESPACE"," ",742],["T_FUNCTION","function",742],["T_WHITESPACE"," ",742],["T_STRING","_getMissingMessage",742],"(",["T_VARIABLE","$rule",742],",",["T_WHITESPACE"," ",742],["T_VARIABLE","$field",742],")",["T_WHITESPACE","\n    ",742],"{",["T_WHITESPACE","\n        ",743],["T_VARIABLE","$message",744],["T_WHITESPACE"," ",744],"=",["T_WHITESPACE"," ",744],["T_VARIABLE","$this",744],["T_OBJECT_OPERATOR","->",744],["T_STRING","_defaults",744],"[",["T_STRING","self",744],["T_DOUBLE_COLON","::",744],["T_STRING","MISSING_MESSAGE",744],"]",";",["T_WHITESPACE","\n\n        ",744],["T_IF","if",746],["T_WHITESPACE"," ",746],"(",["T_STRING","null",746],["T_WHITESPACE"," ",746],["T_IS_NOT_IDENTICAL","!==",746],["T_WHITESPACE"," ",746],"(",["T_VARIABLE","$translator",746],["T_WHITESPACE"," ",746],"=",["T_WHITESPACE"," ",746],["T_VARIABLE","$this",746],["T_OBJECT_OPERATOR","->",746],["T_STRING","getTranslator",746],"(",")",")",")",["T_WHITESPACE"," ",746],"{",["T_WHITESPACE","\n            ",746],["T_IF","if",747],["T_WHITESPACE"," ",747],"(",["T_VARIABLE","$translator",747],["T_OBJECT_OPERATOR","->",747],["T_STRING","isTranslated",747],"(",["T_STRING","self",747],["T_DOUBLE_COLON","::",747],["T_STRING","MISSING_MESSAGE",747],")",")",["T_WHITESPACE"," ",747],"{",["T_WHITESPACE","\n                ",747],["T_VARIABLE","$message",748],["T_WHITESPACE"," ",748],"=",["T_WHITESPACE"," ",748],["T_VARIABLE","$translator",748],["T_OBJECT_OPERATOR","->",748],["T_STRING","translate",748],"(",["T_STRING","self",748],["T_DOUBLE_COLON","::",748],["T_STRING","MISSING_MESSAGE",748],")",";",["T_WHITESPACE","\n            ",748],"}",["T_WHITESPACE"," ",749],["T_ELSE","else",749],["T_WHITESPACE"," ",749],"{",["T_WHITESPACE","\n                ",749],["T_VARIABLE","$message",750],["T_WHITESPACE"," ",750],"=",["T_WHITESPACE"," ",750],["T_VARIABLE","$translator",750],["T_OBJECT_OPERATOR","->",750],["T_STRING","translate",750],"(",["T_VARIABLE","$message",750],")",";",["T_WHITESPACE","\n            ",750],"}",["T_WHITESPACE","\n        ",751],"}",["T_WHITESPACE","\n\n        ",752],["T_VARIABLE","$message",754],["T_WHITESPACE"," ",754],"=",["T_WHITESPACE"," ",754],["T_STRING","str_replace",754],"(",["T_CONSTANT_ENCAPSED_STRING","'%rule%'",754],",",["T_WHITESPACE"," ",754],["T_VARIABLE","$rule",754],",",["T_WHITESPACE"," ",754],["T_VARIABLE","$message",754],")",";",["T_WHITESPACE","\n        ",754],["T_VARIABLE","$message",755],["T_WHITESPACE"," ",755],"=",["T_WHITESPACE"," ",755],["T_STRING","str_replace",755],"(",["T_CONSTANT_ENCAPSED_STRING","'%field%'",755],",",["T_WHITESPACE"," ",755],["T_VARIABLE","$field",755],",",["T_WHITESPACE"," ",755],["T_VARIABLE","$message",755],")",";",["T_WHITESPACE","\n        ",755],["T_RETURN","return",756],["T_WHITESPACE"," ",756],["T_VARIABLE","$message",756],";",["T_WHITESPACE","\n    ",756],"}",["T_WHITESPACE","\n\n    ",757],["T_DOC_COMMENT","\/**\n     * @return string\n     *\/",759],["T_WHITESPACE","\n    ",761],["T_PROTECTED","protected",762],["T_WHITESPACE"," ",762],["T_FUNCTION","function",762],["T_WHITESPACE"," ",762],["T_STRING","_getNotEmptyMessage",762],"(",["T_VARIABLE","$rule",762],",",["T_WHITESPACE"," ",762],["T_VARIABLE","$field",762],")",["T_WHITESPACE","\n    ",762],"{",["T_WHITESPACE","\n        ",763],["T_VARIABLE","$message",764],["T_WHITESPACE"," ",764],"=",["T_WHITESPACE"," ",764],["T_VARIABLE","$this",764],["T_OBJECT_OPERATOR","->",764],["T_STRING","_defaults",764],"[",["T_STRING","self",764],["T_DOUBLE_COLON","::",764],["T_STRING","NOT_EMPTY_MESSAGE",764],"]",";",["T_WHITESPACE","\n\n        ",764],["T_IF","if",766],["T_WHITESPACE"," ",766],"(",["T_STRING","null",766],["T_WHITESPACE"," ",766],["T_IS_NOT_IDENTICAL","!==",766],["T_WHITESPACE"," ",766],"(",["T_VARIABLE","$translator",766],["T_WHITESPACE"," ",766],"=",["T_WHITESPACE"," ",766],["T_VARIABLE","$this",766],["T_OBJECT_OPERATOR","->",766],["T_STRING","getTranslator",766],"(",")",")",")",["T_WHITESPACE"," ",766],"{",["T_WHITESPACE","\n            ",766],["T_IF","if",767],["T_WHITESPACE"," ",767],"(",["T_VARIABLE","$translator",767],["T_OBJECT_OPERATOR","->",767],["T_STRING","isTranslated",767],"(",["T_STRING","self",767],["T_DOUBLE_COLON","::",767],["T_STRING","NOT_EMPTY_MESSAGE",767],")",")",["T_WHITESPACE"," ",767],"{",["T_WHITESPACE","\n                ",767],["T_VARIABLE","$message",768],["T_WHITESPACE"," ",768],"=",["T_WHITESPACE"," ",768],["T_VARIABLE","$translator",768],["T_OBJECT_OPERATOR","->",768],["T_STRING","translate",768],"(",["T_STRING","self",768],["T_DOUBLE_COLON","::",768],["T_STRING","NOT_EMPTY_MESSAGE",768],")",";",["T_WHITESPACE","\n            ",768],"}",["T_WHITESPACE"," ",769],["T_ELSE","else",769],["T_WHITESPACE"," ",769],"{",["T_WHITESPACE","\n                ",769],["T_VARIABLE","$message",770],["T_WHITESPACE"," ",770],"=",["T_WHITESPACE"," ",770],["T_VARIABLE","$translator",770],["T_OBJECT_OPERATOR","->",770],["T_STRING","translate",770],"(",["T_VARIABLE","$message",770],")",";",["T_WHITESPACE","\n            ",770],"}",["T_WHITESPACE","\n        ",771],"}",["T_WHITESPACE","\n\n        ",772],["T_VARIABLE","$message",774],["T_WHITESPACE"," ",774],"=",["T_WHITESPACE"," ",774],["T_STRING","str_replace",774],"(",["T_CONSTANT_ENCAPSED_STRING","'%rule%'",774],",",["T_WHITESPACE"," ",774],["T_VARIABLE","$rule",774],",",["T_WHITESPACE"," ",774],["T_VARIABLE","$message",774],")",";",["T_WHITESPACE","\n        ",774],["T_VARIABLE","$message",775],["T_WHITESPACE"," ",775],"=",["T_WHITESPACE"," ",775],["T_STRING","str_replace",775],"(",["T_CONSTANT_ENCAPSED_STRING","'%field%'",775],",",["T_WHITESPACE"," ",775],["T_VARIABLE","$field",775],",",["T_WHITESPACE"," ",775],["T_VARIABLE","$message",775],")",";",["T_WHITESPACE","\n        ",775],["T_RETURN","return",776],["T_WHITESPACE"," ",776],["T_VARIABLE","$message",776],";",["T_WHITESPACE","\n    ",776],"}",["T_WHITESPACE","\n\n    ",777],["T_DOC_COMMENT","\/**\n     * @return void\n     *\/",779],["T_WHITESPACE","\n    ",781],["T_PROTECTED","protected",782],["T_WHITESPACE"," ",782],["T_FUNCTION","function",782],["T_WHITESPACE"," ",782],["T_STRING","_process",782],"(",")",["T_WHITESPACE","\n    ",782],"{",["T_WHITESPACE","\n        ",783],["T_IF","if",784],["T_WHITESPACE"," ",784],"(",["T_VARIABLE","$this",784],["T_OBJECT_OPERATOR","->",784],["T_STRING","_processed",784],["T_WHITESPACE"," ",784],["T_IS_IDENTICAL","===",784],["T_WHITESPACE"," ",784],["T_STRING","false",784],")",["T_WHITESPACE"," ",784],"{",["T_WHITESPACE","\n            ",784],["T_VARIABLE","$this",785],["T_OBJECT_OPERATOR","->",785],["T_STRING","_filter",785],"(",")",";",["T_WHITESPACE","\n            ",785],["T_VARIABLE","$this",786],["T_OBJECT_OPERATOR","->",786],["T_STRING","_validate",786],"(",")",";",["T_WHITESPACE","\n            ",786],["T_VARIABLE","$this",787],["T_OBJECT_OPERATOR","->",787],["T_STRING","_processed",787],["T_WHITESPACE"," ",787],"=",["T_WHITESPACE"," ",787],["T_STRING","true",787],";",["T_WHITESPACE","\n        ",787],"}",["T_WHITESPACE","\n    ",788],"}",["T_WHITESPACE","\n\n    ",789],["T_DOC_COMMENT","\/**\n     * @return void\n     *\/",791],["T_WHITESPACE","\n    ",793],["T_PROTECTED","protected",794],["T_WHITESPACE"," ",794],["T_FUNCTION","function",794],["T_WHITESPACE"," ",794],["T_STRING","_validate",794],"(",")",["T_WHITESPACE","\n    ",794],"{",["T_WHITESPACE","\n        ",795],["T_DOC_COMMENT","\/**\n         * Special case: if there are no validators, treat all fields as valid.\n         *\/",796],["T_WHITESPACE","\n        ",798],["T_IF","if",799],["T_WHITESPACE"," ",799],"(","!",["T_VARIABLE","$this",799],["T_OBJECT_OPERATOR","->",799],["T_STRING","_validatorRules",799],")",["T_WHITESPACE"," ",799],"{",["T_WHITESPACE","\n            ",799],["T_VARIABLE","$this",800],["T_OBJECT_OPERATOR","->",800],["T_STRING","_validFields",800],["T_WHITESPACE"," ",800],"=",["T_WHITESPACE"," ",800],["T_VARIABLE","$this",800],["T_OBJECT_OPERATOR","->",800],["T_STRING","_data",800],";",["T_WHITESPACE","\n            ",800],["T_VARIABLE","$this",801],["T_OBJECT_OPERATOR","->",801],["T_STRING","_data",801],["T_WHITESPACE"," ",801],"=",["T_WHITESPACE"," ",801],["T_ARRAY","array",801],"(",")",";",["T_WHITESPACE","\n            ",801],["T_RETURN","return",802],";",["T_WHITESPACE","\n        ",802],"}",["T_WHITESPACE","\n        \n        ",803],["T_COMMENT","\/\/ remember the default not empty message in case we want to temporarily change it        \n",805],["T_WHITESPACE","        ",806],["T_VARIABLE","$preserveDefaultNotEmptyMessage",806],["T_WHITESPACE"," ",806],"=",["T_WHITESPACE"," ",806],["T_VARIABLE","$this",806],["T_OBJECT_OPERATOR","->",806],["T_STRING","_defaults",806],"[",["T_STRING","self",806],["T_DOUBLE_COLON","::",806],["T_STRING","NOT_EMPTY_MESSAGE",806],"]",";",["T_WHITESPACE","\n\n        ",806],["T_FOREACH","foreach",808],["T_WHITESPACE"," ",808],"(",["T_VARIABLE","$this",808],["T_OBJECT_OPERATOR","->",808],["T_STRING","_validatorRules",808],["T_WHITESPACE"," ",808],["T_AS","as",808],["T_WHITESPACE"," ",808],["T_VARIABLE","$ruleName",808],["T_WHITESPACE"," ",808],["T_DOUBLE_ARROW","=>",808],["T_WHITESPACE"," ",808],"&",["T_VARIABLE","$validatorRule",808],")",["T_WHITESPACE"," ",808],"{",["T_WHITESPACE","\n            ",808],["T_DOC_COMMENT","\/**\n             * Make sure we have an array representing this validator chain.\n             * Don't typecast to (array) because it might be a Zend_Validate object\n             *\/",809],["T_WHITESPACE","\n            ",812],["T_IF","if",813],["T_WHITESPACE"," ",813],"(","!",["T_STRING","is_array",813],"(",["T_VARIABLE","$validatorRule",813],")",")",["T_WHITESPACE"," ",813],"{",["T_WHITESPACE","\n                ",813],["T_VARIABLE","$validatorRule",814],["T_WHITESPACE"," ",814],"=",["T_WHITESPACE"," ",814],["T_ARRAY","array",814],"(",["T_VARIABLE","$validatorRule",814],")",";",["T_WHITESPACE","\n            ",814],"}",["T_WHITESPACE","\n\n            ",815],["T_DOC_COMMENT","\/**\n             * Validators are indexed by integer, metacommands are indexed by string.\n             * Pick out the validators.\n             *\/",817],["T_WHITESPACE","\n            ",820],["T_VARIABLE","$validatorList",821],["T_WHITESPACE"," ",821],"=",["T_WHITESPACE"," ",821],["T_ARRAY","array",821],"(",")",";",["T_WHITESPACE","\n            ",821],["T_FOREACH","foreach",822],["T_WHITESPACE"," ",822],"(",["T_VARIABLE","$validatorRule",822],["T_WHITESPACE"," ",822],["T_AS","as",822],["T_WHITESPACE"," ",822],["T_VARIABLE","$key",822],["T_WHITESPACE"," ",822],["T_DOUBLE_ARROW","=>",822],["T_WHITESPACE"," ",822],["T_VARIABLE","$value",822],")",["T_WHITESPACE"," ",822],"{",["T_WHITESPACE","\n                ",822],["T_IF","if",823],["T_WHITESPACE"," ",823],"(",["T_STRING","is_int",823],"(",["T_VARIABLE","$key",823],")",")",["T_WHITESPACE"," ",823],"{",["T_WHITESPACE","\n                    ",823],["T_VARIABLE","$validatorList",824],"[",["T_VARIABLE","$key",824],"]",["T_WHITESPACE"," ",824],"=",["T_WHITESPACE"," ",824],["T_VARIABLE","$value",824],";",["T_WHITESPACE","\n                ",824],"}",["T_WHITESPACE","\n            ",825],"}",["T_WHITESPACE","\n\n            ",826],["T_DOC_COMMENT","\/**\n             * Use defaults for validation metacommands.\n             *\/",828],["T_WHITESPACE","\n            ",830],["T_VARIABLE","$validatorRule",831],"[",["T_STRING","self",831],["T_DOUBLE_COLON","::",831],["T_STRING","RULE",831],"]",["T_WHITESPACE"," ",831],"=",["T_WHITESPACE"," ",831],["T_VARIABLE","$ruleName",831],";",["T_WHITESPACE","\n            ",831],["T_IF","if",832],["T_WHITESPACE"," ",832],"(","!",["T_ISSET","isset",832],"(",["T_VARIABLE","$validatorRule",832],"[",["T_STRING","self",832],["T_DOUBLE_COLON","::",832],["T_STRING","FIELDS",832],"]",")",")",["T_WHITESPACE"," ",832],"{",["T_WHITESPACE","\n                ",832],["T_VARIABLE","$validatorRule",833],"[",["T_STRING","self",833],["T_DOUBLE_COLON","::",833],["T_STRING","FIELDS",833],"]",["T_WHITESPACE"," ",833],"=",["T_WHITESPACE"," ",833],["T_VARIABLE","$ruleName",833],";",["T_WHITESPACE","\n            ",833],"}",["T_WHITESPACE","\n            ",834],["T_IF","if",835],["T_WHITESPACE"," ",835],"(","!",["T_ISSET","isset",835],"(",["T_VARIABLE","$validatorRule",835],"[",["T_STRING","self",835],["T_DOUBLE_COLON","::",835],["T_STRING","BREAK_CHAIN",835],"]",")",")",["T_WHITESPACE"," ",835],"{",["T_WHITESPACE","\n                ",835],["T_VARIABLE","$validatorRule",836],"[",["T_STRING","self",836],["T_DOUBLE_COLON","::",836],["T_STRING","BREAK_CHAIN",836],"]",["T_WHITESPACE"," ",836],"=",["T_WHITESPACE"," ",836],["T_VARIABLE","$this",836],["T_OBJECT_OPERATOR","->",836],["T_STRING","_defaults",836],"[",["T_STRING","self",836],["T_DOUBLE_COLON","::",836],["T_STRING","BREAK_CHAIN",836],"]",";",["T_WHITESPACE","\n            ",836],"}",["T_WHITESPACE","\n            ",837],["T_IF","if",838],["T_WHITESPACE"," ",838],"(","!",["T_ISSET","isset",838],"(",["T_VARIABLE","$validatorRule",838],"[",["T_STRING","self",838],["T_DOUBLE_COLON","::",838],["T_STRING","PRESENCE",838],"]",")",")",["T_WHITESPACE"," ",838],"{",["T_WHITESPACE","\n                ",838],["T_VARIABLE","$validatorRule",839],"[",["T_STRING","self",839],["T_DOUBLE_COLON","::",839],["T_STRING","PRESENCE",839],"]",["T_WHITESPACE"," ",839],"=",["T_WHITESPACE"," ",839],["T_VARIABLE","$this",839],["T_OBJECT_OPERATOR","->",839],["T_STRING","_defaults",839],"[",["T_STRING","self",839],["T_DOUBLE_COLON","::",839],["T_STRING","PRESENCE",839],"]",";",["T_WHITESPACE","\n            ",839],"}",["T_WHITESPACE","\n            ",840],["T_IF","if",841],["T_WHITESPACE"," ",841],"(","!",["T_ISSET","isset",841],"(",["T_VARIABLE","$validatorRule",841],"[",["T_STRING","self",841],["T_DOUBLE_COLON","::",841],["T_STRING","ALLOW_EMPTY",841],"]",")",")",["T_WHITESPACE"," ",841],"{",["T_WHITESPACE","\n                ",841],["T_VARIABLE","$foundNotEmptyValidator",842],["T_WHITESPACE"," ",842],"=",["T_WHITESPACE"," ",842],["T_STRING","false",842],";",["T_WHITESPACE","\n                \n                ",842],["T_FOREACH","foreach",844],["T_WHITESPACE"," ",844],"(",["T_VARIABLE","$validatorRule",844],["T_WHITESPACE"," ",844],["T_AS","as",844],["T_WHITESPACE"," ",844],["T_VARIABLE","$rule",844],")",["T_WHITESPACE"," ",844],"{",["T_WHITESPACE","\n                    ",844],["T_IF","if",845],["T_WHITESPACE"," ",845],"(",["T_VARIABLE","$rule",845],["T_WHITESPACE"," ",845],["T_IS_IDENTICAL","===",845],["T_WHITESPACE"," ",845],["T_CONSTANT_ENCAPSED_STRING","'NotEmpty'",845],")",["T_WHITESPACE"," ",845],"{",["T_WHITESPACE","\n                        ",845],["T_VARIABLE","$foundNotEmptyValidator",846],["T_WHITESPACE"," ",846],"=",["T_WHITESPACE"," ",846],["T_STRING","true",846],";",["T_WHITESPACE","\n                        ",846],["T_COMMENT","\/\/ field may not be empty, we are ready\n",847],["T_WHITESPACE","                        ",848],["T_BREAK","break",848],["T_WHITESPACE"," ",848],["T_LNUMBER","1",848],";",["T_WHITESPACE","\n                    ",848],"}",["T_WHITESPACE","\n                    \n                    ",849],["T_IF","if",851],["T_WHITESPACE"," ",851],"(",["T_STRING","is_array",851],"(",["T_VARIABLE","$rule",851],")",")",["T_WHITESPACE"," ",851],"{",["T_WHITESPACE","\n                        ",851],["T_VARIABLE","$keys",852],["T_WHITESPACE","      ",852],"=",["T_WHITESPACE"," ",852],["T_STRING","array_keys",852],"(",["T_VARIABLE","$rule",852],")",";",["T_WHITESPACE","\n                        ",852],["T_VARIABLE","$classKey",853],["T_WHITESPACE","  ",853],"=",["T_WHITESPACE"," ",853],["T_STRING","array_shift",853],"(",["T_VARIABLE","$keys",853],")",";",["T_WHITESPACE","\n                        ",853],["T_IF","if",854],["T_WHITESPACE"," ",854],"(",["T_ISSET","isset",854],"(",["T_VARIABLE","$rule",854],"[",["T_VARIABLE","$classKey",854],"]",")",")",["T_WHITESPACE"," ",854],"{",["T_WHITESPACE","\n                            ",854],["T_VARIABLE","$ruleClass",855],["T_WHITESPACE"," ",855],"=",["T_WHITESPACE"," ",855],["T_VARIABLE","$rule",855],"[",["T_VARIABLE","$classKey",855],"]",";",["T_WHITESPACE","\n                            ",855],["T_IF","if",856],["T_WHITESPACE"," ",856],"(",["T_VARIABLE","$ruleClass",856],["T_WHITESPACE"," ",856],["T_IS_IDENTICAL","===",856],["T_WHITESPACE"," ",856],["T_CONSTANT_ENCAPSED_STRING","'NotEmpty'",856],")",["T_WHITESPACE"," ",856],"{",["T_WHITESPACE","\n                                ",856],["T_VARIABLE","$foundNotEmptyValidator",857],["T_WHITESPACE"," ",857],"=",["T_WHITESPACE"," ",857],["T_STRING","true",857],";",["T_WHITESPACE","\n                                ",857],["T_COMMENT","\/\/ field may not be empty, we are ready\n",858],["T_WHITESPACE","                                ",859],["T_BREAK","break",859],["T_WHITESPACE"," ",859],["T_LNUMBER","1",859],";",["T_WHITESPACE","\n                            ",859],"}",["T_WHITESPACE","\n                        ",860],"}",["T_WHITESPACE","\n                    ",861],"}",["T_WHITESPACE","\n\n                    ",862],["T_COMMENT","\/\/ we must check if it is an object before using instanceof\n",864],["T_WHITESPACE","                    ",865],["T_IF","if",865],["T_WHITESPACE"," ",865],"(","!",["T_STRING","is_object",865],"(",["T_VARIABLE","$rule",865],")",")",["T_WHITESPACE"," ",865],"{",["T_WHITESPACE","\n                        ",865],["T_COMMENT","\/\/ it cannot be a NotEmpty validator, skip this one\n",866],["T_WHITESPACE","                        ",867],["T_CONTINUE","continue",867],";",["T_WHITESPACE","\n                    ",867],"}",["T_WHITESPACE","\n                    \n                    ",868],["T_IF","if",870],"(",["T_VARIABLE","$rule",870],["T_WHITESPACE"," ",870],["T_INSTANCEOF","instanceof",870],["T_WHITESPACE"," ",870],["T_STRING","Zend_Validate_NotEmpty",870],")",["T_WHITESPACE"," ",870],"{",["T_WHITESPACE","\n                        ",870],["T_VARIABLE","$foundNotEmptyValidator",871],["T_WHITESPACE"," ",871],"=",["T_WHITESPACE"," ",871],["T_STRING","true",871],";",["T_WHITESPACE","\n                        ",871],["T_COMMENT","\/\/ field may not be empty, we are ready\n",872],["T_WHITESPACE","                        ",873],["T_BREAK","break",873],["T_WHITESPACE"," ",873],["T_LNUMBER","1",873],";",["T_WHITESPACE","\n                    ",873],"}",["T_WHITESPACE","\n                ",874],"}",["T_WHITESPACE","\n                \n                ",875],["T_IF","if",877],["T_WHITESPACE"," ",877],"(","!",["T_VARIABLE","$foundNotEmptyValidator",877],")",["T_WHITESPACE"," ",877],"{",["T_WHITESPACE","\n                    ",877],["T_VARIABLE","$validatorRule",878],"[",["T_STRING","self",878],["T_DOUBLE_COLON","::",878],["T_STRING","ALLOW_EMPTY",878],"]",["T_WHITESPACE"," ",878],"=",["T_WHITESPACE"," ",878],["T_VARIABLE","$this",878],["T_OBJECT_OPERATOR","->",878],["T_STRING","_defaults",878],"[",["T_STRING","self",878],["T_DOUBLE_COLON","::",878],["T_STRING","ALLOW_EMPTY",878],"]",";",["T_WHITESPACE","\n                ",878],"}",["T_WHITESPACE"," ",879],["T_ELSE","else",879],["T_WHITESPACE"," ",879],"{",["T_WHITESPACE","\n                    ",879],["T_VARIABLE","$validatorRule",880],"[",["T_STRING","self",880],["T_DOUBLE_COLON","::",880],["T_STRING","ALLOW_EMPTY",880],"]",["T_WHITESPACE"," ",880],"=",["T_WHITESPACE"," ",880],["T_STRING","false",880],";",["T_WHITESPACE","\n                ",880],"}",["T_WHITESPACE","\n            ",881],"}",["T_WHITESPACE","\n\n            ",882],["T_IF","if",884],["T_WHITESPACE"," ",884],"(","!",["T_ISSET","isset",884],"(",["T_VARIABLE","$validatorRule",884],"[",["T_STRING","self",884],["T_DOUBLE_COLON","::",884],["T_STRING","MESSAGES",884],"]",")",")",["T_WHITESPACE"," ",884],"{",["T_WHITESPACE","\n                ",884],["T_VARIABLE","$validatorRule",885],"[",["T_STRING","self",885],["T_DOUBLE_COLON","::",885],["T_STRING","MESSAGES",885],"]",["T_WHITESPACE"," ",885],"=",["T_WHITESPACE"," ",885],["T_ARRAY","array",885],"(",")",";",["T_WHITESPACE","\n            ",885],"}",["T_WHITESPACE"," ",886],["T_ELSE","else",886],["T_WHITESPACE"," ",886],["T_IF","if",886],["T_WHITESPACE"," ",886],"(","!",["T_STRING","is_array",886],"(",["T_VARIABLE","$validatorRule",886],"[",["T_STRING","self",886],["T_DOUBLE_COLON","::",886],["T_STRING","MESSAGES",886],"]",")",")",["T_WHITESPACE"," ",886],"{",["T_WHITESPACE","\n                ",886],["T_VARIABLE","$validatorRule",887],"[",["T_STRING","self",887],["T_DOUBLE_COLON","::",887],["T_STRING","MESSAGES",887],"]",["T_WHITESPACE"," ",887],"=",["T_WHITESPACE"," ",887],["T_ARRAY","array",887],"(",["T_VARIABLE","$validatorRule",887],"[",["T_STRING","self",887],["T_DOUBLE_COLON","::",887],["T_STRING","MESSAGES",887],"]",")",";",["T_WHITESPACE","\n            ",887],"}",["T_WHITESPACE"," ",888],["T_ELSE","else",888],["T_WHITESPACE"," ",888],["T_IF","if",888],["T_WHITESPACE"," ",888],"(",["T_STRING","array_intersect_key",888],"(",["T_VARIABLE","$validatorList",888],",",["T_WHITESPACE"," ",888],["T_VARIABLE","$validatorRule",888],"[",["T_STRING","self",888],["T_DOUBLE_COLON","::",888],["T_STRING","MESSAGES",888],"]",")",")",["T_WHITESPACE"," ",888],"{",["T_WHITESPACE","\n                ",888],["T_COMMENT","\/\/ this seems pointless... it just re-adds what it already has...\n",889],["T_WHITESPACE","                ",890],["T_COMMENT","\/\/ I can disable all this and not a single unit test fails...\n",890],["T_WHITESPACE","                ",891],["T_COMMENT","\/\/ There are now corresponding numeric keys in the validation rule messages array\n",891],["T_WHITESPACE","                ",892],["T_COMMENT","\/\/ Treat it as a named messages list for all rule validators\n",892],["T_WHITESPACE","                ",893],["T_VARIABLE","$unifiedMessages",893],["T_WHITESPACE"," ",893],"=",["T_WHITESPACE"," ",893],["T_VARIABLE","$validatorRule",893],"[",["T_STRING","self",893],["T_DOUBLE_COLON","::",893],["T_STRING","MESSAGES",893],"]",";",["T_WHITESPACE","\n                ",893],["T_VARIABLE","$validatorRule",894],"[",["T_STRING","self",894],["T_DOUBLE_COLON","::",894],["T_STRING","MESSAGES",894],"]",["T_WHITESPACE"," ",894],"=",["T_WHITESPACE"," ",894],["T_ARRAY","array",894],"(",")",";",["T_WHITESPACE","\n\n                ",894],["T_FOREACH","foreach",896],["T_WHITESPACE"," ",896],"(",["T_VARIABLE","$validatorList",896],["T_WHITESPACE"," ",896],["T_AS","as",896],["T_WHITESPACE"," ",896],["T_VARIABLE","$key",896],["T_WHITESPACE"," ",896],["T_DOUBLE_ARROW","=>",896],["T_WHITESPACE"," ",896],["T_VARIABLE","$validator",896],")",["T_WHITESPACE"," ",896],"{",["T_WHITESPACE","\n                    ",896],["T_IF","if",897],["T_WHITESPACE"," ",897],"(",["T_STRING","array_key_exists",897],"(",["T_VARIABLE","$key",897],",",["T_WHITESPACE"," ",897],["T_VARIABLE","$unifiedMessages",897],")",")",["T_WHITESPACE"," ",897],"{",["T_WHITESPACE","\n                        ",897],["T_VARIABLE","$validatorRule",898],"[",["T_STRING","self",898],["T_DOUBLE_COLON","::",898],["T_STRING","MESSAGES",898],"]","[",["T_VARIABLE","$key",898],"]",["T_WHITESPACE"," ",898],"=",["T_WHITESPACE"," ",898],["T_VARIABLE","$unifiedMessages",898],"[",["T_VARIABLE","$key",898],"]",";",["T_WHITESPACE","\n                    ",898],"}",["T_WHITESPACE","\n                ",899],"}",["T_WHITESPACE","\n            ",900],"}",["T_WHITESPACE","\n\n            ",901],["T_DOC_COMMENT","\/**\n             * Load all the validator classes and add them to the chain.\n             *\/",903],["T_WHITESPACE","\n            ",905],["T_IF","if",906],["T_WHITESPACE"," ",906],"(","!",["T_ISSET","isset",906],"(",["T_VARIABLE","$validatorRule",906],"[",["T_STRING","self",906],["T_DOUBLE_COLON","::",906],["T_STRING","VALIDATOR_CHAIN",906],"]",")",")",["T_WHITESPACE"," ",906],"{",["T_WHITESPACE","\n                ",906],["T_VARIABLE","$validatorRule",907],"[",["T_STRING","self",907],["T_DOUBLE_COLON","::",907],["T_STRING","VALIDATOR_CHAIN",907],"]",["T_WHITESPACE"," ",907],"=",["T_WHITESPACE"," ",907],["T_NEW","new",907],["T_WHITESPACE"," ",907],["T_STRING","Zend_Validate",907],"(",")",";",["T_WHITESPACE","\n\n                ",907],["T_FOREACH","foreach",909],["T_WHITESPACE"," ",909],"(",["T_VARIABLE","$validatorList",909],["T_WHITESPACE"," ",909],["T_AS","as",909],["T_WHITESPACE"," ",909],["T_VARIABLE","$key",909],["T_WHITESPACE"," ",909],["T_DOUBLE_ARROW","=>",909],["T_WHITESPACE"," ",909],["T_VARIABLE","$validator",909],")",["T_WHITESPACE"," ",909],"{",["T_WHITESPACE","\n                    ",909],["T_IF","if",910],["T_WHITESPACE"," ",910],"(",["T_STRING","is_string",910],"(",["T_VARIABLE","$validator",910],")",["T_WHITESPACE"," ",910],["T_BOOLEAN_OR","||",910],["T_WHITESPACE"," ",910],["T_STRING","is_array",910],"(",["T_VARIABLE","$validator",910],")",")",["T_WHITESPACE"," ",910],"{",["T_WHITESPACE","\n                        ",910],["T_VARIABLE","$validator",911],["T_WHITESPACE"," ",911],"=",["T_WHITESPACE"," ",911],["T_VARIABLE","$this",911],["T_OBJECT_OPERATOR","->",911],["T_STRING","_getValidator",911],"(",["T_VARIABLE","$validator",911],")",";",["T_WHITESPACE","\n                    ",911],"}",["T_WHITESPACE","\n\n                    ",912],["T_IF","if",914],["T_WHITESPACE"," ",914],"(",["T_ISSET","isset",914],"(",["T_VARIABLE","$validatorRule",914],"[",["T_STRING","self",914],["T_DOUBLE_COLON","::",914],["T_STRING","MESSAGES",914],"]","[",["T_VARIABLE","$key",914],"]",")",")",["T_WHITESPACE"," ",914],"{",["T_WHITESPACE","\n                        ",914],["T_VARIABLE","$value",915],["T_WHITESPACE"," ",915],"=",["T_WHITESPACE"," ",915],["T_VARIABLE","$validatorRule",915],"[",["T_STRING","self",915],["T_DOUBLE_COLON","::",915],["T_STRING","MESSAGES",915],"]","[",["T_VARIABLE","$key",915],"]",";",["T_WHITESPACE","\n                        ",915],["T_IF","if",916],["T_WHITESPACE"," ",916],"(",["T_STRING","is_array",916],"(",["T_VARIABLE","$value",916],")",")",["T_WHITESPACE"," ",916],"{",["T_WHITESPACE","\n                            ",916],["T_VARIABLE","$validator",917],["T_OBJECT_OPERATOR","->",917],["T_STRING","setMessages",917],"(",["T_VARIABLE","$value",917],")",";",["T_WHITESPACE","\n                        ",917],"}",["T_WHITESPACE"," ",918],["T_ELSE","else",918],["T_WHITESPACE"," ",918],"{",["T_WHITESPACE","\n                            ",918],["T_VARIABLE","$validator",919],["T_OBJECT_OPERATOR","->",919],["T_STRING","setMessage",919],"(",["T_VARIABLE","$value",919],")",";",["T_WHITESPACE","\n                        ",919],"}",["T_WHITESPACE","\n\n                        ",920],["T_IF","if",922],["T_WHITESPACE"," ",922],"(",["T_VARIABLE","$validator",922],["T_WHITESPACE"," ",922],["T_INSTANCEOF","instanceof",922],["T_WHITESPACE"," ",922],["T_STRING","Zend_Validate_NotEmpty",922],")",["T_WHITESPACE"," ",922],"{",["T_WHITESPACE","\n                            ",922],["T_DOC_COMMENT","\/** we are changing the defaults here, this is alright if all subsequent validators are also a not empty\n                            * validator, but it goes wrong if one of them is not AND is required!!!\n                            * that is why we restore the default value at the end of this loop\n                            *\/",923],["T_WHITESPACE"," \n                            ",926],["T_IF","if",927],["T_WHITESPACE"," ",927],"(",["T_STRING","is_array",927],"(",["T_VARIABLE","$value",927],")",")",["T_WHITESPACE"," ",927],"{",["T_WHITESPACE","\n                                ",927],["T_VARIABLE","$temp",928],["T_WHITESPACE"," ",928],"=",["T_WHITESPACE"," ",928],["T_VARIABLE","$value",928],";",["T_WHITESPACE"," ",928],["T_COMMENT","\/\/ keep the original value\n",928],["T_WHITESPACE","                                ",929],["T_VARIABLE","$this",929],["T_OBJECT_OPERATOR","->",929],["T_STRING","_defaults",929],"[",["T_STRING","self",929],["T_DOUBLE_COLON","::",929],["T_STRING","NOT_EMPTY_MESSAGE",929],"]",["T_WHITESPACE"," ",929],"=",["T_WHITESPACE"," ",929],["T_STRING","array_pop",929],"(",["T_VARIABLE","$temp",929],")",";",["T_WHITESPACE","\n                                ",929],["T_UNSET","unset",930],"(",["T_VARIABLE","$temp",930],")",";",["T_WHITESPACE","\n                            ",930],"}",["T_WHITESPACE"," ",931],["T_ELSE","else",931],["T_WHITESPACE"," ",931],"{",["T_WHITESPACE","\n                                ",931],["T_VARIABLE","$this",932],["T_OBJECT_OPERATOR","->",932],["T_STRING","_defaults",932],"[",["T_STRING","self",932],["T_DOUBLE_COLON","::",932],["T_STRING","NOT_EMPTY_MESSAGE",932],"]",["T_WHITESPACE"," ",932],"=",["T_WHITESPACE"," ",932],["T_VARIABLE","$value",932],";",["T_WHITESPACE","\n                            ",932],"}",["T_WHITESPACE","\n                        ",933],"}",["T_WHITESPACE","\n                    ",934],"}",["T_WHITESPACE","\n\n                    ",935],["T_VARIABLE","$validatorRule",937],"[",["T_STRING","self",937],["T_DOUBLE_COLON","::",937],["T_STRING","VALIDATOR_CHAIN",937],"]",["T_OBJECT_OPERATOR","->",937],["T_STRING","addValidator",937],"(",["T_VARIABLE","$validator",937],",",["T_WHITESPACE"," ",937],["T_VARIABLE","$validatorRule",937],"[",["T_STRING","self",937],["T_DOUBLE_COLON","::",937],["T_STRING","BREAK_CHAIN",937],"]",")",";",["T_WHITESPACE","\n                ",937],"}",["T_WHITESPACE","\n                ",938],["T_VARIABLE","$validatorRule",939],"[",["T_STRING","self",939],["T_DOUBLE_COLON","::",939],["T_STRING","VALIDATOR_CHAIN_COUNT",939],"]",["T_WHITESPACE"," ",939],"=",["T_WHITESPACE"," ",939],["T_STRING","count",939],"(",["T_VARIABLE","$validatorList",939],")",";",["T_WHITESPACE","\n            ",939],"}",["T_WHITESPACE","\n\n            ",940],["T_DOC_COMMENT","\/**\n             * If the ruleName is the special wildcard rule,\n             * then apply the validator chain to all input data.\n             * Else just process the field named by the rule.\n             *\/",942],["T_WHITESPACE","\n            ",946],["T_IF","if",947],["T_WHITESPACE"," ",947],"(",["T_VARIABLE","$ruleName",947],["T_WHITESPACE"," ",947],["T_IS_EQUAL","==",947],["T_WHITESPACE"," ",947],["T_STRING","self",947],["T_DOUBLE_COLON","::",947],["T_STRING","RULE_WILDCARD",947],")",["T_WHITESPACE"," ",947],"{",["T_WHITESPACE","\n                ",947],["T_FOREACH","foreach",948],["T_WHITESPACE"," ",948],"(",["T_STRING","array_keys",948],"(",["T_VARIABLE","$this",948],["T_OBJECT_OPERATOR","->",948],["T_STRING","_data",948],")",["T_WHITESPACE"," ",948],["T_AS","as",948],["T_WHITESPACE"," ",948],["T_VARIABLE","$field",948],")",["T_WHITESPACE","  ",948],"{",["T_WHITESPACE","\n                    ",948],["T_VARIABLE","$this",949],["T_OBJECT_OPERATOR","->",949],["T_STRING","_validateRule",949],"(",["T_STRING","array_merge",949],"(",["T_VARIABLE","$validatorRule",949],",",["T_WHITESPACE"," ",949],["T_ARRAY","array",949],"(",["T_STRING","self",949],["T_DOUBLE_COLON","::",949],["T_STRING","FIELDS",949],["T_WHITESPACE"," ",949],["T_DOUBLE_ARROW","=>",949],["T_WHITESPACE"," ",949],["T_VARIABLE","$field",949],")",")",")",";",["T_WHITESPACE","\n                ",949],"}",["T_WHITESPACE","\n            ",950],"}",["T_WHITESPACE"," ",951],["T_ELSE","else",951],["T_WHITESPACE"," ",951],"{",["T_WHITESPACE","\n                ",951],["T_VARIABLE","$this",952],["T_OBJECT_OPERATOR","->",952],["T_STRING","_validateRule",952],"(",["T_VARIABLE","$validatorRule",952],")",";",["T_WHITESPACE","\n            ",952],"}",["T_WHITESPACE","\n            \n            ",953],["T_COMMENT","\/\/ reset the default not empty message\n",955],["T_WHITESPACE","            ",956],["T_VARIABLE","$this",956],["T_OBJECT_OPERATOR","->",956],["T_STRING","_defaults",956],"[",["T_STRING","self",956],["T_DOUBLE_COLON","::",956],["T_STRING","NOT_EMPTY_MESSAGE",956],"]",["T_WHITESPACE"," ",956],"=",["T_WHITESPACE"," ",956],["T_VARIABLE","$preserveDefaultNotEmptyMessage",956],";",["T_WHITESPACE","\n        ",956],"}",["T_WHITESPACE","\n        \n\n\n        ",957],["T_DOC_COMMENT","\/**\n         * Unset fields in $_data that have been added to other arrays.\n         * We have to wait until all rules have been processed because\n         * a given field may be referenced by multiple rules.\n         *\/",961],["T_WHITESPACE","\n        ",965],["T_FOREACH","foreach",966],["T_WHITESPACE"," ",966],"(",["T_STRING","array_merge",966],"(",["T_STRING","array_keys",966],"(",["T_VARIABLE","$this",966],["T_OBJECT_OPERATOR","->",966],["T_STRING","_missingFields",966],")",",",["T_WHITESPACE"," ",966],["T_STRING","array_keys",966],"(",["T_VARIABLE","$this",966],["T_OBJECT_OPERATOR","->",966],["T_STRING","_invalidMessages",966],")",")",["T_WHITESPACE"," ",966],["T_AS","as",966],["T_WHITESPACE"," ",966],["T_VARIABLE","$rule",966],")",["T_WHITESPACE"," ",966],"{",["T_WHITESPACE","\n            ",966],["T_FOREACH","foreach",967],["T_WHITESPACE"," ",967],"(",["T_ARRAY_CAST","(array)",967],["T_WHITESPACE"," ",967],["T_VARIABLE","$this",967],["T_OBJECT_OPERATOR","->",967],["T_STRING","_validatorRules",967],"[",["T_VARIABLE","$rule",967],"]","[",["T_STRING","self",967],["T_DOUBLE_COLON","::",967],["T_STRING","FIELDS",967],"]",["T_WHITESPACE"," ",967],["T_AS","as",967],["T_WHITESPACE"," ",967],["T_VARIABLE","$field",967],")",["T_WHITESPACE"," ",967],"{",["T_WHITESPACE","\n                ",967],["T_UNSET","unset",968],"(",["T_VARIABLE","$this",968],["T_OBJECT_OPERATOR","->",968],["T_STRING","_data",968],"[",["T_VARIABLE","$field",968],"]",")",";",["T_WHITESPACE","\n            ",968],"}",["T_WHITESPACE","\n        ",969],"}",["T_WHITESPACE","\n        ",970],["T_FOREACH","foreach",971],["T_WHITESPACE"," ",971],"(",["T_VARIABLE","$this",971],["T_OBJECT_OPERATOR","->",971],["T_STRING","_validFields",971],["T_WHITESPACE"," ",971],["T_AS","as",971],["T_WHITESPACE"," ",971],["T_VARIABLE","$field",971],["T_WHITESPACE"," ",971],["T_DOUBLE_ARROW","=>",971],["T_WHITESPACE"," ",971],["T_VARIABLE","$value",971],")",["T_WHITESPACE"," ",971],"{",["T_WHITESPACE","\n            ",971],["T_UNSET","unset",972],"(",["T_VARIABLE","$this",972],["T_OBJECT_OPERATOR","->",972],["T_STRING","_data",972],"[",["T_VARIABLE","$field",972],"]",")",";",["T_WHITESPACE","\n        ",972],"}",["T_WHITESPACE","\n\n        ",973],["T_DOC_COMMENT","\/**\n         * Anything left over in $_data is an unknown field.\n         *\/",975],["T_WHITESPACE","\n        ",977],["T_VARIABLE","$this",978],["T_OBJECT_OPERATOR","->",978],["T_STRING","_unknownFields",978],["T_WHITESPACE"," ",978],"=",["T_WHITESPACE"," ",978],["T_VARIABLE","$this",978],["T_OBJECT_OPERATOR","->",978],["T_STRING","_data",978],";",["T_WHITESPACE","\n    ",978],"}",["T_WHITESPACE","\n\n    ",979],["T_DOC_COMMENT","\/**\n     * @param array $validatorRule\n     * @return void\n     *\/",981],["T_WHITESPACE","\n    ",984],["T_PROTECTED","protected",985],["T_WHITESPACE"," ",985],["T_FUNCTION","function",985],["T_WHITESPACE"," ",985],["T_STRING","_validateRule",985],"(",["T_ARRAY","array",985],["T_WHITESPACE"," ",985],["T_VARIABLE","$validatorRule",985],")",["T_WHITESPACE","\n    ",985],"{",["T_WHITESPACE","\n        ",986],["T_DOC_COMMENT","\/**\n         * Get one or more data values from input, and check for missing fields.\n         * Apply defaults if fields are missing.\n         *\/",987],["T_WHITESPACE","\n        ",990],["T_VARIABLE","$data",991],["T_WHITESPACE"," ",991],"=",["T_WHITESPACE"," ",991],["T_ARRAY","array",991],"(",")",";",["T_WHITESPACE","\n        ",991],["T_FOREACH","foreach",992],["T_WHITESPACE"," ",992],"(",["T_ARRAY_CAST","(array)",992],["T_WHITESPACE"," ",992],["T_VARIABLE","$validatorRule",992],"[",["T_STRING","self",992],["T_DOUBLE_COLON","::",992],["T_STRING","FIELDS",992],"]",["T_WHITESPACE"," ",992],["T_AS","as",992],["T_WHITESPACE"," ",992],["T_VARIABLE","$key",992],["T_WHITESPACE"," ",992],["T_DOUBLE_ARROW","=>",992],["T_WHITESPACE"," ",992],["T_VARIABLE","$field",992],")",["T_WHITESPACE"," ",992],"{",["T_WHITESPACE","\n            ",992],["T_IF","if",993],["T_WHITESPACE"," ",993],"(",["T_STRING","array_key_exists",993],"(",["T_VARIABLE","$field",993],",",["T_WHITESPACE"," ",993],["T_VARIABLE","$this",993],["T_OBJECT_OPERATOR","->",993],["T_STRING","_data",993],")",")",["T_WHITESPACE"," ",993],"{",["T_WHITESPACE","\n                ",993],["T_VARIABLE","$data",994],"[",["T_VARIABLE","$field",994],"]",["T_WHITESPACE"," ",994],"=",["T_WHITESPACE"," ",994],["T_VARIABLE","$this",994],["T_OBJECT_OPERATOR","->",994],["T_STRING","_data",994],"[",["T_VARIABLE","$field",994],"]",";",["T_WHITESPACE","\n            ",994],"}",["T_WHITESPACE"," ",995],["T_ELSE","else",995],["T_WHITESPACE"," ",995],["T_IF","if",995],["T_WHITESPACE"," ",995],"(",["T_ISSET","isset",995],"(",["T_VARIABLE","$validatorRule",995],"[",["T_STRING","self",995],["T_DOUBLE_COLON","::",995],["T_STRING","DEFAULT_VALUE",995],"]",")",")",["T_WHITESPACE"," ",995],"{",["T_WHITESPACE","\n                ",995],["T_DOC_COMMENT","\/** @todo according to this code default value can't be an array. It has to be reviewed *\/",996],["T_WHITESPACE","\n                ",996],["T_IF","if",997],["T_WHITESPACE"," ",997],"(","!",["T_STRING","is_array",997],"(",["T_VARIABLE","$validatorRule",997],"[",["T_STRING","self",997],["T_DOUBLE_COLON","::",997],["T_STRING","DEFAULT_VALUE",997],"]",")",")",["T_WHITESPACE"," ",997],"{",["T_WHITESPACE","\n                    ",997],["T_COMMENT","\/\/ Default value is a scalar\n",998],["T_WHITESPACE","                    ",999],["T_VARIABLE","$data",999],"[",["T_VARIABLE","$field",999],"]",["T_WHITESPACE"," ",999],"=",["T_WHITESPACE"," ",999],["T_VARIABLE","$validatorRule",999],"[",["T_STRING","self",999],["T_DOUBLE_COLON","::",999],["T_STRING","DEFAULT_VALUE",999],"]",";",["T_WHITESPACE","\n                ",999],"}",["T_WHITESPACE"," ",1000],["T_ELSE","else",1000],["T_WHITESPACE"," ",1000],"{",["T_WHITESPACE","\n                    ",1000],["T_COMMENT","\/\/ Default value is an array. Search for corresponding key\n",1001],["T_WHITESPACE","                    ",1002],["T_IF","if",1002],["T_WHITESPACE"," ",1002],"(",["T_ISSET","isset",1002],"(",["T_VARIABLE","$validatorRule",1002],"[",["T_STRING","self",1002],["T_DOUBLE_COLON","::",1002],["T_STRING","DEFAULT_VALUE",1002],"]","[",["T_VARIABLE","$key",1002],"]",")",")",["T_WHITESPACE"," ",1002],"{",["T_WHITESPACE","\n                        ",1002],["T_VARIABLE","$data",1003],"[",["T_VARIABLE","$field",1003],"]",["T_WHITESPACE"," ",1003],"=",["T_WHITESPACE"," ",1003],["T_VARIABLE","$validatorRule",1003],"[",["T_STRING","self",1003],["T_DOUBLE_COLON","::",1003],["T_STRING","DEFAULT_VALUE",1003],"]","[",["T_VARIABLE","$key",1003],"]",";",["T_WHITESPACE","\n                    ",1003],"}",["T_WHITESPACE"," ",1004],["T_ELSE","else",1004],["T_WHITESPACE"," ",1004],["T_IF","if",1004],["T_WHITESPACE"," ",1004],"(",["T_VARIABLE","$validatorRule",1004],"[",["T_STRING","self",1004],["T_DOUBLE_COLON","::",1004],["T_STRING","PRESENCE",1004],"]",["T_WHITESPACE"," ",1004],["T_IS_EQUAL","==",1004],["T_WHITESPACE"," ",1004],["T_STRING","self",1004],["T_DOUBLE_COLON","::",1004],["T_STRING","PRESENCE_REQUIRED",1004],")",["T_WHITESPACE"," ",1004],"{",["T_WHITESPACE","\n                        ",1004],["T_COMMENT","\/\/ Default value array is provided, but it doesn't have an entry for current field\n",1005],["T_WHITESPACE","                        ",1006],["T_COMMENT","\/\/ and presence is required\n",1006],["T_WHITESPACE","                        ",1007],["T_VARIABLE","$this",1007],["T_OBJECT_OPERATOR","->",1007],["T_STRING","_missingFields",1007],"[",["T_VARIABLE","$validatorRule",1007],"[",["T_STRING","self",1007],["T_DOUBLE_COLON","::",1007],["T_STRING","RULE",1007],"]","]","[","]",["T_WHITESPACE"," ",1007],"=",["T_WHITESPACE","\n                           ",1007],["T_VARIABLE","$this",1008],["T_OBJECT_OPERATOR","->",1008],["T_STRING","_getMissingMessage",1008],"(",["T_VARIABLE","$validatorRule",1008],"[",["T_STRING","self",1008],["T_DOUBLE_COLON","::",1008],["T_STRING","RULE",1008],"]",",",["T_WHITESPACE"," ",1008],["T_VARIABLE","$field",1008],")",";",["T_WHITESPACE","\n                    ",1008],"}",["T_WHITESPACE","\n                ",1009],"}",["T_WHITESPACE","\n            ",1010],"}",["T_WHITESPACE"," ",1011],["T_ELSE","else",1011],["T_WHITESPACE"," ",1011],["T_IF","if",1011],["T_WHITESPACE"," ",1011],"(",["T_VARIABLE","$validatorRule",1011],"[",["T_STRING","self",1011],["T_DOUBLE_COLON","::",1011],["T_STRING","PRESENCE",1011],"]",["T_WHITESPACE"," ",1011],["T_IS_EQUAL","==",1011],["T_WHITESPACE"," ",1011],["T_STRING","self",1011],["T_DOUBLE_COLON","::",1011],["T_STRING","PRESENCE_REQUIRED",1011],")",["T_WHITESPACE"," ",1011],"{",["T_WHITESPACE","\n                ",1011],["T_VARIABLE","$this",1012],["T_OBJECT_OPERATOR","->",1012],["T_STRING","_missingFields",1012],"[",["T_VARIABLE","$validatorRule",1012],"[",["T_STRING","self",1012],["T_DOUBLE_COLON","::",1012],["T_STRING","RULE",1012],"]","]","[","]",["T_WHITESPACE"," ",1012],"=",["T_WHITESPACE","\n                    ",1012],["T_VARIABLE","$this",1013],["T_OBJECT_OPERATOR","->",1013],["T_STRING","_getMissingMessage",1013],"(",["T_VARIABLE","$validatorRule",1013],"[",["T_STRING","self",1013],["T_DOUBLE_COLON","::",1013],["T_STRING","RULE",1013],"]",",",["T_WHITESPACE"," ",1013],["T_VARIABLE","$field",1013],")",";",["T_WHITESPACE","\n            ",1013],"}",["T_WHITESPACE","\n        ",1014],"}",["T_WHITESPACE","\n\n        ",1015],["T_DOC_COMMENT","\/**\n         * If any required fields are missing, break the loop.\n         *\/",1017],["T_WHITESPACE","\n        ",1019],["T_IF","if",1020],["T_WHITESPACE"," ",1020],"(",["T_ISSET","isset",1020],"(",["T_VARIABLE","$this",1020],["T_OBJECT_OPERATOR","->",1020],["T_STRING","_missingFields",1020],"[",["T_VARIABLE","$validatorRule",1020],"[",["T_STRING","self",1020],["T_DOUBLE_COLON","::",1020],["T_STRING","RULE",1020],"]","]",")",["T_WHITESPACE"," ",1020],["T_BOOLEAN_AND","&&",1020],["T_WHITESPACE"," ",1020],["T_STRING","count",1020],"(",["T_VARIABLE","$this",1020],["T_OBJECT_OPERATOR","->",1020],["T_STRING","_missingFields",1020],"[",["T_VARIABLE","$validatorRule",1020],"[",["T_STRING","self",1020],["T_DOUBLE_COLON","::",1020],["T_STRING","RULE",1020],"]","]",")",["T_WHITESPACE"," ",1020],">",["T_WHITESPACE"," ",1020],["T_LNUMBER","0",1020],")",["T_WHITESPACE"," ",1020],"{",["T_WHITESPACE","\n            ",1020],["T_RETURN","return",1021],";",["T_WHITESPACE","\n        ",1021],"}",["T_WHITESPACE","\n\n        ",1022],["T_DOC_COMMENT","\/**\n         * Evaluate the inputs against the validator chain.\n         *\/",1024],["T_WHITESPACE","\n        ",1026],["T_IF","if",1027],["T_WHITESPACE"," ",1027],"(",["T_STRING","count",1027],"(",["T_ARRAY_CAST","(array)",1027],["T_WHITESPACE"," ",1027],["T_VARIABLE","$validatorRule",1027],"[",["T_STRING","self",1027],["T_DOUBLE_COLON","::",1027],["T_STRING","FIELDS",1027],"]",")",["T_WHITESPACE"," ",1027],">",["T_WHITESPACE"," ",1027],["T_LNUMBER","1",1027],")",["T_WHITESPACE"," ",1027],"{",["T_WHITESPACE","\n            ",1027],["T_IF","if",1028],["T_WHITESPACE"," ",1028],"(","!",["T_VARIABLE","$validatorRule",1028],"[",["T_STRING","self",1028],["T_DOUBLE_COLON","::",1028],["T_STRING","ALLOW_EMPTY",1028],"]",")",["T_WHITESPACE"," ",1028],"{",["T_WHITESPACE","\n                ",1028],["T_VARIABLE","$emptyFieldsFound",1029],["T_WHITESPACE"," ",1029],"=",["T_WHITESPACE"," ",1029],["T_STRING","false",1029],";",["T_WHITESPACE","\n                ",1029],["T_VARIABLE","$errorsList",1030],["T_WHITESPACE","       ",1030],"=",["T_WHITESPACE"," ",1030],["T_ARRAY","array",1030],"(",")",";",["T_WHITESPACE","\n                ",1030],["T_VARIABLE","$messages",1031],["T_WHITESPACE","         ",1031],"=",["T_WHITESPACE"," ",1031],["T_ARRAY","array",1031],"(",")",";",["T_WHITESPACE","\n\n                ",1031],["T_FOREACH","foreach",1033],["T_WHITESPACE"," ",1033],"(",["T_VARIABLE","$data",1033],["T_WHITESPACE"," ",1033],["T_AS","as",1033],["T_WHITESPACE"," ",1033],["T_VARIABLE","$fieldKey",1033],["T_WHITESPACE"," ",1033],["T_DOUBLE_ARROW","=>",1033],["T_WHITESPACE"," ",1033],["T_VARIABLE","$field",1033],")",["T_WHITESPACE"," ",1033],"{",["T_WHITESPACE","\n                    ",1033],["T_COMMENT","\/\/ if there is no Zend_Validate_NotEmpty instance in the rules, we will use the default\n",1034],["T_WHITESPACE","                    ",1035],["T_IF","if",1035],["T_WHITESPACE"," ",1035],"(","!","(",["T_VARIABLE","$notEmptyValidator",1035],["T_WHITESPACE"," ",1035],"=",["T_WHITESPACE"," ",1035],["T_VARIABLE","$this",1035],["T_OBJECT_OPERATOR","->",1035],["T_STRING","_getNotEmptyValidatorInstance",1035],"(",["T_VARIABLE","$validatorRule",1035],")",")",")",["T_WHITESPACE"," ",1035],"{",["T_WHITESPACE","\n                        ",1035],["T_VARIABLE","$notEmptyValidator",1036],["T_WHITESPACE"," ",1036],"=",["T_WHITESPACE"," ",1036],["T_VARIABLE","$this",1036],["T_OBJECT_OPERATOR","->",1036],["T_STRING","_getValidator",1036],"(",["T_CONSTANT_ENCAPSED_STRING","'NotEmpty'",1036],")",";",["T_WHITESPACE","\n                        ",1036],["T_VARIABLE","$notEmptyValidator",1037],["T_OBJECT_OPERATOR","->",1037],["T_STRING","setMessage",1037],"(",["T_VARIABLE","$this",1037],["T_OBJECT_OPERATOR","->",1037],["T_STRING","_getNotEmptyMessage",1037],"(",["T_VARIABLE","$validatorRule",1037],"[",["T_STRING","self",1037],["T_DOUBLE_COLON","::",1037],["T_STRING","RULE",1037],"]",",",["T_WHITESPACE"," ",1037],["T_VARIABLE","$fieldKey",1037],")",")",";",["T_WHITESPACE","\n                    ",1037],"}",["T_WHITESPACE","            \n                            \n                    ",1038],["T_IF","if",1040],["T_WHITESPACE"," ",1040],"(","!",["T_VARIABLE","$notEmptyValidator",1040],["T_OBJECT_OPERATOR","->",1040],["T_STRING","isValid",1040],"(",["T_VARIABLE","$field",1040],")",")",["T_WHITESPACE"," ",1040],"{",["T_WHITESPACE","\n                        ",1040],["T_FOREACH","foreach",1041],["T_WHITESPACE"," ",1041],"(",["T_VARIABLE","$notEmptyValidator",1041],["T_OBJECT_OPERATOR","->",1041],["T_STRING","getMessages",1041],"(",")",["T_WHITESPACE"," ",1041],["T_AS","as",1041],["T_WHITESPACE"," ",1041],["T_VARIABLE","$messageKey",1041],["T_WHITESPACE"," ",1041],["T_DOUBLE_ARROW","=>",1041],["T_WHITESPACE"," ",1041],["T_VARIABLE","$message",1041],")",["T_WHITESPACE"," ",1041],"{",["T_WHITESPACE","\n                            ",1041],["T_IF","if",1042],["T_WHITESPACE"," ",1042],"(","!",["T_ISSET","isset",1042],"(",["T_VARIABLE","$messages",1042],"[",["T_VARIABLE","$messageKey",1042],"]",")",")",["T_WHITESPACE"," ",1042],"{",["T_WHITESPACE","\n                                ",1042],["T_VARIABLE","$messages",1043],"[",["T_VARIABLE","$messageKey",1043],"]",["T_WHITESPACE"," ",1043],"=",["T_WHITESPACE"," ",1043],["T_VARIABLE","$message",1043],";",["T_WHITESPACE","\n                            ",1043],"}",["T_WHITESPACE"," ",1044],["T_ELSE","else",1044],["T_WHITESPACE"," ",1044],"{",["T_WHITESPACE","\n                                ",1044],["T_VARIABLE","$messages",1045],"[","]",["T_WHITESPACE"," ",1045],"=",["T_WHITESPACE"," ",1045],["T_VARIABLE","$message",1045],";",["T_WHITESPACE","\n                            ",1045],"}",["T_WHITESPACE","\n                        ",1046],"}",["T_WHITESPACE","\n                        ",1047],["T_VARIABLE","$errorsList",1048],"[","]",["T_WHITESPACE"," ",1048],"=",["T_WHITESPACE"," ",1048],["T_VARIABLE","$notEmptyValidator",1048],["T_OBJECT_OPERATOR","->",1048],["T_STRING","getErrors",1048],"(",")",";",["T_WHITESPACE","\n                        ",1048],["T_VARIABLE","$emptyFieldsFound",1049],["T_WHITESPACE"," ",1049],"=",["T_WHITESPACE"," ",1049],["T_STRING","true",1049],";",["T_WHITESPACE","\n                    ",1049],"}",["T_WHITESPACE","\n                ",1050],"}",["T_WHITESPACE","\n\n                ",1051],["T_IF","if",1053],["T_WHITESPACE"," ",1053],"(",["T_VARIABLE","$emptyFieldsFound",1053],")",["T_WHITESPACE"," ",1053],"{",["T_WHITESPACE","\n                    ",1053],["T_VARIABLE","$this",1054],["T_OBJECT_OPERATOR","->",1054],["T_STRING","_invalidMessages",1054],"[",["T_VARIABLE","$validatorRule",1054],"[",["T_STRING","self",1054],["T_DOUBLE_COLON","::",1054],["T_STRING","RULE",1054],"]","]",["T_WHITESPACE"," ",1054],"=",["T_WHITESPACE"," ",1054],["T_VARIABLE","$messages",1054],";",["T_WHITESPACE","\n                    ",1054],["T_VARIABLE","$this",1055],["T_OBJECT_OPERATOR","->",1055],["T_STRING","_invalidErrors",1055],"[",["T_VARIABLE","$validatorRule",1055],"[",["T_STRING","self",1055],["T_DOUBLE_COLON","::",1055],["T_STRING","RULE",1055],"]","]",["T_WHITESPACE","   ",1055],"=",["T_WHITESPACE"," ",1055],["T_STRING","array_unique",1055],"(",["T_STRING","call_user_func_array",1055],"(",["T_CONSTANT_ENCAPSED_STRING","'array_merge'",1055],",",["T_WHITESPACE"," ",1055],["T_VARIABLE","$errorsList",1055],")",")",";",["T_WHITESPACE","\n                    ",1055],["T_RETURN","return",1056],";",["T_WHITESPACE","\n                ",1056],"}",["T_WHITESPACE","\n            ",1057],"}",["T_WHITESPACE","\n\n            ",1058],["T_IF","if",1060],["T_WHITESPACE"," ",1060],"(","!",["T_VARIABLE","$validatorRule",1060],"[",["T_STRING","self",1060],["T_DOUBLE_COLON","::",1060],["T_STRING","VALIDATOR_CHAIN",1060],"]",["T_OBJECT_OPERATOR","->",1060],["T_STRING","isValid",1060],"(",["T_VARIABLE","$data",1060],")",")",["T_WHITESPACE"," ",1060],"{",["T_WHITESPACE","\n                ",1060],["T_VARIABLE","$this",1061],["T_OBJECT_OPERATOR","->",1061],["T_STRING","_invalidMessages",1061],"[",["T_VARIABLE","$validatorRule",1061],"[",["T_STRING","self",1061],["T_DOUBLE_COLON","::",1061],["T_STRING","RULE",1061],"]","]",["T_WHITESPACE"," ",1061],"=",["T_WHITESPACE"," ",1061],["T_VARIABLE","$validatorRule",1061],"[",["T_STRING","self",1061],["T_DOUBLE_COLON","::",1061],["T_STRING","VALIDATOR_CHAIN",1061],"]",["T_OBJECT_OPERATOR","->",1061],["T_STRING","getMessages",1061],"(",")",";",["T_WHITESPACE","\n                ",1061],["T_VARIABLE","$this",1062],["T_OBJECT_OPERATOR","->",1062],["T_STRING","_invalidErrors",1062],"[",["T_VARIABLE","$validatorRule",1062],"[",["T_STRING","self",1062],["T_DOUBLE_COLON","::",1062],["T_STRING","RULE",1062],"]","]",["T_WHITESPACE"," ",1062],"=",["T_WHITESPACE"," ",1062],["T_VARIABLE","$validatorRule",1062],"[",["T_STRING","self",1062],["T_DOUBLE_COLON","::",1062],["T_STRING","VALIDATOR_CHAIN",1062],"]",["T_OBJECT_OPERATOR","->",1062],["T_STRING","getErrors",1062],"(",")",";",["T_WHITESPACE","\n                ",1062],["T_RETURN","return",1063],";",["T_WHITESPACE","\n            ",1063],"}",["T_WHITESPACE","\n        ",1064],"}",["T_WHITESPACE"," ",1065],["T_ELSE","else",1065],["T_WHITESPACE"," ",1065],["T_IF","if",1065],["T_WHITESPACE"," ",1065],"(",["T_STRING","count",1065],"(",["T_VARIABLE","$data",1065],")",["T_WHITESPACE"," ",1065],">",["T_WHITESPACE"," ",1065],["T_LNUMBER","0",1065],")",["T_WHITESPACE"," ",1065],"{",["T_WHITESPACE","\n            ",1065],["T_COMMENT","\/\/ $data is actually a one element array\n",1066],["T_WHITESPACE","            ",1067],["T_VARIABLE","$fieldNames",1067],["T_WHITESPACE"," ",1067],"=",["T_WHITESPACE"," ",1067],["T_STRING","array_keys",1067],"(",["T_VARIABLE","$data",1067],")",";",["T_WHITESPACE","\n            ",1067],["T_VARIABLE","$fieldName",1068],["T_WHITESPACE"," ",1068],"=",["T_WHITESPACE"," ",1068],["T_STRING","reset",1068],"(",["T_VARIABLE","$fieldNames",1068],")",";",["T_WHITESPACE","\n            ",1068],["T_VARIABLE","$field",1069],["T_WHITESPACE","     ",1069],"=",["T_WHITESPACE"," ",1069],["T_STRING","reset",1069],"(",["T_VARIABLE","$data",1069],")",";",["T_WHITESPACE","\n\n            ",1069],["T_VARIABLE","$failed",1071],["T_WHITESPACE"," ",1071],"=",["T_WHITESPACE"," ",1071],["T_STRING","false",1071],";",["T_WHITESPACE","\n            ",1071],["T_IF","if",1072],["T_WHITESPACE"," ",1072],"(","!",["T_STRING","is_array",1072],"(",["T_VARIABLE","$field",1072],")",")",["T_WHITESPACE"," ",1072],"{",["T_WHITESPACE","\n                ",1072],["T_VARIABLE","$field",1073],["T_WHITESPACE"," ",1073],"=",["T_WHITESPACE"," ",1073],["T_ARRAY","array",1073],"(",["T_VARIABLE","$field",1073],")",";",["T_WHITESPACE","\n            ",1073],"}",["T_WHITESPACE","\n\n            ",1074],["T_COMMENT","\/\/ if there is no Zend_Validate_NotEmpty instance in the rules, we will use the default\n",1076],["T_WHITESPACE","            ",1077],["T_IF","if",1077],["T_WHITESPACE"," ",1077],"(","!","(",["T_VARIABLE","$notEmptyValidator",1077],["T_WHITESPACE"," ",1077],"=",["T_WHITESPACE"," ",1077],["T_VARIABLE","$this",1077],["T_OBJECT_OPERATOR","->",1077],["T_STRING","_getNotEmptyValidatorInstance",1077],"(",["T_VARIABLE","$validatorRule",1077],")",")",")",["T_WHITESPACE"," ",1077],"{",["T_WHITESPACE","\n                ",1077],["T_VARIABLE","$notEmptyValidator",1078],["T_WHITESPACE"," ",1078],"=",["T_WHITESPACE"," ",1078],["T_VARIABLE","$this",1078],["T_OBJECT_OPERATOR","->",1078],["T_STRING","_getValidator",1078],"(",["T_CONSTANT_ENCAPSED_STRING","'NotEmpty'",1078],")",";",["T_WHITESPACE","\n                ",1078],["T_VARIABLE","$notEmptyValidator",1079],["T_OBJECT_OPERATOR","->",1079],["T_STRING","setMessage",1079],"(",["T_VARIABLE","$this",1079],["T_OBJECT_OPERATOR","->",1079],["T_STRING","_getNotEmptyMessage",1079],"(",["T_VARIABLE","$validatorRule",1079],"[",["T_STRING","self",1079],["T_DOUBLE_COLON","::",1079],["T_STRING","RULE",1079],"]",",",["T_WHITESPACE"," ",1079],["T_VARIABLE","$fieldName",1079],")",")",";",["T_WHITESPACE","\n            ",1079],"}",["T_WHITESPACE","\n            \n            ",1080],["T_IF","if",1082],["T_WHITESPACE"," ",1082],"(",["T_VARIABLE","$validatorRule",1082],"[",["T_STRING","self",1082],["T_DOUBLE_COLON","::",1082],["T_STRING","ALLOW_EMPTY",1082],"]",")",["T_WHITESPACE"," ",1082],"{",["T_WHITESPACE","\n                ",1082],["T_VARIABLE","$validatorChain",1083],["T_WHITESPACE"," ",1083],"=",["T_WHITESPACE"," ",1083],["T_VARIABLE","$validatorRule",1083],"[",["T_STRING","self",1083],["T_DOUBLE_COLON","::",1083],["T_STRING","VALIDATOR_CHAIN",1083],"]",";",["T_WHITESPACE","\n            ",1083],"}",["T_WHITESPACE"," ",1084],["T_ELSE","else",1084],["T_WHITESPACE"," ",1084],"{",["T_WHITESPACE","\n                ",1084],["T_VARIABLE","$validatorChain",1085],["T_WHITESPACE"," ",1085],"=",["T_WHITESPACE"," ",1085],["T_NEW","new",1085],["T_WHITESPACE"," ",1085],["T_STRING","Zend_Validate",1085],"(",")",";",["T_WHITESPACE","\n                ",1085],["T_VARIABLE","$validatorChain",1086],["T_OBJECT_OPERATOR","->",1086],["T_STRING","addValidator",1086],"(",["T_VARIABLE","$notEmptyValidator",1086],",",["T_WHITESPACE"," ",1086],["T_STRING","true",1086],["T_WHITESPACE"," ",1086],["T_COMMENT","\/* Always break on failure *\/",1086],")",";",["T_WHITESPACE","\n                ",1086],["T_VARIABLE","$validatorChain",1087],["T_OBJECT_OPERATOR","->",1087],["T_STRING","addValidator",1087],"(",["T_VARIABLE","$validatorRule",1087],"[",["T_STRING","self",1087],["T_DOUBLE_COLON","::",1087],["T_STRING","VALIDATOR_CHAIN",1087],"]",")",";",["T_WHITESPACE","\n            ",1087],"}",["T_WHITESPACE","\n\n            ",1088],["T_FOREACH","foreach",1090],["T_WHITESPACE"," ",1090],"(",["T_VARIABLE","$field",1090],["T_WHITESPACE"," ",1090],["T_AS","as",1090],["T_WHITESPACE"," ",1090],["T_VARIABLE","$key",1090],["T_WHITESPACE"," ",1090],["T_DOUBLE_ARROW","=>",1090],["T_WHITESPACE"," ",1090],["T_VARIABLE","$value",1090],")",["T_WHITESPACE"," ",1090],"{",["T_WHITESPACE","\n                ",1090],["T_IF","if",1091],["T_WHITESPACE"," ",1091],"(",["T_VARIABLE","$validatorRule",1091],"[",["T_STRING","self",1091],["T_DOUBLE_COLON","::",1091],["T_STRING","ALLOW_EMPTY",1091],"]",["T_WHITESPACE","  ",1091],["T_BOOLEAN_AND","&&",1091],["T_WHITESPACE","  ",1091],"!",["T_VARIABLE","$notEmptyValidator",1091],["T_OBJECT_OPERATOR","->",1091],["T_STRING","isValid",1091],"(",["T_VARIABLE","$value",1091],")",")",["T_WHITESPACE"," ",1091],"{",["T_WHITESPACE","\n                    ",1091],["T_COMMENT","\/\/ Field is empty AND it's allowed. Do nothing.\n",1092],["T_WHITESPACE","                    ",1093],["T_CONTINUE","continue",1093],";",["T_WHITESPACE","\n                ",1093],"}",["T_WHITESPACE","\n\n                ",1094],["T_IF","if",1096],["T_WHITESPACE"," ",1096],"(","!",["T_VARIABLE","$validatorChain",1096],["T_OBJECT_OPERATOR","->",1096],["T_STRING","isValid",1096],"(",["T_VARIABLE","$value",1096],")",")",["T_WHITESPACE"," ",1096],"{",["T_WHITESPACE","\n                    ",1096],["T_IF","if",1097],["T_WHITESPACE"," ",1097],"(",["T_ISSET","isset",1097],"(",["T_VARIABLE","$this",1097],["T_OBJECT_OPERATOR","->",1097],["T_STRING","_invalidMessages",1097],"[",["T_VARIABLE","$validatorRule",1097],"[",["T_STRING","self",1097],["T_DOUBLE_COLON","::",1097],["T_STRING","RULE",1097],"]","]",")",")",["T_WHITESPACE"," ",1097],"{",["T_WHITESPACE","\n                        ",1097],["T_VARIABLE","$collectedMessages",1098],["T_WHITESPACE"," ",1098],"=",["T_WHITESPACE"," ",1098],["T_VARIABLE","$this",1098],["T_OBJECT_OPERATOR","->",1098],["T_STRING","_invalidMessages",1098],"[",["T_VARIABLE","$validatorRule",1098],"[",["T_STRING","self",1098],["T_DOUBLE_COLON","::",1098],["T_STRING","RULE",1098],"]","]",";",["T_WHITESPACE","\n                    ",1098],"}",["T_WHITESPACE"," ",1099],["T_ELSE","else",1099],["T_WHITESPACE"," ",1099],"{",["T_WHITESPACE","\n                        ",1099],["T_VARIABLE","$collectedMessages",1100],["T_WHITESPACE"," ",1100],"=",["T_WHITESPACE"," ",1100],["T_ARRAY","array",1100],"(",")",";",["T_WHITESPACE","\n                    ",1100],"}",["T_WHITESPACE","\n\n                    ",1101],["T_FOREACH","foreach",1103],["T_WHITESPACE"," ",1103],"(",["T_VARIABLE","$validatorChain",1103],["T_OBJECT_OPERATOR","->",1103],["T_STRING","getMessages",1103],"(",")",["T_WHITESPACE"," ",1103],["T_AS","as",1103],["T_WHITESPACE"," ",1103],["T_VARIABLE","$messageKey",1103],["T_WHITESPACE"," ",1103],["T_DOUBLE_ARROW","=>",1103],["T_WHITESPACE"," ",1103],["T_VARIABLE","$message",1103],")",["T_WHITESPACE"," ",1103],"{",["T_WHITESPACE","\n                        ",1103],["T_IF","if",1104],["T_WHITESPACE"," ",1104],"(","!",["T_ISSET","isset",1104],"(",["T_VARIABLE","$collectedMessages",1104],"[",["T_VARIABLE","$messageKey",1104],"]",")",")",["T_WHITESPACE"," ",1104],"{",["T_WHITESPACE","\n                            ",1104],["T_VARIABLE","$collectedMessages",1105],"[",["T_VARIABLE","$messageKey",1105],"]",["T_WHITESPACE"," ",1105],"=",["T_WHITESPACE"," ",1105],["T_VARIABLE","$message",1105],";",["T_WHITESPACE","\n                        ",1105],"}",["T_WHITESPACE"," ",1106],["T_ELSE","else",1106],["T_WHITESPACE"," ",1106],"{",["T_WHITESPACE","\n                            ",1106],["T_VARIABLE","$collectedMessages",1107],"[","]",["T_WHITESPACE"," ",1107],"=",["T_WHITESPACE"," ",1107],["T_VARIABLE","$message",1107],";",["T_WHITESPACE","\n                        ",1107],"}",["T_WHITESPACE","\n                    ",1108],"}",["T_WHITESPACE","\n\n                    ",1109],["T_VARIABLE","$this",1111],["T_OBJECT_OPERATOR","->",1111],["T_STRING","_invalidMessages",1111],"[",["T_VARIABLE","$validatorRule",1111],"[",["T_STRING","self",1111],["T_DOUBLE_COLON","::",1111],["T_STRING","RULE",1111],"]","]",["T_WHITESPACE"," ",1111],"=",["T_WHITESPACE"," ",1111],["T_VARIABLE","$collectedMessages",1111],";",["T_WHITESPACE","\n                    ",1111],["T_IF","if",1112],["T_WHITESPACE"," ",1112],"(",["T_ISSET","isset",1112],"(",["T_VARIABLE","$this",1112],["T_OBJECT_OPERATOR","->",1112],["T_STRING","_invalidErrors",1112],"[",["T_VARIABLE","$validatorRule",1112],"[",["T_STRING","self",1112],["T_DOUBLE_COLON","::",1112],["T_STRING","RULE",1112],"]","]",")",")",["T_WHITESPACE"," ",1112],"{",["T_WHITESPACE","\n                        ",1112],["T_VARIABLE","$this",1113],["T_OBJECT_OPERATOR","->",1113],["T_STRING","_invalidErrors",1113],"[",["T_VARIABLE","$validatorRule",1113],"[",["T_STRING","self",1113],["T_DOUBLE_COLON","::",1113],["T_STRING","RULE",1113],"]","]",["T_WHITESPACE"," ",1113],"=",["T_WHITESPACE"," ",1113],["T_STRING","array_merge",1113],"(",["T_VARIABLE","$this",1113],["T_OBJECT_OPERATOR","->",1113],["T_STRING","_invalidErrors",1113],"[",["T_VARIABLE","$validatorRule",1113],"[",["T_STRING","self",1113],["T_DOUBLE_COLON","::",1113],["T_STRING","RULE",1113],"]","]",",",["T_WHITESPACE","\n                                                                                        ",1113],["T_VARIABLE","$validatorChain",1114],["T_OBJECT_OPERATOR","->",1114],["T_STRING","getErrors",1114],"(",")",")",";",["T_WHITESPACE","\n                    ",1114],"}",["T_WHITESPACE"," ",1115],["T_ELSE","else",1115],["T_WHITESPACE"," ",1115],"{",["T_WHITESPACE","\n                        ",1115],["T_VARIABLE","$this",1116],["T_OBJECT_OPERATOR","->",1116],["T_STRING","_invalidErrors",1116],"[",["T_VARIABLE","$validatorRule",1116],"[",["T_STRING","self",1116],["T_DOUBLE_COLON","::",1116],["T_STRING","RULE",1116],"]","]",["T_WHITESPACE"," ",1116],"=",["T_WHITESPACE"," ",1116],["T_VARIABLE","$validatorChain",1116],["T_OBJECT_OPERATOR","->",1116],["T_STRING","getErrors",1116],"(",")",";",["T_WHITESPACE","\n                    ",1116],"}",["T_WHITESPACE","\n                    ",1117],["T_UNSET","unset",1118],"(",["T_VARIABLE","$this",1118],["T_OBJECT_OPERATOR","->",1118],["T_STRING","_validFields",1118],"[",["T_VARIABLE","$fieldName",1118],"]",")",";",["T_WHITESPACE","\n                    ",1118],["T_VARIABLE","$failed",1119],["T_WHITESPACE"," ",1119],"=",["T_WHITESPACE"," ",1119],["T_STRING","true",1119],";",["T_WHITESPACE","\n                    ",1119],["T_IF","if",1120],["T_WHITESPACE"," ",1120],"(",["T_VARIABLE","$validatorRule",1120],"[",["T_STRING","self",1120],["T_DOUBLE_COLON","::",1120],["T_STRING","BREAK_CHAIN",1120],"]",")",["T_WHITESPACE"," ",1120],"{",["T_WHITESPACE","\n                        ",1120],["T_RETURN","return",1121],";",["T_WHITESPACE","\n                    ",1121],"}",["T_WHITESPACE","\n                ",1122],"}",["T_WHITESPACE","\n            ",1123],"}",["T_WHITESPACE","\n            ",1124],["T_IF","if",1125],["T_WHITESPACE"," ",1125],"(",["T_VARIABLE","$failed",1125],")",["T_WHITESPACE"," ",1125],"{",["T_WHITESPACE","\n                ",1125],["T_RETURN","return",1126],";",["T_WHITESPACE","\n            ",1126],"}",["T_WHITESPACE","\n        ",1127],"}",["T_WHITESPACE","\n\n        ",1128],["T_DOC_COMMENT","\/**\n         * If we got this far, the inputs for this rule pass validation.\n         *\/",1130],["T_WHITESPACE","\n        ",1132],["T_FOREACH","foreach",1133],["T_WHITESPACE"," ",1133],"(",["T_ARRAY_CAST","(array)",1133],["T_WHITESPACE"," ",1133],["T_VARIABLE","$validatorRule",1133],"[",["T_STRING","self",1133],["T_DOUBLE_COLON","::",1133],["T_STRING","FIELDS",1133],"]",["T_WHITESPACE"," ",1133],["T_AS","as",1133],["T_WHITESPACE"," ",1133],["T_VARIABLE","$field",1133],")",["T_WHITESPACE"," ",1133],"{",["T_WHITESPACE","\n            ",1133],["T_IF","if",1134],["T_WHITESPACE"," ",1134],"(",["T_STRING","array_key_exists",1134],"(",["T_VARIABLE","$field",1134],",",["T_WHITESPACE"," ",1134],["T_VARIABLE","$data",1134],")",")",["T_WHITESPACE"," ",1134],"{",["T_WHITESPACE","\n                ",1134],["T_VARIABLE","$this",1135],["T_OBJECT_OPERATOR","->",1135],["T_STRING","_validFields",1135],"[",["T_VARIABLE","$field",1135],"]",["T_WHITESPACE"," ",1135],"=",["T_WHITESPACE"," ",1135],["T_VARIABLE","$data",1135],"[",["T_VARIABLE","$field",1135],"]",";",["T_WHITESPACE","\n            ",1135],"}",["T_WHITESPACE","\n        ",1136],"}",["T_WHITESPACE","\n    ",1137],"}",["T_WHITESPACE","\n    \n    ",1138],["T_DOC_COMMENT","\/**\n     * Check a validatorRule for the presence of a NotEmpty validator instance.\n     * The purpose is to preserve things like a custom message, that may have been \n     * set on the validator outside Zend_Filter_Input.\n     * @param array $validatorRule\n     * @return mixed false if none is found, Zend_Validate_NotEmpty instance if found\n     *\/",1140],["T_WHITESPACE","\n    ",1146],["T_PROTECTED","protected",1147],["T_WHITESPACE"," ",1147],["T_FUNCTION","function",1147],["T_WHITESPACE"," ",1147],["T_STRING","_getNotEmptyValidatorInstance",1147],"(",["T_VARIABLE","$validatorRule",1147],")",["T_WHITESPACE"," ",1147],"{",["T_WHITESPACE","\n        ",1147],["T_FOREACH","foreach",1148],["T_WHITESPACE"," ",1148],"(",["T_VARIABLE","$validatorRule",1148],["T_WHITESPACE"," ",1148],["T_AS","as",1148],["T_WHITESPACE"," ",1148],["T_VARIABLE","$rule",1148],["T_WHITESPACE"," ",1148],["T_DOUBLE_ARROW","=>",1148],["T_WHITESPACE"," ",1148],["T_VARIABLE","$value",1148],")",["T_WHITESPACE"," ",1148],"{",["T_WHITESPACE","\n            ",1148],["T_IF","if",1149],["T_WHITESPACE"," ",1149],"(",["T_STRING","is_object",1149],"(",["T_VARIABLE","$value",1149],")",["T_WHITESPACE"," ",1149],["T_LOGICAL_AND","and",1149],["T_WHITESPACE"," ",1149],["T_VARIABLE","$value",1149],["T_WHITESPACE"," ",1149],["T_INSTANCEOF","instanceof",1149],["T_WHITESPACE"," ",1149],["T_STRING","Zend_Validate_NotEmpty",1149],")",["T_WHITESPACE"," ",1149],"{",["T_WHITESPACE","\n                ",1149],["T_RETURN","return",1150],["T_WHITESPACE"," ",1150],["T_VARIABLE","$value",1150],";",["T_WHITESPACE","\n            ",1150],"}",["T_WHITESPACE","\n        ",1151],"}",["T_WHITESPACE","\n        \n        ",1152],["T_RETURN","return",1154],["T_WHITESPACE"," ",1154],["T_STRING","false",1154],";",["T_WHITESPACE","\n    ",1154],"}",["T_WHITESPACE","\n\n    ",1155],["T_DOC_COMMENT","\/**\n     * @param mixed $classBaseName\n     * @return Zend_Filter_Interface\n     *\/",1157],["T_WHITESPACE","\n    ",1160],["T_PROTECTED","protected",1161],["T_WHITESPACE"," ",1161],["T_FUNCTION","function",1161],["T_WHITESPACE"," ",1161],["T_STRING","_getFilter",1161],"(",["T_VARIABLE","$classBaseName",1161],")",["T_WHITESPACE","\n    ",1161],"{",["T_WHITESPACE","\n        ",1162],["T_RETURN","return",1163],["T_WHITESPACE"," ",1163],["T_VARIABLE","$this",1163],["T_OBJECT_OPERATOR","->",1163],["T_STRING","_getFilterOrValidator",1163],"(",["T_STRING","self",1163],["T_DOUBLE_COLON","::",1163],["T_STRING","FILTER",1163],",",["T_WHITESPACE"," ",1163],["T_VARIABLE","$classBaseName",1163],")",";",["T_WHITESPACE","\n    ",1163],"}",["T_WHITESPACE","\n\n    ",1164],["T_DOC_COMMENT","\/**\n     * @param mixed $classBaseName\n     * @return Zend_Validate_Interface\n     *\/",1166],["T_WHITESPACE","\n    ",1169],["T_PROTECTED","protected",1170],["T_WHITESPACE"," ",1170],["T_FUNCTION","function",1170],["T_WHITESPACE"," ",1170],["T_STRING","_getValidator",1170],"(",["T_VARIABLE","$classBaseName",1170],")",["T_WHITESPACE","\n    ",1170],"{",["T_WHITESPACE","\n        ",1171],["T_RETURN","return",1172],["T_WHITESPACE"," ",1172],["T_VARIABLE","$this",1172],["T_OBJECT_OPERATOR","->",1172],["T_STRING","_getFilterOrValidator",1172],"(",["T_STRING","self",1172],["T_DOUBLE_COLON","::",1172],["T_STRING","VALIDATE",1172],",",["T_WHITESPACE"," ",1172],["T_VARIABLE","$classBaseName",1172],")",";",["T_WHITESPACE","\n    ",1172],"}",["T_WHITESPACE","\n\n    ",1173],["T_DOC_COMMENT","\/**\n     * @param string $type\n     * @param mixed $classBaseName\n     * @return Zend_Filter_Interface|Zend_Validate_Interface\n     * @throws Zend_Filter_Exception\n     *\/",1175],["T_WHITESPACE","\n    ",1180],["T_PROTECTED","protected",1181],["T_WHITESPACE"," ",1181],["T_FUNCTION","function",1181],["T_WHITESPACE"," ",1181],["T_STRING","_getFilterOrValidator",1181],"(",["T_VARIABLE","$type",1181],",",["T_WHITESPACE"," ",1181],["T_VARIABLE","$classBaseName",1181],")",["T_WHITESPACE","\n    ",1181],"{",["T_WHITESPACE","\n        ",1182],["T_VARIABLE","$args",1183],["T_WHITESPACE"," ",1183],"=",["T_WHITESPACE"," ",1183],["T_ARRAY","array",1183],"(",")",";",["T_WHITESPACE","\n\n        ",1183],["T_IF","if",1185],["T_WHITESPACE"," ",1185],"(",["T_STRING","is_array",1185],"(",["T_VARIABLE","$classBaseName",1185],")",")",["T_WHITESPACE"," ",1185],"{",["T_WHITESPACE","\n            ",1185],["T_VARIABLE","$args",1186],["T_WHITESPACE"," ",1186],"=",["T_WHITESPACE"," ",1186],["T_VARIABLE","$classBaseName",1186],";",["T_WHITESPACE","\n            ",1186],["T_VARIABLE","$classBaseName",1187],["T_WHITESPACE"," ",1187],"=",["T_WHITESPACE"," ",1187],["T_STRING","array_shift",1187],"(",["T_VARIABLE","$args",1187],")",";",["T_WHITESPACE","\n        ",1187],"}",["T_WHITESPACE","\n\n        ",1188],["T_VARIABLE","$interfaceName",1190],["T_WHITESPACE"," ",1190],"=",["T_WHITESPACE"," ",1190],["T_CONSTANT_ENCAPSED_STRING","'Zend_'",1190],["T_WHITESPACE"," ",1190],".",["T_WHITESPACE"," ",1190],["T_STRING","ucfirst",1190],"(",["T_VARIABLE","$type",1190],")",["T_WHITESPACE"," ",1190],".",["T_WHITESPACE"," ",1190],["T_CONSTANT_ENCAPSED_STRING","'_Interface'",1190],";",["T_WHITESPACE","\n        ",1190],["T_VARIABLE","$className",1191],["T_WHITESPACE"," ",1191],"=",["T_WHITESPACE"," ",1191],["T_VARIABLE","$this",1191],["T_OBJECT_OPERATOR","->",1191],["T_STRING","getPluginLoader",1191],"(",["T_VARIABLE","$type",1191],")",["T_OBJECT_OPERATOR","->",1191],["T_STRING","load",1191],"(",["T_STRING","ucfirst",1191],"(",["T_VARIABLE","$classBaseName",1191],")",")",";",["T_WHITESPACE","\n\n        ",1191],["T_VARIABLE","$class",1193],["T_WHITESPACE"," ",1193],"=",["T_WHITESPACE"," ",1193],["T_NEW","new",1193],["T_WHITESPACE"," ",1193],["T_STRING","ReflectionClass",1193],"(",["T_VARIABLE","$className",1193],")",";",["T_WHITESPACE","\n\n        ",1193],["T_IF","if",1195],["T_WHITESPACE"," ",1195],"(","!",["T_VARIABLE","$class",1195],["T_OBJECT_OPERATOR","->",1195],["T_STRING","implementsInterface",1195],"(",["T_VARIABLE","$interfaceName",1195],")",")",["T_WHITESPACE"," ",1195],"{",["T_WHITESPACE","\n            ",1195],["T_COMMENT","#require_once 'Zend\/Filter\/Exception.php';\n",1196],["T_WHITESPACE","            ",1197],["T_THROW","throw",1197],["T_WHITESPACE"," ",1197],["T_NEW","new",1197],["T_WHITESPACE"," ",1197],["T_STRING","Zend_Filter_Exception",1197],"(","\"",["T_ENCAPSED_AND_WHITESPACE","Class '",1197],["T_VARIABLE","$className",1197],["T_ENCAPSED_AND_WHITESPACE","' based on basename '",1197],["T_VARIABLE","$classBaseName",1197],["T_ENCAPSED_AND_WHITESPACE","' must implement the '",1197],["T_VARIABLE","$interfaceName",1197],["T_ENCAPSED_AND_WHITESPACE","' interface",1197],"\"",")",";",["T_WHITESPACE","\n        ",1197],"}",["T_WHITESPACE","\n\n        ",1198],["T_IF","if",1200],["T_WHITESPACE"," ",1200],"(",["T_VARIABLE","$class",1200],["T_OBJECT_OPERATOR","->",1200],["T_STRING","hasMethod",1200],"(",["T_CONSTANT_ENCAPSED_STRING","'__construct'",1200],")",")",["T_WHITESPACE"," ",1200],"{",["T_WHITESPACE","\n            ",1200],["T_VARIABLE","$object",1201],["T_WHITESPACE"," ",1201],"=",["T_WHITESPACE"," ",1201],["T_VARIABLE","$class",1201],["T_OBJECT_OPERATOR","->",1201],["T_STRING","newInstanceArgs",1201],"(",["T_VARIABLE","$args",1201],")",";",["T_WHITESPACE","\n        ",1201],"}",["T_WHITESPACE"," ",1202],["T_ELSE","else",1202],["T_WHITESPACE"," ",1202],"{",["T_WHITESPACE","\n            ",1202],["T_VARIABLE","$object",1203],["T_WHITESPACE"," ",1203],"=",["T_WHITESPACE"," ",1203],["T_VARIABLE","$class",1203],["T_OBJECT_OPERATOR","->",1203],["T_STRING","newInstance",1203],"(",")",";",["T_WHITESPACE","\n        ",1203],"}",["T_WHITESPACE","\n\n        ",1204],["T_RETURN","return",1206],["T_WHITESPACE"," ",1206],["T_VARIABLE","$object",1206],";",["T_WHITESPACE","\n    ",1206],"}",["T_WHITESPACE","\n\n",1207],"}",["T_WHITESPACE","\n",1209]]