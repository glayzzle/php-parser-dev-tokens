[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Zend Framework\n *\n * LICENSE\n *\n * This source file is subject to the new BSD license that is bundled\n * with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/framework.zend.com\/license\/new-bsd\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@zend.com so we can send you a copy immediately.\n *\n * @category   Zend\n * @package    Zend_Oauth\n * @copyright  Copyright (c) 2005-2015 Zend Technologies USA Inc. (http:\/\/www.zend.com)\n * @license    http:\/\/framework.zend.com\/license\/new-bsd     New BSD License\n * @version    $Id$\n *\/",2],["T_WHITESPACE","\n\n",20],["T_DOC_COMMENT","\/** Zend_Oauth_Http_Utility *\/",22],["T_WHITESPACE","\n",22],["T_COMMENT","#require_once 'Zend\/Oauth\/Http\/Utility.php';\n",23],["T_WHITESPACE","\n",24],["T_DOC_COMMENT","\/** Zend_Uri_Http *\/",25],["T_WHITESPACE","\n",25],["T_COMMENT","#require_once 'Zend\/Uri\/Http.php';\n",26],["T_WHITESPACE","\n",27],["T_DOC_COMMENT","\/**\n * @category   Zend\n * @package    Zend_Oauth\n * @copyright  Copyright (c) 2005-2015 Zend Technologies USA Inc. (http:\/\/www.zend.com)\n * @license    http:\/\/framework.zend.com\/license\/new-bsd     New BSD License\n *\/",28],["T_WHITESPACE","\n",33],["T_CLASS","class",34],["T_WHITESPACE"," ",34],["T_STRING","Zend_Oauth_Http",34],["T_WHITESPACE","\n",34],"{",["T_WHITESPACE","\n    ",35],["T_DOC_COMMENT","\/**\n     * Array of all custom service parameters to be sent in the HTTP request\n     * in addition to the usual OAuth parameters.\n     *\n     * @var array\n     *\/",36],["T_WHITESPACE","\n    ",41],["T_PROTECTED","protected",42],["T_WHITESPACE"," ",42],["T_VARIABLE","$_parameters",42],["T_WHITESPACE"," ",42],"=",["T_WHITESPACE"," ",42],["T_ARRAY","array",42],"(",")",";",["T_WHITESPACE","\n\n    ",42],["T_DOC_COMMENT","\/**\n     * Reference to the Zend_Oauth_Consumer instance in use.\n     *\n     * @var string\n     *\/",44],["T_WHITESPACE","\n    ",48],["T_PROTECTED","protected",49],["T_WHITESPACE"," ",49],["T_VARIABLE","$_consumer",49],["T_WHITESPACE"," ",49],"=",["T_WHITESPACE"," ",49],["T_STRING","null",49],";",["T_WHITESPACE","\n\n    ",49],["T_DOC_COMMENT","\/**\n     * OAuth specifies three request methods, this holds the current preferred\n     * one which by default uses the Authorization Header approach for passing\n     * OAuth parameters, and a POST body for non-OAuth custom parameters.\n     *\n     * @var string\n     *\/",51],["T_WHITESPACE","\n    ",57],["T_PROTECTED","protected",58],["T_WHITESPACE"," ",58],["T_VARIABLE","$_preferredRequestScheme",58],["T_WHITESPACE"," ",58],"=",["T_WHITESPACE"," ",58],["T_STRING","null",58],";",["T_WHITESPACE","\n\n    ",58],["T_DOC_COMMENT","\/**\n     * Request Method for the HTTP Request.\n     *\n     * @var string\n     *\/",60],["T_WHITESPACE","\n    ",64],["T_PROTECTED","protected",65],["T_WHITESPACE"," ",65],["T_VARIABLE","$_preferredRequestMethod",65],["T_WHITESPACE"," ",65],"=",["T_WHITESPACE"," ",65],["T_STRING","Zend_Oauth",65],["T_DOUBLE_COLON","::",65],["T_STRING","POST",65],";",["T_WHITESPACE","\n\n    ",65],["T_DOC_COMMENT","\/**\n     * Instance of the general Zend_Oauth_Http_Utility class.\n     *\n     * @var Zend_Oauth_Http_Utility\n     *\/",67],["T_WHITESPACE","\n    ",71],["T_PROTECTED","protected",72],["T_WHITESPACE"," ",72],["T_VARIABLE","$_httpUtility",72],["T_WHITESPACE"," ",72],"=",["T_WHITESPACE"," ",72],["T_STRING","null",72],";",["T_WHITESPACE","\n\n    ",72],["T_DOC_COMMENT","\/**\n     * Constructor\n     *\n     * @param  Zend_Oauth_Consumer $consumer\n     * @param  null|array $parameters\n     * @param  null|Zend_Oauth_Http_Utility $utility\n     * @return void\n     *\/",74],["T_WHITESPACE","\n    ",81],["T_PUBLIC","public",82],["T_WHITESPACE"," ",82],["T_FUNCTION","function",82],["T_WHITESPACE"," ",82],["T_STRING","__construct",82],"(",["T_WHITESPACE","\n        ",82],["T_STRING","Zend_Oauth_Consumer",83],["T_WHITESPACE"," ",83],["T_VARIABLE","$consumer",83],",",["T_WHITESPACE","\n        ",83],["T_ARRAY","array",84],["T_WHITESPACE"," ",84],["T_VARIABLE","$parameters",84],["T_WHITESPACE"," ",84],"=",["T_WHITESPACE"," ",84],["T_STRING","null",84],",",["T_WHITESPACE","\n        ",84],["T_STRING","Zend_Oauth_Http_Utility",85],["T_WHITESPACE"," ",85],["T_VARIABLE","$utility",85],["T_WHITESPACE"," ",85],"=",["T_WHITESPACE"," ",85],["T_STRING","null",85],["T_WHITESPACE","\n    ",85],")",["T_WHITESPACE"," ",86],"{",["T_WHITESPACE","\n        ",86],["T_VARIABLE","$this",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","_consumer",87],["T_WHITESPACE"," ",87],"=",["T_WHITESPACE"," ",87],["T_VARIABLE","$consumer",87],";",["T_WHITESPACE","\n        ",87],["T_VARIABLE","$this",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","_preferredRequestScheme",88],["T_WHITESPACE"," ",88],"=",["T_WHITESPACE"," ",88],["T_VARIABLE","$this",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","_consumer",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","getRequestScheme",88],"(",")",";",["T_WHITESPACE","\n        ",88],["T_IF","if",89],["T_WHITESPACE"," ",89],"(",["T_VARIABLE","$parameters",89],["T_WHITESPACE"," ",89],["T_IS_NOT_IDENTICAL","!==",89],["T_WHITESPACE"," ",89],["T_STRING","null",89],")",["T_WHITESPACE"," ",89],"{",["T_WHITESPACE","\n            ",89],["T_VARIABLE","$this",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","setParameters",90],"(",["T_VARIABLE","$parameters",90],")",";",["T_WHITESPACE","\n        ",90],"}",["T_WHITESPACE","\n        ",91],["T_IF","if",92],["T_WHITESPACE"," ",92],"(",["T_VARIABLE","$utility",92],["T_WHITESPACE"," ",92],["T_IS_NOT_IDENTICAL","!==",92],["T_WHITESPACE"," ",92],["T_STRING","null",92],")",["T_WHITESPACE"," ",92],"{",["T_WHITESPACE","\n            ",92],["T_VARIABLE","$this",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","_httpUtility",93],["T_WHITESPACE"," ",93],"=",["T_WHITESPACE"," ",93],["T_VARIABLE","$utility",93],";",["T_WHITESPACE","\n        ",93],"}",["T_WHITESPACE"," ",94],["T_ELSE","else",94],["T_WHITESPACE"," ",94],"{",["T_WHITESPACE","\n            ",94],["T_VARIABLE","$this",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","_httpUtility",95],["T_WHITESPACE"," ",95],"=",["T_WHITESPACE"," ",95],["T_NEW","new",95],["T_WHITESPACE"," ",95],["T_STRING","Zend_Oauth_Http_Utility",95],";",["T_WHITESPACE","\n        ",95],"}",["T_WHITESPACE","\n    ",96],"}",["T_WHITESPACE","\n\n    ",97],["T_DOC_COMMENT","\/**\n     * Set a preferred HTTP request method.\n     *\n     * @param  string $method\n     * @return Zend_Oauth_Http\n     *\/",99],["T_WHITESPACE","\n    ",104],["T_PUBLIC","public",105],["T_WHITESPACE"," ",105],["T_FUNCTION","function",105],["T_WHITESPACE"," ",105],["T_STRING","setMethod",105],"(",["T_VARIABLE","$method",105],")",["T_WHITESPACE","\n    ",105],"{",["T_WHITESPACE","\n        ",106],["T_IF","if",107],["T_WHITESPACE"," ",107],"(","!",["T_STRING","in_array",107],"(",["T_VARIABLE","$method",107],",",["T_WHITESPACE"," ",107],["T_ARRAY","array",107],"(",["T_STRING","Zend_Oauth",107],["T_DOUBLE_COLON","::",107],["T_STRING","POST",107],",",["T_WHITESPACE"," ",107],["T_STRING","Zend_Oauth",107],["T_DOUBLE_COLON","::",107],["T_STRING","GET",107],")",")",")",["T_WHITESPACE"," ",107],"{",["T_WHITESPACE","\n            ",107],["T_COMMENT","#require_once 'Zend\/Oauth\/Exception.php';\n",108],["T_WHITESPACE","            ",109],["T_THROW","throw",109],["T_WHITESPACE"," ",109],["T_NEW","new",109],["T_WHITESPACE"," ",109],["T_STRING","Zend_Oauth_Exception",109],"(",["T_CONSTANT_ENCAPSED_STRING","'invalid HTTP method: '",109],["T_WHITESPACE"," ",109],".",["T_WHITESPACE"," ",109],["T_VARIABLE","$method",109],")",";",["T_WHITESPACE","\n        ",109],"}",["T_WHITESPACE","\n        ",110],["T_VARIABLE","$this",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","_preferredRequestMethod",111],["T_WHITESPACE"," ",111],"=",["T_WHITESPACE"," ",111],["T_VARIABLE","$method",111],";",["T_WHITESPACE","\n        ",111],["T_RETURN","return",112],["T_WHITESPACE"," ",112],["T_VARIABLE","$this",112],";",["T_WHITESPACE","\n    ",112],"}",["T_WHITESPACE","\n\n    ",113],["T_DOC_COMMENT","\/**\n     * Preferred HTTP request method accessor.\n     *\n     * @return string\n     *\/",115],["T_WHITESPACE","\n    ",119],["T_PUBLIC","public",120],["T_WHITESPACE"," ",120],["T_FUNCTION","function",120],["T_WHITESPACE"," ",120],["T_STRING","getMethod",120],"(",")",["T_WHITESPACE","\n    ",120],"{",["T_WHITESPACE","\n        ",121],["T_RETURN","return",122],["T_WHITESPACE"," ",122],["T_VARIABLE","$this",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","_preferredRequestMethod",122],";",["T_WHITESPACE","\n    ",122],"}",["T_WHITESPACE","\n\n    ",123],["T_DOC_COMMENT","\/**\n     * Mutator to set an array of custom parameters for the HTTP request.\n     *\n     * @param  array $customServiceParameters\n     * @return Zend_Oauth_Http\n     *\/",125],["T_WHITESPACE","\n    ",130],["T_PUBLIC","public",131],["T_WHITESPACE"," ",131],["T_FUNCTION","function",131],["T_WHITESPACE"," ",131],["T_STRING","setParameters",131],"(",["T_ARRAY","array",131],["T_WHITESPACE"," ",131],["T_VARIABLE","$customServiceParameters",131],")",["T_WHITESPACE","\n    ",131],"{",["T_WHITESPACE","\n        ",132],["T_VARIABLE","$this",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","_parameters",133],["T_WHITESPACE"," ",133],"=",["T_WHITESPACE"," ",133],["T_VARIABLE","$customServiceParameters",133],";",["T_WHITESPACE","\n        ",133],["T_RETURN","return",134],["T_WHITESPACE"," ",134],["T_VARIABLE","$this",134],";",["T_WHITESPACE","\n    ",134],"}",["T_WHITESPACE","\n\n    ",135],["T_DOC_COMMENT","\/**\n     * Accessor for an array of custom parameters.\n     *\n     * @return array\n     *\/",137],["T_WHITESPACE","\n    ",141],["T_PUBLIC","public",142],["T_WHITESPACE"," ",142],["T_FUNCTION","function",142],["T_WHITESPACE"," ",142],["T_STRING","getParameters",142],"(",")",["T_WHITESPACE","\n    ",142],"{",["T_WHITESPACE","\n        ",143],["T_RETURN","return",144],["T_WHITESPACE"," ",144],["T_VARIABLE","$this",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","_parameters",144],";",["T_WHITESPACE","\n    ",144],"}",["T_WHITESPACE","\n\n    ",145],["T_DOC_COMMENT","\/**\n     * Return the Consumer instance in use.\n     *\n     * @return Zend_Oauth_Consumer\n     *\/",147],["T_WHITESPACE","\n    ",151],["T_PUBLIC","public",152],["T_WHITESPACE"," ",152],["T_FUNCTION","function",152],["T_WHITESPACE"," ",152],["T_STRING","getConsumer",152],"(",")",["T_WHITESPACE","\n    ",152],"{",["T_WHITESPACE","\n        ",153],["T_RETURN","return",154],["T_WHITESPACE"," ",154],["T_VARIABLE","$this",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","_consumer",154],";",["T_WHITESPACE","\n    ",154],"}",["T_WHITESPACE","\n\n    ",155],["T_DOC_COMMENT","\/**\n     * Commence a request cycle where the current HTTP method and OAuth\n     * request scheme set an upper preferred HTTP request style and where\n     * failures generate a new HTTP request style further down the OAuth\n     * preference list for OAuth Request Schemes.\n     * On success, return the Request object that results for processing.\n     *\n     * @param  array $params\n     * @return Zend_Http_Response\n     * @throws Zend_Oauth_Exception on HTTP request errors\n     * @todo   Remove cycling?; Replace with upfront do-or-die configuration\n     *\/",157],["T_WHITESPACE","\n    ",168],["T_PUBLIC","public",169],["T_WHITESPACE"," ",169],["T_FUNCTION","function",169],["T_WHITESPACE"," ",169],["T_STRING","startRequestCycle",169],"(",["T_ARRAY","array",169],["T_WHITESPACE"," ",169],["T_VARIABLE","$params",169],")",["T_WHITESPACE","\n    ",169],"{",["T_WHITESPACE","\n        ",170],["T_VARIABLE","$response",171],["T_WHITESPACE"," ",171],"=",["T_WHITESPACE"," ",171],["T_STRING","null",171],";",["T_WHITESPACE","\n        ",171],["T_VARIABLE","$body",172],["T_WHITESPACE","     ",172],"=",["T_WHITESPACE"," ",172],["T_STRING","null",172],";",["T_WHITESPACE","\n        ",172],["T_VARIABLE","$status",173],["T_WHITESPACE","   ",173],"=",["T_WHITESPACE"," ",173],["T_STRING","null",173],";",["T_WHITESPACE","\n        ",173],["T_TRY","try",174],["T_WHITESPACE"," ",174],"{",["T_WHITESPACE","\n            ",174],["T_VARIABLE","$response",175],["T_WHITESPACE"," ",175],"=",["T_WHITESPACE"," ",175],["T_VARIABLE","$this",175],["T_OBJECT_OPERATOR","->",175],["T_STRING","_attemptRequest",175],"(",["T_VARIABLE","$params",175],")",";",["T_WHITESPACE","\n        ",175],"}",["T_WHITESPACE"," ",176],["T_CATCH","catch",176],["T_WHITESPACE"," ",176],"(",["T_STRING","Zend_Http_Client_Exception",176],["T_WHITESPACE"," ",176],["T_VARIABLE","$e",176],")",["T_WHITESPACE"," ",176],"{",["T_WHITESPACE","\n            ",176],["T_COMMENT","#require_once 'Zend\/Oauth\/Exception.php';\n",177],["T_WHITESPACE","            ",178],["T_THROW","throw",178],["T_WHITESPACE"," ",178],["T_NEW","new",178],["T_WHITESPACE"," ",178],["T_STRING","Zend_Oauth_Exception",178],"(",["T_CONSTANT_ENCAPSED_STRING","'Error in HTTP request'",178],",",["T_WHITESPACE"," ",178],["T_STRING","null",178],",",["T_WHITESPACE"," ",178],["T_VARIABLE","$e",178],")",";",["T_WHITESPACE","\n        ",178],"}",["T_WHITESPACE","\n        ",179],["T_IF","if",180],["T_WHITESPACE"," ",180],"(",["T_VARIABLE","$response",180],["T_WHITESPACE"," ",180],["T_IS_NOT_IDENTICAL","!==",180],["T_WHITESPACE"," ",180],["T_STRING","null",180],")",["T_WHITESPACE"," ",180],"{",["T_WHITESPACE","\n            ",180],["T_VARIABLE","$body",181],["T_WHITESPACE","   ",181],"=",["T_WHITESPACE"," ",181],["T_VARIABLE","$response",181],["T_OBJECT_OPERATOR","->",181],["T_STRING","getBody",181],"(",")",";",["T_WHITESPACE","\n            ",181],["T_VARIABLE","$status",182],["T_WHITESPACE"," ",182],"=",["T_WHITESPACE"," ",182],["T_VARIABLE","$response",182],["T_OBJECT_OPERATOR","->",182],["T_STRING","getStatus",182],"(",")",";",["T_WHITESPACE","\n        ",182],"}",["T_WHITESPACE","\n        ",183],["T_IF","if",184],["T_WHITESPACE"," ",184],"(",["T_VARIABLE","$response",184],["T_WHITESPACE"," ",184],["T_IS_IDENTICAL","===",184],["T_WHITESPACE"," ",184],["T_STRING","null",184],["T_WHITESPACE"," ",184],["T_COMMENT","\/\/ Request failure\/exception\n",184],["T_WHITESPACE","            ",185],["T_BOOLEAN_OR","||",185],["T_WHITESPACE"," ",185],["T_VARIABLE","$status",185],["T_WHITESPACE"," ",185],["T_IS_EQUAL","==",185],["T_WHITESPACE"," ",185],["T_LNUMBER","500",185],["T_WHITESPACE","  ",185],["T_COMMENT","\/\/ Internal Server Error\n",185],["T_WHITESPACE","            ",186],["T_BOOLEAN_OR","||",186],["T_WHITESPACE"," ",186],["T_VARIABLE","$status",186],["T_WHITESPACE"," ",186],["T_IS_EQUAL","==",186],["T_WHITESPACE"," ",186],["T_LNUMBER","400",186],["T_WHITESPACE","  ",186],["T_COMMENT","\/\/ Bad Request\n",186],["T_WHITESPACE","            ",187],["T_BOOLEAN_OR","||",187],["T_WHITESPACE"," ",187],["T_VARIABLE","$status",187],["T_WHITESPACE"," ",187],["T_IS_EQUAL","==",187],["T_WHITESPACE"," ",187],["T_LNUMBER","401",187],["T_WHITESPACE","  ",187],["T_COMMENT","\/\/ Unauthorized\n",187],["T_WHITESPACE","            ",188],["T_BOOLEAN_OR","||",188],["T_WHITESPACE"," ",188],["T_EMPTY","empty",188],"(",["T_VARIABLE","$body",188],")",["T_WHITESPACE","    ",188],["T_COMMENT","\/\/ Missing token\n",188],["T_WHITESPACE","        ",189],")",["T_WHITESPACE"," ",189],"{",["T_WHITESPACE","\n            ",189],["T_VARIABLE","$this",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","_assessRequestAttempt",190],"(",["T_VARIABLE","$response",190],")",";",["T_WHITESPACE","\n            ",190],["T_VARIABLE","$response",191],["T_WHITESPACE"," ",191],"=",["T_WHITESPACE"," ",191],["T_VARIABLE","$this",191],["T_OBJECT_OPERATOR","->",191],["T_STRING","startRequestCycle",191],"(",["T_VARIABLE","$params",191],")",";",["T_WHITESPACE","\n        ",191],"}",["T_WHITESPACE","\n        ",192],["T_RETURN","return",193],["T_WHITESPACE"," ",193],["T_VARIABLE","$response",193],";",["T_WHITESPACE","\n    ",193],"}",["T_WHITESPACE","\n\n    ",194],["T_DOC_COMMENT","\/**\n     * Return an instance of Zend_Http_Client configured to use the Query\n     * String scheme for an OAuth driven HTTP request.\n     *\n     * @param array $params\n     * @param string $url\n     * @return Zend_Http_Client\n     *\/",196],["T_WHITESPACE","\n    ",203],["T_PUBLIC","public",204],["T_WHITESPACE"," ",204],["T_FUNCTION","function",204],["T_WHITESPACE"," ",204],["T_STRING","getRequestSchemeQueryStringClient",204],"(",["T_ARRAY","array",204],["T_WHITESPACE"," ",204],["T_VARIABLE","$params",204],",",["T_WHITESPACE"," ",204],["T_VARIABLE","$url",204],")",["T_WHITESPACE","\n    ",204],"{",["T_WHITESPACE","\n        ",205],["T_VARIABLE","$client",206],["T_WHITESPACE"," ",206],"=",["T_WHITESPACE"," ",206],["T_STRING","Zend_Oauth",206],["T_DOUBLE_COLON","::",206],["T_STRING","getHttpClient",206],"(",")",";",["T_WHITESPACE","\n        ",206],["T_VARIABLE","$client",207],["T_OBJECT_OPERATOR","->",207],["T_STRING","setUri",207],"(",["T_VARIABLE","$url",207],")",";",["T_WHITESPACE","\n        ",207],["T_VARIABLE","$client",208],["T_OBJECT_OPERATOR","->",208],["T_STRING","getUri",208],"(",")",["T_OBJECT_OPERATOR","->",208],["T_STRING","setQuery",208],"(",["T_WHITESPACE","\n            ",208],["T_VARIABLE","$this",209],["T_OBJECT_OPERATOR","->",209],["T_STRING","_httpUtility",209],["T_OBJECT_OPERATOR","->",209],["T_STRING","toEncodedQueryString",209],"(",["T_VARIABLE","$params",209],")",["T_WHITESPACE","\n        ",209],")",";",["T_WHITESPACE","\n        ",210],["T_VARIABLE","$client",211],["T_OBJECT_OPERATOR","->",211],["T_STRING","setMethod",211],"(",["T_VARIABLE","$this",211],["T_OBJECT_OPERATOR","->",211],["T_STRING","_preferredRequestMethod",211],")",";",["T_WHITESPACE","\n        ",211],["T_RETURN","return",212],["T_WHITESPACE"," ",212],["T_VARIABLE","$client",212],";",["T_WHITESPACE","\n    ",212],"}",["T_WHITESPACE","\n\n    ",213],["T_DOC_COMMENT","\/**\n     * Manages the switch from OAuth request scheme to another lower preference\n     * scheme during a request cycle.\n     *\n     * @param  Zend_Http_Response\n     * @return void\n     * @throws Zend_Oauth_Exception if unable to retrieve valid token response\n     *\/",215],["T_WHITESPACE","\n    ",222],["T_PROTECTED","protected",223],["T_WHITESPACE"," ",223],["T_FUNCTION","function",223],["T_WHITESPACE"," ",223],["T_STRING","_assessRequestAttempt",223],"(",["T_STRING","Zend_Http_Response",223],["T_WHITESPACE"," ",223],["T_VARIABLE","$response",223],["T_WHITESPACE"," ",223],"=",["T_WHITESPACE"," ",223],["T_STRING","null",223],")",["T_WHITESPACE","\n    ",223],"{",["T_WHITESPACE","\n        ",224],["T_SWITCH","switch",225],["T_WHITESPACE"," ",225],"(",["T_VARIABLE","$this",225],["T_OBJECT_OPERATOR","->",225],["T_STRING","_preferredRequestScheme",225],")",["T_WHITESPACE"," ",225],"{",["T_WHITESPACE","\n            ",225],["T_CASE","case",226],["T_WHITESPACE"," ",226],["T_STRING","Zend_Oauth",226],["T_DOUBLE_COLON","::",226],["T_STRING","REQUEST_SCHEME_HEADER",226],":",["T_WHITESPACE","\n                ",226],["T_VARIABLE","$this",227],["T_OBJECT_OPERATOR","->",227],["T_STRING","_preferredRequestScheme",227],["T_WHITESPACE"," ",227],"=",["T_WHITESPACE"," ",227],["T_STRING","Zend_Oauth",227],["T_DOUBLE_COLON","::",227],["T_STRING","REQUEST_SCHEME_POSTBODY",227],";",["T_WHITESPACE","\n                ",227],["T_BREAK","break",228],";",["T_WHITESPACE","\n            ",228],["T_CASE","case",229],["T_WHITESPACE"," ",229],["T_STRING","Zend_Oauth",229],["T_DOUBLE_COLON","::",229],["T_STRING","REQUEST_SCHEME_POSTBODY",229],":",["T_WHITESPACE","\n                ",229],["T_VARIABLE","$this",230],["T_OBJECT_OPERATOR","->",230],["T_STRING","_preferredRequestScheme",230],["T_WHITESPACE"," ",230],"=",["T_WHITESPACE"," ",230],["T_STRING","Zend_Oauth",230],["T_DOUBLE_COLON","::",230],["T_STRING","REQUEST_SCHEME_QUERYSTRING",230],";",["T_WHITESPACE","\n                ",230],["T_BREAK","break",231],";",["T_WHITESPACE","\n            ",231],["T_DEFAULT","default",232],":",["T_WHITESPACE","\n                ",232],["T_COMMENT","#require_once 'Zend\/Oauth\/Exception.php';\n",233],["T_WHITESPACE","                ",234],["T_THROW","throw",234],["T_WHITESPACE"," ",234],["T_NEW","new",234],["T_WHITESPACE"," ",234],["T_STRING","Zend_Oauth_Exception",234],"(",["T_WHITESPACE","\n                    ",234],["T_CONSTANT_ENCAPSED_STRING","'Could not retrieve a valid Token response from Token URL:'",235],["T_WHITESPACE","\n                    ",235],".",["T_WHITESPACE"," ",236],"(",["T_VARIABLE","$response",236],["T_WHITESPACE"," ",236],["T_IS_NOT_IDENTICAL","!==",236],["T_WHITESPACE"," ",236],["T_STRING","null",236],["T_WHITESPACE","\n                        ",236],"?",["T_WHITESPACE"," ",237],["T_STRING","PHP_EOL",237],["T_WHITESPACE"," ",237],".",["T_WHITESPACE"," ",237],["T_VARIABLE","$response",237],["T_OBJECT_OPERATOR","->",237],["T_STRING","getBody",237],"(",")",["T_WHITESPACE","\n                        ",237],":",["T_WHITESPACE"," ",238],["T_CONSTANT_ENCAPSED_STRING","' No body - check for headers'",238],")",["T_WHITESPACE","\n                ",238],")",";",["T_WHITESPACE","\n        ",239],"}",["T_WHITESPACE","\n    ",240],"}",["T_WHITESPACE","\n\n    ",241],["T_DOC_COMMENT","\/**\n     * Generates a valid OAuth Authorization header based on the provided\n     * parameters and realm.\n     *\n     * @param  array $params\n     * @param  string $realm\n     * @return string\n     *\/",243],["T_WHITESPACE","\n    ",250],["T_PROTECTED","protected",251],["T_WHITESPACE"," ",251],["T_FUNCTION","function",251],["T_WHITESPACE"," ",251],["T_STRING","_toAuthorizationHeader",251],"(",["T_ARRAY","array",251],["T_WHITESPACE"," ",251],["T_VARIABLE","$params",251],",",["T_WHITESPACE"," ",251],["T_VARIABLE","$realm",251],["T_WHITESPACE"," ",251],"=",["T_WHITESPACE"," ",251],["T_STRING","null",251],")",["T_WHITESPACE","\n    ",251],"{",["T_WHITESPACE","\n        ",252],["T_VARIABLE","$headerValue",253],["T_WHITESPACE"," ",253],"=",["T_WHITESPACE"," ",253],["T_ARRAY","array",253],"(",")",";",["T_WHITESPACE","\n        ",253],["T_VARIABLE","$headerValue",254],"[","]",["T_WHITESPACE"," ",254],"=",["T_WHITESPACE"," ",254],["T_CONSTANT_ENCAPSED_STRING","'OAuth realm=\"'",254],["T_WHITESPACE"," ",254],".",["T_WHITESPACE"," ",254],["T_VARIABLE","$realm",254],["T_WHITESPACE"," ",254],".",["T_WHITESPACE"," ",254],["T_CONSTANT_ENCAPSED_STRING","'\"'",254],";",["T_WHITESPACE","\n        ",254],["T_FOREACH","foreach",255],["T_WHITESPACE"," ",255],"(",["T_VARIABLE","$params",255],["T_WHITESPACE"," ",255],["T_AS","as",255],["T_WHITESPACE"," ",255],["T_VARIABLE","$key",255],["T_WHITESPACE"," ",255],["T_DOUBLE_ARROW","=>",255],["T_WHITESPACE"," ",255],["T_VARIABLE","$value",255],")",["T_WHITESPACE"," ",255],"{",["T_WHITESPACE","\n            ",255],["T_IF","if",256],["T_WHITESPACE"," ",256],"(","!",["T_STRING","preg_match",256],"(",["T_CONSTANT_ENCAPSED_STRING","\"\/^oauth_\/\"",256],",",["T_WHITESPACE"," ",256],["T_VARIABLE","$key",256],")",")",["T_WHITESPACE"," ",256],"{",["T_WHITESPACE","\n                ",256],["T_CONTINUE","continue",257],";",["T_WHITESPACE","\n            ",257],"}",["T_WHITESPACE","\n            ",258],["T_VARIABLE","$headerValue",259],"[","]",["T_WHITESPACE"," ",259],"=",["T_WHITESPACE"," ",259],["T_STRING","Zend_Oauth_Http_Utility",259],["T_DOUBLE_COLON","::",259],["T_STRING","urlEncode",259],"(",["T_VARIABLE","$key",259],")",["T_WHITESPACE","\n                           ",259],".",["T_WHITESPACE"," ",260],["T_CONSTANT_ENCAPSED_STRING","'=\"'",260],["T_WHITESPACE","\n                           ",260],".",["T_WHITESPACE"," ",261],["T_STRING","Zend_Oauth_Http_Utility",261],["T_DOUBLE_COLON","::",261],["T_STRING","urlEncode",261],"(",["T_VARIABLE","$value",261],")",["T_WHITESPACE","\n                           ",261],".",["T_WHITESPACE"," ",262],["T_CONSTANT_ENCAPSED_STRING","'\"'",262],";",["T_WHITESPACE","\n        ",262],"}",["T_WHITESPACE","\n        ",263],["T_RETURN","return",264],["T_WHITESPACE"," ",264],["T_STRING","implode",264],"(",["T_CONSTANT_ENCAPSED_STRING","\",\"",264],",",["T_WHITESPACE"," ",264],["T_VARIABLE","$headerValue",264],")",";",["T_WHITESPACE","\n    ",264],"}",["T_WHITESPACE","\n",265],"}",["T_WHITESPACE","\n",266]]