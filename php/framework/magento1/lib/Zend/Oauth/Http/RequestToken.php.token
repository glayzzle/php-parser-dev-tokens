[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Zend Framework\n *\n * LICENSE\n *\n * This source file is subject to the new BSD license that is bundled\n * with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/framework.zend.com\/license\/new-bsd\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@zend.com so we can send you a copy immediately.\n *\n * @category   Zend\n * @package    Zend_Oauth\n * @copyright  Copyright (c) 2005-2015 Zend Technologies USA Inc. (http:\/\/www.zend.com)\n * @license    http:\/\/framework.zend.com\/license\/new-bsd     New BSD License\n * @version    $Id$\n *\/",2],["T_WHITESPACE","\n\n",20],["T_DOC_COMMENT","\/** Zend_Oauth_Http *\/",22],["T_WHITESPACE","\n",22],["T_COMMENT","#require_once 'Zend\/Oauth\/Http.php';\n",23],["T_WHITESPACE","\n",24],["T_DOC_COMMENT","\/** Zend_Oauth_Token_Request *\/",25],["T_WHITESPACE","\n",25],["T_COMMENT","#require_once 'Zend\/Oauth\/Token\/Request.php';\n",26],["T_WHITESPACE","\n",27],["T_DOC_COMMENT","\/**\n * @category   Zend\n * @package    Zend_Oauth\n * @copyright  Copyright (c) 2005-2015 Zend Technologies USA Inc. (http:\/\/www.zend.com)\n * @license    http:\/\/framework.zend.com\/license\/new-bsd     New BSD License\n *\/",28],["T_WHITESPACE","\n",33],["T_CLASS","class",34],["T_WHITESPACE"," ",34],["T_STRING","Zend_Oauth_Http_RequestToken",34],["T_WHITESPACE"," ",34],["T_EXTENDS","extends",34],["T_WHITESPACE"," ",34],["T_STRING","Zend_Oauth_Http",34],["T_WHITESPACE","\n",34],"{",["T_WHITESPACE","\n    ",35],["T_DOC_COMMENT","\/**\n     * Singleton instance if required of the HTTP client\n     *\n     * @var Zend_Http_Client\n     *\/",36],["T_WHITESPACE","\n    ",40],["T_PROTECTED","protected",41],["T_WHITESPACE"," ",41],["T_VARIABLE","$_httpClient",41],["T_WHITESPACE"," ",41],"=",["T_WHITESPACE"," ",41],["T_STRING","null",41],";",["T_WHITESPACE","\n\n    ",41],["T_DOC_COMMENT","\/**\n     * Initiate a HTTP request to retrieve a Request Token.\n     *\n     * @return Zend_Oauth_Token_Request\n     *\/",43],["T_WHITESPACE","\n    ",47],["T_PUBLIC","public",48],["T_WHITESPACE"," ",48],["T_FUNCTION","function",48],["T_WHITESPACE"," ",48],["T_STRING","execute",48],"(",")",["T_WHITESPACE","\n    ",48],"{",["T_WHITESPACE","\n        ",49],["T_VARIABLE","$params",50],["T_WHITESPACE","   ",50],"=",["T_WHITESPACE"," ",50],["T_VARIABLE","$this",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","assembleParams",50],"(",")",";",["T_WHITESPACE","\n        ",50],["T_VARIABLE","$response",51],["T_WHITESPACE"," ",51],"=",["T_WHITESPACE"," ",51],["T_VARIABLE","$this",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","startRequestCycle",51],"(",["T_VARIABLE","$params",51],")",";",["T_WHITESPACE","\n        ",51],["T_VARIABLE","$return",52],["T_WHITESPACE","   ",52],"=",["T_WHITESPACE"," ",52],["T_NEW","new",52],["T_WHITESPACE"," ",52],["T_STRING","Zend_Oauth_Token_Request",52],"(",["T_VARIABLE","$response",52],")",";",["T_WHITESPACE","\n        ",52],["T_RETURN","return",53],["T_WHITESPACE"," ",53],["T_VARIABLE","$return",53],";",["T_WHITESPACE","\n    ",53],"}",["T_WHITESPACE","\n\n    ",54],["T_DOC_COMMENT","\/**\n     * Assemble all parameters for an OAuth Request Token request.\n     *\n     * @return array\n     *\/",56],["T_WHITESPACE","\n    ",60],["T_PUBLIC","public",61],["T_WHITESPACE"," ",61],["T_FUNCTION","function",61],["T_WHITESPACE"," ",61],["T_STRING","assembleParams",61],"(",")",["T_WHITESPACE","\n    ",61],"{",["T_WHITESPACE","\n        ",62],["T_VARIABLE","$params",63],["T_WHITESPACE"," ",63],"=",["T_WHITESPACE"," ",63],["T_ARRAY","array",63],"(",["T_WHITESPACE","\n            ",63],["T_CONSTANT_ENCAPSED_STRING","'oauth_consumer_key'",64],["T_WHITESPACE","     ",64],["T_DOUBLE_ARROW","=>",64],["T_WHITESPACE"," ",64],["T_VARIABLE","$this",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","_consumer",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","getConsumerKey",64],"(",")",",",["T_WHITESPACE","\n            ",64],["T_CONSTANT_ENCAPSED_STRING","'oauth_nonce'",65],["T_WHITESPACE","            ",65],["T_DOUBLE_ARROW","=>",65],["T_WHITESPACE"," ",65],["T_VARIABLE","$this",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","_httpUtility",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","generateNonce",65],"(",")",",",["T_WHITESPACE","\n            ",65],["T_CONSTANT_ENCAPSED_STRING","'oauth_timestamp'",66],["T_WHITESPACE","        ",66],["T_DOUBLE_ARROW","=>",66],["T_WHITESPACE"," ",66],["T_VARIABLE","$this",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","_httpUtility",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","generateTimestamp",66],"(",")",",",["T_WHITESPACE","\n            ",66],["T_CONSTANT_ENCAPSED_STRING","'oauth_signature_method'",67],["T_WHITESPACE"," ",67],["T_DOUBLE_ARROW","=>",67],["T_WHITESPACE"," ",67],["T_VARIABLE","$this",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","_consumer",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","getSignatureMethod",67],"(",")",",",["T_WHITESPACE","\n            ",67],["T_CONSTANT_ENCAPSED_STRING","'oauth_version'",68],["T_WHITESPACE","          ",68],["T_DOUBLE_ARROW","=>",68],["T_WHITESPACE"," ",68],["T_VARIABLE","$this",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","_consumer",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","getVersion",68],"(",")",",",["T_WHITESPACE","\n        ",68],")",";",["T_WHITESPACE","\n\n        ",69],["T_COMMENT","\/\/ indicates we support 1.0a\n",71],["T_WHITESPACE","        ",72],["T_IF","if",72],["T_WHITESPACE"," ",72],"(",["T_VARIABLE","$this",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","_consumer",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","getCallbackUrl",72],"(",")",")",["T_WHITESPACE"," ",72],"{",["T_WHITESPACE","\n            ",72],["T_VARIABLE","$params",73],"[",["T_CONSTANT_ENCAPSED_STRING","'oauth_callback'",73],"]",["T_WHITESPACE"," ",73],"=",["T_WHITESPACE"," ",73],["T_VARIABLE","$this",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","_consumer",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","getCallbackUrl",73],"(",")",";",["T_WHITESPACE","\n        ",73],"}",["T_WHITESPACE"," ",74],["T_ELSE","else",74],["T_WHITESPACE"," ",74],"{",["T_WHITESPACE","\n            ",74],["T_VARIABLE","$params",75],"[",["T_CONSTANT_ENCAPSED_STRING","'oauth_callback'",75],"]",["T_WHITESPACE"," ",75],"=",["T_WHITESPACE"," ",75],["T_CONSTANT_ENCAPSED_STRING","'oob'",75],";",["T_WHITESPACE","\n        ",75],"}",["T_WHITESPACE","\n\n        ",76],["T_IF","if",78],["T_WHITESPACE"," ",78],"(","!",["T_EMPTY","empty",78],"(",["T_VARIABLE","$this",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","_parameters",78],")",")",["T_WHITESPACE"," ",78],"{",["T_WHITESPACE","\n            ",78],["T_VARIABLE","$params",79],["T_WHITESPACE"," ",79],"=",["T_WHITESPACE"," ",79],["T_STRING","array_merge",79],"(",["T_VARIABLE","$params",79],",",["T_WHITESPACE"," ",79],["T_VARIABLE","$this",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","_parameters",79],")",";",["T_WHITESPACE","\n        ",79],"}",["T_WHITESPACE","\n\n        ",80],["T_VARIABLE","$params",82],"[",["T_CONSTANT_ENCAPSED_STRING","'oauth_signature'",82],"]",["T_WHITESPACE"," ",82],"=",["T_WHITESPACE"," ",82],["T_VARIABLE","$this",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","_httpUtility",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","sign",82],"(",["T_WHITESPACE","\n            ",82],["T_VARIABLE","$params",83],",",["T_WHITESPACE","\n            ",83],["T_VARIABLE","$this",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","_consumer",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","getSignatureMethod",84],"(",")",",",["T_WHITESPACE","\n            ",84],["T_VARIABLE","$this",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","_consumer",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","getConsumerSecret",85],"(",")",",",["T_WHITESPACE","\n            ",85],["T_STRING","null",86],",",["T_WHITESPACE","\n            ",86],["T_VARIABLE","$this",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","_preferredRequestMethod",87],",",["T_WHITESPACE","\n            ",87],["T_VARIABLE","$this",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","_consumer",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","getRequestTokenUrl",88],"(",")",["T_WHITESPACE","\n        ",88],")",";",["T_WHITESPACE","\n\n        ",89],["T_RETURN","return",91],["T_WHITESPACE"," ",91],["T_VARIABLE","$params",91],";",["T_WHITESPACE","\n    ",91],"}",["T_WHITESPACE","\n\n    ",92],["T_DOC_COMMENT","\/**\n     * Generate and return a HTTP Client configured for the Header Request Scheme\n     * specified by OAuth, for use in requesting a Request Token.\n     *\n     * @param array $params\n     * @return Zend_Http_Client\n     *\/",94],["T_WHITESPACE","\n    ",100],["T_PUBLIC","public",101],["T_WHITESPACE"," ",101],["T_FUNCTION","function",101],["T_WHITESPACE"," ",101],["T_STRING","getRequestSchemeHeaderClient",101],"(",["T_ARRAY","array",101],["T_WHITESPACE"," ",101],["T_VARIABLE","$params",101],")",["T_WHITESPACE","\n    ",101],"{",["T_WHITESPACE","\n        ",102],["T_VARIABLE","$headerValue",103],["T_WHITESPACE"," ",103],"=",["T_WHITESPACE"," ",103],["T_VARIABLE","$this",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","_httpUtility",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","toAuthorizationHeader",103],"(",["T_WHITESPACE","\n            ",103],["T_VARIABLE","$params",104],["T_WHITESPACE","\n        ",104],")",";",["T_WHITESPACE","\n        ",105],["T_VARIABLE","$client",106],["T_WHITESPACE"," ",106],"=",["T_WHITESPACE"," ",106],["T_STRING","Zend_Oauth",106],["T_DOUBLE_COLON","::",106],["T_STRING","getHttpClient",106],"(",")",";",["T_WHITESPACE","\n        ",106],["T_VARIABLE","$client",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","setUri",107],"(",["T_VARIABLE","$this",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","_consumer",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","getRequestTokenUrl",107],"(",")",")",";",["T_WHITESPACE","\n        ",107],["T_VARIABLE","$client",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","setHeaders",108],"(",["T_CONSTANT_ENCAPSED_STRING","'Authorization'",108],",",["T_WHITESPACE"," ",108],["T_VARIABLE","$headerValue",108],")",";",["T_WHITESPACE","\n        ",108],["T_VARIABLE","$rawdata",109],["T_WHITESPACE"," ",109],"=",["T_WHITESPACE"," ",109],["T_VARIABLE","$this",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","_httpUtility",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","toEncodedQueryString",109],"(",["T_VARIABLE","$params",109],",",["T_WHITESPACE"," ",109],["T_STRING","true",109],")",";",["T_WHITESPACE","\n        ",109],["T_IF","if",110],["T_WHITESPACE"," ",110],"(","!",["T_EMPTY","empty",110],"(",["T_VARIABLE","$rawdata",110],")",")",["T_WHITESPACE"," ",110],"{",["T_WHITESPACE","\n            ",110],["T_VARIABLE","$client",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","setRawData",111],"(",["T_VARIABLE","$rawdata",111],",",["T_WHITESPACE"," ",111],["T_CONSTANT_ENCAPSED_STRING","'application\/x-www-form-urlencoded'",111],")",";",["T_WHITESPACE","\n        ",111],"}",["T_WHITESPACE","\n        ",112],["T_VARIABLE","$client",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","setMethod",113],"(",["T_VARIABLE","$this",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","_preferredRequestMethod",113],")",";",["T_WHITESPACE","\n        ",113],["T_RETURN","return",114],["T_WHITESPACE"," ",114],["T_VARIABLE","$client",114],";",["T_WHITESPACE","\n    ",114],"}",["T_WHITESPACE","\n\n    ",115],["T_DOC_COMMENT","\/**\n     * Generate and return a HTTP Client configured for the POST Body Request\n     * Scheme specified by OAuth, for use in requesting a Request Token.\n     *\n     * @param  array $params\n     * @return Zend_Http_Client\n     *\/",117],["T_WHITESPACE","\n    ",123],["T_PUBLIC","public",124],["T_WHITESPACE"," ",124],["T_FUNCTION","function",124],["T_WHITESPACE"," ",124],["T_STRING","getRequestSchemePostBodyClient",124],"(",["T_ARRAY","array",124],["T_WHITESPACE"," ",124],["T_VARIABLE","$params",124],")",["T_WHITESPACE","\n    ",124],"{",["T_WHITESPACE","\n        ",125],["T_VARIABLE","$client",126],["T_WHITESPACE"," ",126],"=",["T_WHITESPACE"," ",126],["T_STRING","Zend_Oauth",126],["T_DOUBLE_COLON","::",126],["T_STRING","getHttpClient",126],"(",")",";",["T_WHITESPACE","\n        ",126],["T_VARIABLE","$client",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","setUri",127],"(",["T_VARIABLE","$this",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","_consumer",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","getRequestTokenUrl",127],"(",")",")",";",["T_WHITESPACE","\n        ",127],["T_VARIABLE","$client",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","setMethod",128],"(",["T_VARIABLE","$this",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","_preferredRequestMethod",128],")",";",["T_WHITESPACE","\n        ",128],["T_VARIABLE","$client",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","setRawData",129],"(",["T_WHITESPACE","\n            ",129],["T_VARIABLE","$this",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","_httpUtility",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","toEncodedQueryString",130],"(",["T_VARIABLE","$params",130],")",["T_WHITESPACE","\n        ",130],")",";",["T_WHITESPACE","\n        ",131],["T_VARIABLE","$client",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","setHeaders",132],"(",["T_WHITESPACE","\n            ",132],["T_STRING","Zend_Http_Client",133],["T_DOUBLE_COLON","::",133],["T_STRING","CONTENT_TYPE",133],",",["T_WHITESPACE","\n            ",133],["T_STRING","Zend_Http_Client",134],["T_DOUBLE_COLON","::",134],["T_STRING","ENC_URLENCODED",134],["T_WHITESPACE","\n        ",134],")",";",["T_WHITESPACE","\n        ",135],["T_RETURN","return",136],["T_WHITESPACE"," ",136],["T_VARIABLE","$client",136],";",["T_WHITESPACE","\n    ",136],"}",["T_WHITESPACE","\n\n    ",137],["T_DOC_COMMENT","\/**\n     * Attempt a request based on the current configured OAuth Request Scheme and\n     * return the resulting HTTP Response.\n     *\n     * @param  array $params\n     * @return Zend_Http_Response\n     *\/",139],["T_WHITESPACE","\n    ",145],["T_PROTECTED","protected",146],["T_WHITESPACE"," ",146],["T_FUNCTION","function",146],["T_WHITESPACE"," ",146],["T_STRING","_attemptRequest",146],"(",["T_ARRAY","array",146],["T_WHITESPACE"," ",146],["T_VARIABLE","$params",146],")",["T_WHITESPACE","\n    ",146],"{",["T_WHITESPACE","\n        ",147],["T_SWITCH","switch",148],["T_WHITESPACE"," ",148],"(",["T_VARIABLE","$this",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","_preferredRequestScheme",148],")",["T_WHITESPACE"," ",148],"{",["T_WHITESPACE","\n            ",148],["T_CASE","case",149],["T_WHITESPACE"," ",149],["T_STRING","Zend_Oauth",149],["T_DOUBLE_COLON","::",149],["T_STRING","REQUEST_SCHEME_HEADER",149],":",["T_WHITESPACE","\n                ",149],["T_VARIABLE","$httpClient",150],["T_WHITESPACE"," ",150],"=",["T_WHITESPACE"," ",150],["T_VARIABLE","$this",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","getRequestSchemeHeaderClient",150],"(",["T_VARIABLE","$params",150],")",";",["T_WHITESPACE","\n                ",150],["T_BREAK","break",151],";",["T_WHITESPACE","\n            ",151],["T_CASE","case",152],["T_WHITESPACE"," ",152],["T_STRING","Zend_Oauth",152],["T_DOUBLE_COLON","::",152],["T_STRING","REQUEST_SCHEME_POSTBODY",152],":",["T_WHITESPACE","\n                ",152],["T_VARIABLE","$httpClient",153],["T_WHITESPACE"," ",153],"=",["T_WHITESPACE"," ",153],["T_VARIABLE","$this",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","getRequestSchemePostBodyClient",153],"(",["T_VARIABLE","$params",153],")",";",["T_WHITESPACE","\n                ",153],["T_BREAK","break",154],";",["T_WHITESPACE","\n            ",154],["T_CASE","case",155],["T_WHITESPACE"," ",155],["T_STRING","Zend_Oauth",155],["T_DOUBLE_COLON","::",155],["T_STRING","REQUEST_SCHEME_QUERYSTRING",155],":",["T_WHITESPACE","\n                ",155],["T_VARIABLE","$httpClient",156],["T_WHITESPACE"," ",156],"=",["T_WHITESPACE"," ",156],["T_VARIABLE","$this",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","getRequestSchemeQueryStringClient",156],"(",["T_VARIABLE","$params",156],",",["T_WHITESPACE","\n                    ",156],["T_VARIABLE","$this",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","_consumer",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","getRequestTokenUrl",157],"(",")",")",";",["T_WHITESPACE","\n                ",157],["T_BREAK","break",158],";",["T_WHITESPACE","\n        ",158],"}",["T_WHITESPACE","\n        ",159],["T_RETURN","return",160],["T_WHITESPACE"," ",160],["T_VARIABLE","$httpClient",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","request",160],"(",")",";",["T_WHITESPACE","\n    ",160],"}",["T_WHITESPACE","\n",161],"}",["T_WHITESPACE","\n",162]]