[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Zend Framework\n *\n * LICENSE\n *\n * This source file is subject to the new BSD license that is bundled\n * with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/framework.zend.com\/license\/new-bsd\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@zend.com so we can send you a copy immediately.\n *\n * @category   Zend\n * @package    Zend_Wildfire\n * @subpackage Protocol\n * @copyright  Copyright (c) 2005-2015 Zend Technologies USA Inc. (http:\/\/www.zend.com)\n * @license    http:\/\/framework.zend.com\/license\/new-bsd     New BSD License\n * @version    $Id$\n *\/",2],["T_WHITESPACE","\n\n",21],["T_DOC_COMMENT","\/** Zend_Wildfire_Plugin_Interface *\/",23],["T_WHITESPACE","\n",23],["T_COMMENT","#require_once 'Zend\/Wildfire\/Plugin\/Interface.php';\n",24],["T_WHITESPACE","\n",25],["T_DOC_COMMENT","\/** Zend_Wildfire_Channel_Interface *\/",26],["T_WHITESPACE","\n",26],["T_COMMENT","#require_once 'Zend\/Wildfire\/Channel\/Interface.php';\n",27],["T_WHITESPACE","\n",28],["T_DOC_COMMENT","\/** Zend_Json *\/",29],["T_WHITESPACE","\n",29],["T_COMMENT","#require_once 'Zend\/Json.php';\n",30],["T_WHITESPACE","\n",31],["T_DOC_COMMENT","\/**\n * Encodes messages into the Wildfire JSON Stream Communication Protocol.\n *\n * @category   Zend\n * @package    Zend_Wildfire\n * @subpackage Protocol\n * @copyright  Copyright (c) 2005-2015 Zend Technologies USA Inc. (http:\/\/www.zend.com)\n * @license    http:\/\/framework.zend.com\/license\/new-bsd     New BSD License\n *\/",32],["T_WHITESPACE","\n",40],["T_CLASS","class",41],["T_WHITESPACE"," ",41],["T_STRING","Zend_Wildfire_Protocol_JsonStream",41],["T_WHITESPACE","\n",41],"{",["T_WHITESPACE","\n    ",42],["T_DOC_COMMENT","\/**\n     * The protocol URI for this protocol\n     *\/",43],["T_WHITESPACE","\n    ",45],["T_CONST","const",46],["T_WHITESPACE"," ",46],["T_STRING","PROTOCOL_URI",46],["T_WHITESPACE"," ",46],"=",["T_WHITESPACE"," ",46],["T_CONSTANT_ENCAPSED_STRING","'http:\/\/meta.wildfirehq.org\/Protocol\/JsonStream\/0.2'",46],";",["T_WHITESPACE","\n\n    ",46],["T_DOC_COMMENT","\/**\n     * All messages to be sent.\n     * @var array\n     *\/",48],["T_WHITESPACE","\n    ",51],["T_PROTECTED","protected",52],["T_WHITESPACE"," ",52],["T_VARIABLE","$_messages",52],["T_WHITESPACE"," ",52],"=",["T_WHITESPACE"," ",52],["T_ARRAY","array",52],"(",")",";",["T_WHITESPACE","\n\n    ",52],["T_DOC_COMMENT","\/**\n     * Plugins that are using this protocol\n     * @var array\n     *\/",54],["T_WHITESPACE","\n    ",57],["T_PROTECTED","protected",58],["T_WHITESPACE"," ",58],["T_VARIABLE","$_plugins",58],["T_WHITESPACE"," ",58],"=",["T_WHITESPACE"," ",58],["T_ARRAY","array",58],"(",")",";",["T_WHITESPACE","\n\n    ",58],["T_DOC_COMMENT","\/**\n     * Register a plugin that uses this protocol\n     *\n     * @param Zend_Wildfire_Plugin_Interface $plugin The plugin to be registered\n     * @return boolean Returns TRUE if plugin was registered, false if it was already registered\n     *\/",60],["T_WHITESPACE","\n    ",65],["T_PUBLIC","public",66],["T_WHITESPACE"," ",66],["T_FUNCTION","function",66],["T_WHITESPACE"," ",66],["T_STRING","registerPlugin",66],"(",["T_STRING","Zend_Wildfire_Plugin_Interface",66],["T_WHITESPACE"," ",66],["T_VARIABLE","$plugin",66],")",["T_WHITESPACE","\n    ",66],"{",["T_WHITESPACE","\n        ",67],["T_IF","if",68],["T_WHITESPACE"," ",68],"(",["T_STRING","in_array",68],"(",["T_VARIABLE","$plugin",68],",",["T_VARIABLE","$this",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","_plugins",68],")",")",["T_WHITESPACE"," ",68],"{",["T_WHITESPACE","\n            ",68],["T_RETURN","return",69],["T_WHITESPACE"," ",69],["T_STRING","false",69],";",["T_WHITESPACE","\n        ",69],"}",["T_WHITESPACE","\n        ",70],["T_VARIABLE","$this",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","_plugins",71],"[","]",["T_WHITESPACE"," ",71],"=",["T_WHITESPACE"," ",71],["T_VARIABLE","$plugin",71],";",["T_WHITESPACE","\n        ",71],["T_RETURN","return",72],["T_WHITESPACE"," ",72],["T_STRING","true",72],";",["T_WHITESPACE","\n    ",72],"}",["T_WHITESPACE","\n\n    ",73],["T_DOC_COMMENT","\/**\n     * Record a message with the given data in the given structure\n     *\n     * @param Zend_Wildfire_Plugin_Interface $plugin The plugin recording the message\n     * @param string $structure The structure to be used for the data\n     * @param array $data The data to be recorded\n     * @return boolean Returns TRUE if message was recorded\n     *\/",75],["T_WHITESPACE","\n    ",82],["T_PUBLIC","public",83],["T_WHITESPACE"," ",83],["T_FUNCTION","function",83],["T_WHITESPACE"," ",83],["T_STRING","recordMessage",83],"(",["T_STRING","Zend_Wildfire_Plugin_Interface",83],["T_WHITESPACE"," ",83],["T_VARIABLE","$plugin",83],",",["T_WHITESPACE"," ",83],["T_VARIABLE","$structure",83],",",["T_WHITESPACE"," ",83],["T_VARIABLE","$data",83],")",["T_WHITESPACE","\n    ",83],"{",["T_WHITESPACE","\n        ",84],["T_IF","if",85],"(","!",["T_ISSET","isset",85],"(",["T_VARIABLE","$this",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","_messages",85],"[",["T_VARIABLE","$structure",85],"]",")",")",["T_WHITESPACE"," ",85],"{",["T_WHITESPACE","\n            ",85],["T_VARIABLE","$this",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","_messages",86],"[",["T_VARIABLE","$structure",86],"]",["T_WHITESPACE"," ",86],"=",["T_WHITESPACE"," ",86],["T_ARRAY","array",86],"(",")",";",["T_WHITESPACE","\n        ",86],"}",["T_WHITESPACE","\n\n        ",87],["T_VARIABLE","$uri",89],["T_WHITESPACE"," ",89],"=",["T_WHITESPACE"," ",89],["T_VARIABLE","$plugin",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","getUri",89],"(",")",";",["T_WHITESPACE","\n\n        ",89],["T_IF","if",91],"(","!",["T_ISSET","isset",91],"(",["T_VARIABLE","$this",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","_messages",91],"[",["T_VARIABLE","$structure",91],"]","[",["T_VARIABLE","$uri",91],"]",")",")",["T_WHITESPACE"," ",91],"{",["T_WHITESPACE","\n            ",91],["T_VARIABLE","$this",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","_messages",92],"[",["T_VARIABLE","$structure",92],"]","[",["T_VARIABLE","$uri",92],"]",["T_WHITESPACE"," ",92],"=",["T_WHITESPACE"," ",92],["T_ARRAY","array",92],"(",")",";",["T_WHITESPACE","\n        ",92],"}",["T_WHITESPACE","\n\n        ",93],["T_VARIABLE","$this",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","_messages",95],"[",["T_VARIABLE","$structure",95],"]","[",["T_VARIABLE","$uri",95],"]","[","]",["T_WHITESPACE"," ",95],"=",["T_WHITESPACE"," ",95],["T_VARIABLE","$this",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","_encode",95],"(",["T_VARIABLE","$data",95],")",";",["T_WHITESPACE","\n        ",95],["T_RETURN","return",96],["T_WHITESPACE"," ",96],["T_STRING","true",96],";",["T_WHITESPACE","\n    ",96],"}",["T_WHITESPACE","\n\n    ",97],["T_DOC_COMMENT","\/**\n     * Remove all qued messages\n     *\n     * @param Zend_Wildfire_Plugin_Interface $plugin The plugin for which to clear messages\n     * @return boolean Returns TRUE if messages were present\n     *\/",99],["T_WHITESPACE","\n    ",104],["T_PUBLIC","public",105],["T_WHITESPACE"," ",105],["T_FUNCTION","function",105],["T_WHITESPACE"," ",105],["T_STRING","clearMessages",105],"(",["T_STRING","Zend_Wildfire_Plugin_Interface",105],["T_WHITESPACE"," ",105],["T_VARIABLE","$plugin",105],")",["T_WHITESPACE","\n    ",105],"{",["T_WHITESPACE","\n        ",106],["T_VARIABLE","$uri",107],["T_WHITESPACE"," ",107],"=",["T_WHITESPACE"," ",107],["T_VARIABLE","$plugin",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","getUri",107],"(",")",";",["T_WHITESPACE","\n\n        ",107],["T_VARIABLE","$present",109],["T_WHITESPACE"," ",109],"=",["T_WHITESPACE"," ",109],["T_STRING","false",109],";",["T_WHITESPACE","\n        ",109],["T_FOREACH","foreach",110],["T_WHITESPACE"," ",110],"(",["T_VARIABLE","$this",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","_messages",110],["T_WHITESPACE"," ",110],["T_AS","as",110],["T_WHITESPACE"," ",110],["T_VARIABLE","$structure",110],["T_WHITESPACE"," ",110],["T_DOUBLE_ARROW","=>",110],["T_WHITESPACE"," ",110],["T_VARIABLE","$messages",110],")",["T_WHITESPACE"," ",110],"{",["T_WHITESPACE","\n\n            ",110],["T_IF","if",112],"(","!",["T_ISSET","isset",112],"(",["T_VARIABLE","$this",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","_messages",112],"[",["T_VARIABLE","$structure",112],"]","[",["T_VARIABLE","$uri",112],"]",")",")",["T_WHITESPACE"," ",112],"{",["T_WHITESPACE","\n                ",112],["T_CONTINUE","continue",113],";",["T_WHITESPACE","\n            ",113],"}",["T_WHITESPACE","\n\n            ",114],["T_VARIABLE","$present",116],["T_WHITESPACE"," ",116],"=",["T_WHITESPACE"," ",116],["T_STRING","true",116],";",["T_WHITESPACE","\n\n            ",116],["T_UNSET","unset",118],"(",["T_VARIABLE","$this",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","_messages",118],"[",["T_VARIABLE","$structure",118],"]","[",["T_VARIABLE","$uri",118],"]",")",";",["T_WHITESPACE","\n\n            ",118],["T_IF","if",120],["T_WHITESPACE"," ",120],"(","!",["T_VARIABLE","$this",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","_messages",120],"[",["T_VARIABLE","$structure",120],"]",")",["T_WHITESPACE"," ",120],"{",["T_WHITESPACE","\n                ",120],["T_UNSET","unset",121],"(",["T_VARIABLE","$this",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","_messages",121],"[",["T_VARIABLE","$structure",121],"]",")",";",["T_WHITESPACE","\n            ",121],"}",["T_WHITESPACE","\n        ",122],"}",["T_WHITESPACE","\n        ",123],["T_RETURN","return",124],["T_WHITESPACE"," ",124],["T_VARIABLE","$present",124],";",["T_WHITESPACE","\n    ",124],"}",["T_WHITESPACE","\n\n    ",125],["T_DOC_COMMENT","\/**\n     * Get all qued messages\n     *\n     * @return mixed Returns qued messages or FALSE if no messages are qued\n     *\/",127],["T_WHITESPACE","\n    ",131],["T_PUBLIC","public",132],["T_WHITESPACE"," ",132],["T_FUNCTION","function",132],["T_WHITESPACE"," ",132],["T_STRING","getMessages",132],"(",")",["T_WHITESPACE","\n    ",132],"{",["T_WHITESPACE","\n        ",133],["T_IF","if",134],["T_WHITESPACE"," ",134],"(","!",["T_VARIABLE","$this",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","_messages",134],")",["T_WHITESPACE"," ",134],"{",["T_WHITESPACE","\n            ",134],["T_RETURN","return",135],["T_WHITESPACE"," ",135],["T_STRING","false",135],";",["T_WHITESPACE","\n        ",135],"}",["T_WHITESPACE","\n        ",136],["T_RETURN","return",137],["T_WHITESPACE"," ",137],["T_VARIABLE","$this",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","_messages",137],";",["T_WHITESPACE","\n    ",137],"}",["T_WHITESPACE","\n\n    ",138],["T_DOC_COMMENT","\/**\n     * Use the JSON encoding scheme for the value specified\n     *\n     * @param mixed $value The value to be encoded\n     * @return string  The encoded value\n     *\/",140],["T_WHITESPACE","\n    ",145],["T_PROTECTED","protected",146],["T_WHITESPACE"," ",146],["T_FUNCTION","function",146],["T_WHITESPACE"," ",146],["T_STRING","_encode",146],"(",["T_VARIABLE","$value",146],")",["T_WHITESPACE","\n    ",146],"{",["T_WHITESPACE","\n        ",147],["T_RETURN","return",148],["T_WHITESPACE"," ",148],["T_STRING","Zend_Json",148],["T_DOUBLE_COLON","::",148],["T_STRING","encode",148],"(",["T_VARIABLE","$value",148],",",["T_WHITESPACE"," ",148],["T_STRING","true",148],",",["T_WHITESPACE"," ",148],["T_ARRAY","array",148],"(",["T_CONSTANT_ENCAPSED_STRING","'silenceCyclicalExceptions'",148],["T_DOUBLE_ARROW","=>",148],["T_STRING","true",148],")",")",";",["T_WHITESPACE","\n    ",148],"}",["T_WHITESPACE","\n\n    ",149],["T_DOC_COMMENT","\/**\n     * Retrieves all formatted data ready to be sent by the channel.\n     *\n     * @param Zend_Wildfire_Channel_Interface $channel The instance of the channel that will be transmitting the data\n     * @return mixed Returns the data to be sent by the channel.\n     * @throws Zend_Wildfire_Exception\n     *\/",151],["T_WHITESPACE","\n    ",157],["T_PUBLIC","public",158],["T_WHITESPACE"," ",158],["T_FUNCTION","function",158],["T_WHITESPACE"," ",158],["T_STRING","getPayload",158],"(",["T_STRING","Zend_Wildfire_Channel_Interface",158],["T_WHITESPACE"," ",158],["T_VARIABLE","$channel",158],")",["T_WHITESPACE","\n    ",158],"{",["T_WHITESPACE","\n        ",159],["T_IF","if",160],["T_WHITESPACE"," ",160],"(","!",["T_VARIABLE","$channel",160],["T_WHITESPACE"," ",160],["T_INSTANCEOF","instanceof",160],["T_WHITESPACE"," ",160],["T_STRING","Zend_Wildfire_Channel_HttpHeaders",160],")",["T_WHITESPACE"," ",160],"{",["T_WHITESPACE","\n            ",160],["T_COMMENT","#require_once 'Zend\/Wildfire\/Exception.php';\n",161],["T_WHITESPACE","            ",162],["T_THROW","throw",162],["T_WHITESPACE"," ",162],["T_NEW","new",162],["T_WHITESPACE"," ",162],["T_STRING","Zend_Wildfire_Exception",162],"(",["T_CONSTANT_ENCAPSED_STRING","'The '",162],".",["T_STRING","get_class",162],"(",["T_VARIABLE","$channel",162],")",".",["T_CONSTANT_ENCAPSED_STRING","' channel is not supported by the '",162],".",["T_STRING","get_class",162],"(",["T_VARIABLE","$this",162],")",".",["T_CONSTANT_ENCAPSED_STRING","' protocol.'",162],")",";",["T_WHITESPACE","\n        ",162],"}",["T_WHITESPACE","\n\n        ",163],["T_IF","if",165],["T_WHITESPACE"," ",165],"(",["T_VARIABLE","$this",165],["T_OBJECT_OPERATOR","->",165],["T_STRING","_plugins",165],")",["T_WHITESPACE"," ",165],"{",["T_WHITESPACE","\n            ",165],["T_FOREACH","foreach",166],["T_WHITESPACE"," ",166],"(",["T_VARIABLE","$this",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","_plugins",166],["T_WHITESPACE"," ",166],["T_AS","as",166],["T_WHITESPACE"," ",166],["T_VARIABLE","$plugin",166],")",["T_WHITESPACE"," ",166],"{",["T_WHITESPACE","\n                ",166],["T_VARIABLE","$plugin",167],["T_OBJECT_OPERATOR","->",167],["T_STRING","flushMessages",167],"(",["T_STRING","self",167],["T_DOUBLE_COLON","::",167],["T_STRING","PROTOCOL_URI",167],")",";",["T_WHITESPACE","\n            ",167],"}",["T_WHITESPACE","\n        ",168],"}",["T_WHITESPACE","\n\n        ",169],["T_IF","if",171],["T_WHITESPACE"," ",171],"(","!",["T_VARIABLE","$this",171],["T_OBJECT_OPERATOR","->",171],["T_STRING","_messages",171],")",["T_WHITESPACE"," ",171],"{",["T_WHITESPACE","\n            ",171],["T_RETURN","return",172],["T_WHITESPACE"," ",172],["T_STRING","false",172],";",["T_WHITESPACE","\n        ",172],"}",["T_WHITESPACE","\n\n        ",173],["T_VARIABLE","$protocol_index",175],["T_WHITESPACE"," ",175],"=",["T_WHITESPACE"," ",175],["T_LNUMBER","1",175],";",["T_WHITESPACE","\n        ",175],["T_VARIABLE","$structure_index",176],["T_WHITESPACE"," ",176],"=",["T_WHITESPACE"," ",176],["T_LNUMBER","1",176],";",["T_WHITESPACE","\n        ",176],["T_VARIABLE","$plugin_index",177],["T_WHITESPACE"," ",177],"=",["T_WHITESPACE"," ",177],["T_LNUMBER","1",177],";",["T_WHITESPACE","\n        ",177],["T_VARIABLE","$message_index",178],["T_WHITESPACE"," ",178],"=",["T_WHITESPACE"," ",178],["T_LNUMBER","1",178],";",["T_WHITESPACE","\n\n        ",178],["T_VARIABLE","$payload",180],["T_WHITESPACE"," ",180],"=",["T_WHITESPACE"," ",180],["T_ARRAY","array",180],"(",")",";",["T_WHITESPACE","\n\n        ",180],["T_VARIABLE","$payload",182],"[","]",["T_WHITESPACE"," ",182],"=",["T_WHITESPACE"," ",182],["T_ARRAY","array",182],"(",["T_CONSTANT_ENCAPSED_STRING","'Protocol-'",182],".",["T_VARIABLE","$protocol_index",182],",",["T_WHITESPACE"," ",182],["T_STRING","self",182],["T_DOUBLE_COLON","::",182],["T_STRING","PROTOCOL_URI",182],")",";",["T_WHITESPACE","\n\n        ",182],["T_FOREACH","foreach",184],["T_WHITESPACE"," ",184],"(",["T_VARIABLE","$this",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","_messages",184],["T_WHITESPACE"," ",184],["T_AS","as",184],["T_WHITESPACE"," ",184],["T_VARIABLE","$structure_uri",184],["T_WHITESPACE"," ",184],["T_DOUBLE_ARROW","=>",184],["T_WHITESPACE"," ",184],["T_VARIABLE","$plugin_messages",184],["T_WHITESPACE"," ",184],")",["T_WHITESPACE"," ",184],"{",["T_WHITESPACE","\n\n            ",184],["T_VARIABLE","$payload",186],"[","]",["T_WHITESPACE"," ",186],"=",["T_WHITESPACE"," ",186],["T_ARRAY","array",186],"(",["T_VARIABLE","$protocol_index",186],".",["T_CONSTANT_ENCAPSED_STRING","'-Structure-'",186],".",["T_VARIABLE","$structure_index",186],",",["T_WHITESPACE"," ",186],["T_VARIABLE","$structure_uri",186],")",";",["T_WHITESPACE","\n\n            ",186],["T_FOREACH","foreach",188],["T_WHITESPACE"," ",188],"(",["T_VARIABLE","$plugin_messages",188],["T_WHITESPACE"," ",188],["T_AS","as",188],["T_WHITESPACE"," ",188],["T_VARIABLE","$plugin_uri",188],["T_WHITESPACE"," ",188],["T_DOUBLE_ARROW","=>",188],["T_WHITESPACE"," ",188],["T_VARIABLE","$messages",188],["T_WHITESPACE"," ",188],")",["T_WHITESPACE"," ",188],"{",["T_WHITESPACE","\n\n                ",188],["T_VARIABLE","$payload",190],"[","]",["T_WHITESPACE"," ",190],"=",["T_WHITESPACE"," ",190],["T_ARRAY","array",190],"(",["T_VARIABLE","$protocol_index",190],".",["T_CONSTANT_ENCAPSED_STRING","'-Plugin-'",190],".",["T_VARIABLE","$plugin_index",190],",",["T_WHITESPACE"," ",190],["T_VARIABLE","$plugin_uri",190],")",";",["T_WHITESPACE","\n\n                ",190],["T_FOREACH","foreach",192],["T_WHITESPACE"," ",192],"(",["T_VARIABLE","$messages",192],["T_WHITESPACE"," ",192],["T_AS","as",192],["T_WHITESPACE"," ",192],["T_VARIABLE","$message",192],")",["T_WHITESPACE"," ",192],"{",["T_WHITESPACE","\n\n                    ",192],["T_VARIABLE","$parts",194],["T_WHITESPACE"," ",194],"=",["T_WHITESPACE"," ",194],["T_STRING","explode",194],"(",["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",194],",",["T_STRING","chunk_split",194],"(",["T_VARIABLE","$message",194],",",["T_WHITESPACE"," ",194],["T_LNUMBER","5000",194],",",["T_WHITESPACE"," ",194],["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",194],")",")",";",["T_WHITESPACE","\n\n                    ",194],["T_FOR","for",196],["T_WHITESPACE"," ",196],"(",["T_VARIABLE","$i",196],"=",["T_LNUMBER","0",196],["T_WHITESPACE"," ",196],";",["T_WHITESPACE"," ",196],["T_VARIABLE","$i",196],"<",["T_STRING","count",196],"(",["T_VARIABLE","$parts",196],")",["T_WHITESPACE"," ",196],";",["T_WHITESPACE"," ",196],["T_VARIABLE","$i",196],["T_INC","++",196],")",["T_WHITESPACE"," ",196],"{",["T_WHITESPACE","\n\n                        ",196],["T_VARIABLE","$part",198],["T_WHITESPACE"," ",198],"=",["T_WHITESPACE"," ",198],["T_VARIABLE","$parts",198],"[",["T_VARIABLE","$i",198],"]",";",["T_WHITESPACE","\n                        ",198],["T_IF","if",199],["T_WHITESPACE"," ",199],"(",["T_VARIABLE","$part",199],")",["T_WHITESPACE"," ",199],"{",["T_WHITESPACE","\n\n                            ",199],["T_VARIABLE","$msg",201],["T_WHITESPACE"," ",201],"=",["T_WHITESPACE"," ",201],["T_CONSTANT_ENCAPSED_STRING","''",201],";",["T_WHITESPACE","\n\n                            ",201],["T_IF","if",203],["T_WHITESPACE"," ",203],"(",["T_STRING","count",203],"(",["T_VARIABLE","$parts",203],")",">",["T_LNUMBER","2",203],")",["T_WHITESPACE"," ",203],"{",["T_WHITESPACE","\n                                ",203],["T_VARIABLE","$msg",204],["T_WHITESPACE"," ",204],"=",["T_WHITESPACE"," ",204],"(","(",["T_VARIABLE","$i",204],["T_IS_EQUAL","==",204],["T_LNUMBER","0",204],")","?",["T_STRING","strlen",204],"(",["T_VARIABLE","$message",204],")",":",["T_CONSTANT_ENCAPSED_STRING","''",204],")",["T_WHITESPACE","\n                                       ",204],".",["T_WHITESPACE"," ",205],["T_CONSTANT_ENCAPSED_STRING","'|'",205],["T_WHITESPACE"," ",205],".",["T_WHITESPACE"," ",205],["T_VARIABLE","$part",205],["T_WHITESPACE"," ",205],".",["T_WHITESPACE"," ",205],["T_CONSTANT_ENCAPSED_STRING","'|'",205],["T_WHITESPACE","\n                                       ",205],".",["T_WHITESPACE"," ",206],"(","(",["T_VARIABLE","$i",206],"<",["T_STRING","count",206],"(",["T_VARIABLE","$parts",206],")","-",["T_LNUMBER","2",206],")","?",["T_CONSTANT_ENCAPSED_STRING","'\\\\'",206],":",["T_CONSTANT_ENCAPSED_STRING","''",206],")",";",["T_WHITESPACE","\n                            ",206],"}",["T_WHITESPACE"," ",207],["T_ELSE","else",207],["T_WHITESPACE"," ",207],"{",["T_WHITESPACE","\n                                ",207],["T_VARIABLE","$msg",208],["T_WHITESPACE"," ",208],"=",["T_WHITESPACE"," ",208],["T_STRING","strlen",208],"(",["T_VARIABLE","$part",208],")",["T_WHITESPACE"," ",208],".",["T_WHITESPACE"," ",208],["T_CONSTANT_ENCAPSED_STRING","'|'",208],["T_WHITESPACE"," ",208],".",["T_WHITESPACE"," ",208],["T_VARIABLE","$part",208],["T_WHITESPACE"," ",208],".",["T_WHITESPACE"," ",208],["T_CONSTANT_ENCAPSED_STRING","'|'",208],";",["T_WHITESPACE","\n                            ",208],"}",["T_WHITESPACE","\n\n                            ",209],["T_VARIABLE","$payload",211],"[","]",["T_WHITESPACE"," ",211],"=",["T_WHITESPACE"," ",211],["T_ARRAY","array",211],"(",["T_VARIABLE","$protocol_index",211],["T_WHITESPACE"," ",211],".",["T_WHITESPACE"," ",211],["T_CONSTANT_ENCAPSED_STRING","'-'",211],["T_WHITESPACE","\n                                               ",211],".",["T_WHITESPACE"," ",212],["T_VARIABLE","$structure_index",212],["T_WHITESPACE"," ",212],".",["T_WHITESPACE"," ",212],["T_CONSTANT_ENCAPSED_STRING","'-'",212],["T_WHITESPACE","\n                                               ",212],".",["T_WHITESPACE"," ",213],["T_VARIABLE","$plugin_index",213],["T_WHITESPACE"," ",213],".",["T_WHITESPACE"," ",213],["T_CONSTANT_ENCAPSED_STRING","'-'",213],["T_WHITESPACE","\n                                               ",213],".",["T_WHITESPACE"," ",214],["T_VARIABLE","$message_index",214],",",["T_WHITESPACE","\n                                               ",214],["T_VARIABLE","$msg",215],")",";",["T_WHITESPACE","\n\n                            ",215],["T_VARIABLE","$message_index",217],["T_INC","++",217],";",["T_WHITESPACE","\n\n                            ",217],["T_IF","if",219],["T_WHITESPACE"," ",219],"(",["T_VARIABLE","$message_index",219],["T_WHITESPACE"," ",219],">",["T_WHITESPACE"," ",219],["T_LNUMBER","99999",219],")",["T_WHITESPACE"," ",219],"{",["T_WHITESPACE","\n                                ",219],["T_COMMENT","#require_once 'Zend\/Wildfire\/Exception.php';\n",220],["T_WHITESPACE","                                ",221],["T_THROW","throw",221],["T_WHITESPACE"," ",221],["T_NEW","new",221],["T_WHITESPACE"," ",221],["T_STRING","Zend_Wildfire_Exception",221],"(",["T_CONSTANT_ENCAPSED_STRING","'Maximum number (99,999) of messages reached!'",221],")",";",["T_WHITESPACE","\n                            ",221],"}",["T_WHITESPACE","\n                        ",222],"}",["T_WHITESPACE","\n                    ",223],"}",["T_WHITESPACE","\n                ",224],"}",["T_WHITESPACE","\n                ",225],["T_VARIABLE","$plugin_index",226],["T_INC","++",226],";",["T_WHITESPACE","\n            ",226],"}",["T_WHITESPACE","\n            ",227],["T_VARIABLE","$structure_index",228],["T_INC","++",228],";",["T_WHITESPACE","\n        ",228],"}",["T_WHITESPACE","\n\n        ",229],["T_RETURN","return",231],["T_WHITESPACE"," ",231],["T_VARIABLE","$payload",231],";",["T_WHITESPACE","\n    ",231],"}",["T_WHITESPACE","\n\n",232],"}",["T_WHITESPACE","\n\n",234]]