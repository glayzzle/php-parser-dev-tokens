[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Zend Framework\n *\n * LICENSE\n *\n * This source file is subject to the new BSD license that is bundled\n * with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/framework.zend.com\/license\/new-bsd\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@zend.com so we can send you a copy immediately.\n *\n * @category   Zend\n * @package    Zend_Cache\n * @subpackage Zend_Cache_Backend\n * @copyright  Copyright (c) 2005-2015 Zend Technologies USA Inc. (http:\/\/www.zend.com)\n * @license    http:\/\/framework.zend.com\/license\/new-bsd     New BSD License\n * @version    $Id$\n *\/",2],["T_WHITESPACE","\n\n\n",21],["T_DOC_COMMENT","\/**\n * @see Zend_Cache_Backend_Interface\n *\/",24],["T_WHITESPACE","\n",26],["T_COMMENT","#require_once 'Zend\/Cache\/Backend\/ExtendedInterface.php';\n",27],["T_WHITESPACE","\n",28],["T_DOC_COMMENT","\/**\n * @see Zend_Cache_Backend\n *\/",29],["T_WHITESPACE","\n",31],["T_COMMENT","#require_once 'Zend\/Cache\/Backend.php';\n",32],["T_WHITESPACE","\n",33],["T_DOC_COMMENT","\/**\n * @package    Zend_Cache\n * @subpackage Zend_Cache_Backend\n * @copyright  Copyright (c) 2005-2015 Zend Technologies USA Inc. (http:\/\/www.zend.com)\n * @license    http:\/\/framework.zend.com\/license\/new-bsd     New BSD License\n *\/",34],["T_WHITESPACE","\n",39],["T_CLASS","class",40],["T_WHITESPACE"," ",40],["T_STRING","Zend_Cache_Backend_Sqlite",40],["T_WHITESPACE"," ",40],["T_EXTENDS","extends",40],["T_WHITESPACE"," ",40],["T_STRING","Zend_Cache_Backend",40],["T_WHITESPACE"," ",40],["T_IMPLEMENTS","implements",40],["T_WHITESPACE"," ",40],["T_STRING","Zend_Cache_Backend_ExtendedInterface",40],["T_WHITESPACE","\n",40],"{",["T_WHITESPACE","\n    ",41],["T_DOC_COMMENT","\/**\n     * Available options\n     *\n     * =====> (string) cache_db_complete_path :\n     * - the complete path (filename included) of the SQLITE database\n     *\n     * ====> (int) automatic_vacuum_factor :\n     * - Disable \/ Tune the automatic vacuum process\n     * - The automatic vacuum process defragment the database file (and make it smaller)\n     *   when a clean() or delete() is called\n     *     0               => no automatic vacuum\n     *     1               => systematic vacuum (when delete() or clean() methods are called)\n     *     x (integer) > 1 => automatic vacuum randomly 1 times on x clean() or delete()\n     *\n     * @var array Available options\n     *\/",42],["T_WHITESPACE","\n    ",57],["T_PROTECTED","protected",58],["T_WHITESPACE"," ",58],["T_VARIABLE","$_options",58],["T_WHITESPACE"," ",58],"=",["T_WHITESPACE"," ",58],["T_ARRAY","array",58],"(",["T_WHITESPACE","\n        ",58],["T_CONSTANT_ENCAPSED_STRING","'cache_db_complete_path'",59],["T_WHITESPACE"," ",59],["T_DOUBLE_ARROW","=>",59],["T_WHITESPACE"," ",59],["T_STRING","null",59],",",["T_WHITESPACE","\n        ",59],["T_CONSTANT_ENCAPSED_STRING","'automatic_vacuum_factor'",60],["T_WHITESPACE"," ",60],["T_DOUBLE_ARROW","=>",60],["T_WHITESPACE"," ",60],["T_LNUMBER","10",60],["T_WHITESPACE","\n    ",60],")",";",["T_WHITESPACE","\n\n    ",61],["T_DOC_COMMENT","\/**\n     * DB ressource\n     *\n     * @var mixed $_db\n     *\/",63],["T_WHITESPACE","\n    ",67],["T_PRIVATE","private",68],["T_WHITESPACE"," ",68],["T_VARIABLE","$_db",68],["T_WHITESPACE"," ",68],"=",["T_WHITESPACE"," ",68],["T_STRING","null",68],";",["T_WHITESPACE","\n\n    ",68],["T_DOC_COMMENT","\/**\n     * Boolean to store if the structure has benn checked or not\n     *\n     * @var boolean $_structureChecked\n     *\/",70],["T_WHITESPACE","\n    ",74],["T_PRIVATE","private",75],["T_WHITESPACE"," ",75],["T_VARIABLE","$_structureChecked",75],["T_WHITESPACE"," ",75],"=",["T_WHITESPACE"," ",75],["T_STRING","false",75],";",["T_WHITESPACE","\n\n    ",75],["T_DOC_COMMENT","\/**\n     * Constructor\n     *\n     * @param  array $options Associative array of options\n     * @throws Zend_cache_Exception\n     * @return void\n     *\/",77],["T_WHITESPACE","\n    ",83],["T_PUBLIC","public",84],["T_WHITESPACE"," ",84],["T_FUNCTION","function",84],["T_WHITESPACE"," ",84],["T_STRING","__construct",84],"(",["T_ARRAY","array",84],["T_WHITESPACE"," ",84],["T_VARIABLE","$options",84],["T_WHITESPACE"," ",84],"=",["T_WHITESPACE"," ",84],["T_ARRAY","array",84],"(",")",")",["T_WHITESPACE","\n    ",84],"{",["T_WHITESPACE","\n        ",85],["T_STRING","parent",86],["T_DOUBLE_COLON","::",86],["T_STRING","__construct",86],"(",["T_VARIABLE","$options",86],")",";",["T_WHITESPACE","\n        ",86],["T_IF","if",87],["T_WHITESPACE"," ",87],"(",["T_VARIABLE","$this",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","_options",87],"[",["T_CONSTANT_ENCAPSED_STRING","'cache_db_complete_path'",87],"]",["T_WHITESPACE"," ",87],["T_IS_IDENTICAL","===",87],["T_WHITESPACE"," ",87],["T_STRING","null",87],")",["T_WHITESPACE"," ",87],"{",["T_WHITESPACE","\n            ",87],["T_STRING","Zend_Cache",88],["T_DOUBLE_COLON","::",88],["T_STRING","throwException",88],"(",["T_CONSTANT_ENCAPSED_STRING","'cache_db_complete_path option has to set'",88],")",";",["T_WHITESPACE","\n        ",88],"}",["T_WHITESPACE","\n        ",89],["T_IF","if",90],["T_WHITESPACE"," ",90],"(","!",["T_STRING","extension_loaded",90],"(",["T_CONSTANT_ENCAPSED_STRING","'sqlite'",90],")",")",["T_WHITESPACE"," ",90],"{",["T_WHITESPACE","\n            ",90],["T_STRING","Zend_Cache",91],["T_DOUBLE_COLON","::",91],["T_STRING","throwException",91],"(",["T_CONSTANT_ENCAPSED_STRING","\"Cannot use SQLite storage because the 'sqlite' extension is not loaded in the current PHP environment\"",91],")",";",["T_WHITESPACE","\n        ",91],"}",["T_WHITESPACE","\n        ",92],["T_VARIABLE","$this",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","_getConnection",93],"(",")",";",["T_WHITESPACE","\n    ",93],"}",["T_WHITESPACE","\n\n    ",94],["T_DOC_COMMENT","\/**\n     * Destructor\n     *\n     * @return void\n     *\/",96],["T_WHITESPACE","\n    ",100],["T_PUBLIC","public",101],["T_WHITESPACE"," ",101],["T_FUNCTION","function",101],["T_WHITESPACE"," ",101],["T_STRING","__destruct",101],"(",")",["T_WHITESPACE","\n    ",101],"{",["T_WHITESPACE","\n        ",102],"@",["T_STRING","sqlite_close",103],"(",["T_VARIABLE","$this",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","_getConnection",103],"(",")",")",";",["T_WHITESPACE","\n    ",103],"}",["T_WHITESPACE","\n\n    ",104],["T_DOC_COMMENT","\/**\n     * Test if a cache is available for the given id and (if yes) return it (false else)\n     *\n     * @param  string  $id                     Cache id\n     * @param  boolean $doNotTestCacheValidity If set to true, the cache validity won't be tested\n     * @return string|false Cached datas\n     *\/",106],["T_WHITESPACE","\n    ",112],["T_PUBLIC","public",113],["T_WHITESPACE"," ",113],["T_FUNCTION","function",113],["T_WHITESPACE"," ",113],["T_STRING","load",113],"(",["T_VARIABLE","$id",113],",",["T_WHITESPACE"," ",113],["T_VARIABLE","$doNotTestCacheValidity",113],["T_WHITESPACE"," ",113],"=",["T_WHITESPACE"," ",113],["T_STRING","false",113],")",["T_WHITESPACE","\n    ",113],"{",["T_WHITESPACE","\n        ",114],["T_VARIABLE","$this",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","_checkAndBuildStructure",115],"(",")",";",["T_WHITESPACE","\n        ",115],["T_VARIABLE","$sql",116],["T_WHITESPACE"," ",116],"=",["T_WHITESPACE"," ",116],"\"",["T_ENCAPSED_AND_WHITESPACE","SELECT content FROM cache WHERE id='",116],["T_VARIABLE","$id",116],["T_ENCAPSED_AND_WHITESPACE","'",116],"\"",";",["T_WHITESPACE","\n        ",116],["T_IF","if",117],["T_WHITESPACE"," ",117],"(","!",["T_VARIABLE","$doNotTestCacheValidity",117],")",["T_WHITESPACE"," ",117],"{",["T_WHITESPACE","\n            ",117],["T_VARIABLE","$sql",118],["T_WHITESPACE"," ",118],"=",["T_WHITESPACE"," ",118],["T_VARIABLE","$sql",118],["T_WHITESPACE"," ",118],".",["T_WHITESPACE"," ",118],["T_CONSTANT_ENCAPSED_STRING","\" AND (expire=0 OR expire>\"",118],["T_WHITESPACE"," ",118],".",["T_WHITESPACE"," ",118],["T_STRING","time",118],"(",")",["T_WHITESPACE"," ",118],".",["T_WHITESPACE"," ",118],["T_CONSTANT_ENCAPSED_STRING","')'",118],";",["T_WHITESPACE","\n        ",118],"}",["T_WHITESPACE","\n        ",119],["T_VARIABLE","$result",120],["T_WHITESPACE"," ",120],"=",["T_WHITESPACE"," ",120],["T_VARIABLE","$this",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","_query",120],"(",["T_VARIABLE","$sql",120],")",";",["T_WHITESPACE","\n        ",120],["T_VARIABLE","$row",121],["T_WHITESPACE"," ",121],"=",["T_WHITESPACE"," ",121],"@",["T_STRING","sqlite_fetch_array",121],"(",["T_VARIABLE","$result",121],")",";",["T_WHITESPACE","\n        ",121],["T_IF","if",122],["T_WHITESPACE"," ",122],"(",["T_VARIABLE","$row",122],")",["T_WHITESPACE"," ",122],"{",["T_WHITESPACE","\n            ",122],["T_RETURN","return",123],["T_WHITESPACE"," ",123],["T_VARIABLE","$row",123],"[",["T_CONSTANT_ENCAPSED_STRING","'content'",123],"]",";",["T_WHITESPACE","\n        ",123],"}",["T_WHITESPACE","\n        ",124],["T_RETURN","return",125],["T_WHITESPACE"," ",125],["T_STRING","false",125],";",["T_WHITESPACE","\n    ",125],"}",["T_WHITESPACE","\n\n    ",126],["T_DOC_COMMENT","\/**\n     * Test if a cache is available or not (for the given id)\n     *\n     * @param string $id Cache id\n     * @return mixed|false (a cache is not available) or \"last modified\" timestamp (int) of the available cache record\n     *\/",128],["T_WHITESPACE","\n    ",133],["T_PUBLIC","public",134],["T_WHITESPACE"," ",134],["T_FUNCTION","function",134],["T_WHITESPACE"," ",134],["T_STRING","test",134],"(",["T_VARIABLE","$id",134],")",["T_WHITESPACE","\n    ",134],"{",["T_WHITESPACE","\n        ",135],["T_VARIABLE","$this",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","_checkAndBuildStructure",136],"(",")",";",["T_WHITESPACE","\n        ",136],["T_VARIABLE","$sql",137],["T_WHITESPACE"," ",137],"=",["T_WHITESPACE"," ",137],"\"",["T_ENCAPSED_AND_WHITESPACE","SELECT lastModified FROM cache WHERE id='",137],["T_VARIABLE","$id",137],["T_ENCAPSED_AND_WHITESPACE","' AND (expire=0 OR expire>",137],"\"",["T_WHITESPACE"," ",137],".",["T_WHITESPACE"," ",137],["T_STRING","time",137],"(",")",["T_WHITESPACE"," ",137],".",["T_WHITESPACE"," ",137],["T_CONSTANT_ENCAPSED_STRING","')'",137],";",["T_WHITESPACE","\n        ",137],["T_VARIABLE","$result",138],["T_WHITESPACE"," ",138],"=",["T_WHITESPACE"," ",138],["T_VARIABLE","$this",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","_query",138],"(",["T_VARIABLE","$sql",138],")",";",["T_WHITESPACE","\n        ",138],["T_VARIABLE","$row",139],["T_WHITESPACE"," ",139],"=",["T_WHITESPACE"," ",139],"@",["T_STRING","sqlite_fetch_array",139],"(",["T_VARIABLE","$result",139],")",";",["T_WHITESPACE","\n        ",139],["T_IF","if",140],["T_WHITESPACE"," ",140],"(",["T_VARIABLE","$row",140],")",["T_WHITESPACE"," ",140],"{",["T_WHITESPACE","\n            ",140],["T_RETURN","return",141],["T_WHITESPACE"," ",141],"(",["T_INT_CAST","(int)",141],["T_WHITESPACE"," ",141],["T_VARIABLE","$row",141],"[",["T_CONSTANT_ENCAPSED_STRING","'lastModified'",141],"]",")",";",["T_WHITESPACE","\n        ",141],"}",["T_WHITESPACE","\n        ",142],["T_RETURN","return",143],["T_WHITESPACE"," ",143],["T_STRING","false",143],";",["T_WHITESPACE","\n    ",143],"}",["T_WHITESPACE","\n\n    ",144],["T_DOC_COMMENT","\/**\n     * Save some string datas into a cache record\n     *\n     * Note : $data is always \"string\" (serialization is done by the\n     * core not by the backend)\n     *\n     * @param  string $data             Datas to cache\n     * @param  string $id               Cache id\n     * @param  array  $tags             Array of strings, the cache record will be tagged by each string entry\n     * @param  int    $specificLifetime If != false, set a specific lifetime for this cache record (null => infinite lifetime)\n     * @throws Zend_Cache_Exception\n     * @return boolean True if no problem\n     *\/",146],["T_WHITESPACE","\n    ",158],["T_PUBLIC","public",159],["T_WHITESPACE"," ",159],["T_FUNCTION","function",159],["T_WHITESPACE"," ",159],["T_STRING","save",159],"(",["T_VARIABLE","$data",159],",",["T_WHITESPACE"," ",159],["T_VARIABLE","$id",159],",",["T_WHITESPACE"," ",159],["T_VARIABLE","$tags",159],["T_WHITESPACE"," ",159],"=",["T_WHITESPACE"," ",159],["T_ARRAY","array",159],"(",")",",",["T_WHITESPACE"," ",159],["T_VARIABLE","$specificLifetime",159],["T_WHITESPACE"," ",159],"=",["T_WHITESPACE"," ",159],["T_STRING","false",159],")",["T_WHITESPACE","\n    ",159],"{",["T_WHITESPACE","\n        ",160],["T_VARIABLE","$this",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","_checkAndBuildStructure",161],"(",")",";",["T_WHITESPACE","\n        ",161],["T_VARIABLE","$lifetime",162],["T_WHITESPACE"," ",162],"=",["T_WHITESPACE"," ",162],["T_VARIABLE","$this",162],["T_OBJECT_OPERATOR","->",162],["T_STRING","getLifetime",162],"(",["T_VARIABLE","$specificLifetime",162],")",";",["T_WHITESPACE","\n        ",162],["T_VARIABLE","$data",163],["T_WHITESPACE"," ",163],"=",["T_WHITESPACE"," ",163],"@",["T_STRING","sqlite_escape_string",163],"(",["T_VARIABLE","$data",163],")",";",["T_WHITESPACE","\n        ",163],["T_VARIABLE","$mktime",164],["T_WHITESPACE"," ",164],"=",["T_WHITESPACE"," ",164],["T_STRING","time",164],"(",")",";",["T_WHITESPACE","\n        ",164],["T_IF","if",165],["T_WHITESPACE"," ",165],"(",["T_VARIABLE","$lifetime",165],["T_WHITESPACE"," ",165],["T_IS_IDENTICAL","===",165],["T_WHITESPACE"," ",165],["T_STRING","null",165],")",["T_WHITESPACE"," ",165],"{",["T_WHITESPACE","\n            ",165],["T_VARIABLE","$expire",166],["T_WHITESPACE"," ",166],"=",["T_WHITESPACE"," ",166],["T_LNUMBER","0",166],";",["T_WHITESPACE","\n        ",166],"}",["T_WHITESPACE"," ",167],["T_ELSE","else",167],["T_WHITESPACE"," ",167],"{",["T_WHITESPACE","\n            ",167],["T_VARIABLE","$expire",168],["T_WHITESPACE"," ",168],"=",["T_WHITESPACE"," ",168],["T_VARIABLE","$mktime",168],["T_WHITESPACE"," ",168],"+",["T_WHITESPACE"," ",168],["T_VARIABLE","$lifetime",168],";",["T_WHITESPACE","\n        ",168],"}",["T_WHITESPACE","\n        ",169],["T_VARIABLE","$this",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","_query",170],"(","\"",["T_ENCAPSED_AND_WHITESPACE","DELETE FROM cache WHERE id='",170],["T_VARIABLE","$id",170],["T_ENCAPSED_AND_WHITESPACE","'",170],"\"",")",";",["T_WHITESPACE","\n        ",170],["T_VARIABLE","$sql",171],["T_WHITESPACE"," ",171],"=",["T_WHITESPACE"," ",171],"\"",["T_ENCAPSED_AND_WHITESPACE","INSERT INTO cache (id, content, lastModified, expire) VALUES ('",171],["T_VARIABLE","$id",171],["T_ENCAPSED_AND_WHITESPACE","', '",171],["T_VARIABLE","$data",171],["T_ENCAPSED_AND_WHITESPACE","', ",171],["T_VARIABLE","$mktime",171],["T_ENCAPSED_AND_WHITESPACE",", ",171],["T_VARIABLE","$expire",171],["T_ENCAPSED_AND_WHITESPACE",")",171],"\"",";",["T_WHITESPACE","\n        ",171],["T_VARIABLE","$res",172],["T_WHITESPACE"," ",172],"=",["T_WHITESPACE"," ",172],["T_VARIABLE","$this",172],["T_OBJECT_OPERATOR","->",172],["T_STRING","_query",172],"(",["T_VARIABLE","$sql",172],")",";",["T_WHITESPACE","\n        ",172],["T_IF","if",173],["T_WHITESPACE"," ",173],"(","!",["T_VARIABLE","$res",173],")",["T_WHITESPACE"," ",173],"{",["T_WHITESPACE","\n            ",173],["T_VARIABLE","$this",174],["T_OBJECT_OPERATOR","->",174],["T_STRING","_log",174],"(","\"",["T_ENCAPSED_AND_WHITESPACE","Zend_Cache_Backend_Sqlite::save() : impossible to store the cache id=",174],["T_VARIABLE","$id",174],"\"",")",";",["T_WHITESPACE","\n            ",174],["T_RETURN","return",175],["T_WHITESPACE"," ",175],["T_STRING","false",175],";",["T_WHITESPACE","\n        ",175],"}",["T_WHITESPACE","\n        ",176],["T_VARIABLE","$res",177],["T_WHITESPACE"," ",177],"=",["T_WHITESPACE"," ",177],["T_STRING","true",177],";",["T_WHITESPACE","\n        ",177],["T_FOREACH","foreach",178],["T_WHITESPACE"," ",178],"(",["T_VARIABLE","$tags",178],["T_WHITESPACE"," ",178],["T_AS","as",178],["T_WHITESPACE"," ",178],["T_VARIABLE","$tag",178],")",["T_WHITESPACE"," ",178],"{",["T_WHITESPACE","\n            ",178],["T_VARIABLE","$res",179],["T_WHITESPACE"," ",179],"=",["T_WHITESPACE"," ",179],["T_VARIABLE","$this",179],["T_OBJECT_OPERATOR","->",179],["T_STRING","_registerTag",179],"(",["T_VARIABLE","$id",179],",",["T_WHITESPACE"," ",179],["T_VARIABLE","$tag",179],")",["T_WHITESPACE"," ",179],["T_BOOLEAN_AND","&&",179],["T_WHITESPACE"," ",179],["T_VARIABLE","$res",179],";",["T_WHITESPACE","\n        ",179],"}",["T_WHITESPACE","\n        ",180],["T_RETURN","return",181],["T_WHITESPACE"," ",181],["T_VARIABLE","$res",181],";",["T_WHITESPACE","\n    ",181],"}",["T_WHITESPACE","\n\n    ",182],["T_DOC_COMMENT","\/**\n     * Remove a cache record\n     *\n     * @param  string $id Cache id\n     * @return boolean True if no problem\n     *\/",184],["T_WHITESPACE","\n    ",189],["T_PUBLIC","public",190],["T_WHITESPACE"," ",190],["T_FUNCTION","function",190],["T_WHITESPACE"," ",190],["T_STRING","remove",190],"(",["T_VARIABLE","$id",190],")",["T_WHITESPACE","\n    ",190],"{",["T_WHITESPACE","\n        ",191],["T_VARIABLE","$this",192],["T_OBJECT_OPERATOR","->",192],["T_STRING","_checkAndBuildStructure",192],"(",")",";",["T_WHITESPACE","\n        ",192],["T_VARIABLE","$res",193],["T_WHITESPACE"," ",193],"=",["T_WHITESPACE"," ",193],["T_VARIABLE","$this",193],["T_OBJECT_OPERATOR","->",193],["T_STRING","_query",193],"(","\"",["T_ENCAPSED_AND_WHITESPACE","SELECT COUNT(*) AS nbr FROM cache WHERE id='",193],["T_VARIABLE","$id",193],["T_ENCAPSED_AND_WHITESPACE","'",193],"\"",")",";",["T_WHITESPACE","\n        ",193],["T_VARIABLE","$result1",194],["T_WHITESPACE"," ",194],"=",["T_WHITESPACE"," ",194],"@",["T_STRING","sqlite_fetch_single",194],"(",["T_VARIABLE","$res",194],")",";",["T_WHITESPACE","\n        ",194],["T_VARIABLE","$result2",195],["T_WHITESPACE"," ",195],"=",["T_WHITESPACE"," ",195],["T_VARIABLE","$this",195],["T_OBJECT_OPERATOR","->",195],["T_STRING","_query",195],"(","\"",["T_ENCAPSED_AND_WHITESPACE","DELETE FROM cache WHERE id='",195],["T_VARIABLE","$id",195],["T_ENCAPSED_AND_WHITESPACE","'",195],"\"",")",";",["T_WHITESPACE","\n        ",195],["T_VARIABLE","$result3",196],["T_WHITESPACE"," ",196],"=",["T_WHITESPACE"," ",196],["T_VARIABLE","$this",196],["T_OBJECT_OPERATOR","->",196],["T_STRING","_query",196],"(","\"",["T_ENCAPSED_AND_WHITESPACE","DELETE FROM tag WHERE id='",196],["T_VARIABLE","$id",196],["T_ENCAPSED_AND_WHITESPACE","'",196],"\"",")",";",["T_WHITESPACE","\n        ",196],["T_VARIABLE","$this",197],["T_OBJECT_OPERATOR","->",197],["T_STRING","_automaticVacuum",197],"(",")",";",["T_WHITESPACE","\n        ",197],["T_RETURN","return",198],["T_WHITESPACE"," ",198],"(",["T_VARIABLE","$result1",198],["T_WHITESPACE"," ",198],["T_BOOLEAN_AND","&&",198],["T_WHITESPACE"," ",198],["T_VARIABLE","$result2",198],["T_WHITESPACE"," ",198],["T_BOOLEAN_AND","&&",198],["T_WHITESPACE"," ",198],["T_VARIABLE","$result3",198],")",";",["T_WHITESPACE","\n    ",198],"}",["T_WHITESPACE","\n\n    ",199],["T_DOC_COMMENT","\/**\n     * Clean some cache records\n     *\n     * Available modes are :\n     * Zend_Cache::CLEANING_MODE_ALL (default)    => remove all cache entries ($tags is not used)\n     * Zend_Cache::CLEANING_MODE_OLD              => remove too old cache entries ($tags is not used)\n     * Zend_Cache::CLEANING_MODE_MATCHING_TAG     => remove cache entries matching all given tags\n     *                                               ($tags can be an array of strings or a single string)\n     * Zend_Cache::CLEANING_MODE_NOT_MATCHING_TAG => remove cache entries not {matching one of the given tags}\n     *                                               ($tags can be an array of strings or a single string)\n     * Zend_Cache::CLEANING_MODE_MATCHING_ANY_TAG => remove cache entries matching any given tags\n     *                                               ($tags can be an array of strings or a single string)\n     *\n     * @param  string $mode Clean mode\n     * @param  array  $tags Array of tags\n     * @return boolean True if no problem\n     *\/",201],["T_WHITESPACE","\n    ",217],["T_PUBLIC","public",218],["T_WHITESPACE"," ",218],["T_FUNCTION","function",218],["T_WHITESPACE"," ",218],["T_STRING","clean",218],"(",["T_VARIABLE","$mode",218],["T_WHITESPACE"," ",218],"=",["T_WHITESPACE"," ",218],["T_STRING","Zend_Cache",218],["T_DOUBLE_COLON","::",218],["T_STRING","CLEANING_MODE_ALL",218],",",["T_WHITESPACE"," ",218],["T_VARIABLE","$tags",218],["T_WHITESPACE"," ",218],"=",["T_WHITESPACE"," ",218],["T_ARRAY","array",218],"(",")",")",["T_WHITESPACE","\n    ",218],"{",["T_WHITESPACE","\n        ",219],["T_VARIABLE","$this",220],["T_OBJECT_OPERATOR","->",220],["T_STRING","_checkAndBuildStructure",220],"(",")",";",["T_WHITESPACE","\n        ",220],["T_VARIABLE","$return",221],["T_WHITESPACE"," ",221],"=",["T_WHITESPACE"," ",221],["T_VARIABLE","$this",221],["T_OBJECT_OPERATOR","->",221],["T_STRING","_clean",221],"(",["T_VARIABLE","$mode",221],",",["T_WHITESPACE"," ",221],["T_VARIABLE","$tags",221],")",";",["T_WHITESPACE","\n        ",221],["T_VARIABLE","$this",222],["T_OBJECT_OPERATOR","->",222],["T_STRING","_automaticVacuum",222],"(",")",";",["T_WHITESPACE","\n        ",222],["T_RETURN","return",223],["T_WHITESPACE"," ",223],["T_VARIABLE","$return",223],";",["T_WHITESPACE","\n    ",223],"}",["T_WHITESPACE","\n\n    ",224],["T_DOC_COMMENT","\/**\n     * Return an array of stored cache ids\n     *\n     * @return array array of stored cache ids (string)\n     *\/",226],["T_WHITESPACE","\n    ",230],["T_PUBLIC","public",231],["T_WHITESPACE"," ",231],["T_FUNCTION","function",231],["T_WHITESPACE"," ",231],["T_STRING","getIds",231],"(",")",["T_WHITESPACE","\n    ",231],"{",["T_WHITESPACE","\n        ",232],["T_VARIABLE","$this",233],["T_OBJECT_OPERATOR","->",233],["T_STRING","_checkAndBuildStructure",233],"(",")",";",["T_WHITESPACE","\n        ",233],["T_VARIABLE","$res",234],["T_WHITESPACE"," ",234],"=",["T_WHITESPACE"," ",234],["T_VARIABLE","$this",234],["T_OBJECT_OPERATOR","->",234],["T_STRING","_query",234],"(",["T_CONSTANT_ENCAPSED_STRING","\"SELECT id FROM cache WHERE (expire=0 OR expire>\"",234],["T_WHITESPACE"," ",234],".",["T_WHITESPACE"," ",234],["T_STRING","time",234],"(",")",["T_WHITESPACE"," ",234],".",["T_WHITESPACE"," ",234],["T_CONSTANT_ENCAPSED_STRING","\")\"",234],")",";",["T_WHITESPACE","\n        ",234],["T_VARIABLE","$result",235],["T_WHITESPACE"," ",235],"=",["T_WHITESPACE"," ",235],["T_ARRAY","array",235],"(",")",";",["T_WHITESPACE","\n        ",235],["T_WHILE","while",236],["T_WHITESPACE"," ",236],"(",["T_VARIABLE","$id",236],["T_WHITESPACE"," ",236],"=",["T_WHITESPACE"," ",236],"@",["T_STRING","sqlite_fetch_single",236],"(",["T_VARIABLE","$res",236],")",")",["T_WHITESPACE"," ",236],"{",["T_WHITESPACE","\n            ",236],["T_VARIABLE","$result",237],"[","]",["T_WHITESPACE"," ",237],"=",["T_WHITESPACE"," ",237],["T_VARIABLE","$id",237],";",["T_WHITESPACE","\n        ",237],"}",["T_WHITESPACE","\n        ",238],["T_RETURN","return",239],["T_WHITESPACE"," ",239],["T_VARIABLE","$result",239],";",["T_WHITESPACE","\n    ",239],"}",["T_WHITESPACE","\n\n    ",240],["T_DOC_COMMENT","\/**\n     * Return an array of stored tags\n     *\n     * @return array array of stored tags (string)\n     *\/",242],["T_WHITESPACE","\n    ",246],["T_PUBLIC","public",247],["T_WHITESPACE"," ",247],["T_FUNCTION","function",247],["T_WHITESPACE"," ",247],["T_STRING","getTags",247],"(",")",["T_WHITESPACE","\n    ",247],"{",["T_WHITESPACE","\n        ",248],["T_VARIABLE","$this",249],["T_OBJECT_OPERATOR","->",249],["T_STRING","_checkAndBuildStructure",249],"(",")",";",["T_WHITESPACE","\n        ",249],["T_VARIABLE","$res",250],["T_WHITESPACE"," ",250],"=",["T_WHITESPACE"," ",250],["T_VARIABLE","$this",250],["T_OBJECT_OPERATOR","->",250],["T_STRING","_query",250],"(",["T_CONSTANT_ENCAPSED_STRING","\"SELECT DISTINCT(name) AS name FROM tag\"",250],")",";",["T_WHITESPACE","\n        ",250],["T_VARIABLE","$result",251],["T_WHITESPACE"," ",251],"=",["T_WHITESPACE"," ",251],["T_ARRAY","array",251],"(",")",";",["T_WHITESPACE","\n        ",251],["T_WHILE","while",252],["T_WHITESPACE"," ",252],"(",["T_VARIABLE","$id",252],["T_WHITESPACE"," ",252],"=",["T_WHITESPACE"," ",252],"@",["T_STRING","sqlite_fetch_single",252],"(",["T_VARIABLE","$res",252],")",")",["T_WHITESPACE"," ",252],"{",["T_WHITESPACE","\n            ",252],["T_VARIABLE","$result",253],"[","]",["T_WHITESPACE"," ",253],"=",["T_WHITESPACE"," ",253],["T_VARIABLE","$id",253],";",["T_WHITESPACE","\n        ",253],"}",["T_WHITESPACE","\n        ",254],["T_RETURN","return",255],["T_WHITESPACE"," ",255],["T_VARIABLE","$result",255],";",["T_WHITESPACE","\n    ",255],"}",["T_WHITESPACE","\n\n    ",256],["T_DOC_COMMENT","\/**\n     * Return an array of stored cache ids which match given tags\n     *\n     * In case of multiple tags, a logical AND is made between tags\n     *\n     * @param array $tags array of tags\n     * @return array array of matching cache ids (string)\n     *\/",258],["T_WHITESPACE","\n    ",265],["T_PUBLIC","public",266],["T_WHITESPACE"," ",266],["T_FUNCTION","function",266],["T_WHITESPACE"," ",266],["T_STRING","getIdsMatchingTags",266],"(",["T_VARIABLE","$tags",266],["T_WHITESPACE"," ",266],"=",["T_WHITESPACE"," ",266],["T_ARRAY","array",266],"(",")",")",["T_WHITESPACE","\n    ",266],"{",["T_WHITESPACE","\n        ",267],["T_VARIABLE","$first",268],["T_WHITESPACE"," ",268],"=",["T_WHITESPACE"," ",268],["T_STRING","true",268],";",["T_WHITESPACE","\n        ",268],["T_VARIABLE","$ids",269],["T_WHITESPACE"," ",269],"=",["T_WHITESPACE"," ",269],["T_ARRAY","array",269],"(",")",";",["T_WHITESPACE","\n        ",269],["T_FOREACH","foreach",270],["T_WHITESPACE"," ",270],"(",["T_VARIABLE","$tags",270],["T_WHITESPACE"," ",270],["T_AS","as",270],["T_WHITESPACE"," ",270],["T_VARIABLE","$tag",270],")",["T_WHITESPACE"," ",270],"{",["T_WHITESPACE","\n            ",270],["T_VARIABLE","$res",271],["T_WHITESPACE"," ",271],"=",["T_WHITESPACE"," ",271],["T_VARIABLE","$this",271],["T_OBJECT_OPERATOR","->",271],["T_STRING","_query",271],"(","\"",["T_ENCAPSED_AND_WHITESPACE","SELECT DISTINCT(id) AS id FROM tag WHERE name='",271],["T_VARIABLE","$tag",271],["T_ENCAPSED_AND_WHITESPACE","'",271],"\"",")",";",["T_WHITESPACE","\n            ",271],["T_IF","if",272],["T_WHITESPACE"," ",272],"(","!",["T_VARIABLE","$res",272],")",["T_WHITESPACE"," ",272],"{",["T_WHITESPACE","\n                ",272],["T_RETURN","return",273],["T_WHITESPACE"," ",273],["T_ARRAY","array",273],"(",")",";",["T_WHITESPACE","\n            ",273],"}",["T_WHITESPACE","\n            ",274],["T_VARIABLE","$rows",275],["T_WHITESPACE"," ",275],"=",["T_WHITESPACE"," ",275],"@",["T_STRING","sqlite_fetch_all",275],"(",["T_VARIABLE","$res",275],",",["T_WHITESPACE"," ",275],["T_STRING","SQLITE_ASSOC",275],")",";",["T_WHITESPACE","\n            ",275],["T_VARIABLE","$ids2",276],["T_WHITESPACE"," ",276],"=",["T_WHITESPACE"," ",276],["T_ARRAY","array",276],"(",")",";",["T_WHITESPACE","\n            ",276],["T_FOREACH","foreach",277],["T_WHITESPACE"," ",277],"(",["T_VARIABLE","$rows",277],["T_WHITESPACE"," ",277],["T_AS","as",277],["T_WHITESPACE"," ",277],["T_VARIABLE","$row",277],")",["T_WHITESPACE"," ",277],"{",["T_WHITESPACE","\n                ",277],["T_VARIABLE","$ids2",278],"[","]",["T_WHITESPACE"," ",278],"=",["T_WHITESPACE"," ",278],["T_VARIABLE","$row",278],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",278],"]",";",["T_WHITESPACE","\n            ",278],"}",["T_WHITESPACE","\n            ",279],["T_IF","if",280],["T_WHITESPACE"," ",280],"(",["T_VARIABLE","$first",280],")",["T_WHITESPACE"," ",280],"{",["T_WHITESPACE","\n                ",280],["T_VARIABLE","$ids",281],["T_WHITESPACE"," ",281],"=",["T_WHITESPACE"," ",281],["T_VARIABLE","$ids2",281],";",["T_WHITESPACE","\n                ",281],["T_VARIABLE","$first",282],["T_WHITESPACE"," ",282],"=",["T_WHITESPACE"," ",282],["T_STRING","false",282],";",["T_WHITESPACE","\n            ",282],"}",["T_WHITESPACE"," ",283],["T_ELSE","else",283],["T_WHITESPACE"," ",283],"{",["T_WHITESPACE","\n                ",283],["T_VARIABLE","$ids",284],["T_WHITESPACE"," ",284],"=",["T_WHITESPACE"," ",284],["T_STRING","array_intersect",284],"(",["T_VARIABLE","$ids",284],",",["T_WHITESPACE"," ",284],["T_VARIABLE","$ids2",284],")",";",["T_WHITESPACE","\n            ",284],"}",["T_WHITESPACE","\n        ",285],"}",["T_WHITESPACE","\n        ",286],["T_VARIABLE","$result",287],["T_WHITESPACE"," ",287],"=",["T_WHITESPACE"," ",287],["T_ARRAY","array",287],"(",")",";",["T_WHITESPACE","\n        ",287],["T_FOREACH","foreach",288],["T_WHITESPACE"," ",288],"(",["T_VARIABLE","$ids",288],["T_WHITESPACE"," ",288],["T_AS","as",288],["T_WHITESPACE"," ",288],["T_VARIABLE","$id",288],")",["T_WHITESPACE"," ",288],"{",["T_WHITESPACE","\n            ",288],["T_VARIABLE","$result",289],"[","]",["T_WHITESPACE"," ",289],"=",["T_WHITESPACE"," ",289],["T_VARIABLE","$id",289],";",["T_WHITESPACE","\n        ",289],"}",["T_WHITESPACE","\n        ",290],["T_RETURN","return",291],["T_WHITESPACE"," ",291],["T_VARIABLE","$result",291],";",["T_WHITESPACE","\n    ",291],"}",["T_WHITESPACE","\n\n    ",292],["T_DOC_COMMENT","\/**\n     * Return an array of stored cache ids which don't match given tags\n     *\n     * In case of multiple tags, a logical OR is made between tags\n     *\n     * @param array $tags array of tags\n     * @return array array of not matching cache ids (string)\n     *\/",294],["T_WHITESPACE","\n    ",301],["T_PUBLIC","public",302],["T_WHITESPACE"," ",302],["T_FUNCTION","function",302],["T_WHITESPACE"," ",302],["T_STRING","getIdsNotMatchingTags",302],"(",["T_VARIABLE","$tags",302],["T_WHITESPACE"," ",302],"=",["T_WHITESPACE"," ",302],["T_ARRAY","array",302],"(",")",")",["T_WHITESPACE","\n    ",302],"{",["T_WHITESPACE","\n        ",303],["T_VARIABLE","$res",304],["T_WHITESPACE"," ",304],"=",["T_WHITESPACE"," ",304],["T_VARIABLE","$this",304],["T_OBJECT_OPERATOR","->",304],["T_STRING","_query",304],"(",["T_CONSTANT_ENCAPSED_STRING","\"SELECT id FROM cache\"",304],")",";",["T_WHITESPACE","\n        ",304],["T_VARIABLE","$rows",305],["T_WHITESPACE"," ",305],"=",["T_WHITESPACE"," ",305],"@",["T_STRING","sqlite_fetch_all",305],"(",["T_VARIABLE","$res",305],",",["T_WHITESPACE"," ",305],["T_STRING","SQLITE_ASSOC",305],")",";",["T_WHITESPACE","\n        ",305],["T_VARIABLE","$result",306],["T_WHITESPACE"," ",306],"=",["T_WHITESPACE"," ",306],["T_ARRAY","array",306],"(",")",";",["T_WHITESPACE","\n        ",306],["T_FOREACH","foreach",307],["T_WHITESPACE"," ",307],"(",["T_VARIABLE","$rows",307],["T_WHITESPACE"," ",307],["T_AS","as",307],["T_WHITESPACE"," ",307],["T_VARIABLE","$row",307],")",["T_WHITESPACE"," ",307],"{",["T_WHITESPACE","\n            ",307],["T_VARIABLE","$id",308],["T_WHITESPACE"," ",308],"=",["T_WHITESPACE"," ",308],["T_VARIABLE","$row",308],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",308],"]",";",["T_WHITESPACE","\n            ",308],["T_VARIABLE","$matching",309],["T_WHITESPACE"," ",309],"=",["T_WHITESPACE"," ",309],["T_STRING","false",309],";",["T_WHITESPACE","\n            ",309],["T_FOREACH","foreach",310],["T_WHITESPACE"," ",310],"(",["T_VARIABLE","$tags",310],["T_WHITESPACE"," ",310],["T_AS","as",310],["T_WHITESPACE"," ",310],["T_VARIABLE","$tag",310],")",["T_WHITESPACE"," ",310],"{",["T_WHITESPACE","\n                ",310],["T_VARIABLE","$res",311],["T_WHITESPACE"," ",311],"=",["T_WHITESPACE"," ",311],["T_VARIABLE","$this",311],["T_OBJECT_OPERATOR","->",311],["T_STRING","_query",311],"(","\"",["T_ENCAPSED_AND_WHITESPACE","SELECT COUNT(*) AS nbr FROM tag WHERE name='",311],["T_VARIABLE","$tag",311],["T_ENCAPSED_AND_WHITESPACE","' AND id='",311],["T_VARIABLE","$id",311],["T_ENCAPSED_AND_WHITESPACE","'",311],"\"",")",";",["T_WHITESPACE","\n                ",311],["T_IF","if",312],["T_WHITESPACE"," ",312],"(","!",["T_VARIABLE","$res",312],")",["T_WHITESPACE"," ",312],"{",["T_WHITESPACE","\n                    ",312],["T_RETURN","return",313],["T_WHITESPACE"," ",313],["T_ARRAY","array",313],"(",")",";",["T_WHITESPACE","\n                ",313],"}",["T_WHITESPACE","\n                ",314],["T_VARIABLE","$nbr",315],["T_WHITESPACE"," ",315],"=",["T_WHITESPACE"," ",315],["T_INT_CAST","(int)",315],["T_WHITESPACE"," ",315],"@",["T_STRING","sqlite_fetch_single",315],"(",["T_VARIABLE","$res",315],")",";",["T_WHITESPACE","\n                ",315],["T_IF","if",316],["T_WHITESPACE"," ",316],"(",["T_VARIABLE","$nbr",316],["T_WHITESPACE"," ",316],">",["T_WHITESPACE"," ",316],["T_LNUMBER","0",316],")",["T_WHITESPACE"," ",316],"{",["T_WHITESPACE","\n                    ",316],["T_VARIABLE","$matching",317],["T_WHITESPACE"," ",317],"=",["T_WHITESPACE"," ",317],["T_STRING","true",317],";",["T_WHITESPACE","\n                ",317],"}",["T_WHITESPACE","\n            ",318],"}",["T_WHITESPACE","\n            ",319],["T_IF","if",320],["T_WHITESPACE"," ",320],"(","!",["T_VARIABLE","$matching",320],")",["T_WHITESPACE"," ",320],"{",["T_WHITESPACE","\n                ",320],["T_VARIABLE","$result",321],"[","]",["T_WHITESPACE"," ",321],"=",["T_WHITESPACE"," ",321],["T_VARIABLE","$id",321],";",["T_WHITESPACE","\n            ",321],"}",["T_WHITESPACE","\n        ",322],"}",["T_WHITESPACE","\n        ",323],["T_RETURN","return",324],["T_WHITESPACE"," ",324],["T_VARIABLE","$result",324],";",["T_WHITESPACE","\n    ",324],"}",["T_WHITESPACE","\n\n    ",325],["T_DOC_COMMENT","\/**\n     * Return an array of stored cache ids which match any given tags\n     *\n     * In case of multiple tags, a logical AND is made between tags\n     *\n     * @param array $tags array of tags\n     * @return array array of any matching cache ids (string)\n     *\/",327],["T_WHITESPACE","\n    ",334],["T_PUBLIC","public",335],["T_WHITESPACE"," ",335],["T_FUNCTION","function",335],["T_WHITESPACE"," ",335],["T_STRING","getIdsMatchingAnyTags",335],"(",["T_VARIABLE","$tags",335],["T_WHITESPACE"," ",335],"=",["T_WHITESPACE"," ",335],["T_ARRAY","array",335],"(",")",")",["T_WHITESPACE","\n    ",335],"{",["T_WHITESPACE","\n        ",336],["T_VARIABLE","$first",337],["T_WHITESPACE"," ",337],"=",["T_WHITESPACE"," ",337],["T_STRING","true",337],";",["T_WHITESPACE","\n        ",337],["T_VARIABLE","$ids",338],["T_WHITESPACE"," ",338],"=",["T_WHITESPACE"," ",338],["T_ARRAY","array",338],"(",")",";",["T_WHITESPACE","\n        ",338],["T_FOREACH","foreach",339],["T_WHITESPACE"," ",339],"(",["T_VARIABLE","$tags",339],["T_WHITESPACE"," ",339],["T_AS","as",339],["T_WHITESPACE"," ",339],["T_VARIABLE","$tag",339],")",["T_WHITESPACE"," ",339],"{",["T_WHITESPACE","\n            ",339],["T_VARIABLE","$res",340],["T_WHITESPACE"," ",340],"=",["T_WHITESPACE"," ",340],["T_VARIABLE","$this",340],["T_OBJECT_OPERATOR","->",340],["T_STRING","_query",340],"(","\"",["T_ENCAPSED_AND_WHITESPACE","SELECT DISTINCT(id) AS id FROM tag WHERE name='",340],["T_VARIABLE","$tag",340],["T_ENCAPSED_AND_WHITESPACE","'",340],"\"",")",";",["T_WHITESPACE","\n            ",340],["T_IF","if",341],["T_WHITESPACE"," ",341],"(","!",["T_VARIABLE","$res",341],")",["T_WHITESPACE"," ",341],"{",["T_WHITESPACE","\n                ",341],["T_RETURN","return",342],["T_WHITESPACE"," ",342],["T_ARRAY","array",342],"(",")",";",["T_WHITESPACE","\n            ",342],"}",["T_WHITESPACE","\n            ",343],["T_VARIABLE","$rows",344],["T_WHITESPACE"," ",344],"=",["T_WHITESPACE"," ",344],"@",["T_STRING","sqlite_fetch_all",344],"(",["T_VARIABLE","$res",344],",",["T_WHITESPACE"," ",344],["T_STRING","SQLITE_ASSOC",344],")",";",["T_WHITESPACE","\n            ",344],["T_VARIABLE","$ids2",345],["T_WHITESPACE"," ",345],"=",["T_WHITESPACE"," ",345],["T_ARRAY","array",345],"(",")",";",["T_WHITESPACE","\n            ",345],["T_FOREACH","foreach",346],["T_WHITESPACE"," ",346],"(",["T_VARIABLE","$rows",346],["T_WHITESPACE"," ",346],["T_AS","as",346],["T_WHITESPACE"," ",346],["T_VARIABLE","$row",346],")",["T_WHITESPACE"," ",346],"{",["T_WHITESPACE","\n                ",346],["T_VARIABLE","$ids2",347],"[","]",["T_WHITESPACE"," ",347],"=",["T_WHITESPACE"," ",347],["T_VARIABLE","$row",347],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",347],"]",";",["T_WHITESPACE","\n            ",347],"}",["T_WHITESPACE","\n            ",348],["T_IF","if",349],["T_WHITESPACE"," ",349],"(",["T_VARIABLE","$first",349],")",["T_WHITESPACE"," ",349],"{",["T_WHITESPACE","\n                ",349],["T_VARIABLE","$ids",350],["T_WHITESPACE"," ",350],"=",["T_WHITESPACE"," ",350],["T_VARIABLE","$ids2",350],";",["T_WHITESPACE","\n                ",350],["T_VARIABLE","$first",351],["T_WHITESPACE"," ",351],"=",["T_WHITESPACE"," ",351],["T_STRING","false",351],";",["T_WHITESPACE","\n            ",351],"}",["T_WHITESPACE"," ",352],["T_ELSE","else",352],["T_WHITESPACE"," ",352],"{",["T_WHITESPACE","\n                ",352],["T_VARIABLE","$ids",353],["T_WHITESPACE"," ",353],"=",["T_WHITESPACE"," ",353],["T_STRING","array_merge",353],"(",["T_VARIABLE","$ids",353],",",["T_WHITESPACE"," ",353],["T_VARIABLE","$ids2",353],")",";",["T_WHITESPACE","\n            ",353],"}",["T_WHITESPACE","\n        ",354],"}",["T_WHITESPACE","\n        ",355],["T_VARIABLE","$result",356],["T_WHITESPACE"," ",356],"=",["T_WHITESPACE"," ",356],["T_ARRAY","array",356],"(",")",";",["T_WHITESPACE","\n        ",356],["T_FOREACH","foreach",357],["T_WHITESPACE"," ",357],"(",["T_VARIABLE","$ids",357],["T_WHITESPACE"," ",357],["T_AS","as",357],["T_WHITESPACE"," ",357],["T_VARIABLE","$id",357],")",["T_WHITESPACE"," ",357],"{",["T_WHITESPACE","\n            ",357],["T_VARIABLE","$result",358],"[","]",["T_WHITESPACE"," ",358],"=",["T_WHITESPACE"," ",358],["T_VARIABLE","$id",358],";",["T_WHITESPACE","\n        ",358],"}",["T_WHITESPACE","\n        ",359],["T_RETURN","return",360],["T_WHITESPACE"," ",360],["T_VARIABLE","$result",360],";",["T_WHITESPACE","\n    ",360],"}",["T_WHITESPACE","\n\n    ",361],["T_DOC_COMMENT","\/**\n     * Return the filling percentage of the backend storage\n     *\n     * @throws Zend_Cache_Exception\n     * @return int integer between 0 and 100\n     *\/",363],["T_WHITESPACE","\n    ",368],["T_PUBLIC","public",369],["T_WHITESPACE"," ",369],["T_FUNCTION","function",369],["T_WHITESPACE"," ",369],["T_STRING","getFillingPercentage",369],"(",")",["T_WHITESPACE","\n    ",369],"{",["T_WHITESPACE","\n        ",370],["T_VARIABLE","$dir",371],["T_WHITESPACE"," ",371],"=",["T_WHITESPACE"," ",371],["T_STRING","dirname",371],"(",["T_VARIABLE","$this",371],["T_OBJECT_OPERATOR","->",371],["T_STRING","_options",371],"[",["T_CONSTANT_ENCAPSED_STRING","'cache_db_complete_path'",371],"]",")",";",["T_WHITESPACE","\n        ",371],["T_VARIABLE","$free",372],["T_WHITESPACE"," ",372],"=",["T_WHITESPACE"," ",372],["T_STRING","disk_free_space",372],"(",["T_VARIABLE","$dir",372],")",";",["T_WHITESPACE","\n        ",372],["T_VARIABLE","$total",373],["T_WHITESPACE"," ",373],"=",["T_WHITESPACE"," ",373],["T_STRING","disk_total_space",373],"(",["T_VARIABLE","$dir",373],")",";",["T_WHITESPACE","\n        ",373],["T_IF","if",374],["T_WHITESPACE"," ",374],"(",["T_VARIABLE","$total",374],["T_WHITESPACE"," ",374],["T_IS_EQUAL","==",374],["T_WHITESPACE"," ",374],["T_LNUMBER","0",374],")",["T_WHITESPACE"," ",374],"{",["T_WHITESPACE","\n            ",374],["T_STRING","Zend_Cache",375],["T_DOUBLE_COLON","::",375],["T_STRING","throwException",375],"(",["T_CONSTANT_ENCAPSED_STRING","'can\\'t get disk_total_space'",375],")",";",["T_WHITESPACE","\n        ",375],"}",["T_WHITESPACE"," ",376],["T_ELSE","else",376],["T_WHITESPACE"," ",376],"{",["T_WHITESPACE","\n            ",376],["T_IF","if",377],["T_WHITESPACE"," ",377],"(",["T_VARIABLE","$free",377],["T_WHITESPACE"," ",377],["T_IS_GREATER_OR_EQUAL",">=",377],["T_WHITESPACE"," ",377],["T_VARIABLE","$total",377],")",["T_WHITESPACE"," ",377],"{",["T_WHITESPACE","\n                ",377],["T_RETURN","return",378],["T_WHITESPACE"," ",378],["T_LNUMBER","100",378],";",["T_WHITESPACE","\n            ",378],"}",["T_WHITESPACE","\n            ",379],["T_RETURN","return",380],["T_WHITESPACE"," ",380],"(",["T_INT_CAST","(int)",380],["T_WHITESPACE"," ",380],"(",["T_DNUMBER","100.",380],["T_WHITESPACE"," ",380],"*",["T_WHITESPACE"," ",380],"(",["T_VARIABLE","$total",380],["T_WHITESPACE"," ",380],"-",["T_WHITESPACE"," ",380],["T_VARIABLE","$free",380],")",["T_WHITESPACE"," ",380],"\/",["T_WHITESPACE"," ",380],["T_VARIABLE","$total",380],")",")",";",["T_WHITESPACE","\n        ",380],"}",["T_WHITESPACE","\n    ",381],"}",["T_WHITESPACE","\n\n    ",382],["T_DOC_COMMENT","\/**\n     * Return an array of metadatas for the given cache id\n     *\n     * The array must include these keys :\n     * - expire : the expire timestamp\n     * - tags : a string array of tags\n     * - mtime : timestamp of last modification time\n     *\n     * @param string $id cache id\n     * @return array array of metadatas (false if the cache id is not found)\n     *\/",384],["T_WHITESPACE","\n    ",394],["T_PUBLIC","public",395],["T_WHITESPACE"," ",395],["T_FUNCTION","function",395],["T_WHITESPACE"," ",395],["T_STRING","getMetadatas",395],"(",["T_VARIABLE","$id",395],")",["T_WHITESPACE","\n    ",395],"{",["T_WHITESPACE","\n        ",396],["T_VARIABLE","$tags",397],["T_WHITESPACE"," ",397],"=",["T_WHITESPACE"," ",397],["T_ARRAY","array",397],"(",")",";",["T_WHITESPACE","\n        ",397],["T_VARIABLE","$res",398],["T_WHITESPACE"," ",398],"=",["T_WHITESPACE"," ",398],["T_VARIABLE","$this",398],["T_OBJECT_OPERATOR","->",398],["T_STRING","_query",398],"(","\"",["T_ENCAPSED_AND_WHITESPACE","SELECT name FROM tag WHERE id='",398],["T_VARIABLE","$id",398],["T_ENCAPSED_AND_WHITESPACE","'",398],"\"",")",";",["T_WHITESPACE","\n        ",398],["T_IF","if",399],["T_WHITESPACE"," ",399],"(",["T_VARIABLE","$res",399],")",["T_WHITESPACE"," ",399],"{",["T_WHITESPACE","\n            ",399],["T_VARIABLE","$rows",400],["T_WHITESPACE"," ",400],"=",["T_WHITESPACE"," ",400],"@",["T_STRING","sqlite_fetch_all",400],"(",["T_VARIABLE","$res",400],",",["T_WHITESPACE"," ",400],["T_STRING","SQLITE_ASSOC",400],")",";",["T_WHITESPACE","\n            ",400],["T_FOREACH","foreach",401],["T_WHITESPACE"," ",401],"(",["T_VARIABLE","$rows",401],["T_WHITESPACE"," ",401],["T_AS","as",401],["T_WHITESPACE"," ",401],["T_VARIABLE","$row",401],")",["T_WHITESPACE"," ",401],"{",["T_WHITESPACE","\n                ",401],["T_VARIABLE","$tags",402],"[","]",["T_WHITESPACE"," ",402],"=",["T_WHITESPACE"," ",402],["T_VARIABLE","$row",402],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",402],"]",";",["T_WHITESPACE","\n            ",402],"}",["T_WHITESPACE","\n        ",403],"}",["T_WHITESPACE","\n        ",404],["T_VARIABLE","$this",405],["T_OBJECT_OPERATOR","->",405],["T_STRING","_query",405],"(",["T_CONSTANT_ENCAPSED_STRING","'CREATE TABLE cache (id TEXT PRIMARY KEY, content BLOB, lastModified INTEGER, expire INTEGER)'",405],")",";",["T_WHITESPACE","\n        ",405],["T_VARIABLE","$res",406],["T_WHITESPACE"," ",406],"=",["T_WHITESPACE"," ",406],["T_VARIABLE","$this",406],["T_OBJECT_OPERATOR","->",406],["T_STRING","_query",406],"(","\"",["T_ENCAPSED_AND_WHITESPACE","SELECT lastModified,expire FROM cache WHERE id='",406],["T_VARIABLE","$id",406],["T_ENCAPSED_AND_WHITESPACE","'",406],"\"",")",";",["T_WHITESPACE","\n        ",406],["T_IF","if",407],["T_WHITESPACE"," ",407],"(","!",["T_VARIABLE","$res",407],")",["T_WHITESPACE"," ",407],"{",["T_WHITESPACE","\n            ",407],["T_RETURN","return",408],["T_WHITESPACE"," ",408],["T_STRING","false",408],";",["T_WHITESPACE","\n        ",408],"}",["T_WHITESPACE","\n        ",409],["T_VARIABLE","$row",410],["T_WHITESPACE"," ",410],"=",["T_WHITESPACE"," ",410],"@",["T_STRING","sqlite_fetch_array",410],"(",["T_VARIABLE","$res",410],",",["T_WHITESPACE"," ",410],["T_STRING","SQLITE_ASSOC",410],")",";",["T_WHITESPACE","\n        ",410],["T_RETURN","return",411],["T_WHITESPACE"," ",411],["T_ARRAY","array",411],"(",["T_WHITESPACE","\n            ",411],["T_CONSTANT_ENCAPSED_STRING","'tags'",412],["T_WHITESPACE"," ",412],["T_DOUBLE_ARROW","=>",412],["T_WHITESPACE"," ",412],["T_VARIABLE","$tags",412],",",["T_WHITESPACE","\n            ",412],["T_CONSTANT_ENCAPSED_STRING","'mtime'",413],["T_WHITESPACE"," ",413],["T_DOUBLE_ARROW","=>",413],["T_WHITESPACE"," ",413],["T_VARIABLE","$row",413],"[",["T_CONSTANT_ENCAPSED_STRING","'lastModified'",413],"]",",",["T_WHITESPACE","\n            ",413],["T_CONSTANT_ENCAPSED_STRING","'expire'",414],["T_WHITESPACE"," ",414],["T_DOUBLE_ARROW","=>",414],["T_WHITESPACE"," ",414],["T_VARIABLE","$row",414],"[",["T_CONSTANT_ENCAPSED_STRING","'expire'",414],"]",["T_WHITESPACE","\n        ",414],")",";",["T_WHITESPACE","\n    ",415],"}",["T_WHITESPACE","\n\n    ",416],["T_DOC_COMMENT","\/**\n     * Give (if possible) an extra lifetime to the given cache id\n     *\n     * @param string $id cache id\n     * @param int $extraLifetime\n     * @return boolean true if ok\n     *\/",418],["T_WHITESPACE","\n    ",424],["T_PUBLIC","public",425],["T_WHITESPACE"," ",425],["T_FUNCTION","function",425],["T_WHITESPACE"," ",425],["T_STRING","touch",425],"(",["T_VARIABLE","$id",425],",",["T_WHITESPACE"," ",425],["T_VARIABLE","$extraLifetime",425],")",["T_WHITESPACE","\n    ",425],"{",["T_WHITESPACE","\n        ",426],["T_VARIABLE","$sql",427],["T_WHITESPACE"," ",427],"=",["T_WHITESPACE"," ",427],"\"",["T_ENCAPSED_AND_WHITESPACE","SELECT expire FROM cache WHERE id='",427],["T_VARIABLE","$id",427],["T_ENCAPSED_AND_WHITESPACE","' AND (expire=0 OR expire>",427],"\"",["T_WHITESPACE"," ",427],".",["T_WHITESPACE"," ",427],["T_STRING","time",427],"(",")",["T_WHITESPACE"," ",427],".",["T_WHITESPACE"," ",427],["T_CONSTANT_ENCAPSED_STRING","')'",427],";",["T_WHITESPACE","\n        ",427],["T_VARIABLE","$res",428],["T_WHITESPACE"," ",428],"=",["T_WHITESPACE"," ",428],["T_VARIABLE","$this",428],["T_OBJECT_OPERATOR","->",428],["T_STRING","_query",428],"(",["T_VARIABLE","$sql",428],")",";",["T_WHITESPACE","\n        ",428],["T_IF","if",429],["T_WHITESPACE"," ",429],"(","!",["T_VARIABLE","$res",429],")",["T_WHITESPACE"," ",429],"{",["T_WHITESPACE","\n            ",429],["T_RETURN","return",430],["T_WHITESPACE"," ",430],["T_STRING","false",430],";",["T_WHITESPACE","\n        ",430],"}",["T_WHITESPACE","\n        ",431],["T_VARIABLE","$expire",432],["T_WHITESPACE"," ",432],"=",["T_WHITESPACE"," ",432],"@",["T_STRING","sqlite_fetch_single",432],"(",["T_VARIABLE","$res",432],")",";",["T_WHITESPACE","\n        ",432],["T_VARIABLE","$newExpire",433],["T_WHITESPACE"," ",433],"=",["T_WHITESPACE"," ",433],["T_VARIABLE","$expire",433],["T_WHITESPACE"," ",433],"+",["T_WHITESPACE"," ",433],["T_VARIABLE","$extraLifetime",433],";",["T_WHITESPACE","\n        ",433],["T_VARIABLE","$res",434],["T_WHITESPACE"," ",434],"=",["T_WHITESPACE"," ",434],["T_VARIABLE","$this",434],["T_OBJECT_OPERATOR","->",434],["T_STRING","_query",434],"(",["T_CONSTANT_ENCAPSED_STRING","\"UPDATE cache SET lastModified=\"",434],["T_WHITESPACE"," ",434],".",["T_WHITESPACE"," ",434],["T_STRING","time",434],"(",")",["T_WHITESPACE"," ",434],".",["T_WHITESPACE"," ",434],"\"",["T_ENCAPSED_AND_WHITESPACE",", expire=",434],["T_VARIABLE","$newExpire",434],["T_ENCAPSED_AND_WHITESPACE"," WHERE id='",434],["T_VARIABLE","$id",434],["T_ENCAPSED_AND_WHITESPACE","'",434],"\"",")",";",["T_WHITESPACE","\n        ",434],["T_IF","if",435],["T_WHITESPACE"," ",435],"(",["T_VARIABLE","$res",435],")",["T_WHITESPACE"," ",435],"{",["T_WHITESPACE","\n            ",435],["T_RETURN","return",436],["T_WHITESPACE"," ",436],["T_STRING","true",436],";",["T_WHITESPACE","\n        ",436],"}",["T_WHITESPACE"," ",437],["T_ELSE","else",437],["T_WHITESPACE"," ",437],"{",["T_WHITESPACE","\n            ",437],["T_RETURN","return",438],["T_WHITESPACE"," ",438],["T_STRING","false",438],";",["T_WHITESPACE","\n        ",438],"}",["T_WHITESPACE","\n    ",439],"}",["T_WHITESPACE","\n\n    ",440],["T_DOC_COMMENT","\/**\n     * Return an associative array of capabilities (booleans) of the backend\n     *\n     * The array must include these keys :\n     * - automatic_cleaning (is automating cleaning necessary)\n     * - tags (are tags supported)\n     * - expired_read (is it possible to read expired cache records\n     *                 (for doNotTestCacheValidity option for example))\n     * - priority does the backend deal with priority when saving\n     * - infinite_lifetime (is infinite lifetime can work with this backend)\n     * - get_list (is it possible to get the list of cache ids and the complete list of tags)\n     *\n     * @return array associative of with capabilities\n     *\/",442],["T_WHITESPACE","\n    ",455],["T_PUBLIC","public",456],["T_WHITESPACE"," ",456],["T_FUNCTION","function",456],["T_WHITESPACE"," ",456],["T_STRING","getCapabilities",456],"(",")",["T_WHITESPACE","\n    ",456],"{",["T_WHITESPACE","\n        ",457],["T_RETURN","return",458],["T_WHITESPACE"," ",458],["T_ARRAY","array",458],"(",["T_WHITESPACE","\n            ",458],["T_CONSTANT_ENCAPSED_STRING","'automatic_cleaning'",459],["T_WHITESPACE"," ",459],["T_DOUBLE_ARROW","=>",459],["T_WHITESPACE"," ",459],["T_STRING","true",459],",",["T_WHITESPACE","\n            ",459],["T_CONSTANT_ENCAPSED_STRING","'tags'",460],["T_WHITESPACE"," ",460],["T_DOUBLE_ARROW","=>",460],["T_WHITESPACE"," ",460],["T_STRING","true",460],",",["T_WHITESPACE","\n            ",460],["T_CONSTANT_ENCAPSED_STRING","'expired_read'",461],["T_WHITESPACE"," ",461],["T_DOUBLE_ARROW","=>",461],["T_WHITESPACE"," ",461],["T_STRING","true",461],",",["T_WHITESPACE","\n            ",461],["T_CONSTANT_ENCAPSED_STRING","'priority'",462],["T_WHITESPACE"," ",462],["T_DOUBLE_ARROW","=>",462],["T_WHITESPACE"," ",462],["T_STRING","false",462],",",["T_WHITESPACE","\n            ",462],["T_CONSTANT_ENCAPSED_STRING","'infinite_lifetime'",463],["T_WHITESPACE"," ",463],["T_DOUBLE_ARROW","=>",463],["T_WHITESPACE"," ",463],["T_STRING","true",463],",",["T_WHITESPACE","\n            ",463],["T_CONSTANT_ENCAPSED_STRING","'get_list'",464],["T_WHITESPACE"," ",464],["T_DOUBLE_ARROW","=>",464],["T_WHITESPACE"," ",464],["T_STRING","true",464],["T_WHITESPACE","\n        ",464],")",";",["T_WHITESPACE","\n    ",465],"}",["T_WHITESPACE","\n\n    ",466],["T_DOC_COMMENT","\/**\n     * PUBLIC METHOD FOR UNIT TESTING ONLY !\n     *\n     * Force a cache record to expire\n     *\n     * @param string $id Cache id\n     *\/",468],["T_WHITESPACE","\n    ",474],["T_PUBLIC","public",475],["T_WHITESPACE"," ",475],["T_FUNCTION","function",475],["T_WHITESPACE"," ",475],["T_STRING","___expire",475],"(",["T_VARIABLE","$id",475],")",["T_WHITESPACE","\n    ",475],"{",["T_WHITESPACE","\n        ",476],["T_VARIABLE","$time",477],["T_WHITESPACE"," ",477],"=",["T_WHITESPACE"," ",477],["T_STRING","time",477],"(",")",["T_WHITESPACE"," ",477],"-",["T_WHITESPACE"," ",477],["T_LNUMBER","1",477],";",["T_WHITESPACE","\n        ",477],["T_VARIABLE","$this",478],["T_OBJECT_OPERATOR","->",478],["T_STRING","_query",478],"(","\"",["T_ENCAPSED_AND_WHITESPACE","UPDATE cache SET lastModified=",478],["T_VARIABLE","$time",478],["T_ENCAPSED_AND_WHITESPACE",", expire=",478],["T_VARIABLE","$time",478],["T_ENCAPSED_AND_WHITESPACE"," WHERE id='",478],["T_VARIABLE","$id",478],["T_ENCAPSED_AND_WHITESPACE","'",478],"\"",")",";",["T_WHITESPACE","\n    ",478],"}",["T_WHITESPACE","\n\n    ",479],["T_DOC_COMMENT","\/**\n     * Return the connection resource\n     *\n     * If we are not connected, the connection is made\n     *\n     * @throws Zend_Cache_Exception\n     * @return resource Connection resource\n     *\/",481],["T_WHITESPACE","\n    ",488],["T_PRIVATE","private",489],["T_WHITESPACE"," ",489],["T_FUNCTION","function",489],["T_WHITESPACE"," ",489],["T_STRING","_getConnection",489],"(",")",["T_WHITESPACE","\n    ",489],"{",["T_WHITESPACE","\n        ",490],["T_IF","if",491],["T_WHITESPACE"," ",491],"(",["T_STRING","is_resource",491],"(",["T_VARIABLE","$this",491],["T_OBJECT_OPERATOR","->",491],["T_STRING","_db",491],")",")",["T_WHITESPACE"," ",491],"{",["T_WHITESPACE","\n            ",491],["T_RETURN","return",492],["T_WHITESPACE"," ",492],["T_VARIABLE","$this",492],["T_OBJECT_OPERATOR","->",492],["T_STRING","_db",492],";",["T_WHITESPACE","\n        ",492],"}",["T_WHITESPACE"," ",493],["T_ELSE","else",493],["T_WHITESPACE"," ",493],"{",["T_WHITESPACE","\n            ",493],["T_VARIABLE","$this",494],["T_OBJECT_OPERATOR","->",494],["T_STRING","_db",494],["T_WHITESPACE"," ",494],"=",["T_WHITESPACE"," ",494],"@",["T_STRING","sqlite_open",494],"(",["T_VARIABLE","$this",494],["T_OBJECT_OPERATOR","->",494],["T_STRING","_options",494],"[",["T_CONSTANT_ENCAPSED_STRING","'cache_db_complete_path'",494],"]",")",";",["T_WHITESPACE","\n            ",494],["T_IF","if",495],["T_WHITESPACE"," ",495],"(","!","(",["T_STRING","is_resource",495],"(",["T_VARIABLE","$this",495],["T_OBJECT_OPERATOR","->",495],["T_STRING","_db",495],")",")",")",["T_WHITESPACE"," ",495],"{",["T_WHITESPACE","\n                ",495],["T_STRING","Zend_Cache",496],["T_DOUBLE_COLON","::",496],["T_STRING","throwException",496],"(",["T_CONSTANT_ENCAPSED_STRING","\"Impossible to open \"",496],["T_WHITESPACE"," ",496],".",["T_WHITESPACE"," ",496],["T_VARIABLE","$this",496],["T_OBJECT_OPERATOR","->",496],["T_STRING","_options",496],"[",["T_CONSTANT_ENCAPSED_STRING","'cache_db_complete_path'",496],"]",["T_WHITESPACE"," ",496],".",["T_WHITESPACE"," ",496],["T_CONSTANT_ENCAPSED_STRING","\" cache DB file\"",496],")",";",["T_WHITESPACE","\n            ",496],"}",["T_WHITESPACE","\n            ",497],["T_RETURN","return",498],["T_WHITESPACE"," ",498],["T_VARIABLE","$this",498],["T_OBJECT_OPERATOR","->",498],["T_STRING","_db",498],";",["T_WHITESPACE","\n        ",498],"}",["T_WHITESPACE","\n    ",499],"}",["T_WHITESPACE","\n\n    ",500],["T_DOC_COMMENT","\/**\n     * Execute an SQL query silently\n     *\n     * @param string $query SQL query\n     * @return mixed|false query results\n     *\/",502],["T_WHITESPACE","\n    ",507],["T_PRIVATE","private",508],["T_WHITESPACE"," ",508],["T_FUNCTION","function",508],["T_WHITESPACE"," ",508],["T_STRING","_query",508],"(",["T_VARIABLE","$query",508],")",["T_WHITESPACE","\n    ",508],"{",["T_WHITESPACE","\n        ",509],["T_VARIABLE","$db",510],["T_WHITESPACE"," ",510],"=",["T_WHITESPACE"," ",510],["T_VARIABLE","$this",510],["T_OBJECT_OPERATOR","->",510],["T_STRING","_getConnection",510],"(",")",";",["T_WHITESPACE","\n        ",510],["T_IF","if",511],["T_WHITESPACE"," ",511],"(",["T_STRING","is_resource",511],"(",["T_VARIABLE","$db",511],")",")",["T_WHITESPACE"," ",511],"{",["T_WHITESPACE","\n            ",511],["T_VARIABLE","$res",512],["T_WHITESPACE"," ",512],"=",["T_WHITESPACE"," ",512],"@",["T_STRING","sqlite_query",512],"(",["T_VARIABLE","$db",512],",",["T_WHITESPACE"," ",512],["T_VARIABLE","$query",512],")",";",["T_WHITESPACE","\n            ",512],["T_IF","if",513],["T_WHITESPACE"," ",513],"(",["T_VARIABLE","$res",513],["T_WHITESPACE"," ",513],["T_IS_IDENTICAL","===",513],["T_WHITESPACE"," ",513],["T_STRING","false",513],")",["T_WHITESPACE"," ",513],"{",["T_WHITESPACE","\n                ",513],["T_RETURN","return",514],["T_WHITESPACE"," ",514],["T_STRING","false",514],";",["T_WHITESPACE","\n            ",514],"}",["T_WHITESPACE"," ",515],["T_ELSE","else",515],["T_WHITESPACE"," ",515],"{",["T_WHITESPACE","\n                ",515],["T_RETURN","return",516],["T_WHITESPACE"," ",516],["T_VARIABLE","$res",516],";",["T_WHITESPACE","\n            ",516],"}",["T_WHITESPACE","\n        ",517],"}",["T_WHITESPACE","\n        ",518],["T_RETURN","return",519],["T_WHITESPACE"," ",519],["T_STRING","false",519],";",["T_WHITESPACE","\n    ",519],"}",["T_WHITESPACE","\n\n    ",520],["T_DOC_COMMENT","\/**\n     * Deal with the automatic vacuum process\n     *\n     * @return void\n     *\/",522],["T_WHITESPACE","\n    ",526],["T_PRIVATE","private",527],["T_WHITESPACE"," ",527],["T_FUNCTION","function",527],["T_WHITESPACE"," ",527],["T_STRING","_automaticVacuum",527],"(",")",["T_WHITESPACE","\n    ",527],"{",["T_WHITESPACE","\n        ",528],["T_IF","if",529],["T_WHITESPACE"," ",529],"(",["T_VARIABLE","$this",529],["T_OBJECT_OPERATOR","->",529],["T_STRING","_options",529],"[",["T_CONSTANT_ENCAPSED_STRING","'automatic_vacuum_factor'",529],"]",["T_WHITESPACE"," ",529],">",["T_WHITESPACE"," ",529],["T_LNUMBER","0",529],")",["T_WHITESPACE"," ",529],"{",["T_WHITESPACE","\n            ",529],["T_VARIABLE","$rand",530],["T_WHITESPACE"," ",530],"=",["T_WHITESPACE"," ",530],["T_STRING","rand",530],"(",["T_LNUMBER","1",530],",",["T_WHITESPACE"," ",530],["T_VARIABLE","$this",530],["T_OBJECT_OPERATOR","->",530],["T_STRING","_options",530],"[",["T_CONSTANT_ENCAPSED_STRING","'automatic_vacuum_factor'",530],"]",")",";",["T_WHITESPACE","\n            ",530],["T_IF","if",531],["T_WHITESPACE"," ",531],"(",["T_VARIABLE","$rand",531],["T_WHITESPACE"," ",531],["T_IS_EQUAL","==",531],["T_WHITESPACE"," ",531],["T_LNUMBER","1",531],")",["T_WHITESPACE"," ",531],"{",["T_WHITESPACE","\n                ",531],["T_VARIABLE","$this",532],["T_OBJECT_OPERATOR","->",532],["T_STRING","_query",532],"(",["T_CONSTANT_ENCAPSED_STRING","'VACUUM'",532],")",";",["T_WHITESPACE","\n            ",532],"}",["T_WHITESPACE","\n        ",533],"}",["T_WHITESPACE","\n    ",534],"}",["T_WHITESPACE","\n\n    ",535],["T_DOC_COMMENT","\/**\n     * Register a cache id with the given tag\n     *\n     * @param  string $id  Cache id\n     * @param  string $tag Tag\n     * @return boolean True if no problem\n     *\/",537],["T_WHITESPACE","\n    ",543],["T_PRIVATE","private",544],["T_WHITESPACE"," ",544],["T_FUNCTION","function",544],["T_WHITESPACE"," ",544],["T_STRING","_registerTag",544],"(",["T_VARIABLE","$id",544],",",["T_WHITESPACE"," ",544],["T_VARIABLE","$tag",544],")",["T_WHITESPACE"," ",544],"{",["T_WHITESPACE","\n        ",544],["T_VARIABLE","$res",545],["T_WHITESPACE"," ",545],"=",["T_WHITESPACE"," ",545],["T_VARIABLE","$this",545],["T_OBJECT_OPERATOR","->",545],["T_STRING","_query",545],"(","\"",["T_ENCAPSED_AND_WHITESPACE","DELETE FROM TAG WHERE name='",545],["T_VARIABLE","$tag",545],["T_ENCAPSED_AND_WHITESPACE","' AND id='",545],["T_VARIABLE","$id",545],["T_ENCAPSED_AND_WHITESPACE","'",545],"\"",")",";",["T_WHITESPACE","\n        ",545],["T_VARIABLE","$res",546],["T_WHITESPACE"," ",546],"=",["T_WHITESPACE"," ",546],["T_VARIABLE","$this",546],["T_OBJECT_OPERATOR","->",546],["T_STRING","_query",546],"(","\"",["T_ENCAPSED_AND_WHITESPACE","INSERT INTO tag (name, id) VALUES ('",546],["T_VARIABLE","$tag",546],["T_ENCAPSED_AND_WHITESPACE","', '",546],["T_VARIABLE","$id",546],["T_ENCAPSED_AND_WHITESPACE","')",546],"\"",")",";",["T_WHITESPACE","\n        ",546],["T_IF","if",547],["T_WHITESPACE"," ",547],"(","!",["T_VARIABLE","$res",547],")",["T_WHITESPACE"," ",547],"{",["T_WHITESPACE","\n            ",547],["T_VARIABLE","$this",548],["T_OBJECT_OPERATOR","->",548],["T_STRING","_log",548],"(","\"",["T_ENCAPSED_AND_WHITESPACE","Zend_Cache_Backend_Sqlite::_registerTag() : impossible to register tag=",548],["T_VARIABLE","$tag",548],["T_ENCAPSED_AND_WHITESPACE"," on id=",548],["T_VARIABLE","$id",548],"\"",")",";",["T_WHITESPACE","\n            ",548],["T_RETURN","return",549],["T_WHITESPACE"," ",549],["T_STRING","false",549],";",["T_WHITESPACE","\n        ",549],"}",["T_WHITESPACE","\n        ",550],["T_RETURN","return",551],["T_WHITESPACE"," ",551],["T_STRING","true",551],";",["T_WHITESPACE","\n    ",551],"}",["T_WHITESPACE","\n\n    ",552],["T_DOC_COMMENT","\/**\n     * Build the database structure\n     *\n     * @return false\n     *\/",554],["T_WHITESPACE","\n    ",558],["T_PRIVATE","private",559],["T_WHITESPACE"," ",559],["T_FUNCTION","function",559],["T_WHITESPACE"," ",559],["T_STRING","_buildStructure",559],"(",")",["T_WHITESPACE","\n    ",559],"{",["T_WHITESPACE","\n        ",560],["T_VARIABLE","$this",561],["T_OBJECT_OPERATOR","->",561],["T_STRING","_query",561],"(",["T_CONSTANT_ENCAPSED_STRING","'DROP INDEX tag_id_index'",561],")",";",["T_WHITESPACE","\n        ",561],["T_VARIABLE","$this",562],["T_OBJECT_OPERATOR","->",562],["T_STRING","_query",562],"(",["T_CONSTANT_ENCAPSED_STRING","'DROP INDEX tag_name_index'",562],")",";",["T_WHITESPACE","\n        ",562],["T_VARIABLE","$this",563],["T_OBJECT_OPERATOR","->",563],["T_STRING","_query",563],"(",["T_CONSTANT_ENCAPSED_STRING","'DROP INDEX cache_id_expire_index'",563],")",";",["T_WHITESPACE","\n        ",563],["T_VARIABLE","$this",564],["T_OBJECT_OPERATOR","->",564],["T_STRING","_query",564],"(",["T_CONSTANT_ENCAPSED_STRING","'DROP TABLE version'",564],")",";",["T_WHITESPACE","\n        ",564],["T_VARIABLE","$this",565],["T_OBJECT_OPERATOR","->",565],["T_STRING","_query",565],"(",["T_CONSTANT_ENCAPSED_STRING","'DROP TABLE cache'",565],")",";",["T_WHITESPACE","\n        ",565],["T_VARIABLE","$this",566],["T_OBJECT_OPERATOR","->",566],["T_STRING","_query",566],"(",["T_CONSTANT_ENCAPSED_STRING","'DROP TABLE tag'",566],")",";",["T_WHITESPACE","\n        ",566],["T_VARIABLE","$this",567],["T_OBJECT_OPERATOR","->",567],["T_STRING","_query",567],"(",["T_CONSTANT_ENCAPSED_STRING","'CREATE TABLE version (num INTEGER PRIMARY KEY)'",567],")",";",["T_WHITESPACE","\n        ",567],["T_VARIABLE","$this",568],["T_OBJECT_OPERATOR","->",568],["T_STRING","_query",568],"(",["T_CONSTANT_ENCAPSED_STRING","'CREATE TABLE cache (id TEXT PRIMARY KEY, content BLOB, lastModified INTEGER, expire INTEGER)'",568],")",";",["T_WHITESPACE","\n        ",568],["T_VARIABLE","$this",569],["T_OBJECT_OPERATOR","->",569],["T_STRING","_query",569],"(",["T_CONSTANT_ENCAPSED_STRING","'CREATE TABLE tag (name TEXT, id TEXT)'",569],")",";",["T_WHITESPACE","\n        ",569],["T_VARIABLE","$this",570],["T_OBJECT_OPERATOR","->",570],["T_STRING","_query",570],"(",["T_CONSTANT_ENCAPSED_STRING","'CREATE INDEX tag_id_index ON tag(id)'",570],")",";",["T_WHITESPACE","\n        ",570],["T_VARIABLE","$this",571],["T_OBJECT_OPERATOR","->",571],["T_STRING","_query",571],"(",["T_CONSTANT_ENCAPSED_STRING","'CREATE INDEX tag_name_index ON tag(name)'",571],")",";",["T_WHITESPACE","\n        ",571],["T_VARIABLE","$this",572],["T_OBJECT_OPERATOR","->",572],["T_STRING","_query",572],"(",["T_CONSTANT_ENCAPSED_STRING","'CREATE INDEX cache_id_expire_index ON cache(id, expire)'",572],")",";",["T_WHITESPACE","\n        ",572],["T_VARIABLE","$this",573],["T_OBJECT_OPERATOR","->",573],["T_STRING","_query",573],"(",["T_CONSTANT_ENCAPSED_STRING","'INSERT INTO version (num) VALUES (1)'",573],")",";",["T_WHITESPACE","\n    ",573],"}",["T_WHITESPACE","\n\n    ",574],["T_DOC_COMMENT","\/**\n     * Check if the database structure is ok (with the good version)\n     *\n     * @return boolean True if ok\n     *\/",576],["T_WHITESPACE","\n    ",580],["T_PRIVATE","private",581],["T_WHITESPACE"," ",581],["T_FUNCTION","function",581],["T_WHITESPACE"," ",581],["T_STRING","_checkStructureVersion",581],"(",")",["T_WHITESPACE","\n    ",581],"{",["T_WHITESPACE","\n        ",582],["T_VARIABLE","$result",583],["T_WHITESPACE"," ",583],"=",["T_WHITESPACE"," ",583],["T_VARIABLE","$this",583],["T_OBJECT_OPERATOR","->",583],["T_STRING","_query",583],"(",["T_CONSTANT_ENCAPSED_STRING","\"SELECT num FROM version\"",583],")",";",["T_WHITESPACE","\n        ",583],["T_IF","if",584],["T_WHITESPACE"," ",584],"(","!",["T_VARIABLE","$result",584],")",["T_WHITESPACE"," ",584],["T_RETURN","return",584],["T_WHITESPACE"," ",584],["T_STRING","false",584],";",["T_WHITESPACE","\n        ",584],["T_VARIABLE","$row",585],["T_WHITESPACE"," ",585],"=",["T_WHITESPACE"," ",585],"@",["T_STRING","sqlite_fetch_array",585],"(",["T_VARIABLE","$result",585],")",";",["T_WHITESPACE","\n        ",585],["T_IF","if",586],["T_WHITESPACE"," ",586],"(","!",["T_VARIABLE","$row",586],")",["T_WHITESPACE"," ",586],"{",["T_WHITESPACE","\n            ",586],["T_RETURN","return",587],["T_WHITESPACE"," ",587],["T_STRING","false",587],";",["T_WHITESPACE","\n        ",587],"}",["T_WHITESPACE","\n        ",588],["T_IF","if",589],["T_WHITESPACE"," ",589],"(","(",["T_INT_CAST","(int)",589],["T_WHITESPACE"," ",589],["T_VARIABLE","$row",589],"[",["T_CONSTANT_ENCAPSED_STRING","'num'",589],"]",")",["T_WHITESPACE"," ",589],["T_IS_NOT_EQUAL","!=",589],["T_WHITESPACE"," ",589],["T_LNUMBER","1",589],")",["T_WHITESPACE"," ",589],"{",["T_WHITESPACE","\n            ",589],["T_COMMENT","\/\/ old cache structure\n",590],["T_WHITESPACE","            ",591],["T_VARIABLE","$this",591],["T_OBJECT_OPERATOR","->",591],["T_STRING","_log",591],"(",["T_CONSTANT_ENCAPSED_STRING","'Zend_Cache_Backend_Sqlite::_checkStructureVersion() : old cache structure version detected => the cache is going to be dropped'",591],")",";",["T_WHITESPACE","\n            ",591],["T_RETURN","return",592],["T_WHITESPACE"," ",592],["T_STRING","false",592],";",["T_WHITESPACE","\n        ",592],"}",["T_WHITESPACE","\n        ",593],["T_RETURN","return",594],["T_WHITESPACE"," ",594],["T_STRING","true",594],";",["T_WHITESPACE","\n    ",594],"}",["T_WHITESPACE","\n\n    ",595],["T_DOC_COMMENT","\/**\n     * Clean some cache records\n     *\n     * Available modes are :\n     * Zend_Cache::CLEANING_MODE_ALL (default)    => remove all cache entries ($tags is not used)\n     * Zend_Cache::CLEANING_MODE_OLD              => remove too old cache entries ($tags is not used)\n     * Zend_Cache::CLEANING_MODE_MATCHING_TAG     => remove cache entries matching all given tags\n     *                                               ($tags can be an array of strings or a single string)\n     * Zend_Cache::CLEANING_MODE_NOT_MATCHING_TAG => remove cache entries not {matching one of the given tags}\n     *                                               ($tags can be an array of strings or a single string)\n     * Zend_Cache::CLEANING_MODE_MATCHING_ANY_TAG => remove cache entries matching any given tags\n     *                                               ($tags can be an array of strings or a single string)\n     *\n     * @param  string $mode Clean mode\n     * @param  array  $tags Array of tags\n     * @return boolean True if no problem\n     *\/",597],["T_WHITESPACE","\n    ",613],["T_PRIVATE","private",614],["T_WHITESPACE"," ",614],["T_FUNCTION","function",614],["T_WHITESPACE"," ",614],["T_STRING","_clean",614],"(",["T_VARIABLE","$mode",614],["T_WHITESPACE"," ",614],"=",["T_WHITESPACE"," ",614],["T_STRING","Zend_Cache",614],["T_DOUBLE_COLON","::",614],["T_STRING","CLEANING_MODE_ALL",614],",",["T_WHITESPACE"," ",614],["T_VARIABLE","$tags",614],["T_WHITESPACE"," ",614],"=",["T_WHITESPACE"," ",614],["T_ARRAY","array",614],"(",")",")",["T_WHITESPACE","\n    ",614],"{",["T_WHITESPACE","\n        ",615],["T_SWITCH","switch",616],["T_WHITESPACE"," ",616],"(",["T_VARIABLE","$mode",616],")",["T_WHITESPACE"," ",616],"{",["T_WHITESPACE","\n            ",616],["T_CASE","case",617],["T_WHITESPACE"," ",617],["T_STRING","Zend_Cache",617],["T_DOUBLE_COLON","::",617],["T_STRING","CLEANING_MODE_ALL",617],":",["T_WHITESPACE","\n                ",617],["T_VARIABLE","$res1",618],["T_WHITESPACE"," ",618],"=",["T_WHITESPACE"," ",618],["T_VARIABLE","$this",618],["T_OBJECT_OPERATOR","->",618],["T_STRING","_query",618],"(",["T_CONSTANT_ENCAPSED_STRING","'DELETE FROM cache'",618],")",";",["T_WHITESPACE","\n                ",618],["T_VARIABLE","$res2",619],["T_WHITESPACE"," ",619],"=",["T_WHITESPACE"," ",619],["T_VARIABLE","$this",619],["T_OBJECT_OPERATOR","->",619],["T_STRING","_query",619],"(",["T_CONSTANT_ENCAPSED_STRING","'DELETE FROM tag'",619],")",";",["T_WHITESPACE","\n                ",619],["T_RETURN","return",620],["T_WHITESPACE"," ",620],["T_VARIABLE","$res1",620],["T_WHITESPACE"," ",620],["T_BOOLEAN_AND","&&",620],["T_WHITESPACE"," ",620],["T_VARIABLE","$res2",620],";",["T_WHITESPACE","\n                ",620],["T_BREAK","break",621],";",["T_WHITESPACE","\n            ",621],["T_CASE","case",622],["T_WHITESPACE"," ",622],["T_STRING","Zend_Cache",622],["T_DOUBLE_COLON","::",622],["T_STRING","CLEANING_MODE_OLD",622],":",["T_WHITESPACE","\n                ",622],["T_VARIABLE","$mktime",623],["T_WHITESPACE"," ",623],"=",["T_WHITESPACE"," ",623],["T_STRING","time",623],"(",")",";",["T_WHITESPACE","\n                ",623],["T_VARIABLE","$res1",624],["T_WHITESPACE"," ",624],"=",["T_WHITESPACE"," ",624],["T_VARIABLE","$this",624],["T_OBJECT_OPERATOR","->",624],["T_STRING","_query",624],"(","\"",["T_ENCAPSED_AND_WHITESPACE","DELETE FROM tag WHERE id IN (SELECT id FROM cache WHERE expire>0 AND expire<=",624],["T_VARIABLE","$mktime",624],["T_ENCAPSED_AND_WHITESPACE",")",624],"\"",")",";",["T_WHITESPACE","\n                ",624],["T_VARIABLE","$res2",625],["T_WHITESPACE"," ",625],"=",["T_WHITESPACE"," ",625],["T_VARIABLE","$this",625],["T_OBJECT_OPERATOR","->",625],["T_STRING","_query",625],"(","\"",["T_ENCAPSED_AND_WHITESPACE","DELETE FROM cache WHERE expire>0 AND expire<=",625],["T_VARIABLE","$mktime",625],"\"",")",";",["T_WHITESPACE","\n                ",625],["T_RETURN","return",626],["T_WHITESPACE"," ",626],["T_VARIABLE","$res1",626],["T_WHITESPACE"," ",626],["T_BOOLEAN_AND","&&",626],["T_WHITESPACE"," ",626],["T_VARIABLE","$res2",626],";",["T_WHITESPACE","\n                ",626],["T_BREAK","break",627],";",["T_WHITESPACE","\n            ",627],["T_CASE","case",628],["T_WHITESPACE"," ",628],["T_STRING","Zend_Cache",628],["T_DOUBLE_COLON","::",628],["T_STRING","CLEANING_MODE_MATCHING_TAG",628],":",["T_WHITESPACE","\n                ",628],["T_VARIABLE","$ids",629],["T_WHITESPACE"," ",629],"=",["T_WHITESPACE"," ",629],["T_VARIABLE","$this",629],["T_OBJECT_OPERATOR","->",629],["T_STRING","getIdsMatchingTags",629],"(",["T_VARIABLE","$tags",629],")",";",["T_WHITESPACE","\n                ",629],["T_VARIABLE","$result",630],["T_WHITESPACE"," ",630],"=",["T_WHITESPACE"," ",630],["T_STRING","true",630],";",["T_WHITESPACE","\n                ",630],["T_FOREACH","foreach",631],["T_WHITESPACE"," ",631],"(",["T_VARIABLE","$ids",631],["T_WHITESPACE"," ",631],["T_AS","as",631],["T_WHITESPACE"," ",631],["T_VARIABLE","$id",631],")",["T_WHITESPACE"," ",631],"{",["T_WHITESPACE","\n                    ",631],["T_VARIABLE","$result",632],["T_WHITESPACE"," ",632],"=",["T_WHITESPACE"," ",632],["T_VARIABLE","$this",632],["T_OBJECT_OPERATOR","->",632],["T_STRING","remove",632],"(",["T_VARIABLE","$id",632],")",["T_WHITESPACE"," ",632],["T_BOOLEAN_AND","&&",632],["T_WHITESPACE"," ",632],["T_VARIABLE","$result",632],";",["T_WHITESPACE","\n                ",632],"}",["T_WHITESPACE","\n                ",633],["T_RETURN","return",634],["T_WHITESPACE"," ",634],["T_VARIABLE","$result",634],";",["T_WHITESPACE","\n                ",634],["T_BREAK","break",635],";",["T_WHITESPACE","\n            ",635],["T_CASE","case",636],["T_WHITESPACE"," ",636],["T_STRING","Zend_Cache",636],["T_DOUBLE_COLON","::",636],["T_STRING","CLEANING_MODE_NOT_MATCHING_TAG",636],":",["T_WHITESPACE","\n                ",636],["T_VARIABLE","$ids",637],["T_WHITESPACE"," ",637],"=",["T_WHITESPACE"," ",637],["T_VARIABLE","$this",637],["T_OBJECT_OPERATOR","->",637],["T_STRING","getIdsNotMatchingTags",637],"(",["T_VARIABLE","$tags",637],")",";",["T_WHITESPACE","\n                ",637],["T_VARIABLE","$result",638],["T_WHITESPACE"," ",638],"=",["T_WHITESPACE"," ",638],["T_STRING","true",638],";",["T_WHITESPACE","\n                ",638],["T_FOREACH","foreach",639],["T_WHITESPACE"," ",639],"(",["T_VARIABLE","$ids",639],["T_WHITESPACE"," ",639],["T_AS","as",639],["T_WHITESPACE"," ",639],["T_VARIABLE","$id",639],")",["T_WHITESPACE"," ",639],"{",["T_WHITESPACE","\n                    ",639],["T_VARIABLE","$result",640],["T_WHITESPACE"," ",640],"=",["T_WHITESPACE"," ",640],["T_VARIABLE","$this",640],["T_OBJECT_OPERATOR","->",640],["T_STRING","remove",640],"(",["T_VARIABLE","$id",640],")",["T_WHITESPACE"," ",640],["T_BOOLEAN_AND","&&",640],["T_WHITESPACE"," ",640],["T_VARIABLE","$result",640],";",["T_WHITESPACE","\n                ",640],"}",["T_WHITESPACE","\n                ",641],["T_RETURN","return",642],["T_WHITESPACE"," ",642],["T_VARIABLE","$result",642],";",["T_WHITESPACE","\n                ",642],["T_BREAK","break",643],";",["T_WHITESPACE","\n            ",643],["T_CASE","case",644],["T_WHITESPACE"," ",644],["T_STRING","Zend_Cache",644],["T_DOUBLE_COLON","::",644],["T_STRING","CLEANING_MODE_MATCHING_ANY_TAG",644],":",["T_WHITESPACE","\n                ",644],["T_VARIABLE","$ids",645],["T_WHITESPACE"," ",645],"=",["T_WHITESPACE"," ",645],["T_VARIABLE","$this",645],["T_OBJECT_OPERATOR","->",645],["T_STRING","getIdsMatchingAnyTags",645],"(",["T_VARIABLE","$tags",645],")",";",["T_WHITESPACE","\n                ",645],["T_VARIABLE","$result",646],["T_WHITESPACE"," ",646],"=",["T_WHITESPACE"," ",646],["T_STRING","true",646],";",["T_WHITESPACE","\n                ",646],["T_FOREACH","foreach",647],["T_WHITESPACE"," ",647],"(",["T_VARIABLE","$ids",647],["T_WHITESPACE"," ",647],["T_AS","as",647],["T_WHITESPACE"," ",647],["T_VARIABLE","$id",647],")",["T_WHITESPACE"," ",647],"{",["T_WHITESPACE","\n                    ",647],["T_VARIABLE","$result",648],["T_WHITESPACE"," ",648],"=",["T_WHITESPACE"," ",648],["T_VARIABLE","$this",648],["T_OBJECT_OPERATOR","->",648],["T_STRING","remove",648],"(",["T_VARIABLE","$id",648],")",["T_WHITESPACE"," ",648],["T_BOOLEAN_AND","&&",648],["T_WHITESPACE"," ",648],["T_VARIABLE","$result",648],";",["T_WHITESPACE","\n                ",648],"}",["T_WHITESPACE","\n                ",649],["T_RETURN","return",650],["T_WHITESPACE"," ",650],["T_VARIABLE","$result",650],";",["T_WHITESPACE","\n                ",650],["T_BREAK","break",651],";",["T_WHITESPACE","\n            ",651],["T_DEFAULT","default",652],":",["T_WHITESPACE","\n                ",652],["T_BREAK","break",653],";",["T_WHITESPACE","\n        ",653],"}",["T_WHITESPACE","\n        ",654],["T_RETURN","return",655],["T_WHITESPACE"," ",655],["T_STRING","false",655],";",["T_WHITESPACE","\n    ",655],"}",["T_WHITESPACE","\n\n    ",656],["T_DOC_COMMENT","\/**\n     * Check if the database structure is ok (with the good version), if no : build it\n     *\n     * @throws Zend_Cache_Exception\n     * @return boolean True if ok\n     *\/",658],["T_WHITESPACE","\n    ",663],["T_PRIVATE","private",664],["T_WHITESPACE"," ",664],["T_FUNCTION","function",664],["T_WHITESPACE"," ",664],["T_STRING","_checkAndBuildStructure",664],"(",")",["T_WHITESPACE","\n    ",664],"{",["T_WHITESPACE","\n        ",665],["T_IF","if",666],["T_WHITESPACE"," ",666],"(","!","(",["T_VARIABLE","$this",666],["T_OBJECT_OPERATOR","->",666],["T_STRING","_structureChecked",666],")",")",["T_WHITESPACE"," ",666],"{",["T_WHITESPACE","\n            ",666],["T_IF","if",667],["T_WHITESPACE"," ",667],"(","!",["T_VARIABLE","$this",667],["T_OBJECT_OPERATOR","->",667],["T_STRING","_checkStructureVersion",667],"(",")",")",["T_WHITESPACE"," ",667],"{",["T_WHITESPACE","\n                ",667],["T_VARIABLE","$this",668],["T_OBJECT_OPERATOR","->",668],["T_STRING","_buildStructure",668],"(",")",";",["T_WHITESPACE","\n                ",668],["T_IF","if",669],["T_WHITESPACE"," ",669],"(","!",["T_VARIABLE","$this",669],["T_OBJECT_OPERATOR","->",669],["T_STRING","_checkStructureVersion",669],"(",")",")",["T_WHITESPACE"," ",669],"{",["T_WHITESPACE","\n                    ",669],["T_STRING","Zend_Cache",670],["T_DOUBLE_COLON","::",670],["T_STRING","throwException",670],"(",["T_CONSTANT_ENCAPSED_STRING","\"Impossible to build cache structure in \"",670],["T_WHITESPACE"," ",670],".",["T_WHITESPACE"," ",670],["T_VARIABLE","$this",670],["T_OBJECT_OPERATOR","->",670],["T_STRING","_options",670],"[",["T_CONSTANT_ENCAPSED_STRING","'cache_db_complete_path'",670],"]",")",";",["T_WHITESPACE","\n                ",670],"}",["T_WHITESPACE","\n            ",671],"}",["T_WHITESPACE","\n            ",672],["T_VARIABLE","$this",673],["T_OBJECT_OPERATOR","->",673],["T_STRING","_structureChecked",673],["T_WHITESPACE"," ",673],"=",["T_WHITESPACE"," ",673],["T_STRING","true",673],";",["T_WHITESPACE","\n        ",673],"}",["T_WHITESPACE","\n        ",674],["T_RETURN","return",675],["T_WHITESPACE"," ",675],["T_STRING","true",675],";",["T_WHITESPACE","\n    ",675],"}",["T_WHITESPACE","\n\n",676],"}",["T_WHITESPACE","\n",678]]