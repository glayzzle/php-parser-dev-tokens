[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Zend Framework\n *\n * LICENSE\n *\n * This source file is subject to the new BSD license that is bundled\n * with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/framework.zend.com\/license\/new-bsd\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@zend.com so we can send you a copy immediately.\n *\n * @category   Zend\n * @package    Zend_Cache\n * @subpackage Zend_Cache_Backend\n * @copyright  Copyright (c) 2005-2015 Zend Technologies USA Inc. (http:\/\/www.zend.com)\n * @license    http:\/\/framework.zend.com\/license\/new-bsd     New BSD License\n * @version    $Id$\n *\/",2],["T_WHITESPACE","\n\n",21],["T_DOC_COMMENT","\/**\n * @see Zend_Cache_Backend_Interface\n *\/",23],["T_WHITESPACE","\n",25],["T_COMMENT","#require_once 'Zend\/Cache\/Backend.php';\n",26],["T_WHITESPACE","\n",27],["T_DOC_COMMENT","\/**\n * @see Zend_Cache_Backend_Interface\n *\/",28],["T_WHITESPACE","\n",30],["T_COMMENT","#require_once 'Zend\/Cache\/Backend\/Interface.php';\n",31],["T_WHITESPACE","\n\n",32],["T_DOC_COMMENT","\/**\n * Impementation of Zend Cache Backend using the Zend Platform (Output Content Caching)\n *\n * @package    Zend_Cache\n * @subpackage Zend_Cache_Backend\n * @copyright  Copyright (c) 2005-2015 Zend Technologies USA Inc. (http:\/\/www.zend.com)\n * @license    http:\/\/framework.zend.com\/license\/new-bsd     New BSD License\n *\/",34],["T_WHITESPACE","\n",41],["T_CLASS","class",42],["T_WHITESPACE"," ",42],["T_STRING","Zend_Cache_Backend_ZendPlatform",42],["T_WHITESPACE"," ",42],["T_EXTENDS","extends",42],["T_WHITESPACE"," ",42],["T_STRING","Zend_Cache_Backend",42],["T_WHITESPACE"," ",42],["T_IMPLEMENTS","implements",42],["T_WHITESPACE"," ",42],["T_STRING","Zend_Cache_Backend_Interface",42],["T_WHITESPACE","\n",42],"{",["T_WHITESPACE","\n    ",43],["T_DOC_COMMENT","\/**\n     * internal ZP prefix\n     *\/",44],["T_WHITESPACE","\n    ",46],["T_CONST","const",47],["T_WHITESPACE"," ",47],["T_STRING","TAGS_PREFIX",47],["T_WHITESPACE"," ",47],"=",["T_WHITESPACE"," ",47],["T_CONSTANT_ENCAPSED_STRING","\"internal_ZPtag:\"",47],";",["T_WHITESPACE","\n\n    ",47],["T_DOC_COMMENT","\/**\n     * Constructor\n     * Validate that the Zend Platform is loaded and licensed\n     *\n     * @param  array $options Associative array of options\n     * @throws Zend_Cache_Exception\n     * @return void\n     *\/",49],["T_WHITESPACE","\n    ",56],["T_PUBLIC","public",57],["T_WHITESPACE"," ",57],["T_FUNCTION","function",57],["T_WHITESPACE"," ",57],["T_STRING","__construct",57],"(",["T_ARRAY","array",57],["T_WHITESPACE"," ",57],["T_VARIABLE","$options",57],["T_WHITESPACE"," ",57],"=",["T_WHITESPACE"," ",57],["T_ARRAY","array",57],"(",")",")",["T_WHITESPACE","\n    ",57],"{",["T_WHITESPACE","\n        ",58],["T_IF","if",59],["T_WHITESPACE"," ",59],"(","!",["T_STRING","function_exists",59],"(",["T_CONSTANT_ENCAPSED_STRING","'accelerator_license_info'",59],")",")",["T_WHITESPACE"," ",59],"{",["T_WHITESPACE","\n            ",59],["T_STRING","Zend_Cache",60],["T_DOUBLE_COLON","::",60],["T_STRING","throwException",60],"(",["T_CONSTANT_ENCAPSED_STRING","'The Zend Platform extension must be loaded for using this backend !'",60],")",";",["T_WHITESPACE","\n        ",60],"}",["T_WHITESPACE","\n        ",61],["T_IF","if",62],["T_WHITESPACE"," ",62],"(","!",["T_STRING","function_exists",62],"(",["T_CONSTANT_ENCAPSED_STRING","'accelerator_get_configuration'",62],")",")",["T_WHITESPACE"," ",62],"{",["T_WHITESPACE","\n            ",62],["T_VARIABLE","$licenseInfo",63],["T_WHITESPACE"," ",63],"=",["T_WHITESPACE"," ",63],["T_STRING","accelerator_license_info",63],"(",")",";",["T_WHITESPACE","\n            ",63],["T_STRING","Zend_Cache",64],["T_DOUBLE_COLON","::",64],["T_STRING","throwException",64],"(",["T_CONSTANT_ENCAPSED_STRING","'The Zend Platform extension is not loaded correctly: '",64],".",["T_VARIABLE","$licenseInfo",64],"[",["T_CONSTANT_ENCAPSED_STRING","'failure_reason'",64],"]",")",";",["T_WHITESPACE","\n        ",64],"}",["T_WHITESPACE","\n        ",65],["T_VARIABLE","$accConf",66],["T_WHITESPACE"," ",66],"=",["T_WHITESPACE"," ",66],["T_STRING","accelerator_get_configuration",66],"(",")",";",["T_WHITESPACE","\n        ",66],["T_IF","if",67],["T_WHITESPACE"," ",67],"(","@","!",["T_VARIABLE","$accConf",67],"[",["T_CONSTANT_ENCAPSED_STRING","'output_cache_licensed'",67],"]",")",["T_WHITESPACE"," ",67],"{",["T_WHITESPACE","\n            ",67],["T_STRING","Zend_Cache",68],["T_DOUBLE_COLON","::",68],["T_STRING","throwException",68],"(",["T_CONSTANT_ENCAPSED_STRING","'The Zend Platform extension does not have the proper license to use content caching features'",68],")",";",["T_WHITESPACE","\n        ",68],"}",["T_WHITESPACE","\n        ",69],["T_IF","if",70],["T_WHITESPACE"," ",70],"(","@","!",["T_VARIABLE","$accConf",70],"[",["T_CONSTANT_ENCAPSED_STRING","'output_cache_enabled'",70],"]",")",["T_WHITESPACE"," ",70],"{",["T_WHITESPACE","\n            ",70],["T_STRING","Zend_Cache",71],["T_DOUBLE_COLON","::",71],["T_STRING","throwException",71],"(",["T_CONSTANT_ENCAPSED_STRING","'The Zend Platform content caching feature must be enabled for using this backend, set the \\'zend_accelerator.output_cache_enabled\\' directive to On !'",71],")",";",["T_WHITESPACE","\n        ",71],"}",["T_WHITESPACE","\n        ",72],["T_IF","if",73],["T_WHITESPACE"," ",73],"(","!",["T_STRING","is_writable",73],"(",["T_VARIABLE","$accConf",73],"[",["T_CONSTANT_ENCAPSED_STRING","'output_cache_dir'",73],"]",")",")",["T_WHITESPACE"," ",73],"{",["T_WHITESPACE","\n            ",73],["T_STRING","Zend_Cache",74],["T_DOUBLE_COLON","::",74],["T_STRING","throwException",74],"(",["T_CONSTANT_ENCAPSED_STRING","'The cache copies directory \\''",74],".",["T_WHITESPACE"," ",74],["T_STRING","ini_get",74],"(",["T_CONSTANT_ENCAPSED_STRING","'zend_accelerator.output_cache_dir'",74],")",["T_WHITESPACE"," ",74],".",["T_CONSTANT_ENCAPSED_STRING","'\\' must be writable !'",74],")",";",["T_WHITESPACE","\n        ",74],"}",["T_WHITESPACE","\n        ",75],["T_STRING","parent",76],["T_DOUBLE_COLON","::",76],["T_WHITESPACE"," ",76],["T_STRING","__construct",76],"(",["T_VARIABLE","$options",76],")",";",["T_WHITESPACE","\n    ",76],"}",["T_WHITESPACE","\n\n    ",77],["T_DOC_COMMENT","\/**\n     * Test if a cache is available for the given id and (if yes) return it (false else)\n     *\n     * @param  string  $id                     Cache id\n     * @param  boolean $doNotTestCacheValidity If set to true, the cache validity won't be tested\n     * @return string Cached data (or false)\n     *\/",79],["T_WHITESPACE","\n    ",85],["T_PUBLIC","public",86],["T_WHITESPACE"," ",86],["T_FUNCTION","function",86],["T_WHITESPACE"," ",86],["T_STRING","load",86],"(",["T_VARIABLE","$id",86],",",["T_WHITESPACE"," ",86],["T_VARIABLE","$doNotTestCacheValidity",86],["T_WHITESPACE"," ",86],"=",["T_WHITESPACE"," ",86],["T_STRING","false",86],")",["T_WHITESPACE","\n    ",86],"{",["T_WHITESPACE","\n        ",87],["T_COMMENT","\/\/ doNotTestCacheValidity implemented by giving zero lifetime to the cache\n",88],["T_WHITESPACE","        ",89],["T_IF","if",89],["T_WHITESPACE"," ",89],"(",["T_VARIABLE","$doNotTestCacheValidity",89],")",["T_WHITESPACE"," ",89],"{",["T_WHITESPACE","\n            ",89],["T_VARIABLE","$lifetime",90],["T_WHITESPACE"," ",90],"=",["T_WHITESPACE"," ",90],["T_LNUMBER","0",90],";",["T_WHITESPACE","\n        ",90],"}",["T_WHITESPACE"," ",91],["T_ELSE","else",91],["T_WHITESPACE"," ",91],"{",["T_WHITESPACE","\n            ",91],["T_VARIABLE","$lifetime",92],["T_WHITESPACE"," ",92],"=",["T_WHITESPACE"," ",92],["T_VARIABLE","$this",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","_directives",92],"[",["T_CONSTANT_ENCAPSED_STRING","'lifetime'",92],"]",";",["T_WHITESPACE","\n        ",92],"}",["T_WHITESPACE","\n        ",93],["T_VARIABLE","$res",94],["T_WHITESPACE"," ",94],"=",["T_WHITESPACE"," ",94],["T_STRING","output_cache_get",94],"(",["T_VARIABLE","$id",94],",",["T_WHITESPACE"," ",94],["T_VARIABLE","$lifetime",94],")",";",["T_WHITESPACE","\n        ",94],["T_IF","if",95],"(",["T_VARIABLE","$res",95],")",["T_WHITESPACE"," ",95],"{",["T_WHITESPACE","\n            ",95],["T_RETURN","return",96],["T_WHITESPACE"," ",96],["T_VARIABLE","$res",96],"[",["T_LNUMBER","0",96],"]",";",["T_WHITESPACE","\n        ",96],"}",["T_WHITESPACE"," ",97],["T_ELSE","else",97],["T_WHITESPACE"," ",97],"{",["T_WHITESPACE","\n            ",97],["T_RETURN","return",98],["T_WHITESPACE"," ",98],["T_STRING","false",98],";",["T_WHITESPACE","\n        ",98],"}",["T_WHITESPACE","\n    ",99],"}",["T_WHITESPACE","\n\n\n    ",100],["T_DOC_COMMENT","\/**\n     * Test if a cache is available or not (for the given id)\n     *\n     * @param  string $id Cache id\n     * @return mixed|false false (a cache is not available) or \"last modified\" timestamp (int) of the available cache record\n     *\/",103],["T_WHITESPACE","\n    ",108],["T_PUBLIC","public",109],["T_WHITESPACE"," ",109],["T_FUNCTION","function",109],["T_WHITESPACE"," ",109],["T_STRING","test",109],"(",["T_VARIABLE","$id",109],")",["T_WHITESPACE","\n    ",109],"{",["T_WHITESPACE","\n        ",110],["T_VARIABLE","$result",111],["T_WHITESPACE"," ",111],"=",["T_WHITESPACE"," ",111],["T_STRING","output_cache_get",111],"(",["T_VARIABLE","$id",111],",",["T_WHITESPACE"," ",111],["T_VARIABLE","$this",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","_directives",111],"[",["T_CONSTANT_ENCAPSED_STRING","'lifetime'",111],"]",")",";",["T_WHITESPACE","\n        ",111],["T_IF","if",112],["T_WHITESPACE"," ",112],"(",["T_VARIABLE","$result",112],")",["T_WHITESPACE"," ",112],"{",["T_WHITESPACE","\n            ",112],["T_RETURN","return",113],["T_WHITESPACE"," ",113],["T_VARIABLE","$result",113],"[",["T_LNUMBER","1",113],"]",";",["T_WHITESPACE","\n        ",113],"}",["T_WHITESPACE","\n        ",114],["T_RETURN","return",115],["T_WHITESPACE"," ",115],["T_STRING","false",115],";",["T_WHITESPACE","\n    ",115],"}",["T_WHITESPACE","\n\n    ",116],["T_DOC_COMMENT","\/**\n     * Save some string datas into a cache record\n     *\n     * Note : $data is always \"string\" (serialization is done by the\n     * core not by the backend)\n     *\n     * @param  string $data             Data to cache\n     * @param  string $id               Cache id\n     * @param  array  $tags             Array of strings, the cache record will be tagged by each string entry\n     * @param  int    $specificLifetime If != false, set a specific lifetime for this cache record (null => infinite lifetime)\n     * @return boolean true if no problem\n     *\/",118],["T_WHITESPACE","\n    ",129],["T_PUBLIC","public",130],["T_WHITESPACE"," ",130],["T_FUNCTION","function",130],["T_WHITESPACE"," ",130],["T_STRING","save",130],"(",["T_VARIABLE","$data",130],",",["T_WHITESPACE"," ",130],["T_VARIABLE","$id",130],",",["T_WHITESPACE"," ",130],["T_VARIABLE","$tags",130],["T_WHITESPACE"," ",130],"=",["T_WHITESPACE"," ",130],["T_ARRAY","array",130],"(",")",",",["T_WHITESPACE"," ",130],["T_VARIABLE","$specificLifetime",130],["T_WHITESPACE"," ",130],"=",["T_WHITESPACE"," ",130],["T_STRING","false",130],")",["T_WHITESPACE","\n    ",130],"{",["T_WHITESPACE","\n        ",131],["T_IF","if",132],["T_WHITESPACE"," ",132],"(","!","(",["T_VARIABLE","$specificLifetime",132],["T_WHITESPACE"," ",132],["T_IS_IDENTICAL","===",132],["T_WHITESPACE"," ",132],["T_STRING","false",132],")",")",["T_WHITESPACE"," ",132],"{",["T_WHITESPACE","\n            ",132],["T_VARIABLE","$this",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","_log",133],"(",["T_CONSTANT_ENCAPSED_STRING","\"Zend_Cache_Backend_ZendPlatform::save() : non false specifc lifetime is unsuported for this backend\"",133],")",";",["T_WHITESPACE","\n        ",133],"}",["T_WHITESPACE","\n\n        ",134],["T_VARIABLE","$lifetime",136],["T_WHITESPACE"," ",136],"=",["T_WHITESPACE"," ",136],["T_VARIABLE","$this",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","_directives",136],"[",["T_CONSTANT_ENCAPSED_STRING","'lifetime'",136],"]",";",["T_WHITESPACE","\n        ",136],["T_VARIABLE","$result1",137],["T_WHITESPACE","  ",137],"=",["T_WHITESPACE"," ",137],["T_STRING","output_cache_put",137],"(",["T_VARIABLE","$id",137],",",["T_WHITESPACE"," ",137],["T_ARRAY","array",137],"(",["T_VARIABLE","$data",137],",",["T_WHITESPACE"," ",137],["T_STRING","time",137],"(",")",")",")",";",["T_WHITESPACE","\n        ",137],["T_VARIABLE","$result2",138],["T_WHITESPACE","  ",138],"=",["T_WHITESPACE"," ",138],"(",["T_STRING","count",138],"(",["T_VARIABLE","$tags",138],")",["T_WHITESPACE"," ",138],["T_IS_EQUAL","==",138],["T_WHITESPACE"," ",138],["T_LNUMBER","0",138],")",";",["T_WHITESPACE","\n\n        ",138],["T_FOREACH","foreach",140],["T_WHITESPACE"," ",140],"(",["T_VARIABLE","$tags",140],["T_WHITESPACE"," ",140],["T_AS","as",140],["T_WHITESPACE"," ",140],["T_VARIABLE","$tag",140],")",["T_WHITESPACE"," ",140],"{",["T_WHITESPACE","\n            ",140],["T_VARIABLE","$tagid",141],["T_WHITESPACE"," ",141],"=",["T_WHITESPACE"," ",141],["T_STRING","self",141],["T_DOUBLE_COLON","::",141],["T_STRING","TAGS_PREFIX",141],".",["T_VARIABLE","$tag",141],";",["T_WHITESPACE","\n            ",141],["T_VARIABLE","$old_tags",142],["T_WHITESPACE"," ",142],"=",["T_WHITESPACE"," ",142],["T_STRING","output_cache_get",142],"(",["T_VARIABLE","$tagid",142],",",["T_WHITESPACE"," ",142],["T_VARIABLE","$lifetime",142],")",";",["T_WHITESPACE","\n            ",142],["T_IF","if",143],["T_WHITESPACE"," ",143],"(",["T_VARIABLE","$old_tags",143],["T_WHITESPACE"," ",143],["T_IS_IDENTICAL","===",143],["T_WHITESPACE"," ",143],["T_STRING","false",143],")",["T_WHITESPACE"," ",143],"{",["T_WHITESPACE","\n                ",143],["T_VARIABLE","$old_tags",144],["T_WHITESPACE"," ",144],"=",["T_WHITESPACE"," ",144],["T_ARRAY","array",144],"(",")",";",["T_WHITESPACE","\n            ",144],"}",["T_WHITESPACE","\n            ",145],["T_VARIABLE","$old_tags",146],"[",["T_VARIABLE","$id",146],"]",["T_WHITESPACE"," ",146],"=",["T_WHITESPACE"," ",146],["T_VARIABLE","$id",146],";",["T_WHITESPACE","\n            ",146],["T_STRING","output_cache_remove_key",147],"(",["T_VARIABLE","$tagid",147],")",";",["T_WHITESPACE","\n            ",147],["T_VARIABLE","$result2",148],["T_WHITESPACE"," ",148],"=",["T_WHITESPACE"," ",148],["T_STRING","output_cache_put",148],"(",["T_VARIABLE","$tagid",148],",",["T_WHITESPACE"," ",148],["T_VARIABLE","$old_tags",148],")",";",["T_WHITESPACE","\n        ",148],"}",["T_WHITESPACE","\n\n        ",149],["T_RETURN","return",151],["T_WHITESPACE"," ",151],["T_VARIABLE","$result1",151],["T_WHITESPACE"," ",151],["T_BOOLEAN_AND","&&",151],["T_WHITESPACE"," ",151],["T_VARIABLE","$result2",151],";",["T_WHITESPACE","\n    ",151],"}",["T_WHITESPACE","\n\n\n    ",152],["T_DOC_COMMENT","\/**\n     * Remove a cache record\n     *\n     * @param  string $id Cache id\n     * @return boolean True if no problem\n     *\/",155],["T_WHITESPACE","\n    ",160],["T_PUBLIC","public",161],["T_WHITESPACE"," ",161],["T_FUNCTION","function",161],["T_WHITESPACE"," ",161],["T_STRING","remove",161],"(",["T_VARIABLE","$id",161],")",["T_WHITESPACE","\n    ",161],"{",["T_WHITESPACE","\n        ",162],["T_RETURN","return",163],["T_WHITESPACE"," ",163],["T_STRING","output_cache_remove_key",163],"(",["T_VARIABLE","$id",163],")",";",["T_WHITESPACE","\n    ",163],"}",["T_WHITESPACE","\n\n\n    ",164],["T_DOC_COMMENT","\/**\n     * Clean some cache records\n     *\n     * Available modes are :\n     * Zend_Cache::CLEANING_MODE_ALL (default)    => remove all cache entries ($tags is not used)\n     * Zend_Cache::CLEANING_MODE_OLD              => remove too old cache entries ($tags is not used)\n     *                                               This mode is not supported in this backend\n     * Zend_Cache::CLEANING_MODE_MATCHING_TAG     => remove cache entries matching all given tags\n     *                                               ($tags can be an array of strings or a single string)\n     * Zend_Cache::CLEANING_MODE_NOT_MATCHING_TAG => unsupported\n     * Zend_Cache::CLEANING_MODE_MATCHING_ANY_TAG => remove cache entries matching any given tags\n     *                                               ($tags can be an array of strings or a single string)\n     *\n     * @param  string $mode Clean mode\n     * @param  array  $tags Array of tags\n     * @throws Zend_Cache_Exception\n     * @return boolean True if no problem\n     *\/",167],["T_WHITESPACE","\n    ",184],["T_PUBLIC","public",185],["T_WHITESPACE"," ",185],["T_FUNCTION","function",185],["T_WHITESPACE"," ",185],["T_STRING","clean",185],"(",["T_VARIABLE","$mode",185],["T_WHITESPACE"," ",185],"=",["T_WHITESPACE"," ",185],["T_STRING","Zend_Cache",185],["T_DOUBLE_COLON","::",185],["T_STRING","CLEANING_MODE_ALL",185],",",["T_WHITESPACE"," ",185],["T_VARIABLE","$tags",185],["T_WHITESPACE"," ",185],"=",["T_WHITESPACE"," ",185],["T_ARRAY","array",185],"(",")",")",["T_WHITESPACE","\n    ",185],"{",["T_WHITESPACE","\n        ",186],["T_SWITCH","switch",187],["T_WHITESPACE"," ",187],"(",["T_VARIABLE","$mode",187],")",["T_WHITESPACE"," ",187],"{",["T_WHITESPACE","\n            ",187],["T_CASE","case",188],["T_WHITESPACE"," ",188],["T_STRING","Zend_Cache",188],["T_DOUBLE_COLON","::",188],["T_STRING","CLEANING_MODE_ALL",188],":",["T_WHITESPACE","\n            ",188],["T_CASE","case",189],["T_WHITESPACE"," ",189],["T_STRING","Zend_Cache",189],["T_DOUBLE_COLON","::",189],["T_STRING","CLEANING_MODE_OLD",189],":",["T_WHITESPACE","\n                ",189],["T_VARIABLE","$cache_dir",190],["T_WHITESPACE"," ",190],"=",["T_WHITESPACE"," ",190],["T_STRING","ini_get",190],"(",["T_CONSTANT_ENCAPSED_STRING","'zend_accelerator.output_cache_dir'",190],")",";",["T_WHITESPACE","\n                ",190],["T_IF","if",191],["T_WHITESPACE"," ",191],"(","!",["T_VARIABLE","$cache_dir",191],")",["T_WHITESPACE"," ",191],"{",["T_WHITESPACE","\n                    ",191],["T_RETURN","return",192],["T_WHITESPACE"," ",192],["T_STRING","false",192],";",["T_WHITESPACE","\n                ",192],"}",["T_WHITESPACE","\n                ",193],["T_VARIABLE","$cache_dir",194],["T_WHITESPACE"," ",194],["T_CONCAT_EQUAL",".=",194],["T_WHITESPACE"," ",194],["T_CONSTANT_ENCAPSED_STRING","'\/.php_cache_api\/'",194],";",["T_WHITESPACE","\n                ",194],["T_RETURN","return",195],["T_WHITESPACE"," ",195],["T_VARIABLE","$this",195],["T_OBJECT_OPERATOR","->",195],["T_STRING","_clean",195],"(",["T_VARIABLE","$cache_dir",195],",",["T_WHITESPACE"," ",195],["T_VARIABLE","$mode",195],")",";",["T_WHITESPACE","\n                ",195],["T_BREAK","break",196],";",["T_WHITESPACE","\n            ",196],["T_CASE","case",197],["T_WHITESPACE"," ",197],["T_STRING","Zend_Cache",197],["T_DOUBLE_COLON","::",197],["T_STRING","CLEANING_MODE_MATCHING_TAG",197],":",["T_WHITESPACE","\n                ",197],["T_VARIABLE","$idlist",198],["T_WHITESPACE"," ",198],"=",["T_WHITESPACE"," ",198],["T_STRING","null",198],";",["T_WHITESPACE","\n                ",198],["T_FOREACH","foreach",199],["T_WHITESPACE"," ",199],"(",["T_VARIABLE","$tags",199],["T_WHITESPACE"," ",199],["T_AS","as",199],["T_WHITESPACE"," ",199],["T_VARIABLE","$tag",199],")",["T_WHITESPACE"," ",199],"{",["T_WHITESPACE","\n                    ",199],["T_VARIABLE","$next_idlist",200],["T_WHITESPACE"," ",200],"=",["T_WHITESPACE"," ",200],["T_STRING","output_cache_get",200],"(",["T_STRING","self",200],["T_DOUBLE_COLON","::",200],["T_STRING","TAGS_PREFIX",200],".",["T_VARIABLE","$tag",200],",",["T_WHITESPACE"," ",200],["T_VARIABLE","$this",200],["T_OBJECT_OPERATOR","->",200],["T_STRING","_directives",200],"[",["T_CONSTANT_ENCAPSED_STRING","'lifetime'",200],"]",")",";",["T_WHITESPACE","\n                    ",200],["T_IF","if",201],["T_WHITESPACE"," ",201],"(",["T_VARIABLE","$idlist",201],")",["T_WHITESPACE"," ",201],"{",["T_WHITESPACE","\n                        ",201],["T_VARIABLE","$idlist",202],["T_WHITESPACE"," ",202],"=",["T_WHITESPACE"," ",202],["T_STRING","array_intersect_assoc",202],"(",["T_VARIABLE","$idlist",202],",",["T_WHITESPACE"," ",202],["T_VARIABLE","$next_idlist",202],")",";",["T_WHITESPACE","\n                    ",202],"}",["T_WHITESPACE"," ",203],["T_ELSE","else",203],["T_WHITESPACE"," ",203],"{",["T_WHITESPACE","\n                        ",203],["T_VARIABLE","$idlist",204],["T_WHITESPACE"," ",204],"=",["T_WHITESPACE"," ",204],["T_VARIABLE","$next_idlist",204],";",["T_WHITESPACE","\n                    ",204],"}",["T_WHITESPACE","\n                    ",205],["T_IF","if",206],["T_WHITESPACE"," ",206],"(",["T_STRING","count",206],"(",["T_VARIABLE","$idlist",206],")",["T_WHITESPACE"," ",206],["T_IS_EQUAL","==",206],["T_WHITESPACE"," ",206],["T_LNUMBER","0",206],")",["T_WHITESPACE"," ",206],"{",["T_WHITESPACE","\n                        ",206],["T_COMMENT","\/\/ if ID list is already empty - we may skip checking other IDs\n",207],["T_WHITESPACE","                        ",208],["T_VARIABLE","$idlist",208],["T_WHITESPACE"," ",208],"=",["T_WHITESPACE"," ",208],["T_STRING","null",208],";",["T_WHITESPACE","\n                        ",208],["T_BREAK","break",209],";",["T_WHITESPACE","\n                    ",209],"}",["T_WHITESPACE","\n                ",210],"}",["T_WHITESPACE","\n                ",211],["T_IF","if",212],["T_WHITESPACE"," ",212],"(",["T_VARIABLE","$idlist",212],")",["T_WHITESPACE"," ",212],"{",["T_WHITESPACE","\n                    ",212],["T_FOREACH","foreach",213],["T_WHITESPACE"," ",213],"(",["T_VARIABLE","$idlist",213],["T_WHITESPACE"," ",213],["T_AS","as",213],["T_WHITESPACE"," ",213],["T_VARIABLE","$id",213],")",["T_WHITESPACE"," ",213],"{",["T_WHITESPACE","\n                        ",213],["T_STRING","output_cache_remove_key",214],"(",["T_VARIABLE","$id",214],")",";",["T_WHITESPACE","\n                    ",214],"}",["T_WHITESPACE","\n                ",215],"}",["T_WHITESPACE","\n                ",216],["T_RETURN","return",217],["T_WHITESPACE"," ",217],["T_STRING","true",217],";",["T_WHITESPACE","\n                ",217],["T_BREAK","break",218],";",["T_WHITESPACE","\n            ",218],["T_CASE","case",219],["T_WHITESPACE"," ",219],["T_STRING","Zend_Cache",219],["T_DOUBLE_COLON","::",219],["T_STRING","CLEANING_MODE_NOT_MATCHING_TAG",219],":",["T_WHITESPACE","\n                ",219],["T_VARIABLE","$this",220],["T_OBJECT_OPERATOR","->",220],["T_STRING","_log",220],"(",["T_CONSTANT_ENCAPSED_STRING","\"Zend_Cache_Backend_ZendPlatform::clean() : CLEANING_MODE_NOT_MATCHING_TAG is not supported by the Zend Platform backend\"",220],")",";",["T_WHITESPACE","\n                ",220],["T_RETURN","return",221],["T_WHITESPACE"," ",221],["T_STRING","false",221],";",["T_WHITESPACE","\n                ",221],["T_BREAK","break",222],";",["T_WHITESPACE","\n            ",222],["T_CASE","case",223],["T_WHITESPACE"," ",223],["T_STRING","Zend_Cache",223],["T_DOUBLE_COLON","::",223],["T_STRING","CLEANING_MODE_MATCHING_ANY_TAG",223],":",["T_WHITESPACE","\n                ",223],["T_VARIABLE","$idlist",224],["T_WHITESPACE"," ",224],"=",["T_WHITESPACE"," ",224],["T_STRING","null",224],";",["T_WHITESPACE","\n                ",224],["T_FOREACH","foreach",225],["T_WHITESPACE"," ",225],"(",["T_VARIABLE","$tags",225],["T_WHITESPACE"," ",225],["T_AS","as",225],["T_WHITESPACE"," ",225],["T_VARIABLE","$tag",225],")",["T_WHITESPACE"," ",225],"{",["T_WHITESPACE","\n                    ",225],["T_VARIABLE","$next_idlist",226],["T_WHITESPACE"," ",226],"=",["T_WHITESPACE"," ",226],["T_STRING","output_cache_get",226],"(",["T_STRING","self",226],["T_DOUBLE_COLON","::",226],["T_STRING","TAGS_PREFIX",226],".",["T_VARIABLE","$tag",226],",",["T_WHITESPACE"," ",226],["T_VARIABLE","$this",226],["T_OBJECT_OPERATOR","->",226],["T_STRING","_directives",226],"[",["T_CONSTANT_ENCAPSED_STRING","'lifetime'",226],"]",")",";",["T_WHITESPACE","\n                    ",226],["T_IF","if",227],["T_WHITESPACE"," ",227],"(",["T_VARIABLE","$idlist",227],")",["T_WHITESPACE"," ",227],"{",["T_WHITESPACE","\n                        ",227],["T_VARIABLE","$idlist",228],["T_WHITESPACE"," ",228],"=",["T_WHITESPACE"," ",228],["T_STRING","array_merge_recursive",228],"(",["T_VARIABLE","$idlist",228],",",["T_WHITESPACE"," ",228],["T_VARIABLE","$next_idlist",228],")",";",["T_WHITESPACE","\n                    ",228],"}",["T_WHITESPACE"," ",229],["T_ELSE","else",229],["T_WHITESPACE"," ",229],"{",["T_WHITESPACE","\n                        ",229],["T_VARIABLE","$idlist",230],["T_WHITESPACE"," ",230],"=",["T_WHITESPACE"," ",230],["T_VARIABLE","$next_idlist",230],";",["T_WHITESPACE","\n                    ",230],"}",["T_WHITESPACE","\n                    ",231],["T_IF","if",232],["T_WHITESPACE"," ",232],"(",["T_STRING","count",232],"(",["T_VARIABLE","$idlist",232],")",["T_WHITESPACE"," ",232],["T_IS_EQUAL","==",232],["T_WHITESPACE"," ",232],["T_LNUMBER","0",232],")",["T_WHITESPACE"," ",232],"{",["T_WHITESPACE","\n                        ",232],["T_COMMENT","\/\/ if ID list is already empty - we may skip checking other IDs\n",233],["T_WHITESPACE","                        ",234],["T_VARIABLE","$idlist",234],["T_WHITESPACE"," ",234],"=",["T_WHITESPACE"," ",234],["T_STRING","null",234],";",["T_WHITESPACE","\n                        ",234],["T_BREAK","break",235],";",["T_WHITESPACE","\n                    ",235],"}",["T_WHITESPACE","\n                ",236],"}",["T_WHITESPACE","\n                ",237],["T_IF","if",238],["T_WHITESPACE"," ",238],"(",["T_VARIABLE","$idlist",238],")",["T_WHITESPACE"," ",238],"{",["T_WHITESPACE","\n                    ",238],["T_FOREACH","foreach",239],["T_WHITESPACE"," ",239],"(",["T_VARIABLE","$idlist",239],["T_WHITESPACE"," ",239],["T_AS","as",239],["T_WHITESPACE"," ",239],["T_VARIABLE","$id",239],")",["T_WHITESPACE"," ",239],"{",["T_WHITESPACE","\n                        ",239],["T_STRING","output_cache_remove_key",240],"(",["T_VARIABLE","$id",240],")",";",["T_WHITESPACE","\n                    ",240],"}",["T_WHITESPACE","\n                ",241],"}",["T_WHITESPACE","\n                ",242],["T_RETURN","return",243],["T_WHITESPACE"," ",243],["T_STRING","true",243],";",["T_WHITESPACE","\n                ",243],["T_BREAK","break",244],";",["T_WHITESPACE","\n            ",244],["T_DEFAULT","default",245],":",["T_WHITESPACE","\n                ",245],["T_STRING","Zend_Cache",246],["T_DOUBLE_COLON","::",246],["T_STRING","throwException",246],"(",["T_CONSTANT_ENCAPSED_STRING","'Invalid mode for clean() method'",246],")",";",["T_WHITESPACE","\n                ",246],["T_BREAK","break",247],";",["T_WHITESPACE","\n        ",247],"}",["T_WHITESPACE","\n    ",248],"}",["T_WHITESPACE","\n\n    ",249],["T_DOC_COMMENT","\/**\n     * Clean a directory and recursivly go over it's subdirectories\n     *\n     * Remove all the cached files that need to be cleaned (according to mode and files mtime)\n     *\n     * @param  string $dir  Path of directory ot clean\n     * @param  string $mode The same parameter as in Zend_Cache_Backend_ZendPlatform::clean()\n     * @return boolean True if ok\n     *\/",251],["T_WHITESPACE","\n    ",259],["T_PRIVATE","private",260],["T_WHITESPACE"," ",260],["T_FUNCTION","function",260],["T_WHITESPACE"," ",260],["T_STRING","_clean",260],"(",["T_VARIABLE","$dir",260],",",["T_WHITESPACE"," ",260],["T_VARIABLE","$mode",260],")",["T_WHITESPACE","\n    ",260],"{",["T_WHITESPACE","\n        ",261],["T_VARIABLE","$d",262],["T_WHITESPACE"," ",262],"=",["T_WHITESPACE"," ",262],"@",["T_STRING","dir",262],"(",["T_VARIABLE","$dir",262],")",";",["T_WHITESPACE","\n        ",262],["T_IF","if",263],["T_WHITESPACE"," ",263],"(","!",["T_VARIABLE","$d",263],")",["T_WHITESPACE"," ",263],"{",["T_WHITESPACE","\n            ",263],["T_RETURN","return",264],["T_WHITESPACE"," ",264],["T_STRING","false",264],";",["T_WHITESPACE","\n        ",264],"}",["T_WHITESPACE","\n        ",265],["T_VARIABLE","$result",266],["T_WHITESPACE"," ",266],"=",["T_WHITESPACE"," ",266],["T_STRING","true",266],";",["T_WHITESPACE","\n        ",266],["T_WHILE","while",267],["T_WHITESPACE"," ",267],"(",["T_STRING","false",267],["T_WHITESPACE"," ",267],["T_IS_NOT_IDENTICAL","!==",267],["T_WHITESPACE"," ",267],"(",["T_VARIABLE","$file",267],["T_WHITESPACE"," ",267],"=",["T_WHITESPACE"," ",267],["T_VARIABLE","$d",267],["T_OBJECT_OPERATOR","->",267],["T_STRING","read",267],"(",")",")",")",["T_WHITESPACE"," ",267],"{",["T_WHITESPACE","\n            ",267],["T_IF","if",268],["T_WHITESPACE"," ",268],"(",["T_VARIABLE","$file",268],["T_WHITESPACE"," ",268],["T_IS_EQUAL","==",268],["T_WHITESPACE"," ",268],["T_CONSTANT_ENCAPSED_STRING","'.'",268],["T_WHITESPACE"," ",268],["T_BOOLEAN_OR","||",268],["T_WHITESPACE"," ",268],["T_VARIABLE","$file",268],["T_WHITESPACE"," ",268],["T_IS_EQUAL","==",268],["T_WHITESPACE"," ",268],["T_CONSTANT_ENCAPSED_STRING","'..'",268],")",["T_WHITESPACE"," ",268],"{",["T_WHITESPACE","\n                ",268],["T_CONTINUE","continue",269],";",["T_WHITESPACE","\n            ",269],"}",["T_WHITESPACE","\n            ",270],["T_VARIABLE","$file",271],["T_WHITESPACE"," ",271],"=",["T_WHITESPACE"," ",271],["T_VARIABLE","$d",271],["T_OBJECT_OPERATOR","->",271],["T_STRING","path",271],["T_WHITESPACE"," ",271],".",["T_WHITESPACE"," ",271],["T_VARIABLE","$file",271],";",["T_WHITESPACE","\n            ",271],["T_IF","if",272],["T_WHITESPACE"," ",272],"(",["T_STRING","is_dir",272],"(",["T_VARIABLE","$file",272],")",")",["T_WHITESPACE"," ",272],"{",["T_WHITESPACE","\n                ",272],["T_VARIABLE","$result",273],["T_WHITESPACE"," ",273],"=",["T_WHITESPACE"," ",273],"(",["T_VARIABLE","$this",273],["T_OBJECT_OPERATOR","->",273],["T_STRING","_clean",273],"(",["T_VARIABLE","$file",273],["T_WHITESPACE"," ",273],".",["T_CONSTANT_ENCAPSED_STRING","'\/'",273],",",["T_WHITESPACE"," ",273],["T_VARIABLE","$mode",273],")",")",["T_WHITESPACE"," ",273],["T_BOOLEAN_AND","&&",273],["T_WHITESPACE"," ",273],"(",["T_VARIABLE","$result",273],")",";",["T_WHITESPACE","\n            ",273],"}",["T_WHITESPACE"," ",274],["T_ELSE","else",274],["T_WHITESPACE"," ",274],"{",["T_WHITESPACE","\n                ",274],["T_IF","if",275],["T_WHITESPACE"," ",275],"(",["T_VARIABLE","$mode",275],["T_WHITESPACE"," ",275],["T_IS_EQUAL","==",275],["T_WHITESPACE"," ",275],["T_STRING","Zend_Cache",275],["T_DOUBLE_COLON","::",275],["T_STRING","CLEANING_MODE_ALL",275],")",["T_WHITESPACE"," ",275],"{",["T_WHITESPACE","\n                    ",275],["T_VARIABLE","$result",276],["T_WHITESPACE"," ",276],"=",["T_WHITESPACE"," ",276],"(",["T_VARIABLE","$this",276],["T_OBJECT_OPERATOR","->",276],["T_STRING","_remove",276],"(",["T_VARIABLE","$file",276],")",")",["T_WHITESPACE"," ",276],["T_BOOLEAN_AND","&&",276],["T_WHITESPACE"," ",276],"(",["T_VARIABLE","$result",276],")",";",["T_WHITESPACE","\n                ",276],"}",["T_WHITESPACE"," ",277],["T_ELSE","else",277],["T_WHITESPACE"," ",277],["T_IF","if",277],["T_WHITESPACE"," ",277],"(",["T_VARIABLE","$mode",277],["T_WHITESPACE"," ",277],["T_IS_EQUAL","==",277],["T_WHITESPACE"," ",277],["T_STRING","Zend_Cache",277],["T_DOUBLE_COLON","::",277],["T_STRING","CLEANING_MODE_OLD",277],")",["T_WHITESPACE"," ",277],"{",["T_WHITESPACE","\n                    ",277],["T_COMMENT","\/\/ Files older than lifetime get deleted from cache\n",278],["T_WHITESPACE","                    ",279],["T_IF","if",279],["T_WHITESPACE"," ",279],"(",["T_VARIABLE","$this",279],["T_OBJECT_OPERATOR","->",279],["T_STRING","_directives",279],"[",["T_CONSTANT_ENCAPSED_STRING","'lifetime'",279],"]",["T_WHITESPACE"," ",279],["T_IS_NOT_IDENTICAL","!==",279],["T_WHITESPACE"," ",279],["T_STRING","null",279],")",["T_WHITESPACE"," ",279],"{",["T_WHITESPACE","\n                        ",279],["T_IF","if",280],["T_WHITESPACE"," ",280],"(","(",["T_STRING","time",280],"(",")",["T_WHITESPACE"," ",280],"-",["T_WHITESPACE"," ",280],"@",["T_STRING","filemtime",280],"(",["T_VARIABLE","$file",280],")",")",["T_WHITESPACE"," ",280],">",["T_WHITESPACE"," ",280],["T_VARIABLE","$this",280],["T_OBJECT_OPERATOR","->",280],["T_STRING","_directives",280],"[",["T_CONSTANT_ENCAPSED_STRING","'lifetime'",280],"]",")",["T_WHITESPACE"," ",280],"{",["T_WHITESPACE","\n                            ",280],["T_VARIABLE","$result",281],["T_WHITESPACE"," ",281],"=",["T_WHITESPACE"," ",281],"(",["T_VARIABLE","$this",281],["T_OBJECT_OPERATOR","->",281],["T_STRING","_remove",281],"(",["T_VARIABLE","$file",281],")",")",["T_WHITESPACE"," ",281],["T_BOOLEAN_AND","&&",281],["T_WHITESPACE"," ",281],"(",["T_VARIABLE","$result",281],")",";",["T_WHITESPACE","\n                        ",281],"}",["T_WHITESPACE","\n                    ",282],"}",["T_WHITESPACE","\n                ",283],"}",["T_WHITESPACE","\n            ",284],"}",["T_WHITESPACE","\n        ",285],"}",["T_WHITESPACE","\n        ",286],["T_VARIABLE","$d",287],["T_OBJECT_OPERATOR","->",287],["T_STRING","close",287],"(",")",";",["T_WHITESPACE","\n        ",287],["T_RETURN","return",288],["T_WHITESPACE"," ",288],["T_VARIABLE","$result",288],";",["T_WHITESPACE","\n    ",288],"}",["T_WHITESPACE","\n\n    ",289],["T_DOC_COMMENT","\/**\n     * Remove a file\n     *\n     * If we can't remove the file (because of locks or any problem), we will touch\n     * the file to invalidate it\n     *\n     * @param  string $file Complete file path\n     * @return boolean True if ok\n     *\/",291],["T_WHITESPACE","\n    ",299],["T_PRIVATE","private",300],["T_WHITESPACE"," ",300],["T_FUNCTION","function",300],["T_WHITESPACE"," ",300],["T_STRING","_remove",300],"(",["T_VARIABLE","$file",300],")",["T_WHITESPACE","\n    ",300],"{",["T_WHITESPACE","\n        ",301],["T_IF","if",302],["T_WHITESPACE"," ",302],"(","!","@",["T_STRING","unlink",302],"(",["T_VARIABLE","$file",302],")",")",["T_WHITESPACE"," ",302],"{",["T_WHITESPACE","\n            ",302],["T_COMMENT","# If we can't remove the file (because of locks or any problem), we will touch\n",303],["T_WHITESPACE","            ",304],["T_COMMENT","# the file to invalidate it\n",304],["T_WHITESPACE","            ",305],["T_VARIABLE","$this",305],["T_OBJECT_OPERATOR","->",305],["T_STRING","_log",305],"(","\"",["T_ENCAPSED_AND_WHITESPACE","Zend_Cache_Backend_ZendPlatform::_remove() : we can't remove ",305],["T_VARIABLE","$file",305],["T_ENCAPSED_AND_WHITESPACE"," => we are going to try to invalidate it",305],"\"",")",";",["T_WHITESPACE","\n            ",305],["T_IF","if",306],["T_WHITESPACE"," ",306],"(",["T_VARIABLE","$this",306],["T_OBJECT_OPERATOR","->",306],["T_STRING","_directives",306],"[",["T_CONSTANT_ENCAPSED_STRING","'lifetime'",306],"]",["T_WHITESPACE"," ",306],["T_IS_IDENTICAL","===",306],["T_WHITESPACE"," ",306],["T_STRING","null",306],")",["T_WHITESPACE"," ",306],"{",["T_WHITESPACE","\n                ",306],["T_RETURN","return",307],["T_WHITESPACE"," ",307],["T_STRING","false",307],";",["T_WHITESPACE","\n            ",307],"}",["T_WHITESPACE","\n            ",308],["T_IF","if",309],["T_WHITESPACE"," ",309],"(","!",["T_STRING","file_exists",309],"(",["T_VARIABLE","$file",309],")",")",["T_WHITESPACE"," ",309],"{",["T_WHITESPACE","\n                ",309],["T_RETURN","return",310],["T_WHITESPACE"," ",310],["T_STRING","false",310],";",["T_WHITESPACE","\n            ",310],"}",["T_WHITESPACE","\n            ",311],["T_RETURN","return",312],["T_WHITESPACE"," ",312],"@",["T_STRING","touch",312],"(",["T_VARIABLE","$file",312],",",["T_WHITESPACE"," ",312],["T_STRING","time",312],"(",")",["T_WHITESPACE"," ",312],"-",["T_WHITESPACE"," ",312],["T_LNUMBER","2",312],"*",["T_STRING","abs",312],"(",["T_VARIABLE","$this",312],["T_OBJECT_OPERATOR","->",312],["T_STRING","_directives",312],"[",["T_CONSTANT_ENCAPSED_STRING","'lifetime'",312],"]",")",")",";",["T_WHITESPACE","\n        ",312],"}",["T_WHITESPACE","\n        ",313],["T_RETURN","return",314],["T_WHITESPACE"," ",314],["T_STRING","true",314],";",["T_WHITESPACE","\n    ",314],"}",["T_WHITESPACE","\n\n",315],"}",["T_WHITESPACE","\n",317]]