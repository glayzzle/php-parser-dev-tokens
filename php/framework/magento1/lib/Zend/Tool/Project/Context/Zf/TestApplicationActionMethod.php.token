[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Zend Framework\n *\n * LICENSE\n *\n * This source file is subject to the new BSD license that is bundled\n * with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/framework.zend.com\/license\/new-bsd\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@zend.com so we can send you a copy immediately.\n *\n * @category   Zend\n * @package    Zend_Tool\n * @subpackage Framework\n * @copyright  Copyright (c) 2005-2015 Zend Technologies USA Inc. (http:\/\/www.zend.com)\n * @license    http:\/\/framework.zend.com\/license\/new-bsd     New BSD License\n * @version    $Id: ActionMethod.php 20096 2010-01-06 02:05:09Z bkarwin $\n *\/",2],["T_WHITESPACE","\n\n",21],["T_DOC_COMMENT","\/**\n * @see Zend_Tool_Project_Context_Interface\n *\/",23],["T_WHITESPACE","\n",25],["T_COMMENT","#require_once 'Zend\/Tool\/Project\/Context\/Interface.php';\n",26],["T_WHITESPACE","\n",27],["T_DOC_COMMENT","\/**\n * @see Zend_Reflection_File\n *\/",28],["T_WHITESPACE","\n",30],["T_COMMENT","#require_once 'Zend\/Reflection\/File.php';\n",31],["T_WHITESPACE","\n",32],["T_DOC_COMMENT","\/**\n * This class is the front most class for utilizing Zend_Tool_Project\n *\n * A profile is a hierarchical set of resources that keep track of\n * items within a specific project.\n *\n * @category   Zend\n * @package    Zend_Tool\n * @copyright  Copyright (c) 2005-2015 Zend Technologies USA Inc. (http:\/\/www.zend.com)\n * @license    http:\/\/framework.zend.com\/license\/new-bsd     New BSD License\n *\/",33],["T_WHITESPACE","\n",43],["T_CLASS","class",44],["T_WHITESPACE"," ",44],["T_STRING","Zend_Tool_Project_Context_Zf_TestApplicationActionMethod",44],["T_WHITESPACE"," ",44],["T_IMPLEMENTS","implements",44],["T_WHITESPACE"," ",44],["T_STRING","Zend_Tool_Project_Context_Interface",44],["T_WHITESPACE","\n",44],"{",["T_WHITESPACE","\n\n    ",45],["T_DOC_COMMENT","\/**\n     * @var Zend_Tool_Project_Profile_Resource\n     *\/",47],["T_WHITESPACE","\n    ",49],["T_PROTECTED","protected",50],["T_WHITESPACE"," ",50],["T_VARIABLE","$_resource",50],["T_WHITESPACE"," ",50],"=",["T_WHITESPACE"," ",50],["T_STRING","null",50],";",["T_WHITESPACE","\n\n    ",50],["T_DOC_COMMENT","\/**\n     * @var Zend_Tool_Project_Profile_Resource\n     *\/",52],["T_WHITESPACE","\n    ",54],["T_PROTECTED","protected",55],["T_WHITESPACE"," ",55],["T_VARIABLE","$_testApplicationControllerResource",55],["T_WHITESPACE"," ",55],"=",["T_WHITESPACE"," ",55],["T_STRING","null",55],";",["T_WHITESPACE","\n\n    ",55],["T_DOC_COMMENT","\/**\n     * @var string\n     *\/",57],["T_WHITESPACE","\n    ",59],["T_PROTECTED","protected",60],["T_WHITESPACE"," ",60],["T_VARIABLE","$_testApplicationControllerPath",60],["T_WHITESPACE"," ",60],"=",["T_WHITESPACE"," ",60],["T_CONSTANT_ENCAPSED_STRING","''",60],";",["T_WHITESPACE","\n\n    ",60],["T_DOC_COMMENT","\/**\n     * @var string\n     *\/",62],["T_WHITESPACE","\n    ",64],["T_PROTECTED","protected",65],["T_WHITESPACE"," ",65],["T_VARIABLE","$_forActionName",65],["T_WHITESPACE"," ",65],"=",["T_WHITESPACE"," ",65],["T_STRING","null",65],";",["T_WHITESPACE","\n\n    ",65],["T_DOC_COMMENT","\/**\n     * init()\n     *\n     * @return Zend_Tool_Project_Context_Zf_ActionMethod\n     *\/",67],["T_WHITESPACE","\n    ",71],["T_PUBLIC","public",72],["T_WHITESPACE"," ",72],["T_FUNCTION","function",72],["T_WHITESPACE"," ",72],["T_STRING","init",72],"(",")",["T_WHITESPACE","\n    ",72],"{",["T_WHITESPACE","\n        ",73],["T_VARIABLE","$this",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","_forActionName",74],["T_WHITESPACE"," ",74],"=",["T_WHITESPACE"," ",74],["T_VARIABLE","$this",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","_resource",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","getAttribute",74],"(",["T_CONSTANT_ENCAPSED_STRING","'forActionName'",74],")",";",["T_WHITESPACE","\n\n        ",74],["T_VARIABLE","$this",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","_resource",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","setAppendable",76],"(",["T_STRING","false",76],")",";",["T_WHITESPACE","\n        ",76],["T_VARIABLE","$this",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","_testApplicationControllerResource",77],["T_WHITESPACE"," ",77],"=",["T_WHITESPACE"," ",77],["T_VARIABLE","$this",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","_resource",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","getParentResource",77],"(",")",";",["T_WHITESPACE","\n        ",77],["T_IF","if",78],["T_WHITESPACE"," ",78],"(","!",["T_VARIABLE","$this",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","_testApplicationControllerResource",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","getContext",78],"(",")",["T_WHITESPACE"," ",78],["T_INSTANCEOF","instanceof",78],["T_WHITESPACE"," ",78],["T_STRING","Zend_Tool_Project_Context_Zf_TestApplicationControllerFile",78],")",["T_WHITESPACE"," ",78],"{",["T_WHITESPACE","\n            ",78],["T_COMMENT","#require_once 'Zend\/Tool\/Project\/Context\/Exception.php';\n",79],["T_WHITESPACE","            ",80],["T_THROW","throw",80],["T_WHITESPACE"," ",80],["T_NEW","new",80],["T_WHITESPACE"," ",80],["T_STRING","Zend_Tool_Project_Context_Exception",80],"(",["T_CONSTANT_ENCAPSED_STRING","'ActionMethod must be a sub resource of a TestApplicationControllerFile'",80],")",";",["T_WHITESPACE","\n        ",80],"}",["T_WHITESPACE","\n        ",81],["T_COMMENT","\/\/ make the ControllerFile node appendable so we can tack on the actionMethod.\n",82],["T_WHITESPACE","        ",83],["T_VARIABLE","$this",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","_resource",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","getParentResource",83],"(",")",["T_OBJECT_OPERATOR","->",83],["T_STRING","setAppendable",83],"(",["T_STRING","true",83],")",";",["T_WHITESPACE","\n\n        ",83],["T_VARIABLE","$this",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","_testApplicationControllerPath",85],["T_WHITESPACE"," ",85],"=",["T_WHITESPACE"," ",85],["T_VARIABLE","$this",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","_testApplicationControllerResource",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","getContext",85],"(",")",["T_OBJECT_OPERATOR","->",85],["T_STRING","getPath",85],"(",")",";",["T_WHITESPACE","\n\n        ",85],["T_RETURN","return",87],["T_WHITESPACE"," ",87],["T_VARIABLE","$this",87],";",["T_WHITESPACE","\n    ",87],"}",["T_WHITESPACE","\n\n    ",88],["T_DOC_COMMENT","\/**\n     * getPersistentAttributes\n     *\n     * @return array\n     *\/",90],["T_WHITESPACE","\n    ",94],["T_PUBLIC","public",95],["T_WHITESPACE"," ",95],["T_FUNCTION","function",95],["T_WHITESPACE"," ",95],["T_STRING","getPersistentAttributes",95],"(",")",["T_WHITESPACE","\n    ",95],"{",["T_WHITESPACE","\n        ",96],["T_RETURN","return",97],["T_WHITESPACE"," ",97],["T_ARRAY","array",97],"(",["T_WHITESPACE","\n            ",97],["T_CONSTANT_ENCAPSED_STRING","'forActionName'",98],["T_WHITESPACE"," ",98],["T_DOUBLE_ARROW","=>",98],["T_WHITESPACE"," ",98],["T_VARIABLE","$this",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","getForActionName",98],"(",")",["T_WHITESPACE","\n            ",98],")",";",["T_WHITESPACE","\n    ",99],"}",["T_WHITESPACE","\n\n    ",100],["T_DOC_COMMENT","\/**\n     * getName()\n     *\n     * @return string\n     *\/",102],["T_WHITESPACE","\n    ",106],["T_PUBLIC","public",107],["T_WHITESPACE"," ",107],["T_FUNCTION","function",107],["T_WHITESPACE"," ",107],["T_STRING","getName",107],"(",")",["T_WHITESPACE","\n    ",107],"{",["T_WHITESPACE","\n        ",108],["T_RETURN","return",109],["T_WHITESPACE"," ",109],["T_CONSTANT_ENCAPSED_STRING","'TestApplicationActionMethod'",109],";",["T_WHITESPACE","\n    ",109],"}",["T_WHITESPACE","\n\n    ",110],["T_DOC_COMMENT","\/**\n     * setResource()\n     *\n     * @param Zend_Tool_Project_Profile_Resource $resource\n     * @return Zend_Tool_Project_Context_Zf_ActionMethod\n     *\/",112],["T_WHITESPACE","\n    ",117],["T_PUBLIC","public",118],["T_WHITESPACE"," ",118],["T_FUNCTION","function",118],["T_WHITESPACE"," ",118],["T_STRING","setResource",118],"(",["T_STRING","Zend_Tool_Project_Profile_Resource",118],["T_WHITESPACE"," ",118],["T_VARIABLE","$resource",118],")",["T_WHITESPACE","\n    ",118],"{",["T_WHITESPACE","\n        ",119],["T_VARIABLE","$this",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","_resource",120],["T_WHITESPACE"," ",120],"=",["T_WHITESPACE"," ",120],["T_VARIABLE","$resource",120],";",["T_WHITESPACE","\n        ",120],["T_RETURN","return",121],["T_WHITESPACE"," ",121],["T_VARIABLE","$this",121],";",["T_WHITESPACE","\n    ",121],"}",["T_WHITESPACE","\n\n    ",122],["T_DOC_COMMENT","\/**\n     * getActionName()\n     *\n     * @return string\n     *\/",124],["T_WHITESPACE","\n    ",128],["T_PUBLIC","public",129],["T_WHITESPACE"," ",129],["T_FUNCTION","function",129],["T_WHITESPACE"," ",129],["T_STRING","getForActionName",129],"(",")",["T_WHITESPACE","\n    ",129],"{",["T_WHITESPACE","\n        ",130],["T_RETURN","return",131],["T_WHITESPACE"," ",131],["T_VARIABLE","$this",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","_forActionName",131],";",["T_WHITESPACE","\n    ",131],"}",["T_WHITESPACE","\n\n    ",132],["T_DOC_COMMENT","\/**\n     * create()\n     *\n     * @return Zend_Tool_Project_Context_Zf_ActionMethod\n     *\/",134],["T_WHITESPACE","\n    ",138],["T_PUBLIC","public",139],["T_WHITESPACE"," ",139],["T_FUNCTION","function",139],["T_WHITESPACE"," ",139],["T_STRING","create",139],"(",")",["T_WHITESPACE","\n    ",139],"{",["T_WHITESPACE","\n        ",140],["T_VARIABLE","$file",141],["T_WHITESPACE"," ",141],"=",["T_WHITESPACE"," ",141],["T_VARIABLE","$this",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","_testApplicationControllerPath",141],";",["T_WHITESPACE","\n        \n        ",141],["T_IF","if",143],["T_WHITESPACE"," ",143],"(","!",["T_STRING","file_exists",143],"(",["T_VARIABLE","$file",143],")",")",["T_WHITESPACE"," ",143],"{",["T_WHITESPACE","\n            ",143],["T_COMMENT","#require_once 'Zend\/Tool\/Project\/Context\/Exception.php';\n",144],["T_WHITESPACE","            ",145],["T_THROW","throw",145],["T_WHITESPACE"," ",145],["T_NEW","new",145],["T_WHITESPACE"," ",145],["T_STRING","Zend_Tool_Project_Context_Exception",145],"(",["T_WHITESPACE","\n                ",145],["T_CONSTANT_ENCAPSED_STRING","'Could not create action within test controller '",146],["T_WHITESPACE"," ",146],".",["T_WHITESPACE"," ",146],["T_VARIABLE","$file",146],["T_WHITESPACE","\n                ",146],".",["T_WHITESPACE"," ",147],["T_CONSTANT_ENCAPSED_STRING","' with action name '",147],["T_WHITESPACE"," ",147],".",["T_WHITESPACE"," ",147],["T_VARIABLE","$this",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","_forActionName",147],["T_WHITESPACE","\n                ",147],")",";",["T_WHITESPACE","\n        ",148],"}",["T_WHITESPACE","\n        \n        ",149],["T_VARIABLE","$actionParam",151],["T_WHITESPACE"," ",151],"=",["T_WHITESPACE"," ",151],["T_VARIABLE","$this",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","getForActionName",151],"(",")",";",["T_WHITESPACE","\n        ",151],["T_VARIABLE","$controllerParam",152],["T_WHITESPACE"," ",152],"=",["T_WHITESPACE"," ",152],["T_VARIABLE","$this",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","_resource",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","getParentResource",152],"(",")",["T_OBJECT_OPERATOR","->",152],["T_STRING","getForControllerName",152],"(",")",";",["T_WHITESPACE","\n        ",152],["T_COMMENT","\/\/$moduleParam = null;\/\/\n",153],["T_WHITESPACE","        \n        ",154],["T_COMMENT","\/* @var $controllerDirectoryResource Zend_Tool_Project_Profile_Resource *\/",155],["T_WHITESPACE","\n        ",155],["T_VARIABLE","$controllerDirectoryResource",156],["T_WHITESPACE"," ",156],"=",["T_WHITESPACE"," ",156],["T_VARIABLE","$this",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","_resource",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","getParentResource",156],"(",")",["T_OBJECT_OPERATOR","->",156],["T_STRING","getParentResource",156],"(",")",";",["T_WHITESPACE","\n        ",156],["T_IF","if",157],["T_WHITESPACE"," ",157],"(",["T_VARIABLE","$controllerDirectoryResource",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","getParentResource",157],"(",")",["T_OBJECT_OPERATOR","->",157],["T_STRING","getName",157],"(",")",["T_WHITESPACE"," ",157],["T_IS_EQUAL","==",157],["T_WHITESPACE"," ",157],["T_CONSTANT_ENCAPSED_STRING","'TestApplicationModuleDirectory'",157],")",["T_WHITESPACE"," ",157],"{",["T_WHITESPACE","\n            ",157],["T_VARIABLE","$moduleParam",158],["T_WHITESPACE"," ",158],"=",["T_WHITESPACE"," ",158],["T_VARIABLE","$controllerDirectoryResource",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","getParentResource",158],"(",")",["T_OBJECT_OPERATOR","->",158],["T_STRING","getForModuleName",158],"(",")",";",["T_WHITESPACE","\n        ",158],"}",["T_WHITESPACE"," ",159],["T_ELSE","else",159],["T_WHITESPACE"," ",159],"{",["T_WHITESPACE","\n            ",159],["T_VARIABLE","$moduleParam",160],["T_WHITESPACE"," ",160],"=",["T_WHITESPACE"," ",160],["T_CONSTANT_ENCAPSED_STRING","'default'",160],";",["T_WHITESPACE","\n        ",160],"}",["T_WHITESPACE","\n        \n        \n\n        ",161],["T_IF","if",165],["T_WHITESPACE"," ",165],"(",["T_VARIABLE","$actionParam",165],["T_WHITESPACE"," ",165],["T_IS_EQUAL","==",165],["T_WHITESPACE"," ",165],["T_CONSTANT_ENCAPSED_STRING","'index'",165],["T_WHITESPACE"," ",165],["T_BOOLEAN_AND","&&",165],["T_WHITESPACE"," ",165],["T_VARIABLE","$controllerParam",165],["T_WHITESPACE"," ",165],["T_IS_EQUAL","==",165],["T_WHITESPACE"," ",165],["T_CONSTANT_ENCAPSED_STRING","'Index'",165],["T_WHITESPACE"," ",165],["T_BOOLEAN_AND","&&",165],["T_WHITESPACE"," ",165],["T_VARIABLE","$moduleParam",165],["T_WHITESPACE"," ",165],["T_IS_EQUAL","==",165],["T_WHITESPACE"," ",165],["T_CONSTANT_ENCAPSED_STRING","'default'",165],")",["T_WHITESPACE"," ",165],"{",["T_WHITESPACE","\n            ",165],["T_VARIABLE","$assert",166],["T_WHITESPACE"," ",166],"=",["T_WHITESPACE"," ",166],["T_CONSTANT_ENCAPSED_STRING","'$this->assertQueryContentContains(\"div#welcome h3\", \"This is your project\\'s main page\");'",166],";",["T_WHITESPACE","\n        ",166],"}",["T_WHITESPACE"," ",167],["T_ELSE","else",167],["T_WHITESPACE"," ",167],"{",["T_WHITESPACE","\n            ",167],["T_VARIABLE","$assert",168],["T_WHITESPACE"," ",168],"=",["T_WHITESPACE"," ",168],["T_START_HEREDOC","<<<EOS\n",168],["T_ENCAPSED_AND_WHITESPACE","\\$this->assertQueryContentContains(\n    'div#view-content p',\n    'View script for controller <b>' . \\$params['controller'] . '<\/b> and script\/action name <b>' . \\$params['action'] . '<\/b>'\n    );\n",169],["T_END_HEREDOC","EOS",173],";",["T_WHITESPACE","\n        ",173],"}",["T_WHITESPACE","\n        \n        ",174],["T_VARIABLE","$codeGenFile",176],["T_WHITESPACE"," ",176],"=",["T_WHITESPACE"," ",176],["T_STRING","Zend_CodeGenerator_Php_File",176],["T_DOUBLE_COLON","::",176],["T_STRING","fromReflectedFileName",176],"(",["T_VARIABLE","$file",176],",",["T_WHITESPACE"," ",176],["T_STRING","true",176],",",["T_WHITESPACE"," ",176],["T_STRING","true",176],")",";",["T_WHITESPACE","\n        ",176],["T_VARIABLE","$codeGenFile",177],["T_OBJECT_OPERATOR","->",177],["T_STRING","getClass",177],"(",")",["T_OBJECT_OPERATOR","->",177],["T_STRING","setMethod",177],"(",["T_ARRAY","array",177],"(",["T_WHITESPACE","\n            ",177],["T_CONSTANT_ENCAPSED_STRING","'name'",178],["T_WHITESPACE"," ",178],["T_DOUBLE_ARROW","=>",178],["T_WHITESPACE"," ",178],["T_CONSTANT_ENCAPSED_STRING","'test'",178],["T_WHITESPACE"," ",178],".",["T_WHITESPACE"," ",178],["T_STRING","ucfirst",178],"(",["T_VARIABLE","$actionParam",178],")",["T_WHITESPACE"," ",178],".",["T_WHITESPACE"," ",178],["T_CONSTANT_ENCAPSED_STRING","'Action'",178],",",["T_WHITESPACE","\n            ",178],["T_CONSTANT_ENCAPSED_STRING","'body'",179],["T_WHITESPACE"," ",179],["T_DOUBLE_ARROW","=>",179],["T_WHITESPACE"," ",179],["T_START_HEREDOC","<<<EOS\n",179],["T_ENCAPSED_AND_WHITESPACE","\\$params = array('action' => '",180],["T_VARIABLE","$actionParam",180],["T_ENCAPSED_AND_WHITESPACE","', 'controller' => '",180],["T_VARIABLE","$controllerParam",180],["T_ENCAPSED_AND_WHITESPACE","', 'module' => '",180],["T_VARIABLE","$moduleParam",180],["T_ENCAPSED_AND_WHITESPACE","');\n\\$urlParams = \\$this->urlizeOptions(\\$params);\n\\$url = \\$this->url(\\$urlParams);\n\\$this->dispatch(\\$url);\n\n\/\/ assertions\n\\$this->assertModule(\\$urlParams['module']);\n\\$this->assertController(\\$urlParams['controller']);\n\\$this->assertAction(\\$urlParams['action']);\n",180],["T_VARIABLE","$assert",189],["T_ENCAPSED_AND_WHITESPACE","\n\n",189],["T_END_HEREDOC","EOS",191],["T_WHITESPACE","\n            ",191],")",")",";",["T_WHITESPACE","\n\n        ",192],["T_STRING","file_put_contents",194],"(",["T_VARIABLE","$file",194],",",["T_WHITESPACE"," ",194],["T_VARIABLE","$codeGenFile",194],["T_OBJECT_OPERATOR","->",194],["T_STRING","generate",194],"(",")",")",";",["T_WHITESPACE","\n        \n        ",194],["T_RETURN","return",196],["T_WHITESPACE"," ",196],["T_VARIABLE","$this",196],";",["T_WHITESPACE","\n    ",196],"}",["T_WHITESPACE","\n\n    ",197],["T_DOC_COMMENT","\/**\n     * delete()\n     *\n     * @return Zend_Tool_Project_Context_Zf_ActionMethod\n     *\/",199],["T_WHITESPACE","\n    ",203],["T_PUBLIC","public",204],["T_WHITESPACE"," ",204],["T_FUNCTION","function",204],["T_WHITESPACE"," ",204],["T_STRING","delete",204],"(",")",["T_WHITESPACE","\n    ",204],"{",["T_WHITESPACE","\n        ",205],["T_COMMENT","\/\/ @todo do this\n",206],["T_WHITESPACE","        ",207],["T_RETURN","return",207],["T_WHITESPACE"," ",207],["T_VARIABLE","$this",207],";",["T_WHITESPACE","\n    ",207],"}",["T_WHITESPACE","\n\n    ",208],["T_DOC_COMMENT","\/**\n     * hasActionMethod()\n     *\n     * @param string $controllerPath\n     * @param string $actionName\n     * @return bool\n     *\/",210],["T_WHITESPACE","\n    ",216],["T_COMMENT","\/*\n    public static function hasActionMethod($controllerPath, $actionName)\n    {\n        if (!file_exists($controllerPath)) {\n            return false;\n        }\n\n        $controllerCodeGenFile = Zend_CodeGenerator_Php_File::fromReflectedFileName($controllerPath, true, true);\n        return $controllerCodeGenFile->getClass()->hasMethod('test' . $actionName . 'Action');\n    }\n    *\/",217],["T_WHITESPACE","\n\n",227],"}",["T_WHITESPACE","\n",229]]