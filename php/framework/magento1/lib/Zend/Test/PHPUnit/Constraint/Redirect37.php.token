[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Zend Framework\n *\n * LICENSE\n *\n * This source file is subject to the new BSD license that is bundled\n * with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/framework.zend.com\/license\/new-bsd\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@zend.com so we can send you a copy immediately.\n *\n * @category   Zend\n * @package    Zend_Test\n * @subpackage PHPUnit\n * @copyright  Copyright (c) 2005-2015 Zend Technologies USA Inc. (http:\/\/www.zend.com)\n * @license    http:\/\/framework.zend.com\/license\/new-bsd     New BSD License\n * @version    $Id$\n *\/",2],["T_WHITESPACE","\n\n",21],["T_DOC_COMMENT","\/**\n * Redirection constraints\n *\n * @uses       PHPUnit_Framework_Constraint\n * @category   Zend\n * @package    Zend_Test\n * @subpackage PHPUnit\n * @copyright  Copyright (c) 2005-2015 Zend Technologies USA Inc. (http:\/\/www.zend.com)\n * @license    http:\/\/framework.zend.com\/license\/new-bsd     New BSD License\n *\/",23],["T_WHITESPACE","\n",32],["T_CLASS","class",33],["T_WHITESPACE"," ",33],["T_STRING","Zend_Test_PHPUnit_Constraint_Redirect37",33],["T_WHITESPACE"," ",33],["T_EXTENDS","extends",33],["T_WHITESPACE"," ",33],["T_STRING","PHPUnit_Framework_Constraint",33],["T_WHITESPACE","\n",33],"{",["T_WHITESPACE","\n    ",34],["T_COMMENT","\/**#@+\n     * Assertion type constants\n     *\/",35],["T_WHITESPACE","\n    ",37],["T_CONST","const",38],["T_WHITESPACE"," ",38],["T_STRING","ASSERT_REDIRECT",38],["T_WHITESPACE","       ",38],"=",["T_WHITESPACE"," ",38],["T_CONSTANT_ENCAPSED_STRING","'assertRedirect'",38],";",["T_WHITESPACE","\n    ",38],["T_CONST","const",39],["T_WHITESPACE"," ",39],["T_STRING","ASSERT_REDIRECT_TO",39],["T_WHITESPACE","    ",39],"=",["T_WHITESPACE"," ",39],["T_CONSTANT_ENCAPSED_STRING","'assertRedirectTo'",39],";",["T_WHITESPACE","\n    ",39],["T_CONST","const",40],["T_WHITESPACE"," ",40],["T_STRING","ASSERT_REDIRECT_REGEX",40],["T_WHITESPACE"," ",40],"=",["T_WHITESPACE"," ",40],["T_CONSTANT_ENCAPSED_STRING","'assertRedirectRegex'",40],";",["T_WHITESPACE","\n    ",40],["T_COMMENT","\/**#@-*\/",41],["T_WHITESPACE","\n\n    ",41],["T_DOC_COMMENT","\/**\n     * Current assertion type\n     * @var string\n     *\/",43],["T_WHITESPACE","\n    ",46],["T_PROTECTED","protected",47],["T_WHITESPACE"," ",47],["T_VARIABLE","$_assertType",47],["T_WHITESPACE","      ",47],"=",["T_WHITESPACE"," ",47],["T_STRING","null",47],";",["T_WHITESPACE","\n\n    ",47],["T_DOC_COMMENT","\/**\n     * Available assertion types\n     * @var array\n     *\/",49],["T_WHITESPACE","\n    ",52],["T_PROTECTED","protected",53],["T_WHITESPACE"," ",53],["T_VARIABLE","$_assertTypes",53],["T_WHITESPACE","     ",53],"=",["T_WHITESPACE"," ",53],["T_ARRAY","array",53],"(",["T_WHITESPACE","\n        ",53],["T_STRING","self",54],["T_DOUBLE_COLON","::",54],["T_STRING","ASSERT_REDIRECT",54],",",["T_WHITESPACE","\n        ",54],["T_STRING","self",55],["T_DOUBLE_COLON","::",55],["T_STRING","ASSERT_REDIRECT_TO",55],",",["T_WHITESPACE","\n        ",55],["T_STRING","self",56],["T_DOUBLE_COLON","::",56],["T_STRING","ASSERT_REDIRECT_REGEX",56],",",["T_WHITESPACE","\n    ",56],")",";",["T_WHITESPACE","\n\n    ",57],["T_DOC_COMMENT","\/**\n     * Pattern to match against\n     * @var string\n     *\/",59],["T_WHITESPACE","\n    ",62],["T_PROTECTED","protected",63],["T_WHITESPACE"," ",63],["T_VARIABLE","$_match",63],["T_WHITESPACE","             ",63],"=",["T_WHITESPACE"," ",63],["T_STRING","null",63],";",["T_WHITESPACE","\n    \n    ",63],["T_DOC_COMMENT","\/**\n     * What is actual redirect\n     *\/",65],["T_WHITESPACE","\n    ",67],["T_PROTECTED","protected",68],["T_WHITESPACE"," ",68],["T_VARIABLE","$_actual",68],["T_WHITESPACE","            ",68],"=",["T_WHITESPACE"," ",68],["T_STRING","null",68],";",["T_WHITESPACE","\n\n    ",68],["T_DOC_COMMENT","\/**\n     * Whether or not assertion is negated\n     * @var bool\n     *\/",70],["T_WHITESPACE","\n    ",73],["T_PROTECTED","protected",74],["T_WHITESPACE"," ",74],["T_VARIABLE","$_negate",74],["T_WHITESPACE","            ",74],"=",["T_WHITESPACE"," ",74],["T_STRING","false",74],";",["T_WHITESPACE","\n\n    ",74],["T_DOC_COMMENT","\/**\n     * Constructor; setup constraint state\n     *\n     * @return void\n     *\/",76],["T_WHITESPACE","\n    ",80],["T_PUBLIC","public",81],["T_WHITESPACE"," ",81],["T_FUNCTION","function",81],["T_WHITESPACE"," ",81],["T_STRING","__construct",81],"(",")",["T_WHITESPACE","\n    ",81],"{",["T_WHITESPACE","\n    ",82],"}",["T_WHITESPACE","\n\n    ",83],["T_DOC_COMMENT","\/**\n     * Indicate negative match\n     *\n     * @param  bool $flag\n     * @return void\n     *\/",85],["T_WHITESPACE","\n    ",90],["T_PUBLIC","public",91],["T_WHITESPACE"," ",91],["T_FUNCTION","function",91],["T_WHITESPACE"," ",91],["T_STRING","setNegate",91],"(",["T_VARIABLE","$flag",91],["T_WHITESPACE"," ",91],"=",["T_WHITESPACE"," ",91],["T_STRING","true",91],")",["T_WHITESPACE","\n    ",91],"{",["T_WHITESPACE","\n        ",92],["T_VARIABLE","$this",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","_negate",93],["T_WHITESPACE"," ",93],"=",["T_WHITESPACE"," ",93],["T_VARIABLE","$flag",93],";",["T_WHITESPACE","\n    ",93],"}",["T_WHITESPACE","\n\n    ",94],["T_DOC_COMMENT","\/**\n     * Evaluate an object to see if it fits the constraints\n     *\n     * @param  string $other String to examine\n     * @param  null|string Assertion type\n     * @return bool\n     * NOTE:\n     * Drastic changes up to PHPUnit 3.5.15 this was:\n     *     public function evaluate($other, $assertType = null)\n     * In PHPUnit 3.6.0 they changed the interface into this:\n     *     public function evaluate($other, $description = '', $returnResult = FALSE)\n     * We use the new interface for PHP-strict checking, but emulate the old one\n     *\/",96],["T_WHITESPACE","\n    ",108],["T_PUBLIC","public",109],["T_WHITESPACE"," ",109],["T_FUNCTION","function",109],["T_WHITESPACE"," ",109],["T_STRING","evaluate",109],"(",["T_VARIABLE","$other",109],",",["T_WHITESPACE"," ",109],["T_VARIABLE","$assertType",109],["T_WHITESPACE"," ",109],"=",["T_WHITESPACE"," ",109],["T_STRING","null",109],",",["T_WHITESPACE"," ",109],["T_VARIABLE","$variable",109],["T_WHITESPACE"," ",109],"=",["T_WHITESPACE"," ",109],["T_STRING","FALSE",109],")",["T_WHITESPACE","\n    ",109],"{",["T_WHITESPACE","\n        ",110],["T_IF","if",111],["T_WHITESPACE"," ",111],"(","!",["T_VARIABLE","$other",111],["T_WHITESPACE"," ",111],["T_INSTANCEOF","instanceof",111],["T_WHITESPACE"," ",111],["T_STRING","Zend_Controller_Response_Abstract",111],")",["T_WHITESPACE"," ",111],"{",["T_WHITESPACE","\n            ",111],["T_COMMENT","#require_once 'Zend\/Test\/PHPUnit\/Constraint\/Exception.php';\n",112],["T_WHITESPACE","            ",113],["T_THROW","throw",113],["T_WHITESPACE"," ",113],["T_NEW","new",113],["T_WHITESPACE"," ",113],["T_STRING","Zend_Test_PHPUnit_Constraint_Exception",113],"(",["T_CONSTANT_ENCAPSED_STRING","'Redirect constraint assertions require a response object'",113],")",";",["T_WHITESPACE","\n        ",113],"}",["T_WHITESPACE","\n\n        ",114],["T_IF","if",116],["T_WHITESPACE"," ",116],"(",["T_STRING","strstr",116],"(",["T_VARIABLE","$assertType",116],",",["T_WHITESPACE"," ",116],["T_CONSTANT_ENCAPSED_STRING","'Not'",116],")",")",["T_WHITESPACE"," ",116],"{",["T_WHITESPACE","\n            ",116],["T_VARIABLE","$this",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","setNegate",117],"(",["T_STRING","true",117],")",";",["T_WHITESPACE","\n            ",117],["T_VARIABLE","$assertType",118],["T_WHITESPACE"," ",118],"=",["T_WHITESPACE"," ",118],["T_STRING","str_replace",118],"(",["T_CONSTANT_ENCAPSED_STRING","'Not'",118],",",["T_WHITESPACE"," ",118],["T_CONSTANT_ENCAPSED_STRING","''",118],",",["T_WHITESPACE"," ",118],["T_VARIABLE","$assertType",118],")",";",["T_WHITESPACE","\n        ",118],"}",["T_WHITESPACE","\n\n        ",119],["T_IF","if",121],["T_WHITESPACE"," ",121],"(","!",["T_STRING","in_array",121],"(",["T_VARIABLE","$assertType",121],",",["T_WHITESPACE"," ",121],["T_VARIABLE","$this",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","_assertTypes",121],")",")",["T_WHITESPACE"," ",121],"{",["T_WHITESPACE","\n            ",121],["T_COMMENT","#require_once 'Zend\/Test\/PHPUnit\/Constraint\/Exception.php';\n",122],["T_WHITESPACE","            ",123],["T_THROW","throw",123],["T_WHITESPACE"," ",123],["T_NEW","new",123],["T_WHITESPACE"," ",123],["T_STRING","Zend_Test_PHPUnit_Constraint_Exception",123],"(",["T_STRING","sprintf",123],"(",["T_CONSTANT_ENCAPSED_STRING","'Invalid assertion type \"%s\" provided to %s constraint'",123],",",["T_WHITESPACE"," ",123],["T_VARIABLE","$assertType",123],",",["T_WHITESPACE"," ",123],["T_CLASS_C","__CLASS__",123],")",")",";",["T_WHITESPACE","\n        ",123],"}",["T_WHITESPACE","\n\n        ",124],["T_VARIABLE","$this",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","_assertType",126],["T_WHITESPACE"," ",126],"=",["T_WHITESPACE"," ",126],["T_VARIABLE","$assertType",126],";",["T_WHITESPACE","\n\n        ",126],["T_VARIABLE","$response",128],["T_WHITESPACE"," ",128],"=",["T_WHITESPACE"," ",128],["T_VARIABLE","$other",128],";",["T_WHITESPACE","\n        ",128],["T_VARIABLE","$argv",129],["T_WHITESPACE","     ",129],"=",["T_WHITESPACE"," ",129],["T_STRING","func_get_args",129],"(",")",";",["T_WHITESPACE","\n        ",129],["T_VARIABLE","$argc",130],["T_WHITESPACE","     ",130],"=",["T_WHITESPACE"," ",130],["T_STRING","func_num_args",130],"(",")",";",["T_WHITESPACE","\n\n        ",130],["T_SWITCH","switch",132],["T_WHITESPACE"," ",132],"(",["T_VARIABLE","$assertType",132],")",["T_WHITESPACE"," ",132],"{",["T_WHITESPACE","\n            ",132],["T_CASE","case",133],["T_WHITESPACE"," ",133],["T_STRING","self",133],["T_DOUBLE_COLON","::",133],["T_STRING","ASSERT_REDIRECT_TO",133],":",["T_WHITESPACE","\n                ",133],["T_IF","if",134],["T_WHITESPACE"," ",134],"(",["T_LNUMBER","3",134],["T_WHITESPACE"," ",134],">",["T_WHITESPACE"," ",134],["T_VARIABLE","$argc",134],")",["T_WHITESPACE"," ",134],"{",["T_WHITESPACE","\n                    ",134],["T_COMMENT","#require_once 'Zend\/Test\/PHPUnit\/Constraint\/Exception.php';\n",135],["T_WHITESPACE","                    ",136],["T_THROW","throw",136],["T_WHITESPACE"," ",136],["T_NEW","new",136],["T_WHITESPACE"," ",136],["T_STRING","Zend_Test_PHPUnit_Constraint_Exception",136],"(",["T_CONSTANT_ENCAPSED_STRING","'No redirect URL provided against which to match'",136],")",";",["T_WHITESPACE","\n                ",136],"}",["T_WHITESPACE","\n                ",137],["T_VARIABLE","$this",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","_match",138],["T_WHITESPACE"," ",138],"=",["T_WHITESPACE"," ",138],["T_VARIABLE","$match",138],["T_WHITESPACE"," ",138],"=",["T_WHITESPACE"," ",138],["T_VARIABLE","$argv",138],"[",["T_LNUMBER","2",138],"]",";",["T_WHITESPACE","\n                ",138],["T_RETURN","return",139],["T_WHITESPACE"," ",139],"(",["T_VARIABLE","$this",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","_negate",139],")",["T_WHITESPACE","\n                    ",139],"?",["T_WHITESPACE"," ",140],["T_VARIABLE","$this",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","_notMatch",140],"(",["T_VARIABLE","$response",140],",",["T_WHITESPACE"," ",140],["T_VARIABLE","$match",140],")",["T_WHITESPACE","\n                    ",140],":",["T_WHITESPACE"," ",141],["T_VARIABLE","$this",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","_match",141],"(",["T_VARIABLE","$response",141],",",["T_WHITESPACE"," ",141],["T_VARIABLE","$match",141],")",";",["T_WHITESPACE","\n            ",141],["T_CASE","case",142],["T_WHITESPACE"," ",142],["T_STRING","self",142],["T_DOUBLE_COLON","::",142],["T_STRING","ASSERT_REDIRECT_REGEX",142],":",["T_WHITESPACE","\n                ",142],["T_IF","if",143],["T_WHITESPACE"," ",143],"(",["T_LNUMBER","3",143],["T_WHITESPACE"," ",143],">",["T_WHITESPACE"," ",143],["T_VARIABLE","$argc",143],")",["T_WHITESPACE"," ",143],"{",["T_WHITESPACE","\n                    ",143],["T_COMMENT","#require_once 'Zend\/Test\/PHPUnit\/Constraint\/Exception.php';\n",144],["T_WHITESPACE","                    ",145],["T_THROW","throw",145],["T_WHITESPACE"," ",145],["T_NEW","new",145],["T_WHITESPACE"," ",145],["T_STRING","Zend_Test_PHPUnit_Constraint_Exception",145],"(",["T_CONSTANT_ENCAPSED_STRING","'No pattern provided against which to match redirect'",145],")",";",["T_WHITESPACE","\n                ",145],"}",["T_WHITESPACE","\n                ",146],["T_VARIABLE","$this",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","_match",147],["T_WHITESPACE"," ",147],"=",["T_WHITESPACE"," ",147],["T_VARIABLE","$match",147],["T_WHITESPACE"," ",147],"=",["T_WHITESPACE"," ",147],["T_VARIABLE","$argv",147],"[",["T_LNUMBER","2",147],"]",";",["T_WHITESPACE","\n                ",147],["T_RETURN","return",148],["T_WHITESPACE"," ",148],"(",["T_VARIABLE","$this",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","_negate",148],")",["T_WHITESPACE","\n                    ",148],"?",["T_WHITESPACE"," ",149],["T_VARIABLE","$this",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","_notRegex",149],"(",["T_VARIABLE","$response",149],",",["T_WHITESPACE"," ",149],["T_VARIABLE","$match",149],")",["T_WHITESPACE","\n                    ",149],":",["T_WHITESPACE"," ",150],["T_VARIABLE","$this",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","_regex",150],"(",["T_VARIABLE","$response",150],",",["T_WHITESPACE"," ",150],["T_VARIABLE","$match",150],")",";",["T_WHITESPACE","\n            ",150],["T_CASE","case",151],["T_WHITESPACE"," ",151],["T_STRING","self",151],["T_DOUBLE_COLON","::",151],["T_STRING","ASSERT_REDIRECT",151],":",["T_WHITESPACE","\n            ",151],["T_DEFAULT","default",152],":",["T_WHITESPACE","\n                ",152],["T_VARIABLE","$headers",153],["T_WHITESPACE","  ",153],"=",["T_WHITESPACE"," ",153],["T_VARIABLE","$response",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","sendHeaders",153],"(",")",";",["T_WHITESPACE","\n                ",153],["T_IF","if",154],["T_WHITESPACE"," ",154],"(",["T_ISSET","isset",154],"(",["T_VARIABLE","$headers",154],"[",["T_CONSTANT_ENCAPSED_STRING","'location'",154],"]",")",")",["T_WHITESPACE"," ",154],"{",["T_WHITESPACE","\n                    ",154],["T_VARIABLE","$redirect",155],["T_WHITESPACE"," ",155],"=",["T_WHITESPACE"," ",155],["T_VARIABLE","$headers",155],"[",["T_CONSTANT_ENCAPSED_STRING","'location'",155],"]",";",["T_WHITESPACE","\n                    ",155],["T_VARIABLE","$redirect",156],["T_WHITESPACE"," ",156],"=",["T_WHITESPACE"," ",156],["T_STRING","str_replace",156],"(",["T_CONSTANT_ENCAPSED_STRING","'Location: '",156],",",["T_WHITESPACE"," ",156],["T_CONSTANT_ENCAPSED_STRING","''",156],",",["T_WHITESPACE"," ",156],["T_VARIABLE","$redirect",156],")",";",["T_WHITESPACE","\n                    ",156],["T_VARIABLE","$this",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","_actual",157],["T_WHITESPACE"," ",157],"=",["T_WHITESPACE"," ",157],["T_VARIABLE","$redirect",157],";",["T_WHITESPACE","\n                ",157],"}",["T_WHITESPACE","\n                ",158],["T_RETURN","return",159],["T_WHITESPACE"," ",159],"(",["T_VARIABLE","$this",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","_negate",159],")",["T_WHITESPACE"," ",159],"?",["T_WHITESPACE"," ",159],"!",["T_VARIABLE","$response",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","isRedirect",159],"(",")",["T_WHITESPACE"," ",159],":",["T_WHITESPACE"," ",159],["T_VARIABLE","$response",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","isRedirect",159],"(",")",";",["T_WHITESPACE","\n        ",159],"}",["T_WHITESPACE","\n    ",160],"}",["T_WHITESPACE","\n\n    ",161],["T_DOC_COMMENT","\/**\n     * Report Failure\n     *\n     * @see    PHPUnit_Framework_Constraint for implementation details\n     * @param  mixed $other\n     * @param  string $description Additional message to display\n     * @param  bool $not\n     * @return void\n     * @throws PHPUnit_Framework_ExpectationFailedException\n     * NOTE:\n     * Drastic changes up to PHPUnit 3.5.15 this was:\n     *     public function fail($other, $description, $not = false)\n     * In PHPUnit 3.6.0 they changed the interface into this:\n     *     protected function fail($other, $description, PHPUnit_Framework_ComparisonFailure $comparisonFailure = NULL)\n     * We use the new interface for PHP-strict checking\n     *\/",163],["T_WHITESPACE","\n    ",178],["T_PUBLIC","public",179],["T_WHITESPACE"," ",179],["T_FUNCTION","function",179],["T_WHITESPACE"," ",179],["T_STRING","fail",179],"(",["T_VARIABLE","$other",179],",",["T_WHITESPACE"," ",179],["T_VARIABLE","$description",179],",",["T_WHITESPACE"," ",179],["T_STRING","PHPUnit_Framework_ComparisonFailure",179],["T_WHITESPACE"," ",179],["T_VARIABLE","$cannot_be_used",179],["T_WHITESPACE"," ",179],"=",["T_WHITESPACE"," ",179],["T_STRING","NULL",179],")",["T_WHITESPACE","\n    ",179],"{",["T_WHITESPACE","\n        ",180],["T_COMMENT","#require_once 'Zend\/Test\/PHPUnit\/Constraint\/Exception.php';\n",181],["T_WHITESPACE","        ",182],["T_SWITCH","switch",182],["T_WHITESPACE"," ",182],"(",["T_VARIABLE","$this",182],["T_OBJECT_OPERATOR","->",182],["T_STRING","_assertType",182],")",["T_WHITESPACE"," ",182],"{",["T_WHITESPACE","\n            ",182],["T_CASE","case",183],["T_WHITESPACE"," ",183],["T_STRING","self",183],["T_DOUBLE_COLON","::",183],["T_STRING","ASSERT_REDIRECT_TO",183],":",["T_WHITESPACE","\n                ",183],["T_VARIABLE","$failure",184],["T_WHITESPACE"," ",184],"=",["T_WHITESPACE"," ",184],["T_CONSTANT_ENCAPSED_STRING","'Failed asserting response redirects to \"%s\"'",184],";",["T_WHITESPACE","\n                ",184],["T_IF","if",185],["T_WHITESPACE"," ",185],"(",["T_VARIABLE","$this",185],["T_OBJECT_OPERATOR","->",185],["T_STRING","_negate",185],")",["T_WHITESPACE"," ",185],"{",["T_WHITESPACE","\n                    ",185],["T_VARIABLE","$failure",186],["T_WHITESPACE"," ",186],"=",["T_WHITESPACE"," ",186],["T_CONSTANT_ENCAPSED_STRING","'Failed asserting response DOES NOT redirect to \"%s\"'",186],";",["T_WHITESPACE","\n                ",186],"}",["T_WHITESPACE","\n                ",187],["T_VARIABLE","$failure",188],["T_WHITESPACE"," ",188],"=",["T_WHITESPACE"," ",188],["T_STRING","sprintf",188],"(",["T_VARIABLE","$failure",188],",",["T_WHITESPACE"," ",188],["T_VARIABLE","$this",188],["T_OBJECT_OPERATOR","->",188],["T_STRING","_match",188],")",";",["T_WHITESPACE","\n                ",188],["T_IF","if",189],["T_WHITESPACE"," ",189],"(","!",["T_VARIABLE","$this",189],["T_OBJECT_OPERATOR","->",189],["T_STRING","_negate",189],["T_WHITESPACE"," ",189],["T_BOOLEAN_AND","&&",189],["T_WHITESPACE"," ",189],["T_VARIABLE","$this",189],["T_OBJECT_OPERATOR","->",189],["T_STRING","_actual",189],")",["T_WHITESPACE"," ",189],"{",["T_WHITESPACE","\n                    ",189],["T_VARIABLE","$failure",190],["T_WHITESPACE"," ",190],["T_CONCAT_EQUAL",".=",190],["T_WHITESPACE"," ",190],["T_STRING","sprintf",190],"(",["T_STRING","PHP_EOL",190],["T_WHITESPACE"," ",190],".",["T_WHITESPACE"," ",190],["T_CONSTANT_ENCAPSED_STRING","'It redirects to \"%s\".'",190],",",["T_WHITESPACE"," ",190],["T_VARIABLE","$this",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","_actual",190],")",";",["T_WHITESPACE","\n                ",190],"}",["T_WHITESPACE","\n                ",191],["T_BREAK","break",192],";",["T_WHITESPACE","\n            ",192],["T_CASE","case",193],["T_WHITESPACE"," ",193],["T_STRING","self",193],["T_DOUBLE_COLON","::",193],["T_STRING","ASSERT_REDIRECT_REGEX",193],":",["T_WHITESPACE","\n                ",193],["T_VARIABLE","$failure",194],["T_WHITESPACE"," ",194],"=",["T_WHITESPACE"," ",194],["T_CONSTANT_ENCAPSED_STRING","'Failed asserting response redirects to URL MATCHING \"%s\"'",194],";",["T_WHITESPACE","\n                ",194],["T_IF","if",195],["T_WHITESPACE"," ",195],"(",["T_VARIABLE","$this",195],["T_OBJECT_OPERATOR","->",195],["T_STRING","_negate",195],")",["T_WHITESPACE"," ",195],"{",["T_WHITESPACE","\n                    ",195],["T_VARIABLE","$failure",196],["T_WHITESPACE"," ",196],"=",["T_WHITESPACE"," ",196],["T_CONSTANT_ENCAPSED_STRING","'Failed asserting response DOES NOT redirect to URL MATCHING \"%s\"'",196],";",["T_WHITESPACE","\n                ",196],"}",["T_WHITESPACE","\n                ",197],["T_VARIABLE","$failure",198],["T_WHITESPACE"," ",198],"=",["T_WHITESPACE"," ",198],["T_STRING","sprintf",198],"(",["T_VARIABLE","$failure",198],",",["T_WHITESPACE"," ",198],["T_VARIABLE","$this",198],["T_OBJECT_OPERATOR","->",198],["T_STRING","_match",198],")",";",["T_WHITESPACE","\n                ",198],["T_IF","if",199],["T_WHITESPACE"," ",199],"(",["T_VARIABLE","$this",199],["T_OBJECT_OPERATOR","->",199],["T_STRING","_actual",199],")",["T_WHITESPACE"," ",199],"{",["T_WHITESPACE","\n                    ",199],["T_VARIABLE","$failure",200],["T_WHITESPACE"," ",200],["T_CONCAT_EQUAL",".=",200],["T_WHITESPACE"," ",200],["T_STRING","sprintf",200],"(",["T_STRING","PHP_EOL",200],["T_WHITESPACE"," ",200],".",["T_WHITESPACE"," ",200],["T_CONSTANT_ENCAPSED_STRING","'It redirects to \"%s\".'",200],",",["T_WHITESPACE"," ",200],["T_VARIABLE","$this",200],["T_OBJECT_OPERATOR","->",200],["T_STRING","_actual",200],")",";",["T_WHITESPACE","\n                ",200],"}",["T_WHITESPACE","\n                ",201],["T_BREAK","break",202],";",["T_WHITESPACE","\n            ",202],["T_CASE","case",203],["T_WHITESPACE"," ",203],["T_STRING","self",203],["T_DOUBLE_COLON","::",203],["T_STRING","ASSERT_REDIRECT",203],":",["T_WHITESPACE","\n            ",203],["T_DEFAULT","default",204],":",["T_WHITESPACE","\n                ",204],["T_VARIABLE","$failure",205],["T_WHITESPACE"," ",205],"=",["T_WHITESPACE"," ",205],["T_CONSTANT_ENCAPSED_STRING","'Failed asserting response is a redirect'",205],";",["T_WHITESPACE","\n                ",205],["T_IF","if",206],["T_WHITESPACE"," ",206],"(",["T_VARIABLE","$this",206],["T_OBJECT_OPERATOR","->",206],["T_STRING","_negate",206],")",["T_WHITESPACE"," ",206],"{",["T_WHITESPACE","\n                    ",206],["T_VARIABLE","$failure",207],["T_WHITESPACE"," ",207],"=",["T_WHITESPACE"," ",207],["T_CONSTANT_ENCAPSED_STRING","'Failed asserting response is NOT a redirect'",207],";",["T_WHITESPACE","\n                    ",207],["T_IF","if",208],["T_WHITESPACE"," ",208],"(",["T_VARIABLE","$this",208],["T_OBJECT_OPERATOR","->",208],["T_STRING","_actual",208],")",["T_WHITESPACE"," ",208],"{",["T_WHITESPACE","\n                        ",208],["T_VARIABLE","$failure",209],["T_WHITESPACE"," ",209],["T_CONCAT_EQUAL",".=",209],["T_WHITESPACE"," ",209],["T_STRING","sprintf",209],"(",["T_STRING","PHP_EOL",209],["T_WHITESPACE"," ",209],".",["T_WHITESPACE"," ",209],["T_CONSTANT_ENCAPSED_STRING","'It redirects to \"%s\"'",209],",",["T_WHITESPACE"," ",209],["T_VARIABLE","$this",209],["T_OBJECT_OPERATOR","->",209],["T_STRING","_actual",209],")",";",["T_WHITESPACE","\n                    ",209],"}",["T_WHITESPACE","\n                ",210],"}",["T_WHITESPACE","\n                ",211],["T_BREAK","break",212],";",["T_WHITESPACE","\n        ",212],"}",["T_WHITESPACE","\n\n        ",213],["T_IF","if",215],["T_WHITESPACE"," ",215],"(","!",["T_EMPTY","empty",215],"(",["T_VARIABLE","$description",215],")",")",["T_WHITESPACE"," ",215],"{",["T_WHITESPACE","\n            ",215],["T_VARIABLE","$failure",216],["T_WHITESPACE"," ",216],"=",["T_WHITESPACE"," ",216],["T_VARIABLE","$description",216],["T_WHITESPACE"," ",216],".",["T_WHITESPACE"," ",216],["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",216],["T_WHITESPACE"," ",216],".",["T_WHITESPACE"," ",216],["T_VARIABLE","$failure",216],";",["T_WHITESPACE","\n        ",216],"}",["T_WHITESPACE","\n\n        ",217],["T_THROW","throw",219],["T_WHITESPACE"," ",219],["T_NEW","new",219],["T_WHITESPACE"," ",219],["T_STRING","Zend_Test_PHPUnit_Constraint_Exception",219],"(",["T_VARIABLE","$failure",219],")",";",["T_WHITESPACE","\n    ",219],"}",["T_WHITESPACE","\n\n    ",220],["T_DOC_COMMENT","\/**\n     * Complete implementation\n     *\n     * @return string\n     *\/",222],["T_WHITESPACE","\n    ",226],["T_PUBLIC","public",227],["T_WHITESPACE"," ",227],["T_FUNCTION","function",227],["T_WHITESPACE"," ",227],["T_STRING","toString",227],"(",")",["T_WHITESPACE","\n    ",227],"{",["T_WHITESPACE","\n        ",228],["T_RETURN","return",229],["T_WHITESPACE"," ",229],["T_CONSTANT_ENCAPSED_STRING","''",229],";",["T_WHITESPACE","\n    ",229],"}",["T_WHITESPACE","\n\n    ",230],["T_DOC_COMMENT","\/**\n     * Check to see if content is matched in selected nodes\n     *\n     * @param  Zend_Controller_Response_HttpTestCase $response\n     * @param  string $match Content to match\n     * @return bool\n     *\/",232],["T_WHITESPACE","\n    ",238],["T_PROTECTED","protected",239],["T_WHITESPACE"," ",239],["T_FUNCTION","function",239],["T_WHITESPACE"," ",239],["T_STRING","_match",239],"(",["T_VARIABLE","$response",239],",",["T_WHITESPACE"," ",239],["T_VARIABLE","$match",239],")",["T_WHITESPACE","\n    ",239],"{",["T_WHITESPACE","\n        ",240],["T_IF","if",241],["T_WHITESPACE"," ",241],"(","!",["T_VARIABLE","$response",241],["T_OBJECT_OPERATOR","->",241],["T_STRING","isRedirect",241],"(",")",")",["T_WHITESPACE"," ",241],"{",["T_WHITESPACE","\n            ",241],["T_RETURN","return",242],["T_WHITESPACE"," ",242],["T_STRING","false",242],";",["T_WHITESPACE","\n        ",242],"}",["T_WHITESPACE","\n\n        ",243],["T_VARIABLE","$headers",245],["T_WHITESPACE","  ",245],"=",["T_WHITESPACE"," ",245],["T_VARIABLE","$response",245],["T_OBJECT_OPERATOR","->",245],["T_STRING","sendHeaders",245],"(",")",";",["T_WHITESPACE","\n        ",245],["T_VARIABLE","$redirect",246],["T_WHITESPACE"," ",246],"=",["T_WHITESPACE"," ",246],["T_VARIABLE","$headers",246],"[",["T_CONSTANT_ENCAPSED_STRING","'location'",246],"]",";",["T_WHITESPACE","\n        ",246],["T_VARIABLE","$redirect",247],["T_WHITESPACE"," ",247],"=",["T_WHITESPACE"," ",247],["T_STRING","str_replace",247],"(",["T_CONSTANT_ENCAPSED_STRING","'Location: '",247],",",["T_WHITESPACE"," ",247],["T_CONSTANT_ENCAPSED_STRING","''",247],",",["T_WHITESPACE"," ",247],["T_VARIABLE","$redirect",247],")",";",["T_WHITESPACE","\n        ",247],["T_VARIABLE","$this",248],["T_OBJECT_OPERATOR","->",248],["T_STRING","_actual",248],["T_WHITESPACE"," ",248],"=",["T_WHITESPACE"," ",248],["T_VARIABLE","$redirect",248],";",["T_WHITESPACE","\n\n        ",248],["T_RETURN","return",250],["T_WHITESPACE"," ",250],"(",["T_VARIABLE","$redirect",250],["T_WHITESPACE"," ",250],["T_IS_EQUAL","==",250],["T_WHITESPACE"," ",250],["T_VARIABLE","$match",250],")",";",["T_WHITESPACE","\n    ",250],"}",["T_WHITESPACE","\n\n    ",251],["T_DOC_COMMENT","\/**\n     * Check to see if content is NOT matched in selected nodes\n     *\n     * @param  Zend_Controller_Response_HttpTestCase $response\n     * @param  string $match\n     * @return bool\n     *\/",253],["T_WHITESPACE","\n    ",259],["T_PROTECTED","protected",260],["T_WHITESPACE"," ",260],["T_FUNCTION","function",260],["T_WHITESPACE"," ",260],["T_STRING","_notMatch",260],"(",["T_VARIABLE","$response",260],",",["T_WHITESPACE"," ",260],["T_VARIABLE","$match",260],")",["T_WHITESPACE","\n    ",260],"{",["T_WHITESPACE","\n        ",261],["T_IF","if",262],["T_WHITESPACE"," ",262],"(","!",["T_VARIABLE","$response",262],["T_OBJECT_OPERATOR","->",262],["T_STRING","isRedirect",262],"(",")",")",["T_WHITESPACE"," ",262],"{",["T_WHITESPACE","\n            ",262],["T_RETURN","return",263],["T_WHITESPACE"," ",263],["T_STRING","true",263],";",["T_WHITESPACE","\n        ",263],"}",["T_WHITESPACE","\n\n        ",264],["T_VARIABLE","$headers",266],["T_WHITESPACE","  ",266],"=",["T_WHITESPACE"," ",266],["T_VARIABLE","$response",266],["T_OBJECT_OPERATOR","->",266],["T_STRING","sendHeaders",266],"(",")",";",["T_WHITESPACE","\n        ",266],["T_VARIABLE","$redirect",267],["T_WHITESPACE"," ",267],"=",["T_WHITESPACE"," ",267],["T_VARIABLE","$headers",267],"[",["T_CONSTANT_ENCAPSED_STRING","'location'",267],"]",";",["T_WHITESPACE","\n        ",267],["T_VARIABLE","$redirect",268],["T_WHITESPACE"," ",268],"=",["T_WHITESPACE"," ",268],["T_STRING","str_replace",268],"(",["T_CONSTANT_ENCAPSED_STRING","'Location: '",268],",",["T_WHITESPACE"," ",268],["T_CONSTANT_ENCAPSED_STRING","''",268],",",["T_WHITESPACE"," ",268],["T_VARIABLE","$redirect",268],")",";",["T_WHITESPACE","\n        ",268],["T_VARIABLE","$this",269],["T_OBJECT_OPERATOR","->",269],["T_STRING","_actual",269],["T_WHITESPACE"," ",269],"=",["T_WHITESPACE"," ",269],["T_VARIABLE","$redirect",269],";",["T_WHITESPACE","\n\n        ",269],["T_RETURN","return",271],["T_WHITESPACE"," ",271],"(",["T_VARIABLE","$redirect",271],["T_WHITESPACE"," ",271],["T_IS_NOT_EQUAL","!=",271],["T_WHITESPACE"," ",271],["T_VARIABLE","$match",271],")",";",["T_WHITESPACE","\n    ",271],"}",["T_WHITESPACE","\n\n    ",272],["T_DOC_COMMENT","\/**\n     * Check to see if content is matched by regex in selected nodes\n     *\n     * @param  Zend_Controller_Response_HttpTestCase $response\n     * @param  string $pattern\n     * @return bool\n     *\/",274],["T_WHITESPACE","\n    ",280],["T_PROTECTED","protected",281],["T_WHITESPACE"," ",281],["T_FUNCTION","function",281],["T_WHITESPACE"," ",281],["T_STRING","_regex",281],"(",["T_VARIABLE","$response",281],",",["T_WHITESPACE"," ",281],["T_VARIABLE","$pattern",281],")",["T_WHITESPACE","\n    ",281],"{",["T_WHITESPACE","\n        ",282],["T_IF","if",283],["T_WHITESPACE"," ",283],"(","!",["T_VARIABLE","$response",283],["T_OBJECT_OPERATOR","->",283],["T_STRING","isRedirect",283],"(",")",")",["T_WHITESPACE"," ",283],"{",["T_WHITESPACE","\n            ",283],["T_RETURN","return",284],["T_WHITESPACE"," ",284],["T_STRING","false",284],";",["T_WHITESPACE","\n        ",284],"}",["T_WHITESPACE","\n\n        ",285],["T_VARIABLE","$headers",287],["T_WHITESPACE","  ",287],"=",["T_WHITESPACE"," ",287],["T_VARIABLE","$response",287],["T_OBJECT_OPERATOR","->",287],["T_STRING","sendHeaders",287],"(",")",";",["T_WHITESPACE","\n        ",287],["T_VARIABLE","$redirect",288],["T_WHITESPACE"," ",288],"=",["T_WHITESPACE"," ",288],["T_VARIABLE","$headers",288],"[",["T_CONSTANT_ENCAPSED_STRING","'location'",288],"]",";",["T_WHITESPACE","\n        ",288],["T_VARIABLE","$redirect",289],["T_WHITESPACE"," ",289],"=",["T_WHITESPACE"," ",289],["T_STRING","str_replace",289],"(",["T_CONSTANT_ENCAPSED_STRING","'Location: '",289],",",["T_WHITESPACE"," ",289],["T_CONSTANT_ENCAPSED_STRING","''",289],",",["T_WHITESPACE"," ",289],["T_VARIABLE","$redirect",289],")",";",["T_WHITESPACE","\n        ",289],["T_VARIABLE","$this",290],["T_OBJECT_OPERATOR","->",290],["T_STRING","_actual",290],["T_WHITESPACE"," ",290],"=",["T_WHITESPACE"," ",290],["T_VARIABLE","$redirect",290],";",["T_WHITESPACE","\n\n        ",290],["T_RETURN","return",292],["T_WHITESPACE"," ",292],["T_STRING","preg_match",292],"(",["T_VARIABLE","$pattern",292],",",["T_WHITESPACE"," ",292],["T_VARIABLE","$redirect",292],")",";",["T_WHITESPACE","\n    ",292],"}",["T_WHITESPACE","\n\n    ",293],["T_DOC_COMMENT","\/**\n     * Check to see if content is NOT matched by regex in selected nodes\n     *\n     * @param  Zend_Controller_Response_HttpTestCase $response\n     * @param  string $pattern\n     * @return bool\n     *\/",295],["T_WHITESPACE","\n    ",301],["T_PROTECTED","protected",302],["T_WHITESPACE"," ",302],["T_FUNCTION","function",302],["T_WHITESPACE"," ",302],["T_STRING","_notRegex",302],"(",["T_VARIABLE","$response",302],",",["T_WHITESPACE"," ",302],["T_VARIABLE","$pattern",302],")",["T_WHITESPACE","\n    ",302],"{",["T_WHITESPACE","\n        ",303],["T_IF","if",304],["T_WHITESPACE"," ",304],"(","!",["T_VARIABLE","$response",304],["T_OBJECT_OPERATOR","->",304],["T_STRING","isRedirect",304],"(",")",")",["T_WHITESPACE"," ",304],"{",["T_WHITESPACE","\n            ",304],["T_RETURN","return",305],["T_WHITESPACE"," ",305],["T_STRING","true",305],";",["T_WHITESPACE","\n        ",305],"}",["T_WHITESPACE","\n\n        ",306],["T_VARIABLE","$headers",308],["T_WHITESPACE","  ",308],"=",["T_WHITESPACE"," ",308],["T_VARIABLE","$response",308],["T_OBJECT_OPERATOR","->",308],["T_STRING","sendHeaders",308],"(",")",";",["T_WHITESPACE","\n        ",308],["T_VARIABLE","$redirect",309],["T_WHITESPACE"," ",309],"=",["T_WHITESPACE"," ",309],["T_VARIABLE","$headers",309],"[",["T_CONSTANT_ENCAPSED_STRING","'location'",309],"]",";",["T_WHITESPACE","\n        ",309],["T_VARIABLE","$redirect",310],["T_WHITESPACE"," ",310],"=",["T_WHITESPACE"," ",310],["T_STRING","str_replace",310],"(",["T_CONSTANT_ENCAPSED_STRING","'Location: '",310],",",["T_WHITESPACE"," ",310],["T_CONSTANT_ENCAPSED_STRING","''",310],",",["T_WHITESPACE"," ",310],["T_VARIABLE","$redirect",310],")",";",["T_WHITESPACE","\n        ",310],["T_VARIABLE","$this",311],["T_OBJECT_OPERATOR","->",311],["T_STRING","_actual",311],["T_WHITESPACE"," ",311],"=",["T_WHITESPACE"," ",311],["T_VARIABLE","$redirect",311],";",["T_WHITESPACE","\n\n        ",311],["T_RETURN","return",313],["T_WHITESPACE"," ",313],"!",["T_STRING","preg_match",313],"(",["T_VARIABLE","$pattern",313],",",["T_WHITESPACE"," ",313],["T_VARIABLE","$redirect",313],")",";",["T_WHITESPACE","\n    ",313],"}",["T_WHITESPACE","\n",314],"}",["T_WHITESPACE","\n",315]]