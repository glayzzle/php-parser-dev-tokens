[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Zend Framework\n *\n * LICENSE\n *\n * This source file is subject to the new BSD license that is bundled\n * with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/framework.zend.com\/license\/new-bsd\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@zend.com so we can send you a copy immediately.\n *\n * @category   Zend\n * @package    Zend_Test\n * @subpackage PHPUnit\n * @copyright  Copyright (c) 2005-2015 Zend Technologies USA Inc. (http:\/\/www.zend.com)\n * @license    http:\/\/framework.zend.com\/license\/new-bsd     New BSD License\n * @version    $Id$\n *\/",2],["T_WHITESPACE","\n\n",21],["T_DOC_COMMENT","\/**\n * Redirection constraints\n *\n * @uses       PHPUnit_Framework_Constraint\n * @category   Zend\n * @package    Zend_Test\n * @subpackage PHPUnit\n * @copyright  Copyright (c) 2005-2015 Zend Technologies USA Inc. (http:\/\/www.zend.com)\n * @license    http:\/\/framework.zend.com\/license\/new-bsd     New BSD License\n *\/",23],["T_WHITESPACE","\n",32],["T_CLASS","class",33],["T_WHITESPACE"," ",33],["T_STRING","Zend_Test_PHPUnit_Constraint_Redirect34",33],["T_WHITESPACE"," ",33],["T_EXTENDS","extends",33],["T_WHITESPACE"," ",33],["T_STRING","PHPUnit_Framework_Constraint",33],["T_WHITESPACE","\n",33],"{",["T_WHITESPACE","\n    ",34],["T_COMMENT","\/**#@+\n     * Assertion type constants\n     *\/",35],["T_WHITESPACE","\n    ",37],["T_CONST","const",38],["T_WHITESPACE"," ",38],["T_STRING","ASSERT_REDIRECT",38],["T_WHITESPACE","       ",38],"=",["T_WHITESPACE"," ",38],["T_CONSTANT_ENCAPSED_STRING","'assertRedirect'",38],";",["T_WHITESPACE","\n    ",38],["T_CONST","const",39],["T_WHITESPACE"," ",39],["T_STRING","ASSERT_REDIRECT_TO",39],["T_WHITESPACE","    ",39],"=",["T_WHITESPACE"," ",39],["T_CONSTANT_ENCAPSED_STRING","'assertRedirectTo'",39],";",["T_WHITESPACE","\n    ",39],["T_CONST","const",40],["T_WHITESPACE"," ",40],["T_STRING","ASSERT_REDIRECT_REGEX",40],["T_WHITESPACE"," ",40],"=",["T_WHITESPACE"," ",40],["T_CONSTANT_ENCAPSED_STRING","'assertRedirectRegex'",40],";",["T_WHITESPACE","\n    ",40],["T_COMMENT","\/**#@-*\/",41],["T_WHITESPACE","\n\n    ",41],["T_DOC_COMMENT","\/**\n     * Current assertion type\n     * @var string\n     *\/",43],["T_WHITESPACE","\n    ",46],["T_PROTECTED","protected",47],["T_WHITESPACE"," ",47],["T_VARIABLE","$_assertType",47],["T_WHITESPACE","      ",47],"=",["T_WHITESPACE"," ",47],["T_STRING","null",47],";",["T_WHITESPACE","\n\n    ",47],["T_DOC_COMMENT","\/**\n     * Available assertion types\n     * @var array\n     *\/",49],["T_WHITESPACE","\n    ",52],["T_PROTECTED","protected",53],["T_WHITESPACE"," ",53],["T_VARIABLE","$_assertTypes",53],["T_WHITESPACE","     ",53],"=",["T_WHITESPACE"," ",53],["T_ARRAY","array",53],"(",["T_WHITESPACE","\n        ",53],["T_STRING","self",54],["T_DOUBLE_COLON","::",54],["T_STRING","ASSERT_REDIRECT",54],",",["T_WHITESPACE","\n        ",54],["T_STRING","self",55],["T_DOUBLE_COLON","::",55],["T_STRING","ASSERT_REDIRECT_TO",55],",",["T_WHITESPACE","\n        ",55],["T_STRING","self",56],["T_DOUBLE_COLON","::",56],["T_STRING","ASSERT_REDIRECT_REGEX",56],",",["T_WHITESPACE","\n    ",56],")",";",["T_WHITESPACE","\n\n    ",57],["T_DOC_COMMENT","\/**\n     * Pattern to match against\n     * @var string\n     *\/",59],["T_WHITESPACE","\n    ",62],["T_PROTECTED","protected",63],["T_WHITESPACE"," ",63],["T_VARIABLE","$_match",63],["T_WHITESPACE","             ",63],"=",["T_WHITESPACE"," ",63],["T_STRING","null",63],";",["T_WHITESPACE","\n    \n    ",63],["T_DOC_COMMENT","\/**\n     * What is actual redirect\n     *\/",65],["T_WHITESPACE","\n    ",67],["T_PROTECTED","protected",68],["T_WHITESPACE"," ",68],["T_VARIABLE","$_actual",68],["T_WHITESPACE","            ",68],"=",["T_WHITESPACE"," ",68],["T_STRING","null",68],";",["T_WHITESPACE","\n\n    ",68],["T_DOC_COMMENT","\/**\n     * Whether or not assertion is negated\n     * @var bool\n     *\/",70],["T_WHITESPACE","\n    ",73],["T_PROTECTED","protected",74],["T_WHITESPACE"," ",74],["T_VARIABLE","$_negate",74],["T_WHITESPACE","            ",74],"=",["T_WHITESPACE"," ",74],["T_STRING","false",74],";",["T_WHITESPACE","\n\n    ",74],["T_DOC_COMMENT","\/**\n     * Constructor; setup constraint state\n     *\n     * @return void\n     *\/",76],["T_WHITESPACE","\n    ",80],["T_PUBLIC","public",81],["T_WHITESPACE"," ",81],["T_FUNCTION","function",81],["T_WHITESPACE"," ",81],["T_STRING","__construct",81],"(",")",["T_WHITESPACE","\n    ",81],"{",["T_WHITESPACE","\n    ",82],"}",["T_WHITESPACE","\n\n    ",83],["T_DOC_COMMENT","\/**\n     * Indicate negative match\n     *\n     * @param  bool $flag\n     * @return void\n     *\/",85],["T_WHITESPACE","\n    ",90],["T_PUBLIC","public",91],["T_WHITESPACE"," ",91],["T_FUNCTION","function",91],["T_WHITESPACE"," ",91],["T_STRING","setNegate",91],"(",["T_VARIABLE","$flag",91],["T_WHITESPACE"," ",91],"=",["T_WHITESPACE"," ",91],["T_STRING","true",91],")",["T_WHITESPACE","\n    ",91],"{",["T_WHITESPACE","\n        ",92],["T_VARIABLE","$this",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","_negate",93],["T_WHITESPACE"," ",93],"=",["T_WHITESPACE"," ",93],["T_VARIABLE","$flag",93],";",["T_WHITESPACE","\n    ",93],"}",["T_WHITESPACE","\n\n    ",94],["T_DOC_COMMENT","\/**\n     * Evaluate an object to see if it fits the constraints\n     *\n     * @param  string $other String to examine\n     * @param  null|string Assertion type\n     * @return bool\n     *\/",96],["T_WHITESPACE","\n    ",102],["T_PUBLIC","public",103],["T_WHITESPACE"," ",103],["T_FUNCTION","function",103],["T_WHITESPACE"," ",103],["T_STRING","evaluate",103],"(",["T_VARIABLE","$other",103],",",["T_WHITESPACE"," ",103],["T_VARIABLE","$assertType",103],["T_WHITESPACE"," ",103],"=",["T_WHITESPACE"," ",103],["T_STRING","null",103],")",["T_WHITESPACE","\n    ",103],"{",["T_WHITESPACE","\n        ",104],["T_IF","if",105],["T_WHITESPACE"," ",105],"(","!",["T_VARIABLE","$other",105],["T_WHITESPACE"," ",105],["T_INSTANCEOF","instanceof",105],["T_WHITESPACE"," ",105],["T_STRING","Zend_Controller_Response_Abstract",105],")",["T_WHITESPACE"," ",105],"{",["T_WHITESPACE","\n            ",105],["T_COMMENT","#require_once 'Zend\/Test\/PHPUnit\/Constraint\/Exception.php';\n",106],["T_WHITESPACE","            ",107],["T_THROW","throw",107],["T_WHITESPACE"," ",107],["T_NEW","new",107],["T_WHITESPACE"," ",107],["T_STRING","Zend_Test_PHPUnit_Constraint_Exception",107],"(",["T_CONSTANT_ENCAPSED_STRING","'Redirect constraint assertions require a response object'",107],")",";",["T_WHITESPACE","\n        ",107],"}",["T_WHITESPACE","\n\n        ",108],["T_IF","if",110],["T_WHITESPACE"," ",110],"(",["T_STRING","strstr",110],"(",["T_VARIABLE","$assertType",110],",",["T_WHITESPACE"," ",110],["T_CONSTANT_ENCAPSED_STRING","'Not'",110],")",")",["T_WHITESPACE"," ",110],"{",["T_WHITESPACE","\n            ",110],["T_VARIABLE","$this",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","setNegate",111],"(",["T_STRING","true",111],")",";",["T_WHITESPACE","\n            ",111],["T_VARIABLE","$assertType",112],["T_WHITESPACE"," ",112],"=",["T_WHITESPACE"," ",112],["T_STRING","str_replace",112],"(",["T_CONSTANT_ENCAPSED_STRING","'Not'",112],",",["T_WHITESPACE"," ",112],["T_CONSTANT_ENCAPSED_STRING","''",112],",",["T_WHITESPACE"," ",112],["T_VARIABLE","$assertType",112],")",";",["T_WHITESPACE","\n        ",112],"}",["T_WHITESPACE","\n\n        ",113],["T_IF","if",115],["T_WHITESPACE"," ",115],"(","!",["T_STRING","in_array",115],"(",["T_VARIABLE","$assertType",115],",",["T_WHITESPACE"," ",115],["T_VARIABLE","$this",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","_assertTypes",115],")",")",["T_WHITESPACE"," ",115],"{",["T_WHITESPACE","\n            ",115],["T_COMMENT","#require_once 'Zend\/Test\/PHPUnit\/Constraint\/Exception.php';\n",116],["T_WHITESPACE","            ",117],["T_THROW","throw",117],["T_WHITESPACE"," ",117],["T_NEW","new",117],["T_WHITESPACE"," ",117],["T_STRING","Zend_Test_PHPUnit_Constraint_Exception",117],"(",["T_STRING","sprintf",117],"(",["T_CONSTANT_ENCAPSED_STRING","'Invalid assertion type \"%s\" provided to %s constraint'",117],",",["T_WHITESPACE"," ",117],["T_VARIABLE","$assertType",117],",",["T_WHITESPACE"," ",117],["T_CLASS_C","__CLASS__",117],")",")",";",["T_WHITESPACE","\n        ",117],"}",["T_WHITESPACE","\n\n        ",118],["T_VARIABLE","$this",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","_assertType",120],["T_WHITESPACE"," ",120],"=",["T_WHITESPACE"," ",120],["T_VARIABLE","$assertType",120],";",["T_WHITESPACE","\n\n        ",120],["T_VARIABLE","$response",122],["T_WHITESPACE"," ",122],"=",["T_WHITESPACE"," ",122],["T_VARIABLE","$other",122],";",["T_WHITESPACE","\n        ",122],["T_VARIABLE","$argv",123],["T_WHITESPACE","     ",123],"=",["T_WHITESPACE"," ",123],["T_STRING","func_get_args",123],"(",")",";",["T_WHITESPACE","\n        ",123],["T_VARIABLE","$argc",124],["T_WHITESPACE","     ",124],"=",["T_WHITESPACE"," ",124],["T_STRING","func_num_args",124],"(",")",";",["T_WHITESPACE","\n\n        ",124],["T_SWITCH","switch",126],["T_WHITESPACE"," ",126],"(",["T_VARIABLE","$assertType",126],")",["T_WHITESPACE"," ",126],"{",["T_WHITESPACE","\n            ",126],["T_CASE","case",127],["T_WHITESPACE"," ",127],["T_STRING","self",127],["T_DOUBLE_COLON","::",127],["T_STRING","ASSERT_REDIRECT_TO",127],":",["T_WHITESPACE","\n                ",127],["T_IF","if",128],["T_WHITESPACE"," ",128],"(",["T_LNUMBER","3",128],["T_WHITESPACE"," ",128],">",["T_WHITESPACE"," ",128],["T_VARIABLE","$argc",128],")",["T_WHITESPACE"," ",128],"{",["T_WHITESPACE","\n                    ",128],["T_COMMENT","#require_once 'Zend\/Test\/PHPUnit\/Constraint\/Exception.php';\n",129],["T_WHITESPACE","                    ",130],["T_THROW","throw",130],["T_WHITESPACE"," ",130],["T_NEW","new",130],["T_WHITESPACE"," ",130],["T_STRING","Zend_Test_PHPUnit_Constraint_Exception",130],"(",["T_CONSTANT_ENCAPSED_STRING","'No redirect URL provided against which to match'",130],")",";",["T_WHITESPACE","\n                ",130],"}",["T_WHITESPACE","\n                ",131],["T_VARIABLE","$this",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","_match",132],["T_WHITESPACE"," ",132],"=",["T_WHITESPACE"," ",132],["T_VARIABLE","$match",132],["T_WHITESPACE"," ",132],"=",["T_WHITESPACE"," ",132],["T_VARIABLE","$argv",132],"[",["T_LNUMBER","2",132],"]",";",["T_WHITESPACE","\n                ",132],["T_RETURN","return",133],["T_WHITESPACE"," ",133],"(",["T_VARIABLE","$this",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","_negate",133],")",["T_WHITESPACE","\n                    ",133],"?",["T_WHITESPACE"," ",134],["T_VARIABLE","$this",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","_notMatch",134],"(",["T_VARIABLE","$response",134],",",["T_WHITESPACE"," ",134],["T_VARIABLE","$match",134],")",["T_WHITESPACE","\n                    ",134],":",["T_WHITESPACE"," ",135],["T_VARIABLE","$this",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","_match",135],"(",["T_VARIABLE","$response",135],",",["T_WHITESPACE"," ",135],["T_VARIABLE","$match",135],")",";",["T_WHITESPACE","\n            ",135],["T_CASE","case",136],["T_WHITESPACE"," ",136],["T_STRING","self",136],["T_DOUBLE_COLON","::",136],["T_STRING","ASSERT_REDIRECT_REGEX",136],":",["T_WHITESPACE","\n                ",136],["T_IF","if",137],["T_WHITESPACE"," ",137],"(",["T_LNUMBER","3",137],["T_WHITESPACE"," ",137],">",["T_WHITESPACE"," ",137],["T_VARIABLE","$argc",137],")",["T_WHITESPACE"," ",137],"{",["T_WHITESPACE","\n                    ",137],["T_COMMENT","#require_once 'Zend\/Test\/PHPUnit\/Constraint\/Exception.php';\n",138],["T_WHITESPACE","                    ",139],["T_THROW","throw",139],["T_WHITESPACE"," ",139],["T_NEW","new",139],["T_WHITESPACE"," ",139],["T_STRING","Zend_Test_PHPUnit_Constraint_Exception",139],"(",["T_CONSTANT_ENCAPSED_STRING","'No pattern provided against which to match redirect'",139],")",";",["T_WHITESPACE","\n                ",139],"}",["T_WHITESPACE","\n                ",140],["T_VARIABLE","$this",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","_match",141],["T_WHITESPACE"," ",141],"=",["T_WHITESPACE"," ",141],["T_VARIABLE","$match",141],["T_WHITESPACE"," ",141],"=",["T_WHITESPACE"," ",141],["T_VARIABLE","$argv",141],"[",["T_LNUMBER","2",141],"]",";",["T_WHITESPACE","\n                ",141],["T_RETURN","return",142],["T_WHITESPACE"," ",142],"(",["T_VARIABLE","$this",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","_negate",142],")",["T_WHITESPACE","\n                    ",142],"?",["T_WHITESPACE"," ",143],["T_VARIABLE","$this",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","_notRegex",143],"(",["T_VARIABLE","$response",143],",",["T_WHITESPACE"," ",143],["T_VARIABLE","$match",143],")",["T_WHITESPACE","\n                    ",143],":",["T_WHITESPACE"," ",144],["T_VARIABLE","$this",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","_regex",144],"(",["T_VARIABLE","$response",144],",",["T_WHITESPACE"," ",144],["T_VARIABLE","$match",144],")",";",["T_WHITESPACE","\n            ",144],["T_CASE","case",145],["T_WHITESPACE"," ",145],["T_STRING","self",145],["T_DOUBLE_COLON","::",145],["T_STRING","ASSERT_REDIRECT",145],":",["T_WHITESPACE","\n            ",145],["T_DEFAULT","default",146],":",["T_WHITESPACE","\n                ",146],["T_VARIABLE","$headers",147],["T_WHITESPACE","  ",147],"=",["T_WHITESPACE"," ",147],["T_VARIABLE","$response",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","sendHeaders",147],"(",")",";",["T_WHITESPACE","\n                ",147],["T_IF","if",148],["T_WHITESPACE"," ",148],"(",["T_ISSET","isset",148],"(",["T_VARIABLE","$headers",148],"[",["T_CONSTANT_ENCAPSED_STRING","'location'",148],"]",")",")",["T_WHITESPACE"," ",148],"{",["T_WHITESPACE","\n                    ",148],["T_VARIABLE","$redirect",149],["T_WHITESPACE"," ",149],"=",["T_WHITESPACE"," ",149],["T_VARIABLE","$headers",149],"[",["T_CONSTANT_ENCAPSED_STRING","'location'",149],"]",";",["T_WHITESPACE","\n                    ",149],["T_VARIABLE","$redirect",150],["T_WHITESPACE"," ",150],"=",["T_WHITESPACE"," ",150],["T_STRING","str_replace",150],"(",["T_CONSTANT_ENCAPSED_STRING","'Location: '",150],",",["T_WHITESPACE"," ",150],["T_CONSTANT_ENCAPSED_STRING","''",150],",",["T_WHITESPACE"," ",150],["T_VARIABLE","$redirect",150],")",";",["T_WHITESPACE","\n                    ",150],["T_VARIABLE","$this",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","_actual",151],["T_WHITESPACE"," ",151],"=",["T_WHITESPACE"," ",151],["T_VARIABLE","$redirect",151],";",["T_WHITESPACE","\n                ",151],"}",["T_WHITESPACE","\n                ",152],["T_RETURN","return",153],["T_WHITESPACE"," ",153],"(",["T_VARIABLE","$this",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","_negate",153],")",["T_WHITESPACE"," ",153],"?",["T_WHITESPACE"," ",153],"!",["T_VARIABLE","$response",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","isRedirect",153],"(",")",["T_WHITESPACE"," ",153],":",["T_WHITESPACE"," ",153],["T_VARIABLE","$response",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","isRedirect",153],"(",")",";",["T_WHITESPACE","\n        ",153],"}",["T_WHITESPACE","\n    ",154],"}",["T_WHITESPACE","\n\n    ",155],["T_DOC_COMMENT","\/**\n     * Report Failure\n     *\n     * @see    PHPUnit_Framework_Constraint for implementation details\n     * @param  mixed $other\n     * @param  string $description Additional message to display\n     * @param  bool $not\n     * @return void\n     * @throws PHPUnit_Framework_ExpectationFailedException\n     *\/",157],["T_WHITESPACE","\n    ",166],["T_PUBLIC","public",167],["T_WHITESPACE"," ",167],["T_FUNCTION","function",167],["T_WHITESPACE"," ",167],["T_STRING","fail",167],"(",["T_VARIABLE","$other",167],",",["T_WHITESPACE"," ",167],["T_VARIABLE","$description",167],",",["T_WHITESPACE"," ",167],["T_VARIABLE","$not",167],["T_WHITESPACE"," ",167],"=",["T_WHITESPACE"," ",167],["T_STRING","false",167],")",["T_WHITESPACE","\n    ",167],"{",["T_WHITESPACE","\n        ",168],["T_COMMENT","#require_once 'Zend\/Test\/PHPUnit\/Constraint\/Exception.php';\n",169],["T_WHITESPACE","        ",170],["T_SWITCH","switch",170],["T_WHITESPACE"," ",170],"(",["T_VARIABLE","$this",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","_assertType",170],")",["T_WHITESPACE"," ",170],"{",["T_WHITESPACE","\n            ",170],["T_CASE","case",171],["T_WHITESPACE"," ",171],["T_STRING","self",171],["T_DOUBLE_COLON","::",171],["T_STRING","ASSERT_REDIRECT_TO",171],":",["T_WHITESPACE","\n                ",171],["T_VARIABLE","$failure",172],["T_WHITESPACE"," ",172],"=",["T_WHITESPACE"," ",172],["T_CONSTANT_ENCAPSED_STRING","'Failed asserting response redirects to \"%s\"'",172],";",["T_WHITESPACE","\n                ",172],["T_IF","if",173],["T_WHITESPACE"," ",173],"(",["T_VARIABLE","$this",173],["T_OBJECT_OPERATOR","->",173],["T_STRING","_negate",173],")",["T_WHITESPACE"," ",173],"{",["T_WHITESPACE","\n                    ",173],["T_VARIABLE","$failure",174],["T_WHITESPACE"," ",174],"=",["T_WHITESPACE"," ",174],["T_CONSTANT_ENCAPSED_STRING","'Failed asserting response DOES NOT redirect to \"%s\"'",174],";",["T_WHITESPACE","\n                ",174],"}",["T_WHITESPACE","\n                ",175],["T_VARIABLE","$failure",176],["T_WHITESPACE"," ",176],"=",["T_WHITESPACE"," ",176],["T_STRING","sprintf",176],"(",["T_VARIABLE","$failure",176],",",["T_WHITESPACE"," ",176],["T_VARIABLE","$this",176],["T_OBJECT_OPERATOR","->",176],["T_STRING","_match",176],")",";",["T_WHITESPACE","\n                ",176],["T_IF","if",177],["T_WHITESPACE"," ",177],"(","!",["T_VARIABLE","$this",177],["T_OBJECT_OPERATOR","->",177],["T_STRING","_negate",177],["T_WHITESPACE"," ",177],["T_BOOLEAN_AND","&&",177],["T_WHITESPACE"," ",177],["T_VARIABLE","$this",177],["T_OBJECT_OPERATOR","->",177],["T_STRING","_actual",177],")",["T_WHITESPACE"," ",177],"{",["T_WHITESPACE","\n                    ",177],["T_VARIABLE","$failure",178],["T_WHITESPACE"," ",178],["T_CONCAT_EQUAL",".=",178],["T_WHITESPACE"," ",178],["T_STRING","sprintf",178],"(",["T_STRING","PHP_EOL",178],["T_WHITESPACE"," ",178],".",["T_WHITESPACE"," ",178],["T_CONSTANT_ENCAPSED_STRING","'It redirects to \"%s\".'",178],",",["T_WHITESPACE"," ",178],["T_VARIABLE","$this",178],["T_OBJECT_OPERATOR","->",178],["T_STRING","_actual",178],")",";",["T_WHITESPACE","\n                ",178],"}",["T_WHITESPACE","\n                ",179],["T_BREAK","break",180],";",["T_WHITESPACE","\n            ",180],["T_CASE","case",181],["T_WHITESPACE"," ",181],["T_STRING","self",181],["T_DOUBLE_COLON","::",181],["T_STRING","ASSERT_REDIRECT_REGEX",181],":",["T_WHITESPACE","\n                ",181],["T_VARIABLE","$failure",182],["T_WHITESPACE"," ",182],"=",["T_WHITESPACE"," ",182],["T_CONSTANT_ENCAPSED_STRING","'Failed asserting response redirects to URL MATCHING \"%s\"'",182],";",["T_WHITESPACE","\n                ",182],["T_IF","if",183],["T_WHITESPACE"," ",183],"(",["T_VARIABLE","$this",183],["T_OBJECT_OPERATOR","->",183],["T_STRING","_negate",183],")",["T_WHITESPACE"," ",183],"{",["T_WHITESPACE","\n                    ",183],["T_VARIABLE","$failure",184],["T_WHITESPACE"," ",184],"=",["T_WHITESPACE"," ",184],["T_CONSTANT_ENCAPSED_STRING","'Failed asserting response DOES NOT redirect to URL MATCHING \"%s\"'",184],";",["T_WHITESPACE","\n                ",184],"}",["T_WHITESPACE","\n                ",185],["T_VARIABLE","$failure",186],["T_WHITESPACE"," ",186],"=",["T_WHITESPACE"," ",186],["T_STRING","sprintf",186],"(",["T_VARIABLE","$failure",186],",",["T_WHITESPACE"," ",186],["T_VARIABLE","$this",186],["T_OBJECT_OPERATOR","->",186],["T_STRING","_match",186],")",";",["T_WHITESPACE","\n                ",186],["T_IF","if",187],["T_WHITESPACE"," ",187],"(",["T_VARIABLE","$this",187],["T_OBJECT_OPERATOR","->",187],["T_STRING","_actual",187],")",["T_WHITESPACE"," ",187],"{",["T_WHITESPACE","\n                    ",187],["T_VARIABLE","$failure",188],["T_WHITESPACE"," ",188],["T_CONCAT_EQUAL",".=",188],["T_WHITESPACE"," ",188],["T_STRING","sprintf",188],"(",["T_STRING","PHP_EOL",188],["T_WHITESPACE"," ",188],".",["T_WHITESPACE"," ",188],["T_CONSTANT_ENCAPSED_STRING","'It redirects to \"%s\".'",188],",",["T_WHITESPACE"," ",188],["T_VARIABLE","$this",188],["T_OBJECT_OPERATOR","->",188],["T_STRING","_actual",188],")",";",["T_WHITESPACE","\n                ",188],"}",["T_WHITESPACE","\n                ",189],["T_BREAK","break",190],";",["T_WHITESPACE","\n            ",190],["T_CASE","case",191],["T_WHITESPACE"," ",191],["T_STRING","self",191],["T_DOUBLE_COLON","::",191],["T_STRING","ASSERT_REDIRECT",191],":",["T_WHITESPACE","\n            ",191],["T_DEFAULT","default",192],":",["T_WHITESPACE","\n                ",192],["T_VARIABLE","$failure",193],["T_WHITESPACE"," ",193],"=",["T_WHITESPACE"," ",193],["T_CONSTANT_ENCAPSED_STRING","'Failed asserting response is a redirect'",193],";",["T_WHITESPACE","\n                ",193],["T_IF","if",194],["T_WHITESPACE"," ",194],"(",["T_VARIABLE","$this",194],["T_OBJECT_OPERATOR","->",194],["T_STRING","_negate",194],")",["T_WHITESPACE"," ",194],"{",["T_WHITESPACE","\n                    ",194],["T_VARIABLE","$failure",195],["T_WHITESPACE"," ",195],"=",["T_WHITESPACE"," ",195],["T_CONSTANT_ENCAPSED_STRING","'Failed asserting response is NOT a redirect'",195],";",["T_WHITESPACE","\n                    ",195],["T_IF","if",196],["T_WHITESPACE"," ",196],"(",["T_VARIABLE","$this",196],["T_OBJECT_OPERATOR","->",196],["T_STRING","_actual",196],")",["T_WHITESPACE"," ",196],"{",["T_WHITESPACE","\n                        ",196],["T_VARIABLE","$failure",197],["T_WHITESPACE"," ",197],["T_CONCAT_EQUAL",".=",197],["T_WHITESPACE"," ",197],["T_STRING","sprintf",197],"(",["T_STRING","PHP_EOL",197],["T_WHITESPACE"," ",197],".",["T_WHITESPACE"," ",197],["T_CONSTANT_ENCAPSED_STRING","'It redirects to \"%s\"'",197],",",["T_WHITESPACE"," ",197],["T_VARIABLE","$this",197],["T_OBJECT_OPERATOR","->",197],["T_STRING","_actual",197],")",";",["T_WHITESPACE","\n                    ",197],"}",["T_WHITESPACE","\n                ",198],"}",["T_WHITESPACE","\n                ",199],["T_BREAK","break",200],";",["T_WHITESPACE","\n        ",200],"}",["T_WHITESPACE","\n\n        ",201],["T_IF","if",203],["T_WHITESPACE"," ",203],"(","!",["T_EMPTY","empty",203],"(",["T_VARIABLE","$description",203],")",")",["T_WHITESPACE"," ",203],"{",["T_WHITESPACE","\n            ",203],["T_VARIABLE","$failure",204],["T_WHITESPACE"," ",204],"=",["T_WHITESPACE"," ",204],["T_VARIABLE","$description",204],["T_WHITESPACE"," ",204],".",["T_WHITESPACE"," ",204],["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",204],["T_WHITESPACE"," ",204],".",["T_WHITESPACE"," ",204],["T_VARIABLE","$failure",204],";",["T_WHITESPACE","\n        ",204],"}",["T_WHITESPACE","\n\n        ",205],["T_THROW","throw",207],["T_WHITESPACE"," ",207],["T_NEW","new",207],["T_WHITESPACE"," ",207],["T_STRING","Zend_Test_PHPUnit_Constraint_Exception",207],"(",["T_VARIABLE","$failure",207],")",";",["T_WHITESPACE","\n    ",207],"}",["T_WHITESPACE","\n\n    ",208],["T_DOC_COMMENT","\/**\n     * Complete implementation\n     *\n     * @return string\n     *\/",210],["T_WHITESPACE","\n    ",214],["T_PUBLIC","public",215],["T_WHITESPACE"," ",215],["T_FUNCTION","function",215],["T_WHITESPACE"," ",215],["T_STRING","toString",215],"(",")",["T_WHITESPACE","\n    ",215],"{",["T_WHITESPACE","\n        ",216],["T_RETURN","return",217],["T_WHITESPACE"," ",217],["T_CONSTANT_ENCAPSED_STRING","''",217],";",["T_WHITESPACE","\n    ",217],"}",["T_WHITESPACE","\n\n    ",218],["T_DOC_COMMENT","\/**\n     * Check to see if content is matched in selected nodes\n     *\n     * @param  Zend_Controller_Response_HttpTestCase $response\n     * @param  string $match Content to match\n     * @return bool\n     *\/",220],["T_WHITESPACE","\n    ",226],["T_PROTECTED","protected",227],["T_WHITESPACE"," ",227],["T_FUNCTION","function",227],["T_WHITESPACE"," ",227],["T_STRING","_match",227],"(",["T_VARIABLE","$response",227],",",["T_WHITESPACE"," ",227],["T_VARIABLE","$match",227],")",["T_WHITESPACE","\n    ",227],"{",["T_WHITESPACE","\n        ",228],["T_IF","if",229],["T_WHITESPACE"," ",229],"(","!",["T_VARIABLE","$response",229],["T_OBJECT_OPERATOR","->",229],["T_STRING","isRedirect",229],"(",")",")",["T_WHITESPACE"," ",229],"{",["T_WHITESPACE","\n            ",229],["T_RETURN","return",230],["T_WHITESPACE"," ",230],["T_STRING","false",230],";",["T_WHITESPACE","\n        ",230],"}",["T_WHITESPACE","\n\n        ",231],["T_VARIABLE","$headers",233],["T_WHITESPACE","  ",233],"=",["T_WHITESPACE"," ",233],["T_VARIABLE","$response",233],["T_OBJECT_OPERATOR","->",233],["T_STRING","sendHeaders",233],"(",")",";",["T_WHITESPACE","\n        ",233],["T_VARIABLE","$redirect",234],["T_WHITESPACE"," ",234],"=",["T_WHITESPACE"," ",234],["T_VARIABLE","$headers",234],"[",["T_CONSTANT_ENCAPSED_STRING","'location'",234],"]",";",["T_WHITESPACE","\n        ",234],["T_VARIABLE","$redirect",235],["T_WHITESPACE"," ",235],"=",["T_WHITESPACE"," ",235],["T_STRING","str_replace",235],"(",["T_CONSTANT_ENCAPSED_STRING","'Location: '",235],",",["T_WHITESPACE"," ",235],["T_CONSTANT_ENCAPSED_STRING","''",235],",",["T_WHITESPACE"," ",235],["T_VARIABLE","$redirect",235],")",";",["T_WHITESPACE","\n        ",235],["T_VARIABLE","$this",236],["T_OBJECT_OPERATOR","->",236],["T_STRING","_actual",236],["T_WHITESPACE"," ",236],"=",["T_WHITESPACE"," ",236],["T_VARIABLE","$redirect",236],";",["T_WHITESPACE","\n\n        ",236],["T_RETURN","return",238],["T_WHITESPACE"," ",238],"(",["T_VARIABLE","$redirect",238],["T_WHITESPACE"," ",238],["T_IS_EQUAL","==",238],["T_WHITESPACE"," ",238],["T_VARIABLE","$match",238],")",";",["T_WHITESPACE","\n    ",238],"}",["T_WHITESPACE","\n\n    ",239],["T_DOC_COMMENT","\/**\n     * Check to see if content is NOT matched in selected nodes\n     *\n     * @param  Zend_Controller_Response_HttpTestCase $response\n     * @param  string $match\n     * @return bool\n     *\/",241],["T_WHITESPACE","\n    ",247],["T_PROTECTED","protected",248],["T_WHITESPACE"," ",248],["T_FUNCTION","function",248],["T_WHITESPACE"," ",248],["T_STRING","_notMatch",248],"(",["T_VARIABLE","$response",248],",",["T_WHITESPACE"," ",248],["T_VARIABLE","$match",248],")",["T_WHITESPACE","\n    ",248],"{",["T_WHITESPACE","\n        ",249],["T_IF","if",250],["T_WHITESPACE"," ",250],"(","!",["T_VARIABLE","$response",250],["T_OBJECT_OPERATOR","->",250],["T_STRING","isRedirect",250],"(",")",")",["T_WHITESPACE"," ",250],"{",["T_WHITESPACE","\n            ",250],["T_RETURN","return",251],["T_WHITESPACE"," ",251],["T_STRING","true",251],";",["T_WHITESPACE","\n        ",251],"}",["T_WHITESPACE","\n\n        ",252],["T_VARIABLE","$headers",254],["T_WHITESPACE","  ",254],"=",["T_WHITESPACE"," ",254],["T_VARIABLE","$response",254],["T_OBJECT_OPERATOR","->",254],["T_STRING","sendHeaders",254],"(",")",";",["T_WHITESPACE","\n        ",254],["T_VARIABLE","$redirect",255],["T_WHITESPACE"," ",255],"=",["T_WHITESPACE"," ",255],["T_VARIABLE","$headers",255],"[",["T_CONSTANT_ENCAPSED_STRING","'location'",255],"]",";",["T_WHITESPACE","\n        ",255],["T_VARIABLE","$redirect",256],["T_WHITESPACE"," ",256],"=",["T_WHITESPACE"," ",256],["T_STRING","str_replace",256],"(",["T_CONSTANT_ENCAPSED_STRING","'Location: '",256],",",["T_WHITESPACE"," ",256],["T_CONSTANT_ENCAPSED_STRING","''",256],",",["T_WHITESPACE"," ",256],["T_VARIABLE","$redirect",256],")",";",["T_WHITESPACE","\n        ",256],["T_VARIABLE","$this",257],["T_OBJECT_OPERATOR","->",257],["T_STRING","_actual",257],["T_WHITESPACE"," ",257],"=",["T_WHITESPACE"," ",257],["T_VARIABLE","$redirect",257],";",["T_WHITESPACE","\n\n        ",257],["T_RETURN","return",259],["T_WHITESPACE"," ",259],"(",["T_VARIABLE","$redirect",259],["T_WHITESPACE"," ",259],["T_IS_NOT_EQUAL","!=",259],["T_WHITESPACE"," ",259],["T_VARIABLE","$match",259],")",";",["T_WHITESPACE","\n    ",259],"}",["T_WHITESPACE","\n\n    ",260],["T_DOC_COMMENT","\/**\n     * Check to see if content is matched by regex in selected nodes\n     *\n     * @param  Zend_Controller_Response_HttpTestCase $response\n     * @param  string $pattern\n     * @return bool\n     *\/",262],["T_WHITESPACE","\n    ",268],["T_PROTECTED","protected",269],["T_WHITESPACE"," ",269],["T_FUNCTION","function",269],["T_WHITESPACE"," ",269],["T_STRING","_regex",269],"(",["T_VARIABLE","$response",269],",",["T_WHITESPACE"," ",269],["T_VARIABLE","$pattern",269],")",["T_WHITESPACE","\n    ",269],"{",["T_WHITESPACE","\n        ",270],["T_IF","if",271],["T_WHITESPACE"," ",271],"(","!",["T_VARIABLE","$response",271],["T_OBJECT_OPERATOR","->",271],["T_STRING","isRedirect",271],"(",")",")",["T_WHITESPACE"," ",271],"{",["T_WHITESPACE","\n            ",271],["T_RETURN","return",272],["T_WHITESPACE"," ",272],["T_STRING","false",272],";",["T_WHITESPACE","\n        ",272],"}",["T_WHITESPACE","\n\n        ",273],["T_VARIABLE","$headers",275],["T_WHITESPACE","  ",275],"=",["T_WHITESPACE"," ",275],["T_VARIABLE","$response",275],["T_OBJECT_OPERATOR","->",275],["T_STRING","sendHeaders",275],"(",")",";",["T_WHITESPACE","\n        ",275],["T_VARIABLE","$redirect",276],["T_WHITESPACE"," ",276],"=",["T_WHITESPACE"," ",276],["T_VARIABLE","$headers",276],"[",["T_CONSTANT_ENCAPSED_STRING","'location'",276],"]",";",["T_WHITESPACE","\n        ",276],["T_VARIABLE","$redirect",277],["T_WHITESPACE"," ",277],"=",["T_WHITESPACE"," ",277],["T_STRING","str_replace",277],"(",["T_CONSTANT_ENCAPSED_STRING","'Location: '",277],",",["T_WHITESPACE"," ",277],["T_CONSTANT_ENCAPSED_STRING","''",277],",",["T_WHITESPACE"," ",277],["T_VARIABLE","$redirect",277],")",";",["T_WHITESPACE","\n        ",277],["T_VARIABLE","$this",278],["T_OBJECT_OPERATOR","->",278],["T_STRING","_actual",278],["T_WHITESPACE"," ",278],"=",["T_WHITESPACE"," ",278],["T_VARIABLE","$redirect",278],";",["T_WHITESPACE","\n\n        ",278],["T_RETURN","return",280],["T_WHITESPACE"," ",280],["T_STRING","preg_match",280],"(",["T_VARIABLE","$pattern",280],",",["T_WHITESPACE"," ",280],["T_VARIABLE","$redirect",280],")",";",["T_WHITESPACE","\n    ",280],"}",["T_WHITESPACE","\n\n    ",281],["T_DOC_COMMENT","\/**\n     * Check to see if content is NOT matched by regex in selected nodes\n     *\n     * @param  Zend_Controller_Response_HttpTestCase $response\n     * @param  string $pattern\n     * @return bool\n     *\/",283],["T_WHITESPACE","\n    ",289],["T_PROTECTED","protected",290],["T_WHITESPACE"," ",290],["T_FUNCTION","function",290],["T_WHITESPACE"," ",290],["T_STRING","_notRegex",290],"(",["T_VARIABLE","$response",290],",",["T_WHITESPACE"," ",290],["T_VARIABLE","$pattern",290],")",["T_WHITESPACE","\n    ",290],"{",["T_WHITESPACE","\n        ",291],["T_IF","if",292],["T_WHITESPACE"," ",292],"(","!",["T_VARIABLE","$response",292],["T_OBJECT_OPERATOR","->",292],["T_STRING","isRedirect",292],"(",")",")",["T_WHITESPACE"," ",292],"{",["T_WHITESPACE","\n            ",292],["T_RETURN","return",293],["T_WHITESPACE"," ",293],["T_STRING","true",293],";",["T_WHITESPACE","\n        ",293],"}",["T_WHITESPACE","\n\n        ",294],["T_VARIABLE","$headers",296],["T_WHITESPACE","  ",296],"=",["T_WHITESPACE"," ",296],["T_VARIABLE","$response",296],["T_OBJECT_OPERATOR","->",296],["T_STRING","sendHeaders",296],"(",")",";",["T_WHITESPACE","\n        ",296],["T_VARIABLE","$redirect",297],["T_WHITESPACE"," ",297],"=",["T_WHITESPACE"," ",297],["T_VARIABLE","$headers",297],"[",["T_CONSTANT_ENCAPSED_STRING","'location'",297],"]",";",["T_WHITESPACE","\n        ",297],["T_VARIABLE","$redirect",298],["T_WHITESPACE"," ",298],"=",["T_WHITESPACE"," ",298],["T_STRING","str_replace",298],"(",["T_CONSTANT_ENCAPSED_STRING","'Location: '",298],",",["T_WHITESPACE"," ",298],["T_CONSTANT_ENCAPSED_STRING","''",298],",",["T_WHITESPACE"," ",298],["T_VARIABLE","$redirect",298],")",";",["T_WHITESPACE","\n        ",298],["T_VARIABLE","$this",299],["T_OBJECT_OPERATOR","->",299],["T_STRING","_actual",299],["T_WHITESPACE"," ",299],"=",["T_WHITESPACE"," ",299],["T_VARIABLE","$redirect",299],";",["T_WHITESPACE","\n\n        ",299],["T_RETURN","return",301],["T_WHITESPACE"," ",301],"!",["T_STRING","preg_match",301],"(",["T_VARIABLE","$pattern",301],",",["T_WHITESPACE"," ",301],["T_VARIABLE","$redirect",301],")",";",["T_WHITESPACE","\n    ",301],"}",["T_WHITESPACE","\n",302],"}",["T_WHITESPACE","\n",303]]