[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Zend Framework\n *\n * LICENSE\n *\n * This source file is subject to the new BSD license that is bundled\n * with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/framework.zend.com\/license\/new-bsd\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@zend.com so we can send you a copy immediately.\n *\n * @category   Zend\n * @package    Zend_Mobile\n * @subpackage Zend_Mobile_Push\n * @copyright  Copyright (c) 2005-2015 Zend Technologies USA Inc. (http:\/\/www.zend.com)\n * @license    http:\/\/framework.zend.com\/license\/new-bsd     New BSD License\n * @version    $Id$\n *\/",2],["T_WHITESPACE","\n\n",21],["T_DOC_COMMENT","\/** Zend_Mobile_Push_Abstract **\/",23],["T_WHITESPACE","\n",23],["T_COMMENT","#require_once 'Zend\/Mobile\/Push\/Abstract.php';\n",24],["T_WHITESPACE","\n",25],["T_DOC_COMMENT","\/** Zend_Mobile_Push_Message_Apns **\/",26],["T_WHITESPACE","\n",26],["T_COMMENT","#require_once 'Zend\/Mobile\/Push\/Message\/Apns.php';\n",27],["T_WHITESPACE","\n",28],["T_DOC_COMMENT","\/**\n * APNS Push\n *\n * @category   Zend\n * @package    Zend_Mobile\n * @subpackage Zend_Mobile_Push\n * @copyright  Copyright (c) 2005-2015 Zend Technologies USA Inc. (http:\/\/www.zend.com)\n * @license    http:\/\/framework.zend.com\/license\/new-bsd     New BSD License\n * @version    $Id$\n *\/",29],["T_WHITESPACE","\n",38],["T_CLASS","class",39],["T_WHITESPACE"," ",39],["T_STRING","Zend_Mobile_Push_Apns",39],["T_WHITESPACE"," ",39],["T_EXTENDS","extends",39],["T_WHITESPACE"," ",39],["T_STRING","Zend_Mobile_Push_Abstract",39],["T_WHITESPACE","\n",39],"{",["T_WHITESPACE","\n\n    ",40],["T_DOC_COMMENT","\/**\n     * @const int apple server uri constants\n     *\/",42],["T_WHITESPACE","\n    ",44],["T_CONST","const",45],["T_WHITESPACE"," ",45],["T_STRING","SERVER_SANDBOX_URI",45],["T_WHITESPACE"," ",45],"=",["T_WHITESPACE"," ",45],["T_LNUMBER","0",45],";",["T_WHITESPACE","\n    ",45],["T_CONST","const",46],["T_WHITESPACE"," ",46],["T_STRING","SERVER_PRODUCTION_URI",46],["T_WHITESPACE"," ",46],"=",["T_WHITESPACE"," ",46],["T_LNUMBER","1",46],";",["T_WHITESPACE","\n    ",46],["T_CONST","const",47],["T_WHITESPACE"," ",47],["T_STRING","SERVER_FEEDBACK_SANDBOX_URI",47],["T_WHITESPACE"," ",47],"=",["T_WHITESPACE"," ",47],["T_LNUMBER","2",47],";",["T_WHITESPACE","\n    ",47],["T_CONST","const",48],["T_WHITESPACE"," ",48],["T_STRING","SERVER_FEEDBACK_PRODUCTION_URI",48],["T_WHITESPACE"," ",48],"=",["T_WHITESPACE"," ",48],["T_LNUMBER","3",48],";",["T_WHITESPACE","\n\n    ",48],["T_DOC_COMMENT","\/**\n     * Apple Server URI's\n     *\n     * @var array\n     *\/",50],["T_WHITESPACE","\n    ",54],["T_PROTECTED","protected",55],["T_WHITESPACE"," ",55],["T_VARIABLE","$_serverUriList",55],["T_WHITESPACE"," ",55],"=",["T_WHITESPACE"," ",55],["T_ARRAY","array",55],"(",["T_WHITESPACE","\n        ",55],["T_CONSTANT_ENCAPSED_STRING","'ssl:\/\/gateway.sandbox.push.apple.com:2195'",56],",",["T_WHITESPACE","\n        ",56],["T_CONSTANT_ENCAPSED_STRING","'ssl:\/\/gateway.push.apple.com:2195'",57],",",["T_WHITESPACE","\n        ",57],["T_CONSTANT_ENCAPSED_STRING","'ssl:\/\/feedback.sandbox.push.apple.com:2196'",58],",",["T_WHITESPACE","\n        ",58],["T_CONSTANT_ENCAPSED_STRING","'ssl:\/\/feedback.push.apple.com:2196'",59],["T_WHITESPACE","\n    ",59],")",";",["T_WHITESPACE","\n\n    ",60],["T_DOC_COMMENT","\/**\n     * Current Environment\n     *\n     * @var int\n     *\/",62],["T_WHITESPACE","\n    ",66],["T_PROTECTED","protected",67],["T_WHITESPACE"," ",67],["T_VARIABLE","$_currentEnv",67],";",["T_WHITESPACE","\n\n    ",67],["T_DOC_COMMENT","\/**\n     * Socket\n     *\n     * @var resource\n     *\/",69],["T_WHITESPACE","\n    ",73],["T_PROTECTED","protected",74],["T_WHITESPACE"," ",74],["T_VARIABLE","$_socket",74],";",["T_WHITESPACE","\n\n    ",74],["T_DOC_COMMENT","\/**\n     * Certificate\n     *\n     * @var string\n     *\/",76],["T_WHITESPACE","\n    ",80],["T_PROTECTED","protected",81],["T_WHITESPACE"," ",81],["T_VARIABLE","$_certificate",81],";",["T_WHITESPACE","\n\n    ",81],["T_DOC_COMMENT","\/**\n     * Certificate Passphrase\n     *\n     * @var string\n     *\/",83],["T_WHITESPACE","\n    ",87],["T_PROTECTED","protected",88],["T_WHITESPACE"," ",88],["T_VARIABLE","$_certificatePassphrase",88],";",["T_WHITESPACE","\n\n    ",88],["T_DOC_COMMENT","\/**\n     * Get Certficiate\n     *\n     * @return string\n     *\/",90],["T_WHITESPACE","\n    ",94],["T_PUBLIC","public",95],["T_WHITESPACE"," ",95],["T_FUNCTION","function",95],["T_WHITESPACE"," ",95],["T_STRING","getCertificate",95],"(",")",["T_WHITESPACE","\n    ",95],"{",["T_WHITESPACE","\n        ",96],["T_RETURN","return",97],["T_WHITESPACE"," ",97],["T_VARIABLE","$this",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","_certificate",97],";",["T_WHITESPACE","\n    ",97],"}",["T_WHITESPACE","\n\n    ",98],["T_DOC_COMMENT","\/**\n     * Set Certificate\n     *\n     * @param  string $cert\n     * @return Zend_Mobile_Push_Apns\n     * @throws Zend_Mobile_Push_Exception\n     *\/",100],["T_WHITESPACE","\n    ",106],["T_PUBLIC","public",107],["T_WHITESPACE"," ",107],["T_FUNCTION","function",107],["T_WHITESPACE"," ",107],["T_STRING","setCertificate",107],"(",["T_VARIABLE","$cert",107],")",["T_WHITESPACE","\n    ",107],"{",["T_WHITESPACE","\n        ",108],["T_IF","if",109],["T_WHITESPACE"," ",109],"(","!",["T_STRING","is_string",109],"(",["T_VARIABLE","$cert",109],")",")",["T_WHITESPACE"," ",109],"{",["T_WHITESPACE","\n            ",109],["T_THROW","throw",110],["T_WHITESPACE"," ",110],["T_NEW","new",110],["T_WHITESPACE"," ",110],["T_STRING","Zend_Mobile_Push_Exception",110],"(",["T_CONSTANT_ENCAPSED_STRING","'$cert must be a string'",110],")",";",["T_WHITESPACE","\n        ",110],"}",["T_WHITESPACE","\n        ",111],["T_IF","if",112],["T_WHITESPACE"," ",112],"(","!",["T_STRING","file_exists",112],"(",["T_VARIABLE","$cert",112],")",")",["T_WHITESPACE"," ",112],"{",["T_WHITESPACE","\n            ",112],["T_THROW","throw",113],["T_WHITESPACE"," ",113],["T_NEW","new",113],["T_WHITESPACE"," ",113],["T_STRING","Zend_Mobile_Push_Exception",113],"(",["T_CONSTANT_ENCAPSED_STRING","'$cert must be a valid path to the certificate'",113],")",";",["T_WHITESPACE","\n        ",113],"}",["T_WHITESPACE","\n        ",114],["T_VARIABLE","$this",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","_certificate",115],["T_WHITESPACE"," ",115],"=",["T_WHITESPACE"," ",115],["T_VARIABLE","$cert",115],";",["T_WHITESPACE","\n        ",115],["T_RETURN","return",116],["T_WHITESPACE"," ",116],["T_VARIABLE","$this",116],";",["T_WHITESPACE","\n    ",116],"}",["T_WHITESPACE","\n\n    ",117],["T_DOC_COMMENT","\/**\n     * Get Certificate Passphrase\n     *\n     * @return string\n     *\/",119],["T_WHITESPACE","\n    ",123],["T_PUBLIC","public",124],["T_WHITESPACE"," ",124],["T_FUNCTION","function",124],["T_WHITESPACE"," ",124],["T_STRING","getCertificatePassphrase",124],"(",")",["T_WHITESPACE","\n    ",124],"{",["T_WHITESPACE","\n        ",125],["T_RETURN","return",126],["T_WHITESPACE"," ",126],["T_VARIABLE","$this",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","_certificatePassphrase",126],";",["T_WHITESPACE","\n    ",126],"}",["T_WHITESPACE","\n\n    ",127],["T_DOC_COMMENT","\/**\n     * Set Certificate Passphrase\n     *\n     * @param  string $passphrase\n     * @return Zend_Mobile_Push_Apns\n     * @throws Zend_Mobile_Push_Exception\n     *\/",129],["T_WHITESPACE","\n    ",135],["T_PUBLIC","public",136],["T_WHITESPACE"," ",136],["T_FUNCTION","function",136],["T_WHITESPACE"," ",136],["T_STRING","setCertificatePassphrase",136],"(",["T_VARIABLE","$passphrase",136],")",["T_WHITESPACE","\n    ",136],"{",["T_WHITESPACE","\n        ",137],["T_IF","if",138],["T_WHITESPACE"," ",138],"(","!",["T_STRING","is_string",138],"(",["T_VARIABLE","$passphrase",138],")",")",["T_WHITESPACE"," ",138],"{",["T_WHITESPACE","\n            ",138],["T_THROW","throw",139],["T_WHITESPACE"," ",139],["T_NEW","new",139],["T_WHITESPACE"," ",139],["T_STRING","Zend_Mobile_Push_Exception",139],"(",["T_CONSTANT_ENCAPSED_STRING","'$passphrase must be a string'",139],")",";",["T_WHITESPACE","\n        ",139],"}",["T_WHITESPACE","\n        ",140],["T_VARIABLE","$this",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","_certificatePassphrase",141],["T_WHITESPACE"," ",141],"=",["T_WHITESPACE"," ",141],["T_VARIABLE","$passphrase",141],";",["T_WHITESPACE","\n        ",141],["T_RETURN","return",142],["T_WHITESPACE"," ",142],["T_VARIABLE","$this",142],";",["T_WHITESPACE","\n    ",142],"}",["T_WHITESPACE","\n\n    ",143],["T_DOC_COMMENT","\/**\n     * Connect to Socket\n     *\n     * @param  string $uri\n     * @return bool\n     * @throws Zend_Mobile_Push_Exception_ServerUnavailable\n     *\/",145],["T_WHITESPACE","\n    ",151],["T_PROTECTED","protected",152],["T_WHITESPACE"," ",152],["T_FUNCTION","function",152],["T_WHITESPACE"," ",152],["T_STRING","_connect",152],"(",["T_VARIABLE","$uri",152],")",["T_WHITESPACE","\n    ",152],"{",["T_WHITESPACE","\n        ",153],["T_VARIABLE","$ssl",154],["T_WHITESPACE"," ",154],"=",["T_WHITESPACE"," ",154],["T_ARRAY","array",154],"(",["T_WHITESPACE","\n            ",154],["T_CONSTANT_ENCAPSED_STRING","'local_cert'",155],["T_WHITESPACE"," ",155],["T_DOUBLE_ARROW","=>",155],["T_WHITESPACE"," ",155],["T_VARIABLE","$this",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","_certificate",155],",",["T_WHITESPACE","\n        ",155],")",";",["T_WHITESPACE","\n        ",156],["T_IF","if",157],["T_WHITESPACE"," ",157],"(",["T_VARIABLE","$this",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","_certificatePassphrase",157],")",["T_WHITESPACE"," ",157],"{",["T_WHITESPACE","\n            ",157],["T_VARIABLE","$ssl",158],"[",["T_CONSTANT_ENCAPSED_STRING","'passphrase'",158],"]",["T_WHITESPACE"," ",158],"=",["T_WHITESPACE"," ",158],["T_VARIABLE","$this",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","_certificatePassphrase",158],";",["T_WHITESPACE","\n        ",158],"}",["T_WHITESPACE","\n\n        ",159],["T_VARIABLE","$this",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","_socket",161],["T_WHITESPACE"," ",161],"=",["T_WHITESPACE"," ",161],["T_STRING","stream_socket_client",161],"(",["T_VARIABLE","$uri",161],",",["T_WHITESPACE","\n            ",161],["T_VARIABLE","$errno",162],",",["T_WHITESPACE","\n            ",162],["T_VARIABLE","$errstr",163],",",["T_WHITESPACE","\n            ",163],["T_STRING","ini_get",164],"(",["T_CONSTANT_ENCAPSED_STRING","'default_socket_timeout'",164],")",",",["T_WHITESPACE","\n            ",164],["T_STRING","STREAM_CLIENT_CONNECT",165],",",["T_WHITESPACE","\n            ",165],["T_STRING","stream_context_create",166],"(",["T_ARRAY","array",166],"(",["T_WHITESPACE","\n                ",166],["T_CONSTANT_ENCAPSED_STRING","'ssl'",167],["T_WHITESPACE"," ",167],["T_DOUBLE_ARROW","=>",167],["T_WHITESPACE"," ",167],["T_VARIABLE","$ssl",167],",",["T_WHITESPACE","\n            ",167],")",")",["T_WHITESPACE","\n        ",168],")",";",["T_WHITESPACE","\n\n        ",169],["T_IF","if",171],["T_WHITESPACE"," ",171],"(","!",["T_STRING","is_resource",171],"(",["T_VARIABLE","$this",171],["T_OBJECT_OPERATOR","->",171],["T_STRING","_socket",171],")",")",["T_WHITESPACE"," ",171],"{",["T_WHITESPACE","\n            ",171],["T_COMMENT","#require_once 'Zend\/Mobile\/Push\/Exception\/ServerUnavailable.php';\n",172],["T_WHITESPACE","            ",173],["T_THROW","throw",173],["T_WHITESPACE"," ",173],["T_NEW","new",173],["T_WHITESPACE"," ",173],["T_STRING","Zend_Mobile_Push_Exception_ServerUnavailable",173],"(",["T_STRING","sprintf",173],"(",["T_CONSTANT_ENCAPSED_STRING","'Unable to connect: %s: %d (%s)'",173],",",["T_WHITESPACE","\n                ",173],["T_VARIABLE","$uri",174],",",["T_WHITESPACE","\n                ",174],["T_VARIABLE","$errno",175],",",["T_WHITESPACE","\n                ",175],["T_VARIABLE","$errstr",176],["T_WHITESPACE","\n            ",176],")",")",";",["T_WHITESPACE","\n        ",177],"}",["T_WHITESPACE","\n\n        ",178],["T_STRING","stream_set_blocking",180],"(",["T_VARIABLE","$this",180],["T_OBJECT_OPERATOR","->",180],["T_STRING","_socket",180],",",["T_WHITESPACE"," ",180],["T_LNUMBER","0",180],")",";",["T_WHITESPACE","\n        ",180],["T_STRING","stream_set_write_buffer",181],"(",["T_VARIABLE","$this",181],["T_OBJECT_OPERATOR","->",181],["T_STRING","_socket",181],",",["T_WHITESPACE"," ",181],["T_LNUMBER","0",181],")",";",["T_WHITESPACE","\n        ",181],["T_RETURN","return",182],["T_WHITESPACE"," ",182],["T_STRING","true",182],";",["T_WHITESPACE","\n    ",182],"}",["T_WHITESPACE","\n\n    ",183],["T_DOC_COMMENT","\/**\n    * Read from the Socket Server\n    * \n    * @param int $length\n    * @return string\n    *\/",185],["T_WHITESPACE","\n    ",190],["T_PROTECTED","protected",191],["T_WHITESPACE"," ",191],["T_FUNCTION","function",191],["T_WHITESPACE"," ",191],["T_STRING","_read",191],"(",["T_VARIABLE","$length",191],")",["T_WHITESPACE"," ",191],"{",["T_WHITESPACE","\n        ",191],["T_VARIABLE","$data",192],["T_WHITESPACE"," ",192],"=",["T_WHITESPACE"," ",192],["T_STRING","false",192],";",["T_WHITESPACE","\n        ",192],["T_IF","if",193],["T_WHITESPACE"," ",193],"(","!",["T_STRING","feof",193],"(",["T_VARIABLE","$this",193],["T_OBJECT_OPERATOR","->",193],["T_STRING","_socket",193],")",")",["T_WHITESPACE"," ",193],"{",["T_WHITESPACE","\n            ",193],["T_VARIABLE","$data",194],["T_WHITESPACE"," ",194],"=",["T_WHITESPACE"," ",194],["T_STRING","fread",194],"(",["T_VARIABLE","$this",194],["T_OBJECT_OPERATOR","->",194],["T_STRING","_socket",194],",",["T_WHITESPACE"," ",194],["T_VARIABLE","$length",194],")",";",["T_WHITESPACE","\n        ",194],"}",["T_WHITESPACE","\n        ",195],["T_RETURN","return",196],["T_WHITESPACE"," ",196],["T_VARIABLE","$data",196],";",["T_WHITESPACE","\n    ",196],"}",["T_WHITESPACE","\n\n    ",197],["T_DOC_COMMENT","\/**\n    * Write to the Socket Server\n    * \n    * @param string $payload\n    * @return int\n    *\/",199],["T_WHITESPACE","\n    ",204],["T_PROTECTED","protected",205],["T_WHITESPACE"," ",205],["T_FUNCTION","function",205],["T_WHITESPACE"," ",205],["T_STRING","_write",205],"(",["T_VARIABLE","$payload",205],")",["T_WHITESPACE"," ",205],"{",["T_WHITESPACE","\n        ",205],["T_RETURN","return",206],["T_WHITESPACE"," ",206],"@",["T_STRING","fwrite",206],"(",["T_VARIABLE","$this",206],["T_OBJECT_OPERATOR","->",206],["T_STRING","_socket",206],",",["T_WHITESPACE"," ",206],["T_VARIABLE","$payload",206],")",";",["T_WHITESPACE","\n    ",206],"}",["T_WHITESPACE","\n\n    ",207],["T_DOC_COMMENT","\/**\n     * Connect to the Push Server\n     *\n     * @param  int|string $env\n     * @throws Zend_Mobile_Push_Exception\n     * @throws Zend_Mobile_Push_Exception_ServerUnavailable\n     * @return Zend_Mobile_Push_Abstract\n     *\/",209],["T_WHITESPACE","\n    ",216],["T_PUBLIC","public",217],["T_WHITESPACE"," ",217],["T_FUNCTION","function",217],["T_WHITESPACE"," ",217],["T_STRING","connect",217],"(",["T_VARIABLE","$env",217],["T_WHITESPACE"," ",217],"=",["T_WHITESPACE"," ",217],["T_STRING","self",217],["T_DOUBLE_COLON","::",217],["T_STRING","SERVER_PRODUCTION_URI",217],")",["T_WHITESPACE","\n    ",217],"{",["T_WHITESPACE","\n        ",218],["T_IF","if",219],["T_WHITESPACE"," ",219],"(",["T_VARIABLE","$this",219],["T_OBJECT_OPERATOR","->",219],["T_STRING","_isConnected",219],")",["T_WHITESPACE"," ",219],"{",["T_WHITESPACE","\n            ",219],["T_IF","if",220],["T_WHITESPACE"," ",220],"(",["T_VARIABLE","$this",220],["T_OBJECT_OPERATOR","->",220],["T_STRING","_currentEnv",220],["T_WHITESPACE"," ",220],["T_IS_EQUAL","==",220],["T_WHITESPACE"," ",220],["T_STRING","self",220],["T_DOUBLE_COLON","::",220],["T_STRING","SERVER_PRODUCTION_URI",220],")",["T_WHITESPACE"," ",220],"{",["T_WHITESPACE","\n                ",220],["T_RETURN","return",221],["T_WHITESPACE"," ",221],["T_VARIABLE","$this",221],";",["T_WHITESPACE","\n            ",221],"}",["T_WHITESPACE","\n            ",222],["T_VARIABLE","$this",223],["T_OBJECT_OPERATOR","->",223],["T_STRING","close",223],"(",")",";",["T_WHITESPACE","\n        ",223],"}",["T_WHITESPACE","\n\n        ",224],["T_IF","if",226],["T_WHITESPACE"," ",226],"(","!",["T_ISSET","isset",226],"(",["T_VARIABLE","$this",226],["T_OBJECT_OPERATOR","->",226],["T_STRING","_serverUriList",226],"[",["T_VARIABLE","$env",226],"]",")",")",["T_WHITESPACE"," ",226],"{",["T_WHITESPACE","\n            ",226],["T_THROW","throw",227],["T_WHITESPACE"," ",227],["T_NEW","new",227],["T_WHITESPACE"," ",227],["T_STRING","Zend_Mobile_Push_Exception",227],"(",["T_CONSTANT_ENCAPSED_STRING","'$env is not a valid environment'",227],")",";",["T_WHITESPACE","\n        ",227],"}",["T_WHITESPACE","\n\n        ",228],["T_IF","if",230],["T_WHITESPACE"," ",230],"(","!",["T_VARIABLE","$this",230],["T_OBJECT_OPERATOR","->",230],["T_STRING","_certificate",230],")",["T_WHITESPACE"," ",230],"{",["T_WHITESPACE","\n            ",230],["T_THROW","throw",231],["T_WHITESPACE"," ",231],["T_NEW","new",231],["T_WHITESPACE"," ",231],["T_STRING","Zend_Mobile_Push_Exception",231],"(",["T_CONSTANT_ENCAPSED_STRING","'A certificate must be set prior to calling ::connect'",231],")",";",["T_WHITESPACE","\n        ",231],"}",["T_WHITESPACE","\n\n        ",232],["T_VARIABLE","$this",234],["T_OBJECT_OPERATOR","->",234],["T_STRING","_connect",234],"(",["T_VARIABLE","$this",234],["T_OBJECT_OPERATOR","->",234],["T_STRING","_serverUriList",234],"[",["T_VARIABLE","$env",234],"]",")",";",["T_WHITESPACE","\n\n        ",234],["T_VARIABLE","$this",236],["T_OBJECT_OPERATOR","->",236],["T_STRING","_currentEnv",236],["T_WHITESPACE"," ",236],"=",["T_WHITESPACE"," ",236],["T_VARIABLE","$env",236],";",["T_WHITESPACE","\n        ",236],["T_VARIABLE","$this",237],["T_OBJECT_OPERATOR","->",237],["T_STRING","_isConnected",237],["T_WHITESPACE"," ",237],"=",["T_WHITESPACE"," ",237],["T_STRING","true",237],";",["T_WHITESPACE","\n        ",237],["T_RETURN","return",238],["T_WHITESPACE"," ",238],["T_VARIABLE","$this",238],";",["T_WHITESPACE","\n    ",238],"}",["T_WHITESPACE","\n\n\n\n    ",239],["T_DOC_COMMENT","\/**\n     * Feedback\n     *\n     * @return array array w\/ key = token and value = time\n     * @throws Zend_Mobile_Push_Exception\n     * @throws Zend_Mobile_Push_Exception_ServerUnavailable\n     *\/",243],["T_WHITESPACE","\n    ",249],["T_PUBLIC","public",250],["T_WHITESPACE"," ",250],["T_FUNCTION","function",250],["T_WHITESPACE"," ",250],["T_STRING","feedback",250],"(",")",["T_WHITESPACE","\n    ",250],"{",["T_WHITESPACE","\n        ",251],["T_IF","if",252],["T_WHITESPACE"," ",252],"(","!",["T_VARIABLE","$this",252],["T_OBJECT_OPERATOR","->",252],["T_STRING","_isConnected",252],["T_WHITESPACE"," ",252],["T_BOOLEAN_OR","||",252],["T_WHITESPACE","\n            ",252],"!",["T_STRING","in_array",253],"(",["T_VARIABLE","$this",253],["T_OBJECT_OPERATOR","->",253],["T_STRING","_currentEnv",253],",",["T_WHITESPACE","\n                ",253],["T_ARRAY","array",254],"(",["T_STRING","self",254],["T_DOUBLE_COLON","::",254],["T_STRING","SERVER_FEEDBACK_SANDBOX_URI",254],",",["T_WHITESPACE"," ",254],["T_STRING","self",254],["T_DOUBLE_COLON","::",254],["T_STRING","SERVER_FEEDBACK_PRODUCTION_URI",254],")",")",")",["T_WHITESPACE"," ",254],"{",["T_WHITESPACE","\n            ",254],["T_VARIABLE","$this",255],["T_OBJECT_OPERATOR","->",255],["T_STRING","connect",255],"(",["T_STRING","self",255],["T_DOUBLE_COLON","::",255],["T_STRING","SERVER_FEEDBACK_PRODUCTION_URI",255],")",";",["T_WHITESPACE","\n        ",255],"}",["T_WHITESPACE","\n\n        ",256],["T_VARIABLE","$tokens",258],["T_WHITESPACE"," ",258],"=",["T_WHITESPACE"," ",258],["T_ARRAY","array",258],"(",")",";",["T_WHITESPACE","\n        ",258],["T_WHILE","while",259],["T_WHITESPACE"," ",259],"(",["T_VARIABLE","$token",259],["T_WHITESPACE"," ",259],"=",["T_WHITESPACE"," ",259],["T_VARIABLE","$this",259],["T_OBJECT_OPERATOR","->",259],["T_STRING","_read",259],"(",["T_LNUMBER","38",259],")",")",["T_WHITESPACE"," ",259],"{",["T_WHITESPACE","\n            ",259],["T_IF","if",260],["T_WHITESPACE"," ",260],"(",["T_STRING","strlen",260],"(",["T_VARIABLE","$token",260],")",["T_WHITESPACE"," ",260],"<",["T_WHITESPACE"," ",260],["T_LNUMBER","38",260],")",["T_WHITESPACE"," ",260],"{",["T_WHITESPACE","\n                ",260],["T_CONTINUE","continue",261],";",["T_WHITESPACE","\n            ",261],"}",["T_WHITESPACE","\n            ",262],["T_VARIABLE","$token",263],["T_WHITESPACE"," ",263],"=",["T_WHITESPACE"," ",263],["T_STRING","unpack",263],"(",["T_CONSTANT_ENCAPSED_STRING","'Ntime\/ntokenLength\/H*token'",263],",",["T_WHITESPACE"," ",263],["T_VARIABLE","$token",263],")",";",["T_WHITESPACE","\n            ",263],["T_IF","if",264],["T_WHITESPACE"," ",264],"(","!",["T_ISSET","isset",264],"(",["T_VARIABLE","$tokens",264],"[",["T_VARIABLE","$token",264],"[",["T_CONSTANT_ENCAPSED_STRING","'token'",264],"]","]",")",["T_WHITESPACE"," ",264],["T_BOOLEAN_OR","||",264],["T_WHITESPACE"," ",264],["T_VARIABLE","$tokens",264],"[",["T_VARIABLE","$token",264],"[",["T_CONSTANT_ENCAPSED_STRING","'token'",264],"]","]",["T_WHITESPACE"," ",264],"<",["T_WHITESPACE"," ",264],["T_VARIABLE","$token",264],"[",["T_CONSTANT_ENCAPSED_STRING","'time'",264],"]",")",["T_WHITESPACE"," ",264],"{",["T_WHITESPACE","\n                ",264],["T_VARIABLE","$tokens",265],"[",["T_VARIABLE","$token",265],"[",["T_CONSTANT_ENCAPSED_STRING","'token'",265],"]","]",["T_WHITESPACE"," ",265],"=",["T_WHITESPACE"," ",265],["T_VARIABLE","$token",265],"[",["T_CONSTANT_ENCAPSED_STRING","'time'",265],"]",";",["T_WHITESPACE","\n            ",265],"}",["T_WHITESPACE","\n        ",266],"}",["T_WHITESPACE","\n        ",267],["T_RETURN","return",268],["T_WHITESPACE"," ",268],["T_VARIABLE","$tokens",268],";",["T_WHITESPACE","\n    ",268],"}",["T_WHITESPACE","\n\n    ",269],["T_DOC_COMMENT","\/**\n     * Send Message\n     *\n     * @param  Zend_Mobile_Push_Message_Abstract $message\n     * @throws Zend_Mobile_Push_Exception\n     * @throws Zend_Mobile_Push_Exception_InvalidPayload\n     * @throws Zend_Mobile_Push_Exception_InvalidToken\n     * @throws Zend_Mobile_Push_Exception_InvalidTopic\n     * @throws Zend_Mobile_Push_Exception_ServerUnavailable\n     * @return bool\n     *\/",271],["T_WHITESPACE","\n    ",281],["T_PUBLIC","public",282],["T_WHITESPACE"," ",282],["T_FUNCTION","function",282],["T_WHITESPACE"," ",282],["T_STRING","send",282],"(",["T_STRING","Zend_Mobile_Push_Message_Abstract",282],["T_WHITESPACE"," ",282],["T_VARIABLE","$message",282],")",["T_WHITESPACE","\n    ",282],"{",["T_WHITESPACE","\n        ",283],["T_IF","if",284],["T_WHITESPACE"," ",284],"(","!",["T_VARIABLE","$message",284],["T_OBJECT_OPERATOR","->",284],["T_STRING","validate",284],"(",")",")",["T_WHITESPACE"," ",284],"{",["T_WHITESPACE","\n            ",284],["T_THROW","throw",285],["T_WHITESPACE"," ",285],["T_NEW","new",285],["T_WHITESPACE"," ",285],["T_STRING","Zend_Mobile_Push_Exception",285],"(",["T_CONSTANT_ENCAPSED_STRING","'The message is not valid.'",285],")",";",["T_WHITESPACE","\n        ",285],"}",["T_WHITESPACE","\n\n        ",286],["T_IF","if",288],["T_WHITESPACE"," ",288],"(","!",["T_VARIABLE","$this",288],["T_OBJECT_OPERATOR","->",288],["T_STRING","_isConnected",288],["T_WHITESPACE"," ",288],["T_BOOLEAN_OR","||",288],["T_WHITESPACE"," ",288],"!",["T_STRING","in_array",288],"(",["T_VARIABLE","$this",288],["T_OBJECT_OPERATOR","->",288],["T_STRING","_currentEnv",288],",",["T_WHITESPACE"," ",288],["T_ARRAY","array",288],"(",["T_WHITESPACE","\n            ",288],["T_STRING","self",289],["T_DOUBLE_COLON","::",289],["T_STRING","SERVER_SANDBOX_URI",289],",",["T_WHITESPACE","\n            ",289],["T_STRING","self",290],["T_DOUBLE_COLON","::",290],["T_STRING","SERVER_PRODUCTION_URI",290],")",")",")",["T_WHITESPACE"," ",290],"{",["T_WHITESPACE","\n            ",290],["T_VARIABLE","$this",291],["T_OBJECT_OPERATOR","->",291],["T_STRING","connect",291],"(",["T_STRING","self",291],["T_DOUBLE_COLON","::",291],["T_STRING","SERVER_PRODUCTION_URI",291],")",";",["T_WHITESPACE","\n        ",291],"}",["T_WHITESPACE","\n\n        ",292],["T_VARIABLE","$payload",294],["T_WHITESPACE"," ",294],"=",["T_WHITESPACE"," ",294],["T_ARRAY","array",294],"(",["T_CONSTANT_ENCAPSED_STRING","'aps'",294],["T_WHITESPACE"," ",294],["T_DOUBLE_ARROW","=>",294],["T_WHITESPACE"," ",294],["T_ARRAY","array",294],"(",")",")",";",["T_WHITESPACE","\n\n        ",294],["T_VARIABLE","$alert",296],["T_WHITESPACE"," ",296],"=",["T_WHITESPACE"," ",296],["T_VARIABLE","$message",296],["T_OBJECT_OPERATOR","->",296],["T_STRING","getAlert",296],"(",")",";",["T_WHITESPACE","\n        ",296],["T_FOREACH","foreach",297],["T_WHITESPACE"," ",297],"(",["T_VARIABLE","$alert",297],["T_WHITESPACE"," ",297],["T_AS","as",297],["T_WHITESPACE"," ",297],["T_VARIABLE","$k",297],["T_WHITESPACE"," ",297],["T_DOUBLE_ARROW","=>",297],["T_WHITESPACE"," ",297],["T_VARIABLE","$v",297],")",["T_WHITESPACE"," ",297],"{",["T_WHITESPACE","\n            ",297],["T_IF","if",298],["T_WHITESPACE"," ",298],"(",["T_VARIABLE","$v",298],["T_WHITESPACE"," ",298],["T_IS_EQUAL","==",298],["T_WHITESPACE"," ",298],["T_STRING","null",298],")",["T_WHITESPACE"," ",298],"{",["T_WHITESPACE","\n                ",298],["T_UNSET","unset",299],"(",["T_VARIABLE","$alert",299],"[",["T_VARIABLE","$k",299],"]",")",";",["T_WHITESPACE","\n            ",299],"}",["T_WHITESPACE","\n        ",300],"}",["T_WHITESPACE","\n        ",301],["T_IF","if",302],["T_WHITESPACE"," ",302],"(","!",["T_EMPTY","empty",302],"(",["T_VARIABLE","$alert",302],")",")",["T_WHITESPACE"," ",302],"{",["T_WHITESPACE","\n            ",302],["T_VARIABLE","$payload",303],"[",["T_CONSTANT_ENCAPSED_STRING","'aps'",303],"]","[",["T_CONSTANT_ENCAPSED_STRING","'alert'",303],"]",["T_WHITESPACE"," ",303],"=",["T_WHITESPACE"," ",303],["T_VARIABLE","$alert",303],";",["T_WHITESPACE","\n        ",303],"}",["T_WHITESPACE","\n        ",304],["T_IF","if",305],["T_WHITESPACE"," ",305],"(","!",["T_STRING","is_null",305],"(",["T_VARIABLE","$message",305],["T_OBJECT_OPERATOR","->",305],["T_STRING","getBadge",305],"(",")",")",")",["T_WHITESPACE"," ",305],"{",["T_WHITESPACE","\n            ",305],["T_VARIABLE","$payload",306],"[",["T_CONSTANT_ENCAPSED_STRING","'aps'",306],"]","[",["T_CONSTANT_ENCAPSED_STRING","'badge'",306],"]",["T_WHITESPACE"," ",306],"=",["T_WHITESPACE"," ",306],["T_VARIABLE","$message",306],["T_OBJECT_OPERATOR","->",306],["T_STRING","getBadge",306],"(",")",";",["T_WHITESPACE","\n        ",306],"}",["T_WHITESPACE","\n        ",307],["T_VARIABLE","$sound",308],["T_WHITESPACE"," ",308],"=",["T_WHITESPACE"," ",308],["T_VARIABLE","$message",308],["T_OBJECT_OPERATOR","->",308],["T_STRING","getSound",308],"(",")",";",["T_WHITESPACE","\n        ",308],["T_IF","if",309],["T_WHITESPACE"," ",309],"(","!",["T_EMPTY","empty",309],"(",["T_VARIABLE","$sound",309],")",")",["T_WHITESPACE"," ",309],"{",["T_WHITESPACE","\n            ",309],["T_VARIABLE","$payload",310],"[",["T_CONSTANT_ENCAPSED_STRING","'aps'",310],"]","[",["T_CONSTANT_ENCAPSED_STRING","'sound'",310],"]",["T_WHITESPACE"," ",310],"=",["T_WHITESPACE"," ",310],["T_VARIABLE","$sound",310],";",["T_WHITESPACE","\n        ",310],"}",["T_WHITESPACE","\n\n        ",311],["T_FOREACH","foreach",313],"(",["T_VARIABLE","$message",313],["T_OBJECT_OPERATOR","->",313],["T_STRING","getCustomData",313],"(",")",["T_WHITESPACE"," ",313],["T_AS","as",313],["T_WHITESPACE"," ",313],["T_VARIABLE","$k",313],["T_WHITESPACE"," ",313],["T_DOUBLE_ARROW","=>",313],["T_WHITESPACE"," ",313],["T_VARIABLE","$v",313],")",["T_WHITESPACE"," ",313],"{",["T_WHITESPACE","\n            ",313],["T_VARIABLE","$payload",314],"[",["T_VARIABLE","$k",314],"]",["T_WHITESPACE"," ",314],"=",["T_WHITESPACE"," ",314],["T_VARIABLE","$v",314],";",["T_WHITESPACE","\n        ",314],"}",["T_WHITESPACE","\n        \n        ",315],["T_IF","if",317],["T_WHITESPACE"," ",317],"(",["T_STRING","version_compare",317],"(",["T_STRING","PHP_VERSION",317],",",["T_WHITESPACE"," ",317],["T_CONSTANT_ENCAPSED_STRING","'5.4.0'",317],")",["T_WHITESPACE"," ",317],["T_IS_GREATER_OR_EQUAL",">=",317],["T_WHITESPACE"," ",317],["T_LNUMBER","0",317],")",["T_WHITESPACE"," ",317],"{",["T_WHITESPACE","\n            ",317],["T_VARIABLE","$payload",318],["T_WHITESPACE"," ",318],"=",["T_WHITESPACE"," ",318],["T_STRING","json_encode",318],"(",["T_VARIABLE","$payload",318],",",["T_WHITESPACE"," ",318],["T_STRING","JSON_UNESCAPED_UNICODE",318],["T_WHITESPACE"," ",318],"|",["T_WHITESPACE"," ",318],["T_STRING","JSON_UNESCAPED_SLASHES",318],")",";",["T_WHITESPACE","\n        ",318],"}",["T_WHITESPACE"," ",319],["T_ELSE","else",319],["T_WHITESPACE"," ",319],"{",["T_WHITESPACE","\n            ",319],["T_VARIABLE","$payload",320],["T_WHITESPACE"," ",320],"=",["T_WHITESPACE"," ",320],["T_STRING","json_encode",320],"(",["T_VARIABLE","$payload",320],")",";",["T_WHITESPACE","\n        ",320],"}",["T_WHITESPACE","\n\n        ",321],["T_VARIABLE","$expire",323],["T_WHITESPACE"," ",323],"=",["T_WHITESPACE"," ",323],["T_VARIABLE","$message",323],["T_OBJECT_OPERATOR","->",323],["T_STRING","getExpire",323],"(",")",";",["T_WHITESPACE","\n        ",323],["T_IF","if",324],["T_WHITESPACE"," ",324],"(",["T_VARIABLE","$expire",324],["T_WHITESPACE"," ",324],">",["T_WHITESPACE"," ",324],["T_LNUMBER","0",324],")",["T_WHITESPACE"," ",324],"{",["T_WHITESPACE","\n            ",324],["T_VARIABLE","$expire",325],["T_WHITESPACE"," ",325],["T_PLUS_EQUAL","+=",325],["T_WHITESPACE"," ",325],["T_STRING","time",325],"(",")",";",["T_WHITESPACE","\n        ",325],"}",["T_WHITESPACE","\n        ",326],["T_VARIABLE","$id",327],["T_WHITESPACE"," ",327],"=",["T_WHITESPACE"," ",327],["T_VARIABLE","$message",327],["T_OBJECT_OPERATOR","->",327],["T_STRING","getId",327],"(",")",";",["T_WHITESPACE","\n        ",327],["T_IF","if",328],["T_WHITESPACE"," ",328],"(",["T_EMPTY","empty",328],"(",["T_VARIABLE","$id",328],")",")",["T_WHITESPACE"," ",328],"{",["T_WHITESPACE","\n            ",328],["T_VARIABLE","$id",329],["T_WHITESPACE"," ",329],"=",["T_WHITESPACE"," ",329],["T_STRING","time",329],"(",")",";",["T_WHITESPACE","\n        ",329],"}",["T_WHITESPACE","\n\n        ",330],["T_VARIABLE","$payload",332],["T_WHITESPACE"," ",332],"=",["T_WHITESPACE"," ",332],["T_STRING","pack",332],"(",["T_CONSTANT_ENCAPSED_STRING","'CNNnH*'",332],",",["T_WHITESPACE"," ",332],["T_LNUMBER","1",332],",",["T_WHITESPACE"," ",332],["T_VARIABLE","$id",332],",",["T_WHITESPACE"," ",332],["T_VARIABLE","$expire",332],",",["T_WHITESPACE"," ",332],["T_LNUMBER","32",332],",",["T_WHITESPACE"," ",332],["T_VARIABLE","$message",332],["T_OBJECT_OPERATOR","->",332],["T_STRING","getToken",332],"(",")",")",["T_WHITESPACE","\n            ",332],".",["T_WHITESPACE"," ",333],["T_STRING","pack",333],"(",["T_CONSTANT_ENCAPSED_STRING","'n'",333],",",["T_WHITESPACE"," ",333],["T_STRING","strlen",333],"(",["T_VARIABLE","$payload",333],")",")",["T_WHITESPACE","\n            ",333],".",["T_WHITESPACE"," ",334],["T_VARIABLE","$payload",334],";",["T_WHITESPACE","\n        ",334],["T_VARIABLE","$ret",335],["T_WHITESPACE"," ",335],"=",["T_WHITESPACE"," ",335],["T_VARIABLE","$this",335],["T_OBJECT_OPERATOR","->",335],["T_STRING","_write",335],"(",["T_VARIABLE","$payload",335],")",";",["T_WHITESPACE","\n        ",335],["T_IF","if",336],["T_WHITESPACE"," ",336],"(",["T_VARIABLE","$ret",336],["T_WHITESPACE"," ",336],["T_IS_IDENTICAL","===",336],["T_WHITESPACE"," ",336],["T_STRING","false",336],")",["T_WHITESPACE"," ",336],"{",["T_WHITESPACE","\n            ",336],["T_COMMENT","#require_once 'Zend\/Mobile\/Push\/Exception\/ServerUnavailable.php';\n",337],["T_WHITESPACE","            ",338],["T_THROW","throw",338],["T_WHITESPACE"," ",338],["T_NEW","new",338],["T_WHITESPACE"," ",338],["T_STRING","Zend_Mobile_Push_Exception_ServerUnavailable",338],"(",["T_CONSTANT_ENCAPSED_STRING","'Unable to send message'",338],")",";",["T_WHITESPACE","\n        ",338],"}",["T_WHITESPACE","\n        ",339],["T_COMMENT","\/\/ check for errors from apple\n",340],["T_WHITESPACE","        ",341],["T_VARIABLE","$err",341],["T_WHITESPACE"," ",341],"=",["T_WHITESPACE"," ",341],["T_VARIABLE","$this",341],["T_OBJECT_OPERATOR","->",341],["T_STRING","_read",341],"(",["T_LNUMBER","1024",341],")",";",["T_WHITESPACE","\n        ",341],["T_IF","if",342],["T_WHITESPACE"," ",342],"(",["T_STRING","strlen",342],"(",["T_VARIABLE","$err",342],")",["T_WHITESPACE"," ",342],">",["T_WHITESPACE"," ",342],["T_LNUMBER","0",342],")",["T_WHITESPACE"," ",342],"{",["T_WHITESPACE","\n            ",342],["T_VARIABLE","$err",343],["T_WHITESPACE"," ",343],"=",["T_WHITESPACE"," ",343],["T_STRING","unpack",343],"(",["T_CONSTANT_ENCAPSED_STRING","'Ccmd\/Cerrno\/Nid'",343],",",["T_WHITESPACE"," ",343],["T_VARIABLE","$err",343],")",";",["T_WHITESPACE","\n            ",343],["T_SWITCH","switch",344],["T_WHITESPACE"," ",344],"(",["T_VARIABLE","$err",344],"[",["T_CONSTANT_ENCAPSED_STRING","'errno'",344],"]",")",["T_WHITESPACE"," ",344],"{",["T_WHITESPACE","\n                ",344],["T_CASE","case",345],["T_WHITESPACE"," ",345],["T_LNUMBER","0",345],":",["T_WHITESPACE","\n                    ",345],["T_RETURN","return",346],["T_WHITESPACE"," ",346],["T_STRING","true",346],";",["T_WHITESPACE","\n                    ",346],["T_BREAK","break",347],";",["T_WHITESPACE","\n                ",347],["T_CASE","case",348],["T_WHITESPACE"," ",348],["T_LNUMBER","1",348],":",["T_WHITESPACE","\n                    ",348],["T_THROW","throw",349],["T_WHITESPACE"," ",349],["T_NEW","new",349],["T_WHITESPACE"," ",349],["T_STRING","Zend_Mobile_Push_Exception",349],"(",["T_CONSTANT_ENCAPSED_STRING","'A processing error has occurred on the apple push notification server.'",349],")",";",["T_WHITESPACE","\n                    ",349],["T_BREAK","break",350],";",["T_WHITESPACE","\n                ",350],["T_CASE","case",351],["T_WHITESPACE"," ",351],["T_LNUMBER","2",351],":",["T_WHITESPACE","\n                    ",351],["T_COMMENT","#require_once 'Zend\/Mobile\/Push\/Exception\/InvalidToken.php';\n",352],["T_WHITESPACE","                    ",353],["T_THROW","throw",353],["T_WHITESPACE"," ",353],["T_NEW","new",353],["T_WHITESPACE"," ",353],["T_STRING","Zend_Mobile_Push_Exception_InvalidToken",353],"(",["T_CONSTANT_ENCAPSED_STRING","'Missing token; you must set a token for the message.'",353],")",";",["T_WHITESPACE","\n                    ",353],["T_BREAK","break",354],";",["T_WHITESPACE","\n                ",354],["T_CASE","case",355],["T_WHITESPACE"," ",355],["T_LNUMBER","3",355],":",["T_WHITESPACE","\n                    ",355],["T_COMMENT","#require_once 'Zend\/Mobile\/Push\/Exception\/InvalidTopic.php';\n",356],["T_WHITESPACE","                    ",357],["T_THROW","throw",357],["T_WHITESPACE"," ",357],["T_NEW","new",357],["T_WHITESPACE"," ",357],["T_STRING","Zend_Mobile_Push_Exception_InvalidTopic",357],"(",["T_CONSTANT_ENCAPSED_STRING","'Missing id; you must set an id for the message.'",357],")",";",["T_WHITESPACE","\n                    ",357],["T_BREAK","break",358],";",["T_WHITESPACE","\n                ",358],["T_CASE","case",359],["T_WHITESPACE"," ",359],["T_LNUMBER","4",359],":",["T_WHITESPACE","\n                    ",359],["T_COMMENT","#require_once 'Zend\/Mobile\/Push\/Exception\/InvalidPayload.php';\n",360],["T_WHITESPACE","                    ",361],["T_THROW","throw",361],["T_WHITESPACE"," ",361],["T_NEW","new",361],["T_WHITESPACE"," ",361],["T_STRING","Zend_Mobile_Push_Exception_InvalidPayload",361],"(",["T_CONSTANT_ENCAPSED_STRING","'Missing message; the message must always have some content.'",361],")",";",["T_WHITESPACE","\n                    ",361],["T_BREAK","break",362],";",["T_WHITESPACE","\n                ",362],["T_CASE","case",363],["T_WHITESPACE"," ",363],["T_LNUMBER","5",363],":",["T_WHITESPACE","\n                    ",363],["T_COMMENT","#require_once 'Zend\/Mobile\/Push\/Exception\/InvalidToken.php';\n",364],["T_WHITESPACE","                    ",365],["T_THROW","throw",365],["T_WHITESPACE"," ",365],["T_NEW","new",365],["T_WHITESPACE"," ",365],["T_STRING","Zend_Mobile_Push_Exception_InvalidToken",365],"(",["T_CONSTANT_ENCAPSED_STRING","'Bad token.  This token is too big and is not a regular apns token.'",365],")",";",["T_WHITESPACE","\n                    ",365],["T_BREAK","break",366],";",["T_WHITESPACE","\n                ",366],["T_CASE","case",367],["T_WHITESPACE"," ",367],["T_LNUMBER","6",367],":",["T_WHITESPACE","\n                    ",367],["T_COMMENT","#require_once 'Zend\/Mobile\/Push\/Exception\/InvalidTopic.php';\n",368],["T_WHITESPACE","                    ",369],["T_THROW","throw",369],["T_WHITESPACE"," ",369],["T_NEW","new",369],["T_WHITESPACE"," ",369],["T_STRING","Zend_Mobile_Push_Exception_InvalidTopic",369],"(",["T_CONSTANT_ENCAPSED_STRING","'The message id is too big; reduce the size of the id.'",369],")",";",["T_WHITESPACE","\n                    ",369],["T_BREAK","break",370],";",["T_WHITESPACE","\n                ",370],["T_CASE","case",371],["T_WHITESPACE"," ",371],["T_LNUMBER","7",371],":",["T_WHITESPACE","\n                    ",371],["T_COMMENT","#require_once 'Zend\/Mobile\/Push\/Exception\/InvalidPayload.php';\n",372],["T_WHITESPACE","                    ",373],["T_THROW","throw",373],["T_WHITESPACE"," ",373],["T_NEW","new",373],["T_WHITESPACE"," ",373],["T_STRING","Zend_Mobile_Push_Exception_InvalidPayload",373],"(",["T_CONSTANT_ENCAPSED_STRING","'The message is too big; reduce the size of the message.'",373],")",";",["T_WHITESPACE","\n                    ",373],["T_BREAK","break",374],";",["T_WHITESPACE","\n                ",374],["T_CASE","case",375],["T_WHITESPACE"," ",375],["T_LNUMBER","8",375],":",["T_WHITESPACE","\n                    ",375],["T_COMMENT","#require_once 'Zend\/Mobile\/Push\/Exception\/InvalidToken.php';\n",376],["T_WHITESPACE","                    ",377],["T_THROW","throw",377],["T_WHITESPACE"," ",377],["T_NEW","new",377],["T_WHITESPACE"," ",377],["T_STRING","Zend_Mobile_Push_Exception_InvalidToken",377],"(",["T_CONSTANT_ENCAPSED_STRING","'Bad token.  Remove this token from being sent to again.'",377],")",";",["T_WHITESPACE","\n                    ",377],["T_BREAK","break",378],";",["T_WHITESPACE","\n                ",378],["T_DEFAULT","default",379],":",["T_WHITESPACE","\n                    ",379],["T_THROW","throw",380],["T_WHITESPACE"," ",380],["T_NEW","new",380],["T_WHITESPACE"," ",380],["T_STRING","Zend_Mobile_Push_Exception",380],"(",["T_STRING","sprintf",380],"(",["T_CONSTANT_ENCAPSED_STRING","'An unknown error occurred: %d'",380],",",["T_WHITESPACE"," ",380],["T_VARIABLE","$err",380],"[",["T_CONSTANT_ENCAPSED_STRING","'errno'",380],"]",")",")",";",["T_WHITESPACE","\n                    ",380],["T_BREAK","break",381],";",["T_WHITESPACE","\n            ",381],"}",["T_WHITESPACE","\n        ",382],"}",["T_WHITESPACE","\n        ",383],["T_RETURN","return",384],["T_WHITESPACE"," ",384],["T_STRING","true",384],";",["T_WHITESPACE","\n    ",384],"}",["T_WHITESPACE","\n\n    ",385],["T_DOC_COMMENT","\/**\n     * Close Connection\n     *\n     * @return void\n     *\/",387],["T_WHITESPACE","\n    ",391],["T_PUBLIC","public",392],["T_WHITESPACE"," ",392],["T_FUNCTION","function",392],["T_WHITESPACE"," ",392],["T_STRING","close",392],"(",")",["T_WHITESPACE","\n    ",392],"{",["T_WHITESPACE","\n        ",393],["T_IF","if",394],["T_WHITESPACE"," ",394],"(",["T_VARIABLE","$this",394],["T_OBJECT_OPERATOR","->",394],["T_STRING","_isConnected",394],["T_WHITESPACE"," ",394],["T_BOOLEAN_AND","&&",394],["T_WHITESPACE"," ",394],["T_STRING","is_resource",394],"(",["T_VARIABLE","$this",394],["T_OBJECT_OPERATOR","->",394],["T_STRING","_socket",394],")",")",["T_WHITESPACE"," ",394],"{",["T_WHITESPACE","\n            ",394],["T_STRING","fclose",395],"(",["T_VARIABLE","$this",395],["T_OBJECT_OPERATOR","->",395],["T_STRING","_socket",395],")",";",["T_WHITESPACE","\n        ",395],"}",["T_WHITESPACE","\n        ",396],["T_VARIABLE","$this",397],["T_OBJECT_OPERATOR","->",397],["T_STRING","_isConnected",397],["T_WHITESPACE"," ",397],"=",["T_WHITESPACE"," ",397],["T_STRING","false",397],";",["T_WHITESPACE","\n    ",397],"}",["T_WHITESPACE","\n",398],"}",["T_WHITESPACE","\n",399]]