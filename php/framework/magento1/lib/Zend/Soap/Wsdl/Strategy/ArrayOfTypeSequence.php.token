[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Zend Framework\n *\n * LICENSE\n *\n * This source file is subject to the new BSD license that is bundled\n * with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/framework.zend.com\/license\/new-bsd\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@zend.com so we can send you a copy immediately.\n *\n * @category   Zend\n * @package    Zend_Soap\n * @copyright  Copyright (c) 2005-2015 Zend Technologies USA Inc. (http:\/\/www.zend.com)\n * @license    http:\/\/framework.zend.com\/license\/new-bsd     New BSD License\n * @version    $Id$\n *\/",2],["T_WHITESPACE","\n\n",20],["T_DOC_COMMENT","\/**\n * @see Zend_Soap_Wsdl_Strategy_DefaultComplexType\n *\/",22],["T_WHITESPACE","\n",24],["T_COMMENT","#require_once \"Zend\/Soap\/Wsdl\/Strategy\/DefaultComplexType.php\";\n",25],["T_WHITESPACE","\n",26],["T_DOC_COMMENT","\/**\n * Zend_Soap_Wsdl_Strategy_ArrayOfTypeSequence\n *\n * @category   Zend\n * @package    Zend_Soap\n * @subpackage Wsdl\n * @copyright  Copyright (c) 2005-2015 Zend Technologies USA Inc. (http:\/\/www.zend.com)\n * @license    http:\/\/framework.zend.com\/license\/new-bsd     New BSD License\n *\/",27],["T_WHITESPACE","\n",35],["T_CLASS","class",36],["T_WHITESPACE"," ",36],["T_STRING","Zend_Soap_Wsdl_Strategy_ArrayOfTypeSequence",36],["T_WHITESPACE"," ",36],["T_EXTENDS","extends",36],["T_WHITESPACE"," ",36],["T_STRING","Zend_Soap_Wsdl_Strategy_DefaultComplexType",36],["T_WHITESPACE","\n",36],"{",["T_WHITESPACE","\n    ",37],["T_DOC_COMMENT","\/**\n     * Add an unbounded ArrayOfType based on the xsd:sequence syntax if type[] is detected in return value doc comment.\n     *\n     * @param string $type\n     * @return string tns:xsd-type\n     *\/",38],["T_WHITESPACE","\n    ",43],["T_PUBLIC","public",44],["T_WHITESPACE"," ",44],["T_FUNCTION","function",44],["T_WHITESPACE"," ",44],["T_STRING","addComplexType",44],"(",["T_VARIABLE","$type",44],")",["T_WHITESPACE","\n    ",44],"{",["T_WHITESPACE","\n        ",45],["T_VARIABLE","$nestedCounter",46],["T_WHITESPACE"," ",46],"=",["T_WHITESPACE"," ",46],["T_VARIABLE","$this",46],["T_OBJECT_OPERATOR","->",46],["T_STRING","_getNestedCount",46],"(",["T_VARIABLE","$type",46],")",";",["T_WHITESPACE","\n\n        ",46],["T_IF","if",48],"(",["T_VARIABLE","$nestedCounter",48],["T_WHITESPACE"," ",48],">",["T_WHITESPACE"," ",48],["T_LNUMBER","0",48],")",["T_WHITESPACE"," ",48],"{",["T_WHITESPACE","\n            ",48],["T_VARIABLE","$singularType",49],["T_WHITESPACE"," ",49],"=",["T_WHITESPACE"," ",49],["T_VARIABLE","$this",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","_getSingularType",49],"(",["T_VARIABLE","$type",49],")",";",["T_WHITESPACE","\n\n            ",49],["T_FOR","for",51],"(",["T_VARIABLE","$i",51],["T_WHITESPACE"," ",51],"=",["T_WHITESPACE"," ",51],["T_LNUMBER","1",51],";",["T_WHITESPACE"," ",51],["T_VARIABLE","$i",51],["T_WHITESPACE"," ",51],["T_IS_SMALLER_OR_EQUAL","<=",51],["T_WHITESPACE"," ",51],["T_VARIABLE","$nestedCounter",51],";",["T_WHITESPACE"," ",51],["T_VARIABLE","$i",51],["T_INC","++",51],")",["T_WHITESPACE"," ",51],"{",["T_WHITESPACE","\n                ",51],["T_VARIABLE","$complexTypeName",52],["T_WHITESPACE"," ",52],"=",["T_WHITESPACE"," ",52],["T_STRING","substr",52],"(",["T_VARIABLE","$this",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","_getTypeNameBasedOnNestingLevel",52],"(",["T_VARIABLE","$singularType",52],",",["T_WHITESPACE"," ",52],["T_VARIABLE","$i",52],")",",",["T_WHITESPACE"," ",52],["T_LNUMBER","4",52],")",";",["T_WHITESPACE","\n                ",52],["T_VARIABLE","$childTypeName",53],["T_WHITESPACE"," ",53],"=",["T_WHITESPACE"," ",53],["T_VARIABLE","$this",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","_getTypeNameBasedOnNestingLevel",53],"(",["T_VARIABLE","$singularType",53],",",["T_WHITESPACE"," ",53],["T_VARIABLE","$i",53],"-",["T_LNUMBER","1",53],")",";",["T_WHITESPACE","\n\n                ",53],["T_VARIABLE","$this",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","_addElementFromWsdlAndChildTypes",55],"(",["T_VARIABLE","$complexTypeName",55],",",["T_WHITESPACE"," ",55],["T_VARIABLE","$childTypeName",55],")",";",["T_WHITESPACE","\n            ",55],"}",["T_WHITESPACE","\n            ",56],["T_COMMENT","\/\/ adding the PHP type which is resolved to a nested XSD type. therefore add only once.\n",57],["T_WHITESPACE","            ",58],["T_VARIABLE","$this",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","getContext",58],"(",")",["T_OBJECT_OPERATOR","->",58],["T_STRING","addType",58],"(",["T_VARIABLE","$complexTypeName",58],")",";",["T_WHITESPACE","\n\n            ",58],["T_RETURN","return",60],["T_WHITESPACE"," ",60],"\"",["T_ENCAPSED_AND_WHITESPACE","tns:",60],["T_VARIABLE","$complexTypeName",60],"\"",";",["T_WHITESPACE","\n        ",60],"}",["T_WHITESPACE"," ",61],["T_ELSE","else",61],["T_WHITESPACE"," ",61],["T_IF","if",61],["T_WHITESPACE"," ",61],"(","!",["T_STRING","in_array",61],"(",["T_VARIABLE","$type",61],",",["T_WHITESPACE"," ",61],["T_VARIABLE","$this",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","getContext",61],"(",")",["T_OBJECT_OPERATOR","->",61],["T_STRING","getTypes",61],"(",")",")",")",["T_WHITESPACE"," ",61],"{",["T_WHITESPACE","\n            ",61],["T_COMMENT","\/\/ New singular complex type\n",62],["T_WHITESPACE","            ",63],["T_RETURN","return",63],["T_WHITESPACE"," ",63],["T_STRING","parent",63],["T_DOUBLE_COLON","::",63],["T_STRING","addComplexType",63],"(",["T_VARIABLE","$type",63],")",";",["T_WHITESPACE","\n        ",63],"}",["T_WHITESPACE"," ",64],["T_ELSE","else",64],["T_WHITESPACE"," ",64],"{",["T_WHITESPACE","\n            ",64],["T_COMMENT","\/\/ Existing complex type\n",65],["T_WHITESPACE","            ",66],["T_RETURN","return",66],["T_WHITESPACE"," ",66],["T_VARIABLE","$this",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","getContext",66],"(",")",["T_OBJECT_OPERATOR","->",66],["T_STRING","getType",66],"(",["T_VARIABLE","$type",66],")",";",["T_WHITESPACE","\n        ",66],"}",["T_WHITESPACE","\n    ",67],"}",["T_WHITESPACE","\n\n    ",68],["T_DOC_COMMENT","\/**\n     * Return the ArrayOf or simple type name based on the singular xsdtype and the nesting level\n     *\n     * @param  string $singularType\n     * @param  int    $level\n     * @return string\n     *\/",70],["T_WHITESPACE","\n    ",76],["T_PROTECTED","protected",77],["T_WHITESPACE"," ",77],["T_FUNCTION","function",77],["T_WHITESPACE"," ",77],["T_STRING","_getTypeNameBasedOnNestingLevel",77],"(",["T_VARIABLE","$singularType",77],",",["T_WHITESPACE"," ",77],["T_VARIABLE","$level",77],")",["T_WHITESPACE","\n    ",77],"{",["T_WHITESPACE","\n        ",78],["T_IF","if",79],"(",["T_VARIABLE","$level",79],["T_WHITESPACE"," ",79],["T_IS_EQUAL","==",79],["T_WHITESPACE"," ",79],["T_LNUMBER","0",79],")",["T_WHITESPACE"," ",79],"{",["T_WHITESPACE","\n            ",79],["T_COMMENT","\/\/ This is not an Array anymore, return the xsd simple type\n",80],["T_WHITESPACE","            ",81],["T_RETURN","return",81],["T_WHITESPACE"," ",81],["T_VARIABLE","$singularType",81],";",["T_WHITESPACE","\n        ",81],"}",["T_WHITESPACE"," ",82],["T_ELSE","else",82],["T_WHITESPACE"," ",82],"{",["T_WHITESPACE","\n            ",82],["T_VARIABLE","$prefix",83],["T_WHITESPACE"," ",83],"=",["T_WHITESPACE"," ",83],["T_STRING","str_repeat",83],"(",["T_CONSTANT_ENCAPSED_STRING","\"ArrayOf\"",83],",",["T_WHITESPACE"," ",83],["T_VARIABLE","$level",83],")",";",["T_WHITESPACE","\n            ",83],["T_VARIABLE","$xsdType",84],["T_WHITESPACE"," ",84],"=",["T_WHITESPACE"," ",84],["T_VARIABLE","$this",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","_getStrippedXsdType",84],"(",["T_VARIABLE","$singularType",84],")",";",["T_WHITESPACE","\n            ",84],["T_VARIABLE","$arrayType",85],["T_WHITESPACE"," ",85],"=",["T_WHITESPACE"," ",85],["T_VARIABLE","$prefix",85],".",["T_VARIABLE","$xsdType",85],";",["T_WHITESPACE","\n            ",85],["T_RETURN","return",86],["T_WHITESPACE"," ",86],"\"",["T_ENCAPSED_AND_WHITESPACE","tns:",86],["T_VARIABLE","$arrayType",86],"\"",";",["T_WHITESPACE","\n        ",86],"}",["T_WHITESPACE","\n    ",87],"}",["T_WHITESPACE","\n\n    ",88],["T_DOC_COMMENT","\/**\n     * Strip the xsd: from a singularType and Format it nice for ArrayOf<Type> naming\n     *\n     * @param  string $singularType\n     * @return string\n     *\/",90],["T_WHITESPACE","\n    ",95],["T_PROTECTED","protected",96],["T_WHITESPACE"," ",96],["T_FUNCTION","function",96],["T_WHITESPACE"," ",96],["T_STRING","_getStrippedXsdType",96],"(",["T_VARIABLE","$singularType",96],")",["T_WHITESPACE","\n    ",96],"{",["T_WHITESPACE","\n        ",97],["T_RETURN","return",98],["T_WHITESPACE"," ",98],["T_STRING","ucfirst",98],"(",["T_STRING","substr",98],"(",["T_STRING","strtolower",98],"(",["T_VARIABLE","$singularType",98],")",",",["T_WHITESPACE"," ",98],["T_LNUMBER","4",98],")",")",";",["T_WHITESPACE","\n    ",98],"}",["T_WHITESPACE","\n\n    ",99],["T_DOC_COMMENT","\/**\n     * From a nested defintion with type[], get the singular xsd:type\n     *\n     * @throws Zend_Soap_Wsdl_Exception When no xsd:simpletype can be detected.\n     * @param  string $type\n     * @return string\n     *\/",101],["T_WHITESPACE","\n    ",107],["T_PROTECTED","protected",108],["T_WHITESPACE"," ",108],["T_FUNCTION","function",108],["T_WHITESPACE"," ",108],["T_STRING","_getSingularType",108],"(",["T_VARIABLE","$type",108],")",["T_WHITESPACE","\n    ",108],"{",["T_WHITESPACE","\n        ",109],["T_VARIABLE","$singulartype",110],["T_WHITESPACE"," ",110],"=",["T_WHITESPACE"," ",110],["T_VARIABLE","$this",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","getContext",110],"(",")",["T_OBJECT_OPERATOR","->",110],["T_STRING","getType",110],"(",["T_STRING","str_replace",110],"(",["T_CONSTANT_ENCAPSED_STRING","\"[]\"",110],",",["T_WHITESPACE"," ",110],["T_CONSTANT_ENCAPSED_STRING","\"\"",110],",",["T_WHITESPACE"," ",110],["T_VARIABLE","$type",110],")",")",";",["T_WHITESPACE","\n        ",110],["T_RETURN","return",111],["T_WHITESPACE"," ",111],["T_VARIABLE","$singulartype",111],";",["T_WHITESPACE","\n    ",111],"}",["T_WHITESPACE","\n\n    ",112],["T_DOC_COMMENT","\/**\n     * Return the array nesting level based on the type name\n     *\n     * @param  string $type\n     * @return integer\n     *\/",114],["T_WHITESPACE","\n    ",119],["T_PROTECTED","protected",120],["T_WHITESPACE"," ",120],["T_FUNCTION","function",120],["T_WHITESPACE"," ",120],["T_STRING","_getNestedCount",120],"(",["T_VARIABLE","$type",120],")",["T_WHITESPACE","\n    ",120],"{",["T_WHITESPACE","\n        ",121],["T_RETURN","return",122],["T_WHITESPACE"," ",122],["T_STRING","substr_count",122],"(",["T_VARIABLE","$type",122],",",["T_WHITESPACE"," ",122],["T_CONSTANT_ENCAPSED_STRING","\"[]\"",122],")",";",["T_WHITESPACE","\n    ",122],"}",["T_WHITESPACE","\n\n    ",123],["T_DOC_COMMENT","\/**\n     * Append the complex type definition to the WSDL via the context access\n     *\n     * @param  string $arrayType\n     * @param  string $childTypeName\n     * @return void\n     *\/",125],["T_WHITESPACE","\n    ",131],["T_PROTECTED","protected",132],["T_WHITESPACE"," ",132],["T_FUNCTION","function",132],["T_WHITESPACE"," ",132],["T_STRING","_addElementFromWsdlAndChildTypes",132],"(",["T_VARIABLE","$arrayType",132],",",["T_WHITESPACE"," ",132],["T_VARIABLE","$childTypeName",132],")",["T_WHITESPACE","\n    ",132],"{",["T_WHITESPACE","\n        ",133],["T_IF","if",134],["T_WHITESPACE"," ",134],"(","!",["T_STRING","in_array",134],"(",["T_VARIABLE","$arrayType",134],",",["T_WHITESPACE"," ",134],["T_VARIABLE","$this",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","getContext",134],"(",")",["T_OBJECT_OPERATOR","->",134],["T_STRING","getTypes",134],"(",")",")",")",["T_WHITESPACE"," ",134],"{",["T_WHITESPACE","\n            ",134],["T_VARIABLE","$dom",135],["T_WHITESPACE"," ",135],"=",["T_WHITESPACE"," ",135],["T_VARIABLE","$this",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","getContext",135],"(",")",["T_OBJECT_OPERATOR","->",135],["T_STRING","toDomDocument",135],"(",")",";",["T_WHITESPACE","\n\n            ",135],["T_VARIABLE","$complexType",137],["T_WHITESPACE"," ",137],"=",["T_WHITESPACE"," ",137],["T_VARIABLE","$dom",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","createElement",137],"(",["T_CONSTANT_ENCAPSED_STRING","'xsd:complexType'",137],")",";",["T_WHITESPACE","\n            ",137],["T_VARIABLE","$complexType",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","setAttribute",138],"(",["T_CONSTANT_ENCAPSED_STRING","'name'",138],",",["T_WHITESPACE"," ",138],["T_VARIABLE","$arrayType",138],")",";",["T_WHITESPACE","\n\n            ",138],["T_VARIABLE","$sequence",140],["T_WHITESPACE"," ",140],"=",["T_WHITESPACE"," ",140],["T_VARIABLE","$dom",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","createElement",140],"(",["T_CONSTANT_ENCAPSED_STRING","'xsd:sequence'",140],")",";",["T_WHITESPACE","\n\n            ",140],["T_VARIABLE","$element",142],["T_WHITESPACE"," ",142],"=",["T_WHITESPACE"," ",142],["T_VARIABLE","$dom",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","createElement",142],"(",["T_CONSTANT_ENCAPSED_STRING","'xsd:element'",142],")",";",["T_WHITESPACE","\n            ",142],["T_VARIABLE","$element",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","setAttribute",143],"(",["T_CONSTANT_ENCAPSED_STRING","'name'",143],",",["T_WHITESPACE","      ",143],["T_CONSTANT_ENCAPSED_STRING","'item'",143],")",";",["T_WHITESPACE","\n            ",143],["T_VARIABLE","$element",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","setAttribute",144],"(",["T_CONSTANT_ENCAPSED_STRING","'type'",144],",",["T_WHITESPACE","      ",144],["T_VARIABLE","$childTypeName",144],")",";",["T_WHITESPACE","\n            ",144],["T_VARIABLE","$element",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","setAttribute",145],"(",["T_CONSTANT_ENCAPSED_STRING","'minOccurs'",145],",",["T_WHITESPACE"," ",145],["T_LNUMBER","0",145],")",";",["T_WHITESPACE","\n            ",145],["T_VARIABLE","$element",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","setAttribute",146],"(",["T_CONSTANT_ENCAPSED_STRING","'maxOccurs'",146],",",["T_WHITESPACE"," ",146],["T_CONSTANT_ENCAPSED_STRING","'unbounded'",146],")",";",["T_WHITESPACE","\n            ",146],["T_VARIABLE","$sequence",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","appendChild",147],"(",["T_VARIABLE","$element",147],")",";",["T_WHITESPACE","\n\n            ",147],["T_VARIABLE","$complexType",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","appendChild",149],"(",["T_VARIABLE","$sequence",149],")",";",["T_WHITESPACE","\n\n            ",149],["T_VARIABLE","$this",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","getContext",151],"(",")",["T_OBJECT_OPERATOR","->",151],["T_STRING","getSchema",151],"(",")",["T_OBJECT_OPERATOR","->",151],["T_STRING","appendChild",151],"(",["T_VARIABLE","$complexType",151],")",";",["T_WHITESPACE","\n            ",151],["T_VARIABLE","$this",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","getContext",152],"(",")",["T_OBJECT_OPERATOR","->",152],["T_STRING","addType",152],"(",["T_VARIABLE","$arrayType",152],")",";",["T_WHITESPACE","\n        ",152],"}",["T_WHITESPACE","\n    ",153],"}",["T_WHITESPACE","\n",154],"}",["T_WHITESPACE","\n",155]]