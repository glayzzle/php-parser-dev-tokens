[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_DOC_COMMENT","\/**\n * Zend Framework\n *\n * LICENSE\n *\n * This source file is subject to the new BSD license that is bundled\n * with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/framework.zend.com\/license\/new-bsd\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@zend.com so we can send you a copy immediately.\n *\n * @category   Zend\n * @package    Zend_Http\n * @subpackage Client_Adapter\n * @version    $Id$\n * @copyright  Copyright (c) 2005-2015 Zend Technologies USA Inc. (http:\/\/www.zend.com)\n * @license    http:\/\/framework.zend.com\/license\/new-bsd     New BSD License\n *\/",3],["T_WHITESPACE","\n\n",22],["T_DOC_COMMENT","\/**\n * @see Zend_Uri_Http\n *\/",24],["T_WHITESPACE","\n",26],["T_COMMENT","#require_once 'Zend\/Uri\/Http.php';\n",27],["T_WHITESPACE","\n",28],["T_DOC_COMMENT","\/**\n * @see Zend_Http_Client_Adapter_Interface\n *\/",29],["T_WHITESPACE","\n",31],["T_COMMENT","#require_once 'Zend\/Http\/Client\/Adapter\/Interface.php';\n",32],["T_DOC_COMMENT","\/**\n * @see Zend_Http_Client_Adapter_Stream\n *\/",33],["T_WHITESPACE","\n",35],["T_COMMENT","#require_once 'Zend\/Http\/Client\/Adapter\/Stream.php';\n",36],["T_WHITESPACE","\n",37],["T_DOC_COMMENT","\/**\n * An adapter class for Zend_Http_Client based on the curl extension.\n * Curl requires libcurl. See for full requirements the PHP manual: http:\/\/php.net\/curl\n *\n * @category   Zend\n * @package    Zend_Http\n * @subpackage Client_Adapter\n * @copyright  Copyright (c) 2005-2015 Zend Technologies USA Inc. (http:\/\/www.zend.com)\n * @license    http:\/\/framework.zend.com\/license\/new-bsd     New BSD License\n *\/",38],["T_WHITESPACE","\n",47],["T_CLASS","class",48],["T_WHITESPACE"," ",48],["T_STRING","Zend_Http_Client_Adapter_Curl",48],["T_WHITESPACE"," ",48],["T_IMPLEMENTS","implements",48],["T_WHITESPACE"," ",48],["T_STRING","Zend_Http_Client_Adapter_Interface",48],",",["T_WHITESPACE"," ",48],["T_STRING","Zend_Http_Client_Adapter_Stream",48],["T_WHITESPACE","\n",48],"{",["T_WHITESPACE","\n    ",49],["T_DOC_COMMENT","\/**\n     * Parameters array\n     *\n     * @var array\n     *\/",50],["T_WHITESPACE","\n    ",54],["T_PROTECTED","protected",55],["T_WHITESPACE"," ",55],["T_VARIABLE","$_config",55],["T_WHITESPACE"," ",55],"=",["T_WHITESPACE"," ",55],["T_ARRAY","array",55],"(",")",";",["T_WHITESPACE","\n\n    ",55],["T_DOC_COMMENT","\/**\n     * What host\/port are we connected to?\n     *\n     * @var array\n     *\/",57],["T_WHITESPACE","\n    ",61],["T_PROTECTED","protected",62],["T_WHITESPACE"," ",62],["T_VARIABLE","$_connected_to",62],["T_WHITESPACE"," ",62],"=",["T_WHITESPACE"," ",62],["T_ARRAY","array",62],"(",["T_STRING","null",62],",",["T_WHITESPACE"," ",62],["T_STRING","null",62],")",";",["T_WHITESPACE","\n\n    ",62],["T_DOC_COMMENT","\/**\n     * The curl session handle\n     *\n     * @var resource|null\n     *\/",64],["T_WHITESPACE","\n    ",68],["T_PROTECTED","protected",69],["T_WHITESPACE"," ",69],["T_VARIABLE","$_curl",69],["T_WHITESPACE"," ",69],"=",["T_WHITESPACE"," ",69],["T_STRING","null",69],";",["T_WHITESPACE","\n\n    ",69],["T_DOC_COMMENT","\/**\n     * List of cURL options that should never be overwritten\n     *\n     * @var array\n     *\/",71],["T_WHITESPACE","\n    ",75],["T_PROTECTED","protected",76],["T_WHITESPACE"," ",76],["T_VARIABLE","$_invalidOverwritableCurlOptions",76],";",["T_WHITESPACE","\n\n    ",76],["T_DOC_COMMENT","\/**\n     * Response gotten from server\n     *\n     * @var string\n     *\/",78],["T_WHITESPACE","\n    ",82],["T_PROTECTED","protected",83],["T_WHITESPACE"," ",83],["T_VARIABLE","$_response",83],["T_WHITESPACE"," ",83],"=",["T_WHITESPACE"," ",83],["T_STRING","null",83],";",["T_WHITESPACE","\n\n    ",83],["T_DOC_COMMENT","\/**\n     * Stream for storing output\n     *\n     * @var resource\n     *\/",85],["T_WHITESPACE","\n    ",89],["T_PROTECTED","protected",90],["T_WHITESPACE"," ",90],["T_VARIABLE","$out_stream",90],";",["T_WHITESPACE","\n\n    ",90],["T_DOC_COMMENT","\/**\n     * Adapter constructor\n     *\n     * Config is set using setConfig()\n     *\n     * @return void\n     * @throws Zend_Http_Client_Adapter_Exception\n     *\/",92],["T_WHITESPACE","\n    ",99],["T_PUBLIC","public",100],["T_WHITESPACE"," ",100],["T_FUNCTION","function",100],["T_WHITESPACE"," ",100],["T_STRING","__construct",100],"(",")",["T_WHITESPACE","\n    ",100],"{",["T_WHITESPACE","\n        ",101],["T_IF","if",102],["T_WHITESPACE"," ",102],"(","!",["T_STRING","extension_loaded",102],"(",["T_CONSTANT_ENCAPSED_STRING","'curl'",102],")",")",["T_WHITESPACE"," ",102],"{",["T_WHITESPACE","\n            ",102],["T_COMMENT","#require_once 'Zend\/Http\/Client\/Adapter\/Exception.php';\n",103],["T_WHITESPACE","            ",104],["T_THROW","throw",104],["T_WHITESPACE"," ",104],["T_NEW","new",104],["T_WHITESPACE"," ",104],["T_STRING","Zend_Http_Client_Adapter_Exception",104],"(",["T_CONSTANT_ENCAPSED_STRING","'cURL extension has to be loaded to use this Zend_Http_Client adapter.'",104],")",";",["T_WHITESPACE","\n        ",104],"}",["T_WHITESPACE","\n        ",105],["T_VARIABLE","$this",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","_invalidOverwritableCurlOptions",106],["T_WHITESPACE"," ",106],"=",["T_WHITESPACE"," ",106],["T_ARRAY","array",106],"(",["T_WHITESPACE","\n            ",106],["T_STRING","CURLOPT_HTTPGET",107],",",["T_WHITESPACE","\n            ",107],["T_STRING","CURLOPT_POST",108],",",["T_WHITESPACE","\n            ",108],["T_STRING","CURLOPT_PUT",109],",",["T_WHITESPACE","\n            ",109],["T_STRING","CURLOPT_CUSTOMREQUEST",110],",",["T_WHITESPACE","\n            ",110],["T_STRING","CURLOPT_HEADER",111],",",["T_WHITESPACE","\n            ",111],["T_STRING","CURLOPT_RETURNTRANSFER",112],",",["T_WHITESPACE","\n            ",112],["T_STRING","CURLOPT_HTTPHEADER",113],",",["T_WHITESPACE","\n            ",113],["T_STRING","CURLOPT_POSTFIELDS",114],",",["T_WHITESPACE","\n            ",114],["T_STRING","CURLOPT_INFILE",115],",",["T_WHITESPACE","\n            ",115],["T_STRING","CURLOPT_INFILESIZE",116],",",["T_WHITESPACE","\n            ",116],["T_STRING","CURLOPT_PORT",117],",",["T_WHITESPACE","\n            ",117],["T_STRING","CURLOPT_MAXREDIRS",118],",",["T_WHITESPACE","\n            ",118],["T_STRING","CURLOPT_CONNECTTIMEOUT",119],",",["T_WHITESPACE","\n            ",119],["T_STRING","CURL_HTTP_VERSION_1_1",120],",",["T_WHITESPACE","\n            ",120],["T_STRING","CURL_HTTP_VERSION_1_0",121],",",["T_WHITESPACE","\n        ",121],")",";",["T_WHITESPACE","\n    ",122],"}",["T_WHITESPACE","\n\n    ",123],["T_DOC_COMMENT","\/**\n     * Set the configuration array for the adapter\n     *\n     * @throws Zend_Http_Client_Adapter_Exception\n     * @param  Zend_Config | array $config\n     * @return Zend_Http_Client_Adapter_Curl\n     *\/",125],["T_WHITESPACE","\n    ",131],["T_PUBLIC","public",132],["T_WHITESPACE"," ",132],["T_FUNCTION","function",132],["T_WHITESPACE"," ",132],["T_STRING","setConfig",132],"(",["T_VARIABLE","$config",132],["T_WHITESPACE"," ",132],"=",["T_WHITESPACE"," ",132],["T_ARRAY","array",132],"(",")",")",["T_WHITESPACE","\n    ",132],"{",["T_WHITESPACE","\n        ",133],["T_IF","if",134],["T_WHITESPACE"," ",134],"(",["T_VARIABLE","$config",134],["T_WHITESPACE"," ",134],["T_INSTANCEOF","instanceof",134],["T_WHITESPACE"," ",134],["T_STRING","Zend_Config",134],")",["T_WHITESPACE"," ",134],"{",["T_WHITESPACE","\n            ",134],["T_VARIABLE","$config",135],["T_WHITESPACE"," ",135],"=",["T_WHITESPACE"," ",135],["T_VARIABLE","$config",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","toArray",135],"(",")",";",["T_WHITESPACE","\n\n        ",135],"}",["T_WHITESPACE"," ",137],["T_ELSEIF","elseif",137],["T_WHITESPACE"," ",137],"(","!",["T_WHITESPACE"," ",137],["T_STRING","is_array",137],"(",["T_VARIABLE","$config",137],")",")",["T_WHITESPACE"," ",137],"{",["T_WHITESPACE","\n            ",137],["T_COMMENT","#require_once 'Zend\/Http\/Client\/Adapter\/Exception.php';\n",138],["T_WHITESPACE","            ",139],["T_THROW","throw",139],["T_WHITESPACE"," ",139],["T_NEW","new",139],["T_WHITESPACE"," ",139],["T_STRING","Zend_Http_Client_Adapter_Exception",139],"(",["T_WHITESPACE","\n                ",139],["T_CONSTANT_ENCAPSED_STRING","'Array or Zend_Config object expected, got '",140],["T_WHITESPACE"," ",140],".",["T_WHITESPACE"," ",140],["T_STRING","gettype",140],"(",["T_VARIABLE","$config",140],")",["T_WHITESPACE","\n            ",140],")",";",["T_WHITESPACE","\n        ",141],"}",["T_WHITESPACE","\n\n        ",142],["T_IF","if",144],"(",["T_ISSET","isset",144],"(",["T_VARIABLE","$config",144],"[",["T_CONSTANT_ENCAPSED_STRING","'proxy_user'",144],"]",")",["T_WHITESPACE"," ",144],["T_BOOLEAN_AND","&&",144],["T_WHITESPACE"," ",144],["T_ISSET","isset",144],"(",["T_VARIABLE","$config",144],"[",["T_CONSTANT_ENCAPSED_STRING","'proxy_pass'",144],"]",")",")",["T_WHITESPACE"," ",144],"{",["T_WHITESPACE","\n            ",144],["T_VARIABLE","$this",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","setCurlOption",145],"(",["T_STRING","CURLOPT_PROXYUSERPWD",145],",",["T_WHITESPACE"," ",145],["T_VARIABLE","$config",145],"[",["T_CONSTANT_ENCAPSED_STRING","'proxy_user'",145],"]",".",["T_CONSTANT_ENCAPSED_STRING","\":\"",145],".",["T_VARIABLE","$config",145],"[",["T_CONSTANT_ENCAPSED_STRING","'proxy_pass'",145],"]",")",";",["T_WHITESPACE","\n            ",145],["T_UNSET","unset",146],"(",["T_VARIABLE","$config",146],"[",["T_CONSTANT_ENCAPSED_STRING","'proxy_user'",146],"]",",",["T_WHITESPACE"," ",146],["T_VARIABLE","$config",146],"[",["T_CONSTANT_ENCAPSED_STRING","'proxy_pass'",146],"]",")",";",["T_WHITESPACE","\n        ",146],"}",["T_WHITESPACE","\n\n        ",147],["T_FOREACH","foreach",149],["T_WHITESPACE"," ",149],"(",["T_VARIABLE","$config",149],["T_WHITESPACE"," ",149],["T_AS","as",149],["T_WHITESPACE"," ",149],["T_VARIABLE","$k",149],["T_WHITESPACE"," ",149],["T_DOUBLE_ARROW","=>",149],["T_WHITESPACE"," ",149],["T_VARIABLE","$v",149],")",["T_WHITESPACE"," ",149],"{",["T_WHITESPACE","\n            ",149],["T_VARIABLE","$option",150],["T_WHITESPACE"," ",150],"=",["T_WHITESPACE"," ",150],["T_STRING","strtolower",150],"(",["T_VARIABLE","$k",150],")",";",["T_WHITESPACE","\n            ",150],["T_SWITCH","switch",151],"(",["T_VARIABLE","$option",151],")",["T_WHITESPACE"," ",151],"{",["T_WHITESPACE","\n                ",151],["T_CASE","case",152],["T_WHITESPACE"," ",152],["T_CONSTANT_ENCAPSED_STRING","'proxy_host'",152],":",["T_WHITESPACE","\n                    ",152],["T_VARIABLE","$this",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","setCurlOption",153],"(",["T_STRING","CURLOPT_PROXY",153],",",["T_WHITESPACE"," ",153],["T_VARIABLE","$v",153],")",";",["T_WHITESPACE","\n                    ",153],["T_BREAK","break",154],";",["T_WHITESPACE","\n                ",154],["T_CASE","case",155],["T_WHITESPACE"," ",155],["T_CONSTANT_ENCAPSED_STRING","'proxy_port'",155],":",["T_WHITESPACE","\n                    ",155],["T_VARIABLE","$this",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","setCurlOption",156],"(",["T_STRING","CURLOPT_PROXYPORT",156],",",["T_WHITESPACE"," ",156],["T_VARIABLE","$v",156],")",";",["T_WHITESPACE","\n                    ",156],["T_BREAK","break",157],";",["T_WHITESPACE","\n                ",157],["T_DEFAULT","default",158],":",["T_WHITESPACE","\n                    ",158],["T_VARIABLE","$this",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","_config",159],"[",["T_VARIABLE","$option",159],"]",["T_WHITESPACE"," ",159],"=",["T_WHITESPACE"," ",159],["T_VARIABLE","$v",159],";",["T_WHITESPACE","\n                    ",159],["T_BREAK","break",160],";",["T_WHITESPACE","\n            ",160],"}",["T_WHITESPACE","\n        ",161],"}",["T_WHITESPACE","\n\n        ",162],["T_RETURN","return",164],["T_WHITESPACE"," ",164],["T_VARIABLE","$this",164],";",["T_WHITESPACE","\n    ",164],"}",["T_WHITESPACE","\n\n    ",165],["T_DOC_COMMENT","\/**\n      * Retrieve the array of all configuration options\n      *\n      * @return array\n      *\/",167],["T_WHITESPACE","\n     ",171],["T_PUBLIC","public",172],["T_WHITESPACE"," ",172],["T_FUNCTION","function",172],["T_WHITESPACE"," ",172],["T_STRING","getConfig",172],"(",")",["T_WHITESPACE","\n     ",172],"{",["T_WHITESPACE","\n         ",173],["T_RETURN","return",174],["T_WHITESPACE"," ",174],["T_VARIABLE","$this",174],["T_OBJECT_OPERATOR","->",174],["T_STRING","_config",174],";",["T_WHITESPACE","\n     ",174],"}",["T_WHITESPACE","\n\n    ",175],["T_DOC_COMMENT","\/**\n     * Direct setter for cURL adapter related options.\n     *\n     * @param  string|int $option\n     * @param  mixed $value\n     * @return Zend_Http_Adapter_Curl\n     *\/",177],["T_WHITESPACE","\n    ",183],["T_PUBLIC","public",184],["T_WHITESPACE"," ",184],["T_FUNCTION","function",184],["T_WHITESPACE"," ",184],["T_STRING","setCurlOption",184],"(",["T_VARIABLE","$option",184],",",["T_WHITESPACE"," ",184],["T_VARIABLE","$value",184],")",["T_WHITESPACE","\n    ",184],"{",["T_WHITESPACE","\n        ",185],["T_IF","if",186],["T_WHITESPACE"," ",186],"(","!",["T_ISSET","isset",186],"(",["T_VARIABLE","$this",186],["T_OBJECT_OPERATOR","->",186],["T_STRING","_config",186],"[",["T_CONSTANT_ENCAPSED_STRING","'curloptions'",186],"]",")",")",["T_WHITESPACE"," ",186],"{",["T_WHITESPACE","\n            ",186],["T_VARIABLE","$this",187],["T_OBJECT_OPERATOR","->",187],["T_STRING","_config",187],"[",["T_CONSTANT_ENCAPSED_STRING","'curloptions'",187],"]",["T_WHITESPACE"," ",187],"=",["T_WHITESPACE"," ",187],["T_ARRAY","array",187],"(",")",";",["T_WHITESPACE","\n        ",187],"}",["T_WHITESPACE","\n        ",188],["T_VARIABLE","$this",189],["T_OBJECT_OPERATOR","->",189],["T_STRING","_config",189],"[",["T_CONSTANT_ENCAPSED_STRING","'curloptions'",189],"]","[",["T_VARIABLE","$option",189],"]",["T_WHITESPACE"," ",189],"=",["T_WHITESPACE"," ",189],["T_VARIABLE","$value",189],";",["T_WHITESPACE","\n        ",189],["T_RETURN","return",190],["T_WHITESPACE"," ",190],["T_VARIABLE","$this",190],";",["T_WHITESPACE","\n    ",190],"}",["T_WHITESPACE","\n\n    ",191],["T_DOC_COMMENT","\/**\n     * Initialize curl\n     *\n     * @param  string  $host\n     * @param  int     $port\n     * @param  boolean $secure\n     * @return void\n     * @throws Zend_Http_Client_Adapter_Exception if unable to connect\n     *\/",193],["T_WHITESPACE","\n    ",201],["T_PUBLIC","public",202],["T_WHITESPACE"," ",202],["T_FUNCTION","function",202],["T_WHITESPACE"," ",202],["T_STRING","connect",202],"(",["T_VARIABLE","$host",202],",",["T_WHITESPACE"," ",202],["T_VARIABLE","$port",202],["T_WHITESPACE"," ",202],"=",["T_WHITESPACE"," ",202],["T_LNUMBER","80",202],",",["T_WHITESPACE"," ",202],["T_VARIABLE","$secure",202],["T_WHITESPACE"," ",202],"=",["T_WHITESPACE"," ",202],["T_STRING","false",202],")",["T_WHITESPACE","\n    ",202],"{",["T_WHITESPACE","\n        ",203],["T_COMMENT","\/\/ If we're already connected, disconnect first\n",204],["T_WHITESPACE","        ",205],["T_IF","if",205],["T_WHITESPACE"," ",205],"(",["T_VARIABLE","$this",205],["T_OBJECT_OPERATOR","->",205],["T_STRING","_curl",205],")",["T_WHITESPACE"," ",205],"{",["T_WHITESPACE","\n            ",205],["T_VARIABLE","$this",206],["T_OBJECT_OPERATOR","->",206],["T_STRING","close",206],"(",")",";",["T_WHITESPACE","\n        ",206],"}",["T_WHITESPACE","\n\n        ",207],["T_COMMENT","\/\/ If we are connected to a different server or port, disconnect first\n",209],["T_WHITESPACE","        ",210],["T_IF","if",210],["T_WHITESPACE"," ",210],"(",["T_VARIABLE","$this",210],["T_OBJECT_OPERATOR","->",210],["T_STRING","_curl",210],["T_WHITESPACE","\n            ",210],["T_BOOLEAN_AND","&&",211],["T_WHITESPACE"," ",211],["T_STRING","is_array",211],"(",["T_VARIABLE","$this",211],["T_OBJECT_OPERATOR","->",211],["T_STRING","_connected_to",211],")",["T_WHITESPACE","\n            ",211],["T_BOOLEAN_AND","&&",212],["T_WHITESPACE"," ",212],"(",["T_VARIABLE","$this",212],["T_OBJECT_OPERATOR","->",212],["T_STRING","_connected_to",212],"[",["T_LNUMBER","0",212],"]",["T_WHITESPACE"," ",212],["T_IS_NOT_EQUAL","!=",212],["T_WHITESPACE"," ",212],["T_VARIABLE","$host",212],["T_WHITESPACE","\n            ",212],["T_BOOLEAN_OR","||",213],["T_WHITESPACE"," ",213],["T_VARIABLE","$this",213],["T_OBJECT_OPERATOR","->",213],["T_STRING","_connected_to",213],"[",["T_LNUMBER","1",213],"]",["T_WHITESPACE"," ",213],["T_IS_NOT_EQUAL","!=",213],["T_WHITESPACE"," ",213],["T_VARIABLE","$port",213],")",["T_WHITESPACE","\n        ",213],")",["T_WHITESPACE"," ",214],"{",["T_WHITESPACE","\n            ",214],["T_VARIABLE","$this",215],["T_OBJECT_OPERATOR","->",215],["T_STRING","close",215],"(",")",";",["T_WHITESPACE","\n        ",215],"}",["T_WHITESPACE","\n\n        ",216],["T_COMMENT","\/\/ Do the actual connection\n",218],["T_WHITESPACE","        ",219],["T_VARIABLE","$this",219],["T_OBJECT_OPERATOR","->",219],["T_STRING","_curl",219],["T_WHITESPACE"," ",219],"=",["T_WHITESPACE"," ",219],["T_STRING","curl_init",219],"(",")",";",["T_WHITESPACE","\n        ",219],["T_IF","if",220],["T_WHITESPACE"," ",220],"(",["T_VARIABLE","$port",220],["T_WHITESPACE"," ",220],["T_IS_NOT_EQUAL","!=",220],["T_WHITESPACE"," ",220],["T_LNUMBER","80",220],")",["T_WHITESPACE"," ",220],"{",["T_WHITESPACE","\n            ",220],["T_STRING","curl_setopt",221],"(",["T_VARIABLE","$this",221],["T_OBJECT_OPERATOR","->",221],["T_STRING","_curl",221],",",["T_WHITESPACE"," ",221],["T_STRING","CURLOPT_PORT",221],",",["T_WHITESPACE"," ",221],["T_STRING","intval",221],"(",["T_VARIABLE","$port",221],")",")",";",["T_WHITESPACE","\n        ",221],"}",["T_WHITESPACE","\n\n        ",222],["T_COMMENT","\/\/ Set connection timeout\n",224],["T_WHITESPACE","        ",225],["T_VARIABLE","$connectTimeout",225],["T_WHITESPACE","  ",225],"=",["T_WHITESPACE"," ",225],["T_VARIABLE","$this",225],["T_OBJECT_OPERATOR","->",225],["T_STRING","_config",225],"[",["T_CONSTANT_ENCAPSED_STRING","'timeout'",225],"]",";",["T_WHITESPACE","\n        ",225],["T_VARIABLE","$constant",226],["T_WHITESPACE","        ",226],"=",["T_WHITESPACE"," ",226],["T_STRING","CURLOPT_CONNECTTIMEOUT",226],";",["T_WHITESPACE","\n        ",226],["T_IF","if",227],["T_WHITESPACE"," ",227],"(",["T_STRING","defined",227],"(",["T_CONSTANT_ENCAPSED_STRING","'CURLOPT_CONNECTTIMEOUT_MS'",227],")",")",["T_WHITESPACE"," ",227],"{",["T_WHITESPACE","\n            ",227],["T_VARIABLE","$connectTimeout",228],["T_WHITESPACE"," ",228],["T_MUL_EQUAL","*=",228],["T_WHITESPACE"," ",228],["T_LNUMBER","1000",228],";",["T_WHITESPACE","\n            ",228],["T_VARIABLE","$constant",229],["T_WHITESPACE"," ",229],"=",["T_WHITESPACE"," ",229],["T_STRING","constant",229],"(",["T_CONSTANT_ENCAPSED_STRING","'CURLOPT_CONNECTTIMEOUT_MS'",229],")",";",["T_WHITESPACE","\n        ",229],"}",["T_WHITESPACE","\n        ",230],["T_STRING","curl_setopt",231],"(",["T_VARIABLE","$this",231],["T_OBJECT_OPERATOR","->",231],["T_STRING","_curl",231],",",["T_WHITESPACE"," ",231],["T_VARIABLE","$constant",231],",",["T_WHITESPACE"," ",231],["T_VARIABLE","$connectTimeout",231],")",";",["T_WHITESPACE","\n\n        ",231],["T_COMMENT","\/\/ Set request timeout (once connection is established)\n",233],["T_WHITESPACE","        ",234],["T_IF","if",234],["T_WHITESPACE"," ",234],"(",["T_STRING","array_key_exists",234],"(",["T_CONSTANT_ENCAPSED_STRING","'request_timeout'",234],",",["T_WHITESPACE"," ",234],["T_VARIABLE","$this",234],["T_OBJECT_OPERATOR","->",234],["T_STRING","_config",234],")",")",["T_WHITESPACE"," ",234],"{",["T_WHITESPACE","\n            ",234],["T_VARIABLE","$requestTimeout",235],["T_WHITESPACE","  ",235],"=",["T_WHITESPACE"," ",235],["T_VARIABLE","$this",235],["T_OBJECT_OPERATOR","->",235],["T_STRING","_config",235],"[",["T_CONSTANT_ENCAPSED_STRING","'request_timeout'",235],"]",";",["T_WHITESPACE","\n            ",235],["T_VARIABLE","$constant",236],["T_WHITESPACE","        ",236],"=",["T_WHITESPACE"," ",236],["T_STRING","CURLOPT_TIMEOUT",236],";",["T_WHITESPACE","\n            ",236],["T_IF","if",237],["T_WHITESPACE"," ",237],"(",["T_STRING","defined",237],"(",["T_CONSTANT_ENCAPSED_STRING","'CURLOPT_TIMEOUT_MS'",237],")",")",["T_WHITESPACE"," ",237],"{",["T_WHITESPACE","\n                ",237],["T_VARIABLE","$requestTimeout",238],["T_WHITESPACE"," ",238],["T_MUL_EQUAL","*=",238],["T_WHITESPACE"," ",238],["T_LNUMBER","1000",238],";",["T_WHITESPACE","\n                ",238],["T_VARIABLE","$constant",239],["T_WHITESPACE"," ",239],"=",["T_WHITESPACE"," ",239],["T_STRING","constant",239],"(",["T_CONSTANT_ENCAPSED_STRING","'CURLOPT_TIMEOUT_MS'",239],")",";",["T_WHITESPACE","\n            ",239],"}",["T_WHITESPACE","\n            ",240],["T_STRING","curl_setopt",241],"(",["T_VARIABLE","$this",241],["T_OBJECT_OPERATOR","->",241],["T_STRING","_curl",241],",",["T_WHITESPACE"," ",241],["T_VARIABLE","$constant",241],",",["T_WHITESPACE"," ",241],["T_VARIABLE","$requestTimeout",241],")",";",["T_WHITESPACE","\n        ",241],"}",["T_WHITESPACE","\n\n        ",242],["T_COMMENT","\/\/ Set Max redirects\n",244],["T_WHITESPACE","        ",245],["T_STRING","curl_setopt",245],"(",["T_VARIABLE","$this",245],["T_OBJECT_OPERATOR","->",245],["T_STRING","_curl",245],",",["T_WHITESPACE"," ",245],["T_STRING","CURLOPT_MAXREDIRS",245],",",["T_WHITESPACE"," ",245],["T_VARIABLE","$this",245],["T_OBJECT_OPERATOR","->",245],["T_STRING","_config",245],"[",["T_CONSTANT_ENCAPSED_STRING","'maxredirects'",245],"]",")",";",["T_WHITESPACE","\n\n        ",245],["T_IF","if",247],["T_WHITESPACE"," ",247],"(","!",["T_VARIABLE","$this",247],["T_OBJECT_OPERATOR","->",247],["T_STRING","_curl",247],")",["T_WHITESPACE"," ",247],"{",["T_WHITESPACE","\n            ",247],["T_VARIABLE","$this",248],["T_OBJECT_OPERATOR","->",248],["T_STRING","close",248],"(",")",";",["T_WHITESPACE","\n\n            ",248],["T_COMMENT","#require_once 'Zend\/Http\/Client\/Adapter\/Exception.php';\n",250],["T_WHITESPACE","            ",251],["T_THROW","throw",251],["T_WHITESPACE"," ",251],["T_NEW","new",251],["T_WHITESPACE"," ",251],["T_STRING","Zend_Http_Client_Adapter_Exception",251],"(",["T_CONSTANT_ENCAPSED_STRING","'Unable to Connect to '",251],["T_WHITESPACE"," ",251],".",["T_WHITESPACE","  ",251],["T_VARIABLE","$host",251],["T_WHITESPACE"," ",251],".",["T_WHITESPACE"," ",251],["T_CONSTANT_ENCAPSED_STRING","':'",251],["T_WHITESPACE"," ",251],".",["T_WHITESPACE"," ",251],["T_VARIABLE","$port",251],")",";",["T_WHITESPACE","\n        ",251],"}",["T_WHITESPACE","\n\n        ",252],["T_IF","if",254],["T_WHITESPACE"," ",254],"(",["T_VARIABLE","$secure",254],["T_WHITESPACE"," ",254],["T_IS_NOT_IDENTICAL","!==",254],["T_WHITESPACE"," ",254],["T_STRING","false",254],")",["T_WHITESPACE"," ",254],"{",["T_WHITESPACE","\n            ",254],["T_COMMENT","\/\/ Behave the same like Zend_Http_Adapter_Socket on SSL options.\n",255],["T_WHITESPACE","            ",256],["T_IF","if",256],["T_WHITESPACE"," ",256],"(",["T_ISSET","isset",256],"(",["T_VARIABLE","$this",256],["T_OBJECT_OPERATOR","->",256],["T_STRING","_config",256],"[",["T_CONSTANT_ENCAPSED_STRING","'sslcert'",256],"]",")",")",["T_WHITESPACE"," ",256],"{",["T_WHITESPACE","\n                ",256],["T_STRING","curl_setopt",257],"(",["T_VARIABLE","$this",257],["T_OBJECT_OPERATOR","->",257],["T_STRING","_curl",257],",",["T_WHITESPACE"," ",257],["T_STRING","CURLOPT_SSLCERT",257],",",["T_WHITESPACE"," ",257],["T_VARIABLE","$this",257],["T_OBJECT_OPERATOR","->",257],["T_STRING","_config",257],"[",["T_CONSTANT_ENCAPSED_STRING","'sslcert'",257],"]",")",";",["T_WHITESPACE","\n            ",257],"}",["T_WHITESPACE","\n            ",258],["T_IF","if",259],["T_WHITESPACE"," ",259],"(",["T_ISSET","isset",259],"(",["T_VARIABLE","$this",259],["T_OBJECT_OPERATOR","->",259],["T_STRING","_config",259],"[",["T_CONSTANT_ENCAPSED_STRING","'sslpassphrase'",259],"]",")",")",["T_WHITESPACE"," ",259],"{",["T_WHITESPACE","\n                ",259],["T_STRING","curl_setopt",260],"(",["T_VARIABLE","$this",260],["T_OBJECT_OPERATOR","->",260],["T_STRING","_curl",260],",",["T_WHITESPACE"," ",260],["T_STRING","CURLOPT_SSLCERTPASSWD",260],",",["T_WHITESPACE"," ",260],["T_VARIABLE","$this",260],["T_OBJECT_OPERATOR","->",260],["T_STRING","_config",260],"[",["T_CONSTANT_ENCAPSED_STRING","'sslpassphrase'",260],"]",")",";",["T_WHITESPACE","\n            ",260],"}",["T_WHITESPACE","\n        ",261],"}",["T_WHITESPACE","\n\n        ",262],["T_COMMENT","\/\/ Update connected_to\n",264],["T_WHITESPACE","        ",265],["T_VARIABLE","$this",265],["T_OBJECT_OPERATOR","->",265],["T_STRING","_connected_to",265],["T_WHITESPACE"," ",265],"=",["T_WHITESPACE"," ",265],["T_ARRAY","array",265],"(",["T_VARIABLE","$host",265],",",["T_WHITESPACE"," ",265],["T_VARIABLE","$port",265],")",";",["T_WHITESPACE","\n    ",265],"}",["T_WHITESPACE","\n\n    ",266],["T_DOC_COMMENT","\/**\n     * Send request to the remote server\n     *\n     * @param  string        $method\n     * @param  Zend_Uri_Http $uri\n     * @param  float         $http_ver\n     * @param  array         $headers\n     * @param  string        $body\n     * @return string        $request\n     * @throws Zend_Http_Client_Adapter_Exception If connection fails, connected to wrong host, no PUT file defined, unsupported method, or unsupported cURL option\n     *\/",268],["T_WHITESPACE","\n    ",278],["T_PUBLIC","public",279],["T_WHITESPACE"," ",279],["T_FUNCTION","function",279],["T_WHITESPACE"," ",279],["T_STRING","write",279],"(",["T_VARIABLE","$method",279],",",["T_WHITESPACE"," ",279],["T_VARIABLE","$uri",279],",",["T_WHITESPACE"," ",279],["T_VARIABLE","$httpVersion",279],["T_WHITESPACE"," ",279],"=",["T_WHITESPACE"," ",279],["T_DNUMBER","1.1",279],",",["T_WHITESPACE"," ",279],["T_VARIABLE","$headers",279],["T_WHITESPACE"," ",279],"=",["T_WHITESPACE"," ",279],["T_ARRAY","array",279],"(",")",",",["T_WHITESPACE"," ",279],["T_VARIABLE","$body",279],["T_WHITESPACE"," ",279],"=",["T_WHITESPACE"," ",279],["T_CONSTANT_ENCAPSED_STRING","''",279],")",["T_WHITESPACE","\n    ",279],"{",["T_WHITESPACE","\n        ",280],["T_COMMENT","\/\/ Make sure we're properly connected\n",281],["T_WHITESPACE","        ",282],["T_IF","if",282],["T_WHITESPACE"," ",282],"(","!",["T_VARIABLE","$this",282],["T_OBJECT_OPERATOR","->",282],["T_STRING","_curl",282],")",["T_WHITESPACE"," ",282],"{",["T_WHITESPACE","\n            ",282],["T_COMMENT","#require_once 'Zend\/Http\/Client\/Adapter\/Exception.php';\n",283],["T_WHITESPACE","            ",284],["T_THROW","throw",284],["T_WHITESPACE"," ",284],["T_NEW","new",284],["T_WHITESPACE"," ",284],["T_STRING","Zend_Http_Client_Adapter_Exception",284],"(",["T_CONSTANT_ENCAPSED_STRING","\"Trying to write but we are not connected\"",284],")",";",["T_WHITESPACE","\n        ",284],"}",["T_WHITESPACE","\n\n        ",285],["T_IF","if",287],["T_WHITESPACE"," ",287],"(",["T_VARIABLE","$this",287],["T_OBJECT_OPERATOR","->",287],["T_STRING","_connected_to",287],"[",["T_LNUMBER","0",287],"]",["T_WHITESPACE"," ",287],["T_IS_NOT_EQUAL","!=",287],["T_WHITESPACE"," ",287],["T_VARIABLE","$uri",287],["T_OBJECT_OPERATOR","->",287],["T_STRING","getHost",287],"(",")",["T_WHITESPACE"," ",287],["T_BOOLEAN_OR","||",287],["T_WHITESPACE"," ",287],["T_VARIABLE","$this",287],["T_OBJECT_OPERATOR","->",287],["T_STRING","_connected_to",287],"[",["T_LNUMBER","1",287],"]",["T_WHITESPACE"," ",287],["T_IS_NOT_EQUAL","!=",287],["T_WHITESPACE"," ",287],["T_VARIABLE","$uri",287],["T_OBJECT_OPERATOR","->",287],["T_STRING","getPort",287],"(",")",")",["T_WHITESPACE"," ",287],"{",["T_WHITESPACE","\n            ",287],["T_COMMENT","#require_once 'Zend\/Http\/Client\/Adapter\/Exception.php';\n",288],["T_WHITESPACE","            ",289],["T_THROW","throw",289],["T_WHITESPACE"," ",289],["T_NEW","new",289],["T_WHITESPACE"," ",289],["T_STRING","Zend_Http_Client_Adapter_Exception",289],"(",["T_CONSTANT_ENCAPSED_STRING","\"Trying to write but we are connected to the wrong host\"",289],")",";",["T_WHITESPACE","\n        ",289],"}",["T_WHITESPACE","\n\n        ",290],["T_COMMENT","\/\/ set URL\n",292],["T_WHITESPACE","        ",293],["T_STRING","curl_setopt",293],"(",["T_VARIABLE","$this",293],["T_OBJECT_OPERATOR","->",293],["T_STRING","_curl",293],",",["T_WHITESPACE"," ",293],["T_STRING","CURLOPT_URL",293],",",["T_WHITESPACE"," ",293],["T_VARIABLE","$uri",293],["T_OBJECT_OPERATOR","->",293],["T_STRING","__toString",293],"(",")",")",";",["T_WHITESPACE","\n\n        ",293],["T_COMMENT","\/\/ ensure correct curl call\n",295],["T_WHITESPACE","        ",296],["T_VARIABLE","$curlValue",296],["T_WHITESPACE"," ",296],"=",["T_WHITESPACE"," ",296],["T_STRING","true",296],";",["T_WHITESPACE","\n        ",296],["T_SWITCH","switch",297],["T_WHITESPACE"," ",297],"(",["T_VARIABLE","$method",297],")",["T_WHITESPACE"," ",297],"{",["T_WHITESPACE","\n            ",297],["T_CASE","case",298],["T_WHITESPACE"," ",298],["T_STRING","Zend_Http_Client",298],["T_DOUBLE_COLON","::",298],["T_STRING","GET",298],":",["T_WHITESPACE","\n                ",298],["T_VARIABLE","$curlMethod",299],["T_WHITESPACE"," ",299],"=",["T_WHITESPACE"," ",299],["T_STRING","CURLOPT_HTTPGET",299],";",["T_WHITESPACE","\n                ",299],["T_BREAK","break",300],";",["T_WHITESPACE","\n\n            ",300],["T_CASE","case",302],["T_WHITESPACE"," ",302],["T_STRING","Zend_Http_Client",302],["T_DOUBLE_COLON","::",302],["T_STRING","POST",302],":",["T_WHITESPACE","\n                ",302],["T_VARIABLE","$curlMethod",303],["T_WHITESPACE"," ",303],"=",["T_WHITESPACE"," ",303],["T_STRING","CURLOPT_POST",303],";",["T_WHITESPACE","\n                ",303],["T_BREAK","break",304],";",["T_WHITESPACE","\n\n            ",304],["T_CASE","case",306],["T_WHITESPACE"," ",306],["T_STRING","Zend_Http_Client",306],["T_DOUBLE_COLON","::",306],["T_STRING","PUT",306],":",["T_WHITESPACE","\n                ",306],["T_COMMENT","\/\/ There are two different types of PUT request, either a Raw Data string has been set\n",307],["T_WHITESPACE","                ",308],["T_COMMENT","\/\/ or CURLOPT_INFILE and CURLOPT_INFILESIZE are used.\n",308],["T_WHITESPACE","                ",309],["T_IF","if",309],"(",["T_STRING","is_resource",309],"(",["T_VARIABLE","$body",309],")",")",["T_WHITESPACE"," ",309],"{",["T_WHITESPACE","\n                    ",309],["T_VARIABLE","$this",310],["T_OBJECT_OPERATOR","->",310],["T_STRING","_config",310],"[",["T_CONSTANT_ENCAPSED_STRING","'curloptions'",310],"]","[",["T_STRING","CURLOPT_INFILE",310],"]",["T_WHITESPACE"," ",310],"=",["T_WHITESPACE"," ",310],["T_VARIABLE","$body",310],";",["T_WHITESPACE","\n                ",310],"}",["T_WHITESPACE","\n                ",311],["T_IF","if",312],["T_WHITESPACE"," ",312],"(",["T_ISSET","isset",312],"(",["T_VARIABLE","$this",312],["T_OBJECT_OPERATOR","->",312],["T_STRING","_config",312],"[",["T_CONSTANT_ENCAPSED_STRING","'curloptions'",312],"]","[",["T_STRING","CURLOPT_INFILE",312],"]",")",")",["T_WHITESPACE"," ",312],"{",["T_WHITESPACE","\n                    ",312],["T_COMMENT","\/\/ Now we will probably already have Content-Length set, so that we have to delete it\n",313],["T_WHITESPACE","                    ",314],["T_COMMENT","\/\/ from $headers at this point:\n",314],["T_WHITESPACE","                    ",315],["T_FOREACH","foreach",315],["T_WHITESPACE"," ",315],"(",["T_VARIABLE","$headers",315],["T_WHITESPACE"," ",315],["T_AS","AS",315],["T_WHITESPACE"," ",315],["T_VARIABLE","$k",315],["T_WHITESPACE"," ",315],["T_DOUBLE_ARROW","=>",315],["T_WHITESPACE"," ",315],["T_VARIABLE","$header",315],")",["T_WHITESPACE"," ",315],"{",["T_WHITESPACE","\n                        ",315],["T_IF","if",316],["T_WHITESPACE"," ",316],"(",["T_STRING","preg_match",316],"(",["T_CONSTANT_ENCAPSED_STRING","'\/Content-Length:\\s*(\\d+)\/i'",316],",",["T_WHITESPACE"," ",316],["T_VARIABLE","$header",316],",",["T_WHITESPACE"," ",316],["T_VARIABLE","$m",316],")",")",["T_WHITESPACE"," ",316],"{",["T_WHITESPACE","\n                            ",316],["T_IF","if",317],"(",["T_STRING","is_resource",317],"(",["T_VARIABLE","$body",317],")",")",["T_WHITESPACE"," ",317],"{",["T_WHITESPACE","\n                                ",317],["T_VARIABLE","$this",318],["T_OBJECT_OPERATOR","->",318],["T_STRING","_config",318],"[",["T_CONSTANT_ENCAPSED_STRING","'curloptions'",318],"]","[",["T_STRING","CURLOPT_INFILESIZE",318],"]",["T_WHITESPACE"," ",318],"=",["T_WHITESPACE"," ",318],["T_INT_CAST","(int)",318],["T_VARIABLE","$m",318],"[",["T_LNUMBER","1",318],"]",";",["T_WHITESPACE","\n                            ",318],"}",["T_WHITESPACE","\n                            ",319],["T_UNSET","unset",320],"(",["T_VARIABLE","$headers",320],"[",["T_VARIABLE","$k",320],"]",")",";",["T_WHITESPACE","\n                        ",320],"}",["T_WHITESPACE","\n                    ",321],"}",["T_WHITESPACE","\n\n                    ",322],["T_IF","if",324],["T_WHITESPACE"," ",324],"(","!",["T_ISSET","isset",324],"(",["T_VARIABLE","$this",324],["T_OBJECT_OPERATOR","->",324],["T_STRING","_config",324],"[",["T_CONSTANT_ENCAPSED_STRING","'curloptions'",324],"]","[",["T_STRING","CURLOPT_INFILESIZE",324],"]",")",")",["T_WHITESPACE"," ",324],"{",["T_WHITESPACE","\n                        ",324],["T_COMMENT","#require_once 'Zend\/Http\/Client\/Adapter\/Exception.php';\n",325],["T_WHITESPACE","                        ",326],["T_THROW","throw",326],["T_WHITESPACE"," ",326],["T_NEW","new",326],["T_WHITESPACE"," ",326],["T_STRING","Zend_Http_Client_Adapter_Exception",326],"(",["T_CONSTANT_ENCAPSED_STRING","\"Cannot set a file-handle for cURL option CURLOPT_INFILE without also setting its size in CURLOPT_INFILESIZE.\"",326],")",";",["T_WHITESPACE","\n                    ",326],"}",["T_WHITESPACE","\n\n                    ",327],["T_IF","if",329],"(",["T_STRING","is_resource",329],"(",["T_VARIABLE","$body",329],")",")",["T_WHITESPACE"," ",329],"{",["T_WHITESPACE","\n                        ",329],["T_VARIABLE","$body",330],["T_WHITESPACE"," ",330],"=",["T_WHITESPACE"," ",330],["T_CONSTANT_ENCAPSED_STRING","''",330],";",["T_WHITESPACE","\n                    ",330],"}",["T_WHITESPACE","\n\n                    ",331],["T_VARIABLE","$curlMethod",333],["T_WHITESPACE"," ",333],"=",["T_WHITESPACE"," ",333],["T_STRING","CURLOPT_PUT",333],";",["T_WHITESPACE","\n                ",333],"}",["T_WHITESPACE"," ",334],["T_ELSE","else",334],["T_WHITESPACE"," ",334],"{",["T_WHITESPACE","\n                    ",334],["T_VARIABLE","$curlMethod",335],["T_WHITESPACE"," ",335],"=",["T_WHITESPACE"," ",335],["T_STRING","CURLOPT_CUSTOMREQUEST",335],";",["T_WHITESPACE","\n                    ",335],["T_VARIABLE","$curlValue",336],["T_WHITESPACE"," ",336],"=",["T_WHITESPACE"," ",336],["T_CONSTANT_ENCAPSED_STRING","\"PUT\"",336],";",["T_WHITESPACE","\n                ",336],"}",["T_WHITESPACE","\n                ",337],["T_BREAK","break",338],";",["T_WHITESPACE","\n\n            ",338],["T_CASE","case",340],["T_WHITESPACE"," ",340],["T_STRING","Zend_Http_Client",340],["T_DOUBLE_COLON","::",340],["T_STRING","PATCH",340],":",["T_WHITESPACE","\n                ",340],["T_VARIABLE","$curlMethod",341],["T_WHITESPACE"," ",341],"=",["T_WHITESPACE"," ",341],["T_STRING","CURLOPT_CUSTOMREQUEST",341],";",["T_WHITESPACE","\n                ",341],["T_VARIABLE","$curlValue",342],["T_WHITESPACE"," ",342],"=",["T_WHITESPACE"," ",342],["T_CONSTANT_ENCAPSED_STRING","\"PATCH\"",342],";",["T_WHITESPACE","\n                ",342],["T_BREAK","break",343],";",["T_WHITESPACE","\n\n            ",343],["T_CASE","case",345],["T_WHITESPACE"," ",345],["T_STRING","Zend_Http_Client",345],["T_DOUBLE_COLON","::",345],["T_STRING","DELETE",345],":",["T_WHITESPACE","\n                ",345],["T_VARIABLE","$curlMethod",346],["T_WHITESPACE"," ",346],"=",["T_WHITESPACE"," ",346],["T_STRING","CURLOPT_CUSTOMREQUEST",346],";",["T_WHITESPACE","\n                ",346],["T_VARIABLE","$curlValue",347],["T_WHITESPACE"," ",347],"=",["T_WHITESPACE"," ",347],["T_CONSTANT_ENCAPSED_STRING","\"DELETE\"",347],";",["T_WHITESPACE","\n                ",347],["T_BREAK","break",348],";",["T_WHITESPACE","\n\n            ",348],["T_CASE","case",350],["T_WHITESPACE"," ",350],["T_STRING","Zend_Http_Client",350],["T_DOUBLE_COLON","::",350],["T_STRING","OPTIONS",350],":",["T_WHITESPACE","\n                ",350],["T_VARIABLE","$curlMethod",351],["T_WHITESPACE"," ",351],"=",["T_WHITESPACE"," ",351],["T_STRING","CURLOPT_CUSTOMREQUEST",351],";",["T_WHITESPACE","\n                ",351],["T_VARIABLE","$curlValue",352],["T_WHITESPACE"," ",352],"=",["T_WHITESPACE"," ",352],["T_CONSTANT_ENCAPSED_STRING","\"OPTIONS\"",352],";",["T_WHITESPACE","\n                ",352],["T_BREAK","break",353],";",["T_WHITESPACE","\n\n            ",353],["T_CASE","case",355],["T_WHITESPACE"," ",355],["T_STRING","Zend_Http_Client",355],["T_DOUBLE_COLON","::",355],["T_STRING","TRACE",355],":",["T_WHITESPACE","\n                ",355],["T_VARIABLE","$curlMethod",356],["T_WHITESPACE"," ",356],"=",["T_WHITESPACE"," ",356],["T_STRING","CURLOPT_CUSTOMREQUEST",356],";",["T_WHITESPACE","\n                ",356],["T_VARIABLE","$curlValue",357],["T_WHITESPACE"," ",357],"=",["T_WHITESPACE"," ",357],["T_CONSTANT_ENCAPSED_STRING","\"TRACE\"",357],";",["T_WHITESPACE","\n                ",357],["T_BREAK","break",358],";",["T_WHITESPACE","\n\n            ",358],["T_CASE","case",360],["T_WHITESPACE"," ",360],["T_STRING","Zend_Http_Client",360],["T_DOUBLE_COLON","::",360],["T_STRING","HEAD",360],":",["T_WHITESPACE","\n                ",360],["T_VARIABLE","$curlMethod",361],["T_WHITESPACE"," ",361],"=",["T_WHITESPACE"," ",361],["T_STRING","CURLOPT_CUSTOMREQUEST",361],";",["T_WHITESPACE","\n                ",361],["T_VARIABLE","$curlValue",362],["T_WHITESPACE"," ",362],"=",["T_WHITESPACE"," ",362],["T_CONSTANT_ENCAPSED_STRING","\"HEAD\"",362],";",["T_WHITESPACE","\n                ",362],["T_BREAK","break",363],";",["T_WHITESPACE","\n\n            ",363],["T_DEFAULT","default",365],":",["T_WHITESPACE","\n                ",365],["T_COMMENT","\/\/ For now, through an exception for unsupported request methods\n",366],["T_WHITESPACE","                ",367],["T_COMMENT","#require_once 'Zend\/Http\/Client\/Adapter\/Exception.php';\n",367],["T_WHITESPACE","                ",368],["T_THROW","throw",368],["T_WHITESPACE"," ",368],["T_NEW","new",368],["T_WHITESPACE"," ",368],["T_STRING","Zend_Http_Client_Adapter_Exception",368],"(",["T_CONSTANT_ENCAPSED_STRING","\"Method currently not supported\"",368],")",";",["T_WHITESPACE","\n        ",368],"}",["T_WHITESPACE","\n\n        ",369],["T_IF","if",371],"(",["T_STRING","is_resource",371],"(",["T_VARIABLE","$body",371],")",["T_WHITESPACE"," ",371],["T_BOOLEAN_AND","&&",371],["T_WHITESPACE"," ",371],["T_VARIABLE","$curlMethod",371],["T_WHITESPACE"," ",371],["T_IS_NOT_EQUAL","!=",371],["T_WHITESPACE"," ",371],["T_STRING","CURLOPT_PUT",371],")",["T_WHITESPACE"," ",371],"{",["T_WHITESPACE","\n            ",371],["T_COMMENT","#require_once 'Zend\/Http\/Client\/Adapter\/Exception.php';\n",372],["T_WHITESPACE","            ",373],["T_THROW","throw",373],["T_WHITESPACE"," ",373],["T_NEW","new",373],["T_WHITESPACE"," ",373],["T_STRING","Zend_Http_Client_Adapter_Exception",373],"(",["T_CONSTANT_ENCAPSED_STRING","\"Streaming requests are allowed only with PUT\"",373],")",";",["T_WHITESPACE","\n        ",373],"}",["T_WHITESPACE","\n\n        ",374],["T_COMMENT","\/\/ get http version to use\n",376],["T_WHITESPACE","        ",377],["T_VARIABLE","$curlHttp",377],["T_WHITESPACE"," ",377],"=",["T_WHITESPACE"," ",377],"(",["T_VARIABLE","$httpVersion",377],["T_WHITESPACE"," ",377],["T_IS_EQUAL","==",377],["T_WHITESPACE"," ",377],["T_DNUMBER","1.1",377],")",["T_WHITESPACE"," ",377],"?",["T_WHITESPACE"," ",377],["T_STRING","CURL_HTTP_VERSION_1_1",377],["T_WHITESPACE"," ",377],":",["T_WHITESPACE"," ",377],["T_STRING","CURL_HTTP_VERSION_1_0",377],";",["T_WHITESPACE","\n\n        ",377],["T_COMMENT","\/\/ mark as HTTP request and set HTTP method\n",379],["T_WHITESPACE","        ",380],["T_STRING","curl_setopt",380],"(",["T_VARIABLE","$this",380],["T_OBJECT_OPERATOR","->",380],["T_STRING","_curl",380],",",["T_WHITESPACE"," ",380],["T_STRING","CURLOPT_HTTP_VERSION",380],",",["T_WHITESPACE"," ",380],["T_VARIABLE","$curlHttp",380],")",";",["T_WHITESPACE","\n        ",380],["T_STRING","curl_setopt",381],"(",["T_VARIABLE","$this",381],["T_OBJECT_OPERATOR","->",381],["T_STRING","_curl",381],",",["T_WHITESPACE"," ",381],["T_VARIABLE","$curlMethod",381],",",["T_WHITESPACE"," ",381],["T_VARIABLE","$curlValue",381],")",";",["T_WHITESPACE","\n\n        ",381],["T_IF","if",383],"(",["T_VARIABLE","$this",383],["T_OBJECT_OPERATOR","->",383],["T_STRING","out_stream",383],")",["T_WHITESPACE"," ",383],"{",["T_WHITESPACE","\n            ",383],["T_COMMENT","\/\/ headers will be read into the response\n",384],["T_WHITESPACE","            ",385],["T_STRING","curl_setopt",385],"(",["T_VARIABLE","$this",385],["T_OBJECT_OPERATOR","->",385],["T_STRING","_curl",385],",",["T_WHITESPACE"," ",385],["T_STRING","CURLOPT_HEADER",385],",",["T_WHITESPACE"," ",385],["T_STRING","false",385],")",";",["T_WHITESPACE","\n            ",385],["T_STRING","curl_setopt",386],"(",["T_VARIABLE","$this",386],["T_OBJECT_OPERATOR","->",386],["T_STRING","_curl",386],",",["T_WHITESPACE"," ",386],["T_STRING","CURLOPT_HEADERFUNCTION",386],",",["T_WHITESPACE"," ",386],["T_ARRAY","array",386],"(",["T_VARIABLE","$this",386],",",["T_WHITESPACE"," ",386],["T_CONSTANT_ENCAPSED_STRING","\"readHeader\"",386],")",")",";",["T_WHITESPACE","\n            ",386],["T_COMMENT","\/\/ and data will be written into the file\n",387],["T_WHITESPACE","            ",388],["T_STRING","curl_setopt",388],"(",["T_VARIABLE","$this",388],["T_OBJECT_OPERATOR","->",388],["T_STRING","_curl",388],",",["T_WHITESPACE"," ",388],["T_STRING","CURLOPT_FILE",388],",",["T_WHITESPACE"," ",388],["T_VARIABLE","$this",388],["T_OBJECT_OPERATOR","->",388],["T_STRING","out_stream",388],")",";",["T_WHITESPACE","\n        ",388],"}",["T_WHITESPACE"," ",389],["T_ELSE","else",389],["T_WHITESPACE"," ",389],"{",["T_WHITESPACE","\n            ",389],["T_COMMENT","\/\/ ensure headers are also returned\n",390],["T_WHITESPACE","            ",391],["T_STRING","curl_setopt",391],"(",["T_VARIABLE","$this",391],["T_OBJECT_OPERATOR","->",391],["T_STRING","_curl",391],",",["T_WHITESPACE"," ",391],["T_STRING","CURLOPT_HEADER",391],",",["T_WHITESPACE"," ",391],["T_STRING","true",391],")",";",["T_WHITESPACE","\n            ",391],["T_STRING","curl_setopt",392],"(",["T_VARIABLE","$this",392],["T_OBJECT_OPERATOR","->",392],["T_STRING","_curl",392],",",["T_WHITESPACE"," ",392],["T_STRING","CURLINFO_HEADER_OUT",392],",",["T_WHITESPACE"," ",392],["T_STRING","true",392],")",";",["T_WHITESPACE","\n\n            ",392],["T_COMMENT","\/\/ ensure actual response is returned\n",394],["T_WHITESPACE","            ",395],["T_STRING","curl_setopt",395],"(",["T_VARIABLE","$this",395],["T_OBJECT_OPERATOR","->",395],["T_STRING","_curl",395],",",["T_WHITESPACE"," ",395],["T_STRING","CURLOPT_RETURNTRANSFER",395],",",["T_WHITESPACE"," ",395],["T_STRING","true",395],")",";",["T_WHITESPACE","\n        ",395],"}",["T_WHITESPACE","\n\n        ",396],["T_COMMENT","\/\/ set additional headers\n",398],["T_WHITESPACE","        ",399],["T_VARIABLE","$headers",399],"[",["T_CONSTANT_ENCAPSED_STRING","'Accept'",399],"]",["T_WHITESPACE"," ",399],"=",["T_WHITESPACE"," ",399],["T_CONSTANT_ENCAPSED_STRING","''",399],";",["T_WHITESPACE","\n        ",399],["T_STRING","curl_setopt",400],"(",["T_VARIABLE","$this",400],["T_OBJECT_OPERATOR","->",400],["T_STRING","_curl",400],",",["T_WHITESPACE"," ",400],["T_STRING","CURLOPT_HTTPHEADER",400],",",["T_WHITESPACE"," ",400],["T_VARIABLE","$headers",400],")",";",["T_WHITESPACE","\n\n        ",400],["T_DOC_COMMENT","\/**\n         * Make sure POSTFIELDS is set after $curlMethod is set:\n         * @link http:\/\/de2.php.net\/manual\/en\/function.curl-setopt.php#81161\n         *\/",402],["T_WHITESPACE","\n        ",405],["T_IF","if",406],["T_WHITESPACE"," ",406],"(",["T_VARIABLE","$method",406],["T_WHITESPACE"," ",406],["T_IS_EQUAL","==",406],["T_WHITESPACE"," ",406],["T_STRING","Zend_Http_Client",406],["T_DOUBLE_COLON","::",406],["T_STRING","POST",406],")",["T_WHITESPACE"," ",406],"{",["T_WHITESPACE","\n            ",406],["T_STRING","curl_setopt",407],"(",["T_VARIABLE","$this",407],["T_OBJECT_OPERATOR","->",407],["T_STRING","_curl",407],",",["T_WHITESPACE"," ",407],["T_STRING","CURLOPT_POSTFIELDS",407],",",["T_WHITESPACE"," ",407],["T_VARIABLE","$body",407],")",";",["T_WHITESPACE","\n        ",407],"}",["T_WHITESPACE"," ",408],["T_ELSEIF","elseif",408],["T_WHITESPACE"," ",408],"(",["T_VARIABLE","$curlMethod",408],["T_WHITESPACE"," ",408],["T_IS_EQUAL","==",408],["T_WHITESPACE"," ",408],["T_STRING","CURLOPT_PUT",408],")",["T_WHITESPACE"," ",408],"{",["T_WHITESPACE","\n            ",408],["T_COMMENT","\/\/ this covers a PUT by file-handle:\n",409],["T_WHITESPACE","            ",410],["T_COMMENT","\/\/ Make the setting of this options explicit (rather than setting it through the loop following a bit lower)\n",410],["T_WHITESPACE","            ",411],["T_COMMENT","\/\/ to group common functionality together.\n",411],["T_WHITESPACE","            ",412],["T_STRING","curl_setopt",412],"(",["T_VARIABLE","$this",412],["T_OBJECT_OPERATOR","->",412],["T_STRING","_curl",412],",",["T_WHITESPACE"," ",412],["T_STRING","CURLOPT_INFILE",412],",",["T_WHITESPACE"," ",412],["T_VARIABLE","$this",412],["T_OBJECT_OPERATOR","->",412],["T_STRING","_config",412],"[",["T_CONSTANT_ENCAPSED_STRING","'curloptions'",412],"]","[",["T_STRING","CURLOPT_INFILE",412],"]",")",";",["T_WHITESPACE","\n            ",412],["T_STRING","curl_setopt",413],"(",["T_VARIABLE","$this",413],["T_OBJECT_OPERATOR","->",413],["T_STRING","_curl",413],",",["T_WHITESPACE"," ",413],["T_STRING","CURLOPT_INFILESIZE",413],",",["T_WHITESPACE"," ",413],["T_VARIABLE","$this",413],["T_OBJECT_OPERATOR","->",413],["T_STRING","_config",413],"[",["T_CONSTANT_ENCAPSED_STRING","'curloptions'",413],"]","[",["T_STRING","CURLOPT_INFILESIZE",413],"]",")",";",["T_WHITESPACE","\n            ",413],["T_UNSET","unset",414],"(",["T_VARIABLE","$this",414],["T_OBJECT_OPERATOR","->",414],["T_STRING","_config",414],"[",["T_CONSTANT_ENCAPSED_STRING","'curloptions'",414],"]","[",["T_STRING","CURLOPT_INFILE",414],"]",")",";",["T_WHITESPACE","\n            ",414],["T_UNSET","unset",415],"(",["T_VARIABLE","$this",415],["T_OBJECT_OPERATOR","->",415],["T_STRING","_config",415],"[",["T_CONSTANT_ENCAPSED_STRING","'curloptions'",415],"]","[",["T_STRING","CURLOPT_INFILESIZE",415],"]",")",";",["T_WHITESPACE","\n        ",415],"}",["T_WHITESPACE"," ",416],["T_ELSEIF","elseif",416],["T_WHITESPACE"," ",416],"(",["T_VARIABLE","$method",416],["T_WHITESPACE"," ",416],["T_IS_EQUAL","==",416],["T_WHITESPACE"," ",416],["T_STRING","Zend_Http_Client",416],["T_DOUBLE_COLON","::",416],["T_STRING","PUT",416],")",["T_WHITESPACE"," ",416],"{",["T_WHITESPACE","\n            ",416],["T_COMMENT","\/\/ This is a PUT by a setRawData string, not by file-handle\n",417],["T_WHITESPACE","            ",418],["T_STRING","curl_setopt",418],"(",["T_VARIABLE","$this",418],["T_OBJECT_OPERATOR","->",418],["T_STRING","_curl",418],",",["T_WHITESPACE"," ",418],["T_STRING","CURLOPT_POSTFIELDS",418],",",["T_WHITESPACE"," ",418],["T_VARIABLE","$body",418],")",";",["T_WHITESPACE","\n        ",418],"}",["T_WHITESPACE"," ",419],["T_ELSEIF","elseif",419],["T_WHITESPACE"," ",419],"(",["T_VARIABLE","$method",419],["T_WHITESPACE"," ",419],["T_IS_EQUAL","==",419],["T_WHITESPACE"," ",419],["T_STRING","Zend_Http_Client",419],["T_DOUBLE_COLON","::",419],["T_STRING","PATCH",419],")",["T_WHITESPACE"," ",419],"{",["T_WHITESPACE","\n            ",419],["T_COMMENT","\/\/ This is a PATCH by a setRawData string\n",420],["T_WHITESPACE","            ",421],["T_STRING","curl_setopt",421],"(",["T_VARIABLE","$this",421],["T_OBJECT_OPERATOR","->",421],["T_STRING","_curl",421],",",["T_WHITESPACE"," ",421],["T_STRING","CURLOPT_POSTFIELDS",421],",",["T_WHITESPACE"," ",421],["T_VARIABLE","$body",421],")",";",["T_WHITESPACE","\n        ",421],"}",["T_WHITESPACE"," ",422],["T_ELSEIF","elseif",422],["T_WHITESPACE"," ",422],"(",["T_VARIABLE","$method",422],["T_WHITESPACE"," ",422],["T_IS_EQUAL","==",422],["T_WHITESPACE"," ",422],["T_STRING","Zend_Http_Client",422],["T_DOUBLE_COLON","::",422],["T_STRING","DELETE",422],")",["T_WHITESPACE"," ",422],"{",["T_WHITESPACE","\n            ",422],["T_COMMENT","\/\/ This is a DELETE by a setRawData string\n",423],["T_WHITESPACE","            ",424],["T_STRING","curl_setopt",424],"(",["T_VARIABLE","$this",424],["T_OBJECT_OPERATOR","->",424],["T_STRING","_curl",424],",",["T_WHITESPACE"," ",424],["T_STRING","CURLOPT_POSTFIELDS",424],",",["T_WHITESPACE"," ",424],["T_VARIABLE","$body",424],")",";",["T_WHITESPACE","\n        ",424],"}",["T_WHITESPACE"," ",425],["T_ELSEIF","elseif",425],["T_WHITESPACE"," ",425],"(",["T_VARIABLE","$method",425],["T_WHITESPACE"," ",425],["T_IS_EQUAL","==",425],["T_WHITESPACE"," ",425],["T_STRING","Zend_Http_Client",425],["T_DOUBLE_COLON","::",425],["T_STRING","OPTIONS",425],")",["T_WHITESPACE"," ",425],"{",["T_WHITESPACE","\n            ",425],["T_COMMENT","\/\/ This is an OPTIONS by a setRawData string\n",426],["T_WHITESPACE","            ",427],["T_STRING","curl_setopt",427],"(",["T_VARIABLE","$this",427],["T_OBJECT_OPERATOR","->",427],["T_STRING","_curl",427],",",["T_WHITESPACE"," ",427],["T_STRING","CURLOPT_POSTFIELDS",427],",",["T_WHITESPACE"," ",427],["T_VARIABLE","$body",427],")",";",["T_WHITESPACE","\n        ",427],"}",["T_WHITESPACE","\n\n        ",428],["T_COMMENT","\/\/ set additional curl options\n",430],["T_WHITESPACE","        ",431],["T_IF","if",431],["T_WHITESPACE"," ",431],"(",["T_ISSET","isset",431],"(",["T_VARIABLE","$this",431],["T_OBJECT_OPERATOR","->",431],["T_STRING","_config",431],"[",["T_CONSTANT_ENCAPSED_STRING","'curloptions'",431],"]",")",")",["T_WHITESPACE"," ",431],"{",["T_WHITESPACE","\n            ",431],["T_FOREACH","foreach",432],["T_WHITESPACE"," ",432],"(",["T_ARRAY_CAST","(array)",432],["T_VARIABLE","$this",432],["T_OBJECT_OPERATOR","->",432],["T_STRING","_config",432],"[",["T_CONSTANT_ENCAPSED_STRING","'curloptions'",432],"]",["T_WHITESPACE"," ",432],["T_AS","as",432],["T_WHITESPACE"," ",432],["T_VARIABLE","$k",432],["T_WHITESPACE"," ",432],["T_DOUBLE_ARROW","=>",432],["T_WHITESPACE"," ",432],["T_VARIABLE","$v",432],")",["T_WHITESPACE"," ",432],"{",["T_WHITESPACE","\n                ",432],["T_IF","if",433],["T_WHITESPACE"," ",433],"(","!",["T_STRING","in_array",433],"(",["T_VARIABLE","$k",433],",",["T_WHITESPACE"," ",433],["T_VARIABLE","$this",433],["T_OBJECT_OPERATOR","->",433],["T_STRING","_invalidOverwritableCurlOptions",433],")",")",["T_WHITESPACE"," ",433],"{",["T_WHITESPACE","\n                    ",433],["T_IF","if",434],["T_WHITESPACE"," ",434],"(",["T_STRING","curl_setopt",434],"(",["T_VARIABLE","$this",434],["T_OBJECT_OPERATOR","->",434],["T_STRING","_curl",434],",",["T_WHITESPACE"," ",434],["T_VARIABLE","$k",434],",",["T_WHITESPACE"," ",434],["T_VARIABLE","$v",434],")",["T_WHITESPACE"," ",434],["T_IS_EQUAL","==",434],["T_WHITESPACE"," ",434],["T_STRING","false",434],")",["T_WHITESPACE"," ",434],"{",["T_WHITESPACE","\n                        ",434],["T_COMMENT","#require_once 'Zend\/Http\/Client\/Exception.php';\n",435],["T_WHITESPACE","                        ",436],["T_THROW","throw",436],["T_WHITESPACE"," ",436],["T_NEW","new",436],["T_WHITESPACE"," ",436],["T_STRING","Zend_Http_Client_Exception",436],"(",["T_STRING","sprintf",436],"(",["T_CONSTANT_ENCAPSED_STRING","\"Unknown or erroreous cURL option '%s' set\"",436],",",["T_WHITESPACE"," ",436],["T_VARIABLE","$k",436],")",")",";",["T_WHITESPACE","\n                    ",436],"}",["T_WHITESPACE","\n                ",437],"}",["T_WHITESPACE","\n            ",438],"}",["T_WHITESPACE","\n        ",439],"}",["T_WHITESPACE","\n\n        ",440],["T_COMMENT","\/\/ send the request\n",442],["T_WHITESPACE","        ",443],["T_VARIABLE","$response",443],["T_WHITESPACE"," ",443],"=",["T_WHITESPACE"," ",443],["T_STRING","curl_exec",443],"(",["T_VARIABLE","$this",443],["T_OBJECT_OPERATOR","->",443],["T_STRING","_curl",443],")",";",["T_WHITESPACE","\n\n        ",443],["T_COMMENT","\/\/ if we used streaming, headers are already there\n",445],["T_WHITESPACE","        ",446],["T_IF","if",446],"(","!",["T_STRING","is_resource",446],"(",["T_VARIABLE","$this",446],["T_OBJECT_OPERATOR","->",446],["T_STRING","out_stream",446],")",")",["T_WHITESPACE"," ",446],"{",["T_WHITESPACE","\n            ",446],["T_VARIABLE","$this",447],["T_OBJECT_OPERATOR","->",447],["T_STRING","_response",447],["T_WHITESPACE"," ",447],"=",["T_WHITESPACE"," ",447],["T_VARIABLE","$response",447],";",["T_WHITESPACE","\n        ",447],"}",["T_WHITESPACE","\n\n        ",448],["T_VARIABLE","$request",450],["T_WHITESPACE","  ",450],"=",["T_WHITESPACE"," ",450],["T_STRING","curl_getinfo",450],"(",["T_VARIABLE","$this",450],["T_OBJECT_OPERATOR","->",450],["T_STRING","_curl",450],",",["T_WHITESPACE"," ",450],["T_STRING","CURLINFO_HEADER_OUT",450],")",";",["T_WHITESPACE","\n        ",450],["T_VARIABLE","$request",451],["T_WHITESPACE"," ",451],["T_CONCAT_EQUAL",".=",451],["T_WHITESPACE"," ",451],["T_VARIABLE","$body",451],";",["T_WHITESPACE","\n\n        ",451],["T_IF","if",453],["T_WHITESPACE"," ",453],"(",["T_EMPTY","empty",453],"(",["T_VARIABLE","$this",453],["T_OBJECT_OPERATOR","->",453],["T_STRING","_response",453],")",")",["T_WHITESPACE"," ",453],"{",["T_WHITESPACE","\n            ",453],["T_COMMENT","#require_once 'Zend\/Http\/Client\/Exception.php';\n",454],["T_WHITESPACE","            ",455],["T_THROW","throw",455],["T_WHITESPACE"," ",455],["T_NEW","new",455],["T_WHITESPACE"," ",455],["T_STRING","Zend_Http_Client_Exception",455],"(",["T_CONSTANT_ENCAPSED_STRING","\"Error in cURL request: \"",455],["T_WHITESPACE"," ",455],".",["T_WHITESPACE"," ",455],["T_STRING","curl_error",455],"(",["T_VARIABLE","$this",455],["T_OBJECT_OPERATOR","->",455],["T_STRING","_curl",455],")",")",";",["T_WHITESPACE","\n        ",455],"}",["T_WHITESPACE","\n\n        ",456],["T_COMMENT","\/\/ cURL automatically decodes chunked-messages, this means we have to disallow the Zend_Http_Response to do it again\n",458],["T_WHITESPACE","        ",459],["T_IF","if",459],["T_WHITESPACE"," ",459],"(",["T_STRING","stripos",459],"(",["T_VARIABLE","$this",459],["T_OBJECT_OPERATOR","->",459],["T_STRING","_response",459],",",["T_WHITESPACE"," ",459],["T_CONSTANT_ENCAPSED_STRING","\"Transfer-Encoding: chunked\\r\\n\"",459],")",")",["T_WHITESPACE"," ",459],"{",["T_WHITESPACE","\n            ",459],["T_VARIABLE","$this",460],["T_OBJECT_OPERATOR","->",460],["T_STRING","_response",460],["T_WHITESPACE"," ",460],"=",["T_WHITESPACE"," ",460],["T_STRING","str_ireplace",460],"(",["T_CONSTANT_ENCAPSED_STRING","\"Transfer-Encoding: chunked\\r\\n\"",460],",",["T_WHITESPACE"," ",460],["T_CONSTANT_ENCAPSED_STRING","''",460],",",["T_WHITESPACE"," ",460],["T_VARIABLE","$this",460],["T_OBJECT_OPERATOR","->",460],["T_STRING","_response",460],")",";",["T_WHITESPACE","\n        ",460],"}",["T_WHITESPACE","\n\n        ",461],["T_COMMENT","\/\/ Eliminate multiple HTTP responses.\n",463],["T_WHITESPACE","        ",464],["T_DO","do",464],["T_WHITESPACE"," ",464],"{",["T_WHITESPACE","\n            ",464],["T_VARIABLE","$parts",465],["T_WHITESPACE","  ",465],"=",["T_WHITESPACE"," ",465],["T_STRING","preg_split",465],"(",["T_CONSTANT_ENCAPSED_STRING","'|(?:\\r?\\n){2}|m'",465],",",["T_WHITESPACE"," ",465],["T_VARIABLE","$this",465],["T_OBJECT_OPERATOR","->",465],["T_STRING","_response",465],",",["T_WHITESPACE"," ",465],["T_LNUMBER","2",465],")",";",["T_WHITESPACE","\n            ",465],["T_VARIABLE","$again",466],["T_WHITESPACE","  ",466],"=",["T_WHITESPACE"," ",466],["T_STRING","false",466],";",["T_WHITESPACE","\n\n            ",466],["T_IF","if",468],["T_WHITESPACE"," ",468],"(",["T_ISSET","isset",468],"(",["T_VARIABLE","$parts",468],"[",["T_LNUMBER","1",468],"]",")",["T_WHITESPACE"," ",468],["T_BOOLEAN_AND","&&",468],["T_WHITESPACE"," ",468],["T_STRING","preg_match",468],"(",["T_CONSTANT_ENCAPSED_STRING","\"|^HTTP\/1\\.[01](.*?)\\r\\n|mi\"",468],",",["T_WHITESPACE"," ",468],["T_VARIABLE","$parts",468],"[",["T_LNUMBER","1",468],"]",")",")",["T_WHITESPACE"," ",468],"{",["T_WHITESPACE","\n                ",468],["T_VARIABLE","$this",469],["T_OBJECT_OPERATOR","->",469],["T_STRING","_response",469],["T_WHITESPACE","    ",469],"=",["T_WHITESPACE"," ",469],["T_VARIABLE","$parts",469],"[",["T_LNUMBER","1",469],"]",";",["T_WHITESPACE","\n                ",469],["T_VARIABLE","$again",470],["T_WHITESPACE","              ",470],"=",["T_WHITESPACE"," ",470],["T_STRING","true",470],";",["T_WHITESPACE","\n            ",470],"}",["T_WHITESPACE","\n        ",471],"}",["T_WHITESPACE"," ",472],["T_WHILE","while",472],["T_WHITESPACE"," ",472],"(",["T_VARIABLE","$again",472],")",";",["T_WHITESPACE","\n\n        ",472],["T_COMMENT","\/\/ cURL automatically handles Proxy rewrites, remove the \"HTTP\/1.0 200 Connection established\" string:\n",474],["T_WHITESPACE","        ",475],["T_IF","if",475],["T_WHITESPACE"," ",475],"(",["T_STRING","stripos",475],"(",["T_VARIABLE","$this",475],["T_OBJECT_OPERATOR","->",475],["T_STRING","_response",475],",",["T_WHITESPACE"," ",475],["T_CONSTANT_ENCAPSED_STRING","\"HTTP\/1.0 200 Connection established\\r\\n\\r\\n\"",475],")",["T_WHITESPACE"," ",475],["T_IS_NOT_IDENTICAL","!==",475],["T_WHITESPACE"," ",475],["T_STRING","false",475],")",["T_WHITESPACE"," ",475],"{",["T_WHITESPACE","\n            ",475],["T_VARIABLE","$this",476],["T_OBJECT_OPERATOR","->",476],["T_STRING","_response",476],["T_WHITESPACE"," ",476],"=",["T_WHITESPACE"," ",476],["T_STRING","str_ireplace",476],"(",["T_CONSTANT_ENCAPSED_STRING","\"HTTP\/1.0 200 Connection established\\r\\n\\r\\n\"",476],",",["T_WHITESPACE"," ",476],["T_CONSTANT_ENCAPSED_STRING","''",476],",",["T_WHITESPACE"," ",476],["T_VARIABLE","$this",476],["T_OBJECT_OPERATOR","->",476],["T_STRING","_response",476],")",";",["T_WHITESPACE","\n        ",476],"}",["T_WHITESPACE","\n\n        ",477],["T_RETURN","return",479],["T_WHITESPACE"," ",479],["T_VARIABLE","$request",479],";",["T_WHITESPACE","\n    ",479],"}",["T_WHITESPACE","\n\n    ",480],["T_DOC_COMMENT","\/**\n     * Return read response from server\n     *\n     * @return string\n     *\/",482],["T_WHITESPACE","\n    ",486],["T_PUBLIC","public",487],["T_WHITESPACE"," ",487],["T_FUNCTION","function",487],["T_WHITESPACE"," ",487],["T_STRING","read",487],"(",")",["T_WHITESPACE","\n    ",487],"{",["T_WHITESPACE","\n        ",488],["T_RETURN","return",489],["T_WHITESPACE"," ",489],["T_VARIABLE","$this",489],["T_OBJECT_OPERATOR","->",489],["T_STRING","_response",489],";",["T_WHITESPACE","\n    ",489],"}",["T_WHITESPACE","\n\n    ",490],["T_DOC_COMMENT","\/**\n     * Close the connection to the server\n     *\n     *\/",492],["T_WHITESPACE","\n    ",495],["T_PUBLIC","public",496],["T_WHITESPACE"," ",496],["T_FUNCTION","function",496],["T_WHITESPACE"," ",496],["T_STRING","close",496],"(",")",["T_WHITESPACE","\n    ",496],"{",["T_WHITESPACE","\n        ",497],["T_IF","if",498],"(",["T_STRING","is_resource",498],"(",["T_VARIABLE","$this",498],["T_OBJECT_OPERATOR","->",498],["T_STRING","_curl",498],")",")",["T_WHITESPACE"," ",498],"{",["T_WHITESPACE","\n            ",498],["T_STRING","curl_close",499],"(",["T_VARIABLE","$this",499],["T_OBJECT_OPERATOR","->",499],["T_STRING","_curl",499],")",";",["T_WHITESPACE","\n        ",499],"}",["T_WHITESPACE","\n        ",500],["T_VARIABLE","$this",501],["T_OBJECT_OPERATOR","->",501],["T_STRING","_curl",501],["T_WHITESPACE","         ",501],"=",["T_WHITESPACE"," ",501],["T_STRING","null",501],";",["T_WHITESPACE","\n        ",501],["T_VARIABLE","$this",502],["T_OBJECT_OPERATOR","->",502],["T_STRING","_connected_to",502],["T_WHITESPACE"," ",502],"=",["T_WHITESPACE"," ",502],["T_ARRAY","array",502],"(",["T_STRING","null",502],",",["T_WHITESPACE"," ",502],["T_STRING","null",502],")",";",["T_WHITESPACE","\n    ",502],"}",["T_WHITESPACE","\n\n    ",503],["T_DOC_COMMENT","\/**\n     * Get cUrl Handle\n     *\n     * @return resource\n     *\/",505],["T_WHITESPACE","\n    ",509],["T_PUBLIC","public",510],["T_WHITESPACE"," ",510],["T_FUNCTION","function",510],["T_WHITESPACE"," ",510],["T_STRING","getHandle",510],"(",")",["T_WHITESPACE","\n    ",510],"{",["T_WHITESPACE","\n        ",511],["T_RETURN","return",512],["T_WHITESPACE"," ",512],["T_VARIABLE","$this",512],["T_OBJECT_OPERATOR","->",512],["T_STRING","_curl",512],";",["T_WHITESPACE","\n    ",512],"}",["T_WHITESPACE","\n\n    ",513],["T_DOC_COMMENT","\/**\n     * Set output stream for the response\n     *\n     * @param resource $stream\n     * @return Zend_Http_Client_Adapter_Socket\n     *\/",515],["T_WHITESPACE","\n    ",520],["T_PUBLIC","public",521],["T_WHITESPACE"," ",521],["T_FUNCTION","function",521],["T_WHITESPACE"," ",521],["T_STRING","setOutputStream",521],"(",["T_VARIABLE","$stream",521],")",["T_WHITESPACE","\n    ",521],"{",["T_WHITESPACE","\n        ",522],["T_VARIABLE","$this",523],["T_OBJECT_OPERATOR","->",523],["T_STRING","out_stream",523],["T_WHITESPACE"," ",523],"=",["T_WHITESPACE"," ",523],["T_VARIABLE","$stream",523],";",["T_WHITESPACE","\n        ",523],["T_RETURN","return",524],["T_WHITESPACE"," ",524],["T_VARIABLE","$this",524],";",["T_WHITESPACE","\n    ",524],"}",["T_WHITESPACE","\n\n    ",525],["T_DOC_COMMENT","\/**\n     * Header reader function for CURL\n     *\n     * @param resource $curl\n     * @param string $header\n     * @return int\n     *\/",527],["T_WHITESPACE","\n    ",533],["T_PUBLIC","public",534],["T_WHITESPACE"," ",534],["T_FUNCTION","function",534],["T_WHITESPACE"," ",534],["T_STRING","readHeader",534],"(",["T_VARIABLE","$curl",534],",",["T_WHITESPACE"," ",534],["T_VARIABLE","$header",534],")",["T_WHITESPACE","\n    ",534],"{",["T_WHITESPACE","\n        ",535],["T_VARIABLE","$this",536],["T_OBJECT_OPERATOR","->",536],["T_STRING","_response",536],["T_WHITESPACE"," ",536],["T_CONCAT_EQUAL",".=",536],["T_WHITESPACE"," ",536],["T_VARIABLE","$header",536],";",["T_WHITESPACE","\n        ",536],["T_RETURN","return",537],["T_WHITESPACE"," ",537],["T_STRING","strlen",537],"(",["T_VARIABLE","$header",537],")",";",["T_WHITESPACE","\n    ",537],"}",["T_WHITESPACE","\n",538],"}",["T_WHITESPACE","\n",539]]