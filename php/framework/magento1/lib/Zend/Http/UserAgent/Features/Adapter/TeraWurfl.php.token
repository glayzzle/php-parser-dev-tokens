[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Zend Framework\n *\n * LICENSE\n *\n * This source file is subject to the new BSD license that is bundled\n * with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/framework.zend.com\/license\/new-bsd\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@zend.com so we can send you a copy immediately.\n *\n * @category   Zend\n * @package    Zend_Http\n * @subpackage UserAgent\n * @copyright  Copyright (c) 2005-2015 Zend Technologies USA Inc. (http:\/\/www.zend.com)\n * @license    http:\/\/framework.zend.com\/license\/new-bsd     New BSD License\n *\/",2],["T_WHITESPACE","\n\n",20],["T_DOC_COMMENT","\/**\n * Zend_Http_UserAgent_Features_Adapter_Interface\n *\/",22],["T_WHITESPACE","\n",24],["T_COMMENT","#require_once 'Zend\/Http\/UserAgent\/Features\/Adapter.php';\n",25],["T_WHITESPACE","\n",26],["T_DOC_COMMENT","\/**\n * Features adapter build with the Tera Wurfl Api\n * See installation instruction here : http:\/\/www.tera-wurfl.com\/wiki\/index.php\/Installation\n * Download : http:\/\/www.tera-wurfl.com\/wiki\/index.php\/Downloads\n *\n * @package    Zend_Http\n * @subpackage UserAgent\n * @copyright  Copyright (c) 2005-2015 Zend Technologies USA Inc. (http:\/\/www.zend.com)\n * @license    http:\/\/framework.zend.com\/license\/new-bsd     New BSD License\n *\/",27],["T_WHITESPACE","\n",36],["T_CLASS","class",37],["T_WHITESPACE"," ",37],["T_STRING","Zend_Http_UserAgent_Features_Adapter_TeraWurfl",37],["T_WHITESPACE"," ",37],["T_IMPLEMENTS","implements",37],["T_WHITESPACE"," ",37],["T_STRING","Zend_Http_UserAgent_Features_Adapter",37],["T_WHITESPACE","\n",37],"{",["T_WHITESPACE","\n    ",38],["T_DOC_COMMENT","\/**\n     * Get features from request\n     *\n     * @param  array $request $_SERVER variable\n     * @return array\n     *\/",39],["T_WHITESPACE","\n    ",44],["T_PUBLIC","public",45],["T_WHITESPACE"," ",45],["T_STATIC","static",45],["T_WHITESPACE"," ",45],["T_FUNCTION","function",45],["T_WHITESPACE"," ",45],["T_STRING","getFromRequest",45],"(",["T_VARIABLE","$request",45],",",["T_WHITESPACE"," ",45],["T_ARRAY","array",45],["T_WHITESPACE"," ",45],["T_VARIABLE","$config",45],")",["T_WHITESPACE","\n    ",45],"{",["T_WHITESPACE","\n        ",46],["T_IF","if",47],["T_WHITESPACE"," ",47],"(","!",["T_STRING","class_exists",47],"(",["T_CONSTANT_ENCAPSED_STRING","'TeraWurfl'",47],")",")",["T_WHITESPACE"," ",47],"{",["T_WHITESPACE","\n            ",47],["T_COMMENT","\/\/ If TeraWurfl class not found, see if we can load it from\n",48],["T_WHITESPACE","            ",49],["T_COMMENT","\/\/ configuration\n",49],["T_WHITESPACE","            ",50],["T_COMMENT","\/\/\n",50],["T_WHITESPACE","            ",51],["T_IF","if",51],["T_WHITESPACE"," ",51],"(","!",["T_ISSET","isset",51],"(",["T_VARIABLE","$config",51],"[",["T_CONSTANT_ENCAPSED_STRING","'terawurfl'",51],"]",")",")",["T_WHITESPACE"," ",51],"{",["T_WHITESPACE","\n                ",51],["T_COMMENT","\/\/ No configuration\n",52],["T_WHITESPACE","                ",53],["T_COMMENT","#require_once 'Zend\/Http\/UserAgent\/Features\/Exception.php';\n",53],["T_WHITESPACE","                ",54],["T_THROW","throw",54],["T_WHITESPACE"," ",54],["T_NEW","new",54],["T_WHITESPACE"," ",54],["T_STRING","Zend_Http_UserAgent_Features_Exception",54],"(",["T_CONSTANT_ENCAPSED_STRING","'\"TeraWurfl\" configuration is not defined'",54],")",";",["T_WHITESPACE","\n            ",54],"}",["T_WHITESPACE","\n\n            ",55],["T_VARIABLE","$config",57],["T_WHITESPACE"," ",57],"=",["T_WHITESPACE"," ",57],["T_VARIABLE","$config",57],"[",["T_CONSTANT_ENCAPSED_STRING","'terawurfl'",57],"]",";",["T_WHITESPACE","\n\n             ",57],["T_IF","if",59],["T_WHITESPACE"," ",59],"(",["T_EMPTY","empty",59],"(",["T_VARIABLE","$config",59],"[",["T_CONSTANT_ENCAPSED_STRING","'terawurfl_lib_dir'",59],"]",")",")",["T_WHITESPACE"," ",59],"{",["T_WHITESPACE","\n                ",59],["T_COMMENT","\/\/ No lib_dir given\n",60],["T_WHITESPACE","                ",61],["T_COMMENT","#require_once 'Zend\/Http\/UserAgent\/Features\/Exception.php';\n",61],["T_WHITESPACE","                ",62],["T_THROW","throw",62],["T_WHITESPACE"," ",62],["T_NEW","new",62],["T_WHITESPACE"," ",62],["T_STRING","Zend_Http_UserAgent_Features_Exception",62],"(",["T_CONSTANT_ENCAPSED_STRING","'The \"terawurfl_lib_dir\" parameter is not defined'",62],")",";",["T_WHITESPACE","\n            ",62],"}",["T_WHITESPACE","\n\n            ",63],["T_COMMENT","\/\/ Include the Tera-WURFL file\n",65],["T_WHITESPACE","            ",66],["T_COMMENT","#require_once ($config['terawurfl_lib_dir'] . '\/TeraWurfl.php');\n",66],["T_WHITESPACE","        ",67],"}",["T_WHITESPACE","\n\n\n        ",67],["T_COMMENT","\/\/ instantiate the Tera-WURFL object\n",70],["T_WHITESPACE","        ",71],["T_VARIABLE","$wurflObj",71],["T_WHITESPACE"," ",71],"=",["T_WHITESPACE"," ",71],["T_NEW","new",71],["T_WHITESPACE"," ",71],["T_STRING","TeraWurfl",71],"(",")",";",["T_WHITESPACE","\n\n        ",71],["T_COMMENT","\/\/ Get the capabilities of the current client.\n",73],["T_WHITESPACE","        ",74],["T_VARIABLE","$matched",74],["T_WHITESPACE"," ",74],"=",["T_WHITESPACE"," ",74],["T_VARIABLE","$wurflObj",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","getDeviceCapabilitiesFromRequest",74],"(",["T_STRING","array_change_key_case",74],"(",["T_VARIABLE","$request",74],",",["T_WHITESPACE"," ",74],["T_STRING","CASE_UPPER",74],")",")",";",["T_WHITESPACE","\n\n        ",74],["T_RETURN","return",76],["T_WHITESPACE"," ",76],["T_STRING","self",76],["T_DOUBLE_COLON","::",76],["T_STRING","getAllCapabilities",76],"(",["T_VARIABLE","$wurflObj",76],")",";",["T_WHITESPACE","\n    ",76],"}",["T_WHITESPACE","\n\n    ",77],["T_COMMENT","\/***\n     * Builds an array with all capabilities\n     *\n     * @param TeraWurfl $wurflObj TeraWurfl object\n     *\/",79],["T_WHITESPACE","\n    ",83],["T_PUBLIC","public",84],["T_WHITESPACE"," ",84],["T_STATIC","static",84],["T_WHITESPACE"," ",84],["T_FUNCTION","function",84],["T_WHITESPACE"," ",84],["T_STRING","getAllCapabilities",84],"(",["T_STRING","TeraWurfl",84],["T_WHITESPACE"," ",84],["T_VARIABLE","$wurflObj",84],")",["T_WHITESPACE","\n    ",84],"{",["T_WHITESPACE","\n\n        ",85],["T_FOREACH","foreach",87],["T_WHITESPACE"," ",87],"(",["T_VARIABLE","$wurflObj",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","capabilities",87],["T_WHITESPACE"," ",87],["T_AS","as",87],["T_WHITESPACE"," ",87],["T_VARIABLE","$group",87],")",["T_WHITESPACE"," ",87],"{",["T_WHITESPACE","\n            ",87],["T_IF","if",88],["T_WHITESPACE"," ",88],"(","!",["T_STRING","is_array",88],"(",["T_VARIABLE","$group",88],")",")",["T_WHITESPACE"," ",88],"{",["T_WHITESPACE","\n                ",88],["T_CONTINUE","continue",89],";",["T_WHITESPACE","\n            ",89],"}",["T_WHITESPACE","\n            ",90],["T_WHILE","while",91],["T_WHITESPACE"," ",91],"(",["T_LIST","list",91],["T_WHITESPACE"," ",91],"(",["T_VARIABLE","$key",91],",",["T_WHITESPACE"," ",91],["T_VARIABLE","$value",91],")",["T_WHITESPACE"," ",91],"=",["T_WHITESPACE"," ",91],["T_STRING","each",91],"(",["T_VARIABLE","$group",91],")",")",["T_WHITESPACE"," ",91],"{",["T_WHITESPACE","\n                ",91],["T_IF","if",92],["T_WHITESPACE"," ",92],"(",["T_STRING","is_bool",92],"(",["T_VARIABLE","$value",92],")",")",["T_WHITESPACE"," ",92],"{",["T_WHITESPACE","\n                    ",92],["T_COMMENT","\/\/ to have the same type than the official WURFL API\n",93],["T_WHITESPACE","                    ",94],["T_VARIABLE","$features",94],"[",["T_VARIABLE","$key",94],"]",["T_WHITESPACE"," ",94],"=",["T_WHITESPACE"," ",94],"(",["T_VARIABLE","$value",94],["T_WHITESPACE"," ",94],"?",["T_WHITESPACE"," ",94],["T_CONSTANT_ENCAPSED_STRING","'true'",94],["T_WHITESPACE"," ",94],":",["T_WHITESPACE"," ",94],["T_CONSTANT_ENCAPSED_STRING","'false'",94],")",";",["T_WHITESPACE","\n                ",94],"}",["T_WHITESPACE"," ",95],["T_ELSE","else",95],["T_WHITESPACE"," ",95],"{",["T_WHITESPACE","\n                    ",95],["T_VARIABLE","$features",96],"[",["T_VARIABLE","$key",96],"]",["T_WHITESPACE"," ",96],"=",["T_WHITESPACE"," ",96],["T_VARIABLE","$value",96],";",["T_WHITESPACE","\n                ",96],"}",["T_WHITESPACE","\n            ",97],"}",["T_WHITESPACE","\n        ",98],"}",["T_WHITESPACE","\n        ",99],["T_RETURN","return",100],["T_WHITESPACE"," ",100],["T_VARIABLE","$features",100],";",["T_WHITESPACE","\n    ",100],"}",["T_WHITESPACE","\n",101],"}",["T_WHITESPACE","\n",102]]