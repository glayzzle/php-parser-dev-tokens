[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Zend Framework\n *\n * LICENSE\n *\n * This source file is subject to the new BSD license that is bundled\n * with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/framework.zend.com\/license\/new-bsd\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@zend.com so we can send you a copy immediately.\n *\n * @category   Zend\n * @package    Zend_Http_UserAgent\n * @subpackage UserAgent\n * @copyright  Copyright (c) 2005-2015 Zend Technologies USA Inc. (http:\/\/www.zend.com)\n * @license    http:\/\/framework.zend.com\/license\/new-bsd     New BSD License\n *\/",2],["T_WHITESPACE","\n\n",20],["T_DOC_COMMENT","\/**\n * Lists of User Agent chains for testing :\n *\n * - http:\/\/www.useragentstring.com\/layout\/useragentstring.php\n * - http:\/\/user-agent-string.info\/list-of-ua\n * - http:\/\/www.user-agents.org\/allagents.xml\n * - http:\/\/en.wikipedia.org\/wiki\/List_of_user_agents_for_mobile_phones\n * - http:\/\/www.mobilemultimedia.be\/fr\/\n *\n * @category   Zend\n * @package    Zend_Http_UserAgent\n * @subpackage UserAgent\n * @copyright  Copyright (c) 2005-2015 Zend Technologies USA Inc. (http:\/\/www.zend.com)\n * @license    http:\/\/framework.zend.com\/license\/new-bsd     New BSD License\n *\/",22],["T_WHITESPACE","\n",36],["T_CLASS","class",37],["T_WHITESPACE"," ",37],["T_STRING","Zend_Http_UserAgent",37],["T_WHITESPACE"," ",37],["T_IMPLEMENTS","implements",37],["T_WHITESPACE"," ",37],["T_STRING","Serializable",37],["T_WHITESPACE","\n",37],"{",["T_WHITESPACE","\n    ",38],["T_DOC_COMMENT","\/**\n     * 'desktop' by default if the sequence return false for each item or is empty\n     *\/",39],["T_WHITESPACE","\n    ",41],["T_CONST","const",42],["T_WHITESPACE"," ",42],["T_STRING","DEFAULT_IDENTIFICATION_SEQUENCE",42],["T_WHITESPACE"," ",42],"=",["T_WHITESPACE"," ",42],["T_CONSTANT_ENCAPSED_STRING","'mobile,desktop'",42],";",["T_WHITESPACE","\n\n    ",42],["T_DOC_COMMENT","\/**\n     * Default persitent storage adapter : Session or NonPersitent\n     *\/",44],["T_WHITESPACE","\n    ",46],["T_CONST","const",47],["T_WHITESPACE"," ",47],["T_STRING","DEFAULT_PERSISTENT_STORAGE_ADAPTER",47],["T_WHITESPACE"," ",47],"=",["T_WHITESPACE"," ",47],["T_CONSTANT_ENCAPSED_STRING","'Session'",47],";",["T_WHITESPACE","\n\n    ",47],["T_DOC_COMMENT","\/**\n     * 'desktop' by default if the sequence return false for each item\n     *\/",49],["T_WHITESPACE","\n    ",51],["T_CONST","const",52],["T_WHITESPACE"," ",52],["T_STRING","DEFAULT_BROWSER_TYPE",52],["T_WHITESPACE"," ",52],"=",["T_WHITESPACE"," ",52],["T_CONSTANT_ENCAPSED_STRING","'desktop'",52],";",["T_WHITESPACE","\n\n    ",52],["T_DOC_COMMENT","\/**\n     * Default User Agent chain to prevent empty value\n     *\/",54],["T_WHITESPACE","\n    ",56],["T_CONST","const",57],["T_WHITESPACE"," ",57],["T_STRING","DEFAULT_HTTP_USER_AGENT",57],["T_WHITESPACE"," ",57],"=",["T_WHITESPACE"," ",57],["T_CONSTANT_ENCAPSED_STRING","'Mozilla\/4.0 (compatible; MSIE 7.0; Windows NT 5.1)'",57],";",["T_WHITESPACE","\n\n    ",57],["T_DOC_COMMENT","\/**\n     * Default Http Accept param to prevent empty value\n     *\/",59],["T_WHITESPACE","\n    ",61],["T_CONST","const",62],["T_WHITESPACE"," ",62],["T_STRING","DEFAULT_HTTP_ACCEPT",62],["T_WHITESPACE"," ",62],"=",["T_WHITESPACE"," ",62],["T_CONSTANT_ENCAPSED_STRING","\"application\/xhtml+xml\"",62],";",["T_WHITESPACE","\n\n    ",62],["T_DOC_COMMENT","\/**\n     * Default markup language\n     *\/",64],["T_WHITESPACE","\n    ",66],["T_CONST","const",67],["T_WHITESPACE"," ",67],["T_STRING","DEFAULT_MARKUP_LANGUAGE",67],["T_WHITESPACE"," ",67],"=",["T_WHITESPACE"," ",67],["T_CONSTANT_ENCAPSED_STRING","\"xhtml\"",67],";",["T_WHITESPACE","\n\n    ",67],["T_DOC_COMMENT","\/**\n     * Browser type\n     *\n     * @var string\n     *\/",69],["T_WHITESPACE","\n    ",73],["T_PROTECTED","protected",74],["T_WHITESPACE"," ",74],["T_VARIABLE","$_browserType",74],";",["T_WHITESPACE","\n\n    ",74],["T_DOC_COMMENT","\/**\n     * Browser type class\n     *\n     * Map of browser types to classes.\n     *\n     * @var array\n     *\/",76],["T_WHITESPACE","\n    ",82],["T_PROTECTED","protected",83],["T_WHITESPACE"," ",83],["T_VARIABLE","$_browserTypeClass",83],["T_WHITESPACE"," ",83],"=",["T_WHITESPACE"," ",83],["T_ARRAY","array",83],"(",")",";",["T_WHITESPACE","\n\n    ",83],["T_DOC_COMMENT","\/**\n     * Array to store config\n     *\n     * Default values are provided to ensure specific keys are present at\n     * instantiation.\n     *\n     * @var array\n     *\/",85],["T_WHITESPACE","\n    ",92],["T_PROTECTED","protected",93],["T_WHITESPACE"," ",93],["T_VARIABLE","$_config",93],["T_WHITESPACE"," ",93],"=",["T_WHITESPACE"," ",93],["T_ARRAY","array",93],"(",["T_WHITESPACE","\n        ",93],["T_CONSTANT_ENCAPSED_STRING","'identification_sequence'",94],["T_WHITESPACE"," ",94],["T_DOUBLE_ARROW","=>",94],["T_WHITESPACE"," ",94],["T_STRING","self",94],["T_DOUBLE_COLON","::",94],["T_STRING","DEFAULT_IDENTIFICATION_SEQUENCE",94],",",["T_WHITESPACE","\n        ",94],["T_CONSTANT_ENCAPSED_STRING","'storage'",95],["T_WHITESPACE","                 ",95],["T_DOUBLE_ARROW","=>",95],["T_WHITESPACE"," ",95],["T_ARRAY","array",95],"(",["T_WHITESPACE","\n            ",95],["T_CONSTANT_ENCAPSED_STRING","'adapter'",96],["T_WHITESPACE","             ",96],["T_DOUBLE_ARROW","=>",96],["T_WHITESPACE"," ",96],["T_STRING","self",96],["T_DOUBLE_COLON","::",96],["T_STRING","DEFAULT_PERSISTENT_STORAGE_ADAPTER",96],",",["T_WHITESPACE","\n        ",96],")",",",["T_WHITESPACE","\n    ",97],")",";",["T_WHITESPACE","\n\n    ",98],["T_DOC_COMMENT","\/**\n     * Identified device\n     *\n     * @var Zend_Http_UserAgent_Device\n     *\/",100],["T_WHITESPACE","\n    ",104],["T_PROTECTED","protected",105],["T_WHITESPACE"," ",105],["T_VARIABLE","$_device",105],";",["T_WHITESPACE","\n\n    ",105],["T_DOC_COMMENT","\/**\n     * Whether or not this instance is immutable.\n     *\n     * If true, none of the following may be modified:\n     * - $_server\n     * - $_browserType\n     * - User-Agent (defined in $_server)\n     * - HTTP Accept value (defined in $_server)\n     * - $_storage\n     *\n     * @var bool\n     *\/",107],["T_WHITESPACE","\n    ",118],["T_PROTECTED","protected",119],["T_WHITESPACE"," ",119],["T_VARIABLE","$_immutable",119],["T_WHITESPACE"," ",119],"=",["T_WHITESPACE"," ",119],["T_STRING","false",119],";",["T_WHITESPACE","\n\n    ",119],["T_DOC_COMMENT","\/**\n     * Plugin loaders\n     * @var array\n     *\/",121],["T_WHITESPACE","\n    ",124],["T_PROTECTED","protected",125],["T_WHITESPACE"," ",125],["T_VARIABLE","$_loaders",125],["T_WHITESPACE"," ",125],"=",["T_WHITESPACE"," ",125],["T_ARRAY","array",125],"(",")",";",["T_WHITESPACE","\n\n    ",125],["T_DOC_COMMENT","\/**\n     * Valid plugin loader types\n     * @var array\n     *\/",127],["T_WHITESPACE","\n    ",130],["T_PROTECTED","protected",131],["T_WHITESPACE"," ",131],["T_VARIABLE","$_loaderTypes",131],["T_WHITESPACE"," ",131],"=",["T_WHITESPACE"," ",131],["T_ARRAY","array",131],"(",["T_CONSTANT_ENCAPSED_STRING","'storage'",131],",",["T_WHITESPACE"," ",131],["T_CONSTANT_ENCAPSED_STRING","'device'",131],")",";",["T_WHITESPACE","\n\n    ",131],["T_DOC_COMMENT","\/**\n     * Trace of items matched to identify the browser type\n     *\n     * @var array\n     *\/",133],["T_WHITESPACE","\n    ",137],["T_PROTECTED","protected",138],["T_WHITESPACE"," ",138],["T_VARIABLE","$_matchLog",138],["T_WHITESPACE"," ",138],"=",["T_WHITESPACE"," ",138],["T_ARRAY","array",138],"(",")",";",["T_WHITESPACE","\n\n    ",138],["T_DOC_COMMENT","\/**\n     * Server variable\n     *\n     * @var array\n     *\/",140],["T_WHITESPACE","\n    ",144],["T_PROTECTED","protected",145],["T_WHITESPACE"," ",145],["T_VARIABLE","$_server",145],";",["T_WHITESPACE","\n\n    ",145],["T_DOC_COMMENT","\/**\n     * Persistent storage handler\n     *\n     * @var Zend_Http_UserAgent_Storage\n     *\/",147],["T_WHITESPACE","\n    ",151],["T_PROTECTED","protected",152],["T_WHITESPACE"," ",152],["T_VARIABLE","$_storage",152],";",["T_WHITESPACE","\n\n    ",152],["T_DOC_COMMENT","\/**\n     * Constructor\n     *\n     * @param  null|array|Zend_Config|ArrayAccess $options\n     * @return void\n     *\/",154],["T_WHITESPACE","\n    ",159],["T_PUBLIC","public",160],["T_WHITESPACE"," ",160],["T_FUNCTION","function",160],["T_WHITESPACE"," ",160],["T_STRING","__construct",160],"(",["T_VARIABLE","$options",160],["T_WHITESPACE"," ",160],"=",["T_WHITESPACE"," ",160],["T_STRING","null",160],")",["T_WHITESPACE","\n    ",160],"{",["T_WHITESPACE","\n        ",161],["T_IF","if",162],["T_WHITESPACE"," ",162],"(",["T_STRING","null",162],["T_WHITESPACE"," ",162],["T_IS_NOT_IDENTICAL","!==",162],["T_WHITESPACE"," ",162],["T_VARIABLE","$options",162],")",["T_WHITESPACE"," ",162],"{",["T_WHITESPACE","\n            ",162],["T_VARIABLE","$this",163],["T_OBJECT_OPERATOR","->",163],["T_STRING","setOptions",163],"(",["T_VARIABLE","$options",163],")",";",["T_WHITESPACE","\n        ",163],"}",["T_WHITESPACE","\n    ",164],"}",["T_WHITESPACE","\n\n    ",165],["T_DOC_COMMENT","\/**\n     * Serialized representation of the object\n     *\n     * @return string\n     *\/",167],["T_WHITESPACE","\n    ",171],["T_PUBLIC","public",172],["T_WHITESPACE"," ",172],["T_FUNCTION","function",172],["T_WHITESPACE"," ",172],["T_STRING","serialize",172],"(",")",["T_WHITESPACE","\n    ",172],"{",["T_WHITESPACE","\n        ",173],["T_VARIABLE","$device",174],["T_WHITESPACE"," ",174],"=",["T_WHITESPACE"," ",174],["T_VARIABLE","$this",174],["T_OBJECT_OPERATOR","->",174],["T_STRING","getDevice",174],"(",")",";",["T_WHITESPACE","\n        ",174],["T_VARIABLE","$spec",175],["T_WHITESPACE"," ",175],"=",["T_WHITESPACE"," ",175],["T_ARRAY","array",175],"(",["T_WHITESPACE","\n            ",175],["T_CONSTANT_ENCAPSED_STRING","'browser_type'",176],["T_WHITESPACE"," ",176],["T_DOUBLE_ARROW","=>",176],["T_WHITESPACE"," ",176],["T_VARIABLE","$this",176],["T_OBJECT_OPERATOR","->",176],["T_STRING","_browserType",176],",",["T_WHITESPACE","\n            ",176],["T_CONSTANT_ENCAPSED_STRING","'config'",177],["T_WHITESPACE","       ",177],["T_DOUBLE_ARROW","=>",177],["T_WHITESPACE"," ",177],["T_VARIABLE","$this",177],["T_OBJECT_OPERATOR","->",177],["T_STRING","_config",177],",",["T_WHITESPACE","\n            ",177],["T_CONSTANT_ENCAPSED_STRING","'device_class'",178],["T_WHITESPACE"," ",178],["T_DOUBLE_ARROW","=>",178],["T_WHITESPACE"," ",178],["T_STRING","get_class",178],"(",["T_VARIABLE","$device",178],")",",",["T_WHITESPACE","\n            ",178],["T_CONSTANT_ENCAPSED_STRING","'device'",179],["T_WHITESPACE","       ",179],["T_DOUBLE_ARROW","=>",179],["T_WHITESPACE"," ",179],["T_VARIABLE","$device",179],["T_OBJECT_OPERATOR","->",179],["T_STRING","serialize",179],"(",")",",",["T_WHITESPACE","\n            ",179],["T_CONSTANT_ENCAPSED_STRING","'user_agent'",180],["T_WHITESPACE","   ",180],["T_DOUBLE_ARROW","=>",180],["T_WHITESPACE"," ",180],["T_VARIABLE","$this",180],["T_OBJECT_OPERATOR","->",180],["T_STRING","getServerValue",180],"(",["T_CONSTANT_ENCAPSED_STRING","'http_user_agent'",180],")",",",["T_WHITESPACE","\n            ",180],["T_CONSTANT_ENCAPSED_STRING","'http_accept'",181],["T_WHITESPACE","  ",181],["T_DOUBLE_ARROW","=>",181],["T_WHITESPACE"," ",181],["T_VARIABLE","$this",181],["T_OBJECT_OPERATOR","->",181],["T_STRING","getServerValue",181],"(",["T_CONSTANT_ENCAPSED_STRING","'http_accept'",181],")",",",["T_WHITESPACE","\n        ",181],")",";",["T_WHITESPACE","\n        ",182],["T_RETURN","return",183],["T_WHITESPACE"," ",183],["T_STRING","serialize",183],"(",["T_VARIABLE","$spec",183],")",";",["T_WHITESPACE","\n    ",183],"}",["T_WHITESPACE","\n\n    ",184],["T_DOC_COMMENT","\/**\n     * Unserialize a previous representation of the object\n     *\n     * @param  string $serialized\n     * @return void\n     *\/",186],["T_WHITESPACE","\n    ",191],["T_PUBLIC","public",192],["T_WHITESPACE"," ",192],["T_FUNCTION","function",192],["T_WHITESPACE"," ",192],["T_STRING","unserialize",192],"(",["T_VARIABLE","$serialized",192],")",["T_WHITESPACE","\n    ",192],"{",["T_WHITESPACE","\n        ",193],["T_VARIABLE","$spec",194],["T_WHITESPACE"," ",194],"=",["T_WHITESPACE"," ",194],["T_STRING","unserialize",194],"(",["T_VARIABLE","$serialized",194],")",";",["T_WHITESPACE","\n\n        ",194],["T_VARIABLE","$this",196],["T_OBJECT_OPERATOR","->",196],["T_STRING","setOptions",196],"(",["T_VARIABLE","$spec",196],")",";",["T_WHITESPACE","\n\n        ",196],["T_COMMENT","\/\/ Determine device class and ensure the class is loaded\n",198],["T_WHITESPACE","        ",199],["T_VARIABLE","$deviceClass",199],["T_WHITESPACE","          ",199],"=",["T_WHITESPACE"," ",199],["T_VARIABLE","$spec",199],"[",["T_CONSTANT_ENCAPSED_STRING","'device_class'",199],"]",";",["T_WHITESPACE","\n        ",199],["T_IF","if",200],["T_WHITESPACE"," ",200],"(","!",["T_STRING","class_exists",200],"(",["T_VARIABLE","$deviceClass",200],")",")",["T_WHITESPACE"," ",200],"{",["T_WHITESPACE","\n            ",200],["T_VARIABLE","$this",201],["T_OBJECT_OPERATOR","->",201],["T_STRING","_getUserAgentDevice",201],"(",["T_VARIABLE","$this",201],["T_OBJECT_OPERATOR","->",201],["T_STRING","getBrowserType",201],"(",")",")",";",["T_WHITESPACE","\n        ",201],"}",["T_WHITESPACE","\n\n        ",202],["T_COMMENT","\/\/ Get device specification and instantiate\n",204],["T_WHITESPACE","        ",205],["T_VARIABLE","$deviceSpec",205],["T_WHITESPACE","            ",205],"=",["T_WHITESPACE"," ",205],["T_STRING","unserialize",205],"(",["T_VARIABLE","$spec",205],"[",["T_CONSTANT_ENCAPSED_STRING","'device'",205],"]",")",";",["T_WHITESPACE","\n        ",205],["T_VARIABLE","$deviceSpec",206],"[",["T_CONSTANT_ENCAPSED_STRING","'_config'",206],"]",["T_WHITESPACE"," ",206],"=",["T_WHITESPACE"," ",206],["T_VARIABLE","$this",206],["T_OBJECT_OPERATOR","->",206],["T_STRING","getConfig",206],"(",")",";",["T_WHITESPACE","\n        ",206],["T_VARIABLE","$deviceSpec",207],"[",["T_CONSTANT_ENCAPSED_STRING","'_server'",207],"]",["T_WHITESPACE"," ",207],"=",["T_WHITESPACE"," ",207],["T_VARIABLE","$this",207],["T_OBJECT_OPERATOR","->",207],["T_STRING","getServer",207],"(",")",";",["T_WHITESPACE","\n        ",207],["T_VARIABLE","$this",208],["T_OBJECT_OPERATOR","->",208],["T_STRING","_device",208],["T_WHITESPACE"," ",208],"=",["T_WHITESPACE"," ",208],["T_NEW","new",208],["T_WHITESPACE"," ",208],["T_VARIABLE","$deviceClass",208],"(",["T_VARIABLE","$deviceSpec",208],")",";",["T_WHITESPACE","\n    ",208],"}",["T_WHITESPACE","\n\n    ",209],["T_DOC_COMMENT","\/**\n     * Configure instance\n     *\n     * @param  array|Zend_Config|ArrayAccess $options\n     * @return Zend_Http_UserAgent\n     *\/",211],["T_WHITESPACE","\n    ",216],["T_PUBLIC","public",217],["T_WHITESPACE"," ",217],["T_FUNCTION","function",217],["T_WHITESPACE"," ",217],["T_STRING","setOptions",217],"(",["T_VARIABLE","$options",217],")",["T_WHITESPACE","\n    ",217],"{",["T_WHITESPACE","\n        ",218],["T_IF","if",219],["T_WHITESPACE"," ",219],"(",["T_VARIABLE","$options",219],["T_WHITESPACE"," ",219],["T_INSTANCEOF","instanceof",219],["T_WHITESPACE"," ",219],["T_STRING","Zend_Config",219],")",["T_WHITESPACE"," ",219],"{",["T_WHITESPACE","\n            ",219],["T_VARIABLE","$options",220],["T_WHITESPACE"," ",220],"=",["T_WHITESPACE"," ",220],["T_VARIABLE","$options",220],["T_OBJECT_OPERATOR","->",220],["T_STRING","toArray",220],"(",")",";",["T_WHITESPACE","\n        ",220],"}",["T_WHITESPACE","\n\n        ",221],["T_IF","if",223],["T_WHITESPACE"," ",223],"(","!",["T_STRING","is_array",223],"(",["T_VARIABLE","$options",223],")",["T_WHITESPACE","\n            ",223],["T_BOOLEAN_AND","&&",224],["T_WHITESPACE"," ",224],"!",["T_VARIABLE","$options",224],["T_WHITESPACE"," ",224],["T_INSTANCEOF","instanceof",224],["T_WHITESPACE"," ",224],["T_STRING","ArrayAccess",224],["T_WHITESPACE","\n            ",224],["T_BOOLEAN_AND","&&",225],["T_WHITESPACE"," ",225],"!",["T_VARIABLE","$options",225],["T_WHITESPACE"," ",225],["T_INSTANCEOF","instanceof",225],["T_WHITESPACE"," ",225],["T_STRING","Traversable",225],["T_WHITESPACE","\n        ",225],")",["T_WHITESPACE"," ",226],"{",["T_WHITESPACE","\n            ",226],["T_COMMENT","#require_once 'Zend\/Http\/UserAgent\/Exception.php';\n",227],["T_WHITESPACE","            ",228],["T_THROW","throw",228],["T_WHITESPACE"," ",228],["T_NEW","new",228],["T_WHITESPACE"," ",228],["T_STRING","Zend_Http_UserAgent_Exception",228],"(",["T_STRING","sprintf",228],"(",["T_WHITESPACE","\n                ",228],["T_CONSTANT_ENCAPSED_STRING","'Invalid argument; expected array, Zend_Config object, or object implementing ArrayAccess and Traversable; received %s'",229],",",["T_WHITESPACE","\n                ",229],"(",["T_STRING","is_object",230],"(",["T_VARIABLE","$options",230],")",["T_WHITESPACE"," ",230],"?",["T_WHITESPACE"," ",230],["T_STRING","get_class",230],"(",["T_VARIABLE","$options",230],")",["T_WHITESPACE"," ",230],":",["T_WHITESPACE"," ",230],["T_STRING","gettype",230],"(",["T_VARIABLE","$options",230],")",")",["T_WHITESPACE","\n            ",230],")",")",";",["T_WHITESPACE","\n        ",231],"}",["T_WHITESPACE","\n\n        ",232],["T_COMMENT","\/\/ Set $_SERVER first\n",234],["T_WHITESPACE","        ",235],["T_IF","if",235],["T_WHITESPACE"," ",235],"(",["T_ISSET","isset",235],"(",["T_VARIABLE","$options",235],"[",["T_CONSTANT_ENCAPSED_STRING","'server'",235],"]",")",")",["T_WHITESPACE"," ",235],"{",["T_WHITESPACE","\n            ",235],["T_VARIABLE","$this",236],["T_OBJECT_OPERATOR","->",236],["T_STRING","setServer",236],"(",["T_VARIABLE","$options",236],"[",["T_CONSTANT_ENCAPSED_STRING","'server'",236],"]",")",";",["T_WHITESPACE","\n            ",236],["T_UNSET","unset",237],"(",["T_VARIABLE","$options",237],"[",["T_CONSTANT_ENCAPSED_STRING","'server'",237],"]",")",";",["T_WHITESPACE","\n        ",237],"}",["T_WHITESPACE","\n\n        ",238],["T_COMMENT","\/\/ Get plugin loaders sorted\n",240],["T_WHITESPACE","        ",241],["T_IF","if",241],["T_WHITESPACE"," ",241],"(",["T_ISSET","isset",241],"(",["T_VARIABLE","$options",241],"[",["T_CONSTANT_ENCAPSED_STRING","'plugin_loader'",241],"]",")",")",["T_WHITESPACE"," ",241],"{",["T_WHITESPACE","\n            ",241],["T_VARIABLE","$plConfig",242],["T_WHITESPACE"," ",242],"=",["T_WHITESPACE"," ",242],["T_VARIABLE","$options",242],"[",["T_CONSTANT_ENCAPSED_STRING","'plugin_loader'",242],"]",";",["T_WHITESPACE","\n            ",242],["T_IF","if",243],["T_WHITESPACE"," ",243],"(",["T_STRING","is_array",243],"(",["T_VARIABLE","$plConfig",243],")",["T_WHITESPACE"," ",243],["T_BOOLEAN_OR","||",243],["T_WHITESPACE"," ",243],["T_VARIABLE","$plConfig",243],["T_WHITESPACE"," ",243],["T_INSTANCEOF","instanceof",243],["T_WHITESPACE"," ",243],["T_STRING","Traversable",243],")",["T_WHITESPACE"," ",243],"{",["T_WHITESPACE","\n                ",243],["T_FOREACH","foreach",244],["T_WHITESPACE"," ",244],"(",["T_VARIABLE","$plConfig",244],["T_WHITESPACE"," ",244],["T_AS","as",244],["T_WHITESPACE"," ",244],["T_VARIABLE","$type",244],["T_WHITESPACE"," ",244],["T_DOUBLE_ARROW","=>",244],["T_WHITESPACE"," ",244],["T_VARIABLE","$class",244],")",["T_WHITESPACE"," ",244],"{",["T_WHITESPACE","\n                    ",244],["T_VARIABLE","$this",245],["T_OBJECT_OPERATOR","->",245],["T_STRING","setPluginLoader",245],"(",["T_VARIABLE","$type",245],",",["T_WHITESPACE"," ",245],["T_VARIABLE","$class",245],")",";",["T_WHITESPACE","\n                ",245],"}",["T_WHITESPACE","\n            ",246],"}",["T_WHITESPACE","\n            ",247],["T_UNSET","unset",248],"(",["T_VARIABLE","$plConfig",248],",",["T_WHITESPACE"," ",248],["T_VARIABLE","$options",248],"[",["T_CONSTANT_ENCAPSED_STRING","'plugin_loader'",248],"]",")",";",["T_WHITESPACE","\n        ",248],"}",["T_WHITESPACE","\n\n        ",249],["T_COMMENT","\/\/ And then loop through the remaining options\n",251],["T_WHITESPACE","        ",252],["T_VARIABLE","$config",252],["T_WHITESPACE"," ",252],"=",["T_WHITESPACE"," ",252],["T_ARRAY","array",252],"(",")",";",["T_WHITESPACE","\n        ",252],["T_FOREACH","foreach",253],["T_WHITESPACE"," ",253],"(",["T_VARIABLE","$options",253],["T_WHITESPACE"," ",253],["T_AS","as",253],["T_WHITESPACE"," ",253],["T_VARIABLE","$key",253],["T_WHITESPACE"," ",253],["T_DOUBLE_ARROW","=>",253],["T_WHITESPACE"," ",253],["T_VARIABLE","$value",253],")",["T_WHITESPACE"," ",253],"{",["T_WHITESPACE","\n            ",253],["T_SWITCH","switch",254],["T_WHITESPACE"," ",254],"(",["T_STRING","strtolower",254],"(",["T_VARIABLE","$key",254],")",")",["T_WHITESPACE"," ",254],"{",["T_WHITESPACE","\n                ",254],["T_CASE","case",255],["T_WHITESPACE"," ",255],["T_CONSTANT_ENCAPSED_STRING","'browser_type'",255],":",["T_WHITESPACE","\n                    ",255],["T_VARIABLE","$this",256],["T_OBJECT_OPERATOR","->",256],["T_STRING","setBrowserType",256],"(",["T_VARIABLE","$value",256],")",";",["T_WHITESPACE","\n                    ",256],["T_BREAK","break",257],";",["T_WHITESPACE","\n                ",257],["T_CASE","case",258],["T_WHITESPACE"," ",258],["T_CONSTANT_ENCAPSED_STRING","'http_accept'",258],":",["T_WHITESPACE","\n                    ",258],["T_VARIABLE","$this",259],["T_OBJECT_OPERATOR","->",259],["T_STRING","setHttpAccept",259],"(",["T_VARIABLE","$value",259],")",";",["T_WHITESPACE","\n                    ",259],["T_BREAK","break",260],";",["T_WHITESPACE","\n                ",260],["T_CASE","case",261],["T_WHITESPACE"," ",261],["T_CONSTANT_ENCAPSED_STRING","'user_agent'",261],":",["T_WHITESPACE","\n                    ",261],["T_VARIABLE","$this",262],["T_OBJECT_OPERATOR","->",262],["T_STRING","setUserAgent",262],"(",["T_VARIABLE","$value",262],")",";",["T_WHITESPACE","\n                    ",262],["T_BREAK","break",263],";",["T_WHITESPACE","\n                ",263],["T_DEFAULT","default",264],":",["T_WHITESPACE","\n                    ",264],["T_COMMENT","\/\/ Cache remaining options for $_config\n",265],["T_WHITESPACE","                    ",266],["T_VARIABLE","$config",266],"[",["T_VARIABLE","$key",266],"]",["T_WHITESPACE"," ",266],"=",["T_WHITESPACE"," ",266],["T_VARIABLE","$value",266],";",["T_WHITESPACE","\n                    ",266],["T_BREAK","break",267],";",["T_WHITESPACE","\n            ",267],"}",["T_WHITESPACE","\n        ",268],"}",["T_WHITESPACE","\n        ",269],["T_VARIABLE","$this",270],["T_OBJECT_OPERATOR","->",270],["T_STRING","setConfig",270],"(",["T_VARIABLE","$config",270],")",";",["T_WHITESPACE","\n\n        ",270],["T_RETURN","return",272],["T_WHITESPACE"," ",272],["T_VARIABLE","$this",272],";",["T_WHITESPACE","\n    ",272],"}",["T_WHITESPACE","\n\n    ",273],["T_DOC_COMMENT","\/**\n     * Comparison of the UserAgent chain and browser signatures.\n     *\n     * The comparison is case-insensitive : the browser signatures must be in lower\n     * case\n     *\n     * @param  string $deviceClass Name of class against which a match will be attempted\n     * @return bool\n     *\/",275],["T_WHITESPACE","\n    ",283],["T_PROTECTED","protected",284],["T_WHITESPACE"," ",284],["T_FUNCTION","function",284],["T_WHITESPACE"," ",284],["T_STRING","_match",284],"(",["T_VARIABLE","$deviceClass",284],")",["T_WHITESPACE","\n    ",284],"{",["T_WHITESPACE","\n        ",285],["T_COMMENT","\/\/ Validate device class\n",286],["T_WHITESPACE","        ",287],["T_VARIABLE","$r",287],["T_WHITESPACE"," ",287],"=",["T_WHITESPACE"," ",287],["T_NEW","new",287],["T_WHITESPACE"," ",287],["T_STRING","ReflectionClass",287],"(",["T_VARIABLE","$deviceClass",287],")",";",["T_WHITESPACE","\n        ",287],["T_IF","if",288],["T_WHITESPACE"," ",288],"(","!",["T_VARIABLE","$r",288],["T_OBJECT_OPERATOR","->",288],["T_STRING","implementsInterface",288],"(",["T_CONSTANT_ENCAPSED_STRING","'Zend_Http_UserAgent_Device'",288],")",")",["T_WHITESPACE"," ",288],"{",["T_WHITESPACE","\n            ",288],["T_THROW","throw",289],["T_WHITESPACE"," ",289],["T_NEW","new",289],["T_WHITESPACE"," ",289],["T_STRING","Zend_Http_UserAgent_Exception",289],"(",["T_STRING","sprintf",289],"(",["T_WHITESPACE","\n                ",289],["T_CONSTANT_ENCAPSED_STRING","'Invalid device class provided (\"%s\"); must implement Zend_Http_UserAgent_Device'",290],",",["T_WHITESPACE","\n                ",290],["T_VARIABLE","$deviceClass",291],["T_WHITESPACE","\n            ",291],")",")",";",["T_WHITESPACE","\n        ",292],"}",["T_WHITESPACE","\n\n        ",293],["T_VARIABLE","$userAgent",295],["T_WHITESPACE"," ",295],"=",["T_WHITESPACE"," ",295],["T_VARIABLE","$this",295],["T_OBJECT_OPERATOR","->",295],["T_STRING","getUserAgent",295],"(",")",";",["T_WHITESPACE","\n\n        ",295],["T_COMMENT","\/\/ Call match method on device class\n",297],["T_WHITESPACE","        ",298],["T_RETURN","return",298],["T_WHITESPACE"," ",298],["T_STRING","call_user_func",298],"(",["T_WHITESPACE","\n            ",298],["T_ARRAY","array",299],"(",["T_VARIABLE","$deviceClass",299],",",["T_WHITESPACE"," ",299],["T_CONSTANT_ENCAPSED_STRING","'match'",299],")",",",["T_WHITESPACE","\n            ",299],["T_VARIABLE","$userAgent",300],",",["T_WHITESPACE","\n            ",300],["T_VARIABLE","$this",301],["T_OBJECT_OPERATOR","->",301],["T_STRING","getServer",301],"(",")",["T_WHITESPACE","\n        ",301],")",";",["T_WHITESPACE","\n    ",302],"}",["T_WHITESPACE","\n\n    ",303],["T_DOC_COMMENT","\/**\n     * Loads class for a user agent device\n     *\n     * @param  string $browserType Browser type\n     * @return string\n     * @throws Zend_Loader_PluginLoader_Exception if unable to load UA device\n     *\/",305],["T_WHITESPACE","\n    ",311],["T_PROTECTED","protected",312],["T_WHITESPACE"," ",312],["T_FUNCTION","function",312],["T_WHITESPACE"," ",312],["T_STRING","_getUserAgentDevice",312],"(",["T_VARIABLE","$browserType",312],")",["T_WHITESPACE","\n    ",312],"{",["T_WHITESPACE","\n        ",313],["T_VARIABLE","$browserType",314],["T_WHITESPACE"," ",314],"=",["T_WHITESPACE"," ",314],["T_STRING","strtolower",314],"(",["T_VARIABLE","$browserType",314],")",";",["T_WHITESPACE","\n        ",314],["T_IF","if",315],["T_WHITESPACE"," ",315],"(",["T_ISSET","isset",315],"(",["T_VARIABLE","$this",315],["T_OBJECT_OPERATOR","->",315],["T_STRING","_browserTypeClass",315],"[",["T_VARIABLE","$browserType",315],"]",")",")",["T_WHITESPACE"," ",315],"{",["T_WHITESPACE","\n            ",315],["T_RETURN","return",316],["T_WHITESPACE"," ",316],["T_VARIABLE","$this",316],["T_OBJECT_OPERATOR","->",316],["T_STRING","_browserTypeClass",316],"[",["T_VARIABLE","$browserType",316],"]",";",["T_WHITESPACE","\n        ",316],"}",["T_WHITESPACE","\n\n        ",317],["T_IF","if",319],["T_WHITESPACE"," ",319],"(",["T_ISSET","isset",319],"(",["T_VARIABLE","$this",319],["T_OBJECT_OPERATOR","->",319],["T_STRING","_config",319],"[",["T_VARIABLE","$browserType",319],"]",")",["T_WHITESPACE","\n            ",319],["T_BOOLEAN_AND","&&",320],["T_WHITESPACE"," ",320],["T_ISSET","isset",320],"(",["T_VARIABLE","$this",320],["T_OBJECT_OPERATOR","->",320],["T_STRING","_config",320],"[",["T_VARIABLE","$browserType",320],"]","[",["T_CONSTANT_ENCAPSED_STRING","'device'",320],"]",")",["T_WHITESPACE","\n        ",320],")",["T_WHITESPACE"," ",321],"{",["T_WHITESPACE","\n            ",321],["T_VARIABLE","$deviceConfig",322],["T_WHITESPACE"," ",322],"=",["T_WHITESPACE"," ",322],["T_VARIABLE","$this",322],["T_OBJECT_OPERATOR","->",322],["T_STRING","_config",322],"[",["T_VARIABLE","$browserType",322],"]","[",["T_CONSTANT_ENCAPSED_STRING","'device'",322],"]",";",["T_WHITESPACE","\n            ",322],["T_IF","if",323],["T_WHITESPACE"," ",323],"(",["T_STRING","is_array",323],"(",["T_VARIABLE","$deviceConfig",323],")",["T_WHITESPACE"," ",323],["T_BOOLEAN_AND","&&",323],["T_WHITESPACE"," ",323],["T_ISSET","isset",323],"(",["T_VARIABLE","$deviceConfig",323],"[",["T_CONSTANT_ENCAPSED_STRING","'classname'",323],"]",")",")",["T_WHITESPACE"," ",323],"{",["T_WHITESPACE","\n                ",323],["T_VARIABLE","$device",324],["T_WHITESPACE"," ",324],"=",["T_WHITESPACE"," ",324],["T_STRING_CAST","(string)",324],["T_WHITESPACE"," ",324],["T_VARIABLE","$deviceConfig",324],"[",["T_CONSTANT_ENCAPSED_STRING","'classname'",324],"]",";",["T_WHITESPACE","\n                ",324],["T_IF","if",325],["T_WHITESPACE"," ",325],"(","!",["T_STRING","class_exists",325],"(",["T_VARIABLE","$device",325],")",")",["T_WHITESPACE"," ",325],"{",["T_WHITESPACE","\n                    ",325],["T_COMMENT","#require_once 'Zend\/Http\/UserAgent\/Exception.php';\n",326],["T_WHITESPACE","                    ",327],["T_THROW","throw",327],["T_WHITESPACE"," ",327],["T_NEW","new",327],["T_WHITESPACE"," ",327],["T_STRING","Zend_Http_UserAgent_Exception",327],"(",["T_STRING","sprintf",327],"(",["T_WHITESPACE","\n                        ",327],["T_CONSTANT_ENCAPSED_STRING","'Invalid classname \"%s\" provided in device configuration for browser type \"%s\"'",328],",",["T_WHITESPACE","\n                        ",328],["T_VARIABLE","$device",329],",",["T_WHITESPACE","\n                        ",329],["T_VARIABLE","$browserType",330],["T_WHITESPACE","\n                    ",330],")",")",";",["T_WHITESPACE","\n                ",331],"}",["T_WHITESPACE","\n            ",332],"}",["T_WHITESPACE"," ",333],["T_ELSEIF","elseif",333],["T_WHITESPACE"," ",333],"(",["T_STRING","is_array",333],"(",["T_VARIABLE","$deviceConfig",333],")",["T_WHITESPACE"," ",333],["T_BOOLEAN_AND","&&",333],["T_WHITESPACE"," ",333],["T_ISSET","isset",333],"(",["T_VARIABLE","$deviceConfig",333],"[",["T_CONSTANT_ENCAPSED_STRING","'path'",333],"]",")",")",["T_WHITESPACE"," ",333],"{",["T_WHITESPACE","\n                ",333],["T_VARIABLE","$loader",334],["T_WHITESPACE"," ",334],"=",["T_WHITESPACE"," ",334],["T_VARIABLE","$this",334],["T_OBJECT_OPERATOR","->",334],["T_STRING","getPluginLoader",334],"(",["T_CONSTANT_ENCAPSED_STRING","'device'",334],")",";",["T_WHITESPACE","\n                ",334],["T_VARIABLE","$path",335],["T_WHITESPACE","   ",335],"=",["T_WHITESPACE"," ",335],["T_VARIABLE","$deviceConfig",335],"[",["T_CONSTANT_ENCAPSED_STRING","'path'",335],"]",";",["T_WHITESPACE","\n                ",335],["T_VARIABLE","$prefix",336],["T_WHITESPACE"," ",336],"=",["T_WHITESPACE"," ",336],["T_ISSET","isset",336],"(",["T_VARIABLE","$deviceConfig",336],"[",["T_CONSTANT_ENCAPSED_STRING","'prefix'",336],"]",")",["T_WHITESPACE"," ",336],"?",["T_WHITESPACE"," ",336],["T_VARIABLE","$deviceConfig",336],"[",["T_CONSTANT_ENCAPSED_STRING","'prefix'",336],"]",["T_WHITESPACE"," ",336],":",["T_WHITESPACE"," ",336],["T_CONSTANT_ENCAPSED_STRING","'Zend_Http_UserAgent'",336],";",["T_WHITESPACE","\n                ",336],["T_VARIABLE","$loader",337],["T_OBJECT_OPERATOR","->",337],["T_STRING","addPrefixPath",337],"(",["T_VARIABLE","$prefix",337],",",["T_WHITESPACE"," ",337],["T_VARIABLE","$path",337],")",";",["T_WHITESPACE","\n\n                ",337],["T_VARIABLE","$device",339],["T_WHITESPACE"," ",339],"=",["T_WHITESPACE"," ",339],["T_VARIABLE","$loader",339],["T_OBJECT_OPERATOR","->",339],["T_STRING","load",339],"(",["T_VARIABLE","$browserType",339],")",";",["T_WHITESPACE","\n            ",339],"}",["T_WHITESPACE"," ",340],["T_ELSE","else",340],["T_WHITESPACE"," ",340],"{",["T_WHITESPACE","\n                ",340],["T_VARIABLE","$loader",341],["T_WHITESPACE"," ",341],"=",["T_WHITESPACE"," ",341],["T_VARIABLE","$this",341],["T_OBJECT_OPERATOR","->",341],["T_STRING","getPluginLoader",341],"(",["T_CONSTANT_ENCAPSED_STRING","'device'",341],")",";",["T_WHITESPACE","\n                ",341],["T_VARIABLE","$device",342],["T_WHITESPACE"," ",342],"=",["T_WHITESPACE"," ",342],["T_VARIABLE","$loader",342],["T_OBJECT_OPERATOR","->",342],["T_STRING","load",342],"(",["T_VARIABLE","$browserType",342],")",";",["T_WHITESPACE","\n            ",342],"}",["T_WHITESPACE","\n        ",343],"}",["T_WHITESPACE"," ",344],["T_ELSE","else",344],["T_WHITESPACE"," ",344],"{",["T_WHITESPACE","\n            ",344],["T_VARIABLE","$loader",345],["T_WHITESPACE"," ",345],"=",["T_WHITESPACE"," ",345],["T_VARIABLE","$this",345],["T_OBJECT_OPERATOR","->",345],["T_STRING","getPluginLoader",345],"(",["T_CONSTANT_ENCAPSED_STRING","'device'",345],")",";",["T_WHITESPACE","\n            ",345],["T_VARIABLE","$device",346],["T_WHITESPACE"," ",346],"=",["T_WHITESPACE"," ",346],["T_VARIABLE","$loader",346],["T_OBJECT_OPERATOR","->",346],["T_STRING","load",346],"(",["T_VARIABLE","$browserType",346],")",";",["T_WHITESPACE","\n        ",346],"}",["T_WHITESPACE","\n\n        ",347],["T_VARIABLE","$this",349],["T_OBJECT_OPERATOR","->",349],["T_STRING","_browserTypeClass",349],"[",["T_VARIABLE","$browserType",349],"]",["T_WHITESPACE"," ",349],"=",["T_WHITESPACE"," ",349],["T_VARIABLE","$device",349],";",["T_WHITESPACE","\n\n        ",349],["T_RETURN","return",351],["T_WHITESPACE"," ",351],["T_VARIABLE","$device",351],";",["T_WHITESPACE","\n    ",351],"}",["T_WHITESPACE","\n\n    ",352],["T_DOC_COMMENT","\/**\n     * Returns the User Agent value\n     *\n     * If $userAgent param is null, the value of $_server['HTTP_USER_AGENT'] is\n     * returned.\n     *\n     * @return string\n     *\/",354],["T_WHITESPACE","\n    ",361],["T_PUBLIC","public",362],["T_WHITESPACE"," ",362],["T_FUNCTION","function",362],["T_WHITESPACE"," ",362],["T_STRING","getUserAgent",362],"(",")",["T_WHITESPACE","\n    ",362],"{",["T_WHITESPACE","\n        ",363],["T_IF","if",364],["T_WHITESPACE"," ",364],"(",["T_STRING","null",364],["T_WHITESPACE"," ",364],["T_IS_IDENTICAL","===",364],["T_WHITESPACE"," ",364],"(",["T_VARIABLE","$ua",364],["T_WHITESPACE"," ",364],"=",["T_WHITESPACE"," ",364],["T_VARIABLE","$this",364],["T_OBJECT_OPERATOR","->",364],["T_STRING","getServerValue",364],"(",["T_CONSTANT_ENCAPSED_STRING","'http_user_agent'",364],")",")",")",["T_WHITESPACE"," ",364],"{",["T_WHITESPACE","\n            ",364],["T_VARIABLE","$ua",365],["T_WHITESPACE"," ",365],"=",["T_WHITESPACE"," ",365],["T_STRING","self",365],["T_DOUBLE_COLON","::",365],["T_STRING","DEFAULT_HTTP_USER_AGENT",365],";",["T_WHITESPACE","\n            ",365],["T_VARIABLE","$this",366],["T_OBJECT_OPERATOR","->",366],["T_STRING","setUserAgent",366],"(",["T_VARIABLE","$ua",366],")",";",["T_WHITESPACE","\n        ",366],"}",["T_WHITESPACE","\n\n        ",367],["T_RETURN","return",369],["T_WHITESPACE"," ",369],["T_VARIABLE","$ua",369],";",["T_WHITESPACE","\n    ",369],"}",["T_WHITESPACE","\n\n    ",370],["T_DOC_COMMENT","\/**\n     * Force or replace the UA chain in $_server variable\n     *\n     * @param  string $userAgent Forced UserAgent chain\n     * @return Zend_Http_UserAgent\n     *\/",372],["T_WHITESPACE","\n    ",377],["T_PUBLIC","public",378],["T_WHITESPACE"," ",378],["T_FUNCTION","function",378],["T_WHITESPACE"," ",378],["T_STRING","setUserAgent",378],"(",["T_VARIABLE","$userAgent",378],")",["T_WHITESPACE","\n    ",378],"{",["T_WHITESPACE","\n        ",379],["T_VARIABLE","$this",380],["T_OBJECT_OPERATOR","->",380],["T_STRING","setServerValue",380],"(",["T_CONSTANT_ENCAPSED_STRING","'http_user_agent'",380],",",["T_WHITESPACE"," ",380],["T_VARIABLE","$userAgent",380],")",";",["T_WHITESPACE","\n        ",380],["T_RETURN","return",381],["T_WHITESPACE"," ",381],["T_VARIABLE","$this",381],";",["T_WHITESPACE","\n    ",381],"}",["T_WHITESPACE","\n\n    ",382],["T_DOC_COMMENT","\/**\n     * Returns the HTTP Accept server param\n     *\n     * @param  string $httpAccept (option) forced HTTP Accept chain\n     * @return string\n     *\/",384],["T_WHITESPACE","\n    ",389],["T_PUBLIC","public",390],["T_WHITESPACE"," ",390],["T_FUNCTION","function",390],["T_WHITESPACE"," ",390],["T_STRING","getHttpAccept",390],"(",["T_VARIABLE","$httpAccept",390],["T_WHITESPACE"," ",390],"=",["T_WHITESPACE"," ",390],["T_STRING","null",390],")",["T_WHITESPACE","\n    ",390],"{",["T_WHITESPACE","\n        ",391],["T_IF","if",392],["T_WHITESPACE"," ",392],"(",["T_STRING","null",392],["T_WHITESPACE"," ",392],["T_IS_IDENTICAL","===",392],["T_WHITESPACE"," ",392],"(",["T_VARIABLE","$accept",392],["T_WHITESPACE"," ",392],"=",["T_WHITESPACE"," ",392],["T_VARIABLE","$this",392],["T_OBJECT_OPERATOR","->",392],["T_STRING","getServerValue",392],"(",["T_CONSTANT_ENCAPSED_STRING","'http_accept'",392],")",")",")",["T_WHITESPACE"," ",392],"{",["T_WHITESPACE","\n            ",392],["T_VARIABLE","$accept",393],["T_WHITESPACE"," ",393],"=",["T_WHITESPACE"," ",393],["T_STRING","self",393],["T_DOUBLE_COLON","::",393],["T_STRING","DEFAULT_HTTP_ACCEPT",393],";",["T_WHITESPACE","\n            ",393],["T_VARIABLE","$this",394],["T_OBJECT_OPERATOR","->",394],["T_STRING","setHttpAccept",394],"(",["T_VARIABLE","$accept",394],")",";",["T_WHITESPACE","\n        ",394],"}",["T_WHITESPACE","\n        ",395],["T_RETURN","return",396],["T_WHITESPACE"," ",396],["T_VARIABLE","$accept",396],";",["T_WHITESPACE","\n    ",396],"}",["T_WHITESPACE","\n\n    ",397],["T_DOC_COMMENT","\/**\n     * Force or replace the HTTP_ACCEPT chain in self::$_server variable\n     *\n     * @param  string $httpAccept Forced HTTP Accept chain\n     * @return Zend_Http_UserAgent\n     *\/",399],["T_WHITESPACE","\n    ",404],["T_PUBLIC","public",405],["T_WHITESPACE"," ",405],["T_FUNCTION","function",405],["T_WHITESPACE"," ",405],["T_STRING","setHttpAccept",405],"(",["T_VARIABLE","$httpAccept",405],")",["T_WHITESPACE","\n    ",405],"{",["T_WHITESPACE","\n        ",406],["T_VARIABLE","$this",407],["T_OBJECT_OPERATOR","->",407],["T_STRING","setServerValue",407],"(",["T_CONSTANT_ENCAPSED_STRING","'http_accept'",407],",",["T_WHITESPACE"," ",407],["T_VARIABLE","$httpAccept",407],")",";",["T_WHITESPACE","\n        ",407],["T_RETURN","return",408],["T_WHITESPACE"," ",408],["T_VARIABLE","$this",408],";",["T_WHITESPACE","\n    ",408],"}",["T_WHITESPACE","\n\n    ",409],["T_DOC_COMMENT","\/**\n     * Returns the persistent storage handler\n     *\n     * Session storage is used by default unless a different storage adapter\n     * has been set via the \"persistent_storage_adapter\" key. That key should\n     * contain either a fully qualified class name, or a short name that\n     * resolves via the plugin loader.\n     *\n     * @param  string $browser Browser identifier (User Agent chain)\n     * @return Zend_Http_UserAgent_Storage\n     *\/",411],["T_WHITESPACE","\n    ",421],["T_PUBLIC","public",422],["T_WHITESPACE"," ",422],["T_FUNCTION","function",422],["T_WHITESPACE"," ",422],["T_STRING","getStorage",422],"(",["T_VARIABLE","$browser",422],["T_WHITESPACE"," ",422],"=",["T_WHITESPACE"," ",422],["T_STRING","null",422],")",["T_WHITESPACE","\n    ",422],"{",["T_WHITESPACE","\n        ",423],["T_IF","if",424],["T_WHITESPACE"," ",424],"(",["T_STRING","null",424],["T_WHITESPACE"," ",424],["T_IS_IDENTICAL","===",424],["T_WHITESPACE"," ",424],["T_VARIABLE","$browser",424],")",["T_WHITESPACE"," ",424],"{",["T_WHITESPACE","\n            ",424],["T_VARIABLE","$browser",425],["T_WHITESPACE"," ",425],"=",["T_WHITESPACE"," ",425],["T_VARIABLE","$this",425],["T_OBJECT_OPERATOR","->",425],["T_STRING","getUserAgent",425],"(",")",";",["T_WHITESPACE","\n        ",425],"}",["T_WHITESPACE","\n        ",426],["T_IF","if",427],["T_WHITESPACE"," ",427],"(",["T_STRING","null",427],["T_WHITESPACE"," ",427],["T_IS_IDENTICAL","===",427],["T_WHITESPACE"," ",427],["T_VARIABLE","$this",427],["T_OBJECT_OPERATOR","->",427],["T_STRING","_storage",427],")",["T_WHITESPACE"," ",427],"{",["T_WHITESPACE","\n            ",427],["T_VARIABLE","$config",428],["T_WHITESPACE","  ",428],"=",["T_WHITESPACE"," ",428],["T_VARIABLE","$this",428],["T_OBJECT_OPERATOR","->",428],["T_STRING","_config",428],"[",["T_CONSTANT_ENCAPSED_STRING","'storage'",428],"]",";",["T_WHITESPACE","\n            ",428],["T_VARIABLE","$adapter",429],["T_WHITESPACE"," ",429],"=",["T_WHITESPACE"," ",429],["T_VARIABLE","$config",429],"[",["T_CONSTANT_ENCAPSED_STRING","'adapter'",429],"]",";",["T_WHITESPACE","\n            ",429],["T_IF","if",430],["T_WHITESPACE"," ",430],"(","!",["T_STRING","class_exists",430],"(",["T_VARIABLE","$adapter",430],")",")",["T_WHITESPACE"," ",430],"{",["T_WHITESPACE","\n                ",430],["T_VARIABLE","$loader",431],["T_WHITESPACE"," ",431],"=",["T_WHITESPACE"," ",431],["T_VARIABLE","$this",431],["T_OBJECT_OPERATOR","->",431],["T_STRING","getPluginLoader",431],"(",["T_CONSTANT_ENCAPSED_STRING","'storage'",431],")",";",["T_WHITESPACE","\n                ",431],["T_VARIABLE","$adapter",432],["T_WHITESPACE"," ",432],"=",["T_WHITESPACE"," ",432],["T_VARIABLE","$loader",432],["T_OBJECT_OPERATOR","->",432],["T_STRING","load",432],"(",["T_VARIABLE","$adapter",432],")",";",["T_WHITESPACE","\n                ",432],["T_VARIABLE","$loader",433],["T_WHITESPACE"," ",433],"=",["T_WHITESPACE"," ",433],["T_VARIABLE","$this",433],["T_OBJECT_OPERATOR","->",433],["T_STRING","getPluginLoader",433],"(",["T_CONSTANT_ENCAPSED_STRING","'storage'",433],")",";",["T_WHITESPACE","\n            ",433],"}",["T_WHITESPACE","\n            ",434],["T_VARIABLE","$options",435],["T_WHITESPACE"," ",435],"=",["T_WHITESPACE"," ",435],["T_ARRAY","array",435],"(",["T_CONSTANT_ENCAPSED_STRING","'browser_type'",435],["T_WHITESPACE"," ",435],["T_DOUBLE_ARROW","=>",435],["T_WHITESPACE"," ",435],["T_VARIABLE","$browser",435],")",";",["T_WHITESPACE","\n            ",435],["T_IF","if",436],["T_WHITESPACE"," ",436],"(",["T_ISSET","isset",436],"(",["T_VARIABLE","$config",436],"[",["T_CONSTANT_ENCAPSED_STRING","'options'",436],"]",")",")",["T_WHITESPACE"," ",436],"{",["T_WHITESPACE","\n                ",436],["T_VARIABLE","$options",437],["T_WHITESPACE"," ",437],"=",["T_WHITESPACE"," ",437],["T_STRING","array_merge",437],"(",["T_VARIABLE","$options",437],",",["T_WHITESPACE"," ",437],["T_VARIABLE","$config",437],"[",["T_CONSTANT_ENCAPSED_STRING","'options'",437],"]",")",";",["T_WHITESPACE","\n            ",437],"}",["T_WHITESPACE","\n            ",438],["T_VARIABLE","$this",439],["T_OBJECT_OPERATOR","->",439],["T_STRING","setStorage",439],"(",["T_NEW","new",439],["T_WHITESPACE"," ",439],["T_VARIABLE","$adapter",439],"(",["T_VARIABLE","$options",439],")",")",";",["T_WHITESPACE","\n        ",439],"}",["T_WHITESPACE","\n        ",440],["T_RETURN","return",441],["T_WHITESPACE"," ",441],["T_VARIABLE","$this",441],["T_OBJECT_OPERATOR","->",441],["T_STRING","_storage",441],";",["T_WHITESPACE","\n    ",441],"}",["T_WHITESPACE","\n\n    ",442],["T_DOC_COMMENT","\/**\n     * Sets the persistent storage handler\n     *\n     * @param  Zend_Http_UserAgent_Storage $storage\n     * @return Zend_Http_UserAgent\n     *\/",444],["T_WHITESPACE","\n    ",449],["T_PUBLIC","public",450],["T_WHITESPACE"," ",450],["T_FUNCTION","function",450],["T_WHITESPACE"," ",450],["T_STRING","setStorage",450],"(",["T_STRING","Zend_Http_UserAgent_Storage",450],["T_WHITESPACE"," ",450],["T_VARIABLE","$storage",450],")",["T_WHITESPACE","\n    ",450],"{",["T_WHITESPACE","\n        ",451],["T_IF","if",452],["T_WHITESPACE"," ",452],"(",["T_VARIABLE","$this",452],["T_OBJECT_OPERATOR","->",452],["T_STRING","_immutable",452],")",["T_WHITESPACE"," ",452],"{",["T_WHITESPACE","\n            ",452],["T_COMMENT","#require_once 'Zend\/Http\/UserAgent\/Exception.php';\n",453],["T_WHITESPACE","            ",454],["T_THROW","throw",454],["T_WHITESPACE"," ",454],["T_NEW","new",454],["T_WHITESPACE"," ",454],["T_STRING","Zend_Http_UserAgent_Exception",454],"(",["T_WHITESPACE","\n                ",454],["T_CONSTANT_ENCAPSED_STRING","'The User-Agent device object has already been retrieved; the storage object is now immutable'",455],["T_WHITESPACE","\n            ",455],")",";",["T_WHITESPACE","\n        ",456],"}",["T_WHITESPACE","\n\n        ",457],["T_VARIABLE","$this",459],["T_OBJECT_OPERATOR","->",459],["T_STRING","_storage",459],["T_WHITESPACE"," ",459],"=",["T_WHITESPACE"," ",459],["T_VARIABLE","$storage",459],";",["T_WHITESPACE","\n        ",459],["T_RETURN","return",460],["T_WHITESPACE"," ",460],["T_VARIABLE","$this",460],";",["T_WHITESPACE","\n    ",460],"}",["T_WHITESPACE","\n\n    ",461],["T_DOC_COMMENT","\/**\n     * Clean the persistent storage\n     *\n     * @param  string $browser Browser identifier (User Agent chain)\n     * @return void\n     *\/",463],["T_WHITESPACE","\n    ",468],["T_PUBLIC","public",469],["T_WHITESPACE"," ",469],["T_FUNCTION","function",469],["T_WHITESPACE"," ",469],["T_STRING","clearStorage",469],"(",["T_VARIABLE","$browser",469],["T_WHITESPACE"," ",469],"=",["T_WHITESPACE"," ",469],["T_STRING","null",469],")",["T_WHITESPACE","\n    ",469],"{",["T_WHITESPACE","\n        ",470],["T_VARIABLE","$this",471],["T_OBJECT_OPERATOR","->",471],["T_STRING","getStorage",471],"(",["T_VARIABLE","$browser",471],")",["T_OBJECT_OPERATOR","->",471],["T_STRING","clear",471],"(",")",";",["T_WHITESPACE","\n    ",471],"}",["T_WHITESPACE","\n\n    ",472],["T_DOC_COMMENT","\/**\n     * Get user configuration\n     *\n     * @return array\n     *\/",474],["T_WHITESPACE","\n    ",478],["T_PUBLIC","public",479],["T_WHITESPACE"," ",479],["T_FUNCTION","function",479],["T_WHITESPACE"," ",479],["T_STRING","getConfig",479],"(",")",["T_WHITESPACE","\n    ",479],"{",["T_WHITESPACE","\n        ",480],["T_RETURN","return",481],["T_WHITESPACE"," ",481],["T_VARIABLE","$this",481],["T_OBJECT_OPERATOR","->",481],["T_STRING","_config",481],";",["T_WHITESPACE","\n    ",481],"}",["T_WHITESPACE","\n\n    ",482],["T_DOC_COMMENT","\/**\n     * Config parameters is an Array or a Zend_Config object\n     *\n     * The allowed parameters are :\n     * - the identification sequence (can be empty) => desktop browser type is the\n     * default browser type returned\n     * $config['identification_sequence'] : ',' separated browser types\n     * - the persistent storage adapter\n     * $config['persistent_storage_adapter'] = \"Session\" or \"NonPersistent\"\n     * - to add or replace a browser type device\n     * $config[(type)]['device']['path']\n     * $config[(type)]['device']['classname']\n     * - to add or replace a browser type features adapter\n     * $config[(type)]['features']['path']\n     * $config[(type)]['features']['classname']\n     *\n     * @param  mixed $config (option) Config array\n     * @return Zend_Http_UserAgent\n     *\/",484],["T_WHITESPACE","\n    ",502],["T_PUBLIC","public",503],["T_WHITESPACE"," ",503],["T_FUNCTION","function",503],["T_WHITESPACE"," ",503],["T_STRING","setConfig",503],"(",["T_VARIABLE","$config",503],["T_WHITESPACE"," ",503],"=",["T_WHITESPACE"," ",503],["T_ARRAY","array",503],"(",")",")",["T_WHITESPACE","\n    ",503],"{",["T_WHITESPACE","\n        ",504],["T_IF","if",505],["T_WHITESPACE"," ",505],"(",["T_VARIABLE","$config",505],["T_WHITESPACE"," ",505],["T_INSTANCEOF","instanceof",505],["T_WHITESPACE"," ",505],["T_STRING","Zend_Config",505],")",["T_WHITESPACE"," ",505],"{",["T_WHITESPACE","\n            ",505],["T_VARIABLE","$config",506],["T_WHITESPACE"," ",506],"=",["T_WHITESPACE"," ",506],["T_VARIABLE","$config",506],["T_OBJECT_OPERATOR","->",506],["T_STRING","toArray",506],"(",")",";",["T_WHITESPACE","\n        ",506],"}",["T_WHITESPACE","\n\n        ",507],["T_COMMENT","\/\/ Verify that Config parameters are in an array.\n",509],["T_WHITESPACE","        ",510],["T_IF","if",510],["T_WHITESPACE"," ",510],"(","!",["T_STRING","is_array",510],"(",["T_VARIABLE","$config",510],")",["T_WHITESPACE"," ",510],["T_BOOLEAN_AND","&&",510],["T_WHITESPACE"," ",510],"!",["T_VARIABLE","$config",510],["T_WHITESPACE"," ",510],["T_INSTANCEOF","instanceof",510],["T_WHITESPACE"," ",510],["T_STRING","Traversable",510],")",["T_WHITESPACE"," ",510],"{",["T_WHITESPACE","\n            ",510],["T_COMMENT","#require_once 'Zend\/Http\/UserAgent\/Exception.php';\n",511],["T_WHITESPACE","            ",512],["T_THROW","throw",512],["T_WHITESPACE"," ",512],["T_NEW","new",512],["T_WHITESPACE"," ",512],["T_STRING","Zend_Http_UserAgent_Exception",512],"(",["T_STRING","sprintf",512],"(",["T_WHITESPACE","\n                ",512],["T_CONSTANT_ENCAPSED_STRING","'Config parameters must be in an array or a Traversable object; received \"%s\"'",513],",",["T_WHITESPACE","\n                ",513],"(",["T_STRING","is_object",514],"(",["T_VARIABLE","$config",514],")",["T_WHITESPACE"," ",514],"?",["T_WHITESPACE"," ",514],["T_STRING","get_class",514],"(",["T_VARIABLE","$config",514],")",["T_WHITESPACE"," ",514],":",["T_WHITESPACE"," ",514],["T_STRING","gettype",514],"(",["T_VARIABLE","$config",514],")",")",["T_WHITESPACE","\n            ",514],")",")",";",["T_WHITESPACE","\n        ",515],"}",["T_WHITESPACE","\n\n        ",516],["T_IF","if",518],["T_WHITESPACE"," ",518],"(",["T_VARIABLE","$config",518],["T_WHITESPACE"," ",518],["T_INSTANCEOF","instanceof",518],["T_WHITESPACE"," ",518],["T_STRING","Traversable",518],")",["T_WHITESPACE"," ",518],"{",["T_WHITESPACE","\n            ",518],["T_VARIABLE","$tmp",519],["T_WHITESPACE"," ",519],"=",["T_WHITESPACE"," ",519],["T_ARRAY","array",519],"(",")",";",["T_WHITESPACE","\n            ",519],["T_FOREACH","foreach",520],["T_WHITESPACE"," ",520],"(",["T_VARIABLE","$config",520],["T_WHITESPACE"," ",520],["T_AS","as",520],["T_WHITESPACE"," ",520],["T_VARIABLE","$key",520],["T_WHITESPACE"," ",520],["T_DOUBLE_ARROW","=>",520],["T_WHITESPACE"," ",520],["T_VARIABLE","$value",520],")",["T_WHITESPACE"," ",520],"{",["T_WHITESPACE","\n                ",520],["T_VARIABLE","$tmp",521],"[",["T_VARIABLE","$key",521],"]",["T_WHITESPACE"," ",521],"=",["T_WHITESPACE"," ",521],["T_VARIABLE","$value",521],";",["T_WHITESPACE","\n            ",521],"}",["T_WHITESPACE","\n            ",522],["T_VARIABLE","$config",523],["T_WHITESPACE"," ",523],"=",["T_WHITESPACE"," ",523],["T_VARIABLE","$tmp",523],";",["T_WHITESPACE","\n            ",523],["T_UNSET","unset",524],"(",["T_VARIABLE","$tmp",524],")",";",["T_WHITESPACE","\n        ",524],"}",["T_WHITESPACE","\n\n        ",525],["T_VARIABLE","$this",527],["T_OBJECT_OPERATOR","->",527],["T_STRING","_config",527],["T_WHITESPACE"," ",527],"=",["T_WHITESPACE"," ",527],["T_STRING","array_merge",527],"(",["T_VARIABLE","$this",527],["T_OBJECT_OPERATOR","->",527],["T_STRING","_config",527],",",["T_WHITESPACE"," ",527],["T_VARIABLE","$config",527],")",";",["T_WHITESPACE","\n        ",527],["T_RETURN","return",528],["T_WHITESPACE"," ",528],["T_VARIABLE","$this",528],";",["T_WHITESPACE","\n    ",528],"}",["T_WHITESPACE","\n\n    ",529],["T_DOC_COMMENT","\/**\n     * Returns the device object\n     *\n     * This is the object that will contain the various discovered device\n     * capabilities.\n     *\n     * @return Zend_Http_UserAgent_Device $device\n     *\/",531],["T_WHITESPACE","\n    ",538],["T_PUBLIC","public",539],["T_WHITESPACE"," ",539],["T_FUNCTION","function",539],["T_WHITESPACE"," ",539],["T_STRING","getDevice",539],"(",")",["T_WHITESPACE","\n    ",539],"{",["T_WHITESPACE","\n        ",540],["T_IF","if",541],["T_WHITESPACE"," ",541],"(",["T_STRING","null",541],["T_WHITESPACE"," ",541],["T_IS_NOT_IDENTICAL","!==",541],["T_WHITESPACE"," ",541],["T_VARIABLE","$this",541],["T_OBJECT_OPERATOR","->",541],["T_STRING","_device",541],")",["T_WHITESPACE"," ",541],"{",["T_WHITESPACE","\n            ",541],["T_RETURN","return",542],["T_WHITESPACE"," ",542],["T_VARIABLE","$this",542],["T_OBJECT_OPERATOR","->",542],["T_STRING","_device",542],";",["T_WHITESPACE","\n        ",542],"}",["T_WHITESPACE","\n\n        ",543],["T_VARIABLE","$userAgent",545],["T_WHITESPACE"," ",545],"=",["T_WHITESPACE"," ",545],["T_VARIABLE","$this",545],["T_OBJECT_OPERATOR","->",545],["T_STRING","getUserAgent",545],"(",")",";",["T_WHITESPACE","\n\n        ",545],["T_COMMENT","\/\/ search an existing identification in the session\n",547],["T_WHITESPACE","        ",548],["T_VARIABLE","$storage",548],["T_WHITESPACE"," ",548],"=",["T_WHITESPACE"," ",548],["T_VARIABLE","$this",548],["T_OBJECT_OPERATOR","->",548],["T_STRING","getStorage",548],"(",["T_VARIABLE","$userAgent",548],")",";",["T_WHITESPACE","\n\n        ",548],["T_IF","if",550],["T_WHITESPACE"," ",550],"(","!",["T_VARIABLE","$storage",550],["T_OBJECT_OPERATOR","->",550],["T_STRING","isEmpty",550],"(",")",")",["T_WHITESPACE"," ",550],"{",["T_WHITESPACE","\n            ",550],["T_COMMENT","\/\/ If the user agent and features are already existing, the\n",551],["T_WHITESPACE","            ",552],["T_COMMENT","\/\/ Zend_Http_UserAgent object is serialized in the session\n",552],["T_WHITESPACE","            ",553],["T_VARIABLE","$object",553],["T_WHITESPACE"," ",553],"=",["T_WHITESPACE"," ",553],["T_VARIABLE","$storage",553],["T_OBJECT_OPERATOR","->",553],["T_STRING","read",553],"(",")",";",["T_WHITESPACE","\n            ",553],["T_VARIABLE","$this",554],["T_OBJECT_OPERATOR","->",554],["T_STRING","unserialize",554],"(",["T_VARIABLE","$object",554],")",";",["T_WHITESPACE","\n        ",554],"}",["T_WHITESPACE"," ",555],["T_ELSE","else",555],["T_WHITESPACE"," ",555],"{",["T_WHITESPACE","\n            ",555],["T_COMMENT","\/\/ Otherwise, the identification is made and stored in the session.\n",556],["T_WHITESPACE","            ",557],["T_COMMENT","\/\/ Find the browser type:\n",557],["T_WHITESPACE","            ",558],["T_VARIABLE","$this",558],["T_OBJECT_OPERATOR","->",558],["T_STRING","setBrowserType",558],"(",["T_VARIABLE","$this",558],["T_OBJECT_OPERATOR","->",558],["T_STRING","_matchUserAgent",558],"(",")",")",";",["T_WHITESPACE","\n            ",558],["T_VARIABLE","$this",559],["T_OBJECT_OPERATOR","->",559],["T_STRING","_createDevice",559],"(",")",";",["T_WHITESPACE","\n\n            ",559],["T_COMMENT","\/\/ put the result in storage:\n",561],["T_WHITESPACE","            ",562],["T_VARIABLE","$this",562],["T_OBJECT_OPERATOR","->",562],["T_STRING","getStorage",562],"(",["T_VARIABLE","$userAgent",562],")",["T_WHITESPACE","\n                 ",562],["T_OBJECT_OPERATOR","->",563],["T_STRING","write",563],"(",["T_VARIABLE","$this",563],["T_OBJECT_OPERATOR","->",563],["T_STRING","serialize",563],"(",")",")",";",["T_WHITESPACE","\n        ",563],"}",["T_WHITESPACE","\n\n        ",564],["T_COMMENT","\/\/ Mark the object as immutable\n",566],["T_WHITESPACE","        ",567],["T_VARIABLE","$this",567],["T_OBJECT_OPERATOR","->",567],["T_STRING","_immutable",567],["T_WHITESPACE"," ",567],"=",["T_WHITESPACE"," ",567],["T_STRING","true",567],";",["T_WHITESPACE","\n\n        ",567],["T_COMMENT","\/\/ Return the device instance\n",569],["T_WHITESPACE","        ",570],["T_RETURN","return",570],["T_WHITESPACE"," ",570],["T_VARIABLE","$this",570],["T_OBJECT_OPERATOR","->",570],["T_STRING","_device",570],";",["T_WHITESPACE","\n    ",570],"}",["T_WHITESPACE","\n\n    ",571],["T_DOC_COMMENT","\/**\n     * Retrieve the browser type\n     *\n     * @return string $browserType\n     *\/",573],["T_WHITESPACE","\n    ",577],["T_PUBLIC","public",578],["T_WHITESPACE"," ",578],["T_FUNCTION","function",578],["T_WHITESPACE"," ",578],["T_STRING","getBrowserType",578],"(",")",["T_WHITESPACE","\n    ",578],"{",["T_WHITESPACE","\n        ",579],["T_RETURN","return",580],["T_WHITESPACE"," ",580],["T_VARIABLE","$this",580],["T_OBJECT_OPERATOR","->",580],["T_STRING","_browserType",580],";",["T_WHITESPACE","\n    ",580],"}",["T_WHITESPACE","\n\n    ",581],["T_DOC_COMMENT","\/**\n     * Set the browser \"type\"\n     *\n     * @param string $browserType\n     * @return Zend_Http_UserAgent\n     *\/",583],["T_WHITESPACE","\n    ",588],["T_PUBLIC","public",589],["T_WHITESPACE"," ",589],["T_FUNCTION","function",589],["T_WHITESPACE"," ",589],["T_STRING","setBrowserType",589],"(",["T_VARIABLE","$browserType",589],")",["T_WHITESPACE","\n    ",589],"{",["T_WHITESPACE","\n        ",590],["T_IF","if",591],["T_WHITESPACE"," ",591],"(",["T_VARIABLE","$this",591],["T_OBJECT_OPERATOR","->",591],["T_STRING","_immutable",591],")",["T_WHITESPACE"," ",591],"{",["T_WHITESPACE","\n            ",591],["T_COMMENT","#require_once 'Zend\/Http\/UserAgent\/Exception.php';\n",592],["T_WHITESPACE","            ",593],["T_THROW","throw",593],["T_WHITESPACE"," ",593],["T_NEW","new",593],["T_WHITESPACE"," ",593],["T_STRING","Zend_Http_UserAgent_Exception",593],"(",["T_WHITESPACE","\n                ",593],["T_CONSTANT_ENCAPSED_STRING","'The User-Agent device object has already been retrieved; the browser type is now immutable'",594],["T_WHITESPACE","\n            ",594],")",";",["T_WHITESPACE","\n        ",595],"}",["T_WHITESPACE","\n\n        ",596],["T_VARIABLE","$this",598],["T_OBJECT_OPERATOR","->",598],["T_STRING","_browserType",598],["T_WHITESPACE"," ",598],"=",["T_WHITESPACE"," ",598],["T_VARIABLE","$browserType",598],";",["T_WHITESPACE","\n        ",598],["T_RETURN","return",599],["T_WHITESPACE"," ",599],["T_VARIABLE","$this",599],";",["T_WHITESPACE","\n    ",599],"}",["T_WHITESPACE","\n\n    ",600],["T_DOC_COMMENT","\/**\n     * Retrieve the \"$_SERVER\" array\n     *\n     * Basically, the $_SERVER array or an equivalent container storing the\n     * data that will be introspected.\n     *\n     * If the value has not been previously set, it sets itself from the\n     * $_SERVER superglobal.\n     *\n     * @return array\n     *\/",602],["T_WHITESPACE","\n    ",612],["T_PUBLIC","public",613],["T_WHITESPACE"," ",613],["T_FUNCTION","function",613],["T_WHITESPACE"," ",613],["T_STRING","getServer",613],"(",")",["T_WHITESPACE","\n    ",613],"{",["T_WHITESPACE","\n        ",614],["T_IF","if",615],["T_WHITESPACE"," ",615],"(",["T_STRING","null",615],["T_WHITESPACE"," ",615],["T_IS_IDENTICAL","===",615],["T_WHITESPACE"," ",615],["T_VARIABLE","$this",615],["T_OBJECT_OPERATOR","->",615],["T_STRING","_server",615],")",["T_WHITESPACE"," ",615],"{",["T_WHITESPACE","\n            ",615],["T_VARIABLE","$this",616],["T_OBJECT_OPERATOR","->",616],["T_STRING","setServer",616],"(",["T_VARIABLE","$_SERVER",616],")",";",["T_WHITESPACE","\n        ",616],"}",["T_WHITESPACE","\n        ",617],["T_RETURN","return",618],["T_WHITESPACE"," ",618],["T_VARIABLE","$this",618],["T_OBJECT_OPERATOR","->",618],["T_STRING","_server",618],";",["T_WHITESPACE","\n    ",618],"}",["T_WHITESPACE","\n\n    ",619],["T_DOC_COMMENT","\/**\n     * Set the \"$_SERVER\" array\n     *\n     * Basically, the $_SERVER array or an equivalent container storing the\n     * data that will be introspected.\n     *\n     * @param  array|ArrayAccess $server\n     * @return void\n     * @throws Zend_Http_UserAgent_Exception on invalid parameter\n     *\/",621],["T_WHITESPACE","\n    ",630],["T_PUBLIC","public",631],["T_WHITESPACE"," ",631],["T_FUNCTION","function",631],["T_WHITESPACE"," ",631],["T_STRING","setServer",631],"(",["T_VARIABLE","$server",631],")",["T_WHITESPACE","\n    ",631],"{",["T_WHITESPACE","\n        ",632],["T_IF","if",633],["T_WHITESPACE"," ",633],"(",["T_VARIABLE","$this",633],["T_OBJECT_OPERATOR","->",633],["T_STRING","_immutable",633],")",["T_WHITESPACE"," ",633],"{",["T_WHITESPACE","\n            ",633],["T_COMMENT","#require_once 'Zend\/Http\/UserAgent\/Exception.php';\n",634],["T_WHITESPACE","            ",635],["T_THROW","throw",635],["T_WHITESPACE"," ",635],["T_NEW","new",635],["T_WHITESPACE"," ",635],["T_STRING","Zend_Http_UserAgent_Exception",635],"(",["T_WHITESPACE","\n                ",635],["T_CONSTANT_ENCAPSED_STRING","'The User-Agent device object has already been retrieved; the server array is now immutable'",636],["T_WHITESPACE","\n            ",636],")",";",["T_WHITESPACE","\n        ",637],"}",["T_WHITESPACE","\n\n        ",638],["T_IF","if",640],["T_WHITESPACE"," ",640],"(","!",["T_STRING","is_array",640],"(",["T_VARIABLE","$server",640],")",["T_WHITESPACE"," ",640],["T_BOOLEAN_AND","&&",640],["T_WHITESPACE"," ",640],"!",["T_VARIABLE","$server",640],["T_WHITESPACE"," ",640],["T_INSTANCEOF","instanceof",640],["T_WHITESPACE"," ",640],["T_STRING","Traversable",640],")",["T_WHITESPACE"," ",640],"{",["T_WHITESPACE","\n            ",640],["T_COMMENT","#require_once 'Zend\/Http\/UserAgent\/Exception.php';\n",641],["T_WHITESPACE","            ",642],["T_THROW","throw",642],["T_WHITESPACE"," ",642],["T_NEW","new",642],["T_WHITESPACE"," ",642],["T_STRING","Zend_Http_UserAgent_Exception",642],"(",["T_STRING","sprintf",642],"(",["T_WHITESPACE","\n                ",642],["T_CONSTANT_ENCAPSED_STRING","'Expected an array or object implementing Traversable; received %s'",643],",",["T_WHITESPACE","\n                ",643],"(",["T_STRING","is_object",644],"(",["T_VARIABLE","$server",644],")",["T_WHITESPACE"," ",644],"?",["T_WHITESPACE"," ",644],["T_STRING","get_class",644],"(",["T_VARIABLE","$server",644],")",["T_WHITESPACE"," ",644],":",["T_WHITESPACE"," ",644],["T_STRING","gettype",644],"(",["T_VARIABLE","$server",644],")",")",["T_WHITESPACE","\n            ",644],")",")",";",["T_WHITESPACE","\n        ",645],"}",["T_WHITESPACE","\n\n        ",646],["T_COMMENT","\/\/ Get an array if we don't have one\n",648],["T_WHITESPACE","        ",649],["T_IF","if",649],["T_WHITESPACE"," ",649],"(",["T_VARIABLE","$server",649],["T_WHITESPACE"," ",649],["T_INSTANCEOF","instanceof",649],["T_WHITESPACE"," ",649],["T_STRING","ArrayObject",649],")",["T_WHITESPACE"," ",649],"{",["T_WHITESPACE","\n            ",649],["T_VARIABLE","$server",650],["T_WHITESPACE"," ",650],"=",["T_WHITESPACE"," ",650],["T_VARIABLE","$server",650],["T_OBJECT_OPERATOR","->",650],["T_STRING","getArrayCopy",650],"(",")",";",["T_WHITESPACE","\n        ",650],"}",["T_WHITESPACE"," ",651],["T_ELSEIF","elseif",651],["T_WHITESPACE"," ",651],"(",["T_VARIABLE","$server",651],["T_WHITESPACE"," ",651],["T_INSTANCEOF","instanceof",651],["T_WHITESPACE"," ",651],["T_STRING","Traversable",651],")",["T_WHITESPACE"," ",651],"{",["T_WHITESPACE","\n            ",651],["T_VARIABLE","$tmp",652],["T_WHITESPACE"," ",652],"=",["T_WHITESPACE"," ",652],["T_ARRAY","array",652],"(",")",";",["T_WHITESPACE","\n            ",652],["T_FOREACH","foreach",653],["T_WHITESPACE"," ",653],"(",["T_VARIABLE","$server",653],["T_WHITESPACE"," ",653],["T_AS","as",653],["T_WHITESPACE"," ",653],["T_VARIABLE","$key",653],["T_WHITESPACE"," ",653],["T_DOUBLE_ARROW","=>",653],["T_WHITESPACE"," ",653],["T_VARIABLE","$value",653],")",["T_WHITESPACE"," ",653],"{",["T_WHITESPACE","\n                ",653],["T_VARIABLE","$tmp",654],"[",["T_VARIABLE","$key",654],"]",["T_WHITESPACE"," ",654],"=",["T_WHITESPACE"," ",654],["T_VARIABLE","$value",654],";",["T_WHITESPACE","\n            ",654],"}",["T_WHITESPACE","\n            ",655],["T_VARIABLE","$server",656],["T_WHITESPACE"," ",656],"=",["T_WHITESPACE"," ",656],["T_VARIABLE","$tmp",656],";",["T_WHITESPACE","\n            ",656],["T_UNSET","unset",657],"(",["T_VARIABLE","$tmp",657],")",";",["T_WHITESPACE","\n        ",657],"}",["T_WHITESPACE","\n\n        ",658],["T_COMMENT","\/\/ Normalize key case\n",660],["T_WHITESPACE","        ",661],["T_VARIABLE","$server",661],["T_WHITESPACE"," ",661],"=",["T_WHITESPACE"," ",661],["T_STRING","array_change_key_case",661],"(",["T_VARIABLE","$server",661],",",["T_WHITESPACE"," ",661],["T_STRING","CASE_LOWER",661],")",";",["T_WHITESPACE","\n\n        ",661],["T_VARIABLE","$this",663],["T_OBJECT_OPERATOR","->",663],["T_STRING","_server",663],["T_WHITESPACE"," ",663],"=",["T_WHITESPACE"," ",663],["T_VARIABLE","$server",663],";",["T_WHITESPACE","\n        ",663],["T_RETURN","return",664],["T_WHITESPACE"," ",664],["T_VARIABLE","$this",664],";",["T_WHITESPACE","\n    ",664],"}",["T_WHITESPACE","\n\n    ",665],["T_DOC_COMMENT","\/**\n     * Retrieve a server value\n     *\n     * @param  string $key\n     * @return mixed\n     *\/",667],["T_WHITESPACE","\n    ",672],["T_PUBLIC","public",673],["T_WHITESPACE"," ",673],["T_FUNCTION","function",673],["T_WHITESPACE"," ",673],["T_STRING","getServerValue",673],"(",["T_VARIABLE","$key",673],")",["T_WHITESPACE","\n    ",673],"{",["T_WHITESPACE","\n        ",674],["T_VARIABLE","$key",675],["T_WHITESPACE","    ",675],"=",["T_WHITESPACE"," ",675],["T_STRING","strtolower",675],"(",["T_VARIABLE","$key",675],")",";",["T_WHITESPACE","\n        ",675],["T_VARIABLE","$server",676],["T_WHITESPACE"," ",676],"=",["T_WHITESPACE"," ",676],["T_VARIABLE","$this",676],["T_OBJECT_OPERATOR","->",676],["T_STRING","getServer",676],"(",")",";",["T_WHITESPACE","\n        ",676],["T_VARIABLE","$return",677],["T_WHITESPACE"," ",677],"=",["T_WHITESPACE"," ",677],["T_STRING","null",677],";",["T_WHITESPACE","\n        ",677],["T_IF","if",678],["T_WHITESPACE"," ",678],"(",["T_ISSET","isset",678],"(",["T_VARIABLE","$server",678],"[",["T_VARIABLE","$key",678],"]",")",")",["T_WHITESPACE"," ",678],"{",["T_WHITESPACE","\n            ",678],["T_VARIABLE","$return",679],["T_WHITESPACE"," ",679],"=",["T_WHITESPACE"," ",679],["T_VARIABLE","$server",679],"[",["T_VARIABLE","$key",679],"]",";",["T_WHITESPACE","\n        ",679],"}",["T_WHITESPACE","\n        ",680],["T_UNSET","unset",681],"(",["T_VARIABLE","$server",681],")",";",["T_WHITESPACE","\n        ",681],["T_RETURN","return",682],["T_WHITESPACE"," ",682],["T_VARIABLE","$return",682],";",["T_WHITESPACE","\n    ",682],"}",["T_WHITESPACE","\n\n    ",683],["T_DOC_COMMENT","\/**\n     * Set a server value\n     *\n     * @param  string|int|float $key\n     * @param  mixed $value\n     * @return void\n     *\/",685],["T_WHITESPACE","\n    ",691],["T_PUBLIC","public",692],["T_WHITESPACE"," ",692],["T_FUNCTION","function",692],["T_WHITESPACE"," ",692],["T_STRING","setServerValue",692],"(",["T_VARIABLE","$key",692],",",["T_WHITESPACE"," ",692],["T_VARIABLE","$value",692],")",["T_WHITESPACE","\n    ",692],"{",["T_WHITESPACE","\n        ",693],["T_IF","if",694],["T_WHITESPACE"," ",694],"(",["T_VARIABLE","$this",694],["T_OBJECT_OPERATOR","->",694],["T_STRING","_immutable",694],")",["T_WHITESPACE"," ",694],"{",["T_WHITESPACE","\n            ",694],["T_COMMENT","#require_once 'Zend\/Http\/UserAgent\/Exception.php';\n",695],["T_WHITESPACE","            ",696],["T_THROW","throw",696],["T_WHITESPACE"," ",696],["T_NEW","new",696],["T_WHITESPACE"," ",696],["T_STRING","Zend_Http_UserAgent_Exception",696],"(",["T_WHITESPACE","\n                ",696],["T_CONSTANT_ENCAPSED_STRING","'The User-Agent device object has already been retrieved; the server array is now immutable'",697],["T_WHITESPACE","\n            ",697],")",";",["T_WHITESPACE","\n        ",698],"}",["T_WHITESPACE","\n\n        ",699],["T_VARIABLE","$server",701],["T_WHITESPACE"," ",701],"=",["T_WHITESPACE"," ",701],["T_VARIABLE","$this",701],["T_OBJECT_OPERATOR","->",701],["T_STRING","getServer",701],"(",")",";",["T_WHITESPACE"," ",701],["T_COMMENT","\/\/ ensure it's been initialized\n",701],["T_WHITESPACE","        ",702],["T_VARIABLE","$key",702],["T_WHITESPACE","    ",702],"=",["T_WHITESPACE"," ",702],["T_STRING","strtolower",702],"(",["T_VARIABLE","$key",702],")",";",["T_WHITESPACE","\n        ",702],["T_VARIABLE","$this",703],["T_OBJECT_OPERATOR","->",703],["T_STRING","_server",703],"[",["T_VARIABLE","$key",703],"]",["T_WHITESPACE"," ",703],"=",["T_WHITESPACE"," ",703],["T_VARIABLE","$value",703],";",["T_WHITESPACE","\n        ",703],["T_RETURN","return",704],["T_WHITESPACE"," ",704],["T_VARIABLE","$this",704],";",["T_WHITESPACE","\n    ",704],"}",["T_WHITESPACE","\n\n    ",705],["T_DOC_COMMENT","\/**\n     * Set plugin loader\n     *\n     * @param  string $type Type of plugin loader; one of 'storage', (?)\n     * @param  string|Zend_Loader_PluginLoader $loader\n     * @return Zend_Http_UserAgent\n     *\/",707],["T_WHITESPACE","\n    ",713],["T_PUBLIC","public",714],["T_WHITESPACE"," ",714],["T_FUNCTION","function",714],["T_WHITESPACE"," ",714],["T_STRING","setPluginLoader",714],"(",["T_VARIABLE","$type",714],",",["T_WHITESPACE"," ",714],["T_VARIABLE","$loader",714],")",["T_WHITESPACE","\n    ",714],"{",["T_WHITESPACE","\n        ",715],["T_VARIABLE","$type",716],["T_WHITESPACE","       ",716],"=",["T_WHITESPACE"," ",716],["T_VARIABLE","$this",716],["T_OBJECT_OPERATOR","->",716],["T_STRING","_validateLoaderType",716],"(",["T_VARIABLE","$type",716],")",";",["T_WHITESPACE","\n\n        ",716],["T_IF","if",718],["T_WHITESPACE"," ",718],"(",["T_STRING","is_string",718],"(",["T_VARIABLE","$loader",718],")",")",["T_WHITESPACE"," ",718],"{",["T_WHITESPACE","\n            ",718],["T_IF","if",719],["T_WHITESPACE"," ",719],"(","!",["T_STRING","class_exists",719],"(",["T_VARIABLE","$loader",719],")",")",["T_WHITESPACE"," ",719],"{",["T_WHITESPACE","\n                ",719],["T_COMMENT","#require_once 'Zend\/Loader.php';\n",720],["T_WHITESPACE","                ",721],["T_STRING","Zend_Loader",721],["T_DOUBLE_COLON","::",721],["T_STRING","loadClass",721],"(",["T_VARIABLE","$loader",721],")",";",["T_WHITESPACE","\n            ",721],"}",["T_WHITESPACE","\n            ",722],["T_VARIABLE","$loader",723],["T_WHITESPACE"," ",723],"=",["T_WHITESPACE"," ",723],["T_NEW","new",723],["T_WHITESPACE"," ",723],["T_VARIABLE","$loader",723],"(",")",";",["T_WHITESPACE","\n        ",723],"}",["T_WHITESPACE"," ",724],["T_ELSEIF","elseif",724],["T_WHITESPACE"," ",724],"(","!",["T_STRING","is_object",724],"(",["T_VARIABLE","$loader",724],")",")",["T_WHITESPACE"," ",724],"{",["T_WHITESPACE","\n            ",724],["T_COMMENT","#require_once 'Zend\/Http\/UserAgent\/Exception.php';\n",725],["T_WHITESPACE","            ",726],["T_THROW","throw",726],["T_WHITESPACE"," ",726],["T_NEW","new",726],["T_WHITESPACE"," ",726],["T_STRING","Zend_Http_UserAgent_Exception",726],"(",["T_STRING","sprintf",726],"(",["T_WHITESPACE","\n                ",726],["T_CONSTANT_ENCAPSED_STRING","'Expected a plugin loader class or object; received %s'",727],",",["T_WHITESPACE","\n                ",727],["T_STRING","gettype",728],"(",["T_VARIABLE","$loader",728],")",["T_WHITESPACE","\n            ",728],")",")",";",["T_WHITESPACE","\n        ",729],"}",["T_WHITESPACE","\n        ",730],["T_IF","if",731],["T_WHITESPACE"," ",731],"(","!",["T_VARIABLE","$loader",731],["T_WHITESPACE"," ",731],["T_INSTANCEOF","instanceof",731],["T_WHITESPACE"," ",731],["T_STRING","Zend_Loader_PluginLoader",731],")",["T_WHITESPACE"," ",731],"{",["T_WHITESPACE","\n            ",731],["T_COMMENT","#require_once 'Zend\/Http\/UserAgent\/Exception.php';\n",732],["T_WHITESPACE","            ",733],["T_THROW","throw",733],["T_WHITESPACE"," ",733],["T_NEW","new",733],["T_WHITESPACE"," ",733],["T_STRING","Zend_Http_UserAgent_Exception",733],"(",["T_STRING","sprintf",733],"(",["T_WHITESPACE","\n                ",733],["T_CONSTANT_ENCAPSED_STRING","'Expected an object extending Zend_Loader_PluginLoader; received %s'",734],",",["T_WHITESPACE","\n                ",734],["T_STRING","get_class",735],"(",["T_VARIABLE","$loader",735],")",["T_WHITESPACE","\n            ",735],")",")",";",["T_WHITESPACE","\n        ",736],"}",["T_WHITESPACE","\n\n        ",737],["T_VARIABLE","$basePrefix",739],["T_WHITESPACE"," ",739],"=",["T_WHITESPACE"," ",739],["T_CONSTANT_ENCAPSED_STRING","'Zend_Http_UserAgent_'",739],";",["T_WHITESPACE","\n        ",739],["T_VARIABLE","$basePath",740],["T_WHITESPACE","   ",740],"=",["T_WHITESPACE"," ",740],["T_CONSTANT_ENCAPSED_STRING","'Zend\/Http\/UserAgent\/'",740],";",["T_WHITESPACE","\n        ",740],["T_SWITCH","switch",741],["T_WHITESPACE"," ",741],"(",["T_VARIABLE","$type",741],")",["T_WHITESPACE"," ",741],"{",["T_WHITESPACE","\n            ",741],["T_CASE","case",742],["T_WHITESPACE"," ",742],["T_CONSTANT_ENCAPSED_STRING","'storage'",742],":",["T_WHITESPACE","\n                ",742],["T_VARIABLE","$prefix",743],["T_WHITESPACE"," ",743],"=",["T_WHITESPACE"," ",743],["T_VARIABLE","$basePrefix",743],["T_WHITESPACE"," ",743],".",["T_WHITESPACE"," ",743],["T_CONSTANT_ENCAPSED_STRING","'Storage'",743],";",["T_WHITESPACE","\n                ",743],["T_VARIABLE","$path",744],["T_WHITESPACE","   ",744],"=",["T_WHITESPACE"," ",744],["T_VARIABLE","$basePath",744],["T_WHITESPACE","   ",744],".",["T_WHITESPACE"," ",744],["T_CONSTANT_ENCAPSED_STRING","'Storage'",744],";",["T_WHITESPACE","\n                ",744],["T_BREAK","break",745],";",["T_WHITESPACE","\n            ",745],["T_CASE","case",746],["T_WHITESPACE"," ",746],["T_CONSTANT_ENCAPSED_STRING","'device'",746],":",["T_WHITESPACE","\n                ",746],["T_VARIABLE","$prefix",747],["T_WHITESPACE"," ",747],"=",["T_WHITESPACE"," ",747],["T_VARIABLE","$basePrefix",747],";",["T_WHITESPACE","\n                ",747],["T_VARIABLE","$path",748],["T_WHITESPACE","   ",748],"=",["T_WHITESPACE"," ",748],["T_VARIABLE","$basePath",748],";",["T_WHITESPACE","\n                ",748],["T_BREAK","break",749],";",["T_WHITESPACE","\n        ",749],"}",["T_WHITESPACE","\n        ",750],["T_VARIABLE","$loader",751],["T_OBJECT_OPERATOR","->",751],["T_STRING","addPrefixPath",751],"(",["T_VARIABLE","$prefix",751],",",["T_WHITESPACE"," ",751],["T_VARIABLE","$path",751],")",";",["T_WHITESPACE","\n        ",751],["T_VARIABLE","$this",752],["T_OBJECT_OPERATOR","->",752],["T_STRING","_loaders",752],"[",["T_VARIABLE","$type",752],"]",["T_WHITESPACE"," ",752],"=",["T_WHITESPACE"," ",752],["T_VARIABLE","$loader",752],";",["T_WHITESPACE","\n        ",752],["T_RETURN","return",753],["T_WHITESPACE"," ",753],["T_VARIABLE","$this",753],";",["T_WHITESPACE","\n    ",753],"}",["T_WHITESPACE","\n\n    ",754],["T_DOC_COMMENT","\/**\n     * Get a plugin loader\n     *\n     * @param  string $type A valid plugin loader type; see {@link $_loaderTypes}\n     * @return Zend_Loader_PluginLoader\n     *\/",756],["T_WHITESPACE","\n    ",761],["T_PUBLIC","public",762],["T_WHITESPACE"," ",762],["T_FUNCTION","function",762],["T_WHITESPACE"," ",762],["T_STRING","getPluginLoader",762],"(",["T_VARIABLE","$type",762],")",["T_WHITESPACE","\n    ",762],"{",["T_WHITESPACE","\n        ",763],["T_VARIABLE","$type",764],["T_WHITESPACE"," ",764],"=",["T_WHITESPACE"," ",764],["T_VARIABLE","$this",764],["T_OBJECT_OPERATOR","->",764],["T_STRING","_validateLoaderType",764],"(",["T_VARIABLE","$type",764],")",";",["T_WHITESPACE","\n        ",764],["T_IF","if",765],["T_WHITESPACE"," ",765],"(","!",["T_ISSET","isset",765],"(",["T_VARIABLE","$this",765],["T_OBJECT_OPERATOR","->",765],["T_STRING","_loaders",765],"[",["T_VARIABLE","$type",765],"]",")",")",["T_WHITESPACE"," ",765],"{",["T_WHITESPACE","\n            ",765],["T_COMMENT","#require_once 'Zend\/Loader\/PluginLoader.php';\n",766],["T_WHITESPACE","            ",767],["T_VARIABLE","$this",767],["T_OBJECT_OPERATOR","->",767],["T_STRING","setPluginLoader",767],"(",["T_VARIABLE","$type",767],",",["T_WHITESPACE"," ",767],["T_NEW","new",767],["T_WHITESPACE"," ",767],["T_STRING","Zend_Loader_PluginLoader",767],"(",")",")",";",["T_WHITESPACE","\n        ",767],"}",["T_WHITESPACE","\n        ",768],["T_RETURN","return",769],["T_WHITESPACE"," ",769],["T_VARIABLE","$this",769],["T_OBJECT_OPERATOR","->",769],["T_STRING","_loaders",769],"[",["T_VARIABLE","$type",769],"]",";",["T_WHITESPACE","\n    ",769],"}",["T_WHITESPACE","\n\n    ",770],["T_DOC_COMMENT","\/**\n     * Validate a plugin loader type\n     *\n     * Verifies that it is in {@link $_loaderTypes}, and returns a normalized\n     * version of the type.\n     *\n     * @param  string $type\n     * @return string\n     * @throws Zend_Http_UserAgent_Exception on invalid type\n     *\/",772],["T_WHITESPACE","\n    ",781],["T_PROTECTED","protected",782],["T_WHITESPACE"," ",782],["T_FUNCTION","function",782],["T_WHITESPACE"," ",782],["T_STRING","_validateLoaderType",782],"(",["T_VARIABLE","$type",782],")",["T_WHITESPACE","\n    ",782],"{",["T_WHITESPACE","\n        ",783],["T_VARIABLE","$type",784],["T_WHITESPACE"," ",784],"=",["T_WHITESPACE"," ",784],["T_STRING","strtolower",784],"(",["T_VARIABLE","$type",784],")",";",["T_WHITESPACE","\n        ",784],["T_IF","if",785],["T_WHITESPACE"," ",785],"(","!",["T_STRING","in_array",785],"(",["T_VARIABLE","$type",785],",",["T_WHITESPACE"," ",785],["T_VARIABLE","$this",785],["T_OBJECT_OPERATOR","->",785],["T_STRING","_loaderTypes",785],")",")",["T_WHITESPACE"," ",785],"{",["T_WHITESPACE","\n            ",785],["T_VARIABLE","$types",786],["T_WHITESPACE"," ",786],"=",["T_WHITESPACE"," ",786],["T_STRING","implode",786],"(",["T_CONSTANT_ENCAPSED_STRING","', '",786],",",["T_WHITESPACE"," ",786],["T_VARIABLE","$this",786],["T_OBJECT_OPERATOR","->",786],["T_STRING","_loaderTypes",786],")",";",["T_WHITESPACE","\n\n            ",786],["T_COMMENT","#require_once 'Zend\/Http\/UserAgent\/Exception.php';\n",788],["T_WHITESPACE","            ",789],["T_THROW","throw",789],["T_WHITESPACE"," ",789],["T_NEW","new",789],["T_WHITESPACE"," ",789],["T_STRING","Zend_Http_UserAgent_Exception",789],"(",["T_STRING","sprintf",789],"(",["T_WHITESPACE","\n                ",789],["T_CONSTANT_ENCAPSED_STRING","'Expected one of \"%s\" for plugin loader type; received \"%s\"'",790],",",["T_WHITESPACE","\n                ",790],["T_VARIABLE","$types",791],",",["T_WHITESPACE","\n                ",791],["T_STRING_CAST","(string)",792],["T_WHITESPACE"," ",792],["T_VARIABLE","$type",792],["T_WHITESPACE","\n            ",792],")",")",";",["T_WHITESPACE","\n        ",793],"}",["T_WHITESPACE","\n        ",794],["T_RETURN","return",795],["T_WHITESPACE"," ",795],["T_VARIABLE","$type",795],";",["T_WHITESPACE","\n    ",795],"}",["T_WHITESPACE","\n\n    ",796],["T_DOC_COMMENT","\/**\n     * Run the identification sequence to match the right browser type according to the\n     * user agent\n     *\n     * @return Zend_Http_UserAgent_Result\n     *\/",798],["T_WHITESPACE","\n    ",803],["T_PROTECTED","protected",804],["T_WHITESPACE"," ",804],["T_FUNCTION","function",804],["T_WHITESPACE"," ",804],["T_STRING","_matchUserAgent",804],"(",")",["T_WHITESPACE","\n    ",804],"{",["T_WHITESPACE","\n        ",805],["T_VARIABLE","$type",806],["T_WHITESPACE"," ",806],"=",["T_WHITESPACE"," ",806],["T_STRING","self",806],["T_DOUBLE_COLON","::",806],["T_STRING","DEFAULT_BROWSER_TYPE",806],";",["T_WHITESPACE","\n\n        ",806],["T_COMMENT","\/\/ If we have no identification sequence, just return the default type\n",808],["T_WHITESPACE","        ",809],["T_IF","if",809],["T_WHITESPACE"," ",809],"(",["T_EMPTY","empty",809],"(",["T_VARIABLE","$this",809],["T_OBJECT_OPERATOR","->",809],["T_STRING","_config",809],"[",["T_CONSTANT_ENCAPSED_STRING","'identification_sequence'",809],"]",")",")",["T_WHITESPACE"," ",809],"{",["T_WHITESPACE","\n            ",809],["T_RETURN","return",810],["T_WHITESPACE"," ",810],["T_VARIABLE","$type",810],";",["T_WHITESPACE","\n        ",810],"}",["T_WHITESPACE","\n\n        ",811],["T_COMMENT","\/\/ Get sequence against which to match\n",813],["T_WHITESPACE","        ",814],["T_VARIABLE","$sequence",814],["T_WHITESPACE"," ",814],"=",["T_WHITESPACE"," ",814],["T_STRING","explode",814],"(",["T_CONSTANT_ENCAPSED_STRING","','",814],",",["T_WHITESPACE"," ",814],["T_VARIABLE","$this",814],["T_OBJECT_OPERATOR","->",814],["T_STRING","_config",814],"[",["T_CONSTANT_ENCAPSED_STRING","'identification_sequence'",814],"]",")",";",["T_WHITESPACE","\n\n        ",814],["T_COMMENT","\/\/ If a browser type is already configured, push that to the front of the list\n",816],["T_WHITESPACE","        ",817],["T_IF","if",817],["T_WHITESPACE"," ",817],"(",["T_STRING","null",817],["T_WHITESPACE"," ",817],["T_IS_NOT_IDENTICAL","!==",817],["T_WHITESPACE"," ",817],"(",["T_VARIABLE","$browserType",817],["T_WHITESPACE"," ",817],"=",["T_WHITESPACE"," ",817],["T_VARIABLE","$this",817],["T_OBJECT_OPERATOR","->",817],["T_STRING","getBrowserType",817],"(",")",")",")",["T_WHITESPACE"," ",817],"{",["T_WHITESPACE","\n            ",817],["T_STRING","array_unshift",818],"(",["T_VARIABLE","$sequence",818],",",["T_WHITESPACE"," ",818],["T_VARIABLE","$browserType",818],")",";",["T_WHITESPACE","\n        ",818],"}",["T_WHITESPACE","\n\n        ",819],["T_COMMENT","\/\/ Append the default browser type to the list if not alread in the list\n",821],["T_WHITESPACE","        ",822],["T_IF","if",822],["T_WHITESPACE"," ",822],"(","!",["T_STRING","in_array",822],"(",["T_VARIABLE","$type",822],",",["T_WHITESPACE"," ",822],["T_VARIABLE","$sequence",822],")",")",["T_WHITESPACE"," ",822],"{",["T_WHITESPACE","\n            ",822],["T_VARIABLE","$sequence",823],"[","]",["T_WHITESPACE"," ",823],"=",["T_WHITESPACE"," ",823],["T_VARIABLE","$type",823],";",["T_WHITESPACE","\n        ",823],"}",["T_WHITESPACE","\n\n        ",824],["T_COMMENT","\/\/ Test each type until we find a match\n",826],["T_WHITESPACE","        ",827],["T_FOREACH","foreach",827],["T_WHITESPACE"," ",827],"(",["T_VARIABLE","$sequence",827],["T_WHITESPACE"," ",827],["T_AS","as",827],["T_WHITESPACE"," ",827],["T_VARIABLE","$browserType",827],")",["T_WHITESPACE"," ",827],"{",["T_WHITESPACE","\n            ",827],["T_VARIABLE","$browserType",828],["T_WHITESPACE"," ",828],"=",["T_WHITESPACE"," ",828],["T_STRING","trim",828],"(",["T_VARIABLE","$browserType",828],")",";",["T_WHITESPACE","\n            ",828],["T_VARIABLE","$className",829],["T_WHITESPACE","   ",829],"=",["T_WHITESPACE"," ",829],["T_VARIABLE","$this",829],["T_OBJECT_OPERATOR","->",829],["T_STRING","_getUserAgentDevice",829],"(",["T_VARIABLE","$browserType",829],")",";",["T_WHITESPACE","\n\n            ",829],["T_COMMENT","\/\/ Attempt to match this device class\n",831],["T_WHITESPACE","            ",832],["T_IF","if",832],["T_WHITESPACE"," ",832],"(",["T_VARIABLE","$this",832],["T_OBJECT_OPERATOR","->",832],["T_STRING","_match",832],"(",["T_VARIABLE","$className",832],")",")",["T_WHITESPACE"," ",832],"{",["T_WHITESPACE","\n                ",832],["T_VARIABLE","$type",833],["T_WHITESPACE"," ",833],"=",["T_WHITESPACE"," ",833],["T_VARIABLE","$browserType",833],";",["T_WHITESPACE","\n                ",833],["T_VARIABLE","$this",834],["T_OBJECT_OPERATOR","->",834],["T_STRING","_browserTypeClass",834],"[",["T_VARIABLE","$type",834],"]",["T_WHITESPACE"," ",834],"=",["T_WHITESPACE"," ",834],["T_VARIABLE","$className",834],";",["T_WHITESPACE","\n                ",834],["T_BREAK","break",835],";",["T_WHITESPACE","\n            ",835],"}",["T_WHITESPACE","\n        ",836],"}",["T_WHITESPACE","\n\n        ",837],["T_RETURN","return",839],["T_WHITESPACE"," ",839],["T_VARIABLE","$type",839],";",["T_WHITESPACE","\n    ",839],"}",["T_WHITESPACE","\n\n    ",840],["T_DOC_COMMENT","\/**\n     * Creates device object instance\n     *\n     * @return void\n     *\/",842],["T_WHITESPACE","\n    ",846],["T_PROTECTED","protected",847],["T_WHITESPACE"," ",847],["T_FUNCTION","function",847],["T_WHITESPACE"," ",847],["T_STRING","_createDevice",847],"(",")",["T_WHITESPACE","\n    ",847],"{",["T_WHITESPACE","\n        ",848],["T_VARIABLE","$browserType",849],["T_WHITESPACE"," ",849],"=",["T_WHITESPACE"," ",849],["T_VARIABLE","$this",849],["T_OBJECT_OPERATOR","->",849],["T_STRING","getBrowserType",849],"(",")",";",["T_WHITESPACE","\n        ",849],["T_VARIABLE","$classname",850],["T_WHITESPACE","   ",850],"=",["T_WHITESPACE"," ",850],["T_VARIABLE","$this",850],["T_OBJECT_OPERATOR","->",850],["T_STRING","_getUserAgentDevice",850],"(",["T_VARIABLE","$browserType",850],")",";",["T_WHITESPACE","\n        ",850],["T_VARIABLE","$this",851],["T_OBJECT_OPERATOR","->",851],["T_STRING","_device",851],["T_WHITESPACE"," ",851],"=",["T_WHITESPACE"," ",851],["T_NEW","new",851],["T_WHITESPACE"," ",851],["T_VARIABLE","$classname",851],"(",["T_VARIABLE","$this",851],["T_OBJECT_OPERATOR","->",851],["T_STRING","getUserAgent",851],"(",")",",",["T_WHITESPACE"," ",851],["T_VARIABLE","$this",851],["T_OBJECT_OPERATOR","->",851],["T_STRING","getServer",851],"(",")",",",["T_WHITESPACE"," ",851],["T_VARIABLE","$this",851],["T_OBJECT_OPERATOR","->",851],["T_STRING","getConfig",851],"(",")",")",";",["T_WHITESPACE","\n    ",851],"}",["T_WHITESPACE","\n",852],"}",["T_WHITESPACE","\n",853]]