[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Zend Framework\n *\n * LICENSE\n *\n * This source file is subject to the new BSD license that is bundled\n * with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/framework.zend.com\/license\/new-bsd\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@zend.com so we can send you a copy immediately.\n *\n * @category   Zend\n * @package    Zend_Search_Lucene\n * @copyright  Copyright (c) 2005-2015 Zend Technologies USA Inc. (http:\/\/www.zend.com)\n * @license    http:\/\/framework.zend.com\/license\/new-bsd     New BSD License\n * @version    $Id$\n *\/",2],["T_WHITESPACE","\n\n\n",20],["T_DOC_COMMENT","\/** User land classes and interfaces turned on by Zend\/Search\/Lucene.php file inclusion. *\/",23],["T_WHITESPACE","\n",23],["T_DOC_COMMENT","\/** @todo Section should be removed with ZF 2.0 release as obsolete                      *\/",24],["T_WHITESPACE","\n\n",24],["T_DOC_COMMENT","\/** Zend_Search_Lucene_Document_Html *\/",26],["T_WHITESPACE","\n",26],["T_COMMENT","#require_once 'Zend\/Search\/Lucene\/Document\/Html.php';\n",27],["T_WHITESPACE","\n",28],["T_DOC_COMMENT","\/** Zend_Search_Lucene_Document_Docx *\/",29],["T_WHITESPACE","\n",29],["T_COMMENT","#require_once 'Zend\/Search\/Lucene\/Document\/Docx.php';\n",30],["T_WHITESPACE","\n",31],["T_DOC_COMMENT","\/** Zend_Search_Lucene_Document_Pptx *\/",32],["T_WHITESPACE","\n",32],["T_COMMENT","#require_once 'Zend\/Search\/Lucene\/Document\/Pptx.php';\n",33],["T_WHITESPACE","\n",34],["T_DOC_COMMENT","\/** Zend_Search_Lucene_Document_Xlsx *\/",35],["T_WHITESPACE","\n",35],["T_COMMENT","#require_once 'Zend\/Search\/Lucene\/Document\/Xlsx.php';\n",36],["T_WHITESPACE","\n",37],["T_DOC_COMMENT","\/** Zend_Search_Lucene_Search_QueryParser *\/",38],["T_WHITESPACE","\n",38],["T_COMMENT","#require_once 'Zend\/Search\/Lucene\/Search\/QueryParser.php';\n",39],["T_WHITESPACE","\n",40],["T_DOC_COMMENT","\/** Zend_Search_Lucene_Search_QueryHit *\/",41],["T_WHITESPACE","\n",41],["T_COMMENT","#require_once 'Zend\/Search\/Lucene\/Search\/QueryHit.php';\n",42],["T_WHITESPACE","\n",43],["T_DOC_COMMENT","\/** Zend_Search_Lucene_Analysis_Analyzer *\/",44],["T_WHITESPACE","\n",44],["T_COMMENT","#require_once 'Zend\/Search\/Lucene\/Analysis\/Analyzer.php';\n",45],["T_WHITESPACE","\n",46],["T_DOC_COMMENT","\/** Zend_Search_Lucene_Search_Query_Term *\/",47],["T_WHITESPACE","\n",47],["T_COMMENT","#require_once 'Zend\/Search\/Lucene\/Search\/Query\/Term.php';\n",48],["T_WHITESPACE","\n",49],["T_DOC_COMMENT","\/** Zend_Search_Lucene_Search_Query_Phrase *\/",50],["T_WHITESPACE","\n",50],["T_COMMENT","#require_once 'Zend\/Search\/Lucene\/Search\/Query\/Phrase.php';\n",51],["T_WHITESPACE","\n",52],["T_DOC_COMMENT","\/** Zend_Search_Lucene_Search_Query_MultiTerm *\/",53],["T_WHITESPACE","\n",53],["T_COMMENT","#require_once 'Zend\/Search\/Lucene\/Search\/Query\/MultiTerm.php';\n",54],["T_WHITESPACE","\n",55],["T_DOC_COMMENT","\/** Zend_Search_Lucene_Search_Query_Wildcard *\/",56],["T_WHITESPACE","\n",56],["T_COMMENT","#require_once 'Zend\/Search\/Lucene\/Search\/Query\/Wildcard.php';\n",57],["T_WHITESPACE","\n",58],["T_DOC_COMMENT","\/** Zend_Search_Lucene_Search_Query_Range *\/",59],["T_WHITESPACE","\n",59],["T_COMMENT","#require_once 'Zend\/Search\/Lucene\/Search\/Query\/Range.php';\n",60],["T_WHITESPACE","\n",61],["T_DOC_COMMENT","\/** Zend_Search_Lucene_Search_Query_Fuzzy *\/",62],["T_WHITESPACE","\n",62],["T_COMMENT","#require_once 'Zend\/Search\/Lucene\/Search\/Query\/Fuzzy.php';\n",63],["T_WHITESPACE","\n",64],["T_DOC_COMMENT","\/** Zend_Search_Lucene_Search_Query_Boolean *\/",65],["T_WHITESPACE","\n",65],["T_COMMENT","#require_once 'Zend\/Search\/Lucene\/Search\/Query\/Boolean.php';\n",66],["T_WHITESPACE","\n",67],["T_DOC_COMMENT","\/** Zend_Search_Lucene_Search_Query_Empty *\/",68],["T_WHITESPACE","\n",68],["T_COMMENT","#require_once 'Zend\/Search\/Lucene\/Search\/Query\/Empty.php';\n",69],["T_WHITESPACE","\n",70],["T_DOC_COMMENT","\/** Zend_Search_Lucene_Search_Query_Insignificant *\/",71],["T_WHITESPACE","\n",71],["T_COMMENT","#require_once 'Zend\/Search\/Lucene\/Search\/Query\/Insignificant.php';\n",72],["T_WHITESPACE","\n\n\n\n",73],["T_DOC_COMMENT","\/** Internally used classes *\/",77],["T_WHITESPACE","\n\n",77],["T_DOC_COMMENT","\/** Zend_Search_Lucene_Interface *\/",79],["T_WHITESPACE","\n",79],["T_COMMENT","#require_once 'Zend\/Search\/Lucene\/Interface.php';\n",80],["T_WHITESPACE","\n",81],["T_DOC_COMMENT","\/** Zend_Search_Lucene_Index_SegmentInfo *\/",82],["T_WHITESPACE","\n",82],["T_COMMENT","#require_once 'Zend\/Search\/Lucene\/Index\/SegmentInfo.php';\n",83],["T_WHITESPACE","\n",84],["T_DOC_COMMENT","\/** Zend_Search_Lucene_LockManager *\/",85],["T_WHITESPACE","\n",85],["T_COMMENT","#require_once 'Zend\/Search\/Lucene\/LockManager.php';\n",86],["T_WHITESPACE","\n\n",87],["T_DOC_COMMENT","\/**\n * @category   Zend\n * @package    Zend_Search_Lucene\n * @copyright  Copyright (c) 2005-2015 Zend Technologies USA Inc. (http:\/\/www.zend.com)\n * @license    http:\/\/framework.zend.com\/license\/new-bsd     New BSD License\n *\/",89],["T_WHITESPACE","\n",94],["T_CLASS","class",95],["T_WHITESPACE"," ",95],["T_STRING","Zend_Search_Lucene",95],["T_WHITESPACE"," ",95],["T_IMPLEMENTS","implements",95],["T_WHITESPACE"," ",95],["T_STRING","Zend_Search_Lucene_Interface",95],["T_WHITESPACE","\n",95],"{",["T_WHITESPACE","\n    ",96],["T_DOC_COMMENT","\/**\n     * Default field name for search\n     *\n     * Null means search through all fields\n     *\n     * @var string\n     *\/",97],["T_WHITESPACE","\n    ",103],["T_PRIVATE","private",104],["T_WHITESPACE"," ",104],["T_STATIC","static",104],["T_WHITESPACE"," ",104],["T_VARIABLE","$_defaultSearchField",104],["T_WHITESPACE"," ",104],"=",["T_WHITESPACE"," ",104],["T_STRING","null",104],";",["T_WHITESPACE","\n\n    ",104],["T_DOC_COMMENT","\/**\n     * Result set limit\n     *\n     * 0 means no limit\n     *\n     * @var integer\n     *\/",106],["T_WHITESPACE","\n    ",112],["T_PRIVATE","private",113],["T_WHITESPACE"," ",113],["T_STATIC","static",113],["T_WHITESPACE"," ",113],["T_VARIABLE","$_resultSetLimit",113],["T_WHITESPACE"," ",113],"=",["T_WHITESPACE"," ",113],["T_LNUMBER","0",113],";",["T_WHITESPACE","\n\n    ",113],["T_DOC_COMMENT","\/**\n     * Terms per query limit\n     *\n     * 0 means no limit\n     *\n     * @var integer\n     *\/",115],["T_WHITESPACE","\n    ",121],["T_PRIVATE","private",122],["T_WHITESPACE"," ",122],["T_STATIC","static",122],["T_WHITESPACE"," ",122],["T_VARIABLE","$_termsPerQueryLimit",122],["T_WHITESPACE"," ",122],"=",["T_WHITESPACE"," ",122],["T_LNUMBER","1024",122],";",["T_WHITESPACE","\n\n    ",122],["T_DOC_COMMENT","\/**\n     * File system adapter.\n     *\n     * @var Zend_Search_Lucene_Storage_Directory\n     *\/",124],["T_WHITESPACE","\n    ",128],["T_PRIVATE","private",129],["T_WHITESPACE"," ",129],["T_VARIABLE","$_directory",129],["T_WHITESPACE"," ",129],"=",["T_WHITESPACE"," ",129],["T_STRING","null",129],";",["T_WHITESPACE","\n\n    ",129],["T_DOC_COMMENT","\/**\n     * File system adapter closing option\n     *\n     * @var boolean\n     *\/",131],["T_WHITESPACE","\n    ",135],["T_PRIVATE","private",136],["T_WHITESPACE"," ",136],["T_VARIABLE","$_closeDirOnExit",136],["T_WHITESPACE"," ",136],"=",["T_WHITESPACE"," ",136],["T_STRING","true",136],";",["T_WHITESPACE","\n\n    ",136],["T_DOC_COMMENT","\/**\n     * Writer for this index, not instantiated unless required.\n     *\n     * @var Zend_Search_Lucene_Index_Writer\n     *\/",138],["T_WHITESPACE","\n    ",142],["T_PRIVATE","private",143],["T_WHITESPACE"," ",143],["T_VARIABLE","$_writer",143],["T_WHITESPACE"," ",143],"=",["T_WHITESPACE"," ",143],["T_STRING","null",143],";",["T_WHITESPACE","\n\n    ",143],["T_DOC_COMMENT","\/**\n     * Array of Zend_Search_Lucene_Index_SegmentInfo objects for current version of index.\n     *\n     * @var array Zend_Search_Lucene_Index_SegmentInfo\n     *\/",145],["T_WHITESPACE","\n    ",149],["T_PRIVATE","private",150],["T_WHITESPACE"," ",150],["T_VARIABLE","$_segmentInfos",150],["T_WHITESPACE"," ",150],"=",["T_WHITESPACE"," ",150],["T_ARRAY","array",150],"(",")",";",["T_WHITESPACE","\n\n    ",150],["T_DOC_COMMENT","\/**\n     * Number of documents in this index.\n     *\n     * @var integer\n     *\/",152],["T_WHITESPACE","\n    ",156],["T_PRIVATE","private",157],["T_WHITESPACE"," ",157],["T_VARIABLE","$_docCount",157],["T_WHITESPACE"," ",157],"=",["T_WHITESPACE"," ",157],["T_LNUMBER","0",157],";",["T_WHITESPACE","\n\n    ",157],["T_DOC_COMMENT","\/**\n     * Flag for index changes\n     *\n     * @var boolean\n     *\/",159],["T_WHITESPACE","\n    ",163],["T_PRIVATE","private",164],["T_WHITESPACE"," ",164],["T_VARIABLE","$_hasChanges",164],["T_WHITESPACE"," ",164],"=",["T_WHITESPACE"," ",164],["T_STRING","false",164],";",["T_WHITESPACE","\n\n\n    ",164],["T_DOC_COMMENT","\/**\n     * Signal, that index is already closed, changes are fixed and resources are cleaned up\n     *\n     * @var boolean\n     *\/",167],["T_WHITESPACE","\n    ",171],["T_PRIVATE","private",172],["T_WHITESPACE"," ",172],["T_VARIABLE","$_closed",172],["T_WHITESPACE"," ",172],"=",["T_WHITESPACE"," ",172],["T_STRING","false",172],";",["T_WHITESPACE","\n\n    ",172],["T_DOC_COMMENT","\/**\n     * Number of references to the index object\n     *\n     * @var integer\n     *\/",174],["T_WHITESPACE","\n    ",178],["T_PRIVATE","private",179],["T_WHITESPACE"," ",179],["T_VARIABLE","$_refCount",179],["T_WHITESPACE"," ",179],"=",["T_WHITESPACE"," ",179],["T_LNUMBER","0",179],";",["T_WHITESPACE","\n\n    ",179],["T_DOC_COMMENT","\/**\n     * Current segment generation\n     *\n     * @var integer\n     *\/",181],["T_WHITESPACE","\n    ",185],["T_PRIVATE","private",186],["T_WHITESPACE"," ",186],["T_VARIABLE","$_generation",186],";",["T_WHITESPACE","\n\n    ",186],["T_CONST","const",188],["T_WHITESPACE"," ",188],["T_STRING","FORMAT_PRE_2_1",188],["T_WHITESPACE"," ",188],"=",["T_WHITESPACE"," ",188],["T_LNUMBER","0",188],";",["T_WHITESPACE","\n    ",188],["T_CONST","const",189],["T_WHITESPACE"," ",189],["T_STRING","FORMAT_2_1",189],["T_WHITESPACE","     ",189],"=",["T_WHITESPACE"," ",189],["T_LNUMBER","1",189],";",["T_WHITESPACE","\n    ",189],["T_CONST","const",190],["T_WHITESPACE"," ",190],["T_STRING","FORMAT_2_3",190],["T_WHITESPACE","     ",190],"=",["T_WHITESPACE"," ",190],["T_LNUMBER","2",190],";",["T_WHITESPACE","\n\n\n    ",190],["T_DOC_COMMENT","\/**\n     * Index format version\n     *\n     * @var integer\n     *\/",193],["T_WHITESPACE","\n    ",197],["T_PRIVATE","private",198],["T_WHITESPACE"," ",198],["T_VARIABLE","$_formatVersion",198],";",["T_WHITESPACE","\n\n    ",198],["T_DOC_COMMENT","\/**\n     * Create index\n     *\n     * @param mixed $directory\n     * @return Zend_Search_Lucene_Interface\n     *\/",200],["T_WHITESPACE","\n    ",205],["T_PUBLIC","public",206],["T_WHITESPACE"," ",206],["T_STATIC","static",206],["T_WHITESPACE"," ",206],["T_FUNCTION","function",206],["T_WHITESPACE"," ",206],["T_STRING","create",206],"(",["T_VARIABLE","$directory",206],")",["T_WHITESPACE","\n    ",206],"{",["T_WHITESPACE","\n        ",207],["T_DOC_COMMENT","\/** Zend_Search_Lucene_Proxy *\/",208],["T_WHITESPACE","\n        ",208],["T_COMMENT","#require_once 'Zend\/Search\/Lucene\/Proxy.php';\n",209],["T_WHITESPACE","\n        ",210],["T_RETURN","return",211],["T_WHITESPACE"," ",211],["T_NEW","new",211],["T_WHITESPACE"," ",211],["T_STRING","Zend_Search_Lucene_Proxy",211],"(",["T_NEW","new",211],["T_WHITESPACE"," ",211],["T_STRING","Zend_Search_Lucene",211],"(",["T_VARIABLE","$directory",211],",",["T_WHITESPACE"," ",211],["T_STRING","true",211],")",")",";",["T_WHITESPACE","\n    ",211],"}",["T_WHITESPACE","\n\n    ",212],["T_DOC_COMMENT","\/**\n     * Open index\n     *\n     * @param mixed $directory\n     * @return Zend_Search_Lucene_Interface\n     *\/",214],["T_WHITESPACE","\n    ",219],["T_PUBLIC","public",220],["T_WHITESPACE"," ",220],["T_STATIC","static",220],["T_WHITESPACE"," ",220],["T_FUNCTION","function",220],["T_WHITESPACE"," ",220],["T_STRING","open",220],"(",["T_VARIABLE","$directory",220],")",["T_WHITESPACE","\n    ",220],"{",["T_WHITESPACE","\n        ",221],["T_DOC_COMMENT","\/** Zend_Search_Lucene_Proxy *\/",222],["T_WHITESPACE","\n        ",222],["T_COMMENT","#require_once 'Zend\/Search\/Lucene\/Proxy.php';\n",223],["T_WHITESPACE","\n        ",224],["T_RETURN","return",225],["T_WHITESPACE"," ",225],["T_NEW","new",225],["T_WHITESPACE"," ",225],["T_STRING","Zend_Search_Lucene_Proxy",225],"(",["T_NEW","new",225],["T_WHITESPACE"," ",225],["T_STRING","Zend_Search_Lucene",225],"(",["T_VARIABLE","$directory",225],",",["T_WHITESPACE"," ",225],["T_STRING","false",225],")",")",";",["T_WHITESPACE","\n    ",225],"}",["T_WHITESPACE","\n\n    ",226],["T_DOC_COMMENT","\/** Generation retrieving counter *\/",228],["T_WHITESPACE","\n    ",228],["T_CONST","const",229],["T_WHITESPACE"," ",229],["T_STRING","GENERATION_RETRIEVE_COUNT",229],["T_WHITESPACE"," ",229],"=",["T_WHITESPACE"," ",229],["T_LNUMBER","10",229],";",["T_WHITESPACE","\n\n    ",229],["T_DOC_COMMENT","\/** Pause between generation retrieving attempts in milliseconds *\/",231],["T_WHITESPACE","\n    ",231],["T_CONST","const",232],["T_WHITESPACE"," ",232],["T_STRING","GENERATION_RETRIEVE_PAUSE",232],["T_WHITESPACE"," ",232],"=",["T_WHITESPACE"," ",232],["T_LNUMBER","50",232],";",["T_WHITESPACE","\n\n    ",232],["T_DOC_COMMENT","\/**\n     * Get current generation number\n     *\n     * Returns generation number\n     * 0 means pre-2.1 index format\n     * -1 means there are no segments files.\n     *\n     * @param Zend_Search_Lucene_Storage_Directory $directory\n     * @return integer\n     * @throws Zend_Search_Lucene_Exception\n     *\/",234],["T_WHITESPACE","\n    ",244],["T_PUBLIC","public",245],["T_WHITESPACE"," ",245],["T_STATIC","static",245],["T_WHITESPACE"," ",245],["T_FUNCTION","function",245],["T_WHITESPACE"," ",245],["T_STRING","getActualGeneration",245],"(",["T_STRING","Zend_Search_Lucene_Storage_Directory",245],["T_WHITESPACE"," ",245],["T_VARIABLE","$directory",245],")",["T_WHITESPACE","\n    ",245],"{",["T_WHITESPACE","\n        ",246],["T_DOC_COMMENT","\/**\n         * Zend_Search_Lucene uses segments.gen file to retrieve current generation number\n         *\n         * Apache Lucene index format documentation mentions this method only as a fallback method\n         *\n         * Nevertheless we use it according to the performance considerations\n         *\n         * @todo check if we can use some modification of Apache Lucene generation determination algorithm\n         *       without performance problems\n         *\/",247],["T_WHITESPACE","\n\n        ",256],["T_COMMENT","#require_once 'Zend\/Search\/Lucene\/Exception.php';\n",258],["T_WHITESPACE","        ",259],["T_TRY","try",259],["T_WHITESPACE"," ",259],"{",["T_WHITESPACE","\n            ",259],["T_FOR","for",260],["T_WHITESPACE"," ",260],"(",["T_VARIABLE","$count",260],["T_WHITESPACE"," ",260],"=",["T_WHITESPACE"," ",260],["T_LNUMBER","0",260],";",["T_WHITESPACE"," ",260],["T_VARIABLE","$count",260],["T_WHITESPACE"," ",260],"<",["T_WHITESPACE"," ",260],["T_STRING","self",260],["T_DOUBLE_COLON","::",260],["T_STRING","GENERATION_RETRIEVE_COUNT",260],";",["T_WHITESPACE"," ",260],["T_VARIABLE","$count",260],["T_INC","++",260],")",["T_WHITESPACE"," ",260],"{",["T_WHITESPACE","\n                ",260],["T_COMMENT","\/\/ Try to get generation file\n",261],["T_WHITESPACE","                ",262],["T_VARIABLE","$genFile",262],["T_WHITESPACE"," ",262],"=",["T_WHITESPACE"," ",262],["T_VARIABLE","$directory",262],["T_OBJECT_OPERATOR","->",262],["T_STRING","getFileObject",262],"(",["T_CONSTANT_ENCAPSED_STRING","'segments.gen'",262],",",["T_WHITESPACE"," ",262],["T_STRING","false",262],")",";",["T_WHITESPACE","\n\n                ",262],["T_VARIABLE","$format",264],["T_WHITESPACE"," ",264],"=",["T_WHITESPACE"," ",264],["T_VARIABLE","$genFile",264],["T_OBJECT_OPERATOR","->",264],["T_STRING","readInt",264],"(",")",";",["T_WHITESPACE","\n                ",264],["T_IF","if",265],["T_WHITESPACE"," ",265],"(",["T_VARIABLE","$format",265],["T_WHITESPACE"," ",265],["T_IS_NOT_EQUAL","!=",265],["T_WHITESPACE"," ",265],["T_INT_CAST","(int)",265],["T_LNUMBER","0xFFFFFFFE",265],")",["T_WHITESPACE"," ",265],"{",["T_WHITESPACE","\n                    ",265],["T_THROW","throw",266],["T_WHITESPACE"," ",266],["T_NEW","new",266],["T_WHITESPACE"," ",266],["T_STRING","Zend_Search_Lucene_Exception",266],"(",["T_CONSTANT_ENCAPSED_STRING","'Wrong segments.gen file format'",266],")",";",["T_WHITESPACE","\n                ",266],"}",["T_WHITESPACE","\n\n                ",267],["T_VARIABLE","$gen1",269],["T_WHITESPACE"," ",269],"=",["T_WHITESPACE"," ",269],["T_VARIABLE","$genFile",269],["T_OBJECT_OPERATOR","->",269],["T_STRING","readLong",269],"(",")",";",["T_WHITESPACE","\n                ",269],["T_VARIABLE","$gen2",270],["T_WHITESPACE"," ",270],"=",["T_WHITESPACE"," ",270],["T_VARIABLE","$genFile",270],["T_OBJECT_OPERATOR","->",270],["T_STRING","readLong",270],"(",")",";",["T_WHITESPACE","\n\n                ",270],["T_IF","if",272],["T_WHITESPACE"," ",272],"(",["T_VARIABLE","$gen1",272],["T_WHITESPACE"," ",272],["T_IS_EQUAL","==",272],["T_WHITESPACE"," ",272],["T_VARIABLE","$gen2",272],")",["T_WHITESPACE"," ",272],"{",["T_WHITESPACE","\n                    ",272],["T_RETURN","return",273],["T_WHITESPACE"," ",273],["T_VARIABLE","$gen1",273],";",["T_WHITESPACE","\n                ",273],"}",["T_WHITESPACE","\n\n                ",274],["T_STRING","usleep",276],"(",["T_STRING","self",276],["T_DOUBLE_COLON","::",276],["T_STRING","GENERATION_RETRIEVE_PAUSE",276],["T_WHITESPACE"," ",276],"*",["T_WHITESPACE"," ",276],["T_LNUMBER","1000",276],")",";",["T_WHITESPACE","\n            ",276],"}",["T_WHITESPACE","\n\n            ",277],["T_COMMENT","\/\/ All passes are failed\n",279],["T_WHITESPACE","            ",280],["T_THROW","throw",280],["T_WHITESPACE"," ",280],["T_NEW","new",280],["T_WHITESPACE"," ",280],["T_STRING","Zend_Search_Lucene_Exception",280],"(",["T_CONSTANT_ENCAPSED_STRING","'Index is under processing now'",280],")",";",["T_WHITESPACE","\n        ",280],"}",["T_WHITESPACE"," ",281],["T_CATCH","catch",281],["T_WHITESPACE"," ",281],"(",["T_STRING","Zend_Search_Lucene_Exception",281],["T_WHITESPACE"," ",281],["T_VARIABLE","$e",281],")",["T_WHITESPACE"," ",281],"{",["T_WHITESPACE","\n            ",281],["T_IF","if",282],["T_WHITESPACE"," ",282],"(",["T_STRING","strpos",282],"(",["T_VARIABLE","$e",282],["T_OBJECT_OPERATOR","->",282],["T_STRING","getMessage",282],"(",")",",",["T_WHITESPACE"," ",282],["T_CONSTANT_ENCAPSED_STRING","'is not readable'",282],")",["T_WHITESPACE"," ",282],["T_IS_NOT_IDENTICAL","!==",282],["T_WHITESPACE"," ",282],["T_STRING","false",282],")",["T_WHITESPACE"," ",282],"{",["T_WHITESPACE","\n                ",282],["T_TRY","try",283],["T_WHITESPACE"," ",283],"{",["T_WHITESPACE","\n                    ",283],["T_COMMENT","\/\/ Try to open old style segments file\n",284],["T_WHITESPACE","                    ",285],["T_VARIABLE","$segmentsFile",285],["T_WHITESPACE"," ",285],"=",["T_WHITESPACE"," ",285],["T_VARIABLE","$directory",285],["T_OBJECT_OPERATOR","->",285],["T_STRING","getFileObject",285],"(",["T_CONSTANT_ENCAPSED_STRING","'segments'",285],",",["T_WHITESPACE"," ",285],["T_STRING","false",285],")",";",["T_WHITESPACE","\n\n                    ",285],["T_COMMENT","\/\/ It's pre-2.1 index\n",287],["T_WHITESPACE","                    ",288],["T_RETURN","return",288],["T_WHITESPACE"," ",288],["T_LNUMBER","0",288],";",["T_WHITESPACE","\n                ",288],"}",["T_WHITESPACE"," ",289],["T_CATCH","catch",289],["T_WHITESPACE"," ",289],"(",["T_STRING","Zend_Search_Lucene_Exception",289],["T_WHITESPACE"," ",289],["T_VARIABLE","$e",289],")",["T_WHITESPACE"," ",289],"{",["T_WHITESPACE","\n                    ",289],["T_IF","if",290],["T_WHITESPACE"," ",290],"(",["T_STRING","strpos",290],"(",["T_VARIABLE","$e",290],["T_OBJECT_OPERATOR","->",290],["T_STRING","getMessage",290],"(",")",",",["T_WHITESPACE"," ",290],["T_CONSTANT_ENCAPSED_STRING","'is not readable'",290],")",["T_WHITESPACE"," ",290],["T_IS_NOT_IDENTICAL","!==",290],["T_WHITESPACE"," ",290],["T_STRING","false",290],")",["T_WHITESPACE"," ",290],"{",["T_WHITESPACE","\n                        ",290],["T_RETURN","return",291],["T_WHITESPACE"," ",291],"-",["T_LNUMBER","1",291],";",["T_WHITESPACE","\n                    ",291],"}",["T_WHITESPACE"," ",292],["T_ELSE","else",292],["T_WHITESPACE"," ",292],"{",["T_WHITESPACE","\n                        ",292],["T_THROW","throw",293],["T_WHITESPACE"," ",293],["T_NEW","new",293],["T_WHITESPACE"," ",293],["T_STRING","Zend_Search_Lucene_Exception",293],"(",["T_VARIABLE","$e",293],["T_OBJECT_OPERATOR","->",293],["T_STRING","getMessage",293],"(",")",",",["T_WHITESPACE"," ",293],["T_VARIABLE","$e",293],["T_OBJECT_OPERATOR","->",293],["T_STRING","getCode",293],"(",")",",",["T_WHITESPACE"," ",293],["T_VARIABLE","$e",293],")",";",["T_WHITESPACE","\n                    ",293],"}",["T_WHITESPACE","\n                ",294],"}",["T_WHITESPACE","\n            ",295],"}",["T_WHITESPACE"," ",296],["T_ELSE","else",296],["T_WHITESPACE"," ",296],"{",["T_WHITESPACE","\n                ",296],["T_THROW","throw",297],["T_WHITESPACE"," ",297],["T_NEW","new",297],["T_WHITESPACE"," ",297],["T_STRING","Zend_Search_Lucene_Exception",297],"(",["T_VARIABLE","$e",297],["T_OBJECT_OPERATOR","->",297],["T_STRING","getMessage",297],"(",")",",",["T_WHITESPACE"," ",297],["T_VARIABLE","$e",297],["T_OBJECT_OPERATOR","->",297],["T_STRING","getCode",297],"(",")",",",["T_WHITESPACE"," ",297],["T_VARIABLE","$e",297],")",";",["T_WHITESPACE","\n            ",297],"}",["T_WHITESPACE","\n        ",298],"}",["T_WHITESPACE","\n\n        ",299],["T_RETURN","return",301],["T_WHITESPACE"," ",301],"-",["T_LNUMBER","1",301],";",["T_WHITESPACE","\n    ",301],"}",["T_WHITESPACE","\n\n    ",302],["T_DOC_COMMENT","\/**\n     * Get generation number associated with this index instance\n     *\n     * The same generation number in pair with document number or query string\n     * guarantees to give the same result while index retrieving.\n     * So it may be used for search result caching.\n     *\n     * @return integer\n     *\/",304],["T_WHITESPACE","\n    ",312],["T_PUBLIC","public",313],["T_WHITESPACE"," ",313],["T_FUNCTION","function",313],["T_WHITESPACE"," ",313],["T_STRING","getGeneration",313],"(",")",["T_WHITESPACE","\n    ",313],"{",["T_WHITESPACE","\n        ",314],["T_RETURN","return",315],["T_WHITESPACE"," ",315],["T_VARIABLE","$this",315],["T_OBJECT_OPERATOR","->",315],["T_STRING","_generation",315],";",["T_WHITESPACE","\n    ",315],"}",["T_WHITESPACE","\n\n\n    ",316],["T_DOC_COMMENT","\/**\n     * Get segments file name\n     *\n     * @param integer $generation\n     * @return string\n     *\/",319],["T_WHITESPACE","\n    ",324],["T_PUBLIC","public",325],["T_WHITESPACE"," ",325],["T_STATIC","static",325],["T_WHITESPACE"," ",325],["T_FUNCTION","function",325],["T_WHITESPACE"," ",325],["T_STRING","getSegmentFileName",325],"(",["T_VARIABLE","$generation",325],")",["T_WHITESPACE","\n    ",325],"{",["T_WHITESPACE","\n        ",326],["T_IF","if",327],["T_WHITESPACE"," ",327],"(",["T_VARIABLE","$generation",327],["T_WHITESPACE"," ",327],["T_IS_EQUAL","==",327],["T_WHITESPACE"," ",327],["T_LNUMBER","0",327],")",["T_WHITESPACE"," ",327],"{",["T_WHITESPACE","\n            ",327],["T_RETURN","return",328],["T_WHITESPACE"," ",328],["T_CONSTANT_ENCAPSED_STRING","'segments'",328],";",["T_WHITESPACE","\n        ",328],"}",["T_WHITESPACE","\n\n        ",329],["T_RETURN","return",331],["T_WHITESPACE"," ",331],["T_CONSTANT_ENCAPSED_STRING","'segments_'",331],["T_WHITESPACE"," ",331],".",["T_WHITESPACE"," ",331],["T_STRING","base_convert",331],"(",["T_VARIABLE","$generation",331],",",["T_WHITESPACE"," ",331],["T_LNUMBER","10",331],",",["T_WHITESPACE"," ",331],["T_LNUMBER","36",331],")",";",["T_WHITESPACE","\n    ",331],"}",["T_WHITESPACE","\n\n    ",332],["T_DOC_COMMENT","\/**\n     * Get index format version\n     *\n     * @return integer\n     *\/",334],["T_WHITESPACE","\n    ",338],["T_PUBLIC","public",339],["T_WHITESPACE"," ",339],["T_FUNCTION","function",339],["T_WHITESPACE"," ",339],["T_STRING","getFormatVersion",339],"(",")",["T_WHITESPACE","\n    ",339],"{",["T_WHITESPACE","\n        ",340],["T_RETURN","return",341],["T_WHITESPACE"," ",341],["T_VARIABLE","$this",341],["T_OBJECT_OPERATOR","->",341],["T_STRING","_formatVersion",341],";",["T_WHITESPACE","\n    ",341],"}",["T_WHITESPACE","\n\n    ",342],["T_DOC_COMMENT","\/**\n     * Set index format version.\n     * Index is converted to this format at the nearest upfdate time\n     *\n     * @param int $formatVersion\n     * @throws Zend_Search_Lucene_Exception\n     *\/",344],["T_WHITESPACE","\n    ",350],["T_PUBLIC","public",351],["T_WHITESPACE"," ",351],["T_FUNCTION","function",351],["T_WHITESPACE"," ",351],["T_STRING","setFormatVersion",351],"(",["T_VARIABLE","$formatVersion",351],")",["T_WHITESPACE","\n    ",351],"{",["T_WHITESPACE","\n        ",352],["T_IF","if",353],["T_WHITESPACE"," ",353],"(",["T_VARIABLE","$formatVersion",353],["T_WHITESPACE"," ",353],["T_IS_NOT_EQUAL","!=",353],["T_WHITESPACE"," ",353],["T_STRING","self",353],["T_DOUBLE_COLON","::",353],["T_STRING","FORMAT_PRE_2_1",353],["T_WHITESPACE","  ",353],["T_BOOLEAN_AND","&&",353],["T_WHITESPACE","\n            ",353],["T_VARIABLE","$formatVersion",354],["T_WHITESPACE"," ",354],["T_IS_NOT_EQUAL","!=",354],["T_WHITESPACE"," ",354],["T_STRING","self",354],["T_DOUBLE_COLON","::",354],["T_STRING","FORMAT_2_1",354],["T_WHITESPACE","  ",354],["T_BOOLEAN_AND","&&",354],["T_WHITESPACE","\n            ",354],["T_VARIABLE","$formatVersion",355],["T_WHITESPACE"," ",355],["T_IS_NOT_EQUAL","!=",355],["T_WHITESPACE"," ",355],["T_STRING","self",355],["T_DOUBLE_COLON","::",355],["T_STRING","FORMAT_2_3",355],")",["T_WHITESPACE"," ",355],"{",["T_WHITESPACE","\n            ",355],["T_COMMENT","#require_once 'Zend\/Search\/Lucene\/Exception.php';\n",356],["T_WHITESPACE","            ",357],["T_THROW","throw",357],["T_WHITESPACE"," ",357],["T_NEW","new",357],["T_WHITESPACE"," ",357],["T_STRING","Zend_Search_Lucene_Exception",357],"(",["T_CONSTANT_ENCAPSED_STRING","'Unsupported index format'",357],")",";",["T_WHITESPACE","\n        ",357],"}",["T_WHITESPACE","\n\n        ",358],["T_VARIABLE","$this",360],["T_OBJECT_OPERATOR","->",360],["T_STRING","_formatVersion",360],["T_WHITESPACE"," ",360],"=",["T_WHITESPACE"," ",360],["T_VARIABLE","$formatVersion",360],";",["T_WHITESPACE","\n    ",360],"}",["T_WHITESPACE","\n\n    ",361],["T_DOC_COMMENT","\/**\n     * Read segments file for pre-2.1 Lucene index format\n     *\n     * @throws Zend_Search_Lucene_Exception\n     *\/",363],["T_WHITESPACE","\n    ",367],["T_PRIVATE","private",368],["T_WHITESPACE"," ",368],["T_FUNCTION","function",368],["T_WHITESPACE"," ",368],["T_STRING","_readPre21SegmentsFile",368],"(",")",["T_WHITESPACE","\n    ",368],"{",["T_WHITESPACE","\n        ",369],["T_VARIABLE","$segmentsFile",370],["T_WHITESPACE"," ",370],"=",["T_WHITESPACE"," ",370],["T_VARIABLE","$this",370],["T_OBJECT_OPERATOR","->",370],["T_STRING","_directory",370],["T_OBJECT_OPERATOR","->",370],["T_STRING","getFileObject",370],"(",["T_CONSTANT_ENCAPSED_STRING","'segments'",370],")",";",["T_WHITESPACE","\n\n        ",370],["T_VARIABLE","$format",372],["T_WHITESPACE"," ",372],"=",["T_WHITESPACE"," ",372],["T_VARIABLE","$segmentsFile",372],["T_OBJECT_OPERATOR","->",372],["T_STRING","readInt",372],"(",")",";",["T_WHITESPACE","\n\n        ",372],["T_IF","if",374],["T_WHITESPACE"," ",374],"(",["T_VARIABLE","$format",374],["T_WHITESPACE"," ",374],["T_IS_NOT_EQUAL","!=",374],["T_WHITESPACE"," ",374],["T_INT_CAST","(int)",374],["T_LNUMBER","0xFFFFFFFF",374],")",["T_WHITESPACE"," ",374],"{",["T_WHITESPACE","\n            ",374],["T_COMMENT","#require_once 'Zend\/Search\/Lucene\/Exception.php';\n",375],["T_WHITESPACE","            ",376],["T_THROW","throw",376],["T_WHITESPACE"," ",376],["T_NEW","new",376],["T_WHITESPACE"," ",376],["T_STRING","Zend_Search_Lucene_Exception",376],"(",["T_CONSTANT_ENCAPSED_STRING","'Wrong segments file format'",376],")",";",["T_WHITESPACE","\n        ",376],"}",["T_WHITESPACE","\n\n        ",377],["T_COMMENT","\/\/ read version\n",379],["T_WHITESPACE","        ",380],["T_VARIABLE","$segmentsFile",380],["T_OBJECT_OPERATOR","->",380],["T_STRING","readLong",380],"(",")",";",["T_WHITESPACE","\n\n        ",380],["T_COMMENT","\/\/ read segment name counter\n",382],["T_WHITESPACE","        ",383],["T_VARIABLE","$segmentsFile",383],["T_OBJECT_OPERATOR","->",383],["T_STRING","readInt",383],"(",")",";",["T_WHITESPACE","\n\n        ",383],["T_VARIABLE","$segments",385],["T_WHITESPACE"," ",385],"=",["T_WHITESPACE"," ",385],["T_VARIABLE","$segmentsFile",385],["T_OBJECT_OPERATOR","->",385],["T_STRING","readInt",385],"(",")",";",["T_WHITESPACE","\n\n        ",385],["T_VARIABLE","$this",387],["T_OBJECT_OPERATOR","->",387],["T_STRING","_docCount",387],["T_WHITESPACE"," ",387],"=",["T_WHITESPACE"," ",387],["T_LNUMBER","0",387],";",["T_WHITESPACE","\n\n        ",387],["T_COMMENT","\/\/ read segmentInfos\n",389],["T_WHITESPACE","        ",390],["T_FOR","for",390],["T_WHITESPACE"," ",390],"(",["T_VARIABLE","$count",390],["T_WHITESPACE"," ",390],"=",["T_WHITESPACE"," ",390],["T_LNUMBER","0",390],";",["T_WHITESPACE"," ",390],["T_VARIABLE","$count",390],["T_WHITESPACE"," ",390],"<",["T_WHITESPACE"," ",390],["T_VARIABLE","$segments",390],";",["T_WHITESPACE"," ",390],["T_VARIABLE","$count",390],["T_INC","++",390],")",["T_WHITESPACE"," ",390],"{",["T_WHITESPACE","\n            ",390],["T_VARIABLE","$segName",391],["T_WHITESPACE"," ",391],"=",["T_WHITESPACE"," ",391],["T_VARIABLE","$segmentsFile",391],["T_OBJECT_OPERATOR","->",391],["T_STRING","readString",391],"(",")",";",["T_WHITESPACE","\n            ",391],["T_VARIABLE","$segSize",392],["T_WHITESPACE"," ",392],"=",["T_WHITESPACE"," ",392],["T_VARIABLE","$segmentsFile",392],["T_OBJECT_OPERATOR","->",392],["T_STRING","readInt",392],"(",")",";",["T_WHITESPACE","\n            ",392],["T_VARIABLE","$this",393],["T_OBJECT_OPERATOR","->",393],["T_STRING","_docCount",393],["T_WHITESPACE"," ",393],["T_PLUS_EQUAL","+=",393],["T_WHITESPACE"," ",393],["T_VARIABLE","$segSize",393],";",["T_WHITESPACE","\n\n            ",393],["T_VARIABLE","$this",395],["T_OBJECT_OPERATOR","->",395],["T_STRING","_segmentInfos",395],"[",["T_VARIABLE","$segName",395],"]",["T_WHITESPACE"," ",395],"=",["T_WHITESPACE","\n                                ",395],["T_NEW","new",396],["T_WHITESPACE"," ",396],["T_STRING","Zend_Search_Lucene_Index_SegmentInfo",396],"(",["T_VARIABLE","$this",396],["T_OBJECT_OPERATOR","->",396],["T_STRING","_directory",396],",",["T_WHITESPACE","\n                                                                         ",396],["T_VARIABLE","$segName",397],",",["T_WHITESPACE","\n                                                                         ",397],["T_VARIABLE","$segSize",398],")",";",["T_WHITESPACE","\n        ",398],"}",["T_WHITESPACE","\n\n        ",399],["T_COMMENT","\/\/ Use 2.1 as a target version. Index will be reorganized at update time.\n",401],["T_WHITESPACE","        ",402],["T_VARIABLE","$this",402],["T_OBJECT_OPERATOR","->",402],["T_STRING","_formatVersion",402],["T_WHITESPACE"," ",402],"=",["T_WHITESPACE"," ",402],["T_STRING","self",402],["T_DOUBLE_COLON","::",402],["T_STRING","FORMAT_2_1",402],";",["T_WHITESPACE","\n    ",402],"}",["T_WHITESPACE","\n\n    ",403],["T_DOC_COMMENT","\/**\n     * Read segments file\n     *\n     * @throws Zend_Search_Lucene_Exception\n     *\/",405],["T_WHITESPACE","\n    ",409],["T_PRIVATE","private",410],["T_WHITESPACE"," ",410],["T_FUNCTION","function",410],["T_WHITESPACE"," ",410],["T_STRING","_readSegmentsFile",410],"(",")",["T_WHITESPACE","\n    ",410],"{",["T_WHITESPACE","\n        ",411],["T_VARIABLE","$segmentsFile",412],["T_WHITESPACE"," ",412],"=",["T_WHITESPACE"," ",412],["T_VARIABLE","$this",412],["T_OBJECT_OPERATOR","->",412],["T_STRING","_directory",412],["T_OBJECT_OPERATOR","->",412],["T_STRING","getFileObject",412],"(",["T_STRING","self",412],["T_DOUBLE_COLON","::",412],["T_STRING","getSegmentFileName",412],"(",["T_VARIABLE","$this",412],["T_OBJECT_OPERATOR","->",412],["T_STRING","_generation",412],")",")",";",["T_WHITESPACE","\n\n        ",412],["T_VARIABLE","$format",414],["T_WHITESPACE"," ",414],"=",["T_WHITESPACE"," ",414],["T_VARIABLE","$segmentsFile",414],["T_OBJECT_OPERATOR","->",414],["T_STRING","readInt",414],"(",")",";",["T_WHITESPACE","\n\n        ",414],["T_IF","if",416],["T_WHITESPACE"," ",416],"(",["T_VARIABLE","$format",416],["T_WHITESPACE"," ",416],["T_IS_EQUAL","==",416],["T_WHITESPACE"," ",416],["T_INT_CAST","(int)",416],["T_LNUMBER","0xFFFFFFFC",416],")",["T_WHITESPACE"," ",416],"{",["T_WHITESPACE","\n            ",416],["T_VARIABLE","$this",417],["T_OBJECT_OPERATOR","->",417],["T_STRING","_formatVersion",417],["T_WHITESPACE"," ",417],"=",["T_WHITESPACE"," ",417],["T_STRING","self",417],["T_DOUBLE_COLON","::",417],["T_STRING","FORMAT_2_3",417],";",["T_WHITESPACE","\n        ",417],"}",["T_WHITESPACE"," ",418],["T_ELSE","else",418],["T_WHITESPACE"," ",418],["T_IF","if",418],["T_WHITESPACE"," ",418],"(",["T_VARIABLE","$format",418],["T_WHITESPACE"," ",418],["T_IS_EQUAL","==",418],["T_WHITESPACE"," ",418],["T_INT_CAST","(int)",418],["T_LNUMBER","0xFFFFFFFD",418],")",["T_WHITESPACE"," ",418],"{",["T_WHITESPACE","\n            ",418],["T_VARIABLE","$this",419],["T_OBJECT_OPERATOR","->",419],["T_STRING","_formatVersion",419],["T_WHITESPACE"," ",419],"=",["T_WHITESPACE"," ",419],["T_STRING","self",419],["T_DOUBLE_COLON","::",419],["T_STRING","FORMAT_2_1",419],";",["T_WHITESPACE","\n        ",419],"}",["T_WHITESPACE"," ",420],["T_ELSE","else",420],["T_WHITESPACE"," ",420],"{",["T_WHITESPACE","\n            ",420],["T_COMMENT","#require_once 'Zend\/Search\/Lucene\/Exception.php';\n",421],["T_WHITESPACE","            ",422],["T_THROW","throw",422],["T_WHITESPACE"," ",422],["T_NEW","new",422],["T_WHITESPACE"," ",422],["T_STRING","Zend_Search_Lucene_Exception",422],"(",["T_CONSTANT_ENCAPSED_STRING","'Unsupported segments file format'",422],")",";",["T_WHITESPACE","\n        ",422],"}",["T_WHITESPACE","\n\n        ",423],["T_COMMENT","\/\/ read version\n",425],["T_WHITESPACE","        ",426],["T_VARIABLE","$segmentsFile",426],["T_OBJECT_OPERATOR","->",426],["T_STRING","readLong",426],"(",")",";",["T_WHITESPACE","\n\n        ",426],["T_COMMENT","\/\/ read segment name counter\n",428],["T_WHITESPACE","        ",429],["T_VARIABLE","$segmentsFile",429],["T_OBJECT_OPERATOR","->",429],["T_STRING","readInt",429],"(",")",";",["T_WHITESPACE","\n\n        ",429],["T_VARIABLE","$segments",431],["T_WHITESPACE"," ",431],"=",["T_WHITESPACE"," ",431],["T_VARIABLE","$segmentsFile",431],["T_OBJECT_OPERATOR","->",431],["T_STRING","readInt",431],"(",")",";",["T_WHITESPACE","\n\n        ",431],["T_VARIABLE","$this",433],["T_OBJECT_OPERATOR","->",433],["T_STRING","_docCount",433],["T_WHITESPACE"," ",433],"=",["T_WHITESPACE"," ",433],["T_LNUMBER","0",433],";",["T_WHITESPACE","\n\n        ",433],["T_COMMENT","\/\/ read segmentInfos\n",435],["T_WHITESPACE","        ",436],["T_FOR","for",436],["T_WHITESPACE"," ",436],"(",["T_VARIABLE","$count",436],["T_WHITESPACE"," ",436],"=",["T_WHITESPACE"," ",436],["T_LNUMBER","0",436],";",["T_WHITESPACE"," ",436],["T_VARIABLE","$count",436],["T_WHITESPACE"," ",436],"<",["T_WHITESPACE"," ",436],["T_VARIABLE","$segments",436],";",["T_WHITESPACE"," ",436],["T_VARIABLE","$count",436],["T_INC","++",436],")",["T_WHITESPACE"," ",436],"{",["T_WHITESPACE","\n            ",436],["T_VARIABLE","$segName",437],["T_WHITESPACE"," ",437],"=",["T_WHITESPACE"," ",437],["T_VARIABLE","$segmentsFile",437],["T_OBJECT_OPERATOR","->",437],["T_STRING","readString",437],"(",")",";",["T_WHITESPACE","\n            ",437],["T_VARIABLE","$segSize",438],["T_WHITESPACE"," ",438],"=",["T_WHITESPACE"," ",438],["T_VARIABLE","$segmentsFile",438],["T_OBJECT_OPERATOR","->",438],["T_STRING","readInt",438],"(",")",";",["T_WHITESPACE","\n\n            ",438],["T_COMMENT","\/\/ 2.1+ specific properties\n",440],["T_WHITESPACE","            ",441],["T_VARIABLE","$delGen",441],["T_WHITESPACE"," ",441],"=",["T_WHITESPACE"," ",441],["T_VARIABLE","$segmentsFile",441],["T_OBJECT_OPERATOR","->",441],["T_STRING","readLong",441],"(",")",";",["T_WHITESPACE","\n\n            ",441],["T_IF","if",443],["T_WHITESPACE"," ",443],"(",["T_VARIABLE","$this",443],["T_OBJECT_OPERATOR","->",443],["T_STRING","_formatVersion",443],["T_WHITESPACE"," ",443],["T_IS_EQUAL","==",443],["T_WHITESPACE"," ",443],["T_STRING","self",443],["T_DOUBLE_COLON","::",443],["T_STRING","FORMAT_2_3",443],")",["T_WHITESPACE"," ",443],"{",["T_WHITESPACE","\n                ",443],["T_VARIABLE","$docStoreOffset",444],["T_WHITESPACE"," ",444],"=",["T_WHITESPACE"," ",444],["T_VARIABLE","$segmentsFile",444],["T_OBJECT_OPERATOR","->",444],["T_STRING","readInt",444],"(",")",";",["T_WHITESPACE","\n\n                ",444],["T_IF","if",446],["T_WHITESPACE"," ",446],"(",["T_VARIABLE","$docStoreOffset",446],["T_WHITESPACE"," ",446],["T_IS_NOT_EQUAL","!=",446],["T_WHITESPACE"," ",446],["T_INT_CAST","(int)",446],["T_LNUMBER","0xFFFFFFFF",446],")",["T_WHITESPACE"," ",446],"{",["T_WHITESPACE","\n                    ",446],["T_VARIABLE","$docStoreSegment",447],["T_WHITESPACE","        ",447],"=",["T_WHITESPACE"," ",447],["T_VARIABLE","$segmentsFile",447],["T_OBJECT_OPERATOR","->",447],["T_STRING","readString",447],"(",")",";",["T_WHITESPACE","\n                    ",447],["T_VARIABLE","$docStoreIsCompoundFile",448],["T_WHITESPACE"," ",448],"=",["T_WHITESPACE"," ",448],["T_VARIABLE","$segmentsFile",448],["T_OBJECT_OPERATOR","->",448],["T_STRING","readByte",448],"(",")",";",["T_WHITESPACE","\n\n                    ",448],["T_VARIABLE","$docStoreOptions",450],["T_WHITESPACE"," ",450],"=",["T_WHITESPACE"," ",450],["T_ARRAY","array",450],"(",["T_CONSTANT_ENCAPSED_STRING","'offset'",450],["T_WHITESPACE","     ",450],["T_DOUBLE_ARROW","=>",450],["T_WHITESPACE"," ",450],["T_VARIABLE","$docStoreOffset",450],",",["T_WHITESPACE","\n                                             ",450],["T_CONSTANT_ENCAPSED_STRING","'segment'",451],["T_WHITESPACE","    ",451],["T_DOUBLE_ARROW","=>",451],["T_WHITESPACE"," ",451],["T_VARIABLE","$docStoreSegment",451],",",["T_WHITESPACE","\n                                             ",451],["T_CONSTANT_ENCAPSED_STRING","'isCompound'",452],["T_WHITESPACE"," ",452],["T_DOUBLE_ARROW","=>",452],["T_WHITESPACE"," ",452],"(",["T_VARIABLE","$docStoreIsCompoundFile",452],["T_WHITESPACE"," ",452],["T_IS_EQUAL","==",452],["T_WHITESPACE"," ",452],["T_LNUMBER","1",452],")",")",";",["T_WHITESPACE","\n                ",452],"}",["T_WHITESPACE"," ",453],["T_ELSE","else",453],["T_WHITESPACE"," ",453],"{",["T_WHITESPACE","\n                    ",453],["T_VARIABLE","$docStoreOptions",454],["T_WHITESPACE"," ",454],"=",["T_WHITESPACE"," ",454],["T_STRING","null",454],";",["T_WHITESPACE","\n                ",454],"}",["T_WHITESPACE","\n            ",455],"}",["T_WHITESPACE"," ",456],["T_ELSE","else",456],["T_WHITESPACE"," ",456],"{",["T_WHITESPACE","\n                ",456],["T_VARIABLE","$docStoreOptions",457],["T_WHITESPACE"," ",457],"=",["T_WHITESPACE"," ",457],["T_STRING","null",457],";",["T_WHITESPACE","\n            ",457],"}",["T_WHITESPACE","\n\n            ",458],["T_VARIABLE","$hasSingleNormFile",460],["T_WHITESPACE"," ",460],"=",["T_WHITESPACE"," ",460],["T_VARIABLE","$segmentsFile",460],["T_OBJECT_OPERATOR","->",460],["T_STRING","readByte",460],"(",")",";",["T_WHITESPACE","\n            ",460],["T_VARIABLE","$numField",461],["T_WHITESPACE","          ",461],"=",["T_WHITESPACE"," ",461],["T_VARIABLE","$segmentsFile",461],["T_OBJECT_OPERATOR","->",461],["T_STRING","readInt",461],"(",")",";",["T_WHITESPACE","\n\n            ",461],["T_VARIABLE","$normGens",463],["T_WHITESPACE"," ",463],"=",["T_WHITESPACE"," ",463],["T_ARRAY","array",463],"(",")",";",["T_WHITESPACE","\n            ",463],["T_IF","if",464],["T_WHITESPACE"," ",464],"(",["T_VARIABLE","$numField",464],["T_WHITESPACE"," ",464],["T_IS_NOT_EQUAL","!=",464],["T_WHITESPACE"," ",464],["T_INT_CAST","(int)",464],["T_LNUMBER","0xFFFFFFFF",464],")",["T_WHITESPACE"," ",464],"{",["T_WHITESPACE","\n                ",464],["T_FOR","for",465],["T_WHITESPACE"," ",465],"(",["T_VARIABLE","$count1",465],["T_WHITESPACE"," ",465],"=",["T_WHITESPACE"," ",465],["T_LNUMBER","0",465],";",["T_WHITESPACE"," ",465],["T_VARIABLE","$count1",465],["T_WHITESPACE"," ",465],"<",["T_WHITESPACE"," ",465],["T_VARIABLE","$numField",465],";",["T_WHITESPACE"," ",465],["T_VARIABLE","$count1",465],["T_INC","++",465],")",["T_WHITESPACE"," ",465],"{",["T_WHITESPACE","\n                    ",465],["T_VARIABLE","$normGens",466],"[","]",["T_WHITESPACE"," ",466],"=",["T_WHITESPACE"," ",466],["T_VARIABLE","$segmentsFile",466],["T_OBJECT_OPERATOR","->",466],["T_STRING","readLong",466],"(",")",";",["T_WHITESPACE","\n                ",466],"}",["T_WHITESPACE","\n\n                ",467],["T_COMMENT","#require_once 'Zend\/Search\/Lucene\/Exception.php';\n",469],["T_WHITESPACE","                ",470],["T_THROW","throw",470],["T_WHITESPACE"," ",470],["T_NEW","new",470],["T_WHITESPACE"," ",470],["T_STRING","Zend_Search_Lucene_Exception",470],"(",["T_CONSTANT_ENCAPSED_STRING","'Separate norm files are not supported. Optimize index to use it with Zend_Search_Lucene.'",470],")",";",["T_WHITESPACE","\n            ",470],"}",["T_WHITESPACE","\n\n            ",471],["T_VARIABLE","$isCompoundByte",473],["T_WHITESPACE","     ",473],"=",["T_WHITESPACE"," ",473],["T_VARIABLE","$segmentsFile",473],["T_OBJECT_OPERATOR","->",473],["T_STRING","readByte",473],"(",")",";",["T_WHITESPACE","\n\n            ",473],["T_IF","if",475],["T_WHITESPACE"," ",475],"(",["T_VARIABLE","$isCompoundByte",475],["T_WHITESPACE"," ",475],["T_IS_EQUAL","==",475],["T_WHITESPACE"," ",475],["T_LNUMBER","0xFF",475],")",["T_WHITESPACE"," ",475],"{",["T_WHITESPACE","\n                ",475],["T_COMMENT","\/\/ The segment is not a compound file\n",476],["T_WHITESPACE","                ",477],["T_VARIABLE","$isCompound",477],["T_WHITESPACE"," ",477],"=",["T_WHITESPACE"," ",477],["T_STRING","false",477],";",["T_WHITESPACE","\n            ",477],"}",["T_WHITESPACE"," ",478],["T_ELSE","else",478],["T_WHITESPACE"," ",478],["T_IF","if",478],["T_WHITESPACE"," ",478],"(",["T_VARIABLE","$isCompoundByte",478],["T_WHITESPACE"," ",478],["T_IS_EQUAL","==",478],["T_WHITESPACE"," ",478],["T_LNUMBER","0x00",478],")",["T_WHITESPACE"," ",478],"{",["T_WHITESPACE","\n                ",478],["T_COMMENT","\/\/ The status is unknown\n",479],["T_WHITESPACE","                ",480],["T_VARIABLE","$isCompound",480],["T_WHITESPACE"," ",480],"=",["T_WHITESPACE"," ",480],["T_STRING","null",480],";",["T_WHITESPACE","\n            ",480],"}",["T_WHITESPACE"," ",481],["T_ELSE","else",481],["T_WHITESPACE"," ",481],["T_IF","if",481],["T_WHITESPACE"," ",481],"(",["T_VARIABLE","$isCompoundByte",481],["T_WHITESPACE"," ",481],["T_IS_EQUAL","==",481],["T_WHITESPACE"," ",481],["T_LNUMBER","0x01",481],")",["T_WHITESPACE"," ",481],"{",["T_WHITESPACE","\n                ",481],["T_COMMENT","\/\/ The segment is a compound file\n",482],["T_WHITESPACE","                ",483],["T_VARIABLE","$isCompound",483],["T_WHITESPACE"," ",483],"=",["T_WHITESPACE"," ",483],["T_STRING","true",483],";",["T_WHITESPACE","\n            ",483],"}",["T_WHITESPACE","\n\n            ",484],["T_VARIABLE","$this",486],["T_OBJECT_OPERATOR","->",486],["T_STRING","_docCount",486],["T_WHITESPACE"," ",486],["T_PLUS_EQUAL","+=",486],["T_WHITESPACE"," ",486],["T_VARIABLE","$segSize",486],";",["T_WHITESPACE","\n\n            ",486],["T_VARIABLE","$this",488],["T_OBJECT_OPERATOR","->",488],["T_STRING","_segmentInfos",488],"[",["T_VARIABLE","$segName",488],"]",["T_WHITESPACE"," ",488],"=",["T_WHITESPACE","\n                                ",488],["T_NEW","new",489],["T_WHITESPACE"," ",489],["T_STRING","Zend_Search_Lucene_Index_SegmentInfo",489],"(",["T_VARIABLE","$this",489],["T_OBJECT_OPERATOR","->",489],["T_STRING","_directory",489],",",["T_WHITESPACE","\n                                                                         ",489],["T_VARIABLE","$segName",490],",",["T_WHITESPACE","\n                                                                         ",490],["T_VARIABLE","$segSize",491],",",["T_WHITESPACE","\n                                                                         ",491],["T_VARIABLE","$delGen",492],",",["T_WHITESPACE","\n                                                                         ",492],["T_VARIABLE","$docStoreOptions",493],",",["T_WHITESPACE","\n                                                                         ",493],["T_VARIABLE","$hasSingleNormFile",494],",",["T_WHITESPACE","\n                                                                         ",494],["T_VARIABLE","$isCompound",495],")",";",["T_WHITESPACE","\n        ",495],"}",["T_WHITESPACE","\n    ",496],"}",["T_WHITESPACE","\n\n    ",497],["T_DOC_COMMENT","\/**\n     * Opens the index.\n     *\n     * IndexReader constructor needs Directory as a parameter. It should be\n     * a string with a path to the index folder or a Directory object.\n     *\n     * @param Zend_Search_Lucene_Storage_Directory_Filesystem|string $directory\n     * @throws Zend_Search_Lucene_Exception\n     *\/",499],["T_WHITESPACE","\n    ",507],["T_PUBLIC","public",508],["T_WHITESPACE"," ",508],["T_FUNCTION","function",508],["T_WHITESPACE"," ",508],["T_STRING","__construct",508],"(",["T_VARIABLE","$directory",508],["T_WHITESPACE"," ",508],"=",["T_WHITESPACE"," ",508],["T_STRING","null",508],",",["T_WHITESPACE"," ",508],["T_VARIABLE","$create",508],["T_WHITESPACE"," ",508],"=",["T_WHITESPACE"," ",508],["T_STRING","false",508],")",["T_WHITESPACE","\n    ",508],"{",["T_WHITESPACE","\n        ",509],["T_IF","if",510],["T_WHITESPACE"," ",510],"(",["T_VARIABLE","$directory",510],["T_WHITESPACE"," ",510],["T_IS_IDENTICAL","===",510],["T_WHITESPACE"," ",510],["T_STRING","null",510],")",["T_WHITESPACE"," ",510],"{",["T_WHITESPACE","\n            ",510],["T_COMMENT","#require_once 'Zend\/Search\/Lucene\/Exception.php';\n",511],["T_WHITESPACE","            ",512],["T_THROW","throw",512],["T_WHITESPACE"," ",512],["T_NEW","new",512],["T_WHITESPACE"," ",512],["T_STRING","Zend_Search_Exception",512],"(",["T_CONSTANT_ENCAPSED_STRING","'No index directory specified'",512],")",";",["T_WHITESPACE","\n        ",512],"}",["T_WHITESPACE","\n\n        ",513],["T_IF","if",515],["T_WHITESPACE"," ",515],"(",["T_STRING","is_string",515],"(",["T_VARIABLE","$directory",515],")",")",["T_WHITESPACE"," ",515],"{",["T_WHITESPACE","\n            ",515],["T_COMMENT","#require_once 'Zend\/Search\/Lucene\/Storage\/Directory\/Filesystem.php';\n",516],["T_WHITESPACE","            ",517],["T_VARIABLE","$this",517],["T_OBJECT_OPERATOR","->",517],["T_STRING","_directory",517],["T_WHITESPACE","      ",517],"=",["T_WHITESPACE"," ",517],["T_NEW","new",517],["T_WHITESPACE"," ",517],["T_STRING","Zend_Search_Lucene_Storage_Directory_Filesystem",517],"(",["T_VARIABLE","$directory",517],")",";",["T_WHITESPACE","\n            ",517],["T_VARIABLE","$this",518],["T_OBJECT_OPERATOR","->",518],["T_STRING","_closeDirOnExit",518],["T_WHITESPACE"," ",518],"=",["T_WHITESPACE"," ",518],["T_STRING","true",518],";",["T_WHITESPACE","\n        ",518],"}",["T_WHITESPACE"," ",519],["T_ELSE","else",519],["T_WHITESPACE"," ",519],"{",["T_WHITESPACE","\n            ",519],["T_VARIABLE","$this",520],["T_OBJECT_OPERATOR","->",520],["T_STRING","_directory",520],["T_WHITESPACE","      ",520],"=",["T_WHITESPACE"," ",520],["T_VARIABLE","$directory",520],";",["T_WHITESPACE","\n            ",520],["T_VARIABLE","$this",521],["T_OBJECT_OPERATOR","->",521],["T_STRING","_closeDirOnExit",521],["T_WHITESPACE"," ",521],"=",["T_WHITESPACE"," ",521],["T_STRING","false",521],";",["T_WHITESPACE","\n        ",521],"}",["T_WHITESPACE","\n\n        ",522],["T_VARIABLE","$this",524],["T_OBJECT_OPERATOR","->",524],["T_STRING","_segmentInfos",524],["T_WHITESPACE"," ",524],"=",["T_WHITESPACE"," ",524],["T_ARRAY","array",524],"(",")",";",["T_WHITESPACE","\n\n        ",524],["T_COMMENT","\/\/ Mark index as \"under processing\" to prevent other processes from premature index cleaning\n",526],["T_WHITESPACE","        ",527],["T_STRING","Zend_Search_Lucene_LockManager",527],["T_DOUBLE_COLON","::",527],["T_STRING","obtainReadLock",527],"(",["T_VARIABLE","$this",527],["T_OBJECT_OPERATOR","->",527],["T_STRING","_directory",527],")",";",["T_WHITESPACE","\n\n        ",527],["T_VARIABLE","$this",529],["T_OBJECT_OPERATOR","->",529],["T_STRING","_generation",529],["T_WHITESPACE"," ",529],"=",["T_WHITESPACE"," ",529],["T_STRING","self",529],["T_DOUBLE_COLON","::",529],["T_STRING","getActualGeneration",529],"(",["T_VARIABLE","$this",529],["T_OBJECT_OPERATOR","->",529],["T_STRING","_directory",529],")",";",["T_WHITESPACE","\n\n        ",529],["T_IF","if",531],["T_WHITESPACE"," ",531],"(",["T_VARIABLE","$create",531],")",["T_WHITESPACE"," ",531],"{",["T_WHITESPACE","\n            ",531],["T_COMMENT","#require_once 'Zend\/Search\/Lucene\/Exception.php';\n",532],["T_WHITESPACE","            ",533],["T_TRY","try",533],["T_WHITESPACE"," ",533],"{",["T_WHITESPACE","\n                ",533],["T_STRING","Zend_Search_Lucene_LockManager",534],["T_DOUBLE_COLON","::",534],["T_STRING","obtainWriteLock",534],"(",["T_VARIABLE","$this",534],["T_OBJECT_OPERATOR","->",534],["T_STRING","_directory",534],")",";",["T_WHITESPACE","\n            ",534],"}",["T_WHITESPACE"," ",535],["T_CATCH","catch",535],["T_WHITESPACE"," ",535],"(",["T_STRING","Zend_Search_Lucene_Exception",535],["T_WHITESPACE"," ",535],["T_VARIABLE","$e",535],")",["T_WHITESPACE"," ",535],"{",["T_WHITESPACE","\n                ",535],["T_STRING","Zend_Search_Lucene_LockManager",536],["T_DOUBLE_COLON","::",536],["T_STRING","releaseReadLock",536],"(",["T_VARIABLE","$this",536],["T_OBJECT_OPERATOR","->",536],["T_STRING","_directory",536],")",";",["T_WHITESPACE","\n\n                ",536],["T_IF","if",538],["T_WHITESPACE"," ",538],"(",["T_STRING","strpos",538],"(",["T_VARIABLE","$e",538],["T_OBJECT_OPERATOR","->",538],["T_STRING","getMessage",538],"(",")",",",["T_WHITESPACE"," ",538],["T_CONSTANT_ENCAPSED_STRING","'Can\\'t obtain exclusive index lock'",538],")",["T_WHITESPACE"," ",538],["T_IS_IDENTICAL","===",538],["T_WHITESPACE"," ",538],["T_STRING","false",538],")",["T_WHITESPACE"," ",538],"{",["T_WHITESPACE","\n                    ",538],["T_THROW","throw",539],["T_WHITESPACE"," ",539],["T_NEW","new",539],["T_WHITESPACE"," ",539],["T_STRING","Zend_Search_Lucene_Exception",539],"(",["T_VARIABLE","$e",539],["T_OBJECT_OPERATOR","->",539],["T_STRING","getMessage",539],"(",")",",",["T_WHITESPACE"," ",539],["T_VARIABLE","$e",539],["T_OBJECT_OPERATOR","->",539],["T_STRING","getCode",539],"(",")",",",["T_WHITESPACE"," ",539],["T_VARIABLE","$e",539],")",";",["T_WHITESPACE","\n                ",539],"}",["T_WHITESPACE"," ",540],["T_ELSE","else",540],["T_WHITESPACE"," ",540],"{",["T_WHITESPACE","\n                    ",540],["T_THROW","throw",541],["T_WHITESPACE"," ",541],["T_NEW","new",541],["T_WHITESPACE"," ",541],["T_STRING","Zend_Search_Lucene_Exception",541],"(",["T_CONSTANT_ENCAPSED_STRING","'Can\\'t create index. It\\'s under processing now'",541],",",["T_WHITESPACE"," ",541],["T_LNUMBER","0",541],",",["T_WHITESPACE"," ",541],["T_VARIABLE","$e",541],")",";",["T_WHITESPACE","\n                ",541],"}",["T_WHITESPACE","\n            ",542],"}",["T_WHITESPACE","\n\n            ",543],["T_IF","if",545],["T_WHITESPACE"," ",545],"(",["T_VARIABLE","$this",545],["T_OBJECT_OPERATOR","->",545],["T_STRING","_generation",545],["T_WHITESPACE"," ",545],["T_IS_EQUAL","==",545],["T_WHITESPACE"," ",545],"-",["T_LNUMBER","1",545],")",["T_WHITESPACE"," ",545],"{",["T_WHITESPACE","\n                ",545],["T_COMMENT","\/\/ Directory doesn't contain existing index, start from 1\n",546],["T_WHITESPACE","                ",547],["T_VARIABLE","$this",547],["T_OBJECT_OPERATOR","->",547],["T_STRING","_generation",547],["T_WHITESPACE"," ",547],"=",["T_WHITESPACE"," ",547],["T_LNUMBER","1",547],";",["T_WHITESPACE","\n                ",547],["T_VARIABLE","$nameCounter",548],["T_WHITESPACE"," ",548],"=",["T_WHITESPACE"," ",548],["T_LNUMBER","0",548],";",["T_WHITESPACE","\n            ",548],"}",["T_WHITESPACE"," ",549],["T_ELSE","else",549],["T_WHITESPACE"," ",549],"{",["T_WHITESPACE","\n                ",549],["T_COMMENT","\/\/ Directory contains existing index\n",550],["T_WHITESPACE","                ",551],["T_VARIABLE","$segmentsFile",551],["T_WHITESPACE"," ",551],"=",["T_WHITESPACE"," ",551],["T_VARIABLE","$this",551],["T_OBJECT_OPERATOR","->",551],["T_STRING","_directory",551],["T_OBJECT_OPERATOR","->",551],["T_STRING","getFileObject",551],"(",["T_STRING","self",551],["T_DOUBLE_COLON","::",551],["T_STRING","getSegmentFileName",551],"(",["T_VARIABLE","$this",551],["T_OBJECT_OPERATOR","->",551],["T_STRING","_generation",551],")",")",";",["T_WHITESPACE","\n                ",551],["T_VARIABLE","$segmentsFile",552],["T_OBJECT_OPERATOR","->",552],["T_STRING","seek",552],"(",["T_LNUMBER","12",552],")",";",["T_WHITESPACE"," ",552],["T_COMMENT","\/\/ 12 = 4 (int, file format marker) + 8 (long, index version)\n",552],["T_WHITESPACE","\n                ",553],["T_VARIABLE","$nameCounter",554],["T_WHITESPACE"," ",554],"=",["T_WHITESPACE"," ",554],["T_VARIABLE","$segmentsFile",554],["T_OBJECT_OPERATOR","->",554],["T_STRING","readInt",554],"(",")",";",["T_WHITESPACE","\n                ",554],["T_VARIABLE","$this",555],["T_OBJECT_OPERATOR","->",555],["T_STRING","_generation",555],["T_INC","++",555],";",["T_WHITESPACE","\n            ",555],"}",["T_WHITESPACE","\n\n            ",556],["T_COMMENT","#require_once 'Zend\/Search\/Lucene\/Index\/Writer.php';\n",558],["T_WHITESPACE","            ",559],["T_STRING","Zend_Search_Lucene_Index_Writer",559],["T_DOUBLE_COLON","::",559],["T_STRING","createIndex",559],"(",["T_VARIABLE","$this",559],["T_OBJECT_OPERATOR","->",559],["T_STRING","_directory",559],",",["T_WHITESPACE"," ",559],["T_VARIABLE","$this",559],["T_OBJECT_OPERATOR","->",559],["T_STRING","_generation",559],",",["T_WHITESPACE"," ",559],["T_VARIABLE","$nameCounter",559],")",";",["T_WHITESPACE","\n\n            ",559],["T_STRING","Zend_Search_Lucene_LockManager",561],["T_DOUBLE_COLON","::",561],["T_STRING","releaseWriteLock",561],"(",["T_VARIABLE","$this",561],["T_OBJECT_OPERATOR","->",561],["T_STRING","_directory",561],")",";",["T_WHITESPACE","\n        ",561],"}",["T_WHITESPACE","\n\n        ",562],["T_IF","if",564],["T_WHITESPACE"," ",564],"(",["T_VARIABLE","$this",564],["T_OBJECT_OPERATOR","->",564],["T_STRING","_generation",564],["T_WHITESPACE"," ",564],["T_IS_EQUAL","==",564],["T_WHITESPACE"," ",564],"-",["T_LNUMBER","1",564],")",["T_WHITESPACE"," ",564],"{",["T_WHITESPACE","\n            ",564],["T_COMMENT","#require_once 'Zend\/Search\/Lucene\/Exception.php';\n",565],["T_WHITESPACE","            ",566],["T_THROW","throw",566],["T_WHITESPACE"," ",566],["T_NEW","new",566],["T_WHITESPACE"," ",566],["T_STRING","Zend_Search_Lucene_Exception",566],"(",["T_CONSTANT_ENCAPSED_STRING","'Index doesn\\'t exists in the specified directory.'",566],")",";",["T_WHITESPACE","\n        ",566],"}",["T_WHITESPACE"," ",567],["T_ELSE","else",567],["T_WHITESPACE"," ",567],["T_IF","if",567],["T_WHITESPACE"," ",567],"(",["T_VARIABLE","$this",567],["T_OBJECT_OPERATOR","->",567],["T_STRING","_generation",567],["T_WHITESPACE"," ",567],["T_IS_EQUAL","==",567],["T_WHITESPACE"," ",567],["T_LNUMBER","0",567],")",["T_WHITESPACE"," ",567],"{",["T_WHITESPACE","\n            ",567],["T_VARIABLE","$this",568],["T_OBJECT_OPERATOR","->",568],["T_STRING","_readPre21SegmentsFile",568],"(",")",";",["T_WHITESPACE","\n        ",568],"}",["T_WHITESPACE"," ",569],["T_ELSE","else",569],["T_WHITESPACE"," ",569],"{",["T_WHITESPACE","\n            ",569],["T_VARIABLE","$this",570],["T_OBJECT_OPERATOR","->",570],["T_STRING","_readSegmentsFile",570],"(",")",";",["T_WHITESPACE","\n        ",570],"}",["T_WHITESPACE","\n    ",571],"}",["T_WHITESPACE","\n\n    ",572],["T_DOC_COMMENT","\/**\n     * Close current index and free resources\n     *\/",574],["T_WHITESPACE","\n    ",576],["T_PRIVATE","private",577],["T_WHITESPACE"," ",577],["T_FUNCTION","function",577],["T_WHITESPACE"," ",577],["T_STRING","_close",577],"(",")",["T_WHITESPACE","\n    ",577],"{",["T_WHITESPACE","\n        ",578],["T_IF","if",579],["T_WHITESPACE"," ",579],"(",["T_VARIABLE","$this",579],["T_OBJECT_OPERATOR","->",579],["T_STRING","_closed",579],")",["T_WHITESPACE"," ",579],"{",["T_WHITESPACE","\n            ",579],["T_COMMENT","\/\/ index is already closed and resources are cleaned up\n",580],["T_WHITESPACE","            ",581],["T_RETURN","return",581],";",["T_WHITESPACE","\n        ",581],"}",["T_WHITESPACE","\n\n        ",582],["T_VARIABLE","$this",584],["T_OBJECT_OPERATOR","->",584],["T_STRING","commit",584],"(",")",";",["T_WHITESPACE","\n\n        ",584],["T_COMMENT","\/\/ Release \"under processing\" flag\n",586],["T_WHITESPACE","        ",587],["T_STRING","Zend_Search_Lucene_LockManager",587],["T_DOUBLE_COLON","::",587],["T_STRING","releaseReadLock",587],"(",["T_VARIABLE","$this",587],["T_OBJECT_OPERATOR","->",587],["T_STRING","_directory",587],")",";",["T_WHITESPACE","\n\n        ",587],["T_IF","if",589],["T_WHITESPACE"," ",589],"(",["T_VARIABLE","$this",589],["T_OBJECT_OPERATOR","->",589],["T_STRING","_closeDirOnExit",589],")",["T_WHITESPACE"," ",589],"{",["T_WHITESPACE","\n            ",589],["T_VARIABLE","$this",590],["T_OBJECT_OPERATOR","->",590],["T_STRING","_directory",590],["T_OBJECT_OPERATOR","->",590],["T_STRING","close",590],"(",")",";",["T_WHITESPACE","\n        ",590],"}",["T_WHITESPACE","\n\n        ",591],["T_VARIABLE","$this",593],["T_OBJECT_OPERATOR","->",593],["T_STRING","_directory",593],["T_WHITESPACE","    ",593],"=",["T_WHITESPACE"," ",593],["T_STRING","null",593],";",["T_WHITESPACE","\n        ",593],["T_VARIABLE","$this",594],["T_OBJECT_OPERATOR","->",594],["T_STRING","_writer",594],["T_WHITESPACE","       ",594],"=",["T_WHITESPACE"," ",594],["T_STRING","null",594],";",["T_WHITESPACE","\n        ",594],["T_VARIABLE","$this",595],["T_OBJECT_OPERATOR","->",595],["T_STRING","_segmentInfos",595],["T_WHITESPACE"," ",595],"=",["T_WHITESPACE"," ",595],["T_STRING","null",595],";",["T_WHITESPACE","\n\n        ",595],["T_VARIABLE","$this",597],["T_OBJECT_OPERATOR","->",597],["T_STRING","_closed",597],["T_WHITESPACE"," ",597],"=",["T_WHITESPACE"," ",597],["T_STRING","true",597],";",["T_WHITESPACE","\n    ",597],"}",["T_WHITESPACE","\n\n    ",598],["T_DOC_COMMENT","\/**\n     * Add reference to the index object\n     *\n     * @internal\n     *\/",600],["T_WHITESPACE","\n    ",604],["T_PUBLIC","public",605],["T_WHITESPACE"," ",605],["T_FUNCTION","function",605],["T_WHITESPACE"," ",605],["T_STRING","addReference",605],"(",")",["T_WHITESPACE","\n    ",605],"{",["T_WHITESPACE","\n        ",606],["T_VARIABLE","$this",607],["T_OBJECT_OPERATOR","->",607],["T_STRING","_refCount",607],["T_INC","++",607],";",["T_WHITESPACE","\n    ",607],"}",["T_WHITESPACE","\n\n    ",608],["T_DOC_COMMENT","\/**\n     * Remove reference from the index object\n     *\n     * When reference count becomes zero, index is closed and resources are cleaned up\n     *\n     * @internal\n     *\/",610],["T_WHITESPACE","\n    ",616],["T_PUBLIC","public",617],["T_WHITESPACE"," ",617],["T_FUNCTION","function",617],["T_WHITESPACE"," ",617],["T_STRING","removeReference",617],"(",")",["T_WHITESPACE","\n    ",617],"{",["T_WHITESPACE","\n        ",618],["T_VARIABLE","$this",619],["T_OBJECT_OPERATOR","->",619],["T_STRING","_refCount",619],["T_DEC","--",619],";",["T_WHITESPACE","\n\n        ",619],["T_IF","if",621],["T_WHITESPACE"," ",621],"(",["T_VARIABLE","$this",621],["T_OBJECT_OPERATOR","->",621],["T_STRING","_refCount",621],["T_WHITESPACE"," ",621],["T_IS_EQUAL","==",621],["T_WHITESPACE"," ",621],["T_LNUMBER","0",621],")",["T_WHITESPACE"," ",621],"{",["T_WHITESPACE","\n            ",621],["T_VARIABLE","$this",622],["T_OBJECT_OPERATOR","->",622],["T_STRING","_close",622],"(",")",";",["T_WHITESPACE","\n        ",622],"}",["T_WHITESPACE","\n    ",623],"}",["T_WHITESPACE","\n\n    ",624],["T_DOC_COMMENT","\/**\n     * Object destructor\n     *\/",626],["T_WHITESPACE","\n    ",628],["T_PUBLIC","public",629],["T_WHITESPACE"," ",629],["T_FUNCTION","function",629],["T_WHITESPACE"," ",629],["T_STRING","__destruct",629],"(",")",["T_WHITESPACE","\n    ",629],"{",["T_WHITESPACE","\n        ",630],["T_VARIABLE","$this",631],["T_OBJECT_OPERATOR","->",631],["T_STRING","_close",631],"(",")",";",["T_WHITESPACE","\n    ",631],"}",["T_WHITESPACE","\n\n    ",632],["T_DOC_COMMENT","\/**\n     * Returns an instance of Zend_Search_Lucene_Index_Writer for the index\n     *\n     * @return Zend_Search_Lucene_Index_Writer\n     *\/",634],["T_WHITESPACE","\n    ",638],["T_PRIVATE","private",639],["T_WHITESPACE"," ",639],["T_FUNCTION","function",639],["T_WHITESPACE"," ",639],["T_STRING","_getIndexWriter",639],"(",")",["T_WHITESPACE","\n    ",639],"{",["T_WHITESPACE","\n        ",640],["T_IF","if",641],["T_WHITESPACE"," ",641],"(",["T_VARIABLE","$this",641],["T_OBJECT_OPERATOR","->",641],["T_STRING","_writer",641],["T_WHITESPACE"," ",641],["T_IS_IDENTICAL","===",641],["T_WHITESPACE"," ",641],["T_STRING","null",641],")",["T_WHITESPACE"," ",641],"{",["T_WHITESPACE","\n            ",641],["T_COMMENT","#require_once 'Zend\/Search\/Lucene\/Index\/Writer.php';\n",642],["T_WHITESPACE","            ",643],["T_VARIABLE","$this",643],["T_OBJECT_OPERATOR","->",643],["T_STRING","_writer",643],["T_WHITESPACE"," ",643],"=",["T_WHITESPACE"," ",643],["T_NEW","new",643],["T_WHITESPACE"," ",643],["T_STRING","Zend_Search_Lucene_Index_Writer",643],"(",["T_VARIABLE","$this",643],["T_OBJECT_OPERATOR","->",643],["T_STRING","_directory",643],",",["T_WHITESPACE","\n                                                                 ",643],["T_VARIABLE","$this",644],["T_OBJECT_OPERATOR","->",644],["T_STRING","_segmentInfos",644],",",["T_WHITESPACE","\n                                                                 ",644],["T_VARIABLE","$this",645],["T_OBJECT_OPERATOR","->",645],["T_STRING","_formatVersion",645],")",";",["T_WHITESPACE","\n        ",645],"}",["T_WHITESPACE","\n\n        ",646],["T_RETURN","return",648],["T_WHITESPACE"," ",648],["T_VARIABLE","$this",648],["T_OBJECT_OPERATOR","->",648],["T_STRING","_writer",648],";",["T_WHITESPACE","\n    ",648],"}",["T_WHITESPACE","\n\n\n    ",649],["T_DOC_COMMENT","\/**\n     * Returns the Zend_Search_Lucene_Storage_Directory instance for this index.\n     *\n     * @return Zend_Search_Lucene_Storage_Directory\n     *\/",652],["T_WHITESPACE","\n    ",656],["T_PUBLIC","public",657],["T_WHITESPACE"," ",657],["T_FUNCTION","function",657],["T_WHITESPACE"," ",657],["T_STRING","getDirectory",657],"(",")",["T_WHITESPACE","\n    ",657],"{",["T_WHITESPACE","\n        ",658],["T_RETURN","return",659],["T_WHITESPACE"," ",659],["T_VARIABLE","$this",659],["T_OBJECT_OPERATOR","->",659],["T_STRING","_directory",659],";",["T_WHITESPACE","\n    ",659],"}",["T_WHITESPACE","\n\n\n    ",660],["T_DOC_COMMENT","\/**\n     * Returns the total number of documents in this index (including deleted documents).\n     *\n     * @return integer\n     *\/",663],["T_WHITESPACE","\n    ",667],["T_PUBLIC","public",668],["T_WHITESPACE"," ",668],["T_FUNCTION","function",668],["T_WHITESPACE"," ",668],["T_STRING","count",668],"(",")",["T_WHITESPACE","\n    ",668],"{",["T_WHITESPACE","\n        ",669],["T_RETURN","return",670],["T_WHITESPACE"," ",670],["T_VARIABLE","$this",670],["T_OBJECT_OPERATOR","->",670],["T_STRING","_docCount",670],";",["T_WHITESPACE","\n    ",670],"}",["T_WHITESPACE","\n\n    ",671],["T_DOC_COMMENT","\/**\n     * Returns one greater than the largest possible document number.\n     * This may be used to, e.g., determine how big to allocate a structure which will have\n     * an element for every document number in an index.\n     *\n     * @return integer\n     *\/",673],["T_WHITESPACE","\n    ",679],["T_PUBLIC","public",680],["T_WHITESPACE"," ",680],["T_FUNCTION","function",680],["T_WHITESPACE"," ",680],["T_STRING","maxDoc",680],"(",")",["T_WHITESPACE","\n    ",680],"{",["T_WHITESPACE","\n        ",681],["T_RETURN","return",682],["T_WHITESPACE"," ",682],["T_VARIABLE","$this",682],["T_OBJECT_OPERATOR","->",682],["T_STRING","count",682],"(",")",";",["T_WHITESPACE","\n    ",682],"}",["T_WHITESPACE","\n\n    ",683],["T_DOC_COMMENT","\/**\n     * Returns the total number of non-deleted documents in this index.\n     *\n     * @return integer\n     *\/",685],["T_WHITESPACE","\n    ",689],["T_PUBLIC","public",690],["T_WHITESPACE"," ",690],["T_FUNCTION","function",690],["T_WHITESPACE"," ",690],["T_STRING","numDocs",690],"(",")",["T_WHITESPACE","\n    ",690],"{",["T_WHITESPACE","\n        ",691],["T_VARIABLE","$numDocs",692],["T_WHITESPACE"," ",692],"=",["T_WHITESPACE"," ",692],["T_LNUMBER","0",692],";",["T_WHITESPACE","\n\n        ",692],["T_FOREACH","foreach",694],["T_WHITESPACE"," ",694],"(",["T_VARIABLE","$this",694],["T_OBJECT_OPERATOR","->",694],["T_STRING","_segmentInfos",694],["T_WHITESPACE"," ",694],["T_AS","as",694],["T_WHITESPACE"," ",694],["T_VARIABLE","$segmentInfo",694],")",["T_WHITESPACE"," ",694],"{",["T_WHITESPACE","\n            ",694],["T_VARIABLE","$numDocs",695],["T_WHITESPACE"," ",695],["T_PLUS_EQUAL","+=",695],["T_WHITESPACE"," ",695],["T_VARIABLE","$segmentInfo",695],["T_OBJECT_OPERATOR","->",695],["T_STRING","numDocs",695],"(",")",";",["T_WHITESPACE","\n        ",695],"}",["T_WHITESPACE","\n\n        ",696],["T_RETURN","return",698],["T_WHITESPACE"," ",698],["T_VARIABLE","$numDocs",698],";",["T_WHITESPACE","\n    ",698],"}",["T_WHITESPACE","\n\n    ",699],["T_DOC_COMMENT","\/**\n     * Checks, that document is deleted\n     *\n     * @param integer $id\n     * @return boolean\n     * @throws Zend_Search_Lucene_Exception    Exception is thrown if $id is out of the range\n     *\/",701],["T_WHITESPACE","\n    ",707],["T_PUBLIC","public",708],["T_WHITESPACE"," ",708],["T_FUNCTION","function",708],["T_WHITESPACE"," ",708],["T_STRING","isDeleted",708],"(",["T_VARIABLE","$id",708],")",["T_WHITESPACE","\n    ",708],"{",["T_WHITESPACE","\n        ",709],["T_VARIABLE","$this",710],["T_OBJECT_OPERATOR","->",710],["T_STRING","commit",710],"(",")",";",["T_WHITESPACE","\n\n        ",710],["T_IF","if",712],["T_WHITESPACE"," ",712],"(",["T_VARIABLE","$id",712],["T_WHITESPACE"," ",712],["T_IS_GREATER_OR_EQUAL",">=",712],["T_WHITESPACE"," ",712],["T_VARIABLE","$this",712],["T_OBJECT_OPERATOR","->",712],["T_STRING","_docCount",712],")",["T_WHITESPACE"," ",712],"{",["T_WHITESPACE","\n            ",712],["T_COMMENT","#require_once 'Zend\/Search\/Lucene\/Exception.php';\n",713],["T_WHITESPACE","            ",714],["T_THROW","throw",714],["T_WHITESPACE"," ",714],["T_NEW","new",714],["T_WHITESPACE"," ",714],["T_STRING","Zend_Search_Lucene_Exception",714],"(",["T_CONSTANT_ENCAPSED_STRING","'Document id is out of the range.'",714],")",";",["T_WHITESPACE","\n        ",714],"}",["T_WHITESPACE","\n\n        ",715],["T_VARIABLE","$segmentStartId",717],["T_WHITESPACE"," ",717],"=",["T_WHITESPACE"," ",717],["T_LNUMBER","0",717],";",["T_WHITESPACE","\n        ",717],["T_FOREACH","foreach",718],["T_WHITESPACE"," ",718],"(",["T_VARIABLE","$this",718],["T_OBJECT_OPERATOR","->",718],["T_STRING","_segmentInfos",718],["T_WHITESPACE"," ",718],["T_AS","as",718],["T_WHITESPACE"," ",718],["T_VARIABLE","$segmentInfo",718],")",["T_WHITESPACE"," ",718],"{",["T_WHITESPACE","\n            ",718],["T_IF","if",719],["T_WHITESPACE"," ",719],"(",["T_VARIABLE","$segmentStartId",719],["T_WHITESPACE"," ",719],"+",["T_WHITESPACE"," ",719],["T_VARIABLE","$segmentInfo",719],["T_OBJECT_OPERATOR","->",719],["T_STRING","count",719],"(",")",["T_WHITESPACE"," ",719],">",["T_WHITESPACE"," ",719],["T_VARIABLE","$id",719],")",["T_WHITESPACE"," ",719],"{",["T_WHITESPACE","\n                ",719],["T_BREAK","break",720],";",["T_WHITESPACE","\n            ",720],"}",["T_WHITESPACE","\n\n            ",721],["T_VARIABLE","$segmentStartId",723],["T_WHITESPACE"," ",723],["T_PLUS_EQUAL","+=",723],["T_WHITESPACE"," ",723],["T_VARIABLE","$segmentInfo",723],["T_OBJECT_OPERATOR","->",723],["T_STRING","count",723],"(",")",";",["T_WHITESPACE","\n        ",723],"}",["T_WHITESPACE","\n\n        ",724],["T_RETURN","return",726],["T_WHITESPACE"," ",726],["T_VARIABLE","$segmentInfo",726],["T_OBJECT_OPERATOR","->",726],["T_STRING","isDeleted",726],"(",["T_VARIABLE","$id",726],["T_WHITESPACE"," ",726],"-",["T_WHITESPACE"," ",726],["T_VARIABLE","$segmentStartId",726],")",";",["T_WHITESPACE","\n    ",726],"}",["T_WHITESPACE","\n\n    ",727],["T_DOC_COMMENT","\/**\n     * Set default search field.\n     *\n     * Null means, that search is performed through all fields by default\n     *\n     * Default value is null\n     *\n     * @param string $fieldName\n     *\/",729],["T_WHITESPACE","\n    ",737],["T_PUBLIC","public",738],["T_WHITESPACE"," ",738],["T_STATIC","static",738],["T_WHITESPACE"," ",738],["T_FUNCTION","function",738],["T_WHITESPACE"," ",738],["T_STRING","setDefaultSearchField",738],"(",["T_VARIABLE","$fieldName",738],")",["T_WHITESPACE","\n    ",738],"{",["T_WHITESPACE","\n        ",739],["T_STRING","self",740],["T_DOUBLE_COLON","::",740],["T_VARIABLE","$_defaultSearchField",740],["T_WHITESPACE"," ",740],"=",["T_WHITESPACE"," ",740],["T_VARIABLE","$fieldName",740],";",["T_WHITESPACE","\n    ",740],"}",["T_WHITESPACE","\n\n    ",741],["T_DOC_COMMENT","\/**\n     * Get default search field.\n     *\n     * Null means, that search is performed through all fields by default\n     *\n     * @return string\n     *\/",743],["T_WHITESPACE","\n    ",749],["T_PUBLIC","public",750],["T_WHITESPACE"," ",750],["T_STATIC","static",750],["T_WHITESPACE"," ",750],["T_FUNCTION","function",750],["T_WHITESPACE"," ",750],["T_STRING","getDefaultSearchField",750],"(",")",["T_WHITESPACE","\n    ",750],"{",["T_WHITESPACE","\n        ",751],["T_RETURN","return",752],["T_WHITESPACE"," ",752],["T_STRING","self",752],["T_DOUBLE_COLON","::",752],["T_VARIABLE","$_defaultSearchField",752],";",["T_WHITESPACE","\n    ",752],"}",["T_WHITESPACE","\n\n    ",753],["T_DOC_COMMENT","\/**\n     * Set result set limit.\n     *\n     * 0 (default) means no limit\n     *\n     * @param integer $limit\n     *\/",755],["T_WHITESPACE","\n    ",761],["T_PUBLIC","public",762],["T_WHITESPACE"," ",762],["T_STATIC","static",762],["T_WHITESPACE"," ",762],["T_FUNCTION","function",762],["T_WHITESPACE"," ",762],["T_STRING","setResultSetLimit",762],"(",["T_VARIABLE","$limit",762],")",["T_WHITESPACE","\n    ",762],"{",["T_WHITESPACE","\n        ",763],["T_STRING","self",764],["T_DOUBLE_COLON","::",764],["T_VARIABLE","$_resultSetLimit",764],["T_WHITESPACE"," ",764],"=",["T_WHITESPACE"," ",764],["T_VARIABLE","$limit",764],";",["T_WHITESPACE","\n    ",764],"}",["T_WHITESPACE","\n\n    ",765],["T_DOC_COMMENT","\/**\n     * Get result set limit.\n     *\n     * 0 means no limit\n     *\n     * @return integer\n     *\/",767],["T_WHITESPACE","\n    ",773],["T_PUBLIC","public",774],["T_WHITESPACE"," ",774],["T_STATIC","static",774],["T_WHITESPACE"," ",774],["T_FUNCTION","function",774],["T_WHITESPACE"," ",774],["T_STRING","getResultSetLimit",774],"(",")",["T_WHITESPACE","\n    ",774],"{",["T_WHITESPACE","\n        ",775],["T_RETURN","return",776],["T_WHITESPACE"," ",776],["T_STRING","self",776],["T_DOUBLE_COLON","::",776],["T_VARIABLE","$_resultSetLimit",776],";",["T_WHITESPACE","\n    ",776],"}",["T_WHITESPACE","\n\n    ",777],["T_DOC_COMMENT","\/**\n     * Set terms per query limit.\n     *\n     * 0 means no limit\n     *\n     * @param integer $limit\n     *\/",779],["T_WHITESPACE","\n    ",785],["T_PUBLIC","public",786],["T_WHITESPACE"," ",786],["T_STATIC","static",786],["T_WHITESPACE"," ",786],["T_FUNCTION","function",786],["T_WHITESPACE"," ",786],["T_STRING","setTermsPerQueryLimit",786],"(",["T_VARIABLE","$limit",786],")",["T_WHITESPACE","\n    ",786],"{",["T_WHITESPACE","\n        ",787],["T_STRING","self",788],["T_DOUBLE_COLON","::",788],["T_VARIABLE","$_termsPerQueryLimit",788],["T_WHITESPACE"," ",788],"=",["T_WHITESPACE"," ",788],["T_VARIABLE","$limit",788],";",["T_WHITESPACE","\n    ",788],"}",["T_WHITESPACE","\n\n    ",789],["T_DOC_COMMENT","\/**\n     * Get result set limit.\n     *\n     * 0 (default) means no limit\n     *\n     * @return integer\n     *\/",791],["T_WHITESPACE","\n    ",797],["T_PUBLIC","public",798],["T_WHITESPACE"," ",798],["T_STATIC","static",798],["T_WHITESPACE"," ",798],["T_FUNCTION","function",798],["T_WHITESPACE"," ",798],["T_STRING","getTermsPerQueryLimit",798],"(",")",["T_WHITESPACE","\n    ",798],"{",["T_WHITESPACE","\n        ",799],["T_RETURN","return",800],["T_WHITESPACE"," ",800],["T_STRING","self",800],["T_DOUBLE_COLON","::",800],["T_VARIABLE","$_termsPerQueryLimit",800],";",["T_WHITESPACE","\n    ",800],"}",["T_WHITESPACE","\n\n    ",801],["T_DOC_COMMENT","\/**\n     * Retrieve index maxBufferedDocs option\n     *\n     * maxBufferedDocs is a minimal number of documents required before\n     * the buffered in-memory documents are written into a new Segment\n     *\n     * Default value is 10\n     *\n     * @return integer\n     *\/",803],["T_WHITESPACE","\n    ",812],["T_PUBLIC","public",813],["T_WHITESPACE"," ",813],["T_FUNCTION","function",813],["T_WHITESPACE"," ",813],["T_STRING","getMaxBufferedDocs",813],"(",")",["T_WHITESPACE","\n    ",813],"{",["T_WHITESPACE","\n        ",814],["T_RETURN","return",815],["T_WHITESPACE"," ",815],["T_VARIABLE","$this",815],["T_OBJECT_OPERATOR","->",815],["T_STRING","_getIndexWriter",815],"(",")",["T_OBJECT_OPERATOR","->",815],["T_STRING","maxBufferedDocs",815],";",["T_WHITESPACE","\n    ",815],"}",["T_WHITESPACE","\n\n    ",816],["T_DOC_COMMENT","\/**\n     * Set index maxBufferedDocs option\n     *\n     * maxBufferedDocs is a minimal number of documents required before\n     * the buffered in-memory documents are written into a new Segment\n     *\n     * Default value is 10\n     *\n     * @param integer $maxBufferedDocs\n     *\/",818],["T_WHITESPACE","\n    ",827],["T_PUBLIC","public",828],["T_WHITESPACE"," ",828],["T_FUNCTION","function",828],["T_WHITESPACE"," ",828],["T_STRING","setMaxBufferedDocs",828],"(",["T_VARIABLE","$maxBufferedDocs",828],")",["T_WHITESPACE","\n    ",828],"{",["T_WHITESPACE","\n        ",829],["T_VARIABLE","$this",830],["T_OBJECT_OPERATOR","->",830],["T_STRING","_getIndexWriter",830],"(",")",["T_OBJECT_OPERATOR","->",830],["T_STRING","maxBufferedDocs",830],["T_WHITESPACE"," ",830],"=",["T_WHITESPACE"," ",830],["T_VARIABLE","$maxBufferedDocs",830],";",["T_WHITESPACE","\n    ",830],"}",["T_WHITESPACE","\n\n    ",831],["T_DOC_COMMENT","\/**\n     * Retrieve index maxMergeDocs option\n     *\n     * maxMergeDocs is a largest number of documents ever merged by addDocument().\n     * Small values (e.g., less than 10,000) are best for interactive indexing,\n     * as this limits the length of pauses while indexing to a few seconds.\n     * Larger values are best for batched indexing and speedier searches.\n     *\n     * Default value is PHP_INT_MAX\n     *\n     * @return integer\n     *\/",833],["T_WHITESPACE","\n    ",844],["T_PUBLIC","public",845],["T_WHITESPACE"," ",845],["T_FUNCTION","function",845],["T_WHITESPACE"," ",845],["T_STRING","getMaxMergeDocs",845],"(",")",["T_WHITESPACE","\n    ",845],"{",["T_WHITESPACE","\n        ",846],["T_RETURN","return",847],["T_WHITESPACE"," ",847],["T_VARIABLE","$this",847],["T_OBJECT_OPERATOR","->",847],["T_STRING","_getIndexWriter",847],"(",")",["T_OBJECT_OPERATOR","->",847],["T_STRING","maxMergeDocs",847],";",["T_WHITESPACE","\n    ",847],"}",["T_WHITESPACE","\n\n    ",848],["T_DOC_COMMENT","\/**\n     * Set index maxMergeDocs option\n     *\n     * maxMergeDocs is a largest number of documents ever merged by addDocument().\n     * Small values (e.g., less than 10,000) are best for interactive indexing,\n     * as this limits the length of pauses while indexing to a few seconds.\n     * Larger values are best for batched indexing and speedier searches.\n     *\n     * Default value is PHP_INT_MAX\n     *\n     * @param integer $maxMergeDocs\n     *\/",850],["T_WHITESPACE","\n    ",861],["T_PUBLIC","public",862],["T_WHITESPACE"," ",862],["T_FUNCTION","function",862],["T_WHITESPACE"," ",862],["T_STRING","setMaxMergeDocs",862],"(",["T_VARIABLE","$maxMergeDocs",862],")",["T_WHITESPACE","\n    ",862],"{",["T_WHITESPACE","\n        ",863],["T_VARIABLE","$this",864],["T_OBJECT_OPERATOR","->",864],["T_STRING","_getIndexWriter",864],"(",")",["T_OBJECT_OPERATOR","->",864],["T_STRING","maxMergeDocs",864],["T_WHITESPACE"," ",864],"=",["T_WHITESPACE"," ",864],["T_VARIABLE","$maxMergeDocs",864],";",["T_WHITESPACE","\n    ",864],"}",["T_WHITESPACE","\n\n    ",865],["T_DOC_COMMENT","\/**\n     * Retrieve index mergeFactor option\n     *\n     * mergeFactor determines how often segment indices are merged by addDocument().\n     * With smaller values, less RAM is used while indexing,\n     * and searches on unoptimized indices are faster,\n     * but indexing speed is slower.\n     * With larger values, more RAM is used during indexing,\n     * and while searches on unoptimized indices are slower,\n     * indexing is faster.\n     * Thus larger values (> 10) are best for batch index creation,\n     * and smaller values (< 10) for indices that are interactively maintained.\n     *\n     * Default value is 10\n     *\n     * @return integer\n     *\/",867],["T_WHITESPACE","\n    ",883],["T_PUBLIC","public",884],["T_WHITESPACE"," ",884],["T_FUNCTION","function",884],["T_WHITESPACE"," ",884],["T_STRING","getMergeFactor",884],"(",")",["T_WHITESPACE","\n    ",884],"{",["T_WHITESPACE","\n        ",885],["T_RETURN","return",886],["T_WHITESPACE"," ",886],["T_VARIABLE","$this",886],["T_OBJECT_OPERATOR","->",886],["T_STRING","_getIndexWriter",886],"(",")",["T_OBJECT_OPERATOR","->",886],["T_STRING","mergeFactor",886],";",["T_WHITESPACE","\n    ",886],"}",["T_WHITESPACE","\n\n    ",887],["T_DOC_COMMENT","\/**\n     * Set index mergeFactor option\n     *\n     * mergeFactor determines how often segment indices are merged by addDocument().\n     * With smaller values, less RAM is used while indexing,\n     * and searches on unoptimized indices are faster,\n     * but indexing speed is slower.\n     * With larger values, more RAM is used during indexing,\n     * and while searches on unoptimized indices are slower,\n     * indexing is faster.\n     * Thus larger values (> 10) are best for batch index creation,\n     * and smaller values (< 10) for indices that are interactively maintained.\n     *\n     * Default value is 10\n     *\n     * @param integer $maxMergeDocs\n     *\/",889],["T_WHITESPACE","\n    ",905],["T_PUBLIC","public",906],["T_WHITESPACE"," ",906],["T_FUNCTION","function",906],["T_WHITESPACE"," ",906],["T_STRING","setMergeFactor",906],"(",["T_VARIABLE","$mergeFactor",906],")",["T_WHITESPACE","\n    ",906],"{",["T_WHITESPACE","\n        ",907],["T_VARIABLE","$this",908],["T_OBJECT_OPERATOR","->",908],["T_STRING","_getIndexWriter",908],"(",")",["T_OBJECT_OPERATOR","->",908],["T_STRING","mergeFactor",908],["T_WHITESPACE"," ",908],"=",["T_WHITESPACE"," ",908],["T_VARIABLE","$mergeFactor",908],";",["T_WHITESPACE","\n    ",908],"}",["T_WHITESPACE","\n\n    ",909],["T_DOC_COMMENT","\/**\n     * Performs a query against the index and returns an array\n     * of Zend_Search_Lucene_Search_QueryHit objects.\n     * Input is a string or Zend_Search_Lucene_Search_Query.\n     *\n     * @param Zend_Search_Lucene_Search_QueryParser|string $query\n     * @return array Zend_Search_Lucene_Search_QueryHit\n     * @throws Zend_Search_Lucene_Exception\n     *\/",911],["T_WHITESPACE","\n    ",919],["T_PUBLIC","public",920],["T_WHITESPACE"," ",920],["T_FUNCTION","function",920],["T_WHITESPACE"," ",920],["T_STRING","find",920],"(",["T_VARIABLE","$query",920],")",["T_WHITESPACE","\n    ",920],"{",["T_WHITESPACE","\n        ",921],["T_IF","if",922],["T_WHITESPACE"," ",922],"(",["T_STRING","is_string",922],"(",["T_VARIABLE","$query",922],")",")",["T_WHITESPACE"," ",922],"{",["T_WHITESPACE","\n            ",922],["T_COMMENT","#require_once 'Zend\/Search\/Lucene\/Search\/QueryParser.php';\n",923],["T_WHITESPACE","\n            ",924],["T_VARIABLE","$query",925],["T_WHITESPACE"," ",925],"=",["T_WHITESPACE"," ",925],["T_STRING","Zend_Search_Lucene_Search_QueryParser",925],["T_DOUBLE_COLON","::",925],["T_STRING","parse",925],"(",["T_VARIABLE","$query",925],")",";",["T_WHITESPACE","\n        ",925],"}",["T_WHITESPACE","\n\n        ",926],["T_IF","if",928],["T_WHITESPACE"," ",928],"(","!",["T_VARIABLE","$query",928],["T_WHITESPACE"," ",928],["T_INSTANCEOF","instanceof",928],["T_WHITESPACE"," ",928],["T_STRING","Zend_Search_Lucene_Search_Query",928],")",["T_WHITESPACE"," ",928],"{",["T_WHITESPACE","\n            ",928],["T_COMMENT","#require_once 'Zend\/Search\/Lucene\/Exception.php';\n",929],["T_WHITESPACE","            ",930],["T_THROW","throw",930],["T_WHITESPACE"," ",930],["T_NEW","new",930],["T_WHITESPACE"," ",930],["T_STRING","Zend_Search_Lucene_Exception",930],"(",["T_CONSTANT_ENCAPSED_STRING","'Query must be a string or Zend_Search_Lucene_Search_Query object'",930],")",";",["T_WHITESPACE","\n        ",930],"}",["T_WHITESPACE","\n\n        ",931],["T_VARIABLE","$this",933],["T_OBJECT_OPERATOR","->",933],["T_STRING","commit",933],"(",")",";",["T_WHITESPACE","\n\n        ",933],["T_VARIABLE","$hits",935],["T_WHITESPACE","   ",935],"=",["T_WHITESPACE"," ",935],["T_ARRAY","array",935],"(",")",";",["T_WHITESPACE","\n        ",935],["T_VARIABLE","$scores",936],["T_WHITESPACE"," ",936],"=",["T_WHITESPACE"," ",936],["T_ARRAY","array",936],"(",")",";",["T_WHITESPACE","\n        ",936],["T_VARIABLE","$ids",937],["T_WHITESPACE","    ",937],"=",["T_WHITESPACE"," ",937],["T_ARRAY","array",937],"(",")",";",["T_WHITESPACE","\n\n        ",937],["T_VARIABLE","$query",939],["T_WHITESPACE"," ",939],"=",["T_WHITESPACE"," ",939],["T_VARIABLE","$query",939],["T_OBJECT_OPERATOR","->",939],["T_STRING","rewrite",939],"(",["T_VARIABLE","$this",939],")",["T_OBJECT_OPERATOR","->",939],["T_STRING","optimize",939],"(",["T_VARIABLE","$this",939],")",";",["T_WHITESPACE","\n\n        ",939],["T_VARIABLE","$query",941],["T_OBJECT_OPERATOR","->",941],["T_STRING","execute",941],"(",["T_VARIABLE","$this",941],")",";",["T_WHITESPACE","\n\n        ",941],["T_VARIABLE","$topScore",943],["T_WHITESPACE"," ",943],"=",["T_WHITESPACE"," ",943],["T_LNUMBER","0",943],";",["T_WHITESPACE","\n\n        ",943],["T_DOC_COMMENT","\/** Zend_Search_Lucene_Search_QueryHit *\/",945],["T_WHITESPACE","\n        ",945],["T_COMMENT","#require_once 'Zend\/Search\/Lucene\/Search\/QueryHit.php';\n",946],["T_WHITESPACE","\n        ",947],["T_FOREACH","foreach",948],["T_WHITESPACE"," ",948],"(",["T_VARIABLE","$query",948],["T_OBJECT_OPERATOR","->",948],["T_STRING","matchedDocs",948],"(",")",["T_WHITESPACE"," ",948],["T_AS","as",948],["T_WHITESPACE"," ",948],["T_VARIABLE","$id",948],["T_WHITESPACE"," ",948],["T_DOUBLE_ARROW","=>",948],["T_WHITESPACE"," ",948],["T_VARIABLE","$num",948],")",["T_WHITESPACE"," ",948],"{",["T_WHITESPACE","\n            ",948],["T_VARIABLE","$docScore",949],["T_WHITESPACE"," ",949],"=",["T_WHITESPACE"," ",949],["T_VARIABLE","$query",949],["T_OBJECT_OPERATOR","->",949],["T_STRING","score",949],"(",["T_VARIABLE","$id",949],",",["T_WHITESPACE"," ",949],["T_VARIABLE","$this",949],")",";",["T_WHITESPACE","\n            ",949],["T_IF","if",950],"(",["T_WHITESPACE"," ",950],["T_VARIABLE","$docScore",950],["T_WHITESPACE"," ",950],["T_IS_NOT_EQUAL","!=",950],["T_WHITESPACE"," ",950],["T_LNUMBER","0",950],["T_WHITESPACE"," ",950],")",["T_WHITESPACE"," ",950],"{",["T_WHITESPACE","\n                ",950],["T_VARIABLE","$hit",951],["T_WHITESPACE"," ",951],"=",["T_WHITESPACE"," ",951],["T_NEW","new",951],["T_WHITESPACE"," ",951],["T_STRING","Zend_Search_Lucene_Search_QueryHit",951],"(",["T_VARIABLE","$this",951],")",";",["T_WHITESPACE","\n                ",951],["T_VARIABLE","$hit",952],["T_OBJECT_OPERATOR","->",952],["T_STRING","id",952],["T_WHITESPACE"," ",952],"=",["T_WHITESPACE"," ",952],["T_VARIABLE","$id",952],";",["T_WHITESPACE","\n                ",952],["T_VARIABLE","$hit",953],["T_OBJECT_OPERATOR","->",953],["T_STRING","score",953],["T_WHITESPACE"," ",953],"=",["T_WHITESPACE"," ",953],["T_VARIABLE","$docScore",953],";",["T_WHITESPACE","\n\n                ",953],["T_VARIABLE","$hits",955],"[","]",["T_WHITESPACE","   ",955],"=",["T_WHITESPACE"," ",955],["T_VARIABLE","$hit",955],";",["T_WHITESPACE","\n                ",955],["T_VARIABLE","$ids",956],"[","]",["T_WHITESPACE","    ",956],"=",["T_WHITESPACE"," ",956],["T_VARIABLE","$id",956],";",["T_WHITESPACE","\n                ",956],["T_VARIABLE","$scores",957],"[","]",["T_WHITESPACE"," ",957],"=",["T_WHITESPACE"," ",957],["T_VARIABLE","$docScore",957],";",["T_WHITESPACE","\n\n                ",957],["T_IF","if",959],["T_WHITESPACE"," ",959],"(",["T_VARIABLE","$docScore",959],["T_WHITESPACE"," ",959],">",["T_WHITESPACE"," ",959],["T_VARIABLE","$topScore",959],")",["T_WHITESPACE"," ",959],"{",["T_WHITESPACE","\n                    ",959],["T_VARIABLE","$topScore",960],["T_WHITESPACE"," ",960],"=",["T_WHITESPACE"," ",960],["T_VARIABLE","$docScore",960],";",["T_WHITESPACE","\n                ",960],"}",["T_WHITESPACE","\n            ",961],"}",["T_WHITESPACE","\n\n            ",962],["T_IF","if",964],["T_WHITESPACE"," ",964],"(",["T_STRING","self",964],["T_DOUBLE_COLON","::",964],["T_VARIABLE","$_resultSetLimit",964],["T_WHITESPACE"," ",964],["T_IS_NOT_EQUAL","!=",964],["T_WHITESPACE"," ",964],["T_LNUMBER","0",964],["T_WHITESPACE","  ",964],["T_BOOLEAN_AND","&&",964],["T_WHITESPACE","  ",964],["T_STRING","count",964],"(",["T_VARIABLE","$hits",964],")",["T_WHITESPACE"," ",964],["T_IS_GREATER_OR_EQUAL",">=",964],["T_WHITESPACE"," ",964],["T_STRING","self",964],["T_DOUBLE_COLON","::",964],["T_VARIABLE","$_resultSetLimit",964],")",["T_WHITESPACE"," ",964],"{",["T_WHITESPACE","\n                ",964],["T_BREAK","break",965],";",["T_WHITESPACE","\n            ",965],"}",["T_WHITESPACE","\n        ",966],"}",["T_WHITESPACE","\n\n        ",967],["T_IF","if",969],["T_WHITESPACE"," ",969],"(",["T_STRING","count",969],"(",["T_VARIABLE","$hits",969],")",["T_WHITESPACE"," ",969],["T_IS_EQUAL","==",969],["T_WHITESPACE"," ",969],["T_LNUMBER","0",969],")",["T_WHITESPACE"," ",969],"{",["T_WHITESPACE","\n            ",969],["T_COMMENT","\/\/ skip sorting, which may cause a error on empty index\n",970],["T_WHITESPACE","            ",971],["T_RETURN","return",971],["T_WHITESPACE"," ",971],["T_ARRAY","array",971],"(",")",";",["T_WHITESPACE","\n        ",971],"}",["T_WHITESPACE","\n\n        ",972],["T_IF","if",974],["T_WHITESPACE"," ",974],"(",["T_VARIABLE","$topScore",974],["T_WHITESPACE"," ",974],">",["T_WHITESPACE"," ",974],["T_LNUMBER","1",974],")",["T_WHITESPACE"," ",974],"{",["T_WHITESPACE","\n            ",974],["T_FOREACH","foreach",975],["T_WHITESPACE"," ",975],"(",["T_VARIABLE","$hits",975],["T_WHITESPACE"," ",975],["T_AS","as",975],["T_WHITESPACE"," ",975],["T_VARIABLE","$hit",975],")",["T_WHITESPACE"," ",975],"{",["T_WHITESPACE","\n                ",975],["T_VARIABLE","$hit",976],["T_OBJECT_OPERATOR","->",976],["T_STRING","score",976],["T_WHITESPACE"," ",976],["T_DIV_EQUAL","\/=",976],["T_WHITESPACE"," ",976],["T_VARIABLE","$topScore",976],";",["T_WHITESPACE","\n            ",976],"}",["T_WHITESPACE","\n        ",977],"}",["T_WHITESPACE","\n\n        ",978],["T_IF","if",980],["T_WHITESPACE"," ",980],"(",["T_STRING","func_num_args",980],"(",")",["T_WHITESPACE"," ",980],["T_IS_EQUAL","==",980],["T_WHITESPACE"," ",980],["T_LNUMBER","1",980],")",["T_WHITESPACE"," ",980],"{",["T_WHITESPACE","\n            ",980],["T_COMMENT","\/\/ sort by scores\n",981],["T_WHITESPACE","            ",982],["T_STRING","array_multisort",982],"(",["T_VARIABLE","$scores",982],",",["T_WHITESPACE"," ",982],["T_STRING","SORT_DESC",982],",",["T_WHITESPACE"," ",982],["T_STRING","SORT_NUMERIC",982],",",["T_WHITESPACE","\n                            ",982],["T_VARIABLE","$ids",983],",",["T_WHITESPACE","    ",983],["T_STRING","SORT_ASC",983],",",["T_WHITESPACE","  ",983],["T_STRING","SORT_NUMERIC",983],",",["T_WHITESPACE","\n                            ",983],["T_VARIABLE","$hits",984],")",";",["T_WHITESPACE","\n        ",984],"}",["T_WHITESPACE"," ",985],["T_ELSE","else",985],["T_WHITESPACE"," ",985],"{",["T_WHITESPACE","\n            ",985],["T_COMMENT","\/\/ sort by given field names\n",986],["T_WHITESPACE","\n            ",987],["T_VARIABLE","$argList",988],["T_WHITESPACE","    ",988],"=",["T_WHITESPACE"," ",988],["T_STRING","func_get_args",988],"(",")",";",["T_WHITESPACE","\n            ",988],["T_VARIABLE","$fieldNames",989],["T_WHITESPACE"," ",989],"=",["T_WHITESPACE"," ",989],["T_VARIABLE","$this",989],["T_OBJECT_OPERATOR","->",989],["T_STRING","getFieldNames",989],"(",")",";",["T_WHITESPACE","\n            ",989],["T_VARIABLE","$sortArgs",990],["T_WHITESPACE","   ",990],"=",["T_WHITESPACE"," ",990],["T_ARRAY","array",990],"(",")",";",["T_WHITESPACE","\n\n            ",990],["T_COMMENT","\/\/ PHP 5.3 now expects all arguments to array_multisort be passed by\n",992],["T_WHITESPACE","            ",993],["T_COMMENT","\/\/ reference (if it's invoked through call_user_func_array());\n",993],["T_WHITESPACE","            ",994],["T_COMMENT","\/\/ since constants can't be passed by reference, create some placeholder variables.\n",994],["T_WHITESPACE","            ",995],["T_VARIABLE","$sortReg",995],["T_WHITESPACE","    ",995],"=",["T_WHITESPACE"," ",995],["T_STRING","SORT_REGULAR",995],";",["T_WHITESPACE","\n            ",995],["T_VARIABLE","$sortAsc",996],["T_WHITESPACE","    ",996],"=",["T_WHITESPACE"," ",996],["T_STRING","SORT_ASC",996],";",["T_WHITESPACE","\n            ",996],["T_VARIABLE","$sortNum",997],["T_WHITESPACE","    ",997],"=",["T_WHITESPACE"," ",997],["T_STRING","SORT_NUMERIC",997],";",["T_WHITESPACE","\n\n            ",997],["T_VARIABLE","$sortFieldValues",999],["T_WHITESPACE"," ",999],"=",["T_WHITESPACE"," ",999],["T_ARRAY","array",999],"(",")",";",["T_WHITESPACE","\n\n            ",999],["T_COMMENT","#require_once 'Zend\/Search\/Lucene\/Exception.php';\n",1001],["T_WHITESPACE","            ",1002],["T_FOR","for",1002],["T_WHITESPACE"," ",1002],"(",["T_VARIABLE","$count",1002],["T_WHITESPACE"," ",1002],"=",["T_WHITESPACE"," ",1002],["T_LNUMBER","1",1002],";",["T_WHITESPACE"," ",1002],["T_VARIABLE","$count",1002],["T_WHITESPACE"," ",1002],"<",["T_WHITESPACE"," ",1002],["T_STRING","count",1002],"(",["T_VARIABLE","$argList",1002],")",";",["T_WHITESPACE"," ",1002],["T_VARIABLE","$count",1002],["T_INC","++",1002],")",["T_WHITESPACE"," ",1002],"{",["T_WHITESPACE","\n                ",1002],["T_VARIABLE","$fieldName",1003],["T_WHITESPACE"," ",1003],"=",["T_WHITESPACE"," ",1003],["T_VARIABLE","$argList",1003],"[",["T_VARIABLE","$count",1003],"]",";",["T_WHITESPACE","\n\n                ",1003],["T_IF","if",1005],["T_WHITESPACE"," ",1005],"(","!",["T_STRING","is_string",1005],"(",["T_VARIABLE","$fieldName",1005],")",")",["T_WHITESPACE"," ",1005],"{",["T_WHITESPACE","\n                    ",1005],["T_THROW","throw",1006],["T_WHITESPACE"," ",1006],["T_NEW","new",1006],["T_WHITESPACE"," ",1006],["T_STRING","Zend_Search_Lucene_Exception",1006],"(",["T_CONSTANT_ENCAPSED_STRING","'Field name must be a string.'",1006],")",";",["T_WHITESPACE","\n                ",1006],"}",["T_WHITESPACE","\n\n                ",1007],["T_IF","if",1009],["T_WHITESPACE"," ",1009],"(",["T_STRING","strtolower",1009],"(",["T_VARIABLE","$fieldName",1009],")",["T_WHITESPACE"," ",1009],["T_IS_EQUAL","==",1009],["T_WHITESPACE"," ",1009],["T_CONSTANT_ENCAPSED_STRING","'score'",1009],")",["T_WHITESPACE"," ",1009],"{",["T_WHITESPACE","\n                    ",1009],["T_VARIABLE","$sortArgs",1010],"[","]",["T_WHITESPACE"," ",1010],"=",["T_WHITESPACE"," ",1010],"&",["T_VARIABLE","$scores",1010],";",["T_WHITESPACE","\n                ",1010],"}",["T_WHITESPACE"," ",1011],["T_ELSE","else",1011],["T_WHITESPACE"," ",1011],"{",["T_WHITESPACE","\n                    ",1011],["T_IF","if",1012],["T_WHITESPACE"," ",1012],"(","!",["T_STRING","in_array",1012],"(",["T_VARIABLE","$fieldName",1012],",",["T_WHITESPACE"," ",1012],["T_VARIABLE","$fieldNames",1012],")",")",["T_WHITESPACE"," ",1012],"{",["T_WHITESPACE","\n                        ",1012],["T_THROW","throw",1013],["T_WHITESPACE"," ",1013],["T_NEW","new",1013],["T_WHITESPACE"," ",1013],["T_STRING","Zend_Search_Lucene_Exception",1013],"(",["T_CONSTANT_ENCAPSED_STRING","'Wrong field name.'",1013],")",";",["T_WHITESPACE","\n                    ",1013],"}",["T_WHITESPACE","\n\n                    ",1014],["T_IF","if",1016],["T_WHITESPACE"," ",1016],"(","!",["T_ISSET","isset",1016],"(",["T_VARIABLE","$sortFieldValues",1016],"[",["T_VARIABLE","$fieldName",1016],"]",")",")",["T_WHITESPACE"," ",1016],"{",["T_WHITESPACE","\n                        ",1016],["T_VARIABLE","$valuesArray",1017],["T_WHITESPACE"," ",1017],"=",["T_WHITESPACE"," ",1017],["T_ARRAY","array",1017],"(",")",";",["T_WHITESPACE","\n                        ",1017],["T_FOREACH","foreach",1018],["T_WHITESPACE"," ",1018],"(",["T_VARIABLE","$hits",1018],["T_WHITESPACE"," ",1018],["T_AS","as",1018],["T_WHITESPACE"," ",1018],["T_VARIABLE","$hit",1018],")",["T_WHITESPACE"," ",1018],"{",["T_WHITESPACE","\n                            ",1018],["T_TRY","try",1019],["T_WHITESPACE"," ",1019],"{",["T_WHITESPACE","\n                                ",1019],["T_VARIABLE","$value",1020],["T_WHITESPACE"," ",1020],"=",["T_WHITESPACE"," ",1020],["T_VARIABLE","$hit",1020],["T_OBJECT_OPERATOR","->",1020],["T_STRING","getDocument",1020],"(",")",["T_OBJECT_OPERATOR","->",1020],["T_STRING","getFieldValue",1020],"(",["T_VARIABLE","$fieldName",1020],")",";",["T_WHITESPACE","\n                            ",1020],"}",["T_WHITESPACE"," ",1021],["T_CATCH","catch",1021],["T_WHITESPACE"," ",1021],"(",["T_STRING","Zend_Search_Lucene_Exception",1021],["T_WHITESPACE"," ",1021],["T_VARIABLE","$e",1021],")",["T_WHITESPACE"," ",1021],"{",["T_WHITESPACE","\n                                ",1021],["T_IF","if",1022],["T_WHITESPACE"," ",1022],"(",["T_STRING","strpos",1022],"(",["T_VARIABLE","$e",1022],["T_OBJECT_OPERATOR","->",1022],["T_STRING","getMessage",1022],"(",")",",",["T_WHITESPACE"," ",1022],["T_CONSTANT_ENCAPSED_STRING","'not found'",1022],")",["T_WHITESPACE"," ",1022],["T_IS_IDENTICAL","===",1022],["T_WHITESPACE"," ",1022],["T_STRING","false",1022],")",["T_WHITESPACE"," ",1022],"{",["T_WHITESPACE","\n                                    ",1022],["T_THROW","throw",1023],["T_WHITESPACE"," ",1023],["T_NEW","new",1023],["T_WHITESPACE"," ",1023],["T_STRING","Zend_Search_Lucene_Exception",1023],"(",["T_VARIABLE","$e",1023],["T_OBJECT_OPERATOR","->",1023],["T_STRING","getMessage",1023],"(",")",",",["T_WHITESPACE"," ",1023],["T_VARIABLE","$e",1023],["T_OBJECT_OPERATOR","->",1023],["T_STRING","getCode",1023],"(",")",",",["T_WHITESPACE"," ",1023],["T_VARIABLE","$e",1023],")",";",["T_WHITESPACE","\n                                ",1023],"}",["T_WHITESPACE"," ",1024],["T_ELSE","else",1024],["T_WHITESPACE"," ",1024],"{",["T_WHITESPACE","\n                                    ",1024],["T_VARIABLE","$value",1025],["T_WHITESPACE"," ",1025],"=",["T_WHITESPACE"," ",1025],["T_STRING","null",1025],";",["T_WHITESPACE","\n                                ",1025],"}",["T_WHITESPACE","\n                            ",1026],"}",["T_WHITESPACE","\n\n                            ",1027],["T_VARIABLE","$valuesArray",1029],"[","]",["T_WHITESPACE"," ",1029],"=",["T_WHITESPACE"," ",1029],["T_VARIABLE","$value",1029],";",["T_WHITESPACE","\n                        ",1029],"}",["T_WHITESPACE","\n\n                        ",1030],["T_COMMENT","\/\/ Collect loaded values in $sortFieldValues\n",1032],["T_WHITESPACE","                        ",1033],["T_COMMENT","\/\/ Required for PHP 5.3 which translates references into values when source\n",1033],["T_WHITESPACE","                        ",1034],["T_COMMENT","\/\/ variable is destroyed\n",1034],["T_WHITESPACE","                        ",1035],["T_VARIABLE","$sortFieldValues",1035],"[",["T_VARIABLE","$fieldName",1035],"]",["T_WHITESPACE"," ",1035],"=",["T_WHITESPACE"," ",1035],["T_VARIABLE","$valuesArray",1035],";",["T_WHITESPACE","\n                    ",1035],"}",["T_WHITESPACE","\n\n                    ",1036],["T_VARIABLE","$sortArgs",1038],"[","]",["T_WHITESPACE"," ",1038],"=",["T_WHITESPACE"," ",1038],"&",["T_VARIABLE","$sortFieldValues",1038],"[",["T_VARIABLE","$fieldName",1038],"]",";",["T_WHITESPACE","\n                ",1038],"}",["T_WHITESPACE","\n\n                ",1039],["T_IF","if",1041],["T_WHITESPACE"," ",1041],"(",["T_VARIABLE","$count",1041],["T_WHITESPACE"," ",1041],"+",["T_WHITESPACE"," ",1041],["T_LNUMBER","1",1041],["T_WHITESPACE"," ",1041],"<",["T_WHITESPACE"," ",1041],["T_STRING","count",1041],"(",["T_VARIABLE","$argList",1041],")",["T_WHITESPACE","  ",1041],["T_BOOLEAN_AND","&&",1041],["T_WHITESPACE","  ",1041],["T_STRING","is_integer",1041],"(",["T_VARIABLE","$argList",1041],"[",["T_VARIABLE","$count",1041],"+",["T_LNUMBER","1",1041],"]",")",")",["T_WHITESPACE"," ",1041],"{",["T_WHITESPACE","\n                    ",1041],["T_VARIABLE","$count",1042],["T_INC","++",1042],";",["T_WHITESPACE","\n                    ",1042],["T_VARIABLE","$sortArgs",1043],"[","]",["T_WHITESPACE"," ",1043],"=",["T_WHITESPACE"," ",1043],"&",["T_VARIABLE","$argList",1043],"[",["T_VARIABLE","$count",1043],"]",";",["T_WHITESPACE","\n\n                    ",1043],["T_IF","if",1045],["T_WHITESPACE"," ",1045],"(",["T_VARIABLE","$count",1045],["T_WHITESPACE"," ",1045],"+",["T_WHITESPACE"," ",1045],["T_LNUMBER","1",1045],["T_WHITESPACE"," ",1045],"<",["T_WHITESPACE"," ",1045],["T_STRING","count",1045],"(",["T_VARIABLE","$argList",1045],")",["T_WHITESPACE","  ",1045],["T_BOOLEAN_AND","&&",1045],["T_WHITESPACE","  ",1045],["T_STRING","is_integer",1045],"(",["T_VARIABLE","$argList",1045],"[",["T_VARIABLE","$count",1045],"+",["T_LNUMBER","1",1045],"]",")",")",["T_WHITESPACE"," ",1045],"{",["T_WHITESPACE","\n                        ",1045],["T_VARIABLE","$count",1046],["T_INC","++",1046],";",["T_WHITESPACE","\n                        ",1046],["T_VARIABLE","$sortArgs",1047],"[","]",["T_WHITESPACE"," ",1047],"=",["T_WHITESPACE"," ",1047],"&",["T_VARIABLE","$argList",1047],"[",["T_VARIABLE","$count",1047],"]",";",["T_WHITESPACE","\n                    ",1047],"}",["T_WHITESPACE"," ",1048],["T_ELSE","else",1048],["T_WHITESPACE"," ",1048],"{",["T_WHITESPACE","\n                        ",1048],["T_IF","if",1049],["T_WHITESPACE"," ",1049],"(",["T_VARIABLE","$argList",1049],"[",["T_VARIABLE","$count",1049],"]",["T_WHITESPACE"," ",1049],["T_IS_EQUAL","==",1049],["T_WHITESPACE"," ",1049],["T_STRING","SORT_ASC",1049],["T_WHITESPACE","  ",1049],["T_BOOLEAN_OR","||",1049],["T_WHITESPACE"," ",1049],["T_VARIABLE","$argList",1049],"[",["T_VARIABLE","$count",1049],"]",["T_WHITESPACE"," ",1049],["T_IS_EQUAL","==",1049],["T_WHITESPACE"," ",1049],["T_STRING","SORT_DESC",1049],")",["T_WHITESPACE"," ",1049],"{",["T_WHITESPACE","\n                            ",1049],["T_VARIABLE","$sortArgs",1050],"[","]",["T_WHITESPACE"," ",1050],"=",["T_WHITESPACE"," ",1050],"&",["T_VARIABLE","$sortReg",1050],";",["T_WHITESPACE","\n                        ",1050],"}",["T_WHITESPACE"," ",1051],["T_ELSE","else",1051],["T_WHITESPACE"," ",1051],"{",["T_WHITESPACE","\n                            ",1051],["T_VARIABLE","$sortArgs",1052],"[","]",["T_WHITESPACE"," ",1052],"=",["T_WHITESPACE"," ",1052],"&",["T_VARIABLE","$sortAsc",1052],";",["T_WHITESPACE","\n                        ",1052],"}",["T_WHITESPACE","\n                    ",1053],"}",["T_WHITESPACE","\n                ",1054],"}",["T_WHITESPACE"," ",1055],["T_ELSE","else",1055],["T_WHITESPACE"," ",1055],"{",["T_WHITESPACE","\n                    ",1055],["T_VARIABLE","$sortArgs",1056],"[","]",["T_WHITESPACE"," ",1056],"=",["T_WHITESPACE"," ",1056],"&",["T_VARIABLE","$sortAsc",1056],";",["T_WHITESPACE","\n                    ",1056],["T_VARIABLE","$sortArgs",1057],"[","]",["T_WHITESPACE"," ",1057],"=",["T_WHITESPACE"," ",1057],"&",["T_VARIABLE","$sortReg",1057],";",["T_WHITESPACE","\n                ",1057],"}",["T_WHITESPACE","\n            ",1058],"}",["T_WHITESPACE","\n\n            ",1059],["T_COMMENT","\/\/ Sort by id's if values are equal\n",1061],["T_WHITESPACE","            ",1062],["T_VARIABLE","$sortArgs",1062],"[","]",["T_WHITESPACE"," ",1062],"=",["T_WHITESPACE"," ",1062],"&",["T_VARIABLE","$ids",1062],";",["T_WHITESPACE","\n            ",1062],["T_VARIABLE","$sortArgs",1063],"[","]",["T_WHITESPACE"," ",1063],"=",["T_WHITESPACE"," ",1063],"&",["T_VARIABLE","$sortAsc",1063],";",["T_WHITESPACE","\n            ",1063],["T_VARIABLE","$sortArgs",1064],"[","]",["T_WHITESPACE"," ",1064],"=",["T_WHITESPACE"," ",1064],"&",["T_VARIABLE","$sortNum",1064],";",["T_WHITESPACE","\n\n            ",1064],["T_COMMENT","\/\/ Array to be sorted\n",1066],["T_WHITESPACE","            ",1067],["T_VARIABLE","$sortArgs",1067],"[","]",["T_WHITESPACE"," ",1067],"=",["T_WHITESPACE"," ",1067],"&",["T_VARIABLE","$hits",1067],";",["T_WHITESPACE","\n\n            ",1067],["T_COMMENT","\/\/ Do sort\n",1069],["T_WHITESPACE","            ",1070],["T_STRING","call_user_func_array",1070],"(",["T_CONSTANT_ENCAPSED_STRING","'array_multisort'",1070],",",["T_WHITESPACE"," ",1070],["T_VARIABLE","$sortArgs",1070],")",";",["T_WHITESPACE","\n        ",1070],"}",["T_WHITESPACE","\n\n        ",1071],["T_RETURN","return",1073],["T_WHITESPACE"," ",1073],["T_VARIABLE","$hits",1073],";",["T_WHITESPACE","\n    ",1073],"}",["T_WHITESPACE","\n\n\n    ",1074],["T_DOC_COMMENT","\/**\n     * Returns a list of all unique field names that exist in this index.\n     *\n     * @param boolean $indexed\n     * @return array\n     *\/",1077],["T_WHITESPACE","\n    ",1082],["T_PUBLIC","public",1083],["T_WHITESPACE"," ",1083],["T_FUNCTION","function",1083],["T_WHITESPACE"," ",1083],["T_STRING","getFieldNames",1083],"(",["T_VARIABLE","$indexed",1083],["T_WHITESPACE"," ",1083],"=",["T_WHITESPACE"," ",1083],["T_STRING","false",1083],")",["T_WHITESPACE","\n    ",1083],"{",["T_WHITESPACE","\n        ",1084],["T_VARIABLE","$result",1085],["T_WHITESPACE"," ",1085],"=",["T_WHITESPACE"," ",1085],["T_ARRAY","array",1085],"(",")",";",["T_WHITESPACE","\n        ",1085],["T_FOREACH","foreach",1086],"(",["T_WHITESPACE"," ",1086],["T_VARIABLE","$this",1086],["T_OBJECT_OPERATOR","->",1086],["T_STRING","_segmentInfos",1086],["T_WHITESPACE"," ",1086],["T_AS","as",1086],["T_WHITESPACE"," ",1086],["T_VARIABLE","$segmentInfo",1086],["T_WHITESPACE"," ",1086],")",["T_WHITESPACE"," ",1086],"{",["T_WHITESPACE","\n            ",1086],["T_VARIABLE","$result",1087],["T_WHITESPACE"," ",1087],"=",["T_WHITESPACE"," ",1087],["T_STRING","array_merge",1087],"(",["T_VARIABLE","$result",1087],",",["T_WHITESPACE"," ",1087],["T_VARIABLE","$segmentInfo",1087],["T_OBJECT_OPERATOR","->",1087],["T_STRING","getFields",1087],"(",["T_VARIABLE","$indexed",1087],")",")",";",["T_WHITESPACE","\n        ",1087],"}",["T_WHITESPACE","\n        ",1088],["T_RETURN","return",1089],["T_WHITESPACE"," ",1089],["T_VARIABLE","$result",1089],";",["T_WHITESPACE","\n    ",1089],"}",["T_WHITESPACE","\n\n\n    ",1090],["T_DOC_COMMENT","\/**\n     * Returns a Zend_Search_Lucene_Document object for the document\n     * number $id in this index.\n     *\n     * @param integer|Zend_Search_Lucene_Search_QueryHit $id\n     * @return Zend_Search_Lucene_Document\n     * @throws Zend_Search_Lucene_Exception    Exception is thrown if $id is out of the range\n     *\/",1093],["T_WHITESPACE","\n    ",1100],["T_PUBLIC","public",1101],["T_WHITESPACE"," ",1101],["T_FUNCTION","function",1101],["T_WHITESPACE"," ",1101],["T_STRING","getDocument",1101],"(",["T_VARIABLE","$id",1101],")",["T_WHITESPACE","\n    ",1101],"{",["T_WHITESPACE","\n        ",1102],["T_IF","if",1103],["T_WHITESPACE"," ",1103],"(",["T_VARIABLE","$id",1103],["T_WHITESPACE"," ",1103],["T_INSTANCEOF","instanceof",1103],["T_WHITESPACE"," ",1103],["T_STRING","Zend_Search_Lucene_Search_QueryHit",1103],")",["T_WHITESPACE"," ",1103],"{",["T_WHITESPACE","\n            ",1103],["T_COMMENT","\/* @var $id Zend_Search_Lucene_Search_QueryHit *\/",1104],["T_WHITESPACE","\n            ",1104],["T_VARIABLE","$id",1105],["T_WHITESPACE"," ",1105],"=",["T_WHITESPACE"," ",1105],["T_VARIABLE","$id",1105],["T_OBJECT_OPERATOR","->",1105],["T_STRING","id",1105],";",["T_WHITESPACE","\n        ",1105],"}",["T_WHITESPACE","\n\n        ",1106],["T_IF","if",1108],["T_WHITESPACE"," ",1108],"(",["T_VARIABLE","$id",1108],["T_WHITESPACE"," ",1108],["T_IS_GREATER_OR_EQUAL",">=",1108],["T_WHITESPACE"," ",1108],["T_VARIABLE","$this",1108],["T_OBJECT_OPERATOR","->",1108],["T_STRING","_docCount",1108],")",["T_WHITESPACE"," ",1108],"{",["T_WHITESPACE","\n            ",1108],["T_COMMENT","#require_once 'Zend\/Search\/Lucene\/Exception.php';\n",1109],["T_WHITESPACE","            ",1110],["T_THROW","throw",1110],["T_WHITESPACE"," ",1110],["T_NEW","new",1110],["T_WHITESPACE"," ",1110],["T_STRING","Zend_Search_Lucene_Exception",1110],"(",["T_CONSTANT_ENCAPSED_STRING","'Document id is out of the range.'",1110],")",";",["T_WHITESPACE","\n        ",1110],"}",["T_WHITESPACE","\n\n        ",1111],["T_VARIABLE","$segmentStartId",1113],["T_WHITESPACE"," ",1113],"=",["T_WHITESPACE"," ",1113],["T_LNUMBER","0",1113],";",["T_WHITESPACE","\n        ",1113],["T_FOREACH","foreach",1114],["T_WHITESPACE"," ",1114],"(",["T_VARIABLE","$this",1114],["T_OBJECT_OPERATOR","->",1114],["T_STRING","_segmentInfos",1114],["T_WHITESPACE"," ",1114],["T_AS","as",1114],["T_WHITESPACE"," ",1114],["T_VARIABLE","$segmentInfo",1114],")",["T_WHITESPACE"," ",1114],"{",["T_WHITESPACE","\n            ",1114],["T_IF","if",1115],["T_WHITESPACE"," ",1115],"(",["T_VARIABLE","$segmentStartId",1115],["T_WHITESPACE"," ",1115],"+",["T_WHITESPACE"," ",1115],["T_VARIABLE","$segmentInfo",1115],["T_OBJECT_OPERATOR","->",1115],["T_STRING","count",1115],"(",")",["T_WHITESPACE"," ",1115],">",["T_WHITESPACE"," ",1115],["T_VARIABLE","$id",1115],")",["T_WHITESPACE"," ",1115],"{",["T_WHITESPACE","\n                ",1115],["T_BREAK","break",1116],";",["T_WHITESPACE","\n            ",1116],"}",["T_WHITESPACE","\n\n            ",1117],["T_VARIABLE","$segmentStartId",1119],["T_WHITESPACE"," ",1119],["T_PLUS_EQUAL","+=",1119],["T_WHITESPACE"," ",1119],["T_VARIABLE","$segmentInfo",1119],["T_OBJECT_OPERATOR","->",1119],["T_STRING","count",1119],"(",")",";",["T_WHITESPACE","\n        ",1119],"}",["T_WHITESPACE","\n\n        ",1120],["T_VARIABLE","$fdxFile",1122],["T_WHITESPACE"," ",1122],"=",["T_WHITESPACE"," ",1122],["T_VARIABLE","$segmentInfo",1122],["T_OBJECT_OPERATOR","->",1122],["T_STRING","openCompoundFile",1122],"(",["T_CONSTANT_ENCAPSED_STRING","'.fdx'",1122],")",";",["T_WHITESPACE","\n        ",1122],["T_VARIABLE","$fdxFile",1123],["T_OBJECT_OPERATOR","->",1123],["T_STRING","seek",1123],"(","(",["T_VARIABLE","$id",1123],"-",["T_VARIABLE","$segmentStartId",1123],")","*",["T_LNUMBER","8",1123],",",["T_WHITESPACE"," ",1123],["T_STRING","SEEK_CUR",1123],")",";",["T_WHITESPACE","\n        ",1123],["T_VARIABLE","$fieldValuesPosition",1124],["T_WHITESPACE"," ",1124],"=",["T_WHITESPACE"," ",1124],["T_VARIABLE","$fdxFile",1124],["T_OBJECT_OPERATOR","->",1124],["T_STRING","readLong",1124],"(",")",";",["T_WHITESPACE","\n\n        ",1124],["T_VARIABLE","$fdtFile",1126],["T_WHITESPACE"," ",1126],"=",["T_WHITESPACE"," ",1126],["T_VARIABLE","$segmentInfo",1126],["T_OBJECT_OPERATOR","->",1126],["T_STRING","openCompoundFile",1126],"(",["T_CONSTANT_ENCAPSED_STRING","'.fdt'",1126],")",";",["T_WHITESPACE","\n        ",1126],["T_VARIABLE","$fdtFile",1127],["T_OBJECT_OPERATOR","->",1127],["T_STRING","seek",1127],"(",["T_VARIABLE","$fieldValuesPosition",1127],",",["T_WHITESPACE"," ",1127],["T_STRING","SEEK_CUR",1127],")",";",["T_WHITESPACE","\n        ",1127],["T_VARIABLE","$fieldCount",1128],["T_WHITESPACE"," ",1128],"=",["T_WHITESPACE"," ",1128],["T_VARIABLE","$fdtFile",1128],["T_OBJECT_OPERATOR","->",1128],["T_STRING","readVInt",1128],"(",")",";",["T_WHITESPACE","\n\n        ",1128],["T_VARIABLE","$doc",1130],["T_WHITESPACE"," ",1130],"=",["T_WHITESPACE"," ",1130],["T_NEW","new",1130],["T_WHITESPACE"," ",1130],["T_STRING","Zend_Search_Lucene_Document",1130],"(",")",";",["T_WHITESPACE","\n        ",1130],["T_FOR","for",1131],["T_WHITESPACE"," ",1131],"(",["T_VARIABLE","$count",1131],["T_WHITESPACE"," ",1131],"=",["T_WHITESPACE"," ",1131],["T_LNUMBER","0",1131],";",["T_WHITESPACE"," ",1131],["T_VARIABLE","$count",1131],["T_WHITESPACE"," ",1131],"<",["T_WHITESPACE"," ",1131],["T_VARIABLE","$fieldCount",1131],";",["T_WHITESPACE"," ",1131],["T_VARIABLE","$count",1131],["T_INC","++",1131],")",["T_WHITESPACE"," ",1131],"{",["T_WHITESPACE","\n            ",1131],["T_VARIABLE","$fieldNum",1132],["T_WHITESPACE"," ",1132],"=",["T_WHITESPACE"," ",1132],["T_VARIABLE","$fdtFile",1132],["T_OBJECT_OPERATOR","->",1132],["T_STRING","readVInt",1132],"(",")",";",["T_WHITESPACE","\n            ",1132],["T_VARIABLE","$bits",1133],["T_WHITESPACE"," ",1133],"=",["T_WHITESPACE"," ",1133],["T_VARIABLE","$fdtFile",1133],["T_OBJECT_OPERATOR","->",1133],["T_STRING","readByte",1133],"(",")",";",["T_WHITESPACE","\n\n            ",1133],["T_VARIABLE","$fieldInfo",1135],["T_WHITESPACE"," ",1135],"=",["T_WHITESPACE"," ",1135],["T_VARIABLE","$segmentInfo",1135],["T_OBJECT_OPERATOR","->",1135],["T_STRING","getField",1135],"(",["T_VARIABLE","$fieldNum",1135],")",";",["T_WHITESPACE","\n\n            ",1135],["T_IF","if",1137],["T_WHITESPACE"," ",1137],"(","!","(",["T_VARIABLE","$bits",1137],["T_WHITESPACE"," ",1137],"&",["T_WHITESPACE"," ",1137],["T_LNUMBER","2",1137],")",")",["T_WHITESPACE"," ",1137],"{",["T_WHITESPACE"," ",1137],["T_COMMENT","\/\/ Text data\n",1137],["T_WHITESPACE","                ",1138],["T_VARIABLE","$field",1138],["T_WHITESPACE"," ",1138],"=",["T_WHITESPACE"," ",1138],["T_NEW","new",1138],["T_WHITESPACE"," ",1138],["T_STRING","Zend_Search_Lucene_Field",1138],"(",["T_VARIABLE","$fieldInfo",1138],["T_OBJECT_OPERATOR","->",1138],["T_STRING","name",1138],",",["T_WHITESPACE","\n                                                      ",1138],["T_VARIABLE","$fdtFile",1139],["T_OBJECT_OPERATOR","->",1139],["T_STRING","readString",1139],"(",")",",",["T_WHITESPACE","\n                                                      ",1139],["T_CONSTANT_ENCAPSED_STRING","'UTF-8'",1140],",",["T_WHITESPACE","\n                                                      ",1140],["T_STRING","true",1141],",",["T_WHITESPACE","\n                                                      ",1141],["T_VARIABLE","$fieldInfo",1142],["T_OBJECT_OPERATOR","->",1142],["T_STRING","isIndexed",1142],",",["T_WHITESPACE","\n                                                      ",1142],["T_VARIABLE","$bits",1143],["T_WHITESPACE"," ",1143],"&",["T_WHITESPACE"," ",1143],["T_LNUMBER","1",1143],["T_WHITESPACE"," ",1143],")",";",["T_WHITESPACE","\n            ",1143],"}",["T_WHITESPACE"," ",1144],["T_ELSE","else",1144],["T_WHITESPACE"," ",1144],"{",["T_WHITESPACE","            ",1144],["T_COMMENT","\/\/ Binary data\n",1144],["T_WHITESPACE","                ",1145],["T_VARIABLE","$field",1145],["T_WHITESPACE"," ",1145],"=",["T_WHITESPACE"," ",1145],["T_NEW","new",1145],["T_WHITESPACE"," ",1145],["T_STRING","Zend_Search_Lucene_Field",1145],"(",["T_VARIABLE","$fieldInfo",1145],["T_OBJECT_OPERATOR","->",1145],["T_STRING","name",1145],",",["T_WHITESPACE","\n                                                      ",1145],["T_VARIABLE","$fdtFile",1146],["T_OBJECT_OPERATOR","->",1146],["T_STRING","readBinary",1146],"(",")",",",["T_WHITESPACE","\n                                                      ",1146],["T_CONSTANT_ENCAPSED_STRING","''",1147],",",["T_WHITESPACE","\n                                                      ",1147],["T_STRING","true",1148],",",["T_WHITESPACE","\n                                                      ",1148],["T_VARIABLE","$fieldInfo",1149],["T_OBJECT_OPERATOR","->",1149],["T_STRING","isIndexed",1149],",",["T_WHITESPACE","\n                                                      ",1149],["T_VARIABLE","$bits",1150],["T_WHITESPACE"," ",1150],"&",["T_WHITESPACE"," ",1150],["T_LNUMBER","1",1150],",",["T_WHITESPACE","\n                                                      ",1150],["T_STRING","true",1151],["T_WHITESPACE"," ",1151],")",";",["T_WHITESPACE","\n            ",1151],"}",["T_WHITESPACE","\n\n            ",1152],["T_VARIABLE","$doc",1154],["T_OBJECT_OPERATOR","->",1154],["T_STRING","addField",1154],"(",["T_VARIABLE","$field",1154],")",";",["T_WHITESPACE","\n        ",1154],"}",["T_WHITESPACE","\n\n        ",1155],["T_RETURN","return",1157],["T_WHITESPACE"," ",1157],["T_VARIABLE","$doc",1157],";",["T_WHITESPACE","\n    ",1157],"}",["T_WHITESPACE","\n\n\n    ",1158],["T_DOC_COMMENT","\/**\n     * Returns true if index contain documents with specified term.\n     *\n     * Is used for query optimization.\n     *\n     * @param Zend_Search_Lucene_Index_Term $term\n     * @return boolean\n     *\/",1161],["T_WHITESPACE","\n    ",1168],["T_PUBLIC","public",1169],["T_WHITESPACE"," ",1169],["T_FUNCTION","function",1169],["T_WHITESPACE"," ",1169],["T_STRING","hasTerm",1169],"(",["T_STRING","Zend_Search_Lucene_Index_Term",1169],["T_WHITESPACE"," ",1169],["T_VARIABLE","$term",1169],")",["T_WHITESPACE","\n    ",1169],"{",["T_WHITESPACE","\n        ",1170],["T_FOREACH","foreach",1171],["T_WHITESPACE"," ",1171],"(",["T_VARIABLE","$this",1171],["T_OBJECT_OPERATOR","->",1171],["T_STRING","_segmentInfos",1171],["T_WHITESPACE"," ",1171],["T_AS","as",1171],["T_WHITESPACE"," ",1171],["T_VARIABLE","$segInfo",1171],")",["T_WHITESPACE"," ",1171],"{",["T_WHITESPACE","\n            ",1171],["T_IF","if",1172],["T_WHITESPACE"," ",1172],"(",["T_VARIABLE","$segInfo",1172],["T_OBJECT_OPERATOR","->",1172],["T_STRING","getTermInfo",1172],"(",["T_VARIABLE","$term",1172],")",["T_WHITESPACE"," ",1172],["T_IS_NOT_IDENTICAL","!==",1172],["T_WHITESPACE"," ",1172],["T_STRING","null",1172],")",["T_WHITESPACE"," ",1172],"{",["T_WHITESPACE","\n                ",1172],["T_RETURN","return",1173],["T_WHITESPACE"," ",1173],["T_STRING","true",1173],";",["T_WHITESPACE","\n            ",1173],"}",["T_WHITESPACE","\n        ",1174],"}",["T_WHITESPACE","\n\n        ",1175],["T_RETURN","return",1177],["T_WHITESPACE"," ",1177],["T_STRING","false",1177],";",["T_WHITESPACE","\n    ",1177],"}",["T_WHITESPACE","\n\n    ",1178],["T_DOC_COMMENT","\/**\n     * Returns IDs of all documents containing term.\n     *\n     * @param Zend_Search_Lucene_Index_Term $term\n     * @param Zend_Search_Lucene_Index_DocsFilter|null $docsFilter\n     * @return array\n     *\/",1180],["T_WHITESPACE","\n    ",1186],["T_PUBLIC","public",1187],["T_WHITESPACE"," ",1187],["T_FUNCTION","function",1187],["T_WHITESPACE"," ",1187],["T_STRING","termDocs",1187],"(",["T_STRING","Zend_Search_Lucene_Index_Term",1187],["T_WHITESPACE"," ",1187],["T_VARIABLE","$term",1187],",",["T_WHITESPACE"," ",1187],["T_VARIABLE","$docsFilter",1187],["T_WHITESPACE"," ",1187],"=",["T_WHITESPACE"," ",1187],["T_STRING","null",1187],")",["T_WHITESPACE","\n    ",1187],"{",["T_WHITESPACE","\n        ",1188],["T_VARIABLE","$subResults",1189],["T_WHITESPACE"," ",1189],"=",["T_WHITESPACE"," ",1189],["T_ARRAY","array",1189],"(",")",";",["T_WHITESPACE","\n        ",1189],["T_VARIABLE","$segmentStartDocId",1190],["T_WHITESPACE"," ",1190],"=",["T_WHITESPACE"," ",1190],["T_LNUMBER","0",1190],";",["T_WHITESPACE","\n\n        ",1190],["T_FOREACH","foreach",1192],["T_WHITESPACE"," ",1192],"(",["T_VARIABLE","$this",1192],["T_OBJECT_OPERATOR","->",1192],["T_STRING","_segmentInfos",1192],["T_WHITESPACE"," ",1192],["T_AS","as",1192],["T_WHITESPACE"," ",1192],["T_VARIABLE","$segmentInfo",1192],")",["T_WHITESPACE"," ",1192],"{",["T_WHITESPACE","\n            ",1192],["T_VARIABLE","$subResults",1193],"[","]",["T_WHITESPACE"," ",1193],"=",["T_WHITESPACE"," ",1193],["T_VARIABLE","$segmentInfo",1193],["T_OBJECT_OPERATOR","->",1193],["T_STRING","termDocs",1193],"(",["T_VARIABLE","$term",1193],",",["T_WHITESPACE"," ",1193],["T_VARIABLE","$segmentStartDocId",1193],",",["T_WHITESPACE"," ",1193],["T_VARIABLE","$docsFilter",1193],")",";",["T_WHITESPACE","\n\n            ",1193],["T_VARIABLE","$segmentStartDocId",1195],["T_WHITESPACE"," ",1195],["T_PLUS_EQUAL","+=",1195],["T_WHITESPACE"," ",1195],["T_VARIABLE","$segmentInfo",1195],["T_OBJECT_OPERATOR","->",1195],["T_STRING","count",1195],"(",")",";",["T_WHITESPACE","\n        ",1195],"}",["T_WHITESPACE","\n\n        ",1196],["T_IF","if",1198],["T_WHITESPACE"," ",1198],"(",["T_STRING","count",1198],"(",["T_VARIABLE","$subResults",1198],")",["T_WHITESPACE"," ",1198],["T_IS_EQUAL","==",1198],["T_WHITESPACE"," ",1198],["T_LNUMBER","0",1198],")",["T_WHITESPACE"," ",1198],"{",["T_WHITESPACE","\n            ",1198],["T_RETURN","return",1199],["T_WHITESPACE"," ",1199],["T_ARRAY","array",1199],"(",")",";",["T_WHITESPACE","\n        ",1199],"}",["T_WHITESPACE"," ",1200],["T_ELSE","else",1200],["T_WHITESPACE"," ",1200],["T_IF","if",1200],["T_WHITESPACE"," ",1200],"(",["T_STRING","count",1200],"(",["T_VARIABLE","$subResults",1200],")",["T_WHITESPACE"," ",1200],["T_IS_EQUAL","==",1200],["T_WHITESPACE"," ",1200],["T_LNUMBER","1",1200],")",["T_WHITESPACE"," ",1200],"{",["T_WHITESPACE","\n            ",1200],["T_COMMENT","\/\/ Index is optimized (only one segment)\n",1201],["T_WHITESPACE","            ",1202],["T_COMMENT","\/\/ Do not perform array reindexing\n",1202],["T_WHITESPACE","            ",1203],["T_RETURN","return",1203],["T_WHITESPACE"," ",1203],["T_STRING","reset",1203],"(",["T_VARIABLE","$subResults",1203],")",";",["T_WHITESPACE","\n        ",1203],"}",["T_WHITESPACE"," ",1204],["T_ELSE","else",1204],["T_WHITESPACE"," ",1204],"{",["T_WHITESPACE","\n            ",1204],["T_VARIABLE","$result",1205],["T_WHITESPACE"," ",1205],"=",["T_WHITESPACE"," ",1205],["T_STRING","call_user_func_array",1205],"(",["T_CONSTANT_ENCAPSED_STRING","'array_merge'",1205],",",["T_WHITESPACE"," ",1205],["T_VARIABLE","$subResults",1205],")",";",["T_WHITESPACE","\n        ",1205],"}",["T_WHITESPACE","\n\n        ",1206],["T_RETURN","return",1208],["T_WHITESPACE"," ",1208],["T_VARIABLE","$result",1208],";",["T_WHITESPACE","\n    ",1208],"}",["T_WHITESPACE","\n\n    ",1209],["T_DOC_COMMENT","\/**\n     * Returns documents filter for all documents containing term.\n     *\n     * It performs the same operation as termDocs, but return result as\n     * Zend_Search_Lucene_Index_DocsFilter object\n     *\n     * @param Zend_Search_Lucene_Index_Term $term\n     * @param Zend_Search_Lucene_Index_DocsFilter|null $docsFilter\n     * @return Zend_Search_Lucene_Index_DocsFilter\n     *\/",1211],["T_WHITESPACE","\n    ",1220],["T_PUBLIC","public",1221],["T_WHITESPACE"," ",1221],["T_FUNCTION","function",1221],["T_WHITESPACE"," ",1221],["T_STRING","termDocsFilter",1221],"(",["T_STRING","Zend_Search_Lucene_Index_Term",1221],["T_WHITESPACE"," ",1221],["T_VARIABLE","$term",1221],",",["T_WHITESPACE"," ",1221],["T_VARIABLE","$docsFilter",1221],["T_WHITESPACE"," ",1221],"=",["T_WHITESPACE"," ",1221],["T_STRING","null",1221],")",["T_WHITESPACE","\n    ",1221],"{",["T_WHITESPACE","\n        ",1222],["T_VARIABLE","$segmentStartDocId",1223],["T_WHITESPACE"," ",1223],"=",["T_WHITESPACE"," ",1223],["T_LNUMBER","0",1223],";",["T_WHITESPACE","\n        ",1223],["T_VARIABLE","$result",1224],["T_WHITESPACE"," ",1224],"=",["T_WHITESPACE"," ",1224],["T_NEW","new",1224],["T_WHITESPACE"," ",1224],["T_STRING","Zend_Search_Lucene_Index_DocsFilter",1224],"(",")",";",["T_WHITESPACE","\n\n        ",1224],["T_FOREACH","foreach",1226],["T_WHITESPACE"," ",1226],"(",["T_VARIABLE","$this",1226],["T_OBJECT_OPERATOR","->",1226],["T_STRING","_segmentInfos",1226],["T_WHITESPACE"," ",1226],["T_AS","as",1226],["T_WHITESPACE"," ",1226],["T_VARIABLE","$segmentInfo",1226],")",["T_WHITESPACE"," ",1226],"{",["T_WHITESPACE","\n            ",1226],["T_VARIABLE","$subResults",1227],"[","]",["T_WHITESPACE"," ",1227],"=",["T_WHITESPACE"," ",1227],["T_VARIABLE","$segmentInfo",1227],["T_OBJECT_OPERATOR","->",1227],["T_STRING","termDocs",1227],"(",["T_VARIABLE","$term",1227],",",["T_WHITESPACE"," ",1227],["T_VARIABLE","$segmentStartDocId",1227],",",["T_WHITESPACE"," ",1227],["T_VARIABLE","$docsFilter",1227],")",";",["T_WHITESPACE","\n\n            ",1227],["T_VARIABLE","$segmentStartDocId",1229],["T_WHITESPACE"," ",1229],["T_PLUS_EQUAL","+=",1229],["T_WHITESPACE"," ",1229],["T_VARIABLE","$segmentInfo",1229],["T_OBJECT_OPERATOR","->",1229],["T_STRING","count",1229],"(",")",";",["T_WHITESPACE","\n        ",1229],"}",["T_WHITESPACE","\n\n        ",1230],["T_IF","if",1232],["T_WHITESPACE"," ",1232],"(",["T_STRING","count",1232],"(",["T_VARIABLE","$subResults",1232],")",["T_WHITESPACE"," ",1232],["T_IS_EQUAL","==",1232],["T_WHITESPACE"," ",1232],["T_LNUMBER","0",1232],")",["T_WHITESPACE"," ",1232],"{",["T_WHITESPACE","\n            ",1232],["T_RETURN","return",1233],["T_WHITESPACE"," ",1233],["T_ARRAY","array",1233],"(",")",";",["T_WHITESPACE","\n        ",1233],"}",["T_WHITESPACE"," ",1234],["T_ELSE","else",1234],["T_WHITESPACE"," ",1234],["T_IF","if",1234],["T_WHITESPACE"," ",1234],"(",["T_STRING","count",1234],"(",["T_VARIABLE","$subResults",1234],")",["T_WHITESPACE"," ",1234],["T_IS_EQUAL","==",1234],["T_WHITESPACE"," ",1234],["T_LNUMBER","1",1234],")",["T_WHITESPACE"," ",1234],"{",["T_WHITESPACE","\n            ",1234],["T_COMMENT","\/\/ Index is optimized (only one segment)\n",1235],["T_WHITESPACE","            ",1236],["T_COMMENT","\/\/ Do not perform array reindexing\n",1236],["T_WHITESPACE","            ",1237],["T_RETURN","return",1237],["T_WHITESPACE"," ",1237],["T_STRING","reset",1237],"(",["T_VARIABLE","$subResults",1237],")",";",["T_WHITESPACE","\n        ",1237],"}",["T_WHITESPACE"," ",1238],["T_ELSE","else",1238],["T_WHITESPACE"," ",1238],"{",["T_WHITESPACE","\n            ",1238],["T_VARIABLE","$result",1239],["T_WHITESPACE"," ",1239],"=",["T_WHITESPACE"," ",1239],["T_STRING","call_user_func_array",1239],"(",["T_CONSTANT_ENCAPSED_STRING","'array_merge'",1239],",",["T_WHITESPACE"," ",1239],["T_VARIABLE","$subResults",1239],")",";",["T_WHITESPACE","\n        ",1239],"}",["T_WHITESPACE","\n\n        ",1240],["T_RETURN","return",1242],["T_WHITESPACE"," ",1242],["T_VARIABLE","$result",1242],";",["T_WHITESPACE","\n    ",1242],"}",["T_WHITESPACE","\n\n\n    ",1243],["T_DOC_COMMENT","\/**\n     * Returns an array of all term freqs.\n     * Result array structure: array(docId => freq, ...)\n     *\n     * @param Zend_Search_Lucene_Index_Term $term\n     * @param Zend_Search_Lucene_Index_DocsFilter|null $docsFilter\n     * @return integer\n     *\/",1246],["T_WHITESPACE","\n    ",1253],["T_PUBLIC","public",1254],["T_WHITESPACE"," ",1254],["T_FUNCTION","function",1254],["T_WHITESPACE"," ",1254],["T_STRING","termFreqs",1254],"(",["T_STRING","Zend_Search_Lucene_Index_Term",1254],["T_WHITESPACE"," ",1254],["T_VARIABLE","$term",1254],",",["T_WHITESPACE"," ",1254],["T_VARIABLE","$docsFilter",1254],["T_WHITESPACE"," ",1254],"=",["T_WHITESPACE"," ",1254],["T_STRING","null",1254],")",["T_WHITESPACE","\n    ",1254],"{",["T_WHITESPACE","\n        ",1255],["T_VARIABLE","$result",1256],["T_WHITESPACE"," ",1256],"=",["T_WHITESPACE"," ",1256],["T_ARRAY","array",1256],"(",")",";",["T_WHITESPACE","\n        ",1256],["T_VARIABLE","$segmentStartDocId",1257],["T_WHITESPACE"," ",1257],"=",["T_WHITESPACE"," ",1257],["T_LNUMBER","0",1257],";",["T_WHITESPACE","\n        ",1257],["T_FOREACH","foreach",1258],["T_WHITESPACE"," ",1258],"(",["T_VARIABLE","$this",1258],["T_OBJECT_OPERATOR","->",1258],["T_STRING","_segmentInfos",1258],["T_WHITESPACE"," ",1258],["T_AS","as",1258],["T_WHITESPACE"," ",1258],["T_VARIABLE","$segmentInfo",1258],")",["T_WHITESPACE"," ",1258],"{",["T_WHITESPACE","\n            ",1258],["T_VARIABLE","$result",1259],["T_WHITESPACE"," ",1259],["T_PLUS_EQUAL","+=",1259],["T_WHITESPACE"," ",1259],["T_VARIABLE","$segmentInfo",1259],["T_OBJECT_OPERATOR","->",1259],["T_STRING","termFreqs",1259],"(",["T_VARIABLE","$term",1259],",",["T_WHITESPACE"," ",1259],["T_VARIABLE","$segmentStartDocId",1259],",",["T_WHITESPACE"," ",1259],["T_VARIABLE","$docsFilter",1259],")",";",["T_WHITESPACE","\n\n            ",1259],["T_VARIABLE","$segmentStartDocId",1261],["T_WHITESPACE"," ",1261],["T_PLUS_EQUAL","+=",1261],["T_WHITESPACE"," ",1261],["T_VARIABLE","$segmentInfo",1261],["T_OBJECT_OPERATOR","->",1261],["T_STRING","count",1261],"(",")",";",["T_WHITESPACE","\n        ",1261],"}",["T_WHITESPACE","\n\n        ",1262],["T_RETURN","return",1264],["T_WHITESPACE"," ",1264],["T_VARIABLE","$result",1264],";",["T_WHITESPACE","\n    ",1264],"}",["T_WHITESPACE","\n\n    ",1265],["T_DOC_COMMENT","\/**\n     * Returns an array of all term positions in the documents.\n     * Result array structure: array(docId => array(pos1, pos2, ...), ...)\n     *\n     * @param Zend_Search_Lucene_Index_Term $term\n     * @param Zend_Search_Lucene_Index_DocsFilter|null $docsFilter\n     * @return array\n     *\/",1267],["T_WHITESPACE","\n    ",1274],["T_PUBLIC","public",1275],["T_WHITESPACE"," ",1275],["T_FUNCTION","function",1275],["T_WHITESPACE"," ",1275],["T_STRING","termPositions",1275],"(",["T_STRING","Zend_Search_Lucene_Index_Term",1275],["T_WHITESPACE"," ",1275],["T_VARIABLE","$term",1275],",",["T_WHITESPACE"," ",1275],["T_VARIABLE","$docsFilter",1275],["T_WHITESPACE"," ",1275],"=",["T_WHITESPACE"," ",1275],["T_STRING","null",1275],")",["T_WHITESPACE","\n    ",1275],"{",["T_WHITESPACE","\n        ",1276],["T_VARIABLE","$result",1277],["T_WHITESPACE"," ",1277],"=",["T_WHITESPACE"," ",1277],["T_ARRAY","array",1277],"(",")",";",["T_WHITESPACE","\n        ",1277],["T_VARIABLE","$segmentStartDocId",1278],["T_WHITESPACE"," ",1278],"=",["T_WHITESPACE"," ",1278],["T_LNUMBER","0",1278],";",["T_WHITESPACE","\n        ",1278],["T_FOREACH","foreach",1279],["T_WHITESPACE"," ",1279],"(",["T_VARIABLE","$this",1279],["T_OBJECT_OPERATOR","->",1279],["T_STRING","_segmentInfos",1279],["T_WHITESPACE"," ",1279],["T_AS","as",1279],["T_WHITESPACE"," ",1279],["T_VARIABLE","$segmentInfo",1279],")",["T_WHITESPACE"," ",1279],"{",["T_WHITESPACE","\n            ",1279],["T_VARIABLE","$result",1280],["T_WHITESPACE"," ",1280],["T_PLUS_EQUAL","+=",1280],["T_WHITESPACE"," ",1280],["T_VARIABLE","$segmentInfo",1280],["T_OBJECT_OPERATOR","->",1280],["T_STRING","termPositions",1280],"(",["T_VARIABLE","$term",1280],",",["T_WHITESPACE"," ",1280],["T_VARIABLE","$segmentStartDocId",1280],",",["T_WHITESPACE"," ",1280],["T_VARIABLE","$docsFilter",1280],")",";",["T_WHITESPACE","\n\n            ",1280],["T_VARIABLE","$segmentStartDocId",1282],["T_WHITESPACE"," ",1282],["T_PLUS_EQUAL","+=",1282],["T_WHITESPACE"," ",1282],["T_VARIABLE","$segmentInfo",1282],["T_OBJECT_OPERATOR","->",1282],["T_STRING","count",1282],"(",")",";",["T_WHITESPACE","\n        ",1282],"}",["T_WHITESPACE","\n\n        ",1283],["T_RETURN","return",1285],["T_WHITESPACE"," ",1285],["T_VARIABLE","$result",1285],";",["T_WHITESPACE","\n    ",1285],"}",["T_WHITESPACE","\n\n\n    ",1286],["T_DOC_COMMENT","\/**\n     * Returns the number of documents in this index containing the $term.\n     *\n     * @param Zend_Search_Lucene_Index_Term $term\n     * @return integer\n     *\/",1289],["T_WHITESPACE","\n    ",1294],["T_PUBLIC","public",1295],["T_WHITESPACE"," ",1295],["T_FUNCTION","function",1295],["T_WHITESPACE"," ",1295],["T_STRING","docFreq",1295],"(",["T_STRING","Zend_Search_Lucene_Index_Term",1295],["T_WHITESPACE"," ",1295],["T_VARIABLE","$term",1295],")",["T_WHITESPACE","\n    ",1295],"{",["T_WHITESPACE","\n        ",1296],["T_VARIABLE","$result",1297],["T_WHITESPACE"," ",1297],"=",["T_WHITESPACE"," ",1297],["T_LNUMBER","0",1297],";",["T_WHITESPACE","\n        ",1297],["T_FOREACH","foreach",1298],["T_WHITESPACE"," ",1298],"(",["T_VARIABLE","$this",1298],["T_OBJECT_OPERATOR","->",1298],["T_STRING","_segmentInfos",1298],["T_WHITESPACE"," ",1298],["T_AS","as",1298],["T_WHITESPACE"," ",1298],["T_VARIABLE","$segInfo",1298],")",["T_WHITESPACE"," ",1298],"{",["T_WHITESPACE","\n            ",1298],["T_VARIABLE","$termInfo",1299],["T_WHITESPACE"," ",1299],"=",["T_WHITESPACE"," ",1299],["T_VARIABLE","$segInfo",1299],["T_OBJECT_OPERATOR","->",1299],["T_STRING","getTermInfo",1299],"(",["T_VARIABLE","$term",1299],")",";",["T_WHITESPACE","\n            ",1299],["T_IF","if",1300],["T_WHITESPACE"," ",1300],"(",["T_VARIABLE","$termInfo",1300],["T_WHITESPACE"," ",1300],["T_IS_NOT_IDENTICAL","!==",1300],["T_WHITESPACE"," ",1300],["T_STRING","null",1300],")",["T_WHITESPACE"," ",1300],"{",["T_WHITESPACE","\n                ",1300],["T_VARIABLE","$result",1301],["T_WHITESPACE"," ",1301],["T_PLUS_EQUAL","+=",1301],["T_WHITESPACE"," ",1301],["T_VARIABLE","$termInfo",1301],["T_OBJECT_OPERATOR","->",1301],["T_STRING","docFreq",1301],";",["T_WHITESPACE","\n            ",1301],"}",["T_WHITESPACE","\n        ",1302],"}",["T_WHITESPACE","\n\n        ",1303],["T_RETURN","return",1305],["T_WHITESPACE"," ",1305],["T_VARIABLE","$result",1305],";",["T_WHITESPACE","\n    ",1305],"}",["T_WHITESPACE","\n\n\n    ",1306],["T_DOC_COMMENT","\/**\n     * Retrive similarity used by index reader\n     *\n     * @return Zend_Search_Lucene_Search_Similarity\n     *\/",1309],["T_WHITESPACE","\n    ",1313],["T_PUBLIC","public",1314],["T_WHITESPACE"," ",1314],["T_FUNCTION","function",1314],["T_WHITESPACE"," ",1314],["T_STRING","getSimilarity",1314],"(",")",["T_WHITESPACE","\n    ",1314],"{",["T_WHITESPACE","\n        ",1315],["T_DOC_COMMENT","\/** Zend_Search_Lucene_Search_Similarity *\/",1316],["T_WHITESPACE","\n        ",1316],["T_COMMENT","#require_once 'Zend\/Search\/Lucene\/Search\/Similarity.php';\n",1317],["T_WHITESPACE","\n        ",1318],["T_RETURN","return",1319],["T_WHITESPACE"," ",1319],["T_STRING","Zend_Search_Lucene_Search_Similarity",1319],["T_DOUBLE_COLON","::",1319],["T_STRING","getDefault",1319],"(",")",";",["T_WHITESPACE","\n    ",1319],"}",["T_WHITESPACE","\n\n\n    ",1320],["T_DOC_COMMENT","\/**\n     * Returns a normalization factor for \"field, document\" pair.\n     *\n     * @param integer $id\n     * @param string $fieldName\n     * @return float\n     *\/",1323],["T_WHITESPACE","\n    ",1329],["T_PUBLIC","public",1330],["T_WHITESPACE"," ",1330],["T_FUNCTION","function",1330],["T_WHITESPACE"," ",1330],["T_STRING","norm",1330],"(",["T_VARIABLE","$id",1330],",",["T_WHITESPACE"," ",1330],["T_VARIABLE","$fieldName",1330],")",["T_WHITESPACE","\n    ",1330],"{",["T_WHITESPACE","\n        ",1331],["T_IF","if",1332],["T_WHITESPACE"," ",1332],"(",["T_VARIABLE","$id",1332],["T_WHITESPACE"," ",1332],["T_IS_GREATER_OR_EQUAL",">=",1332],["T_WHITESPACE"," ",1332],["T_VARIABLE","$this",1332],["T_OBJECT_OPERATOR","->",1332],["T_STRING","_docCount",1332],")",["T_WHITESPACE"," ",1332],"{",["T_WHITESPACE","\n            ",1332],["T_RETURN","return",1333],["T_WHITESPACE"," ",1333],["T_STRING","null",1333],";",["T_WHITESPACE","\n        ",1333],"}",["T_WHITESPACE","\n\n        ",1334],["T_VARIABLE","$segmentStartId",1336],["T_WHITESPACE"," ",1336],"=",["T_WHITESPACE"," ",1336],["T_LNUMBER","0",1336],";",["T_WHITESPACE","\n        ",1336],["T_FOREACH","foreach",1337],["T_WHITESPACE"," ",1337],"(",["T_VARIABLE","$this",1337],["T_OBJECT_OPERATOR","->",1337],["T_STRING","_segmentInfos",1337],["T_WHITESPACE"," ",1337],["T_AS","as",1337],["T_WHITESPACE"," ",1337],["T_VARIABLE","$segInfo",1337],")",["T_WHITESPACE"," ",1337],"{",["T_WHITESPACE","\n            ",1337],["T_IF","if",1338],["T_WHITESPACE"," ",1338],"(",["T_VARIABLE","$segmentStartId",1338],["T_WHITESPACE"," ",1338],"+",["T_WHITESPACE"," ",1338],["T_VARIABLE","$segInfo",1338],["T_OBJECT_OPERATOR","->",1338],["T_STRING","count",1338],"(",")",["T_WHITESPACE"," ",1338],">",["T_WHITESPACE"," ",1338],["T_VARIABLE","$id",1338],")",["T_WHITESPACE"," ",1338],"{",["T_WHITESPACE","\n                ",1338],["T_BREAK","break",1339],";",["T_WHITESPACE","\n            ",1339],"}",["T_WHITESPACE","\n\n            ",1340],["T_VARIABLE","$segmentStartId",1342],["T_WHITESPACE"," ",1342],["T_PLUS_EQUAL","+=",1342],["T_WHITESPACE"," ",1342],["T_VARIABLE","$segInfo",1342],["T_OBJECT_OPERATOR","->",1342],["T_STRING","count",1342],"(",")",";",["T_WHITESPACE","\n        ",1342],"}",["T_WHITESPACE","\n\n        ",1343],["T_IF","if",1345],["T_WHITESPACE"," ",1345],"(",["T_VARIABLE","$segInfo",1345],["T_OBJECT_OPERATOR","->",1345],["T_STRING","isDeleted",1345],"(",["T_VARIABLE","$id",1345],["T_WHITESPACE"," ",1345],"-",["T_WHITESPACE"," ",1345],["T_VARIABLE","$segmentStartId",1345],")",")",["T_WHITESPACE"," ",1345],"{",["T_WHITESPACE","\n            ",1345],["T_RETURN","return",1346],["T_WHITESPACE"," ",1346],["T_LNUMBER","0",1346],";",["T_WHITESPACE","\n        ",1346],"}",["T_WHITESPACE","\n\n        ",1347],["T_RETURN","return",1349],["T_WHITESPACE"," ",1349],["T_VARIABLE","$segInfo",1349],["T_OBJECT_OPERATOR","->",1349],["T_STRING","norm",1349],"(",["T_VARIABLE","$id",1349],["T_WHITESPACE"," ",1349],"-",["T_WHITESPACE"," ",1349],["T_VARIABLE","$segmentStartId",1349],",",["T_WHITESPACE"," ",1349],["T_VARIABLE","$fieldName",1349],")",";",["T_WHITESPACE","\n    ",1349],"}",["T_WHITESPACE","\n\n    ",1350],["T_DOC_COMMENT","\/**\n     * Returns true if any documents have been deleted from this index.\n     *\n     * @return boolean\n     *\/",1352],["T_WHITESPACE","\n    ",1356],["T_PUBLIC","public",1357],["T_WHITESPACE"," ",1357],["T_FUNCTION","function",1357],["T_WHITESPACE"," ",1357],["T_STRING","hasDeletions",1357],"(",")",["T_WHITESPACE","\n    ",1357],"{",["T_WHITESPACE","\n        ",1358],["T_FOREACH","foreach",1359],["T_WHITESPACE"," ",1359],"(",["T_VARIABLE","$this",1359],["T_OBJECT_OPERATOR","->",1359],["T_STRING","_segmentInfos",1359],["T_WHITESPACE"," ",1359],["T_AS","as",1359],["T_WHITESPACE"," ",1359],["T_VARIABLE","$segmentInfo",1359],")",["T_WHITESPACE"," ",1359],"{",["T_WHITESPACE","\n            ",1359],["T_IF","if",1360],["T_WHITESPACE"," ",1360],"(",["T_VARIABLE","$segmentInfo",1360],["T_OBJECT_OPERATOR","->",1360],["T_STRING","hasDeletions",1360],"(",")",")",["T_WHITESPACE"," ",1360],"{",["T_WHITESPACE","\n                ",1360],["T_RETURN","return",1361],["T_WHITESPACE"," ",1361],["T_STRING","true",1361],";",["T_WHITESPACE","\n            ",1361],"}",["T_WHITESPACE","\n        ",1362],"}",["T_WHITESPACE","\n\n        ",1363],["T_RETURN","return",1365],["T_WHITESPACE"," ",1365],["T_STRING","false",1365],";",["T_WHITESPACE","\n    ",1365],"}",["T_WHITESPACE","\n\n\n    ",1366],["T_DOC_COMMENT","\/**\n     * Deletes a document from the index.\n     * $id is an internal document id\n     *\n     * @param integer|Zend_Search_Lucene_Search_QueryHit $id\n     * @throws Zend_Search_Lucene_Exception\n     *\/",1369],["T_WHITESPACE","\n    ",1375],["T_PUBLIC","public",1376],["T_WHITESPACE"," ",1376],["T_FUNCTION","function",1376],["T_WHITESPACE"," ",1376],["T_STRING","delete",1376],"(",["T_VARIABLE","$id",1376],")",["T_WHITESPACE","\n    ",1376],"{",["T_WHITESPACE","\n        ",1377],["T_IF","if",1378],["T_WHITESPACE"," ",1378],"(",["T_VARIABLE","$id",1378],["T_WHITESPACE"," ",1378],["T_INSTANCEOF","instanceof",1378],["T_WHITESPACE"," ",1378],["T_STRING","Zend_Search_Lucene_Search_QueryHit",1378],")",["T_WHITESPACE"," ",1378],"{",["T_WHITESPACE","\n            ",1378],["T_COMMENT","\/* @var $id Zend_Search_Lucene_Search_QueryHit *\/",1379],["T_WHITESPACE","\n            ",1379],["T_VARIABLE","$id",1380],["T_WHITESPACE"," ",1380],"=",["T_WHITESPACE"," ",1380],["T_VARIABLE","$id",1380],["T_OBJECT_OPERATOR","->",1380],["T_STRING","id",1380],";",["T_WHITESPACE","\n        ",1380],"}",["T_WHITESPACE","\n\n        ",1381],["T_IF","if",1383],["T_WHITESPACE"," ",1383],"(",["T_VARIABLE","$id",1383],["T_WHITESPACE"," ",1383],["T_IS_GREATER_OR_EQUAL",">=",1383],["T_WHITESPACE"," ",1383],["T_VARIABLE","$this",1383],["T_OBJECT_OPERATOR","->",1383],["T_STRING","_docCount",1383],")",["T_WHITESPACE"," ",1383],"{",["T_WHITESPACE","\n            ",1383],["T_COMMENT","#require_once 'Zend\/Search\/Lucene\/Exception.php';\n",1384],["T_WHITESPACE","            ",1385],["T_THROW","throw",1385],["T_WHITESPACE"," ",1385],["T_NEW","new",1385],["T_WHITESPACE"," ",1385],["T_STRING","Zend_Search_Lucene_Exception",1385],"(",["T_CONSTANT_ENCAPSED_STRING","'Document id is out of the range.'",1385],")",";",["T_WHITESPACE","\n        ",1385],"}",["T_WHITESPACE","\n\n        ",1386],["T_VARIABLE","$segmentStartId",1388],["T_WHITESPACE"," ",1388],"=",["T_WHITESPACE"," ",1388],["T_LNUMBER","0",1388],";",["T_WHITESPACE","\n        ",1388],["T_FOREACH","foreach",1389],["T_WHITESPACE"," ",1389],"(",["T_VARIABLE","$this",1389],["T_OBJECT_OPERATOR","->",1389],["T_STRING","_segmentInfos",1389],["T_WHITESPACE"," ",1389],["T_AS","as",1389],["T_WHITESPACE"," ",1389],["T_VARIABLE","$segmentInfo",1389],")",["T_WHITESPACE"," ",1389],"{",["T_WHITESPACE","\n            ",1389],["T_IF","if",1390],["T_WHITESPACE"," ",1390],"(",["T_VARIABLE","$segmentStartId",1390],["T_WHITESPACE"," ",1390],"+",["T_WHITESPACE"," ",1390],["T_VARIABLE","$segmentInfo",1390],["T_OBJECT_OPERATOR","->",1390],["T_STRING","count",1390],"(",")",["T_WHITESPACE"," ",1390],">",["T_WHITESPACE"," ",1390],["T_VARIABLE","$id",1390],")",["T_WHITESPACE"," ",1390],"{",["T_WHITESPACE","\n                ",1390],["T_BREAK","break",1391],";",["T_WHITESPACE","\n            ",1391],"}",["T_WHITESPACE","\n\n            ",1392],["T_VARIABLE","$segmentStartId",1394],["T_WHITESPACE"," ",1394],["T_PLUS_EQUAL","+=",1394],["T_WHITESPACE"," ",1394],["T_VARIABLE","$segmentInfo",1394],["T_OBJECT_OPERATOR","->",1394],["T_STRING","count",1394],"(",")",";",["T_WHITESPACE","\n        ",1394],"}",["T_WHITESPACE","\n        ",1395],["T_VARIABLE","$segmentInfo",1396],["T_OBJECT_OPERATOR","->",1396],["T_STRING","delete",1396],"(",["T_VARIABLE","$id",1396],["T_WHITESPACE"," ",1396],"-",["T_WHITESPACE"," ",1396],["T_VARIABLE","$segmentStartId",1396],")",";",["T_WHITESPACE","\n\n        ",1396],["T_VARIABLE","$this",1398],["T_OBJECT_OPERATOR","->",1398],["T_STRING","_hasChanges",1398],["T_WHITESPACE"," ",1398],"=",["T_WHITESPACE"," ",1398],["T_STRING","true",1398],";",["T_WHITESPACE","\n    ",1398],"}",["T_WHITESPACE","\n\n\n\n    ",1399],["T_DOC_COMMENT","\/**\n     * Adds a document to this index.\n     *\n     * @param Zend_Search_Lucene_Document $document\n     *\/",1403],["T_WHITESPACE","\n    ",1407],["T_PUBLIC","public",1408],["T_WHITESPACE"," ",1408],["T_FUNCTION","function",1408],["T_WHITESPACE"," ",1408],["T_STRING","addDocument",1408],"(",["T_STRING","Zend_Search_Lucene_Document",1408],["T_WHITESPACE"," ",1408],["T_VARIABLE","$document",1408],")",["T_WHITESPACE","\n    ",1408],"{",["T_WHITESPACE","\n        ",1409],["T_VARIABLE","$this",1410],["T_OBJECT_OPERATOR","->",1410],["T_STRING","_getIndexWriter",1410],"(",")",["T_OBJECT_OPERATOR","->",1410],["T_STRING","addDocument",1410],"(",["T_VARIABLE","$document",1410],")",";",["T_WHITESPACE","\n        ",1410],["T_VARIABLE","$this",1411],["T_OBJECT_OPERATOR","->",1411],["T_STRING","_docCount",1411],["T_INC","++",1411],";",["T_WHITESPACE","\n\n        ",1411],["T_VARIABLE","$this",1413],["T_OBJECT_OPERATOR","->",1413],["T_STRING","_hasChanges",1413],["T_WHITESPACE"," ",1413],"=",["T_WHITESPACE"," ",1413],["T_STRING","true",1413],";",["T_WHITESPACE","\n    ",1413],"}",["T_WHITESPACE","\n\n\n    ",1414],["T_DOC_COMMENT","\/**\n     * Update document counter\n     *\/",1417],["T_WHITESPACE","\n    ",1419],["T_PRIVATE","private",1420],["T_WHITESPACE"," ",1420],["T_FUNCTION","function",1420],["T_WHITESPACE"," ",1420],["T_STRING","_updateDocCount",1420],"(",")",["T_WHITESPACE","\n    ",1420],"{",["T_WHITESPACE","\n        ",1421],["T_VARIABLE","$this",1422],["T_OBJECT_OPERATOR","->",1422],["T_STRING","_docCount",1422],["T_WHITESPACE"," ",1422],"=",["T_WHITESPACE"," ",1422],["T_LNUMBER","0",1422],";",["T_WHITESPACE","\n        ",1422],["T_FOREACH","foreach",1423],["T_WHITESPACE"," ",1423],"(",["T_VARIABLE","$this",1423],["T_OBJECT_OPERATOR","->",1423],["T_STRING","_segmentInfos",1423],["T_WHITESPACE"," ",1423],["T_AS","as",1423],["T_WHITESPACE"," ",1423],["T_VARIABLE","$segInfo",1423],")",["T_WHITESPACE"," ",1423],"{",["T_WHITESPACE","\n            ",1423],["T_VARIABLE","$this",1424],["T_OBJECT_OPERATOR","->",1424],["T_STRING","_docCount",1424],["T_WHITESPACE"," ",1424],["T_PLUS_EQUAL","+=",1424],["T_WHITESPACE"," ",1424],["T_VARIABLE","$segInfo",1424],["T_OBJECT_OPERATOR","->",1424],["T_STRING","count",1424],"(",")",";",["T_WHITESPACE","\n        ",1424],"}",["T_WHITESPACE","\n    ",1425],"}",["T_WHITESPACE","\n\n    ",1426],["T_DOC_COMMENT","\/**\n     * Commit changes resulting from delete() or undeleteAll() operations.\n     *\n     * @todo undeleteAll processing.\n     *\/",1428],["T_WHITESPACE","\n    ",1432],["T_PUBLIC","public",1433],["T_WHITESPACE"," ",1433],["T_FUNCTION","function",1433],["T_WHITESPACE"," ",1433],["T_STRING","commit",1433],"(",")",["T_WHITESPACE","\n    ",1433],"{",["T_WHITESPACE","\n        ",1434],["T_IF","if",1435],["T_WHITESPACE"," ",1435],"(",["T_VARIABLE","$this",1435],["T_OBJECT_OPERATOR","->",1435],["T_STRING","_hasChanges",1435],")",["T_WHITESPACE"," ",1435],"{",["T_WHITESPACE","\n            ",1435],["T_VARIABLE","$this",1436],["T_OBJECT_OPERATOR","->",1436],["T_STRING","_getIndexWriter",1436],"(",")",["T_OBJECT_OPERATOR","->",1436],["T_STRING","commit",1436],"(",")",";",["T_WHITESPACE","\n\n            ",1436],["T_VARIABLE","$this",1438],["T_OBJECT_OPERATOR","->",1438],["T_STRING","_updateDocCount",1438],"(",")",";",["T_WHITESPACE","\n\n            ",1438],["T_VARIABLE","$this",1440],["T_OBJECT_OPERATOR","->",1440],["T_STRING","_hasChanges",1440],["T_WHITESPACE"," ",1440],"=",["T_WHITESPACE"," ",1440],["T_STRING","false",1440],";",["T_WHITESPACE","\n        ",1440],"}",["T_WHITESPACE","\n    ",1441],"}",["T_WHITESPACE","\n\n\n    ",1442],["T_DOC_COMMENT","\/**\n     * Optimize index.\n     *\n     * Merges all segments into one\n     *\/",1445],["T_WHITESPACE","\n    ",1449],["T_PUBLIC","public",1450],["T_WHITESPACE"," ",1450],["T_FUNCTION","function",1450],["T_WHITESPACE"," ",1450],["T_STRING","optimize",1450],"(",")",["T_WHITESPACE","\n    ",1450],"{",["T_WHITESPACE","\n        ",1451],["T_COMMENT","\/\/ Commit changes if any changes have been made\n",1452],["T_WHITESPACE","        ",1453],["T_VARIABLE","$this",1453],["T_OBJECT_OPERATOR","->",1453],["T_STRING","commit",1453],"(",")",";",["T_WHITESPACE","\n\n        ",1453],["T_IF","if",1455],["T_WHITESPACE"," ",1455],"(",["T_STRING","count",1455],"(",["T_VARIABLE","$this",1455],["T_OBJECT_OPERATOR","->",1455],["T_STRING","_segmentInfos",1455],")",["T_WHITESPACE"," ",1455],">",["T_WHITESPACE"," ",1455],["T_LNUMBER","1",1455],["T_WHITESPACE"," ",1455],["T_BOOLEAN_OR","||",1455],["T_WHITESPACE"," ",1455],["T_VARIABLE","$this",1455],["T_OBJECT_OPERATOR","->",1455],["T_STRING","hasDeletions",1455],"(",")",")",["T_WHITESPACE"," ",1455],"{",["T_WHITESPACE","\n            ",1455],["T_VARIABLE","$this",1456],["T_OBJECT_OPERATOR","->",1456],["T_STRING","_getIndexWriter",1456],"(",")",["T_OBJECT_OPERATOR","->",1456],["T_STRING","optimize",1456],"(",")",";",["T_WHITESPACE","\n            ",1456],["T_VARIABLE","$this",1457],["T_OBJECT_OPERATOR","->",1457],["T_STRING","_updateDocCount",1457],"(",")",";",["T_WHITESPACE","\n        ",1457],"}",["T_WHITESPACE","\n    ",1458],"}",["T_WHITESPACE","\n\n\n    ",1459],["T_DOC_COMMENT","\/**\n     * Returns an array of all terms in this index.\n     *\n     * @return array\n     *\/",1462],["T_WHITESPACE","\n    ",1466],["T_PUBLIC","public",1467],["T_WHITESPACE"," ",1467],["T_FUNCTION","function",1467],["T_WHITESPACE"," ",1467],["T_STRING","terms",1467],"(",")",["T_WHITESPACE","\n    ",1467],"{",["T_WHITESPACE","\n        ",1468],["T_VARIABLE","$result",1469],["T_WHITESPACE"," ",1469],"=",["T_WHITESPACE"," ",1469],["T_ARRAY","array",1469],"(",")",";",["T_WHITESPACE","\n\n        ",1469],["T_DOC_COMMENT","\/** Zend_Search_Lucene_Index_TermsPriorityQueue *\/",1471],["T_WHITESPACE","\n        ",1471],["T_COMMENT","#require_once 'Zend\/Search\/Lucene\/Index\/TermsPriorityQueue.php';\n",1472],["T_WHITESPACE","\n        ",1473],["T_VARIABLE","$segmentInfoQueue",1474],["T_WHITESPACE"," ",1474],"=",["T_WHITESPACE"," ",1474],["T_NEW","new",1474],["T_WHITESPACE"," ",1474],["T_STRING","Zend_Search_Lucene_Index_TermsPriorityQueue",1474],"(",")",";",["T_WHITESPACE","\n\n        ",1474],["T_FOREACH","foreach",1476],["T_WHITESPACE"," ",1476],"(",["T_VARIABLE","$this",1476],["T_OBJECT_OPERATOR","->",1476],["T_STRING","_segmentInfos",1476],["T_WHITESPACE"," ",1476],["T_AS","as",1476],["T_WHITESPACE"," ",1476],["T_VARIABLE","$segmentInfo",1476],")",["T_WHITESPACE"," ",1476],"{",["T_WHITESPACE","\n            ",1476],["T_VARIABLE","$segmentInfo",1477],["T_OBJECT_OPERATOR","->",1477],["T_STRING","resetTermsStream",1477],"(",")",";",["T_WHITESPACE","\n\n            ",1477],["T_COMMENT","\/\/ Skip \"empty\" segments\n",1479],["T_WHITESPACE","            ",1480],["T_IF","if",1480],["T_WHITESPACE"," ",1480],"(",["T_VARIABLE","$segmentInfo",1480],["T_OBJECT_OPERATOR","->",1480],["T_STRING","currentTerm",1480],"(",")",["T_WHITESPACE"," ",1480],["T_IS_NOT_IDENTICAL","!==",1480],["T_WHITESPACE"," ",1480],["T_STRING","null",1480],")",["T_WHITESPACE"," ",1480],"{",["T_WHITESPACE","\n                ",1480],["T_VARIABLE","$segmentInfoQueue",1481],["T_OBJECT_OPERATOR","->",1481],["T_STRING","put",1481],"(",["T_VARIABLE","$segmentInfo",1481],")",";",["T_WHITESPACE","\n            ",1481],"}",["T_WHITESPACE","\n        ",1482],"}",["T_WHITESPACE","\n\n        ",1483],["T_WHILE","while",1485],["T_WHITESPACE"," ",1485],"(","(",["T_VARIABLE","$segmentInfo",1485],["T_WHITESPACE"," ",1485],"=",["T_WHITESPACE"," ",1485],["T_VARIABLE","$segmentInfoQueue",1485],["T_OBJECT_OPERATOR","->",1485],["T_STRING","pop",1485],"(",")",")",["T_WHITESPACE"," ",1485],["T_IS_NOT_IDENTICAL","!==",1485],["T_WHITESPACE"," ",1485],["T_STRING","null",1485],")",["T_WHITESPACE"," ",1485],"{",["T_WHITESPACE","\n            ",1485],["T_IF","if",1486],["T_WHITESPACE"," ",1486],"(",["T_VARIABLE","$segmentInfoQueue",1486],["T_OBJECT_OPERATOR","->",1486],["T_STRING","top",1486],"(",")",["T_WHITESPACE"," ",1486],["T_IS_IDENTICAL","===",1486],["T_WHITESPACE"," ",1486],["T_STRING","null",1486],["T_WHITESPACE"," ",1486],["T_BOOLEAN_OR","||",1486],["T_WHITESPACE","\n                ",1486],["T_VARIABLE","$segmentInfoQueue",1487],["T_OBJECT_OPERATOR","->",1487],["T_STRING","top",1487],"(",")",["T_OBJECT_OPERATOR","->",1487],["T_STRING","currentTerm",1487],"(",")",["T_OBJECT_OPERATOR","->",1487],["T_STRING","key",1487],"(",")",["T_WHITESPACE"," ",1487],["T_IS_NOT_EQUAL","!=",1487],["T_WHITESPACE","\n                            ",1487],["T_VARIABLE","$segmentInfo",1488],["T_OBJECT_OPERATOR","->",1488],["T_STRING","currentTerm",1488],"(",")",["T_OBJECT_OPERATOR","->",1488],["T_STRING","key",1488],"(",")",")",["T_WHITESPACE"," ",1488],"{",["T_WHITESPACE","\n                ",1488],["T_COMMENT","\/\/ We got new term\n",1489],["T_WHITESPACE","                ",1490],["T_VARIABLE","$result",1490],"[","]",["T_WHITESPACE"," ",1490],"=",["T_WHITESPACE"," ",1490],["T_VARIABLE","$segmentInfo",1490],["T_OBJECT_OPERATOR","->",1490],["T_STRING","currentTerm",1490],"(",")",";",["T_WHITESPACE","\n            ",1490],"}",["T_WHITESPACE","\n\n            ",1491],["T_IF","if",1493],["T_WHITESPACE"," ",1493],"(",["T_VARIABLE","$segmentInfo",1493],["T_OBJECT_OPERATOR","->",1493],["T_STRING","nextTerm",1493],"(",")",["T_WHITESPACE"," ",1493],["T_IS_NOT_IDENTICAL","!==",1493],["T_WHITESPACE"," ",1493],["T_STRING","null",1493],")",["T_WHITESPACE"," ",1493],"{",["T_WHITESPACE","\n                ",1493],["T_COMMENT","\/\/ Put segment back into the priority queue\n",1494],["T_WHITESPACE","                ",1495],["T_VARIABLE","$segmentInfoQueue",1495],["T_OBJECT_OPERATOR","->",1495],["T_STRING","put",1495],"(",["T_VARIABLE","$segmentInfo",1495],")",";",["T_WHITESPACE","\n            ",1495],"}",["T_WHITESPACE","\n        ",1496],"}",["T_WHITESPACE","\n\n        ",1497],["T_RETURN","return",1499],["T_WHITESPACE"," ",1499],["T_VARIABLE","$result",1499],";",["T_WHITESPACE","\n    ",1499],"}",["T_WHITESPACE","\n\n\n    ",1500],["T_DOC_COMMENT","\/**\n     * Terms stream priority queue object\n     *\n     * @var Zend_Search_Lucene_TermStreamsPriorityQueue\n     *\/",1503],["T_WHITESPACE","\n    ",1507],["T_PRIVATE","private",1508],["T_WHITESPACE"," ",1508],["T_VARIABLE","$_termsStream",1508],["T_WHITESPACE"," ",1508],"=",["T_WHITESPACE"," ",1508],["T_STRING","null",1508],";",["T_WHITESPACE","\n\n    ",1508],["T_DOC_COMMENT","\/**\n     * Reset terms stream.\n     *\/",1510],["T_WHITESPACE","\n    ",1512],["T_PUBLIC","public",1513],["T_WHITESPACE"," ",1513],["T_FUNCTION","function",1513],["T_WHITESPACE"," ",1513],["T_STRING","resetTermsStream",1513],"(",")",["T_WHITESPACE","\n    ",1513],"{",["T_WHITESPACE","\n        ",1514],["T_IF","if",1515],["T_WHITESPACE"," ",1515],"(",["T_VARIABLE","$this",1515],["T_OBJECT_OPERATOR","->",1515],["T_STRING","_termsStream",1515],["T_WHITESPACE"," ",1515],["T_IS_IDENTICAL","===",1515],["T_WHITESPACE"," ",1515],["T_STRING","null",1515],")",["T_WHITESPACE"," ",1515],"{",["T_WHITESPACE","\n            ",1515],["T_DOC_COMMENT","\/** Zend_Search_Lucene_TermStreamsPriorityQueue *\/",1516],["T_WHITESPACE","\n            ",1516],["T_COMMENT","#require_once 'Zend\/Search\/Lucene\/TermStreamsPriorityQueue.php';\n",1517],["T_WHITESPACE","\n            ",1518],["T_VARIABLE","$this",1519],["T_OBJECT_OPERATOR","->",1519],["T_STRING","_termsStream",1519],["T_WHITESPACE"," ",1519],"=",["T_WHITESPACE"," ",1519],["T_NEW","new",1519],["T_WHITESPACE"," ",1519],["T_STRING","Zend_Search_Lucene_TermStreamsPriorityQueue",1519],"(",["T_VARIABLE","$this",1519],["T_OBJECT_OPERATOR","->",1519],["T_STRING","_segmentInfos",1519],")",";",["T_WHITESPACE","\n        ",1519],"}",["T_WHITESPACE"," ",1520],["T_ELSE","else",1520],["T_WHITESPACE"," ",1520],"{",["T_WHITESPACE","\n            ",1520],["T_VARIABLE","$this",1521],["T_OBJECT_OPERATOR","->",1521],["T_STRING","_termsStream",1521],["T_OBJECT_OPERATOR","->",1521],["T_STRING","resetTermsStream",1521],"(",")",";",["T_WHITESPACE","\n        ",1521],"}",["T_WHITESPACE","\n    ",1522],"}",["T_WHITESPACE","\n\n    ",1523],["T_DOC_COMMENT","\/**\n     * Skip terms stream up to the specified term preffix.\n     *\n     * Prefix contains fully specified field info and portion of searched term\n     *\n     * @param Zend_Search_Lucene_Index_Term $prefix\n     *\/",1525],["T_WHITESPACE","\n    ",1531],["T_PUBLIC","public",1532],["T_WHITESPACE"," ",1532],["T_FUNCTION","function",1532],["T_WHITESPACE"," ",1532],["T_STRING","skipTo",1532],"(",["T_STRING","Zend_Search_Lucene_Index_Term",1532],["T_WHITESPACE"," ",1532],["T_VARIABLE","$prefix",1532],")",["T_WHITESPACE","\n    ",1532],"{",["T_WHITESPACE","\n        ",1533],["T_VARIABLE","$this",1534],["T_OBJECT_OPERATOR","->",1534],["T_STRING","_termsStream",1534],["T_OBJECT_OPERATOR","->",1534],["T_STRING","skipTo",1534],"(",["T_VARIABLE","$prefix",1534],")",";",["T_WHITESPACE","\n    ",1534],"}",["T_WHITESPACE","\n\n    ",1535],["T_DOC_COMMENT","\/**\n     * Scans terms dictionary and returns next term\n     *\n     * @return Zend_Search_Lucene_Index_Term|null\n     *\/",1537],["T_WHITESPACE","\n    ",1541],["T_PUBLIC","public",1542],["T_WHITESPACE"," ",1542],["T_FUNCTION","function",1542],["T_WHITESPACE"," ",1542],["T_STRING","nextTerm",1542],"(",")",["T_WHITESPACE","\n    ",1542],"{",["T_WHITESPACE","\n        ",1543],["T_RETURN","return",1544],["T_WHITESPACE"," ",1544],["T_VARIABLE","$this",1544],["T_OBJECT_OPERATOR","->",1544],["T_STRING","_termsStream",1544],["T_OBJECT_OPERATOR","->",1544],["T_STRING","nextTerm",1544],"(",")",";",["T_WHITESPACE","\n    ",1544],"}",["T_WHITESPACE","\n\n    ",1545],["T_DOC_COMMENT","\/**\n     * Returns term in current position\n     *\n     * @return Zend_Search_Lucene_Index_Term|null\n     *\/",1547],["T_WHITESPACE","\n    ",1551],["T_PUBLIC","public",1552],["T_WHITESPACE"," ",1552],["T_FUNCTION","function",1552],["T_WHITESPACE"," ",1552],["T_STRING","currentTerm",1552],"(",")",["T_WHITESPACE","\n    ",1552],"{",["T_WHITESPACE","\n        ",1553],["T_RETURN","return",1554],["T_WHITESPACE"," ",1554],["T_VARIABLE","$this",1554],["T_OBJECT_OPERATOR","->",1554],["T_STRING","_termsStream",1554],["T_OBJECT_OPERATOR","->",1554],["T_STRING","currentTerm",1554],"(",")",";",["T_WHITESPACE","\n    ",1554],"}",["T_WHITESPACE","\n\n    ",1555],["T_DOC_COMMENT","\/**\n     * Close terms stream\n     *\n     * Should be used for resources clean up if stream is not read up to the end\n     *\/",1557],["T_WHITESPACE","\n    ",1561],["T_PUBLIC","public",1562],["T_WHITESPACE"," ",1562],["T_FUNCTION","function",1562],["T_WHITESPACE"," ",1562],["T_STRING","closeTermsStream",1562],"(",")",["T_WHITESPACE","\n    ",1562],"{",["T_WHITESPACE","\n        ",1563],["T_VARIABLE","$this",1564],["T_OBJECT_OPERATOR","->",1564],["T_STRING","_termsStream",1564],["T_OBJECT_OPERATOR","->",1564],["T_STRING","closeTermsStream",1564],"(",")",";",["T_WHITESPACE","\n        ",1564],["T_VARIABLE","$this",1565],["T_OBJECT_OPERATOR","->",1565],["T_STRING","_termsStream",1565],["T_WHITESPACE"," ",1565],"=",["T_WHITESPACE"," ",1565],["T_STRING","null",1565],";",["T_WHITESPACE","\n    ",1565],"}",["T_WHITESPACE","\n\n\n    ",1566],["T_COMMENT","\/*************************************************************************\n    @todo UNIMPLEMENTED\n    *************************************************************************\/",1569],["T_WHITESPACE","\n    ",1571],["T_DOC_COMMENT","\/**\n     * Undeletes all documents currently marked as deleted in this index.\n     *\n     * @todo Implementation\n     *\/",1572],["T_WHITESPACE","\n    ",1576],["T_PUBLIC","public",1577],["T_WHITESPACE"," ",1577],["T_FUNCTION","function",1577],["T_WHITESPACE"," ",1577],["T_STRING","undeleteAll",1577],"(",")",["T_WHITESPACE","\n    ",1577],"{","}",["T_WHITESPACE","\n",1578],"}",["T_WHITESPACE","\n",1579]]