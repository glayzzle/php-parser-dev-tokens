[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Zend Framework\n *\n * LICENSE\n *\n * This source file is subject to the new BSD license that is bundled\n * with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/framework.zend.com\/license\/new-bsd\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@zend.com so we can send you a copy immediately.\n *\n * @category   Zend\n * @package    Zend_Search_Lucene\n * @subpackage Analysis\n * @copyright  Copyright (c) 2005-2015 Zend Technologies USA Inc. (http:\/\/www.zend.com)\n * @license    http:\/\/framework.zend.com\/license\/new-bsd     New BSD License\n * @version    $Id$\n *\/",2],["T_WHITESPACE","\n\n\n",21],["T_DOC_COMMENT","\/** Zend_Search_Lucene_Analysis_Analyzer_Common *\/",24],["T_WHITESPACE","\n",24],["T_COMMENT","#require_once 'Zend\/Search\/Lucene\/Analysis\/Analyzer\/Common.php';\n",25],["T_WHITESPACE","\n\n",26],["T_DOC_COMMENT","\/**\n * @category   Zend\n * @package    Zend_Search_Lucene\n * @subpackage Analysis\n * @copyright  Copyright (c) 2005-2015 Zend Technologies USA Inc. (http:\/\/www.zend.com)\n * @license    http:\/\/framework.zend.com\/license\/new-bsd     New BSD License\n *\/",28],["T_WHITESPACE","\n\n",34],["T_CLASS","class",36],["T_WHITESPACE"," ",36],["T_STRING","Zend_Search_Lucene_Analysis_Analyzer_Common_Utf8",36],["T_WHITESPACE"," ",36],["T_EXTENDS","extends",36],["T_WHITESPACE"," ",36],["T_STRING","Zend_Search_Lucene_Analysis_Analyzer_Common",36],["T_WHITESPACE","\n",36],"{",["T_WHITESPACE","\n    ",37],["T_DOC_COMMENT","\/**\n     * Current char position in an UTF-8 stream\n     *\n     * @var integer\n     *\/",38],["T_WHITESPACE","\n    ",42],["T_PRIVATE","private",43],["T_WHITESPACE"," ",43],["T_VARIABLE","$_position",43],";",["T_WHITESPACE","\n\n    ",43],["T_DOC_COMMENT","\/**\n     * Current binary position in an UTF-8 stream\n     *\n     * @var integer\n     *\/",45],["T_WHITESPACE","\n    ",49],["T_PRIVATE","private",50],["T_WHITESPACE"," ",50],["T_VARIABLE","$_bytePosition",50],";",["T_WHITESPACE","\n\n    ",50],["T_DOC_COMMENT","\/**\n     * Object constructor\n     *\n     * @throws Zend_Search_Lucene_Exception\n     *\/",52],["T_WHITESPACE","\n    ",56],["T_PUBLIC","public",57],["T_WHITESPACE"," ",57],["T_FUNCTION","function",57],["T_WHITESPACE"," ",57],["T_STRING","__construct",57],"(",")",["T_WHITESPACE","\n    ",57],"{",["T_WHITESPACE","\n        ",58],["T_IF","if",59],["T_WHITESPACE"," ",59],"(","@",["T_STRING","preg_match",59],"(",["T_CONSTANT_ENCAPSED_STRING","'\/\\pL\/u'",59],",",["T_WHITESPACE"," ",59],["T_CONSTANT_ENCAPSED_STRING","'a'",59],")",["T_WHITESPACE"," ",59],["T_IS_NOT_EQUAL","!=",59],["T_WHITESPACE"," ",59],["T_LNUMBER","1",59],")",["T_WHITESPACE"," ",59],"{",["T_WHITESPACE","\n            ",59],["T_COMMENT","\/\/ PCRE unicode support is turned off\n",60],["T_WHITESPACE","            ",61],["T_COMMENT","#require_once 'Zend\/Search\/Lucene\/Exception.php';\n",61],["T_WHITESPACE","            ",62],["T_THROW","throw",62],["T_WHITESPACE"," ",62],["T_NEW","new",62],["T_WHITESPACE"," ",62],["T_STRING","Zend_Search_Lucene_Exception",62],"(",["T_CONSTANT_ENCAPSED_STRING","'Utf8 analyzer needs PCRE unicode support to be enabled.'",62],")",";",["T_WHITESPACE","\n        ",62],"}",["T_WHITESPACE","\n    ",63],"}",["T_WHITESPACE","\n\n    ",64],["T_DOC_COMMENT","\/**\n     * Reset token stream\n     *\/",66],["T_WHITESPACE","\n    ",68],["T_PUBLIC","public",69],["T_WHITESPACE"," ",69],["T_FUNCTION","function",69],["T_WHITESPACE"," ",69],["T_STRING","reset",69],"(",")",["T_WHITESPACE","\n    ",69],"{",["T_WHITESPACE","\n        ",70],["T_VARIABLE","$this",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","_position",71],["T_WHITESPACE","     ",71],"=",["T_WHITESPACE"," ",71],["T_LNUMBER","0",71],";",["T_WHITESPACE","\n        ",71],["T_VARIABLE","$this",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","_bytePosition",72],["T_WHITESPACE"," ",72],"=",["T_WHITESPACE"," ",72],["T_LNUMBER","0",72],";",["T_WHITESPACE","\n\n        ",72],["T_COMMENT","\/\/ convert input into UTF-8\n",74],["T_WHITESPACE","        ",75],["T_IF","if",75],["T_WHITESPACE"," ",75],"(",["T_STRING","strcasecmp",75],"(",["T_VARIABLE","$this",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","_encoding",75],",",["T_WHITESPACE"," ",75],["T_CONSTANT_ENCAPSED_STRING","'utf8'",75],["T_WHITESPACE"," ",75],")",["T_WHITESPACE"," ",75],["T_IS_NOT_EQUAL","!=",75],["T_WHITESPACE"," ",75],["T_LNUMBER","0",75],["T_WHITESPACE","  ",75],["T_BOOLEAN_AND","&&",75],["T_WHITESPACE","\n            ",75],["T_STRING","strcasecmp",76],"(",["T_VARIABLE","$this",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","_encoding",76],",",["T_WHITESPACE"," ",76],["T_CONSTANT_ENCAPSED_STRING","'utf-8'",76],")",["T_WHITESPACE"," ",76],["T_IS_NOT_EQUAL","!=",76],["T_WHITESPACE"," ",76],["T_LNUMBER","0",76],["T_WHITESPACE"," ",76],")",["T_WHITESPACE"," ",76],"{",["T_WHITESPACE","\n                ",76],["T_VARIABLE","$this",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","_input",77],["T_WHITESPACE"," ",77],"=",["T_WHITESPACE"," ",77],["T_STRING","iconv",77],"(",["T_VARIABLE","$this",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","_encoding",77],",",["T_WHITESPACE"," ",77],["T_CONSTANT_ENCAPSED_STRING","'UTF-8'",77],",",["T_WHITESPACE"," ",77],["T_VARIABLE","$this",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","_input",77],")",";",["T_WHITESPACE","\n                ",77],["T_VARIABLE","$this",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","_encoding",78],["T_WHITESPACE"," ",78],"=",["T_WHITESPACE"," ",78],["T_CONSTANT_ENCAPSED_STRING","'UTF-8'",78],";",["T_WHITESPACE","\n        ",78],"}",["T_WHITESPACE","\n    ",79],"}",["T_WHITESPACE","\n\n    ",80],["T_DOC_COMMENT","\/**\n     * Tokenization stream API\n     * Get next token\n     * Returns null at the end of stream\n     *\n     * @return Zend_Search_Lucene_Analysis_Token|null\n     *\/",82],["T_WHITESPACE","\n    ",88],["T_PUBLIC","public",89],["T_WHITESPACE"," ",89],["T_FUNCTION","function",89],["T_WHITESPACE"," ",89],["T_STRING","nextToken",89],"(",")",["T_WHITESPACE","\n    ",89],"{",["T_WHITESPACE","\n        ",90],["T_IF","if",91],["T_WHITESPACE"," ",91],"(",["T_VARIABLE","$this",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","_input",91],["T_WHITESPACE"," ",91],["T_IS_IDENTICAL","===",91],["T_WHITESPACE"," ",91],["T_STRING","null",91],")",["T_WHITESPACE"," ",91],"{",["T_WHITESPACE","\n            ",91],["T_RETURN","return",92],["T_WHITESPACE"," ",92],["T_STRING","null",92],";",["T_WHITESPACE","\n        ",92],"}",["T_WHITESPACE","\n\n        ",93],["T_DO","do",95],["T_WHITESPACE"," ",95],"{",["T_WHITESPACE","\n            ",95],["T_IF","if",96],["T_WHITESPACE"," ",96],"(","!",["T_WHITESPACE"," ",96],["T_STRING","preg_match",96],"(",["T_CONSTANT_ENCAPSED_STRING","'\/[\\p{L}]+\/u'",96],",",["T_WHITESPACE"," ",96],["T_VARIABLE","$this",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","_input",96],",",["T_WHITESPACE"," ",96],["T_VARIABLE","$match",96],",",["T_WHITESPACE"," ",96],["T_STRING","PREG_OFFSET_CAPTURE",96],",",["T_WHITESPACE"," ",96],["T_VARIABLE","$this",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","_bytePosition",96],")",")",["T_WHITESPACE"," ",96],"{",["T_WHITESPACE","\n                ",96],["T_COMMENT","\/\/ It covers both cases a) there are no matches (preg_match(...) === 0)\n",97],["T_WHITESPACE","                ",98],["T_COMMENT","\/\/ b) error occured (preg_match(...) === FALSE)\n",98],["T_WHITESPACE","                ",99],["T_RETURN","return",99],["T_WHITESPACE"," ",99],["T_STRING","null",99],";",["T_WHITESPACE","\n            ",99],"}",["T_WHITESPACE","\n\n            ",100],["T_COMMENT","\/\/ matched string\n",102],["T_WHITESPACE","            ",103],["T_VARIABLE","$matchedWord",103],["T_WHITESPACE"," ",103],"=",["T_WHITESPACE"," ",103],["T_VARIABLE","$match",103],"[",["T_LNUMBER","0",103],"]","[",["T_LNUMBER","0",103],"]",";",["T_WHITESPACE","\n\n            ",103],["T_COMMENT","\/\/ binary position of the matched word in the input stream\n",105],["T_WHITESPACE","            ",106],["T_VARIABLE","$binStartPos",106],["T_WHITESPACE"," ",106],"=",["T_WHITESPACE"," ",106],["T_VARIABLE","$match",106],"[",["T_LNUMBER","0",106],"]","[",["T_LNUMBER","1",106],"]",";",["T_WHITESPACE","\n\n            ",106],["T_COMMENT","\/\/ character position of the matched word in the input stream\n",108],["T_WHITESPACE","            ",109],["T_VARIABLE","$startPos",109],["T_WHITESPACE"," ",109],"=",["T_WHITESPACE"," ",109],["T_VARIABLE","$this",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","_position",109],["T_WHITESPACE"," ",109],"+",["T_WHITESPACE","\n                        ",109],["T_STRING","iconv_strlen",110],"(",["T_STRING","substr",110],"(",["T_VARIABLE","$this",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","_input",110],",",["T_WHITESPACE","\n                                            ",110],["T_VARIABLE","$this",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","_bytePosition",111],",",["T_WHITESPACE","\n                                            ",111],["T_VARIABLE","$binStartPos",112],["T_WHITESPACE"," ",112],"-",["T_WHITESPACE"," ",112],["T_VARIABLE","$this",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","_bytePosition",112],")",",",["T_WHITESPACE","\n                                     ",112],["T_CONSTANT_ENCAPSED_STRING","'UTF-8'",113],")",";",["T_WHITESPACE","\n            ",113],["T_COMMENT","\/\/ character postion of the end of matched word in the input stream\n",114],["T_WHITESPACE","            ",115],["T_VARIABLE","$endPos",115],["T_WHITESPACE"," ",115],"=",["T_WHITESPACE"," ",115],["T_VARIABLE","$startPos",115],["T_WHITESPACE"," ",115],"+",["T_WHITESPACE"," ",115],["T_STRING","iconv_strlen",115],"(",["T_VARIABLE","$matchedWord",115],",",["T_WHITESPACE"," ",115],["T_CONSTANT_ENCAPSED_STRING","'UTF-8'",115],")",";",["T_WHITESPACE","\n\n            ",115],["T_VARIABLE","$this",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","_bytePosition",117],["T_WHITESPACE"," ",117],"=",["T_WHITESPACE"," ",117],["T_VARIABLE","$binStartPos",117],["T_WHITESPACE"," ",117],"+",["T_WHITESPACE"," ",117],["T_STRING","strlen",117],"(",["T_VARIABLE","$matchedWord",117],")",";",["T_WHITESPACE","\n            ",117],["T_VARIABLE","$this",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","_position",118],["T_WHITESPACE","     ",118],"=",["T_WHITESPACE"," ",118],["T_VARIABLE","$endPos",118],";",["T_WHITESPACE","\n\n            ",118],["T_VARIABLE","$token",120],["T_WHITESPACE"," ",120],"=",["T_WHITESPACE"," ",120],["T_VARIABLE","$this",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","normalize",120],"(",["T_NEW","new",120],["T_WHITESPACE"," ",120],["T_STRING","Zend_Search_Lucene_Analysis_Token",120],"(",["T_VARIABLE","$matchedWord",120],",",["T_WHITESPACE"," ",120],["T_VARIABLE","$startPos",120],",",["T_WHITESPACE"," ",120],["T_VARIABLE","$endPos",120],")",")",";",["T_WHITESPACE","\n        ",120],"}",["T_WHITESPACE"," ",121],["T_WHILE","while",121],["T_WHITESPACE"," ",121],"(",["T_VARIABLE","$token",121],["T_WHITESPACE"," ",121],["T_IS_IDENTICAL","===",121],["T_WHITESPACE"," ",121],["T_STRING","null",121],")",";",["T_WHITESPACE"," ",121],["T_COMMENT","\/\/ try again if token is skipped\n",121],["T_WHITESPACE","\n        ",122],["T_RETURN","return",123],["T_WHITESPACE"," ",123],["T_VARIABLE","$token",123],";",["T_WHITESPACE","\n    ",123],"}",["T_WHITESPACE","\n",124],"}",["T_WHITESPACE","\n\n",125]]