[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Zend Framework\n *\n * LICENSE\n *\n * This source file is subject to the new BSD license that is bundled\n * with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/framework.zend.com\/license\/new-bsd\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@zend.com so we can send you a copy immediately.\n *\n * @category   Zend\n * @package    Zend_Search_Lucene\n * @subpackage Search\n * @copyright  Copyright (c) 2005-2015 Zend Technologies USA Inc. (http:\/\/www.zend.com)\n * @license    http:\/\/framework.zend.com\/license\/new-bsd     New BSD License\n * @version    $Id$\n *\/",2],["T_WHITESPACE","\n\n\n",21],["T_DOC_COMMENT","\/** Zend_Search_Lucene_Search_Weight *\/",24],["T_WHITESPACE","\n",24],["T_COMMENT","#require_once 'Zend\/Search\/Lucene\/Search\/Weight.php';\n",25],["T_WHITESPACE","\n\n",26],["T_DOC_COMMENT","\/**\n * @category   Zend\n * @package    Zend_Search_Lucene\n * @subpackage Search\n * @copyright  Copyright (c) 2005-2015 Zend Technologies USA Inc. (http:\/\/www.zend.com)\n * @license    http:\/\/framework.zend.com\/license\/new-bsd     New BSD License\n *\/",28],["T_WHITESPACE","\n",34],["T_CLASS","class",35],["T_WHITESPACE"," ",35],["T_STRING","Zend_Search_Lucene_Search_Weight_Boolean",35],["T_WHITESPACE"," ",35],["T_EXTENDS","extends",35],["T_WHITESPACE"," ",35],["T_STRING","Zend_Search_Lucene_Search_Weight",35],["T_WHITESPACE","\n",35],"{",["T_WHITESPACE","\n    ",36],["T_DOC_COMMENT","\/**\n     * IndexReader.\n     *\n     * @var Zend_Search_Lucene_Interface\n     *\/",37],["T_WHITESPACE","\n    ",41],["T_PRIVATE","private",42],["T_WHITESPACE"," ",42],["T_VARIABLE","$_reader",42],";",["T_WHITESPACE","\n\n    ",42],["T_DOC_COMMENT","\/**\n     * The query that this concerns.\n     *\n     * @var Zend_Search_Lucene_Search_Query\n     *\/",44],["T_WHITESPACE","\n    ",48],["T_PRIVATE","private",49],["T_WHITESPACE"," ",49],["T_VARIABLE","$_query",49],";",["T_WHITESPACE","\n\n    ",49],["T_DOC_COMMENT","\/**\n     * Queries weights\n     * Array of Zend_Search_Lucene_Search_Weight\n     *\n     * @var array\n     *\/",51],["T_WHITESPACE","\n    ",56],["T_PRIVATE","private",57],["T_WHITESPACE"," ",57],["T_VARIABLE","$_weights",57],";",["T_WHITESPACE","\n\n\n    ",57],["T_DOC_COMMENT","\/**\n     * Zend_Search_Lucene_Search_Weight_Boolean constructor\n     * query - the query that this concerns.\n     * reader - index reader\n     *\n     * @param Zend_Search_Lucene_Search_Query $query\n     * @param Zend_Search_Lucene_Interface    $reader\n     *\/",60],["T_WHITESPACE","\n    ",67],["T_PUBLIC","public",68],["T_WHITESPACE"," ",68],["T_FUNCTION","function",68],["T_WHITESPACE"," ",68],["T_STRING","__construct",68],"(",["T_STRING","Zend_Search_Lucene_Search_Query",68],["T_WHITESPACE"," ",68],["T_VARIABLE","$query",68],",",["T_WHITESPACE","\n                                ",68],["T_STRING","Zend_Search_Lucene_Interface",69],["T_WHITESPACE","    ",69],["T_VARIABLE","$reader",69],")",["T_WHITESPACE","\n    ",69],"{",["T_WHITESPACE","\n        ",70],["T_VARIABLE","$this",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","_query",71],["T_WHITESPACE","   ",71],"=",["T_WHITESPACE"," ",71],["T_VARIABLE","$query",71],";",["T_WHITESPACE","\n        ",71],["T_VARIABLE","$this",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","_reader",72],["T_WHITESPACE","  ",72],"=",["T_WHITESPACE"," ",72],["T_VARIABLE","$reader",72],";",["T_WHITESPACE","\n        ",72],["T_VARIABLE","$this",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","_weights",73],["T_WHITESPACE"," ",73],"=",["T_WHITESPACE"," ",73],["T_ARRAY","array",73],"(",")",";",["T_WHITESPACE","\n\n        ",73],["T_VARIABLE","$signs",75],["T_WHITESPACE"," ",75],"=",["T_WHITESPACE"," ",75],["T_VARIABLE","$query",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","getSigns",75],"(",")",";",["T_WHITESPACE","\n\n        ",75],["T_FOREACH","foreach",77],["T_WHITESPACE"," ",77],"(",["T_VARIABLE","$query",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","getSubqueries",77],"(",")",["T_WHITESPACE"," ",77],["T_AS","as",77],["T_WHITESPACE"," ",77],["T_VARIABLE","$num",77],["T_WHITESPACE"," ",77],["T_DOUBLE_ARROW","=>",77],["T_WHITESPACE"," ",77],["T_VARIABLE","$subquery",77],")",["T_WHITESPACE"," ",77],"{",["T_WHITESPACE","\n            ",77],["T_IF","if",78],["T_WHITESPACE"," ",78],"(",["T_VARIABLE","$signs",78],["T_WHITESPACE"," ",78],["T_IS_IDENTICAL","===",78],["T_WHITESPACE"," ",78],["T_STRING","null",78],["T_WHITESPACE"," ",78],["T_BOOLEAN_OR","||",78],["T_WHITESPACE"," ",78],["T_VARIABLE","$signs",78],"[",["T_VARIABLE","$num",78],"]",["T_WHITESPACE"," ",78],["T_IS_IDENTICAL","===",78],["T_WHITESPACE"," ",78],["T_STRING","null",78],["T_WHITESPACE"," ",78],["T_BOOLEAN_OR","||",78],["T_WHITESPACE"," ",78],["T_VARIABLE","$signs",78],"[",["T_VARIABLE","$num",78],"]",")",["T_WHITESPACE"," ",78],"{",["T_WHITESPACE","\n                ",78],["T_VARIABLE","$this",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","_weights",79],"[",["T_VARIABLE","$num",79],"]",["T_WHITESPACE"," ",79],"=",["T_WHITESPACE"," ",79],["T_VARIABLE","$subquery",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","createWeight",79],"(",["T_VARIABLE","$reader",79],")",";",["T_WHITESPACE","\n            ",79],"}",["T_WHITESPACE","\n        ",80],"}",["T_WHITESPACE","\n    ",81],"}",["T_WHITESPACE","\n\n\n    ",82],["T_DOC_COMMENT","\/**\n     * The weight for this query\n     * Standard Weight::$_value is not used for boolean queries\n     *\n     * @return float\n     *\/",85],["T_WHITESPACE","\n    ",90],["T_PUBLIC","public",91],["T_WHITESPACE"," ",91],["T_FUNCTION","function",91],["T_WHITESPACE"," ",91],["T_STRING","getValue",91],"(",")",["T_WHITESPACE","\n    ",91],"{",["T_WHITESPACE","\n        ",92],["T_RETURN","return",93],["T_WHITESPACE"," ",93],["T_VARIABLE","$this",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","_query",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","getBoost",93],"(",")",";",["T_WHITESPACE","\n    ",93],"}",["T_WHITESPACE","\n\n\n    ",94],["T_DOC_COMMENT","\/**\n     * The sum of squared weights of contained query clauses.\n     *\n     * @return float\n     *\/",97],["T_WHITESPACE","\n    ",101],["T_PUBLIC","public",102],["T_WHITESPACE"," ",102],["T_FUNCTION","function",102],["T_WHITESPACE"," ",102],["T_STRING","sumOfSquaredWeights",102],"(",")",["T_WHITESPACE","\n    ",102],"{",["T_WHITESPACE","\n        ",103],["T_VARIABLE","$sum",104],["T_WHITESPACE"," ",104],"=",["T_WHITESPACE"," ",104],["T_LNUMBER","0",104],";",["T_WHITESPACE","\n        ",104],["T_FOREACH","foreach",105],["T_WHITESPACE"," ",105],"(",["T_VARIABLE","$this",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","_weights",105],["T_WHITESPACE"," ",105],["T_AS","as",105],["T_WHITESPACE"," ",105],["T_VARIABLE","$weight",105],")",["T_WHITESPACE"," ",105],"{",["T_WHITESPACE","\n            ",105],["T_COMMENT","\/\/ sum sub weights\n",106],["T_WHITESPACE","            ",107],["T_VARIABLE","$sum",107],["T_WHITESPACE"," ",107],["T_PLUS_EQUAL","+=",107],["T_WHITESPACE"," ",107],["T_VARIABLE","$weight",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","sumOfSquaredWeights",107],"(",")",";",["T_WHITESPACE","\n        ",107],"}",["T_WHITESPACE","\n\n        ",108],["T_COMMENT","\/\/ boost each sub-weight\n",110],["T_WHITESPACE","        ",111],["T_VARIABLE","$sum",111],["T_WHITESPACE"," ",111],["T_MUL_EQUAL","*=",111],["T_WHITESPACE"," ",111],["T_VARIABLE","$this",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","_query",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","getBoost",111],"(",")",["T_WHITESPACE"," ",111],"*",["T_WHITESPACE"," ",111],["T_VARIABLE","$this",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","_query",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","getBoost",111],"(",")",";",["T_WHITESPACE","\n\n        ",111],["T_COMMENT","\/\/ check for empty query (like '-something -another')\n",113],["T_WHITESPACE","        ",114],["T_IF","if",114],["T_WHITESPACE"," ",114],"(",["T_VARIABLE","$sum",114],["T_WHITESPACE"," ",114],["T_IS_EQUAL","==",114],["T_WHITESPACE"," ",114],["T_LNUMBER","0",114],")",["T_WHITESPACE"," ",114],"{",["T_WHITESPACE","\n            ",114],["T_VARIABLE","$sum",115],["T_WHITESPACE"," ",115],"=",["T_WHITESPACE"," ",115],["T_DNUMBER","1.0",115],";",["T_WHITESPACE","\n        ",115],"}",["T_WHITESPACE","\n        ",116],["T_RETURN","return",117],["T_WHITESPACE"," ",117],["T_VARIABLE","$sum",117],";",["T_WHITESPACE","\n    ",117],"}",["T_WHITESPACE","\n\n\n    ",118],["T_DOC_COMMENT","\/**\n     * Assigns the query normalization factor to this.\n     *\n     * @param float $queryNorm\n     *\/",121],["T_WHITESPACE","\n    ",125],["T_PUBLIC","public",126],["T_WHITESPACE"," ",126],["T_FUNCTION","function",126],["T_WHITESPACE"," ",126],["T_STRING","normalize",126],"(",["T_VARIABLE","$queryNorm",126],")",["T_WHITESPACE","\n    ",126],"{",["T_WHITESPACE","\n        ",127],["T_COMMENT","\/\/ incorporate boost\n",128],["T_WHITESPACE","        ",129],["T_VARIABLE","$queryNorm",129],["T_WHITESPACE"," ",129],["T_MUL_EQUAL","*=",129],["T_WHITESPACE"," ",129],["T_VARIABLE","$this",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","_query",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","getBoost",129],"(",")",";",["T_WHITESPACE","\n\n        ",129],["T_FOREACH","foreach",131],["T_WHITESPACE"," ",131],"(",["T_VARIABLE","$this",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","_weights",131],["T_WHITESPACE"," ",131],["T_AS","as",131],["T_WHITESPACE"," ",131],["T_VARIABLE","$weight",131],")",["T_WHITESPACE"," ",131],"{",["T_WHITESPACE","\n            ",131],["T_VARIABLE","$weight",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","normalize",132],"(",["T_VARIABLE","$queryNorm",132],")",";",["T_WHITESPACE","\n        ",132],"}",["T_WHITESPACE","\n    ",133],"}",["T_WHITESPACE","\n",134],"}",["T_WHITESPACE","\n\n\n",135]]