[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Zend Framework\n *\n * LICENSE\n *\n * This source file is subject to the new BSD license that is bundled\n * with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/framework.zend.com\/license\/new-bsd\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@zend.com so we can send you a copy immediately.\n *\n * @category   Zend\n * @package    Zend_Search_Lucene\n * @subpackage Search\n * @copyright  Copyright (c) 2005-2015 Zend Technologies USA Inc. (http:\/\/www.zend.com)\n * @license    http:\/\/framework.zend.com\/license\/new-bsd     New BSD License\n * @version    $Id$\n *\/",2],["T_WHITESPACE","\n\n\n",21],["T_DOC_COMMENT","\/** Zend_Search_Lucene_Search_Weight *\/",24],["T_WHITESPACE","\n",24],["T_COMMENT","#require_once 'Zend\/Search\/Lucene\/Search\/Weight.php';\n",25],["T_WHITESPACE","\n\n",26],["T_DOC_COMMENT","\/**\n * @category   Zend\n * @package    Zend_Search_Lucene\n * @subpackage Search\n * @copyright  Copyright (c) 2005-2015 Zend Technologies USA Inc. (http:\/\/www.zend.com)\n * @license    http:\/\/framework.zend.com\/license\/new-bsd     New BSD License\n *\/",28],["T_WHITESPACE","\n",34],["T_CLASS","class",35],["T_WHITESPACE"," ",35],["T_STRING","Zend_Search_Lucene_Search_Weight_MultiTerm",35],["T_WHITESPACE"," ",35],["T_EXTENDS","extends",35],["T_WHITESPACE"," ",35],["T_STRING","Zend_Search_Lucene_Search_Weight",35],["T_WHITESPACE","\n",35],"{",["T_WHITESPACE","\n    ",36],["T_DOC_COMMENT","\/**\n     * IndexReader.\n     *\n     * @var Zend_Search_Lucene_Interface\n     *\/",37],["T_WHITESPACE","\n    ",41],["T_PRIVATE","private",42],["T_WHITESPACE"," ",42],["T_VARIABLE","$_reader",42],";",["T_WHITESPACE","\n\n    ",42],["T_DOC_COMMENT","\/**\n     * The query that this concerns.\n     *\n     * @var Zend_Search_Lucene_Search_Query\n     *\/",44],["T_WHITESPACE","\n    ",48],["T_PRIVATE","private",49],["T_WHITESPACE"," ",49],["T_VARIABLE","$_query",49],";",["T_WHITESPACE","\n\n    ",49],["T_DOC_COMMENT","\/**\n     * Query terms weights\n     * Array of Zend_Search_Lucene_Search_Weight_Term\n     *\n     * @var array\n     *\/",51],["T_WHITESPACE","\n    ",56],["T_PRIVATE","private",57],["T_WHITESPACE"," ",57],["T_VARIABLE","$_weights",57],";",["T_WHITESPACE","\n\n\n    ",57],["T_DOC_COMMENT","\/**\n     * Zend_Search_Lucene_Search_Weight_MultiTerm constructor\n     * query - the query that this concerns.\n     * reader - index reader\n     *\n     * @param Zend_Search_Lucene_Search_Query $query\n     * @param Zend_Search_Lucene_Interface    $reader\n     *\/",60],["T_WHITESPACE","\n    ",67],["T_PUBLIC","public",68],["T_WHITESPACE"," ",68],["T_FUNCTION","function",68],["T_WHITESPACE"," ",68],["T_STRING","__construct",68],"(",["T_STRING","Zend_Search_Lucene_Search_Query",68],["T_WHITESPACE"," ",68],["T_VARIABLE","$query",68],",",["T_WHITESPACE","\n                                ",68],["T_STRING","Zend_Search_Lucene_Interface",69],["T_WHITESPACE","    ",69],["T_VARIABLE","$reader",69],")",["T_WHITESPACE","\n    ",69],"{",["T_WHITESPACE","\n        ",70],["T_VARIABLE","$this",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","_query",71],["T_WHITESPACE","   ",71],"=",["T_WHITESPACE"," ",71],["T_VARIABLE","$query",71],";",["T_WHITESPACE","\n        ",71],["T_VARIABLE","$this",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","_reader",72],["T_WHITESPACE","  ",72],"=",["T_WHITESPACE"," ",72],["T_VARIABLE","$reader",72],";",["T_WHITESPACE","\n        ",72],["T_VARIABLE","$this",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","_weights",73],["T_WHITESPACE"," ",73],"=",["T_WHITESPACE"," ",73],["T_ARRAY","array",73],"(",")",";",["T_WHITESPACE","\n\n        ",73],["T_VARIABLE","$signs",75],["T_WHITESPACE"," ",75],"=",["T_WHITESPACE"," ",75],["T_VARIABLE","$query",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","getSigns",75],"(",")",";",["T_WHITESPACE","\n\n        ",75],["T_FOREACH","foreach",77],["T_WHITESPACE"," ",77],"(",["T_VARIABLE","$query",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","getTerms",77],"(",")",["T_WHITESPACE"," ",77],["T_AS","as",77],["T_WHITESPACE"," ",77],["T_VARIABLE","$id",77],["T_WHITESPACE"," ",77],["T_DOUBLE_ARROW","=>",77],["T_WHITESPACE"," ",77],["T_VARIABLE","$term",77],")",["T_WHITESPACE"," ",77],"{",["T_WHITESPACE","\n            ",77],["T_IF","if",78],["T_WHITESPACE"," ",78],"(",["T_VARIABLE","$signs",78],["T_WHITESPACE"," ",78],["T_IS_IDENTICAL","===",78],["T_WHITESPACE"," ",78],["T_STRING","null",78],["T_WHITESPACE"," ",78],["T_BOOLEAN_OR","||",78],["T_WHITESPACE"," ",78],["T_VARIABLE","$signs",78],"[",["T_VARIABLE","$id",78],"]",["T_WHITESPACE"," ",78],["T_IS_IDENTICAL","===",78],["T_WHITESPACE"," ",78],["T_STRING","null",78],["T_WHITESPACE"," ",78],["T_BOOLEAN_OR","||",78],["T_WHITESPACE"," ",78],["T_VARIABLE","$signs",78],"[",["T_VARIABLE","$id",78],"]",")",["T_WHITESPACE"," ",78],"{",["T_WHITESPACE","\n                ",78],["T_COMMENT","#require_once 'Zend\/Search\/Lucene\/Search\/Weight\/Term.php';\n",79],["T_WHITESPACE","                ",80],["T_VARIABLE","$this",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","_weights",80],"[",["T_VARIABLE","$id",80],"]",["T_WHITESPACE"," ",80],"=",["T_WHITESPACE"," ",80],["T_NEW","new",80],["T_WHITESPACE"," ",80],["T_STRING","Zend_Search_Lucene_Search_Weight_Term",80],"(",["T_VARIABLE","$term",80],",",["T_WHITESPACE"," ",80],["T_VARIABLE","$query",80],",",["T_WHITESPACE"," ",80],["T_VARIABLE","$reader",80],")",";",["T_WHITESPACE","\n                ",80],["T_VARIABLE","$query",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","setWeight",81],"(",["T_VARIABLE","$id",81],",",["T_WHITESPACE"," ",81],["T_VARIABLE","$this",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","_weights",81],"[",["T_VARIABLE","$id",81],"]",")",";",["T_WHITESPACE","\n            ",81],"}",["T_WHITESPACE","\n        ",82],"}",["T_WHITESPACE","\n    ",83],"}",["T_WHITESPACE","\n\n\n    ",84],["T_DOC_COMMENT","\/**\n     * The weight for this query\n     * Standard Weight::$_value is not used for boolean queries\n     *\n     * @return float\n     *\/",87],["T_WHITESPACE","\n    ",92],["T_PUBLIC","public",93],["T_WHITESPACE"," ",93],["T_FUNCTION","function",93],["T_WHITESPACE"," ",93],["T_STRING","getValue",93],"(",")",["T_WHITESPACE","\n    ",93],"{",["T_WHITESPACE","\n        ",94],["T_RETURN","return",95],["T_WHITESPACE"," ",95],["T_VARIABLE","$this",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","_query",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","getBoost",95],"(",")",";",["T_WHITESPACE","\n    ",95],"}",["T_WHITESPACE","\n\n\n    ",96],["T_DOC_COMMENT","\/**\n     * The sum of squared weights of contained query clauses.\n     *\n     * @return float\n     *\/",99],["T_WHITESPACE","\n    ",103],["T_PUBLIC","public",104],["T_WHITESPACE"," ",104],["T_FUNCTION","function",104],["T_WHITESPACE"," ",104],["T_STRING","sumOfSquaredWeights",104],"(",")",["T_WHITESPACE","\n    ",104],"{",["T_WHITESPACE","\n        ",105],["T_VARIABLE","$sum",106],["T_WHITESPACE"," ",106],"=",["T_WHITESPACE"," ",106],["T_LNUMBER","0",106],";",["T_WHITESPACE","\n        ",106],["T_FOREACH","foreach",107],["T_WHITESPACE"," ",107],"(",["T_VARIABLE","$this",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","_weights",107],["T_WHITESPACE"," ",107],["T_AS","as",107],["T_WHITESPACE"," ",107],["T_VARIABLE","$weight",107],")",["T_WHITESPACE"," ",107],"{",["T_WHITESPACE","\n            ",107],["T_COMMENT","\/\/ sum sub weights\n",108],["T_WHITESPACE","            ",109],["T_VARIABLE","$sum",109],["T_WHITESPACE"," ",109],["T_PLUS_EQUAL","+=",109],["T_WHITESPACE"," ",109],["T_VARIABLE","$weight",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","sumOfSquaredWeights",109],"(",")",";",["T_WHITESPACE","\n        ",109],"}",["T_WHITESPACE","\n\n        ",110],["T_COMMENT","\/\/ boost each sub-weight\n",112],["T_WHITESPACE","        ",113],["T_VARIABLE","$sum",113],["T_WHITESPACE"," ",113],["T_MUL_EQUAL","*=",113],["T_WHITESPACE"," ",113],["T_VARIABLE","$this",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","_query",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","getBoost",113],"(",")",["T_WHITESPACE"," ",113],"*",["T_WHITESPACE"," ",113],["T_VARIABLE","$this",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","_query",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","getBoost",113],"(",")",";",["T_WHITESPACE","\n\n        ",113],["T_COMMENT","\/\/ check for empty query (like '-something -another')\n",115],["T_WHITESPACE","        ",116],["T_IF","if",116],["T_WHITESPACE"," ",116],"(",["T_VARIABLE","$sum",116],["T_WHITESPACE"," ",116],["T_IS_EQUAL","==",116],["T_WHITESPACE"," ",116],["T_LNUMBER","0",116],")",["T_WHITESPACE"," ",116],"{",["T_WHITESPACE","\n            ",116],["T_VARIABLE","$sum",117],["T_WHITESPACE"," ",117],"=",["T_WHITESPACE"," ",117],["T_DNUMBER","1.0",117],";",["T_WHITESPACE","\n        ",117],"}",["T_WHITESPACE","\n        ",118],["T_RETURN","return",119],["T_WHITESPACE"," ",119],["T_VARIABLE","$sum",119],";",["T_WHITESPACE","\n    ",119],"}",["T_WHITESPACE","\n\n\n    ",120],["T_DOC_COMMENT","\/**\n     * Assigns the query normalization factor to this.\n     *\n     * @param float $queryNorm\n     *\/",123],["T_WHITESPACE","\n    ",127],["T_PUBLIC","public",128],["T_WHITESPACE"," ",128],["T_FUNCTION","function",128],["T_WHITESPACE"," ",128],["T_STRING","normalize",128],"(",["T_VARIABLE","$queryNorm",128],")",["T_WHITESPACE","\n    ",128],"{",["T_WHITESPACE","\n        ",129],["T_COMMENT","\/\/ incorporate boost\n",130],["T_WHITESPACE","        ",131],["T_VARIABLE","$queryNorm",131],["T_WHITESPACE"," ",131],["T_MUL_EQUAL","*=",131],["T_WHITESPACE"," ",131],["T_VARIABLE","$this",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","_query",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","getBoost",131],"(",")",";",["T_WHITESPACE","\n\n        ",131],["T_FOREACH","foreach",133],["T_WHITESPACE"," ",133],"(",["T_VARIABLE","$this",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","_weights",133],["T_WHITESPACE"," ",133],["T_AS","as",133],["T_WHITESPACE"," ",133],["T_VARIABLE","$weight",133],")",["T_WHITESPACE"," ",133],"{",["T_WHITESPACE","\n            ",133],["T_VARIABLE","$weight",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","normalize",134],"(",["T_VARIABLE","$queryNorm",134],")",";",["T_WHITESPACE","\n        ",134],"}",["T_WHITESPACE","\n    ",135],"}",["T_WHITESPACE","\n",136],"}",["T_WHITESPACE","\n\n\n",137]]