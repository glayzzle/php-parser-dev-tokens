[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Zend Framework\n *\n * LICENSE\n *\n * This source file is subject to the new BSD license that is bundled\n * with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/framework.zend.com\/license\/new-bsd\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@zend.com so we can send you a copy immediately.\n *\n * @category   Zend\n * @package    Zend_Search_Lucene\n * @subpackage Search\n * @copyright  Copyright (c) 2005-2015 Zend Technologies USA Inc. (http:\/\/www.zend.com)\n * @license    http:\/\/framework.zend.com\/license\/new-bsd     New BSD License\n * @version    $Id$\n *\/",2],["T_WHITESPACE","\n\n\n",21],["T_DOC_COMMENT","\/** Zend_Search_Lucene_Search_Query_Processing *\/",24],["T_WHITESPACE","\n",24],["T_COMMENT","#require_once 'Zend\/Search\/Lucene\/Search\/Query\/Preprocessing.php';\n",25],["T_WHITESPACE","\n\n",26],["T_DOC_COMMENT","\/**\n * It's an internal abstract class intended to finalize ase a query processing after query parsing.\n * This type of query is not actually involved into query execution.\n *\n * @category   Zend\n * @package    Zend_Search_Lucene\n * @subpackage Search\n * @internal\n * @copyright  Copyright (c) 2005-2015 Zend Technologies USA Inc. (http:\/\/www.zend.com)\n * @license    http:\/\/framework.zend.com\/license\/new-bsd     New BSD License\n *\/",28],["T_WHITESPACE","\n",38],["T_CLASS","class",39],["T_WHITESPACE"," ",39],["T_STRING","Zend_Search_Lucene_Search_Query_Preprocessing_Term",39],["T_WHITESPACE"," ",39],["T_EXTENDS","extends",39],["T_WHITESPACE"," ",39],["T_STRING","Zend_Search_Lucene_Search_Query_Preprocessing",39],["T_WHITESPACE","\n",39],"{",["T_WHITESPACE","\n    ",40],["T_DOC_COMMENT","\/**\n     * word (query parser lexeme) to find.\n     *\n     * @var string\n     *\/",41],["T_WHITESPACE","\n    ",45],["T_PRIVATE","private",46],["T_WHITESPACE"," ",46],["T_VARIABLE","$_word",46],";",["T_WHITESPACE","\n\n    ",46],["T_DOC_COMMENT","\/**\n     * Word encoding (field name is always provided using UTF-8 encoding since it may be retrieved from index).\n     *\n     * @var string\n     *\/",48],["T_WHITESPACE","\n    ",52],["T_PRIVATE","private",53],["T_WHITESPACE"," ",53],["T_VARIABLE","$_encoding",53],";",["T_WHITESPACE","\n\n\n    ",53],["T_DOC_COMMENT","\/**\n     * Field name.\n     *\n     * @var string\n     *\/",56],["T_WHITESPACE","\n    ",60],["T_PRIVATE","private",61],["T_WHITESPACE"," ",61],["T_VARIABLE","$_field",61],";",["T_WHITESPACE","\n\n    ",61],["T_DOC_COMMENT","\/**\n     * Class constructor.  Create a new preprocessing object for prase query.\n     *\n     * @param string $word       Non-tokenized word (query parser lexeme) to search.\n     * @param string $encoding   Word encoding.\n     * @param string $fieldName  Field name.\n     *\/",63],["T_WHITESPACE","\n    ",69],["T_PUBLIC","public",70],["T_WHITESPACE"," ",70],["T_FUNCTION","function",70],["T_WHITESPACE"," ",70],["T_STRING","__construct",70],"(",["T_VARIABLE","$word",70],",",["T_WHITESPACE"," ",70],["T_VARIABLE","$encoding",70],",",["T_WHITESPACE"," ",70],["T_VARIABLE","$fieldName",70],")",["T_WHITESPACE","\n    ",70],"{",["T_WHITESPACE","\n        ",71],["T_VARIABLE","$this",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","_word",72],["T_WHITESPACE","     ",72],"=",["T_WHITESPACE"," ",72],["T_VARIABLE","$word",72],";",["T_WHITESPACE","\n        ",72],["T_VARIABLE","$this",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","_encoding",73],["T_WHITESPACE"," ",73],"=",["T_WHITESPACE"," ",73],["T_VARIABLE","$encoding",73],";",["T_WHITESPACE","\n        ",73],["T_VARIABLE","$this",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","_field",74],["T_WHITESPACE","    ",74],"=",["T_WHITESPACE"," ",74],["T_VARIABLE","$fieldName",74],";",["T_WHITESPACE","\n    ",74],"}",["T_WHITESPACE","\n\n    ",75],["T_DOC_COMMENT","\/**\n     * Re-write query into primitive queries in the context of specified index\n     *\n     * @param Zend_Search_Lucene_Interface $index\n     * @return Zend_Search_Lucene_Search_Query\n     *\/",77],["T_WHITESPACE","\n    ",82],["T_PUBLIC","public",83],["T_WHITESPACE"," ",83],["T_FUNCTION","function",83],["T_WHITESPACE"," ",83],["T_STRING","rewrite",83],"(",["T_STRING","Zend_Search_Lucene_Interface",83],["T_WHITESPACE"," ",83],["T_VARIABLE","$index",83],")",["T_WHITESPACE","\n    ",83],"{",["T_WHITESPACE","\n        ",84],["T_IF","if",85],["T_WHITESPACE"," ",85],"(",["T_VARIABLE","$this",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","_field",85],["T_WHITESPACE"," ",85],["T_IS_IDENTICAL","===",85],["T_WHITESPACE"," ",85],["T_STRING","null",85],")",["T_WHITESPACE"," ",85],"{",["T_WHITESPACE","\n            ",85],["T_COMMENT","#require_once 'Zend\/Search\/Lucene\/Search\/Query\/MultiTerm.php';\n",86],["T_WHITESPACE","            ",87],["T_VARIABLE","$query",87],["T_WHITESPACE"," ",87],"=",["T_WHITESPACE"," ",87],["T_NEW","new",87],["T_WHITESPACE"," ",87],["T_STRING","Zend_Search_Lucene_Search_Query_MultiTerm",87],"(",")",";",["T_WHITESPACE","\n            ",87],["T_VARIABLE","$query",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","setBoost",88],"(",["T_VARIABLE","$this",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","getBoost",88],"(",")",")",";",["T_WHITESPACE","\n\n            ",88],["T_VARIABLE","$hasInsignificantSubqueries",90],["T_WHITESPACE"," ",90],"=",["T_WHITESPACE"," ",90],["T_STRING","false",90],";",["T_WHITESPACE","\n\n            ",90],["T_COMMENT","#require_once 'Zend\/Search\/Lucene.php';\n",92],["T_WHITESPACE","            ",93],["T_IF","if",93],["T_WHITESPACE"," ",93],"(",["T_STRING","Zend_Search_Lucene",93],["T_DOUBLE_COLON","::",93],["T_STRING","getDefaultSearchField",93],"(",")",["T_WHITESPACE"," ",93],["T_IS_IDENTICAL","===",93],["T_WHITESPACE"," ",93],["T_STRING","null",93],")",["T_WHITESPACE"," ",93],"{",["T_WHITESPACE","\n                ",93],["T_VARIABLE","$searchFields",94],["T_WHITESPACE"," ",94],"=",["T_WHITESPACE"," ",94],["T_VARIABLE","$index",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","getFieldNames",94],"(",["T_STRING","true",94],")",";",["T_WHITESPACE","\n            ",94],"}",["T_WHITESPACE"," ",95],["T_ELSE","else",95],["T_WHITESPACE"," ",95],"{",["T_WHITESPACE","\n                ",95],["T_VARIABLE","$searchFields",96],["T_WHITESPACE"," ",96],"=",["T_WHITESPACE"," ",96],["T_ARRAY","array",96],"(",["T_STRING","Zend_Search_Lucene",96],["T_DOUBLE_COLON","::",96],["T_STRING","getDefaultSearchField",96],"(",")",")",";",["T_WHITESPACE","\n            ",96],"}",["T_WHITESPACE","\n\n            ",97],["T_COMMENT","#require_once 'Zend\/Search\/Lucene\/Search\/Query\/Preprocessing\/Term.php';\n",99],["T_WHITESPACE","            ",100],["T_FOREACH","foreach",100],["T_WHITESPACE"," ",100],"(",["T_VARIABLE","$searchFields",100],["T_WHITESPACE"," ",100],["T_AS","as",100],["T_WHITESPACE"," ",100],["T_VARIABLE","$fieldName",100],")",["T_WHITESPACE"," ",100],"{",["T_WHITESPACE","\n                ",100],["T_VARIABLE","$subquery",101],["T_WHITESPACE"," ",101],"=",["T_WHITESPACE"," ",101],["T_NEW","new",101],["T_WHITESPACE"," ",101],["T_STRING","Zend_Search_Lucene_Search_Query_Preprocessing_Term",101],"(",["T_VARIABLE","$this",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","_word",101],",",["T_WHITESPACE","\n                                                                                   ",101],["T_VARIABLE","$this",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","_encoding",102],",",["T_WHITESPACE","\n                                                                                   ",102],["T_VARIABLE","$fieldName",103],")",";",["T_WHITESPACE","\n                ",103],["T_VARIABLE","$rewrittenSubquery",104],["T_WHITESPACE"," ",104],"=",["T_WHITESPACE"," ",104],["T_VARIABLE","$subquery",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","rewrite",104],"(",["T_VARIABLE","$index",104],")",";",["T_WHITESPACE","\n                ",104],["T_FOREACH","foreach",105],["T_WHITESPACE"," ",105],"(",["T_VARIABLE","$rewrittenSubquery",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","getQueryTerms",105],"(",")",["T_WHITESPACE"," ",105],["T_AS","as",105],["T_WHITESPACE"," ",105],["T_VARIABLE","$term",105],")",["T_WHITESPACE"," ",105],"{",["T_WHITESPACE","\n                    ",105],["T_VARIABLE","$query",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","addTerm",106],"(",["T_VARIABLE","$term",106],")",";",["T_WHITESPACE","\n                ",106],"}",["T_WHITESPACE","\n\n                ",107],["T_IF","if",109],["T_WHITESPACE"," ",109],"(",["T_VARIABLE","$rewrittenSubquery",109],["T_WHITESPACE"," ",109],["T_INSTANCEOF","instanceof",109],["T_WHITESPACE"," ",109],["T_STRING","Zend_Search_Lucene_Search_Query_Insignificant",109],")",["T_WHITESPACE"," ",109],"{",["T_WHITESPACE","\n                    ",109],["T_VARIABLE","$hasInsignificantSubqueries",110],["T_WHITESPACE"," ",110],"=",["T_WHITESPACE"," ",110],["T_STRING","true",110],";",["T_WHITESPACE","\n                ",110],"}",["T_WHITESPACE","\n            ",111],"}",["T_WHITESPACE","\n\n            ",112],["T_IF","if",114],["T_WHITESPACE"," ",114],"(",["T_STRING","count",114],"(",["T_VARIABLE","$query",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","getTerms",114],"(",")",")",["T_WHITESPACE"," ",114],["T_IS_EQUAL","==",114],["T_WHITESPACE"," ",114],["T_LNUMBER","0",114],")",["T_WHITESPACE"," ",114],"{",["T_WHITESPACE","\n                ",114],["T_VARIABLE","$this",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","_matches",115],["T_WHITESPACE"," ",115],"=",["T_WHITESPACE"," ",115],["T_ARRAY","array",115],"(",")",";",["T_WHITESPACE","\n                ",115],["T_IF","if",116],["T_WHITESPACE"," ",116],"(",["T_VARIABLE","$hasInsignificantSubqueries",116],")",["T_WHITESPACE"," ",116],"{",["T_WHITESPACE","\n                    ",116],["T_COMMENT","#require_once 'Zend\/Search\/Lucene\/Search\/Query\/Insignificant.php';\n",117],["T_WHITESPACE","                    ",118],["T_RETURN","return",118],["T_WHITESPACE"," ",118],["T_NEW","new",118],["T_WHITESPACE"," ",118],["T_STRING","Zend_Search_Lucene_Search_Query_Insignificant",118],"(",")",";",["T_WHITESPACE","\n                ",118],"}",["T_WHITESPACE"," ",119],["T_ELSE","else",119],["T_WHITESPACE"," ",119],"{",["T_WHITESPACE","\n                    ",119],["T_COMMENT","#require_once 'Zend\/Search\/Lucene\/Search\/Query\/Empty.php';\n",120],["T_WHITESPACE","                    ",121],["T_RETURN","return",121],["T_WHITESPACE"," ",121],["T_NEW","new",121],["T_WHITESPACE"," ",121],["T_STRING","Zend_Search_Lucene_Search_Query_Empty",121],"(",")",";",["T_WHITESPACE","\n                ",121],"}",["T_WHITESPACE","\n            ",122],"}",["T_WHITESPACE","\n\n            ",123],["T_VARIABLE","$this",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","_matches",125],["T_WHITESPACE"," ",125],"=",["T_WHITESPACE"," ",125],["T_VARIABLE","$query",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","getQueryTerms",125],"(",")",";",["T_WHITESPACE","\n            ",125],["T_RETURN","return",126],["T_WHITESPACE"," ",126],["T_VARIABLE","$query",126],";",["T_WHITESPACE","\n        ",126],"}",["T_WHITESPACE","\n\n        ",127],["T_COMMENT","\/\/ -------------------------------------\n",129],["T_WHITESPACE","        ",130],["T_COMMENT","\/\/ Recognize exact term matching (it corresponds to Keyword fields stored in the index)\n",130],["T_WHITESPACE","        ",131],["T_COMMENT","\/\/ encoding is not used since we expect binary matching\n",131],["T_WHITESPACE","        ",132],["T_COMMENT","#require_once 'Zend\/Search\/Lucene\/Index\/Term.php';\n",132],["T_WHITESPACE","        ",133],["T_VARIABLE","$term",133],["T_WHITESPACE"," ",133],"=",["T_WHITESPACE"," ",133],["T_NEW","new",133],["T_WHITESPACE"," ",133],["T_STRING","Zend_Search_Lucene_Index_Term",133],"(",["T_VARIABLE","$this",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","_word",133],",",["T_WHITESPACE"," ",133],["T_VARIABLE","$this",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","_field",133],")",";",["T_WHITESPACE","\n        ",133],["T_IF","if",134],["T_WHITESPACE"," ",134],"(",["T_VARIABLE","$index",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","hasTerm",134],"(",["T_VARIABLE","$term",134],")",")",["T_WHITESPACE"," ",134],"{",["T_WHITESPACE","\n            ",134],["T_COMMENT","#require_once 'Zend\/Search\/Lucene\/Search\/Query\/Term.php';\n",135],["T_WHITESPACE","            ",136],["T_VARIABLE","$query",136],["T_WHITESPACE"," ",136],"=",["T_WHITESPACE"," ",136],["T_NEW","new",136],["T_WHITESPACE"," ",136],["T_STRING","Zend_Search_Lucene_Search_Query_Term",136],"(",["T_VARIABLE","$term",136],")",";",["T_WHITESPACE","\n            ",136],["T_VARIABLE","$query",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","setBoost",137],"(",["T_VARIABLE","$this",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","getBoost",137],"(",")",")",";",["T_WHITESPACE","\n\n            ",137],["T_VARIABLE","$this",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","_matches",139],["T_WHITESPACE"," ",139],"=",["T_WHITESPACE"," ",139],["T_VARIABLE","$query",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","getQueryTerms",139],"(",")",";",["T_WHITESPACE","\n            ",139],["T_RETURN","return",140],["T_WHITESPACE"," ",140],["T_VARIABLE","$query",140],";",["T_WHITESPACE","\n        ",140],"}",["T_WHITESPACE","\n\n\n        ",141],["T_COMMENT","\/\/ -------------------------------------\n",144],["T_WHITESPACE","        ",145],["T_COMMENT","\/\/ Recognize wildcard queries\n",145],["T_WHITESPACE","\n        ",146],["T_DOC_COMMENT","\/** @todo check for PCRE unicode support may be performed through Zend_Environment in some future *\/",147],["T_WHITESPACE","\n        ",147],["T_IF","if",148],["T_WHITESPACE"," ",148],"(","@",["T_STRING","preg_match",148],"(",["T_CONSTANT_ENCAPSED_STRING","'\/\\pL\/u'",148],",",["T_WHITESPACE"," ",148],["T_CONSTANT_ENCAPSED_STRING","'a'",148],")",["T_WHITESPACE"," ",148],["T_IS_EQUAL","==",148],["T_WHITESPACE"," ",148],["T_LNUMBER","1",148],")",["T_WHITESPACE"," ",148],"{",["T_WHITESPACE","\n            ",148],["T_VARIABLE","$word",149],["T_WHITESPACE"," ",149],"=",["T_WHITESPACE"," ",149],["T_STRING","iconv",149],"(",["T_VARIABLE","$this",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","_encoding",149],",",["T_WHITESPACE"," ",149],["T_CONSTANT_ENCAPSED_STRING","'UTF-8'",149],",",["T_WHITESPACE"," ",149],["T_VARIABLE","$this",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","_word",149],")",";",["T_WHITESPACE","\n            ",149],["T_VARIABLE","$wildcardsPattern",150],["T_WHITESPACE"," ",150],"=",["T_WHITESPACE"," ",150],["T_CONSTANT_ENCAPSED_STRING","'\/[*?]\/u'",150],";",["T_WHITESPACE","\n            ",150],["T_VARIABLE","$subPatternsEncoding",151],["T_WHITESPACE"," ",151],"=",["T_WHITESPACE"," ",151],["T_CONSTANT_ENCAPSED_STRING","'UTF-8'",151],";",["T_WHITESPACE","\n        ",151],"}",["T_WHITESPACE"," ",152],["T_ELSE","else",152],["T_WHITESPACE"," ",152],"{",["T_WHITESPACE","\n            ",152],["T_VARIABLE","$word",153],["T_WHITESPACE"," ",153],"=",["T_WHITESPACE"," ",153],["T_VARIABLE","$this",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","_word",153],";",["T_WHITESPACE","\n            ",153],["T_VARIABLE","$wildcardsPattern",154],["T_WHITESPACE"," ",154],"=",["T_WHITESPACE"," ",154],["T_CONSTANT_ENCAPSED_STRING","'\/[*?]\/'",154],";",["T_WHITESPACE","\n            ",154],["T_VARIABLE","$subPatternsEncoding",155],["T_WHITESPACE"," ",155],"=",["T_WHITESPACE"," ",155],["T_VARIABLE","$this",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","_encoding",155],";",["T_WHITESPACE","\n        ",155],"}",["T_WHITESPACE","\n\n        ",156],["T_VARIABLE","$subPatterns",158],["T_WHITESPACE"," ",158],"=",["T_WHITESPACE"," ",158],["T_STRING","preg_split",158],"(",["T_VARIABLE","$wildcardsPattern",158],",",["T_WHITESPACE"," ",158],["T_VARIABLE","$word",158],",",["T_WHITESPACE"," ",158],"-",["T_LNUMBER","1",158],",",["T_WHITESPACE"," ",158],["T_STRING","PREG_SPLIT_OFFSET_CAPTURE",158],")",";",["T_WHITESPACE","\n\n        ",158],["T_IF","if",160],["T_WHITESPACE"," ",160],"(",["T_STRING","count",160],"(",["T_VARIABLE","$subPatterns",160],")",["T_WHITESPACE"," ",160],">",["T_WHITESPACE"," ",160],["T_LNUMBER","1",160],")",["T_WHITESPACE"," ",160],"{",["T_WHITESPACE","\n            ",160],["T_COMMENT","\/\/ Wildcard query is recognized\n",161],["T_WHITESPACE","\n            ",162],["T_VARIABLE","$pattern",163],["T_WHITESPACE"," ",163],"=",["T_WHITESPACE"," ",163],["T_CONSTANT_ENCAPSED_STRING","''",163],";",["T_WHITESPACE","\n\n            ",163],["T_COMMENT","#require_once 'Zend\/Search\/Lucene\/Analysis\/Analyzer.php';\n",165],["T_WHITESPACE","            ",166],["T_FOREACH","foreach",166],["T_WHITESPACE"," ",166],"(",["T_VARIABLE","$subPatterns",166],["T_WHITESPACE"," ",166],["T_AS","as",166],["T_WHITESPACE"," ",166],["T_VARIABLE","$id",166],["T_WHITESPACE"," ",166],["T_DOUBLE_ARROW","=>",166],["T_WHITESPACE"," ",166],["T_VARIABLE","$subPattern",166],")",["T_WHITESPACE"," ",166],"{",["T_WHITESPACE","\n                ",166],["T_COMMENT","\/\/ Append corresponding wildcard character to the pattern before each sub-pattern (except first)\n",167],["T_WHITESPACE","                ",168],["T_IF","if",168],["T_WHITESPACE"," ",168],"(",["T_VARIABLE","$id",168],["T_WHITESPACE"," ",168],["T_IS_NOT_EQUAL","!=",168],["T_WHITESPACE"," ",168],["T_LNUMBER","0",168],")",["T_WHITESPACE"," ",168],"{",["T_WHITESPACE","\n                    ",168],["T_VARIABLE","$pattern",169],["T_WHITESPACE"," ",169],["T_CONCAT_EQUAL",".=",169],["T_WHITESPACE"," ",169],["T_VARIABLE","$word",169],"[",["T_WHITESPACE"," ",169],["T_VARIABLE","$subPattern",169],"[",["T_LNUMBER","1",169],"]",["T_WHITESPACE"," ",169],"-",["T_WHITESPACE"," ",169],["T_LNUMBER","1",169],["T_WHITESPACE"," ",169],"]",";",["T_WHITESPACE","\n                ",169],"}",["T_WHITESPACE","\n\n                ",170],["T_COMMENT","\/\/ Check if each subputtern is a single word in terms of current analyzer\n",172],["T_WHITESPACE","                ",173],["T_VARIABLE","$tokens",173],["T_WHITESPACE"," ",173],"=",["T_WHITESPACE"," ",173],["T_STRING","Zend_Search_Lucene_Analysis_Analyzer",173],["T_DOUBLE_COLON","::",173],["T_STRING","getDefault",173],"(",")",["T_OBJECT_OPERATOR","->",173],["T_STRING","tokenize",173],"(",["T_VARIABLE","$subPattern",173],"[",["T_LNUMBER","0",173],"]",",",["T_WHITESPACE"," ",173],["T_VARIABLE","$subPatternsEncoding",173],")",";",["T_WHITESPACE","\n                ",173],["T_IF","if",174],["T_WHITESPACE"," ",174],"(",["T_STRING","count",174],"(",["T_VARIABLE","$tokens",174],")",["T_WHITESPACE"," ",174],">",["T_WHITESPACE"," ",174],["T_LNUMBER","1",174],")",["T_WHITESPACE"," ",174],"{",["T_WHITESPACE","\n                    ",174],["T_COMMENT","#require_once 'Zend\/Search\/Lucene\/Search\/QueryParserException.php';\n",175],["T_WHITESPACE","                    ",176],["T_THROW","throw",176],["T_WHITESPACE"," ",176],["T_NEW","new",176],["T_WHITESPACE"," ",176],["T_STRING","Zend_Search_Lucene_Search_QueryParserException",176],"(",["T_CONSTANT_ENCAPSED_STRING","'Wildcard search is supported only for non-multiple word terms'",176],")",";",["T_WHITESPACE","\n                ",176],"}",["T_WHITESPACE","\n                ",177],["T_FOREACH","foreach",178],["T_WHITESPACE"," ",178],"(",["T_VARIABLE","$tokens",178],["T_WHITESPACE"," ",178],["T_AS","as",178],["T_WHITESPACE"," ",178],["T_VARIABLE","$token",178],")",["T_WHITESPACE"," ",178],"{",["T_WHITESPACE","\n                    ",178],["T_VARIABLE","$pattern",179],["T_WHITESPACE"," ",179],["T_CONCAT_EQUAL",".=",179],["T_WHITESPACE"," ",179],["T_VARIABLE","$token",179],["T_OBJECT_OPERATOR","->",179],["T_STRING","getTermText",179],"(",")",";",["T_WHITESPACE","\n                ",179],"}",["T_WHITESPACE","\n            ",180],"}",["T_WHITESPACE","\n\n            ",181],["T_COMMENT","#require_once 'Zend\/Search\/Lucene\/Index\/Term.php';\n",183],["T_WHITESPACE","            ",184],["T_VARIABLE","$term",184],["T_WHITESPACE","  ",184],"=",["T_WHITESPACE"," ",184],["T_NEW","new",184],["T_WHITESPACE"," ",184],["T_STRING","Zend_Search_Lucene_Index_Term",184],"(",["T_VARIABLE","$pattern",184],",",["T_WHITESPACE"," ",184],["T_VARIABLE","$this",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","_field",184],")",";",["T_WHITESPACE","\n            ",184],["T_COMMENT","#require_once 'Zend\/Search\/Lucene\/Search\/Query\/Wildcard.php';\n",185],["T_WHITESPACE","            ",186],["T_VARIABLE","$query",186],["T_WHITESPACE"," ",186],"=",["T_WHITESPACE"," ",186],["T_NEW","new",186],["T_WHITESPACE"," ",186],["T_STRING","Zend_Search_Lucene_Search_Query_Wildcard",186],"(",["T_VARIABLE","$term",186],")",";",["T_WHITESPACE","\n            ",186],["T_VARIABLE","$query",187],["T_OBJECT_OPERATOR","->",187],["T_STRING","setBoost",187],"(",["T_VARIABLE","$this",187],["T_OBJECT_OPERATOR","->",187],["T_STRING","getBoost",187],"(",")",")",";",["T_WHITESPACE","\n\n            ",187],["T_COMMENT","\/\/ Get rewritten query. Important! It also fills terms matching container.\n",189],["T_WHITESPACE","            ",190],["T_VARIABLE","$rewrittenQuery",190],["T_WHITESPACE"," ",190],"=",["T_WHITESPACE"," ",190],["T_VARIABLE","$query",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","rewrite",190],"(",["T_VARIABLE","$index",190],")",";",["T_WHITESPACE","\n            ",190],["T_VARIABLE","$this",191],["T_OBJECT_OPERATOR","->",191],["T_STRING","_matches",191],["T_WHITESPACE"," ",191],"=",["T_WHITESPACE"," ",191],["T_VARIABLE","$query",191],["T_OBJECT_OPERATOR","->",191],["T_STRING","getQueryTerms",191],"(",")",";",["T_WHITESPACE","\n\n            ",191],["T_RETURN","return",193],["T_WHITESPACE"," ",193],["T_VARIABLE","$rewrittenQuery",193],";",["T_WHITESPACE","\n        ",193],"}",["T_WHITESPACE","\n\n\n        ",194],["T_COMMENT","\/\/ -------------------------------------\n",197],["T_WHITESPACE","        ",198],["T_COMMENT","\/\/ Recognize one-term multi-term and \"insignificant\" queries\n",198],["T_WHITESPACE","        ",199],["T_COMMENT","#require_once 'Zend\/Search\/Lucene\/Analysis\/Analyzer.php';\n",199],["T_WHITESPACE","        ",200],["T_VARIABLE","$tokens",200],["T_WHITESPACE"," ",200],"=",["T_WHITESPACE"," ",200],["T_STRING","Zend_Search_Lucene_Analysis_Analyzer",200],["T_DOUBLE_COLON","::",200],["T_STRING","getDefault",200],"(",")",["T_OBJECT_OPERATOR","->",200],["T_STRING","tokenize",200],"(",["T_VARIABLE","$this",200],["T_OBJECT_OPERATOR","->",200],["T_STRING","_word",200],",",["T_WHITESPACE"," ",200],["T_VARIABLE","$this",200],["T_OBJECT_OPERATOR","->",200],["T_STRING","_encoding",200],")",";",["T_WHITESPACE","\n\n        ",200],["T_IF","if",202],["T_WHITESPACE"," ",202],"(",["T_STRING","count",202],"(",["T_VARIABLE","$tokens",202],")",["T_WHITESPACE"," ",202],["T_IS_EQUAL","==",202],["T_WHITESPACE"," ",202],["T_LNUMBER","0",202],")",["T_WHITESPACE"," ",202],"{",["T_WHITESPACE","\n            ",202],["T_VARIABLE","$this",203],["T_OBJECT_OPERATOR","->",203],["T_STRING","_matches",203],["T_WHITESPACE"," ",203],"=",["T_WHITESPACE"," ",203],["T_ARRAY","array",203],"(",")",";",["T_WHITESPACE","\n            ",203],["T_COMMENT","#require_once 'Zend\/Search\/Lucene\/Search\/Query\/Insignificant.php';\n",204],["T_WHITESPACE","            ",205],["T_RETURN","return",205],["T_WHITESPACE"," ",205],["T_NEW","new",205],["T_WHITESPACE"," ",205],["T_STRING","Zend_Search_Lucene_Search_Query_Insignificant",205],"(",")",";",["T_WHITESPACE","\n        ",205],"}",["T_WHITESPACE","\n\n        ",206],["T_IF","if",208],["T_WHITESPACE"," ",208],"(",["T_STRING","count",208],"(",["T_VARIABLE","$tokens",208],")",["T_WHITESPACE"," ",208],["T_IS_EQUAL","==",208],["T_WHITESPACE"," ",208],["T_LNUMBER","1",208],")",["T_WHITESPACE"," ",208],"{",["T_WHITESPACE","\n            ",208],["T_COMMENT","#require_once 'Zend\/Search\/Lucene\/Index\/Term.php';\n",209],["T_WHITESPACE","            ",210],["T_VARIABLE","$term",210],["T_WHITESPACE","  ",210],"=",["T_WHITESPACE"," ",210],["T_NEW","new",210],["T_WHITESPACE"," ",210],["T_STRING","Zend_Search_Lucene_Index_Term",210],"(",["T_VARIABLE","$tokens",210],"[",["T_LNUMBER","0",210],"]",["T_OBJECT_OPERATOR","->",210],["T_STRING","getTermText",210],"(",")",",",["T_WHITESPACE"," ",210],["T_VARIABLE","$this",210],["T_OBJECT_OPERATOR","->",210],["T_STRING","_field",210],")",";",["T_WHITESPACE","\n            ",210],["T_COMMENT","#require_once 'Zend\/Search\/Lucene\/Search\/Query\/Term.php';\n",211],["T_WHITESPACE","            ",212],["T_VARIABLE","$query",212],["T_WHITESPACE"," ",212],"=",["T_WHITESPACE"," ",212],["T_NEW","new",212],["T_WHITESPACE"," ",212],["T_STRING","Zend_Search_Lucene_Search_Query_Term",212],"(",["T_VARIABLE","$term",212],")",";",["T_WHITESPACE","\n            ",212],["T_VARIABLE","$query",213],["T_OBJECT_OPERATOR","->",213],["T_STRING","setBoost",213],"(",["T_VARIABLE","$this",213],["T_OBJECT_OPERATOR","->",213],["T_STRING","getBoost",213],"(",")",")",";",["T_WHITESPACE","\n\n            ",213],["T_VARIABLE","$this",215],["T_OBJECT_OPERATOR","->",215],["T_STRING","_matches",215],["T_WHITESPACE"," ",215],"=",["T_WHITESPACE"," ",215],["T_VARIABLE","$query",215],["T_OBJECT_OPERATOR","->",215],["T_STRING","getQueryTerms",215],"(",")",";",["T_WHITESPACE","\n            ",215],["T_RETURN","return",216],["T_WHITESPACE"," ",216],["T_VARIABLE","$query",216],";",["T_WHITESPACE","\n        ",216],"}",["T_WHITESPACE","\n\n        ",217],["T_COMMENT","\/\/It's not insignificant or one term query\n",219],["T_WHITESPACE","        ",220],["T_COMMENT","#require_once 'Zend\/Search\/Lucene\/Search\/Query\/MultiTerm.php';\n",220],["T_WHITESPACE","        ",221],["T_VARIABLE","$query",221],["T_WHITESPACE"," ",221],"=",["T_WHITESPACE"," ",221],["T_NEW","new",221],["T_WHITESPACE"," ",221],["T_STRING","Zend_Search_Lucene_Search_Query_MultiTerm",221],"(",")",";",["T_WHITESPACE","\n\n        ",221],["T_DOC_COMMENT","\/**\n         * @todo Process $token->getPositionIncrement() to support stemming, synonyms and other\n         * analizer design features\n         *\/",223],["T_WHITESPACE","\n        ",226],["T_COMMENT","#require_once 'Zend\/Search\/Lucene\/Index\/Term.php';\n",227],["T_WHITESPACE","        ",228],["T_FOREACH","foreach",228],["T_WHITESPACE"," ",228],"(",["T_VARIABLE","$tokens",228],["T_WHITESPACE"," ",228],["T_AS","as",228],["T_WHITESPACE"," ",228],["T_VARIABLE","$token",228],")",["T_WHITESPACE"," ",228],"{",["T_WHITESPACE","\n            ",228],["T_VARIABLE","$term",229],["T_WHITESPACE"," ",229],"=",["T_WHITESPACE"," ",229],["T_NEW","new",229],["T_WHITESPACE"," ",229],["T_STRING","Zend_Search_Lucene_Index_Term",229],"(",["T_VARIABLE","$token",229],["T_OBJECT_OPERATOR","->",229],["T_STRING","getTermText",229],"(",")",",",["T_WHITESPACE"," ",229],["T_VARIABLE","$this",229],["T_OBJECT_OPERATOR","->",229],["T_STRING","_field",229],")",";",["T_WHITESPACE","\n            ",229],["T_VARIABLE","$query",230],["T_OBJECT_OPERATOR","->",230],["T_STRING","addTerm",230],"(",["T_VARIABLE","$term",230],",",["T_WHITESPACE"," ",230],["T_STRING","true",230],")",";",["T_WHITESPACE"," ",230],["T_COMMENT","\/\/ all subterms are required\n",230],["T_WHITESPACE","        ",231],"}",["T_WHITESPACE","\n\n        ",231],["T_VARIABLE","$query",233],["T_OBJECT_OPERATOR","->",233],["T_STRING","setBoost",233],"(",["T_VARIABLE","$this",233],["T_OBJECT_OPERATOR","->",233],["T_STRING","getBoost",233],"(",")",")",";",["T_WHITESPACE","\n\n        ",233],["T_VARIABLE","$this",235],["T_OBJECT_OPERATOR","->",235],["T_STRING","_matches",235],["T_WHITESPACE"," ",235],"=",["T_WHITESPACE"," ",235],["T_VARIABLE","$query",235],["T_OBJECT_OPERATOR","->",235],["T_STRING","getQueryTerms",235],"(",")",";",["T_WHITESPACE","\n        ",235],["T_RETURN","return",236],["T_WHITESPACE"," ",236],["T_VARIABLE","$query",236],";",["T_WHITESPACE","\n    ",236],"}",["T_WHITESPACE","\n\n    ",237],["T_DOC_COMMENT","\/**\n     * Query specific matches highlighting\n     *\n     * @param Zend_Search_Lucene_Search_Highlighter_Interface $highlighter  Highlighter object (also contains doc for highlighting)\n     *\/",239],["T_WHITESPACE","\n    ",243],["T_PROTECTED","protected",244],["T_WHITESPACE"," ",244],["T_FUNCTION","function",244],["T_WHITESPACE"," ",244],["T_STRING","_highlightMatches",244],"(",["T_STRING","Zend_Search_Lucene_Search_Highlighter_Interface",244],["T_WHITESPACE"," ",244],["T_VARIABLE","$highlighter",244],")",["T_WHITESPACE","\n    ",244],"{",["T_WHITESPACE","\n        ",245],["T_DOC_COMMENT","\/** Skip fields detection. We don't need it, since we expect all fields presented in the HTML body and don't differentiate them *\/",246],["T_WHITESPACE","\n\n        ",246],["T_DOC_COMMENT","\/** Skip exact term matching recognition, keyword fields highlighting is not supported *\/",248],["T_WHITESPACE","\n\n        ",248],["T_COMMENT","\/\/ -------------------------------------\n",250],["T_WHITESPACE","        ",251],["T_COMMENT","\/\/ Recognize wildcard queries\n",251],["T_WHITESPACE","        ",252],["T_DOC_COMMENT","\/** @todo check for PCRE unicode support may be performed through Zend_Environment in some future *\/",252],["T_WHITESPACE","\n        ",252],["T_IF","if",253],["T_WHITESPACE"," ",253],"(","@",["T_STRING","preg_match",253],"(",["T_CONSTANT_ENCAPSED_STRING","'\/\\pL\/u'",253],",",["T_WHITESPACE"," ",253],["T_CONSTANT_ENCAPSED_STRING","'a'",253],")",["T_WHITESPACE"," ",253],["T_IS_EQUAL","==",253],["T_WHITESPACE"," ",253],["T_LNUMBER","1",253],")",["T_WHITESPACE"," ",253],"{",["T_WHITESPACE","\n            ",253],["T_VARIABLE","$word",254],["T_WHITESPACE"," ",254],"=",["T_WHITESPACE"," ",254],["T_STRING","iconv",254],"(",["T_VARIABLE","$this",254],["T_OBJECT_OPERATOR","->",254],["T_STRING","_encoding",254],",",["T_WHITESPACE"," ",254],["T_CONSTANT_ENCAPSED_STRING","'UTF-8'",254],",",["T_WHITESPACE"," ",254],["T_VARIABLE","$this",254],["T_OBJECT_OPERATOR","->",254],["T_STRING","_word",254],")",";",["T_WHITESPACE","\n            ",254],["T_VARIABLE","$wildcardsPattern",255],["T_WHITESPACE"," ",255],"=",["T_WHITESPACE"," ",255],["T_CONSTANT_ENCAPSED_STRING","'\/[*?]\/u'",255],";",["T_WHITESPACE","\n            ",255],["T_VARIABLE","$subPatternsEncoding",256],["T_WHITESPACE"," ",256],"=",["T_WHITESPACE"," ",256],["T_CONSTANT_ENCAPSED_STRING","'UTF-8'",256],";",["T_WHITESPACE","\n        ",256],"}",["T_WHITESPACE"," ",257],["T_ELSE","else",257],["T_WHITESPACE"," ",257],"{",["T_WHITESPACE","\n            ",257],["T_VARIABLE","$word",258],["T_WHITESPACE"," ",258],"=",["T_WHITESPACE"," ",258],["T_VARIABLE","$this",258],["T_OBJECT_OPERATOR","->",258],["T_STRING","_word",258],";",["T_WHITESPACE","\n            ",258],["T_VARIABLE","$wildcardsPattern",259],["T_WHITESPACE"," ",259],"=",["T_WHITESPACE"," ",259],["T_CONSTANT_ENCAPSED_STRING","'\/[*?]\/'",259],";",["T_WHITESPACE","\n            ",259],["T_VARIABLE","$subPatternsEncoding",260],["T_WHITESPACE"," ",260],"=",["T_WHITESPACE"," ",260],["T_VARIABLE","$this",260],["T_OBJECT_OPERATOR","->",260],["T_STRING","_encoding",260],";",["T_WHITESPACE","\n        ",260],"}",["T_WHITESPACE","\n        ",261],["T_VARIABLE","$subPatterns",262],["T_WHITESPACE"," ",262],"=",["T_WHITESPACE"," ",262],["T_STRING","preg_split",262],"(",["T_VARIABLE","$wildcardsPattern",262],",",["T_WHITESPACE"," ",262],["T_VARIABLE","$word",262],",",["T_WHITESPACE"," ",262],"-",["T_LNUMBER","1",262],",",["T_WHITESPACE"," ",262],["T_STRING","PREG_SPLIT_OFFSET_CAPTURE",262],")",";",["T_WHITESPACE","\n        ",262],["T_IF","if",263],["T_WHITESPACE"," ",263],"(",["T_STRING","count",263],"(",["T_VARIABLE","$subPatterns",263],")",["T_WHITESPACE"," ",263],">",["T_WHITESPACE"," ",263],["T_LNUMBER","1",263],")",["T_WHITESPACE"," ",263],"{",["T_WHITESPACE","\n            ",263],["T_COMMENT","\/\/ Wildcard query is recognized\n",264],["T_WHITESPACE","\n            ",265],["T_VARIABLE","$pattern",266],["T_WHITESPACE"," ",266],"=",["T_WHITESPACE"," ",266],["T_CONSTANT_ENCAPSED_STRING","''",266],";",["T_WHITESPACE","\n\n            ",266],["T_COMMENT","#require_once 'Zend\/Search\/Lucene\/Analysis\/Analyzer.php';\n",268],["T_WHITESPACE","            ",269],["T_FOREACH","foreach",269],["T_WHITESPACE"," ",269],"(",["T_VARIABLE","$subPatterns",269],["T_WHITESPACE"," ",269],["T_AS","as",269],["T_WHITESPACE"," ",269],["T_VARIABLE","$id",269],["T_WHITESPACE"," ",269],["T_DOUBLE_ARROW","=>",269],["T_WHITESPACE"," ",269],["T_VARIABLE","$subPattern",269],")",["T_WHITESPACE"," ",269],"{",["T_WHITESPACE","\n                ",269],["T_COMMENT","\/\/ Append corresponding wildcard character to the pattern before each sub-pattern (except first)\n",270],["T_WHITESPACE","                ",271],["T_IF","if",271],["T_WHITESPACE"," ",271],"(",["T_VARIABLE","$id",271],["T_WHITESPACE"," ",271],["T_IS_NOT_EQUAL","!=",271],["T_WHITESPACE"," ",271],["T_LNUMBER","0",271],")",["T_WHITESPACE"," ",271],"{",["T_WHITESPACE","\n                    ",271],["T_VARIABLE","$pattern",272],["T_WHITESPACE"," ",272],["T_CONCAT_EQUAL",".=",272],["T_WHITESPACE"," ",272],["T_VARIABLE","$word",272],"[",["T_WHITESPACE"," ",272],["T_VARIABLE","$subPattern",272],"[",["T_LNUMBER","1",272],"]",["T_WHITESPACE"," ",272],"-",["T_WHITESPACE"," ",272],["T_LNUMBER","1",272],["T_WHITESPACE"," ",272],"]",";",["T_WHITESPACE","\n                ",272],"}",["T_WHITESPACE","\n\n                ",273],["T_COMMENT","\/\/ Check if each subputtern is a single word in terms of current analyzer\n",275],["T_WHITESPACE","                ",276],["T_VARIABLE","$tokens",276],["T_WHITESPACE"," ",276],"=",["T_WHITESPACE"," ",276],["T_STRING","Zend_Search_Lucene_Analysis_Analyzer",276],["T_DOUBLE_COLON","::",276],["T_STRING","getDefault",276],"(",")",["T_OBJECT_OPERATOR","->",276],["T_STRING","tokenize",276],"(",["T_VARIABLE","$subPattern",276],"[",["T_LNUMBER","0",276],"]",",",["T_WHITESPACE"," ",276],["T_VARIABLE","$subPatternsEncoding",276],")",";",["T_WHITESPACE","\n                ",276],["T_IF","if",277],["T_WHITESPACE"," ",277],"(",["T_STRING","count",277],"(",["T_VARIABLE","$tokens",277],")",["T_WHITESPACE"," ",277],">",["T_WHITESPACE"," ",277],["T_LNUMBER","1",277],")",["T_WHITESPACE"," ",277],"{",["T_WHITESPACE","\n                    ",277],["T_COMMENT","\/\/ Do nothing (nothing is highlighted)\n",278],["T_WHITESPACE","                    ",279],["T_RETURN","return",279],";",["T_WHITESPACE","\n                ",279],"}",["T_WHITESPACE","\n                ",280],["T_FOREACH","foreach",281],["T_WHITESPACE"," ",281],"(",["T_VARIABLE","$tokens",281],["T_WHITESPACE"," ",281],["T_AS","as",281],["T_WHITESPACE"," ",281],["T_VARIABLE","$token",281],")",["T_WHITESPACE"," ",281],"{",["T_WHITESPACE","\n                    ",281],["T_VARIABLE","$pattern",282],["T_WHITESPACE"," ",282],["T_CONCAT_EQUAL",".=",282],["T_WHITESPACE"," ",282],["T_VARIABLE","$token",282],["T_OBJECT_OPERATOR","->",282],["T_STRING","getTermText",282],"(",")",";",["T_WHITESPACE","\n                ",282],"}",["T_WHITESPACE","\n            ",283],"}",["T_WHITESPACE","\n\n            ",284],["T_COMMENT","#require_once 'Zend\/Search\/Lucene\/Index\/Term.php';\n",286],["T_WHITESPACE","            ",287],["T_VARIABLE","$term",287],["T_WHITESPACE","  ",287],"=",["T_WHITESPACE"," ",287],["T_NEW","new",287],["T_WHITESPACE"," ",287],["T_STRING","Zend_Search_Lucene_Index_Term",287],"(",["T_VARIABLE","$pattern",287],",",["T_WHITESPACE"," ",287],["T_VARIABLE","$this",287],["T_OBJECT_OPERATOR","->",287],["T_STRING","_field",287],")",";",["T_WHITESPACE","\n            ",287],["T_COMMENT","#require_once 'Zend\/Search\/Lucene\/Search\/Query\/Wildcard.php';\n",288],["T_WHITESPACE","            ",289],["T_VARIABLE","$query",289],["T_WHITESPACE"," ",289],"=",["T_WHITESPACE"," ",289],["T_NEW","new",289],["T_WHITESPACE"," ",289],["T_STRING","Zend_Search_Lucene_Search_Query_Wildcard",289],"(",["T_VARIABLE","$term",289],")",";",["T_WHITESPACE","\n\n            ",289],["T_VARIABLE","$query",291],["T_OBJECT_OPERATOR","->",291],["T_STRING","_highlightMatches",291],"(",["T_VARIABLE","$highlighter",291],")",";",["T_WHITESPACE","\n            ",291],["T_RETURN","return",292],";",["T_WHITESPACE","\n        ",292],"}",["T_WHITESPACE","\n\n\n        ",293],["T_COMMENT","\/\/ -------------------------------------\n",296],["T_WHITESPACE","        ",297],["T_COMMENT","\/\/ Recognize one-term multi-term and \"insignificant\" queries\n",297],["T_WHITESPACE","        ",298],["T_COMMENT","#require_once 'Zend\/Search\/Lucene\/Analysis\/Analyzer.php';\n",298],["T_WHITESPACE","        ",299],["T_VARIABLE","$tokens",299],["T_WHITESPACE"," ",299],"=",["T_WHITESPACE"," ",299],["T_STRING","Zend_Search_Lucene_Analysis_Analyzer",299],["T_DOUBLE_COLON","::",299],["T_STRING","getDefault",299],"(",")",["T_OBJECT_OPERATOR","->",299],["T_STRING","tokenize",299],"(",["T_VARIABLE","$this",299],["T_OBJECT_OPERATOR","->",299],["T_STRING","_word",299],",",["T_WHITESPACE"," ",299],["T_VARIABLE","$this",299],["T_OBJECT_OPERATOR","->",299],["T_STRING","_encoding",299],")",";",["T_WHITESPACE","\n\n        ",299],["T_IF","if",301],["T_WHITESPACE"," ",301],"(",["T_STRING","count",301],"(",["T_VARIABLE","$tokens",301],")",["T_WHITESPACE"," ",301],["T_IS_EQUAL","==",301],["T_WHITESPACE"," ",301],["T_LNUMBER","0",301],")",["T_WHITESPACE"," ",301],"{",["T_WHITESPACE","\n            ",301],["T_COMMENT","\/\/ Do nothing\n",302],["T_WHITESPACE","            ",303],["T_RETURN","return",303],";",["T_WHITESPACE","\n        ",303],"}",["T_WHITESPACE","\n\n        ",304],["T_IF","if",306],["T_WHITESPACE"," ",306],"(",["T_STRING","count",306],"(",["T_VARIABLE","$tokens",306],")",["T_WHITESPACE"," ",306],["T_IS_EQUAL","==",306],["T_WHITESPACE"," ",306],["T_LNUMBER","1",306],")",["T_WHITESPACE"," ",306],"{",["T_WHITESPACE","\n            ",306],["T_VARIABLE","$highlighter",307],["T_OBJECT_OPERATOR","->",307],["T_STRING","highlight",307],"(",["T_VARIABLE","$tokens",307],"[",["T_LNUMBER","0",307],"]",["T_OBJECT_OPERATOR","->",307],["T_STRING","getTermText",307],"(",")",")",";",["T_WHITESPACE","\n            ",307],["T_RETURN","return",308],";",["T_WHITESPACE","\n        ",308],"}",["T_WHITESPACE","\n\n        ",309],["T_COMMENT","\/\/It's not insignificant or one term query\n",311],["T_WHITESPACE","        ",312],["T_VARIABLE","$words",312],["T_WHITESPACE"," ",312],"=",["T_WHITESPACE"," ",312],["T_ARRAY","array",312],"(",")",";",["T_WHITESPACE","\n        ",312],["T_FOREACH","foreach",313],["T_WHITESPACE"," ",313],"(",["T_VARIABLE","$tokens",313],["T_WHITESPACE"," ",313],["T_AS","as",313],["T_WHITESPACE"," ",313],["T_VARIABLE","$token",313],")",["T_WHITESPACE"," ",313],"{",["T_WHITESPACE","\n            ",313],["T_VARIABLE","$words",314],"[","]",["T_WHITESPACE"," ",314],"=",["T_WHITESPACE"," ",314],["T_VARIABLE","$token",314],["T_OBJECT_OPERATOR","->",314],["T_STRING","getTermText",314],"(",")",";",["T_WHITESPACE","\n        ",314],"}",["T_WHITESPACE","\n        ",315],["T_VARIABLE","$highlighter",316],["T_OBJECT_OPERATOR","->",316],["T_STRING","highlight",316],"(",["T_VARIABLE","$words",316],")",";",["T_WHITESPACE","\n    ",316],"}",["T_WHITESPACE","\n\n    ",317],["T_DOC_COMMENT","\/**\n     * Print a query\n     *\n     * @return string\n     *\/",319],["T_WHITESPACE","\n    ",323],["T_PUBLIC","public",324],["T_WHITESPACE"," ",324],["T_FUNCTION","function",324],["T_WHITESPACE"," ",324],["T_STRING","__toString",324],"(",")",["T_WHITESPACE","\n    ",324],"{",["T_WHITESPACE","\n        ",325],["T_COMMENT","\/\/ It's used only for query visualisation, so we don't care about characters escaping\n",326],["T_WHITESPACE","        ",327],["T_IF","if",327],["T_WHITESPACE"," ",327],"(",["T_VARIABLE","$this",327],["T_OBJECT_OPERATOR","->",327],["T_STRING","_field",327],["T_WHITESPACE"," ",327],["T_IS_NOT_IDENTICAL","!==",327],["T_WHITESPACE"," ",327],["T_STRING","null",327],")",["T_WHITESPACE"," ",327],"{",["T_WHITESPACE","\n            ",327],["T_VARIABLE","$query",328],["T_WHITESPACE"," ",328],"=",["T_WHITESPACE"," ",328],["T_VARIABLE","$this",328],["T_OBJECT_OPERATOR","->",328],["T_STRING","_field",328],["T_WHITESPACE"," ",328],".",["T_WHITESPACE"," ",328],["T_CONSTANT_ENCAPSED_STRING","':'",328],";",["T_WHITESPACE","\n        ",328],"}",["T_WHITESPACE"," ",329],["T_ELSE","else",329],["T_WHITESPACE"," ",329],"{",["T_WHITESPACE","\n            ",329],["T_VARIABLE","$query",330],["T_WHITESPACE"," ",330],"=",["T_WHITESPACE"," ",330],["T_CONSTANT_ENCAPSED_STRING","''",330],";",["T_WHITESPACE","\n        ",330],"}",["T_WHITESPACE","\n\n        ",331],["T_VARIABLE","$query",333],["T_WHITESPACE"," ",333],["T_CONCAT_EQUAL",".=",333],["T_WHITESPACE"," ",333],["T_VARIABLE","$this",333],["T_OBJECT_OPERATOR","->",333],["T_STRING","_word",333],";",["T_WHITESPACE","\n\n        ",333],["T_IF","if",335],["T_WHITESPACE"," ",335],"(",["T_VARIABLE","$this",335],["T_OBJECT_OPERATOR","->",335],["T_STRING","getBoost",335],"(",")",["T_WHITESPACE"," ",335],["T_IS_NOT_EQUAL","!=",335],["T_WHITESPACE"," ",335],["T_LNUMBER","1",335],")",["T_WHITESPACE"," ",335],"{",["T_WHITESPACE","\n            ",335],["T_VARIABLE","$query",336],["T_WHITESPACE"," ",336],["T_CONCAT_EQUAL",".=",336],["T_WHITESPACE"," ",336],["T_CONSTANT_ENCAPSED_STRING","'^'",336],["T_WHITESPACE"," ",336],".",["T_WHITESPACE"," ",336],["T_STRING","round",336],"(",["T_VARIABLE","$this",336],["T_OBJECT_OPERATOR","->",336],["T_STRING","getBoost",336],"(",")",",",["T_WHITESPACE"," ",336],["T_LNUMBER","4",336],")",";",["T_WHITESPACE","\n        ",336],"}",["T_WHITESPACE","\n\n        ",337],["T_RETURN","return",339],["T_WHITESPACE"," ",339],["T_VARIABLE","$query",339],";",["T_WHITESPACE","\n    ",339],"}",["T_WHITESPACE","\n",340],"}",["T_WHITESPACE","\n",341]]