[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Zend Framework\n *\n * LICENSE\n *\n * This source file is subject to the new BSD license that is bundled\n * with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/framework.zend.com\/license\/new-bsd\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@zend.com so we can send you a copy immediately.\n *\n * @category   Zend\n * @package    Zend_Search_Lucene\n * @subpackage Search\n * @copyright  Copyright (c) 2005-2015 Zend Technologies USA Inc. (http:\/\/www.zend.com)\n * @license    http:\/\/framework.zend.com\/license\/new-bsd     New BSD License\n * @version    $Id$\n *\/",2],["T_WHITESPACE","\n\n\n",21],["T_DOC_COMMENT","\/** Zend_Search_Lucene_Search_Query *\/",24],["T_WHITESPACE","\n",24],["T_COMMENT","#require_once 'Zend\/Search\/Lucene\/Search\/Query.php';\n",25],["T_WHITESPACE","\n\n",26],["T_DOC_COMMENT","\/**\n * @category   Zend\n * @package    Zend_Search_Lucene\n * @subpackage Search\n * @copyright  Copyright (c) 2005-2015 Zend Technologies USA Inc. (http:\/\/www.zend.com)\n * @license    http:\/\/framework.zend.com\/license\/new-bsd     New BSD License\n *\/",28],["T_WHITESPACE","\n",34],["T_CLASS","class",35],["T_WHITESPACE"," ",35],["T_STRING","Zend_Search_Lucene_Search_Query_Wildcard",35],["T_WHITESPACE"," ",35],["T_EXTENDS","extends",35],["T_WHITESPACE"," ",35],["T_STRING","Zend_Search_Lucene_Search_Query",35],["T_WHITESPACE","\n",35],"{",["T_WHITESPACE","\n    ",36],["T_DOC_COMMENT","\/**\n     * Search pattern.\n     *\n     * Field has to be fully specified or has to be null\n     * Text may contain '*' or '?' symbols\n     *\n     * @var Zend_Search_Lucene_Index_Term\n     *\/",37],["T_WHITESPACE","\n    ",44],["T_PRIVATE","private",45],["T_WHITESPACE"," ",45],["T_VARIABLE","$_pattern",45],";",["T_WHITESPACE","\n\n    ",45],["T_DOC_COMMENT","\/**\n     * Matched terms.\n     *\n     * Matched terms list.\n     * It's filled during the search (rewrite operation) and may be used for search result\n     * post-processing\n     *\n     * Array of Zend_Search_Lucene_Index_Term objects\n     *\n     * @var array\n     *\/",47],["T_WHITESPACE","\n    ",57],["T_PRIVATE","private",58],["T_WHITESPACE"," ",58],["T_VARIABLE","$_matches",58],["T_WHITESPACE"," ",58],"=",["T_WHITESPACE"," ",58],["T_STRING","null",58],";",["T_WHITESPACE","\n\n    ",58],["T_DOC_COMMENT","\/**\n     * Minimum term prefix length (number of minimum non-wildcard characters)\n     *\n     * @var integer\n     *\/",60],["T_WHITESPACE","\n    ",64],["T_PRIVATE","private",65],["T_WHITESPACE"," ",65],["T_STATIC","static",65],["T_WHITESPACE"," ",65],["T_VARIABLE","$_minPrefixLength",65],["T_WHITESPACE"," ",65],"=",["T_WHITESPACE"," ",65],["T_LNUMBER","3",65],";",["T_WHITESPACE","\n\n    ",65],["T_DOC_COMMENT","\/**\n     * Zend_Search_Lucene_Search_Query_Wildcard constructor.\n     *\n     * @param Zend_Search_Lucene_Index_Term $pattern\n     *\/",67],["T_WHITESPACE","\n    ",71],["T_PUBLIC","public",72],["T_WHITESPACE"," ",72],["T_FUNCTION","function",72],["T_WHITESPACE"," ",72],["T_STRING","__construct",72],"(",["T_STRING","Zend_Search_Lucene_Index_Term",72],["T_WHITESPACE"," ",72],["T_VARIABLE","$pattern",72],")",["T_WHITESPACE","\n    ",72],"{",["T_WHITESPACE","\n        ",73],["T_VARIABLE","$this",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","_pattern",74],["T_WHITESPACE"," ",74],"=",["T_WHITESPACE"," ",74],["T_VARIABLE","$pattern",74],";",["T_WHITESPACE","\n    ",74],"}",["T_WHITESPACE","\n\n    ",75],["T_DOC_COMMENT","\/**\n     * Get minimum prefix length\n     *\n     * @return integer\n     *\/",77],["T_WHITESPACE","\n    ",81],["T_PUBLIC","public",82],["T_WHITESPACE"," ",82],["T_STATIC","static",82],["T_WHITESPACE"," ",82],["T_FUNCTION","function",82],["T_WHITESPACE"," ",82],["T_STRING","getMinPrefixLength",82],"(",")",["T_WHITESPACE","\n    ",82],"{",["T_WHITESPACE","\n        ",83],["T_RETURN","return",84],["T_WHITESPACE"," ",84],["T_STRING","self",84],["T_DOUBLE_COLON","::",84],["T_VARIABLE","$_minPrefixLength",84],";",["T_WHITESPACE","\n    ",84],"}",["T_WHITESPACE","\n\n    ",85],["T_DOC_COMMENT","\/**\n     * Set minimum prefix length\n     *\n     * @param integer $minPrefixLength\n     *\/",87],["T_WHITESPACE","\n    ",91],["T_PUBLIC","public",92],["T_WHITESPACE"," ",92],["T_STATIC","static",92],["T_WHITESPACE"," ",92],["T_FUNCTION","function",92],["T_WHITESPACE"," ",92],["T_STRING","setMinPrefixLength",92],"(",["T_VARIABLE","$minPrefixLength",92],")",["T_WHITESPACE","\n    ",92],"{",["T_WHITESPACE","\n        ",93],["T_STRING","self",94],["T_DOUBLE_COLON","::",94],["T_VARIABLE","$_minPrefixLength",94],["T_WHITESPACE"," ",94],"=",["T_WHITESPACE"," ",94],["T_VARIABLE","$minPrefixLength",94],";",["T_WHITESPACE","\n    ",94],"}",["T_WHITESPACE","\n\n    ",95],["T_DOC_COMMENT","\/**\n     * Get terms prefix\n     *\n     * @param string $word\n     * @return string\n     *\/",97],["T_WHITESPACE","\n    ",102],["T_PRIVATE","private",103],["T_WHITESPACE"," ",103],["T_STATIC","static",103],["T_WHITESPACE"," ",103],["T_FUNCTION","function",103],["T_WHITESPACE"," ",103],["T_STRING","_getPrefix",103],"(",["T_VARIABLE","$word",103],")",["T_WHITESPACE","\n    ",103],"{",["T_WHITESPACE","\n        ",104],["T_VARIABLE","$questionMarkPosition",105],["T_WHITESPACE"," ",105],"=",["T_WHITESPACE"," ",105],["T_STRING","strpos",105],"(",["T_VARIABLE","$word",105],",",["T_WHITESPACE"," ",105],["T_CONSTANT_ENCAPSED_STRING","'?'",105],")",";",["T_WHITESPACE","\n        ",105],["T_VARIABLE","$astrericPosition",106],["T_WHITESPACE","     ",106],"=",["T_WHITESPACE"," ",106],["T_STRING","strpos",106],"(",["T_VARIABLE","$word",106],",",["T_WHITESPACE"," ",106],["T_CONSTANT_ENCAPSED_STRING","'*'",106],")",";",["T_WHITESPACE","\n\n        ",106],["T_IF","if",108],["T_WHITESPACE"," ",108],"(",["T_VARIABLE","$questionMarkPosition",108],["T_WHITESPACE"," ",108],["T_IS_NOT_IDENTICAL","!==",108],["T_WHITESPACE"," ",108],["T_STRING","false",108],")",["T_WHITESPACE"," ",108],"{",["T_WHITESPACE","\n            ",108],["T_IF","if",109],["T_WHITESPACE"," ",109],"(",["T_VARIABLE","$astrericPosition",109],["T_WHITESPACE"," ",109],["T_IS_NOT_IDENTICAL","!==",109],["T_WHITESPACE"," ",109],["T_STRING","false",109],")",["T_WHITESPACE"," ",109],"{",["T_WHITESPACE","\n                ",109],["T_RETURN","return",110],["T_WHITESPACE"," ",110],["T_STRING","substr",110],"(",["T_VARIABLE","$word",110],",",["T_WHITESPACE"," ",110],["T_LNUMBER","0",110],",",["T_WHITESPACE"," ",110],["T_STRING","min",110],"(",["T_VARIABLE","$questionMarkPosition",110],",",["T_WHITESPACE"," ",110],["T_VARIABLE","$astrericPosition",110],")",")",";",["T_WHITESPACE","\n            ",110],"}",["T_WHITESPACE","\n\n            ",111],["T_RETURN","return",113],["T_WHITESPACE"," ",113],["T_STRING","substr",113],"(",["T_VARIABLE","$word",113],",",["T_WHITESPACE"," ",113],["T_LNUMBER","0",113],",",["T_WHITESPACE"," ",113],["T_VARIABLE","$questionMarkPosition",113],")",";",["T_WHITESPACE","\n        ",113],"}",["T_WHITESPACE"," ",114],["T_ELSE","else",114],["T_WHITESPACE"," ",114],["T_IF","if",114],["T_WHITESPACE"," ",114],"(",["T_VARIABLE","$astrericPosition",114],["T_WHITESPACE"," ",114],["T_IS_NOT_IDENTICAL","!==",114],["T_WHITESPACE"," ",114],["T_STRING","false",114],")",["T_WHITESPACE"," ",114],"{",["T_WHITESPACE","\n            ",114],["T_RETURN","return",115],["T_WHITESPACE"," ",115],["T_STRING","substr",115],"(",["T_VARIABLE","$word",115],",",["T_WHITESPACE"," ",115],["T_LNUMBER","0",115],",",["T_WHITESPACE"," ",115],["T_VARIABLE","$astrericPosition",115],")",";",["T_WHITESPACE","\n        ",115],"}",["T_WHITESPACE","\n\n        ",116],["T_RETURN","return",118],["T_WHITESPACE"," ",118],["T_VARIABLE","$word",118],";",["T_WHITESPACE","\n    ",118],"}",["T_WHITESPACE","\n\n    ",119],["T_DOC_COMMENT","\/**\n     * Re-write query into primitive queries in the context of specified index\n     *\n     * @param Zend_Search_Lucene_Interface $index\n     * @return Zend_Search_Lucene_Search_Query\n     * @throws Zend_Search_Lucene_Exception\n     *\/",121],["T_WHITESPACE","\n    ",127],["T_PUBLIC","public",128],["T_WHITESPACE"," ",128],["T_FUNCTION","function",128],["T_WHITESPACE"," ",128],["T_STRING","rewrite",128],"(",["T_STRING","Zend_Search_Lucene_Interface",128],["T_WHITESPACE"," ",128],["T_VARIABLE","$index",128],")",["T_WHITESPACE","\n    ",128],"{",["T_WHITESPACE","\n        ",129],["T_VARIABLE","$this",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","_matches",130],["T_WHITESPACE"," ",130],"=",["T_WHITESPACE"," ",130],["T_ARRAY","array",130],"(",")",";",["T_WHITESPACE","\n\n        ",130],["T_IF","if",132],["T_WHITESPACE"," ",132],"(",["T_VARIABLE","$this",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","_pattern",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","field",132],["T_WHITESPACE"," ",132],["T_IS_IDENTICAL","===",132],["T_WHITESPACE"," ",132],["T_STRING","null",132],")",["T_WHITESPACE"," ",132],"{",["T_WHITESPACE","\n            ",132],["T_COMMENT","\/\/ Search through all fields\n",133],["T_WHITESPACE","            ",134],["T_VARIABLE","$fields",134],["T_WHITESPACE"," ",134],"=",["T_WHITESPACE"," ",134],["T_VARIABLE","$index",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","getFieldNames",134],"(",["T_STRING","true",134],["T_WHITESPACE"," ",134],["T_COMMENT","\/* indexed fields list *\/",134],")",";",["T_WHITESPACE","\n        ",134],"}",["T_WHITESPACE"," ",135],["T_ELSE","else",135],["T_WHITESPACE"," ",135],"{",["T_WHITESPACE","\n            ",135],["T_VARIABLE","$fields",136],["T_WHITESPACE"," ",136],"=",["T_WHITESPACE"," ",136],["T_ARRAY","array",136],"(",["T_VARIABLE","$this",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","_pattern",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","field",136],")",";",["T_WHITESPACE","\n        ",136],"}",["T_WHITESPACE","\n\n        ",137],["T_VARIABLE","$prefix",139],["T_WHITESPACE","          ",139],"=",["T_WHITESPACE"," ",139],["T_STRING","self",139],["T_DOUBLE_COLON","::",139],["T_STRING","_getPrefix",139],"(",["T_VARIABLE","$this",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","_pattern",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","text",139],")",";",["T_WHITESPACE","\n        ",139],["T_VARIABLE","$prefixLength",140],["T_WHITESPACE","    ",140],"=",["T_WHITESPACE"," ",140],["T_STRING","strlen",140],"(",["T_VARIABLE","$prefix",140],")",";",["T_WHITESPACE","\n        ",140],["T_VARIABLE","$matchExpression",141],["T_WHITESPACE"," ",141],"=",["T_WHITESPACE"," ",141],["T_CONSTANT_ENCAPSED_STRING","'\/^'",141],["T_WHITESPACE"," ",141],".",["T_WHITESPACE"," ",141],["T_STRING","str_replace",141],"(",["T_ARRAY","array",141],"(",["T_CONSTANT_ENCAPSED_STRING","'\\\\?'",141],",",["T_WHITESPACE"," ",141],["T_CONSTANT_ENCAPSED_STRING","'\\\\*'",141],")",",",["T_WHITESPACE"," ",141],["T_ARRAY","array",141],"(",["T_CONSTANT_ENCAPSED_STRING","'.'",141],",",["T_WHITESPACE"," ",141],["T_CONSTANT_ENCAPSED_STRING","'.*'",141],")",["T_WHITESPACE"," ",141],",",["T_WHITESPACE"," ",141],["T_STRING","preg_quote",141],"(",["T_VARIABLE","$this",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","_pattern",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","text",141],",",["T_WHITESPACE"," ",141],["T_CONSTANT_ENCAPSED_STRING","'\/'",141],")",")",["T_WHITESPACE"," ",141],".",["T_WHITESPACE"," ",141],["T_CONSTANT_ENCAPSED_STRING","'$\/'",141],";",["T_WHITESPACE","\n\n        ",141],["T_IF","if",143],["T_WHITESPACE"," ",143],"(",["T_VARIABLE","$prefixLength",143],["T_WHITESPACE"," ",143],"<",["T_WHITESPACE"," ",143],["T_STRING","self",143],["T_DOUBLE_COLON","::",143],["T_VARIABLE","$_minPrefixLength",143],")",["T_WHITESPACE"," ",143],"{",["T_WHITESPACE","\n            ",143],["T_COMMENT","#require_once 'Zend\/Search\/Lucene\/Exception.php';\n",144],["T_WHITESPACE","            ",145],["T_THROW","throw",145],["T_WHITESPACE"," ",145],["T_NEW","new",145],["T_WHITESPACE"," ",145],["T_STRING","Zend_Search_Lucene_Exception",145],"(",["T_CONSTANT_ENCAPSED_STRING","'At least '",145],["T_WHITESPACE"," ",145],".",["T_WHITESPACE"," ",145],["T_STRING","self",145],["T_DOUBLE_COLON","::",145],["T_VARIABLE","$_minPrefixLength",145],["T_WHITESPACE"," ",145],".",["T_WHITESPACE"," ",145],["T_CONSTANT_ENCAPSED_STRING","' non-wildcard characters are required at the beginning of pattern.'",145],")",";",["T_WHITESPACE","\n        ",145],"}",["T_WHITESPACE","\n\n        ",146],["T_DOC_COMMENT","\/** @todo check for PCRE unicode support may be performed through Zend_Environment in some future *\/",148],["T_WHITESPACE","\n        ",148],["T_IF","if",149],["T_WHITESPACE"," ",149],"(","@",["T_STRING","preg_match",149],"(",["T_CONSTANT_ENCAPSED_STRING","'\/\\pL\/u'",149],",",["T_WHITESPACE"," ",149],["T_CONSTANT_ENCAPSED_STRING","'a'",149],")",["T_WHITESPACE"," ",149],["T_IS_EQUAL","==",149],["T_WHITESPACE"," ",149],["T_LNUMBER","1",149],")",["T_WHITESPACE"," ",149],"{",["T_WHITESPACE","\n            ",149],["T_COMMENT","\/\/ PCRE unicode support is turned on\n",150],["T_WHITESPACE","            ",151],["T_COMMENT","\/\/ add Unicode modifier to the match expression\n",151],["T_WHITESPACE","            ",152],["T_VARIABLE","$matchExpression",152],["T_WHITESPACE"," ",152],["T_CONCAT_EQUAL",".=",152],["T_WHITESPACE"," ",152],["T_CONSTANT_ENCAPSED_STRING","'u'",152],";",["T_WHITESPACE","\n        ",152],"}",["T_WHITESPACE","\n\n        ",153],["T_VARIABLE","$maxTerms",155],["T_WHITESPACE"," ",155],"=",["T_WHITESPACE"," ",155],["T_STRING","Zend_Search_Lucene",155],["T_DOUBLE_COLON","::",155],["T_STRING","getTermsPerQueryLimit",155],"(",")",";",["T_WHITESPACE","\n        ",155],["T_FOREACH","foreach",156],["T_WHITESPACE"," ",156],"(",["T_VARIABLE","$fields",156],["T_WHITESPACE"," ",156],["T_AS","as",156],["T_WHITESPACE"," ",156],["T_VARIABLE","$field",156],")",["T_WHITESPACE"," ",156],"{",["T_WHITESPACE","\n            ",156],["T_VARIABLE","$index",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","resetTermsStream",157],"(",")",";",["T_WHITESPACE","\n\n            ",157],["T_COMMENT","#require_once 'Zend\/Search\/Lucene\/Index\/Term.php';\n",159],["T_WHITESPACE","            ",160],["T_IF","if",160],["T_WHITESPACE"," ",160],"(",["T_VARIABLE","$prefix",160],["T_WHITESPACE"," ",160],["T_IS_NOT_EQUAL","!=",160],["T_WHITESPACE"," ",160],["T_CONSTANT_ENCAPSED_STRING","''",160],")",["T_WHITESPACE"," ",160],"{",["T_WHITESPACE","\n                ",160],["T_VARIABLE","$index",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","skipTo",161],"(",["T_NEW","new",161],["T_WHITESPACE"," ",161],["T_STRING","Zend_Search_Lucene_Index_Term",161],"(",["T_VARIABLE","$prefix",161],",",["T_WHITESPACE"," ",161],["T_VARIABLE","$field",161],")",")",";",["T_WHITESPACE","\n\n                ",161],["T_WHILE","while",163],["T_WHITESPACE"," ",163],"(",["T_VARIABLE","$index",163],["T_OBJECT_OPERATOR","->",163],["T_STRING","currentTerm",163],"(",")",["T_WHITESPACE"," ",163],["T_IS_NOT_IDENTICAL","!==",163],["T_WHITESPACE"," ",163],["T_STRING","null",163],["T_WHITESPACE","          ",163],["T_BOOLEAN_AND","&&",163],["T_WHITESPACE","\n                       ",163],["T_VARIABLE","$index",164],["T_OBJECT_OPERATOR","->",164],["T_STRING","currentTerm",164],"(",")",["T_OBJECT_OPERATOR","->",164],["T_STRING","field",164],["T_WHITESPACE"," ",164],["T_IS_EQUAL","==",164],["T_WHITESPACE"," ",164],["T_VARIABLE","$field",164],["T_WHITESPACE","  ",164],["T_BOOLEAN_AND","&&",164],["T_WHITESPACE","\n                       ",164],["T_STRING","substr",165],"(",["T_VARIABLE","$index",165],["T_OBJECT_OPERATOR","->",165],["T_STRING","currentTerm",165],"(",")",["T_OBJECT_OPERATOR","->",165],["T_STRING","text",165],",",["T_WHITESPACE"," ",165],["T_LNUMBER","0",165],",",["T_WHITESPACE"," ",165],["T_VARIABLE","$prefixLength",165],")",["T_WHITESPACE"," ",165],["T_IS_EQUAL","==",165],["T_WHITESPACE"," ",165],["T_VARIABLE","$prefix",165],")",["T_WHITESPACE"," ",165],"{",["T_WHITESPACE","\n                    ",165],["T_IF","if",166],["T_WHITESPACE"," ",166],"(",["T_STRING","preg_match",166],"(",["T_VARIABLE","$matchExpression",166],",",["T_WHITESPACE"," ",166],["T_VARIABLE","$index",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","currentTerm",166],"(",")",["T_OBJECT_OPERATOR","->",166],["T_STRING","text",166],")",["T_WHITESPACE"," ",166],["T_IS_IDENTICAL","===",166],["T_WHITESPACE"," ",166],["T_LNUMBER","1",166],")",["T_WHITESPACE"," ",166],"{",["T_WHITESPACE","\n                        ",166],["T_VARIABLE","$this",167],["T_OBJECT_OPERATOR","->",167],["T_STRING","_matches",167],"[","]",["T_WHITESPACE"," ",167],"=",["T_WHITESPACE"," ",167],["T_VARIABLE","$index",167],["T_OBJECT_OPERATOR","->",167],["T_STRING","currentTerm",167],"(",")",";",["T_WHITESPACE","\n\n                        ",167],["T_IF","if",169],["T_WHITESPACE"," ",169],"(",["T_VARIABLE","$maxTerms",169],["T_WHITESPACE"," ",169],["T_IS_NOT_EQUAL","!=",169],["T_WHITESPACE"," ",169],["T_LNUMBER","0",169],["T_WHITESPACE","  ",169],["T_BOOLEAN_AND","&&",169],["T_WHITESPACE","  ",169],["T_STRING","count",169],"(",["T_VARIABLE","$this",169],["T_OBJECT_OPERATOR","->",169],["T_STRING","_matches",169],")",["T_WHITESPACE"," ",169],">",["T_WHITESPACE"," ",169],["T_VARIABLE","$maxTerms",169],")",["T_WHITESPACE"," ",169],"{",["T_WHITESPACE","\n                            ",169],["T_COMMENT","#require_once 'Zend\/Search\/Lucene\/Exception.php';\n",170],["T_WHITESPACE","                            ",171],["T_THROW","throw",171],["T_WHITESPACE"," ",171],["T_NEW","new",171],["T_WHITESPACE"," ",171],["T_STRING","Zend_Search_Lucene_Exception",171],"(",["T_CONSTANT_ENCAPSED_STRING","'Terms per query limit is reached.'",171],")",";",["T_WHITESPACE","\n                        ",171],"}",["T_WHITESPACE","\n                    ",172],"}",["T_WHITESPACE","\n\n                    ",173],["T_VARIABLE","$index",175],["T_OBJECT_OPERATOR","->",175],["T_STRING","nextTerm",175],"(",")",";",["T_WHITESPACE","\n                ",175],"}",["T_WHITESPACE","\n            ",176],"}",["T_WHITESPACE"," ",177],["T_ELSE","else",177],["T_WHITESPACE"," ",177],"{",["T_WHITESPACE","\n                ",177],["T_VARIABLE","$index",178],["T_OBJECT_OPERATOR","->",178],["T_STRING","skipTo",178],"(",["T_NEW","new",178],["T_WHITESPACE"," ",178],["T_STRING","Zend_Search_Lucene_Index_Term",178],"(",["T_CONSTANT_ENCAPSED_STRING","''",178],",",["T_WHITESPACE"," ",178],["T_VARIABLE","$field",178],")",")",";",["T_WHITESPACE","\n\n                ",178],["T_WHILE","while",180],["T_WHITESPACE"," ",180],"(",["T_VARIABLE","$index",180],["T_OBJECT_OPERATOR","->",180],["T_STRING","currentTerm",180],"(",")",["T_WHITESPACE"," ",180],["T_IS_NOT_IDENTICAL","!==",180],["T_WHITESPACE"," ",180],["T_STRING","null",180],["T_WHITESPACE","  ",180],["T_BOOLEAN_AND","&&",180],["T_WHITESPACE","  ",180],["T_VARIABLE","$index",180],["T_OBJECT_OPERATOR","->",180],["T_STRING","currentTerm",180],"(",")",["T_OBJECT_OPERATOR","->",180],["T_STRING","field",180],["T_WHITESPACE"," ",180],["T_IS_EQUAL","==",180],["T_WHITESPACE"," ",180],["T_VARIABLE","$field",180],")",["T_WHITESPACE"," ",180],"{",["T_WHITESPACE","\n                    ",180],["T_IF","if",181],["T_WHITESPACE"," ",181],"(",["T_STRING","preg_match",181],"(",["T_VARIABLE","$matchExpression",181],",",["T_WHITESPACE"," ",181],["T_VARIABLE","$index",181],["T_OBJECT_OPERATOR","->",181],["T_STRING","currentTerm",181],"(",")",["T_OBJECT_OPERATOR","->",181],["T_STRING","text",181],")",["T_WHITESPACE"," ",181],["T_IS_IDENTICAL","===",181],["T_WHITESPACE"," ",181],["T_LNUMBER","1",181],")",["T_WHITESPACE"," ",181],"{",["T_WHITESPACE","\n                        ",181],["T_VARIABLE","$this",182],["T_OBJECT_OPERATOR","->",182],["T_STRING","_matches",182],"[","]",["T_WHITESPACE"," ",182],"=",["T_WHITESPACE"," ",182],["T_VARIABLE","$index",182],["T_OBJECT_OPERATOR","->",182],["T_STRING","currentTerm",182],"(",")",";",["T_WHITESPACE","\n\n                        ",182],["T_IF","if",184],["T_WHITESPACE"," ",184],"(",["T_VARIABLE","$maxTerms",184],["T_WHITESPACE"," ",184],["T_IS_NOT_EQUAL","!=",184],["T_WHITESPACE"," ",184],["T_LNUMBER","0",184],["T_WHITESPACE","  ",184],["T_BOOLEAN_AND","&&",184],["T_WHITESPACE","  ",184],["T_STRING","count",184],"(",["T_VARIABLE","$this",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","_matches",184],")",["T_WHITESPACE"," ",184],">",["T_WHITESPACE"," ",184],["T_VARIABLE","$maxTerms",184],")",["T_WHITESPACE"," ",184],"{",["T_WHITESPACE","\n                            ",184],["T_COMMENT","#require_once 'Zend\/Search\/Lucene\/Exception.php';\n",185],["T_WHITESPACE","                            ",186],["T_THROW","throw",186],["T_WHITESPACE"," ",186],["T_NEW","new",186],["T_WHITESPACE"," ",186],["T_STRING","Zend_Search_Lucene_Exception",186],"(",["T_CONSTANT_ENCAPSED_STRING","'Terms per query limit is reached.'",186],")",";",["T_WHITESPACE","\n                        ",186],"}",["T_WHITESPACE","\n                    ",187],"}",["T_WHITESPACE","\n\n                    ",188],["T_VARIABLE","$index",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","nextTerm",190],"(",")",";",["T_WHITESPACE","\n                ",190],"}",["T_WHITESPACE","\n            ",191],"}",["T_WHITESPACE","\n\n            ",192],["T_VARIABLE","$index",194],["T_OBJECT_OPERATOR","->",194],["T_STRING","closeTermsStream",194],"(",")",";",["T_WHITESPACE","\n        ",194],"}",["T_WHITESPACE","\n\n        ",195],["T_IF","if",197],["T_WHITESPACE"," ",197],"(",["T_STRING","count",197],"(",["T_VARIABLE","$this",197],["T_OBJECT_OPERATOR","->",197],["T_STRING","_matches",197],")",["T_WHITESPACE"," ",197],["T_IS_EQUAL","==",197],["T_WHITESPACE"," ",197],["T_LNUMBER","0",197],")",["T_WHITESPACE"," ",197],"{",["T_WHITESPACE","\n            ",197],["T_COMMENT","#require_once 'Zend\/Search\/Lucene\/Search\/Query\/Empty.php';\n",198],["T_WHITESPACE","            ",199],["T_RETURN","return",199],["T_WHITESPACE"," ",199],["T_NEW","new",199],["T_WHITESPACE"," ",199],["T_STRING","Zend_Search_Lucene_Search_Query_Empty",199],"(",")",";",["T_WHITESPACE","\n        ",199],"}",["T_WHITESPACE"," ",200],["T_ELSE","else",200],["T_WHITESPACE"," ",200],["T_IF","if",200],["T_WHITESPACE"," ",200],"(",["T_STRING","count",200],"(",["T_VARIABLE","$this",200],["T_OBJECT_OPERATOR","->",200],["T_STRING","_matches",200],")",["T_WHITESPACE"," ",200],["T_IS_EQUAL","==",200],["T_WHITESPACE"," ",200],["T_LNUMBER","1",200],")",["T_WHITESPACE"," ",200],"{",["T_WHITESPACE","\n            ",200],["T_COMMENT","#require_once 'Zend\/Search\/Lucene\/Search\/Query\/Term.php';\n",201],["T_WHITESPACE","            ",202],["T_RETURN","return",202],["T_WHITESPACE"," ",202],["T_NEW","new",202],["T_WHITESPACE"," ",202],["T_STRING","Zend_Search_Lucene_Search_Query_Term",202],"(",["T_STRING","reset",202],"(",["T_VARIABLE","$this",202],["T_OBJECT_OPERATOR","->",202],["T_STRING","_matches",202],")",")",";",["T_WHITESPACE","\n        ",202],"}",["T_WHITESPACE"," ",203],["T_ELSE","else",203],["T_WHITESPACE"," ",203],"{",["T_WHITESPACE","\n            ",203],["T_COMMENT","#require_once 'Zend\/Search\/Lucene\/Search\/Query\/MultiTerm.php';\n",204],["T_WHITESPACE","            ",205],["T_VARIABLE","$rewrittenQuery",205],["T_WHITESPACE"," ",205],"=",["T_WHITESPACE"," ",205],["T_NEW","new",205],["T_WHITESPACE"," ",205],["T_STRING","Zend_Search_Lucene_Search_Query_MultiTerm",205],"(",")",";",["T_WHITESPACE","\n\n            ",205],["T_FOREACH","foreach",207],["T_WHITESPACE"," ",207],"(",["T_VARIABLE","$this",207],["T_OBJECT_OPERATOR","->",207],["T_STRING","_matches",207],["T_WHITESPACE"," ",207],["T_AS","as",207],["T_WHITESPACE"," ",207],["T_VARIABLE","$matchedTerm",207],")",["T_WHITESPACE"," ",207],"{",["T_WHITESPACE","\n                ",207],["T_VARIABLE","$rewrittenQuery",208],["T_OBJECT_OPERATOR","->",208],["T_STRING","addTerm",208],"(",["T_VARIABLE","$matchedTerm",208],")",";",["T_WHITESPACE","\n            ",208],"}",["T_WHITESPACE","\n\n            ",209],["T_RETURN","return",211],["T_WHITESPACE"," ",211],["T_VARIABLE","$rewrittenQuery",211],";",["T_WHITESPACE","\n        ",211],"}",["T_WHITESPACE","\n    ",212],"}",["T_WHITESPACE","\n\n    ",213],["T_DOC_COMMENT","\/**\n     * Optimize query in the context of specified index\n     *\n     * @param Zend_Search_Lucene_Interface $index\n     * @return Zend_Search_Lucene_Search_Query\n     *\/",215],["T_WHITESPACE","\n    ",220],["T_PUBLIC","public",221],["T_WHITESPACE"," ",221],["T_FUNCTION","function",221],["T_WHITESPACE"," ",221],["T_STRING","optimize",221],"(",["T_STRING","Zend_Search_Lucene_Interface",221],["T_WHITESPACE"," ",221],["T_VARIABLE","$index",221],")",["T_WHITESPACE","\n    ",221],"{",["T_WHITESPACE","\n        ",222],["T_COMMENT","#require_once 'Zend\/Search\/Lucene\/Exception.php';\n",223],["T_WHITESPACE","        ",224],["T_THROW","throw",224],["T_WHITESPACE"," ",224],["T_NEW","new",224],["T_WHITESPACE"," ",224],["T_STRING","Zend_Search_Lucene_Exception",224],"(",["T_CONSTANT_ENCAPSED_STRING","'Wildcard query should not be directly used for search. Use $query->rewrite($index)'",224],")",";",["T_WHITESPACE","\n    ",224],"}",["T_WHITESPACE","\n\n\n    ",225],["T_DOC_COMMENT","\/**\n     * Returns query pattern\n     *\n     * @return Zend_Search_Lucene_Index_Term\n     *\/",228],["T_WHITESPACE","\n    ",232],["T_PUBLIC","public",233],["T_WHITESPACE"," ",233],["T_FUNCTION","function",233],["T_WHITESPACE"," ",233],["T_STRING","getPattern",233],"(",")",["T_WHITESPACE","\n    ",233],"{",["T_WHITESPACE","\n        ",234],["T_RETURN","return",235],["T_WHITESPACE"," ",235],["T_VARIABLE","$this",235],["T_OBJECT_OPERATOR","->",235],["T_STRING","_pattern",235],";",["T_WHITESPACE","\n    ",235],"}",["T_WHITESPACE","\n\n\n    ",236],["T_DOC_COMMENT","\/**\n     * Return query terms\n     *\n     * @return array\n     * @throws Zend_Search_Lucene_Exception\n     *\/",239],["T_WHITESPACE","\n    ",244],["T_PUBLIC","public",245],["T_WHITESPACE"," ",245],["T_FUNCTION","function",245],["T_WHITESPACE"," ",245],["T_STRING","getQueryTerms",245],"(",")",["T_WHITESPACE","\n    ",245],"{",["T_WHITESPACE","\n        ",246],["T_IF","if",247],["T_WHITESPACE"," ",247],"(",["T_VARIABLE","$this",247],["T_OBJECT_OPERATOR","->",247],["T_STRING","_matches",247],["T_WHITESPACE"," ",247],["T_IS_IDENTICAL","===",247],["T_WHITESPACE"," ",247],["T_STRING","null",247],")",["T_WHITESPACE"," ",247],"{",["T_WHITESPACE","\n            ",247],["T_COMMENT","#require_once 'Zend\/Search\/Lucene\/Exception.php';\n",248],["T_WHITESPACE","            ",249],["T_THROW","throw",249],["T_WHITESPACE"," ",249],["T_NEW","new",249],["T_WHITESPACE"," ",249],["T_STRING","Zend_Search_Lucene_Exception",249],"(",["T_CONSTANT_ENCAPSED_STRING","'Search has to be performed first to get matched terms'",249],")",";",["T_WHITESPACE","\n        ",249],"}",["T_WHITESPACE","\n\n        ",250],["T_RETURN","return",252],["T_WHITESPACE"," ",252],["T_VARIABLE","$this",252],["T_OBJECT_OPERATOR","->",252],["T_STRING","_matches",252],";",["T_WHITESPACE","\n    ",252],"}",["T_WHITESPACE","\n\n    ",253],["T_DOC_COMMENT","\/**\n     * Constructs an appropriate Weight implementation for this query.\n     *\n     * @param Zend_Search_Lucene_Interface $reader\n     * @return Zend_Search_Lucene_Search_Weight\n     * @throws Zend_Search_Lucene_Exception\n     *\/",255],["T_WHITESPACE","\n    ",261],["T_PUBLIC","public",262],["T_WHITESPACE"," ",262],["T_FUNCTION","function",262],["T_WHITESPACE"," ",262],["T_STRING","createWeight",262],"(",["T_STRING","Zend_Search_Lucene_Interface",262],["T_WHITESPACE"," ",262],["T_VARIABLE","$reader",262],")",["T_WHITESPACE","\n    ",262],"{",["T_WHITESPACE","\n        ",263],["T_COMMENT","#require_once 'Zend\/Search\/Lucene\/Exception.php';\n",264],["T_WHITESPACE","        ",265],["T_THROW","throw",265],["T_WHITESPACE"," ",265],["T_NEW","new",265],["T_WHITESPACE"," ",265],["T_STRING","Zend_Search_Lucene_Exception",265],"(",["T_CONSTANT_ENCAPSED_STRING","'Wildcard query should not be directly used for search. Use $query->rewrite($index)'",265],")",";",["T_WHITESPACE","\n    ",265],"}",["T_WHITESPACE","\n\n\n    ",266],["T_DOC_COMMENT","\/**\n     * Execute query in context of index reader\n     * It also initializes necessary internal structures\n     *\n     * @param Zend_Search_Lucene_Interface $reader\n     * @param Zend_Search_Lucene_Index_DocsFilter|null $docsFilter\n     * @throws Zend_Search_Lucene_Exception\n     *\/",269],["T_WHITESPACE","\n    ",276],["T_PUBLIC","public",277],["T_WHITESPACE"," ",277],["T_FUNCTION","function",277],["T_WHITESPACE"," ",277],["T_STRING","execute",277],"(",["T_STRING","Zend_Search_Lucene_Interface",277],["T_WHITESPACE"," ",277],["T_VARIABLE","$reader",277],",",["T_WHITESPACE"," ",277],["T_VARIABLE","$docsFilter",277],["T_WHITESPACE"," ",277],"=",["T_WHITESPACE"," ",277],["T_STRING","null",277],")",["T_WHITESPACE","\n    ",277],"{",["T_WHITESPACE","\n        ",278],["T_COMMENT","#require_once 'Zend\/Search\/Lucene\/Exception.php';\n",279],["T_WHITESPACE","        ",280],["T_THROW","throw",280],["T_WHITESPACE"," ",280],["T_NEW","new",280],["T_WHITESPACE"," ",280],["T_STRING","Zend_Search_Lucene_Exception",280],"(",["T_CONSTANT_ENCAPSED_STRING","'Wildcard query should not be directly used for search. Use $query->rewrite($index)'",280],")",";",["T_WHITESPACE","\n    ",280],"}",["T_WHITESPACE","\n\n    ",281],["T_DOC_COMMENT","\/**\n     * Get document ids likely matching the query\n     *\n     * It's an array with document ids as keys (performance considerations)\n     *\n     * @return array\n     * @throws Zend_Search_Lucene_Exception\n     *\/",283],["T_WHITESPACE","\n    ",290],["T_PUBLIC","public",291],["T_WHITESPACE"," ",291],["T_FUNCTION","function",291],["T_WHITESPACE"," ",291],["T_STRING","matchedDocs",291],"(",")",["T_WHITESPACE","\n    ",291],"{",["T_WHITESPACE","\n        ",292],["T_COMMENT","#require_once 'Zend\/Search\/Lucene\/Exception.php';\n",293],["T_WHITESPACE","        ",294],["T_THROW","throw",294],["T_WHITESPACE"," ",294],["T_NEW","new",294],["T_WHITESPACE"," ",294],["T_STRING","Zend_Search_Lucene_Exception",294],"(",["T_CONSTANT_ENCAPSED_STRING","'Wildcard query should not be directly used for search. Use $query->rewrite($index)'",294],")",";",["T_WHITESPACE","\n    ",294],"}",["T_WHITESPACE","\n\n    ",295],["T_DOC_COMMENT","\/**\n     * Score specified document\n     *\n     * @param integer $docId\n     * @param Zend_Search_Lucene_Interface $reader\n     * @return float\n     * @throws Zend_Search_Lucene_Exception\n     *\/",297],["T_WHITESPACE","\n    ",304],["T_PUBLIC","public",305],["T_WHITESPACE"," ",305],["T_FUNCTION","function",305],["T_WHITESPACE"," ",305],["T_STRING","score",305],"(",["T_VARIABLE","$docId",305],",",["T_WHITESPACE"," ",305],["T_STRING","Zend_Search_Lucene_Interface",305],["T_WHITESPACE"," ",305],["T_VARIABLE","$reader",305],")",["T_WHITESPACE","\n    ",305],"{",["T_WHITESPACE","\n        ",306],["T_COMMENT","#require_once 'Zend\/Search\/Lucene\/Exception.php';\n",307],["T_WHITESPACE","        ",308],["T_THROW","throw",308],["T_WHITESPACE"," ",308],["T_NEW","new",308],["T_WHITESPACE"," ",308],["T_STRING","Zend_Search_Lucene_Exception",308],"(",["T_CONSTANT_ENCAPSED_STRING","'Wildcard query should not be directly used for search. Use $query->rewrite($index)'",308],")",";",["T_WHITESPACE","\n    ",308],"}",["T_WHITESPACE","\n\n    ",309],["T_DOC_COMMENT","\/**\n     * Query specific matches highlighting\n     *\n     * @param Zend_Search_Lucene_Search_Highlighter_Interface $highlighter  Highlighter object (also contains doc for highlighting)\n     *\/",311],["T_WHITESPACE","\n    ",315],["T_PROTECTED","protected",316],["T_WHITESPACE"," ",316],["T_FUNCTION","function",316],["T_WHITESPACE"," ",316],["T_STRING","_highlightMatches",316],"(",["T_STRING","Zend_Search_Lucene_Search_Highlighter_Interface",316],["T_WHITESPACE"," ",316],["T_VARIABLE","$highlighter",316],")",["T_WHITESPACE","\n    ",316],"{",["T_WHITESPACE","\n        ",317],["T_VARIABLE","$words",318],["T_WHITESPACE"," ",318],"=",["T_WHITESPACE"," ",318],["T_ARRAY","array",318],"(",")",";",["T_WHITESPACE","\n\n        ",318],["T_VARIABLE","$matchExpression",320],["T_WHITESPACE"," ",320],"=",["T_WHITESPACE"," ",320],["T_CONSTANT_ENCAPSED_STRING","'\/^'",320],["T_WHITESPACE"," ",320],".",["T_WHITESPACE"," ",320],["T_STRING","str_replace",320],"(",["T_ARRAY","array",320],"(",["T_CONSTANT_ENCAPSED_STRING","'\\\\?'",320],",",["T_WHITESPACE"," ",320],["T_CONSTANT_ENCAPSED_STRING","'\\\\*'",320],")",",",["T_WHITESPACE"," ",320],["T_ARRAY","array",320],"(",["T_CONSTANT_ENCAPSED_STRING","'.'",320],",",["T_WHITESPACE"," ",320],["T_CONSTANT_ENCAPSED_STRING","'.*'",320],")",["T_WHITESPACE"," ",320],",",["T_WHITESPACE"," ",320],["T_STRING","preg_quote",320],"(",["T_VARIABLE","$this",320],["T_OBJECT_OPERATOR","->",320],["T_STRING","_pattern",320],["T_OBJECT_OPERATOR","->",320],["T_STRING","text",320],",",["T_WHITESPACE"," ",320],["T_CONSTANT_ENCAPSED_STRING","'\/'",320],")",")",["T_WHITESPACE"," ",320],".",["T_WHITESPACE"," ",320],["T_CONSTANT_ENCAPSED_STRING","'$\/'",320],";",["T_WHITESPACE","\n        ",320],["T_IF","if",321],["T_WHITESPACE"," ",321],"(","@",["T_STRING","preg_match",321],"(",["T_CONSTANT_ENCAPSED_STRING","'\/\\pL\/u'",321],",",["T_WHITESPACE"," ",321],["T_CONSTANT_ENCAPSED_STRING","'a'",321],")",["T_WHITESPACE"," ",321],["T_IS_EQUAL","==",321],["T_WHITESPACE"," ",321],["T_LNUMBER","1",321],")",["T_WHITESPACE"," ",321],"{",["T_WHITESPACE","\n            ",321],["T_COMMENT","\/\/ PCRE unicode support is turned on\n",322],["T_WHITESPACE","            ",323],["T_COMMENT","\/\/ add Unicode modifier to the match expression\n",323],["T_WHITESPACE","            ",324],["T_VARIABLE","$matchExpression",324],["T_WHITESPACE"," ",324],["T_CONCAT_EQUAL",".=",324],["T_WHITESPACE"," ",324],["T_CONSTANT_ENCAPSED_STRING","'u'",324],";",["T_WHITESPACE","\n        ",324],"}",["T_WHITESPACE","\n\n        ",325],["T_VARIABLE","$docBody",327],["T_WHITESPACE"," ",327],"=",["T_WHITESPACE"," ",327],["T_VARIABLE","$highlighter",327],["T_OBJECT_OPERATOR","->",327],["T_STRING","getDocument",327],"(",")",["T_OBJECT_OPERATOR","->",327],["T_STRING","getFieldUtf8Value",327],"(",["T_CONSTANT_ENCAPSED_STRING","'body'",327],")",";",["T_WHITESPACE","\n        ",327],["T_COMMENT","#require_once 'Zend\/Search\/Lucene\/Analysis\/Analyzer.php';\n",328],["T_WHITESPACE","        ",329],["T_VARIABLE","$tokens",329],["T_WHITESPACE"," ",329],"=",["T_WHITESPACE"," ",329],["T_STRING","Zend_Search_Lucene_Analysis_Analyzer",329],["T_DOUBLE_COLON","::",329],["T_STRING","getDefault",329],"(",")",["T_OBJECT_OPERATOR","->",329],["T_STRING","tokenize",329],"(",["T_VARIABLE","$docBody",329],",",["T_WHITESPACE"," ",329],["T_CONSTANT_ENCAPSED_STRING","'UTF-8'",329],")",";",["T_WHITESPACE","\n        ",329],["T_FOREACH","foreach",330],["T_WHITESPACE"," ",330],"(",["T_VARIABLE","$tokens",330],["T_WHITESPACE"," ",330],["T_AS","as",330],["T_WHITESPACE"," ",330],["T_VARIABLE","$token",330],")",["T_WHITESPACE"," ",330],"{",["T_WHITESPACE","\n            ",330],["T_IF","if",331],["T_WHITESPACE"," ",331],"(",["T_STRING","preg_match",331],"(",["T_VARIABLE","$matchExpression",331],",",["T_WHITESPACE"," ",331],["T_VARIABLE","$token",331],["T_OBJECT_OPERATOR","->",331],["T_STRING","getTermText",331],"(",")",")",["T_WHITESPACE"," ",331],["T_IS_IDENTICAL","===",331],["T_WHITESPACE"," ",331],["T_LNUMBER","1",331],")",["T_WHITESPACE"," ",331],"{",["T_WHITESPACE","\n                ",331],["T_VARIABLE","$words",332],"[","]",["T_WHITESPACE"," ",332],"=",["T_WHITESPACE"," ",332],["T_VARIABLE","$token",332],["T_OBJECT_OPERATOR","->",332],["T_STRING","getTermText",332],"(",")",";",["T_WHITESPACE","\n            ",332],"}",["T_WHITESPACE","\n        ",333],"}",["T_WHITESPACE","\n\n        ",334],["T_VARIABLE","$highlighter",336],["T_OBJECT_OPERATOR","->",336],["T_STRING","highlight",336],"(",["T_VARIABLE","$words",336],")",";",["T_WHITESPACE","\n    ",336],"}",["T_WHITESPACE","\n\n    ",337],["T_DOC_COMMENT","\/**\n     * Print a query\n     *\n     * @return string\n     *\/",339],["T_WHITESPACE","\n    ",343],["T_PUBLIC","public",344],["T_WHITESPACE"," ",344],["T_FUNCTION","function",344],["T_WHITESPACE"," ",344],["T_STRING","__toString",344],"(",")",["T_WHITESPACE","\n    ",344],"{",["T_WHITESPACE","\n        ",345],["T_COMMENT","\/\/ It's used only for query visualisation, so we don't care about characters escaping\n",346],["T_WHITESPACE","        ",347],["T_IF","if",347],["T_WHITESPACE"," ",347],"(",["T_VARIABLE","$this",347],["T_OBJECT_OPERATOR","->",347],["T_STRING","_pattern",347],["T_OBJECT_OPERATOR","->",347],["T_STRING","field",347],["T_WHITESPACE"," ",347],["T_IS_NOT_IDENTICAL","!==",347],["T_WHITESPACE"," ",347],["T_STRING","null",347],")",["T_WHITESPACE"," ",347],"{",["T_WHITESPACE","\n            ",347],["T_VARIABLE","$query",348],["T_WHITESPACE"," ",348],"=",["T_WHITESPACE"," ",348],["T_VARIABLE","$this",348],["T_OBJECT_OPERATOR","->",348],["T_STRING","_pattern",348],["T_OBJECT_OPERATOR","->",348],["T_STRING","field",348],["T_WHITESPACE"," ",348],".",["T_WHITESPACE"," ",348],["T_CONSTANT_ENCAPSED_STRING","':'",348],";",["T_WHITESPACE","\n        ",348],"}",["T_WHITESPACE"," ",349],["T_ELSE","else",349],["T_WHITESPACE"," ",349],"{",["T_WHITESPACE","\n            ",349],["T_VARIABLE","$query",350],["T_WHITESPACE"," ",350],"=",["T_WHITESPACE"," ",350],["T_CONSTANT_ENCAPSED_STRING","''",350],";",["T_WHITESPACE","\n        ",350],"}",["T_WHITESPACE","\n\n        ",351],["T_VARIABLE","$query",353],["T_WHITESPACE"," ",353],["T_CONCAT_EQUAL",".=",353],["T_WHITESPACE"," ",353],["T_VARIABLE","$this",353],["T_OBJECT_OPERATOR","->",353],["T_STRING","_pattern",353],["T_OBJECT_OPERATOR","->",353],["T_STRING","text",353],";",["T_WHITESPACE","\n\n        ",353],["T_IF","if",355],["T_WHITESPACE"," ",355],"(",["T_VARIABLE","$this",355],["T_OBJECT_OPERATOR","->",355],["T_STRING","getBoost",355],"(",")",["T_WHITESPACE"," ",355],["T_IS_NOT_EQUAL","!=",355],["T_WHITESPACE"," ",355],["T_LNUMBER","1",355],")",["T_WHITESPACE"," ",355],"{",["T_WHITESPACE","\n            ",355],["T_VARIABLE","$query",356],["T_WHITESPACE"," ",356],"=",["T_WHITESPACE"," ",356],["T_VARIABLE","$query",356],["T_WHITESPACE"," ",356],".",["T_WHITESPACE"," ",356],["T_CONSTANT_ENCAPSED_STRING","'^'",356],["T_WHITESPACE"," ",356],".",["T_WHITESPACE"," ",356],["T_STRING","round",356],"(",["T_VARIABLE","$this",356],["T_OBJECT_OPERATOR","->",356],["T_STRING","getBoost",356],"(",")",",",["T_WHITESPACE"," ",356],["T_LNUMBER","4",356],")",";",["T_WHITESPACE","\n        ",356],"}",["T_WHITESPACE","\n\n        ",357],["T_RETURN","return",359],["T_WHITESPACE"," ",359],["T_VARIABLE","$query",359],";",["T_WHITESPACE","\n    ",359],"}",["T_WHITESPACE","\n",360],"}",["T_WHITESPACE","\n\n",361]]