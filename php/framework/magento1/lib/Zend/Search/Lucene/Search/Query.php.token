[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Zend Framework\n *\n * LICENSE\n *\n * This source file is subject to the new BSD license that is bundled\n * with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/framework.zend.com\/license\/new-bsd\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@zend.com so we can send you a copy immediately.\n *\n * @category   Zend\n * @package    Zend_Search_Lucene\n * @subpackage Search\n * @copyright  Copyright (c) 2005-2015 Zend Technologies USA Inc. (http:\/\/www.zend.com)\n * @license    http:\/\/framework.zend.com\/license\/new-bsd     New BSD License\n * @version    $Id$\n *\/",2],["T_WHITESPACE","\n\n\n",21],["T_DOC_COMMENT","\/**\n * @category   Zend\n * @package    Zend_Search_Lucene\n * @subpackage Search\n * @copyright  Copyright (c) 2005-2015 Zend Technologies USA Inc. (http:\/\/www.zend.com)\n * @license    http:\/\/framework.zend.com\/license\/new-bsd     New BSD License\n *\/",24],["T_WHITESPACE","\n",30],["T_ABSTRACT","abstract",31],["T_WHITESPACE"," ",31],["T_CLASS","class",31],["T_WHITESPACE"," ",31],["T_STRING","Zend_Search_Lucene_Search_Query",31],["T_WHITESPACE","\n",31],"{",["T_WHITESPACE","\n    ",32],["T_DOC_COMMENT","\/**\n     * query boost factor\n     *\n     * @var float\n     *\/",33],["T_WHITESPACE","\n    ",37],["T_PRIVATE","private",38],["T_WHITESPACE"," ",38],["T_VARIABLE","$_boost",38],["T_WHITESPACE"," ",38],"=",["T_WHITESPACE"," ",38],["T_LNUMBER","1",38],";",["T_WHITESPACE","\n\n    ",38],["T_DOC_COMMENT","\/**\n     * Query weight\n     *\n     * @var Zend_Search_Lucene_Search_Weight\n     *\/",40],["T_WHITESPACE","\n    ",44],["T_PROTECTED","protected",45],["T_WHITESPACE"," ",45],["T_VARIABLE","$_weight",45],["T_WHITESPACE"," ",45],"=",["T_WHITESPACE"," ",45],["T_STRING","null",45],";",["T_WHITESPACE","\n\n    ",45],["T_DOC_COMMENT","\/**\n     * Current highlight color\n     *\n     * @var integer\n     *\/",47],["T_WHITESPACE","\n    ",51],["T_PRIVATE","private",52],["T_WHITESPACE"," ",52],["T_VARIABLE","$_currentColorIndex",52],["T_WHITESPACE"," ",52],"=",["T_WHITESPACE"," ",52],["T_LNUMBER","0",52],";",["T_WHITESPACE","\n\n    ",52],["T_DOC_COMMENT","\/**\n     * Gets the boost for this clause.  Documents matching\n     * this clause will (in addition to the normal weightings) have their score\n     * multiplied by boost.   The boost is 1.0 by default.\n     *\n     * @return float\n     *\/",54],["T_WHITESPACE","\n    ",60],["T_PUBLIC","public",61],["T_WHITESPACE"," ",61],["T_FUNCTION","function",61],["T_WHITESPACE"," ",61],["T_STRING","getBoost",61],"(",")",["T_WHITESPACE","\n    ",61],"{",["T_WHITESPACE","\n        ",62],["T_RETURN","return",63],["T_WHITESPACE"," ",63],["T_VARIABLE","$this",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","_boost",63],";",["T_WHITESPACE","\n    ",63],"}",["T_WHITESPACE","\n\n    ",64],["T_DOC_COMMENT","\/**\n     * Sets the boost for this query clause to $boost.\n     *\n     * @param float $boost\n     *\/",66],["T_WHITESPACE","\n    ",70],["T_PUBLIC","public",71],["T_WHITESPACE"," ",71],["T_FUNCTION","function",71],["T_WHITESPACE"," ",71],["T_STRING","setBoost",71],"(",["T_VARIABLE","$boost",71],")",["T_WHITESPACE","\n    ",71],"{",["T_WHITESPACE","\n        ",72],["T_VARIABLE","$this",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","_boost",73],["T_WHITESPACE"," ",73],"=",["T_WHITESPACE"," ",73],["T_VARIABLE","$boost",73],";",["T_WHITESPACE","\n    ",73],"}",["T_WHITESPACE","\n\n    ",74],["T_DOC_COMMENT","\/**\n     * Score specified document\n     *\n     * @param integer $docId\n     * @param Zend_Search_Lucene_Interface $reader\n     * @return float\n     *\/",76],["T_WHITESPACE","\n    ",82],["T_ABSTRACT","abstract",83],["T_WHITESPACE"," ",83],["T_PUBLIC","public",83],["T_WHITESPACE"," ",83],["T_FUNCTION","function",83],["T_WHITESPACE"," ",83],["T_STRING","score",83],"(",["T_VARIABLE","$docId",83],",",["T_WHITESPACE"," ",83],["T_STRING","Zend_Search_Lucene_Interface",83],["T_WHITESPACE"," ",83],["T_VARIABLE","$reader",83],")",";",["T_WHITESPACE","\n\n    ",83],["T_DOC_COMMENT","\/**\n     * Get document ids likely matching the query\n     *\n     * It's an array with document ids as keys (performance considerations)\n     *\n     * @return array\n     *\/",85],["T_WHITESPACE","\n    ",91],["T_ABSTRACT","abstract",92],["T_WHITESPACE"," ",92],["T_PUBLIC","public",92],["T_WHITESPACE"," ",92],["T_FUNCTION","function",92],["T_WHITESPACE"," ",92],["T_STRING","matchedDocs",92],"(",")",";",["T_WHITESPACE","\n\n    ",92],["T_DOC_COMMENT","\/**\n     * Execute query in context of index reader\n     * It also initializes necessary internal structures\n     *\n     * Query specific implementation\n     *\n     * @param Zend_Search_Lucene_Interface $reader\n     * @param Zend_Search_Lucene_Index_DocsFilter|null $docsFilter\n     *\/",94],["T_WHITESPACE","\n    ",102],["T_ABSTRACT","abstract",103],["T_WHITESPACE"," ",103],["T_PUBLIC","public",103],["T_WHITESPACE"," ",103],["T_FUNCTION","function",103],["T_WHITESPACE"," ",103],["T_STRING","execute",103],"(",["T_STRING","Zend_Search_Lucene_Interface",103],["T_WHITESPACE"," ",103],["T_VARIABLE","$reader",103],",",["T_WHITESPACE"," ",103],["T_VARIABLE","$docsFilter",103],["T_WHITESPACE"," ",103],"=",["T_WHITESPACE"," ",103],["T_STRING","null",103],")",";",["T_WHITESPACE","\n\n    ",103],["T_DOC_COMMENT","\/**\n     * Constructs an appropriate Weight implementation for this query.\n     *\n     * @param Zend_Search_Lucene_Interface $reader\n     * @return Zend_Search_Lucene_Search_Weight\n     *\/",105],["T_WHITESPACE","\n    ",110],["T_ABSTRACT","abstract",111],["T_WHITESPACE"," ",111],["T_PUBLIC","public",111],["T_WHITESPACE"," ",111],["T_FUNCTION","function",111],["T_WHITESPACE"," ",111],["T_STRING","createWeight",111],"(",["T_STRING","Zend_Search_Lucene_Interface",111],["T_WHITESPACE"," ",111],["T_VARIABLE","$reader",111],")",";",["T_WHITESPACE","\n\n    ",111],["T_DOC_COMMENT","\/**\n     * Constructs an initializes a Weight for a _top-level_query_.\n     *\n     * @param Zend_Search_Lucene_Interface $reader\n     *\/",113],["T_WHITESPACE","\n    ",117],["T_PROTECTED","protected",118],["T_WHITESPACE"," ",118],["T_FUNCTION","function",118],["T_WHITESPACE"," ",118],["T_STRING","_initWeight",118],"(",["T_STRING","Zend_Search_Lucene_Interface",118],["T_WHITESPACE"," ",118],["T_VARIABLE","$reader",118],")",["T_WHITESPACE","\n    ",118],"{",["T_WHITESPACE","\n        ",119],["T_COMMENT","\/\/ Check, that it's a top-level query and query weight is not initialized yet.\n",120],["T_WHITESPACE","        ",121],["T_IF","if",121],["T_WHITESPACE"," ",121],"(",["T_VARIABLE","$this",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","_weight",121],["T_WHITESPACE"," ",121],["T_IS_NOT_IDENTICAL","!==",121],["T_WHITESPACE"," ",121],["T_STRING","null",121],")",["T_WHITESPACE"," ",121],"{",["T_WHITESPACE","\n            ",121],["T_RETURN","return",122],["T_WHITESPACE"," ",122],["T_VARIABLE","$this",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","_weight",122],";",["T_WHITESPACE","\n        ",122],"}",["T_WHITESPACE","\n\n        ",123],["T_VARIABLE","$this",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","createWeight",125],"(",["T_VARIABLE","$reader",125],")",";",["T_WHITESPACE","\n        ",125],["T_VARIABLE","$sum",126],["T_WHITESPACE"," ",126],"=",["T_WHITESPACE"," ",126],["T_VARIABLE","$this",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","_weight",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","sumOfSquaredWeights",126],"(",")",";",["T_WHITESPACE","\n        ",126],["T_VARIABLE","$queryNorm",127],["T_WHITESPACE"," ",127],"=",["T_WHITESPACE"," ",127],["T_VARIABLE","$reader",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","getSimilarity",127],"(",")",["T_OBJECT_OPERATOR","->",127],["T_STRING","queryNorm",127],"(",["T_VARIABLE","$sum",127],")",";",["T_WHITESPACE","\n        ",127],["T_VARIABLE","$this",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","_weight",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","normalize",128],"(",["T_VARIABLE","$queryNorm",128],")",";",["T_WHITESPACE","\n    ",128],"}",["T_WHITESPACE","\n\n    ",129],["T_DOC_COMMENT","\/**\n     * Re-write query into primitive queries in the context of specified index\n     *\n     * @param Zend_Search_Lucene_Interface $index\n     * @return Zend_Search_Lucene_Search_Query\n     *\/",131],["T_WHITESPACE","\n    ",136],["T_ABSTRACT","abstract",137],["T_WHITESPACE"," ",137],["T_PUBLIC","public",137],["T_WHITESPACE"," ",137],["T_FUNCTION","function",137],["T_WHITESPACE"," ",137],["T_STRING","rewrite",137],"(",["T_STRING","Zend_Search_Lucene_Interface",137],["T_WHITESPACE"," ",137],["T_VARIABLE","$index",137],")",";",["T_WHITESPACE","\n\n    ",137],["T_DOC_COMMENT","\/**\n     * Optimize query in the context of specified index\n     *\n     * @param Zend_Search_Lucene_Interface $index\n     * @return Zend_Search_Lucene_Search_Query\n     *\/",139],["T_WHITESPACE","\n    ",144],["T_ABSTRACT","abstract",145],["T_WHITESPACE"," ",145],["T_PUBLIC","public",145],["T_WHITESPACE"," ",145],["T_FUNCTION","function",145],["T_WHITESPACE"," ",145],["T_STRING","optimize",145],"(",["T_STRING","Zend_Search_Lucene_Interface",145],["T_WHITESPACE"," ",145],["T_VARIABLE","$index",145],")",";",["T_WHITESPACE","\n\n    ",145],["T_DOC_COMMENT","\/**\n     * Reset query, so it can be reused within other queries or\n     * with other indeces\n     *\/",147],["T_WHITESPACE","\n    ",150],["T_PUBLIC","public",151],["T_WHITESPACE"," ",151],["T_FUNCTION","function",151],["T_WHITESPACE"," ",151],["T_STRING","reset",151],"(",")",["T_WHITESPACE","\n    ",151],"{",["T_WHITESPACE","\n        ",152],["T_VARIABLE","$this",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","_weight",153],["T_WHITESPACE"," ",153],"=",["T_WHITESPACE"," ",153],["T_STRING","null",153],";",["T_WHITESPACE","\n    ",153],"}",["T_WHITESPACE","\n\n\n    ",154],["T_DOC_COMMENT","\/**\n     * Print a query\n     *\n     * @return string\n     *\/",157],["T_WHITESPACE","\n    ",161],["T_ABSTRACT","abstract",162],["T_WHITESPACE"," ",162],["T_PUBLIC","public",162],["T_WHITESPACE"," ",162],["T_FUNCTION","function",162],["T_WHITESPACE"," ",162],["T_STRING","__toString",162],"(",")",";",["T_WHITESPACE","\n\n    ",162],["T_DOC_COMMENT","\/**\n     * Return query terms\n     *\n     * @return array\n     *\/",164],["T_WHITESPACE","\n    ",168],["T_ABSTRACT","abstract",169],["T_WHITESPACE"," ",169],["T_PUBLIC","public",169],["T_WHITESPACE"," ",169],["T_FUNCTION","function",169],["T_WHITESPACE"," ",169],["T_STRING","getQueryTerms",169],"(",")",";",["T_WHITESPACE","\n\n    ",169],["T_DOC_COMMENT","\/**\n     * Query specific matches highlighting\n     *\n     * @param Zend_Search_Lucene_Search_Highlighter_Interface $highlighter  Highlighter object (also contains doc for highlighting)\n     *\/",171],["T_WHITESPACE","\n    ",175],["T_ABSTRACT","abstract",176],["T_WHITESPACE"," ",176],["T_PROTECTED","protected",176],["T_WHITESPACE"," ",176],["T_FUNCTION","function",176],["T_WHITESPACE"," ",176],["T_STRING","_highlightMatches",176],"(",["T_STRING","Zend_Search_Lucene_Search_Highlighter_Interface",176],["T_WHITESPACE"," ",176],["T_VARIABLE","$highlighter",176],")",";",["T_WHITESPACE","\n\n    ",176],["T_DOC_COMMENT","\/**\n     * Highlight matches in $inputHTML\n     *\n     * @param string $inputHTML\n     * @param string  $defaultEncoding   HTML encoding, is used if it's not specified using Content-type HTTP-EQUIV meta tag.\n     * @param Zend_Search_Lucene_Search_Highlighter_Interface|null $highlighter\n     * @return string\n     *\/",178],["T_WHITESPACE","\n    ",185],["T_PUBLIC","public",186],["T_WHITESPACE"," ",186],["T_FUNCTION","function",186],["T_WHITESPACE"," ",186],["T_STRING","highlightMatches",186],"(",["T_VARIABLE","$inputHTML",186],",",["T_WHITESPACE"," ",186],["T_VARIABLE","$defaultEncoding",186],["T_WHITESPACE"," ",186],"=",["T_WHITESPACE"," ",186],["T_CONSTANT_ENCAPSED_STRING","''",186],",",["T_WHITESPACE"," ",186],["T_VARIABLE","$highlighter",186],["T_WHITESPACE"," ",186],"=",["T_WHITESPACE"," ",186],["T_STRING","null",186],")",["T_WHITESPACE","\n    ",186],"{",["T_WHITESPACE","\n        ",187],["T_IF","if",188],["T_WHITESPACE"," ",188],"(",["T_VARIABLE","$highlighter",188],["T_WHITESPACE"," ",188],["T_IS_IDENTICAL","===",188],["T_WHITESPACE"," ",188],["T_STRING","null",188],")",["T_WHITESPACE"," ",188],"{",["T_WHITESPACE","\n            ",188],["T_COMMENT","#require_once 'Zend\/Search\/Lucene\/Search\/Highlighter\/Default.php';\n",189],["T_WHITESPACE","            ",190],["T_VARIABLE","$highlighter",190],["T_WHITESPACE"," ",190],"=",["T_WHITESPACE"," ",190],["T_NEW","new",190],["T_WHITESPACE"," ",190],["T_STRING","Zend_Search_Lucene_Search_Highlighter_Default",190],"(",")",";",["T_WHITESPACE","\n        ",190],"}",["T_WHITESPACE","\n\n        ",191],["T_DOC_COMMENT","\/** Zend_Search_Lucene_Document_Html *\/",193],["T_WHITESPACE","\n        ",193],["T_COMMENT","#require_once 'Zend\/Search\/Lucene\/Document\/Html.php';\n",194],["T_WHITESPACE","\n        ",195],["T_VARIABLE","$doc",196],["T_WHITESPACE"," ",196],"=",["T_WHITESPACE"," ",196],["T_STRING","Zend_Search_Lucene_Document_Html",196],["T_DOUBLE_COLON","::",196],["T_STRING","loadHTML",196],"(",["T_VARIABLE","$inputHTML",196],",",["T_WHITESPACE"," ",196],["T_STRING","false",196],",",["T_WHITESPACE"," ",196],["T_VARIABLE","$defaultEncoding",196],")",";",["T_WHITESPACE","\n        ",196],["T_VARIABLE","$highlighter",197],["T_OBJECT_OPERATOR","->",197],["T_STRING","setDocument",197],"(",["T_VARIABLE","$doc",197],")",";",["T_WHITESPACE","\n\n        ",197],["T_VARIABLE","$this",199],["T_OBJECT_OPERATOR","->",199],["T_STRING","_highlightMatches",199],"(",["T_VARIABLE","$highlighter",199],")",";",["T_WHITESPACE","\n\n        ",199],["T_RETURN","return",201],["T_WHITESPACE"," ",201],["T_VARIABLE","$doc",201],["T_OBJECT_OPERATOR","->",201],["T_STRING","getHTML",201],"(",")",";",["T_WHITESPACE","\n    ",201],"}",["T_WHITESPACE","\n\n    ",202],["T_DOC_COMMENT","\/**\n     * Highlight matches in $inputHtmlFragment and return it (without HTML header and body tag)\n     *\n     * @param string $inputHtmlFragment\n     * @param string  $encoding   Input HTML string encoding\n     * @param Zend_Search_Lucene_Search_Highlighter_Interface|null $highlighter\n     * @return string\n     *\/",204],["T_WHITESPACE","\n    ",211],["T_PUBLIC","public",212],["T_WHITESPACE"," ",212],["T_FUNCTION","function",212],["T_WHITESPACE"," ",212],["T_STRING","htmlFragmentHighlightMatches",212],"(",["T_VARIABLE","$inputHtmlFragment",212],",",["T_WHITESPACE"," ",212],["T_VARIABLE","$encoding",212],["T_WHITESPACE"," ",212],"=",["T_WHITESPACE"," ",212],["T_CONSTANT_ENCAPSED_STRING","'UTF-8'",212],",",["T_WHITESPACE"," ",212],["T_VARIABLE","$highlighter",212],["T_WHITESPACE"," ",212],"=",["T_WHITESPACE"," ",212],["T_STRING","null",212],")",["T_WHITESPACE","\n    ",212],"{",["T_WHITESPACE","\n        ",213],["T_IF","if",214],["T_WHITESPACE"," ",214],"(",["T_VARIABLE","$highlighter",214],["T_WHITESPACE"," ",214],["T_IS_IDENTICAL","===",214],["T_WHITESPACE"," ",214],["T_STRING","null",214],")",["T_WHITESPACE"," ",214],"{",["T_WHITESPACE","\n            ",214],["T_COMMENT","#require_once 'Zend\/Search\/Lucene\/Search\/Highlighter\/Default.php';\n",215],["T_WHITESPACE","            ",216],["T_VARIABLE","$highlighter",216],["T_WHITESPACE"," ",216],"=",["T_WHITESPACE"," ",216],["T_NEW","new",216],["T_WHITESPACE"," ",216],["T_STRING","Zend_Search_Lucene_Search_Highlighter_Default",216],"(",")",";",["T_WHITESPACE","\n        ",216],"}",["T_WHITESPACE","\n\n        ",217],["T_VARIABLE","$inputHTML",219],["T_WHITESPACE"," ",219],"=",["T_WHITESPACE"," ",219],["T_CONSTANT_ENCAPSED_STRING","'<html><head><META HTTP-EQUIV=\"Content-type\" CONTENT=\"text\/html; charset=UTF-8\"\/><\/head><body>'",219],["T_WHITESPACE","\n                   ",219],".",["T_WHITESPACE"," ",220],["T_STRING","iconv",220],"(",["T_VARIABLE","$encoding",220],",",["T_WHITESPACE"," ",220],["T_CONSTANT_ENCAPSED_STRING","'UTF-8\/\/IGNORE'",220],",",["T_WHITESPACE"," ",220],["T_VARIABLE","$inputHtmlFragment",220],")",["T_WHITESPACE"," ",220],".",["T_WHITESPACE"," ",220],["T_CONSTANT_ENCAPSED_STRING","'<\/body><\/html>'",220],";",["T_WHITESPACE","\n\n        ",220],["T_DOC_COMMENT","\/** Zend_Search_Lucene_Document_Html *\/",222],["T_WHITESPACE","\n        ",222],["T_COMMENT","#require_once 'Zend\/Search\/Lucene\/Document\/Html.php';\n",223],["T_WHITESPACE","\n        ",224],["T_VARIABLE","$doc",225],["T_WHITESPACE"," ",225],"=",["T_WHITESPACE"," ",225],["T_STRING","Zend_Search_Lucene_Document_Html",225],["T_DOUBLE_COLON","::",225],["T_STRING","loadHTML",225],"(",["T_VARIABLE","$inputHTML",225],")",";",["T_WHITESPACE","\n        ",225],["T_VARIABLE","$highlighter",226],["T_OBJECT_OPERATOR","->",226],["T_STRING","setDocument",226],"(",["T_VARIABLE","$doc",226],")",";",["T_WHITESPACE","\n\n        ",226],["T_VARIABLE","$this",228],["T_OBJECT_OPERATOR","->",228],["T_STRING","_highlightMatches",228],"(",["T_VARIABLE","$highlighter",228],")",";",["T_WHITESPACE","\n\n        ",228],["T_RETURN","return",230],["T_WHITESPACE"," ",230],["T_VARIABLE","$doc",230],["T_OBJECT_OPERATOR","->",230],["T_STRING","getHtmlBody",230],"(",")",";",["T_WHITESPACE","\n    ",230],"}",["T_WHITESPACE","\n",231],"}",["T_WHITESPACE","\n\n",232]]