[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Zend Framework\n *\n * LICENSE\n *\n * This source file is subject to the new BSD license that is bundled\n * with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/framework.zend.com\/license\/new-bsd\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@zend.com so we can send you a copy immediately.\n *\n * @category   Zend\n * @package    Zend_Search_Lucene\n * @subpackage Document\n * @copyright  Copyright (c) 2005-2015 Zend Technologies USA Inc. (http:\/\/www.zend.com)\n * @license    http:\/\/framework.zend.com\/license\/new-bsd     New BSD License\n * @version    $Id$\n *\/",2],["T_WHITESPACE","\n\n\n",21],["T_DOC_COMMENT","\/** Zend_Search_Lucene_Document *\/",24],["T_WHITESPACE","\n",24],["T_COMMENT","#require_once 'Zend\/Search\/Lucene\/Document.php';\n",25],["T_WHITESPACE","\n\n",26],["T_DOC_COMMENT","\/**\n * HTML document.\n *\n * @category   Zend\n * @package    Zend_Search_Lucene\n * @subpackage Document\n * @copyright  Copyright (c) 2005-2015 Zend Technologies USA Inc. (http:\/\/www.zend.com)\n * @license    http:\/\/framework.zend.com\/license\/new-bsd     New BSD License\n *\/",28],["T_WHITESPACE","\n",36],["T_CLASS","class",37],["T_WHITESPACE"," ",37],["T_STRING","Zend_Search_Lucene_Document_Html",37],["T_WHITESPACE"," ",37],["T_EXTENDS","extends",37],["T_WHITESPACE"," ",37],["T_STRING","Zend_Search_Lucene_Document",37],["T_WHITESPACE","\n",37],"{",["T_WHITESPACE","\n    ",38],["T_DOC_COMMENT","\/**\n     * List of document links\n     *\n     * @var array\n     *\/",39],["T_WHITESPACE","\n    ",43],["T_PRIVATE","private",44],["T_WHITESPACE"," ",44],["T_VARIABLE","$_links",44],["T_WHITESPACE"," ",44],"=",["T_WHITESPACE"," ",44],["T_ARRAY","array",44],"(",")",";",["T_WHITESPACE","\n\n    ",44],["T_DOC_COMMENT","\/**\n     * List of document header links\n     *\n     * @var array\n     *\/",46],["T_WHITESPACE","\n    ",50],["T_PRIVATE","private",51],["T_WHITESPACE"," ",51],["T_VARIABLE","$_headerLinks",51],["T_WHITESPACE"," ",51],"=",["T_WHITESPACE"," ",51],["T_ARRAY","array",51],"(",")",";",["T_WHITESPACE","\n\n    ",51],["T_DOC_COMMENT","\/**\n     * Stored DOM representation\n     *\n     * @var DOMDocument\n     *\/",53],["T_WHITESPACE","\n    ",57],["T_PRIVATE","private",58],["T_WHITESPACE"," ",58],["T_VARIABLE","$_doc",58],";",["T_WHITESPACE","\n\n    ",58],["T_DOC_COMMENT","\/**\n     * Exclud nofollow links flag\n     *\n     * If true then links with rel='nofollow' attribute are not included into\n     * document links.\n     *\n     * @var boolean\n     *\/",60],["T_WHITESPACE","\n    ",67],["T_PRIVATE","private",68],["T_WHITESPACE"," ",68],["T_STATIC","static",68],["T_WHITESPACE"," ",68],["T_VARIABLE","$_excludeNoFollowLinks",68],["T_WHITESPACE"," ",68],"=",["T_WHITESPACE"," ",68],["T_STRING","false",68],";",["T_WHITESPACE","\n\n    ",68],["T_DOC_COMMENT","\/**\n     *\n     * List of inline tags\n     *\n     * @var array\n     *\/",70],["T_WHITESPACE","\n    ",75],["T_PRIVATE","private",76],["T_WHITESPACE"," ",76],["T_VARIABLE","$_inlineTags",76],["T_WHITESPACE"," ",76],"=",["T_WHITESPACE"," ",76],["T_ARRAY","array",76],"(",["T_CONSTANT_ENCAPSED_STRING","'a'",76],",",["T_WHITESPACE"," ",76],["T_CONSTANT_ENCAPSED_STRING","'abbr'",76],",",["T_WHITESPACE"," ",76],["T_CONSTANT_ENCAPSED_STRING","'acronym'",76],",",["T_WHITESPACE"," ",76],["T_CONSTANT_ENCAPSED_STRING","'dfn'",76],",",["T_WHITESPACE"," ",76],["T_CONSTANT_ENCAPSED_STRING","'em'",76],",",["T_WHITESPACE"," ",76],["T_CONSTANT_ENCAPSED_STRING","'strong'",76],",",["T_WHITESPACE"," ",76],["T_CONSTANT_ENCAPSED_STRING","'code'",76],",",["T_WHITESPACE","\n                                ",76],["T_CONSTANT_ENCAPSED_STRING","'samp'",77],",",["T_WHITESPACE"," ",77],["T_CONSTANT_ENCAPSED_STRING","'kbd'",77],",",["T_WHITESPACE"," ",77],["T_CONSTANT_ENCAPSED_STRING","'var'",77],",",["T_WHITESPACE"," ",77],["T_CONSTANT_ENCAPSED_STRING","'b'",77],",",["T_WHITESPACE"," ",77],["T_CONSTANT_ENCAPSED_STRING","'i'",77],",",["T_WHITESPACE"," ",77],["T_CONSTANT_ENCAPSED_STRING","'big'",77],",",["T_WHITESPACE"," ",77],["T_CONSTANT_ENCAPSED_STRING","'small'",77],",",["T_WHITESPACE"," ",77],["T_CONSTANT_ENCAPSED_STRING","'strike'",77],",",["T_WHITESPACE","\n                                ",77],["T_CONSTANT_ENCAPSED_STRING","'tt'",78],",",["T_WHITESPACE"," ",78],["T_CONSTANT_ENCAPSED_STRING","'u'",78],",",["T_WHITESPACE"," ",78],["T_CONSTANT_ENCAPSED_STRING","'font'",78],",",["T_WHITESPACE"," ",78],["T_CONSTANT_ENCAPSED_STRING","'span'",78],",",["T_WHITESPACE"," ",78],["T_CONSTANT_ENCAPSED_STRING","'bdo'",78],",",["T_WHITESPACE"," ",78],["T_CONSTANT_ENCAPSED_STRING","'cite'",78],",",["T_WHITESPACE"," ",78],["T_CONSTANT_ENCAPSED_STRING","'del'",78],",",["T_WHITESPACE"," ",78],["T_CONSTANT_ENCAPSED_STRING","'ins'",78],",",["T_WHITESPACE","\n                                ",78],["T_CONSTANT_ENCAPSED_STRING","'q'",79],",",["T_WHITESPACE"," ",79],["T_CONSTANT_ENCAPSED_STRING","'sub'",79],",",["T_WHITESPACE"," ",79],["T_CONSTANT_ENCAPSED_STRING","'sup'",79],")",";",["T_WHITESPACE","\n\n    ",79],["T_DOC_COMMENT","\/**\n     * Object constructor\n     *\n     * @param string  $data         HTML string (may be HTML fragment, )\n     * @param boolean $isFile\n     * @param boolean $storeContent\n     * @param string  $defaultEncoding   HTML encoding, is used if it's not specified using Content-type HTTP-EQUIV meta tag.\n     *\/",81],["T_WHITESPACE","\n    ",88],["T_PRIVATE","private",89],["T_WHITESPACE"," ",89],["T_FUNCTION","function",89],["T_WHITESPACE"," ",89],["T_STRING","__construct",89],"(",["T_VARIABLE","$data",89],",",["T_WHITESPACE"," ",89],["T_VARIABLE","$isFile",89],",",["T_WHITESPACE"," ",89],["T_VARIABLE","$storeContent",89],",",["T_WHITESPACE"," ",89],["T_VARIABLE","$defaultEncoding",89],["T_WHITESPACE"," ",89],"=",["T_WHITESPACE"," ",89],["T_CONSTANT_ENCAPSED_STRING","''",89],")",["T_WHITESPACE","\n    ",89],"{",["T_WHITESPACE","\n        ",90],["T_VARIABLE","$this",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","_doc",91],["T_WHITESPACE"," ",91],"=",["T_WHITESPACE"," ",91],["T_NEW","new",91],["T_WHITESPACE"," ",91],["T_STRING","DOMDocument",91],"(",")",";",["T_WHITESPACE","\n        ",91],["T_VARIABLE","$this",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","_doc",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","substituteEntities",92],["T_WHITESPACE"," ",92],"=",["T_WHITESPACE"," ",92],["T_STRING","true",92],";",["T_WHITESPACE","\n\n        ",92],["T_IF","if",94],["T_WHITESPACE"," ",94],"(",["T_VARIABLE","$isFile",94],")",["T_WHITESPACE"," ",94],"{",["T_WHITESPACE","\n            ",94],["T_VARIABLE","$htmlData",95],["T_WHITESPACE"," ",95],"=",["T_WHITESPACE"," ",95],["T_STRING","file_get_contents",95],"(",["T_VARIABLE","$data",95],")",";",["T_WHITESPACE","\n        ",95],"}",["T_WHITESPACE"," ",96],["T_ELSE","else",96],["T_WHITESPACE"," ",96],"{",["T_WHITESPACE","\n            ",96],["T_VARIABLE","$htmlData",97],["T_WHITESPACE"," ",97],"=",["T_WHITESPACE"," ",97],["T_VARIABLE","$data",97],";",["T_WHITESPACE","\n        ",97],"}",["T_WHITESPACE","\n        ",98],"@",["T_VARIABLE","$this",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","_doc",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","loadHTML",99],"(",["T_VARIABLE","$htmlData",99],")",";",["T_WHITESPACE","\n\n        ",99],["T_IF","if",101],["T_WHITESPACE"," ",101],"(",["T_VARIABLE","$this",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","_doc",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","encoding",101],["T_WHITESPACE"," ",101],["T_IS_IDENTICAL","===",101],["T_WHITESPACE"," ",101],["T_STRING","null",101],")",["T_WHITESPACE"," ",101],"{",["T_WHITESPACE","\n            ",101],["T_COMMENT","\/\/ Document encoding is not recognized\n",102],["T_WHITESPACE","\n            ",103],["T_DOC_COMMENT","\/** @todo improve HTML vs HTML fragment recognition *\/",104],["T_WHITESPACE","\n            ",104],["T_IF","if",105],["T_WHITESPACE"," ",105],"(",["T_STRING","preg_match",105],"(",["T_CONSTANT_ENCAPSED_STRING","'\/<html[^>]*>\/i'",105],",",["T_WHITESPACE"," ",105],["T_VARIABLE","$htmlData",105],",",["T_WHITESPACE"," ",105],["T_VARIABLE","$matches",105],",",["T_WHITESPACE"," ",105],["T_STRING","PREG_OFFSET_CAPTURE",105],")",")",["T_WHITESPACE"," ",105],"{",["T_WHITESPACE","\n                ",105],["T_COMMENT","\/\/ It's an HTML document\n",106],["T_WHITESPACE","                ",107],["T_COMMENT","\/\/ Add additional HEAD section and recognize document\n",107],["T_WHITESPACE","                ",108],["T_VARIABLE","$htmlTagOffset",108],["T_WHITESPACE"," ",108],"=",["T_WHITESPACE"," ",108],["T_VARIABLE","$matches",108],"[",["T_LNUMBER","0",108],"]","[",["T_LNUMBER","1",108],"]",["T_WHITESPACE"," ",108],"+",["T_WHITESPACE"," ",108],["T_STRING","strlen",108],"(",["T_VARIABLE","$matches",108],"[",["T_LNUMBER","0",108],"]","[",["T_LNUMBER","0",108],"]",")",";",["T_WHITESPACE","\n\n                ",108],"@",["T_VARIABLE","$this",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","_doc",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","loadHTML",110],"(",["T_STRING","iconv",110],"(",["T_VARIABLE","$defaultEncoding",110],",",["T_WHITESPACE"," ",110],["T_CONSTANT_ENCAPSED_STRING","'UTF-8\/\/IGNORE'",110],",",["T_WHITESPACE"," ",110],["T_STRING","substr",110],"(",["T_VARIABLE","$htmlData",110],",",["T_WHITESPACE"," ",110],["T_LNUMBER","0",110],",",["T_WHITESPACE"," ",110],["T_VARIABLE","$htmlTagOffset",110],")",")",["T_WHITESPACE","\n                                     ",110],".",["T_WHITESPACE"," ",111],["T_CONSTANT_ENCAPSED_STRING","'<head><META HTTP-EQUIV=\"Content-type\" CONTENT=\"text\/html; charset=UTF-8\"\/><\/head>'",111],["T_WHITESPACE","\n                                     ",111],".",["T_WHITESPACE"," ",112],["T_STRING","iconv",112],"(",["T_VARIABLE","$defaultEncoding",112],",",["T_WHITESPACE"," ",112],["T_CONSTANT_ENCAPSED_STRING","'UTF-8\/\/IGNORE'",112],",",["T_WHITESPACE"," ",112],["T_STRING","substr",112],"(",["T_VARIABLE","$htmlData",112],",",["T_WHITESPACE"," ",112],["T_VARIABLE","$htmlTagOffset",112],")",")",")",";",["T_WHITESPACE","\n\n                ",112],["T_COMMENT","\/\/ Remove additional HEAD section\n",114],["T_WHITESPACE","                ",115],["T_VARIABLE","$xpath",115],["T_WHITESPACE"," ",115],"=",["T_WHITESPACE"," ",115],["T_NEW","new",115],["T_WHITESPACE"," ",115],["T_STRING","DOMXPath",115],"(",["T_VARIABLE","$this",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","_doc",115],")",";",["T_WHITESPACE","\n                ",115],["T_VARIABLE","$head",116],["T_WHITESPACE","  ",116],"=",["T_WHITESPACE"," ",116],["T_VARIABLE","$xpath",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","query",116],"(",["T_CONSTANT_ENCAPSED_STRING","'\/html\/head'",116],")",["T_OBJECT_OPERATOR","->",116],["T_STRING","item",116],"(",["T_LNUMBER","0",116],")",";",["T_WHITESPACE","\n                ",116],["T_VARIABLE","$head",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","parentNode",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","removeChild",117],"(",["T_VARIABLE","$head",117],")",";",["T_WHITESPACE","\n            ",117],"}",["T_WHITESPACE"," ",118],["T_ELSE","else",118],["T_WHITESPACE"," ",118],"{",["T_WHITESPACE","\n                ",118],["T_COMMENT","\/\/ It's an HTML fragment\n",119],["T_WHITESPACE","                ",120],"@",["T_VARIABLE","$this",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","_doc",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","loadHTML",120],"(",["T_CONSTANT_ENCAPSED_STRING","'<html><head><META HTTP-EQUIV=\"Content-type\" CONTENT=\"text\/html; charset=UTF-8\"\/><\/head><body>'",120],["T_WHITESPACE","\n                                     ",120],".",["T_WHITESPACE"," ",121],["T_STRING","iconv",121],"(",["T_VARIABLE","$defaultEncoding",121],",",["T_WHITESPACE"," ",121],["T_CONSTANT_ENCAPSED_STRING","'UTF-8\/\/IGNORE'",121],",",["T_WHITESPACE"," ",121],["T_VARIABLE","$htmlData",121],")",["T_WHITESPACE","\n                                     ",121],".",["T_WHITESPACE"," ",122],["T_CONSTANT_ENCAPSED_STRING","'<\/body><\/html>'",122],")",";",["T_WHITESPACE","\n            ",122],"}",["T_WHITESPACE","\n\n        ",123],"}",["T_WHITESPACE","\n        ",125],["T_DOC_COMMENT","\/** @todo Add correction of wrong HTML encoding recognition processing\n         * The case is:\n         * Content-type HTTP-EQUIV meta tag is presented, but ISO-8859-5 encoding is actually used,\n         * even $this->_doc->encoding demonstrates another recognized encoding\n         *\/",126],["T_WHITESPACE","\n\n        ",130],["T_VARIABLE","$xpath",132],["T_WHITESPACE"," ",132],"=",["T_WHITESPACE"," ",132],["T_NEW","new",132],["T_WHITESPACE"," ",132],["T_STRING","DOMXPath",132],"(",["T_VARIABLE","$this",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","_doc",132],")",";",["T_WHITESPACE","\n\n        ",132],["T_VARIABLE","$docTitle",134],["T_WHITESPACE"," ",134],"=",["T_WHITESPACE"," ",134],["T_CONSTANT_ENCAPSED_STRING","''",134],";",["T_WHITESPACE","\n        ",134],["T_VARIABLE","$titleNodes",135],["T_WHITESPACE"," ",135],"=",["T_WHITESPACE"," ",135],["T_VARIABLE","$xpath",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","query",135],"(",["T_CONSTANT_ENCAPSED_STRING","'\/html\/head\/title'",135],")",";",["T_WHITESPACE","\n        ",135],["T_FOREACH","foreach",136],["T_WHITESPACE"," ",136],"(",["T_VARIABLE","$titleNodes",136],["T_WHITESPACE"," ",136],["T_AS","as",136],["T_WHITESPACE"," ",136],["T_VARIABLE","$titleNode",136],")",["T_WHITESPACE"," ",136],"{",["T_WHITESPACE","\n            ",136],["T_COMMENT","\/\/ title should always have only one entry, but we process all nodeset entries\n",137],["T_WHITESPACE","            ",138],["T_VARIABLE","$docTitle",138],["T_WHITESPACE"," ",138],["T_CONCAT_EQUAL",".=",138],["T_WHITESPACE"," ",138],["T_VARIABLE","$titleNode",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","nodeValue",138],["T_WHITESPACE"," ",138],".",["T_WHITESPACE"," ",138],["T_CONSTANT_ENCAPSED_STRING","' '",138],";",["T_WHITESPACE","\n        ",138],"}",["T_WHITESPACE","\n        ",139],["T_VARIABLE","$this",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","addField",140],"(",["T_STRING","Zend_Search_Lucene_Field",140],["T_DOUBLE_COLON","::",140],["T_STRING","Text",140],"(",["T_CONSTANT_ENCAPSED_STRING","'title'",140],",",["T_WHITESPACE"," ",140],["T_VARIABLE","$docTitle",140],",",["T_WHITESPACE"," ",140],["T_CONSTANT_ENCAPSED_STRING","'UTF-8'",140],")",")",";",["T_WHITESPACE","\n\n        ",140],["T_VARIABLE","$metaNodes",142],["T_WHITESPACE"," ",142],"=",["T_WHITESPACE"," ",142],["T_VARIABLE","$xpath",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","query",142],"(",["T_CONSTANT_ENCAPSED_STRING","'\/html\/head\/meta[@name]'",142],")",";",["T_WHITESPACE","\n        ",142],["T_FOREACH","foreach",143],["T_WHITESPACE"," ",143],"(",["T_VARIABLE","$metaNodes",143],["T_WHITESPACE"," ",143],["T_AS","as",143],["T_WHITESPACE"," ",143],["T_VARIABLE","$metaNode",143],")",["T_WHITESPACE"," ",143],"{",["T_WHITESPACE","\n            ",143],["T_VARIABLE","$this",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","addField",144],"(",["T_STRING","Zend_Search_Lucene_Field",144],["T_DOUBLE_COLON","::",144],["T_STRING","Text",144],"(",["T_VARIABLE","$metaNode",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","getAttribute",144],"(",["T_CONSTANT_ENCAPSED_STRING","'name'",144],")",",",["T_WHITESPACE","\n                                                           ",144],["T_VARIABLE","$metaNode",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","getAttribute",145],"(",["T_CONSTANT_ENCAPSED_STRING","'content'",145],")",",",["T_WHITESPACE","\n                                                           ",145],["T_CONSTANT_ENCAPSED_STRING","'UTF-8'",146],")",")",";",["T_WHITESPACE","\n        ",146],"}",["T_WHITESPACE","\n\n        ",147],["T_VARIABLE","$docBody",149],["T_WHITESPACE"," ",149],"=",["T_WHITESPACE"," ",149],["T_CONSTANT_ENCAPSED_STRING","''",149],";",["T_WHITESPACE","\n        ",149],["T_VARIABLE","$bodyNodes",150],["T_WHITESPACE"," ",150],"=",["T_WHITESPACE"," ",150],["T_VARIABLE","$xpath",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","query",150],"(",["T_CONSTANT_ENCAPSED_STRING","'\/html\/body'",150],")",";",["T_WHITESPACE","\n        ",150],["T_FOREACH","foreach",151],["T_WHITESPACE"," ",151],"(",["T_VARIABLE","$bodyNodes",151],["T_WHITESPACE"," ",151],["T_AS","as",151],["T_WHITESPACE"," ",151],["T_VARIABLE","$bodyNode",151],")",["T_WHITESPACE"," ",151],"{",["T_WHITESPACE","\n            ",151],["T_COMMENT","\/\/ body should always have only one entry, but we process all nodeset entries\n",152],["T_WHITESPACE","            ",153],["T_VARIABLE","$this",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","_retrieveNodeText",153],"(",["T_VARIABLE","$bodyNode",153],",",["T_WHITESPACE"," ",153],["T_VARIABLE","$docBody",153],")",";",["T_WHITESPACE","\n        ",153],"}",["T_WHITESPACE","\n        ",154],["T_IF","if",155],["T_WHITESPACE"," ",155],"(",["T_VARIABLE","$storeContent",155],")",["T_WHITESPACE"," ",155],"{",["T_WHITESPACE","\n            ",155],["T_VARIABLE","$this",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","addField",156],"(",["T_STRING","Zend_Search_Lucene_Field",156],["T_DOUBLE_COLON","::",156],["T_STRING","Text",156],"(",["T_CONSTANT_ENCAPSED_STRING","'body'",156],",",["T_WHITESPACE"," ",156],["T_VARIABLE","$docBody",156],",",["T_WHITESPACE"," ",156],["T_CONSTANT_ENCAPSED_STRING","'UTF-8'",156],")",")",";",["T_WHITESPACE","\n        ",156],"}",["T_WHITESPACE"," ",157],["T_ELSE","else",157],["T_WHITESPACE"," ",157],"{",["T_WHITESPACE","\n            ",157],["T_VARIABLE","$this",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","addField",158],"(",["T_STRING","Zend_Search_Lucene_Field",158],["T_DOUBLE_COLON","::",158],["T_STRING","UnStored",158],"(",["T_CONSTANT_ENCAPSED_STRING","'body'",158],",",["T_WHITESPACE"," ",158],["T_VARIABLE","$docBody",158],",",["T_WHITESPACE"," ",158],["T_CONSTANT_ENCAPSED_STRING","'UTF-8'",158],")",")",";",["T_WHITESPACE","\n        ",158],"}",["T_WHITESPACE","\n\n        ",159],["T_VARIABLE","$linkNodes",161],["T_WHITESPACE"," ",161],"=",["T_WHITESPACE"," ",161],["T_VARIABLE","$this",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","_doc",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","getElementsByTagName",161],"(",["T_CONSTANT_ENCAPSED_STRING","'a'",161],")",";",["T_WHITESPACE","\n        ",161],["T_FOREACH","foreach",162],["T_WHITESPACE"," ",162],"(",["T_VARIABLE","$linkNodes",162],["T_WHITESPACE"," ",162],["T_AS","as",162],["T_WHITESPACE"," ",162],["T_VARIABLE","$linkNode",162],")",["T_WHITESPACE"," ",162],"{",["T_WHITESPACE","\n            ",162],["T_IF","if",163],["T_WHITESPACE"," ",163],"(","(",["T_VARIABLE","$href",163],["T_WHITESPACE"," ",163],"=",["T_WHITESPACE"," ",163],["T_VARIABLE","$linkNode",163],["T_OBJECT_OPERATOR","->",163],["T_STRING","getAttribute",163],"(",["T_CONSTANT_ENCAPSED_STRING","'href'",163],")",")",["T_WHITESPACE"," ",163],["T_IS_NOT_EQUAL","!=",163],["T_WHITESPACE"," ",163],["T_CONSTANT_ENCAPSED_STRING","''",163],["T_WHITESPACE"," ",163],["T_BOOLEAN_AND","&&",163],["T_WHITESPACE","\n                ",163],"(","!",["T_STRING","self",164],["T_DOUBLE_COLON","::",164],["T_VARIABLE","$_excludeNoFollowLinks",164],["T_WHITESPACE","  ",164],["T_BOOLEAN_OR","||",164],["T_WHITESPACE","  ",164],["T_STRING","strtolower",164],"(",["T_VARIABLE","$linkNode",164],["T_OBJECT_OPERATOR","->",164],["T_STRING","getAttribute",164],"(",["T_CONSTANT_ENCAPSED_STRING","'rel'",164],")",")",["T_WHITESPACE"," ",164],["T_IS_NOT_EQUAL","!=",164],["T_WHITESPACE"," ",164],["T_CONSTANT_ENCAPSED_STRING","'nofollow'",164],["T_WHITESPACE"," ",164],")",["T_WHITESPACE","\n               ",164],")",["T_WHITESPACE"," ",165],"{",["T_WHITESPACE","\n                ",165],["T_VARIABLE","$this",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","_links",166],"[","]",["T_WHITESPACE"," ",166],"=",["T_WHITESPACE"," ",166],["T_VARIABLE","$href",166],";",["T_WHITESPACE","\n            ",166],"}",["T_WHITESPACE","\n        ",167],"}",["T_WHITESPACE","\n        ",168],["T_VARIABLE","$linkNodes",169],["T_WHITESPACE"," ",169],"=",["T_WHITESPACE"," ",169],["T_VARIABLE","$this",169],["T_OBJECT_OPERATOR","->",169],["T_STRING","_doc",169],["T_OBJECT_OPERATOR","->",169],["T_STRING","getElementsByTagName",169],"(",["T_CONSTANT_ENCAPSED_STRING","'area'",169],")",";",["T_WHITESPACE","\n        ",169],["T_FOREACH","foreach",170],["T_WHITESPACE"," ",170],"(",["T_VARIABLE","$linkNodes",170],["T_WHITESPACE"," ",170],["T_AS","as",170],["T_WHITESPACE"," ",170],["T_VARIABLE","$linkNode",170],")",["T_WHITESPACE"," ",170],"{",["T_WHITESPACE","\n            ",170],["T_IF","if",171],["T_WHITESPACE"," ",171],"(","(",["T_VARIABLE","$href",171],["T_WHITESPACE"," ",171],"=",["T_WHITESPACE"," ",171],["T_VARIABLE","$linkNode",171],["T_OBJECT_OPERATOR","->",171],["T_STRING","getAttribute",171],"(",["T_CONSTANT_ENCAPSED_STRING","'href'",171],")",")",["T_WHITESPACE"," ",171],["T_IS_NOT_EQUAL","!=",171],["T_WHITESPACE"," ",171],["T_CONSTANT_ENCAPSED_STRING","''",171],["T_WHITESPACE"," ",171],["T_BOOLEAN_AND","&&",171],["T_WHITESPACE","\n                ",171],"(","!",["T_STRING","self",172],["T_DOUBLE_COLON","::",172],["T_VARIABLE","$_excludeNoFollowLinks",172],["T_WHITESPACE","  ",172],["T_BOOLEAN_OR","||",172],["T_WHITESPACE","  ",172],["T_STRING","strtolower",172],"(",["T_VARIABLE","$linkNode",172],["T_OBJECT_OPERATOR","->",172],["T_STRING","getAttribute",172],"(",["T_CONSTANT_ENCAPSED_STRING","'rel'",172],")",")",["T_WHITESPACE"," ",172],["T_IS_NOT_EQUAL","!=",172],["T_WHITESPACE"," ",172],["T_CONSTANT_ENCAPSED_STRING","'nofollow'",172],["T_WHITESPACE"," ",172],")",["T_WHITESPACE","\n               ",172],")",["T_WHITESPACE"," ",173],"{",["T_WHITESPACE","\n                ",173],["T_VARIABLE","$this",174],["T_OBJECT_OPERATOR","->",174],["T_STRING","_links",174],"[","]",["T_WHITESPACE"," ",174],"=",["T_WHITESPACE"," ",174],["T_VARIABLE","$href",174],";",["T_WHITESPACE","\n            ",174],"}",["T_WHITESPACE","\n        ",175],"}",["T_WHITESPACE","\n        ",176],["T_VARIABLE","$this",177],["T_OBJECT_OPERATOR","->",177],["T_STRING","_links",177],["T_WHITESPACE"," ",177],"=",["T_WHITESPACE"," ",177],["T_STRING","array_unique",177],"(",["T_VARIABLE","$this",177],["T_OBJECT_OPERATOR","->",177],["T_STRING","_links",177],")",";",["T_WHITESPACE","\n\n        ",177],["T_VARIABLE","$linkNodes",179],["T_WHITESPACE"," ",179],"=",["T_WHITESPACE"," ",179],["T_VARIABLE","$xpath",179],["T_OBJECT_OPERATOR","->",179],["T_STRING","query",179],"(",["T_CONSTANT_ENCAPSED_STRING","'\/html\/head\/link'",179],")",";",["T_WHITESPACE","\n        ",179],["T_FOREACH","foreach",180],["T_WHITESPACE"," ",180],"(",["T_VARIABLE","$linkNodes",180],["T_WHITESPACE"," ",180],["T_AS","as",180],["T_WHITESPACE"," ",180],["T_VARIABLE","$linkNode",180],")",["T_WHITESPACE"," ",180],"{",["T_WHITESPACE","\n            ",180],["T_IF","if",181],["T_WHITESPACE"," ",181],"(","(",["T_VARIABLE","$href",181],["T_WHITESPACE"," ",181],"=",["T_WHITESPACE"," ",181],["T_VARIABLE","$linkNode",181],["T_OBJECT_OPERATOR","->",181],["T_STRING","getAttribute",181],"(",["T_CONSTANT_ENCAPSED_STRING","'href'",181],")",")",["T_WHITESPACE"," ",181],["T_IS_NOT_EQUAL","!=",181],["T_WHITESPACE"," ",181],["T_CONSTANT_ENCAPSED_STRING","''",181],")",["T_WHITESPACE"," ",181],"{",["T_WHITESPACE","\n                ",181],["T_VARIABLE","$this",182],["T_OBJECT_OPERATOR","->",182],["T_STRING","_headerLinks",182],"[","]",["T_WHITESPACE"," ",182],"=",["T_WHITESPACE"," ",182],["T_VARIABLE","$href",182],";",["T_WHITESPACE","\n            ",182],"}",["T_WHITESPACE","\n        ",183],"}",["T_WHITESPACE","\n        ",184],["T_VARIABLE","$this",185],["T_OBJECT_OPERATOR","->",185],["T_STRING","_headerLinks",185],["T_WHITESPACE"," ",185],"=",["T_WHITESPACE"," ",185],["T_STRING","array_unique",185],"(",["T_VARIABLE","$this",185],["T_OBJECT_OPERATOR","->",185],["T_STRING","_headerLinks",185],")",";",["T_WHITESPACE","\n    ",185],"}",["T_WHITESPACE","\n\n    ",186],["T_DOC_COMMENT","\/**\n     * Set exclude nofollow links flag\n     *\n     * @param boolean $newValue\n     *\/",188],["T_WHITESPACE","\n    ",192],["T_PUBLIC","public",193],["T_WHITESPACE"," ",193],["T_STATIC","static",193],["T_WHITESPACE"," ",193],["T_FUNCTION","function",193],["T_WHITESPACE"," ",193],["T_STRING","setExcludeNoFollowLinks",193],"(",["T_VARIABLE","$newValue",193],")",["T_WHITESPACE","\n    ",193],"{",["T_WHITESPACE","\n        ",194],["T_STRING","self",195],["T_DOUBLE_COLON","::",195],["T_VARIABLE","$_excludeNoFollowLinks",195],["T_WHITESPACE"," ",195],"=",["T_WHITESPACE"," ",195],["T_VARIABLE","$newValue",195],";",["T_WHITESPACE","\n    ",195],"}",["T_WHITESPACE","\n\n    ",196],["T_DOC_COMMENT","\/**\n     * Get exclude nofollow links flag\n     *\n     * @return boolean\n     *\/",198],["T_WHITESPACE","\n    ",202],["T_PUBLIC","public",203],["T_WHITESPACE"," ",203],["T_STATIC","static",203],["T_WHITESPACE"," ",203],["T_FUNCTION","function",203],["T_WHITESPACE"," ",203],["T_STRING","getExcludeNoFollowLinks",203],"(",")",["T_WHITESPACE","\n    ",203],"{",["T_WHITESPACE","\n        ",204],["T_RETURN","return",205],["T_WHITESPACE"," ",205],["T_STRING","self",205],["T_DOUBLE_COLON","::",205],["T_VARIABLE","$_excludeNoFollowLinks",205],";",["T_WHITESPACE","\n    ",205],"}",["T_WHITESPACE","\n\n    ",206],["T_DOC_COMMENT","\/**\n     * Get node text\n     *\n     * We should exclude scripts, which may be not included into comment tags, CDATA sections,\n     *\n     * @param DOMNode $node\n     * @param string &$text\n     *\/",208],["T_WHITESPACE","\n    ",215],["T_PRIVATE","private",216],["T_WHITESPACE"," ",216],["T_FUNCTION","function",216],["T_WHITESPACE"," ",216],["T_STRING","_retrieveNodeText",216],"(",["T_STRING","DOMNode",216],["T_WHITESPACE"," ",216],["T_VARIABLE","$node",216],",",["T_WHITESPACE"," ",216],"&",["T_VARIABLE","$text",216],")",["T_WHITESPACE","\n    ",216],"{",["T_WHITESPACE","\n        ",217],["T_IF","if",218],["T_WHITESPACE"," ",218],"(",["T_VARIABLE","$node",218],["T_OBJECT_OPERATOR","->",218],["T_STRING","nodeType",218],["T_WHITESPACE"," ",218],["T_IS_EQUAL","==",218],["T_WHITESPACE"," ",218],["T_STRING","XML_TEXT_NODE",218],")",["T_WHITESPACE"," ",218],"{",["T_WHITESPACE","\n            ",218],["T_VARIABLE","$text",219],["T_WHITESPACE"," ",219],["T_CONCAT_EQUAL",".=",219],["T_WHITESPACE"," ",219],["T_VARIABLE","$node",219],["T_OBJECT_OPERATOR","->",219],["T_STRING","nodeValue",219],";",["T_WHITESPACE","\n            ",219],["T_IF","if",220],"(","!",["T_STRING","in_array",220],"(",["T_VARIABLE","$node",220],["T_OBJECT_OPERATOR","->",220],["T_STRING","parentNode",220],["T_OBJECT_OPERATOR","->",220],["T_STRING","tagName",220],",",["T_WHITESPACE"," ",220],["T_VARIABLE","$this",220],["T_OBJECT_OPERATOR","->",220],["T_STRING","_inlineTags",220],")",")",["T_WHITESPACE"," ",220],"{",["T_WHITESPACE","\n                ",220],["T_VARIABLE","$text",221],["T_WHITESPACE"," ",221],["T_CONCAT_EQUAL",".=",221],["T_WHITESPACE"," ",221],["T_CONSTANT_ENCAPSED_STRING","' '",221],";",["T_WHITESPACE","\n            ",221],"}",["T_WHITESPACE","\n        ",222],"}",["T_WHITESPACE"," ",223],["T_ELSE","else",223],["T_WHITESPACE"," ",223],["T_IF","if",223],["T_WHITESPACE"," ",223],"(",["T_VARIABLE","$node",223],["T_OBJECT_OPERATOR","->",223],["T_STRING","nodeType",223],["T_WHITESPACE"," ",223],["T_IS_EQUAL","==",223],["T_WHITESPACE"," ",223],["T_STRING","XML_ELEMENT_NODE",223],["T_WHITESPACE","  ",223],["T_BOOLEAN_AND","&&",223],["T_WHITESPACE","  ",223],["T_VARIABLE","$node",223],["T_OBJECT_OPERATOR","->",223],["T_STRING","nodeName",223],["T_WHITESPACE"," ",223],["T_IS_NOT_EQUAL","!=",223],["T_WHITESPACE"," ",223],["T_CONSTANT_ENCAPSED_STRING","'script'",223],")",["T_WHITESPACE"," ",223],"{",["T_WHITESPACE","\n            ",223],["T_FOREACH","foreach",224],["T_WHITESPACE"," ",224],"(",["T_VARIABLE","$node",224],["T_OBJECT_OPERATOR","->",224],["T_STRING","childNodes",224],["T_WHITESPACE"," ",224],["T_AS","as",224],["T_WHITESPACE"," ",224],["T_VARIABLE","$childNode",224],")",["T_WHITESPACE"," ",224],"{",["T_WHITESPACE","\n                ",224],["T_VARIABLE","$this",225],["T_OBJECT_OPERATOR","->",225],["T_STRING","_retrieveNodeText",225],"(",["T_VARIABLE","$childNode",225],",",["T_WHITESPACE"," ",225],["T_VARIABLE","$text",225],")",";",["T_WHITESPACE","\n            ",225],"}",["T_WHITESPACE","\n        ",226],"}",["T_WHITESPACE","\n    ",227],"}",["T_WHITESPACE","\n\n    ",228],["T_DOC_COMMENT","\/**\n     * Get document HREF links\n     *\n     * @return array\n     *\/",230],["T_WHITESPACE","\n    ",234],["T_PUBLIC","public",235],["T_WHITESPACE"," ",235],["T_FUNCTION","function",235],["T_WHITESPACE"," ",235],["T_STRING","getLinks",235],"(",")",["T_WHITESPACE","\n    ",235],"{",["T_WHITESPACE","\n        ",236],["T_RETURN","return",237],["T_WHITESPACE"," ",237],["T_VARIABLE","$this",237],["T_OBJECT_OPERATOR","->",237],["T_STRING","_links",237],";",["T_WHITESPACE","\n    ",237],"}",["T_WHITESPACE","\n\n    ",238],["T_DOC_COMMENT","\/**\n     * Get document header links\n     *\n     * @return array\n     *\/",240],["T_WHITESPACE","\n    ",244],["T_PUBLIC","public",245],["T_WHITESPACE"," ",245],["T_FUNCTION","function",245],["T_WHITESPACE"," ",245],["T_STRING","getHeaderLinks",245],"(",")",["T_WHITESPACE","\n    ",245],"{",["T_WHITESPACE","\n        ",246],["T_RETURN","return",247],["T_WHITESPACE"," ",247],["T_VARIABLE","$this",247],["T_OBJECT_OPERATOR","->",247],["T_STRING","_headerLinks",247],";",["T_WHITESPACE","\n    ",247],"}",["T_WHITESPACE","\n\n    ",248],["T_DOC_COMMENT","\/**\n     * Load HTML document from a string\n     *\n     * @param string  $data\n     * @param boolean $storeContent\n     * @param string  $defaultEncoding   HTML encoding, is used if it's not specified using Content-type HTTP-EQUIV meta tag.\n     * @return Zend_Search_Lucene_Document_Html\n     *\/",250],["T_WHITESPACE","\n    ",257],["T_PUBLIC","public",258],["T_WHITESPACE"," ",258],["T_STATIC","static",258],["T_WHITESPACE"," ",258],["T_FUNCTION","function",258],["T_WHITESPACE"," ",258],["T_STRING","loadHTML",258],"(",["T_VARIABLE","$data",258],",",["T_WHITESPACE"," ",258],["T_VARIABLE","$storeContent",258],["T_WHITESPACE"," ",258],"=",["T_WHITESPACE"," ",258],["T_STRING","false",258],",",["T_WHITESPACE"," ",258],["T_VARIABLE","$defaultEncoding",258],["T_WHITESPACE"," ",258],"=",["T_WHITESPACE"," ",258],["T_CONSTANT_ENCAPSED_STRING","''",258],")",["T_WHITESPACE","\n    ",258],"{",["T_WHITESPACE","\n        ",259],["T_RETURN","return",260],["T_WHITESPACE"," ",260],["T_NEW","new",260],["T_WHITESPACE"," ",260],["T_STRING","Zend_Search_Lucene_Document_Html",260],"(",["T_VARIABLE","$data",260],",",["T_WHITESPACE"," ",260],["T_STRING","false",260],",",["T_WHITESPACE"," ",260],["T_VARIABLE","$storeContent",260],",",["T_WHITESPACE"," ",260],["T_VARIABLE","$defaultEncoding",260],")",";",["T_WHITESPACE","\n    ",260],"}",["T_WHITESPACE","\n\n    ",261],["T_DOC_COMMENT","\/**\n     * Load HTML document from a file\n     *\n     * @param string  $file\n     * @param boolean $storeContent\n     * @param string  $defaultEncoding   HTML encoding, is used if it's not specified using Content-type HTTP-EQUIV meta tag.\n     * @return Zend_Search_Lucene_Document_Html\n     *\/",263],["T_WHITESPACE","\n    ",270],["T_PUBLIC","public",271],["T_WHITESPACE"," ",271],["T_STATIC","static",271],["T_WHITESPACE"," ",271],["T_FUNCTION","function",271],["T_WHITESPACE"," ",271],["T_STRING","loadHTMLFile",271],"(",["T_VARIABLE","$file",271],",",["T_WHITESPACE"," ",271],["T_VARIABLE","$storeContent",271],["T_WHITESPACE"," ",271],"=",["T_WHITESPACE"," ",271],["T_STRING","false",271],",",["T_WHITESPACE"," ",271],["T_VARIABLE","$defaultEncoding",271],["T_WHITESPACE"," ",271],"=",["T_WHITESPACE"," ",271],["T_CONSTANT_ENCAPSED_STRING","''",271],")",["T_WHITESPACE","\n    ",271],"{",["T_WHITESPACE","\n        ",272],["T_RETURN","return",273],["T_WHITESPACE"," ",273],["T_NEW","new",273],["T_WHITESPACE"," ",273],["T_STRING","Zend_Search_Lucene_Document_Html",273],"(",["T_VARIABLE","$file",273],",",["T_WHITESPACE"," ",273],["T_STRING","true",273],",",["T_WHITESPACE"," ",273],["T_VARIABLE","$storeContent",273],",",["T_WHITESPACE"," ",273],["T_VARIABLE","$defaultEncoding",273],")",";",["T_WHITESPACE","\n    ",273],"}",["T_WHITESPACE","\n\n\n    ",274],["T_DOC_COMMENT","\/**\n     * Highlight text in text node\n     *\n     * @param DOMText $node\n     * @param array   $wordsToHighlight\n     * @param callback $callback   Callback method, used to transform (highlighting) text.\n     * @param array    $params     Array of additionall callback parameters (first non-optional parameter is a text to transform)\n     * @throws Zend_Search_Lucene_Exception\n     *\/",277],["T_WHITESPACE","\n    ",285],["T_PROTECTED","protected",286],["T_WHITESPACE"," ",286],["T_FUNCTION","function",286],["T_WHITESPACE"," ",286],["T_STRING","_highlightTextNode",286],"(",["T_STRING","DOMText",286],["T_WHITESPACE"," ",286],["T_VARIABLE","$node",286],",",["T_WHITESPACE"," ",286],["T_VARIABLE","$wordsToHighlight",286],",",["T_WHITESPACE"," ",286],["T_VARIABLE","$callback",286],",",["T_WHITESPACE"," ",286],["T_VARIABLE","$params",286],")",["T_WHITESPACE","\n    ",286],"{",["T_WHITESPACE","\n        ",287],["T_DOC_COMMENT","\/** Zend_Search_Lucene_Analysis_Analyzer *\/",288],["T_WHITESPACE","\n        ",288],["T_COMMENT","#require_once 'Zend\/Search\/Lucene\/Analysis\/Analyzer.php';\n",289],["T_WHITESPACE","\n        ",290],["T_VARIABLE","$analyzer",291],["T_WHITESPACE"," ",291],"=",["T_WHITESPACE"," ",291],["T_STRING","Zend_Search_Lucene_Analysis_Analyzer",291],["T_DOUBLE_COLON","::",291],["T_STRING","getDefault",291],"(",")",";",["T_WHITESPACE","\n        ",291],["T_VARIABLE","$analyzer",292],["T_OBJECT_OPERATOR","->",292],["T_STRING","setInput",292],"(",["T_VARIABLE","$node",292],["T_OBJECT_OPERATOR","->",292],["T_STRING","nodeValue",292],",",["T_WHITESPACE"," ",292],["T_CONSTANT_ENCAPSED_STRING","'UTF-8'",292],")",";",["T_WHITESPACE","\n\n        ",292],["T_VARIABLE","$matchedTokens",294],["T_WHITESPACE"," ",294],"=",["T_WHITESPACE"," ",294],["T_ARRAY","array",294],"(",")",";",["T_WHITESPACE","\n\n        ",294],["T_WHILE","while",296],["T_WHITESPACE"," ",296],"(","(",["T_VARIABLE","$token",296],["T_WHITESPACE"," ",296],"=",["T_WHITESPACE"," ",296],["T_VARIABLE","$analyzer",296],["T_OBJECT_OPERATOR","->",296],["T_STRING","nextToken",296],"(",")",")",["T_WHITESPACE"," ",296],["T_IS_NOT_IDENTICAL","!==",296],["T_WHITESPACE"," ",296],["T_STRING","null",296],")",["T_WHITESPACE"," ",296],"{",["T_WHITESPACE","\n            ",296],["T_IF","if",297],["T_WHITESPACE"," ",297],"(",["T_ISSET","isset",297],"(",["T_VARIABLE","$wordsToHighlight",297],"[",["T_VARIABLE","$token",297],["T_OBJECT_OPERATOR","->",297],["T_STRING","getTermText",297],"(",")","]",")",")",["T_WHITESPACE"," ",297],"{",["T_WHITESPACE","\n                ",297],["T_VARIABLE","$matchedTokens",298],"[","]",["T_WHITESPACE"," ",298],"=",["T_WHITESPACE"," ",298],["T_VARIABLE","$token",298],";",["T_WHITESPACE","\n            ",298],"}",["T_WHITESPACE","\n        ",299],"}",["T_WHITESPACE","\n\n        ",300],["T_IF","if",302],["T_WHITESPACE"," ",302],"(",["T_STRING","count",302],"(",["T_VARIABLE","$matchedTokens",302],")",["T_WHITESPACE"," ",302],["T_IS_EQUAL","==",302],["T_WHITESPACE"," ",302],["T_LNUMBER","0",302],")",["T_WHITESPACE"," ",302],"{",["T_WHITESPACE","\n            ",302],["T_RETURN","return",303],";",["T_WHITESPACE","\n        ",303],"}",["T_WHITESPACE","\n\n        ",304],["T_VARIABLE","$matchedTokens",306],["T_WHITESPACE"," ",306],"=",["T_WHITESPACE"," ",306],["T_STRING","array_reverse",306],"(",["T_VARIABLE","$matchedTokens",306],")",";",["T_WHITESPACE","\n\n        ",306],["T_FOREACH","foreach",308],["T_WHITESPACE"," ",308],"(",["T_VARIABLE","$matchedTokens",308],["T_WHITESPACE"," ",308],["T_AS","as",308],["T_WHITESPACE"," ",308],["T_VARIABLE","$token",308],")",["T_WHITESPACE"," ",308],"{",["T_WHITESPACE","\n            ",308],["T_COMMENT","\/\/ Cut text after matched token\n",309],["T_WHITESPACE","            ",310],["T_VARIABLE","$node",310],["T_OBJECT_OPERATOR","->",310],["T_STRING","splitText",310],"(",["T_VARIABLE","$token",310],["T_OBJECT_OPERATOR","->",310],["T_STRING","getEndOffset",310],"(",")",")",";",["T_WHITESPACE","\n\n            ",310],["T_COMMENT","\/\/ Cut matched node\n",312],["T_WHITESPACE","            ",313],["T_VARIABLE","$matchedWordNode",313],["T_WHITESPACE"," ",313],"=",["T_WHITESPACE"," ",313],["T_VARIABLE","$node",313],["T_OBJECT_OPERATOR","->",313],["T_STRING","splitText",313],"(",["T_VARIABLE","$token",313],["T_OBJECT_OPERATOR","->",313],["T_STRING","getStartOffset",313],"(",")",")",";",["T_WHITESPACE","\n\n            ",313],["T_COMMENT","\/\/ Retrieve HTML string representation for highlihted word\n",315],["T_WHITESPACE","            ",316],["T_VARIABLE","$fullCallbackparamsList",316],["T_WHITESPACE"," ",316],"=",["T_WHITESPACE"," ",316],["T_VARIABLE","$params",316],";",["T_WHITESPACE","\n            ",316],["T_STRING","array_unshift",317],"(",["T_VARIABLE","$fullCallbackparamsList",317],",",["T_WHITESPACE"," ",317],["T_VARIABLE","$matchedWordNode",317],["T_OBJECT_OPERATOR","->",317],["T_STRING","nodeValue",317],")",";",["T_WHITESPACE","\n            ",317],["T_VARIABLE","$highlightedWordNodeSetHtml",318],["T_WHITESPACE"," ",318],"=",["T_WHITESPACE"," ",318],["T_STRING","call_user_func_array",318],"(",["T_VARIABLE","$callback",318],",",["T_WHITESPACE"," ",318],["T_VARIABLE","$fullCallbackparamsList",318],")",";",["T_WHITESPACE","\n\n            ",318],["T_COMMENT","\/\/ Transform HTML string to a DOM representation and automatically transform retrieved string\n",320],["T_WHITESPACE","            ",321],["T_COMMENT","\/\/ into valid XHTML (It's automatically done by loadHTML() method)\n",321],["T_WHITESPACE","            ",322],["T_VARIABLE","$highlightedWordNodeSetDomDocument",322],["T_WHITESPACE"," ",322],"=",["T_WHITESPACE"," ",322],["T_NEW","new",322],["T_WHITESPACE"," ",322],["T_STRING","DOMDocument",322],"(",["T_CONSTANT_ENCAPSED_STRING","'1.0'",322],",",["T_WHITESPACE"," ",322],["T_CONSTANT_ENCAPSED_STRING","'UTF-8'",322],")",";",["T_WHITESPACE","\n            ",322],["T_VARIABLE","$success",323],["T_WHITESPACE"," ",323],"=",["T_WHITESPACE"," ",323],"@",["T_VARIABLE","$highlightedWordNodeSetDomDocument",323],["T_OBJECT_OPERATOR","->",323],["T_WHITESPACE","\n                                ",323],["T_STRING","loadHTML",324],"(",["T_CONSTANT_ENCAPSED_STRING","'<html><head><meta http-equiv=\"Content-type\" content=\"text\/html; charset=UTF-8\"\/><\/head><body>'",324],["T_WHITESPACE","\n                                       ",324],".",["T_WHITESPACE"," ",325],["T_VARIABLE","$highlightedWordNodeSetHtml",325],["T_WHITESPACE","\n                                       ",325],".",["T_WHITESPACE"," ",326],["T_CONSTANT_ENCAPSED_STRING","'<\/body><\/html>'",326],")",";",["T_WHITESPACE","\n            ",326],["T_IF","if",327],["T_WHITESPACE"," ",327],"(","!",["T_VARIABLE","$success",327],")",["T_WHITESPACE"," ",327],"{",["T_WHITESPACE","\n                ",327],["T_COMMENT","#require_once 'Zend\/Search\/Lucene\/Exception.php';\n",328],["T_WHITESPACE","                ",329],["T_THROW","throw",329],["T_WHITESPACE"," ",329],["T_NEW","new",329],["T_WHITESPACE"," ",329],["T_STRING","Zend_Search_Lucene_Exception",329],"(","\"",["T_ENCAPSED_AND_WHITESPACE","Error occured while loading highlighted text fragment: '",329],["T_VARIABLE","$highlightedWordNodeSetHtml",329],["T_ENCAPSED_AND_WHITESPACE","'.",329],"\"",")",";",["T_WHITESPACE","\n            ",329],"}",["T_WHITESPACE","\n            ",330],["T_VARIABLE","$highlightedWordNodeSetXpath",331],["T_WHITESPACE"," ",331],"=",["T_WHITESPACE"," ",331],["T_NEW","new",331],["T_WHITESPACE"," ",331],["T_STRING","DOMXPath",331],"(",["T_VARIABLE","$highlightedWordNodeSetDomDocument",331],")",";",["T_WHITESPACE","\n            ",331],["T_VARIABLE","$highlightedWordNodeSet",332],["T_WHITESPACE","      ",332],"=",["T_WHITESPACE"," ",332],["T_VARIABLE","$highlightedWordNodeSetXpath",332],["T_OBJECT_OPERATOR","->",332],["T_STRING","query",332],"(",["T_CONSTANT_ENCAPSED_STRING","'\/html\/body'",332],")",["T_OBJECT_OPERATOR","->",332],["T_STRING","item",332],"(",["T_LNUMBER","0",332],")",["T_OBJECT_OPERATOR","->",332],["T_STRING","childNodes",332],";",["T_WHITESPACE","\n\n            ",332],["T_FOR","for",334],["T_WHITESPACE"," ",334],"(",["T_VARIABLE","$count",334],["T_WHITESPACE"," ",334],"=",["T_WHITESPACE"," ",334],["T_LNUMBER","0",334],";",["T_WHITESPACE"," ",334],["T_VARIABLE","$count",334],["T_WHITESPACE"," ",334],"<",["T_WHITESPACE"," ",334],["T_VARIABLE","$highlightedWordNodeSet",334],["T_OBJECT_OPERATOR","->",334],["T_STRING","length",334],";",["T_WHITESPACE"," ",334],["T_VARIABLE","$count",334],["T_INC","++",334],")",["T_WHITESPACE"," ",334],"{",["T_WHITESPACE","\n                ",334],["T_VARIABLE","$nodeToImport",335],["T_WHITESPACE"," ",335],"=",["T_WHITESPACE"," ",335],["T_VARIABLE","$highlightedWordNodeSet",335],["T_OBJECT_OPERATOR","->",335],["T_STRING","item",335],"(",["T_VARIABLE","$count",335],")",";",["T_WHITESPACE","\n                ",335],["T_VARIABLE","$node",336],["T_OBJECT_OPERATOR","->",336],["T_STRING","parentNode",336],["T_OBJECT_OPERATOR","->",336],["T_STRING","insertBefore",336],"(",["T_VARIABLE","$this",336],["T_OBJECT_OPERATOR","->",336],["T_STRING","_doc",336],["T_OBJECT_OPERATOR","->",336],["T_STRING","importNode",336],"(",["T_VARIABLE","$nodeToImport",336],",",["T_WHITESPACE"," ",336],["T_STRING","true",336],["T_WHITESPACE"," ",336],["T_COMMENT","\/* deep copy *\/",336],")",",",["T_WHITESPACE","\n                                                ",336],["T_VARIABLE","$matchedWordNode",337],")",";",["T_WHITESPACE","\n            ",337],"}",["T_WHITESPACE","\n\n            ",338],["T_VARIABLE","$node",340],["T_OBJECT_OPERATOR","->",340],["T_STRING","parentNode",340],["T_OBJECT_OPERATOR","->",340],["T_STRING","removeChild",340],"(",["T_VARIABLE","$matchedWordNode",340],")",";",["T_WHITESPACE","\n        ",340],"}",["T_WHITESPACE","\n    ",341],"}",["T_WHITESPACE","\n\n\n    ",342],["T_DOC_COMMENT","\/**\n     * highlight words in content of the specified node\n     *\n     * @param DOMNode $contextNode\n     * @param array $wordsToHighlight\n     * @param callback $callback   Callback method, used to transform (highlighting) text.\n     * @param array    $params     Array of additionall callback parameters (first non-optional parameter is a text to transform)\n     *\/",345],["T_WHITESPACE","\n    ",352],["T_PROTECTED","protected",353],["T_WHITESPACE"," ",353],["T_FUNCTION","function",353],["T_WHITESPACE"," ",353],["T_STRING","_highlightNodeRecursive",353],"(",["T_STRING","DOMNode",353],["T_WHITESPACE"," ",353],["T_VARIABLE","$contextNode",353],",",["T_WHITESPACE"," ",353],["T_VARIABLE","$wordsToHighlight",353],",",["T_WHITESPACE"," ",353],["T_VARIABLE","$callback",353],",",["T_WHITESPACE"," ",353],["T_VARIABLE","$params",353],")",["T_WHITESPACE","\n    ",353],"{",["T_WHITESPACE","\n        ",354],["T_VARIABLE","$textNodes",355],["T_WHITESPACE"," ",355],"=",["T_WHITESPACE"," ",355],["T_ARRAY","array",355],"(",")",";",["T_WHITESPACE","\n\n        ",355],["T_IF","if",357],["T_WHITESPACE"," ",357],"(","!",["T_VARIABLE","$contextNode",357],["T_OBJECT_OPERATOR","->",357],["T_STRING","hasChildNodes",357],"(",")",")",["T_WHITESPACE"," ",357],"{",["T_WHITESPACE","\n            ",357],["T_RETURN","return",358],";",["T_WHITESPACE","\n        ",358],"}",["T_WHITESPACE","\n\n        ",359],["T_FOREACH","foreach",361],["T_WHITESPACE"," ",361],"(",["T_VARIABLE","$contextNode",361],["T_OBJECT_OPERATOR","->",361],["T_STRING","childNodes",361],["T_WHITESPACE"," ",361],["T_AS","as",361],["T_WHITESPACE"," ",361],["T_VARIABLE","$childNode",361],")",["T_WHITESPACE"," ",361],"{",["T_WHITESPACE","\n            ",361],["T_IF","if",362],["T_WHITESPACE"," ",362],"(",["T_VARIABLE","$childNode",362],["T_OBJECT_OPERATOR","->",362],["T_STRING","nodeType",362],["T_WHITESPACE"," ",362],["T_IS_EQUAL","==",362],["T_WHITESPACE"," ",362],["T_STRING","XML_TEXT_NODE",362],")",["T_WHITESPACE"," ",362],"{",["T_WHITESPACE","\n                ",362],["T_COMMENT","\/\/ process node later to leave childNodes structure untouched\n",363],["T_WHITESPACE","                ",364],["T_VARIABLE","$textNodes",364],"[","]",["T_WHITESPACE"," ",364],"=",["T_WHITESPACE"," ",364],["T_VARIABLE","$childNode",364],";",["T_WHITESPACE","\n            ",364],"}",["T_WHITESPACE"," ",365],["T_ELSE","else",365],["T_WHITESPACE"," ",365],"{",["T_WHITESPACE","\n                ",365],["T_COMMENT","\/\/ Process node if it's not a script node\n",366],["T_WHITESPACE","                ",367],["T_IF","if",367],["T_WHITESPACE"," ",367],"(",["T_VARIABLE","$childNode",367],["T_OBJECT_OPERATOR","->",367],["T_STRING","nodeName",367],["T_WHITESPACE"," ",367],["T_IS_NOT_EQUAL","!=",367],["T_WHITESPACE"," ",367],["T_CONSTANT_ENCAPSED_STRING","'script'",367],")",["T_WHITESPACE"," ",367],"{",["T_WHITESPACE","\n                    ",367],["T_VARIABLE","$this",368],["T_OBJECT_OPERATOR","->",368],["T_STRING","_highlightNodeRecursive",368],"(",["T_VARIABLE","$childNode",368],",",["T_WHITESPACE"," ",368],["T_VARIABLE","$wordsToHighlight",368],",",["T_WHITESPACE"," ",368],["T_VARIABLE","$callback",368],",",["T_WHITESPACE"," ",368],["T_VARIABLE","$params",368],")",";",["T_WHITESPACE","\n                ",368],"}",["T_WHITESPACE","\n            ",369],"}",["T_WHITESPACE","\n        ",370],"}",["T_WHITESPACE","\n\n        ",371],["T_FOREACH","foreach",373],["T_WHITESPACE"," ",373],"(",["T_VARIABLE","$textNodes",373],["T_WHITESPACE"," ",373],["T_AS","as",373],["T_WHITESPACE"," ",373],["T_VARIABLE","$textNode",373],")",["T_WHITESPACE"," ",373],"{",["T_WHITESPACE","\n            ",373],["T_VARIABLE","$this",374],["T_OBJECT_OPERATOR","->",374],["T_STRING","_highlightTextNode",374],"(",["T_VARIABLE","$textNode",374],",",["T_WHITESPACE"," ",374],["T_VARIABLE","$wordsToHighlight",374],",",["T_WHITESPACE"," ",374],["T_VARIABLE","$callback",374],",",["T_WHITESPACE"," ",374],["T_VARIABLE","$params",374],")",";",["T_WHITESPACE","\n        ",374],"}",["T_WHITESPACE","\n    ",375],"}",["T_WHITESPACE","\n\n    ",376],["T_DOC_COMMENT","\/**\n     * Standard callback method used to highlight words.\n     *\n     * @param  string  $stringToHighlight\n     * @return string\n     * @internal\n     *\/",378],["T_WHITESPACE","\n    ",384],["T_PUBLIC","public",385],["T_WHITESPACE"," ",385],["T_FUNCTION","function",385],["T_WHITESPACE"," ",385],["T_STRING","applyColour",385],"(",["T_VARIABLE","$stringToHighlight",385],",",["T_WHITESPACE"," ",385],["T_VARIABLE","$colour",385],")",["T_WHITESPACE","\n    ",385],"{",["T_WHITESPACE","\n        ",386],["T_RETURN","return",387],["T_WHITESPACE"," ",387],["T_CONSTANT_ENCAPSED_STRING","'<b style=\"color:black;background-color:'",387],["T_WHITESPACE"," ",387],".",["T_WHITESPACE"," ",387],["T_VARIABLE","$colour",387],["T_WHITESPACE"," ",387],".",["T_WHITESPACE"," ",387],["T_CONSTANT_ENCAPSED_STRING","'\">'",387],["T_WHITESPACE"," ",387],".",["T_WHITESPACE"," ",387],["T_VARIABLE","$stringToHighlight",387],["T_WHITESPACE"," ",387],".",["T_WHITESPACE"," ",387],["T_CONSTANT_ENCAPSED_STRING","'<\/b>'",387],";",["T_WHITESPACE","\n    ",387],"}",["T_WHITESPACE","\n\n    ",388],["T_DOC_COMMENT","\/**\n     * Highlight text with specified color\n     *\n     * @param string|array $words\n     * @param string $colour\n     * @return string\n     *\/",390],["T_WHITESPACE","\n    ",396],["T_PUBLIC","public",397],["T_WHITESPACE"," ",397],["T_FUNCTION","function",397],["T_WHITESPACE"," ",397],["T_STRING","highlight",397],"(",["T_VARIABLE","$words",397],",",["T_WHITESPACE"," ",397],["T_VARIABLE","$colour",397],["T_WHITESPACE"," ",397],"=",["T_WHITESPACE"," ",397],["T_CONSTANT_ENCAPSED_STRING","'#66ffff'",397],")",["T_WHITESPACE","\n    ",397],"{",["T_WHITESPACE","\n        ",398],["T_RETURN","return",399],["T_WHITESPACE"," ",399],["T_VARIABLE","$this",399],["T_OBJECT_OPERATOR","->",399],["T_STRING","highlightExtended",399],"(",["T_VARIABLE","$words",399],",",["T_WHITESPACE"," ",399],["T_ARRAY","array",399],"(",["T_VARIABLE","$this",399],",",["T_WHITESPACE"," ",399],["T_CONSTANT_ENCAPSED_STRING","'applyColour'",399],")",",",["T_WHITESPACE"," ",399],["T_ARRAY","array",399],"(",["T_VARIABLE","$colour",399],")",")",";",["T_WHITESPACE","\n    ",399],"}",["T_WHITESPACE","\n\n\n\n    ",400],["T_DOC_COMMENT","\/**\n     * Highlight text using specified View helper or callback function.\n     *\n     * @param string|array $words  Words to highlight. Words could be organized using the array or string.\n     * @param callback $callback   Callback method, used to transform (highlighting) text.\n     * @param array    $params     Array of additionall callback parameters passed through into it\n     *                             (first non-optional parameter is an HTML fragment for highlighting)\n     * @return string\n     * @throws Zend_Search_Lucene_Exception\n     *\/",404],["T_WHITESPACE","\n    ",413],["T_PUBLIC","public",414],["T_WHITESPACE"," ",414],["T_FUNCTION","function",414],["T_WHITESPACE"," ",414],["T_STRING","highlightExtended",414],"(",["T_VARIABLE","$words",414],",",["T_WHITESPACE"," ",414],["T_VARIABLE","$callback",414],",",["T_WHITESPACE"," ",414],["T_VARIABLE","$params",414],["T_WHITESPACE"," ",414],"=",["T_WHITESPACE"," ",414],["T_ARRAY","array",414],"(",")",")",["T_WHITESPACE","\n    ",414],"{",["T_WHITESPACE","\n        ",415],["T_DOC_COMMENT","\/** Zend_Search_Lucene_Analysis_Analyzer *\/",416],["T_WHITESPACE","\n        ",416],["T_COMMENT","#require_once 'Zend\/Search\/Lucene\/Analysis\/Analyzer.php';\n",417],["T_WHITESPACE","\n        ",418],["T_IF","if",419],["T_WHITESPACE"," ",419],"(","!",["T_STRING","is_array",419],"(",["T_VARIABLE","$words",419],")",")",["T_WHITESPACE"," ",419],"{",["T_WHITESPACE","\n            ",419],["T_VARIABLE","$words",420],["T_WHITESPACE"," ",420],"=",["T_WHITESPACE"," ",420],["T_ARRAY","array",420],"(",["T_VARIABLE","$words",420],")",";",["T_WHITESPACE","\n        ",420],"}",["T_WHITESPACE","\n\n        ",421],["T_VARIABLE","$wordsToHighlightList",423],["T_WHITESPACE"," ",423],"=",["T_WHITESPACE"," ",423],["T_ARRAY","array",423],"(",")",";",["T_WHITESPACE","\n        ",423],["T_VARIABLE","$analyzer",424],["T_WHITESPACE"," ",424],"=",["T_WHITESPACE"," ",424],["T_STRING","Zend_Search_Lucene_Analysis_Analyzer",424],["T_DOUBLE_COLON","::",424],["T_STRING","getDefault",424],"(",")",";",["T_WHITESPACE","\n        ",424],["T_FOREACH","foreach",425],["T_WHITESPACE"," ",425],"(",["T_VARIABLE","$words",425],["T_WHITESPACE"," ",425],["T_AS","as",425],["T_WHITESPACE"," ",425],["T_VARIABLE","$wordString",425],")",["T_WHITESPACE"," ",425],"{",["T_WHITESPACE","\n            ",425],["T_VARIABLE","$wordsToHighlightList",426],"[","]",["T_WHITESPACE"," ",426],"=",["T_WHITESPACE"," ",426],["T_VARIABLE","$analyzer",426],["T_OBJECT_OPERATOR","->",426],["T_STRING","tokenize",426],"(",["T_VARIABLE","$wordString",426],")",";",["T_WHITESPACE","\n        ",426],"}",["T_WHITESPACE","\n        ",427],["T_VARIABLE","$wordsToHighlight",428],["T_WHITESPACE"," ",428],"=",["T_WHITESPACE"," ",428],["T_STRING","call_user_func_array",428],"(",["T_CONSTANT_ENCAPSED_STRING","'array_merge'",428],",",["T_WHITESPACE"," ",428],["T_VARIABLE","$wordsToHighlightList",428],")",";",["T_WHITESPACE","\n\n        ",428],["T_IF","if",430],["T_WHITESPACE"," ",430],"(",["T_STRING","count",430],"(",["T_VARIABLE","$wordsToHighlight",430],")",["T_WHITESPACE"," ",430],["T_IS_EQUAL","==",430],["T_WHITESPACE"," ",430],["T_LNUMBER","0",430],")",["T_WHITESPACE"," ",430],"{",["T_WHITESPACE","\n            ",430],["T_RETURN","return",431],["T_WHITESPACE"," ",431],["T_VARIABLE","$this",431],["T_OBJECT_OPERATOR","->",431],["T_STRING","_doc",431],["T_OBJECT_OPERATOR","->",431],["T_STRING","saveHTML",431],"(",")",";",["T_WHITESPACE","\n        ",431],"}",["T_WHITESPACE","\n\n        ",432],["T_VARIABLE","$wordsToHighlightFlipped",434],["T_WHITESPACE"," ",434],"=",["T_WHITESPACE"," ",434],["T_ARRAY","array",434],"(",")",";",["T_WHITESPACE","\n        ",434],["T_FOREACH","foreach",435],["T_WHITESPACE"," ",435],"(",["T_VARIABLE","$wordsToHighlight",435],["T_WHITESPACE"," ",435],["T_AS","as",435],["T_WHITESPACE"," ",435],["T_VARIABLE","$id",435],["T_WHITESPACE"," ",435],["T_DOUBLE_ARROW","=>",435],["T_WHITESPACE"," ",435],["T_VARIABLE","$token",435],")",["T_WHITESPACE"," ",435],"{",["T_WHITESPACE","\n            ",435],["T_VARIABLE","$wordsToHighlightFlipped",436],"[",["T_VARIABLE","$token",436],["T_OBJECT_OPERATOR","->",436],["T_STRING","getTermText",436],"(",")","]",["T_WHITESPACE"," ",436],"=",["T_WHITESPACE"," ",436],["T_VARIABLE","$id",436],";",["T_WHITESPACE","\n        ",436],"}",["T_WHITESPACE","\n\n        ",437],["T_IF","if",439],["T_WHITESPACE"," ",439],"(","!",["T_STRING","is_callable",439],"(",["T_VARIABLE","$callback",439],")",")",["T_WHITESPACE"," ",439],"{",["T_WHITESPACE","\n            ",439],["T_COMMENT","#require_once 'Zend\/Search\/Lucene\/Exception.php';\n",440],["T_WHITESPACE","            ",441],["T_THROW","throw",441],["T_WHITESPACE"," ",441],["T_NEW","new",441],["T_WHITESPACE"," ",441],["T_STRING","Zend_Search_Lucene_Exception",441],"(",["T_CONSTANT_ENCAPSED_STRING","'$viewHelper parameter must be a View Helper name, View Helper object or callback.'",441],")",";",["T_WHITESPACE","\n        ",441],"}",["T_WHITESPACE","\n\n        ",442],["T_VARIABLE","$xpath",444],["T_WHITESPACE"," ",444],"=",["T_WHITESPACE"," ",444],["T_NEW","new",444],["T_WHITESPACE"," ",444],["T_STRING","DOMXPath",444],"(",["T_VARIABLE","$this",444],["T_OBJECT_OPERATOR","->",444],["T_STRING","_doc",444],")",";",["T_WHITESPACE","\n\n        ",444],["T_VARIABLE","$matchedNodes",446],["T_WHITESPACE"," ",446],"=",["T_WHITESPACE"," ",446],["T_VARIABLE","$xpath",446],["T_OBJECT_OPERATOR","->",446],["T_STRING","query",446],"(",["T_CONSTANT_ENCAPSED_STRING","\"\/html\/body\"",446],")",";",["T_WHITESPACE","\n        ",446],["T_FOREACH","foreach",447],["T_WHITESPACE"," ",447],"(",["T_VARIABLE","$matchedNodes",447],["T_WHITESPACE"," ",447],["T_AS","as",447],["T_WHITESPACE"," ",447],["T_VARIABLE","$matchedNode",447],")",["T_WHITESPACE"," ",447],"{",["T_WHITESPACE","\n            ",447],["T_VARIABLE","$this",448],["T_OBJECT_OPERATOR","->",448],["T_STRING","_highlightNodeRecursive",448],"(",["T_VARIABLE","$matchedNode",448],",",["T_WHITESPACE"," ",448],["T_VARIABLE","$wordsToHighlightFlipped",448],",",["T_WHITESPACE"," ",448],["T_VARIABLE","$callback",448],",",["T_WHITESPACE"," ",448],["T_VARIABLE","$params",448],")",";",["T_WHITESPACE","\n        ",448],"}",["T_WHITESPACE","\n    ",449],"}",["T_WHITESPACE","\n\n\n    ",450],["T_DOC_COMMENT","\/**\n     * Get HTML\n     *\n     * @return string\n     *\/",453],["T_WHITESPACE","\n    ",457],["T_PUBLIC","public",458],["T_WHITESPACE"," ",458],["T_FUNCTION","function",458],["T_WHITESPACE"," ",458],["T_STRING","getHTML",458],"(",")",["T_WHITESPACE","\n    ",458],"{",["T_WHITESPACE","\n        ",459],["T_RETURN","return",460],["T_WHITESPACE"," ",460],["T_VARIABLE","$this",460],["T_OBJECT_OPERATOR","->",460],["T_STRING","_doc",460],["T_OBJECT_OPERATOR","->",460],["T_STRING","saveHTML",460],"(",")",";",["T_WHITESPACE","\n    ",460],"}",["T_WHITESPACE","\n\n    ",461],["T_DOC_COMMENT","\/**\n     * Get HTML body\n     *\n     * @return string\n     *\/",463],["T_WHITESPACE","\n    ",467],["T_PUBLIC","public",468],["T_WHITESPACE"," ",468],["T_FUNCTION","function",468],["T_WHITESPACE"," ",468],["T_STRING","getHtmlBody",468],"(",")",["T_WHITESPACE","\n    ",468],"{",["T_WHITESPACE","\n        ",469],["T_VARIABLE","$xpath",470],["T_WHITESPACE"," ",470],"=",["T_WHITESPACE"," ",470],["T_NEW","new",470],["T_WHITESPACE"," ",470],["T_STRING","DOMXPath",470],"(",["T_VARIABLE","$this",470],["T_OBJECT_OPERATOR","->",470],["T_STRING","_doc",470],")",";",["T_WHITESPACE","\n        ",470],["T_VARIABLE","$bodyNodes",471],["T_WHITESPACE"," ",471],"=",["T_WHITESPACE"," ",471],["T_VARIABLE","$xpath",471],["T_OBJECT_OPERATOR","->",471],["T_STRING","query",471],"(",["T_CONSTANT_ENCAPSED_STRING","'\/html\/body'",471],")",["T_OBJECT_OPERATOR","->",471],["T_STRING","item",471],"(",["T_LNUMBER","0",471],")",["T_OBJECT_OPERATOR","->",471],["T_STRING","childNodes",471],";",["T_WHITESPACE","\n\n        ",471],["T_VARIABLE","$outputFragments",473],["T_WHITESPACE"," ",473],"=",["T_WHITESPACE"," ",473],["T_ARRAY","array",473],"(",")",";",["T_WHITESPACE","\n        ",473],["T_FOR","for",474],["T_WHITESPACE"," ",474],"(",["T_VARIABLE","$count",474],["T_WHITESPACE"," ",474],"=",["T_WHITESPACE"," ",474],["T_LNUMBER","0",474],";",["T_WHITESPACE"," ",474],["T_VARIABLE","$count",474],["T_WHITESPACE"," ",474],"<",["T_WHITESPACE"," ",474],["T_VARIABLE","$bodyNodes",474],["T_OBJECT_OPERATOR","->",474],["T_STRING","length",474],";",["T_WHITESPACE"," ",474],["T_VARIABLE","$count",474],["T_INC","++",474],")",["T_WHITESPACE"," ",474],"{",["T_WHITESPACE","\n            ",474],["T_VARIABLE","$outputFragments",475],"[","]",["T_WHITESPACE"," ",475],"=",["T_WHITESPACE"," ",475],["T_VARIABLE","$this",475],["T_OBJECT_OPERATOR","->",475],["T_STRING","_doc",475],["T_OBJECT_OPERATOR","->",475],["T_STRING","saveXML",475],"(",["T_VARIABLE","$bodyNodes",475],["T_OBJECT_OPERATOR","->",475],["T_STRING","item",475],"(",["T_VARIABLE","$count",475],")",")",";",["T_WHITESPACE","\n        ",475],"}",["T_WHITESPACE","\n\n        ",476],["T_RETURN","return",478],["T_WHITESPACE"," ",478],["T_STRING","implode",478],"(",["T_VARIABLE","$outputFragments",478],")",";",["T_WHITESPACE","\n    ",478],"}",["T_WHITESPACE","\n",479],"}",["T_WHITESPACE","\n\n",480]]