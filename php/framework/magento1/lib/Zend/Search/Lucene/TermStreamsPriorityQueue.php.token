[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Zend Framework\n *\n * LICENSE\n *\n * This source file is subject to the new BSD license that is bundled\n * with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/framework.zend.com\/license\/new-bsd\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@zend.com so we can send you a copy immediately.\n *\n * @category   Zend\n * @package    Zend_Search_Lucene\n * @subpackage Index\n * @copyright  Copyright (c) 2005-2015 Zend Technologies USA Inc. (http:\/\/www.zend.com)\n * @license    http:\/\/framework.zend.com\/license\/new-bsd     New BSD License\n * @version    $Id$\n *\/",2],["T_WHITESPACE","\n\n",21],["T_DOC_COMMENT","\/** Zend_Search_Lucene_Index_TermsStream_Interface *\/",23],["T_WHITESPACE","\n",23],["T_COMMENT","#require_once 'Zend\/Search\/Lucene\/Index\/TermsStream\/Interface.php';\n",24],["T_WHITESPACE","\n\n",25],["T_DOC_COMMENT","\/**\n * @category   Zend\n * @package    Zend_Search_Lucene\n * @subpackage Index\n * @copyright  Copyright (c) 2005-2015 Zend Technologies USA Inc. (http:\/\/www.zend.com)\n * @license    http:\/\/framework.zend.com\/license\/new-bsd     New BSD License\n *\/",27],["T_WHITESPACE","\n",33],["T_CLASS","class",34],["T_WHITESPACE"," ",34],["T_STRING","Zend_Search_Lucene_TermStreamsPriorityQueue",34],["T_WHITESPACE"," ",34],["T_IMPLEMENTS","implements",34],["T_WHITESPACE"," ",34],["T_STRING","Zend_Search_Lucene_Index_TermsStream_Interface",34],["T_WHITESPACE","\n",34],"{",["T_WHITESPACE","\n    ",35],["T_DOC_COMMENT","\/**\n     * Array of term streams (Zend_Search_Lucene_Index_TermsStream_Interface objects)\n     *\n     * @var array\n     *\/",36],["T_WHITESPACE","\n    ",40],["T_PROTECTED","protected",41],["T_WHITESPACE"," ",41],["T_VARIABLE","$_termStreams",41],";",["T_WHITESPACE","\n\n    ",41],["T_DOC_COMMENT","\/**\n     * Terms stream queue\n     *\n     * @var Zend_Search_Lucene_Index_TermsPriorityQueue\n     *\/",43],["T_WHITESPACE","\n    ",47],["T_PROTECTED","protected",48],["T_WHITESPACE"," ",48],["T_VARIABLE","$_termsStreamQueue",48],["T_WHITESPACE"," ",48],"=",["T_WHITESPACE"," ",48],["T_STRING","null",48],";",["T_WHITESPACE","\n\n    ",48],["T_DOC_COMMENT","\/**\n     * Last Term in a terms stream\n     *\n     * @var Zend_Search_Lucene_Index_Term\n     *\/",50],["T_WHITESPACE","\n    ",54],["T_PROTECTED","protected",55],["T_WHITESPACE"," ",55],["T_VARIABLE","$_lastTerm",55],["T_WHITESPACE"," ",55],"=",["T_WHITESPACE"," ",55],["T_STRING","null",55],";",["T_WHITESPACE","\n\n\n    ",55],["T_DOC_COMMENT","\/**\n     * Object constructor\n     *\n     * @param array $termStreams  array of term streams (Zend_Search_Lucene_Index_TermsStream_Interface objects)\n     *\/",58],["T_WHITESPACE","\n    ",62],["T_PUBLIC","public",63],["T_WHITESPACE"," ",63],["T_FUNCTION","function",63],["T_WHITESPACE"," ",63],["T_STRING","__construct",63],"(",["T_ARRAY","array",63],["T_WHITESPACE"," ",63],["T_VARIABLE","$termStreams",63],")",["T_WHITESPACE","\n    ",63],"{",["T_WHITESPACE","\n        ",64],["T_VARIABLE","$this",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","_termStreams",65],["T_WHITESPACE"," ",65],"=",["T_WHITESPACE"," ",65],["T_VARIABLE","$termStreams",65],";",["T_WHITESPACE","\n\n        ",65],["T_VARIABLE","$this",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","resetTermsStream",67],"(",")",";",["T_WHITESPACE","\n    ",67],"}",["T_WHITESPACE","\n\n    ",68],["T_DOC_COMMENT","\/**\n     * Reset terms stream.\n     *\/",70],["T_WHITESPACE","\n    ",72],["T_PUBLIC","public",73],["T_WHITESPACE"," ",73],["T_FUNCTION","function",73],["T_WHITESPACE"," ",73],["T_STRING","resetTermsStream",73],"(",")",["T_WHITESPACE","\n    ",73],"{",["T_WHITESPACE","\n        ",74],["T_DOC_COMMENT","\/** Zend_Search_Lucene_Index_TermsPriorityQueue *\/",75],["T_WHITESPACE","\n        ",75],["T_COMMENT","#require_once 'Zend\/Search\/Lucene\/Index\/TermsPriorityQueue.php';\n",76],["T_WHITESPACE","\n        ",77],["T_VARIABLE","$this",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","_termsStreamQueue",78],["T_WHITESPACE"," ",78],"=",["T_WHITESPACE"," ",78],["T_NEW","new",78],["T_WHITESPACE"," ",78],["T_STRING","Zend_Search_Lucene_Index_TermsPriorityQueue",78],"(",")",";",["T_WHITESPACE","\n\n        ",78],["T_FOREACH","foreach",80],["T_WHITESPACE"," ",80],"(",["T_VARIABLE","$this",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","_termStreams",80],["T_WHITESPACE"," ",80],["T_AS","as",80],["T_WHITESPACE"," ",80],["T_VARIABLE","$termStream",80],")",["T_WHITESPACE"," ",80],"{",["T_WHITESPACE","\n            ",80],["T_VARIABLE","$termStream",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","resetTermsStream",81],"(",")",";",["T_WHITESPACE","\n\n            ",81],["T_COMMENT","\/\/ Skip \"empty\" containers\n",83],["T_WHITESPACE","            ",84],["T_IF","if",84],["T_WHITESPACE"," ",84],"(",["T_VARIABLE","$termStream",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","currentTerm",84],"(",")",["T_WHITESPACE"," ",84],["T_IS_NOT_IDENTICAL","!==",84],["T_WHITESPACE"," ",84],["T_STRING","null",84],")",["T_WHITESPACE"," ",84],"{",["T_WHITESPACE","\n                ",84],["T_VARIABLE","$this",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","_termsStreamQueue",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","put",85],"(",["T_VARIABLE","$termStream",85],")",";",["T_WHITESPACE","\n            ",85],"}",["T_WHITESPACE","\n        ",86],"}",["T_WHITESPACE","\n\n        ",87],["T_VARIABLE","$this",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","nextTerm",89],"(",")",";",["T_WHITESPACE","\n    ",89],"}",["T_WHITESPACE","\n\n    ",90],["T_DOC_COMMENT","\/**\n     * Skip terms stream up to the specified term preffix.\n     *\n     * Prefix contains fully specified field info and portion of searched term\n     *\n     * @param Zend_Search_Lucene_Index_Term $prefix\n     *\/",92],["T_WHITESPACE","\n    ",98],["T_PUBLIC","public",99],["T_WHITESPACE"," ",99],["T_FUNCTION","function",99],["T_WHITESPACE"," ",99],["T_STRING","skipTo",99],"(",["T_STRING","Zend_Search_Lucene_Index_Term",99],["T_WHITESPACE"," ",99],["T_VARIABLE","$prefix",99],")",["T_WHITESPACE","\n    ",99],"{",["T_WHITESPACE","\n        ",100],["T_VARIABLE","$this",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","_termsStreamQueue",101],["T_WHITESPACE"," ",101],"=",["T_WHITESPACE"," ",101],["T_NEW","new",101],["T_WHITESPACE"," ",101],["T_STRING","Zend_Search_Lucene_Index_TermsPriorityQueue",101],"(",")",";",["T_WHITESPACE","\n\n        ",101],["T_FOREACH","foreach",103],["T_WHITESPACE"," ",103],"(",["T_VARIABLE","$this",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","_termStreams",103],["T_WHITESPACE"," ",103],["T_AS","as",103],["T_WHITESPACE"," ",103],["T_VARIABLE","$termStream",103],")",["T_WHITESPACE"," ",103],"{",["T_WHITESPACE","\n            ",103],["T_VARIABLE","$termStream",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","skipTo",104],"(",["T_VARIABLE","$prefix",104],")",";",["T_WHITESPACE","\n\n            ",104],["T_IF","if",106],["T_WHITESPACE"," ",106],"(",["T_VARIABLE","$termStream",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","currentTerm",106],"(",")",["T_WHITESPACE"," ",106],["T_IS_NOT_IDENTICAL","!==",106],["T_WHITESPACE"," ",106],["T_STRING","null",106],")",["T_WHITESPACE"," ",106],"{",["T_WHITESPACE","\n                ",106],["T_VARIABLE","$this",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","_termsStreamQueue",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","put",107],"(",["T_VARIABLE","$termStream",107],")",";",["T_WHITESPACE","\n            ",107],"}",["T_WHITESPACE","\n        ",108],"}",["T_WHITESPACE","\n\n        ",109],["T_RETURN","return",111],["T_WHITESPACE"," ",111],["T_VARIABLE","$this",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","nextTerm",111],"(",")",";",["T_WHITESPACE","\n    ",111],"}",["T_WHITESPACE","\n\n    ",112],["T_DOC_COMMENT","\/**\n     * Scans term streams and returns next term\n     *\n     * @return Zend_Search_Lucene_Index_Term|null\n     *\/",114],["T_WHITESPACE","\n    ",118],["T_PUBLIC","public",119],["T_WHITESPACE"," ",119],["T_FUNCTION","function",119],["T_WHITESPACE"," ",119],["T_STRING","nextTerm",119],"(",")",["T_WHITESPACE","\n    ",119],"{",["T_WHITESPACE","\n        ",120],["T_WHILE","while",121],["T_WHITESPACE"," ",121],"(","(",["T_VARIABLE","$termStream",121],["T_WHITESPACE"," ",121],"=",["T_WHITESPACE"," ",121],["T_VARIABLE","$this",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","_termsStreamQueue",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","pop",121],"(",")",")",["T_WHITESPACE"," ",121],["T_IS_NOT_IDENTICAL","!==",121],["T_WHITESPACE"," ",121],["T_STRING","null",121],")",["T_WHITESPACE"," ",121],"{",["T_WHITESPACE","\n            ",121],["T_IF","if",122],["T_WHITESPACE"," ",122],"(",["T_VARIABLE","$this",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","_termsStreamQueue",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","top",122],"(",")",["T_WHITESPACE"," ",122],["T_IS_IDENTICAL","===",122],["T_WHITESPACE"," ",122],["T_STRING","null",122],["T_WHITESPACE"," ",122],["T_BOOLEAN_OR","||",122],["T_WHITESPACE","\n                ",122],["T_VARIABLE","$this",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","_termsStreamQueue",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","top",123],"(",")",["T_OBJECT_OPERATOR","->",123],["T_STRING","currentTerm",123],"(",")",["T_OBJECT_OPERATOR","->",123],["T_STRING","key",123],"(",")",["T_WHITESPACE"," ",123],["T_IS_NOT_EQUAL","!=",123],["T_WHITESPACE","\n                            ",123],["T_VARIABLE","$termStream",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","currentTerm",124],"(",")",["T_OBJECT_OPERATOR","->",124],["T_STRING","key",124],"(",")",")",["T_WHITESPACE"," ",124],"{",["T_WHITESPACE","\n                ",124],["T_COMMENT","\/\/ We got new term\n",125],["T_WHITESPACE","                ",126],["T_VARIABLE","$this",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","_lastTerm",126],["T_WHITESPACE"," ",126],"=",["T_WHITESPACE"," ",126],["T_VARIABLE","$termStream",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","currentTerm",126],"(",")",";",["T_WHITESPACE","\n\n                ",126],["T_IF","if",128],["T_WHITESPACE"," ",128],"(",["T_VARIABLE","$termStream",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","nextTerm",128],"(",")",["T_WHITESPACE"," ",128],["T_IS_NOT_IDENTICAL","!==",128],["T_WHITESPACE"," ",128],["T_STRING","null",128],")",["T_WHITESPACE"," ",128],"{",["T_WHITESPACE","\n                    ",128],["T_COMMENT","\/\/ Put segment back into the priority queue\n",129],["T_WHITESPACE","                    ",130],["T_VARIABLE","$this",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","_termsStreamQueue",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","put",130],"(",["T_VARIABLE","$termStream",130],")",";",["T_WHITESPACE","\n                ",130],"}",["T_WHITESPACE","\n\n                ",131],["T_RETURN","return",133],["T_WHITESPACE"," ",133],["T_VARIABLE","$this",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","_lastTerm",133],";",["T_WHITESPACE","\n            ",133],"}",["T_WHITESPACE","\n\n            ",134],["T_IF","if",136],["T_WHITESPACE"," ",136],"(",["T_VARIABLE","$termStream",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","nextTerm",136],"(",")",["T_WHITESPACE"," ",136],["T_IS_NOT_IDENTICAL","!==",136],["T_WHITESPACE"," ",136],["T_STRING","null",136],")",["T_WHITESPACE"," ",136],"{",["T_WHITESPACE","\n                ",136],["T_COMMENT","\/\/ Put segment back into the priority queue\n",137],["T_WHITESPACE","                ",138],["T_VARIABLE","$this",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","_termsStreamQueue",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","put",138],"(",["T_VARIABLE","$termStream",138],")",";",["T_WHITESPACE","\n            ",138],"}",["T_WHITESPACE","\n        ",139],"}",["T_WHITESPACE","\n\n        ",140],["T_COMMENT","\/\/ End of stream\n",142],["T_WHITESPACE","        ",143],["T_VARIABLE","$this",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","_lastTerm",143],["T_WHITESPACE"," ",143],"=",["T_WHITESPACE"," ",143],["T_STRING","null",143],";",["T_WHITESPACE","\n\n        ",143],["T_RETURN","return",145],["T_WHITESPACE"," ",145],["T_STRING","null",145],";",["T_WHITESPACE","\n    ",145],"}",["T_WHITESPACE","\n\n    ",146],["T_DOC_COMMENT","\/**\n     * Returns term in current position\n     *\n     * @return Zend_Search_Lucene_Index_Term|null\n     *\/",148],["T_WHITESPACE","\n    ",152],["T_PUBLIC","public",153],["T_WHITESPACE"," ",153],["T_FUNCTION","function",153],["T_WHITESPACE"," ",153],["T_STRING","currentTerm",153],"(",")",["T_WHITESPACE","\n    ",153],"{",["T_WHITESPACE","\n        ",154],["T_RETURN","return",155],["T_WHITESPACE"," ",155],["T_VARIABLE","$this",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","_lastTerm",155],";",["T_WHITESPACE","\n    ",155],"}",["T_WHITESPACE","\n\n    ",156],["T_DOC_COMMENT","\/**\n     * Close terms stream\n     *\n     * Should be used for resources clean up if stream is not read up to the end\n     *\/",158],["T_WHITESPACE","\n    ",162],["T_PUBLIC","public",163],["T_WHITESPACE"," ",163],["T_FUNCTION","function",163],["T_WHITESPACE"," ",163],["T_STRING","closeTermsStream",163],"(",")",["T_WHITESPACE","\n    ",163],"{",["T_WHITESPACE","\n        ",164],["T_WHILE","while",165],["T_WHITESPACE"," ",165],"(","(",["T_VARIABLE","$termStream",165],["T_WHITESPACE"," ",165],"=",["T_WHITESPACE"," ",165],["T_VARIABLE","$this",165],["T_OBJECT_OPERATOR","->",165],["T_STRING","_termsStreamQueue",165],["T_OBJECT_OPERATOR","->",165],["T_STRING","pop",165],"(",")",")",["T_WHITESPACE"," ",165],["T_IS_NOT_IDENTICAL","!==",165],["T_WHITESPACE"," ",165],["T_STRING","null",165],")",["T_WHITESPACE"," ",165],"{",["T_WHITESPACE","\n            ",165],["T_VARIABLE","$termStream",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","closeTermsStream",166],"(",")",";",["T_WHITESPACE","\n        ",166],"}",["T_WHITESPACE","\n\n        ",167],["T_VARIABLE","$this",169],["T_OBJECT_OPERATOR","->",169],["T_STRING","_termsStreamQueue",169],["T_WHITESPACE"," ",169],"=",["T_WHITESPACE"," ",169],["T_STRING","null",169],";",["T_WHITESPACE","\n        ",169],["T_VARIABLE","$this",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","_lastTerm",170],["T_WHITESPACE","         ",170],"=",["T_WHITESPACE"," ",170],["T_STRING","null",170],";",["T_WHITESPACE","\n    ",170],"}",["T_WHITESPACE","\n",171],"}",["T_WHITESPACE","\n",172]]