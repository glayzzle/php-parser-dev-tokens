[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Zend Framework\n *\n * LICENSE\n *\n * This source file is subject to the new BSD license that is bundled\n * with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/framework.zend.com\/license\/new-bsd\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@zend.com so we can send you a copy immediately.\n *\n * @category   Zend\n * @package    Zend_Search_Lucene\n * @subpackage Storage\n * @copyright  Copyright (c) 2005-2015 Zend Technologies USA Inc. (http:\/\/www.zend.com)\n * @license    http:\/\/framework.zend.com\/license\/new-bsd     New BSD License\n * @version    $Id$\n *\/",2],["T_WHITESPACE","\n\n\n",21],["T_DOC_COMMENT","\/** Zend_Search_Lucene_Storage_Directory *\/",24],["T_WHITESPACE","\n",24],["T_COMMENT","#require_once 'Zend\/Search\/Lucene\/Storage\/Directory.php';\n",25],["T_WHITESPACE","\n\n",26],["T_DOC_COMMENT","\/**\n * FileSystem implementation of Directory abstraction.\n *\n * @category   Zend\n * @package    Zend_Search_Lucene\n * @subpackage Storage\n * @copyright  Copyright (c) 2005-2015 Zend Technologies USA Inc. (http:\/\/www.zend.com)\n * @license    http:\/\/framework.zend.com\/license\/new-bsd     New BSD License\n *\/",28],["T_WHITESPACE","\n",36],["T_CLASS","class",37],["T_WHITESPACE"," ",37],["T_STRING","Zend_Search_Lucene_Storage_Directory_Filesystem",37],["T_WHITESPACE"," ",37],["T_EXTENDS","extends",37],["T_WHITESPACE"," ",37],["T_STRING","Zend_Search_Lucene_Storage_Directory",37],["T_WHITESPACE","\n",37],"{",["T_WHITESPACE","\n    ",38],["T_DOC_COMMENT","\/**\n     * Filesystem path to the directory\n     *\n     * @var string\n     *\/",39],["T_WHITESPACE","\n    ",43],["T_PROTECTED","protected",44],["T_WHITESPACE"," ",44],["T_VARIABLE","$_dirPath",44],["T_WHITESPACE"," ",44],"=",["T_WHITESPACE"," ",44],["T_STRING","null",44],";",["T_WHITESPACE","\n\n    ",44],["T_DOC_COMMENT","\/**\n     * Cache for Zend_Search_Lucene_Storage_File_Filesystem objects\n     * Array: filename => Zend_Search_Lucene_Storage_File object\n     *\n     * @var array\n     * @throws Zend_Search_Lucene_Exception\n     *\/",46],["T_WHITESPACE","\n    ",52],["T_PROTECTED","protected",53],["T_WHITESPACE"," ",53],["T_VARIABLE","$_fileHandlers",53],";",["T_WHITESPACE","\n\n    ",53],["T_DOC_COMMENT","\/**\n     * Default file permissions\n     *\n     * @var integer\n     *\/",55],["T_WHITESPACE","\n    ",59],["T_PROTECTED","protected",60],["T_WHITESPACE"," ",60],["T_STATIC","static",60],["T_WHITESPACE"," ",60],["T_VARIABLE","$_defaultFilePermissions",60],["T_WHITESPACE"," ",60],"=",["T_WHITESPACE"," ",60],["T_LNUMBER","0666",60],";",["T_WHITESPACE","\n\n\n    ",60],["T_DOC_COMMENT","\/**\n     * Get default file permissions\n     *\n     * @return integer\n     *\/",63],["T_WHITESPACE","\n    ",67],["T_PUBLIC","public",68],["T_WHITESPACE"," ",68],["T_STATIC","static",68],["T_WHITESPACE"," ",68],["T_FUNCTION","function",68],["T_WHITESPACE"," ",68],["T_STRING","getDefaultFilePermissions",68],"(",")",["T_WHITESPACE","\n    ",68],"{",["T_WHITESPACE","\n        ",69],["T_RETURN","return",70],["T_WHITESPACE"," ",70],["T_STRING","self",70],["T_DOUBLE_COLON","::",70],["T_VARIABLE","$_defaultFilePermissions",70],";",["T_WHITESPACE","\n    ",70],"}",["T_WHITESPACE","\n\n    ",71],["T_DOC_COMMENT","\/**\n     * Set default file permissions\n     *\n     * @param integer $mode\n     *\/",73],["T_WHITESPACE","\n    ",77],["T_PUBLIC","public",78],["T_WHITESPACE"," ",78],["T_STATIC","static",78],["T_WHITESPACE"," ",78],["T_FUNCTION","function",78],["T_WHITESPACE"," ",78],["T_STRING","setDefaultFilePermissions",78],"(",["T_VARIABLE","$mode",78],")",["T_WHITESPACE","\n    ",78],"{",["T_WHITESPACE","\n        ",79],["T_STRING","self",80],["T_DOUBLE_COLON","::",80],["T_VARIABLE","$_defaultFilePermissions",80],["T_WHITESPACE"," ",80],"=",["T_WHITESPACE"," ",80],["T_VARIABLE","$mode",80],";",["T_WHITESPACE","\n    ",80],"}",["T_WHITESPACE","\n\n\n    ",81],["T_DOC_COMMENT","\/**\n     * Utility function to recursive directory creation\n     *\n     * @param string $dir\n     * @param integer $mode\n     * @param boolean $recursive\n     * @return boolean\n     *\/",84],["T_WHITESPACE","\n\n    ",91],["T_PUBLIC","public",93],["T_WHITESPACE"," ",93],["T_STATIC","static",93],["T_WHITESPACE"," ",93],["T_FUNCTION","function",93],["T_WHITESPACE"," ",93],["T_STRING","mkdirs",93],"(",["T_VARIABLE","$dir",93],",",["T_WHITESPACE"," ",93],["T_VARIABLE","$mode",93],["T_WHITESPACE"," ",93],"=",["T_WHITESPACE"," ",93],["T_LNUMBER","0775",93],",",["T_WHITESPACE"," ",93],["T_VARIABLE","$recursive",93],["T_WHITESPACE"," ",93],"=",["T_WHITESPACE"," ",93],["T_STRING","true",93],")",["T_WHITESPACE","\n    ",93],"{",["T_WHITESPACE","\n        ",94],["T_VARIABLE","$mode",95],["T_WHITESPACE"," ",95],"=",["T_WHITESPACE"," ",95],["T_VARIABLE","$mode",95],["T_WHITESPACE"," ",95],"&",["T_WHITESPACE"," ",95],"~",["T_LNUMBER","0002",95],";",["T_WHITESPACE","\n\n        ",95],["T_IF","if",97],["T_WHITESPACE"," ",97],"(","(",["T_VARIABLE","$dir",97],["T_WHITESPACE"," ",97],["T_IS_IDENTICAL","===",97],["T_WHITESPACE"," ",97],["T_STRING","null",97],")",["T_WHITESPACE"," ",97],["T_BOOLEAN_OR","||",97],["T_WHITESPACE"," ",97],["T_VARIABLE","$dir",97],["T_WHITESPACE"," ",97],["T_IS_IDENTICAL","===",97],["T_WHITESPACE"," ",97],["T_CONSTANT_ENCAPSED_STRING","''",97],")",["T_WHITESPACE"," ",97],"{",["T_WHITESPACE","\n            ",97],["T_RETURN","return",98],["T_WHITESPACE"," ",98],["T_STRING","false",98],";",["T_WHITESPACE","\n        ",98],"}",["T_WHITESPACE","\n        ",99],["T_IF","if",100],["T_WHITESPACE"," ",100],"(",["T_STRING","is_dir",100],"(",["T_VARIABLE","$dir",100],")",["T_WHITESPACE"," ",100],["T_BOOLEAN_OR","||",100],["T_WHITESPACE"," ",100],["T_VARIABLE","$dir",100],["T_WHITESPACE"," ",100],["T_IS_IDENTICAL","===",100],["T_WHITESPACE"," ",100],["T_CONSTANT_ENCAPSED_STRING","'\/'",100],")",["T_WHITESPACE"," ",100],"{",["T_WHITESPACE","\n            ",100],["T_RETURN","return",101],["T_WHITESPACE"," ",101],["T_STRING","true",101],";",["T_WHITESPACE","\n        ",101],"}",["T_WHITESPACE","\n        ",102],["T_IF","if",103],["T_WHITESPACE"," ",103],"(",["T_STRING","self",103],["T_DOUBLE_COLON","::",103],["T_STRING","mkdirs",103],"(",["T_STRING","dirname",103],"(",["T_VARIABLE","$dir",103],")",",",["T_WHITESPACE"," ",103],["T_VARIABLE","$mode",103],",",["T_WHITESPACE"," ",103],["T_VARIABLE","$recursive",103],")",")",["T_WHITESPACE"," ",103],"{",["T_WHITESPACE","\n            ",103],["T_RETURN","return",104],["T_WHITESPACE"," ",104],["T_STRING","mkdir",104],"(",["T_VARIABLE","$dir",104],",",["T_WHITESPACE"," ",104],["T_VARIABLE","$mode",104],")",";",["T_WHITESPACE","\n        ",104],"}",["T_WHITESPACE","\n        ",105],["T_RETURN","return",106],["T_WHITESPACE"," ",106],["T_STRING","false",106],";",["T_WHITESPACE","\n    ",106],"}",["T_WHITESPACE","\n\n\n    ",107],["T_DOC_COMMENT","\/**\n     * Object constructor\n     * Checks if $path is a directory or tries to create it.\n     *\n     * @param string $path\n     * @throws Zend_Search_Lucene_Exception\n     *\/",110],["T_WHITESPACE","\n    ",116],["T_PUBLIC","public",117],["T_WHITESPACE"," ",117],["T_FUNCTION","function",117],["T_WHITESPACE"," ",117],["T_STRING","__construct",117],"(",["T_VARIABLE","$path",117],")",["T_WHITESPACE","\n    ",117],"{",["T_WHITESPACE","\n        ",118],["T_IF","if",119],["T_WHITESPACE"," ",119],"(","!",["T_STRING","is_dir",119],"(",["T_VARIABLE","$path",119],")",")",["T_WHITESPACE"," ",119],"{",["T_WHITESPACE","\n            ",119],["T_IF","if",120],["T_WHITESPACE"," ",120],"(",["T_STRING","file_exists",120],"(",["T_VARIABLE","$path",120],")",")",["T_WHITESPACE"," ",120],"{",["T_WHITESPACE","\n                ",120],["T_COMMENT","#require_once 'Zend\/Search\/Lucene\/Exception.php';\n",121],["T_WHITESPACE","                ",122],["T_THROW","throw",122],["T_WHITESPACE"," ",122],["T_NEW","new",122],["T_WHITESPACE"," ",122],["T_STRING","Zend_Search_Lucene_Exception",122],"(",["T_CONSTANT_ENCAPSED_STRING","'Path exists, but it\\'s not a directory'",122],")",";",["T_WHITESPACE","\n            ",122],"}",["T_WHITESPACE"," ",123],["T_ELSE","else",123],["T_WHITESPACE"," ",123],"{",["T_WHITESPACE","\n                ",123],["T_IF","if",124],["T_WHITESPACE"," ",124],"(","!",["T_STRING","self",124],["T_DOUBLE_COLON","::",124],["T_STRING","mkdirs",124],"(",["T_VARIABLE","$path",124],")",")",["T_WHITESPACE"," ",124],"{",["T_WHITESPACE","\n                    ",124],["T_COMMENT","#require_once 'Zend\/Search\/Lucene\/Exception.php';\n",125],["T_WHITESPACE","                    ",126],["T_THROW","throw",126],["T_WHITESPACE"," ",126],["T_NEW","new",126],["T_WHITESPACE"," ",126],["T_STRING","Zend_Search_Lucene_Exception",126],"(","\"",["T_ENCAPSED_AND_WHITESPACE","Can't create directory '",126],["T_VARIABLE","$path",126],["T_ENCAPSED_AND_WHITESPACE","'.",126],"\"",")",";",["T_WHITESPACE","\n                ",126],"}",["T_WHITESPACE","\n            ",127],"}",["T_WHITESPACE","\n        ",128],"}",["T_WHITESPACE","\n        ",129],["T_VARIABLE","$this",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","_dirPath",130],["T_WHITESPACE"," ",130],"=",["T_WHITESPACE"," ",130],["T_VARIABLE","$path",130],";",["T_WHITESPACE","\n        ",130],["T_VARIABLE","$this",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","_fileHandlers",131],["T_WHITESPACE"," ",131],"=",["T_WHITESPACE"," ",131],["T_ARRAY","array",131],"(",")",";",["T_WHITESPACE","\n    ",131],"}",["T_WHITESPACE","\n\n\n    ",132],["T_DOC_COMMENT","\/**\n     * Closes the store.\n     *\n     * @return void\n     *\/",135],["T_WHITESPACE","\n    ",139],["T_PUBLIC","public",140],["T_WHITESPACE"," ",140],["T_FUNCTION","function",140],["T_WHITESPACE"," ",140],["T_STRING","close",140],"(",")",["T_WHITESPACE","\n    ",140],"{",["T_WHITESPACE","\n        ",141],["T_FOREACH","foreach",142],["T_WHITESPACE"," ",142],"(",["T_VARIABLE","$this",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","_fileHandlers",142],["T_WHITESPACE"," ",142],["T_AS","as",142],["T_WHITESPACE"," ",142],["T_VARIABLE","$fileObject",142],")",["T_WHITESPACE"," ",142],"{",["T_WHITESPACE","\n            ",142],["T_VARIABLE","$fileObject",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","close",143],"(",")",";",["T_WHITESPACE","\n        ",143],"}",["T_WHITESPACE","\n\n        ",144],["T_VARIABLE","$this",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","_fileHandlers",146],["T_WHITESPACE"," ",146],"=",["T_WHITESPACE"," ",146],["T_ARRAY","array",146],"(",")",";",["T_WHITESPACE","\n    ",146],"}",["T_WHITESPACE","\n\n\n    ",147],["T_DOC_COMMENT","\/**\n     * Returns an array of strings, one for each file in the directory.\n     *\n     * @return array\n     *\/",150],["T_WHITESPACE","\n    ",154],["T_PUBLIC","public",155],["T_WHITESPACE"," ",155],["T_FUNCTION","function",155],["T_WHITESPACE"," ",155],["T_STRING","fileList",155],"(",")",["T_WHITESPACE","\n    ",155],"{",["T_WHITESPACE","\n        ",156],["T_VARIABLE","$result",157],["T_WHITESPACE"," ",157],"=",["T_WHITESPACE"," ",157],["T_ARRAY","array",157],"(",")",";",["T_WHITESPACE","\n\n        ",157],["T_VARIABLE","$dirContent",159],["T_WHITESPACE"," ",159],"=",["T_WHITESPACE"," ",159],["T_STRING","opendir",159],"(",["T_WHITESPACE"," ",159],["T_VARIABLE","$this",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","_dirPath",159],["T_WHITESPACE"," ",159],")",";",["T_WHITESPACE","\n        ",159],["T_WHILE","while",160],["T_WHITESPACE"," ",160],"(","(",["T_VARIABLE","$file",160],["T_WHITESPACE"," ",160],"=",["T_WHITESPACE"," ",160],["T_STRING","readdir",160],"(",["T_VARIABLE","$dirContent",160],")",")",["T_WHITESPACE"," ",160],["T_IS_NOT_IDENTICAL","!==",160],["T_WHITESPACE"," ",160],["T_STRING","false",160],")",["T_WHITESPACE"," ",160],"{",["T_WHITESPACE","\n            ",160],["T_IF","if",161],["T_WHITESPACE"," ",161],"(","(",["T_VARIABLE","$file",161],["T_WHITESPACE"," ",161],["T_IS_EQUAL","==",161],["T_WHITESPACE"," ",161],["T_CONSTANT_ENCAPSED_STRING","'..'",161],")",["T_BOOLEAN_OR","||",161],"(",["T_VARIABLE","$file",161],["T_WHITESPACE"," ",161],["T_IS_EQUAL","==",161],["T_WHITESPACE"," ",161],["T_CONSTANT_ENCAPSED_STRING","'.'",161],")",")",["T_WHITESPACE","   ",161],["T_CONTINUE","continue",161],";",["T_WHITESPACE","\n\n            ",161],["T_IF","if",163],"(",["T_WHITESPACE"," ",163],"!",["T_STRING","is_dir",163],"(",["T_VARIABLE","$this",163],["T_OBJECT_OPERATOR","->",163],["T_STRING","_dirPath",163],["T_WHITESPACE"," ",163],".",["T_WHITESPACE"," ",163],["T_CONSTANT_ENCAPSED_STRING","'\/'",163],["T_WHITESPACE"," ",163],".",["T_WHITESPACE"," ",163],["T_VARIABLE","$file",163],")",["T_WHITESPACE"," ",163],")",["T_WHITESPACE"," ",163],"{",["T_WHITESPACE","\n                ",163],["T_VARIABLE","$result",164],"[","]",["T_WHITESPACE"," ",164],"=",["T_WHITESPACE"," ",164],["T_VARIABLE","$file",164],";",["T_WHITESPACE","\n            ",164],"}",["T_WHITESPACE","\n        ",165],"}",["T_WHITESPACE","\n        ",166],["T_STRING","closedir",167],"(",["T_VARIABLE","$dirContent",167],")",";",["T_WHITESPACE","\n\n        ",167],["T_RETURN","return",169],["T_WHITESPACE"," ",169],["T_VARIABLE","$result",169],";",["T_WHITESPACE","\n    ",169],"}",["T_WHITESPACE","\n\n    ",170],["T_DOC_COMMENT","\/**\n     * Creates a new, empty file in the directory with the given $filename.\n     *\n     * @param string $filename\n     * @return Zend_Search_Lucene_Storage_File\n     * @throws Zend_Search_Lucene_Exception\n     *\/",172],["T_WHITESPACE","\n    ",178],["T_PUBLIC","public",179],["T_WHITESPACE"," ",179],["T_FUNCTION","function",179],["T_WHITESPACE"," ",179],["T_STRING","createFile",179],"(",["T_VARIABLE","$filename",179],")",["T_WHITESPACE","\n    ",179],"{",["T_WHITESPACE","\n        ",180],["T_IF","if",181],["T_WHITESPACE"," ",181],"(",["T_ISSET","isset",181],"(",["T_VARIABLE","$this",181],["T_OBJECT_OPERATOR","->",181],["T_STRING","_fileHandlers",181],"[",["T_VARIABLE","$filename",181],"]",")",")",["T_WHITESPACE"," ",181],"{",["T_WHITESPACE","\n            ",181],["T_VARIABLE","$this",182],["T_OBJECT_OPERATOR","->",182],["T_STRING","_fileHandlers",182],"[",["T_VARIABLE","$filename",182],"]",["T_OBJECT_OPERATOR","->",182],["T_STRING","close",182],"(",")",";",["T_WHITESPACE","\n        ",182],"}",["T_WHITESPACE","\n        ",183],["T_UNSET","unset",184],"(",["T_VARIABLE","$this",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","_fileHandlers",184],"[",["T_VARIABLE","$filename",184],"]",")",";",["T_WHITESPACE","\n        ",184],["T_COMMENT","#require_once 'Zend\/Search\/Lucene\/Storage\/File\/Filesystem.php';\n",185],["T_WHITESPACE","        ",186],["T_VARIABLE","$this",186],["T_OBJECT_OPERATOR","->",186],["T_STRING","_fileHandlers",186],"[",["T_VARIABLE","$filename",186],"]",["T_WHITESPACE"," ",186],"=",["T_WHITESPACE"," ",186],["T_NEW","new",186],["T_WHITESPACE"," ",186],["T_STRING","Zend_Search_Lucene_Storage_File_Filesystem",186],"(",["T_VARIABLE","$this",186],["T_OBJECT_OPERATOR","->",186],["T_STRING","_dirPath",186],["T_WHITESPACE"," ",186],".",["T_WHITESPACE"," ",186],["T_CONSTANT_ENCAPSED_STRING","'\/'",186],["T_WHITESPACE"," ",186],".",["T_WHITESPACE"," ",186],["T_VARIABLE","$filename",186],",",["T_WHITESPACE"," ",186],["T_CONSTANT_ENCAPSED_STRING","'w+b'",186],")",";",["T_WHITESPACE","\n\n        ",186],["T_COMMENT","\/\/ Set file permissions, but don't care about any possible failures, since file may be already\n",188],["T_WHITESPACE","        ",189],["T_COMMENT","\/\/ created by anther user which has to care about right permissions\n",189],["T_WHITESPACE","        ",190],"@",["T_STRING","chmod",190],"(",["T_VARIABLE","$this",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","_dirPath",190],["T_WHITESPACE"," ",190],".",["T_WHITESPACE"," ",190],["T_CONSTANT_ENCAPSED_STRING","'\/'",190],["T_WHITESPACE"," ",190],".",["T_WHITESPACE"," ",190],["T_VARIABLE","$filename",190],",",["T_WHITESPACE"," ",190],["T_STRING","self",190],["T_DOUBLE_COLON","::",190],["T_VARIABLE","$_defaultFilePermissions",190],")",";",["T_WHITESPACE","\n\n        ",190],["T_RETURN","return",192],["T_WHITESPACE"," ",192],["T_VARIABLE","$this",192],["T_OBJECT_OPERATOR","->",192],["T_STRING","_fileHandlers",192],"[",["T_VARIABLE","$filename",192],"]",";",["T_WHITESPACE","\n    ",192],"}",["T_WHITESPACE","\n\n\n    ",193],["T_DOC_COMMENT","\/**\n     * Removes an existing $filename in the directory.\n     *\n     * @param string $filename\n     * @return void\n     * @throws Zend_Search_Lucene_Exception\n     *\/",196],["T_WHITESPACE","\n    ",202],["T_PUBLIC","public",203],["T_WHITESPACE"," ",203],["T_FUNCTION","function",203],["T_WHITESPACE"," ",203],["T_STRING","deleteFile",203],"(",["T_VARIABLE","$filename",203],")",["T_WHITESPACE","\n    ",203],"{",["T_WHITESPACE","\n        ",204],["T_IF","if",205],["T_WHITESPACE"," ",205],"(",["T_ISSET","isset",205],"(",["T_VARIABLE","$this",205],["T_OBJECT_OPERATOR","->",205],["T_STRING","_fileHandlers",205],"[",["T_VARIABLE","$filename",205],"]",")",")",["T_WHITESPACE"," ",205],"{",["T_WHITESPACE","\n            ",205],["T_VARIABLE","$this",206],["T_OBJECT_OPERATOR","->",206],["T_STRING","_fileHandlers",206],"[",["T_VARIABLE","$filename",206],"]",["T_OBJECT_OPERATOR","->",206],["T_STRING","close",206],"(",")",";",["T_WHITESPACE","\n        ",206],"}",["T_WHITESPACE","\n        ",207],["T_UNSET","unset",208],"(",["T_VARIABLE","$this",208],["T_OBJECT_OPERATOR","->",208],["T_STRING","_fileHandlers",208],"[",["T_VARIABLE","$filename",208],"]",")",";",["T_WHITESPACE","\n\n        ",208],["T_GLOBAL","global",210],["T_WHITESPACE"," ",210],["T_VARIABLE","$php_errormsg",210],";",["T_WHITESPACE","\n        ",210],["T_VARIABLE","$trackErrors",211],["T_WHITESPACE"," ",211],"=",["T_WHITESPACE"," ",211],["T_STRING","ini_get",211],"(",["T_CONSTANT_ENCAPSED_STRING","'track_errors'",211],")",";",["T_WHITESPACE","\n        ",211],["T_STRING","ini_set",212],"(",["T_CONSTANT_ENCAPSED_STRING","'track_errors'",212],",",["T_WHITESPACE"," ",212],["T_CONSTANT_ENCAPSED_STRING","'1'",212],")",";",["T_WHITESPACE","\n        ",212],["T_IF","if",213],["T_WHITESPACE"," ",213],"(","!","@",["T_STRING","unlink",213],"(",["T_VARIABLE","$this",213],["T_OBJECT_OPERATOR","->",213],["T_STRING","_dirPath",213],["T_WHITESPACE"," ",213],".",["T_WHITESPACE"," ",213],["T_CONSTANT_ENCAPSED_STRING","'\/'",213],["T_WHITESPACE"," ",213],".",["T_WHITESPACE"," ",213],["T_VARIABLE","$filename",213],")",")",["T_WHITESPACE"," ",213],"{",["T_WHITESPACE","\n            ",213],["T_STRING","ini_set",214],"(",["T_CONSTANT_ENCAPSED_STRING","'track_errors'",214],",",["T_WHITESPACE"," ",214],["T_VARIABLE","$trackErrors",214],")",";",["T_WHITESPACE","\n            ",214],["T_COMMENT","#require_once 'Zend\/Search\/Lucene\/Exception.php';\n",215],["T_WHITESPACE","            ",216],["T_THROW","throw",216],["T_WHITESPACE"," ",216],["T_NEW","new",216],["T_WHITESPACE"," ",216],["T_STRING","Zend_Search_Lucene_Exception",216],"(",["T_CONSTANT_ENCAPSED_STRING","'Can\\'t delete file: '",216],["T_WHITESPACE"," ",216],".",["T_WHITESPACE"," ",216],["T_VARIABLE","$php_errormsg",216],")",";",["T_WHITESPACE","\n        ",216],"}",["T_WHITESPACE","\n        ",217],["T_STRING","ini_set",218],"(",["T_CONSTANT_ENCAPSED_STRING","'track_errors'",218],",",["T_WHITESPACE"," ",218],["T_VARIABLE","$trackErrors",218],")",";",["T_WHITESPACE","\n    ",218],"}",["T_WHITESPACE","\n\n    ",219],["T_DOC_COMMENT","\/**\n     * Purge file if it's cached by directory object\n     *\n     * Method is used to prevent 'too many open files' error\n     *\n     * @param string $filename\n     * @return void\n     *\/",221],["T_WHITESPACE","\n    ",228],["T_PUBLIC","public",229],["T_WHITESPACE"," ",229],["T_FUNCTION","function",229],["T_WHITESPACE"," ",229],["T_STRING","purgeFile",229],"(",["T_VARIABLE","$filename",229],")",["T_WHITESPACE","\n    ",229],"{",["T_WHITESPACE","\n        ",230],["T_IF","if",231],["T_WHITESPACE"," ",231],"(",["T_ISSET","isset",231],"(",["T_VARIABLE","$this",231],["T_OBJECT_OPERATOR","->",231],["T_STRING","_fileHandlers",231],"[",["T_VARIABLE","$filename",231],"]",")",")",["T_WHITESPACE"," ",231],"{",["T_WHITESPACE","\n            ",231],["T_VARIABLE","$this",232],["T_OBJECT_OPERATOR","->",232],["T_STRING","_fileHandlers",232],"[",["T_VARIABLE","$filename",232],"]",["T_OBJECT_OPERATOR","->",232],["T_STRING","close",232],"(",")",";",["T_WHITESPACE","\n        ",232],"}",["T_WHITESPACE","\n        ",233],["T_UNSET","unset",234],"(",["T_VARIABLE","$this",234],["T_OBJECT_OPERATOR","->",234],["T_STRING","_fileHandlers",234],"[",["T_VARIABLE","$filename",234],"]",")",";",["T_WHITESPACE","\n    ",234],"}",["T_WHITESPACE","\n\n\n    ",235],["T_DOC_COMMENT","\/**\n     * Returns true if a file with the given $filename exists.\n     *\n     * @param string $filename\n     * @return boolean\n     *\/",238],["T_WHITESPACE","\n    ",243],["T_PUBLIC","public",244],["T_WHITESPACE"," ",244],["T_FUNCTION","function",244],["T_WHITESPACE"," ",244],["T_STRING","fileExists",244],"(",["T_VARIABLE","$filename",244],")",["T_WHITESPACE","\n    ",244],"{",["T_WHITESPACE","\n        ",245],["T_RETURN","return",246],["T_WHITESPACE"," ",246],["T_ISSET","isset",246],"(",["T_VARIABLE","$this",246],["T_OBJECT_OPERATOR","->",246],["T_STRING","_fileHandlers",246],"[",["T_VARIABLE","$filename",246],"]",")",["T_WHITESPACE"," ",246],["T_BOOLEAN_OR","||",246],["T_WHITESPACE","\n               ",246],["T_STRING","file_exists",247],"(",["T_VARIABLE","$this",247],["T_OBJECT_OPERATOR","->",247],["T_STRING","_dirPath",247],["T_WHITESPACE"," ",247],".",["T_WHITESPACE"," ",247],["T_CONSTANT_ENCAPSED_STRING","'\/'",247],["T_WHITESPACE"," ",247],".",["T_WHITESPACE"," ",247],["T_VARIABLE","$filename",247],")",";",["T_WHITESPACE","\n    ",247],"}",["T_WHITESPACE","\n\n\n    ",248],["T_DOC_COMMENT","\/**\n     * Returns the length of a $filename in the directory.\n     *\n     * @param string $filename\n     * @return integer\n     *\/",251],["T_WHITESPACE","\n    ",256],["T_PUBLIC","public",257],["T_WHITESPACE"," ",257],["T_FUNCTION","function",257],["T_WHITESPACE"," ",257],["T_STRING","fileLength",257],"(",["T_VARIABLE","$filename",257],")",["T_WHITESPACE","\n    ",257],"{",["T_WHITESPACE","\n        ",258],["T_IF","if",259],["T_WHITESPACE"," ",259],"(",["T_ISSET","isset",259],"(",["T_WHITESPACE"," ",259],["T_VARIABLE","$this",259],["T_OBJECT_OPERATOR","->",259],["T_STRING","_fileHandlers",259],"[",["T_VARIABLE","$filename",259],"]",["T_WHITESPACE"," ",259],")",")",["T_WHITESPACE"," ",259],"{",["T_WHITESPACE","\n            ",259],["T_RETURN","return",260],["T_WHITESPACE"," ",260],["T_VARIABLE","$this",260],["T_OBJECT_OPERATOR","->",260],["T_STRING","_fileHandlers",260],"[",["T_VARIABLE","$filename",260],"]",["T_OBJECT_OPERATOR","->",260],["T_STRING","size",260],"(",")",";",["T_WHITESPACE","\n        ",260],"}",["T_WHITESPACE","\n        ",261],["T_RETURN","return",262],["T_WHITESPACE"," ",262],["T_STRING","filesize",262],"(",["T_VARIABLE","$this",262],["T_OBJECT_OPERATOR","->",262],["T_STRING","_dirPath",262],["T_WHITESPACE"," ",262],".",["T_CONSTANT_ENCAPSED_STRING","'\/'",262],".",["T_WHITESPACE"," ",262],["T_VARIABLE","$filename",262],")",";",["T_WHITESPACE","\n    ",262],"}",["T_WHITESPACE","\n\n\n    ",263],["T_DOC_COMMENT","\/**\n     * Returns the UNIX timestamp $filename was last modified.\n     *\n     * @param string $filename\n     * @return integer\n     *\/",266],["T_WHITESPACE","\n    ",271],["T_PUBLIC","public",272],["T_WHITESPACE"," ",272],["T_FUNCTION","function",272],["T_WHITESPACE"," ",272],["T_STRING","fileModified",272],"(",["T_VARIABLE","$filename",272],")",["T_WHITESPACE","\n    ",272],"{",["T_WHITESPACE","\n        ",273],["T_RETURN","return",274],["T_WHITESPACE"," ",274],["T_STRING","filemtime",274],"(",["T_VARIABLE","$this",274],["T_OBJECT_OPERATOR","->",274],["T_STRING","_dirPath",274],["T_WHITESPACE"," ",274],".",["T_CONSTANT_ENCAPSED_STRING","'\/'",274],".",["T_WHITESPACE"," ",274],["T_VARIABLE","$filename",274],")",";",["T_WHITESPACE","\n    ",274],"}",["T_WHITESPACE","\n\n\n    ",275],["T_DOC_COMMENT","\/**\n     * Renames an existing file in the directory.\n     *\n     * @param string $from\n     * @param string $to\n     * @return void\n     * @throws Zend_Search_Lucene_Exception\n     *\/",278],["T_WHITESPACE","\n    ",285],["T_PUBLIC","public",286],["T_WHITESPACE"," ",286],["T_FUNCTION","function",286],["T_WHITESPACE"," ",286],["T_STRING","renameFile",286],"(",["T_VARIABLE","$from",286],",",["T_WHITESPACE"," ",286],["T_VARIABLE","$to",286],")",["T_WHITESPACE","\n    ",286],"{",["T_WHITESPACE","\n        ",287],["T_GLOBAL","global",288],["T_WHITESPACE"," ",288],["T_VARIABLE","$php_errormsg",288],";",["T_WHITESPACE","\n\n        ",288],["T_IF","if",290],["T_WHITESPACE"," ",290],"(",["T_ISSET","isset",290],"(",["T_VARIABLE","$this",290],["T_OBJECT_OPERATOR","->",290],["T_STRING","_fileHandlers",290],"[",["T_VARIABLE","$from",290],"]",")",")",["T_WHITESPACE"," ",290],"{",["T_WHITESPACE","\n            ",290],["T_VARIABLE","$this",291],["T_OBJECT_OPERATOR","->",291],["T_STRING","_fileHandlers",291],"[",["T_VARIABLE","$from",291],"]",["T_OBJECT_OPERATOR","->",291],["T_STRING","close",291],"(",")",";",["T_WHITESPACE","\n        ",291],"}",["T_WHITESPACE","\n        ",292],["T_UNSET","unset",293],"(",["T_VARIABLE","$this",293],["T_OBJECT_OPERATOR","->",293],["T_STRING","_fileHandlers",293],"[",["T_VARIABLE","$from",293],"]",")",";",["T_WHITESPACE","\n\n        ",293],["T_IF","if",295],["T_WHITESPACE"," ",295],"(",["T_ISSET","isset",295],"(",["T_VARIABLE","$this",295],["T_OBJECT_OPERATOR","->",295],["T_STRING","_fileHandlers",295],"[",["T_VARIABLE","$to",295],"]",")",")",["T_WHITESPACE"," ",295],"{",["T_WHITESPACE","\n            ",295],["T_VARIABLE","$this",296],["T_OBJECT_OPERATOR","->",296],["T_STRING","_fileHandlers",296],"[",["T_VARIABLE","$to",296],"]",["T_OBJECT_OPERATOR","->",296],["T_STRING","close",296],"(",")",";",["T_WHITESPACE","\n        ",296],"}",["T_WHITESPACE","\n        ",297],["T_UNSET","unset",298],"(",["T_VARIABLE","$this",298],["T_OBJECT_OPERATOR","->",298],["T_STRING","_fileHandlers",298],"[",["T_VARIABLE","$to",298],"]",")",";",["T_WHITESPACE","\n\n        ",298],["T_IF","if",300],["T_WHITESPACE"," ",300],"(",["T_STRING","file_exists",300],"(",["T_VARIABLE","$this",300],["T_OBJECT_OPERATOR","->",300],["T_STRING","_dirPath",300],["T_WHITESPACE"," ",300],".",["T_WHITESPACE"," ",300],["T_CONSTANT_ENCAPSED_STRING","'\/'",300],["T_WHITESPACE"," ",300],".",["T_WHITESPACE"," ",300],["T_VARIABLE","$to",300],")",")",["T_WHITESPACE"," ",300],"{",["T_WHITESPACE","\n            ",300],["T_IF","if",301],["T_WHITESPACE"," ",301],"(","!",["T_STRING","unlink",301],"(",["T_VARIABLE","$this",301],["T_OBJECT_OPERATOR","->",301],["T_STRING","_dirPath",301],["T_WHITESPACE"," ",301],".",["T_WHITESPACE"," ",301],["T_CONSTANT_ENCAPSED_STRING","'\/'",301],["T_WHITESPACE"," ",301],".",["T_WHITESPACE"," ",301],["T_VARIABLE","$to",301],")",")",["T_WHITESPACE"," ",301],"{",["T_WHITESPACE","\n                ",301],["T_COMMENT","#require_once 'Zend\/Search\/Lucene\/Exception.php';\n",302],["T_WHITESPACE","                ",303],["T_THROW","throw",303],["T_WHITESPACE"," ",303],["T_NEW","new",303],["T_WHITESPACE"," ",303],["T_STRING","Zend_Search_Lucene_Exception",303],"(",["T_CONSTANT_ENCAPSED_STRING","'Delete operation failed'",303],")",";",["T_WHITESPACE","\n            ",303],"}",["T_WHITESPACE","\n        ",304],"}",["T_WHITESPACE","\n\n        ",305],["T_VARIABLE","$trackErrors",307],["T_WHITESPACE"," ",307],"=",["T_WHITESPACE"," ",307],["T_STRING","ini_get",307],"(",["T_CONSTANT_ENCAPSED_STRING","'track_errors'",307],")",";",["T_WHITESPACE","\n        ",307],["T_STRING","ini_set",308],"(",["T_CONSTANT_ENCAPSED_STRING","'track_errors'",308],",",["T_WHITESPACE"," ",308],["T_CONSTANT_ENCAPSED_STRING","'1'",308],")",";",["T_WHITESPACE","\n\n        ",308],["T_VARIABLE","$success",310],["T_WHITESPACE"," ",310],"=",["T_WHITESPACE"," ",310],"@",["T_STRING","rename",310],"(",["T_VARIABLE","$this",310],["T_OBJECT_OPERATOR","->",310],["T_STRING","_dirPath",310],["T_WHITESPACE"," ",310],".",["T_WHITESPACE"," ",310],["T_CONSTANT_ENCAPSED_STRING","'\/'",310],["T_WHITESPACE"," ",310],".",["T_WHITESPACE"," ",310],["T_VARIABLE","$from",310],",",["T_WHITESPACE"," ",310],["T_VARIABLE","$this",310],["T_OBJECT_OPERATOR","->",310],["T_STRING","_dirPath",310],["T_WHITESPACE"," ",310],".",["T_WHITESPACE"," ",310],["T_CONSTANT_ENCAPSED_STRING","'\/'",310],["T_WHITESPACE"," ",310],".",["T_WHITESPACE"," ",310],["T_VARIABLE","$to",310],")",";",["T_WHITESPACE","\n        ",310],["T_IF","if",311],["T_WHITESPACE"," ",311],"(","!",["T_VARIABLE","$success",311],")",["T_WHITESPACE"," ",311],"{",["T_WHITESPACE","\n            ",311],["T_STRING","ini_set",312],"(",["T_CONSTANT_ENCAPSED_STRING","'track_errors'",312],",",["T_WHITESPACE"," ",312],["T_VARIABLE","$trackErrors",312],")",";",["T_WHITESPACE","\n            ",312],["T_COMMENT","#require_once 'Zend\/Search\/Lucene\/Exception.php';\n",313],["T_WHITESPACE","            ",314],["T_THROW","throw",314],["T_WHITESPACE"," ",314],["T_NEW","new",314],["T_WHITESPACE"," ",314],["T_STRING","Zend_Search_Lucene_Exception",314],"(",["T_VARIABLE","$php_errormsg",314],")",";",["T_WHITESPACE","\n        ",314],"}",["T_WHITESPACE","\n\n        ",315],["T_STRING","ini_set",317],"(",["T_CONSTANT_ENCAPSED_STRING","'track_errors'",317],",",["T_WHITESPACE"," ",317],["T_VARIABLE","$trackErrors",317],")",";",["T_WHITESPACE","\n\n        ",317],["T_RETURN","return",319],["T_WHITESPACE"," ",319],["T_VARIABLE","$success",319],";",["T_WHITESPACE","\n    ",319],"}",["T_WHITESPACE","\n\n\n    ",320],["T_DOC_COMMENT","\/**\n     * Sets the modified time of $filename to now.\n     *\n     * @param string $filename\n     * @return void\n     *\/",323],["T_WHITESPACE","\n    ",328],["T_PUBLIC","public",329],["T_WHITESPACE"," ",329],["T_FUNCTION","function",329],["T_WHITESPACE"," ",329],["T_STRING","touchFile",329],"(",["T_VARIABLE","$filename",329],")",["T_WHITESPACE","\n    ",329],"{",["T_WHITESPACE","\n        ",330],["T_RETURN","return",331],["T_WHITESPACE"," ",331],["T_STRING","touch",331],"(",["T_VARIABLE","$this",331],["T_OBJECT_OPERATOR","->",331],["T_STRING","_dirPath",331],["T_WHITESPACE"," ",331],".",["T_CONSTANT_ENCAPSED_STRING","'\/'",331],".",["T_WHITESPACE"," ",331],["T_VARIABLE","$filename",331],")",";",["T_WHITESPACE","\n    ",331],"}",["T_WHITESPACE","\n\n\n    ",332],["T_DOC_COMMENT","\/**\n     * Returns a Zend_Search_Lucene_Storage_File object for a given $filename in the directory.\n     *\n     * If $shareHandler option is true, then file handler can be shared between File Object\n     * requests. It speed-ups performance, but makes problems with file position.\n     * Shared handler are good for short atomic requests.\n     * Non-shared handlers are useful for stream file reading (especial for compound files).\n     *\n     * @param string $filename\n     * @param boolean $shareHandler\n     * @return Zend_Search_Lucene_Storage_File\n     *\/",335],["T_WHITESPACE","\n    ",346],["T_PUBLIC","public",347],["T_WHITESPACE"," ",347],["T_FUNCTION","function",347],["T_WHITESPACE"," ",347],["T_STRING","getFileObject",347],"(",["T_VARIABLE","$filename",347],",",["T_WHITESPACE"," ",347],["T_VARIABLE","$shareHandler",347],["T_WHITESPACE"," ",347],"=",["T_WHITESPACE"," ",347],["T_STRING","true",347],")",["T_WHITESPACE","\n    ",347],"{",["T_WHITESPACE","\n        ",348],["T_VARIABLE","$fullFilename",349],["T_WHITESPACE"," ",349],"=",["T_WHITESPACE"," ",349],["T_VARIABLE","$this",349],["T_OBJECT_OPERATOR","->",349],["T_STRING","_dirPath",349],["T_WHITESPACE"," ",349],".",["T_WHITESPACE"," ",349],["T_CONSTANT_ENCAPSED_STRING","'\/'",349],["T_WHITESPACE"," ",349],".",["T_WHITESPACE"," ",349],["T_VARIABLE","$filename",349],";",["T_WHITESPACE","\n\n        ",349],["T_COMMENT","#require_once 'Zend\/Search\/Lucene\/Storage\/File\/Filesystem.php';\n",351],["T_WHITESPACE","        ",352],["T_IF","if",352],["T_WHITESPACE"," ",352],"(","!",["T_VARIABLE","$shareHandler",352],")",["T_WHITESPACE"," ",352],"{",["T_WHITESPACE","\n            ",352],["T_RETURN","return",353],["T_WHITESPACE"," ",353],["T_NEW","new",353],["T_WHITESPACE"," ",353],["T_STRING","Zend_Search_Lucene_Storage_File_Filesystem",353],"(",["T_VARIABLE","$fullFilename",353],")",";",["T_WHITESPACE","\n        ",353],"}",["T_WHITESPACE","\n\n        ",354],["T_IF","if",356],["T_WHITESPACE"," ",356],"(",["T_ISSET","isset",356],"(",["T_WHITESPACE"," ",356],["T_VARIABLE","$this",356],["T_OBJECT_OPERATOR","->",356],["T_STRING","_fileHandlers",356],"[",["T_VARIABLE","$filename",356],"]",["T_WHITESPACE"," ",356],")",")",["T_WHITESPACE"," ",356],"{",["T_WHITESPACE","\n            ",356],["T_VARIABLE","$this",357],["T_OBJECT_OPERATOR","->",357],["T_STRING","_fileHandlers",357],"[",["T_VARIABLE","$filename",357],"]",["T_OBJECT_OPERATOR","->",357],["T_STRING","seek",357],"(",["T_LNUMBER","0",357],")",";",["T_WHITESPACE","\n            ",357],["T_RETURN","return",358],["T_WHITESPACE"," ",358],["T_VARIABLE","$this",358],["T_OBJECT_OPERATOR","->",358],["T_STRING","_fileHandlers",358],"[",["T_VARIABLE","$filename",358],"]",";",["T_WHITESPACE","\n        ",358],"}",["T_WHITESPACE","\n\n        ",359],["T_VARIABLE","$this",361],["T_OBJECT_OPERATOR","->",361],["T_STRING","_fileHandlers",361],"[",["T_VARIABLE","$filename",361],"]",["T_WHITESPACE"," ",361],"=",["T_WHITESPACE"," ",361],["T_NEW","new",361],["T_WHITESPACE"," ",361],["T_STRING","Zend_Search_Lucene_Storage_File_Filesystem",361],"(",["T_VARIABLE","$fullFilename",361],")",";",["T_WHITESPACE","\n        ",361],["T_RETURN","return",362],["T_WHITESPACE"," ",362],["T_VARIABLE","$this",362],["T_OBJECT_OPERATOR","->",362],["T_STRING","_fileHandlers",362],"[",["T_VARIABLE","$filename",362],"]",";",["T_WHITESPACE","\n    ",362],"}",["T_WHITESPACE","\n",363],"}",["T_WHITESPACE","\n",364]]