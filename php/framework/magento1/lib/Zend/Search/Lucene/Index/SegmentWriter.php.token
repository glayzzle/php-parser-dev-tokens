[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Zend Framework\n *\n * LICENSE\n *\n * This source file is subject to the new BSD license that is bundled\n * with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/framework.zend.com\/license\/new-bsd\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@zend.com so we can send you a copy immediately.\n *\n * @category   Zend\n * @package    Zend_Search_Lucene\n * @subpackage Index\n * @copyright  Copyright (c) 2005-2015 Zend Technologies USA Inc. (http:\/\/www.zend.com)\n * @license    http:\/\/framework.zend.com\/license\/new-bsd     New BSD License\n * @version    $Id$\n *\/",2],["T_WHITESPACE","\n\n\n",21],["T_DOC_COMMENT","\/** Zend_Search_Lucene_Index_FieldInfo *\/",24],["T_WHITESPACE","\n",24],["T_COMMENT","#require_once 'Zend\/Search\/Lucene\/Index\/FieldInfo.php';\n",25],["T_WHITESPACE","\n",26],["T_DOC_COMMENT","\/** Zend_Search_Lucene_Index_Term *\/",27],["T_WHITESPACE","\n",27],["T_COMMENT","#require_once 'Zend\/Search\/Lucene\/Index\/Term.php';\n",28],["T_WHITESPACE","\n",29],["T_DOC_COMMENT","\/** Zend_Search_Lucene_Index_TermInfo *\/",30],["T_WHITESPACE","\n",30],["T_COMMENT","#require_once 'Zend\/Search\/Lucene\/Index\/TermInfo.php';\n",31],["T_WHITESPACE","\n",32],["T_DOC_COMMENT","\/**\n * @category   Zend\n * @package    Zend_Search_Lucene\n * @subpackage Index\n * @copyright  Copyright (c) 2005-2015 Zend Technologies USA Inc. (http:\/\/www.zend.com)\n * @license    http:\/\/framework.zend.com\/license\/new-bsd     New BSD License\n *\/",33],["T_WHITESPACE","\n",39],["T_ABSTRACT","abstract",40],["T_WHITESPACE"," ",40],["T_CLASS","class",40],["T_WHITESPACE"," ",40],["T_STRING","Zend_Search_Lucene_Index_SegmentWriter",40],["T_WHITESPACE","\n",40],"{",["T_WHITESPACE","\n    ",41],["T_DOC_COMMENT","\/**\n     * Expert: The fraction of terms in the \"dictionary\" which should be stored\n     * in RAM.  Smaller values use more memory, but make searching slightly\n     * faster, while larger values use less memory and make searching slightly\n     * slower.  Searching is typically not dominated by dictionary lookup, so\n     * tweaking this is rarely useful.\n     *\n     * @var integer\n     *\/",42],["T_WHITESPACE","\n    ",50],["T_PUBLIC","public",51],["T_WHITESPACE"," ",51],["T_STATIC","static",51],["T_WHITESPACE"," ",51],["T_VARIABLE","$indexInterval",51],["T_WHITESPACE"," ",51],"=",["T_WHITESPACE"," ",51],["T_LNUMBER","128",51],";",["T_WHITESPACE","\n\n    ",51],["T_DOC_COMMENT","\/**\n     * Expert: The fraction of TermDocs entries stored in skip tables.\n     * Larger values result in smaller indexes, greater acceleration, but fewer\n     * accelerable cases, while smaller values result in bigger indexes,\n     * less acceleration and more\n     * accelerable cases. More detailed experiments would be useful here.\n     *\n     * 0x7FFFFFFF indicates that we don't use skip data\n     *\n     * Note: not used in current implementation\n     *\n     * @var integer\n     *\/",53],["T_WHITESPACE","\n    ",65],["T_PUBLIC","public",66],["T_WHITESPACE"," ",66],["T_STATIC","static",66],["T_WHITESPACE"," ",66],["T_VARIABLE","$skipInterval",66],["T_WHITESPACE"," ",66],"=",["T_WHITESPACE"," ",66],["T_LNUMBER","0x7FFFFFFF",66],";",["T_WHITESPACE","\n\n    ",66],["T_DOC_COMMENT","\/**\n     * Expert: The maximum number of skip levels. Smaller values result in\n     * slightly smaller indexes, but slower skipping in big posting lists.\n     *\n     * 0 indicates that we don't use skip data\n     *\n     * Note: not used in current implementation\n     *\n     * @var integer\n     *\/",68],["T_WHITESPACE","\n    ",77],["T_PUBLIC","public",78],["T_WHITESPACE"," ",78],["T_STATIC","static",78],["T_WHITESPACE"," ",78],["T_VARIABLE","$maxSkipLevels",78],["T_WHITESPACE"," ",78],"=",["T_WHITESPACE"," ",78],["T_LNUMBER","0",78],";",["T_WHITESPACE","\n\n    ",78],["T_DOC_COMMENT","\/**\n     * Number of docs in a segment\n     *\n     * @var integer\n     *\/",80],["T_WHITESPACE","\n    ",84],["T_PROTECTED","protected",85],["T_WHITESPACE"," ",85],["T_VARIABLE","$_docCount",85],["T_WHITESPACE"," ",85],"=",["T_WHITESPACE"," ",85],["T_LNUMBER","0",85],";",["T_WHITESPACE","\n\n    ",85],["T_DOC_COMMENT","\/**\n     * Segment name\n     *\n     * @var string\n     *\/",87],["T_WHITESPACE","\n    ",91],["T_PROTECTED","protected",92],["T_WHITESPACE"," ",92],["T_VARIABLE","$_name",92],";",["T_WHITESPACE","\n\n    ",92],["T_DOC_COMMENT","\/**\n     * File system adapter.\n     *\n     * @var Zend_Search_Lucene_Storage_Directory\n     *\/",94],["T_WHITESPACE","\n    ",98],["T_PROTECTED","protected",99],["T_WHITESPACE"," ",99],["T_VARIABLE","$_directory",99],";",["T_WHITESPACE","\n\n    ",99],["T_DOC_COMMENT","\/**\n     * List of the index files.\n     * Used for automatic compound file generation\n     *\n     * @var unknown_type\n     *\/",101],["T_WHITESPACE","\n    ",106],["T_PROTECTED","protected",107],["T_WHITESPACE"," ",107],["T_VARIABLE","$_files",107],["T_WHITESPACE"," ",107],"=",["T_WHITESPACE"," ",107],["T_ARRAY","array",107],"(",")",";",["T_WHITESPACE","\n\n    ",107],["T_DOC_COMMENT","\/**\n     * Segment fields. Array of Zend_Search_Lucene_Index_FieldInfo objects for this segment\n     *\n     * @var array\n     *\/",109],["T_WHITESPACE","\n    ",113],["T_PROTECTED","protected",114],["T_WHITESPACE"," ",114],["T_VARIABLE","$_fields",114],["T_WHITESPACE"," ",114],"=",["T_WHITESPACE"," ",114],["T_ARRAY","array",114],"(",")",";",["T_WHITESPACE","\n\n    ",114],["T_DOC_COMMENT","\/**\n     * Normalization factors.\n     * An array fieldName => normVector\n     * normVector is a binary string.\n     * Each byte corresponds to an indexed document in a segment and\n     * encodes normalization factor (float value, encoded by\n     * Zend_Search_Lucene_Search_Similarity::encodeNorm())\n     *\n     * @var array\n     *\/",116],["T_WHITESPACE","\n    ",125],["T_PROTECTED","protected",126],["T_WHITESPACE"," ",126],["T_VARIABLE","$_norms",126],["T_WHITESPACE"," ",126],"=",["T_WHITESPACE"," ",126],["T_ARRAY","array",126],"(",")",";",["T_WHITESPACE","\n\n\n    ",126],["T_DOC_COMMENT","\/**\n     * '.fdx'  file - Stored Fields, the field index.\n     *\n     * @var Zend_Search_Lucene_Storage_File\n     *\/",129],["T_WHITESPACE","\n    ",133],["T_PROTECTED","protected",134],["T_WHITESPACE"," ",134],["T_VARIABLE","$_fdxFile",134],["T_WHITESPACE"," ",134],"=",["T_WHITESPACE"," ",134],["T_STRING","null",134],";",["T_WHITESPACE","\n\n    ",134],["T_DOC_COMMENT","\/**\n     * '.fdt'  file - Stored Fields, the field data.\n     *\n     * @var Zend_Search_Lucene_Storage_File\n     *\/",136],["T_WHITESPACE","\n    ",140],["T_PROTECTED","protected",141],["T_WHITESPACE"," ",141],["T_VARIABLE","$_fdtFile",141],["T_WHITESPACE"," ",141],"=",["T_WHITESPACE"," ",141],["T_STRING","null",141],";",["T_WHITESPACE","\n\n\n    ",141],["T_DOC_COMMENT","\/**\n     * Object constructor.\n     *\n     * @param Zend_Search_Lucene_Storage_Directory $directory\n     * @param string $name\n     *\/",144],["T_WHITESPACE","\n    ",149],["T_PUBLIC","public",150],["T_WHITESPACE"," ",150],["T_FUNCTION","function",150],["T_WHITESPACE"," ",150],["T_STRING","__construct",150],"(",["T_STRING","Zend_Search_Lucene_Storage_Directory",150],["T_WHITESPACE"," ",150],["T_VARIABLE","$directory",150],",",["T_WHITESPACE"," ",150],["T_VARIABLE","$name",150],")",["T_WHITESPACE","\n    ",150],"{",["T_WHITESPACE","\n        ",151],["T_VARIABLE","$this",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","_directory",152],["T_WHITESPACE"," ",152],"=",["T_WHITESPACE"," ",152],["T_VARIABLE","$directory",152],";",["T_WHITESPACE","\n        ",152],["T_VARIABLE","$this",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","_name",153],["T_WHITESPACE","      ",153],"=",["T_WHITESPACE"," ",153],["T_VARIABLE","$name",153],";",["T_WHITESPACE","\n    ",153],"}",["T_WHITESPACE","\n\n\n    ",154],["T_DOC_COMMENT","\/**\n     * Add field to the segment\n     *\n     * Returns actual field number\n     *\n     * @param Zend_Search_Lucene_Field $field\n     * @return integer\n     *\/",157],["T_WHITESPACE","\n    ",164],["T_PUBLIC","public",165],["T_WHITESPACE"," ",165],["T_FUNCTION","function",165],["T_WHITESPACE"," ",165],["T_STRING","addField",165],"(",["T_STRING","Zend_Search_Lucene_Field",165],["T_WHITESPACE"," ",165],["T_VARIABLE","$field",165],")",["T_WHITESPACE","\n    ",165],"{",["T_WHITESPACE","\n        ",166],["T_IF","if",167],["T_WHITESPACE"," ",167],"(","!",["T_ISSET","isset",167],"(",["T_VARIABLE","$this",167],["T_OBJECT_OPERATOR","->",167],["T_STRING","_fields",167],"[",["T_VARIABLE","$field",167],["T_OBJECT_OPERATOR","->",167],["T_STRING","name",167],"]",")",")",["T_WHITESPACE"," ",167],"{",["T_WHITESPACE","\n            ",167],["T_VARIABLE","$fieldNumber",168],["T_WHITESPACE"," ",168],"=",["T_WHITESPACE"," ",168],["T_STRING","count",168],"(",["T_VARIABLE","$this",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","_fields",168],")",";",["T_WHITESPACE","\n            ",168],["T_VARIABLE","$this",169],["T_OBJECT_OPERATOR","->",169],["T_STRING","_fields",169],"[",["T_VARIABLE","$field",169],["T_OBJECT_OPERATOR","->",169],["T_STRING","name",169],"]",["T_WHITESPACE"," ",169],"=",["T_WHITESPACE","\n                                ",169],["T_NEW","new",170],["T_WHITESPACE"," ",170],["T_STRING","Zend_Search_Lucene_Index_FieldInfo",170],"(",["T_VARIABLE","$field",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","name",170],",",["T_WHITESPACE","\n                                                                       ",170],["T_VARIABLE","$field",171],["T_OBJECT_OPERATOR","->",171],["T_STRING","isIndexed",171],",",["T_WHITESPACE","\n                                                                       ",171],["T_VARIABLE","$fieldNumber",172],",",["T_WHITESPACE","\n                                                                       ",172],["T_VARIABLE","$field",173],["T_OBJECT_OPERATOR","->",173],["T_STRING","storeTermVector",173],")",";",["T_WHITESPACE","\n\n            ",173],["T_RETURN","return",175],["T_WHITESPACE"," ",175],["T_VARIABLE","$fieldNumber",175],";",["T_WHITESPACE","\n        ",175],"}",["T_WHITESPACE"," ",176],["T_ELSE","else",176],["T_WHITESPACE"," ",176],"{",["T_WHITESPACE","\n            ",176],["T_VARIABLE","$this",177],["T_OBJECT_OPERATOR","->",177],["T_STRING","_fields",177],"[",["T_VARIABLE","$field",177],["T_OBJECT_OPERATOR","->",177],["T_STRING","name",177],"]",["T_OBJECT_OPERATOR","->",177],["T_STRING","isIndexed",177],["T_WHITESPACE","       ",177],["T_OR_EQUAL","|=",177],["T_WHITESPACE"," ",177],["T_VARIABLE","$field",177],["T_OBJECT_OPERATOR","->",177],["T_STRING","isIndexed",177],";",["T_WHITESPACE","\n            ",177],["T_VARIABLE","$this",178],["T_OBJECT_OPERATOR","->",178],["T_STRING","_fields",178],"[",["T_VARIABLE","$field",178],["T_OBJECT_OPERATOR","->",178],["T_STRING","name",178],"]",["T_OBJECT_OPERATOR","->",178],["T_STRING","storeTermVector",178],["T_WHITESPACE"," ",178],["T_OR_EQUAL","|=",178],["T_WHITESPACE"," ",178],["T_VARIABLE","$field",178],["T_OBJECT_OPERATOR","->",178],["T_STRING","storeTermVector",178],";",["T_WHITESPACE","\n\n            ",178],["T_RETURN","return",180],["T_WHITESPACE"," ",180],["T_VARIABLE","$this",180],["T_OBJECT_OPERATOR","->",180],["T_STRING","_fields",180],"[",["T_VARIABLE","$field",180],["T_OBJECT_OPERATOR","->",180],["T_STRING","name",180],"]",["T_OBJECT_OPERATOR","->",180],["T_STRING","number",180],";",["T_WHITESPACE","\n        ",180],"}",["T_WHITESPACE","\n    ",181],"}",["T_WHITESPACE","\n\n    ",182],["T_DOC_COMMENT","\/**\n     * Add fieldInfo to the segment\n     *\n     * Returns actual field number\n     *\n     * @param Zend_Search_Lucene_Index_FieldInfo $fieldInfo\n     * @return integer\n     *\/",184],["T_WHITESPACE","\n    ",191],["T_PUBLIC","public",192],["T_WHITESPACE"," ",192],["T_FUNCTION","function",192],["T_WHITESPACE"," ",192],["T_STRING","addFieldInfo",192],"(",["T_STRING","Zend_Search_Lucene_Index_FieldInfo",192],["T_WHITESPACE"," ",192],["T_VARIABLE","$fieldInfo",192],")",["T_WHITESPACE","\n    ",192],"{",["T_WHITESPACE","\n        ",193],["T_IF","if",194],["T_WHITESPACE"," ",194],"(","!",["T_ISSET","isset",194],"(",["T_VARIABLE","$this",194],["T_OBJECT_OPERATOR","->",194],["T_STRING","_fields",194],"[",["T_VARIABLE","$fieldInfo",194],["T_OBJECT_OPERATOR","->",194],["T_STRING","name",194],"]",")",")",["T_WHITESPACE"," ",194],"{",["T_WHITESPACE","\n            ",194],["T_VARIABLE","$fieldNumber",195],["T_WHITESPACE"," ",195],"=",["T_WHITESPACE"," ",195],["T_STRING","count",195],"(",["T_VARIABLE","$this",195],["T_OBJECT_OPERATOR","->",195],["T_STRING","_fields",195],")",";",["T_WHITESPACE","\n            ",195],["T_VARIABLE","$this",196],["T_OBJECT_OPERATOR","->",196],["T_STRING","_fields",196],"[",["T_VARIABLE","$fieldInfo",196],["T_OBJECT_OPERATOR","->",196],["T_STRING","name",196],"]",["T_WHITESPACE"," ",196],"=",["T_WHITESPACE","\n                                ",196],["T_NEW","new",197],["T_WHITESPACE"," ",197],["T_STRING","Zend_Search_Lucene_Index_FieldInfo",197],"(",["T_VARIABLE","$fieldInfo",197],["T_OBJECT_OPERATOR","->",197],["T_STRING","name",197],",",["T_WHITESPACE","\n                                                                       ",197],["T_VARIABLE","$fieldInfo",198],["T_OBJECT_OPERATOR","->",198],["T_STRING","isIndexed",198],",",["T_WHITESPACE","\n                                                                       ",198],["T_VARIABLE","$fieldNumber",199],",",["T_WHITESPACE","\n                                                                       ",199],["T_VARIABLE","$fieldInfo",200],["T_OBJECT_OPERATOR","->",200],["T_STRING","storeTermVector",200],")",";",["T_WHITESPACE","\n\n            ",200],["T_RETURN","return",202],["T_WHITESPACE"," ",202],["T_VARIABLE","$fieldNumber",202],";",["T_WHITESPACE","\n        ",202],"}",["T_WHITESPACE"," ",203],["T_ELSE","else",203],["T_WHITESPACE"," ",203],"{",["T_WHITESPACE","\n            ",203],["T_VARIABLE","$this",204],["T_OBJECT_OPERATOR","->",204],["T_STRING","_fields",204],"[",["T_VARIABLE","$fieldInfo",204],["T_OBJECT_OPERATOR","->",204],["T_STRING","name",204],"]",["T_OBJECT_OPERATOR","->",204],["T_STRING","isIndexed",204],["T_WHITESPACE","       ",204],["T_OR_EQUAL","|=",204],["T_WHITESPACE"," ",204],["T_VARIABLE","$fieldInfo",204],["T_OBJECT_OPERATOR","->",204],["T_STRING","isIndexed",204],";",["T_WHITESPACE","\n            ",204],["T_VARIABLE","$this",205],["T_OBJECT_OPERATOR","->",205],["T_STRING","_fields",205],"[",["T_VARIABLE","$fieldInfo",205],["T_OBJECT_OPERATOR","->",205],["T_STRING","name",205],"]",["T_OBJECT_OPERATOR","->",205],["T_STRING","storeTermVector",205],["T_WHITESPACE"," ",205],["T_OR_EQUAL","|=",205],["T_WHITESPACE"," ",205],["T_VARIABLE","$fieldInfo",205],["T_OBJECT_OPERATOR","->",205],["T_STRING","storeTermVector",205],";",["T_WHITESPACE","\n\n            ",205],["T_RETURN","return",207],["T_WHITESPACE"," ",207],["T_VARIABLE","$this",207],["T_OBJECT_OPERATOR","->",207],["T_STRING","_fields",207],"[",["T_VARIABLE","$fieldInfo",207],["T_OBJECT_OPERATOR","->",207],["T_STRING","name",207],"]",["T_OBJECT_OPERATOR","->",207],["T_STRING","number",207],";",["T_WHITESPACE","\n        ",207],"}",["T_WHITESPACE","\n    ",208],"}",["T_WHITESPACE","\n\n    ",209],["T_DOC_COMMENT","\/**\n     * Returns array of FieldInfo objects.\n     *\n     * @return array\n     *\/",211],["T_WHITESPACE","\n    ",215],["T_PUBLIC","public",216],["T_WHITESPACE"," ",216],["T_FUNCTION","function",216],["T_WHITESPACE"," ",216],["T_STRING","getFieldInfos",216],"(",")",["T_WHITESPACE","\n    ",216],"{",["T_WHITESPACE","\n        ",217],["T_RETURN","return",218],["T_WHITESPACE"," ",218],["T_VARIABLE","$this",218],["T_OBJECT_OPERATOR","->",218],["T_STRING","_fields",218],";",["T_WHITESPACE","\n    ",218],"}",["T_WHITESPACE","\n\n    ",219],["T_DOC_COMMENT","\/**\n     * Add stored fields information\n     *\n     * @param array $storedFields array of Zend_Search_Lucene_Field objects\n     *\/",221],["T_WHITESPACE","\n    ",225],["T_PUBLIC","public",226],["T_WHITESPACE"," ",226],["T_FUNCTION","function",226],["T_WHITESPACE"," ",226],["T_STRING","addStoredFields",226],"(",["T_VARIABLE","$storedFields",226],")",["T_WHITESPACE","\n    ",226],"{",["T_WHITESPACE","\n        ",227],["T_IF","if",228],["T_WHITESPACE"," ",228],"(","!",["T_ISSET","isset",228],"(",["T_VARIABLE","$this",228],["T_OBJECT_OPERATOR","->",228],["T_STRING","_fdxFile",228],")",")",["T_WHITESPACE"," ",228],"{",["T_WHITESPACE","\n            ",228],["T_VARIABLE","$this",229],["T_OBJECT_OPERATOR","->",229],["T_STRING","_fdxFile",229],["T_WHITESPACE"," ",229],"=",["T_WHITESPACE"," ",229],["T_VARIABLE","$this",229],["T_OBJECT_OPERATOR","->",229],["T_STRING","_directory",229],["T_OBJECT_OPERATOR","->",229],["T_STRING","createFile",229],"(",["T_VARIABLE","$this",229],["T_OBJECT_OPERATOR","->",229],["T_STRING","_name",229],["T_WHITESPACE"," ",229],".",["T_WHITESPACE"," ",229],["T_CONSTANT_ENCAPSED_STRING","'.fdx'",229],")",";",["T_WHITESPACE","\n            ",229],["T_VARIABLE","$this",230],["T_OBJECT_OPERATOR","->",230],["T_STRING","_fdtFile",230],["T_WHITESPACE"," ",230],"=",["T_WHITESPACE"," ",230],["T_VARIABLE","$this",230],["T_OBJECT_OPERATOR","->",230],["T_STRING","_directory",230],["T_OBJECT_OPERATOR","->",230],["T_STRING","createFile",230],"(",["T_VARIABLE","$this",230],["T_OBJECT_OPERATOR","->",230],["T_STRING","_name",230],["T_WHITESPACE"," ",230],".",["T_WHITESPACE"," ",230],["T_CONSTANT_ENCAPSED_STRING","'.fdt'",230],")",";",["T_WHITESPACE","\n\n            ",230],["T_VARIABLE","$this",232],["T_OBJECT_OPERATOR","->",232],["T_STRING","_files",232],"[","]",["T_WHITESPACE"," ",232],"=",["T_WHITESPACE"," ",232],["T_VARIABLE","$this",232],["T_OBJECT_OPERATOR","->",232],["T_STRING","_name",232],["T_WHITESPACE"," ",232],".",["T_WHITESPACE"," ",232],["T_CONSTANT_ENCAPSED_STRING","'.fdx'",232],";",["T_WHITESPACE","\n            ",232],["T_VARIABLE","$this",233],["T_OBJECT_OPERATOR","->",233],["T_STRING","_files",233],"[","]",["T_WHITESPACE"," ",233],"=",["T_WHITESPACE"," ",233],["T_VARIABLE","$this",233],["T_OBJECT_OPERATOR","->",233],["T_STRING","_name",233],["T_WHITESPACE"," ",233],".",["T_WHITESPACE"," ",233],["T_CONSTANT_ENCAPSED_STRING","'.fdt'",233],";",["T_WHITESPACE","\n        ",233],"}",["T_WHITESPACE","\n\n        ",234],["T_VARIABLE","$this",236],["T_OBJECT_OPERATOR","->",236],["T_STRING","_fdxFile",236],["T_OBJECT_OPERATOR","->",236],["T_STRING","writeLong",236],"(",["T_VARIABLE","$this",236],["T_OBJECT_OPERATOR","->",236],["T_STRING","_fdtFile",236],["T_OBJECT_OPERATOR","->",236],["T_STRING","tell",236],"(",")",")",";",["T_WHITESPACE","\n        ",236],["T_VARIABLE","$this",237],["T_OBJECT_OPERATOR","->",237],["T_STRING","_fdtFile",237],["T_OBJECT_OPERATOR","->",237],["T_STRING","writeVInt",237],"(",["T_STRING","count",237],"(",["T_VARIABLE","$storedFields",237],")",")",";",["T_WHITESPACE","\n        ",237],["T_FOREACH","foreach",238],["T_WHITESPACE"," ",238],"(",["T_VARIABLE","$storedFields",238],["T_WHITESPACE"," ",238],["T_AS","as",238],["T_WHITESPACE"," ",238],["T_VARIABLE","$field",238],")",["T_WHITESPACE"," ",238],"{",["T_WHITESPACE","\n            ",238],["T_VARIABLE","$this",239],["T_OBJECT_OPERATOR","->",239],["T_STRING","_fdtFile",239],["T_OBJECT_OPERATOR","->",239],["T_STRING","writeVInt",239],"(",["T_VARIABLE","$this",239],["T_OBJECT_OPERATOR","->",239],["T_STRING","_fields",239],"[",["T_VARIABLE","$field",239],["T_OBJECT_OPERATOR","->",239],["T_STRING","name",239],"]",["T_OBJECT_OPERATOR","->",239],["T_STRING","number",239],")",";",["T_WHITESPACE","\n            ",239],["T_VARIABLE","$fieldBits",240],["T_WHITESPACE"," ",240],"=",["T_WHITESPACE"," ",240],"(",["T_VARIABLE","$field",240],["T_OBJECT_OPERATOR","->",240],["T_STRING","isTokenized",240],["T_WHITESPACE"," ",240],"?",["T_WHITESPACE"," ",240],["T_LNUMBER","0x01",240],["T_WHITESPACE"," ",240],":",["T_WHITESPACE"," ",240],["T_LNUMBER","0x00",240],")",["T_WHITESPACE"," ",240],"|",["T_WHITESPACE","\n                         ",240],"(",["T_VARIABLE","$field",241],["T_OBJECT_OPERATOR","->",241],["T_STRING","isBinary",241],["T_WHITESPACE"," ",241],"?",["T_WHITESPACE","    ",241],["T_LNUMBER","0x02",241],["T_WHITESPACE"," ",241],":",["T_WHITESPACE"," ",241],["T_LNUMBER","0x00",241],")",["T_WHITESPACE"," ",241],"|",["T_WHITESPACE","\n                         ",241],["T_LNUMBER","0x00",242],";",["T_WHITESPACE"," ",242],["T_COMMENT","\/* 0x04 - third bit, compressed (ZLIB) *\/",242],["T_WHITESPACE","\n            ",242],["T_VARIABLE","$this",243],["T_OBJECT_OPERATOR","->",243],["T_STRING","_fdtFile",243],["T_OBJECT_OPERATOR","->",243],["T_STRING","writeByte",243],"(",["T_VARIABLE","$fieldBits",243],")",";",["T_WHITESPACE","\n            ",243],["T_IF","if",244],["T_WHITESPACE"," ",244],"(",["T_VARIABLE","$field",244],["T_OBJECT_OPERATOR","->",244],["T_STRING","isBinary",244],")",["T_WHITESPACE"," ",244],"{",["T_WHITESPACE","\n                ",244],["T_VARIABLE","$this",245],["T_OBJECT_OPERATOR","->",245],["T_STRING","_fdtFile",245],["T_OBJECT_OPERATOR","->",245],["T_STRING","writeVInt",245],"(",["T_STRING","strlen",245],"(",["T_VARIABLE","$field",245],["T_OBJECT_OPERATOR","->",245],["T_STRING","value",245],")",")",";",["T_WHITESPACE","\n                ",245],["T_VARIABLE","$this",246],["T_OBJECT_OPERATOR","->",246],["T_STRING","_fdtFile",246],["T_OBJECT_OPERATOR","->",246],["T_STRING","writeBytes",246],"(",["T_VARIABLE","$field",246],["T_OBJECT_OPERATOR","->",246],["T_STRING","value",246],")",";",["T_WHITESPACE","\n            ",246],"}",["T_WHITESPACE"," ",247],["T_ELSE","else",247],["T_WHITESPACE"," ",247],"{",["T_WHITESPACE","\n                ",247],["T_VARIABLE","$this",248],["T_OBJECT_OPERATOR","->",248],["T_STRING","_fdtFile",248],["T_OBJECT_OPERATOR","->",248],["T_STRING","writeString",248],"(",["T_VARIABLE","$field",248],["T_OBJECT_OPERATOR","->",248],["T_STRING","getUtf8Value",248],"(",")",")",";",["T_WHITESPACE","\n            ",248],"}",["T_WHITESPACE","\n        ",249],"}",["T_WHITESPACE","\n\n        ",250],["T_VARIABLE","$this",252],["T_OBJECT_OPERATOR","->",252],["T_STRING","_docCount",252],["T_INC","++",252],";",["T_WHITESPACE","\n    ",252],"}",["T_WHITESPACE","\n\n    ",253],["T_DOC_COMMENT","\/**\n     * Returns the total number of documents in this segment.\n     *\n     * @return integer\n     *\/",255],["T_WHITESPACE","\n    ",259],["T_PUBLIC","public",260],["T_WHITESPACE"," ",260],["T_FUNCTION","function",260],["T_WHITESPACE"," ",260],["T_STRING","count",260],"(",")",["T_WHITESPACE","\n    ",260],"{",["T_WHITESPACE","\n        ",261],["T_RETURN","return",262],["T_WHITESPACE"," ",262],["T_VARIABLE","$this",262],["T_OBJECT_OPERATOR","->",262],["T_STRING","_docCount",262],";",["T_WHITESPACE","\n    ",262],"}",["T_WHITESPACE","\n\n    ",263],["T_DOC_COMMENT","\/**\n     * Return segment name\n     *\n     * @return string\n     *\/",265],["T_WHITESPACE","\n    ",269],["T_PUBLIC","public",270],["T_WHITESPACE"," ",270],["T_FUNCTION","function",270],["T_WHITESPACE"," ",270],["T_STRING","getName",270],"(",")",["T_WHITESPACE","\n    ",270],"{",["T_WHITESPACE","\n        ",271],["T_RETURN","return",272],["T_WHITESPACE"," ",272],["T_VARIABLE","$this",272],["T_OBJECT_OPERATOR","->",272],["T_STRING","_name",272],";",["T_WHITESPACE","\n    ",272],"}",["T_WHITESPACE","\n\n    ",273],["T_DOC_COMMENT","\/**\n     * Dump Field Info (.fnm) segment file\n     *\/",275],["T_WHITESPACE","\n    ",277],["T_PROTECTED","protected",278],["T_WHITESPACE"," ",278],["T_FUNCTION","function",278],["T_WHITESPACE"," ",278],["T_STRING","_dumpFNM",278],"(",")",["T_WHITESPACE","\n    ",278],"{",["T_WHITESPACE","\n        ",279],["T_VARIABLE","$fnmFile",280],["T_WHITESPACE"," ",280],"=",["T_WHITESPACE"," ",280],["T_VARIABLE","$this",280],["T_OBJECT_OPERATOR","->",280],["T_STRING","_directory",280],["T_OBJECT_OPERATOR","->",280],["T_STRING","createFile",280],"(",["T_VARIABLE","$this",280],["T_OBJECT_OPERATOR","->",280],["T_STRING","_name",280],["T_WHITESPACE"," ",280],".",["T_WHITESPACE"," ",280],["T_CONSTANT_ENCAPSED_STRING","'.fnm'",280],")",";",["T_WHITESPACE","\n        ",280],["T_VARIABLE","$fnmFile",281],["T_OBJECT_OPERATOR","->",281],["T_STRING","writeVInt",281],"(",["T_STRING","count",281],"(",["T_VARIABLE","$this",281],["T_OBJECT_OPERATOR","->",281],["T_STRING","_fields",281],")",")",";",["T_WHITESPACE","\n\n        ",281],["T_VARIABLE","$nrmFile",283],["T_WHITESPACE"," ",283],"=",["T_WHITESPACE"," ",283],["T_VARIABLE","$this",283],["T_OBJECT_OPERATOR","->",283],["T_STRING","_directory",283],["T_OBJECT_OPERATOR","->",283],["T_STRING","createFile",283],"(",["T_VARIABLE","$this",283],["T_OBJECT_OPERATOR","->",283],["T_STRING","_name",283],["T_WHITESPACE"," ",283],".",["T_WHITESPACE"," ",283],["T_CONSTANT_ENCAPSED_STRING","'.nrm'",283],")",";",["T_WHITESPACE","\n        ",283],["T_COMMENT","\/\/ Write header\n",284],["T_WHITESPACE","        ",285],["T_VARIABLE","$nrmFile",285],["T_OBJECT_OPERATOR","->",285],["T_STRING","writeBytes",285],"(",["T_CONSTANT_ENCAPSED_STRING","'NRM'",285],")",";",["T_WHITESPACE","\n        ",285],["T_COMMENT","\/\/ Write format specifier\n",286],["T_WHITESPACE","        ",287],["T_VARIABLE","$nrmFile",287],["T_OBJECT_OPERATOR","->",287],["T_STRING","writeByte",287],"(",["T_INT_CAST","(int)",287],["T_LNUMBER","0xFF",287],")",";",["T_WHITESPACE","\n\n        ",287],["T_FOREACH","foreach",289],["T_WHITESPACE"," ",289],"(",["T_VARIABLE","$this",289],["T_OBJECT_OPERATOR","->",289],["T_STRING","_fields",289],["T_WHITESPACE"," ",289],["T_AS","as",289],["T_WHITESPACE"," ",289],["T_VARIABLE","$field",289],")",["T_WHITESPACE"," ",289],"{",["T_WHITESPACE","\n            ",289],["T_VARIABLE","$fnmFile",290],["T_OBJECT_OPERATOR","->",290],["T_STRING","writeString",290],"(",["T_VARIABLE","$field",290],["T_OBJECT_OPERATOR","->",290],["T_STRING","name",290],")",";",["T_WHITESPACE","\n            ",290],["T_VARIABLE","$fnmFile",291],["T_OBJECT_OPERATOR","->",291],["T_STRING","writeByte",291],"(","(",["T_VARIABLE","$field",291],["T_OBJECT_OPERATOR","->",291],["T_STRING","isIndexed",291],["T_WHITESPACE","       ",291],"?",["T_WHITESPACE"," ",291],["T_LNUMBER","0x01",291],["T_WHITESPACE"," ",291],":",["T_WHITESPACE"," ",291],["T_LNUMBER","0x00",291],")",["T_WHITESPACE"," ",291],"|",["T_WHITESPACE","\n                                ",291],"(",["T_VARIABLE","$field",292],["T_OBJECT_OPERATOR","->",292],["T_STRING","storeTermVector",292],["T_WHITESPACE"," ",292],"?",["T_WHITESPACE"," ",292],["T_LNUMBER","0x02",292],["T_WHITESPACE"," ",292],":",["T_WHITESPACE"," ",292],["T_LNUMBER","0x00",292],")",["T_WHITESPACE","\n",292],["T_COMMENT","\/\/ not supported yet            0x04 \/* term positions are stored with the term vectors *\/ |\n",293],["T_COMMENT","\/\/ not supported yet            0x08 \/* term offsets are stored with the term vectors *\/   |\n",294],["T_WHITESPACE","                               ",295],")",";",["T_WHITESPACE","\n\n            ",295],["T_IF","if",297],["T_WHITESPACE"," ",297],"(",["T_VARIABLE","$field",297],["T_OBJECT_OPERATOR","->",297],["T_STRING","isIndexed",297],")",["T_WHITESPACE"," ",297],"{",["T_WHITESPACE","\n                ",297],["T_COMMENT","\/\/ pre-2.1 index mode (not used now)\n",298],["T_WHITESPACE","                ",299],["T_COMMENT","\/\/ $normFileName = $this->_name . '.f' . $field->number;\n",299],["T_WHITESPACE","                ",300],["T_COMMENT","\/\/ $fFile = $this->_directory->createFile($normFileName);\n",300],["T_WHITESPACE","                ",301],["T_COMMENT","\/\/ $fFile->writeBytes($this->_norms[$field->name]);\n",301],["T_WHITESPACE","                ",302],["T_COMMENT","\/\/ $this->_files[] = $normFileName;\n",302],["T_WHITESPACE","\n                ",303],["T_VARIABLE","$nrmFile",304],["T_OBJECT_OPERATOR","->",304],["T_STRING","writeBytes",304],"(",["T_VARIABLE","$this",304],["T_OBJECT_OPERATOR","->",304],["T_STRING","_norms",304],"[",["T_VARIABLE","$field",304],["T_OBJECT_OPERATOR","->",304],["T_STRING","name",304],"]",")",";",["T_WHITESPACE","\n            ",304],"}",["T_WHITESPACE","\n        ",305],"}",["T_WHITESPACE","\n\n        ",306],["T_VARIABLE","$this",308],["T_OBJECT_OPERATOR","->",308],["T_STRING","_files",308],"[","]",["T_WHITESPACE"," ",308],"=",["T_WHITESPACE"," ",308],["T_VARIABLE","$this",308],["T_OBJECT_OPERATOR","->",308],["T_STRING","_name",308],["T_WHITESPACE"," ",308],".",["T_WHITESPACE"," ",308],["T_CONSTANT_ENCAPSED_STRING","'.fnm'",308],";",["T_WHITESPACE","\n        ",308],["T_VARIABLE","$this",309],["T_OBJECT_OPERATOR","->",309],["T_STRING","_files",309],"[","]",["T_WHITESPACE"," ",309],"=",["T_WHITESPACE"," ",309],["T_VARIABLE","$this",309],["T_OBJECT_OPERATOR","->",309],["T_STRING","_name",309],["T_WHITESPACE"," ",309],".",["T_WHITESPACE"," ",309],["T_CONSTANT_ENCAPSED_STRING","'.nrm'",309],";",["T_WHITESPACE","\n    ",309],"}",["T_WHITESPACE","\n\n\n\n    ",310],["T_DOC_COMMENT","\/**\n     * Term Dictionary file\n     *\n     * @var Zend_Search_Lucene_Storage_File\n     *\/",314],["T_WHITESPACE","\n    ",318],["T_PRIVATE","private",319],["T_WHITESPACE"," ",319],["T_VARIABLE","$_tisFile",319],["T_WHITESPACE"," ",319],"=",["T_WHITESPACE"," ",319],["T_STRING","null",319],";",["T_WHITESPACE","\n\n    ",319],["T_DOC_COMMENT","\/**\n     * Term Dictionary index file\n     *\n     * @var Zend_Search_Lucene_Storage_File\n     *\/",321],["T_WHITESPACE","\n    ",325],["T_PRIVATE","private",326],["T_WHITESPACE"," ",326],["T_VARIABLE","$_tiiFile",326],["T_WHITESPACE"," ",326],"=",["T_WHITESPACE"," ",326],["T_STRING","null",326],";",["T_WHITESPACE","\n\n    ",326],["T_DOC_COMMENT","\/**\n     * Frequencies file\n     *\n     * @var Zend_Search_Lucene_Storage_File\n     *\/",328],["T_WHITESPACE","\n    ",332],["T_PRIVATE","private",333],["T_WHITESPACE"," ",333],["T_VARIABLE","$_frqFile",333],["T_WHITESPACE"," ",333],"=",["T_WHITESPACE"," ",333],["T_STRING","null",333],";",["T_WHITESPACE","\n\n    ",333],["T_DOC_COMMENT","\/**\n     * Positions file\n     *\n     * @var Zend_Search_Lucene_Storage_File\n     *\/",335],["T_WHITESPACE","\n    ",339],["T_PRIVATE","private",340],["T_WHITESPACE"," ",340],["T_VARIABLE","$_prxFile",340],["T_WHITESPACE"," ",340],"=",["T_WHITESPACE"," ",340],["T_STRING","null",340],";",["T_WHITESPACE","\n\n    ",340],["T_DOC_COMMENT","\/**\n     * Number of written terms\n     *\n     * @var integer\n     *\/",342],["T_WHITESPACE","\n    ",346],["T_PRIVATE","private",347],["T_WHITESPACE"," ",347],["T_VARIABLE","$_termCount",347],";",["T_WHITESPACE","\n\n\n    ",347],["T_DOC_COMMENT","\/**\n     * Last saved term\n     *\n     * @var Zend_Search_Lucene_Index_Term\n     *\/",350],["T_WHITESPACE","\n    ",354],["T_PRIVATE","private",355],["T_WHITESPACE"," ",355],["T_VARIABLE","$_prevTerm",355],";",["T_WHITESPACE","\n\n    ",355],["T_DOC_COMMENT","\/**\n     * Last saved term info\n     *\n     * @var Zend_Search_Lucene_Index_TermInfo\n     *\/",357],["T_WHITESPACE","\n    ",361],["T_PRIVATE","private",362],["T_WHITESPACE"," ",362],["T_VARIABLE","$_prevTermInfo",362],";",["T_WHITESPACE","\n\n    ",362],["T_DOC_COMMENT","\/**\n     * Last saved index term\n     *\n     * @var Zend_Search_Lucene_Index_Term\n     *\/",364],["T_WHITESPACE","\n    ",368],["T_PRIVATE","private",369],["T_WHITESPACE"," ",369],["T_VARIABLE","$_prevIndexTerm",369],";",["T_WHITESPACE","\n\n    ",369],["T_DOC_COMMENT","\/**\n     * Last saved index term info\n     *\n     * @var Zend_Search_Lucene_Index_TermInfo\n     *\/",371],["T_WHITESPACE","\n    ",375],["T_PRIVATE","private",376],["T_WHITESPACE"," ",376],["T_VARIABLE","$_prevIndexTermInfo",376],";",["T_WHITESPACE","\n\n    ",376],["T_DOC_COMMENT","\/**\n     * Last term dictionary file position\n     *\n     * @var integer\n     *\/",378],["T_WHITESPACE","\n    ",382],["T_PRIVATE","private",383],["T_WHITESPACE"," ",383],["T_VARIABLE","$_lastIndexPosition",383],";",["T_WHITESPACE","\n\n    ",383],["T_DOC_COMMENT","\/**\n     * Create dicrionary, frequency and positions files and write necessary headers\n     *\/",385],["T_WHITESPACE","\n    ",387],["T_PUBLIC","public",388],["T_WHITESPACE"," ",388],["T_FUNCTION","function",388],["T_WHITESPACE"," ",388],["T_STRING","initializeDictionaryFiles",388],"(",")",["T_WHITESPACE","\n    ",388],"{",["T_WHITESPACE","\n        ",389],["T_VARIABLE","$this",390],["T_OBJECT_OPERATOR","->",390],["T_STRING","_tisFile",390],["T_WHITESPACE"," ",390],"=",["T_WHITESPACE"," ",390],["T_VARIABLE","$this",390],["T_OBJECT_OPERATOR","->",390],["T_STRING","_directory",390],["T_OBJECT_OPERATOR","->",390],["T_STRING","createFile",390],"(",["T_VARIABLE","$this",390],["T_OBJECT_OPERATOR","->",390],["T_STRING","_name",390],["T_WHITESPACE"," ",390],".",["T_WHITESPACE"," ",390],["T_CONSTANT_ENCAPSED_STRING","'.tis'",390],")",";",["T_WHITESPACE","\n        ",390],["T_VARIABLE","$this",391],["T_OBJECT_OPERATOR","->",391],["T_STRING","_tisFile",391],["T_OBJECT_OPERATOR","->",391],["T_STRING","writeInt",391],"(",["T_INT_CAST","(int)",391],["T_LNUMBER","0xFFFFFFFD",391],")",";",["T_WHITESPACE","\n        ",391],["T_VARIABLE","$this",392],["T_OBJECT_OPERATOR","->",392],["T_STRING","_tisFile",392],["T_OBJECT_OPERATOR","->",392],["T_STRING","writeLong",392],"(",["T_LNUMBER","0",392],["T_WHITESPACE"," ",392],["T_COMMENT","\/* dummy data for terms count *\/",392],")",";",["T_WHITESPACE","\n        ",392],["T_VARIABLE","$this",393],["T_OBJECT_OPERATOR","->",393],["T_STRING","_tisFile",393],["T_OBJECT_OPERATOR","->",393],["T_STRING","writeInt",393],"(",["T_STRING","self",393],["T_DOUBLE_COLON","::",393],["T_VARIABLE","$indexInterval",393],")",";",["T_WHITESPACE","\n        ",393],["T_VARIABLE","$this",394],["T_OBJECT_OPERATOR","->",394],["T_STRING","_tisFile",394],["T_OBJECT_OPERATOR","->",394],["T_STRING","writeInt",394],"(",["T_STRING","self",394],["T_DOUBLE_COLON","::",394],["T_VARIABLE","$skipInterval",394],")",";",["T_WHITESPACE","\n        ",394],["T_VARIABLE","$this",395],["T_OBJECT_OPERATOR","->",395],["T_STRING","_tisFile",395],["T_OBJECT_OPERATOR","->",395],["T_STRING","writeInt",395],"(",["T_STRING","self",395],["T_DOUBLE_COLON","::",395],["T_VARIABLE","$maxSkipLevels",395],")",";",["T_WHITESPACE","\n\n        ",395],["T_VARIABLE","$this",397],["T_OBJECT_OPERATOR","->",397],["T_STRING","_tiiFile",397],["T_WHITESPACE"," ",397],"=",["T_WHITESPACE"," ",397],["T_VARIABLE","$this",397],["T_OBJECT_OPERATOR","->",397],["T_STRING","_directory",397],["T_OBJECT_OPERATOR","->",397],["T_STRING","createFile",397],"(",["T_VARIABLE","$this",397],["T_OBJECT_OPERATOR","->",397],["T_STRING","_name",397],["T_WHITESPACE"," ",397],".",["T_WHITESPACE"," ",397],["T_CONSTANT_ENCAPSED_STRING","'.tii'",397],")",";",["T_WHITESPACE","\n        ",397],["T_VARIABLE","$this",398],["T_OBJECT_OPERATOR","->",398],["T_STRING","_tiiFile",398],["T_OBJECT_OPERATOR","->",398],["T_STRING","writeInt",398],"(",["T_INT_CAST","(int)",398],["T_LNUMBER","0xFFFFFFFD",398],")",";",["T_WHITESPACE","\n        ",398],["T_VARIABLE","$this",399],["T_OBJECT_OPERATOR","->",399],["T_STRING","_tiiFile",399],["T_OBJECT_OPERATOR","->",399],["T_STRING","writeLong",399],"(",["T_LNUMBER","0",399],["T_WHITESPACE"," ",399],["T_COMMENT","\/* dummy data for terms count *\/",399],")",";",["T_WHITESPACE","\n        ",399],["T_VARIABLE","$this",400],["T_OBJECT_OPERATOR","->",400],["T_STRING","_tiiFile",400],["T_OBJECT_OPERATOR","->",400],["T_STRING","writeInt",400],"(",["T_STRING","self",400],["T_DOUBLE_COLON","::",400],["T_VARIABLE","$indexInterval",400],")",";",["T_WHITESPACE","\n        ",400],["T_VARIABLE","$this",401],["T_OBJECT_OPERATOR","->",401],["T_STRING","_tiiFile",401],["T_OBJECT_OPERATOR","->",401],["T_STRING","writeInt",401],"(",["T_STRING","self",401],["T_DOUBLE_COLON","::",401],["T_VARIABLE","$skipInterval",401],")",";",["T_WHITESPACE","\n        ",401],["T_VARIABLE","$this",402],["T_OBJECT_OPERATOR","->",402],["T_STRING","_tiiFile",402],["T_OBJECT_OPERATOR","->",402],["T_STRING","writeInt",402],"(",["T_STRING","self",402],["T_DOUBLE_COLON","::",402],["T_VARIABLE","$maxSkipLevels",402],")",";",["T_WHITESPACE","\n\n        ",402],["T_DOC_COMMENT","\/** Dump dictionary header *\/",404],["T_WHITESPACE","\n        ",404],["T_VARIABLE","$this",405],["T_OBJECT_OPERATOR","->",405],["T_STRING","_tiiFile",405],["T_OBJECT_OPERATOR","->",405],["T_STRING","writeVInt",405],"(",["T_LNUMBER","0",405],")",";",["T_WHITESPACE","                    ",405],["T_COMMENT","\/\/ preffix length\n",405],["T_WHITESPACE","        ",406],["T_VARIABLE","$this",406],["T_OBJECT_OPERATOR","->",406],["T_STRING","_tiiFile",406],["T_OBJECT_OPERATOR","->",406],["T_STRING","writeString",406],"(",["T_CONSTANT_ENCAPSED_STRING","''",406],")",";",["T_WHITESPACE","                 ",406],["T_COMMENT","\/\/ suffix\n",406],["T_WHITESPACE","        ",407],["T_VARIABLE","$this",407],["T_OBJECT_OPERATOR","->",407],["T_STRING","_tiiFile",407],["T_OBJECT_OPERATOR","->",407],["T_STRING","writeInt",407],"(",["T_INT_CAST","(int)",407],["T_LNUMBER","0xFFFFFFFF",407],")",";",["T_WHITESPACE","       ",407],["T_COMMENT","\/\/ field number\n",407],["T_WHITESPACE","        ",408],["T_VARIABLE","$this",408],["T_OBJECT_OPERATOR","->",408],["T_STRING","_tiiFile",408],["T_OBJECT_OPERATOR","->",408],["T_STRING","writeByte",408],"(",["T_INT_CAST","(int)",408],["T_LNUMBER","0x0F",408],")",";",["T_WHITESPACE","\n        ",408],["T_VARIABLE","$this",409],["T_OBJECT_OPERATOR","->",409],["T_STRING","_tiiFile",409],["T_OBJECT_OPERATOR","->",409],["T_STRING","writeVInt",409],"(",["T_LNUMBER","0",409],")",";",["T_WHITESPACE","                    ",409],["T_COMMENT","\/\/ DocFreq\n",409],["T_WHITESPACE","        ",410],["T_VARIABLE","$this",410],["T_OBJECT_OPERATOR","->",410],["T_STRING","_tiiFile",410],["T_OBJECT_OPERATOR","->",410],["T_STRING","writeVInt",410],"(",["T_LNUMBER","0",410],")",";",["T_WHITESPACE","                    ",410],["T_COMMENT","\/\/ FreqDelta\n",410],["T_WHITESPACE","        ",411],["T_VARIABLE","$this",411],["T_OBJECT_OPERATOR","->",411],["T_STRING","_tiiFile",411],["T_OBJECT_OPERATOR","->",411],["T_STRING","writeVInt",411],"(",["T_LNUMBER","0",411],")",";",["T_WHITESPACE","                    ",411],["T_COMMENT","\/\/ ProxDelta\n",411],["T_WHITESPACE","        ",412],["T_VARIABLE","$this",412],["T_OBJECT_OPERATOR","->",412],["T_STRING","_tiiFile",412],["T_OBJECT_OPERATOR","->",412],["T_STRING","writeVInt",412],"(",["T_LNUMBER","24",412],")",";",["T_WHITESPACE","                   ",412],["T_COMMENT","\/\/ IndexDelta\n",412],["T_WHITESPACE","\n        ",413],["T_VARIABLE","$this",414],["T_OBJECT_OPERATOR","->",414],["T_STRING","_frqFile",414],["T_WHITESPACE"," ",414],"=",["T_WHITESPACE"," ",414],["T_VARIABLE","$this",414],["T_OBJECT_OPERATOR","->",414],["T_STRING","_directory",414],["T_OBJECT_OPERATOR","->",414],["T_STRING","createFile",414],"(",["T_VARIABLE","$this",414],["T_OBJECT_OPERATOR","->",414],["T_STRING","_name",414],["T_WHITESPACE"," ",414],".",["T_WHITESPACE"," ",414],["T_CONSTANT_ENCAPSED_STRING","'.frq'",414],")",";",["T_WHITESPACE","\n        ",414],["T_VARIABLE","$this",415],["T_OBJECT_OPERATOR","->",415],["T_STRING","_prxFile",415],["T_WHITESPACE"," ",415],"=",["T_WHITESPACE"," ",415],["T_VARIABLE","$this",415],["T_OBJECT_OPERATOR","->",415],["T_STRING","_directory",415],["T_OBJECT_OPERATOR","->",415],["T_STRING","createFile",415],"(",["T_VARIABLE","$this",415],["T_OBJECT_OPERATOR","->",415],["T_STRING","_name",415],["T_WHITESPACE"," ",415],".",["T_WHITESPACE"," ",415],["T_CONSTANT_ENCAPSED_STRING","'.prx'",415],")",";",["T_WHITESPACE","\n\n        ",415],["T_VARIABLE","$this",417],["T_OBJECT_OPERATOR","->",417],["T_STRING","_files",417],"[","]",["T_WHITESPACE"," ",417],"=",["T_WHITESPACE"," ",417],["T_VARIABLE","$this",417],["T_OBJECT_OPERATOR","->",417],["T_STRING","_name",417],["T_WHITESPACE"," ",417],".",["T_WHITESPACE"," ",417],["T_CONSTANT_ENCAPSED_STRING","'.tis'",417],";",["T_WHITESPACE","\n        ",417],["T_VARIABLE","$this",418],["T_OBJECT_OPERATOR","->",418],["T_STRING","_files",418],"[","]",["T_WHITESPACE"," ",418],"=",["T_WHITESPACE"," ",418],["T_VARIABLE","$this",418],["T_OBJECT_OPERATOR","->",418],["T_STRING","_name",418],["T_WHITESPACE"," ",418],".",["T_WHITESPACE"," ",418],["T_CONSTANT_ENCAPSED_STRING","'.tii'",418],";",["T_WHITESPACE","\n        ",418],["T_VARIABLE","$this",419],["T_OBJECT_OPERATOR","->",419],["T_STRING","_files",419],"[","]",["T_WHITESPACE"," ",419],"=",["T_WHITESPACE"," ",419],["T_VARIABLE","$this",419],["T_OBJECT_OPERATOR","->",419],["T_STRING","_name",419],["T_WHITESPACE"," ",419],".",["T_WHITESPACE"," ",419],["T_CONSTANT_ENCAPSED_STRING","'.frq'",419],";",["T_WHITESPACE","\n        ",419],["T_VARIABLE","$this",420],["T_OBJECT_OPERATOR","->",420],["T_STRING","_files",420],"[","]",["T_WHITESPACE"," ",420],"=",["T_WHITESPACE"," ",420],["T_VARIABLE","$this",420],["T_OBJECT_OPERATOR","->",420],["T_STRING","_name",420],["T_WHITESPACE"," ",420],".",["T_WHITESPACE"," ",420],["T_CONSTANT_ENCAPSED_STRING","'.prx'",420],";",["T_WHITESPACE","\n\n        ",420],["T_VARIABLE","$this",422],["T_OBJECT_OPERATOR","->",422],["T_STRING","_prevTerm",422],["T_WHITESPACE","          ",422],"=",["T_WHITESPACE"," ",422],["T_STRING","null",422],";",["T_WHITESPACE","\n        ",422],["T_VARIABLE","$this",423],["T_OBJECT_OPERATOR","->",423],["T_STRING","_prevTermInfo",423],["T_WHITESPACE","      ",423],"=",["T_WHITESPACE"," ",423],["T_STRING","null",423],";",["T_WHITESPACE","\n        ",423],["T_VARIABLE","$this",424],["T_OBJECT_OPERATOR","->",424],["T_STRING","_prevIndexTerm",424],["T_WHITESPACE","     ",424],"=",["T_WHITESPACE"," ",424],["T_STRING","null",424],";",["T_WHITESPACE","\n        ",424],["T_VARIABLE","$this",425],["T_OBJECT_OPERATOR","->",425],["T_STRING","_prevIndexTermInfo",425],["T_WHITESPACE"," ",425],"=",["T_WHITESPACE"," ",425],["T_STRING","null",425],";",["T_WHITESPACE","\n        ",425],["T_VARIABLE","$this",426],["T_OBJECT_OPERATOR","->",426],["T_STRING","_lastIndexPosition",426],["T_WHITESPACE"," ",426],"=",["T_WHITESPACE"," ",426],["T_LNUMBER","24",426],";",["T_WHITESPACE","\n        ",426],["T_VARIABLE","$this",427],["T_OBJECT_OPERATOR","->",427],["T_STRING","_termCount",427],["T_WHITESPACE","         ",427],"=",["T_WHITESPACE"," ",427],["T_LNUMBER","0",427],";",["T_WHITESPACE","\n\n    ",427],"}",["T_WHITESPACE","\n\n    ",429],["T_DOC_COMMENT","\/**\n     * Add term\n     *\n     * Term positions is an array( docId => array(pos1, pos2, pos3, ...), ... )\n     *\n     * @param Zend_Search_Lucene_Index_Term $termEntry\n     * @param array $termDocs\n     *\/",431],["T_WHITESPACE","\n    ",438],["T_PUBLIC","public",439],["T_WHITESPACE"," ",439],["T_FUNCTION","function",439],["T_WHITESPACE"," ",439],["T_STRING","addTerm",439],"(",["T_VARIABLE","$termEntry",439],",",["T_WHITESPACE"," ",439],["T_VARIABLE","$termDocs",439],")",["T_WHITESPACE","\n    ",439],"{",["T_WHITESPACE","\n        ",440],["T_VARIABLE","$freqPointer",441],["T_WHITESPACE"," ",441],"=",["T_WHITESPACE"," ",441],["T_VARIABLE","$this",441],["T_OBJECT_OPERATOR","->",441],["T_STRING","_frqFile",441],["T_OBJECT_OPERATOR","->",441],["T_STRING","tell",441],"(",")",";",["T_WHITESPACE","\n        ",441],["T_VARIABLE","$proxPointer",442],["T_WHITESPACE"," ",442],"=",["T_WHITESPACE"," ",442],["T_VARIABLE","$this",442],["T_OBJECT_OPERATOR","->",442],["T_STRING","_prxFile",442],["T_OBJECT_OPERATOR","->",442],["T_STRING","tell",442],"(",")",";",["T_WHITESPACE","\n\n        ",442],["T_VARIABLE","$prevDoc",444],["T_WHITESPACE"," ",444],"=",["T_WHITESPACE"," ",444],["T_LNUMBER","0",444],";",["T_WHITESPACE","\n        ",444],["T_FOREACH","foreach",445],["T_WHITESPACE"," ",445],"(",["T_VARIABLE","$termDocs",445],["T_WHITESPACE"," ",445],["T_AS","as",445],["T_WHITESPACE"," ",445],["T_VARIABLE","$docId",445],["T_WHITESPACE"," ",445],["T_DOUBLE_ARROW","=>",445],["T_WHITESPACE"," ",445],["T_VARIABLE","$termPositions",445],")",["T_WHITESPACE"," ",445],"{",["T_WHITESPACE","\n            ",445],["T_VARIABLE","$docDelta",446],["T_WHITESPACE"," ",446],"=",["T_WHITESPACE"," ",446],"(",["T_VARIABLE","$docId",446],["T_WHITESPACE"," ",446],"-",["T_WHITESPACE"," ",446],["T_VARIABLE","$prevDoc",446],")","*",["T_LNUMBER","2",446],";",["T_WHITESPACE","\n            ",446],["T_VARIABLE","$prevDoc",447],["T_WHITESPACE"," ",447],"=",["T_WHITESPACE"," ",447],["T_VARIABLE","$docId",447],";",["T_WHITESPACE","\n            ",447],["T_IF","if",448],["T_WHITESPACE"," ",448],"(",["T_STRING","count",448],"(",["T_VARIABLE","$termPositions",448],")",["T_WHITESPACE"," ",448],">",["T_WHITESPACE"," ",448],["T_LNUMBER","1",448],")",["T_WHITESPACE"," ",448],"{",["T_WHITESPACE","\n                ",448],["T_VARIABLE","$this",449],["T_OBJECT_OPERATOR","->",449],["T_STRING","_frqFile",449],["T_OBJECT_OPERATOR","->",449],["T_STRING","writeVInt",449],"(",["T_VARIABLE","$docDelta",449],")",";",["T_WHITESPACE","\n                ",449],["T_VARIABLE","$this",450],["T_OBJECT_OPERATOR","->",450],["T_STRING","_frqFile",450],["T_OBJECT_OPERATOR","->",450],["T_STRING","writeVInt",450],"(",["T_STRING","count",450],"(",["T_VARIABLE","$termPositions",450],")",")",";",["T_WHITESPACE","\n            ",450],"}",["T_WHITESPACE"," ",451],["T_ELSE","else",451],["T_WHITESPACE"," ",451],"{",["T_WHITESPACE","\n                ",451],["T_VARIABLE","$this",452],["T_OBJECT_OPERATOR","->",452],["T_STRING","_frqFile",452],["T_OBJECT_OPERATOR","->",452],["T_STRING","writeVInt",452],"(",["T_VARIABLE","$docDelta",452],["T_WHITESPACE"," ",452],"+",["T_WHITESPACE"," ",452],["T_LNUMBER","1",452],")",";",["T_WHITESPACE","\n            ",452],"}",["T_WHITESPACE","\n\n            ",453],["T_VARIABLE","$prevPosition",455],["T_WHITESPACE"," ",455],"=",["T_WHITESPACE"," ",455],["T_LNUMBER","0",455],";",["T_WHITESPACE","\n            ",455],["T_FOREACH","foreach",456],["T_WHITESPACE"," ",456],"(",["T_VARIABLE","$termPositions",456],["T_WHITESPACE"," ",456],["T_AS","as",456],["T_WHITESPACE"," ",456],["T_VARIABLE","$position",456],")",["T_WHITESPACE"," ",456],"{",["T_WHITESPACE","\n                ",456],["T_VARIABLE","$this",457],["T_OBJECT_OPERATOR","->",457],["T_STRING","_prxFile",457],["T_OBJECT_OPERATOR","->",457],["T_STRING","writeVInt",457],"(",["T_VARIABLE","$position",457],["T_WHITESPACE"," ",457],"-",["T_WHITESPACE"," ",457],["T_VARIABLE","$prevPosition",457],")",";",["T_WHITESPACE","\n                ",457],["T_VARIABLE","$prevPosition",458],["T_WHITESPACE"," ",458],"=",["T_WHITESPACE"," ",458],["T_VARIABLE","$position",458],";",["T_WHITESPACE","\n            ",458],"}",["T_WHITESPACE","\n        ",459],"}",["T_WHITESPACE","\n\n        ",460],["T_IF","if",462],["T_WHITESPACE"," ",462],"(",["T_STRING","count",462],"(",["T_VARIABLE","$termDocs",462],")",["T_WHITESPACE"," ",462],["T_IS_GREATER_OR_EQUAL",">=",462],["T_WHITESPACE"," ",462],["T_STRING","self",462],["T_DOUBLE_COLON","::",462],["T_VARIABLE","$skipInterval",462],")",["T_WHITESPACE"," ",462],"{",["T_WHITESPACE","\n            ",462],["T_DOC_COMMENT","\/**\n             * @todo Write Skip Data to a freq file.\n             * It's not used now, but make index more optimal\n             *\/",463],["T_WHITESPACE","\n            ",466],["T_VARIABLE","$skipOffset",467],["T_WHITESPACE"," ",467],"=",["T_WHITESPACE"," ",467],["T_VARIABLE","$this",467],["T_OBJECT_OPERATOR","->",467],["T_STRING","_frqFile",467],["T_OBJECT_OPERATOR","->",467],["T_STRING","tell",467],"(",")",["T_WHITESPACE"," ",467],"-",["T_WHITESPACE"," ",467],["T_VARIABLE","$freqPointer",467],";",["T_WHITESPACE","\n        ",467],"}",["T_WHITESPACE"," ",468],["T_ELSE","else",468],["T_WHITESPACE"," ",468],"{",["T_WHITESPACE","\n            ",468],["T_VARIABLE","$skipOffset",469],["T_WHITESPACE"," ",469],"=",["T_WHITESPACE"," ",469],["T_LNUMBER","0",469],";",["T_WHITESPACE","\n        ",469],"}",["T_WHITESPACE","\n\n        ",470],["T_VARIABLE","$term",472],["T_WHITESPACE"," ",472],"=",["T_WHITESPACE"," ",472],["T_NEW","new",472],["T_WHITESPACE"," ",472],["T_STRING","Zend_Search_Lucene_Index_Term",472],"(",["T_VARIABLE","$termEntry",472],["T_OBJECT_OPERATOR","->",472],["T_STRING","text",472],",",["T_WHITESPACE","\n                                                  ",472],["T_VARIABLE","$this",473],["T_OBJECT_OPERATOR","->",473],["T_STRING","_fields",473],"[",["T_VARIABLE","$termEntry",473],["T_OBJECT_OPERATOR","->",473],["T_STRING","field",473],"]",["T_OBJECT_OPERATOR","->",473],["T_STRING","number",473],")",";",["T_WHITESPACE","\n        ",473],["T_VARIABLE","$termInfo",474],["T_WHITESPACE"," ",474],"=",["T_WHITESPACE"," ",474],["T_NEW","new",474],["T_WHITESPACE"," ",474],["T_STRING","Zend_Search_Lucene_Index_TermInfo",474],"(",["T_STRING","count",474],"(",["T_VARIABLE","$termDocs",474],")",",",["T_WHITESPACE","\n                                                          ",474],["T_VARIABLE","$freqPointer",475],",",["T_WHITESPACE"," ",475],["T_VARIABLE","$proxPointer",475],",",["T_WHITESPACE"," ",475],["T_VARIABLE","$skipOffset",475],")",";",["T_WHITESPACE","\n\n        ",475],["T_VARIABLE","$this",477],["T_OBJECT_OPERATOR","->",477],["T_STRING","_dumpTermDictEntry",477],"(",["T_VARIABLE","$this",477],["T_OBJECT_OPERATOR","->",477],["T_STRING","_tisFile",477],",",["T_WHITESPACE"," ",477],["T_VARIABLE","$this",477],["T_OBJECT_OPERATOR","->",477],["T_STRING","_prevTerm",477],",",["T_WHITESPACE"," ",477],["T_VARIABLE","$term",477],",",["T_WHITESPACE"," ",477],["T_VARIABLE","$this",477],["T_OBJECT_OPERATOR","->",477],["T_STRING","_prevTermInfo",477],",",["T_WHITESPACE"," ",477],["T_VARIABLE","$termInfo",477],")",";",["T_WHITESPACE","\n\n        ",477],["T_IF","if",479],["T_WHITESPACE"," ",479],"(","(",["T_VARIABLE","$this",479],["T_OBJECT_OPERATOR","->",479],["T_STRING","_termCount",479],["T_WHITESPACE"," ",479],"+",["T_WHITESPACE"," ",479],["T_LNUMBER","1",479],")",["T_WHITESPACE"," ",479],"%",["T_WHITESPACE"," ",479],["T_STRING","self",479],["T_DOUBLE_COLON","::",479],["T_VARIABLE","$indexInterval",479],["T_WHITESPACE"," ",479],["T_IS_EQUAL","==",479],["T_WHITESPACE"," ",479],["T_LNUMBER","0",479],")",["T_WHITESPACE"," ",479],"{",["T_WHITESPACE","\n            ",479],["T_VARIABLE","$this",480],["T_OBJECT_OPERATOR","->",480],["T_STRING","_dumpTermDictEntry",480],"(",["T_VARIABLE","$this",480],["T_OBJECT_OPERATOR","->",480],["T_STRING","_tiiFile",480],",",["T_WHITESPACE"," ",480],["T_VARIABLE","$this",480],["T_OBJECT_OPERATOR","->",480],["T_STRING","_prevIndexTerm",480],",",["T_WHITESPACE"," ",480],["T_VARIABLE","$term",480],",",["T_WHITESPACE"," ",480],["T_VARIABLE","$this",480],["T_OBJECT_OPERATOR","->",480],["T_STRING","_prevIndexTermInfo",480],",",["T_WHITESPACE"," ",480],["T_VARIABLE","$termInfo",480],")",";",["T_WHITESPACE","\n\n            ",480],["T_VARIABLE","$indexPosition",482],["T_WHITESPACE"," ",482],"=",["T_WHITESPACE"," ",482],["T_VARIABLE","$this",482],["T_OBJECT_OPERATOR","->",482],["T_STRING","_tisFile",482],["T_OBJECT_OPERATOR","->",482],["T_STRING","tell",482],"(",")",";",["T_WHITESPACE","\n            ",482],["T_VARIABLE","$this",483],["T_OBJECT_OPERATOR","->",483],["T_STRING","_tiiFile",483],["T_OBJECT_OPERATOR","->",483],["T_STRING","writeVInt",483],"(",["T_VARIABLE","$indexPosition",483],["T_WHITESPACE"," ",483],"-",["T_WHITESPACE"," ",483],["T_VARIABLE","$this",483],["T_OBJECT_OPERATOR","->",483],["T_STRING","_lastIndexPosition",483],")",";",["T_WHITESPACE","\n            ",483],["T_VARIABLE","$this",484],["T_OBJECT_OPERATOR","->",484],["T_STRING","_lastIndexPosition",484],["T_WHITESPACE"," ",484],"=",["T_WHITESPACE"," ",484],["T_VARIABLE","$indexPosition",484],";",["T_WHITESPACE","\n\n        ",484],"}",["T_WHITESPACE","\n        ",486],["T_VARIABLE","$this",487],["T_OBJECT_OPERATOR","->",487],["T_STRING","_termCount",487],["T_INC","++",487],";",["T_WHITESPACE","\n    ",487],"}",["T_WHITESPACE","\n\n    ",488],["T_DOC_COMMENT","\/**\n     * Close dictionary\n     *\/",490],["T_WHITESPACE","\n    ",492],["T_PUBLIC","public",493],["T_WHITESPACE"," ",493],["T_FUNCTION","function",493],["T_WHITESPACE"," ",493],["T_STRING","closeDictionaryFiles",493],"(",")",["T_WHITESPACE","\n    ",493],"{",["T_WHITESPACE","\n        ",494],["T_VARIABLE","$this",495],["T_OBJECT_OPERATOR","->",495],["T_STRING","_tisFile",495],["T_OBJECT_OPERATOR","->",495],["T_STRING","seek",495],"(",["T_LNUMBER","4",495],")",";",["T_WHITESPACE","\n        ",495],["T_VARIABLE","$this",496],["T_OBJECT_OPERATOR","->",496],["T_STRING","_tisFile",496],["T_OBJECT_OPERATOR","->",496],["T_STRING","writeLong",496],"(",["T_VARIABLE","$this",496],["T_OBJECT_OPERATOR","->",496],["T_STRING","_termCount",496],")",";",["T_WHITESPACE","\n\n        ",496],["T_VARIABLE","$this",498],["T_OBJECT_OPERATOR","->",498],["T_STRING","_tiiFile",498],["T_OBJECT_OPERATOR","->",498],["T_STRING","seek",498],"(",["T_LNUMBER","4",498],")",";",["T_WHITESPACE","\n        ",498],["T_COMMENT","\/\/ + 1 is used to count an additional special index entry (empty term at the start of the list)\n",499],["T_WHITESPACE","        ",500],["T_VARIABLE","$this",500],["T_OBJECT_OPERATOR","->",500],["T_STRING","_tiiFile",500],["T_OBJECT_OPERATOR","->",500],["T_STRING","writeLong",500],"(","(",["T_VARIABLE","$this",500],["T_OBJECT_OPERATOR","->",500],["T_STRING","_termCount",500],["T_WHITESPACE"," ",500],"-",["T_WHITESPACE"," ",500],["T_VARIABLE","$this",500],["T_OBJECT_OPERATOR","->",500],["T_STRING","_termCount",500],["T_WHITESPACE"," ",500],"%",["T_WHITESPACE"," ",500],["T_STRING","self",500],["T_DOUBLE_COLON","::",500],["T_VARIABLE","$indexInterval",500],")","\/",["T_STRING","self",500],["T_DOUBLE_COLON","::",500],["T_VARIABLE","$indexInterval",500],["T_WHITESPACE"," ",500],"+",["T_WHITESPACE"," ",500],["T_LNUMBER","1",500],")",";",["T_WHITESPACE","\n    ",500],"}",["T_WHITESPACE","\n\n\n    ",501],["T_DOC_COMMENT","\/**\n     * Dump Term Dictionary segment file entry.\n     * Used to write entry to .tis or .tii files\n     *\n     * @param Zend_Search_Lucene_Storage_File $dicFile\n     * @param Zend_Search_Lucene_Index_Term $prevTerm\n     * @param Zend_Search_Lucene_Index_Term $term\n     * @param Zend_Search_Lucene_Index_TermInfo $prevTermInfo\n     * @param Zend_Search_Lucene_Index_TermInfo $termInfo\n     *\/",504],["T_WHITESPACE","\n    ",513],["T_PROTECTED","protected",514],["T_WHITESPACE"," ",514],["T_FUNCTION","function",514],["T_WHITESPACE"," ",514],["T_STRING","_dumpTermDictEntry",514],"(",["T_STRING","Zend_Search_Lucene_Storage_File",514],["T_WHITESPACE"," ",514],["T_VARIABLE","$dicFile",514],",",["T_WHITESPACE","\n                                        ",514],"&",["T_VARIABLE","$prevTerm",515],",",["T_WHITESPACE","     ",515],["T_STRING","Zend_Search_Lucene_Index_Term",515],["T_WHITESPACE","     ",515],["T_VARIABLE","$term",515],",",["T_WHITESPACE","\n                                        ",515],"&",["T_VARIABLE","$prevTermInfo",516],",",["T_WHITESPACE"," ",516],["T_STRING","Zend_Search_Lucene_Index_TermInfo",516],["T_WHITESPACE"," ",516],["T_VARIABLE","$termInfo",516],")",["T_WHITESPACE","\n    ",516],"{",["T_WHITESPACE","\n        ",517],["T_IF","if",518],["T_WHITESPACE"," ",518],"(",["T_ISSET","isset",518],"(",["T_VARIABLE","$prevTerm",518],")",["T_WHITESPACE"," ",518],["T_BOOLEAN_AND","&&",518],["T_WHITESPACE"," ",518],["T_VARIABLE","$prevTerm",518],["T_OBJECT_OPERATOR","->",518],["T_STRING","field",518],["T_WHITESPACE"," ",518],["T_IS_EQUAL","==",518],["T_WHITESPACE"," ",518],["T_VARIABLE","$term",518],["T_OBJECT_OPERATOR","->",518],["T_STRING","field",518],")",["T_WHITESPACE"," ",518],"{",["T_WHITESPACE","\n            ",518],["T_VARIABLE","$matchedBytes",519],["T_WHITESPACE"," ",519],"=",["T_WHITESPACE"," ",519],["T_LNUMBER","0",519],";",["T_WHITESPACE","\n            ",519],["T_VARIABLE","$maxBytes",520],["T_WHITESPACE"," ",520],"=",["T_WHITESPACE"," ",520],["T_STRING","min",520],"(",["T_STRING","strlen",520],"(",["T_VARIABLE","$prevTerm",520],["T_OBJECT_OPERATOR","->",520],["T_STRING","text",520],")",",",["T_WHITESPACE"," ",520],["T_STRING","strlen",520],"(",["T_VARIABLE","$term",520],["T_OBJECT_OPERATOR","->",520],["T_STRING","text",520],")",")",";",["T_WHITESPACE","\n            ",520],["T_WHILE","while",521],["T_WHITESPACE"," ",521],"(",["T_VARIABLE","$matchedBytes",521],["T_WHITESPACE"," ",521],"<",["T_WHITESPACE"," ",521],["T_VARIABLE","$maxBytes",521],["T_WHITESPACE","  ",521],["T_BOOLEAN_AND","&&",521],["T_WHITESPACE","\n                   ",521],["T_VARIABLE","$prevTerm",522],["T_OBJECT_OPERATOR","->",522],["T_STRING","text",522],"[",["T_VARIABLE","$matchedBytes",522],"]",["T_WHITESPACE"," ",522],["T_IS_EQUAL","==",522],["T_WHITESPACE"," ",522],["T_VARIABLE","$term",522],["T_OBJECT_OPERATOR","->",522],["T_STRING","text",522],"[",["T_VARIABLE","$matchedBytes",522],"]",")",["T_WHITESPACE"," ",522],"{",["T_WHITESPACE","\n                ",522],["T_VARIABLE","$matchedBytes",523],["T_INC","++",523],";",["T_WHITESPACE","\n            ",523],"}",["T_WHITESPACE","\n\n            ",524],["T_COMMENT","\/\/ Calculate actual matched UTF-8 pattern\n",526],["T_WHITESPACE","            ",527],["T_VARIABLE","$prefixBytes",527],["T_WHITESPACE"," ",527],"=",["T_WHITESPACE"," ",527],["T_LNUMBER","0",527],";",["T_WHITESPACE","\n            ",527],["T_VARIABLE","$prefixChars",528],["T_WHITESPACE"," ",528],"=",["T_WHITESPACE"," ",528],["T_LNUMBER","0",528],";",["T_WHITESPACE","\n            ",528],["T_WHILE","while",529],["T_WHITESPACE"," ",529],"(",["T_VARIABLE","$prefixBytes",529],["T_WHITESPACE"," ",529],"<",["T_WHITESPACE"," ",529],["T_VARIABLE","$matchedBytes",529],")",["T_WHITESPACE"," ",529],"{",["T_WHITESPACE","\n                ",529],["T_VARIABLE","$charBytes",530],["T_WHITESPACE"," ",530],"=",["T_WHITESPACE"," ",530],["T_LNUMBER","1",530],";",["T_WHITESPACE","\n                ",530],["T_IF","if",531],["T_WHITESPACE"," ",531],"(","(",["T_STRING","ord",531],"(",["T_VARIABLE","$term",531],["T_OBJECT_OPERATOR","->",531],["T_STRING","text",531],"[",["T_VARIABLE","$prefixBytes",531],"]",")",["T_WHITESPACE"," ",531],"&",["T_WHITESPACE"," ",531],["T_LNUMBER","0xC0",531],")",["T_WHITESPACE"," ",531],["T_IS_EQUAL","==",531],["T_WHITESPACE"," ",531],["T_LNUMBER","0xC0",531],")",["T_WHITESPACE"," ",531],"{",["T_WHITESPACE","\n                    ",531],["T_VARIABLE","$charBytes",532],["T_INC","++",532],";",["T_WHITESPACE","\n                    ",532],["T_IF","if",533],["T_WHITESPACE"," ",533],"(",["T_STRING","ord",533],"(",["T_VARIABLE","$term",533],["T_OBJECT_OPERATOR","->",533],["T_STRING","text",533],"[",["T_VARIABLE","$prefixBytes",533],"]",")",["T_WHITESPACE"," ",533],"&",["T_WHITESPACE"," ",533],["T_LNUMBER","0x20",533],["T_WHITESPACE"," ",533],")",["T_WHITESPACE"," ",533],"{",["T_WHITESPACE","\n                        ",533],["T_VARIABLE","$charBytes",534],["T_INC","++",534],";",["T_WHITESPACE","\n                        ",534],["T_IF","if",535],["T_WHITESPACE"," ",535],"(",["T_STRING","ord",535],"(",["T_VARIABLE","$term",535],["T_OBJECT_OPERATOR","->",535],["T_STRING","text",535],"[",["T_VARIABLE","$prefixBytes",535],"]",")",["T_WHITESPACE"," ",535],"&",["T_WHITESPACE"," ",535],["T_LNUMBER","0x10",535],["T_WHITESPACE"," ",535],")",["T_WHITESPACE"," ",535],"{",["T_WHITESPACE","\n                            ",535],["T_VARIABLE","$charBytes",536],["T_INC","++",536],";",["T_WHITESPACE","\n                        ",536],"}",["T_WHITESPACE","\n                    ",537],"}",["T_WHITESPACE","\n                ",538],"}",["T_WHITESPACE","\n\n                ",539],["T_IF","if",541],["T_WHITESPACE"," ",541],"(",["T_VARIABLE","$prefixBytes",541],["T_WHITESPACE"," ",541],"+",["T_WHITESPACE"," ",541],["T_VARIABLE","$charBytes",541],["T_WHITESPACE"," ",541],">",["T_WHITESPACE"," ",541],["T_VARIABLE","$matchedBytes",541],")",["T_WHITESPACE"," ",541],"{",["T_WHITESPACE","\n                    ",541],["T_COMMENT","\/\/ char crosses matched bytes boundary\n",542],["T_WHITESPACE","                    ",543],["T_COMMENT","\/\/ skip char\n",543],["T_WHITESPACE","                    ",544],["T_BREAK","break",544],";",["T_WHITESPACE","\n                ",544],"}",["T_WHITESPACE","\n\n                ",545],["T_VARIABLE","$prefixChars",547],["T_INC","++",547],";",["T_WHITESPACE","\n                ",547],["T_VARIABLE","$prefixBytes",548],["T_WHITESPACE"," ",548],["T_PLUS_EQUAL","+=",548],["T_WHITESPACE"," ",548],["T_VARIABLE","$charBytes",548],";",["T_WHITESPACE","\n            ",548],"}",["T_WHITESPACE","\n\n            ",549],["T_COMMENT","\/\/ Write preffix length\n",551],["T_WHITESPACE","            ",552],["T_VARIABLE","$dicFile",552],["T_OBJECT_OPERATOR","->",552],["T_STRING","writeVInt",552],"(",["T_VARIABLE","$prefixChars",552],")",";",["T_WHITESPACE","\n            ",552],["T_COMMENT","\/\/ Write suffix\n",553],["T_WHITESPACE","            ",554],["T_VARIABLE","$dicFile",554],["T_OBJECT_OPERATOR","->",554],["T_STRING","writeString",554],"(",["T_STRING","substr",554],"(",["T_VARIABLE","$term",554],["T_OBJECT_OPERATOR","->",554],["T_STRING","text",554],",",["T_WHITESPACE"," ",554],["T_VARIABLE","$prefixBytes",554],")",")",";",["T_WHITESPACE","\n        ",554],"}",["T_WHITESPACE"," ",555],["T_ELSE","else",555],["T_WHITESPACE"," ",555],"{",["T_WHITESPACE","\n            ",555],["T_COMMENT","\/\/ Write preffix length\n",556],["T_WHITESPACE","            ",557],["T_VARIABLE","$dicFile",557],["T_OBJECT_OPERATOR","->",557],["T_STRING","writeVInt",557],"(",["T_LNUMBER","0",557],")",";",["T_WHITESPACE","\n            ",557],["T_COMMENT","\/\/ Write suffix\n",558],["T_WHITESPACE","            ",559],["T_VARIABLE","$dicFile",559],["T_OBJECT_OPERATOR","->",559],["T_STRING","writeString",559],"(",["T_VARIABLE","$term",559],["T_OBJECT_OPERATOR","->",559],["T_STRING","text",559],")",";",["T_WHITESPACE","\n        ",559],"}",["T_WHITESPACE","\n        ",560],["T_COMMENT","\/\/ Write field number\n",561],["T_WHITESPACE","        ",562],["T_VARIABLE","$dicFile",562],["T_OBJECT_OPERATOR","->",562],["T_STRING","writeVInt",562],"(",["T_VARIABLE","$term",562],["T_OBJECT_OPERATOR","->",562],["T_STRING","field",562],")",";",["T_WHITESPACE","\n        ",562],["T_COMMENT","\/\/ DocFreq (the count of documents which contain the term)\n",563],["T_WHITESPACE","        ",564],["T_VARIABLE","$dicFile",564],["T_OBJECT_OPERATOR","->",564],["T_STRING","writeVInt",564],"(",["T_VARIABLE","$termInfo",564],["T_OBJECT_OPERATOR","->",564],["T_STRING","docFreq",564],")",";",["T_WHITESPACE","\n\n        ",564],["T_VARIABLE","$prevTerm",566],["T_WHITESPACE"," ",566],"=",["T_WHITESPACE"," ",566],["T_VARIABLE","$term",566],";",["T_WHITESPACE","\n\n        ",566],["T_IF","if",568],["T_WHITESPACE"," ",568],"(","!",["T_ISSET","isset",568],"(",["T_VARIABLE","$prevTermInfo",568],")",")",["T_WHITESPACE"," ",568],"{",["T_WHITESPACE","\n            ",568],["T_COMMENT","\/\/ Write FreqDelta\n",569],["T_WHITESPACE","            ",570],["T_VARIABLE","$dicFile",570],["T_OBJECT_OPERATOR","->",570],["T_STRING","writeVInt",570],"(",["T_VARIABLE","$termInfo",570],["T_OBJECT_OPERATOR","->",570],["T_STRING","freqPointer",570],")",";",["T_WHITESPACE","\n            ",570],["T_COMMENT","\/\/ Write ProxDelta\n",571],["T_WHITESPACE","            ",572],["T_VARIABLE","$dicFile",572],["T_OBJECT_OPERATOR","->",572],["T_STRING","writeVInt",572],"(",["T_VARIABLE","$termInfo",572],["T_OBJECT_OPERATOR","->",572],["T_STRING","proxPointer",572],")",";",["T_WHITESPACE","\n        ",572],"}",["T_WHITESPACE"," ",573],["T_ELSE","else",573],["T_WHITESPACE"," ",573],"{",["T_WHITESPACE","\n            ",573],["T_COMMENT","\/\/ Write FreqDelta\n",574],["T_WHITESPACE","            ",575],["T_VARIABLE","$dicFile",575],["T_OBJECT_OPERATOR","->",575],["T_STRING","writeVInt",575],"(",["T_VARIABLE","$termInfo",575],["T_OBJECT_OPERATOR","->",575],["T_STRING","freqPointer",575],["T_WHITESPACE"," ",575],"-",["T_WHITESPACE"," ",575],["T_VARIABLE","$prevTermInfo",575],["T_OBJECT_OPERATOR","->",575],["T_STRING","freqPointer",575],")",";",["T_WHITESPACE","\n            ",575],["T_COMMENT","\/\/ Write ProxDelta\n",576],["T_WHITESPACE","            ",577],["T_VARIABLE","$dicFile",577],["T_OBJECT_OPERATOR","->",577],["T_STRING","writeVInt",577],"(",["T_VARIABLE","$termInfo",577],["T_OBJECT_OPERATOR","->",577],["T_STRING","proxPointer",577],["T_WHITESPACE"," ",577],"-",["T_WHITESPACE"," ",577],["T_VARIABLE","$prevTermInfo",577],["T_OBJECT_OPERATOR","->",577],["T_STRING","proxPointer",577],")",";",["T_WHITESPACE","\n        ",577],"}",["T_WHITESPACE","\n        ",578],["T_COMMENT","\/\/ Write SkipOffset - it's not 0 when $termInfo->docFreq > self::$skipInterval\n",579],["T_WHITESPACE","        ",580],["T_IF","if",580],["T_WHITESPACE"," ",580],"(",["T_VARIABLE","$termInfo",580],["T_OBJECT_OPERATOR","->",580],["T_STRING","skipOffset",580],["T_WHITESPACE"," ",580],["T_IS_NOT_EQUAL","!=",580],["T_WHITESPACE"," ",580],["T_LNUMBER","0",580],")",["T_WHITESPACE"," ",580],"{",["T_WHITESPACE","\n            ",580],["T_VARIABLE","$dicFile",581],["T_OBJECT_OPERATOR","->",581],["T_STRING","writeVInt",581],"(",["T_VARIABLE","$termInfo",581],["T_OBJECT_OPERATOR","->",581],["T_STRING","skipOffset",581],")",";",["T_WHITESPACE","\n        ",581],"}",["T_WHITESPACE","\n\n        ",582],["T_VARIABLE","$prevTermInfo",584],["T_WHITESPACE"," ",584],"=",["T_WHITESPACE"," ",584],["T_VARIABLE","$termInfo",584],";",["T_WHITESPACE","\n    ",584],"}",["T_WHITESPACE","\n\n\n    ",585],["T_DOC_COMMENT","\/**\n     * Generate compound index file\n     *\/",588],["T_WHITESPACE","\n    ",590],["T_PROTECTED","protected",591],["T_WHITESPACE"," ",591],["T_FUNCTION","function",591],["T_WHITESPACE"," ",591],["T_STRING","_generateCFS",591],"(",")",["T_WHITESPACE","\n    ",591],"{",["T_WHITESPACE","\n        ",592],["T_VARIABLE","$cfsFile",593],["T_WHITESPACE"," ",593],"=",["T_WHITESPACE"," ",593],["T_VARIABLE","$this",593],["T_OBJECT_OPERATOR","->",593],["T_STRING","_directory",593],["T_OBJECT_OPERATOR","->",593],["T_STRING","createFile",593],"(",["T_VARIABLE","$this",593],["T_OBJECT_OPERATOR","->",593],["T_STRING","_name",593],["T_WHITESPACE"," ",593],".",["T_WHITESPACE"," ",593],["T_CONSTANT_ENCAPSED_STRING","'.cfs'",593],")",";",["T_WHITESPACE","\n        ",593],["T_VARIABLE","$cfsFile",594],["T_OBJECT_OPERATOR","->",594],["T_STRING","writeVInt",594],"(",["T_STRING","count",594],"(",["T_VARIABLE","$this",594],["T_OBJECT_OPERATOR","->",594],["T_STRING","_files",594],")",")",";",["T_WHITESPACE","\n\n        ",594],["T_VARIABLE","$dataOffsetPointers",596],["T_WHITESPACE"," ",596],"=",["T_WHITESPACE"," ",596],["T_ARRAY","array",596],"(",")",";",["T_WHITESPACE","\n        ",596],["T_FOREACH","foreach",597],["T_WHITESPACE"," ",597],"(",["T_VARIABLE","$this",597],["T_OBJECT_OPERATOR","->",597],["T_STRING","_files",597],["T_WHITESPACE"," ",597],["T_AS","as",597],["T_WHITESPACE"," ",597],["T_VARIABLE","$fileName",597],")",["T_WHITESPACE"," ",597],"{",["T_WHITESPACE","\n            ",597],["T_VARIABLE","$dataOffsetPointers",598],"[",["T_VARIABLE","$fileName",598],"]",["T_WHITESPACE"," ",598],"=",["T_WHITESPACE"," ",598],["T_VARIABLE","$cfsFile",598],["T_OBJECT_OPERATOR","->",598],["T_STRING","tell",598],"(",")",";",["T_WHITESPACE","\n            ",598],["T_VARIABLE","$cfsFile",599],["T_OBJECT_OPERATOR","->",599],["T_STRING","writeLong",599],"(",["T_LNUMBER","0",599],")",";",["T_WHITESPACE"," ",599],["T_COMMENT","\/\/ write dummy data\n",599],["T_WHITESPACE","            ",600],["T_VARIABLE","$cfsFile",600],["T_OBJECT_OPERATOR","->",600],["T_STRING","writeString",600],"(",["T_VARIABLE","$fileName",600],")",";",["T_WHITESPACE","\n        ",600],"}",["T_WHITESPACE","\n\n        ",601],["T_FOREACH","foreach",603],["T_WHITESPACE"," ",603],"(",["T_VARIABLE","$this",603],["T_OBJECT_OPERATOR","->",603],["T_STRING","_files",603],["T_WHITESPACE"," ",603],["T_AS","as",603],["T_WHITESPACE"," ",603],["T_VARIABLE","$fileName",603],")",["T_WHITESPACE"," ",603],"{",["T_WHITESPACE","\n            ",603],["T_COMMENT","\/\/ Get actual data offset\n",604],["T_WHITESPACE","            ",605],["T_VARIABLE","$dataOffset",605],["T_WHITESPACE"," ",605],"=",["T_WHITESPACE"," ",605],["T_VARIABLE","$cfsFile",605],["T_OBJECT_OPERATOR","->",605],["T_STRING","tell",605],"(",")",";",["T_WHITESPACE","\n            ",605],["T_COMMENT","\/\/ Seek to the data offset pointer\n",606],["T_WHITESPACE","            ",607],["T_VARIABLE","$cfsFile",607],["T_OBJECT_OPERATOR","->",607],["T_STRING","seek",607],"(",["T_VARIABLE","$dataOffsetPointers",607],"[",["T_VARIABLE","$fileName",607],"]",")",";",["T_WHITESPACE","\n            ",607],["T_COMMENT","\/\/ Write actual data offset value\n",608],["T_WHITESPACE","            ",609],["T_VARIABLE","$cfsFile",609],["T_OBJECT_OPERATOR","->",609],["T_STRING","writeLong",609],"(",["T_VARIABLE","$dataOffset",609],")",";",["T_WHITESPACE","\n            ",609],["T_COMMENT","\/\/ Seek back to the end of file\n",610],["T_WHITESPACE","            ",611],["T_VARIABLE","$cfsFile",611],["T_OBJECT_OPERATOR","->",611],["T_STRING","seek",611],"(",["T_VARIABLE","$dataOffset",611],")",";",["T_WHITESPACE","\n\n            ",611],["T_VARIABLE","$dataFile",613],["T_WHITESPACE"," ",613],"=",["T_WHITESPACE"," ",613],["T_VARIABLE","$this",613],["T_OBJECT_OPERATOR","->",613],["T_STRING","_directory",613],["T_OBJECT_OPERATOR","->",613],["T_STRING","getFileObject",613],"(",["T_VARIABLE","$fileName",613],")",";",["T_WHITESPACE","\n\n            ",613],["T_VARIABLE","$byteCount",615],["T_WHITESPACE"," ",615],"=",["T_WHITESPACE"," ",615],["T_VARIABLE","$this",615],["T_OBJECT_OPERATOR","->",615],["T_STRING","_directory",615],["T_OBJECT_OPERATOR","->",615],["T_STRING","fileLength",615],"(",["T_VARIABLE","$fileName",615],")",";",["T_WHITESPACE","\n            ",615],["T_WHILE","while",616],["T_WHITESPACE"," ",616],"(",["T_VARIABLE","$byteCount",616],["T_WHITESPACE"," ",616],">",["T_WHITESPACE"," ",616],["T_LNUMBER","0",616],")",["T_WHITESPACE"," ",616],"{",["T_WHITESPACE","\n                ",616],["T_VARIABLE","$data",617],["T_WHITESPACE"," ",617],"=",["T_WHITESPACE"," ",617],["T_VARIABLE","$dataFile",617],["T_OBJECT_OPERATOR","->",617],["T_STRING","readBytes",617],"(",["T_STRING","min",617],"(",["T_VARIABLE","$byteCount",617],",",["T_WHITESPACE"," ",617],["T_LNUMBER","131072",617],["T_WHITESPACE"," ",617],["T_COMMENT","\/*128Kb*\/",617],")",")",";",["T_WHITESPACE","\n                ",617],["T_VARIABLE","$byteCount",618],["T_WHITESPACE"," ",618],["T_MINUS_EQUAL","-=",618],["T_WHITESPACE"," ",618],["T_STRING","strlen",618],"(",["T_VARIABLE","$data",618],")",";",["T_WHITESPACE","\n                ",618],["T_VARIABLE","$cfsFile",619],["T_OBJECT_OPERATOR","->",619],["T_STRING","writeBytes",619],"(",["T_VARIABLE","$data",619],")",";",["T_WHITESPACE","\n            ",619],"}",["T_WHITESPACE","\n\n            ",620],["T_VARIABLE","$this",622],["T_OBJECT_OPERATOR","->",622],["T_STRING","_directory",622],["T_OBJECT_OPERATOR","->",622],["T_STRING","deleteFile",622],"(",["T_VARIABLE","$fileName",622],")",";",["T_WHITESPACE","\n        ",622],"}",["T_WHITESPACE","\n    ",623],"}",["T_WHITESPACE","\n\n\n    ",624],["T_DOC_COMMENT","\/**\n     * Close segment, write it to disk and return segment info\n     *\n     * @return Zend_Search_Lucene_Index_SegmentInfo\n     *\/",627],["T_WHITESPACE","\n    ",631],["T_ABSTRACT","abstract",632],["T_WHITESPACE"," ",632],["T_PUBLIC","public",632],["T_WHITESPACE"," ",632],["T_FUNCTION","function",632],["T_WHITESPACE"," ",632],["T_STRING","close",632],"(",")",";",["T_WHITESPACE","\n",632],"}",["T_WHITESPACE","\n\n",633]]