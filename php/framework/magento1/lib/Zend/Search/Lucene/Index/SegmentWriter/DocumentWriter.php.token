[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Zend Framework\n *\n * LICENSE\n *\n * This source file is subject to the new BSD license that is bundled\n * with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/framework.zend.com\/license\/new-bsd\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@zend.com so we can send you a copy immediately.\n *\n * @category   Zend\n * @package    Zend_Search_Lucene\n * @subpackage Index\n * @copyright  Copyright (c) 2005-2015 Zend Technologies USA Inc. (http:\/\/www.zend.com)\n * @license    http:\/\/framework.zend.com\/license\/new-bsd     New BSD License\n * @version    $Id$\n *\/",2],["T_WHITESPACE","\n\n",21],["T_DOC_COMMENT","\/** Zend_Search_Lucene_Index_SegmentWriter *\/",23],["T_WHITESPACE","\n",23],["T_COMMENT","#require_once 'Zend\/Search\/Lucene\/Index\/SegmentWriter.php';\n",24],["T_WHITESPACE","\n",25],["T_DOC_COMMENT","\/**\n * @category   Zend\n * @package    Zend_Search_Lucene\n * @subpackage Index\n * @copyright  Copyright (c) 2005-2015 Zend Technologies USA Inc. (http:\/\/www.zend.com)\n * @license    http:\/\/framework.zend.com\/license\/new-bsd     New BSD License\n *\/",26],["T_WHITESPACE","\n",32],["T_CLASS","class",33],["T_WHITESPACE"," ",33],["T_STRING","Zend_Search_Lucene_Index_SegmentWriter_DocumentWriter",33],["T_WHITESPACE"," ",33],["T_EXTENDS","extends",33],["T_WHITESPACE"," ",33],["T_STRING","Zend_Search_Lucene_Index_SegmentWriter",33],["T_WHITESPACE","\n",33],"{",["T_WHITESPACE","\n    ",34],["T_DOC_COMMENT","\/**\n     * Term Dictionary\n     * Array of the Zend_Search_Lucene_Index_Term objects\n     * Corresponding Zend_Search_Lucene_Index_TermInfo object stored in the $_termDictionaryInfos\n     *\n     * @var array\n     *\/",35],["T_WHITESPACE","\n    ",41],["T_PROTECTED","protected",42],["T_WHITESPACE"," ",42],["T_VARIABLE","$_termDictionary",42],";",["T_WHITESPACE","\n\n    ",42],["T_DOC_COMMENT","\/**\n     * Documents, which contain the term\n     *\n     * @var array\n     *\/",44],["T_WHITESPACE","\n    ",48],["T_PROTECTED","protected",49],["T_WHITESPACE"," ",49],["T_VARIABLE","$_termDocs",49],";",["T_WHITESPACE","\n\n    ",49],["T_DOC_COMMENT","\/**\n     * Object constructor.\n     *\n     * @param Zend_Search_Lucene_Storage_Directory $directory\n     * @param string $name\n     *\/",51],["T_WHITESPACE","\n    ",56],["T_PUBLIC","public",57],["T_WHITESPACE"," ",57],["T_FUNCTION","function",57],["T_WHITESPACE"," ",57],["T_STRING","__construct",57],"(",["T_STRING","Zend_Search_Lucene_Storage_Directory",57],["T_WHITESPACE"," ",57],["T_VARIABLE","$directory",57],",",["T_WHITESPACE"," ",57],["T_VARIABLE","$name",57],")",["T_WHITESPACE","\n    ",57],"{",["T_WHITESPACE","\n        ",58],["T_STRING","parent",59],["T_DOUBLE_COLON","::",59],["T_STRING","__construct",59],"(",["T_VARIABLE","$directory",59],",",["T_WHITESPACE"," ",59],["T_VARIABLE","$name",59],")",";",["T_WHITESPACE","\n\n        ",59],["T_VARIABLE","$this",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","_termDocs",61],["T_WHITESPACE","       ",61],"=",["T_WHITESPACE"," ",61],["T_ARRAY","array",61],"(",")",";",["T_WHITESPACE","\n        ",61],["T_VARIABLE","$this",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","_termDictionary",62],["T_WHITESPACE"," ",62],"=",["T_WHITESPACE"," ",62],["T_ARRAY","array",62],"(",")",";",["T_WHITESPACE","\n    ",62],"}",["T_WHITESPACE","\n\n\n    ",63],["T_DOC_COMMENT","\/**\n     * Adds a document to this segment.\n     *\n     * @param Zend_Search_Lucene_Document $document\n     * @throws Zend_Search_Lucene_Exception\n     *\/",66],["T_WHITESPACE","\n    ",71],["T_PUBLIC","public",72],["T_WHITESPACE"," ",72],["T_FUNCTION","function",72],["T_WHITESPACE"," ",72],["T_STRING","addDocument",72],"(",["T_STRING","Zend_Search_Lucene_Document",72],["T_WHITESPACE"," ",72],["T_VARIABLE","$document",72],")",["T_WHITESPACE","\n    ",72],"{",["T_WHITESPACE","\n        ",73],["T_DOC_COMMENT","\/** Zend_Search_Lucene_Search_Similarity *\/",74],["T_WHITESPACE","\n        ",74],["T_COMMENT","#require_once 'Zend\/Search\/Lucene\/Search\/Similarity.php';\n",75],["T_WHITESPACE","\n        ",76],["T_VARIABLE","$storedFields",77],["T_WHITESPACE"," ",77],"=",["T_WHITESPACE"," ",77],["T_ARRAY","array",77],"(",")",";",["T_WHITESPACE","\n        ",77],["T_VARIABLE","$docNorms",78],["T_WHITESPACE","     ",78],"=",["T_WHITESPACE"," ",78],["T_ARRAY","array",78],"(",")",";",["T_WHITESPACE","\n        ",78],["T_VARIABLE","$similarity",79],["T_WHITESPACE","   ",79],"=",["T_WHITESPACE"," ",79],["T_STRING","Zend_Search_Lucene_Search_Similarity",79],["T_DOUBLE_COLON","::",79],["T_STRING","getDefault",79],"(",")",";",["T_WHITESPACE","\n\n        ",79],["T_FOREACH","foreach",81],["T_WHITESPACE"," ",81],"(",["T_VARIABLE","$document",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","getFieldNames",81],"(",")",["T_WHITESPACE"," ",81],["T_AS","as",81],["T_WHITESPACE"," ",81],["T_VARIABLE","$fieldName",81],")",["T_WHITESPACE"," ",81],"{",["T_WHITESPACE","\n            ",81],["T_VARIABLE","$field",82],["T_WHITESPACE"," ",82],"=",["T_WHITESPACE"," ",82],["T_VARIABLE","$document",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","getField",82],"(",["T_VARIABLE","$fieldName",82],")",";",["T_WHITESPACE","\n\n            ",82],["T_IF","if",84],["T_WHITESPACE"," ",84],"(",["T_VARIABLE","$field",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","storeTermVector",84],")",["T_WHITESPACE"," ",84],"{",["T_WHITESPACE","\n                ",84],["T_DOC_COMMENT","\/**\n                 * @todo term vector storing support\n                 *\/",85],["T_WHITESPACE","\n                ",87],["T_COMMENT","#require_once 'Zend\/Search\/Lucene\/Exception.php';\n",88],["T_WHITESPACE","                ",89],["T_THROW","throw",89],["T_WHITESPACE"," ",89],["T_NEW","new",89],["T_WHITESPACE"," ",89],["T_STRING","Zend_Search_Lucene_Exception",89],"(",["T_CONSTANT_ENCAPSED_STRING","'Store term vector functionality is not supported yet.'",89],")",";",["T_WHITESPACE","\n            ",89],"}",["T_WHITESPACE","\n\n            ",90],["T_IF","if",92],["T_WHITESPACE"," ",92],"(",["T_VARIABLE","$field",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","isIndexed",92],")",["T_WHITESPACE"," ",92],"{",["T_WHITESPACE","\n                ",92],["T_IF","if",93],["T_WHITESPACE"," ",93],"(",["T_VARIABLE","$field",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","isTokenized",93],")",["T_WHITESPACE"," ",93],"{",["T_WHITESPACE","\n                    ",93],["T_DOC_COMMENT","\/** Zend_Search_Lucene_Analysis_Analyzer *\/",94],["T_WHITESPACE","\n                    ",94],["T_COMMENT","#require_once 'Zend\/Search\/Lucene\/Analysis\/Analyzer.php';\n",95],["T_WHITESPACE","\n                    ",96],["T_VARIABLE","$analyzer",97],["T_WHITESPACE"," ",97],"=",["T_WHITESPACE"," ",97],["T_STRING","Zend_Search_Lucene_Analysis_Analyzer",97],["T_DOUBLE_COLON","::",97],["T_STRING","getDefault",97],"(",")",";",["T_WHITESPACE","\n                    ",97],["T_VARIABLE","$analyzer",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","setInput",98],"(",["T_VARIABLE","$field",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","value",98],",",["T_WHITESPACE"," ",98],["T_VARIABLE","$field",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","encoding",98],")",";",["T_WHITESPACE","\n\n                    ",98],["T_VARIABLE","$position",100],["T_WHITESPACE","     ",100],"=",["T_WHITESPACE"," ",100],["T_LNUMBER","0",100],";",["T_WHITESPACE","\n                    ",100],["T_VARIABLE","$tokenCounter",101],["T_WHITESPACE"," ",101],"=",["T_WHITESPACE"," ",101],["T_LNUMBER","0",101],";",["T_WHITESPACE","\n                    ",101],["T_WHILE","while",102],["T_WHITESPACE"," ",102],"(","(",["T_VARIABLE","$token",102],["T_WHITESPACE"," ",102],"=",["T_WHITESPACE"," ",102],["T_VARIABLE","$analyzer",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","nextToken",102],"(",")",")",["T_WHITESPACE"," ",102],["T_IS_NOT_IDENTICAL","!==",102],["T_WHITESPACE"," ",102],["T_STRING","null",102],")",["T_WHITESPACE"," ",102],"{",["T_WHITESPACE","\n                        ",102],["T_VARIABLE","$tokenCounter",103],["T_INC","++",103],";",["T_WHITESPACE","\n\n                        ",103],["T_VARIABLE","$term",105],["T_WHITESPACE"," ",105],"=",["T_WHITESPACE"," ",105],["T_NEW","new",105],["T_WHITESPACE"," ",105],["T_STRING","Zend_Search_Lucene_Index_Term",105],"(",["T_VARIABLE","$token",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","getTermText",105],"(",")",",",["T_WHITESPACE"," ",105],["T_VARIABLE","$field",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","name",105],")",";",["T_WHITESPACE","\n                        ",105],["T_VARIABLE","$termKey",106],["T_WHITESPACE"," ",106],"=",["T_WHITESPACE"," ",106],["T_VARIABLE","$term",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","key",106],"(",")",";",["T_WHITESPACE","\n\n                        ",106],["T_IF","if",108],["T_WHITESPACE"," ",108],"(","!",["T_ISSET","isset",108],"(",["T_VARIABLE","$this",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","_termDictionary",108],"[",["T_VARIABLE","$termKey",108],"]",")",")",["T_WHITESPACE"," ",108],"{",["T_WHITESPACE","\n                            ",108],["T_COMMENT","\/\/ New term\n",109],["T_WHITESPACE","                            ",110],["T_VARIABLE","$this",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","_termDictionary",110],"[",["T_VARIABLE","$termKey",110],"]",["T_WHITESPACE"," ",110],"=",["T_WHITESPACE"," ",110],["T_VARIABLE","$term",110],";",["T_WHITESPACE","\n                            ",110],["T_VARIABLE","$this",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","_termDocs",111],"[",["T_VARIABLE","$termKey",111],"]",["T_WHITESPACE"," ",111],"=",["T_WHITESPACE"," ",111],["T_ARRAY","array",111],"(",")",";",["T_WHITESPACE","\n                            ",111],["T_VARIABLE","$this",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","_termDocs",112],"[",["T_VARIABLE","$termKey",112],"]","[",["T_VARIABLE","$this",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","_docCount",112],"]",["T_WHITESPACE"," ",112],"=",["T_WHITESPACE"," ",112],["T_ARRAY","array",112],"(",")",";",["T_WHITESPACE","\n                        ",112],"}",["T_WHITESPACE"," ",113],["T_ELSE","else",113],["T_WHITESPACE"," ",113],["T_IF","if",113],["T_WHITESPACE"," ",113],"(","!",["T_ISSET","isset",113],"(",["T_VARIABLE","$this",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","_termDocs",113],"[",["T_VARIABLE","$termKey",113],"]","[",["T_VARIABLE","$this",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","_docCount",113],"]",")",")",["T_WHITESPACE"," ",113],"{",["T_WHITESPACE","\n                            ",113],["T_COMMENT","\/\/ Existing term, but new term entry\n",114],["T_WHITESPACE","                            ",115],["T_VARIABLE","$this",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","_termDocs",115],"[",["T_VARIABLE","$termKey",115],"]","[",["T_VARIABLE","$this",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","_docCount",115],"]",["T_WHITESPACE"," ",115],"=",["T_WHITESPACE"," ",115],["T_ARRAY","array",115],"(",")",";",["T_WHITESPACE","\n                        ",115],"}",["T_WHITESPACE","\n                        ",116],["T_VARIABLE","$position",117],["T_WHITESPACE"," ",117],["T_PLUS_EQUAL","+=",117],["T_WHITESPACE"," ",117],["T_VARIABLE","$token",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","getPositionIncrement",117],"(",")",";",["T_WHITESPACE","\n                        ",117],["T_VARIABLE","$this",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","_termDocs",118],"[",["T_VARIABLE","$termKey",118],"]","[",["T_VARIABLE","$this",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","_docCount",118],"]","[","]",["T_WHITESPACE"," ",118],"=",["T_WHITESPACE"," ",118],["T_VARIABLE","$position",118],";",["T_WHITESPACE","\n                    ",118],"}",["T_WHITESPACE","\n\n                    ",119],["T_IF","if",121],["T_WHITESPACE"," ",121],"(",["T_VARIABLE","$tokenCounter",121],["T_WHITESPACE"," ",121],["T_IS_EQUAL","==",121],["T_WHITESPACE"," ",121],["T_LNUMBER","0",121],")",["T_WHITESPACE"," ",121],"{",["T_WHITESPACE","\n                        ",121],["T_COMMENT","\/\/ Field contains empty value. Treat it as non-indexed and non-tokenized\n",122],["T_WHITESPACE","                        ",123],["T_VARIABLE","$field",123],["T_WHITESPACE"," ",123],"=",["T_WHITESPACE"," ",123],["T_CLONE","clone",123],"(",["T_VARIABLE","$field",123],")",";",["T_WHITESPACE","\n                        ",123],["T_VARIABLE","$field",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","isIndexed",124],["T_WHITESPACE"," ",124],"=",["T_WHITESPACE"," ",124],["T_VARIABLE","$field",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","isTokenized",124],["T_WHITESPACE"," ",124],"=",["T_WHITESPACE"," ",124],["T_STRING","false",124],";",["T_WHITESPACE","\n                    ",124],"}",["T_WHITESPACE"," ",125],["T_ELSE","else",125],["T_WHITESPACE"," ",125],"{",["T_WHITESPACE","\n                        ",125],["T_VARIABLE","$docNorms",126],"[",["T_VARIABLE","$field",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","name",126],"]",["T_WHITESPACE"," ",126],"=",["T_WHITESPACE"," ",126],["T_STRING","chr",126],"(",["T_VARIABLE","$similarity",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","encodeNorm",126],"(",["T_WHITESPACE"," ",126],["T_VARIABLE","$similarity",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","lengthNorm",126],"(",["T_VARIABLE","$field",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","name",126],",",["T_WHITESPACE","\n                                                                                                       ",126],["T_VARIABLE","$tokenCounter",127],")","*",["T_WHITESPACE","\n                                                                               ",127],["T_VARIABLE","$document",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","boost",128],"*",["T_WHITESPACE","\n                                                                               ",128],["T_VARIABLE","$field",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","boost",129],["T_WHITESPACE"," ",129],")",")",";",["T_WHITESPACE","\n                    ",129],"}",["T_WHITESPACE","\n                ",130],"}",["T_WHITESPACE"," ",131],["T_ELSE","else",131],["T_WHITESPACE"," ",131],["T_IF","if",131],["T_WHITESPACE"," ",131],"(","(",["T_VARIABLE","$fieldUtf8Value",131],["T_WHITESPACE"," ",131],"=",["T_WHITESPACE"," ",131],["T_VARIABLE","$field",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","getUtf8Value",131],"(",")",")",["T_WHITESPACE"," ",131],["T_IS_EQUAL","==",131],["T_WHITESPACE"," ",131],["T_CONSTANT_ENCAPSED_STRING","''",131],")",["T_WHITESPACE"," ",131],"{",["T_WHITESPACE","\n                    ",131],["T_COMMENT","\/\/ Field contains empty value. Treat it as non-indexed and non-tokenized\n",132],["T_WHITESPACE","                    ",133],["T_VARIABLE","$field",133],["T_WHITESPACE"," ",133],"=",["T_WHITESPACE"," ",133],["T_CLONE","clone",133],"(",["T_VARIABLE","$field",133],")",";",["T_WHITESPACE","\n                    ",133],["T_VARIABLE","$field",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","isIndexed",134],["T_WHITESPACE"," ",134],"=",["T_WHITESPACE"," ",134],["T_VARIABLE","$field",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","isTokenized",134],["T_WHITESPACE"," ",134],"=",["T_WHITESPACE"," ",134],["T_STRING","false",134],";",["T_WHITESPACE","\n                ",134],"}",["T_WHITESPACE"," ",135],["T_ELSE","else",135],["T_WHITESPACE"," ",135],"{",["T_WHITESPACE","\n                    ",135],["T_VARIABLE","$term",136],["T_WHITESPACE"," ",136],"=",["T_WHITESPACE"," ",136],["T_NEW","new",136],["T_WHITESPACE"," ",136],["T_STRING","Zend_Search_Lucene_Index_Term",136],"(",["T_VARIABLE","$fieldUtf8Value",136],",",["T_WHITESPACE"," ",136],["T_VARIABLE","$field",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","name",136],")",";",["T_WHITESPACE","\n                    ",136],["T_VARIABLE","$termKey",137],["T_WHITESPACE"," ",137],"=",["T_WHITESPACE"," ",137],["T_VARIABLE","$term",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","key",137],"(",")",";",["T_WHITESPACE","\n\n                    ",137],["T_IF","if",139],["T_WHITESPACE"," ",139],"(","!",["T_ISSET","isset",139],"(",["T_VARIABLE","$this",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","_termDictionary",139],"[",["T_VARIABLE","$termKey",139],"]",")",")",["T_WHITESPACE"," ",139],"{",["T_WHITESPACE","\n                        ",139],["T_COMMENT","\/\/ New term\n",140],["T_WHITESPACE","                        ",141],["T_VARIABLE","$this",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","_termDictionary",141],"[",["T_VARIABLE","$termKey",141],"]",["T_WHITESPACE"," ",141],"=",["T_WHITESPACE"," ",141],["T_VARIABLE","$term",141],";",["T_WHITESPACE","\n                        ",141],["T_VARIABLE","$this",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","_termDocs",142],"[",["T_VARIABLE","$termKey",142],"]",["T_WHITESPACE"," ",142],"=",["T_WHITESPACE"," ",142],["T_ARRAY","array",142],"(",")",";",["T_WHITESPACE","\n                        ",142],["T_VARIABLE","$this",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","_termDocs",143],"[",["T_VARIABLE","$termKey",143],"]","[",["T_VARIABLE","$this",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","_docCount",143],"]",["T_WHITESPACE"," ",143],"=",["T_WHITESPACE"," ",143],["T_ARRAY","array",143],"(",")",";",["T_WHITESPACE","\n                    ",143],"}",["T_WHITESPACE"," ",144],["T_ELSE","else",144],["T_WHITESPACE"," ",144],["T_IF","if",144],["T_WHITESPACE"," ",144],"(","!",["T_ISSET","isset",144],"(",["T_VARIABLE","$this",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","_termDocs",144],"[",["T_VARIABLE","$termKey",144],"]","[",["T_VARIABLE","$this",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","_docCount",144],"]",")",")",["T_WHITESPACE"," ",144],"{",["T_WHITESPACE","\n                        ",144],["T_COMMENT","\/\/ Existing term, but new term entry\n",145],["T_WHITESPACE","                        ",146],["T_VARIABLE","$this",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","_termDocs",146],"[",["T_VARIABLE","$termKey",146],"]","[",["T_VARIABLE","$this",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","_docCount",146],"]",["T_WHITESPACE"," ",146],"=",["T_WHITESPACE"," ",146],["T_ARRAY","array",146],"(",")",";",["T_WHITESPACE","\n                    ",146],"}",["T_WHITESPACE","\n                    ",147],["T_VARIABLE","$this",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","_termDocs",148],"[",["T_VARIABLE","$termKey",148],"]","[",["T_VARIABLE","$this",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","_docCount",148],"]","[","]",["T_WHITESPACE"," ",148],"=",["T_WHITESPACE"," ",148],["T_LNUMBER","0",148],";",["T_WHITESPACE"," ",148],["T_COMMENT","\/\/ position\n",148],["T_WHITESPACE","\n                    ",149],["T_VARIABLE","$docNorms",150],"[",["T_VARIABLE","$field",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","name",150],"]",["T_WHITESPACE"," ",150],"=",["T_WHITESPACE"," ",150],["T_STRING","chr",150],"(",["T_VARIABLE","$similarity",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","encodeNorm",150],"(",["T_WHITESPACE"," ",150],["T_VARIABLE","$similarity",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","lengthNorm",150],"(",["T_VARIABLE","$field",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","name",150],",",["T_WHITESPACE"," ",150],["T_LNUMBER","1",150],")","*",["T_WHITESPACE","\n                                                                           ",150],["T_VARIABLE","$document",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","boost",151],"*",["T_WHITESPACE","\n                                                                           ",151],["T_VARIABLE","$field",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","boost",152],["T_WHITESPACE"," ",152],")",")",";",["T_WHITESPACE","\n                ",152],"}",["T_WHITESPACE","\n            ",153],"}",["T_WHITESPACE","\n\n            ",154],["T_IF","if",156],["T_WHITESPACE"," ",156],"(",["T_VARIABLE","$field",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","isStored",156],")",["T_WHITESPACE"," ",156],"{",["T_WHITESPACE","\n                ",156],["T_VARIABLE","$storedFields",157],"[","]",["T_WHITESPACE"," ",157],"=",["T_WHITESPACE"," ",157],["T_VARIABLE","$field",157],";",["T_WHITESPACE","\n            ",157],"}",["T_WHITESPACE","\n\n            ",158],["T_VARIABLE","$this",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","addField",160],"(",["T_VARIABLE","$field",160],")",";",["T_WHITESPACE","\n        ",160],"}",["T_WHITESPACE","\n\n        ",161],["T_FOREACH","foreach",163],["T_WHITESPACE"," ",163],"(",["T_VARIABLE","$this",163],["T_OBJECT_OPERATOR","->",163],["T_STRING","_fields",163],["T_WHITESPACE"," ",163],["T_AS","as",163],["T_WHITESPACE"," ",163],["T_VARIABLE","$fieldName",163],["T_WHITESPACE"," ",163],["T_DOUBLE_ARROW","=>",163],["T_WHITESPACE"," ",163],["T_VARIABLE","$field",163],")",["T_WHITESPACE"," ",163],"{",["T_WHITESPACE","\n            ",163],["T_IF","if",164],["T_WHITESPACE"," ",164],"(","!",["T_VARIABLE","$field",164],["T_OBJECT_OPERATOR","->",164],["T_STRING","isIndexed",164],")",["T_WHITESPACE"," ",164],"{",["T_WHITESPACE","\n                ",164],["T_CONTINUE","continue",165],";",["T_WHITESPACE","\n            ",165],"}",["T_WHITESPACE","\n\n            ",166],["T_IF","if",168],["T_WHITESPACE"," ",168],"(","!",["T_ISSET","isset",168],"(",["T_VARIABLE","$this",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","_norms",168],"[",["T_VARIABLE","$fieldName",168],"]",")",")",["T_WHITESPACE"," ",168],"{",["T_WHITESPACE","\n                ",168],["T_VARIABLE","$this",169],["T_OBJECT_OPERATOR","->",169],["T_STRING","_norms",169],"[",["T_VARIABLE","$fieldName",169],"]",["T_WHITESPACE"," ",169],"=",["T_WHITESPACE"," ",169],["T_STRING","str_repeat",169],"(",["T_STRING","chr",169],"(",["T_VARIABLE","$similarity",169],["T_OBJECT_OPERATOR","->",169],["T_STRING","encodeNorm",169],"(",["T_WHITESPACE"," ",169],["T_VARIABLE","$similarity",169],["T_OBJECT_OPERATOR","->",169],["T_STRING","lengthNorm",169],"(",["T_VARIABLE","$fieldName",169],",",["T_WHITESPACE"," ",169],["T_LNUMBER","0",169],")",["T_WHITESPACE"," ",169],")",")",",",["T_WHITESPACE","\n                                                       ",169],["T_VARIABLE","$this",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","_docCount",170],")",";",["T_WHITESPACE","\n            ",170],"}",["T_WHITESPACE","\n\n            ",171],["T_IF","if",173],["T_WHITESPACE"," ",173],"(",["T_ISSET","isset",173],"(",["T_VARIABLE","$docNorms",173],"[",["T_VARIABLE","$fieldName",173],"]",")",")","{",["T_WHITESPACE","\n                ",173],["T_VARIABLE","$this",174],["T_OBJECT_OPERATOR","->",174],["T_STRING","_norms",174],"[",["T_VARIABLE","$fieldName",174],"]",["T_WHITESPACE"," ",174],["T_CONCAT_EQUAL",".=",174],["T_WHITESPACE"," ",174],["T_VARIABLE","$docNorms",174],"[",["T_VARIABLE","$fieldName",174],"]",";",["T_WHITESPACE","\n            ",174],"}",["T_WHITESPACE"," ",175],["T_ELSE","else",175],["T_WHITESPACE"," ",175],"{",["T_WHITESPACE","\n                ",175],["T_VARIABLE","$this",176],["T_OBJECT_OPERATOR","->",176],["T_STRING","_norms",176],"[",["T_VARIABLE","$fieldName",176],"]",["T_WHITESPACE"," ",176],["T_CONCAT_EQUAL",".=",176],["T_WHITESPACE"," ",176],["T_STRING","chr",176],"(",["T_VARIABLE","$similarity",176],["T_OBJECT_OPERATOR","->",176],["T_STRING","encodeNorm",176],"(",["T_WHITESPACE"," ",176],["T_VARIABLE","$similarity",176],["T_OBJECT_OPERATOR","->",176],["T_STRING","lengthNorm",176],"(",["T_VARIABLE","$fieldName",176],",",["T_WHITESPACE"," ",176],["T_LNUMBER","0",176],")",["T_WHITESPACE"," ",176],")",")",";",["T_WHITESPACE","\n            ",176],"}",["T_WHITESPACE","\n        ",177],"}",["T_WHITESPACE","\n\n        ",178],["T_VARIABLE","$this",180],["T_OBJECT_OPERATOR","->",180],["T_STRING","addStoredFields",180],"(",["T_VARIABLE","$storedFields",180],")",";",["T_WHITESPACE","\n    ",180],"}",["T_WHITESPACE","\n\n\n    ",181],["T_DOC_COMMENT","\/**\n     * Dump Term Dictionary (.tis) and Term Dictionary Index (.tii) segment files\n     *\/",184],["T_WHITESPACE","\n    ",186],["T_PROTECTED","protected",187],["T_WHITESPACE"," ",187],["T_FUNCTION","function",187],["T_WHITESPACE"," ",187],["T_STRING","_dumpDictionary",187],"(",")",["T_WHITESPACE","\n    ",187],"{",["T_WHITESPACE","\n        ",188],["T_STRING","ksort",189],"(",["T_VARIABLE","$this",189],["T_OBJECT_OPERATOR","->",189],["T_STRING","_termDictionary",189],",",["T_WHITESPACE"," ",189],["T_STRING","SORT_STRING",189],")",";",["T_WHITESPACE","\n\n        ",189],["T_VARIABLE","$this",191],["T_OBJECT_OPERATOR","->",191],["T_STRING","initializeDictionaryFiles",191],"(",")",";",["T_WHITESPACE","\n\n        ",191],["T_FOREACH","foreach",193],["T_WHITESPACE"," ",193],"(",["T_VARIABLE","$this",193],["T_OBJECT_OPERATOR","->",193],["T_STRING","_termDictionary",193],["T_WHITESPACE"," ",193],["T_AS","as",193],["T_WHITESPACE"," ",193],["T_VARIABLE","$termId",193],["T_WHITESPACE"," ",193],["T_DOUBLE_ARROW","=>",193],["T_WHITESPACE"," ",193],["T_VARIABLE","$term",193],")",["T_WHITESPACE"," ",193],"{",["T_WHITESPACE","\n            ",193],["T_VARIABLE","$this",194],["T_OBJECT_OPERATOR","->",194],["T_STRING","addTerm",194],"(",["T_VARIABLE","$term",194],",",["T_WHITESPACE"," ",194],["T_VARIABLE","$this",194],["T_OBJECT_OPERATOR","->",194],["T_STRING","_termDocs",194],"[",["T_VARIABLE","$termId",194],"]",")",";",["T_WHITESPACE","\n        ",194],"}",["T_WHITESPACE","\n\n        ",195],["T_VARIABLE","$this",197],["T_OBJECT_OPERATOR","->",197],["T_STRING","closeDictionaryFiles",197],"(",")",";",["T_WHITESPACE","\n    ",197],"}",["T_WHITESPACE","\n\n\n    ",198],["T_DOC_COMMENT","\/**\n     * Close segment, write it to disk and return segment info\n     *\n     * @return Zend_Search_Lucene_Index_SegmentInfo\n     *\/",201],["T_WHITESPACE","\n    ",205],["T_PUBLIC","public",206],["T_WHITESPACE"," ",206],["T_FUNCTION","function",206],["T_WHITESPACE"," ",206],["T_STRING","close",206],"(",")",["T_WHITESPACE","\n    ",206],"{",["T_WHITESPACE","\n        ",207],["T_IF","if",208],["T_WHITESPACE"," ",208],"(",["T_VARIABLE","$this",208],["T_OBJECT_OPERATOR","->",208],["T_STRING","_docCount",208],["T_WHITESPACE"," ",208],["T_IS_EQUAL","==",208],["T_WHITESPACE"," ",208],["T_LNUMBER","0",208],")",["T_WHITESPACE"," ",208],"{",["T_WHITESPACE","\n            ",208],["T_RETURN","return",209],["T_WHITESPACE"," ",209],["T_STRING","null",209],";",["T_WHITESPACE","\n        ",209],"}",["T_WHITESPACE","\n\n        ",210],["T_VARIABLE","$this",212],["T_OBJECT_OPERATOR","->",212],["T_STRING","_dumpFNM",212],"(",")",";",["T_WHITESPACE","\n        ",212],["T_VARIABLE","$this",213],["T_OBJECT_OPERATOR","->",213],["T_STRING","_dumpDictionary",213],"(",")",";",["T_WHITESPACE","\n\n        ",213],["T_VARIABLE","$this",215],["T_OBJECT_OPERATOR","->",215],["T_STRING","_generateCFS",215],"(",")",";",["T_WHITESPACE","\n\n        ",215],["T_DOC_COMMENT","\/** Zend_Search_Lucene_Index_SegmentInfo *\/",217],["T_WHITESPACE","\n        ",217],["T_COMMENT","#require_once 'Zend\/Search\/Lucene\/Index\/SegmentInfo.php';\n",218],["T_WHITESPACE","\n        ",219],["T_RETURN","return",220],["T_WHITESPACE"," ",220],["T_NEW","new",220],["T_WHITESPACE"," ",220],["T_STRING","Zend_Search_Lucene_Index_SegmentInfo",220],"(",["T_VARIABLE","$this",220],["T_OBJECT_OPERATOR","->",220],["T_STRING","_directory",220],",",["T_WHITESPACE","\n                                                        ",220],["T_VARIABLE","$this",221],["T_OBJECT_OPERATOR","->",221],["T_STRING","_name",221],",",["T_WHITESPACE","\n                                                        ",221],["T_VARIABLE","$this",222],["T_OBJECT_OPERATOR","->",222],["T_STRING","_docCount",222],",",["T_WHITESPACE","\n                                                        ",222],"-",["T_LNUMBER","1",223],",",["T_WHITESPACE","\n                                                        ",223],["T_STRING","null",224],",",["T_WHITESPACE","\n                                                        ",224],["T_STRING","true",225],",",["T_WHITESPACE","\n                                                        ",225],["T_STRING","true",226],")",";",["T_WHITESPACE","\n    ",226],"}",["T_WHITESPACE","\n\n",227],"}",["T_WHITESPACE","\n\n",229]]