[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Zend Framework\n *\n * LICENSE\n *\n * This source file is subject to the new BSD license that is bundled\n * with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/framework.zend.com\/license\/new-bsd\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@zend.com so we can send you a copy immediately.\n *\n * @category   Zend\n * @package    Zend_Db\n * @subpackage Profiler\n * @copyright  Copyright (c) 2005-2015 Zend Technologies USA Inc. (http:\/\/www.zend.com)\n * @license    http:\/\/framework.zend.com\/license\/new-bsd     New BSD License\n * @version    $Id$\n *\/",2],["T_WHITESPACE","\n\n",21],["T_DOC_COMMENT","\/** Zend_Db_Profiler *\/",23],["T_WHITESPACE","\n",23],["T_COMMENT","#require_once 'Zend\/Db\/Profiler.php';\n",24],["T_WHITESPACE","\n",25],["T_DOC_COMMENT","\/** Zend_Wildfire_Plugin_FirePhp *\/",26],["T_WHITESPACE","\n",26],["T_COMMENT","#require_once 'Zend\/Wildfire\/Plugin\/FirePhp.php';\n",27],["T_WHITESPACE","\n",28],["T_DOC_COMMENT","\/** Zend_Wildfire_Plugin_FirePhp_TableMessage *\/",29],["T_WHITESPACE","\n",29],["T_COMMENT","#require_once 'Zend\/Wildfire\/Plugin\/FirePhp\/TableMessage.php';\n",30],["T_WHITESPACE","\n",31],["T_DOC_COMMENT","\/**\n * Writes DB events as log messages to the Firebug Console via FirePHP.\n *\n * @category   Zend\n * @package    Zend_Db\n * @subpackage Profiler\n * @copyright  Copyright (c) 2005-2015 Zend Technologies USA Inc. (http:\/\/www.zend.com)\n * @license    http:\/\/framework.zend.com\/license\/new-bsd     New BSD License\n *\/",32],["T_WHITESPACE","\n",40],["T_CLASS","class",41],["T_WHITESPACE"," ",41],["T_STRING","Zend_Db_Profiler_Firebug",41],["T_WHITESPACE"," ",41],["T_EXTENDS","extends",41],["T_WHITESPACE"," ",41],["T_STRING","Zend_Db_Profiler",41],["T_WHITESPACE","\n",41],"{",["T_WHITESPACE","\n    ",42],["T_DOC_COMMENT","\/**\n     * The original label for this profiler.\n     * @var string\n     *\/",43],["T_WHITESPACE","\n    ",46],["T_PROTECTED","protected",47],["T_WHITESPACE"," ",47],["T_VARIABLE","$_label",47],["T_WHITESPACE"," ",47],"=",["T_WHITESPACE"," ",47],["T_STRING","null",47],";",["T_WHITESPACE","\n\n    ",47],["T_DOC_COMMENT","\/**\n     * The label template for this profiler\n     * @var string\n     *\/",49],["T_WHITESPACE","\n    ",52],["T_PROTECTED","protected",53],["T_WHITESPACE"," ",53],["T_VARIABLE","$_label_template",53],["T_WHITESPACE"," ",53],"=",["T_WHITESPACE"," ",53],["T_CONSTANT_ENCAPSED_STRING","'%label% (%totalCount% @ %totalDuration% sec)'",53],";",["T_WHITESPACE","\n\n    ",53],["T_DOC_COMMENT","\/**\n     * The message envelope holding the profiling summary\n     * @var Zend_Wildfire_Plugin_FirePhp_TableMessage\n     *\/",55],["T_WHITESPACE","\n    ",58],["T_PROTECTED","protected",59],["T_WHITESPACE"," ",59],["T_VARIABLE","$_message",59],["T_WHITESPACE"," ",59],"=",["T_WHITESPACE"," ",59],["T_STRING","null",59],";",["T_WHITESPACE","\n\n    ",59],["T_DOC_COMMENT","\/**\n     * The total time taken for all profiled queries.\n     * @var float\n     *\/",61],["T_WHITESPACE","\n    ",64],["T_PROTECTED","protected",65],["T_WHITESPACE"," ",65],["T_VARIABLE","$_totalElapsedTime",65],["T_WHITESPACE"," ",65],"=",["T_WHITESPACE"," ",65],["T_LNUMBER","0",65],";",["T_WHITESPACE","\n\n    ",65],["T_DOC_COMMENT","\/**\n     * Constructor\n     *\n     * @param string $label OPTIONAL Label for the profiling info.\n     * @return void\n     *\/",67],["T_WHITESPACE","\n    ",72],["T_PUBLIC","public",73],["T_WHITESPACE"," ",73],["T_FUNCTION","function",73],["T_WHITESPACE"," ",73],["T_STRING","__construct",73],"(",["T_VARIABLE","$label",73],["T_WHITESPACE"," ",73],"=",["T_WHITESPACE"," ",73],["T_STRING","null",73],")",["T_WHITESPACE","\n    ",73],"{",["T_WHITESPACE","\n        ",74],["T_VARIABLE","$this",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","_label",75],["T_WHITESPACE"," ",75],"=",["T_WHITESPACE"," ",75],["T_VARIABLE","$label",75],";",["T_WHITESPACE","\n        ",75],["T_IF","if",76],"(","!",["T_VARIABLE","$this",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","_label",76],")",["T_WHITESPACE"," ",76],"{",["T_WHITESPACE","\n            ",76],["T_VARIABLE","$this",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","_label",77],["T_WHITESPACE"," ",77],"=",["T_WHITESPACE"," ",77],["T_CONSTANT_ENCAPSED_STRING","'Zend_Db_Profiler_Firebug'",77],";",["T_WHITESPACE","\n        ",77],"}",["T_WHITESPACE","\n    ",78],"}",["T_WHITESPACE","\n\n    ",79],["T_DOC_COMMENT","\/**\n     * Enable or disable the profiler.  If $enable is false, the profiler\n     * is disabled and will not log any queries sent to it.\n     *\n     * @param  boolean $enable\n     * @return Zend_Db_Profiler Provides a fluent interface\n     *\/",81],["T_WHITESPACE","\n    ",87],["T_PUBLIC","public",88],["T_WHITESPACE"," ",88],["T_FUNCTION","function",88],["T_WHITESPACE"," ",88],["T_STRING","setEnabled",88],"(",["T_VARIABLE","$enable",88],")",["T_WHITESPACE","\n    ",88],"{",["T_WHITESPACE","\n        ",89],["T_STRING","parent",90],["T_DOUBLE_COLON","::",90],["T_STRING","setEnabled",90],"(",["T_VARIABLE","$enable",90],")",";",["T_WHITESPACE","\n\n        ",90],["T_IF","if",92],["T_WHITESPACE"," ",92],"(",["T_VARIABLE","$this",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","getEnabled",92],"(",")",")",["T_WHITESPACE"," ",92],"{",["T_WHITESPACE","\n\n            ",92],["T_IF","if",94],["T_WHITESPACE"," ",94],"(","!",["T_VARIABLE","$this",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","_message",94],")",["T_WHITESPACE"," ",94],"{",["T_WHITESPACE","\n                ",94],["T_VARIABLE","$this",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","_message",95],["T_WHITESPACE"," ",95],"=",["T_WHITESPACE"," ",95],["T_NEW","new",95],["T_WHITESPACE"," ",95],["T_STRING","Zend_Wildfire_Plugin_FirePhp_TableMessage",95],"(",["T_VARIABLE","$this",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","_label",95],")",";",["T_WHITESPACE","\n                ",95],["T_VARIABLE","$this",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","_message",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","setBuffered",96],"(",["T_STRING","true",96],")",";",["T_WHITESPACE","\n                ",96],["T_VARIABLE","$this",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","_message",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","setHeader",97],"(",["T_ARRAY","array",97],"(",["T_CONSTANT_ENCAPSED_STRING","'Time'",97],",",["T_CONSTANT_ENCAPSED_STRING","'Event'",97],",",["T_CONSTANT_ENCAPSED_STRING","'Parameters'",97],")",")",";",["T_WHITESPACE","\n                ",97],["T_VARIABLE","$this",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","_message",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","setDestroy",98],"(",["T_STRING","true",98],")",";",["T_WHITESPACE","\n                ",98],["T_VARIABLE","$this",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","_message",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","setOption",99],"(",["T_CONSTANT_ENCAPSED_STRING","'includeLineNumbers'",99],",",["T_WHITESPACE"," ",99],["T_STRING","false",99],")",";",["T_WHITESPACE","\n                ",99],["T_STRING","Zend_Wildfire_Plugin_FirePhp",100],["T_DOUBLE_COLON","::",100],["T_STRING","getInstance",100],"(",")",["T_OBJECT_OPERATOR","->",100],["T_STRING","send",100],"(",["T_VARIABLE","$this",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","_message",100],")",";",["T_WHITESPACE","\n            ",100],"}",["T_WHITESPACE","\n\n        ",101],"}",["T_WHITESPACE"," ",103],["T_ELSE","else",103],["T_WHITESPACE"," ",103],"{",["T_WHITESPACE","\n\n            ",103],["T_IF","if",105],["T_WHITESPACE"," ",105],"(",["T_VARIABLE","$this",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","_message",105],")",["T_WHITESPACE"," ",105],"{",["T_WHITESPACE","\n                ",105],["T_VARIABLE","$this",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","_message",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","setDestroy",106],"(",["T_STRING","true",106],")",";",["T_WHITESPACE","\n                ",106],["T_VARIABLE","$this",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","_message",107],["T_WHITESPACE"," ",107],"=",["T_WHITESPACE"," ",107],["T_STRING","null",107],";",["T_WHITESPACE","\n            ",107],"}",["T_WHITESPACE","\n\n        ",108],"}",["T_WHITESPACE","\n\n        ",110],["T_RETURN","return",112],["T_WHITESPACE"," ",112],["T_VARIABLE","$this",112],";",["T_WHITESPACE","\n    ",112],"}",["T_WHITESPACE","\n\n    ",113],["T_DOC_COMMENT","\/**\n     * Intercept the query end and log the profiling data.\n     *\n     * @param  integer $queryId\n     * @throws Zend_Db_Profiler_Exception\n     * @return void\n     *\/",115],["T_WHITESPACE","\n    ",121],["T_PUBLIC","public",122],["T_WHITESPACE"," ",122],["T_FUNCTION","function",122],["T_WHITESPACE"," ",122],["T_STRING","queryEnd",122],"(",["T_VARIABLE","$queryId",122],")",["T_WHITESPACE","\n    ",122],"{",["T_WHITESPACE","\n        ",123],["T_VARIABLE","$state",124],["T_WHITESPACE"," ",124],"=",["T_WHITESPACE"," ",124],["T_STRING","parent",124],["T_DOUBLE_COLON","::",124],["T_STRING","queryEnd",124],"(",["T_VARIABLE","$queryId",124],")",";",["T_WHITESPACE","\n\n        ",124],["T_IF","if",126],["T_WHITESPACE"," ",126],"(","!",["T_VARIABLE","$this",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","getEnabled",126],"(",")",["T_WHITESPACE"," ",126],["T_BOOLEAN_OR","||",126],["T_WHITESPACE"," ",126],["T_VARIABLE","$state",126],["T_WHITESPACE"," ",126],["T_IS_EQUAL","==",126],["T_WHITESPACE"," ",126],["T_STRING","self",126],["T_DOUBLE_COLON","::",126],["T_STRING","IGNORED",126],")",["T_WHITESPACE"," ",126],"{",["T_WHITESPACE","\n            ",126],["T_RETURN","return",127],";",["T_WHITESPACE","\n        ",127],"}",["T_WHITESPACE","\n\n        ",128],["T_VARIABLE","$this",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","_message",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","setDestroy",130],"(",["T_STRING","false",130],")",";",["T_WHITESPACE","\n\n        ",130],["T_VARIABLE","$profile",132],["T_WHITESPACE"," ",132],"=",["T_WHITESPACE"," ",132],["T_VARIABLE","$this",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","getQueryProfile",132],"(",["T_VARIABLE","$queryId",132],")",";",["T_WHITESPACE","\n\n        ",132],["T_VARIABLE","$this",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","_totalElapsedTime",134],["T_WHITESPACE"," ",134],["T_PLUS_EQUAL","+=",134],["T_WHITESPACE"," ",134],["T_VARIABLE","$profile",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","getElapsedSecs",134],"(",")",";",["T_WHITESPACE","\n\n        ",134],["T_VARIABLE","$this",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","_message",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","addRow",136],"(",["T_ARRAY","array",136],"(",["T_STRING_CAST","(string)",136],["T_STRING","round",136],"(",["T_VARIABLE","$profile",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","getElapsedSecs",136],"(",")",",",["T_LNUMBER","5",136],")",",",["T_WHITESPACE","\n                                      ",136],["T_VARIABLE","$profile",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","getQuery",137],"(",")",",",["T_WHITESPACE","\n                                      ",137],"(",["T_VARIABLE","$params",138],"=",["T_VARIABLE","$profile",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","getQueryParams",138],"(",")",")","?",["T_VARIABLE","$params",138],":",["T_STRING","null",138],")",")",";",["T_WHITESPACE","\n\n        ",138],["T_VARIABLE","$this",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","updateMessageLabel",140],"(",")",";",["T_WHITESPACE","\n    ",140],"}",["T_WHITESPACE","\n\n    ",141],["T_DOC_COMMENT","\/**\n     * Update the label of the message holding the profile info.\n     *\n     * @return void\n     *\/",143],["T_WHITESPACE","\n    ",147],["T_PROTECTED","protected",148],["T_WHITESPACE"," ",148],["T_FUNCTION","function",148],["T_WHITESPACE"," ",148],["T_STRING","updateMessageLabel",148],"(",")",["T_WHITESPACE","\n    ",148],"{",["T_WHITESPACE","\n        ",149],["T_IF","if",150],["T_WHITESPACE"," ",150],"(","!",["T_VARIABLE","$this",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","_message",150],")",["T_WHITESPACE"," ",150],"{",["T_WHITESPACE","\n            ",150],["T_RETURN","return",151],";",["T_WHITESPACE","\n        ",151],"}",["T_WHITESPACE","\n        ",152],["T_VARIABLE","$this",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","_message",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","setLabel",153],"(",["T_STRING","str_replace",153],"(",["T_ARRAY","array",153],"(",["T_CONSTANT_ENCAPSED_STRING","'%label%'",153],",",["T_WHITESPACE","\n                                                    ",153],["T_CONSTANT_ENCAPSED_STRING","'%totalCount%'",154],",",["T_WHITESPACE","\n                                                    ",154],["T_CONSTANT_ENCAPSED_STRING","'%totalDuration%'",155],")",",",["T_WHITESPACE","\n                                              ",155],["T_ARRAY","array",156],"(",["T_VARIABLE","$this",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","_label",156],",",["T_WHITESPACE","\n                                                    ",156],["T_VARIABLE","$this",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","getTotalNumQueries",157],"(",")",",",["T_WHITESPACE","\n                                                    ",157],["T_STRING_CAST","(string)",158],["T_STRING","round",158],"(",["T_VARIABLE","$this",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","_totalElapsedTime",158],",",["T_LNUMBER","5",158],")",")",",",["T_WHITESPACE","\n                                              ",158],["T_VARIABLE","$this",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","_label_template",159],")",")",";",["T_WHITESPACE","\n    ",159],"}",["T_WHITESPACE","\n",160],"}",["T_WHITESPACE","\n",161]]