[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Zend Framework\n *\n * LICENSE\n *\n * This source file is subject to the new BSD license that is bundled\n * with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/framework.zend.com\/license\/new-bsd\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@zend.com so we can send you a copy immediately.\n *\n * @category   Zend\n * @package    Zend_Db\n * @subpackage Adapter\n * @copyright  Copyright (c) 2005-2015 Zend Technologies USA Inc. (http:\/\/www.zend.com)\n * @license    http:\/\/framework.zend.com\/license\/new-bsd     New BSD License\n * @version    $Id$\n *\/",2],["T_WHITESPACE","\n\n\n",21],["T_DOC_COMMENT","\/**\n * @see Zend_Db_Adapter_Pdo_Abstract\n *\/",24],["T_WHITESPACE","\n",26],["T_COMMENT","#require_once 'Zend\/Db\/Adapter\/Pdo\/Abstract.php';\n",27],["T_WHITESPACE","\n\n",28],["T_DOC_COMMENT","\/**\n * Class for connecting to PostgreSQL databases and performing common operations.\n *\n * @category   Zend\n * @package    Zend_Db\n * @subpackage Adapter\n * @copyright  Copyright (c) 2005-2015 Zend Technologies USA Inc. (http:\/\/www.zend.com)\n * @license    http:\/\/framework.zend.com\/license\/new-bsd     New BSD License\n *\/",30],["T_WHITESPACE","\n",38],["T_CLASS","class",39],["T_WHITESPACE"," ",39],["T_STRING","Zend_Db_Adapter_Pdo_Pgsql",39],["T_WHITESPACE"," ",39],["T_EXTENDS","extends",39],["T_WHITESPACE"," ",39],["T_STRING","Zend_Db_Adapter_Pdo_Abstract",39],["T_WHITESPACE","\n",39],"{",["T_WHITESPACE","\n\n    ",40],["T_DOC_COMMENT","\/**\n     * PDO type.\n     *\n     * @var string\n     *\/",42],["T_WHITESPACE","\n    ",46],["T_PROTECTED","protected",47],["T_WHITESPACE"," ",47],["T_VARIABLE","$_pdoType",47],["T_WHITESPACE"," ",47],"=",["T_WHITESPACE"," ",47],["T_CONSTANT_ENCAPSED_STRING","'pgsql'",47],";",["T_WHITESPACE","\n\n    ",47],["T_DOC_COMMENT","\/**\n     * Keys are UPPERCASE SQL datatypes or the constants\n     * Zend_Db::INT_TYPE, Zend_Db::BIGINT_TYPE, or Zend_Db::FLOAT_TYPE.\n     *\n     * Values are:\n     * 0 = 32-bit integer\n     * 1 = 64-bit integer\n     * 2 = float or decimal\n     *\n     * @var array Associative array of datatypes to values 0, 1, or 2.\n     *\/",49],["T_WHITESPACE","\n    ",59],["T_PROTECTED","protected",60],["T_WHITESPACE"," ",60],["T_VARIABLE","$_numericDataTypes",60],["T_WHITESPACE"," ",60],"=",["T_WHITESPACE"," ",60],["T_ARRAY","array",60],"(",["T_WHITESPACE","\n        ",60],["T_STRING","Zend_Db",61],["T_DOUBLE_COLON","::",61],["T_STRING","INT_TYPE",61],["T_WHITESPACE","    ",61],["T_DOUBLE_ARROW","=>",61],["T_WHITESPACE"," ",61],["T_STRING","Zend_Db",61],["T_DOUBLE_COLON","::",61],["T_STRING","INT_TYPE",61],",",["T_WHITESPACE","\n        ",61],["T_STRING","Zend_Db",62],["T_DOUBLE_COLON","::",62],["T_STRING","BIGINT_TYPE",62],["T_WHITESPACE"," ",62],["T_DOUBLE_ARROW","=>",62],["T_WHITESPACE"," ",62],["T_STRING","Zend_Db",62],["T_DOUBLE_COLON","::",62],["T_STRING","BIGINT_TYPE",62],",",["T_WHITESPACE","\n        ",62],["T_STRING","Zend_Db",63],["T_DOUBLE_COLON","::",63],["T_STRING","FLOAT_TYPE",63],["T_WHITESPACE","  ",63],["T_DOUBLE_ARROW","=>",63],["T_WHITESPACE"," ",63],["T_STRING","Zend_Db",63],["T_DOUBLE_COLON","::",63],["T_STRING","FLOAT_TYPE",63],",",["T_WHITESPACE","\n        ",63],["T_CONSTANT_ENCAPSED_STRING","'INTEGER'",64],["T_WHITESPACE","            ",64],["T_DOUBLE_ARROW","=>",64],["T_WHITESPACE"," ",64],["T_STRING","Zend_Db",64],["T_DOUBLE_COLON","::",64],["T_STRING","INT_TYPE",64],",",["T_WHITESPACE","\n        ",64],["T_CONSTANT_ENCAPSED_STRING","'SERIAL'",65],["T_WHITESPACE","             ",65],["T_DOUBLE_ARROW","=>",65],["T_WHITESPACE"," ",65],["T_STRING","Zend_Db",65],["T_DOUBLE_COLON","::",65],["T_STRING","INT_TYPE",65],",",["T_WHITESPACE","\n        ",65],["T_CONSTANT_ENCAPSED_STRING","'SMALLINT'",66],["T_WHITESPACE","           ",66],["T_DOUBLE_ARROW","=>",66],["T_WHITESPACE"," ",66],["T_STRING","Zend_Db",66],["T_DOUBLE_COLON","::",66],["T_STRING","INT_TYPE",66],",",["T_WHITESPACE","\n        ",66],["T_CONSTANT_ENCAPSED_STRING","'BIGINT'",67],["T_WHITESPACE","             ",67],["T_DOUBLE_ARROW","=>",67],["T_WHITESPACE"," ",67],["T_STRING","Zend_Db",67],["T_DOUBLE_COLON","::",67],["T_STRING","BIGINT_TYPE",67],",",["T_WHITESPACE","\n        ",67],["T_CONSTANT_ENCAPSED_STRING","'BIGSERIAL'",68],["T_WHITESPACE","          ",68],["T_DOUBLE_ARROW","=>",68],["T_WHITESPACE"," ",68],["T_STRING","Zend_Db",68],["T_DOUBLE_COLON","::",68],["T_STRING","BIGINT_TYPE",68],",",["T_WHITESPACE","\n        ",68],["T_CONSTANT_ENCAPSED_STRING","'DECIMAL'",69],["T_WHITESPACE","            ",69],["T_DOUBLE_ARROW","=>",69],["T_WHITESPACE"," ",69],["T_STRING","Zend_Db",69],["T_DOUBLE_COLON","::",69],["T_STRING","FLOAT_TYPE",69],",",["T_WHITESPACE","\n        ",69],["T_CONSTANT_ENCAPSED_STRING","'DOUBLE PRECISION'",70],["T_WHITESPACE","   ",70],["T_DOUBLE_ARROW","=>",70],["T_WHITESPACE"," ",70],["T_STRING","Zend_Db",70],["T_DOUBLE_COLON","::",70],["T_STRING","FLOAT_TYPE",70],",",["T_WHITESPACE","\n        ",70],["T_CONSTANT_ENCAPSED_STRING","'NUMERIC'",71],["T_WHITESPACE","            ",71],["T_DOUBLE_ARROW","=>",71],["T_WHITESPACE"," ",71],["T_STRING","Zend_Db",71],["T_DOUBLE_COLON","::",71],["T_STRING","FLOAT_TYPE",71],",",["T_WHITESPACE","\n        ",71],["T_CONSTANT_ENCAPSED_STRING","'REAL'",72],["T_WHITESPACE","               ",72],["T_DOUBLE_ARROW","=>",72],["T_WHITESPACE"," ",72],["T_STRING","Zend_Db",72],["T_DOUBLE_COLON","::",72],["T_STRING","FLOAT_TYPE",72],["T_WHITESPACE","\n    ",72],")",";",["T_WHITESPACE","\n\n    ",73],["T_DOC_COMMENT","\/**\n     * Creates a PDO object and connects to the database.\n     *\n     * @return void\n     * @throws Zend_Db_Adapter_Exception\n     *\/",75],["T_WHITESPACE","\n    ",80],["T_PROTECTED","protected",81],["T_WHITESPACE"," ",81],["T_FUNCTION","function",81],["T_WHITESPACE"," ",81],["T_STRING","_connect",81],"(",")",["T_WHITESPACE","\n    ",81],"{",["T_WHITESPACE","\n        ",82],["T_IF","if",83],["T_WHITESPACE"," ",83],"(",["T_VARIABLE","$this",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","_connection",83],")",["T_WHITESPACE"," ",83],"{",["T_WHITESPACE","\n            ",83],["T_RETURN","return",84],";",["T_WHITESPACE","\n        ",84],"}",["T_WHITESPACE","\n\n        ",85],["T_STRING","parent",87],["T_DOUBLE_COLON","::",87],["T_STRING","_connect",87],"(",")",";",["T_WHITESPACE","\n\n        ",87],["T_IF","if",89],["T_WHITESPACE"," ",89],"(","!",["T_EMPTY","empty",89],"(",["T_VARIABLE","$this",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","_config",89],"[",["T_CONSTANT_ENCAPSED_STRING","'charset'",89],"]",")",")",["T_WHITESPACE"," ",89],"{",["T_WHITESPACE","\n            ",89],["T_VARIABLE","$sql",90],["T_WHITESPACE"," ",90],"=",["T_WHITESPACE"," ",90],["T_CONSTANT_ENCAPSED_STRING","\"SET NAMES '\"",90],["T_WHITESPACE"," ",90],".",["T_WHITESPACE"," ",90],["T_VARIABLE","$this",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","_config",90],"[",["T_CONSTANT_ENCAPSED_STRING","'charset'",90],"]",["T_WHITESPACE"," ",90],".",["T_WHITESPACE"," ",90],["T_CONSTANT_ENCAPSED_STRING","\"'\"",90],";",["T_WHITESPACE","\n            ",90],["T_VARIABLE","$this",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","_connection",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","exec",91],"(",["T_VARIABLE","$sql",91],")",";",["T_WHITESPACE","\n        ",91],"}",["T_WHITESPACE","\n    ",92],"}",["T_WHITESPACE","\n\n    ",93],["T_DOC_COMMENT","\/**\n     * Returns a list of the tables in the database.\n     *\n     * @return array\n     *\/",95],["T_WHITESPACE","\n    ",99],["T_PUBLIC","public",100],["T_WHITESPACE"," ",100],["T_FUNCTION","function",100],["T_WHITESPACE"," ",100],["T_STRING","listTables",100],"(",")",["T_WHITESPACE","\n    ",100],"{",["T_WHITESPACE","\n        ",101],["T_COMMENT","\/\/ @todo use a better query with joins instead of subqueries\n",102],["T_WHITESPACE","        ",103],["T_VARIABLE","$sql",103],["T_WHITESPACE"," ",103],"=",["T_WHITESPACE"," ",103],["T_CONSTANT_ENCAPSED_STRING","\"SELECT c.relname AS table_name \"",103],["T_WHITESPACE","\n             ",103],".",["T_WHITESPACE"," ",104],["T_CONSTANT_ENCAPSED_STRING","\"FROM pg_class c, pg_user u \"",104],["T_WHITESPACE","\n             ",104],".",["T_WHITESPACE"," ",105],["T_CONSTANT_ENCAPSED_STRING","\"WHERE c.relowner = u.usesysid AND c.relkind = 'r' \"",105],["T_WHITESPACE","\n             ",105],".",["T_WHITESPACE"," ",106],["T_CONSTANT_ENCAPSED_STRING","\"AND NOT EXISTS (SELECT 1 FROM pg_views WHERE viewname = c.relname) \"",106],["T_WHITESPACE","\n             ",106],".",["T_WHITESPACE"," ",107],["T_CONSTANT_ENCAPSED_STRING","\"AND c.relname !~ '^(pg_|sql_)' \"",107],["T_WHITESPACE","\n             ",107],".",["T_WHITESPACE"," ",108],["T_CONSTANT_ENCAPSED_STRING","\"UNION \"",108],["T_WHITESPACE","\n             ",108],".",["T_WHITESPACE"," ",109],["T_CONSTANT_ENCAPSED_STRING","\"SELECT c.relname AS table_name \"",109],["T_WHITESPACE","\n             ",109],".",["T_WHITESPACE"," ",110],["T_CONSTANT_ENCAPSED_STRING","\"FROM pg_class c \"",110],["T_WHITESPACE","\n             ",110],".",["T_WHITESPACE"," ",111],["T_CONSTANT_ENCAPSED_STRING","\"WHERE c.relkind = 'r' \"",111],["T_WHITESPACE","\n             ",111],".",["T_WHITESPACE"," ",112],["T_CONSTANT_ENCAPSED_STRING","\"AND NOT EXISTS (SELECT 1 FROM pg_views WHERE viewname = c.relname) \"",112],["T_WHITESPACE","\n             ",112],".",["T_WHITESPACE"," ",113],["T_CONSTANT_ENCAPSED_STRING","\"AND NOT EXISTS (SELECT 1 FROM pg_user WHERE usesysid = c.relowner) \"",113],["T_WHITESPACE","\n             ",113],".",["T_WHITESPACE"," ",114],["T_CONSTANT_ENCAPSED_STRING","\"AND c.relname !~ '^pg_'\"",114],";",["T_WHITESPACE","\n\n        ",114],["T_RETURN","return",116],["T_WHITESPACE"," ",116],["T_VARIABLE","$this",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","fetchCol",116],"(",["T_VARIABLE","$sql",116],")",";",["T_WHITESPACE","\n    ",116],"}",["T_WHITESPACE","\n\n    ",117],["T_DOC_COMMENT","\/**\n     * Returns the column descriptions for a table.\n     *\n     * The return value is an associative array keyed by the column name,\n     * as returned by the RDBMS.\n     *\n     * The value of each array element is an associative array\n     * with the following keys:\n     *\n     * SCHEMA_NAME      => string; name of database or schema\n     * TABLE_NAME       => string;\n     * COLUMN_NAME      => string; column name\n     * COLUMN_POSITION  => number; ordinal position of column in table\n     * DATA_TYPE        => string; SQL datatype name of column\n     * DEFAULT          => string; default expression of column, null if none\n     * NULLABLE         => boolean; true if column can have nulls\n     * LENGTH           => number; length of CHAR\/VARCHAR\n     * SCALE            => number; scale of NUMERIC\/DECIMAL\n     * PRECISION        => number; precision of NUMERIC\/DECIMAL\n     * UNSIGNED         => boolean; unsigned property of an integer type\n     * PRIMARY          => boolean; true if column is part of the primary key\n     * PRIMARY_POSITION => integer; position of column in primary key\n     * IDENTITY         => integer; true if column is auto-generated with unique values\n     *\n     * @todo Discover integer unsigned property.\n     *\n     * @param  string $tableName\n     * @param  string $schemaName OPTIONAL\n     * @return array\n     *\/",119],["T_WHITESPACE","\n    ",148],["T_PUBLIC","public",149],["T_WHITESPACE"," ",149],["T_FUNCTION","function",149],["T_WHITESPACE"," ",149],["T_STRING","describeTable",149],"(",["T_VARIABLE","$tableName",149],",",["T_WHITESPACE"," ",149],["T_VARIABLE","$schemaName",149],["T_WHITESPACE"," ",149],"=",["T_WHITESPACE"," ",149],["T_STRING","null",149],")",["T_WHITESPACE","\n    ",149],"{",["T_WHITESPACE","\n        ",150],["T_VARIABLE","$sql",151],["T_WHITESPACE"," ",151],"=",["T_WHITESPACE"," ",151],["T_CONSTANT_ENCAPSED_STRING","\"SELECT\n                a.attnum,\n                n.nspname,\n                c.relname,\n                a.attname AS colname,\n                t.typname AS type,\n                a.atttypmod,\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\n                d.adsrc AS default_value,\n                a.attnotnull AS notnull,\n                a.attlen AS length,\n                co.contype,\n                ARRAY_TO_STRING(co.conkey, ',') AS conkey\n            FROM pg_attribute AS a\n                JOIN pg_class AS c ON a.attrelid = c.oid\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\n                JOIN pg_type AS t ON a.atttypid = t.oid\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\n                    AND a.attnum = ANY(co.conkey) AND co.contype = 'p')\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\n            WHERE a.attnum > 0 AND c.relname = \"",151],".",["T_VARIABLE","$this",171],["T_OBJECT_OPERATOR","->",171],["T_STRING","quote",171],"(",["T_VARIABLE","$tableName",171],")",";",["T_WHITESPACE","\n        ",171],["T_IF","if",172],["T_WHITESPACE"," ",172],"(",["T_VARIABLE","$schemaName",172],")",["T_WHITESPACE"," ",172],"{",["T_WHITESPACE","\n            ",172],["T_VARIABLE","$sql",173],["T_WHITESPACE"," ",173],["T_CONCAT_EQUAL",".=",173],["T_WHITESPACE"," ",173],["T_CONSTANT_ENCAPSED_STRING","\" AND n.nspname = \"",173],".",["T_VARIABLE","$this",173],["T_OBJECT_OPERATOR","->",173],["T_STRING","quote",173],"(",["T_VARIABLE","$schemaName",173],")",";",["T_WHITESPACE","\n        ",173],"}",["T_WHITESPACE","\n        ",174],["T_VARIABLE","$sql",175],["T_WHITESPACE"," ",175],["T_CONCAT_EQUAL",".=",175],["T_WHITESPACE"," ",175],["T_CONSTANT_ENCAPSED_STRING","' ORDER BY a.attnum'",175],";",["T_WHITESPACE","\n\n        ",175],["T_VARIABLE","$stmt",177],["T_WHITESPACE"," ",177],"=",["T_WHITESPACE"," ",177],["T_VARIABLE","$this",177],["T_OBJECT_OPERATOR","->",177],["T_STRING","query",177],"(",["T_VARIABLE","$sql",177],")",";",["T_WHITESPACE","\n\n        ",177],["T_COMMENT","\/\/ Use FETCH_NUM so we are not dependent on the CASE attribute of the PDO connection\n",179],["T_WHITESPACE","        ",180],["T_VARIABLE","$result",180],["T_WHITESPACE"," ",180],"=",["T_WHITESPACE"," ",180],["T_VARIABLE","$stmt",180],["T_OBJECT_OPERATOR","->",180],["T_STRING","fetchAll",180],"(",["T_STRING","Zend_Db",180],["T_DOUBLE_COLON","::",180],["T_STRING","FETCH_NUM",180],")",";",["T_WHITESPACE","\n\n        ",180],["T_VARIABLE","$attnum",182],["T_WHITESPACE","        ",182],"=",["T_WHITESPACE"," ",182],["T_LNUMBER","0",182],";",["T_WHITESPACE","\n        ",182],["T_VARIABLE","$nspname",183],["T_WHITESPACE","       ",183],"=",["T_WHITESPACE"," ",183],["T_LNUMBER","1",183],";",["T_WHITESPACE","\n        ",183],["T_VARIABLE","$relname",184],["T_WHITESPACE","       ",184],"=",["T_WHITESPACE"," ",184],["T_LNUMBER","2",184],";",["T_WHITESPACE","\n        ",184],["T_VARIABLE","$colname",185],["T_WHITESPACE","       ",185],"=",["T_WHITESPACE"," ",185],["T_LNUMBER","3",185],";",["T_WHITESPACE","\n        ",185],["T_VARIABLE","$type",186],["T_WHITESPACE","          ",186],"=",["T_WHITESPACE"," ",186],["T_LNUMBER","4",186],";",["T_WHITESPACE","\n        ",186],["T_VARIABLE","$atttypemod",187],["T_WHITESPACE","    ",187],"=",["T_WHITESPACE"," ",187],["T_LNUMBER","5",187],";",["T_WHITESPACE","\n        ",187],["T_VARIABLE","$complete_type",188],["T_WHITESPACE"," ",188],"=",["T_WHITESPACE"," ",188],["T_LNUMBER","6",188],";",["T_WHITESPACE","\n        ",188],["T_VARIABLE","$default_value",189],["T_WHITESPACE"," ",189],"=",["T_WHITESPACE"," ",189],["T_LNUMBER","7",189],";",["T_WHITESPACE","\n        ",189],["T_VARIABLE","$notnull",190],["T_WHITESPACE","       ",190],"=",["T_WHITESPACE"," ",190],["T_LNUMBER","8",190],";",["T_WHITESPACE","\n        ",190],["T_VARIABLE","$length",191],["T_WHITESPACE","        ",191],"=",["T_WHITESPACE"," ",191],["T_LNUMBER","9",191],";",["T_WHITESPACE","\n        ",191],["T_VARIABLE","$contype",192],["T_WHITESPACE","       ",192],"=",["T_WHITESPACE"," ",192],["T_LNUMBER","10",192],";",["T_WHITESPACE","\n        ",192],["T_VARIABLE","$conkey",193],["T_WHITESPACE","        ",193],"=",["T_WHITESPACE"," ",193],["T_LNUMBER","11",193],";",["T_WHITESPACE","\n\n        ",193],["T_VARIABLE","$desc",195],["T_WHITESPACE"," ",195],"=",["T_WHITESPACE"," ",195],["T_ARRAY","array",195],"(",")",";",["T_WHITESPACE","\n        ",195],["T_FOREACH","foreach",196],["T_WHITESPACE"," ",196],"(",["T_VARIABLE","$result",196],["T_WHITESPACE"," ",196],["T_AS","as",196],["T_WHITESPACE"," ",196],["T_VARIABLE","$key",196],["T_WHITESPACE"," ",196],["T_DOUBLE_ARROW","=>",196],["T_WHITESPACE"," ",196],["T_VARIABLE","$row",196],")",["T_WHITESPACE"," ",196],"{",["T_WHITESPACE","\n            ",196],["T_VARIABLE","$defaultValue",197],["T_WHITESPACE"," ",197],"=",["T_WHITESPACE"," ",197],["T_VARIABLE","$row",197],"[",["T_VARIABLE","$default_value",197],"]",";",["T_WHITESPACE","\n            ",197],["T_IF","if",198],["T_WHITESPACE"," ",198],"(",["T_VARIABLE","$row",198],"[",["T_VARIABLE","$type",198],"]",["T_WHITESPACE"," ",198],["T_IS_EQUAL","==",198],["T_WHITESPACE"," ",198],["T_CONSTANT_ENCAPSED_STRING","'varchar'",198],["T_WHITESPACE"," ",198],["T_BOOLEAN_OR","||",198],["T_WHITESPACE"," ",198],["T_VARIABLE","$row",198],"[",["T_VARIABLE","$type",198],"]",["T_WHITESPACE"," ",198],["T_IS_EQUAL","==",198],["T_WHITESPACE"," ",198],["T_CONSTANT_ENCAPSED_STRING","'bpchar'",198],["T_WHITESPACE"," ",198],")",["T_WHITESPACE"," ",198],"{",["T_WHITESPACE","\n                ",198],["T_IF","if",199],["T_WHITESPACE"," ",199],"(",["T_STRING","preg_match",199],"(",["T_CONSTANT_ENCAPSED_STRING","'\/character(?: varying)?(?:\\((\\d+)\\))?\/'",199],",",["T_WHITESPACE"," ",199],["T_VARIABLE","$row",199],"[",["T_VARIABLE","$complete_type",199],"]",",",["T_WHITESPACE"," ",199],["T_VARIABLE","$matches",199],")",")",["T_WHITESPACE"," ",199],"{",["T_WHITESPACE","\n                    ",199],["T_IF","if",200],["T_WHITESPACE"," ",200],"(",["T_ISSET","isset",200],"(",["T_VARIABLE","$matches",200],"[",["T_LNUMBER","1",200],"]",")",")",["T_WHITESPACE"," ",200],"{",["T_WHITESPACE","\n                        ",200],["T_VARIABLE","$row",201],"[",["T_VARIABLE","$length",201],"]",["T_WHITESPACE"," ",201],"=",["T_WHITESPACE"," ",201],["T_VARIABLE","$matches",201],"[",["T_LNUMBER","1",201],"]",";",["T_WHITESPACE","\n                    ",201],"}",["T_WHITESPACE"," ",202],["T_ELSE","else",202],["T_WHITESPACE"," ",202],"{",["T_WHITESPACE","\n                        ",202],["T_VARIABLE","$row",203],"[",["T_VARIABLE","$length",203],"]",["T_WHITESPACE"," ",203],"=",["T_WHITESPACE"," ",203],["T_STRING","null",203],";",["T_WHITESPACE"," ",203],["T_COMMENT","\/\/ unlimited\n",203],["T_WHITESPACE","                    ",204],"}",["T_WHITESPACE","\n                ",204],"}",["T_WHITESPACE","\n                ",205],["T_IF","if",206],["T_WHITESPACE"," ",206],"(",["T_STRING","preg_match",206],"(",["T_CONSTANT_ENCAPSED_STRING","\"\/^'(.*?)'::(?:character varying|bpchar)$\/\"",206],",",["T_WHITESPACE"," ",206],["T_VARIABLE","$defaultValue",206],",",["T_WHITESPACE"," ",206],["T_VARIABLE","$matches",206],")",")",["T_WHITESPACE"," ",206],"{",["T_WHITESPACE","\n                    ",206],["T_VARIABLE","$defaultValue",207],["T_WHITESPACE"," ",207],"=",["T_WHITESPACE"," ",207],["T_VARIABLE","$matches",207],"[",["T_LNUMBER","1",207],"]",";",["T_WHITESPACE","\n                ",207],"}",["T_WHITESPACE","\n            ",208],"}",["T_WHITESPACE","\n            ",209],["T_LIST","list",210],"(",["T_VARIABLE","$primary",210],",",["T_WHITESPACE"," ",210],["T_VARIABLE","$primaryPosition",210],",",["T_WHITESPACE"," ",210],["T_VARIABLE","$identity",210],")",["T_WHITESPACE"," ",210],"=",["T_WHITESPACE"," ",210],["T_ARRAY","array",210],"(",["T_STRING","false",210],",",["T_WHITESPACE"," ",210],["T_STRING","null",210],",",["T_WHITESPACE"," ",210],["T_STRING","false",210],")",";",["T_WHITESPACE","\n            ",210],["T_IF","if",211],["T_WHITESPACE"," ",211],"(",["T_VARIABLE","$row",211],"[",["T_VARIABLE","$contype",211],"]",["T_WHITESPACE"," ",211],["T_IS_EQUAL","==",211],["T_WHITESPACE"," ",211],["T_CONSTANT_ENCAPSED_STRING","'p'",211],")",["T_WHITESPACE"," ",211],"{",["T_WHITESPACE","\n                ",211],["T_VARIABLE","$primary",212],["T_WHITESPACE"," ",212],"=",["T_WHITESPACE"," ",212],["T_STRING","true",212],";",["T_WHITESPACE","\n                ",212],["T_VARIABLE","$primaryPosition",213],["T_WHITESPACE"," ",213],"=",["T_WHITESPACE"," ",213],["T_STRING","array_search",213],"(",["T_VARIABLE","$row",213],"[",["T_VARIABLE","$attnum",213],"]",",",["T_WHITESPACE"," ",213],["T_STRING","explode",213],"(",["T_CONSTANT_ENCAPSED_STRING","','",213],",",["T_WHITESPACE"," ",213],["T_VARIABLE","$row",213],"[",["T_VARIABLE","$conkey",213],"]",")",")",["T_WHITESPACE"," ",213],"+",["T_WHITESPACE"," ",213],["T_LNUMBER","1",213],";",["T_WHITESPACE","\n                ",213],["T_VARIABLE","$identity",214],["T_WHITESPACE"," ",214],"=",["T_WHITESPACE"," ",214],["T_BOOL_CAST","(bool)",214],["T_WHITESPACE"," ",214],"(",["T_STRING","preg_match",214],"(",["T_CONSTANT_ENCAPSED_STRING","'\/^nextval\/'",214],",",["T_WHITESPACE"," ",214],["T_VARIABLE","$row",214],"[",["T_VARIABLE","$default_value",214],"]",")",")",";",["T_WHITESPACE","\n            ",214],"}",["T_WHITESPACE","\n            ",215],["T_VARIABLE","$desc",216],"[",["T_VARIABLE","$this",216],["T_OBJECT_OPERATOR","->",216],["T_STRING","foldCase",216],"(",["T_VARIABLE","$row",216],"[",["T_VARIABLE","$colname",216],"]",")","]",["T_WHITESPACE"," ",216],"=",["T_WHITESPACE"," ",216],["T_ARRAY","array",216],"(",["T_WHITESPACE","\n                ",216],["T_CONSTANT_ENCAPSED_STRING","'SCHEMA_NAME'",217],["T_WHITESPACE","      ",217],["T_DOUBLE_ARROW","=>",217],["T_WHITESPACE"," ",217],["T_VARIABLE","$this",217],["T_OBJECT_OPERATOR","->",217],["T_STRING","foldCase",217],"(",["T_VARIABLE","$row",217],"[",["T_VARIABLE","$nspname",217],"]",")",",",["T_WHITESPACE","\n                ",217],["T_CONSTANT_ENCAPSED_STRING","'TABLE_NAME'",218],["T_WHITESPACE","       ",218],["T_DOUBLE_ARROW","=>",218],["T_WHITESPACE"," ",218],["T_VARIABLE","$this",218],["T_OBJECT_OPERATOR","->",218],["T_STRING","foldCase",218],"(",["T_VARIABLE","$row",218],"[",["T_VARIABLE","$relname",218],"]",")",",",["T_WHITESPACE","\n                ",218],["T_CONSTANT_ENCAPSED_STRING","'COLUMN_NAME'",219],["T_WHITESPACE","      ",219],["T_DOUBLE_ARROW","=>",219],["T_WHITESPACE"," ",219],["T_VARIABLE","$this",219],["T_OBJECT_OPERATOR","->",219],["T_STRING","foldCase",219],"(",["T_VARIABLE","$row",219],"[",["T_VARIABLE","$colname",219],"]",")",",",["T_WHITESPACE","\n                ",219],["T_CONSTANT_ENCAPSED_STRING","'COLUMN_POSITION'",220],["T_WHITESPACE","  ",220],["T_DOUBLE_ARROW","=>",220],["T_WHITESPACE"," ",220],["T_VARIABLE","$row",220],"[",["T_VARIABLE","$attnum",220],"]",",",["T_WHITESPACE","\n                ",220],["T_CONSTANT_ENCAPSED_STRING","'DATA_TYPE'",221],["T_WHITESPACE","        ",221],["T_DOUBLE_ARROW","=>",221],["T_WHITESPACE"," ",221],["T_VARIABLE","$row",221],"[",["T_VARIABLE","$type",221],"]",",",["T_WHITESPACE","\n                ",221],["T_CONSTANT_ENCAPSED_STRING","'DEFAULT'",222],["T_WHITESPACE","          ",222],["T_DOUBLE_ARROW","=>",222],["T_WHITESPACE"," ",222],["T_VARIABLE","$defaultValue",222],",",["T_WHITESPACE","\n                ",222],["T_CONSTANT_ENCAPSED_STRING","'NULLABLE'",223],["T_WHITESPACE","         ",223],["T_DOUBLE_ARROW","=>",223],["T_WHITESPACE"," ",223],["T_BOOL_CAST","(bool)",223],["T_WHITESPACE"," ",223],"(",["T_VARIABLE","$row",223],"[",["T_VARIABLE","$notnull",223],"]",["T_WHITESPACE"," ",223],["T_IS_NOT_EQUAL","!=",223],["T_WHITESPACE"," ",223],["T_CONSTANT_ENCAPSED_STRING","'t'",223],")",",",["T_WHITESPACE","\n                ",223],["T_CONSTANT_ENCAPSED_STRING","'LENGTH'",224],["T_WHITESPACE","           ",224],["T_DOUBLE_ARROW","=>",224],["T_WHITESPACE"," ",224],["T_VARIABLE","$row",224],"[",["T_VARIABLE","$length",224],"]",",",["T_WHITESPACE","\n                ",224],["T_CONSTANT_ENCAPSED_STRING","'SCALE'",225],["T_WHITESPACE","            ",225],["T_DOUBLE_ARROW","=>",225],["T_WHITESPACE"," ",225],["T_STRING","null",225],",",["T_WHITESPACE"," ",225],["T_COMMENT","\/\/ @todo\n",225],["T_WHITESPACE","                ",226],["T_CONSTANT_ENCAPSED_STRING","'PRECISION'",226],["T_WHITESPACE","        ",226],["T_DOUBLE_ARROW","=>",226],["T_WHITESPACE"," ",226],["T_STRING","null",226],",",["T_WHITESPACE"," ",226],["T_COMMENT","\/\/ @todo\n",226],["T_WHITESPACE","                ",227],["T_CONSTANT_ENCAPSED_STRING","'UNSIGNED'",227],["T_WHITESPACE","         ",227],["T_DOUBLE_ARROW","=>",227],["T_WHITESPACE"," ",227],["T_STRING","null",227],",",["T_WHITESPACE"," ",227],["T_COMMENT","\/\/ @todo\n",227],["T_WHITESPACE","                ",228],["T_CONSTANT_ENCAPSED_STRING","'PRIMARY'",228],["T_WHITESPACE","          ",228],["T_DOUBLE_ARROW","=>",228],["T_WHITESPACE"," ",228],["T_VARIABLE","$primary",228],",",["T_WHITESPACE","\n                ",228],["T_CONSTANT_ENCAPSED_STRING","'PRIMARY_POSITION'",229],["T_WHITESPACE"," ",229],["T_DOUBLE_ARROW","=>",229],["T_WHITESPACE"," ",229],["T_VARIABLE","$primaryPosition",229],",",["T_WHITESPACE","\n                ",229],["T_CONSTANT_ENCAPSED_STRING","'IDENTITY'",230],["T_WHITESPACE","         ",230],["T_DOUBLE_ARROW","=>",230],["T_WHITESPACE"," ",230],["T_VARIABLE","$identity",230],["T_WHITESPACE","\n            ",230],")",";",["T_WHITESPACE","\n        ",231],"}",["T_WHITESPACE","\n        ",232],["T_RETURN","return",233],["T_WHITESPACE"," ",233],["T_VARIABLE","$desc",233],";",["T_WHITESPACE","\n    ",233],"}",["T_WHITESPACE","\n\n\n    ",234],["T_DOC_COMMENT","\/**\n     * Adds an adapter-specific LIMIT clause to the SELECT statement.\n     *\n     * @param string $sql\n     * @param integer $count\n     * @param integer $offset OPTIONAL\n     * @return string\n     *\/",237],["T_WHITESPACE","\n    ",244],["T_PUBLIC","public",245],["T_WHITESPACE"," ",245],["T_FUNCTION","function",245],["T_WHITESPACE"," ",245],["T_STRING","limit",245],"(",["T_VARIABLE","$sql",245],",",["T_WHITESPACE"," ",245],["T_VARIABLE","$count",245],",",["T_WHITESPACE"," ",245],["T_VARIABLE","$offset",245],["T_WHITESPACE"," ",245],"=",["T_WHITESPACE"," ",245],["T_LNUMBER","0",245],")",["T_WHITESPACE","\n    ",245],"{",["T_WHITESPACE","\n        ",246],["T_VARIABLE","$count",247],["T_WHITESPACE"," ",247],"=",["T_WHITESPACE"," ",247],["T_STRING","intval",247],"(",["T_VARIABLE","$count",247],")",";",["T_WHITESPACE","\n        ",247],["T_IF","if",248],["T_WHITESPACE"," ",248],"(",["T_VARIABLE","$count",248],["T_WHITESPACE"," ",248],["T_IS_SMALLER_OR_EQUAL","<=",248],["T_WHITESPACE"," ",248],["T_LNUMBER","0",248],")",["T_WHITESPACE"," ",248],"{",["T_WHITESPACE","\n            ",248],["T_DOC_COMMENT","\/**\n             * @see Zend_Db_Adapter_Exception\n             *\/",249],["T_WHITESPACE","\n            ",251],["T_COMMENT","#require_once 'Zend\/Db\/Adapter\/Exception.php';\n",252],["T_WHITESPACE","            ",253],["T_THROW","throw",253],["T_WHITESPACE"," ",253],["T_NEW","new",253],["T_WHITESPACE"," ",253],["T_STRING","Zend_Db_Adapter_Exception",253],"(","\"",["T_ENCAPSED_AND_WHITESPACE","LIMIT argument count=",253],["T_VARIABLE","$count",253],["T_ENCAPSED_AND_WHITESPACE"," is not valid",253],"\"",")",";",["T_WHITESPACE","\n        ",253],"}",["T_WHITESPACE","\n\n        ",254],["T_VARIABLE","$offset",256],["T_WHITESPACE"," ",256],"=",["T_WHITESPACE"," ",256],["T_STRING","intval",256],"(",["T_VARIABLE","$offset",256],")",";",["T_WHITESPACE","\n        ",256],["T_IF","if",257],["T_WHITESPACE"," ",257],"(",["T_VARIABLE","$offset",257],["T_WHITESPACE"," ",257],"<",["T_WHITESPACE"," ",257],["T_LNUMBER","0",257],")",["T_WHITESPACE"," ",257],"{",["T_WHITESPACE","\n            ",257],["T_DOC_COMMENT","\/**\n             * @see Zend_Db_Adapter_Exception\n             *\/",258],["T_WHITESPACE","\n            ",260],["T_COMMENT","#require_once 'Zend\/Db\/Adapter\/Exception.php';\n",261],["T_WHITESPACE","            ",262],["T_THROW","throw",262],["T_WHITESPACE"," ",262],["T_NEW","new",262],["T_WHITESPACE"," ",262],["T_STRING","Zend_Db_Adapter_Exception",262],"(","\"",["T_ENCAPSED_AND_WHITESPACE","LIMIT argument offset=",262],["T_VARIABLE","$offset",262],["T_ENCAPSED_AND_WHITESPACE"," is not valid",262],"\"",")",";",["T_WHITESPACE","\n        ",262],"}",["T_WHITESPACE","\n\n        ",263],["T_VARIABLE","$sql",265],["T_WHITESPACE"," ",265],["T_CONCAT_EQUAL",".=",265],["T_WHITESPACE"," ",265],"\"",["T_ENCAPSED_AND_WHITESPACE"," LIMIT ",265],["T_VARIABLE","$count",265],"\"",";",["T_WHITESPACE","\n        ",265],["T_IF","if",266],["T_WHITESPACE"," ",266],"(",["T_VARIABLE","$offset",266],["T_WHITESPACE"," ",266],">",["T_WHITESPACE"," ",266],["T_LNUMBER","0",266],")",["T_WHITESPACE"," ",266],"{",["T_WHITESPACE","\n            ",266],["T_VARIABLE","$sql",267],["T_WHITESPACE"," ",267],["T_CONCAT_EQUAL",".=",267],["T_WHITESPACE"," ",267],"\"",["T_ENCAPSED_AND_WHITESPACE"," OFFSET ",267],["T_VARIABLE","$offset",267],"\"",";",["T_WHITESPACE","\n        ",267],"}",["T_WHITESPACE","\n\n        ",268],["T_RETURN","return",270],["T_WHITESPACE"," ",270],["T_VARIABLE","$sql",270],";",["T_WHITESPACE","\n    ",270],"}",["T_WHITESPACE","\n\n    ",271],["T_DOC_COMMENT","\/**\n     * Return the most recent value from the specified sequence in the database.\n     * This is supported only on RDBMS brands that support sequences\n     * (e.g. Oracle, PostgreSQL, DB2).  Other RDBMS brands return null.\n     *\n     * @param string $sequenceName\n     * @return string\n     *\/",273],["T_WHITESPACE","\n    ",280],["T_PUBLIC","public",281],["T_WHITESPACE"," ",281],["T_FUNCTION","function",281],["T_WHITESPACE"," ",281],["T_STRING","lastSequenceId",281],"(",["T_VARIABLE","$sequenceName",281],")",["T_WHITESPACE","\n    ",281],"{",["T_WHITESPACE","\n        ",282],["T_VARIABLE","$this",283],["T_OBJECT_OPERATOR","->",283],["T_STRING","_connect",283],"(",")",";",["T_WHITESPACE","\n        ",283],["T_VARIABLE","$sequenceName",284],["T_WHITESPACE"," ",284],"=",["T_WHITESPACE"," ",284],["T_STRING","str_replace",284],"(",["T_VARIABLE","$this",284],["T_OBJECT_OPERATOR","->",284],["T_STRING","getQuoteIdentifierSymbol",284],"(",")",",",["T_WHITESPACE"," ",284],["T_CONSTANT_ENCAPSED_STRING","''",284],",",["T_WHITESPACE"," ",284],["T_STRING_CAST","(string)",284],["T_WHITESPACE"," ",284],["T_VARIABLE","$sequenceName",284],")",";",["T_WHITESPACE","\n        ",284],["T_VARIABLE","$value",285],["T_WHITESPACE"," ",285],"=",["T_WHITESPACE"," ",285],["T_VARIABLE","$this",285],["T_OBJECT_OPERATOR","->",285],["T_STRING","fetchOne",285],"(",["T_CONSTANT_ENCAPSED_STRING","\"SELECT CURRVAL(\"",285],["T_WHITESPACE","\n               ",285],".",["T_WHITESPACE"," ",286],["T_VARIABLE","$this",286],["T_OBJECT_OPERATOR","->",286],["T_STRING","quote",286],"(",["T_VARIABLE","$this",286],["T_OBJECT_OPERATOR","->",286],["T_STRING","quoteIdentifier",286],"(",["T_VARIABLE","$sequenceName",286],",",["T_WHITESPACE"," ",286],["T_STRING","true",286],")",")",["T_WHITESPACE","\n               ",286],".",["T_WHITESPACE"," ",287],["T_CONSTANT_ENCAPSED_STRING","\")\"",287],")",";",["T_WHITESPACE","\n        ",287],["T_RETURN","return",288],["T_WHITESPACE"," ",288],["T_VARIABLE","$value",288],";",["T_WHITESPACE","\n    ",288],"}",["T_WHITESPACE","\n\n    ",289],["T_DOC_COMMENT","\/**\n     * Generate a new value from the specified sequence in the database, and return it.\n     * This is supported only on RDBMS brands that support sequences\n     * (e.g. Oracle, PostgreSQL, DB2).  Other RDBMS brands return null.\n     *\n     * @param string $sequenceName\n     * @return string\n     *\/",291],["T_WHITESPACE","\n    ",298],["T_PUBLIC","public",299],["T_WHITESPACE"," ",299],["T_FUNCTION","function",299],["T_WHITESPACE"," ",299],["T_STRING","nextSequenceId",299],"(",["T_VARIABLE","$sequenceName",299],")",["T_WHITESPACE","\n    ",299],"{",["T_WHITESPACE","\n        ",300],["T_VARIABLE","$this",301],["T_OBJECT_OPERATOR","->",301],["T_STRING","_connect",301],"(",")",";",["T_WHITESPACE","\n        ",301],["T_VARIABLE","$sequenceName",302],["T_WHITESPACE"," ",302],"=",["T_WHITESPACE"," ",302],["T_STRING","str_replace",302],"(",["T_VARIABLE","$this",302],["T_OBJECT_OPERATOR","->",302],["T_STRING","getQuoteIdentifierSymbol",302],"(",")",",",["T_WHITESPACE"," ",302],["T_CONSTANT_ENCAPSED_STRING","''",302],",",["T_WHITESPACE"," ",302],["T_STRING_CAST","(string)",302],["T_WHITESPACE"," ",302],["T_VARIABLE","$sequenceName",302],")",";",["T_WHITESPACE","\n        ",302],["T_VARIABLE","$value",303],["T_WHITESPACE"," ",303],"=",["T_WHITESPACE"," ",303],["T_VARIABLE","$this",303],["T_OBJECT_OPERATOR","->",303],["T_STRING","fetchOne",303],"(",["T_CONSTANT_ENCAPSED_STRING","\"SELECT NEXTVAL(\"",303],["T_WHITESPACE","\n               ",303],".",["T_WHITESPACE"," ",304],["T_VARIABLE","$this",304],["T_OBJECT_OPERATOR","->",304],["T_STRING","quote",304],"(",["T_VARIABLE","$this",304],["T_OBJECT_OPERATOR","->",304],["T_STRING","quoteIdentifier",304],"(",["T_VARIABLE","$sequenceName",304],",",["T_WHITESPACE"," ",304],["T_STRING","true",304],")",")",["T_WHITESPACE","\n               ",304],".",["T_WHITESPACE"," ",305],["T_CONSTANT_ENCAPSED_STRING","\")\"",305],")",";",["T_WHITESPACE","\n        ",305],["T_RETURN","return",306],["T_WHITESPACE"," ",306],["T_VARIABLE","$value",306],";",["T_WHITESPACE","\n    ",306],"}",["T_WHITESPACE","\n\n    ",307],["T_DOC_COMMENT","\/**\n     * Gets the last ID generated automatically by an IDENTITY\/AUTOINCREMENT column.\n     *\n     * As a convention, on RDBMS brands that support sequences\n     * (e.g. Oracle, PostgreSQL, DB2), this method forms the name of a sequence\n     * from the arguments and returns the last id generated by that sequence.\n     * On RDBMS brands that support IDENTITY\/AUTOINCREMENT columns, this method\n     * returns the last value generated for such a column, and the table name\n     * argument is disregarded.\n     *\n     * @param string $tableName   OPTIONAL Name of table.\n     * @param string $primaryKey  OPTIONAL Name of primary key column.\n     * @return string\n     *\/",309],["T_WHITESPACE","\n    ",322],["T_PUBLIC","public",323],["T_WHITESPACE"," ",323],["T_FUNCTION","function",323],["T_WHITESPACE"," ",323],["T_STRING","lastInsertId",323],"(",["T_VARIABLE","$tableName",323],["T_WHITESPACE"," ",323],"=",["T_WHITESPACE"," ",323],["T_STRING","null",323],",",["T_WHITESPACE"," ",323],["T_VARIABLE","$primaryKey",323],["T_WHITESPACE"," ",323],"=",["T_WHITESPACE"," ",323],["T_STRING","null",323],")",["T_WHITESPACE","\n    ",323],"{",["T_WHITESPACE","\n        ",324],["T_IF","if",325],["T_WHITESPACE"," ",325],"(",["T_VARIABLE","$tableName",325],["T_WHITESPACE"," ",325],["T_IS_NOT_IDENTICAL","!==",325],["T_WHITESPACE"," ",325],["T_STRING","null",325],")",["T_WHITESPACE"," ",325],"{",["T_WHITESPACE","\n            ",325],["T_VARIABLE","$sequenceName",326],["T_WHITESPACE"," ",326],"=",["T_WHITESPACE"," ",326],["T_VARIABLE","$tableName",326],";",["T_WHITESPACE","\n            ",326],["T_IF","if",327],["T_WHITESPACE"," ",327],"(",["T_VARIABLE","$primaryKey",327],")",["T_WHITESPACE"," ",327],"{",["T_WHITESPACE","\n                ",327],["T_VARIABLE","$sequenceName",328],["T_WHITESPACE"," ",328],["T_CONCAT_EQUAL",".=",328],["T_WHITESPACE"," ",328],"\"",["T_ENCAPSED_AND_WHITESPACE","_",328],["T_VARIABLE","$primaryKey",328],"\"",";",["T_WHITESPACE","\n            ",328],"}",["T_WHITESPACE","\n            ",329],["T_VARIABLE","$sequenceName",330],["T_WHITESPACE"," ",330],["T_CONCAT_EQUAL",".=",330],["T_WHITESPACE"," ",330],["T_CONSTANT_ENCAPSED_STRING","'_seq'",330],";",["T_WHITESPACE","\n            ",330],["T_RETURN","return",331],["T_WHITESPACE"," ",331],["T_VARIABLE","$this",331],["T_OBJECT_OPERATOR","->",331],["T_STRING","lastSequenceId",331],"(",["T_VARIABLE","$sequenceName",331],")",";",["T_WHITESPACE","\n        ",331],"}",["T_WHITESPACE","\n        ",332],["T_RETURN","return",333],["T_WHITESPACE"," ",333],["T_VARIABLE","$this",333],["T_OBJECT_OPERATOR","->",333],["T_STRING","_connection",333],["T_OBJECT_OPERATOR","->",333],["T_STRING","lastInsertId",333],"(",["T_VARIABLE","$tableName",333],")",";",["T_WHITESPACE","\n    ",333],"}",["T_WHITESPACE","\n\n",334],"}",["T_WHITESPACE","\n",336]]