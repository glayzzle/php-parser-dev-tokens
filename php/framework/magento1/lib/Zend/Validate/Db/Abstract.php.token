[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Zend Framework\n *\n * LICENSE\n *\n * This source file is subject to the new BSD license that is bundled\n * with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/framework.zend.com\/license\/new-bsd\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@zend.com so we can send you a copy immediately.\n *\n * @category   Zend\n * @package    Zend_Validate\n * @copyright  Copyright (c) 2005-2015 Zend Technologies USA Inc. (http:\/\/www.zend.com)\n * @license    http:\/\/framework.zend.com\/license\/new-bsd     New BSD License\n * @version    $Id$\n *\/",2],["T_WHITESPACE","\n\n",20],["T_DOC_COMMENT","\/**\n * @see Zend_Validate_Abstract\n *\/",22],["T_WHITESPACE","\n",24],["T_COMMENT","#require_once 'Zend\/Validate\/Abstract.php';\n",25],["T_WHITESPACE","\n",26],["T_DOC_COMMENT","\/**\n * Class for Database record validation\n *\n * @category   Zend\n * @package    Zend_Validate\n * @uses       Zend_Validate_Abstract\n * @copyright  Copyright (c) 2005-2015 Zend Technologies USA Inc. (http:\/\/www.zend.com)\n * @license    http:\/\/framework.zend.com\/license\/new-bsd     New BSD License\n *\/",27],["T_WHITESPACE","\n",35],["T_ABSTRACT","abstract",36],["T_WHITESPACE"," ",36],["T_CLASS","class",36],["T_WHITESPACE"," ",36],["T_STRING","Zend_Validate_Db_Abstract",36],["T_WHITESPACE"," ",36],["T_EXTENDS","extends",36],["T_WHITESPACE"," ",36],["T_STRING","Zend_Validate_Abstract",36],["T_WHITESPACE","\n",36],"{",["T_WHITESPACE","\n    ",37],["T_DOC_COMMENT","\/**\n     * Error constants\n     *\/",38],["T_WHITESPACE","\n    ",40],["T_CONST","const",41],["T_WHITESPACE"," ",41],["T_STRING","ERROR_NO_RECORD_FOUND",41],["T_WHITESPACE"," ",41],"=",["T_WHITESPACE"," ",41],["T_CONSTANT_ENCAPSED_STRING","'noRecordFound'",41],";",["T_WHITESPACE","\n    ",41],["T_CONST","const",42],["T_WHITESPACE"," ",42],["T_STRING","ERROR_RECORD_FOUND",42],["T_WHITESPACE","    ",42],"=",["T_WHITESPACE"," ",42],["T_CONSTANT_ENCAPSED_STRING","'recordFound'",42],";",["T_WHITESPACE","\n\n    ",42],["T_DOC_COMMENT","\/**\n     * @var array Message templates\n     *\/",44],["T_WHITESPACE","\n    ",46],["T_PROTECTED","protected",47],["T_WHITESPACE"," ",47],["T_VARIABLE","$_messageTemplates",47],["T_WHITESPACE"," ",47],"=",["T_WHITESPACE"," ",47],["T_ARRAY","array",47],"(",["T_WHITESPACE","\n        ",47],["T_STRING","self",48],["T_DOUBLE_COLON","::",48],["T_STRING","ERROR_NO_RECORD_FOUND",48],["T_WHITESPACE"," ",48],["T_DOUBLE_ARROW","=>",48],["T_WHITESPACE"," ",48],["T_CONSTANT_ENCAPSED_STRING","\"No record matching '%value%' was found\"",48],",",["T_WHITESPACE","\n        ",48],["T_STRING","self",49],["T_DOUBLE_COLON","::",49],["T_STRING","ERROR_RECORD_FOUND",49],["T_WHITESPACE","    ",49],["T_DOUBLE_ARROW","=>",49],["T_WHITESPACE"," ",49],["T_CONSTANT_ENCAPSED_STRING","\"A record matching '%value%' was found\"",49],",",["T_WHITESPACE","\n    ",49],")",";",["T_WHITESPACE","\n\n    ",50],["T_DOC_COMMENT","\/**\n     * @var string\n     *\/",52],["T_WHITESPACE","\n    ",54],["T_PROTECTED","protected",55],["T_WHITESPACE"," ",55],["T_VARIABLE","$_schema",55],["T_WHITESPACE"," ",55],"=",["T_WHITESPACE"," ",55],["T_STRING","null",55],";",["T_WHITESPACE","\n\n    ",55],["T_DOC_COMMENT","\/**\n     * @var string\n     *\/",57],["T_WHITESPACE","\n    ",59],["T_PROTECTED","protected",60],["T_WHITESPACE"," ",60],["T_VARIABLE","$_table",60],["T_WHITESPACE"," ",60],"=",["T_WHITESPACE"," ",60],["T_CONSTANT_ENCAPSED_STRING","''",60],";",["T_WHITESPACE","\n\n    ",60],["T_DOC_COMMENT","\/**\n     * @var string\n     *\/",62],["T_WHITESPACE","\n    ",64],["T_PROTECTED","protected",65],["T_WHITESPACE"," ",65],["T_VARIABLE","$_field",65],["T_WHITESPACE"," ",65],"=",["T_WHITESPACE"," ",65],["T_CONSTANT_ENCAPSED_STRING","''",65],";",["T_WHITESPACE","\n\n    ",65],["T_DOC_COMMENT","\/**\n     * @var mixed\n     *\/",67],["T_WHITESPACE","\n    ",69],["T_PROTECTED","protected",70],["T_WHITESPACE"," ",70],["T_VARIABLE","$_exclude",70],["T_WHITESPACE"," ",70],"=",["T_WHITESPACE"," ",70],["T_STRING","null",70],";",["T_WHITESPACE","\n\n    ",70],["T_DOC_COMMENT","\/**\n     * Database adapter to use. If null isValid() will use Zend_Db::getInstance instead\n     *\n     * @var unknown_type\n     *\/",72],["T_WHITESPACE","\n    ",76],["T_PROTECTED","protected",77],["T_WHITESPACE"," ",77],["T_VARIABLE","$_adapter",77],["T_WHITESPACE"," ",77],"=",["T_WHITESPACE"," ",77],["T_STRING","null",77],";",["T_WHITESPACE","\n\n    ",77],["T_DOC_COMMENT","\/**\n     * Select object to use. can be set, or will be auto-generated\n     * @var Zend_Db_Select\n     *\/",79],["T_WHITESPACE","\n    ",82],["T_PROTECTED","protected",83],["T_WHITESPACE"," ",83],["T_VARIABLE","$_select",83],";",["T_WHITESPACE","\n\n    ",83],["T_DOC_COMMENT","\/**\n     * Provides basic configuration for use with Zend_Validate_Db Validators\n     * Setting $exclude allows a single record to be excluded from matching.\n     * Exclude can either be a String containing a where clause, or an array with `field` and `value` keys\n     * to define the where clause added to the sql.\n     * A database adapter may optionally be supplied to avoid using the registered default adapter.\n     *\n     * The following option keys are supported:\n     * 'table'   => The database table to validate against\n     * 'schema'  => The schema keys\n     * 'field'   => The field to check for a match\n     * 'exclude' => An optional where clause or field\/value pair to exclude from the query\n     * 'adapter' => An optional database adapter to use\n     *\n     * @param array|Zend_Config $options Options to use for this validator\n     * @throws Zend_Validate_Exception\n     *\/",85],["T_WHITESPACE","\n    ",101],["T_PUBLIC","public",102],["T_WHITESPACE"," ",102],["T_FUNCTION","function",102],["T_WHITESPACE"," ",102],["T_STRING","__construct",102],"(",["T_VARIABLE","$options",102],")",["T_WHITESPACE","\n    ",102],"{",["T_WHITESPACE","\n        ",103],["T_IF","if",104],["T_WHITESPACE"," ",104],"(",["T_VARIABLE","$options",104],["T_WHITESPACE"," ",104],["T_INSTANCEOF","instanceof",104],["T_WHITESPACE"," ",104],["T_STRING","Zend_Db_Select",104],")",["T_WHITESPACE"," ",104],"{",["T_WHITESPACE","\n            ",104],["T_VARIABLE","$this",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","setSelect",105],"(",["T_VARIABLE","$options",105],")",";",["T_WHITESPACE","\n            ",105],["T_RETURN","return",106],";",["T_WHITESPACE","\n        ",106],"}",["T_WHITESPACE","\n        ",107],["T_IF","if",108],["T_WHITESPACE"," ",108],"(",["T_VARIABLE","$options",108],["T_WHITESPACE"," ",108],["T_INSTANCEOF","instanceof",108],["T_WHITESPACE"," ",108],["T_STRING","Zend_Config",108],")",["T_WHITESPACE"," ",108],"{",["T_WHITESPACE","\n            ",108],["T_VARIABLE","$options",109],["T_WHITESPACE"," ",109],"=",["T_WHITESPACE"," ",109],["T_VARIABLE","$options",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","toArray",109],"(",")",";",["T_WHITESPACE","\n        ",109],"}",["T_WHITESPACE"," ",110],["T_ELSE","else",110],["T_WHITESPACE"," ",110],["T_IF","if",110],["T_WHITESPACE"," ",110],"(",["T_STRING","func_num_args",110],"(",")",["T_WHITESPACE"," ",110],">",["T_WHITESPACE"," ",110],["T_LNUMBER","1",110],")",["T_WHITESPACE"," ",110],"{",["T_WHITESPACE","\n            ",110],["T_VARIABLE","$options",111],["T_WHITESPACE","       ",111],"=",["T_WHITESPACE"," ",111],["T_STRING","func_get_args",111],"(",")",";",["T_WHITESPACE","\n            ",111],["T_VARIABLE","$temp",112],"[",["T_CONSTANT_ENCAPSED_STRING","'table'",112],"]",["T_WHITESPACE"," ",112],"=",["T_WHITESPACE"," ",112],["T_STRING","array_shift",112],"(",["T_VARIABLE","$options",112],")",";",["T_WHITESPACE","\n            ",112],["T_VARIABLE","$temp",113],"[",["T_CONSTANT_ENCAPSED_STRING","'field'",113],"]",["T_WHITESPACE"," ",113],"=",["T_WHITESPACE"," ",113],["T_STRING","array_shift",113],"(",["T_VARIABLE","$options",113],")",";",["T_WHITESPACE","\n            ",113],["T_IF","if",114],["T_WHITESPACE"," ",114],"(","!",["T_EMPTY","empty",114],"(",["T_VARIABLE","$options",114],")",")",["T_WHITESPACE"," ",114],"{",["T_WHITESPACE","\n                ",114],["T_VARIABLE","$temp",115],"[",["T_CONSTANT_ENCAPSED_STRING","'exclude'",115],"]",["T_WHITESPACE"," ",115],"=",["T_WHITESPACE"," ",115],["T_STRING","array_shift",115],"(",["T_VARIABLE","$options",115],")",";",["T_WHITESPACE","\n            ",115],"}",["T_WHITESPACE","\n\n            ",116],["T_IF","if",118],["T_WHITESPACE"," ",118],"(","!",["T_EMPTY","empty",118],"(",["T_VARIABLE","$options",118],")",")",["T_WHITESPACE"," ",118],"{",["T_WHITESPACE","\n                ",118],["T_VARIABLE","$temp",119],"[",["T_CONSTANT_ENCAPSED_STRING","'adapter'",119],"]",["T_WHITESPACE"," ",119],"=",["T_WHITESPACE"," ",119],["T_STRING","array_shift",119],"(",["T_VARIABLE","$options",119],")",";",["T_WHITESPACE","\n            ",119],"}",["T_WHITESPACE","\n\n            ",120],["T_VARIABLE","$options",122],["T_WHITESPACE"," ",122],"=",["T_WHITESPACE"," ",122],["T_VARIABLE","$temp",122],";",["T_WHITESPACE","\n        ",122],"}",["T_WHITESPACE","\n\n        ",123],["T_IF","if",125],["T_WHITESPACE"," ",125],"(","!",["T_STRING","array_key_exists",125],"(",["T_CONSTANT_ENCAPSED_STRING","'table'",125],",",["T_WHITESPACE"," ",125],["T_VARIABLE","$options",125],")",["T_WHITESPACE"," ",125],["T_BOOLEAN_AND","&&",125],["T_WHITESPACE"," ",125],"!",["T_STRING","array_key_exists",125],"(",["T_CONSTANT_ENCAPSED_STRING","'schema'",125],",",["T_WHITESPACE"," ",125],["T_VARIABLE","$options",125],")",")",["T_WHITESPACE"," ",125],"{",["T_WHITESPACE","\n            ",125],["T_COMMENT","#require_once 'Zend\/Validate\/Exception.php';\n",126],["T_WHITESPACE","            ",127],["T_THROW","throw",127],["T_WHITESPACE"," ",127],["T_NEW","new",127],["T_WHITESPACE"," ",127],["T_STRING","Zend_Validate_Exception",127],"(",["T_CONSTANT_ENCAPSED_STRING","'Table or Schema option missing!'",127],")",";",["T_WHITESPACE","\n        ",127],"}",["T_WHITESPACE","\n\n        ",128],["T_IF","if",130],["T_WHITESPACE"," ",130],"(","!",["T_STRING","array_key_exists",130],"(",["T_CONSTANT_ENCAPSED_STRING","'field'",130],",",["T_WHITESPACE"," ",130],["T_VARIABLE","$options",130],")",")",["T_WHITESPACE"," ",130],"{",["T_WHITESPACE","\n            ",130],["T_COMMENT","#require_once 'Zend\/Validate\/Exception.php';\n",131],["T_WHITESPACE","            ",132],["T_THROW","throw",132],["T_WHITESPACE"," ",132],["T_NEW","new",132],["T_WHITESPACE"," ",132],["T_STRING","Zend_Validate_Exception",132],"(",["T_CONSTANT_ENCAPSED_STRING","'Field option missing!'",132],")",";",["T_WHITESPACE","\n        ",132],"}",["T_WHITESPACE","\n\n        ",133],["T_IF","if",135],["T_WHITESPACE"," ",135],"(",["T_STRING","array_key_exists",135],"(",["T_CONSTANT_ENCAPSED_STRING","'adapter'",135],",",["T_WHITESPACE"," ",135],["T_VARIABLE","$options",135],")",")",["T_WHITESPACE"," ",135],"{",["T_WHITESPACE","\n            ",135],["T_VARIABLE","$this",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","setAdapter",136],"(",["T_VARIABLE","$options",136],"[",["T_CONSTANT_ENCAPSED_STRING","'adapter'",136],"]",")",";",["T_WHITESPACE","\n        ",136],"}",["T_WHITESPACE","\n\n        ",137],["T_IF","if",139],["T_WHITESPACE"," ",139],"(",["T_STRING","array_key_exists",139],"(",["T_CONSTANT_ENCAPSED_STRING","'exclude'",139],",",["T_WHITESPACE"," ",139],["T_VARIABLE","$options",139],")",")",["T_WHITESPACE"," ",139],"{",["T_WHITESPACE","\n            ",139],["T_VARIABLE","$this",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","setExclude",140],"(",["T_VARIABLE","$options",140],"[",["T_CONSTANT_ENCAPSED_STRING","'exclude'",140],"]",")",";",["T_WHITESPACE","\n        ",140],"}",["T_WHITESPACE","\n\n        ",141],["T_VARIABLE","$this",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","setField",143],"(",["T_VARIABLE","$options",143],"[",["T_CONSTANT_ENCAPSED_STRING","'field'",143],"]",")",";",["T_WHITESPACE","\n        ",143],["T_IF","if",144],["T_WHITESPACE"," ",144],"(",["T_STRING","array_key_exists",144],"(",["T_CONSTANT_ENCAPSED_STRING","'table'",144],",",["T_WHITESPACE"," ",144],["T_VARIABLE","$options",144],")",")",["T_WHITESPACE"," ",144],"{",["T_WHITESPACE","\n            ",144],["T_VARIABLE","$this",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","setTable",145],"(",["T_VARIABLE","$options",145],"[",["T_CONSTANT_ENCAPSED_STRING","'table'",145],"]",")",";",["T_WHITESPACE","\n        ",145],"}",["T_WHITESPACE","\n\n        ",146],["T_IF","if",148],["T_WHITESPACE"," ",148],"(",["T_STRING","array_key_exists",148],"(",["T_CONSTANT_ENCAPSED_STRING","'schema'",148],",",["T_WHITESPACE"," ",148],["T_VARIABLE","$options",148],")",")",["T_WHITESPACE"," ",148],"{",["T_WHITESPACE","\n            ",148],["T_VARIABLE","$this",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","setSchema",149],"(",["T_VARIABLE","$options",149],"[",["T_CONSTANT_ENCAPSED_STRING","'schema'",149],"]",")",";",["T_WHITESPACE","\n        ",149],"}",["T_WHITESPACE","\n    ",150],"}",["T_WHITESPACE","\n\n    ",151],["T_DOC_COMMENT","\/**\n     * Returns the set adapter\n     *\n     * @throws Zend_Validate_Exception\n     * @return Zend_Db_Adapter\n     *\/",153],["T_WHITESPACE","\n    ",158],["T_PUBLIC","public",159],["T_WHITESPACE"," ",159],["T_FUNCTION","function",159],["T_WHITESPACE"," ",159],["T_STRING","getAdapter",159],"(",")",["T_WHITESPACE","\n    ",159],"{",["T_WHITESPACE","\n        ",160],["T_DOC_COMMENT","\/**\n         * Check for an adapter being defined. if not, fetch the default adapter.\n         *\/",161],["T_WHITESPACE","\n        ",163],["T_IF","if",164],["T_WHITESPACE"," ",164],"(",["T_VARIABLE","$this",164],["T_OBJECT_OPERATOR","->",164],["T_STRING","_adapter",164],["T_WHITESPACE"," ",164],["T_IS_IDENTICAL","===",164],["T_WHITESPACE"," ",164],["T_STRING","null",164],")",["T_WHITESPACE"," ",164],"{",["T_WHITESPACE","\n            ",164],["T_VARIABLE","$this",165],["T_OBJECT_OPERATOR","->",165],["T_STRING","_adapter",165],["T_WHITESPACE"," ",165],"=",["T_WHITESPACE"," ",165],["T_STRING","Zend_Db_Table_Abstract",165],["T_DOUBLE_COLON","::",165],["T_STRING","getDefaultAdapter",165],"(",")",";",["T_WHITESPACE","\n            ",165],["T_IF","if",166],["T_WHITESPACE"," ",166],"(",["T_STRING","null",166],["T_WHITESPACE"," ",166],["T_IS_IDENTICAL","===",166],["T_WHITESPACE"," ",166],["T_VARIABLE","$this",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","_adapter",166],")",["T_WHITESPACE"," ",166],"{",["T_WHITESPACE","\n                ",166],["T_COMMENT","#require_once 'Zend\/Validate\/Exception.php';\n",167],["T_WHITESPACE","                ",168],["T_THROW","throw",168],["T_WHITESPACE"," ",168],["T_NEW","new",168],["T_WHITESPACE"," ",168],["T_STRING","Zend_Validate_Exception",168],"(",["T_CONSTANT_ENCAPSED_STRING","'No database adapter present'",168],")",";",["T_WHITESPACE","\n            ",168],"}",["T_WHITESPACE","\n        ",169],"}",["T_WHITESPACE","\n        ",170],["T_RETURN","return",171],["T_WHITESPACE"," ",171],["T_VARIABLE","$this",171],["T_OBJECT_OPERATOR","->",171],["T_STRING","_adapter",171],";",["T_WHITESPACE","\n    ",171],"}",["T_WHITESPACE","\n\n    ",172],["T_DOC_COMMENT","\/**\n     * Sets a new database adapter\n     *\n     * @param  Zend_Db_Adapter_Abstract $adapter\n     * @throws Zend_Validate_Exception\n     * @return Zend_Validate_Db_Abstract\n     *\/",174],["T_WHITESPACE","\n    ",180],["T_PUBLIC","public",181],["T_WHITESPACE"," ",181],["T_FUNCTION","function",181],["T_WHITESPACE"," ",181],["T_STRING","setAdapter",181],"(",["T_VARIABLE","$adapter",181],")",["T_WHITESPACE","\n    ",181],"{",["T_WHITESPACE","\n        ",182],["T_IF","if",183],["T_WHITESPACE"," ",183],"(","!","(",["T_VARIABLE","$adapter",183],["T_WHITESPACE"," ",183],["T_INSTANCEOF","instanceof",183],["T_WHITESPACE"," ",183],["T_STRING","Zend_Db_Adapter_Abstract",183],")",")",["T_WHITESPACE"," ",183],"{",["T_WHITESPACE","\n            ",183],["T_COMMENT","#require_once 'Zend\/Validate\/Exception.php';\n",184],["T_WHITESPACE","            ",185],["T_THROW","throw",185],["T_WHITESPACE"," ",185],["T_NEW","new",185],["T_WHITESPACE"," ",185],["T_STRING","Zend_Validate_Exception",185],"(",["T_CONSTANT_ENCAPSED_STRING","'Adapter option must be a database adapter!'",185],")",";",["T_WHITESPACE","\n        ",185],"}",["T_WHITESPACE","\n\n        ",186],["T_VARIABLE","$this",188],["T_OBJECT_OPERATOR","->",188],["T_STRING","_adapter",188],["T_WHITESPACE"," ",188],"=",["T_WHITESPACE"," ",188],["T_VARIABLE","$adapter",188],";",["T_WHITESPACE","\n        ",188],["T_RETURN","return",189],["T_WHITESPACE"," ",189],["T_VARIABLE","$this",189],";",["T_WHITESPACE","\n    ",189],"}",["T_WHITESPACE","\n\n    ",190],["T_DOC_COMMENT","\/**\n     * Returns the set exclude clause\n     *\n     * @return string|array\n     *\/",192],["T_WHITESPACE","\n    ",196],["T_PUBLIC","public",197],["T_WHITESPACE"," ",197],["T_FUNCTION","function",197],["T_WHITESPACE"," ",197],["T_STRING","getExclude",197],"(",")",["T_WHITESPACE","\n    ",197],"{",["T_WHITESPACE","\n        ",198],["T_RETURN","return",199],["T_WHITESPACE"," ",199],["T_VARIABLE","$this",199],["T_OBJECT_OPERATOR","->",199],["T_STRING","_exclude",199],";",["T_WHITESPACE","\n    ",199],"}",["T_WHITESPACE","\n\n    ",200],["T_DOC_COMMENT","\/**\n     * Sets a new exclude clause\n     *\n     * @param string|array $exclude\n     * @return Zend_Validate_Db_Abstract\n     *\/",202],["T_WHITESPACE","\n    ",207],["T_PUBLIC","public",208],["T_WHITESPACE"," ",208],["T_FUNCTION","function",208],["T_WHITESPACE"," ",208],["T_STRING","setExclude",208],"(",["T_VARIABLE","$exclude",208],")",["T_WHITESPACE","\n    ",208],"{",["T_WHITESPACE","\n        ",209],["T_VARIABLE","$this",210],["T_OBJECT_OPERATOR","->",210],["T_STRING","_exclude",210],["T_WHITESPACE"," ",210],"=",["T_WHITESPACE"," ",210],["T_VARIABLE","$exclude",210],";",["T_WHITESPACE","\n        ",210],["T_RETURN","return",211],["T_WHITESPACE"," ",211],["T_VARIABLE","$this",211],";",["T_WHITESPACE","\n    ",211],"}",["T_WHITESPACE","\n\n    ",212],["T_DOC_COMMENT","\/**\n     * Returns the set field\n     *\n     * @return string|array\n     *\/",214],["T_WHITESPACE","\n    ",218],["T_PUBLIC","public",219],["T_WHITESPACE"," ",219],["T_FUNCTION","function",219],["T_WHITESPACE"," ",219],["T_STRING","getField",219],"(",")",["T_WHITESPACE","\n    ",219],"{",["T_WHITESPACE","\n        ",220],["T_RETURN","return",221],["T_WHITESPACE"," ",221],["T_VARIABLE","$this",221],["T_OBJECT_OPERATOR","->",221],["T_STRING","_field",221],";",["T_WHITESPACE","\n    ",221],"}",["T_WHITESPACE","\n\n    ",222],["T_DOC_COMMENT","\/**\n     * Sets a new field\n     *\n     * @param string $field\n     * @return Zend_Validate_Db_Abstract\n     *\/",224],["T_WHITESPACE","\n    ",229],["T_PUBLIC","public",230],["T_WHITESPACE"," ",230],["T_FUNCTION","function",230],["T_WHITESPACE"," ",230],["T_STRING","setField",230],"(",["T_VARIABLE","$field",230],")",["T_WHITESPACE","\n    ",230],"{",["T_WHITESPACE","\n        ",231],["T_VARIABLE","$this",232],["T_OBJECT_OPERATOR","->",232],["T_STRING","_field",232],["T_WHITESPACE"," ",232],"=",["T_WHITESPACE"," ",232],["T_STRING_CAST","(string)",232],["T_WHITESPACE"," ",232],["T_VARIABLE","$field",232],";",["T_WHITESPACE","\n        ",232],["T_RETURN","return",233],["T_WHITESPACE"," ",233],["T_VARIABLE","$this",233],";",["T_WHITESPACE","\n    ",233],"}",["T_WHITESPACE","\n\n    ",234],["T_DOC_COMMENT","\/**\n     * Returns the set table\n     *\n     * @return string\n     *\/",236],["T_WHITESPACE","\n    ",240],["T_PUBLIC","public",241],["T_WHITESPACE"," ",241],["T_FUNCTION","function",241],["T_WHITESPACE"," ",241],["T_STRING","getTable",241],"(",")",["T_WHITESPACE","\n    ",241],"{",["T_WHITESPACE","\n        ",242],["T_RETURN","return",243],["T_WHITESPACE"," ",243],["T_VARIABLE","$this",243],["T_OBJECT_OPERATOR","->",243],["T_STRING","_table",243],";",["T_WHITESPACE","\n    ",243],"}",["T_WHITESPACE","\n\n    ",244],["T_DOC_COMMENT","\/**\n     * Sets a new table\n     *\n     * @param string $table\n     * @return Zend_Validate_Db_Abstract\n     *\/",246],["T_WHITESPACE","\n    ",251],["T_PUBLIC","public",252],["T_WHITESPACE"," ",252],["T_FUNCTION","function",252],["T_WHITESPACE"," ",252],["T_STRING","setTable",252],"(",["T_VARIABLE","$table",252],")",["T_WHITESPACE","\n    ",252],"{",["T_WHITESPACE","\n        ",253],["T_VARIABLE","$this",254],["T_OBJECT_OPERATOR","->",254],["T_STRING","_table",254],["T_WHITESPACE"," ",254],"=",["T_WHITESPACE"," ",254],["T_STRING_CAST","(string)",254],["T_WHITESPACE"," ",254],["T_VARIABLE","$table",254],";",["T_WHITESPACE","\n        ",254],["T_RETURN","return",255],["T_WHITESPACE"," ",255],["T_VARIABLE","$this",255],";",["T_WHITESPACE","\n    ",255],"}",["T_WHITESPACE","\n\n    ",256],["T_DOC_COMMENT","\/**\n     * Returns the set schema\n     *\n     * @return string\n     *\/",258],["T_WHITESPACE","\n    ",262],["T_PUBLIC","public",263],["T_WHITESPACE"," ",263],["T_FUNCTION","function",263],["T_WHITESPACE"," ",263],["T_STRING","getSchema",263],"(",")",["T_WHITESPACE","\n    ",263],"{",["T_WHITESPACE","\n        ",264],["T_RETURN","return",265],["T_WHITESPACE"," ",265],["T_VARIABLE","$this",265],["T_OBJECT_OPERATOR","->",265],["T_STRING","_schema",265],";",["T_WHITESPACE","\n    ",265],"}",["T_WHITESPACE","\n\n    ",266],["T_DOC_COMMENT","\/**\n     * Sets a new schema\n     *\n     * @param string $schema\n     * @return Zend_Validate_Db_Abstract\n     *\/",268],["T_WHITESPACE","\n    ",273],["T_PUBLIC","public",274],["T_WHITESPACE"," ",274],["T_FUNCTION","function",274],["T_WHITESPACE"," ",274],["T_STRING","setSchema",274],"(",["T_VARIABLE","$schema",274],")",["T_WHITESPACE","\n    ",274],"{",["T_WHITESPACE","\n        ",275],["T_VARIABLE","$this",276],["T_OBJECT_OPERATOR","->",276],["T_STRING","_schema",276],["T_WHITESPACE"," ",276],"=",["T_WHITESPACE"," ",276],["T_VARIABLE","$schema",276],";",["T_WHITESPACE","\n        ",276],["T_RETURN","return",277],["T_WHITESPACE"," ",277],["T_VARIABLE","$this",277],";",["T_WHITESPACE","\n    ",277],"}",["T_WHITESPACE","\n\n    ",278],["T_DOC_COMMENT","\/**\n     * Sets the select object to be used by the validator\n     *\n     * @param Zend_Db_Select $select\n     * @throws Zend_Validate_Exception\n     * @return Zend_Validate_Db_Abstract\n     *\/",280],["T_WHITESPACE","\n    ",286],["T_PUBLIC","public",287],["T_WHITESPACE"," ",287],["T_FUNCTION","function",287],["T_WHITESPACE"," ",287],["T_STRING","setSelect",287],"(",["T_VARIABLE","$select",287],")",["T_WHITESPACE","\n    ",287],"{",["T_WHITESPACE","\n        ",288],["T_IF","if",289],["T_WHITESPACE"," ",289],"(","!",["T_VARIABLE","$select",289],["T_WHITESPACE"," ",289],["T_INSTANCEOF","instanceof",289],["T_WHITESPACE"," ",289],["T_STRING","Zend_Db_Select",289],")",["T_WHITESPACE"," ",289],"{",["T_WHITESPACE","\n            ",289],["T_THROW","throw",290],["T_WHITESPACE"," ",290],["T_NEW","new",290],["T_WHITESPACE"," ",290],["T_STRING","Zend_Validate_Exception",290],"(",["T_CONSTANT_ENCAPSED_STRING","'Select option must be a valid '",290],["T_WHITESPACE"," ",290],".",["T_WHITESPACE","\n                                              ",290],["T_CONSTANT_ENCAPSED_STRING","'Zend_Db_Select object'",291],")",";",["T_WHITESPACE","\n        ",291],"}",["T_WHITESPACE","\n        ",292],["T_VARIABLE","$this",293],["T_OBJECT_OPERATOR","->",293],["T_STRING","_select",293],["T_WHITESPACE"," ",293],"=",["T_WHITESPACE"," ",293],["T_VARIABLE","$select",293],";",["T_WHITESPACE","\n        ",293],["T_RETURN","return",294],["T_WHITESPACE"," ",294],["T_VARIABLE","$this",294],";",["T_WHITESPACE","\n    ",294],"}",["T_WHITESPACE","\n\n    ",295],["T_DOC_COMMENT","\/**\n     * Gets the select object to be used by the validator.\n     * If no select object was supplied to the constructor,\n     * then it will auto-generate one from the given table,\n     * schema, field, and adapter options.\n     *\n     * @return Zend_Db_Select The Select object which will be used\n     *\/",297],["T_WHITESPACE","\n    ",304],["T_PUBLIC","public",305],["T_WHITESPACE"," ",305],["T_FUNCTION","function",305],["T_WHITESPACE"," ",305],["T_STRING","getSelect",305],"(",")",["T_WHITESPACE","\n    ",305],"{",["T_WHITESPACE","\n        ",306],["T_IF","if",307],["T_WHITESPACE"," ",307],"(",["T_STRING","null",307],["T_WHITESPACE"," ",307],["T_IS_IDENTICAL","===",307],["T_WHITESPACE"," ",307],["T_VARIABLE","$this",307],["T_OBJECT_OPERATOR","->",307],["T_STRING","_select",307],")",["T_WHITESPACE"," ",307],"{",["T_WHITESPACE","\n            ",307],["T_VARIABLE","$db",308],["T_WHITESPACE"," ",308],"=",["T_WHITESPACE"," ",308],["T_VARIABLE","$this",308],["T_OBJECT_OPERATOR","->",308],["T_STRING","getAdapter",308],"(",")",";",["T_WHITESPACE","\n            ",308],["T_DOC_COMMENT","\/**\n             * Build select object\n             *\/",309],["T_WHITESPACE","\n            ",311],["T_VARIABLE","$select",312],["T_WHITESPACE"," ",312],"=",["T_WHITESPACE"," ",312],["T_NEW","new",312],["T_WHITESPACE"," ",312],["T_STRING","Zend_Db_Select",312],"(",["T_VARIABLE","$db",312],")",";",["T_WHITESPACE","\n            ",312],["T_VARIABLE","$select",313],["T_OBJECT_OPERATOR","->",313],["T_STRING","from",313],"(",["T_VARIABLE","$this",313],["T_OBJECT_OPERATOR","->",313],["T_STRING","_table",313],",",["T_WHITESPACE"," ",313],["T_ARRAY","array",313],"(",["T_VARIABLE","$this",313],["T_OBJECT_OPERATOR","->",313],["T_STRING","_field",313],")",",",["T_WHITESPACE"," ",313],["T_VARIABLE","$this",313],["T_OBJECT_OPERATOR","->",313],["T_STRING","_schema",313],")",";",["T_WHITESPACE","\n            ",313],["T_IF","if",314],["T_WHITESPACE"," ",314],"(",["T_VARIABLE","$db",314],["T_OBJECT_OPERATOR","->",314],["T_STRING","supportsParameters",314],"(",["T_CONSTANT_ENCAPSED_STRING","'named'",314],")",")",["T_WHITESPACE"," ",314],"{",["T_WHITESPACE","\n                ",314],["T_VARIABLE","$select",315],["T_OBJECT_OPERATOR","->",315],["T_STRING","where",315],"(",["T_VARIABLE","$db",315],["T_OBJECT_OPERATOR","->",315],["T_STRING","quoteIdentifier",315],"(",["T_VARIABLE","$this",315],["T_OBJECT_OPERATOR","->",315],["T_STRING","_field",315],",",["T_WHITESPACE"," ",315],["T_STRING","true",315],")",".",["T_CONSTANT_ENCAPSED_STRING","' = :value'",315],")",";",["T_WHITESPACE"," ",315],["T_COMMENT","\/\/ named\n",315],["T_WHITESPACE","            ",316],"}",["T_WHITESPACE"," ",316],["T_ELSE","else",316],["T_WHITESPACE"," ",316],"{",["T_WHITESPACE","\n                ",316],["T_VARIABLE","$select",317],["T_OBJECT_OPERATOR","->",317],["T_STRING","where",317],"(",["T_VARIABLE","$db",317],["T_OBJECT_OPERATOR","->",317],["T_STRING","quoteIdentifier",317],"(",["T_VARIABLE","$this",317],["T_OBJECT_OPERATOR","->",317],["T_STRING","_field",317],",",["T_WHITESPACE"," ",317],["T_STRING","true",317],")",".",["T_CONSTANT_ENCAPSED_STRING","' = ?'",317],")",";",["T_WHITESPACE"," ",317],["T_COMMENT","\/\/ positional\n",317],["T_WHITESPACE","            ",318],"}",["T_WHITESPACE","\n            ",318],["T_IF","if",319],["T_WHITESPACE"," ",319],"(",["T_VARIABLE","$this",319],["T_OBJECT_OPERATOR","->",319],["T_STRING","_exclude",319],["T_WHITESPACE"," ",319],["T_IS_NOT_IDENTICAL","!==",319],["T_WHITESPACE"," ",319],["T_STRING","null",319],")",["T_WHITESPACE"," ",319],"{",["T_WHITESPACE","\n                ",319],["T_IF","if",320],["T_WHITESPACE"," ",320],"(",["T_STRING","is_array",320],"(",["T_VARIABLE","$this",320],["T_OBJECT_OPERATOR","->",320],["T_STRING","_exclude",320],")",")",["T_WHITESPACE"," ",320],"{",["T_WHITESPACE","\n                    ",320],["T_VARIABLE","$select",321],["T_OBJECT_OPERATOR","->",321],["T_STRING","where",321],"(",["T_WHITESPACE","\n                          ",321],["T_VARIABLE","$db",322],["T_OBJECT_OPERATOR","->",322],["T_STRING","quoteIdentifier",322],"(",["T_VARIABLE","$this",322],["T_OBJECT_OPERATOR","->",322],["T_STRING","_exclude",322],"[",["T_CONSTANT_ENCAPSED_STRING","'field'",322],"]",",",["T_WHITESPACE"," ",322],["T_STRING","true",322],")",["T_WHITESPACE"," ",322],".",["T_WHITESPACE","\n                            ",322],["T_CONSTANT_ENCAPSED_STRING","' != ?'",323],",",["T_WHITESPACE"," ",323],["T_VARIABLE","$this",323],["T_OBJECT_OPERATOR","->",323],["T_STRING","_exclude",323],"[",["T_CONSTANT_ENCAPSED_STRING","'value'",323],"]",["T_WHITESPACE","\n                    ",323],")",";",["T_WHITESPACE","\n                ",324],"}",["T_WHITESPACE"," ",325],["T_ELSE","else",325],["T_WHITESPACE"," ",325],"{",["T_WHITESPACE","\n                    ",325],["T_VARIABLE","$select",326],["T_OBJECT_OPERATOR","->",326],["T_STRING","where",326],"(",["T_VARIABLE","$this",326],["T_OBJECT_OPERATOR","->",326],["T_STRING","_exclude",326],")",";",["T_WHITESPACE","\n                ",326],"}",["T_WHITESPACE","\n            ",327],"}",["T_WHITESPACE","\n            ",328],["T_VARIABLE","$select",329],["T_OBJECT_OPERATOR","->",329],["T_STRING","limit",329],"(",["T_LNUMBER","1",329],")",";",["T_WHITESPACE","\n            ",329],["T_VARIABLE","$this",330],["T_OBJECT_OPERATOR","->",330],["T_STRING","_select",330],["T_WHITESPACE"," ",330],"=",["T_WHITESPACE"," ",330],["T_VARIABLE","$select",330],";",["T_WHITESPACE","\n        ",330],"}",["T_WHITESPACE","\n        ",331],["T_RETURN","return",332],["T_WHITESPACE"," ",332],["T_VARIABLE","$this",332],["T_OBJECT_OPERATOR","->",332],["T_STRING","_select",332],";",["T_WHITESPACE","\n    ",332],"}",["T_WHITESPACE","\n\n    ",333],["T_DOC_COMMENT","\/**\n     * Run query and returns matches, or null if no matches are found.\n     *\n     * @param  String $value\n     * @return Array when matches are found.\n     *\/",335],["T_WHITESPACE","\n    ",340],["T_PROTECTED","protected",341],["T_WHITESPACE"," ",341],["T_FUNCTION","function",341],["T_WHITESPACE"," ",341],["T_STRING","_query",341],"(",["T_VARIABLE","$value",341],")",["T_WHITESPACE","\n    ",341],"{",["T_WHITESPACE","\n        ",342],["T_VARIABLE","$select",343],["T_WHITESPACE"," ",343],"=",["T_WHITESPACE"," ",343],["T_VARIABLE","$this",343],["T_OBJECT_OPERATOR","->",343],["T_STRING","getSelect",343],"(",")",";",["T_WHITESPACE","\n        ",343],["T_DOC_COMMENT","\/**\n         * Run query\n         *\/",344],["T_WHITESPACE","\n        ",346],["T_VARIABLE","$result",347],["T_WHITESPACE"," ",347],"=",["T_WHITESPACE"," ",347],["T_VARIABLE","$select",347],["T_OBJECT_OPERATOR","->",347],["T_STRING","getAdapter",347],"(",")",["T_OBJECT_OPERATOR","->",347],["T_STRING","fetchRow",347],"(",["T_WHITESPACE","\n            ",347],["T_VARIABLE","$select",348],",",["T_WHITESPACE","\n            ",348],["T_ARRAY","array",349],"(",["T_CONSTANT_ENCAPSED_STRING","'value'",349],["T_WHITESPACE"," ",349],["T_DOUBLE_ARROW","=>",349],["T_WHITESPACE"," ",349],["T_VARIABLE","$value",349],")",",",["T_WHITESPACE"," ",349],["T_COMMENT","\/\/ this should work whether db supports positional or named params\n",349],["T_WHITESPACE","            ",350],["T_STRING","Zend_Db",350],["T_DOUBLE_COLON","::",350],["T_STRING","FETCH_ASSOC",350],["T_WHITESPACE","\n            ",350],")",";",["T_WHITESPACE","\n\n        ",351],["T_RETURN","return",353],["T_WHITESPACE"," ",353],["T_VARIABLE","$result",353],";",["T_WHITESPACE","\n    ",353],"}",["T_WHITESPACE","\n",354],"}",["T_WHITESPACE","\n",355]]