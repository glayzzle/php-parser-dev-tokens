[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Zend Framework\n *\n * LICENSE\n *\n * This source file is subject to the new BSD license that is bundled\n * with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/framework.zend.com\/license\/new-bsd\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@zend.com so we can send you a copy immediately.\n *\n * @category  Zend\n * @package   Zend_Validate\n * @copyright  Copyright (c) 2005-2015 Zend Technologies USA Inc. (http:\/\/www.zend.com)\n * @license   http:\/\/framework.zend.com\/license\/new-bsd     New BSD License\n * @version   $Id$\n *\/",2],["T_WHITESPACE","\n\n",20],["T_DOC_COMMENT","\/**\n * @see Zend_Validate_File_Size\n *\/",22],["T_WHITESPACE","\n",24],["T_COMMENT","#require_once 'Zend\/Validate\/File\/Size.php';\n",25],["T_WHITESPACE","\n",26],["T_DOC_COMMENT","\/**\n * Validator for the size of all files which will be validated in sum\n *\n * @category  Zend\n * @package   Zend_Validate\n * @copyright  Copyright (c) 2005-2015 Zend Technologies USA Inc. (http:\/\/www.zend.com)\n * @license   http:\/\/framework.zend.com\/license\/new-bsd     New BSD License\n *\/",27],["T_WHITESPACE","\n",34],["T_CLASS","class",35],["T_WHITESPACE"," ",35],["T_STRING","Zend_Validate_File_FilesSize",35],["T_WHITESPACE"," ",35],["T_EXTENDS","extends",35],["T_WHITESPACE"," ",35],["T_STRING","Zend_Validate_File_Size",35],["T_WHITESPACE","\n",35],"{",["T_WHITESPACE","\n    ",36],["T_DOC_COMMENT","\/**\n     * @const string Error constants\n     *\/",37],["T_WHITESPACE","\n    ",39],["T_CONST","const",40],["T_WHITESPACE"," ",40],["T_STRING","TOO_BIG",40],["T_WHITESPACE","      ",40],"=",["T_WHITESPACE"," ",40],["T_CONSTANT_ENCAPSED_STRING","'fileFilesSizeTooBig'",40],";",["T_WHITESPACE","\n    ",40],["T_CONST","const",41],["T_WHITESPACE"," ",41],["T_STRING","TOO_SMALL",41],["T_WHITESPACE","    ",41],"=",["T_WHITESPACE"," ",41],["T_CONSTANT_ENCAPSED_STRING","'fileFilesSizeTooSmall'",41],";",["T_WHITESPACE","\n    ",41],["T_CONST","const",42],["T_WHITESPACE"," ",42],["T_STRING","NOT_READABLE",42],["T_WHITESPACE"," ",42],"=",["T_WHITESPACE"," ",42],["T_CONSTANT_ENCAPSED_STRING","'fileFilesSizeNotReadable'",42],";",["T_WHITESPACE","\n\n    ",42],["T_DOC_COMMENT","\/**\n     * @var array Error message templates\n     *\/",44],["T_WHITESPACE","\n    ",46],["T_PROTECTED","protected",47],["T_WHITESPACE"," ",47],["T_VARIABLE","$_messageTemplates",47],["T_WHITESPACE"," ",47],"=",["T_WHITESPACE"," ",47],["T_ARRAY","array",47],"(",["T_WHITESPACE","\n        ",47],["T_STRING","self",48],["T_DOUBLE_COLON","::",48],["T_STRING","TOO_BIG",48],["T_WHITESPACE","      ",48],["T_DOUBLE_ARROW","=>",48],["T_WHITESPACE"," ",48],["T_CONSTANT_ENCAPSED_STRING","\"All files in sum should have a maximum size of '%max%' but '%size%' were detected\"",48],",",["T_WHITESPACE","\n        ",48],["T_STRING","self",49],["T_DOUBLE_COLON","::",49],["T_STRING","TOO_SMALL",49],["T_WHITESPACE","    ",49],["T_DOUBLE_ARROW","=>",49],["T_WHITESPACE"," ",49],["T_CONSTANT_ENCAPSED_STRING","\"All files in sum should have a minimum size of '%min%' but '%size%' were detected\"",49],",",["T_WHITESPACE","\n        ",49],["T_STRING","self",50],["T_DOUBLE_COLON","::",50],["T_STRING","NOT_READABLE",50],["T_WHITESPACE"," ",50],["T_DOUBLE_ARROW","=>",50],["T_WHITESPACE"," ",50],["T_CONSTANT_ENCAPSED_STRING","\"One or more files can not be read\"",50],",",["T_WHITESPACE","\n    ",50],")",";",["T_WHITESPACE","\n\n    ",51],["T_DOC_COMMENT","\/**\n     * Internal file array\n     *\n     * @var array\n     *\/",53],["T_WHITESPACE","\n    ",57],["T_PROTECTED","protected",58],["T_WHITESPACE"," ",58],["T_VARIABLE","$_files",58],";",["T_WHITESPACE","\n\n    ",58],["T_DOC_COMMENT","\/**\n     * Sets validator options\n     *\n     * Min limits the used diskspace for all files, when used with max=null it is the maximum filesize\n     * It also accepts an array with the keys 'min' and 'max'\n     *\n     * @param  integer|array|Zend_Config $options Options for this validator\n     * @throws Zend_Validate_Exception\n     *\/",60],["T_WHITESPACE","\n    ",68],["T_PUBLIC","public",69],["T_WHITESPACE"," ",69],["T_FUNCTION","function",69],["T_WHITESPACE"," ",69],["T_STRING","__construct",69],"(",["T_VARIABLE","$options",69],")",["T_WHITESPACE","\n    ",69],"{",["T_WHITESPACE","\n        ",70],["T_VARIABLE","$this",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","_files",71],["T_WHITESPACE"," ",71],"=",["T_WHITESPACE"," ",71],["T_ARRAY","array",71],"(",")",";",["T_WHITESPACE","\n        ",71],["T_VARIABLE","$this",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","_setSize",72],"(",["T_LNUMBER","0",72],")",";",["T_WHITESPACE","\n\n        ",72],["T_IF","if",74],["T_WHITESPACE"," ",74],"(",["T_VARIABLE","$options",74],["T_WHITESPACE"," ",74],["T_INSTANCEOF","instanceof",74],["T_WHITESPACE"," ",74],["T_STRING","Zend_Config",74],")",["T_WHITESPACE"," ",74],"{",["T_WHITESPACE","\n            ",74],["T_VARIABLE","$options",75],["T_WHITESPACE"," ",75],"=",["T_WHITESPACE"," ",75],["T_VARIABLE","$options",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","toArray",75],"(",")",";",["T_WHITESPACE","\n        ",75],"}",["T_WHITESPACE"," ",76],["T_ELSEIF","elseif",76],["T_WHITESPACE"," ",76],"(",["T_STRING","is_scalar",76],"(",["T_VARIABLE","$options",76],")",")",["T_WHITESPACE"," ",76],"{",["T_WHITESPACE","\n            ",76],["T_VARIABLE","$options",77],["T_WHITESPACE"," ",77],"=",["T_WHITESPACE"," ",77],["T_ARRAY","array",77],"(",["T_CONSTANT_ENCAPSED_STRING","'max'",77],["T_WHITESPACE"," ",77],["T_DOUBLE_ARROW","=>",77],["T_WHITESPACE"," ",77],["T_VARIABLE","$options",77],")",";",["T_WHITESPACE","\n        ",77],"}",["T_WHITESPACE"," ",78],["T_ELSEIF","elseif",78],["T_WHITESPACE"," ",78],"(","!",["T_STRING","is_array",78],"(",["T_VARIABLE","$options",78],")",")",["T_WHITESPACE"," ",78],"{",["T_WHITESPACE","\n            ",78],["T_COMMENT","#require_once 'Zend\/Validate\/Exception.php';\n",79],["T_WHITESPACE","            ",80],["T_THROW","throw",80],["T_WHITESPACE"," ",80],["T_NEW","new",80],["T_WHITESPACE"," ",80],["T_STRING","Zend_Validate_Exception",80],"(",["T_CONSTANT_ENCAPSED_STRING","'Invalid options to validator provided'",80],")",";",["T_WHITESPACE","\n        ",80],"}",["T_WHITESPACE","\n\n        ",81],["T_IF","if",83],["T_WHITESPACE"," ",83],"(",["T_LNUMBER","1",83],["T_WHITESPACE"," ",83],"<",["T_WHITESPACE"," ",83],["T_STRING","func_num_args",83],"(",")",")",["T_WHITESPACE"," ",83],"{",["T_WHITESPACE","\n            ",83],["T_VARIABLE","$argv",84],["T_WHITESPACE"," ",84],"=",["T_WHITESPACE"," ",84],["T_STRING","func_get_args",84],"(",")",";",["T_WHITESPACE","\n            ",84],["T_STRING","array_shift",85],"(",["T_VARIABLE","$argv",85],")",";",["T_WHITESPACE","\n            ",85],["T_VARIABLE","$options",86],"[",["T_CONSTANT_ENCAPSED_STRING","'max'",86],"]",["T_WHITESPACE"," ",86],"=",["T_WHITESPACE"," ",86],["T_STRING","array_shift",86],"(",["T_VARIABLE","$argv",86],")",";",["T_WHITESPACE","\n            ",86],["T_IF","if",87],["T_WHITESPACE"," ",87],"(","!",["T_EMPTY","empty",87],"(",["T_VARIABLE","$argv",87],")",")",["T_WHITESPACE"," ",87],"{",["T_WHITESPACE","\n                ",87],["T_VARIABLE","$options",88],"[",["T_CONSTANT_ENCAPSED_STRING","'bytestring'",88],"]",["T_WHITESPACE"," ",88],"=",["T_WHITESPACE"," ",88],["T_STRING","array_shift",88],"(",["T_VARIABLE","$argv",88],")",";",["T_WHITESPACE","\n            ",88],"}",["T_WHITESPACE","\n        ",89],"}",["T_WHITESPACE","\n\n        ",90],["T_STRING","parent",92],["T_DOUBLE_COLON","::",92],["T_STRING","__construct",92],"(",["T_VARIABLE","$options",92],")",";",["T_WHITESPACE","\n    ",92],"}",["T_WHITESPACE","\n\n    ",93],["T_DOC_COMMENT","\/**\n     * Defined by Zend_Validate_Interface\n     *\n     * Returns true if and only if the disk usage of all files is at least min and\n     * not bigger than max (when max is not null).\n     *\n     * @param  string|array $value Real file to check for size\n     * @param  array        $file  File data from Zend_File_Transfer\n     * @return boolean\n     *\/",95],["T_WHITESPACE","\n    ",104],["T_PUBLIC","public",105],["T_WHITESPACE"," ",105],["T_FUNCTION","function",105],["T_WHITESPACE"," ",105],["T_STRING","isValid",105],"(",["T_VARIABLE","$value",105],",",["T_WHITESPACE"," ",105],["T_VARIABLE","$file",105],["T_WHITESPACE"," ",105],"=",["T_WHITESPACE"," ",105],["T_STRING","null",105],")",["T_WHITESPACE","\n    ",105],"{",["T_WHITESPACE","\n        ",106],["T_COMMENT","#require_once 'Zend\/Loader.php';\n",107],["T_WHITESPACE","        ",108],["T_IF","if",108],["T_WHITESPACE"," ",108],"(",["T_STRING","is_string",108],"(",["T_VARIABLE","$value",108],")",")",["T_WHITESPACE"," ",108],"{",["T_WHITESPACE","\n            ",108],["T_VARIABLE","$value",109],["T_WHITESPACE"," ",109],"=",["T_WHITESPACE"," ",109],["T_ARRAY","array",109],"(",["T_VARIABLE","$value",109],")",";",["T_WHITESPACE","\n        ",109],"}",["T_WHITESPACE","\n\n        ",110],["T_VARIABLE","$min",112],["T_WHITESPACE","  ",112],"=",["T_WHITESPACE"," ",112],["T_VARIABLE","$this",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","getMin",112],"(",["T_STRING","true",112],")",";",["T_WHITESPACE","\n        ",112],["T_VARIABLE","$max",113],["T_WHITESPACE","  ",113],"=",["T_WHITESPACE"," ",113],["T_VARIABLE","$this",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","getMax",113],"(",["T_STRING","true",113],")",";",["T_WHITESPACE","\n        ",113],["T_VARIABLE","$size",114],["T_WHITESPACE"," ",114],"=",["T_WHITESPACE"," ",114],["T_VARIABLE","$this",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","_getSize",114],"(",")",";",["T_WHITESPACE","\n        ",114],["T_FOREACH","foreach",115],["T_WHITESPACE"," ",115],"(",["T_VARIABLE","$value",115],["T_WHITESPACE"," ",115],["T_AS","as",115],["T_WHITESPACE"," ",115],["T_VARIABLE","$files",115],")",["T_WHITESPACE"," ",115],"{",["T_WHITESPACE","\n            ",115],["T_COMMENT","\/\/ Is file readable ?\n",116],["T_WHITESPACE","            ",117],["T_IF","if",117],["T_WHITESPACE"," ",117],"(","!",["T_STRING","Zend_Loader",117],["T_DOUBLE_COLON","::",117],["T_STRING","isReadable",117],"(",["T_VARIABLE","$files",117],")",")",["T_WHITESPACE"," ",117],"{",["T_WHITESPACE","\n                ",117],["T_VARIABLE","$this",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","_throw",118],"(",["T_VARIABLE","$file",118],",",["T_WHITESPACE"," ",118],["T_STRING","self",118],["T_DOUBLE_COLON","::",118],["T_STRING","NOT_READABLE",118],")",";",["T_WHITESPACE","\n                ",118],["T_CONTINUE","continue",119],";",["T_WHITESPACE","\n            ",119],"}",["T_WHITESPACE","\n\n            ",120],["T_IF","if",122],["T_WHITESPACE"," ",122],"(","!",["T_ISSET","isset",122],"(",["T_VARIABLE","$this",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","_files",122],"[",["T_VARIABLE","$files",122],"]",")",")",["T_WHITESPACE"," ",122],"{",["T_WHITESPACE","\n                ",122],["T_VARIABLE","$this",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","_files",123],"[",["T_VARIABLE","$files",123],"]",["T_WHITESPACE"," ",123],"=",["T_WHITESPACE"," ",123],["T_VARIABLE","$files",123],";",["T_WHITESPACE","\n            ",123],"}",["T_WHITESPACE"," ",124],["T_ELSE","else",124],["T_WHITESPACE"," ",124],"{",["T_WHITESPACE","\n                ",124],["T_COMMENT","\/\/ file already counted... do not count twice\n",125],["T_WHITESPACE","                ",126],["T_CONTINUE","continue",126],";",["T_WHITESPACE","\n            ",126],"}",["T_WHITESPACE","\n\n            ",127],["T_COMMENT","\/\/ limited to 2GB files\n",129],["T_WHITESPACE","            ",130],["T_VARIABLE","$size",130],["T_WHITESPACE"," ",130],["T_PLUS_EQUAL","+=",130],["T_WHITESPACE"," ",130],"@",["T_STRING","filesize",130],"(",["T_VARIABLE","$files",130],")",";",["T_WHITESPACE","\n            ",130],["T_VARIABLE","$this",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","_size",131],["T_WHITESPACE"," ",131],"=",["T_WHITESPACE"," ",131],["T_VARIABLE","$size",131],";",["T_WHITESPACE","\n            ",131],["T_IF","if",132],["T_WHITESPACE"," ",132],"(","(",["T_VARIABLE","$max",132],["T_WHITESPACE"," ",132],["T_IS_NOT_IDENTICAL","!==",132],["T_WHITESPACE"," ",132],["T_STRING","null",132],")",["T_WHITESPACE"," ",132],["T_BOOLEAN_AND","&&",132],["T_WHITESPACE"," ",132],"(",["T_VARIABLE","$max",132],["T_WHITESPACE"," ",132],"<",["T_WHITESPACE"," ",132],["T_VARIABLE","$size",132],")",")",["T_WHITESPACE"," ",132],"{",["T_WHITESPACE","\n                ",132],["T_IF","if",133],["T_WHITESPACE"," ",133],"(",["T_VARIABLE","$this",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","useByteString",133],"(",")",")",["T_WHITESPACE"," ",133],"{",["T_WHITESPACE","\n                    ",133],["T_VARIABLE","$this",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","_max",134],["T_WHITESPACE","  ",134],"=",["T_WHITESPACE"," ",134],["T_VARIABLE","$this",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","_toByteString",134],"(",["T_VARIABLE","$max",134],")",";",["T_WHITESPACE","\n                    ",134],["T_VARIABLE","$this",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","_size",135],["T_WHITESPACE"," ",135],"=",["T_WHITESPACE"," ",135],["T_VARIABLE","$this",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","_toByteString",135],"(",["T_VARIABLE","$size",135],")",";",["T_WHITESPACE","\n                    ",135],["T_VARIABLE","$this",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","_throw",136],"(",["T_VARIABLE","$file",136],",",["T_WHITESPACE"," ",136],["T_STRING","self",136],["T_DOUBLE_COLON","::",136],["T_STRING","TOO_BIG",136],")",";",["T_WHITESPACE","\n                    ",136],["T_VARIABLE","$this",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","_max",137],["T_WHITESPACE","  ",137],"=",["T_WHITESPACE"," ",137],["T_VARIABLE","$max",137],";",["T_WHITESPACE","\n                    ",137],["T_VARIABLE","$this",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","_size",138],["T_WHITESPACE"," ",138],"=",["T_WHITESPACE"," ",138],["T_VARIABLE","$size",138],";",["T_WHITESPACE","\n                ",138],"}",["T_WHITESPACE"," ",139],["T_ELSE","else",139],["T_WHITESPACE"," ",139],"{",["T_WHITESPACE","\n                    ",139],["T_VARIABLE","$this",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","_throw",140],"(",["T_VARIABLE","$file",140],",",["T_WHITESPACE"," ",140],["T_STRING","self",140],["T_DOUBLE_COLON","::",140],["T_STRING","TOO_BIG",140],")",";",["T_WHITESPACE","\n                ",140],"}",["T_WHITESPACE","\n            ",141],"}",["T_WHITESPACE","\n        ",142],"}",["T_WHITESPACE","\n\n        ",143],["T_COMMENT","\/\/ Check that aggregate files are >= minimum size\n",145],["T_WHITESPACE","        ",146],["T_IF","if",146],["T_WHITESPACE"," ",146],"(","(",["T_VARIABLE","$min",146],["T_WHITESPACE"," ",146],["T_IS_NOT_IDENTICAL","!==",146],["T_WHITESPACE"," ",146],["T_STRING","null",146],")",["T_WHITESPACE"," ",146],["T_BOOLEAN_AND","&&",146],["T_WHITESPACE"," ",146],"(",["T_VARIABLE","$size",146],["T_WHITESPACE"," ",146],"<",["T_WHITESPACE"," ",146],["T_VARIABLE","$min",146],")",")",["T_WHITESPACE"," ",146],"{",["T_WHITESPACE","\n            ",146],["T_IF","if",147],["T_WHITESPACE"," ",147],"(",["T_VARIABLE","$this",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","useByteString",147],"(",")",")",["T_WHITESPACE"," ",147],"{",["T_WHITESPACE","\n                ",147],["T_VARIABLE","$this",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","_min",148],["T_WHITESPACE","  ",148],"=",["T_WHITESPACE"," ",148],["T_VARIABLE","$this",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","_toByteString",148],"(",["T_VARIABLE","$min",148],")",";",["T_WHITESPACE","\n                ",148],["T_VARIABLE","$this",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","_size",149],["T_WHITESPACE"," ",149],"=",["T_WHITESPACE"," ",149],["T_VARIABLE","$this",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","_toByteString",149],"(",["T_VARIABLE","$size",149],")",";",["T_WHITESPACE","\n                ",149],["T_VARIABLE","$this",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","_throw",150],"(",["T_VARIABLE","$file",150],",",["T_WHITESPACE"," ",150],["T_STRING","self",150],["T_DOUBLE_COLON","::",150],["T_STRING","TOO_SMALL",150],")",";",["T_WHITESPACE","\n                ",150],["T_VARIABLE","$this",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","_min",151],["T_WHITESPACE","  ",151],"=",["T_WHITESPACE"," ",151],["T_VARIABLE","$min",151],";",["T_WHITESPACE","\n                ",151],["T_VARIABLE","$this",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","_size",152],["T_WHITESPACE"," ",152],"=",["T_WHITESPACE"," ",152],["T_VARIABLE","$size",152],";",["T_WHITESPACE","\n            ",152],"}",["T_WHITESPACE"," ",153],["T_ELSE","else",153],["T_WHITESPACE"," ",153],"{",["T_WHITESPACE","\n                ",153],["T_VARIABLE","$this",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","_throw",154],"(",["T_VARIABLE","$file",154],",",["T_WHITESPACE"," ",154],["T_STRING","self",154],["T_DOUBLE_COLON","::",154],["T_STRING","TOO_SMALL",154],")",";",["T_WHITESPACE","\n            ",154],"}",["T_WHITESPACE","\n        ",155],"}",["T_WHITESPACE","\n\n        ",156],["T_IF","if",158],["T_WHITESPACE"," ",158],"(",["T_STRING","count",158],"(",["T_VARIABLE","$this",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","_messages",158],")",["T_WHITESPACE"," ",158],">",["T_WHITESPACE"," ",158],["T_LNUMBER","0",158],")",["T_WHITESPACE"," ",158],"{",["T_WHITESPACE","\n            ",158],["T_RETURN","return",159],["T_WHITESPACE"," ",159],["T_STRING","false",159],";",["T_WHITESPACE","\n        ",159],"}",["T_WHITESPACE","\n\n        ",160],["T_RETURN","return",162],["T_WHITESPACE"," ",162],["T_STRING","true",162],";",["T_WHITESPACE","\n    ",162],"}",["T_WHITESPACE","\n",163],"}",["T_WHITESPACE","\n",164]]