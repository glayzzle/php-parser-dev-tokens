[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Zend Framework\n *\n * LICENSE\n *\n * This source file is subject to the new BSD license that is bundled\n * with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/framework.zend.com\/license\/new-bsd\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@zend.com so we can send you a copy immediately.\n *\n * @category  Zend\n * @package   Zend_Validate\n * @copyright  Copyright (c) 2005-2015 Zend Technologies USA Inc. (http:\/\/www.zend.com)\n * @license   http:\/\/framework.zend.com\/license\/new-bsd     New BSD License\n * @version   $Id$\n *\/",2],["T_WHITESPACE","\n\n",20],["T_DOC_COMMENT","\/**\n * @see Zend_Validate_Abstract\n *\/",22],["T_WHITESPACE","\n",24],["T_COMMENT","#require_once 'Zend\/Validate\/Abstract.php';\n",25],["T_WHITESPACE","\n",26],["T_DOC_COMMENT","\/**\n * Validator for the mime type of a file\n *\n * @category  Zend\n * @package   Zend_Validate\n * @copyright  Copyright (c) 2005-2015 Zend Technologies USA Inc. (http:\/\/www.zend.com)\n * @license   http:\/\/framework.zend.com\/license\/new-bsd     New BSD License\n *\/",27],["T_WHITESPACE","\n",34],["T_CLASS","class",35],["T_WHITESPACE"," ",35],["T_STRING","Zend_Validate_File_MimeType",35],["T_WHITESPACE"," ",35],["T_EXTENDS","extends",35],["T_WHITESPACE"," ",35],["T_STRING","Zend_Validate_Abstract",35],["T_WHITESPACE","\n",35],"{",["T_WHITESPACE","\n    ",36],["T_DOC_COMMENT","\/**\n     * @const Error type constants\n     *\/",37],["T_WHITESPACE","\n    ",39],["T_CONST","const",40],["T_WHITESPACE"," ",40],["T_STRING","FALSE_TYPE",40],["T_WHITESPACE","   ",40],"=",["T_WHITESPACE"," ",40],["T_CONSTANT_ENCAPSED_STRING","'fileMimeTypeFalse'",40],";",["T_WHITESPACE","\n    ",40],["T_CONST","const",41],["T_WHITESPACE"," ",41],["T_STRING","NOT_DETECTED",41],["T_WHITESPACE"," ",41],"=",["T_WHITESPACE"," ",41],["T_CONSTANT_ENCAPSED_STRING","'fileMimeTypeNotDetected'",41],";",["T_WHITESPACE","\n    ",41],["T_CONST","const",42],["T_WHITESPACE"," ",42],["T_STRING","NOT_READABLE",42],["T_WHITESPACE"," ",42],"=",["T_WHITESPACE"," ",42],["T_CONSTANT_ENCAPSED_STRING","'fileMimeTypeNotReadable'",42],";",["T_WHITESPACE","\n\n    ",42],["T_DOC_COMMENT","\/**\n     * @var array Error message templates\n     *\/",44],["T_WHITESPACE","\n    ",46],["T_PROTECTED","protected",47],["T_WHITESPACE"," ",47],["T_VARIABLE","$_messageTemplates",47],["T_WHITESPACE"," ",47],"=",["T_WHITESPACE"," ",47],["T_ARRAY","array",47],"(",["T_WHITESPACE","\n        ",47],["T_STRING","self",48],["T_DOUBLE_COLON","::",48],["T_STRING","FALSE_TYPE",48],["T_WHITESPACE","   ",48],["T_DOUBLE_ARROW","=>",48],["T_WHITESPACE"," ",48],["T_CONSTANT_ENCAPSED_STRING","\"File '%value%' has a false mimetype of '%type%'\"",48],",",["T_WHITESPACE","\n        ",48],["T_STRING","self",49],["T_DOUBLE_COLON","::",49],["T_STRING","NOT_DETECTED",49],["T_WHITESPACE"," ",49],["T_DOUBLE_ARROW","=>",49],["T_WHITESPACE"," ",49],["T_CONSTANT_ENCAPSED_STRING","\"The mimetype of file '%value%' could not be detected\"",49],",",["T_WHITESPACE","\n        ",49],["T_STRING","self",50],["T_DOUBLE_COLON","::",50],["T_STRING","NOT_READABLE",50],["T_WHITESPACE"," ",50],["T_DOUBLE_ARROW","=>",50],["T_WHITESPACE"," ",50],["T_CONSTANT_ENCAPSED_STRING","\"File '%value%' is not readable or does not exist\"",50],",",["T_WHITESPACE","\n    ",50],")",";",["T_WHITESPACE","\n\n    ",51],["T_DOC_COMMENT","\/**\n     * @var array\n     *\/",53],["T_WHITESPACE","\n    ",55],["T_PROTECTED","protected",56],["T_WHITESPACE"," ",56],["T_VARIABLE","$_messageVariables",56],["T_WHITESPACE"," ",56],"=",["T_WHITESPACE"," ",56],["T_ARRAY","array",56],"(",["T_WHITESPACE","\n        ",56],["T_CONSTANT_ENCAPSED_STRING","'type'",57],["T_WHITESPACE"," ",57],["T_DOUBLE_ARROW","=>",57],["T_WHITESPACE"," ",57],["T_CONSTANT_ENCAPSED_STRING","'_type'",57],["T_WHITESPACE","\n    ",57],")",";",["T_WHITESPACE","\n\n    ",58],["T_DOC_COMMENT","\/**\n     * @var string\n     *\/",60],["T_WHITESPACE","\n    ",62],["T_PROTECTED","protected",63],["T_WHITESPACE"," ",63],["T_VARIABLE","$_type",63],";",["T_WHITESPACE","\n\n    ",63],["T_DOC_COMMENT","\/**\n     * Mimetypes\n     *\n     * If null, there is no mimetype\n     *\n     * @var string|null\n     *\/",65],["T_WHITESPACE","\n    ",71],["T_PROTECTED","protected",72],["T_WHITESPACE"," ",72],["T_VARIABLE","$_mimetype",72],";",["T_WHITESPACE","\n\n    ",72],["T_DOC_COMMENT","\/**\n     * Magicfile to use\n     *\n     * @var string|null\n     *\/",74],["T_WHITESPACE","\n    ",78],["T_PROTECTED","protected",79],["T_WHITESPACE"," ",79],["T_VARIABLE","$_magicfile",79],";",["T_WHITESPACE","\n\n    ",79],["T_DOC_COMMENT","\/**\n     * Finfo object to use\n     *\n     * @var resource\n     *\/",81],["T_WHITESPACE","\n    ",85],["T_PROTECTED","protected",86],["T_WHITESPACE"," ",86],["T_VARIABLE","$_finfo",86],";",["T_WHITESPACE","\n\n    ",86],["T_DOC_COMMENT","\/**\n     * If no $_ENV['MAGIC'] is set, try and autodiscover it based on common locations\n     * @var array\n     *\/",88],["T_WHITESPACE","\n    ",91],["T_PROTECTED","protected",92],["T_WHITESPACE"," ",92],["T_VARIABLE","$_magicFiles",92],["T_WHITESPACE"," ",92],"=",["T_WHITESPACE"," ",92],["T_ARRAY","array",92],"(",["T_WHITESPACE","\n        ",92],["T_CONSTANT_ENCAPSED_STRING","'\/usr\/share\/misc\/magic'",93],",",["T_WHITESPACE","\n        ",93],["T_CONSTANT_ENCAPSED_STRING","'\/usr\/share\/misc\/magic.mime'",94],",",["T_WHITESPACE","\n        ",94],["T_CONSTANT_ENCAPSED_STRING","'\/usr\/share\/misc\/magic.mgc'",95],",",["T_WHITESPACE","\n        ",95],["T_CONSTANT_ENCAPSED_STRING","'\/usr\/share\/mime\/magic'",96],",",["T_WHITESPACE","\n        ",96],["T_CONSTANT_ENCAPSED_STRING","'\/usr\/share\/mime\/magic.mime'",97],",",["T_WHITESPACE","\n        ",97],["T_CONSTANT_ENCAPSED_STRING","'\/usr\/share\/mime\/magic.mgc'",98],",",["T_WHITESPACE","\n        ",98],["T_CONSTANT_ENCAPSED_STRING","'\/usr\/share\/file\/magic'",99],",",["T_WHITESPACE","\n        ",99],["T_CONSTANT_ENCAPSED_STRING","'\/usr\/share\/file\/magic.mime'",100],",",["T_WHITESPACE","\n        ",100],["T_CONSTANT_ENCAPSED_STRING","'\/usr\/share\/file\/magic.mgc'",101],",",["T_WHITESPACE","\n    ",101],")",";",["T_WHITESPACE","\n\n    ",102],["T_DOC_COMMENT","\/**\n     * Indicates whether use of $_magicFiles should be attempted.\n     * @var boolean\n     *\/",104],["T_WHITESPACE","\n    ",107],["T_PROTECTED","protected",108],["T_WHITESPACE"," ",108],["T_VARIABLE","$_tryCommonMagicFiles",108],["T_WHITESPACE"," ",108],"=",["T_WHITESPACE"," ",108],["T_STRING","true",108],";",["T_WHITESPACE","\n\n    ",108],["T_DOC_COMMENT","\/**\n     * Option to allow header check\n     *\n     * @var boolean\n     *\/",110],["T_WHITESPACE","\n    ",114],["T_PROTECTED","protected",115],["T_WHITESPACE"," ",115],["T_VARIABLE","$_headerCheck",115],["T_WHITESPACE"," ",115],"=",["T_WHITESPACE"," ",115],["T_STRING","false",115],";",["T_WHITESPACE","\n\n    ",115],["T_DOC_COMMENT","\/**\n     * Holds error information returned by finfo_open\n     *\n     * @var array\n     *\/",117],["T_WHITESPACE","\n    ",121],["T_PROTECTED","protected",122],["T_WHITESPACE"," ",122],["T_VARIABLE","$_finfoError",122],";",["T_WHITESPACE","\n\n    ",122],["T_DOC_COMMENT","\/**\n     * Sets validator options\n     *\n     * Mimetype to accept\n     *\n     * @param  string|array $mimetype MimeType\n     * @throws Zend_Validate_Exception\n     *\/",124],["T_WHITESPACE","\n    ",131],["T_PUBLIC","public",132],["T_WHITESPACE"," ",132],["T_FUNCTION","function",132],["T_WHITESPACE"," ",132],["T_STRING","__construct",132],"(",["T_VARIABLE","$mimetype",132],")",["T_WHITESPACE","\n    ",132],"{",["T_WHITESPACE","\n        ",133],["T_IF","if",134],["T_WHITESPACE"," ",134],"(",["T_VARIABLE","$mimetype",134],["T_WHITESPACE"," ",134],["T_INSTANCEOF","instanceof",134],["T_WHITESPACE"," ",134],["T_STRING","Zend_Config",134],")",["T_WHITESPACE"," ",134],"{",["T_WHITESPACE","\n            ",134],["T_VARIABLE","$mimetype",135],["T_WHITESPACE"," ",135],"=",["T_WHITESPACE"," ",135],["T_VARIABLE","$mimetype",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","toArray",135],"(",")",";",["T_WHITESPACE","\n        ",135],"}",["T_WHITESPACE"," ",136],["T_ELSEIF","elseif",136],["T_WHITESPACE"," ",136],"(",["T_STRING","is_string",136],"(",["T_VARIABLE","$mimetype",136],")",")",["T_WHITESPACE"," ",136],"{",["T_WHITESPACE","\n            ",136],["T_VARIABLE","$mimetype",137],["T_WHITESPACE"," ",137],"=",["T_WHITESPACE"," ",137],["T_STRING","explode",137],"(",["T_CONSTANT_ENCAPSED_STRING","','",137],",",["T_WHITESPACE"," ",137],["T_VARIABLE","$mimetype",137],")",";",["T_WHITESPACE","\n        ",137],"}",["T_WHITESPACE"," ",138],["T_ELSEIF","elseif",138],["T_WHITESPACE"," ",138],"(","!",["T_STRING","is_array",138],"(",["T_VARIABLE","$mimetype",138],")",")",["T_WHITESPACE"," ",138],"{",["T_WHITESPACE","\n            ",138],["T_COMMENT","#require_once 'Zend\/Validate\/Exception.php';\n",139],["T_WHITESPACE","            ",140],["T_THROW","throw",140],["T_WHITESPACE"," ",140],["T_NEW","new",140],["T_WHITESPACE"," ",140],["T_STRING","Zend_Validate_Exception",140],"(",["T_CONSTANT_ENCAPSED_STRING","\"Invalid options to validator provided\"",140],")",";",["T_WHITESPACE","\n        ",140],"}",["T_WHITESPACE","\n\n        ",141],["T_IF","if",143],["T_WHITESPACE"," ",143],"(",["T_ISSET","isset",143],"(",["T_VARIABLE","$mimetype",143],"[",["T_CONSTANT_ENCAPSED_STRING","'magicfile'",143],"]",")",")",["T_WHITESPACE"," ",143],"{",["T_WHITESPACE","\n            ",143],["T_VARIABLE","$this",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","setMagicFile",144],"(",["T_VARIABLE","$mimetype",144],"[",["T_CONSTANT_ENCAPSED_STRING","'magicfile'",144],"]",")",";",["T_WHITESPACE","\n            ",144],["T_UNSET","unset",145],"(",["T_VARIABLE","$mimetype",145],"[",["T_CONSTANT_ENCAPSED_STRING","'magicfile'",145],"]",")",";",["T_WHITESPACE","\n        ",145],"}",["T_WHITESPACE","\n\n        ",146],["T_IF","if",148],["T_WHITESPACE"," ",148],"(",["T_ISSET","isset",148],"(",["T_VARIABLE","$mimetype",148],"[",["T_CONSTANT_ENCAPSED_STRING","'headerCheck'",148],"]",")",")",["T_WHITESPACE"," ",148],"{",["T_WHITESPACE","\n            ",148],["T_VARIABLE","$this",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","enableHeaderCheck",149],"(",["T_VARIABLE","$mimetype",149],"[",["T_CONSTANT_ENCAPSED_STRING","'headerCheck'",149],"]",")",";",["T_WHITESPACE","\n            ",149],["T_UNSET","unset",150],"(",["T_VARIABLE","$mimetype",150],"[",["T_CONSTANT_ENCAPSED_STRING","'headerCheck'",150],"]",")",";",["T_WHITESPACE","\n        ",150],"}",["T_WHITESPACE","\n\n        ",151],["T_VARIABLE","$this",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","setMimeType",153],"(",["T_VARIABLE","$mimetype",153],")",";",["T_WHITESPACE","\n    ",153],"}",["T_WHITESPACE","\n\n    ",154],["T_DOC_COMMENT","\/**\n     * Returns the actual set magicfile\n     *\n     * Note that for PHP 5.3.0 or higher, we don't use $_ENV['MAGIC'] or try to\n     * find a magic file in a common location as PHP now has a built-in internal\n     * magic file.\n     *\n     * @return string\n     *\/",156],["T_WHITESPACE","\n    ",164],["T_PUBLIC","public",165],["T_WHITESPACE"," ",165],["T_FUNCTION","function",165],["T_WHITESPACE"," ",165],["T_STRING","getMagicFile",165],"(",")",["T_WHITESPACE","\n    ",165],"{",["T_WHITESPACE","\n        ",166],["T_IF","if",167],["T_WHITESPACE"," ",167],"(",["T_STRING","version_compare",167],"(",["T_STRING","PHP_VERSION",167],",",["T_WHITESPACE"," ",167],["T_CONSTANT_ENCAPSED_STRING","'5.3.0'",167],",",["T_WHITESPACE"," ",167],["T_CONSTANT_ENCAPSED_STRING","'<'",167],")",["T_WHITESPACE","\n            ",167],["T_BOOLEAN_AND","&&",168],["T_WHITESPACE"," ",168],["T_STRING","null",168],["T_WHITESPACE"," ",168],["T_IS_IDENTICAL","===",168],["T_WHITESPACE"," ",168],["T_VARIABLE","$this",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","_magicfile",168],")",["T_WHITESPACE"," ",168],"{",["T_WHITESPACE","\n            ",168],["T_IF","if",169],["T_WHITESPACE"," ",169],"(","!",["T_EMPTY","empty",169],"(",["T_VARIABLE","$_ENV",169],"[",["T_CONSTANT_ENCAPSED_STRING","'MAGIC'",169],"]",")",")",["T_WHITESPACE"," ",169],"{",["T_WHITESPACE","\n                ",169],["T_VARIABLE","$this",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","setMagicFile",170],"(",["T_VARIABLE","$_ENV",170],"[",["T_CONSTANT_ENCAPSED_STRING","'MAGIC'",170],"]",")",";",["T_WHITESPACE","\n            ",170],"}",["T_WHITESPACE"," ",171],["T_ELSEIF","elseif",171],["T_WHITESPACE"," ",171],"(",["T_WHITESPACE","\n                ",171],"!","(","@",["T_STRING","ini_get",172],"(",["T_CONSTANT_ENCAPSED_STRING","\"safe_mode\"",172],")",["T_WHITESPACE"," ",172],["T_IS_EQUAL","==",172],["T_WHITESPACE"," ",172],["T_CONSTANT_ENCAPSED_STRING","'On'",172],["T_WHITESPACE"," ",172],["T_BOOLEAN_OR","||",172],["T_WHITESPACE"," ",172],"@",["T_STRING","ini_get",172],"(",["T_CONSTANT_ENCAPSED_STRING","\"safe_mode\"",172],")",["T_WHITESPACE"," ",172],["T_IS_IDENTICAL","===",172],["T_WHITESPACE"," ",172],["T_LNUMBER","1",172],")",["T_WHITESPACE","\n                ",172],["T_BOOLEAN_AND","&&",173],["T_WHITESPACE"," ",173],["T_VARIABLE","$this",173],["T_OBJECT_OPERATOR","->",173],["T_STRING","shouldTryCommonMagicFiles",173],"(",")",["T_WHITESPACE"," ",173],["T_COMMENT","\/\/ @see ZF-11784\n",173],["T_WHITESPACE","            ",174],")",["T_WHITESPACE"," ",174],"{",["T_WHITESPACE","\n                ",174],["T_COMMENT","#require_once 'Zend\/Validate\/Exception.php';\n",175],["T_WHITESPACE","                ",176],["T_FOREACH","foreach",176],["T_WHITESPACE"," ",176],"(",["T_VARIABLE","$this",176],["T_OBJECT_OPERATOR","->",176],["T_STRING","_magicFiles",176],["T_WHITESPACE"," ",176],["T_AS","as",176],["T_WHITESPACE"," ",176],["T_VARIABLE","$file",176],")",["T_WHITESPACE"," ",176],"{",["T_WHITESPACE","\n                    ",176],["T_COMMENT","\/\/ supressing errors which are thrown due to openbase_dir restrictions\n",177],["T_WHITESPACE","                    ",178],["T_TRY","try",178],["T_WHITESPACE"," ",178],"{",["T_WHITESPACE","\n                        ",178],["T_VARIABLE","$this",179],["T_OBJECT_OPERATOR","->",179],["T_STRING","setMagicFile",179],"(",["T_VARIABLE","$file",179],")",";",["T_WHITESPACE","\n                        ",179],["T_IF","if",180],["T_WHITESPACE"," ",180],"(",["T_VARIABLE","$this",180],["T_OBJECT_OPERATOR","->",180],["T_STRING","_magicfile",180],["T_WHITESPACE"," ",180],["T_IS_NOT_IDENTICAL","!==",180],["T_WHITESPACE"," ",180],["T_STRING","null",180],")",["T_WHITESPACE"," ",180],"{",["T_WHITESPACE","\n                            ",180],["T_BREAK","break",181],";",["T_WHITESPACE","\n                        ",181],"}",["T_WHITESPACE","\n                    ",182],"}",["T_WHITESPACE"," ",183],["T_CATCH","catch",183],["T_WHITESPACE"," ",183],"(",["T_STRING","Zend_Validate_Exception",183],["T_WHITESPACE"," ",183],["T_VARIABLE","$e",183],")",["T_WHITESPACE"," ",183],"{",["T_WHITESPACE","\n                        ",183],["T_COMMENT","\/\/ Intentionally, catch and fall through\n",184],["T_WHITESPACE","                    ",185],"}",["T_WHITESPACE","\n                ",185],"}",["T_WHITESPACE","\n            ",186],"}",["T_WHITESPACE","\n\n            ",187],["T_IF","if",189],["T_WHITESPACE"," ",189],"(",["T_VARIABLE","$this",189],["T_OBJECT_OPERATOR","->",189],["T_STRING","_magicfile",189],["T_WHITESPACE"," ",189],["T_IS_IDENTICAL","===",189],["T_WHITESPACE"," ",189],["T_STRING","null",189],")",["T_WHITESPACE"," ",189],"{",["T_WHITESPACE","\n                ",189],["T_VARIABLE","$this",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","_magicfile",190],["T_WHITESPACE"," ",190],"=",["T_WHITESPACE"," ",190],["T_STRING","false",190],";",["T_WHITESPACE","\n            ",190],"}",["T_WHITESPACE","\n        ",191],"}",["T_WHITESPACE","\n\n        ",192],["T_RETURN","return",194],["T_WHITESPACE"," ",194],["T_VARIABLE","$this",194],["T_OBJECT_OPERATOR","->",194],["T_STRING","_magicfile",194],";",["T_WHITESPACE","\n    ",194],"}",["T_WHITESPACE","\n\n    ",195],["T_DOC_COMMENT","\/**\n     * Sets the magicfile to use\n     * if null, the MAGIC constant from php is used\n     * if the MAGIC file is errorous, no file will be set\n     *\n     * @param  string $file\n     * @throws Zend_Validate_Exception When finfo can not read the magicfile\n     * @return Zend_Validate_File_MimeType Provides a fluent interface\n     *\/",197],["T_WHITESPACE","\n    ",205],["T_PUBLIC","public",206],["T_WHITESPACE"," ",206],["T_FUNCTION","function",206],["T_WHITESPACE"," ",206],["T_STRING","setMagicFile",206],"(",["T_VARIABLE","$file",206],")",["T_WHITESPACE","\n    ",206],"{",["T_WHITESPACE","\n        ",207],["T_IF","if",208],["T_WHITESPACE"," ",208],"(",["T_EMPTY","empty",208],"(",["T_VARIABLE","$file",208],")",")",["T_WHITESPACE"," ",208],"{",["T_WHITESPACE","\n            ",208],["T_VARIABLE","$this",209],["T_OBJECT_OPERATOR","->",209],["T_STRING","_magicfile",209],["T_WHITESPACE"," ",209],"=",["T_WHITESPACE"," ",209],["T_STRING","null",209],";",["T_WHITESPACE","\n        ",209],"}",["T_WHITESPACE"," ",210],["T_ELSE","else",210],["T_WHITESPACE"," ",210],["T_IF","if",210],["T_WHITESPACE"," ",210],"(","!","(",["T_STRING","class_exists",210],"(",["T_CONSTANT_ENCAPSED_STRING","'finfo'",210],",",["T_WHITESPACE"," ",210],["T_STRING","false",210],")",")",")",["T_WHITESPACE"," ",210],"{",["T_WHITESPACE","\n            ",210],["T_VARIABLE","$this",211],["T_OBJECT_OPERATOR","->",211],["T_STRING","_magicfile",211],["T_WHITESPACE"," ",211],"=",["T_WHITESPACE"," ",211],["T_STRING","null",211],";",["T_WHITESPACE","\n            ",211],["T_COMMENT","#require_once 'Zend\/Validate\/Exception.php';\n",212],["T_WHITESPACE","            ",213],["T_THROW","throw",213],["T_WHITESPACE"," ",213],["T_NEW","new",213],["T_WHITESPACE"," ",213],["T_STRING","Zend_Validate_Exception",213],"(",["T_CONSTANT_ENCAPSED_STRING","'Magicfile can not be set. There is no finfo extension installed'",213],")",";",["T_WHITESPACE","\n        ",213],"}",["T_WHITESPACE"," ",214],["T_ELSE","else",214],["T_WHITESPACE"," ",214],["T_IF","if",214],["T_WHITESPACE"," ",214],"(","!",["T_STRING","is_file",214],"(",["T_VARIABLE","$file",214],")",["T_WHITESPACE"," ",214],["T_BOOLEAN_OR","||",214],["T_WHITESPACE"," ",214],"!",["T_STRING","is_readable",214],"(",["T_VARIABLE","$file",214],")",")",["T_WHITESPACE"," ",214],"{",["T_WHITESPACE","\n            ",214],["T_COMMENT","#require_once 'Zend\/Validate\/Exception.php';\n",215],["T_WHITESPACE","            ",216],["T_THROW","throw",216],["T_WHITESPACE"," ",216],["T_NEW","new",216],["T_WHITESPACE"," ",216],["T_STRING","Zend_Validate_Exception",216],"(",["T_CONSTANT_ENCAPSED_STRING","'The given magicfile can not be read'",216],")",";",["T_WHITESPACE","\n        ",216],"}",["T_WHITESPACE"," ",217],["T_ELSE","else",217],["T_WHITESPACE"," ",217],"{",["T_WHITESPACE","\n            ",217],["T_VARIABLE","$const",218],["T_WHITESPACE"," ",218],"=",["T_WHITESPACE"," ",218],["T_STRING","defined",218],"(",["T_CONSTANT_ENCAPSED_STRING","'FILEINFO_MIME_TYPE'",218],")",["T_WHITESPACE"," ",218],"?",["T_WHITESPACE"," ",218],["T_STRING","FILEINFO_MIME_TYPE",218],["T_WHITESPACE"," ",218],":",["T_WHITESPACE"," ",218],["T_STRING","FILEINFO_MIME",218],";",["T_WHITESPACE","\n            ",218],["T_STRING","set_error_handler",219],"(",["T_ARRAY","array",219],"(",["T_VARIABLE","$this",219],",",["T_WHITESPACE"," ",219],["T_CONSTANT_ENCAPSED_STRING","'_errorHandler'",219],")",",",["T_WHITESPACE"," ",219],["T_STRING","E_NOTICE",219],["T_WHITESPACE"," ",219],"|",["T_WHITESPACE"," ",219],["T_STRING","E_WARNING",219],")",";",["T_WHITESPACE","\n            ",219],["T_VARIABLE","$this",220],["T_OBJECT_OPERATOR","->",220],["T_STRING","_finfo",220],["T_WHITESPACE"," ",220],"=",["T_WHITESPACE"," ",220],["T_STRING","finfo_open",220],"(",["T_VARIABLE","$const",220],",",["T_WHITESPACE"," ",220],["T_VARIABLE","$file",220],")",";",["T_WHITESPACE","\n            ",220],["T_STRING","restore_error_handler",221],"(",")",";",["T_WHITESPACE","\n            ",221],["T_IF","if",222],["T_WHITESPACE"," ",222],"(",["T_EMPTY","empty",222],"(",["T_VARIABLE","$this",222],["T_OBJECT_OPERATOR","->",222],["T_STRING","_finfo",222],")",")",["T_WHITESPACE"," ",222],"{",["T_WHITESPACE","\n                ",222],["T_VARIABLE","$this",223],["T_OBJECT_OPERATOR","->",223],["T_STRING","_finfo",223],["T_WHITESPACE"," ",223],"=",["T_WHITESPACE"," ",223],["T_STRING","null",223],";",["T_WHITESPACE","\n                ",223],["T_COMMENT","#require_once 'Zend\/Validate\/Exception.php';\n",224],["T_WHITESPACE","                ",225],["T_THROW","throw",225],["T_WHITESPACE"," ",225],["T_NEW","new",225],["T_WHITESPACE"," ",225],["T_STRING","Zend_Validate_Exception",225],"(",["T_WHITESPACE","\n                    ",225],["T_STRING","sprintf",226],"(",["T_CONSTANT_ENCAPSED_STRING","'The given magicfile (\"%s\") is not accepted by finfo'",226],",",["T_WHITESPACE"," ",226],["T_VARIABLE","$file",226],")",",",["T_WHITESPACE","\n                    ",226],["T_STRING","null",227],",",["T_WHITESPACE","\n                    ",227],["T_VARIABLE","$this",228],["T_OBJECT_OPERATOR","->",228],["T_STRING","_finfoError",228],["T_WHITESPACE","\n                ",228],")",";",["T_WHITESPACE","\n            ",229],"}",["T_WHITESPACE"," ",230],["T_ELSE","else",230],["T_WHITESPACE"," ",230],"{",["T_WHITESPACE","\n                ",230],["T_VARIABLE","$this",231],["T_OBJECT_OPERATOR","->",231],["T_STRING","_magicfile",231],["T_WHITESPACE"," ",231],"=",["T_WHITESPACE"," ",231],["T_VARIABLE","$file",231],";",["T_WHITESPACE","\n            ",231],"}",["T_WHITESPACE","\n        ",232],"}",["T_WHITESPACE","\n\n        ",233],["T_RETURN","return",235],["T_WHITESPACE"," ",235],["T_VARIABLE","$this",235],";",["T_WHITESPACE","\n    ",235],"}",["T_WHITESPACE","\n\n    ",236],["T_DOC_COMMENT","\/**\n     * Enables or disables attempts to try the common magic file locations\n     * specified by Zend_Validate_File_MimeType::_magicFiles\n     *\n     * @param  boolean $flag\n     * @return Zend_Validate_File_MimeType Provides fluent interface\n     * @see http:\/\/framework.zend.com\/issues\/browse\/ZF-11784\n     *\/",238],["T_WHITESPACE","\n    ",245],["T_PUBLIC","public",246],["T_WHITESPACE"," ",246],["T_FUNCTION","function",246],["T_WHITESPACE"," ",246],["T_STRING","setTryCommonMagicFilesFlag",246],"(",["T_VARIABLE","$flag",246],["T_WHITESPACE"," ",246],"=",["T_WHITESPACE"," ",246],["T_STRING","true",246],")",["T_WHITESPACE","\n    ",246],"{",["T_WHITESPACE","\n        ",247],["T_VARIABLE","$this",248],["T_OBJECT_OPERATOR","->",248],["T_STRING","_tryCommonMagicFiles",248],["T_WHITESPACE"," ",248],"=",["T_WHITESPACE"," ",248],["T_BOOL_CAST","(boolean)",248],["T_WHITESPACE"," ",248],["T_VARIABLE","$flag",248],";",["T_WHITESPACE","\n\n        ",248],["T_RETURN","return",250],["T_WHITESPACE"," ",250],["T_VARIABLE","$this",250],";",["T_WHITESPACE","\n    ",250],"}",["T_WHITESPACE","\n\n    ",251],["T_DOC_COMMENT","\/**\n     * Accessor for Zend_Validate_File_MimeType::_magicFiles\n     *\n     * @return boolean\n     * @see http:\/\/framework.zend.com\/issues\/browse\/ZF-11784\n     *\/",253],["T_WHITESPACE","\n    ",258],["T_PUBLIC","public",259],["T_WHITESPACE"," ",259],["T_FUNCTION","function",259],["T_WHITESPACE"," ",259],["T_STRING","shouldTryCommonMagicFiles",259],"(",")",["T_WHITESPACE","\n    ",259],"{",["T_WHITESPACE","\n        ",260],["T_RETURN","return",261],["T_WHITESPACE"," ",261],["T_VARIABLE","$this",261],["T_OBJECT_OPERATOR","->",261],["T_STRING","_tryCommonMagicFiles",261],";",["T_WHITESPACE","\n    ",261],"}",["T_WHITESPACE","\n\n    ",262],["T_DOC_COMMENT","\/**\n     * Returns the Header Check option\n     *\n     * @return boolean\n     *\/",264],["T_WHITESPACE","\n    ",268],["T_PUBLIC","public",269],["T_WHITESPACE"," ",269],["T_FUNCTION","function",269],["T_WHITESPACE"," ",269],["T_STRING","getHeaderCheck",269],"(",")",["T_WHITESPACE","\n    ",269],"{",["T_WHITESPACE","\n        ",270],["T_RETURN","return",271],["T_WHITESPACE"," ",271],["T_VARIABLE","$this",271],["T_OBJECT_OPERATOR","->",271],["T_STRING","_headerCheck",271],";",["T_WHITESPACE","\n    ",271],"}",["T_WHITESPACE","\n\n    ",272],["T_DOC_COMMENT","\/**\n     * Defines if the http header should be used\n     * Note that this is unsave and therefor the default value is false\n     *\n     * @param  boolean $headerCheck\n     * @return Zend_Validate_File_MimeType Provides a fluent interface\n     *\/",274],["T_WHITESPACE","\n    ",280],["T_PUBLIC","public",281],["T_WHITESPACE"," ",281],["T_FUNCTION","function",281],["T_WHITESPACE"," ",281],["T_STRING","enableHeaderCheck",281],"(",["T_VARIABLE","$headerCheck",281],["T_WHITESPACE"," ",281],"=",["T_WHITESPACE"," ",281],["T_STRING","true",281],")",["T_WHITESPACE","\n    ",281],"{",["T_WHITESPACE","\n        ",282],["T_VARIABLE","$this",283],["T_OBJECT_OPERATOR","->",283],["T_STRING","_headerCheck",283],["T_WHITESPACE"," ",283],"=",["T_WHITESPACE"," ",283],["T_BOOL_CAST","(boolean)",283],["T_WHITESPACE"," ",283],["T_VARIABLE","$headerCheck",283],";",["T_WHITESPACE","\n        ",283],["T_RETURN","return",284],["T_WHITESPACE"," ",284],["T_VARIABLE","$this",284],";",["T_WHITESPACE","\n    ",284],"}",["T_WHITESPACE","\n\n    ",285],["T_DOC_COMMENT","\/**\n     * Returns the set mimetypes\n     *\n     * @param  boolean $asArray Returns the values as array, when false an concated string is returned\n     * @return string|array\n     *\/",287],["T_WHITESPACE","\n    ",292],["T_PUBLIC","public",293],["T_WHITESPACE"," ",293],["T_FUNCTION","function",293],["T_WHITESPACE"," ",293],["T_STRING","getMimeType",293],"(",["T_VARIABLE","$asArray",293],["T_WHITESPACE"," ",293],"=",["T_WHITESPACE"," ",293],["T_STRING","false",293],")",["T_WHITESPACE","\n    ",293],"{",["T_WHITESPACE","\n        ",294],["T_VARIABLE","$asArray",295],["T_WHITESPACE","   ",295],"=",["T_WHITESPACE"," ",295],["T_BOOL_CAST","(bool)",295],["T_WHITESPACE"," ",295],["T_VARIABLE","$asArray",295],";",["T_WHITESPACE","\n        ",295],["T_VARIABLE","$mimetype",296],["T_WHITESPACE"," ",296],"=",["T_WHITESPACE"," ",296],["T_STRING_CAST","(string)",296],["T_WHITESPACE"," ",296],["T_VARIABLE","$this",296],["T_OBJECT_OPERATOR","->",296],["T_STRING","_mimetype",296],";",["T_WHITESPACE","\n        ",296],["T_IF","if",297],["T_WHITESPACE"," ",297],"(",["T_VARIABLE","$asArray",297],")",["T_WHITESPACE"," ",297],"{",["T_WHITESPACE","\n            ",297],["T_VARIABLE","$mimetype",298],["T_WHITESPACE"," ",298],"=",["T_WHITESPACE"," ",298],["T_STRING","explode",298],"(",["T_CONSTANT_ENCAPSED_STRING","','",298],",",["T_WHITESPACE"," ",298],["T_VARIABLE","$mimetype",298],")",";",["T_WHITESPACE","\n        ",298],"}",["T_WHITESPACE","\n\n        ",299],["T_RETURN","return",301],["T_WHITESPACE"," ",301],["T_VARIABLE","$mimetype",301],";",["T_WHITESPACE","\n    ",301],"}",["T_WHITESPACE","\n\n    ",302],["T_DOC_COMMENT","\/**\n     * Sets the mimetypes\n     *\n     * @param  string|array $mimetype The mimetypes to validate\n     * @return Zend_Validate_File_Extension Provides a fluent interface\n     *\/",304],["T_WHITESPACE","\n    ",309],["T_PUBLIC","public",310],["T_WHITESPACE"," ",310],["T_FUNCTION","function",310],["T_WHITESPACE"," ",310],["T_STRING","setMimeType",310],"(",["T_VARIABLE","$mimetype",310],")",["T_WHITESPACE","\n    ",310],"{",["T_WHITESPACE","\n        ",311],["T_VARIABLE","$this",312],["T_OBJECT_OPERATOR","->",312],["T_STRING","_mimetype",312],["T_WHITESPACE"," ",312],"=",["T_WHITESPACE"," ",312],["T_STRING","null",312],";",["T_WHITESPACE","\n        ",312],["T_VARIABLE","$this",313],["T_OBJECT_OPERATOR","->",313],["T_STRING","addMimeType",313],"(",["T_VARIABLE","$mimetype",313],")",";",["T_WHITESPACE","\n        ",313],["T_RETURN","return",314],["T_WHITESPACE"," ",314],["T_VARIABLE","$this",314],";",["T_WHITESPACE","\n    ",314],"}",["T_WHITESPACE","\n\n    ",315],["T_DOC_COMMENT","\/**\n     * Adds the mimetypes\n     *\n     * @param  string|array $mimetype The mimetypes to add for validation\n     * @throws Zend_Validate_Exception\n     * @return Zend_Validate_File_Extension Provides a fluent interface\n     *\/",317],["T_WHITESPACE","\n    ",323],["T_PUBLIC","public",324],["T_WHITESPACE"," ",324],["T_FUNCTION","function",324],["T_WHITESPACE"," ",324],["T_STRING","addMimeType",324],"(",["T_VARIABLE","$mimetype",324],")",["T_WHITESPACE","\n    ",324],"{",["T_WHITESPACE","\n        ",325],["T_VARIABLE","$mimetypes",326],["T_WHITESPACE"," ",326],"=",["T_WHITESPACE"," ",326],["T_VARIABLE","$this",326],["T_OBJECT_OPERATOR","->",326],["T_STRING","getMimeType",326],"(",["T_STRING","true",326],")",";",["T_WHITESPACE","\n\n        ",326],["T_IF","if",328],["T_WHITESPACE"," ",328],"(",["T_STRING","is_string",328],"(",["T_VARIABLE","$mimetype",328],")",")",["T_WHITESPACE"," ",328],"{",["T_WHITESPACE","\n            ",328],["T_VARIABLE","$mimetype",329],["T_WHITESPACE"," ",329],"=",["T_WHITESPACE"," ",329],["T_STRING","explode",329],"(",["T_CONSTANT_ENCAPSED_STRING","','",329],",",["T_WHITESPACE"," ",329],["T_VARIABLE","$mimetype",329],")",";",["T_WHITESPACE","\n        ",329],"}",["T_WHITESPACE"," ",330],["T_ELSEIF","elseif",330],["T_WHITESPACE"," ",330],"(","!",["T_STRING","is_array",330],"(",["T_VARIABLE","$mimetype",330],")",")",["T_WHITESPACE"," ",330],"{",["T_WHITESPACE","\n            ",330],["T_COMMENT","#require_once 'Zend\/Validate\/Exception.php';\n",331],["T_WHITESPACE","            ",332],["T_THROW","throw",332],["T_WHITESPACE"," ",332],["T_NEW","new",332],["T_WHITESPACE"," ",332],["T_STRING","Zend_Validate_Exception",332],"(",["T_CONSTANT_ENCAPSED_STRING","\"Invalid options to validator provided\"",332],")",";",["T_WHITESPACE","\n        ",332],"}",["T_WHITESPACE","\n\n        ",333],["T_IF","if",335],["T_WHITESPACE"," ",335],"(",["T_ISSET","isset",335],"(",["T_VARIABLE","$mimetype",335],"[",["T_CONSTANT_ENCAPSED_STRING","'magicfile'",335],"]",")",")",["T_WHITESPACE"," ",335],"{",["T_WHITESPACE","\n            ",335],["T_UNSET","unset",336],"(",["T_VARIABLE","$mimetype",336],"[",["T_CONSTANT_ENCAPSED_STRING","'magicfile'",336],"]",")",";",["T_WHITESPACE","\n        ",336],"}",["T_WHITESPACE","\n\n        ",337],["T_FOREACH","foreach",339],["T_WHITESPACE"," ",339],"(",["T_VARIABLE","$mimetype",339],["T_WHITESPACE"," ",339],["T_AS","as",339],["T_WHITESPACE"," ",339],["T_VARIABLE","$content",339],")",["T_WHITESPACE"," ",339],"{",["T_WHITESPACE","\n            ",339],["T_IF","if",340],["T_WHITESPACE"," ",340],"(",["T_EMPTY","empty",340],"(",["T_VARIABLE","$content",340],")",["T_WHITESPACE"," ",340],["T_BOOLEAN_OR","||",340],["T_WHITESPACE"," ",340],"!",["T_STRING","is_string",340],"(",["T_VARIABLE","$content",340],")",")",["T_WHITESPACE"," ",340],"{",["T_WHITESPACE","\n                ",340],["T_CONTINUE","continue",341],";",["T_WHITESPACE","\n            ",341],"}",["T_WHITESPACE","\n            ",342],["T_VARIABLE","$mimetypes",343],"[","]",["T_WHITESPACE"," ",343],"=",["T_WHITESPACE"," ",343],["T_STRING","trim",343],"(",["T_VARIABLE","$content",343],")",";",["T_WHITESPACE","\n        ",343],"}",["T_WHITESPACE","\n        ",344],["T_VARIABLE","$mimetypes",345],["T_WHITESPACE"," ",345],"=",["T_WHITESPACE"," ",345],["T_STRING","array_unique",345],"(",["T_VARIABLE","$mimetypes",345],")",";",["T_WHITESPACE","\n\n        ",345],["T_COMMENT","\/\/ Sanity check to ensure no empty values\n",347],["T_WHITESPACE","        ",348],["T_FOREACH","foreach",348],["T_WHITESPACE"," ",348],"(",["T_VARIABLE","$mimetypes",348],["T_WHITESPACE"," ",348],["T_AS","as",348],["T_WHITESPACE"," ",348],["T_VARIABLE","$key",348],["T_WHITESPACE"," ",348],["T_DOUBLE_ARROW","=>",348],["T_WHITESPACE"," ",348],["T_VARIABLE","$mt",348],")",["T_WHITESPACE"," ",348],"{",["T_WHITESPACE","\n            ",348],["T_IF","if",349],["T_WHITESPACE"," ",349],"(",["T_EMPTY","empty",349],"(",["T_VARIABLE","$mt",349],")",")",["T_WHITESPACE"," ",349],"{",["T_WHITESPACE","\n                ",349],["T_UNSET","unset",350],"(",["T_VARIABLE","$mimetypes",350],"[",["T_VARIABLE","$key",350],"]",")",";",["T_WHITESPACE","\n            ",350],"}",["T_WHITESPACE","\n        ",351],"}",["T_WHITESPACE","\n\n        ",352],["T_VARIABLE","$this",354],["T_OBJECT_OPERATOR","->",354],["T_STRING","_mimetype",354],["T_WHITESPACE"," ",354],"=",["T_WHITESPACE"," ",354],["T_STRING","implode",354],"(",["T_CONSTANT_ENCAPSED_STRING","','",354],",",["T_WHITESPACE"," ",354],["T_VARIABLE","$mimetypes",354],")",";",["T_WHITESPACE","\n\n        ",354],["T_RETURN","return",356],["T_WHITESPACE"," ",356],["T_VARIABLE","$this",356],";",["T_WHITESPACE","\n    ",356],"}",["T_WHITESPACE","\n\n    ",357],["T_DOC_COMMENT","\/**\n     * Defined by Zend_Validate_Interface\n     *\n     * Returns true if the mimetype of the file matches the given ones. Also parts\n     * of mimetypes can be checked. If you give for example \"image\" all image\n     * mime types will be accepted like \"image\/gif\", \"image\/jpeg\" and so on.\n     *\n     * @param  string $value Real file to check for mimetype\n     * @param  array  $file  File data from Zend_File_Transfer\n     * @return boolean\n     *\/",359],["T_WHITESPACE","\n    ",369],["T_PUBLIC","public",370],["T_WHITESPACE"," ",370],["T_FUNCTION","function",370],["T_WHITESPACE"," ",370],["T_STRING","isValid",370],"(",["T_VARIABLE","$value",370],",",["T_WHITESPACE"," ",370],["T_VARIABLE","$file",370],["T_WHITESPACE"," ",370],"=",["T_WHITESPACE"," ",370],["T_STRING","null",370],")",["T_WHITESPACE","\n    ",370],"{",["T_WHITESPACE","\n        ",371],["T_IF","if",372],["T_WHITESPACE"," ",372],"(",["T_VARIABLE","$file",372],["T_WHITESPACE"," ",372],["T_IS_IDENTICAL","===",372],["T_WHITESPACE"," ",372],["T_STRING","null",372],")",["T_WHITESPACE"," ",372],"{",["T_WHITESPACE","\n            ",372],["T_VARIABLE","$file",373],["T_WHITESPACE"," ",373],"=",["T_WHITESPACE"," ",373],["T_ARRAY","array",373],"(",["T_WHITESPACE","\n                ",373],["T_CONSTANT_ENCAPSED_STRING","'type'",374],["T_WHITESPACE"," ",374],["T_DOUBLE_ARROW","=>",374],["T_WHITESPACE"," ",374],["T_STRING","null",374],",",["T_WHITESPACE","\n                ",374],["T_CONSTANT_ENCAPSED_STRING","'name'",375],["T_WHITESPACE"," ",375],["T_DOUBLE_ARROW","=>",375],["T_WHITESPACE"," ",375],["T_VARIABLE","$value",375],["T_WHITESPACE","\n            ",375],")",";",["T_WHITESPACE","\n        ",376],"}",["T_WHITESPACE","\n\n        ",377],["T_COMMENT","\/\/ Is file readable ?\n",379],["T_WHITESPACE","        ",380],["T_COMMENT","#require_once 'Zend\/Loader.php';\n",380],["T_WHITESPACE","        ",381],["T_IF","if",381],["T_WHITESPACE"," ",381],"(","!",["T_STRING","Zend_Loader",381],["T_DOUBLE_COLON","::",381],["T_STRING","isReadable",381],"(",["T_VARIABLE","$value",381],")",")",["T_WHITESPACE"," ",381],"{",["T_WHITESPACE","\n            ",381],["T_RETURN","return",382],["T_WHITESPACE"," ",382],["T_VARIABLE","$this",382],["T_OBJECT_OPERATOR","->",382],["T_STRING","_throw",382],"(",["T_VARIABLE","$file",382],",",["T_WHITESPACE"," ",382],["T_STRING","self",382],["T_DOUBLE_COLON","::",382],["T_STRING","NOT_READABLE",382],")",";",["T_WHITESPACE","\n        ",382],"}",["T_WHITESPACE","\n\n        ",383],["T_VARIABLE","$this",385],["T_OBJECT_OPERATOR","->",385],["T_STRING","_type",385],["T_WHITESPACE"," ",385],"=",["T_WHITESPACE"," ",385],["T_VARIABLE","$this",385],["T_OBJECT_OPERATOR","->",385],["T_STRING","_detectMimeType",385],"(",["T_VARIABLE","$value",385],")",";",["T_WHITESPACE","\n\n        ",385],["T_IF","if",387],["T_WHITESPACE"," ",387],"(",["T_EMPTY","empty",387],"(",["T_VARIABLE","$this",387],["T_OBJECT_OPERATOR","->",387],["T_STRING","_type",387],")",["T_WHITESPACE"," ",387],["T_BOOLEAN_AND","&&",387],["T_WHITESPACE"," ",387],["T_VARIABLE","$this",387],["T_OBJECT_OPERATOR","->",387],["T_STRING","_headerCheck",387],")",["T_WHITESPACE"," ",387],"{",["T_WHITESPACE","\n            ",387],["T_VARIABLE","$this",388],["T_OBJECT_OPERATOR","->",388],["T_STRING","_type",388],["T_WHITESPACE"," ",388],"=",["T_WHITESPACE"," ",388],["T_VARIABLE","$file",388],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",388],"]",";",["T_WHITESPACE","\n        ",388],"}",["T_WHITESPACE","\n\n        ",389],["T_IF","if",391],["T_WHITESPACE"," ",391],"(",["T_EMPTY","empty",391],"(",["T_VARIABLE","$this",391],["T_OBJECT_OPERATOR","->",391],["T_STRING","_type",391],")",")",["T_WHITESPACE"," ",391],"{",["T_WHITESPACE","\n            ",391],["T_RETURN","return",392],["T_WHITESPACE"," ",392],["T_VARIABLE","$this",392],["T_OBJECT_OPERATOR","->",392],["T_STRING","_throw",392],"(",["T_VARIABLE","$file",392],",",["T_WHITESPACE"," ",392],["T_STRING","self",392],["T_DOUBLE_COLON","::",392],["T_STRING","NOT_DETECTED",392],")",";",["T_WHITESPACE","\n        ",392],"}",["T_WHITESPACE","\n\n        ",393],["T_VARIABLE","$mimetype",395],["T_WHITESPACE"," ",395],"=",["T_WHITESPACE"," ",395],["T_VARIABLE","$this",395],["T_OBJECT_OPERATOR","->",395],["T_STRING","getMimeType",395],"(",["T_STRING","true",395],")",";",["T_WHITESPACE","\n        ",395],["T_IF","if",396],["T_WHITESPACE"," ",396],"(",["T_STRING","in_array",396],"(",["T_VARIABLE","$this",396],["T_OBJECT_OPERATOR","->",396],["T_STRING","_type",396],",",["T_WHITESPACE"," ",396],["T_VARIABLE","$mimetype",396],")",")",["T_WHITESPACE"," ",396],"{",["T_WHITESPACE","\n            ",396],["T_RETURN","return",397],["T_WHITESPACE"," ",397],["T_STRING","true",397],";",["T_WHITESPACE","\n        ",397],"}",["T_WHITESPACE","\n\n        ",398],["T_VARIABLE","$types",400],["T_WHITESPACE"," ",400],"=",["T_WHITESPACE"," ",400],["T_STRING","explode",400],"(",["T_CONSTANT_ENCAPSED_STRING","'\/'",400],",",["T_WHITESPACE"," ",400],["T_VARIABLE","$this",400],["T_OBJECT_OPERATOR","->",400],["T_STRING","_type",400],")",";",["T_WHITESPACE","\n        ",400],["T_VARIABLE","$types",401],["T_WHITESPACE"," ",401],"=",["T_WHITESPACE"," ",401],["T_STRING","array_merge",401],"(",["T_VARIABLE","$types",401],",",["T_WHITESPACE"," ",401],["T_STRING","explode",401],"(",["T_CONSTANT_ENCAPSED_STRING","'-'",401],",",["T_WHITESPACE"," ",401],["T_VARIABLE","$this",401],["T_OBJECT_OPERATOR","->",401],["T_STRING","_type",401],")",")",";",["T_WHITESPACE","\n        ",401],["T_VARIABLE","$types",402],["T_WHITESPACE"," ",402],"=",["T_WHITESPACE"," ",402],["T_STRING","array_merge",402],"(",["T_VARIABLE","$types",402],",",["T_WHITESPACE"," ",402],["T_STRING","explode",402],"(",["T_CONSTANT_ENCAPSED_STRING","';'",402],",",["T_WHITESPACE"," ",402],["T_VARIABLE","$this",402],["T_OBJECT_OPERATOR","->",402],["T_STRING","_type",402],")",")",";",["T_WHITESPACE","\n        ",402],["T_FOREACH","foreach",403],"(",["T_VARIABLE","$mimetype",403],["T_WHITESPACE"," ",403],["T_AS","as",403],["T_WHITESPACE"," ",403],["T_VARIABLE","$mime",403],")",["T_WHITESPACE"," ",403],"{",["T_WHITESPACE","\n            ",403],["T_IF","if",404],["T_WHITESPACE"," ",404],"(",["T_STRING","in_array",404],"(",["T_VARIABLE","$mime",404],",",["T_WHITESPACE"," ",404],["T_VARIABLE","$types",404],")",")",["T_WHITESPACE"," ",404],"{",["T_WHITESPACE","\n                ",404],["T_RETURN","return",405],["T_WHITESPACE"," ",405],["T_STRING","true",405],";",["T_WHITESPACE","\n            ",405],"}",["T_WHITESPACE","\n        ",406],"}",["T_WHITESPACE","\n\n        ",407],["T_RETURN","return",409],["T_WHITESPACE"," ",409],["T_VARIABLE","$this",409],["T_OBJECT_OPERATOR","->",409],["T_STRING","_throw",409],"(",["T_VARIABLE","$file",409],",",["T_WHITESPACE"," ",409],["T_STRING","self",409],["T_DOUBLE_COLON","::",409],["T_STRING","FALSE_TYPE",409],")",";",["T_WHITESPACE","\n    ",409],"}",["T_WHITESPACE","\n\n    ",410],["T_DOC_COMMENT","\/**\n     * Throws an error of the given type\n     *\n     * @param  string $file\n     * @param  string $errorType\n     * @return false\n     *\/",412],["T_WHITESPACE","\n    ",418],["T_PROTECTED","protected",419],["T_WHITESPACE"," ",419],["T_FUNCTION","function",419],["T_WHITESPACE"," ",419],["T_STRING","_throw",419],"(",["T_VARIABLE","$file",419],",",["T_WHITESPACE"," ",419],["T_VARIABLE","$errorType",419],")",["T_WHITESPACE","\n    ",419],"{",["T_WHITESPACE","\n        ",420],["T_VARIABLE","$this",421],["T_OBJECT_OPERATOR","->",421],["T_STRING","_value",421],["T_WHITESPACE"," ",421],"=",["T_WHITESPACE"," ",421],["T_VARIABLE","$file",421],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",421],"]",";",["T_WHITESPACE","\n        ",421],["T_VARIABLE","$this",422],["T_OBJECT_OPERATOR","->",422],["T_STRING","_error",422],"(",["T_VARIABLE","$errorType",422],")",";",["T_WHITESPACE","\n        ",422],["T_RETURN","return",423],["T_WHITESPACE"," ",423],["T_STRING","false",423],";",["T_WHITESPACE","\n    ",423],"}",["T_WHITESPACE","\n\n    ",424],["T_DOC_COMMENT","\/**\n     * Try to detect mime type of given file.\n     * @param string $file File which mime type should be detected\n     * @return string File mime type or null if not detected\n     *\/",426],["T_WHITESPACE","\n    ",430],["T_PROTECTED","protected",431],["T_WHITESPACE"," ",431],["T_FUNCTION","function",431],["T_WHITESPACE"," ",431],["T_STRING","_detectMimeType",431],"(",["T_VARIABLE","$file",431],")",["T_WHITESPACE","\n    ",431],"{",["T_WHITESPACE","\n        ",432],["T_VARIABLE","$mimefile",433],["T_WHITESPACE"," ",433],"=",["T_WHITESPACE"," ",433],["T_VARIABLE","$this",433],["T_OBJECT_OPERATOR","->",433],["T_STRING","getMagicFile",433],"(",")",";",["T_WHITESPACE","\n        ",433],["T_VARIABLE","$type",434],["T_WHITESPACE"," ",434],"=",["T_WHITESPACE"," ",434],["T_STRING","null",434],";",["T_WHITESPACE","\n\n        ",434],["T_IF","if",436],["T_WHITESPACE"," ",436],"(",["T_STRING","class_exists",436],"(",["T_CONSTANT_ENCAPSED_STRING","'finfo'",436],",",["T_WHITESPACE"," ",436],["T_STRING","false",436],")",")",["T_WHITESPACE"," ",436],"{",["T_WHITESPACE","\n            ",436],["T_VARIABLE","$const",437],["T_WHITESPACE"," ",437],"=",["T_WHITESPACE"," ",437],["T_STRING","defined",437],"(",["T_CONSTANT_ENCAPSED_STRING","'FILEINFO_MIME_TYPE'",437],")",["T_WHITESPACE"," ",437],"?",["T_WHITESPACE"," ",437],["T_STRING","FILEINFO_MIME_TYPE",437],["T_WHITESPACE"," ",437],":",["T_WHITESPACE"," ",437],["T_STRING","FILEINFO_MIME",437],";",["T_WHITESPACE","\n\n            ",437],["T_IF","if",439],["T_WHITESPACE"," ",439],"(","!",["T_EMPTY","empty",439],"(",["T_VARIABLE","$mimefile",439],")",["T_WHITESPACE"," ",439],["T_BOOLEAN_AND","&&",439],["T_WHITESPACE"," ",439],["T_EMPTY","empty",439],"(",["T_VARIABLE","$this",439],["T_OBJECT_OPERATOR","->",439],["T_STRING","_finfo",439],")",")",["T_WHITESPACE"," ",439],"{",["T_WHITESPACE","\n                ",439],["T_STRING","set_error_handler",440],"(",["T_ARRAY","array",440],"(",["T_VARIABLE","$this",440],",",["T_WHITESPACE"," ",440],["T_CONSTANT_ENCAPSED_STRING","'_errorHandler'",440],")",",",["T_WHITESPACE"," ",440],["T_STRING","E_NOTICE",440],["T_WHITESPACE"," ",440],"|",["T_WHITESPACE"," ",440],["T_STRING","E_WARNING",440],")",";",["T_WHITESPACE","\n                ",440],["T_VARIABLE","$this",441],["T_OBJECT_OPERATOR","->",441],["T_STRING","_finfo",441],["T_WHITESPACE"," ",441],"=",["T_WHITESPACE"," ",441],["T_STRING","finfo_open",441],"(",["T_VARIABLE","$const",441],",",["T_WHITESPACE"," ",441],["T_VARIABLE","$mimefile",441],")",";",["T_WHITESPACE","\n                ",441],["T_STRING","restore_error_handler",442],"(",")",";",["T_WHITESPACE","\n            ",442],"}",["T_WHITESPACE","\n\n            ",443],["T_IF","if",445],["T_WHITESPACE"," ",445],"(",["T_EMPTY","empty",445],"(",["T_VARIABLE","$this",445],["T_OBJECT_OPERATOR","->",445],["T_STRING","_finfo",445],")",")",["T_WHITESPACE"," ",445],"{",["T_WHITESPACE","\n                ",445],["T_STRING","set_error_handler",446],"(",["T_ARRAY","array",446],"(",["T_VARIABLE","$this",446],",",["T_WHITESPACE"," ",446],["T_CONSTANT_ENCAPSED_STRING","'_errorHandler'",446],")",",",["T_WHITESPACE"," ",446],["T_STRING","E_NOTICE",446],["T_WHITESPACE"," ",446],"|",["T_WHITESPACE"," ",446],["T_STRING","E_WARNING",446],")",";",["T_WHITESPACE","\n                ",446],["T_VARIABLE","$this",447],["T_OBJECT_OPERATOR","->",447],["T_STRING","_finfo",447],["T_WHITESPACE"," ",447],"=",["T_WHITESPACE"," ",447],["T_STRING","finfo_open",447],"(",["T_VARIABLE","$const",447],")",";",["T_WHITESPACE","\n                ",447],["T_STRING","restore_error_handler",448],"(",")",";",["T_WHITESPACE","\n            ",448],"}",["T_WHITESPACE","\n\n            ",449],["T_IF","if",451],["T_WHITESPACE"," ",451],"(","!",["T_EMPTY","empty",451],"(",["T_VARIABLE","$this",451],["T_OBJECT_OPERATOR","->",451],["T_STRING","_finfo",451],")",")",["T_WHITESPACE"," ",451],"{",["T_WHITESPACE","\n                ",451],["T_VARIABLE","$type",452],["T_WHITESPACE"," ",452],"=",["T_WHITESPACE"," ",452],["T_STRING","finfo_file",452],"(",["T_VARIABLE","$this",452],["T_OBJECT_OPERATOR","->",452],["T_STRING","_finfo",452],",",["T_WHITESPACE"," ",452],["T_VARIABLE","$file",452],")",";",["T_WHITESPACE","\n            ",452],"}",["T_WHITESPACE","\n        ",453],"}",["T_WHITESPACE","\n\n        ",454],["T_IF","if",456],["T_WHITESPACE"," ",456],"(",["T_EMPTY","empty",456],"(",["T_VARIABLE","$type",456],")",["T_WHITESPACE"," ",456],["T_BOOLEAN_AND","&&",456],["T_WHITESPACE","\n            ",456],"(",["T_STRING","function_exists",457],"(",["T_CONSTANT_ENCAPSED_STRING","'mime_content_type'",457],")",["T_WHITESPACE"," ",457],["T_BOOLEAN_AND","&&",457],["T_WHITESPACE"," ",457],["T_STRING","ini_get",457],"(",["T_CONSTANT_ENCAPSED_STRING","'mime_magic.magicfile'",457],")",")",")",["T_WHITESPACE"," ",457],"{",["T_WHITESPACE","\n                ",457],["T_VARIABLE","$type",458],["T_WHITESPACE"," ",458],"=",["T_WHITESPACE"," ",458],["T_STRING","mime_content_type",458],"(",["T_VARIABLE","$file",458],")",";",["T_WHITESPACE","\n        ",458],"}",["T_WHITESPACE","\n\n        ",459],["T_RETURN","return",461],["T_WHITESPACE"," ",461],["T_VARIABLE","$type",461],";",["T_WHITESPACE","\n    ",461],"}",["T_WHITESPACE","\n\n    ",462],["T_DOC_COMMENT","\/**\n     * Saves the provided error information by finfo_open to this instance\n     *\n     * @param integer $errno\n     * @param string  $errstr\n     * @param string  $errfile\n     * @param integer $errline\n     *\/",464],["T_WHITESPACE","\n    ",471],["T_PROTECTED","protected",472],["T_WHITESPACE"," ",472],["T_FUNCTION","function",472],["T_WHITESPACE"," ",472],["T_STRING","_errorHandler",472],"(",["T_VARIABLE","$errno",472],",",["T_WHITESPACE"," ",472],["T_VARIABLE","$errstr",472],",",["T_WHITESPACE"," ",472],["T_VARIABLE","$errfile",472],",",["T_WHITESPACE"," ",472],["T_VARIABLE","$errline",472],")",["T_WHITESPACE","\n    ",472],"{",["T_WHITESPACE","\n        ",473],["T_VARIABLE","$this",474],["T_OBJECT_OPERATOR","->",474],["T_STRING","_finfoError",474],["T_WHITESPACE"," ",474],"=",["T_WHITESPACE"," ",474],["T_NEW","new",474],["T_WHITESPACE"," ",474],["T_STRING","ErrorException",474],"(",["T_VARIABLE","$errstr",474],",",["T_WHITESPACE"," ",474],["T_VARIABLE","$errno",474],",",["T_WHITESPACE"," ",474],["T_LNUMBER","0",474],",",["T_WHITESPACE"," ",474],["T_VARIABLE","$errfile",474],",",["T_WHITESPACE"," ",474],["T_VARIABLE","$errline",474],")",";",["T_WHITESPACE","\n    ",474],"}",["T_WHITESPACE","\n",475],"}",["T_WHITESPACE","\n",476]]