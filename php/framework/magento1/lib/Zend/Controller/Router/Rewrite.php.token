[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Zend Framework\n *\n * LICENSE\n *\n * This source file is subject to the new BSD license that is bundled\n * with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/framework.zend.com\/license\/new-bsd\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@zend.com so we can send you a copy immediately.\n *\n * @category   Zend\n * @package    Zend_Controller\n * @subpackage Router\n * @copyright  Copyright (c) 2005-2015 Zend Technologies USA Inc. (http:\/\/www.zend.com)\n * @version    $Id$\n * @license    http:\/\/framework.zend.com\/license\/new-bsd     New BSD License\n *\/",2],["T_WHITESPACE","\n\n",21],["T_DOC_COMMENT","\/** Zend_Controller_Router_Abstract *\/",23],["T_WHITESPACE","\n",23],["T_COMMENT","#require_once 'Zend\/Controller\/Router\/Abstract.php';\n",24],["T_WHITESPACE","\n",25],["T_DOC_COMMENT","\/** Zend_Controller_Router_Route *\/",26],["T_WHITESPACE","\n",26],["T_COMMENT","#require_once 'Zend\/Controller\/Router\/Route.php';\n",27],["T_WHITESPACE","\n",28],["T_DOC_COMMENT","\/**\n * Ruby routing based Router.\n *\n * @package    Zend_Controller\n * @subpackage Router\n * @copyright  Copyright (c) 2005-2015 Zend Technologies USA Inc. (http:\/\/www.zend.com)\n * @license    http:\/\/framework.zend.com\/license\/new-bsd     New BSD License\n * @see        http:\/\/manuals.rubyonrails.com\/read\/chapter\/65\n *\/",29],["T_WHITESPACE","\n",37],["T_CLASS","class",38],["T_WHITESPACE"," ",38],["T_STRING","Zend_Controller_Router_Rewrite",38],["T_WHITESPACE"," ",38],["T_EXTENDS","extends",38],["T_WHITESPACE"," ",38],["T_STRING","Zend_Controller_Router_Abstract",38],["T_WHITESPACE","\n",38],"{",["T_WHITESPACE","\n\n    ",39],["T_DOC_COMMENT","\/**\n     * Whether or not to use default routes\n     *\n     * @var boolean\n     *\/",41],["T_WHITESPACE","\n    ",45],["T_PROTECTED","protected",46],["T_WHITESPACE"," ",46],["T_VARIABLE","$_useDefaultRoutes",46],["T_WHITESPACE"," ",46],"=",["T_WHITESPACE"," ",46],["T_STRING","true",46],";",["T_WHITESPACE","\n\n    ",46],["T_DOC_COMMENT","\/**\n     * Array of routes to match against\n     *\n     * @var array\n     *\/",48],["T_WHITESPACE","\n    ",52],["T_PROTECTED","protected",53],["T_WHITESPACE"," ",53],["T_VARIABLE","$_routes",53],["T_WHITESPACE"," ",53],"=",["T_WHITESPACE"," ",53],["T_ARRAY","array",53],"(",")",";",["T_WHITESPACE","\n\n    ",53],["T_DOC_COMMENT","\/**\n     * Currently matched route\n     *\n     * @var string\n     *\/",55],["T_WHITESPACE","\n    ",59],["T_PROTECTED","protected",60],["T_WHITESPACE"," ",60],["T_VARIABLE","$_currentRoute",60],["T_WHITESPACE"," ",60],"=",["T_WHITESPACE"," ",60],["T_STRING","null",60],";",["T_WHITESPACE","\n\n    ",60],["T_DOC_COMMENT","\/**\n     * Global parameters given to all routes\n     *\n     * @var array\n     *\/",62],["T_WHITESPACE","\n    ",66],["T_PROTECTED","protected",67],["T_WHITESPACE"," ",67],["T_VARIABLE","$_globalParams",67],["T_WHITESPACE"," ",67],"=",["T_WHITESPACE"," ",67],["T_ARRAY","array",67],"(",")",";",["T_WHITESPACE","\n\n    ",67],["T_DOC_COMMENT","\/**\n     * Separator to use with chain names\n     *\n     * @var string\n     *\/",69],["T_WHITESPACE","\n    ",73],["T_PROTECTED","protected",74],["T_WHITESPACE"," ",74],["T_VARIABLE","$_chainNameSeparator",74],["T_WHITESPACE"," ",74],"=",["T_WHITESPACE"," ",74],["T_CONSTANT_ENCAPSED_STRING","'-'",74],";",["T_WHITESPACE","\n\n    ",74],["T_DOC_COMMENT","\/**\n     * Determines if request parameters should be used as global parameters\n     * inside this router.\n     *\n     * @var boolean\n     *\/",76],["T_WHITESPACE","\n    ",81],["T_PROTECTED","protected",82],["T_WHITESPACE"," ",82],["T_VARIABLE","$_useCurrentParamsAsGlobal",82],["T_WHITESPACE"," ",82],"=",["T_WHITESPACE"," ",82],["T_STRING","false",82],";",["T_WHITESPACE","\n\n    ",82],["T_DOC_COMMENT","\/**\n     * Add default routes which are used to mimic basic router behaviour\n     *\n     * @return Zend_Controller_Router_Rewrite\n     *\/",84],["T_WHITESPACE","\n    ",88],["T_PUBLIC","public",89],["T_WHITESPACE"," ",89],["T_FUNCTION","function",89],["T_WHITESPACE"," ",89],["T_STRING","addDefaultRoutes",89],"(",")",["T_WHITESPACE","\n    ",89],"{",["T_WHITESPACE","\n        ",90],["T_IF","if",91],["T_WHITESPACE"," ",91],"(","!",["T_VARIABLE","$this",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","hasRoute",91],"(",["T_CONSTANT_ENCAPSED_STRING","'default'",91],")",")",["T_WHITESPACE"," ",91],"{",["T_WHITESPACE","\n            ",91],["T_VARIABLE","$dispatcher",92],["T_WHITESPACE"," ",92],"=",["T_WHITESPACE"," ",92],["T_VARIABLE","$this",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","getFrontController",92],"(",")",["T_OBJECT_OPERATOR","->",92],["T_STRING","getDispatcher",92],"(",")",";",["T_WHITESPACE","\n            ",92],["T_VARIABLE","$request",93],["T_WHITESPACE","    ",93],"=",["T_WHITESPACE"," ",93],["T_VARIABLE","$this",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","getFrontController",93],"(",")",["T_OBJECT_OPERATOR","->",93],["T_STRING","getRequest",93],"(",")",";",["T_WHITESPACE","\n\n            ",93],["T_COMMENT","#require_once 'Zend\/Controller\/Router\/Route\/Module.php';\n",95],["T_WHITESPACE","            ",96],["T_VARIABLE","$compat",96],["T_WHITESPACE"," ",96],"=",["T_WHITESPACE"," ",96],["T_NEW","new",96],["T_WHITESPACE"," ",96],["T_STRING","Zend_Controller_Router_Route_Module",96],"(",["T_ARRAY","array",96],"(",")",",",["T_WHITESPACE"," ",96],["T_VARIABLE","$dispatcher",96],",",["T_WHITESPACE"," ",96],["T_VARIABLE","$request",96],")",";",["T_WHITESPACE","\n\n            ",96],["T_VARIABLE","$this",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","_routes",98],["T_WHITESPACE"," ",98],"=",["T_WHITESPACE"," ",98],["T_ARRAY","array",98],"(",["T_CONSTANT_ENCAPSED_STRING","'default'",98],["T_WHITESPACE"," ",98],["T_DOUBLE_ARROW","=>",98],["T_WHITESPACE"," ",98],["T_VARIABLE","$compat",98],")",["T_WHITESPACE"," ",98],"+",["T_WHITESPACE"," ",98],["T_VARIABLE","$this",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","_routes",98],";",["T_WHITESPACE","\n        ",98],"}",["T_WHITESPACE","\n\n        ",99],["T_RETURN","return",101],["T_WHITESPACE"," ",101],["T_VARIABLE","$this",101],";",["T_WHITESPACE","\n    ",101],"}",["T_WHITESPACE","\n\n    ",102],["T_DOC_COMMENT","\/**\n     * Add route to the route chain\n     *\n     * If route contains method setRequest(), it is initialized with a request object\n     *\n     * @param  string                                 $name  Name of the route\n     * @param  Zend_Controller_Router_Route_Interface $route Instance of the route\n     * @return Zend_Controller_Router_Rewrite\n     *\/",104],["T_WHITESPACE","\n    ",112],["T_PUBLIC","public",113],["T_WHITESPACE"," ",113],["T_FUNCTION","function",113],["T_WHITESPACE"," ",113],["T_STRING","addRoute",113],"(",["T_VARIABLE","$name",113],",",["T_WHITESPACE"," ",113],["T_STRING","Zend_Controller_Router_Route_Interface",113],["T_WHITESPACE"," ",113],["T_VARIABLE","$route",113],")",["T_WHITESPACE","\n    ",113],"{",["T_WHITESPACE","\n        ",114],["T_IF","if",115],["T_WHITESPACE"," ",115],"(",["T_STRING","method_exists",115],"(",["T_VARIABLE","$route",115],",",["T_WHITESPACE"," ",115],["T_CONSTANT_ENCAPSED_STRING","'setRequest'",115],")",")",["T_WHITESPACE"," ",115],"{",["T_WHITESPACE","\n            ",115],["T_VARIABLE","$route",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","setRequest",116],"(",["T_VARIABLE","$this",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","getFrontController",116],"(",")",["T_OBJECT_OPERATOR","->",116],["T_STRING","getRequest",116],"(",")",")",";",["T_WHITESPACE","\n        ",116],"}",["T_WHITESPACE","\n\n        ",117],["T_VARIABLE","$this",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","_routes",119],"[",["T_VARIABLE","$name",119],"]",["T_WHITESPACE"," ",119],"=",["T_WHITESPACE"," ",119],["T_VARIABLE","$route",119],";",["T_WHITESPACE","\n\n        ",119],["T_RETURN","return",121],["T_WHITESPACE"," ",121],["T_VARIABLE","$this",121],";",["T_WHITESPACE","\n    ",121],"}",["T_WHITESPACE","\n\n    ",122],["T_DOC_COMMENT","\/**\n     * Add routes to the route chain\n     *\n     * @param  array $routes Array of routes with names as keys and routes as values\n     * @return Zend_Controller_Router_Rewrite\n     *\/",124],["T_WHITESPACE","\n    ",129],["T_PUBLIC","public",130],["T_WHITESPACE"," ",130],["T_FUNCTION","function",130],["T_WHITESPACE"," ",130],["T_STRING","addRoutes",130],"(",["T_VARIABLE","$routes",130],")",["T_WHITESPACE","\n    ",130],"{",["T_WHITESPACE","\n        ",131],["T_FOREACH","foreach",132],["T_WHITESPACE"," ",132],"(",["T_VARIABLE","$routes",132],["T_WHITESPACE"," ",132],["T_AS","as",132],["T_WHITESPACE"," ",132],["T_VARIABLE","$name",132],["T_WHITESPACE"," ",132],["T_DOUBLE_ARROW","=>",132],["T_WHITESPACE"," ",132],["T_VARIABLE","$route",132],")",["T_WHITESPACE"," ",132],"{",["T_WHITESPACE","\n            ",132],["T_VARIABLE","$this",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","addRoute",133],"(",["T_VARIABLE","$name",133],",",["T_WHITESPACE"," ",133],["T_VARIABLE","$route",133],")",";",["T_WHITESPACE","\n        ",133],"}",["T_WHITESPACE","\n\n        ",134],["T_RETURN","return",136],["T_WHITESPACE"," ",136],["T_VARIABLE","$this",136],";",["T_WHITESPACE","\n    ",136],"}",["T_WHITESPACE","\n\n    ",137],["T_DOC_COMMENT","\/**\n     * Create routes out of Zend_Config configuration\n     *\n     * Example INI:\n     * routes.archive.route = \"archive\/:year\/*\"\n     * routes.archive.defaults.controller = archive\n     * routes.archive.defaults.action = show\n     * routes.archive.defaults.year = 2000\n     * routes.archive.reqs.year = \"\\d+\"\n     *\n     * routes.news.type = \"Zend_Controller_Router_Route_Static\"\n     * routes.news.route = \"news\"\n     * routes.news.defaults.controller = \"news\"\n     * routes.news.defaults.action = \"list\"\n     *\n     * And finally after you have created a Zend_Config with above ini:\n     * $router = new Zend_Controller_Router_Rewrite();\n     * $router->addConfig($config, 'routes');\n     *\n     * @param  Zend_Config $config  Configuration object\n     * @param  string      $section Name of the config section containing route's definitions\n     * @throws Zend_Controller_Router_Exception\n     * @return Zend_Controller_Router_Rewrite\n     *\/",139],["T_WHITESPACE","\n    ",162],["T_PUBLIC","public",163],["T_WHITESPACE"," ",163],["T_FUNCTION","function",163],["T_WHITESPACE"," ",163],["T_STRING","addConfig",163],"(",["T_STRING","Zend_Config",163],["T_WHITESPACE"," ",163],["T_VARIABLE","$config",163],",",["T_WHITESPACE"," ",163],["T_VARIABLE","$section",163],["T_WHITESPACE"," ",163],"=",["T_WHITESPACE"," ",163],["T_STRING","null",163],")",["T_WHITESPACE","\n    ",163],"{",["T_WHITESPACE","\n        ",164],["T_IF","if",165],["T_WHITESPACE"," ",165],"(",["T_VARIABLE","$section",165],["T_WHITESPACE"," ",165],["T_IS_NOT_IDENTICAL","!==",165],["T_WHITESPACE"," ",165],["T_STRING","null",165],")",["T_WHITESPACE"," ",165],"{",["T_WHITESPACE","\n            ",165],["T_IF","if",166],["T_WHITESPACE"," ",166],"(",["T_VARIABLE","$config",166],["T_OBJECT_OPERATOR","->",166],"{",["T_VARIABLE","$section",166],"}",["T_WHITESPACE"," ",166],["T_IS_IDENTICAL","===",166],["T_WHITESPACE"," ",166],["T_STRING","null",166],")",["T_WHITESPACE"," ",166],"{",["T_WHITESPACE","\n                ",166],["T_COMMENT","#require_once 'Zend\/Controller\/Router\/Exception.php';\n",167],["T_WHITESPACE","                ",168],["T_THROW","throw",168],["T_WHITESPACE"," ",168],["T_NEW","new",168],["T_WHITESPACE"," ",168],["T_STRING","Zend_Controller_Router_Exception",168],"(","\"",["T_ENCAPSED_AND_WHITESPACE","No route configuration in section '",168],["T_CURLY_OPEN","{",168],["T_VARIABLE","$section",168],"}",["T_ENCAPSED_AND_WHITESPACE","'",168],"\"",")",";",["T_WHITESPACE","\n            ",168],"}",["T_WHITESPACE","\n\n            ",169],["T_VARIABLE","$config",171],["T_WHITESPACE"," ",171],"=",["T_WHITESPACE"," ",171],["T_VARIABLE","$config",171],["T_OBJECT_OPERATOR","->",171],"{",["T_VARIABLE","$section",171],"}",";",["T_WHITESPACE","\n        ",171],"}",["T_WHITESPACE","\n\n        ",172],["T_FOREACH","foreach",174],["T_WHITESPACE"," ",174],"(",["T_VARIABLE","$config",174],["T_WHITESPACE"," ",174],["T_AS","as",174],["T_WHITESPACE"," ",174],["T_VARIABLE","$name",174],["T_WHITESPACE"," ",174],["T_DOUBLE_ARROW","=>",174],["T_WHITESPACE"," ",174],["T_VARIABLE","$info",174],")",["T_WHITESPACE"," ",174],"{",["T_WHITESPACE","\n            ",174],["T_VARIABLE","$route",175],["T_WHITESPACE"," ",175],"=",["T_WHITESPACE"," ",175],["T_VARIABLE","$this",175],["T_OBJECT_OPERATOR","->",175],["T_STRING","_getRouteFromConfig",175],"(",["T_VARIABLE","$info",175],")",";",["T_WHITESPACE","\n\n            ",175],["T_IF","if",177],["T_WHITESPACE"," ",177],"(",["T_VARIABLE","$route",177],["T_WHITESPACE"," ",177],["T_INSTANCEOF","instanceof",177],["T_WHITESPACE"," ",177],["T_STRING","Zend_Controller_Router_Route_Chain",177],")",["T_WHITESPACE"," ",177],"{",["T_WHITESPACE","\n                ",177],["T_IF","if",178],["T_WHITESPACE"," ",178],"(","!",["T_ISSET","isset",178],"(",["T_VARIABLE","$info",178],["T_OBJECT_OPERATOR","->",178],["T_STRING","chain",178],")",")",["T_WHITESPACE"," ",178],"{",["T_WHITESPACE","\n                    ",178],["T_COMMENT","#require_once 'Zend\/Controller\/Router\/Exception.php';\n",179],["T_WHITESPACE","                    ",180],["T_THROW","throw",180],["T_WHITESPACE"," ",180],["T_NEW","new",180],["T_WHITESPACE"," ",180],["T_STRING","Zend_Controller_Router_Exception",180],"(",["T_CONSTANT_ENCAPSED_STRING","\"No chain defined\"",180],")",";",["T_WHITESPACE","\n                ",180],"}",["T_WHITESPACE","\n\n                ",181],["T_IF","if",183],["T_WHITESPACE"," ",183],"(",["T_VARIABLE","$info",183],["T_OBJECT_OPERATOR","->",183],["T_STRING","chain",183],["T_WHITESPACE"," ",183],["T_INSTANCEOF","instanceof",183],["T_WHITESPACE"," ",183],["T_STRING","Zend_Config",183],")",["T_WHITESPACE"," ",183],"{",["T_WHITESPACE","\n                    ",183],["T_VARIABLE","$childRouteNames",184],["T_WHITESPACE"," ",184],"=",["T_WHITESPACE"," ",184],["T_VARIABLE","$info",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","chain",184],";",["T_WHITESPACE","\n                ",184],"}",["T_WHITESPACE"," ",185],["T_ELSE","else",185],["T_WHITESPACE"," ",185],"{",["T_WHITESPACE","\n                    ",185],["T_VARIABLE","$childRouteNames",186],["T_WHITESPACE"," ",186],"=",["T_WHITESPACE"," ",186],["T_STRING","explode",186],"(",["T_CONSTANT_ENCAPSED_STRING","','",186],",",["T_WHITESPACE"," ",186],["T_VARIABLE","$info",186],["T_OBJECT_OPERATOR","->",186],["T_STRING","chain",186],")",";",["T_WHITESPACE","\n                ",186],"}",["T_WHITESPACE","\n\n                ",187],["T_FOREACH","foreach",189],["T_WHITESPACE"," ",189],"(",["T_VARIABLE","$childRouteNames",189],["T_WHITESPACE"," ",189],["T_AS","as",189],["T_WHITESPACE"," ",189],["T_VARIABLE","$childRouteName",189],")",["T_WHITESPACE"," ",189],"{",["T_WHITESPACE","\n                    ",189],["T_VARIABLE","$childRoute",190],["T_WHITESPACE"," ",190],"=",["T_WHITESPACE"," ",190],["T_VARIABLE","$this",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","getRoute",190],"(",["T_STRING","trim",190],"(",["T_VARIABLE","$childRouteName",190],")",")",";",["T_WHITESPACE","\n                    ",190],["T_VARIABLE","$route",191],["T_OBJECT_OPERATOR","->",191],["T_STRING","chain",191],"(",["T_VARIABLE","$childRoute",191],")",";",["T_WHITESPACE","\n                ",191],"}",["T_WHITESPACE","\n\n                ",192],["T_VARIABLE","$this",194],["T_OBJECT_OPERATOR","->",194],["T_STRING","addRoute",194],"(",["T_VARIABLE","$name",194],",",["T_WHITESPACE"," ",194],["T_VARIABLE","$route",194],")",";",["T_WHITESPACE","\n            ",194],"}",["T_WHITESPACE"," ",195],["T_ELSEIF","elseif",195],["T_WHITESPACE"," ",195],"(",["T_ISSET","isset",195],"(",["T_VARIABLE","$info",195],["T_OBJECT_OPERATOR","->",195],["T_STRING","chains",195],")",["T_WHITESPACE"," ",195],["T_BOOLEAN_AND","&&",195],["T_WHITESPACE"," ",195],["T_VARIABLE","$info",195],["T_OBJECT_OPERATOR","->",195],["T_STRING","chains",195],["T_WHITESPACE"," ",195],["T_INSTANCEOF","instanceof",195],["T_WHITESPACE"," ",195],["T_STRING","Zend_Config",195],")",["T_WHITESPACE"," ",195],"{",["T_WHITESPACE","\n                ",195],["T_VARIABLE","$this",196],["T_OBJECT_OPERATOR","->",196],["T_STRING","_addChainRoutesFromConfig",196],"(",["T_VARIABLE","$name",196],",",["T_WHITESPACE"," ",196],["T_VARIABLE","$route",196],",",["T_WHITESPACE"," ",196],["T_VARIABLE","$info",196],["T_OBJECT_OPERATOR","->",196],["T_STRING","chains",196],")",";",["T_WHITESPACE","\n            ",196],"}",["T_WHITESPACE"," ",197],["T_ELSE","else",197],["T_WHITESPACE"," ",197],"{",["T_WHITESPACE","\n                ",197],["T_VARIABLE","$this",198],["T_OBJECT_OPERATOR","->",198],["T_STRING","addRoute",198],"(",["T_VARIABLE","$name",198],",",["T_WHITESPACE"," ",198],["T_VARIABLE","$route",198],")",";",["T_WHITESPACE","\n            ",198],"}",["T_WHITESPACE","\n        ",199],"}",["T_WHITESPACE","\n\n        ",200],["T_RETURN","return",202],["T_WHITESPACE"," ",202],["T_VARIABLE","$this",202],";",["T_WHITESPACE","\n    ",202],"}",["T_WHITESPACE","\n\n    ",203],["T_DOC_COMMENT","\/**\n     * Get a route frm a config instance\n     *\n     * @param  Zend_Config $info\n     * @return Zend_Controller_Router_Route_Interface\n     *\/",205],["T_WHITESPACE","\n    ",210],["T_PROTECTED","protected",211],["T_WHITESPACE"," ",211],["T_FUNCTION","function",211],["T_WHITESPACE"," ",211],["T_STRING","_getRouteFromConfig",211],"(",["T_STRING","Zend_Config",211],["T_WHITESPACE"," ",211],["T_VARIABLE","$info",211],")",["T_WHITESPACE","\n    ",211],"{",["T_WHITESPACE","\n        ",212],["T_VARIABLE","$class",213],["T_WHITESPACE"," ",213],"=",["T_WHITESPACE"," ",213],"(",["T_ISSET","isset",213],"(",["T_VARIABLE","$info",213],["T_OBJECT_OPERATOR","->",213],["T_STRING","type",213],")",")",["T_WHITESPACE"," ",213],"?",["T_WHITESPACE"," ",213],["T_VARIABLE","$info",213],["T_OBJECT_OPERATOR","->",213],["T_STRING","type",213],["T_WHITESPACE"," ",213],":",["T_WHITESPACE"," ",213],["T_CONSTANT_ENCAPSED_STRING","'Zend_Controller_Router_Route'",213],";",["T_WHITESPACE","\n        ",213],["T_IF","if",214],["T_WHITESPACE"," ",214],"(","!",["T_STRING","class_exists",214],"(",["T_VARIABLE","$class",214],")",")",["T_WHITESPACE"," ",214],"{",["T_WHITESPACE","\n            ",214],["T_COMMENT","#require_once 'Zend\/Loader.php';\n",215],["T_WHITESPACE","            ",216],["T_STRING","Zend_Loader",216],["T_DOUBLE_COLON","::",216],["T_STRING","loadClass",216],"(",["T_VARIABLE","$class",216],")",";",["T_WHITESPACE","\n        ",216],"}",["T_WHITESPACE","\n\n        ",217],["T_VARIABLE","$route",219],["T_WHITESPACE"," ",219],"=",["T_WHITESPACE"," ",219],["T_STRING","call_user_func",219],"(",["T_WHITESPACE","\n            ",219],["T_ARRAY","array",220],"(",["T_WHITESPACE","\n                ",220],["T_VARIABLE","$class",221],",",["T_WHITESPACE","\n                ",221],["T_CONSTANT_ENCAPSED_STRING","'getInstance'",222],["T_WHITESPACE","\n            ",222],")",",",["T_WHITESPACE"," ",223],["T_VARIABLE","$info",223],["T_WHITESPACE","\n        ",223],")",";",["T_WHITESPACE","\n\n        ",224],["T_IF","if",226],["T_WHITESPACE"," ",226],"(",["T_ISSET","isset",226],"(",["T_VARIABLE","$info",226],["T_OBJECT_OPERATOR","->",226],["T_STRING","abstract",226],")",["T_WHITESPACE"," ",226],["T_BOOLEAN_AND","&&",226],["T_WHITESPACE"," ",226],["T_VARIABLE","$info",226],["T_OBJECT_OPERATOR","->",226],["T_STRING","abstract",226],["T_WHITESPACE"," ",226],["T_BOOLEAN_AND","&&",226],["T_WHITESPACE"," ",226],["T_STRING","method_exists",226],"(",["T_VARIABLE","$route",226],",",["T_WHITESPACE"," ",226],["T_CONSTANT_ENCAPSED_STRING","'isAbstract'",226],")",")",["T_WHITESPACE"," ",226],"{",["T_WHITESPACE","\n            ",226],["T_VARIABLE","$route",227],["T_OBJECT_OPERATOR","->",227],["T_STRING","isAbstract",227],"(",["T_STRING","true",227],")",";",["T_WHITESPACE","\n        ",227],"}",["T_WHITESPACE","\n\n        ",228],["T_RETURN","return",230],["T_WHITESPACE"," ",230],["T_VARIABLE","$route",230],";",["T_WHITESPACE","\n    ",230],"}",["T_WHITESPACE","\n\n    ",231],["T_DOC_COMMENT","\/**\n     * Add chain routes from a config route\n     *\n     * @param  string                                 $name\n     * @param  Zend_Controller_Router_Route_Interface $route\n     * @param  Zend_Config                            $childRoutesInfo\n     * @return void\n     *\/",233],["T_WHITESPACE","\n    ",240],["T_PROTECTED","protected",241],["T_WHITESPACE"," ",241],["T_FUNCTION","function",241],["T_WHITESPACE"," ",241],["T_STRING","_addChainRoutesFromConfig",241],"(",["T_WHITESPACE","\n        ",241],["T_VARIABLE","$name",242],",",["T_WHITESPACE","\n        ",242],["T_STRING","Zend_Controller_Router_Route_Interface",243],["T_WHITESPACE"," ",243],["T_VARIABLE","$route",243],",",["T_WHITESPACE","\n        ",243],["T_STRING","Zend_Config",244],["T_WHITESPACE"," ",244],["T_VARIABLE","$childRoutesInfo",244],["T_WHITESPACE","\n    ",244],")",["T_WHITESPACE","\n    ",245],"{",["T_WHITESPACE","\n        ",246],["T_FOREACH","foreach",247],["T_WHITESPACE"," ",247],"(",["T_VARIABLE","$childRoutesInfo",247],["T_WHITESPACE"," ",247],["T_AS","as",247],["T_WHITESPACE"," ",247],["T_VARIABLE","$childRouteName",247],["T_WHITESPACE"," ",247],["T_DOUBLE_ARROW","=>",247],["T_WHITESPACE"," ",247],["T_VARIABLE","$childRouteInfo",247],")",["T_WHITESPACE"," ",247],"{",["T_WHITESPACE","\n            ",247],["T_IF","if",248],["T_WHITESPACE"," ",248],"(",["T_STRING","is_string",248],"(",["T_VARIABLE","$childRouteInfo",248],")",")",["T_WHITESPACE"," ",248],"{",["T_WHITESPACE","\n                ",248],["T_VARIABLE","$childRouteName",249],["T_WHITESPACE"," ",249],"=",["T_WHITESPACE"," ",249],["T_VARIABLE","$childRouteInfo",249],";",["T_WHITESPACE","\n                ",249],["T_VARIABLE","$childRoute",250],["T_WHITESPACE","     ",250],"=",["T_WHITESPACE"," ",250],["T_VARIABLE","$this",250],["T_OBJECT_OPERATOR","->",250],["T_STRING","getRoute",250],"(",["T_VARIABLE","$childRouteName",250],")",";",["T_WHITESPACE","\n            ",250],"}",["T_WHITESPACE"," ",251],["T_ELSE","else",251],["T_WHITESPACE"," ",251],"{",["T_WHITESPACE","\n                ",251],["T_VARIABLE","$childRoute",252],["T_WHITESPACE"," ",252],"=",["T_WHITESPACE"," ",252],["T_VARIABLE","$this",252],["T_OBJECT_OPERATOR","->",252],["T_STRING","_getRouteFromConfig",252],"(",["T_VARIABLE","$childRouteInfo",252],")",";",["T_WHITESPACE","\n            ",252],"}",["T_WHITESPACE","\n\n            ",253],["T_IF","if",255],["T_WHITESPACE"," ",255],"(",["T_VARIABLE","$route",255],["T_WHITESPACE"," ",255],["T_INSTANCEOF","instanceof",255],["T_WHITESPACE"," ",255],["T_STRING","Zend_Controller_Router_Route_Chain",255],")",["T_WHITESPACE"," ",255],"{",["T_WHITESPACE","\n                ",255],["T_VARIABLE","$chainRoute",256],["T_WHITESPACE"," ",256],"=",["T_WHITESPACE"," ",256],["T_CLONE","clone",256],["T_WHITESPACE"," ",256],["T_VARIABLE","$route",256],";",["T_WHITESPACE","\n                ",256],["T_VARIABLE","$chainRoute",257],["T_OBJECT_OPERATOR","->",257],["T_STRING","chain",257],"(",["T_VARIABLE","$childRoute",257],")",";",["T_WHITESPACE","\n            ",257],"}",["T_WHITESPACE"," ",258],["T_ELSE","else",258],["T_WHITESPACE"," ",258],"{",["T_WHITESPACE","\n                ",258],["T_VARIABLE","$chainRoute",259],["T_WHITESPACE"," ",259],"=",["T_WHITESPACE"," ",259],["T_VARIABLE","$route",259],["T_OBJECT_OPERATOR","->",259],["T_STRING","chain",259],"(",["T_VARIABLE","$childRoute",259],")",";",["T_WHITESPACE","\n            ",259],"}",["T_WHITESPACE","\n\n            ",260],["T_VARIABLE","$chainName",262],["T_WHITESPACE"," ",262],"=",["T_WHITESPACE"," ",262],["T_VARIABLE","$name",262],["T_WHITESPACE"," ",262],".",["T_WHITESPACE"," ",262],["T_VARIABLE","$this",262],["T_OBJECT_OPERATOR","->",262],["T_STRING","_chainNameSeparator",262],["T_WHITESPACE"," ",262],".",["T_WHITESPACE"," ",262],["T_VARIABLE","$childRouteName",262],";",["T_WHITESPACE","\n\n            ",262],["T_IF","if",264],["T_WHITESPACE"," ",264],"(",["T_ISSET","isset",264],"(",["T_VARIABLE","$childRouteInfo",264],["T_OBJECT_OPERATOR","->",264],["T_STRING","chains",264],")",")",["T_WHITESPACE"," ",264],"{",["T_WHITESPACE","\n                ",264],["T_VARIABLE","$this",265],["T_OBJECT_OPERATOR","->",265],["T_STRING","_addChainRoutesFromConfig",265],"(",["T_VARIABLE","$chainName",265],",",["T_WHITESPACE"," ",265],["T_VARIABLE","$chainRoute",265],",",["T_WHITESPACE"," ",265],["T_VARIABLE","$childRouteInfo",265],["T_OBJECT_OPERATOR","->",265],["T_STRING","chains",265],")",";",["T_WHITESPACE","\n            ",265],"}",["T_WHITESPACE"," ",266],["T_ELSE","else",266],["T_WHITESPACE"," ",266],"{",["T_WHITESPACE","\n                ",266],["T_VARIABLE","$this",267],["T_OBJECT_OPERATOR","->",267],["T_STRING","addRoute",267],"(",["T_VARIABLE","$chainName",267],",",["T_WHITESPACE"," ",267],["T_VARIABLE","$chainRoute",267],")",";",["T_WHITESPACE","\n            ",267],"}",["T_WHITESPACE","\n        ",268],"}",["T_WHITESPACE","\n    ",269],"}",["T_WHITESPACE","\n\n    ",270],["T_DOC_COMMENT","\/**\n     * Remove a route from the route chain\n     *\n     * @param  string $name Name of the route\n     * @throws Zend_Controller_Router_Exception\n     * @return Zend_Controller_Router_Rewrite\n     *\/",272],["T_WHITESPACE","\n    ",278],["T_PUBLIC","public",279],["T_WHITESPACE"," ",279],["T_FUNCTION","function",279],["T_WHITESPACE"," ",279],["T_STRING","removeRoute",279],"(",["T_VARIABLE","$name",279],")",["T_WHITESPACE","\n    ",279],"{",["T_WHITESPACE","\n        ",280],["T_IF","if",281],["T_WHITESPACE"," ",281],"(","!",["T_ISSET","isset",281],"(",["T_VARIABLE","$this",281],["T_OBJECT_OPERATOR","->",281],["T_STRING","_routes",281],"[",["T_VARIABLE","$name",281],"]",")",")",["T_WHITESPACE"," ",281],"{",["T_WHITESPACE","\n            ",281],["T_COMMENT","#require_once 'Zend\/Controller\/Router\/Exception.php';\n",282],["T_WHITESPACE","            ",283],["T_THROW","throw",283],["T_WHITESPACE"," ",283],["T_NEW","new",283],["T_WHITESPACE"," ",283],["T_STRING","Zend_Controller_Router_Exception",283],"(","\"",["T_ENCAPSED_AND_WHITESPACE","Route ",283],["T_VARIABLE","$name",283],["T_ENCAPSED_AND_WHITESPACE"," is not defined",283],"\"",")",";",["T_WHITESPACE","\n        ",283],"}",["T_WHITESPACE","\n\n        ",284],["T_UNSET","unset",286],"(",["T_VARIABLE","$this",286],["T_OBJECT_OPERATOR","->",286],["T_STRING","_routes",286],"[",["T_VARIABLE","$name",286],"]",")",";",["T_WHITESPACE","\n\n        ",286],["T_RETURN","return",288],["T_WHITESPACE"," ",288],["T_VARIABLE","$this",288],";",["T_WHITESPACE","\n    ",288],"}",["T_WHITESPACE","\n\n    ",289],["T_DOC_COMMENT","\/**\n     * Remove all standard default routes\n     *\n     * @return Zend_Controller_Router_Rewrite\n     *\/",291],["T_WHITESPACE","\n    ",295],["T_PUBLIC","public",296],["T_WHITESPACE"," ",296],["T_FUNCTION","function",296],["T_WHITESPACE"," ",296],["T_STRING","removeDefaultRoutes",296],"(",")",["T_WHITESPACE","\n    ",296],"{",["T_WHITESPACE","\n        ",297],["T_VARIABLE","$this",298],["T_OBJECT_OPERATOR","->",298],["T_STRING","_useDefaultRoutes",298],["T_WHITESPACE"," ",298],"=",["T_WHITESPACE"," ",298],["T_STRING","false",298],";",["T_WHITESPACE","\n\n        ",298],["T_RETURN","return",300],["T_WHITESPACE"," ",300],["T_VARIABLE","$this",300],";",["T_WHITESPACE","\n    ",300],"}",["T_WHITESPACE","\n\n    ",301],["T_DOC_COMMENT","\/**\n     * Check if named route exists\n     *\n     * @param  string $name Name of the route\n     * @return boolean\n     *\/",303],["T_WHITESPACE","\n    ",308],["T_PUBLIC","public",309],["T_WHITESPACE"," ",309],["T_FUNCTION","function",309],["T_WHITESPACE"," ",309],["T_STRING","hasRoute",309],"(",["T_VARIABLE","$name",309],")",["T_WHITESPACE","\n    ",309],"{",["T_WHITESPACE","\n        ",310],["T_RETURN","return",311],["T_WHITESPACE"," ",311],["T_ISSET","isset",311],"(",["T_VARIABLE","$this",311],["T_OBJECT_OPERATOR","->",311],["T_STRING","_routes",311],"[",["T_VARIABLE","$name",311],"]",")",";",["T_WHITESPACE","\n    ",311],"}",["T_WHITESPACE","\n\n    ",312],["T_DOC_COMMENT","\/**\n     * Retrieve a named route\n     *\n     * @param string $name Name of the route\n     * @throws Zend_Controller_Router_Exception\n     * @return Zend_Controller_Router_Route_Interface Route object\n     *\/",314],["T_WHITESPACE","\n    ",320],["T_PUBLIC","public",321],["T_WHITESPACE"," ",321],["T_FUNCTION","function",321],["T_WHITESPACE"," ",321],["T_STRING","getRoute",321],"(",["T_VARIABLE","$name",321],")",["T_WHITESPACE","\n    ",321],"{",["T_WHITESPACE","\n        ",322],["T_IF","if",323],["T_WHITESPACE"," ",323],"(","!",["T_ISSET","isset",323],"(",["T_VARIABLE","$this",323],["T_OBJECT_OPERATOR","->",323],["T_STRING","_routes",323],"[",["T_VARIABLE","$name",323],"]",")",")",["T_WHITESPACE"," ",323],"{",["T_WHITESPACE","\n            ",323],["T_COMMENT","#require_once 'Zend\/Controller\/Router\/Exception.php';\n",324],["T_WHITESPACE","            ",325],["T_THROW","throw",325],["T_WHITESPACE"," ",325],["T_NEW","new",325],["T_WHITESPACE"," ",325],["T_STRING","Zend_Controller_Router_Exception",325],"(","\"",["T_ENCAPSED_AND_WHITESPACE","Route ",325],["T_VARIABLE","$name",325],["T_ENCAPSED_AND_WHITESPACE"," is not defined",325],"\"",")",";",["T_WHITESPACE","\n        ",325],"}",["T_WHITESPACE","\n\n        ",326],["T_RETURN","return",328],["T_WHITESPACE"," ",328],["T_VARIABLE","$this",328],["T_OBJECT_OPERATOR","->",328],["T_STRING","_routes",328],"[",["T_VARIABLE","$name",328],"]",";",["T_WHITESPACE","\n    ",328],"}",["T_WHITESPACE","\n\n    ",329],["T_DOC_COMMENT","\/**\n     * Retrieve a currently matched route\n     *\n     * @throws Zend_Controller_Router_Exception\n     * @return Zend_Controller_Router_Route_Interface Route object\n     *\/",331],["T_WHITESPACE","\n    ",336],["T_PUBLIC","public",337],["T_WHITESPACE"," ",337],["T_FUNCTION","function",337],["T_WHITESPACE"," ",337],["T_STRING","getCurrentRoute",337],"(",")",["T_WHITESPACE","\n    ",337],"{",["T_WHITESPACE","\n        ",338],["T_IF","if",339],["T_WHITESPACE"," ",339],"(","!",["T_ISSET","isset",339],"(",["T_VARIABLE","$this",339],["T_OBJECT_OPERATOR","->",339],["T_STRING","_currentRoute",339],")",")",["T_WHITESPACE"," ",339],"{",["T_WHITESPACE","\n            ",339],["T_COMMENT","#require_once 'Zend\/Controller\/Router\/Exception.php';\n",340],["T_WHITESPACE","            ",341],["T_THROW","throw",341],["T_WHITESPACE"," ",341],["T_NEW","new",341],["T_WHITESPACE"," ",341],["T_STRING","Zend_Controller_Router_Exception",341],"(",["T_CONSTANT_ENCAPSED_STRING","\"Current route is not defined\"",341],")",";",["T_WHITESPACE","\n        ",341],"}",["T_WHITESPACE","\n\n        ",342],["T_RETURN","return",344],["T_WHITESPACE"," ",344],["T_VARIABLE","$this",344],["T_OBJECT_OPERATOR","->",344],["T_STRING","getRoute",344],"(",["T_VARIABLE","$this",344],["T_OBJECT_OPERATOR","->",344],["T_STRING","_currentRoute",344],")",";",["T_WHITESPACE","\n    ",344],"}",["T_WHITESPACE","\n\n    ",345],["T_DOC_COMMENT","\/**\n     * Retrieve a name of currently matched route\n     *\n     * @throws Zend_Controller_Router_Exception\n     * @return string Route name\n     *\/",347],["T_WHITESPACE","\n    ",352],["T_PUBLIC","public",353],["T_WHITESPACE"," ",353],["T_FUNCTION","function",353],["T_WHITESPACE"," ",353],["T_STRING","getCurrentRouteName",353],"(",")",["T_WHITESPACE","\n    ",353],"{",["T_WHITESPACE","\n        ",354],["T_IF","if",355],["T_WHITESPACE"," ",355],"(","!",["T_ISSET","isset",355],"(",["T_VARIABLE","$this",355],["T_OBJECT_OPERATOR","->",355],["T_STRING","_currentRoute",355],")",")",["T_WHITESPACE"," ",355],"{",["T_WHITESPACE","\n            ",355],["T_COMMENT","#require_once 'Zend\/Controller\/Router\/Exception.php';\n",356],["T_WHITESPACE","            ",357],["T_THROW","throw",357],["T_WHITESPACE"," ",357],["T_NEW","new",357],["T_WHITESPACE"," ",357],["T_STRING","Zend_Controller_Router_Exception",357],"(",["T_CONSTANT_ENCAPSED_STRING","\"Current route is not defined\"",357],")",";",["T_WHITESPACE","\n        ",357],"}",["T_WHITESPACE","\n\n        ",358],["T_RETURN","return",360],["T_WHITESPACE"," ",360],["T_VARIABLE","$this",360],["T_OBJECT_OPERATOR","->",360],["T_STRING","_currentRoute",360],";",["T_WHITESPACE","\n    ",360],"}",["T_WHITESPACE","\n\n    ",361],["T_DOC_COMMENT","\/**\n     * Retrieve an array of routes added to the route chain\n     *\n     * @return array All of the defined routes\n     *\/",363],["T_WHITESPACE","\n    ",367],["T_PUBLIC","public",368],["T_WHITESPACE"," ",368],["T_FUNCTION","function",368],["T_WHITESPACE"," ",368],["T_STRING","getRoutes",368],"(",")",["T_WHITESPACE","\n    ",368],"{",["T_WHITESPACE","\n        ",369],["T_RETURN","return",370],["T_WHITESPACE"," ",370],["T_VARIABLE","$this",370],["T_OBJECT_OPERATOR","->",370],["T_STRING","_routes",370],";",["T_WHITESPACE","\n    ",370],"}",["T_WHITESPACE","\n\n    ",371],["T_DOC_COMMENT","\/**\n     * Find a matching route to the current PATH_INFO and inject\n     * returning values to the Request object.\n     *\n     * @param Zend_Controller_Request_Abstract $request\n     * @throws Zend_Controller_Router_Exception\n     * @return Zend_Controller_Request_Abstract Request object\n     *\/",373],["T_WHITESPACE","\n    ",380],["T_PUBLIC","public",381],["T_WHITESPACE"," ",381],["T_FUNCTION","function",381],["T_WHITESPACE"," ",381],["T_STRING","route",381],"(",["T_STRING","Zend_Controller_Request_Abstract",381],["T_WHITESPACE"," ",381],["T_VARIABLE","$request",381],")",["T_WHITESPACE","\n    ",381],"{",["T_WHITESPACE","\n        ",382],["T_IF","if",383],["T_WHITESPACE"," ",383],"(","!",["T_VARIABLE","$request",383],["T_WHITESPACE"," ",383],["T_INSTANCEOF","instanceof",383],["T_WHITESPACE"," ",383],["T_STRING","Zend_Controller_Request_Http",383],")",["T_WHITESPACE"," ",383],"{",["T_WHITESPACE","\n            ",383],["T_COMMENT","#require_once 'Zend\/Controller\/Router\/Exception.php';\n",384],["T_WHITESPACE","            ",385],["T_THROW","throw",385],["T_WHITESPACE"," ",385],["T_NEW","new",385],["T_WHITESPACE"," ",385],["T_STRING","Zend_Controller_Router_Exception",385],"(",["T_WHITESPACE","\n                ",385],["T_CONSTANT_ENCAPSED_STRING","'Zend_Controller_Router_Rewrite requires a Zend_Controller_Request_Http-based request object'",386],["T_WHITESPACE","\n            ",386],")",";",["T_WHITESPACE","\n        ",387],"}",["T_WHITESPACE","\n\n        ",388],["T_IF","if",390],["T_WHITESPACE"," ",390],"(",["T_VARIABLE","$this",390],["T_OBJECT_OPERATOR","->",390],["T_STRING","_useDefaultRoutes",390],")",["T_WHITESPACE"," ",390],"{",["T_WHITESPACE","\n            ",390],["T_VARIABLE","$this",391],["T_OBJECT_OPERATOR","->",391],["T_STRING","addDefaultRoutes",391],"(",")",";",["T_WHITESPACE","\n        ",391],"}",["T_WHITESPACE","\n\n        ",392],["T_COMMENT","\/\/ Find the matching route\n",394],["T_WHITESPACE","        ",395],["T_VARIABLE","$routeMatched",395],["T_WHITESPACE"," ",395],"=",["T_WHITESPACE"," ",395],["T_STRING","false",395],";",["T_WHITESPACE","\n\n        ",395],["T_FOREACH","foreach",397],["T_WHITESPACE"," ",397],"(",["T_STRING","array_reverse",397],"(",["T_VARIABLE","$this",397],["T_OBJECT_OPERATOR","->",397],["T_STRING","_routes",397],",",["T_WHITESPACE"," ",397],["T_STRING","true",397],")",["T_WHITESPACE"," ",397],["T_AS","as",397],["T_WHITESPACE"," ",397],["T_VARIABLE","$name",397],["T_WHITESPACE"," ",397],["T_DOUBLE_ARROW","=>",397],["T_WHITESPACE"," ",397],["T_VARIABLE","$route",397],")",["T_WHITESPACE"," ",397],"{",["T_WHITESPACE","\n            ",397],["T_COMMENT","\/\/ TODO: Should be an interface method. Hack for 1.0 BC\n",398],["T_WHITESPACE","            ",399],["T_IF","if",399],["T_WHITESPACE"," ",399],"(",["T_STRING","method_exists",399],"(",["T_VARIABLE","$route",399],",",["T_WHITESPACE"," ",399],["T_CONSTANT_ENCAPSED_STRING","'isAbstract'",399],")",["T_WHITESPACE"," ",399],["T_BOOLEAN_AND","&&",399],["T_WHITESPACE"," ",399],["T_VARIABLE","$route",399],["T_OBJECT_OPERATOR","->",399],["T_STRING","isAbstract",399],"(",")",")",["T_WHITESPACE"," ",399],"{",["T_WHITESPACE","\n                ",399],["T_CONTINUE","continue",400],";",["T_WHITESPACE","\n            ",400],"}",["T_WHITESPACE","\n\n            ",401],["T_COMMENT","\/\/ TODO: Should be an interface method. Hack for 1.0 BC\n",403],["T_WHITESPACE","            ",404],["T_IF","if",404],["T_WHITESPACE"," ",404],"(","!",["T_STRING","method_exists",404],"(",["T_VARIABLE","$route",404],",",["T_WHITESPACE"," ",404],["T_CONSTANT_ENCAPSED_STRING","'getVersion'",404],")",["T_WHITESPACE"," ",404],["T_BOOLEAN_OR","||",404],["T_WHITESPACE"," ",404],["T_VARIABLE","$route",404],["T_OBJECT_OPERATOR","->",404],["T_STRING","getVersion",404],"(",")",["T_WHITESPACE"," ",404],["T_IS_EQUAL","==",404],["T_WHITESPACE"," ",404],["T_LNUMBER","1",404],")",["T_WHITESPACE"," ",404],"{",["T_WHITESPACE","\n                ",404],["T_VARIABLE","$match",405],["T_WHITESPACE"," ",405],"=",["T_WHITESPACE"," ",405],["T_VARIABLE","$request",405],["T_OBJECT_OPERATOR","->",405],["T_STRING","getPathInfo",405],"(",")",";",["T_WHITESPACE","\n            ",405],"}",["T_WHITESPACE"," ",406],["T_ELSE","else",406],["T_WHITESPACE"," ",406],"{",["T_WHITESPACE","\n                ",406],["T_VARIABLE","$match",407],["T_WHITESPACE"," ",407],"=",["T_WHITESPACE"," ",407],["T_VARIABLE","$request",407],";",["T_WHITESPACE","\n            ",407],"}",["T_WHITESPACE","\n\n            ",408],["T_IF","if",410],["T_WHITESPACE"," ",410],"(",["T_VARIABLE","$params",410],["T_WHITESPACE"," ",410],"=",["T_WHITESPACE"," ",410],["T_VARIABLE","$route",410],["T_OBJECT_OPERATOR","->",410],["T_STRING","match",410],"(",["T_VARIABLE","$match",410],")",")",["T_WHITESPACE"," ",410],"{",["T_WHITESPACE","\n                ",410],["T_VARIABLE","$this",411],["T_OBJECT_OPERATOR","->",411],["T_STRING","_setRequestParams",411],"(",["T_VARIABLE","$request",411],",",["T_WHITESPACE"," ",411],["T_VARIABLE","$params",411],")",";",["T_WHITESPACE","\n                ",411],["T_VARIABLE","$this",412],["T_OBJECT_OPERATOR","->",412],["T_STRING","_currentRoute",412],["T_WHITESPACE"," ",412],"=",["T_WHITESPACE"," ",412],["T_VARIABLE","$name",412],";",["T_WHITESPACE","\n                ",412],["T_VARIABLE","$routeMatched",413],["T_WHITESPACE","        ",413],"=",["T_WHITESPACE"," ",413],["T_STRING","true",413],";",["T_WHITESPACE","\n                ",413],["T_BREAK","break",414],";",["T_WHITESPACE","\n            ",414],"}",["T_WHITESPACE","\n        ",415],"}",["T_WHITESPACE","\n\n        ",416],["T_IF","if",418],["T_WHITESPACE"," ",418],"(","!",["T_VARIABLE","$routeMatched",418],")",["T_WHITESPACE"," ",418],"{",["T_WHITESPACE","\n            ",418],["T_COMMENT","#require_once 'Zend\/Controller\/Router\/Exception.php';\n",419],["T_WHITESPACE","            ",420],["T_THROW","throw",420],["T_WHITESPACE"," ",420],["T_NEW","new",420],["T_WHITESPACE"," ",420],["T_STRING","Zend_Controller_Router_Exception",420],"(",["T_CONSTANT_ENCAPSED_STRING","'No route matched the request'",420],",",["T_WHITESPACE"," ",420],["T_LNUMBER","404",420],")",";",["T_WHITESPACE","\n        ",420],"}",["T_WHITESPACE","\n\n        ",421],["T_IF","if",423],["T_WHITESPACE"," ",423],"(",["T_VARIABLE","$this",423],["T_OBJECT_OPERATOR","->",423],["T_STRING","_useCurrentParamsAsGlobal",423],")",["T_WHITESPACE"," ",423],"{",["T_WHITESPACE","\n            ",423],["T_VARIABLE","$params",424],["T_WHITESPACE"," ",424],"=",["T_WHITESPACE"," ",424],["T_VARIABLE","$request",424],["T_OBJECT_OPERATOR","->",424],["T_STRING","getParams",424],"(",")",";",["T_WHITESPACE","\n            ",424],["T_FOREACH","foreach",425],["T_WHITESPACE"," ",425],"(",["T_VARIABLE","$params",425],["T_WHITESPACE"," ",425],["T_AS","as",425],["T_WHITESPACE"," ",425],["T_VARIABLE","$param",425],["T_WHITESPACE"," ",425],["T_DOUBLE_ARROW","=>",425],["T_WHITESPACE"," ",425],["T_VARIABLE","$value",425],")",["T_WHITESPACE"," ",425],"{",["T_WHITESPACE","\n                ",425],["T_VARIABLE","$this",426],["T_OBJECT_OPERATOR","->",426],["T_STRING","setGlobalParam",426],"(",["T_VARIABLE","$param",426],",",["T_WHITESPACE"," ",426],["T_VARIABLE","$value",426],")",";",["T_WHITESPACE","\n            ",426],"}",["T_WHITESPACE","\n        ",427],"}",["T_WHITESPACE","\n\n        ",428],["T_RETURN","return",430],["T_WHITESPACE"," ",430],["T_VARIABLE","$request",430],";",["T_WHITESPACE","\n    ",430],"}",["T_WHITESPACE","\n\n    ",431],["T_DOC_COMMENT","\/**\n     * Sets parameters for request object\n     *\n     * Module name, controller name and action name\n     *\n     * @param Zend_Controller_Request_Abstract $request\n     * @param array                            $params\n     *\/",433],["T_WHITESPACE","\n    ",440],["T_PROTECTED","protected",441],["T_WHITESPACE"," ",441],["T_FUNCTION","function",441],["T_WHITESPACE"," ",441],["T_STRING","_setRequestParams",441],"(",["T_VARIABLE","$request",441],",",["T_WHITESPACE"," ",441],["T_VARIABLE","$params",441],")",["T_WHITESPACE","\n    ",441],"{",["T_WHITESPACE","\n        ",442],["T_FOREACH","foreach",443],["T_WHITESPACE"," ",443],"(",["T_VARIABLE","$params",443],["T_WHITESPACE"," ",443],["T_AS","as",443],["T_WHITESPACE"," ",443],["T_VARIABLE","$param",443],["T_WHITESPACE"," ",443],["T_DOUBLE_ARROW","=>",443],["T_WHITESPACE"," ",443],["T_VARIABLE","$value",443],")",["T_WHITESPACE"," ",443],"{",["T_WHITESPACE","\n\n            ",443],["T_VARIABLE","$request",445],["T_OBJECT_OPERATOR","->",445],["T_STRING","setParam",445],"(",["T_VARIABLE","$param",445],",",["T_WHITESPACE"," ",445],["T_VARIABLE","$value",445],")",";",["T_WHITESPACE","\n\n            ",445],["T_IF","if",447],["T_WHITESPACE"," ",447],"(",["T_VARIABLE","$param",447],["T_WHITESPACE"," ",447],["T_IS_IDENTICAL","===",447],["T_WHITESPACE"," ",447],["T_VARIABLE","$request",447],["T_OBJECT_OPERATOR","->",447],["T_STRING","getModuleKey",447],"(",")",")",["T_WHITESPACE"," ",447],"{",["T_WHITESPACE","\n                ",447],["T_VARIABLE","$request",448],["T_OBJECT_OPERATOR","->",448],["T_STRING","setModuleName",448],"(",["T_VARIABLE","$value",448],")",";",["T_WHITESPACE","\n            ",448],"}",["T_WHITESPACE","\n            ",449],["T_IF","if",450],["T_WHITESPACE"," ",450],"(",["T_VARIABLE","$param",450],["T_WHITESPACE"," ",450],["T_IS_IDENTICAL","===",450],["T_WHITESPACE"," ",450],["T_VARIABLE","$request",450],["T_OBJECT_OPERATOR","->",450],["T_STRING","getControllerKey",450],"(",")",")",["T_WHITESPACE"," ",450],"{",["T_WHITESPACE","\n                ",450],["T_VARIABLE","$request",451],["T_OBJECT_OPERATOR","->",451],["T_STRING","setControllerName",451],"(",["T_VARIABLE","$value",451],")",";",["T_WHITESPACE","\n            ",451],"}",["T_WHITESPACE","\n            ",452],["T_IF","if",453],["T_WHITESPACE"," ",453],"(",["T_VARIABLE","$param",453],["T_WHITESPACE"," ",453],["T_IS_IDENTICAL","===",453],["T_WHITESPACE"," ",453],["T_VARIABLE","$request",453],["T_OBJECT_OPERATOR","->",453],["T_STRING","getActionKey",453],"(",")",")",["T_WHITESPACE"," ",453],"{",["T_WHITESPACE","\n                ",453],["T_VARIABLE","$request",454],["T_OBJECT_OPERATOR","->",454],["T_STRING","setActionName",454],"(",["T_VARIABLE","$value",454],")",";",["T_WHITESPACE","\n            ",454],"}",["T_WHITESPACE","\n        ",455],"}",["T_WHITESPACE","\n    ",456],"}",["T_WHITESPACE","\n\n    ",457],["T_DOC_COMMENT","\/**\n     * Generates a URL path that can be used in URL creation, redirection, etc.\n     *\n     * @param  array $userParams Options passed by a user used to override parameters\n     * @param  mixed $name       The name of a Route to use\n     * @param  bool  $reset      Whether to reset to the route defaults ignoring URL params\n     * @param  bool  $encode     Tells to encode URL parts on output\n     * @throws Zend_Controller_Router_Exception\n     * @return string Resulting absolute URL path\n     *\/",459],["T_WHITESPACE","\n    ",468],["T_PUBLIC","public",469],["T_WHITESPACE"," ",469],["T_FUNCTION","function",469],["T_WHITESPACE"," ",469],["T_STRING","assemble",469],"(",["T_VARIABLE","$userParams",469],",",["T_WHITESPACE"," ",469],["T_VARIABLE","$name",469],["T_WHITESPACE"," ",469],"=",["T_WHITESPACE"," ",469],["T_STRING","null",469],",",["T_WHITESPACE"," ",469],["T_VARIABLE","$reset",469],["T_WHITESPACE"," ",469],"=",["T_WHITESPACE"," ",469],["T_STRING","false",469],",",["T_WHITESPACE"," ",469],["T_VARIABLE","$encode",469],["T_WHITESPACE"," ",469],"=",["T_WHITESPACE"," ",469],["T_STRING","true",469],")",["T_WHITESPACE","\n    ",469],"{",["T_WHITESPACE","\n        ",470],["T_IF","if",471],["T_WHITESPACE"," ",471],"(","!",["T_STRING","is_array",471],"(",["T_VARIABLE","$userParams",471],")",")",["T_WHITESPACE"," ",471],"{",["T_WHITESPACE","\n            ",471],["T_COMMENT","#require_once 'Zend\/Controller\/Router\/Exception.php';\n",472],["T_WHITESPACE","            ",473],["T_THROW","throw",473],["T_WHITESPACE"," ",473],["T_NEW","new",473],["T_WHITESPACE"," ",473],["T_STRING","Zend_Controller_Router_Exception",473],"(",["T_CONSTANT_ENCAPSED_STRING","'userParams must be an array'",473],")",";",["T_WHITESPACE","\n        ",473],"}",["T_WHITESPACE","\n\n        ",474],["T_IF","if",476],["T_WHITESPACE"," ",476],"(",["T_VARIABLE","$name",476],["T_WHITESPACE"," ",476],["T_IS_EQUAL","==",476],["T_WHITESPACE"," ",476],["T_STRING","null",476],")",["T_WHITESPACE"," ",476],"{",["T_WHITESPACE","\n            ",476],["T_TRY","try",477],["T_WHITESPACE"," ",477],"{",["T_WHITESPACE","\n                ",477],["T_VARIABLE","$name",478],["T_WHITESPACE"," ",478],"=",["T_WHITESPACE"," ",478],["T_VARIABLE","$this",478],["T_OBJECT_OPERATOR","->",478],["T_STRING","getCurrentRouteName",478],"(",")",";",["T_WHITESPACE","\n            ",478],"}",["T_WHITESPACE"," ",479],["T_CATCH","catch",479],["T_WHITESPACE"," ",479],"(",["T_STRING","Zend_Controller_Router_Exception",479],["T_WHITESPACE"," ",479],["T_VARIABLE","$e",479],")",["T_WHITESPACE"," ",479],"{",["T_WHITESPACE","\n                ",479],["T_VARIABLE","$name",480],["T_WHITESPACE"," ",480],"=",["T_WHITESPACE"," ",480],["T_CONSTANT_ENCAPSED_STRING","'default'",480],";",["T_WHITESPACE","\n            ",480],"}",["T_WHITESPACE","\n        ",481],"}",["T_WHITESPACE","\n\n        ",482],["T_COMMENT","\/\/ Use UNION (+) in order to preserve numeric keys\n",484],["T_WHITESPACE","        ",485],["T_VARIABLE","$params",485],["T_WHITESPACE"," ",485],"=",["T_WHITESPACE"," ",485],["T_VARIABLE","$userParams",485],["T_WHITESPACE"," ",485],"+",["T_WHITESPACE"," ",485],["T_VARIABLE","$this",485],["T_OBJECT_OPERATOR","->",485],["T_STRING","_globalParams",485],";",["T_WHITESPACE","\n\n        ",485],["T_VARIABLE","$route",487],["T_WHITESPACE"," ",487],"=",["T_WHITESPACE"," ",487],["T_VARIABLE","$this",487],["T_OBJECT_OPERATOR","->",487],["T_STRING","getRoute",487],"(",["T_VARIABLE","$name",487],")",";",["T_WHITESPACE","\n        ",487],["T_VARIABLE","$url",488],["T_WHITESPACE","   ",488],"=",["T_WHITESPACE"," ",488],["T_VARIABLE","$route",488],["T_OBJECT_OPERATOR","->",488],["T_STRING","assemble",488],"(",["T_VARIABLE","$params",488],",",["T_WHITESPACE"," ",488],["T_VARIABLE","$reset",488],",",["T_WHITESPACE"," ",488],["T_VARIABLE","$encode",488],")",";",["T_WHITESPACE","\n\n        ",488],["T_IF","if",490],["T_WHITESPACE"," ",490],"(","!",["T_STRING","preg_match",490],"(",["T_CONSTANT_ENCAPSED_STRING","'|^[a-z]+:\/\/|'",490],",",["T_WHITESPACE"," ",490],["T_VARIABLE","$url",490],")",")",["T_WHITESPACE"," ",490],"{",["T_WHITESPACE","\n            ",490],["T_VARIABLE","$url",491],["T_WHITESPACE"," ",491],"=",["T_WHITESPACE"," ",491],["T_STRING","rtrim",491],"(",["T_VARIABLE","$this",491],["T_OBJECT_OPERATOR","->",491],["T_STRING","getFrontController",491],"(",")",["T_OBJECT_OPERATOR","->",491],["T_STRING","getBaseUrl",491],"(",")",",",["T_WHITESPACE"," ",491],["T_STRING","self",491],["T_DOUBLE_COLON","::",491],["T_STRING","URI_DELIMITER",491],")",["T_WHITESPACE"," ",491],".",["T_WHITESPACE"," ",491],["T_STRING","self",491],["T_DOUBLE_COLON","::",491],["T_STRING","URI_DELIMITER",491],["T_WHITESPACE"," ",491],".",["T_WHITESPACE"," ",491],["T_VARIABLE","$url",491],";",["T_WHITESPACE","\n        ",491],"}",["T_WHITESPACE","\n\n        ",492],["T_RETURN","return",494],["T_WHITESPACE"," ",494],["T_VARIABLE","$url",494],";",["T_WHITESPACE","\n    ",494],"}",["T_WHITESPACE","\n\n    ",495],["T_DOC_COMMENT","\/**\n     * Set a global parameter\n     *\n     * @param  string $name\n     * @param  mixed  $value\n     * @return Zend_Controller_Router_Rewrite\n     *\/",497],["T_WHITESPACE","\n    ",503],["T_PUBLIC","public",504],["T_WHITESPACE"," ",504],["T_FUNCTION","function",504],["T_WHITESPACE"," ",504],["T_STRING","setGlobalParam",504],"(",["T_VARIABLE","$name",504],",",["T_WHITESPACE"," ",504],["T_VARIABLE","$value",504],")",["T_WHITESPACE","\n    ",504],"{",["T_WHITESPACE","\n        ",505],["T_VARIABLE","$this",506],["T_OBJECT_OPERATOR","->",506],["T_STRING","_globalParams",506],"[",["T_VARIABLE","$name",506],"]",["T_WHITESPACE"," ",506],"=",["T_WHITESPACE"," ",506],["T_VARIABLE","$value",506],";",["T_WHITESPACE","\n\n        ",506],["T_RETURN","return",508],["T_WHITESPACE"," ",508],["T_VARIABLE","$this",508],";",["T_WHITESPACE","\n    ",508],"}",["T_WHITESPACE","\n\n    ",509],["T_DOC_COMMENT","\/**\n     * Set the separator to use with chain names\n     *\n     * @param string $separator The separator to use\n     * @return Zend_Controller_Router_Rewrite\n     *\/",511],["T_WHITESPACE","\n    ",516],["T_PUBLIC","public",517],["T_WHITESPACE"," ",517],["T_FUNCTION","function",517],["T_WHITESPACE"," ",517],["T_STRING","setChainNameSeparator",517],"(",["T_VARIABLE","$separator",517],")",["T_WHITESPACE","\n    ",517],"{",["T_WHITESPACE","\n        ",518],["T_VARIABLE","$this",519],["T_OBJECT_OPERATOR","->",519],["T_STRING","_chainNameSeparator",519],["T_WHITESPACE"," ",519],"=",["T_WHITESPACE"," ",519],["T_VARIABLE","$separator",519],";",["T_WHITESPACE","\n\n        ",519],["T_RETURN","return",521],["T_WHITESPACE"," ",521],["T_VARIABLE","$this",521],";",["T_WHITESPACE","\n    ",521],"}",["T_WHITESPACE","\n\n    ",522],["T_DOC_COMMENT","\/**\n     * Get the separator to use for chain names\n     *\n     * @return string\n     *\/",524],["T_WHITESPACE","\n    ",528],["T_PUBLIC","public",529],["T_WHITESPACE"," ",529],["T_FUNCTION","function",529],["T_WHITESPACE"," ",529],["T_STRING","getChainNameSeparator",529],"(",")",["T_WHITESPACE","\n    ",529],"{",["T_WHITESPACE","\n        ",530],["T_RETURN","return",531],["T_WHITESPACE"," ",531],["T_VARIABLE","$this",531],["T_OBJECT_OPERATOR","->",531],["T_STRING","_chainNameSeparator",531],";",["T_WHITESPACE","\n    ",531],"}",["T_WHITESPACE","\n\n    ",532],["T_DOC_COMMENT","\/**\n     * Determines\/returns whether to use the request parameters as global parameters.\n     *\n     * @param boolean|null $use\n     *              Null\/unset when you want to retrieve the current state.\n     *              True when request parameters should be global, false otherwise\n     * @return boolean|Zend_Controller_Router_Rewrite\n     *              Returns a boolean if first param isn't set, returns an\n     *              instance of Zend_Controller_Router_Rewrite otherwise.\n     *\n     *\/",534],["T_WHITESPACE","\n    ",544],["T_PUBLIC","public",545],["T_WHITESPACE"," ",545],["T_FUNCTION","function",545],["T_WHITESPACE"," ",545],["T_STRING","useRequestParametersAsGlobal",545],"(",["T_VARIABLE","$use",545],["T_WHITESPACE"," ",545],"=",["T_WHITESPACE"," ",545],["T_STRING","null",545],")",["T_WHITESPACE","\n    ",545],"{",["T_WHITESPACE","\n        ",546],["T_IF","if",547],["T_WHITESPACE"," ",547],"(",["T_VARIABLE","$use",547],["T_WHITESPACE"," ",547],["T_IS_IDENTICAL","===",547],["T_WHITESPACE"," ",547],["T_STRING","null",547],")",["T_WHITESPACE"," ",547],"{",["T_WHITESPACE","\n            ",547],["T_RETURN","return",548],["T_WHITESPACE"," ",548],["T_VARIABLE","$this",548],["T_OBJECT_OPERATOR","->",548],["T_STRING","_useCurrentParamsAsGlobal",548],";",["T_WHITESPACE","\n        ",548],"}",["T_WHITESPACE","\n\n        ",549],["T_VARIABLE","$this",551],["T_OBJECT_OPERATOR","->",551],["T_STRING","_useCurrentParamsAsGlobal",551],["T_WHITESPACE"," ",551],"=",["T_WHITESPACE"," ",551],["T_BOOL_CAST","(bool)",551],["T_VARIABLE","$use",551],";",["T_WHITESPACE","\n\n        ",551],["T_RETURN","return",553],["T_WHITESPACE"," ",553],["T_VARIABLE","$this",553],";",["T_WHITESPACE","\n    ",553],"}",["T_WHITESPACE","\n",554],"}",["T_WHITESPACE","\n",555]]