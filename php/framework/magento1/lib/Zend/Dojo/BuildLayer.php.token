[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Zend Framework\n *\n * LICENSE\n *\n * This source file is subject to the new BSD license that is bundled\n * with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/framework.zend.com\/license\/new-bsd\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@zend.com so we can send you a copy immediately.\n *\n * @category   Zend\n * @package    Zend_Dojo\n * @copyright  Copyright (c) 2005-2015 Zend Technologies USA Inc. (http:\/\/www.zend.com)\n * @license    http:\/\/framework.zend.com\/license\/new-bsd     New BSD License\n * @version    $Id$\n *\/",2],["T_WHITESPACE","\n\n",20],["T_DOC_COMMENT","\/**\n * Dojo module layer and custom build profile generation support\n *\n * @package    Zend_Dojo\n * @copyright  Copyright (c) 2005-2015 Zend Technologies USA Inc. (http:\/\/www.zend.com)\n * @license    http:\/\/framework.zend.com\/license\/new-bsd     New BSD License\n *\/",22],["T_WHITESPACE","\n",28],["T_CLASS","class",29],["T_WHITESPACE"," ",29],["T_STRING","Zend_Dojo_BuildLayer",29],["T_WHITESPACE","\n",29],"{",["T_WHITESPACE","\n    ",30],["T_DOC_COMMENT","\/**\n     * Flag: whether or not to consume JS aggregated in the dojo() view\n     * helper when generate the module layer contents\n     * @var bool\n     *\/",31],["T_WHITESPACE","\n    ",35],["T_PROTECTED","protected",36],["T_WHITESPACE"," ",36],["T_VARIABLE","$_consumeJavascript",36],["T_WHITESPACE"," ",36],"=",["T_WHITESPACE"," ",36],["T_STRING","false",36],";",["T_WHITESPACE","\n\n    ",36],["T_DOC_COMMENT","\/**\n     * Flag: whether or not to consume dojo.addOnLoad events registered\n     * with the dojo() view helper when generating the module layer file\n     * contents\n     * @var bool\n     *\/",38],["T_WHITESPACE","\n    ",43],["T_PROTECTED","protected",44],["T_WHITESPACE"," ",44],["T_VARIABLE","$_consumeOnLoad",44],["T_WHITESPACE"," ",44],"=",["T_WHITESPACE"," ",44],["T_STRING","false",44],";",["T_WHITESPACE","\n\n    ",44],["T_DOC_COMMENT","\/**\n     * Dojo view helper reference\n     * @var Zend_Dojo_View_Helper_Dojo_Container\n     *\/",46],["T_WHITESPACE","\n    ",49],["T_PROTECTED","protected",50],["T_WHITESPACE"," ",50],["T_VARIABLE","$_dojo",50],";",["T_WHITESPACE","\n\n    ",50],["T_DOC_COMMENT","\/**\n     * Name of the custom layer to generate\n     * @var string\n     *\/",52],["T_WHITESPACE","\n    ",55],["T_PROTECTED","protected",56],["T_WHITESPACE"," ",56],["T_VARIABLE","$_layerName",56],";",["T_WHITESPACE","\n\n    ",56],["T_DOC_COMMENT","\/**\n     * Path to the custom layer script relative to dojo.js (used when\n     * creating the build profile)\n     * @var string\n     *\/",58],["T_WHITESPACE","\n    ",62],["T_PROTECTED","protected",63],["T_WHITESPACE"," ",63],["T_VARIABLE","$_layerScriptPath",63],";",["T_WHITESPACE","\n\n    ",63],["T_DOC_COMMENT","\/**\n     * Build profile options\n     * @var array\n     *\/",65],["T_WHITESPACE","\n    ",68],["T_PROTECTED","protected",69],["T_WHITESPACE"," ",69],["T_VARIABLE","$_profileOptions",69],["T_WHITESPACE"," ",69],"=",["T_WHITESPACE"," ",69],["T_ARRAY","array",69],"(",["T_WHITESPACE","\n        ",69],["T_CONSTANT_ENCAPSED_STRING","'action'",70],["T_WHITESPACE","        ",70],["T_DOUBLE_ARROW","=>",70],["T_WHITESPACE"," ",70],["T_CONSTANT_ENCAPSED_STRING","'release'",70],",",["T_WHITESPACE","\n        ",70],["T_CONSTANT_ENCAPSED_STRING","'optimize'",71],["T_WHITESPACE","      ",71],["T_DOUBLE_ARROW","=>",71],["T_WHITESPACE"," ",71],["T_CONSTANT_ENCAPSED_STRING","'shrinksafe'",71],",",["T_WHITESPACE","\n        ",71],["T_CONSTANT_ENCAPSED_STRING","'layerOptimize'",72],["T_WHITESPACE"," ",72],["T_DOUBLE_ARROW","=>",72],["T_WHITESPACE"," ",72],["T_CONSTANT_ENCAPSED_STRING","'shrinksafe'",72],",",["T_WHITESPACE","\n        ",72],["T_CONSTANT_ENCAPSED_STRING","'copyTests'",73],["T_WHITESPACE","     ",73],["T_DOUBLE_ARROW","=>",73],["T_WHITESPACE"," ",73],["T_STRING","false",73],",",["T_WHITESPACE","\n        ",73],["T_CONSTANT_ENCAPSED_STRING","'loader'",74],["T_WHITESPACE","        ",74],["T_DOUBLE_ARROW","=>",74],["T_WHITESPACE"," ",74],["T_CONSTANT_ENCAPSED_STRING","'default'",74],",",["T_WHITESPACE","\n        ",74],["T_CONSTANT_ENCAPSED_STRING","'cssOptimize'",75],["T_WHITESPACE","   ",75],["T_DOUBLE_ARROW","=>",75],["T_WHITESPACE"," ",75],["T_CONSTANT_ENCAPSED_STRING","'comments'",75],",",["T_WHITESPACE","\n    ",75],")",";",["T_WHITESPACE","\n\n    ",76],["T_DOC_COMMENT","\/**\n     * Associative array of module\/path pairs for the build profile\n     * @var array\n     *\/",78],["T_WHITESPACE","\n    ",81],["T_PROTECTED","protected",82],["T_WHITESPACE"," ",82],["T_VARIABLE","$_profilePrefixes",82],["T_WHITESPACE"," ",82],"=",["T_WHITESPACE"," ",82],["T_ARRAY","array",82],"(",")",";",["T_WHITESPACE","\n\n    ",82],["T_DOC_COMMENT","\/**\n     * Zend_View reference\n     * @var Zend_View_Interface\n     *\/",84],["T_WHITESPACE","\n    ",87],["T_PROTECTED","protected",88],["T_WHITESPACE"," ",88],["T_VARIABLE","$_view",88],";",["T_WHITESPACE","\n\n    ",88],["T_DOC_COMMENT","\/**\n     * Constructor\n     *\n     * @param  array|Zend_Config $options\n     * @return void\n     * @throws Zend_Dojo_Exception for invalid option argument\n     *\/",90],["T_WHITESPACE","\n    ",96],["T_PUBLIC","public",97],["T_WHITESPACE"," ",97],["T_FUNCTION","function",97],["T_WHITESPACE"," ",97],["T_STRING","__construct",97],"(",["T_VARIABLE","$options",97],["T_WHITESPACE"," ",97],"=",["T_WHITESPACE"," ",97],["T_STRING","null",97],")",["T_WHITESPACE","\n    ",97],"{",["T_WHITESPACE","\n        ",98],["T_IF","if",99],["T_WHITESPACE"," ",99],"(",["T_STRING","null",99],["T_WHITESPACE"," ",99],["T_IS_NOT_IDENTICAL","!==",99],["T_WHITESPACE"," ",99],["T_VARIABLE","$options",99],")",["T_WHITESPACE"," ",99],"{",["T_WHITESPACE","\n            ",99],["T_IF","if",100],["T_WHITESPACE"," ",100],"(",["T_VARIABLE","$options",100],["T_WHITESPACE"," ",100],["T_INSTANCEOF","instanceof",100],["T_WHITESPACE"," ",100],["T_STRING","Zend_Config",100],")",["T_WHITESPACE"," ",100],"{",["T_WHITESPACE","\n                ",100],["T_VARIABLE","$options",101],["T_WHITESPACE"," ",101],"=",["T_WHITESPACE"," ",101],["T_VARIABLE","$options",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","toArray",101],"(",")",";",["T_WHITESPACE","\n            ",101],"}",["T_WHITESPACE"," ",102],["T_ELSEIF","elseif",102],["T_WHITESPACE"," ",102],"(","!",["T_STRING","is_array",102],"(",["T_VARIABLE","$options",102],")",")",["T_WHITESPACE"," ",102],"{",["T_WHITESPACE","\n                ",102],["T_COMMENT","#require_once 'Zend\/Dojo\/Exception.php';\n",103],["T_WHITESPACE","                ",104],["T_THROW","throw",104],["T_WHITESPACE"," ",104],["T_NEW","new",104],["T_WHITESPACE"," ",104],["T_STRING","Zend_Dojo_Exception",104],"(",["T_CONSTANT_ENCAPSED_STRING","'Invalid options provided to constructor'",104],")",";",["T_WHITESPACE","\n            ",104],"}",["T_WHITESPACE","\n            ",105],["T_VARIABLE","$this",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","setOptions",106],"(",["T_VARIABLE","$options",106],")",";",["T_WHITESPACE","\n        ",106],"}",["T_WHITESPACE","\n    ",107],"}",["T_WHITESPACE","\n\n    ",108],["T_DOC_COMMENT","\/**\n     * Set options\n     *\n     * Proxies to any setter that matches an option key.\n     *\n     * @param  array $options\n     * @return Zend_Dojo_BuildLayer\n     *\/",110],["T_WHITESPACE","\n    ",117],["T_PUBLIC","public",118],["T_WHITESPACE"," ",118],["T_FUNCTION","function",118],["T_WHITESPACE"," ",118],["T_STRING","setOptions",118],"(",["T_ARRAY","array",118],["T_WHITESPACE"," ",118],["T_VARIABLE","$options",118],")",["T_WHITESPACE","\n    ",118],"{",["T_WHITESPACE","\n        ",119],["T_VARIABLE","$methods",120],["T_WHITESPACE"," ",120],"=",["T_WHITESPACE"," ",120],["T_STRING","get_class_methods",120],"(",["T_VARIABLE","$this",120],")",";",["T_WHITESPACE","\n        ",120],["T_FOREACH","foreach",121],["T_WHITESPACE"," ",121],"(",["T_VARIABLE","$options",121],["T_WHITESPACE"," ",121],["T_AS","as",121],["T_WHITESPACE"," ",121],["T_VARIABLE","$key",121],["T_WHITESPACE"," ",121],["T_DOUBLE_ARROW","=>",121],["T_WHITESPACE"," ",121],["T_VARIABLE","$value",121],")",["T_WHITESPACE"," ",121],"{",["T_WHITESPACE","\n            ",121],["T_VARIABLE","$method",122],["T_WHITESPACE"," ",122],"=",["T_WHITESPACE"," ",122],["T_CONSTANT_ENCAPSED_STRING","'set'",122],["T_WHITESPACE"," ",122],".",["T_WHITESPACE"," ",122],["T_STRING","ucfirst",122],"(",["T_VARIABLE","$key",122],")",";",["T_WHITESPACE","\n            ",122],["T_IF","if",123],["T_WHITESPACE"," ",123],"(",["T_STRING","in_array",123],"(",["T_VARIABLE","$method",123],",",["T_WHITESPACE"," ",123],["T_VARIABLE","$methods",123],")",")",["T_WHITESPACE"," ",123],"{",["T_WHITESPACE","\n                ",123],["T_VARIABLE","$this",124],["T_OBJECT_OPERATOR","->",124],["T_VARIABLE","$method",124],"(",["T_VARIABLE","$value",124],")",";",["T_WHITESPACE","\n            ",124],"}",["T_WHITESPACE","\n        ",125],"}",["T_WHITESPACE","\n        ",126],["T_RETURN","return",127],["T_WHITESPACE"," ",127],["T_VARIABLE","$this",127],";",["T_WHITESPACE","\n    ",127],"}",["T_WHITESPACE","\n\n    ",128],["T_DOC_COMMENT","\/**\n     * Set View object\n     *\n     * @param  Zend_View_Interface $view\n     * @return Zend_Dojo_BuildLayer\n     *\/",130],["T_WHITESPACE","\n    ",135],["T_PUBLIC","public",136],["T_WHITESPACE"," ",136],["T_FUNCTION","function",136],["T_WHITESPACE"," ",136],["T_STRING","setView",136],"(",["T_STRING","Zend_View_Interface",136],["T_WHITESPACE"," ",136],["T_VARIABLE","$view",136],")",["T_WHITESPACE","\n    ",136],"{",["T_WHITESPACE","\n        ",137],["T_VARIABLE","$this",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","_view",138],["T_WHITESPACE"," ",138],"=",["T_WHITESPACE"," ",138],["T_VARIABLE","$view",138],";",["T_WHITESPACE","\n        ",138],["T_RETURN","return",139],["T_WHITESPACE"," ",139],["T_VARIABLE","$this",139],";",["T_WHITESPACE","\n    ",139],"}",["T_WHITESPACE","\n\n    ",140],["T_DOC_COMMENT","\/**\n     * Retrieve view object\n     *\n     * @return Zend_View_Interface|null\n     *\/",142],["T_WHITESPACE","\n    ",146],["T_PUBLIC","public",147],["T_WHITESPACE"," ",147],["T_FUNCTION","function",147],["T_WHITESPACE"," ",147],["T_STRING","getView",147],"(",")",["T_WHITESPACE","\n    ",147],"{",["T_WHITESPACE","\n        ",148],["T_RETURN","return",149],["T_WHITESPACE"," ",149],["T_VARIABLE","$this",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","_view",149],";",["T_WHITESPACE","\n    ",149],"}",["T_WHITESPACE","\n\n    ",150],["T_DOC_COMMENT","\/**\n     * Set dojo() view helper instance\n     *\n     * @param  Zend_Dojo_View_Helper_Dojo_Container $helper\n     * @return Zend_Dojo_BuildLayer\n     *\/",152],["T_WHITESPACE","\n    ",157],["T_PUBLIC","public",158],["T_WHITESPACE"," ",158],["T_FUNCTION","function",158],["T_WHITESPACE"," ",158],["T_STRING","setDojoHelper",158],"(",["T_STRING","Zend_Dojo_View_Helper_Dojo_Container",158],["T_WHITESPACE"," ",158],["T_VARIABLE","$helper",158],")",["T_WHITESPACE","\n    ",158],"{",["T_WHITESPACE","\n        ",159],["T_VARIABLE","$this",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","_dojo",160],["T_WHITESPACE"," ",160],"=",["T_WHITESPACE"," ",160],["T_VARIABLE","$helper",160],";",["T_WHITESPACE","\n        ",160],["T_RETURN","return",161],["T_WHITESPACE"," ",161],["T_VARIABLE","$this",161],";",["T_WHITESPACE","\n    ",161],"}",["T_WHITESPACE","\n\n    ",162],["T_DOC_COMMENT","\/**\n     * Retrieve dojo() view helper instance\n     *\n     * Will retrieve it from the view object if not registered.\n     *\n     * @return Zend_Dojo_View_Helper_Dojo_Container\n     * @throws Zend_Dojo_Exception if not registered and no view object found\n     *\/",164],["T_WHITESPACE","\n    ",171],["T_PUBLIC","public",172],["T_WHITESPACE"," ",172],["T_FUNCTION","function",172],["T_WHITESPACE"," ",172],["T_STRING","getDojoHelper",172],"(",")",["T_WHITESPACE","\n    ",172],"{",["T_WHITESPACE","\n        ",173],["T_IF","if",174],["T_WHITESPACE"," ",174],"(",["T_STRING","null",174],["T_WHITESPACE"," ",174],["T_IS_IDENTICAL","===",174],["T_WHITESPACE"," ",174],["T_VARIABLE","$this",174],["T_OBJECT_OPERATOR","->",174],["T_STRING","_dojo",174],")",["T_WHITESPACE"," ",174],"{",["T_WHITESPACE","\n            ",174],["T_IF","if",175],["T_WHITESPACE"," ",175],"(",["T_STRING","null",175],["T_WHITESPACE"," ",175],["T_IS_IDENTICAL","===",175],["T_WHITESPACE"," ",175],"(",["T_VARIABLE","$view",175],["T_WHITESPACE"," ",175],"=",["T_WHITESPACE"," ",175],["T_VARIABLE","$this",175],["T_OBJECT_OPERATOR","->",175],["T_STRING","getView",175],"(",")",")",")",["T_WHITESPACE"," ",175],"{",["T_WHITESPACE","\n                ",175],["T_COMMENT","#require_once 'Zend\/Dojo\/Exception.php';\n",176],["T_WHITESPACE","                ",177],["T_THROW","throw",177],["T_WHITESPACE"," ",177],["T_NEW","new",177],["T_WHITESPACE"," ",177],["T_STRING","Zend_Dojo_Exception",177],"(",["T_CONSTANT_ENCAPSED_STRING","'View object not registered; cannot retrieve dojo helper'",177],")",";",["T_WHITESPACE","\n            ",177],"}",["T_WHITESPACE","\n            ",178],["T_VARIABLE","$helper",179],["T_WHITESPACE"," ",179],"=",["T_WHITESPACE"," ",179],["T_VARIABLE","$view",179],["T_OBJECT_OPERATOR","->",179],["T_STRING","getHelper",179],"(",["T_CONSTANT_ENCAPSED_STRING","'dojo'",179],")",";",["T_WHITESPACE","\n            ",179],["T_VARIABLE","$this",180],["T_OBJECT_OPERATOR","->",180],["T_STRING","setDojoHelper",180],"(",["T_VARIABLE","$view",180],["T_OBJECT_OPERATOR","->",180],["T_STRING","dojo",180],"(",")",")",";",["T_WHITESPACE","\n        ",180],"}",["T_WHITESPACE","\n        ",181],["T_RETURN","return",182],["T_WHITESPACE"," ",182],["T_VARIABLE","$this",182],["T_OBJECT_OPERATOR","->",182],["T_STRING","_dojo",182],";",["T_WHITESPACE","\n    ",182],"}",["T_WHITESPACE","\n\n    ",183],["T_DOC_COMMENT","\/**\n     * Set custom layer name; e.g. \"custom.main\"\n     *\n     * @param  string $name\n     * @return Zend_Dojo_BuildLayer\n     *\/",185],["T_WHITESPACE","\n    ",190],["T_PUBLIC","public",191],["T_WHITESPACE"," ",191],["T_FUNCTION","function",191],["T_WHITESPACE"," ",191],["T_STRING","setLayerName",191],"(",["T_VARIABLE","$name",191],")",["T_WHITESPACE","\n    ",191],"{",["T_WHITESPACE","\n        ",192],["T_IF","if",193],["T_WHITESPACE"," ",193],"(","!",["T_STRING","preg_match",193],"(",["T_CONSTANT_ENCAPSED_STRING","'\/^[a-z][a-z0-9_]*(\\.[a-z][a-z0-9_]*)+$\/i'",193],",",["T_WHITESPACE"," ",193],["T_VARIABLE","$name",193],")",")",["T_WHITESPACE"," ",193],"{",["T_WHITESPACE","\n            ",193],["T_COMMENT","#require_once 'Zend\/Dojo\/Exception.php';\n",194],["T_WHITESPACE","            ",195],["T_THROW","throw",195],["T_WHITESPACE"," ",195],["T_NEW","new",195],["T_WHITESPACE"," ",195],["T_STRING","Zend_Dojo_Exception",195],"(",["T_CONSTANT_ENCAPSED_STRING","'Invalid layer name provided; must be of form[a-z][a-z0-9_](\\.[a-z][a-z0-9_])+'",195],")",";",["T_WHITESPACE","\n        ",195],"}",["T_WHITESPACE","\n        ",196],["T_VARIABLE","$this",197],["T_OBJECT_OPERATOR","->",197],["T_STRING","_layerName",197],["T_WHITESPACE"," ",197],"=",["T_WHITESPACE"," ",197],["T_VARIABLE","$name",197],";",["T_WHITESPACE","\n        ",197],["T_RETURN","return",198],["T_WHITESPACE"," ",198],["T_VARIABLE","$this",198],";",["T_WHITESPACE","\n    ",198],"}",["T_WHITESPACE","\n\n    ",199],["T_DOC_COMMENT","\/**\n     * Retrieve custom layer name\n     *\n     * @return string|null\n     *\/",201],["T_WHITESPACE","\n    ",205],["T_PUBLIC","public",206],["T_WHITESPACE"," ",206],["T_FUNCTION","function",206],["T_WHITESPACE"," ",206],["T_STRING","getLayerName",206],"(",")",["T_WHITESPACE","\n    ",206],"{",["T_WHITESPACE","\n        ",207],["T_RETURN","return",208],["T_WHITESPACE"," ",208],["T_VARIABLE","$this",208],["T_OBJECT_OPERATOR","->",208],["T_STRING","_layerName",208],";",["T_WHITESPACE","\n    ",208],"}",["T_WHITESPACE","\n\n    ",209],["T_DOC_COMMENT","\/**\n     * Set the path to the custom layer script\n     *\n     * Should be a path relative to dojo.js\n     *\n     * @param  string $path\n     * @return Zend_Dojo_BuildLayer\n     *\/",211],["T_WHITESPACE","\n    ",218],["T_PUBLIC","public",219],["T_WHITESPACE"," ",219],["T_FUNCTION","function",219],["T_WHITESPACE"," ",219],["T_STRING","setLayerScriptPath",219],"(",["T_VARIABLE","$path",219],")",["T_WHITESPACE","\n    ",219],"{",["T_WHITESPACE","\n        ",220],["T_VARIABLE","$this",221],["T_OBJECT_OPERATOR","->",221],["T_STRING","_layerScriptPath",221],["T_WHITESPACE"," ",221],"=",["T_WHITESPACE"," ",221],["T_STRING_CAST","(string)",221],["T_WHITESPACE"," ",221],["T_VARIABLE","$path",221],";",["T_WHITESPACE","\n        ",221],["T_RETURN","return",222],["T_WHITESPACE"," ",222],["T_VARIABLE","$this",222],";",["T_WHITESPACE","\n    ",222],"}",["T_WHITESPACE","\n\n    ",223],["T_DOC_COMMENT","\/**\n     * Get custom layer script path\n     *\n     * @return string|null\n     *\/",225],["T_WHITESPACE","\n    ",229],["T_PUBLIC","public",230],["T_WHITESPACE"," ",230],["T_FUNCTION","function",230],["T_WHITESPACE"," ",230],["T_STRING","getLayerScriptPath",230],"(",")",["T_WHITESPACE","\n    ",230],"{",["T_WHITESPACE","\n        ",231],["T_RETURN","return",232],["T_WHITESPACE"," ",232],["T_VARIABLE","$this",232],["T_OBJECT_OPERATOR","->",232],["T_STRING","_layerScriptPath",232],";",["T_WHITESPACE","\n    ",232],"}",["T_WHITESPACE","\n\n    ",233],["T_DOC_COMMENT","\/**\n     * Set flag indicating whether or not to consume JS aggregated in dojo()\n     * view helper\n     *\n     * @param  bool $flag\n     * @return Zend_Dojo_BuildLayer\n     *\/",235],["T_WHITESPACE","\n    ",241],["T_PUBLIC","public",242],["T_WHITESPACE"," ",242],["T_FUNCTION","function",242],["T_WHITESPACE"," ",242],["T_STRING","setConsumeJavascript",242],"(",["T_VARIABLE","$flag",242],")",["T_WHITESPACE","\n    ",242],"{",["T_WHITESPACE","\n        ",243],["T_VARIABLE","$this",244],["T_OBJECT_OPERATOR","->",244],["T_STRING","_consumeJavascript",244],["T_WHITESPACE"," ",244],"=",["T_WHITESPACE"," ",244],["T_BOOL_CAST","(bool)",244],["T_WHITESPACE"," ",244],["T_VARIABLE","$flag",244],";",["T_WHITESPACE","\n        ",244],["T_RETURN","return",245],["T_WHITESPACE"," ",245],["T_VARIABLE","$this",245],";",["T_WHITESPACE","\n    ",245],"}",["T_WHITESPACE","\n\n    ",246],["T_DOC_COMMENT","\/**\n     * Get flag indicating whether or not to consume JS aggregated in dojo()\n     * view helper\n     *\n     * @return bool\n     *\/",248],["T_WHITESPACE","\n    ",253],["T_PUBLIC","public",254],["T_WHITESPACE"," ",254],["T_FUNCTION","function",254],["T_WHITESPACE"," ",254],["T_STRING","consumeJavascript",254],"(",")",["T_WHITESPACE","\n    ",254],"{",["T_WHITESPACE","\n        ",255],["T_RETURN","return",256],["T_WHITESPACE"," ",256],["T_VARIABLE","$this",256],["T_OBJECT_OPERATOR","->",256],["T_STRING","_consumeJavascript",256],";",["T_WHITESPACE","\n    ",256],"}",["T_WHITESPACE","\n\n    ",257],["T_DOC_COMMENT","\/**\n     * Set flag indicating whether or not to consume dojo.addOnLoad events\n     * aggregated in dojo() view helper\n     *\n     * @param  bool $flag\n     * @return Zend_Dojo_BuildLayer\n     *\/",259],["T_WHITESPACE","\n    ",265],["T_PUBLIC","public",266],["T_WHITESPACE"," ",266],["T_FUNCTION","function",266],["T_WHITESPACE"," ",266],["T_STRING","setConsumeOnLoad",266],"(",["T_VARIABLE","$flag",266],")",["T_WHITESPACE","\n    ",266],"{",["T_WHITESPACE","\n        ",267],["T_VARIABLE","$this",268],["T_OBJECT_OPERATOR","->",268],["T_STRING","_consumeOnLoad",268],["T_WHITESPACE"," ",268],"=",["T_WHITESPACE"," ",268],["T_BOOL_CAST","(bool)",268],["T_WHITESPACE"," ",268],["T_VARIABLE","$flag",268],";",["T_WHITESPACE","\n        ",268],["T_RETURN","return",269],["T_WHITESPACE"," ",269],["T_VARIABLE","$this",269],";",["T_WHITESPACE","\n    ",269],"}",["T_WHITESPACE","\n\n    ",270],["T_DOC_COMMENT","\/**\n     * Get flag indicating whether or not to consume dojo.addOnLoad events aggregated in dojo() view helper\n     *\n     * @return bool\n     *\/",272],["T_WHITESPACE","\n    ",276],["T_PUBLIC","public",277],["T_WHITESPACE"," ",277],["T_FUNCTION","function",277],["T_WHITESPACE"," ",277],["T_STRING","consumeOnLoad",277],"(",")",["T_WHITESPACE","\n    ",277],"{",["T_WHITESPACE","\n        ",278],["T_RETURN","return",279],["T_WHITESPACE"," ",279],["T_VARIABLE","$this",279],["T_OBJECT_OPERATOR","->",279],["T_STRING","_consumeOnLoad",279],";",["T_WHITESPACE","\n    ",279],"}",["T_WHITESPACE","\n\n    ",280],["T_DOC_COMMENT","\/**\n     * Set many build profile options at once\n     *\n     * @param  array $options\n     * @return Zend_Dojo_BuildLayer\n     *\/",282],["T_WHITESPACE","\n    ",287],["T_PUBLIC","public",288],["T_WHITESPACE"," ",288],["T_FUNCTION","function",288],["T_WHITESPACE"," ",288],["T_STRING","setProfileOptions",288],"(",["T_ARRAY","array",288],["T_WHITESPACE"," ",288],["T_VARIABLE","$options",288],")",["T_WHITESPACE","\n    ",288],"{",["T_WHITESPACE","\n        ",289],["T_VARIABLE","$this",290],["T_OBJECT_OPERATOR","->",290],["T_STRING","_profileOptions",290],["T_WHITESPACE"," ",290],["T_PLUS_EQUAL","+=",290],["T_WHITESPACE"," ",290],["T_VARIABLE","$options",290],";",["T_WHITESPACE","\n        ",290],["T_RETURN","return",291],["T_WHITESPACE"," ",291],["T_VARIABLE","$this",291],";",["T_WHITESPACE","\n    ",291],"}",["T_WHITESPACE","\n\n    ",292],["T_DOC_COMMENT","\/**\n     * Add many build profile options at once\n     *\n     * @param  array $options\n     * @return Zend_Dojo_BuildLayer\n     *\/",294],["T_WHITESPACE","\n    ",299],["T_PUBLIC","public",300],["T_WHITESPACE"," ",300],["T_FUNCTION","function",300],["T_WHITESPACE"," ",300],["T_STRING","addProfileOptions",300],"(",["T_ARRAY","array",300],["T_WHITESPACE"," ",300],["T_VARIABLE","$options",300],")",["T_WHITESPACE","\n    ",300],"{",["T_WHITESPACE","\n        ",301],["T_VARIABLE","$this",302],["T_OBJECT_OPERATOR","->",302],["T_STRING","_profileOptions",302],["T_WHITESPACE"," ",302],"=",["T_WHITESPACE"," ",302],["T_VARIABLE","$this",302],["T_OBJECT_OPERATOR","->",302],["T_STRING","_profileOptions",302],["T_WHITESPACE"," ",302],"+",["T_WHITESPACE"," ",302],["T_VARIABLE","$options",302],";",["T_WHITESPACE","\n        ",302],["T_RETURN","return",303],["T_WHITESPACE"," ",303],["T_VARIABLE","$this",303],";",["T_WHITESPACE","\n    ",303],"}",["T_WHITESPACE","\n\n    ",304],["T_DOC_COMMENT","\/**\n     * Add a single build profile option\n     *\n     * @param  string $key\n     * @param  value $value\n     * @return Zend_Dojo_BuildLayer\n     *\/",306],["T_WHITESPACE","\n    ",312],["T_PUBLIC","public",313],["T_WHITESPACE"," ",313],["T_FUNCTION","function",313],["T_WHITESPACE"," ",313],["T_STRING","addProfileOption",313],"(",["T_VARIABLE","$key",313],",",["T_WHITESPACE"," ",313],["T_VARIABLE","$value",313],")",["T_WHITESPACE","\n    ",313],"{",["T_WHITESPACE","\n        ",314],["T_VARIABLE","$this",315],["T_OBJECT_OPERATOR","->",315],["T_STRING","_profileOptions",315],"[",["T_STRING_CAST","(string)",315],["T_WHITESPACE"," ",315],["T_VARIABLE","$key",315],"]",["T_WHITESPACE"," ",315],"=",["T_WHITESPACE"," ",315],["T_VARIABLE","$value",315],";",["T_WHITESPACE","\n        ",315],["T_RETURN","return",316],["T_WHITESPACE"," ",316],["T_VARIABLE","$this",316],";",["T_WHITESPACE","\n    ",316],"}",["T_WHITESPACE","\n\n    ",317],["T_DOC_COMMENT","\/**\n     * Is a given build profile option set?\n     *\n     * @param  string $key\n     * @return bool\n     *\/",319],["T_WHITESPACE","\n    ",324],["T_PUBLIC","public",325],["T_WHITESPACE"," ",325],["T_FUNCTION","function",325],["T_WHITESPACE"," ",325],["T_STRING","hasProfileOption",325],"(",["T_VARIABLE","$key",325],")",["T_WHITESPACE","\n    ",325],"{",["T_WHITESPACE","\n        ",326],["T_RETURN","return",327],["T_WHITESPACE"," ",327],["T_STRING","array_key_exists",327],"(",["T_STRING_CAST","(string)",327],["T_WHITESPACE"," ",327],["T_VARIABLE","$key",327],",",["T_WHITESPACE"," ",327],["T_VARIABLE","$this",327],["T_OBJECT_OPERATOR","->",327],["T_STRING","_profileOptions",327],")",";",["T_WHITESPACE","\n    ",327],"}",["T_WHITESPACE","\n\n    ",328],["T_DOC_COMMENT","\/**\n     * Retrieve a single build profile option\n     *\n     * Returns null if profile option does not exist.\n     *\n     * @param  string $key\n     * @return mixed\n     *\/",330],["T_WHITESPACE","\n    ",337],["T_PUBLIC","public",338],["T_WHITESPACE"," ",338],["T_FUNCTION","function",338],["T_WHITESPACE"," ",338],["T_STRING","getProfileOption",338],"(",["T_VARIABLE","$key",338],")",["T_WHITESPACE","\n    ",338],"{",["T_WHITESPACE","\n        ",339],["T_IF","if",340],["T_WHITESPACE"," ",340],"(",["T_VARIABLE","$this",340],["T_OBJECT_OPERATOR","->",340],["T_STRING","hasProfileOption",340],"(",["T_VARIABLE","$key",340],")",")",["T_WHITESPACE"," ",340],"{",["T_WHITESPACE","\n            ",340],["T_RETURN","return",341],["T_WHITESPACE"," ",341],["T_VARIABLE","$this",341],["T_OBJECT_OPERATOR","->",341],["T_STRING","_profileOptions",341],"[",["T_STRING_CAST","(string)",341],["T_WHITESPACE"," ",341],["T_VARIABLE","$key",341],"]",";",["T_WHITESPACE","\n        ",341],"}",["T_WHITESPACE","\n        ",342],["T_RETURN","return",343],["T_WHITESPACE"," ",343],["T_STRING","null",343],";",["T_WHITESPACE","\n    ",343],"}",["T_WHITESPACE","\n\n    ",344],["T_DOC_COMMENT","\/**\n     * Get all build profile options\n     *\n     * @return array\n     *\/",346],["T_WHITESPACE","\n    ",350],["T_PUBLIC","public",351],["T_WHITESPACE"," ",351],["T_FUNCTION","function",351],["T_WHITESPACE"," ",351],["T_STRING","getProfileOptions",351],"(",")",["T_WHITESPACE","\n    ",351],"{",["T_WHITESPACE","\n        ",352],["T_RETURN","return",353],["T_WHITESPACE"," ",353],["T_VARIABLE","$this",353],["T_OBJECT_OPERATOR","->",353],["T_STRING","_profileOptions",353],";",["T_WHITESPACE","\n    ",353],"}",["T_WHITESPACE","\n\n    ",354],["T_DOC_COMMENT","\/**\n     * Remove a build profile option\n     *\n     * @param  string $name\n     * @return Zend_Dojo_BuildLayer\n     *\/",356],["T_WHITESPACE","\n    ",361],["T_PUBLIC","public",362],["T_WHITESPACE"," ",362],["T_FUNCTION","function",362],["T_WHITESPACE"," ",362],["T_STRING","removeProfileOption",362],"(",["T_VARIABLE","$name",362],")",["T_WHITESPACE","\n    ",362],"{",["T_WHITESPACE","\n        ",363],["T_IF","if",364],["T_WHITESPACE"," ",364],"(",["T_VARIABLE","$this",364],["T_OBJECT_OPERATOR","->",364],["T_STRING","hasProfileOption",364],"(",["T_VARIABLE","$name",364],")",")",["T_WHITESPACE"," ",364],"{",["T_WHITESPACE","\n            ",364],["T_UNSET","unset",365],"(",["T_VARIABLE","$this",365],["T_OBJECT_OPERATOR","->",365],["T_STRING","_profileOptions",365],"[",["T_STRING_CAST","(string)",365],["T_WHITESPACE"," ",365],["T_VARIABLE","$name",365],"]",")",";",["T_WHITESPACE","\n        ",365],"}",["T_WHITESPACE","\n        ",366],["T_RETURN","return",367],["T_WHITESPACE"," ",367],["T_VARIABLE","$this",367],";",["T_WHITESPACE","\n    ",367],"}",["T_WHITESPACE","\n\n    ",368],["T_DOC_COMMENT","\/**\n     * Remove all build profile options\n     *\n     * @return Zend_Dojo_BuildLayer\n     *\/",370],["T_WHITESPACE","\n    ",374],["T_PUBLIC","public",375],["T_WHITESPACE"," ",375],["T_FUNCTION","function",375],["T_WHITESPACE"," ",375],["T_STRING","clearProfileOptions",375],"(",")",["T_WHITESPACE","\n    ",375],"{",["T_WHITESPACE","\n        ",376],["T_VARIABLE","$this",377],["T_OBJECT_OPERATOR","->",377],["T_STRING","_profileOptions",377],["T_WHITESPACE"," ",377],"=",["T_WHITESPACE"," ",377],["T_ARRAY","array",377],"(",")",";",["T_WHITESPACE","\n        ",377],["T_RETURN","return",378],["T_WHITESPACE"," ",378],["T_VARIABLE","$this",378],";",["T_WHITESPACE","\n    ",378],"}",["T_WHITESPACE","\n\n    ",379],["T_DOC_COMMENT","\/**\n     * Add a build profile dependency prefix\n     *\n     * If just the prefix is passed, sets path to \"..\/$prefix\".\n     *\n     * @param  string $prefix\n     * @param  null|string $path\n     * @return Zend_Dojo_BuildLayer\n     *\/",381],["T_WHITESPACE","\n    ",389],["T_PUBLIC","public",390],["T_WHITESPACE"," ",390],["T_FUNCTION","function",390],["T_WHITESPACE"," ",390],["T_STRING","addProfilePrefix",390],"(",["T_VARIABLE","$prefix",390],",",["T_WHITESPACE"," ",390],["T_VARIABLE","$path",390],["T_WHITESPACE"," ",390],"=",["T_WHITESPACE"," ",390],["T_STRING","null",390],")",["T_WHITESPACE","\n    ",390],"{",["T_WHITESPACE","\n        ",391],["T_IF","if",392],["T_WHITESPACE"," ",392],"(",["T_STRING","null",392],["T_WHITESPACE"," ",392],["T_IS_IDENTICAL","===",392],["T_WHITESPACE"," ",392],["T_VARIABLE","$path",392],")",["T_WHITESPACE"," ",392],"{",["T_WHITESPACE","\n            ",392],["T_VARIABLE","$path",393],["T_WHITESPACE"," ",393],"=",["T_WHITESPACE"," ",393],["T_CONSTANT_ENCAPSED_STRING","'..\/'",393],["T_WHITESPACE"," ",393],".",["T_WHITESPACE"," ",393],["T_VARIABLE","$prefix",393],";",["T_WHITESPACE","\n        ",393],"}",["T_WHITESPACE","\n        ",394],["T_VARIABLE","$this",395],["T_OBJECT_OPERATOR","->",395],["T_STRING","_profilePrefixes",395],"[",["T_VARIABLE","$prefix",395],"]",["T_WHITESPACE"," ",395],"=",["T_WHITESPACE"," ",395],["T_ARRAY","array",395],"(",["T_VARIABLE","$prefix",395],",",["T_WHITESPACE"," ",395],["T_VARIABLE","$path",395],")",";",["T_WHITESPACE","\n        ",395],["T_RETURN","return",396],["T_WHITESPACE"," ",396],["T_VARIABLE","$this",396],";",["T_WHITESPACE","\n    ",396],"}",["T_WHITESPACE","\n\n    ",397],["T_DOC_COMMENT","\/**\n     * Set multiple dependency prefixes for bulid profile\n     *\n     * @param  array $prefixes\n     * @return Zend_Dojo_BuildLayer\n     *\/",399],["T_WHITESPACE","\n    ",404],["T_PUBLIC","public",405],["T_WHITESPACE"," ",405],["T_FUNCTION","function",405],["T_WHITESPACE"," ",405],["T_STRING","setProfilePrefixes",405],"(",["T_ARRAY","array",405],["T_WHITESPACE"," ",405],["T_VARIABLE","$prefixes",405],")",["T_WHITESPACE","\n    ",405],"{",["T_WHITESPACE","\n        ",406],["T_FOREACH","foreach",407],["T_WHITESPACE"," ",407],"(",["T_VARIABLE","$prefixes",407],["T_WHITESPACE"," ",407],["T_AS","as",407],["T_WHITESPACE"," ",407],["T_VARIABLE","$prefix",407],["T_WHITESPACE"," ",407],["T_DOUBLE_ARROW","=>",407],["T_WHITESPACE"," ",407],["T_VARIABLE","$path",407],")",["T_WHITESPACE"," ",407],"{",["T_WHITESPACE","\n            ",407],["T_VARIABLE","$this",408],["T_OBJECT_OPERATOR","->",408],["T_STRING","addProfilePrefix",408],"(",["T_VARIABLE","$prefix",408],",",["T_WHITESPACE"," ",408],["T_VARIABLE","$path",408],")",";",["T_WHITESPACE","\n        ",408],"}",["T_WHITESPACE","\n        ",409],["T_RETURN","return",410],["T_WHITESPACE"," ",410],["T_VARIABLE","$this",410],";",["T_WHITESPACE","\n    ",410],"}",["T_WHITESPACE","\n\n    ",411],["T_DOC_COMMENT","\/**\n     * Get build profile dependency prefixes\n     *\n     * @return array\n     *\/",413],["T_WHITESPACE","\n    ",417],["T_PUBLIC","public",418],["T_WHITESPACE"," ",418],["T_FUNCTION","function",418],["T_WHITESPACE"," ",418],["T_STRING","getProfilePrefixes",418],"(",")",["T_WHITESPACE","\n    ",418],"{",["T_WHITESPACE","\n        ",419],["T_VARIABLE","$layerName",420],["T_WHITESPACE"," ",420],"=",["T_WHITESPACE"," ",420],["T_VARIABLE","$this",420],["T_OBJECT_OPERATOR","->",420],["T_STRING","getLayerName",420],"(",")",";",["T_WHITESPACE","\n        ",420],["T_IF","if",421],["T_WHITESPACE"," ",421],"(",["T_STRING","null",421],["T_WHITESPACE"," ",421],["T_IS_NOT_IDENTICAL","!==",421],["T_WHITESPACE"," ",421],["T_VARIABLE","$layerName",421],")",["T_WHITESPACE"," ",421],"{",["T_WHITESPACE","\n            ",421],["T_VARIABLE","$prefix",422],["T_WHITESPACE","    ",422],"=",["T_WHITESPACE"," ",422],["T_VARIABLE","$this",422],["T_OBJECT_OPERATOR","->",422],["T_STRING","_getPrefix",422],"(",["T_VARIABLE","$layerName",422],")",";",["T_WHITESPACE","\n            ",422],["T_IF","if",423],["T_WHITESPACE"," ",423],"(","!",["T_STRING","array_key_exists",423],"(",["T_VARIABLE","$prefix",423],",",["T_WHITESPACE"," ",423],["T_VARIABLE","$this",423],["T_OBJECT_OPERATOR","->",423],["T_STRING","_profilePrefixes",423],")",")",["T_WHITESPACE"," ",423],"{",["T_WHITESPACE","\n                ",423],["T_VARIABLE","$this",424],["T_OBJECT_OPERATOR","->",424],["T_STRING","addProfilePrefix",424],"(",["T_VARIABLE","$prefix",424],")",";",["T_WHITESPACE","\n            ",424],"}",["T_WHITESPACE","\n        ",425],"}",["T_WHITESPACE","\n        ",426],["T_VARIABLE","$view",427],["T_WHITESPACE"," ",427],"=",["T_WHITESPACE"," ",427],["T_VARIABLE","$this",427],["T_OBJECT_OPERATOR","->",427],["T_STRING","getView",427],"(",")",";",["T_WHITESPACE","\n        ",427],["T_IF","if",428],["T_WHITESPACE"," ",428],"(","!",["T_EMPTY","empty",428],"(",["T_VARIABLE","$view",428],")",")",["T_WHITESPACE"," ",428],"{",["T_WHITESPACE","\n            ",428],["T_VARIABLE","$helper",429],["T_WHITESPACE"," ",429],"=",["T_WHITESPACE"," ",429],["T_VARIABLE","$this",429],["T_OBJECT_OPERATOR","->",429],["T_STRING","getDojoHelper",429],"(",")",";",["T_WHITESPACE","\n            ",429],["T_IF","if",430],["T_WHITESPACE"," ",430],"(",["T_VARIABLE","$helper",430],")",["T_WHITESPACE"," ",430],"{",["T_WHITESPACE","\n                ",430],["T_VARIABLE","$modules",431],["T_WHITESPACE"," ",431],"=",["T_WHITESPACE"," ",431],["T_VARIABLE","$helper",431],["T_OBJECT_OPERATOR","->",431],["T_STRING","getModules",431],"(",")",";",["T_WHITESPACE","\n                ",431],["T_FOREACH","foreach",432],["T_WHITESPACE"," ",432],"(",["T_VARIABLE","$modules",432],["T_WHITESPACE"," ",432],["T_AS","as",432],["T_WHITESPACE"," ",432],["T_VARIABLE","$module",432],")",["T_WHITESPACE"," ",432],"{",["T_WHITESPACE","\n                    ",432],["T_VARIABLE","$prefix",433],["T_WHITESPACE"," ",433],"=",["T_WHITESPACE"," ",433],["T_VARIABLE","$this",433],["T_OBJECT_OPERATOR","->",433],["T_STRING","_getPrefix",433],"(",["T_VARIABLE","$module",433],")",";",["T_WHITESPACE","\n                    ",433],["T_IF","if",434],["T_WHITESPACE"," ",434],"(","!",["T_STRING","array_key_exists",434],"(",["T_VARIABLE","$prefix",434],",",["T_WHITESPACE"," ",434],["T_VARIABLE","$this",434],["T_OBJECT_OPERATOR","->",434],["T_STRING","_profilePrefixes",434],")",")",["T_WHITESPACE"," ",434],"{",["T_WHITESPACE","\n                        ",434],["T_VARIABLE","$this",435],["T_OBJECT_OPERATOR","->",435],["T_STRING","addProfilePrefix",435],"(",["T_VARIABLE","$prefix",435],")",";",["T_WHITESPACE","\n                    ",435],"}",["T_WHITESPACE","\n                ",436],"}",["T_WHITESPACE","\n            ",437],"}",["T_WHITESPACE","\n        ",438],"}",["T_WHITESPACE","\n        ",439],["T_RETURN","return",440],["T_WHITESPACE"," ",440],["T_VARIABLE","$this",440],["T_OBJECT_OPERATOR","->",440],["T_STRING","_profilePrefixes",440],";",["T_WHITESPACE","\n    ",440],"}",["T_WHITESPACE","\n\n    ",441],["T_DOC_COMMENT","\/**\n     * Generate module layer script\n     *\n     * @return string\n     *\/",443],["T_WHITESPACE","\n    ",447],["T_PUBLIC","public",448],["T_WHITESPACE"," ",448],["T_FUNCTION","function",448],["T_WHITESPACE"," ",448],["T_STRING","generateLayerScript",448],"(",")",["T_WHITESPACE","\n    ",448],"{",["T_WHITESPACE","\n        ",449],["T_VARIABLE","$helper",450],["T_WHITESPACE","        ",450],"=",["T_WHITESPACE"," ",450],["T_VARIABLE","$this",450],["T_OBJECT_OPERATOR","->",450],["T_STRING","getDojoHelper",450],"(",")",";",["T_WHITESPACE","\n        ",450],["T_VARIABLE","$layerName",451],["T_WHITESPACE","     ",451],"=",["T_WHITESPACE"," ",451],["T_VARIABLE","$this",451],["T_OBJECT_OPERATOR","->",451],["T_STRING","getLayerName",451],"(",")",";",["T_WHITESPACE","\n        ",451],["T_VARIABLE","$modulePaths",452],["T_WHITESPACE","   ",452],"=",["T_WHITESPACE"," ",452],["T_VARIABLE","$helper",452],["T_OBJECT_OPERATOR","->",452],["T_STRING","getModulePaths",452],"(",")",";",["T_WHITESPACE","\n        ",452],["T_VARIABLE","$modules",453],["T_WHITESPACE","       ",453],"=",["T_WHITESPACE"," ",453],["T_VARIABLE","$helper",453],["T_OBJECT_OPERATOR","->",453],["T_STRING","getModules",453],"(",")",";",["T_WHITESPACE","\n        ",453],["T_VARIABLE","$onLoadActions",454],["T_WHITESPACE"," ",454],"=",["T_WHITESPACE"," ",454],["T_VARIABLE","$helper",454],["T_OBJECT_OPERATOR","->",454],["T_STRING","getOnLoadActions",454],"(",")",";",["T_WHITESPACE","\n        ",454],["T_VARIABLE","$javascript",455],["T_WHITESPACE","    ",455],"=",["T_WHITESPACE"," ",455],["T_VARIABLE","$helper",455],["T_OBJECT_OPERATOR","->",455],["T_STRING","getJavascript",455],"(",")",";",["T_WHITESPACE","\n\n        ",455],["T_VARIABLE","$content",457],["T_WHITESPACE"," ",457],"=",["T_WHITESPACE"," ",457],["T_CONSTANT_ENCAPSED_STRING","'dojo.provide(\"'",457],["T_WHITESPACE"," ",457],".",["T_WHITESPACE"," ",457],["T_VARIABLE","$layerName",457],["T_WHITESPACE"," ",457],".",["T_WHITESPACE"," ",457],["T_CONSTANT_ENCAPSED_STRING","'\");'",457],["T_WHITESPACE"," ",457],".",["T_WHITESPACE"," ",457],["T_CONSTANT_ENCAPSED_STRING","\"\\n\\n(function(){\\n\"",457],";",["T_WHITESPACE","\n\n        ",457],["T_FOREACH","foreach",459],["T_WHITESPACE"," ",459],"(",["T_VARIABLE","$modulePaths",459],["T_WHITESPACE"," ",459],["T_AS","as",459],["T_WHITESPACE"," ",459],["T_VARIABLE","$module",459],["T_WHITESPACE"," ",459],["T_DOUBLE_ARROW","=>",459],["T_WHITESPACE"," ",459],["T_VARIABLE","$path",459],")",["T_WHITESPACE"," ",459],"{",["T_WHITESPACE","\n            ",459],["T_VARIABLE","$content",460],["T_WHITESPACE"," ",460],["T_CONCAT_EQUAL",".=",460],["T_WHITESPACE"," ",460],["T_STRING","sprintf",460],"(",["T_CONSTANT_ENCAPSED_STRING","\"dojo.registerModulePath(\\\"%s\\\", \\\"%s\\\");\\n\"",460],",",["T_WHITESPACE"," ",460],["T_VARIABLE","$module",460],",",["T_WHITESPACE"," ",460],["T_VARIABLE","$path",460],")",";",["T_WHITESPACE","\n        ",460],"}",["T_WHITESPACE","\n        ",461],["T_FOREACH","foreach",462],["T_WHITESPACE"," ",462],"(",["T_VARIABLE","$modules",462],["T_WHITESPACE"," ",462],["T_AS","as",462],["T_WHITESPACE"," ",462],["T_VARIABLE","$module",462],")",["T_WHITESPACE"," ",462],"{",["T_WHITESPACE","\n            ",462],["T_VARIABLE","$content",463],["T_WHITESPACE"," ",463],["T_CONCAT_EQUAL",".=",463],["T_WHITESPACE"," ",463],["T_STRING","sprintf",463],"(",["T_CONSTANT_ENCAPSED_STRING","\"dojo.require(\\\"%s\\\");\\n\"",463],",",["T_WHITESPACE"," ",463],["T_VARIABLE","$module",463],")",";",["T_WHITESPACE","\n        ",463],"}",["T_WHITESPACE","\n\n        ",464],["T_IF","if",466],["T_WHITESPACE"," ",466],"(",["T_VARIABLE","$this",466],["T_OBJECT_OPERATOR","->",466],["T_STRING","consumeOnLoad",466],"(",")",")",["T_WHITESPACE"," ",466],"{",["T_WHITESPACE","\n            ",466],["T_FOREACH","foreach",467],["T_WHITESPACE"," ",467],"(",["T_VARIABLE","$helper",467],["T_OBJECT_OPERATOR","->",467],["T_STRING","getOnLoadActions",467],"(",")",["T_WHITESPACE"," ",467],["T_AS","as",467],["T_WHITESPACE"," ",467],["T_VARIABLE","$callback",467],")",["T_WHITESPACE"," ",467],"{",["T_WHITESPACE","\n                ",467],["T_VARIABLE","$content",468],["T_WHITESPACE"," ",468],["T_CONCAT_EQUAL",".=",468],["T_WHITESPACE"," ",468],["T_STRING","sprintf",468],"(",["T_CONSTANT_ENCAPSED_STRING","\"dojo.addOnLoad(%s);\\n\"",468],",",["T_WHITESPACE"," ",468],["T_VARIABLE","$callback",468],")",";",["T_WHITESPACE","\n            ",468],"}",["T_WHITESPACE","\n        ",469],"}",["T_WHITESPACE","\n        ",470],["T_IF","if",471],["T_WHITESPACE"," ",471],"(",["T_VARIABLE","$this",471],["T_OBJECT_OPERATOR","->",471],["T_STRING","consumeJavascript",471],"(",")",")",["T_WHITESPACE"," ",471],"{",["T_WHITESPACE","\n            ",471],["T_VARIABLE","$javascript",472],["T_WHITESPACE"," ",472],"=",["T_WHITESPACE"," ",472],["T_STRING","implode",472],"(",["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",472],",",["T_WHITESPACE"," ",472],["T_VARIABLE","$helper",472],["T_OBJECT_OPERATOR","->",472],["T_STRING","getJavascript",472],"(",")",")",";",["T_WHITESPACE","\n            ",472],["T_IF","if",473],["T_WHITESPACE"," ",473],"(","!",["T_EMPTY","empty",473],"(",["T_VARIABLE","$javascript",473],")",")",["T_WHITESPACE"," ",473],"{",["T_WHITESPACE","\n                ",473],["T_VARIABLE","$content",474],["T_WHITESPACE"," ",474],["T_CONCAT_EQUAL",".=",474],["T_WHITESPACE"," ",474],["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",474],["T_WHITESPACE"," ",474],".",["T_WHITESPACE"," ",474],["T_VARIABLE","$javascript",474],["T_WHITESPACE"," ",474],".",["T_WHITESPACE"," ",474],["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",474],";",["T_WHITESPACE","\n            ",474],"}",["T_WHITESPACE","\n        ",475],"}",["T_WHITESPACE","\n\n        ",476],["T_VARIABLE","$content",478],["T_WHITESPACE"," ",478],["T_CONCAT_EQUAL",".=",478],["T_WHITESPACE"," ",478],["T_CONSTANT_ENCAPSED_STRING","\"})();\"",478],";",["T_WHITESPACE","\n\n        ",478],["T_RETURN","return",480],["T_WHITESPACE"," ",480],["T_VARIABLE","$content",480],";",["T_WHITESPACE","\n    ",480],"}",["T_WHITESPACE","\n\n    ",481],["T_DOC_COMMENT","\/**\n     * Generate build profile\n     *\n     * @return string\n     *\/",483],["T_WHITESPACE","\n    ",487],["T_PUBLIC","public",488],["T_WHITESPACE"," ",488],["T_FUNCTION","function",488],["T_WHITESPACE"," ",488],["T_STRING","generateBuildProfile",488],"(",")",["T_WHITESPACE","\n    ",488],"{",["T_WHITESPACE","\n        ",489],["T_VARIABLE","$profileOptions",490],["T_WHITESPACE","  ",490],"=",["T_WHITESPACE"," ",490],["T_VARIABLE","$this",490],["T_OBJECT_OPERATOR","->",490],["T_STRING","getProfileOptions",490],"(",")",";",["T_WHITESPACE","\n        ",490],["T_VARIABLE","$layerName",491],["T_WHITESPACE","       ",491],"=",["T_WHITESPACE"," ",491],["T_VARIABLE","$this",491],["T_OBJECT_OPERATOR","->",491],["T_STRING","getLayerName",491],"(",")",";",["T_WHITESPACE","\n        ",491],["T_VARIABLE","$layerScriptPath",492],["T_WHITESPACE"," ",492],"=",["T_WHITESPACE"," ",492],["T_VARIABLE","$this",492],["T_OBJECT_OPERATOR","->",492],["T_STRING","getLayerScriptPath",492],"(",")",";",["T_WHITESPACE","\n        ",492],["T_VARIABLE","$profilePrefixes",493],["T_WHITESPACE"," ",493],"=",["T_WHITESPACE"," ",493],["T_VARIABLE","$this",493],["T_OBJECT_OPERATOR","->",493],["T_STRING","getProfilePrefixes",493],"(",")",";",["T_WHITESPACE","\n\n        ",493],["T_IF","if",495],["T_WHITESPACE"," ",495],"(","!",["T_STRING","array_key_exists",495],"(",["T_CONSTANT_ENCAPSED_STRING","'releaseName'",495],",",["T_WHITESPACE"," ",495],["T_VARIABLE","$profileOptions",495],")",")",["T_WHITESPACE"," ",495],"{",["T_WHITESPACE","\n            ",495],["T_VARIABLE","$profileOptions",496],"[",["T_CONSTANT_ENCAPSED_STRING","'releaseName'",496],"]",["T_WHITESPACE"," ",496],"=",["T_WHITESPACE"," ",496],["T_STRING","substr",496],"(",["T_VARIABLE","$layerName",496],",",["T_WHITESPACE"," ",496],["T_LNUMBER","0",496],",",["T_WHITESPACE"," ",496],["T_STRING","strpos",496],"(",["T_VARIABLE","$layerName",496],",",["T_WHITESPACE"," ",496],["T_CONSTANT_ENCAPSED_STRING","'.'",496],")",")",";",["T_WHITESPACE","\n        ",496],"}",["T_WHITESPACE","\n\n        ",497],["T_VARIABLE","$profile",499],["T_WHITESPACE"," ",499],"=",["T_WHITESPACE"," ",499],["T_VARIABLE","$profileOptions",499],";",["T_WHITESPACE","\n        ",499],["T_VARIABLE","$profile",500],"[",["T_CONSTANT_ENCAPSED_STRING","'layers'",500],"]",["T_WHITESPACE"," ",500],"=",["T_WHITESPACE"," ",500],["T_ARRAY","array",500],"(",["T_ARRAY","array",500],"(",["T_WHITESPACE","\n            ",500],["T_CONSTANT_ENCAPSED_STRING","'name'",501],["T_WHITESPACE","              ",501],["T_DOUBLE_ARROW","=>",501],["T_WHITESPACE"," ",501],["T_VARIABLE","$layerScriptPath",501],",",["T_WHITESPACE","\n            ",501],["T_CONSTANT_ENCAPSED_STRING","'layerDependencies'",502],["T_WHITESPACE"," ",502],["T_DOUBLE_ARROW","=>",502],["T_WHITESPACE"," ",502],["T_ARRAY","array",502],"(",")",",",["T_WHITESPACE","\n            ",502],["T_CONSTANT_ENCAPSED_STRING","'dependencies'",503],["T_WHITESPACE","      ",503],["T_DOUBLE_ARROW","=>",503],["T_WHITESPACE"," ",503],["T_ARRAY","array",503],"(",["T_VARIABLE","$layerName",503],")",",",["T_WHITESPACE","\n        ",503],")",")",";",["T_WHITESPACE","\n        ",504],["T_VARIABLE","$profile",505],"[",["T_CONSTANT_ENCAPSED_STRING","'prefixes'",505],"]",["T_WHITESPACE"," ",505],"=",["T_WHITESPACE"," ",505],["T_STRING","array_values",505],"(",["T_VARIABLE","$profilePrefixes",505],")",";",["T_WHITESPACE","\n\n        ",505],["T_RETURN","return",507],["T_WHITESPACE"," ",507],["T_CONSTANT_ENCAPSED_STRING","'dependencies = '",507],["T_WHITESPACE"," ",507],".",["T_WHITESPACE"," ",507],["T_VARIABLE","$this",507],["T_OBJECT_OPERATOR","->",507],["T_STRING","_filterJsonProfileToJavascript",507],"(",["T_VARIABLE","$profile",507],")",["T_WHITESPACE"," ",507],".",["T_WHITESPACE"," ",507],["T_CONSTANT_ENCAPSED_STRING","';'",507],";",["T_WHITESPACE","\n    ",507],"}",["T_WHITESPACE","\n\n    ",508],["T_DOC_COMMENT","\/**\n     * Retrieve module prefix\n     *\n     * @param  string $module\n     * @return void\n     *\/",510],["T_WHITESPACE","\n    ",515],["T_PROTECTED","protected",516],["T_WHITESPACE"," ",516],["T_FUNCTION","function",516],["T_WHITESPACE"," ",516],["T_STRING","_getPrefix",516],"(",["T_VARIABLE","$module",516],")",["T_WHITESPACE","\n    ",516],"{",["T_WHITESPACE","\n        ",517],["T_VARIABLE","$segments",518],["T_WHITESPACE","  ",518],"=",["T_WHITESPACE"," ",518],["T_STRING","explode",518],"(",["T_CONSTANT_ENCAPSED_STRING","'.'",518],",",["T_WHITESPACE"," ",518],["T_VARIABLE","$module",518],",",["T_WHITESPACE"," ",518],["T_LNUMBER","2",518],")",";",["T_WHITESPACE","\n        ",518],["T_RETURN","return",519],["T_WHITESPACE"," ",519],["T_VARIABLE","$segments",519],"[",["T_LNUMBER","0",519],"]",";",["T_WHITESPACE","\n    ",519],"}",["T_WHITESPACE","\n\n    ",520],["T_DOC_COMMENT","\/**\n     * Filter a JSON build profile to JavaScript\n     *\n     * @param  string $profile\n     * @return string\n     *\/",522],["T_WHITESPACE","\n    ",527],["T_PROTECTED","protected",528],["T_WHITESPACE"," ",528],["T_FUNCTION","function",528],["T_WHITESPACE"," ",528],["T_STRING","_filterJsonProfileToJavascript",528],"(",["T_VARIABLE","$profile",528],")",["T_WHITESPACE","\n    ",528],"{",["T_WHITESPACE","\n        ",529],["T_COMMENT","#require_once 'Zend\/Json.php';\n",530],["T_WHITESPACE","        ",531],["T_VARIABLE","$profile",531],["T_WHITESPACE"," ",531],"=",["T_WHITESPACE"," ",531],["T_STRING","Zend_Json",531],["T_DOUBLE_COLON","::",531],["T_STRING","encode",531],"(",["T_VARIABLE","$profile",531],")",";",["T_WHITESPACE","\n        ",531],["T_VARIABLE","$profile",532],["T_WHITESPACE"," ",532],"=",["T_WHITESPACE"," ",532],["T_STRING","trim",532],"(",["T_VARIABLE","$profile",532],",",["T_WHITESPACE"," ",532],["T_CONSTANT_ENCAPSED_STRING","'\"'",532],")",";",["T_WHITESPACE","\n        ",532],["T_VARIABLE","$profile",533],["T_WHITESPACE"," ",533],"=",["T_WHITESPACE"," ",533],["T_STRING","preg_replace",533],"(",["T_CONSTANT_ENCAPSED_STRING","'\/'",533],["T_WHITESPACE"," ",533],".",["T_WHITESPACE"," ",533],["T_STRING","preg_quote",533],"(",["T_CONSTANT_ENCAPSED_STRING","'\\\\'",533],")",["T_WHITESPACE"," ",533],".",["T_WHITESPACE"," ",533],["T_CONSTANT_ENCAPSED_STRING","'\/'",533],",",["T_WHITESPACE"," ",533],["T_CONSTANT_ENCAPSED_STRING","''",533],",",["T_WHITESPACE"," ",533],["T_VARIABLE","$profile",533],")",";",["T_WHITESPACE","\n        ",533],["T_RETURN","return",534],["T_WHITESPACE"," ",534],["T_VARIABLE","$profile",534],";",["T_WHITESPACE","\n    ",534],"}",["T_WHITESPACE","\n",535],"}",["T_WHITESPACE","\n",536]]