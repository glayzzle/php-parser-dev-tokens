[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Zend Framework\n *\n * LICENSE\n *\n * This source file is subject to the new BSD license that is bundled\n * with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/framework.zend.com\/license\/new-bsd\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@zend.com so we can send you a copy immediately.\n *\n * @category   Zend\n * @package    Zend_Service_Amazon\n * @subpackage Authentication\n * @copyright  Copyright (c) 2005-2015 Zend Technologies USA Inc. (http:\/\/www.zend.com)\n * @license    http:\/\/framework.zend.com\/license\/new-bsd     New BSD License\n *\/",2],["T_WHITESPACE","\n\n",20],["T_DOC_COMMENT","\/**\n * @see Zend_Service_Amazon_Authentication\n *\/",22],["T_WHITESPACE","\n",24],["T_COMMENT","#require_once 'Zend\/Service\/Amazon\/Authentication.php';\n",25],["T_WHITESPACE","\n",26],["T_DOC_COMMENT","\/**\n * @see Zend_Crypt_Hmac\n *\/",27],["T_WHITESPACE","\n",29],["T_COMMENT","#require_once 'Zend\/Crypt\/Hmac.php';\n",30],["T_WHITESPACE","\n",31],["T_DOC_COMMENT","\/**\n * @category   Zend\n * @package    Zend_Service_Amazon\n * @subpackage Authentication\n * @copyright  Copyright (c) 2005-2015 Zend Technologies USA Inc. (http:\/\/www.zend.com)\n * @license    http:\/\/framework.zend.com\/license\/new-bsd     New BSD License\n *\/",32],["T_WHITESPACE","\n",38],["T_CLASS","class",39],["T_WHITESPACE"," ",39],["T_STRING","Zend_Service_Amazon_Authentication_V1",39],["T_WHITESPACE"," ",39],["T_EXTENDS","extends",39],["T_WHITESPACE"," ",39],["T_STRING","Zend_Service_Amazon_Authentication",39],["T_WHITESPACE","\n",39],"{",["T_WHITESPACE","\n    ",40],["T_DOC_COMMENT","\/**\n     * Signature Version\n     *\/",41],["T_WHITESPACE","\n    ",43],["T_PROTECTED","protected",44],["T_WHITESPACE"," ",44],["T_VARIABLE","$_signatureVersion",44],["T_WHITESPACE"," ",44],"=",["T_WHITESPACE"," ",44],["T_CONSTANT_ENCAPSED_STRING","'1'",44],";",["T_WHITESPACE","\n\n    ",44],["T_DOC_COMMENT","\/**\n     * Signature Encoding Method\n     *\/",46],["T_WHITESPACE","\n    ",48],["T_PROTECTED","protected",49],["T_WHITESPACE"," ",49],["T_VARIABLE","$_signatureMethod",49],["T_WHITESPACE"," ",49],"=",["T_WHITESPACE"," ",49],["T_CONSTANT_ENCAPSED_STRING","'HmacSHA256'",49],";",["T_WHITESPACE","\n\n    ",49],["T_DOC_COMMENT","\/**\n     * Generate the required attributes for the signature\n     * @param string $url\n     * @param array $parameters\n     * @return string\n     *\/",51],["T_WHITESPACE","\n    ",56],["T_PUBLIC","public",57],["T_WHITESPACE"," ",57],["T_FUNCTION","function",57],["T_WHITESPACE"," ",57],["T_STRING","generateSignature",57],"(",["T_VARIABLE","$url",57],",",["T_WHITESPACE"," ",57],["T_ARRAY","array",57],["T_WHITESPACE"," ",57],"&",["T_VARIABLE","$parameters",57],")",["T_WHITESPACE","\n    ",57],"{",["T_WHITESPACE","\n        ",58],["T_VARIABLE","$parameters",59],"[",["T_CONSTANT_ENCAPSED_STRING","'AWSAccessKeyId'",59],"]",["T_WHITESPACE","   ",59],"=",["T_WHITESPACE"," ",59],["T_VARIABLE","$this",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","_accessKey",59],";",["T_WHITESPACE","\n        ",59],["T_VARIABLE","$parameters",60],"[",["T_CONSTANT_ENCAPSED_STRING","'SignatureVersion'",60],"]",["T_WHITESPACE"," ",60],"=",["T_WHITESPACE"," ",60],["T_VARIABLE","$this",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","_signatureVersion",60],";",["T_WHITESPACE","\n        ",60],["T_VARIABLE","$parameters",61],"[",["T_CONSTANT_ENCAPSED_STRING","'Version'",61],"]",["T_WHITESPACE","          ",61],"=",["T_WHITESPACE"," ",61],["T_VARIABLE","$this",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","_apiVersion",61],";",["T_WHITESPACE","\n        ",61],["T_IF","if",62],"(","!",["T_ISSET","isset",62],"(",["T_VARIABLE","$parameters",62],"[",["T_CONSTANT_ENCAPSED_STRING","'Timestamp'",62],"]",")",")",["T_WHITESPACE"," ",62],"{",["T_WHITESPACE","\n            ",62],["T_VARIABLE","$parameters",63],"[",["T_CONSTANT_ENCAPSED_STRING","'Timestamp'",63],"]",["T_WHITESPACE","    ",63],"=",["T_WHITESPACE"," ",63],["T_STRING","gmdate",63],"(",["T_CONSTANT_ENCAPSED_STRING","'Y-m-d\\TH:i:s\\Z'",63],",",["T_WHITESPACE"," ",63],["T_STRING","time",63],"(",")","+",["T_LNUMBER","10",63],")",";",["T_WHITESPACE","\n        ",63],"}",["T_WHITESPACE","\n\n        ",64],["T_VARIABLE","$data",66],["T_WHITESPACE"," ",66],"=",["T_WHITESPACE"," ",66],["T_VARIABLE","$this",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","_signParameters",66],"(",["T_VARIABLE","$url",66],",",["T_WHITESPACE"," ",66],["T_VARIABLE","$parameters",66],")",";",["T_WHITESPACE","\n\n        ",66],["T_RETURN","return",68],["T_WHITESPACE"," ",68],["T_VARIABLE","$data",68],";",["T_WHITESPACE","\n    ",68],"}",["T_WHITESPACE","\n\n    ",69],["T_DOC_COMMENT","\/**\n     * Computes the RFC 2104-compliant HMAC signature for request parameters\n     *\n     * This implements the Amazon Web Services signature, as per the following\n     * specification:\n     *\n     * 1. Sort all request parameters (including <tt>SignatureVersion<\/tt> and\n     *    excluding <tt>Signature<\/tt>, the value of which is being created),\n     *    ignoring case.\n     *\n     * 2. Iterate over the sorted list and append the parameter name (in its\n     *    original case) and then its value. Do not URL-encode the parameter\n     *    values before constructing this string. Do not use any separator\n     *    characters when appending strings.\n     *\n     * @param  string $queue_url  Queue URL\n     * @param  array  $parameters the parameters for which to get the signature.\n     *\n     * @return string the signed data.\n     *\/",71],["T_WHITESPACE","\n    ",90],["T_PROTECTED","protected",91],["T_WHITESPACE"," ",91],["T_FUNCTION","function",91],["T_WHITESPACE"," ",91],["T_STRING","_signParameters",91],"(",["T_VARIABLE","$url",91],",",["T_WHITESPACE"," ",91],["T_ARRAY","array",91],["T_WHITESPACE"," ",91],"&",["T_VARIABLE","$paramaters",91],")",["T_WHITESPACE","\n    ",91],"{",["T_WHITESPACE","\n        ",92],["T_VARIABLE","$data",93],["T_WHITESPACE"," ",93],"=",["T_WHITESPACE"," ",93],["T_CONSTANT_ENCAPSED_STRING","''",93],";",["T_WHITESPACE","\n\n        ",93],["T_STRING","uksort",95],"(",["T_VARIABLE","$paramaters",95],",",["T_WHITESPACE"," ",95],["T_CONSTANT_ENCAPSED_STRING","'strcasecmp'",95],")",";",["T_WHITESPACE","\n        ",95],["T_UNSET","unset",96],"(",["T_VARIABLE","$paramaters",96],"[",["T_CONSTANT_ENCAPSED_STRING","'Signature'",96],"]",")",";",["T_WHITESPACE","\n\n        ",96],["T_FOREACH","foreach",98],"(",["T_VARIABLE","$paramaters",98],["T_WHITESPACE"," ",98],["T_AS","as",98],["T_WHITESPACE"," ",98],["T_VARIABLE","$key",98],["T_WHITESPACE"," ",98],["T_DOUBLE_ARROW","=>",98],["T_WHITESPACE"," ",98],["T_VARIABLE","$value",98],")",["T_WHITESPACE"," ",98],"{",["T_WHITESPACE","\n            ",98],["T_VARIABLE","$data",99],["T_WHITESPACE"," ",99],["T_CONCAT_EQUAL",".=",99],["T_WHITESPACE"," ",99],["T_VARIABLE","$key",99],["T_WHITESPACE"," ",99],".",["T_WHITESPACE"," ",99],["T_VARIABLE","$value",99],";",["T_WHITESPACE","\n        ",99],"}",["T_WHITESPACE","\n\n        ",100],["T_VARIABLE","$hmac",102],["T_WHITESPACE"," ",102],"=",["T_WHITESPACE"," ",102],["T_STRING","Zend_Crypt_Hmac",102],["T_DOUBLE_COLON","::",102],["T_STRING","compute",102],"(",["T_VARIABLE","$this",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","_secretKey",102],",",["T_WHITESPACE"," ",102],["T_CONSTANT_ENCAPSED_STRING","'SHA1'",102],",",["T_WHITESPACE"," ",102],["T_VARIABLE","$data",102],",",["T_WHITESPACE"," ",102],["T_STRING","Zend_Crypt_Hmac",102],["T_DOUBLE_COLON","::",102],["T_STRING","BINARY",102],")",";",["T_WHITESPACE","\n\n        ",102],["T_VARIABLE","$paramaters",104],"[",["T_CONSTANT_ENCAPSED_STRING","'Signature'",104],"]",["T_WHITESPACE"," ",104],"=",["T_WHITESPACE"," ",104],["T_STRING","base64_encode",104],"(",["T_VARIABLE","$hmac",104],")",";",["T_WHITESPACE","\n\n        ",104],["T_RETURN","return",106],["T_WHITESPACE"," ",106],["T_VARIABLE","$data",106],";",["T_WHITESPACE","\n    ",106],"}",["T_WHITESPACE","\n",107],"}",["T_WHITESPACE","\n",108]]