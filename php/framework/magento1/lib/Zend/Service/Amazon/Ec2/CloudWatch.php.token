[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Zend Framework\n *\n * LICENSE\n *\n * This source file is subject to the new BSD license that is bundled\n * with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/framework.zend.com\/license\/new-bsd\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@zend.com so we can send you a copy immediately.\n *\n * @category   Zend\n * @package    Zend_Service_Amazon\n * @subpackage Ec2\n * @copyright  Copyright (c) 2005-2015 Zend Technologies USA Inc. (http:\/\/www.zend.com)\n * @license    http:\/\/framework.zend.com\/license\/new-bsd     New BSD License\n * @version    $Id$\n *\/",2],["T_WHITESPACE","\n\n",21],["T_DOC_COMMENT","\/**\n * @see Zend_Service_Amazon_Ec2_Abstract\n *\/",23],["T_WHITESPACE","\n",25],["T_COMMENT","#require_once 'Zend\/Service\/Amazon\/Ec2\/Abstract.php';\n",26],["T_WHITESPACE","\n",27],["T_DOC_COMMENT","\/**\n * An Amazon EC2 interface that allows yout to run, terminate, reboot and describe Amazon\n * Ec2 Instances.\n *\n * @category   Zend\n * @package    Zend_Service_Amazon\n * @subpackage Ec2\n * @copyright  Copyright (c) 2005-2015 Zend Technologies USA Inc. (http:\/\/www.zend.com)\n * @license    http:\/\/framework.zend.com\/license\/new-bsd     New BSD License\n *\/",28],["T_WHITESPACE","\n",37],["T_CLASS","class",38],["T_WHITESPACE"," ",38],["T_STRING","Zend_Service_Amazon_Ec2_CloudWatch",38],["T_WHITESPACE"," ",38],["T_EXTENDS","extends",38],["T_WHITESPACE"," ",38],["T_STRING","Zend_Service_Amazon_Ec2_Abstract",38],["T_WHITESPACE","\n",38],"{",["T_WHITESPACE","\n    ",39],["T_DOC_COMMENT","\/**\n     * The HTTP query server\n     *\/",40],["T_WHITESPACE","\n    ",42],["T_PROTECTED","protected",43],["T_WHITESPACE"," ",43],["T_VARIABLE","$_ec2Endpoint",43],["T_WHITESPACE"," ",43],"=",["T_WHITESPACE"," ",43],["T_CONSTANT_ENCAPSED_STRING","'monitoring.amazonaws.com'",43],";",["T_WHITESPACE","\n\n    ",43],["T_DOC_COMMENT","\/**\n     * The API version to use\n     *\/",45],["T_WHITESPACE","\n    ",47],["T_PROTECTED","protected",48],["T_WHITESPACE"," ",48],["T_VARIABLE","$_ec2ApiVersion",48],["T_WHITESPACE"," ",48],"=",["T_WHITESPACE"," ",48],["T_CONSTANT_ENCAPSED_STRING","'2009-05-15'",48],";",["T_WHITESPACE","\n\n    ",48],["T_DOC_COMMENT","\/**\n     * XML Namespace for the CloudWatch Stuff\n     *\/",50],["T_WHITESPACE","\n    ",52],["T_PROTECTED","protected",53],["T_WHITESPACE"," ",53],["T_VARIABLE","$_xmlNamespace",53],["T_WHITESPACE"," ",53],"=",["T_WHITESPACE"," ",53],["T_CONSTANT_ENCAPSED_STRING","'http:\/\/monitoring.amazonaws.com\/doc\/2009-05-15\/'",53],";",["T_WHITESPACE","\n\n    ",53],["T_DOC_COMMENT","\/**\n     * The following metrics are available from each EC2 instance.\n     *\n     * CPUUtilization: The percentage of allocated EC2 compute units that are\n     *  currently in use on the instance. This metric identifies the processing\n     *  power required to run an application upon a selected instance.\n     *\n     * NetworkIn: The number of bytes received on all network interfaces by\n     *  the instance. This metric identifies the volume of incoming network\n     *  traffic to an application on a single instance.\n     *\n     * NetworkOut: The number of bytes sent out on all network interfaces\n     *  by the instance. This metric identifies the volume of outgoing network\n     *  traffic to an application on a single instance.\n     *\n     * DiskWriteOps: Completed write operations to all hard disks available to\n     *  the instance. This metric identifies the rate at which an application\n     *  writes to a hard disk. This can be used to determine the speed in which\n     *  an application saves data to a hard disk.\n     *\n     * DiskReadBytes: Bytes read from all disks available to the instance. This\n     *  metric is used to determine the volume of the data the application reads\n     *  from the hard disk of the instance. This can be used to determine the\n     *  speed of the application for the customer.\n     *\n     * DiskReadOps: Completed read operations from all disks available to the\n     *  instances. This metric identifies the rate at which an application reads\n     *  a disk. This can be used to determine the speed in which an application\n     *  reads data from a hard disk.\n     *\n     * DiskWriteBytes: Bytes written to all disks available to the instance. This\n     *  metric is used to determine the volume of the data the application writes\n     *  onto the hard disk of the instance. This can be used to determine the speed\n     *  of the application for the customer.\n     *\n     * Latency: Time taken between a request and the corresponding response as seen\n     *  by the load balancer.\n     *\n     * RequestCount: The number of requests processed by the LoadBalancer.\n     *\n     * HealthyHostCount: The number of healthy instances. Both Load Balancing dimensions,\n     *  LoadBalancerName and AvailabilityZone, should be specified when retreiving\n     *  HealthyHostCount.\n     *\n     * UnHealthyHostCount: The number of unhealthy instances. Both Load Balancing dimensions,\n     *  LoadBalancerName and AvailabilityZone, should be specified when retreiving\n     *  UnHealthyHostCount.\n     *\n     * Amazon CloudWatch data for a new EC2 instance becomes available typically\n     * within one minute of the end of the first aggregation period for the new\n     * instance. You can use the currently available dimensions for EC2 instances\n     * along with these metrics in order to refine the slice of data you want returned,\n     * such as metric CPUUtilization and dimension ImageId to get all CPUUtilization\n     * data for instances using the specified AMI.\n     *\n     * @var array\n     *\/",55],["T_WHITESPACE","\n    ",111],["T_PROTECTED","protected",112],["T_WHITESPACE"," ",112],["T_VARIABLE","$_validMetrics",112],["T_WHITESPACE"," ",112],"=",["T_WHITESPACE"," ",112],["T_ARRAY","array",112],"(",["T_CONSTANT_ENCAPSED_STRING","'CPUUtilization'",112],",",["T_WHITESPACE"," ",112],["T_CONSTANT_ENCAPSED_STRING","'NetworkIn'",112],",",["T_WHITESPACE"," ",112],["T_CONSTANT_ENCAPSED_STRING","'NetworkOut'",112],",",["T_WHITESPACE","\n                                    ",112],["T_CONSTANT_ENCAPSED_STRING","'DiskWriteOps'",113],",",["T_WHITESPACE"," ",113],["T_CONSTANT_ENCAPSED_STRING","'DiskReadBytes'",113],",",["T_WHITESPACE"," ",113],["T_CONSTANT_ENCAPSED_STRING","'DiskReadOps'",113],",",["T_WHITESPACE","\n                                    ",113],["T_CONSTANT_ENCAPSED_STRING","'DiskWriteBytes'",114],",",["T_WHITESPACE"," ",114],["T_CONSTANT_ENCAPSED_STRING","'Latency'",114],",",["T_WHITESPACE"," ",114],["T_CONSTANT_ENCAPSED_STRING","'RequestCount'",114],",",["T_WHITESPACE","\n                                    ",114],["T_CONSTANT_ENCAPSED_STRING","'HealthyHostCount'",115],",",["T_WHITESPACE"," ",115],["T_CONSTANT_ENCAPSED_STRING","'UnHealthyHostCount'",115],")",";",["T_WHITESPACE","\n\n    ",115],["T_DOC_COMMENT","\/**\n     * Amazon CloudWatch not only aggregates the raw data coming in, it also computes\n     * several statistics on the data. The following table lists the statistics that you can request:\n     *\n     * Minimum: The lowest value observed during the specified period. This can be used to\n     *  determine low volumes of activity for your application.\n     *\n     * Maximum: The highest value observed during the specified period. You can use this to\n     *  determine high volumes of activity for your application.\n     *\n     * Sum: The sum of all values received (if appropriate, for example a rate would not be\n     *  summed, but a number of items would be). This statistic is useful for determining\n     *  the total volume of a metric.\n     *\n     * Average: The Average of all values received during the specified period. By comparing\n     *  this statistic with the minimum and maximum statistics, you can determine the full\n     *  scope of a metric and how close the average use is to the minimum and the maximum.\n     *  This will allow you to increase or decrease your resources as needed.\n     *\n     * Samples: The count (number) of measures used. This statistic is always returned to\n     *  show the user the size of the dataset collected. This will allow the user to properly\n     *  weight the data.\n     *\n     * Statistics are computed within a period you specify, such as all CPUUtilization within a\n     * five minute period. At a minimum, all data is aggregated into one minute intervals. This\n     * is the minimum resolution of the data. It is this data that can be aggregated into larger\n     * periods of time that you request.\n     *\n     * Aggregate data is generally available from the service within one minute from the end of the\n     * aggregation period. Delays in data propagation might cause late or partially late data in\n     * some cases. If your data is delayed, you should check the service\u00e2\u0080\u0099s Health Dashboard for\n     * any current operational issues with either Amazon CloudWatch or the services collecting\n     * the data, such as EC2 or Elastic Load Balancing.\n     *\n     * @var array\n     *\/",117],["T_WHITESPACE","\n    ",152],["T_PROTECTED","protected",153],["T_WHITESPACE"," ",153],["T_VARIABLE","$_validStatistics",153],["T_WHITESPACE"," ",153],"=",["T_WHITESPACE"," ",153],["T_ARRAY","array",153],"(",["T_CONSTANT_ENCAPSED_STRING","'Average'",153],",",["T_WHITESPACE"," ",153],["T_CONSTANT_ENCAPSED_STRING","'Maximum'",153],",",["T_WHITESPACE"," ",153],["T_CONSTANT_ENCAPSED_STRING","'Minimum'",153],",",["T_WHITESPACE"," ",153],["T_CONSTANT_ENCAPSED_STRING","'Samples'",153],",",["T_WHITESPACE"," ",153],["T_CONSTANT_ENCAPSED_STRING","'Sum'",153],")",";",["T_WHITESPACE","\n\n    ",153],["T_DOC_COMMENT","\/**\n     * Valid Dimention Keys for getMetricStatistics\n     *\n     * ImageId: This dimension filters the data you request for all instances running\n     *  this EC2 Amazon Machine Image (AMI).\n     *\n     * AvailabilityZone: This dimension filters the data you request for all instances\n     *  running in that EC2 Availability Zone.\n     *\n     * AutoScalingGroupName: This dimension filters the data you request for all instances\n     *  in a specified capacity group. An AutoScalingGroup is a collection of instances\n     *  defined by customers of the Auto Scaling service. This dimension is only available\n     *  for EC2 metrics when the instances are in such an AutoScalingGroup.\n     *\n     * InstanceId: This dimension filters the data you request for only the identified\n     *  instance. This allows a user to pinpoint an exact instance from which to monitor data.\n     *\n     * InstanceType: This dimension filters the data you request for all instances running\n     *  with this specified instance type. This allows a user to catagorize his data by the\n     *  type of instance running. For example, a user might compare data from an m1.small instance\n     *  and an m1.large instance to determine which has the better business value for his application.\n     *\n     * LoadBalancerName: This dimension filters the data you request for the specified LoadBalancer\n     *  name. A LoadBalancer is represented by a DNS name and provides the single destination to\n     *  which all requests intended for your application should be directed. This metric allows\n     *  you to examine data from all instances connected to a single LoadBalancer.\n     *\n     * @var array\n     *\/",155],["T_WHITESPACE","\n    ",183],["T_PROTECTED","protected",184],["T_WHITESPACE"," ",184],["T_VARIABLE","$_validDimensionsKeys",184],["T_WHITESPACE"," ",184],"=",["T_WHITESPACE"," ",184],["T_ARRAY","array",184],"(",["T_CONSTANT_ENCAPSED_STRING","'ImageId'",184],",",["T_WHITESPACE"," ",184],["T_CONSTANT_ENCAPSED_STRING","'AvailabilityZone'",184],",",["T_WHITESPACE"," ",184],["T_CONSTANT_ENCAPSED_STRING","'AutoScalingGroupName'",184],",",["T_WHITESPACE","\n                                            ",184],["T_CONSTANT_ENCAPSED_STRING","'InstanceId'",185],",",["T_WHITESPACE"," ",185],["T_CONSTANT_ENCAPSED_STRING","'InstanceType'",185],",",["T_WHITESPACE"," ",185],["T_CONSTANT_ENCAPSED_STRING","'LoadBalancerName'",185],")",";",["T_WHITESPACE","\n\n    ",185],["T_DOC_COMMENT","\/**\n     * Returns data for one or more statistics of given a metric\n     *\n     * Note:\n     * The maximum number of datapoints that the Amazon CloudWatch service will\n     * return in a single GetMetricStatistics request is 1,440. If a request is\n     * made that would generate more datapoints than this amount, Amazon CloudWatch\n     * will return an error. You can alter your request by narrowing the time range\n     * (StartTime, EndTime) or increasing the Period in your single request. You may\n     * also get all of the data at the granularity you originally asked for by making\n     * multiple requests with adjacent time ranges.\n     *\n     * @param array $options            The options you want to get statistics for:\n     *                                  ** Required **\n     *                                  MeasureName: The measure name that corresponds to\n     *                                      the measure for the gathered metric. Valid EC2 Values are\n     *                                      CPUUtilization, NetworkIn, NetworkOut, DiskWriteOps\n     *                                      DiskReadBytes, DiskReadOps, DiskWriteBytes. Valid Elastic\n     *                                      Load Balancing Metrics are Latency, RequestCount, HealthyHostCount\n     *                                      UnHealthyHostCount\n     *                                  Statistics: The statistics to be returned for the given metric. Valid\n     *                                      values are Average, Maximum, Minimum, Samples, Sum.  You can specify\n     *                                      this as a string or as an array of values.  If you don't specify one\n     *                                      it will default to Average instead of failing out.  If you specify an incorrect\n     *                                      option it will just skip it.\n     *                                  ** Optional **\n     *                                  Dimensions: Amazon CloudWatch allows you to specify one Dimension to further filter\n     *                                      metric data on. If you don't specify a dimension, the service returns the aggregate\n     *                                      of all the measures with the given measure name and time range.\n     *                                  Unit: The standard unit of Measurement for a given Measure. Valid Values: Seconds,\n     *                                      Percent, Bytes, Bits, Count, Bytes\/Second, Bits\/Second, Count\/Second, and None\n     *                                      Constraints: When using count\/second as the unit, you should use Sum as the statistic\n     *                                      instead of Average. Otherwise, the sample returns as equal to the number of requests\n     *                                      instead of the number of 60-second intervals. This will cause the Average to\n     *                                      always equals one when the unit is count\/second.\n     *                                  StartTime: The timestamp of the first datapoint to return, inclusive. For example,\n     *                                      2008-02-26T19:00:00+00:00. We round your value down to the nearest minute.\n     *                                      You can set your start time for more than two weeks in the past. However,\n     *                                      you will only get data for the past two weeks. (in ISO 8601 format)\n     *                                      Constraints: Must be before EndTime\n     *                                  EndTime: The timestamp to use for determining the last datapoint to return. This is\n     *                                      the last datapoint to fetch, exclusive. For example, 2008-02-26T20:00:00+00:00.\n     *                                      (in ISO 8601 format)\n     *\/",187],["T_WHITESPACE","\n    ",230],["T_PUBLIC","public",231],["T_WHITESPACE"," ",231],["T_FUNCTION","function",231],["T_WHITESPACE"," ",231],["T_STRING","getMetricStatistics",231],"(",["T_ARRAY","array",231],["T_WHITESPACE"," ",231],["T_VARIABLE","$options",231],")",["T_WHITESPACE","\n    ",231],"{",["T_WHITESPACE","\n        ",232],["T_VARIABLE","$_usedStatistics",233],["T_WHITESPACE"," ",233],"=",["T_WHITESPACE"," ",233],["T_ARRAY","array",233],"(",")",";",["T_WHITESPACE","\n\n        ",233],["T_VARIABLE","$params",235],["T_WHITESPACE"," ",235],"=",["T_WHITESPACE"," ",235],["T_ARRAY","array",235],"(",")",";",["T_WHITESPACE","\n        ",235],["T_VARIABLE","$params",236],"[",["T_CONSTANT_ENCAPSED_STRING","'Action'",236],"]",["T_WHITESPACE"," ",236],"=",["T_WHITESPACE"," ",236],["T_CONSTANT_ENCAPSED_STRING","'GetMetricStatistics'",236],";",["T_WHITESPACE","\n\n        ",236],["T_IF","if",238],["T_WHITESPACE"," ",238],"(","!",["T_ISSET","isset",238],"(",["T_VARIABLE","$options",238],"[",["T_CONSTANT_ENCAPSED_STRING","'Period'",238],"]",")",")",["T_WHITESPACE"," ",238],"{",["T_WHITESPACE","\n            ",238],["T_VARIABLE","$options",239],"[",["T_CONSTANT_ENCAPSED_STRING","'Period'",239],"]",["T_WHITESPACE"," ",239],"=",["T_WHITESPACE"," ",239],["T_LNUMBER","60",239],";",["T_WHITESPACE","\n        ",239],"}",["T_WHITESPACE","\n        ",240],["T_IF","if",241],["T_WHITESPACE"," ",241],"(","!",["T_ISSET","isset",241],"(",["T_VARIABLE","$options",241],"[",["T_CONSTANT_ENCAPSED_STRING","'Namespace'",241],"]",")",")",["T_WHITESPACE"," ",241],"{",["T_WHITESPACE","\n            ",241],["T_VARIABLE","$options",242],"[",["T_CONSTANT_ENCAPSED_STRING","'Namespace'",242],"]",["T_WHITESPACE"," ",242],"=",["T_WHITESPACE"," ",242],["T_CONSTANT_ENCAPSED_STRING","'AWS\/EC2'",242],";",["T_WHITESPACE","\n        ",242],"}",["T_WHITESPACE","\n\n        ",243],["T_IF","if",245],["T_WHITESPACE"," ",245],"(","!",["T_ISSET","isset",245],"(",["T_VARIABLE","$options",245],"[",["T_CONSTANT_ENCAPSED_STRING","'MeasureName'",245],"]",")",["T_WHITESPACE"," ",245],["T_BOOLEAN_OR","||",245],["T_WHITESPACE"," ",245],"!",["T_STRING","in_array",245],"(",["T_VARIABLE","$options",245],"[",["T_CONSTANT_ENCAPSED_STRING","'MeasureName'",245],"]",",",["T_WHITESPACE"," ",245],["T_VARIABLE","$this",245],["T_OBJECT_OPERATOR","->",245],["T_STRING","_validMetrics",245],",",["T_WHITESPACE"," ",245],["T_STRING","true",245],")",")",["T_WHITESPACE"," ",245],"{",["T_WHITESPACE","\n            ",245],["T_THROW","throw",246],["T_WHITESPACE"," ",246],["T_NEW","new",246],["T_WHITESPACE"," ",246],["T_STRING","Zend_Service_Amazon_Ec2_Exception",246],"(",["T_CONSTANT_ENCAPSED_STRING","'Invalid Metric Type: '",246],["T_WHITESPACE"," ",246],".",["T_WHITESPACE"," ",246],["T_VARIABLE","$options",246],"[",["T_CONSTANT_ENCAPSED_STRING","'MeasureName'",246],"]",")",";",["T_WHITESPACE","\n        ",246],"}",["T_WHITESPACE","\n\n        ",247],["T_IF","if",249],"(","!",["T_ISSET","isset",249],"(",["T_VARIABLE","$options",249],"[",["T_CONSTANT_ENCAPSED_STRING","'Statistics'",249],"]",")",")",["T_WHITESPACE"," ",249],"{",["T_WHITESPACE","\n            ",249],["T_VARIABLE","$options",250],"[",["T_CONSTANT_ENCAPSED_STRING","'Statistics'",250],"]","[","]",["T_WHITESPACE"," ",250],"=",["T_WHITESPACE"," ",250],["T_CONSTANT_ENCAPSED_STRING","'Average'",250],";",["T_WHITESPACE","\n        ",250],"}",["T_WHITESPACE"," ",251],["T_ELSEIF","elseif",251],"(","!",["T_STRING","is_array",251],"(",["T_VARIABLE","$options",251],"[",["T_CONSTANT_ENCAPSED_STRING","'Statistics'",251],"]",")",")",["T_WHITESPACE"," ",251],"{",["T_WHITESPACE","\n            ",251],["T_VARIABLE","$options",252],"[",["T_CONSTANT_ENCAPSED_STRING","'Statistics'",252],"]","[","]",["T_WHITESPACE"," ",252],"=",["T_WHITESPACE"," ",252],["T_VARIABLE","$options",252],"[",["T_CONSTANT_ENCAPSED_STRING","'Statistics'",252],"]",";",["T_WHITESPACE","\n        ",252],"}",["T_WHITESPACE","\n\n        ",253],["T_FOREACH","foreach",255],"(",["T_VARIABLE","$options",255],"[",["T_CONSTANT_ENCAPSED_STRING","'Statistics'",255],"]",["T_WHITESPACE"," ",255],["T_AS","as",255],["T_WHITESPACE"," ",255],["T_VARIABLE","$k",255],["T_DOUBLE_ARROW","=>",255],["T_VARIABLE","$s",255],")",["T_WHITESPACE"," ",255],"{",["T_WHITESPACE","\n            ",255],["T_IF","if",256],"(","!",["T_STRING","in_array",256],"(",["T_VARIABLE","$s",256],",",["T_WHITESPACE"," ",256],["T_VARIABLE","$this",256],["T_OBJECT_OPERATOR","->",256],["T_STRING","_validStatistics",256],",",["T_WHITESPACE"," ",256],["T_STRING","true",256],")",")",["T_WHITESPACE"," ",256],["T_CONTINUE","continue",256],";",["T_WHITESPACE","\n            ",256],["T_VARIABLE","$options",257],"[",["T_CONSTANT_ENCAPSED_STRING","'Statistics.member.'",257],["T_WHITESPACE"," ",257],".",["T_WHITESPACE"," ",257],"(",["T_VARIABLE","$k",257],"+",["T_LNUMBER","1",257],")","]",["T_WHITESPACE"," ",257],"=",["T_WHITESPACE"," ",257],["T_VARIABLE","$s",257],";",["T_WHITESPACE","\n            ",257],["T_VARIABLE","$_usedStatistics",258],"[","]",["T_WHITESPACE"," ",258],"=",["T_WHITESPACE"," ",258],["T_VARIABLE","$s",258],";",["T_WHITESPACE","\n        ",258],"}",["T_WHITESPACE","\n        ",259],["T_UNSET","unset",260],"(",["T_VARIABLE","$options",260],"[",["T_CONSTANT_ENCAPSED_STRING","'Statistics'",260],"]",")",";",["T_WHITESPACE","\n\n        ",260],["T_IF","if",262],"(",["T_ISSET","isset",262],"(",["T_VARIABLE","$options",262],"[",["T_CONSTANT_ENCAPSED_STRING","'StartTime'",262],"]",")",")",["T_WHITESPACE"," ",262],"{",["T_WHITESPACE","\n            ",262],["T_IF","if",263],"(","!",["T_STRING","is_numeric",263],"(",["T_VARIABLE","$options",263],"[",["T_CONSTANT_ENCAPSED_STRING","'StartTime'",263],"]",")",")",["T_WHITESPACE"," ",263],["T_VARIABLE","$options",263],"[",["T_CONSTANT_ENCAPSED_STRING","'StartTime'",263],"]",["T_WHITESPACE"," ",263],"=",["T_WHITESPACE"," ",263],["T_STRING","strtotime",263],"(",["T_VARIABLE","$options",263],"[",["T_CONSTANT_ENCAPSED_STRING","'StartTime'",263],"]",")",";",["T_WHITESPACE","\n            ",263],["T_VARIABLE","$options",264],"[",["T_CONSTANT_ENCAPSED_STRING","'StartTime'",264],"]",["T_WHITESPACE"," ",264],"=",["T_WHITESPACE"," ",264],["T_STRING","gmdate",264],"(",["T_CONSTANT_ENCAPSED_STRING","'c'",264],",",["T_WHITESPACE"," ",264],["T_VARIABLE","$options",264],"[",["T_CONSTANT_ENCAPSED_STRING","'StartTime'",264],"]",")",";",["T_WHITESPACE","\n        ",264],"}",["T_WHITESPACE"," ",265],["T_ELSE","else",265],["T_WHITESPACE"," ",265],"{",["T_WHITESPACE","\n            ",265],["T_VARIABLE","$options",266],"[",["T_CONSTANT_ENCAPSED_STRING","'StartTime'",266],"]",["T_WHITESPACE"," ",266],"=",["T_WHITESPACE"," ",266],["T_STRING","gmdate",266],"(",["T_CONSTANT_ENCAPSED_STRING","'c'",266],",",["T_WHITESPACE"," ",266],["T_STRING","strtotime",266],"(",["T_CONSTANT_ENCAPSED_STRING","'-1 hour'",266],")",")",";",["T_WHITESPACE","\n        ",266],"}",["T_WHITESPACE","\n\n        ",267],["T_IF","if",269],"(",["T_ISSET","isset",269],"(",["T_VARIABLE","$options",269],"[",["T_CONSTANT_ENCAPSED_STRING","'EndTime'",269],"]",")",")",["T_WHITESPACE"," ",269],"{",["T_WHITESPACE","\n            ",269],["T_IF","if",270],"(","!",["T_STRING","is_numeric",270],"(",["T_VARIABLE","$options",270],"[",["T_CONSTANT_ENCAPSED_STRING","'EndTime'",270],"]",")",")",["T_WHITESPACE"," ",270],["T_VARIABLE","$options",270],"[",["T_CONSTANT_ENCAPSED_STRING","'EndTime'",270],"]",["T_WHITESPACE"," ",270],"=",["T_WHITESPACE"," ",270],["T_STRING","strtotime",270],"(",["T_VARIABLE","$options",270],"[",["T_CONSTANT_ENCAPSED_STRING","'EndTime'",270],"]",")",";",["T_WHITESPACE","\n            ",270],["T_VARIABLE","$options",271],"[",["T_CONSTANT_ENCAPSED_STRING","'EndTime'",271],"]",["T_WHITESPACE"," ",271],"=",["T_WHITESPACE"," ",271],["T_STRING","gmdate",271],"(",["T_CONSTANT_ENCAPSED_STRING","'c'",271],",",["T_WHITESPACE"," ",271],["T_VARIABLE","$options",271],"[",["T_CONSTANT_ENCAPSED_STRING","'EndTime'",271],"]",")",";",["T_WHITESPACE","\n        ",271],"}",["T_WHITESPACE"," ",272],["T_ELSE","else",272],["T_WHITESPACE"," ",272],"{",["T_WHITESPACE","\n            ",272],["T_VARIABLE","$options",273],"[",["T_CONSTANT_ENCAPSED_STRING","'EndTime'",273],"]",["T_WHITESPACE"," ",273],"=",["T_WHITESPACE"," ",273],["T_STRING","gmdate",273],"(",["T_CONSTANT_ENCAPSED_STRING","'c'",273],")",";",["T_WHITESPACE","\n        ",273],"}",["T_WHITESPACE","\n\n        ",274],["T_IF","if",276],"(",["T_ISSET","isset",276],"(",["T_VARIABLE","$options",276],"[",["T_CONSTANT_ENCAPSED_STRING","'Dimensions'",276],"]",")",")",["T_WHITESPACE"," ",276],"{",["T_WHITESPACE","\n            ",276],["T_VARIABLE","$x",277],["T_WHITESPACE"," ",277],"=",["T_WHITESPACE"," ",277],["T_LNUMBER","1",277],";",["T_WHITESPACE","\n            ",277],["T_FOREACH","foreach",278],"(",["T_VARIABLE","$options",278],"[",["T_CONSTANT_ENCAPSED_STRING","'Dimensions'",278],"]",["T_WHITESPACE"," ",278],["T_AS","as",278],["T_WHITESPACE"," ",278],["T_VARIABLE","$dimKey",278],["T_DOUBLE_ARROW","=>",278],["T_VARIABLE","$dimVal",278],")",["T_WHITESPACE"," ",278],"{",["T_WHITESPACE","\n                ",278],["T_IF","if",279],"(","!",["T_STRING","in_array",279],"(",["T_VARIABLE","$dimKey",279],",",["T_WHITESPACE"," ",279],["T_VARIABLE","$this",279],["T_OBJECT_OPERATOR","->",279],["T_STRING","_validDimensionsKeys",279],",",["T_WHITESPACE"," ",279],["T_STRING","true",279],")",")",["T_WHITESPACE"," ",279],["T_CONTINUE","continue",279],";",["T_WHITESPACE","\n                ",279],["T_VARIABLE","$options",280],"[",["T_CONSTANT_ENCAPSED_STRING","'Dimensions.member.'",280],["T_WHITESPACE"," ",280],".",["T_WHITESPACE"," ",280],["T_VARIABLE","$x",280],["T_WHITESPACE"," ",280],".",["T_WHITESPACE"," ",280],["T_CONSTANT_ENCAPSED_STRING","'.Name'",280],"]",["T_WHITESPACE"," ",280],"=",["T_WHITESPACE"," ",280],["T_VARIABLE","$dimKey",280],";",["T_WHITESPACE","\n                ",280],["T_VARIABLE","$options",281],"[",["T_CONSTANT_ENCAPSED_STRING","'Dimensions.member.'",281],["T_WHITESPACE"," ",281],".",["T_WHITESPACE"," ",281],["T_VARIABLE","$x",281],["T_WHITESPACE"," ",281],".",["T_WHITESPACE"," ",281],["T_CONSTANT_ENCAPSED_STRING","'.Value'",281],"]",["T_WHITESPACE"," ",281],"=",["T_WHITESPACE"," ",281],["T_VARIABLE","$dimVal",281],";",["T_WHITESPACE","\n                ",281],["T_VARIABLE","$x",282],["T_INC","++",282],";",["T_WHITESPACE","\n            ",282],"}",["T_WHITESPACE","\n\n            ",283],["T_UNSET","unset",285],"(",["T_VARIABLE","$options",285],"[",["T_CONSTANT_ENCAPSED_STRING","'Dimensions'",285],"]",")",";",["T_WHITESPACE","\n        ",285],"}",["T_WHITESPACE","\n\n        ",286],["T_VARIABLE","$params",288],["T_WHITESPACE"," ",288],"=",["T_WHITESPACE"," ",288],["T_STRING","array_merge",288],"(",["T_VARIABLE","$params",288],",",["T_WHITESPACE"," ",288],["T_VARIABLE","$options",288],")",";",["T_WHITESPACE","\n\n        ",288],["T_VARIABLE","$response",290],["T_WHITESPACE"," ",290],"=",["T_WHITESPACE"," ",290],["T_VARIABLE","$this",290],["T_OBJECT_OPERATOR","->",290],["T_STRING","sendRequest",290],"(",["T_VARIABLE","$params",290],")",";",["T_WHITESPACE","\n        ",290],["T_VARIABLE","$response",291],["T_OBJECT_OPERATOR","->",291],["T_STRING","setNamespace",291],"(",["T_VARIABLE","$this",291],["T_OBJECT_OPERATOR","->",291],["T_STRING","_xmlNamespace",291],")",";",["T_WHITESPACE","\n\n        ",291],["T_VARIABLE","$xpath",293],["T_WHITESPACE"," ",293],"=",["T_WHITESPACE"," ",293],["T_VARIABLE","$response",293],["T_OBJECT_OPERATOR","->",293],["T_STRING","getXPath",293],"(",")",";",["T_WHITESPACE","\n        ",293],["T_VARIABLE","$nodes",294],["T_WHITESPACE"," ",294],"=",["T_WHITESPACE"," ",294],["T_VARIABLE","$xpath",294],["T_OBJECT_OPERATOR","->",294],["T_STRING","query",294],"(",["T_CONSTANT_ENCAPSED_STRING","'\/\/ec2:GetMetricStatisticsResult\/ec2:Datapoints\/ec2:member'",294],")",";",["T_WHITESPACE","\n\n        ",294],["T_VARIABLE","$return",296],["T_WHITESPACE"," ",296],"=",["T_WHITESPACE"," ",296],["T_ARRAY","array",296],"(",")",";",["T_WHITESPACE","\n        ",296],["T_VARIABLE","$return",297],"[",["T_CONSTANT_ENCAPSED_STRING","'label'",297],"]",["T_WHITESPACE"," ",297],"=",["T_WHITESPACE"," ",297],["T_VARIABLE","$xpath",297],["T_OBJECT_OPERATOR","->",297],["T_STRING","evaluate",297],"(",["T_CONSTANT_ENCAPSED_STRING","'string(\/\/ec2:GetMetricStatisticsResult\/ec2:Label\/text())'",297],")",";",["T_WHITESPACE","\n        ",297],["T_FOREACH","foreach",298],["T_WHITESPACE"," ",298],"(",["T_WHITESPACE"," ",298],["T_VARIABLE","$nodes",298],["T_WHITESPACE"," ",298],["T_AS","as",298],["T_WHITESPACE"," ",298],["T_VARIABLE","$node",298],["T_WHITESPACE"," ",298],")",["T_WHITESPACE"," ",298],"{",["T_WHITESPACE","\n            ",298],["T_VARIABLE","$item",299],["T_WHITESPACE"," ",299],"=",["T_WHITESPACE"," ",299],["T_ARRAY","array",299],"(",")",";",["T_WHITESPACE","\n\n            ",299],["T_VARIABLE","$item",301],"[",["T_CONSTANT_ENCAPSED_STRING","'Timestamp'",301],"]",["T_WHITESPACE"," ",301],"=",["T_WHITESPACE"," ",301],["T_VARIABLE","$xpath",301],["T_OBJECT_OPERATOR","->",301],["T_STRING","evaluate",301],"(",["T_CONSTANT_ENCAPSED_STRING","'string(ec2:Timestamp\/text())'",301],",",["T_WHITESPACE"," ",301],["T_VARIABLE","$node",301],")",";",["T_WHITESPACE","\n            ",301],["T_VARIABLE","$item",302],"[",["T_CONSTANT_ENCAPSED_STRING","'Unit'",302],"]",["T_WHITESPACE"," ",302],"=",["T_WHITESPACE"," ",302],["T_VARIABLE","$xpath",302],["T_OBJECT_OPERATOR","->",302],["T_STRING","evaluate",302],"(",["T_CONSTANT_ENCAPSED_STRING","'string(ec2:Unit\/text())'",302],",",["T_WHITESPACE"," ",302],["T_VARIABLE","$node",302],")",";",["T_WHITESPACE","\n            ",302],["T_VARIABLE","$item",303],"[",["T_CONSTANT_ENCAPSED_STRING","'Samples'",303],"]",["T_WHITESPACE"," ",303],"=",["T_WHITESPACE"," ",303],["T_VARIABLE","$xpath",303],["T_OBJECT_OPERATOR","->",303],["T_STRING","evaluate",303],"(",["T_CONSTANT_ENCAPSED_STRING","'string(ec2:Samples\/text())'",303],",",["T_WHITESPACE"," ",303],["T_VARIABLE","$node",303],")",";",["T_WHITESPACE","\n            ",303],["T_FOREACH","foreach",304],"(",["T_VARIABLE","$_usedStatistics",304],["T_WHITESPACE"," ",304],["T_AS","as",304],["T_WHITESPACE"," ",304],["T_VARIABLE","$us",304],")",["T_WHITESPACE"," ",304],"{",["T_WHITESPACE","\n                ",304],["T_VARIABLE","$item",305],"[",["T_VARIABLE","$us",305],"]",["T_WHITESPACE"," ",305],"=",["T_WHITESPACE"," ",305],["T_VARIABLE","$xpath",305],["T_OBJECT_OPERATOR","->",305],["T_STRING","evaluate",305],"(",["T_CONSTANT_ENCAPSED_STRING","'string(ec2:'",305],["T_WHITESPACE"," ",305],".",["T_WHITESPACE"," ",305],["T_VARIABLE","$us",305],["T_WHITESPACE"," ",305],".",["T_WHITESPACE"," ",305],["T_CONSTANT_ENCAPSED_STRING","'\/text())'",305],",",["T_WHITESPACE"," ",305],["T_VARIABLE","$node",305],")",";",["T_WHITESPACE","\n            ",305],"}",["T_WHITESPACE","\n\n            ",306],["T_VARIABLE","$return",308],"[",["T_CONSTANT_ENCAPSED_STRING","'datapoints'",308],"]","[","]",["T_WHITESPACE"," ",308],"=",["T_WHITESPACE"," ",308],["T_VARIABLE","$item",308],";",["T_WHITESPACE","\n            ",308],["T_UNSET","unset",309],"(",["T_VARIABLE","$item",309],",",["T_WHITESPACE"," ",309],["T_VARIABLE","$node",309],")",";",["T_WHITESPACE","\n        ",309],"}",["T_WHITESPACE","\n\n        ",310],["T_RETURN","return",312],["T_WHITESPACE"," ",312],["T_VARIABLE","$return",312],";",["T_WHITESPACE","\n\n    ",312],"}",["T_WHITESPACE","\n\n    ",314],["T_DOC_COMMENT","\/**\n     * Return the Metrics that are aviable for your current monitored instances\n     *\n     * @param string $nextToken     The NextToken parameter is an optional parameter\n     *                                 that allows you to retrieve the next set of results\n     *                                 for your ListMetrics query.\n     * @return array\n     *\/",316],["T_WHITESPACE","\n    ",323],["T_PUBLIC","public",324],["T_WHITESPACE"," ",324],["T_FUNCTION","function",324],["T_WHITESPACE"," ",324],["T_STRING","listMetrics",324],"(",["T_VARIABLE","$nextToken",324],["T_WHITESPACE"," ",324],"=",["T_WHITESPACE"," ",324],["T_STRING","null",324],")",["T_WHITESPACE","\n    ",324],"{",["T_WHITESPACE","\n        ",325],["T_VARIABLE","$params",326],["T_WHITESPACE"," ",326],"=",["T_WHITESPACE"," ",326],["T_ARRAY","array",326],"(",")",";",["T_WHITESPACE","\n        ",326],["T_VARIABLE","$params",327],"[",["T_CONSTANT_ENCAPSED_STRING","'Action'",327],"]",["T_WHITESPACE"," ",327],"=",["T_WHITESPACE"," ",327],["T_CONSTANT_ENCAPSED_STRING","'ListMetrics'",327],";",["T_WHITESPACE","\n        ",327],["T_IF","if",328],["T_WHITESPACE"," ",328],"(","!",["T_EMPTY","empty",328],"(",["T_VARIABLE","$nextToken",328],")",")",["T_WHITESPACE"," ",328],"{",["T_WHITESPACE","\n            ",328],["T_VARIABLE","$params",329],"[",["T_CONSTANT_ENCAPSED_STRING","'NextToken'",329],"]",["T_WHITESPACE"," ",329],"=",["T_WHITESPACE"," ",329],["T_VARIABLE","$nextToken",329],";",["T_WHITESPACE","\n        ",329],"}",["T_WHITESPACE","\n\n        ",330],["T_VARIABLE","$response",332],["T_WHITESPACE"," ",332],"=",["T_WHITESPACE"," ",332],["T_VARIABLE","$this",332],["T_OBJECT_OPERATOR","->",332],["T_STRING","sendRequest",332],"(",["T_VARIABLE","$params",332],")",";",["T_WHITESPACE","\n        ",332],["T_VARIABLE","$response",333],["T_OBJECT_OPERATOR","->",333],["T_STRING","setNamespace",333],"(",["T_VARIABLE","$this",333],["T_OBJECT_OPERATOR","->",333],["T_STRING","_xmlNamespace",333],")",";",["T_WHITESPACE","\n\n        ",333],["T_VARIABLE","$xpath",335],["T_WHITESPACE"," ",335],"=",["T_WHITESPACE"," ",335],["T_VARIABLE","$response",335],["T_OBJECT_OPERATOR","->",335],["T_STRING","getXPath",335],"(",")",";",["T_WHITESPACE","\n        ",335],["T_VARIABLE","$nodes",336],["T_WHITESPACE"," ",336],"=",["T_WHITESPACE"," ",336],["T_VARIABLE","$xpath",336],["T_OBJECT_OPERATOR","->",336],["T_STRING","query",336],"(",["T_CONSTANT_ENCAPSED_STRING","'\/\/ec2:ListMetricsResult\/ec2:Metrics\/ec2:member'",336],")",";",["T_WHITESPACE","\n\n        ",336],["T_VARIABLE","$return",338],["T_WHITESPACE"," ",338],"=",["T_WHITESPACE"," ",338],["T_ARRAY","array",338],"(",")",";",["T_WHITESPACE","\n        ",338],["T_FOREACH","foreach",339],["T_WHITESPACE"," ",339],"(",["T_WHITESPACE"," ",339],["T_VARIABLE","$nodes",339],["T_WHITESPACE"," ",339],["T_AS","as",339],["T_WHITESPACE"," ",339],["T_VARIABLE","$node",339],["T_WHITESPACE"," ",339],")",["T_WHITESPACE"," ",339],"{",["T_WHITESPACE","\n            ",339],["T_VARIABLE","$item",340],["T_WHITESPACE"," ",340],"=",["T_WHITESPACE"," ",340],["T_ARRAY","array",340],"(",")",";",["T_WHITESPACE","\n\n            ",340],["T_VARIABLE","$item",342],"[",["T_CONSTANT_ENCAPSED_STRING","'MeasureName'",342],"]",["T_WHITESPACE"," ",342],"=",["T_WHITESPACE"," ",342],["T_VARIABLE","$xpath",342],["T_OBJECT_OPERATOR","->",342],["T_STRING","evaluate",342],"(",["T_CONSTANT_ENCAPSED_STRING","'string(ec2:MeasureName\/text())'",342],",",["T_WHITESPACE"," ",342],["T_VARIABLE","$node",342],")",";",["T_WHITESPACE","\n            ",342],["T_VARIABLE","$item",343],"[",["T_CONSTANT_ENCAPSED_STRING","'Namespace'",343],"]",["T_WHITESPACE"," ",343],"=",["T_WHITESPACE"," ",343],["T_VARIABLE","$xpath",343],["T_OBJECT_OPERATOR","->",343],["T_STRING","evaluate",343],"(",["T_CONSTANT_ENCAPSED_STRING","'string(ec2:Namespace\/text())'",343],",",["T_WHITESPACE"," ",343],["T_VARIABLE","$node",343],")",";",["T_WHITESPACE","\n            ",343],["T_VARIABLE","$item",344],"[",["T_CONSTANT_ENCAPSED_STRING","'Deminsions'",344],"]","[",["T_CONSTANT_ENCAPSED_STRING","'name'",344],"]",["T_WHITESPACE"," ",344],"=",["T_WHITESPACE"," ",344],["T_VARIABLE","$xpath",344],["T_OBJECT_OPERATOR","->",344],["T_STRING","evaluate",344],"(",["T_CONSTANT_ENCAPSED_STRING","'string(ec2:Dimensions\/ec2:member\/ec2:Name\/text())'",344],",",["T_WHITESPACE"," ",344],["T_VARIABLE","$node",344],")",";",["T_WHITESPACE","\n            ",344],["T_VARIABLE","$item",345],"[",["T_CONSTANT_ENCAPSED_STRING","'Deminsions'",345],"]","[",["T_CONSTANT_ENCAPSED_STRING","'value'",345],"]",["T_WHITESPACE"," ",345],"=",["T_WHITESPACE"," ",345],["T_VARIABLE","$xpath",345],["T_OBJECT_OPERATOR","->",345],["T_STRING","evaluate",345],"(",["T_CONSTANT_ENCAPSED_STRING","'string(ec2:Dimensions\/ec2:member\/ec2:Value\/text())'",345],",",["T_WHITESPACE"," ",345],["T_VARIABLE","$node",345],")",";",["T_WHITESPACE","\n\n            ",345],["T_IF","if",347],["T_WHITESPACE"," ",347],"(",["T_EMPTY","empty",347],"(",["T_VARIABLE","$item",347],"[",["T_CONSTANT_ENCAPSED_STRING","'Deminsions'",347],"]","[",["T_CONSTANT_ENCAPSED_STRING","'name'",347],"]",")",")",["T_WHITESPACE"," ",347],"{",["T_WHITESPACE","\n                ",347],["T_VARIABLE","$item",348],"[",["T_CONSTANT_ENCAPSED_STRING","'Deminsions'",348],"]",["T_WHITESPACE"," ",348],"=",["T_WHITESPACE"," ",348],["T_ARRAY","array",348],"(",")",";",["T_WHITESPACE","\n            ",348],"}",["T_WHITESPACE","\n\n            ",349],["T_VARIABLE","$return",351],"[","]",["T_WHITESPACE"," ",351],"=",["T_WHITESPACE"," ",351],["T_VARIABLE","$item",351],";",["T_WHITESPACE","\n            ",351],["T_UNSET","unset",352],"(",["T_VARIABLE","$item",352],",",["T_WHITESPACE"," ",352],["T_VARIABLE","$node",352],")",";",["T_WHITESPACE","\n        ",352],"}",["T_WHITESPACE","\n\n        ",353],["T_RETURN","return",355],["T_WHITESPACE"," ",355],["T_VARIABLE","$return",355],";",["T_WHITESPACE","\n    ",355],"}",["T_WHITESPACE","\n",356],"}",["T_WHITESPACE","\n",357]]