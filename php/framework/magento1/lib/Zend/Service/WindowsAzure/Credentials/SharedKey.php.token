[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Zend Framework\n *\n * LICENSE\n *\n * This source file is subject to the new BSD license that is bundled\n * with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/framework.zend.com\/license\/new-bsd\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@zend.com so we can send you a copy immediately.\n *\n * @category   Zend\n * @package    Zend_Service_WindowsAzure\n * @copyright  Copyright (c) 2005-2015 Zend Technologies USA Inc. (http:\/\/www.zend.com)\n * @license    http:\/\/framework.zend.com\/license\/new-bsd     New BSD License\n * @version    $Id$\n *\/",2],["T_WHITESPACE","\n\n",20],["T_DOC_COMMENT","\/**\n * @see Zend_Service_WindowsAzure_Credentials_CredentialsAbstract\n *\/",22],["T_WHITESPACE","\n",24],["T_COMMENT","#require_once 'Zend\/Service\/WindowsAzure\/Credentials\/CredentialsAbstract.php';\n",25],["T_WHITESPACE","\n",26],["T_DOC_COMMENT","\/**\n * @category   Zend\n * @package    Zend_Service_WindowsAzure\n * @copyright  Copyright (c) 2005-2015 Zend Technologies USA Inc. (http:\/\/www.zend.com)\n * @license    http:\/\/framework.zend.com\/license\/new-bsd     New BSD License\n *\/",27],["T_WHITESPACE"," \n",32],["T_CLASS","class",33],["T_WHITESPACE"," ",33],["T_STRING","Zend_Service_WindowsAzure_Credentials_SharedKey",33],["T_WHITESPACE","\n    ",33],["T_EXTENDS","extends",34],["T_WHITESPACE"," ",34],["T_STRING","Zend_Service_WindowsAzure_Credentials_CredentialsAbstract",34],["T_WHITESPACE","\n",34],"{",["T_WHITESPACE","\n    ",35],["T_DOC_COMMENT","\/**\n\t * Sign request URL with credentials\n\t *\n\t * @param string $requestUrl Request URL\n\t * @param string $resourceType Resource type\n\t * @param string $requiredPermission Required permission\n\t * @return string Signed request URL\n\t *\/",36],["T_WHITESPACE","\n\t",43],["T_PUBLIC","public",44],["T_WHITESPACE"," ",44],["T_FUNCTION","function",44],["T_WHITESPACE"," ",44],["T_STRING","signRequestUrl",44],"(",["T_WHITESPACE","\n\t\t",44],["T_VARIABLE","$requestUrl",45],["T_WHITESPACE"," ",45],"=",["T_WHITESPACE"," ",45],["T_CONSTANT_ENCAPSED_STRING","''",45],",",["T_WHITESPACE","\n\t\t",45],["T_VARIABLE","$resourceType",46],["T_WHITESPACE"," ",46],"=",["T_WHITESPACE"," ",46],["T_STRING","Zend_Service_WindowsAzure_Storage",46],["T_DOUBLE_COLON","::",46],["T_STRING","RESOURCE_UNKNOWN",46],",",["T_WHITESPACE","\n\t\t",46],["T_VARIABLE","$requiredPermission",47],["T_WHITESPACE"," ",47],"=",["T_WHITESPACE"," ",47],["T_STRING","Zend_Service_WindowsAzure_Credentials_CredentialsAbstract",47],["T_DOUBLE_COLON","::",47],["T_STRING","PERMISSION_READ",47],["T_WHITESPACE","\n\t",47],")",["T_WHITESPACE"," ",48],"{",["T_WHITESPACE","\n\t    ",48],["T_RETURN","return",49],["T_WHITESPACE"," ",49],["T_VARIABLE","$requestUrl",49],";",["T_WHITESPACE","\n\t",49],"}",["T_WHITESPACE","\n\t\n\t",50],["T_DOC_COMMENT","\/**\n\t * Sign request headers with credentials\n\t *\n\t * @param string $httpVerb HTTP verb the request will use\n\t * @param string $path Path for the request\n\t * @param string $queryString Query string for the request\n\t * @param array $headers x-ms headers to add\n\t * @param boolean $forTableStorage Is the request for table storage?\n\t * @param string $resourceType Resource type\n\t * @param string $requiredPermission Required permission\n\t * @param mixed  $rawData Raw post data\n\t * @return array Array of headers\n\t *\/",52],["T_WHITESPACE","\n\t",64],["T_PUBLIC","public",65],["T_WHITESPACE"," ",65],["T_FUNCTION","function",65],["T_WHITESPACE"," ",65],["T_STRING","signRequestHeaders",65],"(",["T_WHITESPACE","\n\t\t",65],["T_VARIABLE","$httpVerb",66],["T_WHITESPACE"," ",66],"=",["T_WHITESPACE"," ",66],["T_STRING","Zend_Http_Client",66],["T_DOUBLE_COLON","::",66],["T_STRING","GET",66],",",["T_WHITESPACE","\n\t\t",66],["T_VARIABLE","$path",67],["T_WHITESPACE"," ",67],"=",["T_WHITESPACE"," ",67],["T_CONSTANT_ENCAPSED_STRING","'\/'",67],",",["T_WHITESPACE","\n\t\t",67],["T_VARIABLE","$queryString",68],["T_WHITESPACE"," ",68],"=",["T_WHITESPACE"," ",68],["T_CONSTANT_ENCAPSED_STRING","''",68],",",["T_WHITESPACE","\n\t\t",68],["T_VARIABLE","$headers",69],["T_WHITESPACE"," ",69],"=",["T_WHITESPACE"," ",69],["T_STRING","null",69],",",["T_WHITESPACE","\n\t\t",69],["T_VARIABLE","$forTableStorage",70],["T_WHITESPACE"," ",70],"=",["T_WHITESPACE"," ",70],["T_STRING","false",70],",",["T_WHITESPACE","\n\t\t",70],["T_VARIABLE","$resourceType",71],["T_WHITESPACE"," ",71],"=",["T_WHITESPACE"," ",71],["T_STRING","Zend_Service_WindowsAzure_Storage",71],["T_DOUBLE_COLON","::",71],["T_STRING","RESOURCE_UNKNOWN",71],",",["T_WHITESPACE","\n\t\t",71],["T_VARIABLE","$requiredPermission",72],["T_WHITESPACE"," ",72],"=",["T_WHITESPACE"," ",72],["T_STRING","Zend_Service_WindowsAzure_Credentials_CredentialsAbstract",72],["T_DOUBLE_COLON","::",72],["T_STRING","PERMISSION_READ",72],",",["T_WHITESPACE","\n\t\t",72],["T_VARIABLE","$rawData",73],["T_WHITESPACE"," ",73],"=",["T_WHITESPACE"," ",73],["T_STRING","null",73],["T_WHITESPACE","\n\t",73],")",["T_WHITESPACE"," ",74],"{",["T_WHITESPACE","\n\t\t",74],["T_COMMENT","\/\/ http:\/\/github.com\/sriramk\/winazurestorage\/blob\/214010a2f8931bac9c96dfeb337d56fe084ca63b\/winazurestorage.py\n",75],["T_WHITESPACE","\n\t\t",76],["T_COMMENT","\/\/ Table storage?\n",77],["T_WHITESPACE","\t\t",78],["T_IF","if",78],["T_WHITESPACE"," ",78],"(",["T_VARIABLE","$forTableStorage",78],")",["T_WHITESPACE"," ",78],"{",["T_WHITESPACE","\n\t\t\t",78],["T_COMMENT","#require_once 'Zend\/Service\/WindowsAzure\/Credentials\/Exception.php';\n",79],["T_WHITESPACE","\t\t\t",80],["T_THROW","throw",80],["T_WHITESPACE"," ",80],["T_NEW","new",80],["T_WHITESPACE"," ",80],["T_STRING","Zend_Service_WindowsAzure_Credentials_Exception",80],"(",["T_CONSTANT_ENCAPSED_STRING","'The Windows Azure SDK for PHP does not support SharedKey authentication on table storage. Use SharedKeyLite authentication instead.'",80],")",";",["T_WHITESPACE","\n\t\t",80],"}",["T_WHITESPACE","\n\t\t\n\t\t",81],["T_COMMENT","\/\/ Determine path\n",83],["T_WHITESPACE","\t\t",84],["T_IF","if",84],["T_WHITESPACE"," ",84],"(",["T_VARIABLE","$this",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","_usePathStyleUri",84],")",["T_WHITESPACE"," ",84],"{",["T_WHITESPACE","\n\t\t\t",84],["T_VARIABLE","$path",85],["T_WHITESPACE"," ",85],"=",["T_WHITESPACE"," ",85],["T_STRING","substr",85],"(",["T_VARIABLE","$path",85],",",["T_WHITESPACE"," ",85],["T_STRING","strpos",85],"(",["T_VARIABLE","$path",85],",",["T_WHITESPACE"," ",85],["T_CONSTANT_ENCAPSED_STRING","'\/'",85],")",")",";",["T_WHITESPACE","\n\t\t",85],"}",["T_WHITESPACE","\n\n\t\t",86],["T_COMMENT","\/\/ Determine query\n",88],["T_WHITESPACE","\t\t",89],["T_VARIABLE","$queryString",89],["T_WHITESPACE"," ",89],"=",["T_WHITESPACE"," ",89],["T_VARIABLE","$this",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","_prepareQueryStringForSigning",89],"(",["T_VARIABLE","$queryString",89],")",";",["T_WHITESPACE","\n\t\n\t\t",89],["T_COMMENT","\/\/ Canonicalized headers\n",91],["T_WHITESPACE","\t\t",92],["T_VARIABLE","$canonicalizedHeaders",92],["T_WHITESPACE"," ",92],"=",["T_WHITESPACE"," ",92],["T_ARRAY","array",92],"(",")",";",["T_WHITESPACE","\n\t\t\n\t\t",92],["T_COMMENT","\/\/ Request date\n",94],["T_WHITESPACE","\t\t",95],["T_VARIABLE","$requestDate",95],["T_WHITESPACE"," ",95],"=",["T_WHITESPACE"," ",95],["T_CONSTANT_ENCAPSED_STRING","''",95],";",["T_WHITESPACE","\n\t\t",95],["T_IF","if",96],["T_WHITESPACE"," ",96],"(",["T_ISSET","isset",96],"(",["T_VARIABLE","$headers",96],"[",["T_STRING","Zend_Service_WindowsAzure_Credentials_CredentialsAbstract",96],["T_DOUBLE_COLON","::",96],["T_STRING","PREFIX_STORAGE_HEADER",96],["T_WHITESPACE"," ",96],".",["T_WHITESPACE"," ",96],["T_CONSTANT_ENCAPSED_STRING","'date'",96],"]",")",")",["T_WHITESPACE"," ",96],"{",["T_WHITESPACE","\n\t\t    ",96],["T_VARIABLE","$requestDate",97],["T_WHITESPACE"," ",97],"=",["T_WHITESPACE"," ",97],["T_VARIABLE","$headers",97],"[",["T_STRING","Zend_Service_WindowsAzure_Credentials_CredentialsAbstract",97],["T_DOUBLE_COLON","::",97],["T_STRING","PREFIX_STORAGE_HEADER",97],["T_WHITESPACE"," ",97],".",["T_WHITESPACE"," ",97],["T_CONSTANT_ENCAPSED_STRING","'date'",97],"]",";",["T_WHITESPACE","\n\t\t",97],"}",["T_WHITESPACE"," ",98],["T_ELSE","else",98],["T_WHITESPACE"," ",98],"{",["T_WHITESPACE","\n\t\t    ",98],["T_VARIABLE","$requestDate",99],["T_WHITESPACE"," ",99],"=",["T_WHITESPACE"," ",99],["T_STRING","gmdate",99],"(",["T_CONSTANT_ENCAPSED_STRING","'D, d M Y H:i:s'",99],",",["T_WHITESPACE"," ",99],["T_STRING","time",99],"(",")",")",["T_WHITESPACE"," ",99],".",["T_WHITESPACE"," ",99],["T_CONSTANT_ENCAPSED_STRING","' GMT'",99],";",["T_WHITESPACE"," ",99],["T_COMMENT","\/\/ RFC 1123\n",99],["T_WHITESPACE","\t\t    ",100],["T_VARIABLE","$canonicalizedHeaders",100],"[","]",["T_WHITESPACE"," ",100],"=",["T_WHITESPACE"," ",100],["T_STRING","Zend_Service_WindowsAzure_Credentials_CredentialsAbstract",100],["T_DOUBLE_COLON","::",100],["T_STRING","PREFIX_STORAGE_HEADER",100],["T_WHITESPACE"," ",100],".",["T_WHITESPACE"," ",100],["T_CONSTANT_ENCAPSED_STRING","'date:'",100],["T_WHITESPACE"," ",100],".",["T_WHITESPACE"," ",100],["T_VARIABLE","$requestDate",100],";",["T_WHITESPACE","\n\t\t",100],"}",["T_WHITESPACE","\n\t\t\n\t\t",101],["T_COMMENT","\/\/ Build canonicalized headers\n",103],["T_WHITESPACE","\t\t",104],["T_IF","if",104],["T_WHITESPACE"," ",104],"(","!",["T_STRING","is_null",104],"(",["T_VARIABLE","$headers",104],")",")",["T_WHITESPACE"," ",104],"{",["T_WHITESPACE","\n\t\t\t",104],["T_FOREACH","foreach",105],["T_WHITESPACE"," ",105],"(",["T_VARIABLE","$headers",105],["T_WHITESPACE"," ",105],["T_AS","as",105],["T_WHITESPACE"," ",105],["T_VARIABLE","$header",105],["T_WHITESPACE"," ",105],["T_DOUBLE_ARROW","=>",105],["T_WHITESPACE"," ",105],["T_VARIABLE","$value",105],")",["T_WHITESPACE"," ",105],"{",["T_WHITESPACE","\n\t\t\t\t",105],["T_IF","if",106],["T_WHITESPACE"," ",106],"(",["T_STRING","is_bool",106],"(",["T_VARIABLE","$value",106],")",")",["T_WHITESPACE"," ",106],"{",["T_WHITESPACE","\n\t\t\t\t\t",106],["T_VARIABLE","$value",107],["T_WHITESPACE"," ",107],"=",["T_WHITESPACE"," ",107],["T_VARIABLE","$value",107],["T_WHITESPACE"," ",107],["T_IS_IDENTICAL","===",107],["T_WHITESPACE"," ",107],["T_STRING","true",107],["T_WHITESPACE"," ",107],"?",["T_WHITESPACE"," ",107],["T_CONSTANT_ENCAPSED_STRING","'True'",107],["T_WHITESPACE"," ",107],":",["T_WHITESPACE"," ",107],["T_CONSTANT_ENCAPSED_STRING","'False'",107],";",["T_WHITESPACE","\n\t\t\t\t",107],"}",["T_WHITESPACE","\n\n\t\t\t\t",108],["T_VARIABLE","$headers",110],"[",["T_VARIABLE","$header",110],"]",["T_WHITESPACE"," ",110],"=",["T_WHITESPACE"," ",110],["T_VARIABLE","$value",110],";",["T_WHITESPACE","\n\t\t\t\t",110],["T_IF","if",111],["T_WHITESPACE"," ",111],"(",["T_STRING","substr",111],"(",["T_VARIABLE","$header",111],",",["T_WHITESPACE"," ",111],["T_LNUMBER","0",111],",",["T_WHITESPACE"," ",111],["T_STRING","strlen",111],"(",["T_STRING","Zend_Service_WindowsAzure_Credentials_CredentialsAbstract",111],["T_DOUBLE_COLON","::",111],["T_STRING","PREFIX_STORAGE_HEADER",111],")",")",["T_WHITESPACE"," ",111],["T_IS_EQUAL","==",111],["T_WHITESPACE"," ",111],["T_STRING","Zend_Service_WindowsAzure_Credentials_CredentialsAbstract",111],["T_DOUBLE_COLON","::",111],["T_STRING","PREFIX_STORAGE_HEADER",111],")",["T_WHITESPACE"," ",111],"{",["T_WHITESPACE","\n\t\t\t\t    ",111],["T_VARIABLE","$canonicalizedHeaders",112],"[","]",["T_WHITESPACE"," ",112],"=",["T_WHITESPACE"," ",112],["T_STRING","strtolower",112],"(",["T_VARIABLE","$header",112],")",["T_WHITESPACE"," ",112],".",["T_WHITESPACE"," ",112],["T_CONSTANT_ENCAPSED_STRING","':'",112],["T_WHITESPACE"," ",112],".",["T_WHITESPACE"," ",112],["T_VARIABLE","$value",112],";",["T_WHITESPACE","\n\t\t\t\t",112],"}",["T_WHITESPACE","\n\t\t\t",113],"}",["T_WHITESPACE","\n\t\t",114],"}",["T_WHITESPACE","\n\t\t",115],["T_STRING","sort",116],"(",["T_VARIABLE","$canonicalizedHeaders",116],")",";",["T_WHITESPACE","\n\n\t\t",116],["T_COMMENT","\/\/ Build canonicalized resource string\n",118],["T_WHITESPACE","\t\t",119],["T_VARIABLE","$canonicalizedResource",119],["T_WHITESPACE","  ",119],"=",["T_WHITESPACE"," ",119],["T_CONSTANT_ENCAPSED_STRING","'\/'",119],["T_WHITESPACE"," ",119],".",["T_WHITESPACE"," ",119],["T_VARIABLE","$this",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","_accountName",119],";",["T_WHITESPACE","\n\t\t",119],["T_IF","if",120],["T_WHITESPACE"," ",120],"(",["T_VARIABLE","$this",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","_usePathStyleUri",120],")",["T_WHITESPACE"," ",120],"{",["T_WHITESPACE","\n\t\t\t",120],["T_VARIABLE","$canonicalizedResource",121],["T_WHITESPACE"," ",121],["T_CONCAT_EQUAL",".=",121],["T_WHITESPACE"," ",121],["T_CONSTANT_ENCAPSED_STRING","'\/'",121],["T_WHITESPACE"," ",121],".",["T_WHITESPACE"," ",121],["T_VARIABLE","$this",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","_accountName",121],";",["T_WHITESPACE","\n\t\t",121],"}",["T_WHITESPACE","\n\t\t",122],["T_VARIABLE","$canonicalizedResource",123],["T_WHITESPACE"," ",123],["T_CONCAT_EQUAL",".=",123],["T_WHITESPACE"," ",123],["T_VARIABLE","$path",123],";",["T_WHITESPACE","\n\t\t",123],["T_IF","if",124],["T_WHITESPACE"," ",124],"(",["T_VARIABLE","$queryString",124],["T_WHITESPACE"," ",124],["T_IS_NOT_IDENTICAL","!==",124],["T_WHITESPACE"," ",124],["T_CONSTANT_ENCAPSED_STRING","''",124],")",["T_WHITESPACE"," ",124],"{",["T_WHITESPACE","\n\t\t    ",124],["T_VARIABLE","$queryStringItems",125],["T_WHITESPACE"," ",125],"=",["T_WHITESPACE"," ",125],["T_VARIABLE","$this",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","_makeArrayOfQueryString",125],"(",["T_VARIABLE","$queryString",125],")",";",["T_WHITESPACE","\n\t\t    ",125],["T_FOREACH","foreach",126],["T_WHITESPACE"," ",126],"(",["T_VARIABLE","$queryStringItems",126],["T_WHITESPACE"," ",126],["T_AS","as",126],["T_WHITESPACE"," ",126],["T_VARIABLE","$key",126],["T_WHITESPACE"," ",126],["T_DOUBLE_ARROW","=>",126],["T_WHITESPACE"," ",126],["T_VARIABLE","$value",126],")",["T_WHITESPACE"," ",126],"{",["T_WHITESPACE","\n\t\t    \t",126],["T_VARIABLE","$canonicalizedResource",127],["T_WHITESPACE"," ",127],["T_CONCAT_EQUAL",".=",127],["T_WHITESPACE"," ",127],["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",127],["T_WHITESPACE"," ",127],".",["T_WHITESPACE"," ",127],["T_STRING","strtolower",127],"(",["T_VARIABLE","$key",127],")",["T_WHITESPACE"," ",127],".",["T_WHITESPACE"," ",127],["T_CONSTANT_ENCAPSED_STRING","':'",127],["T_WHITESPACE"," ",127],".",["T_WHITESPACE"," ",127],["T_STRING","urldecode",127],"(",["T_VARIABLE","$value",127],")",";",["T_WHITESPACE","\n\t\t    ",127],"}",["T_WHITESPACE","\n\t\t",128],"}",["T_WHITESPACE","\n\t\t\n\t\t",129],["T_COMMENT","\/\/ Content-Length header\n",131],["T_WHITESPACE","\t\t",132],["T_VARIABLE","$contentLength",132],["T_WHITESPACE"," ",132],"=",["T_WHITESPACE"," ",132],["T_CONSTANT_ENCAPSED_STRING","''",132],";",["T_WHITESPACE","\n\t\t",132],["T_IF","if",133],["T_WHITESPACE"," ",133],"(",["T_STRING","strtoupper",133],"(",["T_VARIABLE","$httpVerb",133],")",["T_WHITESPACE"," ",133],["T_IS_NOT_EQUAL","!=",133],["T_WHITESPACE"," ",133],["T_STRING","Zend_Http_Client",133],["T_DOUBLE_COLON","::",133],["T_STRING","GET",133],["T_WHITESPACE","\n\t\t\t ",133],["T_BOOLEAN_AND","&&",134],["T_WHITESPACE"," ",134],["T_STRING","strtoupper",134],"(",["T_VARIABLE","$httpVerb",134],")",["T_WHITESPACE"," ",134],["T_IS_NOT_EQUAL","!=",134],["T_WHITESPACE"," ",134],["T_STRING","Zend_Http_Client",134],["T_DOUBLE_COLON","::",134],["T_STRING","DELETE",134],["T_WHITESPACE","\n\t\t\t ",134],["T_BOOLEAN_AND","&&",135],["T_WHITESPACE"," ",135],["T_STRING","strtoupper",135],"(",["T_VARIABLE","$httpVerb",135],")",["T_WHITESPACE"," ",135],["T_IS_NOT_EQUAL","!=",135],["T_WHITESPACE"," ",135],["T_STRING","Zend_Http_Client",135],["T_DOUBLE_COLON","::",135],["T_STRING","HEAD",135],")",["T_WHITESPACE"," ",135],"{",["T_WHITESPACE","\n\t\t\t",135],["T_VARIABLE","$contentLength",136],["T_WHITESPACE"," ",136],"=",["T_WHITESPACE"," ",136],["T_LNUMBER","0",136],";",["T_WHITESPACE","\n\t\t\t\n\t\t\t",136],["T_IF","if",138],["T_WHITESPACE"," ",138],"(","!",["T_STRING","is_null",138],"(",["T_VARIABLE","$rawData",138],")",")",["T_WHITESPACE"," ",138],"{",["T_WHITESPACE","\n\t\t\t\t",138],["T_VARIABLE","$contentLength",139],["T_WHITESPACE"," ",139],"=",["T_WHITESPACE"," ",139],["T_STRING","strlen",139],"(",["T_VARIABLE","$rawData",139],")",";",["T_WHITESPACE","\n\t\t\t",139],"}",["T_WHITESPACE","\n\t\t",140],"}",["T_WHITESPACE","\n\n\t\t",141],["T_COMMENT","\/\/ Create string to sign   \n",143],["T_WHITESPACE","\t\t",144],["T_VARIABLE","$stringToSign",144],["T_WHITESPACE","   ",144],"=",["T_WHITESPACE"," ",144],["T_ARRAY","array",144],"(",")",";",["T_WHITESPACE","\n\t\t",144],["T_VARIABLE","$stringToSign",145],"[","]",["T_WHITESPACE"," ",145],"=",["T_WHITESPACE"," ",145],["T_STRING","strtoupper",145],"(",["T_VARIABLE","$httpVerb",145],")",";",["T_WHITESPACE"," \t\t\t\t\t\t\t\t\t",145],["T_COMMENT","\/\/ VERB\n",145],["T_WHITESPACE","    \t",146],["T_VARIABLE","$stringToSign",146],"[","]",["T_WHITESPACE"," ",146],"=",["T_WHITESPACE"," ",146],["T_VARIABLE","$this",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","_issetOr",146],"(",["T_VARIABLE","$headers",146],",",["T_WHITESPACE"," ",146],["T_CONSTANT_ENCAPSED_STRING","'Content-Encoding'",146],",",["T_WHITESPACE"," ",146],["T_CONSTANT_ENCAPSED_STRING","''",146],")",";",["T_WHITESPACE","\t\t",146],["T_COMMENT","\/\/ Content-Encoding\n",146],["T_WHITESPACE","    \t",147],["T_VARIABLE","$stringToSign",147],"[","]",["T_WHITESPACE"," ",147],"=",["T_WHITESPACE"," ",147],["T_VARIABLE","$this",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","_issetOr",147],"(",["T_VARIABLE","$headers",147],",",["T_WHITESPACE"," ",147],["T_CONSTANT_ENCAPSED_STRING","'Content-Language'",147],",",["T_WHITESPACE"," ",147],["T_CONSTANT_ENCAPSED_STRING","''",147],")",";",["T_WHITESPACE","\t\t",147],["T_COMMENT","\/\/ Content-Language\n",147],["T_WHITESPACE","    \t",148],["T_VARIABLE","$stringToSign",148],"[","]",["T_WHITESPACE"," ",148],"=",["T_WHITESPACE"," ",148],["T_VARIABLE","$contentLength",148],";",["T_WHITESPACE"," \t\t\t\t\t\t\t\t\t\t\t",148],["T_COMMENT","\/\/ Content-Length\n",148],["T_WHITESPACE","    \t",149],["T_VARIABLE","$stringToSign",149],"[","]",["T_WHITESPACE"," ",149],"=",["T_WHITESPACE"," ",149],["T_VARIABLE","$this",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","_issetOr",149],"(",["T_VARIABLE","$headers",149],",",["T_WHITESPACE"," ",149],["T_CONSTANT_ENCAPSED_STRING","'Content-MD5'",149],",",["T_WHITESPACE"," ",149],["T_CONSTANT_ENCAPSED_STRING","''",149],")",";",["T_WHITESPACE","\t\t\t\t",149],["T_COMMENT","\/\/ Content-MD5\n",149],["T_WHITESPACE","    \t",150],["T_VARIABLE","$stringToSign",150],"[","]",["T_WHITESPACE"," ",150],"=",["T_WHITESPACE"," ",150],["T_VARIABLE","$this",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","_issetOr",150],"(",["T_VARIABLE","$headers",150],",",["T_WHITESPACE"," ",150],["T_CONSTANT_ENCAPSED_STRING","'Content-Type'",150],",",["T_WHITESPACE"," ",150],["T_CONSTANT_ENCAPSED_STRING","''",150],")",";",["T_WHITESPACE","\t\t\t",150],["T_COMMENT","\/\/ Content-Type\n",150],["T_WHITESPACE","    \t",151],["T_VARIABLE","$stringToSign",151],"[","]",["T_WHITESPACE"," ",151],"=",["T_WHITESPACE"," ",151],["T_CONSTANT_ENCAPSED_STRING","\"\"",151],";",["T_WHITESPACE","\t\t\t\t\t\t\t\t\t\t\t\t\t\t",151],["T_COMMENT","\/\/ Date\n",151],["T_WHITESPACE","    \t",152],["T_VARIABLE","$stringToSign",152],"[","]",["T_WHITESPACE"," ",152],"=",["T_WHITESPACE"," ",152],["T_VARIABLE","$this",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","_issetOr",152],"(",["T_VARIABLE","$headers",152],",",["T_WHITESPACE"," ",152],["T_CONSTANT_ENCAPSED_STRING","'If-Modified-Since'",152],",",["T_WHITESPACE"," ",152],["T_CONSTANT_ENCAPSED_STRING","''",152],")",";",["T_WHITESPACE","\t\t",152],["T_COMMENT","\/\/ If-Modified-Since\n",152],["T_WHITESPACE","    \t",153],["T_VARIABLE","$stringToSign",153],"[","]",["T_WHITESPACE"," ",153],"=",["T_WHITESPACE"," ",153],["T_VARIABLE","$this",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","_issetOr",153],"(",["T_VARIABLE","$headers",153],",",["T_WHITESPACE"," ",153],["T_CONSTANT_ENCAPSED_STRING","'If-Match'",153],",",["T_WHITESPACE"," ",153],["T_CONSTANT_ENCAPSED_STRING","''",153],")",";",["T_WHITESPACE","\t\t\t\t",153],["T_COMMENT","\/\/ If-Match\n",153],["T_WHITESPACE","    \t",154],["T_VARIABLE","$stringToSign",154],"[","]",["T_WHITESPACE"," ",154],"=",["T_WHITESPACE"," ",154],["T_VARIABLE","$this",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","_issetOr",154],"(",["T_VARIABLE","$headers",154],",",["T_WHITESPACE"," ",154],["T_CONSTANT_ENCAPSED_STRING","'If-None-Match'",154],",",["T_WHITESPACE"," ",154],["T_CONSTANT_ENCAPSED_STRING","''",154],")",";",["T_WHITESPACE","\t\t\t",154],["T_COMMENT","\/\/ If-None-Match\n",154],["T_WHITESPACE","    \t",155],["T_VARIABLE","$stringToSign",155],"[","]",["T_WHITESPACE"," ",155],"=",["T_WHITESPACE"," ",155],["T_VARIABLE","$this",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","_issetOr",155],"(",["T_VARIABLE","$headers",155],",",["T_WHITESPACE"," ",155],["T_CONSTANT_ENCAPSED_STRING","'If-Unmodified-Since'",155],",",["T_WHITESPACE"," ",155],["T_CONSTANT_ENCAPSED_STRING","''",155],")",";",["T_WHITESPACE","\t\t",155],["T_COMMENT","\/\/ If-Unmodified-Since\n",155],["T_WHITESPACE","    \t",156],["T_VARIABLE","$stringToSign",156],"[","]",["T_WHITESPACE"," ",156],"=",["T_WHITESPACE"," ",156],["T_VARIABLE","$this",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","_issetOr",156],"(",["T_VARIABLE","$headers",156],",",["T_WHITESPACE"," ",156],["T_CONSTANT_ENCAPSED_STRING","'Range'",156],",",["T_WHITESPACE"," ",156],["T_CONSTANT_ENCAPSED_STRING","''",156],")",";",["T_WHITESPACE","\t\t\t\t\t",156],["T_COMMENT","\/\/ Range\n",156],["T_WHITESPACE","    \t\n    \t",157],["T_IF","if",158],["T_WHITESPACE"," ",158],"(","!",["T_VARIABLE","$forTableStorage",158],["T_WHITESPACE"," ",158],["T_BOOLEAN_AND","&&",158],["T_WHITESPACE"," ",158],["T_STRING","count",158],"(",["T_VARIABLE","$canonicalizedHeaders",158],")",["T_WHITESPACE"," ",158],">",["T_WHITESPACE"," ",158],["T_LNUMBER","0",158],")",["T_WHITESPACE"," ",158],"{",["T_WHITESPACE","\n    \t\t",158],["T_VARIABLE","$stringToSign",159],"[","]",["T_WHITESPACE"," ",159],"=",["T_WHITESPACE"," ",159],["T_STRING","implode",159],"(",["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",159],",",["T_WHITESPACE"," ",159],["T_VARIABLE","$canonicalizedHeaders",159],")",";",["T_WHITESPACE"," ",159],["T_COMMENT","\/\/ Canonicalized headers\n",159],["T_WHITESPACE","    \t",160],"}",["T_WHITESPACE","\n    \t\t\n    \t",160],["T_VARIABLE","$stringToSign",162],"[","]",["T_WHITESPACE"," ",162],"=",["T_WHITESPACE"," ",162],["T_VARIABLE","$canonicalizedResource",162],";",["T_WHITESPACE","\t\t \t\t\t",162],["T_COMMENT","\/\/ Canonicalized resource\n",162],["T_WHITESPACE","    \t",163],["T_VARIABLE","$stringToSign",163],["T_WHITESPACE","   ",163],"=",["T_WHITESPACE"," ",163],["T_STRING","implode",163],"(",["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",163],",",["T_WHITESPACE"," ",163],["T_VARIABLE","$stringToSign",163],")",";",["T_WHITESPACE","\n    \t",163],["T_VARIABLE","$signString",164],["T_WHITESPACE","     ",164],"=",["T_WHITESPACE"," ",164],["T_STRING","base64_encode",164],"(",["T_STRING","hash_hmac",164],"(",["T_CONSTANT_ENCAPSED_STRING","'sha256'",164],",",["T_WHITESPACE"," ",164],["T_VARIABLE","$stringToSign",164],",",["T_WHITESPACE"," ",164],["T_VARIABLE","$this",164],["T_OBJECT_OPERATOR","->",164],["T_STRING","_accountKey",164],",",["T_WHITESPACE"," ",164],["T_STRING","true",164],")",")",";",["T_WHITESPACE","\n\n    \t",164],["T_COMMENT","\/\/ Sign request\n",166],["T_WHITESPACE","    \t",167],["T_VARIABLE","$headers",167],"[",["T_STRING","Zend_Service_WindowsAzure_Credentials_CredentialsAbstract",167],["T_DOUBLE_COLON","::",167],["T_STRING","PREFIX_STORAGE_HEADER",167],["T_WHITESPACE"," ",167],".",["T_WHITESPACE"," ",167],["T_CONSTANT_ENCAPSED_STRING","'date'",167],"]",["T_WHITESPACE"," ",167],"=",["T_WHITESPACE"," ",167],["T_VARIABLE","$requestDate",167],";",["T_WHITESPACE","\n    \t",167],["T_VARIABLE","$headers",168],"[",["T_CONSTANT_ENCAPSED_STRING","'Authorization'",168],"]",["T_WHITESPACE"," ",168],"=",["T_WHITESPACE"," ",168],["T_CONSTANT_ENCAPSED_STRING","'SharedKey '",168],["T_WHITESPACE"," ",168],".",["T_WHITESPACE"," ",168],["T_VARIABLE","$this",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","_accountName",168],["T_WHITESPACE"," ",168],".",["T_WHITESPACE"," ",168],["T_CONSTANT_ENCAPSED_STRING","':'",168],["T_WHITESPACE"," ",168],".",["T_WHITESPACE"," ",168],["T_VARIABLE","$signString",168],";",["T_WHITESPACE","\n    \t\n    \t",168],["T_COMMENT","\/\/ Return headers\n",170],["T_WHITESPACE","    \t",171],["T_RETURN","return",171],["T_WHITESPACE"," ",171],["T_VARIABLE","$headers",171],";",["T_WHITESPACE","\n\t",171],"}",["T_WHITESPACE","\n",172],"}",["T_WHITESPACE","\n",173]]