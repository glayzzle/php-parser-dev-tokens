[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Zend Framework\n *\n * LICENSE\n *\n * This source file is subject to the new BSD license that is bundled\n * with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/framework.zend.com\/license\/new-bsd\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@zend.com so we can send you a copy immediately.\n *\n * @category   Zend\n * @package    Zend_Service_Console\n * @subpackage Exception\n * @version    $Id$\n * @copyright  Copyright (c) 2005-2015 Zend Technologies USA Inc. (http:\/\/www.zend.com)\n * @license    http:\/\/framework.zend.com\/license\/new-bsd     New BSD License\n *\/",2],["T_WHITESPACE","\n\n",21],["T_DOC_COMMENT","\/** @see Zend_Xml_Security *\/",23],["T_WHITESPACE","\n",23],["T_COMMENT","#require_once 'Zend\/Xml\/Security.php';\n",24],["T_WHITESPACE","\n",25],["T_DOC_COMMENT","\/**\n* @see Zend_Service_Console_Command\n*\/",26],["T_WHITESPACE","\n",28],["T_COMMENT","#require_once 'Zend\/Service\/Console\/Command.php';\n",29],["T_WHITESPACE","\n",30],["T_DOC_COMMENT","\/**\n * Package commands\n *\n * @category   Zend\n * @package    Zend_Service_WindowsAzure_CommandLine\n * @copyright  Copyright (c) 2005-2015 Zend Technologies USA Inc. (http:\/\/www.zend.com)\n * @license    http:\/\/framework.zend.com\/license\/new-bsd     New BSD License\n *\n * @command-handler package\n * @command-handler-description Windows Azure Package commands\n * @command-handler-header Windows Azure SDK for PHP\n * @command-handler-header Copyright (c) 2009 - 2011, RealDolmen (http:\/\/www.realdolmen.com)\n * @command-handler-footer\n * @command-handler-footer All commands support the --ConfigurationFile or -F parameter.\n * @command-handler-footer The parameter file is a simple INI file carrying one parameter\n * @command-handler-footer value per line. It accepts the same parameters as one can\n * @command-handler-footer use from the command line command.\n *\/",31],["T_WHITESPACE","\n",48],["T_CLASS","class",49],["T_WHITESPACE"," ",49],["T_STRING","Zend_Service_WindowsAzure_CommandLine_Package",49],["T_WHITESPACE","\n\t",49],["T_EXTENDS","extends",50],["T_WHITESPACE"," ",50],["T_STRING","Zend_Service_Console_Command",50],["T_WHITESPACE","\n",50],"{",["T_WHITESPACE","\n\t",51],["T_DOC_COMMENT","\/**\n\t * Scaffolds a Windows Azure project structure which can be customized before packaging.\n\t *\n\t * @command-name Scaffold\n\t * @command-description Scaffolds a Windows Azure project structure which can be customized before packaging.\n\t *\n\t * @command-parameter-for $path Zend_Service_Console_Command_ParameterSource_Argv|Zend_Service_Console_Command_ParameterSource_ConfigFile --Path|-p Required. The path to create the Windows Azure project structure.\n\t * @command-parameter-for $scaffolder Zend_Service_Console_Command_ParameterSource_Argv|Zend_Service_Console_Command_ParameterSource_ConfigFile|Zend_Service_Console_Command_ParameterSource_Env --Scaffolder|-s Optional. The path to the scaffolder to use. Defaults to Scaffolders\/DefaultScaffolder.phar\n\t *\/",52],["T_WHITESPACE","\n\t",60],["T_PUBLIC","public",61],["T_WHITESPACE"," ",61],["T_FUNCTION","function",61],["T_WHITESPACE"," ",61],["T_STRING","scaffoldCommand",61],"(",["T_VARIABLE","$path",61],",",["T_WHITESPACE"," ",61],["T_VARIABLE","$scaffolder",61],",",["T_WHITESPACE"," ",61],["T_VARIABLE","$argv",61],")",["T_WHITESPACE","\n\t",61],"{",["T_WHITESPACE","\n\t\t",62],["T_COMMENT","\/\/ Default parameter value\n",63],["T_WHITESPACE","\t\t",64],["T_IF","if",64],["T_WHITESPACE"," ",64],"(",["T_VARIABLE","$scaffolder",64],["T_WHITESPACE"," ",64],["T_IS_EQUAL","==",64],["T_WHITESPACE"," ",64],["T_CONSTANT_ENCAPSED_STRING","''",64],")",["T_WHITESPACE"," ",64],"{",["T_WHITESPACE","\n\t\t\t",64],["T_VARIABLE","$scaffolder",65],["T_WHITESPACE"," ",65],"=",["T_WHITESPACE"," ",65],["T_STRING","dirname",65],"(",["T_FILE","__FILE__",65],")",["T_WHITESPACE"," ",65],".",["T_WHITESPACE"," ",65],["T_CONSTANT_ENCAPSED_STRING","'\/Scaffolders\/DefaultScaffolder.phar'",65],";",["T_WHITESPACE","\n\t\t",65],"}",["T_WHITESPACE","\n\t\t",66],["T_VARIABLE","$scaffolder",67],["T_WHITESPACE"," ",67],"=",["T_WHITESPACE"," ",67],["T_STRING","realpath",67],"(",["T_VARIABLE","$scaffolder",67],")",";",["T_WHITESPACE","\n\n\t\t",67],["T_COMMENT","\/\/ Verify scaffolder\n",69],["T_WHITESPACE","\t\t",70],["T_IF","if",70],["T_WHITESPACE"," ",70],"(","!",["T_STRING","is_file",70],"(",["T_VARIABLE","$scaffolder",70],")",")",["T_WHITESPACE"," ",70],"{",["T_WHITESPACE","\n\t\t\t",70],["T_COMMENT","#require_once 'Zend\/Service\/Console\/Exception.php';\n",71],["T_WHITESPACE","\t\t\t",72],["T_THROW","throw",72],["T_WHITESPACE"," ",72],["T_NEW","new",72],["T_WHITESPACE"," ",72],["T_STRING","Zend_Service_Console_Exception",72],"(",["T_CONSTANT_ENCAPSED_STRING","'Could not locate the given scaffolder: '",72],["T_WHITESPACE"," ",72],".",["T_WHITESPACE"," ",72],["T_VARIABLE","$scaffolder",72],")",";",["T_WHITESPACE","\n\t\t",72],"}",["T_WHITESPACE","\n\n\t\t",73],["T_COMMENT","\/\/ Include scaffolder\n",75],["T_WHITESPACE","\t\t",76],["T_VARIABLE","$archive",76],["T_WHITESPACE"," ",76],"=",["T_WHITESPACE"," ",76],["T_NEW","new",76],["T_WHITESPACE"," ",76],["T_STRING","Phar",76],"(",["T_VARIABLE","$scaffolder",76],")",";",["T_WHITESPACE","\n\t\t",76],["T_INCLUDE","include",77],["T_WHITESPACE"," ",77],["T_VARIABLE","$scaffolder",77],";",["T_WHITESPACE","\n\t\t",77],["T_IF","if",78],["T_WHITESPACE"," ",78],"(","!",["T_STRING","class_exists",78],"(",["T_CONSTANT_ENCAPSED_STRING","'Scaffolder'",78],")",")",["T_WHITESPACE"," ",78],"{",["T_WHITESPACE","\n\t\t\t",78],["T_COMMENT","#require_once 'Zend\/Service\/Console\/Exception.php';\n",79],["T_WHITESPACE","\t\t\t",80],["T_THROW","throw",80],["T_WHITESPACE"," ",80],["T_NEW","new",80],["T_WHITESPACE"," ",80],["T_STRING","Zend_Service_Console_Exception",80],"(",["T_CONSTANT_ENCAPSED_STRING","'Could not locate a class named Scaffolder in the given scaffolder: '",80],["T_WHITESPACE"," ",80],".",["T_WHITESPACE"," ",80],["T_VARIABLE","$scaffolder",80],["T_WHITESPACE"," ",80],".",["T_WHITESPACE"," ",80],["T_CONSTANT_ENCAPSED_STRING","'. Make sure the scaffolder package contains a file named index.php and contains a class named Scaffolder.'",80],")",";",["T_WHITESPACE","\n\t\t",80],"}",["T_WHITESPACE","\n\n\t\t",81],["T_COMMENT","\/\/ Cleanup $argv\n",83],["T_WHITESPACE","\t\t",84],["T_VARIABLE","$options",84],["T_WHITESPACE"," ",84],"=",["T_WHITESPACE"," ",84],["T_ARRAY","array",84],"(",")",";",["T_WHITESPACE","\n\t\t",84],["T_FOREACH","foreach",85],["T_WHITESPACE"," ",85],"(",["T_VARIABLE","$argv",85],["T_WHITESPACE"," ",85],["T_AS","as",85],["T_WHITESPACE"," ",85],["T_VARIABLE","$arg",85],")",["T_WHITESPACE"," ",85],"{",["T_WHITESPACE","\n\t\t\t",85],["T_LIST","list",86],"(",["T_VARIABLE","$key",86],",",["T_WHITESPACE"," ",86],["T_VARIABLE","$value",86],")",["T_WHITESPACE"," ",86],"=",["T_WHITESPACE"," ",86],["T_STRING","explode",86],"(",["T_CONSTANT_ENCAPSED_STRING","':'",86],",",["T_WHITESPACE"," ",86],["T_VARIABLE","$arg",86],",",["T_WHITESPACE"," ",86],["T_LNUMBER","2",86],")",";",["T_WHITESPACE","\n\t\t\t",86],["T_WHILE","while",87],["T_WHITESPACE"," ",87],"(",["T_STRING","substr",87],"(",["T_VARIABLE","$key",87],",",["T_WHITESPACE"," ",87],["T_LNUMBER","0",87],",",["T_WHITESPACE"," ",87],["T_LNUMBER","1",87],")",["T_WHITESPACE"," ",87],["T_IS_EQUAL","==",87],["T_WHITESPACE"," ",87],["T_CONSTANT_ENCAPSED_STRING","'-'",87],")",["T_WHITESPACE"," ",87],"{",["T_WHITESPACE","\n\t\t\t\t",87],["T_VARIABLE","$key",88],["T_WHITESPACE"," ",88],"=",["T_WHITESPACE"," ",88],["T_STRING","substr",88],"(",["T_VARIABLE","$key",88],",",["T_WHITESPACE"," ",88],["T_LNUMBER","1",88],")",";",["T_WHITESPACE","\n\t\t\t",88],"}",["T_WHITESPACE","\n\t\t\t",89],["T_VARIABLE","$options",90],"[",["T_VARIABLE","$key",90],"]",["T_WHITESPACE"," ",90],"=",["T_WHITESPACE"," ",90],["T_VARIABLE","$value",90],";",["T_WHITESPACE","\n\t\t",90],"}",["T_WHITESPACE","\n\n\t\t",91],["T_COMMENT","\/\/ Run scaffolder\n",93],["T_WHITESPACE","\t\t",94],["T_VARIABLE","$scaffolderInstance",94],["T_WHITESPACE"," ",94],"=",["T_WHITESPACE"," ",94],["T_NEW","new",94],["T_WHITESPACE"," ",94],["T_STRING","Scaffolder",94],"(",")",";",["T_WHITESPACE","\n\t\t",94],["T_VARIABLE","$scaffolderInstance",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","invoke",95],"(",["T_VARIABLE","$archive",95],",",["T_WHITESPACE"," ",95],["T_VARIABLE","$path",95],",",["T_WHITESPACE"," ",95],["T_VARIABLE","$options",95],")",";",["T_WHITESPACE","\n\t",95],"}",["T_WHITESPACE","\n\n\n\t",96],["T_DOC_COMMENT","\/**\n\t * Packages a Windows Azure project structure.\n\t *\n\t * @command-name Create\n\t * @command-description Packages a Windows Azure project structure.\n\t *\n\t * @command-parameter-for $path Zend_Service_Console_Command_ParameterSource_Argv|Zend_Service_Console_Command_ParameterSource_ConfigFile --Path|-p Required. The path to package.\n\t * @command-parameter-for $runDevFabric Zend_Service_Console_Command_ParameterSource_Argv|Zend_Service_Console_Command_ParameterSource_ConfigFile --RunDevFabric|-dev Required. Switch. Run and deploy to the Windows Azure development fabric.\n\t * @command-parameter-for $outputPath Zend_Service_Console_Command_ParameterSource_Argv|Zend_Service_Console_Command_ParameterSource_ConfigFile --OutputPath|-out Optional. The output path for the resulting package.\n\t *\/",99],["T_WHITESPACE","\n\t",108],["T_PUBLIC","public",109],["T_WHITESPACE"," ",109],["T_FUNCTION","function",109],["T_WHITESPACE"," ",109],["T_STRING","createPackageCommand",109],"(",["T_VARIABLE","$path",109],",",["T_WHITESPACE"," ",109],["T_VARIABLE","$runDevFabric",109],",",["T_WHITESPACE"," ",109],["T_VARIABLE","$outputPath",109],")",["T_WHITESPACE","\n\t",109],"{",["T_WHITESPACE","\n\t\t",110],["T_COMMENT","\/\/ Create output paths\n",111],["T_WHITESPACE","\t\t",112],["T_IF","if",112],["T_WHITESPACE"," ",112],"(",["T_VARIABLE","$outputPath",112],["T_WHITESPACE"," ",112],["T_IS_EQUAL","==",112],["T_WHITESPACE"," ",112],["T_CONSTANT_ENCAPSED_STRING","''",112],")",["T_WHITESPACE"," ",112],"{",["T_WHITESPACE","\n\t\t\t",112],["T_VARIABLE","$outputPath",113],["T_WHITESPACE"," ",113],"=",["T_WHITESPACE"," ",113],["T_STRING","realpath",113],"(",["T_VARIABLE","$path",113],["T_WHITESPACE"," ",113],".",["T_WHITESPACE"," ",113],["T_CONSTANT_ENCAPSED_STRING","'\/..\/'",113],")",";",["T_WHITESPACE","\n\t\t",113],"}",["T_WHITESPACE","\n\t\t",114],["T_VARIABLE","$packageOut",115],["T_WHITESPACE"," ",115],"=",["T_WHITESPACE"," ",115],["T_VARIABLE","$outputPath",115],["T_WHITESPACE"," ",115],".",["T_WHITESPACE"," ",115],["T_CONSTANT_ENCAPSED_STRING","'\/'",115],["T_WHITESPACE"," ",115],".",["T_WHITESPACE"," ",115],["T_STRING","basename",115],"(",["T_VARIABLE","$path",115],")",["T_WHITESPACE"," ",115],".",["T_WHITESPACE"," ",115],["T_CONSTANT_ENCAPSED_STRING","'.cspkg'",115],";",["T_WHITESPACE","\n\n\t\t",115],["T_COMMENT","\/\/ Find Windows Azure SDK bin folder\n",117],["T_WHITESPACE","\t\t",118],["T_VARIABLE","$windowsAzureSdkFolderCandidates",118],["T_WHITESPACE"," ",118],"=",["T_WHITESPACE"," ",118],["T_STRING","array_merge",118],"(",["T_WHITESPACE","\n\t\t\t",118],["T_ISSET","isset",119],"(",["T_VARIABLE","$_SERVER",119],"[",["T_CONSTANT_ENCAPSED_STRING","'ProgramFiles'",119],"]",")",["T_WHITESPACE"," ",119],"?",["T_WHITESPACE"," ",119],["T_STRING","glob",119],"(",["T_VARIABLE","$_SERVER",119],"[",["T_CONSTANT_ENCAPSED_STRING","'ProgramFiles'",119],"]",["T_WHITESPACE"," ",119],".",["T_WHITESPACE"," ",119],["T_CONSTANT_ENCAPSED_STRING","'\\Windows Azure SDK\\*\\bin'",119],",",["T_WHITESPACE"," ",119],["T_STRING","GLOB_NOSORT",119],")",["T_WHITESPACE"," ",119],":",["T_WHITESPACE"," ",119],["T_ARRAY","array",119],"(",")",",",["T_WHITESPACE","\n\t\t\t",119],["T_ISSET","isset",120],"(",["T_VARIABLE","$_SERVER",120],"[",["T_CONSTANT_ENCAPSED_STRING","'ProgramFiles'",120],"]",")",["T_WHITESPACE"," ",120],"?",["T_WHITESPACE"," ",120],["T_STRING","glob",120],"(",["T_VARIABLE","$_SERVER",120],"[",["T_CONSTANT_ENCAPSED_STRING","'ProgramFiles(x86)'",120],"]",["T_WHITESPACE"," ",120],".",["T_WHITESPACE"," ",120],["T_CONSTANT_ENCAPSED_STRING","'\\Windows Azure SDK\\*\\bin'",120],",",["T_WHITESPACE"," ",120],["T_STRING","GLOB_NOSORT",120],")",["T_WHITESPACE"," ",120],":",["T_WHITESPACE"," ",120],["T_ARRAY","array",120],"(",")",",",["T_WHITESPACE","\n\t\t\t",120],["T_ISSET","isset",121],"(",["T_VARIABLE","$_SERVER",121],"[",["T_CONSTANT_ENCAPSED_STRING","'ProgramFiles'",121],"]",")",["T_WHITESPACE"," ",121],"?",["T_WHITESPACE"," ",121],["T_STRING","glob",121],"(",["T_VARIABLE","$_SERVER",121],"[",["T_CONSTANT_ENCAPSED_STRING","'ProgramW6432'",121],"]",["T_WHITESPACE"," ",121],".",["T_WHITESPACE"," ",121],["T_CONSTANT_ENCAPSED_STRING","'\\Windows Azure SDK\\*\\bin'",121],",",["T_WHITESPACE"," ",121],["T_STRING","GLOB_NOSORT",121],")",["T_WHITESPACE"," ",121],":",["T_WHITESPACE"," ",121],["T_ARRAY","array",121],"(",")",["T_WHITESPACE","\n\t\t",121],")",";",["T_WHITESPACE","\n\t\t",122],["T_IF","if",123],["T_WHITESPACE"," ",123],"(",["T_STRING","count",123],"(",["T_VARIABLE","$windowsAzureSdkFolderCandidates",123],")",["T_WHITESPACE"," ",123],["T_IS_EQUAL","==",123],["T_WHITESPACE"," ",123],["T_LNUMBER","0",123],")",["T_WHITESPACE"," ",123],"{",["T_WHITESPACE","\n\t\t\t",123],["T_THROW","throw",124],["T_WHITESPACE"," ",124],["T_NEW","new",124],["T_WHITESPACE"," ",124],["T_STRING","Zend_Service_Console_Exception",124],"(",["T_CONSTANT_ENCAPSED_STRING","'Could not locate Windows Azure SDK for PHP.'",124],")",";",["T_WHITESPACE","\n\t\t",124],"}",["T_WHITESPACE","\n\t\t",125],["T_VARIABLE","$cspack",126],["T_WHITESPACE"," ",126],"=",["T_WHITESPACE"," ",126],["T_CONSTANT_ENCAPSED_STRING","'\"'",126],["T_WHITESPACE"," ",126],".",["T_WHITESPACE"," ",126],["T_VARIABLE","$windowsAzureSdkFolderCandidates",126],"[",["T_LNUMBER","0",126],"]",["T_WHITESPACE"," ",126],".",["T_WHITESPACE"," ",126],["T_CONSTANT_ENCAPSED_STRING","'\\cspack.exe'",126],["T_WHITESPACE"," ",126],".",["T_WHITESPACE"," ",126],["T_CONSTANT_ENCAPSED_STRING","'\"'",126],";",["T_WHITESPACE","\n\t\t",126],["T_VARIABLE","$csrun",127],["T_WHITESPACE"," ",127],"=",["T_WHITESPACE"," ",127],["T_CONSTANT_ENCAPSED_STRING","'\"'",127],["T_WHITESPACE"," ",127],".",["T_WHITESPACE"," ",127],["T_VARIABLE","$windowsAzureSdkFolderCandidates",127],"[",["T_LNUMBER","0",127],"]",["T_WHITESPACE"," ",127],".",["T_WHITESPACE"," ",127],["T_CONSTANT_ENCAPSED_STRING","'\\csrun.exe'",127],["T_WHITESPACE"," ",127],".",["T_WHITESPACE"," ",127],["T_CONSTANT_ENCAPSED_STRING","'\"'",127],";",["T_WHITESPACE","\n\n\t\t",127],["T_COMMENT","\/\/ Open the ServiceDefinition.csdef file and check for role paths\n",129],["T_WHITESPACE","\t\t",130],["T_VARIABLE","$serviceDefinitionFile",130],["T_WHITESPACE"," ",130],"=",["T_WHITESPACE"," ",130],["T_VARIABLE","$path",130],["T_WHITESPACE"," ",130],".",["T_WHITESPACE"," ",130],["T_CONSTANT_ENCAPSED_STRING","'\/ServiceDefinition.csdef'",130],";",["T_WHITESPACE","\n\t\t",130],["T_IF","if",131],["T_WHITESPACE"," ",131],"(","!",["T_STRING","file_exists",131],"(",["T_VARIABLE","$serviceDefinitionFile",131],")",")",["T_WHITESPACE"," ",131],"{",["T_WHITESPACE","\n\t\t\t",131],["T_COMMENT","#require_once 'Zend\/Service\/Console\/Exception.php';\n",132],["T_WHITESPACE","\t\t\t",133],["T_THROW","throw",133],["T_WHITESPACE"," ",133],["T_NEW","new",133],["T_WHITESPACE"," ",133],["T_STRING","Zend_Service_Console_Exception",133],"(",["T_CONSTANT_ENCAPSED_STRING","'Could not locate ServiceDefinition.csdef at '",133],["T_WHITESPACE"," ",133],".",["T_WHITESPACE"," ",133],["T_VARIABLE","$serviceDefinitionFile",133],["T_WHITESPACE"," ",133],".",["T_WHITESPACE"," ",133],["T_CONSTANT_ENCAPSED_STRING","'.'",133],")",";",["T_WHITESPACE","\n\t\t",133],"}",["T_WHITESPACE","\n\t\t",134],["T_VARIABLE","$serviceDefinition",135],["T_WHITESPACE"," ",135],"=",["T_WHITESPACE"," ",135],["T_STRING","Zend_Xml_Security",135],["T_DOUBLE_COLON","::",135],["T_STRING","scanFile",135],"(",["T_VARIABLE","$serviceDefinitionFile",135],")",";",["T_WHITESPACE","\n\t\t",135],["T_VARIABLE","$xmlRoles",136],["T_WHITESPACE"," ",136],"=",["T_WHITESPACE"," ",136],["T_ARRAY","array",136],"(",")",";",["T_WHITESPACE","\n\t\t",136],["T_IF","if",137],["T_WHITESPACE"," ",137],"(",["T_VARIABLE","$serviceDefinition",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","WebRole",137],")",["T_WHITESPACE"," ",137],"{",["T_WHITESPACE","\n\t\t\t",137],["T_IF","if",138],["T_WHITESPACE"," ",138],"(",["T_STRING","count",138],"(",["T_VARIABLE","$serviceDefinition",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","WebRole",138],")",["T_WHITESPACE"," ",138],">",["T_WHITESPACE"," ",138],["T_LNUMBER","1",138],")",["T_WHITESPACE"," ",138],"{",["T_WHITESPACE","\n\t    \t\t",138],["T_VARIABLE","$xmlRoles",139],["T_WHITESPACE"," ",139],"=",["T_WHITESPACE"," ",139],["T_STRING","array_merge",139],"(",["T_VARIABLE","$xmlRoles",139],",",["T_WHITESPACE"," ",139],["T_VARIABLE","$serviceDefinition",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","WebRole",139],")",";",["T_WHITESPACE","\n\t\t\t",139],"}",["T_WHITESPACE"," ",140],["T_ELSE","else",140],["T_WHITESPACE"," ",140],"{",["T_WHITESPACE","\n\t    \t\t",140],["T_VARIABLE","$xmlRoles",141],["T_WHITESPACE"," ",141],"=",["T_WHITESPACE"," ",141],["T_STRING","array_merge",141],"(",["T_VARIABLE","$xmlRoles",141],",",["T_WHITESPACE"," ",141],["T_ARRAY","array",141],"(",["T_VARIABLE","$serviceDefinition",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","WebRole",141],")",")",";",["T_WHITESPACE","\n\t    \t",141],"}",["T_WHITESPACE","\n\t\t",142],"}",["T_WHITESPACE","\n\t\t",143],["T_IF","if",144],["T_WHITESPACE"," ",144],"(",["T_VARIABLE","$serviceDefinition",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","WorkerRole",144],")",["T_WHITESPACE"," ",144],"{",["T_WHITESPACE","\n\t\t\t",144],["T_IF","if",145],["T_WHITESPACE"," ",145],"(",["T_STRING","count",145],"(",["T_VARIABLE","$serviceDefinition",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","WorkerRole",145],")",["T_WHITESPACE"," ",145],">",["T_WHITESPACE"," ",145],["T_LNUMBER","1",145],")",["T_WHITESPACE"," ",145],"{",["T_WHITESPACE","\n\t    \t\t",145],["T_VARIABLE","$xmlRoles",146],["T_WHITESPACE"," ",146],"=",["T_WHITESPACE"," ",146],["T_STRING","array_merge",146],"(",["T_VARIABLE","$xmlRoles",146],",",["T_WHITESPACE"," ",146],["T_VARIABLE","$serviceDefinition",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","WorkerRole",146],")",";",["T_WHITESPACE","\n\t\t\t",146],"}",["T_WHITESPACE"," ",147],["T_ELSE","else",147],["T_WHITESPACE"," ",147],"{",["T_WHITESPACE","\n\t    \t\t",147],["T_VARIABLE","$xmlRoles",148],["T_WHITESPACE"," ",148],"=",["T_WHITESPACE"," ",148],["T_STRING","array_merge",148],"(",["T_VARIABLE","$xmlRoles",148],",",["T_WHITESPACE"," ",148],["T_ARRAY","array",148],"(",["T_VARIABLE","$serviceDefinition",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","WorkerRole",148],")",")",";",["T_WHITESPACE","\n\t    \t",148],"}",["T_WHITESPACE","\n\t\t",149],"}",["T_WHITESPACE","\n\n\t\t",150],["T_COMMENT","\/\/ Build '\/role:' command parameter\n",152],["T_WHITESPACE","\t\t",153],["T_VARIABLE","$roleArgs",153],["T_WHITESPACE"," ",153],"=",["T_WHITESPACE"," ",153],["T_ARRAY","array",153],"(",")",";",["T_WHITESPACE","\n\t\t",153],["T_FOREACH","foreach",154],["T_WHITESPACE"," ",154],"(",["T_VARIABLE","$xmlRoles",154],["T_WHITESPACE"," ",154],["T_AS","as",154],["T_WHITESPACE"," ",154],["T_VARIABLE","$xmlRole",154],")",["T_WHITESPACE"," ",154],"{",["T_WHITESPACE","\n\t\t\t",154],["T_IF","if",155],["T_WHITESPACE"," ",155],"(",["T_VARIABLE","$xmlRole",155],"[",["T_CONSTANT_ENCAPSED_STRING","\"name\"",155],"]",")",["T_WHITESPACE"," ",155],"{",["T_WHITESPACE","\n\t\t\t\t",155],["T_VARIABLE","$roleArgs",156],"[","]",["T_WHITESPACE"," ",156],"=",["T_WHITESPACE"," ",156],["T_CONSTANT_ENCAPSED_STRING","'\/role:'",156],["T_WHITESPACE"," ",156],".",["T_WHITESPACE"," ",156],["T_VARIABLE","$xmlRole",156],"[",["T_CONSTANT_ENCAPSED_STRING","\"name\"",156],"]",["T_WHITESPACE"," ",156],".",["T_WHITESPACE"," ",156],["T_CONSTANT_ENCAPSED_STRING","';'",156],["T_WHITESPACE"," ",156],".",["T_WHITESPACE"," ",156],["T_STRING","realpath",156],"(",["T_VARIABLE","$path",156],["T_WHITESPACE"," ",156],".",["T_WHITESPACE"," ",156],["T_CONSTANT_ENCAPSED_STRING","'\/'",156],["T_WHITESPACE"," ",156],".",["T_WHITESPACE"," ",156],["T_VARIABLE","$xmlRole",156],"[",["T_CONSTANT_ENCAPSED_STRING","\"name\"",156],"]",")",";",["T_WHITESPACE","\n\t\t\t",156],"}",["T_WHITESPACE","\n\t\t",157],"}",["T_WHITESPACE","\n\n\t\t",158],["T_COMMENT","\/\/ Build command\n",160],["T_WHITESPACE","\t\t",161],["T_VARIABLE","$command",161],["T_WHITESPACE"," ",161],"=",["T_WHITESPACE"," ",161],["T_VARIABLE","$cspack",161],";",["T_WHITESPACE","\n\t\t",161],["T_VARIABLE","$args",162],["T_WHITESPACE"," ",162],"=",["T_WHITESPACE"," ",162],["T_ARRAY","array",162],"(",["T_WHITESPACE","\n\t\t\t",162],["T_VARIABLE","$path",163],["T_WHITESPACE"," ",163],".",["T_WHITESPACE"," ",163],["T_CONSTANT_ENCAPSED_STRING","'\\ServiceDefinition.csdef'",163],",",["T_WHITESPACE","\n\t\t\t",163],["T_STRING","implode",164],"(",["T_CONSTANT_ENCAPSED_STRING","' '",164],",",["T_WHITESPACE"," ",164],["T_VARIABLE","$roleArgs",164],")",",",["T_WHITESPACE","\n\t\t\t",164],["T_CONSTANT_ENCAPSED_STRING","'\/out:'",165],["T_WHITESPACE"," ",165],".",["T_WHITESPACE"," ",165],["T_VARIABLE","$packageOut",165],["T_WHITESPACE","\n\t\t",165],")",";",["T_WHITESPACE","\n\t\t",166],["T_IF","if",167],["T_WHITESPACE"," ",167],"(",["T_VARIABLE","$runDevFabric",167],")",["T_WHITESPACE"," ",167],"{",["T_WHITESPACE","\n\t\t\t",167],["T_VARIABLE","$args",168],"[","]",["T_WHITESPACE"," ",168],"=",["T_WHITESPACE"," ",168],["T_CONSTANT_ENCAPSED_STRING","'\/copyOnly'",168],";",["T_WHITESPACE","\n\t\t",168],"}",["T_WHITESPACE","\n\t\t",169],["T_STRING","passthru",170],"(",["T_VARIABLE","$command",170],["T_WHITESPACE"," ",170],".",["T_WHITESPACE"," ",170],["T_CONSTANT_ENCAPSED_STRING","' '",170],["T_WHITESPACE"," ",170],".",["T_WHITESPACE"," ",170],["T_STRING","implode",170],"(",["T_CONSTANT_ENCAPSED_STRING","' '",170],",",["T_WHITESPACE"," ",170],["T_VARIABLE","$args",170],")",")",";",["T_WHITESPACE","\n\n\t\t",170],["T_COMMENT","\/\/ Can we copy a configuration file?\n",172],["T_WHITESPACE","\t\t",173],["T_VARIABLE","$serviceConfigurationFile",173],["T_WHITESPACE"," ",173],"=",["T_WHITESPACE"," ",173],["T_VARIABLE","$path",173],["T_WHITESPACE"," ",173],".",["T_WHITESPACE"," ",173],["T_CONSTANT_ENCAPSED_STRING","'\/ServiceConfiguration.cscfg'",173],";",["T_WHITESPACE","\n\t\t",173],["T_VARIABLE","$serviceConfigurationFileOut",174],["T_WHITESPACE"," ",174],"=",["T_WHITESPACE"," ",174],["T_VARIABLE","$outputPath",174],["T_WHITESPACE"," ",174],".",["T_WHITESPACE"," ",174],["T_CONSTANT_ENCAPSED_STRING","'\/ServiceConfiguration.cscfg'",174],";",["T_WHITESPACE","\n\t\t",174],["T_IF","if",175],["T_WHITESPACE"," ",175],"(",["T_STRING","file_exists",175],"(",["T_VARIABLE","$serviceConfigurationFile",175],")",["T_WHITESPACE"," ",175],["T_BOOLEAN_AND","&&",175],["T_WHITESPACE"," ",175],"!",["T_STRING","file_exists",175],"(",["T_VARIABLE","$serviceConfigurationFileOut",175],")",")",["T_WHITESPACE"," ",175],"{",["T_WHITESPACE","\n\t\t\t",175],["T_STRING","copy",176],"(",["T_VARIABLE","$serviceConfigurationFile",176],",",["T_WHITESPACE"," ",176],["T_VARIABLE","$serviceConfigurationFileOut",176],")",";",["T_WHITESPACE","\n\t\t",176],"}",["T_WHITESPACE","\n\n\t\t",177],["T_COMMENT","\/\/ Do we have to start the development fabric?\n",179],["T_WHITESPACE","\t\t",180],["T_IF","if",180],["T_WHITESPACE"," ",180],"(",["T_VARIABLE","$runDevFabric",180],")",["T_WHITESPACE"," ",180],"{",["T_WHITESPACE","\n\t\t\t",180],["T_STRING","passthru",181],"(",["T_VARIABLE","$csrun",181],["T_WHITESPACE"," ",181],".",["T_WHITESPACE"," ",181],["T_CONSTANT_ENCAPSED_STRING","' \/devstore:start \/devfabric:start'",181],")",";",["T_WHITESPACE","\n\t\t\t",181],["T_STRING","passthru",182],"(",["T_VARIABLE","$csrun",182],["T_WHITESPACE"," ",182],".",["T_WHITESPACE"," ",182],["T_CONSTANT_ENCAPSED_STRING","' \/removeAll'",182],")",";",["T_WHITESPACE","\n\t\t\t",182],["T_STRING","passthru",183],"(",["T_VARIABLE","$csrun",183],["T_WHITESPACE"," ",183],".",["T_WHITESPACE"," ",183],["T_CONSTANT_ENCAPSED_STRING","' \/run:\"'",183],["T_WHITESPACE"," ",183],".",["T_WHITESPACE"," ",183],["T_VARIABLE","$packageOut",183],["T_WHITESPACE"," ",183],".",["T_WHITESPACE"," ",183],["T_CONSTANT_ENCAPSED_STRING","';'",183],["T_WHITESPACE"," ",183],".",["T_WHITESPACE"," ",183],["T_VARIABLE","$serviceConfigurationFileOut",183],["T_WHITESPACE"," ",183],".",["T_WHITESPACE"," ",183],["T_CONSTANT_ENCAPSED_STRING","'\" \/launchBrowser'",183],")",";",["T_WHITESPACE","\n\t\t",183],"}",["T_WHITESPACE","\n\t",184],"}",["T_WHITESPACE","\n\n\t",185],["T_DOC_COMMENT","\/**\n\t * Creates a scaffolder from a given path.\n\t *\n\t * @command-name CreateScaffolder\n\t * @command-description Creates a scaffolder from a given path.\n\t *\n\t * @command-parameter-for $rootPath Zend_Service_Console_Command_ParameterSource_Argv|Zend_Service_Console_Command_ParameterSource_ConfigFile --Path|-p Required. The path to package into a scaffolder.\n\t * @command-parameter-for $scaffolderFile Zend_Service_Console_Command_ParameterSource_Argv|Zend_Service_Console_Command_ParameterSource_ConfigFile --OutFile|-out Required. The filename of the scaffolder.\n\t *\/",187],["T_WHITESPACE","\n\t",195],["T_PUBLIC","public",196],["T_WHITESPACE"," ",196],["T_FUNCTION","function",196],["T_WHITESPACE"," ",196],["T_STRING","createScaffolderCommand",196],"(",["T_VARIABLE","$rootPath",196],",",["T_WHITESPACE"," ",196],["T_VARIABLE","$scaffolderFile",196],")",["T_WHITESPACE","\n\t",196],"{",["T_WHITESPACE","\n\t\t",197],["T_VARIABLE","$archive",198],["T_WHITESPACE"," ",198],"=",["T_WHITESPACE"," ",198],["T_NEW","new",198],["T_WHITESPACE"," ",198],["T_STRING","Phar",198],"(",["T_VARIABLE","$scaffolderFile",198],")",";",["T_WHITESPACE","\n\t\t",198],["T_VARIABLE","$archive",199],["T_OBJECT_OPERATOR","->",199],["T_STRING","buildFromIterator",199],"(",["T_WHITESPACE","\n\t\t\t",199],["T_NEW","new",200],["T_WHITESPACE"," ",200],["T_STRING","RecursiveIteratorIterator",200],"(",["T_WHITESPACE","\n\t\t\t\t",200],["T_NEW","new",201],["T_WHITESPACE"," ",201],["T_STRING","RecursiveDirectoryIterator",201],"(",["T_STRING","realpath",201],"(",["T_VARIABLE","$rootPath",201],")",")",")",",",["T_WHITESPACE","\n\t\t",201],["T_STRING","realpath",202],"(",["T_VARIABLE","$rootPath",202],")",")",";",["T_WHITESPACE","\n\t",202],"}",["T_WHITESPACE","\n",203],"}",["T_WHITESPACE","\n",204],["T_STRING","Zend_Service_Console_Command",205],["T_DOUBLE_COLON","::",205],["T_STRING","bootstrap",205],"(",["T_VARIABLE","$_SERVER",205],"[",["T_CONSTANT_ENCAPSED_STRING","'argv'",205],"]",")",";",["T_WHITESPACE","\n",205]]