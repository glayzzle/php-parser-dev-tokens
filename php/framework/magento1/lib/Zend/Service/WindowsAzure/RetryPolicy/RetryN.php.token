[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Zend Framework\n *\n * LICENSE\n *\n * This source file is subject to the new BSD license that is bundled\n * with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/framework.zend.com\/license\/new-bsd\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@zend.com so we can send you a copy immediately.\n *\n * @category   Zend\n * @package    Zend_Service_WindowsAzure\n * @subpackage RetryPolicy\n * @version    $Id$\n * @copyright  Copyright (c) 2005-2015 Zend Technologies USA Inc. (http:\/\/www.zend.com)\n * @license    http:\/\/framework.zend.com\/license\/new-bsd     New BSD License\n *\/",2],["T_WHITESPACE","\n\n",21],["T_DOC_COMMENT","\/**\n * @see Zend_Service_WindowsAzure_RetryPolicy_RetryPolicyAbstract\n *\/",23],["T_WHITESPACE","\n",25],["T_COMMENT","#require_once 'Zend\/Service\/WindowsAzure\/RetryPolicy\/RetryPolicyAbstract.php';\n",26],["T_WHITESPACE","\n",27],["T_DOC_COMMENT","\/**\n * @category   Zend\n * @package    Zend_Service_WindowsAzure\n * @subpackage RetryPolicy\n * @copyright  Copyright (c) 2005-2015 Zend Technologies USA Inc. (http:\/\/www.zend.com)\n * @license    http:\/\/framework.zend.com\/license\/new-bsd     New BSD License\n *\/",28],["T_WHITESPACE","\n",34],["T_CLASS","class",35],["T_WHITESPACE"," ",35],["T_STRING","Zend_Service_WindowsAzure_RetryPolicy_RetryN",35],["T_WHITESPACE"," ",35],["T_EXTENDS","extends",35],["T_WHITESPACE"," ",35],["T_STRING","Zend_Service_WindowsAzure_RetryPolicy_RetryPolicyAbstract",35],["T_WHITESPACE","\n",35],"{",["T_WHITESPACE","\n    ",36],["T_DOC_COMMENT","\/**\n     * Number of retries\n     * \n     * @var int\n     *\/",37],["T_WHITESPACE","\n    ",41],["T_PROTECTED","protected",42],["T_WHITESPACE"," ",42],["T_VARIABLE","$_retryCount",42],["T_WHITESPACE"," ",42],"=",["T_WHITESPACE"," ",42],["T_LNUMBER","1",42],";",["T_WHITESPACE","\n    \n    ",42],["T_DOC_COMMENT","\/**\n     * Interval between retries (in milliseconds)\n     * \n     * @var int\n     *\/",44],["T_WHITESPACE","\n    ",48],["T_PROTECTED","protected",49],["T_WHITESPACE"," ",49],["T_VARIABLE","$_retryInterval",49],["T_WHITESPACE"," ",49],"=",["T_WHITESPACE"," ",49],["T_LNUMBER","0",49],";",["T_WHITESPACE","\n    \n    ",49],["T_DOC_COMMENT","\/**\n     * Constructor\n     * \n     * @param int $count                    Number of retries\n     * @param int $intervalBetweenRetries   Interval between retries (in milliseconds)\n     *\/",51],["T_WHITESPACE","\n    ",56],["T_PUBLIC","public",57],["T_WHITESPACE"," ",57],["T_FUNCTION","function",57],["T_WHITESPACE"," ",57],["T_STRING","__construct",57],"(",["T_VARIABLE","$count",57],["T_WHITESPACE"," ",57],"=",["T_WHITESPACE"," ",57],["T_LNUMBER","1",57],",",["T_WHITESPACE"," ",57],["T_VARIABLE","$intervalBetweenRetries",57],["T_WHITESPACE"," ",57],"=",["T_WHITESPACE"," ",57],["T_LNUMBER","0",57],")",["T_WHITESPACE","\n    ",57],"{",["T_WHITESPACE","\n        ",58],["T_VARIABLE","$this",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","_retryCount",59],["T_WHITESPACE"," ",59],"=",["T_WHITESPACE"," ",59],["T_VARIABLE","$count",59],";",["T_WHITESPACE","\n        ",59],["T_VARIABLE","$this",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","_retryInterval",60],["T_WHITESPACE"," ",60],"=",["T_WHITESPACE"," ",60],["T_VARIABLE","$intervalBetweenRetries",60],";",["T_WHITESPACE","\n    ",60],"}",["T_WHITESPACE","\n    \n    ",61],["T_DOC_COMMENT","\/**\n     * Execute function under retry policy\n     * \n     * @param string|array $function       Function to execute\n     * @param array        $parameters     Parameters for function call\n     * @return mixed\n     *\/",63],["T_WHITESPACE","\n    ",69],["T_PUBLIC","public",70],["T_WHITESPACE"," ",70],["T_FUNCTION","function",70],["T_WHITESPACE"," ",70],["T_STRING","execute",70],"(",["T_VARIABLE","$function",70],",",["T_WHITESPACE"," ",70],["T_VARIABLE","$parameters",70],["T_WHITESPACE"," ",70],"=",["T_WHITESPACE"," ",70],["T_ARRAY","array",70],"(",")",")",["T_WHITESPACE","\n    ",70],"{",["T_WHITESPACE","\n        ",71],["T_VARIABLE","$returnValue",72],["T_WHITESPACE"," ",72],"=",["T_WHITESPACE"," ",72],["T_STRING","null",72],";",["T_WHITESPACE","\n        \n        ",72],["T_FOR","for",74],["T_WHITESPACE"," ",74],"(",["T_VARIABLE","$retriesLeft",74],["T_WHITESPACE"," ",74],"=",["T_WHITESPACE"," ",74],["T_VARIABLE","$this",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","_retryCount",74],";",["T_WHITESPACE"," ",74],["T_VARIABLE","$retriesLeft",74],["T_WHITESPACE"," ",74],["T_IS_GREATER_OR_EQUAL",">=",74],["T_WHITESPACE"," ",74],["T_LNUMBER","0",74],";",["T_WHITESPACE"," ",74],["T_DEC","--",74],["T_VARIABLE","$retriesLeft",74],")",["T_WHITESPACE"," ",74],"{",["T_WHITESPACE","\n            ",74],["T_TRY","try",75],["T_WHITESPACE"," ",75],"{",["T_WHITESPACE","\n                ",75],["T_VARIABLE","$returnValue",76],["T_WHITESPACE"," ",76],"=",["T_WHITESPACE"," ",76],["T_STRING","call_user_func_array",76],"(",["T_VARIABLE","$function",76],",",["T_WHITESPACE"," ",76],["T_VARIABLE","$parameters",76],")",";",["T_WHITESPACE","\n                ",76],["T_RETURN","return",77],["T_WHITESPACE"," ",77],["T_VARIABLE","$returnValue",77],";",["T_WHITESPACE","\n            ",77],"}",["T_WHITESPACE"," ",78],["T_CATCH","catch",78],["T_WHITESPACE"," ",78],"(",["T_STRING","Exception",78],["T_WHITESPACE"," ",78],["T_VARIABLE","$ex",78],")",["T_WHITESPACE"," ",78],"{",["T_WHITESPACE","\n                ",78],["T_IF","if",79],["T_WHITESPACE"," ",79],"(",["T_VARIABLE","$retriesLeft",79],["T_WHITESPACE"," ",79],["T_IS_EQUAL","==",79],["T_WHITESPACE"," ",79],["T_LNUMBER","1",79],")",["T_WHITESPACE"," ",79],"{",["T_WHITESPACE","\n                    ",79],["T_COMMENT","#require_once 'Zend\/Service\/WindowsAzure\/RetryPolicy\/Exception.php';\n",80],["T_WHITESPACE","                    ",81],["T_THROW","throw",81],["T_WHITESPACE"," ",81],["T_NEW","new",81],["T_WHITESPACE"," ",81],["T_STRING","Zend_Service_WindowsAzure_RetryPolicy_Exception",81],"(",["T_CONSTANT_ENCAPSED_STRING","\"Exceeded retry count of \"",81],["T_WHITESPACE"," ",81],".",["T_WHITESPACE"," ",81],["T_VARIABLE","$this",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","_retryCount",81],["T_WHITESPACE"," ",81],".",["T_WHITESPACE"," ",81],["T_CONSTANT_ENCAPSED_STRING","\". \"",81],["T_WHITESPACE"," ",81],".",["T_WHITESPACE"," ",81],["T_VARIABLE","$ex",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","getMessage",81],"(",")",")",";",["T_WHITESPACE","\n                ",81],"}",["T_WHITESPACE","\n                    \n                ",82],["T_STRING","usleep",84],"(",["T_VARIABLE","$this",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","_retryInterval",84],["T_WHITESPACE"," ",84],"*",["T_WHITESPACE"," ",84],["T_LNUMBER","1000",84],")",";",["T_WHITESPACE","\n            ",84],"}",["T_WHITESPACE","\n        ",85],"}",["T_WHITESPACE","\n    ",86],"}",["T_WHITESPACE","\n",87],"}",["T_WHITESPACE","\n",88]]