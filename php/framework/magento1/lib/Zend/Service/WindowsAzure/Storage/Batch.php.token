[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Zend Framework\n *\n * LICENSE\n *\n * This source file is subject to the new BSD license that is bundled\n * with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/framework.zend.com\/license\/new-bsd\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@zend.com so we can send you a copy immediately.\n *\n * @category   Zend\n * @package    Zend_Service_WindowsAzure\n * @subpackage Storage\n * @copyright  Copyright (c) 2005-2015 Zend Technologies USA Inc. (http:\/\/www.zend.com)\n * @license    http:\/\/framework.zend.com\/license\/new-bsd     New BSD License\n * @version    $Id$\n *\/",2],["T_WHITESPACE","\n\n\n",21],["T_DOC_COMMENT","\/**\n * @category   Zend\n * @package    Zend_Service_WindowsAzure\n * @subpackage Storage\n * @copyright  Copyright (c) 2005-2015 Zend Technologies USA Inc. (http:\/\/www.zend.com)\n * @license    http:\/\/framework.zend.com\/license\/new-bsd     New BSD License\n *\/",24],["T_WHITESPACE","\n",30],["T_CLASS","class",31],["T_WHITESPACE"," ",31],["T_STRING","Zend_Service_WindowsAzure_Storage_Batch",31],["T_WHITESPACE","\n",31],"{",["T_WHITESPACE","\t\n    ",32],["T_DOC_COMMENT","\/**\n     * Storage client the batch is defined on\n     * \n     * @var Zend_Service_WindowsAzure_Storage_BatchStorageAbstract\n     *\/",33],["T_WHITESPACE","\n    ",37],["T_PROTECTED","protected",38],["T_WHITESPACE"," ",38],["T_VARIABLE","$_storageClient",38],["T_WHITESPACE"," ",38],"=",["T_WHITESPACE"," ",38],["T_STRING","null",38],";",["T_WHITESPACE","\n    \n    ",38],["T_DOC_COMMENT","\/**\n     * For table storage?\n     * \n     * @var boolean\n     *\/",40],["T_WHITESPACE","\n    ",44],["T_PROTECTED","protected",45],["T_WHITESPACE"," ",45],["T_VARIABLE","$_forTableStorage",45],["T_WHITESPACE"," ",45],"=",["T_WHITESPACE"," ",45],["T_STRING","false",45],";",["T_WHITESPACE","\n    \n    ",45],["T_DOC_COMMENT","\/**\n     * Base URL\n     * \n     * @var string\n     *\/",47],["T_WHITESPACE","\n    ",51],["T_PROTECTED","protected",52],["T_WHITESPACE"," ",52],["T_VARIABLE","$_baseUrl",52],";",["T_WHITESPACE","\n    \n    ",52],["T_DOC_COMMENT","\/**\n     * Pending operations\n     * \n     * @var unknown_type\n     *\/",54],["T_WHITESPACE","\n    ",58],["T_PROTECTED","protected",59],["T_WHITESPACE"," ",59],["T_VARIABLE","$_operations",59],["T_WHITESPACE"," ",59],"=",["T_WHITESPACE"," ",59],["T_ARRAY","array",59],"(",")",";",["T_WHITESPACE","\n    \n    ",59],["T_DOC_COMMENT","\/**\n     * Does the batch contain a single select?\n     * \n     * @var boolean\n     *\/",61],["T_WHITESPACE","\n    ",65],["T_PROTECTED","protected",66],["T_WHITESPACE"," ",66],["T_VARIABLE","$_isSingleSelect",66],["T_WHITESPACE"," ",66],"=",["T_WHITESPACE"," ",66],["T_STRING","false",66],";",["T_WHITESPACE","\n    \n    ",66],["T_DOC_COMMENT","\/**\n     * Creates a new Zend_Service_WindowsAzure_Storage_Batch\n     * \n     * @param Zend_Service_WindowsAzure_Storage_BatchStorageAbstract $storageClient Storage client the batch is defined on\n     *\/",68],["T_WHITESPACE","\n    ",72],["T_PUBLIC","public",73],["T_WHITESPACE"," ",73],["T_FUNCTION","function",73],["T_WHITESPACE"," ",73],["T_STRING","__construct",73],"(",["T_STRING","Zend_Service_WindowsAzure_Storage_BatchStorageAbstract",73],["T_WHITESPACE"," ",73],["T_VARIABLE","$storageClient",73],["T_WHITESPACE"," ",73],"=",["T_WHITESPACE"," ",73],["T_STRING","null",73],",",["T_WHITESPACE"," ",73],["T_VARIABLE","$baseUrl",73],["T_WHITESPACE"," ",73],"=",["T_WHITESPACE"," ",73],["T_CONSTANT_ENCAPSED_STRING","''",73],")",["T_WHITESPACE","\n    ",73],"{",["T_WHITESPACE","\n        ",74],["T_VARIABLE","$this",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","_storageClient",75],["T_WHITESPACE"," ",75],"=",["T_WHITESPACE"," ",75],["T_VARIABLE","$storageClient",75],";",["T_WHITESPACE","\n        ",75],["T_VARIABLE","$this",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","_baseUrl",76],["T_WHITESPACE","       ",76],"=",["T_WHITESPACE"," ",76],["T_VARIABLE","$baseUrl",76],";",["T_WHITESPACE","\n        ",76],["T_VARIABLE","$this",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","_beginBatch",77],"(",")",";",["T_WHITESPACE","\n    ",77],"}",["T_WHITESPACE","\n    \n\t",78],["T_DOC_COMMENT","\/**\n\t * Get base URL for creating requests\n\t *\n\t * @return string\n\t *\/",80],["T_WHITESPACE","\n\t",84],["T_PUBLIC","public",85],["T_WHITESPACE"," ",85],["T_FUNCTION","function",85],["T_WHITESPACE"," ",85],["T_STRING","getBaseUrl",85],"(",")",["T_WHITESPACE","\n\t",85],"{",["T_WHITESPACE","\n\t\t",86],["T_RETURN","return",87],["T_WHITESPACE"," ",87],["T_VARIABLE","$this",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","_baseUrl",87],";",["T_WHITESPACE","\n\t",87],"}",["T_WHITESPACE","\n    \n    ",88],["T_DOC_COMMENT","\/**\n     * Starts a new batch operation set\n     * \n     * @throws Zend_Service_WindowsAzure_Exception\n     *\/",90],["T_WHITESPACE","\n    ",94],["T_PROTECTED","protected",95],["T_WHITESPACE"," ",95],["T_FUNCTION","function",95],["T_WHITESPACE"," ",95],["T_STRING","_beginBatch",95],"(",")",["T_WHITESPACE","\n    ",95],"{",["T_WHITESPACE","\n        ",96],["T_VARIABLE","$this",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","_storageClient",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","setCurrentBatch",97],"(",["T_VARIABLE","$this",97],")",";",["T_WHITESPACE","\n    ",97],"}",["T_WHITESPACE","\n    \n    ",98],["T_DOC_COMMENT","\/**\n     * Cleanup current batch\n     *\/",100],["T_WHITESPACE","\n    ",102],["T_PROTECTED","protected",103],["T_WHITESPACE"," ",103],["T_FUNCTION","function",103],["T_WHITESPACE"," ",103],["T_STRING","_clean",103],"(",")",["T_WHITESPACE","\n    ",103],"{",["T_WHITESPACE","\n        ",104],["T_UNSET","unset",105],"(",["T_VARIABLE","$this",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","_operations",105],")",";",["T_WHITESPACE","\n        ",105],["T_VARIABLE","$this",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","_storageClient",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","setCurrentBatch",106],"(",["T_STRING","null",106],")",";",["T_WHITESPACE","\n        ",106],["T_VARIABLE","$this",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","_storageClient",107],["T_WHITESPACE"," ",107],"=",["T_WHITESPACE"," ",107],["T_STRING","null",107],";",["T_WHITESPACE","\n        ",107],["T_UNSET","unset",108],"(",["T_VARIABLE","$this",108],")",";",["T_WHITESPACE","\n    ",108],"}",["T_WHITESPACE","\n\n\t",109],["T_DOC_COMMENT","\/**\n\t * Enlist operation in current batch\n\t *\n\t * @param string $path Path\n\t * @param string $queryString Query string\n\t * @param string $httpVerb HTTP verb the request will use\n\t * @param array $headers x-ms headers to add\n\t * @param boolean $forTableStorage Is the request for table storage?\n\t * @param mixed $rawData Optional RAW HTTP data to be sent over the wire\n\t * @throws Zend_Service_WindowsAzure_Exception\n\t *\/",111],["T_WHITESPACE","\n\t",121],["T_PUBLIC","public",122],["T_WHITESPACE"," ",122],["T_FUNCTION","function",122],["T_WHITESPACE"," ",122],["T_STRING","enlistOperation",122],"(",["T_VARIABLE","$path",122],["T_WHITESPACE"," ",122],"=",["T_WHITESPACE"," ",122],["T_CONSTANT_ENCAPSED_STRING","'\/'",122],",",["T_WHITESPACE"," ",122],["T_VARIABLE","$queryString",122],["T_WHITESPACE"," ",122],"=",["T_WHITESPACE"," ",122],["T_CONSTANT_ENCAPSED_STRING","''",122],",",["T_WHITESPACE"," ",122],["T_VARIABLE","$httpVerb",122],["T_WHITESPACE"," ",122],"=",["T_WHITESPACE"," ",122],["T_STRING","Zend_Http_Client",122],["T_DOUBLE_COLON","::",122],["T_STRING","GET",122],",",["T_WHITESPACE"," ",122],["T_VARIABLE","$headers",122],["T_WHITESPACE"," ",122],"=",["T_WHITESPACE"," ",122],["T_ARRAY","array",122],"(",")",",",["T_WHITESPACE"," ",122],["T_VARIABLE","$forTableStorage",122],["T_WHITESPACE"," ",122],"=",["T_WHITESPACE"," ",122],["T_STRING","false",122],",",["T_WHITESPACE"," ",122],["T_VARIABLE","$rawData",122],["T_WHITESPACE"," ",122],"=",["T_WHITESPACE"," ",122],["T_STRING","null",122],")",["T_WHITESPACE","\n\t",122],"{",["T_WHITESPACE","\n\t    ",123],["T_COMMENT","\/\/ Set _forTableStorage\n",124],["T_WHITESPACE","\t    ",125],["T_IF","if",125],["T_WHITESPACE"," ",125],"(",["T_VARIABLE","$forTableStorage",125],")",["T_WHITESPACE"," ",125],"{",["T_WHITESPACE","\n\t        ",125],["T_VARIABLE","$this",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","_forTableStorage",126],["T_WHITESPACE"," ",126],"=",["T_WHITESPACE"," ",126],["T_STRING","true",126],";",["T_WHITESPACE","\n\t    ",126],"}",["T_WHITESPACE","\n\t    \n\t    ",127],["T_COMMENT","\/\/ Set _isSingleSelect\n",129],["T_WHITESPACE","\t    ",130],["T_IF","if",130],["T_WHITESPACE"," ",130],"(",["T_VARIABLE","$httpVerb",130],["T_WHITESPACE"," ",130],["T_IS_EQUAL","==",130],["T_WHITESPACE"," ",130],["T_STRING","Zend_Http_Client",130],["T_DOUBLE_COLON","::",130],["T_STRING","GET",130],")",["T_WHITESPACE"," ",130],"{",["T_WHITESPACE","\n\t        ",130],["T_IF","if",131],["T_WHITESPACE"," ",131],"(",["T_STRING","count",131],"(",["T_VARIABLE","$this",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","_operations",131],")",["T_WHITESPACE"," ",131],">",["T_WHITESPACE"," ",131],["T_LNUMBER","0",131],")",["T_WHITESPACE"," ",131],"{",["T_WHITESPACE","\n                    ",131],["T_COMMENT","#require_once 'Zend\/Service\/WindowsAzure\/Exception.php';\n",132],["T_WHITESPACE","\t            ",133],["T_THROW","throw",133],["T_WHITESPACE"," ",133],["T_NEW","new",133],["T_WHITESPACE"," ",133],["T_STRING","Zend_Service_WindowsAzure_Exception",133],"(",["T_CONSTANT_ENCAPSED_STRING","\"Select operations can only be performed in an empty batch transaction.\"",133],")",";",["T_WHITESPACE","\n\t        ",133],"}",["T_WHITESPACE","\n\t        ",134],["T_VARIABLE","$this",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","_isSingleSelect",135],["T_WHITESPACE"," ",135],"=",["T_WHITESPACE"," ",135],["T_STRING","true",135],";",["T_WHITESPACE","\n\t    ",135],"}",["T_WHITESPACE","\n\t    \n\t    ",136],["T_COMMENT","\/\/ Clean path\n",138],["T_WHITESPACE","\t\t",139],["T_IF","if",139],["T_WHITESPACE"," ",139],"(",["T_STRING","strpos",139],"(",["T_VARIABLE","$path",139],",",["T_WHITESPACE"," ",139],["T_CONSTANT_ENCAPSED_STRING","'\/'",139],")",["T_WHITESPACE"," ",139],["T_IS_NOT_IDENTICAL","!==",139],["T_WHITESPACE"," ",139],["T_LNUMBER","0",139],")",["T_WHITESPACE"," ",139],"{",["T_WHITESPACE","\n\t\t\t",139],["T_VARIABLE","$path",140],["T_WHITESPACE"," ",140],"=",["T_WHITESPACE"," ",140],["T_CONSTANT_ENCAPSED_STRING","'\/'",140],["T_WHITESPACE"," ",140],".",["T_WHITESPACE"," ",140],["T_VARIABLE","$path",140],";",["T_WHITESPACE","\n\t\t",140],"}",["T_WHITESPACE","\n\t\t\t\n\t\t",141],["T_COMMENT","\/\/ Clean headers\n",143],["T_WHITESPACE","\t\t",144],["T_IF","if",144],["T_WHITESPACE"," ",144],"(",["T_STRING","is_null",144],"(",["T_VARIABLE","$headers",144],")",")",["T_WHITESPACE"," ",144],"{",["T_WHITESPACE","\n\t\t    ",144],["T_VARIABLE","$headers",145],["T_WHITESPACE"," ",145],"=",["T_WHITESPACE"," ",145],["T_ARRAY","array",145],"(",")",";",["T_WHITESPACE","\n\t\t",145],"}",["T_WHITESPACE","\n\t\t    \n\t\t",146],["T_COMMENT","\/\/ URL encoding\n",148],["T_WHITESPACE","\t\t",149],["T_VARIABLE","$path",149],["T_WHITESPACE","           ",149],"=",["T_WHITESPACE"," ",149],["T_STRING","Zend_Service_WindowsAzure_Storage",149],["T_DOUBLE_COLON","::",149],["T_STRING","urlencode",149],"(",["T_VARIABLE","$path",149],")",";",["T_WHITESPACE","\n\t\t",149],["T_VARIABLE","$queryString",150],["T_WHITESPACE","    ",150],"=",["T_WHITESPACE"," ",150],["T_STRING","Zend_Service_WindowsAzure_Storage",150],["T_DOUBLE_COLON","::",150],["T_STRING","urlencode",150],"(",["T_VARIABLE","$queryString",150],")",";",["T_WHITESPACE","\n\n\t\t",150],["T_COMMENT","\/\/ Generate URL\n",152],["T_WHITESPACE","\t\t",153],["T_VARIABLE","$requestUrl",153],["T_WHITESPACE","     ",153],"=",["T_WHITESPACE"," ",153],["T_VARIABLE","$this",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","getBaseUrl",153],"(",")",["T_WHITESPACE"," ",153],".",["T_WHITESPACE"," ",153],["T_VARIABLE","$path",153],["T_WHITESPACE"," ",153],".",["T_WHITESPACE"," ",153],["T_VARIABLE","$queryString",153],";",["T_WHITESPACE","\n\t\t\n\t\t",153],["T_COMMENT","\/\/ Generate $rawData\n",155],["T_WHITESPACE","\t\t",156],["T_IF","if",156],["T_WHITESPACE"," ",156],"(",["T_STRING","is_null",156],"(",["T_VARIABLE","$rawData",156],")",")",["T_WHITESPACE"," ",156],"{",["T_WHITESPACE","\n\t\t    ",156],["T_VARIABLE","$rawData",157],["T_WHITESPACE"," ",157],"=",["T_WHITESPACE"," ",157],["T_CONSTANT_ENCAPSED_STRING","''",157],";",["T_WHITESPACE","\n\t\t",157],"}",["T_WHITESPACE","\n\t\t    \n\t\t",158],["T_COMMENT","\/\/ Add headers\n",160],["T_WHITESPACE","\t\t",161],["T_IF","if",161],["T_WHITESPACE"," ",161],"(",["T_VARIABLE","$httpVerb",161],["T_WHITESPACE"," ",161],["T_IS_NOT_EQUAL","!=",161],["T_WHITESPACE"," ",161],["T_STRING","Zend_Http_Client",161],["T_DOUBLE_COLON","::",161],["T_STRING","GET",161],")",["T_WHITESPACE"," ",161],"{",["T_WHITESPACE","\n    \t\t",161],["T_VARIABLE","$headers",162],"[",["T_CONSTANT_ENCAPSED_STRING","'Content-ID'",162],"]",["T_WHITESPACE"," ",162],"=",["T_WHITESPACE"," ",162],["T_STRING","count",162],"(",["T_VARIABLE","$this",162],["T_OBJECT_OPERATOR","->",162],["T_STRING","_operations",162],")",["T_WHITESPACE"," ",162],"+",["T_WHITESPACE"," ",162],["T_LNUMBER","1",162],";",["T_WHITESPACE","\n    \t\t",162],["T_IF","if",163],["T_WHITESPACE"," ",163],"(",["T_VARIABLE","$httpVerb",163],["T_WHITESPACE"," ",163],["T_IS_NOT_EQUAL","!=",163],["T_WHITESPACE"," ",163],["T_STRING","Zend_Http_Client",163],["T_DOUBLE_COLON","::",163],["T_STRING","DELETE",163],")",["T_WHITESPACE"," ",163],"{",["T_WHITESPACE","\n    \t\t    ",163],["T_VARIABLE","$headers",164],"[",["T_CONSTANT_ENCAPSED_STRING","'Content-Type'",164],"]",["T_WHITESPACE"," ",164],"=",["T_WHITESPACE"," ",164],["T_CONSTANT_ENCAPSED_STRING","'application\/atom+xml;type=entry'",164],";",["T_WHITESPACE","\n    \t\t",164],"}",["T_WHITESPACE","\n    \t\t",165],["T_VARIABLE","$headers",166],"[",["T_CONSTANT_ENCAPSED_STRING","'Content-Length'",166],"]",["T_WHITESPACE"," ",166],"=",["T_WHITESPACE"," ",166],["T_STRING","strlen",166],"(",["T_VARIABLE","$rawData",166],")",";",["T_WHITESPACE","\n\t\t",166],"}",["T_WHITESPACE","\n\t\t    \n\t\t",167],["T_COMMENT","\/\/ Generate $operation\n",169],["T_WHITESPACE","\t\t",170],["T_VARIABLE","$operation",170],["T_WHITESPACE"," ",170],"=",["T_WHITESPACE"," ",170],["T_CONSTANT_ENCAPSED_STRING","''",170],";",["T_WHITESPACE","\n\t\t",170],["T_VARIABLE","$operation",171],["T_WHITESPACE"," ",171],["T_CONCAT_EQUAL",".=",171],["T_WHITESPACE"," ",171],["T_VARIABLE","$httpVerb",171],["T_WHITESPACE"," ",171],".",["T_WHITESPACE"," ",171],["T_CONSTANT_ENCAPSED_STRING","' '",171],["T_WHITESPACE"," ",171],".",["T_WHITESPACE"," ",171],["T_VARIABLE","$requestUrl",171],["T_WHITESPACE"," ",171],".",["T_WHITESPACE"," ",171],["T_CONSTANT_ENCAPSED_STRING","' HTTP\/1.1'",171],["T_WHITESPACE"," ",171],".",["T_WHITESPACE"," ",171],["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",171],";",["T_WHITESPACE","\n\t\t",171],["T_FOREACH","foreach",172],["T_WHITESPACE"," ",172],"(",["T_VARIABLE","$headers",172],["T_WHITESPACE"," ",172],["T_AS","as",172],["T_WHITESPACE"," ",172],["T_VARIABLE","$key",172],["T_WHITESPACE"," ",172],["T_DOUBLE_ARROW","=>",172],["T_WHITESPACE"," ",172],["T_VARIABLE","$value",172],")",["T_WHITESPACE","\n\t\t",172],"{",["T_WHITESPACE","\n\t\t    ",173],["T_VARIABLE","$operation",174],["T_WHITESPACE"," ",174],["T_CONCAT_EQUAL",".=",174],["T_WHITESPACE"," ",174],["T_VARIABLE","$key",174],["T_WHITESPACE"," ",174],".",["T_WHITESPACE"," ",174],["T_CONSTANT_ENCAPSED_STRING","': '",174],["T_WHITESPACE"," ",174],".",["T_WHITESPACE"," ",174],["T_VARIABLE","$value",174],["T_WHITESPACE"," ",174],".",["T_WHITESPACE"," ",174],["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",174],";",["T_WHITESPACE","\n\t\t",174],"}",["T_WHITESPACE","\n\t\t",175],["T_VARIABLE","$operation",176],["T_WHITESPACE"," ",176],["T_CONCAT_EQUAL",".=",176],["T_WHITESPACE"," ",176],["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",176],";",["T_WHITESPACE","\n\t\t\n\t\t",176],["T_COMMENT","\/\/ Add data\n",178],["T_WHITESPACE","\t\t",179],["T_VARIABLE","$operation",179],["T_WHITESPACE"," ",179],["T_CONCAT_EQUAL",".=",179],["T_WHITESPACE"," ",179],["T_VARIABLE","$rawData",179],";",["T_WHITESPACE","\n\n\t\t",179],["T_COMMENT","\/\/ Store operation\n",181],["T_WHITESPACE","\t\t",182],["T_VARIABLE","$this",182],["T_OBJECT_OPERATOR","->",182],["T_STRING","_operations",182],"[","]",["T_WHITESPACE"," ",182],"=",["T_WHITESPACE"," ",182],["T_VARIABLE","$operation",182],";",["T_WHITESPACE","\t        \n\t",182],"}",["T_WHITESPACE","\n    \n    ",183],["T_DOC_COMMENT","\/**\n     * Commit current batch\n     * \n     * @return Zend_Http_Response\n     * @throws Zend_Service_WindowsAzure_Exception\n     *\/",185],["T_WHITESPACE","\n    ",190],["T_PUBLIC","public",191],["T_WHITESPACE"," ",191],["T_FUNCTION","function",191],["T_WHITESPACE"," ",191],["T_STRING","commit",191],"(",")",["T_WHITESPACE","\n    ",191],"{",["T_WHITESPACE","    \t\n        ",192],["T_COMMENT","\/\/ Perform batch\n",193],["T_WHITESPACE","        ",194],["T_VARIABLE","$response",194],["T_WHITESPACE"," ",194],"=",["T_WHITESPACE"," ",194],["T_VARIABLE","$this",194],["T_OBJECT_OPERATOR","->",194],["T_STRING","_storageClient",194],["T_OBJECT_OPERATOR","->",194],["T_STRING","performBatch",194],"(",["T_VARIABLE","$this",194],["T_OBJECT_OPERATOR","->",194],["T_STRING","_operations",194],",",["T_WHITESPACE"," ",194],["T_VARIABLE","$this",194],["T_OBJECT_OPERATOR","->",194],["T_STRING","_forTableStorage",194],",",["T_WHITESPACE"," ",194],["T_VARIABLE","$this",194],["T_OBJECT_OPERATOR","->",194],["T_STRING","_isSingleSelect",194],")",";",["T_WHITESPACE","\n        \n        ",194],["T_COMMENT","\/\/ Dispose\n",196],["T_WHITESPACE","        ",197],["T_VARIABLE","$this",197],["T_OBJECT_OPERATOR","->",197],["T_STRING","_clean",197],"(",")",";",["T_WHITESPACE","\n        \n        ",197],["T_COMMENT","\/\/ Parse response\n",199],["T_WHITESPACE","        ",200],["T_VARIABLE","$errors",200],["T_WHITESPACE"," ",200],"=",["T_WHITESPACE"," ",200],["T_STRING","null",200],";",["T_WHITESPACE","\n        ",200],["T_STRING","preg_match_all",201],"(",["T_CONSTANT_ENCAPSED_STRING","'\/<message (.*)>(.*)<\\\/message>\/'",201],",",["T_WHITESPACE"," ",201],["T_VARIABLE","$response",201],["T_OBJECT_OPERATOR","->",201],["T_STRING","getBody",201],"(",")",",",["T_WHITESPACE"," ",201],["T_VARIABLE","$errors",201],")",";",["T_WHITESPACE","\n        \n        ",201],["T_COMMENT","\/\/ Error?\n",203],["T_WHITESPACE","        ",204],["T_IF","if",204],["T_WHITESPACE"," ",204],"(",["T_STRING","count",204],"(",["T_VARIABLE","$errors",204],"[",["T_LNUMBER","2",204],"]",")",["T_WHITESPACE"," ",204],">",["T_WHITESPACE"," ",204],["T_LNUMBER","0",204],")",["T_WHITESPACE"," ",204],"{",["T_WHITESPACE","\n            ",204],["T_COMMENT","#require_once 'Zend\/Service\/WindowsAzure\/Exception.php';\n",205],["T_WHITESPACE","            ",206],["T_THROW","throw",206],["T_WHITESPACE"," ",206],["T_NEW","new",206],["T_WHITESPACE"," ",206],["T_STRING","Zend_Service_WindowsAzure_Exception",206],"(",["T_CONSTANT_ENCAPSED_STRING","'An error has occured while committing a batch: '",206],["T_WHITESPACE"," ",206],".",["T_WHITESPACE"," ",206],["T_VARIABLE","$errors",206],"[",["T_LNUMBER","2",206],"]","[",["T_LNUMBER","0",206],"]",")",";",["T_WHITESPACE","\n        ",206],"}",["T_WHITESPACE","\n        \n        ",207],["T_COMMENT","\/\/ Return\n",209],["T_WHITESPACE","        ",210],["T_RETURN","return",210],["T_WHITESPACE"," ",210],["T_VARIABLE","$response",210],";",["T_WHITESPACE","\n    ",210],"}",["T_WHITESPACE","\n    \n    ",211],["T_DOC_COMMENT","\/**\n     * Rollback current batch\n     *\/",213],["T_WHITESPACE","\n    ",215],["T_PUBLIC","public",216],["T_WHITESPACE"," ",216],["T_FUNCTION","function",216],["T_WHITESPACE"," ",216],["T_STRING","rollback",216],"(",")",["T_WHITESPACE","\n    ",216],"{",["T_WHITESPACE","\n        ",217],["T_COMMENT","\/\/ Dispose\n",218],["T_WHITESPACE","        ",219],["T_VARIABLE","$this",219],["T_OBJECT_OPERATOR","->",219],["T_STRING","_clean",219],"(",")",";",["T_WHITESPACE","\n    ",219],"}",["T_WHITESPACE","\n    \n    ",220],["T_DOC_COMMENT","\/**\n     * Get operation count\n     * \n     * @return integer\n     *\/",222],["T_WHITESPACE","\n    ",226],["T_PUBLIC","public",227],["T_WHITESPACE"," ",227],["T_FUNCTION","function",227],["T_WHITESPACE"," ",227],["T_STRING","getOperationCount",227],"(",")",["T_WHITESPACE","\n    ",227],"{",["T_WHITESPACE","\n        ",228],["T_RETURN","return",229],["T_WHITESPACE"," ",229],["T_STRING","count",229],"(",["T_VARIABLE","$this",229],["T_OBJECT_OPERATOR","->",229],["T_STRING","_operations",229],")",";",["T_WHITESPACE","\n    ",229],"}",["T_WHITESPACE","\n    \n    ",230],["T_DOC_COMMENT","\/**\n     * Is single select?\n     * \n     * @return boolean\n     *\/",232],["T_WHITESPACE","\n    ",236],["T_PUBLIC","public",237],["T_WHITESPACE"," ",237],["T_FUNCTION","function",237],["T_WHITESPACE"," ",237],["T_STRING","isSingleSelect",237],"(",")",["T_WHITESPACE","\n    ",237],"{",["T_WHITESPACE","\n        ",238],["T_RETURN","return",239],["T_WHITESPACE"," ",239],["T_VARIABLE","$this",239],["T_OBJECT_OPERATOR","->",239],["T_STRING","_isSingleSelect",239],";",["T_WHITESPACE","\n    ",239],"}",["T_WHITESPACE","\n",240],"}",["T_WHITESPACE","\n",241]]