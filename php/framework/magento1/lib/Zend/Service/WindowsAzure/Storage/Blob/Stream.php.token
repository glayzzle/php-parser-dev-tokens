[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Zend Framework\n *\n * LICENSE\n *\n * This source file is subject to the new BSD license that is bundled\n * with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/framework.zend.com\/license\/new-bsd\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@zend.com so we can send you a copy immediately.\n *\n * @category   Zend\n * @package    Zend_Service_WindowsAzure_Storage\n * @subpackage Blob\n * @copyright  Copyright (c) 2005-2015 Zend Technologies USA Inc. (http:\/\/www.zend.com)\n * @license    http:\/\/todo     name_todo\n * @version    $Id$\n *\/",2],["T_WHITESPACE","\n\n",21],["T_DOC_COMMENT","\/**\n * @category   Zend\n * @package    Zend_Service_WindowsAzure_Storage\n * @subpackage Blob\n * @copyright  Copyright (c) 2005-2015 Zend Technologies USA Inc. (http:\/\/www.zend.com)\n * @license    http:\/\/framework.zend.com\/license\/new-bsd     New BSD License\n *\/",23],["T_WHITESPACE","\n",29],["T_CLASS","class",30],["T_WHITESPACE"," ",30],["T_STRING","Zend_Service_WindowsAzure_Storage_Blob_Stream",30],["T_WHITESPACE","\n",30],"{",["T_WHITESPACE","\n    ",31],["T_DOC_COMMENT","\/**\n     * Current file name\n     * \n     * @var string\n     *\/",32],["T_WHITESPACE","\n    ",36],["T_PROTECTED","protected",37],["T_WHITESPACE"," ",37],["T_VARIABLE","$_fileName",37],["T_WHITESPACE"," ",37],"=",["T_WHITESPACE"," ",37],["T_STRING","null",37],";",["T_WHITESPACE","\n    \n    ",37],["T_DOC_COMMENT","\/**\n     * Temporary file name\n     * \n     * @var string\n     *\/",39],["T_WHITESPACE","\n    ",43],["T_PROTECTED","protected",44],["T_WHITESPACE"," ",44],["T_VARIABLE","$_temporaryFileName",44],["T_WHITESPACE"," ",44],"=",["T_WHITESPACE"," ",44],["T_STRING","null",44],";",["T_WHITESPACE","\n    \n    ",44],["T_DOC_COMMENT","\/**\n     * Temporary file handle\n     * \n     * @var resource\n     *\/",46],["T_WHITESPACE","\n    ",50],["T_PROTECTED","protected",51],["T_WHITESPACE"," ",51],["T_VARIABLE","$_temporaryFileHandle",51],["T_WHITESPACE"," ",51],"=",["T_WHITESPACE"," ",51],["T_STRING","null",51],";",["T_WHITESPACE","\n    \n    ",51],["T_DOC_COMMENT","\/**\n     * Blob storage client\n     * \n     * @var Zend_Service_WindowsAzure_Storage_Blob\n     *\/",53],["T_WHITESPACE","\n    ",57],["T_PROTECTED","protected",58],["T_WHITESPACE"," ",58],["T_VARIABLE","$_storageClient",58],["T_WHITESPACE"," ",58],"=",["T_WHITESPACE"," ",58],["T_STRING","null",58],";",["T_WHITESPACE","\n    \n    ",58],["T_DOC_COMMENT","\/**\n     * Write mode?\n     * \n     * @var boolean\n     *\/",60],["T_WHITESPACE","\n    ",64],["T_PROTECTED","protected",65],["T_WHITESPACE"," ",65],["T_VARIABLE","$_writeMode",65],["T_WHITESPACE"," ",65],"=",["T_WHITESPACE"," ",65],["T_STRING","false",65],";",["T_WHITESPACE","\n    \n    ",65],["T_DOC_COMMENT","\/**\n     * List of blobs\n     * \n     * @var array\n     *\/",67],["T_WHITESPACE","\n    ",71],["T_PROTECTED","protected",72],["T_WHITESPACE"," ",72],["T_VARIABLE","$_blobs",72],["T_WHITESPACE"," ",72],"=",["T_WHITESPACE"," ",72],["T_STRING","null",72],";",["T_WHITESPACE","\n    \n    ",72],["T_DOC_COMMENT","\/**\n     * Retrieve storage client for this stream type\n     * \n     * @param string $path\n     * @return Zend_Service_WindowsAzure_Storage_Blob\n     *\/",74],["T_WHITESPACE","\n    ",79],["T_PROTECTED","protected",80],["T_WHITESPACE"," ",80],["T_FUNCTION","function",80],["T_WHITESPACE"," ",80],["T_STRING","_getStorageClient",80],"(",["T_VARIABLE","$path",80],["T_WHITESPACE"," ",80],"=",["T_WHITESPACE"," ",80],["T_CONSTANT_ENCAPSED_STRING","''",80],")",["T_WHITESPACE","\n    ",80],"{",["T_WHITESPACE","\n        ",81],["T_IF","if",82],["T_WHITESPACE"," ",82],"(",["T_STRING","is_null",82],"(",["T_VARIABLE","$this",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","_storageClient",82],")",")",["T_WHITESPACE"," ",82],"{",["T_WHITESPACE","\n            ",82],["T_VARIABLE","$url",83],["T_WHITESPACE"," ",83],"=",["T_WHITESPACE"," ",83],["T_STRING","explode",83],"(",["T_CONSTANT_ENCAPSED_STRING","':'",83],",",["T_WHITESPACE"," ",83],["T_VARIABLE","$path",83],")",";",["T_WHITESPACE","\n            ",83],["T_IF","if",84],["T_WHITESPACE"," ",84],"(","!",["T_VARIABLE","$url",84],")",["T_WHITESPACE"," ",84],"{",["T_WHITESPACE","\n                ",84],["T_THROW","throw",85],["T_WHITESPACE"," ",85],["T_NEW","new",85],["T_WHITESPACE"," ",85],["T_STRING","Zend_Service_WindowsAzure_Exception",85],"(",["T_CONSTANT_ENCAPSED_STRING","'Could not parse path \"'",85],["T_WHITESPACE"," ",85],".",["T_WHITESPACE"," ",85],["T_VARIABLE","$path",85],["T_WHITESPACE"," ",85],".",["T_WHITESPACE"," ",85],["T_CONSTANT_ENCAPSED_STRING","'\".'",85],")",";",["T_WHITESPACE","\n            ",85],"}",["T_WHITESPACE","\n\n            ",86],["T_VARIABLE","$this",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","_storageClient",88],["T_WHITESPACE"," ",88],"=",["T_WHITESPACE"," ",88],["T_STRING","Zend_Service_WindowsAzure_Storage_Blob",88],["T_DOUBLE_COLON","::",88],["T_STRING","getWrapperClient",88],"(",["T_VARIABLE","$url",88],"[",["T_LNUMBER","0",88],"]",")",";",["T_WHITESPACE","\n            ",88],["T_IF","if",89],["T_WHITESPACE"," ",89],"(","!",["T_VARIABLE","$this",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","_storageClient",89],")",["T_WHITESPACE"," ",89],"{",["T_WHITESPACE","\n                ",89],["T_THROW","throw",90],["T_WHITESPACE"," ",90],["T_NEW","new",90],["T_WHITESPACE"," ",90],["T_STRING","Zend_Service_WindowsAzure_Exception",90],"(",["T_CONSTANT_ENCAPSED_STRING","'No storage client registered for stream type \"'",90],["T_WHITESPACE"," ",90],".",["T_WHITESPACE"," ",90],["T_VARIABLE","$url",90],"[",["T_LNUMBER","0",90],"]",["T_WHITESPACE"," ",90],".",["T_WHITESPACE"," ",90],["T_CONSTANT_ENCAPSED_STRING","':\/\/\".'",90],")",";",["T_WHITESPACE","\n            ",90],"}",["T_WHITESPACE","\n        ",91],"}",["T_WHITESPACE","\n        \n        ",92],["T_RETURN","return",94],["T_WHITESPACE"," ",94],["T_VARIABLE","$this",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","_storageClient",94],";",["T_WHITESPACE","\n    ",94],"}",["T_WHITESPACE","\n    \n    ",95],["T_DOC_COMMENT","\/**\n     * Extract container name\n     *\n     * @param string $path\n     * @return string\n     *\/",97],["T_WHITESPACE","\n    ",102],["T_PROTECTED","protected",103],["T_WHITESPACE"," ",103],["T_FUNCTION","function",103],["T_WHITESPACE"," ",103],["T_STRING","_getContainerName",103],"(",["T_VARIABLE","$path",103],")",["T_WHITESPACE","\n    ",103],"{",["T_WHITESPACE","\n        ",104],["T_VARIABLE","$url",105],["T_WHITESPACE"," ",105],"=",["T_WHITESPACE"," ",105],["T_STRING","parse_url",105],"(",["T_VARIABLE","$path",105],")",";",["T_WHITESPACE","\n        ",105],["T_IF","if",106],["T_WHITESPACE"," ",106],"(",["T_VARIABLE","$url",106],"[",["T_CONSTANT_ENCAPSED_STRING","'host'",106],"]",")",["T_WHITESPACE"," ",106],"{",["T_WHITESPACE","\n            ",106],["T_RETURN","return",107],["T_WHITESPACE"," ",107],["T_VARIABLE","$url",107],"[",["T_CONSTANT_ENCAPSED_STRING","'host'",107],"]",";",["T_WHITESPACE","\n        ",107],"}",["T_WHITESPACE","\n\n        ",108],["T_RETURN","return",110],["T_WHITESPACE"," ",110],["T_CONSTANT_ENCAPSED_STRING","''",110],";",["T_WHITESPACE","\n    ",110],"}",["T_WHITESPACE","\n    \n    ",111],["T_DOC_COMMENT","\/**\n     * Extract file name\n     *\n     * @param string $path\n     * @return string\n     *\/",113],["T_WHITESPACE","\n    ",118],["T_PROTECTED","protected",119],["T_WHITESPACE"," ",119],["T_FUNCTION","function",119],["T_WHITESPACE"," ",119],["T_STRING","_getFileName",119],"(",["T_VARIABLE","$path",119],")",["T_WHITESPACE","\n    ",119],"{",["T_WHITESPACE","\n        ",120],["T_VARIABLE","$url",121],["T_WHITESPACE"," ",121],"=",["T_WHITESPACE"," ",121],["T_STRING","parse_url",121],"(",["T_VARIABLE","$path",121],")",";",["T_WHITESPACE","\n        ",121],["T_IF","if",122],["T_WHITESPACE"," ",122],"(",["T_VARIABLE","$url",122],"[",["T_CONSTANT_ENCAPSED_STRING","'host'",122],"]",")",["T_WHITESPACE"," ",122],"{",["T_WHITESPACE","\n            ",122],["T_VARIABLE","$fileName",123],["T_WHITESPACE"," ",123],"=",["T_WHITESPACE"," ",123],["T_ISSET","isset",123],"(",["T_VARIABLE","$url",123],"[",["T_CONSTANT_ENCAPSED_STRING","'path'",123],"]",")",["T_WHITESPACE"," ",123],"?",["T_WHITESPACE"," ",123],["T_VARIABLE","$url",123],"[",["T_CONSTANT_ENCAPSED_STRING","'path'",123],"]",["T_WHITESPACE"," ",123],":",["T_WHITESPACE"," ",123],["T_VARIABLE","$url",123],"[",["T_CONSTANT_ENCAPSED_STRING","'host'",123],"]",";",["T_WHITESPACE","\n    \t    ",123],["T_IF","if",124],["T_WHITESPACE"," ",124],"(",["T_STRING","strpos",124],"(",["T_VARIABLE","$fileName",124],",",["T_WHITESPACE"," ",124],["T_CONSTANT_ENCAPSED_STRING","'\/'",124],")",["T_WHITESPACE"," ",124],["T_IS_IDENTICAL","===",124],["T_WHITESPACE"," ",124],["T_LNUMBER","0",124],")",["T_WHITESPACE"," ",124],"{",["T_WHITESPACE","\n    \t        ",124],["T_VARIABLE","$fileName",125],["T_WHITESPACE"," ",125],"=",["T_WHITESPACE"," ",125],["T_STRING","substr",125],"(",["T_VARIABLE","$fileName",125],",",["T_WHITESPACE"," ",125],["T_LNUMBER","1",125],")",";",["T_WHITESPACE","\n    \t    ",125],"}",["T_WHITESPACE","\n            ",126],["T_RETURN","return",127],["T_WHITESPACE"," ",127],["T_VARIABLE","$fileName",127],";",["T_WHITESPACE","\n        ",127],"}",["T_WHITESPACE","\n\n        ",128],["T_RETURN","return",130],["T_WHITESPACE"," ",130],["T_CONSTANT_ENCAPSED_STRING","''",130],";",["T_WHITESPACE","\n    ",130],"}",["T_WHITESPACE","\n       \n    ",131],["T_DOC_COMMENT","\/**\n     * Open the stream\n     *\n     * @param  string  $path\n     * @param  string  $mode\n     * @param  integer $options\n     * @param  string  $opened_path\n     * @return boolean\n     *\/",133],["T_WHITESPACE","\n    ",141],["T_PUBLIC","public",142],["T_WHITESPACE"," ",142],["T_FUNCTION","function",142],["T_WHITESPACE"," ",142],["T_STRING","stream_open",142],"(",["T_VARIABLE","$path",142],",",["T_WHITESPACE"," ",142],["T_VARIABLE","$mode",142],",",["T_WHITESPACE"," ",142],["T_VARIABLE","$options",142],",",["T_WHITESPACE"," ",142],"&",["T_VARIABLE","$opened_path",142],")",["T_WHITESPACE","\n    ",142],"{",["T_WHITESPACE","\n        ",143],["T_VARIABLE","$this",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","_fileName",144],["T_WHITESPACE"," ",144],"=",["T_WHITESPACE"," ",144],["T_VARIABLE","$path",144],";",["T_WHITESPACE","\n        ",144],["T_VARIABLE","$this",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","_temporaryFileName",145],["T_WHITESPACE"," ",145],"=",["T_WHITESPACE"," ",145],["T_STRING","tempnam",145],"(",["T_STRING","sys_get_temp_dir",145],"(",")",",",["T_WHITESPACE"," ",145],["T_CONSTANT_ENCAPSED_STRING","'azure'",145],")",";",["T_WHITESPACE","\n        \n        ",145],["T_COMMENT","\/\/ Check the file can be opened\n",147],["T_WHITESPACE","        ",148],["T_VARIABLE","$fh",148],["T_WHITESPACE"," ",148],"=",["T_WHITESPACE"," ",148],"@",["T_STRING","fopen",148],"(",["T_VARIABLE","$this",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","_temporaryFileName",148],",",["T_WHITESPACE"," ",148],["T_VARIABLE","$mode",148],")",";",["T_WHITESPACE","\n        ",148],["T_IF","if",149],["T_WHITESPACE"," ",149],"(",["T_VARIABLE","$fh",149],["T_WHITESPACE"," ",149],["T_IS_IDENTICAL","===",149],["T_WHITESPACE"," ",149],["T_STRING","false",149],")",["T_WHITESPACE"," ",149],"{",["T_WHITESPACE","\n            ",149],["T_RETURN","return",150],["T_WHITESPACE"," ",150],["T_STRING","false",150],";",["T_WHITESPACE","\n        ",150],"}",["T_WHITESPACE","\n        ",151],["T_STRING","fclose",152],"(",["T_VARIABLE","$fh",152],")",";",["T_WHITESPACE","\n        \n        ",152],["T_COMMENT","\/\/ Write mode?\n",154],["T_WHITESPACE","        ",155],["T_IF","if",155],["T_WHITESPACE"," ",155],"(",["T_STRING","strpbrk",155],"(",["T_VARIABLE","$mode",155],",",["T_WHITESPACE"," ",155],["T_CONSTANT_ENCAPSED_STRING","'wax+'",155],")",")",["T_WHITESPACE"," ",155],"{",["T_WHITESPACE","\n            ",155],["T_VARIABLE","$this",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","_writeMode",156],["T_WHITESPACE"," ",156],"=",["T_WHITESPACE"," ",156],["T_STRING","true",156],";",["T_WHITESPACE","\n    \t",156],"}",["T_WHITESPACE"," ",157],["T_ELSE","else",157],["T_WHITESPACE"," ",157],"{",["T_WHITESPACE","\n            ",157],["T_VARIABLE","$this",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","_writeMode",158],["T_WHITESPACE"," ",158],"=",["T_WHITESPACE"," ",158],["T_STRING","false",158],";",["T_WHITESPACE","\n        ",158],"}",["T_WHITESPACE","\n        \n        ",159],["T_COMMENT","\/\/ If read\/append, fetch the file\n",161],["T_WHITESPACE","        ",162],["T_IF","if",162],["T_WHITESPACE"," ",162],"(","!",["T_VARIABLE","$this",162],["T_OBJECT_OPERATOR","->",162],["T_STRING","_writeMode",162],["T_WHITESPACE"," ",162],["T_BOOLEAN_OR","||",162],["T_WHITESPACE"," ",162],["T_STRING","strpbrk",162],"(",["T_VARIABLE","$mode",162],",",["T_WHITESPACE"," ",162],["T_CONSTANT_ENCAPSED_STRING","'ra+'",162],")",")",["T_WHITESPACE"," ",162],"{",["T_WHITESPACE","\n            ",162],["T_VARIABLE","$this",163],["T_OBJECT_OPERATOR","->",163],["T_STRING","_getStorageClient",163],"(",["T_VARIABLE","$this",163],["T_OBJECT_OPERATOR","->",163],["T_STRING","_fileName",163],")",["T_OBJECT_OPERATOR","->",163],["T_STRING","getBlob",163],"(",["T_WHITESPACE","\n                ",163],["T_VARIABLE","$this",164],["T_OBJECT_OPERATOR","->",164],["T_STRING","_getContainerName",164],"(",["T_VARIABLE","$this",164],["T_OBJECT_OPERATOR","->",164],["T_STRING","_fileName",164],")",",",["T_WHITESPACE","\n                ",164],["T_VARIABLE","$this",165],["T_OBJECT_OPERATOR","->",165],["T_STRING","_getFileName",165],"(",["T_VARIABLE","$this",165],["T_OBJECT_OPERATOR","->",165],["T_STRING","_fileName",165],")",",",["T_WHITESPACE","\n                ",165],["T_VARIABLE","$this",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","_temporaryFileName",166],["T_WHITESPACE","\n            ",166],")",";",["T_WHITESPACE","\n        ",167],"}",["T_WHITESPACE","\n        \n        ",168],["T_COMMENT","\/\/ Open temporary file handle\n",170],["T_WHITESPACE","        ",171],["T_VARIABLE","$this",171],["T_OBJECT_OPERATOR","->",171],["T_STRING","_temporaryFileHandle",171],["T_WHITESPACE"," ",171],"=",["T_WHITESPACE"," ",171],["T_STRING","fopen",171],"(",["T_VARIABLE","$this",171],["T_OBJECT_OPERATOR","->",171],["T_STRING","_temporaryFileName",171],",",["T_WHITESPACE"," ",171],["T_VARIABLE","$mode",171],")",";",["T_WHITESPACE","\n        \n        ",171],["T_COMMENT","\/\/ Ok!\n",173],["T_WHITESPACE","        ",174],["T_RETURN","return",174],["T_WHITESPACE"," ",174],["T_STRING","true",174],";",["T_WHITESPACE","\n    ",174],"}",["T_WHITESPACE","\n\n    ",175],["T_DOC_COMMENT","\/**\n     * Close the stream\n     *\n     * @return void\n     *\/",177],["T_WHITESPACE","\n    ",181],["T_PUBLIC","public",182],["T_WHITESPACE"," ",182],["T_FUNCTION","function",182],["T_WHITESPACE"," ",182],["T_STRING","stream_close",182],"(",")",["T_WHITESPACE","\n    ",182],"{",["T_WHITESPACE","\n        ",183],"@",["T_STRING","fclose",184],"(",["T_VARIABLE","$this",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","_temporaryFileHandle",184],")",";",["T_WHITESPACE","\n        \n        ",184],["T_COMMENT","\/\/ Upload the file?\n",186],["T_WHITESPACE","        ",187],["T_IF","if",187],["T_WHITESPACE"," ",187],"(",["T_VARIABLE","$this",187],["T_OBJECT_OPERATOR","->",187],["T_STRING","_writeMode",187],")",["T_WHITESPACE"," ",187],"{",["T_WHITESPACE","\n            ",187],["T_COMMENT","\/\/ Make sure the container exists\n",188],["T_WHITESPACE","            ",189],["T_VARIABLE","$containerExists",189],["T_WHITESPACE"," ",189],"=",["T_WHITESPACE"," ",189],["T_VARIABLE","$this",189],["T_OBJECT_OPERATOR","->",189],["T_STRING","_getStorageClient",189],"(",["T_VARIABLE","$this",189],["T_OBJECT_OPERATOR","->",189],["T_STRING","_fileName",189],")",["T_OBJECT_OPERATOR","->",189],["T_STRING","containerExists",189],"(",["T_WHITESPACE","\n                ",189],["T_VARIABLE","$this",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","_getContainerName",190],"(",["T_VARIABLE","$this",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","_fileName",190],")",["T_WHITESPACE","\n            ",190],")",";",["T_WHITESPACE","\n            ",191],["T_IF","if",192],["T_WHITESPACE"," ",192],"(","!",["T_VARIABLE","$containerExists",192],")",["T_WHITESPACE"," ",192],"{",["T_WHITESPACE","\n                ",192],["T_VARIABLE","$this",193],["T_OBJECT_OPERATOR","->",193],["T_STRING","_getStorageClient",193],"(",["T_VARIABLE","$this",193],["T_OBJECT_OPERATOR","->",193],["T_STRING","_fileName",193],")",["T_OBJECT_OPERATOR","->",193],["T_STRING","createContainer",193],"(",["T_WHITESPACE","\n                    ",193],["T_VARIABLE","$this",194],["T_OBJECT_OPERATOR","->",194],["T_STRING","_getContainerName",194],"(",["T_VARIABLE","$this",194],["T_OBJECT_OPERATOR","->",194],["T_STRING","_fileName",194],")",["T_WHITESPACE","\n                ",194],")",";",["T_WHITESPACE","\n            ",195],"}",["T_WHITESPACE","\n            \n            ",196],["T_COMMENT","\/\/ Upload the file\n",198],["T_WHITESPACE","            ",199],["T_TRY","try",199],["T_WHITESPACE"," ",199],"{",["T_WHITESPACE","\n                ",199],["T_VARIABLE","$this",200],["T_OBJECT_OPERATOR","->",200],["T_STRING","_getStorageClient",200],"(",["T_VARIABLE","$this",200],["T_OBJECT_OPERATOR","->",200],["T_STRING","_fileName",200],")",["T_OBJECT_OPERATOR","->",200],["T_STRING","putBlob",200],"(",["T_WHITESPACE","\n                    ",200],["T_VARIABLE","$this",201],["T_OBJECT_OPERATOR","->",201],["T_STRING","_getContainerName",201],"(",["T_VARIABLE","$this",201],["T_OBJECT_OPERATOR","->",201],["T_STRING","_fileName",201],")",",",["T_WHITESPACE","\n                    ",201],["T_VARIABLE","$this",202],["T_OBJECT_OPERATOR","->",202],["T_STRING","_getFileName",202],"(",["T_VARIABLE","$this",202],["T_OBJECT_OPERATOR","->",202],["T_STRING","_fileName",202],")",",",["T_WHITESPACE","\n                    ",202],["T_VARIABLE","$this",203],["T_OBJECT_OPERATOR","->",203],["T_STRING","_temporaryFileName",203],["T_WHITESPACE","\n                ",203],")",";",["T_WHITESPACE","\n            ",204],"}",["T_WHITESPACE"," ",205],["T_CATCH","catch",205],["T_WHITESPACE"," ",205],"(",["T_STRING","Zend_Service_WindowsAzure_Exception",205],["T_WHITESPACE"," ",205],["T_VARIABLE","$ex",205],")",["T_WHITESPACE"," ",205],"{",["T_WHITESPACE","\n                ",205],"@",["T_STRING","unlink",206],"(",["T_VARIABLE","$this",206],["T_OBJECT_OPERATOR","->",206],["T_STRING","_temporaryFileName",206],")",";",["T_WHITESPACE","\n                ",206],["T_UNSET","unset",207],"(",["T_VARIABLE","$this",207],["T_OBJECT_OPERATOR","->",207],["T_STRING","_storageClient",207],")",";",["T_WHITESPACE","\n                \n                ",207],["T_THROW","throw",209],["T_WHITESPACE"," ",209],["T_VARIABLE","$ex",209],";",["T_WHITESPACE","\n            ",209],"}",["T_WHITESPACE","\n        ",210],"}",["T_WHITESPACE","\n        \n        ",211],"@",["T_STRING","unlink",213],"(",["T_VARIABLE","$this",213],["T_OBJECT_OPERATOR","->",213],["T_STRING","_temporaryFileName",213],")",";",["T_WHITESPACE","\n        ",213],["T_UNSET","unset",214],"(",["T_VARIABLE","$this",214],["T_OBJECT_OPERATOR","->",214],["T_STRING","_storageClient",214],")",";",["T_WHITESPACE","\n    ",214],"}",["T_WHITESPACE","\n\n    ",215],["T_DOC_COMMENT","\/**\n     * Read from the stream\n     *\n     * @param  integer $count\n     * @return string\n     *\/",217],["T_WHITESPACE","\n    ",222],["T_PUBLIC","public",223],["T_WHITESPACE"," ",223],["T_FUNCTION","function",223],["T_WHITESPACE"," ",223],["T_STRING","stream_read",223],"(",["T_VARIABLE","$count",223],")",["T_WHITESPACE","\n    ",223],"{",["T_WHITESPACE","\n        ",224],["T_IF","if",225],["T_WHITESPACE"," ",225],"(","!",["T_VARIABLE","$this",225],["T_OBJECT_OPERATOR","->",225],["T_STRING","_temporaryFileHandle",225],")",["T_WHITESPACE"," ",225],"{",["T_WHITESPACE","\n            ",225],["T_RETURN","return",226],["T_WHITESPACE"," ",226],["T_STRING","false",226],";",["T_WHITESPACE","\n        ",226],"}",["T_WHITESPACE","\n\n        ",227],["T_RETURN","return",229],["T_WHITESPACE"," ",229],["T_STRING","fread",229],"(",["T_VARIABLE","$this",229],["T_OBJECT_OPERATOR","->",229],["T_STRING","_temporaryFileHandle",229],",",["T_WHITESPACE"," ",229],["T_VARIABLE","$count",229],")",";",["T_WHITESPACE","\n    ",229],"}",["T_WHITESPACE","\n\n    ",230],["T_DOC_COMMENT","\/**\n     * Write to the stream\n     *\n     * @param  string $data\n     * @return integer\n     *\/",232],["T_WHITESPACE","\n    ",237],["T_PUBLIC","public",238],["T_WHITESPACE"," ",238],["T_FUNCTION","function",238],["T_WHITESPACE"," ",238],["T_STRING","stream_write",238],"(",["T_VARIABLE","$data",238],")",["T_WHITESPACE","\n    ",238],"{",["T_WHITESPACE","\n        ",239],["T_IF","if",240],["T_WHITESPACE"," ",240],"(","!",["T_VARIABLE","$this",240],["T_OBJECT_OPERATOR","->",240],["T_STRING","_temporaryFileHandle",240],")",["T_WHITESPACE"," ",240],"{",["T_WHITESPACE","\n            ",240],["T_RETURN","return",241],["T_WHITESPACE"," ",241],["T_LNUMBER","0",241],";",["T_WHITESPACE","\n        ",241],"}",["T_WHITESPACE","\n        \n        ",242],["T_VARIABLE","$len",244],["T_WHITESPACE"," ",244],"=",["T_WHITESPACE"," ",244],["T_STRING","strlen",244],"(",["T_VARIABLE","$data",244],")",";",["T_WHITESPACE","\n        ",244],["T_STRING","fwrite",245],"(",["T_VARIABLE","$this",245],["T_OBJECT_OPERATOR","->",245],["T_STRING","_temporaryFileHandle",245],",",["T_WHITESPACE"," ",245],["T_VARIABLE","$data",245],",",["T_WHITESPACE"," ",245],["T_VARIABLE","$len",245],")",";",["T_WHITESPACE","\n        ",245],["T_RETURN","return",246],["T_WHITESPACE"," ",246],["T_VARIABLE","$len",246],";",["T_WHITESPACE","\n    ",246],"}",["T_WHITESPACE","\n\n    ",247],["T_DOC_COMMENT","\/**\n     * End of the stream?\n     *\n     * @return boolean\n     *\/",249],["T_WHITESPACE","\n    ",253],["T_PUBLIC","public",254],["T_WHITESPACE"," ",254],["T_FUNCTION","function",254],["T_WHITESPACE"," ",254],["T_STRING","stream_eof",254],"(",")",["T_WHITESPACE","\n    ",254],"{",["T_WHITESPACE","\n        ",255],["T_IF","if",256],["T_WHITESPACE"," ",256],"(","!",["T_VARIABLE","$this",256],["T_OBJECT_OPERATOR","->",256],["T_STRING","_temporaryFileHandle",256],")",["T_WHITESPACE"," ",256],"{",["T_WHITESPACE","\n            ",256],["T_RETURN","return",257],["T_WHITESPACE"," ",257],["T_STRING","true",257],";",["T_WHITESPACE","\n        ",257],"}",["T_WHITESPACE","\n\n        ",258],["T_RETURN","return",260],["T_WHITESPACE"," ",260],["T_STRING","feof",260],"(",["T_VARIABLE","$this",260],["T_OBJECT_OPERATOR","->",260],["T_STRING","_temporaryFileHandle",260],")",";",["T_WHITESPACE","\n    ",260],"}",["T_WHITESPACE","\n\n    ",261],["T_DOC_COMMENT","\/**\n     * What is the current read\/write position of the stream?\n     *\n     * @return integer\n     *\/",263],["T_WHITESPACE","\n    ",267],["T_PUBLIC","public",268],["T_WHITESPACE"," ",268],["T_FUNCTION","function",268],["T_WHITESPACE"," ",268],["T_STRING","stream_tell",268],"(",")",["T_WHITESPACE","\n    ",268],"{",["T_WHITESPACE","\n        ",269],["T_RETURN","return",270],["T_WHITESPACE"," ",270],["T_STRING","ftell",270],"(",["T_VARIABLE","$this",270],["T_OBJECT_OPERATOR","->",270],["T_STRING","_temporaryFileHandle",270],")",";",["T_WHITESPACE","\n    ",270],"}",["T_WHITESPACE","\n\n    ",271],["T_DOC_COMMENT","\/**\n     * Update the read\/write position of the stream\n     *\n     * @param  integer $offset\n     * @param  integer $whence\n     * @return boolean\n     *\/",273],["T_WHITESPACE","\n    ",279],["T_PUBLIC","public",280],["T_WHITESPACE"," ",280],["T_FUNCTION","function",280],["T_WHITESPACE"," ",280],["T_STRING","stream_seek",280],"(",["T_VARIABLE","$offset",280],",",["T_WHITESPACE"," ",280],["T_VARIABLE","$whence",280],")",["T_WHITESPACE","\n    ",280],"{",["T_WHITESPACE","\n        ",281],["T_IF","if",282],["T_WHITESPACE"," ",282],"(","!",["T_VARIABLE","$this",282],["T_OBJECT_OPERATOR","->",282],["T_STRING","_temporaryFileHandle",282],")",["T_WHITESPACE"," ",282],"{",["T_WHITESPACE","\n            ",282],["T_RETURN","return",283],["T_WHITESPACE"," ",283],["T_STRING","false",283],";",["T_WHITESPACE","\n        ",283],"}",["T_WHITESPACE","\n        \n        ",284],["T_RETURN","return",286],["T_WHITESPACE"," ",286],"(",["T_STRING","fseek",286],"(",["T_VARIABLE","$this",286],["T_OBJECT_OPERATOR","->",286],["T_STRING","_temporaryFileHandle",286],",",["T_WHITESPACE"," ",286],["T_VARIABLE","$offset",286],",",["T_WHITESPACE"," ",286],["T_VARIABLE","$whence",286],")",["T_WHITESPACE"," ",286],["T_IS_IDENTICAL","===",286],["T_WHITESPACE"," ",286],["T_LNUMBER","0",286],")",";",["T_WHITESPACE","\n    ",286],"}",["T_WHITESPACE","\n\n    ",287],["T_DOC_COMMENT","\/**\n     * Flush current cached stream data to storage\n     *\n     * @return boolean\n     *\/",289],["T_WHITESPACE","\n    ",293],["T_PUBLIC","public",294],["T_WHITESPACE"," ",294],["T_FUNCTION","function",294],["T_WHITESPACE"," ",294],["T_STRING","stream_flush",294],"(",")",["T_WHITESPACE","\n    ",294],"{",["T_WHITESPACE","\n        ",295],["T_VARIABLE","$result",296],["T_WHITESPACE"," ",296],"=",["T_WHITESPACE"," ",296],["T_STRING","fflush",296],"(",["T_VARIABLE","$this",296],["T_OBJECT_OPERATOR","->",296],["T_STRING","_temporaryFileHandle",296],")",";",["T_WHITESPACE","\n        \n         ",296],["T_COMMENT","\/\/ Upload the file?\n",298],["T_WHITESPACE","        ",299],["T_IF","if",299],["T_WHITESPACE"," ",299],"(",["T_VARIABLE","$this",299],["T_OBJECT_OPERATOR","->",299],["T_STRING","_writeMode",299],")",["T_WHITESPACE"," ",299],"{",["T_WHITESPACE","\n            ",299],["T_COMMENT","\/\/ Make sure the container exists\n",300],["T_WHITESPACE","            ",301],["T_VARIABLE","$containerExists",301],["T_WHITESPACE"," ",301],"=",["T_WHITESPACE"," ",301],["T_VARIABLE","$this",301],["T_OBJECT_OPERATOR","->",301],["T_STRING","_getStorageClient",301],"(",["T_VARIABLE","$this",301],["T_OBJECT_OPERATOR","->",301],["T_STRING","_fileName",301],")",["T_OBJECT_OPERATOR","->",301],["T_STRING","containerExists",301],"(",["T_WHITESPACE","\n                ",301],["T_VARIABLE","$this",302],["T_OBJECT_OPERATOR","->",302],["T_STRING","_getContainerName",302],"(",["T_VARIABLE","$this",302],["T_OBJECT_OPERATOR","->",302],["T_STRING","_fileName",302],")",["T_WHITESPACE","\n            ",302],")",";",["T_WHITESPACE","\n            ",303],["T_IF","if",304],["T_WHITESPACE"," ",304],"(","!",["T_VARIABLE","$containerExists",304],")",["T_WHITESPACE"," ",304],"{",["T_WHITESPACE","\n                ",304],["T_VARIABLE","$this",305],["T_OBJECT_OPERATOR","->",305],["T_STRING","_getStorageClient",305],"(",["T_VARIABLE","$this",305],["T_OBJECT_OPERATOR","->",305],["T_STRING","_fileName",305],")",["T_OBJECT_OPERATOR","->",305],["T_STRING","createContainer",305],"(",["T_WHITESPACE","\n                    ",305],["T_VARIABLE","$this",306],["T_OBJECT_OPERATOR","->",306],["T_STRING","_getContainerName",306],"(",["T_VARIABLE","$this",306],["T_OBJECT_OPERATOR","->",306],["T_STRING","_fileName",306],")",["T_WHITESPACE","\n                ",306],")",";",["T_WHITESPACE","\n            ",307],"}",["T_WHITESPACE","\n            \n            ",308],["T_COMMENT","\/\/ Upload the file\n",310],["T_WHITESPACE","            ",311],["T_TRY","try",311],["T_WHITESPACE"," ",311],"{",["T_WHITESPACE","\n                ",311],["T_VARIABLE","$this",312],["T_OBJECT_OPERATOR","->",312],["T_STRING","_getStorageClient",312],"(",["T_VARIABLE","$this",312],["T_OBJECT_OPERATOR","->",312],["T_STRING","_fileName",312],")",["T_OBJECT_OPERATOR","->",312],["T_STRING","putBlob",312],"(",["T_WHITESPACE","\n                    ",312],["T_VARIABLE","$this",313],["T_OBJECT_OPERATOR","->",313],["T_STRING","_getContainerName",313],"(",["T_VARIABLE","$this",313],["T_OBJECT_OPERATOR","->",313],["T_STRING","_fileName",313],")",",",["T_WHITESPACE","\n                    ",313],["T_VARIABLE","$this",314],["T_OBJECT_OPERATOR","->",314],["T_STRING","_getFileName",314],"(",["T_VARIABLE","$this",314],["T_OBJECT_OPERATOR","->",314],["T_STRING","_fileName",314],")",",",["T_WHITESPACE","\n                    ",314],["T_VARIABLE","$this",315],["T_OBJECT_OPERATOR","->",315],["T_STRING","_temporaryFileName",315],["T_WHITESPACE","\n                ",315],")",";",["T_WHITESPACE","\n            ",316],"}",["T_WHITESPACE"," ",317],["T_CATCH","catch",317],["T_WHITESPACE"," ",317],"(",["T_STRING","Zend_Service_WindowsAzure_Exception",317],["T_WHITESPACE"," ",317],["T_VARIABLE","$ex",317],")",["T_WHITESPACE"," ",317],"{",["T_WHITESPACE","\n                ",317],"@",["T_STRING","unlink",318],"(",["T_VARIABLE","$this",318],["T_OBJECT_OPERATOR","->",318],["T_STRING","_temporaryFileName",318],")",";",["T_WHITESPACE","\n                ",318],["T_UNSET","unset",319],"(",["T_VARIABLE","$this",319],["T_OBJECT_OPERATOR","->",319],["T_STRING","_storageClient",319],")",";",["T_WHITESPACE","\n                \n                ",319],["T_THROW","throw",321],["T_WHITESPACE"," ",321],["T_VARIABLE","$ex",321],";",["T_WHITESPACE","\n            ",321],"}",["T_WHITESPACE","\n        ",322],"}",["T_WHITESPACE","\n        \n        ",323],["T_RETURN","return",325],["T_WHITESPACE"," ",325],["T_VARIABLE","$result",325],";",["T_WHITESPACE","\n    ",325],"}",["T_WHITESPACE","\n\n    ",326],["T_DOC_COMMENT","\/**\n     * Returns data array of stream variables\n     *\n     * @return array\n     *\/",328],["T_WHITESPACE","\n    ",332],["T_PUBLIC","public",333],["T_WHITESPACE"," ",333],["T_FUNCTION","function",333],["T_WHITESPACE"," ",333],["T_STRING","stream_stat",333],"(",")",["T_WHITESPACE","\n    ",333],"{",["T_WHITESPACE","\n        ",334],["T_IF","if",335],["T_WHITESPACE"," ",335],"(","!",["T_VARIABLE","$this",335],["T_OBJECT_OPERATOR","->",335],["T_STRING","_temporaryFileHandle",335],")",["T_WHITESPACE"," ",335],"{",["T_WHITESPACE","\n            ",335],["T_RETURN","return",336],["T_WHITESPACE"," ",336],["T_STRING","false",336],";",["T_WHITESPACE","\n        ",336],"}",["T_WHITESPACE","\n\n        ",337],["T_RETURN","return",339],["T_WHITESPACE"," ",339],["T_VARIABLE","$this",339],["T_OBJECT_OPERATOR","->",339],["T_STRING","url_stat",339],"(",["T_VARIABLE","$this",339],["T_OBJECT_OPERATOR","->",339],["T_STRING","_fileName",339],",",["T_WHITESPACE"," ",339],["T_LNUMBER","0",339],")",";",["T_WHITESPACE","\n    ",339],"}",["T_WHITESPACE","\n\n    ",340],["T_DOC_COMMENT","\/**\n     * Attempt to delete the item\n     *\n     * @param  string $path\n     * @return boolean\n     *\/",342],["T_WHITESPACE","\n    ",347],["T_PUBLIC","public",348],["T_WHITESPACE"," ",348],["T_FUNCTION","function",348],["T_WHITESPACE"," ",348],["T_STRING","unlink",348],"(",["T_VARIABLE","$path",348],")",["T_WHITESPACE","\n    ",348],"{",["T_WHITESPACE","\n        ",349],["T_VARIABLE","$this",350],["T_OBJECT_OPERATOR","->",350],["T_STRING","_getStorageClient",350],"(",["T_VARIABLE","$path",350],")",["T_OBJECT_OPERATOR","->",350],["T_STRING","deleteBlob",350],"(",["T_WHITESPACE","\n            ",350],["T_VARIABLE","$this",351],["T_OBJECT_OPERATOR","->",351],["T_STRING","_getContainerName",351],"(",["T_VARIABLE","$path",351],")",",",["T_WHITESPACE","\n            ",351],["T_VARIABLE","$this",352],["T_OBJECT_OPERATOR","->",352],["T_STRING","_getFileName",352],"(",["T_VARIABLE","$path",352],")",["T_WHITESPACE","\n        ",352],")",";",["T_WHITESPACE","\n\n        ",353],["T_COMMENT","\/\/ Clear the stat cache for this path.\n",355],["T_WHITESPACE","        ",356],["T_STRING","clearstatcache",356],"(",["T_STRING","true",356],",",["T_WHITESPACE"," ",356],["T_VARIABLE","$path",356],")",";",["T_WHITESPACE","\n        ",356],["T_RETURN","return",357],["T_WHITESPACE"," ",357],["T_STRING","true",357],";",["T_WHITESPACE","\n    ",357],"}",["T_WHITESPACE","\n\n    ",358],["T_DOC_COMMENT","\/**\n     * Attempt to rename the item\n     *\n     * @param  string  $path_from\n     * @param  string  $path_to\n     * @return boolean False\n     *\/",360],["T_WHITESPACE","\n    ",366],["T_PUBLIC","public",367],["T_WHITESPACE"," ",367],["T_FUNCTION","function",367],["T_WHITESPACE"," ",367],["T_STRING","rename",367],"(",["T_VARIABLE","$path_from",367],",",["T_WHITESPACE"," ",367],["T_VARIABLE","$path_to",367],")",["T_WHITESPACE","\n    ",367],"{",["T_WHITESPACE","\n        ",368],["T_IF","if",369],["T_WHITESPACE"," ",369],"(",["T_VARIABLE","$this",369],["T_OBJECT_OPERATOR","->",369],["T_STRING","_getContainerName",369],"(",["T_VARIABLE","$path_from",369],")",["T_WHITESPACE"," ",369],["T_IS_NOT_EQUAL","!=",369],["T_WHITESPACE"," ",369],["T_VARIABLE","$this",369],["T_OBJECT_OPERATOR","->",369],["T_STRING","_getContainerName",369],"(",["T_VARIABLE","$path_to",369],")",")",["T_WHITESPACE"," ",369],"{",["T_WHITESPACE","\n            ",369],["T_THROW","throw",370],["T_WHITESPACE"," ",370],["T_NEW","new",370],["T_WHITESPACE"," ",370],["T_STRING","Zend_Service_WindowsAzure_Exception",370],"(",["T_CONSTANT_ENCAPSED_STRING","'Container name can not be changed.'",370],")",";",["T_WHITESPACE","\n        ",370],"}",["T_WHITESPACE","\n        \n        ",371],["T_IF","if",373],["T_WHITESPACE"," ",373],"(",["T_VARIABLE","$this",373],["T_OBJECT_OPERATOR","->",373],["T_STRING","_getFileName",373],"(",["T_VARIABLE","$path_from",373],")",["T_WHITESPACE"," ",373],["T_IS_EQUAL","==",373],["T_WHITESPACE"," ",373],["T_VARIABLE","$this",373],["T_OBJECT_OPERATOR","->",373],["T_STRING","_getContainerName",373],"(",["T_VARIABLE","$path_to",373],")",")",["T_WHITESPACE"," ",373],"{",["T_WHITESPACE","\n            ",373],["T_RETURN","return",374],["T_WHITESPACE"," ",374],["T_STRING","true",374],";",["T_WHITESPACE","\n        ",374],"}",["T_WHITESPACE","\n            \n        ",375],["T_VARIABLE","$this",377],["T_OBJECT_OPERATOR","->",377],["T_STRING","_getStorageClient",377],"(",["T_VARIABLE","$path_from",377],")",["T_OBJECT_OPERATOR","->",377],["T_STRING","copyBlob",377],"(",["T_WHITESPACE","\n            ",377],["T_VARIABLE","$this",378],["T_OBJECT_OPERATOR","->",378],["T_STRING","_getContainerName",378],"(",["T_VARIABLE","$path_from",378],")",",",["T_WHITESPACE","\n            ",378],["T_VARIABLE","$this",379],["T_OBJECT_OPERATOR","->",379],["T_STRING","_getFileName",379],"(",["T_VARIABLE","$path_from",379],")",",",["T_WHITESPACE","\n            ",379],["T_VARIABLE","$this",380],["T_OBJECT_OPERATOR","->",380],["T_STRING","_getContainerName",380],"(",["T_VARIABLE","$path_to",380],")",",",["T_WHITESPACE","\n            ",380],["T_VARIABLE","$this",381],["T_OBJECT_OPERATOR","->",381],["T_STRING","_getFileName",381],"(",["T_VARIABLE","$path_to",381],")",["T_WHITESPACE","\n        ",381],")",";",["T_WHITESPACE","\n        ",382],["T_VARIABLE","$this",383],["T_OBJECT_OPERATOR","->",383],["T_STRING","_getStorageClient",383],"(",["T_VARIABLE","$path_from",383],")",["T_OBJECT_OPERATOR","->",383],["T_STRING","deleteBlob",383],"(",["T_WHITESPACE","\n            ",383],["T_VARIABLE","$this",384],["T_OBJECT_OPERATOR","->",384],["T_STRING","_getContainerName",384],"(",["T_VARIABLE","$path_from",384],")",",",["T_WHITESPACE","\n            ",384],["T_VARIABLE","$this",385],["T_OBJECT_OPERATOR","->",385],["T_STRING","_getFileName",385],"(",["T_VARIABLE","$path_from",385],")",["T_WHITESPACE","\n        ",385],")",";",["T_WHITESPACE","\n\n        ",386],["T_COMMENT","\/\/ Clear the stat cache for the affected paths.\n",388],["T_WHITESPACE","        ",389],["T_STRING","clearstatcache",389],"(",["T_STRING","true",389],",",["T_WHITESPACE"," ",389],["T_VARIABLE","$path_from",389],")",";",["T_WHITESPACE","\n        ",389],["T_STRING","clearstatcache",390],"(",["T_STRING","true",390],",",["T_WHITESPACE"," ",390],["T_VARIABLE","$path_to",390],")",";",["T_WHITESPACE","\n        ",390],["T_RETURN","return",391],["T_WHITESPACE"," ",391],["T_STRING","true",391],";",["T_WHITESPACE","\n    ",391],"}",["T_WHITESPACE","\n    \n    ",392],["T_DOC_COMMENT","\/**\n     * Return array of URL variables\n     *\n     * @param  string $path\n     * @param  integer $flags\n     * @return array\n     *\/",394],["T_WHITESPACE","\n    ",400],["T_PUBLIC","public",401],["T_WHITESPACE"," ",401],["T_FUNCTION","function",401],["T_WHITESPACE"," ",401],["T_STRING","url_stat",401],"(",["T_VARIABLE","$path",401],",",["T_WHITESPACE"," ",401],["T_VARIABLE","$flags",401],")",["T_WHITESPACE","\n    ",401],"{",["T_WHITESPACE","\n        ",402],["T_VARIABLE","$stat",403],["T_WHITESPACE"," ",403],"=",["T_WHITESPACE"," ",403],["T_ARRAY","array",403],"(",")",";",["T_WHITESPACE","\n        ",403],["T_VARIABLE","$stat",404],"[",["T_CONSTANT_ENCAPSED_STRING","'dev'",404],"]",["T_WHITESPACE"," ",404],"=",["T_WHITESPACE"," ",404],["T_LNUMBER","0",404],";",["T_WHITESPACE","\n        ",404],["T_VARIABLE","$stat",405],"[",["T_CONSTANT_ENCAPSED_STRING","'ino'",405],"]",["T_WHITESPACE"," ",405],"=",["T_WHITESPACE"," ",405],["T_LNUMBER","0",405],";",["T_WHITESPACE","\n        ",405],["T_VARIABLE","$stat",406],"[",["T_CONSTANT_ENCAPSED_STRING","'mode'",406],"]",["T_WHITESPACE"," ",406],"=",["T_WHITESPACE"," ",406],["T_LNUMBER","0",406],";",["T_WHITESPACE","\n        ",406],["T_VARIABLE","$stat",407],"[",["T_CONSTANT_ENCAPSED_STRING","'nlink'",407],"]",["T_WHITESPACE"," ",407],"=",["T_WHITESPACE"," ",407],["T_LNUMBER","0",407],";",["T_WHITESPACE","\n        ",407],["T_VARIABLE","$stat",408],"[",["T_CONSTANT_ENCAPSED_STRING","'uid'",408],"]",["T_WHITESPACE"," ",408],"=",["T_WHITESPACE"," ",408],["T_LNUMBER","0",408],";",["T_WHITESPACE","\n        ",408],["T_VARIABLE","$stat",409],"[",["T_CONSTANT_ENCAPSED_STRING","'gid'",409],"]",["T_WHITESPACE"," ",409],"=",["T_WHITESPACE"," ",409],["T_LNUMBER","0",409],";",["T_WHITESPACE","\n        ",409],["T_VARIABLE","$stat",410],"[",["T_CONSTANT_ENCAPSED_STRING","'rdev'",410],"]",["T_WHITESPACE"," ",410],"=",["T_WHITESPACE"," ",410],["T_LNUMBER","0",410],";",["T_WHITESPACE","\n        ",410],["T_VARIABLE","$stat",411],"[",["T_CONSTANT_ENCAPSED_STRING","'size'",411],"]",["T_WHITESPACE"," ",411],"=",["T_WHITESPACE"," ",411],["T_LNUMBER","0",411],";",["T_WHITESPACE","\n        ",411],["T_VARIABLE","$stat",412],"[",["T_CONSTANT_ENCAPSED_STRING","'atime'",412],"]",["T_WHITESPACE"," ",412],"=",["T_WHITESPACE"," ",412],["T_LNUMBER","0",412],";",["T_WHITESPACE","\n        ",412],["T_VARIABLE","$stat",413],"[",["T_CONSTANT_ENCAPSED_STRING","'mtime'",413],"]",["T_WHITESPACE"," ",413],"=",["T_WHITESPACE"," ",413],["T_LNUMBER","0",413],";",["T_WHITESPACE","\n        ",413],["T_VARIABLE","$stat",414],"[",["T_CONSTANT_ENCAPSED_STRING","'ctime'",414],"]",["T_WHITESPACE"," ",414],"=",["T_WHITESPACE"," ",414],["T_LNUMBER","0",414],";",["T_WHITESPACE","\n        ",414],["T_VARIABLE","$stat",415],"[",["T_CONSTANT_ENCAPSED_STRING","'blksize'",415],"]",["T_WHITESPACE"," ",415],"=",["T_WHITESPACE"," ",415],["T_LNUMBER","0",415],";",["T_WHITESPACE","\n        ",415],["T_VARIABLE","$stat",416],"[",["T_CONSTANT_ENCAPSED_STRING","'blocks'",416],"]",["T_WHITESPACE"," ",416],"=",["T_WHITESPACE"," ",416],["T_LNUMBER","0",416],";",["T_WHITESPACE","\n\n        ",416],["T_VARIABLE","$info",418],["T_WHITESPACE"," ",418],"=",["T_WHITESPACE"," ",418],["T_STRING","null",418],";",["T_WHITESPACE","\n        ",418],["T_TRY","try",419],["T_WHITESPACE"," ",419],"{",["T_WHITESPACE","\n            ",419],["T_VARIABLE","$info",420],["T_WHITESPACE"," ",420],"=",["T_WHITESPACE"," ",420],["T_VARIABLE","$this",420],["T_OBJECT_OPERATOR","->",420],["T_STRING","_getStorageClient",420],"(",["T_VARIABLE","$path",420],")",["T_OBJECT_OPERATOR","->",420],["T_STRING","getBlobInstance",420],"(",["T_WHITESPACE","\n                        ",420],["T_VARIABLE","$this",421],["T_OBJECT_OPERATOR","->",421],["T_STRING","_getContainerName",421],"(",["T_VARIABLE","$path",421],")",",",["T_WHITESPACE","\n                        ",421],["T_VARIABLE","$this",422],["T_OBJECT_OPERATOR","->",422],["T_STRING","_getFileName",422],"(",["T_VARIABLE","$path",422],")",["T_WHITESPACE","\n                    ",422],")",";",["T_WHITESPACE","\n            ",423],["T_VARIABLE","$stat",424],"[",["T_CONSTANT_ENCAPSED_STRING","'size'",424],"]",["T_WHITESPACE","  ",424],"=",["T_WHITESPACE"," ",424],["T_VARIABLE","$info",424],["T_OBJECT_OPERATOR","->",424],["T_STRING","Size",424],";",["T_WHITESPACE","\n\n            ",424],["T_COMMENT","\/\/ Set the modification time and last modified to the Last-Modified header.\n",426],["T_WHITESPACE","            ",427],["T_VARIABLE","$lastmodified",427],["T_WHITESPACE"," ",427],"=",["T_WHITESPACE"," ",427],["T_STRING","strtotime",427],"(",["T_VARIABLE","$info",427],["T_OBJECT_OPERATOR","->",427],["T_STRING","LastModified",427],")",";",["T_WHITESPACE","\n            ",427],["T_VARIABLE","$stat",428],"[",["T_CONSTANT_ENCAPSED_STRING","'mtime'",428],"]",["T_WHITESPACE"," ",428],"=",["T_WHITESPACE"," ",428],["T_VARIABLE","$lastmodified",428],";",["T_WHITESPACE","\n            ",428],["T_VARIABLE","$stat",429],"[",["T_CONSTANT_ENCAPSED_STRING","'ctime'",429],"]",["T_WHITESPACE"," ",429],"=",["T_WHITESPACE"," ",429],["T_VARIABLE","$lastmodified",429],";",["T_WHITESPACE","\n\n            ",429],["T_COMMENT","\/\/ Entry is a regular file.\n",431],["T_WHITESPACE","            ",432],["T_VARIABLE","$stat",432],"[",["T_CONSTANT_ENCAPSED_STRING","'mode'",432],"]",["T_WHITESPACE"," ",432],"=",["T_WHITESPACE"," ",432],["T_LNUMBER","0100000",432],";",["T_WHITESPACE","\n\n            ",432],["T_RETURN","return",434],["T_WHITESPACE"," ",434],["T_STRING","array_values",434],"(",["T_VARIABLE","$stat",434],")",["T_WHITESPACE"," ",434],"+",["T_WHITESPACE"," ",434],["T_VARIABLE","$stat",434],";",["T_WHITESPACE","\n        ",434],"}",["T_WHITESPACE"," ",435],["T_CATCH","catch",435],["T_WHITESPACE"," ",435],"(",["T_STRING","Zend_Service_WindowsAzure_Exception",435],["T_WHITESPACE"," ",435],["T_VARIABLE","$ex",435],")",["T_WHITESPACE"," ",435],"{",["T_WHITESPACE","\n            ",435],["T_COMMENT","\/\/ Unexisting file...\n",436],["T_WHITESPACE","            ",437],["T_RETURN","return",437],["T_WHITESPACE"," ",437],["T_STRING","false",437],";",["T_WHITESPACE","\n        ",437],"}",["T_WHITESPACE","\n    ",438],"}",["T_WHITESPACE","\n\n    ",439],["T_DOC_COMMENT","\/**\n     * Create a new directory\n     *\n     * @param  string  $path\n     * @param  integer $mode\n     * @param  integer $options\n     * @return boolean\n     *\/",441],["T_WHITESPACE","\n    ",448],["T_PUBLIC","public",449],["T_WHITESPACE"," ",449],["T_FUNCTION","function",449],["T_WHITESPACE"," ",449],["T_STRING","mkdir",449],"(",["T_VARIABLE","$path",449],",",["T_WHITESPACE"," ",449],["T_VARIABLE","$mode",449],",",["T_WHITESPACE"," ",449],["T_VARIABLE","$options",449],")",["T_WHITESPACE","\n    ",449],"{",["T_WHITESPACE","\n        ",450],["T_IF","if",451],["T_WHITESPACE"," ",451],"(",["T_VARIABLE","$this",451],["T_OBJECT_OPERATOR","->",451],["T_STRING","_getContainerName",451],"(",["T_VARIABLE","$path",451],")",["T_WHITESPACE"," ",451],["T_IS_EQUAL","==",451],["T_WHITESPACE"," ",451],["T_VARIABLE","$this",451],["T_OBJECT_OPERATOR","->",451],["T_STRING","_getFileName",451],"(",["T_VARIABLE","$path",451],")",")",["T_WHITESPACE"," ",451],"{",["T_WHITESPACE","\n            ",451],["T_COMMENT","\/\/ Create container\n",452],["T_WHITESPACE","            ",453],["T_TRY","try",453],["T_WHITESPACE"," ",453],"{",["T_WHITESPACE","\n                ",453],["T_VARIABLE","$this",454],["T_OBJECT_OPERATOR","->",454],["T_STRING","_getStorageClient",454],"(",["T_VARIABLE","$path",454],")",["T_OBJECT_OPERATOR","->",454],["T_STRING","createContainer",454],"(",["T_WHITESPACE","\n                    ",454],["T_VARIABLE","$this",455],["T_OBJECT_OPERATOR","->",455],["T_STRING","_getContainerName",455],"(",["T_VARIABLE","$path",455],")",["T_WHITESPACE","\n                ",455],")",";",["T_WHITESPACE","\n                ",456],["T_RETURN","return",457],["T_WHITESPACE"," ",457],["T_STRING","true",457],";",["T_WHITESPACE","\n            ",457],"}",["T_WHITESPACE"," ",458],["T_CATCH","catch",458],["T_WHITESPACE"," ",458],"(",["T_STRING","Zend_Service_WindowsAzure_Exception",458],["T_WHITESPACE"," ",458],["T_VARIABLE","$ex",458],")",["T_WHITESPACE"," ",458],"{",["T_WHITESPACE","\n                ",458],["T_RETURN","return",459],["T_WHITESPACE"," ",459],["T_STRING","false",459],";",["T_WHITESPACE","\n            ",459],"}",["T_WHITESPACE","\n        ",460],"}",["T_WHITESPACE"," ",461],["T_ELSE","else",461],["T_WHITESPACE"," ",461],"{",["T_WHITESPACE","\n            ",461],["T_THROW","throw",462],["T_WHITESPACE"," ",462],["T_NEW","new",462],["T_WHITESPACE"," ",462],["T_STRING","Zend_Service_WindowsAzure_Exception",462],"(",["T_CONSTANT_ENCAPSED_STRING","'mkdir() with multiple levels is not supported on Windows Azure Blob Storage.'",462],")",";",["T_WHITESPACE","\n        ",462],"}",["T_WHITESPACE","\n    ",463],"}",["T_WHITESPACE","\n\n    ",464],["T_DOC_COMMENT","\/**\n     * Remove a directory\n     *\n     * @param  string  $path\n     * @param  integer $options\n     * @return boolean\n     *\/",466],["T_WHITESPACE","\n    ",472],["T_PUBLIC","public",473],["T_WHITESPACE"," ",473],["T_FUNCTION","function",473],["T_WHITESPACE"," ",473],["T_STRING","rmdir",473],"(",["T_VARIABLE","$path",473],",",["T_WHITESPACE"," ",473],["T_VARIABLE","$options",473],")",["T_WHITESPACE","\n    ",473],"{",["T_WHITESPACE","\n        ",474],["T_IF","if",475],["T_WHITESPACE"," ",475],"(",["T_VARIABLE","$this",475],["T_OBJECT_OPERATOR","->",475],["T_STRING","_getContainerName",475],"(",["T_VARIABLE","$path",475],")",["T_WHITESPACE"," ",475],["T_IS_EQUAL","==",475],["T_WHITESPACE"," ",475],["T_VARIABLE","$this",475],["T_OBJECT_OPERATOR","->",475],["T_STRING","_getFileName",475],"(",["T_VARIABLE","$path",475],")",")",["T_WHITESPACE"," ",475],"{",["T_WHITESPACE","\n            ",475],["T_COMMENT","\/\/ Clear the stat cache so that affected paths are refreshed.\n",476],["T_WHITESPACE","            ",477],["T_STRING","clearstatcache",477],"(",")",";",["T_WHITESPACE","\n\n            ",477],["T_COMMENT","\/\/ Delete container\n",479],["T_WHITESPACE","            ",480],["T_TRY","try",480],["T_WHITESPACE"," ",480],"{",["T_WHITESPACE","\n                ",480],["T_VARIABLE","$this",481],["T_OBJECT_OPERATOR","->",481],["T_STRING","_getStorageClient",481],"(",["T_VARIABLE","$path",481],")",["T_OBJECT_OPERATOR","->",481],["T_STRING","deleteContainer",481],"(",["T_WHITESPACE","\n                    ",481],["T_VARIABLE","$this",482],["T_OBJECT_OPERATOR","->",482],["T_STRING","_getContainerName",482],"(",["T_VARIABLE","$path",482],")",["T_WHITESPACE","\n                ",482],")",";",["T_WHITESPACE","\n                ",483],["T_RETURN","return",484],["T_WHITESPACE"," ",484],["T_STRING","true",484],";",["T_WHITESPACE","\n            ",484],"}",["T_WHITESPACE"," ",485],["T_CATCH","catch",485],["T_WHITESPACE"," ",485],"(",["T_STRING","Zend_Service_WindowsAzure_Exception",485],["T_WHITESPACE"," ",485],["T_VARIABLE","$ex",485],")",["T_WHITESPACE"," ",485],"{",["T_WHITESPACE","\n                ",485],["T_RETURN","return",486],["T_WHITESPACE"," ",486],["T_STRING","false",486],";",["T_WHITESPACE","\n            ",486],"}",["T_WHITESPACE","\n        ",487],"}",["T_WHITESPACE"," ",488],["T_ELSE","else",488],["T_WHITESPACE"," ",488],"{",["T_WHITESPACE","\n            ",488],["T_THROW","throw",489],["T_WHITESPACE"," ",489],["T_NEW","new",489],["T_WHITESPACE"," ",489],["T_STRING","Zend_Service_WindowsAzure_Exception",489],"(",["T_CONSTANT_ENCAPSED_STRING","'rmdir() with multiple levels is not supported on Windows Azure Blob Storage.'",489],")",";",["T_WHITESPACE","\n        ",489],"}",["T_WHITESPACE","\n    ",490],"}",["T_WHITESPACE","\n\n    ",491],["T_DOC_COMMENT","\/**\n     * Attempt to open a directory\n     *\n     * @param  string $path\n     * @param  integer $options\n     * @return boolean\n     *\/",493],["T_WHITESPACE","\n    ",499],["T_PUBLIC","public",500],["T_WHITESPACE"," ",500],["T_FUNCTION","function",500],["T_WHITESPACE"," ",500],["T_STRING","dir_opendir",500],"(",["T_VARIABLE","$path",500],",",["T_WHITESPACE"," ",500],["T_VARIABLE","$options",500],")",["T_WHITESPACE","\n    ",500],"{",["T_WHITESPACE","\n        ",501],["T_VARIABLE","$this",502],["T_OBJECT_OPERATOR","->",502],["T_STRING","_blobs",502],["T_WHITESPACE"," ",502],"=",["T_WHITESPACE"," ",502],["T_VARIABLE","$this",502],["T_OBJECT_OPERATOR","->",502],["T_STRING","_getStorageClient",502],"(",["T_VARIABLE","$path",502],")",["T_OBJECT_OPERATOR","->",502],["T_STRING","listBlobs",502],"(",["T_WHITESPACE","\n            ",502],["T_VARIABLE","$this",503],["T_OBJECT_OPERATOR","->",503],["T_STRING","_getContainerName",503],"(",["T_VARIABLE","$path",503],")",["T_WHITESPACE","\n        ",503],")",";",["T_WHITESPACE","\n        ",504],["T_RETURN","return",505],["T_WHITESPACE"," ",505],["T_STRING","is_array",505],"(",["T_VARIABLE","$this",505],["T_OBJECT_OPERATOR","->",505],["T_STRING","_blobs",505],")",";",["T_WHITESPACE","\n    ",505],"}",["T_WHITESPACE","\n\n    ",506],["T_DOC_COMMENT","\/**\n     * Return the next filename in the directory\n     *\n     * @return string\n     *\/",508],["T_WHITESPACE","\n    ",512],["T_PUBLIC","public",513],["T_WHITESPACE"," ",513],["T_FUNCTION","function",513],["T_WHITESPACE"," ",513],["T_STRING","dir_readdir",513],"(",")",["T_WHITESPACE","\n    ",513],"{",["T_WHITESPACE","\n        ",514],["T_VARIABLE","$object",515],["T_WHITESPACE"," ",515],"=",["T_WHITESPACE"," ",515],["T_STRING","current",515],"(",["T_VARIABLE","$this",515],["T_OBJECT_OPERATOR","->",515],["T_STRING","_blobs",515],")",";",["T_WHITESPACE","\n        ",515],["T_IF","if",516],["T_WHITESPACE"," ",516],"(",["T_VARIABLE","$object",516],["T_WHITESPACE"," ",516],["T_IS_NOT_IDENTICAL","!==",516],["T_WHITESPACE"," ",516],["T_STRING","false",516],")",["T_WHITESPACE"," ",516],"{",["T_WHITESPACE","\n            ",516],["T_STRING","next",517],"(",["T_VARIABLE","$this",517],["T_OBJECT_OPERATOR","->",517],["T_STRING","_blobs",517],")",";",["T_WHITESPACE","\n            ",517],["T_RETURN","return",518],["T_WHITESPACE"," ",518],["T_VARIABLE","$object",518],["T_OBJECT_OPERATOR","->",518],["T_STRING","Name",518],";",["T_WHITESPACE","\n        ",518],"}",["T_WHITESPACE","\n        ",519],["T_RETURN","return",520],["T_WHITESPACE"," ",520],["T_STRING","false",520],";",["T_WHITESPACE","\n    ",520],"}",["T_WHITESPACE","\n\n    ",521],["T_DOC_COMMENT","\/**\n     * Reset the directory pointer\n     *\n     * @return boolean True\n     *\/",523],["T_WHITESPACE","\n    ",527],["T_PUBLIC","public",528],["T_WHITESPACE"," ",528],["T_FUNCTION","function",528],["T_WHITESPACE"," ",528],["T_STRING","dir_rewinddir",528],"(",")",["T_WHITESPACE","\n    ",528],"{",["T_WHITESPACE","\n        ",529],["T_STRING","reset",530],"(",["T_VARIABLE","$this",530],["T_OBJECT_OPERATOR","->",530],["T_STRING","_blobs",530],")",";",["T_WHITESPACE","\n        ",530],["T_RETURN","return",531],["T_WHITESPACE"," ",531],["T_STRING","true",531],";",["T_WHITESPACE","\n    ",531],"}",["T_WHITESPACE","\n\n    ",532],["T_DOC_COMMENT","\/**\n     * Close a directory\n     *\n     * @return boolean True\n     *\/",534],["T_WHITESPACE","\n    ",538],["T_PUBLIC","public",539],["T_WHITESPACE"," ",539],["T_FUNCTION","function",539],["T_WHITESPACE"," ",539],["T_STRING","dir_closedir",539],"(",")",["T_WHITESPACE","\n    ",539],"{",["T_WHITESPACE","\n        ",540],["T_VARIABLE","$this",541],["T_OBJECT_OPERATOR","->",541],["T_STRING","_blobs",541],["T_WHITESPACE"," ",541],"=",["T_WHITESPACE"," ",541],["T_STRING","null",541],";",["T_WHITESPACE","\n        ",541],["T_RETURN","return",542],["T_WHITESPACE"," ",542],["T_STRING","true",542],";",["T_WHITESPACE","\n    ",542],"}",["T_WHITESPACE","\n",543],"}",["T_WHITESPACE","\n",544]]