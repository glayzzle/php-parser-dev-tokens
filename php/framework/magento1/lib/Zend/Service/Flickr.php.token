[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_DOC_COMMENT","\/**\n * Zend Framework\n *\n * LICENSE\n *\n * This source file is subject to the new BSD license that is bundled\n * with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/framework.zend.com\/license\/new-bsd\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@zend.com so we can send you a copy immediately.\n *\n * @category   Zend\n * @package    Zend_Service\n * @subpackage Flickr\n * @copyright  Copyright (c) 2005-2015 Zend Technologies USA Inc. (http:\/\/www.zend.com)\n * @license    http:\/\/framework.zend.com\/license\/new-bsd     New BSD License\n * @version    $Id$\n *\/",3],["T_WHITESPACE","\n\n",22],["T_DOC_COMMENT","\/** @see Zend_Xml_Security *\/",24],["T_WHITESPACE","\n",24],["T_COMMENT","#require_once 'Zend\/Xml\/Security.php';\n",25],["T_WHITESPACE","\n",26],["T_DOC_COMMENT","\/**\n * @category   Zend\n * @package    Zend_Service\n * @subpackage Flickr\n * @copyright  Copyright (c) 2005-2015 Zend Technologies USA Inc. (http:\/\/www.zend.com)\n * @license    http:\/\/framework.zend.com\/license\/new-bsd     New BSD License\n *\/",27],["T_WHITESPACE","\n",33],["T_CLASS","class",34],["T_WHITESPACE"," ",34],["T_STRING","Zend_Service_Flickr",34],["T_WHITESPACE","\n",34],"{",["T_WHITESPACE","\n    ",35],["T_DOC_COMMENT","\/**\n     * Base URI for the REST client\n     *\/",36],["T_WHITESPACE","\n    ",38],["T_CONST","const",39],["T_WHITESPACE"," ",39],["T_STRING","URI_BASE",39],["T_WHITESPACE"," ",39],"=",["T_WHITESPACE"," ",39],["T_CONSTANT_ENCAPSED_STRING","'https:\/\/www.flickr.com'",39],";",["T_WHITESPACE","\n\n    ",39],["T_DOC_COMMENT","\/**\n     * Your Flickr API key\n     *\n     * @var string\n     *\/",41],["T_WHITESPACE","\n    ",45],["T_PUBLIC","public",46],["T_WHITESPACE"," ",46],["T_VARIABLE","$apiKey",46],";",["T_WHITESPACE","\n\n    ",46],["T_DOC_COMMENT","\/**\n     * Reference to REST client object\n     *\n     * @var Zend_Rest_Client\n     *\/",48],["T_WHITESPACE","\n    ",52],["T_PROTECTED","protected",53],["T_WHITESPACE"," ",53],["T_VARIABLE","$_restClient",53],["T_WHITESPACE"," ",53],"=",["T_WHITESPACE"," ",53],["T_STRING","null",53],";",["T_WHITESPACE","\n\n\n    ",53],["T_DOC_COMMENT","\/**\n     * Performs object initializations\n     *\n     *  # Sets up character encoding\n     *  # Saves the API key\n     *\n     * @param  string $apiKey Your Flickr API key\n     * @return void\n     *\/",56],["T_WHITESPACE","\n    ",64],["T_PUBLIC","public",65],["T_WHITESPACE"," ",65],["T_FUNCTION","function",65],["T_WHITESPACE"," ",65],["T_STRING","__construct",65],"(",["T_VARIABLE","$apiKey",65],")",["T_WHITESPACE","\n    ",65],"{",["T_WHITESPACE","\n        ",66],["T_VARIABLE","$this",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","apiKey",67],["T_WHITESPACE"," ",67],"=",["T_WHITESPACE"," ",67],["T_STRING_CAST","(string)",67],["T_WHITESPACE"," ",67],["T_VARIABLE","$apiKey",67],";",["T_WHITESPACE","\n    ",67],"}",["T_WHITESPACE","\n\n\n    ",68],["T_DOC_COMMENT","\/**\n     * Find Flickr photos by tag.\n     *\n     * Query options include:\n     *\n     *  # per_page:        how many results to return per query\n     *  # page:            the starting page offset.  first result will be (page - 1) * per_page + 1\n     *  # tag_mode:        Either 'any' for an OR combination of tags,\n     *                     or 'all' for an AND combination. Default is 'any'.\n     *  # min_upload_date: Minimum upload date to search on.  Date should be a unix timestamp.\n     *  # max_upload_date: Maximum upload date to search on.  Date should be a unix timestamp.\n     *  # min_taken_date:  Minimum upload date to search on.  Date should be a MySQL datetime.\n     *  # max_taken_date:  Maximum upload date to search on.  Date should be a MySQL datetime.\n     *\n     * @param  string|array $query   A single tag or an array of tags.\n     * @param  array        $options Additional parameters to refine your query.\n     * @return Zend_Service_Flickr_ResultSet\n     * @throws Zend_Service_Exception\n     *\/",71],["T_WHITESPACE","\n    ",89],["T_PUBLIC","public",90],["T_WHITESPACE"," ",90],["T_FUNCTION","function",90],["T_WHITESPACE"," ",90],["T_STRING","tagSearch",90],"(",["T_VARIABLE","$query",90],",",["T_WHITESPACE"," ",90],["T_ARRAY","array",90],["T_WHITESPACE"," ",90],["T_VARIABLE","$options",90],["T_WHITESPACE"," ",90],"=",["T_WHITESPACE"," ",90],["T_ARRAY","array",90],"(",")",")",["T_WHITESPACE","\n    ",90],"{",["T_WHITESPACE","\n        ",91],["T_STATIC","static",92],["T_WHITESPACE"," ",92],["T_VARIABLE","$method",92],["T_WHITESPACE"," ",92],"=",["T_WHITESPACE"," ",92],["T_CONSTANT_ENCAPSED_STRING","'flickr.photos.search'",92],";",["T_WHITESPACE","\n        ",92],["T_STATIC","static",93],["T_WHITESPACE"," ",93],["T_VARIABLE","$defaultOptions",93],["T_WHITESPACE"," ",93],"=",["T_WHITESPACE"," ",93],["T_ARRAY","array",93],"(",["T_CONSTANT_ENCAPSED_STRING","'per_page'",93],["T_WHITESPACE"," ",93],["T_DOUBLE_ARROW","=>",93],["T_WHITESPACE"," ",93],["T_LNUMBER","10",93],",",["T_WHITESPACE","\n                                       ",93],["T_CONSTANT_ENCAPSED_STRING","'page'",94],["T_WHITESPACE","     ",94],["T_DOUBLE_ARROW","=>",94],["T_WHITESPACE"," ",94],["T_LNUMBER","1",94],",",["T_WHITESPACE","\n                                       ",94],["T_CONSTANT_ENCAPSED_STRING","'tag_mode'",95],["T_WHITESPACE"," ",95],["T_DOUBLE_ARROW","=>",95],["T_WHITESPACE"," ",95],["T_CONSTANT_ENCAPSED_STRING","'or'",95],",",["T_WHITESPACE","\n                                       ",95],["T_CONSTANT_ENCAPSED_STRING","'extras'",96],["T_WHITESPACE","   ",96],["T_DOUBLE_ARROW","=>",96],["T_WHITESPACE"," ",96],["T_CONSTANT_ENCAPSED_STRING","'license, date_upload, date_taken, owner_name, icon_server'",96],")",";",["T_WHITESPACE","\n\n        ",96],["T_VARIABLE","$options",98],"[",["T_CONSTANT_ENCAPSED_STRING","'tags'",98],"]",["T_WHITESPACE"," ",98],"=",["T_WHITESPACE"," ",98],["T_STRING","is_array",98],"(",["T_VARIABLE","$query",98],")",["T_WHITESPACE"," ",98],"?",["T_WHITESPACE"," ",98],["T_STRING","implode",98],"(",["T_CONSTANT_ENCAPSED_STRING","','",98],",",["T_WHITESPACE"," ",98],["T_VARIABLE","$query",98],")",["T_WHITESPACE"," ",98],":",["T_WHITESPACE"," ",98],["T_VARIABLE","$query",98],";",["T_WHITESPACE","\n\n        ",98],["T_VARIABLE","$options",100],["T_WHITESPACE"," ",100],"=",["T_WHITESPACE"," ",100],["T_VARIABLE","$this",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","_prepareOptions",100],"(",["T_VARIABLE","$method",100],",",["T_WHITESPACE"," ",100],["T_VARIABLE","$options",100],",",["T_WHITESPACE"," ",100],["T_VARIABLE","$defaultOptions",100],")",";",["T_WHITESPACE","\n\n        ",100],["T_VARIABLE","$this",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","_validateTagSearch",102],"(",["T_VARIABLE","$options",102],")",";",["T_WHITESPACE","\n\n        ",102],["T_COMMENT","\/\/ now search for photos\n",104],["T_WHITESPACE","        ",105],["T_VARIABLE","$restClient",105],["T_WHITESPACE"," ",105],"=",["T_WHITESPACE"," ",105],["T_VARIABLE","$this",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","getRestClient",105],"(",")",";",["T_WHITESPACE","\n        ",105],["T_VARIABLE","$restClient",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","getHttpClient",106],"(",")",["T_OBJECT_OPERATOR","->",106],["T_STRING","resetParameters",106],"(",")",";",["T_WHITESPACE","\n        ",106],["T_VARIABLE","$response",107],["T_WHITESPACE"," ",107],"=",["T_WHITESPACE"," ",107],["T_VARIABLE","$restClient",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","restGet",107],"(",["T_CONSTANT_ENCAPSED_STRING","'\/services\/rest\/'",107],",",["T_WHITESPACE"," ",107],["T_VARIABLE","$options",107],")",";",["T_WHITESPACE","\n\n        ",107],["T_IF","if",109],["T_WHITESPACE"," ",109],"(",["T_VARIABLE","$response",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","isError",109],"(",")",")",["T_WHITESPACE"," ",109],"{",["T_WHITESPACE","\n            ",109],["T_DOC_COMMENT","\/**\n             * @see Zend_Service_Exception\n             *\/",110],["T_WHITESPACE","\n            ",112],["T_COMMENT","#require_once 'Zend\/Service\/Exception.php';\n",113],["T_WHITESPACE","            ",114],["T_THROW","throw",114],["T_WHITESPACE"," ",114],["T_NEW","new",114],["T_WHITESPACE"," ",114],["T_STRING","Zend_Service_Exception",114],"(",["T_CONSTANT_ENCAPSED_STRING","'An error occurred sending request. Status code: '",114],["T_WHITESPACE","\n                                           ",114],".",["T_WHITESPACE"," ",115],["T_VARIABLE","$response",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","getStatus",115],"(",")",")",";",["T_WHITESPACE","\n        ",115],"}",["T_WHITESPACE","\n\n        ",116],["T_VARIABLE","$dom",118],["T_WHITESPACE"," ",118],"=",["T_WHITESPACE"," ",118],["T_NEW","new",118],["T_WHITESPACE"," ",118],["T_STRING","DOMDocument",118],"(",")",";",["T_WHITESPACE","\n        ",118],["T_VARIABLE","$dom",119],["T_WHITESPACE"," ",119],"=",["T_WHITESPACE"," ",119],["T_STRING","Zend_Xml_Security",119],["T_DOUBLE_COLON","::",119],["T_STRING","scan",119],"(",["T_VARIABLE","$response",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","getBody",119],"(",")",",",["T_WHITESPACE"," ",119],["T_VARIABLE","$dom",119],")",";",["T_WHITESPACE","\n        ",119],["T_STRING","self",120],["T_DOUBLE_COLON","::",120],["T_STRING","_checkErrors",120],"(",["T_VARIABLE","$dom",120],")",";",["T_WHITESPACE","\n\n        ",120],["T_DOC_COMMENT","\/**\n         * @see Zend_Service_Flickr_ResultSet\n         *\/",122],["T_WHITESPACE","\n        ",124],["T_COMMENT","#require_once 'Zend\/Service\/Flickr\/ResultSet.php';\n",125],["T_WHITESPACE","        ",126],["T_RETURN","return",126],["T_WHITESPACE"," ",126],["T_NEW","new",126],["T_WHITESPACE"," ",126],["T_STRING","Zend_Service_Flickr_ResultSet",126],"(",["T_VARIABLE","$dom",126],",",["T_WHITESPACE"," ",126],["T_VARIABLE","$this",126],")",";",["T_WHITESPACE","\n    ",126],"}",["T_WHITESPACE","\n\n\n    ",127],["T_DOC_COMMENT","\/**\n     * Finds photos by a user's username or email.\n     *\n     * Additional query options include:\n     *\n     *  # per_page:        how many results to return per query\n     *  # page:            the starting page offset.  first result will be (page - 1) * per_page + 1\n     *  # min_upload_date: Minimum upload date to search on.  Date should be a unix timestamp.\n     *  # max_upload_date: Maximum upload date to search on.  Date should be a unix timestamp.\n     *  # min_taken_date:  Minimum upload date to search on.  Date should be a MySQL datetime.\n     *  # max_taken_date:  Maximum upload date to search on.  Date should be a MySQL datetime.\n     *\n     * @param  string $query   username or email\n     * @param  array  $options Additional parameters to refine your query.\n     * @return Zend_Service_Flickr_ResultSet\n     * @throws Zend_Service_Exception\n     *\/",130],["T_WHITESPACE","\n    ",146],["T_PUBLIC","public",147],["T_WHITESPACE"," ",147],["T_FUNCTION","function",147],["T_WHITESPACE"," ",147],["T_STRING","userSearch",147],"(",["T_VARIABLE","$query",147],",",["T_WHITESPACE"," ",147],["T_ARRAY","array",147],["T_WHITESPACE"," ",147],["T_VARIABLE","$options",147],["T_WHITESPACE"," ",147],"=",["T_WHITESPACE"," ",147],["T_STRING","null",147],")",["T_WHITESPACE","\n    ",147],"{",["T_WHITESPACE","\n        ",148],["T_STATIC","static",149],["T_WHITESPACE"," ",149],["T_VARIABLE","$method",149],["T_WHITESPACE"," ",149],"=",["T_WHITESPACE"," ",149],["T_CONSTANT_ENCAPSED_STRING","'flickr.people.getPublicPhotos'",149],";",["T_WHITESPACE","\n        ",149],["T_STATIC","static",150],["T_WHITESPACE"," ",150],["T_VARIABLE","$defaultOptions",150],["T_WHITESPACE"," ",150],"=",["T_WHITESPACE"," ",150],["T_ARRAY","array",150],"(",["T_CONSTANT_ENCAPSED_STRING","'per_page'",150],["T_WHITESPACE"," ",150],["T_DOUBLE_ARROW","=>",150],["T_WHITESPACE"," ",150],["T_LNUMBER","10",150],",",["T_WHITESPACE","\n                                       ",150],["T_CONSTANT_ENCAPSED_STRING","'page'",151],["T_WHITESPACE","     ",151],["T_DOUBLE_ARROW","=>",151],["T_WHITESPACE"," ",151],["T_LNUMBER","1",151],",",["T_WHITESPACE","\n                                       ",151],["T_CONSTANT_ENCAPSED_STRING","'extras'",152],["T_WHITESPACE","   ",152],["T_DOUBLE_ARROW","=>",152],["T_WHITESPACE"," ",152],["T_CONSTANT_ENCAPSED_STRING","'license, date_upload, date_taken, owner_name, icon_server'",152],")",";",["T_WHITESPACE","\n\n\n        ",152],["T_COMMENT","\/\/ can't access by username, must get ID first\n",155],["T_WHITESPACE","        ",156],["T_IF","if",156],["T_WHITESPACE"," ",156],"(",["T_STRING","strchr",156],"(",["T_VARIABLE","$query",156],",",["T_WHITESPACE"," ",156],["T_CONSTANT_ENCAPSED_STRING","'@'",156],")",")",["T_WHITESPACE"," ",156],"{",["T_WHITESPACE","\n            ",156],["T_COMMENT","\/\/ optimistically hope this is an email\n",157],["T_WHITESPACE","            ",158],["T_VARIABLE","$options",158],"[",["T_CONSTANT_ENCAPSED_STRING","'user_id'",158],"]",["T_WHITESPACE"," ",158],"=",["T_WHITESPACE"," ",158],["T_VARIABLE","$this",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","getIdByEmail",158],"(",["T_VARIABLE","$query",158],")",";",["T_WHITESPACE","\n        ",158],"}",["T_WHITESPACE"," ",159],["T_ELSE","else",159],["T_WHITESPACE"," ",159],"{",["T_WHITESPACE","\n            ",159],["T_COMMENT","\/\/ we can safely ignore this exception here\n",160],["T_WHITESPACE","            ",161],["T_VARIABLE","$options",161],"[",["T_CONSTANT_ENCAPSED_STRING","'user_id'",161],"]",["T_WHITESPACE"," ",161],"=",["T_WHITESPACE"," ",161],["T_VARIABLE","$this",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","getIdByUsername",161],"(",["T_VARIABLE","$query",161],")",";",["T_WHITESPACE","\n        ",161],"}",["T_WHITESPACE","\n\n        ",162],["T_VARIABLE","$options",164],["T_WHITESPACE"," ",164],"=",["T_WHITESPACE"," ",164],["T_VARIABLE","$this",164],["T_OBJECT_OPERATOR","->",164],["T_STRING","_prepareOptions",164],"(",["T_VARIABLE","$method",164],",",["T_WHITESPACE"," ",164],["T_VARIABLE","$options",164],",",["T_WHITESPACE"," ",164],["T_VARIABLE","$defaultOptions",164],")",";",["T_WHITESPACE","\n        ",164],["T_VARIABLE","$this",165],["T_OBJECT_OPERATOR","->",165],["T_STRING","_validateUserSearch",165],"(",["T_VARIABLE","$options",165],")",";",["T_WHITESPACE","\n\n        ",165],["T_COMMENT","\/\/ now search for photos\n",167],["T_WHITESPACE","        ",168],["T_VARIABLE","$restClient",168],["T_WHITESPACE"," ",168],"=",["T_WHITESPACE"," ",168],["T_VARIABLE","$this",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","getRestClient",168],"(",")",";",["T_WHITESPACE","\n        ",168],["T_VARIABLE","$restClient",169],["T_OBJECT_OPERATOR","->",169],["T_STRING","getHttpClient",169],"(",")",["T_OBJECT_OPERATOR","->",169],["T_STRING","resetParameters",169],"(",")",";",["T_WHITESPACE","\n        ",169],["T_VARIABLE","$response",170],["T_WHITESPACE"," ",170],"=",["T_WHITESPACE"," ",170],["T_VARIABLE","$restClient",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","restGet",170],"(",["T_CONSTANT_ENCAPSED_STRING","'\/services\/rest\/'",170],",",["T_WHITESPACE"," ",170],["T_VARIABLE","$options",170],")",";",["T_WHITESPACE","\n\n        ",170],["T_IF","if",172],["T_WHITESPACE"," ",172],"(",["T_VARIABLE","$response",172],["T_OBJECT_OPERATOR","->",172],["T_STRING","isError",172],"(",")",")",["T_WHITESPACE"," ",172],"{",["T_WHITESPACE","\n            ",172],["T_DOC_COMMENT","\/**\n             * @see Zend_Service_Exception\n             *\/",173],["T_WHITESPACE","\n            ",175],["T_COMMENT","#require_once 'Zend\/Service\/Exception.php';\n",176],["T_WHITESPACE","            ",177],["T_THROW","throw",177],["T_WHITESPACE"," ",177],["T_NEW","new",177],["T_WHITESPACE"," ",177],["T_STRING","Zend_Service_Exception",177],"(",["T_CONSTANT_ENCAPSED_STRING","'An error occurred sending request. Status code: '",177],["T_WHITESPACE","\n                                           ",177],".",["T_WHITESPACE"," ",178],["T_VARIABLE","$response",178],["T_OBJECT_OPERATOR","->",178],["T_STRING","getStatus",178],"(",")",")",";",["T_WHITESPACE","\n        ",178],"}",["T_WHITESPACE","\n\n        ",179],["T_VARIABLE","$dom",181],["T_WHITESPACE"," ",181],"=",["T_WHITESPACE"," ",181],["T_NEW","new",181],["T_WHITESPACE"," ",181],["T_STRING","DOMDocument",181],"(",")",";",["T_WHITESPACE","\n        ",181],["T_VARIABLE","$dom",182],["T_WHITESPACE"," ",182],"=",["T_WHITESPACE"," ",182],["T_STRING","Zend_Xml_Security",182],["T_DOUBLE_COLON","::",182],["T_STRING","scan",182],"(",["T_VARIABLE","$response",182],["T_OBJECT_OPERATOR","->",182],["T_STRING","getBody",182],"(",")",",",["T_WHITESPACE"," ",182],["T_VARIABLE","$dom",182],")",";",["T_WHITESPACE","\n        ",182],["T_STRING","self",183],["T_DOUBLE_COLON","::",183],["T_STRING","_checkErrors",183],"(",["T_VARIABLE","$dom",183],")",";",["T_WHITESPACE","\n\n        ",183],["T_DOC_COMMENT","\/**\n         * @see Zend_Service_Flickr_ResultSet\n         *\/",185],["T_WHITESPACE","\n        ",187],["T_COMMENT","#require_once 'Zend\/Service\/Flickr\/ResultSet.php';\n",188],["T_WHITESPACE","        ",189],["T_RETURN","return",189],["T_WHITESPACE"," ",189],["T_NEW","new",189],["T_WHITESPACE"," ",189],["T_STRING","Zend_Service_Flickr_ResultSet",189],"(",["T_VARIABLE","$dom",189],",",["T_WHITESPACE"," ",189],["T_VARIABLE","$this",189],")",";",["T_WHITESPACE","\n    ",189],"}",["T_WHITESPACE","\n\n    ",190],["T_DOC_COMMENT","\/**\n     * Finds photos in a group's pool.\n     *\n     * @param  string $query   group id\n     * @param  array  $options Additional parameters to refine your query.\n     * @return Zend_Service_Flickr_ResultSet\n     * @throws Zend_Service_Exception\n     *\/",192],["T_WHITESPACE","\n    ",199],["T_PUBLIC","public",200],["T_WHITESPACE"," ",200],["T_FUNCTION","function",200],["T_WHITESPACE"," ",200],["T_STRING","groupPoolGetPhotos",200],"(",["T_VARIABLE","$query",200],",",["T_WHITESPACE"," ",200],["T_ARRAY","array",200],["T_WHITESPACE"," ",200],["T_VARIABLE","$options",200],["T_WHITESPACE"," ",200],"=",["T_WHITESPACE"," ",200],["T_ARRAY","array",200],"(",")",")",["T_WHITESPACE","\n    ",200],"{",["T_WHITESPACE","\n        ",201],["T_STATIC","static",202],["T_WHITESPACE"," ",202],["T_VARIABLE","$method",202],["T_WHITESPACE"," ",202],"=",["T_WHITESPACE"," ",202],["T_CONSTANT_ENCAPSED_STRING","'flickr.groups.pools.getPhotos'",202],";",["T_WHITESPACE","\n        ",202],["T_STATIC","static",203],["T_WHITESPACE"," ",203],["T_VARIABLE","$defaultOptions",203],["T_WHITESPACE"," ",203],"=",["T_WHITESPACE"," ",203],["T_ARRAY","array",203],"(",["T_CONSTANT_ENCAPSED_STRING","'per_page'",203],["T_WHITESPACE"," ",203],["T_DOUBLE_ARROW","=>",203],["T_WHITESPACE"," ",203],["T_LNUMBER","10",203],",",["T_WHITESPACE","\n                                       ",203],["T_CONSTANT_ENCAPSED_STRING","'page'",204],["T_WHITESPACE","     ",204],["T_DOUBLE_ARROW","=>",204],["T_WHITESPACE"," ",204],["T_LNUMBER","1",204],",",["T_WHITESPACE","\n                                       ",204],["T_CONSTANT_ENCAPSED_STRING","'extras'",205],["T_WHITESPACE","   ",205],["T_DOUBLE_ARROW","=>",205],["T_WHITESPACE"," ",205],["T_CONSTANT_ENCAPSED_STRING","'license, date_upload, date_taken, owner_name, icon_server'",205],")",";",["T_WHITESPACE","\n\n        ",205],["T_IF","if",207],["T_WHITESPACE"," ",207],"(",["T_EMPTY","empty",207],"(",["T_VARIABLE","$query",207],")",["T_WHITESPACE"," ",207],["T_BOOLEAN_OR","||",207],["T_WHITESPACE"," ",207],"!",["T_STRING","is_string",207],"(",["T_VARIABLE","$query",207],")",")",["T_WHITESPACE"," ",207],"{",["T_WHITESPACE","\n            ",207],["T_DOC_COMMENT","\/**\n             * @see Zend_Service_Exception\n             *\/",208],["T_WHITESPACE","\n            ",210],["T_COMMENT","#require_once 'Zend\/Service\/Exception.php';\n",211],["T_WHITESPACE","            ",212],["T_THROW","throw",212],["T_WHITESPACE"," ",212],["T_NEW","new",212],["T_WHITESPACE"," ",212],["T_STRING","Zend_Service_Exception",212],"(",["T_CONSTANT_ENCAPSED_STRING","'You must supply a group id'",212],")",";",["T_WHITESPACE","\n        ",212],"}",["T_WHITESPACE","\n\n        ",213],["T_VARIABLE","$options",215],"[",["T_CONSTANT_ENCAPSED_STRING","'group_id'",215],"]",["T_WHITESPACE"," ",215],"=",["T_WHITESPACE"," ",215],["T_VARIABLE","$query",215],";",["T_WHITESPACE","\n\n        ",215],["T_VARIABLE","$options",217],["T_WHITESPACE"," ",217],"=",["T_WHITESPACE"," ",217],["T_VARIABLE","$this",217],["T_OBJECT_OPERATOR","->",217],["T_STRING","_prepareOptions",217],"(",["T_VARIABLE","$method",217],",",["T_WHITESPACE"," ",217],["T_VARIABLE","$options",217],",",["T_WHITESPACE"," ",217],["T_VARIABLE","$defaultOptions",217],")",";",["T_WHITESPACE","\n\n        ",217],["T_VARIABLE","$this",219],["T_OBJECT_OPERATOR","->",219],["T_STRING","_validateGroupPoolGetPhotos",219],"(",["T_VARIABLE","$options",219],")",";",["T_WHITESPACE","\n\n        ",219],["T_COMMENT","\/\/ now search for photos\n",221],["T_WHITESPACE","        ",222],["T_VARIABLE","$restClient",222],["T_WHITESPACE"," ",222],"=",["T_WHITESPACE"," ",222],["T_VARIABLE","$this",222],["T_OBJECT_OPERATOR","->",222],["T_STRING","getRestClient",222],"(",")",";",["T_WHITESPACE","\n        ",222],["T_VARIABLE","$restClient",223],["T_OBJECT_OPERATOR","->",223],["T_STRING","getHttpClient",223],"(",")",["T_OBJECT_OPERATOR","->",223],["T_STRING","resetParameters",223],"(",")",";",["T_WHITESPACE","\n        ",223],["T_VARIABLE","$response",224],["T_WHITESPACE"," ",224],"=",["T_WHITESPACE"," ",224],["T_VARIABLE","$restClient",224],["T_OBJECT_OPERATOR","->",224],["T_STRING","restGet",224],"(",["T_CONSTANT_ENCAPSED_STRING","'\/services\/rest\/'",224],",",["T_WHITESPACE"," ",224],["T_VARIABLE","$options",224],")",";",["T_WHITESPACE","\n\n        ",224],["T_IF","if",226],["T_WHITESPACE"," ",226],"(",["T_VARIABLE","$response",226],["T_OBJECT_OPERATOR","->",226],["T_STRING","isError",226],"(",")",")",["T_WHITESPACE"," ",226],"{",["T_WHITESPACE","\n            ",226],["T_DOC_COMMENT","\/**\n            * @see Zend_Service_Exception\n            *\/",227],["T_WHITESPACE","\n            ",229],["T_COMMENT","#require_once 'Zend\/Service\/Exception.php';\n",230],["T_WHITESPACE","            ",231],["T_THROW","throw",231],["T_WHITESPACE"," ",231],["T_NEW","new",231],["T_WHITESPACE"," ",231],["T_STRING","Zend_Service_Exception",231],"(",["T_CONSTANT_ENCAPSED_STRING","'An error occurred sending request. Status code: '",231],["T_WHITESPACE","\n                                           ",231],".",["T_WHITESPACE"," ",232],["T_VARIABLE","$response",232],["T_OBJECT_OPERATOR","->",232],["T_STRING","getStatus",232],"(",")",")",";",["T_WHITESPACE","\n        ",232],"}",["T_WHITESPACE","\n\n        ",233],["T_VARIABLE","$dom",235],["T_WHITESPACE"," ",235],"=",["T_WHITESPACE"," ",235],["T_NEW","new",235],["T_WHITESPACE"," ",235],["T_STRING","DOMDocument",235],"(",")",";",["T_WHITESPACE","\n        ",235],["T_VARIABLE","$dom",236],["T_WHITESPACE"," ",236],"=",["T_WHITESPACE"," ",236],["T_STRING","Zend_Xml_Security",236],["T_DOUBLE_COLON","::",236],["T_STRING","scan",236],"(",["T_VARIABLE","$response",236],["T_OBJECT_OPERATOR","->",236],["T_STRING","getBody",236],"(",")",",",["T_WHITESPACE"," ",236],["T_VARIABLE","$dom",236],")",";",["T_WHITESPACE","\n        ",236],["T_STRING","self",237],["T_DOUBLE_COLON","::",237],["T_STRING","_checkErrors",237],"(",["T_VARIABLE","$dom",237],")",";",["T_WHITESPACE","\n\n        ",237],["T_DOC_COMMENT","\/**\n        * @see Zend_Service_Flickr_ResultSet\n        *\/",239],["T_WHITESPACE","\n        ",241],["T_COMMENT","#require_once 'Zend\/Service\/Flickr\/ResultSet.php';\n",242],["T_WHITESPACE","        ",243],["T_RETURN","return",243],["T_WHITESPACE"," ",243],["T_NEW","new",243],["T_WHITESPACE"," ",243],["T_STRING","Zend_Service_Flickr_ResultSet",243],"(",["T_VARIABLE","$dom",243],",",["T_WHITESPACE"," ",243],["T_VARIABLE","$this",243],")",";",["T_WHITESPACE","\n    ",243],"}",["T_WHITESPACE","\n\n\n\n    ",244],["T_DOC_COMMENT","\/**\n     * Utility function to find Flickr User IDs for usernames.\n     *\n     * (You can only find a user's photo with their NSID.)\n     *\n     * @param  string $username the username\n     * @return string the NSID (userid)\n     * @throws Zend_Service_Exception\n     *\/",248],["T_WHITESPACE","\n    ",256],["T_PUBLIC","public",257],["T_WHITESPACE"," ",257],["T_FUNCTION","function",257],["T_WHITESPACE"," ",257],["T_STRING","getIdByUsername",257],"(",["T_VARIABLE","$username",257],")",["T_WHITESPACE","\n    ",257],"{",["T_WHITESPACE","\n        ",258],["T_STATIC","static",259],["T_WHITESPACE"," ",259],["T_VARIABLE","$method",259],["T_WHITESPACE"," ",259],"=",["T_WHITESPACE"," ",259],["T_CONSTANT_ENCAPSED_STRING","'flickr.people.findByUsername'",259],";",["T_WHITESPACE","\n\n        ",259],["T_VARIABLE","$options",261],["T_WHITESPACE"," ",261],"=",["T_WHITESPACE"," ",261],["T_ARRAY","array",261],"(",["T_CONSTANT_ENCAPSED_STRING","'api_key'",261],["T_WHITESPACE"," ",261],["T_DOUBLE_ARROW","=>",261],["T_WHITESPACE"," ",261],["T_VARIABLE","$this",261],["T_OBJECT_OPERATOR","->",261],["T_STRING","apiKey",261],",",["T_WHITESPACE"," ",261],["T_CONSTANT_ENCAPSED_STRING","'method'",261],["T_WHITESPACE"," ",261],["T_DOUBLE_ARROW","=>",261],["T_WHITESPACE"," ",261],["T_VARIABLE","$method",261],",",["T_WHITESPACE"," ",261],["T_CONSTANT_ENCAPSED_STRING","'username'",261],["T_WHITESPACE"," ",261],["T_DOUBLE_ARROW","=>",261],["T_WHITESPACE"," ",261],["T_STRING_CAST","(string)",261],["T_WHITESPACE"," ",261],["T_VARIABLE","$username",261],")",";",["T_WHITESPACE","\n\n        ",261],["T_IF","if",263],["T_WHITESPACE"," ",263],"(",["T_EMPTY","empty",263],"(",["T_VARIABLE","$username",263],")",")",["T_WHITESPACE"," ",263],"{",["T_WHITESPACE","\n            ",263],["T_DOC_COMMENT","\/**\n             * @see Zend_Service_Exception\n             *\/",264],["T_WHITESPACE","\n            ",266],["T_COMMENT","#require_once 'Zend\/Service\/Exception.php';\n",267],["T_WHITESPACE","            ",268],["T_THROW","throw",268],["T_WHITESPACE"," ",268],["T_NEW","new",268],["T_WHITESPACE"," ",268],["T_STRING","Zend_Service_Exception",268],"(",["T_CONSTANT_ENCAPSED_STRING","'You must supply a username'",268],")",";",["T_WHITESPACE","\n        ",268],"}",["T_WHITESPACE","\n\n        ",269],["T_VARIABLE","$restClient",271],["T_WHITESPACE"," ",271],"=",["T_WHITESPACE"," ",271],["T_VARIABLE","$this",271],["T_OBJECT_OPERATOR","->",271],["T_STRING","getRestClient",271],"(",")",";",["T_WHITESPACE","\n        ",271],["T_VARIABLE","$restClient",272],["T_OBJECT_OPERATOR","->",272],["T_STRING","getHttpClient",272],"(",")",["T_OBJECT_OPERATOR","->",272],["T_STRING","resetParameters",272],"(",")",";",["T_WHITESPACE","\n        ",272],["T_VARIABLE","$response",273],["T_WHITESPACE"," ",273],"=",["T_WHITESPACE"," ",273],["T_VARIABLE","$restClient",273],["T_OBJECT_OPERATOR","->",273],["T_STRING","restGet",273],"(",["T_CONSTANT_ENCAPSED_STRING","'\/services\/rest\/'",273],",",["T_WHITESPACE"," ",273],["T_VARIABLE","$options",273],")",";",["T_WHITESPACE","\n\n        ",273],["T_IF","if",275],["T_WHITESPACE"," ",275],"(",["T_VARIABLE","$response",275],["T_OBJECT_OPERATOR","->",275],["T_STRING","isError",275],"(",")",")",["T_WHITESPACE"," ",275],"{",["T_WHITESPACE","\n            ",275],["T_DOC_COMMENT","\/**\n             * @see Zend_Service_Exception\n             *\/",276],["T_WHITESPACE","\n            ",278],["T_COMMENT","#require_once 'Zend\/Service\/Exception.php';\n",279],["T_WHITESPACE","            ",280],["T_THROW","throw",280],["T_WHITESPACE"," ",280],["T_NEW","new",280],["T_WHITESPACE"," ",280],["T_STRING","Zend_Service_Exception",280],"(",["T_CONSTANT_ENCAPSED_STRING","'An error occurred sending request. Status code: '",280],["T_WHITESPACE","\n                                           ",280],".",["T_WHITESPACE"," ",281],["T_VARIABLE","$response",281],["T_OBJECT_OPERATOR","->",281],["T_STRING","getStatus",281],"(",")",")",";",["T_WHITESPACE","\n        ",281],"}",["T_WHITESPACE","\n\n        ",282],["T_VARIABLE","$dom",284],["T_WHITESPACE"," ",284],"=",["T_WHITESPACE"," ",284],["T_NEW","new",284],["T_WHITESPACE"," ",284],["T_STRING","DOMDocument",284],"(",")",";",["T_WHITESPACE","\n        ",284],["T_VARIABLE","$dom",285],["T_WHITESPACE"," ",285],"=",["T_WHITESPACE"," ",285],["T_STRING","Zend_Xml_Security",285],["T_DOUBLE_COLON","::",285],["T_STRING","scan",285],"(",["T_VARIABLE","$response",285],["T_OBJECT_OPERATOR","->",285],["T_STRING","getBody",285],"(",")",",",["T_WHITESPACE"," ",285],["T_VARIABLE","$dom",285],")",";",["T_WHITESPACE","\n        ",285],["T_STRING","self",286],["T_DOUBLE_COLON","::",286],["T_STRING","_checkErrors",286],"(",["T_VARIABLE","$dom",286],")",";",["T_WHITESPACE","\n        ",286],["T_VARIABLE","$xpath",287],["T_WHITESPACE"," ",287],"=",["T_WHITESPACE"," ",287],["T_NEW","new",287],["T_WHITESPACE"," ",287],["T_STRING","DOMXPath",287],"(",["T_VARIABLE","$dom",287],")",";",["T_WHITESPACE","\n        ",287],["T_RETURN","return",288],["T_WHITESPACE"," ",288],["T_STRING_CAST","(string)",288],["T_WHITESPACE"," ",288],["T_VARIABLE","$xpath",288],["T_OBJECT_OPERATOR","->",288],["T_STRING","query",288],"(",["T_CONSTANT_ENCAPSED_STRING","'\/\/user'",288],")",["T_OBJECT_OPERATOR","->",288],["T_STRING","item",288],"(",["T_LNUMBER","0",288],")",["T_OBJECT_OPERATOR","->",288],["T_STRING","getAttribute",288],"(",["T_CONSTANT_ENCAPSED_STRING","'id'",288],")",";",["T_WHITESPACE","\n    ",288],"}",["T_WHITESPACE","\n\n\n    ",289],["T_DOC_COMMENT","\/**\n     * Utility function to find Flickr User IDs for emails.\n     *\n     * (You can only find a user's photo with their NSID.)\n     *\n     * @param  string $email the email\n     * @return string the NSID (userid)\n     * @throws Zend_Service_Exception\n     *\/",292],["T_WHITESPACE","\n    ",300],["T_PUBLIC","public",301],["T_WHITESPACE"," ",301],["T_FUNCTION","function",301],["T_WHITESPACE"," ",301],["T_STRING","getIdByEmail",301],"(",["T_VARIABLE","$email",301],")",["T_WHITESPACE","\n    ",301],"{",["T_WHITESPACE","\n        ",302],["T_STATIC","static",303],["T_WHITESPACE"," ",303],["T_VARIABLE","$method",303],["T_WHITESPACE"," ",303],"=",["T_WHITESPACE"," ",303],["T_CONSTANT_ENCAPSED_STRING","'flickr.people.findByEmail'",303],";",["T_WHITESPACE","\n\n        ",303],["T_IF","if",305],["T_WHITESPACE"," ",305],"(",["T_EMPTY","empty",305],"(",["T_VARIABLE","$email",305],")",")",["T_WHITESPACE"," ",305],"{",["T_WHITESPACE","\n            ",305],["T_DOC_COMMENT","\/**\n             * @see Zend_Service_Exception\n             *\/",306],["T_WHITESPACE","\n            ",308],["T_COMMENT","#require_once 'Zend\/Service\/Exception.php';\n",309],["T_WHITESPACE","            ",310],["T_THROW","throw",310],["T_WHITESPACE"," ",310],["T_NEW","new",310],["T_WHITESPACE"," ",310],["T_STRING","Zend_Service_Exception",310],"(",["T_CONSTANT_ENCAPSED_STRING","'You must supply an e-mail address'",310],")",";",["T_WHITESPACE","\n        ",310],"}",["T_WHITESPACE","\n\n        ",311],["T_VARIABLE","$options",313],["T_WHITESPACE"," ",313],"=",["T_WHITESPACE"," ",313],["T_ARRAY","array",313],"(",["T_CONSTANT_ENCAPSED_STRING","'api_key'",313],["T_WHITESPACE"," ",313],["T_DOUBLE_ARROW","=>",313],["T_WHITESPACE"," ",313],["T_VARIABLE","$this",313],["T_OBJECT_OPERATOR","->",313],["T_STRING","apiKey",313],",",["T_WHITESPACE"," ",313],["T_CONSTANT_ENCAPSED_STRING","'method'",313],["T_WHITESPACE"," ",313],["T_DOUBLE_ARROW","=>",313],["T_WHITESPACE"," ",313],["T_VARIABLE","$method",313],",",["T_WHITESPACE"," ",313],["T_CONSTANT_ENCAPSED_STRING","'find_email'",313],["T_WHITESPACE"," ",313],["T_DOUBLE_ARROW","=>",313],["T_WHITESPACE"," ",313],["T_STRING_CAST","(string)",313],["T_WHITESPACE"," ",313],["T_VARIABLE","$email",313],")",";",["T_WHITESPACE","\n\n        ",313],["T_VARIABLE","$restClient",315],["T_WHITESPACE"," ",315],"=",["T_WHITESPACE"," ",315],["T_VARIABLE","$this",315],["T_OBJECT_OPERATOR","->",315],["T_STRING","getRestClient",315],"(",")",";",["T_WHITESPACE","\n        ",315],["T_VARIABLE","$restClient",316],["T_OBJECT_OPERATOR","->",316],["T_STRING","getHttpClient",316],"(",")",["T_OBJECT_OPERATOR","->",316],["T_STRING","resetParameters",316],"(",")",";",["T_WHITESPACE","\n        ",316],["T_VARIABLE","$response",317],["T_WHITESPACE"," ",317],"=",["T_WHITESPACE"," ",317],["T_VARIABLE","$restClient",317],["T_OBJECT_OPERATOR","->",317],["T_STRING","restGet",317],"(",["T_CONSTANT_ENCAPSED_STRING","'\/services\/rest\/'",317],",",["T_WHITESPACE"," ",317],["T_VARIABLE","$options",317],")",";",["T_WHITESPACE","\n\n        ",317],["T_IF","if",319],["T_WHITESPACE"," ",319],"(",["T_VARIABLE","$response",319],["T_OBJECT_OPERATOR","->",319],["T_STRING","isError",319],"(",")",")",["T_WHITESPACE"," ",319],"{",["T_WHITESPACE","\n            ",319],["T_DOC_COMMENT","\/**\n             * @see Zend_Service_Exception\n             *\/",320],["T_WHITESPACE","\n            ",322],["T_COMMENT","#require_once 'Zend\/Service\/Exception.php';\n",323],["T_WHITESPACE","            ",324],["T_THROW","throw",324],["T_WHITESPACE"," ",324],["T_NEW","new",324],["T_WHITESPACE"," ",324],["T_STRING","Zend_Service_Exception",324],"(",["T_CONSTANT_ENCAPSED_STRING","'An error occurred sending request. Status code: '",324],["T_WHITESPACE","\n                                           ",324],".",["T_WHITESPACE"," ",325],["T_VARIABLE","$response",325],["T_OBJECT_OPERATOR","->",325],["T_STRING","getStatus",325],"(",")",")",";",["T_WHITESPACE","\n        ",325],"}",["T_WHITESPACE","\n\n        ",326],["T_VARIABLE","$dom",328],["T_WHITESPACE"," ",328],"=",["T_WHITESPACE"," ",328],["T_NEW","new",328],["T_WHITESPACE"," ",328],["T_STRING","DOMDocument",328],"(",")",";",["T_WHITESPACE","\n        ",328],["T_VARIABLE","$dom",329],["T_WHITESPACE"," ",329],"=",["T_WHITESPACE"," ",329],["T_STRING","Zend_Xml_Security",329],["T_DOUBLE_COLON","::",329],["T_STRING","scan",329],"(",["T_VARIABLE","$response",329],["T_OBJECT_OPERATOR","->",329],["T_STRING","getBody",329],"(",")",",",["T_WHITESPACE"," ",329],["T_VARIABLE","$dom",329],")",";",["T_WHITESPACE","\n        ",329],["T_STRING","self",330],["T_DOUBLE_COLON","::",330],["T_STRING","_checkErrors",330],"(",["T_VARIABLE","$dom",330],")",";",["T_WHITESPACE","\n        ",330],["T_VARIABLE","$xpath",331],["T_WHITESPACE"," ",331],"=",["T_WHITESPACE"," ",331],["T_NEW","new",331],["T_WHITESPACE"," ",331],["T_STRING","DOMXPath",331],"(",["T_VARIABLE","$dom",331],")",";",["T_WHITESPACE","\n        ",331],["T_RETURN","return",332],["T_WHITESPACE"," ",332],["T_STRING_CAST","(string)",332],["T_WHITESPACE"," ",332],["T_VARIABLE","$xpath",332],["T_OBJECT_OPERATOR","->",332],["T_STRING","query",332],"(",["T_CONSTANT_ENCAPSED_STRING","'\/\/user'",332],")",["T_OBJECT_OPERATOR","->",332],["T_STRING","item",332],"(",["T_LNUMBER","0",332],")",["T_OBJECT_OPERATOR","->",332],["T_STRING","getAttribute",332],"(",["T_CONSTANT_ENCAPSED_STRING","'id'",332],")",";",["T_WHITESPACE","\n    ",332],"}",["T_WHITESPACE","\n\n\n    ",333],["T_DOC_COMMENT","\/**\n     * Returns Flickr photo details by for the given photo ID\n     *\n     * @param  string $id the NSID\n     * @return array of Zend_Service_Flickr_Image, details for the specified image\n     * @throws Zend_Service_Exception\n     *\/",336],["T_WHITESPACE","\n    ",342],["T_PUBLIC","public",343],["T_WHITESPACE"," ",343],["T_FUNCTION","function",343],["T_WHITESPACE"," ",343],["T_STRING","getImageDetails",343],"(",["T_VARIABLE","$id",343],")",["T_WHITESPACE","\n    ",343],"{",["T_WHITESPACE","\n        ",344],["T_STATIC","static",345],["T_WHITESPACE"," ",345],["T_VARIABLE","$method",345],["T_WHITESPACE"," ",345],"=",["T_WHITESPACE"," ",345],["T_CONSTANT_ENCAPSED_STRING","'flickr.photos.getSizes'",345],";",["T_WHITESPACE","\n\n        ",345],["T_IF","if",347],["T_WHITESPACE"," ",347],"(",["T_EMPTY","empty",347],"(",["T_VARIABLE","$id",347],")",")",["T_WHITESPACE"," ",347],"{",["T_WHITESPACE","\n            ",347],["T_DOC_COMMENT","\/**\n             * @see Zend_Service_Exception\n             *\/",348],["T_WHITESPACE","\n            ",350],["T_COMMENT","#require_once 'Zend\/Service\/Exception.php';\n",351],["T_WHITESPACE","            ",352],["T_THROW","throw",352],["T_WHITESPACE"," ",352],["T_NEW","new",352],["T_WHITESPACE"," ",352],["T_STRING","Zend_Service_Exception",352],"(",["T_CONSTANT_ENCAPSED_STRING","'You must supply a photo ID'",352],")",";",["T_WHITESPACE","\n        ",352],"}",["T_WHITESPACE","\n\n        ",353],["T_VARIABLE","$options",355],["T_WHITESPACE"," ",355],"=",["T_WHITESPACE"," ",355],["T_ARRAY","array",355],"(",["T_CONSTANT_ENCAPSED_STRING","'api_key'",355],["T_WHITESPACE"," ",355],["T_DOUBLE_ARROW","=>",355],["T_WHITESPACE"," ",355],["T_VARIABLE","$this",355],["T_OBJECT_OPERATOR","->",355],["T_STRING","apiKey",355],",",["T_WHITESPACE"," ",355],["T_CONSTANT_ENCAPSED_STRING","'method'",355],["T_WHITESPACE"," ",355],["T_DOUBLE_ARROW","=>",355],["T_WHITESPACE"," ",355],["T_VARIABLE","$method",355],",",["T_WHITESPACE"," ",355],["T_CONSTANT_ENCAPSED_STRING","'photo_id'",355],["T_WHITESPACE"," ",355],["T_DOUBLE_ARROW","=>",355],["T_WHITESPACE"," ",355],["T_VARIABLE","$id",355],")",";",["T_WHITESPACE","\n\n        ",355],["T_VARIABLE","$restClient",357],["T_WHITESPACE"," ",357],"=",["T_WHITESPACE"," ",357],["T_VARIABLE","$this",357],["T_OBJECT_OPERATOR","->",357],["T_STRING","getRestClient",357],"(",")",";",["T_WHITESPACE","\n        ",357],["T_VARIABLE","$restClient",358],["T_OBJECT_OPERATOR","->",358],["T_STRING","getHttpClient",358],"(",")",["T_OBJECT_OPERATOR","->",358],["T_STRING","resetParameters",358],"(",")",";",["T_WHITESPACE","\n        ",358],["T_VARIABLE","$response",359],["T_WHITESPACE"," ",359],"=",["T_WHITESPACE"," ",359],["T_VARIABLE","$restClient",359],["T_OBJECT_OPERATOR","->",359],["T_STRING","restGet",359],"(",["T_CONSTANT_ENCAPSED_STRING","'\/services\/rest\/'",359],",",["T_WHITESPACE"," ",359],["T_VARIABLE","$options",359],")",";",["T_WHITESPACE","\n\n        ",359],["T_VARIABLE","$dom",361],["T_WHITESPACE"," ",361],"=",["T_WHITESPACE"," ",361],["T_NEW","new",361],["T_WHITESPACE"," ",361],["T_STRING","DOMDocument",361],"(",")",";",["T_WHITESPACE","\n        ",361],["T_VARIABLE","$dom",362],["T_WHITESPACE"," ",362],"=",["T_WHITESPACE"," ",362],["T_STRING","Zend_Xml_Security",362],["T_DOUBLE_COLON","::",362],["T_STRING","scan",362],"(",["T_VARIABLE","$response",362],["T_OBJECT_OPERATOR","->",362],["T_STRING","getBody",362],"(",")",",",["T_WHITESPACE"," ",362],["T_VARIABLE","$dom",362],")",";",["T_WHITESPACE","\n        ",362],["T_VARIABLE","$xpath",363],["T_WHITESPACE"," ",363],"=",["T_WHITESPACE"," ",363],["T_NEW","new",363],["T_WHITESPACE"," ",363],["T_STRING","DOMXPath",363],"(",["T_VARIABLE","$dom",363],")",";",["T_WHITESPACE","\n        ",363],["T_STRING","self",364],["T_DOUBLE_COLON","::",364],["T_STRING","_checkErrors",364],"(",["T_VARIABLE","$dom",364],")",";",["T_WHITESPACE","\n        ",364],["T_VARIABLE","$retval",365],["T_WHITESPACE"," ",365],"=",["T_WHITESPACE"," ",365],["T_ARRAY","array",365],"(",")",";",["T_WHITESPACE","\n        ",365],["T_DOC_COMMENT","\/**\n         * @see Zend_Service_Flickr_Image\n         *\/",366],["T_WHITESPACE","\n        ",368],["T_COMMENT","#require_once 'Zend\/Service\/Flickr\/Image.php';\n",369],["T_WHITESPACE","        ",370],["T_FOREACH","foreach",370],["T_WHITESPACE"," ",370],"(",["T_VARIABLE","$xpath",370],["T_OBJECT_OPERATOR","->",370],["T_STRING","query",370],"(",["T_CONSTANT_ENCAPSED_STRING","'\/\/size'",370],")",["T_WHITESPACE"," ",370],["T_AS","as",370],["T_WHITESPACE"," ",370],["T_VARIABLE","$size",370],")",["T_WHITESPACE"," ",370],"{",["T_WHITESPACE","\n            ",370],["T_VARIABLE","$label",371],["T_WHITESPACE"," ",371],"=",["T_WHITESPACE"," ",371],["T_STRING_CAST","(string)",371],["T_WHITESPACE"," ",371],["T_VARIABLE","$size",371],["T_OBJECT_OPERATOR","->",371],["T_STRING","getAttribute",371],"(",["T_CONSTANT_ENCAPSED_STRING","'label'",371],")",";",["T_WHITESPACE","\n            ",371],["T_VARIABLE","$retval",372],"[",["T_VARIABLE","$label",372],"]",["T_WHITESPACE"," ",372],"=",["T_WHITESPACE"," ",372],["T_NEW","new",372],["T_WHITESPACE"," ",372],["T_STRING","Zend_Service_Flickr_Image",372],"(",["T_VARIABLE","$size",372],")",";",["T_WHITESPACE","\n        ",372],"}",["T_WHITESPACE","\n\n        ",373],["T_RETURN","return",375],["T_WHITESPACE"," ",375],["T_VARIABLE","$retval",375],";",["T_WHITESPACE","\n    ",375],"}",["T_WHITESPACE","\n\n\n    ",376],["T_DOC_COMMENT","\/**\n     * Returns a reference to the REST client, instantiating it if necessary\n     *\n     * @return Zend_Rest_Client\n     *\/",379],["T_WHITESPACE","\n    ",383],["T_PUBLIC","public",384],["T_WHITESPACE"," ",384],["T_FUNCTION","function",384],["T_WHITESPACE"," ",384],["T_STRING","getRestClient",384],"(",")",["T_WHITESPACE","\n    ",384],"{",["T_WHITESPACE","\n        ",385],["T_IF","if",386],["T_WHITESPACE"," ",386],"(",["T_STRING","null",386],["T_WHITESPACE"," ",386],["T_IS_IDENTICAL","===",386],["T_WHITESPACE"," ",386],["T_VARIABLE","$this",386],["T_OBJECT_OPERATOR","->",386],["T_STRING","_restClient",386],")",["T_WHITESPACE"," ",386],"{",["T_WHITESPACE","\n            ",386],["T_DOC_COMMENT","\/**\n             * @see Zend_Rest_Client\n             *\/",387],["T_WHITESPACE","\n            ",389],["T_COMMENT","#require_once 'Zend\/Rest\/Client.php';\n",390],["T_WHITESPACE","            ",391],["T_VARIABLE","$this",391],["T_OBJECT_OPERATOR","->",391],["T_STRING","_restClient",391],["T_WHITESPACE"," ",391],"=",["T_WHITESPACE"," ",391],["T_NEW","new",391],["T_WHITESPACE"," ",391],["T_STRING","Zend_Rest_Client",391],"(",["T_STRING","self",391],["T_DOUBLE_COLON","::",391],["T_STRING","URI_BASE",391],")",";",["T_WHITESPACE","\n        ",391],"}",["T_WHITESPACE","\n\n        ",392],["T_RETURN","return",394],["T_WHITESPACE"," ",394],["T_VARIABLE","$this",394],["T_OBJECT_OPERATOR","->",394],["T_STRING","_restClient",394],";",["T_WHITESPACE","\n    ",394],"}",["T_WHITESPACE","\n\n\n    ",395],["T_DOC_COMMENT","\/**\n     * Validate User Search Options\n     *\n     * @param  array $options\n     * @return void\n     * @throws Zend_Service_Exception\n     *\/",398],["T_WHITESPACE","\n    ",404],["T_PROTECTED","protected",405],["T_WHITESPACE"," ",405],["T_FUNCTION","function",405],["T_WHITESPACE"," ",405],["T_STRING","_validateUserSearch",405],"(",["T_ARRAY","array",405],["T_WHITESPACE"," ",405],["T_VARIABLE","$options",405],")",["T_WHITESPACE","\n    ",405],"{",["T_WHITESPACE","\n        ",406],["T_VARIABLE","$validOptions",407],["T_WHITESPACE"," ",407],"=",["T_WHITESPACE"," ",407],["T_ARRAY","array",407],"(",["T_CONSTANT_ENCAPSED_STRING","'api_key'",407],",",["T_WHITESPACE"," ",407],["T_CONSTANT_ENCAPSED_STRING","'method'",407],",",["T_WHITESPACE"," ",407],["T_CONSTANT_ENCAPSED_STRING","'user_id'",407],",",["T_WHITESPACE"," ",407],["T_CONSTANT_ENCAPSED_STRING","'per_page'",407],",",["T_WHITESPACE"," ",407],["T_CONSTANT_ENCAPSED_STRING","'page'",407],",",["T_WHITESPACE"," ",407],["T_CONSTANT_ENCAPSED_STRING","'extras'",407],",",["T_WHITESPACE"," ",407],["T_CONSTANT_ENCAPSED_STRING","'min_upload_date'",407],",",["T_WHITESPACE","\n                              ",407],["T_CONSTANT_ENCAPSED_STRING","'min_taken_date'",408],",",["T_WHITESPACE"," ",408],["T_CONSTANT_ENCAPSED_STRING","'max_upload_date'",408],",",["T_WHITESPACE"," ",408],["T_CONSTANT_ENCAPSED_STRING","'max_taken_date'",408],",",["T_WHITESPACE"," ",408],["T_CONSTANT_ENCAPSED_STRING","'safe_search'",408],")",";",["T_WHITESPACE","\n\n        ",408],["T_VARIABLE","$this",410],["T_OBJECT_OPERATOR","->",410],["T_STRING","_compareOptions",410],"(",["T_VARIABLE","$options",410],",",["T_WHITESPACE"," ",410],["T_VARIABLE","$validOptions",410],")",";",["T_WHITESPACE","\n\n        ",410],["T_DOC_COMMENT","\/**\n         * @see Zend_Validate_Between\n         *\/",412],["T_WHITESPACE","\n        ",414],["T_COMMENT","#require_once 'Zend\/Validate\/Between.php';\n",415],["T_WHITESPACE","        ",416],["T_VARIABLE","$between",416],["T_WHITESPACE"," ",416],"=",["T_WHITESPACE"," ",416],["T_NEW","new",416],["T_WHITESPACE"," ",416],["T_STRING","Zend_Validate_Between",416],"(",["T_LNUMBER","1",416],",",["T_WHITESPACE"," ",416],["T_LNUMBER","500",416],",",["T_WHITESPACE"," ",416],["T_STRING","true",416],")",";",["T_WHITESPACE","\n        ",416],["T_IF","if",417],["T_WHITESPACE"," ",417],"(","!",["T_VARIABLE","$between",417],["T_OBJECT_OPERATOR","->",417],["T_STRING","isValid",417],"(",["T_VARIABLE","$options",417],"[",["T_CONSTANT_ENCAPSED_STRING","'per_page'",417],"]",")",")",["T_WHITESPACE"," ",417],"{",["T_WHITESPACE","\n            ",417],["T_DOC_COMMENT","\/**\n             * @see Zend_Service_Exception\n             *\/",418],["T_WHITESPACE","\n            ",420],["T_COMMENT","#require_once 'Zend\/Service\/Exception.php';\n",421],["T_WHITESPACE","            ",422],["T_THROW","throw",422],["T_WHITESPACE"," ",422],["T_NEW","new",422],["T_WHITESPACE"," ",422],["T_STRING","Zend_Service_Exception",422],"(",["T_VARIABLE","$options",422],"[",["T_CONSTANT_ENCAPSED_STRING","'per_page'",422],"]",["T_WHITESPACE"," ",422],".",["T_WHITESPACE"," ",422],["T_CONSTANT_ENCAPSED_STRING","' is not valid for the \"per_page\" option'",422],")",";",["T_WHITESPACE","\n        ",422],"}",["T_WHITESPACE","\n\n        ",423],["T_DOC_COMMENT","\/**\n         * @see Zend_Validate_Int\n         *\/",425],["T_WHITESPACE","\n        ",427],["T_COMMENT","#require_once 'Zend\/Validate\/Int.php';\n",428],["T_WHITESPACE","        ",429],["T_VARIABLE","$int",429],["T_WHITESPACE"," ",429],"=",["T_WHITESPACE"," ",429],["T_NEW","new",429],["T_WHITESPACE"," ",429],["T_STRING","Zend_Validate_Int",429],"(",")",";",["T_WHITESPACE","\n        ",429],["T_IF","if",430],["T_WHITESPACE"," ",430],"(","!",["T_VARIABLE","$int",430],["T_OBJECT_OPERATOR","->",430],["T_STRING","isValid",430],"(",["T_VARIABLE","$options",430],"[",["T_CONSTANT_ENCAPSED_STRING","'page'",430],"]",")",")",["T_WHITESPACE"," ",430],"{",["T_WHITESPACE","\n            ",430],["T_DOC_COMMENT","\/**\n             * @see Zend_Service_Exception\n             *\/",431],["T_WHITESPACE","\n            ",433],["T_COMMENT","#require_once 'Zend\/Service\/Exception.php';\n",434],["T_WHITESPACE","            ",435],["T_THROW","throw",435],["T_WHITESPACE"," ",435],["T_NEW","new",435],["T_WHITESPACE"," ",435],["T_STRING","Zend_Service_Exception",435],"(",["T_VARIABLE","$options",435],"[",["T_CONSTANT_ENCAPSED_STRING","'page'",435],"]",["T_WHITESPACE"," ",435],".",["T_WHITESPACE"," ",435],["T_CONSTANT_ENCAPSED_STRING","' is not valid for the \"page\" option'",435],")",";",["T_WHITESPACE","\n        ",435],"}",["T_WHITESPACE","\n\n        ",436],["T_COMMENT","\/\/ validate extras, which are delivered in csv format\n",438],["T_WHITESPACE","        ",439],["T_IF","if",439],["T_WHITESPACE"," ",439],"(",["T_VARIABLE","$options",439],"[",["T_CONSTANT_ENCAPSED_STRING","'extras'",439],"]",")",["T_WHITESPACE"," ",439],"{",["T_WHITESPACE","\n            ",439],["T_VARIABLE","$extras",440],["T_WHITESPACE"," ",440],"=",["T_WHITESPACE"," ",440],["T_STRING","explode",440],"(",["T_CONSTANT_ENCAPSED_STRING","','",440],",",["T_WHITESPACE"," ",440],["T_VARIABLE","$options",440],"[",["T_CONSTANT_ENCAPSED_STRING","'extras'",440],"]",")",";",["T_WHITESPACE","\n            ",440],["T_VARIABLE","$validExtras",441],["T_WHITESPACE"," ",441],"=",["T_WHITESPACE"," ",441],["T_ARRAY","array",441],"(",["T_CONSTANT_ENCAPSED_STRING","'license'",441],",",["T_WHITESPACE"," ",441],["T_CONSTANT_ENCAPSED_STRING","'date_upload'",441],",",["T_WHITESPACE"," ",441],["T_CONSTANT_ENCAPSED_STRING","'date_taken'",441],",",["T_WHITESPACE"," ",441],["T_CONSTANT_ENCAPSED_STRING","'owner_name'",441],",",["T_WHITESPACE"," ",441],["T_CONSTANT_ENCAPSED_STRING","'icon_server'",441],")",";",["T_WHITESPACE","\n            ",441],["T_FOREACH","foreach",442],"(",["T_VARIABLE","$extras",442],["T_WHITESPACE"," ",442],["T_AS","as",442],["T_WHITESPACE"," ",442],["T_VARIABLE","$extra",442],")",["T_WHITESPACE"," ",442],"{",["T_WHITESPACE","\n                ",442],["T_DOC_COMMENT","\/**\n                 * @todo The following does not do anything [yet], so it is commented out.\n                 *\/",443],["T_WHITESPACE","\n                ",445],["T_COMMENT","\/\/in_array(trim($extra), $validExtras);\n",446],["T_WHITESPACE","            ",447],"}",["T_WHITESPACE","\n        ",447],"}",["T_WHITESPACE","\n    ",448],"}",["T_WHITESPACE","\n\n\n    ",449],["T_DOC_COMMENT","\/**\n     * Validate Tag Search Options\n     *\n     * @param  array $options\n     * @return void\n     * @throws Zend_Service_Exception\n     *\/",452],["T_WHITESPACE","\n    ",458],["T_PROTECTED","protected",459],["T_WHITESPACE"," ",459],["T_FUNCTION","function",459],["T_WHITESPACE"," ",459],["T_STRING","_validateTagSearch",459],"(",["T_ARRAY","array",459],["T_WHITESPACE"," ",459],["T_VARIABLE","$options",459],")",["T_WHITESPACE","\n    ",459],"{",["T_WHITESPACE","\n        ",460],["T_VARIABLE","$validOptions",461],["T_WHITESPACE"," ",461],"=",["T_WHITESPACE"," ",461],["T_ARRAY","array",461],"(",["T_CONSTANT_ENCAPSED_STRING","'method'",461],",",["T_WHITESPACE"," ",461],["T_CONSTANT_ENCAPSED_STRING","'api_key'",461],",",["T_WHITESPACE"," ",461],["T_CONSTANT_ENCAPSED_STRING","'user_id'",461],",",["T_WHITESPACE"," ",461],["T_CONSTANT_ENCAPSED_STRING","'tags'",461],",",["T_WHITESPACE"," ",461],["T_CONSTANT_ENCAPSED_STRING","'tag_mode'",461],",",["T_WHITESPACE"," ",461],["T_CONSTANT_ENCAPSED_STRING","'text'",461],",",["T_WHITESPACE"," ",461],["T_CONSTANT_ENCAPSED_STRING","'min_upload_date'",461],",",["T_WHITESPACE","\n                              ",461],["T_CONSTANT_ENCAPSED_STRING","'max_upload_date'",462],",",["T_WHITESPACE"," ",462],["T_CONSTANT_ENCAPSED_STRING","'min_taken_date'",462],",",["T_WHITESPACE"," ",462],["T_CONSTANT_ENCAPSED_STRING","'max_taken_date'",462],",",["T_WHITESPACE"," ",462],["T_CONSTANT_ENCAPSED_STRING","'license'",462],",",["T_WHITESPACE"," ",462],["T_CONSTANT_ENCAPSED_STRING","'sort'",462],",",["T_WHITESPACE","\n                              ",462],["T_CONSTANT_ENCAPSED_STRING","'privacy_filter'",463],",",["T_WHITESPACE"," ",463],["T_CONSTANT_ENCAPSED_STRING","'bbox'",463],",",["T_WHITESPACE"," ",463],["T_CONSTANT_ENCAPSED_STRING","'accuracy'",463],",",["T_WHITESPACE"," ",463],["T_CONSTANT_ENCAPSED_STRING","'safe_search'",463],",",["T_WHITESPACE"," ",463],["T_CONSTANT_ENCAPSED_STRING","'content_type'",463],",",["T_WHITESPACE"," ",463],["T_CONSTANT_ENCAPSED_STRING","'machine_tags'",463],",",["T_WHITESPACE","\n                              ",463],["T_CONSTANT_ENCAPSED_STRING","'machine_tag_mode'",464],",",["T_WHITESPACE"," ",464],["T_CONSTANT_ENCAPSED_STRING","'group_id'",464],",",["T_WHITESPACE"," ",464],["T_CONSTANT_ENCAPSED_STRING","'contacts'",464],",",["T_WHITESPACE"," ",464],["T_CONSTANT_ENCAPSED_STRING","'woe_id'",464],",",["T_WHITESPACE"," ",464],["T_CONSTANT_ENCAPSED_STRING","'place_id'",464],",",["T_WHITESPACE"," ",464],["T_CONSTANT_ENCAPSED_STRING","'media'",464],",",["T_WHITESPACE"," ",464],["T_CONSTANT_ENCAPSED_STRING","'has_geo'",464],",",["T_WHITESPACE","\n                              ",464],["T_CONSTANT_ENCAPSED_STRING","'geo_context'",465],",",["T_WHITESPACE"," ",465],["T_CONSTANT_ENCAPSED_STRING","'lat'",465],",",["T_WHITESPACE"," ",465],["T_CONSTANT_ENCAPSED_STRING","'lon'",465],",",["T_WHITESPACE"," ",465],["T_CONSTANT_ENCAPSED_STRING","'radius'",465],",",["T_WHITESPACE"," ",465],["T_CONSTANT_ENCAPSED_STRING","'radius_units'",465],",",["T_WHITESPACE"," ",465],["T_CONSTANT_ENCAPSED_STRING","'is_commons'",465],",",["T_WHITESPACE"," ",465],["T_CONSTANT_ENCAPSED_STRING","'is_gallery'",465],",",["T_WHITESPACE","\n                              ",465],["T_CONSTANT_ENCAPSED_STRING","'extras'",466],",",["T_WHITESPACE"," ",466],["T_CONSTANT_ENCAPSED_STRING","'per_page'",466],",",["T_WHITESPACE"," ",466],["T_CONSTANT_ENCAPSED_STRING","'page'",466],")",";",["T_WHITESPACE","\n\n        ",466],["T_VARIABLE","$this",468],["T_OBJECT_OPERATOR","->",468],["T_STRING","_compareOptions",468],"(",["T_VARIABLE","$options",468],",",["T_WHITESPACE"," ",468],["T_VARIABLE","$validOptions",468],")",";",["T_WHITESPACE","\n\n        ",468],["T_DOC_COMMENT","\/**\n         * @see Zend_Validate_Between\n         *\/",470],["T_WHITESPACE","\n        ",472],["T_COMMENT","#require_once 'Zend\/Validate\/Between.php';\n",473],["T_WHITESPACE","        ",474],["T_VARIABLE","$between",474],["T_WHITESPACE"," ",474],"=",["T_WHITESPACE"," ",474],["T_NEW","new",474],["T_WHITESPACE"," ",474],["T_STRING","Zend_Validate_Between",474],"(",["T_LNUMBER","1",474],",",["T_WHITESPACE"," ",474],["T_LNUMBER","500",474],",",["T_WHITESPACE"," ",474],["T_STRING","true",474],")",";",["T_WHITESPACE","\n        ",474],["T_IF","if",475],["T_WHITESPACE"," ",475],"(","!",["T_VARIABLE","$between",475],["T_OBJECT_OPERATOR","->",475],["T_STRING","isValid",475],"(",["T_VARIABLE","$options",475],"[",["T_CONSTANT_ENCAPSED_STRING","'per_page'",475],"]",")",")",["T_WHITESPACE"," ",475],"{",["T_WHITESPACE","\n            ",475],["T_DOC_COMMENT","\/**\n             * @see Zend_Service_Exception\n             *\/",476],["T_WHITESPACE","\n            ",478],["T_COMMENT","#require_once 'Zend\/Service\/Exception.php';\n",479],["T_WHITESPACE","            ",480],["T_THROW","throw",480],["T_WHITESPACE"," ",480],["T_NEW","new",480],["T_WHITESPACE"," ",480],["T_STRING","Zend_Service_Exception",480],"(",["T_VARIABLE","$options",480],"[",["T_CONSTANT_ENCAPSED_STRING","'per_page'",480],"]",["T_WHITESPACE"," ",480],".",["T_WHITESPACE"," ",480],["T_CONSTANT_ENCAPSED_STRING","' is not valid for the \"per_page\" option'",480],")",";",["T_WHITESPACE","\n        ",480],"}",["T_WHITESPACE","\n\n        ",481],["T_DOC_COMMENT","\/**\n         * @see Zend_Validate_Int\n         *\/",483],["T_WHITESPACE","\n        ",485],["T_COMMENT","#require_once 'Zend\/Validate\/Int.php';\n",486],["T_WHITESPACE","        ",487],["T_VARIABLE","$int",487],["T_WHITESPACE"," ",487],"=",["T_WHITESPACE"," ",487],["T_NEW","new",487],["T_WHITESPACE"," ",487],["T_STRING","Zend_Validate_Int",487],"(",")",";",["T_WHITESPACE","\n        ",487],["T_IF","if",488],["T_WHITESPACE"," ",488],"(","!",["T_VARIABLE","$int",488],["T_OBJECT_OPERATOR","->",488],["T_STRING","isValid",488],"(",["T_VARIABLE","$options",488],"[",["T_CONSTANT_ENCAPSED_STRING","'page'",488],"]",")",")",["T_WHITESPACE"," ",488],"{",["T_WHITESPACE","\n            ",488],["T_DOC_COMMENT","\/**\n             * @see Zend_Service_Exception\n             *\/",489],["T_WHITESPACE","\n            ",491],["T_COMMENT","#require_once 'Zend\/Service\/Exception.php';\n",492],["T_WHITESPACE","            ",493],["T_THROW","throw",493],["T_WHITESPACE"," ",493],["T_NEW","new",493],["T_WHITESPACE"," ",493],["T_STRING","Zend_Service_Exception",493],"(",["T_VARIABLE","$options",493],"[",["T_CONSTANT_ENCAPSED_STRING","'page'",493],"]",["T_WHITESPACE"," ",493],".",["T_WHITESPACE"," ",493],["T_CONSTANT_ENCAPSED_STRING","' is not valid for the \"page\" option'",493],")",";",["T_WHITESPACE","\n        ",493],"}",["T_WHITESPACE","\n\n        ",494],["T_COMMENT","\/\/ validate extras, which are delivered in csv format\n",496],["T_WHITESPACE","        ",497],["T_IF","if",497],["T_WHITESPACE"," ",497],"(",["T_VARIABLE","$options",497],"[",["T_CONSTANT_ENCAPSED_STRING","'extras'",497],"]",")",["T_WHITESPACE"," ",497],"{",["T_WHITESPACE","\n            ",497],["T_VARIABLE","$extras",498],["T_WHITESPACE"," ",498],"=",["T_WHITESPACE"," ",498],["T_STRING","explode",498],"(",["T_CONSTANT_ENCAPSED_STRING","','",498],",",["T_WHITESPACE"," ",498],["T_VARIABLE","$options",498],"[",["T_CONSTANT_ENCAPSED_STRING","'extras'",498],"]",")",";",["T_WHITESPACE","\n            ",498],["T_VARIABLE","$validExtras",499],["T_WHITESPACE"," ",499],"=",["T_WHITESPACE"," ",499],["T_ARRAY","array",499],"(",["T_CONSTANT_ENCAPSED_STRING","'license'",499],",",["T_WHITESPACE"," ",499],["T_CONSTANT_ENCAPSED_STRING","'date_upload'",499],",",["T_WHITESPACE"," ",499],["T_CONSTANT_ENCAPSED_STRING","'date_taken'",499],",",["T_WHITESPACE"," ",499],["T_CONSTANT_ENCAPSED_STRING","'owner_name'",499],",",["T_WHITESPACE"," ",499],["T_CONSTANT_ENCAPSED_STRING","'icon_server'",499],")",";",["T_WHITESPACE","\n            ",499],["T_FOREACH","foreach",500],"(",["T_VARIABLE","$extras",500],["T_WHITESPACE"," ",500],["T_AS","as",500],["T_WHITESPACE"," ",500],["T_VARIABLE","$extra",500],")",["T_WHITESPACE"," ",500],"{",["T_WHITESPACE","\n                ",500],["T_DOC_COMMENT","\/**\n                 * @todo The following does not do anything [yet], so it is commented out.\n                 *\/",501],["T_WHITESPACE","\n                ",503],["T_COMMENT","\/\/in_array(trim($extra), $validExtras);\n",504],["T_WHITESPACE","            ",505],"}",["T_WHITESPACE","\n        ",505],"}",["T_WHITESPACE","\n\n    ",506],"}",["T_WHITESPACE","\n\n\n    ",508],["T_DOC_COMMENT","\/**\n    * Validate Group Search Options\n    *\n    * @param  array $options\n    * @throws Zend_Service_Exception\n    * @return void\n    *\/",511],["T_WHITESPACE","\n    ",517],["T_PROTECTED","protected",518],["T_WHITESPACE"," ",518],["T_FUNCTION","function",518],["T_WHITESPACE"," ",518],["T_STRING","_validateGroupPoolGetPhotos",518],"(",["T_ARRAY","array",518],["T_WHITESPACE"," ",518],["T_VARIABLE","$options",518],")",["T_WHITESPACE","\n    ",518],"{",["T_WHITESPACE","\n        ",519],["T_VARIABLE","$validOptions",520],["T_WHITESPACE"," ",520],"=",["T_WHITESPACE"," ",520],["T_ARRAY","array",520],"(",["T_CONSTANT_ENCAPSED_STRING","'api_key'",520],",",["T_WHITESPACE"," ",520],["T_CONSTANT_ENCAPSED_STRING","'tags'",520],",",["T_WHITESPACE"," ",520],["T_CONSTANT_ENCAPSED_STRING","'method'",520],",",["T_WHITESPACE"," ",520],["T_CONSTANT_ENCAPSED_STRING","'group_id'",520],",",["T_WHITESPACE"," ",520],["T_CONSTANT_ENCAPSED_STRING","'per_page'",520],",",["T_WHITESPACE"," ",520],["T_CONSTANT_ENCAPSED_STRING","'page'",520],",",["T_WHITESPACE"," ",520],["T_CONSTANT_ENCAPSED_STRING","'extras'",520],",",["T_WHITESPACE"," ",520],["T_CONSTANT_ENCAPSED_STRING","'user_id'",520],")",";",["T_WHITESPACE","\n\n        ",520],["T_VARIABLE","$this",522],["T_OBJECT_OPERATOR","->",522],["T_STRING","_compareOptions",522],"(",["T_VARIABLE","$options",522],",",["T_WHITESPACE"," ",522],["T_VARIABLE","$validOptions",522],")",";",["T_WHITESPACE","\n\n        ",522],["T_DOC_COMMENT","\/**\n        * @see Zend_Validate_Between\n        *\/",524],["T_WHITESPACE","\n        ",526],["T_COMMENT","#require_once 'Zend\/Validate\/Between.php';\n",527],["T_WHITESPACE","        ",528],["T_VARIABLE","$between",528],["T_WHITESPACE"," ",528],"=",["T_WHITESPACE"," ",528],["T_NEW","new",528],["T_WHITESPACE"," ",528],["T_STRING","Zend_Validate_Between",528],"(",["T_LNUMBER","1",528],",",["T_WHITESPACE"," ",528],["T_LNUMBER","500",528],",",["T_WHITESPACE"," ",528],["T_STRING","true",528],")",";",["T_WHITESPACE","\n        ",528],["T_IF","if",529],["T_WHITESPACE"," ",529],"(","!",["T_VARIABLE","$between",529],["T_OBJECT_OPERATOR","->",529],["T_STRING","isValid",529],"(",["T_VARIABLE","$options",529],"[",["T_CONSTANT_ENCAPSED_STRING","'per_page'",529],"]",")",")",["T_WHITESPACE"," ",529],"{",["T_WHITESPACE","\n            ",529],["T_DOC_COMMENT","\/**\n            * @see Zend_Service_Exception\n            *\/",530],["T_WHITESPACE","\n            ",532],["T_COMMENT","#require_once 'Zend\/Service\/Exception.php';\n",533],["T_WHITESPACE","            ",534],["T_THROW","throw",534],["T_WHITESPACE"," ",534],["T_NEW","new",534],["T_WHITESPACE"," ",534],["T_STRING","Zend_Service_Exception",534],"(",["T_VARIABLE","$options",534],"[",["T_CONSTANT_ENCAPSED_STRING","'per_page'",534],"]",["T_WHITESPACE"," ",534],".",["T_WHITESPACE"," ",534],["T_CONSTANT_ENCAPSED_STRING","' is not valid for the \"per_page\" option'",534],")",";",["T_WHITESPACE","\n        ",534],"}",["T_WHITESPACE","\n\n        ",535],["T_DOC_COMMENT","\/**\n        * @see Zend_Validate_Int\n        *\/",537],["T_WHITESPACE","\n        ",539],["T_COMMENT","#require_once 'Zend\/Validate\/Int.php';\n",540],["T_WHITESPACE","        ",541],["T_VARIABLE","$int",541],["T_WHITESPACE"," ",541],"=",["T_WHITESPACE"," ",541],["T_NEW","new",541],["T_WHITESPACE"," ",541],["T_STRING","Zend_Validate_Int",541],"(",")",";",["T_WHITESPACE","\n\n        ",541],["T_IF","if",543],["T_WHITESPACE"," ",543],"(","!",["T_VARIABLE","$int",543],["T_OBJECT_OPERATOR","->",543],["T_STRING","isValid",543],"(",["T_VARIABLE","$options",543],"[",["T_CONSTANT_ENCAPSED_STRING","'page'",543],"]",")",")",["T_WHITESPACE"," ",543],"{",["T_WHITESPACE","\n            ",543],["T_DOC_COMMENT","\/**\n            * @see Zend_Service_Exception\n            *\/",544],["T_WHITESPACE","\n            ",546],["T_COMMENT","#require_once 'Zend\/Service\/Exception.php';\n",547],["T_WHITESPACE","            ",548],["T_THROW","throw",548],["T_WHITESPACE"," ",548],["T_NEW","new",548],["T_WHITESPACE"," ",548],["T_STRING","Zend_Service_Exception",548],"(",["T_VARIABLE","$options",548],"[",["T_CONSTANT_ENCAPSED_STRING","'page'",548],"]",["T_WHITESPACE"," ",548],".",["T_WHITESPACE"," ",548],["T_CONSTANT_ENCAPSED_STRING","' is not valid for the \"page\" option'",548],")",";",["T_WHITESPACE","\n        ",548],"}",["T_WHITESPACE","\n\n        ",549],["T_COMMENT","\/\/ validate extras, which are delivered in csv format\n",551],["T_WHITESPACE","        ",552],["T_IF","if",552],["T_WHITESPACE"," ",552],"(",["T_ISSET","isset",552],"(",["T_VARIABLE","$options",552],"[",["T_CONSTANT_ENCAPSED_STRING","'extras'",552],"]",")",")",["T_WHITESPACE"," ",552],"{",["T_WHITESPACE","\n            ",552],["T_VARIABLE","$extras",553],["T_WHITESPACE"," ",553],"=",["T_WHITESPACE"," ",553],["T_STRING","explode",553],"(",["T_CONSTANT_ENCAPSED_STRING","','",553],",",["T_WHITESPACE"," ",553],["T_VARIABLE","$options",553],"[",["T_CONSTANT_ENCAPSED_STRING","'extras'",553],"]",")",";",["T_WHITESPACE","\n            ",553],["T_VARIABLE","$validExtras",554],["T_WHITESPACE"," ",554],"=",["T_WHITESPACE"," ",554],["T_ARRAY","array",554],"(",["T_CONSTANT_ENCAPSED_STRING","'license'",554],",",["T_WHITESPACE"," ",554],["T_CONSTANT_ENCAPSED_STRING","'date_upload'",554],",",["T_WHITESPACE"," ",554],["T_CONSTANT_ENCAPSED_STRING","'date_taken'",554],",",["T_WHITESPACE"," ",554],["T_CONSTANT_ENCAPSED_STRING","'owner_name'",554],",",["T_WHITESPACE"," ",554],["T_CONSTANT_ENCAPSED_STRING","'icon_server'",554],")",";",["T_WHITESPACE","\n            ",554],["T_FOREACH","foreach",555],"(",["T_VARIABLE","$extras",555],["T_WHITESPACE"," ",555],["T_AS","as",555],["T_WHITESPACE"," ",555],["T_VARIABLE","$extra",555],")",["T_WHITESPACE"," ",555],"{",["T_WHITESPACE","\n                ",555],["T_DOC_COMMENT","\/**\n                * @todo The following does not do anything [yet], so it is commented out.\n                *\/",556],["T_WHITESPACE","\n                ",558],["T_COMMENT","\/\/in_array(trim($extra), $validExtras);\n",559],["T_WHITESPACE","            ",560],"}",["T_WHITESPACE","\n        ",560],"}",["T_WHITESPACE","\n    ",561],"}",["T_WHITESPACE","\n\n\n    ",562],["T_DOC_COMMENT","\/**\n     * Throws an exception if and only if the response status indicates a failure\n     *\n     * @param  DOMDocument $dom\n     * @return void\n     * @throws Zend_Service_Exception\n     *\/",565],["T_WHITESPACE","\n    ",571],["T_PROTECTED","protected",572],["T_WHITESPACE"," ",572],["T_STATIC","static",572],["T_WHITESPACE"," ",572],["T_FUNCTION","function",572],["T_WHITESPACE"," ",572],["T_STRING","_checkErrors",572],"(",["T_STRING","DOMDocument",572],["T_WHITESPACE"," ",572],["T_VARIABLE","$dom",572],")",["T_WHITESPACE","\n    ",572],"{",["T_WHITESPACE","\n        ",573],["T_IF","if",574],["T_WHITESPACE"," ",574],"(",["T_VARIABLE","$dom",574],["T_OBJECT_OPERATOR","->",574],["T_STRING","documentElement",574],["T_OBJECT_OPERATOR","->",574],["T_STRING","getAttribute",574],"(",["T_CONSTANT_ENCAPSED_STRING","'stat'",574],")",["T_WHITESPACE"," ",574],["T_IS_IDENTICAL","===",574],["T_WHITESPACE"," ",574],["T_CONSTANT_ENCAPSED_STRING","'fail'",574],")",["T_WHITESPACE"," ",574],"{",["T_WHITESPACE","\n            ",574],["T_VARIABLE","$xpath",575],["T_WHITESPACE"," ",575],"=",["T_WHITESPACE"," ",575],["T_NEW","new",575],["T_WHITESPACE"," ",575],["T_STRING","DOMXPath",575],"(",["T_VARIABLE","$dom",575],")",";",["T_WHITESPACE","\n            ",575],["T_VARIABLE","$err",576],["T_WHITESPACE"," ",576],"=",["T_WHITESPACE"," ",576],["T_VARIABLE","$xpath",576],["T_OBJECT_OPERATOR","->",576],["T_STRING","query",576],"(",["T_CONSTANT_ENCAPSED_STRING","'\/\/err'",576],")",["T_OBJECT_OPERATOR","->",576],["T_STRING","item",576],"(",["T_LNUMBER","0",576],")",";",["T_WHITESPACE","\n            ",576],["T_DOC_COMMENT","\/**\n             * @see Zend_Service_Exception\n             *\/",577],["T_WHITESPACE","\n            ",579],["T_COMMENT","#require_once 'Zend\/Service\/Exception.php';\n",580],["T_WHITESPACE","            ",581],["T_THROW","throw",581],["T_WHITESPACE"," ",581],["T_NEW","new",581],["T_WHITESPACE"," ",581],["T_STRING","Zend_Service_Exception",581],"(",["T_CONSTANT_ENCAPSED_STRING","'Search failed due to error: '",581],["T_WHITESPACE"," ",581],".",["T_WHITESPACE"," ",581],["T_VARIABLE","$err",581],["T_OBJECT_OPERATOR","->",581],["T_STRING","getAttribute",581],"(",["T_CONSTANT_ENCAPSED_STRING","'msg'",581],")",["T_WHITESPACE","\n                                           ",581],".",["T_WHITESPACE"," ",582],["T_CONSTANT_ENCAPSED_STRING","' (error #'",582],["T_WHITESPACE"," ",582],".",["T_WHITESPACE"," ",582],["T_VARIABLE","$err",582],["T_OBJECT_OPERATOR","->",582],["T_STRING","getAttribute",582],"(",["T_CONSTANT_ENCAPSED_STRING","'code'",582],")",["T_WHITESPACE"," ",582],".",["T_WHITESPACE"," ",582],["T_CONSTANT_ENCAPSED_STRING","')'",582],")",";",["T_WHITESPACE","\n        ",582],"}",["T_WHITESPACE","\n    ",583],"}",["T_WHITESPACE","\n\n\n    ",584],["T_DOC_COMMENT","\/**\n     * Prepare options for the request\n     *\n     * @param  string $method         Flickr Method to call\n     * @param  array  $options        User Options\n     * @param  array  $defaultOptions Default Options\n     * @return array Merged array of user and default\/required options\n     *\/",587],["T_WHITESPACE","\n    ",594],["T_PROTECTED","protected",595],["T_WHITESPACE"," ",595],["T_FUNCTION","function",595],["T_WHITESPACE"," ",595],["T_STRING","_prepareOptions",595],"(",["T_VARIABLE","$method",595],",",["T_WHITESPACE"," ",595],["T_ARRAY","array",595],["T_WHITESPACE"," ",595],["T_VARIABLE","$options",595],",",["T_WHITESPACE"," ",595],["T_ARRAY","array",595],["T_WHITESPACE"," ",595],["T_VARIABLE","$defaultOptions",595],")",["T_WHITESPACE","\n    ",595],"{",["T_WHITESPACE","\n        ",596],["T_VARIABLE","$options",597],"[",["T_CONSTANT_ENCAPSED_STRING","'method'",597],"]",["T_WHITESPACE","  ",597],"=",["T_WHITESPACE"," ",597],["T_STRING_CAST","(string)",597],["T_WHITESPACE"," ",597],["T_VARIABLE","$method",597],";",["T_WHITESPACE","\n        ",597],["T_VARIABLE","$options",598],"[",["T_CONSTANT_ENCAPSED_STRING","'api_key'",598],"]",["T_WHITESPACE"," ",598],"=",["T_WHITESPACE"," ",598],["T_VARIABLE","$this",598],["T_OBJECT_OPERATOR","->",598],["T_STRING","apiKey",598],";",["T_WHITESPACE","\n\n        ",598],["T_RETURN","return",600],["T_WHITESPACE"," ",600],["T_STRING","array_merge",600],"(",["T_VARIABLE","$defaultOptions",600],",",["T_WHITESPACE"," ",600],["T_VARIABLE","$options",600],")",";",["T_WHITESPACE","\n    ",600],"}",["T_WHITESPACE","\n\n\n    ",601],["T_DOC_COMMENT","\/**\n     * Throws an exception if and only if any user options are invalid\n     *\n     * @param  array $options      User options\n     * @param  array $validOptions Valid options\n     * @return void\n     * @throws Zend_Service_Exception\n     *\/",604],["T_WHITESPACE","\n    ",611],["T_PROTECTED","protected",612],["T_WHITESPACE"," ",612],["T_FUNCTION","function",612],["T_WHITESPACE"," ",612],["T_STRING","_compareOptions",612],"(",["T_ARRAY","array",612],["T_WHITESPACE"," ",612],["T_VARIABLE","$options",612],",",["T_WHITESPACE"," ",612],["T_ARRAY","array",612],["T_WHITESPACE"," ",612],["T_VARIABLE","$validOptions",612],")",["T_WHITESPACE","\n    ",612],"{",["T_WHITESPACE","\n        ",613],["T_VARIABLE","$difference",614],["T_WHITESPACE"," ",614],"=",["T_WHITESPACE"," ",614],["T_STRING","array_diff",614],"(",["T_STRING","array_keys",614],"(",["T_VARIABLE","$options",614],")",",",["T_WHITESPACE"," ",614],["T_VARIABLE","$validOptions",614],")",";",["T_WHITESPACE","\n        ",614],["T_IF","if",615],["T_WHITESPACE"," ",615],"(",["T_VARIABLE","$difference",615],")",["T_WHITESPACE"," ",615],"{",["T_WHITESPACE","\n            ",615],["T_DOC_COMMENT","\/**\n             * @see Zend_Service_Exception\n             *\/",616],["T_WHITESPACE","\n            ",618],["T_COMMENT","#require_once 'Zend\/Service\/Exception.php';\n",619],["T_WHITESPACE","            ",620],["T_THROW","throw",620],["T_WHITESPACE"," ",620],["T_NEW","new",620],["T_WHITESPACE"," ",620],["T_STRING","Zend_Service_Exception",620],"(",["T_CONSTANT_ENCAPSED_STRING","'The following parameters are invalid: '",620],["T_WHITESPACE"," ",620],".",["T_WHITESPACE"," ",620],["T_STRING","implode",620],"(",["T_CONSTANT_ENCAPSED_STRING","','",620],",",["T_WHITESPACE"," ",620],["T_VARIABLE","$difference",620],")",")",";",["T_WHITESPACE","\n        ",620],"}",["T_WHITESPACE","\n    ",621],"}",["T_WHITESPACE","\n",622],"}",["T_WHITESPACE","\n\n",623]]