[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Zend Framework\n *\n * LICENSE\n *\n * This source file is subject to the new BSD license that is bundled\n * with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/framework.zend.com\/license\/new-bsd\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@zend.com so we can send you a copy immediately.\n *\n * @category   Zend\n * @package    Zend_Service_ShortUrl\n * @copyright  Copyright (c) 2005-2015 Zend Technologies USA Inc. (http:\/\/www.zend.com)\n * @license    http:\/\/framework.zend.com\/license\/new-bsd     New BSD License\n * @version    $Id: $\n *\/",2],["T_WHITESPACE","\n\n",20],["T_DOC_COMMENT","\/**\n * @see Zend_Service_ShortUrl_AbstractShortener\n *\/",22],["T_WHITESPACE","\n",24],["T_COMMENT","#require_once 'Zend\/Service\/ShortUrl\/AbstractShortener.php';\n",25],["T_WHITESPACE","\n",26],["T_DOC_COMMENT","\/**\n * Is.gd API implementation\n *\n * @category   Zend\n * @package    Zend_Service_ShortUrl\n * @copyright  Copyright (c) 2005-2015 Zend Technologies USA Inc. (http:\/\/www.zend.com)\n * @license    http:\/\/framework.zend.com\/license\/new-bsd     New BSD License\n *\/",27],["T_WHITESPACE","\n",34],["T_CLASS","class",35],["T_WHITESPACE"," ",35],["T_STRING","Zend_Service_ShortUrl_IsGd",35],["T_WHITESPACE"," ",35],["T_EXTENDS","extends",35],["T_WHITESPACE"," ",35],["T_STRING","Zend_Service_ShortUrl_AbstractShortener",35],["T_WHITESPACE","\n",35],"{",["T_WHITESPACE","\n    ",36],["T_DOC_COMMENT","\/**\n     * Base URI of the service\n     *\n     * @var string\n     *\/",37],["T_WHITESPACE","\n    ",41],["T_PROTECTED","protected",42],["T_WHITESPACE"," ",42],["T_VARIABLE","$_baseUri",42],["T_WHITESPACE"," ",42],"=",["T_WHITESPACE"," ",42],["T_CONSTANT_ENCAPSED_STRING","'http:\/\/is.gd'",42],";",["T_WHITESPACE","\n\n    ",42],["T_DOC_COMMENT","\/**\n     * This function shortens long url\n     *\n     * @param string $url URL to Shorten\n     * @throws Zend_Service_ShortUrl_Exception When URL is not valid\n     * @return string New URL\n     *\/",44],["T_WHITESPACE","\n    ",50],["T_PUBLIC","public",51],["T_WHITESPACE"," ",51],["T_FUNCTION","function",51],["T_WHITESPACE"," ",51],["T_STRING","shorten",51],"(",["T_VARIABLE","$url",51],")",["T_WHITESPACE","\n    ",51],"{",["T_WHITESPACE","\n        ",52],["T_VARIABLE","$this",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","_validateUri",53],"(",["T_VARIABLE","$url",53],")",";",["T_WHITESPACE","\n\n        ",53],["T_VARIABLE","$serviceUri",55],["T_WHITESPACE"," ",55],"=",["T_WHITESPACE"," ",55],["T_CONSTANT_ENCAPSED_STRING","'http:\/\/is.gd\/api.php'",55],";",["T_WHITESPACE","\n\n        ",55],["T_VARIABLE","$this",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","getHttpClient",57],"(",")",["T_OBJECT_OPERATOR","->",57],["T_STRING","resetParameters",57],"(",["T_STRING","true",57],")",";",["T_WHITESPACE","\n        ",57],["T_VARIABLE","$this",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","getHttpClient",58],"(",")",["T_OBJECT_OPERATOR","->",58],["T_STRING","setUri",58],"(",["T_VARIABLE","$serviceUri",58],")",";",["T_WHITESPACE","\n        ",58],["T_VARIABLE","$this",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","getHttpClient",59],"(",")",["T_OBJECT_OPERATOR","->",59],["T_STRING","setParameterGet",59],"(",["T_CONSTANT_ENCAPSED_STRING","'longurl'",59],",",["T_WHITESPACE"," ",59],["T_VARIABLE","$url",59],")",";",["T_WHITESPACE","\n\n        ",59],["T_VARIABLE","$response",61],["T_WHITESPACE"," ",61],"=",["T_WHITESPACE"," ",61],["T_VARIABLE","$this",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","getHttpClient",61],"(",")",["T_OBJECT_OPERATOR","->",61],["T_STRING","request",61],"(",")",";",["T_WHITESPACE","\n\n        ",61],["T_RETURN","return",63],["T_WHITESPACE"," ",63],["T_VARIABLE","$response",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","getBody",63],"(",")",";",["T_WHITESPACE","\n    ",63],"}",["T_WHITESPACE","\n\n   ",64],["T_DOC_COMMENT","\/**\n     * Reveals target for short URL\n     *\n     * @param string $shortenedUrl URL to reveal target of\n     * @throws Zend_Service_ShortUrl_Exception When URL is not valid or is not shortened by this service\n     * @return string\n     *\/",66],["T_WHITESPACE","\n    ",72],["T_PUBLIC","public",73],["T_WHITESPACE"," ",73],["T_FUNCTION","function",73],["T_WHITESPACE"," ",73],["T_STRING","unshorten",73],"(",["T_VARIABLE","$shortenedUrl",73],")",["T_WHITESPACE","\n    ",73],"{",["T_WHITESPACE","\n        ",74],["T_VARIABLE","$this",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","_validateUri",75],"(",["T_VARIABLE","$shortenedUrl",75],")",";",["T_WHITESPACE","\n\n        ",75],["T_VARIABLE","$this",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","_verifyBaseUri",77],"(",["T_VARIABLE","$shortenedUrl",77],")",";",["T_WHITESPACE","\n\n        ",77],["T_VARIABLE","$this",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","getHttpClient",79],"(",")",["T_OBJECT_OPERATOR","->",79],["T_STRING","resetParameters",79],"(",["T_STRING","true",79],")",";",["T_WHITESPACE","\n        ",79],["T_VARIABLE","$this",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","getHttpClient",80],"(",")",["T_OBJECT_OPERATOR","->",80],["T_STRING","setUri",80],"(",["T_VARIABLE","$shortenedUrl",80],")",";",["T_WHITESPACE","\n        ",80],["T_VARIABLE","$this",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","getHttpClient",81],"(",")",["T_OBJECT_OPERATOR","->",81],["T_STRING","setConfig",81],"(",["T_ARRAY","array",81],"(",["T_CONSTANT_ENCAPSED_STRING","'maxredirects'",81],["T_WHITESPACE"," ",81],["T_DOUBLE_ARROW","=>",81],["T_WHITESPACE"," ",81],["T_LNUMBER","0",81],")",")",";",["T_WHITESPACE","\n\n        ",81],["T_VARIABLE","$response",83],["T_WHITESPACE"," ",83],"=",["T_WHITESPACE"," ",83],["T_VARIABLE","$this",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","getHttpClient",83],"(",")",["T_OBJECT_OPERATOR","->",83],["T_STRING","request",83],"(",")",";",["T_WHITESPACE","\n        ",83],["T_IF","if",84],["T_WHITESPACE"," ",84],"(",["T_VARIABLE","$response",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","isError",84],"(",")",")",["T_WHITESPACE"," ",84],"{",["T_WHITESPACE","\n            ",84],["T_COMMENT","#require_once 'Zend\/Service\/ShortUrl\/Exception.php';\n",85],["T_WHITESPACE","            ",86],["T_THROW","throw",86],["T_WHITESPACE"," ",86],["T_NEW","new",86],["T_WHITESPACE"," ",86],["T_STRING","Zend_Service_ShortUrl_Exception",86],"(",["T_VARIABLE","$response",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","getMessage",86],"(",")",")",";",["T_WHITESPACE","\n        ",86],"}",["T_WHITESPACE","\n\n        ",87],["T_IF","if",89],["T_WHITESPACE"," ",89],"(",["T_VARIABLE","$response",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","isRedirect",89],"(",")",")",["T_WHITESPACE"," ",89],"{",["T_WHITESPACE","\n            ",89],["T_RETURN","return",90],["T_WHITESPACE"," ",90],["T_VARIABLE","$response",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","getHeader",90],"(",["T_CONSTANT_ENCAPSED_STRING","'Location'",90],")",";",["T_WHITESPACE","\n        ",90],"}",["T_WHITESPACE","\n\n        ",91],["T_COMMENT","#require_once 'Zend\/Service\/ShortUrl\/Exception.php';\n",93],["T_WHITESPACE","        ",94],["T_THROW","throw",94],["T_WHITESPACE"," ",94],["T_NEW","new",94],["T_WHITESPACE"," ",94],["T_STRING","Zend_Service_ShortUrl_Exception",94],"(",["T_CONSTANT_ENCAPSED_STRING","'Url unshortening was not successful'",94],")",";",["T_WHITESPACE","\n    ",94],"}",["T_WHITESPACE","\n",95],"}",["T_WHITESPACE","\n",96]]