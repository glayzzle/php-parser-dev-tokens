[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Zend Framework\n *\n * LICENSE\n *\n * This source file is subject to the new BSD license that is bundled\n * with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/framework.zend.com\/license\/new-bsd\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@zend.com so we can send you a copy immediately.\n *\n * @category   Zend\n * @package    Zend_Amf\n * @subpackage Parse_Amf3\n * @copyright  Copyright (c) 2005-2015 Zend Technologies USA Inc. (http:\/\/www.zend.com)\n * @license    http:\/\/framework.zend.com\/license\/new-bsd     New BSD License\n * @version    $Id$\n *\/",2],["T_WHITESPACE","\n\n",21],["T_DOC_COMMENT","\/** Zend_Amf_Parse_Deserializer *\/",23],["T_WHITESPACE","\n",23],["T_COMMENT","#require_once 'Zend\/Amf\/Parse\/Deserializer.php';\n",24],["T_WHITESPACE","\n",25],["T_DOC_COMMENT","\/** Zend_Xml_Security *\/",26],["T_WHITESPACE","\n",26],["T_COMMENT","#require_once 'Zend\/Xml\/Security.php';\n",27],["T_WHITESPACE","\n",28],["T_DOC_COMMENT","\/** Zend_Amf_Parse_TypeLoader *\/",29],["T_WHITESPACE","\n",29],["T_COMMENT","#require_once 'Zend\/Amf\/Parse\/TypeLoader.php';\n",30],["T_WHITESPACE","\n",31],["T_DOC_COMMENT","\/**\n * Read an AMF3 input stream and convert it into PHP data types.\n *\n * @todo       readObject to handle Typed Objects\n * @todo       readXMLStrimg to be implemented.\n * @todo       Class could be implemented as Factory Class with each data type it's own class.\n * @package    Zend_Amf\n * @subpackage Parse_Amf3\n * @copyright  Copyright (c) 2005-2015 Zend Technologies USA Inc. (http:\/\/www.zend.com)\n * @license    http:\/\/framework.zend.com\/license\/new-bsd     New BSD License\n *\/",32],["T_WHITESPACE","\n",42],["T_CLASS","class",43],["T_WHITESPACE"," ",43],["T_STRING","Zend_Amf_Parse_Amf3_Deserializer",43],["T_WHITESPACE"," ",43],["T_EXTENDS","extends",43],["T_WHITESPACE"," ",43],["T_STRING","Zend_Amf_Parse_Deserializer",43],["T_WHITESPACE","\n",43],"{",["T_WHITESPACE","\n    ",44],["T_DOC_COMMENT","\/**\n     * Total number of objects in the referenceObject array\n     * @var int\n     *\/",45],["T_WHITESPACE","\n    ",48],["T_PROTECTED","protected",49],["T_WHITESPACE"," ",49],["T_VARIABLE","$_objectCount",49],";",["T_WHITESPACE","\n\n    ",49],["T_DOC_COMMENT","\/**\n     * An array of reference objects per amf body\n     * @var array\n     *\/",51],["T_WHITESPACE","\n    ",54],["T_PROTECTED","protected",55],["T_WHITESPACE"," ",55],["T_VARIABLE","$_referenceObjects",55],["T_WHITESPACE"," ",55],"=",["T_WHITESPACE"," ",55],["T_ARRAY","array",55],"(",")",";",["T_WHITESPACE","\n\n    ",55],["T_DOC_COMMENT","\/**\n     * An array of reference strings per amf body\n     * @var array\n     *\/",57],["T_WHITESPACE","\n    ",60],["T_PROTECTED","protected",61],["T_WHITESPACE"," ",61],["T_VARIABLE","$_referenceStrings",61],["T_WHITESPACE"," ",61],"=",["T_WHITESPACE"," ",61],["T_ARRAY","array",61],"(",")",";",["T_WHITESPACE","\n\n    ",61],["T_DOC_COMMENT","\/**\n     * An array of reference class definitions per body\n     * @var array\n     *\/",63],["T_WHITESPACE","\n    ",66],["T_PROTECTED","protected",67],["T_WHITESPACE"," ",67],["T_VARIABLE","$_referenceDefinitions",67],["T_WHITESPACE"," ",67],"=",["T_WHITESPACE"," ",67],["T_ARRAY","array",67],"(",")",";",["T_WHITESPACE","\n\n    ",67],["T_DOC_COMMENT","\/**\n     * Read AMF markers and dispatch for deserialization\n     *\n     * Checks for AMF marker types and calls the appropriate methods\n     * for deserializing those marker types. markers are the data type of\n     * the following value.\n     *\n     * @param  integer $typeMarker\n     * @return mixed Whatever the corresponding PHP data type is\n     * @throws Zend_Amf_Exception for unidentified marker type\n     *\/",69],["T_WHITESPACE","\n    ",79],["T_PUBLIC","public",80],["T_WHITESPACE"," ",80],["T_FUNCTION","function",80],["T_WHITESPACE"," ",80],["T_STRING","readTypeMarker",80],"(",["T_VARIABLE","$typeMarker",80],["T_WHITESPACE"," ",80],"=",["T_WHITESPACE"," ",80],["T_STRING","null",80],")",["T_WHITESPACE","\n    ",80],"{",["T_WHITESPACE","\n        ",81],["T_IF","if",82],"(",["T_STRING","null",82],["T_WHITESPACE"," ",82],["T_IS_IDENTICAL","===",82],["T_WHITESPACE"," ",82],["T_VARIABLE","$typeMarker",82],")",["T_WHITESPACE"," ",82],"{",["T_WHITESPACE","\n            ",82],["T_VARIABLE","$typeMarker",83],["T_WHITESPACE"," ",83],"=",["T_WHITESPACE"," ",83],["T_VARIABLE","$this",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","_stream",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","readByte",83],"(",")",";",["T_WHITESPACE","\n        ",83],"}",["T_WHITESPACE","\n\n        ",84],["T_SWITCH","switch",86],"(",["T_VARIABLE","$typeMarker",86],")",["T_WHITESPACE"," ",86],"{",["T_WHITESPACE","\n            ",86],["T_CASE","case",87],["T_WHITESPACE"," ",87],["T_STRING","Zend_Amf_Constants",87],["T_DOUBLE_COLON","::",87],["T_STRING","AMF3_UNDEFINED",87],":",["T_WHITESPACE","\n                 ",87],["T_RETURN","return",88],["T_WHITESPACE"," ",88],["T_STRING","null",88],";",["T_WHITESPACE","\n            ",88],["T_CASE","case",89],["T_WHITESPACE"," ",89],["T_STRING","Zend_Amf_Constants",89],["T_DOUBLE_COLON","::",89],["T_STRING","AMF3_NULL",89],":",["T_WHITESPACE","\n                 ",89],["T_RETURN","return",90],["T_WHITESPACE"," ",90],["T_STRING","null",90],";",["T_WHITESPACE","\n            ",90],["T_CASE","case",91],["T_WHITESPACE"," ",91],["T_STRING","Zend_Amf_Constants",91],["T_DOUBLE_COLON","::",91],["T_STRING","AMF3_BOOLEAN_FALSE",91],":",["T_WHITESPACE","\n                 ",91],["T_RETURN","return",92],["T_WHITESPACE"," ",92],["T_STRING","false",92],";",["T_WHITESPACE","\n            ",92],["T_CASE","case",93],["T_WHITESPACE"," ",93],["T_STRING","Zend_Amf_Constants",93],["T_DOUBLE_COLON","::",93],["T_STRING","AMF3_BOOLEAN_TRUE",93],":",["T_WHITESPACE","\n                 ",93],["T_RETURN","return",94],["T_WHITESPACE"," ",94],["T_STRING","true",94],";",["T_WHITESPACE","\n            ",94],["T_CASE","case",95],["T_WHITESPACE"," ",95],["T_STRING","Zend_Amf_Constants",95],["T_DOUBLE_COLON","::",95],["T_STRING","AMF3_INTEGER",95],":",["T_WHITESPACE","\n                 ",95],["T_RETURN","return",96],["T_WHITESPACE"," ",96],["T_VARIABLE","$this",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","readInteger",96],"(",")",";",["T_WHITESPACE","\n            ",96],["T_CASE","case",97],["T_WHITESPACE"," ",97],["T_STRING","Zend_Amf_Constants",97],["T_DOUBLE_COLON","::",97],["T_STRING","AMF3_NUMBER",97],":",["T_WHITESPACE","\n                 ",97],["T_RETURN","return",98],["T_WHITESPACE"," ",98],["T_VARIABLE","$this",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","_stream",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","readDouble",98],"(",")",";",["T_WHITESPACE","\n            ",98],["T_CASE","case",99],["T_WHITESPACE"," ",99],["T_STRING","Zend_Amf_Constants",99],["T_DOUBLE_COLON","::",99],["T_STRING","AMF3_STRING",99],":",["T_WHITESPACE","\n                 ",99],["T_RETURN","return",100],["T_WHITESPACE"," ",100],["T_VARIABLE","$this",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","readString",100],"(",")",";",["T_WHITESPACE","\n            ",100],["T_CASE","case",101],["T_WHITESPACE"," ",101],["T_STRING","Zend_Amf_Constants",101],["T_DOUBLE_COLON","::",101],["T_STRING","AMF3_DATE",101],":",["T_WHITESPACE","\n                 ",101],["T_RETURN","return",102],["T_WHITESPACE"," ",102],["T_VARIABLE","$this",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","readDate",102],"(",")",";",["T_WHITESPACE","\n            ",102],["T_CASE","case",103],["T_WHITESPACE"," ",103],["T_STRING","Zend_Amf_Constants",103],["T_DOUBLE_COLON","::",103],["T_STRING","AMF3_ARRAY",103],":",["T_WHITESPACE","\n                 ",103],["T_RETURN","return",104],["T_WHITESPACE"," ",104],["T_VARIABLE","$this",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","readArray",104],"(",")",";",["T_WHITESPACE","\n            ",104],["T_CASE","case",105],["T_WHITESPACE"," ",105],["T_STRING","Zend_Amf_Constants",105],["T_DOUBLE_COLON","::",105],["T_STRING","AMF3_OBJECT",105],":",["T_WHITESPACE","\n                 ",105],["T_RETURN","return",106],["T_WHITESPACE"," ",106],["T_VARIABLE","$this",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","readObject",106],"(",")",";",["T_WHITESPACE","\n            ",106],["T_CASE","case",107],["T_WHITESPACE"," ",107],["T_STRING","Zend_Amf_Constants",107],["T_DOUBLE_COLON","::",107],["T_STRING","AMF3_XML",107],":",["T_WHITESPACE","\n            ",107],["T_CASE","case",108],["T_WHITESPACE"," ",108],["T_STRING","Zend_Amf_Constants",108],["T_DOUBLE_COLON","::",108],["T_STRING","AMF3_XMLSTRING",108],":",["T_WHITESPACE","\n                 ",108],["T_RETURN","return",109],["T_WHITESPACE"," ",109],["T_VARIABLE","$this",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","readXmlString",109],"(",")",";",["T_WHITESPACE","\n            ",109],["T_CASE","case",110],["T_WHITESPACE"," ",110],["T_STRING","Zend_Amf_Constants",110],["T_DOUBLE_COLON","::",110],["T_STRING","AMF3_BYTEARRAY",110],":",["T_WHITESPACE","\n                 ",110],["T_RETURN","return",111],["T_WHITESPACE"," ",111],["T_VARIABLE","$this",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","readString",111],"(",")",";",["T_WHITESPACE","\n            ",111],["T_DEFAULT","default",112],":",["T_WHITESPACE","\n                ",112],["T_COMMENT","#require_once 'Zend\/Amf\/Exception.php';\n",113],["T_WHITESPACE","                ",114],["T_THROW","throw",114],["T_WHITESPACE"," ",114],["T_NEW","new",114],["T_WHITESPACE"," ",114],["T_STRING","Zend_Amf_Exception",114],"(",["T_CONSTANT_ENCAPSED_STRING","'Unsupported type marker: '",114],["T_WHITESPACE"," ",114],".",["T_WHITESPACE"," ",114],["T_VARIABLE","$typeMarker",114],")",";",["T_WHITESPACE","\n        ",114],"}",["T_WHITESPACE","\n    ",115],"}",["T_WHITESPACE","\n\n    ",116],["T_DOC_COMMENT","\/**\n     * Read and deserialize an integer\n     *\n     * AMF 3 represents smaller integers with fewer bytes using the most\n     * significant bit of each byte. The worst case uses 32-bits\n     * to represent a 29-bit number, which is what we would have\n     * done with no compression.\n     * - 0x00000000 - 0x0000007F : 0xxxxxxx\n     * - 0x00000080 - 0x00003FFF : 1xxxxxxx 0xxxxxxx\n     * - 0x00004000 - 0x001FFFFF : 1xxxxxxx 1xxxxxxx 0xxxxxxx\n     * - 0x00200000 - 0x3FFFFFFF : 1xxxxxxx 1xxxxxxx 1xxxxxxx xxxxxxxx\n     * - 0x40000000 - 0xFFFFFFFF : throw range exception\n     *\n     * 0x04 -> integer type code, followed by up to 4 bytes of data.\n     *\n     * Parsing integers on OSFlash for the AMF3 integer data format:\n     * @link http:\/\/osflash.org\/amf3\/parsing_integers\n     * @return int|float\n     *\/",118],["T_WHITESPACE","\n    ",136],["T_PUBLIC","public",137],["T_WHITESPACE"," ",137],["T_FUNCTION","function",137],["T_WHITESPACE"," ",137],["T_STRING","readInteger",137],"(",")",["T_WHITESPACE","\n    ",137],"{",["T_WHITESPACE","\n        ",138],["T_VARIABLE","$count",139],["T_WHITESPACE","        ",139],"=",["T_WHITESPACE"," ",139],["T_LNUMBER","1",139],";",["T_WHITESPACE","\n        ",139],["T_VARIABLE","$intReference",140],["T_WHITESPACE"," ",140],"=",["T_WHITESPACE"," ",140],["T_VARIABLE","$this",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","_stream",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","readByte",140],"(",")",";",["T_WHITESPACE","\n        ",140],["T_VARIABLE","$result",141],["T_WHITESPACE","       ",141],"=",["T_WHITESPACE"," ",141],["T_LNUMBER","0",141],";",["T_WHITESPACE","\n        ",141],["T_WHILE","while",142],["T_WHITESPACE"," ",142],"(","(","(",["T_VARIABLE","$intReference",142],["T_WHITESPACE"," ",142],"&",["T_WHITESPACE"," ",142],["T_LNUMBER","0x80",142],")",["T_WHITESPACE"," ",142],["T_IS_NOT_EQUAL","!=",142],["T_WHITESPACE"," ",142],["T_LNUMBER","0",142],")",["T_WHITESPACE"," ",142],["T_BOOLEAN_AND","&&",142],["T_WHITESPACE"," ",142],["T_VARIABLE","$count",142],["T_WHITESPACE"," ",142],"<",["T_WHITESPACE"," ",142],["T_LNUMBER","4",142],")",["T_WHITESPACE"," ",142],"{",["T_WHITESPACE","\n            ",142],["T_VARIABLE","$result",143],["T_WHITESPACE","       ",143],["T_SL_EQUAL","<<=",143],["T_WHITESPACE"," ",143],["T_LNUMBER","7",143],";",["T_WHITESPACE","\n            ",143],["T_VARIABLE","$result",144],["T_WHITESPACE","        ",144],["T_OR_EQUAL","|=",144],["T_WHITESPACE"," ",144],"(",["T_VARIABLE","$intReference",144],["T_WHITESPACE"," ",144],"&",["T_WHITESPACE"," ",144],["T_LNUMBER","0x7f",144],")",";",["T_WHITESPACE","\n            ",144],["T_VARIABLE","$intReference",145],["T_WHITESPACE","   ",145],"=",["T_WHITESPACE"," ",145],["T_VARIABLE","$this",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","_stream",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","readByte",145],"(",")",";",["T_WHITESPACE","\n            ",145],["T_VARIABLE","$count",146],["T_INC","++",146],";",["T_WHITESPACE","\n        ",146],"}",["T_WHITESPACE","\n        ",147],["T_IF","if",148],["T_WHITESPACE"," ",148],"(",["T_VARIABLE","$count",148],["T_WHITESPACE"," ",148],"<",["T_WHITESPACE"," ",148],["T_LNUMBER","4",148],")",["T_WHITESPACE"," ",148],"{",["T_WHITESPACE","\n            ",148],["T_VARIABLE","$result",149],["T_WHITESPACE"," ",149],["T_SL_EQUAL","<<=",149],["T_WHITESPACE"," ",149],["T_LNUMBER","7",149],";",["T_WHITESPACE","\n            ",149],["T_VARIABLE","$result",150],["T_WHITESPACE","  ",150],["T_OR_EQUAL","|=",150],["T_WHITESPACE"," ",150],["T_VARIABLE","$intReference",150],";",["T_WHITESPACE","\n        ",150],"}",["T_WHITESPACE"," ",151],["T_ELSE","else",151],["T_WHITESPACE"," ",151],"{",["T_WHITESPACE","\n            ",151],["T_COMMENT","\/\/ Use all 8 bits from the 4th byte\n",152],["T_WHITESPACE","            ",153],["T_VARIABLE","$result",153],["T_WHITESPACE"," ",153],["T_SL_EQUAL","<<=",153],["T_WHITESPACE"," ",153],["T_LNUMBER","8",153],";",["T_WHITESPACE","\n            ",153],["T_VARIABLE","$result",154],["T_WHITESPACE","  ",154],["T_OR_EQUAL","|=",154],["T_WHITESPACE"," ",154],["T_VARIABLE","$intReference",154],";",["T_WHITESPACE","\n\n            ",154],["T_COMMENT","\/\/ Check if the integer should be negative\n",156],["T_WHITESPACE","            ",157],["T_IF","if",157],["T_WHITESPACE"," ",157],"(","(",["T_VARIABLE","$result",157],["T_WHITESPACE"," ",157],"&",["T_WHITESPACE"," ",157],["T_LNUMBER","0x10000000",157],")",["T_WHITESPACE"," ",157],["T_IS_NOT_EQUAL","!=",157],["T_WHITESPACE"," ",157],["T_LNUMBER","0",157],")",["T_WHITESPACE"," ",157],"{",["T_WHITESPACE","\n                ",157],["T_COMMENT","\/\/and extend the sign bit\n",158],["T_WHITESPACE","                ",159],["T_VARIABLE","$result",159],["T_WHITESPACE"," ",159],["T_OR_EQUAL","|=",159],["T_WHITESPACE"," ",159],"~",["T_LNUMBER","0xFFFFFFF",159],";",["T_WHITESPACE","\n            ",159],"}",["T_WHITESPACE","\n        ",160],"}",["T_WHITESPACE","\n        ",161],["T_RETURN","return",162],["T_WHITESPACE"," ",162],["T_VARIABLE","$result",162],";",["T_WHITESPACE","\n    ",162],"}",["T_WHITESPACE","\n\n    ",163],["T_DOC_COMMENT","\/**\n     * Read and deserialize a string\n     *\n     * Strings can be sent as a reference to a previously\n     * occurring String by using an index to the implicit string reference table.\n     * Strings are encoding using UTF-8 - however the header may either\n     * describe a string literal or a string reference.\n     *\n     * - string = 0x06 string-data\n     * - string-data = integer-data [ modified-utf-8 ]\n     * - modified-utf-8 = *OCTET\n     *\n     * @return String\n     *\/",165],["T_WHITESPACE","\n    ",178],["T_PUBLIC","public",179],["T_WHITESPACE"," ",179],["T_FUNCTION","function",179],["T_WHITESPACE"," ",179],["T_STRING","readString",179],"(",")",["T_WHITESPACE","\n    ",179],"{",["T_WHITESPACE","\n        ",180],["T_VARIABLE","$stringReference",181],["T_WHITESPACE"," ",181],"=",["T_WHITESPACE"," ",181],["T_VARIABLE","$this",181],["T_OBJECT_OPERATOR","->",181],["T_STRING","readInteger",181],"(",")",";",["T_WHITESPACE","\n\n        ",181],["T_COMMENT","\/\/Check if this is a reference string\n",183],["T_WHITESPACE","        ",184],["T_IF","if",184],["T_WHITESPACE"," ",184],"(","(",["T_VARIABLE","$stringReference",184],["T_WHITESPACE"," ",184],"&",["T_WHITESPACE"," ",184],["T_LNUMBER","0x01",184],")",["T_WHITESPACE"," ",184],["T_IS_EQUAL","==",184],["T_WHITESPACE"," ",184],["T_LNUMBER","0",184],")",["T_WHITESPACE"," ",184],"{",["T_WHITESPACE","\n            ",184],["T_COMMENT","\/\/ reference string\n",185],["T_WHITESPACE","            ",186],["T_VARIABLE","$stringReference",186],["T_WHITESPACE"," ",186],"=",["T_WHITESPACE"," ",186],["T_VARIABLE","$stringReference",186],["T_WHITESPACE"," ",186],["T_SR",">>",186],["T_WHITESPACE"," ",186],["T_LNUMBER","1",186],";",["T_WHITESPACE","\n            ",186],["T_IF","if",187],["T_WHITESPACE"," ",187],"(",["T_VARIABLE","$stringReference",187],["T_WHITESPACE"," ",187],["T_IS_GREATER_OR_EQUAL",">=",187],["T_WHITESPACE"," ",187],["T_STRING","count",187],"(",["T_VARIABLE","$this",187],["T_OBJECT_OPERATOR","->",187],["T_STRING","_referenceStrings",187],")",")",["T_WHITESPACE"," ",187],"{",["T_WHITESPACE","\n                ",187],["T_COMMENT","#require_once 'Zend\/Amf\/Exception.php';\n",188],["T_WHITESPACE","                ",189],["T_THROW","throw",189],["T_WHITESPACE"," ",189],["T_NEW","new",189],["T_WHITESPACE"," ",189],["T_STRING","Zend_Amf_Exception",189],"(",["T_CONSTANT_ENCAPSED_STRING","'Undefined string reference: '",189],["T_WHITESPACE"," ",189],".",["T_WHITESPACE"," ",189],["T_VARIABLE","$stringReference",189],")",";",["T_WHITESPACE","\n            ",189],"}",["T_WHITESPACE","\n            ",190],["T_COMMENT","\/\/ reference string found\n",191],["T_WHITESPACE","            ",192],["T_RETURN","return",192],["T_WHITESPACE"," ",192],["T_VARIABLE","$this",192],["T_OBJECT_OPERATOR","->",192],["T_STRING","_referenceStrings",192],"[",["T_VARIABLE","$stringReference",192],"]",";",["T_WHITESPACE","\n        ",192],"}",["T_WHITESPACE","\n\n        ",193],["T_VARIABLE","$length",195],["T_WHITESPACE"," ",195],"=",["T_WHITESPACE"," ",195],["T_VARIABLE","$stringReference",195],["T_WHITESPACE"," ",195],["T_SR",">>",195],["T_WHITESPACE"," ",195],["T_LNUMBER","1",195],";",["T_WHITESPACE","\n        ",195],["T_IF","if",196],["T_WHITESPACE"," ",196],"(",["T_VARIABLE","$length",196],")",["T_WHITESPACE"," ",196],"{",["T_WHITESPACE","\n            ",196],["T_VARIABLE","$string",197],["T_WHITESPACE"," ",197],"=",["T_WHITESPACE"," ",197],["T_VARIABLE","$this",197],["T_OBJECT_OPERATOR","->",197],["T_STRING","_stream",197],["T_OBJECT_OPERATOR","->",197],["T_STRING","readBytes",197],"(",["T_VARIABLE","$length",197],")",";",["T_WHITESPACE","\n            ",197],["T_VARIABLE","$this",198],["T_OBJECT_OPERATOR","->",198],["T_STRING","_referenceStrings",198],"[","]",["T_WHITESPACE"," ",198],"=",["T_WHITESPACE"," ",198],["T_VARIABLE","$string",198],";",["T_WHITESPACE","\n        ",198],"}",["T_WHITESPACE"," ",199],["T_ELSE","else",199],["T_WHITESPACE"," ",199],"{",["T_WHITESPACE","\n            ",199],["T_VARIABLE","$string",200],["T_WHITESPACE"," ",200],"=",["T_WHITESPACE"," ",200],["T_CONSTANT_ENCAPSED_STRING","\"\"",200],";",["T_WHITESPACE","\n        ",200],"}",["T_WHITESPACE","\n        ",201],["T_RETURN","return",202],["T_WHITESPACE"," ",202],["T_VARIABLE","$string",202],";",["T_WHITESPACE","\n    ",202],"}",["T_WHITESPACE","\n\n    ",203],["T_DOC_COMMENT","\/**\n     * Read and deserialize a date\n     *\n     * Data is the number of milliseconds elapsed since the epoch\n     * of midnight, 1st Jan 1970 in the UTC time zone.\n     * Local time zone information is not sent to flash.\n     *\n     * - date = 0x08 integer-data [ number-data ]\n     *\n     * @return Zend_Date\n     *\/",205],["T_WHITESPACE","\n    ",215],["T_PUBLIC","public",216],["T_WHITESPACE"," ",216],["T_FUNCTION","function",216],["T_WHITESPACE"," ",216],["T_STRING","readDate",216],"(",")",["T_WHITESPACE","\n    ",216],"{",["T_WHITESPACE","\n        ",217],["T_VARIABLE","$dateReference",218],["T_WHITESPACE"," ",218],"=",["T_WHITESPACE"," ",218],["T_VARIABLE","$this",218],["T_OBJECT_OPERATOR","->",218],["T_STRING","readInteger",218],"(",")",";",["T_WHITESPACE","\n        ",218],["T_IF","if",219],["T_WHITESPACE"," ",219],"(","(",["T_VARIABLE","$dateReference",219],["T_WHITESPACE"," ",219],"&",["T_WHITESPACE"," ",219],["T_LNUMBER","0x01",219],")",["T_WHITESPACE"," ",219],["T_IS_EQUAL","==",219],["T_WHITESPACE"," ",219],["T_LNUMBER","0",219],")",["T_WHITESPACE"," ",219],"{",["T_WHITESPACE","\n            ",219],["T_VARIABLE","$dateReference",220],["T_WHITESPACE"," ",220],"=",["T_WHITESPACE"," ",220],["T_VARIABLE","$dateReference",220],["T_WHITESPACE"," ",220],["T_SR",">>",220],["T_WHITESPACE"," ",220],["T_LNUMBER","1",220],";",["T_WHITESPACE","\n            ",220],["T_IF","if",221],["T_WHITESPACE"," ",221],"(",["T_VARIABLE","$dateReference",221],["T_IS_GREATER_OR_EQUAL",">=",221],["T_STRING","count",221],"(",["T_VARIABLE","$this",221],["T_OBJECT_OPERATOR","->",221],["T_STRING","_referenceObjects",221],")",")",["T_WHITESPACE"," ",221],"{",["T_WHITESPACE","\n                ",221],["T_COMMENT","#require_once 'Zend\/Amf\/Exception.php';\n",222],["T_WHITESPACE","                ",223],["T_THROW","throw",223],["T_WHITESPACE"," ",223],["T_NEW","new",223],["T_WHITESPACE"," ",223],["T_STRING","Zend_Amf_Exception",223],"(",["T_CONSTANT_ENCAPSED_STRING","'Undefined date reference: '",223],["T_WHITESPACE"," ",223],".",["T_WHITESPACE"," ",223],["T_VARIABLE","$dateReference",223],")",";",["T_WHITESPACE","\n            ",223],"}",["T_WHITESPACE","\n            ",224],["T_RETURN","return",225],["T_WHITESPACE"," ",225],["T_VARIABLE","$this",225],["T_OBJECT_OPERATOR","->",225],["T_STRING","_referenceObjects",225],"[",["T_VARIABLE","$dateReference",225],"]",";",["T_WHITESPACE","\n        ",225],"}",["T_WHITESPACE","\n\n        ",226],["T_VARIABLE","$timestamp",228],["T_WHITESPACE"," ",228],"=",["T_WHITESPACE"," ",228],["T_STRING","floor",228],"(",["T_VARIABLE","$this",228],["T_OBJECT_OPERATOR","->",228],["T_STRING","_stream",228],["T_OBJECT_OPERATOR","->",228],["T_STRING","readDouble",228],"(",")",["T_WHITESPACE"," ",228],"\/",["T_WHITESPACE"," ",228],["T_LNUMBER","1000",228],")",";",["T_WHITESPACE","\n\n        ",228],["T_COMMENT","#require_once 'Zend\/Date.php';\n",230],["T_WHITESPACE","        ",231],["T_VARIABLE","$dateTime",231],["T_WHITESPACE","  ",231],"=",["T_WHITESPACE"," ",231],["T_NEW","new",231],["T_WHITESPACE"," ",231],["T_STRING","Zend_Date",231],"(",["T_VARIABLE","$timestamp",231],")",";",["T_WHITESPACE","\n        ",231],["T_VARIABLE","$this",232],["T_OBJECT_OPERATOR","->",232],["T_STRING","_referenceObjects",232],"[","]",["T_WHITESPACE"," ",232],"=",["T_WHITESPACE"," ",232],["T_VARIABLE","$dateTime",232],";",["T_WHITESPACE","\n        ",232],["T_RETURN","return",233],["T_WHITESPACE"," ",233],["T_VARIABLE","$dateTime",233],";",["T_WHITESPACE","\n    ",233],"}",["T_WHITESPACE","\n\n    ",234],["T_DOC_COMMENT","\/**\n     * Read amf array to PHP array\n     *\n     * - array = 0x09 integer-data ( [ 1OCTET *amf3-data ] | [OCTET *amf3-data 1] | [ OCTET *amf-data ] )\n     *\n     * @return array\n     *\/",236],["T_WHITESPACE","\n    ",242],["T_PUBLIC","public",243],["T_WHITESPACE"," ",243],["T_FUNCTION","function",243],["T_WHITESPACE"," ",243],["T_STRING","readArray",243],"(",")",["T_WHITESPACE","\n    ",243],"{",["T_WHITESPACE","\n        ",244],["T_VARIABLE","$arrayReference",245],["T_WHITESPACE"," ",245],"=",["T_WHITESPACE"," ",245],["T_VARIABLE","$this",245],["T_OBJECT_OPERATOR","->",245],["T_STRING","readInteger",245],"(",")",";",["T_WHITESPACE","\n        ",245],["T_IF","if",246],["T_WHITESPACE"," ",246],"(","(",["T_VARIABLE","$arrayReference",246],["T_WHITESPACE"," ",246],"&",["T_WHITESPACE"," ",246],["T_LNUMBER","0x01",246],")",["T_IS_EQUAL","==",246],["T_LNUMBER","0",246],")","{",["T_WHITESPACE","\n            ",246],["T_VARIABLE","$arrayReference",247],["T_WHITESPACE"," ",247],"=",["T_WHITESPACE"," ",247],["T_VARIABLE","$arrayReference",247],["T_WHITESPACE"," ",247],["T_SR",">>",247],["T_WHITESPACE"," ",247],["T_LNUMBER","1",247],";",["T_WHITESPACE","\n            ",247],["T_IF","if",248],["T_WHITESPACE"," ",248],"(",["T_VARIABLE","$arrayReference",248],["T_IS_GREATER_OR_EQUAL",">=",248],["T_STRING","count",248],"(",["T_VARIABLE","$this",248],["T_OBJECT_OPERATOR","->",248],["T_STRING","_referenceObjects",248],")",")",["T_WHITESPACE"," ",248],"{",["T_WHITESPACE","\n                ",248],["T_COMMENT","#require_once 'Zend\/Amf\/Exception.php';\n",249],["T_WHITESPACE","                ",250],["T_THROW","throw",250],["T_WHITESPACE"," ",250],["T_NEW","new",250],["T_WHITESPACE"," ",250],["T_STRING","Zend_Amf_Exception",250],"(",["T_CONSTANT_ENCAPSED_STRING","'Unknow array reference: '",250],["T_WHITESPACE"," ",250],".",["T_WHITESPACE"," ",250],["T_VARIABLE","$arrayReference",250],")",";",["T_WHITESPACE","\n            ",250],"}",["T_WHITESPACE","\n            ",251],["T_RETURN","return",252],["T_WHITESPACE"," ",252],["T_VARIABLE","$this",252],["T_OBJECT_OPERATOR","->",252],["T_STRING","_referenceObjects",252],"[",["T_VARIABLE","$arrayReference",252],"]",";",["T_WHITESPACE","\n        ",252],"}",["T_WHITESPACE","\n\n        ",253],["T_COMMENT","\/\/ Create a holder for the array in the reference list\n",255],["T_WHITESPACE","        ",256],["T_VARIABLE","$data",256],["T_WHITESPACE"," ",256],"=",["T_WHITESPACE"," ",256],["T_ARRAY","array",256],"(",")",";",["T_WHITESPACE","\n        ",256],["T_VARIABLE","$this",257],["T_OBJECT_OPERATOR","->",257],["T_STRING","_referenceObjects",257],"[","]",["T_WHITESPACE"," ",257],"=","&",["T_WHITESPACE"," ",257],["T_VARIABLE","$data",257],";",["T_WHITESPACE","\n        ",257],["T_VARIABLE","$key",258],["T_WHITESPACE"," ",258],"=",["T_WHITESPACE"," ",258],["T_VARIABLE","$this",258],["T_OBJECT_OPERATOR","->",258],["T_STRING","readString",258],"(",")",";",["T_WHITESPACE","\n\n        ",258],["T_COMMENT","\/\/ Iterating for string based keys.\n",260],["T_WHITESPACE","        ",261],["T_WHILE","while",261],["T_WHITESPACE"," ",261],"(",["T_VARIABLE","$key",261],["T_WHITESPACE"," ",261],["T_IS_NOT_EQUAL","!=",261],["T_WHITESPACE"," ",261],["T_CONSTANT_ENCAPSED_STRING","''",261],")",["T_WHITESPACE"," ",261],"{",["T_WHITESPACE","\n            ",261],["T_VARIABLE","$data",262],"[",["T_VARIABLE","$key",262],"]",["T_WHITESPACE"," ",262],"=",["T_WHITESPACE"," ",262],["T_VARIABLE","$this",262],["T_OBJECT_OPERATOR","->",262],["T_STRING","readTypeMarker",262],"(",")",";",["T_WHITESPACE","\n            ",262],["T_VARIABLE","$key",263],["T_WHITESPACE"," ",263],"=",["T_WHITESPACE"," ",263],["T_VARIABLE","$this",263],["T_OBJECT_OPERATOR","->",263],["T_STRING","readString",263],"(",")",";",["T_WHITESPACE","\n        ",263],"}",["T_WHITESPACE","\n\n        ",264],["T_VARIABLE","$arrayReference",266],["T_WHITESPACE"," ",266],"=",["T_WHITESPACE"," ",266],["T_VARIABLE","$arrayReference",266],["T_WHITESPACE"," ",266],["T_SR",">>",266],["T_LNUMBER","1",266],";",["T_WHITESPACE","\n\n        ",266],["T_COMMENT","\/\/We have a dense array\n",268],["T_WHITESPACE","        ",269],["T_FOR","for",269],["T_WHITESPACE"," ",269],"(",["T_VARIABLE","$i",269],"=",["T_LNUMBER","0",269],";",["T_WHITESPACE"," ",269],["T_VARIABLE","$i",269],["T_WHITESPACE"," ",269],"<",["T_WHITESPACE"," ",269],["T_VARIABLE","$arrayReference",269],";",["T_WHITESPACE"," ",269],["T_VARIABLE","$i",269],["T_INC","++",269],")",["T_WHITESPACE"," ",269],"{",["T_WHITESPACE","\n            ",269],["T_VARIABLE","$data",270],"[","]",["T_WHITESPACE"," ",270],"=",["T_WHITESPACE"," ",270],["T_VARIABLE","$this",270],["T_OBJECT_OPERATOR","->",270],["T_STRING","readTypeMarker",270],"(",")",";",["T_WHITESPACE","\n        ",270],"}",["T_WHITESPACE","\n\n        ",271],["T_RETURN","return",273],["T_WHITESPACE"," ",273],["T_VARIABLE","$data",273],";",["T_WHITESPACE","\n    ",273],"}",["T_WHITESPACE","\n\n    ",274],["T_DOC_COMMENT","\/**\n     * Read an object from the AMF stream and convert it into a PHP object\n     *\n     * @todo   Rather than using an array of traitsInfo create Zend_Amf_Value_TraitsInfo\n     * @return object|array\n     *\/",276],["T_WHITESPACE","\n    ",281],["T_PUBLIC","public",282],["T_WHITESPACE"," ",282],["T_FUNCTION","function",282],["T_WHITESPACE"," ",282],["T_STRING","readObject",282],"(",")",["T_WHITESPACE","\n    ",282],"{",["T_WHITESPACE","\n        ",283],["T_VARIABLE","$traitsInfo",284],["T_WHITESPACE","   ",284],"=",["T_WHITESPACE"," ",284],["T_VARIABLE","$this",284],["T_OBJECT_OPERATOR","->",284],["T_STRING","readInteger",284],"(",")",";",["T_WHITESPACE","\n        ",284],["T_VARIABLE","$storedObject",285],["T_WHITESPACE"," ",285],"=",["T_WHITESPACE"," ",285],"(",["T_VARIABLE","$traitsInfo",285],["T_WHITESPACE"," ",285],"&",["T_WHITESPACE"," ",285],["T_LNUMBER","0x01",285],")",["T_IS_EQUAL","==",285],["T_LNUMBER","0",285],";",["T_WHITESPACE","\n        ",285],["T_VARIABLE","$traitsInfo",286],["T_WHITESPACE","   ",286],"=",["T_WHITESPACE"," ",286],["T_VARIABLE","$traitsInfo",286],["T_WHITESPACE"," ",286],["T_SR",">>",286],["T_WHITESPACE"," ",286],["T_LNUMBER","1",286],";",["T_WHITESPACE","\n\n        ",286],["T_COMMENT","\/\/ Check if the Object is in the stored Objects reference table\n",288],["T_WHITESPACE","        ",289],["T_IF","if",289],["T_WHITESPACE"," ",289],"(",["T_VARIABLE","$storedObject",289],")",["T_WHITESPACE"," ",289],"{",["T_WHITESPACE","\n            ",289],["T_VARIABLE","$ref",290],["T_WHITESPACE"," ",290],"=",["T_WHITESPACE"," ",290],["T_VARIABLE","$traitsInfo",290],";",["T_WHITESPACE","\n            ",290],["T_IF","if",291],["T_WHITESPACE"," ",291],"(","!",["T_ISSET","isset",291],"(",["T_VARIABLE","$this",291],["T_OBJECT_OPERATOR","->",291],["T_STRING","_referenceObjects",291],"[",["T_VARIABLE","$ref",291],"]",")",")",["T_WHITESPACE"," ",291],"{",["T_WHITESPACE","\n                ",291],["T_COMMENT","#require_once 'Zend\/Amf\/Exception.php';\n",292],["T_WHITESPACE","                ",293],["T_THROW","throw",293],["T_WHITESPACE"," ",293],["T_NEW","new",293],["T_WHITESPACE"," ",293],["T_STRING","Zend_Amf_Exception",293],"(",["T_CONSTANT_ENCAPSED_STRING","'Unknown Object reference: '",293],["T_WHITESPACE"," ",293],".",["T_WHITESPACE"," ",293],["T_VARIABLE","$ref",293],")",";",["T_WHITESPACE","\n            ",293],"}",["T_WHITESPACE","\n            ",294],["T_VARIABLE","$returnObject",295],["T_WHITESPACE"," ",295],"=",["T_WHITESPACE"," ",295],["T_VARIABLE","$this",295],["T_OBJECT_OPERATOR","->",295],["T_STRING","_referenceObjects",295],"[",["T_VARIABLE","$ref",295],"]",";",["T_WHITESPACE","\n        ",295],"}",["T_WHITESPACE"," ",296],["T_ELSE","else",296],["T_WHITESPACE"," ",296],"{",["T_WHITESPACE","\n            ",296],["T_COMMENT","\/\/ Check if the Object is in the stored Definitions reference table\n",297],["T_WHITESPACE","            ",298],["T_VARIABLE","$storedClass",298],["T_WHITESPACE"," ",298],"=",["T_WHITESPACE"," ",298],"(",["T_VARIABLE","$traitsInfo",298],["T_WHITESPACE"," ",298],"&",["T_WHITESPACE"," ",298],["T_LNUMBER","0x01",298],")",["T_WHITESPACE"," ",298],["T_IS_EQUAL","==",298],["T_WHITESPACE"," ",298],["T_LNUMBER","0",298],";",["T_WHITESPACE","\n            ",298],["T_VARIABLE","$traitsInfo",299],["T_WHITESPACE","  ",299],"=",["T_WHITESPACE"," ",299],["T_VARIABLE","$traitsInfo",299],["T_WHITESPACE"," ",299],["T_SR",">>",299],["T_WHITESPACE"," ",299],["T_LNUMBER","1",299],";",["T_WHITESPACE","\n            ",299],["T_IF","if",300],["T_WHITESPACE"," ",300],"(",["T_VARIABLE","$storedClass",300],")",["T_WHITESPACE"," ",300],"{",["T_WHITESPACE","\n                ",300],["T_VARIABLE","$ref",301],["T_WHITESPACE"," ",301],"=",["T_WHITESPACE"," ",301],["T_VARIABLE","$traitsInfo",301],";",["T_WHITESPACE","\n                ",301],["T_IF","if",302],["T_WHITESPACE"," ",302],"(","!",["T_ISSET","isset",302],"(",["T_VARIABLE","$this",302],["T_OBJECT_OPERATOR","->",302],["T_STRING","_referenceDefinitions",302],"[",["T_VARIABLE","$ref",302],"]",")",")",["T_WHITESPACE"," ",302],"{",["T_WHITESPACE","\n                    ",302],["T_COMMENT","#require_once 'Zend\/Amf\/Exception.php';\n",303],["T_WHITESPACE","                    ",304],["T_THROW","throw",304],["T_WHITESPACE"," ",304],["T_NEW","new",304],["T_WHITESPACE"," ",304],["T_STRING","Zend_Amf_Exception",304],"(",["T_CONSTANT_ENCAPSED_STRING","'Unknows Definition reference: '",304],".",["T_WHITESPACE"," ",304],["T_VARIABLE","$ref",304],")",";",["T_WHITESPACE","\n                ",304],"}",["T_WHITESPACE","\n                ",305],["T_COMMENT","\/\/ Populate the reference attributes\n",306],["T_WHITESPACE","                ",307],["T_VARIABLE","$className",307],["T_WHITESPACE","     ",307],"=",["T_WHITESPACE"," ",307],["T_VARIABLE","$this",307],["T_OBJECT_OPERATOR","->",307],["T_STRING","_referenceDefinitions",307],"[",["T_VARIABLE","$ref",307],"]","[",["T_CONSTANT_ENCAPSED_STRING","'className'",307],"]",";",["T_WHITESPACE","\n                ",307],["T_VARIABLE","$encoding",308],["T_WHITESPACE","      ",308],"=",["T_WHITESPACE"," ",308],["T_VARIABLE","$this",308],["T_OBJECT_OPERATOR","->",308],["T_STRING","_referenceDefinitions",308],"[",["T_VARIABLE","$ref",308],"]","[",["T_CONSTANT_ENCAPSED_STRING","'encoding'",308],"]",";",["T_WHITESPACE","\n                ",308],["T_VARIABLE","$propertyNames",309],["T_WHITESPACE"," ",309],"=",["T_WHITESPACE"," ",309],["T_VARIABLE","$this",309],["T_OBJECT_OPERATOR","->",309],["T_STRING","_referenceDefinitions",309],"[",["T_VARIABLE","$ref",309],"]","[",["T_CONSTANT_ENCAPSED_STRING","'propertyNames'",309],"]",";",["T_WHITESPACE","\n            ",309],"}",["T_WHITESPACE"," ",310],["T_ELSE","else",310],["T_WHITESPACE"," ",310],"{",["T_WHITESPACE","\n                ",310],["T_COMMENT","\/\/ The class was not in the reference tables. Start reading rawdata to build traits.\n",311],["T_WHITESPACE","                ",312],["T_COMMENT","\/\/ Create a traits table. Zend_Amf_Value_TraitsInfo would be ideal\n",312],["T_WHITESPACE","                ",313],["T_VARIABLE","$className",313],["T_WHITESPACE","     ",313],"=",["T_WHITESPACE"," ",313],["T_VARIABLE","$this",313],["T_OBJECT_OPERATOR","->",313],["T_STRING","readString",313],"(",")",";",["T_WHITESPACE","\n                ",313],["T_VARIABLE","$encoding",314],["T_WHITESPACE","      ",314],"=",["T_WHITESPACE"," ",314],["T_VARIABLE","$traitsInfo",314],["T_WHITESPACE"," ",314],"&",["T_WHITESPACE"," ",314],["T_LNUMBER","0x03",314],";",["T_WHITESPACE","\n                ",314],["T_VARIABLE","$propertyNames",315],["T_WHITESPACE"," ",315],"=",["T_WHITESPACE"," ",315],["T_ARRAY","array",315],"(",")",";",["T_WHITESPACE","\n                ",315],["T_VARIABLE","$traitsInfo",316],["T_WHITESPACE","    ",316],"=",["T_WHITESPACE"," ",316],["T_VARIABLE","$traitsInfo",316],["T_WHITESPACE"," ",316],["T_SR",">>",316],["T_WHITESPACE"," ",316],["T_LNUMBER","2",316],";",["T_WHITESPACE","\n            ",316],"}",["T_WHITESPACE","\n\n            ",317],["T_COMMENT","\/\/ We now have the object traits defined in variables. Time to go to work:\n",319],["T_WHITESPACE","            ",320],["T_IF","if",320],["T_WHITESPACE"," ",320],"(","!",["T_VARIABLE","$className",320],")",["T_WHITESPACE"," ",320],"{",["T_WHITESPACE","\n                ",320],["T_COMMENT","\/\/ No class name generic object\n",321],["T_WHITESPACE","                ",322],["T_VARIABLE","$returnObject",322],["T_WHITESPACE"," ",322],"=",["T_WHITESPACE"," ",322],["T_NEW","new",322],["T_WHITESPACE"," ",322],["T_STRING","stdClass",322],"(",")",";",["T_WHITESPACE","\n            ",322],"}",["T_WHITESPACE"," ",323],["T_ELSE","else",323],["T_WHITESPACE"," ",323],"{",["T_WHITESPACE","\n                ",323],["T_COMMENT","\/\/ Defined object\n",324],["T_WHITESPACE","                ",325],["T_COMMENT","\/\/ Typed object lookup against registered classname maps\n",325],["T_WHITESPACE","                ",326],["T_IF","if",326],["T_WHITESPACE"," ",326],"(",["T_VARIABLE","$loader",326],["T_WHITESPACE"," ",326],"=",["T_WHITESPACE"," ",326],["T_STRING","Zend_Amf_Parse_TypeLoader",326],["T_DOUBLE_COLON","::",326],["T_STRING","loadType",326],"(",["T_VARIABLE","$className",326],")",")",["T_WHITESPACE"," ",326],"{",["T_WHITESPACE","\n                    ",326],["T_VARIABLE","$returnObject",327],["T_WHITESPACE"," ",327],"=",["T_WHITESPACE"," ",327],["T_NEW","new",327],["T_WHITESPACE"," ",327],["T_VARIABLE","$loader",327],"(",")",";",["T_WHITESPACE","\n                ",327],"}",["T_WHITESPACE"," ",328],["T_ELSE","else",328],["T_WHITESPACE"," ",328],"{",["T_WHITESPACE","\n                    ",328],["T_COMMENT","\/\/user defined typed object\n",329],["T_WHITESPACE","                    ",330],["T_COMMENT","#require_once 'Zend\/Amf\/Exception.php';\n",330],["T_WHITESPACE","                    ",331],["T_THROW","throw",331],["T_WHITESPACE"," ",331],["T_NEW","new",331],["T_WHITESPACE"," ",331],["T_STRING","Zend_Amf_Exception",331],"(",["T_CONSTANT_ENCAPSED_STRING","'Typed object not found: '",331],".",["T_WHITESPACE"," ",331],["T_VARIABLE","$className",331],["T_WHITESPACE"," ",331],".",["T_WHITESPACE"," ",331],["T_CONSTANT_ENCAPSED_STRING","' '",331],")",";",["T_WHITESPACE","\n                ",331],"}",["T_WHITESPACE","\n            ",332],"}",["T_WHITESPACE","\n\n            ",333],["T_COMMENT","\/\/ Add the Object to the reference table\n",335],["T_WHITESPACE","            ",336],["T_VARIABLE","$this",336],["T_OBJECT_OPERATOR","->",336],["T_STRING","_referenceObjects",336],"[","]",["T_WHITESPACE"," ",336],"=",["T_WHITESPACE"," ",336],["T_VARIABLE","$returnObject",336],";",["T_WHITESPACE","\n\n            ",336],["T_VARIABLE","$properties",338],["T_WHITESPACE"," ",338],"=",["T_WHITESPACE"," ",338],["T_ARRAY","array",338],"(",")",";",["T_WHITESPACE"," ",338],["T_COMMENT","\/\/ clear value\n",338],["T_WHITESPACE","            ",339],["T_COMMENT","\/\/ Check encoding types for additional processing.\n",339],["T_WHITESPACE","            ",340],["T_SWITCH","switch",340],["T_WHITESPACE"," ",340],"(",["T_VARIABLE","$encoding",340],")",["T_WHITESPACE"," ",340],"{",["T_WHITESPACE","\n                ",340],["T_CASE","case",341],["T_WHITESPACE"," ",341],"(",["T_STRING","Zend_Amf_Constants",341],["T_DOUBLE_COLON","::",341],["T_STRING","ET_EXTERNAL",341],")",":",["T_WHITESPACE","\n                    ",341],["T_COMMENT","\/\/ Externalizable object such as {ArrayCollection} and {ObjectProxy}\n",342],["T_WHITESPACE","                    ",343],["T_IF","if",343],["T_WHITESPACE"," ",343],"(","!",["T_VARIABLE","$storedClass",343],")",["T_WHITESPACE"," ",343],"{",["T_WHITESPACE","\n                        ",343],["T_VARIABLE","$this",344],["T_OBJECT_OPERATOR","->",344],["T_STRING","_referenceDefinitions",344],"[","]",["T_WHITESPACE"," ",344],"=",["T_WHITESPACE"," ",344],["T_ARRAY","array",344],"(",["T_WHITESPACE","\n                            ",344],["T_CONSTANT_ENCAPSED_STRING","'className'",345],["T_WHITESPACE","     ",345],["T_DOUBLE_ARROW","=>",345],["T_WHITESPACE"," ",345],["T_VARIABLE","$className",345],",",["T_WHITESPACE","\n                            ",345],["T_CONSTANT_ENCAPSED_STRING","'encoding'",346],["T_WHITESPACE","      ",346],["T_DOUBLE_ARROW","=>",346],["T_WHITESPACE"," ",346],["T_VARIABLE","$encoding",346],",",["T_WHITESPACE","\n                            ",346],["T_CONSTANT_ENCAPSED_STRING","'propertyNames'",347],["T_WHITESPACE"," ",347],["T_DOUBLE_ARROW","=>",347],["T_WHITESPACE"," ",347],["T_VARIABLE","$propertyNames",347],",",["T_WHITESPACE","\n                        ",347],")",";",["T_WHITESPACE","\n                    ",348],"}",["T_WHITESPACE","\n                    ",349],["T_VARIABLE","$returnObject",350],["T_OBJECT_OPERATOR","->",350],["T_STRING","externalizedData",350],["T_WHITESPACE"," ",350],"=",["T_WHITESPACE"," ",350],["T_VARIABLE","$this",350],["T_OBJECT_OPERATOR","->",350],["T_STRING","readTypeMarker",350],"(",")",";",["T_WHITESPACE","\n                    ",350],["T_BREAK","break",351],";",["T_WHITESPACE","\n                ",351],["T_CASE","case",352],["T_WHITESPACE"," ",352],"(",["T_STRING","Zend_Amf_Constants",352],["T_DOUBLE_COLON","::",352],["T_STRING","ET_DYNAMIC",352],")",":",["T_WHITESPACE","\n                    ",352],["T_COMMENT","\/\/ used for Name-value encoding\n",353],["T_WHITESPACE","                    ",354],["T_IF","if",354],["T_WHITESPACE"," ",354],"(","!",["T_VARIABLE","$storedClass",354],")",["T_WHITESPACE"," ",354],"{",["T_WHITESPACE","\n                        ",354],["T_VARIABLE","$this",355],["T_OBJECT_OPERATOR","->",355],["T_STRING","_referenceDefinitions",355],"[","]",["T_WHITESPACE"," ",355],"=",["T_WHITESPACE"," ",355],["T_ARRAY","array",355],"(",["T_WHITESPACE","\n                            ",355],["T_CONSTANT_ENCAPSED_STRING","'className'",356],["T_WHITESPACE","     ",356],["T_DOUBLE_ARROW","=>",356],["T_WHITESPACE"," ",356],["T_VARIABLE","$className",356],",",["T_WHITESPACE","\n                            ",356],["T_CONSTANT_ENCAPSED_STRING","'encoding'",357],["T_WHITESPACE","      ",357],["T_DOUBLE_ARROW","=>",357],["T_WHITESPACE"," ",357],["T_VARIABLE","$encoding",357],",",["T_WHITESPACE","\n                            ",357],["T_CONSTANT_ENCAPSED_STRING","'propertyNames'",358],["T_WHITESPACE"," ",358],["T_DOUBLE_ARROW","=>",358],["T_WHITESPACE"," ",358],["T_VARIABLE","$propertyNames",358],",",["T_WHITESPACE","\n                        ",358],")",";",["T_WHITESPACE","\n                    ",359],"}",["T_WHITESPACE","\n                    ",360],["T_COMMENT","\/\/ not a reference object read name value properties from byte stream\n",361],["T_WHITESPACE","                    ",362],["T_DO","do",362],["T_WHITESPACE"," ",362],"{",["T_WHITESPACE","\n                        ",362],["T_VARIABLE","$property",363],["T_WHITESPACE"," ",363],"=",["T_WHITESPACE"," ",363],["T_VARIABLE","$this",363],["T_OBJECT_OPERATOR","->",363],["T_STRING","readString",363],"(",")",";",["T_WHITESPACE","\n                        ",363],["T_IF","if",364],["T_WHITESPACE"," ",364],"(",["T_VARIABLE","$property",364],["T_WHITESPACE"," ",364],["T_IS_NOT_EQUAL","!=",364],["T_WHITESPACE"," ",364],["T_CONSTANT_ENCAPSED_STRING","\"\"",364],")",["T_WHITESPACE"," ",364],"{",["T_WHITESPACE","\n                            ",364],["T_VARIABLE","$propertyNames",365],"[","]",["T_WHITESPACE","       ",365],"=",["T_WHITESPACE"," ",365],["T_VARIABLE","$property",365],";",["T_WHITESPACE","\n                            ",365],["T_VARIABLE","$properties",366],"[",["T_VARIABLE","$property",366],"]",["T_WHITESPACE"," ",366],"=",["T_WHITESPACE"," ",366],["T_VARIABLE","$this",366],["T_OBJECT_OPERATOR","->",366],["T_STRING","readTypeMarker",366],"(",")",";",["T_WHITESPACE","\n                        ",366],"}",["T_WHITESPACE","\n                    ",367],"}",["T_WHITESPACE"," ",368],["T_WHILE","while",368],["T_WHITESPACE"," ",368],"(",["T_VARIABLE","$property",368],["T_WHITESPACE"," ",368],["T_IS_NOT_EQUAL","!=",368],["T_CONSTANT_ENCAPSED_STRING","\"\"",368],")",";",["T_WHITESPACE","\n                    ",368],["T_BREAK","break",369],";",["T_WHITESPACE","\n                ",369],["T_DEFAULT","default",370],":",["T_WHITESPACE","\n                    ",370],["T_COMMENT","\/\/ basic property list object.\n",371],["T_WHITESPACE","                    ",372],["T_IF","if",372],["T_WHITESPACE"," ",372],"(","!",["T_VARIABLE","$storedClass",372],")",["T_WHITESPACE"," ",372],"{",["T_WHITESPACE","\n                        ",372],["T_VARIABLE","$count",373],["T_WHITESPACE"," ",373],"=",["T_WHITESPACE"," ",373],["T_VARIABLE","$traitsInfo",373],";",["T_WHITESPACE"," ",373],["T_COMMENT","\/\/ Number of properties in the list\n",373],["T_WHITESPACE","                        ",374],["T_FOR","for",374],"(",["T_VARIABLE","$i",374],"=",["T_LNUMBER","0",374],";",["T_WHITESPACE"," ",374],["T_VARIABLE","$i",374],"<",["T_WHITESPACE"," ",374],["T_VARIABLE","$count",374],";",["T_WHITESPACE"," ",374],["T_VARIABLE","$i",374],["T_INC","++",374],")",["T_WHITESPACE"," ",374],"{",["T_WHITESPACE","\n                            ",374],["T_VARIABLE","$propertyNames",375],"[","]",["T_WHITESPACE"," ",375],"=",["T_WHITESPACE"," ",375],["T_VARIABLE","$this",375],["T_OBJECT_OPERATOR","->",375],["T_STRING","readString",375],"(",")",";",["T_WHITESPACE","\n                        ",375],"}",["T_WHITESPACE","\n                        ",376],["T_COMMENT","\/\/ Add a reference to the class.\n",377],["T_WHITESPACE","                        ",378],["T_VARIABLE","$this",378],["T_OBJECT_OPERATOR","->",378],["T_STRING","_referenceDefinitions",378],"[","]",["T_WHITESPACE"," ",378],"=",["T_WHITESPACE"," ",378],["T_ARRAY","array",378],"(",["T_WHITESPACE","\n                            ",378],["T_CONSTANT_ENCAPSED_STRING","'className'",379],["T_WHITESPACE","     ",379],["T_DOUBLE_ARROW","=>",379],["T_WHITESPACE"," ",379],["T_VARIABLE","$className",379],",",["T_WHITESPACE","\n                            ",379],["T_CONSTANT_ENCAPSED_STRING","'encoding'",380],["T_WHITESPACE","      ",380],["T_DOUBLE_ARROW","=>",380],["T_WHITESPACE"," ",380],["T_VARIABLE","$encoding",380],",",["T_WHITESPACE","\n                            ",380],["T_CONSTANT_ENCAPSED_STRING","'propertyNames'",381],["T_WHITESPACE"," ",381],["T_DOUBLE_ARROW","=>",381],["T_WHITESPACE"," ",381],["T_VARIABLE","$propertyNames",381],",",["T_WHITESPACE","\n                        ",381],")",";",["T_WHITESPACE","\n                    ",382],"}",["T_WHITESPACE","\n                    ",383],["T_FOREACH","foreach",384],["T_WHITESPACE"," ",384],"(",["T_VARIABLE","$propertyNames",384],["T_WHITESPACE"," ",384],["T_AS","as",384],["T_WHITESPACE"," ",384],["T_VARIABLE","$property",384],")",["T_WHITESPACE"," ",384],"{",["T_WHITESPACE","\n                        ",384],["T_VARIABLE","$properties",385],"[",["T_VARIABLE","$property",385],"]",["T_WHITESPACE"," ",385],"=",["T_WHITESPACE"," ",385],["T_VARIABLE","$this",385],["T_OBJECT_OPERATOR","->",385],["T_STRING","readTypeMarker",385],"(",")",";",["T_WHITESPACE","\n                    ",385],"}",["T_WHITESPACE","\n                    ",386],["T_BREAK","break",387],";",["T_WHITESPACE","\n            ",387],"}",["T_WHITESPACE","\n\n            ",388],["T_COMMENT","\/\/ Add properties back to the return object.\n",390],["T_WHITESPACE","            ",391],["T_IF","if",391],["T_WHITESPACE"," ",391],"(","!",["T_STRING","is_array",391],"(",["T_VARIABLE","$properties",391],")",")",["T_WHITESPACE"," ",391],["T_VARIABLE","$properties",391],["T_WHITESPACE"," ",391],"=",["T_WHITESPACE"," ",391],["T_ARRAY","array",391],"(",")",";",["T_WHITESPACE","\n            ",391],["T_FOREACH","foreach",392],"(",["T_VARIABLE","$properties",392],["T_WHITESPACE"," ",392],["T_AS","as",392],["T_WHITESPACE"," ",392],["T_VARIABLE","$key",392],["T_DOUBLE_ARROW","=>",392],["T_VARIABLE","$value",392],")",["T_WHITESPACE"," ",392],"{",["T_WHITESPACE","\n                ",392],["T_IF","if",393],"(",["T_VARIABLE","$key",393],")",["T_WHITESPACE"," ",393],"{",["T_WHITESPACE","\n                    ",393],["T_VARIABLE","$returnObject",394],["T_OBJECT_OPERATOR","->",394],["T_VARIABLE","$key",394],["T_WHITESPACE"," ",394],"=",["T_WHITESPACE"," ",394],["T_VARIABLE","$value",394],";",["T_WHITESPACE","\n                ",394],"}",["T_WHITESPACE","\n            ",395],"}",["T_WHITESPACE","\n\n\n        ",396],"}",["T_WHITESPACE","\n\n       ",399],["T_IF","if",401],["T_WHITESPACE"," ",401],"(",["T_VARIABLE","$returnObject",401],["T_WHITESPACE"," ",401],["T_INSTANCEOF","instanceof",401],["T_WHITESPACE"," ",401],["T_STRING","Zend_Amf_Value_Messaging_ArrayCollection",401],")",["T_WHITESPACE"," ",401],"{",["T_WHITESPACE","\n            ",401],["T_IF","if",402],["T_WHITESPACE"," ",402],"(",["T_ISSET","isset",402],"(",["T_VARIABLE","$returnObject",402],["T_OBJECT_OPERATOR","->",402],["T_STRING","externalizedData",402],")",")",["T_WHITESPACE"," ",402],"{",["T_WHITESPACE","\n                ",402],["T_VARIABLE","$returnObject",403],["T_WHITESPACE"," ",403],"=",["T_WHITESPACE"," ",403],["T_VARIABLE","$returnObject",403],["T_OBJECT_OPERATOR","->",403],["T_STRING","externalizedData",403],";",["T_WHITESPACE","\n            ",403],"}",["T_WHITESPACE"," ",404],["T_ELSE","else",404],["T_WHITESPACE"," ",404],"{",["T_WHITESPACE","\n                ",404],["T_VARIABLE","$returnObject",405],["T_WHITESPACE"," ",405],"=",["T_WHITESPACE"," ",405],["T_STRING","get_object_vars",405],"(",["T_VARIABLE","$returnObject",405],")",";",["T_WHITESPACE","\n            ",405],"}",["T_WHITESPACE","\n       ",406],"}",["T_WHITESPACE","\n\n        ",407],["T_RETURN","return",409],["T_WHITESPACE"," ",409],["T_VARIABLE","$returnObject",409],";",["T_WHITESPACE","\n    ",409],"}",["T_WHITESPACE","\n\n    ",410],["T_DOC_COMMENT","\/**\n     * Convert XML to SimpleXml\n     * If user wants DomDocument they can use dom_import_simplexml\n     *\n     * @return SimpleXml Object\n     *\/",412],["T_WHITESPACE","\n    ",417],["T_PUBLIC","public",418],["T_WHITESPACE"," ",418],["T_FUNCTION","function",418],["T_WHITESPACE"," ",418],["T_STRING","readXmlString",418],"(",")",["T_WHITESPACE","\n    ",418],"{",["T_WHITESPACE","\n        ",419],["T_VARIABLE","$xmlReference",420],["T_WHITESPACE"," ",420],"=",["T_WHITESPACE"," ",420],["T_VARIABLE","$this",420],["T_OBJECT_OPERATOR","->",420],["T_STRING","readInteger",420],"(",")",";",["T_WHITESPACE","\n        ",420],["T_VARIABLE","$length",421],["T_WHITESPACE"," ",421],"=",["T_WHITESPACE"," ",421],["T_VARIABLE","$xmlReference",421],["T_WHITESPACE"," ",421],["T_SR",">>",421],["T_WHITESPACE"," ",421],["T_LNUMBER","1",421],";",["T_WHITESPACE","\n        ",421],["T_VARIABLE","$string",422],["T_WHITESPACE"," ",422],"=",["T_WHITESPACE"," ",422],["T_VARIABLE","$this",422],["T_OBJECT_OPERATOR","->",422],["T_STRING","_stream",422],["T_OBJECT_OPERATOR","->",422],["T_STRING","readBytes",422],"(",["T_VARIABLE","$length",422],")",";",["T_WHITESPACE","\n        ",422],["T_RETURN","return",423],["T_WHITESPACE"," ",423],["T_STRING","Zend_Xml_Security",423],["T_DOUBLE_COLON","::",423],["T_STRING","scan",423],"(",["T_VARIABLE","$string",423],")",";",["T_WHITESPACE"," \n    ",423],"}",["T_WHITESPACE","\n",424],"}",["T_WHITESPACE","\n",425]]