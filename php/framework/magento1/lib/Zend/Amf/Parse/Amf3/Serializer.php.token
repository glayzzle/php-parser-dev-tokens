[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Zend Framework\n *\n * LICENSE\n *\n * This source file is subject to the new BSD license that is bundled\n * with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/framework.zend.com\/license\/new-bsd\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@zend.com so we can send you a copy immediately.\n *\n * @category   Zend\n * @package    Zend_Amf\n * @subpackage Parse_Amf3\n * @copyright  Copyright (c) 2005-2015 Zend Technologies USA Inc. (http:\/\/www.zend.com)\n * @license    http:\/\/framework.zend.com\/license\/new-bsd     New BSD License\n * @version    $Id$\n *\/",2],["T_WHITESPACE","\n\n",21],["T_DOC_COMMENT","\/** Zend_Amf_Constants *\/",23],["T_WHITESPACE","\n",23],["T_COMMENT","#require_once 'Zend\/Amf\/Constants.php';\n",24],["T_WHITESPACE","\n\n",25],["T_DOC_COMMENT","\/** Zend_Amf_Parse_Serializer *\/",27],["T_WHITESPACE","\n",27],["T_COMMENT","#require_once 'Zend\/Amf\/Parse\/Serializer.php';\n",28],["T_WHITESPACE","\n",29],["T_DOC_COMMENT","\/** Zend_Amf_Parse_TypeLoader *\/",30],["T_WHITESPACE","\n",30],["T_COMMENT","#require_once 'Zend\/Amf\/Parse\/TypeLoader.php';\n",31],["T_WHITESPACE","\n",32],["T_DOC_COMMENT","\/**\n * Detect PHP object type and convert it to a corresponding AMF3 object type\n *\n * @package    Zend_Amf\n * @subpackage Parse_Amf3\n * @copyright  Copyright (c) 2005-2015 Zend Technologies USA Inc. (http:\/\/www.zend.com)\n * @license    http:\/\/framework.zend.com\/license\/new-bsd     New BSD License\n *\/",33],["T_WHITESPACE","\n",40],["T_CLASS","class",41],["T_WHITESPACE"," ",41],["T_STRING","Zend_Amf_Parse_Amf3_Serializer",41],["T_WHITESPACE"," ",41],["T_EXTENDS","extends",41],["T_WHITESPACE"," ",41],["T_STRING","Zend_Amf_Parse_Serializer",41],["T_WHITESPACE","\n",41],"{",["T_WHITESPACE","\n    ",42],["T_DOC_COMMENT","\/**\n     * A constant empty string\n     * @var string\n     *\/",43],["T_WHITESPACE","\n    ",46],["T_PROTECTED","protected",47],["T_WHITESPACE"," ",47],["T_VARIABLE","$_strEmpty",47],["T_WHITESPACE"," ",47],"=",["T_WHITESPACE"," ",47],["T_CONSTANT_ENCAPSED_STRING","''",47],";",["T_WHITESPACE","\n\n    ",47],["T_DOC_COMMENT","\/**\n     * An array of reference objects per amf body\n     * @var array\n     *\/",49],["T_WHITESPACE","\n    ",52],["T_PROTECTED","protected",53],["T_WHITESPACE"," ",53],["T_VARIABLE","$_referenceObjects",53],["T_WHITESPACE"," ",53],"=",["T_WHITESPACE"," ",53],["T_ARRAY","array",53],"(",")",";",["T_WHITESPACE","\n\n    ",53],["T_DOC_COMMENT","\/**\n     * An array of reference strings per amf body\n     * @var array\n     *\/",55],["T_WHITESPACE","\n    ",58],["T_PROTECTED","protected",59],["T_WHITESPACE"," ",59],["T_VARIABLE","$_referenceStrings",59],["T_WHITESPACE"," ",59],"=",["T_WHITESPACE"," ",59],["T_ARRAY","array",59],"(",")",";",["T_WHITESPACE","\n\n    ",59],["T_DOC_COMMENT","\/**\n     * An array of reference class definitions, indexed by classname\n     * @var array\n     *\/",61],["T_WHITESPACE","\n    ",64],["T_PROTECTED","protected",65],["T_WHITESPACE"," ",65],["T_VARIABLE","$_referenceDefinitions",65],["T_WHITESPACE"," ",65],"=",["T_WHITESPACE"," ",65],["T_ARRAY","array",65],"(",")",";",["T_WHITESPACE","\n\n    ",65],["T_DOC_COMMENT","\/**\n     * Serialize PHP types to AMF3 and write to stream\n     *\n     * Checks to see if the type was declared and then either\n     * auto negotiates the type or use the user defined markerType to\n     * serialize the data from php back to AMF3\n     *\n     * @param  mixed $data\n     * @param  int $markerType\n     * @param  mixed $dataByVal\n     * @return void\n     *\/",67],["T_WHITESPACE","\n    ",78],["T_PUBLIC","public",79],["T_WHITESPACE"," ",79],["T_FUNCTION","function",79],["T_WHITESPACE"," ",79],["T_STRING","writeTypeMarker",79],"(","&",["T_VARIABLE","$data",79],",",["T_WHITESPACE"," ",79],["T_VARIABLE","$markerType",79],["T_WHITESPACE"," ",79],"=",["T_WHITESPACE"," ",79],["T_STRING","null",79],",",["T_WHITESPACE"," ",79],["T_VARIABLE","$dataByVal",79],["T_WHITESPACE"," ",79],"=",["T_WHITESPACE"," ",79],["T_STRING","false",79],")",["T_WHITESPACE","\n    ",79],"{",["T_WHITESPACE","\n        ",80],["T_COMMENT","\/\/ Workaround for PHP5 with E_STRICT enabled complaining about \"Only\n",81],["T_WHITESPACE","        ",82],["T_COMMENT","\/\/ variables should be passed by reference\"\n",82],["T_WHITESPACE","        ",83],["T_IF","if",83],["T_WHITESPACE"," ",83],"(","(",["T_STRING","null",83],["T_WHITESPACE"," ",83],["T_IS_IDENTICAL","===",83],["T_WHITESPACE"," ",83],["T_VARIABLE","$data",83],")",["T_WHITESPACE"," ",83],["T_BOOLEAN_AND","&&",83],["T_WHITESPACE"," ",83],"(",["T_VARIABLE","$dataByVal",83],["T_WHITESPACE"," ",83],["T_IS_NOT_IDENTICAL","!==",83],["T_WHITESPACE"," ",83],["T_STRING","false",83],")",")",["T_WHITESPACE"," ",83],"{",["T_WHITESPACE","\n            ",83],["T_VARIABLE","$data",84],["T_WHITESPACE"," ",84],"=",["T_WHITESPACE"," ",84],"&",["T_VARIABLE","$dataByVal",84],";",["T_WHITESPACE","\n        ",84],"}",["T_WHITESPACE","\n        ",85],["T_IF","if",86],["T_WHITESPACE"," ",86],"(",["T_STRING","null",86],["T_WHITESPACE"," ",86],["T_IS_NOT_IDENTICAL","!==",86],["T_WHITESPACE"," ",86],["T_VARIABLE","$markerType",86],")",["T_WHITESPACE"," ",86],"{",["T_WHITESPACE","\n            ",86],["T_COMMENT","\/\/ Write the Type Marker to denote the following action script data type\n",87],["T_WHITESPACE","            ",88],["T_VARIABLE","$this",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","_stream",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","writeByte",88],"(",["T_VARIABLE","$markerType",88],")",";",["T_WHITESPACE","\n\n            ",88],["T_SWITCH","switch",90],["T_WHITESPACE"," ",90],"(",["T_VARIABLE","$markerType",90],")",["T_WHITESPACE"," ",90],"{",["T_WHITESPACE","\n                ",90],["T_CASE","case",91],["T_WHITESPACE"," ",91],["T_STRING","Zend_Amf_Constants",91],["T_DOUBLE_COLON","::",91],["T_STRING","AMF3_NULL",91],":",["T_WHITESPACE","\n                    ",91],["T_BREAK","break",92],";",["T_WHITESPACE","\n                ",92],["T_CASE","case",93],["T_WHITESPACE"," ",93],["T_STRING","Zend_Amf_Constants",93],["T_DOUBLE_COLON","::",93],["T_STRING","AMF3_BOOLEAN_FALSE",93],":",["T_WHITESPACE","\n                    ",93],["T_BREAK","break",94],";",["T_WHITESPACE","\n                ",94],["T_CASE","case",95],["T_WHITESPACE"," ",95],["T_STRING","Zend_Amf_Constants",95],["T_DOUBLE_COLON","::",95],["T_STRING","AMF3_BOOLEAN_TRUE",95],":",["T_WHITESPACE","\n                    ",95],["T_BREAK","break",96],";",["T_WHITESPACE","\n                ",96],["T_CASE","case",97],["T_WHITESPACE"," ",97],["T_STRING","Zend_Amf_Constants",97],["T_DOUBLE_COLON","::",97],["T_STRING","AMF3_INTEGER",97],":",["T_WHITESPACE","\n                    ",97],["T_VARIABLE","$this",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","writeInteger",98],"(",["T_VARIABLE","$data",98],")",";",["T_WHITESPACE","\n                    ",98],["T_BREAK","break",99],";",["T_WHITESPACE","\n                ",99],["T_CASE","case",100],["T_WHITESPACE"," ",100],["T_STRING","Zend_Amf_Constants",100],["T_DOUBLE_COLON","::",100],["T_STRING","AMF3_NUMBER",100],":",["T_WHITESPACE","\n                    ",100],["T_VARIABLE","$this",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","_stream",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","writeDouble",101],"(",["T_VARIABLE","$data",101],")",";",["T_WHITESPACE","\n                    ",101],["T_BREAK","break",102],";",["T_WHITESPACE","\n                ",102],["T_CASE","case",103],["T_WHITESPACE"," ",103],["T_STRING","Zend_Amf_Constants",103],["T_DOUBLE_COLON","::",103],["T_STRING","AMF3_STRING",103],":",["T_WHITESPACE","\n                    ",103],["T_VARIABLE","$this",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","writeString",104],"(",["T_VARIABLE","$data",104],")",";",["T_WHITESPACE","\n                    ",104],["T_BREAK","break",105],";",["T_WHITESPACE","\n                ",105],["T_CASE","case",106],["T_WHITESPACE"," ",106],["T_STRING","Zend_Amf_Constants",106],["T_DOUBLE_COLON","::",106],["T_STRING","AMF3_DATE",106],":",["T_WHITESPACE","\n                    ",106],["T_VARIABLE","$this",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","writeDate",107],"(",["T_VARIABLE","$data",107],")",";",["T_WHITESPACE","\n                    ",107],["T_BREAK","break",108],";",["T_WHITESPACE","\n                ",108],["T_CASE","case",109],["T_WHITESPACE"," ",109],["T_STRING","Zend_Amf_Constants",109],["T_DOUBLE_COLON","::",109],["T_STRING","AMF3_ARRAY",109],":",["T_WHITESPACE","\n                    ",109],["T_VARIABLE","$this",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","writeArray",110],"(",["T_VARIABLE","$data",110],")",";",["T_WHITESPACE","\n                    ",110],["T_BREAK","break",111],";",["T_WHITESPACE","\n                ",111],["T_CASE","case",112],["T_WHITESPACE"," ",112],["T_STRING","Zend_Amf_Constants",112],["T_DOUBLE_COLON","::",112],["T_STRING","AMF3_OBJECT",112],":",["T_WHITESPACE","\n                    ",112],["T_VARIABLE","$this",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","writeObject",113],"(",["T_VARIABLE","$data",113],")",";",["T_WHITESPACE","\n                    ",113],["T_BREAK","break",114],";",["T_WHITESPACE","\n                ",114],["T_CASE","case",115],["T_WHITESPACE"," ",115],["T_STRING","Zend_Amf_Constants",115],["T_DOUBLE_COLON","::",115],["T_STRING","AMF3_BYTEARRAY",115],":",["T_WHITESPACE","\n                    ",115],["T_VARIABLE","$this",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","writeByteArray",116],"(",["T_VARIABLE","$data",116],")",";",["T_WHITESPACE","\n                    ",116],["T_BREAK","break",117],";",["T_WHITESPACE","\n                ",117],["T_CASE","case",118],["T_WHITESPACE"," ",118],["T_STRING","Zend_Amf_Constants",118],["T_DOUBLE_COLON","::",118],["T_STRING","AMF3_XMLSTRING",118],";",["T_WHITESPACE","\n                    ",118],["T_VARIABLE","$this",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","writeXml",119],"(",["T_VARIABLE","$data",119],")",";",["T_WHITESPACE","\n                    ",119],["T_BREAK","break",120],";",["T_WHITESPACE","\n                ",120],["T_DEFAULT","default",121],":",["T_WHITESPACE","\n                    ",121],["T_COMMENT","#require_once 'Zend\/Amf\/Exception.php';\n",122],["T_WHITESPACE","                    ",123],["T_THROW","throw",123],["T_WHITESPACE"," ",123],["T_NEW","new",123],["T_WHITESPACE"," ",123],["T_STRING","Zend_Amf_Exception",123],"(",["T_CONSTANT_ENCAPSED_STRING","'Unknown Type Marker: '",123],["T_WHITESPACE"," ",123],".",["T_WHITESPACE"," ",123],["T_VARIABLE","$markerType",123],")",";",["T_WHITESPACE","\n            ",123],"}",["T_WHITESPACE","\n        ",124],"}",["T_WHITESPACE"," ",125],["T_ELSE","else",125],["T_WHITESPACE"," ",125],"{",["T_WHITESPACE","\n            ",125],["T_COMMENT","\/\/ Detect Type Marker\n",126],["T_WHITESPACE","            ",127],["T_IF","if",127],["T_WHITESPACE"," ",127],"(",["T_STRING","is_resource",127],"(",["T_VARIABLE","$data",127],")",")",["T_WHITESPACE"," ",127],"{",["T_WHITESPACE","\n                ",127],["T_VARIABLE","$data",128],["T_WHITESPACE"," ",128],"=",["T_WHITESPACE"," ",128],["T_STRING","Zend_Amf_Parse_TypeLoader",128],["T_DOUBLE_COLON","::",128],["T_STRING","handleResource",128],"(",["T_VARIABLE","$data",128],")",";",["T_WHITESPACE","\n            ",128],"}",["T_WHITESPACE","\n            ",129],["T_SWITCH","switch",130],["T_WHITESPACE"," ",130],"(",["T_STRING","true",130],")",["T_WHITESPACE"," ",130],"{",["T_WHITESPACE","\n                ",130],["T_CASE","case",131],["T_WHITESPACE"," ",131],"(",["T_STRING","null",131],["T_WHITESPACE"," ",131],["T_IS_IDENTICAL","===",131],["T_WHITESPACE"," ",131],["T_VARIABLE","$data",131],")",":",["T_WHITESPACE","\n                    ",131],["T_VARIABLE","$markerType",132],["T_WHITESPACE"," ",132],"=",["T_WHITESPACE"," ",132],["T_STRING","Zend_Amf_Constants",132],["T_DOUBLE_COLON","::",132],["T_STRING","AMF3_NULL",132],";",["T_WHITESPACE","\n                    ",132],["T_BREAK","break",133],";",["T_WHITESPACE","\n                ",133],["T_CASE","case",134],["T_WHITESPACE"," ",134],"(",["T_STRING","is_bool",134],"(",["T_VARIABLE","$data",134],")",")",":",["T_WHITESPACE","\n                    ",134],["T_IF","if",135],["T_WHITESPACE"," ",135],"(",["T_VARIABLE","$data",135],")","{",["T_WHITESPACE","\n                        ",135],["T_VARIABLE","$markerType",136],["T_WHITESPACE"," ",136],"=",["T_WHITESPACE"," ",136],["T_STRING","Zend_Amf_Constants",136],["T_DOUBLE_COLON","::",136],["T_STRING","AMF3_BOOLEAN_TRUE",136],";",["T_WHITESPACE","\n                    ",136],"}",["T_WHITESPACE"," ",137],["T_ELSE","else",137],["T_WHITESPACE"," ",137],"{",["T_WHITESPACE","\n                        ",137],["T_VARIABLE","$markerType",138],["T_WHITESPACE"," ",138],"=",["T_WHITESPACE"," ",138],["T_STRING","Zend_Amf_Constants",138],["T_DOUBLE_COLON","::",138],["T_STRING","AMF3_BOOLEAN_FALSE",138],";",["T_WHITESPACE","\n                    ",138],"}",["T_WHITESPACE","\n                    ",139],["T_BREAK","break",140],";",["T_WHITESPACE","\n                ",140],["T_CASE","case",141],["T_WHITESPACE"," ",141],"(",["T_STRING","is_int",141],"(",["T_VARIABLE","$data",141],")",")",":",["T_WHITESPACE","\n                    ",141],["T_IF","if",142],["T_WHITESPACE"," ",142],"(","(",["T_VARIABLE","$data",142],["T_WHITESPACE"," ",142],">",["T_WHITESPACE"," ",142],["T_LNUMBER","0xFFFFFFF",142],")",["T_WHITESPACE"," ",142],["T_BOOLEAN_OR","||",142],["T_WHITESPACE"," ",142],"(",["T_VARIABLE","$data",142],["T_WHITESPACE"," ",142],"<",["T_WHITESPACE"," ",142],"-",["T_LNUMBER","268435456",142],")",")",["T_WHITESPACE"," ",142],"{",["T_WHITESPACE","\n                        ",142],["T_VARIABLE","$markerType",143],["T_WHITESPACE"," ",143],"=",["T_WHITESPACE"," ",143],["T_STRING","Zend_Amf_Constants",143],["T_DOUBLE_COLON","::",143],["T_STRING","AMF3_NUMBER",143],";",["T_WHITESPACE","\n                    ",143],"}",["T_WHITESPACE"," ",144],["T_ELSE","else",144],["T_WHITESPACE"," ",144],"{",["T_WHITESPACE","\n                        ",144],["T_VARIABLE","$markerType",145],["T_WHITESPACE"," ",145],"=",["T_WHITESPACE"," ",145],["T_STRING","Zend_Amf_Constants",145],["T_DOUBLE_COLON","::",145],["T_STRING","AMF3_INTEGER",145],";",["T_WHITESPACE","\n                    ",145],"}",["T_WHITESPACE","\n                    ",146],["T_BREAK","break",147],";",["T_WHITESPACE","\n                ",147],["T_CASE","case",148],["T_WHITESPACE"," ",148],"(",["T_STRING","is_float",148],"(",["T_VARIABLE","$data",148],")",")",":",["T_WHITESPACE","\n                    ",148],["T_VARIABLE","$markerType",149],["T_WHITESPACE"," ",149],"=",["T_WHITESPACE"," ",149],["T_STRING","Zend_Amf_Constants",149],["T_DOUBLE_COLON","::",149],["T_STRING","AMF3_NUMBER",149],";",["T_WHITESPACE","\n                    ",149],["T_BREAK","break",150],";",["T_WHITESPACE","\n                ",150],["T_CASE","case",151],["T_WHITESPACE"," ",151],"(",["T_STRING","is_string",151],"(",["T_VARIABLE","$data",151],")",")",":",["T_WHITESPACE","\n                    ",151],["T_VARIABLE","$markerType",152],["T_WHITESPACE"," ",152],"=",["T_WHITESPACE"," ",152],["T_STRING","Zend_Amf_Constants",152],["T_DOUBLE_COLON","::",152],["T_STRING","AMF3_STRING",152],";",["T_WHITESPACE","\n                    ",152],["T_BREAK","break",153],";",["T_WHITESPACE","\n                ",153],["T_CASE","case",154],["T_WHITESPACE"," ",154],"(",["T_STRING","is_array",154],"(",["T_VARIABLE","$data",154],")",")",":",["T_WHITESPACE","\n                    ",154],["T_VARIABLE","$markerType",155],["T_WHITESPACE"," ",155],"=",["T_WHITESPACE"," ",155],["T_STRING","Zend_Amf_Constants",155],["T_DOUBLE_COLON","::",155],["T_STRING","AMF3_ARRAY",155],";",["T_WHITESPACE","\n                    ",155],["T_BREAK","break",156],";",["T_WHITESPACE","\n                ",156],["T_CASE","case",157],["T_WHITESPACE"," ",157],"(",["T_STRING","is_object",157],"(",["T_VARIABLE","$data",157],")",")",":",["T_WHITESPACE","\n                    ",157],["T_COMMENT","\/\/ Handle object types.\n",158],["T_WHITESPACE","                    ",159],["T_IF","if",159],["T_WHITESPACE"," ",159],"(","(",["T_VARIABLE","$data",159],["T_WHITESPACE"," ",159],["T_INSTANCEOF","instanceof",159],["T_WHITESPACE"," ",159],["T_STRING","DateTime",159],")",["T_WHITESPACE"," ",159],["T_BOOLEAN_OR","||",159],["T_WHITESPACE"," ",159],"(",["T_VARIABLE","$data",159],["T_WHITESPACE"," ",159],["T_INSTANCEOF","instanceof",159],["T_WHITESPACE"," ",159],["T_STRING","Zend_Date",159],")",")",["T_WHITESPACE"," ",159],"{",["T_WHITESPACE","\n                        ",159],["T_VARIABLE","$markerType",160],["T_WHITESPACE"," ",160],"=",["T_WHITESPACE"," ",160],["T_STRING","Zend_Amf_Constants",160],["T_DOUBLE_COLON","::",160],["T_STRING","AMF3_DATE",160],";",["T_WHITESPACE","\n                    ",160],"}",["T_WHITESPACE"," ",161],["T_ELSE","else",161],["T_WHITESPACE"," ",161],["T_IF","if",161],["T_WHITESPACE"," ",161],"(",["T_VARIABLE","$data",161],["T_WHITESPACE"," ",161],["T_INSTANCEOF","instanceof",161],["T_WHITESPACE"," ",161],["T_STRING","Zend_Amf_Value_ByteArray",161],")",["T_WHITESPACE"," ",161],"{",["T_WHITESPACE","\n                        ",161],["T_VARIABLE","$markerType",162],["T_WHITESPACE"," ",162],"=",["T_WHITESPACE"," ",162],["T_STRING","Zend_Amf_Constants",162],["T_DOUBLE_COLON","::",162],["T_STRING","AMF3_BYTEARRAY",162],";",["T_WHITESPACE","\n                    ",162],"}",["T_WHITESPACE"," ",163],["T_ELSE","else",163],["T_WHITESPACE"," ",163],["T_IF","if",163],["T_WHITESPACE"," ",163],"(","(",["T_VARIABLE","$data",163],["T_WHITESPACE"," ",163],["T_INSTANCEOF","instanceof",163],["T_WHITESPACE"," ",163],["T_STRING","DOMDocument",163],")",["T_WHITESPACE"," ",163],["T_BOOLEAN_OR","||",163],["T_WHITESPACE"," ",163],"(",["T_VARIABLE","$data",163],["T_WHITESPACE"," ",163],["T_INSTANCEOF","instanceof",163],["T_WHITESPACE"," ",163],["T_STRING","SimpleXMLElement",163],")",")",["T_WHITESPACE"," ",163],"{",["T_WHITESPACE","\n                        ",163],["T_VARIABLE","$markerType",164],["T_WHITESPACE"," ",164],"=",["T_WHITESPACE"," ",164],["T_STRING","Zend_Amf_Constants",164],["T_DOUBLE_COLON","::",164],["T_STRING","AMF3_XMLSTRING",164],";",["T_WHITESPACE","\n                    ",164],"}",["T_WHITESPACE"," ",165],["T_ELSE","else",165],["T_WHITESPACE"," ",165],"{",["T_WHITESPACE","\n                        ",165],["T_VARIABLE","$markerType",166],["T_WHITESPACE"," ",166],"=",["T_WHITESPACE"," ",166],["T_STRING","Zend_Amf_Constants",166],["T_DOUBLE_COLON","::",166],["T_STRING","AMF3_OBJECT",166],";",["T_WHITESPACE","\n                    ",166],"}",["T_WHITESPACE","\n                    ",167],["T_BREAK","break",168],";",["T_WHITESPACE","\n                ",168],["T_DEFAULT","default",169],":",["T_WHITESPACE","\n                    ",169],["T_COMMENT","#require_once 'Zend\/Amf\/Exception.php';\n",170],["T_WHITESPACE","                    ",171],["T_THROW","throw",171],["T_WHITESPACE"," ",171],["T_NEW","new",171],["T_WHITESPACE"," ",171],["T_STRING","Zend_Amf_Exception",171],"(",["T_CONSTANT_ENCAPSED_STRING","'Unsupported data type: '",171],["T_WHITESPACE"," ",171],".",["T_WHITESPACE"," ",171],["T_STRING","gettype",171],"(",["T_VARIABLE","$data",171],")",")",";",["T_WHITESPACE","\n            ",171],"}",["T_WHITESPACE","\n            ",172],["T_VARIABLE","$this",173],["T_OBJECT_OPERATOR","->",173],["T_STRING","writeTypeMarker",173],"(",["T_VARIABLE","$data",173],",",["T_WHITESPACE"," ",173],["T_VARIABLE","$markerType",173],")",";",["T_WHITESPACE","\n        ",173],"}",["T_WHITESPACE","\n    ",174],"}",["T_WHITESPACE","\n\n    ",175],["T_DOC_COMMENT","\/**\n     * Write an AMF3 integer\n     *\n     * @param int|float $data\n     * @return Zend_Amf_Parse_Amf3_Serializer\n     *\/",177],["T_WHITESPACE","\n    ",182],["T_PUBLIC","public",183],["T_WHITESPACE"," ",183],["T_FUNCTION","function",183],["T_WHITESPACE"," ",183],["T_STRING","writeInteger",183],"(",["T_VARIABLE","$int",183],")",["T_WHITESPACE","\n    ",183],"{",["T_WHITESPACE","\n        ",184],["T_IF","if",185],["T_WHITESPACE"," ",185],"(","(",["T_VARIABLE","$int",185],["T_WHITESPACE"," ",185],"&",["T_WHITESPACE"," ",185],["T_LNUMBER","0xffffff80",185],")",["T_WHITESPACE"," ",185],["T_IS_EQUAL","==",185],["T_WHITESPACE"," ",185],["T_LNUMBER","0",185],")",["T_WHITESPACE"," ",185],"{",["T_WHITESPACE","\n            ",185],["T_VARIABLE","$this",186],["T_OBJECT_OPERATOR","->",186],["T_STRING","_stream",186],["T_OBJECT_OPERATOR","->",186],["T_STRING","writeByte",186],"(",["T_VARIABLE","$int",186],["T_WHITESPACE"," ",186],"&",["T_WHITESPACE"," ",186],["T_LNUMBER","0x7f",186],")",";",["T_WHITESPACE","\n            ",186],["T_RETURN","return",187],["T_WHITESPACE"," ",187],["T_VARIABLE","$this",187],";",["T_WHITESPACE","\n        ",187],"}",["T_WHITESPACE","\n\n        ",188],["T_IF","if",190],["T_WHITESPACE"," ",190],"(","(",["T_VARIABLE","$int",190],["T_WHITESPACE"," ",190],"&",["T_WHITESPACE"," ",190],["T_LNUMBER","0xffffc000",190],")",["T_WHITESPACE"," ",190],["T_IS_EQUAL","==",190],["T_WHITESPACE"," ",190],["T_LNUMBER","0",190],["T_WHITESPACE"," ",190],")",["T_WHITESPACE"," ",190],"{",["T_WHITESPACE","\n            ",190],["T_VARIABLE","$this",191],["T_OBJECT_OPERATOR","->",191],["T_STRING","_stream",191],["T_OBJECT_OPERATOR","->",191],["T_STRING","writeByte",191],"(","(",["T_VARIABLE","$int",191],["T_WHITESPACE"," ",191],["T_SR",">>",191],["T_WHITESPACE"," ",191],["T_LNUMBER","7",191],["T_WHITESPACE"," ",191],")",["T_WHITESPACE"," ",191],"|",["T_WHITESPACE"," ",191],["T_LNUMBER","0x80",191],")",";",["T_WHITESPACE","\n            ",191],["T_VARIABLE","$this",192],["T_OBJECT_OPERATOR","->",192],["T_STRING","_stream",192],["T_OBJECT_OPERATOR","->",192],["T_STRING","writeByte",192],"(",["T_VARIABLE","$int",192],["T_WHITESPACE"," ",192],"&",["T_WHITESPACE"," ",192],["T_LNUMBER","0x7f",192],")",";",["T_WHITESPACE","\n            ",192],["T_RETURN","return",193],["T_WHITESPACE"," ",193],["T_VARIABLE","$this",193],";",["T_WHITESPACE","\n        ",193],"}",["T_WHITESPACE","\n\n        ",194],["T_IF","if",196],["T_WHITESPACE"," ",196],"(","(",["T_VARIABLE","$int",196],["T_WHITESPACE"," ",196],"&",["T_WHITESPACE"," ",196],["T_LNUMBER","0xffe00000",196],")",["T_WHITESPACE"," ",196],["T_IS_EQUAL","==",196],["T_WHITESPACE"," ",196],["T_LNUMBER","0",196],")",["T_WHITESPACE"," ",196],"{",["T_WHITESPACE","\n            ",196],["T_VARIABLE","$this",197],["T_OBJECT_OPERATOR","->",197],["T_STRING","_stream",197],["T_OBJECT_OPERATOR","->",197],["T_STRING","writeByte",197],"(","(",["T_VARIABLE","$int",197],["T_WHITESPACE"," ",197],["T_SR",">>",197],["T_WHITESPACE"," ",197],["T_LNUMBER","14",197],["T_WHITESPACE"," ",197],")",["T_WHITESPACE"," ",197],"|",["T_WHITESPACE"," ",197],["T_LNUMBER","0x80",197],")",";",["T_WHITESPACE","\n            ",197],["T_VARIABLE","$this",198],["T_OBJECT_OPERATOR","->",198],["T_STRING","_stream",198],["T_OBJECT_OPERATOR","->",198],["T_STRING","writeByte",198],"(","(",["T_VARIABLE","$int",198],["T_WHITESPACE"," ",198],["T_SR",">>",198],["T_WHITESPACE"," ",198],["T_LNUMBER","7",198],["T_WHITESPACE"," ",198],")",["T_WHITESPACE"," ",198],"|",["T_WHITESPACE"," ",198],["T_LNUMBER","0x80",198],")",";",["T_WHITESPACE","\n            ",198],["T_VARIABLE","$this",199],["T_OBJECT_OPERATOR","->",199],["T_STRING","_stream",199],["T_OBJECT_OPERATOR","->",199],["T_STRING","writeByte",199],"(",["T_VARIABLE","$int",199],["T_WHITESPACE"," ",199],"&",["T_WHITESPACE"," ",199],["T_LNUMBER","0x7f",199],")",";",["T_WHITESPACE","\n            ",199],["T_RETURN","return",200],["T_WHITESPACE"," ",200],["T_VARIABLE","$this",200],";",["T_WHITESPACE","\n        ",200],"}",["T_WHITESPACE","\n\n        ",201],["T_VARIABLE","$this",203],["T_OBJECT_OPERATOR","->",203],["T_STRING","_stream",203],["T_OBJECT_OPERATOR","->",203],["T_STRING","writeByte",203],"(","(",["T_VARIABLE","$int",203],["T_WHITESPACE"," ",203],["T_SR",">>",203],["T_WHITESPACE"," ",203],["T_LNUMBER","22",203],["T_WHITESPACE"," ",203],")",["T_WHITESPACE"," ",203],"|",["T_WHITESPACE"," ",203],["T_LNUMBER","0x80",203],")",";",["T_WHITESPACE","\n        ",203],["T_VARIABLE","$this",204],["T_OBJECT_OPERATOR","->",204],["T_STRING","_stream",204],["T_OBJECT_OPERATOR","->",204],["T_STRING","writeByte",204],"(","(",["T_VARIABLE","$int",204],["T_WHITESPACE"," ",204],["T_SR",">>",204],["T_WHITESPACE"," ",204],["T_LNUMBER","15",204],["T_WHITESPACE"," ",204],")",["T_WHITESPACE"," ",204],"|",["T_WHITESPACE"," ",204],["T_LNUMBER","0x80",204],")",";",["T_WHITESPACE","\n        ",204],["T_VARIABLE","$this",205],["T_OBJECT_OPERATOR","->",205],["T_STRING","_stream",205],["T_OBJECT_OPERATOR","->",205],["T_STRING","writeByte",205],"(","(",["T_VARIABLE","$int",205],["T_WHITESPACE"," ",205],["T_SR",">>",205],["T_WHITESPACE"," ",205],["T_LNUMBER","8",205],["T_WHITESPACE"," ",205],")",["T_WHITESPACE"," ",205],"|",["T_WHITESPACE"," ",205],["T_LNUMBER","0x80",205],")",";",["T_WHITESPACE","\n        ",205],["T_VARIABLE","$this",206],["T_OBJECT_OPERATOR","->",206],["T_STRING","_stream",206],["T_OBJECT_OPERATOR","->",206],["T_STRING","writeByte",206],"(",["T_VARIABLE","$int",206],["T_WHITESPACE"," ",206],"&",["T_WHITESPACE"," ",206],["T_LNUMBER","0xff",206],")",";",["T_WHITESPACE","\n        ",206],["T_RETURN","return",207],["T_WHITESPACE"," ",207],["T_VARIABLE","$this",207],";",["T_WHITESPACE","\n    ",207],"}",["T_WHITESPACE","\n\n    ",208],["T_DOC_COMMENT","\/**\n     * Send string to output stream, without trying to reference it.\n     * The string is prepended with strlen($string) << 1 | 0x01\n     *\n     * @param  string $string\n     * @return Zend_Amf_Parse_Amf3_Serializer\n     *\/",210],["T_WHITESPACE","\n    ",216],["T_PROTECTED","protected",217],["T_WHITESPACE"," ",217],["T_FUNCTION","function",217],["T_WHITESPACE"," ",217],["T_STRING","writeBinaryString",217],"(","&",["T_VARIABLE","$string",217],")","{",["T_WHITESPACE","\n        ",217],["T_VARIABLE","$ref",218],["T_WHITESPACE"," ",218],"=",["T_WHITESPACE"," ",218],"(",["T_VARIABLE","$this",218],["T_OBJECT_OPERATOR","->",218],["T_STRING","_mbStringFunctionsOverloaded",218],["T_WHITESPACE"," ",218],"?",["T_WHITESPACE"," ",218],["T_STRING","mb_strlen",218],"(",["T_VARIABLE","$string",218],",",["T_WHITESPACE"," ",218],["T_CONSTANT_ENCAPSED_STRING","'8bit'",218],")",["T_WHITESPACE"," ",218],":",["T_WHITESPACE"," ",218],["T_STRING","strlen",218],"(",["T_VARIABLE","$string",218],")",")",["T_WHITESPACE"," ",218],["T_SL","<<",218],["T_WHITESPACE"," ",218],["T_LNUMBER","1",218],["T_WHITESPACE"," ",218],"|",["T_WHITESPACE"," ",218],["T_LNUMBER","0x01",218],";",["T_WHITESPACE","\n        ",218],["T_VARIABLE","$this",219],["T_OBJECT_OPERATOR","->",219],["T_STRING","writeInteger",219],"(",["T_VARIABLE","$ref",219],")",";",["T_WHITESPACE","\n        ",219],["T_VARIABLE","$this",220],["T_OBJECT_OPERATOR","->",220],["T_STRING","_stream",220],["T_OBJECT_OPERATOR","->",220],["T_STRING","writeBytes",220],"(",["T_VARIABLE","$string",220],")",";",["T_WHITESPACE","\n\n        ",220],["T_RETURN","return",222],["T_WHITESPACE"," ",222],["T_VARIABLE","$this",222],";",["T_WHITESPACE","\n    ",222],"}",["T_WHITESPACE","\n\n    ",223],["T_DOC_COMMENT","\/**\n     * Send string to output stream\n     *\n     * @param  string $string\n     * @return Zend_Amf_Parse_Amf3_Serializer\n     *\/",225],["T_WHITESPACE","\n    ",230],["T_PUBLIC","public",231],["T_WHITESPACE"," ",231],["T_FUNCTION","function",231],["T_WHITESPACE"," ",231],["T_STRING","writeString",231],"(","&",["T_VARIABLE","$string",231],")",["T_WHITESPACE","\n    ",231],"{",["T_WHITESPACE","\n        ",232],["T_VARIABLE","$len",233],["T_WHITESPACE"," ",233],"=",["T_WHITESPACE"," ",233],["T_VARIABLE","$this",233],["T_OBJECT_OPERATOR","->",233],["T_STRING","_mbStringFunctionsOverloaded",233],["T_WHITESPACE"," ",233],"?",["T_WHITESPACE"," ",233],["T_STRING","mb_strlen",233],"(",["T_VARIABLE","$string",233],",",["T_WHITESPACE"," ",233],["T_CONSTANT_ENCAPSED_STRING","'8bit'",233],")",["T_WHITESPACE"," ",233],":",["T_WHITESPACE"," ",233],["T_STRING","strlen",233],"(",["T_VARIABLE","$string",233],")",";",["T_WHITESPACE","\n        ",233],["T_IF","if",234],"(","!",["T_VARIABLE","$len",234],")","{",["T_WHITESPACE","\n            ",234],["T_VARIABLE","$this",235],["T_OBJECT_OPERATOR","->",235],["T_STRING","writeInteger",235],"(",["T_LNUMBER","0x01",235],")",";",["T_WHITESPACE","\n            ",235],["T_RETURN","return",236],["T_WHITESPACE"," ",236],["T_VARIABLE","$this",236],";",["T_WHITESPACE","\n        ",236],"}",["T_WHITESPACE","\n\n        ",237],["T_VARIABLE","$ref",239],["T_WHITESPACE"," ",239],"=",["T_WHITESPACE"," ",239],["T_STRING","array_key_exists",239],"(",["T_VARIABLE","$string",239],",",["T_WHITESPACE"," ",239],["T_VARIABLE","$this",239],["T_OBJECT_OPERATOR","->",239],["T_STRING","_referenceStrings",239],")",["T_WHITESPACE"," \n             ",239],"?",["T_WHITESPACE"," ",240],["T_VARIABLE","$this",240],["T_OBJECT_OPERATOR","->",240],["T_STRING","_referenceStrings",240],"[",["T_VARIABLE","$string",240],"]",["T_WHITESPACE"," \n             ",240],":",["T_WHITESPACE"," ",241],["T_STRING","false",241],";",["T_WHITESPACE","\n        ",241],["T_IF","if",242],["T_WHITESPACE"," ",242],"(",["T_VARIABLE","$ref",242],["T_WHITESPACE"," ",242],["T_IS_IDENTICAL","===",242],["T_WHITESPACE"," ",242],["T_STRING","false",242],")","{",["T_WHITESPACE","\n            ",242],["T_VARIABLE","$this",243],["T_OBJECT_OPERATOR","->",243],["T_STRING","_referenceStrings",243],"[",["T_VARIABLE","$string",243],"]",["T_WHITESPACE"," ",243],"=",["T_WHITESPACE"," ",243],["T_STRING","count",243],"(",["T_VARIABLE","$this",243],["T_OBJECT_OPERATOR","->",243],["T_STRING","_referenceStrings",243],")",";",["T_WHITESPACE","\n            ",243],["T_VARIABLE","$this",244],["T_OBJECT_OPERATOR","->",244],["T_STRING","writeBinaryString",244],"(",["T_VARIABLE","$string",244],")",";",["T_WHITESPACE","\n        ",244],"}",["T_WHITESPACE"," ",245],["T_ELSE","else",245],["T_WHITESPACE"," ",245],"{",["T_WHITESPACE","\n            ",245],["T_VARIABLE","$ref",246],["T_WHITESPACE"," ",246],["T_SL_EQUAL","<<=",246],["T_WHITESPACE"," ",246],["T_LNUMBER","1",246],";",["T_WHITESPACE","\n            ",246],["T_VARIABLE","$this",247],["T_OBJECT_OPERATOR","->",247],["T_STRING","writeInteger",247],"(",["T_VARIABLE","$ref",247],")",";",["T_WHITESPACE","\n        ",247],"}",["T_WHITESPACE","\n\n        ",248],["T_RETURN","return",250],["T_WHITESPACE"," ",250],["T_VARIABLE","$this",250],";",["T_WHITESPACE","\n    ",250],"}",["T_WHITESPACE","\n\n    ",251],["T_DOC_COMMENT","\/**\n     * Send ByteArray to output stream\n     *\n     * @param  string|Zend_Amf_Value_ByteArray  $data\n     * @return Zend_Amf_Parse_Amf3_Serializer\n     *\/",253],["T_WHITESPACE","\n    ",258],["T_PUBLIC","public",259],["T_WHITESPACE"," ",259],["T_FUNCTION","function",259],["T_WHITESPACE"," ",259],["T_STRING","writeByteArray",259],"(","&",["T_VARIABLE","$data",259],")",["T_WHITESPACE","\n    ",259],"{",["T_WHITESPACE","\n        ",260],["T_IF","if",261],["T_WHITESPACE"," ",261],"(",["T_VARIABLE","$this",261],["T_OBJECT_OPERATOR","->",261],["T_STRING","writeObjectReference",261],"(",["T_VARIABLE","$data",261],")",")",["T_WHITESPACE"," ",261],"{",["T_WHITESPACE","\n            ",261],["T_RETURN","return",262],["T_WHITESPACE"," ",262],["T_VARIABLE","$this",262],";",["T_WHITESPACE","\n        ",262],"}",["T_WHITESPACE","\n\n        ",263],["T_IF","if",265],["T_WHITESPACE"," ",265],"(",["T_STRING","is_string",265],"(",["T_VARIABLE","$data",265],")",")",["T_WHITESPACE"," ",265],"{",["T_WHITESPACE","\n            ",265],["T_COMMENT","\/\/nothing to do\n",266],["T_WHITESPACE","        ",267],"}",["T_WHITESPACE"," ",267],["T_ELSE","else",267],["T_WHITESPACE"," ",267],["T_IF","if",267],["T_WHITESPACE"," ",267],"(",["T_VARIABLE","$data",267],["T_WHITESPACE"," ",267],["T_INSTANCEOF","instanceof",267],["T_WHITESPACE"," ",267],["T_STRING","Zend_Amf_Value_ByteArray",267],")",["T_WHITESPACE"," ",267],"{",["T_WHITESPACE","\n            ",267],["T_VARIABLE","$data",268],["T_WHITESPACE"," ",268],"=",["T_WHITESPACE"," ",268],["T_VARIABLE","$data",268],["T_OBJECT_OPERATOR","->",268],["T_STRING","getData",268],"(",")",";",["T_WHITESPACE","\n        ",268],"}",["T_WHITESPACE"," ",269],["T_ELSE","else",269],["T_WHITESPACE"," ",269],"{",["T_WHITESPACE","\n            ",269],["T_COMMENT","#require_once 'Zend\/Amf\/Exception.php';\n",270],["T_WHITESPACE","            ",271],["T_THROW","throw",271],["T_WHITESPACE"," ",271],["T_NEW","new",271],["T_WHITESPACE"," ",271],["T_STRING","Zend_Amf_Exception",271],"(",["T_CONSTANT_ENCAPSED_STRING","'Invalid ByteArray specified; must be a string or Zend_Amf_Value_ByteArray'",271],")",";",["T_WHITESPACE","\n        ",271],"}",["T_WHITESPACE","\n\n        ",272],["T_VARIABLE","$this",274],["T_OBJECT_OPERATOR","->",274],["T_STRING","writeBinaryString",274],"(",["T_VARIABLE","$data",274],")",";",["T_WHITESPACE","\n\n        ",274],["T_RETURN","return",276],["T_WHITESPACE"," ",276],["T_VARIABLE","$this",276],";",["T_WHITESPACE","\n    ",276],"}",["T_WHITESPACE","\n\n    ",277],["T_DOC_COMMENT","\/**\n     * Send xml to output stream\n     *\n     * @param  DOMDocument|SimpleXMLElement  $xml\n     * @return Zend_Amf_Parse_Amf3_Serializer\n     *\/",279],["T_WHITESPACE","\n    ",284],["T_PUBLIC","public",285],["T_WHITESPACE"," ",285],["T_FUNCTION","function",285],["T_WHITESPACE"," ",285],["T_STRING","writeXml",285],"(",["T_VARIABLE","$xml",285],")",["T_WHITESPACE","\n    ",285],"{",["T_WHITESPACE","\n        ",286],["T_IF","if",287],["T_WHITESPACE"," ",287],"(",["T_VARIABLE","$this",287],["T_OBJECT_OPERATOR","->",287],["T_STRING","writeObjectReference",287],"(",["T_VARIABLE","$xml",287],")",")",["T_WHITESPACE"," ",287],"{",["T_WHITESPACE","\n            ",287],["T_RETURN","return",288],["T_WHITESPACE"," ",288],["T_VARIABLE","$this",288],";",["T_WHITESPACE","\n        ",288],"}",["T_WHITESPACE","\n\n        ",289],["T_IF","if",291],"(",["T_STRING","is_string",291],"(",["T_VARIABLE","$xml",291],")",")",["T_WHITESPACE"," ",291],"{",["T_WHITESPACE","\n            ",291],["T_COMMENT","\/\/nothing to do\n",292],["T_WHITESPACE","        ",293],"}",["T_WHITESPACE"," ",293],["T_ELSE","else",293],["T_WHITESPACE"," ",293],["T_IF","if",293],["T_WHITESPACE"," ",293],"(",["T_VARIABLE","$xml",293],["T_WHITESPACE"," ",293],["T_INSTANCEOF","instanceof",293],["T_WHITESPACE"," ",293],["T_STRING","DOMDocument",293],")",["T_WHITESPACE"," ",293],"{",["T_WHITESPACE","\n            ",293],["T_VARIABLE","$xml",294],["T_WHITESPACE"," ",294],"=",["T_WHITESPACE"," ",294],["T_VARIABLE","$xml",294],["T_OBJECT_OPERATOR","->",294],["T_STRING","saveXml",294],"(",")",";",["T_WHITESPACE","\n        ",294],"}",["T_WHITESPACE"," ",295],["T_ELSE","else",295],["T_WHITESPACE"," ",295],["T_IF","if",295],["T_WHITESPACE"," ",295],"(",["T_VARIABLE","$xml",295],["T_WHITESPACE"," ",295],["T_INSTANCEOF","instanceof",295],["T_WHITESPACE"," ",295],["T_STRING","SimpleXMLElement",295],")",["T_WHITESPACE"," ",295],"{",["T_WHITESPACE","\n            ",295],["T_VARIABLE","$xml",296],["T_WHITESPACE"," ",296],"=",["T_WHITESPACE"," ",296],["T_VARIABLE","$xml",296],["T_OBJECT_OPERATOR","->",296],["T_STRING","asXML",296],"(",")",";",["T_WHITESPACE","\n        ",296],"}",["T_WHITESPACE"," ",297],["T_ELSE","else",297],["T_WHITESPACE"," ",297],"{",["T_WHITESPACE","\n            ",297],["T_COMMENT","#require_once 'Zend\/Amf\/Exception.php';\n",298],["T_WHITESPACE","            ",299],["T_THROW","throw",299],["T_WHITESPACE"," ",299],["T_NEW","new",299],["T_WHITESPACE"," ",299],["T_STRING","Zend_Amf_Exception",299],"(",["T_CONSTANT_ENCAPSED_STRING","'Invalid xml specified; must be a DOMDocument or SimpleXMLElement'",299],")",";",["T_WHITESPACE","\n        ",299],"}",["T_WHITESPACE","\n\n        ",300],["T_VARIABLE","$this",302],["T_OBJECT_OPERATOR","->",302],["T_STRING","writeBinaryString",302],"(",["T_VARIABLE","$xml",302],")",";",["T_WHITESPACE","\n\n        ",302],["T_RETURN","return",304],["T_WHITESPACE"," ",304],["T_VARIABLE","$this",304],";",["T_WHITESPACE","\n    ",304],"}",["T_WHITESPACE","\n\n    ",305],["T_DOC_COMMENT","\/**\n     * Convert DateTime\/Zend_Date to AMF date\n     *\n     * @param  DateTime|Zend_Date $date\n     * @return Zend_Amf_Parse_Amf3_Serializer\n     *\/",307],["T_WHITESPACE","\n    ",312],["T_PUBLIC","public",313],["T_WHITESPACE"," ",313],["T_FUNCTION","function",313],["T_WHITESPACE"," ",313],["T_STRING","writeDate",313],"(",["T_VARIABLE","$date",313],")",["T_WHITESPACE","\n    ",313],"{",["T_WHITESPACE","\n        ",314],["T_IF","if",315],["T_WHITESPACE"," ",315],"(",["T_VARIABLE","$this",315],["T_OBJECT_OPERATOR","->",315],["T_STRING","writeObjectReference",315],"(",["T_VARIABLE","$date",315],")",")",["T_WHITESPACE"," ",315],"{",["T_WHITESPACE","\n            ",315],["T_RETURN","return",316],["T_WHITESPACE"," ",316],["T_VARIABLE","$this",316],";",["T_WHITESPACE","\n        ",316],"}",["T_WHITESPACE","\n\n        ",317],["T_IF","if",319],["T_WHITESPACE"," ",319],"(",["T_VARIABLE","$date",319],["T_WHITESPACE"," ",319],["T_INSTANCEOF","instanceof",319],["T_WHITESPACE"," ",319],["T_STRING","DateTime",319],")",["T_WHITESPACE"," ",319],"{",["T_WHITESPACE","\n            ",319],["T_VARIABLE","$dateString",320],["T_WHITESPACE"," ",320],"=",["T_WHITESPACE"," ",320],["T_VARIABLE","$date",320],["T_OBJECT_OPERATOR","->",320],["T_STRING","format",320],"(",["T_CONSTANT_ENCAPSED_STRING","'U'",320],")",["T_WHITESPACE"," ",320],"*",["T_WHITESPACE"," ",320],["T_LNUMBER","1000",320],";",["T_WHITESPACE","\n        ",320],"}",["T_WHITESPACE"," ",321],["T_ELSEIF","elseif",321],["T_WHITESPACE"," ",321],"(",["T_VARIABLE","$date",321],["T_WHITESPACE"," ",321],["T_INSTANCEOF","instanceof",321],["T_WHITESPACE"," ",321],["T_STRING","Zend_Date",321],")",["T_WHITESPACE"," ",321],"{",["T_WHITESPACE","\n            ",321],["T_VARIABLE","$dateString",322],["T_WHITESPACE"," ",322],"=",["T_WHITESPACE"," ",322],["T_VARIABLE","$date",322],["T_OBJECT_OPERATOR","->",322],["T_STRING","toString",322],"(",["T_CONSTANT_ENCAPSED_STRING","'U'",322],")",["T_WHITESPACE"," ",322],"*",["T_WHITESPACE"," ",322],["T_LNUMBER","1000",322],";",["T_WHITESPACE","\n        ",322],"}",["T_WHITESPACE"," ",323],["T_ELSE","else",323],["T_WHITESPACE"," ",323],"{",["T_WHITESPACE","\n            ",323],["T_COMMENT","#require_once 'Zend\/Amf\/Exception.php';\n",324],["T_WHITESPACE","            ",325],["T_THROW","throw",325],["T_WHITESPACE"," ",325],["T_NEW","new",325],["T_WHITESPACE"," ",325],["T_STRING","Zend_Amf_Exception",325],"(",["T_CONSTANT_ENCAPSED_STRING","'Invalid date specified; must be a string DateTime or Zend_Date object'",325],")",";",["T_WHITESPACE","\n        ",325],"}",["T_WHITESPACE","\n\n        ",326],["T_VARIABLE","$this",328],["T_OBJECT_OPERATOR","->",328],["T_STRING","writeInteger",328],"(",["T_LNUMBER","0x01",328],")",";",["T_WHITESPACE","\n        ",328],["T_COMMENT","\/\/ write time to stream minus milliseconds\n",329],["T_WHITESPACE","        ",330],["T_VARIABLE","$this",330],["T_OBJECT_OPERATOR","->",330],["T_STRING","_stream",330],["T_OBJECT_OPERATOR","->",330],["T_STRING","writeDouble",330],"(",["T_VARIABLE","$dateString",330],")",";",["T_WHITESPACE","\n        ",330],["T_RETURN","return",331],["T_WHITESPACE"," ",331],["T_VARIABLE","$this",331],";",["T_WHITESPACE","\n    ",331],"}",["T_WHITESPACE","\n\n    ",332],["T_DOC_COMMENT","\/**\n     * Write a PHP array back to the amf output stream\n     *\n     * @param array $array\n     * @return Zend_Amf_Parse_Amf3_Serializer\n     *\/",334],["T_WHITESPACE","\n    ",339],["T_PUBLIC","public",340],["T_WHITESPACE"," ",340],["T_FUNCTION","function",340],["T_WHITESPACE"," ",340],["T_STRING","writeArray",340],"(","&",["T_VARIABLE","$array",340],")",["T_WHITESPACE","\n    ",340],"{",["T_WHITESPACE","\n        ",341],["T_COMMENT","\/\/ arrays aren't reference here but still counted\n",342],["T_WHITESPACE","        ",343],["T_VARIABLE","$this",343],["T_OBJECT_OPERATOR","->",343],["T_STRING","_referenceObjects",343],"[","]",["T_WHITESPACE"," ",343],"=",["T_WHITESPACE"," ",343],["T_VARIABLE","$array",343],";",["T_WHITESPACE","\n\n        ",343],["T_COMMENT","\/\/ have to seperate mixed from numberic keys.\n",345],["T_WHITESPACE","        ",346],["T_VARIABLE","$numeric",346],["T_WHITESPACE"," ",346],"=",["T_WHITESPACE"," ",346],["T_ARRAY","array",346],"(",")",";",["T_WHITESPACE","\n        ",346],["T_VARIABLE","$string",347],["T_WHITESPACE","  ",347],"=",["T_WHITESPACE"," ",347],["T_ARRAY","array",347],"(",")",";",["T_WHITESPACE","\n        ",347],["T_FOREACH","foreach",348],["T_WHITESPACE"," ",348],"(",["T_VARIABLE","$array",348],["T_WHITESPACE"," ",348],["T_AS","as",348],["T_WHITESPACE"," ",348],["T_VARIABLE","$key",348],["T_WHITESPACE"," ",348],["T_DOUBLE_ARROW","=>",348],["T_WHITESPACE"," ",348],"&",["T_VARIABLE","$value",348],")",["T_WHITESPACE"," ",348],"{",["T_WHITESPACE","\n            ",348],["T_IF","if",349],["T_WHITESPACE"," ",349],"(",["T_STRING","is_int",349],"(",["T_VARIABLE","$key",349],")",")",["T_WHITESPACE"," ",349],"{",["T_WHITESPACE","\n                ",349],["T_VARIABLE","$numeric",350],"[","]",["T_WHITESPACE"," ",350],"=",["T_WHITESPACE"," ",350],["T_VARIABLE","$value",350],";",["T_WHITESPACE","\n            ",350],"}",["T_WHITESPACE"," ",351],["T_ELSE","else",351],["T_WHITESPACE"," ",351],"{",["T_WHITESPACE","\n                ",351],["T_VARIABLE","$string",352],"[",["T_VARIABLE","$key",352],"]",["T_WHITESPACE"," ",352],"=",["T_WHITESPACE"," ",352],["T_VARIABLE","$value",352],";",["T_WHITESPACE","\n            ",352],"}",["T_WHITESPACE","\n        ",353],"}",["T_WHITESPACE","\n\n        ",354],["T_COMMENT","\/\/ write the preamble id of the array\n",356],["T_WHITESPACE","        ",357],["T_VARIABLE","$length",357],["T_WHITESPACE"," ",357],"=",["T_WHITESPACE"," ",357],["T_STRING","count",357],"(",["T_VARIABLE","$numeric",357],")",";",["T_WHITESPACE","\n        ",357],["T_VARIABLE","$id",358],["T_WHITESPACE","     ",358],"=",["T_WHITESPACE"," ",358],"(",["T_VARIABLE","$length",358],["T_WHITESPACE"," ",358],["T_SL","<<",358],["T_WHITESPACE"," ",358],["T_LNUMBER","1",358],")",["T_WHITESPACE"," ",358],"|",["T_WHITESPACE"," ",358],["T_LNUMBER","0x01",358],";",["T_WHITESPACE","\n        ",358],["T_VARIABLE","$this",359],["T_OBJECT_OPERATOR","->",359],["T_STRING","writeInteger",359],"(",["T_VARIABLE","$id",359],")",";",["T_WHITESPACE","\n\n        ",359],["T_COMMENT","\/\/Write the mixed type array to the output stream\n",361],["T_WHITESPACE","        ",362],["T_FOREACH","foreach",362],"(",["T_VARIABLE","$string",362],["T_WHITESPACE"," ",362],["T_AS","as",362],["T_WHITESPACE"," ",362],["T_VARIABLE","$key",362],["T_WHITESPACE"," ",362],["T_DOUBLE_ARROW","=>",362],["T_WHITESPACE"," ",362],"&",["T_VARIABLE","$value",362],")",["T_WHITESPACE"," ",362],"{",["T_WHITESPACE","\n            ",362],["T_VARIABLE","$this",363],["T_OBJECT_OPERATOR","->",363],["T_STRING","writeString",363],"(",["T_VARIABLE","$key",363],")",["T_WHITESPACE","\n                 ",363],["T_OBJECT_OPERATOR","->",364],["T_STRING","writeTypeMarker",364],"(",["T_VARIABLE","$value",364],")",";",["T_WHITESPACE","\n        ",364],"}",["T_WHITESPACE","\n        ",365],["T_VARIABLE","$this",366],["T_OBJECT_OPERATOR","->",366],["T_STRING","writeString",366],"(",["T_VARIABLE","$this",366],["T_OBJECT_OPERATOR","->",366],["T_STRING","_strEmpty",366],")",";",["T_WHITESPACE","\n\n        ",366],["T_COMMENT","\/\/ Write the numeric array to ouput stream\n",368],["T_WHITESPACE","        ",369],["T_FOREACH","foreach",369],"(",["T_VARIABLE","$numeric",369],["T_WHITESPACE"," ",369],["T_AS","as",369],["T_WHITESPACE"," ",369],"&",["T_VARIABLE","$value",369],")",["T_WHITESPACE"," ",369],"{",["T_WHITESPACE","\n            ",369],["T_VARIABLE","$this",370],["T_OBJECT_OPERATOR","->",370],["T_STRING","writeTypeMarker",370],"(",["T_VARIABLE","$value",370],")",";",["T_WHITESPACE","\n        ",370],"}",["T_WHITESPACE","\n        ",371],["T_RETURN","return",372],["T_WHITESPACE"," ",372],["T_VARIABLE","$this",372],";",["T_WHITESPACE","\n    ",372],"}",["T_WHITESPACE","\n\n    ",373],["T_DOC_COMMENT","\/**\n     * Check if the given object is in the reference table, write the reference if it exists,\n     * otherwise add the object to the reference table\n     *\n     * @param mixed $object object reference to check for reference\n     * @param mixed $objectByVal object to check for reference\n     * @return Boolean true, if the reference was written, false otherwise\n     *\/",375],["T_WHITESPACE","\n    ",382],["T_PROTECTED","protected",383],["T_WHITESPACE"," ",383],["T_FUNCTION","function",383],["T_WHITESPACE"," ",383],["T_STRING","writeObjectReference",383],"(","&",["T_VARIABLE","$object",383],",",["T_WHITESPACE"," ",383],["T_VARIABLE","$objectByVal",383],["T_WHITESPACE"," ",383],"=",["T_WHITESPACE"," ",383],["T_STRING","false",383],")",["T_WHITESPACE","\n    ",383],"{",["T_WHITESPACE","\n        ",384],["T_COMMENT","\/\/ Workaround for PHP5 with E_STRICT enabled complaining about \"Only\n",385],["T_WHITESPACE","        ",386],["T_COMMENT","\/\/ variables should be passed by reference\"\n",386],["T_WHITESPACE","        ",387],["T_IF","if",387],["T_WHITESPACE"," ",387],"(","(",["T_STRING","null",387],["T_WHITESPACE"," ",387],["T_IS_IDENTICAL","===",387],["T_WHITESPACE"," ",387],["T_VARIABLE","$object",387],")",["T_WHITESPACE"," ",387],["T_BOOLEAN_AND","&&",387],["T_WHITESPACE"," ",387],"(",["T_VARIABLE","$objectByVal",387],["T_WHITESPACE"," ",387],["T_IS_NOT_IDENTICAL","!==",387],["T_WHITESPACE"," ",387],["T_STRING","false",387],")",")",["T_WHITESPACE"," ",387],"{",["T_WHITESPACE","\n            ",387],["T_VARIABLE","$object",388],["T_WHITESPACE"," ",388],"=",["T_WHITESPACE"," ",388],"&",["T_VARIABLE","$objectByVal",388],";",["T_WHITESPACE","\n        ",388],"}",["T_WHITESPACE","\n\n        ",389],["T_VARIABLE","$hash",391],["T_WHITESPACE"," ",391],"=",["T_WHITESPACE"," ",391],["T_STRING","spl_object_hash",391],"(",["T_VARIABLE","$object",391],")",";",["T_WHITESPACE","\n        ",391],["T_VARIABLE","$ref",392],["T_WHITESPACE"," ",392],"=",["T_WHITESPACE"," ",392],["T_STRING","array_key_exists",392],"(",["T_VARIABLE","$hash",392],",",["T_WHITESPACE"," ",392],["T_VARIABLE","$this",392],["T_OBJECT_OPERATOR","->",392],["T_STRING","_referenceObjects",392],")",["T_WHITESPACE"," \n             ",392],"?",["T_WHITESPACE"," ",393],["T_VARIABLE","$this",393],["T_OBJECT_OPERATOR","->",393],["T_STRING","_referenceObjects",393],"[",["T_VARIABLE","$hash",393],"]",["T_WHITESPACE"," \n             ",393],":",["T_WHITESPACE"," ",394],["T_STRING","false",394],";",["T_WHITESPACE","\n\n        ",394],["T_COMMENT","\/\/ quickly handle object references\n",396],["T_WHITESPACE","        ",397],["T_IF","if",397],["T_WHITESPACE"," ",397],"(",["T_VARIABLE","$ref",397],["T_WHITESPACE"," ",397],["T_IS_NOT_IDENTICAL","!==",397],["T_WHITESPACE"," ",397],["T_STRING","false",397],")","{",["T_WHITESPACE","\n            ",397],["T_VARIABLE","$ref",398],["T_WHITESPACE"," ",398],["T_SL_EQUAL","<<=",398],["T_WHITESPACE"," ",398],["T_LNUMBER","1",398],";",["T_WHITESPACE","\n            ",398],["T_VARIABLE","$this",399],["T_OBJECT_OPERATOR","->",399],["T_STRING","writeInteger",399],"(",["T_VARIABLE","$ref",399],")",";",["T_WHITESPACE","\n            ",399],["T_RETURN","return",400],["T_WHITESPACE"," ",400],["T_STRING","true",400],";",["T_WHITESPACE","\n        ",400],"}",["T_WHITESPACE","\n        ",401],["T_VARIABLE","$this",402],["T_OBJECT_OPERATOR","->",402],["T_STRING","_referenceObjects",402],"[",["T_VARIABLE","$hash",402],"]",["T_WHITESPACE"," ",402],"=",["T_WHITESPACE"," ",402],["T_STRING","count",402],"(",["T_VARIABLE","$this",402],["T_OBJECT_OPERATOR","->",402],["T_STRING","_referenceObjects",402],")",";",["T_WHITESPACE","\n        ",402],["T_RETURN","return",403],["T_WHITESPACE"," ",403],["T_STRING","false",403],";",["T_WHITESPACE","\n    ",403],"}",["T_WHITESPACE","\n\n    ",404],["T_DOC_COMMENT","\/**\n     * Write object to ouput stream\n     *\n     * @param  mixed $data\n     * @return Zend_Amf_Parse_Amf3_Serializer\n     *\/",406],["T_WHITESPACE","\n    ",411],["T_PUBLIC","public",412],["T_WHITESPACE"," ",412],["T_FUNCTION","function",412],["T_WHITESPACE"," ",412],["T_STRING","writeObject",412],"(",["T_VARIABLE","$object",412],")",["T_WHITESPACE","\n    ",412],"{",["T_WHITESPACE","\n        ",413],["T_IF","if",414],"(",["T_VARIABLE","$this",414],["T_OBJECT_OPERATOR","->",414],["T_STRING","writeObjectReference",414],"(",["T_VARIABLE","$object",414],")",")","{",["T_WHITESPACE","\n            ",414],["T_RETURN","return",415],["T_WHITESPACE"," ",415],["T_VARIABLE","$this",415],";",["T_WHITESPACE","\n        ",415],"}",["T_WHITESPACE","\n\n        ",416],["T_VARIABLE","$className",418],["T_WHITESPACE"," ",418],"=",["T_WHITESPACE"," ",418],["T_CONSTANT_ENCAPSED_STRING","''",418],";",["T_WHITESPACE","\n\n        ",418],["T_COMMENT","\/\/Check to see if the object is a typed object and we need to change\n",420],["T_WHITESPACE","        ",421],["T_SWITCH","switch",421],["T_WHITESPACE"," ",421],"(",["T_STRING","true",421],")",["T_WHITESPACE"," ",421],"{",["T_WHITESPACE","\n             ",421],["T_COMMENT","\/\/ the return class mapped name back to actionscript class name.\n",422],["T_WHITESPACE","            ",423],["T_CASE","case",423],["T_WHITESPACE"," ",423],"(",["T_VARIABLE","$className",423],["T_WHITESPACE"," ",423],"=",["T_WHITESPACE"," ",423],["T_STRING","Zend_Amf_Parse_TypeLoader",423],["T_DOUBLE_COLON","::",423],["T_STRING","getMappedClassName",423],"(",["T_STRING","get_class",423],"(",["T_VARIABLE","$object",423],")",")",")",":",["T_WHITESPACE","\n                ",423],["T_BREAK","break",424],";",["T_WHITESPACE","\n\n            ",424],["T_COMMENT","\/\/ Check to see if the user has defined an explicit Action Script type.\n",426],["T_WHITESPACE","            ",427],["T_CASE","case",427],["T_WHITESPACE"," ",427],["T_ISSET","isset",427],"(",["T_VARIABLE","$object",427],["T_OBJECT_OPERATOR","->",427],["T_STRING","_explicitType",427],")",":",["T_WHITESPACE","\n                ",427],["T_VARIABLE","$className",428],["T_WHITESPACE"," ",428],"=",["T_WHITESPACE"," ",428],["T_VARIABLE","$object",428],["T_OBJECT_OPERATOR","->",428],["T_STRING","_explicitType",428],";",["T_WHITESPACE","\n                ",428],["T_BREAK","break",429],";",["T_WHITESPACE","\n\n            ",429],["T_COMMENT","\/\/ Check if user has defined a method for accessing the Action Script type\n",431],["T_WHITESPACE","            ",432],["T_CASE","case",432],["T_WHITESPACE"," ",432],["T_STRING","method_exists",432],"(",["T_VARIABLE","$object",432],",",["T_WHITESPACE"," ",432],["T_CONSTANT_ENCAPSED_STRING","'getASClassName'",432],")",":",["T_WHITESPACE","\n                ",432],["T_VARIABLE","$className",433],["T_WHITESPACE"," ",433],"=",["T_WHITESPACE"," ",433],["T_VARIABLE","$object",433],["T_OBJECT_OPERATOR","->",433],["T_STRING","getASClassName",433],"(",")",";",["T_WHITESPACE","\n                ",433],["T_BREAK","break",434],";",["T_WHITESPACE","\n\n            ",434],["T_COMMENT","\/\/ No return class name is set make it a generic object\n",436],["T_WHITESPACE","            ",437],["T_CASE","case",437],["T_WHITESPACE"," ",437],"(",["T_VARIABLE","$object",437],["T_WHITESPACE"," ",437],["T_INSTANCEOF","instanceof",437],["T_WHITESPACE"," ",437],["T_STRING","stdClass",437],")",":",["T_WHITESPACE","\n                ",437],["T_VARIABLE","$className",438],["T_WHITESPACE"," ",438],"=",["T_WHITESPACE"," ",438],["T_CONSTANT_ENCAPSED_STRING","''",438],";",["T_WHITESPACE","\n                ",438],["T_BREAK","break",439],";",["T_WHITESPACE","\n\n             ",439],["T_COMMENT","\/\/ By default, use object's class name\n",441],["T_WHITESPACE","            ",442],["T_DEFAULT","default",442],":",["T_WHITESPACE","\n                ",442],["T_VARIABLE","$className",443],["T_WHITESPACE"," ",443],"=",["T_WHITESPACE"," ",443],["T_STRING","get_class",443],"(",["T_VARIABLE","$object",443],")",";",["T_WHITESPACE","\n                ",443],["T_BREAK","break",444],";",["T_WHITESPACE","\n        ",444],"}",["T_WHITESPACE","\n\n        ",445],["T_VARIABLE","$writeTraits",447],["T_WHITESPACE"," ",447],"=",["T_WHITESPACE"," ",447],["T_STRING","true",447],";",["T_WHITESPACE","\n\n        ",447],["T_COMMENT","\/\/check to see, if we have a corresponding definition\n",449],["T_WHITESPACE","        ",450],["T_IF","if",450],"(",["T_STRING","array_key_exists",450],"(",["T_VARIABLE","$className",450],",",["T_WHITESPACE"," ",450],["T_VARIABLE","$this",450],["T_OBJECT_OPERATOR","->",450],["T_STRING","_referenceDefinitions",450],")",")","{",["T_WHITESPACE","\n            ",450],["T_VARIABLE","$traitsInfo",451],["T_WHITESPACE","    ",451],"=",["T_WHITESPACE"," ",451],["T_VARIABLE","$this",451],["T_OBJECT_OPERATOR","->",451],["T_STRING","_referenceDefinitions",451],"[",["T_VARIABLE","$className",451],"]","[",["T_CONSTANT_ENCAPSED_STRING","'id'",451],"]",";",["T_WHITESPACE","\n            ",451],["T_VARIABLE","$encoding",452],["T_WHITESPACE","      ",452],"=",["T_WHITESPACE"," ",452],["T_VARIABLE","$this",452],["T_OBJECT_OPERATOR","->",452],["T_STRING","_referenceDefinitions",452],"[",["T_VARIABLE","$className",452],"]","[",["T_CONSTANT_ENCAPSED_STRING","'encoding'",452],"]",";",["T_WHITESPACE","\n            ",452],["T_VARIABLE","$propertyNames",453],["T_WHITESPACE"," ",453],"=",["T_WHITESPACE"," ",453],["T_VARIABLE","$this",453],["T_OBJECT_OPERATOR","->",453],["T_STRING","_referenceDefinitions",453],"[",["T_VARIABLE","$className",453],"]","[",["T_CONSTANT_ENCAPSED_STRING","'propertyNames'",453],"]",";",["T_WHITESPACE","\n\n            ",453],["T_VARIABLE","$traitsInfo",455],["T_WHITESPACE"," ",455],"=",["T_WHITESPACE"," ",455],"(",["T_VARIABLE","$traitsInfo",455],["T_WHITESPACE"," ",455],["T_SL","<<",455],["T_WHITESPACE"," ",455],["T_LNUMBER","2",455],")",["T_WHITESPACE"," ",455],"|",["T_WHITESPACE"," ",455],["T_LNUMBER","0x01",455],";",["T_WHITESPACE","\n\n            ",455],["T_VARIABLE","$writeTraits",457],["T_WHITESPACE"," ",457],"=",["T_WHITESPACE"," ",457],["T_STRING","false",457],";",["T_WHITESPACE","\n        ",457],"}",["T_WHITESPACE"," ",458],["T_ELSE","else",458],["T_WHITESPACE"," ",458],"{",["T_WHITESPACE","\n            ",458],["T_VARIABLE","$propertyNames",459],["T_WHITESPACE"," ",459],"=",["T_WHITESPACE"," ",459],["T_ARRAY","array",459],"(",")",";",["T_WHITESPACE","\n\n            ",459],["T_IF","if",461],"(",["T_VARIABLE","$className",461],["T_WHITESPACE"," ",461],["T_IS_EQUAL","==",461],["T_WHITESPACE"," ",461],["T_CONSTANT_ENCAPSED_STRING","''",461],")","{",["T_WHITESPACE","\n                ",461],["T_COMMENT","\/\/if there is no className, we interpret the class as dynamic without any sealed members\n",462],["T_WHITESPACE","                ",463],["T_VARIABLE","$encoding",463],["T_WHITESPACE"," ",463],"=",["T_WHITESPACE"," ",463],["T_STRING","Zend_Amf_Constants",463],["T_DOUBLE_COLON","::",463],["T_STRING","ET_DYNAMIC",463],";",["T_WHITESPACE","\n            ",463],"}",["T_WHITESPACE"," ",464],["T_ELSE","else",464],["T_WHITESPACE"," ",464],"{",["T_WHITESPACE","\n                ",464],["T_VARIABLE","$encoding",465],["T_WHITESPACE"," ",465],"=",["T_WHITESPACE"," ",465],["T_STRING","Zend_Amf_Constants",465],["T_DOUBLE_COLON","::",465],["T_STRING","ET_PROPLIST",465],";",["T_WHITESPACE","\n\n                ",465],["T_FOREACH","foreach",467],"(",["T_VARIABLE","$object",467],["T_WHITESPACE"," ",467],["T_AS","as",467],["T_WHITESPACE"," ",467],["T_VARIABLE","$key",467],["T_WHITESPACE"," ",467],["T_DOUBLE_ARROW","=>",467],["T_WHITESPACE"," ",467],["T_VARIABLE","$value",467],")",["T_WHITESPACE"," ",467],"{",["T_WHITESPACE","\n                    ",467],["T_IF","if",468],"(",["T_WHITESPACE"," ",468],["T_VARIABLE","$key",468],"[",["T_LNUMBER","0",468],"]",["T_WHITESPACE"," ",468],["T_IS_NOT_EQUAL","!=",468],["T_WHITESPACE"," ",468],["T_CONSTANT_ENCAPSED_STRING","\"_\"",468],")",["T_WHITESPACE"," ",468],"{",["T_WHITESPACE","\n                        ",468],["T_VARIABLE","$propertyNames",469],"[","]",["T_WHITESPACE"," ",469],"=",["T_WHITESPACE"," ",469],["T_VARIABLE","$key",469],";",["T_WHITESPACE","\n                    ",469],"}",["T_WHITESPACE","\n                ",470],"}",["T_WHITESPACE","\n            ",471],"}",["T_WHITESPACE","\n\n            ",472],["T_VARIABLE","$this",474],["T_OBJECT_OPERATOR","->",474],["T_STRING","_referenceDefinitions",474],"[",["T_VARIABLE","$className",474],"]",["T_WHITESPACE"," ",474],"=",["T_WHITESPACE"," ",474],["T_ARRAY","array",474],"(",["T_WHITESPACE","\n                        ",474],["T_CONSTANT_ENCAPSED_STRING","'id'",475],["T_WHITESPACE","            ",475],["T_DOUBLE_ARROW","=>",475],["T_WHITESPACE"," ",475],["T_STRING","count",475],"(",["T_VARIABLE","$this",475],["T_OBJECT_OPERATOR","->",475],["T_STRING","_referenceDefinitions",475],")",",",["T_WHITESPACE","\n                        ",475],["T_CONSTANT_ENCAPSED_STRING","'encoding'",476],["T_WHITESPACE","      ",476],["T_DOUBLE_ARROW","=>",476],["T_WHITESPACE"," ",476],["T_VARIABLE","$encoding",476],",",["T_WHITESPACE","\n                        ",476],["T_CONSTANT_ENCAPSED_STRING","'propertyNames'",477],["T_WHITESPACE"," ",477],["T_DOUBLE_ARROW","=>",477],["T_WHITESPACE"," ",477],["T_VARIABLE","$propertyNames",477],",",["T_WHITESPACE","\n                    ",477],")",";",["T_WHITESPACE","\n\n            ",478],["T_VARIABLE","$traitsInfo",480],["T_WHITESPACE"," ",480],"=",["T_WHITESPACE"," ",480],["T_STRING","Zend_Amf_Constants",480],["T_DOUBLE_COLON","::",480],["T_STRING","AMF3_OBJECT_ENCODING",480],";",["T_WHITESPACE","\n            ",480],["T_VARIABLE","$traitsInfo",481],["T_WHITESPACE"," ",481],["T_OR_EQUAL","|=",481],["T_WHITESPACE"," ",481],["T_VARIABLE","$encoding",481],["T_WHITESPACE"," ",481],["T_SL","<<",481],["T_WHITESPACE"," ",481],["T_LNUMBER","2",481],";",["T_WHITESPACE","\n            ",481],["T_VARIABLE","$traitsInfo",482],["T_WHITESPACE"," ",482],["T_OR_EQUAL","|=",482],["T_WHITESPACE"," ",482],"(",["T_STRING","count",482],"(",["T_VARIABLE","$propertyNames",482],")",["T_WHITESPACE"," ",482],["T_SL","<<",482],["T_WHITESPACE"," ",482],["T_LNUMBER","4",482],")",";",["T_WHITESPACE","\n        ",482],"}",["T_WHITESPACE","\n\n        ",483],["T_VARIABLE","$this",485],["T_OBJECT_OPERATOR","->",485],["T_STRING","writeInteger",485],"(",["T_VARIABLE","$traitsInfo",485],")",";",["T_WHITESPACE","\n\n        ",485],["T_IF","if",487],"(",["T_VARIABLE","$writeTraits",487],")","{",["T_WHITESPACE","\n            ",487],["T_VARIABLE","$this",488],["T_OBJECT_OPERATOR","->",488],["T_STRING","writeString",488],"(",["T_VARIABLE","$className",488],")",";",["T_WHITESPACE","\n            ",488],["T_FOREACH","foreach",489],["T_WHITESPACE"," ",489],"(",["T_VARIABLE","$propertyNames",489],["T_WHITESPACE"," ",489],["T_AS","as",489],["T_WHITESPACE"," ",489],["T_VARIABLE","$value",489],")",["T_WHITESPACE"," ",489],"{",["T_WHITESPACE","\n                ",489],["T_VARIABLE","$this",490],["T_OBJECT_OPERATOR","->",490],["T_STRING","writeString",490],"(",["T_VARIABLE","$value",490],")",";",["T_WHITESPACE","\n            ",490],"}",["T_WHITESPACE","\n        ",491],"}",["T_WHITESPACE","\n\n        ",492],["T_TRY","try",494],["T_WHITESPACE"," ",494],"{",["T_WHITESPACE","\n            ",494],["T_SWITCH","switch",495],"(",["T_VARIABLE","$encoding",495],")",["T_WHITESPACE"," ",495],"{",["T_WHITESPACE","\n                ",495],["T_CASE","case",496],["T_WHITESPACE"," ",496],["T_STRING","Zend_Amf_Constants",496],["T_DOUBLE_COLON","::",496],["T_STRING","ET_PROPLIST",496],":",["T_WHITESPACE","\n                    ",496],["T_COMMENT","\/\/Write the sealed values to the output stream.\n",497],["T_WHITESPACE","                    ",498],["T_FOREACH","foreach",498],["T_WHITESPACE"," ",498],"(",["T_VARIABLE","$propertyNames",498],["T_WHITESPACE"," ",498],["T_AS","as",498],["T_WHITESPACE"," ",498],["T_VARIABLE","$key",498],")",["T_WHITESPACE"," ",498],"{",["T_WHITESPACE","\n                        ",498],["T_VARIABLE","$this",499],["T_OBJECT_OPERATOR","->",499],["T_STRING","writeTypeMarker",499],"(",["T_VARIABLE","$object",499],["T_OBJECT_OPERATOR","->",499],["T_VARIABLE","$key",499],")",";",["T_WHITESPACE","\n                    ",499],"}",["T_WHITESPACE","\n                    ",500],["T_BREAK","break",501],";",["T_WHITESPACE","\n                ",501],["T_CASE","case",502],["T_WHITESPACE"," ",502],["T_STRING","Zend_Amf_Constants",502],["T_DOUBLE_COLON","::",502],["T_STRING","ET_DYNAMIC",502],":",["T_WHITESPACE","\n                    ",502],["T_COMMENT","\/\/Write the sealed values to the output stream.\n",503],["T_WHITESPACE","                    ",504],["T_FOREACH","foreach",504],["T_WHITESPACE"," ",504],"(",["T_VARIABLE","$propertyNames",504],["T_WHITESPACE"," ",504],["T_AS","as",504],["T_WHITESPACE"," ",504],["T_VARIABLE","$key",504],")",["T_WHITESPACE"," ",504],"{",["T_WHITESPACE","\n                        ",504],["T_VARIABLE","$this",505],["T_OBJECT_OPERATOR","->",505],["T_STRING","writeTypeMarker",505],"(",["T_VARIABLE","$object",505],["T_OBJECT_OPERATOR","->",505],["T_VARIABLE","$key",505],")",";",["T_WHITESPACE","\n                    ",505],"}",["T_WHITESPACE","\n\n                    ",506],["T_COMMENT","\/\/Write remaining properties\n",508],["T_WHITESPACE","                    ",509],["T_FOREACH","foreach",509],"(",["T_VARIABLE","$object",509],["T_WHITESPACE"," ",509],["T_AS","as",509],["T_WHITESPACE"," ",509],["T_VARIABLE","$key",509],["T_WHITESPACE"," ",509],["T_DOUBLE_ARROW","=>",509],["T_WHITESPACE"," ",509],["T_VARIABLE","$value",509],")","{",["T_WHITESPACE","\n                        ",509],["T_IF","if",510],"(","!",["T_STRING","in_array",510],"(",["T_VARIABLE","$key",510],",",["T_VARIABLE","$propertyNames",510],")",["T_WHITESPACE"," ",510],["T_BOOLEAN_AND","&&",510],["T_WHITESPACE"," ",510],["T_VARIABLE","$key",510],"[",["T_LNUMBER","0",510],"]",["T_WHITESPACE"," ",510],["T_IS_NOT_EQUAL","!=",510],["T_WHITESPACE"," ",510],["T_CONSTANT_ENCAPSED_STRING","\"_\"",510],")","{",["T_WHITESPACE","\n                            ",510],["T_VARIABLE","$this",511],["T_OBJECT_OPERATOR","->",511],["T_STRING","writeString",511],"(",["T_VARIABLE","$key",511],")",";",["T_WHITESPACE","\n                            ",511],["T_VARIABLE","$this",512],["T_OBJECT_OPERATOR","->",512],["T_STRING","writeTypeMarker",512],"(",["T_VARIABLE","$value",512],")",";",["T_WHITESPACE","\n                        ",512],"}",["T_WHITESPACE","\n                    ",513],"}",["T_WHITESPACE","\n\n                    ",514],["T_COMMENT","\/\/Write an empty string to end the dynamic part\n",516],["T_WHITESPACE","                    ",517],["T_VARIABLE","$this",517],["T_OBJECT_OPERATOR","->",517],["T_STRING","writeString",517],"(",["T_VARIABLE","$this",517],["T_OBJECT_OPERATOR","->",517],["T_STRING","_strEmpty",517],")",";",["T_WHITESPACE","\n                    ",517],["T_BREAK","break",518],";",["T_WHITESPACE","\n                ",518],["T_CASE","case",519],["T_WHITESPACE"," ",519],["T_STRING","Zend_Amf_Constants",519],["T_DOUBLE_COLON","::",519],["T_STRING","ET_EXTERNAL",519],":",["T_WHITESPACE","\n                    ",519],["T_COMMENT","#require_once 'Zend\/Amf\/Exception.php';\n",520],["T_WHITESPACE","                    ",521],["T_THROW","throw",521],["T_WHITESPACE"," ",521],["T_NEW","new",521],["T_WHITESPACE"," ",521],["T_STRING","Zend_Amf_Exception",521],"(",["T_CONSTANT_ENCAPSED_STRING","'External Object Encoding not implemented'",521],")",";",["T_WHITESPACE","\n                    ",521],["T_BREAK","break",522],";",["T_WHITESPACE","\n                ",522],["T_DEFAULT","default",523],":",["T_WHITESPACE","\n                    ",523],["T_COMMENT","#require_once 'Zend\/Amf\/Exception.php';\n",524],["T_WHITESPACE","                    ",525],["T_THROW","throw",525],["T_WHITESPACE"," ",525],["T_NEW","new",525],["T_WHITESPACE"," ",525],["T_STRING","Zend_Amf_Exception",525],"(",["T_CONSTANT_ENCAPSED_STRING","'Unknown Object Encoding type: '",525],["T_WHITESPACE"," ",525],".",["T_WHITESPACE"," ",525],["T_VARIABLE","$encoding",525],")",";",["T_WHITESPACE","\n            ",525],"}",["T_WHITESPACE","\n        ",526],"}",["T_WHITESPACE"," ",527],["T_CATCH","catch",527],["T_WHITESPACE"," ",527],"(",["T_STRING","Exception",527],["T_WHITESPACE"," ",527],["T_VARIABLE","$e",527],")",["T_WHITESPACE"," ",527],"{",["T_WHITESPACE","\n            ",527],["T_COMMENT","#require_once 'Zend\/Amf\/Exception.php';\n",528],["T_WHITESPACE","            ",529],["T_THROW","throw",529],["T_WHITESPACE"," ",529],["T_NEW","new",529],["T_WHITESPACE"," ",529],["T_STRING","Zend_Amf_Exception",529],"(",["T_CONSTANT_ENCAPSED_STRING","'Unable to writeObject output: '",529],["T_WHITESPACE"," ",529],".",["T_WHITESPACE"," ",529],["T_VARIABLE","$e",529],["T_OBJECT_OPERATOR","->",529],["T_STRING","getMessage",529],"(",")",",",["T_WHITESPACE"," ",529],["T_LNUMBER","0",529],",",["T_WHITESPACE"," ",529],["T_VARIABLE","$e",529],")",";",["T_WHITESPACE","\n        ",529],"}",["T_WHITESPACE","\n\n        ",530],["T_RETURN","return",532],["T_WHITESPACE"," ",532],["T_VARIABLE","$this",532],";",["T_WHITESPACE","\n    ",532],"}",["T_WHITESPACE","\n",533],"}",["T_WHITESPACE","\n",534]]