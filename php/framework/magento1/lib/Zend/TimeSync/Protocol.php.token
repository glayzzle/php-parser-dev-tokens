[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Zend Framework\n *\n * LICENSE\n *\n * This source file is subject to the new BSD license that is bundled\n * with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/framework.zend.com\/license\/new-bsd\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@zend.com so we can send you a copy immediately.\n *\n * @category  Zend\n * @package   Zend_TimeSync\n * @copyright  Copyright (c) 2005-2015 Zend Technologies USA Inc. (http:\/\/www.zend.com)\n * @license   http:\/\/framework.zend.com\/license\/new-bsd     New BSD License\n * @version   $Id$\n *\/",2],["T_WHITESPACE","\n\n",20],["T_DOC_COMMENT","\/**\n * Abstract class definition for all timeserver protocols\n *\n * @category  Zend\n * @package   Zend_TimeSync\n * @copyright  Copyright (c) 2005-2015 Zend Technologies USA Inc. (http:\/\/www.zend.com)\n * @license   http:\/\/framework.zend.com\/license\/new-bsd     New BSD License\n *\/",22],["T_WHITESPACE","\n",29],["T_ABSTRACT","abstract",30],["T_WHITESPACE"," ",30],["T_CLASS","class",30],["T_WHITESPACE"," ",30],["T_STRING","Zend_TimeSync_Protocol",30],["T_WHITESPACE","\n",30],"{",["T_WHITESPACE","\n    ",31],["T_DOC_COMMENT","\/**\n     * Holds the current socket connection\n     *\n     * @var array\n     *\/",32],["T_WHITESPACE","\n    ",36],["T_PROTECTED","protected",37],["T_WHITESPACE"," ",37],["T_VARIABLE","$_socket",37],";",["T_WHITESPACE","\n\n    ",37],["T_DOC_COMMENT","\/**\n     * Exceptions that might have occured\n     *\n     * @var array\n     *\/",39],["T_WHITESPACE","\n    ",43],["T_PROTECTED","protected",44],["T_WHITESPACE"," ",44],["T_VARIABLE","$_exceptions",44],";",["T_WHITESPACE","\n\n    ",44],["T_DOC_COMMENT","\/**\n     * Hostname for timeserver\n     *\n     * @var string\n     *\/",46],["T_WHITESPACE","\n    ",50],["T_PROTECTED","protected",51],["T_WHITESPACE"," ",51],["T_VARIABLE","$_timeserver",51],";",["T_WHITESPACE","\n\n    ",51],["T_DOC_COMMENT","\/**\n     * Holds information passed\/returned from timeserver\n     *\n     * @var array\n     *\/",53],["T_WHITESPACE","\n    ",57],["T_PROTECTED","protected",58],["T_WHITESPACE"," ",58],["T_VARIABLE","$_info",58],["T_WHITESPACE"," ",58],"=",["T_WHITESPACE"," ",58],["T_ARRAY","array",58],"(",")",";",["T_WHITESPACE","\n\n    ",58],["T_DOC_COMMENT","\/**\n     * Abstract method that prepares the data to send to the timeserver\n     *\n     * @return mixed\n     *\/",60],["T_WHITESPACE","\n    ",64],["T_ABSTRACT","abstract",65],["T_WHITESPACE"," ",65],["T_PROTECTED","protected",65],["T_WHITESPACE"," ",65],["T_FUNCTION","function",65],["T_WHITESPACE"," ",65],["T_STRING","_prepare",65],"(",")",";",["T_WHITESPACE","\n\n    ",65],["T_DOC_COMMENT","\/**\n     * Abstract method that reads the data returned from the timeserver\n     *\n     * @return mixed\n     *\/",67],["T_WHITESPACE","\n    ",71],["T_ABSTRACT","abstract",72],["T_WHITESPACE"," ",72],["T_PROTECTED","protected",72],["T_WHITESPACE"," ",72],["T_FUNCTION","function",72],["T_WHITESPACE"," ",72],["T_STRING","_read",72],"(",")",";",["T_WHITESPACE","\n\n    ",72],["T_DOC_COMMENT","\/**\n     * Abstract method that writes data to to the timeserver\n     *\n     * @param  string $data Data to write\n     * @return void\n     *\/",74],["T_WHITESPACE","\n    ",79],["T_ABSTRACT","abstract",80],["T_WHITESPACE"," ",80],["T_PROTECTED","protected",80],["T_WHITESPACE"," ",80],["T_FUNCTION","function",80],["T_WHITESPACE"," ",80],["T_STRING","_write",80],"(",["T_VARIABLE","$data",80],")",";",["T_WHITESPACE","\n\n    ",80],["T_DOC_COMMENT","\/**\n     * Abstract method that extracts the binary data returned from the timeserver\n     *\n     * @param  string|array $data Data returned from the timeserver\n     * @return integer\n     *\/",82],["T_WHITESPACE","\n    ",87],["T_ABSTRACT","abstract",88],["T_WHITESPACE"," ",88],["T_PROTECTED","protected",88],["T_WHITESPACE"," ",88],["T_FUNCTION","function",88],["T_WHITESPACE"," ",88],["T_STRING","_extract",88],"(",["T_VARIABLE","$data",88],")",";",["T_WHITESPACE","\n\n    ",88],["T_DOC_COMMENT","\/**\n     * Connect to the specified timeserver.\n     *\n     * @return void\n     * @throws Zend_TimeSync_Exception When the connection failed\n     *\/",90],["T_WHITESPACE","\n    ",95],["T_PROTECTED","protected",96],["T_WHITESPACE"," ",96],["T_FUNCTION","function",96],["T_WHITESPACE"," ",96],["T_STRING","_connect",96],"(",")",["T_WHITESPACE","\n    ",96],"{",["T_WHITESPACE","\n        ",97],["T_VARIABLE","$socket",98],["T_WHITESPACE"," ",98],"=",["T_WHITESPACE"," ",98],"@",["T_STRING","fsockopen",98],"(",["T_VARIABLE","$this",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","_timeserver",98],",",["T_WHITESPACE"," ",98],["T_VARIABLE","$this",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","_port",98],",",["T_WHITESPACE"," ",98],["T_VARIABLE","$errno",98],",",["T_WHITESPACE"," ",98],["T_VARIABLE","$errstr",98],",",["T_WHITESPACE","\n                             ",98],["T_STRING","Zend_TimeSync",99],["T_DOUBLE_COLON","::",99],["T_VARIABLE","$options",99],"[",["T_CONSTANT_ENCAPSED_STRING","'timeout'",99],"]",")",";",["T_WHITESPACE","\n        ",99],["T_IF","if",100],["T_WHITESPACE"," ",100],"(",["T_VARIABLE","$socket",100],["T_WHITESPACE"," ",100],["T_IS_IDENTICAL","===",100],["T_WHITESPACE"," ",100],["T_STRING","false",100],")",["T_WHITESPACE"," ",100],"{",["T_WHITESPACE","\n            ",100],["T_THROW","throw",101],["T_WHITESPACE"," ",101],["T_NEW","new",101],["T_WHITESPACE"," ",101],["T_STRING","Zend_TimeSync_Exception",101],"(",["T_CONSTANT_ENCAPSED_STRING","'could not connect to '",101],["T_WHITESPACE"," ",101],".",["T_WHITESPACE","\n                ",101],"\"",["T_ENCAPSED_AND_WHITESPACE","'",102],["T_VARIABLE","$this",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","_timeserver",102],["T_ENCAPSED_AND_WHITESPACE","' on port '",102],["T_VARIABLE","$this",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","_port",102],["T_ENCAPSED_AND_WHITESPACE","', reason: '",102],["T_VARIABLE","$errstr",102],["T_ENCAPSED_AND_WHITESPACE","'",102],"\"",")",";",["T_WHITESPACE","\n        ",102],"}",["T_WHITESPACE","\n\n        ",103],["T_VARIABLE","$this",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","_socket",105],["T_WHITESPACE"," ",105],"=",["T_WHITESPACE"," ",105],["T_VARIABLE","$socket",105],";",["T_WHITESPACE","\n    ",105],"}",["T_WHITESPACE","\n\n    ",106],["T_DOC_COMMENT","\/**\n     * Disconnects from the peer, closes the socket.\n     *\n     * @return void\n     *\/",108],["T_WHITESPACE","\n    ",112],["T_PROTECTED","protected",113],["T_WHITESPACE"," ",113],["T_FUNCTION","function",113],["T_WHITESPACE"," ",113],["T_STRING","_disconnect",113],"(",")",["T_WHITESPACE","\n    ",113],"{",["T_WHITESPACE","\n        ",114],"@",["T_STRING","fclose",115],"(",["T_VARIABLE","$this",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","_socket",115],")",";",["T_WHITESPACE","\n        ",115],["T_VARIABLE","$this",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","_socket",116],["T_WHITESPACE"," ",116],"=",["T_WHITESPACE"," ",116],["T_STRING","null",116],";",["T_WHITESPACE","\n    ",116],"}",["T_WHITESPACE","\n\n    ",117],["T_DOC_COMMENT","\/**\n     * Return information sent\/returned from the timeserver\n     *\n     * @return  array\n     *\/",119],["T_WHITESPACE","\n    ",123],["T_PUBLIC","public",124],["T_WHITESPACE"," ",124],["T_FUNCTION","function",124],["T_WHITESPACE"," ",124],["T_STRING","getInfo",124],"(",")",["T_WHITESPACE","\n    ",124],"{",["T_WHITESPACE","\n        ",125],["T_IF","if",126],["T_WHITESPACE"," ",126],"(",["T_EMPTY","empty",126],"(",["T_VARIABLE","$this",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","_info",126],")",["T_WHITESPACE"," ",126],["T_IS_IDENTICAL","===",126],["T_WHITESPACE"," ",126],["T_STRING","true",126],")",["T_WHITESPACE"," ",126],"{",["T_WHITESPACE","\n            ",126],["T_VARIABLE","$this",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","_write",127],"(",["T_VARIABLE","$this",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","_prepare",127],"(",")",")",";",["T_WHITESPACE","\n            ",127],["T_VARIABLE","$timestamp",128],["T_WHITESPACE"," ",128],"=",["T_WHITESPACE"," ",128],["T_VARIABLE","$this",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","_extract",128],"(",["T_VARIABLE","$this",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","_read",128],"(",")",")",";",["T_WHITESPACE","\n        ",128],"}",["T_WHITESPACE","\n\n        ",129],["T_RETURN","return",131],["T_WHITESPACE"," ",131],["T_VARIABLE","$this",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","_info",131],";",["T_WHITESPACE","\n    ",131],"}",["T_WHITESPACE","\n\n    ",132],["T_DOC_COMMENT","\/**\n     * Query this timeserver without using the fallback mechanism\n     *\n     * @param  string|Zend_Locale $locale (Optional) Locale\n     * @return Zend_Date\n     *\/",134],["T_WHITESPACE","\n    ",139],["T_PUBLIC","public",140],["T_WHITESPACE"," ",140],["T_FUNCTION","function",140],["T_WHITESPACE"," ",140],["T_STRING","getDate",140],"(",["T_VARIABLE","$locale",140],["T_WHITESPACE"," ",140],"=",["T_WHITESPACE"," ",140],["T_STRING","null",140],")",["T_WHITESPACE","\n    ",140],"{",["T_WHITESPACE","\n        ",141],["T_VARIABLE","$this",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","_write",142],"(",["T_VARIABLE","$this",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","_prepare",142],"(",")",")",";",["T_WHITESPACE","\n        ",142],["T_VARIABLE","$timestamp",143],["T_WHITESPACE"," ",143],"=",["T_WHITESPACE"," ",143],["T_VARIABLE","$this",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","_extract",143],"(",["T_VARIABLE","$this",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","_read",143],"(",")",")",";",["T_WHITESPACE","\n\n        ",143],["T_VARIABLE","$date",145],["T_WHITESPACE"," ",145],"=",["T_WHITESPACE"," ",145],["T_NEW","new",145],["T_WHITESPACE"," ",145],["T_STRING","Zend_Date",145],"(",["T_VARIABLE","$this",145],",",["T_WHITESPACE"," ",145],["T_STRING","null",145],",",["T_WHITESPACE"," ",145],["T_VARIABLE","$locale",145],")",";",["T_WHITESPACE","\n        ",145],["T_RETURN","return",146],["T_WHITESPACE"," ",146],["T_VARIABLE","$date",146],";",["T_WHITESPACE","\n    ",146],"}",["T_WHITESPACE","\n",147],"}",["T_WHITESPACE","\n",148]]