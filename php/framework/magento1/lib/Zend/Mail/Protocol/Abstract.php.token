[["T_OPEN_TAG","<?php\n",1],["T_WHITESPACE","\n",2],["T_DOC_COMMENT","\/**\n * Zend Framework\n *\n * LICENSE\n *\n * This source file is subject to the new BSD license that is bundled\n * with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/framework.zend.com\/license\/new-bsd\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@zend.com so we can send you a copy immediately.\n *\n * @category   Zend\n * @package    Zend_Mail\n * @subpackage Protocol\n * @copyright  Copyright (c) 2005-2015 Zend Technologies USA Inc. (http:\/\/www.zend.com)\n * @license    http:\/\/framework.zend.com\/license\/new-bsd     New BSD License\n * @version    $Id$\n *\/",3],["T_WHITESPACE","\n\n\n",22],["T_DOC_COMMENT","\/**\n * @see Zend_Validate\n *\/",25],["T_WHITESPACE","\n",27],["T_COMMENT","#require_once 'Zend\/Validate.php';\n",28],["T_WHITESPACE","\n\n",29],["T_DOC_COMMENT","\/**\n * @see Zend_Validate_Hostname\n *\/",31],["T_WHITESPACE","\n",33],["T_COMMENT","#require_once 'Zend\/Validate\/Hostname.php';\n",34],["T_WHITESPACE","\n\n",35],["T_DOC_COMMENT","\/**\n * Zend_Mail_Protocol_Abstract\n *\n * Provides low-level methods for concrete adapters to communicate with a remote mail server and track requests and responses.\n *\n * @category   Zend\n * @package    Zend_Mail\n * @subpackage Protocol\n * @copyright  Copyright (c) 2005-2015 Zend Technologies USA Inc. (http:\/\/www.zend.com)\n * @license    http:\/\/framework.zend.com\/license\/new-bsd     New BSD License\n * @version    $Id$\n * @todo Implement proxy settings\n *\/",37],["T_WHITESPACE","\n",49],["T_ABSTRACT","abstract",50],["T_WHITESPACE"," ",50],["T_CLASS","class",50],["T_WHITESPACE"," ",50],["T_STRING","Zend_Mail_Protocol_Abstract",50],["T_WHITESPACE","\n",50],"{",["T_WHITESPACE","\n    ",51],["T_DOC_COMMENT","\/**\n     * Mail default EOL string\n     *\/",52],["T_WHITESPACE","\n    ",54],["T_CONST","const",55],["T_WHITESPACE"," ",55],["T_STRING","EOL",55],["T_WHITESPACE"," ",55],"=",["T_WHITESPACE"," ",55],["T_CONSTANT_ENCAPSED_STRING","\"\\r\\n\"",55],";",["T_WHITESPACE","\n\n\n    ",55],["T_DOC_COMMENT","\/**\n     * Default timeout in seconds for initiating session\n     *\/",58],["T_WHITESPACE","\n    ",60],["T_CONST","const",61],["T_WHITESPACE"," ",61],["T_STRING","TIMEOUT_CONNECTION",61],["T_WHITESPACE"," ",61],"=",["T_WHITESPACE"," ",61],["T_LNUMBER","30",61],";",["T_WHITESPACE","\n\n    ",61],["T_DOC_COMMENT","\/**\n     * Maximum of the transaction log\n     * @var integer\n     *\/",63],["T_WHITESPACE","\n    ",66],["T_PROTECTED","protected",67],["T_WHITESPACE"," ",67],["T_VARIABLE","$_maximumLog",67],["T_WHITESPACE"," ",67],"=",["T_WHITESPACE"," ",67],["T_LNUMBER","64",67],";",["T_WHITESPACE","\n\n\n    ",67],["T_DOC_COMMENT","\/**\n     * Hostname or IP address of remote server\n     * @var string\n     *\/",70],["T_WHITESPACE","\n    ",73],["T_PROTECTED","protected",74],["T_WHITESPACE"," ",74],["T_VARIABLE","$_host",74],";",["T_WHITESPACE","\n\n\n    ",74],["T_DOC_COMMENT","\/**\n     * Port number of connection\n     * @var integer\n     *\/",77],["T_WHITESPACE","\n    ",80],["T_PROTECTED","protected",81],["T_WHITESPACE"," ",81],["T_VARIABLE","$_port",81],";",["T_WHITESPACE","\n\n\n    ",81],["T_DOC_COMMENT","\/**\n     * Instance of Zend_Validate to check hostnames\n     * @var Zend_Validate\n     *\/",84],["T_WHITESPACE","\n    ",87],["T_PROTECTED","protected",88],["T_WHITESPACE"," ",88],["T_VARIABLE","$_validHost",88],";",["T_WHITESPACE","\n\n\n    ",88],["T_DOC_COMMENT","\/**\n     * Socket connection resource\n     * @var resource\n     *\/",91],["T_WHITESPACE","\n    ",94],["T_PROTECTED","protected",95],["T_WHITESPACE"," ",95],["T_VARIABLE","$_socket",95],";",["T_WHITESPACE","\n\n\n    ",95],["T_DOC_COMMENT","\/**\n     * Last request sent to server\n     * @var string\n     *\/",98],["T_WHITESPACE","\n    ",101],["T_PROTECTED","protected",102],["T_WHITESPACE"," ",102],["T_VARIABLE","$_request",102],";",["T_WHITESPACE","\n\n\n    ",102],["T_DOC_COMMENT","\/**\n     * Array of server responses to last request\n     * @var array\n     *\/",105],["T_WHITESPACE","\n    ",108],["T_PROTECTED","protected",109],["T_WHITESPACE"," ",109],["T_VARIABLE","$_response",109],";",["T_WHITESPACE","\n\n\n    ",109],["T_DOC_COMMENT","\/**\n     * String template for parsing server responses using sscanf (default: 3 digit code and response string)\n     * @var resource\n     * @deprecated Since 1.10.3\n     *\/",112],["T_WHITESPACE","\n    ",116],["T_PROTECTED","protected",117],["T_WHITESPACE"," ",117],["T_VARIABLE","$_template",117],["T_WHITESPACE"," ",117],"=",["T_WHITESPACE"," ",117],["T_CONSTANT_ENCAPSED_STRING","'%d%s'",117],";",["T_WHITESPACE","\n\n\n    ",117],["T_DOC_COMMENT","\/**\n     * Log of mail requests and server responses for a session\n     * @var array\n     *\/",120],["T_WHITESPACE","\n    ",123],["T_PRIVATE","private",124],["T_WHITESPACE"," ",124],["T_VARIABLE","$_log",124],["T_WHITESPACE"," ",124],"=",["T_WHITESPACE"," ",124],["T_ARRAY","array",124],"(",")",";",["T_WHITESPACE","\n\n\n    ",124],["T_DOC_COMMENT","\/**\n     * Constructor.\n     *\n     * @param  string  $host OPTIONAL Hostname of remote connection (default: 127.0.0.1)\n     * @param  integer $port OPTIONAL Port number (default: null)\n     * @throws Zend_Mail_Protocol_Exception\n     * @return void\n     *\/",127],["T_WHITESPACE","\n    ",134],["T_PUBLIC","public",135],["T_WHITESPACE"," ",135],["T_FUNCTION","function",135],["T_WHITESPACE"," ",135],["T_STRING","__construct",135],"(",["T_VARIABLE","$host",135],["T_WHITESPACE"," ",135],"=",["T_WHITESPACE"," ",135],["T_CONSTANT_ENCAPSED_STRING","'127.0.0.1'",135],",",["T_WHITESPACE"," ",135],["T_VARIABLE","$port",135],["T_WHITESPACE"," ",135],"=",["T_WHITESPACE"," ",135],["T_STRING","null",135],")",["T_WHITESPACE","\n    ",135],"{",["T_WHITESPACE","\n        ",136],["T_VARIABLE","$this",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","_validHost",137],["T_WHITESPACE"," ",137],"=",["T_WHITESPACE"," ",137],["T_NEW","new",137],["T_WHITESPACE"," ",137],["T_STRING","Zend_Validate",137],"(",")",";",["T_WHITESPACE","\n        ",137],["T_VARIABLE","$this",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","_validHost",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","addValidator",138],"(",["T_NEW","new",138],["T_WHITESPACE"," ",138],["T_STRING","Zend_Validate_Hostname",138],"(",["T_STRING","Zend_Validate_Hostname",138],["T_DOUBLE_COLON","::",138],["T_STRING","ALLOW_ALL",138],")",")",";",["T_WHITESPACE","\n\n        ",138],["T_IF","if",140],["T_WHITESPACE"," ",140],"(","!",["T_VARIABLE","$this",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","_validHost",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","isValid",140],"(",["T_VARIABLE","$host",140],")",")",["T_WHITESPACE"," ",140],"{",["T_WHITESPACE","\n            ",140],["T_DOC_COMMENT","\/**\n             * @see Zend_Mail_Protocol_Exception\n             *\/",141],["T_WHITESPACE","\n            ",143],["T_COMMENT","#require_once 'Zend\/Mail\/Protocol\/Exception.php';\n",144],["T_WHITESPACE","            ",145],["T_THROW","throw",145],["T_WHITESPACE"," ",145],["T_NEW","new",145],["T_WHITESPACE"," ",145],["T_STRING","Zend_Mail_Protocol_Exception",145],"(",["T_STRING","join",145],"(",["T_CONSTANT_ENCAPSED_STRING","', '",145],",",["T_WHITESPACE"," ",145],["T_VARIABLE","$this",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","_validHost",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","getMessages",145],"(",")",")",")",";",["T_WHITESPACE","\n        ",145],"}",["T_WHITESPACE","\n\n        ",146],["T_VARIABLE","$this",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","_host",148],["T_WHITESPACE"," ",148],"=",["T_WHITESPACE"," ",148],["T_VARIABLE","$host",148],";",["T_WHITESPACE","\n        ",148],["T_VARIABLE","$this",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","_port",149],["T_WHITESPACE"," ",149],"=",["T_WHITESPACE"," ",149],["T_VARIABLE","$port",149],";",["T_WHITESPACE","\n    ",149],"}",["T_WHITESPACE","\n\n\n    ",150],["T_DOC_COMMENT","\/**\n     * Class destructor to cleanup open resources\n     *\n     * @return void\n     *\/",153],["T_WHITESPACE","\n    ",157],["T_PUBLIC","public",158],["T_WHITESPACE"," ",158],["T_FUNCTION","function",158],["T_WHITESPACE"," ",158],["T_STRING","__destruct",158],"(",")",["T_WHITESPACE","\n    ",158],"{",["T_WHITESPACE","\n        ",159],["T_VARIABLE","$this",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","_disconnect",160],"(",")",";",["T_WHITESPACE","\n    ",160],"}",["T_WHITESPACE","\n\n    ",161],["T_DOC_COMMENT","\/**\n     * Set the maximum log size\n     *\n     * @param integer $maximumLog Maximum log size\n     * @return void\n     *\/",163],["T_WHITESPACE","\n    ",168],["T_PUBLIC","public",169],["T_WHITESPACE"," ",169],["T_FUNCTION","function",169],["T_WHITESPACE"," ",169],["T_STRING","setMaximumLog",169],"(",["T_VARIABLE","$maximumLog",169],")",["T_WHITESPACE","\n    ",169],"{",["T_WHITESPACE","\n        ",170],["T_VARIABLE","$this",171],["T_OBJECT_OPERATOR","->",171],["T_STRING","_maximumLog",171],["T_WHITESPACE"," ",171],"=",["T_WHITESPACE"," ",171],["T_INT_CAST","(int)",171],["T_WHITESPACE"," ",171],["T_VARIABLE","$maximumLog",171],";",["T_WHITESPACE","\n    ",171],"}",["T_WHITESPACE","\n\n\n    ",172],["T_DOC_COMMENT","\/**\n     * Get the maximum log size\n     *\n     * @return int the maximum log size\n     *\/",175],["T_WHITESPACE","\n    ",179],["T_PUBLIC","public",180],["T_WHITESPACE"," ",180],["T_FUNCTION","function",180],["T_WHITESPACE"," ",180],["T_STRING","getMaximumLog",180],"(",")",["T_WHITESPACE","\n    ",180],"{",["T_WHITESPACE","\n        ",181],["T_RETURN","return",182],["T_WHITESPACE"," ",182],["T_VARIABLE","$this",182],["T_OBJECT_OPERATOR","->",182],["T_STRING","_maximumLog",182],";",["T_WHITESPACE","\n    ",182],"}",["T_WHITESPACE","\n\n\n    ",183],["T_DOC_COMMENT","\/**\n     * Create a connection to the remote host\n     *\n     * Concrete adapters for this class will implement their own unique connect scripts, using the _connect() method to create the socket resource.\n     *\/",186],["T_WHITESPACE","\n    ",190],["T_ABSTRACT","abstract",191],["T_WHITESPACE"," ",191],["T_PUBLIC","public",191],["T_WHITESPACE"," ",191],["T_FUNCTION","function",191],["T_WHITESPACE"," ",191],["T_STRING","connect",191],"(",")",";",["T_WHITESPACE","\n\n\n    ",191],["T_DOC_COMMENT","\/**\n     * Retrieve the last client request\n     *\n     * @return string\n     *\/",194],["T_WHITESPACE","\n    ",198],["T_PUBLIC","public",199],["T_WHITESPACE"," ",199],["T_FUNCTION","function",199],["T_WHITESPACE"," ",199],["T_STRING","getRequest",199],"(",")",["T_WHITESPACE","\n    ",199],"{",["T_WHITESPACE","\n        ",200],["T_RETURN","return",201],["T_WHITESPACE"," ",201],["T_VARIABLE","$this",201],["T_OBJECT_OPERATOR","->",201],["T_STRING","_request",201],";",["T_WHITESPACE","\n    ",201],"}",["T_WHITESPACE","\n\n\n    ",202],["T_DOC_COMMENT","\/**\n     * Retrieve the last server response\n     *\n     * @return array\n     *\/",205],["T_WHITESPACE","\n    ",209],["T_PUBLIC","public",210],["T_WHITESPACE"," ",210],["T_FUNCTION","function",210],["T_WHITESPACE"," ",210],["T_STRING","getResponse",210],"(",")",["T_WHITESPACE","\n    ",210],"{",["T_WHITESPACE","\n        ",211],["T_RETURN","return",212],["T_WHITESPACE"," ",212],["T_VARIABLE","$this",212],["T_OBJECT_OPERATOR","->",212],["T_STRING","_response",212],";",["T_WHITESPACE","\n    ",212],"}",["T_WHITESPACE","\n\n\n    ",213],["T_DOC_COMMENT","\/**\n     * Retrieve the transaction log\n     *\n     * @return string\n     *\/",216],["T_WHITESPACE","\n    ",220],["T_PUBLIC","public",221],["T_WHITESPACE"," ",221],["T_FUNCTION","function",221],["T_WHITESPACE"," ",221],["T_STRING","getLog",221],"(",")",["T_WHITESPACE","\n    ",221],"{",["T_WHITESPACE","\n        ",222],["T_RETURN","return",223],["T_WHITESPACE"," ",223],["T_STRING","implode",223],"(",["T_CONSTANT_ENCAPSED_STRING","''",223],",",["T_WHITESPACE"," ",223],["T_VARIABLE","$this",223],["T_OBJECT_OPERATOR","->",223],["T_STRING","_log",223],")",";",["T_WHITESPACE","\n    ",223],"}",["T_WHITESPACE","\n\n\n    ",224],["T_DOC_COMMENT","\/**\n     * Reset the transaction log\n     *\n     * @return void\n     *\/",227],["T_WHITESPACE","\n    ",231],["T_PUBLIC","public",232],["T_WHITESPACE"," ",232],["T_FUNCTION","function",232],["T_WHITESPACE"," ",232],["T_STRING","resetLog",232],"(",")",["T_WHITESPACE","\n    ",232],"{",["T_WHITESPACE","\n        ",233],["T_VARIABLE","$this",234],["T_OBJECT_OPERATOR","->",234],["T_STRING","_log",234],["T_WHITESPACE"," ",234],"=",["T_WHITESPACE"," ",234],["T_ARRAY","array",234],"(",")",";",["T_WHITESPACE","\n    ",234],"}",["T_WHITESPACE","\n\n    ",235],["T_DOC_COMMENT","\/**\n     * Add the transaction log\n     *\n     * @param  string new transaction\n     * @return void\n     *\/",237],["T_WHITESPACE","\n    ",242],["T_PROTECTED","protected",243],["T_WHITESPACE"," ",243],["T_FUNCTION","function",243],["T_WHITESPACE"," ",243],["T_STRING","_addLog",243],"(",["T_VARIABLE","$value",243],")",["T_WHITESPACE","\n    ",243],"{",["T_WHITESPACE","\n        ",244],["T_IF","if",245],["T_WHITESPACE"," ",245],"(",["T_VARIABLE","$this",245],["T_OBJECT_OPERATOR","->",245],["T_STRING","_maximumLog",245],["T_WHITESPACE"," ",245],["T_IS_GREATER_OR_EQUAL",">=",245],["T_WHITESPACE"," ",245],["T_LNUMBER","0",245],["T_WHITESPACE"," ",245],["T_BOOLEAN_AND","&&",245],["T_WHITESPACE"," ",245],["T_STRING","count",245],"(",["T_VARIABLE","$this",245],["T_OBJECT_OPERATOR","->",245],["T_STRING","_log",245],")",["T_WHITESPACE"," ",245],["T_IS_GREATER_OR_EQUAL",">=",245],["T_WHITESPACE"," ",245],["T_VARIABLE","$this",245],["T_OBJECT_OPERATOR","->",245],["T_STRING","_maximumLog",245],")",["T_WHITESPACE"," ",245],"{",["T_WHITESPACE","\n            ",245],["T_STRING","array_shift",246],"(",["T_VARIABLE","$this",246],["T_OBJECT_OPERATOR","->",246],["T_STRING","_log",246],")",";",["T_WHITESPACE","\n        ",246],"}",["T_WHITESPACE","\n\n        ",247],["T_VARIABLE","$this",249],["T_OBJECT_OPERATOR","->",249],["T_STRING","_log",249],"[","]",["T_WHITESPACE"," ",249],"=",["T_WHITESPACE"," ",249],["T_VARIABLE","$value",249],";",["T_WHITESPACE","\n    ",249],"}",["T_WHITESPACE","\n\n    ",250],["T_DOC_COMMENT","\/**\n     * Connect to the server using the supplied transport and target\n     *\n     * An example $remote string may be 'tcp:\/\/mail.example.com:25' or 'ssh:\/\/hostname.com:2222'\n     *\n     * @param  string $remote Remote\n     * @throws Zend_Mail_Protocol_Exception\n     * @return boolean\n     *\/",252],["T_WHITESPACE","\n    ",260],["T_PROTECTED","protected",261],["T_WHITESPACE"," ",261],["T_FUNCTION","function",261],["T_WHITESPACE"," ",261],["T_STRING","_connect",261],"(",["T_VARIABLE","$remote",261],")",["T_WHITESPACE","\n    ",261],"{",["T_WHITESPACE","\n        ",262],["T_VARIABLE","$errorNum",263],["T_WHITESPACE"," ",263],"=",["T_WHITESPACE"," ",263],["T_LNUMBER","0",263],";",["T_WHITESPACE","\n        ",263],["T_VARIABLE","$errorStr",264],["T_WHITESPACE"," ",264],"=",["T_WHITESPACE"," ",264],["T_CONSTANT_ENCAPSED_STRING","''",264],";",["T_WHITESPACE","\n\n        ",264],["T_COMMENT","\/\/ open connection\n",266],["T_WHITESPACE","        ",267],["T_VARIABLE","$this",267],["T_OBJECT_OPERATOR","->",267],["T_STRING","_socket",267],["T_WHITESPACE"," ",267],"=",["T_WHITESPACE"," ",267],"@",["T_STRING","stream_socket_client",267],"(",["T_VARIABLE","$remote",267],",",["T_WHITESPACE"," ",267],["T_VARIABLE","$errorNum",267],",",["T_WHITESPACE"," ",267],["T_VARIABLE","$errorStr",267],",",["T_WHITESPACE"," ",267],["T_STRING","self",267],["T_DOUBLE_COLON","::",267],["T_STRING","TIMEOUT_CONNECTION",267],")",";",["T_WHITESPACE","\n\n        ",267],["T_IF","if",269],["T_WHITESPACE"," ",269],"(",["T_VARIABLE","$this",269],["T_OBJECT_OPERATOR","->",269],["T_STRING","_socket",269],["T_WHITESPACE"," ",269],["T_IS_IDENTICAL","===",269],["T_WHITESPACE"," ",269],["T_STRING","false",269],")",["T_WHITESPACE"," ",269],"{",["T_WHITESPACE","\n            ",269],["T_IF","if",270],["T_WHITESPACE"," ",270],"(",["T_VARIABLE","$errorNum",270],["T_WHITESPACE"," ",270],["T_IS_EQUAL","==",270],["T_WHITESPACE"," ",270],["T_LNUMBER","0",270],")",["T_WHITESPACE"," ",270],"{",["T_WHITESPACE","\n                ",270],["T_VARIABLE","$errorStr",271],["T_WHITESPACE"," ",271],"=",["T_WHITESPACE"," ",271],["T_CONSTANT_ENCAPSED_STRING","'Could not open socket'",271],";",["T_WHITESPACE","\n            ",271],"}",["T_WHITESPACE","\n            ",272],["T_DOC_COMMENT","\/**\n             * @see Zend_Mail_Protocol_Exception\n             *\/",273],["T_WHITESPACE","\n            ",275],["T_COMMENT","#require_once 'Zend\/Mail\/Protocol\/Exception.php';\n",276],["T_WHITESPACE","            ",277],["T_THROW","throw",277],["T_WHITESPACE"," ",277],["T_NEW","new",277],["T_WHITESPACE"," ",277],["T_STRING","Zend_Mail_Protocol_Exception",277],"(",["T_VARIABLE","$errorStr",277],")",";",["T_WHITESPACE","\n        ",277],"}",["T_WHITESPACE","\n\n        ",278],["T_IF","if",280],["T_WHITESPACE"," ",280],"(","(",["T_VARIABLE","$result",280],["T_WHITESPACE"," ",280],"=",["T_WHITESPACE"," ",280],["T_VARIABLE","$this",280],["T_OBJECT_OPERATOR","->",280],["T_STRING","_setStreamTimeout",280],"(",["T_STRING","self",280],["T_DOUBLE_COLON","::",280],["T_STRING","TIMEOUT_CONNECTION",280],")",")",["T_WHITESPACE"," ",280],["T_IS_IDENTICAL","===",280],["T_WHITESPACE"," ",280],["T_STRING","false",280],")",["T_WHITESPACE"," ",280],"{",["T_WHITESPACE","\n            ",280],["T_DOC_COMMENT","\/**\n             * @see Zend_Mail_Protocol_Exception\n             *\/",281],["T_WHITESPACE","\n            ",283],["T_COMMENT","#require_once 'Zend\/Mail\/Protocol\/Exception.php';\n",284],["T_WHITESPACE","            ",285],["T_THROW","throw",285],["T_WHITESPACE"," ",285],["T_NEW","new",285],["T_WHITESPACE"," ",285],["T_STRING","Zend_Mail_Protocol_Exception",285],"(",["T_CONSTANT_ENCAPSED_STRING","'Could not set stream timeout'",285],")",";",["T_WHITESPACE","\n        ",285],"}",["T_WHITESPACE","\n\n        ",286],["T_RETURN","return",288],["T_WHITESPACE"," ",288],["T_VARIABLE","$result",288],";",["T_WHITESPACE","\n    ",288],"}",["T_WHITESPACE","\n\n\n    ",289],["T_DOC_COMMENT","\/**\n     * Disconnect from remote host and free resource\n     *\n     * @return void\n     *\/",292],["T_WHITESPACE","\n    ",296],["T_PROTECTED","protected",297],["T_WHITESPACE"," ",297],["T_FUNCTION","function",297],["T_WHITESPACE"," ",297],["T_STRING","_disconnect",297],"(",")",["T_WHITESPACE","\n    ",297],"{",["T_WHITESPACE","\n        ",298],["T_IF","if",299],["T_WHITESPACE"," ",299],"(",["T_STRING","is_resource",299],"(",["T_VARIABLE","$this",299],["T_OBJECT_OPERATOR","->",299],["T_STRING","_socket",299],")",")",["T_WHITESPACE"," ",299],"{",["T_WHITESPACE","\n            ",299],["T_STRING","fclose",300],"(",["T_VARIABLE","$this",300],["T_OBJECT_OPERATOR","->",300],["T_STRING","_socket",300],")",";",["T_WHITESPACE","\n        ",300],"}",["T_WHITESPACE","\n    ",301],"}",["T_WHITESPACE","\n\n\n    ",302],["T_DOC_COMMENT","\/**\n     * Send the given request followed by a LINEEND to the server.\n     *\n     * @param  string $request\n     * @throws Zend_Mail_Protocol_Exception\n     * @return integer|boolean Number of bytes written to remote host\n     *\/",305],["T_WHITESPACE","\n    ",311],["T_PROTECTED","protected",312],["T_WHITESPACE"," ",312],["T_FUNCTION","function",312],["T_WHITESPACE"," ",312],["T_STRING","_send",312],"(",["T_VARIABLE","$request",312],")",["T_WHITESPACE","\n    ",312],"{",["T_WHITESPACE","\n        ",313],["T_IF","if",314],["T_WHITESPACE"," ",314],"(","!",["T_STRING","is_resource",314],"(",["T_VARIABLE","$this",314],["T_OBJECT_OPERATOR","->",314],["T_STRING","_socket",314],")",")",["T_WHITESPACE"," ",314],"{",["T_WHITESPACE","\n            ",314],["T_DOC_COMMENT","\/**\n             * @see Zend_Mail_Protocol_Exception\n             *\/",315],["T_WHITESPACE","\n            ",317],["T_COMMENT","#require_once 'Zend\/Mail\/Protocol\/Exception.php';\n",318],["T_WHITESPACE","            ",319],["T_THROW","throw",319],["T_WHITESPACE"," ",319],["T_NEW","new",319],["T_WHITESPACE"," ",319],["T_STRING","Zend_Mail_Protocol_Exception",319],"(",["T_CONSTANT_ENCAPSED_STRING","'No connection has been established to '",319],["T_WHITESPACE"," ",319],".",["T_WHITESPACE"," ",319],["T_VARIABLE","$this",319],["T_OBJECT_OPERATOR","->",319],["T_STRING","_host",319],")",";",["T_WHITESPACE","\n        ",319],"}",["T_WHITESPACE","\n\n        ",320],["T_VARIABLE","$this",322],["T_OBJECT_OPERATOR","->",322],["T_STRING","_request",322],["T_WHITESPACE"," ",322],"=",["T_WHITESPACE"," ",322],["T_VARIABLE","$request",322],";",["T_WHITESPACE","\n\n        ",322],["T_VARIABLE","$result",324],["T_WHITESPACE"," ",324],"=",["T_WHITESPACE"," ",324],["T_STRING","fwrite",324],"(",["T_VARIABLE","$this",324],["T_OBJECT_OPERATOR","->",324],["T_STRING","_socket",324],",",["T_WHITESPACE"," ",324],["T_VARIABLE","$request",324],["T_WHITESPACE"," ",324],".",["T_WHITESPACE"," ",324],["T_STRING","self",324],["T_DOUBLE_COLON","::",324],["T_STRING","EOL",324],")",";",["T_WHITESPACE","\n\n        ",324],["T_COMMENT","\/\/ Save request to internal log\n",326],["T_WHITESPACE","        ",327],["T_VARIABLE","$this",327],["T_OBJECT_OPERATOR","->",327],["T_STRING","_addLog",327],"(",["T_VARIABLE","$request",327],["T_WHITESPACE"," ",327],".",["T_WHITESPACE"," ",327],["T_STRING","self",327],["T_DOUBLE_COLON","::",327],["T_STRING","EOL",327],")",";",["T_WHITESPACE","\n\n        ",327],["T_IF","if",329],["T_WHITESPACE"," ",329],"(",["T_VARIABLE","$result",329],["T_WHITESPACE"," ",329],["T_IS_IDENTICAL","===",329],["T_WHITESPACE"," ",329],["T_STRING","false",329],")",["T_WHITESPACE"," ",329],"{",["T_WHITESPACE","\n            ",329],["T_DOC_COMMENT","\/**\n             * @see Zend_Mail_Protocol_Exception\n             *\/",330],["T_WHITESPACE","\n            ",332],["T_COMMENT","#require_once 'Zend\/Mail\/Protocol\/Exception.php';\n",333],["T_WHITESPACE","            ",334],["T_THROW","throw",334],["T_WHITESPACE"," ",334],["T_NEW","new",334],["T_WHITESPACE"," ",334],["T_STRING","Zend_Mail_Protocol_Exception",334],"(",["T_CONSTANT_ENCAPSED_STRING","'Could not send request to '",334],["T_WHITESPACE"," ",334],".",["T_WHITESPACE"," ",334],["T_VARIABLE","$this",334],["T_OBJECT_OPERATOR","->",334],["T_STRING","_host",334],")",";",["T_WHITESPACE","\n        ",334],"}",["T_WHITESPACE","\n\n        ",335],["T_RETURN","return",337],["T_WHITESPACE"," ",337],["T_VARIABLE","$result",337],";",["T_WHITESPACE","\n    ",337],"}",["T_WHITESPACE","\n\n\n    ",338],["T_DOC_COMMENT","\/**\n     * Get a line from the stream.\n     *\n     * @var    integer $timeout Per-request timeout value if applicable\n     * @throws Zend_Mail_Protocol_Exception\n     * @return string\n     *\/",341],["T_WHITESPACE","\n    ",347],["T_PROTECTED","protected",348],["T_WHITESPACE"," ",348],["T_FUNCTION","function",348],["T_WHITESPACE"," ",348],["T_STRING","_receive",348],"(",["T_VARIABLE","$timeout",348],["T_WHITESPACE"," ",348],"=",["T_WHITESPACE"," ",348],["T_STRING","null",348],")",["T_WHITESPACE","\n    ",348],"{",["T_WHITESPACE","\n        ",349],["T_IF","if",350],["T_WHITESPACE"," ",350],"(","!",["T_STRING","is_resource",350],"(",["T_VARIABLE","$this",350],["T_OBJECT_OPERATOR","->",350],["T_STRING","_socket",350],")",")",["T_WHITESPACE"," ",350],"{",["T_WHITESPACE","\n            ",350],["T_DOC_COMMENT","\/**\n             * @see Zend_Mail_Protocol_Exception\n             *\/",351],["T_WHITESPACE","\n            ",353],["T_COMMENT","#require_once 'Zend\/Mail\/Protocol\/Exception.php';\n",354],["T_WHITESPACE","            ",355],["T_THROW","throw",355],["T_WHITESPACE"," ",355],["T_NEW","new",355],["T_WHITESPACE"," ",355],["T_STRING","Zend_Mail_Protocol_Exception",355],"(",["T_CONSTANT_ENCAPSED_STRING","'No connection has been established to '",355],["T_WHITESPACE"," ",355],".",["T_WHITESPACE"," ",355],["T_VARIABLE","$this",355],["T_OBJECT_OPERATOR","->",355],["T_STRING","_host",355],")",";",["T_WHITESPACE","\n        ",355],"}",["T_WHITESPACE","\n\n        ",356],["T_COMMENT","\/\/ Adapters may wish to supply per-commend timeouts according to appropriate RFC\n",358],["T_WHITESPACE","        ",359],["T_IF","if",359],["T_WHITESPACE"," ",359],"(",["T_VARIABLE","$timeout",359],["T_WHITESPACE"," ",359],["T_IS_NOT_IDENTICAL","!==",359],["T_WHITESPACE"," ",359],["T_STRING","null",359],")",["T_WHITESPACE"," ",359],"{",["T_WHITESPACE","\n            ",359],["T_VARIABLE","$this",360],["T_OBJECT_OPERATOR","->",360],["T_STRING","_setStreamTimeout",360],"(",["T_VARIABLE","$timeout",360],")",";",["T_WHITESPACE","\n        ",360],"}",["T_WHITESPACE","\n\n        ",361],["T_COMMENT","\/\/ Retrieve response\n",363],["T_WHITESPACE","        ",364],["T_VARIABLE","$reponse",364],["T_WHITESPACE"," ",364],"=",["T_WHITESPACE"," ",364],["T_STRING","fgets",364],"(",["T_VARIABLE","$this",364],["T_OBJECT_OPERATOR","->",364],["T_STRING","_socket",364],",",["T_WHITESPACE"," ",364],["T_LNUMBER","1024",364],")",";",["T_WHITESPACE","\n\n        ",364],["T_COMMENT","\/\/ Save request to internal log\n",366],["T_WHITESPACE","        ",367],["T_VARIABLE","$this",367],["T_OBJECT_OPERATOR","->",367],["T_STRING","_addLog",367],"(",["T_VARIABLE","$reponse",367],")",";",["T_WHITESPACE","\n\n        ",367],["T_COMMENT","\/\/ Check meta data to ensure connection is still valid\n",369],["T_WHITESPACE","        ",370],["T_VARIABLE","$info",370],["T_WHITESPACE"," ",370],"=",["T_WHITESPACE"," ",370],["T_STRING","stream_get_meta_data",370],"(",["T_VARIABLE","$this",370],["T_OBJECT_OPERATOR","->",370],["T_STRING","_socket",370],")",";",["T_WHITESPACE","\n\n        ",370],["T_IF","if",372],["T_WHITESPACE"," ",372],"(","!",["T_EMPTY","empty",372],"(",["T_VARIABLE","$info",372],"[",["T_CONSTANT_ENCAPSED_STRING","'timed_out'",372],"]",")",")",["T_WHITESPACE"," ",372],"{",["T_WHITESPACE","\n            ",372],["T_DOC_COMMENT","\/**\n             * @see Zend_Mail_Protocol_Exception\n             *\/",373],["T_WHITESPACE","\n            ",375],["T_COMMENT","#require_once 'Zend\/Mail\/Protocol\/Exception.php';\n",376],["T_WHITESPACE","            ",377],["T_THROW","throw",377],["T_WHITESPACE"," ",377],["T_NEW","new",377],["T_WHITESPACE"," ",377],["T_STRING","Zend_Mail_Protocol_Exception",377],"(",["T_VARIABLE","$this",377],["T_OBJECT_OPERATOR","->",377],["T_STRING","_host",377],["T_WHITESPACE"," ",377],".",["T_WHITESPACE"," ",377],["T_CONSTANT_ENCAPSED_STRING","' has timed out'",377],")",";",["T_WHITESPACE","\n        ",377],"}",["T_WHITESPACE","\n\n        ",378],["T_IF","if",380],["T_WHITESPACE"," ",380],"(",["T_VARIABLE","$reponse",380],["T_WHITESPACE"," ",380],["T_IS_IDENTICAL","===",380],["T_WHITESPACE"," ",380],["T_STRING","false",380],")",["T_WHITESPACE"," ",380],"{",["T_WHITESPACE","\n            ",380],["T_DOC_COMMENT","\/**\n             * @see Zend_Mail_Protocol_Exception\n             *\/",381],["T_WHITESPACE","\n            ",383],["T_COMMENT","#require_once 'Zend\/Mail\/Protocol\/Exception.php';\n",384],["T_WHITESPACE","            ",385],["T_THROW","throw",385],["T_WHITESPACE"," ",385],["T_NEW","new",385],["T_WHITESPACE"," ",385],["T_STRING","Zend_Mail_Protocol_Exception",385],"(",["T_CONSTANT_ENCAPSED_STRING","'Could not read from '",385],["T_WHITESPACE"," ",385],".",["T_WHITESPACE"," ",385],["T_VARIABLE","$this",385],["T_OBJECT_OPERATOR","->",385],["T_STRING","_host",385],")",";",["T_WHITESPACE","\n        ",385],"}",["T_WHITESPACE","\n\n        ",386],["T_RETURN","return",388],["T_WHITESPACE"," ",388],["T_VARIABLE","$reponse",388],";",["T_WHITESPACE","\n    ",388],"}",["T_WHITESPACE","\n\n\n    ",389],["T_DOC_COMMENT","\/**\n     * Parse server response for successful codes\n     *\n     * Read the response from the stream and check for expected return code.\n     * Throws a Zend_Mail_Protocol_Exception if an unexpected code is returned.\n     *\n     * @param  string|array $code One or more codes that indicate a successful response\n     * @throws Zend_Mail_Protocol_Exception\n     * @return string Last line of response string\n     *\/",392],["T_WHITESPACE","\n    ",401],["T_PROTECTED","protected",402],["T_WHITESPACE"," ",402],["T_FUNCTION","function",402],["T_WHITESPACE"," ",402],["T_STRING","_expect",402],"(",["T_VARIABLE","$code",402],",",["T_WHITESPACE"," ",402],["T_VARIABLE","$timeout",402],["T_WHITESPACE"," ",402],"=",["T_WHITESPACE"," ",402],["T_STRING","null",402],")",["T_WHITESPACE","\n    ",402],"{",["T_WHITESPACE","\n        ",403],["T_VARIABLE","$this",404],["T_OBJECT_OPERATOR","->",404],["T_STRING","_response",404],["T_WHITESPACE"," ",404],"=",["T_WHITESPACE"," ",404],["T_ARRAY","array",404],"(",")",";",["T_WHITESPACE","\n        ",404],["T_VARIABLE","$cmd",405],["T_WHITESPACE","  ",405],"=",["T_WHITESPACE"," ",405],["T_CONSTANT_ENCAPSED_STRING","''",405],";",["T_WHITESPACE","\n        ",405],["T_VARIABLE","$more",406],["T_WHITESPACE"," ",406],"=",["T_WHITESPACE"," ",406],["T_CONSTANT_ENCAPSED_STRING","''",406],";",["T_WHITESPACE","\n        ",406],["T_VARIABLE","$msg",407],["T_WHITESPACE","  ",407],"=",["T_WHITESPACE"," ",407],["T_CONSTANT_ENCAPSED_STRING","''",407],";",["T_WHITESPACE","\n        ",407],["T_VARIABLE","$errMsg",408],["T_WHITESPACE"," ",408],"=",["T_WHITESPACE"," ",408],["T_CONSTANT_ENCAPSED_STRING","''",408],";",["T_WHITESPACE","\n\n        ",408],["T_IF","if",410],["T_WHITESPACE"," ",410],"(","!",["T_STRING","is_array",410],"(",["T_VARIABLE","$code",410],")",")",["T_WHITESPACE"," ",410],"{",["T_WHITESPACE","\n            ",410],["T_VARIABLE","$code",411],["T_WHITESPACE"," ",411],"=",["T_WHITESPACE"," ",411],["T_ARRAY","array",411],"(",["T_VARIABLE","$code",411],")",";",["T_WHITESPACE","\n        ",411],"}",["T_WHITESPACE","\n\n        ",412],["T_DO","do",414],["T_WHITESPACE"," ",414],"{",["T_WHITESPACE","\n            ",414],["T_VARIABLE","$this",415],["T_OBJECT_OPERATOR","->",415],["T_STRING","_response",415],"[","]",["T_WHITESPACE"," ",415],"=",["T_WHITESPACE"," ",415],["T_VARIABLE","$result",415],["T_WHITESPACE"," ",415],"=",["T_WHITESPACE"," ",415],["T_VARIABLE","$this",415],["T_OBJECT_OPERATOR","->",415],["T_STRING","_receive",415],"(",["T_VARIABLE","$timeout",415],")",";",["T_WHITESPACE","\n            ",415],["T_LIST","list",416],"(",["T_VARIABLE","$cmd",416],",",["T_WHITESPACE"," ",416],["T_VARIABLE","$more",416],",",["T_WHITESPACE"," ",416],["T_VARIABLE","$msg",416],")",["T_WHITESPACE"," ",416],"=",["T_WHITESPACE"," ",416],["T_STRING","preg_split",416],"(",["T_CONSTANT_ENCAPSED_STRING","'\/([\\s-]+)\/'",416],",",["T_WHITESPACE"," ",416],["T_VARIABLE","$result",416],",",["T_WHITESPACE"," ",416],["T_LNUMBER","2",416],",",["T_WHITESPACE"," ",416],["T_STRING","PREG_SPLIT_DELIM_CAPTURE",416],")",";",["T_WHITESPACE","\n\n            ",416],["T_IF","if",418],["T_WHITESPACE"," ",418],"(",["T_VARIABLE","$errMsg",418],["T_WHITESPACE"," ",418],["T_IS_NOT_IDENTICAL","!==",418],["T_WHITESPACE"," ",418],["T_CONSTANT_ENCAPSED_STRING","''",418],")",["T_WHITESPACE"," ",418],"{",["T_WHITESPACE","\n                ",418],["T_VARIABLE","$errMsg",419],["T_WHITESPACE"," ",419],["T_CONCAT_EQUAL",".=",419],["T_WHITESPACE"," ",419],["T_CONSTANT_ENCAPSED_STRING","' '",419],["T_WHITESPACE"," ",419],".",["T_WHITESPACE"," ",419],["T_VARIABLE","$msg",419],";",["T_WHITESPACE","\n            ",419],"}",["T_WHITESPACE"," ",420],["T_ELSEIF","elseif",420],["T_WHITESPACE"," ",420],"(",["T_VARIABLE","$cmd",420],["T_WHITESPACE"," ",420],["T_IS_IDENTICAL","===",420],["T_WHITESPACE"," ",420],["T_STRING","null",420],["T_WHITESPACE"," ",420],["T_BOOLEAN_OR","||",420],["T_WHITESPACE"," ",420],"!",["T_STRING","in_array",420],"(",["T_VARIABLE","$cmd",420],",",["T_WHITESPACE"," ",420],["T_VARIABLE","$code",420],")",")",["T_WHITESPACE"," ",420],"{",["T_WHITESPACE","\n                ",420],["T_VARIABLE","$errMsg",421],["T_WHITESPACE"," ",421],"=",["T_WHITESPACE","  ",421],["T_VARIABLE","$msg",421],";",["T_WHITESPACE","\n            ",421],"}",["T_WHITESPACE","\n\n        ",422],"}",["T_WHITESPACE"," ",424],["T_WHILE","while",424],["T_WHITESPACE"," ",424],"(",["T_STRING","strpos",424],"(",["T_VARIABLE","$more",424],",",["T_WHITESPACE"," ",424],["T_CONSTANT_ENCAPSED_STRING","'-'",424],")",["T_WHITESPACE"," ",424],["T_IS_IDENTICAL","===",424],["T_WHITESPACE"," ",424],["T_LNUMBER","0",424],")",";",["T_WHITESPACE"," ",424],["T_COMMENT","\/\/ The '-' message prefix indicates an information string instead of a response string.\n",424],["T_WHITESPACE","\n        ",425],["T_IF","if",426],["T_WHITESPACE"," ",426],"(",["T_VARIABLE","$errMsg",426],["T_WHITESPACE"," ",426],["T_IS_NOT_IDENTICAL","!==",426],["T_WHITESPACE"," ",426],["T_CONSTANT_ENCAPSED_STRING","''",426],")",["T_WHITESPACE"," ",426],"{",["T_WHITESPACE","\n            ",426],["T_DOC_COMMENT","\/**\n             * @see Zend_Mail_Protocol_Exception\n             *\/",427],["T_WHITESPACE","\n            ",429],["T_COMMENT","#require_once 'Zend\/Mail\/Protocol\/Exception.php';\n",430],["T_WHITESPACE","            ",431],["T_THROW","throw",431],["T_WHITESPACE"," ",431],["T_NEW","new",431],["T_WHITESPACE"," ",431],["T_STRING","Zend_Mail_Protocol_Exception",431],"(",["T_VARIABLE","$errMsg",431],",",["T_WHITESPACE"," ",431],["T_VARIABLE","$cmd",431],")",";",["T_WHITESPACE","\n        ",431],"}",["T_WHITESPACE","\n\n        ",432],["T_RETURN","return",434],["T_WHITESPACE"," ",434],["T_VARIABLE","$msg",434],";",["T_WHITESPACE","\n    ",434],"}",["T_WHITESPACE","\n\n    ",435],["T_DOC_COMMENT","\/**\n     * Set stream timeout\n     *\n     * @param integer $timeout\n     * @return boolean\n     *\/",437],["T_WHITESPACE","\n    ",442],["T_PROTECTED","protected",443],["T_WHITESPACE"," ",443],["T_FUNCTION","function",443],["T_WHITESPACE"," ",443],["T_STRING","_setStreamTimeout",443],"(",["T_VARIABLE","$timeout",443],")",["T_WHITESPACE","\n    ",443],"{",["T_WHITESPACE","\n       ",444],["T_RETURN","return",445],["T_WHITESPACE"," ",445],["T_STRING","stream_set_timeout",445],"(",["T_VARIABLE","$this",445],["T_OBJECT_OPERATOR","->",445],["T_STRING","_socket",445],",",["T_WHITESPACE"," ",445],["T_VARIABLE","$timeout",445],")",";",["T_WHITESPACE","\n    ",445],"}",["T_WHITESPACE","\n",446],"}",["T_WHITESPACE","\n",447]]