[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Zend Framework\n *\n * LICENSE\n *\n * This source file is subject to the new BSD license that is bundled\n * with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/framework.zend.com\/license\/new-bsd\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@zend.com so we can send you a copy immediately.\n *\n * @category   Zend\n * @package    Zend_Mail\n * @subpackage Transport\n * @copyright  Copyright (c) 2005-2015 Zend Technologies USA Inc. (http:\/\/www.zend.com)\n * @license    http:\/\/framework.zend.com\/license\/new-bsd     New BSD License\n * @version    $Id$\n *\/",2],["T_WHITESPACE","\n\n\n",21],["T_DOC_COMMENT","\/**\n * @see Zend_Mime\n *\/",24],["T_WHITESPACE","\n",26],["T_COMMENT","#require_once 'Zend\/Mime.php';\n",27],["T_WHITESPACE","\n",28],["T_DOC_COMMENT","\/**\n * @see Zend_Mail_Protocol_Smtp\n *\/",29],["T_WHITESPACE","\n",31],["T_COMMENT","#require_once 'Zend\/Mail\/Protocol\/Smtp.php';\n",32],["T_WHITESPACE","\n",33],["T_DOC_COMMENT","\/**\n * @see Zend_Mail_Transport_Abstract\n *\/",34],["T_WHITESPACE","\n",36],["T_COMMENT","#require_once 'Zend\/Mail\/Transport\/Abstract.php';\n",37],["T_WHITESPACE","\n\n",38],["T_DOC_COMMENT","\/**\n * SMTP connection object\n *\n * Loads an instance of Zend_Mail_Protocol_Smtp and forwards smtp transactions\n *\n * @category   Zend\n * @package    Zend_Mail\n * @subpackage Transport\n * @copyright  Copyright (c) 2005-2015 Zend Technologies USA Inc. (http:\/\/www.zend.com)\n * @license    http:\/\/framework.zend.com\/license\/new-bsd     New BSD License\n *\/",40],["T_WHITESPACE","\n",50],["T_CLASS","class",51],["T_WHITESPACE"," ",51],["T_STRING","Zend_Mail_Transport_Smtp",51],["T_WHITESPACE"," ",51],["T_EXTENDS","extends",51],["T_WHITESPACE"," ",51],["T_STRING","Zend_Mail_Transport_Abstract",51],["T_WHITESPACE","\n",51],"{",["T_WHITESPACE","\n    ",52],["T_DOC_COMMENT","\/**\n     * EOL character string used by transport\n     * @var string\n     * @access public\n     *\/",53],["T_WHITESPACE","\n    ",57],["T_PUBLIC","public",58],["T_WHITESPACE"," ",58],["T_VARIABLE","$EOL",58],["T_WHITESPACE"," ",58],"=",["T_WHITESPACE"," ",58],["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",58],";",["T_WHITESPACE","\n\n    ",58],["T_DOC_COMMENT","\/**\n     * Remote smtp hostname or i.p.\n     *\n     * @var string\n     *\/",60],["T_WHITESPACE","\n    ",64],["T_PROTECTED","protected",65],["T_WHITESPACE"," ",65],["T_VARIABLE","$_host",65],";",["T_WHITESPACE","\n\n\n    ",65],["T_DOC_COMMENT","\/**\n     * Port number\n     *\n     * @var integer|null\n     *\/",68],["T_WHITESPACE","\n    ",72],["T_PROTECTED","protected",73],["T_WHITESPACE"," ",73],["T_VARIABLE","$_port",73],";",["T_WHITESPACE","\n\n\n    ",73],["T_DOC_COMMENT","\/**\n     * Local client hostname or i.p.\n     *\n     * @var string\n     *\/",76],["T_WHITESPACE","\n    ",80],["T_PROTECTED","protected",81],["T_WHITESPACE"," ",81],["T_VARIABLE","$_name",81],["T_WHITESPACE"," ",81],"=",["T_WHITESPACE"," ",81],["T_CONSTANT_ENCAPSED_STRING","'localhost'",81],";",["T_WHITESPACE","\n\n\n    ",81],["T_DOC_COMMENT","\/**\n     * Authentication type OPTIONAL\n     *\n     * @var string\n     *\/",84],["T_WHITESPACE","\n    ",88],["T_PROTECTED","protected",89],["T_WHITESPACE"," ",89],["T_VARIABLE","$_auth",89],";",["T_WHITESPACE","\n\n\n    ",89],["T_DOC_COMMENT","\/**\n     * Config options for authentication\n     *\n     * @var array\n     *\/",92],["T_WHITESPACE","\n    ",96],["T_PROTECTED","protected",97],["T_WHITESPACE"," ",97],["T_VARIABLE","$_config",97],";",["T_WHITESPACE","\n\n\n    ",97],["T_DOC_COMMENT","\/**\n     * Instance of Zend_Mail_Protocol_Smtp\n     *\n     * @var Zend_Mail_Protocol_Smtp\n     *\/",100],["T_WHITESPACE","\n    ",104],["T_PROTECTED","protected",105],["T_WHITESPACE"," ",105],["T_VARIABLE","$_connection",105],";",["T_WHITESPACE","\n\n\n    ",105],["T_DOC_COMMENT","\/**\n     * Constructor.\n     *\n     * @param  string $host OPTIONAL (Default: 127.0.0.1)\n     * @param  array|null $config OPTIONAL (Default: null)\n     * @return void\n     *\n     * @todo Someone please make this compatible\n     *       with the SendMail transport class.\n     *\/",108],["T_WHITESPACE","\n    ",117],["T_PUBLIC","public",118],["T_WHITESPACE"," ",118],["T_FUNCTION","function",118],["T_WHITESPACE"," ",118],["T_STRING","__construct",118],"(",["T_VARIABLE","$host",118],["T_WHITESPACE"," ",118],"=",["T_WHITESPACE"," ",118],["T_CONSTANT_ENCAPSED_STRING","'127.0.0.1'",118],",",["T_WHITESPACE"," ",118],["T_ARRAY","Array",118],["T_WHITESPACE"," ",118],["T_VARIABLE","$config",118],["T_WHITESPACE"," ",118],"=",["T_WHITESPACE"," ",118],["T_ARRAY","array",118],"(",")",")",["T_WHITESPACE","\n    ",118],"{",["T_WHITESPACE","\n        ",119],["T_IF","if",120],["T_WHITESPACE"," ",120],"(",["T_ISSET","isset",120],"(",["T_VARIABLE","$config",120],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",120],"]",")",")",["T_WHITESPACE"," ",120],"{",["T_WHITESPACE","\n            ",120],["T_VARIABLE","$this",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","_name",121],["T_WHITESPACE"," ",121],"=",["T_WHITESPACE"," ",121],["T_VARIABLE","$config",121],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",121],"]",";",["T_WHITESPACE","\n        ",121],"}",["T_WHITESPACE","\n        ",122],["T_IF","if",123],["T_WHITESPACE"," ",123],"(",["T_ISSET","isset",123],"(",["T_VARIABLE","$config",123],"[",["T_CONSTANT_ENCAPSED_STRING","'port'",123],"]",")",")",["T_WHITESPACE"," ",123],"{",["T_WHITESPACE","\n            ",123],["T_VARIABLE","$this",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","_port",124],["T_WHITESPACE"," ",124],"=",["T_WHITESPACE"," ",124],["T_VARIABLE","$config",124],"[",["T_CONSTANT_ENCAPSED_STRING","'port'",124],"]",";",["T_WHITESPACE","\n        ",124],"}",["T_WHITESPACE","\n        ",125],["T_IF","if",126],["T_WHITESPACE"," ",126],"(",["T_ISSET","isset",126],"(",["T_VARIABLE","$config",126],"[",["T_CONSTANT_ENCAPSED_STRING","'auth'",126],"]",")",")",["T_WHITESPACE"," ",126],"{",["T_WHITESPACE","\n            ",126],["T_VARIABLE","$this",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","_auth",127],["T_WHITESPACE"," ",127],"=",["T_WHITESPACE"," ",127],["T_VARIABLE","$config",127],"[",["T_CONSTANT_ENCAPSED_STRING","'auth'",127],"]",";",["T_WHITESPACE","\n        ",127],"}",["T_WHITESPACE","\n\n        ",128],["T_VARIABLE","$this",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","_host",130],["T_WHITESPACE"," ",130],"=",["T_WHITESPACE"," ",130],["T_VARIABLE","$host",130],";",["T_WHITESPACE","\n        ",130],["T_VARIABLE","$this",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","_config",131],["T_WHITESPACE"," ",131],"=",["T_WHITESPACE"," ",131],["T_VARIABLE","$config",131],";",["T_WHITESPACE","\n    ",131],"}",["T_WHITESPACE","\n\n\n    ",132],["T_DOC_COMMENT","\/**\n     * Class destructor to ensure all open connections are closed\n     *\n     * @return void\n     *\/",135],["T_WHITESPACE","\n    ",139],["T_PUBLIC","public",140],["T_WHITESPACE"," ",140],["T_FUNCTION","function",140],["T_WHITESPACE"," ",140],["T_STRING","__destruct",140],"(",")",["T_WHITESPACE","\n    ",140],"{",["T_WHITESPACE","\n        ",141],["T_IF","if",142],["T_WHITESPACE"," ",142],"(",["T_VARIABLE","$this",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","_connection",142],["T_WHITESPACE"," ",142],["T_INSTANCEOF","instanceof",142],["T_WHITESPACE"," ",142],["T_STRING","Zend_Mail_Protocol_Smtp",142],")",["T_WHITESPACE"," ",142],"{",["T_WHITESPACE","\n            ",142],["T_TRY","try",143],["T_WHITESPACE"," ",143],"{",["T_WHITESPACE","\n                ",143],["T_VARIABLE","$this",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","_connection",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","quit",144],"(",")",";",["T_WHITESPACE","\n            ",144],"}",["T_WHITESPACE"," ",145],["T_CATCH","catch",145],["T_WHITESPACE"," ",145],"(",["T_STRING","Zend_Mail_Protocol_Exception",145],["T_WHITESPACE"," ",145],["T_VARIABLE","$e",145],")",["T_WHITESPACE"," ",145],"{",["T_WHITESPACE","\n                ",145],["T_COMMENT","\/\/ ignore\n",146],["T_WHITESPACE","            ",147],"}",["T_WHITESPACE","\n            ",147],["T_VARIABLE","$this",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","_connection",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","disconnect",148],"(",")",";",["T_WHITESPACE","\n        ",148],"}",["T_WHITESPACE","\n    ",149],"}",["T_WHITESPACE","\n\n\n    ",150],["T_DOC_COMMENT","\/**\n     * Sets the connection protocol instance\n     *\n     * @param Zend_Mail_Protocol_Abstract $client\n     *\n     * @return void\n     *\/",153],["T_WHITESPACE","\n    ",159],["T_PUBLIC","public",160],["T_WHITESPACE"," ",160],["T_FUNCTION","function",160],["T_WHITESPACE"," ",160],["T_STRING","setConnection",160],"(",["T_STRING","Zend_Mail_Protocol_Abstract",160],["T_WHITESPACE"," ",160],["T_VARIABLE","$connection",160],")",["T_WHITESPACE","\n    ",160],"{",["T_WHITESPACE","\n        ",161],["T_VARIABLE","$this",162],["T_OBJECT_OPERATOR","->",162],["T_STRING","_connection",162],["T_WHITESPACE"," ",162],"=",["T_WHITESPACE"," ",162],["T_VARIABLE","$connection",162],";",["T_WHITESPACE","\n    ",162],"}",["T_WHITESPACE","\n\n\n    ",163],["T_DOC_COMMENT","\/**\n     * Gets the connection protocol instance\n     *\n     * @return Zend_Mail_Protocol|null\n     *\/",166],["T_WHITESPACE","\n    ",170],["T_PUBLIC","public",171],["T_WHITESPACE"," ",171],["T_FUNCTION","function",171],["T_WHITESPACE"," ",171],["T_STRING","getConnection",171],"(",")",["T_WHITESPACE","\n    ",171],"{",["T_WHITESPACE","\n        ",172],["T_RETURN","return",173],["T_WHITESPACE"," ",173],["T_VARIABLE","$this",173],["T_OBJECT_OPERATOR","->",173],["T_STRING","_connection",173],";",["T_WHITESPACE","\n    ",173],"}",["T_WHITESPACE","\n\n    ",174],["T_DOC_COMMENT","\/**\n     * Send an email via the SMTP connection protocol\n     *\n     * The connection via the protocol adapter is made just-in-time to allow a\n     * developer to add a custom adapter if required before mail is sent.\n     *\n     * @return void\n     * @todo Rename this to sendMail, it's a public method...\n     *\/",176],["T_WHITESPACE","\n    ",184],["T_PUBLIC","public",185],["T_WHITESPACE"," ",185],["T_FUNCTION","function",185],["T_WHITESPACE"," ",185],["T_STRING","_sendMail",185],"(",")",["T_WHITESPACE","\n    ",185],"{",["T_WHITESPACE","\n        ",186],["T_COMMENT","\/\/ If sending multiple messages per session use existing adapter\n",187],["T_WHITESPACE","        ",188],["T_IF","if",188],["T_WHITESPACE"," ",188],"(","!","(",["T_VARIABLE","$this",188],["T_OBJECT_OPERATOR","->",188],["T_STRING","_connection",188],["T_WHITESPACE"," ",188],["T_INSTANCEOF","instanceof",188],["T_WHITESPACE"," ",188],["T_STRING","Zend_Mail_Protocol_Smtp",188],")",")",["T_WHITESPACE"," ",188],"{",["T_WHITESPACE","\n            ",188],["T_COMMENT","\/\/ Check if authentication is required and determine required class\n",189],["T_WHITESPACE","            ",190],["T_VARIABLE","$connectionClass",190],["T_WHITESPACE"," ",190],"=",["T_WHITESPACE"," ",190],["T_CONSTANT_ENCAPSED_STRING","'Zend_Mail_Protocol_Smtp'",190],";",["T_WHITESPACE","\n            ",190],["T_IF","if",191],["T_WHITESPACE"," ",191],"(",["T_VARIABLE","$this",191],["T_OBJECT_OPERATOR","->",191],["T_STRING","_auth",191],")",["T_WHITESPACE"," ",191],"{",["T_WHITESPACE","\n                ",191],["T_VARIABLE","$connectionClass",192],["T_WHITESPACE"," ",192],["T_CONCAT_EQUAL",".=",192],["T_WHITESPACE"," ",192],["T_CONSTANT_ENCAPSED_STRING","'_Auth_'",192],["T_WHITESPACE"," ",192],".",["T_WHITESPACE"," ",192],["T_STRING","ucwords",192],"(",["T_VARIABLE","$this",192],["T_OBJECT_OPERATOR","->",192],["T_STRING","_auth",192],")",";",["T_WHITESPACE","\n            ",192],"}",["T_WHITESPACE","\n            ",193],["T_IF","if",194],["T_WHITESPACE"," ",194],"(","!",["T_STRING","class_exists",194],"(",["T_VARIABLE","$connectionClass",194],")",")",["T_WHITESPACE"," ",194],"{",["T_WHITESPACE","\n                ",194],["T_COMMENT","#require_once 'Zend\/Loader.php';\n",195],["T_WHITESPACE","                ",196],["T_STRING","Zend_Loader",196],["T_DOUBLE_COLON","::",196],["T_STRING","loadClass",196],"(",["T_VARIABLE","$connectionClass",196],")",";",["T_WHITESPACE","\n            ",196],"}",["T_WHITESPACE","\n            ",197],["T_VARIABLE","$this",198],["T_OBJECT_OPERATOR","->",198],["T_STRING","setConnection",198],"(",["T_NEW","new",198],["T_WHITESPACE"," ",198],["T_VARIABLE","$connectionClass",198],"(",["T_VARIABLE","$this",198],["T_OBJECT_OPERATOR","->",198],["T_STRING","_host",198],",",["T_WHITESPACE"," ",198],["T_VARIABLE","$this",198],["T_OBJECT_OPERATOR","->",198],["T_STRING","_port",198],",",["T_WHITESPACE"," ",198],["T_VARIABLE","$this",198],["T_OBJECT_OPERATOR","->",198],["T_STRING","_config",198],")",")",";",["T_WHITESPACE","\n            ",198],["T_VARIABLE","$this",199],["T_OBJECT_OPERATOR","->",199],["T_STRING","_connection",199],["T_OBJECT_OPERATOR","->",199],["T_STRING","connect",199],"(",")",";",["T_WHITESPACE","\n            ",199],["T_VARIABLE","$this",200],["T_OBJECT_OPERATOR","->",200],["T_STRING","_connection",200],["T_OBJECT_OPERATOR","->",200],["T_STRING","helo",200],"(",["T_VARIABLE","$this",200],["T_OBJECT_OPERATOR","->",200],["T_STRING","_name",200],")",";",["T_WHITESPACE","\n        ",200],"}",["T_WHITESPACE"," ",201],["T_ELSE","else",201],["T_WHITESPACE"," ",201],"{",["T_WHITESPACE","\n            ",201],["T_COMMENT","\/\/ Reset connection to ensure reliable transaction\n",202],["T_WHITESPACE","            ",203],["T_VARIABLE","$this",203],["T_OBJECT_OPERATOR","->",203],["T_STRING","_connection",203],["T_OBJECT_OPERATOR","->",203],["T_STRING","rset",203],"(",")",";",["T_WHITESPACE","\n        ",203],"}",["T_WHITESPACE","\n\n        ",204],["T_COMMENT","\/\/ Set sender email address\n",206],["T_WHITESPACE","        ",207],["T_VARIABLE","$this",207],["T_OBJECT_OPERATOR","->",207],["T_STRING","_connection",207],["T_OBJECT_OPERATOR","->",207],["T_STRING","mail",207],"(",["T_VARIABLE","$this",207],["T_OBJECT_OPERATOR","->",207],["T_STRING","_mail",207],["T_OBJECT_OPERATOR","->",207],["T_STRING","getReturnPath",207],"(",")",")",";",["T_WHITESPACE","\n\n        ",207],["T_COMMENT","\/\/ Set recipient forward paths\n",209],["T_WHITESPACE","        ",210],["T_FOREACH","foreach",210],["T_WHITESPACE"," ",210],"(",["T_VARIABLE","$this",210],["T_OBJECT_OPERATOR","->",210],["T_STRING","_mail",210],["T_OBJECT_OPERATOR","->",210],["T_STRING","getRecipients",210],"(",")",["T_WHITESPACE"," ",210],["T_AS","as",210],["T_WHITESPACE"," ",210],["T_VARIABLE","$recipient",210],")",["T_WHITESPACE"," ",210],"{",["T_WHITESPACE","\n            ",210],["T_VARIABLE","$this",211],["T_OBJECT_OPERATOR","->",211],["T_STRING","_connection",211],["T_OBJECT_OPERATOR","->",211],["T_STRING","rcpt",211],"(",["T_VARIABLE","$recipient",211],")",";",["T_WHITESPACE","\n        ",211],"}",["T_WHITESPACE","\n\n        ",212],["T_COMMENT","\/\/ Issue DATA command to client\n",214],["T_WHITESPACE","        ",215],["T_VARIABLE","$this",215],["T_OBJECT_OPERATOR","->",215],["T_STRING","_connection",215],["T_OBJECT_OPERATOR","->",215],["T_STRING","data",215],"(",["T_VARIABLE","$this",215],["T_OBJECT_OPERATOR","->",215],["T_STRING","header",215],["T_WHITESPACE"," ",215],".",["T_WHITESPACE"," ",215],["T_STRING","Zend_Mime",215],["T_DOUBLE_COLON","::",215],["T_STRING","LINEEND",215],["T_WHITESPACE"," ",215],".",["T_WHITESPACE"," ",215],["T_VARIABLE","$this",215],["T_OBJECT_OPERATOR","->",215],["T_STRING","body",215],")",";",["T_WHITESPACE","\n    ",215],"}",["T_WHITESPACE","\n\n    ",216],["T_DOC_COMMENT","\/**\n     * Format and fix headers\n     *\n     * Some SMTP servers do not strip BCC headers. Most clients do it themselves as do we.\n     *\n     * @access  protected\n     * @param   array $headers\n     * @return  void\n     * @throws  Zend_Transport_Exception\n     *\/",218],["T_WHITESPACE","\n    ",227],["T_PROTECTED","protected",228],["T_WHITESPACE"," ",228],["T_FUNCTION","function",228],["T_WHITESPACE"," ",228],["T_STRING","_prepareHeaders",228],"(",["T_VARIABLE","$headers",228],")",["T_WHITESPACE","\n    ",228],"{",["T_WHITESPACE","\n        ",229],["T_IF","if",230],["T_WHITESPACE"," ",230],"(","!",["T_VARIABLE","$this",230],["T_OBJECT_OPERATOR","->",230],["T_STRING","_mail",230],")",["T_WHITESPACE"," ",230],"{",["T_WHITESPACE","\n            ",230],["T_DOC_COMMENT","\/**\n             * @see Zend_Mail_Transport_Exception\n             *\/",231],["T_WHITESPACE","\n            ",233],["T_COMMENT","#require_once 'Zend\/Mail\/Transport\/Exception.php';\n",234],["T_WHITESPACE","            ",235],["T_THROW","throw",235],["T_WHITESPACE"," ",235],["T_NEW","new",235],["T_WHITESPACE"," ",235],["T_STRING","Zend_Mail_Transport_Exception",235],"(",["T_CONSTANT_ENCAPSED_STRING","'_prepareHeaders requires a registered Zend_Mail object'",235],")",";",["T_WHITESPACE","\n        ",235],"}",["T_WHITESPACE","\n\n        ",236],["T_UNSET","unset",238],"(",["T_VARIABLE","$headers",238],"[",["T_CONSTANT_ENCAPSED_STRING","'Bcc'",238],"]",")",";",["T_WHITESPACE","\n\n        ",238],["T_COMMENT","\/\/ Prepare headers\n",240],["T_WHITESPACE","        ",241],["T_STRING","parent",241],["T_DOUBLE_COLON","::",241],["T_STRING","_prepareHeaders",241],"(",["T_VARIABLE","$headers",241],")",";",["T_WHITESPACE","\n    ",241],"}",["T_WHITESPACE","\n",242],"}",["T_WHITESPACE","\n",243]]