[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Zend Framework\n *\n * LICENSE\n *\n * This source file is subject to the new BSD license that is bundled\n * with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/framework.zend.com\/license\/new-bsd\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@zend.com so we can send you a copy immediately.\n *\n * @category   Zend\n * @package    Zend_Mail\n * @subpackage Transport\n * @copyright  Copyright (c) 2005-2015 Zend Technologies USA Inc. (http:\/\/www.zend.com)\n * @license    http:\/\/framework.zend.com\/license\/new-bsd     New BSD License\n * @version    $Id$\n *\/",2],["T_WHITESPACE","\n\n\n",21],["T_DOC_COMMENT","\/**\n * @see Zend_Mail_Transport_Abstract\n *\/",24],["T_WHITESPACE","\n",26],["T_COMMENT","#require_once 'Zend\/Mail\/Transport\/Abstract.php';\n",27],["T_WHITESPACE","\n\n",28],["T_DOC_COMMENT","\/**\n * Class for sending eMails via the PHP internal mail() function\n *\n * @category   Zend\n * @package    Zend_Mail\n * @subpackage Transport\n * @copyright  Copyright (c) 2005-2015 Zend Technologies USA Inc. (http:\/\/www.zend.com)\n * @license    http:\/\/framework.zend.com\/license\/new-bsd     New BSD License\n *\/",30],["T_WHITESPACE","\n",38],["T_CLASS","class",39],["T_WHITESPACE"," ",39],["T_STRING","Zend_Mail_Transport_Sendmail",39],["T_WHITESPACE"," ",39],["T_EXTENDS","extends",39],["T_WHITESPACE"," ",39],["T_STRING","Zend_Mail_Transport_Abstract",39],["T_WHITESPACE","\n",39],"{",["T_WHITESPACE","\n    ",40],["T_DOC_COMMENT","\/**\n     * Subject\n     * @var string\n     * @access public\n     *\/",41],["T_WHITESPACE","\n    ",45],["T_PUBLIC","public",46],["T_WHITESPACE"," ",46],["T_VARIABLE","$subject",46],["T_WHITESPACE"," ",46],"=",["T_WHITESPACE"," ",46],["T_STRING","null",46],";",["T_WHITESPACE","\n\n\n    ",46],["T_DOC_COMMENT","\/**\n     * Config options for sendmail parameters\n     *\n     * @var string\n     *\/",49],["T_WHITESPACE","\n    ",53],["T_PUBLIC","public",54],["T_WHITESPACE"," ",54],["T_VARIABLE","$parameters",54],";",["T_WHITESPACE","\n\n    ",54],["T_DOC_COMMENT","\/**\n     * EOL character string\n     * @var string\n     * @access public\n     *\/",56],["T_WHITESPACE","\n    ",60],["T_PUBLIC","public",61],["T_WHITESPACE"," ",61],["T_VARIABLE","$EOL",61],["T_WHITESPACE"," ",61],"=",["T_WHITESPACE"," ",61],["T_STRING","PHP_EOL",61],";",["T_WHITESPACE","\n\n    ",61],["T_DOC_COMMENT","\/**\n     * error information\n     * @var string\n     *\/",63],["T_WHITESPACE","\n    ",66],["T_PROTECTED","protected",67],["T_WHITESPACE"," ",67],["T_VARIABLE","$_errstr",67],";",["T_WHITESPACE","\n\n    ",67],["T_DOC_COMMENT","\/**\n     * Constructor.\n     *\n     * @param  string|array|Zend_Config $parameters OPTIONAL (Default: null)\n     * @return void\n     *\/",69],["T_WHITESPACE","\n    ",74],["T_PUBLIC","public",75],["T_WHITESPACE"," ",75],["T_FUNCTION","function",75],["T_WHITESPACE"," ",75],["T_STRING","__construct",75],"(",["T_VARIABLE","$parameters",75],["T_WHITESPACE"," ",75],"=",["T_WHITESPACE"," ",75],["T_STRING","null",75],")",["T_WHITESPACE","\n    ",75],"{",["T_WHITESPACE","\n        ",76],["T_IF","if",77],["T_WHITESPACE"," ",77],"(",["T_VARIABLE","$parameters",77],["T_WHITESPACE"," ",77],["T_INSTANCEOF","instanceof",77],["T_WHITESPACE"," ",77],["T_STRING","Zend_Config",77],")",["T_WHITESPACE"," ",77],"{",["T_WHITESPACE","\n            ",77],["T_VARIABLE","$parameters",78],["T_WHITESPACE"," ",78],"=",["T_WHITESPACE"," ",78],["T_VARIABLE","$parameters",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","toArray",78],"(",")",";",["T_WHITESPACE","\n        ",78],"}",["T_WHITESPACE","\n\n        ",79],["T_IF","if",81],["T_WHITESPACE"," ",81],"(",["T_STRING","is_array",81],"(",["T_VARIABLE","$parameters",81],")",")",["T_WHITESPACE"," ",81],"{",["T_WHITESPACE","\n            ",81],["T_VARIABLE","$parameters",82],["T_WHITESPACE"," ",82],"=",["T_WHITESPACE"," ",82],["T_STRING","implode",82],"(",["T_CONSTANT_ENCAPSED_STRING","' '",82],",",["T_WHITESPACE"," ",82],["T_VARIABLE","$parameters",82],")",";",["T_WHITESPACE","\n        ",82],"}",["T_WHITESPACE","\n\n        ",83],["T_VARIABLE","$this",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","parameters",85],["T_WHITESPACE"," ",85],"=",["T_WHITESPACE"," ",85],["T_VARIABLE","$parameters",85],";",["T_WHITESPACE","\n    ",85],"}",["T_WHITESPACE","\n\n\n    ",86],["T_DOC_COMMENT","\/**\n     * Send mail using PHP native mail()\n     *\n     * @access public\n     * @return void\n     * @throws Zend_Mail_Transport_Exception if parameters is set\n     *         but not a string\n     * @throws Zend_Mail_Transport_Exception on mail() failure\n     *\/",89],["T_WHITESPACE","\n    ",97],["T_PUBLIC","public",98],["T_WHITESPACE"," ",98],["T_FUNCTION","function",98],["T_WHITESPACE"," ",98],["T_STRING","_sendMail",98],"(",")",["T_WHITESPACE","\n    ",98],"{",["T_WHITESPACE","\n        ",99],["T_IF","if",100],["T_WHITESPACE"," ",100],"(",["T_VARIABLE","$this",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","parameters",100],["T_WHITESPACE"," ",100],["T_IS_IDENTICAL","===",100],["T_WHITESPACE"," ",100],["T_STRING","null",100],")",["T_WHITESPACE"," ",100],"{",["T_WHITESPACE","\n            ",100],["T_STRING","set_error_handler",101],"(",["T_ARRAY","array",101],"(",["T_VARIABLE","$this",101],",",["T_WHITESPACE"," ",101],["T_CONSTANT_ENCAPSED_STRING","'_handleMailErrors'",101],")",")",";",["T_WHITESPACE","\n            ",101],["T_VARIABLE","$result",102],["T_WHITESPACE"," ",102],"=",["T_WHITESPACE"," ",102],["T_STRING","mail",102],"(",["T_WHITESPACE","\n                ",102],["T_VARIABLE","$this",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","recipients",103],",",["T_WHITESPACE","\n                ",103],["T_VARIABLE","$this",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","_mail",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","getSubject",104],"(",")",",",["T_WHITESPACE","\n                ",104],["T_VARIABLE","$this",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","body",105],",",["T_WHITESPACE","\n                ",105],["T_VARIABLE","$this",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","header",106],")",";",["T_WHITESPACE","\n            ",106],["T_STRING","restore_error_handler",107],"(",")",";",["T_WHITESPACE","\n        ",107],"}",["T_WHITESPACE"," ",108],["T_ELSE","else",108],["T_WHITESPACE"," ",108],"{",["T_WHITESPACE","\n            ",108],["T_IF","if",109],"(","!",["T_STRING","is_string",109],"(",["T_VARIABLE","$this",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","parameters",109],")",")",["T_WHITESPACE"," ",109],"{",["T_WHITESPACE","\n                ",109],["T_DOC_COMMENT","\/**\n                 * @see Zend_Mail_Transport_Exception\n                 *\n                 * Exception is thrown here because\n                 * $parameters is a public property\n                 *\/",110],["T_WHITESPACE","\n                ",115],["T_COMMENT","#require_once 'Zend\/Mail\/Transport\/Exception.php';\n",116],["T_WHITESPACE","                ",117],["T_THROW","throw",117],["T_WHITESPACE"," ",117],["T_NEW","new",117],["T_WHITESPACE"," ",117],["T_STRING","Zend_Mail_Transport_Exception",117],"(",["T_WHITESPACE","\n                    ",117],["T_CONSTANT_ENCAPSED_STRING","'Parameters were set but are not a string'",118],["T_WHITESPACE","\n                ",118],")",";",["T_WHITESPACE","\n            ",119],"}",["T_WHITESPACE","\n\n            ",120],["T_STRING","set_error_handler",122],"(",["T_ARRAY","array",122],"(",["T_VARIABLE","$this",122],",",["T_WHITESPACE"," ",122],["T_CONSTANT_ENCAPSED_STRING","'_handleMailErrors'",122],")",")",";",["T_WHITESPACE","\n            ",122],["T_VARIABLE","$result",123],["T_WHITESPACE"," ",123],"=",["T_WHITESPACE"," ",123],["T_STRING","mail",123],"(",["T_WHITESPACE","\n                ",123],["T_VARIABLE","$this",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","recipients",124],",",["T_WHITESPACE","\n                ",124],["T_VARIABLE","$this",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","_mail",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","getSubject",125],"(",")",",",["T_WHITESPACE","\n                ",125],["T_VARIABLE","$this",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","body",126],",",["T_WHITESPACE","\n                ",126],["T_VARIABLE","$this",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","header",127],",",["T_WHITESPACE","\n                ",127],["T_VARIABLE","$this",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","parameters",128],")",";",["T_WHITESPACE","\n            ",128],["T_STRING","restore_error_handler",129],"(",")",";",["T_WHITESPACE","\n        ",129],"}",["T_WHITESPACE","\n\n        ",130],["T_IF","if",132],["T_WHITESPACE"," ",132],"(",["T_VARIABLE","$this",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","_errstr",132],["T_WHITESPACE"," ",132],["T_IS_NOT_IDENTICAL","!==",132],["T_WHITESPACE"," ",132],["T_STRING","null",132],["T_WHITESPACE"," ",132],["T_BOOLEAN_OR","||",132],["T_WHITESPACE"," ",132],"!",["T_VARIABLE","$result",132],")",["T_WHITESPACE"," ",132],"{",["T_WHITESPACE","\n            ",132],["T_DOC_COMMENT","\/**\n             * @see Zend_Mail_Transport_Exception\n             *\/",133],["T_WHITESPACE","\n            ",135],["T_COMMENT","#require_once 'Zend\/Mail\/Transport\/Exception.php';\n",136],["T_WHITESPACE","            ",137],["T_THROW","throw",137],["T_WHITESPACE"," ",137],["T_NEW","new",137],["T_WHITESPACE"," ",137],["T_STRING","Zend_Mail_Transport_Exception",137],"(",["T_CONSTANT_ENCAPSED_STRING","'Unable to send mail. '",137],["T_WHITESPACE"," ",137],".",["T_WHITESPACE"," ",137],["T_VARIABLE","$this",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","_errstr",137],")",";",["T_WHITESPACE","\n        ",137],"}",["T_WHITESPACE","\n    ",138],"}",["T_WHITESPACE","\n\n\n    ",139],["T_DOC_COMMENT","\/**\n     * Format and fix headers\n     *\n     * mail() uses its $to and $subject arguments to set the To: and Subject:\n     * headers, respectively. This method strips those out as a sanity check to\n     * prevent duplicate header entries.\n     *\n     * @access  protected\n     * @param   array $headers\n     * @return  void\n     * @throws  Zend_Mail_Transport_Exception\n     *\/",142],["T_WHITESPACE","\n    ",153],["T_PROTECTED","protected",154],["T_WHITESPACE"," ",154],["T_FUNCTION","function",154],["T_WHITESPACE"," ",154],["T_STRING","_prepareHeaders",154],"(",["T_VARIABLE","$headers",154],")",["T_WHITESPACE","\n    ",154],"{",["T_WHITESPACE","\n        ",155],["T_IF","if",156],["T_WHITESPACE"," ",156],"(","!",["T_VARIABLE","$this",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","_mail",156],")",["T_WHITESPACE"," ",156],"{",["T_WHITESPACE","\n            ",156],["T_DOC_COMMENT","\/**\n             * @see Zend_Mail_Transport_Exception\n             *\/",157],["T_WHITESPACE","\n            ",159],["T_COMMENT","#require_once 'Zend\/Mail\/Transport\/Exception.php';\n",160],["T_WHITESPACE","            ",161],["T_THROW","throw",161],["T_WHITESPACE"," ",161],["T_NEW","new",161],["T_WHITESPACE"," ",161],["T_STRING","Zend_Mail_Transport_Exception",161],"(",["T_CONSTANT_ENCAPSED_STRING","'_prepareHeaders requires a registered Zend_Mail object'",161],")",";",["T_WHITESPACE","\n        ",161],"}",["T_WHITESPACE","\n\n        ",162],["T_COMMENT","\/\/ mail() uses its $to parameter to set the To: header, and the $subject\n",164],["T_WHITESPACE","        ",165],["T_COMMENT","\/\/ parameter to set the Subject: header. We need to strip them out.\n",165],["T_WHITESPACE","        ",166],["T_IF","if",166],["T_WHITESPACE"," ",166],"(",["T_LNUMBER","0",166],["T_WHITESPACE"," ",166],["T_IS_IDENTICAL","===",166],["T_WHITESPACE"," ",166],["T_STRING","strpos",166],"(",["T_STRING","PHP_OS",166],",",["T_WHITESPACE"," ",166],["T_CONSTANT_ENCAPSED_STRING","'WIN'",166],")",")",["T_WHITESPACE"," ",166],"{",["T_WHITESPACE","\n            ",166],["T_COMMENT","\/\/ If the current recipients list is empty, throw an error\n",167],["T_WHITESPACE","            ",168],["T_IF","if",168],["T_WHITESPACE"," ",168],"(",["T_EMPTY","empty",168],"(",["T_VARIABLE","$this",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","recipients",168],")",")",["T_WHITESPACE"," ",168],"{",["T_WHITESPACE","\n                ",168],["T_DOC_COMMENT","\/**\n                 * @see Zend_Mail_Transport_Exception\n                 *\/",169],["T_WHITESPACE","\n                ",171],["T_COMMENT","#require_once 'Zend\/Mail\/Transport\/Exception.php';\n",172],["T_WHITESPACE","                ",173],["T_THROW","throw",173],["T_WHITESPACE"," ",173],["T_NEW","new",173],["T_WHITESPACE"," ",173],["T_STRING","Zend_Mail_Transport_Exception",173],"(",["T_CONSTANT_ENCAPSED_STRING","'Missing To addresses'",173],")",";",["T_WHITESPACE","\n            ",173],"}",["T_WHITESPACE","\n        ",174],"}",["T_WHITESPACE"," ",175],["T_ELSE","else",175],["T_WHITESPACE"," ",175],"{",["T_WHITESPACE","\n            ",175],["T_COMMENT","\/\/ All others, simply grab the recipients and unset the To: header\n",176],["T_WHITESPACE","            ",177],["T_IF","if",177],["T_WHITESPACE"," ",177],"(","!",["T_ISSET","isset",177],"(",["T_VARIABLE","$headers",177],"[",["T_CONSTANT_ENCAPSED_STRING","'To'",177],"]",")",")",["T_WHITESPACE"," ",177],"{",["T_WHITESPACE","\n                ",177],["T_DOC_COMMENT","\/**\n                 * @see Zend_Mail_Transport_Exception\n                 *\/",178],["T_WHITESPACE","\n                ",180],["T_COMMENT","#require_once 'Zend\/Mail\/Transport\/Exception.php';\n",181],["T_WHITESPACE","                ",182],["T_THROW","throw",182],["T_WHITESPACE"," ",182],["T_NEW","new",182],["T_WHITESPACE"," ",182],["T_STRING","Zend_Mail_Transport_Exception",182],"(",["T_CONSTANT_ENCAPSED_STRING","'Missing To header'",182],")",";",["T_WHITESPACE","\n            ",182],"}",["T_WHITESPACE","\n\n            ",183],["T_UNSET","unset",185],"(",["T_VARIABLE","$headers",185],"[",["T_CONSTANT_ENCAPSED_STRING","'To'",185],"]","[",["T_CONSTANT_ENCAPSED_STRING","'append'",185],"]",")",";",["T_WHITESPACE","\n            ",185],["T_VARIABLE","$this",186],["T_OBJECT_OPERATOR","->",186],["T_STRING","recipients",186],["T_WHITESPACE"," ",186],"=",["T_WHITESPACE"," ",186],["T_STRING","implode",186],"(",["T_CONSTANT_ENCAPSED_STRING","','",186],",",["T_WHITESPACE"," ",186],["T_VARIABLE","$headers",186],"[",["T_CONSTANT_ENCAPSED_STRING","'To'",186],"]",")",";",["T_WHITESPACE","\n        ",186],"}",["T_WHITESPACE","\n\n        ",187],["T_COMMENT","\/\/ Remove recipient header\n",189],["T_WHITESPACE","        ",190],["T_UNSET","unset",190],"(",["T_VARIABLE","$headers",190],"[",["T_CONSTANT_ENCAPSED_STRING","'To'",190],"]",")",";",["T_WHITESPACE","\n\n        ",190],["T_COMMENT","\/\/ Remove subject header, if present\n",192],["T_WHITESPACE","        ",193],["T_IF","if",193],["T_WHITESPACE"," ",193],"(",["T_ISSET","isset",193],"(",["T_VARIABLE","$headers",193],"[",["T_CONSTANT_ENCAPSED_STRING","'Subject'",193],"]",")",")",["T_WHITESPACE"," ",193],"{",["T_WHITESPACE","\n            ",193],["T_UNSET","unset",194],"(",["T_VARIABLE","$headers",194],"[",["T_CONSTANT_ENCAPSED_STRING","'Subject'",194],"]",")",";",["T_WHITESPACE","\n        ",194],"}",["T_WHITESPACE","\n\n        ",195],["T_COMMENT","\/\/ Prepare headers\n",197],["T_WHITESPACE","        ",198],["T_STRING","parent",198],["T_DOUBLE_COLON","::",198],["T_STRING","_prepareHeaders",198],"(",["T_VARIABLE","$headers",198],")",";",["T_WHITESPACE","\n\n        ",198],["T_COMMENT","\/\/ Fix issue with empty blank line ontop when using Sendmail Trnasport\n",200],["T_WHITESPACE","        ",201],["T_VARIABLE","$this",201],["T_OBJECT_OPERATOR","->",201],["T_STRING","header",201],["T_WHITESPACE"," ",201],"=",["T_WHITESPACE"," ",201],["T_STRING","rtrim",201],"(",["T_VARIABLE","$this",201],["T_OBJECT_OPERATOR","->",201],["T_STRING","header",201],")",";",["T_WHITESPACE","\n    ",201],"}",["T_WHITESPACE","\n\n    ",202],["T_DOC_COMMENT","\/**\n     * Temporary error handler for PHP native mail().\n     *\n     * @param int    $errno\n     * @param string $errstr\n     * @param string $errfile\n     * @param string $errline\n     * @param array  $errcontext\n     * @return true\n     *\/",204],["T_WHITESPACE","\n    ",213],["T_PUBLIC","public",214],["T_WHITESPACE"," ",214],["T_FUNCTION","function",214],["T_WHITESPACE"," ",214],["T_STRING","_handleMailErrors",214],"(",["T_VARIABLE","$errno",214],",",["T_WHITESPACE"," ",214],["T_VARIABLE","$errstr",214],",",["T_WHITESPACE"," ",214],["T_VARIABLE","$errfile",214],["T_WHITESPACE"," ",214],"=",["T_WHITESPACE"," ",214],["T_STRING","null",214],",",["T_WHITESPACE"," ",214],["T_VARIABLE","$errline",214],["T_WHITESPACE"," ",214],"=",["T_WHITESPACE"," ",214],["T_STRING","null",214],",",["T_WHITESPACE"," ",214],["T_ARRAY","array",214],["T_WHITESPACE"," ",214],["T_VARIABLE","$errcontext",214],["T_WHITESPACE"," ",214],"=",["T_WHITESPACE"," ",214],["T_STRING","null",214],")",["T_WHITESPACE","\n    ",214],"{",["T_WHITESPACE","\n        ",215],["T_VARIABLE","$this",216],["T_OBJECT_OPERATOR","->",216],["T_STRING","_errstr",216],["T_WHITESPACE"," ",216],"=",["T_WHITESPACE"," ",216],["T_VARIABLE","$errstr",216],";",["T_WHITESPACE","\n        ",216],["T_RETURN","return",217],["T_WHITESPACE"," ",217],["T_STRING","true",217],";",["T_WHITESPACE","\n    ",217],"}",["T_WHITESPACE","\n\n",218],"}",["T_WHITESPACE","\n",220]]