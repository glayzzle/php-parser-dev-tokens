[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Zend Framework\n *\n * LICENSE\n *\n * This source file is subject to the new BSD license that is bundled\n * with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/framework.zend.com\/license\/new-bsd\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@zend.com so we can send you a copy immediately.\n *\n * @category   Zend\n * @package    Zend_Mail\n * @subpackage Storage\n * @copyright  Copyright (c) 2005-2015 Zend Technologies USA Inc. (http:\/\/www.zend.com)\n * @license    http:\/\/framework.zend.com\/license\/new-bsd     New BSD License\n * @version    $Id$\n *\/",2],["T_WHITESPACE","\n\n\n",21],["T_DOC_COMMENT","\/**\n * @see Zend_Mail_Storage_Abstract\n *\/",24],["T_WHITESPACE","\n",26],["T_COMMENT","#require_once 'Zend\/Mail\/Storage\/Abstract.php';\n",27],["T_WHITESPACE","\n",28],["T_DOC_COMMENT","\/**\n * @see Zend_Mail_Message_File\n *\/",29],["T_WHITESPACE","\n",31],["T_COMMENT","#require_once 'Zend\/Mail\/Message\/File.php';\n",32],["T_WHITESPACE","\n",33],["T_DOC_COMMENT","\/**\n * @see Zend_Mail_Storage\n *\/",34],["T_WHITESPACE","\n",36],["T_COMMENT","#require_once 'Zend\/Mail\/Storage.php';\n",37],["T_WHITESPACE","\n\n",38],["T_DOC_COMMENT","\/**\n * @category   Zend\n * @package    Zend_Mail\n * @subpackage Storage\n * @copyright  Copyright (c) 2005-2015 Zend Technologies USA Inc. (http:\/\/www.zend.com)\n * @license    http:\/\/framework.zend.com\/license\/new-bsd     New BSD License\n *\/",40],["T_WHITESPACE","\n",46],["T_CLASS","class",47],["T_WHITESPACE"," ",47],["T_STRING","Zend_Mail_Storage_Maildir",47],["T_WHITESPACE"," ",47],["T_EXTENDS","extends",47],["T_WHITESPACE"," ",47],["T_STRING","Zend_Mail_Storage_Abstract",47],["T_WHITESPACE","\n",47],"{",["T_WHITESPACE","\n    ",48],["T_DOC_COMMENT","\/**\n     * used message class, change it in an extened class to extend the returned message class\n     * @var string\n     *\/",49],["T_WHITESPACE","\n    ",52],["T_PROTECTED","protected",53],["T_WHITESPACE"," ",53],["T_VARIABLE","$_messageClass",53],["T_WHITESPACE"," ",53],"=",["T_WHITESPACE"," ",53],["T_CONSTANT_ENCAPSED_STRING","'Zend_Mail_Message_File'",53],";",["T_WHITESPACE","\n\n    ",53],["T_DOC_COMMENT","\/**\n     * data of found message files in maildir dir\n     * @var array\n     *\/",55],["T_WHITESPACE","\n    ",58],["T_PROTECTED","protected",59],["T_WHITESPACE"," ",59],["T_VARIABLE","$_files",59],["T_WHITESPACE"," ",59],"=",["T_WHITESPACE"," ",59],["T_ARRAY","array",59],"(",")",";",["T_WHITESPACE","\n\n    ",59],["T_DOC_COMMENT","\/**\n     * known flag chars in filenames\n     *\n     * This list has to be in alphabetical order for setFlags()\n     *\n     * @var array\n     *\/",61],["T_WHITESPACE","\n    ",67],["T_PROTECTED","protected",68],["T_WHITESPACE"," ",68],["T_STATIC","static",68],["T_WHITESPACE"," ",68],["T_VARIABLE","$_knownFlags",68],["T_WHITESPACE"," ",68],"=",["T_WHITESPACE"," ",68],["T_ARRAY","array",68],"(",["T_CONSTANT_ENCAPSED_STRING","'D'",68],["T_WHITESPACE"," ",68],["T_DOUBLE_ARROW","=>",68],["T_WHITESPACE"," ",68],["T_STRING","Zend_Mail_Storage",68],["T_DOUBLE_COLON","::",68],["T_STRING","FLAG_DRAFT",68],",",["T_WHITESPACE","\n                                          ",68],["T_CONSTANT_ENCAPSED_STRING","'F'",69],["T_WHITESPACE"," ",69],["T_DOUBLE_ARROW","=>",69],["T_WHITESPACE"," ",69],["T_STRING","Zend_Mail_Storage",69],["T_DOUBLE_COLON","::",69],["T_STRING","FLAG_FLAGGED",69],",",["T_WHITESPACE","\n                                          ",69],["T_CONSTANT_ENCAPSED_STRING","'P'",70],["T_WHITESPACE"," ",70],["T_DOUBLE_ARROW","=>",70],["T_WHITESPACE"," ",70],["T_STRING","Zend_Mail_Storage",70],["T_DOUBLE_COLON","::",70],["T_STRING","FLAG_PASSED",70],",",["T_WHITESPACE","\n                                          ",70],["T_CONSTANT_ENCAPSED_STRING","'R'",71],["T_WHITESPACE"," ",71],["T_DOUBLE_ARROW","=>",71],["T_WHITESPACE"," ",71],["T_STRING","Zend_Mail_Storage",71],["T_DOUBLE_COLON","::",71],["T_STRING","FLAG_ANSWERED",71],",",["T_WHITESPACE","\n                                          ",71],["T_CONSTANT_ENCAPSED_STRING","'S'",72],["T_WHITESPACE"," ",72],["T_DOUBLE_ARROW","=>",72],["T_WHITESPACE"," ",72],["T_STRING","Zend_Mail_Storage",72],["T_DOUBLE_COLON","::",72],["T_STRING","FLAG_SEEN",72],",",["T_WHITESPACE","\n                                          ",72],["T_CONSTANT_ENCAPSED_STRING","'T'",73],["T_WHITESPACE"," ",73],["T_DOUBLE_ARROW","=>",73],["T_WHITESPACE"," ",73],["T_STRING","Zend_Mail_Storage",73],["T_DOUBLE_COLON","::",73],["T_STRING","FLAG_DELETED",73],")",";",["T_WHITESPACE","\n\n    ",73],["T_COMMENT","\/\/ TODO: getFlags($id) for fast access if headers are not needed (i.e. just setting flags)?\n",75],["T_WHITESPACE","\n    ",76],["T_DOC_COMMENT","\/**\n     * Count messages all messages in current box\n     *\n     * @return int number of messages\n     * @throws Zend_Mail_Storage_Exception\n     *\/",77],["T_WHITESPACE","\n    ",82],["T_PUBLIC","public",83],["T_WHITESPACE"," ",83],["T_FUNCTION","function",83],["T_WHITESPACE"," ",83],["T_STRING","countMessages",83],"(",["T_VARIABLE","$flags",83],["T_WHITESPACE"," ",83],"=",["T_WHITESPACE"," ",83],["T_STRING","null",83],")",["T_WHITESPACE","\n    ",83],"{",["T_WHITESPACE","\n        ",84],["T_IF","if",85],["T_WHITESPACE"," ",85],"(",["T_VARIABLE","$flags",85],["T_WHITESPACE"," ",85],["T_IS_IDENTICAL","===",85],["T_WHITESPACE"," ",85],["T_STRING","null",85],")",["T_WHITESPACE"," ",85],"{",["T_WHITESPACE","\n            ",85],["T_RETURN","return",86],["T_WHITESPACE"," ",86],["T_STRING","count",86],"(",["T_VARIABLE","$this",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","_files",86],")",";",["T_WHITESPACE","\n        ",86],"}",["T_WHITESPACE","\n\n        ",87],["T_VARIABLE","$count",89],["T_WHITESPACE"," ",89],"=",["T_WHITESPACE"," ",89],["T_LNUMBER","0",89],";",["T_WHITESPACE","\n        ",89],["T_IF","if",90],["T_WHITESPACE"," ",90],"(","!",["T_STRING","is_array",90],"(",["T_VARIABLE","$flags",90],")",")",["T_WHITESPACE"," ",90],"{",["T_WHITESPACE","\n            ",90],["T_FOREACH","foreach",91],["T_WHITESPACE"," ",91],"(",["T_VARIABLE","$this",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","_files",91],["T_WHITESPACE"," ",91],["T_AS","as",91],["T_WHITESPACE"," ",91],["T_VARIABLE","$file",91],")",["T_WHITESPACE"," ",91],"{",["T_WHITESPACE","\n                ",91],["T_IF","if",92],["T_WHITESPACE"," ",92],"(",["T_ISSET","isset",92],"(",["T_VARIABLE","$file",92],"[",["T_CONSTANT_ENCAPSED_STRING","'flaglookup'",92],"]","[",["T_VARIABLE","$flags",92],"]",")",")",["T_WHITESPACE"," ",92],"{",["T_WHITESPACE","\n                    ",92],["T_INC","++",93],["T_VARIABLE","$count",93],";",["T_WHITESPACE","\n                ",93],"}",["T_WHITESPACE","\n            ",94],"}",["T_WHITESPACE","\n            ",95],["T_RETURN","return",96],["T_WHITESPACE"," ",96],["T_VARIABLE","$count",96],";",["T_WHITESPACE","\n        ",96],"}",["T_WHITESPACE","\n\n        ",97],["T_VARIABLE","$flags",99],["T_WHITESPACE"," ",99],"=",["T_WHITESPACE"," ",99],["T_STRING","array_flip",99],"(",["T_VARIABLE","$flags",99],")",";",["T_WHITESPACE","\n           ",99],["T_FOREACH","foreach",100],["T_WHITESPACE"," ",100],"(",["T_VARIABLE","$this",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","_files",100],["T_WHITESPACE"," ",100],["T_AS","as",100],["T_WHITESPACE"," ",100],["T_VARIABLE","$file",100],")",["T_WHITESPACE"," ",100],"{",["T_WHITESPACE","\n               ",100],["T_FOREACH","foreach",101],["T_WHITESPACE"," ",101],"(",["T_VARIABLE","$flags",101],["T_WHITESPACE"," ",101],["T_AS","as",101],["T_WHITESPACE"," ",101],["T_VARIABLE","$flag",101],["T_WHITESPACE"," ",101],["T_DOUBLE_ARROW","=>",101],["T_WHITESPACE"," ",101],["T_VARIABLE","$v",101],")",["T_WHITESPACE"," ",101],"{",["T_WHITESPACE","\n                   ",101],["T_IF","if",102],["T_WHITESPACE"," ",102],"(","!",["T_ISSET","isset",102],"(",["T_VARIABLE","$file",102],"[",["T_CONSTANT_ENCAPSED_STRING","'flaglookup'",102],"]","[",["T_VARIABLE","$flag",102],"]",")",")",["T_WHITESPACE"," ",102],"{",["T_WHITESPACE","\n                       ",102],["T_CONTINUE","continue",103],["T_WHITESPACE"," ",103],["T_LNUMBER","2",103],";",["T_WHITESPACE","\n                   ",103],"}",["T_WHITESPACE","\n               ",104],"}",["T_WHITESPACE","\n               ",105],["T_INC","++",106],["T_VARIABLE","$count",106],";",["T_WHITESPACE","\n           ",106],"}",["T_WHITESPACE","\n           ",107],["T_RETURN","return",108],["T_WHITESPACE"," ",108],["T_VARIABLE","$count",108],";",["T_WHITESPACE","\n    ",108],"}",["T_WHITESPACE","\n\n    ",109],["T_DOC_COMMENT","\/**\n     * Get one or all fields from file structure. Also checks if message is valid\n     *\n     * @param  int         $id    message number\n     * @param  string|null $field wanted field\n     * @return string|array wanted field or all fields as array\n     * @throws Zend_Mail_Storage_Exception\n     *\/",111],["T_WHITESPACE","\n    ",118],["T_PROTECTED","protected",119],["T_WHITESPACE"," ",119],["T_FUNCTION","function",119],["T_WHITESPACE"," ",119],["T_STRING","_getFileData",119],"(",["T_VARIABLE","$id",119],",",["T_WHITESPACE"," ",119],["T_VARIABLE","$field",119],["T_WHITESPACE"," ",119],"=",["T_WHITESPACE"," ",119],["T_STRING","null",119],")",["T_WHITESPACE","\n    ",119],"{",["T_WHITESPACE","\n        ",120],["T_IF","if",121],["T_WHITESPACE"," ",121],"(","!",["T_ISSET","isset",121],"(",["T_VARIABLE","$this",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","_files",121],"[",["T_VARIABLE","$id",121],["T_WHITESPACE"," ",121],"-",["T_WHITESPACE"," ",121],["T_LNUMBER","1",121],"]",")",")",["T_WHITESPACE"," ",121],"{",["T_WHITESPACE","\n            ",121],["T_DOC_COMMENT","\/**\n             * @see Zend_Mail_Storage_Exception\n             *\/",122],["T_WHITESPACE","\n            ",124],["T_COMMENT","#require_once 'Zend\/Mail\/Storage\/Exception.php';\n",125],["T_WHITESPACE","            ",126],["T_THROW","throw",126],["T_WHITESPACE"," ",126],["T_NEW","new",126],["T_WHITESPACE"," ",126],["T_STRING","Zend_Mail_Storage_Exception",126],"(",["T_CONSTANT_ENCAPSED_STRING","'id does not exist'",126],")",";",["T_WHITESPACE","\n        ",126],"}",["T_WHITESPACE","\n\n        ",127],["T_IF","if",129],["T_WHITESPACE"," ",129],"(","!",["T_VARIABLE","$field",129],")",["T_WHITESPACE"," ",129],"{",["T_WHITESPACE","\n            ",129],["T_RETURN","return",130],["T_WHITESPACE"," ",130],["T_VARIABLE","$this",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","_files",130],"[",["T_VARIABLE","$id",130],["T_WHITESPACE"," ",130],"-",["T_WHITESPACE"," ",130],["T_LNUMBER","1",130],"]",";",["T_WHITESPACE","\n        ",130],"}",["T_WHITESPACE","\n\n        ",131],["T_IF","if",133],["T_WHITESPACE"," ",133],"(","!",["T_ISSET","isset",133],"(",["T_VARIABLE","$this",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","_files",133],"[",["T_VARIABLE","$id",133],["T_WHITESPACE"," ",133],"-",["T_WHITESPACE"," ",133],["T_LNUMBER","1",133],"]","[",["T_VARIABLE","$field",133],"]",")",")",["T_WHITESPACE"," ",133],"{",["T_WHITESPACE","\n            ",133],["T_DOC_COMMENT","\/**\n             * @see Zend_Mail_Storage_Exception\n             *\/",134],["T_WHITESPACE","\n            ",136],["T_COMMENT","#require_once 'Zend\/Mail\/Storage\/Exception.php';\n",137],["T_WHITESPACE","            ",138],["T_THROW","throw",138],["T_WHITESPACE"," ",138],["T_NEW","new",138],["T_WHITESPACE"," ",138],["T_STRING","Zend_Mail_Storage_Exception",138],"(",["T_CONSTANT_ENCAPSED_STRING","'field does not exist'",138],")",";",["T_WHITESPACE","\n        ",138],"}",["T_WHITESPACE","\n\n        ",139],["T_RETURN","return",141],["T_WHITESPACE"," ",141],["T_VARIABLE","$this",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","_files",141],"[",["T_VARIABLE","$id",141],["T_WHITESPACE"," ",141],"-",["T_WHITESPACE"," ",141],["T_LNUMBER","1",141],"]","[",["T_VARIABLE","$field",141],"]",";",["T_WHITESPACE","\n    ",141],"}",["T_WHITESPACE","\n\n    ",142],["T_DOC_COMMENT","\/**\n     * Get a list of messages with number and size\n     *\n     * @param  int|null $id number of message or null for all messages\n     * @return int|array size of given message of list with all messages as array(num => size)\n     * @throws Zend_Mail_Storage_Exception\n     *\/",144],["T_WHITESPACE","\n    ",150],["T_PUBLIC","public",151],["T_WHITESPACE"," ",151],["T_FUNCTION","function",151],["T_WHITESPACE"," ",151],["T_STRING","getSize",151],"(",["T_VARIABLE","$id",151],["T_WHITESPACE"," ",151],"=",["T_WHITESPACE"," ",151],["T_STRING","null",151],")",["T_WHITESPACE","\n    ",151],"{",["T_WHITESPACE","\n        ",152],["T_IF","if",153],["T_WHITESPACE"," ",153],"(",["T_VARIABLE","$id",153],["T_WHITESPACE"," ",153],["T_IS_NOT_IDENTICAL","!==",153],["T_WHITESPACE"," ",153],["T_STRING","null",153],")",["T_WHITESPACE"," ",153],"{",["T_WHITESPACE","\n            ",153],["T_VARIABLE","$filedata",154],["T_WHITESPACE"," ",154],"=",["T_WHITESPACE"," ",154],["T_VARIABLE","$this",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","_getFileData",154],"(",["T_VARIABLE","$id",154],")",";",["T_WHITESPACE","\n            ",154],["T_RETURN","return",155],["T_WHITESPACE"," ",155],["T_ISSET","isset",155],"(",["T_VARIABLE","$filedata",155],"[",["T_CONSTANT_ENCAPSED_STRING","'size'",155],"]",")",["T_WHITESPACE"," ",155],"?",["T_WHITESPACE"," ",155],["T_VARIABLE","$filedata",155],"[",["T_CONSTANT_ENCAPSED_STRING","'size'",155],"]",["T_WHITESPACE"," ",155],":",["T_WHITESPACE"," ",155],["T_STRING","filesize",155],"(",["T_VARIABLE","$filedata",155],"[",["T_CONSTANT_ENCAPSED_STRING","'filename'",155],"]",")",";",["T_WHITESPACE","\n        ",155],"}",["T_WHITESPACE","\n\n        ",156],["T_VARIABLE","$result",158],["T_WHITESPACE"," ",158],"=",["T_WHITESPACE"," ",158],["T_ARRAY","array",158],"(",")",";",["T_WHITESPACE","\n        ",158],["T_FOREACH","foreach",159],["T_WHITESPACE"," ",159],"(",["T_VARIABLE","$this",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","_files",159],["T_WHITESPACE"," ",159],["T_AS","as",159],["T_WHITESPACE"," ",159],["T_VARIABLE","$num",159],["T_WHITESPACE"," ",159],["T_DOUBLE_ARROW","=>",159],["T_WHITESPACE"," ",159],["T_VARIABLE","$data",159],")",["T_WHITESPACE"," ",159],"{",["T_WHITESPACE","\n            ",159],["T_VARIABLE","$result",160],"[",["T_VARIABLE","$num",160],["T_WHITESPACE"," ",160],"+",["T_WHITESPACE"," ",160],["T_LNUMBER","1",160],"]",["T_WHITESPACE"," ",160],"=",["T_WHITESPACE"," ",160],["T_ISSET","isset",160],"(",["T_VARIABLE","$data",160],"[",["T_CONSTANT_ENCAPSED_STRING","'size'",160],"]",")",["T_WHITESPACE"," ",160],"?",["T_WHITESPACE"," ",160],["T_VARIABLE","$data",160],"[",["T_CONSTANT_ENCAPSED_STRING","'size'",160],"]",["T_WHITESPACE"," ",160],":",["T_WHITESPACE"," ",160],["T_STRING","filesize",160],"(",["T_VARIABLE","$data",160],"[",["T_CONSTANT_ENCAPSED_STRING","'filename'",160],"]",")",";",["T_WHITESPACE","\n        ",160],"}",["T_WHITESPACE","\n\n        ",161],["T_RETURN","return",163],["T_WHITESPACE"," ",163],["T_VARIABLE","$result",163],";",["T_WHITESPACE","\n    ",163],"}",["T_WHITESPACE","\n\n\n\n    ",164],["T_DOC_COMMENT","\/**\n     * Fetch a message\n     *\n     * @param  int $id number of message\n     * @return Zend_Mail_Message_File\n     * @throws Zend_Mail_Storage_Exception\n     *\/",168],["T_WHITESPACE","\n    ",174],["T_PUBLIC","public",175],["T_WHITESPACE"," ",175],["T_FUNCTION","function",175],["T_WHITESPACE"," ",175],["T_STRING","getMessage",175],"(",["T_VARIABLE","$id",175],")",["T_WHITESPACE","\n    ",175],"{",["T_WHITESPACE","\n        ",176],["T_COMMENT","\/\/ TODO that's ugly, would be better to let the message class decide\n",177],["T_WHITESPACE","        ",178],["T_IF","if",178],["T_WHITESPACE"," ",178],"(",["T_STRING","strtolower",178],"(",["T_VARIABLE","$this",178],["T_OBJECT_OPERATOR","->",178],["T_STRING","_messageClass",178],")",["T_WHITESPACE"," ",178],["T_IS_EQUAL","==",178],["T_WHITESPACE"," ",178],["T_CONSTANT_ENCAPSED_STRING","'zend_mail_message_file'",178],["T_WHITESPACE"," ",178],["T_BOOLEAN_OR","||",178],["T_WHITESPACE"," ",178],["T_STRING","is_subclass_of",178],"(",["T_VARIABLE","$this",178],["T_OBJECT_OPERATOR","->",178],["T_STRING","_messageClass",178],",",["T_WHITESPACE"," ",178],["T_CONSTANT_ENCAPSED_STRING","'zend_mail_message_file'",178],")",")",["T_WHITESPACE"," ",178],"{",["T_WHITESPACE","\n            ",178],["T_RETURN","return",179],["T_WHITESPACE"," ",179],["T_NEW","new",179],["T_WHITESPACE"," ",179],["T_VARIABLE","$this",179],["T_OBJECT_OPERATOR","->",179],["T_STRING","_messageClass",179],"(",["T_ARRAY","array",179],"(",["T_CONSTANT_ENCAPSED_STRING","'file'",179],["T_WHITESPACE","  ",179],["T_DOUBLE_ARROW","=>",179],["T_WHITESPACE"," ",179],["T_VARIABLE","$this",179],["T_OBJECT_OPERATOR","->",179],["T_STRING","_getFileData",179],"(",["T_VARIABLE","$id",179],",",["T_WHITESPACE"," ",179],["T_CONSTANT_ENCAPSED_STRING","'filename'",179],")",",",["T_WHITESPACE","\n                                                  ",179],["T_CONSTANT_ENCAPSED_STRING","'flags'",180],["T_WHITESPACE"," ",180],["T_DOUBLE_ARROW","=>",180],["T_WHITESPACE"," ",180],["T_VARIABLE","$this",180],["T_OBJECT_OPERATOR","->",180],["T_STRING","_getFileData",180],"(",["T_VARIABLE","$id",180],",",["T_WHITESPACE"," ",180],["T_CONSTANT_ENCAPSED_STRING","'flags'",180],")",")",")",";",["T_WHITESPACE","\n        ",180],"}",["T_WHITESPACE","\n\n        ",181],["T_RETURN","return",183],["T_WHITESPACE"," ",183],["T_NEW","new",183],["T_WHITESPACE"," ",183],["T_VARIABLE","$this",183],["T_OBJECT_OPERATOR","->",183],["T_STRING","_messageClass",183],"(",["T_ARRAY","array",183],"(",["T_CONSTANT_ENCAPSED_STRING","'handler'",183],["T_WHITESPACE"," ",183],["T_DOUBLE_ARROW","=>",183],["T_WHITESPACE"," ",183],["T_VARIABLE","$this",183],",",["T_WHITESPACE"," ",183],["T_CONSTANT_ENCAPSED_STRING","'id'",183],["T_WHITESPACE"," ",183],["T_DOUBLE_ARROW","=>",183],["T_WHITESPACE"," ",183],["T_VARIABLE","$id",183],",",["T_WHITESPACE"," ",183],["T_CONSTANT_ENCAPSED_STRING","'headers'",183],["T_WHITESPACE"," ",183],["T_DOUBLE_ARROW","=>",183],["T_WHITESPACE"," ",183],["T_VARIABLE","$this",183],["T_OBJECT_OPERATOR","->",183],["T_STRING","getRawHeader",183],"(",["T_VARIABLE","$id",183],")",",",["T_WHITESPACE","\n                                              ",183],["T_CONSTANT_ENCAPSED_STRING","'flags'",184],["T_WHITESPACE","   ",184],["T_DOUBLE_ARROW","=>",184],["T_WHITESPACE"," ",184],["T_VARIABLE","$this",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","_getFileData",184],"(",["T_VARIABLE","$id",184],",",["T_WHITESPACE"," ",184],["T_CONSTANT_ENCAPSED_STRING","'flags'",184],")",")",")",";",["T_WHITESPACE","\n    ",184],"}",["T_WHITESPACE","\n\n    ",185],["T_COMMENT","\/*\n     * Get raw header of message or part\n     *\n     * @param  int               $id       number of message\n     * @param  null|array|string $part     path to part or null for messsage header\n     * @param  int               $topLines include this many lines with header (after an empty line)\n     * @return string raw header\n     * @throws Zend_Mail_Storage_Exception\n     *\/",187],["T_WHITESPACE","\n    ",195],["T_PUBLIC","public",196],["T_WHITESPACE"," ",196],["T_FUNCTION","function",196],["T_WHITESPACE"," ",196],["T_STRING","getRawHeader",196],"(",["T_VARIABLE","$id",196],",",["T_WHITESPACE"," ",196],["T_VARIABLE","$part",196],["T_WHITESPACE"," ",196],"=",["T_WHITESPACE"," ",196],["T_STRING","null",196],",",["T_WHITESPACE"," ",196],["T_VARIABLE","$topLines",196],["T_WHITESPACE"," ",196],"=",["T_WHITESPACE"," ",196],["T_LNUMBER","0",196],")",["T_WHITESPACE","\n    ",196],"{",["T_WHITESPACE","\n        ",197],["T_IF","if",198],["T_WHITESPACE"," ",198],"(",["T_VARIABLE","$part",198],["T_WHITESPACE"," ",198],["T_IS_NOT_IDENTICAL","!==",198],["T_WHITESPACE"," ",198],["T_STRING","null",198],")",["T_WHITESPACE"," ",198],"{",["T_WHITESPACE","\n            ",198],["T_COMMENT","\/\/ TODO: implement\n",199],["T_WHITESPACE","            ",200],["T_DOC_COMMENT","\/**\n             * @see Zend_Mail_Storage_Exception\n             *\/",200],["T_WHITESPACE","\n            ",202],["T_COMMENT","#require_once 'Zend\/Mail\/Storage\/Exception.php';\n",203],["T_WHITESPACE","            ",204],["T_THROW","throw",204],["T_WHITESPACE"," ",204],["T_NEW","new",204],["T_WHITESPACE"," ",204],["T_STRING","Zend_Mail_Storage_Exception",204],"(",["T_CONSTANT_ENCAPSED_STRING","'not implemented'",204],")",";",["T_WHITESPACE","\n        ",204],"}",["T_WHITESPACE","\n\n        ",205],["T_VARIABLE","$fh",207],["T_WHITESPACE"," ",207],"=",["T_WHITESPACE"," ",207],["T_STRING","fopen",207],"(",["T_VARIABLE","$this",207],["T_OBJECT_OPERATOR","->",207],["T_STRING","_getFileData",207],"(",["T_VARIABLE","$id",207],",",["T_WHITESPACE"," ",207],["T_CONSTANT_ENCAPSED_STRING","'filename'",207],")",",",["T_WHITESPACE"," ",207],["T_CONSTANT_ENCAPSED_STRING","'r'",207],")",";",["T_WHITESPACE","\n\n        ",207],["T_VARIABLE","$content",209],["T_WHITESPACE"," ",209],"=",["T_WHITESPACE"," ",209],["T_CONSTANT_ENCAPSED_STRING","''",209],";",["T_WHITESPACE","\n        ",209],["T_WHILE","while",210],["T_WHITESPACE"," ",210],"(","!",["T_STRING","feof",210],"(",["T_VARIABLE","$fh",210],")",")",["T_WHITESPACE"," ",210],"{",["T_WHITESPACE","\n            ",210],["T_VARIABLE","$line",211],["T_WHITESPACE"," ",211],"=",["T_WHITESPACE"," ",211],["T_STRING","fgets",211],"(",["T_VARIABLE","$fh",211],")",";",["T_WHITESPACE","\n            ",211],["T_IF","if",212],["T_WHITESPACE"," ",212],"(","!",["T_STRING","trim",212],"(",["T_VARIABLE","$line",212],")",")",["T_WHITESPACE"," ",212],"{",["T_WHITESPACE","\n                ",212],["T_BREAK","break",213],";",["T_WHITESPACE","\n            ",213],"}",["T_WHITESPACE","\n            ",214],["T_VARIABLE","$content",215],["T_WHITESPACE"," ",215],["T_CONCAT_EQUAL",".=",215],["T_WHITESPACE"," ",215],["T_VARIABLE","$line",215],";",["T_WHITESPACE","\n        ",215],"}",["T_WHITESPACE","\n\n        ",216],["T_STRING","fclose",218],"(",["T_VARIABLE","$fh",218],")",";",["T_WHITESPACE","\n        ",218],["T_RETURN","return",219],["T_WHITESPACE"," ",219],["T_VARIABLE","$content",219],";",["T_WHITESPACE","\n    ",219],"}",["T_WHITESPACE","\n\n    ",220],["T_COMMENT","\/*\n     * Get raw content of message or part\n     *\n     * @param  int               $id   number of message\n     * @param  null|array|string $part path to part or null for messsage content\n     * @return string raw content\n     * @throws Zend_Mail_Storage_Exception\n     *\/",222],["T_WHITESPACE","\n    ",229],["T_PUBLIC","public",230],["T_WHITESPACE"," ",230],["T_FUNCTION","function",230],["T_WHITESPACE"," ",230],["T_STRING","getRawContent",230],"(",["T_VARIABLE","$id",230],",",["T_WHITESPACE"," ",230],["T_VARIABLE","$part",230],["T_WHITESPACE"," ",230],"=",["T_WHITESPACE"," ",230],["T_STRING","null",230],")",["T_WHITESPACE","\n    ",230],"{",["T_WHITESPACE","\n        ",231],["T_IF","if",232],["T_WHITESPACE"," ",232],"(",["T_VARIABLE","$part",232],["T_WHITESPACE"," ",232],["T_IS_NOT_IDENTICAL","!==",232],["T_WHITESPACE"," ",232],["T_STRING","null",232],")",["T_WHITESPACE"," ",232],"{",["T_WHITESPACE","\n            ",232],["T_COMMENT","\/\/ TODO: implement\n",233],["T_WHITESPACE","            ",234],["T_DOC_COMMENT","\/**\n             * @see Zend_Mail_Storage_Exception\n             *\/",234],["T_WHITESPACE","\n            ",236],["T_COMMENT","#require_once 'Zend\/Mail\/Storage\/Exception.php';\n",237],["T_WHITESPACE","            ",238],["T_THROW","throw",238],["T_WHITESPACE"," ",238],["T_NEW","new",238],["T_WHITESPACE"," ",238],["T_STRING","Zend_Mail_Storage_Exception",238],"(",["T_CONSTANT_ENCAPSED_STRING","'not implemented'",238],")",";",["T_WHITESPACE","\n        ",238],"}",["T_WHITESPACE","\n\n        ",239],["T_VARIABLE","$fh",241],["T_WHITESPACE"," ",241],"=",["T_WHITESPACE"," ",241],["T_STRING","fopen",241],"(",["T_VARIABLE","$this",241],["T_OBJECT_OPERATOR","->",241],["T_STRING","_getFileData",241],"(",["T_VARIABLE","$id",241],",",["T_WHITESPACE"," ",241],["T_CONSTANT_ENCAPSED_STRING","'filename'",241],")",",",["T_WHITESPACE"," ",241],["T_CONSTANT_ENCAPSED_STRING","'r'",241],")",";",["T_WHITESPACE","\n\n        ",241],["T_WHILE","while",243],["T_WHITESPACE"," ",243],"(","!",["T_STRING","feof",243],"(",["T_VARIABLE","$fh",243],")",")",["T_WHITESPACE"," ",243],"{",["T_WHITESPACE","\n            ",243],["T_VARIABLE","$line",244],["T_WHITESPACE"," ",244],"=",["T_WHITESPACE"," ",244],["T_STRING","fgets",244],"(",["T_VARIABLE","$fh",244],")",";",["T_WHITESPACE","\n            ",244],["T_IF","if",245],["T_WHITESPACE"," ",245],"(","!",["T_STRING","trim",245],"(",["T_VARIABLE","$line",245],")",")",["T_WHITESPACE"," ",245],"{",["T_WHITESPACE","\n                ",245],["T_BREAK","break",246],";",["T_WHITESPACE","\n            ",246],"}",["T_WHITESPACE","\n        ",247],"}",["T_WHITESPACE","\n\n        ",248],["T_VARIABLE","$content",250],["T_WHITESPACE"," ",250],"=",["T_WHITESPACE"," ",250],["T_STRING","stream_get_contents",250],"(",["T_VARIABLE","$fh",250],")",";",["T_WHITESPACE","\n        ",250],["T_STRING","fclose",251],"(",["T_VARIABLE","$fh",251],")",";",["T_WHITESPACE","\n        ",251],["T_RETURN","return",252],["T_WHITESPACE"," ",252],["T_VARIABLE","$content",252],";",["T_WHITESPACE","\n    ",252],"}",["T_WHITESPACE","\n\n    ",253],["T_DOC_COMMENT","\/**\n     * Create instance with parameters\n     * Supported parameters are:\n     *   - dirname dirname of mbox file\n     *\n     * @param array $params mail reader specific parameters\n     * @throws Zend_Mail_Storage_Exception\n     *\/",255],["T_WHITESPACE","\n    ",262],["T_PUBLIC","public",263],["T_WHITESPACE"," ",263],["T_FUNCTION","function",263],["T_WHITESPACE"," ",263],["T_STRING","__construct",263],"(",["T_VARIABLE","$params",263],")",["T_WHITESPACE","\n    ",263],"{",["T_WHITESPACE","\n        ",264],["T_IF","if",265],["T_WHITESPACE"," ",265],"(",["T_STRING","is_array",265],"(",["T_VARIABLE","$params",265],")",")",["T_WHITESPACE"," ",265],"{",["T_WHITESPACE","\n            ",265],["T_VARIABLE","$params",266],["T_WHITESPACE"," ",266],"=",["T_WHITESPACE"," ",266],["T_OBJECT_CAST","(object)",266],["T_VARIABLE","$params",266],";",["T_WHITESPACE","\n        ",266],"}",["T_WHITESPACE","\n\n        ",267],["T_IF","if",269],["T_WHITESPACE"," ",269],"(","!",["T_ISSET","isset",269],"(",["T_VARIABLE","$params",269],["T_OBJECT_OPERATOR","->",269],["T_STRING","dirname",269],")",["T_WHITESPACE"," ",269],["T_BOOLEAN_OR","||",269],["T_WHITESPACE"," ",269],"!",["T_STRING","is_dir",269],"(",["T_VARIABLE","$params",269],["T_OBJECT_OPERATOR","->",269],["T_STRING","dirname",269],")",")",["T_WHITESPACE"," ",269],"{",["T_WHITESPACE","\n            ",269],["T_DOC_COMMENT","\/**\n             * @see Zend_Mail_Storage_Exception\n             *\/",270],["T_WHITESPACE","\n            ",272],["T_COMMENT","#require_once 'Zend\/Mail\/Storage\/Exception.php';\n",273],["T_WHITESPACE","            ",274],["T_THROW","throw",274],["T_WHITESPACE"," ",274],["T_NEW","new",274],["T_WHITESPACE"," ",274],["T_STRING","Zend_Mail_Storage_Exception",274],"(",["T_CONSTANT_ENCAPSED_STRING","'no valid dirname given in params'",274],")",";",["T_WHITESPACE","\n        ",274],"}",["T_WHITESPACE","\n\n        ",275],["T_IF","if",277],["T_WHITESPACE"," ",277],"(","!",["T_VARIABLE","$this",277],["T_OBJECT_OPERATOR","->",277],["T_STRING","_isMaildir",277],"(",["T_VARIABLE","$params",277],["T_OBJECT_OPERATOR","->",277],["T_STRING","dirname",277],")",")",["T_WHITESPACE"," ",277],"{",["T_WHITESPACE","\n            ",277],["T_DOC_COMMENT","\/**\n             * @see Zend_Mail_Storage_Exception\n             *\/",278],["T_WHITESPACE","\n            ",280],["T_COMMENT","#require_once 'Zend\/Mail\/Storage\/Exception.php';\n",281],["T_WHITESPACE","            ",282],["T_THROW","throw",282],["T_WHITESPACE"," ",282],["T_NEW","new",282],["T_WHITESPACE"," ",282],["T_STRING","Zend_Mail_Storage_Exception",282],"(",["T_CONSTANT_ENCAPSED_STRING","'invalid maildir given'",282],")",";",["T_WHITESPACE","\n        ",282],"}",["T_WHITESPACE","\n\n        ",283],["T_VARIABLE","$this",285],["T_OBJECT_OPERATOR","->",285],["T_STRING","_has",285],"[",["T_CONSTANT_ENCAPSED_STRING","'top'",285],"]",["T_WHITESPACE"," ",285],"=",["T_WHITESPACE"," ",285],["T_STRING","true",285],";",["T_WHITESPACE","\n        ",285],["T_VARIABLE","$this",286],["T_OBJECT_OPERATOR","->",286],["T_STRING","_has",286],"[",["T_CONSTANT_ENCAPSED_STRING","'flags'",286],"]",["T_WHITESPACE"," ",286],"=",["T_WHITESPACE"," ",286],["T_STRING","true",286],";",["T_WHITESPACE","\n        ",286],["T_VARIABLE","$this",287],["T_OBJECT_OPERATOR","->",287],["T_STRING","_openMaildir",287],"(",["T_VARIABLE","$params",287],["T_OBJECT_OPERATOR","->",287],["T_STRING","dirname",287],")",";",["T_WHITESPACE","\n    ",287],"}",["T_WHITESPACE","\n\n    ",288],["T_DOC_COMMENT","\/**\n     * check if a given dir is a valid maildir\n     *\n     * @param string $dirname name of dir\n     * @return bool dir is valid maildir\n     *\/",290],["T_WHITESPACE","\n    ",295],["T_PROTECTED","protected",296],["T_WHITESPACE"," ",296],["T_FUNCTION","function",296],["T_WHITESPACE"," ",296],["T_STRING","_isMaildir",296],"(",["T_VARIABLE","$dirname",296],")",["T_WHITESPACE","\n    ",296],"{",["T_WHITESPACE","\n        ",297],["T_IF","if",298],["T_WHITESPACE"," ",298],"(",["T_STRING","file_exists",298],"(",["T_VARIABLE","$dirname",298],["T_WHITESPACE"," ",298],".",["T_WHITESPACE"," ",298],["T_CONSTANT_ENCAPSED_STRING","'\/new'",298],")",["T_WHITESPACE"," ",298],["T_BOOLEAN_AND","&&",298],["T_WHITESPACE"," ",298],"!",["T_STRING","is_dir",298],"(",["T_VARIABLE","$dirname",298],["T_WHITESPACE"," ",298],".",["T_WHITESPACE"," ",298],["T_CONSTANT_ENCAPSED_STRING","'\/new'",298],")",")",["T_WHITESPACE"," ",298],"{",["T_WHITESPACE","\n            ",298],["T_RETURN","return",299],["T_WHITESPACE"," ",299],["T_STRING","false",299],";",["T_WHITESPACE","\n        ",299],"}",["T_WHITESPACE","\n        ",300],["T_IF","if",301],["T_WHITESPACE"," ",301],"(",["T_STRING","file_exists",301],"(",["T_VARIABLE","$dirname",301],["T_WHITESPACE"," ",301],".",["T_WHITESPACE"," ",301],["T_CONSTANT_ENCAPSED_STRING","'\/tmp'",301],")",["T_WHITESPACE"," ",301],["T_BOOLEAN_AND","&&",301],["T_WHITESPACE"," ",301],"!",["T_STRING","is_dir",301],"(",["T_VARIABLE","$dirname",301],["T_WHITESPACE"," ",301],".",["T_WHITESPACE"," ",301],["T_CONSTANT_ENCAPSED_STRING","'\/tmp'",301],")",")",["T_WHITESPACE"," ",301],"{",["T_WHITESPACE","\n            ",301],["T_RETURN","return",302],["T_WHITESPACE"," ",302],["T_STRING","false",302],";",["T_WHITESPACE","\n        ",302],"}",["T_WHITESPACE","\n        ",303],["T_RETURN","return",304],["T_WHITESPACE"," ",304],["T_STRING","is_dir",304],"(",["T_VARIABLE","$dirname",304],["T_WHITESPACE"," ",304],".",["T_WHITESPACE"," ",304],["T_CONSTANT_ENCAPSED_STRING","'\/cur'",304],")",";",["T_WHITESPACE","\n    ",304],"}",["T_WHITESPACE","\n\n    ",305],["T_DOC_COMMENT","\/**\n     * open given dir as current maildir\n     *\n     * @param string $dirname name of maildir\n     * @return null\n     * @throws Zend_Mail_Storage_Exception\n     *\/",307],["T_WHITESPACE","\n    ",313],["T_PROTECTED","protected",314],["T_WHITESPACE"," ",314],["T_FUNCTION","function",314],["T_WHITESPACE"," ",314],["T_STRING","_openMaildir",314],"(",["T_VARIABLE","$dirname",314],")",["T_WHITESPACE","\n    ",314],"{",["T_WHITESPACE","\n        ",315],["T_IF","if",316],["T_WHITESPACE"," ",316],"(",["T_VARIABLE","$this",316],["T_OBJECT_OPERATOR","->",316],["T_STRING","_files",316],")",["T_WHITESPACE"," ",316],"{",["T_WHITESPACE","\n            ",316],["T_VARIABLE","$this",317],["T_OBJECT_OPERATOR","->",317],["T_STRING","close",317],"(",")",";",["T_WHITESPACE","\n        ",317],"}",["T_WHITESPACE","\n\n        ",318],["T_VARIABLE","$dh",320],["T_WHITESPACE"," ",320],"=",["T_WHITESPACE"," ",320],"@",["T_STRING","opendir",320],"(",["T_VARIABLE","$dirname",320],["T_WHITESPACE"," ",320],".",["T_WHITESPACE"," ",320],["T_CONSTANT_ENCAPSED_STRING","'\/cur\/'",320],")",";",["T_WHITESPACE","\n        ",320],["T_IF","if",321],["T_WHITESPACE"," ",321],"(","!",["T_VARIABLE","$dh",321],")",["T_WHITESPACE"," ",321],"{",["T_WHITESPACE","\n            ",321],["T_DOC_COMMENT","\/**\n             * @see Zend_Mail_Storage_Exception\n             *\/",322],["T_WHITESPACE","\n            ",324],["T_COMMENT","#require_once 'Zend\/Mail\/Storage\/Exception.php';\n",325],["T_WHITESPACE","            ",326],["T_THROW","throw",326],["T_WHITESPACE"," ",326],["T_NEW","new",326],["T_WHITESPACE"," ",326],["T_STRING","Zend_Mail_Storage_Exception",326],"(",["T_CONSTANT_ENCAPSED_STRING","'cannot open maildir'",326],")",";",["T_WHITESPACE","\n        ",326],"}",["T_WHITESPACE","\n        ",327],["T_VARIABLE","$this",328],["T_OBJECT_OPERATOR","->",328],["T_STRING","_getMaildirFiles",328],"(",["T_VARIABLE","$dh",328],",",["T_WHITESPACE"," ",328],["T_VARIABLE","$dirname",328],["T_WHITESPACE"," ",328],".",["T_WHITESPACE"," ",328],["T_CONSTANT_ENCAPSED_STRING","'\/cur\/'",328],")",";",["T_WHITESPACE","\n        ",328],["T_STRING","closedir",329],"(",["T_VARIABLE","$dh",329],")",";",["T_WHITESPACE","\n\n        ",329],["T_VARIABLE","$dh",331],["T_WHITESPACE"," ",331],"=",["T_WHITESPACE"," ",331],"@",["T_STRING","opendir",331],"(",["T_VARIABLE","$dirname",331],["T_WHITESPACE"," ",331],".",["T_WHITESPACE"," ",331],["T_CONSTANT_ENCAPSED_STRING","'\/new\/'",331],")",";",["T_WHITESPACE","\n        ",331],["T_IF","if",332],["T_WHITESPACE"," ",332],"(",["T_VARIABLE","$dh",332],")",["T_WHITESPACE"," ",332],"{",["T_WHITESPACE","\n            ",332],["T_VARIABLE","$this",333],["T_OBJECT_OPERATOR","->",333],["T_STRING","_getMaildirFiles",333],"(",["T_VARIABLE","$dh",333],",",["T_WHITESPACE"," ",333],["T_VARIABLE","$dirname",333],["T_WHITESPACE"," ",333],".",["T_WHITESPACE"," ",333],["T_CONSTANT_ENCAPSED_STRING","'\/new\/'",333],",",["T_WHITESPACE"," ",333],["T_ARRAY","array",333],"(",["T_STRING","Zend_Mail_Storage",333],["T_DOUBLE_COLON","::",333],["T_STRING","FLAG_RECENT",333],")",")",";",["T_WHITESPACE","\n            ",333],["T_STRING","closedir",334],"(",["T_VARIABLE","$dh",334],")",";",["T_WHITESPACE","\n        ",334],"}",["T_WHITESPACE"," ",335],["T_ELSE","else",335],["T_WHITESPACE"," ",335],["T_IF","if",335],["T_WHITESPACE"," ",335],"(",["T_STRING","file_exists",335],"(",["T_VARIABLE","$dirname",335],["T_WHITESPACE"," ",335],".",["T_WHITESPACE"," ",335],["T_CONSTANT_ENCAPSED_STRING","'\/new\/'",335],")",")",["T_WHITESPACE"," ",335],"{",["T_WHITESPACE","\n            ",335],["T_DOC_COMMENT","\/**\n             * @see Zend_Mail_Storage_Exception\n             *\/",336],["T_WHITESPACE","\n            ",338],["T_COMMENT","#require_once 'Zend\/Mail\/Storage\/Exception.php';\n",339],["T_WHITESPACE","            ",340],["T_THROW","throw",340],["T_WHITESPACE"," ",340],["T_NEW","new",340],["T_WHITESPACE"," ",340],["T_STRING","Zend_Mail_Storage_Exception",340],"(",["T_CONSTANT_ENCAPSED_STRING","'cannot read recent mails in maildir'",340],")",";",["T_WHITESPACE","\n        ",340],"}",["T_WHITESPACE","\n    ",341],"}",["T_WHITESPACE","\n\n    ",342],["T_DOC_COMMENT","\/**\n     * find all files in opened dir handle and add to maildir files\n     *\n     * @param resource $dh            dir handle used for search\n     * @param string   $dirname       dirname of dir in $dh\n     * @param array    $default_flags default flags for given dir\n     * @return null\n     *\/",344],["T_WHITESPACE","\n    ",351],["T_PROTECTED","protected",352],["T_WHITESPACE"," ",352],["T_FUNCTION","function",352],["T_WHITESPACE"," ",352],["T_STRING","_getMaildirFiles",352],"(",["T_VARIABLE","$dh",352],",",["T_WHITESPACE"," ",352],["T_VARIABLE","$dirname",352],",",["T_WHITESPACE"," ",352],["T_VARIABLE","$default_flags",352],["T_WHITESPACE"," ",352],"=",["T_WHITESPACE"," ",352],["T_ARRAY","array",352],"(",")",")",["T_WHITESPACE","\n    ",352],"{",["T_WHITESPACE","\n        ",353],["T_WHILE","while",354],["T_WHITESPACE"," ",354],"(","(",["T_VARIABLE","$entry",354],["T_WHITESPACE"," ",354],"=",["T_WHITESPACE"," ",354],["T_STRING","readdir",354],"(",["T_VARIABLE","$dh",354],")",")",["T_WHITESPACE"," ",354],["T_IS_NOT_IDENTICAL","!==",354],["T_WHITESPACE"," ",354],["T_STRING","false",354],")",["T_WHITESPACE"," ",354],"{",["T_WHITESPACE","\n            ",354],["T_IF","if",355],["T_WHITESPACE"," ",355],"(",["T_VARIABLE","$entry",355],"[",["T_LNUMBER","0",355],"]",["T_WHITESPACE"," ",355],["T_IS_EQUAL","==",355],["T_WHITESPACE"," ",355],["T_CONSTANT_ENCAPSED_STRING","'.'",355],["T_WHITESPACE"," ",355],["T_BOOLEAN_OR","||",355],["T_WHITESPACE"," ",355],"!",["T_STRING","is_file",355],"(",["T_VARIABLE","$dirname",355],["T_WHITESPACE"," ",355],".",["T_WHITESPACE"," ",355],["T_VARIABLE","$entry",355],")",")",["T_WHITESPACE"," ",355],"{",["T_WHITESPACE","\n                ",355],["T_CONTINUE","continue",356],";",["T_WHITESPACE","\n            ",356],"}",["T_WHITESPACE","\n\n            ",357],"@",["T_LIST","list",359],"(",["T_VARIABLE","$uniq",359],",",["T_WHITESPACE"," ",359],["T_VARIABLE","$info",359],")",["T_WHITESPACE"," ",359],"=",["T_WHITESPACE"," ",359],["T_STRING","explode",359],"(",["T_CONSTANT_ENCAPSED_STRING","':'",359],",",["T_WHITESPACE"," ",359],["T_VARIABLE","$entry",359],",",["T_WHITESPACE"," ",359],["T_LNUMBER","2",359],")",";",["T_WHITESPACE","\n            ",359],"@",["T_LIST","list",360],"(",",",["T_VARIABLE","$size",360],")",["T_WHITESPACE"," ",360],"=",["T_WHITESPACE"," ",360],["T_STRING","explode",360],"(",["T_CONSTANT_ENCAPSED_STRING","','",360],",",["T_WHITESPACE"," ",360],["T_VARIABLE","$uniq",360],",",["T_WHITESPACE"," ",360],["T_LNUMBER","2",360],")",";",["T_WHITESPACE","\n            ",360],["T_IF","if",361],["T_WHITESPACE"," ",361],"(",["T_VARIABLE","$size",361],["T_WHITESPACE"," ",361],["T_BOOLEAN_AND","&&",361],["T_WHITESPACE"," ",361],["T_VARIABLE","$size",361],"[",["T_LNUMBER","0",361],"]",["T_WHITESPACE"," ",361],["T_IS_EQUAL","==",361],["T_WHITESPACE"," ",361],["T_CONSTANT_ENCAPSED_STRING","'S'",361],["T_WHITESPACE"," ",361],["T_BOOLEAN_AND","&&",361],["T_WHITESPACE"," ",361],["T_VARIABLE","$size",361],"[",["T_LNUMBER","1",361],"]",["T_WHITESPACE"," ",361],["T_IS_EQUAL","==",361],["T_WHITESPACE"," ",361],["T_CONSTANT_ENCAPSED_STRING","'='",361],")",["T_WHITESPACE"," ",361],"{",["T_WHITESPACE","\n                ",361],["T_VARIABLE","$size",362],["T_WHITESPACE"," ",362],"=",["T_WHITESPACE"," ",362],["T_STRING","substr",362],"(",["T_VARIABLE","$size",362],",",["T_WHITESPACE"," ",362],["T_LNUMBER","2",362],")",";",["T_WHITESPACE","\n            ",362],"}",["T_WHITESPACE","\n            ",363],["T_IF","if",364],["T_WHITESPACE"," ",364],"(","!",["T_STRING","ctype_digit",364],"(",["T_VARIABLE","$size",364],")",")",["T_WHITESPACE"," ",364],"{",["T_WHITESPACE","\n                ",364],["T_VARIABLE","$size",365],["T_WHITESPACE"," ",365],"=",["T_WHITESPACE"," ",365],["T_STRING","null",365],";",["T_WHITESPACE","\n            ",365],"}",["T_WHITESPACE","\n            ",366],"@",["T_LIST","list",367],"(",["T_VARIABLE","$version",367],",",["T_WHITESPACE"," ",367],["T_VARIABLE","$flags",367],")",["T_WHITESPACE"," ",367],"=",["T_WHITESPACE"," ",367],["T_STRING","explode",367],"(",["T_CONSTANT_ENCAPSED_STRING","','",367],",",["T_WHITESPACE"," ",367],["T_VARIABLE","$info",367],",",["T_WHITESPACE"," ",367],["T_LNUMBER","2",367],")",";",["T_WHITESPACE","\n            ",367],["T_IF","if",368],["T_WHITESPACE"," ",368],"(",["T_VARIABLE","$version",368],["T_WHITESPACE"," ",368],["T_IS_NOT_EQUAL","!=",368],["T_WHITESPACE"," ",368],["T_LNUMBER","2",368],")",["T_WHITESPACE"," ",368],"{",["T_WHITESPACE","\n                ",368],["T_VARIABLE","$flags",369],["T_WHITESPACE"," ",369],"=",["T_WHITESPACE"," ",369],["T_CONSTANT_ENCAPSED_STRING","''",369],";",["T_WHITESPACE","\n            ",369],"}",["T_WHITESPACE","\n\n            ",370],["T_VARIABLE","$named_flags",372],["T_WHITESPACE"," ",372],"=",["T_WHITESPACE"," ",372],["T_VARIABLE","$default_flags",372],";",["T_WHITESPACE","\n            ",372],["T_VARIABLE","$length",373],["T_WHITESPACE"," ",373],"=",["T_WHITESPACE"," ",373],["T_STRING","strlen",373],"(",["T_VARIABLE","$flags",373],")",";",["T_WHITESPACE","\n            ",373],["T_FOR","for",374],["T_WHITESPACE"," ",374],"(",["T_VARIABLE","$i",374],["T_WHITESPACE"," ",374],"=",["T_WHITESPACE"," ",374],["T_LNUMBER","0",374],";",["T_WHITESPACE"," ",374],["T_VARIABLE","$i",374],["T_WHITESPACE"," ",374],"<",["T_WHITESPACE"," ",374],["T_VARIABLE","$length",374],";",["T_WHITESPACE"," ",374],["T_INC","++",374],["T_VARIABLE","$i",374],")",["T_WHITESPACE"," ",374],"{",["T_WHITESPACE","\n                ",374],["T_VARIABLE","$flag",375],["T_WHITESPACE"," ",375],"=",["T_WHITESPACE"," ",375],["T_VARIABLE","$flags",375],"[",["T_VARIABLE","$i",375],"]",";",["T_WHITESPACE","\n                ",375],["T_VARIABLE","$named_flags",376],"[",["T_VARIABLE","$flag",376],"]",["T_WHITESPACE"," ",376],"=",["T_WHITESPACE"," ",376],["T_ISSET","isset",376],"(",["T_STRING","self",376],["T_DOUBLE_COLON","::",376],["T_VARIABLE","$_knownFlags",376],"[",["T_VARIABLE","$flag",376],"]",")",["T_WHITESPACE"," ",376],"?",["T_WHITESPACE"," ",376],["T_STRING","self",376],["T_DOUBLE_COLON","::",376],["T_VARIABLE","$_knownFlags",376],"[",["T_VARIABLE","$flag",376],"]",["T_WHITESPACE"," ",376],":",["T_WHITESPACE"," ",376],["T_VARIABLE","$flag",376],";",["T_WHITESPACE","\n            ",376],"}",["T_WHITESPACE","\n\n            ",377],["T_VARIABLE","$data",379],["T_WHITESPACE"," ",379],"=",["T_WHITESPACE"," ",379],["T_ARRAY","array",379],"(",["T_CONSTANT_ENCAPSED_STRING","'uniq'",379],["T_WHITESPACE","       ",379],["T_DOUBLE_ARROW","=>",379],["T_WHITESPACE"," ",379],["T_VARIABLE","$uniq",379],",",["T_WHITESPACE","\n                          ",379],["T_CONSTANT_ENCAPSED_STRING","'flags'",380],["T_WHITESPACE","      ",380],["T_DOUBLE_ARROW","=>",380],["T_WHITESPACE"," ",380],["T_VARIABLE","$named_flags",380],",",["T_WHITESPACE","\n                          ",380],["T_CONSTANT_ENCAPSED_STRING","'flaglookup'",381],["T_WHITESPACE"," ",381],["T_DOUBLE_ARROW","=>",381],["T_WHITESPACE"," ",381],["T_STRING","array_flip",381],"(",["T_VARIABLE","$named_flags",381],")",",",["T_WHITESPACE","\n                          ",381],["T_CONSTANT_ENCAPSED_STRING","'filename'",382],["T_WHITESPACE","   ",382],["T_DOUBLE_ARROW","=>",382],["T_WHITESPACE"," ",382],["T_VARIABLE","$dirname",382],["T_WHITESPACE"," ",382],".",["T_WHITESPACE"," ",382],["T_VARIABLE","$entry",382],")",";",["T_WHITESPACE","\n            ",382],["T_IF","if",383],["T_WHITESPACE"," ",383],"(",["T_VARIABLE","$size",383],["T_WHITESPACE"," ",383],["T_IS_NOT_IDENTICAL","!==",383],["T_WHITESPACE"," ",383],["T_STRING","null",383],")",["T_WHITESPACE"," ",383],"{",["T_WHITESPACE","\n                ",383],["T_VARIABLE","$data",384],"[",["T_CONSTANT_ENCAPSED_STRING","'size'",384],"]",["T_WHITESPACE"," ",384],"=",["T_WHITESPACE"," ",384],["T_INT_CAST","(int)",384],["T_VARIABLE","$size",384],";",["T_WHITESPACE","\n            ",384],"}",["T_WHITESPACE","\n            ",385],["T_VARIABLE","$this",386],["T_OBJECT_OPERATOR","->",386],["T_STRING","_files",386],"[","]",["T_WHITESPACE"," ",386],"=",["T_WHITESPACE"," ",386],["T_VARIABLE","$data",386],";",["T_WHITESPACE","\n        ",386],"}",["T_WHITESPACE","\n    ",387],"}",["T_WHITESPACE","\n\n\n    ",388],["T_DOC_COMMENT","\/**\n     * Close resource for mail lib. If you need to control, when the resource\n     * is closed. Otherwise the destructor would call this.\n     *\n     * @return void\n     *\/",391],["T_WHITESPACE","\n    ",396],["T_PUBLIC","public",397],["T_WHITESPACE"," ",397],["T_FUNCTION","function",397],["T_WHITESPACE"," ",397],["T_STRING","close",397],"(",")",["T_WHITESPACE","\n    ",397],"{",["T_WHITESPACE","\n        ",398],["T_VARIABLE","$this",399],["T_OBJECT_OPERATOR","->",399],["T_STRING","_files",399],["T_WHITESPACE"," ",399],"=",["T_WHITESPACE"," ",399],["T_ARRAY","array",399],"(",")",";",["T_WHITESPACE","\n    ",399],"}",["T_WHITESPACE","\n\n\n    ",400],["T_DOC_COMMENT","\/**\n     * Waste some CPU cycles doing nothing.\n     *\n     * @return void\n     *\/",403],["T_WHITESPACE","\n    ",407],["T_PUBLIC","public",408],["T_WHITESPACE"," ",408],["T_FUNCTION","function",408],["T_WHITESPACE"," ",408],["T_STRING","noop",408],"(",")",["T_WHITESPACE","\n    ",408],"{",["T_WHITESPACE","\n        ",409],["T_RETURN","return",410],["T_WHITESPACE"," ",410],["T_STRING","true",410],";",["T_WHITESPACE","\n    ",410],"}",["T_WHITESPACE","\n\n\n    ",411],["T_DOC_COMMENT","\/**\n     * stub for not supported message deletion\n     *\n     * @return null\n     * @throws Zend_Mail_Storage_Exception\n     *\/",414],["T_WHITESPACE","\n    ",419],["T_PUBLIC","public",420],["T_WHITESPACE"," ",420],["T_FUNCTION","function",420],["T_WHITESPACE"," ",420],["T_STRING","removeMessage",420],"(",["T_VARIABLE","$id",420],")",["T_WHITESPACE","\n    ",420],"{",["T_WHITESPACE","\n        ",421],["T_DOC_COMMENT","\/**\n         * @see Zend_Mail_Storage_Exception\n         *\/",422],["T_WHITESPACE","\n        ",424],["T_COMMENT","#require_once 'Zend\/Mail\/Storage\/Exception.php';\n",425],["T_WHITESPACE","        ",426],["T_THROW","throw",426],["T_WHITESPACE"," ",426],["T_NEW","new",426],["T_WHITESPACE"," ",426],["T_STRING","Zend_Mail_Storage_Exception",426],"(",["T_CONSTANT_ENCAPSED_STRING","'maildir is (currently) read-only'",426],")",";",["T_WHITESPACE","\n    ",426],"}",["T_WHITESPACE","\n\n    ",427],["T_DOC_COMMENT","\/**\n     * get unique id for one or all messages\n     *\n     * if storage does not support unique ids it's the same as the message number\n     *\n     * @param int|null $id message number\n     * @return array|string message number for given message or all messages as array\n     * @throws Zend_Mail_Storage_Exception\n     *\/",429],["T_WHITESPACE","\n    ",437],["T_PUBLIC","public",438],["T_WHITESPACE"," ",438],["T_FUNCTION","function",438],["T_WHITESPACE"," ",438],["T_STRING","getUniqueId",438],"(",["T_VARIABLE","$id",438],["T_WHITESPACE"," ",438],"=",["T_WHITESPACE"," ",438],["T_STRING","null",438],")",["T_WHITESPACE","\n    ",438],"{",["T_WHITESPACE","\n        ",439],["T_IF","if",440],["T_WHITESPACE"," ",440],"(",["T_VARIABLE","$id",440],")",["T_WHITESPACE"," ",440],"{",["T_WHITESPACE","\n            ",440],["T_RETURN","return",441],["T_WHITESPACE"," ",441],["T_VARIABLE","$this",441],["T_OBJECT_OPERATOR","->",441],["T_STRING","_getFileData",441],"(",["T_VARIABLE","$id",441],",",["T_WHITESPACE"," ",441],["T_CONSTANT_ENCAPSED_STRING","'uniq'",441],")",";",["T_WHITESPACE","\n        ",441],"}",["T_WHITESPACE","\n\n        ",442],["T_VARIABLE","$ids",444],["T_WHITESPACE"," ",444],"=",["T_WHITESPACE"," ",444],["T_ARRAY","array",444],"(",")",";",["T_WHITESPACE","\n        ",444],["T_FOREACH","foreach",445],["T_WHITESPACE"," ",445],"(",["T_VARIABLE","$this",445],["T_OBJECT_OPERATOR","->",445],["T_STRING","_files",445],["T_WHITESPACE"," ",445],["T_AS","as",445],["T_WHITESPACE"," ",445],["T_VARIABLE","$num",445],["T_WHITESPACE"," ",445],["T_DOUBLE_ARROW","=>",445],["T_WHITESPACE"," ",445],["T_VARIABLE","$file",445],")",["T_WHITESPACE"," ",445],"{",["T_WHITESPACE","\n            ",445],["T_VARIABLE","$ids",446],"[",["T_VARIABLE","$num",446],["T_WHITESPACE"," ",446],"+",["T_WHITESPACE"," ",446],["T_LNUMBER","1",446],"]",["T_WHITESPACE"," ",446],"=",["T_WHITESPACE"," ",446],["T_VARIABLE","$file",446],"[",["T_CONSTANT_ENCAPSED_STRING","'uniq'",446],"]",";",["T_WHITESPACE","\n        ",446],"}",["T_WHITESPACE","\n        ",447],["T_RETURN","return",448],["T_WHITESPACE"," ",448],["T_VARIABLE","$ids",448],";",["T_WHITESPACE","\n    ",448],"}",["T_WHITESPACE","\n\n    ",449],["T_DOC_COMMENT","\/**\n     * get a message number from a unique id\n     *\n     * I.e. if you have a webmailer that supports deleting messages you should use unique ids\n     * as parameter and use this method to translate it to message number right before calling removeMessage()\n     *\n     * @param string $id unique id\n     * @return int message number\n     * @throws Zend_Mail_Storage_Exception\n     *\/",451],["T_WHITESPACE","\n    ",460],["T_PUBLIC","public",461],["T_WHITESPACE"," ",461],["T_FUNCTION","function",461],["T_WHITESPACE"," ",461],["T_STRING","getNumberByUniqueId",461],"(",["T_VARIABLE","$id",461],")",["T_WHITESPACE","\n    ",461],"{",["T_WHITESPACE","\n        ",462],["T_FOREACH","foreach",463],["T_WHITESPACE"," ",463],"(",["T_VARIABLE","$this",463],["T_OBJECT_OPERATOR","->",463],["T_STRING","_files",463],["T_WHITESPACE"," ",463],["T_AS","as",463],["T_WHITESPACE"," ",463],["T_VARIABLE","$num",463],["T_WHITESPACE"," ",463],["T_DOUBLE_ARROW","=>",463],["T_WHITESPACE"," ",463],["T_VARIABLE","$file",463],")",["T_WHITESPACE"," ",463],"{",["T_WHITESPACE","\n            ",463],["T_IF","if",464],["T_WHITESPACE"," ",464],"(",["T_VARIABLE","$file",464],"[",["T_CONSTANT_ENCAPSED_STRING","'uniq'",464],"]",["T_WHITESPACE"," ",464],["T_IS_EQUAL","==",464],["T_WHITESPACE"," ",464],["T_VARIABLE","$id",464],")",["T_WHITESPACE"," ",464],"{",["T_WHITESPACE","\n                ",464],["T_RETURN","return",465],["T_WHITESPACE"," ",465],["T_VARIABLE","$num",465],["T_WHITESPACE"," ",465],"+",["T_WHITESPACE"," ",465],["T_LNUMBER","1",465],";",["T_WHITESPACE","\n            ",465],"}",["T_WHITESPACE","\n        ",466],"}",["T_WHITESPACE","\n\n        ",467],["T_DOC_COMMENT","\/**\n         * @see Zend_Mail_Storage_Exception\n         *\/",469],["T_WHITESPACE","\n        ",471],["T_COMMENT","#require_once 'Zend\/Mail\/Storage\/Exception.php';\n",472],["T_WHITESPACE","        ",473],["T_THROW","throw",473],["T_WHITESPACE"," ",473],["T_NEW","new",473],["T_WHITESPACE"," ",473],["T_STRING","Zend_Mail_Storage_Exception",473],"(",["T_CONSTANT_ENCAPSED_STRING","'unique id not found'",473],")",";",["T_WHITESPACE","\n    ",473],"}",["T_WHITESPACE","\n",474],"}",["T_WHITESPACE","\n",475]]