[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Zend Framework\n *\n * LICENSE\n *\n * This source file is subject to the new BSD license that is bundled\n * with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/framework.zend.com\/license\/new-bsd\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@zend.com so we can send you a copy immediately.\n *\n * @category   Zend\n * @package    Zend_Mail\n * @subpackage Storage\n * @copyright  Copyright (c) 2005-2015 Zend Technologies USA Inc. (http:\/\/www.zend.com)\n * @license    http:\/\/framework.zend.com\/license\/new-bsd     New BSD License\n * @version    $Id$\n *\/",2],["T_WHITESPACE","\n\n\n",21],["T_DOC_COMMENT","\/**\n * @see Zend_Loader\n * May be used in constructor, but commented out for now\n *\/",24],["T_WHITESPACE","\n",27],["T_COMMENT","\/\/ #require_once 'Zend\/Loader.php';\n",28],["T_WHITESPACE","\n",29],["T_DOC_COMMENT","\/**\n * @see Zend_Mail_Storage_Abstract\n *\/",30],["T_WHITESPACE","\n",32],["T_COMMENT","#require_once 'Zend\/Mail\/Storage\/Abstract.php';\n",33],["T_WHITESPACE","\n",34],["T_DOC_COMMENT","\/**\n * @see Zend_Mail_Message_File\n *\/",35],["T_WHITESPACE","\n",37],["T_COMMENT","#require_once 'Zend\/Mail\/Message\/File.php';\n",38],["T_WHITESPACE","\n\n",39],["T_DOC_COMMENT","\/**\n * @category   Zend\n * @package    Zend_Mail\n * @subpackage Storage\n * @copyright  Copyright (c) 2005-2015 Zend Technologies USA Inc. (http:\/\/www.zend.com)\n * @license    http:\/\/framework.zend.com\/license\/new-bsd     New BSD License\n *\/",41],["T_WHITESPACE","\n",47],["T_CLASS","class",48],["T_WHITESPACE"," ",48],["T_STRING","Zend_Mail_Storage_Mbox",48],["T_WHITESPACE"," ",48],["T_EXTENDS","extends",48],["T_WHITESPACE"," ",48],["T_STRING","Zend_Mail_Storage_Abstract",48],["T_WHITESPACE","\n",48],"{",["T_WHITESPACE","\n    ",49],["T_DOC_COMMENT","\/**\n     * file handle to mbox file\n     * @var null|resource\n     *\/",50],["T_WHITESPACE","\n    ",53],["T_PROTECTED","protected",54],["T_WHITESPACE"," ",54],["T_VARIABLE","$_fh",54],";",["T_WHITESPACE","\n\n    ",54],["T_DOC_COMMENT","\/**\n     * filename of mbox file for __wakeup\n     * @var string\n     *\/",56],["T_WHITESPACE","\n    ",59],["T_PROTECTED","protected",60],["T_WHITESPACE"," ",60],["T_VARIABLE","$_filename",60],";",["T_WHITESPACE","\n\n    ",60],["T_DOC_COMMENT","\/**\n     * modification date of mbox file for __wakeup\n     * @var int\n     *\/",62],["T_WHITESPACE","\n    ",65],["T_PROTECTED","protected",66],["T_WHITESPACE"," ",66],["T_VARIABLE","$_filemtime",66],";",["T_WHITESPACE","\n\n    ",66],["T_DOC_COMMENT","\/**\n     * start and end position of messages as array('start' => start, 'seperator' => headersep, 'end' => end)\n     * @var array\n     *\/",68],["T_WHITESPACE","\n    ",71],["T_PROTECTED","protected",72],["T_WHITESPACE"," ",72],["T_VARIABLE","$_positions",72],";",["T_WHITESPACE","\n\n    ",72],["T_DOC_COMMENT","\/**\n     * used message class, change it in an extened class to extend the returned message class\n     * @var string\n     *\/",74],["T_WHITESPACE","\n    ",77],["T_PROTECTED","protected",78],["T_WHITESPACE"," ",78],["T_VARIABLE","$_messageClass",78],["T_WHITESPACE"," ",78],"=",["T_WHITESPACE"," ",78],["T_CONSTANT_ENCAPSED_STRING","'Zend_Mail_Message_File'",78],";",["T_WHITESPACE","\n\n    ",78],["T_DOC_COMMENT","\/**\n     * Count messages all messages in current box\n     *\n     * @return int number of messages\n     * @throws Zend_Mail_Storage_Exception\n     *\/",80],["T_WHITESPACE","\n    ",85],["T_PUBLIC","public",86],["T_WHITESPACE"," ",86],["T_FUNCTION","function",86],["T_WHITESPACE"," ",86],["T_STRING","countMessages",86],"(",")",["T_WHITESPACE","\n    ",86],"{",["T_WHITESPACE","\n        ",87],["T_RETURN","return",88],["T_WHITESPACE"," ",88],["T_STRING","count",88],"(",["T_VARIABLE","$this",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","_positions",88],")",";",["T_WHITESPACE","\n    ",88],"}",["T_WHITESPACE","\n\n\n    ",89],["T_DOC_COMMENT","\/**\n     * Get a list of messages with number and size\n     *\n     * @param  int|null $id  number of message or null for all messages\n     * @return int|array size of given message of list with all messages as array(num => size)\n     *\/",92],["T_WHITESPACE","\n    ",97],["T_PUBLIC","public",98],["T_WHITESPACE"," ",98],["T_FUNCTION","function",98],["T_WHITESPACE"," ",98],["T_STRING","getSize",98],"(",["T_VARIABLE","$id",98],["T_WHITESPACE"," ",98],"=",["T_WHITESPACE"," ",98],["T_LNUMBER","0",98],")",["T_WHITESPACE","\n    ",98],"{",["T_WHITESPACE","\n        ",99],["T_IF","if",100],["T_WHITESPACE"," ",100],"(",["T_VARIABLE","$id",100],")",["T_WHITESPACE"," ",100],"{",["T_WHITESPACE","\n            ",100],["T_VARIABLE","$pos",101],["T_WHITESPACE"," ",101],"=",["T_WHITESPACE"," ",101],["T_VARIABLE","$this",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","_positions",101],"[",["T_VARIABLE","$id",101],["T_WHITESPACE"," ",101],"-",["T_WHITESPACE"," ",101],["T_LNUMBER","1",101],"]",";",["T_WHITESPACE","\n            ",101],["T_RETURN","return",102],["T_WHITESPACE"," ",102],["T_VARIABLE","$pos",102],"[",["T_CONSTANT_ENCAPSED_STRING","'end'",102],"]",["T_WHITESPACE"," ",102],"-",["T_WHITESPACE"," ",102],["T_VARIABLE","$pos",102],"[",["T_CONSTANT_ENCAPSED_STRING","'start'",102],"]",";",["T_WHITESPACE","\n        ",102],"}",["T_WHITESPACE","\n\n        ",103],["T_VARIABLE","$result",105],["T_WHITESPACE"," ",105],"=",["T_WHITESPACE"," ",105],["T_ARRAY","array",105],"(",")",";",["T_WHITESPACE","\n        ",105],["T_FOREACH","foreach",106],["T_WHITESPACE"," ",106],"(",["T_VARIABLE","$this",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","_positions",106],["T_WHITESPACE"," ",106],["T_AS","as",106],["T_WHITESPACE"," ",106],["T_VARIABLE","$num",106],["T_WHITESPACE"," ",106],["T_DOUBLE_ARROW","=>",106],["T_WHITESPACE"," ",106],["T_VARIABLE","$pos",106],")",["T_WHITESPACE"," ",106],"{",["T_WHITESPACE","\n            ",106],["T_VARIABLE","$result",107],"[",["T_VARIABLE","$num",107],["T_WHITESPACE"," ",107],"+",["T_WHITESPACE"," ",107],["T_LNUMBER","1",107],"]",["T_WHITESPACE"," ",107],"=",["T_WHITESPACE"," ",107],["T_VARIABLE","$pos",107],"[",["T_CONSTANT_ENCAPSED_STRING","'end'",107],"]",["T_WHITESPACE"," ",107],"-",["T_WHITESPACE"," ",107],["T_VARIABLE","$pos",107],"[",["T_CONSTANT_ENCAPSED_STRING","'start'",107],"]",";",["T_WHITESPACE","\n        ",107],"}",["T_WHITESPACE","\n\n        ",108],["T_RETURN","return",110],["T_WHITESPACE"," ",110],["T_VARIABLE","$result",110],";",["T_WHITESPACE","\n    ",110],"}",["T_WHITESPACE","\n\n\n    ",111],["T_DOC_COMMENT","\/**\n     * Get positions for mail message or throw exeption if id is invalid\n     *\n     * @param int $id number of message\n     * @return array positions as in _positions\n     * @throws Zend_Mail_Storage_Exception\n     *\/",114],["T_WHITESPACE","\n    ",120],["T_PROTECTED","protected",121],["T_WHITESPACE"," ",121],["T_FUNCTION","function",121],["T_WHITESPACE"," ",121],["T_STRING","_getPos",121],"(",["T_VARIABLE","$id",121],")",["T_WHITESPACE","\n    ",121],"{",["T_WHITESPACE","\n        ",122],["T_IF","if",123],["T_WHITESPACE"," ",123],"(","!",["T_ISSET","isset",123],"(",["T_VARIABLE","$this",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","_positions",123],"[",["T_VARIABLE","$id",123],["T_WHITESPACE"," ",123],"-",["T_WHITESPACE"," ",123],["T_LNUMBER","1",123],"]",")",")",["T_WHITESPACE"," ",123],"{",["T_WHITESPACE","\n            ",123],["T_DOC_COMMENT","\/**\n             * @see Zend_Mail_Storage_Exception\n             *\/",124],["T_WHITESPACE","\n            ",126],["T_COMMENT","#require_once 'Zend\/Mail\/Storage\/Exception.php';\n",127],["T_WHITESPACE","            ",128],["T_THROW","throw",128],["T_WHITESPACE"," ",128],["T_NEW","new",128],["T_WHITESPACE"," ",128],["T_STRING","Zend_Mail_Storage_Exception",128],"(",["T_CONSTANT_ENCAPSED_STRING","'id does not exist'",128],")",";",["T_WHITESPACE","\n        ",128],"}",["T_WHITESPACE","\n\n        ",129],["T_RETURN","return",131],["T_WHITESPACE"," ",131],["T_VARIABLE","$this",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","_positions",131],"[",["T_VARIABLE","$id",131],["T_WHITESPACE"," ",131],"-",["T_WHITESPACE"," ",131],["T_LNUMBER","1",131],"]",";",["T_WHITESPACE","\n    ",131],"}",["T_WHITESPACE","\n\n\n    ",132],["T_DOC_COMMENT","\/**\n     * Fetch a message\n     *\n     * @param  int $id number of message\n     * @return Zend_Mail_Message_File\n     * @throws Zend_Mail_Storage_Exception\n     *\/",135],["T_WHITESPACE","\n    ",141],["T_PUBLIC","public",142],["T_WHITESPACE"," ",142],["T_FUNCTION","function",142],["T_WHITESPACE"," ",142],["T_STRING","getMessage",142],"(",["T_VARIABLE","$id",142],")",["T_WHITESPACE","\n    ",142],"{",["T_WHITESPACE","\n        ",143],["T_COMMENT","\/\/ TODO that's ugly, would be better to let the message class decide\n",144],["T_WHITESPACE","        ",145],["T_IF","if",145],["T_WHITESPACE"," ",145],"(",["T_STRING","strtolower",145],"(",["T_VARIABLE","$this",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","_messageClass",145],")",["T_WHITESPACE"," ",145],["T_IS_EQUAL","==",145],["T_WHITESPACE"," ",145],["T_CONSTANT_ENCAPSED_STRING","'zend_mail_message_file'",145],["T_WHITESPACE"," ",145],["T_BOOLEAN_OR","||",145],["T_WHITESPACE"," ",145],["T_STRING","is_subclass_of",145],"(",["T_VARIABLE","$this",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","_messageClass",145],",",["T_WHITESPACE"," ",145],["T_CONSTANT_ENCAPSED_STRING","'zend_mail_message_file'",145],")",")",["T_WHITESPACE"," ",145],"{",["T_WHITESPACE","\n            ",145],["T_COMMENT","\/\/ TODO top\/body lines\n",146],["T_WHITESPACE","            ",147],["T_VARIABLE","$messagePos",147],["T_WHITESPACE"," ",147],"=",["T_WHITESPACE"," ",147],["T_VARIABLE","$this",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","_getPos",147],"(",["T_VARIABLE","$id",147],")",";",["T_WHITESPACE","\n            ",147],["T_RETURN","return",148],["T_WHITESPACE"," ",148],["T_NEW","new",148],["T_WHITESPACE"," ",148],["T_VARIABLE","$this",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","_messageClass",148],"(",["T_ARRAY","array",148],"(",["T_CONSTANT_ENCAPSED_STRING","'file'",148],["T_WHITESPACE"," ",148],["T_DOUBLE_ARROW","=>",148],["T_WHITESPACE"," ",148],["T_VARIABLE","$this",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","_fh",148],",",["T_WHITESPACE"," ",148],["T_CONSTANT_ENCAPSED_STRING","'startPos'",148],["T_WHITESPACE"," ",148],["T_DOUBLE_ARROW","=>",148],["T_WHITESPACE"," ",148],["T_VARIABLE","$messagePos",148],"[",["T_CONSTANT_ENCAPSED_STRING","'start'",148],"]",",",["T_WHITESPACE","\n                                                  ",148],["T_CONSTANT_ENCAPSED_STRING","'endPos'",149],["T_WHITESPACE"," ",149],["T_DOUBLE_ARROW","=>",149],["T_WHITESPACE"," ",149],["T_VARIABLE","$messagePos",149],"[",["T_CONSTANT_ENCAPSED_STRING","'end'",149],"]",")",")",";",["T_WHITESPACE","\n        ",149],"}",["T_WHITESPACE","\n\n        ",150],["T_VARIABLE","$bodyLines",152],["T_WHITESPACE"," ",152],"=",["T_WHITESPACE"," ",152],["T_LNUMBER","0",152],";",["T_WHITESPACE"," ",152],["T_COMMENT","\/\/ TODO: need a way to change that\n",152],["T_WHITESPACE","\n        ",153],["T_VARIABLE","$message",154],["T_WHITESPACE"," ",154],"=",["T_WHITESPACE"," ",154],["T_VARIABLE","$this",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","getRawHeader",154],"(",["T_VARIABLE","$id",154],")",";",["T_WHITESPACE","\n        ",154],["T_COMMENT","\/\/ file pointer is after headers now\n",155],["T_WHITESPACE","        ",156],["T_IF","if",156],["T_WHITESPACE"," ",156],"(",["T_VARIABLE","$bodyLines",156],")",["T_WHITESPACE"," ",156],"{",["T_WHITESPACE","\n            ",156],["T_VARIABLE","$message",157],["T_WHITESPACE"," ",157],["T_CONCAT_EQUAL",".=",157],["T_WHITESPACE"," ",157],["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",157],";",["T_WHITESPACE","\n            ",157],["T_WHILE","while",158],["T_WHITESPACE"," ",158],"(",["T_VARIABLE","$bodyLines",158],["T_DEC","--",158],["T_WHITESPACE"," ",158],["T_BOOLEAN_AND","&&",158],["T_WHITESPACE"," ",158],["T_STRING","ftell",158],"(",["T_VARIABLE","$this",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","_fh",158],")",["T_WHITESPACE"," ",158],"<",["T_WHITESPACE"," ",158],["T_VARIABLE","$this",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","_positions",158],"[",["T_VARIABLE","$id",158],["T_WHITESPACE"," ",158],"-",["T_WHITESPACE"," ",158],["T_LNUMBER","1",158],"]","[",["T_CONSTANT_ENCAPSED_STRING","'end'",158],"]",")",["T_WHITESPACE"," ",158],"{",["T_WHITESPACE","\n                ",158],["T_VARIABLE","$message",159],["T_WHITESPACE"," ",159],["T_CONCAT_EQUAL",".=",159],["T_WHITESPACE"," ",159],["T_STRING","fgets",159],"(",["T_VARIABLE","$this",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","_fh",159],")",";",["T_WHITESPACE","\n            ",159],"}",["T_WHITESPACE","\n        ",160],"}",["T_WHITESPACE","\n\n        ",161],["T_RETURN","return",163],["T_WHITESPACE"," ",163],["T_NEW","new",163],["T_WHITESPACE"," ",163],["T_VARIABLE","$this",163],["T_OBJECT_OPERATOR","->",163],["T_STRING","_messageClass",163],"(",["T_ARRAY","array",163],"(",["T_CONSTANT_ENCAPSED_STRING","'handler'",163],["T_WHITESPACE"," ",163],["T_DOUBLE_ARROW","=>",163],["T_WHITESPACE"," ",163],["T_VARIABLE","$this",163],",",["T_WHITESPACE"," ",163],["T_CONSTANT_ENCAPSED_STRING","'id'",163],["T_WHITESPACE"," ",163],["T_DOUBLE_ARROW","=>",163],["T_WHITESPACE"," ",163],["T_VARIABLE","$id",163],",",["T_WHITESPACE"," ",163],["T_CONSTANT_ENCAPSED_STRING","'headers'",163],["T_WHITESPACE"," ",163],["T_DOUBLE_ARROW","=>",163],["T_WHITESPACE"," ",163],["T_VARIABLE","$message",163],")",")",";",["T_WHITESPACE","\n    ",163],"}",["T_WHITESPACE","\n\n    ",164],["T_COMMENT","\/*\n     * Get raw header of message or part\n     *\n     * @param  int               $id       number of message\n     * @param  null|array|string $part     path to part or null for messsage header\n     * @param  int               $topLines include this many lines with header (after an empty line)\n     * @return string raw header\n     * @throws Zend_Mail_Protocol_Exception\n     * @throws Zend_Mail_Storage_Exception\n     *\/",166],["T_WHITESPACE","\n    ",175],["T_PUBLIC","public",176],["T_WHITESPACE"," ",176],["T_FUNCTION","function",176],["T_WHITESPACE"," ",176],["T_STRING","getRawHeader",176],"(",["T_VARIABLE","$id",176],",",["T_WHITESPACE"," ",176],["T_VARIABLE","$part",176],["T_WHITESPACE"," ",176],"=",["T_WHITESPACE"," ",176],["T_STRING","null",176],",",["T_WHITESPACE"," ",176],["T_VARIABLE","$topLines",176],["T_WHITESPACE"," ",176],"=",["T_WHITESPACE"," ",176],["T_LNUMBER","0",176],")",["T_WHITESPACE","\n    ",176],"{",["T_WHITESPACE","\n        ",177],["T_IF","if",178],["T_WHITESPACE"," ",178],"(",["T_VARIABLE","$part",178],["T_WHITESPACE"," ",178],["T_IS_NOT_IDENTICAL","!==",178],["T_WHITESPACE"," ",178],["T_STRING","null",178],")",["T_WHITESPACE"," ",178],"{",["T_WHITESPACE","\n            ",178],["T_COMMENT","\/\/ TODO: implement\n",179],["T_WHITESPACE","            ",180],["T_DOC_COMMENT","\/**\n             * @see Zend_Mail_Storage_Exception\n             *\/",180],["T_WHITESPACE","\n            ",182],["T_COMMENT","#require_once 'Zend\/Mail\/Storage\/Exception.php';\n",183],["T_WHITESPACE","            ",184],["T_THROW","throw",184],["T_WHITESPACE"," ",184],["T_NEW","new",184],["T_WHITESPACE"," ",184],["T_STRING","Zend_Mail_Storage_Exception",184],"(",["T_CONSTANT_ENCAPSED_STRING","'not implemented'",184],")",";",["T_WHITESPACE","\n        ",184],"}",["T_WHITESPACE","\n        ",185],["T_VARIABLE","$messagePos",186],["T_WHITESPACE"," ",186],"=",["T_WHITESPACE"," ",186],["T_VARIABLE","$this",186],["T_OBJECT_OPERATOR","->",186],["T_STRING","_getPos",186],"(",["T_VARIABLE","$id",186],")",";",["T_WHITESPACE","\n        ",186],["T_COMMENT","\/\/ TODO: toplines\n",187],["T_WHITESPACE","        ",188],["T_RETURN","return",188],["T_WHITESPACE"," ",188],["T_STRING","stream_get_contents",188],"(",["T_VARIABLE","$this",188],["T_OBJECT_OPERATOR","->",188],["T_STRING","_fh",188],",",["T_WHITESPACE"," ",188],["T_VARIABLE","$messagePos",188],"[",["T_CONSTANT_ENCAPSED_STRING","'separator'",188],"]",["T_WHITESPACE"," ",188],"-",["T_WHITESPACE"," ",188],["T_VARIABLE","$messagePos",188],"[",["T_CONSTANT_ENCAPSED_STRING","'start'",188],"]",",",["T_WHITESPACE"," ",188],["T_VARIABLE","$messagePos",188],"[",["T_CONSTANT_ENCAPSED_STRING","'start'",188],"]",")",";",["T_WHITESPACE","\n    ",188],"}",["T_WHITESPACE","\n\n    ",189],["T_COMMENT","\/*\n     * Get raw content of message or part\n     *\n     * @param  int               $id   number of message\n     * @param  null|array|string $part path to part or null for messsage content\n     * @return string raw content\n     * @throws Zend_Mail_Protocol_Exception\n     * @throws Zend_Mail_Storage_Exception\n     *\/",191],["T_WHITESPACE","\n    ",199],["T_PUBLIC","public",200],["T_WHITESPACE"," ",200],["T_FUNCTION","function",200],["T_WHITESPACE"," ",200],["T_STRING","getRawContent",200],"(",["T_VARIABLE","$id",200],",",["T_WHITESPACE"," ",200],["T_VARIABLE","$part",200],["T_WHITESPACE"," ",200],"=",["T_WHITESPACE"," ",200],["T_STRING","null",200],")",["T_WHITESPACE","\n    ",200],"{",["T_WHITESPACE","\n        ",201],["T_IF","if",202],["T_WHITESPACE"," ",202],"(",["T_VARIABLE","$part",202],["T_WHITESPACE"," ",202],["T_IS_NOT_IDENTICAL","!==",202],["T_WHITESPACE"," ",202],["T_STRING","null",202],")",["T_WHITESPACE"," ",202],"{",["T_WHITESPACE","\n            ",202],["T_COMMENT","\/\/ TODO: implement\n",203],["T_WHITESPACE","            ",204],["T_DOC_COMMENT","\/**\n             * @see Zend_Mail_Storage_Exception\n             *\/",204],["T_WHITESPACE","\n            ",206],["T_COMMENT","#require_once 'Zend\/Mail\/Storage\/Exception.php';\n",207],["T_WHITESPACE","            ",208],["T_THROW","throw",208],["T_WHITESPACE"," ",208],["T_NEW","new",208],["T_WHITESPACE"," ",208],["T_STRING","Zend_Mail_Storage_Exception",208],"(",["T_CONSTANT_ENCAPSED_STRING","'not implemented'",208],")",";",["T_WHITESPACE","\n        ",208],"}",["T_WHITESPACE","\n        ",209],["T_VARIABLE","$messagePos",210],["T_WHITESPACE"," ",210],"=",["T_WHITESPACE"," ",210],["T_VARIABLE","$this",210],["T_OBJECT_OPERATOR","->",210],["T_STRING","_getPos",210],"(",["T_VARIABLE","$id",210],")",";",["T_WHITESPACE","\n        ",210],["T_RETURN","return",211],["T_WHITESPACE"," ",211],["T_STRING","stream_get_contents",211],"(",["T_VARIABLE","$this",211],["T_OBJECT_OPERATOR","->",211],["T_STRING","_fh",211],",",["T_WHITESPACE"," ",211],["T_VARIABLE","$messagePos",211],"[",["T_CONSTANT_ENCAPSED_STRING","'end'",211],"]",["T_WHITESPACE"," ",211],"-",["T_WHITESPACE"," ",211],["T_VARIABLE","$messagePos",211],"[",["T_CONSTANT_ENCAPSED_STRING","'separator'",211],"]",",",["T_WHITESPACE"," ",211],["T_VARIABLE","$messagePos",211],"[",["T_CONSTANT_ENCAPSED_STRING","'separator'",211],"]",")",";",["T_WHITESPACE","\n    ",211],"}",["T_WHITESPACE","\n\n    ",212],["T_DOC_COMMENT","\/**\n     * Create instance with parameters\n     * Supported parameters are:\n     *   - filename filename of mbox file\n     *\n     * @param array $params mail reader specific parameters\n     * @throws Zend_Mail_Storage_Exception\n     *\/",214],["T_WHITESPACE","\n    ",221],["T_PUBLIC","public",222],["T_WHITESPACE"," ",222],["T_FUNCTION","function",222],["T_WHITESPACE"," ",222],["T_STRING","__construct",222],"(",["T_VARIABLE","$params",222],")",["T_WHITESPACE","\n    ",222],"{",["T_WHITESPACE","\n        ",223],["T_IF","if",224],["T_WHITESPACE"," ",224],"(",["T_STRING","is_array",224],"(",["T_VARIABLE","$params",224],")",")",["T_WHITESPACE"," ",224],"{",["T_WHITESPACE","\n            ",224],["T_VARIABLE","$params",225],["T_WHITESPACE"," ",225],"=",["T_WHITESPACE"," ",225],["T_OBJECT_CAST","(object)",225],["T_VARIABLE","$params",225],";",["T_WHITESPACE","\n        ",225],"}",["T_WHITESPACE","\n\n        ",226],["T_IF","if",228],["T_WHITESPACE"," ",228],"(","!",["T_ISSET","isset",228],"(",["T_VARIABLE","$params",228],["T_OBJECT_OPERATOR","->",228],["T_STRING","filename",228],")",["T_WHITESPACE"," ",228],["T_COMMENT","\/* || Zend_Loader::isReadable($params['filename']) *\/",228],")",["T_WHITESPACE"," ",228],"{",["T_WHITESPACE","\n            ",228],["T_DOC_COMMENT","\/**\n             * @see Zend_Mail_Storage_Exception\n             *\/",229],["T_WHITESPACE","\n            ",231],["T_COMMENT","#require_once 'Zend\/Mail\/Storage\/Exception.php';\n",232],["T_WHITESPACE","            ",233],["T_THROW","throw",233],["T_WHITESPACE"," ",233],["T_NEW","new",233],["T_WHITESPACE"," ",233],["T_STRING","Zend_Mail_Storage_Exception",233],"(",["T_CONSTANT_ENCAPSED_STRING","'no valid filename given in params'",233],")",";",["T_WHITESPACE","\n        ",233],"}",["T_WHITESPACE","\n\n        ",234],["T_VARIABLE","$this",236],["T_OBJECT_OPERATOR","->",236],["T_STRING","_openMboxFile",236],"(",["T_VARIABLE","$params",236],["T_OBJECT_OPERATOR","->",236],["T_STRING","filename",236],")",";",["T_WHITESPACE","\n        ",236],["T_VARIABLE","$this",237],["T_OBJECT_OPERATOR","->",237],["T_STRING","_has",237],"[",["T_CONSTANT_ENCAPSED_STRING","'top'",237],"]",["T_WHITESPACE","      ",237],"=",["T_WHITESPACE"," ",237],["T_STRING","true",237],";",["T_WHITESPACE","\n        ",237],["T_VARIABLE","$this",238],["T_OBJECT_OPERATOR","->",238],["T_STRING","_has",238],"[",["T_CONSTANT_ENCAPSED_STRING","'uniqueid'",238],"]",["T_WHITESPACE"," ",238],"=",["T_WHITESPACE"," ",238],["T_STRING","false",238],";",["T_WHITESPACE","\n    ",238],"}",["T_WHITESPACE","\n\n    ",239],["T_DOC_COMMENT","\/**\n     * check if given file is a mbox file\n     *\n     * if $file is a resource its file pointer is moved after the first line\n     *\n     * @param  resource|string $file stream resource of name of file\n     * @param  bool $fileIsString file is string or resource\n     * @return bool file is mbox file\n     *\/",241],["T_WHITESPACE","\n    ",249],["T_PROTECTED","protected",250],["T_WHITESPACE"," ",250],["T_FUNCTION","function",250],["T_WHITESPACE"," ",250],["T_STRING","_isMboxFile",250],"(",["T_VARIABLE","$file",250],",",["T_WHITESPACE"," ",250],["T_VARIABLE","$fileIsString",250],["T_WHITESPACE"," ",250],"=",["T_WHITESPACE"," ",250],["T_STRING","true",250],")",["T_WHITESPACE","\n    ",250],"{",["T_WHITESPACE","\n        ",251],["T_IF","if",252],["T_WHITESPACE"," ",252],"(",["T_VARIABLE","$fileIsString",252],")",["T_WHITESPACE"," ",252],"{",["T_WHITESPACE","\n            ",252],["T_VARIABLE","$file",253],["T_WHITESPACE"," ",253],"=",["T_WHITESPACE"," ",253],"@",["T_STRING","fopen",253],"(",["T_VARIABLE","$file",253],",",["T_WHITESPACE"," ",253],["T_CONSTANT_ENCAPSED_STRING","'r'",253],")",";",["T_WHITESPACE","\n            ",253],["T_IF","if",254],["T_WHITESPACE"," ",254],"(","!",["T_VARIABLE","$file",254],")",["T_WHITESPACE"," ",254],"{",["T_WHITESPACE","\n                ",254],["T_RETURN","return",255],["T_WHITESPACE"," ",255],["T_STRING","false",255],";",["T_WHITESPACE","\n            ",255],"}",["T_WHITESPACE","\n        ",256],"}",["T_WHITESPACE"," ",257],["T_ELSE","else",257],["T_WHITESPACE"," ",257],"{",["T_WHITESPACE","\n            ",257],["T_STRING","fseek",258],"(",["T_VARIABLE","$file",258],",",["T_WHITESPACE"," ",258],["T_LNUMBER","0",258],")",";",["T_WHITESPACE","\n        ",258],"}",["T_WHITESPACE","\n\n        ",259],["T_VARIABLE","$result",261],["T_WHITESPACE"," ",261],"=",["T_WHITESPACE"," ",261],["T_STRING","false",261],";",["T_WHITESPACE","\n\n        ",261],["T_VARIABLE","$line",263],["T_WHITESPACE"," ",263],"=",["T_WHITESPACE"," ",263],["T_STRING","fgets",263],"(",["T_VARIABLE","$file",263],")",";",["T_WHITESPACE","\n        ",263],["T_IF","if",264],["T_WHITESPACE"," ",264],"(",["T_STRING","strpos",264],"(",["T_VARIABLE","$line",264],",",["T_WHITESPACE"," ",264],["T_CONSTANT_ENCAPSED_STRING","'From '",264],")",["T_WHITESPACE"," ",264],["T_IS_IDENTICAL","===",264],["T_WHITESPACE"," ",264],["T_LNUMBER","0",264],")",["T_WHITESPACE"," ",264],"{",["T_WHITESPACE","\n            ",264],["T_VARIABLE","$result",265],["T_WHITESPACE"," ",265],"=",["T_WHITESPACE"," ",265],["T_STRING","true",265],";",["T_WHITESPACE","\n        ",265],"}",["T_WHITESPACE","\n\n        ",266],["T_IF","if",268],["T_WHITESPACE"," ",268],"(",["T_VARIABLE","$fileIsString",268],")",["T_WHITESPACE"," ",268],"{",["T_WHITESPACE","\n            ",268],"@",["T_STRING","fclose",269],"(",["T_VARIABLE","$file",269],")",";",["T_WHITESPACE","\n        ",269],"}",["T_WHITESPACE","\n\n        ",270],["T_RETURN","return",272],["T_WHITESPACE"," ",272],["T_VARIABLE","$result",272],";",["T_WHITESPACE","\n    ",272],"}",["T_WHITESPACE","\n\n    ",273],["T_DOC_COMMENT","\/**\n     * open given file as current mbox file\n     *\n     * @param  string $filename filename of mbox file\n     * @return null\n     * @throws Zend_Mail_Storage_Exception\n     *\/",275],["T_WHITESPACE","\n    ",281],["T_PROTECTED","protected",282],["T_WHITESPACE"," ",282],["T_FUNCTION","function",282],["T_WHITESPACE"," ",282],["T_STRING","_openMboxFile",282],"(",["T_VARIABLE","$filename",282],")",["T_WHITESPACE","\n    ",282],"{",["T_WHITESPACE","\n        ",283],["T_IF","if",284],["T_WHITESPACE"," ",284],"(",["T_VARIABLE","$this",284],["T_OBJECT_OPERATOR","->",284],["T_STRING","_fh",284],")",["T_WHITESPACE"," ",284],"{",["T_WHITESPACE","\n            ",284],["T_VARIABLE","$this",285],["T_OBJECT_OPERATOR","->",285],["T_STRING","close",285],"(",")",";",["T_WHITESPACE","\n        ",285],"}",["T_WHITESPACE","\n\n        ",286],["T_VARIABLE","$this",288],["T_OBJECT_OPERATOR","->",288],["T_STRING","_fh",288],["T_WHITESPACE"," ",288],"=",["T_WHITESPACE"," ",288],"@",["T_STRING","fopen",288],"(",["T_VARIABLE","$filename",288],",",["T_WHITESPACE"," ",288],["T_CONSTANT_ENCAPSED_STRING","'r'",288],")",";",["T_WHITESPACE","\n        ",288],["T_IF","if",289],["T_WHITESPACE"," ",289],"(","!",["T_VARIABLE","$this",289],["T_OBJECT_OPERATOR","->",289],["T_STRING","_fh",289],")",["T_WHITESPACE"," ",289],"{",["T_WHITESPACE","\n            ",289],["T_DOC_COMMENT","\/**\n             * @see Zend_Mail_Storage_Exception\n             *\/",290],["T_WHITESPACE","\n            ",292],["T_COMMENT","#require_once 'Zend\/Mail\/Storage\/Exception.php';\n",293],["T_WHITESPACE","            ",294],["T_THROW","throw",294],["T_WHITESPACE"," ",294],["T_NEW","new",294],["T_WHITESPACE"," ",294],["T_STRING","Zend_Mail_Storage_Exception",294],"(",["T_CONSTANT_ENCAPSED_STRING","'cannot open mbox file'",294],")",";",["T_WHITESPACE","\n        ",294],"}",["T_WHITESPACE","\n        ",295],["T_VARIABLE","$this",296],["T_OBJECT_OPERATOR","->",296],["T_STRING","_filename",296],["T_WHITESPACE"," ",296],"=",["T_WHITESPACE"," ",296],["T_VARIABLE","$filename",296],";",["T_WHITESPACE","\n        ",296],["T_VARIABLE","$this",297],["T_OBJECT_OPERATOR","->",297],["T_STRING","_filemtime",297],["T_WHITESPACE"," ",297],"=",["T_WHITESPACE"," ",297],["T_STRING","filemtime",297],"(",["T_VARIABLE","$this",297],["T_OBJECT_OPERATOR","->",297],["T_STRING","_filename",297],")",";",["T_WHITESPACE","\n\n        ",297],["T_IF","if",299],["T_WHITESPACE"," ",299],"(","!",["T_VARIABLE","$this",299],["T_OBJECT_OPERATOR","->",299],["T_STRING","_isMboxFile",299],"(",["T_VARIABLE","$this",299],["T_OBJECT_OPERATOR","->",299],["T_STRING","_fh",299],",",["T_WHITESPACE"," ",299],["T_STRING","false",299],")",")",["T_WHITESPACE"," ",299],"{",["T_WHITESPACE","\n            ",299],"@",["T_STRING","fclose",300],"(",["T_VARIABLE","$this",300],["T_OBJECT_OPERATOR","->",300],["T_STRING","_fh",300],")",";",["T_WHITESPACE","\n            ",300],["T_DOC_COMMENT","\/**\n             * @see Zend_Mail_Storage_Exception\n             *\/",301],["T_WHITESPACE","\n            ",303],["T_COMMENT","#require_once 'Zend\/Mail\/Storage\/Exception.php';\n",304],["T_WHITESPACE","            ",305],["T_THROW","throw",305],["T_WHITESPACE"," ",305],["T_NEW","new",305],["T_WHITESPACE"," ",305],["T_STRING","Zend_Mail_Storage_Exception",305],"(",["T_CONSTANT_ENCAPSED_STRING","'file is not a valid mbox format'",305],")",";",["T_WHITESPACE","\n        ",305],"}",["T_WHITESPACE","\n\n        ",306],["T_VARIABLE","$messagePos",308],["T_WHITESPACE"," ",308],"=",["T_WHITESPACE"," ",308],["T_ARRAY","array",308],"(",["T_CONSTANT_ENCAPSED_STRING","'start'",308],["T_WHITESPACE"," ",308],["T_DOUBLE_ARROW","=>",308],["T_WHITESPACE"," ",308],["T_STRING","ftell",308],"(",["T_VARIABLE","$this",308],["T_OBJECT_OPERATOR","->",308],["T_STRING","_fh",308],")",",",["T_WHITESPACE"," ",308],["T_CONSTANT_ENCAPSED_STRING","'separator'",308],["T_WHITESPACE"," ",308],["T_DOUBLE_ARROW","=>",308],["T_WHITESPACE"," ",308],["T_LNUMBER","0",308],",",["T_WHITESPACE"," ",308],["T_CONSTANT_ENCAPSED_STRING","'end'",308],["T_WHITESPACE"," ",308],["T_DOUBLE_ARROW","=>",308],["T_WHITESPACE"," ",308],["T_LNUMBER","0",308],")",";",["T_WHITESPACE","\n        ",308],["T_WHILE","while",309],["T_WHITESPACE"," ",309],"(","(",["T_VARIABLE","$line",309],["T_WHITESPACE"," ",309],"=",["T_WHITESPACE"," ",309],["T_STRING","fgets",309],"(",["T_VARIABLE","$this",309],["T_OBJECT_OPERATOR","->",309],["T_STRING","_fh",309],")",")",["T_WHITESPACE"," ",309],["T_IS_NOT_IDENTICAL","!==",309],["T_WHITESPACE"," ",309],["T_STRING","false",309],")",["T_WHITESPACE"," ",309],"{",["T_WHITESPACE","\n            ",309],["T_IF","if",310],["T_WHITESPACE"," ",310],"(",["T_STRING","strpos",310],"(",["T_VARIABLE","$line",310],",",["T_WHITESPACE"," ",310],["T_CONSTANT_ENCAPSED_STRING","'From '",310],")",["T_WHITESPACE"," ",310],["T_IS_IDENTICAL","===",310],["T_WHITESPACE"," ",310],["T_LNUMBER","0",310],")",["T_WHITESPACE"," ",310],"{",["T_WHITESPACE","\n                ",310],["T_VARIABLE","$messagePos",311],"[",["T_CONSTANT_ENCAPSED_STRING","'end'",311],"]",["T_WHITESPACE"," ",311],"=",["T_WHITESPACE"," ",311],["T_STRING","ftell",311],"(",["T_VARIABLE","$this",311],["T_OBJECT_OPERATOR","->",311],["T_STRING","_fh",311],")",["T_WHITESPACE"," ",311],"-",["T_WHITESPACE"," ",311],["T_STRING","strlen",311],"(",["T_VARIABLE","$line",311],")",["T_WHITESPACE"," ",311],"-",["T_WHITESPACE"," ",311],["T_LNUMBER","2",311],";",["T_WHITESPACE"," ",311],["T_COMMENT","\/\/ + newline\n",311],["T_WHITESPACE","                ",312],["T_IF","if",312],["T_WHITESPACE"," ",312],"(","!",["T_VARIABLE","$messagePos",312],"[",["T_CONSTANT_ENCAPSED_STRING","'separator'",312],"]",")",["T_WHITESPACE"," ",312],"{",["T_WHITESPACE","\n                    ",312],["T_VARIABLE","$messagePos",313],"[",["T_CONSTANT_ENCAPSED_STRING","'separator'",313],"]",["T_WHITESPACE"," ",313],"=",["T_WHITESPACE"," ",313],["T_VARIABLE","$messagePos",313],"[",["T_CONSTANT_ENCAPSED_STRING","'end'",313],"]",";",["T_WHITESPACE","\n                ",313],"}",["T_WHITESPACE","\n                ",314],["T_VARIABLE","$this",315],["T_OBJECT_OPERATOR","->",315],["T_STRING","_positions",315],"[","]",["T_WHITESPACE"," ",315],"=",["T_WHITESPACE"," ",315],["T_VARIABLE","$messagePos",315],";",["T_WHITESPACE","\n                ",315],["T_VARIABLE","$messagePos",316],["T_WHITESPACE"," ",316],"=",["T_WHITESPACE"," ",316],["T_ARRAY","array",316],"(",["T_CONSTANT_ENCAPSED_STRING","'start'",316],["T_WHITESPACE"," ",316],["T_DOUBLE_ARROW","=>",316],["T_WHITESPACE"," ",316],["T_STRING","ftell",316],"(",["T_VARIABLE","$this",316],["T_OBJECT_OPERATOR","->",316],["T_STRING","_fh",316],")",",",["T_WHITESPACE"," ",316],["T_CONSTANT_ENCAPSED_STRING","'separator'",316],["T_WHITESPACE"," ",316],["T_DOUBLE_ARROW","=>",316],["T_WHITESPACE"," ",316],["T_LNUMBER","0",316],",",["T_WHITESPACE"," ",316],["T_CONSTANT_ENCAPSED_STRING","'end'",316],["T_WHITESPACE"," ",316],["T_DOUBLE_ARROW","=>",316],["T_WHITESPACE"," ",316],["T_LNUMBER","0",316],")",";",["T_WHITESPACE","\n            ",316],"}",["T_WHITESPACE","\n            ",317],["T_IF","if",318],["T_WHITESPACE"," ",318],"(","!",["T_VARIABLE","$messagePos",318],"[",["T_CONSTANT_ENCAPSED_STRING","'separator'",318],"]",["T_WHITESPACE"," ",318],["T_BOOLEAN_AND","&&",318],["T_WHITESPACE"," ",318],"!",["T_STRING","trim",318],"(",["T_VARIABLE","$line",318],")",")",["T_WHITESPACE"," ",318],"{",["T_WHITESPACE","\n                ",318],["T_VARIABLE","$messagePos",319],"[",["T_CONSTANT_ENCAPSED_STRING","'separator'",319],"]",["T_WHITESPACE"," ",319],"=",["T_WHITESPACE"," ",319],["T_STRING","ftell",319],"(",["T_VARIABLE","$this",319],["T_OBJECT_OPERATOR","->",319],["T_STRING","_fh",319],")",";",["T_WHITESPACE","\n            ",319],"}",["T_WHITESPACE","\n        ",320],"}",["T_WHITESPACE","\n\n        ",321],["T_VARIABLE","$messagePos",323],"[",["T_CONSTANT_ENCAPSED_STRING","'end'",323],"]",["T_WHITESPACE"," ",323],"=",["T_WHITESPACE"," ",323],["T_STRING","ftell",323],"(",["T_VARIABLE","$this",323],["T_OBJECT_OPERATOR","->",323],["T_STRING","_fh",323],")",";",["T_WHITESPACE","\n        ",323],["T_IF","if",324],["T_WHITESPACE"," ",324],"(","!",["T_VARIABLE","$messagePos",324],"[",["T_CONSTANT_ENCAPSED_STRING","'separator'",324],"]",")",["T_WHITESPACE"," ",324],"{",["T_WHITESPACE","\n            ",324],["T_VARIABLE","$messagePos",325],"[",["T_CONSTANT_ENCAPSED_STRING","'separator'",325],"]",["T_WHITESPACE"," ",325],"=",["T_WHITESPACE"," ",325],["T_VARIABLE","$messagePos",325],"[",["T_CONSTANT_ENCAPSED_STRING","'end'",325],"]",";",["T_WHITESPACE","\n        ",325],"}",["T_WHITESPACE","\n        ",326],["T_VARIABLE","$this",327],["T_OBJECT_OPERATOR","->",327],["T_STRING","_positions",327],"[","]",["T_WHITESPACE"," ",327],"=",["T_WHITESPACE"," ",327],["T_VARIABLE","$messagePos",327],";",["T_WHITESPACE","\n    ",327],"}",["T_WHITESPACE","\n\n    ",328],["T_DOC_COMMENT","\/**\n     * Close resource for mail lib. If you need to control, when the resource\n     * is closed. Otherwise the destructor would call this.\n     *\n     * @return void\n     *\/",330],["T_WHITESPACE","\n    ",335],["T_PUBLIC","public",336],["T_WHITESPACE"," ",336],["T_FUNCTION","function",336],["T_WHITESPACE"," ",336],["T_STRING","close",336],"(",")",["T_WHITESPACE","\n    ",336],"{",["T_WHITESPACE","\n        ",337],"@",["T_STRING","fclose",338],"(",["T_VARIABLE","$this",338],["T_OBJECT_OPERATOR","->",338],["T_STRING","_fh",338],")",";",["T_WHITESPACE","\n        ",338],["T_VARIABLE","$this",339],["T_OBJECT_OPERATOR","->",339],["T_STRING","_positions",339],["T_WHITESPACE"," ",339],"=",["T_WHITESPACE"," ",339],["T_ARRAY","array",339],"(",")",";",["T_WHITESPACE","\n    ",339],"}",["T_WHITESPACE","\n\n\n    ",340],["T_DOC_COMMENT","\/**\n     * Waste some CPU cycles doing nothing.\n     *\n     * @return void\n     *\/",343],["T_WHITESPACE","\n    ",347],["T_PUBLIC","public",348],["T_WHITESPACE"," ",348],["T_FUNCTION","function",348],["T_WHITESPACE"," ",348],["T_STRING","noop",348],"(",")",["T_WHITESPACE","\n    ",348],"{",["T_WHITESPACE","\n        ",349],["T_RETURN","return",350],["T_WHITESPACE"," ",350],["T_STRING","true",350],";",["T_WHITESPACE","\n    ",350],"}",["T_WHITESPACE","\n\n\n    ",351],["T_DOC_COMMENT","\/**\n     * stub for not supported message deletion\n     *\n     * @return null\n     * @throws Zend_Mail_Storage_Exception\n     *\/",354],["T_WHITESPACE","\n    ",359],["T_PUBLIC","public",360],["T_WHITESPACE"," ",360],["T_FUNCTION","function",360],["T_WHITESPACE"," ",360],["T_STRING","removeMessage",360],"(",["T_VARIABLE","$id",360],")",["T_WHITESPACE","\n    ",360],"{",["T_WHITESPACE","\n        ",361],["T_DOC_COMMENT","\/**\n         * @see Zend_Mail_Storage_Exception\n         *\/",362],["T_WHITESPACE","\n        ",364],["T_COMMENT","#require_once 'Zend\/Mail\/Storage\/Exception.php';\n",365],["T_WHITESPACE","        ",366],["T_THROW","throw",366],["T_WHITESPACE"," ",366],["T_NEW","new",366],["T_WHITESPACE"," ",366],["T_STRING","Zend_Mail_Storage_Exception",366],"(",["T_CONSTANT_ENCAPSED_STRING","'mbox is read-only'",366],")",";",["T_WHITESPACE","\n    ",366],"}",["T_WHITESPACE","\n\n    ",367],["T_DOC_COMMENT","\/**\n     * get unique id for one or all messages\n     *\n     * Mbox does not support unique ids (yet) - it's always the same as the message number.\n     * That shouldn't be a problem, because we can't change mbox files. Therefor the message\n     * number is save enough.\n     *\n     * @param int|null $id message number\n     * @return array|string message number for given message or all messages as array\n     * @throws Zend_Mail_Storage_Exception\n     *\/",369],["T_WHITESPACE","\n    ",379],["T_PUBLIC","public",380],["T_WHITESPACE"," ",380],["T_FUNCTION","function",380],["T_WHITESPACE"," ",380],["T_STRING","getUniqueId",380],"(",["T_VARIABLE","$id",380],["T_WHITESPACE"," ",380],"=",["T_WHITESPACE"," ",380],["T_STRING","null",380],")",["T_WHITESPACE","\n    ",380],"{",["T_WHITESPACE","\n        ",381],["T_IF","if",382],["T_WHITESPACE"," ",382],"(",["T_VARIABLE","$id",382],")",["T_WHITESPACE"," ",382],"{",["T_WHITESPACE","\n            ",382],["T_COMMENT","\/\/ check if id exists\n",383],["T_WHITESPACE","            ",384],["T_VARIABLE","$this",384],["T_OBJECT_OPERATOR","->",384],["T_STRING","_getPos",384],"(",["T_VARIABLE","$id",384],")",";",["T_WHITESPACE","\n            ",384],["T_RETURN","return",385],["T_WHITESPACE"," ",385],["T_VARIABLE","$id",385],";",["T_WHITESPACE","\n        ",385],"}",["T_WHITESPACE","\n\n        ",386],["T_VARIABLE","$range",388],["T_WHITESPACE"," ",388],"=",["T_WHITESPACE"," ",388],["T_STRING","range",388],"(",["T_LNUMBER","1",388],",",["T_WHITESPACE"," ",388],["T_VARIABLE","$this",388],["T_OBJECT_OPERATOR","->",388],["T_STRING","countMessages",388],"(",")",")",";",["T_WHITESPACE","\n        ",388],["T_RETURN","return",389],["T_WHITESPACE"," ",389],["T_STRING","array_combine",389],"(",["T_VARIABLE","$range",389],",",["T_WHITESPACE"," ",389],["T_VARIABLE","$range",389],")",";",["T_WHITESPACE","\n    ",389],"}",["T_WHITESPACE","\n\n    ",390],["T_DOC_COMMENT","\/**\n     * get a message number from a unique id\n     *\n     * I.e. if you have a webmailer that supports deleting messages you should use unique ids\n     * as parameter and use this method to translate it to message number right before calling removeMessage()\n     *\n     * @param string $id unique id\n     * @return int message number\n     * @throws Zend_Mail_Storage_Exception\n     *\/",392],["T_WHITESPACE","\n    ",401],["T_PUBLIC","public",402],["T_WHITESPACE"," ",402],["T_FUNCTION","function",402],["T_WHITESPACE"," ",402],["T_STRING","getNumberByUniqueId",402],"(",["T_VARIABLE","$id",402],")",["T_WHITESPACE","\n    ",402],"{",["T_WHITESPACE","\n        ",403],["T_COMMENT","\/\/ check if id exists\n",404],["T_WHITESPACE","        ",405],["T_VARIABLE","$this",405],["T_OBJECT_OPERATOR","->",405],["T_STRING","_getPos",405],"(",["T_VARIABLE","$id",405],")",";",["T_WHITESPACE","\n        ",405],["T_RETURN","return",406],["T_WHITESPACE"," ",406],["T_VARIABLE","$id",406],";",["T_WHITESPACE","\n    ",406],"}",["T_WHITESPACE","\n\n    ",407],["T_DOC_COMMENT","\/**\n     * magic method for serialize()\n     *\n     * with this method you can cache the mbox class\n     *\n     * @return array name of variables\n     *\/",409],["T_WHITESPACE","\n    ",415],["T_PUBLIC","public",416],["T_WHITESPACE"," ",416],["T_FUNCTION","function",416],["T_WHITESPACE"," ",416],["T_STRING","__sleep",416],"(",")",["T_WHITESPACE","\n    ",416],"{",["T_WHITESPACE","\n        ",417],["T_RETURN","return",418],["T_WHITESPACE"," ",418],["T_ARRAY","array",418],"(",["T_CONSTANT_ENCAPSED_STRING","'_filename'",418],",",["T_WHITESPACE"," ",418],["T_CONSTANT_ENCAPSED_STRING","'_positions'",418],",",["T_WHITESPACE"," ",418],["T_CONSTANT_ENCAPSED_STRING","'_filemtime'",418],")",";",["T_WHITESPACE","\n    ",418],"}",["T_WHITESPACE","\n\n    ",419],["T_DOC_COMMENT","\/**\n     * magic method for unserialize()\n     *\n     * with this method you can cache the mbox class\n     * for cache validation the mtime of the mbox file is used\n     *\n     * @return null\n     * @throws Zend_Mail_Storage_Exception\n     *\/",421],["T_WHITESPACE","\n    ",429],["T_PUBLIC","public",430],["T_WHITESPACE"," ",430],["T_FUNCTION","function",430],["T_WHITESPACE"," ",430],["T_STRING","__wakeup",430],"(",")",["T_WHITESPACE","\n    ",430],"{",["T_WHITESPACE","\n        ",431],["T_IF","if",432],["T_WHITESPACE"," ",432],"(",["T_VARIABLE","$this",432],["T_OBJECT_OPERATOR","->",432],["T_STRING","_filemtime",432],["T_WHITESPACE"," ",432],["T_IS_NOT_EQUAL","!=",432],["T_WHITESPACE"," ",432],"@",["T_STRING","filemtime",432],"(",["T_VARIABLE","$this",432],["T_OBJECT_OPERATOR","->",432],["T_STRING","_filename",432],")",")",["T_WHITESPACE"," ",432],"{",["T_WHITESPACE","\n            ",432],["T_VARIABLE","$this",433],["T_OBJECT_OPERATOR","->",433],["T_STRING","close",433],"(",")",";",["T_WHITESPACE","\n            ",433],["T_VARIABLE","$this",434],["T_OBJECT_OPERATOR","->",434],["T_STRING","_openMboxFile",434],"(",["T_VARIABLE","$this",434],["T_OBJECT_OPERATOR","->",434],["T_STRING","_filename",434],")",";",["T_WHITESPACE","\n        ",434],"}",["T_WHITESPACE"," ",435],["T_ELSE","else",435],["T_WHITESPACE"," ",435],"{",["T_WHITESPACE","\n            ",435],["T_VARIABLE","$this",436],["T_OBJECT_OPERATOR","->",436],["T_STRING","_fh",436],["T_WHITESPACE"," ",436],"=",["T_WHITESPACE"," ",436],"@",["T_STRING","fopen",436],"(",["T_VARIABLE","$this",436],["T_OBJECT_OPERATOR","->",436],["T_STRING","_filename",436],",",["T_WHITESPACE"," ",436],["T_CONSTANT_ENCAPSED_STRING","'r'",436],")",";",["T_WHITESPACE","\n            ",436],["T_IF","if",437],["T_WHITESPACE"," ",437],"(","!",["T_VARIABLE","$this",437],["T_OBJECT_OPERATOR","->",437],["T_STRING","_fh",437],")",["T_WHITESPACE"," ",437],"{",["T_WHITESPACE","\n                ",437],["T_DOC_COMMENT","\/**\n                 * @see Zend_Mail_Storage_Exception\n                 *\/",438],["T_WHITESPACE","\n                ",440],["T_COMMENT","#require_once 'Zend\/Mail\/Storage\/Exception.php';\n",441],["T_WHITESPACE","                ",442],["T_THROW","throw",442],["T_WHITESPACE"," ",442],["T_NEW","new",442],["T_WHITESPACE"," ",442],["T_STRING","Zend_Mail_Storage_Exception",442],"(",["T_CONSTANT_ENCAPSED_STRING","'cannot open mbox file'",442],")",";",["T_WHITESPACE","\n            ",442],"}",["T_WHITESPACE","\n        ",443],"}",["T_WHITESPACE","\n    ",444],"}",["T_WHITESPACE","\n\n",445],"}",["T_WHITESPACE","\n",447]]