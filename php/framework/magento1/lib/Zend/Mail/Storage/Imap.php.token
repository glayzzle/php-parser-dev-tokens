[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Zend Framework\n *\n * LICENSE\n *\n * This source file is subject to the new BSD license that is bundled\n * with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/framework.zend.com\/license\/new-bsd\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@zend.com so we can send you a copy immediately.\n *\n * @category   Zend\n * @package    Zend_Mail\n * @subpackage Storage\n * @copyright  Copyright (c) 2005-2015 Zend Technologies USA Inc. (http:\/\/www.zend.com)\n * @license    http:\/\/framework.zend.com\/license\/new-bsd     New BSD License\n * @version    $Id$\n *\/",2],["T_WHITESPACE","\n\n\n",21],["T_DOC_COMMENT","\/**\n * @see Zend_Mail_Storage_Abstract\n *\/",24],["T_WHITESPACE","\n",26],["T_COMMENT","#require_once 'Zend\/Mail\/Storage\/Abstract.php';\n",27],["T_WHITESPACE","\n",28],["T_DOC_COMMENT","\/**\n * @see Zend_Mail_Protocol_Imap\n *\/",29],["T_WHITESPACE","\n",31],["T_COMMENT","#require_once 'Zend\/Mail\/Protocol\/Imap.php';\n",32],["T_WHITESPACE","\n",33],["T_DOC_COMMENT","\/**\n * @see Zend_Mail_Storage_Writable_Interface\n *\/",34],["T_WHITESPACE","\n",36],["T_COMMENT","#require_once 'Zend\/Mail\/Storage\/Writable\/Interface.php';\n",37],["T_WHITESPACE","\n",38],["T_DOC_COMMENT","\/**\n * @see Zend_Mail_Storage_Folder_Interface\n *\/",39],["T_WHITESPACE","\n",41],["T_COMMENT","#require_once 'Zend\/Mail\/Storage\/Folder\/Interface.php';\n",42],["T_WHITESPACE","\n",43],["T_DOC_COMMENT","\/**\n * @see Zend_Mail_Storage_Folder\n *\/",44],["T_WHITESPACE","\n",46],["T_COMMENT","#require_once 'Zend\/Mail\/Storage\/Folder.php';\n",47],["T_WHITESPACE","\n",48],["T_DOC_COMMENT","\/**\n * @see Zend_Mail_Message\n *\/",49],["T_WHITESPACE","\n",51],["T_COMMENT","#require_once 'Zend\/Mail\/Message.php';\n",52],["T_WHITESPACE","\n",53],["T_DOC_COMMENT","\/**\n * @see Zend_Mail_Storage\n *\/",54],["T_WHITESPACE","\n",56],["T_COMMENT","#require_once 'Zend\/Mail\/Storage.php';\n",57],["T_WHITESPACE","\n",58],["T_DOC_COMMENT","\/**\n * @category   Zend\n * @package    Zend_Mail\n * @subpackage Storage\n * @copyright  Copyright (c) 2005-2015 Zend Technologies USA Inc. (http:\/\/www.zend.com)\n * @license    http:\/\/framework.zend.com\/license\/new-bsd     New BSD License\n *\/",59],["T_WHITESPACE","\n",65],["T_CLASS","class",66],["T_WHITESPACE"," ",66],["T_STRING","Zend_Mail_Storage_Imap",66],["T_WHITESPACE"," ",66],["T_EXTENDS","extends",66],["T_WHITESPACE"," ",66],["T_STRING","Zend_Mail_Storage_Abstract",66],["T_WHITESPACE","\n                             ",66],["T_IMPLEMENTS","implements",67],["T_WHITESPACE"," ",67],["T_STRING","Zend_Mail_Storage_Folder_Interface",67],",",["T_WHITESPACE"," ",67],["T_STRING","Zend_Mail_Storage_Writable_Interface",67],["T_WHITESPACE","\n",67],"{",["T_WHITESPACE","\n    ",68],["T_COMMENT","\/\/ TODO: with an internal cache we could optimize this class, or create an extra class with\n",69],["T_WHITESPACE","    ",70],["T_COMMENT","\/\/ such optimizations. Especially the various fetch calls could be combined to one cache call\n",70],["T_WHITESPACE","\n    ",71],["T_DOC_COMMENT","\/**\n     * protocol handler\n     * @var null|Zend_Mail_Protocol_Imap\n     *\/",72],["T_WHITESPACE","\n    ",75],["T_PROTECTED","protected",76],["T_WHITESPACE"," ",76],["T_VARIABLE","$_protocol",76],";",["T_WHITESPACE","\n\n    ",76],["T_DOC_COMMENT","\/**\n     * name of current folder\n     * @var string\n     *\/",78],["T_WHITESPACE","\n    ",81],["T_PROTECTED","protected",82],["T_WHITESPACE"," ",82],["T_VARIABLE","$_currentFolder",82],["T_WHITESPACE"," ",82],"=",["T_WHITESPACE"," ",82],["T_CONSTANT_ENCAPSED_STRING","''",82],";",["T_WHITESPACE","\n\n    ",82],["T_DOC_COMMENT","\/**\n     * imap flags to constants translation\n     * @var array\n     *\/",84],["T_WHITESPACE","\n    ",87],["T_PROTECTED","protected",88],["T_WHITESPACE"," ",88],["T_STATIC","static",88],["T_WHITESPACE"," ",88],["T_VARIABLE","$_knownFlags",88],["T_WHITESPACE"," ",88],"=",["T_WHITESPACE"," ",88],["T_ARRAY","array",88],"(",["T_CONSTANT_ENCAPSED_STRING","'\\Passed'",88],["T_WHITESPACE","   ",88],["T_DOUBLE_ARROW","=>",88],["T_WHITESPACE"," ",88],["T_STRING","Zend_Mail_Storage",88],["T_DOUBLE_COLON","::",88],["T_STRING","FLAG_PASSED",88],",",["T_WHITESPACE","\n                                          ",88],["T_CONSTANT_ENCAPSED_STRING","'\\Answered'",89],["T_WHITESPACE"," ",89],["T_DOUBLE_ARROW","=>",89],["T_WHITESPACE"," ",89],["T_STRING","Zend_Mail_Storage",89],["T_DOUBLE_COLON","::",89],["T_STRING","FLAG_ANSWERED",89],",",["T_WHITESPACE","\n                                          ",89],["T_CONSTANT_ENCAPSED_STRING","'\\Seen'",90],["T_WHITESPACE","     ",90],["T_DOUBLE_ARROW","=>",90],["T_WHITESPACE"," ",90],["T_STRING","Zend_Mail_Storage",90],["T_DOUBLE_COLON","::",90],["T_STRING","FLAG_SEEN",90],",",["T_WHITESPACE","\n                                          ",90],["T_CONSTANT_ENCAPSED_STRING","'\\Unseen'",91],["T_WHITESPACE","   ",91],["T_DOUBLE_ARROW","=>",91],["T_WHITESPACE"," ",91],["T_STRING","Zend_Mail_Storage",91],["T_DOUBLE_COLON","::",91],["T_STRING","FLAG_UNSEEN",91],",",["T_WHITESPACE","\n                                          ",91],["T_CONSTANT_ENCAPSED_STRING","'\\Deleted'",92],["T_WHITESPACE","  ",92],["T_DOUBLE_ARROW","=>",92],["T_WHITESPACE"," ",92],["T_STRING","Zend_Mail_Storage",92],["T_DOUBLE_COLON","::",92],["T_STRING","FLAG_DELETED",92],",",["T_WHITESPACE","\n                                          ",92],["T_CONSTANT_ENCAPSED_STRING","'\\Draft'",93],["T_WHITESPACE","    ",93],["T_DOUBLE_ARROW","=>",93],["T_WHITESPACE"," ",93],["T_STRING","Zend_Mail_Storage",93],["T_DOUBLE_COLON","::",93],["T_STRING","FLAG_DRAFT",93],",",["T_WHITESPACE","\n                                          ",93],["T_CONSTANT_ENCAPSED_STRING","'\\Flagged'",94],["T_WHITESPACE","  ",94],["T_DOUBLE_ARROW","=>",94],["T_WHITESPACE"," ",94],["T_STRING","Zend_Mail_Storage",94],["T_DOUBLE_COLON","::",94],["T_STRING","FLAG_FLAGGED",94],")",";",["T_WHITESPACE","\n\n    ",94],["T_DOC_COMMENT","\/**\n     * map flags to search criterias\n     * @var array\n     *\/",96],["T_WHITESPACE","\n    ",99],["T_PROTECTED","protected",100],["T_WHITESPACE"," ",100],["T_STATIC","static",100],["T_WHITESPACE"," ",100],["T_VARIABLE","$_searchFlags",100],["T_WHITESPACE"," ",100],"=",["T_WHITESPACE"," ",100],["T_ARRAY","array",100],"(",["T_CONSTANT_ENCAPSED_STRING","'\\Recent'",100],["T_WHITESPACE","   ",100],["T_DOUBLE_ARROW","=>",100],["T_WHITESPACE"," ",100],["T_CONSTANT_ENCAPSED_STRING","'RECENT'",100],",",["T_WHITESPACE","\n                                           ",100],["T_CONSTANT_ENCAPSED_STRING","'\\Answered'",101],["T_WHITESPACE"," ",101],["T_DOUBLE_ARROW","=>",101],["T_WHITESPACE"," ",101],["T_CONSTANT_ENCAPSED_STRING","'ANSWERED'",101],",",["T_WHITESPACE","\n                                           ",101],["T_CONSTANT_ENCAPSED_STRING","'\\Seen'",102],["T_WHITESPACE","     ",102],["T_DOUBLE_ARROW","=>",102],["T_WHITESPACE"," ",102],["T_CONSTANT_ENCAPSED_STRING","'SEEN'",102],",",["T_WHITESPACE","\n                                           ",102],["T_CONSTANT_ENCAPSED_STRING","'\\Unseen'",103],["T_WHITESPACE","   ",103],["T_DOUBLE_ARROW","=>",103],["T_WHITESPACE"," ",103],["T_CONSTANT_ENCAPSED_STRING","'UNSEEN'",103],",",["T_WHITESPACE","\n                                           ",103],["T_CONSTANT_ENCAPSED_STRING","'\\Deleted'",104],["T_WHITESPACE","  ",104],["T_DOUBLE_ARROW","=>",104],["T_WHITESPACE"," ",104],["T_CONSTANT_ENCAPSED_STRING","'DELETED'",104],",",["T_WHITESPACE","\n                                           ",104],["T_CONSTANT_ENCAPSED_STRING","'\\Draft'",105],["T_WHITESPACE","    ",105],["T_DOUBLE_ARROW","=>",105],["T_WHITESPACE"," ",105],["T_CONSTANT_ENCAPSED_STRING","'DRAFT'",105],",",["T_WHITESPACE","\n                                           ",105],["T_CONSTANT_ENCAPSED_STRING","'\\Flagged'",106],["T_WHITESPACE","  ",106],["T_DOUBLE_ARROW","=>",106],["T_WHITESPACE"," ",106],["T_CONSTANT_ENCAPSED_STRING","'FLAGGED'",106],")",";",["T_WHITESPACE","\n\n    ",106],["T_DOC_COMMENT","\/**\n     * Count messages all messages in current box\n     *\n     * @return int number of messages\n     * @throws Zend_Mail_Storage_Exception\n     * @throws Zend_Mail_Protocol_Exception\n     *\/",108],["T_WHITESPACE","\n    ",114],["T_PUBLIC","public",115],["T_WHITESPACE"," ",115],["T_FUNCTION","function",115],["T_WHITESPACE"," ",115],["T_STRING","countMessages",115],"(",["T_VARIABLE","$flags",115],["T_WHITESPACE"," ",115],"=",["T_WHITESPACE"," ",115],["T_STRING","null",115],")",["T_WHITESPACE","\n    ",115],"{",["T_WHITESPACE","\n        ",116],["T_IF","if",117],["T_WHITESPACE"," ",117],"(","!",["T_VARIABLE","$this",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","_currentFolder",117],")",["T_WHITESPACE"," ",117],"{",["T_WHITESPACE","\n            ",117],["T_DOC_COMMENT","\/**\n             * @see Zend_Mail_Storage_Exception\n             *\/",118],["T_WHITESPACE","\n            ",120],["T_COMMENT","#require_once 'Zend\/Mail\/Storage\/Exception.php';\n",121],["T_WHITESPACE","            ",122],["T_THROW","throw",122],["T_WHITESPACE"," ",122],["T_NEW","new",122],["T_WHITESPACE"," ",122],["T_STRING","Zend_Mail_Storage_Exception",122],"(",["T_CONSTANT_ENCAPSED_STRING","'No selected folder to count'",122],")",";",["T_WHITESPACE","\n        ",122],"}",["T_WHITESPACE","\n\n        ",123],["T_IF","if",125],["T_WHITESPACE"," ",125],"(",["T_VARIABLE","$flags",125],["T_WHITESPACE"," ",125],["T_IS_IDENTICAL","===",125],["T_WHITESPACE"," ",125],["T_STRING","null",125],")",["T_WHITESPACE"," ",125],"{",["T_WHITESPACE","\n            ",125],["T_RETURN","return",126],["T_WHITESPACE"," ",126],["T_STRING","count",126],"(",["T_VARIABLE","$this",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","_protocol",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","search",126],"(",["T_ARRAY","array",126],"(",["T_CONSTANT_ENCAPSED_STRING","'ALL'",126],")",")",")",";",["T_WHITESPACE","\n        ",126],"}",["T_WHITESPACE","\n\n        ",127],["T_VARIABLE","$params",129],["T_WHITESPACE"," ",129],"=",["T_WHITESPACE"," ",129],["T_ARRAY","array",129],"(",")",";",["T_WHITESPACE","\n        ",129],["T_FOREACH","foreach",130],["T_WHITESPACE"," ",130],"(",["T_ARRAY_CAST","(array)",130],["T_VARIABLE","$flags",130],["T_WHITESPACE"," ",130],["T_AS","as",130],["T_WHITESPACE"," ",130],["T_VARIABLE","$flag",130],")",["T_WHITESPACE"," ",130],"{",["T_WHITESPACE","\n            ",130],["T_IF","if",131],["T_WHITESPACE"," ",131],"(",["T_ISSET","isset",131],"(",["T_STRING","self",131],["T_DOUBLE_COLON","::",131],["T_VARIABLE","$_searchFlags",131],"[",["T_VARIABLE","$flag",131],"]",")",")",["T_WHITESPACE"," ",131],"{",["T_WHITESPACE","\n                ",131],["T_VARIABLE","$params",132],"[","]",["T_WHITESPACE"," ",132],"=",["T_WHITESPACE"," ",132],["T_STRING","self",132],["T_DOUBLE_COLON","::",132],["T_VARIABLE","$_searchFlags",132],"[",["T_VARIABLE","$flag",132],"]",";",["T_WHITESPACE","\n            ",132],"}",["T_WHITESPACE"," ",133],["T_ELSE","else",133],["T_WHITESPACE"," ",133],"{",["T_WHITESPACE","\n                ",133],["T_VARIABLE","$params",134],"[","]",["T_WHITESPACE"," ",134],"=",["T_WHITESPACE"," ",134],["T_CONSTANT_ENCAPSED_STRING","'KEYWORD'",134],";",["T_WHITESPACE","\n                ",134],["T_VARIABLE","$params",135],"[","]",["T_WHITESPACE"," ",135],"=",["T_WHITESPACE"," ",135],["T_VARIABLE","$this",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","_protocol",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","escapeString",135],"(",["T_VARIABLE","$flag",135],")",";",["T_WHITESPACE","\n            ",135],"}",["T_WHITESPACE","\n        ",136],"}",["T_WHITESPACE","\n        ",137],["T_RETURN","return",138],["T_WHITESPACE"," ",138],["T_STRING","count",138],"(",["T_VARIABLE","$this",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","_protocol",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","search",138],"(",["T_VARIABLE","$params",138],")",")",";",["T_WHITESPACE","\n    ",138],"}",["T_WHITESPACE","\n\n    ",139],["T_DOC_COMMENT","\/**\n     * get a list of messages with number and size\n     *\n     * @param int $id number of message\n     * @return int|array size of given message of list with all messages as array(num => size)\n     * @throws Zend_Mail_Protocol_Exception\n     *\/",141],["T_WHITESPACE","\n    ",147],["T_PUBLIC","public",148],["T_WHITESPACE"," ",148],["T_FUNCTION","function",148],["T_WHITESPACE"," ",148],["T_STRING","getSize",148],"(",["T_VARIABLE","$id",148],["T_WHITESPACE"," ",148],"=",["T_WHITESPACE"," ",148],["T_LNUMBER","0",148],")",["T_WHITESPACE","\n    ",148],"{",["T_WHITESPACE","\n        ",149],["T_IF","if",150],["T_WHITESPACE"," ",150],"(",["T_VARIABLE","$id",150],")",["T_WHITESPACE"," ",150],"{",["T_WHITESPACE","\n            ",150],["T_RETURN","return",151],["T_WHITESPACE"," ",151],["T_VARIABLE","$this",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","_protocol",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","fetch",151],"(",["T_CONSTANT_ENCAPSED_STRING","'RFC822.SIZE'",151],",",["T_WHITESPACE"," ",151],["T_VARIABLE","$id",151],")",";",["T_WHITESPACE","\n        ",151],"}",["T_WHITESPACE","\n        ",152],["T_RETURN","return",153],["T_WHITESPACE"," ",153],["T_VARIABLE","$this",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","_protocol",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","fetch",153],"(",["T_CONSTANT_ENCAPSED_STRING","'RFC822.SIZE'",153],",",["T_WHITESPACE"," ",153],["T_LNUMBER","1",153],",",["T_WHITESPACE"," ",153],["T_STRING","INF",153],")",";",["T_WHITESPACE","\n    ",153],"}",["T_WHITESPACE","\n\n    ",154],["T_DOC_COMMENT","\/**\n     * Fetch a message\n     *\n     * @param int $id number of message\n     * @return Zend_Mail_Message\n     * @throws Zend_Mail_Protocol_Exception\n     *\/",156],["T_WHITESPACE","\n    ",162],["T_PUBLIC","public",163],["T_WHITESPACE"," ",163],["T_FUNCTION","function",163],["T_WHITESPACE"," ",163],["T_STRING","getMessage",163],"(",["T_VARIABLE","$id",163],")",["T_WHITESPACE","\n    ",163],"{",["T_WHITESPACE","\n        ",164],["T_VARIABLE","$data",165],["T_WHITESPACE"," ",165],"=",["T_WHITESPACE"," ",165],["T_VARIABLE","$this",165],["T_OBJECT_OPERATOR","->",165],["T_STRING","_protocol",165],["T_OBJECT_OPERATOR","->",165],["T_STRING","fetch",165],"(",["T_ARRAY","array",165],"(",["T_CONSTANT_ENCAPSED_STRING","'FLAGS'",165],",",["T_WHITESPACE"," ",165],["T_CONSTANT_ENCAPSED_STRING","'RFC822.HEADER'",165],")",",",["T_WHITESPACE"," ",165],["T_VARIABLE","$id",165],")",";",["T_WHITESPACE","\n        ",165],["T_VARIABLE","$header",166],["T_WHITESPACE"," ",166],"=",["T_WHITESPACE"," ",166],["T_VARIABLE","$data",166],"[",["T_CONSTANT_ENCAPSED_STRING","'RFC822.HEADER'",166],"]",";",["T_WHITESPACE","\n\n        ",166],["T_VARIABLE","$flags",168],["T_WHITESPACE"," ",168],"=",["T_WHITESPACE"," ",168],["T_ARRAY","array",168],"(",")",";",["T_WHITESPACE","\n        ",168],["T_FOREACH","foreach",169],["T_WHITESPACE"," ",169],"(",["T_VARIABLE","$data",169],"[",["T_CONSTANT_ENCAPSED_STRING","'FLAGS'",169],"]",["T_WHITESPACE"," ",169],["T_AS","as",169],["T_WHITESPACE"," ",169],["T_VARIABLE","$flag",169],")",["T_WHITESPACE"," ",169],"{",["T_WHITESPACE","\n            ",169],["T_VARIABLE","$flags",170],"[","]",["T_WHITESPACE"," ",170],"=",["T_WHITESPACE"," ",170],["T_ISSET","isset",170],"(",["T_STRING","self",170],["T_DOUBLE_COLON","::",170],["T_VARIABLE","$_knownFlags",170],"[",["T_VARIABLE","$flag",170],"]",")",["T_WHITESPACE"," ",170],"?",["T_WHITESPACE"," ",170],["T_STRING","self",170],["T_DOUBLE_COLON","::",170],["T_VARIABLE","$_knownFlags",170],"[",["T_VARIABLE","$flag",170],"]",["T_WHITESPACE"," ",170],":",["T_WHITESPACE"," ",170],["T_VARIABLE","$flag",170],";",["T_WHITESPACE","\n        ",170],"}",["T_WHITESPACE","\n\n        ",171],["T_RETURN","return",173],["T_WHITESPACE"," ",173],["T_NEW","new",173],["T_WHITESPACE"," ",173],["T_VARIABLE","$this",173],["T_OBJECT_OPERATOR","->",173],["T_STRING","_messageClass",173],"(",["T_ARRAY","array",173],"(",["T_CONSTANT_ENCAPSED_STRING","'handler'",173],["T_WHITESPACE"," ",173],["T_DOUBLE_ARROW","=>",173],["T_WHITESPACE"," ",173],["T_VARIABLE","$this",173],",",["T_WHITESPACE"," ",173],["T_CONSTANT_ENCAPSED_STRING","'id'",173],["T_WHITESPACE"," ",173],["T_DOUBLE_ARROW","=>",173],["T_WHITESPACE"," ",173],["T_VARIABLE","$id",173],",",["T_WHITESPACE"," ",173],["T_CONSTANT_ENCAPSED_STRING","'headers'",173],["T_WHITESPACE"," ",173],["T_DOUBLE_ARROW","=>",173],["T_WHITESPACE"," ",173],["T_VARIABLE","$header",173],",",["T_WHITESPACE"," ",173],["T_CONSTANT_ENCAPSED_STRING","'flags'",173],["T_WHITESPACE"," ",173],["T_DOUBLE_ARROW","=>",173],["T_WHITESPACE"," ",173],["T_VARIABLE","$flags",173],")",")",";",["T_WHITESPACE","\n    ",173],"}",["T_WHITESPACE","\n\n    ",174],["T_COMMENT","\/*\n     * Get raw header of message or part\n     *\n     * @param  int               $id       number of message\n     * @param  null|array|string $part     path to part or null for messsage header\n     * @param  int               $topLines include this many lines with header (after an empty line)\n     * @param  int $topLines include this many lines with header (after an empty line)\n     * @return string raw header\n     * @throws Zend_Mail_Protocol_Exception\n     * @throws Zend_Mail_Storage_Exception\n     *\/",176],["T_WHITESPACE","\n    ",186],["T_PUBLIC","public",187],["T_WHITESPACE"," ",187],["T_FUNCTION","function",187],["T_WHITESPACE"," ",187],["T_STRING","getRawHeader",187],"(",["T_VARIABLE","$id",187],",",["T_WHITESPACE"," ",187],["T_VARIABLE","$part",187],["T_WHITESPACE"," ",187],"=",["T_WHITESPACE"," ",187],["T_STRING","null",187],",",["T_WHITESPACE"," ",187],["T_VARIABLE","$topLines",187],["T_WHITESPACE"," ",187],"=",["T_WHITESPACE"," ",187],["T_LNUMBER","0",187],")",["T_WHITESPACE","\n    ",187],"{",["T_WHITESPACE","\n        ",188],["T_IF","if",189],["T_WHITESPACE"," ",189],"(",["T_VARIABLE","$part",189],["T_WHITESPACE"," ",189],["T_IS_NOT_IDENTICAL","!==",189],["T_WHITESPACE"," ",189],["T_STRING","null",189],")",["T_WHITESPACE"," ",189],"{",["T_WHITESPACE","\n            ",189],["T_COMMENT","\/\/ TODO: implement\n",190],["T_WHITESPACE","            ",191],["T_DOC_COMMENT","\/**\n             * @see Zend_Mail_Storage_Exception\n             *\/",191],["T_WHITESPACE","\n            ",193],["T_COMMENT","#require_once 'Zend\/Mail\/Storage\/Exception.php';\n",194],["T_WHITESPACE","            ",195],["T_THROW","throw",195],["T_WHITESPACE"," ",195],["T_NEW","new",195],["T_WHITESPACE"," ",195],["T_STRING","Zend_Mail_Storage_Exception",195],"(",["T_CONSTANT_ENCAPSED_STRING","'not implemented'",195],")",";",["T_WHITESPACE","\n        ",195],"}",["T_WHITESPACE","\n\n        ",196],["T_COMMENT","\/\/ TODO: toplines\n",198],["T_WHITESPACE","        ",199],["T_RETURN","return",199],["T_WHITESPACE"," ",199],["T_VARIABLE","$this",199],["T_OBJECT_OPERATOR","->",199],["T_STRING","_protocol",199],["T_OBJECT_OPERATOR","->",199],["T_STRING","fetch",199],"(",["T_CONSTANT_ENCAPSED_STRING","'RFC822.HEADER'",199],",",["T_WHITESPACE"," ",199],["T_VARIABLE","$id",199],")",";",["T_WHITESPACE","\n    ",199],"}",["T_WHITESPACE","\n\n    ",200],["T_COMMENT","\/*\n     * Get raw content of message or part\n     *\n     * @param  int               $id   number of message\n     * @param  null|array|string $part path to part or null for messsage content\n     * @return string raw content\n     * @throws Zend_Mail_Protocol_Exception\n     * @throws Zend_Mail_Storage_Exception\n     *\/",202],["T_WHITESPACE","\n    ",210],["T_PUBLIC","public",211],["T_WHITESPACE"," ",211],["T_FUNCTION","function",211],["T_WHITESPACE"," ",211],["T_STRING","getRawContent",211],"(",["T_VARIABLE","$id",211],",",["T_WHITESPACE"," ",211],["T_VARIABLE","$part",211],["T_WHITESPACE"," ",211],"=",["T_WHITESPACE"," ",211],["T_STRING","null",211],")",["T_WHITESPACE","\n    ",211],"{",["T_WHITESPACE","\n        ",212],["T_IF","if",213],["T_WHITESPACE"," ",213],"(",["T_VARIABLE","$part",213],["T_WHITESPACE"," ",213],["T_IS_NOT_IDENTICAL","!==",213],["T_WHITESPACE"," ",213],["T_STRING","null",213],")",["T_WHITESPACE"," ",213],"{",["T_WHITESPACE","\n            ",213],["T_COMMENT","\/\/ TODO: implement\n",214],["T_WHITESPACE","            ",215],["T_DOC_COMMENT","\/**\n             * @see Zend_Mail_Storage_Exception\n             *\/",215],["T_WHITESPACE","\n            ",217],["T_COMMENT","#require_once 'Zend\/Mail\/Storage\/Exception.php';\n",218],["T_WHITESPACE","            ",219],["T_THROW","throw",219],["T_WHITESPACE"," ",219],["T_NEW","new",219],["T_WHITESPACE"," ",219],["T_STRING","Zend_Mail_Storage_Exception",219],"(",["T_CONSTANT_ENCAPSED_STRING","'not implemented'",219],")",";",["T_WHITESPACE","\n        ",219],"}",["T_WHITESPACE","\n\n        ",220],["T_RETURN","return",222],["T_WHITESPACE"," ",222],["T_VARIABLE","$this",222],["T_OBJECT_OPERATOR","->",222],["T_STRING","_protocol",222],["T_OBJECT_OPERATOR","->",222],["T_STRING","fetch",222],"(",["T_CONSTANT_ENCAPSED_STRING","'RFC822.TEXT'",222],",",["T_WHITESPACE"," ",222],["T_VARIABLE","$id",222],")",";",["T_WHITESPACE","\n    ",222],"}",["T_WHITESPACE","\n\n    ",223],["T_DOC_COMMENT","\/**\n     * create instance with parameters\n     * Supported paramters are\n     *   - user username\n     *   - host hostname or ip address of IMAP server [optional, default = 'localhost']\n     *   - password password for user 'username' [optional, default = '']\n     *   - port port for IMAP server [optional, default = 110]\n     *   - ssl 'SSL' or 'TLS' for secure sockets\n     *   - folder select this folder [optional, default = 'INBOX']\n     *\n     * @param  array $params mail reader specific parameters\n     * @throws Zend_Mail_Storage_Exception\n     * @throws Zend_Mail_Protocol_Exception\n     *\/",225],["T_WHITESPACE","\n    ",238],["T_PUBLIC","public",239],["T_WHITESPACE"," ",239],["T_FUNCTION","function",239],["T_WHITESPACE"," ",239],["T_STRING","__construct",239],"(",["T_VARIABLE","$params",239],")",["T_WHITESPACE","\n    ",239],"{",["T_WHITESPACE","\n        ",240],["T_IF","if",241],["T_WHITESPACE"," ",241],"(",["T_STRING","is_array",241],"(",["T_VARIABLE","$params",241],")",")",["T_WHITESPACE"," ",241],"{",["T_WHITESPACE","\n            ",241],["T_VARIABLE","$params",242],["T_WHITESPACE"," ",242],"=",["T_WHITESPACE"," ",242],["T_OBJECT_CAST","(object)",242],["T_VARIABLE","$params",242],";",["T_WHITESPACE","\n        ",242],"}",["T_WHITESPACE","\n\n        ",243],["T_VARIABLE","$this",245],["T_OBJECT_OPERATOR","->",245],["T_STRING","_has",245],"[",["T_CONSTANT_ENCAPSED_STRING","'flags'",245],"]",["T_WHITESPACE"," ",245],"=",["T_WHITESPACE"," ",245],["T_STRING","true",245],";",["T_WHITESPACE","\n\n        ",245],["T_IF","if",247],["T_WHITESPACE"," ",247],"(",["T_VARIABLE","$params",247],["T_WHITESPACE"," ",247],["T_INSTANCEOF","instanceof",247],["T_WHITESPACE"," ",247],["T_STRING","Zend_Mail_Protocol_Imap",247],")",["T_WHITESPACE"," ",247],"{",["T_WHITESPACE","\n            ",247],["T_VARIABLE","$this",248],["T_OBJECT_OPERATOR","->",248],["T_STRING","_protocol",248],["T_WHITESPACE"," ",248],"=",["T_WHITESPACE"," ",248],["T_VARIABLE","$params",248],";",["T_WHITESPACE","\n            ",248],["T_TRY","try",249],["T_WHITESPACE"," ",249],"{",["T_WHITESPACE","\n                ",249],["T_VARIABLE","$this",250],["T_OBJECT_OPERATOR","->",250],["T_STRING","selectFolder",250],"(",["T_CONSTANT_ENCAPSED_STRING","'INBOX'",250],")",";",["T_WHITESPACE","\n            ",250],"}",["T_WHITESPACE"," ",251],["T_CATCH","catch",251],"(",["T_STRING","Zend_Mail_Storage_Exception",251],["T_WHITESPACE"," ",251],["T_VARIABLE","$e",251],")",["T_WHITESPACE"," ",251],"{",["T_WHITESPACE","\n                ",251],["T_DOC_COMMENT","\/**\n                 * @see Zend_Mail_Storage_Exception\n                 *\/",252],["T_WHITESPACE","\n                ",254],["T_COMMENT","#require_once 'Zend\/Mail\/Storage\/Exception.php';\n",255],["T_WHITESPACE","                ",256],["T_THROW","throw",256],["T_WHITESPACE"," ",256],["T_NEW","new",256],["T_WHITESPACE"," ",256],["T_STRING","Zend_Mail_Storage_Exception",256],"(",["T_CONSTANT_ENCAPSED_STRING","'cannot select INBOX, is this a valid transport?'",256],",",["T_WHITESPACE"," ",256],["T_LNUMBER","0",256],",",["T_WHITESPACE"," ",256],["T_VARIABLE","$e",256],")",";",["T_WHITESPACE","\n            ",256],"}",["T_WHITESPACE","\n            ",257],["T_RETURN","return",258],";",["T_WHITESPACE","\n        ",258],"}",["T_WHITESPACE","\n\n        ",259],["T_IF","if",261],["T_WHITESPACE"," ",261],"(","!",["T_ISSET","isset",261],"(",["T_VARIABLE","$params",261],["T_OBJECT_OPERATOR","->",261],["T_STRING","user",261],")",")",["T_WHITESPACE"," ",261],"{",["T_WHITESPACE","\n            ",261],["T_DOC_COMMENT","\/**\n             * @see Zend_Mail_Storage_Exception\n             *\/",262],["T_WHITESPACE","\n            ",264],["T_COMMENT","#require_once 'Zend\/Mail\/Storage\/Exception.php';\n",265],["T_WHITESPACE","            ",266],["T_THROW","throw",266],["T_WHITESPACE"," ",266],["T_NEW","new",266],["T_WHITESPACE"," ",266],["T_STRING","Zend_Mail_Storage_Exception",266],"(",["T_CONSTANT_ENCAPSED_STRING","'need at least user in params'",266],")",";",["T_WHITESPACE","\n        ",266],"}",["T_WHITESPACE","\n\n        ",267],["T_VARIABLE","$host",269],["T_WHITESPACE","     ",269],"=",["T_WHITESPACE"," ",269],["T_ISSET","isset",269],"(",["T_VARIABLE","$params",269],["T_OBJECT_OPERATOR","->",269],["T_STRING","host",269],")",["T_WHITESPACE","     ",269],"?",["T_WHITESPACE"," ",269],["T_VARIABLE","$params",269],["T_OBJECT_OPERATOR","->",269],["T_STRING","host",269],["T_WHITESPACE","     ",269],":",["T_WHITESPACE"," ",269],["T_CONSTANT_ENCAPSED_STRING","'localhost'",269],";",["T_WHITESPACE","\n        ",269],["T_VARIABLE","$password",270],["T_WHITESPACE"," ",270],"=",["T_WHITESPACE"," ",270],["T_ISSET","isset",270],"(",["T_VARIABLE","$params",270],["T_OBJECT_OPERATOR","->",270],["T_STRING","password",270],")",["T_WHITESPACE"," ",270],"?",["T_WHITESPACE"," ",270],["T_VARIABLE","$params",270],["T_OBJECT_OPERATOR","->",270],["T_STRING","password",270],["T_WHITESPACE"," ",270],":",["T_WHITESPACE"," ",270],["T_CONSTANT_ENCAPSED_STRING","''",270],";",["T_WHITESPACE","\n        ",270],["T_VARIABLE","$port",271],["T_WHITESPACE","     ",271],"=",["T_WHITESPACE"," ",271],["T_ISSET","isset",271],"(",["T_VARIABLE","$params",271],["T_OBJECT_OPERATOR","->",271],["T_STRING","port",271],")",["T_WHITESPACE","     ",271],"?",["T_WHITESPACE"," ",271],["T_VARIABLE","$params",271],["T_OBJECT_OPERATOR","->",271],["T_STRING","port",271],["T_WHITESPACE","     ",271],":",["T_WHITESPACE"," ",271],["T_STRING","null",271],";",["T_WHITESPACE","\n        ",271],["T_VARIABLE","$ssl",272],["T_WHITESPACE","      ",272],"=",["T_WHITESPACE"," ",272],["T_ISSET","isset",272],"(",["T_VARIABLE","$params",272],["T_OBJECT_OPERATOR","->",272],["T_STRING","ssl",272],")",["T_WHITESPACE","      ",272],"?",["T_WHITESPACE"," ",272],["T_VARIABLE","$params",272],["T_OBJECT_OPERATOR","->",272],["T_STRING","ssl",272],["T_WHITESPACE","      ",272],":",["T_WHITESPACE"," ",272],["T_STRING","false",272],";",["T_WHITESPACE","\n\n        ",272],["T_VARIABLE","$this",274],["T_OBJECT_OPERATOR","->",274],["T_STRING","_protocol",274],["T_WHITESPACE"," ",274],"=",["T_WHITESPACE"," ",274],["T_NEW","new",274],["T_WHITESPACE"," ",274],["T_STRING","Zend_Mail_Protocol_Imap",274],"(",")",";",["T_WHITESPACE","\n        ",274],["T_VARIABLE","$this",275],["T_OBJECT_OPERATOR","->",275],["T_STRING","_protocol",275],["T_OBJECT_OPERATOR","->",275],["T_STRING","connect",275],"(",["T_VARIABLE","$host",275],",",["T_WHITESPACE"," ",275],["T_VARIABLE","$port",275],",",["T_WHITESPACE"," ",275],["T_VARIABLE","$ssl",275],")",";",["T_WHITESPACE","\n        ",275],["T_IF","if",276],["T_WHITESPACE"," ",276],"(","!",["T_VARIABLE","$this",276],["T_OBJECT_OPERATOR","->",276],["T_STRING","_protocol",276],["T_OBJECT_OPERATOR","->",276],["T_STRING","login",276],"(",["T_VARIABLE","$params",276],["T_OBJECT_OPERATOR","->",276],["T_STRING","user",276],",",["T_WHITESPACE"," ",276],["T_VARIABLE","$password",276],")",")",["T_WHITESPACE"," ",276],"{",["T_WHITESPACE","\n            ",276],["T_DOC_COMMENT","\/**\n             * @see Zend_Mail_Storage_Exception\n             *\/",277],["T_WHITESPACE","\n            ",279],["T_COMMENT","#require_once 'Zend\/Mail\/Storage\/Exception.php';\n",280],["T_WHITESPACE","            ",281],["T_THROW","throw",281],["T_WHITESPACE"," ",281],["T_NEW","new",281],["T_WHITESPACE"," ",281],["T_STRING","Zend_Mail_Storage_Exception",281],"(",["T_CONSTANT_ENCAPSED_STRING","'cannot login, user or password wrong'",281],")",";",["T_WHITESPACE","\n        ",281],"}",["T_WHITESPACE","\n        ",282],["T_VARIABLE","$this",283],["T_OBJECT_OPERATOR","->",283],["T_STRING","selectFolder",283],"(",["T_ISSET","isset",283],"(",["T_VARIABLE","$params",283],["T_OBJECT_OPERATOR","->",283],["T_STRING","folder",283],")",["T_WHITESPACE"," ",283],"?",["T_WHITESPACE"," ",283],["T_VARIABLE","$params",283],["T_OBJECT_OPERATOR","->",283],["T_STRING","folder",283],["T_WHITESPACE"," ",283],":",["T_WHITESPACE"," ",283],["T_CONSTANT_ENCAPSED_STRING","'INBOX'",283],")",";",["T_WHITESPACE","\n    ",283],"}",["T_WHITESPACE","\n\n    ",284],["T_DOC_COMMENT","\/**\n     * Close resource for mail lib. If you need to control, when the resource\n     * is closed. Otherwise the destructor would call this.\n     *\n     * @return null\n     *\/",286],["T_WHITESPACE","\n    ",291],["T_PUBLIC","public",292],["T_WHITESPACE"," ",292],["T_FUNCTION","function",292],["T_WHITESPACE"," ",292],["T_STRING","close",292],"(",")",["T_WHITESPACE","\n    ",292],"{",["T_WHITESPACE","\n        ",293],["T_VARIABLE","$this",294],["T_OBJECT_OPERATOR","->",294],["T_STRING","_currentFolder",294],["T_WHITESPACE"," ",294],"=",["T_WHITESPACE"," ",294],["T_CONSTANT_ENCAPSED_STRING","''",294],";",["T_WHITESPACE","\n        ",294],["T_VARIABLE","$this",295],["T_OBJECT_OPERATOR","->",295],["T_STRING","_protocol",295],["T_OBJECT_OPERATOR","->",295],["T_STRING","logout",295],"(",")",";",["T_WHITESPACE","\n    ",295],"}",["T_WHITESPACE","\n\n    ",296],["T_DOC_COMMENT","\/**\n     * Keep the server busy.\n     *\n     * @return null\n     * @throws Zend_Mail_Storage_Exception\n     *\/",298],["T_WHITESPACE","\n    ",303],["T_PUBLIC","public",304],["T_WHITESPACE"," ",304],["T_FUNCTION","function",304],["T_WHITESPACE"," ",304],["T_STRING","noop",304],"(",")",["T_WHITESPACE","\n    ",304],"{",["T_WHITESPACE","\n        ",305],["T_IF","if",306],["T_WHITESPACE"," ",306],"(","!",["T_VARIABLE","$this",306],["T_OBJECT_OPERATOR","->",306],["T_STRING","_protocol",306],["T_OBJECT_OPERATOR","->",306],["T_STRING","noop",306],"(",")",")",["T_WHITESPACE"," ",306],"{",["T_WHITESPACE","\n            ",306],["T_DOC_COMMENT","\/**\n             * @see Zend_Mail_Storage_Exception\n             *\/",307],["T_WHITESPACE","\n            ",309],["T_COMMENT","#require_once 'Zend\/Mail\/Storage\/Exception.php';\n",310],["T_WHITESPACE","            ",311],["T_THROW","throw",311],["T_WHITESPACE"," ",311],["T_NEW","new",311],["T_WHITESPACE"," ",311],["T_STRING","Zend_Mail_Storage_Exception",311],"(",["T_CONSTANT_ENCAPSED_STRING","'could not do nothing'",311],")",";",["T_WHITESPACE","\n        ",311],"}",["T_WHITESPACE","\n    ",312],"}",["T_WHITESPACE","\n\n    ",313],["T_DOC_COMMENT","\/**\n     * Remove a message from server. If you're doing that from a web enviroment\n     * you should be careful and use a uniqueid as parameter if possible to\n     * identify the message.\n     *\n     * @param   int $id number of message\n     * @return  null\n     * @throws  Zend_Mail_Storage_Exception\n     *\/",315],["T_WHITESPACE","\n    ",323],["T_PUBLIC","public",324],["T_WHITESPACE"," ",324],["T_FUNCTION","function",324],["T_WHITESPACE"," ",324],["T_STRING","removeMessage",324],"(",["T_VARIABLE","$id",324],")",["T_WHITESPACE","\n    ",324],"{",["T_WHITESPACE","\n        ",325],["T_IF","if",326],["T_WHITESPACE"," ",326],"(","!",["T_VARIABLE","$this",326],["T_OBJECT_OPERATOR","->",326],["T_STRING","_protocol",326],["T_OBJECT_OPERATOR","->",326],["T_STRING","store",326],"(",["T_ARRAY","array",326],"(",["T_STRING","Zend_Mail_Storage",326],["T_DOUBLE_COLON","::",326],["T_STRING","FLAG_DELETED",326],")",",",["T_WHITESPACE"," ",326],["T_VARIABLE","$id",326],",",["T_WHITESPACE"," ",326],["T_STRING","null",326],",",["T_WHITESPACE"," ",326],["T_CONSTANT_ENCAPSED_STRING","'+'",326],")",")",["T_WHITESPACE"," ",326],"{",["T_WHITESPACE","\n            ",326],["T_DOC_COMMENT","\/**\n             * @see Zend_Mail_Storage_Exception\n             *\/",327],["T_WHITESPACE","\n            ",329],["T_COMMENT","#require_once 'Zend\/Mail\/Storage\/Exception.php';\n",330],["T_WHITESPACE","            ",331],["T_THROW","throw",331],["T_WHITESPACE"," ",331],["T_NEW","new",331],["T_WHITESPACE"," ",331],["T_STRING","Zend_Mail_Storage_Exception",331],"(",["T_CONSTANT_ENCAPSED_STRING","'cannot set deleted flag'",331],")",";",["T_WHITESPACE","\n        ",331],"}",["T_WHITESPACE","\n        ",332],["T_COMMENT","\/\/ TODO: expunge here or at close? we can handle an error here better and are more fail safe\n",333],["T_WHITESPACE","        ",334],["T_IF","if",334],["T_WHITESPACE"," ",334],"(","!",["T_VARIABLE","$this",334],["T_OBJECT_OPERATOR","->",334],["T_STRING","_protocol",334],["T_OBJECT_OPERATOR","->",334],["T_STRING","expunge",334],"(",")",")",["T_WHITESPACE"," ",334],"{",["T_WHITESPACE","\n            ",334],["T_DOC_COMMENT","\/**\n             * @see Zend_Mail_Storage_Exception\n             *\/",335],["T_WHITESPACE","\n            ",337],["T_COMMENT","#require_once 'Zend\/Mail\/Storage\/Exception.php';\n",338],["T_WHITESPACE","            ",339],["T_THROW","throw",339],["T_WHITESPACE"," ",339],["T_NEW","new",339],["T_WHITESPACE"," ",339],["T_STRING","Zend_Mail_Storage_Exception",339],"(",["T_CONSTANT_ENCAPSED_STRING","'message marked as deleted, but could not expunge'",339],")",";",["T_WHITESPACE","\n        ",339],"}",["T_WHITESPACE","\n    ",340],"}",["T_WHITESPACE","\n\n    ",341],["T_DOC_COMMENT","\/**\n     * get unique id for one or all messages\n     *\n     * if storage does not support unique ids it's the same as the message number\n     *\n     * @param int|null $id message number\n     * @return array|string message number for given message or all messages as array\n     * @throws Zend_Mail_Storage_Exception\n     *\/",343],["T_WHITESPACE","\n    ",351],["T_PUBLIC","public",352],["T_WHITESPACE"," ",352],["T_FUNCTION","function",352],["T_WHITESPACE"," ",352],["T_STRING","getUniqueId",352],"(",["T_VARIABLE","$id",352],["T_WHITESPACE"," ",352],"=",["T_WHITESPACE"," ",352],["T_STRING","null",352],")",["T_WHITESPACE","\n    ",352],"{",["T_WHITESPACE","\n        ",353],["T_IF","if",354],["T_WHITESPACE"," ",354],"(",["T_VARIABLE","$id",354],")",["T_WHITESPACE"," ",354],"{",["T_WHITESPACE","\n            ",354],["T_RETURN","return",355],["T_WHITESPACE"," ",355],["T_VARIABLE","$this",355],["T_OBJECT_OPERATOR","->",355],["T_STRING","_protocol",355],["T_OBJECT_OPERATOR","->",355],["T_STRING","fetch",355],"(",["T_CONSTANT_ENCAPSED_STRING","'UID'",355],",",["T_WHITESPACE"," ",355],["T_VARIABLE","$id",355],")",";",["T_WHITESPACE","\n        ",355],"}",["T_WHITESPACE","\n\n        ",356],["T_RETURN","return",358],["T_WHITESPACE"," ",358],["T_VARIABLE","$this",358],["T_OBJECT_OPERATOR","->",358],["T_STRING","_protocol",358],["T_OBJECT_OPERATOR","->",358],["T_STRING","fetch",358],"(",["T_CONSTANT_ENCAPSED_STRING","'UID'",358],",",["T_WHITESPACE"," ",358],["T_LNUMBER","1",358],",",["T_WHITESPACE"," ",358],["T_STRING","INF",358],")",";",["T_WHITESPACE","\n    ",358],"}",["T_WHITESPACE","\n\n    ",359],["T_DOC_COMMENT","\/**\n     * get a message number from a unique id\n     *\n     * I.e. if you have a webmailer that supports deleting messages you should use unique ids\n     * as parameter and use this method to translate it to message number right before calling removeMessage()\n     *\n     * @param string $id unique id\n     * @return int message number\n     * @throws Zend_Mail_Storage_Exception\n     *\/",361],["T_WHITESPACE","\n    ",370],["T_PUBLIC","public",371],["T_WHITESPACE"," ",371],["T_FUNCTION","function",371],["T_WHITESPACE"," ",371],["T_STRING","getNumberByUniqueId",371],"(",["T_VARIABLE","$id",371],")",["T_WHITESPACE","\n    ",371],"{",["T_WHITESPACE","\n        ",372],["T_COMMENT","\/\/ TODO: use search to find number directly\n",373],["T_WHITESPACE","        ",374],["T_VARIABLE","$ids",374],["T_WHITESPACE"," ",374],"=",["T_WHITESPACE"," ",374],["T_VARIABLE","$this",374],["T_OBJECT_OPERATOR","->",374],["T_STRING","getUniqueId",374],"(",")",";",["T_WHITESPACE","\n        ",374],["T_FOREACH","foreach",375],["T_WHITESPACE"," ",375],"(",["T_VARIABLE","$ids",375],["T_WHITESPACE"," ",375],["T_AS","as",375],["T_WHITESPACE"," ",375],["T_VARIABLE","$k",375],["T_WHITESPACE"," ",375],["T_DOUBLE_ARROW","=>",375],["T_WHITESPACE"," ",375],["T_VARIABLE","$v",375],")",["T_WHITESPACE"," ",375],"{",["T_WHITESPACE","\n            ",375],["T_IF","if",376],["T_WHITESPACE"," ",376],"(",["T_VARIABLE","$v",376],["T_WHITESPACE"," ",376],["T_IS_EQUAL","==",376],["T_WHITESPACE"," ",376],["T_VARIABLE","$id",376],")",["T_WHITESPACE"," ",376],"{",["T_WHITESPACE","\n                ",376],["T_RETURN","return",377],["T_WHITESPACE"," ",377],["T_VARIABLE","$k",377],";",["T_WHITESPACE","\n            ",377],"}",["T_WHITESPACE","\n        ",378],"}",["T_WHITESPACE","\n\n        ",379],["T_DOC_COMMENT","\/**\n         * @see Zend_Mail_Storage_Exception\n         *\/",381],["T_WHITESPACE","\n        ",383],["T_COMMENT","#require_once 'Zend\/Mail\/Storage\/Exception.php';\n",384],["T_WHITESPACE","        ",385],["T_THROW","throw",385],["T_WHITESPACE"," ",385],["T_NEW","new",385],["T_WHITESPACE"," ",385],["T_STRING","Zend_Mail_Storage_Exception",385],"(",["T_CONSTANT_ENCAPSED_STRING","'unique id not found'",385],")",";",["T_WHITESPACE","\n    ",385],"}",["T_WHITESPACE","\n\n\n    ",386],["T_DOC_COMMENT","\/**\n     * get root folder or given folder\n     *\n     * @param  string $rootFolder get folder structure for given folder, else root\n     * @return Zend_Mail_Storage_Folder root or wanted folder\n     * @throws Zend_Mail_Storage_Exception\n     * @throws Zend_Mail_Protocol_Exception\n     *\/",389],["T_WHITESPACE","\n    ",396],["T_PUBLIC","public",397],["T_WHITESPACE"," ",397],["T_FUNCTION","function",397],["T_WHITESPACE"," ",397],["T_STRING","getFolders",397],"(",["T_VARIABLE","$rootFolder",397],["T_WHITESPACE"," ",397],"=",["T_WHITESPACE"," ",397],["T_STRING","null",397],")",["T_WHITESPACE","\n    ",397],"{",["T_WHITESPACE","\n        ",398],["T_VARIABLE","$folders",399],["T_WHITESPACE"," ",399],"=",["T_WHITESPACE"," ",399],["T_VARIABLE","$this",399],["T_OBJECT_OPERATOR","->",399],["T_STRING","_protocol",399],["T_OBJECT_OPERATOR","->",399],["T_STRING","listMailbox",399],"(",["T_STRING_CAST","(string)",399],["T_VARIABLE","$rootFolder",399],")",";",["T_WHITESPACE","\n        ",399],["T_IF","if",400],["T_WHITESPACE"," ",400],"(","!",["T_VARIABLE","$folders",400],")",["T_WHITESPACE"," ",400],"{",["T_WHITESPACE","\n            ",400],["T_DOC_COMMENT","\/**\n             * @see Zend_Mail_Storage_Exception\n             *\/",401],["T_WHITESPACE","\n            ",403],["T_COMMENT","#require_once 'Zend\/Mail\/Storage\/Exception.php';\n",404],["T_WHITESPACE","            ",405],["T_THROW","throw",405],["T_WHITESPACE"," ",405],["T_NEW","new",405],["T_WHITESPACE"," ",405],["T_STRING","Zend_Mail_Storage_Exception",405],"(",["T_CONSTANT_ENCAPSED_STRING","'folder not found'",405],")",";",["T_WHITESPACE","\n        ",405],"}",["T_WHITESPACE","\n\n        ",406],["T_STRING","ksort",408],"(",["T_VARIABLE","$folders",408],",",["T_WHITESPACE"," ",408],["T_STRING","SORT_STRING",408],")",";",["T_WHITESPACE","\n        ",408],["T_VARIABLE","$root",409],["T_WHITESPACE"," ",409],"=",["T_WHITESPACE"," ",409],["T_NEW","new",409],["T_WHITESPACE"," ",409],["T_STRING","Zend_Mail_Storage_Folder",409],"(",["T_CONSTANT_ENCAPSED_STRING","'\/'",409],",",["T_WHITESPACE"," ",409],["T_CONSTANT_ENCAPSED_STRING","'\/'",409],",",["T_WHITESPACE"," ",409],["T_STRING","false",409],")",";",["T_WHITESPACE","\n        ",409],["T_VARIABLE","$stack",410],["T_WHITESPACE"," ",410],"=",["T_WHITESPACE"," ",410],["T_ARRAY","array",410],"(",["T_STRING","null",410],")",";",["T_WHITESPACE","\n        ",410],["T_VARIABLE","$folderStack",411],["T_WHITESPACE"," ",411],"=",["T_WHITESPACE"," ",411],["T_ARRAY","array",411],"(",["T_STRING","null",411],")",";",["T_WHITESPACE","\n        ",411],["T_VARIABLE","$parentFolder",412],["T_WHITESPACE"," ",412],"=",["T_WHITESPACE"," ",412],["T_VARIABLE","$root",412],";",["T_WHITESPACE","\n        ",412],["T_VARIABLE","$parent",413],["T_WHITESPACE"," ",413],"=",["T_WHITESPACE"," ",413],["T_CONSTANT_ENCAPSED_STRING","''",413],";",["T_WHITESPACE","\n\n        ",413],["T_FOREACH","foreach",415],["T_WHITESPACE"," ",415],"(",["T_VARIABLE","$folders",415],["T_WHITESPACE"," ",415],["T_AS","as",415],["T_WHITESPACE"," ",415],["T_VARIABLE","$globalName",415],["T_WHITESPACE"," ",415],["T_DOUBLE_ARROW","=>",415],["T_WHITESPACE"," ",415],["T_VARIABLE","$data",415],")",["T_WHITESPACE"," ",415],"{",["T_WHITESPACE","\n            ",415],["T_DO","do",416],["T_WHITESPACE"," ",416],"{",["T_WHITESPACE","\n                ",416],["T_IF","if",417],["T_WHITESPACE"," ",417],"(","!",["T_VARIABLE","$parent",417],["T_WHITESPACE"," ",417],["T_BOOLEAN_OR","||",417],["T_WHITESPACE"," ",417],["T_STRING","strpos",417],"(",["T_VARIABLE","$globalName",417],",",["T_WHITESPACE"," ",417],["T_VARIABLE","$parent",417],")",["T_WHITESPACE"," ",417],["T_IS_IDENTICAL","===",417],["T_WHITESPACE"," ",417],["T_LNUMBER","0",417],")",["T_WHITESPACE"," ",417],"{",["T_WHITESPACE","\n                    ",417],["T_VARIABLE","$pos",418],["T_WHITESPACE"," ",418],"=",["T_WHITESPACE"," ",418],["T_STRING","strrpos",418],"(",["T_VARIABLE","$globalName",418],",",["T_WHITESPACE"," ",418],["T_VARIABLE","$data",418],"[",["T_CONSTANT_ENCAPSED_STRING","'delim'",418],"]",")",";",["T_WHITESPACE","\n                    ",418],["T_IF","if",419],["T_WHITESPACE"," ",419],"(",["T_VARIABLE","$pos",419],["T_WHITESPACE"," ",419],["T_IS_IDENTICAL","===",419],["T_WHITESPACE"," ",419],["T_STRING","false",419],")",["T_WHITESPACE"," ",419],"{",["T_WHITESPACE","\n                        ",419],["T_VARIABLE","$localName",420],["T_WHITESPACE"," ",420],"=",["T_WHITESPACE"," ",420],["T_VARIABLE","$globalName",420],";",["T_WHITESPACE","\n                    ",420],"}",["T_WHITESPACE"," ",421],["T_ELSE","else",421],["T_WHITESPACE"," ",421],"{",["T_WHITESPACE","\n                        ",421],["T_VARIABLE","$localName",422],["T_WHITESPACE"," ",422],"=",["T_WHITESPACE"," ",422],["T_STRING","substr",422],"(",["T_VARIABLE","$globalName",422],",",["T_WHITESPACE"," ",422],["T_VARIABLE","$pos",422],["T_WHITESPACE"," ",422],"+",["T_WHITESPACE"," ",422],["T_LNUMBER","1",422],")",";",["T_WHITESPACE","\n                    ",422],"}",["T_WHITESPACE","\n                    ",423],["T_VARIABLE","$selectable",424],["T_WHITESPACE"," ",424],"=",["T_WHITESPACE"," ",424],"!",["T_VARIABLE","$data",424],"[",["T_CONSTANT_ENCAPSED_STRING","'flags'",424],"]",["T_WHITESPACE"," ",424],["T_BOOLEAN_OR","||",424],["T_WHITESPACE"," ",424],"!",["T_STRING","in_array",424],"(",["T_CONSTANT_ENCAPSED_STRING","'\\\\Noselect'",424],",",["T_WHITESPACE"," ",424],["T_VARIABLE","$data",424],"[",["T_CONSTANT_ENCAPSED_STRING","'flags'",424],"]",")",";",["T_WHITESPACE","\n\n                    ",424],["T_STRING","array_push",426],"(",["T_VARIABLE","$stack",426],",",["T_WHITESPACE"," ",426],["T_VARIABLE","$parent",426],")",";",["T_WHITESPACE","\n                    ",426],["T_VARIABLE","$parent",427],["T_WHITESPACE"," ",427],"=",["T_WHITESPACE"," ",427],["T_VARIABLE","$globalName",427],["T_WHITESPACE"," ",427],".",["T_WHITESPACE"," ",427],["T_VARIABLE","$data",427],"[",["T_CONSTANT_ENCAPSED_STRING","'delim'",427],"]",";",["T_WHITESPACE","\n                    ",427],["T_VARIABLE","$folder",428],["T_WHITESPACE"," ",428],"=",["T_WHITESPACE"," ",428],["T_NEW","new",428],["T_WHITESPACE"," ",428],["T_STRING","Zend_Mail_Storage_Folder",428],"(",["T_VARIABLE","$localName",428],",",["T_WHITESPACE"," ",428],["T_VARIABLE","$globalName",428],",",["T_WHITESPACE"," ",428],["T_VARIABLE","$selectable",428],")",";",["T_WHITESPACE","\n                    ",428],["T_VARIABLE","$parentFolder",429],["T_OBJECT_OPERATOR","->",429],["T_VARIABLE","$localName",429],["T_WHITESPACE"," ",429],"=",["T_WHITESPACE"," ",429],["T_VARIABLE","$folder",429],";",["T_WHITESPACE","\n                    ",429],["T_STRING","array_push",430],"(",["T_VARIABLE","$folderStack",430],",",["T_WHITESPACE"," ",430],["T_VARIABLE","$parentFolder",430],")",";",["T_WHITESPACE","\n                    ",430],["T_VARIABLE","$parentFolder",431],["T_WHITESPACE"," ",431],"=",["T_WHITESPACE"," ",431],["T_VARIABLE","$folder",431],";",["T_WHITESPACE","\n                    ",431],["T_BREAK","break",432],";",["T_WHITESPACE","\n                ",432],"}",["T_WHITESPACE"," ",433],["T_ELSE","else",433],["T_WHITESPACE"," ",433],["T_IF","if",433],["T_WHITESPACE"," ",433],"(",["T_VARIABLE","$stack",433],")",["T_WHITESPACE"," ",433],"{",["T_WHITESPACE","\n                    ",433],["T_VARIABLE","$parent",434],["T_WHITESPACE"," ",434],"=",["T_WHITESPACE"," ",434],["T_STRING","array_pop",434],"(",["T_VARIABLE","$stack",434],")",";",["T_WHITESPACE","\n                    ",434],["T_VARIABLE","$parentFolder",435],["T_WHITESPACE"," ",435],"=",["T_WHITESPACE"," ",435],["T_STRING","array_pop",435],"(",["T_VARIABLE","$folderStack",435],")",";",["T_WHITESPACE","\n                ",435],"}",["T_WHITESPACE","\n            ",436],"}",["T_WHITESPACE"," ",437],["T_WHILE","while",437],["T_WHITESPACE"," ",437],"(",["T_VARIABLE","$stack",437],")",";",["T_WHITESPACE","\n            ",437],["T_IF","if",438],["T_WHITESPACE"," ",438],"(","!",["T_VARIABLE","$stack",438],")",["T_WHITESPACE"," ",438],"{",["T_WHITESPACE","\n                ",438],["T_DOC_COMMENT","\/**\n                 * @see Zend_Mail_Storage_Exception\n                 *\/",439],["T_WHITESPACE","\n                ",441],["T_COMMENT","#require_once 'Zend\/Mail\/Storage\/Exception.php';\n",442],["T_WHITESPACE","                ",443],["T_THROW","throw",443],["T_WHITESPACE"," ",443],["T_NEW","new",443],["T_WHITESPACE"," ",443],["T_STRING","Zend_Mail_Storage_Exception",443],"(",["T_CONSTANT_ENCAPSED_STRING","'error while constructing folder tree'",443],")",";",["T_WHITESPACE","\n            ",443],"}",["T_WHITESPACE","\n        ",444],"}",["T_WHITESPACE","\n\n        ",445],["T_RETURN","return",447],["T_WHITESPACE"," ",447],["T_VARIABLE","$root",447],";",["T_WHITESPACE","\n    ",447],"}",["T_WHITESPACE","\n\n    ",448],["T_DOC_COMMENT","\/**\n     * select given folder\n     *\n     * folder must be selectable!\n     *\n     * @param  Zend_Mail_Storage_Folder|string $globalName global name of folder or instance for subfolder\n     * @return null\n     * @throws Zend_Mail_Storage_Exception\n     * @throws Zend_Mail_Protocol_Exception\n     *\/",450],["T_WHITESPACE","\n    ",459],["T_PUBLIC","public",460],["T_WHITESPACE"," ",460],["T_FUNCTION","function",460],["T_WHITESPACE"," ",460],["T_STRING","selectFolder",460],"(",["T_VARIABLE","$globalName",460],")",["T_WHITESPACE","\n    ",460],"{",["T_WHITESPACE","\n        ",461],["T_VARIABLE","$this",462],["T_OBJECT_OPERATOR","->",462],["T_STRING","_currentFolder",462],["T_WHITESPACE"," ",462],"=",["T_WHITESPACE"," ",462],["T_VARIABLE","$globalName",462],";",["T_WHITESPACE","\n        ",462],["T_IF","if",463],["T_WHITESPACE"," ",463],"(","!",["T_VARIABLE","$this",463],["T_OBJECT_OPERATOR","->",463],["T_STRING","_protocol",463],["T_OBJECT_OPERATOR","->",463],["T_STRING","select",463],"(",["T_VARIABLE","$this",463],["T_OBJECT_OPERATOR","->",463],["T_STRING","_currentFolder",463],")",")",["T_WHITESPACE"," ",463],"{",["T_WHITESPACE","\n            ",463],["T_VARIABLE","$this",464],["T_OBJECT_OPERATOR","->",464],["T_STRING","_currentFolder",464],["T_WHITESPACE"," ",464],"=",["T_WHITESPACE"," ",464],["T_CONSTANT_ENCAPSED_STRING","''",464],";",["T_WHITESPACE","\n            ",464],["T_DOC_COMMENT","\/**\n             * @see Zend_Mail_Storage_Exception\n             *\/",465],["T_WHITESPACE","\n            ",467],["T_COMMENT","#require_once 'Zend\/Mail\/Storage\/Exception.php';\n",468],["T_WHITESPACE","            ",469],["T_THROW","throw",469],["T_WHITESPACE"," ",469],["T_NEW","new",469],["T_WHITESPACE"," ",469],["T_STRING","Zend_Mail_Storage_Exception",469],"(",["T_CONSTANT_ENCAPSED_STRING","'cannot change folder, maybe it does not exist'",469],")",";",["T_WHITESPACE","\n        ",469],"}",["T_WHITESPACE","\n    ",470],"}",["T_WHITESPACE","\n\n\n    ",471],["T_DOC_COMMENT","\/**\n     * get Zend_Mail_Storage_Folder instance for current folder\n     *\n     * @return Zend_Mail_Storage_Folder instance of current folder\n     * @throws Zend_Mail_Storage_Exception\n     *\/",474],["T_WHITESPACE","\n    ",479],["T_PUBLIC","public",480],["T_WHITESPACE"," ",480],["T_FUNCTION","function",480],["T_WHITESPACE"," ",480],["T_STRING","getCurrentFolder",480],"(",")",["T_WHITESPACE","\n    ",480],"{",["T_WHITESPACE","\n        ",481],["T_RETURN","return",482],["T_WHITESPACE"," ",482],["T_VARIABLE","$this",482],["T_OBJECT_OPERATOR","->",482],["T_STRING","_currentFolder",482],";",["T_WHITESPACE","\n    ",482],"}",["T_WHITESPACE","\n\n    ",483],["T_DOC_COMMENT","\/**\n     * create a new folder\n     *\n     * This method also creates parent folders if necessary. Some mail storages may restrict, which folder\n     * may be used as parent or which chars may be used in the folder name\n     *\n     * @param  string                          $name         global name of folder, local name if $parentFolder is set\n     * @param  string|Zend_Mail_Storage_Folder $parentFolder parent folder for new folder, else root folder is parent\n     * @return null\n     * @throws Zend_Mail_Storage_Exception\n     *\/",485],["T_WHITESPACE","\n    ",495],["T_PUBLIC","public",496],["T_WHITESPACE"," ",496],["T_FUNCTION","function",496],["T_WHITESPACE"," ",496],["T_STRING","createFolder",496],"(",["T_VARIABLE","$name",496],",",["T_WHITESPACE"," ",496],["T_VARIABLE","$parentFolder",496],["T_WHITESPACE"," ",496],"=",["T_WHITESPACE"," ",496],["T_STRING","null",496],")",["T_WHITESPACE","\n    ",496],"{",["T_WHITESPACE","\n        ",497],["T_COMMENT","\/\/ TODO: we assume \/ as the hierarchy delim - need to get that from the folder class!\n",498],["T_WHITESPACE","        ",499],["T_IF","if",499],["T_WHITESPACE"," ",499],"(",["T_VARIABLE","$parentFolder",499],["T_WHITESPACE"," ",499],["T_INSTANCEOF","instanceof",499],["T_WHITESPACE"," ",499],["T_STRING","Zend_Mail_Storage_Folder",499],")",["T_WHITESPACE"," ",499],"{",["T_WHITESPACE","\n            ",499],["T_VARIABLE","$folder",500],["T_WHITESPACE"," ",500],"=",["T_WHITESPACE"," ",500],["T_VARIABLE","$parentFolder",500],["T_OBJECT_OPERATOR","->",500],["T_STRING","getGlobalName",500],"(",")",["T_WHITESPACE"," ",500],".",["T_WHITESPACE"," ",500],["T_CONSTANT_ENCAPSED_STRING","'\/'",500],["T_WHITESPACE"," ",500],".",["T_WHITESPACE"," ",500],["T_VARIABLE","$name",500],";",["T_WHITESPACE","\n        ",500],"}",["T_WHITESPACE"," ",501],["T_ELSE","else",501],["T_WHITESPACE"," ",501],["T_IF","if",501],["T_WHITESPACE"," ",501],"(",["T_VARIABLE","$parentFolder",501],["T_WHITESPACE"," ",501],["T_IS_NOT_EQUAL","!=",501],["T_WHITESPACE"," ",501],["T_STRING","null",501],")",["T_WHITESPACE"," ",501],"{",["T_WHITESPACE","\n            ",501],["T_VARIABLE","$folder",502],["T_WHITESPACE"," ",502],"=",["T_WHITESPACE"," ",502],["T_VARIABLE","$parentFolder",502],["T_WHITESPACE"," ",502],".",["T_WHITESPACE"," ",502],["T_CONSTANT_ENCAPSED_STRING","'\/'",502],["T_WHITESPACE"," ",502],".",["T_WHITESPACE"," ",502],["T_VARIABLE","$name",502],";",["T_WHITESPACE","\n        ",502],"}",["T_WHITESPACE"," ",503],["T_ELSE","else",503],["T_WHITESPACE"," ",503],"{",["T_WHITESPACE","\n            ",503],["T_VARIABLE","$folder",504],["T_WHITESPACE"," ",504],"=",["T_WHITESPACE"," ",504],["T_VARIABLE","$name",504],";",["T_WHITESPACE","\n        ",504],"}",["T_WHITESPACE","\n\n        ",505],["T_IF","if",507],["T_WHITESPACE"," ",507],"(","!",["T_VARIABLE","$this",507],["T_OBJECT_OPERATOR","->",507],["T_STRING","_protocol",507],["T_OBJECT_OPERATOR","->",507],["T_STRING","create",507],"(",["T_VARIABLE","$folder",507],")",")",["T_WHITESPACE"," ",507],"{",["T_WHITESPACE","\n            ",507],["T_DOC_COMMENT","\/**\n             * @see Zend_Mail_Storage_Exception\n             *\/",508],["T_WHITESPACE","\n            ",510],["T_COMMENT","#require_once 'Zend\/Mail\/Storage\/Exception.php';\n",511],["T_WHITESPACE","            ",512],["T_THROW","throw",512],["T_WHITESPACE"," ",512],["T_NEW","new",512],["T_WHITESPACE"," ",512],["T_STRING","Zend_Mail_Storage_Exception",512],"(",["T_CONSTANT_ENCAPSED_STRING","'cannot create folder'",512],")",";",["T_WHITESPACE","\n        ",512],"}",["T_WHITESPACE","\n    ",513],"}",["T_WHITESPACE","\n\n    ",514],["T_DOC_COMMENT","\/**\n     * remove a folder\n     *\n     * @param  string|Zend_Mail_Storage_Folder $name      name or instance of folder\n     * @return null\n     * @throws Zend_Mail_Storage_Exception\n     *\/",516],["T_WHITESPACE","\n    ",522],["T_PUBLIC","public",523],["T_WHITESPACE"," ",523],["T_FUNCTION","function",523],["T_WHITESPACE"," ",523],["T_STRING","removeFolder",523],"(",["T_VARIABLE","$name",523],")",["T_WHITESPACE","\n    ",523],"{",["T_WHITESPACE","\n        ",524],["T_IF","if",525],["T_WHITESPACE"," ",525],"(",["T_VARIABLE","$name",525],["T_WHITESPACE"," ",525],["T_INSTANCEOF","instanceof",525],["T_WHITESPACE"," ",525],["T_STRING","Zend_Mail_Storage_Folder",525],")",["T_WHITESPACE"," ",525],"{",["T_WHITESPACE","\n            ",525],["T_VARIABLE","$name",526],["T_WHITESPACE"," ",526],"=",["T_WHITESPACE"," ",526],["T_VARIABLE","$name",526],["T_OBJECT_OPERATOR","->",526],["T_STRING","getGlobalName",526],"(",")",";",["T_WHITESPACE","\n        ",526],"}",["T_WHITESPACE","\n\n        ",527],["T_IF","if",529],["T_WHITESPACE"," ",529],"(","!",["T_VARIABLE","$this",529],["T_OBJECT_OPERATOR","->",529],["T_STRING","_protocol",529],["T_OBJECT_OPERATOR","->",529],["T_STRING","delete",529],"(",["T_VARIABLE","$name",529],")",")",["T_WHITESPACE"," ",529],"{",["T_WHITESPACE","\n            ",529],["T_DOC_COMMENT","\/**\n             * @see Zend_Mail_Storage_Exception\n             *\/",530],["T_WHITESPACE","\n            ",532],["T_COMMENT","#require_once 'Zend\/Mail\/Storage\/Exception.php';\n",533],["T_WHITESPACE","            ",534],["T_THROW","throw",534],["T_WHITESPACE"," ",534],["T_NEW","new",534],["T_WHITESPACE"," ",534],["T_STRING","Zend_Mail_Storage_Exception",534],"(",["T_CONSTANT_ENCAPSED_STRING","'cannot delete folder'",534],")",";",["T_WHITESPACE","\n        ",534],"}",["T_WHITESPACE","\n    ",535],"}",["T_WHITESPACE","\n\n    ",536],["T_DOC_COMMENT","\/**\n     * rename and\/or move folder\n     *\n     * The new name has the same restrictions as in createFolder()\n     *\n     * @param  string|Zend_Mail_Storage_Folder $oldName name or instance of folder\n     * @param  string                          $newName new global name of folder\n     * @return null\n     * @throws Zend_Mail_Storage_Exception\n     *\/",538],["T_WHITESPACE","\n    ",547],["T_PUBLIC","public",548],["T_WHITESPACE"," ",548],["T_FUNCTION","function",548],["T_WHITESPACE"," ",548],["T_STRING","renameFolder",548],"(",["T_VARIABLE","$oldName",548],",",["T_WHITESPACE"," ",548],["T_VARIABLE","$newName",548],")",["T_WHITESPACE","\n    ",548],"{",["T_WHITESPACE","\n        ",549],["T_IF","if",550],["T_WHITESPACE"," ",550],"(",["T_VARIABLE","$oldName",550],["T_WHITESPACE"," ",550],["T_INSTANCEOF","instanceof",550],["T_WHITESPACE"," ",550],["T_STRING","Zend_Mail_Storage_Folder",550],")",["T_WHITESPACE"," ",550],"{",["T_WHITESPACE","\n            ",550],["T_VARIABLE","$oldName",551],["T_WHITESPACE"," ",551],"=",["T_WHITESPACE"," ",551],["T_VARIABLE","$oldName",551],["T_OBJECT_OPERATOR","->",551],["T_STRING","getGlobalName",551],"(",")",";",["T_WHITESPACE","\n        ",551],"}",["T_WHITESPACE","\n\n        ",552],["T_IF","if",554],["T_WHITESPACE"," ",554],"(","!",["T_VARIABLE","$this",554],["T_OBJECT_OPERATOR","->",554],["T_STRING","_protocol",554],["T_OBJECT_OPERATOR","->",554],["T_STRING","rename",554],"(",["T_VARIABLE","$oldName",554],",",["T_WHITESPACE"," ",554],["T_VARIABLE","$newName",554],")",")",["T_WHITESPACE"," ",554],"{",["T_WHITESPACE","\n            ",554],["T_DOC_COMMENT","\/**\n             * @see Zend_Mail_Storage_Exception\n             *\/",555],["T_WHITESPACE","\n            ",557],["T_COMMENT","#require_once 'Zend\/Mail\/Storage\/Exception.php';\n",558],["T_WHITESPACE","            ",559],["T_THROW","throw",559],["T_WHITESPACE"," ",559],["T_NEW","new",559],["T_WHITESPACE"," ",559],["T_STRING","Zend_Mail_Storage_Exception",559],"(",["T_CONSTANT_ENCAPSED_STRING","'cannot rename folder'",559],")",";",["T_WHITESPACE","\n        ",559],"}",["T_WHITESPACE","\n    ",560],"}",["T_WHITESPACE","\n\n    ",561],["T_DOC_COMMENT","\/**\n     * append a new message to mail storage\n     *\n     * @param  string                                     $message message as string or instance of message class\n     * @param  null|string|Zend_Mail_Storage_Folder       $folder  folder for new message, else current folder is taken\n     * @param  null|array                                 $flags   set flags for new message, else a default set is used\n     * @throws Zend_Mail_Storage_Exception\n     *\/",563],["T_WHITESPACE","\n     ",570],["T_COMMENT","\/\/ not yet * @param string|Zend_Mail_Message|Zend_Mime_Message $message message as string or instance of message class\n",571],["T_WHITESPACE","    ",572],["T_PUBLIC","public",572],["T_WHITESPACE"," ",572],["T_FUNCTION","function",572],["T_WHITESPACE"," ",572],["T_STRING","appendMessage",572],"(",["T_VARIABLE","$message",572],",",["T_WHITESPACE"," ",572],["T_VARIABLE","$folder",572],["T_WHITESPACE"," ",572],"=",["T_WHITESPACE"," ",572],["T_STRING","null",572],",",["T_WHITESPACE"," ",572],["T_VARIABLE","$flags",572],["T_WHITESPACE"," ",572],"=",["T_WHITESPACE"," ",572],["T_STRING","null",572],")",["T_WHITESPACE","\n    ",572],"{",["T_WHITESPACE","\n        ",573],["T_IF","if",574],["T_WHITESPACE"," ",574],"(",["T_VARIABLE","$folder",574],["T_WHITESPACE"," ",574],["T_IS_IDENTICAL","===",574],["T_WHITESPACE"," ",574],["T_STRING","null",574],")",["T_WHITESPACE"," ",574],"{",["T_WHITESPACE","\n            ",574],["T_VARIABLE","$folder",575],["T_WHITESPACE"," ",575],"=",["T_WHITESPACE"," ",575],["T_VARIABLE","$this",575],["T_OBJECT_OPERATOR","->",575],["T_STRING","_currentFolder",575],";",["T_WHITESPACE","\n        ",575],"}",["T_WHITESPACE","\n\n        ",576],["T_IF","if",578],["T_WHITESPACE"," ",578],"(",["T_VARIABLE","$flags",578],["T_WHITESPACE"," ",578],["T_IS_IDENTICAL","===",578],["T_WHITESPACE"," ",578],["T_STRING","null",578],")",["T_WHITESPACE"," ",578],"{",["T_WHITESPACE","\n            ",578],["T_VARIABLE","$flags",579],["T_WHITESPACE"," ",579],"=",["T_WHITESPACE"," ",579],["T_ARRAY","array",579],"(",["T_STRING","Zend_Mail_Storage",579],["T_DOUBLE_COLON","::",579],["T_STRING","FLAG_SEEN",579],")",";",["T_WHITESPACE","\n        ",579],"}",["T_WHITESPACE","\n\n        ",580],["T_COMMENT","\/\/ TODO: handle class instances for $message\n",582],["T_WHITESPACE","        ",583],["T_IF","if",583],["T_WHITESPACE"," ",583],"(","!",["T_VARIABLE","$this",583],["T_OBJECT_OPERATOR","->",583],["T_STRING","_protocol",583],["T_OBJECT_OPERATOR","->",583],["T_STRING","append",583],"(",["T_VARIABLE","$folder",583],",",["T_WHITESPACE"," ",583],["T_VARIABLE","$message",583],",",["T_WHITESPACE"," ",583],["T_VARIABLE","$flags",583],")",")",["T_WHITESPACE"," ",583],"{",["T_WHITESPACE","\n            ",583],["T_DOC_COMMENT","\/**\n             * @see Zend_Mail_Storage_Exception\n             *\/",584],["T_WHITESPACE","\n            ",586],["T_COMMENT","#require_once 'Zend\/Mail\/Storage\/Exception.php';\n",587],["T_WHITESPACE","            ",588],["T_THROW","throw",588],["T_WHITESPACE"," ",588],["T_NEW","new",588],["T_WHITESPACE"," ",588],["T_STRING","Zend_Mail_Storage_Exception",588],"(",["T_CONSTANT_ENCAPSED_STRING","'cannot create message, please check if the folder exists and your flags'",588],")",";",["T_WHITESPACE","\n        ",588],"}",["T_WHITESPACE","\n    ",589],"}",["T_WHITESPACE","\n\n    ",590],["T_DOC_COMMENT","\/**\n     * copy an existing message\n     *\n     * @param  int                             $id     number of message\n     * @param  string|Zend_Mail_Storage_Folder $folder name or instance of targer folder\n     * @return null\n     * @throws Zend_Mail_Storage_Exception\n     *\/",592],["T_WHITESPACE","\n    ",599],["T_PUBLIC","public",600],["T_WHITESPACE"," ",600],["T_FUNCTION","function",600],["T_WHITESPACE"," ",600],["T_STRING","copyMessage",600],"(",["T_VARIABLE","$id",600],",",["T_WHITESPACE"," ",600],["T_VARIABLE","$folder",600],")",["T_WHITESPACE","\n    ",600],"{",["T_WHITESPACE","\n        ",601],["T_IF","if",602],["T_WHITESPACE"," ",602],"(","!",["T_VARIABLE","$this",602],["T_OBJECT_OPERATOR","->",602],["T_STRING","_protocol",602],["T_OBJECT_OPERATOR","->",602],["T_STRING","copy",602],"(",["T_VARIABLE","$folder",602],",",["T_WHITESPACE"," ",602],["T_VARIABLE","$id",602],")",")",["T_WHITESPACE"," ",602],"{",["T_WHITESPACE","\n            ",602],["T_DOC_COMMENT","\/**\n             * @see Zend_Mail_Storage_Exception\n             *\/",603],["T_WHITESPACE","\n            ",605],["T_COMMENT","#require_once 'Zend\/Mail\/Storage\/Exception.php';\n",606],["T_WHITESPACE","            ",607],["T_THROW","throw",607],["T_WHITESPACE"," ",607],["T_NEW","new",607],["T_WHITESPACE"," ",607],["T_STRING","Zend_Mail_Storage_Exception",607],"(",["T_CONSTANT_ENCAPSED_STRING","'cannot copy message, does the folder exist?'",607],")",";",["T_WHITESPACE","\n        ",607],"}",["T_WHITESPACE","\n    ",608],"}",["T_WHITESPACE","\n\n    ",609],["T_DOC_COMMENT","\/**\n     * move an existing message\n     *\n     * NOTE: imap has no native move command, thus it's emulated with copy and delete\n     *\n     * @param  int                             $id     number of message\n     * @param  string|Zend_Mail_Storage_Folder $folder name or instance of targer folder\n     * @return null\n     * @throws Zend_Mail_Storage_Exception\n     *\/",611],["T_WHITESPACE","\n    ",620],["T_PUBLIC","public",621],["T_WHITESPACE"," ",621],["T_FUNCTION","function",621],["T_WHITESPACE"," ",621],["T_STRING","moveMessage",621],"(",["T_VARIABLE","$id",621],",",["T_WHITESPACE"," ",621],["T_VARIABLE","$folder",621],")",["T_WHITESPACE"," ",621],"{",["T_WHITESPACE","\n        ",621],["T_VARIABLE","$this",622],["T_OBJECT_OPERATOR","->",622],["T_STRING","copyMessage",622],"(",["T_VARIABLE","$id",622],",",["T_WHITESPACE"," ",622],["T_VARIABLE","$folder",622],")",";",["T_WHITESPACE","\n        ",622],["T_VARIABLE","$this",623],["T_OBJECT_OPERATOR","->",623],["T_STRING","removeMessage",623],"(",["T_VARIABLE","$id",623],")",";",["T_WHITESPACE","\n    ",623],"}",["T_WHITESPACE","\n\n    ",624],["T_DOC_COMMENT","\/**\n     * set flags for message\n     *\n     * NOTE: this method can't set the recent flag.\n     *\n     * @param  int   $id    number of message\n     * @param  array $flags new flags for message\n     * @throws Zend_Mail_Storage_Exception\n     *\/",626],["T_WHITESPACE","\n    ",634],["T_PUBLIC","public",635],["T_WHITESPACE"," ",635],["T_FUNCTION","function",635],["T_WHITESPACE"," ",635],["T_STRING","setFlags",635],"(",["T_VARIABLE","$id",635],",",["T_WHITESPACE"," ",635],["T_VARIABLE","$flags",635],")",["T_WHITESPACE","\n    ",635],"{",["T_WHITESPACE","\n        ",636],["T_IF","if",637],["T_WHITESPACE"," ",637],"(","!",["T_VARIABLE","$this",637],["T_OBJECT_OPERATOR","->",637],["T_STRING","_protocol",637],["T_OBJECT_OPERATOR","->",637],["T_STRING","store",637],"(",["T_VARIABLE","$flags",637],",",["T_WHITESPACE"," ",637],["T_VARIABLE","$id",637],")",")",["T_WHITESPACE"," ",637],"{",["T_WHITESPACE","\n            ",637],["T_DOC_COMMENT","\/**\n             * @see Zend_Mail_Storage_Exception\n             *\/",638],["T_WHITESPACE","\n            ",640],["T_COMMENT","#require_once 'Zend\/Mail\/Storage\/Exception.php';\n",641],["T_WHITESPACE","            ",642],["T_THROW","throw",642],["T_WHITESPACE"," ",642],["T_NEW","new",642],["T_WHITESPACE"," ",642],["T_STRING","Zend_Mail_Storage_Exception",642],"(",["T_CONSTANT_ENCAPSED_STRING","'cannot set flags, have you tried to set the recent flag or special chars?'",642],")",";",["T_WHITESPACE","\n        ",642],"}",["T_WHITESPACE","\n    ",643],"}",["T_WHITESPACE","\n",644],"}",["T_WHITESPACE","\n\n",645]]