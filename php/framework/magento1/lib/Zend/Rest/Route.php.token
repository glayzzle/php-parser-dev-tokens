[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Zend Framework\n *\n * LICENSE\n *\n * This source file is subject to the new BSD license that is bundled\n * with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/framework.zend.com\/license\/new-bsd\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@zend.com so we can send you a copy immediately.\n *\n * @category   Zend\n * @package    Zend_Rest\n * @copyright  Copyright (c) 2005-2015 Zend Technologies USA Inc. (http:\/\/www.zend.com)\n * @license    http:\/\/framework.zend.com\/license\/new-bsd     New BSD License\n * @version    $Id$\n *\/",2],["T_WHITESPACE","\n\n",20],["T_DOC_COMMENT","\/**\n * @see Zend_Controller_Router_Route_Interface\n *\/",22],["T_WHITESPACE","\n",24],["T_COMMENT","#require_once 'Zend\/Controller\/Router\/Route\/Interface.php';\n",25],["T_WHITESPACE","\n",26],["T_DOC_COMMENT","\/**\n * @see Zend_Controller_Router_Route_Module\n *\/",27],["T_WHITESPACE","\n",29],["T_COMMENT","#require_once 'Zend\/Controller\/Router\/Route\/Module.php';\n",30],["T_WHITESPACE","\n",31],["T_DOC_COMMENT","\/**\n * @see Zend_Controller_Dispatcher_Interface\n *\/",32],["T_WHITESPACE","\n",34],["T_COMMENT","#require_once 'Zend\/Controller\/Dispatcher\/Interface.php';\n",35],["T_WHITESPACE","\n",36],["T_DOC_COMMENT","\/**\n * @see Zend_Controller_Request_Abstract\n *\/",37],["T_WHITESPACE","\n",39],["T_COMMENT","#require_once 'Zend\/Controller\/Request\/Abstract.php';\n",40],["T_WHITESPACE","\n",41],["T_DOC_COMMENT","\/**\n * Rest Route\n *\n * Request-aware route for RESTful modular routing\n *\n * @category   Zend\n * @package    Zend_Rest\n * @copyright  Copyright (c) 2005-2015 Zend Technologies USA Inc. (http:\/\/www.zend.com)\n * @license    http:\/\/framework.zend.com\/license\/new-bsd     New BSD License\n *\/",42],["T_WHITESPACE","\n",51],["T_CLASS","class",52],["T_WHITESPACE"," ",52],["T_STRING","Zend_Rest_Route",52],["T_WHITESPACE"," ",52],["T_EXTENDS","extends",52],["T_WHITESPACE"," ",52],["T_STRING","Zend_Controller_Router_Route_Module",52],["T_WHITESPACE","\n",52],"{",["T_WHITESPACE","\n    ",53],["T_DOC_COMMENT","\/**\n     * Specific Modules to receive RESTful routes\n     * @var array\n     *\/",54],["T_WHITESPACE","\n    ",57],["T_PROTECTED","protected",58],["T_WHITESPACE"," ",58],["T_VARIABLE","$_restfulModules",58],["T_WHITESPACE"," ",58],"=",["T_WHITESPACE"," ",58],["T_STRING","null",58],";",["T_WHITESPACE","\n\n    ",58],["T_DOC_COMMENT","\/**\n     * Specific Modules=>Controllers to receive RESTful routes\n     * @var array\n     *\/",60],["T_WHITESPACE","\n    ",63],["T_PROTECTED","protected",64],["T_WHITESPACE"," ",64],["T_VARIABLE","$_restfulControllers",64],["T_WHITESPACE"," ",64],"=",["T_WHITESPACE"," ",64],["T_STRING","null",64],";",["T_WHITESPACE","\n\n    ",64],["T_DOC_COMMENT","\/**\n     * @var Zend_Controller_Front\n     *\/",66],["T_WHITESPACE","\n    ",68],["T_PROTECTED","protected",69],["T_WHITESPACE"," ",69],["T_VARIABLE","$_front",69],";",["T_WHITESPACE","\n\n    ",69],["T_DOC_COMMENT","\/**\n     * Constructor\n     *\n     * @param Zend_Controller_Front $front Front Controller object\n     * @param array $defaults Defaults for map variables with keys as variable names\n     * @param array $responders Modules or controllers to receive RESTful routes\n     *\/",71],["T_WHITESPACE","\n    ",77],["T_PUBLIC","public",78],["T_WHITESPACE"," ",78],["T_FUNCTION","function",78],["T_WHITESPACE"," ",78],["T_STRING","__construct",78],"(",["T_STRING","Zend_Controller_Front",78],["T_WHITESPACE"," ",78],["T_VARIABLE","$front",78],",",["T_WHITESPACE","\n        ",78],["T_ARRAY","array",79],["T_WHITESPACE"," ",79],["T_VARIABLE","$defaults",79],["T_WHITESPACE"," ",79],"=",["T_WHITESPACE"," ",79],["T_ARRAY","array",79],"(",")",",",["T_WHITESPACE","\n        ",79],["T_ARRAY","array",80],["T_WHITESPACE"," ",80],["T_VARIABLE","$responders",80],["T_WHITESPACE"," ",80],"=",["T_WHITESPACE"," ",80],["T_ARRAY","array",80],"(",")",["T_WHITESPACE","\n    ",80],")",["T_WHITESPACE"," ",81],"{",["T_WHITESPACE","\n        ",81],["T_VARIABLE","$this",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","_defaults",82],["T_WHITESPACE"," ",82],"=",["T_WHITESPACE"," ",82],["T_VARIABLE","$defaults",82],";",["T_WHITESPACE","\n\n        ",82],["T_IF","if",84],["T_WHITESPACE"," ",84],"(",["T_VARIABLE","$responders",84],")",["T_WHITESPACE"," ",84],"{",["T_WHITESPACE","\n            ",84],["T_VARIABLE","$this",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","_parseResponders",85],"(",["T_VARIABLE","$responders",85],")",";",["T_WHITESPACE","\n        ",85],"}",["T_WHITESPACE","\n\n        ",86],["T_VARIABLE","$this",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","_front",88],["T_WHITESPACE","      ",88],"=",["T_WHITESPACE"," ",88],["T_VARIABLE","$front",88],";",["T_WHITESPACE","\n        ",88],["T_VARIABLE","$this",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","_dispatcher",89],["T_WHITESPACE"," ",89],"=",["T_WHITESPACE"," ",89],["T_VARIABLE","$front",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","getDispatcher",89],"(",")",";",["T_WHITESPACE","\n    ",89],"}",["T_WHITESPACE","\n\n    ",90],["T_DOC_COMMENT","\/**\n     * Instantiates route based on passed Zend_Config structure\n     *\/",92],["T_WHITESPACE","\n    ",94],["T_PUBLIC","public",95],["T_WHITESPACE"," ",95],["T_STATIC","static",95],["T_WHITESPACE"," ",95],["T_FUNCTION","function",95],["T_WHITESPACE"," ",95],["T_STRING","getInstance",95],"(",["T_STRING","Zend_Config",95],["T_WHITESPACE"," ",95],["T_VARIABLE","$config",95],")",["T_WHITESPACE","\n    ",95],"{",["T_WHITESPACE","\n        ",96],["T_VARIABLE","$frontController",97],["T_WHITESPACE"," ",97],"=",["T_WHITESPACE"," ",97],["T_STRING","Zend_Controller_Front",97],["T_DOUBLE_COLON","::",97],["T_STRING","getInstance",97],"(",")",";",["T_WHITESPACE","\n        ",97],["T_VARIABLE","$defaultsArray",98],["T_WHITESPACE"," ",98],"=",["T_WHITESPACE"," ",98],["T_ARRAY","array",98],"(",")",";",["T_WHITESPACE","\n        ",98],["T_VARIABLE","$restfulConfigArray",99],["T_WHITESPACE"," ",99],"=",["T_WHITESPACE"," ",99],["T_ARRAY","array",99],"(",")",";",["T_WHITESPACE","\n        ",99],["T_FOREACH","foreach",100],["T_WHITESPACE"," ",100],"(",["T_VARIABLE","$config",100],["T_WHITESPACE"," ",100],["T_AS","as",100],["T_WHITESPACE"," ",100],["T_VARIABLE","$key",100],["T_WHITESPACE"," ",100],["T_DOUBLE_ARROW","=>",100],["T_WHITESPACE"," ",100],["T_VARIABLE","$values",100],")",["T_WHITESPACE"," ",100],"{",["T_WHITESPACE","\n            ",100],["T_IF","if",101],["T_WHITESPACE"," ",101],"(",["T_VARIABLE","$key",101],["T_WHITESPACE"," ",101],["T_IS_EQUAL","==",101],["T_WHITESPACE"," ",101],["T_CONSTANT_ENCAPSED_STRING","'type'",101],")",["T_WHITESPACE"," ",101],"{",["T_WHITESPACE","\n                ",101],["T_COMMENT","\/\/ do nothing\n",102],["T_WHITESPACE","            ",103],"}",["T_WHITESPACE"," ",103],["T_ELSEIF","elseif",103],["T_WHITESPACE"," ",103],"(",["T_VARIABLE","$key",103],["T_WHITESPACE"," ",103],["T_IS_EQUAL","==",103],["T_WHITESPACE"," ",103],["T_CONSTANT_ENCAPSED_STRING","'defaults'",103],")",["T_WHITESPACE"," ",103],"{",["T_WHITESPACE","\n                ",103],["T_VARIABLE","$defaultsArray",104],["T_WHITESPACE"," ",104],"=",["T_WHITESPACE"," ",104],["T_VARIABLE","$values",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","toArray",104],"(",")",";",["T_WHITESPACE","\n            ",104],"}",["T_WHITESPACE"," ",105],["T_ELSE","else",105],["T_WHITESPACE"," ",105],"{",["T_WHITESPACE","\n                ",105],["T_VARIABLE","$restfulConfigArray",106],"[",["T_VARIABLE","$key",106],"]",["T_WHITESPACE"," ",106],"=",["T_WHITESPACE"," ",106],["T_STRING","explode",106],"(",["T_CONSTANT_ENCAPSED_STRING","','",106],",",["T_WHITESPACE"," ",106],["T_VARIABLE","$values",106],")",";",["T_WHITESPACE","\n            ",106],"}",["T_WHITESPACE","\n        ",107],"}",["T_WHITESPACE","\n        ",108],["T_VARIABLE","$instance",109],["T_WHITESPACE"," ",109],"=",["T_WHITESPACE"," ",109],["T_NEW","new",109],["T_WHITESPACE"," ",109],["T_STRING","self",109],"(",["T_VARIABLE","$frontController",109],",",["T_WHITESPACE"," ",109],["T_VARIABLE","$defaultsArray",109],",",["T_WHITESPACE"," ",109],["T_VARIABLE","$restfulConfigArray",109],")",";",["T_WHITESPACE","\n        ",109],["T_RETURN","return",110],["T_WHITESPACE"," ",110],["T_VARIABLE","$instance",110],";",["T_WHITESPACE","\n    ",110],"}",["T_WHITESPACE","\n\n    ",111],["T_DOC_COMMENT","\/**\n     * Matches a user submitted request. Assigns and returns an array of variables\n     * on a successful match.\n     *\n     * If a request object is registered, it uses its setModuleName(),\n     * setControllerName(), and setActionName() accessors to set those values.\n     * Always returns the values as an array.\n     *\n     * @param Zend_Controller_Request_Http $request Request used to match against this routing ruleset\n     * @return array An array of assigned values or a false on a mismatch\n     *\/",113],["T_WHITESPACE","\n    ",123],["T_PUBLIC","public",124],["T_WHITESPACE"," ",124],["T_FUNCTION","function",124],["T_WHITESPACE"," ",124],["T_STRING","match",124],"(",["T_VARIABLE","$request",124],",",["T_WHITESPACE"," ",124],["T_VARIABLE","$partial",124],["T_WHITESPACE"," ",124],"=",["T_WHITESPACE"," ",124],["T_STRING","false",124],")",["T_WHITESPACE","\n    ",124],"{",["T_WHITESPACE","\n        ",125],["T_IF","if",126],["T_WHITESPACE"," ",126],"(","!",["T_VARIABLE","$request",126],["T_WHITESPACE"," ",126],["T_INSTANCEOF","instanceof",126],["T_WHITESPACE"," ",126],["T_STRING","Zend_Controller_Request_Http",126],")",["T_WHITESPACE"," ",126],"{",["T_WHITESPACE","\n            ",126],["T_VARIABLE","$request",127],["T_WHITESPACE"," ",127],"=",["T_WHITESPACE"," ",127],["T_VARIABLE","$this",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","_front",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","getRequest",127],"(",")",";",["T_WHITESPACE","\n        ",127],"}",["T_WHITESPACE","\n        ",128],["T_VARIABLE","$this",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","_request",129],["T_WHITESPACE"," ",129],"=",["T_WHITESPACE"," ",129],["T_VARIABLE","$request",129],";",["T_WHITESPACE","\n        ",129],["T_VARIABLE","$this",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","_setRequestKeys",130],"(",")",";",["T_WHITESPACE","\n\n        ",130],["T_VARIABLE","$path",132],["T_WHITESPACE","   ",132],"=",["T_WHITESPACE"," ",132],["T_VARIABLE","$request",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","getPathInfo",132],"(",")",";",["T_WHITESPACE","\n        ",132],["T_VARIABLE","$params",133],["T_WHITESPACE"," ",133],"=",["T_WHITESPACE"," ",133],["T_VARIABLE","$request",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","getParams",133],"(",")",";",["T_WHITESPACE","\n        ",133],["T_VARIABLE","$values",134],["T_WHITESPACE"," ",134],"=",["T_WHITESPACE"," ",134],["T_ARRAY","array",134],"(",")",";",["T_WHITESPACE","\n        ",134],["T_VARIABLE","$path",135],["T_WHITESPACE","   ",135],"=",["T_WHITESPACE"," ",135],["T_STRING","trim",135],"(",["T_VARIABLE","$path",135],",",["T_WHITESPACE"," ",135],["T_STRING","self",135],["T_DOUBLE_COLON","::",135],["T_STRING","URI_DELIMITER",135],")",";",["T_WHITESPACE","\n\n        ",135],["T_IF","if",137],["T_WHITESPACE"," ",137],"(",["T_VARIABLE","$path",137],["T_WHITESPACE"," ",137],["T_IS_NOT_EQUAL","!=",137],["T_WHITESPACE"," ",137],["T_CONSTANT_ENCAPSED_STRING","''",137],")",["T_WHITESPACE"," ",137],"{",["T_WHITESPACE","\n\n            ",137],["T_VARIABLE","$path",139],["T_WHITESPACE"," ",139],"=",["T_WHITESPACE"," ",139],["T_STRING","explode",139],"(",["T_STRING","self",139],["T_DOUBLE_COLON","::",139],["T_STRING","URI_DELIMITER",139],",",["T_WHITESPACE"," ",139],["T_VARIABLE","$path",139],")",";",["T_WHITESPACE","\n            ",139],["T_COMMENT","\/\/ Determine Module\n",140],["T_WHITESPACE","            ",141],["T_VARIABLE","$moduleName",141],["T_WHITESPACE"," ",141],"=",["T_WHITESPACE"," ",141],["T_VARIABLE","$this",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","_defaults",141],"[",["T_VARIABLE","$this",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","_moduleKey",141],"]",";",["T_WHITESPACE","\n            ",141],["T_VARIABLE","$dispatcher",142],["T_WHITESPACE"," ",142],"=",["T_WHITESPACE"," ",142],["T_VARIABLE","$this",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","_front",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","getDispatcher",142],"(",")",";",["T_WHITESPACE","\n            ",142],["T_IF","if",143],["T_WHITESPACE"," ",143],"(",["T_VARIABLE","$dispatcher",143],["T_WHITESPACE"," ",143],["T_BOOLEAN_AND","&&",143],["T_WHITESPACE"," ",143],["T_VARIABLE","$dispatcher",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","isValidModule",143],"(",["T_VARIABLE","$path",143],"[",["T_LNUMBER","0",143],"]",")",")",["T_WHITESPACE"," ",143],"{",["T_WHITESPACE","\n                ",143],["T_VARIABLE","$moduleName",144],["T_WHITESPACE"," ",144],"=",["T_WHITESPACE"," ",144],["T_VARIABLE","$path",144],"[",["T_LNUMBER","0",144],"]",";",["T_WHITESPACE","\n                ",144],["T_IF","if",145],["T_WHITESPACE"," ",145],"(",["T_VARIABLE","$this",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","_checkRestfulModule",145],"(",["T_VARIABLE","$moduleName",145],")",")",["T_WHITESPACE"," ",145],"{",["T_WHITESPACE","\n                    ",145],["T_VARIABLE","$values",146],"[",["T_VARIABLE","$this",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","_moduleKey",146],"]",["T_WHITESPACE"," ",146],"=",["T_WHITESPACE"," ",146],["T_STRING","array_shift",146],"(",["T_VARIABLE","$path",146],")",";",["T_WHITESPACE","\n                    ",146],["T_VARIABLE","$this",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","_moduleValid",147],["T_WHITESPACE"," ",147],"=",["T_WHITESPACE"," ",147],["T_STRING","true",147],";",["T_WHITESPACE","\n                ",147],"}",["T_WHITESPACE","\n            ",148],"}",["T_WHITESPACE","\n\n            ",149],["T_COMMENT","\/\/ Determine Controller\n",151],["T_WHITESPACE","            ",152],["T_VARIABLE","$controllerName",152],["T_WHITESPACE"," ",152],"=",["T_WHITESPACE"," ",152],["T_VARIABLE","$this",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","_defaults",152],"[",["T_VARIABLE","$this",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","_controllerKey",152],"]",";",["T_WHITESPACE","\n            ",152],["T_IF","if",153],["T_WHITESPACE"," ",153],"(",["T_STRING","count",153],"(",["T_VARIABLE","$path",153],")",["T_WHITESPACE"," ",153],["T_BOOLEAN_AND","&&",153],["T_WHITESPACE"," ",153],"!",["T_EMPTY","empty",153],"(",["T_VARIABLE","$path",153],"[",["T_LNUMBER","0",153],"]",")",")",["T_WHITESPACE"," ",153],"{",["T_WHITESPACE","\n                ",153],["T_IF","if",154],["T_WHITESPACE"," ",154],"(",["T_VARIABLE","$this",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","_checkRestfulController",154],"(",["T_VARIABLE","$moduleName",154],",",["T_WHITESPACE"," ",154],["T_VARIABLE","$path",154],"[",["T_LNUMBER","0",154],"]",")",")",["T_WHITESPACE"," ",154],"{",["T_WHITESPACE","\n                    ",154],["T_VARIABLE","$controllerName",155],["T_WHITESPACE"," ",155],"=",["T_WHITESPACE"," ",155],["T_VARIABLE","$path",155],"[",["T_LNUMBER","0",155],"]",";",["T_WHITESPACE","\n                    ",155],["T_VARIABLE","$values",156],"[",["T_VARIABLE","$this",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","_controllerKey",156],"]",["T_WHITESPACE"," ",156],"=",["T_WHITESPACE"," ",156],["T_STRING","array_shift",156],"(",["T_VARIABLE","$path",156],")",";",["T_WHITESPACE","\n                    ",156],["T_VARIABLE","$values",157],"[",["T_VARIABLE","$this",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","_actionKey",157],"]",["T_WHITESPACE"," ",157],"=",["T_WHITESPACE"," ",157],["T_CONSTANT_ENCAPSED_STRING","'get'",157],";",["T_WHITESPACE","\n                ",157],"}",["T_WHITESPACE"," ",158],["T_ELSE","else",158],["T_WHITESPACE"," ",158],"{",["T_WHITESPACE","\n                    ",158],["T_COMMENT","\/\/ If Controller in URI is not found to be a RESTful\n",159],["T_WHITESPACE","                    ",160],["T_COMMENT","\/\/ Controller, return false to fall back to other routes\n",160],["T_WHITESPACE","                    ",161],["T_RETURN","return",161],["T_WHITESPACE"," ",161],["T_STRING","false",161],";",["T_WHITESPACE","\n                ",161],"}",["T_WHITESPACE","\n            ",162],"}",["T_WHITESPACE"," ",163],["T_ELSEIF","elseif",163],["T_WHITESPACE"," ",163],"(",["T_VARIABLE","$this",163],["T_OBJECT_OPERATOR","->",163],["T_STRING","_checkRestfulController",163],"(",["T_VARIABLE","$moduleName",163],",",["T_WHITESPACE"," ",163],["T_VARIABLE","$controllerName",163],")",")",["T_WHITESPACE"," ",163],"{",["T_WHITESPACE","\n                ",163],["T_VARIABLE","$values",164],"[",["T_VARIABLE","$this",164],["T_OBJECT_OPERATOR","->",164],["T_STRING","_controllerKey",164],"]",["T_WHITESPACE"," ",164],"=",["T_WHITESPACE"," ",164],["T_VARIABLE","$controllerName",164],";",["T_WHITESPACE","\n                ",164],["T_VARIABLE","$values",165],"[",["T_VARIABLE","$this",165],["T_OBJECT_OPERATOR","->",165],["T_STRING","_actionKey",165],"]",["T_WHITESPACE"," ",165],"=",["T_WHITESPACE"," ",165],["T_CONSTANT_ENCAPSED_STRING","'get'",165],";",["T_WHITESPACE","\n            ",165],"}",["T_WHITESPACE"," ",166],["T_ELSE","else",166],["T_WHITESPACE"," ",166],"{",["T_WHITESPACE","\n                ",166],["T_RETURN","return",167],["T_WHITESPACE"," ",167],["T_STRING","false",167],";",["T_WHITESPACE","\n            ",167],"}",["T_WHITESPACE","\n\n            ",168],["T_COMMENT","\/\/Store path count for method mapping\n",170],["T_WHITESPACE","            ",171],["T_VARIABLE","$pathElementCount",171],["T_WHITESPACE"," ",171],"=",["T_WHITESPACE"," ",171],["T_STRING","count",171],"(",["T_VARIABLE","$path",171],")",";",["T_WHITESPACE","\n\n            ",171],["T_COMMENT","\/\/ Check for \"special get\" URI's\n",173],["T_WHITESPACE","            ",174],["T_VARIABLE","$specialGetTarget",174],["T_WHITESPACE"," ",174],"=",["T_WHITESPACE"," ",174],["T_STRING","false",174],";",["T_WHITESPACE","\n            ",174],["T_IF","if",175],["T_WHITESPACE"," ",175],"(",["T_VARIABLE","$pathElementCount",175],["T_WHITESPACE"," ",175],["T_BOOLEAN_AND","&&",175],["T_WHITESPACE"," ",175],["T_STRING","array_search",175],"(",["T_VARIABLE","$path",175],"[",["T_LNUMBER","0",175],"]",",",["T_WHITESPACE"," ",175],["T_ARRAY","array",175],"(",["T_CONSTANT_ENCAPSED_STRING","'index'",175],",",["T_WHITESPACE"," ",175],["T_CONSTANT_ENCAPSED_STRING","'new'",175],")",")",["T_WHITESPACE"," ",175],">",["T_WHITESPACE"," ",175],"-",["T_LNUMBER","1",175],")",["T_WHITESPACE"," ",175],"{",["T_WHITESPACE","\n                ",175],["T_VARIABLE","$specialGetTarget",176],["T_WHITESPACE"," ",176],"=",["T_WHITESPACE"," ",176],["T_STRING","array_shift",176],"(",["T_VARIABLE","$path",176],")",";",["T_WHITESPACE","\n            ",176],"}",["T_WHITESPACE"," ",177],["T_ELSEIF","elseif",177],["T_WHITESPACE"," ",177],"(",["T_VARIABLE","$pathElementCount",177],["T_WHITESPACE"," ",177],["T_BOOLEAN_AND","&&",177],["T_WHITESPACE"," ",177],["T_VARIABLE","$path",177],"[",["T_VARIABLE","$pathElementCount",177],"-",["T_LNUMBER","1",177],"]",["T_WHITESPACE"," ",177],["T_IS_EQUAL","==",177],["T_WHITESPACE"," ",177],["T_CONSTANT_ENCAPSED_STRING","'edit'",177],")",["T_WHITESPACE"," ",177],"{",["T_WHITESPACE","\n                ",177],["T_VARIABLE","$specialGetTarget",178],["T_WHITESPACE"," ",178],"=",["T_WHITESPACE"," ",178],["T_CONSTANT_ENCAPSED_STRING","'edit'",178],";",["T_WHITESPACE","\n                ",178],["T_VARIABLE","$params",179],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",179],"]",["T_WHITESPACE"," ",179],"=",["T_WHITESPACE"," ",179],["T_STRING","urldecode",179],"(",["T_VARIABLE","$path",179],"[",["T_VARIABLE","$pathElementCount",179],"-",["T_LNUMBER","2",179],"]",")",";",["T_WHITESPACE","\n            ",179],"}",["T_WHITESPACE"," ",180],["T_ELSEIF","elseif",180],["T_WHITESPACE"," ",180],"(",["T_VARIABLE","$pathElementCount",180],["T_WHITESPACE"," ",180],["T_IS_EQUAL","==",180],["T_WHITESPACE"," ",180],["T_LNUMBER","1",180],")",["T_WHITESPACE"," ",180],"{",["T_WHITESPACE","\n                ",180],["T_VARIABLE","$params",181],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",181],"]",["T_WHITESPACE"," ",181],"=",["T_WHITESPACE"," ",181],["T_STRING","urldecode",181],"(",["T_STRING","array_shift",181],"(",["T_VARIABLE","$path",181],")",")",";",["T_WHITESPACE","\n            ",181],"}",["T_WHITESPACE"," ",182],["T_ELSEIF","elseif",182],["T_WHITESPACE"," ",182],"(",["T_VARIABLE","$pathElementCount",182],["T_WHITESPACE"," ",182],["T_IS_EQUAL","==",182],["T_WHITESPACE"," ",182],["T_LNUMBER","0",182],["T_WHITESPACE"," ",182],["T_BOOLEAN_AND","&&",182],["T_WHITESPACE"," ",182],"!",["T_ISSET","isset",182],"(",["T_VARIABLE","$params",182],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",182],"]",")",")",["T_WHITESPACE"," ",182],"{",["T_WHITESPACE","\n                ",182],["T_VARIABLE","$specialGetTarget",183],["T_WHITESPACE"," ",183],"=",["T_WHITESPACE"," ",183],["T_CONSTANT_ENCAPSED_STRING","'index'",183],";",["T_WHITESPACE","\n            ",183],"}",["T_WHITESPACE","\n\n            ",184],["T_COMMENT","\/\/ Digest URI params\n",186],["T_WHITESPACE","            ",187],["T_IF","if",187],["T_WHITESPACE"," ",187],"(",["T_VARIABLE","$numSegs",187],["T_WHITESPACE"," ",187],"=",["T_WHITESPACE"," ",187],["T_STRING","count",187],"(",["T_VARIABLE","$path",187],")",")",["T_WHITESPACE"," ",187],"{",["T_WHITESPACE","\n                ",187],["T_FOR","for",188],["T_WHITESPACE"," ",188],"(",["T_VARIABLE","$i",188],["T_WHITESPACE"," ",188],"=",["T_WHITESPACE"," ",188],["T_LNUMBER","0",188],";",["T_WHITESPACE"," ",188],["T_VARIABLE","$i",188],["T_WHITESPACE"," ",188],"<",["T_WHITESPACE"," ",188],["T_VARIABLE","$numSegs",188],";",["T_WHITESPACE"," ",188],["T_VARIABLE","$i",188],["T_WHITESPACE"," ",188],"=",["T_WHITESPACE"," ",188],["T_VARIABLE","$i",188],["T_WHITESPACE"," ",188],"+",["T_WHITESPACE"," ",188],["T_LNUMBER","2",188],")",["T_WHITESPACE"," ",188],"{",["T_WHITESPACE","\n                    ",188],["T_VARIABLE","$key",189],["T_WHITESPACE"," ",189],"=",["T_WHITESPACE"," ",189],["T_STRING","urldecode",189],"(",["T_VARIABLE","$path",189],"[",["T_VARIABLE","$i",189],"]",")",";",["T_WHITESPACE","\n                    ",189],["T_VARIABLE","$val",190],["T_WHITESPACE"," ",190],"=",["T_WHITESPACE"," ",190],["T_ISSET","isset",190],"(",["T_VARIABLE","$path",190],"[",["T_VARIABLE","$i",190],["T_WHITESPACE"," ",190],"+",["T_WHITESPACE"," ",190],["T_LNUMBER","1",190],"]",")",["T_WHITESPACE"," ",190],"?",["T_WHITESPACE"," ",190],["T_VARIABLE","$path",190],"[",["T_VARIABLE","$i",190],["T_WHITESPACE"," ",190],"+",["T_WHITESPACE"," ",190],["T_LNUMBER","1",190],"]",["T_WHITESPACE"," ",190],":",["T_WHITESPACE"," ",190],["T_STRING","null",190],";",["T_WHITESPACE","\n                    ",190],["T_VARIABLE","$params",191],"[",["T_VARIABLE","$key",191],"]",["T_WHITESPACE"," ",191],"=",["T_WHITESPACE"," ",191],["T_STRING","urldecode",191],"(",["T_VARIABLE","$val",191],")",";",["T_WHITESPACE","\n                ",191],"}",["T_WHITESPACE","\n            ",192],"}",["T_WHITESPACE","\n\n            ",193],["T_COMMENT","\/\/ Determine Action\n",195],["T_WHITESPACE","            ",196],["T_VARIABLE","$requestMethod",196],["T_WHITESPACE"," ",196],"=",["T_WHITESPACE"," ",196],["T_STRING","strtolower",196],"(",["T_VARIABLE","$request",196],["T_OBJECT_OPERATOR","->",196],["T_STRING","getMethod",196],"(",")",")",";",["T_WHITESPACE","\n            ",196],["T_IF","if",197],["T_WHITESPACE"," ",197],"(",["T_VARIABLE","$requestMethod",197],["T_WHITESPACE"," ",197],["T_IS_NOT_EQUAL","!=",197],["T_WHITESPACE"," ",197],["T_CONSTANT_ENCAPSED_STRING","'get'",197],")",["T_WHITESPACE"," ",197],"{",["T_WHITESPACE","\n                ",197],["T_IF","if",198],["T_WHITESPACE"," ",198],"(",["T_VARIABLE","$request",198],["T_OBJECT_OPERATOR","->",198],["T_STRING","getParam",198],"(",["T_CONSTANT_ENCAPSED_STRING","'_method'",198],")",")",["T_WHITESPACE"," ",198],"{",["T_WHITESPACE","\n                    ",198],["T_VARIABLE","$values",199],"[",["T_VARIABLE","$this",199],["T_OBJECT_OPERATOR","->",199],["T_STRING","_actionKey",199],"]",["T_WHITESPACE"," ",199],"=",["T_WHITESPACE"," ",199],["T_STRING","strtolower",199],"(",["T_VARIABLE","$request",199],["T_OBJECT_OPERATOR","->",199],["T_STRING","getParam",199],"(",["T_CONSTANT_ENCAPSED_STRING","'_method'",199],")",")",";",["T_WHITESPACE","\n                ",199],"}",["T_WHITESPACE"," ",200],["T_ELSEIF","elseif",200],["T_WHITESPACE"," ",200],"(",["T_WHITESPACE"," ",200],["T_VARIABLE","$request",200],["T_OBJECT_OPERATOR","->",200],["T_STRING","getHeader",200],"(",["T_CONSTANT_ENCAPSED_STRING","'X-HTTP-Method-Override'",200],")",["T_WHITESPACE"," ",200],")",["T_WHITESPACE"," ",200],"{",["T_WHITESPACE","\n                    ",200],["T_VARIABLE","$values",201],"[",["T_VARIABLE","$this",201],["T_OBJECT_OPERATOR","->",201],["T_STRING","_actionKey",201],"]",["T_WHITESPACE"," ",201],"=",["T_WHITESPACE"," ",201],["T_STRING","strtolower",201],"(",["T_VARIABLE","$request",201],["T_OBJECT_OPERATOR","->",201],["T_STRING","getHeader",201],"(",["T_CONSTANT_ENCAPSED_STRING","'X-HTTP-Method-Override'",201],")",")",";",["T_WHITESPACE","\n                ",201],"}",["T_WHITESPACE"," ",202],["T_ELSE","else",202],["T_WHITESPACE"," ",202],"{",["T_WHITESPACE","\n                    ",202],["T_VARIABLE","$values",203],"[",["T_VARIABLE","$this",203],["T_OBJECT_OPERATOR","->",203],["T_STRING","_actionKey",203],"]",["T_WHITESPACE"," ",203],"=",["T_WHITESPACE"," ",203],["T_VARIABLE","$requestMethod",203],";",["T_WHITESPACE","\n                ",203],"}",["T_WHITESPACE","\n\n                ",204],["T_COMMENT","\/\/ Map PUT and POST to actual create\/update actions\n",206],["T_WHITESPACE","                ",207],["T_COMMENT","\/\/ based on parameter count (posting to resource or collection)\n",207],["T_WHITESPACE","                ",208],["T_SWITCH","switch",208],"(",["T_WHITESPACE"," ",208],["T_VARIABLE","$values",208],"[",["T_VARIABLE","$this",208],["T_OBJECT_OPERATOR","->",208],["T_STRING","_actionKey",208],"]",["T_WHITESPACE"," ",208],")","{",["T_WHITESPACE","\n                    ",208],["T_CASE","case",209],["T_WHITESPACE"," ",209],["T_CONSTANT_ENCAPSED_STRING","'post'",209],":",["T_WHITESPACE","\n                        ",209],["T_IF","if",210],["T_WHITESPACE"," ",210],"(",["T_VARIABLE","$pathElementCount",210],["T_WHITESPACE"," ",210],">",["T_WHITESPACE"," ",210],["T_LNUMBER","0",210],")",["T_WHITESPACE"," ",210],"{",["T_WHITESPACE","\n                            ",210],["T_VARIABLE","$values",211],"[",["T_VARIABLE","$this",211],["T_OBJECT_OPERATOR","->",211],["T_STRING","_actionKey",211],"]",["T_WHITESPACE"," ",211],"=",["T_WHITESPACE"," ",211],["T_CONSTANT_ENCAPSED_STRING","'put'",211],";",["T_WHITESPACE","\n                        ",211],"}",["T_WHITESPACE"," ",212],["T_ELSE","else",212],["T_WHITESPACE"," ",212],"{",["T_WHITESPACE","\n                            ",212],["T_VARIABLE","$values",213],"[",["T_VARIABLE","$this",213],["T_OBJECT_OPERATOR","->",213],["T_STRING","_actionKey",213],"]",["T_WHITESPACE"," ",213],"=",["T_WHITESPACE"," ",213],["T_CONSTANT_ENCAPSED_STRING","'post'",213],";",["T_WHITESPACE","\n                        ",213],"}",["T_WHITESPACE","\n                        ",214],["T_BREAK","break",215],";",["T_WHITESPACE","\n                    ",215],["T_CASE","case",216],["T_WHITESPACE"," ",216],["T_CONSTANT_ENCAPSED_STRING","'put'",216],":",["T_WHITESPACE","\n                        ",216],["T_VARIABLE","$values",217],"[",["T_VARIABLE","$this",217],["T_OBJECT_OPERATOR","->",217],["T_STRING","_actionKey",217],"]",["T_WHITESPACE"," ",217],"=",["T_WHITESPACE"," ",217],["T_CONSTANT_ENCAPSED_STRING","'put'",217],";",["T_WHITESPACE","\n                        ",217],["T_BREAK","break",218],";",["T_WHITESPACE","\n                ",218],"}",["T_WHITESPACE","\n\n            ",219],"}",["T_WHITESPACE"," ",221],["T_ELSEIF","elseif",221],["T_WHITESPACE"," ",221],"(",["T_VARIABLE","$specialGetTarget",221],")",["T_WHITESPACE"," ",221],"{",["T_WHITESPACE","\n                ",221],["T_VARIABLE","$values",222],"[",["T_VARIABLE","$this",222],["T_OBJECT_OPERATOR","->",222],["T_STRING","_actionKey",222],"]",["T_WHITESPACE"," ",222],"=",["T_WHITESPACE"," ",222],["T_VARIABLE","$specialGetTarget",222],";",["T_WHITESPACE","\n            ",222],"}",["T_WHITESPACE","\n\n        ",223],"}",["T_WHITESPACE","\n        ",225],["T_VARIABLE","$this",226],["T_OBJECT_OPERATOR","->",226],["T_STRING","_values",226],["T_WHITESPACE"," ",226],"=",["T_WHITESPACE"," ",226],["T_VARIABLE","$values",226],["T_WHITESPACE"," ",226],"+",["T_WHITESPACE"," ",226],["T_VARIABLE","$params",226],";",["T_WHITESPACE","\n\n        ",226],["T_VARIABLE","$result",228],["T_WHITESPACE"," ",228],"=",["T_WHITESPACE"," ",228],["T_VARIABLE","$this",228],["T_OBJECT_OPERATOR","->",228],["T_STRING","_values",228],["T_WHITESPACE"," ",228],"+",["T_WHITESPACE"," ",228],["T_VARIABLE","$this",228],["T_OBJECT_OPERATOR","->",228],["T_STRING","_defaults",228],";",["T_WHITESPACE","\n\n        ",228],["T_IF","if",230],["T_WHITESPACE"," ",230],"(",["T_VARIABLE","$partial",230],["T_WHITESPACE"," ",230],["T_BOOLEAN_AND","&&",230],["T_WHITESPACE"," ",230],["T_VARIABLE","$result",230],")",["T_WHITESPACE","\n            ",230],["T_VARIABLE","$this",231],["T_OBJECT_OPERATOR","->",231],["T_STRING","setMatchedPath",231],"(",["T_VARIABLE","$request",231],["T_OBJECT_OPERATOR","->",231],["T_STRING","getPathInfo",231],"(",")",")",";",["T_WHITESPACE","\n\n        ",231],["T_RETURN","return",233],["T_WHITESPACE"," ",233],["T_VARIABLE","$result",233],";",["T_WHITESPACE","\n    ",233],"}",["T_WHITESPACE","\n\n    ",234],["T_DOC_COMMENT","\/**\n     * Assembles user submitted parameters forming a URL path defined by this route\n     *\n     * @param array $data An array of variable and value pairs used as parameters\n     * @param bool $reset Weither to reset the current params\n     * @param bool $encode Weither to return urlencoded string\n     * @return string Route path with user submitted parameters\n     *\/",236],["T_WHITESPACE","\n    ",243],["T_PUBLIC","public",244],["T_WHITESPACE"," ",244],["T_FUNCTION","function",244],["T_WHITESPACE"," ",244],["T_STRING","assemble",244],"(",["T_VARIABLE","$data",244],["T_WHITESPACE"," ",244],"=",["T_WHITESPACE"," ",244],["T_ARRAY","array",244],"(",")",",",["T_WHITESPACE"," ",244],["T_VARIABLE","$reset",244],["T_WHITESPACE"," ",244],"=",["T_WHITESPACE"," ",244],["T_STRING","false",244],",",["T_WHITESPACE"," ",244],["T_VARIABLE","$encode",244],["T_WHITESPACE"," ",244],"=",["T_WHITESPACE"," ",244],["T_STRING","true",244],")",["T_WHITESPACE","\n    ",244],"{",["T_WHITESPACE","\n        ",245],["T_IF","if",246],["T_WHITESPACE"," ",246],"(","!",["T_VARIABLE","$this",246],["T_OBJECT_OPERATOR","->",246],["T_STRING","_keysSet",246],")",["T_WHITESPACE"," ",246],"{",["T_WHITESPACE","\n            ",246],["T_IF","if",247],["T_WHITESPACE"," ",247],"(",["T_STRING","null",247],["T_WHITESPACE"," ",247],["T_IS_IDENTICAL","===",247],["T_WHITESPACE"," ",247],["T_VARIABLE","$this",247],["T_OBJECT_OPERATOR","->",247],["T_STRING","_request",247],")",["T_WHITESPACE"," ",247],"{",["T_WHITESPACE","\n                ",247],["T_VARIABLE","$this",248],["T_OBJECT_OPERATOR","->",248],["T_STRING","_request",248],["T_WHITESPACE"," ",248],"=",["T_WHITESPACE"," ",248],["T_VARIABLE","$this",248],["T_OBJECT_OPERATOR","->",248],["T_STRING","_front",248],["T_OBJECT_OPERATOR","->",248],["T_STRING","getRequest",248],"(",")",";",["T_WHITESPACE","\n            ",248],"}",["T_WHITESPACE","\n            ",249],["T_VARIABLE","$this",250],["T_OBJECT_OPERATOR","->",250],["T_STRING","_setRequestKeys",250],"(",")",";",["T_WHITESPACE","\n        ",250],"}",["T_WHITESPACE","\n\n        ",251],["T_VARIABLE","$params",253],["T_WHITESPACE"," ",253],"=",["T_WHITESPACE"," ",253],"(","!",["T_VARIABLE","$reset",253],")",["T_WHITESPACE"," ",253],"?",["T_WHITESPACE"," ",253],["T_VARIABLE","$this",253],["T_OBJECT_OPERATOR","->",253],["T_STRING","_values",253],["T_WHITESPACE"," ",253],":",["T_WHITESPACE"," ",253],["T_ARRAY","array",253],"(",")",";",["T_WHITESPACE","\n\n        ",253],["T_FOREACH","foreach",255],["T_WHITESPACE"," ",255],"(",["T_VARIABLE","$data",255],["T_WHITESPACE"," ",255],["T_AS","as",255],["T_WHITESPACE"," ",255],["T_VARIABLE","$key",255],["T_WHITESPACE"," ",255],["T_DOUBLE_ARROW","=>",255],["T_WHITESPACE"," ",255],["T_VARIABLE","$value",255],")",["T_WHITESPACE"," ",255],"{",["T_WHITESPACE","\n            ",255],["T_IF","if",256],["T_WHITESPACE"," ",256],"(",["T_VARIABLE","$value",256],["T_WHITESPACE"," ",256],["T_IS_NOT_IDENTICAL","!==",256],["T_WHITESPACE"," ",256],["T_STRING","null",256],")",["T_WHITESPACE"," ",256],"{",["T_WHITESPACE","\n                ",256],["T_VARIABLE","$params",257],"[",["T_VARIABLE","$key",257],"]",["T_WHITESPACE"," ",257],"=",["T_WHITESPACE"," ",257],["T_VARIABLE","$value",257],";",["T_WHITESPACE","\n            ",257],"}",["T_WHITESPACE"," ",258],["T_ELSEIF","elseif",258],["T_WHITESPACE"," ",258],"(",["T_ISSET","isset",258],"(",["T_VARIABLE","$params",258],"[",["T_VARIABLE","$key",258],"]",")",")",["T_WHITESPACE"," ",258],"{",["T_WHITESPACE","\n                ",258],["T_UNSET","unset",259],"(",["T_VARIABLE","$params",259],"[",["T_VARIABLE","$key",259],"]",")",";",["T_WHITESPACE","\n            ",259],"}",["T_WHITESPACE","\n        ",260],"}",["T_WHITESPACE","\n\n        ",261],["T_VARIABLE","$params",263],["T_WHITESPACE"," ",263],["T_PLUS_EQUAL","+=",263],["T_WHITESPACE"," ",263],["T_VARIABLE","$this",263],["T_OBJECT_OPERATOR","->",263],["T_STRING","_defaults",263],";",["T_WHITESPACE","\n\n        ",263],["T_VARIABLE","$url",265],["T_WHITESPACE"," ",265],"=",["T_WHITESPACE"," ",265],["T_CONSTANT_ENCAPSED_STRING","''",265],";",["T_WHITESPACE","\n\n        ",265],["T_IF","if",267],["T_WHITESPACE"," ",267],"(",["T_VARIABLE","$this",267],["T_OBJECT_OPERATOR","->",267],["T_STRING","_moduleValid",267],["T_WHITESPACE"," ",267],["T_BOOLEAN_OR","||",267],["T_WHITESPACE"," ",267],["T_STRING","array_key_exists",267],"(",["T_VARIABLE","$this",267],["T_OBJECT_OPERATOR","->",267],["T_STRING","_moduleKey",267],",",["T_WHITESPACE"," ",267],["T_VARIABLE","$data",267],")",")",["T_WHITESPACE"," ",267],"{",["T_WHITESPACE","\n            ",267],["T_IF","if",268],["T_WHITESPACE"," ",268],"(",["T_VARIABLE","$params",268],"[",["T_VARIABLE","$this",268],["T_OBJECT_OPERATOR","->",268],["T_STRING","_moduleKey",268],"]",["T_WHITESPACE"," ",268],["T_IS_NOT_EQUAL","!=",268],["T_WHITESPACE"," ",268],["T_VARIABLE","$this",268],["T_OBJECT_OPERATOR","->",268],["T_STRING","_defaults",268],"[",["T_VARIABLE","$this",268],["T_OBJECT_OPERATOR","->",268],["T_STRING","_moduleKey",268],"]",")",["T_WHITESPACE"," ",268],"{",["T_WHITESPACE","\n                ",268],["T_VARIABLE","$module",269],["T_WHITESPACE"," ",269],"=",["T_WHITESPACE"," ",269],["T_VARIABLE","$params",269],"[",["T_VARIABLE","$this",269],["T_OBJECT_OPERATOR","->",269],["T_STRING","_moduleKey",269],"]",";",["T_WHITESPACE","\n            ",269],"}",["T_WHITESPACE","\n        ",270],"}",["T_WHITESPACE","\n        ",271],["T_UNSET","unset",272],"(",["T_VARIABLE","$params",272],"[",["T_VARIABLE","$this",272],["T_OBJECT_OPERATOR","->",272],["T_STRING","_moduleKey",272],"]",")",";",["T_WHITESPACE","\n\n        ",272],["T_VARIABLE","$controller",274],["T_WHITESPACE"," ",274],"=",["T_WHITESPACE"," ",274],["T_VARIABLE","$params",274],"[",["T_VARIABLE","$this",274],["T_OBJECT_OPERATOR","->",274],["T_STRING","_controllerKey",274],"]",";",["T_WHITESPACE","\n        ",274],["T_UNSET","unset",275],"(",["T_VARIABLE","$params",275],"[",["T_VARIABLE","$this",275],["T_OBJECT_OPERATOR","->",275],["T_STRING","_controllerKey",275],"]",")",";",["T_WHITESPACE","\n\n        ",275],["T_COMMENT","\/\/ set $action if value given is 'new' or 'edit'\n",277],["T_WHITESPACE","        ",278],["T_IF","if",278],["T_WHITESPACE"," ",278],"(",["T_STRING","in_array",278],"(",["T_VARIABLE","$params",278],"[",["T_VARIABLE","$this",278],["T_OBJECT_OPERATOR","->",278],["T_STRING","_actionKey",278],"]",",",["T_WHITESPACE"," ",278],["T_ARRAY","array",278],"(",["T_CONSTANT_ENCAPSED_STRING","'new'",278],",",["T_WHITESPACE"," ",278],["T_CONSTANT_ENCAPSED_STRING","'edit'",278],")",")",")",["T_WHITESPACE"," ",278],"{",["T_WHITESPACE","\n            ",278],["T_VARIABLE","$action",279],["T_WHITESPACE"," ",279],"=",["T_WHITESPACE"," ",279],["T_VARIABLE","$params",279],"[",["T_VARIABLE","$this",279],["T_OBJECT_OPERATOR","->",279],["T_STRING","_actionKey",279],"]",";",["T_WHITESPACE","\n        ",279],"}",["T_WHITESPACE","\n        ",280],["T_UNSET","unset",281],"(",["T_VARIABLE","$params",281],"[",["T_VARIABLE","$this",281],["T_OBJECT_OPERATOR","->",281],["T_STRING","_actionKey",281],"]",")",";",["T_WHITESPACE","\n\n        ",281],["T_IF","if",283],["T_WHITESPACE"," ",283],"(",["T_ISSET","isset",283],"(",["T_VARIABLE","$params",283],"[",["T_CONSTANT_ENCAPSED_STRING","'index'",283],"]",")",["T_WHITESPACE"," ",283],["T_BOOLEAN_AND","&&",283],["T_WHITESPACE"," ",283],["T_VARIABLE","$params",283],"[",["T_CONSTANT_ENCAPSED_STRING","'index'",283],"]",")",["T_WHITESPACE"," ",283],"{",["T_WHITESPACE","\n            ",283],["T_UNSET","unset",284],"(",["T_VARIABLE","$params",284],"[",["T_CONSTANT_ENCAPSED_STRING","'index'",284],"]",")",";",["T_WHITESPACE","\n            ",284],["T_VARIABLE","$url",285],["T_WHITESPACE"," ",285],["T_CONCAT_EQUAL",".=",285],["T_WHITESPACE"," ",285],["T_CONSTANT_ENCAPSED_STRING","'\/index'",285],";",["T_WHITESPACE","\n            ",285],["T_IF","if",286],["T_WHITESPACE"," ",286],"(",["T_ISSET","isset",286],"(",["T_VARIABLE","$params",286],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",286],"]",")",")",["T_WHITESPACE"," ",286],"{",["T_WHITESPACE","\n                ",286],["T_VARIABLE","$url",287],["T_WHITESPACE"," ",287],["T_CONCAT_EQUAL",".=",287],["T_WHITESPACE"," ",287],["T_CONSTANT_ENCAPSED_STRING","'\/'",287],".",["T_VARIABLE","$params",287],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",287],"]",";",["T_WHITESPACE","\n                ",287],["T_UNSET","unset",288],"(",["T_VARIABLE","$params",288],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",288],"]",")",";",["T_WHITESPACE","\n            ",288],"}",["T_WHITESPACE","\n            ",289],["T_FOREACH","foreach",290],["T_WHITESPACE"," ",290],"(",["T_VARIABLE","$params",290],["T_WHITESPACE"," ",290],["T_AS","as",290],["T_WHITESPACE"," ",290],["T_VARIABLE","$key",290],["T_WHITESPACE"," ",290],["T_DOUBLE_ARROW","=>",290],["T_WHITESPACE"," ",290],["T_VARIABLE","$value",290],")",["T_WHITESPACE"," ",290],"{",["T_WHITESPACE","\n                ",290],["T_IF","if",291],["T_WHITESPACE"," ",291],"(",["T_VARIABLE","$encode",291],")",["T_WHITESPACE"," ",291],["T_VARIABLE","$value",291],["T_WHITESPACE"," ",291],"=",["T_WHITESPACE"," ",291],["T_STRING","urlencode",291],"(",["T_VARIABLE","$value",291],")",";",["T_WHITESPACE","\n                ",291],["T_VARIABLE","$url",292],["T_WHITESPACE"," ",292],["T_CONCAT_EQUAL",".=",292],["T_WHITESPACE"," ",292],["T_CONSTANT_ENCAPSED_STRING","'\/'",292],["T_WHITESPACE"," ",292],".",["T_WHITESPACE"," ",292],["T_VARIABLE","$key",292],["T_WHITESPACE"," ",292],".",["T_WHITESPACE"," ",292],["T_CONSTANT_ENCAPSED_STRING","'\/'",292],["T_WHITESPACE"," ",292],".",["T_WHITESPACE"," ",292],["T_VARIABLE","$value",292],";",["T_WHITESPACE","\n            ",292],"}",["T_WHITESPACE","\n        ",293],"}",["T_WHITESPACE"," ",294],["T_ELSEIF","elseif",294],["T_WHITESPACE"," ",294],"(","!",["T_WHITESPACE"," ",294],["T_EMPTY","empty",294],"(",["T_VARIABLE","$action",294],")",["T_WHITESPACE"," ",294],["T_BOOLEAN_AND","&&",294],["T_WHITESPACE"," ",294],["T_ISSET","isset",294],"(",["T_VARIABLE","$params",294],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",294],"]",")",")",["T_WHITESPACE"," ",294],"{",["T_WHITESPACE","\n            ",294],["T_VARIABLE","$url",295],["T_WHITESPACE"," ",295],["T_CONCAT_EQUAL",".=",295],["T_WHITESPACE"," ",295],["T_STRING","sprintf",295],"(",["T_CONSTANT_ENCAPSED_STRING","'\/%s\/%s'",295],",",["T_WHITESPACE"," ",295],["T_VARIABLE","$params",295],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",295],"]",",",["T_WHITESPACE"," ",295],["T_VARIABLE","$action",295],")",";",["T_WHITESPACE","\n        ",295],"}",["T_WHITESPACE"," ",296],["T_ELSEIF","elseif",296],["T_WHITESPACE"," ",296],"(","!",["T_WHITESPACE"," ",296],["T_EMPTY","empty",296],"(",["T_VARIABLE","$action",296],")",")",["T_WHITESPACE"," ",296],"{",["T_WHITESPACE","\n            ",296],["T_VARIABLE","$url",297],["T_WHITESPACE"," ",297],["T_CONCAT_EQUAL",".=",297],["T_WHITESPACE"," ",297],["T_STRING","sprintf",297],"(",["T_CONSTANT_ENCAPSED_STRING","'\/%s'",297],",",["T_WHITESPACE"," ",297],["T_VARIABLE","$action",297],")",";",["T_WHITESPACE","\n        ",297],"}",["T_WHITESPACE"," ",298],["T_ELSEIF","elseif",298],["T_WHITESPACE"," ",298],"(",["T_ISSET","isset",298],"(",["T_VARIABLE","$params",298],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",298],"]",")",")",["T_WHITESPACE"," ",298],"{",["T_WHITESPACE","\n            ",298],["T_VARIABLE","$url",299],["T_WHITESPACE"," ",299],["T_CONCAT_EQUAL",".=",299],["T_WHITESPACE"," ",299],["T_CONSTANT_ENCAPSED_STRING","'\/'",299],["T_WHITESPACE"," ",299],".",["T_WHITESPACE"," ",299],["T_VARIABLE","$params",299],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",299],"]",";",["T_WHITESPACE","\n        ",299],"}",["T_WHITESPACE","\n\n        ",300],["T_IF","if",302],["T_WHITESPACE"," ",302],"(","!",["T_EMPTY","empty",302],"(",["T_VARIABLE","$url",302],")",["T_WHITESPACE"," ",302],["T_BOOLEAN_OR","||",302],["T_WHITESPACE"," ",302],["T_VARIABLE","$controller",302],["T_WHITESPACE"," ",302],["T_IS_NOT_IDENTICAL","!==",302],["T_WHITESPACE"," ",302],["T_VARIABLE","$this",302],["T_OBJECT_OPERATOR","->",302],["T_STRING","_defaults",302],"[",["T_VARIABLE","$this",302],["T_OBJECT_OPERATOR","->",302],["T_STRING","_controllerKey",302],"]",")",["T_WHITESPACE"," ",302],"{",["T_WHITESPACE","\n            ",302],["T_VARIABLE","$url",303],["T_WHITESPACE"," ",303],"=",["T_WHITESPACE"," ",303],["T_CONSTANT_ENCAPSED_STRING","'\/'",303],["T_WHITESPACE"," ",303],".",["T_WHITESPACE"," ",303],["T_VARIABLE","$controller",303],["T_WHITESPACE"," ",303],".",["T_WHITESPACE"," ",303],["T_VARIABLE","$url",303],";",["T_WHITESPACE","\n        ",303],"}",["T_WHITESPACE","\n\n        ",304],["T_IF","if",306],["T_WHITESPACE"," ",306],"(",["T_ISSET","isset",306],"(",["T_VARIABLE","$module",306],")",")",["T_WHITESPACE"," ",306],"{",["T_WHITESPACE","\n            ",306],["T_VARIABLE","$url",307],["T_WHITESPACE"," ",307],"=",["T_WHITESPACE"," ",307],["T_CONSTANT_ENCAPSED_STRING","'\/'",307],["T_WHITESPACE"," ",307],".",["T_WHITESPACE"," ",307],["T_VARIABLE","$module",307],["T_WHITESPACE"," ",307],".",["T_WHITESPACE"," ",307],["T_VARIABLE","$url",307],";",["T_WHITESPACE","\n        ",307],"}",["T_WHITESPACE","\n\n        ",308],["T_RETURN","return",310],["T_WHITESPACE"," ",310],["T_STRING","ltrim",310],"(",["T_VARIABLE","$url",310],",",["T_WHITESPACE"," ",310],["T_STRING","self",310],["T_DOUBLE_COLON","::",310],["T_STRING","URI_DELIMITER",310],")",";",["T_WHITESPACE","\n    ",310],"}",["T_WHITESPACE","\n\n    ",311],["T_DOC_COMMENT","\/**\n     * Tells Rewrite Router which version this Route is\n     *\n     * @return int Route \"version\"\n     *\/",313],["T_WHITESPACE","\n    ",317],["T_PUBLIC","public",318],["T_WHITESPACE"," ",318],["T_FUNCTION","function",318],["T_WHITESPACE"," ",318],["T_STRING","getVersion",318],"(",")",["T_WHITESPACE","\n    ",318],"{",["T_WHITESPACE","\n        ",319],["T_RETURN","return",320],["T_WHITESPACE"," ",320],["T_LNUMBER","2",320],";",["T_WHITESPACE","\n    ",320],"}",["T_WHITESPACE","\n\n    ",321],["T_DOC_COMMENT","\/**\n     * Parses the responders array sent to constructor to know\n     * which modules and\/or controllers are RESTful\n     *\n     * @param array $responders\n     *\/",323],["T_WHITESPACE","\n    ",328],["T_PROTECTED","protected",329],["T_WHITESPACE"," ",329],["T_FUNCTION","function",329],["T_WHITESPACE"," ",329],["T_STRING","_parseResponders",329],"(",["T_VARIABLE","$responders",329],")",["T_WHITESPACE","\n    ",329],"{",["T_WHITESPACE","\n        ",330],["T_VARIABLE","$modulesOnly",331],["T_WHITESPACE"," ",331],"=",["T_WHITESPACE"," ",331],["T_STRING","true",331],";",["T_WHITESPACE","\n        ",331],["T_FOREACH","foreach",332],["T_WHITESPACE"," ",332],"(",["T_VARIABLE","$responders",332],["T_WHITESPACE"," ",332],["T_AS","as",332],["T_WHITESPACE"," ",332],["T_VARIABLE","$responder",332],")",["T_WHITESPACE"," ",332],"{",["T_WHITESPACE","\n            ",332],["T_IF","if",333],"(",["T_STRING","is_array",333],"(",["T_VARIABLE","$responder",333],")",")",["T_WHITESPACE"," ",333],"{",["T_WHITESPACE","\n                ",333],["T_VARIABLE","$modulesOnly",334],["T_WHITESPACE"," ",334],"=",["T_WHITESPACE"," ",334],["T_STRING","false",334],";",["T_WHITESPACE","\n                ",334],["T_BREAK","break",335],";",["T_WHITESPACE","\n            ",335],"}",["T_WHITESPACE","\n        ",336],"}",["T_WHITESPACE","\n        ",337],["T_IF","if",338],["T_WHITESPACE"," ",338],"(",["T_VARIABLE","$modulesOnly",338],")",["T_WHITESPACE"," ",338],"{",["T_WHITESPACE","\n            ",338],["T_VARIABLE","$this",339],["T_OBJECT_OPERATOR","->",339],["T_STRING","_restfulModules",339],["T_WHITESPACE"," ",339],"=",["T_WHITESPACE"," ",339],["T_VARIABLE","$responders",339],";",["T_WHITESPACE","\n        ",339],"}",["T_WHITESPACE"," ",340],["T_ELSE","else",340],["T_WHITESPACE"," ",340],"{",["T_WHITESPACE","\n            ",340],["T_VARIABLE","$this",341],["T_OBJECT_OPERATOR","->",341],["T_STRING","_restfulControllers",341],["T_WHITESPACE"," ",341],"=",["T_WHITESPACE"," ",341],["T_VARIABLE","$responders",341],";",["T_WHITESPACE","\n        ",341],"}",["T_WHITESPACE","\n    ",342],"}",["T_WHITESPACE","\n\n    ",343],["T_DOC_COMMENT","\/**\n     * Determine if a specified module supports RESTful routing\n     *\n     * @param string $moduleName\n     * @return bool\n     *\/",345],["T_WHITESPACE","\n    ",350],["T_PROTECTED","protected",351],["T_WHITESPACE"," ",351],["T_FUNCTION","function",351],["T_WHITESPACE"," ",351],["T_STRING","_checkRestfulModule",351],"(",["T_VARIABLE","$moduleName",351],")",["T_WHITESPACE","\n    ",351],"{",["T_WHITESPACE","\n        ",352],["T_IF","if",353],["T_WHITESPACE"," ",353],"(",["T_VARIABLE","$this",353],["T_OBJECT_OPERATOR","->",353],["T_STRING","_allRestful",353],"(",")",")",["T_WHITESPACE"," ",353],"{",["T_WHITESPACE","\n            ",353],["T_RETURN","return",354],["T_WHITESPACE"," ",354],["T_STRING","true",354],";",["T_WHITESPACE","\n        ",354],"}",["T_WHITESPACE","\n        ",355],["T_IF","if",356],["T_WHITESPACE"," ",356],"(",["T_VARIABLE","$this",356],["T_OBJECT_OPERATOR","->",356],["T_STRING","_fullRestfulModule",356],"(",["T_VARIABLE","$moduleName",356],")",")",["T_WHITESPACE"," ",356],"{",["T_WHITESPACE","\n            ",356],["T_RETURN","return",357],["T_WHITESPACE"," ",357],["T_STRING","true",357],";",["T_WHITESPACE","\n        ",357],"}",["T_WHITESPACE","\n        ",358],["T_IF","if",359],["T_WHITESPACE"," ",359],"(",["T_VARIABLE","$this",359],["T_OBJECT_OPERATOR","->",359],["T_STRING","_restfulControllers",359],["T_WHITESPACE"," ",359],["T_BOOLEAN_AND","&&",359],["T_WHITESPACE"," ",359],["T_STRING","array_key_exists",359],"(",["T_VARIABLE","$moduleName",359],",",["T_WHITESPACE"," ",359],["T_VARIABLE","$this",359],["T_OBJECT_OPERATOR","->",359],["T_STRING","_restfulControllers",359],")",")",["T_WHITESPACE"," ",359],"{",["T_WHITESPACE","\n            ",359],["T_RETURN","return",360],["T_WHITESPACE"," ",360],["T_STRING","true",360],";",["T_WHITESPACE","\n        ",360],"}",["T_WHITESPACE","\n        ",361],["T_RETURN","return",362],["T_WHITESPACE"," ",362],["T_STRING","false",362],";",["T_WHITESPACE","\n    ",362],"}",["T_WHITESPACE","\n\n    ",363],["T_DOC_COMMENT","\/**\n     * Determine if a specified module + controller combination supports\n     * RESTful routing\n     *\n     * @param string $moduleName\n     * @param string $controllerName\n     * @return bool\n     *\/",365],["T_WHITESPACE","\n    ",372],["T_PROTECTED","protected",373],["T_WHITESPACE"," ",373],["T_FUNCTION","function",373],["T_WHITESPACE"," ",373],["T_STRING","_checkRestfulController",373],"(",["T_VARIABLE","$moduleName",373],",",["T_WHITESPACE"," ",373],["T_VARIABLE","$controllerName",373],")",["T_WHITESPACE","\n    ",373],"{",["T_WHITESPACE","\n        ",374],["T_IF","if",375],["T_WHITESPACE"," ",375],"(",["T_VARIABLE","$this",375],["T_OBJECT_OPERATOR","->",375],["T_STRING","_allRestful",375],"(",")",")",["T_WHITESPACE"," ",375],"{",["T_WHITESPACE","\n            ",375],["T_RETURN","return",376],["T_WHITESPACE"," ",376],["T_STRING","true",376],";",["T_WHITESPACE","\n        ",376],"}",["T_WHITESPACE","\n        ",377],["T_IF","if",378],["T_WHITESPACE"," ",378],"(",["T_VARIABLE","$this",378],["T_OBJECT_OPERATOR","->",378],["T_STRING","_fullRestfulModule",378],"(",["T_VARIABLE","$moduleName",378],")",")",["T_WHITESPACE"," ",378],"{",["T_WHITESPACE","\n            ",378],["T_RETURN","return",379],["T_WHITESPACE"," ",379],["T_STRING","true",379],";",["T_WHITESPACE","\n        ",379],"}",["T_WHITESPACE","\n        ",380],["T_IF","if",381],["T_WHITESPACE"," ",381],"(",["T_VARIABLE","$this",381],["T_OBJECT_OPERATOR","->",381],["T_STRING","_checkRestfulModule",381],"(",["T_VARIABLE","$moduleName",381],")",["T_WHITESPACE","\n            ",381],["T_BOOLEAN_AND","&&",382],["T_WHITESPACE"," ",382],["T_VARIABLE","$this",382],["T_OBJECT_OPERATOR","->",382],["T_STRING","_restfulControllers",382],["T_WHITESPACE","\n            ",382],["T_BOOLEAN_AND","&&",383],["T_WHITESPACE"," ",383],"(",["T_STRING","false",383],["T_WHITESPACE"," ",383],["T_IS_NOT_IDENTICAL","!==",383],["T_WHITESPACE"," ",383],["T_STRING","array_search",383],"(",["T_VARIABLE","$controllerName",383],",",["T_WHITESPACE"," ",383],["T_VARIABLE","$this",383],["T_OBJECT_OPERATOR","->",383],["T_STRING","_restfulControllers",383],"[",["T_VARIABLE","$moduleName",383],"]",")",")",["T_WHITESPACE","\n        ",383],")",["T_WHITESPACE"," ",384],"{",["T_WHITESPACE","\n            ",384],["T_RETURN","return",385],["T_WHITESPACE"," ",385],["T_STRING","true",385],";",["T_WHITESPACE","\n        ",385],"}",["T_WHITESPACE","\n        ",386],["T_RETURN","return",387],["T_WHITESPACE"," ",387],["T_STRING","false",387],";",["T_WHITESPACE","\n    ",387],"}",["T_WHITESPACE","\n\n    ",388],["T_DOC_COMMENT","\/**\n     * Determines if RESTful routing applies to the entire app\n     *\n     * @return bool\n     *\/",390],["T_WHITESPACE","\n    ",394],["T_PROTECTED","protected",395],["T_WHITESPACE"," ",395],["T_FUNCTION","function",395],["T_WHITESPACE"," ",395],["T_STRING","_allRestful",395],"(",")",["T_WHITESPACE","\n    ",395],"{",["T_WHITESPACE","\n        ",396],["T_RETURN","return",397],["T_WHITESPACE"," ",397],"(","!",["T_VARIABLE","$this",397],["T_OBJECT_OPERATOR","->",397],["T_STRING","_restfulModules",397],["T_WHITESPACE"," ",397],["T_BOOLEAN_AND","&&",397],["T_WHITESPACE"," ",397],"!",["T_VARIABLE","$this",397],["T_OBJECT_OPERATOR","->",397],["T_STRING","_restfulControllers",397],")",";",["T_WHITESPACE","\n    ",397],"}",["T_WHITESPACE","\n\n    ",398],["T_DOC_COMMENT","\/**\n     * Determines if RESTful routing applies to an entire module\n     *\n     * @param string $moduleName\n     * @return bool\n     *\/",400],["T_WHITESPACE","\n    ",405],["T_PROTECTED","protected",406],["T_WHITESPACE"," ",406],["T_FUNCTION","function",406],["T_WHITESPACE"," ",406],["T_STRING","_fullRestfulModule",406],"(",["T_VARIABLE","$moduleName",406],")",["T_WHITESPACE","\n    ",406],"{",["T_WHITESPACE","\n        ",407],["T_RETURN","return",408],["T_WHITESPACE"," ",408],"(",["T_WHITESPACE","\n            ",408],["T_VARIABLE","$this",409],["T_OBJECT_OPERATOR","->",409],["T_STRING","_restfulModules",409],["T_WHITESPACE","\n            ",409],["T_BOOLEAN_AND","&&",410],["T_WHITESPACE"," ",410],"(",["T_STRING","false",410],["T_WHITESPACE"," ",410],["T_IS_NOT_IDENTICAL","!==",410],["T_STRING","array_search",410],"(",["T_VARIABLE","$moduleName",410],",",["T_WHITESPACE"," ",410],["T_VARIABLE","$this",410],["T_OBJECT_OPERATOR","->",410],["T_STRING","_restfulModules",410],")",")",["T_WHITESPACE","\n        ",410],")",";",["T_WHITESPACE","\n    ",411],"}",["T_WHITESPACE","\n",412],"}",["T_WHITESPACE","\n",413]]