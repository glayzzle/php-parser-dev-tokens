[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Zend Framework\n *\n * LICENSE\n *\n * This source file is subject to the new BSD license that is bundled\n * with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/framework.zend.com\/license\/new-bsd\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@zend.com so we can send you a copy immediately.\n *\n * @category   Zend\n * @package    Zend_Json\n * @copyright  Copyright (c) 2005-2015 Zend Technologies USA Inc. (http:\/\/www.zend.com)\n * @license    http:\/\/framework.zend.com\/license\/new-bsd     New BSD License\n * @version    $Id$\n *\/",2],["T_WHITESPACE","\n\n",20],["T_DOC_COMMENT","\/**\n * @see Zend_Server_Abstract\n *\/",22],["T_WHITESPACE","\n",24],["T_COMMENT","#require_once 'Zend\/Server\/Abstract.php';\n",25],["T_WHITESPACE","\n",26],["T_DOC_COMMENT","\/**\n * @category   Zend\n * @package    Zend_Json\n * @copyright  Copyright (c) 2005-2015 Zend Technologies USA Inc. (http:\/\/www.zend.com)\n * @license    http:\/\/framework.zend.com\/license\/new-bsd     New BSD License\n *\/",27],["T_WHITESPACE","\n",32],["T_CLASS","class",33],["T_WHITESPACE"," ",33],["T_STRING","Zend_Json_Server",33],["T_WHITESPACE"," ",33],["T_EXTENDS","extends",33],["T_WHITESPACE"," ",33],["T_STRING","Zend_Server_Abstract",33],["T_WHITESPACE","\n",33],"{",["T_WHITESPACE","\n    ",34],["T_COMMENT","\/**#@+\n     * Version Constants\n     *\/",35],["T_WHITESPACE","\n    ",37],["T_CONST","const",38],["T_WHITESPACE"," ",38],["T_STRING","VERSION_1",38],["T_WHITESPACE"," ",38],"=",["T_WHITESPACE"," ",38],["T_CONSTANT_ENCAPSED_STRING","'1.0'",38],";",["T_WHITESPACE","\n    ",38],["T_CONST","const",39],["T_WHITESPACE"," ",39],["T_STRING","VERSION_2",39],["T_WHITESPACE"," ",39],"=",["T_WHITESPACE"," ",39],["T_CONSTANT_ENCAPSED_STRING","'2.0'",39],";",["T_WHITESPACE","\n    ",39],["T_COMMENT","\/**#@-*\/",40],["T_WHITESPACE","\n\n    ",40],["T_DOC_COMMENT","\/**\n     * Flag: whether or not to auto-emit the response\n     * @var bool\n     *\/",42],["T_WHITESPACE","\n    ",45],["T_PROTECTED","protected",46],["T_WHITESPACE"," ",46],["T_VARIABLE","$_autoEmitResponse",46],["T_WHITESPACE"," ",46],"=",["T_WHITESPACE"," ",46],["T_STRING","true",46],";",["T_WHITESPACE","\n\n    ",46],["T_DOC_COMMENT","\/**\n     * @var bool Flag; allow overwriting existing methods when creating server definition\n     *\/",48],["T_WHITESPACE","\n    ",50],["T_PROTECTED","protected",51],["T_WHITESPACE"," ",51],["T_VARIABLE","$_overwriteExistingMethods",51],["T_WHITESPACE"," ",51],"=",["T_WHITESPACE"," ",51],["T_STRING","true",51],";",["T_WHITESPACE","\n\n    ",51],["T_DOC_COMMENT","\/**\n     * Request object\n     * @var Zend_Json_Server_Request\n     *\/",53],["T_WHITESPACE","\n    ",56],["T_PROTECTED","protected",57],["T_WHITESPACE"," ",57],["T_VARIABLE","$_request",57],";",["T_WHITESPACE","\n\n    ",57],["T_DOC_COMMENT","\/**\n     * Response object\n     * @var Zend_Json_Server_Response\n     *\/",59],["T_WHITESPACE","\n    ",62],["T_PROTECTED","protected",63],["T_WHITESPACE"," ",63],["T_VARIABLE","$_response",63],";",["T_WHITESPACE","\n\n    ",63],["T_DOC_COMMENT","\/**\n     * SMD object\n     * @var Zend_Json_Server_Smd\n     *\/",65],["T_WHITESPACE","\n    ",68],["T_PROTECTED","protected",69],["T_WHITESPACE"," ",69],["T_VARIABLE","$_serviceMap",69],";",["T_WHITESPACE","\n\n    ",69],["T_DOC_COMMENT","\/**\n     * SMD class accessors\n     * @var array\n     *\/",71],["T_WHITESPACE","\n    ",74],["T_PROTECTED","protected",75],["T_WHITESPACE"," ",75],["T_VARIABLE","$_smdMethods",75],";",["T_WHITESPACE","\n\n    ",75],["T_DOC_COMMENT","\/**\n     * @var Zend_Server_Description\n     *\/",77],["T_WHITESPACE","\n    ",79],["T_PROTECTED","protected",80],["T_WHITESPACE"," ",80],["T_VARIABLE","$_table",80],";",["T_WHITESPACE","\n\n    ",80],["T_DOC_COMMENT","\/**\n     * Attach a function or callback to the server\n     *\n     * @param  string|array $function Valid PHP callback\n     * @param  string $namespace  Ignored\n     * @return Zend_Json_Server\n     *\/",82],["T_WHITESPACE","\n    ",88],["T_PUBLIC","public",89],["T_WHITESPACE"," ",89],["T_FUNCTION","function",89],["T_WHITESPACE"," ",89],["T_STRING","addFunction",89],"(",["T_VARIABLE","$function",89],",",["T_WHITESPACE"," ",89],["T_VARIABLE","$namespace",89],["T_WHITESPACE"," ",89],"=",["T_WHITESPACE"," ",89],["T_CONSTANT_ENCAPSED_STRING","''",89],")",["T_WHITESPACE","\n    ",89],"{",["T_WHITESPACE","\n        ",90],["T_IF","if",91],["T_WHITESPACE"," ",91],"(","!",["T_STRING","is_string",91],"(",["T_VARIABLE","$function",91],")",["T_WHITESPACE"," ",91],["T_BOOLEAN_AND","&&",91],["T_WHITESPACE"," ",91],"(","!",["T_STRING","is_array",91],"(",["T_VARIABLE","$function",91],")",["T_WHITESPACE"," ",91],["T_BOOLEAN_OR","||",91],["T_WHITESPACE"," ",91],"(",["T_LNUMBER","2",91],["T_WHITESPACE"," ",91],">",["T_WHITESPACE"," ",91],["T_STRING","count",91],"(",["T_VARIABLE","$function",91],")",")",")",")",["T_WHITESPACE"," ",91],"{",["T_WHITESPACE","\n            ",91],["T_COMMENT","#require_once 'Zend\/Json\/Server\/Exception.php';\n",92],["T_WHITESPACE","            ",93],["T_THROW","throw",93],["T_WHITESPACE"," ",93],["T_NEW","new",93],["T_WHITESPACE"," ",93],["T_STRING","Zend_Json_Server_Exception",93],"(",["T_CONSTANT_ENCAPSED_STRING","'Unable to attach function; invalid'",93],")",";",["T_WHITESPACE","\n        ",93],"}",["T_WHITESPACE","\n\n        ",94],["T_IF","if",96],["T_WHITESPACE"," ",96],"(","!",["T_STRING","is_callable",96],"(",["T_VARIABLE","$function",96],")",")",["T_WHITESPACE"," ",96],"{",["T_WHITESPACE","\n            ",96],["T_COMMENT","#require_once 'Zend\/Json\/Server\/Exception.php';\n",97],["T_WHITESPACE","            ",98],["T_THROW","throw",98],["T_WHITESPACE"," ",98],["T_NEW","new",98],["T_WHITESPACE"," ",98],["T_STRING","Zend_Json_Server_Exception",98],"(",["T_CONSTANT_ENCAPSED_STRING","'Unable to attach function; does not exist'",98],")",";",["T_WHITESPACE","\n        ",98],"}",["T_WHITESPACE","\n\n        ",99],["T_VARIABLE","$argv",101],["T_WHITESPACE"," ",101],"=",["T_WHITESPACE"," ",101],["T_STRING","null",101],";",["T_WHITESPACE","\n        ",101],["T_IF","if",102],["T_WHITESPACE"," ",102],"(",["T_LNUMBER","2",102],["T_WHITESPACE"," ",102],"<",["T_WHITESPACE"," ",102],["T_STRING","func_num_args",102],"(",")",")",["T_WHITESPACE"," ",102],"{",["T_WHITESPACE","\n            ",102],["T_VARIABLE","$argv",103],["T_WHITESPACE"," ",103],"=",["T_WHITESPACE"," ",103],["T_STRING","func_get_args",103],"(",")",";",["T_WHITESPACE","\n            ",103],["T_VARIABLE","$argv",104],["T_WHITESPACE"," ",104],"=",["T_WHITESPACE"," ",104],["T_STRING","array_slice",104],"(",["T_VARIABLE","$argv",104],",",["T_WHITESPACE"," ",104],["T_LNUMBER","2",104],")",";",["T_WHITESPACE","\n        ",104],"}",["T_WHITESPACE","\n\n        ",105],["T_COMMENT","#require_once 'Zend\/Server\/Reflection.php';\n",107],["T_WHITESPACE","        ",108],["T_IF","if",108],["T_WHITESPACE"," ",108],"(",["T_STRING","is_string",108],"(",["T_VARIABLE","$function",108],")",")",["T_WHITESPACE"," ",108],"{",["T_WHITESPACE","\n            ",108],["T_VARIABLE","$method",109],["T_WHITESPACE"," ",109],"=",["T_WHITESPACE"," ",109],["T_STRING","Zend_Server_Reflection",109],["T_DOUBLE_COLON","::",109],["T_STRING","reflectFunction",109],"(",["T_VARIABLE","$function",109],",",["T_WHITESPACE"," ",109],["T_VARIABLE","$argv",109],",",["T_WHITESPACE"," ",109],["T_VARIABLE","$namespace",109],")",";",["T_WHITESPACE","\n        ",109],"}",["T_WHITESPACE"," ",110],["T_ELSE","else",110],["T_WHITESPACE"," ",110],"{",["T_WHITESPACE","\n            ",110],["T_VARIABLE","$class",111],["T_WHITESPACE","  ",111],"=",["T_WHITESPACE"," ",111],["T_STRING","array_shift",111],"(",["T_VARIABLE","$function",111],")",";",["T_WHITESPACE","\n            ",111],["T_VARIABLE","$action",112],["T_WHITESPACE"," ",112],"=",["T_WHITESPACE"," ",112],["T_STRING","array_shift",112],"(",["T_VARIABLE","$function",112],")",";",["T_WHITESPACE","\n            ",112],["T_VARIABLE","$reflection",113],["T_WHITESPACE"," ",113],"=",["T_WHITESPACE"," ",113],["T_STRING","Zend_Server_Reflection",113],["T_DOUBLE_COLON","::",113],["T_STRING","reflectClass",113],"(",["T_VARIABLE","$class",113],",",["T_WHITESPACE"," ",113],["T_VARIABLE","$argv",113],",",["T_WHITESPACE"," ",113],["T_VARIABLE","$namespace",113],")",";",["T_WHITESPACE","\n            ",113],["T_VARIABLE","$methods",114],["T_WHITESPACE"," ",114],"=",["T_WHITESPACE"," ",114],["T_VARIABLE","$reflection",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","getMethods",114],"(",")",";",["T_WHITESPACE","\n            ",114],["T_VARIABLE","$found",115],["T_WHITESPACE","   ",115],"=",["T_WHITESPACE"," ",115],["T_STRING","false",115],";",["T_WHITESPACE","\n            ",115],["T_FOREACH","foreach",116],["T_WHITESPACE"," ",116],"(",["T_VARIABLE","$methods",116],["T_WHITESPACE"," ",116],["T_AS","as",116],["T_WHITESPACE"," ",116],["T_VARIABLE","$method",116],")",["T_WHITESPACE"," ",116],"{",["T_WHITESPACE","\n                ",116],["T_IF","if",117],["T_WHITESPACE"," ",117],"(",["T_VARIABLE","$action",117],["T_WHITESPACE"," ",117],["T_IS_EQUAL","==",117],["T_WHITESPACE"," ",117],["T_VARIABLE","$method",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","getName",117],"(",")",")",["T_WHITESPACE"," ",117],"{",["T_WHITESPACE","\n                    ",117],["T_VARIABLE","$found",118],["T_WHITESPACE"," ",118],"=",["T_WHITESPACE"," ",118],["T_STRING","true",118],";",["T_WHITESPACE","\n                    ",118],["T_BREAK","break",119],";",["T_WHITESPACE","\n                ",119],"}",["T_WHITESPACE","\n            ",120],"}",["T_WHITESPACE","\n            ",121],["T_IF","if",122],["T_WHITESPACE"," ",122],"(","!",["T_VARIABLE","$found",122],")",["T_WHITESPACE"," ",122],"{",["T_WHITESPACE","\n                ",122],["T_VARIABLE","$this",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","fault",123],"(",["T_CONSTANT_ENCAPSED_STRING","'Method not found'",123],",",["T_WHITESPACE"," ",123],"-",["T_LNUMBER","32601",123],")",";",["T_WHITESPACE","\n                ",123],["T_RETURN","return",124],["T_WHITESPACE"," ",124],["T_VARIABLE","$this",124],";",["T_WHITESPACE","\n            ",124],"}",["T_WHITESPACE","\n        ",125],"}",["T_WHITESPACE","\n\n        ",126],["T_VARIABLE","$definition",128],["T_WHITESPACE"," ",128],"=",["T_WHITESPACE"," ",128],["T_VARIABLE","$this",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","_buildSignature",128],"(",["T_VARIABLE","$method",128],")",";",["T_WHITESPACE","\n        ",128],["T_VARIABLE","$this",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","_addMethodServiceMap",129],"(",["T_VARIABLE","$definition",129],")",";",["T_WHITESPACE","\n\n        ",129],["T_RETURN","return",131],["T_WHITESPACE"," ",131],["T_VARIABLE","$this",131],";",["T_WHITESPACE","\n    ",131],"}",["T_WHITESPACE","\n\n    ",132],["T_DOC_COMMENT","\/**\n     * Register a class with the server\n     *\n     * @param  string $class\n     * @param  string $namespace Ignored\n     * @param  mixed $argv Ignored\n     * @return Zend_Json_Server\n     *\/",134],["T_WHITESPACE","\n    ",141],["T_PUBLIC","public",142],["T_WHITESPACE"," ",142],["T_FUNCTION","function",142],["T_WHITESPACE"," ",142],["T_STRING","setClass",142],"(",["T_VARIABLE","$class",142],",",["T_WHITESPACE"," ",142],["T_VARIABLE","$namespace",142],["T_WHITESPACE"," ",142],"=",["T_WHITESPACE"," ",142],["T_CONSTANT_ENCAPSED_STRING","''",142],",",["T_WHITESPACE"," ",142],["T_VARIABLE","$argv",142],["T_WHITESPACE"," ",142],"=",["T_WHITESPACE"," ",142],["T_STRING","null",142],")",["T_WHITESPACE","\n    ",142],"{",["T_WHITESPACE","\n        ",143],["T_VARIABLE","$argv",144],["T_WHITESPACE"," ",144],"=",["T_WHITESPACE"," ",144],["T_STRING","null",144],";",["T_WHITESPACE","\n        ",144],["T_IF","if",145],["T_WHITESPACE"," ",145],"(",["T_LNUMBER","3",145],["T_WHITESPACE"," ",145],"<",["T_WHITESPACE"," ",145],["T_STRING","func_num_args",145],"(",")",")",["T_WHITESPACE"," ",145],"{",["T_WHITESPACE","\n            ",145],["T_VARIABLE","$argv",146],["T_WHITESPACE"," ",146],"=",["T_WHITESPACE"," ",146],["T_STRING","func_get_args",146],"(",")",";",["T_WHITESPACE","\n            ",146],["T_VARIABLE","$argv",147],["T_WHITESPACE"," ",147],"=",["T_WHITESPACE"," ",147],["T_STRING","array_slice",147],"(",["T_VARIABLE","$argv",147],",",["T_WHITESPACE"," ",147],["T_LNUMBER","3",147],")",";",["T_WHITESPACE","\n        ",147],"}",["T_WHITESPACE","\n\n        ",148],["T_COMMENT","#require_once 'Zend\/Server\/Reflection.php';\n",150],["T_WHITESPACE","        ",151],["T_VARIABLE","$reflection",151],["T_WHITESPACE"," ",151],"=",["T_WHITESPACE"," ",151],["T_STRING","Zend_Server_Reflection",151],["T_DOUBLE_COLON","::",151],["T_STRING","reflectClass",151],"(",["T_VARIABLE","$class",151],",",["T_WHITESPACE"," ",151],["T_VARIABLE","$argv",151],",",["T_WHITESPACE"," ",151],["T_VARIABLE","$namespace",151],")",";",["T_WHITESPACE","\n\n        ",151],["T_FOREACH","foreach",153],["T_WHITESPACE"," ",153],"(",["T_VARIABLE","$reflection",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","getMethods",153],"(",")",["T_WHITESPACE"," ",153],["T_AS","as",153],["T_WHITESPACE"," ",153],["T_VARIABLE","$method",153],")",["T_WHITESPACE"," ",153],"{",["T_WHITESPACE","\n            ",153],["T_VARIABLE","$definition",154],["T_WHITESPACE"," ",154],"=",["T_WHITESPACE"," ",154],["T_VARIABLE","$this",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","_buildSignature",154],"(",["T_VARIABLE","$method",154],",",["T_WHITESPACE"," ",154],["T_VARIABLE","$class",154],")",";",["T_WHITESPACE","\n            ",154],["T_VARIABLE","$this",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","_addMethodServiceMap",155],"(",["T_VARIABLE","$definition",155],")",";",["T_WHITESPACE","\n        ",155],"}",["T_WHITESPACE","\n        ",156],["T_RETURN","return",157],["T_WHITESPACE"," ",157],["T_VARIABLE","$this",157],";",["T_WHITESPACE","\n    ",157],"}",["T_WHITESPACE","\n\n    ",158],["T_DOC_COMMENT","\/**\n     * Indicate fault response\n     *\n     * @param  string $fault\n     * @param  int $code\n     * @return false\n     *\/",160],["T_WHITESPACE","\n    ",166],["T_PUBLIC","public",167],["T_WHITESPACE"," ",167],["T_FUNCTION","function",167],["T_WHITESPACE"," ",167],["T_STRING","fault",167],"(",["T_VARIABLE","$fault",167],["T_WHITESPACE"," ",167],"=",["T_WHITESPACE"," ",167],["T_STRING","null",167],",",["T_WHITESPACE"," ",167],["T_VARIABLE","$code",167],["T_WHITESPACE"," ",167],"=",["T_WHITESPACE"," ",167],["T_LNUMBER","404",167],",",["T_WHITESPACE"," ",167],["T_VARIABLE","$data",167],["T_WHITESPACE"," ",167],"=",["T_WHITESPACE"," ",167],["T_STRING","null",167],")",["T_WHITESPACE","\n    ",167],"{",["T_WHITESPACE","\n        ",168],["T_COMMENT","#require_once 'Zend\/Json\/Server\/Error.php';\n",169],["T_WHITESPACE","        ",170],["T_VARIABLE","$error",170],["T_WHITESPACE"," ",170],"=",["T_WHITESPACE"," ",170],["T_NEW","new",170],["T_WHITESPACE"," ",170],["T_STRING","Zend_Json_Server_Error",170],"(",["T_VARIABLE","$fault",170],",",["T_WHITESPACE"," ",170],["T_VARIABLE","$code",170],",",["T_WHITESPACE"," ",170],["T_VARIABLE","$data",170],")",";",["T_WHITESPACE","\n        ",170],["T_VARIABLE","$this",171],["T_OBJECT_OPERATOR","->",171],["T_STRING","getResponse",171],"(",")",["T_OBJECT_OPERATOR","->",171],["T_STRING","setError",171],"(",["T_VARIABLE","$error",171],")",";",["T_WHITESPACE","\n        ",171],["T_RETURN","return",172],["T_WHITESPACE"," ",172],["T_VARIABLE","$error",172],";",["T_WHITESPACE","\n    ",172],"}",["T_WHITESPACE","\n\n    ",173],["T_DOC_COMMENT","\/**\n     * Handle request\n     *\n     * @param  Zend_Json_Server_Request $request\n     * @return null|Zend_Json_Server_Response\n     *\/",175],["T_WHITESPACE","\n    ",180],["T_PUBLIC","public",181],["T_WHITESPACE"," ",181],["T_FUNCTION","function",181],["T_WHITESPACE"," ",181],["T_STRING","handle",181],"(",["T_VARIABLE","$request",181],["T_WHITESPACE"," ",181],"=",["T_WHITESPACE"," ",181],["T_STRING","false",181],")",["T_WHITESPACE","\n    ",181],"{",["T_WHITESPACE","\n        ",182],["T_IF","if",183],["T_WHITESPACE"," ",183],"(","(",["T_STRING","false",183],["T_WHITESPACE"," ",183],["T_IS_NOT_IDENTICAL","!==",183],["T_WHITESPACE"," ",183],["T_VARIABLE","$request",183],")",["T_WHITESPACE"," ",183],["T_BOOLEAN_AND","&&",183],["T_WHITESPACE"," ",183],"(","!",["T_VARIABLE","$request",183],["T_WHITESPACE"," ",183],["T_INSTANCEOF","instanceof",183],["T_WHITESPACE"," ",183],["T_STRING","Zend_Json_Server_Request",183],")",")",["T_WHITESPACE"," ",183],"{",["T_WHITESPACE","\n            ",183],["T_COMMENT","#require_once 'Zend\/Json\/Server\/Exception.php';\n",184],["T_WHITESPACE","            ",185],["T_THROW","throw",185],["T_WHITESPACE"," ",185],["T_NEW","new",185],["T_WHITESPACE"," ",185],["T_STRING","Zend_Json_Server_Exception",185],"(",["T_CONSTANT_ENCAPSED_STRING","'Invalid request type provided; cannot handle'",185],")",";",["T_WHITESPACE","\n        ",185],"}",["T_WHITESPACE"," ",186],["T_ELSEIF","elseif",186],["T_WHITESPACE"," ",186],"(",["T_VARIABLE","$request",186],")",["T_WHITESPACE"," ",186],"{",["T_WHITESPACE","\n            ",186],["T_VARIABLE","$this",187],["T_OBJECT_OPERATOR","->",187],["T_STRING","setRequest",187],"(",["T_VARIABLE","$request",187],")",";",["T_WHITESPACE","\n        ",187],"}",["T_WHITESPACE","\n\n        ",188],["T_COMMENT","\/\/ Handle request\n",190],["T_WHITESPACE","        ",191],["T_VARIABLE","$this",191],["T_OBJECT_OPERATOR","->",191],["T_STRING","_handle",191],"(",")",";",["T_WHITESPACE","\n\n        ",191],["T_COMMENT","\/\/ Get response\n",193],["T_WHITESPACE","        ",194],["T_VARIABLE","$response",194],["T_WHITESPACE"," ",194],"=",["T_WHITESPACE"," ",194],["T_VARIABLE","$this",194],["T_OBJECT_OPERATOR","->",194],["T_STRING","_getReadyResponse",194],"(",")",";",["T_WHITESPACE","\n\n        ",194],["T_COMMENT","\/\/ Emit response?\n",196],["T_WHITESPACE","        ",197],["T_IF","if",197],["T_WHITESPACE"," ",197],"(",["T_VARIABLE","$this",197],["T_OBJECT_OPERATOR","->",197],["T_STRING","autoEmitResponse",197],"(",")",")",["T_WHITESPACE"," ",197],"{",["T_WHITESPACE","\n            ",197],["T_ECHO","echo",198],["T_WHITESPACE"," ",198],["T_VARIABLE","$response",198],";",["T_WHITESPACE","\n            ",198],["T_RETURN","return",199],";",["T_WHITESPACE","\n        ",199],"}",["T_WHITESPACE","\n\n        ",200],["T_COMMENT","\/\/ or return it?\n",202],["T_WHITESPACE","        ",203],["T_RETURN","return",203],["T_WHITESPACE"," ",203],["T_VARIABLE","$response",203],";",["T_WHITESPACE","\n    ",203],"}",["T_WHITESPACE","\n\n    ",204],["T_DOC_COMMENT","\/**\n     * Load function definitions\n     *\n     * @param  array|Zend_Server_Definition $definition\n     * @return void\n     *\/",206],["T_WHITESPACE","\n    ",211],["T_PUBLIC","public",212],["T_WHITESPACE"," ",212],["T_FUNCTION","function",212],["T_WHITESPACE"," ",212],["T_STRING","loadFunctions",212],"(",["T_VARIABLE","$definition",212],")",["T_WHITESPACE","\n    ",212],"{",["T_WHITESPACE","\n        ",213],["T_IF","if",214],["T_WHITESPACE"," ",214],"(","!",["T_STRING","is_array",214],"(",["T_VARIABLE","$definition",214],")",["T_WHITESPACE"," ",214],["T_BOOLEAN_AND","&&",214],["T_WHITESPACE"," ",214],"(","!",["T_VARIABLE","$definition",214],["T_WHITESPACE"," ",214],["T_INSTANCEOF","instanceof",214],["T_WHITESPACE"," ",214],["T_STRING","Zend_Server_Definition",214],")",")",["T_WHITESPACE"," ",214],"{",["T_WHITESPACE","\n            ",214],["T_COMMENT","#require_once 'Zend\/Json\/Server\/Exception.php';\n",215],["T_WHITESPACE","            ",216],["T_THROW","throw",216],["T_WHITESPACE"," ",216],["T_NEW","new",216],["T_WHITESPACE"," ",216],["T_STRING","Zend_Json_Server_Exception",216],"(",["T_CONSTANT_ENCAPSED_STRING","'Invalid definition provided to loadFunctions()'",216],")",";",["T_WHITESPACE","\n        ",216],"}",["T_WHITESPACE","\n\n        ",217],["T_FOREACH","foreach",219],["T_WHITESPACE"," ",219],"(",["T_VARIABLE","$definition",219],["T_WHITESPACE"," ",219],["T_AS","as",219],["T_WHITESPACE"," ",219],["T_VARIABLE","$key",219],["T_WHITESPACE"," ",219],["T_DOUBLE_ARROW","=>",219],["T_WHITESPACE"," ",219],["T_VARIABLE","$method",219],")",["T_WHITESPACE"," ",219],"{",["T_WHITESPACE","\n            ",219],["T_VARIABLE","$this",220],["T_OBJECT_OPERATOR","->",220],["T_STRING","_table",220],["T_OBJECT_OPERATOR","->",220],["T_STRING","addMethod",220],"(",["T_VARIABLE","$method",220],",",["T_WHITESPACE"," ",220],["T_VARIABLE","$key",220],")",";",["T_WHITESPACE","\n            ",220],["T_VARIABLE","$this",221],["T_OBJECT_OPERATOR","->",221],["T_STRING","_addMethodServiceMap",221],"(",["T_VARIABLE","$method",221],")",";",["T_WHITESPACE","\n        ",221],"}",["T_WHITESPACE","\n    ",222],"}",["T_WHITESPACE","\n\n    ",223],["T_PUBLIC","public",225],["T_WHITESPACE"," ",225],["T_FUNCTION","function",225],["T_WHITESPACE"," ",225],["T_STRING","setPersistence",225],"(",["T_VARIABLE","$mode",225],")",["T_WHITESPACE","\n    ",225],"{",["T_WHITESPACE","\n    ",226],"}",["T_WHITESPACE","\n\n    ",227],["T_DOC_COMMENT","\/**\n     * Set request object\n     *\n     * @param  Zend_Json_Server_Request $request\n     * @return Zend_Json_Server\n     *\/",229],["T_WHITESPACE","\n    ",234],["T_PUBLIC","public",235],["T_WHITESPACE"," ",235],["T_FUNCTION","function",235],["T_WHITESPACE"," ",235],["T_STRING","setRequest",235],"(",["T_STRING","Zend_Json_Server_Request",235],["T_WHITESPACE"," ",235],["T_VARIABLE","$request",235],")",["T_WHITESPACE","\n    ",235],"{",["T_WHITESPACE","\n        ",236],["T_VARIABLE","$this",237],["T_OBJECT_OPERATOR","->",237],["T_STRING","_request",237],["T_WHITESPACE"," ",237],"=",["T_WHITESPACE"," ",237],["T_VARIABLE","$request",237],";",["T_WHITESPACE","\n        ",237],["T_RETURN","return",238],["T_WHITESPACE"," ",238],["T_VARIABLE","$this",238],";",["T_WHITESPACE","\n    ",238],"}",["T_WHITESPACE","\n\n    ",239],["T_DOC_COMMENT","\/**\n     * Get JSON-RPC request object\n     *\n     * @return Zend_Json_Server_Request\n     *\/",241],["T_WHITESPACE","\n    ",245],["T_PUBLIC","public",246],["T_WHITESPACE"," ",246],["T_FUNCTION","function",246],["T_WHITESPACE"," ",246],["T_STRING","getRequest",246],"(",")",["T_WHITESPACE","\n    ",246],"{",["T_WHITESPACE","\n        ",247],["T_IF","if",248],["T_WHITESPACE"," ",248],"(",["T_STRING","null",248],["T_WHITESPACE"," ",248],["T_IS_IDENTICAL","===",248],["T_WHITESPACE"," ",248],"(",["T_VARIABLE","$request",248],["T_WHITESPACE"," ",248],"=",["T_WHITESPACE"," ",248],["T_VARIABLE","$this",248],["T_OBJECT_OPERATOR","->",248],["T_STRING","_request",248],")",")",["T_WHITESPACE"," ",248],"{",["T_WHITESPACE","\n            ",248],["T_COMMENT","#require_once 'Zend\/Json\/Server\/Request\/Http.php';\n",249],["T_WHITESPACE","            ",250],["T_VARIABLE","$this",250],["T_OBJECT_OPERATOR","->",250],["T_STRING","setRequest",250],"(",["T_NEW","new",250],["T_WHITESPACE"," ",250],["T_STRING","Zend_Json_Server_Request_Http",250],"(",")",")",";",["T_WHITESPACE","\n        ",250],"}",["T_WHITESPACE","\n        ",251],["T_RETURN","return",252],["T_WHITESPACE"," ",252],["T_VARIABLE","$this",252],["T_OBJECT_OPERATOR","->",252],["T_STRING","_request",252],";",["T_WHITESPACE","\n    ",252],"}",["T_WHITESPACE","\n\n    ",253],["T_DOC_COMMENT","\/**\n     * Set response object\n     *\n     * @param  Zend_Json_Server_Response $response\n     * @return Zend_Json_Server\n     *\/",255],["T_WHITESPACE","\n    ",260],["T_PUBLIC","public",261],["T_WHITESPACE"," ",261],["T_FUNCTION","function",261],["T_WHITESPACE"," ",261],["T_STRING","setResponse",261],"(",["T_STRING","Zend_Json_Server_Response",261],["T_WHITESPACE"," ",261],["T_VARIABLE","$response",261],")",["T_WHITESPACE","\n    ",261],"{",["T_WHITESPACE","\n        ",262],["T_VARIABLE","$this",263],["T_OBJECT_OPERATOR","->",263],["T_STRING","_response",263],["T_WHITESPACE"," ",263],"=",["T_WHITESPACE"," ",263],["T_VARIABLE","$response",263],";",["T_WHITESPACE","\n        ",263],["T_RETURN","return",264],["T_WHITESPACE"," ",264],["T_VARIABLE","$this",264],";",["T_WHITESPACE","\n    ",264],"}",["T_WHITESPACE","\n\n    ",265],["T_DOC_COMMENT","\/**\n     * Get response object\n     *\n     * @return Zend_Json_Server_Response\n     *\/",267],["T_WHITESPACE","\n    ",271],["T_PUBLIC","public",272],["T_WHITESPACE"," ",272],["T_FUNCTION","function",272],["T_WHITESPACE"," ",272],["T_STRING","getResponse",272],"(",")",["T_WHITESPACE","\n    ",272],"{",["T_WHITESPACE","\n        ",273],["T_IF","if",274],["T_WHITESPACE"," ",274],"(",["T_STRING","null",274],["T_WHITESPACE"," ",274],["T_IS_IDENTICAL","===",274],["T_WHITESPACE"," ",274],"(",["T_VARIABLE","$response",274],["T_WHITESPACE"," ",274],"=",["T_WHITESPACE"," ",274],["T_VARIABLE","$this",274],["T_OBJECT_OPERATOR","->",274],["T_STRING","_response",274],")",")",["T_WHITESPACE"," ",274],"{",["T_WHITESPACE","\n            ",274],["T_COMMENT","#require_once 'Zend\/Json\/Server\/Response\/Http.php';\n",275],["T_WHITESPACE","            ",276],["T_VARIABLE","$this",276],["T_OBJECT_OPERATOR","->",276],["T_STRING","setResponse",276],"(",["T_NEW","new",276],["T_WHITESPACE"," ",276],["T_STRING","Zend_Json_Server_Response_Http",276],"(",")",")",";",["T_WHITESPACE","\n        ",276],"}",["T_WHITESPACE","\n        ",277],["T_RETURN","return",278],["T_WHITESPACE"," ",278],["T_VARIABLE","$this",278],["T_OBJECT_OPERATOR","->",278],["T_STRING","_response",278],";",["T_WHITESPACE","\n    ",278],"}",["T_WHITESPACE","\n\n    ",279],["T_DOC_COMMENT","\/**\n     * Set flag indicating whether or not to auto-emit response\n     *\n     * @param  bool $flag\n     * @return Zend_Json_Server\n     *\/",281],["T_WHITESPACE","\n    ",286],["T_PUBLIC","public",287],["T_WHITESPACE"," ",287],["T_FUNCTION","function",287],["T_WHITESPACE"," ",287],["T_STRING","setAutoEmitResponse",287],"(",["T_VARIABLE","$flag",287],")",["T_WHITESPACE","\n    ",287],"{",["T_WHITESPACE","\n        ",288],["T_VARIABLE","$this",289],["T_OBJECT_OPERATOR","->",289],["T_STRING","_autoEmitResponse",289],["T_WHITESPACE"," ",289],"=",["T_WHITESPACE"," ",289],["T_BOOL_CAST","(bool)",289],["T_WHITESPACE"," ",289],["T_VARIABLE","$flag",289],";",["T_WHITESPACE","\n        ",289],["T_RETURN","return",290],["T_WHITESPACE"," ",290],["T_VARIABLE","$this",290],";",["T_WHITESPACE","\n    ",290],"}",["T_WHITESPACE","\n\n    ",291],["T_DOC_COMMENT","\/**\n     * Will we auto-emit the response?\n     *\n     * @return bool\n     *\/",293],["T_WHITESPACE","\n    ",297],["T_PUBLIC","public",298],["T_WHITESPACE"," ",298],["T_FUNCTION","function",298],["T_WHITESPACE"," ",298],["T_STRING","autoEmitResponse",298],"(",")",["T_WHITESPACE","\n    ",298],"{",["T_WHITESPACE","\n        ",299],["T_RETURN","return",300],["T_WHITESPACE"," ",300],["T_VARIABLE","$this",300],["T_OBJECT_OPERATOR","->",300],["T_STRING","_autoEmitResponse",300],";",["T_WHITESPACE","\n    ",300],"}",["T_WHITESPACE","\n\n    ",301],["T_COMMENT","\/\/ overloading for SMD metadata\n",303],["T_WHITESPACE","    ",304],["T_DOC_COMMENT","\/**\n     * Overload to accessors of SMD object\n     *\n     * @param  string $method\n     * @param  array $args\n     * @return mixed\n     *\/",304],["T_WHITESPACE","\n    ",310],["T_PUBLIC","public",311],["T_WHITESPACE"," ",311],["T_FUNCTION","function",311],["T_WHITESPACE"," ",311],["T_STRING","__call",311],"(",["T_VARIABLE","$method",311],",",["T_WHITESPACE"," ",311],["T_VARIABLE","$args",311],")",["T_WHITESPACE","\n    ",311],"{",["T_WHITESPACE","\n        ",312],["T_IF","if",313],["T_WHITESPACE"," ",313],"(",["T_STRING","preg_match",313],"(",["T_CONSTANT_ENCAPSED_STRING","'\/^(set|get)\/'",313],",",["T_WHITESPACE"," ",313],["T_VARIABLE","$method",313],",",["T_WHITESPACE"," ",313],["T_VARIABLE","$matches",313],")",")",["T_WHITESPACE"," ",313],"{",["T_WHITESPACE","\n            ",313],["T_IF","if",314],["T_WHITESPACE"," ",314],"(",["T_STRING","in_array",314],"(",["T_VARIABLE","$method",314],",",["T_WHITESPACE"," ",314],["T_VARIABLE","$this",314],["T_OBJECT_OPERATOR","->",314],["T_STRING","_getSmdMethods",314],"(",")",")",")",["T_WHITESPACE"," ",314],"{",["T_WHITESPACE","\n                ",314],["T_IF","if",315],["T_WHITESPACE"," ",315],"(",["T_CONSTANT_ENCAPSED_STRING","'set'",315],["T_WHITESPACE"," ",315],["T_IS_EQUAL","==",315],["T_WHITESPACE"," ",315],["T_VARIABLE","$matches",315],"[",["T_LNUMBER","1",315],"]",")",["T_WHITESPACE"," ",315],"{",["T_WHITESPACE","\n                    ",315],["T_VARIABLE","$value",316],["T_WHITESPACE"," ",316],"=",["T_WHITESPACE"," ",316],["T_STRING","array_shift",316],"(",["T_VARIABLE","$args",316],")",";",["T_WHITESPACE","\n                    ",316],["T_VARIABLE","$this",317],["T_OBJECT_OPERATOR","->",317],["T_STRING","getServiceMap",317],"(",")",["T_OBJECT_OPERATOR","->",317],["T_VARIABLE","$method",317],"(",["T_VARIABLE","$value",317],")",";",["T_WHITESPACE","\n                    ",317],["T_RETURN","return",318],["T_WHITESPACE"," ",318],["T_VARIABLE","$this",318],";",["T_WHITESPACE","\n                ",318],"}",["T_WHITESPACE"," ",319],["T_ELSE","else",319],["T_WHITESPACE"," ",319],"{",["T_WHITESPACE","\n                    ",319],["T_RETURN","return",320],["T_WHITESPACE"," ",320],["T_VARIABLE","$this",320],["T_OBJECT_OPERATOR","->",320],["T_STRING","getServiceMap",320],"(",")",["T_OBJECT_OPERATOR","->",320],["T_VARIABLE","$method",320],"(",")",";",["T_WHITESPACE","\n                ",320],"}",["T_WHITESPACE","\n            ",321],"}",["T_WHITESPACE","\n        ",322],"}",["T_WHITESPACE","\n        ",323],["T_RETURN","return",324],["T_WHITESPACE"," ",324],["T_STRING","null",324],";",["T_WHITESPACE","\n    ",324],"}",["T_WHITESPACE","\n\n    ",325],["T_DOC_COMMENT","\/**\n     * Retrieve SMD object\n     *\n     * @return Zend_Json_Server_Smd\n     *\/",327],["T_WHITESPACE","\n    ",331],["T_PUBLIC","public",332],["T_WHITESPACE"," ",332],["T_FUNCTION","function",332],["T_WHITESPACE"," ",332],["T_STRING","getServiceMap",332],"(",")",["T_WHITESPACE","\n    ",332],"{",["T_WHITESPACE","\n        ",333],["T_IF","if",334],["T_WHITESPACE"," ",334],"(",["T_STRING","null",334],["T_WHITESPACE"," ",334],["T_IS_IDENTICAL","===",334],["T_WHITESPACE"," ",334],["T_VARIABLE","$this",334],["T_OBJECT_OPERATOR","->",334],["T_STRING","_serviceMap",334],")",["T_WHITESPACE"," ",334],"{",["T_WHITESPACE","\n            ",334],["T_COMMENT","#require_once 'Zend\/Json\/Server\/Smd.php';\n",335],["T_WHITESPACE","            ",336],["T_VARIABLE","$this",336],["T_OBJECT_OPERATOR","->",336],["T_STRING","_serviceMap",336],["T_WHITESPACE"," ",336],"=",["T_WHITESPACE"," ",336],["T_NEW","new",336],["T_WHITESPACE"," ",336],["T_STRING","Zend_Json_Server_Smd",336],"(",")",";",["T_WHITESPACE","\n        ",336],"}",["T_WHITESPACE","\n        ",337],["T_RETURN","return",338],["T_WHITESPACE"," ",338],["T_VARIABLE","$this",338],["T_OBJECT_OPERATOR","->",338],["T_STRING","_serviceMap",338],";",["T_WHITESPACE","\n    ",338],"}",["T_WHITESPACE","\n\n    ",339],["T_DOC_COMMENT","\/**\n     * Add service method to service map\n     *\n     * @param  Zend_Server_Reflection_Function $method\n     * @return void\n     *\/",341],["T_WHITESPACE","\n    ",346],["T_PROTECTED","protected",347],["T_WHITESPACE"," ",347],["T_FUNCTION","function",347],["T_WHITESPACE"," ",347],["T_STRING","_addMethodServiceMap",347],"(",["T_STRING","Zend_Server_Method_Definition",347],["T_WHITESPACE"," ",347],["T_VARIABLE","$method",347],")",["T_WHITESPACE","\n    ",347],"{",["T_WHITESPACE","\n        ",348],["T_VARIABLE","$serviceInfo",349],["T_WHITESPACE"," ",349],"=",["T_WHITESPACE"," ",349],["T_ARRAY","array",349],"(",["T_WHITESPACE","\n            ",349],["T_CONSTANT_ENCAPSED_STRING","'name'",350],["T_WHITESPACE","   ",350],["T_DOUBLE_ARROW","=>",350],["T_WHITESPACE"," ",350],["T_VARIABLE","$method",350],["T_OBJECT_OPERATOR","->",350],["T_STRING","getName",350],"(",")",",",["T_WHITESPACE","\n            ",350],["T_CONSTANT_ENCAPSED_STRING","'return'",351],["T_WHITESPACE"," ",351],["T_DOUBLE_ARROW","=>",351],["T_WHITESPACE"," ",351],["T_VARIABLE","$this",351],["T_OBJECT_OPERATOR","->",351],["T_STRING","_getReturnType",351],"(",["T_VARIABLE","$method",351],")",",",["T_WHITESPACE","\n        ",351],")",";",["T_WHITESPACE","\n        ",352],["T_VARIABLE","$params",353],["T_WHITESPACE"," ",353],"=",["T_WHITESPACE"," ",353],["T_VARIABLE","$this",353],["T_OBJECT_OPERATOR","->",353],["T_STRING","_getParams",353],"(",["T_VARIABLE","$method",353],")",";",["T_WHITESPACE","\n        ",353],["T_VARIABLE","$serviceInfo",354],"[",["T_CONSTANT_ENCAPSED_STRING","'params'",354],"]",["T_WHITESPACE"," ",354],"=",["T_WHITESPACE"," ",354],["T_VARIABLE","$params",354],";",["T_WHITESPACE","\n        ",354],["T_VARIABLE","$serviceMap",355],["T_WHITESPACE"," ",355],"=",["T_WHITESPACE"," ",355],["T_VARIABLE","$this",355],["T_OBJECT_OPERATOR","->",355],["T_STRING","getServiceMap",355],"(",")",";",["T_WHITESPACE","\n        ",355],["T_IF","if",356],["T_WHITESPACE"," ",356],"(",["T_STRING","false",356],["T_WHITESPACE"," ",356],["T_IS_NOT_IDENTICAL","!==",356],["T_WHITESPACE"," ",356],["T_VARIABLE","$serviceMap",356],["T_OBJECT_OPERATOR","->",356],["T_STRING","getService",356],"(",["T_VARIABLE","$serviceInfo",356],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",356],"]",")",")",["T_WHITESPACE"," ",356],"{",["T_WHITESPACE","\n            ",356],["T_VARIABLE","$serviceMap",357],["T_OBJECT_OPERATOR","->",357],["T_STRING","removeService",357],"(",["T_VARIABLE","$serviceInfo",357],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",357],"]",")",";",["T_WHITESPACE","\n        ",357],"}",["T_WHITESPACE","\n        ",358],["T_VARIABLE","$serviceMap",359],["T_OBJECT_OPERATOR","->",359],["T_STRING","addService",359],"(",["T_VARIABLE","$serviceInfo",359],")",";",["T_WHITESPACE","\n    ",359],"}",["T_WHITESPACE","\n\n    ",360],["T_DOC_COMMENT","\/**\n     * Translate PHP type to JSON type\n     *\n     * @param  string $type\n     * @return string\n     *\/",362],["T_WHITESPACE","\n    ",367],["T_PROTECTED","protected",368],["T_WHITESPACE"," ",368],["T_FUNCTION","function",368],["T_WHITESPACE"," ",368],["T_STRING","_fixType",368],"(",["T_VARIABLE","$type",368],")",["T_WHITESPACE","\n    ",368],"{",["T_WHITESPACE","\n        ",369],["T_RETURN","return",370],["T_WHITESPACE"," ",370],["T_VARIABLE","$type",370],";",["T_WHITESPACE","\n    ",370],"}",["T_WHITESPACE","\n\n    ",371],["T_DOC_COMMENT","\/**\n     * Get default params from signature\n     *\n     * @param  array $args\n     * @param  array $params\n     * @return array\n     *\/",373],["T_WHITESPACE","\n    ",379],["T_PROTECTED","protected",380],["T_WHITESPACE"," ",380],["T_FUNCTION","function",380],["T_WHITESPACE"," ",380],["T_STRING","_getDefaultParams",380],"(",["T_ARRAY","array",380],["T_WHITESPACE"," ",380],["T_VARIABLE","$args",380],",",["T_WHITESPACE"," ",380],["T_ARRAY","array",380],["T_WHITESPACE"," ",380],["T_VARIABLE","$params",380],")",["T_WHITESPACE","\n    ",380],"{",["T_WHITESPACE","\n        ",381],["T_VARIABLE","$defaultParams",382],["T_WHITESPACE"," ",382],"=",["T_WHITESPACE"," ",382],["T_STRING","array_slice",382],"(",["T_VARIABLE","$params",382],",",["T_WHITESPACE"," ",382],["T_STRING","count",382],"(",["T_VARIABLE","$args",382],")",")",";",["T_WHITESPACE","\n        ",382],["T_FOREACH","foreach",383],["T_WHITESPACE"," ",383],"(",["T_VARIABLE","$defaultParams",383],["T_WHITESPACE"," ",383],["T_AS","as",383],["T_WHITESPACE"," ",383],["T_VARIABLE","$param",383],")",["T_WHITESPACE"," ",383],"{",["T_WHITESPACE","\n            ",383],["T_VARIABLE","$value",384],["T_WHITESPACE"," ",384],"=",["T_WHITESPACE"," ",384],["T_STRING","null",384],";",["T_WHITESPACE","\n            ",384],["T_IF","if",385],["T_WHITESPACE"," ",385],"(",["T_STRING","array_key_exists",385],"(",["T_CONSTANT_ENCAPSED_STRING","'default'",385],",",["T_WHITESPACE"," ",385],["T_VARIABLE","$param",385],")",")",["T_WHITESPACE"," ",385],"{",["T_WHITESPACE","\n                ",385],["T_VARIABLE","$value",386],["T_WHITESPACE"," ",386],"=",["T_WHITESPACE"," ",386],["T_VARIABLE","$param",386],"[",["T_CONSTANT_ENCAPSED_STRING","'default'",386],"]",";",["T_WHITESPACE","\n            ",386],"}",["T_WHITESPACE","\n            ",387],["T_STRING","array_push",388],"(",["T_VARIABLE","$args",388],",",["T_WHITESPACE"," ",388],["T_VARIABLE","$value",388],")",";",["T_WHITESPACE","\n        ",388],"}",["T_WHITESPACE","\n        ",389],["T_RETURN","return",390],["T_WHITESPACE"," ",390],["T_VARIABLE","$args",390],";",["T_WHITESPACE","\n    ",390],"}",["T_WHITESPACE","\n\n    ",391],["T_DOC_COMMENT","\/**\n     * Get method param type\n     *\n     * @param  Zend_Server_Reflection_Function_Abstract $method\n     * @return string|array\n     *\/",393],["T_WHITESPACE","\n    ",398],["T_PROTECTED","protected",399],["T_WHITESPACE"," ",399],["T_FUNCTION","function",399],["T_WHITESPACE"," ",399],["T_STRING","_getParams",399],"(",["T_STRING","Zend_Server_Method_Definition",399],["T_WHITESPACE"," ",399],["T_VARIABLE","$method",399],")",["T_WHITESPACE","\n    ",399],"{",["T_WHITESPACE","\n        ",400],["T_VARIABLE","$params",401],["T_WHITESPACE"," ",401],"=",["T_WHITESPACE"," ",401],["T_ARRAY","array",401],"(",")",";",["T_WHITESPACE","\n        ",401],["T_FOREACH","foreach",402],["T_WHITESPACE"," ",402],"(",["T_VARIABLE","$method",402],["T_OBJECT_OPERATOR","->",402],["T_STRING","getPrototypes",402],"(",")",["T_WHITESPACE"," ",402],["T_AS","as",402],["T_WHITESPACE"," ",402],["T_VARIABLE","$prototype",402],")",["T_WHITESPACE"," ",402],"{",["T_WHITESPACE","\n            ",402],["T_FOREACH","foreach",403],["T_WHITESPACE"," ",403],"(",["T_VARIABLE","$prototype",403],["T_OBJECT_OPERATOR","->",403],["T_STRING","getParameterObjects",403],"(",")",["T_WHITESPACE"," ",403],["T_AS","as",403],["T_WHITESPACE"," ",403],["T_VARIABLE","$key",403],["T_WHITESPACE"," ",403],["T_DOUBLE_ARROW","=>",403],["T_WHITESPACE"," ",403],["T_VARIABLE","$parameter",403],")",["T_WHITESPACE"," ",403],"{",["T_WHITESPACE","\n                ",403],["T_IF","if",404],["T_WHITESPACE"," ",404],"(","!",["T_ISSET","isset",404],"(",["T_VARIABLE","$params",404],"[",["T_VARIABLE","$key",404],"]",")",")",["T_WHITESPACE"," ",404],"{",["T_WHITESPACE","\n                    ",404],["T_VARIABLE","$params",405],"[",["T_VARIABLE","$key",405],"]",["T_WHITESPACE"," ",405],"=",["T_WHITESPACE"," ",405],["T_ARRAY","array",405],"(",["T_WHITESPACE","\n                        ",405],["T_CONSTANT_ENCAPSED_STRING","'type'",406],["T_WHITESPACE","     ",406],["T_DOUBLE_ARROW","=>",406],["T_WHITESPACE"," ",406],["T_VARIABLE","$parameter",406],["T_OBJECT_OPERATOR","->",406],["T_STRING","getType",406],"(",")",",",["T_WHITESPACE","\n                        ",406],["T_CONSTANT_ENCAPSED_STRING","'name'",407],["T_WHITESPACE","     ",407],["T_DOUBLE_ARROW","=>",407],["T_WHITESPACE"," ",407],["T_VARIABLE","$parameter",407],["T_OBJECT_OPERATOR","->",407],["T_STRING","getName",407],"(",")",",",["T_WHITESPACE","\n                        ",407],["T_CONSTANT_ENCAPSED_STRING","'optional'",408],["T_WHITESPACE"," ",408],["T_DOUBLE_ARROW","=>",408],["T_WHITESPACE"," ",408],["T_VARIABLE","$parameter",408],["T_OBJECT_OPERATOR","->",408],["T_STRING","isOptional",408],"(",")",",",["T_WHITESPACE","\n                    ",408],")",";",["T_WHITESPACE","\n                    ",409],["T_IF","if",410],["T_WHITESPACE"," ",410],"(",["T_STRING","null",410],["T_WHITESPACE"," ",410],["T_IS_NOT_IDENTICAL","!==",410],["T_WHITESPACE"," ",410],"(",["T_VARIABLE","$default",410],["T_WHITESPACE"," ",410],"=",["T_WHITESPACE"," ",410],["T_VARIABLE","$parameter",410],["T_OBJECT_OPERATOR","->",410],["T_STRING","getDefaultValue",410],"(",")",")",")",["T_WHITESPACE"," ",410],"{",["T_WHITESPACE","\n                        ",410],["T_VARIABLE","$params",411],"[",["T_VARIABLE","$key",411],"]","[",["T_CONSTANT_ENCAPSED_STRING","'default'",411],"]",["T_WHITESPACE"," ",411],"=",["T_WHITESPACE"," ",411],["T_VARIABLE","$default",411],";",["T_WHITESPACE","\n                    ",411],"}",["T_WHITESPACE","\n                    ",412],["T_VARIABLE","$description",413],["T_WHITESPACE"," ",413],"=",["T_WHITESPACE"," ",413],["T_VARIABLE","$parameter",413],["T_OBJECT_OPERATOR","->",413],["T_STRING","getDescription",413],"(",")",";",["T_WHITESPACE","\n                    ",413],["T_IF","if",414],["T_WHITESPACE"," ",414],"(","!",["T_EMPTY","empty",414],"(",["T_VARIABLE","$description",414],")",")",["T_WHITESPACE"," ",414],"{",["T_WHITESPACE","\n                        ",414],["T_VARIABLE","$params",415],"[",["T_VARIABLE","$key",415],"]","[",["T_CONSTANT_ENCAPSED_STRING","'description'",415],"]",["T_WHITESPACE"," ",415],"=",["T_WHITESPACE"," ",415],["T_VARIABLE","$description",415],";",["T_WHITESPACE","\n                    ",415],"}",["T_WHITESPACE","\n                    ",416],["T_CONTINUE","continue",417],";",["T_WHITESPACE","\n                ",417],"}",["T_WHITESPACE","\n                ",418],["T_VARIABLE","$newType",419],["T_WHITESPACE"," ",419],"=",["T_WHITESPACE"," ",419],["T_VARIABLE","$parameter",419],["T_OBJECT_OPERATOR","->",419],["T_STRING","getType",419],"(",")",";",["T_WHITESPACE","\n                ",419],["T_IF","if",420],["T_WHITESPACE"," ",420],"(","!",["T_STRING","is_array",420],"(",["T_VARIABLE","$params",420],"[",["T_VARIABLE","$key",420],"]","[",["T_CONSTANT_ENCAPSED_STRING","'type'",420],"]",")",")",["T_WHITESPACE"," ",420],"{",["T_WHITESPACE","\n                    ",420],["T_IF","if",421],["T_WHITESPACE"," ",421],"(",["T_VARIABLE","$params",421],"[",["T_VARIABLE","$key",421],"]","[",["T_CONSTANT_ENCAPSED_STRING","'type'",421],"]",["T_WHITESPACE"," ",421],["T_IS_EQUAL","==",421],["T_WHITESPACE"," ",421],["T_VARIABLE","$newType",421],")",["T_WHITESPACE"," ",421],"{",["T_WHITESPACE","\n                        ",421],["T_CONTINUE","continue",422],";",["T_WHITESPACE","\n                    ",422],"}",["T_WHITESPACE","\n                    ",423],["T_VARIABLE","$params",424],"[",["T_VARIABLE","$key",424],"]","[",["T_CONSTANT_ENCAPSED_STRING","'type'",424],"]",["T_WHITESPACE"," ",424],"=",["T_WHITESPACE"," ",424],["T_ARRAY_CAST","(array)",424],["T_WHITESPACE"," ",424],["T_VARIABLE","$params",424],"[",["T_VARIABLE","$key",424],"]","[",["T_CONSTANT_ENCAPSED_STRING","'type'",424],"]",";",["T_WHITESPACE","\n                ",424],"}",["T_WHITESPACE"," ",425],["T_ELSEIF","elseif",425],["T_WHITESPACE"," ",425],"(",["T_STRING","in_array",425],"(",["T_VARIABLE","$newType",425],",",["T_WHITESPACE"," ",425],["T_VARIABLE","$params",425],"[",["T_VARIABLE","$key",425],"]","[",["T_CONSTANT_ENCAPSED_STRING","'type'",425],"]",")",")",["T_WHITESPACE"," ",425],"{",["T_WHITESPACE","\n                    ",425],["T_CONTINUE","continue",426],";",["T_WHITESPACE","\n                ",426],"}",["T_WHITESPACE","\n                ",427],["T_STRING","array_push",428],"(",["T_VARIABLE","$params",428],"[",["T_VARIABLE","$key",428],"]","[",["T_CONSTANT_ENCAPSED_STRING","'type'",428],"]",",",["T_WHITESPACE"," ",428],["T_VARIABLE","$parameter",428],["T_OBJECT_OPERATOR","->",428],["T_STRING","getType",428],"(",")",")",";",["T_WHITESPACE","\n            ",428],"}",["T_WHITESPACE","\n        ",429],"}",["T_WHITESPACE","\n        ",430],["T_RETURN","return",431],["T_WHITESPACE"," ",431],["T_VARIABLE","$params",431],";",["T_WHITESPACE","\n    ",431],"}",["T_WHITESPACE","\n\n    ",432],["T_DOC_COMMENT","\/**\n     * Set response state\n     *\n     * @return Zend_Json_Server_Response\n     *\/",434],["T_WHITESPACE","\n    ",438],["T_PROTECTED","protected",439],["T_WHITESPACE"," ",439],["T_FUNCTION","function",439],["T_WHITESPACE"," ",439],["T_STRING","_getReadyResponse",439],"(",")",["T_WHITESPACE","\n    ",439],"{",["T_WHITESPACE","\n        ",440],["T_VARIABLE","$request",441],["T_WHITESPACE","  ",441],"=",["T_WHITESPACE"," ",441],["T_VARIABLE","$this",441],["T_OBJECT_OPERATOR","->",441],["T_STRING","getRequest",441],"(",")",";",["T_WHITESPACE","\n        ",441],["T_VARIABLE","$response",442],["T_WHITESPACE"," ",442],"=",["T_WHITESPACE"," ",442],["T_VARIABLE","$this",442],["T_OBJECT_OPERATOR","->",442],["T_STRING","getResponse",442],"(",")",";",["T_WHITESPACE","\n\n        ",442],["T_VARIABLE","$response",444],["T_OBJECT_OPERATOR","->",444],["T_STRING","setServiceMap",444],"(",["T_VARIABLE","$this",444],["T_OBJECT_OPERATOR","->",444],["T_STRING","getServiceMap",444],"(",")",")",";",["T_WHITESPACE","\n        ",444],["T_IF","if",445],["T_WHITESPACE"," ",445],"(",["T_STRING","null",445],["T_WHITESPACE"," ",445],["T_IS_NOT_IDENTICAL","!==",445],["T_WHITESPACE"," ",445],"(",["T_VARIABLE","$id",445],["T_WHITESPACE"," ",445],"=",["T_WHITESPACE"," ",445],["T_VARIABLE","$request",445],["T_OBJECT_OPERATOR","->",445],["T_STRING","getId",445],"(",")",")",")",["T_WHITESPACE"," ",445],"{",["T_WHITESPACE","\n            ",445],["T_VARIABLE","$response",446],["T_OBJECT_OPERATOR","->",446],["T_STRING","setId",446],"(",["T_VARIABLE","$id",446],")",";",["T_WHITESPACE","\n        ",446],"}",["T_WHITESPACE","\n        ",447],["T_IF","if",448],["T_WHITESPACE"," ",448],"(",["T_STRING","null",448],["T_WHITESPACE"," ",448],["T_IS_NOT_IDENTICAL","!==",448],["T_WHITESPACE"," ",448],"(",["T_VARIABLE","$version",448],["T_WHITESPACE"," ",448],"=",["T_WHITESPACE"," ",448],["T_VARIABLE","$request",448],["T_OBJECT_OPERATOR","->",448],["T_STRING","getVersion",448],"(",")",")",")",["T_WHITESPACE"," ",448],"{",["T_WHITESPACE","\n            ",448],["T_VARIABLE","$response",449],["T_OBJECT_OPERATOR","->",449],["T_STRING","setVersion",449],"(",["T_VARIABLE","$version",449],")",";",["T_WHITESPACE","\n        ",449],"}",["T_WHITESPACE","\n\n        ",450],["T_RETURN","return",452],["T_WHITESPACE"," ",452],["T_VARIABLE","$response",452],";",["T_WHITESPACE","\n    ",452],"}",["T_WHITESPACE","\n\n    ",453],["T_DOC_COMMENT","\/**\n     * Get method return type\n     *\n     * @param  Zend_Server_Reflection_Function_Abstract $method\n     * @return string|array\n     *\/",455],["T_WHITESPACE","\n    ",460],["T_PROTECTED","protected",461],["T_WHITESPACE"," ",461],["T_FUNCTION","function",461],["T_WHITESPACE"," ",461],["T_STRING","_getReturnType",461],"(",["T_STRING","Zend_Server_Method_Definition",461],["T_WHITESPACE"," ",461],["T_VARIABLE","$method",461],")",["T_WHITESPACE","\n    ",461],"{",["T_WHITESPACE","\n        ",462],["T_VARIABLE","$return",463],["T_WHITESPACE"," ",463],"=",["T_WHITESPACE"," ",463],["T_ARRAY","array",463],"(",")",";",["T_WHITESPACE","\n        ",463],["T_FOREACH","foreach",464],["T_WHITESPACE"," ",464],"(",["T_VARIABLE","$method",464],["T_OBJECT_OPERATOR","->",464],["T_STRING","getPrototypes",464],"(",")",["T_WHITESPACE"," ",464],["T_AS","as",464],["T_WHITESPACE"," ",464],["T_VARIABLE","$prototype",464],")",["T_WHITESPACE"," ",464],"{",["T_WHITESPACE","\n            ",464],["T_VARIABLE","$return",465],"[","]",["T_WHITESPACE"," ",465],"=",["T_WHITESPACE"," ",465],["T_VARIABLE","$prototype",465],["T_OBJECT_OPERATOR","->",465],["T_STRING","getReturnType",465],"(",")",";",["T_WHITESPACE","\n        ",465],"}",["T_WHITESPACE","\n        ",466],["T_IF","if",467],["T_WHITESPACE"," ",467],"(",["T_LNUMBER","1",467],["T_WHITESPACE"," ",467],["T_IS_EQUAL","==",467],["T_WHITESPACE"," ",467],["T_STRING","count",467],"(",["T_VARIABLE","$return",467],")",")",["T_WHITESPACE"," ",467],"{",["T_WHITESPACE","\n            ",467],["T_RETURN","return",468],["T_WHITESPACE"," ",468],["T_VARIABLE","$return",468],"[",["T_LNUMBER","0",468],"]",";",["T_WHITESPACE","\n        ",468],"}",["T_WHITESPACE","\n        ",469],["T_RETURN","return",470],["T_WHITESPACE"," ",470],["T_VARIABLE","$return",470],";",["T_WHITESPACE","\n    ",470],"}",["T_WHITESPACE","\n\n    ",471],["T_DOC_COMMENT","\/**\n     * Retrieve list of allowed SMD methods for proxying\n     *\n     * @return array\n     *\/",473],["T_WHITESPACE","\n    ",477],["T_PROTECTED","protected",478],["T_WHITESPACE"," ",478],["T_FUNCTION","function",478],["T_WHITESPACE"," ",478],["T_STRING","_getSmdMethods",478],"(",")",["T_WHITESPACE","\n    ",478],"{",["T_WHITESPACE","\n        ",479],["T_IF","if",480],["T_WHITESPACE"," ",480],"(",["T_STRING","null",480],["T_WHITESPACE"," ",480],["T_IS_IDENTICAL","===",480],["T_WHITESPACE"," ",480],["T_VARIABLE","$this",480],["T_OBJECT_OPERATOR","->",480],["T_STRING","_smdMethods",480],")",["T_WHITESPACE"," ",480],"{",["T_WHITESPACE","\n            ",480],["T_VARIABLE","$this",481],["T_OBJECT_OPERATOR","->",481],["T_STRING","_smdMethods",481],["T_WHITESPACE"," ",481],"=",["T_WHITESPACE"," ",481],["T_ARRAY","array",481],"(",")",";",["T_WHITESPACE","\n            ",481],["T_COMMENT","#require_once 'Zend\/Json\/Server\/Smd.php';\n",482],["T_WHITESPACE","            ",483],["T_VARIABLE","$methods",483],["T_WHITESPACE"," ",483],"=",["T_WHITESPACE"," ",483],["T_STRING","get_class_methods",483],"(",["T_CONSTANT_ENCAPSED_STRING","'Zend_Json_Server_Smd'",483],")",";",["T_WHITESPACE","\n            ",483],["T_FOREACH","foreach",484],["T_WHITESPACE"," ",484],"(",["T_VARIABLE","$methods",484],["T_WHITESPACE"," ",484],["T_AS","as",484],["T_WHITESPACE"," ",484],["T_VARIABLE","$key",484],["T_WHITESPACE"," ",484],["T_DOUBLE_ARROW","=>",484],["T_WHITESPACE"," ",484],["T_VARIABLE","$method",484],")",["T_WHITESPACE"," ",484],"{",["T_WHITESPACE","\n                ",484],["T_IF","if",485],["T_WHITESPACE"," ",485],"(","!",["T_STRING","preg_match",485],"(",["T_CONSTANT_ENCAPSED_STRING","'\/^(set|get)\/'",485],",",["T_WHITESPACE"," ",485],["T_VARIABLE","$method",485],")",")",["T_WHITESPACE"," ",485],"{",["T_WHITESPACE","\n                    ",485],["T_CONTINUE","continue",486],";",["T_WHITESPACE","\n                ",486],"}",["T_WHITESPACE","\n                ",487],["T_IF","if",488],["T_WHITESPACE"," ",488],"(",["T_STRING","strstr",488],"(",["T_VARIABLE","$method",488],",",["T_WHITESPACE"," ",488],["T_CONSTANT_ENCAPSED_STRING","'Service'",488],")",")",["T_WHITESPACE"," ",488],"{",["T_WHITESPACE","\n                    ",488],["T_CONTINUE","continue",489],";",["T_WHITESPACE","\n                ",489],"}",["T_WHITESPACE","\n                ",490],["T_VARIABLE","$this",491],["T_OBJECT_OPERATOR","->",491],["T_STRING","_smdMethods",491],"[","]",["T_WHITESPACE"," ",491],"=",["T_WHITESPACE"," ",491],["T_VARIABLE","$method",491],";",["T_WHITESPACE","\n            ",491],"}",["T_WHITESPACE","\n        ",492],"}",["T_WHITESPACE","\n        ",493],["T_RETURN","return",494],["T_WHITESPACE"," ",494],["T_VARIABLE","$this",494],["T_OBJECT_OPERATOR","->",494],["T_STRING","_smdMethods",494],";",["T_WHITESPACE","\n    ",494],"}",["T_WHITESPACE","\n\n    ",495],["T_DOC_COMMENT","\/**\n     * Internal method for handling request\n     *\n     * @return void\n     *\/",497],["T_WHITESPACE","\n    ",501],["T_PROTECTED","protected",502],["T_WHITESPACE"," ",502],["T_FUNCTION","function",502],["T_WHITESPACE"," ",502],["T_STRING","_handle",502],"(",")",["T_WHITESPACE","\n    ",502],"{",["T_WHITESPACE","\n        ",503],["T_VARIABLE","$request",504],["T_WHITESPACE"," ",504],"=",["T_WHITESPACE"," ",504],["T_VARIABLE","$this",504],["T_OBJECT_OPERATOR","->",504],["T_STRING","getRequest",504],"(",")",";",["T_WHITESPACE","\n\n        ",504],["T_IF","if",506],["T_WHITESPACE"," ",506],"(","!",["T_VARIABLE","$request",506],["T_OBJECT_OPERATOR","->",506],["T_STRING","isMethodError",506],"(",")",["T_WHITESPACE"," ",506],["T_BOOLEAN_AND","&&",506],["T_WHITESPACE"," ",506],"(",["T_STRING","null",506],["T_WHITESPACE"," ",506],["T_IS_IDENTICAL","===",506],["T_WHITESPACE"," ",506],["T_VARIABLE","$request",506],["T_OBJECT_OPERATOR","->",506],["T_STRING","getMethod",506],"(",")",")",")",["T_WHITESPACE"," ",506],"{",["T_WHITESPACE","\n            ",506],["T_RETURN","return",507],["T_WHITESPACE"," ",507],["T_VARIABLE","$this",507],["T_OBJECT_OPERATOR","->",507],["T_STRING","fault",507],"(",["T_CONSTANT_ENCAPSED_STRING","'Invalid Request'",507],",",["T_WHITESPACE"," ",507],"-",["T_LNUMBER","32600",507],")",";",["T_WHITESPACE","\n        ",507],"}",["T_WHITESPACE","\n\n        ",508],["T_IF","if",510],["T_WHITESPACE"," ",510],"(",["T_VARIABLE","$request",510],["T_OBJECT_OPERATOR","->",510],["T_STRING","isMethodError",510],"(",")",")",["T_WHITESPACE"," ",510],"{",["T_WHITESPACE","\n            ",510],["T_RETURN","return",511],["T_WHITESPACE"," ",511],["T_VARIABLE","$this",511],["T_OBJECT_OPERATOR","->",511],["T_STRING","fault",511],"(",["T_CONSTANT_ENCAPSED_STRING","'Invalid Request'",511],",",["T_WHITESPACE"," ",511],"-",["T_LNUMBER","32600",511],")",";",["T_WHITESPACE","\n        ",511],"}",["T_WHITESPACE","\n\n        ",512],["T_VARIABLE","$method",514],["T_WHITESPACE"," ",514],"=",["T_WHITESPACE"," ",514],["T_VARIABLE","$request",514],["T_OBJECT_OPERATOR","->",514],["T_STRING","getMethod",514],"(",")",";",["T_WHITESPACE","\n        ",514],["T_IF","if",515],["T_WHITESPACE"," ",515],"(","!",["T_VARIABLE","$this",515],["T_OBJECT_OPERATOR","->",515],["T_STRING","_table",515],["T_OBJECT_OPERATOR","->",515],["T_STRING","hasMethod",515],"(",["T_VARIABLE","$method",515],")",")",["T_WHITESPACE"," ",515],"{",["T_WHITESPACE","\n            ",515],["T_RETURN","return",516],["T_WHITESPACE"," ",516],["T_VARIABLE","$this",516],["T_OBJECT_OPERATOR","->",516],["T_STRING","fault",516],"(",["T_CONSTANT_ENCAPSED_STRING","'Method not found'",516],",",["T_WHITESPACE"," ",516],"-",["T_LNUMBER","32601",516],")",";",["T_WHITESPACE","\n        ",516],"}",["T_WHITESPACE","\n\n        ",517],["T_VARIABLE","$params",519],["T_WHITESPACE","        ",519],"=",["T_WHITESPACE"," ",519],["T_VARIABLE","$request",519],["T_OBJECT_OPERATOR","->",519],["T_STRING","getParams",519],"(",")",";",["T_WHITESPACE","\n        ",519],["T_VARIABLE","$invocable",520],["T_WHITESPACE","     ",520],"=",["T_WHITESPACE"," ",520],["T_VARIABLE","$this",520],["T_OBJECT_OPERATOR","->",520],["T_STRING","_table",520],["T_OBJECT_OPERATOR","->",520],["T_STRING","getMethod",520],"(",["T_VARIABLE","$method",520],")",";",["T_WHITESPACE","\n        ",520],["T_VARIABLE","$serviceMap",521],["T_WHITESPACE","    ",521],"=",["T_WHITESPACE"," ",521],["T_VARIABLE","$this",521],["T_OBJECT_OPERATOR","->",521],["T_STRING","getServiceMap",521],"(",")",";",["T_WHITESPACE","\n        ",521],["T_VARIABLE","$service",522],["T_WHITESPACE","       ",522],"=",["T_WHITESPACE"," ",522],["T_VARIABLE","$serviceMap",522],["T_OBJECT_OPERATOR","->",522],["T_STRING","getService",522],"(",["T_VARIABLE","$method",522],")",";",["T_WHITESPACE","\n        ",522],["T_VARIABLE","$serviceParams",523],["T_WHITESPACE"," ",523],"=",["T_WHITESPACE"," ",523],["T_VARIABLE","$service",523],["T_OBJECT_OPERATOR","->",523],["T_STRING","getParams",523],"(",")",";",["T_WHITESPACE","\n\n        ",523],["T_IF","if",525],["T_WHITESPACE"," ",525],"(",["T_STRING","count",525],"(",["T_VARIABLE","$params",525],")",["T_WHITESPACE"," ",525],"<",["T_WHITESPACE"," ",525],["T_STRING","count",525],"(",["T_VARIABLE","$serviceParams",525],")",")",["T_WHITESPACE"," ",525],"{",["T_WHITESPACE","\n            ",525],["T_VARIABLE","$params",526],["T_WHITESPACE"," ",526],"=",["T_WHITESPACE"," ",526],["T_VARIABLE","$this",526],["T_OBJECT_OPERATOR","->",526],["T_STRING","_getDefaultParams",526],"(",["T_VARIABLE","$params",526],",",["T_WHITESPACE"," ",526],["T_VARIABLE","$serviceParams",526],")",";",["T_WHITESPACE","\n        ",526],"}",["T_WHITESPACE","\n\n        ",527],["T_COMMENT","\/\/Make sure named parameters are passed in correct order\n",529],["T_WHITESPACE","        ",530],["T_IF","if",530],["T_WHITESPACE"," ",530],"(",["T_WHITESPACE"," ",530],["T_STRING","is_string",530],"(",["T_WHITESPACE"," ",530],["T_STRING","key",530],"(",["T_WHITESPACE"," ",530],["T_VARIABLE","$params",530],["T_WHITESPACE"," ",530],")",["T_WHITESPACE"," ",530],")",["T_WHITESPACE"," ",530],")",["T_WHITESPACE"," ",530],"{",["T_WHITESPACE","\n\n            ",530],["T_VARIABLE","$callback",532],["T_WHITESPACE"," ",532],"=",["T_WHITESPACE"," ",532],["T_VARIABLE","$invocable",532],["T_OBJECT_OPERATOR","->",532],["T_STRING","getCallback",532],"(",")",";",["T_WHITESPACE","\n            ",532],["T_IF","if",533],["T_WHITESPACE"," ",533],"(",["T_CONSTANT_ENCAPSED_STRING","'function'",533],["T_WHITESPACE"," ",533],["T_IS_EQUAL","==",533],["T_WHITESPACE"," ",533],["T_VARIABLE","$callback",533],["T_OBJECT_OPERATOR","->",533],["T_STRING","getType",533],"(",")",")",["T_WHITESPACE"," ",533],"{",["T_WHITESPACE","\n                ",533],["T_VARIABLE","$reflection",534],["T_WHITESPACE"," ",534],"=",["T_WHITESPACE"," ",534],["T_NEW","new",534],["T_WHITESPACE"," ",534],["T_STRING","ReflectionFunction",534],"(",["T_WHITESPACE"," ",534],["T_VARIABLE","$callback",534],["T_OBJECT_OPERATOR","->",534],["T_STRING","getFunction",534],"(",")",["T_WHITESPACE"," ",534],")",";",["T_WHITESPACE","\n                ",534],["T_VARIABLE","$refParams",535],["T_WHITESPACE","  ",535],"=",["T_WHITESPACE"," ",535],["T_VARIABLE","$reflection",535],["T_OBJECT_OPERATOR","->",535],["T_STRING","getParameters",535],"(",")",";",["T_WHITESPACE","\n            ",535],"}",["T_WHITESPACE"," ",536],["T_ELSE","else",536],["T_WHITESPACE"," ",536],"{",["T_WHITESPACE","\n\n                ",536],["T_VARIABLE","$reflection",538],["T_WHITESPACE"," ",538],"=",["T_WHITESPACE"," ",538],["T_NEW","new",538],["T_WHITESPACE"," ",538],["T_STRING","ReflectionMethod",538],"(",["T_WHITESPACE","\n                    ",538],["T_VARIABLE","$callback",539],["T_OBJECT_OPERATOR","->",539],["T_STRING","getClass",539],"(",")",",",["T_WHITESPACE","\n                    ",539],["T_VARIABLE","$callback",540],["T_OBJECT_OPERATOR","->",540],["T_STRING","getMethod",540],"(",")",["T_WHITESPACE","\n                ",540],")",";",["T_WHITESPACE","\n                ",541],["T_VARIABLE","$refParams",542],["T_WHITESPACE"," ",542],"=",["T_WHITESPACE"," ",542],["T_VARIABLE","$reflection",542],["T_OBJECT_OPERATOR","->",542],["T_STRING","getParameters",542],"(",")",";",["T_WHITESPACE","\n            ",542],"}",["T_WHITESPACE","\n\n            ",543],["T_VARIABLE","$orderedParams",545],["T_WHITESPACE"," ",545],"=",["T_WHITESPACE"," ",545],["T_ARRAY","array",545],"(",")",";",["T_WHITESPACE","\n            ",545],["T_FOREACH","foreach",546],"(",["T_WHITESPACE"," ",546],["T_VARIABLE","$reflection",546],["T_OBJECT_OPERATOR","->",546],["T_STRING","getParameters",546],"(",")",["T_WHITESPACE"," ",546],["T_AS","as",546],["T_WHITESPACE"," ",546],["T_VARIABLE","$refParam",546],["T_WHITESPACE"," ",546],")",["T_WHITESPACE"," ",546],"{",["T_WHITESPACE","\n                ",546],["T_IF","if",547],"(",["T_WHITESPACE"," ",547],["T_ISSET","isset",547],"(",["T_WHITESPACE"," ",547],["T_VARIABLE","$params",547],"[",["T_WHITESPACE"," ",547],["T_VARIABLE","$refParam",547],["T_OBJECT_OPERATOR","->",547],["T_STRING","getName",547],"(",")",["T_WHITESPACE"," ",547],"]",["T_WHITESPACE"," ",547],")",["T_WHITESPACE"," ",547],")",["T_WHITESPACE"," ",547],"{",["T_WHITESPACE","\n                    ",547],["T_VARIABLE","$orderedParams",548],"[",["T_WHITESPACE"," ",548],["T_VARIABLE","$refParam",548],["T_OBJECT_OPERATOR","->",548],["T_STRING","getName",548],"(",")",["T_WHITESPACE"," ",548],"]",["T_WHITESPACE"," ",548],"=",["T_WHITESPACE"," ",548],["T_VARIABLE","$params",548],"[",["T_WHITESPACE"," ",548],["T_VARIABLE","$refParam",548],["T_OBJECT_OPERATOR","->",548],["T_STRING","getName",548],"(",")",["T_WHITESPACE"," ",548],"]",";",["T_WHITESPACE","\n                ",548],"}",["T_WHITESPACE"," ",549],["T_ELSEIF","elseif",549],"(",["T_WHITESPACE"," ",549],["T_VARIABLE","$refParam",549],["T_OBJECT_OPERATOR","->",549],["T_STRING","isOptional",549],"(",")",["T_WHITESPACE"," ",549],")",["T_WHITESPACE"," ",549],"{",["T_WHITESPACE","\n                    ",549],["T_VARIABLE","$orderedParams",550],"[",["T_WHITESPACE"," ",550],["T_VARIABLE","$refParam",550],["T_OBJECT_OPERATOR","->",550],["T_STRING","getName",550],"(",")",["T_WHITESPACE"," ",550],"]",["T_WHITESPACE"," ",550],"=",["T_WHITESPACE"," ",550],["T_VARIABLE","$refParam",550],["T_OBJECT_OPERATOR","->",550],["T_STRING","getDefaultValue",550],"(",")",";",["T_WHITESPACE","\n                ",550],"}",["T_WHITESPACE"," ",551],["T_ELSE","else",551],["T_WHITESPACE"," ",551],"{",["T_WHITESPACE","\n                    ",551],["T_THROW","throw",552],["T_WHITESPACE"," ",552],["T_NEW","new",552],["T_WHITESPACE"," ",552],["T_STRING","Zend_Server_Exception",552],"(",["T_WHITESPACE","\n                        ",552],["T_CONSTANT_ENCAPSED_STRING","'Method '",553],["T_WHITESPACE"," ",553],".",["T_WHITESPACE"," ",553],["T_VARIABLE","$request",553],["T_OBJECT_OPERATOR","->",553],["T_STRING","getMethod",553],"(",")",["T_WHITESPACE"," ",553],".",["T_WHITESPACE","  ",553],["T_CONSTANT_ENCAPSED_STRING","' is missing required parameter: '",553],["T_WHITESPACE"," ",553],".",["T_WHITESPACE"," ",553],["T_VARIABLE","$refParam",553],["T_OBJECT_OPERATOR","->",553],["T_STRING","getName",553],"(",")",["T_WHITESPACE","\n                    ",553],")",";",["T_WHITESPACE","\n                ",554],"}",["T_WHITESPACE","\n            ",555],"}",["T_WHITESPACE","\n            ",556],["T_VARIABLE","$params",557],["T_WHITESPACE"," ",557],"=",["T_WHITESPACE"," ",557],["T_VARIABLE","$orderedParams",557],";",["T_WHITESPACE","\n        ",557],"}",["T_WHITESPACE","\n\n        ",558],["T_TRY","try",560],["T_WHITESPACE"," ",560],"{",["T_WHITESPACE","\n            ",560],["T_VARIABLE","$result",561],["T_WHITESPACE"," ",561],"=",["T_WHITESPACE"," ",561],["T_VARIABLE","$this",561],["T_OBJECT_OPERATOR","->",561],["T_STRING","_dispatch",561],"(",["T_VARIABLE","$invocable",561],",",["T_WHITESPACE"," ",561],["T_VARIABLE","$params",561],")",";",["T_WHITESPACE","\n        ",561],"}",["T_WHITESPACE"," ",562],["T_CATCH","catch",562],["T_WHITESPACE"," ",562],"(",["T_STRING","Exception",562],["T_WHITESPACE"," ",562],["T_VARIABLE","$e",562],")",["T_WHITESPACE"," ",562],"{",["T_WHITESPACE","\n            ",562],["T_RETURN","return",563],["T_WHITESPACE"," ",563],["T_VARIABLE","$this",563],["T_OBJECT_OPERATOR","->",563],["T_STRING","fault",563],"(",["T_VARIABLE","$e",563],["T_OBJECT_OPERATOR","->",563],["T_STRING","getMessage",563],"(",")",",",["T_WHITESPACE"," ",563],["T_VARIABLE","$e",563],["T_OBJECT_OPERATOR","->",563],["T_STRING","getCode",563],"(",")",",",["T_WHITESPACE"," ",563],["T_VARIABLE","$e",563],")",";",["T_WHITESPACE","\n        ",563],"}",["T_WHITESPACE","\n\n        ",564],["T_VARIABLE","$this",566],["T_OBJECT_OPERATOR","->",566],["T_STRING","getResponse",566],"(",")",["T_OBJECT_OPERATOR","->",566],["T_STRING","setResult",566],"(",["T_VARIABLE","$result",566],")",";",["T_WHITESPACE","\n    ",566],"}",["T_WHITESPACE","\n",567],"}",["T_WHITESPACE","\n",568]]