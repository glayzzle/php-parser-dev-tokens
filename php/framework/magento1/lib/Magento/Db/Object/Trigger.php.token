[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Magento\n *\n * NOTICE OF LICENSE\n *\n * This source file is subject to the Open Software License (OSL 3.0)\n * that is bundled with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/opensource.org\/licenses\/osl-3.0.php\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@magento.com so we can send you a copy immediately.\n *\n * DISCLAIMER\n *\n * Do not edit or add to this file if you wish to upgrade Magento to newer\n * versions in the future. If you wish to customize Magento for your\n * needs please refer to http:\/\/www.magento.com for more information.\n *\n * @category    Magento\n * @package     Magento_Db\n * @copyright  Copyright (c) 2006-2016 X.commerce, Inc. and affiliates (http:\/\/www.magento.com)\n * @license    http:\/\/opensource.org\/licenses\/osl-3.0.php  Open Software License (OSL 3.0)\n *\/",2],["T_WHITESPACE","\n\n",25],["T_DOC_COMMENT","\/**\n * Magento_Db_Object_Trigger\n *\n * @category    Magento\n * @package     Magento_Db\n * @author      Magento Core Team <core@magentocommerce.com>\n *\/",27],["T_WHITESPACE","\n",33],["T_CLASS","class",34],["T_WHITESPACE"," ",34],["T_STRING","Magento_Db_Object_Trigger",34],["T_WHITESPACE"," ",34],["T_EXTENDS","extends",34],["T_WHITESPACE"," ",34],["T_STRING","Magento_Db_Object",34],["T_WHITESPACE"," ",34],["T_IMPLEMENTS","implements",34],["T_WHITESPACE"," ",34],["T_STRING","Magento_Db_Object_Interface",34],["T_WHITESPACE","\n",34],"{",["T_WHITESPACE","\n    ",35],["T_DOC_COMMENT","\/**\n     * @var string\n     *\/",36],["T_WHITESPACE","\n    ",38],["T_PROTECTED","protected",39],["T_WHITESPACE"," ",39],["T_VARIABLE","$_dbType",39],["T_WHITESPACE","  ",39],"=",["T_WHITESPACE"," ",39],["T_CONSTANT_ENCAPSED_STRING","'TRIGGER'",39],";",["T_WHITESPACE","\n\n    ",39],["T_DOC_COMMENT","\/**\n     * @var array\n     *\/",41],["T_WHITESPACE","\n    ",43],["T_PROTECTED","protected",44],["T_WHITESPACE"," ",44],["T_VARIABLE","$_data",44],["T_WHITESPACE"," ",44],"=",["T_WHITESPACE"," ",44],["T_ARRAY","array",44],"(",")",";",["T_WHITESPACE","\n\n    ",44],["T_DOC_COMMENT","\/**\n     * @return bool\n     *\/",46],["T_WHITESPACE","\n    ",48],["T_PUBLIC","public",49],["T_WHITESPACE"," ",49],["T_FUNCTION","function",49],["T_WHITESPACE"," ",49],["T_STRING","isExists",49],"(",")",["T_WHITESPACE","\n    ",49],"{",["T_WHITESPACE","\n        ",50],["T_IF","if",51],["T_WHITESPACE"," ",51],"(","!",["T_ISSET","isset",51],"(",["T_VARIABLE","$this",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","_data",51],"[",["T_CONSTANT_ENCAPSED_STRING","'triggers'",51],"]","[",["T_VARIABLE","$this",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","_schemaName",51],"]",")",")",["T_WHITESPACE"," ",51],"{",["T_WHITESPACE","\n            ",51],["T_VARIABLE","$this",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","describe",52],"(",")",";",["T_WHITESPACE","\n        ",52],"}",["T_WHITESPACE","\n\n        ",53],["T_IF","if",55],["T_WHITESPACE"," ",55],"(",["T_ISSET","isset",55],"(",["T_VARIABLE","$this",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","_data",55],"[",["T_CONSTANT_ENCAPSED_STRING","'triggers'",55],"]","[",["T_VARIABLE","$this",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","_schemaName",55],"]","[",["T_VARIABLE","$this",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","_objectName",55],"]",")",")",["T_WHITESPACE"," ",55],"{",["T_WHITESPACE","\n            ",55],["T_RETURN","return",56],["T_WHITESPACE"," ",56],["T_STRING","true",56],";",["T_WHITESPACE","\n        ",56],"}",["T_WHITESPACE","\n\n        ",57],["T_RETURN","return",59],["T_WHITESPACE"," ",59],["T_STRING","false",59],";",["T_WHITESPACE","\n    ",59],"}",["T_WHITESPACE","\n\n    ",60],["T_PUBLIC","public",62],["T_WHITESPACE"," ",62],["T_FUNCTION","function",62],["T_WHITESPACE"," ",62],["T_STRING","describe",62],"(",")",["T_WHITESPACE","\n    ",62],"{",["T_WHITESPACE","\n        ",63],["T_VARIABLE","$columns",64],["T_WHITESPACE"," ",64],"=",["T_WHITESPACE"," ",64],["T_ARRAY","array",64],"(",["T_WHITESPACE","\n            ",64],["T_CONSTANT_ENCAPSED_STRING","'TRIGGER_NAME'",65],",",["T_WHITESPACE","\n            ",65],["T_CONSTANT_ENCAPSED_STRING","'EVENT_MANIPULATION'",66],",",["T_WHITESPACE","\n            ",66],["T_CONSTANT_ENCAPSED_STRING","'EVENT_OBJECT_CATALOG'",67],",",["T_WHITESPACE","\n            ",67],["T_CONSTANT_ENCAPSED_STRING","'EVENT_OBJECT_SCHEMA'",68],",",["T_WHITESPACE","\n            ",68],["T_CONSTANT_ENCAPSED_STRING","'EVENT_OBJECT_TABLE'",69],",",["T_WHITESPACE","\n            ",69],["T_CONSTANT_ENCAPSED_STRING","'ACTION_ORDER'",70],",",["T_WHITESPACE","\n            ",70],["T_CONSTANT_ENCAPSED_STRING","'ACTION_CONDITION'",71],",",["T_WHITESPACE","\n            ",71],["T_CONSTANT_ENCAPSED_STRING","'ACTION_STATEMENT'",72],",",["T_WHITESPACE","\n            ",72],["T_CONSTANT_ENCAPSED_STRING","'ACTION_ORIENTATION'",73],",",["T_WHITESPACE","\n            ",73],["T_CONSTANT_ENCAPSED_STRING","'ACTION_TIMING'",74],",",["T_WHITESPACE","\n            ",74],["T_CONSTANT_ENCAPSED_STRING","'ACTION_REFERENCE_OLD_TABLE'",75],",",["T_WHITESPACE","\n            ",75],["T_CONSTANT_ENCAPSED_STRING","'ACTION_REFERENCE_NEW_TABLE'",76],",",["T_WHITESPACE","\n            ",76],["T_CONSTANT_ENCAPSED_STRING","'ACTION_REFERENCE_OLD_ROW'",77],",",["T_WHITESPACE","\n            ",77],["T_CONSTANT_ENCAPSED_STRING","'ACTION_REFERENCE_NEW_ROW'",78],",",["T_WHITESPACE","\n            ",78],["T_CONSTANT_ENCAPSED_STRING","'CREATED'",79],",",["T_WHITESPACE","\n        ",79],")",";",["T_WHITESPACE","\n        ",80],["T_VARIABLE","$sql",81],["T_WHITESPACE"," ",81],"=",["T_WHITESPACE"," ",81],["T_CONSTANT_ENCAPSED_STRING","'SELECT '",81],["T_WHITESPACE"," ",81],".",["T_WHITESPACE"," ",81],["T_STRING","implode",81],"(",["T_CONSTANT_ENCAPSED_STRING","', '",81],",",["T_WHITESPACE"," ",81],["T_VARIABLE","$columns",81],")",["T_WHITESPACE","\n            ",81],".",["T_WHITESPACE"," ",82],["T_CONSTANT_ENCAPSED_STRING","' FROM '",82],["T_WHITESPACE"," ",82],".",["T_WHITESPACE"," ",82],["T_VARIABLE","$this",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","_adapter",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","quoteIdentifier",82],"(",["T_ARRAY","array",82],"(",["T_CONSTANT_ENCAPSED_STRING","'INFORMATION_SCHEMA'",82],",",["T_CONSTANT_ENCAPSED_STRING","'TRIGGERS'",82],")",")",["T_WHITESPACE","\n            ",82],".",["T_WHITESPACE"," ",83],["T_CONSTANT_ENCAPSED_STRING","' WHERE '",83],";",["T_WHITESPACE","\n\n        ",83],["T_VARIABLE","$schema",85],["T_WHITESPACE"," ",85],"=",["T_WHITESPACE"," ",85],["T_VARIABLE","$this",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","getSchemaName",85],"(",")",";",["T_WHITESPACE","\n        ",85],["T_IF","if",86],["T_WHITESPACE"," ",86],"(",["T_VARIABLE","$schema",86],")",["T_WHITESPACE"," ",86],"{",["T_WHITESPACE","\n            ",86],["T_VARIABLE","$sql",87],["T_WHITESPACE"," ",87],["T_CONCAT_EQUAL",".=",87],["T_WHITESPACE"," ",87],["T_VARIABLE","$this",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","_adapter",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","quoteIdentifier",87],"(",["T_CONSTANT_ENCAPSED_STRING","'EVENT_OBJECT_SCHEMA'",87],")",["T_WHITESPACE","\n                ",87],".",["T_WHITESPACE"," ",88],["T_CONSTANT_ENCAPSED_STRING","' = '",88],["T_WHITESPACE"," ",88],".",["T_WHITESPACE"," ",88],["T_VARIABLE","$this",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","_adapter",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","quote",88],"(",["T_VARIABLE","$schema",88],")",";",["T_WHITESPACE","\n        ",88],"}",["T_WHITESPACE"," ",89],["T_ELSE","else",89],["T_WHITESPACE"," ",89],"{",["T_WHITESPACE","\n            ",89],["T_VARIABLE","$sql",90],["T_WHITESPACE"," ",90],["T_CONCAT_EQUAL",".=",90],["T_WHITESPACE"," ",90],["T_VARIABLE","$this",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","_adapter",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","quoteIdentifier",90],"(",["T_CONSTANT_ENCAPSED_STRING","'EVENT_OBJECT_SCHEMA'",90],")",["T_WHITESPACE","\n                ",90],".",["T_WHITESPACE"," ",91],["T_CONSTANT_ENCAPSED_STRING","' != '",91],["T_WHITESPACE"," ",91],".",["T_WHITESPACE"," ",91],["T_VARIABLE","$this",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","_adapter",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","quote",91],"(",["T_CONSTANT_ENCAPSED_STRING","'INFORMATION_SCHEMA'",91],")",";",["T_WHITESPACE","\n        ",91],"}",["T_WHITESPACE","\n\n        ",92],["T_VARIABLE","$results",94],["T_WHITESPACE"," ",94],"=",["T_WHITESPACE"," ",94],["T_VARIABLE","$this",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","_adapter",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","query",94],"(",["T_VARIABLE","$sql",94],")",";",["T_WHITESPACE","\n\n        ",94],["T_VARIABLE","$data",96],["T_WHITESPACE"," ",96],"=",["T_WHITESPACE"," ",96],["T_ARRAY","array",96],"(",")",";",["T_WHITESPACE","\n        ",96],["T_FOREACH","foreach",97],["T_WHITESPACE"," ",97],"(",["T_VARIABLE","$results",97],["T_WHITESPACE"," ",97],["T_AS","as",97],["T_WHITESPACE"," ",97],["T_VARIABLE","$row",97],")",["T_WHITESPACE"," ",97],"{",["T_WHITESPACE","\n            ",97],["T_VARIABLE","$row",98],["T_WHITESPACE"," ",98],"=",["T_WHITESPACE"," ",98],["T_STRING","array_change_key_case",98],"(",["T_VARIABLE","$row",98],",",["T_WHITESPACE"," ",98],["T_STRING","CASE_LOWER",98],")",";",["T_WHITESPACE","\n            ",98],["T_IF","if",99],["T_WHITESPACE"," ",99],"(",["T_STRING","null",99],["T_WHITESPACE"," ",99],["T_IS_NOT_IDENTICAL","!==",99],["T_WHITESPACE"," ",99],["T_VARIABLE","$row",99],"[",["T_CONSTANT_ENCAPSED_STRING","'created'",99],"]",")",["T_WHITESPACE"," ",99],"{",["T_WHITESPACE","\n                ",99],["T_VARIABLE","$row",100],"[",["T_CONSTANT_ENCAPSED_STRING","'created'",100],"]",["T_WHITESPACE"," ",100],"=",["T_WHITESPACE"," ",100],["T_NEW","new",100],["T_WHITESPACE"," ",100],["T_STRING","DateTime",100],"(",["T_VARIABLE","$row",100],"[",["T_CONSTANT_ENCAPSED_STRING","'created'",100],"]",")",";",["T_WHITESPACE","\n            ",100],"}",["T_WHITESPACE","\n            ",101],["T_VARIABLE","$data",102],"[",["T_VARIABLE","$row",102],"[",["T_CONSTANT_ENCAPSED_STRING","'trigger_name'",102],"]","]",["T_WHITESPACE"," ",102],"=",["T_WHITESPACE"," ",102],["T_VARIABLE","$row",102],";",["T_WHITESPACE","\n        ",102],"}",["T_WHITESPACE","\n        ",103],["T_VARIABLE","$this",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","_data",104],"[",["T_CONSTANT_ENCAPSED_STRING","'triggers'",104],"]","[",["T_VARIABLE","$schema",104],"]",["T_WHITESPACE"," ",104],"=",["T_WHITESPACE"," ",104],["T_VARIABLE","$data",104],";",["T_WHITESPACE","\n\n        ",104],["T_RETURN","return",106],["T_WHITESPACE"," ",106],["T_VARIABLE","$data",106],";",["T_WHITESPACE","\n    ",106],"}",["T_WHITESPACE","\n",107],"}",["T_WHITESPACE","\n\n",108]]