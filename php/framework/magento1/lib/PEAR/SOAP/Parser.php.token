[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * This file contains the code for the SOAP message parser.\n *\n * PHP versions 4 and 5\n *\n * LICENSE: This source file is subject to version 2.02 of the PHP license,\n * that is bundled with this package in the file LICENSE, and is available at\n * through the world-wide-web at http:\/\/www.php.net\/license\/2_02.txt.  If you\n * did not receive a copy of the PHP license and are unable to obtain it\n * through the world-wide-web, please send a note to license@php.net so we can\n * mail you a copy immediately.\n *\n * @category   Web Services\n * @package    SOAP\n * @author     Dietrich Ayala <dietrich@ganx4.com> Original Author\n * @author     Shane Caraveo <Shane@Caraveo.com>   Port to PEAR and more\n * @author     Chuck Hagenbuch <chuck@horde.org>   Maintenance\n * @author     Jan Schneider <jan@horde.org>       Maintenance\n * @copyright  2003-2005 The PHP Group\n * @license    http:\/\/www.php.net\/license\/2_02.txt  PHP License 2.02\n * @link       http:\/\/pear.php.net\/package\/SOAP\n *\/",2],["T_WHITESPACE","\n\n",23],["T_REQUIRE_ONCE","require_once",25],["T_WHITESPACE"," ",25],["T_CONSTANT_ENCAPSED_STRING","'SOAP\/Base.php'",25],";",["T_WHITESPACE","\n",25],["T_REQUIRE_ONCE","require_once",26],["T_WHITESPACE"," ",26],["T_CONSTANT_ENCAPSED_STRING","'SOAP\/Value.php'",26],";",["T_WHITESPACE","\n\n",26],["T_DOC_COMMENT","\/**\n * SOAP Parser\n *\n * This class is used by SOAP::Message and SOAP::Server to parse soap\n * packets. Originally based on SOAPx4 by Dietrich Ayala\n * http:\/\/dietrich.ganx4.com\/soapx4\n *\n * @access public\n * @package SOAP\n * @author Shane Caraveo <shane@php.net> Conversion to PEAR and updates\n * @author Dietrich Ayala <dietrich@ganx4.com> Original Author\n *\/",28],["T_WHITESPACE","\n",39],["T_CLASS","class",40],["T_WHITESPACE"," ",40],["T_STRING","SOAP_Parser",40],["T_WHITESPACE"," ",40],["T_EXTENDS","extends",40],["T_WHITESPACE"," ",40],["T_STRING","SOAP_Base",40],["T_WHITESPACE","\n",40],"{",["T_WHITESPACE","\n    ",41],["T_VAR","var",42],["T_WHITESPACE"," ",42],["T_VARIABLE","$status",42],["T_WHITESPACE"," ",42],"=",["T_WHITESPACE"," ",42],["T_CONSTANT_ENCAPSED_STRING","''",42],";",["T_WHITESPACE","\n    ",42],["T_VAR","var",43],["T_WHITESPACE"," ",43],["T_VARIABLE","$position",43],["T_WHITESPACE"," ",43],"=",["T_WHITESPACE"," ",43],["T_LNUMBER","0",43],";",["T_WHITESPACE","\n    ",43],["T_VAR","var",44],["T_WHITESPACE"," ",44],["T_VARIABLE","$depth",44],["T_WHITESPACE"," ",44],"=",["T_WHITESPACE"," ",44],["T_LNUMBER","0",44],";",["T_WHITESPACE","\n    ",44],["T_VAR","var",45],["T_WHITESPACE"," ",45],["T_VARIABLE","$default_namespace",45],["T_WHITESPACE"," ",45],"=",["T_WHITESPACE"," ",45],["T_CONSTANT_ENCAPSED_STRING","''",45],";",["T_WHITESPACE","\n    ",45],["T_VAR","var",46],["T_WHITESPACE"," ",46],["T_VARIABLE","$message",46],["T_WHITESPACE"," ",46],"=",["T_WHITESPACE"," ",46],["T_ARRAY","array",46],"(",")",";",["T_WHITESPACE","\n    ",46],["T_VAR","var",47],["T_WHITESPACE"," ",47],["T_VARIABLE","$depth_array",47],["T_WHITESPACE"," ",47],"=",["T_WHITESPACE"," ",47],["T_ARRAY","array",47],"(",")",";",["T_WHITESPACE","\n    ",47],["T_VAR","var",48],["T_WHITESPACE"," ",48],["T_VARIABLE","$parent",48],["T_WHITESPACE"," ",48],"=",["T_WHITESPACE"," ",48],["T_LNUMBER","0",48],";",["T_WHITESPACE","\n    ",48],["T_VAR","var",49],["T_WHITESPACE"," ",49],["T_VARIABLE","$root_struct_name",49],["T_WHITESPACE"," ",49],"=",["T_WHITESPACE"," ",49],["T_ARRAY","array",49],"(",")",";",["T_WHITESPACE","\n    ",49],["T_VAR","var",50],["T_WHITESPACE"," ",50],["T_VARIABLE","$header_struct_name",50],["T_WHITESPACE"," ",50],"=",["T_WHITESPACE"," ",50],["T_ARRAY","array",50],"(",")",";",["T_WHITESPACE","\n    ",50],["T_VAR","var",51],["T_WHITESPACE"," ",51],["T_VARIABLE","$curent_root_struct_name",51],["T_WHITESPACE"," ",51],"=",["T_WHITESPACE"," ",51],["T_CONSTANT_ENCAPSED_STRING","''",51],";",["T_WHITESPACE","\n    ",51],["T_VAR","var",52],["T_WHITESPACE"," ",52],["T_VARIABLE","$root_struct",52],["T_WHITESPACE"," ",52],"=",["T_WHITESPACE"," ",52],["T_ARRAY","array",52],"(",")",";",["T_WHITESPACE","\n    ",52],["T_VAR","var",53],["T_WHITESPACE"," ",53],["T_VARIABLE","$header_struct",53],["T_WHITESPACE"," ",53],"=",["T_WHITESPACE"," ",53],["T_ARRAY","array",53],"(",")",";",["T_WHITESPACE","\n    ",53],["T_VAR","var",54],["T_WHITESPACE"," ",54],["T_VARIABLE","$curent_root_struct",54],["T_WHITESPACE"," ",54],"=",["T_WHITESPACE"," ",54],["T_LNUMBER","0",54],";",["T_WHITESPACE","\n    ",54],["T_VAR","var",55],["T_WHITESPACE"," ",55],["T_VARIABLE","$references",55],["T_WHITESPACE"," ",55],"=",["T_WHITESPACE"," ",55],["T_ARRAY","array",55],"(",")",";",["T_WHITESPACE","\n    ",55],["T_VAR","var",56],["T_WHITESPACE"," ",56],["T_VARIABLE","$need_references",56],["T_WHITESPACE"," ",56],"=",["T_WHITESPACE"," ",56],["T_ARRAY","array",56],"(",")",";",["T_WHITESPACE","\n\n    ",56],["T_DOC_COMMENT","\/**\n     * Used to handle non-root elements before root body element.\n     *\n     * @var integer\n     *\/",58],["T_WHITESPACE","\n    ",62],["T_VAR","var",63],["T_WHITESPACE"," ",63],["T_VARIABLE","$bodyDepth",63],";",["T_WHITESPACE","\n\n    ",63],["T_DOC_COMMENT","\/**\n     * Constructor.\n     *\n     * @param string $xml         XML content.\n     * @param string $encoding    Character set encoding, defaults to 'UTF-8'.\n     * @param array $attachments  List of attachments.\n     *\/",65],["T_WHITESPACE","\n    ",71],["T_FUNCTION","function",72],["T_WHITESPACE"," ",72],["T_STRING","SOAP_Parser",72],"(",["T_VARIABLE","$xml",72],",",["T_WHITESPACE"," ",72],["T_VARIABLE","$encoding",72],["T_WHITESPACE"," ",72],"=",["T_WHITESPACE"," ",72],["T_STRING","SOAP_DEFAULT_ENCODING",72],",",["T_WHITESPACE","\n                         ",72],["T_VARIABLE","$attachments",73],["T_WHITESPACE"," ",73],"=",["T_WHITESPACE"," ",73],["T_STRING","null",73],")",["T_WHITESPACE","\n    ",73],"{",["T_WHITESPACE","\n        ",74],["T_STRING","parent",75],["T_DOUBLE_COLON","::",75],["T_STRING","SOAP_Base",75],"(",["T_CONSTANT_ENCAPSED_STRING","'Parser'",75],")",";",["T_WHITESPACE","\n        ",75],["T_VARIABLE","$this",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","_setSchemaVersion",76],"(",["T_STRING","SOAP_XML_SCHEMA_VERSION",76],")",";",["T_WHITESPACE","\n\n        ",76],["T_VARIABLE","$this",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","attachments",78],["T_WHITESPACE"," ",78],"=",["T_WHITESPACE"," ",78],["T_VARIABLE","$attachments",78],";",["T_WHITESPACE","\n\n        ",78],["T_COMMENT","\/\/ Check the XML tag for encoding.\n",80],["T_WHITESPACE","        ",81],["T_IF","if",81],["T_WHITESPACE"," ",81],"(",["T_STRING","preg_match",81],"(",["T_CONSTANT_ENCAPSED_STRING","'\/<\\?xml[^>]+encoding\\s*?=\\s*?(\\'([^\\']*)\\'|\"([^\"]*)\")[^>]*?[\\?]>\/'",81],",",["T_WHITESPACE"," ",81],["T_VARIABLE","$xml",81],",",["T_WHITESPACE"," ",81],["T_VARIABLE","$m",81],")",")",["T_WHITESPACE"," ",81],"{",["T_WHITESPACE","\n            ",81],["T_VARIABLE","$encoding",82],["T_WHITESPACE"," ",82],"=",["T_WHITESPACE"," ",82],["T_STRING","strtoupper",82],"(",["T_VARIABLE","$m",82],"[",["T_LNUMBER","2",82],"]",["T_WHITESPACE"," ",82],"?",["T_WHITESPACE"," ",82],["T_VARIABLE","$m",82],"[",["T_LNUMBER","2",82],"]",["T_WHITESPACE"," ",82],":",["T_WHITESPACE"," ",82],["T_VARIABLE","$m",82],"[",["T_LNUMBER","3",82],"]",")",";",["T_WHITESPACE","\n        ",82],"}",["T_WHITESPACE","\n\n        ",83],["T_COMMENT","\/\/ Determine where in the message we are (envelope, header, body,\n",85],["T_WHITESPACE","        ",86],["T_COMMENT","\/\/ method). Check whether content has been read.\n",86],["T_WHITESPACE","        ",87],["T_IF","if",87],["T_WHITESPACE"," ",87],"(","!",["T_EMPTY","empty",87],"(",["T_VARIABLE","$xml",87],")",")",["T_WHITESPACE"," ",87],"{",["T_WHITESPACE","\n            ",87],["T_COMMENT","\/\/ Prepare the XML parser.\n",88],["T_WHITESPACE","            ",89],["T_VARIABLE","$parser",89],["T_WHITESPACE"," ",89],"=",["T_WHITESPACE"," ",89],["T_STRING","xml_parser_create",89],"(",["T_VARIABLE","$encoding",89],")",";",["T_WHITESPACE","\n            ",89],["T_STRING","xml_parser_set_option",90],"(",["T_VARIABLE","$parser",90],",",["T_WHITESPACE"," ",90],["T_STRING","XML_OPTION_CASE_FOLDING",90],",",["T_WHITESPACE"," ",90],["T_LNUMBER","0",90],")",";",["T_WHITESPACE","\n            ",90],["T_STRING","xml_set_object",91],"(",["T_VARIABLE","$parser",91],",",["T_WHITESPACE"," ",91],["T_VARIABLE","$this",91],")",";",["T_WHITESPACE","\n            ",91],["T_STRING","xml_set_element_handler",92],"(",["T_VARIABLE","$parser",92],",",["T_WHITESPACE"," ",92],["T_CONSTANT_ENCAPSED_STRING","'_startElement'",92],",",["T_WHITESPACE"," ",92],["T_CONSTANT_ENCAPSED_STRING","'_endElement'",92],")",";",["T_WHITESPACE","\n            ",92],["T_STRING","xml_set_character_data_handler",93],"(",["T_VARIABLE","$parser",93],",",["T_WHITESPACE"," ",93],["T_CONSTANT_ENCAPSED_STRING","'_characterData'",93],")",";",["T_WHITESPACE","\n\n            ",93],["T_COMMENT","\/\/ Some lame SOAP implementations add nul bytes at the end of the\n",95],["T_WHITESPACE","            ",96],["T_COMMENT","\/\/ SOAP stream, and expat chokes on that.\n",96],["T_WHITESPACE","            ",97],["T_IF","if",97],["T_WHITESPACE"," ",97],"(",["T_VARIABLE","$xml",97],"[",["T_STRING","strlen",97],"(",["T_VARIABLE","$xml",97],")",["T_WHITESPACE"," ",97],"-",["T_WHITESPACE"," ",97],["T_LNUMBER","1",97],"]",["T_WHITESPACE"," ",97],["T_IS_EQUAL","==",97],["T_WHITESPACE"," ",97],["T_LNUMBER","0",97],")",["T_WHITESPACE"," ",97],"{",["T_WHITESPACE","\n                ",97],["T_VARIABLE","$xml",98],["T_WHITESPACE"," ",98],"=",["T_WHITESPACE"," ",98],["T_STRING","trim",98],"(",["T_VARIABLE","$xml",98],")",";",["T_WHITESPACE","\n            ",98],"}",["T_WHITESPACE","\n\n            ",99],["T_COMMENT","\/\/ Parse the XML file.\n",101],["T_WHITESPACE","            ",102],["T_IF","if",102],["T_WHITESPACE"," ",102],"(","!",["T_STRING","xml_parse",102],"(",["T_VARIABLE","$parser",102],",",["T_WHITESPACE"," ",102],["T_VARIABLE","$xml",102],",",["T_WHITESPACE"," ",102],["T_STRING","true",102],")",")",["T_WHITESPACE"," ",102],"{",["T_WHITESPACE","\n                ",102],["T_VARIABLE","$err",103],["T_WHITESPACE"," ",103],"=",["T_WHITESPACE"," ",103],["T_STRING","sprintf",103],"(",["T_CONSTANT_ENCAPSED_STRING","'XML error on line %d col %d byte %d %s'",103],",",["T_WHITESPACE","\n                               ",103],["T_STRING","xml_get_current_line_number",104],"(",["T_VARIABLE","$parser",104],")",",",["T_WHITESPACE","\n                               ",104],["T_STRING","xml_get_current_column_number",105],"(",["T_VARIABLE","$parser",105],")",",",["T_WHITESPACE","\n                               ",105],["T_STRING","xml_get_current_byte_index",106],"(",["T_VARIABLE","$parser",106],")",",",["T_WHITESPACE","\n                               ",106],["T_STRING","xml_error_string",107],"(",["T_STRING","xml_get_error_code",107],"(",["T_VARIABLE","$parser",107],")",")",")",";",["T_WHITESPACE","\n                ",107],["T_VARIABLE","$this",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","_raiseSoapFault",108],"(",["T_VARIABLE","$err",108],",",["T_WHITESPACE"," ",108],["T_STRING","htmlspecialchars",108],"(",["T_VARIABLE","$xml",108],")",")",";",["T_WHITESPACE","\n            ",108],"}",["T_WHITESPACE","\n            ",109],["T_STRING","xml_parser_free",110],"(",["T_VARIABLE","$parser",110],")",";",["T_WHITESPACE","\n        ",110],"}",["T_WHITESPACE","\n    ",111],"}",["T_WHITESPACE","\n\n    ",112],["T_DOC_COMMENT","\/**\n     * Returns an array of responses.\n     *\n     * After parsing a SOAP message, use this to get the response.\n     *\n     * @return array\n     *\/",114],["T_WHITESPACE","\n    ",120],["T_FUNCTION","function",121],["T_WHITESPACE"," ",121],["T_STRING","getResponse",121],"(",")",["T_WHITESPACE","\n    ",121],"{",["T_WHITESPACE","\n        ",122],["T_IF","if",123],["T_WHITESPACE"," ",123],"(","!",["T_EMPTY","empty",123],"(",["T_VARIABLE","$this",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","root_struct",123],"[",["T_LNUMBER","0",123],"]",")",")",["T_WHITESPACE"," ",123],"{",["T_WHITESPACE","\n            ",123],["T_RETURN","return",124],["T_WHITESPACE"," ",124],["T_VARIABLE","$this",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","_buildResponse",124],"(",["T_VARIABLE","$this",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","root_struct",124],"[",["T_LNUMBER","0",124],"]",")",";",["T_WHITESPACE","\n        ",124],"}",["T_WHITESPACE"," ",125],["T_ELSE","else",125],["T_WHITESPACE"," ",125],"{",["T_WHITESPACE","\n            ",125],["T_RETURN","return",126],["T_WHITESPACE"," ",126],["T_VARIABLE","$this",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","_raiseSoapFault",126],"(",["T_CONSTANT_ENCAPSED_STRING","'Cannot build response'",126],")",";",["T_WHITESPACE","\n        ",126],"}",["T_WHITESPACE","\n    ",127],"}",["T_WHITESPACE","\n\n    ",128],["T_DOC_COMMENT","\/**\n     * Returns an array of header responses.\n     *\n     * After parsing a SOAP message, use this to get the response.\n     *\n     * @return array\n     *\/",130],["T_WHITESPACE","\n    ",136],["T_FUNCTION","function",137],["T_WHITESPACE"," ",137],["T_STRING","getHeaders",137],"(",")",["T_WHITESPACE","\n    ",137],"{",["T_WHITESPACE","\n        ",138],["T_IF","if",139],["T_WHITESPACE"," ",139],"(","!",["T_EMPTY","empty",139],"(",["T_VARIABLE","$this",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","header_struct",139],"[",["T_LNUMBER","0",139],"]",")",")",["T_WHITESPACE"," ",139],"{",["T_WHITESPACE","\n            ",139],["T_RETURN","return",140],["T_WHITESPACE"," ",140],["T_VARIABLE","$this",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","_buildResponse",140],"(",["T_VARIABLE","$this",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","header_struct",140],"[",["T_LNUMBER","0",140],"]",")",";",["T_WHITESPACE","\n        ",140],"}",["T_WHITESPACE"," ",141],["T_ELSE","else",141],["T_WHITESPACE"," ",141],"{",["T_WHITESPACE","\n            ",141],["T_COMMENT","\/\/ We don't fault if there are no headers; that can be handled by\n",142],["T_WHITESPACE","            ",143],["T_COMMENT","\/\/ the application if necessary.\n",143],["T_WHITESPACE","            ",144],["T_RETURN","return",144],["T_WHITESPACE"," ",144],["T_STRING","null",144],";",["T_WHITESPACE","\n        ",144],"}",["T_WHITESPACE","\n    ",145],"}",["T_WHITESPACE","\n\n    ",146],["T_DOC_COMMENT","\/**\n     * Recurses to build a multi dimensional array.\n     *\n     * @see _buildResponse()\n     *\/",148],["T_WHITESPACE","\n    ",152],["T_FUNCTION","function",153],["T_WHITESPACE"," ",153],["T_STRING","_domulti",153],"(",["T_VARIABLE","$d",153],",",["T_WHITESPACE"," ",153],"&",["T_VARIABLE","$ar",153],",",["T_WHITESPACE"," ",153],"&",["T_VARIABLE","$r",153],",",["T_WHITESPACE"," ",153],"&",["T_VARIABLE","$v",153],",",["T_WHITESPACE"," ",153],["T_VARIABLE","$ad",153],["T_WHITESPACE"," ",153],"=",["T_WHITESPACE"," ",153],["T_LNUMBER","0",153],")",["T_WHITESPACE","\n    ",153],"{",["T_WHITESPACE","\n        ",154],["T_IF","if",155],["T_WHITESPACE"," ",155],"(",["T_VARIABLE","$d",155],")",["T_WHITESPACE"," ",155],"{",["T_WHITESPACE","\n            ",155],["T_VARIABLE","$this",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","_domulti",156],"(",["T_VARIABLE","$d",156],["T_WHITESPACE"," ",156],"-",["T_WHITESPACE"," ",156],["T_LNUMBER","1",156],",",["T_WHITESPACE"," ",156],["T_VARIABLE","$ar",156],",",["T_WHITESPACE"," ",156],["T_VARIABLE","$r",156],"[",["T_VARIABLE","$ar",156],"[",["T_VARIABLE","$ad",156],"]","]",",",["T_WHITESPACE"," ",156],["T_VARIABLE","$v",156],",",["T_WHITESPACE"," ",156],["T_VARIABLE","$ad",156],["T_WHITESPACE"," ",156],"+",["T_WHITESPACE"," ",156],["T_LNUMBER","1",156],")",";",["T_WHITESPACE","\n        ",156],"}",["T_WHITESPACE"," ",157],["T_ELSE","else",157],["T_WHITESPACE"," ",157],"{",["T_WHITESPACE","\n            ",157],["T_VARIABLE","$r",158],["T_WHITESPACE"," ",158],"=",["T_WHITESPACE"," ",158],["T_VARIABLE","$v",158],";",["T_WHITESPACE","\n        ",158],"}",["T_WHITESPACE","\n    ",159],"}",["T_WHITESPACE","\n\n    ",160],["T_DOC_COMMENT","\/**\n     * Loops through the message, building response structures.\n     *\n     * @param integer $pos  Position.\n     *\n     * @return SOAP_Value\n     *\/",162],["T_WHITESPACE","\n    ",168],["T_FUNCTION","function",169],["T_WHITESPACE"," ",169],["T_STRING","_buildResponse",169],"(",["T_VARIABLE","$pos",169],")",["T_WHITESPACE","\n    ",169],"{",["T_WHITESPACE","\n        ",170],["T_VARIABLE","$response",171],["T_WHITESPACE"," ",171],"=",["T_WHITESPACE"," ",171],["T_STRING","null",171],";",["T_WHITESPACE","\n\n        ",171],["T_IF","if",173],["T_WHITESPACE"," ",173],"(",["T_ISSET","isset",173],"(",["T_VARIABLE","$this",173],["T_OBJECT_OPERATOR","->",173],["T_STRING","message",173],"[",["T_VARIABLE","$pos",173],"]","[",["T_CONSTANT_ENCAPSED_STRING","'children'",173],"]",")",")",["T_WHITESPACE"," ",173],"{",["T_WHITESPACE","\n            ",173],["T_VARIABLE","$children",174],["T_WHITESPACE"," ",174],"=",["T_WHITESPACE"," ",174],["T_STRING","explode",174],"(",["T_CONSTANT_ENCAPSED_STRING","'|'",174],",",["T_WHITESPACE"," ",174],["T_VARIABLE","$this",174],["T_OBJECT_OPERATOR","->",174],["T_STRING","message",174],"[",["T_VARIABLE","$pos",174],"]","[",["T_CONSTANT_ENCAPSED_STRING","'children'",174],"]",")",";",["T_WHITESPACE","\n            ",174],["T_FOREACH","foreach",175],["T_WHITESPACE"," ",175],"(",["T_VARIABLE","$children",175],["T_WHITESPACE"," ",175],["T_AS","as",175],["T_WHITESPACE"," ",175],["T_VARIABLE","$c",175],["T_WHITESPACE"," ",175],["T_DOUBLE_ARROW","=>",175],["T_WHITESPACE"," ",175],["T_VARIABLE","$child_pos",175],")",["T_WHITESPACE"," ",175],"{",["T_WHITESPACE","\n                ",175],["T_IF","if",176],["T_WHITESPACE"," ",176],"(",["T_VARIABLE","$this",176],["T_OBJECT_OPERATOR","->",176],["T_STRING","message",176],"[",["T_VARIABLE","$child_pos",176],"]","[",["T_CONSTANT_ENCAPSED_STRING","'type'",176],"]",["T_WHITESPACE"," ",176],["T_IS_NOT_EQUAL","!=",176],["T_WHITESPACE"," ",176],["T_STRING","null",176],")",["T_WHITESPACE"," ",176],"{",["T_WHITESPACE","\n                    ",176],["T_VARIABLE","$response",177],"[","]",["T_WHITESPACE"," ",177],"=",["T_WHITESPACE"," ",177],["T_VARIABLE","$this",177],["T_OBJECT_OPERATOR","->",177],["T_STRING","_buildResponse",177],"(",["T_VARIABLE","$child_pos",177],")",";",["T_WHITESPACE","\n                ",177],"}",["T_WHITESPACE","\n            ",178],"}",["T_WHITESPACE","\n            ",179],["T_IF","if",180],["T_WHITESPACE"," ",180],"(",["T_ISSET","isset",180],"(",["T_VARIABLE","$this",180],["T_OBJECT_OPERATOR","->",180],["T_STRING","message",180],"[",["T_VARIABLE","$pos",180],"]","[",["T_CONSTANT_ENCAPSED_STRING","'arraySize'",180],"]",")",")",["T_WHITESPACE"," ",180],"{",["T_WHITESPACE","\n                ",180],["T_VARIABLE","$ardepth",181],["T_WHITESPACE"," ",181],"=",["T_WHITESPACE"," ",181],["T_STRING","count",181],"(",["T_VARIABLE","$this",181],["T_OBJECT_OPERATOR","->",181],["T_STRING","message",181],"[",["T_VARIABLE","$pos",181],"]","[",["T_CONSTANT_ENCAPSED_STRING","'arraySize'",181],"]",")",";",["T_WHITESPACE","\n                ",181],["T_IF","if",182],["T_WHITESPACE"," ",182],"(",["T_VARIABLE","$ardepth",182],["T_WHITESPACE"," ",182],">",["T_WHITESPACE"," ",182],["T_LNUMBER","1",182],")",["T_WHITESPACE"," ",182],"{",["T_WHITESPACE","\n                    ",182],["T_VARIABLE","$ar",183],["T_WHITESPACE"," ",183],"=",["T_WHITESPACE"," ",183],["T_STRING","array_pad",183],"(",["T_ARRAY","array",183],"(",")",",",["T_WHITESPACE"," ",183],["T_VARIABLE","$ardepth",183],",",["T_WHITESPACE"," ",183],["T_LNUMBER","0",183],")",";",["T_WHITESPACE","\n                    ",183],["T_IF","if",184],["T_WHITESPACE"," ",184],"(",["T_ISSET","isset",184],"(",["T_VARIABLE","$this",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","message",184],"[",["T_VARIABLE","$pos",184],"]","[",["T_CONSTANT_ENCAPSED_STRING","'arrayOffset'",184],"]",")",")",["T_WHITESPACE"," ",184],"{",["T_WHITESPACE","\n                        ",184],["T_FOR","for",185],["T_WHITESPACE"," ",185],"(",["T_VARIABLE","$i",185],["T_WHITESPACE"," ",185],"=",["T_WHITESPACE"," ",185],["T_LNUMBER","0",185],";",["T_WHITESPACE"," ",185],["T_VARIABLE","$i",185],["T_WHITESPACE"," ",185],"<",["T_WHITESPACE"," ",185],["T_VARIABLE","$ardepth",185],";",["T_WHITESPACE"," ",185],["T_VARIABLE","$i",185],["T_INC","++",185],")",["T_WHITESPACE"," ",185],"{",["T_WHITESPACE","\n                            ",185],["T_VARIABLE","$ar",186],"[",["T_VARIABLE","$i",186],"]",["T_WHITESPACE"," ",186],["T_PLUS_EQUAL","+=",186],["T_WHITESPACE"," ",186],["T_VARIABLE","$this",186],["T_OBJECT_OPERATOR","->",186],["T_STRING","message",186],"[",["T_VARIABLE","$pos",186],"]","[",["T_CONSTANT_ENCAPSED_STRING","'arrayOffset'",186],"]","[",["T_VARIABLE","$i",186],"]",";",["T_WHITESPACE","\n                        ",186],"}",["T_WHITESPACE","\n                    ",187],"}",["T_WHITESPACE","\n                    ",188],["T_VARIABLE","$elc",189],["T_WHITESPACE"," ",189],"=",["T_WHITESPACE"," ",189],["T_STRING","count",189],"(",["T_VARIABLE","$response",189],")",";",["T_WHITESPACE","\n                    ",189],["T_FOR","for",190],["T_WHITESPACE"," ",190],"(",["T_VARIABLE","$i",190],["T_WHITESPACE"," ",190],"=",["T_WHITESPACE"," ",190],["T_LNUMBER","0",190],";",["T_WHITESPACE"," ",190],["T_VARIABLE","$i",190],["T_WHITESPACE"," ",190],"<",["T_WHITESPACE"," ",190],["T_VARIABLE","$elc",190],";",["T_WHITESPACE"," ",190],["T_VARIABLE","$i",190],["T_INC","++",190],")",["T_WHITESPACE"," ",190],"{",["T_WHITESPACE","\n                        ",190],["T_COMMENT","\/\/ Recurse to build a multi dimensional array.\n",191],["T_WHITESPACE","                        ",192],["T_VARIABLE","$this",192],["T_OBJECT_OPERATOR","->",192],["T_STRING","_domulti",192],"(",["T_VARIABLE","$ardepth",192],",",["T_WHITESPACE"," ",192],["T_VARIABLE","$ar",192],",",["T_WHITESPACE"," ",192],["T_VARIABLE","$newresp",192],",",["T_WHITESPACE"," ",192],["T_VARIABLE","$response",192],"[",["T_VARIABLE","$i",192],"]",")",";",["T_WHITESPACE","\n\n                        ",192],["T_COMMENT","\/\/ Increment our array pointers.\n",194],["T_WHITESPACE","                        ",195],["T_VARIABLE","$ad",195],["T_WHITESPACE"," ",195],"=",["T_WHITESPACE"," ",195],["T_VARIABLE","$ardepth",195],["T_WHITESPACE"," ",195],"-",["T_WHITESPACE"," ",195],["T_LNUMBER","1",195],";",["T_WHITESPACE","\n                        ",195],["T_VARIABLE","$ar",196],"[",["T_VARIABLE","$ad",196],"]",["T_INC","++",196],";",["T_WHITESPACE","\n                        ",196],["T_WHILE","while",197],["T_WHITESPACE"," ",197],"(",["T_VARIABLE","$ad",197],["T_WHITESPACE"," ",197],">",["T_WHITESPACE"," ",197],["T_LNUMBER","0",197],["T_WHITESPACE"," ",197],["T_BOOLEAN_AND","&&",197],["T_WHITESPACE","\n                               ",197],["T_VARIABLE","$ar",198],"[",["T_VARIABLE","$ad",198],"]",["T_WHITESPACE"," ",198],["T_IS_GREATER_OR_EQUAL",">=",198],["T_WHITESPACE"," ",198],["T_VARIABLE","$this",198],["T_OBJECT_OPERATOR","->",198],["T_STRING","message",198],"[",["T_VARIABLE","$pos",198],"]","[",["T_CONSTANT_ENCAPSED_STRING","'arraySize'",198],"]","[",["T_VARIABLE","$ad",198],"]",")",["T_WHITESPACE"," ",198],"{",["T_WHITESPACE","\n                            ",198],["T_VARIABLE","$ar",199],"[",["T_VARIABLE","$ad",199],"]",["T_WHITESPACE"," ",199],"=",["T_WHITESPACE"," ",199],["T_LNUMBER","0",199],";",["T_WHITESPACE","\n                            ",199],["T_VARIABLE","$ad",200],["T_DEC","--",200],";",["T_WHITESPACE","\n                            ",200],["T_VARIABLE","$ar",201],"[",["T_VARIABLE","$ad",201],"]",["T_INC","++",201],";",["T_WHITESPACE","\n                        ",201],"}",["T_WHITESPACE","\n                    ",202],"}",["T_WHITESPACE","\n                    ",203],["T_VARIABLE","$response",204],["T_WHITESPACE"," ",204],"=",["T_WHITESPACE"," ",204],["T_VARIABLE","$newresp",204],";",["T_WHITESPACE","\n                ",204],"}",["T_WHITESPACE"," ",205],["T_ELSEIF","elseif",205],["T_WHITESPACE"," ",205],"(",["T_ISSET","isset",205],"(",["T_VARIABLE","$this",205],["T_OBJECT_OPERATOR","->",205],["T_STRING","message",205],"[",["T_VARIABLE","$pos",205],"]","[",["T_CONSTANT_ENCAPSED_STRING","'arrayOffset'",205],"]",")",["T_WHITESPACE"," ",205],["T_BOOLEAN_AND","&&",205],["T_WHITESPACE","\n                          ",205],["T_VARIABLE","$this",206],["T_OBJECT_OPERATOR","->",206],["T_STRING","message",206],"[",["T_VARIABLE","$pos",206],"]","[",["T_CONSTANT_ENCAPSED_STRING","'arrayOffset'",206],"]","[",["T_LNUMBER","0",206],"]",["T_WHITESPACE"," ",206],">",["T_WHITESPACE"," ",206],["T_LNUMBER","0",206],")",["T_WHITESPACE"," ",206],"{",["T_WHITESPACE","\n                    ",206],["T_COMMENT","\/\/ Check for padding.\n",207],["T_WHITESPACE","                    ",208],["T_VARIABLE","$pad",208],["T_WHITESPACE"," ",208],"=",["T_WHITESPACE"," ",208],["T_VARIABLE","$this",208],["T_OBJECT_OPERATOR","->",208],["T_STRING","message",208],"[",["T_VARIABLE","$pos",208],"]","[",["T_CONSTANT_ENCAPSED_STRING","'arrayOffset'",208],"]","[",["T_LNUMBER","0",208],"]",["T_WHITESPACE"," ",208],"+",["T_WHITESPACE"," ",208],["T_STRING","count",208],"(",["T_VARIABLE","$response",208],")",["T_WHITESPACE"," ",208],"*",["T_WHITESPACE"," ",208],"-",["T_LNUMBER","1",208],";",["T_WHITESPACE","\n                    ",208],["T_VARIABLE","$response",209],["T_WHITESPACE"," ",209],"=",["T_WHITESPACE"," ",209],["T_STRING","array_pad",209],"(",["T_VARIABLE","$response",209],",",["T_WHITESPACE"," ",209],["T_VARIABLE","$pad",209],",",["T_WHITESPACE"," ",209],["T_STRING","null",209],")",";",["T_WHITESPACE","\n                ",209],"}",["T_WHITESPACE","\n            ",210],"}",["T_WHITESPACE","\n        ",211],"}",["T_WHITESPACE","\n\n        ",212],["T_COMMENT","\/\/ Build attributes.\n",214],["T_WHITESPACE","        ",215],["T_VARIABLE","$attrs",215],["T_WHITESPACE"," ",215],"=",["T_WHITESPACE"," ",215],["T_ARRAY","array",215],"(",")",";",["T_WHITESPACE","\n        ",215],["T_FOREACH","foreach",216],["T_WHITESPACE"," ",216],"(",["T_VARIABLE","$this",216],["T_OBJECT_OPERATOR","->",216],["T_STRING","message",216],"[",["T_VARIABLE","$pos",216],"]","[",["T_CONSTANT_ENCAPSED_STRING","'attrs'",216],"]",["T_WHITESPACE"," ",216],["T_AS","as",216],["T_WHITESPACE"," ",216],["T_VARIABLE","$atn",216],["T_WHITESPACE"," ",216],["T_DOUBLE_ARROW","=>",216],["T_WHITESPACE"," ",216],["T_VARIABLE","$atv",216],")",["T_WHITESPACE"," ",216],"{",["T_WHITESPACE","\n            ",216],["T_IF","if",217],["T_WHITESPACE"," ",217],"(","!",["T_STRING","strstr",217],"(",["T_VARIABLE","$atn",217],",",["T_WHITESPACE"," ",217],["T_CONSTANT_ENCAPSED_STRING","'xmlns'",217],")",["T_WHITESPACE"," ",217],["T_BOOLEAN_AND","&&",217],["T_WHITESPACE"," ",217],"!",["T_STRING","strpos",217],"(",["T_VARIABLE","$atn",217],",",["T_WHITESPACE"," ",217],["T_CONSTANT_ENCAPSED_STRING","':'",217],")",")",["T_WHITESPACE"," ",217],"{",["T_WHITESPACE","\n                ",217],["T_VARIABLE","$attrs",218],"[",["T_VARIABLE","$atn",218],"]",["T_WHITESPACE"," ",218],"=",["T_WHITESPACE"," ",218],["T_VARIABLE","$atv",218],";",["T_WHITESPACE","\n            ",218],"}",["T_WHITESPACE","\n        ",219],"}",["T_WHITESPACE","\n\n        ",220],["T_COMMENT","\/\/ Add current node's value.\n",222],["T_WHITESPACE","        ",223],["T_VARIABLE","$nqn",223],["T_WHITESPACE"," ",223],"=",["T_WHITESPACE"," ",223],["T_NEW","new",223],["T_WHITESPACE"," ",223],["T_STRING","QName",223],"(",["T_VARIABLE","$this",223],["T_OBJECT_OPERATOR","->",223],["T_STRING","message",223],"[",["T_VARIABLE","$pos",223],"]","[",["T_CONSTANT_ENCAPSED_STRING","'name'",223],"]",",",["T_WHITESPACE","\n                         ",223],["T_VARIABLE","$this",224],["T_OBJECT_OPERATOR","->",224],["T_STRING","message",224],"[",["T_VARIABLE","$pos",224],"]","[",["T_CONSTANT_ENCAPSED_STRING","'namespace'",224],"]",")",";",["T_WHITESPACE","\n        ",224],["T_VARIABLE","$tqn",225],["T_WHITESPACE"," ",225],"=",["T_WHITESPACE"," ",225],["T_NEW","new",225],["T_WHITESPACE"," ",225],["T_STRING","QName",225],"(",["T_VARIABLE","$this",225],["T_OBJECT_OPERATOR","->",225],["T_STRING","message",225],"[",["T_VARIABLE","$pos",225],"]","[",["T_CONSTANT_ENCAPSED_STRING","'type'",225],"]",",",["T_WHITESPACE","\n                         ",225],["T_VARIABLE","$this",226],["T_OBJECT_OPERATOR","->",226],["T_STRING","message",226],"[",["T_VARIABLE","$pos",226],"]","[",["T_CONSTANT_ENCAPSED_STRING","'type_namespace'",226],"]",")",";",["T_WHITESPACE","\n        ",226],["T_IF","if",227],["T_WHITESPACE"," ",227],"(",["T_VARIABLE","$response",227],")",["T_WHITESPACE"," ",227],"{",["T_WHITESPACE","\n            ",227],["T_VARIABLE","$response",228],["T_WHITESPACE"," ",228],"=",["T_WHITESPACE"," ",228],["T_NEW","new",228],["T_WHITESPACE"," ",228],["T_STRING","SOAP_Value",228],"(",["T_VARIABLE","$nqn",228],["T_OBJECT_OPERATOR","->",228],["T_STRING","fqn",228],"(",")",",",["T_WHITESPACE"," ",228],["T_VARIABLE","$tqn",228],["T_OBJECT_OPERATOR","->",228],["T_STRING","fqn",228],"(",")",",",["T_WHITESPACE"," ",228],["T_VARIABLE","$response",228],",",["T_WHITESPACE","\n                                       ",228],["T_VARIABLE","$attrs",229],")",";",["T_WHITESPACE","\n            ",229],["T_IF","if",230],["T_WHITESPACE"," ",230],"(",["T_ISSET","isset",230],"(",["T_VARIABLE","$this",230],["T_OBJECT_OPERATOR","->",230],["T_STRING","message",230],"[",["T_VARIABLE","$pos",230],"]","[",["T_CONSTANT_ENCAPSED_STRING","'arrayType'",230],"]",")",")",["T_WHITESPACE"," ",230],"{",["T_WHITESPACE","\n                ",230],["T_VARIABLE","$response",231],["T_OBJECT_OPERATOR","->",231],["T_STRING","arrayType",231],["T_WHITESPACE"," ",231],"=",["T_WHITESPACE"," ",231],["T_VARIABLE","$this",231],["T_OBJECT_OPERATOR","->",231],["T_STRING","message",231],"[",["T_VARIABLE","$pos",231],"]","[",["T_CONSTANT_ENCAPSED_STRING","'arrayType'",231],"]",";",["T_WHITESPACE","\n            ",231],"}",["T_WHITESPACE","\n        ",232],"}",["T_WHITESPACE"," ",233],["T_ELSE","else",233],["T_WHITESPACE"," ",233],"{",["T_WHITESPACE","\n            ",233],["T_COMMENT","\/\/ Check if value is an empty array\n",234],["T_WHITESPACE","            ",235],["T_IF","if",235],["T_WHITESPACE"," ",235],"(",["T_VARIABLE","$tqn",235],["T_OBJECT_OPERATOR","->",235],["T_STRING","name",235],["T_WHITESPACE"," ",235],["T_IS_EQUAL","==",235],["T_WHITESPACE"," ",235],["T_CONSTANT_ENCAPSED_STRING","'Array'",235],")",["T_WHITESPACE"," ",235],"{",["T_WHITESPACE","\n                ",235],["T_VARIABLE","$response",236],["T_WHITESPACE"," ",236],"=",["T_WHITESPACE"," ",236],["T_NEW","new",236],["T_WHITESPACE"," ",236],["T_STRING","SOAP_Value",236],"(",["T_VARIABLE","$nqn",236],["T_OBJECT_OPERATOR","->",236],["T_STRING","fqn",236],"(",")",",",["T_WHITESPACE"," ",236],["T_VARIABLE","$tqn",236],["T_OBJECT_OPERATOR","->",236],["T_STRING","fqn",236],"(",")",",",["T_WHITESPACE"," ",236],["T_ARRAY","array",236],"(",")",",",["T_WHITESPACE","\n                                           ",236],["T_VARIABLE","$attrs",237],")",";",["T_WHITESPACE","\n                ",237],["T_COMMENT","\/\/if ($pos == 4) var_dump($this->message[$pos], $response);\n",238],["T_WHITESPACE","            ",239],"}",["T_WHITESPACE"," ",239],["T_ELSE","else",239],["T_WHITESPACE"," ",239],"{",["T_WHITESPACE","\n                ",239],["T_VARIABLE","$response",240],["T_WHITESPACE"," ",240],"=",["T_WHITESPACE"," ",240],["T_NEW","new",240],["T_WHITESPACE"," ",240],["T_STRING","SOAP_Value",240],"(",["T_VARIABLE","$nqn",240],["T_OBJECT_OPERATOR","->",240],["T_STRING","fqn",240],"(",")",",",["T_WHITESPACE"," ",240],["T_VARIABLE","$tqn",240],["T_OBJECT_OPERATOR","->",240],["T_STRING","fqn",240],"(",")",",",["T_WHITESPACE","\n                                           ",240],["T_VARIABLE","$this",241],["T_OBJECT_OPERATOR","->",241],["T_STRING","message",241],"[",["T_VARIABLE","$pos",241],"]","[",["T_CONSTANT_ENCAPSED_STRING","'cdata'",241],"]",",",["T_WHITESPACE","\n                                           ",241],["T_VARIABLE","$attrs",242],")",";",["T_WHITESPACE","\n            ",242],"}",["T_WHITESPACE","\n        ",243],"}",["T_WHITESPACE","\n\n        ",244],["T_COMMENT","\/\/ Handle header attribute that we need.\n",246],["T_WHITESPACE","        ",247],["T_IF","if",247],["T_WHITESPACE"," ",247],"(",["T_STRING","array_key_exists",247],"(",["T_CONSTANT_ENCAPSED_STRING","'actor'",247],",",["T_WHITESPACE"," ",247],["T_VARIABLE","$this",247],["T_OBJECT_OPERATOR","->",247],["T_STRING","message",247],"[",["T_VARIABLE","$pos",247],"]",")",")",["T_WHITESPACE"," ",247],"{",["T_WHITESPACE","\n            ",247],["T_VARIABLE","$response",248],["T_OBJECT_OPERATOR","->",248],["T_STRING","actor",248],["T_WHITESPACE"," ",248],"=",["T_WHITESPACE"," ",248],["T_VARIABLE","$this",248],["T_OBJECT_OPERATOR","->",248],["T_STRING","message",248],"[",["T_VARIABLE","$pos",248],"]","[",["T_CONSTANT_ENCAPSED_STRING","'actor'",248],"]",";",["T_WHITESPACE","\n        ",248],"}",["T_WHITESPACE","\n        ",249],["T_IF","if",250],["T_WHITESPACE"," ",250],"(",["T_STRING","array_key_exists",250],"(",["T_CONSTANT_ENCAPSED_STRING","'mustUnderstand'",250],",",["T_WHITESPACE"," ",250],["T_VARIABLE","$this",250],["T_OBJECT_OPERATOR","->",250],["T_STRING","message",250],"[",["T_VARIABLE","$pos",250],"]",")",")",["T_WHITESPACE"," ",250],"{",["T_WHITESPACE","\n            ",250],["T_VARIABLE","$response",251],["T_OBJECT_OPERATOR","->",251],["T_STRING","mustunderstand",251],["T_WHITESPACE"," ",251],"=",["T_WHITESPACE"," ",251],["T_VARIABLE","$this",251],["T_OBJECT_OPERATOR","->",251],["T_STRING","message",251],"[",["T_VARIABLE","$pos",251],"]","[",["T_CONSTANT_ENCAPSED_STRING","'mustUnderstand'",251],"]",";",["T_WHITESPACE","\n        ",251],"}",["T_WHITESPACE","\n\n        ",252],["T_RETURN","return",254],["T_WHITESPACE"," ",254],["T_VARIABLE","$response",254],";",["T_WHITESPACE","\n    ",254],"}",["T_WHITESPACE","\n\n    ",255],["T_DOC_COMMENT","\/**\n     * Start element handler used with the XML parser.\n     *\/",257],["T_WHITESPACE","\n    ",259],["T_FUNCTION","function",260],["T_WHITESPACE"," ",260],["T_STRING","_startElement",260],"(",["T_VARIABLE","$parser",260],",",["T_WHITESPACE"," ",260],["T_VARIABLE","$name",260],",",["T_WHITESPACE"," ",260],["T_VARIABLE","$attrs",260],")",["T_WHITESPACE","\n    ",260],"{",["T_WHITESPACE","\n        ",261],["T_COMMENT","\/\/ Position in a total number of elements, starting from 0.\n",262],["T_WHITESPACE","        ",263],["T_COMMENT","\/\/ Update class level position.\n",263],["T_WHITESPACE","        ",264],["T_VARIABLE","$pos",264],["T_WHITESPACE"," ",264],"=",["T_WHITESPACE"," ",264],["T_VARIABLE","$this",264],["T_OBJECT_OPERATOR","->",264],["T_STRING","position",264],["T_INC","++",264],";",["T_WHITESPACE","\n\n        ",264],["T_COMMENT","\/\/ And set mine.\n",266],["T_WHITESPACE","        ",267],["T_VARIABLE","$this",267],["T_OBJECT_OPERATOR","->",267],["T_STRING","message",267],"[",["T_VARIABLE","$pos",267],"]",["T_WHITESPACE"," ",267],"=",["T_WHITESPACE"," ",267],["T_ARRAY","array",267],"(",["T_WHITESPACE","\n            ",267],["T_CONSTANT_ENCAPSED_STRING","'type'",268],["T_WHITESPACE"," ",268],["T_DOUBLE_ARROW","=>",268],["T_WHITESPACE"," ",268],["T_CONSTANT_ENCAPSED_STRING","''",268],",",["T_WHITESPACE","\n            ",268],["T_CONSTANT_ENCAPSED_STRING","'type_namespace'",269],["T_WHITESPACE"," ",269],["T_DOUBLE_ARROW","=>",269],["T_WHITESPACE"," ",269],["T_CONSTANT_ENCAPSED_STRING","''",269],",",["T_WHITESPACE","\n            ",269],["T_CONSTANT_ENCAPSED_STRING","'cdata'",270],["T_WHITESPACE"," ",270],["T_DOUBLE_ARROW","=>",270],["T_WHITESPACE"," ",270],["T_CONSTANT_ENCAPSED_STRING","''",270],",",["T_WHITESPACE","\n            ",270],["T_CONSTANT_ENCAPSED_STRING","'pos'",271],["T_WHITESPACE"," ",271],["T_DOUBLE_ARROW","=>",271],["T_WHITESPACE"," ",271],["T_VARIABLE","$pos",271],",",["T_WHITESPACE","\n            ",271],["T_CONSTANT_ENCAPSED_STRING","'id'",272],["T_WHITESPACE"," ",272],["T_DOUBLE_ARROW","=>",272],["T_WHITESPACE"," ",272],["T_CONSTANT_ENCAPSED_STRING","''",272],")",";",["T_WHITESPACE","\n\n        ",272],["T_COMMENT","\/\/ Parent\/child\/depth determinations.\n",274],["T_WHITESPACE","\n        ",275],["T_COMMENT","\/\/ depth = How many levels removed from root?\n",276],["T_WHITESPACE","        ",277],["T_COMMENT","\/\/ Set mine as current global depth and increment global depth value.\n",277],["T_WHITESPACE","        ",278],["T_VARIABLE","$this",278],["T_OBJECT_OPERATOR","->",278],["T_STRING","message",278],"[",["T_VARIABLE","$pos",278],"]","[",["T_CONSTANT_ENCAPSED_STRING","'depth'",278],"]",["T_WHITESPACE"," ",278],"=",["T_WHITESPACE"," ",278],["T_VARIABLE","$this",278],["T_OBJECT_OPERATOR","->",278],["T_STRING","depth",278],["T_INC","++",278],";",["T_WHITESPACE","\n\n        ",278],["T_COMMENT","\/\/ Else add self as child to whoever the current parent is.\n",280],["T_WHITESPACE","        ",281],["T_IF","if",281],["T_WHITESPACE"," ",281],"(",["T_VARIABLE","$pos",281],["T_WHITESPACE"," ",281],["T_IS_NOT_EQUAL","!=",281],["T_WHITESPACE"," ",281],["T_LNUMBER","0",281],")",["T_WHITESPACE"," ",281],"{",["T_WHITESPACE","\n            ",281],["T_IF","if",282],["T_WHITESPACE"," ",282],"(",["T_ISSET","isset",282],"(",["T_VARIABLE","$this",282],["T_OBJECT_OPERATOR","->",282],["T_STRING","message",282],"[",["T_VARIABLE","$this",282],["T_OBJECT_OPERATOR","->",282],["T_STRING","parent",282],"]","[",["T_CONSTANT_ENCAPSED_STRING","'children'",282],"]",")",")",["T_WHITESPACE"," ",282],"{",["T_WHITESPACE","\n                ",282],["T_VARIABLE","$this",283],["T_OBJECT_OPERATOR","->",283],["T_STRING","message",283],"[",["T_VARIABLE","$this",283],["T_OBJECT_OPERATOR","->",283],["T_STRING","parent",283],"]","[",["T_CONSTANT_ENCAPSED_STRING","'children'",283],"]",["T_WHITESPACE"," ",283],["T_CONCAT_EQUAL",".=",283],["T_WHITESPACE"," ",283],["T_CONSTANT_ENCAPSED_STRING","'|'",283],["T_WHITESPACE"," ",283],".",["T_WHITESPACE"," ",283],["T_VARIABLE","$pos",283],";",["T_WHITESPACE","\n            ",283],"}",["T_WHITESPACE"," ",284],["T_ELSE","else",284],["T_WHITESPACE"," ",284],"{",["T_WHITESPACE","\n                ",284],["T_VARIABLE","$this",285],["T_OBJECT_OPERATOR","->",285],["T_STRING","message",285],"[",["T_VARIABLE","$this",285],["T_OBJECT_OPERATOR","->",285],["T_STRING","parent",285],"]","[",["T_CONSTANT_ENCAPSED_STRING","'children'",285],"]",["T_WHITESPACE"," ",285],"=",["T_WHITESPACE"," ",285],["T_VARIABLE","$pos",285],";",["T_WHITESPACE","\n            ",285],"}",["T_WHITESPACE","\n        ",286],"}",["T_WHITESPACE","\n\n        ",287],["T_COMMENT","\/\/ Set my parent.\n",289],["T_WHITESPACE","        ",290],["T_VARIABLE","$this",290],["T_OBJECT_OPERATOR","->",290],["T_STRING","message",290],"[",["T_VARIABLE","$pos",290],"]","[",["T_CONSTANT_ENCAPSED_STRING","'parent'",290],"]",["T_WHITESPACE"," ",290],"=",["T_WHITESPACE"," ",290],["T_VARIABLE","$this",290],["T_OBJECT_OPERATOR","->",290],["T_STRING","parent",290],";",["T_WHITESPACE","\n\n        ",290],["T_COMMENT","\/\/ Set self as current value for this depth.\n",292],["T_WHITESPACE","        ",293],["T_VARIABLE","$this",293],["T_OBJECT_OPERATOR","->",293],["T_STRING","depth_array",293],"[",["T_VARIABLE","$this",293],["T_OBJECT_OPERATOR","->",293],["T_STRING","depth",293],"]",["T_WHITESPACE"," ",293],"=",["T_WHITESPACE"," ",293],["T_VARIABLE","$pos",293],";",["T_WHITESPACE","\n        ",293],["T_COMMENT","\/\/ Set self as current parent.\n",294],["T_WHITESPACE","        ",295],["T_VARIABLE","$this",295],["T_OBJECT_OPERATOR","->",295],["T_STRING","parent",295],["T_WHITESPACE"," ",295],"=",["T_WHITESPACE"," ",295],["T_VARIABLE","$pos",295],";",["T_WHITESPACE","\n        ",295],["T_VARIABLE","$qname",296],["T_WHITESPACE"," ",296],"=",["T_WHITESPACE"," ",296],["T_NEW","new",296],["T_WHITESPACE"," ",296],["T_STRING","QName",296],"(",["T_VARIABLE","$name",296],")",";",["T_WHITESPACE","\n        ",296],["T_COMMENT","\/\/ Set status.\n",297],["T_WHITESPACE","        ",298],["T_IF","if",298],["T_WHITESPACE"," ",298],"(",["T_STRING","strcasecmp",298],"(",["T_CONSTANT_ENCAPSED_STRING","'envelope'",298],",",["T_WHITESPACE"," ",298],["T_VARIABLE","$qname",298],["T_OBJECT_OPERATOR","->",298],["T_STRING","name",298],")",["T_WHITESPACE"," ",298],["T_IS_EQUAL","==",298],["T_WHITESPACE"," ",298],["T_LNUMBER","0",298],")",["T_WHITESPACE"," ",298],"{",["T_WHITESPACE","\n            ",298],["T_VARIABLE","$this",299],["T_OBJECT_OPERATOR","->",299],["T_STRING","status",299],["T_WHITESPACE"," ",299],"=",["T_WHITESPACE"," ",299],["T_CONSTANT_ENCAPSED_STRING","'envelope'",299],";",["T_WHITESPACE","\n        ",299],"}",["T_WHITESPACE"," ",300],["T_ELSEIF","elseif",300],["T_WHITESPACE"," ",300],"(",["T_STRING","strcasecmp",300],"(",["T_CONSTANT_ENCAPSED_STRING","'header'",300],",",["T_WHITESPACE"," ",300],["T_VARIABLE","$qname",300],["T_OBJECT_OPERATOR","->",300],["T_STRING","name",300],")",["T_WHITESPACE"," ",300],["T_IS_EQUAL","==",300],["T_WHITESPACE"," ",300],["T_LNUMBER","0",300],")",["T_WHITESPACE"," ",300],"{",["T_WHITESPACE","\n            ",300],["T_VARIABLE","$this",301],["T_OBJECT_OPERATOR","->",301],["T_STRING","status",301],["T_WHITESPACE"," ",301],"=",["T_WHITESPACE"," ",301],["T_CONSTANT_ENCAPSED_STRING","'header'",301],";",["T_WHITESPACE","\n            ",301],["T_VARIABLE","$this",302],["T_OBJECT_OPERATOR","->",302],["T_STRING","header_struct_name",302],"[","]",["T_WHITESPACE"," ",302],"=",["T_WHITESPACE"," ",302],["T_VARIABLE","$this",302],["T_OBJECT_OPERATOR","->",302],["T_STRING","curent_root_struct_name",302],["T_WHITESPACE"," ",302],"=",["T_WHITESPACE"," ",302],["T_VARIABLE","$qname",302],["T_OBJECT_OPERATOR","->",302],["T_STRING","name",302],";",["T_WHITESPACE","\n            ",302],["T_VARIABLE","$this",303],["T_OBJECT_OPERATOR","->",303],["T_STRING","header_struct",303],"[","]",["T_WHITESPACE"," ",303],"=",["T_WHITESPACE"," ",303],["T_VARIABLE","$this",303],["T_OBJECT_OPERATOR","->",303],["T_STRING","curent_root_struct",303],["T_WHITESPACE"," ",303],"=",["T_WHITESPACE"," ",303],["T_VARIABLE","$pos",303],";",["T_WHITESPACE","\n            ",303],["T_VARIABLE","$this",304],["T_OBJECT_OPERATOR","->",304],["T_STRING","message",304],"[",["T_VARIABLE","$pos",304],"]","[",["T_CONSTANT_ENCAPSED_STRING","'type'",304],"]",["T_WHITESPACE"," ",304],"=",["T_WHITESPACE"," ",304],["T_CONSTANT_ENCAPSED_STRING","'Struct'",304],";",["T_WHITESPACE","\n        ",304],"}",["T_WHITESPACE"," ",305],["T_ELSEIF","elseif",305],["T_WHITESPACE"," ",305],"(",["T_STRING","strcasecmp",305],"(",["T_CONSTANT_ENCAPSED_STRING","'body'",305],",",["T_WHITESPACE"," ",305],["T_VARIABLE","$qname",305],["T_OBJECT_OPERATOR","->",305],["T_STRING","name",305],")",["T_WHITESPACE"," ",305],["T_IS_EQUAL","==",305],["T_WHITESPACE"," ",305],["T_LNUMBER","0",305],")",["T_WHITESPACE"," ",305],"{",["T_WHITESPACE","\n            ",305],["T_VARIABLE","$this",306],["T_OBJECT_OPERATOR","->",306],["T_STRING","status",306],["T_WHITESPACE"," ",306],"=",["T_WHITESPACE"," ",306],["T_CONSTANT_ENCAPSED_STRING","'body'",306],";",["T_WHITESPACE","\n            ",306],["T_VARIABLE","$this",307],["T_OBJECT_OPERATOR","->",307],["T_STRING","bodyDepth",307],["T_WHITESPACE"," ",307],"=",["T_WHITESPACE"," ",307],["T_VARIABLE","$this",307],["T_OBJECT_OPERATOR","->",307],["T_STRING","depth",307],";",["T_WHITESPACE","\n\n        ",307],["T_COMMENT","\/\/ Set method\n",309],["T_WHITESPACE","        ",310],"}",["T_WHITESPACE"," ",310],["T_ELSEIF","elseif",310],["T_WHITESPACE"," ",310],"(",["T_VARIABLE","$this",310],["T_OBJECT_OPERATOR","->",310],["T_STRING","status",310],["T_WHITESPACE"," ",310],["T_IS_EQUAL","==",310],["T_WHITESPACE"," ",310],["T_CONSTANT_ENCAPSED_STRING","'body'",310],")",["T_WHITESPACE"," ",310],"{",["T_WHITESPACE","\n            ",310],["T_COMMENT","\/\/ Is this element allowed to be a root?\n",311],["T_WHITESPACE","            ",312],["T_COMMENT","\/\/ TODO: this needs to be optimized, we loop through $attrs twice\n",312],["T_WHITESPACE","            ",313],["T_COMMENT","\/\/ now.\n",313],["T_WHITESPACE","            ",314],["T_VARIABLE","$can_root",314],["T_WHITESPACE"," ",314],"=",["T_WHITESPACE"," ",314],["T_VARIABLE","$this",314],["T_OBJECT_OPERATOR","->",314],["T_STRING","depth",314],["T_WHITESPACE"," ",314],["T_IS_EQUAL","==",314],["T_WHITESPACE"," ",314],["T_VARIABLE","$this",314],["T_OBJECT_OPERATOR","->",314],["T_STRING","bodyDepth",314],["T_WHITESPACE"," ",314],"+",["T_WHITESPACE"," ",314],["T_LNUMBER","1",314],";",["T_WHITESPACE","\n            ",314],["T_IF","if",315],["T_WHITESPACE"," ",315],"(",["T_VARIABLE","$can_root",315],")",["T_WHITESPACE"," ",315],"{",["T_WHITESPACE","\n                ",315],["T_FOREACH","foreach",316],["T_WHITESPACE"," ",316],"(",["T_VARIABLE","$attrs",316],["T_WHITESPACE"," ",316],["T_AS","as",316],["T_WHITESPACE"," ",316],["T_VARIABLE","$key",316],["T_WHITESPACE"," ",316],["T_DOUBLE_ARROW","=>",316],["T_WHITESPACE"," ",316],["T_VARIABLE","$value",316],")",["T_WHITESPACE"," ",316],"{",["T_WHITESPACE","\n                    ",316],["T_IF","if",317],["T_WHITESPACE"," ",317],"(",["T_STRING","stristr",317],"(",["T_VARIABLE","$key",317],",",["T_WHITESPACE"," ",317],["T_CONSTANT_ENCAPSED_STRING","':root'",317],")",["T_WHITESPACE"," ",317],["T_BOOLEAN_AND","&&",317],["T_WHITESPACE"," ",317],"!",["T_VARIABLE","$value",317],")",["T_WHITESPACE"," ",317],"{",["T_WHITESPACE","\n                        ",317],["T_VARIABLE","$can_root",318],["T_WHITESPACE"," ",318],"=",["T_WHITESPACE"," ",318],["T_STRING","false",318],";",["T_WHITESPACE","\n                    ",318],"}",["T_WHITESPACE","\n                ",319],"}",["T_WHITESPACE","\n            ",320],"}",["T_WHITESPACE","\n\n            ",321],["T_IF","if",323],["T_WHITESPACE"," ",323],"(",["T_VARIABLE","$can_root",323],")",["T_WHITESPACE"," ",323],"{",["T_WHITESPACE","\n                ",323],["T_VARIABLE","$this",324],["T_OBJECT_OPERATOR","->",324],["T_STRING","status",324],["T_WHITESPACE"," ",324],"=",["T_WHITESPACE"," ",324],["T_CONSTANT_ENCAPSED_STRING","'method'",324],";",["T_WHITESPACE","\n                ",324],["T_VARIABLE","$this",325],["T_OBJECT_OPERATOR","->",325],["T_STRING","root_struct_name",325],"[","]",["T_WHITESPACE"," ",325],"=",["T_WHITESPACE"," ",325],["T_VARIABLE","$this",325],["T_OBJECT_OPERATOR","->",325],["T_STRING","curent_root_struct_name",325],["T_WHITESPACE"," ",325],"=",["T_WHITESPACE"," ",325],["T_VARIABLE","$qname",325],["T_OBJECT_OPERATOR","->",325],["T_STRING","name",325],";",["T_WHITESPACE","\n                ",325],["T_VARIABLE","$this",326],["T_OBJECT_OPERATOR","->",326],["T_STRING","root_struct",326],"[","]",["T_WHITESPACE"," ",326],"=",["T_WHITESPACE"," ",326],["T_VARIABLE","$this",326],["T_OBJECT_OPERATOR","->",326],["T_STRING","curent_root_struct",326],["T_WHITESPACE"," ",326],"=",["T_WHITESPACE"," ",326],["T_VARIABLE","$pos",326],";",["T_WHITESPACE","\n                ",326],["T_VARIABLE","$this",327],["T_OBJECT_OPERATOR","->",327],["T_STRING","message",327],"[",["T_VARIABLE","$pos",327],"]","[",["T_CONSTANT_ENCAPSED_STRING","'type'",327],"]",["T_WHITESPACE"," ",327],"=",["T_WHITESPACE"," ",327],["T_CONSTANT_ENCAPSED_STRING","'Struct'",327],";",["T_WHITESPACE","\n            ",327],"}",["T_WHITESPACE","\n        ",328],"}",["T_WHITESPACE","\n\n        ",329],["T_COMMENT","\/\/ Set my status.\n",331],["T_WHITESPACE","        ",332],["T_VARIABLE","$this",332],["T_OBJECT_OPERATOR","->",332],["T_STRING","message",332],"[",["T_VARIABLE","$pos",332],"]","[",["T_CONSTANT_ENCAPSED_STRING","'status'",332],"]",["T_WHITESPACE"," ",332],"=",["T_WHITESPACE"," ",332],["T_VARIABLE","$this",332],["T_OBJECT_OPERATOR","->",332],["T_STRING","status",332],";",["T_WHITESPACE","\n\n        ",332],["T_COMMENT","\/\/ Set name.\n",334],["T_WHITESPACE","        ",335],["T_VARIABLE","$this",335],["T_OBJECT_OPERATOR","->",335],["T_STRING","message",335],"[",["T_VARIABLE","$pos",335],"]","[",["T_CONSTANT_ENCAPSED_STRING","'name'",335],"]",["T_WHITESPACE"," ",335],"=",["T_WHITESPACE"," ",335],["T_STRING","htmlspecialchars",335],"(",["T_VARIABLE","$qname",335],["T_OBJECT_OPERATOR","->",335],["T_STRING","name",335],")",";",["T_WHITESPACE","\n\n        ",335],["T_COMMENT","\/\/ Set attributes.\n",337],["T_WHITESPACE","        ",338],["T_VARIABLE","$this",338],["T_OBJECT_OPERATOR","->",338],["T_STRING","message",338],"[",["T_VARIABLE","$pos",338],"]","[",["T_CONSTANT_ENCAPSED_STRING","'attrs'",338],"]",["T_WHITESPACE"," ",338],"=",["T_WHITESPACE"," ",338],["T_VARIABLE","$attrs",338],";",["T_WHITESPACE","\n\n        ",338],["T_COMMENT","\/\/ Loop through attributes, logging ns and type declarations.\n",340],["T_WHITESPACE","        ",341],["T_FOREACH","foreach",341],["T_WHITESPACE"," ",341],"(",["T_VARIABLE","$attrs",341],["T_WHITESPACE"," ",341],["T_AS","as",341],["T_WHITESPACE"," ",341],["T_VARIABLE","$key",341],["T_WHITESPACE"," ",341],["T_DOUBLE_ARROW","=>",341],["T_WHITESPACE"," ",341],["T_VARIABLE","$value",341],")",["T_WHITESPACE"," ",341],"{",["T_WHITESPACE","\n            ",341],["T_COMMENT","\/\/ If ns declarations, add to class level array of valid\n",342],["T_WHITESPACE","            ",343],["T_COMMENT","\/\/ namespaces.\n",343],["T_WHITESPACE","            ",344],["T_VARIABLE","$kqn",344],["T_WHITESPACE"," ",344],"=",["T_WHITESPACE"," ",344],["T_NEW","new",344],["T_WHITESPACE"," ",344],["T_STRING","QName",344],"(",["T_VARIABLE","$key",344],")",";",["T_WHITESPACE","\n            ",344],["T_IF","if",345],["T_WHITESPACE"," ",345],"(",["T_VARIABLE","$kqn",345],["T_OBJECT_OPERATOR","->",345],["T_STRING","ns",345],["T_WHITESPACE"," ",345],["T_IS_EQUAL","==",345],["T_WHITESPACE"," ",345],["T_CONSTANT_ENCAPSED_STRING","'xmlns'",345],")",["T_WHITESPACE"," ",345],"{",["T_WHITESPACE","\n                ",345],["T_VARIABLE","$prefix",346],["T_WHITESPACE"," ",346],"=",["T_WHITESPACE"," ",346],["T_VARIABLE","$kqn",346],["T_OBJECT_OPERATOR","->",346],["T_STRING","name",346],";",["T_WHITESPACE","\n\n                ",346],["T_IF","if",348],["T_WHITESPACE"," ",348],"(",["T_STRING","in_array",348],"(",["T_VARIABLE","$value",348],",",["T_WHITESPACE"," ",348],["T_VARIABLE","$this",348],["T_OBJECT_OPERATOR","->",348],["T_STRING","_XMLSchema",348],")",")",["T_WHITESPACE"," ",348],"{",["T_WHITESPACE","\n                    ",348],["T_VARIABLE","$this",349],["T_OBJECT_OPERATOR","->",349],["T_STRING","_setSchemaVersion",349],"(",["T_VARIABLE","$value",349],")",";",["T_WHITESPACE","\n                ",349],"}",["T_WHITESPACE","\n\n                ",350],["T_VARIABLE","$this",352],["T_OBJECT_OPERATOR","->",352],["T_STRING","_namespaces",352],"[",["T_VARIABLE","$value",352],"]",["T_WHITESPACE"," ",352],"=",["T_WHITESPACE"," ",352],["T_VARIABLE","$prefix",352],";",["T_WHITESPACE","\n\n            ",352],["T_COMMENT","\/\/ Set method namespace.\n",354],["T_WHITESPACE","            ",355],"}",["T_WHITESPACE"," ",355],["T_ELSEIF","elseif",355],["T_WHITESPACE"," ",355],"(",["T_VARIABLE","$key",355],["T_WHITESPACE"," ",355],["T_IS_EQUAL","==",355],["T_WHITESPACE"," ",355],["T_CONSTANT_ENCAPSED_STRING","'xmlns'",355],")",["T_WHITESPACE"," ",355],"{",["T_WHITESPACE","\n                ",355],["T_VARIABLE","$qname",356],["T_OBJECT_OPERATOR","->",356],["T_STRING","ns",356],["T_WHITESPACE"," ",356],"=",["T_WHITESPACE"," ",356],["T_VARIABLE","$this",356],["T_OBJECT_OPERATOR","->",356],["T_STRING","_getNamespacePrefix",356],"(",["T_VARIABLE","$value",356],")",";",["T_WHITESPACE","\n                ",356],["T_VARIABLE","$qname",357],["T_OBJECT_OPERATOR","->",357],["T_STRING","namespace",357],["T_WHITESPACE"," ",357],"=",["T_WHITESPACE"," ",357],["T_VARIABLE","$value",357],";",["T_WHITESPACE","\n            ",357],"}",["T_WHITESPACE"," ",358],["T_ELSEIF","elseif",358],["T_WHITESPACE"," ",358],"(",["T_VARIABLE","$kqn",358],["T_OBJECT_OPERATOR","->",358],["T_STRING","name",358],["T_WHITESPACE"," ",358],["T_IS_EQUAL","==",358],["T_WHITESPACE"," ",358],["T_CONSTANT_ENCAPSED_STRING","'actor'",358],")",["T_WHITESPACE"," ",358],"{",["T_WHITESPACE","\n                ",358],["T_VARIABLE","$this",359],["T_OBJECT_OPERATOR","->",359],["T_STRING","message",359],"[",["T_VARIABLE","$pos",359],"]","[",["T_CONSTANT_ENCAPSED_STRING","'actor'",359],"]",["T_WHITESPACE"," ",359],"=",["T_WHITESPACE"," ",359],["T_VARIABLE","$value",359],";",["T_WHITESPACE","\n            ",359],"}",["T_WHITESPACE"," ",360],["T_ELSEIF","elseif",360],["T_WHITESPACE"," ",360],"(",["T_VARIABLE","$kqn",360],["T_OBJECT_OPERATOR","->",360],["T_STRING","name",360],["T_WHITESPACE"," ",360],["T_IS_EQUAL","==",360],["T_WHITESPACE"," ",360],["T_CONSTANT_ENCAPSED_STRING","'mustUnderstand'",360],")",["T_WHITESPACE"," ",360],"{",["T_WHITESPACE","\n                ",360],["T_VARIABLE","$this",361],["T_OBJECT_OPERATOR","->",361],["T_STRING","message",361],"[",["T_VARIABLE","$pos",361],"]","[",["T_CONSTANT_ENCAPSED_STRING","'mustUnderstand'",361],"]",["T_WHITESPACE"," ",361],"=",["T_WHITESPACE"," ",361],["T_VARIABLE","$value",361],";",["T_WHITESPACE","\n\n            ",361],["T_COMMENT","\/\/ If it's a type declaration, set type.\n",363],["T_WHITESPACE","            ",364],"}",["T_WHITESPACE"," ",364],["T_ELSEIF","elseif",364],["T_WHITESPACE"," ",364],"(",["T_VARIABLE","$kqn",364],["T_OBJECT_OPERATOR","->",364],["T_STRING","name",364],["T_WHITESPACE"," ",364],["T_IS_EQUAL","==",364],["T_WHITESPACE"," ",364],["T_CONSTANT_ENCAPSED_STRING","'type'",364],")",["T_WHITESPACE"," ",364],"{",["T_WHITESPACE","\n                ",364],["T_VARIABLE","$vqn",365],["T_WHITESPACE"," ",365],"=",["T_WHITESPACE"," ",365],["T_NEW","new",365],["T_WHITESPACE"," ",365],["T_STRING","QName",365],"(",["T_VARIABLE","$value",365],")",";",["T_WHITESPACE","\n                ",365],["T_VARIABLE","$this",366],["T_OBJECT_OPERATOR","->",366],["T_STRING","message",366],"[",["T_VARIABLE","$pos",366],"]","[",["T_CONSTANT_ENCAPSED_STRING","'type'",366],"]",["T_WHITESPACE"," ",366],"=",["T_WHITESPACE"," ",366],["T_VARIABLE","$vqn",366],["T_OBJECT_OPERATOR","->",366],["T_STRING","name",366],";",["T_WHITESPACE","\n                ",366],["T_VARIABLE","$this",367],["T_OBJECT_OPERATOR","->",367],["T_STRING","message",367],"[",["T_VARIABLE","$pos",367],"]","[",["T_CONSTANT_ENCAPSED_STRING","'type_namespace'",367],"]",["T_WHITESPACE"," ",367],"=",["T_WHITESPACE"," ",367],["T_VARIABLE","$this",367],["T_OBJECT_OPERATOR","->",367],["T_STRING","_getNamespaceForPrefix",367],"(",["T_VARIABLE","$vqn",367],["T_OBJECT_OPERATOR","->",367],["T_STRING","ns",367],")",";",["T_WHITESPACE","\n\n                ",367],["T_COMMENT","\/\/ Should do something here with the namespace of specified\n",369],["T_WHITESPACE","                ",370],["T_COMMENT","\/\/ type?\n",370],["T_WHITESPACE","\n            ",371],"}",["T_WHITESPACE"," ",372],["T_ELSEIF","elseif",372],["T_WHITESPACE"," ",372],"(",["T_VARIABLE","$kqn",372],["T_OBJECT_OPERATOR","->",372],["T_STRING","name",372],["T_WHITESPACE"," ",372],["T_IS_EQUAL","==",372],["T_WHITESPACE"," ",372],["T_CONSTANT_ENCAPSED_STRING","'arrayType'",372],")",["T_WHITESPACE"," ",372],"{",["T_WHITESPACE","\n                ",372],["T_VARIABLE","$vqn",373],["T_WHITESPACE"," ",373],"=",["T_WHITESPACE"," ",373],["T_NEW","new",373],["T_WHITESPACE"," ",373],["T_STRING","QName",373],"(",["T_VARIABLE","$value",373],")",";",["T_WHITESPACE","\n                ",373],["T_VARIABLE","$this",374],["T_OBJECT_OPERATOR","->",374],["T_STRING","message",374],"[",["T_VARIABLE","$pos",374],"]","[",["T_CONSTANT_ENCAPSED_STRING","'type'",374],"]",["T_WHITESPACE"," ",374],"=",["T_WHITESPACE"," ",374],["T_CONSTANT_ENCAPSED_STRING","'Array'",374],";",["T_WHITESPACE","\n                ",374],["T_IF","if",375],["T_WHITESPACE"," ",375],"(",["T_ISSET","isset",375],"(",["T_VARIABLE","$vqn",375],["T_OBJECT_OPERATOR","->",375],["T_STRING","arraySize",375],")",")",["T_WHITESPACE"," ",375],"{",["T_WHITESPACE","\n                    ",375],["T_VARIABLE","$this",376],["T_OBJECT_OPERATOR","->",376],["T_STRING","message",376],"[",["T_VARIABLE","$pos",376],"]","[",["T_CONSTANT_ENCAPSED_STRING","'arraySize'",376],"]",["T_WHITESPACE"," ",376],"=",["T_WHITESPACE"," ",376],["T_VARIABLE","$vqn",376],["T_OBJECT_OPERATOR","->",376],["T_STRING","arraySize",376],";",["T_WHITESPACE","\n                ",376],"}",["T_WHITESPACE","\n                ",377],["T_VARIABLE","$this",378],["T_OBJECT_OPERATOR","->",378],["T_STRING","message",378],"[",["T_VARIABLE","$pos",378],"]","[",["T_CONSTANT_ENCAPSED_STRING","'arrayType'",378],"]",["T_WHITESPACE"," ",378],"=",["T_WHITESPACE"," ",378],["T_VARIABLE","$vqn",378],["T_OBJECT_OPERATOR","->",378],["T_STRING","name",378],";",["T_WHITESPACE","\n\n            ",378],"}",["T_WHITESPACE"," ",380],["T_ELSEIF","elseif",380],["T_WHITESPACE"," ",380],"(",["T_VARIABLE","$kqn",380],["T_OBJECT_OPERATOR","->",380],["T_STRING","name",380],["T_WHITESPACE"," ",380],["T_IS_EQUAL","==",380],["T_WHITESPACE"," ",380],["T_CONSTANT_ENCAPSED_STRING","'offset'",380],")",["T_WHITESPACE"," ",380],"{",["T_WHITESPACE","\n                ",380],["T_VARIABLE","$this",381],["T_OBJECT_OPERATOR","->",381],["T_STRING","message",381],"[",["T_VARIABLE","$pos",381],"]","[",["T_CONSTANT_ENCAPSED_STRING","'arrayOffset'",381],"]",["T_WHITESPACE"," ",381],"=",["T_WHITESPACE"," ",381],["T_STRING","explode",381],"(",["T_CONSTANT_ENCAPSED_STRING","','",381],",",["T_WHITESPACE"," ",381],["T_STRING","substr",381],"(",["T_VARIABLE","$value",381],",",["T_WHITESPACE"," ",381],["T_LNUMBER","1",381],",",["T_WHITESPACE"," ",381],["T_STRING","strlen",381],"(",["T_VARIABLE","$value",381],")",["T_WHITESPACE"," ",381],"-",["T_WHITESPACE"," ",381],["T_LNUMBER","2",381],")",")",";",["T_WHITESPACE","\n\n            ",381],"}",["T_WHITESPACE"," ",383],["T_ELSEIF","elseif",383],["T_WHITESPACE"," ",383],"(",["T_VARIABLE","$kqn",383],["T_OBJECT_OPERATOR","->",383],["T_STRING","name",383],["T_WHITESPACE"," ",383],["T_IS_EQUAL","==",383],["T_WHITESPACE"," ",383],["T_CONSTANT_ENCAPSED_STRING","'id'",383],")",["T_WHITESPACE"," ",383],"{",["T_WHITESPACE","\n                ",383],["T_COMMENT","\/\/ Save id to reference array.\n",384],["T_WHITESPACE","                ",385],["T_VARIABLE","$this",385],["T_OBJECT_OPERATOR","->",385],["T_STRING","references",385],"[",["T_VARIABLE","$value",385],"]",["T_WHITESPACE"," ",385],"=",["T_WHITESPACE"," ",385],["T_VARIABLE","$pos",385],";",["T_WHITESPACE","\n                ",385],["T_VARIABLE","$this",386],["T_OBJECT_OPERATOR","->",386],["T_STRING","message",386],"[",["T_VARIABLE","$pos",386],"]","[",["T_CONSTANT_ENCAPSED_STRING","'id'",386],"]",["T_WHITESPACE"," ",386],"=",["T_WHITESPACE"," ",386],["T_VARIABLE","$value",386],";",["T_WHITESPACE","\n\n            ",386],"}",["T_WHITESPACE"," ",388],["T_ELSEIF","elseif",388],["T_WHITESPACE"," ",388],"(",["T_VARIABLE","$kqn",388],["T_OBJECT_OPERATOR","->",388],["T_STRING","name",388],["T_WHITESPACE"," ",388],["T_IS_EQUAL","==",388],["T_WHITESPACE"," ",388],["T_CONSTANT_ENCAPSED_STRING","'href'",388],")",["T_WHITESPACE"," ",388],"{",["T_WHITESPACE","\n                ",388],["T_IF","if",389],["T_WHITESPACE"," ",389],"(",["T_VARIABLE","$value",389],"[",["T_LNUMBER","0",389],"]",["T_WHITESPACE"," ",389],["T_IS_EQUAL","==",389],["T_WHITESPACE"," ",389],["T_CONSTANT_ENCAPSED_STRING","'#'",389],")",["T_WHITESPACE"," ",389],"{",["T_WHITESPACE","\n                    ",389],["T_VARIABLE","$ref",390],["T_WHITESPACE"," ",390],"=",["T_WHITESPACE"," ",390],["T_STRING","substr",390],"(",["T_VARIABLE","$value",390],",",["T_WHITESPACE"," ",390],["T_LNUMBER","1",390],")",";",["T_WHITESPACE","\n                    ",390],["T_IF","if",391],["T_WHITESPACE"," ",391],"(",["T_ISSET","isset",391],"(",["T_VARIABLE","$this",391],["T_OBJECT_OPERATOR","->",391],["T_STRING","references",391],"[",["T_VARIABLE","$ref",391],"]",")",")",["T_WHITESPACE"," ",391],"{",["T_WHITESPACE","\n                        ",391],["T_COMMENT","\/\/ cdata, type, inval.\n",392],["T_WHITESPACE","                        ",393],["T_VARIABLE","$ref_pos",393],["T_WHITESPACE"," ",393],"=",["T_WHITESPACE"," ",393],["T_VARIABLE","$this",393],["T_OBJECT_OPERATOR","->",393],["T_STRING","references",393],"[",["T_VARIABLE","$ref",393],"]",";",["T_WHITESPACE","\n                        ",393],["T_VARIABLE","$this",394],["T_OBJECT_OPERATOR","->",394],["T_STRING","message",394],"[",["T_VARIABLE","$pos",394],"]","[",["T_CONSTANT_ENCAPSED_STRING","'children'",394],"]",["T_WHITESPACE"," ",394],"=",["T_WHITESPACE"," ",394],"&",["T_VARIABLE","$this",394],["T_OBJECT_OPERATOR","->",394],["T_STRING","message",394],"[",["T_VARIABLE","$ref_pos",394],"]","[",["T_CONSTANT_ENCAPSED_STRING","'children'",394],"]",";",["T_WHITESPACE","\n                        ",394],["T_VARIABLE","$this",395],["T_OBJECT_OPERATOR","->",395],["T_STRING","message",395],"[",["T_VARIABLE","$pos",395],"]","[",["T_CONSTANT_ENCAPSED_STRING","'cdata'",395],"]",["T_WHITESPACE"," ",395],"=",["T_WHITESPACE"," ",395],"&",["T_VARIABLE","$this",395],["T_OBJECT_OPERATOR","->",395],["T_STRING","message",395],"[",["T_VARIABLE","$ref_pos",395],"]","[",["T_CONSTANT_ENCAPSED_STRING","'cdata'",395],"]",";",["T_WHITESPACE","\n                        ",395],["T_VARIABLE","$this",396],["T_OBJECT_OPERATOR","->",396],["T_STRING","message",396],"[",["T_VARIABLE","$pos",396],"]","[",["T_CONSTANT_ENCAPSED_STRING","'type'",396],"]",["T_WHITESPACE"," ",396],"=",["T_WHITESPACE"," ",396],"&",["T_VARIABLE","$this",396],["T_OBJECT_OPERATOR","->",396],["T_STRING","message",396],"[",["T_VARIABLE","$ref_pos",396],"]","[",["T_CONSTANT_ENCAPSED_STRING","'type'",396],"]",";",["T_WHITESPACE","\n                        ",396],["T_VARIABLE","$this",397],["T_OBJECT_OPERATOR","->",397],["T_STRING","message",397],"[",["T_VARIABLE","$pos",397],"]","[",["T_CONSTANT_ENCAPSED_STRING","'arraySize'",397],"]",["T_WHITESPACE"," ",397],"=",["T_WHITESPACE"," ",397],"&",["T_VARIABLE","$this",397],["T_OBJECT_OPERATOR","->",397],["T_STRING","message",397],"[",["T_VARIABLE","$ref_pos",397],"]","[",["T_CONSTANT_ENCAPSED_STRING","'arraySize'",397],"]",";",["T_WHITESPACE","\n                        ",397],["T_VARIABLE","$this",398],["T_OBJECT_OPERATOR","->",398],["T_STRING","message",398],"[",["T_VARIABLE","$pos",398],"]","[",["T_CONSTANT_ENCAPSED_STRING","'arrayType'",398],"]",["T_WHITESPACE"," ",398],"=",["T_WHITESPACE"," ",398],"&",["T_VARIABLE","$this",398],["T_OBJECT_OPERATOR","->",398],["T_STRING","message",398],"[",["T_VARIABLE","$ref_pos",398],"]","[",["T_CONSTANT_ENCAPSED_STRING","'arrayType'",398],"]",";",["T_WHITESPACE","\n                    ",398],"}",["T_WHITESPACE"," ",399],["T_ELSE","else",399],["T_WHITESPACE"," ",399],"{",["T_WHITESPACE","\n                        ",399],["T_COMMENT","\/\/ Reverse reference, store in 'need reference'.\n",400],["T_WHITESPACE","                        ",401],["T_IF","if",401],["T_WHITESPACE"," ",401],"(","!",["T_ISSET","isset",401],"(",["T_VARIABLE","$this",401],["T_OBJECT_OPERATOR","->",401],["T_STRING","need_references",401],"[",["T_VARIABLE","$ref",401],"]",")",")",["T_WHITESPACE"," ",401],"{",["T_WHITESPACE","\n                            ",401],["T_VARIABLE","$this",402],["T_OBJECT_OPERATOR","->",402],["T_STRING","need_references",402],"[",["T_VARIABLE","$ref",402],"]",["T_WHITESPACE"," ",402],"=",["T_WHITESPACE"," ",402],["T_ARRAY","array",402],"(",")",";",["T_WHITESPACE","\n                        ",402],"}",["T_WHITESPACE","\n                        ",403],["T_VARIABLE","$this",404],["T_OBJECT_OPERATOR","->",404],["T_STRING","need_references",404],"[",["T_VARIABLE","$ref",404],"]","[","]",["T_WHITESPACE"," ",404],"=",["T_WHITESPACE"," ",404],["T_VARIABLE","$pos",404],";",["T_WHITESPACE","\n                    ",404],"}",["T_WHITESPACE","\n                ",405],"}",["T_WHITESPACE"," ",406],["T_ELSEIF","elseif",406],["T_WHITESPACE"," ",406],"(",["T_ISSET","isset",406],"(",["T_VARIABLE","$this",406],["T_OBJECT_OPERATOR","->",406],["T_STRING","attachments",406],"[",["T_VARIABLE","$value",406],"]",")",")",["T_WHITESPACE"," ",406],"{",["T_WHITESPACE","\n                    ",406],["T_VARIABLE","$this",407],["T_OBJECT_OPERATOR","->",407],["T_STRING","message",407],"[",["T_VARIABLE","$pos",407],"]","[",["T_CONSTANT_ENCAPSED_STRING","'cdata'",407],"]",["T_WHITESPACE"," ",407],"=",["T_WHITESPACE"," ",407],["T_VARIABLE","$this",407],["T_OBJECT_OPERATOR","->",407],["T_STRING","attachments",407],"[",["T_VARIABLE","$value",407],"]",";",["T_WHITESPACE","\n                ",407],"}",["T_WHITESPACE","\n            ",408],"}",["T_WHITESPACE","\n        ",409],"}",["T_WHITESPACE","\n        ",410],["T_COMMENT","\/\/ See if namespace is defined in tag.\n",411],["T_WHITESPACE","        ",412],["T_IF","if",412],["T_WHITESPACE"," ",412],"(",["T_ISSET","isset",412],"(",["T_VARIABLE","$attrs",412],"[",["T_CONSTANT_ENCAPSED_STRING","'xmlns:'",412],["T_WHITESPACE"," ",412],".",["T_WHITESPACE"," ",412],["T_VARIABLE","$qname",412],["T_OBJECT_OPERATOR","->",412],["T_STRING","ns",412],"]",")",")",["T_WHITESPACE"," ",412],"{",["T_WHITESPACE","\n            ",412],["T_VARIABLE","$namespace",413],["T_WHITESPACE"," ",413],"=",["T_WHITESPACE"," ",413],["T_VARIABLE","$attrs",413],"[",["T_CONSTANT_ENCAPSED_STRING","'xmlns:'",413],["T_WHITESPACE"," ",413],".",["T_WHITESPACE"," ",413],["T_VARIABLE","$qname",413],["T_OBJECT_OPERATOR","->",413],["T_STRING","ns",413],"]",";",["T_WHITESPACE","\n        ",413],"}",["T_WHITESPACE"," ",414],["T_ELSEIF","elseif",414],["T_WHITESPACE"," ",414],"(",["T_VARIABLE","$qname",414],["T_OBJECT_OPERATOR","->",414],["T_STRING","ns",414],["T_WHITESPACE"," ",414],["T_BOOLEAN_AND","&&",414],["T_WHITESPACE"," ",414],"!",["T_VARIABLE","$qname",414],["T_OBJECT_OPERATOR","->",414],["T_STRING","namespace",414],")",["T_WHITESPACE"," ",414],"{",["T_WHITESPACE","\n            ",414],["T_VARIABLE","$namespace",415],["T_WHITESPACE"," ",415],"=",["T_WHITESPACE"," ",415],["T_VARIABLE","$this",415],["T_OBJECT_OPERATOR","->",415],["T_STRING","_getNamespaceForPrefix",415],"(",["T_VARIABLE","$qname",415],["T_OBJECT_OPERATOR","->",415],["T_STRING","ns",415],")",";",["T_WHITESPACE","\n        ",415],"}",["T_WHITESPACE"," ",416],["T_ELSE","else",416],["T_WHITESPACE"," ",416],"{",["T_WHITESPACE","\n            ",416],["T_COMMENT","\/\/ Get namespace.\n",417],["T_WHITESPACE","            ",418],["T_VARIABLE","$namespace",418],["T_WHITESPACE"," ",418],"=",["T_WHITESPACE"," ",418],["T_VARIABLE","$qname",418],["T_OBJECT_OPERATOR","->",418],["T_STRING","namespace",418],["T_WHITESPACE"," ",418],"?",["T_WHITESPACE"," ",418],["T_VARIABLE","$qname",418],["T_OBJECT_OPERATOR","->",418],["T_STRING","namespace",418],["T_WHITESPACE"," ",418],":",["T_WHITESPACE"," ",418],["T_VARIABLE","$this",418],["T_OBJECT_OPERATOR","->",418],["T_STRING","default_namespace",418],";",["T_WHITESPACE","\n        ",418],"}",["T_WHITESPACE","\n        ",419],["T_VARIABLE","$this",420],["T_OBJECT_OPERATOR","->",420],["T_STRING","message",420],"[",["T_VARIABLE","$pos",420],"]","[",["T_CONSTANT_ENCAPSED_STRING","'namespace'",420],"]",["T_WHITESPACE"," ",420],"=",["T_WHITESPACE"," ",420],["T_VARIABLE","$namespace",420],";",["T_WHITESPACE","\n        ",420],["T_VARIABLE","$this",421],["T_OBJECT_OPERATOR","->",421],["T_STRING","default_namespace",421],["T_WHITESPACE"," ",421],"=",["T_WHITESPACE"," ",421],["T_VARIABLE","$namespace",421],";",["T_WHITESPACE","\n    ",421],"}",["T_WHITESPACE","\n\n    ",422],["T_DOC_COMMENT","\/**\n     * End element handler used with the XML parser.\n     *\/",424],["T_WHITESPACE","\n    ",426],["T_FUNCTION","function",427],["T_WHITESPACE"," ",427],["T_STRING","_endElement",427],"(",["T_VARIABLE","$parser",427],",",["T_WHITESPACE"," ",427],["T_VARIABLE","$name",427],")",["T_WHITESPACE","\n    ",427],"{",["T_WHITESPACE","\n        ",428],["T_COMMENT","\/\/ Position of current element is equal to the last value left in\n",429],["T_WHITESPACE","        ",430],["T_COMMENT","\/\/ depth_array for my depth.\n",430],["T_WHITESPACE","        ",431],["T_VARIABLE","$pos",431],["T_WHITESPACE"," ",431],"=",["T_WHITESPACE"," ",431],["T_VARIABLE","$this",431],["T_OBJECT_OPERATOR","->",431],["T_STRING","depth_array",431],"[",["T_VARIABLE","$this",431],["T_OBJECT_OPERATOR","->",431],["T_STRING","depth",431],"]",";",["T_WHITESPACE","\n\n        ",431],["T_COMMENT","\/\/ Bring depth down a notch.\n",433],["T_WHITESPACE","        ",434],["T_VARIABLE","$this",434],["T_OBJECT_OPERATOR","->",434],["T_STRING","depth",434],["T_DEC","--",434],";",["T_WHITESPACE","\n        ",434],["T_VARIABLE","$qname",435],["T_WHITESPACE"," ",435],"=",["T_WHITESPACE"," ",435],["T_NEW","new",435],["T_WHITESPACE"," ",435],["T_STRING","QName",435],"(",["T_VARIABLE","$name",435],")",";",["T_WHITESPACE","\n\n        ",435],["T_COMMENT","\/\/ Get type if not explicitly declared in an xsi:type attribute.\n",437],["T_WHITESPACE","        ",438],["T_COMMENT","\/\/ TODO: check on integrating WSDL validation here.\n",438],["T_WHITESPACE","        ",439],["T_IF","if",439],["T_WHITESPACE"," ",439],"(",["T_VARIABLE","$this",439],["T_OBJECT_OPERATOR","->",439],["T_STRING","message",439],"[",["T_VARIABLE","$pos",439],"]","[",["T_CONSTANT_ENCAPSED_STRING","'type'",439],"]",["T_WHITESPACE"," ",439],["T_IS_EQUAL","==",439],["T_WHITESPACE"," ",439],["T_CONSTANT_ENCAPSED_STRING","''",439],")",["T_WHITESPACE"," ",439],"{",["T_WHITESPACE","\n            ",439],["T_IF","if",440],["T_WHITESPACE"," ",440],"(",["T_ISSET","isset",440],"(",["T_VARIABLE","$this",440],["T_OBJECT_OPERATOR","->",440],["T_STRING","message",440],"[",["T_VARIABLE","$pos",440],"]","[",["T_CONSTANT_ENCAPSED_STRING","'children'",440],"]",")",")",["T_WHITESPACE"," ",440],"{",["T_WHITESPACE","\n                ",440],["T_COMMENT","\/* this is slow, need to look at some faster method\n                $children = explode('|', $this->message[$pos]['children']);\n                if (count($children) > 2 &&\n                    $this->message[$children[1]]['name'] == $this->message[$children[2]]['name']) {\n                    $this->message[$pos]['type'] = 'Array';\n                } else {\n                    $this->message[$pos]['type'] = 'Struct';\n                }*\/",441],["T_WHITESPACE","\n                ",448],["T_VARIABLE","$this",449],["T_OBJECT_OPERATOR","->",449],["T_STRING","message",449],"[",["T_VARIABLE","$pos",449],"]","[",["T_CONSTANT_ENCAPSED_STRING","'type'",449],"]",["T_WHITESPACE"," ",449],"=",["T_WHITESPACE"," ",449],["T_CONSTANT_ENCAPSED_STRING","'Struct'",449],";",["T_WHITESPACE","\n            ",449],"}",["T_WHITESPACE"," ",450],["T_ELSE","else",450],["T_WHITESPACE"," ",450],"{",["T_WHITESPACE","\n                ",450],["T_VARIABLE","$parent",451],["T_WHITESPACE"," ",451],"=",["T_WHITESPACE"," ",451],["T_VARIABLE","$this",451],["T_OBJECT_OPERATOR","->",451],["T_STRING","message",451],"[",["T_VARIABLE","$pos",451],"]","[",["T_CONSTANT_ENCAPSED_STRING","'parent'",451],"]",";",["T_WHITESPACE","\n                ",451],["T_IF","if",452],["T_WHITESPACE"," ",452],"(",["T_VARIABLE","$this",452],["T_OBJECT_OPERATOR","->",452],["T_STRING","message",452],"[",["T_VARIABLE","$parent",452],"]","[",["T_CONSTANT_ENCAPSED_STRING","'type'",452],"]",["T_WHITESPACE"," ",452],["T_IS_EQUAL","==",452],["T_WHITESPACE"," ",452],["T_CONSTANT_ENCAPSED_STRING","'Array'",452],["T_WHITESPACE"," ",452],["T_BOOLEAN_AND","&&",452],["T_WHITESPACE","\n                    ",452],["T_ISSET","isset",453],"(",["T_VARIABLE","$this",453],["T_OBJECT_OPERATOR","->",453],["T_STRING","message",453],"[",["T_VARIABLE","$parent",453],"]","[",["T_CONSTANT_ENCAPSED_STRING","'arrayType'",453],"]",")",")",["T_WHITESPACE"," ",453],"{",["T_WHITESPACE","\n                    ",453],["T_VARIABLE","$this",454],["T_OBJECT_OPERATOR","->",454],["T_STRING","message",454],"[",["T_VARIABLE","$pos",454],"]","[",["T_CONSTANT_ENCAPSED_STRING","'type'",454],"]",["T_WHITESPACE"," ",454],"=",["T_WHITESPACE"," ",454],["T_VARIABLE","$this",454],["T_OBJECT_OPERATOR","->",454],["T_STRING","message",454],"[",["T_VARIABLE","$parent",454],"]","[",["T_CONSTANT_ENCAPSED_STRING","'arrayType'",454],"]",";",["T_WHITESPACE","\n                ",454],"}",["T_WHITESPACE"," ",455],["T_ELSE","else",455],["T_WHITESPACE"," ",455],"{",["T_WHITESPACE","\n                    ",455],["T_VARIABLE","$this",456],["T_OBJECT_OPERATOR","->",456],["T_STRING","message",456],"[",["T_VARIABLE","$pos",456],"]","[",["T_CONSTANT_ENCAPSED_STRING","'type'",456],"]",["T_WHITESPACE"," ",456],"=",["T_WHITESPACE"," ",456],["T_CONSTANT_ENCAPSED_STRING","'string'",456],";",["T_WHITESPACE","\n                ",456],"}",["T_WHITESPACE","\n            ",457],"}",["T_WHITESPACE","\n        ",458],"}",["T_WHITESPACE","\n\n        ",459],["T_COMMENT","\/\/ If tag we are currently closing is the method wrapper.\n",461],["T_WHITESPACE","        ",462],["T_IF","if",462],["T_WHITESPACE"," ",462],"(",["T_VARIABLE","$pos",462],["T_WHITESPACE"," ",462],["T_IS_EQUAL","==",462],["T_WHITESPACE"," ",462],["T_VARIABLE","$this",462],["T_OBJECT_OPERATOR","->",462],["T_STRING","curent_root_struct",462],")",["T_WHITESPACE"," ",462],"{",["T_WHITESPACE","\n            ",462],["T_VARIABLE","$this",463],["T_OBJECT_OPERATOR","->",463],["T_STRING","status",463],["T_WHITESPACE"," ",463],"=",["T_WHITESPACE"," ",463],["T_CONSTANT_ENCAPSED_STRING","'body'",463],";",["T_WHITESPACE","\n        ",463],"}",["T_WHITESPACE"," ",464],["T_ELSEIF","elseif",464],["T_WHITESPACE"," ",464],"(",["T_VARIABLE","$qname",464],["T_OBJECT_OPERATOR","->",464],["T_STRING","name",464],["T_WHITESPACE"," ",464],["T_IS_EQUAL","==",464],["T_WHITESPACE"," ",464],["T_CONSTANT_ENCAPSED_STRING","'Body'",464],["T_WHITESPACE"," ",464],["T_BOOLEAN_OR","||",464],["T_WHITESPACE"," ",464],["T_VARIABLE","$qname",464],["T_OBJECT_OPERATOR","->",464],["T_STRING","name",464],["T_WHITESPACE"," ",464],["T_IS_EQUAL","==",464],["T_WHITESPACE"," ",464],["T_CONSTANT_ENCAPSED_STRING","'Header'",464],")",["T_WHITESPACE"," ",464],"{",["T_WHITESPACE","\n            ",464],["T_VARIABLE","$this",465],["T_OBJECT_OPERATOR","->",465],["T_STRING","status",465],["T_WHITESPACE"," ",465],"=",["T_WHITESPACE"," ",465],["T_CONSTANT_ENCAPSED_STRING","'envelope'",465],";",["T_WHITESPACE","\n        ",465],"}",["T_WHITESPACE","\n\n        ",466],["T_COMMENT","\/\/ Set parent back to my parent.\n",468],["T_WHITESPACE","        ",469],["T_VARIABLE","$this",469],["T_OBJECT_OPERATOR","->",469],["T_STRING","parent",469],["T_WHITESPACE"," ",469],"=",["T_WHITESPACE"," ",469],["T_VARIABLE","$this",469],["T_OBJECT_OPERATOR","->",469],["T_STRING","message",469],"[",["T_VARIABLE","$pos",469],"]","[",["T_CONSTANT_ENCAPSED_STRING","'parent'",469],"]",";",["T_WHITESPACE","\n\n        ",469],["T_COMMENT","\/\/ Handle any reverse references now.\n",471],["T_WHITESPACE","        ",472],["T_VARIABLE","$idref",472],["T_WHITESPACE"," ",472],"=",["T_WHITESPACE"," ",472],["T_VARIABLE","$this",472],["T_OBJECT_OPERATOR","->",472],["T_STRING","message",472],"[",["T_VARIABLE","$pos",472],"]","[",["T_CONSTANT_ENCAPSED_STRING","'id'",472],"]",";",["T_WHITESPACE","\n\n        ",472],["T_IF","if",474],["T_WHITESPACE"," ",474],"(",["T_VARIABLE","$idref",474],["T_WHITESPACE"," ",474],["T_IS_NOT_EQUAL","!=",474],["T_WHITESPACE"," ",474],["T_CONSTANT_ENCAPSED_STRING","''",474],["T_WHITESPACE"," ",474],["T_BOOLEAN_AND","&&",474],["T_WHITESPACE"," ",474],["T_ISSET","isset",474],"(",["T_VARIABLE","$this",474],["T_OBJECT_OPERATOR","->",474],["T_STRING","need_references",474],"[",["T_VARIABLE","$idref",474],"]",")",")",["T_WHITESPACE"," ",474],"{",["T_WHITESPACE","\n            ",474],["T_FOREACH","foreach",475],["T_WHITESPACE"," ",475],"(",["T_VARIABLE","$this",475],["T_OBJECT_OPERATOR","->",475],["T_STRING","need_references",475],"[",["T_VARIABLE","$idref",475],"]",["T_WHITESPACE"," ",475],["T_AS","as",475],["T_WHITESPACE"," ",475],["T_VARIABLE","$ref_pos",475],")",["T_WHITESPACE"," ",475],"{",["T_WHITESPACE","\n                ",475],["T_COMMENT","\/\/ XXX is this stuff there already?\n",476],["T_WHITESPACE","                ",477],["T_VARIABLE","$this",477],["T_OBJECT_OPERATOR","->",477],["T_STRING","message",477],"[",["T_VARIABLE","$ref_pos",477],"]","[",["T_CONSTANT_ENCAPSED_STRING","'children'",477],"]",["T_WHITESPACE"," ",477],"=",["T_WHITESPACE"," ",477],"&",["T_VARIABLE","$this",477],["T_OBJECT_OPERATOR","->",477],["T_STRING","message",477],"[",["T_VARIABLE","$pos",477],"]","[",["T_CONSTANT_ENCAPSED_STRING","'children'",477],"]",";",["T_WHITESPACE","\n                ",477],["T_VARIABLE","$this",478],["T_OBJECT_OPERATOR","->",478],["T_STRING","message",478],"[",["T_VARIABLE","$ref_pos",478],"]","[",["T_CONSTANT_ENCAPSED_STRING","'cdata'",478],"]",["T_WHITESPACE"," ",478],"=",["T_WHITESPACE"," ",478],"&",["T_VARIABLE","$this",478],["T_OBJECT_OPERATOR","->",478],["T_STRING","message",478],"[",["T_VARIABLE","$pos",478],"]","[",["T_CONSTANT_ENCAPSED_STRING","'cdata'",478],"]",";",["T_WHITESPACE","\n                ",478],["T_VARIABLE","$this",479],["T_OBJECT_OPERATOR","->",479],["T_STRING","message",479],"[",["T_VARIABLE","$ref_pos",479],"]","[",["T_CONSTANT_ENCAPSED_STRING","'type'",479],"]",["T_WHITESPACE"," ",479],"=",["T_WHITESPACE"," ",479],"&",["T_VARIABLE","$this",479],["T_OBJECT_OPERATOR","->",479],["T_STRING","message",479],"[",["T_VARIABLE","$pos",479],"]","[",["T_CONSTANT_ENCAPSED_STRING","'type'",479],"]",";",["T_WHITESPACE","\n                ",479],["T_VARIABLE","$this",480],["T_OBJECT_OPERATOR","->",480],["T_STRING","message",480],"[",["T_VARIABLE","$ref_pos",480],"]","[",["T_CONSTANT_ENCAPSED_STRING","'arraySize'",480],"]",["T_WHITESPACE"," ",480],"=",["T_WHITESPACE"," ",480],"&",["T_VARIABLE","$this",480],["T_OBJECT_OPERATOR","->",480],["T_STRING","message",480],"[",["T_VARIABLE","$pos",480],"]","[",["T_CONSTANT_ENCAPSED_STRING","'arraySize'",480],"]",";",["T_WHITESPACE","\n                ",480],["T_VARIABLE","$this",481],["T_OBJECT_OPERATOR","->",481],["T_STRING","message",481],"[",["T_VARIABLE","$ref_pos",481],"]","[",["T_CONSTANT_ENCAPSED_STRING","'arrayType'",481],"]",["T_WHITESPACE"," ",481],"=",["T_WHITESPACE"," ",481],"&",["T_VARIABLE","$this",481],["T_OBJECT_OPERATOR","->",481],["T_STRING","message",481],"[",["T_VARIABLE","$pos",481],"]","[",["T_CONSTANT_ENCAPSED_STRING","'arrayType'",481],"]",";",["T_WHITESPACE","\n            ",481],"}",["T_WHITESPACE","\n        ",482],"}",["T_WHITESPACE","\n    ",483],"}",["T_WHITESPACE","\n\n    ",484],["T_DOC_COMMENT","\/**\n     * Element content handler used with the XML parser.\n     *\/",486],["T_WHITESPACE","\n    ",488],["T_FUNCTION","function",489],["T_WHITESPACE"," ",489],["T_STRING","_characterData",489],"(",["T_VARIABLE","$parser",489],",",["T_WHITESPACE"," ",489],["T_VARIABLE","$data",489],")",["T_WHITESPACE","\n    ",489],"{",["T_WHITESPACE","\n        ",490],["T_VARIABLE","$pos",491],["T_WHITESPACE"," ",491],"=",["T_WHITESPACE"," ",491],["T_VARIABLE","$this",491],["T_OBJECT_OPERATOR","->",491],["T_STRING","depth_array",491],"[",["T_VARIABLE","$this",491],["T_OBJECT_OPERATOR","->",491],["T_STRING","depth",491],"]",";",["T_WHITESPACE","\n        ",491],["T_IF","if",492],["T_WHITESPACE"," ",492],"(",["T_ISSET","isset",492],"(",["T_VARIABLE","$this",492],["T_OBJECT_OPERATOR","->",492],["T_STRING","message",492],"[",["T_VARIABLE","$pos",492],"]","[",["T_CONSTANT_ENCAPSED_STRING","'cdata'",492],"]",")",")",["T_WHITESPACE"," ",492],"{",["T_WHITESPACE","\n            ",492],["T_VARIABLE","$this",493],["T_OBJECT_OPERATOR","->",493],["T_STRING","message",493],"[",["T_VARIABLE","$pos",493],"]","[",["T_CONSTANT_ENCAPSED_STRING","'cdata'",493],"]",["T_WHITESPACE"," ",493],["T_CONCAT_EQUAL",".=",493],["T_WHITESPACE"," ",493],["T_VARIABLE","$data",493],";",["T_WHITESPACE","\n        ",493],"}",["T_WHITESPACE"," ",494],["T_ELSE","else",494],["T_WHITESPACE"," ",494],"{",["T_WHITESPACE","\n            ",494],["T_VARIABLE","$this",495],["T_OBJECT_OPERATOR","->",495],["T_STRING","message",495],"[",["T_VARIABLE","$pos",495],"]","[",["T_CONSTANT_ENCAPSED_STRING","'cdata'",495],"]",["T_WHITESPACE"," ",495],"=",["T_WHITESPACE"," ",495],["T_VARIABLE","$data",495],";",["T_WHITESPACE","\n        ",495],"}",["T_WHITESPACE","\n    ",496],"}",["T_WHITESPACE","\n\n",497],"}",["T_WHITESPACE","\n",499]]