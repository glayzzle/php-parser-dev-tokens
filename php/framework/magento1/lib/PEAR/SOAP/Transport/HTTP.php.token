[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * This file contains the code for a HTTP transport layer.\n *\n * PHP versions 4 and 5\n *\n * LICENSE: This source file is subject to version 2.02 of the PHP license,\n * that is bundled with this package in the file LICENSE, and is available at\n * through the world-wide-web at http:\/\/www.php.net\/license\/2_02.txt.  If you\n * did not receive a copy of the PHP license and are unable to obtain it\n * through the world-wide-web, please send a note to license@php.net so we can\n * mail you a copy immediately.\n *\n * @category   Web Services\n * @package    SOAP\n * @author     Shane Caraveo <Shane@Caraveo.com>\n * @author     Jan Schneider <jan@horde.org>\n * @copyright  2003-2006 The PHP Group\n * @license    http:\/\/www.php.net\/license\/2_02.txt  PHP License 2.02\n * @link       http:\/\/pear.php.net\/package\/SOAP\n *\/",2],["T_WHITESPACE","\n\n",21],["T_DOC_COMMENT","\/**\n * HTTP Transport class\n *\n * @package  SOAP\n * @category Web Services\n *\/",23],["T_WHITESPACE","\n\n",28],["T_DOC_COMMENT","\/**\n * Needed Classes\n *\/",30],["T_WHITESPACE","\n",32],["T_REQUIRE_ONCE","require_once",33],["T_WHITESPACE"," ",33],["T_CONSTANT_ENCAPSED_STRING","'SOAP\/Transport.php'",33],";",["T_WHITESPACE","\n\n",33],["T_DOC_COMMENT","\/**\n *  HTTP Transport for SOAP\n *\n * @access public\n * @package SOAP\n * @author Shane Caraveo <shane@php.net>\n * @author Jan Schneider <jan@horde.org>\n *\/",35],["T_WHITESPACE","\n",42],["T_CLASS","class",43],["T_WHITESPACE"," ",43],["T_STRING","SOAP_Transport_HTTP",43],["T_WHITESPACE"," ",43],["T_EXTENDS","extends",43],["T_WHITESPACE"," ",43],["T_STRING","SOAP_Transport",43],["T_WHITESPACE","\n",43],"{",["T_WHITESPACE","\n    ",44],["T_DOC_COMMENT","\/**\n     * Basic Auth string.\n     *\n     * @var array\n     *\/",45],["T_WHITESPACE","\n    ",49],["T_VAR","var",50],["T_WHITESPACE"," ",50],["T_VARIABLE","$headers",50],["T_WHITESPACE"," ",50],"=",["T_WHITESPACE"," ",50],["T_ARRAY","array",50],"(",")",";",["T_WHITESPACE","\n\n    ",50],["T_DOC_COMMENT","\/**\n     * Cookies.\n     *\n     * @var array\n     *\/",52],["T_WHITESPACE","\n    ",56],["T_VAR","var",57],["T_WHITESPACE"," ",57],["T_VARIABLE","$cookies",57],";",["T_WHITESPACE","\n\n    ",57],["T_DOC_COMMENT","\/**\n     * Connection timeout in seconds. 0 = none.\n     *\n     * @var integer\n     *\/",59],["T_WHITESPACE","\n    ",63],["T_VAR","var",64],["T_WHITESPACE"," ",64],["T_VARIABLE","$timeout",64],["T_WHITESPACE"," ",64],"=",["T_WHITESPACE"," ",64],["T_LNUMBER","4",64],";",["T_WHITESPACE","\n\n    ",64],["T_DOC_COMMENT","\/**\n     * HTTP-Response Content-Type.\n     *\/",66],["T_WHITESPACE","\n    ",68],["T_VAR","var",69],["T_WHITESPACE"," ",69],["T_VARIABLE","$result_content_type",69],";",["T_WHITESPACE","\n\n    ",69],["T_VAR","var",71],["T_WHITESPACE"," ",71],["T_VARIABLE","$result_headers",71],["T_WHITESPACE"," ",71],"=",["T_WHITESPACE"," ",71],["T_ARRAY","array",71],"(",")",";",["T_WHITESPACE","\n\n    ",71],["T_VAR","var",73],["T_WHITESPACE"," ",73],["T_VARIABLE","$result_cookies",73],["T_WHITESPACE"," ",73],"=",["T_WHITESPACE"," ",73],["T_ARRAY","array",73],"(",")",";",["T_WHITESPACE","\n\n    ",73],["T_DOC_COMMENT","\/**\n     * SOAP_Transport_HTTP Constructor\n     *\n     * @access public\n     *\n     * @param string $url       HTTP url to SOAP endpoint.\n     * @param string $encoding  Encoding to use.\n     *\/",75],["T_WHITESPACE","\n    ",82],["T_FUNCTION","function",83],["T_WHITESPACE"," ",83],["T_STRING","SOAP_Transport_HTTP",83],"(",["T_VARIABLE","$url",83],",",["T_WHITESPACE"," ",83],["T_VARIABLE","$encoding",83],["T_WHITESPACE"," ",83],"=",["T_WHITESPACE"," ",83],["T_STRING","SOAP_DEFAULT_ENCODING",83],")",["T_WHITESPACE","\n    ",83],"{",["T_WHITESPACE","\n        ",84],["T_STRING","parent",85],["T_DOUBLE_COLON","::",85],["T_STRING","SOAP_Base",85],"(",["T_CONSTANT_ENCAPSED_STRING","'HTTP'",85],")",";",["T_WHITESPACE","\n        ",85],["T_VARIABLE","$this",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","urlparts",86],["T_WHITESPACE"," ",86],"=",["T_WHITESPACE"," ",86],"@",["T_STRING","parse_url",86],"(",["T_VARIABLE","$url",86],")",";",["T_WHITESPACE","\n        ",86],["T_VARIABLE","$this",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","url",87],["T_WHITESPACE"," ",87],"=",["T_WHITESPACE"," ",87],["T_VARIABLE","$url",87],";",["T_WHITESPACE","\n        ",87],["T_VARIABLE","$this",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","encoding",88],["T_WHITESPACE"," ",88],"=",["T_WHITESPACE"," ",88],["T_VARIABLE","$encoding",88],";",["T_WHITESPACE","\n    ",88],"}",["T_WHITESPACE","\n\n    ",89],["T_DOC_COMMENT","\/**\n     * Sends and receives SOAP data.\n     *\n     * @access public\n     *\n     * @param string  Outgoing SOAP data.\n     * @param array   Options.\n     *\n     * @return string|SOAP_Fault\n     *\/",91],["T_WHITESPACE","\n    ",100],["T_FUNCTION","function",101],["T_WHITESPACE"," ",101],["T_STRING","send",101],"(",["T_VARIABLE","$msg",101],",",["T_WHITESPACE"," ",101],["T_VARIABLE","$options",101],["T_WHITESPACE"," ",101],"=",["T_WHITESPACE"," ",101],["T_ARRAY","array",101],"(",")",")",["T_WHITESPACE","\n    ",101],"{",["T_WHITESPACE","\n        ",102],["T_VARIABLE","$this",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","fault",103],["T_WHITESPACE"," ",103],"=",["T_WHITESPACE"," ",103],["T_STRING","null",103],";",["T_WHITESPACE","\n\n        ",103],["T_IF","if",105],["T_WHITESPACE"," ",105],"(","!",["T_VARIABLE","$this",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","_validateUrl",105],"(",")",")",["T_WHITESPACE"," ",105],"{",["T_WHITESPACE","\n            ",105],["T_RETURN","return",106],["T_WHITESPACE"," ",106],["T_VARIABLE","$this",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","fault",106],";",["T_WHITESPACE","\n        ",106],"}",["T_WHITESPACE","\n\n        ",107],["T_IF","if",109],["T_WHITESPACE"," ",109],"(",["T_ISSET","isset",109],"(",["T_VARIABLE","$options",109],"[",["T_CONSTANT_ENCAPSED_STRING","'timeout'",109],"]",")",")",["T_WHITESPACE"," ",109],"{",["T_WHITESPACE","\n            ",109],["T_VARIABLE","$this",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","timeout",110],["T_WHITESPACE"," ",110],"=",["T_WHITESPACE"," ",110],["T_INT_CAST","(int)",110],["T_VARIABLE","$options",110],"[",["T_CONSTANT_ENCAPSED_STRING","'timeout'",110],"]",";",["T_WHITESPACE","\n        ",110],"}",["T_WHITESPACE","\n\n        ",111],["T_IF","if",113],["T_WHITESPACE"," ",113],"(",["T_STRING","strcasecmp",113],"(",["T_VARIABLE","$this",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","urlparts",113],"[",["T_CONSTANT_ENCAPSED_STRING","'scheme'",113],"]",",",["T_WHITESPACE"," ",113],["T_CONSTANT_ENCAPSED_STRING","'HTTP'",113],")",["T_WHITESPACE"," ",113],["T_IS_EQUAL","==",113],["T_WHITESPACE"," ",113],["T_LNUMBER","0",113],")",["T_WHITESPACE"," ",113],"{",["T_WHITESPACE","\n            ",113],["T_RETURN","return",114],["T_WHITESPACE"," ",114],["T_VARIABLE","$this",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","_sendHTTP",114],"(",["T_VARIABLE","$msg",114],",",["T_WHITESPACE"," ",114],["T_VARIABLE","$options",114],")",";",["T_WHITESPACE","\n        ",114],"}",["T_WHITESPACE"," ",115],["T_ELSEIF","elseif",115],["T_WHITESPACE"," ",115],"(",["T_STRING","strcasecmp",115],"(",["T_VARIABLE","$this",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","urlparts",115],"[",["T_CONSTANT_ENCAPSED_STRING","'scheme'",115],"]",",",["T_WHITESPACE"," ",115],["T_CONSTANT_ENCAPSED_STRING","'HTTPS'",115],")",["T_WHITESPACE"," ",115],["T_IS_EQUAL","==",115],["T_WHITESPACE"," ",115],["T_LNUMBER","0",115],")",["T_WHITESPACE"," ",115],"{",["T_WHITESPACE","\n            ",115],["T_RETURN","return",116],["T_WHITESPACE"," ",116],["T_VARIABLE","$this",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","_sendHTTPS",116],"(",["T_VARIABLE","$msg",116],",",["T_WHITESPACE"," ",116],["T_VARIABLE","$options",116],")",";",["T_WHITESPACE","\n        ",116],"}",["T_WHITESPACE","\n\n        ",117],["T_RETURN","return",119],["T_WHITESPACE"," ",119],["T_VARIABLE","$this",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","_raiseSoapFault",119],"(",["T_CONSTANT_ENCAPSED_STRING","'Invalid url scheme '",119],["T_WHITESPACE"," ",119],".",["T_WHITESPACE"," ",119],["T_VARIABLE","$this",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","url",119],")",";",["T_WHITESPACE","\n    ",119],"}",["T_WHITESPACE","\n\n    ",120],["T_DOC_COMMENT","\/**\n     * Sets data for HTTP authentication, creates authorization header.\n     *\n     * @param string $username   Username.\n     * @param string $password   Response data, minus HTTP headers.\n     *\n     * @access public\n     *\/",122],["T_WHITESPACE","\n    ",129],["T_FUNCTION","function",130],["T_WHITESPACE"," ",130],["T_STRING","setCredentials",130],"(",["T_VARIABLE","$username",130],",",["T_WHITESPACE"," ",130],["T_VARIABLE","$password",130],")",["T_WHITESPACE","\n    ",130],"{",["T_WHITESPACE","\n        ",131],["T_VARIABLE","$this",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","headers",132],"[",["T_CONSTANT_ENCAPSED_STRING","'Authorization'",132],"]",["T_WHITESPACE"," ",132],"=",["T_WHITESPACE"," ",132],["T_CONSTANT_ENCAPSED_STRING","'Basic '",132],["T_WHITESPACE"," ",132],".",["T_WHITESPACE"," ",132],["T_STRING","base64_encode",132],"(",["T_VARIABLE","$username",132],["T_WHITESPACE"," ",132],".",["T_WHITESPACE"," ",132],["T_CONSTANT_ENCAPSED_STRING","':'",132],["T_WHITESPACE"," ",132],".",["T_WHITESPACE"," ",132],["T_VARIABLE","$password",132],")",";",["T_WHITESPACE","\n    ",132],"}",["T_WHITESPACE","\n\n    ",133],["T_DOC_COMMENT","\/**\n     * Adds a cookie.\n     *\n     * @access public\n     * @param string $name  Cookie name.\n     * @param mixed $value  Cookie value.\n     *\/",135],["T_WHITESPACE","\n    ",141],["T_FUNCTION","function",142],["T_WHITESPACE"," ",142],["T_STRING","addCookie",142],"(",["T_VARIABLE","$name",142],",",["T_WHITESPACE"," ",142],["T_VARIABLE","$value",142],")",["T_WHITESPACE","\n    ",142],"{",["T_WHITESPACE","\n        ",143],["T_VARIABLE","$this",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","cookies",144],"[",["T_VARIABLE","$name",144],"]",["T_WHITESPACE"," ",144],"=",["T_WHITESPACE"," ",144],["T_VARIABLE","$value",144],";",["T_WHITESPACE","\n    ",144],"}",["T_WHITESPACE","\n\n    ",145],["T_DOC_COMMENT","\/**\n     * Generates the correct headers for the cookies.\n     *\n     * @access private\n     *\n     * @param array $options  Cookie options. If 'nocookies' is set and true\n     *                        the cookies from the last response are added\n     *                        automatically. 'cookies' is name-value-hash with\n     *                        a list of cookies to add.\n     *\n     * @return string  The cookie header value.\n     *\/",147],["T_WHITESPACE","\n    ",158],["T_FUNCTION","function",159],["T_WHITESPACE"," ",159],["T_STRING","_generateCookieHeader",159],"(",["T_VARIABLE","$options",159],")",["T_WHITESPACE","\n    ",159],"{",["T_WHITESPACE","\n        ",160],["T_VARIABLE","$this",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","cookies",161],["T_WHITESPACE"," ",161],"=",["T_WHITESPACE"," ",161],["T_ARRAY","array",161],"(",")",";",["T_WHITESPACE","\n\n        ",161],["T_IF","if",163],["T_WHITESPACE"," ",163],"(",["T_EMPTY","empty",163],"(",["T_VARIABLE","$options",163],"[",["T_CONSTANT_ENCAPSED_STRING","'nocookies'",163],"]",")",["T_WHITESPACE"," ",163],["T_BOOLEAN_AND","&&",163],["T_WHITESPACE","\n            ",163],["T_ISSET","isset",164],"(",["T_VARIABLE","$this",164],["T_OBJECT_OPERATOR","->",164],["T_STRING","result_cookies",164],")",")",["T_WHITESPACE"," ",164],"{",["T_WHITESPACE","\n            ",164],["T_COMMENT","\/\/ Add the cookies we got from the last request.\n",165],["T_WHITESPACE","            ",166],["T_FOREACH","foreach",166],["T_WHITESPACE"," ",166],"(",["T_VARIABLE","$this",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","result_cookies",166],["T_WHITESPACE"," ",166],["T_AS","as",166],["T_WHITESPACE"," ",166],["T_VARIABLE","$cookie",166],")",["T_WHITESPACE"," ",166],"{",["T_WHITESPACE","\n                ",166],["T_IF","if",167],["T_WHITESPACE"," ",167],"(",["T_VARIABLE","$cookie",167],"[",["T_CONSTANT_ENCAPSED_STRING","'domain'",167],"]",["T_WHITESPACE"," ",167],["T_IS_EQUAL","==",167],["T_WHITESPACE"," ",167],["T_VARIABLE","$this",167],["T_OBJECT_OPERATOR","->",167],["T_STRING","urlparts",167],"[",["T_CONSTANT_ENCAPSED_STRING","'host'",167],"]",")",["T_WHITESPACE"," ",167],"{",["T_WHITESPACE","\n                    ",167],["T_VARIABLE","$this",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","cookies",168],"[",["T_VARIABLE","$cookie",168],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",168],"]","]",["T_WHITESPACE"," ",168],"=",["T_WHITESPACE"," ",168],["T_VARIABLE","$cookie",168],"[",["T_CONSTANT_ENCAPSED_STRING","'value'",168],"]",";",["T_WHITESPACE","\n                ",168],"}",["T_WHITESPACE","\n            ",169],"}",["T_WHITESPACE","\n        ",170],"}",["T_WHITESPACE","\n\n        ",171],["T_COMMENT","\/\/ Add cookies the user wants to set.\n",173],["T_WHITESPACE","        ",174],["T_IF","if",174],["T_WHITESPACE"," ",174],"(",["T_ISSET","isset",174],"(",["T_VARIABLE","$options",174],"[",["T_CONSTANT_ENCAPSED_STRING","'cookies'",174],"]",")",")",["T_WHITESPACE"," ",174],"{",["T_WHITESPACE","\n            ",174],["T_FOREACH","foreach",175],["T_WHITESPACE"," ",175],"(",["T_VARIABLE","$options",175],"[",["T_CONSTANT_ENCAPSED_STRING","'cookies'",175],"]",["T_WHITESPACE"," ",175],["T_AS","as",175],["T_WHITESPACE"," ",175],["T_VARIABLE","$cookie",175],")",["T_WHITESPACE"," ",175],"{",["T_WHITESPACE","\n                ",175],["T_IF","if",176],["T_WHITESPACE"," ",176],"(",["T_VARIABLE","$cookie",176],"[",["T_CONSTANT_ENCAPSED_STRING","'domain'",176],"]",["T_WHITESPACE"," ",176],["T_IS_EQUAL","==",176],["T_WHITESPACE"," ",176],["T_VARIABLE","$this",176],["T_OBJECT_OPERATOR","->",176],["T_STRING","urlparts",176],"[",["T_CONSTANT_ENCAPSED_STRING","'host'",176],"]",")",["T_WHITESPACE"," ",176],"{",["T_WHITESPACE","\n                    ",176],["T_VARIABLE","$this",177],["T_OBJECT_OPERATOR","->",177],["T_STRING","cookies",177],"[",["T_VARIABLE","$cookie",177],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",177],"]","]",["T_WHITESPACE"," ",177],"=",["T_WHITESPACE"," ",177],["T_VARIABLE","$cookie",177],"[",["T_CONSTANT_ENCAPSED_STRING","'value'",177],"]",";",["T_WHITESPACE","\n                ",177],"}",["T_WHITESPACE","\n            ",178],"}",["T_WHITESPACE","\n        ",179],"}",["T_WHITESPACE","\n\n        ",180],["T_VARIABLE","$cookies",182],["T_WHITESPACE"," ",182],"=",["T_WHITESPACE"," ",182],["T_CONSTANT_ENCAPSED_STRING","''",182],";",["T_WHITESPACE","\n        ",182],["T_FOREACH","foreach",183],["T_WHITESPACE"," ",183],"(",["T_VARIABLE","$this",183],["T_OBJECT_OPERATOR","->",183],["T_STRING","cookies",183],["T_WHITESPACE"," ",183],["T_AS","as",183],["T_WHITESPACE"," ",183],["T_VARIABLE","$name",183],["T_WHITESPACE"," ",183],["T_DOUBLE_ARROW","=>",183],["T_WHITESPACE"," ",183],["T_VARIABLE","$value",183],")",["T_WHITESPACE"," ",183],"{",["T_WHITESPACE","\n            ",183],["T_IF","if",184],["T_WHITESPACE"," ",184],"(","!",["T_EMPTY","empty",184],"(",["T_VARIABLE","$cookies",184],")",")",["T_WHITESPACE"," ",184],"{",["T_WHITESPACE","\n                ",184],["T_VARIABLE","$cookies",185],["T_WHITESPACE"," ",185],["T_CONCAT_EQUAL",".=",185],["T_WHITESPACE"," ",185],["T_CONSTANT_ENCAPSED_STRING","'; '",185],";",["T_WHITESPACE","\n            ",185],"}",["T_WHITESPACE","\n            ",186],["T_VARIABLE","$cookies",187],["T_WHITESPACE"," ",187],["T_CONCAT_EQUAL",".=",187],["T_WHITESPACE"," ",187],["T_STRING","urlencode",187],"(",["T_VARIABLE","$name",187],")",["T_WHITESPACE"," ",187],".",["T_WHITESPACE"," ",187],["T_CONSTANT_ENCAPSED_STRING","'='",187],["T_WHITESPACE"," ",187],".",["T_WHITESPACE"," ",187],["T_STRING","urlencode",187],"(",["T_VARIABLE","$value",187],")",";",["T_WHITESPACE","\n        ",187],"}",["T_WHITESPACE","\n\n        ",188],["T_RETURN","return",190],["T_WHITESPACE"," ",190],["T_VARIABLE","$cookies",190],";",["T_WHITESPACE","\n    ",190],"}",["T_WHITESPACE","\n\n    ",191],["T_DOC_COMMENT","\/**\n     * Validate url data passed to constructor.\n     *\n     * @access private\n     * @return boolean\n     *\/",193],["T_WHITESPACE","\n    ",198],["T_FUNCTION","function",199],["T_WHITESPACE"," ",199],["T_STRING","_validateUrl",199],"(",")",["T_WHITESPACE","\n    ",199],"{",["T_WHITESPACE","\n        ",200],["T_IF","if",201],["T_WHITESPACE"," ",201],"(","!",["T_STRING","is_array",201],"(",["T_VARIABLE","$this",201],["T_OBJECT_OPERATOR","->",201],["T_STRING","urlparts",201],")",["T_WHITESPACE"," ",201],")",["T_WHITESPACE"," ",201],"{",["T_WHITESPACE","\n            ",201],["T_VARIABLE","$this",202],["T_OBJECT_OPERATOR","->",202],["T_STRING","_raiseSoapFault",202],"(",["T_CONSTANT_ENCAPSED_STRING","'Unable to parse URL '",202],["T_WHITESPACE"," ",202],".",["T_WHITESPACE"," ",202],["T_VARIABLE","$this",202],["T_OBJECT_OPERATOR","->",202],["T_STRING","url",202],")",";",["T_WHITESPACE","\n            ",202],["T_RETURN","return",203],["T_WHITESPACE"," ",203],["T_STRING","false",203],";",["T_WHITESPACE","\n        ",203],"}",["T_WHITESPACE","\n        ",204],["T_IF","if",205],["T_WHITESPACE"," ",205],"(","!",["T_ISSET","isset",205],"(",["T_VARIABLE","$this",205],["T_OBJECT_OPERATOR","->",205],["T_STRING","urlparts",205],"[",["T_CONSTANT_ENCAPSED_STRING","'host'",205],"]",")",")",["T_WHITESPACE"," ",205],"{",["T_WHITESPACE","\n            ",205],["T_VARIABLE","$this",206],["T_OBJECT_OPERATOR","->",206],["T_STRING","_raiseSoapFault",206],"(",["T_CONSTANT_ENCAPSED_STRING","'No host in URL '",206],["T_WHITESPACE"," ",206],".",["T_WHITESPACE"," ",206],["T_VARIABLE","$this",206],["T_OBJECT_OPERATOR","->",206],["T_STRING","url",206],")",";",["T_WHITESPACE","\n            ",206],["T_RETURN","return",207],["T_WHITESPACE"," ",207],["T_STRING","false",207],";",["T_WHITESPACE","\n        ",207],"}",["T_WHITESPACE","\n        ",208],["T_IF","if",209],["T_WHITESPACE"," ",209],"(","!",["T_ISSET","isset",209],"(",["T_VARIABLE","$this",209],["T_OBJECT_OPERATOR","->",209],["T_STRING","urlparts",209],"[",["T_CONSTANT_ENCAPSED_STRING","'port'",209],"]",")",")",["T_WHITESPACE"," ",209],"{",["T_WHITESPACE","\n            ",209],["T_IF","if",210],["T_WHITESPACE"," ",210],"(",["T_STRING","strcasecmp",210],"(",["T_VARIABLE","$this",210],["T_OBJECT_OPERATOR","->",210],["T_STRING","urlparts",210],"[",["T_CONSTANT_ENCAPSED_STRING","'scheme'",210],"]",",",["T_WHITESPACE"," ",210],["T_CONSTANT_ENCAPSED_STRING","'HTTP'",210],")",["T_WHITESPACE"," ",210],["T_IS_EQUAL","==",210],["T_WHITESPACE"," ",210],["T_LNUMBER","0",210],")",["T_WHITESPACE"," ",210],"{",["T_WHITESPACE","\n                ",210],["T_VARIABLE","$this",211],["T_OBJECT_OPERATOR","->",211],["T_STRING","urlparts",211],"[",["T_CONSTANT_ENCAPSED_STRING","'port'",211],"]",["T_WHITESPACE"," ",211],"=",["T_WHITESPACE"," ",211],["T_LNUMBER","80",211],";",["T_WHITESPACE","\n            ",211],"}",["T_WHITESPACE"," ",212],["T_ELSEIF","elseif",212],["T_WHITESPACE"," ",212],"(",["T_STRING","strcasecmp",212],"(",["T_VARIABLE","$this",212],["T_OBJECT_OPERATOR","->",212],["T_STRING","urlparts",212],"[",["T_CONSTANT_ENCAPSED_STRING","'scheme'",212],"]",",",["T_WHITESPACE"," ",212],["T_CONSTANT_ENCAPSED_STRING","'HTTPS'",212],")",["T_WHITESPACE"," ",212],["T_IS_EQUAL","==",212],["T_WHITESPACE"," ",212],["T_LNUMBER","0",212],")",["T_WHITESPACE"," ",212],"{",["T_WHITESPACE","\n                ",212],["T_VARIABLE","$this",213],["T_OBJECT_OPERATOR","->",213],["T_STRING","urlparts",213],"[",["T_CONSTANT_ENCAPSED_STRING","'port'",213],"]",["T_WHITESPACE"," ",213],"=",["T_WHITESPACE"," ",213],["T_LNUMBER","443",213],";",["T_WHITESPACE","\n            ",213],"}",["T_WHITESPACE","\n\n        ",214],"}",["T_WHITESPACE","\n        ",216],["T_IF","if",217],["T_WHITESPACE"," ",217],"(",["T_ISSET","isset",217],"(",["T_VARIABLE","$this",217],["T_OBJECT_OPERATOR","->",217],["T_STRING","urlparts",217],"[",["T_CONSTANT_ENCAPSED_STRING","'user'",217],"]",")",")",["T_WHITESPACE"," ",217],"{",["T_WHITESPACE","\n            ",217],["T_VARIABLE","$this",218],["T_OBJECT_OPERATOR","->",218],["T_STRING","setCredentials",218],"(",["T_STRING","urldecode",218],"(",["T_VARIABLE","$this",218],["T_OBJECT_OPERATOR","->",218],["T_STRING","urlparts",218],"[",["T_CONSTANT_ENCAPSED_STRING","'user'",218],"]",")",",",["T_WHITESPACE","\n                                  ",218],["T_STRING","urldecode",219],"(",["T_VARIABLE","$this",219],["T_OBJECT_OPERATOR","->",219],["T_STRING","urlparts",219],"[",["T_CONSTANT_ENCAPSED_STRING","'pass'",219],"]",")",")",";",["T_WHITESPACE","\n        ",219],"}",["T_WHITESPACE","\n        ",220],["T_IF","if",221],["T_WHITESPACE"," ",221],"(","!",["T_ISSET","isset",221],"(",["T_VARIABLE","$this",221],["T_OBJECT_OPERATOR","->",221],["T_STRING","urlparts",221],"[",["T_CONSTANT_ENCAPSED_STRING","'path'",221],"]",")",["T_WHITESPACE"," ",221],["T_BOOLEAN_OR","||",221],["T_WHITESPACE"," ",221],"!",["T_VARIABLE","$this",221],["T_OBJECT_OPERATOR","->",221],["T_STRING","urlparts",221],"[",["T_CONSTANT_ENCAPSED_STRING","'path'",221],"]",")",["T_WHITESPACE"," ",221],"{",["T_WHITESPACE","\n            ",221],["T_VARIABLE","$this",222],["T_OBJECT_OPERATOR","->",222],["T_STRING","urlparts",222],"[",["T_CONSTANT_ENCAPSED_STRING","'path'",222],"]",["T_WHITESPACE"," ",222],"=",["T_WHITESPACE"," ",222],["T_CONSTANT_ENCAPSED_STRING","'\/'",222],";",["T_WHITESPACE","\n        ",222],"}",["T_WHITESPACE","\n\n        ",223],["T_RETURN","return",225],["T_WHITESPACE"," ",225],["T_STRING","true",225],";",["T_WHITESPACE","\n    ",225],"}",["T_WHITESPACE","\n\n    ",226],["T_DOC_COMMENT","\/**\n     * Finds out what the encoding is.\n     * Sets the object property accordingly.\n     *\n     * @access private\n     * @param array $headers  Headers.\n     *\/",228],["T_WHITESPACE","\n    ",234],["T_FUNCTION","function",235],["T_WHITESPACE"," ",235],["T_STRING","_parseEncoding",235],"(",["T_VARIABLE","$headers",235],")",["T_WHITESPACE","\n    ",235],"{",["T_WHITESPACE","\n        ",236],["T_VARIABLE","$h",237],["T_WHITESPACE"," ",237],"=",["T_WHITESPACE"," ",237],["T_STRING","stristr",237],"(",["T_VARIABLE","$headers",237],",",["T_WHITESPACE"," ",237],["T_CONSTANT_ENCAPSED_STRING","'Content-Type'",237],")",";",["T_WHITESPACE","\n        ",237],["T_STRING","preg_match_all",238],"(",["T_CONSTANT_ENCAPSED_STRING","'\/^Content-Type:\\s*(.*)$\/im'",238],",",["T_WHITESPACE"," ",238],["T_VARIABLE","$h",238],",",["T_WHITESPACE"," ",238],["T_VARIABLE","$ct",238],",",["T_WHITESPACE"," ",238],["T_STRING","PREG_SET_ORDER",238],")",";",["T_WHITESPACE","\n        ",238],["T_VARIABLE","$n",239],["T_WHITESPACE"," ",239],"=",["T_WHITESPACE"," ",239],["T_STRING","count",239],"(",["T_VARIABLE","$ct",239],")",";",["T_WHITESPACE","\n        ",239],["T_VARIABLE","$ct",240],["T_WHITESPACE"," ",240],"=",["T_WHITESPACE"," ",240],["T_VARIABLE","$ct",240],"[",["T_VARIABLE","$n",240],["T_WHITESPACE"," ",240],"-",["T_WHITESPACE"," ",240],["T_LNUMBER","1",240],"]",";",["T_WHITESPACE","\n\n        ",240],["T_COMMENT","\/\/ Strip the string of \\r.\n",242],["T_WHITESPACE","        ",243],["T_VARIABLE","$this",243],["T_OBJECT_OPERATOR","->",243],["T_STRING","result_content_type",243],["T_WHITESPACE"," ",243],"=",["T_WHITESPACE"," ",243],["T_STRING","str_replace",243],"(",["T_CONSTANT_ENCAPSED_STRING","\"\\r\"",243],",",["T_WHITESPACE"," ",243],["T_CONSTANT_ENCAPSED_STRING","''",243],",",["T_WHITESPACE"," ",243],["T_VARIABLE","$ct",243],"[",["T_LNUMBER","1",243],"]",")",";",["T_WHITESPACE","\n\n        ",243],["T_IF","if",245],["T_WHITESPACE"," ",245],"(",["T_STRING","preg_match",245],"(",["T_CONSTANT_ENCAPSED_STRING","'\/(.*?)(?:;\\s?charset=)(.*)\/i'",245],",",["T_WHITESPACE","\n                       ",245],["T_VARIABLE","$this",246],["T_OBJECT_OPERATOR","->",246],["T_STRING","result_content_type",246],",",["T_WHITESPACE","\n                       ",246],["T_VARIABLE","$m",247],")",")",["T_WHITESPACE"," ",247],"{",["T_WHITESPACE","\n            ",247],["T_VARIABLE","$this",248],["T_OBJECT_OPERATOR","->",248],["T_STRING","result_content_type",248],["T_WHITESPACE"," ",248],"=",["T_WHITESPACE"," ",248],["T_VARIABLE","$m",248],"[",["T_LNUMBER","1",248],"]",";",["T_WHITESPACE","\n            ",248],["T_IF","if",249],["T_WHITESPACE"," ",249],"(",["T_STRING","count",249],"(",["T_VARIABLE","$m",249],")",["T_WHITESPACE"," ",249],">",["T_WHITESPACE"," ",249],["T_LNUMBER","2",249],")",["T_WHITESPACE"," ",249],"{",["T_WHITESPACE","\n                ",249],["T_VARIABLE","$enc",250],["T_WHITESPACE"," ",250],"=",["T_WHITESPACE"," ",250],["T_STRING","strtoupper",250],"(",["T_STRING","str_replace",250],"(",["T_CONSTANT_ENCAPSED_STRING","'\"'",250],",",["T_WHITESPACE"," ",250],["T_CONSTANT_ENCAPSED_STRING","''",250],",",["T_WHITESPACE"," ",250],["T_VARIABLE","$m",250],"[",["T_LNUMBER","2",250],"]",")",")",";",["T_WHITESPACE","\n                ",250],["T_IF","if",251],["T_WHITESPACE"," ",251],"(",["T_STRING","in_array",251],"(",["T_VARIABLE","$enc",251],",",["T_WHITESPACE"," ",251],["T_VARIABLE","$this",251],["T_OBJECT_OPERATOR","->",251],["T_STRING","_encodings",251],")",")",["T_WHITESPACE"," ",251],"{",["T_WHITESPACE","\n                    ",251],["T_VARIABLE","$this",252],["T_OBJECT_OPERATOR","->",252],["T_STRING","result_encoding",252],["T_WHITESPACE"," ",252],"=",["T_WHITESPACE"," ",252],["T_VARIABLE","$enc",252],";",["T_WHITESPACE","\n                ",252],"}",["T_WHITESPACE","\n            ",253],"}",["T_WHITESPACE","\n        ",254],"}",["T_WHITESPACE","\n\n        ",255],["T_COMMENT","\/\/ Deal with broken servers that don't set content type on faults.\n",257],["T_WHITESPACE","        ",258],["T_IF","if",258],["T_WHITESPACE"," ",258],"(","!",["T_VARIABLE","$this",258],["T_OBJECT_OPERATOR","->",258],["T_STRING","result_content_type",258],")",["T_WHITESPACE"," ",258],"{",["T_WHITESPACE","\n            ",258],["T_VARIABLE","$this",259],["T_OBJECT_OPERATOR","->",259],["T_STRING","result_content_type",259],["T_WHITESPACE"," ",259],"=",["T_WHITESPACE"," ",259],["T_CONSTANT_ENCAPSED_STRING","'text\/xml'",259],";",["T_WHITESPACE","\n        ",259],"}",["T_WHITESPACE","\n    ",260],"}",["T_WHITESPACE","\n\n    ",261],["T_DOC_COMMENT","\/**\n     * Parses the headers.\n     *\n     * @param array $headers  The headers.\n     *\/",263],["T_WHITESPACE","\n    ",267],["T_FUNCTION","function",268],["T_WHITESPACE"," ",268],["T_STRING","_parseHeaders",268],"(",["T_VARIABLE","$headers",268],")",["T_WHITESPACE","\n    ",268],"{",["T_WHITESPACE","\n        ",269],["T_COMMENT","\/* Largely borrowed from HTTP_Request. *\/",270],["T_WHITESPACE","\n        ",270],["T_VARIABLE","$this",271],["T_OBJECT_OPERATOR","->",271],["T_STRING","result_headers",271],["T_WHITESPACE"," ",271],"=",["T_WHITESPACE"," ",271],["T_ARRAY","array",271],"(",")",";",["T_WHITESPACE","\n        ",271],["T_VARIABLE","$headers",272],["T_WHITESPACE"," ",272],"=",["T_WHITESPACE"," ",272],["T_STRING","preg_split",272],"(",["T_CONSTANT_ENCAPSED_STRING","'\/\\r?\\n\/'",272],",",["T_WHITESPACE"," ",272],["T_VARIABLE","$headers",272],")",";",["T_WHITESPACE","\n        ",272],["T_FOREACH","foreach",273],["T_WHITESPACE"," ",273],"(",["T_VARIABLE","$headers",273],["T_WHITESPACE"," ",273],["T_AS","as",273],["T_WHITESPACE"," ",273],["T_VARIABLE","$value",273],")",["T_WHITESPACE"," ",273],"{",["T_WHITESPACE","\n            ",273],["T_IF","if",274],["T_WHITESPACE"," ",274],"(",["T_STRING","strpos",274],"(",["T_VARIABLE","$value",274],",",["T_CONSTANT_ENCAPSED_STRING","':'",274],")",["T_WHITESPACE"," ",274],["T_IS_IDENTICAL","===",274],["T_WHITESPACE"," ",274],["T_STRING","false",274],")",["T_WHITESPACE"," ",274],"{",["T_WHITESPACE","\n                ",274],["T_VARIABLE","$this",275],["T_OBJECT_OPERATOR","->",275],["T_STRING","result_headers",275],"[",["T_LNUMBER","0",275],"]",["T_WHITESPACE"," ",275],"=",["T_WHITESPACE"," ",275],["T_VARIABLE","$value",275],";",["T_WHITESPACE","\n                ",275],["T_CONTINUE","continue",276],";",["T_WHITESPACE","\n            ",276],"}",["T_WHITESPACE","\n            ",277],["T_LIST","list",278],"(",["T_VARIABLE","$name",278],",",["T_WHITESPACE"," ",278],["T_VARIABLE","$value",278],")",["T_WHITESPACE"," ",278],"=",["T_WHITESPACE"," ",278],["T_STRING","explode",278],"(",["T_CONSTANT_ENCAPSED_STRING","':'",278],",",["T_WHITESPACE"," ",278],["T_VARIABLE","$value",278],")",";",["T_WHITESPACE","\n            ",278],["T_VARIABLE","$headername",279],["T_WHITESPACE"," ",279],"=",["T_WHITESPACE"," ",279],["T_STRING","strtolower",279],"(",["T_VARIABLE","$name",279],")",";",["T_WHITESPACE","\n            ",279],["T_VARIABLE","$headervalue",280],["T_WHITESPACE"," ",280],"=",["T_WHITESPACE"," ",280],["T_STRING","trim",280],"(",["T_VARIABLE","$value",280],")",";",["T_WHITESPACE","\n            ",280],["T_VARIABLE","$this",281],["T_OBJECT_OPERATOR","->",281],["T_STRING","result_headers",281],"[",["T_VARIABLE","$headername",281],"]",["T_WHITESPACE"," ",281],"=",["T_WHITESPACE"," ",281],["T_VARIABLE","$headervalue",281],";",["T_WHITESPACE","\n\n            ",281],["T_IF","if",283],["T_WHITESPACE"," ",283],"(",["T_VARIABLE","$headername",283],["T_WHITESPACE"," ",283],["T_IS_EQUAL","==",283],["T_WHITESPACE"," ",283],["T_CONSTANT_ENCAPSED_STRING","'set-cookie'",283],")",["T_WHITESPACE"," ",283],"{",["T_WHITESPACE","\n                ",283],["T_COMMENT","\/\/ Parse a SetCookie header to fill _cookies array.\n",284],["T_WHITESPACE","                ",285],["T_VARIABLE","$cookie",285],["T_WHITESPACE"," ",285],"=",["T_WHITESPACE"," ",285],["T_ARRAY","array",285],"(",["T_CONSTANT_ENCAPSED_STRING","'expires'",285],["T_WHITESPACE"," ",285],["T_DOUBLE_ARROW","=>",285],["T_WHITESPACE"," ",285],["T_STRING","null",285],",",["T_WHITESPACE","\n                                ",285],["T_CONSTANT_ENCAPSED_STRING","'domain'",286],["T_WHITESPACE","  ",286],["T_DOUBLE_ARROW","=>",286],["T_WHITESPACE"," ",286],["T_VARIABLE","$this",286],["T_OBJECT_OPERATOR","->",286],["T_STRING","urlparts",286],"[",["T_CONSTANT_ENCAPSED_STRING","'host'",286],"]",",",["T_WHITESPACE","\n                                ",286],["T_CONSTANT_ENCAPSED_STRING","'path'",287],["T_WHITESPACE","    ",287],["T_DOUBLE_ARROW","=>",287],["T_WHITESPACE"," ",287],["T_STRING","null",287],",",["T_WHITESPACE","\n                                ",287],["T_CONSTANT_ENCAPSED_STRING","'secure'",288],["T_WHITESPACE","  ",288],["T_DOUBLE_ARROW","=>",288],["T_WHITESPACE"," ",288],["T_STRING","false",288],")",";",["T_WHITESPACE","\n\n                ",288],["T_IF","if",290],["T_WHITESPACE"," ",290],"(","!",["T_STRING","strpos",290],"(",["T_VARIABLE","$headervalue",290],",",["T_WHITESPACE"," ",290],["T_CONSTANT_ENCAPSED_STRING","';'",290],")",")",["T_WHITESPACE"," ",290],"{",["T_WHITESPACE","\n                    ",290],["T_COMMENT","\/\/ Only a name=value pair.\n",291],["T_WHITESPACE","                    ",292],["T_LIST","list",292],"(",["T_VARIABLE","$cookie",292],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",292],"]",",",["T_WHITESPACE"," ",292],["T_VARIABLE","$cookie",292],"[",["T_CONSTANT_ENCAPSED_STRING","'value'",292],"]",")",["T_WHITESPACE"," ",292],"=",["T_WHITESPACE"," ",292],["T_STRING","array_map",292],"(",["T_CONSTANT_ENCAPSED_STRING","'trim'",292],",",["T_WHITESPACE"," ",292],["T_STRING","explode",292],"(",["T_CONSTANT_ENCAPSED_STRING","'='",292],",",["T_WHITESPACE"," ",292],["T_VARIABLE","$headervalue",292],")",")",";",["T_WHITESPACE","\n                    ",292],["T_VARIABLE","$cookie",293],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",293],"]",["T_WHITESPACE","  ",293],"=",["T_WHITESPACE"," ",293],["T_STRING","urldecode",293],"(",["T_VARIABLE","$cookie",293],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",293],"]",")",";",["T_WHITESPACE","\n                    ",293],["T_VARIABLE","$cookie",294],"[",["T_CONSTANT_ENCAPSED_STRING","'value'",294],"]",["T_WHITESPACE"," ",294],"=",["T_WHITESPACE"," ",294],["T_STRING","urldecode",294],"(",["T_VARIABLE","$cookie",294],"[",["T_CONSTANT_ENCAPSED_STRING","'value'",294],"]",")",";",["T_WHITESPACE","\n\n                ",294],"}",["T_WHITESPACE"," ",296],["T_ELSE","else",296],["T_WHITESPACE"," ",296],"{",["T_WHITESPACE","\n                    ",296],["T_COMMENT","\/\/ Some optional parameters are supplied.\n",297],["T_WHITESPACE","                    ",298],["T_VARIABLE","$elements",298],["T_WHITESPACE"," ",298],"=",["T_WHITESPACE"," ",298],["T_STRING","explode",298],"(",["T_CONSTANT_ENCAPSED_STRING","';'",298],",",["T_WHITESPACE"," ",298],["T_VARIABLE","$headervalue",298],")",";",["T_WHITESPACE","\n                    ",298],["T_LIST","list",299],"(",["T_VARIABLE","$cookie",299],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",299],"]",",",["T_WHITESPACE"," ",299],["T_VARIABLE","$cookie",299],"[",["T_CONSTANT_ENCAPSED_STRING","'value'",299],"]",")",["T_WHITESPACE"," ",299],"=",["T_WHITESPACE"," ",299],["T_STRING","array_map",299],"(",["T_CONSTANT_ENCAPSED_STRING","'trim'",299],",",["T_WHITESPACE"," ",299],["T_STRING","explode",299],"(",["T_CONSTANT_ENCAPSED_STRING","'='",299],",",["T_WHITESPACE"," ",299],["T_VARIABLE","$elements",299],"[",["T_LNUMBER","0",299],"]",")",")",";",["T_WHITESPACE","\n                    ",299],["T_VARIABLE","$cookie",300],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",300],"]",["T_WHITESPACE","  ",300],"=",["T_WHITESPACE"," ",300],["T_STRING","urldecode",300],"(",["T_VARIABLE","$cookie",300],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",300],"]",")",";",["T_WHITESPACE","\n                    ",300],["T_VARIABLE","$cookie",301],"[",["T_CONSTANT_ENCAPSED_STRING","'value'",301],"]",["T_WHITESPACE"," ",301],"=",["T_WHITESPACE"," ",301],["T_STRING","urldecode",301],"(",["T_VARIABLE","$cookie",301],"[",["T_CONSTANT_ENCAPSED_STRING","'value'",301],"]",")",";",["T_WHITESPACE","\n\n                    ",301],["T_FOR","for",303],["T_WHITESPACE"," ",303],"(",["T_VARIABLE","$i",303],["T_WHITESPACE"," ",303],"=",["T_WHITESPACE"," ",303],["T_LNUMBER","1",303],";",["T_WHITESPACE"," ",303],["T_VARIABLE","$i",303],["T_WHITESPACE"," ",303],"<",["T_WHITESPACE"," ",303],["T_STRING","count",303],"(",["T_VARIABLE","$elements",303],")",";",["T_VARIABLE","$i",303],["T_INC","++",303],")",["T_WHITESPACE"," ",303],"{",["T_WHITESPACE","\n                        ",303],["T_LIST","list",304],"(",["T_VARIABLE","$elName",304],",",["T_WHITESPACE"," ",304],["T_VARIABLE","$elValue",304],")",["T_WHITESPACE"," ",304],"=",["T_WHITESPACE"," ",304],["T_STRING","array_map",304],"(",["T_CONSTANT_ENCAPSED_STRING","'trim'",304],",",["T_WHITESPACE"," ",304],["T_STRING","explode",304],"(",["T_CONSTANT_ENCAPSED_STRING","'='",304],",",["T_WHITESPACE"," ",304],["T_VARIABLE","$elements",304],"[",["T_VARIABLE","$i",304],"]",")",")",";",["T_WHITESPACE","\n                        ",304],["T_IF","if",305],["T_WHITESPACE"," ",305],"(",["T_CONSTANT_ENCAPSED_STRING","'secure'",305],["T_WHITESPACE"," ",305],["T_IS_EQUAL","==",305],["T_WHITESPACE"," ",305],["T_VARIABLE","$elName",305],")",["T_WHITESPACE"," ",305],"{",["T_WHITESPACE","\n                            ",305],["T_VARIABLE","$cookie",306],"[",["T_CONSTANT_ENCAPSED_STRING","'secure'",306],"]",["T_WHITESPACE"," ",306],"=",["T_WHITESPACE"," ",306],["T_STRING","true",306],";",["T_WHITESPACE","\n                        ",306],"}",["T_WHITESPACE"," ",307],["T_ELSEIF","elseif",307],["T_WHITESPACE"," ",307],"(",["T_CONSTANT_ENCAPSED_STRING","'expires'",307],["T_WHITESPACE"," ",307],["T_IS_EQUAL","==",307],["T_WHITESPACE"," ",307],["T_VARIABLE","$elName",307],")",["T_WHITESPACE"," ",307],"{",["T_WHITESPACE","\n                            ",307],["T_VARIABLE","$cookie",308],"[",["T_CONSTANT_ENCAPSED_STRING","'expires'",308],"]",["T_WHITESPACE"," ",308],"=",["T_WHITESPACE"," ",308],["T_STRING","str_replace",308],"(",["T_CONSTANT_ENCAPSED_STRING","'\"'",308],",",["T_WHITESPACE"," ",308],["T_CONSTANT_ENCAPSED_STRING","''",308],",",["T_WHITESPACE"," ",308],["T_VARIABLE","$elValue",308],")",";",["T_WHITESPACE","\n                        ",308],"}",["T_WHITESPACE"," ",309],["T_ELSEIF","elseif",309],["T_WHITESPACE"," ",309],"(",["T_CONSTANT_ENCAPSED_STRING","'path'",309],["T_WHITESPACE"," ",309],["T_IS_EQUAL","==",309],["T_WHITESPACE"," ",309],["T_VARIABLE","$elName",309],["T_WHITESPACE"," ",309],["T_LOGICAL_OR","OR",309],["T_WHITESPACE"," ",309],["T_CONSTANT_ENCAPSED_STRING","'domain'",309],["T_WHITESPACE"," ",309],["T_IS_EQUAL","==",309],["T_WHITESPACE"," ",309],["T_VARIABLE","$elName",309],")",["T_WHITESPACE"," ",309],"{",["T_WHITESPACE","\n                            ",309],["T_VARIABLE","$cookie",310],"[",["T_VARIABLE","$elName",310],"]",["T_WHITESPACE"," ",310],"=",["T_WHITESPACE"," ",310],["T_STRING","urldecode",310],"(",["T_VARIABLE","$elValue",310],")",";",["T_WHITESPACE","\n                        ",310],"}",["T_WHITESPACE"," ",311],["T_ELSE","else",311],["T_WHITESPACE"," ",311],"{",["T_WHITESPACE","\n                            ",311],["T_VARIABLE","$cookie",312],"[",["T_VARIABLE","$elName",312],"]",["T_WHITESPACE"," ",312],"=",["T_WHITESPACE"," ",312],["T_VARIABLE","$elValue",312],";",["T_WHITESPACE","\n                        ",312],"}",["T_WHITESPACE","\n                    ",313],"}",["T_WHITESPACE","\n                ",314],"}",["T_WHITESPACE","\n                ",315],["T_VARIABLE","$this",316],["T_OBJECT_OPERATOR","->",316],["T_STRING","result_cookies",316],"[","]",["T_WHITESPACE"," ",316],"=",["T_WHITESPACE"," ",316],["T_VARIABLE","$cookie",316],";",["T_WHITESPACE","\n            ",316],"}",["T_WHITESPACE","\n        ",317],"}",["T_WHITESPACE","\n    ",318],"}",["T_WHITESPACE","\n\n    ",319],["T_DOC_COMMENT","\/**\n     * Removes HTTP headers from response.\n     *\n     * @return boolean\n     * @access private\n     *\/",321],["T_WHITESPACE","\n    ",326],["T_FUNCTION","function",327],["T_WHITESPACE"," ",327],["T_STRING","_parseResponse",327],"(",")",["T_WHITESPACE","\n    ",327],"{",["T_WHITESPACE","\n        ",328],["T_IF","if",329],["T_WHITESPACE"," ",329],"(","!",["T_STRING","preg_match",329],"(",["T_CONSTANT_ENCAPSED_STRING","\"\/^(.*?)\\r?\\n\\r?\\n(.*)\/s\"",329],",",["T_WHITESPACE","\n                       ",329],["T_VARIABLE","$this",330],["T_OBJECT_OPERATOR","->",330],["T_STRING","incoming_payload",330],",",["T_WHITESPACE","\n                       ",330],["T_VARIABLE","$match",331],")",")",["T_WHITESPACE"," ",331],"{",["T_WHITESPACE","\n            ",331],["T_VARIABLE","$this",332],["T_OBJECT_OPERATOR","->",332],["T_STRING","_raiseSoapFault",332],"(",["T_CONSTANT_ENCAPSED_STRING","'Invalid HTTP Response'",332],")",";",["T_WHITESPACE","\n            ",332],["T_RETURN","return",333],["T_WHITESPACE"," ",333],["T_STRING","false",333],";",["T_WHITESPACE","\n        ",333],"}",["T_WHITESPACE","\n\n        ",334],["T_VARIABLE","$this",336],["T_OBJECT_OPERATOR","->",336],["T_STRING","response",336],["T_WHITESPACE"," ",336],"=",["T_WHITESPACE"," ",336],["T_VARIABLE","$match",336],"[",["T_LNUMBER","2",336],"]",";",["T_WHITESPACE","\n        ",336],["T_COMMENT","\/\/ Find the response error, some servers response with 500 for\n",337],["T_WHITESPACE","        ",338],["T_COMMENT","\/\/ SOAP faults.\n",338],["T_WHITESPACE","        ",339],["T_VARIABLE","$this",339],["T_OBJECT_OPERATOR","->",339],["T_STRING","_parseHeaders",339],"(",["T_VARIABLE","$match",339],"[",["T_LNUMBER","1",339],"]",")",";",["T_WHITESPACE","\n\n        ",339],["T_LIST","list",341],"(",",",["T_WHITESPACE"," ",341],["T_VARIABLE","$code",341],",",["T_WHITESPACE"," ",341],["T_VARIABLE","$msg",341],")",["T_WHITESPACE"," ",341],"=",["T_WHITESPACE"," ",341],["T_STRING","sscanf",341],"(",["T_VARIABLE","$this",341],["T_OBJECT_OPERATOR","->",341],["T_STRING","result_headers",341],"[",["T_LNUMBER","0",341],"]",",",["T_WHITESPACE"," ",341],["T_CONSTANT_ENCAPSED_STRING","'%s %s %s'",341],")",";",["T_WHITESPACE","\n        ",341],["T_UNSET","unset",342],"(",["T_VARIABLE","$this",342],["T_OBJECT_OPERATOR","->",342],["T_STRING","result_headers",342],"[",["T_LNUMBER","0",342],"]",")",";",["T_WHITESPACE","\n\n        ",342],["T_SWITCH","switch",344],"(",["T_VARIABLE","$code",344],")",["T_WHITESPACE"," ",344],"{",["T_WHITESPACE","\n            ",344],["T_CASE","case",345],["T_WHITESPACE"," ",345],["T_LNUMBER","100",345],":",["T_WHITESPACE"," ",345],["T_COMMENT","\/\/ Continue\n",345],["T_WHITESPACE","                ",346],["T_VARIABLE","$this",346],["T_OBJECT_OPERATOR","->",346],["T_STRING","incoming_payload",346],["T_WHITESPACE"," ",346],"=",["T_WHITESPACE"," ",346],["T_VARIABLE","$match",346],"[",["T_LNUMBER","2",346],"]",";",["T_WHITESPACE","\n                ",346],["T_RETURN","return",347],["T_WHITESPACE"," ",347],["T_VARIABLE","$this",347],["T_OBJECT_OPERATOR","->",347],["T_STRING","_parseResponse",347],"(",")",";",["T_WHITESPACE","\n            ",347],["T_CASE","case",348],["T_WHITESPACE"," ",348],["T_LNUMBER","200",348],":",["T_WHITESPACE","\n            ",348],["T_CASE","case",349],["T_WHITESPACE"," ",349],["T_LNUMBER","202",349],":",["T_WHITESPACE","\n                ",349],["T_VARIABLE","$this",350],["T_OBJECT_OPERATOR","->",350],["T_STRING","incoming_payload",350],["T_WHITESPACE"," ",350],"=",["T_WHITESPACE"," ",350],["T_STRING","trim",350],"(",["T_VARIABLE","$match",350],"[",["T_LNUMBER","2",350],"]",")",";",["T_WHITESPACE","\n                ",350],["T_IF","if",351],["T_WHITESPACE"," ",351],"(","!",["T_STRING","strlen",351],"(",["T_VARIABLE","$this",351],["T_OBJECT_OPERATOR","->",351],["T_STRING","incoming_payload",351],")",")",["T_WHITESPACE"," ",351],"{",["T_WHITESPACE","\n                    ",351],["T_COMMENT","\/* Valid one-way message response. *\/",352],["T_WHITESPACE","\n                    ",352],["T_RETURN","return",353],["T_WHITESPACE"," ",353],["T_STRING","true",353],";",["T_WHITESPACE","\n                ",353],"}",["T_WHITESPACE","\n                ",354],["T_BREAK","break",355],";",["T_WHITESPACE","\n            ",355],["T_CASE","case",356],["T_WHITESPACE"," ",356],["T_LNUMBER","400",356],":",["T_WHITESPACE","\n                ",356],["T_VARIABLE","$this",357],["T_OBJECT_OPERATOR","->",357],["T_STRING","_raiseSoapFault",357],"(","\"",["T_ENCAPSED_AND_WHITESPACE","HTTP Response ",357],["T_VARIABLE","$code",357],["T_ENCAPSED_AND_WHITESPACE"," Bad Request",357],"\"",")",";",["T_WHITESPACE","\n                ",357],["T_RETURN","return",358],["T_WHITESPACE"," ",358],["T_STRING","false",358],";",["T_WHITESPACE","\n            ",358],["T_CASE","case",359],["T_WHITESPACE"," ",359],["T_LNUMBER","401",359],":",["T_WHITESPACE","\n                ",359],["T_VARIABLE","$this",360],["T_OBJECT_OPERATOR","->",360],["T_STRING","_raiseSoapFault",360],"(","\"",["T_ENCAPSED_AND_WHITESPACE","HTTP Response ",360],["T_VARIABLE","$code",360],["T_ENCAPSED_AND_WHITESPACE"," Authentication Failed",360],"\"",")",";",["T_WHITESPACE","\n                ",360],["T_RETURN","return",361],["T_WHITESPACE"," ",361],["T_STRING","false",361],";",["T_WHITESPACE","\n            ",361],["T_CASE","case",362],["T_WHITESPACE"," ",362],["T_LNUMBER","403",362],":",["T_WHITESPACE","\n                ",362],["T_VARIABLE","$this",363],["T_OBJECT_OPERATOR","->",363],["T_STRING","_raiseSoapFault",363],"(","\"",["T_ENCAPSED_AND_WHITESPACE","HTTP Response ",363],["T_VARIABLE","$code",363],["T_ENCAPSED_AND_WHITESPACE"," Forbidden",363],"\"",")",";",["T_WHITESPACE","\n                ",363],["T_RETURN","return",364],["T_WHITESPACE"," ",364],["T_STRING","false",364],";",["T_WHITESPACE","\n            ",364],["T_CASE","case",365],["T_WHITESPACE"," ",365],["T_LNUMBER","404",365],":",["T_WHITESPACE","\n                ",365],["T_VARIABLE","$this",366],["T_OBJECT_OPERATOR","->",366],["T_STRING","_raiseSoapFault",366],"(","\"",["T_ENCAPSED_AND_WHITESPACE","HTTP Response ",366],["T_VARIABLE","$code",366],["T_ENCAPSED_AND_WHITESPACE"," Not Found",366],"\"",")",";",["T_WHITESPACE","\n                ",366],["T_RETURN","return",367],["T_WHITESPACE"," ",367],["T_STRING","false",367],";",["T_WHITESPACE","\n            ",367],["T_CASE","case",368],["T_WHITESPACE"," ",368],["T_LNUMBER","407",368],":",["T_WHITESPACE","\n                ",368],["T_VARIABLE","$this",369],["T_OBJECT_OPERATOR","->",369],["T_STRING","_raiseSoapFault",369],"(","\"",["T_ENCAPSED_AND_WHITESPACE","HTTP Response ",369],["T_VARIABLE","$code",369],["T_ENCAPSED_AND_WHITESPACE"," Proxy Authentication Required",369],"\"",")",";",["T_WHITESPACE","\n                ",369],["T_RETURN","return",370],["T_WHITESPACE"," ",370],["T_STRING","false",370],";",["T_WHITESPACE","\n            ",370],["T_CASE","case",371],["T_WHITESPACE"," ",371],["T_LNUMBER","408",371],":",["T_WHITESPACE","\n                ",371],["T_VARIABLE","$this",372],["T_OBJECT_OPERATOR","->",372],["T_STRING","_raiseSoapFault",372],"(","\"",["T_ENCAPSED_AND_WHITESPACE","HTTP Response ",372],["T_VARIABLE","$code",372],["T_ENCAPSED_AND_WHITESPACE"," Request Timeout",372],"\"",")",";",["T_WHITESPACE","\n                ",372],["T_RETURN","return",373],["T_WHITESPACE"," ",373],["T_STRING","false",373],";",["T_WHITESPACE","\n            ",373],["T_CASE","case",374],["T_WHITESPACE"," ",374],["T_LNUMBER","410",374],":",["T_WHITESPACE","\n                ",374],["T_VARIABLE","$this",375],["T_OBJECT_OPERATOR","->",375],["T_STRING","_raiseSoapFault",375],"(","\"",["T_ENCAPSED_AND_WHITESPACE","HTTP Response ",375],["T_VARIABLE","$code",375],["T_ENCAPSED_AND_WHITESPACE"," Gone",375],"\"",")",";",["T_WHITESPACE","\n                ",375],["T_RETURN","return",376],["T_WHITESPACE"," ",376],["T_STRING","false",376],";",["T_WHITESPACE","\n            ",376],["T_DEFAULT","default",377],":",["T_WHITESPACE","\n                ",377],["T_IF","if",378],["T_WHITESPACE"," ",378],"(",["T_VARIABLE","$code",378],["T_WHITESPACE"," ",378],["T_IS_GREATER_OR_EQUAL",">=",378],["T_WHITESPACE"," ",378],["T_LNUMBER","400",378],["T_WHITESPACE"," ",378],["T_BOOLEAN_AND","&&",378],["T_WHITESPACE"," ",378],["T_VARIABLE","$code",378],["T_WHITESPACE"," ",378],"<",["T_WHITESPACE"," ",378],["T_LNUMBER","500",378],")",["T_WHITESPACE"," ",378],"{",["T_WHITESPACE","\n                    ",378],["T_VARIABLE","$this",379],["T_OBJECT_OPERATOR","->",379],["T_STRING","_raiseSoapFault",379],"(","\"",["T_ENCAPSED_AND_WHITESPACE","HTTP Response ",379],["T_VARIABLE","$code",379],["T_ENCAPSED_AND_WHITESPACE"," Not Found, Server message: ",379],["T_VARIABLE","$msg",379],"\"",")",";",["T_WHITESPACE","\n                    ",379],["T_RETURN","return",380],["T_WHITESPACE"," ",380],["T_STRING","false",380],";",["T_WHITESPACE","\n                ",380],"}",["T_WHITESPACE","\n                ",381],["T_BREAK","break",382],";",["T_WHITESPACE","\n        ",382],"}",["T_WHITESPACE","\n\n        ",383],["T_VARIABLE","$this",385],["T_OBJECT_OPERATOR","->",385],["T_STRING","_parseEncoding",385],"(",["T_VARIABLE","$match",385],"[",["T_LNUMBER","1",385],"]",")",";",["T_WHITESPACE","\n\n        ",385],["T_IF","if",387],["T_WHITESPACE"," ",387],"(",["T_VARIABLE","$this",387],["T_OBJECT_OPERATOR","->",387],["T_STRING","result_content_type",387],["T_WHITESPACE"," ",387],["T_IS_EQUAL","==",387],["T_WHITESPACE"," ",387],["T_CONSTANT_ENCAPSED_STRING","'application\/dime'",387],")",["T_WHITESPACE"," ",387],"{",["T_WHITESPACE","\n            ",387],["T_COMMENT","\/\/ XXX quick hack insertion of DIME\n",388],["T_WHITESPACE","            ",389],["T_IF","if",389],["T_WHITESPACE"," ",389],"(",["T_STRING","PEAR",389],["T_DOUBLE_COLON","::",389],["T_STRING","isError",389],"(",["T_VARIABLE","$this",389],["T_OBJECT_OPERATOR","->",389],["T_STRING","_decodeDIMEMessage",389],"(",["T_VARIABLE","$this",389],["T_OBJECT_OPERATOR","->",389],["T_STRING","response",389],",",["T_WHITESPACE"," ",389],["T_VARIABLE","$this",389],["T_OBJECT_OPERATOR","->",389],["T_STRING","headers",389],",",["T_WHITESPACE"," ",389],["T_VARIABLE","$this",389],["T_OBJECT_OPERATOR","->",389],["T_STRING","attachments",389],")",")",")",["T_WHITESPACE"," ",389],"{",["T_WHITESPACE","\n                ",389],["T_COMMENT","\/\/ _decodeDIMEMessage already raised $this->fault\n",390],["T_WHITESPACE","                ",391],["T_RETURN","return",391],["T_WHITESPACE"," ",391],["T_STRING","false",391],";",["T_WHITESPACE","\n            ",391],"}",["T_WHITESPACE","\n            ",392],["T_VARIABLE","$this",393],["T_OBJECT_OPERATOR","->",393],["T_STRING","result_content_type",393],["T_WHITESPACE"," ",393],"=",["T_WHITESPACE"," ",393],["T_VARIABLE","$this",393],["T_OBJECT_OPERATOR","->",393],["T_STRING","headers",393],"[",["T_CONSTANT_ENCAPSED_STRING","'content-type'",393],"]",";",["T_WHITESPACE","\n        ",393],"}",["T_WHITESPACE"," ",394],["T_ELSEIF","elseif",394],["T_WHITESPACE"," ",394],"(",["T_STRING","stristr",394],"(",["T_VARIABLE","$this",394],["T_OBJECT_OPERATOR","->",394],["T_STRING","result_content_type",394],",",["T_WHITESPACE"," ",394],["T_CONSTANT_ENCAPSED_STRING","'multipart\/related'",394],")",")",["T_WHITESPACE"," ",394],"{",["T_WHITESPACE","\n            ",394],["T_VARIABLE","$this",395],["T_OBJECT_OPERATOR","->",395],["T_STRING","response",395],["T_WHITESPACE"," ",395],"=",["T_WHITESPACE"," ",395],["T_VARIABLE","$this",395],["T_OBJECT_OPERATOR","->",395],["T_STRING","incoming_payload",395],";",["T_WHITESPACE","\n            ",395],["T_IF","if",396],["T_WHITESPACE"," ",396],"(",["T_STRING","PEAR",396],["T_DOUBLE_COLON","::",396],["T_STRING","isError",396],"(",["T_VARIABLE","$this",396],["T_OBJECT_OPERATOR","->",396],["T_STRING","_decodeMimeMessage",396],"(",["T_VARIABLE","$this",396],["T_OBJECT_OPERATOR","->",396],["T_STRING","response",396],",",["T_WHITESPACE"," ",396],["T_VARIABLE","$this",396],["T_OBJECT_OPERATOR","->",396],["T_STRING","headers",396],",",["T_WHITESPACE"," ",396],["T_VARIABLE","$this",396],["T_OBJECT_OPERATOR","->",396],["T_STRING","attachments",396],")",")",")",["T_WHITESPACE"," ",396],"{",["T_WHITESPACE","\n                ",396],["T_COMMENT","\/\/ _decodeMimeMessage already raised $this->fault\n",397],["T_WHITESPACE","                ",398],["T_RETURN","return",398],["T_WHITESPACE"," ",398],["T_STRING","false",398],";",["T_WHITESPACE","\n            ",398],"}",["T_WHITESPACE","\n        ",399],"}",["T_WHITESPACE"," ",400],["T_ELSEIF","elseif",400],["T_WHITESPACE"," ",400],"(",["T_VARIABLE","$this",400],["T_OBJECT_OPERATOR","->",400],["T_STRING","result_content_type",400],["T_WHITESPACE"," ",400],["T_IS_NOT_EQUAL","!=",400],["T_WHITESPACE"," ",400],["T_CONSTANT_ENCAPSED_STRING","'text\/xml'",400],")",["T_WHITESPACE"," ",400],"{",["T_WHITESPACE","\n            ",400],["T_VARIABLE","$this",401],["T_OBJECT_OPERATOR","->",401],["T_STRING","_raiseSoapFault",401],"(",["T_VARIABLE","$this",401],["T_OBJECT_OPERATOR","->",401],["T_STRING","response",401],")",";",["T_WHITESPACE","\n            ",401],["T_RETURN","return",402],["T_WHITESPACE"," ",402],["T_STRING","false",402],";",["T_WHITESPACE","\n        ",402],"}",["T_WHITESPACE","\n\n        ",403],["T_COMMENT","\/\/ if no content, return false\n",405],["T_WHITESPACE","        ",406],["T_RETURN","return",406],["T_WHITESPACE"," ",406],["T_STRING","strlen",406],"(",["T_VARIABLE","$this",406],["T_OBJECT_OPERATOR","->",406],["T_STRING","response",406],")",["T_WHITESPACE"," ",406],">",["T_WHITESPACE"," ",406],["T_LNUMBER","0",406],";",["T_WHITESPACE","\n    ",406],"}",["T_WHITESPACE","\n\n    ",407],["T_DOC_COMMENT","\/**\n     * Creates an HTTP request, including headers, for the outgoing request.\n     *\n     * @access private\n     *\n     * @param string $msg     Outgoing SOAP package.\n     * @param array $options  Options.\n     *\n     * @return string  Outgoing payload.\n     *\/",409],["T_WHITESPACE","\n    ",418],["T_FUNCTION","function",419],["T_WHITESPACE"," ",419],["T_STRING","_getRequest",419],"(",["T_VARIABLE","$msg",419],",",["T_WHITESPACE"," ",419],["T_VARIABLE","$options",419],")",["T_WHITESPACE","\n    ",419],"{",["T_WHITESPACE","\n        ",420],["T_VARIABLE","$this",421],["T_OBJECT_OPERATOR","->",421],["T_STRING","headers",421],["T_WHITESPACE"," ",421],"=",["T_WHITESPACE"," ",421],["T_ARRAY","array",421],"(",")",";",["T_WHITESPACE","\n\n        ",421],["T_VARIABLE","$action",423],["T_WHITESPACE"," ",423],"=",["T_WHITESPACE"," ",423],["T_ISSET","isset",423],"(",["T_VARIABLE","$options",423],"[",["T_CONSTANT_ENCAPSED_STRING","'soapaction'",423],"]",")",["T_WHITESPACE"," ",423],"?",["T_WHITESPACE"," ",423],["T_VARIABLE","$options",423],"[",["T_CONSTANT_ENCAPSED_STRING","'soapaction'",423],"]",["T_WHITESPACE"," ",423],":",["T_WHITESPACE"," ",423],["T_CONSTANT_ENCAPSED_STRING","''",423],";",["T_WHITESPACE","\n        ",423],["T_VARIABLE","$fullpath",424],["T_WHITESPACE"," ",424],"=",["T_WHITESPACE"," ",424],["T_VARIABLE","$this",424],["T_OBJECT_OPERATOR","->",424],["T_STRING","urlparts",424],"[",["T_CONSTANT_ENCAPSED_STRING","'path'",424],"]",";",["T_WHITESPACE","\n        ",424],["T_IF","if",425],["T_WHITESPACE"," ",425],"(",["T_ISSET","isset",425],"(",["T_VARIABLE","$this",425],["T_OBJECT_OPERATOR","->",425],["T_STRING","urlparts",425],"[",["T_CONSTANT_ENCAPSED_STRING","'query'",425],"]",")",")",["T_WHITESPACE"," ",425],"{",["T_WHITESPACE","\n            ",425],["T_VARIABLE","$fullpath",426],["T_WHITESPACE"," ",426],["T_CONCAT_EQUAL",".=",426],["T_WHITESPACE"," ",426],["T_CONSTANT_ENCAPSED_STRING","'?'",426],["T_WHITESPACE"," ",426],".",["T_WHITESPACE"," ",426],["T_VARIABLE","$this",426],["T_OBJECT_OPERATOR","->",426],["T_STRING","urlparts",426],"[",["T_CONSTANT_ENCAPSED_STRING","'query'",426],"]",";",["T_WHITESPACE","\n        ",426],"}",["T_WHITESPACE","\n        ",427],["T_IF","if",428],["T_WHITESPACE"," ",428],"(",["T_ISSET","isset",428],"(",["T_VARIABLE","$this",428],["T_OBJECT_OPERATOR","->",428],["T_STRING","urlparts",428],"[",["T_CONSTANT_ENCAPSED_STRING","'fragment'",428],"]",")",")",["T_WHITESPACE"," ",428],"{",["T_WHITESPACE","\n            ",428],["T_VARIABLE","$fullpath",429],["T_WHITESPACE"," ",429],["T_CONCAT_EQUAL",".=",429],["T_WHITESPACE"," ",429],["T_CONSTANT_ENCAPSED_STRING","'#'",429],["T_WHITESPACE"," ",429],".",["T_WHITESPACE"," ",429],["T_VARIABLE","$this",429],["T_OBJECT_OPERATOR","->",429],["T_STRING","urlparts",429],"[",["T_CONSTANT_ENCAPSED_STRING","'fragment'",429],"]",";",["T_WHITESPACE","\n        ",429],"}",["T_WHITESPACE","\n\n        ",430],["T_IF","if",432],["T_WHITESPACE"," ",432],"(",["T_ISSET","isset",432],"(",["T_VARIABLE","$options",432],"[",["T_CONSTANT_ENCAPSED_STRING","'proxy_host'",432],"]",")",")",["T_WHITESPACE"," ",432],"{",["T_WHITESPACE","\n            ",432],["T_VARIABLE","$fullpath",433],["T_WHITESPACE"," ",433],"=",["T_WHITESPACE"," ",433],["T_CONSTANT_ENCAPSED_STRING","'http:\/\/'",433],["T_WHITESPACE"," ",433],".",["T_WHITESPACE"," ",433],["T_VARIABLE","$this",433],["T_OBJECT_OPERATOR","->",433],["T_STRING","urlparts",433],"[",["T_CONSTANT_ENCAPSED_STRING","'host'",433],"]",["T_WHITESPACE"," ",433],".",["T_WHITESPACE"," ",433],["T_CONSTANT_ENCAPSED_STRING","':'",433],["T_WHITESPACE"," ",433],".",["T_WHITESPACE","\n                ",433],["T_VARIABLE","$this",434],["T_OBJECT_OPERATOR","->",434],["T_STRING","urlparts",434],"[",["T_CONSTANT_ENCAPSED_STRING","'port'",434],"]",["T_WHITESPACE"," ",434],".",["T_WHITESPACE"," ",434],["T_VARIABLE","$fullpath",434],";",["T_WHITESPACE","\n        ",434],"}",["T_WHITESPACE","\n\n        ",435],["T_IF","if",437],["T_WHITESPACE"," ",437],"(",["T_ISSET","isset",437],"(",["T_VARIABLE","$options",437],"[",["T_CONSTANT_ENCAPSED_STRING","'proxy_user'",437],"]",")",")",["T_WHITESPACE"," ",437],"{",["T_WHITESPACE","\n            ",437],["T_VARIABLE","$this",438],["T_OBJECT_OPERATOR","->",438],["T_STRING","headers",438],"[",["T_CONSTANT_ENCAPSED_STRING","'Proxy-Authorization'",438],"]",["T_WHITESPACE"," ",438],"=",["T_WHITESPACE"," ",438],["T_CONSTANT_ENCAPSED_STRING","'Basic '",438],["T_WHITESPACE"," ",438],".",["T_WHITESPACE","\n                ",438],["T_STRING","base64_encode",439],"(",["T_VARIABLE","$options",439],"[",["T_CONSTANT_ENCAPSED_STRING","'proxy_user'",439],"]",["T_WHITESPACE"," ",439],".",["T_WHITESPACE"," ",439],["T_CONSTANT_ENCAPSED_STRING","':'",439],["T_WHITESPACE"," ",439],".",["T_WHITESPACE","\n                              ",439],["T_VARIABLE","$options",440],"[",["T_CONSTANT_ENCAPSED_STRING","'proxy_pass'",440],"]",")",";",["T_WHITESPACE","\n        ",440],"}",["T_WHITESPACE","\n\n        ",441],["T_IF","if",443],["T_WHITESPACE"," ",443],"(",["T_ISSET","isset",443],"(",["T_VARIABLE","$options",443],"[",["T_CONSTANT_ENCAPSED_STRING","'user'",443],"]",")",")",["T_WHITESPACE"," ",443],"{",["T_WHITESPACE","\n            ",443],["T_VARIABLE","$this",444],["T_OBJECT_OPERATOR","->",444],["T_STRING","setCredentials",444],"(",["T_VARIABLE","$options",444],"[",["T_CONSTANT_ENCAPSED_STRING","'user'",444],"]",",",["T_WHITESPACE"," ",444],["T_VARIABLE","$options",444],"[",["T_CONSTANT_ENCAPSED_STRING","'pass'",444],"]",")",";",["T_WHITESPACE","\n        ",444],"}",["T_WHITESPACE","\n\n        ",445],["T_VARIABLE","$this",447],["T_OBJECT_OPERATOR","->",447],["T_STRING","headers",447],"[",["T_CONSTANT_ENCAPSED_STRING","'User-Agent'",447],"]",["T_WHITESPACE"," ",447],"=",["T_WHITESPACE"," ",447],["T_VARIABLE","$this",447],["T_OBJECT_OPERATOR","->",447],["T_STRING","_userAgent",447],";",["T_WHITESPACE","\n        ",447],["T_VARIABLE","$this",448],["T_OBJECT_OPERATOR","->",448],["T_STRING","headers",448],"[",["T_CONSTANT_ENCAPSED_STRING","'Host'",448],"]",["T_WHITESPACE"," ",448],"=",["T_WHITESPACE"," ",448],["T_VARIABLE","$this",448],["T_OBJECT_OPERATOR","->",448],["T_STRING","urlparts",448],"[",["T_CONSTANT_ENCAPSED_STRING","'host'",448],"]",";",["T_WHITESPACE","\n        ",448],["T_VARIABLE","$this",449],["T_OBJECT_OPERATOR","->",449],["T_STRING","headers",449],"[",["T_CONSTANT_ENCAPSED_STRING","'Content-Type'",449],"]",["T_WHITESPACE"," ",449],"=",["T_WHITESPACE"," ",449],"\"",["T_ENCAPSED_AND_WHITESPACE","text\/xml; charset=",449],["T_VARIABLE","$this",449],["T_OBJECT_OPERATOR","->",449],["T_STRING","encoding",449],"\"",";",["T_WHITESPACE","\n        ",449],["T_VARIABLE","$this",450],["T_OBJECT_OPERATOR","->",450],["T_STRING","headers",450],"[",["T_CONSTANT_ENCAPSED_STRING","'Content-Length'",450],"]",["T_WHITESPACE"," ",450],"=",["T_WHITESPACE"," ",450],["T_STRING","strlen",450],"(",["T_VARIABLE","$msg",450],")",";",["T_WHITESPACE","\n        ",450],["T_VARIABLE","$this",451],["T_OBJECT_OPERATOR","->",451],["T_STRING","headers",451],"[",["T_CONSTANT_ENCAPSED_STRING","'SOAPAction'",451],"]",["T_WHITESPACE"," ",451],"=",["T_WHITESPACE"," ",451],["T_CONSTANT_ENCAPSED_STRING","'\"'",451],["T_WHITESPACE"," ",451],".",["T_WHITESPACE"," ",451],["T_VARIABLE","$action",451],["T_WHITESPACE"," ",451],".",["T_WHITESPACE"," ",451],["T_CONSTANT_ENCAPSED_STRING","'\"'",451],";",["T_WHITESPACE","\n        ",451],["T_VARIABLE","$this",452],["T_OBJECT_OPERATOR","->",452],["T_STRING","headers",452],"[",["T_CONSTANT_ENCAPSED_STRING","'Connection'",452],"]",["T_WHITESPACE"," ",452],"=",["T_WHITESPACE"," ",452],["T_CONSTANT_ENCAPSED_STRING","'close'",452],";",["T_WHITESPACE","\n\n        ",452],["T_IF","if",454],["T_WHITESPACE"," ",454],"(",["T_ISSET","isset",454],"(",["T_VARIABLE","$options",454],"[",["T_CONSTANT_ENCAPSED_STRING","'headers'",454],"]",")",")",["T_WHITESPACE"," ",454],"{",["T_WHITESPACE","\n            ",454],["T_VARIABLE","$this",455],["T_OBJECT_OPERATOR","->",455],["T_STRING","headers",455],["T_WHITESPACE"," ",455],"=",["T_WHITESPACE"," ",455],["T_STRING","array_merge",455],"(",["T_VARIABLE","$this",455],["T_OBJECT_OPERATOR","->",455],["T_STRING","headers",455],",",["T_WHITESPACE"," ",455],["T_VARIABLE","$options",455],"[",["T_CONSTANT_ENCAPSED_STRING","'headers'",455],"]",")",";",["T_WHITESPACE","\n        ",455],"}",["T_WHITESPACE","\n\n        ",456],["T_VARIABLE","$cookies",458],["T_WHITESPACE"," ",458],"=",["T_WHITESPACE"," ",458],["T_VARIABLE","$this",458],["T_OBJECT_OPERATOR","->",458],["T_STRING","_generateCookieHeader",458],"(",["T_VARIABLE","$options",458],")",";",["T_WHITESPACE","\n        ",458],["T_IF","if",459],["T_WHITESPACE"," ",459],"(",["T_VARIABLE","$cookies",459],")",["T_WHITESPACE"," ",459],"{",["T_WHITESPACE","\n            ",459],["T_VARIABLE","$this",460],["T_OBJECT_OPERATOR","->",460],["T_STRING","headers",460],"[",["T_CONSTANT_ENCAPSED_STRING","'Cookie'",460],"]",["T_WHITESPACE"," ",460],"=",["T_WHITESPACE"," ",460],["T_VARIABLE","$cookies",460],";",["T_WHITESPACE","\n        ",460],"}",["T_WHITESPACE","\n\n        ",461],["T_VARIABLE","$headers",463],["T_WHITESPACE"," ",463],"=",["T_WHITESPACE"," ",463],["T_CONSTANT_ENCAPSED_STRING","''",463],";",["T_WHITESPACE","\n        ",463],["T_FOREACH","foreach",464],["T_WHITESPACE"," ",464],"(",["T_VARIABLE","$this",464],["T_OBJECT_OPERATOR","->",464],["T_STRING","headers",464],["T_WHITESPACE"," ",464],["T_AS","as",464],["T_WHITESPACE"," ",464],["T_VARIABLE","$k",464],["T_WHITESPACE"," ",464],["T_DOUBLE_ARROW","=>",464],["T_WHITESPACE"," ",464],["T_VARIABLE","$v",464],")",["T_WHITESPACE"," ",464],"{",["T_WHITESPACE","\n            ",464],["T_VARIABLE","$headers",465],["T_WHITESPACE"," ",465],["T_CONCAT_EQUAL",".=",465],["T_WHITESPACE"," ",465],"\"",["T_VARIABLE","$k",465],["T_ENCAPSED_AND_WHITESPACE",": ",465],["T_VARIABLE","$v",465],["T_ENCAPSED_AND_WHITESPACE","\\r\\n",465],"\"",";",["T_WHITESPACE","\n        ",465],"}",["T_WHITESPACE","\n        ",466],["T_VARIABLE","$this",467],["T_OBJECT_OPERATOR","->",467],["T_STRING","outgoing_payload",467],["T_WHITESPACE"," ",467],"=",["T_WHITESPACE"," ",467],"\"",["T_ENCAPSED_AND_WHITESPACE","POST ",467],["T_VARIABLE","$fullpath",467],["T_ENCAPSED_AND_WHITESPACE"," HTTP\/1.0\\r\\n",467],"\"",["T_WHITESPACE"," ",467],".",["T_WHITESPACE"," ",467],["T_VARIABLE","$headers",467],["T_WHITESPACE"," ",467],".",["T_WHITESPACE","\n            ",467],["T_CONSTANT_ENCAPSED_STRING","\"\\r\\n\"",468],["T_WHITESPACE"," ",468],".",["T_WHITESPACE"," ",468],["T_VARIABLE","$msg",468],";",["T_WHITESPACE","\n\n        ",468],["T_RETURN","return",470],["T_WHITESPACE"," ",470],["T_VARIABLE","$this",470],["T_OBJECT_OPERATOR","->",470],["T_STRING","outgoing_payload",470],";",["T_WHITESPACE","\n    ",470],"}",["T_WHITESPACE","\n\n    ",471],["T_DOC_COMMENT","\/**\n     * Sends the outgoing HTTP request and reads and parses the response.\n     *\n     * @access private\n     *\n     * @param string $msg     Outgoing SOAP package.\n     * @param array $options  Options.\n     *\n     * @return string  Response data without HTTP headers.\n     *\/",473],["T_WHITESPACE","\n    ",482],["T_FUNCTION","function",483],["T_WHITESPACE"," ",483],["T_STRING","_sendHTTP",483],"(",["T_VARIABLE","$msg",483],",",["T_WHITESPACE"," ",483],["T_VARIABLE","$options",483],")",["T_WHITESPACE","\n    ",483],"{",["T_WHITESPACE","\n        ",484],["T_VARIABLE","$this",485],["T_OBJECT_OPERATOR","->",485],["T_STRING","incoming_payload",485],["T_WHITESPACE"," ",485],"=",["T_WHITESPACE"," ",485],["T_CONSTANT_ENCAPSED_STRING","''",485],";",["T_WHITESPACE","\n        ",485],["T_VARIABLE","$this",486],["T_OBJECT_OPERATOR","->",486],["T_STRING","_getRequest",486],"(",["T_VARIABLE","$msg",486],",",["T_WHITESPACE"," ",486],["T_VARIABLE","$options",486],")",";",["T_WHITESPACE","\n        ",486],["T_VARIABLE","$host",487],["T_WHITESPACE"," ",487],"=",["T_WHITESPACE"," ",487],["T_VARIABLE","$this",487],["T_OBJECT_OPERATOR","->",487],["T_STRING","urlparts",487],"[",["T_CONSTANT_ENCAPSED_STRING","'host'",487],"]",";",["T_WHITESPACE","\n        ",487],["T_VARIABLE","$port",488],["T_WHITESPACE"," ",488],"=",["T_WHITESPACE"," ",488],["T_VARIABLE","$this",488],["T_OBJECT_OPERATOR","->",488],["T_STRING","urlparts",488],"[",["T_CONSTANT_ENCAPSED_STRING","'port'",488],"]",";",["T_WHITESPACE","\n        ",488],["T_IF","if",489],["T_WHITESPACE"," ",489],"(",["T_ISSET","isset",489],"(",["T_VARIABLE","$options",489],"[",["T_CONSTANT_ENCAPSED_STRING","'proxy_host'",489],"]",")",")",["T_WHITESPACE"," ",489],"{",["T_WHITESPACE","\n            ",489],["T_VARIABLE","$host",490],["T_WHITESPACE"," ",490],"=",["T_WHITESPACE"," ",490],["T_VARIABLE","$options",490],"[",["T_CONSTANT_ENCAPSED_STRING","'proxy_host'",490],"]",";",["T_WHITESPACE","\n            ",490],["T_VARIABLE","$port",491],["T_WHITESPACE"," ",491],"=",["T_WHITESPACE"," ",491],["T_ISSET","isset",491],"(",["T_VARIABLE","$options",491],"[",["T_CONSTANT_ENCAPSED_STRING","'proxy_port'",491],"]",")",["T_WHITESPACE"," ",491],"?",["T_WHITESPACE"," ",491],["T_VARIABLE","$options",491],"[",["T_CONSTANT_ENCAPSED_STRING","'proxy_port'",491],"]",["T_WHITESPACE"," ",491],":",["T_WHITESPACE"," ",491],["T_LNUMBER","8080",491],";",["T_WHITESPACE","\n        ",491],"}",["T_WHITESPACE","\n        ",492],["T_COMMENT","\/\/ Send.\n",493],["T_WHITESPACE","        ",494],["T_IF","if",494],["T_WHITESPACE"," ",494],"(",["T_VARIABLE","$this",494],["T_OBJECT_OPERATOR","->",494],["T_STRING","timeout",494],["T_WHITESPACE"," ",494],">",["T_WHITESPACE"," ",494],["T_LNUMBER","0",494],")",["T_WHITESPACE"," ",494],"{",["T_WHITESPACE","\n            ",494],["T_VARIABLE","$fp",495],["T_WHITESPACE"," ",495],"=",["T_WHITESPACE"," ",495],"@",["T_STRING","fsockopen",495],"(",["T_VARIABLE","$host",495],",",["T_WHITESPACE"," ",495],["T_VARIABLE","$port",495],",",["T_WHITESPACE"," ",495],["T_VARIABLE","$this",495],["T_OBJECT_OPERATOR","->",495],["T_STRING","errno",495],",",["T_WHITESPACE"," ",495],["T_VARIABLE","$this",495],["T_OBJECT_OPERATOR","->",495],["T_STRING","errmsg",495],",",["T_WHITESPACE"," ",495],["T_VARIABLE","$this",495],["T_OBJECT_OPERATOR","->",495],["T_STRING","timeout",495],")",";",["T_WHITESPACE","\n        ",495],"}",["T_WHITESPACE"," ",496],["T_ELSE","else",496],["T_WHITESPACE"," ",496],"{",["T_WHITESPACE","\n            ",496],["T_VARIABLE","$fp",497],["T_WHITESPACE"," ",497],"=",["T_WHITESPACE"," ",497],"@",["T_STRING","fsockopen",497],"(",["T_VARIABLE","$host",497],",",["T_WHITESPACE"," ",497],["T_VARIABLE","$port",497],",",["T_WHITESPACE"," ",497],["T_VARIABLE","$this",497],["T_OBJECT_OPERATOR","->",497],["T_STRING","errno",497],",",["T_WHITESPACE"," ",497],["T_VARIABLE","$this",497],["T_OBJECT_OPERATOR","->",497],["T_STRING","errmsg",497],")",";",["T_WHITESPACE","\n        ",497],"}",["T_WHITESPACE","\n        ",498],["T_IF","if",499],["T_WHITESPACE"," ",499],"(","!",["T_VARIABLE","$fp",499],")",["T_WHITESPACE"," ",499],"{",["T_WHITESPACE","\n            ",499],["T_RETURN","return",500],["T_WHITESPACE"," ",500],["T_VARIABLE","$this",500],["T_OBJECT_OPERATOR","->",500],["T_STRING","_raiseSoapFault",500],"(","\"",["T_ENCAPSED_AND_WHITESPACE","Connect Error to ",500],["T_VARIABLE","$host",500],["T_ENCAPSED_AND_WHITESPACE",":",500],["T_VARIABLE","$port",500],"\"",")",";",["T_WHITESPACE","\n        ",500],"}",["T_WHITESPACE","\n        ",501],["T_IF","if",502],["T_WHITESPACE"," ",502],"(",["T_VARIABLE","$this",502],["T_OBJECT_OPERATOR","->",502],["T_STRING","timeout",502],["T_WHITESPACE"," ",502],">",["T_WHITESPACE"," ",502],["T_LNUMBER","0",502],")",["T_WHITESPACE"," ",502],"{",["T_WHITESPACE","\n            ",502],["T_COMMENT","\/\/ some builds of PHP do not support this, silence the warning\n",503],["T_WHITESPACE","            ",504],"@",["T_STRING","socket_set_timeout",504],"(",["T_VARIABLE","$fp",504],",",["T_WHITESPACE"," ",504],["T_VARIABLE","$this",504],["T_OBJECT_OPERATOR","->",504],["T_STRING","timeout",504],")",";",["T_WHITESPACE","\n        ",504],"}",["T_WHITESPACE","\n        ",505],["T_IF","if",506],["T_WHITESPACE"," ",506],"(","!",["T_STRING","fputs",506],"(",["T_VARIABLE","$fp",506],",",["T_WHITESPACE"," ",506],["T_VARIABLE","$this",506],["T_OBJECT_OPERATOR","->",506],["T_STRING","outgoing_payload",506],",",["T_WHITESPACE"," ",506],["T_STRING","strlen",506],"(",["T_VARIABLE","$this",506],["T_OBJECT_OPERATOR","->",506],["T_STRING","outgoing_payload",506],")",")",")",["T_WHITESPACE"," ",506],"{",["T_WHITESPACE","\n            ",506],["T_RETURN","return",507],["T_WHITESPACE"," ",507],["T_VARIABLE","$this",507],["T_OBJECT_OPERATOR","->",507],["T_STRING","_raiseSoapFault",507],"(","\"",["T_ENCAPSED_AND_WHITESPACE","Error POSTing Data to ",507],["T_VARIABLE","$host",507],"\"",")",";",["T_WHITESPACE","\n        ",507],"}",["T_WHITESPACE","\n\n        ",508],["T_COMMENT","\/\/ get reponse\n",510],["T_WHITESPACE","        ",511],["T_COMMENT","\/\/ XXX time consumer\n",511],["T_WHITESPACE","        ",512],["T_DO","do",512],["T_WHITESPACE"," ",512],"{",["T_WHITESPACE","\n            ",512],["T_VARIABLE","$data",513],["T_WHITESPACE"," ",513],"=",["T_WHITESPACE"," ",513],["T_STRING","fread",513],"(",["T_VARIABLE","$fp",513],",",["T_WHITESPACE"," ",513],["T_LNUMBER","4096",513],")",";",["T_WHITESPACE","\n            ",513],["T_VARIABLE","$_tmp_status",514],["T_WHITESPACE"," ",514],"=",["T_WHITESPACE"," ",514],["T_STRING","socket_get_status",514],"(",["T_VARIABLE","$fp",514],")",";",["T_WHITESPACE","\n            ",514],["T_IF","if",515],["T_WHITESPACE"," ",515],"(",["T_VARIABLE","$_tmp_status",515],"[",["T_CONSTANT_ENCAPSED_STRING","'timed_out'",515],"]",")",["T_WHITESPACE"," ",515],"{",["T_WHITESPACE","\n                ",515],["T_RETURN","return",516],["T_WHITESPACE"," ",516],["T_VARIABLE","$this",516],["T_OBJECT_OPERATOR","->",516],["T_STRING","_raiseSoapFault",516],"(","\"",["T_ENCAPSED_AND_WHITESPACE","Timed out read from ",516],["T_VARIABLE","$host",516],"\"",")",";",["T_WHITESPACE","\n            ",516],"}",["T_WHITESPACE"," ",517],["T_ELSE","else",517],["T_WHITESPACE"," ",517],"{",["T_WHITESPACE","\n                ",517],["T_VARIABLE","$this",518],["T_OBJECT_OPERATOR","->",518],["T_STRING","incoming_payload",518],["T_WHITESPACE"," ",518],["T_CONCAT_EQUAL",".=",518],["T_WHITESPACE"," ",518],["T_VARIABLE","$data",518],";",["T_WHITESPACE","\n            ",518],"}",["T_WHITESPACE","\n        ",519],"}",["T_WHITESPACE"," ",520],["T_WHILE","while",520],["T_WHITESPACE"," ",520],"(","!",["T_VARIABLE","$_tmp_status",520],"[",["T_CONSTANT_ENCAPSED_STRING","'eof'",520],"]",")",";",["T_WHITESPACE","\n\n        ",520],["T_STRING","fclose",522],"(",["T_VARIABLE","$fp",522],")",";",["T_WHITESPACE","\n\n        ",522],["T_IF","if",524],["T_WHITESPACE"," ",524],"(","!",["T_VARIABLE","$this",524],["T_OBJECT_OPERATOR","->",524],["T_STRING","_parseResponse",524],"(",")",")",["T_WHITESPACE"," ",524],"{",["T_WHITESPACE","\n            ",524],["T_RETURN","return",525],["T_WHITESPACE"," ",525],["T_VARIABLE","$this",525],["T_OBJECT_OPERATOR","->",525],["T_STRING","fault",525],";",["T_WHITESPACE","\n        ",525],"}",["T_WHITESPACE","\n        ",526],["T_RETURN","return",527],["T_WHITESPACE"," ",527],["T_VARIABLE","$this",527],["T_OBJECT_OPERATOR","->",527],["T_STRING","response",527],";",["T_WHITESPACE","\n    ",527],"}",["T_WHITESPACE","\n\n    ",528],["T_DOC_COMMENT","\/**\n     * Sends the outgoing HTTPS request and reads and parses the response.\n     *\n     * @access private\n     *\n     * @param string $msg     Outgoing SOAP package.\n     * @param array $options  Options.\n     *\n     * @return string  Response data without HTTP headers.\n     *\/",530],["T_WHITESPACE","\n    ",539],["T_FUNCTION","function",540],["T_WHITESPACE"," ",540],["T_STRING","_sendHTTPS",540],"(",["T_VARIABLE","$msg",540],",",["T_WHITESPACE"," ",540],["T_VARIABLE","$options",540],")",["T_WHITESPACE","\n    ",540],"{",["T_WHITESPACE","\n        ",541],["T_COMMENT","\/* Check if the required curl extension is installed. *\/",542],["T_WHITESPACE","\n        ",542],["T_IF","if",543],["T_WHITESPACE"," ",543],"(","!",["T_STRING","extension_loaded",543],"(",["T_CONSTANT_ENCAPSED_STRING","'curl'",543],")",")",["T_WHITESPACE"," ",543],"{",["T_WHITESPACE","\n            ",543],["T_RETURN","return",544],["T_WHITESPACE"," ",544],["T_VARIABLE","$this",544],["T_OBJECT_OPERATOR","->",544],["T_STRING","_raiseSoapFault",544],"(",["T_CONSTANT_ENCAPSED_STRING","'CURL Extension is required for HTTPS'",544],")",";",["T_WHITESPACE","\n        ",544],"}",["T_WHITESPACE","\n\n        ",545],["T_VARIABLE","$ch",547],["T_WHITESPACE"," ",547],"=",["T_WHITESPACE"," ",547],["T_STRING","curl_init",547],"(",")",";",["T_WHITESPACE","\n        ",547],["T_STRING","curl_setopt",548],"(",["T_VARIABLE","$ch",548],",",["T_WHITESPACE"," ",548],["T_STRING","CURLOPT_SSL_VERIFYPEER",548],",",["T_WHITESPACE"," ",548],["T_LNUMBER","0",548],")",";",["T_WHITESPACE","\n        ",548],["T_IF","if",549],["T_WHITESPACE"," ",549],"(",["T_ISSET","isset",549],"(",["T_VARIABLE","$options",549],"[",["T_CONSTANT_ENCAPSED_STRING","'proxy_host'",549],"]",")",")",["T_WHITESPACE"," ",549],"{",["T_WHITESPACE","\n            ",549],["T_VARIABLE","$port",550],["T_WHITESPACE"," ",550],"=",["T_WHITESPACE"," ",550],["T_ISSET","isset",550],"(",["T_VARIABLE","$options",550],"[",["T_CONSTANT_ENCAPSED_STRING","'proxy_port'",550],"]",")",["T_WHITESPACE"," ",550],"?",["T_WHITESPACE"," ",550],["T_VARIABLE","$options",550],"[",["T_CONSTANT_ENCAPSED_STRING","'proxy_port'",550],"]",["T_WHITESPACE"," ",550],":",["T_WHITESPACE"," ",550],["T_LNUMBER","8080",550],";",["T_WHITESPACE","\n            ",550],["T_STRING","curl_setopt",551],"(",["T_VARIABLE","$ch",551],",",["T_WHITESPACE"," ",551],["T_STRING","CURLOPT_PROXY",551],",",["T_WHITESPACE","\n                        ",551],["T_VARIABLE","$options",552],"[",["T_CONSTANT_ENCAPSED_STRING","'proxy_host'",552],"]",["T_WHITESPACE"," ",552],".",["T_WHITESPACE"," ",552],["T_CONSTANT_ENCAPSED_STRING","':'",552],["T_WHITESPACE"," ",552],".",["T_WHITESPACE"," ",552],["T_VARIABLE","$port",552],")",";",["T_WHITESPACE","\n        ",552],"}",["T_WHITESPACE","\n        ",553],["T_IF","if",554],["T_WHITESPACE"," ",554],"(",["T_ISSET","isset",554],"(",["T_VARIABLE","$options",554],"[",["T_CONSTANT_ENCAPSED_STRING","'proxy_user'",554],"]",")",")",["T_WHITESPACE"," ",554],"{",["T_WHITESPACE","\n            ",554],["T_STRING","curl_setopt",555],"(",["T_VARIABLE","$ch",555],",",["T_WHITESPACE"," ",555],["T_STRING","CURLOPT_PROXYUSERPWD",555],",",["T_WHITESPACE","\n                        ",555],["T_VARIABLE","$options",556],"[",["T_CONSTANT_ENCAPSED_STRING","'proxy_user'",556],"]",["T_WHITESPACE"," ",556],".",["T_WHITESPACE"," ",556],["T_CONSTANT_ENCAPSED_STRING","':'",556],["T_WHITESPACE"," ",556],".",["T_WHITESPACE"," ",556],["T_VARIABLE","$options",556],"[",["T_CONSTANT_ENCAPSED_STRING","'proxy_pass'",556],"]",")",";",["T_WHITESPACE","\n        ",556],"}",["T_WHITESPACE","\n\n        ",557],["T_IF","if",559],["T_WHITESPACE"," ",559],"(",["T_ISSET","isset",559],"(",["T_VARIABLE","$options",559],"[",["T_CONSTANT_ENCAPSED_STRING","'user'",559],"]",")",")",["T_WHITESPACE"," ",559],"{",["T_WHITESPACE","\n            ",559],["T_STRING","curl_setopt",560],"(",["T_VARIABLE","$ch",560],",",["T_WHITESPACE"," ",560],["T_STRING","CURLOPT_USERPWD",560],",",["T_WHITESPACE","\n                        ",560],["T_VARIABLE","$options",561],"[",["T_CONSTANT_ENCAPSED_STRING","'user'",561],"]",["T_WHITESPACE"," ",561],".",["T_WHITESPACE"," ",561],["T_CONSTANT_ENCAPSED_STRING","':'",561],["T_WHITESPACE"," ",561],".",["T_WHITESPACE"," ",561],["T_VARIABLE","$options",561],"[",["T_CONSTANT_ENCAPSED_STRING","'pass'",561],"]",")",";",["T_WHITESPACE","\n        ",561],"}",["T_WHITESPACE","\n\n        ",562],["T_VARIABLE","$headers",564],["T_WHITESPACE"," ",564],"=",["T_WHITESPACE"," ",564],["T_ARRAY","array",564],"(",")",";",["T_WHITESPACE","\n        ",564],["T_VARIABLE","$action",565],["T_WHITESPACE"," ",565],"=",["T_WHITESPACE"," ",565],["T_ISSET","isset",565],"(",["T_VARIABLE","$options",565],"[",["T_CONSTANT_ENCAPSED_STRING","'soapaction'",565],"]",")",["T_WHITESPACE"," ",565],"?",["T_WHITESPACE"," ",565],["T_VARIABLE","$options",565],"[",["T_CONSTANT_ENCAPSED_STRING","'soapaction'",565],"]",["T_WHITESPACE"," ",565],":",["T_WHITESPACE"," ",565],["T_CONSTANT_ENCAPSED_STRING","''",565],";",["T_WHITESPACE","\n        ",565],["T_VARIABLE","$headers",566],"[",["T_CONSTANT_ENCAPSED_STRING","'Content-Type'",566],"]",["T_WHITESPACE"," ",566],"=",["T_WHITESPACE"," ",566],"\"",["T_ENCAPSED_AND_WHITESPACE","text\/xml; charset=",566],["T_VARIABLE","$this",566],["T_OBJECT_OPERATOR","->",566],["T_STRING","encoding",566],"\"",";",["T_WHITESPACE","\n        ",566],["T_VARIABLE","$headers",567],"[",["T_CONSTANT_ENCAPSED_STRING","'SOAPAction'",567],"]",["T_WHITESPACE"," ",567],"=",["T_WHITESPACE"," ",567],["T_CONSTANT_ENCAPSED_STRING","'\"'",567],["T_WHITESPACE"," ",567],".",["T_WHITESPACE"," ",567],["T_VARIABLE","$action",567],["T_WHITESPACE"," ",567],".",["T_WHITESPACE"," ",567],["T_CONSTANT_ENCAPSED_STRING","'\"'",567],";",["T_WHITESPACE","\n        ",567],["T_IF","if",568],["T_WHITESPACE"," ",568],"(",["T_ISSET","isset",568],"(",["T_VARIABLE","$options",568],"[",["T_CONSTANT_ENCAPSED_STRING","'headers'",568],"]",")",")",["T_WHITESPACE"," ",568],"{",["T_WHITESPACE","\n            ",568],["T_VARIABLE","$headers",569],["T_WHITESPACE"," ",569],"=",["T_WHITESPACE"," ",569],["T_STRING","array_merge",569],"(",["T_VARIABLE","$headers",569],",",["T_WHITESPACE"," ",569],["T_VARIABLE","$options",569],"[",["T_CONSTANT_ENCAPSED_STRING","'headers'",569],"]",")",";",["T_WHITESPACE","\n        ",569],"}",["T_WHITESPACE","\n        ",570],["T_FOREACH","foreach",571],["T_WHITESPACE"," ",571],"(",["T_VARIABLE","$headers",571],["T_WHITESPACE"," ",571],["T_AS","as",571],["T_WHITESPACE"," ",571],["T_VARIABLE","$header",571],["T_WHITESPACE"," ",571],["T_DOUBLE_ARROW","=>",571],["T_WHITESPACE"," ",571],["T_VARIABLE","$value",571],")",["T_WHITESPACE"," ",571],"{",["T_WHITESPACE","\n            ",571],["T_VARIABLE","$headers",572],"[",["T_VARIABLE","$header",572],"]",["T_WHITESPACE"," ",572],"=",["T_WHITESPACE"," ",572],["T_VARIABLE","$header",572],["T_WHITESPACE"," ",572],".",["T_WHITESPACE"," ",572],["T_CONSTANT_ENCAPSED_STRING","': '",572],["T_WHITESPACE"," ",572],".",["T_WHITESPACE"," ",572],["T_VARIABLE","$value",572],";",["T_WHITESPACE","\n        ",572],"}",["T_WHITESPACE","\n        ",573],["T_STRING","curl_setopt",574],"(",["T_VARIABLE","$ch",574],",",["T_WHITESPACE"," ",574],["T_STRING","CURLOPT_HTTPHEADER",574],",",["T_WHITESPACE"," ",574],["T_VARIABLE","$headers",574],")",";",["T_WHITESPACE","\n        ",574],["T_STRING","curl_setopt",575],"(",["T_VARIABLE","$ch",575],",",["T_WHITESPACE"," ",575],["T_STRING","CURLOPT_USERAGENT",575],",",["T_WHITESPACE"," ",575],["T_VARIABLE","$this",575],["T_OBJECT_OPERATOR","->",575],["T_STRING","_userAgent",575],")",";",["T_WHITESPACE","\n\n        ",575],["T_IF","if",577],["T_WHITESPACE"," ",577],"(",["T_VARIABLE","$this",577],["T_OBJECT_OPERATOR","->",577],["T_STRING","timeout",577],")",["T_WHITESPACE"," ",577],"{",["T_WHITESPACE","\n            ",577],["T_STRING","curl_setopt",578],"(",["T_VARIABLE","$ch",578],",",["T_WHITESPACE"," ",578],["T_STRING","CURLOPT_TIMEOUT",578],",",["T_WHITESPACE"," ",578],["T_VARIABLE","$this",578],["T_OBJECT_OPERATOR","->",578],["T_STRING","timeout",578],")",";",["T_WHITESPACE","\n        ",578],"}",["T_WHITESPACE","\n\n        ",579],["T_STRING","curl_setopt",581],"(",["T_VARIABLE","$ch",581],",",["T_WHITESPACE"," ",581],["T_STRING","CURLOPT_POSTFIELDS",581],",",["T_WHITESPACE"," ",581],["T_VARIABLE","$msg",581],")",";",["T_WHITESPACE","\n        ",581],["T_STRING","curl_setopt",582],"(",["T_VARIABLE","$ch",582],",",["T_WHITESPACE"," ",582],["T_STRING","CURLOPT_URL",582],",",["T_WHITESPACE"," ",582],["T_VARIABLE","$this",582],["T_OBJECT_OPERATOR","->",582],["T_STRING","url",582],")",";",["T_WHITESPACE","\n        ",582],["T_STRING","curl_setopt",583],"(",["T_VARIABLE","$ch",583],",",["T_WHITESPACE"," ",583],["T_STRING","CURLOPT_POST",583],",",["T_WHITESPACE"," ",583],["T_LNUMBER","1",583],")",";",["T_WHITESPACE","\n        ",583],["T_STRING","curl_setopt",584],"(",["T_VARIABLE","$ch",584],",",["T_WHITESPACE"," ",584],["T_STRING","CURLOPT_FAILONERROR",584],",",["T_WHITESPACE"," ",584],["T_LNUMBER","0",584],")",";",["T_WHITESPACE","\n        ",584],["T_STRING","curl_setopt",585],"(",["T_VARIABLE","$ch",585],",",["T_WHITESPACE"," ",585],["T_STRING","CURLOPT_RETURNTRANSFER",585],",",["T_WHITESPACE"," ",585],["T_LNUMBER","1",585],")",";",["T_WHITESPACE","\n        ",585],["T_STRING","curl_setopt",586],"(",["T_VARIABLE","$ch",586],",",["T_WHITESPACE"," ",586],["T_STRING","CURLOPT_HEADER",586],",",["T_WHITESPACE"," ",586],["T_LNUMBER","1",586],")",";",["T_WHITESPACE","\n        ",586],["T_IF","if",587],["T_WHITESPACE"," ",587],"(",["T_STRING","defined",587],"(",["T_CONSTANT_ENCAPSED_STRING","'CURLOPT_HTTP_VERSION'",587],")",")",["T_WHITESPACE"," ",587],"{",["T_WHITESPACE","\n            ",587],["T_STRING","curl_setopt",588],"(",["T_VARIABLE","$ch",588],",",["T_WHITESPACE"," ",588],["T_STRING","CURLOPT_HTTP_VERSION",588],",",["T_WHITESPACE"," ",588],["T_LNUMBER","1",588],")",";",["T_WHITESPACE","\n        ",588],"}",["T_WHITESPACE","\n        ",589],["T_IF","if",590],["T_WHITESPACE"," ",590],"(","!",["T_STRING","ini_get",590],"(",["T_CONSTANT_ENCAPSED_STRING","'safe_mode'",590],")",["T_WHITESPACE"," ",590],["T_BOOLEAN_AND","&&",590],["T_WHITESPACE"," ",590],"!",["T_STRING","ini_get",590],"(",["T_CONSTANT_ENCAPSED_STRING","'open_basedir'",590],")",")",["T_WHITESPACE"," ",590],"{",["T_WHITESPACE","\n            ",590],["T_STRING","curl_setopt",591],"(",["T_VARIABLE","$ch",591],",",["T_WHITESPACE"," ",591],["T_STRING","CURLOPT_FOLLOWLOCATION",591],",",["T_WHITESPACE"," ",591],["T_LNUMBER","1",591],")",";",["T_WHITESPACE","\n        ",591],"}",["T_WHITESPACE","\n        ",592],["T_VARIABLE","$cookies",593],["T_WHITESPACE"," ",593],"=",["T_WHITESPACE"," ",593],["T_VARIABLE","$this",593],["T_OBJECT_OPERATOR","->",593],["T_STRING","_generateCookieHeader",593],"(",["T_VARIABLE","$options",593],")",";",["T_WHITESPACE","\n        ",593],["T_IF","if",594],["T_WHITESPACE"," ",594],"(",["T_VARIABLE","$cookies",594],")",["T_WHITESPACE"," ",594],"{",["T_WHITESPACE","\n            ",594],["T_STRING","curl_setopt",595],"(",["T_VARIABLE","$ch",595],",",["T_WHITESPACE"," ",595],["T_STRING","CURLOPT_COOKIE",595],",",["T_WHITESPACE"," ",595],["T_VARIABLE","$cookies",595],")",";",["T_WHITESPACE","\n        ",595],"}",["T_WHITESPACE","\n\n        ",596],["T_IF","if",598],["T_WHITESPACE"," ",598],"(",["T_ISSET","isset",598],"(",["T_VARIABLE","$options",598],"[",["T_CONSTANT_ENCAPSED_STRING","'curl'",598],"]",")",")",["T_WHITESPACE"," ",598],"{",["T_WHITESPACE","\n            ",598],["T_FOREACH","foreach",599],["T_WHITESPACE"," ",599],"(",["T_VARIABLE","$options",599],"[",["T_CONSTANT_ENCAPSED_STRING","'curl'",599],"]",["T_WHITESPACE"," ",599],["T_AS","as",599],["T_WHITESPACE"," ",599],["T_VARIABLE","$key",599],["T_WHITESPACE"," ",599],["T_DOUBLE_ARROW","=>",599],["T_WHITESPACE"," ",599],["T_VARIABLE","$val",599],")",["T_WHITESPACE"," ",599],"{",["T_WHITESPACE","\n                ",599],["T_STRING","curl_setopt",600],"(",["T_VARIABLE","$ch",600],",",["T_WHITESPACE"," ",600],["T_VARIABLE","$key",600],",",["T_WHITESPACE"," ",600],["T_VARIABLE","$val",600],")",";",["T_WHITESPACE","\n            ",600],"}",["T_WHITESPACE","\n        ",601],"}",["T_WHITESPACE","\n\n        ",602],["T_COMMENT","\/\/ Save the outgoing XML. This doesn't quite match _sendHTTP as CURL\n",604],["T_WHITESPACE","        ",605],["T_COMMENT","\/\/ generates the headers, but having the XML is usually the most\n",605],["T_WHITESPACE","        ",606],["T_COMMENT","\/\/ important part for tracing\/debugging.\n",606],["T_WHITESPACE","        ",607],["T_VARIABLE","$this",607],["T_OBJECT_OPERATOR","->",607],["T_STRING","outgoing_payload",607],["T_WHITESPACE"," ",607],"=",["T_WHITESPACE"," ",607],["T_VARIABLE","$msg",607],";",["T_WHITESPACE","\n\n        ",607],["T_VARIABLE","$this",609],["T_OBJECT_OPERATOR","->",609],["T_STRING","incoming_payload",609],["T_WHITESPACE"," ",609],"=",["T_WHITESPACE"," ",609],["T_STRING","curl_exec",609],"(",["T_VARIABLE","$ch",609],")",";",["T_WHITESPACE","\n        ",609],["T_IF","if",610],["T_WHITESPACE"," ",610],"(","!",["T_VARIABLE","$this",610],["T_OBJECT_OPERATOR","->",610],["T_STRING","incoming_payload",610],")",["T_WHITESPACE"," ",610],"{",["T_WHITESPACE","\n            ",610],["T_VARIABLE","$m",611],["T_WHITESPACE"," ",611],"=",["T_WHITESPACE"," ",611],["T_CONSTANT_ENCAPSED_STRING","'curl_exec error '",611],["T_WHITESPACE"," ",611],".",["T_WHITESPACE"," ",611],["T_STRING","curl_errno",611],"(",["T_VARIABLE","$ch",611],")",["T_WHITESPACE"," ",611],".",["T_WHITESPACE"," ",611],["T_CONSTANT_ENCAPSED_STRING","' '",611],["T_WHITESPACE"," ",611],".",["T_WHITESPACE"," ",611],["T_STRING","curl_error",611],"(",["T_VARIABLE","$ch",611],")",";",["T_WHITESPACE","\n            ",611],["T_STRING","curl_close",612],"(",["T_VARIABLE","$ch",612],")",";",["T_WHITESPACE","\n            ",612],["T_RETURN","return",613],["T_WHITESPACE"," ",613],["T_VARIABLE","$this",613],["T_OBJECT_OPERATOR","->",613],["T_STRING","_raiseSoapFault",613],"(",["T_VARIABLE","$m",613],")",";",["T_WHITESPACE","\n        ",613],"}",["T_WHITESPACE","\n        ",614],["T_STRING","curl_close",615],"(",["T_VARIABLE","$ch",615],")",";",["T_WHITESPACE","\n\n        ",615],["T_IF","if",617],["T_WHITESPACE"," ",617],"(","!",["T_VARIABLE","$this",617],["T_OBJECT_OPERATOR","->",617],["T_STRING","_parseResponse",617],"(",")",")",["T_WHITESPACE"," ",617],"{",["T_WHITESPACE","\n            ",617],["T_RETURN","return",618],["T_WHITESPACE"," ",618],["T_VARIABLE","$this",618],["T_OBJECT_OPERATOR","->",618],["T_STRING","fault",618],";",["T_WHITESPACE","\n        ",618],"}",["T_WHITESPACE","\n\n        ",619],["T_RETURN","return",621],["T_WHITESPACE"," ",621],["T_VARIABLE","$this",621],["T_OBJECT_OPERATOR","->",621],["T_STRING","response",621],";",["T_WHITESPACE","\n    ",621],"}",["T_WHITESPACE","\n\n",622],"}",["T_WHITESPACE","\n",624]]