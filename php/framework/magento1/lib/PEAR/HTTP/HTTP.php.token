[["T_OPEN_TAG","<?php\r\n",1],["T_WHITESPACE","\r\n",2],["T_COMMENT","\/* vim: set expandtab tabstop=4 shiftwidth=4 softtabstop=4: *\/",3],["T_WHITESPACE","\r\n\r\n",3],["T_DOC_COMMENT","\/**\r\n * HTTP\r\n *\r\n * PHP versions 4 and 5\r\n *\r\n * @category  HTTP\r\n * @package   HTTP\r\n * @author    Stig Bakken <ssb@fast.no>\r\n * @author    Sterling Hughes <sterling@php.net>\r\n * @author    Tomas V.V.Cox <cox@idecnet.com>\r\n * @author    Richard Heyes <richard@php.net>\r\n * @author    Philippe Jausions <jausions@php.net>\r\n * @author    Michael Wallner <mike@php.net>\r\n * @copyright 2002-2008 The Authors\r\n * @license   http:\/\/www.opensource.org\/licenses\/bsd-license.php  New BSD License\r\n * @version   CVS: $Id: HTTP.php,v 1.56 2008\/08\/31 20:15:43 jausions Exp $\r\n * @link      http:\/\/pear.php.net\/package\/HTTP\r\n *\/",5],["T_WHITESPACE","\r\n\r\n",22],["T_DOC_COMMENT","\/**\r\n * Miscellaneous HTTP Utilities\r\n *\r\n * PEAR::HTTP provides static shorthand methods for generating HTTP dates,\r\n * issueing HTTP HEAD requests, building absolute URIs, firing redirects and\r\n * negotiating user preferred language.\r\n *\r\n * @category HTTP\r\n * @package  HTTP\r\n * @author   Stig Bakken <ssb@fast.no>\r\n * @author   Sterling Hughes <sterling@php.net>\r\n * @author   Tomas V.V.Cox <cox@idecnet.com>\r\n * @author   Richard Heyes <richard@php.net>\r\n * @author   Philippe Jausions <jausions@php.net>\r\n * @author   Michael Wallner <mike@php.net>\r\n * @license  http:\/\/www.opensource.org\/licenses\/bsd-license.php  New BSD License\r\n * @abstract\r\n * @version  Release: $Revision: 1.56 $\r\n * @link     http:\/\/pear.php.net\/package\/HTTP\r\n *\/",24],["T_WHITESPACE","\r\n",43],["T_CLASS","class",44],["T_WHITESPACE"," ",44],["T_STRING","HTTP",44],["T_WHITESPACE","\r\n",44],"{",["T_WHITESPACE","\r\n    ",45],["T_DOC_COMMENT","\/**\r\n     * Formats a RFC compliant GMT date HTTP header.  This function honors the\r\n     * \"y2k_compliance\" php.ini directive and formats the GMT date corresponding\r\n     * to either RFC850 or RFC822.\r\n     *\r\n     * @param mixed $time unix timestamp or date (default = current time)\r\n     *\r\n     * @return mixed  GMT date string, or false for an invalid $time parameter\r\n     * @access public\r\n     * @static\r\n     *\/",46],["T_WHITESPACE","\r\n    ",56],["T_FUNCTION","function",57],["T_WHITESPACE"," ",57],["T_STRING","Date",57],"(",["T_VARIABLE","$time",57],["T_WHITESPACE"," ",57],"=",["T_WHITESPACE"," ",57],["T_STRING","null",57],")",["T_WHITESPACE","\r\n    ",57],"{",["T_WHITESPACE","\r\n        ",58],["T_IF","if",59],["T_WHITESPACE"," ",59],"(","!",["T_ISSET","isset",59],"(",["T_VARIABLE","$time",59],")",")",["T_WHITESPACE"," ",59],"{",["T_WHITESPACE","\r\n            ",59],["T_VARIABLE","$time",60],["T_WHITESPACE"," ",60],"=",["T_WHITESPACE"," ",60],["T_STRING","time",60],"(",")",";",["T_WHITESPACE","\r\n        ",60],"}",["T_WHITESPACE"," ",61],["T_ELSEIF","elseif",61],["T_WHITESPACE"," ",61],"(","!",["T_STRING","is_numeric",61],"(",["T_VARIABLE","$time",61],")",["T_WHITESPACE"," ",61],["T_BOOLEAN_AND","&&",61],["T_WHITESPACE"," ",61],"(","-",["T_LNUMBER","1",61],["T_WHITESPACE"," ",61],["T_IS_IDENTICAL","===",61],["T_WHITESPACE"," ",61],["T_VARIABLE","$time",61],["T_WHITESPACE"," ",61],"=",["T_WHITESPACE"," ",61],["T_STRING","strtotime",61],"(",["T_VARIABLE","$time",61],")",")",")",["T_WHITESPACE"," ",61],"{",["T_WHITESPACE","\r\n            ",61],["T_RETURN","return",62],["T_WHITESPACE"," ",62],["T_STRING","false",62],";",["T_WHITESPACE","\r\n        ",62],"}",["T_WHITESPACE","\r\n\r\n        ",63],["T_COMMENT","\/\/ RFC822 or RFC850\r\n",65],["T_WHITESPACE","        ",66],["T_VARIABLE","$format",66],["T_WHITESPACE"," ",66],"=",["T_WHITESPACE"," ",66],["T_STRING","ini_get",66],"(",["T_CONSTANT_ENCAPSED_STRING","'y2k_compliance'",66],")",["T_WHITESPACE"," ",66],"?",["T_WHITESPACE"," ",66],["T_CONSTANT_ENCAPSED_STRING","'D, d M Y'",66],["T_WHITESPACE"," ",66],":",["T_WHITESPACE"," ",66],["T_CONSTANT_ENCAPSED_STRING","'l, d-M-y'",66],";",["T_WHITESPACE","\r\n\r\n        ",66],["T_RETURN","return",68],["T_WHITESPACE"," ",68],["T_STRING","gmdate",68],"(",["T_VARIABLE","$format",68],["T_WHITESPACE"," ",68],".",["T_CONSTANT_ENCAPSED_STRING","' H:i:s \\G\\M\\T'",68],",",["T_WHITESPACE"," ",68],["T_VARIABLE","$time",68],")",";",["T_WHITESPACE","\r\n    ",68],"}",["T_WHITESPACE","\r\n\r\n    ",69],["T_DOC_COMMENT","\/**\r\n     * Negotiates language with the user's browser through the Accept-Language\r\n     * HTTP header or the user's host address.  Language codes are generally in\r\n     * the form \"ll\" for a language spoken in only one country, or \"ll-CC\" for a\r\n     * language spoken in a particular country.  For example, U.S. English is\r\n     * \"en-US\", while British English is \"en-UK\".  Portugese as spoken in\r\n     * Portugal is \"pt-PT\", while Brazilian Portugese is \"pt-BR\".\r\n     *\r\n     * Quality factors in the Accept-Language: header are supported, e.g.:\r\n     *      Accept-Language: en-UK;q=0.7, en-US;q=0.6, no, dk;q=0.8\r\n     *\r\n     * <code>\r\n     *  require_once 'HTTP.php';\r\n     *  $langs = array(\r\n     *      'en'    => 'locales\/en',\r\n     *      'en-US' => 'locales\/en',\r\n     *      'en-UK' => 'locales\/en',\r\n     *      'de'    => 'locales\/de',\r\n     *      'de-DE' => 'locales\/de',\r\n     *      'de-AT' => 'locales\/de',\r\n     *  );\r\n     *  $neg = HTTP::negotiateLanguage($langs);\r\n     *  $dir = $langs[$neg];\r\n     * <\/code>\r\n     *\r\n     * @param array  $supported An associative array of supported languages,\r\n     *                          whose values must evaluate to true.\r\n     * @param string $default   The default language to use if none is found.\r\n     *\r\n     * @return string  The negotiated language result or the supplied default.\r\n     * @static\r\n     * @access public\r\n     *\/",71],["T_WHITESPACE","\r\n    ",103],["T_FUNCTION","function",104],["T_WHITESPACE"," ",104],["T_STRING","negotiateLanguage",104],"(",["T_VARIABLE","$supported",104],",",["T_WHITESPACE"," ",104],["T_VARIABLE","$default",104],["T_WHITESPACE"," ",104],"=",["T_WHITESPACE"," ",104],["T_CONSTANT_ENCAPSED_STRING","'en-US'",104],")",["T_WHITESPACE","\r\n    ",104],"{",["T_WHITESPACE","\r\n        ",105],["T_VARIABLE","$supp",106],["T_WHITESPACE"," ",106],"=",["T_WHITESPACE"," ",106],["T_ARRAY","array",106],"(",")",";",["T_WHITESPACE","\r\n        ",106],["T_FOREACH","foreach",107],["T_WHITESPACE"," ",107],"(",["T_VARIABLE","$supported",107],["T_WHITESPACE"," ",107],["T_AS","as",107],["T_WHITESPACE"," ",107],["T_VARIABLE","$lang",107],["T_WHITESPACE"," ",107],["T_DOUBLE_ARROW","=>",107],["T_WHITESPACE"," ",107],["T_VARIABLE","$isSupported",107],")",["T_WHITESPACE"," ",107],"{",["T_WHITESPACE","\r\n            ",107],["T_IF","if",108],["T_WHITESPACE"," ",108],"(",["T_VARIABLE","$isSupported",108],")",["T_WHITESPACE"," ",108],"{",["T_WHITESPACE","\r\n                ",108],["T_VARIABLE","$supp",109],"[",["T_STRING","strtolower",109],"(",["T_VARIABLE","$lang",109],")","]",["T_WHITESPACE"," ",109],"=",["T_WHITESPACE"," ",109],["T_VARIABLE","$lang",109],";",["T_WHITESPACE","\r\n            ",109],"}",["T_WHITESPACE","\r\n        ",110],"}",["T_WHITESPACE","\r\n\r\n        ",111],["T_IF","if",113],["T_WHITESPACE"," ",113],"(","!",["T_STRING","count",113],"(",["T_VARIABLE","$supp",113],")",")",["T_WHITESPACE"," ",113],"{",["T_WHITESPACE","\r\n            ",113],["T_RETURN","return",114],["T_WHITESPACE"," ",114],["T_VARIABLE","$default",114],";",["T_WHITESPACE","\r\n        ",114],"}",["T_WHITESPACE","\r\n\r\n        ",115],["T_IF","if",117],["T_WHITESPACE"," ",117],"(",["T_ISSET","isset",117],"(",["T_VARIABLE","$_SERVER",117],"[",["T_CONSTANT_ENCAPSED_STRING","'HTTP_ACCEPT_LANGUAGE'",117],"]",")",")",["T_WHITESPACE"," ",117],"{",["T_WHITESPACE","\r\n            ",117],["T_VARIABLE","$match",118],["T_WHITESPACE"," ",118],"=",["T_WHITESPACE"," ",118],["T_STRING","HTTP",118],["T_DOUBLE_COLON","::",118],["T_STRING","_matchAccept",118],"(",["T_VARIABLE","$_SERVER",118],"[",["T_CONSTANT_ENCAPSED_STRING","'HTTP_ACCEPT_LANGUAGE'",118],"]",",",["T_WHITESPACE","\r\n                                        ",118],["T_VARIABLE","$supp",119],")",";",["T_WHITESPACE","\r\n            ",119],["T_IF","if",120],["T_WHITESPACE"," ",120],"(","!",["T_STRING","is_null",120],"(",["T_VARIABLE","$match",120],")",")",["T_WHITESPACE"," ",120],"{",["T_WHITESPACE","\r\n                ",120],["T_RETURN","return",121],["T_WHITESPACE"," ",121],["T_VARIABLE","$match",121],";",["T_WHITESPACE","\r\n            ",121],"}",["T_WHITESPACE","\r\n        ",122],"}",["T_WHITESPACE","\r\n\r\n        ",123],["T_IF","if",125],["T_WHITESPACE"," ",125],"(",["T_ISSET","isset",125],"(",["T_VARIABLE","$_SERVER",125],"[",["T_CONSTANT_ENCAPSED_STRING","'REMOTE_HOST'",125],"]",")",")",["T_WHITESPACE"," ",125],"{",["T_WHITESPACE","\r\n            ",125],["T_VARIABLE","$lang",126],["T_WHITESPACE"," ",126],"=",["T_WHITESPACE"," ",126],["T_STRING","strtolower",126],"(",["T_STRING","end",126],"(",["T_VARIABLE","$h",126],["T_WHITESPACE"," ",126],"=",["T_WHITESPACE"," ",126],["T_STRING","explode",126],"(",["T_CONSTANT_ENCAPSED_STRING","'.'",126],",",["T_WHITESPACE"," ",126],["T_VARIABLE","$_SERVER",126],"[",["T_CONSTANT_ENCAPSED_STRING","'REMOTE_HOST'",126],"]",")",")",")",";",["T_WHITESPACE","\r\n            ",126],["T_IF","if",127],["T_WHITESPACE"," ",127],"(",["T_ISSET","isset",127],"(",["T_VARIABLE","$supp",127],"[",["T_VARIABLE","$lang",127],"]",")",")",["T_WHITESPACE"," ",127],"{",["T_WHITESPACE","\r\n                ",127],["T_RETURN","return",128],["T_WHITESPACE"," ",128],["T_VARIABLE","$supp",128],"[",["T_VARIABLE","$lang",128],"]",";",["T_WHITESPACE","\r\n            ",128],"}",["T_WHITESPACE","\r\n        ",129],"}",["T_WHITESPACE","\r\n\r\n        ",130],["T_RETURN","return",132],["T_WHITESPACE"," ",132],["T_VARIABLE","$default",132],";",["T_WHITESPACE","\r\n    ",132],"}",["T_WHITESPACE","\r\n\r\n    ",133],["T_DOC_COMMENT","\/**\r\n     * Negotiates charset with the user's browser through the Accept-Charset\r\n     * HTTP header.\r\n     *\r\n     * Quality factors in the Accept-Charset: header are supported, e.g.:\r\n     *      Accept-Language: en-UK;q=0.7, en-US;q=0.6, no, dk;q=0.8\r\n     *\r\n     * <code>\r\n     *  require_once 'HTTP.php';\r\n     *  $charsets = array(\r\n     *      'UTF-8',\r\n     *      'ISO-8859-1',\r\n     *  );\r\n     *  $charset = HTTP::negotiateCharset($charsets);\r\n     * <\/code>\r\n     *\r\n     * @param array  $supported An array of supported charsets\r\n     * @param string $default   The default charset to use if none is found.\r\n     *\r\n     * @return string  The negotiated language result or the supplied default.\r\n     * @static\r\n     * @author Philippe Jausions <jausions@php.net>\r\n     * @access public\r\n     * @since  1.4.1\r\n     *\/",135],["T_WHITESPACE","\r\n    ",159],["T_FUNCTION","function",160],["T_WHITESPACE"," ",160],["T_STRING","negotiateCharset",160],"(",["T_VARIABLE","$supported",160],",",["T_WHITESPACE"," ",160],["T_VARIABLE","$default",160],["T_WHITESPACE"," ",160],"=",["T_WHITESPACE"," ",160],["T_CONSTANT_ENCAPSED_STRING","'ISO-8859-1'",160],")",["T_WHITESPACE","\r\n    ",160],"{",["T_WHITESPACE","\r\n        ",161],["T_VARIABLE","$supp",162],["T_WHITESPACE"," ",162],"=",["T_WHITESPACE"," ",162],["T_ARRAY","array",162],"(",")",";",["T_WHITESPACE","\r\n        ",162],["T_FOREACH","foreach",163],["T_WHITESPACE"," ",163],"(",["T_VARIABLE","$supported",163],["T_WHITESPACE"," ",163],["T_AS","as",163],["T_WHITESPACE"," ",163],["T_VARIABLE","$charset",163],")",["T_WHITESPACE"," ",163],"{",["T_WHITESPACE","\r\n            ",163],["T_VARIABLE","$supp",164],"[",["T_STRING","strtolower",164],"(",["T_VARIABLE","$charset",164],")","]",["T_WHITESPACE"," ",164],"=",["T_WHITESPACE"," ",164],["T_VARIABLE","$charset",164],";",["T_WHITESPACE","\r\n        ",164],"}",["T_WHITESPACE","\r\n\r\n        ",165],["T_IF","if",167],["T_WHITESPACE"," ",167],"(","!",["T_STRING","count",167],"(",["T_VARIABLE","$supp",167],")",")",["T_WHITESPACE"," ",167],"{",["T_WHITESPACE","\r\n            ",167],["T_RETURN","return",168],["T_WHITESPACE"," ",168],["T_VARIABLE","$default",168],";",["T_WHITESPACE","\r\n        ",168],"}",["T_WHITESPACE","\r\n\r\n        ",169],["T_IF","if",171],["T_WHITESPACE"," ",171],"(",["T_ISSET","isset",171],"(",["T_VARIABLE","$_SERVER",171],"[",["T_CONSTANT_ENCAPSED_STRING","'HTTP_ACCEPT_CHARSET'",171],"]",")",")",["T_WHITESPACE"," ",171],"{",["T_WHITESPACE","\r\n            ",171],["T_VARIABLE","$match",172],["T_WHITESPACE"," ",172],"=",["T_WHITESPACE"," ",172],["T_STRING","HTTP",172],["T_DOUBLE_COLON","::",172],["T_STRING","_matchAccept",172],"(",["T_VARIABLE","$_SERVER",172],"[",["T_CONSTANT_ENCAPSED_STRING","'HTTP_ACCEPT_CHARSET'",172],"]",",",["T_WHITESPACE","\r\n                                        ",172],["T_VARIABLE","$supp",173],")",";",["T_WHITESPACE","\r\n            ",173],["T_IF","if",174],["T_WHITESPACE"," ",174],"(","!",["T_STRING","is_null",174],"(",["T_VARIABLE","$match",174],")",")",["T_WHITESPACE"," ",174],"{",["T_WHITESPACE","\r\n                ",174],["T_RETURN","return",175],["T_WHITESPACE"," ",175],["T_VARIABLE","$match",175],";",["T_WHITESPACE","\r\n            ",175],"}",["T_WHITESPACE","\r\n        ",176],"}",["T_WHITESPACE","\r\n\r\n        ",177],["T_RETURN","return",179],["T_WHITESPACE"," ",179],["T_VARIABLE","$default",179],";",["T_WHITESPACE","\r\n    ",179],"}",["T_WHITESPACE","\r\n\r\n    ",180],["T_DOC_COMMENT","\/**\r\n     * Negotiates content type with the user's browser through the Accept\r\n     * HTTP header.\r\n     *\r\n     * Quality factors in the Accept: header are supported, e.g.:\r\n     *      Accept: application\/xhtml+xml,text\/html;q=0.9,text\/plain;q=0.8\r\n     *\r\n     * <code>\r\n     *  require_once 'HTTP.php';\r\n     *  $contentType = array(\r\n     *      'application\/xhtml+xml',\r\n     *      'application\/xml',\r\n     *      'text\/html',\r\n     *      'text\/plain',\r\n     *  );\r\n     *  $mime = HTTP::negotiateContentType($contentType);\r\n     * <\/code>\r\n     *\r\n     * @param array  $supported An associative array of supported MIME types.\r\n     * @param string $default   The default type to use if none match.\r\n     *\r\n     * @return string  The negotiated MIME type result or the supplied default.\r\n     * @static\r\n     * @author Philippe Jausions <jausions@php.net>\r\n     * @access public\r\n     * @since  1.4.1\r\n     *\/",182],["T_WHITESPACE","\r\n    ",208],["T_FUNCTION","function",209],["T_WHITESPACE"," ",209],["T_STRING","negotiateMimeType",209],"(",["T_VARIABLE","$supported",209],",",["T_WHITESPACE"," ",209],["T_VARIABLE","$default",209],")",["T_WHITESPACE","\r\n    ",209],"{",["T_WHITESPACE","\r\n        ",210],["T_VARIABLE","$supp",211],["T_WHITESPACE"," ",211],"=",["T_WHITESPACE"," ",211],["T_ARRAY","array",211],"(",")",";",["T_WHITESPACE","\r\n        ",211],["T_FOREACH","foreach",212],["T_WHITESPACE"," ",212],"(",["T_VARIABLE","$supported",212],["T_WHITESPACE"," ",212],["T_AS","as",212],["T_WHITESPACE"," ",212],["T_VARIABLE","$type",212],")",["T_WHITESPACE"," ",212],"{",["T_WHITESPACE","\r\n            ",212],["T_VARIABLE","$supp",213],"[",["T_STRING","strtolower",213],"(",["T_VARIABLE","$type",213],")","]",["T_WHITESPACE"," ",213],"=",["T_WHITESPACE"," ",213],["T_VARIABLE","$type",213],";",["T_WHITESPACE","\r\n        ",213],"}",["T_WHITESPACE","\r\n\r\n        ",214],["T_IF","if",216],["T_WHITESPACE"," ",216],"(","!",["T_STRING","count",216],"(",["T_VARIABLE","$supp",216],")",")",["T_WHITESPACE"," ",216],"{",["T_WHITESPACE","\r\n            ",216],["T_RETURN","return",217],["T_WHITESPACE"," ",217],["T_VARIABLE","$default",217],";",["T_WHITESPACE","\r\n        ",217],"}",["T_WHITESPACE","\r\n\r\n        ",218],["T_IF","if",220],["T_WHITESPACE"," ",220],"(",["T_ISSET","isset",220],"(",["T_VARIABLE","$_SERVER",220],"[",["T_CONSTANT_ENCAPSED_STRING","'HTTP_ACCEPT'",220],"]",")",")",["T_WHITESPACE"," ",220],"{",["T_WHITESPACE","\r\n            ",220],["T_VARIABLE","$accepts",221],["T_WHITESPACE"," ",221],"=",["T_WHITESPACE"," ",221],["T_STRING","HTTP",221],["T_DOUBLE_COLON","::",221],["T_STRING","_sortAccept",221],"(",["T_VARIABLE","$_SERVER",221],"[",["T_CONSTANT_ENCAPSED_STRING","'HTTP_ACCEPT'",221],"]",")",";",["T_WHITESPACE","\r\n\r\n            ",221],["T_FOREACH","foreach",223],["T_WHITESPACE"," ",223],"(",["T_VARIABLE","$accepts",223],["T_WHITESPACE"," ",223],["T_AS","as",223],["T_WHITESPACE"," ",223],["T_VARIABLE","$type",223],["T_WHITESPACE"," ",223],["T_DOUBLE_ARROW","=>",223],["T_WHITESPACE"," ",223],["T_VARIABLE","$q",223],")",["T_WHITESPACE"," ",223],"{",["T_WHITESPACE","\r\n                ",223],["T_IF","if",224],["T_WHITESPACE"," ",224],"(",["T_STRING","substr",224],"(",["T_VARIABLE","$type",224],",",["T_WHITESPACE"," ",224],"-",["T_LNUMBER","2",224],")",["T_WHITESPACE"," ",224],["T_IS_NOT_EQUAL","!=",224],["T_WHITESPACE"," ",224],["T_CONSTANT_ENCAPSED_STRING","'\/*'",224],")",["T_WHITESPACE"," ",224],"{",["T_WHITESPACE","\r\n                    ",224],["T_IF","if",225],["T_WHITESPACE"," ",225],"(",["T_ISSET","isset",225],"(",["T_VARIABLE","$supp",225],"[",["T_VARIABLE","$type",225],"]",")",")",["T_WHITESPACE"," ",225],"{",["T_WHITESPACE","\r\n                        ",225],["T_RETURN","return",226],["T_WHITESPACE"," ",226],["T_VARIABLE","$supp",226],"[",["T_VARIABLE","$type",226],"]",";",["T_WHITESPACE","\r\n                    ",226],"}",["T_WHITESPACE","\r\n                    ",227],["T_CONTINUE","continue",228],";",["T_WHITESPACE","\r\n                ",228],"}",["T_WHITESPACE","\r\n                ",229],["T_IF","if",230],["T_WHITESPACE"," ",230],"(",["T_VARIABLE","$type",230],["T_WHITESPACE"," ",230],["T_IS_EQUAL","==",230],["T_WHITESPACE"," ",230],["T_CONSTANT_ENCAPSED_STRING","'*\/*'",230],")",["T_WHITESPACE"," ",230],"{",["T_WHITESPACE","\r\n                    ",230],["T_RETURN","return",231],["T_WHITESPACE"," ",231],["T_STRING","array_shift",231],"(",["T_VARIABLE","$supp",231],")",";",["T_WHITESPACE","\r\n                ",231],"}",["T_WHITESPACE","\r\n                ",232],["T_LIST","list",233],"(",["T_VARIABLE","$general",233],",",["T_WHITESPACE"," ",233],["T_VARIABLE","$specific",233],")",["T_WHITESPACE"," ",233],"=",["T_WHITESPACE"," ",233],["T_STRING","explode",233],"(",["T_CONSTANT_ENCAPSED_STRING","'\/'",233],",",["T_WHITESPACE"," ",233],["T_VARIABLE","$type",233],")",";",["T_WHITESPACE","\r\n                ",233],["T_VARIABLE","$general",234],["T_WHITESPACE"," ",234],["T_CONCAT_EQUAL",".=",234],["T_WHITESPACE"," ",234],["T_CONSTANT_ENCAPSED_STRING","'\/'",234],";",["T_WHITESPACE","\r\n                ",234],["T_VARIABLE","$len",235],["T_WHITESPACE"," ",235],"=",["T_WHITESPACE"," ",235],["T_STRING","strlen",235],"(",["T_VARIABLE","$general",235],")",";",["T_WHITESPACE","\r\n                ",235],["T_FOREACH","foreach",236],["T_WHITESPACE"," ",236],"(",["T_VARIABLE","$supp",236],["T_WHITESPACE"," ",236],["T_AS","as",236],["T_WHITESPACE"," ",236],["T_VARIABLE","$mime",236],["T_WHITESPACE"," ",236],["T_DOUBLE_ARROW","=>",236],["T_WHITESPACE"," ",236],["T_VARIABLE","$t",236],")",["T_WHITESPACE"," ",236],"{",["T_WHITESPACE","\r\n                    ",236],["T_IF","if",237],["T_WHITESPACE"," ",237],"(",["T_STRING","strncasecmp",237],"(",["T_VARIABLE","$general",237],",",["T_WHITESPACE"," ",237],["T_VARIABLE","$mime",237],",",["T_WHITESPACE"," ",237],["T_VARIABLE","$len",237],")",["T_WHITESPACE"," ",237],["T_IS_EQUAL","==",237],["T_WHITESPACE"," ",237],["T_LNUMBER","0",237],")",["T_WHITESPACE"," ",237],"{",["T_WHITESPACE","\r\n                        ",237],["T_RETURN","return",238],["T_WHITESPACE"," ",238],["T_VARIABLE","$t",238],";",["T_WHITESPACE","\r\n                    ",238],"}",["T_WHITESPACE","\r\n                ",239],"}",["T_WHITESPACE","\r\n            ",240],"}",["T_WHITESPACE","\r\n        ",241],"}",["T_WHITESPACE","\r\n\r\n        ",242],["T_RETURN","return",244],["T_WHITESPACE"," ",244],["T_VARIABLE","$default",244],";",["T_WHITESPACE","\r\n    ",244],"}",["T_WHITESPACE","\r\n\r\n    ",245],["T_DOC_COMMENT","\/**\r\n     * Parses a weighed \"Accept\" HTTP header and matches it against a list\r\n     * of supported options\r\n     *\r\n     * @param string  $header    The HTTP \"Accept\" header to parse\r\n     * @param array   $supported A list of supported values\r\n     *\r\n     * @return string|NULL  a matched option, or NULL if no match\r\n     * @access private\r\n     * @static\r\n     *\/",247],["T_WHITESPACE","\r\n    ",257],["T_FUNCTION","function",258],["T_WHITESPACE"," ",258],["T_STRING","_matchAccept",258],"(",["T_VARIABLE","$header",258],",",["T_WHITESPACE"," ",258],["T_VARIABLE","$supported",258],")",["T_WHITESPACE","\r\n    ",258],"{",["T_WHITESPACE","\r\n        ",259],["T_VARIABLE","$matches",260],["T_WHITESPACE"," ",260],"=",["T_WHITESPACE"," ",260],["T_STRING","HTTP",260],["T_DOUBLE_COLON","::",260],["T_STRING","_sortAccept",260],"(",["T_VARIABLE","$header",260],")",";",["T_WHITESPACE","\r\n        ",260],["T_FOREACH","foreach",261],["T_WHITESPACE"," ",261],"(",["T_VARIABLE","$matches",261],["T_WHITESPACE"," ",261],["T_AS","as",261],["T_WHITESPACE"," ",261],["T_VARIABLE","$key",261],["T_WHITESPACE"," ",261],["T_DOUBLE_ARROW","=>",261],["T_WHITESPACE"," ",261],["T_VARIABLE","$q",261],")",["T_WHITESPACE"," ",261],"{",["T_WHITESPACE","\r\n            ",261],["T_IF","if",262],["T_WHITESPACE"," ",262],"(",["T_ISSET","isset",262],"(",["T_VARIABLE","$supported",262],"[",["T_VARIABLE","$key",262],"]",")",")",["T_WHITESPACE"," ",262],"{",["T_WHITESPACE","\r\n                ",262],["T_RETURN","return",263],["T_WHITESPACE"," ",263],["T_VARIABLE","$supported",263],"[",["T_VARIABLE","$key",263],"]",";",["T_WHITESPACE","\r\n            ",263],"}",["T_WHITESPACE","\r\n        ",264],"}",["T_WHITESPACE","\r\n        ",265],["T_COMMENT","\/\/ If any (i.e. \"*\") is acceptable, return the first supported format \r\n",266],["T_WHITESPACE","        ",267],["T_IF","if",267],["T_WHITESPACE"," ",267],"(",["T_ISSET","isset",267],"(",["T_VARIABLE","$matches",267],"[",["T_CONSTANT_ENCAPSED_STRING","'*'",267],"]",")",")",["T_WHITESPACE"," ",267],"{",["T_WHITESPACE","\r\n            ",267],["T_RETURN","return",268],["T_WHITESPACE"," ",268],["T_STRING","array_shift",268],"(",["T_VARIABLE","$supported",268],")",";",["T_WHITESPACE","\r\n        ",268],"}",["T_WHITESPACE","\r\n        ",269],["T_RETURN","return",270],["T_WHITESPACE"," ",270],["T_STRING","null",270],";",["T_WHITESPACE","\r\n    ",270],"}",["T_WHITESPACE","\r\n\r\n    ",271],["T_DOC_COMMENT","\/**\r\n     * Parses and sorts a weighed \"Accept\" HTTP header\r\n     *\r\n     * @param string  $header The HTTP \"Accept\" header to parse\r\n     *\r\n     * @return array  a sorted list of \"accept\" options\r\n     * @access private\r\n     * @static\r\n     *\/",273],["T_WHITESPACE","\r\n    ",281],["T_FUNCTION","function",282],["T_WHITESPACE"," ",282],["T_STRING","_sortAccept",282],"(",["T_VARIABLE","$header",282],")",["T_WHITESPACE","\r\n    ",282],"{",["T_WHITESPACE","\r\n        ",283],["T_VARIABLE","$matches",284],["T_WHITESPACE"," ",284],"=",["T_WHITESPACE"," ",284],["T_ARRAY","array",284],"(",")",";",["T_WHITESPACE","\r\n        ",284],["T_FOREACH","foreach",285],["T_WHITESPACE"," ",285],"(",["T_STRING","explode",285],"(",["T_CONSTANT_ENCAPSED_STRING","','",285],",",["T_WHITESPACE"," ",285],["T_VARIABLE","$header",285],")",["T_WHITESPACE"," ",285],["T_AS","as",285],["T_WHITESPACE"," ",285],["T_VARIABLE","$option",285],")",["T_WHITESPACE"," ",285],"{",["T_WHITESPACE","\r\n            ",285],["T_VARIABLE","$option",286],["T_WHITESPACE"," ",286],"=",["T_WHITESPACE"," ",286],["T_STRING","array_map",286],"(",["T_CONSTANT_ENCAPSED_STRING","'trim'",286],",",["T_WHITESPACE"," ",286],["T_STRING","explode",286],"(",["T_CONSTANT_ENCAPSED_STRING","';'",286],",",["T_WHITESPACE"," ",286],["T_VARIABLE","$option",286],")",")",";",["T_WHITESPACE","\r\n\r\n            ",286],["T_VARIABLE","$l",288],["T_WHITESPACE"," ",288],"=",["T_WHITESPACE"," ",288],["T_STRING","strtolower",288],"(",["T_VARIABLE","$option",288],"[",["T_LNUMBER","0",288],"]",")",";",["T_WHITESPACE","\r\n            ",288],["T_IF","if",289],["T_WHITESPACE"," ",289],"(",["T_ISSET","isset",289],"(",["T_VARIABLE","$option",289],"[",["T_LNUMBER","1",289],"]",")",")",["T_WHITESPACE"," ",289],"{",["T_WHITESPACE","\r\n                ",289],["T_VARIABLE","$q",290],["T_WHITESPACE"," ",290],"=",["T_WHITESPACE"," ",290],["T_DOUBLE_CAST","(float)",290],["T_WHITESPACE"," ",290],["T_STRING","str_replace",290],"(",["T_CONSTANT_ENCAPSED_STRING","'q='",290],",",["T_WHITESPACE"," ",290],["T_CONSTANT_ENCAPSED_STRING","''",290],",",["T_WHITESPACE"," ",290],["T_VARIABLE","$option",290],"[",["T_LNUMBER","1",290],"]",")",";",["T_WHITESPACE","\r\n            ",290],"}",["T_WHITESPACE"," ",291],["T_ELSE","else",291],["T_WHITESPACE"," ",291],"{",["T_WHITESPACE","\r\n                ",291],["T_VARIABLE","$q",292],["T_WHITESPACE"," ",292],"=",["T_WHITESPACE"," ",292],["T_STRING","null",292],";",["T_WHITESPACE","\r\n                ",292],["T_COMMENT","\/\/ Assign default low weight for generic values\r\n",293],["T_WHITESPACE","                ",294],["T_IF","if",294],["T_WHITESPACE"," ",294],"(",["T_VARIABLE","$l",294],["T_WHITESPACE"," ",294],["T_IS_EQUAL","==",294],["T_WHITESPACE"," ",294],["T_CONSTANT_ENCAPSED_STRING","'*\/*'",294],")",["T_WHITESPACE"," ",294],"{",["T_WHITESPACE","\r\n                    ",294],["T_VARIABLE","$q",295],["T_WHITESPACE"," ",295],"=",["T_WHITESPACE"," ",295],["T_DNUMBER","0.01",295],";",["T_WHITESPACE","\r\n                ",295],"}",["T_WHITESPACE"," ",296],["T_ELSEIF","elseif",296],["T_WHITESPACE"," ",296],"(",["T_STRING","substr",296],"(",["T_VARIABLE","$l",296],",",["T_WHITESPACE"," ",296],"-",["T_LNUMBER","1",296],")",["T_WHITESPACE"," ",296],["T_IS_EQUAL","==",296],["T_WHITESPACE"," ",296],["T_CONSTANT_ENCAPSED_STRING","'*'",296],")",["T_WHITESPACE"," ",296],"{",["T_WHITESPACE","\r\n                    ",296],["T_VARIABLE","$q",297],["T_WHITESPACE"," ",297],"=",["T_WHITESPACE"," ",297],["T_DNUMBER","0.02",297],";",["T_WHITESPACE","\r\n                ",297],"}",["T_WHITESPACE","\r\n            ",298],"}",["T_WHITESPACE","\r\n            ",299],["T_COMMENT","\/\/ Unweighted values, get high weight by their position in the\r\n",300],["T_WHITESPACE","            ",301],["T_COMMENT","\/\/ list \r\n",301],["T_WHITESPACE","            ",302],["T_VARIABLE","$matches",302],"[",["T_VARIABLE","$l",302],"]",["T_WHITESPACE"," ",302],"=",["T_WHITESPACE"," ",302],["T_ISSET","isset",302],"(",["T_VARIABLE","$q",302],")",["T_WHITESPACE"," ",302],"?",["T_WHITESPACE"," ",302],["T_VARIABLE","$q",302],["T_WHITESPACE"," ",302],":",["T_WHITESPACE"," ",302],["T_LNUMBER","1000",302],["T_WHITESPACE"," ",302],"-",["T_WHITESPACE"," ",302],["T_STRING","count",302],"(",["T_VARIABLE","$matches",302],")",";",["T_WHITESPACE","\r\n        ",302],"}",["T_WHITESPACE","\r\n        ",303],["T_STRING","arsort",304],"(",["T_VARIABLE","$matches",304],",",["T_WHITESPACE"," ",304],["T_STRING","SORT_NUMERIC",304],")",";",["T_WHITESPACE","\r\n        ",304],["T_RETURN","return",305],["T_WHITESPACE"," ",305],["T_VARIABLE","$matches",305],";",["T_WHITESPACE","\r\n    ",305],"}",["T_WHITESPACE","\r\n\r\n    ",306],["T_DOC_COMMENT","\/**\r\n     * Sends a \"HEAD\" HTTP command to a server and returns the headers\r\n     * as an associative array.\r\n     *\r\n     * Example output could be:\r\n     * <code>\r\n     *     Array\r\n     *     (\r\n     *         [response_code] => 200          \/\/ The HTTP response code\r\n     *         [response] => HTTP\/1.1 200 OK   \/\/ The full HTTP response string\r\n     *         [Date] => Fri, 11 Jan 2002 01:41:44 GMT\r\n     *         [Server] => Apache\/1.3.20 (Unix) PHP\/4.1.1\r\n     *         [X-Powered-By] => PHP\/4.1.1\r\n     *         [Connection] => close\r\n     *         [Content-Type] => text\/html\r\n     *     )\r\n     * <\/code>\r\n     *\r\n     * @param string  $url     A valid URL, e.g.: http:\/\/pear.php.net\/credits.php\r\n     * @param integer $timeout Timeout in seconds (default = 10)\r\n     *\r\n     * @return array  Returns associative array of response headers on success\r\n     *                or PEAR error on failure.\r\n     * @static\r\n     * @access public\r\n     * @see HTTP_Client::head()\r\n     * @see HTTP_Request\r\n     *\/",308],["T_WHITESPACE","\r\n    ",335],["T_FUNCTION","function",336],["T_WHITESPACE"," ",336],["T_STRING","head",336],"(",["T_VARIABLE","$url",336],",",["T_WHITESPACE"," ",336],["T_VARIABLE","$timeout",336],["T_WHITESPACE"," ",336],"=",["T_WHITESPACE"," ",336],["T_LNUMBER","10",336],")",["T_WHITESPACE","\r\n    ",336],"{",["T_WHITESPACE","\r\n        ",337],["T_VARIABLE","$p",338],["T_WHITESPACE"," ",338],"=",["T_WHITESPACE"," ",338],["T_STRING","parse_url",338],"(",["T_VARIABLE","$url",338],")",";",["T_WHITESPACE","\r\n        ",338],["T_IF","if",339],["T_WHITESPACE"," ",339],"(","!",["T_ISSET","isset",339],"(",["T_VARIABLE","$p",339],"[",["T_CONSTANT_ENCAPSED_STRING","'scheme'",339],"]",")",")",["T_WHITESPACE"," ",339],"{",["T_WHITESPACE","\r\n            ",339],["T_VARIABLE","$p",340],["T_WHITESPACE"," ",340],"=",["T_WHITESPACE"," ",340],["T_STRING","parse_url",340],"(",["T_STRING","HTTP",340],["T_DOUBLE_COLON","::",340],["T_STRING","absoluteURI",340],"(",["T_VARIABLE","$url",340],")",")",";",["T_WHITESPACE","\r\n        ",340],"}",["T_WHITESPACE"," ",341],["T_ELSEIF","elseif",341],["T_WHITESPACE"," ",341],"(",["T_VARIABLE","$p",341],"[",["T_CONSTANT_ENCAPSED_STRING","'scheme'",341],"]",["T_WHITESPACE"," ",341],["T_IS_NOT_EQUAL","!=",341],["T_WHITESPACE"," ",341],["T_CONSTANT_ENCAPSED_STRING","'http'",341],")",["T_WHITESPACE"," ",341],"{",["T_WHITESPACE","\r\n            ",341],["T_RETURN","return",342],["T_WHITESPACE"," ",342],["T_STRING","HTTP",342],["T_DOUBLE_COLON","::",342],["T_STRING","raiseError",342],"(",["T_CONSTANT_ENCAPSED_STRING","'Unsupported protocol: '",342],".",["T_WHITESPACE"," ",342],["T_VARIABLE","$p",342],"[",["T_CONSTANT_ENCAPSED_STRING","'scheme'",342],"]",")",";",["T_WHITESPACE","\r\n        ",342],"}",["T_WHITESPACE","\r\n\r\n        ",343],["T_VARIABLE","$port",345],["T_WHITESPACE"," ",345],"=",["T_WHITESPACE"," ",345],["T_ISSET","isset",345],"(",["T_VARIABLE","$p",345],"[",["T_CONSTANT_ENCAPSED_STRING","'port'",345],"]",")",["T_WHITESPACE"," ",345],"?",["T_WHITESPACE"," ",345],["T_VARIABLE","$p",345],"[",["T_CONSTANT_ENCAPSED_STRING","'port'",345],"]",["T_WHITESPACE"," ",345],":",["T_WHITESPACE"," ",345],["T_LNUMBER","80",345],";",["T_WHITESPACE","\r\n\r\n        ",345],["T_IF","if",347],["T_WHITESPACE"," ",347],"(","!",["T_VARIABLE","$fp",347],["T_WHITESPACE"," ",347],"=",["T_WHITESPACE"," ",347],"@",["T_STRING","fsockopen",347],"(",["T_VARIABLE","$p",347],"[",["T_CONSTANT_ENCAPSED_STRING","'host'",347],"]",",",["T_WHITESPACE"," ",347],["T_VARIABLE","$port",347],",",["T_WHITESPACE"," ",347],["T_VARIABLE","$eno",347],",",["T_WHITESPACE"," ",347],["T_VARIABLE","$estr",347],",",["T_WHITESPACE"," ",347],["T_VARIABLE","$timeout",347],")",")",["T_WHITESPACE"," ",347],"{",["T_WHITESPACE","\r\n            ",347],["T_RETURN","return",348],["T_WHITESPACE"," ",348],["T_STRING","HTTP",348],["T_DOUBLE_COLON","::",348],["T_STRING","raiseError",348],"(","\"",["T_ENCAPSED_AND_WHITESPACE","Connection error: ",348],["T_VARIABLE","$estr",348],["T_ENCAPSED_AND_WHITESPACE"," (",348],["T_VARIABLE","$eno",348],["T_ENCAPSED_AND_WHITESPACE",")",348],"\"",")",";",["T_WHITESPACE","\r\n        ",348],"}",["T_WHITESPACE","\r\n\r\n        ",349],["T_VARIABLE","$path",351],["T_WHITESPACE","  ",351],"=",["T_WHITESPACE"," ",351],"!",["T_EMPTY","empty",351],"(",["T_VARIABLE","$p",351],"[",["T_CONSTANT_ENCAPSED_STRING","'path'",351],"]",")",["T_WHITESPACE"," ",351],"?",["T_WHITESPACE"," ",351],["T_VARIABLE","$p",351],"[",["T_CONSTANT_ENCAPSED_STRING","'path'",351],"]",["T_WHITESPACE"," ",351],":",["T_WHITESPACE"," ",351],["T_CONSTANT_ENCAPSED_STRING","'\/'",351],";",["T_WHITESPACE","\r\n        ",351],["T_VARIABLE","$path",352],["T_WHITESPACE"," ",352],["T_CONCAT_EQUAL",".=",352],["T_WHITESPACE"," ",352],"!",["T_EMPTY","empty",352],"(",["T_VARIABLE","$p",352],"[",["T_CONSTANT_ENCAPSED_STRING","'query'",352],"]",")",["T_WHITESPACE"," ",352],"?",["T_WHITESPACE"," ",352],["T_CONSTANT_ENCAPSED_STRING","'?'",352],["T_WHITESPACE"," ",352],".",["T_WHITESPACE"," ",352],["T_VARIABLE","$p",352],"[",["T_CONSTANT_ENCAPSED_STRING","'query'",352],"]",["T_WHITESPACE"," ",352],":",["T_WHITESPACE"," ",352],["T_CONSTANT_ENCAPSED_STRING","''",352],";",["T_WHITESPACE","\r\n\r\n        ",352],["T_STRING","fputs",354],"(",["T_VARIABLE","$fp",354],",",["T_WHITESPACE"," ",354],"\"",["T_ENCAPSED_AND_WHITESPACE","HEAD ",354],["T_VARIABLE","$path",354],["T_ENCAPSED_AND_WHITESPACE"," HTTP\/1.0\\r\\n",354],"\"",")",";",["T_WHITESPACE","\r\n        ",354],["T_STRING","fputs",355],"(",["T_VARIABLE","$fp",355],",",["T_WHITESPACE"," ",355],["T_CONSTANT_ENCAPSED_STRING","'Host: '",355],["T_WHITESPACE"," ",355],".",["T_WHITESPACE"," ",355],["T_VARIABLE","$p",355],"[",["T_CONSTANT_ENCAPSED_STRING","'host'",355],"]",["T_WHITESPACE"," ",355],".",["T_WHITESPACE"," ",355],["T_CONSTANT_ENCAPSED_STRING","':'",355],["T_WHITESPACE"," ",355],".",["T_WHITESPACE"," ",355],["T_VARIABLE","$port",355],["T_WHITESPACE"," ",355],".",["T_WHITESPACE"," ",355],["T_CONSTANT_ENCAPSED_STRING","\"\\r\\n\"",355],")",";",["T_WHITESPACE","\r\n        ",355],["T_STRING","fputs",356],"(",["T_VARIABLE","$fp",356],",",["T_WHITESPACE"," ",356],["T_CONSTANT_ENCAPSED_STRING","\"Connection: close\\r\\n\\r\\n\"",356],")",";",["T_WHITESPACE","\r\n\r\n        ",356],["T_VARIABLE","$response",358],["T_WHITESPACE"," ",358],"=",["T_WHITESPACE"," ",358],["T_STRING","rtrim",358],"(",["T_STRING","fgets",358],"(",["T_VARIABLE","$fp",358],",",["T_WHITESPACE"," ",358],["T_LNUMBER","4096",358],")",")",";",["T_WHITESPACE","\r\n        ",358],["T_IF","if",359],["T_WHITESPACE"," ",359],"(",["T_STRING","preg_match",359],"(",["T_CONSTANT_ENCAPSED_STRING","\"|^HTTP\/[^\\s]*\\s(.*?)\\s|\"",359],",",["T_WHITESPACE"," ",359],["T_VARIABLE","$response",359],",",["T_WHITESPACE"," ",359],["T_VARIABLE","$status",359],")",")",["T_WHITESPACE"," ",359],"{",["T_WHITESPACE","\r\n            ",359],["T_VARIABLE","$headers",360],"[",["T_CONSTANT_ENCAPSED_STRING","'response_code'",360],"]",["T_WHITESPACE"," ",360],"=",["T_WHITESPACE"," ",360],["T_VARIABLE","$status",360],"[",["T_LNUMBER","1",360],"]",";",["T_WHITESPACE","\r\n        ",360],"}",["T_WHITESPACE","\r\n        ",361],["T_VARIABLE","$headers",362],"[",["T_CONSTANT_ENCAPSED_STRING","'response'",362],"]",["T_WHITESPACE"," ",362],"=",["T_WHITESPACE"," ",362],["T_VARIABLE","$response",362],";",["T_WHITESPACE","\r\n\r\n        ",362],["T_WHILE","while",364],["T_WHITESPACE"," ",364],"(",["T_VARIABLE","$line",364],["T_WHITESPACE"," ",364],"=",["T_WHITESPACE"," ",364],["T_STRING","fgets",364],"(",["T_VARIABLE","$fp",364],",",["T_WHITESPACE"," ",364],["T_LNUMBER","4096",364],")",")",["T_WHITESPACE"," ",364],"{",["T_WHITESPACE","\r\n            ",364],["T_IF","if",365],["T_WHITESPACE"," ",365],"(","!",["T_STRING","trim",365],"(",["T_VARIABLE","$line",365],")",")",["T_WHITESPACE"," ",365],"{",["T_WHITESPACE","\r\n                ",365],["T_BREAK","break",366],";",["T_WHITESPACE","\r\n            ",366],"}",["T_WHITESPACE","\r\n            ",367],["T_IF","if",368],["T_WHITESPACE"," ",368],"(","(",["T_VARIABLE","$pos",368],["T_WHITESPACE"," ",368],"=",["T_WHITESPACE"," ",368],["T_STRING","strpos",368],"(",["T_VARIABLE","$line",368],",",["T_WHITESPACE"," ",368],["T_CONSTANT_ENCAPSED_STRING","':'",368],")",")",["T_WHITESPACE"," ",368],["T_IS_NOT_IDENTICAL","!==",368],["T_WHITESPACE"," ",368],["T_STRING","false",368],")",["T_WHITESPACE"," ",368],"{",["T_WHITESPACE","\r\n                ",368],["T_VARIABLE","$header",369],["T_WHITESPACE"," ",369],"=",["T_WHITESPACE"," ",369],["T_STRING","substr",369],"(",["T_VARIABLE","$line",369],",",["T_WHITESPACE"," ",369],["T_LNUMBER","0",369],",",["T_WHITESPACE"," ",369],["T_VARIABLE","$pos",369],")",";",["T_WHITESPACE","\r\n                ",369],["T_VARIABLE","$value",370],["T_WHITESPACE","  ",370],"=",["T_WHITESPACE"," ",370],["T_STRING","trim",370],"(",["T_STRING","substr",370],"(",["T_VARIABLE","$line",370],",",["T_WHITESPACE"," ",370],["T_VARIABLE","$pos",370],["T_WHITESPACE"," ",370],"+",["T_WHITESPACE"," ",370],["T_LNUMBER","1",370],")",")",";",["T_WHITESPACE","\r\n\r\n                ",370],["T_VARIABLE","$headers",372],"[",["T_VARIABLE","$header",372],"]",["T_WHITESPACE"," ",372],"=",["T_WHITESPACE"," ",372],["T_VARIABLE","$value",372],";",["T_WHITESPACE","\r\n            ",372],"}",["T_WHITESPACE","\r\n        ",373],"}",["T_WHITESPACE","\r\n        ",374],["T_STRING","fclose",375],"(",["T_VARIABLE","$fp",375],")",";",["T_WHITESPACE","\r\n        ",375],["T_RETURN","return",376],["T_WHITESPACE"," ",376],["T_VARIABLE","$headers",376],";",["T_WHITESPACE","\r\n    ",376],"}",["T_WHITESPACE","\r\n\r\n    ",377],["T_DOC_COMMENT","\/**\r\n     * This function redirects the client. This is done by issuing\r\n     * a \"Location\" header and exiting if wanted.  If you set $rfc2616 to true\r\n     * HTTP will output a hypertext note with the location of the redirect.\r\n     *\r\n     * @param string $url     URL where the redirect should go to.\r\n     * @param bool   $exit    Whether to exit immediately after redirection.\r\n     * @param bool   $rfc2616 Wheter to output a hypertext note where we're\r\n     *                        redirecting to (Redirecting to\r\n     *                        <a href=\"...\">...<\/a>.)\r\n     *\r\n     * @return boolean  Returns TRUE on succes (or exits) or FALSE if headers\r\n     *                  have already been sent.\r\n     * @static\r\n     * @access public\r\n     *\/",379],["T_WHITESPACE","\r\n    ",394],["T_FUNCTION","function",395],["T_WHITESPACE"," ",395],["T_STRING","redirect",395],"(",["T_VARIABLE","$url",395],",",["T_WHITESPACE"," ",395],["T_VARIABLE","$exit",395],["T_WHITESPACE"," ",395],"=",["T_WHITESPACE"," ",395],["T_STRING","true",395],",",["T_WHITESPACE"," ",395],["T_VARIABLE","$rfc2616",395],["T_WHITESPACE"," ",395],"=",["T_WHITESPACE"," ",395],["T_STRING","false",395],")",["T_WHITESPACE","\r\n    ",395],"{",["T_WHITESPACE","\r\n        ",396],["T_IF","if",397],["T_WHITESPACE"," ",397],"(",["T_STRING","headers_sent",397],"(",")",")",["T_WHITESPACE"," ",397],"{",["T_WHITESPACE","\r\n            ",397],["T_RETURN","return",398],["T_WHITESPACE"," ",398],["T_STRING","false",398],";",["T_WHITESPACE","\r\n        ",398],"}",["T_WHITESPACE","\r\n\r\n        ",399],["T_VARIABLE","$url",401],["T_WHITESPACE"," ",401],"=",["T_WHITESPACE"," ",401],["T_STRING","HTTP",401],["T_DOUBLE_COLON","::",401],["T_STRING","absoluteURI",401],"(",["T_VARIABLE","$url",401],")",";",["T_WHITESPACE","\r\n        ",401],["T_STRING","header",402],"(",["T_CONSTANT_ENCAPSED_STRING","'Location: '",402],".",["T_WHITESPACE"," ",402],["T_VARIABLE","$url",402],")",";",["T_WHITESPACE","\r\n\r\n        ",402],["T_IF","if",404],["T_WHITESPACE"," ",404],"(",["T_VARIABLE","$rfc2616",404],["T_WHITESPACE"," ",404],["T_BOOLEAN_AND","&&",404],["T_WHITESPACE"," ",404],["T_ISSET","isset",404],"(",["T_VARIABLE","$_SERVER",404],"[",["T_CONSTANT_ENCAPSED_STRING","'REQUEST_METHOD'",404],"]",")",["T_WHITESPACE","\r\n            ",404],["T_BOOLEAN_AND","&&",405],["T_WHITESPACE"," ",405],["T_VARIABLE","$_SERVER",405],"[",["T_CONSTANT_ENCAPSED_STRING","'REQUEST_METHOD'",405],"]",["T_WHITESPACE"," ",405],["T_IS_NOT_EQUAL","!=",405],["T_WHITESPACE"," ",405],["T_CONSTANT_ENCAPSED_STRING","'HEAD'",405],")",["T_WHITESPACE"," ",405],"{",["T_WHITESPACE","\r\n            ",405],["T_ECHO","echo",406],["T_WHITESPACE"," ",406],["T_CONSTANT_ENCAPSED_STRING","'\r\n<p>Redirecting to: <a href=\"'",406],".",["T_STRING","str_replace",407],"(",["T_CONSTANT_ENCAPSED_STRING","'\"'",407],",",["T_WHITESPACE"," ",407],["T_CONSTANT_ENCAPSED_STRING","'%22'",407],",",["T_WHITESPACE"," ",407],["T_VARIABLE","$url",407],")",".",["T_CONSTANT_ENCAPSED_STRING","'\">'",407],["T_WHITESPACE","\r\n                 ",407],".",["T_STRING","htmlspecialchars",408],"(",["T_VARIABLE","$url",408],")",".",["T_CONSTANT_ENCAPSED_STRING","'<\/a>.<\/p>\r\n<script type=\"text\/javascript\">\r\n\/\/<![CDATA[\r\nif (location.replace == null) {\r\n    location.replace = location.assign;\r\n}\r\nlocation.replace(\"'",408],".",["T_STRING","str_replace",414],"(",["T_CONSTANT_ENCAPSED_STRING","'\"'",414],",",["T_WHITESPACE"," ",414],["T_CONSTANT_ENCAPSED_STRING","'\\\\\"'",414],",",["T_WHITESPACE"," ",414],["T_VARIABLE","$url",414],")",".",["T_CONSTANT_ENCAPSED_STRING","'\");\r\n\/\/ ]]>\r\n<\/script>'",414],";",["T_WHITESPACE","\r\n        ",416],"}",["T_WHITESPACE","\r\n        ",417],["T_IF","if",418],["T_WHITESPACE"," ",418],"(",["T_VARIABLE","$exit",418],")",["T_WHITESPACE"," ",418],"{",["T_WHITESPACE","\r\n            ",418],["T_EXIT","exit",419],";",["T_WHITESPACE","\r\n        ",419],"}",["T_WHITESPACE","\r\n        ",420],["T_RETURN","return",421],["T_WHITESPACE"," ",421],["T_STRING","true",421],";",["T_WHITESPACE","\r\n    ",421],"}",["T_WHITESPACE","\r\n\r\n    ",422],["T_DOC_COMMENT","\/**\r\n     * This function returns the absolute URI for the partial URL passed.\r\n     * The current scheme (HTTP\/HTTPS), host server, port, current script\r\n     * location are used if necessary to resolve any relative URLs.\r\n     *\r\n     * Offsets potentially created by PATH_INFO are taken care of to resolve\r\n     * relative URLs to the current script.\r\n     *\r\n     * You can choose a new protocol while resolving the URI.  This is\r\n     * particularly useful when redirecting a web browser using relative URIs\r\n     * and to switch from HTTP to HTTPS, or vice-versa, at the same time.\r\n     *\r\n     * @param string  $url      Absolute or relative URI the redirect should\r\n     *                          go to.\r\n     * @param string  $protocol Protocol to use when redirecting URIs.\r\n     * @param integer $port     A new port number.\r\n     *\r\n     * @return string  The absolute URI.\r\n     * @author Philippe Jausions <Philippe.Jausions@11abacus.com>\r\n     * @static\r\n     * @access public\r\n     *\/",424],["T_WHITESPACE","\r\n    ",445],["T_FUNCTION","function",446],["T_WHITESPACE"," ",446],["T_STRING","absoluteURI",446],"(",["T_VARIABLE","$url",446],["T_WHITESPACE"," ",446],"=",["T_WHITESPACE"," ",446],["T_STRING","null",446],",",["T_WHITESPACE"," ",446],["T_VARIABLE","$protocol",446],["T_WHITESPACE"," ",446],"=",["T_WHITESPACE"," ",446],["T_STRING","null",446],",",["T_WHITESPACE"," ",446],["T_VARIABLE","$port",446],["T_WHITESPACE"," ",446],"=",["T_WHITESPACE"," ",446],["T_STRING","null",446],")",["T_WHITESPACE","\r\n    ",446],"{",["T_WHITESPACE","\r\n        ",447],["T_COMMENT","\/\/ filter CR\/LF\r\n",448],["T_WHITESPACE","        ",449],["T_VARIABLE","$url",449],["T_WHITESPACE"," ",449],"=",["T_WHITESPACE"," ",449],["T_STRING","str_replace",449],"(",["T_ARRAY","array",449],"(",["T_CONSTANT_ENCAPSED_STRING","\"\\r\"",449],",",["T_WHITESPACE"," ",449],["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",449],")",",",["T_WHITESPACE"," ",449],["T_CONSTANT_ENCAPSED_STRING","' '",449],",",["T_WHITESPACE"," ",449],["T_VARIABLE","$url",449],")",";",["T_WHITESPACE","\r\n\r\n        ",449],["T_COMMENT","\/\/ Mess around protocol and port with already absolute URIs\r\n",451],["T_WHITESPACE","        ",452],["T_IF","if",452],["T_WHITESPACE"," ",452],"(",["T_STRING","preg_match",452],"(",["T_CONSTANT_ENCAPSED_STRING","'!^([a-z0-9]+):\/\/!i'",452],",",["T_WHITESPACE"," ",452],["T_VARIABLE","$url",452],")",")",["T_WHITESPACE"," ",452],"{",["T_WHITESPACE","\r\n            ",452],["T_IF","if",453],["T_WHITESPACE"," ",453],"(",["T_EMPTY","empty",453],"(",["T_VARIABLE","$protocol",453],")",["T_WHITESPACE"," ",453],["T_BOOLEAN_AND","&&",453],["T_WHITESPACE"," ",453],["T_EMPTY","empty",453],"(",["T_VARIABLE","$port",453],")",")",["T_WHITESPACE"," ",453],"{",["T_WHITESPACE","\r\n                ",453],["T_RETURN","return",454],["T_WHITESPACE"," ",454],["T_VARIABLE","$url",454],";",["T_WHITESPACE","\r\n            ",454],"}",["T_WHITESPACE","\r\n            ",455],["T_IF","if",456],["T_WHITESPACE"," ",456],"(","!",["T_EMPTY","empty",456],"(",["T_VARIABLE","$protocol",456],")",")",["T_WHITESPACE"," ",456],"{",["T_WHITESPACE","\r\n                ",456],["T_VARIABLE","$url",457],["T_WHITESPACE"," ",457],"=",["T_WHITESPACE"," ",457],["T_VARIABLE","$protocol",457],["T_WHITESPACE"," ",457],".",["T_CONSTANT_ENCAPSED_STRING","':'",457],".",["T_WHITESPACE"," ",457],["T_STRING","end",457],"(",["T_VARIABLE","$array",457],["T_WHITESPACE"," ",457],"=",["T_WHITESPACE"," ",457],["T_STRING","explode",457],"(",["T_CONSTANT_ENCAPSED_STRING","':'",457],",",["T_WHITESPACE"," ",457],["T_VARIABLE","$url",457],",",["T_WHITESPACE"," ",457],["T_LNUMBER","2",457],")",")",";",["T_WHITESPACE","\r\n            ",457],"}",["T_WHITESPACE","\r\n            ",458],["T_IF","if",459],["T_WHITESPACE"," ",459],"(","!",["T_EMPTY","empty",459],"(",["T_VARIABLE","$port",459],")",")",["T_WHITESPACE"," ",459],"{",["T_WHITESPACE","\r\n                ",459],["T_VARIABLE","$url",460],["T_WHITESPACE"," ",460],"=",["T_WHITESPACE"," ",460],["T_STRING","preg_replace",460],"(",["T_CONSTANT_ENCAPSED_STRING","'!^(([a-z0-9]+):\/\/[^\/:]+)(:[\\d]+)?!i'",460],",",["T_WHITESPACE","\r\n                                    ",460],["T_CONSTANT_ENCAPSED_STRING","'\\1:'",461],".",["T_WHITESPACE"," ",461],["T_VARIABLE","$port",461],",",["T_WHITESPACE"," ",461],["T_VARIABLE","$url",461],")",";",["T_WHITESPACE","\r\n            ",461],"}",["T_WHITESPACE","\r\n            ",462],["T_RETURN","return",463],["T_WHITESPACE"," ",463],["T_VARIABLE","$url",463],";",["T_WHITESPACE","\r\n        ",463],"}",["T_WHITESPACE","\r\n\r\n        ",464],["T_VARIABLE","$host",466],["T_WHITESPACE"," ",466],"=",["T_WHITESPACE"," ",466],["T_CONSTANT_ENCAPSED_STRING","'localhost'",466],";",["T_WHITESPACE","\r\n        ",466],["T_IF","if",467],["T_WHITESPACE"," ",467],"(","!",["T_EMPTY","empty",467],"(",["T_VARIABLE","$_SERVER",467],"[",["T_CONSTANT_ENCAPSED_STRING","'HTTP_HOST'",467],"]",")",")",["T_WHITESPACE"," ",467],"{",["T_WHITESPACE","\r\n            ",467],["T_LIST","list",468],"(",["T_VARIABLE","$host",468],")",["T_WHITESPACE"," ",468],"=",["T_WHITESPACE"," ",468],["T_STRING","explode",468],"(",["T_CONSTANT_ENCAPSED_STRING","':'",468],",",["T_WHITESPACE"," ",468],["T_VARIABLE","$_SERVER",468],"[",["T_CONSTANT_ENCAPSED_STRING","'HTTP_HOST'",468],"]",")",";",["T_WHITESPACE","\r\n        ",468],"}",["T_WHITESPACE"," ",469],["T_ELSEIF","elseif",469],["T_WHITESPACE"," ",469],"(","!",["T_EMPTY","empty",469],"(",["T_VARIABLE","$_SERVER",469],"[",["T_CONSTANT_ENCAPSED_STRING","'SERVER_NAME'",469],"]",")",")",["T_WHITESPACE"," ",469],"{",["T_WHITESPACE","\r\n            ",469],["T_LIST","list",470],"(",["T_VARIABLE","$host",470],")",["T_WHITESPACE"," ",470],"=",["T_WHITESPACE"," ",470],["T_STRING","explode",470],"(",["T_CONSTANT_ENCAPSED_STRING","':'",470],",",["T_WHITESPACE"," ",470],["T_VARIABLE","$_SERVER",470],"[",["T_CONSTANT_ENCAPSED_STRING","'SERVER_NAME'",470],"]",")",";",["T_WHITESPACE","\r\n        ",470],"}",["T_WHITESPACE","\r\n\r\n        ",471],["T_IF","if",473],["T_WHITESPACE"," ",473],"(",["T_EMPTY","empty",473],"(",["T_VARIABLE","$protocol",473],")",")",["T_WHITESPACE"," ",473],"{",["T_WHITESPACE","\r\n            ",473],["T_IF","if",474],["T_WHITESPACE"," ",474],"(",["T_ISSET","isset",474],"(",["T_VARIABLE","$_SERVER",474],"[",["T_CONSTANT_ENCAPSED_STRING","'HTTPS'",474],"]",")",["T_WHITESPACE"," ",474],["T_BOOLEAN_AND","&&",474],["T_WHITESPACE"," ",474],"!",["T_STRING","strcasecmp",474],"(",["T_VARIABLE","$_SERVER",474],"[",["T_CONSTANT_ENCAPSED_STRING","'HTTPS'",474],"]",",",["T_WHITESPACE"," ",474],["T_CONSTANT_ENCAPSED_STRING","'on'",474],")",")",["T_WHITESPACE"," ",474],"{",["T_WHITESPACE","\r\n                ",474],["T_VARIABLE","$protocol",475],["T_WHITESPACE"," ",475],"=",["T_WHITESPACE"," ",475],["T_CONSTANT_ENCAPSED_STRING","'https'",475],";",["T_WHITESPACE","\r\n            ",475],"}",["T_WHITESPACE"," ",476],["T_ELSE","else",476],["T_WHITESPACE"," ",476],"{",["T_WHITESPACE","\r\n                ",476],["T_VARIABLE","$protocol",477],["T_WHITESPACE"," ",477],"=",["T_WHITESPACE"," ",477],["T_CONSTANT_ENCAPSED_STRING","'http'",477],";",["T_WHITESPACE","\r\n            ",477],"}",["T_WHITESPACE","\r\n            ",478],["T_IF","if",479],["T_WHITESPACE"," ",479],"(","!",["T_ISSET","isset",479],"(",["T_VARIABLE","$port",479],")",["T_WHITESPACE"," ",479],["T_BOOLEAN_OR","||",479],["T_WHITESPACE"," ",479],["T_VARIABLE","$port",479],["T_WHITESPACE"," ",479],["T_IS_NOT_EQUAL","!=",479],["T_WHITESPACE"," ",479],["T_STRING","intval",479],"(",["T_VARIABLE","$port",479],")",")",["T_WHITESPACE"," ",479],"{",["T_WHITESPACE","\r\n                ",479],["T_VARIABLE","$port",480],["T_WHITESPACE"," ",480],"=",["T_WHITESPACE"," ",480],["T_ISSET","isset",480],"(",["T_VARIABLE","$_SERVER",480],"[",["T_CONSTANT_ENCAPSED_STRING","'SERVER_PORT'",480],"]",")",["T_WHITESPACE"," ",480],"?",["T_WHITESPACE"," ",480],["T_VARIABLE","$_SERVER",480],"[",["T_CONSTANT_ENCAPSED_STRING","'SERVER_PORT'",480],"]",["T_WHITESPACE"," ",480],":",["T_WHITESPACE"," ",480],["T_LNUMBER","80",480],";",["T_WHITESPACE","\r\n            ",480],"}",["T_WHITESPACE","\r\n        ",481],"}",["T_WHITESPACE","\r\n\r\n        ",482],["T_IF","if",484],["T_WHITESPACE"," ",484],"(",["T_VARIABLE","$protocol",484],["T_WHITESPACE"," ",484],["T_IS_EQUAL","==",484],["T_WHITESPACE"," ",484],["T_CONSTANT_ENCAPSED_STRING","'http'",484],["T_WHITESPACE"," ",484],["T_BOOLEAN_AND","&&",484],["T_WHITESPACE"," ",484],["T_VARIABLE","$port",484],["T_WHITESPACE"," ",484],["T_IS_EQUAL","==",484],["T_WHITESPACE"," ",484],["T_LNUMBER","80",484],")",["T_WHITESPACE"," ",484],"{",["T_WHITESPACE","\r\n            ",484],["T_UNSET","unset",485],"(",["T_VARIABLE","$port",485],")",";",["T_WHITESPACE","\r\n        ",485],"}",["T_WHITESPACE","\r\n        ",486],["T_IF","if",487],["T_WHITESPACE"," ",487],"(",["T_VARIABLE","$protocol",487],["T_WHITESPACE"," ",487],["T_IS_EQUAL","==",487],["T_WHITESPACE"," ",487],["T_CONSTANT_ENCAPSED_STRING","'https'",487],["T_WHITESPACE"," ",487],["T_BOOLEAN_AND","&&",487],["T_WHITESPACE"," ",487],["T_VARIABLE","$port",487],["T_WHITESPACE"," ",487],["T_IS_EQUAL","==",487],["T_WHITESPACE"," ",487],["T_LNUMBER","443",487],")",["T_WHITESPACE"," ",487],"{",["T_WHITESPACE","\r\n            ",487],["T_UNSET","unset",488],"(",["T_VARIABLE","$port",488],")",";",["T_WHITESPACE","\r\n        ",488],"}",["T_WHITESPACE","\r\n\r\n        ",489],["T_VARIABLE","$server",491],["T_WHITESPACE"," ",491],"=",["T_WHITESPACE"," ",491],["T_VARIABLE","$protocol",491],".",["T_CONSTANT_ENCAPSED_STRING","':\/\/'",491],".",["T_VARIABLE","$host",491],".","(",["T_ISSET","isset",491],"(",["T_VARIABLE","$port",491],")",["T_WHITESPACE"," ",491],"?",["T_WHITESPACE"," ",491],["T_CONSTANT_ENCAPSED_STRING","':'",491],".",["T_VARIABLE","$port",491],["T_WHITESPACE"," ",491],":",["T_WHITESPACE"," ",491],["T_CONSTANT_ENCAPSED_STRING","''",491],")",";",["T_WHITESPACE","\r\n\r\n        ",491],["T_VARIABLE","$uriAll",493],["T_WHITESPACE"," ",493],"=",["T_WHITESPACE"," ",493],["T_ISSET","isset",493],"(",["T_VARIABLE","$_SERVER",493],"[",["T_CONSTANT_ENCAPSED_STRING","'REQUEST_URI'",493],"]",")",["T_WHITESPACE"," ",493],"?",["T_WHITESPACE"," ",493],["T_VARIABLE","$_SERVER",493],"[",["T_CONSTANT_ENCAPSED_STRING","'REQUEST_URI'",493],"]",["T_WHITESPACE","\r\n                                                 ",493],":",["T_WHITESPACE"," ",494],["T_VARIABLE","$_SERVER",494],"[",["T_CONSTANT_ENCAPSED_STRING","'PHP_SELF'",494],"]",";",["T_WHITESPACE","\r\n        ",494],["T_IF","if",495],["T_WHITESPACE"," ",495],"(",["T_STRING","false",495],["T_WHITESPACE"," ",495],["T_IS_NOT_IDENTICAL","!==",495],["T_WHITESPACE"," ",495],"(",["T_VARIABLE","$q",495],["T_WHITESPACE"," ",495],"=",["T_WHITESPACE"," ",495],["T_STRING","strpos",495],"(",["T_VARIABLE","$uriAll",495],",",["T_WHITESPACE"," ",495],["T_CONSTANT_ENCAPSED_STRING","'?'",495],")",")",")",["T_WHITESPACE"," ",495],"{",["T_WHITESPACE","\r\n            ",495],["T_VARIABLE","$uriBase",496],["T_WHITESPACE"," ",496],"=",["T_WHITESPACE"," ",496],["T_STRING","substr",496],"(",["T_VARIABLE","$uriAll",496],",",["T_WHITESPACE"," ",496],["T_LNUMBER","0",496],",",["T_WHITESPACE"," ",496],["T_VARIABLE","$q",496],")",";",["T_WHITESPACE","\r\n        ",496],"}",["T_WHITESPACE"," ",497],["T_ELSE","else",497],["T_WHITESPACE"," ",497],"{",["T_WHITESPACE","\r\n            ",497],["T_VARIABLE","$uriBase",498],["T_WHITESPACE"," ",498],"=",["T_WHITESPACE"," ",498],["T_VARIABLE","$uriAll",498],";",["T_WHITESPACE","\r\n        ",498],"}",["T_WHITESPACE","\r\n        ",499],["T_IF","if",500],["T_WHITESPACE"," ",500],"(","!",["T_STRING","strlen",500],"(",["T_VARIABLE","$url",500],")",["T_WHITESPACE"," ",500],["T_BOOLEAN_OR","||",500],["T_WHITESPACE"," ",500],["T_VARIABLE","$url",500],"{",["T_LNUMBER","0",500],"}",["T_WHITESPACE"," ",500],["T_IS_EQUAL","==",500],["T_WHITESPACE"," ",500],["T_CONSTANT_ENCAPSED_STRING","'#'",500],")",["T_WHITESPACE"," ",500],"{",["T_WHITESPACE","\r\n            ",500],["T_VARIABLE","$url",501],["T_WHITESPACE"," ",501],"=",["T_WHITESPACE"," ",501],["T_VARIABLE","$uriAll",501],".",["T_VARIABLE","$url",501],";",["T_WHITESPACE","\r\n        ",501],"}",["T_WHITESPACE"," ",502],["T_ELSEIF","elseif",502],["T_WHITESPACE"," ",502],"(",["T_VARIABLE","$url",502],"{",["T_LNUMBER","0",502],"}",["T_WHITESPACE"," ",502],["T_IS_EQUAL","==",502],["T_WHITESPACE"," ",502],["T_CONSTANT_ENCAPSED_STRING","'?'",502],")",["T_WHITESPACE"," ",502],"{",["T_WHITESPACE","\r\n            ",502],["T_VARIABLE","$url",503],["T_WHITESPACE"," ",503],"=",["T_WHITESPACE"," ",503],["T_VARIABLE","$uriBase",503],".",["T_VARIABLE","$url",503],";",["T_WHITESPACE","\r\n        ",503],"}",["T_WHITESPACE","\r\n        ",504],["T_IF","if",505],["T_WHITESPACE"," ",505],"(",["T_VARIABLE","$url",505],"{",["T_LNUMBER","0",505],"}",["T_WHITESPACE"," ",505],["T_IS_EQUAL","==",505],["T_WHITESPACE"," ",505],["T_CONSTANT_ENCAPSED_STRING","'\/'",505],")",["T_WHITESPACE"," ",505],"{",["T_WHITESPACE","\r\n            ",505],["T_RETURN","return",506],["T_WHITESPACE"," ",506],["T_VARIABLE","$server",506],["T_WHITESPACE"," ",506],".",["T_WHITESPACE"," ",506],["T_VARIABLE","$url",506],";",["T_WHITESPACE","\r\n        ",506],"}",["T_WHITESPACE","\r\n\r\n        ",507],["T_COMMENT","\/\/ Adjust for PATH_INFO if needed\r\n",509],["T_WHITESPACE","        ",510],["T_IF","if",510],["T_WHITESPACE"," ",510],"(",["T_ISSET","isset",510],"(",["T_VARIABLE","$_SERVER",510],"[",["T_CONSTANT_ENCAPSED_STRING","'PATH_INFO'",510],"]",")",["T_WHITESPACE"," ",510],["T_BOOLEAN_AND","&&",510],["T_WHITESPACE"," ",510],["T_STRING","strlen",510],"(",["T_VARIABLE","$_SERVER",510],"[",["T_CONSTANT_ENCAPSED_STRING","'PATH_INFO'",510],"]",")",")",["T_WHITESPACE"," ",510],"{",["T_WHITESPACE","\r\n            ",510],["T_VARIABLE","$path",511],["T_WHITESPACE"," ",511],"=",["T_WHITESPACE"," ",511],["T_STRING","dirname",511],"(",["T_STRING","substr",511],"(",["T_VARIABLE","$uriBase",511],",",["T_WHITESPACE"," ",511],["T_LNUMBER","0",511],",",["T_WHITESPACE","\r\n                                   ",511],"-",["T_STRING","strlen",512],"(",["T_VARIABLE","$_SERVER",512],"[",["T_CONSTANT_ENCAPSED_STRING","'PATH_INFO'",512],"]",")",")",")",";",["T_WHITESPACE","\r\n        ",512],"}",["T_WHITESPACE"," ",513],["T_ELSE","else",513],["T_WHITESPACE"," ",513],"{",["T_WHITESPACE","\r\n            ",513],["T_DOC_COMMENT","\/**\r\n             * Fixes bug #12672 PHP_SELF ending on \/ causes incorrect redirects\r\n             *\r\n             * @link http:\/\/pear.php.net\/bugs\/12672\r\n             *\/",514],["T_WHITESPACE","\r\n            ",518],["T_VARIABLE","$path",519],["T_WHITESPACE"," ",519],"=",["T_WHITESPACE"," ",519],["T_STRING","dirname",519],"(",["T_VARIABLE","$uriBase",519],".",["T_CONSTANT_ENCAPSED_STRING","'-'",519],")",";",["T_WHITESPACE","\r\n        ",519],"}",["T_WHITESPACE","\r\n\r\n        ",520],["T_IF","if",522],["T_WHITESPACE"," ",522],"(",["T_STRING","substr",522],"(",["T_VARIABLE","$path",522],["T_WHITESPACE"," ",522],"=",["T_WHITESPACE"," ",522],["T_STRING","strtr",522],"(",["T_VARIABLE","$path",522],",",["T_WHITESPACE"," ",522],["T_CONSTANT_ENCAPSED_STRING","'\\\\'",522],",",["T_WHITESPACE"," ",522],["T_CONSTANT_ENCAPSED_STRING","'\/'",522],")",",",["T_WHITESPACE"," ",522],"-",["T_LNUMBER","1",522],")",["T_WHITESPACE"," ",522],["T_IS_NOT_EQUAL","!=",522],["T_WHITESPACE"," ",522],["T_CONSTANT_ENCAPSED_STRING","'\/'",522],")",["T_WHITESPACE"," ",522],"{",["T_WHITESPACE","\r\n            ",522],["T_VARIABLE","$path",523],["T_WHITESPACE"," ",523],["T_CONCAT_EQUAL",".=",523],["T_WHITESPACE"," ",523],["T_CONSTANT_ENCAPSED_STRING","'\/'",523],";",["T_WHITESPACE","\r\n        ",523],"}",["T_WHITESPACE","\r\n\r\n        ",524],["T_RETURN","return",526],["T_WHITESPACE"," ",526],["T_VARIABLE","$server",526],["T_WHITESPACE"," ",526],".",["T_WHITESPACE"," ",526],["T_VARIABLE","$path",526],["T_WHITESPACE"," ",526],".",["T_WHITESPACE"," ",526],["T_VARIABLE","$url",526],";",["T_WHITESPACE","\r\n    ",526],"}",["T_WHITESPACE","\r\n\r\n    ",527],["T_DOC_COMMENT","\/**\r\n     * Raise Error\r\n     *\r\n     * Lazy raising of PEAR_Errors.\r\n     *\r\n     * @param mixed   $error Error\r\n     * @param integer $code  Error code\r\n     *\r\n     * @return object  PEAR_Error\r\n     * @static\r\n     * @access protected\r\n     *\/",529],["T_WHITESPACE","\r\n    ",540],["T_FUNCTION","function",541],["T_WHITESPACE"," ",541],["T_STRING","raiseError",541],"(",["T_VARIABLE","$error",541],["T_WHITESPACE"," ",541],"=",["T_WHITESPACE"," ",541],["T_STRING","null",541],",",["T_WHITESPACE"," ",541],["T_VARIABLE","$code",541],["T_WHITESPACE"," ",541],"=",["T_WHITESPACE"," ",541],["T_STRING","null",541],")",["T_WHITESPACE","\r\n    ",541],"{",["T_WHITESPACE","\r\n        ",542],["T_INCLUDE_ONCE","include_once",543],["T_WHITESPACE"," ",543],["T_CONSTANT_ENCAPSED_STRING","'PEAR.php'",543],";",["T_WHITESPACE","\r\n        ",543],["T_RETURN","return",544],["T_WHITESPACE"," ",544],["T_STRING","PEAR",544],["T_DOUBLE_COLON","::",544],["T_STRING","raiseError",544],"(",["T_VARIABLE","$error",544],",",["T_WHITESPACE"," ",544],["T_VARIABLE","$code",544],")",";",["T_WHITESPACE","\r\n    ",544],"}",["T_WHITESPACE","\r\n",545],"}",["T_WHITESPACE","\r\n\r\n",546],["T_CLOSE_TAG","?>",548]]