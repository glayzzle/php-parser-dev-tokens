[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Magento\n *\n * NOTICE OF LICENSE\n *\n * This source file is subject to the Open Software License (OSL 3.0)\n * that is bundled with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/opensource.org\/licenses\/osl-3.0.php\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@magento.com so we can send you a copy immediately.\n *\n * DISCLAIMER\n *\n * Do not edit or add to this file if you wish to upgrade Magento to newer\n * versions in the future. If you wish to customize Magento for your\n * needs please refer to http:\/\/www.magento.com for more information.\n *\n * @category    Varien\n * @package     Varien_Http\n * @copyright  Copyright (c) 2006-2016 X.commerce, Inc. and affiliates (http:\/\/www.magento.com)\n * @license    http:\/\/opensource.org\/licenses\/osl-3.0.php  Open Software License (OSL 3.0)\n *\/",2],["T_WHITESPACE","\n\n",25],["T_DOC_COMMENT","\/**\n * HTTP CURL Adapter\n *\n * @category    Varien\n * @package     Varien_Http\n * @author      Magento Core Team <core@magentocommerce.com>\n *\/",27],["T_WHITESPACE","\n",33],["T_CLASS","class",34],["T_WHITESPACE"," ",34],["T_STRING","Varien_Http_Adapter_Curl",34],["T_WHITESPACE"," ",34],["T_IMPLEMENTS","implements",34],["T_WHITESPACE"," ",34],["T_STRING","Zend_Http_Client_Adapter_Interface",34],["T_WHITESPACE","\n",34],"{",["T_WHITESPACE","\n    ",35],["T_DOC_COMMENT","\/**\n     * Parameters array\n     *\n     * @var array\n     *\/",36],["T_WHITESPACE","\n    ",40],["T_PROTECTED","protected",41],["T_WHITESPACE"," ",41],["T_VARIABLE","$_config",41],["T_WHITESPACE"," ",41],"=",["T_WHITESPACE"," ",41],["T_ARRAY","array",41],"(",")",";",["T_WHITESPACE","\n\n    ",41],["T_DOC_COMMENT","\/**\n     * Curl handle\n     *\n     * @var resource\n     *\/",43],["T_WHITESPACE","\n    ",47],["T_PROTECTED","protected",48],["T_WHITESPACE"," ",48],["T_VARIABLE","$_resource",48],";",["T_WHITESPACE","\n\n    ",48],["T_DOC_COMMENT","\/**\n     * Allow parameters\n     *\n     * @var array\n     *\/",50],["T_WHITESPACE","\n    ",54],["T_PROTECTED","protected",55],["T_WHITESPACE"," ",55],["T_VARIABLE","$_allowedParams",55],["T_WHITESPACE"," ",55],"=",["T_WHITESPACE"," ",55],["T_ARRAY","array",55],"(",["T_WHITESPACE","\n        ",55],["T_CONSTANT_ENCAPSED_STRING","'timeout'",56],["T_WHITESPACE","       ",56],["T_DOUBLE_ARROW","=>",56],["T_WHITESPACE"," ",56],["T_STRING","CURLOPT_TIMEOUT",56],",",["T_WHITESPACE","\n        ",56],["T_CONSTANT_ENCAPSED_STRING","'maxredirects'",57],["T_WHITESPACE","  ",57],["T_DOUBLE_ARROW","=>",57],["T_WHITESPACE"," ",57],["T_STRING","CURLOPT_MAXREDIRS",57],",",["T_WHITESPACE","\n        ",57],["T_CONSTANT_ENCAPSED_STRING","'proxy'",58],["T_WHITESPACE","         ",58],["T_DOUBLE_ARROW","=>",58],["T_WHITESPACE"," ",58],["T_STRING","CURLOPT_PROXY",58],",",["T_WHITESPACE","\n        ",58],["T_CONSTANT_ENCAPSED_STRING","'ssl_cert'",59],["T_WHITESPACE","      ",59],["T_DOUBLE_ARROW","=>",59],["T_WHITESPACE"," ",59],["T_STRING","CURLOPT_SSLCERT",59],",",["T_WHITESPACE","\n        ",59],["T_CONSTANT_ENCAPSED_STRING","'userpwd'",60],["T_WHITESPACE","       ",60],["T_DOUBLE_ARROW","=>",60],["T_WHITESPACE"," ",60],["T_STRING","CURLOPT_USERPWD",60],",",["T_WHITESPACE","\n        ",60],["T_CONSTANT_ENCAPSED_STRING","'ssl_version'",61],["T_WHITESPACE","   ",61],["T_DOUBLE_ARROW","=>",61],["T_WHITESPACE"," ",61],["T_STRING","CURLOPT_SSLVERSION",61],",",["T_WHITESPACE","\n    ",61],")",";",["T_WHITESPACE","\n\n    ",62],["T_DOC_COMMENT","\/**\n     * Array of CURL options\n     *\n     * @var array\n     *\/",64],["T_WHITESPACE","\n    ",68],["T_PROTECTED","protected",69],["T_WHITESPACE"," ",69],["T_VARIABLE","$_options",69],["T_WHITESPACE"," ",69],"=",["T_WHITESPACE"," ",69],["T_ARRAY","array",69],"(",")",";",["T_WHITESPACE","\n\n    ",69],["T_DOC_COMMENT","\/**\n     * Apply current configuration array to transport resource\n     *\n     * @return Varien_Http_Adapter_Curl\n     *\/",71],["T_WHITESPACE","\n    ",75],["T_PROTECTED","protected",76],["T_WHITESPACE"," ",76],["T_FUNCTION","function",76],["T_WHITESPACE"," ",76],["T_STRING","_applyConfig",76],"(",")",["T_WHITESPACE","\n    ",76],"{",["T_WHITESPACE","\n        ",77],["T_STRING","curl_setopt_array",78],"(",["T_VARIABLE","$this",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","_getResource",78],"(",")",",",["T_WHITESPACE"," ",78],["T_VARIABLE","$this",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","_options",78],")",";",["T_WHITESPACE","\n\n        ",78],["T_IF","if",80],["T_WHITESPACE"," ",80],"(",["T_EMPTY","empty",80],"(",["T_VARIABLE","$this",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","_config",80],")",")",["T_WHITESPACE"," ",80],"{",["T_WHITESPACE","\n            ",80],["T_RETURN","return",81],["T_WHITESPACE"," ",81],["T_VARIABLE","$this",81],";",["T_WHITESPACE","\n        ",81],"}",["T_WHITESPACE","\n\n        ",82],["T_VARIABLE","$verifyPeer",84],["T_WHITESPACE"," ",84],"=",["T_WHITESPACE"," ",84],["T_ISSET","isset",84],"(",["T_VARIABLE","$this",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","_config",84],"[",["T_CONSTANT_ENCAPSED_STRING","'verifypeer'",84],"]",")",["T_WHITESPACE"," ",84],"?",["T_WHITESPACE"," ",84],["T_VARIABLE","$this",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","_config",84],"[",["T_CONSTANT_ENCAPSED_STRING","'verifypeer'",84],"]",["T_WHITESPACE"," ",84],":",["T_WHITESPACE"," ",84],["T_LNUMBER","0",84],";",["T_WHITESPACE","\n        ",84],["T_STRING","curl_setopt",85],"(",["T_VARIABLE","$this",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","_getResource",85],"(",")",",",["T_WHITESPACE"," ",85],["T_STRING","CURLOPT_SSL_VERIFYPEER",85],",",["T_WHITESPACE"," ",85],["T_VARIABLE","$verifyPeer",85],")",";",["T_WHITESPACE","\n\n        ",85],["T_VARIABLE","$verifyHost",87],["T_WHITESPACE"," ",87],"=",["T_WHITESPACE"," ",87],["T_ISSET","isset",87],"(",["T_VARIABLE","$this",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","_config",87],"[",["T_CONSTANT_ENCAPSED_STRING","'verifyhost'",87],"]",")",["T_WHITESPACE"," ",87],"?",["T_WHITESPACE"," ",87],["T_VARIABLE","$this",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","_config",87],"[",["T_CONSTANT_ENCAPSED_STRING","'verifyhost'",87],"]",["T_WHITESPACE"," ",87],":",["T_WHITESPACE"," ",87],["T_LNUMBER","0",87],";",["T_WHITESPACE","\n        ",87],["T_STRING","curl_setopt",88],"(",["T_VARIABLE","$this",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","_getResource",88],"(",")",",",["T_WHITESPACE"," ",88],["T_STRING","CURLOPT_SSL_VERIFYHOST",88],",",["T_WHITESPACE"," ",88],["T_VARIABLE","$verifyHost",88],")",";",["T_WHITESPACE","\n\n        ",88],["T_FOREACH","foreach",90],["T_WHITESPACE"," ",90],"(",["T_VARIABLE","$this",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","_config",90],["T_WHITESPACE"," ",90],["T_AS","as",90],["T_WHITESPACE"," ",90],["T_VARIABLE","$param",90],["T_WHITESPACE"," ",90],["T_DOUBLE_ARROW","=>",90],["T_WHITESPACE"," ",90],["T_VARIABLE","$curlOption",90],")",["T_WHITESPACE"," ",90],"{",["T_WHITESPACE","\n            ",90],["T_IF","if",91],["T_WHITESPACE"," ",91],"(",["T_STRING","array_key_exists",91],"(",["T_VARIABLE","$param",91],",",["T_WHITESPACE"," ",91],["T_VARIABLE","$this",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","_allowedParams",91],")",")",["T_WHITESPACE"," ",91],"{",["T_WHITESPACE","\n                ",91],["T_STRING","curl_setopt",92],"(",["T_VARIABLE","$this",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","_getResource",92],"(",")",",",["T_WHITESPACE"," ",92],["T_VARIABLE","$this",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","_allowedParams",92],"[",["T_VARIABLE","$param",92],"]",",",["T_WHITESPACE"," ",92],["T_VARIABLE","$this",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","_config",92],"[",["T_VARIABLE","$param",92],"]",")",";",["T_WHITESPACE","\n            ",92],"}",["T_WHITESPACE","\n        ",93],"}",["T_WHITESPACE","\n        ",94],["T_RETURN","return",95],["T_WHITESPACE"," ",95],["T_VARIABLE","$this",95],";",["T_WHITESPACE","\n    ",95],"}",["T_WHITESPACE","\n\n    ",96],["T_DOC_COMMENT","\/**\n     * Set array of additional cURL options\n     *\n     * @param array $options\n     * @return Varien_Http_Adapter_Curl\n     *\/",98],["T_WHITESPACE","\n    ",103],["T_PUBLIC","public",104],["T_WHITESPACE"," ",104],["T_FUNCTION","function",104],["T_WHITESPACE"," ",104],["T_STRING","setOptions",104],"(",["T_ARRAY","array",104],["T_WHITESPACE"," ",104],["T_VARIABLE","$options",104],["T_WHITESPACE"," ",104],"=",["T_WHITESPACE"," ",104],["T_ARRAY","array",104],"(",")",")",["T_WHITESPACE","\n    ",104],"{",["T_WHITESPACE","\n        ",105],["T_VARIABLE","$this",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","_options",106],["T_WHITESPACE"," ",106],"=",["T_WHITESPACE"," ",106],["T_VARIABLE","$options",106],";",["T_WHITESPACE","\n        ",106],["T_RETURN","return",107],["T_WHITESPACE"," ",107],["T_VARIABLE","$this",107],";",["T_WHITESPACE","\n    ",107],"}",["T_WHITESPACE","\n\n    ",108],["T_DOC_COMMENT","\/**\n     * Add additional option to cURL\n     *\n     * @param  int $option      the CURLOPT_* constants\n     * @param  mixed $value\n     * @return Varien_Http_Adapter_Curl\n     *\/",110],["T_WHITESPACE","\n    ",116],["T_PUBLIC","public",117],["T_WHITESPACE"," ",117],["T_FUNCTION","function",117],["T_WHITESPACE"," ",117],["T_STRING","addOption",117],"(",["T_VARIABLE","$option",117],",",["T_WHITESPACE"," ",117],["T_VARIABLE","$value",117],")",["T_WHITESPACE","\n    ",117],"{",["T_WHITESPACE","\n        ",118],["T_VARIABLE","$this",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","_options",119],"[",["T_VARIABLE","$option",119],"]",["T_WHITESPACE"," ",119],"=",["T_WHITESPACE"," ",119],["T_VARIABLE","$value",119],";",["T_WHITESPACE","\n        ",119],["T_RETURN","return",120],["T_WHITESPACE"," ",120],["T_VARIABLE","$this",120],";",["T_WHITESPACE","\n    ",120],"}",["T_WHITESPACE","\n\n    ",121],["T_DOC_COMMENT","\/**\n     * Add additional options list to curl\n     *\n     * @param array $options\n     *\n     * @return Varien_Http_Adapter_Curl\n     *\/",123],["T_WHITESPACE","\n    ",129],["T_PUBLIC","public",130],["T_WHITESPACE"," ",130],["T_FUNCTION","function",130],["T_WHITESPACE"," ",130],["T_STRING","addOptions",130],"(",["T_ARRAY","array",130],["T_WHITESPACE"," ",130],["T_VARIABLE","$options",130],")",["T_WHITESPACE","\n    ",130],"{",["T_WHITESPACE","\n        ",131],["T_VARIABLE","$this",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","_options",132],["T_WHITESPACE"," ",132],"=",["T_WHITESPACE"," ",132],["T_VARIABLE","$options",132],["T_WHITESPACE"," ",132],"+",["T_WHITESPACE"," ",132],["T_VARIABLE","$this",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","_options",132],";",["T_WHITESPACE","\n        ",132],["T_RETURN","return",133],["T_WHITESPACE"," ",133],["T_VARIABLE","$this",133],";",["T_WHITESPACE","\n    ",133],"}",["T_WHITESPACE","\n\n    ",134],["T_DOC_COMMENT","\/**\n     * Set the configuration array for the adapter\n     *\n     * @param array $config\n     * @return Varien_Http_Adapter_Curl\n     *\/",136],["T_WHITESPACE","\n    ",141],["T_PUBLIC","public",142],["T_WHITESPACE"," ",142],["T_FUNCTION","function",142],["T_WHITESPACE"," ",142],["T_STRING","setConfig",142],"(",["T_VARIABLE","$config",142],["T_WHITESPACE"," ",142],"=",["T_WHITESPACE"," ",142],["T_ARRAY","array",142],"(",")",")",["T_WHITESPACE","\n    ",142],"{",["T_WHITESPACE","\n        ",143],["T_VARIABLE","$this",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","_config",144],["T_WHITESPACE"," ",144],"=",["T_WHITESPACE"," ",144],["T_VARIABLE","$config",144],";",["T_WHITESPACE","\n        ",144],["T_RETURN","return",145],["T_WHITESPACE"," ",145],["T_VARIABLE","$this",145],";",["T_WHITESPACE","\n    ",145],"}",["T_WHITESPACE","\n\n    ",146],["T_DOC_COMMENT","\/**\n     * Connect to the remote server\n     *\n     * @deprecated since 1.4.0.0-rc1\n     * @param string  $host\n     * @param int     $port\n     * @param boolean $secure\n     * @return Varien_Http_Adapter_Curl\n     *\/",148],["T_WHITESPACE","\n    ",156],["T_PUBLIC","public",157],["T_WHITESPACE"," ",157],["T_FUNCTION","function",157],["T_WHITESPACE"," ",157],["T_STRING","connect",157],"(",["T_VARIABLE","$host",157],",",["T_WHITESPACE"," ",157],["T_VARIABLE","$port",157],["T_WHITESPACE"," ",157],"=",["T_WHITESPACE"," ",157],["T_LNUMBER","80",157],",",["T_WHITESPACE"," ",157],["T_VARIABLE","$secure",157],["T_WHITESPACE"," ",157],"=",["T_WHITESPACE"," ",157],["T_STRING","false",157],")",["T_WHITESPACE","\n    ",157],"{",["T_WHITESPACE","\n        ",158],["T_RETURN","return",159],["T_WHITESPACE"," ",159],["T_VARIABLE","$this",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","_applyConfig",159],"(",")",";",["T_WHITESPACE","\n    ",159],"}",["T_WHITESPACE","\n\n    ",160],["T_DOC_COMMENT","\/**\n     * Send request to the remote server\n     *\n     * @param string        $method\n     * @param string|Zend_Uri_Http $url\n     * @param string        $http_ver\n     * @param array         $headers\n     * @param string        $body\n     * @return string Request as text\n     *\/",162],["T_WHITESPACE","\n    ",171],["T_PUBLIC","public",172],["T_WHITESPACE"," ",172],["T_FUNCTION","function",172],["T_WHITESPACE"," ",172],["T_STRING","write",172],"(",["T_VARIABLE","$method",172],",",["T_WHITESPACE"," ",172],["T_VARIABLE","$url",172],",",["T_WHITESPACE"," ",172],["T_VARIABLE","$http_ver",172],["T_WHITESPACE"," ",172],"=",["T_WHITESPACE"," ",172],["T_CONSTANT_ENCAPSED_STRING","'1.1'",172],",",["T_WHITESPACE"," ",172],["T_VARIABLE","$headers",172],["T_WHITESPACE"," ",172],"=",["T_WHITESPACE"," ",172],["T_ARRAY","array",172],"(",")",",",["T_WHITESPACE"," ",172],["T_VARIABLE","$body",172],["T_WHITESPACE"," ",172],"=",["T_WHITESPACE"," ",172],["T_CONSTANT_ENCAPSED_STRING","''",172],")",["T_WHITESPACE","\n    ",172],"{",["T_WHITESPACE","\n        ",173],["T_IF","if",174],["T_WHITESPACE"," ",174],"(",["T_VARIABLE","$url",174],["T_WHITESPACE"," ",174],["T_INSTANCEOF","instanceof",174],["T_WHITESPACE"," ",174],["T_STRING","Zend_Uri_Http",174],")",["T_WHITESPACE"," ",174],"{",["T_WHITESPACE","\n            ",174],["T_VARIABLE","$url",175],["T_WHITESPACE"," ",175],"=",["T_WHITESPACE"," ",175],["T_VARIABLE","$url",175],["T_OBJECT_OPERATOR","->",175],["T_STRING","getUri",175],"(",")",";",["T_WHITESPACE","\n        ",175],"}",["T_WHITESPACE","\n        ",176],["T_VARIABLE","$this",177],["T_OBJECT_OPERATOR","->",177],["T_STRING","_applyConfig",177],"(",")",";",["T_WHITESPACE","\n\n        ",177],["T_VARIABLE","$header",179],["T_WHITESPACE"," ",179],"=",["T_WHITESPACE"," ",179],["T_ISSET","isset",179],"(",["T_VARIABLE","$this",179],["T_OBJECT_OPERATOR","->",179],["T_STRING","_config",179],"[",["T_CONSTANT_ENCAPSED_STRING","'header'",179],"]",")",["T_WHITESPACE"," ",179],"?",["T_WHITESPACE"," ",179],["T_VARIABLE","$this",179],["T_OBJECT_OPERATOR","->",179],["T_STRING","_config",179],"[",["T_CONSTANT_ENCAPSED_STRING","'header'",179],"]",["T_WHITESPACE"," ",179],":",["T_WHITESPACE"," ",179],["T_STRING","true",179],";",["T_WHITESPACE","\n        ",179],["T_VARIABLE","$options",180],["T_WHITESPACE"," ",180],"=",["T_WHITESPACE"," ",180],["T_ARRAY","array",180],"(",["T_WHITESPACE","\n            ",180],["T_STRING","CURLOPT_URL",181],["T_WHITESPACE","                     ",181],["T_DOUBLE_ARROW","=>",181],["T_WHITESPACE"," ",181],["T_VARIABLE","$url",181],",",["T_WHITESPACE","\n            ",181],["T_STRING","CURLOPT_RETURNTRANSFER",182],["T_WHITESPACE","          ",182],["T_DOUBLE_ARROW","=>",182],["T_WHITESPACE"," ",182],["T_STRING","true",182],",",["T_WHITESPACE","\n            ",182],["T_STRING","CURLOPT_HEADER",183],["T_WHITESPACE","                  ",183],["T_DOUBLE_ARROW","=>",183],["T_WHITESPACE"," ",183],["T_VARIABLE","$header",183],["T_WHITESPACE","\n        ",183],")",";",["T_WHITESPACE","\n        ",184],["T_IF","if",185],["T_WHITESPACE"," ",185],"(",["T_VARIABLE","$method",185],["T_WHITESPACE"," ",185],["T_IS_EQUAL","==",185],["T_WHITESPACE"," ",185],["T_STRING","Zend_Http_Client",185],["T_DOUBLE_COLON","::",185],["T_STRING","POST",185],")",["T_WHITESPACE"," ",185],"{",["T_WHITESPACE","\n            ",185],["T_VARIABLE","$options",186],"[",["T_STRING","CURLOPT_POST",186],"]",["T_WHITESPACE","          ",186],"=",["T_WHITESPACE"," ",186],["T_STRING","true",186],";",["T_WHITESPACE","\n            ",186],["T_VARIABLE","$options",187],"[",["T_STRING","CURLOPT_POSTFIELDS",187],"]",["T_WHITESPACE","    ",187],"=",["T_WHITESPACE"," ",187],["T_VARIABLE","$body",187],";",["T_WHITESPACE","\n        ",187],"}",["T_WHITESPACE"," ",188],["T_ELSEIF","elseif",188],["T_WHITESPACE"," ",188],"(",["T_VARIABLE","$method",188],["T_WHITESPACE"," ",188],["T_IS_EQUAL","==",188],["T_WHITESPACE"," ",188],["T_STRING","Zend_Http_Client",188],["T_DOUBLE_COLON","::",188],["T_STRING","GET",188],")",["T_WHITESPACE"," ",188],"{",["T_WHITESPACE","\n            ",188],["T_VARIABLE","$options",189],"[",["T_STRING","CURLOPT_HTTPGET",189],"]",["T_WHITESPACE","       ",189],"=",["T_WHITESPACE"," ",189],["T_STRING","true",189],";",["T_WHITESPACE","\n        ",189],"}",["T_WHITESPACE","\n        ",190],["T_IF","if",191],["T_WHITESPACE"," ",191],"(",["T_STRING","is_array",191],"(",["T_VARIABLE","$headers",191],")",")",["T_WHITESPACE"," ",191],"{",["T_WHITESPACE","\n            ",191],["T_VARIABLE","$options",192],"[",["T_STRING","CURLOPT_HTTPHEADER",192],"]",["T_WHITESPACE","    ",192],"=",["T_WHITESPACE"," ",192],["T_VARIABLE","$headers",192],";",["T_WHITESPACE","\n        ",192],"}",["T_WHITESPACE","\n\n        ",193],["T_STRING","curl_setopt_array",195],"(",["T_VARIABLE","$this",195],["T_OBJECT_OPERATOR","->",195],["T_STRING","_getResource",195],"(",")",",",["T_WHITESPACE"," ",195],["T_VARIABLE","$options",195],")",";",["T_WHITESPACE","\n\n        ",195],["T_RETURN","return",197],["T_WHITESPACE"," ",197],["T_VARIABLE","$body",197],";",["T_WHITESPACE","\n    ",197],"}",["T_WHITESPACE","\n\n    ",198],["T_DOC_COMMENT","\/**\n     * Read response from server\n     *\n     * @return string\n     *\/",200],["T_WHITESPACE","\n    ",204],["T_PUBLIC","public",205],["T_WHITESPACE"," ",205],["T_FUNCTION","function",205],["T_WHITESPACE"," ",205],["T_STRING","read",205],"(",")",["T_WHITESPACE","\n    ",205],"{",["T_WHITESPACE","\n        ",206],["T_VARIABLE","$response",207],["T_WHITESPACE"," ",207],"=",["T_WHITESPACE"," ",207],["T_STRING","curl_exec",207],"(",["T_VARIABLE","$this",207],["T_OBJECT_OPERATOR","->",207],["T_STRING","_getResource",207],"(",")",")",";",["T_WHITESPACE","\n\n        ",207],["T_COMMENT","\/\/ Remove 100 and 101 responses headers\n",209],["T_WHITESPACE","        ",210],["T_WHILE","while",210],["T_WHITESPACE"," ",210],"(",["T_STRING","Zend_Http_Response",210],["T_DOUBLE_COLON","::",210],["T_STRING","extractCode",210],"(",["T_VARIABLE","$response",210],")",["T_WHITESPACE"," ",210],["T_IS_EQUAL","==",210],["T_WHITESPACE"," ",210],["T_LNUMBER","100",210],["T_WHITESPACE"," ",210],["T_BOOLEAN_OR","||",210],["T_WHITESPACE"," ",210],["T_STRING","Zend_Http_Response",210],["T_DOUBLE_COLON","::",210],["T_STRING","extractCode",210],"(",["T_VARIABLE","$response",210],")",["T_WHITESPACE"," ",210],["T_IS_EQUAL","==",210],["T_WHITESPACE"," ",210],["T_LNUMBER","101",210],")",["T_WHITESPACE"," ",210],"{",["T_WHITESPACE","\n            ",210],["T_VARIABLE","$response",211],["T_WHITESPACE"," ",211],"=",["T_WHITESPACE"," ",211],["T_STRING","preg_split",211],"(",["T_CONSTANT_ENCAPSED_STRING","'\/^\\r?$\/m'",211],",",["T_WHITESPACE"," ",211],["T_VARIABLE","$response",211],",",["T_WHITESPACE"," ",211],["T_LNUMBER","2",211],")",";",["T_WHITESPACE","\n            ",211],["T_VARIABLE","$response",212],["T_WHITESPACE"," ",212],"=",["T_WHITESPACE"," ",212],["T_STRING","trim",212],"(",["T_VARIABLE","$response",212],"[",["T_LNUMBER","1",212],"]",")",";",["T_WHITESPACE","\n        ",212],"}",["T_WHITESPACE","\n\n        ",213],["T_IF","if",215],["T_WHITESPACE"," ",215],"(",["T_STRING","stripos",215],"(",["T_VARIABLE","$response",215],",",["T_WHITESPACE"," ",215],["T_CONSTANT_ENCAPSED_STRING","\"Transfer-Encoding: chunked\\r\\n\"",215],")",")",["T_WHITESPACE"," ",215],"{",["T_WHITESPACE","\n            ",215],["T_VARIABLE","$response",216],["T_WHITESPACE"," ",216],"=",["T_WHITESPACE"," ",216],["T_STRING","str_ireplace",216],"(",["T_CONSTANT_ENCAPSED_STRING","\"Transfer-Encoding: chunked\\r\\n\"",216],",",["T_WHITESPACE"," ",216],["T_CONSTANT_ENCAPSED_STRING","''",216],",",["T_WHITESPACE"," ",216],["T_VARIABLE","$response",216],")",";",["T_WHITESPACE","\n        ",216],"}",["T_WHITESPACE","\n\n        ",217],["T_RETURN","return",219],["T_WHITESPACE"," ",219],["T_VARIABLE","$response",219],";",["T_WHITESPACE","\n    ",219],"}",["T_WHITESPACE","\n\n    ",220],["T_DOC_COMMENT","\/**\n     * Close the connection to the server\n     *\n     * @return Varien_Http_Adapter_Curl\n     *\/",222],["T_WHITESPACE","\n    ",226],["T_PUBLIC","public",227],["T_WHITESPACE"," ",227],["T_FUNCTION","function",227],["T_WHITESPACE"," ",227],["T_STRING","close",227],"(",")",["T_WHITESPACE","\n    ",227],"{",["T_WHITESPACE","\n        ",228],["T_STRING","curl_close",229],"(",["T_VARIABLE","$this",229],["T_OBJECT_OPERATOR","->",229],["T_STRING","_getResource",229],"(",")",")",";",["T_WHITESPACE","\n        ",229],["T_VARIABLE","$this",230],["T_OBJECT_OPERATOR","->",230],["T_STRING","_resource",230],["T_WHITESPACE"," ",230],"=",["T_WHITESPACE"," ",230],["T_STRING","null",230],";",["T_WHITESPACE","\n        ",230],["T_RETURN","return",231],["T_WHITESPACE"," ",231],["T_VARIABLE","$this",231],";",["T_WHITESPACE","\n    ",231],"}",["T_WHITESPACE","\n\n    ",232],["T_DOC_COMMENT","\/**\n     * Returns a cURL handle on success\n     *\n     * @return resource\n     *\/",234],["T_WHITESPACE","\n    ",238],["T_PROTECTED","protected",239],["T_WHITESPACE"," ",239],["T_FUNCTION","function",239],["T_WHITESPACE"," ",239],["T_STRING","_getResource",239],"(",")",["T_WHITESPACE","\n    ",239],"{",["T_WHITESPACE","\n        ",240],["T_IF","if",241],["T_WHITESPACE"," ",241],"(",["T_STRING","is_null",241],"(",["T_VARIABLE","$this",241],["T_OBJECT_OPERATOR","->",241],["T_STRING","_resource",241],")",")",["T_WHITESPACE"," ",241],"{",["T_WHITESPACE","\n            ",241],["T_VARIABLE","$this",242],["T_OBJECT_OPERATOR","->",242],["T_STRING","_resource",242],["T_WHITESPACE"," ",242],"=",["T_WHITESPACE"," ",242],["T_STRING","curl_init",242],"(",")",";",["T_WHITESPACE","\n        ",242],"}",["T_WHITESPACE","\n        ",243],["T_RETURN","return",244],["T_WHITESPACE"," ",244],["T_VARIABLE","$this",244],["T_OBJECT_OPERATOR","->",244],["T_STRING","_resource",244],";",["T_WHITESPACE","\n    ",244],"}",["T_WHITESPACE","\n\n    ",245],["T_DOC_COMMENT","\/**\n     * Get last error number\n     *\n     * @return int\n     *\/",247],["T_WHITESPACE","\n    ",251],["T_PUBLIC","public",252],["T_WHITESPACE"," ",252],["T_FUNCTION","function",252],["T_WHITESPACE"," ",252],["T_STRING","getErrno",252],"(",")",["T_WHITESPACE","\n    ",252],"{",["T_WHITESPACE","\n        ",253],["T_RETURN","return",254],["T_WHITESPACE"," ",254],["T_STRING","curl_errno",254],"(",["T_VARIABLE","$this",254],["T_OBJECT_OPERATOR","->",254],["T_STRING","_getResource",254],"(",")",")",";",["T_WHITESPACE","\n    ",254],"}",["T_WHITESPACE","\n\n    ",255],["T_DOC_COMMENT","\/**\n     * Get string with last error for the current session\n     *\n     * @return string\n     *\/",257],["T_WHITESPACE","\n    ",261],["T_PUBLIC","public",262],["T_WHITESPACE"," ",262],["T_FUNCTION","function",262],["T_WHITESPACE"," ",262],["T_STRING","getError",262],"(",")",["T_WHITESPACE","\n    ",262],"{",["T_WHITESPACE","\n        ",263],["T_RETURN","return",264],["T_WHITESPACE"," ",264],["T_STRING","curl_error",264],"(",["T_VARIABLE","$this",264],["T_OBJECT_OPERATOR","->",264],["T_STRING","_getResource",264],"(",")",")",";",["T_WHITESPACE","\n    ",264],"}",["T_WHITESPACE","\n\n    ",265],["T_DOC_COMMENT","\/**\n     * Get information regarding a specific transfer\n     *\n     * @param int $opt CURLINFO option\n     * @return mixed\n     *\/",267],["T_WHITESPACE","\n    ",272],["T_PUBLIC","public",273],["T_WHITESPACE"," ",273],["T_FUNCTION","function",273],["T_WHITESPACE"," ",273],["T_STRING","getInfo",273],"(",["T_VARIABLE","$opt",273],["T_WHITESPACE"," ",273],"=",["T_WHITESPACE"," ",273],["T_LNUMBER","0",273],")",["T_WHITESPACE","\n    ",273],"{",["T_WHITESPACE","\n        ",274],["T_IF","if",275],["T_WHITESPACE"," ",275],"(","!",["T_VARIABLE","$opt",275],")",["T_WHITESPACE"," ",275],"{",["T_WHITESPACE","\n            ",275],["T_RETURN","return",276],["T_WHITESPACE"," ",276],["T_STRING","curl_getinfo",276],"(",["T_VARIABLE","$this",276],["T_OBJECT_OPERATOR","->",276],["T_STRING","_getResource",276],"(",")",")",";",["T_WHITESPACE","\n        ",276],"}",["T_WHITESPACE","\n\n        ",277],["T_RETURN","return",279],["T_WHITESPACE"," ",279],["T_STRING","curl_getinfo",279],"(",["T_VARIABLE","$this",279],["T_OBJECT_OPERATOR","->",279],["T_STRING","_getResource",279],"(",")",",",["T_WHITESPACE"," ",279],["T_VARIABLE","$opt",279],")",";",["T_WHITESPACE","\n    ",279],"}",["T_WHITESPACE","\n\n    ",280],["T_DOC_COMMENT","\/**\n     * curl_multi_* requests support\n     *\n     * @param array $urls\n     * @param array $options\n     * @return array\n     *\/",282],["T_WHITESPACE","\n    ",288],["T_PUBLIC","public",289],["T_WHITESPACE"," ",289],["T_FUNCTION","function",289],["T_WHITESPACE"," ",289],["T_STRING","multiRequest",289],"(",["T_VARIABLE","$urls",289],",",["T_WHITESPACE"," ",289],["T_VARIABLE","$options",289],["T_WHITESPACE"," ",289],"=",["T_WHITESPACE"," ",289],["T_ARRAY","array",289],"(",")",")",["T_WHITESPACE","\n    ",289],"{",["T_WHITESPACE","\n        ",290],["T_VARIABLE","$handles",291],["T_WHITESPACE"," ",291],"=",["T_WHITESPACE"," ",291],["T_ARRAY","array",291],"(",")",";",["T_WHITESPACE","\n        ",291],["T_VARIABLE","$result",292],["T_WHITESPACE","  ",292],"=",["T_WHITESPACE"," ",292],["T_ARRAY","array",292],"(",")",";",["T_WHITESPACE","\n\n        ",292],["T_VARIABLE","$multihandle",294],["T_WHITESPACE"," ",294],"=",["T_WHITESPACE"," ",294],["T_STRING","curl_multi_init",294],"(",")",";",["T_WHITESPACE","\n\n        ",294],["T_FOREACH","foreach",296],["T_WHITESPACE"," ",296],"(",["T_VARIABLE","$urls",296],["T_WHITESPACE"," ",296],["T_AS","as",296],["T_WHITESPACE"," ",296],["T_VARIABLE","$key",296],["T_WHITESPACE"," ",296],["T_DOUBLE_ARROW","=>",296],["T_WHITESPACE"," ",296],["T_VARIABLE","$url",296],")",["T_WHITESPACE"," ",296],"{",["T_WHITESPACE","\n            ",296],["T_VARIABLE","$handles",297],"[",["T_VARIABLE","$key",297],"]",["T_WHITESPACE"," ",297],"=",["T_WHITESPACE"," ",297],["T_STRING","curl_init",297],"(",")",";",["T_WHITESPACE","\n            ",297],["T_STRING","curl_setopt",298],"(",["T_VARIABLE","$handles",298],"[",["T_VARIABLE","$key",298],"]",",",["T_WHITESPACE"," ",298],["T_STRING","CURLOPT_URL",298],",",["T_WHITESPACE","            ",298],["T_VARIABLE","$url",298],")",";",["T_WHITESPACE","\n            ",298],["T_STRING","curl_setopt",299],"(",["T_VARIABLE","$handles",299],"[",["T_VARIABLE","$key",299],"]",",",["T_WHITESPACE"," ",299],["T_STRING","CURLOPT_HEADER",299],",",["T_WHITESPACE","         ",299],["T_LNUMBER","0",299],")",";",["T_WHITESPACE","\n            ",299],["T_STRING","curl_setopt",300],"(",["T_VARIABLE","$handles",300],"[",["T_VARIABLE","$key",300],"]",",",["T_WHITESPACE"," ",300],["T_STRING","CURLOPT_RETURNTRANSFER",300],",",["T_WHITESPACE"," ",300],["T_LNUMBER","1",300],")",";",["T_WHITESPACE","\n            ",300],["T_IF","if",301],["T_WHITESPACE"," ",301],"(","!",["T_EMPTY","empty",301],"(",["T_VARIABLE","$options",301],")",")",["T_WHITESPACE"," ",301],"{",["T_WHITESPACE","\n                ",301],["T_STRING","curl_setopt_array",302],"(",["T_VARIABLE","$handles",302],"[",["T_VARIABLE","$key",302],"]",",",["T_WHITESPACE"," ",302],["T_VARIABLE","$options",302],")",";",["T_WHITESPACE","\n            ",302],"}",["T_WHITESPACE","\n            ",303],["T_STRING","curl_multi_add_handle",304],"(",["T_VARIABLE","$multihandle",304],",",["T_WHITESPACE"," ",304],["T_VARIABLE","$handles",304],"[",["T_VARIABLE","$key",304],"]",")",";",["T_WHITESPACE","\n        ",304],"}",["T_WHITESPACE","\n        ",305],["T_VARIABLE","$process",306],["T_WHITESPACE"," ",306],"=",["T_WHITESPACE"," ",306],["T_STRING","null",306],";",["T_WHITESPACE","\n        ",306],["T_DO","do",307],["T_WHITESPACE"," ",307],"{",["T_WHITESPACE","\n            ",307],["T_STRING","curl_multi_exec",308],"(",["T_VARIABLE","$multihandle",308],",",["T_WHITESPACE"," ",308],["T_VARIABLE","$process",308],")",";",["T_WHITESPACE","\n            ",308],["T_STRING","usleep",309],"(",["T_LNUMBER","100",309],")",";",["T_WHITESPACE","\n        ",309],"}",["T_WHITESPACE"," ",310],["T_WHILE","while",310],["T_WHITESPACE"," ",310],"(",["T_VARIABLE","$process",310],">",["T_LNUMBER","0",310],")",";",["T_WHITESPACE","\n\n        ",310],["T_FOREACH","foreach",312],["T_WHITESPACE"," ",312],"(",["T_VARIABLE","$handles",312],["T_WHITESPACE"," ",312],["T_AS","as",312],["T_WHITESPACE"," ",312],["T_VARIABLE","$key",312],["T_WHITESPACE"," ",312],["T_DOUBLE_ARROW","=>",312],["T_WHITESPACE"," ",312],["T_VARIABLE","$handle",312],")",["T_WHITESPACE"," ",312],"{",["T_WHITESPACE","\n            ",312],["T_VARIABLE","$result",313],"[",["T_VARIABLE","$key",313],"]",["T_WHITESPACE"," ",313],"=",["T_WHITESPACE"," ",313],["T_STRING","curl_multi_getcontent",313],"(",["T_VARIABLE","$handle",313],")",";",["T_WHITESPACE","\n            ",313],["T_STRING","curl_multi_remove_handle",314],"(",["T_VARIABLE","$multihandle",314],",",["T_WHITESPACE"," ",314],["T_VARIABLE","$handle",314],")",";",["T_WHITESPACE","\n        ",314],"}",["T_WHITESPACE","\n        ",315],["T_STRING","curl_multi_close",316],"(",["T_VARIABLE","$multihandle",316],")",";",["T_WHITESPACE","\n        ",316],["T_RETURN","return",317],["T_WHITESPACE"," ",317],["T_VARIABLE","$result",317],";",["T_WHITESPACE","\n    ",317],"}",["T_WHITESPACE","\n",318],"}",["T_WHITESPACE","\n",319]]