[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Magento\n *\n * NOTICE OF LICENSE\n *\n * This source file is subject to the Open Software License (OSL 3.0)\n * that is bundled with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/opensource.org\/licenses\/osl-3.0.php\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@magento.com so we can send you a copy immediately.\n *\n * DISCLAIMER\n *\n * Do not edit or add to this file if you wish to upgrade Magento to newer\n * versions in the future. If you wish to customize Magento for your\n * needs please refer to http:\/\/www.magento.com for more information.\n *\n * @category    Varien\n * @package     Varien_Db\n * @copyright  Copyright (c) 2006-2016 X.commerce, Inc. and affiliates (http:\/\/www.magento.com)\n * @license    http:\/\/opensource.org\/licenses\/osl-3.0.php  Open Software License (OSL 3.0)\n *\/",2],["T_WHITESPACE","\n\n\n",25],["T_DOC_COMMENT","\/**\n * Data Definition for table\n *\n * @category    Varien\n * @package     Varien_Db\n * @author      Magento Core Team <core@magentocommerce.com>\n *\/",28],["T_WHITESPACE","\n",34],["T_CLASS","class",35],["T_WHITESPACE"," ",35],["T_STRING","Varien_Db_Ddl_Table",35],["T_WHITESPACE","\n",35],"{",["T_WHITESPACE","\n    ",36],["T_DOC_COMMENT","\/**\n     * Types of columns\n     *\/",37],["T_WHITESPACE","\n    ",39],["T_CONST","const",40],["T_WHITESPACE"," ",40],["T_STRING","TYPE_BOOLEAN",40],["T_WHITESPACE","          ",40],"=",["T_WHITESPACE"," ",40],["T_CONSTANT_ENCAPSED_STRING","'boolean'",40],";",["T_WHITESPACE","\n    ",40],["T_CONST","const",41],["T_WHITESPACE"," ",41],["T_STRING","TYPE_SMALLINT",41],["T_WHITESPACE","         ",41],"=",["T_WHITESPACE"," ",41],["T_CONSTANT_ENCAPSED_STRING","'smallint'",41],";",["T_WHITESPACE","\n    ",41],["T_CONST","const",42],["T_WHITESPACE"," ",42],["T_STRING","TYPE_INTEGER",42],["T_WHITESPACE","          ",42],"=",["T_WHITESPACE"," ",42],["T_CONSTANT_ENCAPSED_STRING","'integer'",42],";",["T_WHITESPACE","\n    ",42],["T_CONST","const",43],["T_WHITESPACE"," ",43],["T_STRING","TYPE_BIGINT",43],["T_WHITESPACE","           ",43],"=",["T_WHITESPACE"," ",43],["T_CONSTANT_ENCAPSED_STRING","'bigint'",43],";",["T_WHITESPACE","\n    ",43],["T_CONST","const",44],["T_WHITESPACE"," ",44],["T_STRING","TYPE_FLOAT",44],["T_WHITESPACE","            ",44],"=",["T_WHITESPACE"," ",44],["T_CONSTANT_ENCAPSED_STRING","'float'",44],";",["T_WHITESPACE","\n    ",44],["T_CONST","const",45],["T_WHITESPACE"," ",45],["T_STRING","TYPE_NUMERIC",45],["T_WHITESPACE","          ",45],"=",["T_WHITESPACE"," ",45],["T_CONSTANT_ENCAPSED_STRING","'numeric'",45],";",["T_WHITESPACE","\n    ",45],["T_CONST","const",46],["T_WHITESPACE"," ",46],["T_STRING","TYPE_DECIMAL",46],["T_WHITESPACE","          ",46],"=",["T_WHITESPACE"," ",46],["T_CONSTANT_ENCAPSED_STRING","'decimal'",46],";",["T_WHITESPACE","\n    ",46],["T_CONST","const",47],["T_WHITESPACE"," ",47],["T_STRING","TYPE_DATE",47],["T_WHITESPACE","             ",47],"=",["T_WHITESPACE"," ",47],["T_CONSTANT_ENCAPSED_STRING","'date'",47],";",["T_WHITESPACE","\n    ",47],["T_CONST","const",48],["T_WHITESPACE"," ",48],["T_STRING","TYPE_TIMESTAMP",48],["T_WHITESPACE","        ",48],"=",["T_WHITESPACE"," ",48],["T_CONSTANT_ENCAPSED_STRING","'timestamp'",48],";",["T_WHITESPACE"," ",48],["T_COMMENT","\/\/ Capable to support date-time from 1970 + auto-triggers in some RDBMS\n",48],["T_WHITESPACE","    ",49],["T_CONST","const",49],["T_WHITESPACE"," ",49],["T_STRING","TYPE_DATETIME",49],["T_WHITESPACE","         ",49],"=",["T_WHITESPACE"," ",49],["T_CONSTANT_ENCAPSED_STRING","'datetime'",49],";",["T_WHITESPACE"," ",49],["T_COMMENT","\/\/ Capable to support long date-time before 1970\n",49],["T_WHITESPACE","    ",50],["T_CONST","const",50],["T_WHITESPACE"," ",50],["T_STRING","TYPE_TEXT",50],["T_WHITESPACE","             ",50],"=",["T_WHITESPACE"," ",50],["T_CONSTANT_ENCAPSED_STRING","'text'",50],";",["T_WHITESPACE","\n    ",50],["T_CONST","const",51],["T_WHITESPACE"," ",51],["T_STRING","TYPE_BLOB",51],["T_WHITESPACE","             ",51],"=",["T_WHITESPACE"," ",51],["T_CONSTANT_ENCAPSED_STRING","'blob'",51],";",["T_WHITESPACE"," ",51],["T_COMMENT","\/\/ Used for back compatibility, when query param can't use statement options\n",51],["T_WHITESPACE","    ",52],["T_CONST","const",52],["T_WHITESPACE"," ",52],["T_STRING","TYPE_VARBINARY",52],["T_WHITESPACE","        ",52],"=",["T_WHITESPACE"," ",52],["T_CONSTANT_ENCAPSED_STRING","'varbinary'",52],";",["T_WHITESPACE"," ",52],["T_COMMENT","\/\/ A real blob, stored as binary inside DB\n",52],["T_WHITESPACE","\n    ",53],["T_COMMENT","\/\/ Deprecated column types, support is left only in MySQL adapter.\n",54],["T_WHITESPACE","    ",55],["T_CONST","const",55],["T_WHITESPACE"," ",55],["T_STRING","TYPE_TINYINT",55],["T_WHITESPACE","          ",55],"=",["T_WHITESPACE"," ",55],["T_CONSTANT_ENCAPSED_STRING","'tinyint'",55],";",["T_WHITESPACE","        ",55],["T_COMMENT","\/\/ Internally converted to TYPE_SMALLINT\n",55],["T_WHITESPACE","    ",56],["T_CONST","const",56],["T_WHITESPACE"," ",56],["T_STRING","TYPE_CHAR",56],["T_WHITESPACE","             ",56],"=",["T_WHITESPACE"," ",56],["T_CONSTANT_ENCAPSED_STRING","'char'",56],";",["T_WHITESPACE","           ",56],["T_COMMENT","\/\/ Internally converted to TYPE_TEXT\n",56],["T_WHITESPACE","    ",57],["T_CONST","const",57],["T_WHITESPACE"," ",57],["T_STRING","TYPE_VARCHAR",57],["T_WHITESPACE","          ",57],"=",["T_WHITESPACE"," ",57],["T_CONSTANT_ENCAPSED_STRING","'varchar'",57],";",["T_WHITESPACE","        ",57],["T_COMMENT","\/\/ Internally converted to TYPE_TEXT\n",57],["T_WHITESPACE","    ",58],["T_CONST","const",58],["T_WHITESPACE"," ",58],["T_STRING","TYPE_LONGVARCHAR",58],["T_WHITESPACE","      ",58],"=",["T_WHITESPACE"," ",58],["T_CONSTANT_ENCAPSED_STRING","'longvarchar'",58],";",["T_WHITESPACE","    ",58],["T_COMMENT","\/\/ Internally converted to TYPE_TEXT\n",58],["T_WHITESPACE","    ",59],["T_CONST","const",59],["T_WHITESPACE"," ",59],["T_STRING","TYPE_CLOB",59],["T_WHITESPACE","             ",59],"=",["T_WHITESPACE"," ",59],["T_CONSTANT_ENCAPSED_STRING","'cblob'",59],";",["T_WHITESPACE","          ",59],["T_COMMENT","\/\/ Internally converted to TYPE_TEXT\n",59],["T_WHITESPACE","    ",60],["T_CONST","const",60],["T_WHITESPACE"," ",60],["T_STRING","TYPE_DOUBLE",60],["T_WHITESPACE","           ",60],"=",["T_WHITESPACE"," ",60],["T_CONSTANT_ENCAPSED_STRING","'double'",60],";",["T_WHITESPACE","         ",60],["T_COMMENT","\/\/ Internally converted to TYPE_FLOAT\n",60],["T_WHITESPACE","    ",61],["T_CONST","const",61],["T_WHITESPACE"," ",61],["T_STRING","TYPE_REAL",61],["T_WHITESPACE","             ",61],"=",["T_WHITESPACE"," ",61],["T_CONSTANT_ENCAPSED_STRING","'real'",61],";",["T_WHITESPACE","           ",61],["T_COMMENT","\/\/ Internally converted to TYPE_FLOAT\n",61],["T_WHITESPACE","    ",62],["T_CONST","const",62],["T_WHITESPACE"," ",62],["T_STRING","TYPE_TIME",62],["T_WHITESPACE","             ",62],"=",["T_WHITESPACE"," ",62],["T_CONSTANT_ENCAPSED_STRING","'time'",62],";",["T_WHITESPACE","           ",62],["T_COMMENT","\/\/ Internally converted to TYPE_TIMESTAMP\n",62],["T_WHITESPACE","    ",63],["T_CONST","const",63],["T_WHITESPACE"," ",63],["T_STRING","TYPE_BINARY",63],["T_WHITESPACE","           ",63],"=",["T_WHITESPACE"," ",63],["T_CONSTANT_ENCAPSED_STRING","'binary'",63],";",["T_WHITESPACE","         ",63],["T_COMMENT","\/\/ Internally converted to TYPE_BLOB\n",63],["T_WHITESPACE","    ",64],["T_CONST","const",64],["T_WHITESPACE"," ",64],["T_STRING","TYPE_LONGVARBINARY",64],["T_WHITESPACE","    ",64],"=",["T_WHITESPACE"," ",64],["T_CONSTANT_ENCAPSED_STRING","'longvarbinary'",64],";",["T_WHITESPACE","  ",64],["T_COMMENT","\/\/ Internally converted to TYPE_BLOB\n",64],["T_WHITESPACE","\n    ",65],["T_DOC_COMMENT","\/**\n     * Default and maximal TEXT and BLOB columns sizes we can support for different DB systems.\n     *\/",66],["T_WHITESPACE","\n    ",68],["T_CONST","const",69],["T_WHITESPACE"," ",69],["T_STRING","DEFAULT_TEXT_SIZE",69],["T_WHITESPACE","     ",69],"=",["T_WHITESPACE"," ",69],["T_LNUMBER","1024",69],";",["T_WHITESPACE","\n    ",69],["T_CONST","const",70],["T_WHITESPACE"," ",70],["T_STRING","MAX_TEXT_SIZE",70],["T_WHITESPACE","         ",70],"=",["T_WHITESPACE"," ",70],["T_LNUMBER","2147483648",70],";",["T_WHITESPACE","\n    ",70],["T_CONST","const",71],["T_WHITESPACE"," ",71],["T_STRING","MAX_VARBINARY_SIZE",71],["T_WHITESPACE","    ",71],"=",["T_WHITESPACE"," ",71],["T_LNUMBER","2147483648",71],";",["T_WHITESPACE","\n\n    ",71],["T_DOC_COMMENT","\/**\n     * Default values for timestampses - fill with current timestamp on inserting record, on changing and both cases\n     *\/",73],["T_WHITESPACE","\n    ",75],["T_CONST","const",76],["T_WHITESPACE"," ",76],["T_STRING","TIMESTAMP_INIT_UPDATE",76],["T_WHITESPACE"," ",76],"=",["T_WHITESPACE"," ",76],["T_CONSTANT_ENCAPSED_STRING","'TIMESTAMP_INIT_UPDATE'",76],";",["T_WHITESPACE","\n    ",76],["T_CONST","const",77],["T_WHITESPACE"," ",77],["T_STRING","TIMESTAMP_INIT",77],["T_WHITESPACE","        ",77],"=",["T_WHITESPACE"," ",77],["T_CONSTANT_ENCAPSED_STRING","'TIMESTAMP_INIT'",77],";",["T_WHITESPACE","\n    ",77],["T_CONST","const",78],["T_WHITESPACE"," ",78],["T_STRING","TIMESTAMP_UPDATE",78],["T_WHITESPACE","      ",78],"=",["T_WHITESPACE"," ",78],["T_CONSTANT_ENCAPSED_STRING","'TIMESTAMP_UPDATE'",78],";",["T_WHITESPACE","\n\n    ",78],["T_DOC_COMMENT","\/**\n     * Actions used for foreign keys\n     *\/",80],["T_WHITESPACE","\n    ",82],["T_CONST","const",83],["T_WHITESPACE"," ",83],["T_STRING","ACTION_CASCADE",83],["T_WHITESPACE","        ",83],"=",["T_WHITESPACE"," ",83],["T_CONSTANT_ENCAPSED_STRING","'CASCADE'",83],";",["T_WHITESPACE","\n    ",83],["T_CONST","const",84],["T_WHITESPACE"," ",84],["T_STRING","ACTION_SET_NULL",84],["T_WHITESPACE","       ",84],"=",["T_WHITESPACE"," ",84],["T_CONSTANT_ENCAPSED_STRING","'SET NULL'",84],";",["T_WHITESPACE","\n    ",84],["T_CONST","const",85],["T_WHITESPACE"," ",85],["T_STRING","ACTION_NO_ACTION",85],["T_WHITESPACE","      ",85],"=",["T_WHITESPACE"," ",85],["T_CONSTANT_ENCAPSED_STRING","'NO ACTION'",85],";",["T_WHITESPACE","\n    ",85],["T_CONST","const",86],["T_WHITESPACE"," ",86],["T_STRING","ACTION_RESTRICT",86],["T_WHITESPACE","       ",86],"=",["T_WHITESPACE"," ",86],["T_CONSTANT_ENCAPSED_STRING","'RESTRICT'",86],";",["T_WHITESPACE","\n    ",86],["T_CONST","const",87],["T_WHITESPACE"," ",87],["T_STRING","ACTION_SET_DEFAULT",87],["T_WHITESPACE","    ",87],"=",["T_WHITESPACE"," ",87],["T_CONSTANT_ENCAPSED_STRING","'SET DEFAULT'",87],";",["T_WHITESPACE","\n\n    ",87],["T_DOC_COMMENT","\/**\n     * Name of table\n     *\n     * @var string\n     *\/",89],["T_WHITESPACE","\n    ",93],["T_PROTECTED","protected",94],["T_WHITESPACE"," ",94],["T_VARIABLE","$_tableName",94],";",["T_WHITESPACE","\n\n    ",94],["T_DOC_COMMENT","\/**\n     * Schema name\n     *\n     * @var string\n     *\/",96],["T_WHITESPACE","\n    ",100],["T_PROTECTED","protected",101],["T_WHITESPACE"," ",101],["T_VARIABLE","$_schemaName",101],";",["T_WHITESPACE","\n\n    ",101],["T_DOC_COMMENT","\/**\n     * Comment for Table\n     *\n     * @var string\n     *\/",103],["T_WHITESPACE","\n    ",107],["T_PROTECTED","protected",108],["T_WHITESPACE"," ",108],["T_VARIABLE","$_tableComment",108],";",["T_WHITESPACE","\n\n    ",108],["T_DOC_COMMENT","\/**\n     * Column descriptions for a table\n     *\n     * Is an associative array keyed by the uppercase column name\n     * The value of each array element is an associative array\n     * with the following keys:\n     *\n     * COLUMN_NAME      => string; column name\n     * COLUMN_POSITION  => number; ordinal position of column in table\n     * DATA_TYPE        => string; constant datatype of column\n     * DEFAULT          => string; default expression of column, null if none\n     * NULLABLE         => boolean; true if column can have nulls\n     * LENGTH           => number; length of CHAR\/VARCHAR\/INT\n     * SCALE            => number; scale of NUMERIC\/DECIMAL\n     * PRECISION        => number; precision of NUMERIC\/DECIMAL\n     * UNSIGNED         => boolean; unsigned property of an integer type\n     * PRIMARY          => boolean; true if column is part of the primary key\n     * PRIMARY_POSITION => integer; position of column in primary key\n     * IDENTITY         => integer; true if column is auto-generated with unique values\n     * COMMENT          => string; column description\n     *\n     * @var array\n     *\/",110],["T_WHITESPACE","\n    ",132],["T_PROTECTED","protected",133],["T_WHITESPACE"," ",133],["T_VARIABLE","$_columns",133],["T_WHITESPACE","         ",133],"=",["T_WHITESPACE"," ",133],["T_ARRAY","array",133],"(",")",";",["T_WHITESPACE","\n\n    ",133],["T_DOC_COMMENT","\/**\n     * Index descriptions for a table\n     *\n     * Is an associative array keyed by the uppercase index name\n     * The value of each array element is an associative array\n     * with the following keys:\n     *\n     * INDEX_NAME       => string; index name\n     * COLUMNS          => array; array of index columns\n     * TYPE             => string; Optional special index type\n     *\n     * COLUMNS is an associative array keyed by the uppercase column name\n     * The value of each COLUMNS array element is an associative array\n     * with the following keys:\n     *\n     * NAME             => string; The column name\n     * SIZE             => int|null; Length of index column (always null if index is unique)\n     * POSITION         => int; Position in index\n     *\n     * @var array\n     *\/",135],["T_WHITESPACE","\n    ",155],["T_PROTECTED","protected",156],["T_WHITESPACE"," ",156],["T_VARIABLE","$_indexes",156],["T_WHITESPACE","         ",156],"=",["T_WHITESPACE"," ",156],["T_ARRAY","array",156],"(",")",";",["T_WHITESPACE","\n\n    ",156],["T_DOC_COMMENT","\/**\n     * Foreign key descriptions for a table\n     *\n     * Is an associative array keyed by the uppercase foreign key name\n     * The value of each array element is an associative array\n     * with the following keys:\n     *\n     * FK_NAME          => string; The foreign key name\n     * COLUMN_NAME      => string; The column name in table\n     * REF_TABLE_NAME   => string; Reference table name\n     * REF_COLUMN_NAME  => string; Reference table column name\n     * ON_DELETE        => string; Integrity Actions, default NO ACTION\n     * ON_UPDATE        => string; Integrity Actions, default NO ACTION\n     *\n     * Valid Integrity Actions:\n     * CASCADE | SET NULL | NONE | RESTRICT | SET DEFAULT\n     *\n     * @var array\n     *\/",158],["T_WHITESPACE","\n    ",176],["T_PROTECTED","protected",177],["T_WHITESPACE"," ",177],["T_VARIABLE","$_foreignKeys",177],["T_WHITESPACE","     ",177],"=",["T_WHITESPACE"," ",177],["T_ARRAY","array",177],"(",")",";",["T_WHITESPACE","\n\n    ",177],["T_DOC_COMMENT","\/**\n     * Additional table options\n     *\n     * @var array\n     *\/",179],["T_WHITESPACE","\n    ",183],["T_PROTECTED","protected",184],["T_WHITESPACE"," ",184],["T_VARIABLE","$_options",184],["T_WHITESPACE","         ",184],"=",["T_WHITESPACE"," ",184],["T_ARRAY","array",184],"(",["T_WHITESPACE","\n        ",184],["T_CONSTANT_ENCAPSED_STRING","'type'",185],["T_WHITESPACE","          ",185],["T_DOUBLE_ARROW","=>",185],["T_WHITESPACE"," ",185],["T_CONSTANT_ENCAPSED_STRING","'INNODB'",185],",",["T_WHITESPACE","\n        ",185],["T_CONSTANT_ENCAPSED_STRING","'charset'",186],["T_WHITESPACE","       ",186],["T_DOUBLE_ARROW","=>",186],["T_WHITESPACE"," ",186],["T_CONSTANT_ENCAPSED_STRING","'utf8'",186],",",["T_WHITESPACE","\n        ",186],["T_CONSTANT_ENCAPSED_STRING","'collate'",187],["T_WHITESPACE","       ",187],["T_DOUBLE_ARROW","=>",187],["T_WHITESPACE"," ",187],["T_CONSTANT_ENCAPSED_STRING","'utf8_general_ci'",187],",",["T_WHITESPACE","\n\n    ",187],")",";",["T_WHITESPACE","\n\n    ",189],["T_DOC_COMMENT","\/**\n     * Set table name\n     *\n     * @param string $name\n     * @return Varien_Db_Ddl_Table\n     *\/",191],["T_WHITESPACE","\n    ",196],["T_PUBLIC","public",197],["T_WHITESPACE"," ",197],["T_FUNCTION","function",197],["T_WHITESPACE"," ",197],["T_STRING","setName",197],"(",["T_VARIABLE","$name",197],")",["T_WHITESPACE","\n    ",197],"{",["T_WHITESPACE","\n        ",198],["T_VARIABLE","$this",199],["T_OBJECT_OPERATOR","->",199],["T_STRING","_tableName",199],["T_WHITESPACE"," ",199],"=",["T_WHITESPACE"," ",199],["T_VARIABLE","$name",199],";",["T_WHITESPACE","\n        ",199],["T_IF","if",200],["T_WHITESPACE"," ",200],"(",["T_VARIABLE","$this",200],["T_OBJECT_OPERATOR","->",200],["T_STRING","_tableComment",200],["T_WHITESPACE"," ",200],["T_IS_IDENTICAL","===",200],["T_WHITESPACE"," ",200],["T_STRING","null",200],")",["T_WHITESPACE"," ",200],"{",["T_WHITESPACE","\n            ",200],["T_VARIABLE","$this",201],["T_OBJECT_OPERATOR","->",201],["T_STRING","_tableComment",201],["T_WHITESPACE"," ",201],"=",["T_WHITESPACE"," ",201],["T_VARIABLE","$name",201],";",["T_WHITESPACE","\n        ",201],"}",["T_WHITESPACE","\n        ",202],["T_RETURN","return",203],["T_WHITESPACE"," ",203],["T_VARIABLE","$this",203],";",["T_WHITESPACE","\n    ",203],"}",["T_WHITESPACE","\n\n    ",204],["T_DOC_COMMENT","\/**\n     * Set schema name\n     *\n     * @param string $name\n     * @return Varien_Db_Ddl_Table\n     *\/",206],["T_WHITESPACE","\n    ",211],["T_PUBLIC","public",212],["T_WHITESPACE"," ",212],["T_FUNCTION","function",212],["T_WHITESPACE"," ",212],["T_STRING","setSchema",212],"(",["T_VARIABLE","$name",212],")",["T_WHITESPACE","\n    ",212],"{",["T_WHITESPACE","\n        ",213],["T_VARIABLE","$this",214],["T_OBJECT_OPERATOR","->",214],["T_STRING","_schemaName",214],["T_WHITESPACE"," ",214],"=",["T_WHITESPACE"," ",214],["T_VARIABLE","$name",214],";",["T_WHITESPACE","\n        ",214],["T_RETURN","return",215],["T_WHITESPACE"," ",215],["T_VARIABLE","$this",215],";",["T_WHITESPACE","\n    ",215],"}",["T_WHITESPACE","\n\n    ",216],["T_DOC_COMMENT","\/**\n     * Set comment for table\n     *\n     * @param string $comment\n     * @return Varien_Db_Ddl_Table\n     *\/",218],["T_WHITESPACE","\n    ",223],["T_PUBLIC","public",224],["T_WHITESPACE"," ",224],["T_FUNCTION","function",224],["T_WHITESPACE"," ",224],["T_STRING","setComment",224],"(",["T_VARIABLE","$comment",224],")",["T_WHITESPACE","\n    ",224],"{",["T_WHITESPACE","\n        ",225],["T_VARIABLE","$this",226],["T_OBJECT_OPERATOR","->",226],["T_STRING","_tableComment",226],["T_WHITESPACE"," ",226],"=",["T_WHITESPACE"," ",226],["T_VARIABLE","$comment",226],";",["T_WHITESPACE","\n        ",226],["T_RETURN","return",227],["T_WHITESPACE"," ",227],["T_VARIABLE","$this",227],";",["T_WHITESPACE","\n    ",227],"}",["T_WHITESPACE","\n\n    ",228],["T_DOC_COMMENT","\/**\n     * Retrieve name of table\n     *\n     * @throws Zend_Db_Exception\n     * @return string\n     *\/",230],["T_WHITESPACE","\n    ",235],["T_PUBLIC","public",236],["T_WHITESPACE"," ",236],["T_FUNCTION","function",236],["T_WHITESPACE"," ",236],["T_STRING","getName",236],"(",")",["T_WHITESPACE","\n    ",236],"{",["T_WHITESPACE","\n        ",237],["T_IF","if",238],["T_WHITESPACE"," ",238],"(",["T_STRING","is_null",238],"(",["T_VARIABLE","$this",238],["T_OBJECT_OPERATOR","->",238],["T_STRING","_tableName",238],")",")",["T_WHITESPACE"," ",238],"{",["T_WHITESPACE","\n            ",238],["T_THROW","throw",239],["T_WHITESPACE"," ",239],["T_NEW","new",239],["T_WHITESPACE"," ",239],["T_STRING","Zend_Db_Exception",239],"(",["T_CONSTANT_ENCAPSED_STRING","'Table name is not defined'",239],")",";",["T_WHITESPACE","\n        ",239],"}",["T_WHITESPACE","\n        ",240],["T_RETURN","return",241],["T_WHITESPACE"," ",241],["T_VARIABLE","$this",241],["T_OBJECT_OPERATOR","->",241],["T_STRING","_tableName",241],";",["T_WHITESPACE","\n    ",241],"}",["T_WHITESPACE","\n\n    ",242],["T_DOC_COMMENT","\/**\n     * Get schema name\n     *\n     * @return string|null\n     *\/",244],["T_WHITESPACE","\n    ",248],["T_PUBLIC","public",249],["T_WHITESPACE"," ",249],["T_FUNCTION","function",249],["T_WHITESPACE"," ",249],["T_STRING","getSchema",249],"(",")",["T_WHITESPACE","\n    ",249],"{",["T_WHITESPACE","\n        ",250],["T_RETURN","return",251],["T_WHITESPACE"," ",251],["T_VARIABLE","$this",251],["T_OBJECT_OPERATOR","->",251],["T_STRING","_schemaName",251],";",["T_WHITESPACE","\n    ",251],"}",["T_WHITESPACE","\n\n    ",252],["T_DOC_COMMENT","\/**\n     * Return comment for table\n     *\n     * @return string\n     *\/",254],["T_WHITESPACE","\n    ",258],["T_PUBLIC","public",259],["T_WHITESPACE"," ",259],["T_FUNCTION","function",259],["T_WHITESPACE"," ",259],["T_STRING","getComment",259],"(",")",["T_WHITESPACE","\n    ",259],"{",["T_WHITESPACE","\n        ",260],["T_RETURN","return",261],["T_WHITESPACE"," ",261],["T_VARIABLE","$this",261],["T_OBJECT_OPERATOR","->",261],["T_STRING","_tableComment",261],";",["T_WHITESPACE","\n    ",261],"}",["T_WHITESPACE","\n\n    ",262],["T_DOC_COMMENT","\/**\n     * Adds column to table.\n     *\n     * $options contains additional options for columns. Supported values are:\n     * - 'unsigned', for number types only. Default: FALSE.\n     * - 'precision', for numeric and decimal only. Default: taken from $size, if not set there then 0.\n     * - 'scale', for numeric and decimal only. Default: taken from $size, if not set there then 10.\n     * - 'default'. Default: not set.\n     * - 'nullable'. Default: TRUE.\n     * - 'primary', add column to primary index. Default: do not add.\n     * - 'primary_position', only for column in primary index. Default: count of primary columns + 1.\n     * - 'identity' or 'auto_increment'. Default: FALSE.\n     *\n     * @param string $name the column name\n     * @param string $type the column data type\n     * @param string|int|array $size the column length\n     * @param array $options array of additional options\n     * @param string $comment column description\n     * @throws Zend_Db_Exception\n     * @return Varien_Db_Ddl_Table\n     *\/",264],["T_WHITESPACE","\n    ",284],["T_PUBLIC","public",285],["T_WHITESPACE"," ",285],["T_FUNCTION","function",285],["T_WHITESPACE"," ",285],["T_STRING","addColumn",285],"(",["T_VARIABLE","$name",285],",",["T_WHITESPACE"," ",285],["T_VARIABLE","$type",285],",",["T_WHITESPACE"," ",285],["T_VARIABLE","$size",285],["T_WHITESPACE"," ",285],"=",["T_WHITESPACE"," ",285],["T_STRING","null",285],",",["T_WHITESPACE"," ",285],["T_VARIABLE","$options",285],["T_WHITESPACE"," ",285],"=",["T_WHITESPACE"," ",285],["T_ARRAY","array",285],"(",")",",",["T_WHITESPACE"," ",285],["T_VARIABLE","$comment",285],["T_WHITESPACE"," ",285],"=",["T_WHITESPACE"," ",285],["T_STRING","null",285],")",["T_WHITESPACE","\n    ",285],"{",["T_WHITESPACE","\n        ",286],["T_VARIABLE","$position",287],["T_WHITESPACE","           ",287],"=",["T_WHITESPACE"," ",287],["T_STRING","count",287],"(",["T_VARIABLE","$this",287],["T_OBJECT_OPERATOR","->",287],["T_STRING","_columns",287],")",";",["T_WHITESPACE","\n        ",287],["T_VARIABLE","$default",288],["T_WHITESPACE","            ",288],"=",["T_WHITESPACE"," ",288],["T_STRING","false",288],";",["T_WHITESPACE","\n        ",288],["T_VARIABLE","$nullable",289],["T_WHITESPACE","           ",289],"=",["T_WHITESPACE"," ",289],["T_STRING","true",289],";",["T_WHITESPACE","\n        ",289],["T_VARIABLE","$length",290],["T_WHITESPACE","             ",290],"=",["T_WHITESPACE"," ",290],["T_STRING","null",290],";",["T_WHITESPACE","\n        ",290],["T_VARIABLE","$scale",291],["T_WHITESPACE","              ",291],"=",["T_WHITESPACE"," ",291],["T_STRING","null",291],";",["T_WHITESPACE","\n        ",291],["T_VARIABLE","$precision",292],["T_WHITESPACE","          ",292],"=",["T_WHITESPACE"," ",292],["T_STRING","null",292],";",["T_WHITESPACE","\n        ",292],["T_VARIABLE","$unsigned",293],["T_WHITESPACE","           ",293],"=",["T_WHITESPACE"," ",293],["T_STRING","false",293],";",["T_WHITESPACE","\n        ",293],["T_VARIABLE","$primary",294],["T_WHITESPACE","            ",294],"=",["T_WHITESPACE"," ",294],["T_STRING","false",294],";",["T_WHITESPACE","\n        ",294],["T_VARIABLE","$primaryPosition",295],["T_WHITESPACE","    ",295],"=",["T_WHITESPACE"," ",295],["T_LNUMBER","0",295],";",["T_WHITESPACE","\n        ",295],["T_VARIABLE","$identity",296],["T_WHITESPACE","           ",296],"=",["T_WHITESPACE"," ",296],["T_STRING","false",296],";",["T_WHITESPACE","\n\n        ",296],["T_COMMENT","\/\/ Convert deprecated types\n",298],["T_WHITESPACE","        ",299],["T_SWITCH","switch",299],["T_WHITESPACE"," ",299],"(",["T_VARIABLE","$type",299],")",["T_WHITESPACE"," ",299],"{",["T_WHITESPACE","\n            ",299],["T_CASE","case",300],["T_WHITESPACE"," ",300],["T_STRING","self",300],["T_DOUBLE_COLON","::",300],["T_STRING","TYPE_CHAR",300],":",["T_WHITESPACE","\n            ",300],["T_CASE","case",301],["T_WHITESPACE"," ",301],["T_STRING","self",301],["T_DOUBLE_COLON","::",301],["T_STRING","TYPE_VARCHAR",301],":",["T_WHITESPACE","\n            ",301],["T_CASE","case",302],["T_WHITESPACE"," ",302],["T_STRING","self",302],["T_DOUBLE_COLON","::",302],["T_STRING","TYPE_LONGVARCHAR",302],":",["T_WHITESPACE","\n            ",302],["T_CASE","case",303],["T_WHITESPACE"," ",303],["T_STRING","self",303],["T_DOUBLE_COLON","::",303],["T_STRING","TYPE_CLOB",303],":",["T_WHITESPACE","\n                ",303],["T_VARIABLE","$type",304],["T_WHITESPACE"," ",304],"=",["T_WHITESPACE"," ",304],["T_STRING","self",304],["T_DOUBLE_COLON","::",304],["T_STRING","TYPE_TEXT",304],";",["T_WHITESPACE","\n                ",304],["T_BREAK","break",305],";",["T_WHITESPACE","\n            ",305],["T_CASE","case",306],["T_WHITESPACE"," ",306],["T_STRING","self",306],["T_DOUBLE_COLON","::",306],["T_STRING","TYPE_TINYINT",306],":",["T_WHITESPACE","\n                ",306],["T_VARIABLE","$type",307],["T_WHITESPACE"," ",307],"=",["T_WHITESPACE"," ",307],["T_STRING","self",307],["T_DOUBLE_COLON","::",307],["T_STRING","TYPE_SMALLINT",307],";",["T_WHITESPACE","\n                ",307],["T_BREAK","break",308],";",["T_WHITESPACE","\n            ",308],["T_CASE","case",309],["T_WHITESPACE"," ",309],["T_STRING","self",309],["T_DOUBLE_COLON","::",309],["T_STRING","TYPE_DOUBLE",309],":",["T_WHITESPACE","\n            ",309],["T_CASE","case",310],["T_WHITESPACE"," ",310],["T_STRING","self",310],["T_DOUBLE_COLON","::",310],["T_STRING","TYPE_REAL",310],":",["T_WHITESPACE","\n                ",310],["T_VARIABLE","$type",311],["T_WHITESPACE"," ",311],"=",["T_WHITESPACE"," ",311],["T_STRING","self",311],["T_DOUBLE_COLON","::",311],["T_STRING","TYPE_FLOAT",311],";",["T_WHITESPACE","\n                ",311],["T_BREAK","break",312],";",["T_WHITESPACE","\n            ",312],["T_CASE","case",313],["T_WHITESPACE"," ",313],["T_STRING","self",313],["T_DOUBLE_COLON","::",313],["T_STRING","TYPE_TIME",313],":",["T_WHITESPACE","\n                ",313],["T_VARIABLE","$type",314],["T_WHITESPACE"," ",314],"=",["T_WHITESPACE"," ",314],["T_STRING","self",314],["T_DOUBLE_COLON","::",314],["T_STRING","TYPE_TIMESTAMP",314],";",["T_WHITESPACE","\n                ",314],["T_BREAK","break",315],";",["T_WHITESPACE","\n            ",315],["T_CASE","case",316],["T_WHITESPACE"," ",316],["T_STRING","self",316],["T_DOUBLE_COLON","::",316],["T_STRING","TYPE_BINARY",316],":",["T_WHITESPACE","\n            ",316],["T_CASE","case",317],["T_WHITESPACE"," ",317],["T_STRING","self",317],["T_DOUBLE_COLON","::",317],["T_STRING","TYPE_LONGVARBINARY",317],":",["T_WHITESPACE","\n                ",317],["T_VARIABLE","$type",318],["T_WHITESPACE"," ",318],"=",["T_WHITESPACE"," ",318],["T_STRING","self",318],["T_DOUBLE_COLON","::",318],["T_STRING","TYPE_BLOB",318],";",["T_WHITESPACE","\n                ",318],["T_BREAK","break",319],";",["T_WHITESPACE","\n        ",319],"}",["T_WHITESPACE","\n\n        ",320],["T_COMMENT","\/\/ Prepare different properties\n",322],["T_WHITESPACE","        ",323],["T_SWITCH","switch",323],["T_WHITESPACE"," ",323],"(",["T_VARIABLE","$type",323],")",["T_WHITESPACE"," ",323],"{",["T_WHITESPACE","\n            ",323],["T_CASE","case",324],["T_WHITESPACE"," ",324],["T_STRING","self",324],["T_DOUBLE_COLON","::",324],["T_STRING","TYPE_BOOLEAN",324],":",["T_WHITESPACE","\n                ",324],["T_BREAK","break",325],";",["T_WHITESPACE","\n\n            ",325],["T_CASE","case",327],["T_WHITESPACE"," ",327],["T_STRING","self",327],["T_DOUBLE_COLON","::",327],["T_STRING","TYPE_SMALLINT",327],":",["T_WHITESPACE","\n            ",327],["T_CASE","case",328],["T_WHITESPACE"," ",328],["T_STRING","self",328],["T_DOUBLE_COLON","::",328],["T_STRING","TYPE_INTEGER",328],":",["T_WHITESPACE","\n            ",328],["T_CASE","case",329],["T_WHITESPACE"," ",329],["T_STRING","self",329],["T_DOUBLE_COLON","::",329],["T_STRING","TYPE_BIGINT",329],":",["T_WHITESPACE","\n                ",329],["T_IF","if",330],["T_WHITESPACE"," ",330],"(","!",["T_EMPTY","empty",330],"(",["T_VARIABLE","$options",330],"[",["T_CONSTANT_ENCAPSED_STRING","'unsigned'",330],"]",")",")",["T_WHITESPACE"," ",330],"{",["T_WHITESPACE","\n                    ",330],["T_VARIABLE","$unsigned",331],["T_WHITESPACE"," ",331],"=",["T_WHITESPACE"," ",331],["T_STRING","true",331],";",["T_WHITESPACE","\n                ",331],"}",["T_WHITESPACE","\n\n                ",332],["T_BREAK","break",334],";",["T_WHITESPACE","\n\n            ",334],["T_CASE","case",336],["T_WHITESPACE"," ",336],["T_STRING","self",336],["T_DOUBLE_COLON","::",336],["T_STRING","TYPE_FLOAT",336],":",["T_WHITESPACE","\n                ",336],["T_IF","if",337],["T_WHITESPACE"," ",337],"(","!",["T_EMPTY","empty",337],"(",["T_VARIABLE","$options",337],"[",["T_CONSTANT_ENCAPSED_STRING","'unsigned'",337],"]",")",")",["T_WHITESPACE"," ",337],"{",["T_WHITESPACE","\n                    ",337],["T_VARIABLE","$unsigned",338],["T_WHITESPACE"," ",338],"=",["T_WHITESPACE"," ",338],["T_STRING","true",338],";",["T_WHITESPACE","\n                ",338],"}",["T_WHITESPACE","\n                ",339],["T_BREAK","break",340],";",["T_WHITESPACE","\n\n            ",340],["T_CASE","case",342],["T_WHITESPACE"," ",342],["T_STRING","self",342],["T_DOUBLE_COLON","::",342],["T_STRING","TYPE_DECIMAL",342],":",["T_WHITESPACE","\n            ",342],["T_CASE","case",343],["T_WHITESPACE"," ",343],["T_STRING","self",343],["T_DOUBLE_COLON","::",343],["T_STRING","TYPE_NUMERIC",343],":",["T_WHITESPACE","\n                ",343],["T_VARIABLE","$match",344],["T_WHITESPACE","      ",344],"=",["T_WHITESPACE"," ",344],["T_ARRAY","array",344],"(",")",";",["T_WHITESPACE","\n                ",344],["T_COMMENT","\/\/For decimal(M,D), M must be >= D\n",345],["T_WHITESPACE","                ",346],["T_VARIABLE","$precision",346],["T_WHITESPACE","  ",346],"=",["T_WHITESPACE"," ",346],["T_LNUMBER","10",346],";",["T_WHITESPACE","\n                ",346],["T_VARIABLE","$scale",347],["T_WHITESPACE","      ",347],"=",["T_WHITESPACE"," ",347],["T_LNUMBER","0",347],";",["T_WHITESPACE","\n                ",347],["T_COMMENT","\/\/ parse size value\n",348],["T_WHITESPACE","                ",349],["T_IF","if",349],["T_WHITESPACE"," ",349],"(",["T_STRING","is_array",349],"(",["T_VARIABLE","$size",349],")",")",["T_WHITESPACE"," ",349],"{",["T_WHITESPACE","\n                    ",349],["T_IF","if",350],["T_WHITESPACE"," ",350],"(",["T_STRING","count",350],"(",["T_VARIABLE","$size",350],")",["T_WHITESPACE"," ",350],["T_IS_EQUAL","==",350],["T_WHITESPACE"," ",350],["T_LNUMBER","2",350],")",["T_WHITESPACE"," ",350],"{",["T_WHITESPACE","\n                        ",350],["T_VARIABLE","$size",351],["T_WHITESPACE","       ",351],"=",["T_WHITESPACE"," ",351],["T_STRING","array_values",351],"(",["T_VARIABLE","$size",351],")",";",["T_WHITESPACE","\n                        ",351],["T_VARIABLE","$precision",352],["T_WHITESPACE","  ",352],"=",["T_WHITESPACE"," ",352],["T_VARIABLE","$size",352],"[",["T_LNUMBER","0",352],"]",";",["T_WHITESPACE","\n                        ",352],["T_VARIABLE","$scale",353],["T_WHITESPACE","      ",353],"=",["T_WHITESPACE"," ",353],["T_VARIABLE","$size",353],"[",["T_LNUMBER","1",353],"]",";",["T_WHITESPACE","\n                    ",353],"}",["T_WHITESPACE","\n                ",354],"}",["T_WHITESPACE"," ",355],["T_ELSE","else",355],["T_WHITESPACE"," ",355],["T_IF","if",355],["T_WHITESPACE"," ",355],"(",["T_STRING","preg_match",355],"(",["T_CONSTANT_ENCAPSED_STRING","'#^(\\d+),(\\d+)$#'",355],",",["T_WHITESPACE"," ",355],["T_VARIABLE","$size",355],",",["T_WHITESPACE"," ",355],["T_VARIABLE","$match",355],")",")",["T_WHITESPACE"," ",355],"{",["T_WHITESPACE","\n                    ",355],["T_VARIABLE","$precision",356],["T_WHITESPACE","  ",356],"=",["T_WHITESPACE"," ",356],["T_VARIABLE","$match",356],"[",["T_LNUMBER","1",356],"]",";",["T_WHITESPACE","\n                    ",356],["T_VARIABLE","$scale",357],["T_WHITESPACE","      ",357],"=",["T_WHITESPACE"," ",357],["T_VARIABLE","$match",357],"[",["T_LNUMBER","2",357],"]",";",["T_WHITESPACE","\n                ",357],"}",["T_WHITESPACE","\n                ",358],["T_COMMENT","\/\/ check options\n",359],["T_WHITESPACE","                ",360],["T_IF","if",360],["T_WHITESPACE"," ",360],"(",["T_ISSET","isset",360],"(",["T_VARIABLE","$options",360],"[",["T_CONSTANT_ENCAPSED_STRING","'precision'",360],"]",")",")",["T_WHITESPACE"," ",360],"{",["T_WHITESPACE","\n                    ",360],["T_VARIABLE","$precision",361],["T_WHITESPACE"," ",361],"=",["T_WHITESPACE"," ",361],["T_VARIABLE","$options",361],"[",["T_CONSTANT_ENCAPSED_STRING","'precision'",361],"]",";",["T_WHITESPACE","\n                ",361],"}",["T_WHITESPACE","\n\n                ",362],["T_IF","if",364],["T_WHITESPACE"," ",364],"(",["T_ISSET","isset",364],"(",["T_VARIABLE","$options",364],"[",["T_CONSTANT_ENCAPSED_STRING","'scale'",364],"]",")",")",["T_WHITESPACE"," ",364],"{",["T_WHITESPACE","\n                    ",364],["T_VARIABLE","$scale",365],["T_WHITESPACE"," ",365],"=",["T_WHITESPACE"," ",365],["T_VARIABLE","$options",365],"[",["T_CONSTANT_ENCAPSED_STRING","'scale'",365],"]",";",["T_WHITESPACE","\n                ",365],"}",["T_WHITESPACE","\n\n                ",366],["T_IF","if",368],["T_WHITESPACE"," ",368],"(","!",["T_EMPTY","empty",368],"(",["T_VARIABLE","$options",368],"[",["T_CONSTANT_ENCAPSED_STRING","'unsigned'",368],"]",")",")",["T_WHITESPACE"," ",368],"{",["T_WHITESPACE","\n                    ",368],["T_VARIABLE","$unsigned",369],["T_WHITESPACE"," ",369],"=",["T_WHITESPACE"," ",369],["T_STRING","true",369],";",["T_WHITESPACE","\n                ",369],"}",["T_WHITESPACE","\n                ",370],["T_BREAK","break",371],";",["T_WHITESPACE","\n            ",371],["T_CASE","case",372],["T_WHITESPACE"," ",372],["T_STRING","self",372],["T_DOUBLE_COLON","::",372],["T_STRING","TYPE_DATE",372],":",["T_WHITESPACE","\n            ",372],["T_CASE","case",373],["T_WHITESPACE"," ",373],["T_STRING","self",373],["T_DOUBLE_COLON","::",373],["T_STRING","TYPE_DATETIME",373],":",["T_WHITESPACE","\n            ",373],["T_CASE","case",374],["T_WHITESPACE"," ",374],["T_STRING","self",374],["T_DOUBLE_COLON","::",374],["T_STRING","TYPE_TIMESTAMP",374],":",["T_WHITESPACE","\n                ",374],["T_BREAK","break",375],";",["T_WHITESPACE","\n            ",375],["T_CASE","case",376],["T_WHITESPACE"," ",376],["T_STRING","self",376],["T_DOUBLE_COLON","::",376],["T_STRING","TYPE_TEXT",376],":",["T_WHITESPACE","\n            ",376],["T_CASE","case",377],["T_WHITESPACE"," ",377],["T_STRING","self",377],["T_DOUBLE_COLON","::",377],["T_STRING","TYPE_BLOB",377],":",["T_WHITESPACE","\n            ",377],["T_CASE","case",378],["T_WHITESPACE"," ",378],["T_STRING","self",378],["T_DOUBLE_COLON","::",378],["T_STRING","TYPE_VARBINARY",378],":",["T_WHITESPACE","\n                ",378],["T_VARIABLE","$length",379],["T_WHITESPACE"," ",379],"=",["T_WHITESPACE"," ",379],["T_VARIABLE","$size",379],";",["T_WHITESPACE","\n                ",379],["T_BREAK","break",380],";",["T_WHITESPACE","\n            ",380],["T_DEFAULT","default",381],":",["T_WHITESPACE","\n                ",381],["T_THROW","throw",382],["T_WHITESPACE"," ",382],["T_NEW","new",382],["T_WHITESPACE"," ",382],["T_STRING","Zend_Db_Exception",382],"(",["T_CONSTANT_ENCAPSED_STRING","'Invalid column data type \"'",382],["T_WHITESPACE"," ",382],".",["T_WHITESPACE"," ",382],["T_VARIABLE","$type",382],["T_WHITESPACE"," ",382],".",["T_WHITESPACE"," ",382],["T_CONSTANT_ENCAPSED_STRING","'\"'",382],")",";",["T_WHITESPACE","\n        ",382],"}",["T_WHITESPACE","\n\n        ",383],["T_IF","if",385],["T_WHITESPACE"," ",385],"(",["T_STRING","array_key_exists",385],"(",["T_CONSTANT_ENCAPSED_STRING","'default'",385],",",["T_WHITESPACE"," ",385],["T_VARIABLE","$options",385],")",")",["T_WHITESPACE"," ",385],"{",["T_WHITESPACE","\n            ",385],["T_VARIABLE","$default",386],["T_WHITESPACE"," ",386],"=",["T_WHITESPACE"," ",386],["T_VARIABLE","$options",386],"[",["T_CONSTANT_ENCAPSED_STRING","'default'",386],"]",";",["T_WHITESPACE","\n        ",386],"}",["T_WHITESPACE","\n        ",387],["T_IF","if",388],["T_WHITESPACE"," ",388],"(",["T_STRING","array_key_exists",388],"(",["T_CONSTANT_ENCAPSED_STRING","'nullable'",388],",",["T_WHITESPACE"," ",388],["T_VARIABLE","$options",388],")",")",["T_WHITESPACE"," ",388],"{",["T_WHITESPACE","\n            ",388],["T_VARIABLE","$nullable",389],["T_WHITESPACE"," ",389],"=",["T_WHITESPACE"," ",389],["T_BOOL_CAST","(bool)",389],["T_VARIABLE","$options",389],"[",["T_CONSTANT_ENCAPSED_STRING","'nullable'",389],"]",";",["T_WHITESPACE","\n        ",389],"}",["T_WHITESPACE","\n        ",390],["T_IF","if",391],["T_WHITESPACE"," ",391],"(","!",["T_EMPTY","empty",391],"(",["T_VARIABLE","$options",391],"[",["T_CONSTANT_ENCAPSED_STRING","'primary'",391],"]",")",")",["T_WHITESPACE"," ",391],"{",["T_WHITESPACE","\n            ",391],["T_VARIABLE","$primary",392],["T_WHITESPACE"," ",392],"=",["T_WHITESPACE"," ",392],["T_STRING","true",392],";",["T_WHITESPACE","\n            ",392],["T_IF","if",393],["T_WHITESPACE"," ",393],"(",["T_ISSET","isset",393],"(",["T_VARIABLE","$options",393],"[",["T_CONSTANT_ENCAPSED_STRING","'primary_position'",393],"]",")",")",["T_WHITESPACE"," ",393],"{",["T_WHITESPACE","\n                ",393],["T_VARIABLE","$primaryPosition",394],["T_WHITESPACE"," ",394],"=",["T_WHITESPACE"," ",394],["T_INT_CAST","(int)",394],["T_VARIABLE","$options",394],"[",["T_CONSTANT_ENCAPSED_STRING","'primary_position'",394],"]",";",["T_WHITESPACE","\n            ",394],"}",["T_WHITESPACE"," ",395],["T_ELSE","else",395],["T_WHITESPACE"," ",395],"{",["T_WHITESPACE","\n                ",395],["T_VARIABLE","$primaryPosition",396],["T_WHITESPACE"," ",396],"=",["T_WHITESPACE"," ",396],["T_LNUMBER","0",396],";",["T_WHITESPACE","\n                ",396],["T_FOREACH","foreach",397],["T_WHITESPACE"," ",397],"(",["T_VARIABLE","$this",397],["T_OBJECT_OPERATOR","->",397],["T_STRING","_columns",397],["T_WHITESPACE"," ",397],["T_AS","as",397],["T_WHITESPACE"," ",397],["T_VARIABLE","$v",397],")",["T_WHITESPACE"," ",397],"{",["T_WHITESPACE","\n                    ",397],["T_IF","if",398],["T_WHITESPACE"," ",398],"(",["T_VARIABLE","$v",398],"[",["T_CONSTANT_ENCAPSED_STRING","'PRIMARY'",398],"]",")",["T_WHITESPACE"," ",398],"{",["T_WHITESPACE","\n                        ",398],["T_VARIABLE","$primaryPosition",399],["T_WHITESPACE"," ",399],["T_INC","++",399],";",["T_WHITESPACE","\n                    ",399],"}",["T_WHITESPACE","\n                ",400],"}",["T_WHITESPACE","\n            ",401],"}",["T_WHITESPACE","\n        ",402],"}",["T_WHITESPACE","\n        ",403],["T_IF","if",404],["T_WHITESPACE"," ",404],"(","!",["T_EMPTY","empty",404],"(",["T_VARIABLE","$options",404],"[",["T_CONSTANT_ENCAPSED_STRING","'identity'",404],"]",")",["T_WHITESPACE"," ",404],["T_BOOLEAN_OR","||",404],["T_WHITESPACE"," ",404],"!",["T_EMPTY","empty",404],"(",["T_VARIABLE","$options",404],"[",["T_CONSTANT_ENCAPSED_STRING","'auto_increment'",404],"]",")",")",["T_WHITESPACE"," ",404],"{",["T_WHITESPACE","\n            ",404],["T_VARIABLE","$identity",405],["T_WHITESPACE"," ",405],"=",["T_WHITESPACE"," ",405],["T_STRING","true",405],";",["T_WHITESPACE","\n        ",405],"}",["T_WHITESPACE","\n\n        ",406],["T_IF","if",408],["T_WHITESPACE"," ",408],"(",["T_VARIABLE","$comment",408],["T_WHITESPACE"," ",408],["T_IS_IDENTICAL","===",408],["T_WHITESPACE"," ",408],["T_STRING","null",408],")",["T_WHITESPACE"," ",408],"{",["T_WHITESPACE","\n            ",408],["T_VARIABLE","$comment",409],["T_WHITESPACE"," ",409],"=",["T_WHITESPACE"," ",409],["T_STRING","ucfirst",409],"(",["T_VARIABLE","$name",409],")",";",["T_WHITESPACE","\n        ",409],"}",["T_WHITESPACE","\n\n        ",410],["T_VARIABLE","$upperName",412],["T_WHITESPACE"," ",412],"=",["T_WHITESPACE"," ",412],["T_STRING","strtoupper",412],"(",["T_VARIABLE","$name",412],")",";",["T_WHITESPACE","\n        ",412],["T_VARIABLE","$this",413],["T_OBJECT_OPERATOR","->",413],["T_STRING","_columns",413],"[",["T_VARIABLE","$upperName",413],"]",["T_WHITESPACE"," ",413],"=",["T_WHITESPACE"," ",413],["T_ARRAY","array",413],"(",["T_WHITESPACE","\n            ",413],["T_CONSTANT_ENCAPSED_STRING","'COLUMN_NAME'",414],["T_WHITESPACE","       ",414],["T_DOUBLE_ARROW","=>",414],["T_WHITESPACE"," ",414],["T_VARIABLE","$name",414],",",["T_WHITESPACE","\n            ",414],["T_CONSTANT_ENCAPSED_STRING","'COLUMN_TYPE'",415],["T_WHITESPACE","       ",415],["T_DOUBLE_ARROW","=>",415],["T_WHITESPACE"," ",415],["T_VARIABLE","$type",415],",",["T_WHITESPACE","\n            ",415],["T_CONSTANT_ENCAPSED_STRING","'COLUMN_POSITION'",416],["T_WHITESPACE","   ",416],["T_DOUBLE_ARROW","=>",416],["T_WHITESPACE"," ",416],["T_VARIABLE","$position",416],",",["T_WHITESPACE","\n            ",416],["T_CONSTANT_ENCAPSED_STRING","'DATA_TYPE'",417],["T_WHITESPACE","         ",417],["T_DOUBLE_ARROW","=>",417],["T_WHITESPACE"," ",417],["T_VARIABLE","$type",417],",",["T_WHITESPACE","\n            ",417],["T_CONSTANT_ENCAPSED_STRING","'DEFAULT'",418],["T_WHITESPACE","           ",418],["T_DOUBLE_ARROW","=>",418],["T_WHITESPACE"," ",418],["T_VARIABLE","$default",418],",",["T_WHITESPACE","\n            ",418],["T_CONSTANT_ENCAPSED_STRING","'NULLABLE'",419],["T_WHITESPACE","          ",419],["T_DOUBLE_ARROW","=>",419],["T_WHITESPACE"," ",419],["T_VARIABLE","$nullable",419],",",["T_WHITESPACE","\n            ",419],["T_CONSTANT_ENCAPSED_STRING","'LENGTH'",420],["T_WHITESPACE","            ",420],["T_DOUBLE_ARROW","=>",420],["T_WHITESPACE"," ",420],["T_VARIABLE","$length",420],",",["T_WHITESPACE","\n            ",420],["T_CONSTANT_ENCAPSED_STRING","'SCALE'",421],["T_WHITESPACE","             ",421],["T_DOUBLE_ARROW","=>",421],["T_WHITESPACE"," ",421],["T_VARIABLE","$scale",421],",",["T_WHITESPACE","\n            ",421],["T_CONSTANT_ENCAPSED_STRING","'PRECISION'",422],["T_WHITESPACE","         ",422],["T_DOUBLE_ARROW","=>",422],["T_WHITESPACE"," ",422],["T_VARIABLE","$precision",422],",",["T_WHITESPACE","\n            ",422],["T_CONSTANT_ENCAPSED_STRING","'UNSIGNED'",423],["T_WHITESPACE","          ",423],["T_DOUBLE_ARROW","=>",423],["T_WHITESPACE"," ",423],["T_VARIABLE","$unsigned",423],",",["T_WHITESPACE","\n            ",423],["T_CONSTANT_ENCAPSED_STRING","'PRIMARY'",424],["T_WHITESPACE","           ",424],["T_DOUBLE_ARROW","=>",424],["T_WHITESPACE"," ",424],["T_VARIABLE","$primary",424],",",["T_WHITESPACE","\n            ",424],["T_CONSTANT_ENCAPSED_STRING","'PRIMARY_POSITION'",425],["T_WHITESPACE","  ",425],["T_DOUBLE_ARROW","=>",425],["T_WHITESPACE"," ",425],["T_VARIABLE","$primaryPosition",425],",",["T_WHITESPACE","\n            ",425],["T_CONSTANT_ENCAPSED_STRING","'IDENTITY'",426],["T_WHITESPACE","          ",426],["T_DOUBLE_ARROW","=>",426],["T_WHITESPACE"," ",426],["T_VARIABLE","$identity",426],",",["T_WHITESPACE","\n            ",426],["T_CONSTANT_ENCAPSED_STRING","'COMMENT'",427],["T_WHITESPACE","           ",427],["T_DOUBLE_ARROW","=>",427],["T_WHITESPACE"," ",427],["T_VARIABLE","$comment",427],["T_WHITESPACE","\n        ",427],")",";",["T_WHITESPACE","\n\n        ",428],["T_RETURN","return",430],["T_WHITESPACE"," ",430],["T_VARIABLE","$this",430],";",["T_WHITESPACE","\n    ",430],"}",["T_WHITESPACE","\n\n    ",431],["T_DOC_COMMENT","\/**\n     * Add Foreign Key to table\n     *\n     * @param string $fkName        the foreign key name\n     * @param string $column        the foreign key column name\n     * @param string $refTable      the reference table name\n     * @param string $refColumn     the reference table column name\n     * @param string $onDelete      the action on delete row\n     * @param string $onUpdate      the action on update\n     * @throws Zend_Db_Exception\n     * @return Varien_Db_Ddl_Table\n     *\/",433],["T_WHITESPACE","\n    ",444],["T_PUBLIC","public",445],["T_WHITESPACE"," ",445],["T_FUNCTION","function",445],["T_WHITESPACE"," ",445],["T_STRING","addForeignKey",445],"(",["T_VARIABLE","$fkName",445],",",["T_WHITESPACE"," ",445],["T_VARIABLE","$column",445],",",["T_WHITESPACE"," ",445],["T_VARIABLE","$refTable",445],",",["T_WHITESPACE"," ",445],["T_VARIABLE","$refColumn",445],",",["T_WHITESPACE"," ",445],["T_VARIABLE","$onDelete",445],["T_WHITESPACE"," ",445],"=",["T_WHITESPACE"," ",445],["T_STRING","null",445],",",["T_WHITESPACE"," ",445],["T_VARIABLE","$onUpdate",445],["T_WHITESPACE"," ",445],"=",["T_WHITESPACE"," ",445],["T_STRING","null",445],")",["T_WHITESPACE","\n    ",445],"{",["T_WHITESPACE","\n        ",446],["T_VARIABLE","$upperName",447],["T_WHITESPACE"," ",447],"=",["T_WHITESPACE"," ",447],["T_STRING","strtoupper",447],"(",["T_VARIABLE","$fkName",447],")",";",["T_WHITESPACE","\n\n        ",447],["T_COMMENT","\/\/ validate column name\n",449],["T_WHITESPACE","        ",450],["T_IF","if",450],["T_WHITESPACE"," ",450],"(","!",["T_ISSET","isset",450],"(",["T_VARIABLE","$this",450],["T_OBJECT_OPERATOR","->",450],["T_STRING","_columns",450],"[",["T_STRING","strtoupper",450],"(",["T_VARIABLE","$column",450],")","]",")",")",["T_WHITESPACE"," ",450],"{",["T_WHITESPACE","\n            ",450],["T_THROW","throw",451],["T_WHITESPACE"," ",451],["T_NEW","new",451],["T_WHITESPACE"," ",451],["T_STRING","Zend_Db_Exception",451],"(",["T_CONSTANT_ENCAPSED_STRING","'Undefined column \"'",451],["T_WHITESPACE"," ",451],".",["T_WHITESPACE"," ",451],["T_VARIABLE","$column",451],["T_WHITESPACE"," ",451],".",["T_WHITESPACE"," ",451],["T_CONSTANT_ENCAPSED_STRING","'\"'",451],")",";",["T_WHITESPACE","\n        ",451],"}",["T_WHITESPACE","\n\n        ",452],["T_SWITCH","switch",454],["T_WHITESPACE"," ",454],"(",["T_VARIABLE","$onDelete",454],")",["T_WHITESPACE"," ",454],"{",["T_WHITESPACE","\n            ",454],["T_CASE","case",455],["T_WHITESPACE"," ",455],["T_STRING","self",455],["T_DOUBLE_COLON","::",455],["T_STRING","ACTION_CASCADE",455],":",["T_WHITESPACE","\n            ",455],["T_CASE","case",456],["T_WHITESPACE"," ",456],["T_STRING","self",456],["T_DOUBLE_COLON","::",456],["T_STRING","ACTION_RESTRICT",456],":",["T_WHITESPACE","\n            ",456],["T_CASE","case",457],["T_WHITESPACE"," ",457],["T_STRING","self",457],["T_DOUBLE_COLON","::",457],["T_STRING","ACTION_SET_DEFAULT",457],":",["T_WHITESPACE","\n            ",457],["T_CASE","case",458],["T_WHITESPACE"," ",458],["T_STRING","self",458],["T_DOUBLE_COLON","::",458],["T_STRING","ACTION_SET_NULL",458],":",["T_WHITESPACE","\n                ",458],["T_BREAK","break",459],";",["T_WHITESPACE","\n            ",459],["T_DEFAULT","default",460],":",["T_WHITESPACE","\n                ",460],["T_VARIABLE","$onDelete",461],["T_WHITESPACE"," ",461],"=",["T_WHITESPACE"," ",461],["T_STRING","self",461],["T_DOUBLE_COLON","::",461],["T_STRING","ACTION_NO_ACTION",461],";",["T_WHITESPACE","\n        ",461],"}",["T_WHITESPACE","\n\n        ",462],["T_SWITCH","switch",464],["T_WHITESPACE"," ",464],"(",["T_VARIABLE","$onUpdate",464],")",["T_WHITESPACE"," ",464],"{",["T_WHITESPACE","\n            ",464],["T_CASE","case",465],["T_WHITESPACE"," ",465],["T_STRING","self",465],["T_DOUBLE_COLON","::",465],["T_STRING","ACTION_CASCADE",465],":",["T_WHITESPACE","\n            ",465],["T_CASE","case",466],["T_WHITESPACE"," ",466],["T_STRING","self",466],["T_DOUBLE_COLON","::",466],["T_STRING","ACTION_RESTRICT",466],":",["T_WHITESPACE","\n            ",466],["T_CASE","case",467],["T_WHITESPACE"," ",467],["T_STRING","self",467],["T_DOUBLE_COLON","::",467],["T_STRING","ACTION_SET_DEFAULT",467],":",["T_WHITESPACE","\n            ",467],["T_CASE","case",468],["T_WHITESPACE"," ",468],["T_STRING","self",468],["T_DOUBLE_COLON","::",468],["T_STRING","ACTION_SET_NULL",468],":",["T_WHITESPACE","\n                ",468],["T_BREAK","break",469],";",["T_WHITESPACE","\n            ",469],["T_DEFAULT","default",470],":",["T_WHITESPACE","\n                ",470],["T_VARIABLE","$onUpdate",471],["T_WHITESPACE"," ",471],"=",["T_WHITESPACE"," ",471],["T_STRING","self",471],["T_DOUBLE_COLON","::",471],["T_STRING","ACTION_NO_ACTION",471],";",["T_WHITESPACE","\n        ",471],"}",["T_WHITESPACE","\n\n        ",472],["T_VARIABLE","$this",474],["T_OBJECT_OPERATOR","->",474],["T_STRING","_foreignKeys",474],"[",["T_VARIABLE","$upperName",474],"]",["T_WHITESPACE"," ",474],"=",["T_WHITESPACE"," ",474],["T_ARRAY","array",474],"(",["T_WHITESPACE","\n            ",474],["T_CONSTANT_ENCAPSED_STRING","'FK_NAME'",475],["T_WHITESPACE","           ",475],["T_DOUBLE_ARROW","=>",475],["T_WHITESPACE"," ",475],["T_VARIABLE","$fkName",475],",",["T_WHITESPACE","\n            ",475],["T_CONSTANT_ENCAPSED_STRING","'COLUMN_NAME'",476],["T_WHITESPACE","       ",476],["T_DOUBLE_ARROW","=>",476],["T_WHITESPACE"," ",476],["T_VARIABLE","$column",476],",",["T_WHITESPACE","\n            ",476],["T_CONSTANT_ENCAPSED_STRING","'REF_TABLE_NAME'",477],["T_WHITESPACE","    ",477],["T_DOUBLE_ARROW","=>",477],["T_WHITESPACE"," ",477],["T_VARIABLE","$refTable",477],",",["T_WHITESPACE","\n            ",477],["T_CONSTANT_ENCAPSED_STRING","'REF_COLUMN_NAME'",478],["T_WHITESPACE","   ",478],["T_DOUBLE_ARROW","=>",478],["T_WHITESPACE"," ",478],["T_VARIABLE","$refColumn",478],",",["T_WHITESPACE","\n            ",478],["T_CONSTANT_ENCAPSED_STRING","'ON_DELETE'",479],["T_WHITESPACE","         ",479],["T_DOUBLE_ARROW","=>",479],["T_WHITESPACE"," ",479],["T_VARIABLE","$onDelete",479],",",["T_WHITESPACE","\n            ",479],["T_CONSTANT_ENCAPSED_STRING","'ON_UPDATE'",480],["T_WHITESPACE","         ",480],["T_DOUBLE_ARROW","=>",480],["T_WHITESPACE"," ",480],["T_VARIABLE","$onUpdate",480],["T_WHITESPACE","\n        ",480],")",";",["T_WHITESPACE","\n\n        ",481],["T_RETURN","return",483],["T_WHITESPACE"," ",483],["T_VARIABLE","$this",483],";",["T_WHITESPACE","\n    ",483],"}",["T_WHITESPACE","\n\n    ",484],["T_DOC_COMMENT","\/**\n     * Add index to table\n     *\n     * @param string $indexName     the index name\n     * @param array|string $columns array of columns or column string\n     * @param array $options        array of additional options\n     * @return Varien_Db_Ddl_Table\n     *\/",486],["T_WHITESPACE","\n    ",493],["T_PUBLIC","public",494],["T_WHITESPACE"," ",494],["T_FUNCTION","function",494],["T_WHITESPACE"," ",494],["T_STRING","addIndex",494],"(",["T_VARIABLE","$indexName",494],",",["T_WHITESPACE"," ",494],["T_VARIABLE","$fields",494],",",["T_WHITESPACE"," ",494],["T_VARIABLE","$options",494],["T_WHITESPACE"," ",494],"=",["T_WHITESPACE"," ",494],["T_ARRAY","array",494],"(",")",")",["T_WHITESPACE","\n    ",494],"{",["T_WHITESPACE","\n        ",495],["T_VARIABLE","$idxType",496],["T_WHITESPACE","    ",496],"=",["T_WHITESPACE"," ",496],["T_STRING","Varien_Db_Adapter_Interface",496],["T_DOUBLE_COLON","::",496],["T_STRING","INDEX_TYPE_INDEX",496],";",["T_WHITESPACE","\n        ",496],["T_VARIABLE","$position",497],["T_WHITESPACE","   ",497],"=",["T_WHITESPACE"," ",497],["T_LNUMBER","0",497],";",["T_WHITESPACE","\n        ",497],["T_VARIABLE","$columns",498],["T_WHITESPACE","    ",498],"=",["T_WHITESPACE"," ",498],["T_ARRAY","array",498],"(",")",";",["T_WHITESPACE","\n        ",498],["T_IF","if",499],["T_WHITESPACE"," ",499],"(","!",["T_STRING","is_array",499],"(",["T_VARIABLE","$fields",499],")",")",["T_WHITESPACE"," ",499],"{",["T_WHITESPACE","\n            ",499],["T_VARIABLE","$fields",500],["T_WHITESPACE"," ",500],"=",["T_WHITESPACE"," ",500],["T_ARRAY","array",500],"(",["T_VARIABLE","$fields",500],")",";",["T_WHITESPACE","\n        ",500],"}",["T_WHITESPACE","\n\n        ",501],["T_FOREACH","foreach",503],["T_WHITESPACE"," ",503],"(",["T_VARIABLE","$fields",503],["T_WHITESPACE"," ",503],["T_AS","as",503],["T_WHITESPACE"," ",503],["T_VARIABLE","$columnData",503],")",["T_WHITESPACE"," ",503],"{",["T_WHITESPACE","\n            ",503],["T_VARIABLE","$columnSize",504],["T_WHITESPACE"," ",504],"=",["T_WHITESPACE"," ",504],["T_STRING","null",504],";",["T_WHITESPACE","\n            ",504],["T_VARIABLE","$columnPos",505],["T_WHITESPACE","  ",505],"=",["T_WHITESPACE"," ",505],["T_VARIABLE","$position",505],";",["T_WHITESPACE","\n            ",505],["T_IF","if",506],["T_WHITESPACE"," ",506],"(",["T_STRING","is_string",506],"(",["T_VARIABLE","$columnData",506],")",")",["T_WHITESPACE"," ",506],"{",["T_WHITESPACE","\n                ",506],["T_VARIABLE","$columnName",507],["T_WHITESPACE"," ",507],"=",["T_WHITESPACE"," ",507],["T_VARIABLE","$columnData",507],";",["T_WHITESPACE","\n            ",507],"}",["T_WHITESPACE"," ",508],["T_ELSE","else",508],["T_WHITESPACE"," ",508],["T_IF","if",508],["T_WHITESPACE"," ",508],"(",["T_STRING","is_array",508],"(",["T_VARIABLE","$columnData",508],")",")",["T_WHITESPACE"," ",508],"{",["T_WHITESPACE","\n                ",508],["T_IF","if",509],["T_WHITESPACE"," ",509],"(","!",["T_ISSET","isset",509],"(",["T_VARIABLE","$columnData",509],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",509],"]",")",")",["T_WHITESPACE"," ",509],"{",["T_WHITESPACE","\n                    ",509],["T_THROW","throw",510],["T_WHITESPACE"," ",510],["T_NEW","new",510],["T_WHITESPACE"," ",510],["T_STRING","Zend_Db_Exception",510],"(",["T_CONSTANT_ENCAPSED_STRING","'Invalid index column data'",510],")",";",["T_WHITESPACE","\n                ",510],"}",["T_WHITESPACE","\n\n                ",511],["T_VARIABLE","$columnName",513],["T_WHITESPACE"," ",513],"=",["T_WHITESPACE"," ",513],["T_VARIABLE","$columnData",513],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",513],"]",";",["T_WHITESPACE","\n                ",513],["T_IF","if",514],["T_WHITESPACE"," ",514],"(","!",["T_EMPTY","empty",514],"(",["T_VARIABLE","$columnData",514],"[",["T_CONSTANT_ENCAPSED_STRING","'size'",514],"]",")",")",["T_WHITESPACE"," ",514],"{",["T_WHITESPACE","\n                    ",514],["T_VARIABLE","$columnSize",515],["T_WHITESPACE"," ",515],"=",["T_WHITESPACE"," ",515],["T_INT_CAST","(int)",515],["T_VARIABLE","$columnData",515],"[",["T_CONSTANT_ENCAPSED_STRING","'size'",515],"]",";",["T_WHITESPACE","\n                ",515],"}",["T_WHITESPACE","\n                ",516],["T_IF","if",517],["T_WHITESPACE"," ",517],"(","!",["T_EMPTY","empty",517],"(",["T_VARIABLE","$columnData",517],"[",["T_CONSTANT_ENCAPSED_STRING","'position'",517],"]",")",")",["T_WHITESPACE"," ",517],"{",["T_WHITESPACE","\n                    ",517],["T_VARIABLE","$columnPos",518],["T_WHITESPACE"," ",518],"=",["T_WHITESPACE"," ",518],["T_INT_CAST","(int)",518],["T_VARIABLE","$columnData",518],"[",["T_CONSTANT_ENCAPSED_STRING","'position'",518],"]",";",["T_WHITESPACE","\n                ",518],"}",["T_WHITESPACE","\n            ",519],"}",["T_WHITESPACE"," ",520],["T_ELSE","else",520],["T_WHITESPACE"," ",520],"{",["T_WHITESPACE","\n                ",520],["T_CONTINUE","continue",521],";",["T_WHITESPACE","\n            ",521],"}",["T_WHITESPACE","\n\n            ",522],["T_VARIABLE","$columns",524],"[",["T_STRING","strtoupper",524],"(",["T_VARIABLE","$columnName",524],")","]",["T_WHITESPACE"," ",524],"=",["T_WHITESPACE"," ",524],["T_ARRAY","array",524],"(",["T_WHITESPACE","\n                ",524],["T_CONSTANT_ENCAPSED_STRING","'NAME'",525],["T_WHITESPACE","      ",525],["T_DOUBLE_ARROW","=>",525],["T_WHITESPACE"," ",525],["T_VARIABLE","$columnName",525],",",["T_WHITESPACE","\n                ",525],["T_CONSTANT_ENCAPSED_STRING","'SIZE'",526],["T_WHITESPACE","      ",526],["T_DOUBLE_ARROW","=>",526],["T_WHITESPACE"," ",526],["T_VARIABLE","$columnSize",526],",",["T_WHITESPACE","\n                ",526],["T_CONSTANT_ENCAPSED_STRING","'POSITION'",527],["T_WHITESPACE","  ",527],["T_DOUBLE_ARROW","=>",527],["T_WHITESPACE"," ",527],["T_VARIABLE","$columnPos",527],["T_WHITESPACE","\n            ",527],")",";",["T_WHITESPACE","\n\n            ",528],["T_VARIABLE","$position",530],["T_WHITESPACE"," ",530],["T_INC","++",530],";",["T_WHITESPACE","\n        ",530],"}",["T_WHITESPACE","\n\n        ",531],["T_IF","if",533],["T_WHITESPACE"," ",533],"(",["T_EMPTY","empty",533],"(",["T_VARIABLE","$columns",533],")",")",["T_WHITESPACE"," ",533],"{",["T_WHITESPACE","\n            ",533],["T_THROW","throw",534],["T_WHITESPACE"," ",534],["T_NEW","new",534],["T_WHITESPACE"," ",534],["T_STRING","Zend_Db_Exception",534],"(",["T_CONSTANT_ENCAPSED_STRING","'Columns for index are not defined'",534],")",";",["T_WHITESPACE","\n        ",534],"}",["T_WHITESPACE","\n\n        ",535],["T_IF","if",537],["T_WHITESPACE"," ",537],"(","!",["T_EMPTY","empty",537],"(",["T_VARIABLE","$options",537],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",537],"]",")",")",["T_WHITESPACE"," ",537],"{",["T_WHITESPACE","\n            ",537],["T_VARIABLE","$idxType",538],["T_WHITESPACE"," ",538],"=",["T_WHITESPACE"," ",538],["T_VARIABLE","$options",538],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",538],"]",";",["T_WHITESPACE","\n        ",538],"}",["T_WHITESPACE","\n\n        ",539],["T_VARIABLE","$this",541],["T_OBJECT_OPERATOR","->",541],["T_STRING","_indexes",541],"[",["T_STRING","strtoupper",541],"(",["T_VARIABLE","$indexName",541],")","]",["T_WHITESPACE"," ",541],"=",["T_WHITESPACE"," ",541],["T_ARRAY","array",541],"(",["T_WHITESPACE","\n            ",541],["T_CONSTANT_ENCAPSED_STRING","'INDEX_NAME'",542],["T_WHITESPACE","    ",542],["T_DOUBLE_ARROW","=>",542],["T_WHITESPACE"," ",542],["T_VARIABLE","$indexName",542],",",["T_WHITESPACE","\n            ",542],["T_CONSTANT_ENCAPSED_STRING","'COLUMNS'",543],["T_WHITESPACE","       ",543],["T_DOUBLE_ARROW","=>",543],["T_WHITESPACE"," ",543],["T_VARIABLE","$this",543],["T_OBJECT_OPERATOR","->",543],["T_STRING","_normalizeIndexColumnPosition",543],"(",["T_VARIABLE","$columns",543],")",",",["T_WHITESPACE","\n            ",543],["T_CONSTANT_ENCAPSED_STRING","'TYPE'",544],["T_WHITESPACE","          ",544],["T_DOUBLE_ARROW","=>",544],["T_WHITESPACE"," ",544],["T_VARIABLE","$idxType",544],["T_WHITESPACE","\n        ",544],")",";",["T_WHITESPACE","\n\n        ",545],["T_RETURN","return",547],["T_WHITESPACE"," ",547],["T_VARIABLE","$this",547],";",["T_WHITESPACE","\n    ",547],"}",["T_WHITESPACE","\n\n    ",548],["T_DOC_COMMENT","\/**\n     * Retrieve array of table columns\n     *\n     * @param bool $normalized\n     * @see $this->_columns\n     * @return array\n     *\/",550],["T_WHITESPACE","\n    ",556],["T_PUBLIC","public",557],["T_WHITESPACE"," ",557],["T_FUNCTION","function",557],["T_WHITESPACE"," ",557],["T_STRING","getColumns",557],"(",["T_VARIABLE","$normalized",557],["T_WHITESPACE"," ",557],"=",["T_WHITESPACE"," ",557],["T_STRING","true",557],")",["T_WHITESPACE","\n    ",557],"{",["T_WHITESPACE","\n        ",558],["T_IF","if",559],["T_WHITESPACE"," ",559],"(",["T_VARIABLE","$normalized",559],")",["T_WHITESPACE"," ",559],"{",["T_WHITESPACE","\n            ",559],["T_RETURN","return",560],["T_WHITESPACE"," ",560],["T_VARIABLE","$this",560],["T_OBJECT_OPERATOR","->",560],["T_STRING","_normalizeColumnPosition",560],"(",["T_VARIABLE","$this",560],["T_OBJECT_OPERATOR","->",560],["T_STRING","_columns",560],")",";",["T_WHITESPACE","\n        ",560],"}",["T_WHITESPACE","\n        ",561],["T_RETURN","return",562],["T_WHITESPACE"," ",562],["T_VARIABLE","$this",562],["T_OBJECT_OPERATOR","->",562],["T_STRING","_columns",562],";",["T_WHITESPACE","\n    ",562],"}",["T_WHITESPACE","\n\n    ",563],["T_DOC_COMMENT","\/**\n     * Set column, formatted according to DDL Table format, into columns structure\n     *\n     * @param array $column\n     * @see $this->_columns\n     * @return Varien_Db_Ddl_Table\n     *\/",565],["T_WHITESPACE","\n    ",571],["T_PUBLIC","public",572],["T_WHITESPACE"," ",572],["T_FUNCTION","function",572],["T_WHITESPACE"," ",572],["T_STRING","setColumn",572],"(",["T_VARIABLE","$column",572],")",["T_WHITESPACE","\n    ",572],"{",["T_WHITESPACE","\n        ",573],["T_VARIABLE","$upperName",574],["T_WHITESPACE"," ",574],"=",["T_WHITESPACE"," ",574],["T_STRING","strtoupper",574],"(",["T_VARIABLE","$column",574],"[",["T_CONSTANT_ENCAPSED_STRING","'COLUMN_NAME'",574],"]",")",";",["T_WHITESPACE","\n        ",574],["T_VARIABLE","$this",575],["T_OBJECT_OPERATOR","->",575],["T_STRING","_columns",575],"[",["T_VARIABLE","$upperName",575],"]",["T_WHITESPACE"," ",575],"=",["T_WHITESPACE"," ",575],["T_VARIABLE","$column",575],";",["T_WHITESPACE","\n        ",575],["T_RETURN","return",576],["T_WHITESPACE"," ",576],["T_VARIABLE","$this",576],";",["T_WHITESPACE","\n    ",576],"}",["T_WHITESPACE","\n\n    ",577],["T_DOC_COMMENT","\/**\n     * Retrieve array of table indexes\n     *\n     * @see $this->_indexes\n     * @return array\n     *\/",579],["T_WHITESPACE","\n    ",584],["T_PUBLIC","public",585],["T_WHITESPACE"," ",585],["T_FUNCTION","function",585],["T_WHITESPACE"," ",585],["T_STRING","getIndexes",585],"(",")",["T_WHITESPACE","\n    ",585],"{",["T_WHITESPACE","\n        ",586],["T_RETURN","return",587],["T_WHITESPACE"," ",587],["T_VARIABLE","$this",587],["T_OBJECT_OPERATOR","->",587],["T_STRING","_indexes",587],";",["T_WHITESPACE","\n    ",587],"}",["T_WHITESPACE","\n\n    ",588],["T_DOC_COMMENT","\/**\n     * Retrieve array of table foreign keys\n     *\n     * @see $this->_foreignKeys\n     * @return array\n     *\/",590],["T_WHITESPACE","\n    ",595],["T_PUBLIC","public",596],["T_WHITESPACE"," ",596],["T_FUNCTION","function",596],["T_WHITESPACE"," ",596],["T_STRING","getForeignKeys",596],"(",")",["T_WHITESPACE","\n    ",596],"{",["T_WHITESPACE","\n        ",597],["T_RETURN","return",598],["T_WHITESPACE"," ",598],["T_VARIABLE","$this",598],["T_OBJECT_OPERATOR","->",598],["T_STRING","_foreignKeys",598],";",["T_WHITESPACE","\n    ",598],"}",["T_WHITESPACE","\n\n    ",599],["T_DOC_COMMENT","\/**\n     * Set table option\n     *\n     * @param string $key\n     * @param string $value\n     * @return string\n     *\/",601],["T_WHITESPACE","\n    ",607],["T_PUBLIC","public",608],["T_WHITESPACE"," ",608],["T_FUNCTION","function",608],["T_WHITESPACE"," ",608],["T_STRING","setOption",608],"(",["T_VARIABLE","$key",608],",",["T_WHITESPACE"," ",608],["T_VARIABLE","$value",608],")",["T_WHITESPACE","\n    ",608],"{",["T_WHITESPACE","\n        ",609],["T_VARIABLE","$this",610],["T_OBJECT_OPERATOR","->",610],["T_STRING","_options",610],"[",["T_VARIABLE","$key",610],"]",["T_WHITESPACE"," ",610],"=",["T_WHITESPACE"," ",610],["T_VARIABLE","$value",610],";",["T_WHITESPACE","\n        ",610],["T_RETURN","return",611],["T_WHITESPACE"," ",611],["T_VARIABLE","$this",611],";",["T_WHITESPACE","\n    ",611],"}",["T_WHITESPACE","\n\n    ",612],["T_DOC_COMMENT","\/**\n     * Retrieve table option value by option name\n     * Return null if option does not exits\n     *\n     * @param string $key\n     * @return mixed\n     *\/",614],["T_WHITESPACE","\n    ",620],["T_PUBLIC","public",621],["T_WHITESPACE"," ",621],["T_FUNCTION","function",621],["T_WHITESPACE"," ",621],["T_STRING","getOption",621],"(",["T_VARIABLE","$key",621],")",["T_WHITESPACE","\n    ",621],"{",["T_WHITESPACE","\n        ",622],["T_IF","if",623],["T_WHITESPACE"," ",623],"(","!",["T_ISSET","isset",623],"(",["T_VARIABLE","$this",623],["T_OBJECT_OPERATOR","->",623],["T_STRING","_options",623],"[",["T_VARIABLE","$key",623],"]",")",")",["T_WHITESPACE"," ",623],"{",["T_WHITESPACE","\n            ",623],["T_RETURN","return",624],["T_WHITESPACE"," ",624],["T_STRING","null",624],";",["T_WHITESPACE","\n        ",624],"}",["T_WHITESPACE","\n        ",625],["T_RETURN","return",626],["T_WHITESPACE"," ",626],["T_VARIABLE","$this",626],["T_OBJECT_OPERATOR","->",626],["T_STRING","_options",626],"[",["T_VARIABLE","$key",626],"]",";",["T_WHITESPACE","\n    ",626],"}",["T_WHITESPACE","\n\n    ",627],["T_DOC_COMMENT","\/**\n     * Retrieve array of table options\n     *\n     * @return array\n     *\/",629],["T_WHITESPACE","\n    ",633],["T_PUBLIC","public",634],["T_WHITESPACE"," ",634],["T_FUNCTION","function",634],["T_WHITESPACE"," ",634],["T_STRING","getOptions",634],"(",")",["T_WHITESPACE","\n    ",634],"{",["T_WHITESPACE","\n        ",635],["T_RETURN","return",636],["T_WHITESPACE"," ",636],["T_VARIABLE","$this",636],["T_OBJECT_OPERATOR","->",636],["T_STRING","_options",636],";",["T_WHITESPACE","\n    ",636],"}",["T_WHITESPACE","\n\n    ",637],["T_DOC_COMMENT","\/**\n     * Index column position comparison function\n     *\n     * @param array $a\n     * @param array $b\n     * @return int\n     *\/",639],["T_WHITESPACE","\n    ",645],["T_PROTECTED","protected",646],["T_WHITESPACE"," ",646],["T_FUNCTION","function",646],["T_WHITESPACE"," ",646],["T_STRING","_sortIndexColumnPosition",646],"(",["T_VARIABLE","$a",646],",",["T_WHITESPACE"," ",646],["T_VARIABLE","$b",646],")",["T_WHITESPACE","\n    ",646],"{",["T_WHITESPACE","\n        ",647],["T_RETURN","return",648],["T_WHITESPACE"," ",648],["T_VARIABLE","$a",648],"[",["T_CONSTANT_ENCAPSED_STRING","'POSITION'",648],"]",["T_WHITESPACE"," ",648],"-",["T_WHITESPACE"," ",648],["T_VARIABLE","$b",648],"[",["T_CONSTANT_ENCAPSED_STRING","'POSITION'",648],"]",";",["T_WHITESPACE","\n    ",648],"}",["T_WHITESPACE","\n\n    ",649],["T_DOC_COMMENT","\/**\n     * table column position comparison function\n     *\n     * @param array $a\n     * @param array $b\n     * @return int\n     *\/",651],["T_WHITESPACE","\n    ",657],["T_PROTECTED","protected",658],["T_WHITESPACE"," ",658],["T_FUNCTION","function",658],["T_WHITESPACE"," ",658],["T_STRING","_sortColumnPosition",658],"(",["T_VARIABLE","$a",658],",",["T_WHITESPACE"," ",658],["T_VARIABLE","$b",658],")",["T_WHITESPACE","\n    ",658],"{",["T_WHITESPACE","\n        ",659],["T_RETURN","return",660],["T_WHITESPACE"," ",660],["T_VARIABLE","$a",660],"[",["T_CONSTANT_ENCAPSED_STRING","'COLUMN_POSITION'",660],"]",["T_WHITESPACE"," ",660],"-",["T_WHITESPACE"," ",660],["T_VARIABLE","$b",660],"[",["T_CONSTANT_ENCAPSED_STRING","'COLUMN_POSITION'",660],"]",";",["T_WHITESPACE","\n    ",660],"}",["T_WHITESPACE","\n\n    ",661],["T_DOC_COMMENT","\/**\n     * Normalize positon of index columns array\n     *\n     * @param array $columns\n     * @return array\n     *\/",663],["T_WHITESPACE","\n    ",668],["T_PROTECTED","protected",669],["T_WHITESPACE"," ",669],["T_FUNCTION","function",669],["T_WHITESPACE"," ",669],["T_STRING","_normalizeIndexColumnPosition",669],"(",["T_VARIABLE","$columns",669],")",["T_WHITESPACE","\n    ",669],"{",["T_WHITESPACE","\n        ",670],["T_STRING","uasort",671],"(",["T_VARIABLE","$columns",671],",",["T_WHITESPACE"," ",671],["T_ARRAY","array",671],"(",["T_VARIABLE","$this",671],",",["T_WHITESPACE"," ",671],["T_CONSTANT_ENCAPSED_STRING","'_sortIndexColumnPosition'",671],")",")",";",["T_WHITESPACE","\n        ",671],["T_VARIABLE","$position",672],["T_WHITESPACE"," ",672],"=",["T_WHITESPACE"," ",672],["T_LNUMBER","0",672],";",["T_WHITESPACE","\n        ",672],["T_FOREACH","foreach",673],["T_WHITESPACE"," ",673],"(",["T_STRING","array_keys",673],"(",["T_VARIABLE","$columns",673],")",["T_WHITESPACE"," ",673],["T_AS","as",673],["T_WHITESPACE"," ",673],["T_VARIABLE","$columnId",673],")",["T_WHITESPACE"," ",673],"{",["T_WHITESPACE","\n            ",673],["T_VARIABLE","$columns",674],"[",["T_VARIABLE","$columnId",674],"]","[",["T_CONSTANT_ENCAPSED_STRING","'POSITION'",674],"]",["T_WHITESPACE"," ",674],"=",["T_WHITESPACE"," ",674],["T_VARIABLE","$position",674],";",["T_WHITESPACE","\n            ",674],["T_VARIABLE","$position",675],["T_WHITESPACE"," ",675],["T_INC","++",675],";",["T_WHITESPACE","\n        ",675],"}",["T_WHITESPACE","\n        ",676],["T_RETURN","return",677],["T_WHITESPACE"," ",677],["T_VARIABLE","$columns",677],";",["T_WHITESPACE","\n    ",677],"}",["T_WHITESPACE","\n\n    ",678],["T_DOC_COMMENT","\/**\n     * Normalize positon of table columns array\n     *\n     * @param array $columns\n     * @return array\n     *\/",680],["T_WHITESPACE","\n    ",685],["T_PROTECTED","protected",686],["T_WHITESPACE"," ",686],["T_FUNCTION","function",686],["T_WHITESPACE"," ",686],["T_STRING","_normalizeColumnPosition",686],"(",["T_VARIABLE","$columns",686],")",["T_WHITESPACE","\n    ",686],"{",["T_WHITESPACE","\n        ",687],["T_STRING","uasort",688],"(",["T_VARIABLE","$columns",688],",",["T_WHITESPACE"," ",688],["T_ARRAY","array",688],"(",["T_VARIABLE","$this",688],",",["T_WHITESPACE"," ",688],["T_CONSTANT_ENCAPSED_STRING","'_sortColumnPosition'",688],")",")",";",["T_WHITESPACE","\n        ",688],["T_VARIABLE","$position",689],["T_WHITESPACE"," ",689],"=",["T_WHITESPACE"," ",689],["T_LNUMBER","0",689],";",["T_WHITESPACE","\n        ",689],["T_FOREACH","foreach",690],["T_WHITESPACE"," ",690],"(",["T_STRING","array_keys",690],"(",["T_VARIABLE","$columns",690],")",["T_WHITESPACE"," ",690],["T_AS","as",690],["T_WHITESPACE"," ",690],["T_VARIABLE","$columnId",690],")",["T_WHITESPACE"," ",690],"{",["T_WHITESPACE","\n            ",690],["T_VARIABLE","$columns",691],"[",["T_VARIABLE","$columnId",691],"]","[",["T_CONSTANT_ENCAPSED_STRING","'COLUMN_POSITION'",691],"]",["T_WHITESPACE"," ",691],"=",["T_WHITESPACE"," ",691],["T_VARIABLE","$position",691],";",["T_WHITESPACE","\n            ",691],["T_VARIABLE","$position",692],["T_WHITESPACE"," ",692],["T_INC","++",692],";",["T_WHITESPACE","\n        ",692],"}",["T_WHITESPACE","\n        ",693],["T_RETURN","return",694],["T_WHITESPACE"," ",694],["T_VARIABLE","$columns",694],";",["T_WHITESPACE","\n    ",694],"}",["T_WHITESPACE","\n",695],"}",["T_WHITESPACE","\n",696]]