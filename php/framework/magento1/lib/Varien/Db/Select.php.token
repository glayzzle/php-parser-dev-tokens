[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Magento\n *\n * NOTICE OF LICENSE\n *\n * This source file is subject to the Open Software License (OSL 3.0)\n * that is bundled with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/opensource.org\/licenses\/osl-3.0.php\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@magento.com so we can send you a copy immediately.\n *\n * DISCLAIMER\n *\n * Do not edit or add to this file if you wish to upgrade Magento to newer\n * versions in the future. If you wish to customize Magento for your\n * needs please refer to http:\/\/www.magento.com for more information.\n *\n * @category    Varien\n * @package     Varien_Db\n * @copyright  Copyright (c) 2006-2016 X.commerce, Inc. and affiliates (http:\/\/www.magento.com)\n * @license    http:\/\/opensource.org\/licenses\/osl-3.0.php  Open Software License (OSL 3.0)\n *\/",2],["T_WHITESPACE","\n\n",25],["T_DOC_COMMENT","\/**\n * Class for SQL SELECT generation and results.\n *\n * @method Varien_Db_Adapter_Interface|Zend_Db_Adapter_Abstract getAdapter()\n * @property Varien_Db_Adapter_Interface|Zend_Db_Adapter_Abstract $_adapter\n * @method Varien_Db_Select from($name, $cols = '*', $schema = null)\n * @method Varien_Db_Select join($name, $cond, $cols = '*', $schema = null)\n * @method Varien_Db_Select joinInner($name, $cond, $cols = '*', $schema = null)\n * @method Varien_Db_Select joinLeft($name, $cond, $cols = '*', $schema = null)\n * @method Varien_Db_Select joinNatural($name, $cond, $cols = '*', $schema = null)\n * @method Varien_Db_Select joinFull($name, $cond, $cols = '*', $schema = null)\n * @method Varien_Db_Select joinRight($name, $cond, $cols = '*', $schema = null)\n * @method Varien_Db_Select joinCross($name, $cols = '*', $schema = null)\n * @method Varien_Db_Select orWhere($cond, $value = null, $type = null)\n * @method Varien_Db_Select group($spec)\n * @method Varien_Db_Select order($spec)\n * @method Varien_Db_Select limitPage($page, $rowCount)\n * @method Varien_Db_Select forUpdate($flag = true)\n * @method Varien_Db_Select distinct($flag = true)\n * @method Varien_Db_Select reset($part = null)\n * @method Varien_Db_Select columns($cols = '*', $correlationName = null)\n *\n * @category    Varien\n * @package     Varien_Db\n * @author      Magento Core Team <core@magentocommerce.com>\n *\/",27],["T_WHITESPACE","\n",52],["T_CLASS","class",53],["T_WHITESPACE"," ",53],["T_STRING","Varien_Db_Select",53],["T_WHITESPACE"," ",53],["T_EXTENDS","extends",53],["T_WHITESPACE"," ",53],["T_STRING","Zend_Db_Select",53],["T_WHITESPACE","\n",53],"{",["T_WHITESPACE","\n    ",54],["T_CONST","const",55],["T_WHITESPACE"," ",55],["T_STRING","TYPE_CONDITION",55],["T_WHITESPACE","    ",55],"=",["T_WHITESPACE"," ",55],["T_CONSTANT_ENCAPSED_STRING","'TYPE_CONDITION'",55],";",["T_WHITESPACE","\n\n    ",55],["T_CONST","const",57],["T_WHITESPACE"," ",57],["T_STRING","STRAIGHT_JOIN",57],["T_WHITESPACE","     ",57],"=",["T_WHITESPACE"," ",57],["T_CONSTANT_ENCAPSED_STRING","'straightjoin'",57],";",["T_WHITESPACE","\n\n    ",57],["T_CONST","const",59],["T_WHITESPACE"," ",59],["T_STRING","SQL_STRAIGHT_JOIN",59],["T_WHITESPACE"," ",59],"=",["T_WHITESPACE"," ",59],["T_CONSTANT_ENCAPSED_STRING","'STRAIGHT_JOIN'",59],";",["T_WHITESPACE","\n\n    ",59],["T_DOC_COMMENT","\/**\n     * Class constructor\n     * Add straight join support\n     *\n     * @param Zend_Db_Adapter_Abstract $adapter\n     *\/",61],["T_WHITESPACE","\n    ",66],["T_PUBLIC","public",67],["T_WHITESPACE"," ",67],["T_FUNCTION","function",67],["T_WHITESPACE"," ",67],["T_STRING","__construct",67],"(",["T_STRING","Zend_Db_Adapter_Abstract",67],["T_WHITESPACE"," ",67],["T_VARIABLE","$adapter",67],")",["T_WHITESPACE","\n    ",67],"{",["T_WHITESPACE","\n        ",68],["T_IF","if",69],["T_WHITESPACE"," ",69],"(","!",["T_ISSET","isset",69],"(",["T_STRING","self",69],["T_DOUBLE_COLON","::",69],["T_VARIABLE","$_partsInit",69],"[",["T_STRING","self",69],["T_DOUBLE_COLON","::",69],["T_STRING","STRAIGHT_JOIN",69],"]",")",")",["T_WHITESPACE"," ",69],"{",["T_WHITESPACE","\n            ",69],["T_STRING","self",70],["T_DOUBLE_COLON","::",70],["T_VARIABLE","$_partsInit",70],["T_WHITESPACE"," ",70],"=",["T_WHITESPACE"," ",70],["T_ARRAY","array",70],"(",["T_STRING","self",70],["T_DOUBLE_COLON","::",70],["T_STRING","STRAIGHT_JOIN",70],["T_WHITESPACE"," ",70],["T_DOUBLE_ARROW","=>",70],["T_WHITESPACE"," ",70],["T_STRING","false",70],")",["T_WHITESPACE"," ",70],"+",["T_WHITESPACE"," ",70],["T_STRING","self",70],["T_DOUBLE_COLON","::",70],["T_VARIABLE","$_partsInit",70],";",["T_WHITESPACE","\n        ",70],"}",["T_WHITESPACE","\n\n        ",71],["T_STRING","parent",73],["T_DOUBLE_COLON","::",73],["T_STRING","__construct",73],"(",["T_VARIABLE","$adapter",73],")",";",["T_WHITESPACE","\n    ",73],"}",["T_WHITESPACE","\n\n    ",74],["T_DOC_COMMENT","\/**\n     * Adds a WHERE condition to the query by AND.\n     *\n     * If a value is passed as the second param, it will be quoted\n     * and replaced into the condition wherever a question-mark\n     * appears. Array values are quoted and comma-separated.\n     *\n     * <code>\n     * \/\/ simplest but non-secure\n     * $select->where(\"id = $id\");\n     *\n     * \/\/ secure (ID is quoted but matched anyway)\n     * $select->where('id = ?', $id);\n     *\n     * \/\/ alternatively, with named binding\n     * $select->where('id = :id');\n     * <\/code>\n     *\n     * Note that it is more correct to use named bindings in your\n     * queries for values other than strings. When you use named\n     * bindings, don't forget to pass the values when actually\n     * making a query:\n     *\n     * <code>\n     * $db->fetchAll($select, array('id' => 5));\n     * <\/code>\n     *\n     * @param string   $cond  The WHERE condition.\n     * @param string   $value OPTIONAL A single value to quote into the condition.\n     * @param constant $type  OPTIONAL The type of the given value\n     * @return Varien_Db_Select This Zend_Db_Select object.\n     *\/",76],["T_WHITESPACE","\n    ",107],["T_PUBLIC","public",108],["T_WHITESPACE"," ",108],["T_FUNCTION","function",108],["T_WHITESPACE"," ",108],["T_STRING","where",108],"(",["T_VARIABLE","$cond",108],",",["T_WHITESPACE"," ",108],["T_VARIABLE","$value",108],["T_WHITESPACE"," ",108],"=",["T_WHITESPACE"," ",108],["T_STRING","null",108],",",["T_WHITESPACE"," ",108],["T_VARIABLE","$type",108],["T_WHITESPACE"," ",108],"=",["T_WHITESPACE"," ",108],["T_STRING","null",108],")",["T_WHITESPACE","\n    ",108],"{",["T_WHITESPACE","\n        ",109],["T_IF","if",110],["T_WHITESPACE"," ",110],"(",["T_STRING","is_null",110],"(",["T_VARIABLE","$value",110],")",["T_WHITESPACE"," ",110],["T_BOOLEAN_AND","&&",110],["T_WHITESPACE"," ",110],["T_STRING","is_null",110],"(",["T_VARIABLE","$type",110],")",")",["T_WHITESPACE"," ",110],"{",["T_WHITESPACE","\n            ",110],["T_VARIABLE","$value",111],["T_WHITESPACE"," ",111],"=",["T_WHITESPACE"," ",111],["T_CONSTANT_ENCAPSED_STRING","''",111],";",["T_WHITESPACE","\n        ",111],"}",["T_WHITESPACE","\n        ",112],["T_DOC_COMMENT","\/**\n         * Additional internal type used for really null value\n         *\/",113],["T_WHITESPACE","\n        ",115],["T_IF","if",116],["T_WHITESPACE"," ",116],"(",["T_VARIABLE","$type",116],["T_WHITESPACE"," ",116],["T_IS_EQUAL","==",116],["T_WHITESPACE"," ",116],["T_STRING","self",116],["T_DOUBLE_COLON","::",116],["T_STRING","TYPE_CONDITION",116],")",["T_WHITESPACE"," ",116],"{",["T_WHITESPACE","\n            ",116],["T_VARIABLE","$type",117],["T_WHITESPACE"," ",117],"=",["T_WHITESPACE"," ",117],["T_STRING","null",117],";",["T_WHITESPACE","\n        ",117],"}",["T_WHITESPACE","\n        ",118],["T_IF","if",119],["T_WHITESPACE"," ",119],"(",["T_STRING","is_array",119],"(",["T_VARIABLE","$value",119],")",")",["T_WHITESPACE"," ",119],"{",["T_WHITESPACE","\n            ",119],["T_VARIABLE","$cond",120],["T_WHITESPACE"," ",120],"=",["T_WHITESPACE"," ",120],["T_VARIABLE","$this",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","_adapter",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","quoteInto",120],"(",["T_VARIABLE","$cond",120],",",["T_WHITESPACE"," ",120],["T_VARIABLE","$value",120],")",";",["T_WHITESPACE","\n            ",120],["T_VARIABLE","$value",121],["T_WHITESPACE"," ",121],"=",["T_WHITESPACE"," ",121],["T_STRING","null",121],";",["T_WHITESPACE","\n        ",121],"}",["T_WHITESPACE","\n        ",122],["T_RETURN","return",123],["T_WHITESPACE"," ",123],["T_STRING","parent",123],["T_DOUBLE_COLON","::",123],["T_STRING","where",123],"(",["T_VARIABLE","$cond",123],",",["T_WHITESPACE"," ",123],["T_VARIABLE","$value",123],",",["T_WHITESPACE"," ",123],["T_VARIABLE","$type",123],")",";",["T_WHITESPACE","\n    ",123],"}",["T_WHITESPACE","\n\n    ",124],["T_DOC_COMMENT","\/**\n     * Reset unused LEFT JOIN(s)\n     *\n     * @return Varien_Db_Select\n     *\/",126],["T_WHITESPACE","\n    ",130],["T_PUBLIC","public",131],["T_WHITESPACE"," ",131],["T_FUNCTION","function",131],["T_WHITESPACE"," ",131],["T_STRING","resetJoinLeft",131],"(",")",["T_WHITESPACE","\n    ",131],"{",["T_WHITESPACE","\n        ",132],["T_FOREACH","foreach",133],["T_WHITESPACE"," ",133],"(",["T_VARIABLE","$this",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","_parts",133],"[",["T_STRING","self",133],["T_DOUBLE_COLON","::",133],["T_STRING","FROM",133],"]",["T_WHITESPACE"," ",133],["T_AS","as",133],["T_WHITESPACE"," ",133],["T_VARIABLE","$tableId",133],["T_WHITESPACE"," ",133],["T_DOUBLE_ARROW","=>",133],["T_WHITESPACE"," ",133],["T_VARIABLE","$tableProp",133],")",["T_WHITESPACE"," ",133],"{",["T_WHITESPACE","\n            ",133],["T_IF","if",134],["T_WHITESPACE"," ",134],"(",["T_VARIABLE","$tableProp",134],"[",["T_CONSTANT_ENCAPSED_STRING","'joinType'",134],"]",["T_WHITESPACE"," ",134],["T_IS_EQUAL","==",134],["T_WHITESPACE"," ",134],["T_STRING","self",134],["T_DOUBLE_COLON","::",134],["T_STRING","LEFT_JOIN",134],")",["T_WHITESPACE"," ",134],"{",["T_WHITESPACE","\n                ",134],["T_VARIABLE","$useJoin",135],["T_WHITESPACE"," ",135],"=",["T_WHITESPACE"," ",135],["T_STRING","false",135],";",["T_WHITESPACE","\n                ",135],["T_FOREACH","foreach",136],["T_WHITESPACE"," ",136],"(",["T_VARIABLE","$this",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","_parts",136],"[",["T_STRING","self",136],["T_DOUBLE_COLON","::",136],["T_STRING","COLUMNS",136],"]",["T_WHITESPACE"," ",136],["T_AS","as",136],["T_WHITESPACE"," ",136],["T_VARIABLE","$columnEntry",136],")",["T_WHITESPACE"," ",136],"{",["T_WHITESPACE","\n                    ",136],["T_LIST","list",137],"(",["T_VARIABLE","$correlationName",137],",",["T_WHITESPACE"," ",137],["T_VARIABLE","$column",137],")",["T_WHITESPACE"," ",137],"=",["T_WHITESPACE"," ",137],["T_VARIABLE","$columnEntry",137],";",["T_WHITESPACE","\n                    ",137],["T_IF","if",138],["T_WHITESPACE"," ",138],"(",["T_VARIABLE","$column",138],["T_WHITESPACE"," ",138],["T_INSTANCEOF","instanceof",138],["T_WHITESPACE"," ",138],["T_STRING","Zend_Db_Expr",138],")",["T_WHITESPACE"," ",138],"{",["T_WHITESPACE","\n                        ",138],["T_IF","if",139],["T_WHITESPACE"," ",139],"(",["T_VARIABLE","$this",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","_findTableInCond",139],"(",["T_VARIABLE","$tableId",139],",",["T_WHITESPACE"," ",139],["T_VARIABLE","$column",139],")",["T_WHITESPACE","\n                            ",139],["T_BOOLEAN_OR","||",140],["T_WHITESPACE"," ",140],["T_VARIABLE","$this",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","_findTableInCond",140],"(",["T_VARIABLE","$tableProp",140],"[",["T_CONSTANT_ENCAPSED_STRING","'tableName'",140],"]",",",["T_WHITESPACE"," ",140],["T_VARIABLE","$column",140],")",")",["T_WHITESPACE"," ",140],"{",["T_WHITESPACE","\n                            ",140],["T_VARIABLE","$useJoin",141],["T_WHITESPACE"," ",141],"=",["T_WHITESPACE"," ",141],["T_STRING","true",141],";",["T_WHITESPACE","\n                        ",141],"}",["T_WHITESPACE","\n                    ",142],"}",["T_WHITESPACE"," ",143],["T_ELSE","else",143],["T_WHITESPACE"," ",143],"{",["T_WHITESPACE","\n                        ",143],["T_IF","if",144],["T_WHITESPACE"," ",144],"(",["T_VARIABLE","$correlationName",144],["T_WHITESPACE"," ",144],["T_IS_EQUAL","==",144],["T_WHITESPACE"," ",144],["T_VARIABLE","$tableId",144],")",["T_WHITESPACE"," ",144],"{",["T_WHITESPACE","\n                            ",144],["T_VARIABLE","$useJoin",145],["T_WHITESPACE"," ",145],"=",["T_WHITESPACE"," ",145],["T_STRING","true",145],";",["T_WHITESPACE","\n                        ",145],"}",["T_WHITESPACE","\n                    ",146],"}",["T_WHITESPACE","\n                ",147],"}",["T_WHITESPACE","\n                ",148],["T_FOREACH","foreach",149],["T_WHITESPACE"," ",149],"(",["T_VARIABLE","$this",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","_parts",149],"[",["T_STRING","self",149],["T_DOUBLE_COLON","::",149],["T_STRING","WHERE",149],"]",["T_WHITESPACE"," ",149],["T_AS","as",149],["T_WHITESPACE"," ",149],["T_VARIABLE","$where",149],")",["T_WHITESPACE"," ",149],"{",["T_WHITESPACE","\n                    ",149],["T_IF","if",150],["T_WHITESPACE"," ",150],"(",["T_VARIABLE","$this",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","_findTableInCond",150],"(",["T_VARIABLE","$tableId",150],",",["T_WHITESPACE"," ",150],["T_VARIABLE","$where",150],")",["T_WHITESPACE","\n                        ",150],["T_BOOLEAN_OR","||",151],["T_WHITESPACE"," ",151],["T_VARIABLE","$this",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","_findTableInCond",151],"(",["T_VARIABLE","$tableProp",151],"[",["T_CONSTANT_ENCAPSED_STRING","'tableName'",151],"]",",",["T_WHITESPACE"," ",151],["T_VARIABLE","$where",151],")",")",["T_WHITESPACE"," ",151],"{",["T_WHITESPACE","\n                        ",151],["T_VARIABLE","$useJoin",152],["T_WHITESPACE"," ",152],"=",["T_WHITESPACE"," ",152],["T_STRING","true",152],";",["T_WHITESPACE","\n                    ",152],"}",["T_WHITESPACE","\n                ",153],"}",["T_WHITESPACE","\n\n                ",154],["T_VARIABLE","$joinUseInCond",156],["T_WHITESPACE","  ",156],"=",["T_WHITESPACE"," ",156],["T_VARIABLE","$useJoin",156],";",["T_WHITESPACE","\n                ",156],["T_VARIABLE","$joinInTables",157],["T_WHITESPACE","   ",157],"=",["T_WHITESPACE"," ",157],["T_ARRAY","array",157],"(",")",";",["T_WHITESPACE","\n\n                ",157],["T_FOREACH","foreach",159],["T_WHITESPACE"," ",159],"(",["T_VARIABLE","$this",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","_parts",159],"[",["T_STRING","self",159],["T_DOUBLE_COLON","::",159],["T_STRING","FROM",159],"]",["T_WHITESPACE"," ",159],["T_AS","as",159],["T_WHITESPACE"," ",159],["T_VARIABLE","$tableCorrelationName",159],["T_WHITESPACE"," ",159],["T_DOUBLE_ARROW","=>",159],["T_WHITESPACE"," ",159],["T_VARIABLE","$table",159],")",["T_WHITESPACE"," ",159],"{",["T_WHITESPACE","\n                    ",159],["T_IF","if",160],["T_WHITESPACE"," ",160],"(",["T_VARIABLE","$tableCorrelationName",160],["T_WHITESPACE"," ",160],["T_IS_EQUAL","==",160],["T_WHITESPACE"," ",160],["T_VARIABLE","$tableId",160],")",["T_WHITESPACE"," ",160],"{",["T_WHITESPACE","\n                        ",160],["T_CONTINUE","continue",161],";",["T_WHITESPACE","\n                    ",161],"}",["T_WHITESPACE","\n                    ",162],["T_IF","if",163],["T_WHITESPACE"," ",163],"(","!",["T_EMPTY","empty",163],"(",["T_VARIABLE","$table",163],"[",["T_CONSTANT_ENCAPSED_STRING","'joinCondition'",163],"]",")",")",["T_WHITESPACE"," ",163],"{",["T_WHITESPACE","\n                        ",163],["T_IF","if",164],["T_WHITESPACE"," ",164],"(",["T_VARIABLE","$this",164],["T_OBJECT_OPERATOR","->",164],["T_STRING","_findTableInCond",164],"(",["T_VARIABLE","$tableId",164],",",["T_WHITESPACE"," ",164],["T_VARIABLE","$table",164],"[",["T_CONSTANT_ENCAPSED_STRING","'joinCondition'",164],"]",")",["T_WHITESPACE","\n                        ",164],["T_BOOLEAN_OR","||",165],["T_WHITESPACE"," ",165],["T_VARIABLE","$this",165],["T_OBJECT_OPERATOR","->",165],["T_STRING","_findTableInCond",165],"(",["T_VARIABLE","$tableProp",165],"[",["T_CONSTANT_ENCAPSED_STRING","'tableName'",165],"]",",",["T_WHITESPACE"," ",165],["T_VARIABLE","$table",165],"[",["T_CONSTANT_ENCAPSED_STRING","'joinCondition'",165],"]",")",")",["T_WHITESPACE"," ",165],"{",["T_WHITESPACE","\n                            ",165],["T_VARIABLE","$useJoin",166],["T_WHITESPACE"," ",166],"=",["T_WHITESPACE"," ",166],["T_STRING","true",166],";",["T_WHITESPACE","\n                            ",166],["T_VARIABLE","$joinInTables",167],"[","]",["T_WHITESPACE"," ",167],"=",["T_WHITESPACE"," ",167],["T_VARIABLE","$tableCorrelationName",167],";",["T_WHITESPACE","\n                        ",167],"}",["T_WHITESPACE","\n                    ",168],"}",["T_WHITESPACE","\n                ",169],"}",["T_WHITESPACE","\n\n                ",170],["T_IF","if",172],["T_WHITESPACE"," ",172],"(","!",["T_VARIABLE","$useJoin",172],")",["T_WHITESPACE"," ",172],"{",["T_WHITESPACE","\n                    ",172],["T_UNSET","unset",173],"(",["T_VARIABLE","$this",173],["T_OBJECT_OPERATOR","->",173],["T_STRING","_parts",173],"[",["T_STRING","self",173],["T_DOUBLE_COLON","::",173],["T_STRING","FROM",173],"]","[",["T_VARIABLE","$tableId",173],"]",")",";",["T_WHITESPACE","\n                ",173],"}",["T_WHITESPACE"," ",174],["T_ELSE","else",174],["T_WHITESPACE"," ",174],"{",["T_WHITESPACE","\n                    ",174],["T_VARIABLE","$this",175],["T_OBJECT_OPERATOR","->",175],["T_STRING","_parts",175],"[",["T_STRING","self",175],["T_DOUBLE_COLON","::",175],["T_STRING","FROM",175],"]","[",["T_VARIABLE","$tableId",175],"]","[",["T_CONSTANT_ENCAPSED_STRING","'useInCond'",175],"]",["T_WHITESPACE"," ",175],"=",["T_WHITESPACE"," ",175],["T_VARIABLE","$joinUseInCond",175],";",["T_WHITESPACE","\n                    ",175],["T_VARIABLE","$this",176],["T_OBJECT_OPERATOR","->",176],["T_STRING","_parts",176],"[",["T_STRING","self",176],["T_DOUBLE_COLON","::",176],["T_STRING","FROM",176],"]","[",["T_VARIABLE","$tableId",176],"]","[",["T_CONSTANT_ENCAPSED_STRING","'joinInTables'",176],"]",["T_WHITESPACE"," ",176],"=",["T_WHITESPACE"," ",176],["T_VARIABLE","$joinInTables",176],";",["T_WHITESPACE","\n                ",176],"}",["T_WHITESPACE","\n            ",177],"}",["T_WHITESPACE","\n        ",178],"}",["T_WHITESPACE","\n\n        ",179],["T_VARIABLE","$this",181],["T_OBJECT_OPERATOR","->",181],["T_STRING","_resetJoinLeft",181],"(",")",";",["T_WHITESPACE","\n\n        ",181],["T_RETURN","return",183],["T_WHITESPACE"," ",183],["T_VARIABLE","$this",183],";",["T_WHITESPACE","\n    ",183],"}",["T_WHITESPACE","\n\n    ",184],["T_DOC_COMMENT","\/**\n     * Validate LEFT joins, and remove it if not exists\n     *\n     * @return Varien_Db_Select\n     *\/",186],["T_WHITESPACE","\n    ",190],["T_PROTECTED","protected",191],["T_WHITESPACE"," ",191],["T_FUNCTION","function",191],["T_WHITESPACE"," ",191],["T_STRING","_resetJoinLeft",191],"(",")",["T_WHITESPACE","\n    ",191],"{",["T_WHITESPACE","\n        ",192],["T_FOREACH","foreach",193],["T_WHITESPACE"," ",193],"(",["T_VARIABLE","$this",193],["T_OBJECT_OPERATOR","->",193],["T_STRING","_parts",193],"[",["T_STRING","self",193],["T_DOUBLE_COLON","::",193],["T_STRING","FROM",193],"]",["T_WHITESPACE"," ",193],["T_AS","as",193],["T_WHITESPACE"," ",193],["T_VARIABLE","$tableId",193],["T_WHITESPACE"," ",193],["T_DOUBLE_ARROW","=>",193],["T_WHITESPACE"," ",193],["T_VARIABLE","$tableProp",193],")",["T_WHITESPACE"," ",193],"{",["T_WHITESPACE","\n            ",193],["T_IF","if",194],["T_WHITESPACE"," ",194],"(",["T_VARIABLE","$tableProp",194],"[",["T_CONSTANT_ENCAPSED_STRING","'joinType'",194],"]",["T_WHITESPACE"," ",194],["T_IS_EQUAL","==",194],["T_WHITESPACE"," ",194],["T_STRING","self",194],["T_DOUBLE_COLON","::",194],["T_STRING","LEFT_JOIN",194],")",["T_WHITESPACE"," ",194],"{",["T_WHITESPACE","\n                ",194],["T_IF","if",195],["T_WHITESPACE"," ",195],"(",["T_VARIABLE","$tableProp",195],"[",["T_CONSTANT_ENCAPSED_STRING","'useInCond'",195],"]",")",["T_WHITESPACE"," ",195],"{",["T_WHITESPACE","\n                    ",195],["T_CONTINUE","continue",196],";",["T_WHITESPACE","\n                ",196],"}",["T_WHITESPACE","\n\n                ",197],["T_VARIABLE","$used",199],["T_WHITESPACE"," ",199],"=",["T_WHITESPACE"," ",199],["T_STRING","false",199],";",["T_WHITESPACE","\n                ",199],["T_FOREACH","foreach",200],["T_WHITESPACE"," ",200],"(",["T_VARIABLE","$tableProp",200],"[",["T_CONSTANT_ENCAPSED_STRING","'joinInTables'",200],"]",["T_WHITESPACE"," ",200],["T_AS","as",200],["T_WHITESPACE"," ",200],["T_VARIABLE","$table",200],")",["T_WHITESPACE"," ",200],"{",["T_WHITESPACE","\n                    ",200],["T_IF","if",201],["T_WHITESPACE"," ",201],"(",["T_ISSET","isset",201],"(",["T_VARIABLE","$this",201],["T_OBJECT_OPERATOR","->",201],["T_STRING","_parts",201],"[",["T_STRING","self",201],["T_DOUBLE_COLON","::",201],["T_STRING","FROM",201],"]","[",["T_VARIABLE","$table",201],"]",")",")",["T_WHITESPACE"," ",201],"{",["T_WHITESPACE","\n                        ",201],["T_VARIABLE","$used",202],["T_WHITESPACE"," ",202],"=",["T_WHITESPACE"," ",202],["T_STRING","true",202],";",["T_WHITESPACE","\n                        ",202],["T_BREAK","break",203],";",["T_WHITESPACE","\n                    ",203],"}",["T_WHITESPACE","\n                ",204],"}",["T_WHITESPACE","\n\n                ",205],["T_IF","if",207],["T_WHITESPACE"," ",207],"(","!",["T_VARIABLE","$used",207],")",["T_WHITESPACE"," ",207],"{",["T_WHITESPACE","\n                    ",207],["T_UNSET","unset",208],"(",["T_VARIABLE","$this",208],["T_OBJECT_OPERATOR","->",208],["T_STRING","_parts",208],"[",["T_STRING","self",208],["T_DOUBLE_COLON","::",208],["T_STRING","FROM",208],"]","[",["T_VARIABLE","$tableId",208],"]",")",";",["T_WHITESPACE","\n                    ",208],["T_RETURN","return",209],["T_WHITESPACE"," ",209],["T_VARIABLE","$this",209],["T_OBJECT_OPERATOR","->",209],["T_STRING","_resetJoinLeft",209],"(",")",";",["T_WHITESPACE","\n                ",209],"}",["T_WHITESPACE","\n            ",210],"}",["T_WHITESPACE","\n        ",211],"}",["T_WHITESPACE","\n\n        ",212],["T_RETURN","return",214],["T_WHITESPACE"," ",214],["T_VARIABLE","$this",214],";",["T_WHITESPACE","\n    ",214],"}",["T_WHITESPACE","\n\n    ",215],["T_DOC_COMMENT","\/**\n     * Find table name in condition (where, column)\n     *\n     * @param string $table\n     * @param string $cond\n     * @return bool\n     *\/",217],["T_WHITESPACE","\n    ",223],["T_PROTECTED","protected",224],["T_WHITESPACE"," ",224],["T_FUNCTION","function",224],["T_WHITESPACE"," ",224],["T_STRING","_findTableInCond",224],"(",["T_VARIABLE","$table",224],",",["T_WHITESPACE"," ",224],["T_VARIABLE","$cond",224],")",["T_WHITESPACE","\n    ",224],"{",["T_WHITESPACE","\n        ",225],["T_VARIABLE","$quote",226],["T_WHITESPACE"," ",226],"=",["T_WHITESPACE"," ",226],["T_VARIABLE","$this",226],["T_OBJECT_OPERATOR","->",226],["T_STRING","_adapter",226],["T_OBJECT_OPERATOR","->",226],["T_STRING","getQuoteIdentifierSymbol",226],"(",")",";",["T_WHITESPACE","\n\n        ",226],["T_IF","if",228],["T_WHITESPACE"," ",228],"(",["T_STRING","strpos",228],"(",["T_VARIABLE","$cond",228],",",["T_WHITESPACE"," ",228],["T_VARIABLE","$quote",228],["T_WHITESPACE"," ",228],".",["T_WHITESPACE"," ",228],["T_VARIABLE","$table",228],["T_WHITESPACE"," ",228],".",["T_WHITESPACE"," ",228],["T_VARIABLE","$quote",228],["T_WHITESPACE"," ",228],".",["T_WHITESPACE"," ",228],["T_CONSTANT_ENCAPSED_STRING","'.'",228],")",["T_WHITESPACE"," ",228],["T_IS_NOT_IDENTICAL","!==",228],["T_WHITESPACE"," ",228],["T_STRING","false",228],")",["T_WHITESPACE"," ",228],"{",["T_WHITESPACE","\n            ",228],["T_RETURN","return",229],["T_WHITESPACE"," ",229],["T_STRING","true",229],";",["T_WHITESPACE","\n        ",229],"}",["T_WHITESPACE","\n\n        ",230],["T_VARIABLE","$position",232],["T_WHITESPACE"," ",232],"=",["T_WHITESPACE"," ",232],["T_LNUMBER","0",232],";",["T_WHITESPACE","\n        ",232],["T_VARIABLE","$result",233],["T_WHITESPACE","   ",233],"=",["T_WHITESPACE"," ",233],["T_LNUMBER","0",233],";",["T_WHITESPACE","\n        ",233],["T_VARIABLE","$needle",234],["T_WHITESPACE","   ",234],"=",["T_WHITESPACE"," ",234],["T_ARRAY","array",234],"(",")",";",["T_WHITESPACE","\n        ",234],["T_WHILE","while",235],["T_WHITESPACE"," ",235],"(",["T_STRING","is_integer",235],"(",["T_VARIABLE","$result",235],")",")",["T_WHITESPACE"," ",235],"{",["T_WHITESPACE","\n            ",235],["T_VARIABLE","$result",236],["T_WHITESPACE"," ",236],"=",["T_WHITESPACE"," ",236],["T_STRING","strpos",236],"(",["T_VARIABLE","$cond",236],",",["T_WHITESPACE"," ",236],["T_VARIABLE","$table",236],["T_WHITESPACE"," ",236],".",["T_WHITESPACE"," ",236],["T_CONSTANT_ENCAPSED_STRING","'.'",236],",",["T_WHITESPACE"," ",236],["T_VARIABLE","$position",236],")",";",["T_WHITESPACE","\n\n            ",236],["T_IF","if",238],["T_WHITESPACE"," ",238],"(",["T_STRING","is_integer",238],"(",["T_VARIABLE","$result",238],")",")",["T_WHITESPACE"," ",238],"{",["T_WHITESPACE","\n                ",238],["T_VARIABLE","$needle",239],"[","]",["T_WHITESPACE"," ",239],"=",["T_WHITESPACE"," ",239],["T_VARIABLE","$result",239],";",["T_WHITESPACE","\n                ",239],["T_VARIABLE","$position",240],["T_WHITESPACE"," ",240],"=",["T_WHITESPACE"," ",240],"(",["T_VARIABLE","$result",240],["T_WHITESPACE"," ",240],"+",["T_WHITESPACE"," ",240],["T_STRING","strlen",240],"(",["T_VARIABLE","$table",240],")",["T_WHITESPACE"," ",240],"+",["T_WHITESPACE"," ",240],["T_LNUMBER","1",240],")",";",["T_WHITESPACE","\n            ",240],"}",["T_WHITESPACE","\n        ",241],"}",["T_WHITESPACE","\n\n        ",242],["T_IF","if",244],["T_WHITESPACE"," ",244],"(","!",["T_VARIABLE","$needle",244],")",["T_WHITESPACE"," ",244],"{",["T_WHITESPACE","\n            ",244],["T_RETURN","return",245],["T_WHITESPACE"," ",245],["T_STRING","false",245],";",["T_WHITESPACE","\n        ",245],"}",["T_WHITESPACE","\n\n        ",246],["T_FOREACH","foreach",248],["T_WHITESPACE"," ",248],"(",["T_VARIABLE","$needle",248],["T_WHITESPACE"," ",248],["T_AS","as",248],["T_WHITESPACE"," ",248],["T_VARIABLE","$position",248],")",["T_WHITESPACE"," ",248],"{",["T_WHITESPACE","\n            ",248],["T_IF","if",249],["T_WHITESPACE"," ",249],"(",["T_VARIABLE","$position",249],["T_WHITESPACE"," ",249],["T_IS_EQUAL","==",249],["T_WHITESPACE"," ",249],["T_LNUMBER","0",249],")",["T_WHITESPACE"," ",249],"{",["T_WHITESPACE","\n                ",249],["T_RETURN","return",250],["T_WHITESPACE"," ",250],["T_STRING","true",250],";",["T_WHITESPACE","\n            ",250],"}",["T_WHITESPACE","\n            ",251],["T_IF","if",252],["T_WHITESPACE"," ",252],"(","!",["T_STRING","preg_match",252],"(",["T_CONSTANT_ENCAPSED_STRING","'#[a-z0-9_]#is'",252],",",["T_WHITESPACE"," ",252],["T_STRING","substr",252],"(",["T_VARIABLE","$cond",252],",",["T_WHITESPACE"," ",252],["T_VARIABLE","$position",252],["T_WHITESPACE"," ",252],"-",["T_WHITESPACE"," ",252],["T_LNUMBER","1",252],",",["T_WHITESPACE"," ",252],["T_LNUMBER","1",252],")",")",")",["T_WHITESPACE"," ",252],"{",["T_WHITESPACE","\n                ",252],["T_RETURN","return",253],["T_WHITESPACE"," ",253],["T_STRING","true",253],";",["T_WHITESPACE","\n            ",253],"}",["T_WHITESPACE","\n        ",254],"}",["T_WHITESPACE","\n\n        ",255],["T_RETURN","return",257],["T_WHITESPACE"," ",257],["T_STRING","false",257],";",["T_WHITESPACE","\n    ",257],"}",["T_WHITESPACE","\n\n    ",258],["T_DOC_COMMENT","\/**\n     * Populate the {@link $_parts} 'join' key\n     *\n     * Does the dirty work of populating the join key.\n     *\n     * The $name and $cols parameters follow the same logic\n     * as described in the from() method.\n     *\n     * @param  null|string $type Type of join; inner, left, and null are currently supported\n     * @param  array|string|Zend_Db_Expr $name Table name\n     * @param  string $cond Join on this condition\n     * @param  array|string $cols The columns to select from the joined table\n     * @param  string $schema The database name to specify, if any.\n     * @return Zend_Db_Select This Zend_Db_Select object\n     * @throws Zend_Db_Select_Exception\n     *\/",260],["T_WHITESPACE","\n    ",275],["T_PROTECTED","protected",276],["T_WHITESPACE"," ",276],["T_FUNCTION","function",276],["T_WHITESPACE"," ",276],["T_STRING","_join",276],"(",["T_VARIABLE","$type",276],",",["T_WHITESPACE"," ",276],["T_VARIABLE","$name",276],",",["T_WHITESPACE"," ",276],["T_VARIABLE","$cond",276],",",["T_WHITESPACE"," ",276],["T_VARIABLE","$cols",276],",",["T_WHITESPACE"," ",276],["T_VARIABLE","$schema",276],["T_WHITESPACE"," ",276],"=",["T_WHITESPACE"," ",276],["T_STRING","null",276],")",["T_WHITESPACE","\n    ",276],"{",["T_WHITESPACE","\n        ",277],["T_IF","if",278],["T_WHITESPACE"," ",278],"(",["T_VARIABLE","$type",278],["T_WHITESPACE"," ",278],["T_IS_EQUAL","==",278],["T_WHITESPACE"," ",278],["T_STRING","self",278],["T_DOUBLE_COLON","::",278],["T_STRING","INNER_JOIN",278],["T_WHITESPACE"," ",278],["T_BOOLEAN_AND","&&",278],["T_WHITESPACE"," ",278],["T_EMPTY","empty",278],"(",["T_VARIABLE","$cond",278],")",")",["T_WHITESPACE"," ",278],"{",["T_WHITESPACE","\n            ",278],["T_VARIABLE","$type",279],["T_WHITESPACE"," ",279],"=",["T_WHITESPACE"," ",279],["T_STRING","self",279],["T_DOUBLE_COLON","::",279],["T_STRING","CROSS_JOIN",279],";",["T_WHITESPACE","\n        ",279],"}",["T_WHITESPACE","\n        ",280],["T_RETURN","return",281],["T_WHITESPACE"," ",281],["T_STRING","parent",281],["T_DOUBLE_COLON","::",281],["T_STRING","_join",281],"(",["T_VARIABLE","$type",281],",",["T_WHITESPACE"," ",281],["T_VARIABLE","$name",281],",",["T_WHITESPACE"," ",281],["T_VARIABLE","$cond",281],",",["T_WHITESPACE"," ",281],["T_VARIABLE","$cols",281],",",["T_WHITESPACE"," ",281],["T_VARIABLE","$schema",281],")",";",["T_WHITESPACE","\n    ",281],"}",["T_WHITESPACE","\n\n    ",282],["T_DOC_COMMENT","\/**\n     * Sets a limit count and offset to the query.\n     *\n     * @param int $count OPTIONAL The number of rows to return.\n     * @param int $offset OPTIONAL Start returning after this many rows.\n     * @return Zend_Db_Select This Zend_Db_Select object.\n     *\/",284],["T_WHITESPACE","\n    ",290],["T_PUBLIC","public",291],["T_WHITESPACE"," ",291],["T_FUNCTION","function",291],["T_WHITESPACE"," ",291],["T_STRING","limit",291],"(",["T_VARIABLE","$count",291],["T_WHITESPACE"," ",291],"=",["T_WHITESPACE"," ",291],["T_STRING","null",291],",",["T_WHITESPACE"," ",291],["T_VARIABLE","$offset",291],["T_WHITESPACE"," ",291],"=",["T_WHITESPACE"," ",291],["T_STRING","null",291],")",["T_WHITESPACE","\n    ",291],"{",["T_WHITESPACE","\n        ",292],["T_IF","if",293],["T_WHITESPACE"," ",293],"(",["T_VARIABLE","$count",293],["T_WHITESPACE"," ",293],["T_IS_IDENTICAL","===",293],["T_WHITESPACE"," ",293],["T_STRING","null",293],")",["T_WHITESPACE"," ",293],"{",["T_WHITESPACE","\n            ",293],["T_VARIABLE","$this",294],["T_OBJECT_OPERATOR","->",294],["T_STRING","reset",294],"(",["T_STRING","self",294],["T_DOUBLE_COLON","::",294],["T_STRING","LIMIT_COUNT",294],")",";",["T_WHITESPACE","\n        ",294],"}",["T_WHITESPACE"," ",295],["T_ELSE","else",295],["T_WHITESPACE"," ",295],"{",["T_WHITESPACE","\n            ",295],["T_VARIABLE","$this",296],["T_OBJECT_OPERATOR","->",296],["T_STRING","_parts",296],"[",["T_STRING","self",296],["T_DOUBLE_COLON","::",296],["T_STRING","LIMIT_COUNT",296],"]",["T_WHITESPACE","  ",296],"=",["T_WHITESPACE"," ",296],["T_INT_CAST","(int)",296],["T_WHITESPACE"," ",296],["T_VARIABLE","$count",296],";",["T_WHITESPACE","\n        ",296],"}",["T_WHITESPACE","\n        ",297],["T_IF","if",298],["T_WHITESPACE"," ",298],"(",["T_VARIABLE","$offset",298],["T_WHITESPACE"," ",298],["T_IS_IDENTICAL","===",298],["T_WHITESPACE"," ",298],["T_STRING","null",298],")",["T_WHITESPACE"," ",298],"{",["T_WHITESPACE","\n            ",298],["T_VARIABLE","$this",299],["T_OBJECT_OPERATOR","->",299],["T_STRING","reset",299],"(",["T_STRING","self",299],["T_DOUBLE_COLON","::",299],["T_STRING","LIMIT_OFFSET",299],")",";",["T_WHITESPACE","\n        ",299],"}",["T_WHITESPACE"," ",300],["T_ELSE","else",300],["T_WHITESPACE"," ",300],"{",["T_WHITESPACE","\n            ",300],["T_VARIABLE","$this",301],["T_OBJECT_OPERATOR","->",301],["T_STRING","_parts",301],"[",["T_STRING","self",301],["T_DOUBLE_COLON","::",301],["T_STRING","LIMIT_OFFSET",301],"]",["T_WHITESPACE"," ",301],"=",["T_WHITESPACE"," ",301],["T_INT_CAST","(int)",301],["T_WHITESPACE"," ",301],["T_VARIABLE","$offset",301],";",["T_WHITESPACE","\n        ",301],"}",["T_WHITESPACE","\n        ",302],["T_RETURN","return",303],["T_WHITESPACE"," ",303],["T_VARIABLE","$this",303],";",["T_WHITESPACE","\n    ",303],"}",["T_WHITESPACE","\n\n    ",304],["T_DOC_COMMENT","\/**\n     * Cross Table Update From Current select\n     *\n     * @param string|array $table\n     * @return string\n     *\/",306],["T_WHITESPACE","\n    ",311],["T_PUBLIC","public",312],["T_WHITESPACE"," ",312],["T_FUNCTION","function",312],["T_WHITESPACE"," ",312],["T_STRING","crossUpdateFromSelect",312],"(",["T_VARIABLE","$table",312],")",["T_WHITESPACE","\n    ",312],"{",["T_WHITESPACE","\n        ",313],["T_RETURN","return",314],["T_WHITESPACE"," ",314],["T_VARIABLE","$this",314],["T_OBJECT_OPERATOR","->",314],["T_STRING","getAdapter",314],"(",")",["T_OBJECT_OPERATOR","->",314],["T_STRING","updateFromSelect",314],"(",["T_VARIABLE","$this",314],",",["T_WHITESPACE"," ",314],["T_VARIABLE","$table",314],")",";",["T_WHITESPACE","\n    ",314],"}",["T_WHITESPACE","\n\n    ",315],["T_DOC_COMMENT","\/**\n     * Insert to table from current select\n     *\n     * @param string $tableName\n     * @param array $fields\n     * @param bool $onDuplicate\n     * @return string\n     *\/",317],["T_WHITESPACE","\n    ",324],["T_PUBLIC","public",325],["T_WHITESPACE"," ",325],["T_FUNCTION","function",325],["T_WHITESPACE"," ",325],["T_STRING","insertFromSelect",325],"(",["T_VARIABLE","$tableName",325],",",["T_WHITESPACE"," ",325],["T_VARIABLE","$fields",325],["T_WHITESPACE"," ",325],"=",["T_WHITESPACE"," ",325],["T_ARRAY","array",325],"(",")",",",["T_WHITESPACE"," ",325],["T_VARIABLE","$onDuplicate",325],["T_WHITESPACE"," ",325],"=",["T_WHITESPACE"," ",325],["T_STRING","true",325],")",["T_WHITESPACE","\n    ",325],"{",["T_WHITESPACE","\n        ",326],["T_VARIABLE","$mode",327],["T_WHITESPACE"," ",327],"=",["T_WHITESPACE"," ",327],["T_VARIABLE","$onDuplicate",327],["T_WHITESPACE"," ",327],"?",["T_WHITESPACE"," ",327],["T_STRING","Varien_Db_Adapter_Interface",327],["T_DOUBLE_COLON","::",327],["T_STRING","INSERT_ON_DUPLICATE",327],["T_WHITESPACE"," ",327],":",["T_WHITESPACE"," ",327],["T_STRING","false",327],";",["T_WHITESPACE","\n        ",327],["T_RETURN","return",328],["T_WHITESPACE"," ",328],["T_VARIABLE","$this",328],["T_OBJECT_OPERATOR","->",328],["T_STRING","getAdapter",328],"(",")",["T_OBJECT_OPERATOR","->",328],["T_STRING","insertFromSelect",328],"(",["T_VARIABLE","$this",328],",",["T_WHITESPACE"," ",328],["T_VARIABLE","$tableName",328],",",["T_WHITESPACE"," ",328],["T_VARIABLE","$fields",328],",",["T_WHITESPACE"," ",328],["T_VARIABLE","$mode",328],")",";",["T_WHITESPACE","\n    ",328],"}",["T_WHITESPACE","\n\n    ",329],["T_DOC_COMMENT","\/**\n     * Generate INSERT IGNORE query to the table from current select\n     *\n     * @param string $tableName\n     * @param array $fields\n     * @return string\n     *\/",331],["T_WHITESPACE","\n    ",337],["T_PUBLIC","public",338],["T_WHITESPACE"," ",338],["T_FUNCTION","function",338],["T_WHITESPACE"," ",338],["T_STRING","insertIgnoreFromSelect",338],"(",["T_VARIABLE","$tableName",338],",",["T_WHITESPACE"," ",338],["T_VARIABLE","$fields",338],["T_WHITESPACE"," ",338],"=",["T_WHITESPACE"," ",338],["T_ARRAY","array",338],"(",")",")",["T_WHITESPACE","\n    ",338],"{",["T_WHITESPACE","\n        ",339],["T_RETURN","return",340],["T_WHITESPACE"," ",340],["T_VARIABLE","$this",340],["T_OBJECT_OPERATOR","->",340],["T_STRING","getAdapter",340],"(",")",["T_WHITESPACE","\n            ",340],["T_OBJECT_OPERATOR","->",341],["T_STRING","insertFromSelect",341],"(",["T_VARIABLE","$this",341],",",["T_WHITESPACE"," ",341],["T_VARIABLE","$tableName",341],",",["T_WHITESPACE"," ",341],["T_VARIABLE","$fields",341],",",["T_WHITESPACE"," ",341],["T_STRING","Varien_Db_Adapter_Interface",341],["T_DOUBLE_COLON","::",341],["T_STRING","INSERT_IGNORE",341],")",";",["T_WHITESPACE","\n    ",341],"}",["T_WHITESPACE","\n\n    ",342],["T_DOC_COMMENT","\/**\n     * Retrieve DELETE query from select\n     *\n     * @param string $table The table name or alias\n     * @return string\n     *\/",344],["T_WHITESPACE","\n    ",349],["T_PUBLIC","public",350],["T_WHITESPACE"," ",350],["T_FUNCTION","function",350],["T_WHITESPACE"," ",350],["T_STRING","deleteFromSelect",350],"(",["T_VARIABLE","$table",350],")",["T_WHITESPACE","\n    ",350],"{",["T_WHITESPACE","\n        ",351],["T_RETURN","return",352],["T_WHITESPACE"," ",352],["T_VARIABLE","$this",352],["T_OBJECT_OPERATOR","->",352],["T_STRING","getAdapter",352],"(",")",["T_OBJECT_OPERATOR","->",352],["T_STRING","deleteFromSelect",352],"(",["T_VARIABLE","$this",352],",",["T_WHITESPACE"," ",352],["T_VARIABLE","$table",352],")",";",["T_WHITESPACE","\n    ",352],"}",["T_WHITESPACE","\n\n    ",353],["T_DOC_COMMENT","\/**\n     * Modify (hack) part of the structured information for the currect query\n     *\n     * @param string $part\n     * @param mixed $value\n     * @return Varien_Db_Select\n     * @throws Zend_Db_Select_Exception\n     *\/",355],["T_WHITESPACE","\n    ",362],["T_PUBLIC","public",363],["T_WHITESPACE"," ",363],["T_FUNCTION","function",363],["T_WHITESPACE"," ",363],["T_STRING","setPart",363],"(",["T_VARIABLE","$part",363],",",["T_WHITESPACE"," ",363],["T_VARIABLE","$value",363],")",["T_WHITESPACE","\n    ",363],"{",["T_WHITESPACE","\n        ",364],["T_VARIABLE","$part",365],["T_WHITESPACE"," ",365],"=",["T_WHITESPACE"," ",365],["T_STRING","strtolower",365],"(",["T_VARIABLE","$part",365],")",";",["T_WHITESPACE","\n        ",365],["T_IF","if",366],["T_WHITESPACE"," ",366],"(","!",["T_STRING","array_key_exists",366],"(",["T_VARIABLE","$part",366],",",["T_WHITESPACE"," ",366],["T_VARIABLE","$this",366],["T_OBJECT_OPERATOR","->",366],["T_STRING","_parts",366],")",")",["T_WHITESPACE"," ",366],"{",["T_WHITESPACE","\n            ",366],["T_THROW","throw",367],["T_WHITESPACE"," ",367],["T_NEW","new",367],["T_WHITESPACE"," ",367],["T_STRING","Zend_Db_Select_Exception",367],"(","\"",["T_ENCAPSED_AND_WHITESPACE","Invalid Select part '",367],["T_CURLY_OPEN","{",367],["T_VARIABLE","$part",367],"}",["T_ENCAPSED_AND_WHITESPACE","'",367],"\"",")",";",["T_WHITESPACE","\n        ",367],"}",["T_WHITESPACE","\n        ",368],["T_VARIABLE","$this",369],["T_OBJECT_OPERATOR","->",369],["T_STRING","_parts",369],"[",["T_VARIABLE","$part",369],"]",["T_WHITESPACE"," ",369],"=",["T_WHITESPACE"," ",369],["T_VARIABLE","$value",369],";",["T_WHITESPACE","\n        ",369],["T_RETURN","return",370],["T_WHITESPACE"," ",370],["T_VARIABLE","$this",370],";",["T_WHITESPACE","\n    ",370],"}",["T_WHITESPACE","\n\n    ",371],["T_DOC_COMMENT","\/**\n     * Use a STRAIGHT_JOIN for the SQL Select\n     *\n     * @param bool $flag Whether or not the SELECT use STRAIGHT_JOIN (default true).\n     * @return Zend_Db_Select This Zend_Db_Select object.\n     *\/",373],["T_WHITESPACE","\n    ",378],["T_PUBLIC","public",379],["T_WHITESPACE"," ",379],["T_FUNCTION","function",379],["T_WHITESPACE"," ",379],["T_STRING","useStraightJoin",379],"(",["T_VARIABLE","$flag",379],["T_WHITESPACE"," ",379],"=",["T_WHITESPACE"," ",379],["T_STRING","true",379],")",["T_WHITESPACE","\n    ",379],"{",["T_WHITESPACE","\n        ",380],["T_VARIABLE","$this",381],["T_OBJECT_OPERATOR","->",381],["T_STRING","_parts",381],"[",["T_STRING","self",381],["T_DOUBLE_COLON","::",381],["T_STRING","STRAIGHT_JOIN",381],"]",["T_WHITESPACE"," ",381],"=",["T_WHITESPACE"," ",381],["T_BOOL_CAST","(bool)",381],["T_WHITESPACE"," ",381],["T_VARIABLE","$flag",381],";",["T_WHITESPACE","\n        ",381],["T_RETURN","return",382],["T_WHITESPACE"," ",382],["T_VARIABLE","$this",382],";",["T_WHITESPACE","\n    ",382],"}",["T_WHITESPACE","\n\n    ",383],["T_DOC_COMMENT","\/**\n     * Render STRAIGHT_JOIN clause\n     *\n     * @param string   $sql SQL query\n     * @return string\n     *\/",385],["T_WHITESPACE","\n    ",390],["T_PROTECTED","protected",391],["T_WHITESPACE"," ",391],["T_FUNCTION","function",391],["T_WHITESPACE"," ",391],["T_STRING","_renderStraightjoin",391],"(",["T_VARIABLE","$sql",391],")",["T_WHITESPACE","\n    ",391],"{",["T_WHITESPACE","\n        ",392],["T_IF","if",393],["T_WHITESPACE"," ",393],"(",["T_VARIABLE","$this",393],["T_OBJECT_OPERATOR","->",393],["T_STRING","_adapter",393],["T_OBJECT_OPERATOR","->",393],["T_STRING","supportStraightJoin",393],"(",")",["T_WHITESPACE"," ",393],["T_BOOLEAN_AND","&&",393],["T_WHITESPACE"," ",393],"!",["T_EMPTY","empty",393],"(",["T_VARIABLE","$this",393],["T_OBJECT_OPERATOR","->",393],["T_STRING","_parts",393],"[",["T_STRING","self",393],["T_DOUBLE_COLON","::",393],["T_STRING","STRAIGHT_JOIN",393],"]",")",")",["T_WHITESPACE"," ",393],"{",["T_WHITESPACE","\n            ",393],["T_VARIABLE","$sql",394],["T_WHITESPACE"," ",394],["T_CONCAT_EQUAL",".=",394],["T_WHITESPACE"," ",394],["T_CONSTANT_ENCAPSED_STRING","' '",394],["T_WHITESPACE"," ",394],".",["T_WHITESPACE"," ",394],["T_STRING","self",394],["T_DOUBLE_COLON","::",394],["T_STRING","SQL_STRAIGHT_JOIN",394],";",["T_WHITESPACE","\n        ",394],"}",["T_WHITESPACE","\n\n        ",395],["T_RETURN","return",397],["T_WHITESPACE"," ",397],["T_VARIABLE","$sql",397],";",["T_WHITESPACE","\n    ",397],"}",["T_WHITESPACE","\n\n    ",398],["T_DOC_COMMENT","\/**\n     * Adds to the internal table-to-column mapping array.\n     *\n     * @param  string $tbl The table\/join the columns come from.\n     * @param  array|string $cols The list of columns; preferably as\n     * an array, but possibly as a string containing one column.\n     * @param  bool|string True if it should be prepended, a correlation name if it should be inserted\n     * @return void\n     *\/",400],["T_WHITESPACE","\n    ",408],["T_PROTECTED","protected",409],["T_WHITESPACE"," ",409],["T_FUNCTION","function",409],["T_WHITESPACE"," ",409],["T_STRING","_tableCols",409],"(",["T_VARIABLE","$correlationName",409],",",["T_WHITESPACE"," ",409],["T_VARIABLE","$cols",409],",",["T_WHITESPACE"," ",409],["T_VARIABLE","$afterCorrelationName",409],["T_WHITESPACE"," ",409],"=",["T_WHITESPACE"," ",409],["T_STRING","null",409],")",["T_WHITESPACE","\n    ",409],"{",["T_WHITESPACE","\n        ",410],["T_IF","if",411],["T_WHITESPACE"," ",411],"(","!",["T_STRING","is_array",411],"(",["T_VARIABLE","$cols",411],")",")",["T_WHITESPACE"," ",411],"{",["T_WHITESPACE","\n            ",411],["T_VARIABLE","$cols",412],["T_WHITESPACE"," ",412],"=",["T_WHITESPACE"," ",412],["T_ARRAY","array",412],"(",["T_VARIABLE","$cols",412],")",";",["T_WHITESPACE","\n        ",412],"}",["T_WHITESPACE","\n\n        ",413],["T_FOREACH","foreach",415],["T_WHITESPACE"," ",415],"(",["T_VARIABLE","$cols",415],["T_WHITESPACE"," ",415],["T_AS","as",415],["T_WHITESPACE"," ",415],["T_VARIABLE","$k",415],["T_WHITESPACE"," ",415],["T_DOUBLE_ARROW","=>",415],["T_WHITESPACE"," ",415],["T_VARIABLE","$v",415],")",["T_WHITESPACE"," ",415],"{",["T_WHITESPACE","\n            ",415],["T_IF","if",416],["T_WHITESPACE"," ",416],"(",["T_VARIABLE","$v",416],["T_WHITESPACE"," ",416],["T_INSTANCEOF","instanceof",416],["T_WHITESPACE"," ",416],["T_STRING","Varien_Db_Select",416],")",["T_WHITESPACE"," ",416],"{",["T_WHITESPACE","\n                ",416],["T_VARIABLE","$cols",417],"[",["T_VARIABLE","$k",417],"]",["T_WHITESPACE"," ",417],"=",["T_WHITESPACE"," ",417],["T_NEW","new",417],["T_WHITESPACE"," ",417],["T_STRING","Zend_Db_Expr",417],"(",["T_STRING","sprintf",417],"(",["T_CONSTANT_ENCAPSED_STRING","'(%s)'",417],",",["T_WHITESPACE"," ",417],["T_VARIABLE","$v",417],["T_OBJECT_OPERATOR","->",417],["T_STRING","assemble",417],"(",")",")",")",";",["T_WHITESPACE","\n            ",417],"}",["T_WHITESPACE","\n        ",418],"}",["T_WHITESPACE","\n\n        ",419],["T_RETURN","return",421],["T_WHITESPACE"," ",421],["T_STRING","parent",421],["T_DOUBLE_COLON","::",421],["T_STRING","_tableCols",421],"(",["T_VARIABLE","$correlationName",421],",",["T_WHITESPACE"," ",421],["T_VARIABLE","$cols",421],",",["T_WHITESPACE"," ",421],["T_VARIABLE","$afterCorrelationName",421],")",";",["T_WHITESPACE","\n    ",421],"}",["T_WHITESPACE","\n\n    ",422],["T_DOC_COMMENT","\/**\n     * Adds the random order to query\n     *\n     * @param string $field     integer field name\n     * @return Varien_Db_Select\n     *\/",424],["T_WHITESPACE","\n    ",429],["T_PUBLIC","public",430],["T_WHITESPACE"," ",430],["T_FUNCTION","function",430],["T_WHITESPACE"," ",430],["T_STRING","orderRand",430],"(",["T_VARIABLE","$field",430],["T_WHITESPACE"," ",430],"=",["T_WHITESPACE"," ",430],["T_STRING","null",430],")",["T_WHITESPACE","\n    ",430],"{",["T_WHITESPACE","\n        ",431],["T_VARIABLE","$this",432],["T_OBJECT_OPERATOR","->",432],["T_STRING","_adapter",432],["T_OBJECT_OPERATOR","->",432],["T_STRING","orderRand",432],"(",["T_VARIABLE","$this",432],",",["T_WHITESPACE"," ",432],["T_VARIABLE","$field",432],")",";",["T_WHITESPACE","\n        ",432],["T_RETURN","return",433],["T_WHITESPACE"," ",433],["T_VARIABLE","$this",433],";",["T_WHITESPACE","\n    ",433],"}",["T_WHITESPACE","\n\n    ",434],["T_DOC_COMMENT","\/**\n     * Render FOR UPDATE clause\n     *\n     * @param string   $sql SQL query\n     * @return string\n     *\/",436],["T_WHITESPACE","\n    ",441],["T_PROTECTED","protected",442],["T_WHITESPACE"," ",442],["T_FUNCTION","function",442],["T_WHITESPACE"," ",442],["T_STRING","_renderForupdate",442],"(",["T_VARIABLE","$sql",442],")",["T_WHITESPACE","\n    ",442],"{",["T_WHITESPACE","\n        ",443],["T_IF","if",444],["T_WHITESPACE"," ",444],"(",["T_VARIABLE","$this",444],["T_OBJECT_OPERATOR","->",444],["T_STRING","_parts",444],"[",["T_STRING","self",444],["T_DOUBLE_COLON","::",444],["T_STRING","FOR_UPDATE",444],"]",")",["T_WHITESPACE"," ",444],"{",["T_WHITESPACE","\n            ",444],["T_VARIABLE","$sql",445],["T_WHITESPACE"," ",445],"=",["T_WHITESPACE"," ",445],["T_VARIABLE","$this",445],["T_OBJECT_OPERATOR","->",445],["T_STRING","_adapter",445],["T_OBJECT_OPERATOR","->",445],["T_STRING","forUpdate",445],"(",["T_VARIABLE","$sql",445],")",";",["T_WHITESPACE","\n        ",445],"}",["T_WHITESPACE","\n\n        ",446],["T_RETURN","return",448],["T_WHITESPACE"," ",448],["T_VARIABLE","$sql",448],";",["T_WHITESPACE","\n    ",448],"}",["T_WHITESPACE","\n    ",449],["T_DOC_COMMENT","\/**\n     * Add EXISTS clause\n     *\n     * @param  Varien_Db_Select $select\n     * @param  string           $joinCondition\n     * @param   bool            $isExists\n     * @return Varien_Db_Select\n     *\/",450],["T_WHITESPACE","\n    ",457],["T_PUBLIC","public",458],["T_WHITESPACE"," ",458],["T_FUNCTION","function",458],["T_WHITESPACE"," ",458],["T_STRING","exists",458],"(",["T_VARIABLE","$select",458],",",["T_WHITESPACE"," ",458],["T_VARIABLE","$joinCondition",458],",",["T_WHITESPACE"," ",458],["T_VARIABLE","$isExists",458],["T_WHITESPACE"," ",458],"=",["T_WHITESPACE"," ",458],["T_STRING","true",458],")",["T_WHITESPACE","\n    ",458],"{",["T_WHITESPACE","\n        ",459],["T_IF","if",460],["T_WHITESPACE"," ",460],"(",["T_VARIABLE","$isExists",460],")",["T_WHITESPACE"," ",460],"{",["T_WHITESPACE","\n            ",460],["T_VARIABLE","$exists",461],["T_WHITESPACE"," ",461],"=",["T_WHITESPACE"," ",461],["T_CONSTANT_ENCAPSED_STRING","'EXISTS (%s)'",461],";",["T_WHITESPACE","\n        ",461],"}",["T_WHITESPACE"," ",462],["T_ELSE","else",462],["T_WHITESPACE"," ",462],"{",["T_WHITESPACE","\n            ",462],["T_VARIABLE","$exists",463],["T_WHITESPACE"," ",463],"=",["T_WHITESPACE"," ",463],["T_CONSTANT_ENCAPSED_STRING","'NOT EXISTS (%s)'",463],";",["T_WHITESPACE","\n        ",463],"}",["T_WHITESPACE","\n        ",464],["T_VARIABLE","$select",465],["T_OBJECT_OPERATOR","->",465],["T_STRING","reset",465],"(",["T_STRING","self",465],["T_DOUBLE_COLON","::",465],["T_STRING","COLUMNS",465],")",["T_WHITESPACE","\n            ",465],["T_OBJECT_OPERATOR","->",466],["T_STRING","columns",466],"(",["T_ARRAY","array",466],"(",["T_NEW","new",466],["T_WHITESPACE"," ",466],["T_STRING","Zend_Db_Expr",466],"(",["T_CONSTANT_ENCAPSED_STRING","'1'",466],")",")",")",["T_WHITESPACE","\n            ",466],["T_OBJECT_OPERATOR","->",467],["T_STRING","where",467],"(",["T_VARIABLE","$joinCondition",467],")",";",["T_WHITESPACE","\n\n        ",467],["T_VARIABLE","$exists",469],["T_WHITESPACE"," ",469],"=",["T_WHITESPACE"," ",469],["T_STRING","sprintf",469],"(",["T_VARIABLE","$exists",469],",",["T_WHITESPACE"," ",469],["T_VARIABLE","$select",469],["T_OBJECT_OPERATOR","->",469],["T_STRING","assemble",469],"(",")",")",";",["T_WHITESPACE","\n\n        ",469],["T_VARIABLE","$this",471],["T_OBJECT_OPERATOR","->",471],["T_STRING","where",471],"(",["T_VARIABLE","$exists",471],")",";",["T_WHITESPACE","\n        ",471],["T_RETURN","return",472],["T_WHITESPACE"," ",472],["T_VARIABLE","$this",472],";",["T_WHITESPACE","\n    ",472],"}",["T_WHITESPACE","\n",473],"}",["T_WHITESPACE","\n",474]]