[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Magento\n *\n * NOTICE OF LICENSE\n *\n * This source file is subject to the Open Software License (OSL 3.0)\n * that is bundled with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/opensource.org\/licenses\/osl-3.0.php\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@magento.com so we can send you a copy immediately.\n *\n * DISCLAIMER\n *\n * Do not edit or add to this file if you wish to upgrade Magento to newer\n * versions in the future. If you wish to customize Magento for your\n * needs please refer to http:\/\/www.magento.com for more information.\n *\n * @category    Varien\n * @package     Varien_Db\n * @copyright  Copyright (c) 2006-2016 X.commerce, Inc. and affiliates (http:\/\/www.magento.com)\n * @license    http:\/\/opensource.org\/licenses\/osl-3.0.php  Open Software License (OSL 3.0)\n *\/",2],["T_WHITESPACE","\n\n",25],["T_DOC_COMMENT","\/**\n * Varien Library\n *\n *\n * @category   Varien\n * @package    Varien_Db\n * @author      Magento Core Team <core@magentocommerce.com>\n *\/",27],["T_WHITESPACE","\n\n\n",34],["T_REQUIRE_ONCE","require_once",37],["T_WHITESPACE"," ",37],["T_CONSTANT_ENCAPSED_STRING","'Varien\/Db\/Tree\/Exception.php'",37],";",["T_WHITESPACE","\n",37],["T_STRING","Zend_Loader",38],["T_DOUBLE_COLON","::",38],["T_STRING","loadClass",38],"(",["T_CONSTANT_ENCAPSED_STRING","'Zend_Db_Select'",38],")",";",["T_WHITESPACE","\n",38],["T_STRING","Zend_Loader",39],["T_DOUBLE_COLON","::",39],["T_STRING","loadClass",39],"(",["T_CONSTANT_ENCAPSED_STRING","'Varien_Db_Tree_Node'",39],")",";",["T_WHITESPACE","\n",39],["T_STRING","Zend_Loader",40],["T_DOUBLE_COLON","::",40],["T_STRING","loadClass",40],"(",["T_CONSTANT_ENCAPSED_STRING","'Varien_Db_Tree_NodeSet'",40],")",";",["T_WHITESPACE","\n\n",40],["T_CLASS","class",42],["T_WHITESPACE"," ",42],["T_STRING","Varien_Db_Tree",42],["T_WHITESPACE","\n",42],"{",["T_WHITESPACE","\n\n    ",43],["T_PRIVATE","private",45],["T_WHITESPACE"," ",45],["T_VARIABLE","$_id",45],";",["T_WHITESPACE","\n    ",45],["T_PRIVATE","private",46],["T_WHITESPACE"," ",46],["T_VARIABLE","$_left",46],";",["T_WHITESPACE","\n    ",46],["T_PRIVATE","private",47],["T_WHITESPACE"," ",47],["T_VARIABLE","$_right",47],";",["T_WHITESPACE","\n    ",47],["T_PRIVATE","private",48],["T_WHITESPACE"," ",48],["T_VARIABLE","$_level",48],";",["T_WHITESPACE","\n    ",48],["T_PRIVATE","private",49],["T_WHITESPACE"," ",49],["T_VARIABLE","$_pid",49],";",["T_WHITESPACE","\n    ",49],["T_PRIVATE","private",50],["T_WHITESPACE"," ",50],["T_VARIABLE","$_nodesInfo",50],["T_WHITESPACE"," ",50],"=",["T_WHITESPACE"," ",50],["T_ARRAY","array",50],"(",")",";",["T_WHITESPACE","\n\n    ",50],["T_DOC_COMMENT","\/**\n     * Array of additional tables\n     *\n     * array(\n     *  [$tableName] => array(\n     *              ['joinCondition']\n     *              ['fields']\n     *          )\n     * )\n     *\n     * @var array\n     *\/",52],["T_WHITESPACE","\n    ",63],["T_PRIVATE","private",64],["T_WHITESPACE"," ",64],["T_VARIABLE","$_extTables",64],["T_WHITESPACE"," ",64],"=",["T_WHITESPACE"," ",64],["T_ARRAY","array",64],"(",")",";",["T_WHITESPACE","\n\n    ",64],["T_DOC_COMMENT","\/**\n     * Zend_Db_Adapter\n     *\n     * @var Zend_Db_Adapter_Abstract\n     *\/",66],["T_WHITESPACE","\n    ",70],["T_PRIVATE","private",71],["T_WHITESPACE"," ",71],["T_VARIABLE","$_db",71],";",["T_WHITESPACE","\n\n    ",71],["T_PRIVATE","private",73],["T_WHITESPACE"," ",73],["T_VARIABLE","$_table",73],";",["T_WHITESPACE","\n\n    ",73],["T_FUNCTION","function",75],["T_WHITESPACE"," ",75],["T_STRING","__construct",75],"(",["T_VARIABLE","$config",75],["T_WHITESPACE"," ",75],"=",["T_WHITESPACE"," ",75],["T_ARRAY","array",75],"(",")",")",["T_WHITESPACE","\n    ",75],"{",["T_WHITESPACE","\n        ",76],["T_COMMENT","\/\/ set a Zend_Db_Adapter connection\n",77],["T_WHITESPACE","        ",78],["T_IF","if",78],["T_WHITESPACE"," ",78],"(","!",["T_WHITESPACE"," ",78],["T_EMPTY","empty",78],"(",["T_VARIABLE","$config",78],"[",["T_CONSTANT_ENCAPSED_STRING","'db'",78],"]",")",")",["T_WHITESPACE"," ",78],"{",["T_WHITESPACE","\n\n            ",78],["T_COMMENT","\/\/ convenience variable\n",80],["T_WHITESPACE","            ",81],["T_VARIABLE","$db",81],["T_WHITESPACE"," ",81],"=",["T_WHITESPACE"," ",81],["T_VARIABLE","$config",81],"[",["T_CONSTANT_ENCAPSED_STRING","'db'",81],"]",";",["T_WHITESPACE","\n\n            ",81],["T_COMMENT","\/\/ use an object from the registry?\n",83],["T_WHITESPACE","            ",84],["T_IF","if",84],["T_WHITESPACE"," ",84],"(",["T_STRING","is_string",84],"(",["T_VARIABLE","$db",84],")",")",["T_WHITESPACE"," ",84],"{",["T_WHITESPACE","\n                ",84],["T_VARIABLE","$db",85],["T_WHITESPACE"," ",85],"=",["T_WHITESPACE"," ",85],["T_STRING","Zend",85],["T_DOUBLE_COLON","::",85],["T_STRING","registry",85],"(",["T_VARIABLE","$db",85],")",";",["T_WHITESPACE","\n            ",85],"}",["T_WHITESPACE","\n\n            ",86],["T_COMMENT","\/\/ make sure it's a Zend_Db_Adapter\n",88],["T_WHITESPACE","            ",89],["T_IF","if",89],["T_WHITESPACE"," ",89],"(","!",["T_WHITESPACE"," ",89],["T_VARIABLE","$db",89],["T_WHITESPACE"," ",89],["T_INSTANCEOF","instanceof",89],["T_WHITESPACE"," ",89],["T_STRING","Zend_Db_Adapter_Abstract",89],")",["T_WHITESPACE"," ",89],"{",["T_WHITESPACE","\n                ",89],["T_THROW","throw",90],["T_WHITESPACE"," ",90],["T_NEW","new",90],["T_WHITESPACE"," ",90],["T_STRING","Varien_Db_Tree_Exception",90],"(",["T_CONSTANT_ENCAPSED_STRING","'db object does not implement Zend_Db_Adapter_Abstract'",90],")",";",["T_WHITESPACE","\n            ",90],"}",["T_WHITESPACE","\n\n            ",91],["T_COMMENT","\/\/ save the connection\n",93],["T_WHITESPACE","            ",94],["T_VARIABLE","$this",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","_db",94],["T_WHITESPACE"," ",94],"=",["T_WHITESPACE"," ",94],["T_VARIABLE","$db",94],";",["T_WHITESPACE","\n            ",94],["T_VARIABLE","$conn",95],["T_WHITESPACE"," ",95],"=",["T_WHITESPACE"," ",95],["T_VARIABLE","$this",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","_db",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","getConnection",95],"(",")",";",["T_WHITESPACE","\n            ",95],["T_IF","if",96],["T_WHITESPACE"," ",96],"(",["T_VARIABLE","$conn",96],["T_WHITESPACE"," ",96],["T_INSTANCEOF","instanceof",96],["T_WHITESPACE"," ",96],["T_STRING","PDO",96],")",["T_WHITESPACE"," ",96],"{",["T_WHITESPACE","\n                ",96],["T_VARIABLE","$conn",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","setAttribute",97],["T_WHITESPACE"," ",97],"(",["T_STRING","PDO",97],["T_DOUBLE_COLON","::",97],["T_STRING","ATTR_EMULATE_PREPARES",97],",",["T_WHITESPACE"," ",97],["T_STRING","true",97],")",";",["T_WHITESPACE","\n            ",97],"}",["T_WHITESPACE"," ",98],["T_ELSEIF","elseif",98],["T_WHITESPACE"," ",98],"(",["T_VARIABLE","$conn",98],["T_WHITESPACE"," ",98],["T_INSTANCEOF","instanceof",98],["T_WHITESPACE"," ",98],["T_STRING","mysqli",98],")",["T_WHITESPACE"," ",98],"{",["T_WHITESPACE","\n                ",98],["T_COMMENT","\/\/TODO: ???\n",99],["T_WHITESPACE","            ",100],"}",["T_WHITESPACE","\n        ",100],"}",["T_WHITESPACE"," ",101],["T_ELSE","else",101],["T_WHITESPACE"," ",101],"{",["T_WHITESPACE","\n            ",101],["T_THROW","throw",102],["T_WHITESPACE"," ",102],["T_NEW","new",102],["T_WHITESPACE"," ",102],["T_STRING","Varien_Db_Tree_Exception",102],"(",["T_CONSTANT_ENCAPSED_STRING","'db object is not set in config'",102],")",";",["T_WHITESPACE","\n        ",102],"}",["T_WHITESPACE","\n\n\n        ",103],["T_IF","if",106],["T_WHITESPACE"," ",106],"(","!",["T_EMPTY","empty",106],"(",["T_VARIABLE","$config",106],"[",["T_CONSTANT_ENCAPSED_STRING","'table'",106],"]",")",")",["T_WHITESPACE"," ",106],"{",["T_WHITESPACE","\n            ",106],["T_VARIABLE","$this",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","setTable",107],"(",["T_VARIABLE","$config",107],"[",["T_CONSTANT_ENCAPSED_STRING","'table'",107],"]",")",";",["T_WHITESPACE","\n        ",107],"}",["T_WHITESPACE","\n\n        ",108],["T_IF","if",110],["T_WHITESPACE"," ",110],"(","!",["T_EMPTY","empty",110],"(",["T_VARIABLE","$config",110],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",110],"]",")",")",["T_WHITESPACE"," ",110],"{",["T_WHITESPACE","\n            ",110],["T_VARIABLE","$this",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","setIdField",111],"(",["T_VARIABLE","$config",111],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",111],"]",")",";",["T_WHITESPACE","\n        ",111],"}",["T_WHITESPACE"," ",112],["T_ELSE","else",112],["T_WHITESPACE"," ",112],"{",["T_WHITESPACE","\n            ",112],["T_VARIABLE","$this",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","setIdField",113],"(",["T_CONSTANT_ENCAPSED_STRING","'id'",113],")",";",["T_WHITESPACE","\n        ",113],"}",["T_WHITESPACE","\n\n        ",114],["T_IF","if",116],["T_WHITESPACE"," ",116],"(","!",["T_EMPTY","empty",116],"(",["T_VARIABLE","$config",116],"[",["T_CONSTANT_ENCAPSED_STRING","'left'",116],"]",")",")",["T_WHITESPACE"," ",116],"{",["T_WHITESPACE","\n            ",116],["T_VARIABLE","$this",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","setLeftField",117],"(",["T_VARIABLE","$config",117],"[",["T_CONSTANT_ENCAPSED_STRING","'left'",117],"]",")",";",["T_WHITESPACE","\n        ",117],"}",["T_WHITESPACE"," ",118],["T_ELSE","else",118],["T_WHITESPACE"," ",118],"{",["T_WHITESPACE","\n            ",118],["T_VARIABLE","$this",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","setLeftField",119],"(",["T_CONSTANT_ENCAPSED_STRING","'left_key'",119],")",";",["T_WHITESPACE","\n        ",119],"}",["T_WHITESPACE","\n\n        ",120],["T_IF","if",122],["T_WHITESPACE"," ",122],"(","!",["T_EMPTY","empty",122],"(",["T_VARIABLE","$config",122],"[",["T_CONSTANT_ENCAPSED_STRING","'right'",122],"]",")",")",["T_WHITESPACE"," ",122],"{",["T_WHITESPACE","\n            ",122],["T_VARIABLE","$this",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","setRightField",123],"(",["T_VARIABLE","$config",123],"[",["T_CONSTANT_ENCAPSED_STRING","'right'",123],"]",")",";",["T_WHITESPACE","\n        ",123],"}",["T_WHITESPACE"," ",124],["T_ELSE","else",124],["T_WHITESPACE"," ",124],"{",["T_WHITESPACE","\n            ",124],["T_VARIABLE","$this",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","setRightField",125],"(",["T_CONSTANT_ENCAPSED_STRING","'right_key'",125],")",";",["T_WHITESPACE","\n        ",125],"}",["T_WHITESPACE","\n\n        ",126],["T_IF","if",128],["T_WHITESPACE"," ",128],"(","!",["T_EMPTY","empty",128],"(",["T_VARIABLE","$config",128],"[",["T_CONSTANT_ENCAPSED_STRING","'level'",128],"]",")",")",["T_WHITESPACE"," ",128],"{",["T_WHITESPACE","\n            ",128],["T_VARIABLE","$this",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","setLevelField",129],"(",["T_VARIABLE","$config",129],"[",["T_CONSTANT_ENCAPSED_STRING","'level'",129],"]",")",";",["T_WHITESPACE","\n        ",129],"}",["T_WHITESPACE"," ",130],["T_ELSE","else",130],["T_WHITESPACE"," ",130],"{",["T_WHITESPACE","\n            ",130],["T_VARIABLE","$this",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","setLevelField",131],"(",["T_CONSTANT_ENCAPSED_STRING","'level'",131],")",";",["T_WHITESPACE","\n        ",131],"}",["T_WHITESPACE","\n\n\n        ",132],["T_IF","if",135],["T_WHITESPACE"," ",135],"(","!",["T_EMPTY","empty",135],"(",["T_VARIABLE","$config",135],"[",["T_CONSTANT_ENCAPSED_STRING","'pid'",135],"]",")",")",["T_WHITESPACE"," ",135],"{",["T_WHITESPACE","\n            ",135],["T_VARIABLE","$this",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","setPidField",136],"(",["T_VARIABLE","$config",136],"[",["T_CONSTANT_ENCAPSED_STRING","'pid'",136],"]",")",";",["T_WHITESPACE","\n        ",136],"}",["T_WHITESPACE"," ",137],["T_ELSE","else",137],["T_WHITESPACE"," ",137],"{",["T_WHITESPACE","\n            ",137],["T_VARIABLE","$this",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","setPidField",138],"(",["T_CONSTANT_ENCAPSED_STRING","'parent_id'",138],")",";",["T_WHITESPACE","\n        ",138],"}",["T_WHITESPACE","\n\n    ",139],"}",["T_WHITESPACE","\n\n    ",141],["T_DOC_COMMENT","\/**\n     * set name of id field\n     *\n     * @param string $name\n     * @return Varien_Db_Tree\n     *\/",143],["T_WHITESPACE","\n    ",148],["T_PUBLIC","public",149],["T_WHITESPACE"," ",149],["T_FUNCTION","function",149],["T_WHITESPACE"," ",149],["T_STRING","setIdField",149],"(",["T_VARIABLE","$name",149],")",["T_WHITESPACE"," ",149],"{",["T_WHITESPACE","\n        ",149],["T_VARIABLE","$this",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","_id",150],["T_WHITESPACE"," ",150],"=",["T_WHITESPACE"," ",150],["T_VARIABLE","$name",150],";",["T_WHITESPACE","\n        ",150],["T_RETURN","return",151],["T_WHITESPACE"," ",151],["T_VARIABLE","$this",151],";",["T_WHITESPACE","\n    ",151],"}",["T_WHITESPACE","\n\n    ",152],["T_DOC_COMMENT","\/**\n     * set name of left field\n     *\n     * @param string $name\n     * @return Varien_Db_Tree\n     *\/",154],["T_WHITESPACE","\n    ",159],["T_PUBLIC","public",160],["T_WHITESPACE"," ",160],["T_FUNCTION","function",160],["T_WHITESPACE"," ",160],["T_STRING","setLeftField",160],"(",["T_VARIABLE","$name",160],")",["T_WHITESPACE"," ",160],"{",["T_WHITESPACE","\n        ",160],["T_VARIABLE","$this",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","_left",161],["T_WHITESPACE"," ",161],"=",["T_WHITESPACE"," ",161],["T_VARIABLE","$name",161],";",["T_WHITESPACE","\n        ",161],["T_RETURN","return",162],["T_WHITESPACE"," ",162],["T_VARIABLE","$this",162],";",["T_WHITESPACE","\n    ",162],"}",["T_WHITESPACE","\n\n    ",163],["T_DOC_COMMENT","\/**\n     * set name of right field\n     *\n     * @param string $name\n     * @return Varien_Db_Tree\n     *\/",165],["T_WHITESPACE","\n    ",170],["T_PUBLIC","public",171],["T_WHITESPACE"," ",171],["T_FUNCTION","function",171],["T_WHITESPACE"," ",171],["T_STRING","setRightField",171],"(",["T_VARIABLE","$name",171],")",["T_WHITESPACE"," ",171],"{",["T_WHITESPACE","\n        ",171],["T_VARIABLE","$this",172],["T_OBJECT_OPERATOR","->",172],["T_STRING","_right",172],["T_WHITESPACE"," ",172],"=",["T_WHITESPACE"," ",172],["T_VARIABLE","$name",172],";",["T_WHITESPACE","\n        ",172],["T_RETURN","return",173],["T_WHITESPACE"," ",173],["T_VARIABLE","$this",173],";",["T_WHITESPACE","\n    ",173],"}",["T_WHITESPACE","\n\n    ",174],["T_DOC_COMMENT","\/**\n     * set name of level field\n     *\n     * @param string $name\n     * @return Varien_Db_Tree\n     *\/",176],["T_WHITESPACE","\n    ",181],["T_PUBLIC","public",182],["T_WHITESPACE"," ",182],["T_FUNCTION","function",182],["T_WHITESPACE"," ",182],["T_STRING","setLevelField",182],"(",["T_VARIABLE","$name",182],")",["T_WHITESPACE"," ",182],"{",["T_WHITESPACE","\n        ",182],["T_VARIABLE","$this",183],["T_OBJECT_OPERATOR","->",183],["T_STRING","_level",183],["T_WHITESPACE"," ",183],"=",["T_WHITESPACE"," ",183],["T_VARIABLE","$name",183],";",["T_WHITESPACE","\n        ",183],["T_RETURN","return",184],["T_WHITESPACE"," ",184],["T_VARIABLE","$this",184],";",["T_WHITESPACE","\n    ",184],"}",["T_WHITESPACE","\n\n    ",185],["T_DOC_COMMENT","\/**\n     * set name of pid Field\n     *\n     * @param string $name\n     * @return Varien_Db_Tree\n     *\/",187],["T_WHITESPACE","\n    ",192],["T_PUBLIC","public",193],["T_WHITESPACE"," ",193],["T_FUNCTION","function",193],["T_WHITESPACE"," ",193],["T_STRING","setPidField",193],"(",["T_VARIABLE","$name",193],")",["T_WHITESPACE"," ",193],"{",["T_WHITESPACE","\n        ",193],["T_VARIABLE","$this",194],["T_OBJECT_OPERATOR","->",194],["T_STRING","_pid",194],["T_WHITESPACE"," ",194],"=",["T_WHITESPACE"," ",194],["T_VARIABLE","$name",194],";",["T_WHITESPACE","\n        ",194],["T_RETURN","return",195],["T_WHITESPACE"," ",195],["T_VARIABLE","$this",195],";",["T_WHITESPACE","\n    ",195],"}",["T_WHITESPACE","\n\n    ",196],["T_DOC_COMMENT","\/**\n     * set table name\n     *\n     * @param string $name\n     * @return Varien_Db_Tree\n     *\/",198],["T_WHITESPACE","\n    ",203],["T_PUBLIC","public",204],["T_WHITESPACE"," ",204],["T_FUNCTION","function",204],["T_WHITESPACE"," ",204],["T_STRING","setTable",204],"(",["T_VARIABLE","$name",204],")",["T_WHITESPACE"," ",204],"{",["T_WHITESPACE","\n        ",204],["T_VARIABLE","$this",205],["T_OBJECT_OPERATOR","->",205],["T_STRING","_table",205],["T_WHITESPACE"," ",205],"=",["T_WHITESPACE"," ",205],["T_VARIABLE","$name",205],";",["T_WHITESPACE","\n        ",205],["T_RETURN","return",206],["T_WHITESPACE"," ",206],["T_VARIABLE","$this",206],";",["T_WHITESPACE","\n    ",206],"}",["T_WHITESPACE","\n\n    ",207],["T_PUBLIC","public",209],["T_WHITESPACE"," ",209],["T_FUNCTION","function",209],["T_WHITESPACE"," ",209],["T_STRING","getKeys",209],"(",")",["T_WHITESPACE"," ",209],"{",["T_WHITESPACE","\n        ",209],["T_VARIABLE","$keys",210],["T_WHITESPACE"," ",210],"=",["T_WHITESPACE"," ",210],["T_ARRAY","array",210],"(",")",";",["T_WHITESPACE","\n        ",210],["T_VARIABLE","$keys",211],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",211],"]",["T_WHITESPACE"," ",211],"=",["T_WHITESPACE"," ",211],["T_VARIABLE","$this",211],["T_OBJECT_OPERATOR","->",211],["T_STRING","_id",211],";",["T_WHITESPACE","\n        ",211],["T_VARIABLE","$keys",212],"[",["T_CONSTANT_ENCAPSED_STRING","'left'",212],"]",["T_WHITESPACE"," ",212],"=",["T_WHITESPACE"," ",212],["T_VARIABLE","$this",212],["T_OBJECT_OPERATOR","->",212],["T_STRING","_left",212],";",["T_WHITESPACE","\n        ",212],["T_VARIABLE","$keys",213],"[",["T_CONSTANT_ENCAPSED_STRING","'right'",213],"]",["T_WHITESPACE"," ",213],"=",["T_WHITESPACE"," ",213],["T_VARIABLE","$this",213],["T_OBJECT_OPERATOR","->",213],["T_STRING","_right",213],";",["T_WHITESPACE","\n        ",213],["T_VARIABLE","$keys",214],"[",["T_CONSTANT_ENCAPSED_STRING","'pid'",214],"]",["T_WHITESPACE"," ",214],"=",["T_WHITESPACE"," ",214],["T_VARIABLE","$this",214],["T_OBJECT_OPERATOR","->",214],["T_STRING","_pid",214],";",["T_WHITESPACE","\n        ",214],["T_VARIABLE","$keys",215],"[",["T_CONSTANT_ENCAPSED_STRING","'level'",215],"]",["T_WHITESPACE"," ",215],"=",["T_WHITESPACE"," ",215],["T_VARIABLE","$this",215],["T_OBJECT_OPERATOR","->",215],["T_STRING","_level",215],";",["T_WHITESPACE","\n        ",215],["T_RETURN","return",216],["T_WHITESPACE"," ",216],["T_VARIABLE","$keys",216],";",["T_WHITESPACE","\n    ",216],"}",["T_WHITESPACE","\n\n    ",217],["T_DOC_COMMENT","\/**\n     * Cleare table and add root element\n     *\n     *\/",219],["T_WHITESPACE","\n    ",222],["T_PUBLIC","public",223],["T_WHITESPACE"," ",223],["T_FUNCTION","function",223],["T_WHITESPACE"," ",223],["T_STRING","clear",223],"(",["T_VARIABLE","$data",223],["T_WHITESPACE"," ",223],"=",["T_WHITESPACE"," ",223],["T_ARRAY","array",223],"(",")",")",["T_WHITESPACE","\n    ",223],"{",["T_WHITESPACE","\n        ",224],["T_COMMENT","\/\/ clearing table\n",225],["T_WHITESPACE","        ",226],["T_VARIABLE","$this",226],["T_OBJECT_OPERATOR","->",226],["T_STRING","_db",226],["T_OBJECT_OPERATOR","->",226],["T_STRING","query",226],"(",["T_CONSTANT_ENCAPSED_STRING","'TRUNCATE '",226],".",["T_WHITESPACE"," ",226],["T_VARIABLE","$this",226],["T_OBJECT_OPERATOR","->",226],["T_STRING","_table",226],")",";",["T_WHITESPACE","\n        ",226],["T_COMMENT","\/\/$this->_db->delete($this->_table,'');\n",227],["T_WHITESPACE","\n        ",228],["T_COMMENT","\/\/ prepare data for root element\n",229],["T_WHITESPACE","        ",230],["T_VARIABLE","$data",230],"[",["T_VARIABLE","$this",230],["T_OBJECT_OPERATOR","->",230],["T_STRING","_pid",230],"]",["T_WHITESPACE"," ",230],"=",["T_WHITESPACE"," ",230],["T_LNUMBER","0",230],";",["T_WHITESPACE","\n        ",230],["T_VARIABLE","$data",231],"[",["T_VARIABLE","$this",231],["T_OBJECT_OPERATOR","->",231],["T_STRING","_left",231],"]",["T_WHITESPACE"," ",231],"=",["T_WHITESPACE"," ",231],["T_LNUMBER","1",231],";",["T_WHITESPACE","\n        ",231],["T_VARIABLE","$data",232],"[",["T_VARIABLE","$this",232],["T_OBJECT_OPERATOR","->",232],["T_STRING","_right",232],"]",["T_WHITESPACE"," ",232],"=",["T_WHITESPACE"," ",232],["T_LNUMBER","2",232],";",["T_WHITESPACE","\n        ",232],["T_VARIABLE","$data",233],"[",["T_VARIABLE","$this",233],["T_OBJECT_OPERATOR","->",233],["T_STRING","_level",233],"]",["T_WHITESPACE"," ",233],"=",["T_WHITESPACE"," ",233],["T_LNUMBER","0",233],";",["T_WHITESPACE","\n\n        ",233],["T_TRY","try",235],["T_WHITESPACE","  ",235],"{",["T_WHITESPACE","\n            ",235],["T_VARIABLE","$this",236],["T_OBJECT_OPERATOR","->",236],["T_STRING","_db",236],["T_OBJECT_OPERATOR","->",236],["T_STRING","insert",236],"(",["T_VARIABLE","$this",236],["T_OBJECT_OPERATOR","->",236],["T_STRING","_table",236],",",["T_WHITESPACE"," ",236],["T_VARIABLE","$data",236],")",";",["T_WHITESPACE","\n        ",236],"}",["T_WHITESPACE"," ",237],["T_CATCH","catch",237],["T_WHITESPACE"," ",237],"(",["T_STRING","PDOException",237],["T_WHITESPACE"," ",237],["T_VARIABLE","$e",237],")",["T_WHITESPACE"," ",237],"{",["T_WHITESPACE","\n            ",237],["T_ECHO","echo",238],["T_WHITESPACE"," ",238],["T_VARIABLE","$e",238],["T_OBJECT_OPERATOR","->",238],["T_STRING","getMessage",238],"(",")",";",["T_WHITESPACE","\n        ",238],"}",["T_WHITESPACE","\n        ",239],["T_RETURN","return",240],["T_WHITESPACE"," ",240],["T_VARIABLE","$this",240],["T_OBJECT_OPERATOR","->",240],["T_STRING","_db",240],["T_OBJECT_OPERATOR","->",240],["T_STRING","lastInsertId",240],"(",")",";",["T_WHITESPACE","\n    ",240],"}",["T_WHITESPACE","\n\n    ",241],["T_PUBLIC","public",243],["T_WHITESPACE"," ",243],["T_FUNCTION","function",243],["T_WHITESPACE"," ",243],["T_STRING","getNodeInfo",243],"(",["T_VARIABLE","$ID",243],")",["T_WHITESPACE"," ",243],"{",["T_WHITESPACE","\n        ",243],["T_IF","if",244],["T_WHITESPACE"," ",244],"(",["T_EMPTY","empty",244],"(",["T_VARIABLE","$this",244],["T_OBJECT_OPERATOR","->",244],["T_STRING","_nodesInfo",244],"[",["T_VARIABLE","$ID",244],"]",")",")",["T_WHITESPACE"," ",244],"{",["T_WHITESPACE","\n            ",244],["T_VARIABLE","$sql",245],["T_WHITESPACE"," ",245],"=",["T_WHITESPACE"," ",245],["T_CONSTANT_ENCAPSED_STRING","'SELECT * FROM '",245],".",["T_VARIABLE","$this",245],["T_OBJECT_OPERATOR","->",245],["T_STRING","_table",245],".",["T_CONSTANT_ENCAPSED_STRING","' WHERE '",245],".",["T_VARIABLE","$this",245],["T_OBJECT_OPERATOR","->",245],["T_STRING","_id",245],".",["T_CONSTANT_ENCAPSED_STRING","'=:id'",245],";",["T_WHITESPACE","\n            ",245],["T_VARIABLE","$res",246],["T_WHITESPACE"," ",246],"=",["T_WHITESPACE"," ",246],["T_VARIABLE","$this",246],["T_OBJECT_OPERATOR","->",246],["T_STRING","_db",246],["T_OBJECT_OPERATOR","->",246],["T_STRING","query",246],"(",["T_VARIABLE","$sql",246],",",["T_WHITESPACE"," ",246],["T_ARRAY","array",246],"(",["T_CONSTANT_ENCAPSED_STRING","'id'",246],["T_WHITESPACE"," ",246],["T_DOUBLE_ARROW","=>",246],["T_WHITESPACE"," ",246],["T_VARIABLE","$ID",246],")",")",";",["T_WHITESPACE","\n            ",246],["T_VARIABLE","$data",247],["T_WHITESPACE"," ",247],"=",["T_WHITESPACE"," ",247],["T_VARIABLE","$res",247],["T_OBJECT_OPERATOR","->",247],["T_STRING","fetch",247],"(",")",";",["T_WHITESPACE","\n            ",247],["T_VARIABLE","$this",248],["T_OBJECT_OPERATOR","->",248],["T_STRING","_nodesInfo",248],"[",["T_VARIABLE","$ID",248],"]",["T_WHITESPACE"," ",248],"=",["T_WHITESPACE"," ",248],["T_VARIABLE","$data",248],";",["T_WHITESPACE","\n        ",248],"}",["T_WHITESPACE"," ",249],["T_ELSE","else",249],["T_WHITESPACE"," ",249],"{",["T_WHITESPACE","\n            ",249],["T_VARIABLE","$data",250],["T_WHITESPACE"," ",250],"=",["T_WHITESPACE"," ",250],["T_VARIABLE","$this",250],["T_OBJECT_OPERATOR","->",250],["T_STRING","_nodesInfo",250],"[",["T_VARIABLE","$ID",250],"]",";",["T_WHITESPACE","\n        ",250],"}",["T_WHITESPACE","\n        ",251],["T_RETURN","return",252],["T_WHITESPACE"," ",252],["T_VARIABLE","$data",252],";",["T_WHITESPACE","\n    ",252],"}",["T_WHITESPACE","\n\n    ",253],["T_PUBLIC","public",255],["T_WHITESPACE"," ",255],["T_FUNCTION","function",255],["T_WHITESPACE"," ",255],["T_STRING","appendChild",255],"(",["T_VARIABLE","$ID",255],",",["T_WHITESPACE"," ",255],["T_VARIABLE","$data",255],")",["T_WHITESPACE"," ",255],"{",["T_WHITESPACE","\n\n        ",255],["T_IF","if",257],["T_WHITESPACE"," ",257],"(","!",["T_VARIABLE","$info",257],["T_WHITESPACE"," ",257],"=",["T_WHITESPACE"," ",257],["T_VARIABLE","$this",257],["T_OBJECT_OPERATOR","->",257],["T_STRING","getNodeInfo",257],"(",["T_VARIABLE","$ID",257],")",")",["T_WHITESPACE"," ",257],"{",["T_WHITESPACE","\n            ",257],["T_RETURN","return",258],["T_WHITESPACE"," ",258],["T_STRING","false",258],";",["T_WHITESPACE","\n        ",258],"}",["T_WHITESPACE","\n\n        ",259],["T_VARIABLE","$data",261],"[",["T_VARIABLE","$this",261],["T_OBJECT_OPERATOR","->",261],["T_STRING","_left",261],"]",["T_WHITESPACE","  ",261],"=",["T_WHITESPACE"," ",261],["T_VARIABLE","$info",261],"[",["T_VARIABLE","$this",261],["T_OBJECT_OPERATOR","->",261],["T_STRING","_right",261],"]",";",["T_WHITESPACE","\n        ",261],["T_VARIABLE","$data",262],"[",["T_VARIABLE","$this",262],["T_OBJECT_OPERATOR","->",262],["T_STRING","_right",262],"]",["T_WHITESPACE"," ",262],"=",["T_WHITESPACE"," ",262],["T_VARIABLE","$info",262],"[",["T_VARIABLE","$this",262],["T_OBJECT_OPERATOR","->",262],["T_STRING","_right",262],"]",["T_WHITESPACE"," ",262],"+",["T_WHITESPACE"," ",262],["T_LNUMBER","1",262],";",["T_WHITESPACE","\n        ",262],["T_VARIABLE","$data",263],"[",["T_VARIABLE","$this",263],["T_OBJECT_OPERATOR","->",263],["T_STRING","_level",263],"]",["T_WHITESPACE"," ",263],"=",["T_WHITESPACE"," ",263],["T_VARIABLE","$info",263],"[",["T_VARIABLE","$this",263],["T_OBJECT_OPERATOR","->",263],["T_STRING","_level",263],"]",["T_WHITESPACE"," ",263],"+",["T_WHITESPACE"," ",263],["T_LNUMBER","1",263],";",["T_WHITESPACE","\n        ",263],["T_VARIABLE","$data",264],"[",["T_VARIABLE","$this",264],["T_OBJECT_OPERATOR","->",264],["T_STRING","_pid",264],"]",["T_WHITESPACE","   ",264],"=",["T_WHITESPACE"," ",264],["T_VARIABLE","$ID",264],";",["T_WHITESPACE","\n\n        ",264],["T_COMMENT","\/\/ creating a place for the record being inserted\n",266],["T_WHITESPACE","        ",267],["T_IF","if",267],"(",["T_VARIABLE","$ID",267],")",["T_WHITESPACE"," ",267],"{",["T_WHITESPACE","\n            ",267],["T_VARIABLE","$this",268],["T_OBJECT_OPERATOR","->",268],["T_STRING","_db",268],["T_OBJECT_OPERATOR","->",268],["T_STRING","beginTransaction",268],"(",")",";",["T_WHITESPACE","\n            ",268],["T_TRY","try",269],["T_WHITESPACE"," ",269],"{",["T_WHITESPACE","\n                ",269],["T_VARIABLE","$sql",270],["T_WHITESPACE"," ",270],"=",["T_WHITESPACE"," ",270],["T_CONSTANT_ENCAPSED_STRING","'UPDATE '",270],".",["T_VARIABLE","$this",270],["T_OBJECT_OPERATOR","->",270],["T_STRING","_table",270],".",["T_CONSTANT_ENCAPSED_STRING","' SET'",270],["T_WHITESPACE","\n                    ",270],".",["T_WHITESPACE"," ",271],["T_CONSTANT_ENCAPSED_STRING","' `'",271],".",["T_VARIABLE","$this",271],["T_OBJECT_OPERATOR","->",271],["T_STRING","_left",271],".",["T_CONSTANT_ENCAPSED_STRING","'` = IF( `'",271],".",["T_VARIABLE","$this",271],["T_OBJECT_OPERATOR","->",271],["T_STRING","_left",271],".",["T_CONSTANT_ENCAPSED_STRING","'` > :left, `'",271],".",["T_VARIABLE","$this",271],["T_OBJECT_OPERATOR","->",271],["T_STRING","_left",271],".",["T_CONSTANT_ENCAPSED_STRING","'`+2, `'",271],".",["T_VARIABLE","$this",271],["T_OBJECT_OPERATOR","->",271],["T_STRING","_left",271],".",["T_CONSTANT_ENCAPSED_STRING","'`),'",271],["T_WHITESPACE","\n                    ",271],".",["T_WHITESPACE"," ",272],["T_CONSTANT_ENCAPSED_STRING","' `'",272],".",["T_VARIABLE","$this",272],["T_OBJECT_OPERATOR","->",272],["T_STRING","_right",272],".",["T_CONSTANT_ENCAPSED_STRING","'` = IF( `'",272],".",["T_VARIABLE","$this",272],["T_OBJECT_OPERATOR","->",272],["T_STRING","_right",272],".",["T_CONSTANT_ENCAPSED_STRING","'`>= :right, `'",272],".",["T_VARIABLE","$this",272],["T_OBJECT_OPERATOR","->",272],["T_STRING","_right",272],".",["T_CONSTANT_ENCAPSED_STRING","'`+2, `'",272],".",["T_VARIABLE","$this",272],["T_OBJECT_OPERATOR","->",272],["T_STRING","_right",272],".",["T_CONSTANT_ENCAPSED_STRING","'`)'",272],["T_WHITESPACE","\n                    ",272],".",["T_WHITESPACE"," ",273],["T_CONSTANT_ENCAPSED_STRING","' WHERE `'",273],".",["T_VARIABLE","$this",273],["T_OBJECT_OPERATOR","->",273],["T_STRING","_right",273],".",["T_CONSTANT_ENCAPSED_STRING","'` >= :right'",273],";",["T_WHITESPACE","\n\n                ",273],["T_VARIABLE","$this",275],["T_OBJECT_OPERATOR","->",275],["T_STRING","_db",275],["T_OBJECT_OPERATOR","->",275],["T_STRING","query",275],"(",["T_VARIABLE","$sql",275],",",["T_WHITESPACE"," ",275],["T_ARRAY","array",275],"(",["T_CONSTANT_ENCAPSED_STRING","'left'",275],["T_DOUBLE_ARROW","=>",275],["T_VARIABLE","$info",275],"[",["T_VARIABLE","$this",275],["T_OBJECT_OPERATOR","->",275],["T_STRING","_left",275],"]",",",["T_WHITESPACE"," ",275],["T_CONSTANT_ENCAPSED_STRING","'right'",275],["T_DOUBLE_ARROW","=>",275],["T_VARIABLE","$info",275],"[",["T_VARIABLE","$this",275],["T_OBJECT_OPERATOR","->",275],["T_STRING","_right",275],"]",")",")",";",["T_WHITESPACE","\n\n                ",275],["T_VARIABLE","$this",277],["T_OBJECT_OPERATOR","->",277],["T_STRING","_db",277],["T_OBJECT_OPERATOR","->",277],["T_STRING","insert",277],"(",["T_VARIABLE","$this",277],["T_OBJECT_OPERATOR","->",277],["T_STRING","_table",277],",",["T_WHITESPACE"," ",277],["T_VARIABLE","$data",277],")",";",["T_WHITESPACE","\n                ",277],["T_VARIABLE","$this",278],["T_OBJECT_OPERATOR","->",278],["T_STRING","_db",278],["T_OBJECT_OPERATOR","->",278],["T_STRING","commit",278],"(",")",";",["T_WHITESPACE","\n            ",278],"}",["T_WHITESPACE"," ",279],["T_CATCH","catch",279],["T_WHITESPACE"," ",279],"(",["T_STRING","PDOException",279],["T_WHITESPACE"," ",279],["T_VARIABLE","$p",279],")",["T_WHITESPACE"," ",279],"{",["T_WHITESPACE","\n                ",279],["T_VARIABLE","$this",280],["T_OBJECT_OPERATOR","->",280],["T_STRING","_db",280],["T_OBJECT_OPERATOR","->",280],["T_STRING","rollBack",280],"(",")",";",["T_WHITESPACE","\n                ",280],["T_ECHO","echo",281],["T_WHITESPACE"," ",281],["T_VARIABLE","$p",281],["T_OBJECT_OPERATOR","->",281],["T_STRING","getMessage",281],"(",")",";",["T_WHITESPACE","\n                ",281],["T_EXIT","exit",282],"(",")",";",["T_WHITESPACE","\n            ",282],"}",["T_WHITESPACE"," ",283],["T_CATCH","catch",283],["T_WHITESPACE"," ",283],"(",["T_STRING","Exception",283],["T_WHITESPACE"," ",283],["T_VARIABLE","$e",283],")",["T_WHITESPACE"," ",283],"{",["T_WHITESPACE","\n                ",283],["T_VARIABLE","$this",284],["T_OBJECT_OPERATOR","->",284],["T_STRING","_db",284],["T_OBJECT_OPERATOR","->",284],["T_STRING","rollBack",284],"(",")",";",["T_WHITESPACE","\n                ",284],["T_ECHO","echo",285],["T_WHITESPACE"," ",285],["T_VARIABLE","$e",285],["T_OBJECT_OPERATOR","->",285],["T_STRING","getMessage",285],"(",")",";",["T_WHITESPACE","\n                ",285],["T_ECHO","echo",286],["T_WHITESPACE"," ",286],["T_VARIABLE","$sql",286],";",["T_WHITESPACE","\n                ",286],["T_STRING","var_dump",287],"(",["T_VARIABLE","$data",287],")",";",["T_WHITESPACE","\n                ",287],["T_EXIT","exit",288],"(",")",";",["T_WHITESPACE","\n            ",288],"}",["T_WHITESPACE","\n            ",289],["T_COMMENT","\/\/ TODO: change to ZEND LIBRARY\n",290],["T_WHITESPACE","            ",291],["T_VARIABLE","$res",291],["T_WHITESPACE"," ",291],"=",["T_WHITESPACE","  ",291],["T_VARIABLE","$this",291],["T_OBJECT_OPERATOR","->",291],["T_STRING","_db",291],["T_OBJECT_OPERATOR","->",291],["T_STRING","fetchOne",291],"(",["T_CONSTANT_ENCAPSED_STRING","'select last_insert_id()'",291],")",";",["T_WHITESPACE","\n            ",291],["T_RETURN","return",292],["T_WHITESPACE"," ",292],["T_VARIABLE","$res",292],";",["T_WHITESPACE","\n           ",292],["T_COMMENT","\/\/return $this->_db->fetchOne('select last_insert_id()');\n",293],["T_WHITESPACE","            ",294],["T_COMMENT","\/\/return $this->_db->lastInsertId();\n",294],["T_WHITESPACE","        ",295],"}",["T_WHITESPACE","\n        ",295],["T_RETURN","return",296],["T_WHITESPACE","  ",296],["T_STRING","false",296],";",["T_WHITESPACE","\n    ",296],"}",["T_WHITESPACE","\n\n    ",297],["T_PUBLIC","public",299],["T_WHITESPACE"," ",299],["T_FUNCTION","function",299],["T_WHITESPACE"," ",299],["T_STRING","checkNodes",299],"(",")",["T_WHITESPACE"," ",299],"{",["T_WHITESPACE","\n        ",299],["T_VARIABLE","$sql",300],["T_WHITESPACE"," ",300],"=",["T_WHITESPACE"," ",300],["T_VARIABLE","$this",300],["T_OBJECT_OPERATOR","->",300],["T_STRING","_db",300],["T_OBJECT_OPERATOR","->",300],["T_STRING","select",300],"(",")",";",["T_WHITESPACE","\n\n        ",300],["T_VARIABLE","$sql",302],["T_OBJECT_OPERATOR","->",302],["T_STRING","from",302],"(",["T_ARRAY","array",302],"(",["T_CONSTANT_ENCAPSED_STRING","'t1'",302],["T_DOUBLE_ARROW","=>",302],["T_VARIABLE","$this",302],["T_OBJECT_OPERATOR","->",302],["T_STRING","_table",302],")",",",["T_WHITESPACE"," ",302],["T_ARRAY","array",302],"(",["T_CONSTANT_ENCAPSED_STRING","'t1.'",302],".",["T_VARIABLE","$this",302],["T_OBJECT_OPERATOR","->",302],["T_STRING","_id",302],",",["T_WHITESPACE"," ",302],["T_NEW","new",302],["T_WHITESPACE"," ",302],["T_STRING","Zend_Db_Expr",302],"(",["T_CONSTANT_ENCAPSED_STRING","'COUNT(t1.'",302],".",["T_VARIABLE","$this",302],["T_OBJECT_OPERATOR","->",302],["T_STRING","_id",302],".",["T_CONSTANT_ENCAPSED_STRING","') AS rep'",302],")",")",")",["T_WHITESPACE","\n        ",302],["T_OBJECT_OPERATOR","->",303],["T_STRING","from",303],"(",["T_ARRAY","array",303],"(",["T_CONSTANT_ENCAPSED_STRING","'t2'",303],["T_DOUBLE_ARROW","=>",303],["T_VARIABLE","$this",303],["T_OBJECT_OPERATOR","->",303],["T_STRING","_table",303],")",")",["T_WHITESPACE","\n        ",303],["T_OBJECT_OPERATOR","->",304],["T_STRING","from",304],"(",["T_ARRAY","array",304],"(",["T_CONSTANT_ENCAPSED_STRING","'t3'",304],["T_DOUBLE_ARROW","=>",304],["T_VARIABLE","$this",304],["T_OBJECT_OPERATOR","->",304],["T_STRING","_table",304],")",",",["T_WHITESPACE"," ",304],["T_NEW","new",304],["T_WHITESPACE"," ",304],["T_STRING","Zend_Db_Expr",304],"(",["T_CONSTANT_ENCAPSED_STRING","'MAX(t3.'",304],".",["T_VARIABLE","$this",304],["T_OBJECT_OPERATOR","->",304],["T_STRING","_right",304],".",["T_CONSTANT_ENCAPSED_STRING","') AS max_right'",304],")",")",";",["T_WHITESPACE","\n\n\n        ",304],["T_VARIABLE","$sql",307],["T_OBJECT_OPERATOR","->",307],["T_STRING","where",307],"(",["T_CONSTANT_ENCAPSED_STRING","'t1.'",307],".",["T_VARIABLE","$this",307],["T_OBJECT_OPERATOR","->",307],["T_STRING","_left",307],".",["T_CONSTANT_ENCAPSED_STRING","' <> t2.'",307],".",["T_VARIABLE","$this",307],["T_OBJECT_OPERATOR","->",307],["T_STRING","_left",307],")",["T_WHITESPACE","\n        ",307],["T_OBJECT_OPERATOR","->",308],["T_STRING","where",308],"(",["T_CONSTANT_ENCAPSED_STRING","'t1.'",308],".",["T_VARIABLE","$this",308],["T_OBJECT_OPERATOR","->",308],["T_STRING","_left",308],".",["T_CONSTANT_ENCAPSED_STRING","' <> t2.'",308],".",["T_VARIABLE","$this",308],["T_OBJECT_OPERATOR","->",308],["T_STRING","_right",308],")",["T_WHITESPACE","\n        ",308],["T_OBJECT_OPERATOR","->",309],["T_STRING","where",309],"(",["T_CONSTANT_ENCAPSED_STRING","'t1.'",309],".",["T_VARIABLE","$this",309],["T_OBJECT_OPERATOR","->",309],["T_STRING","_right",309],".",["T_CONSTANT_ENCAPSED_STRING","' <> t2.'",309],".",["T_VARIABLE","$this",309],["T_OBJECT_OPERATOR","->",309],["T_STRING","_right",309],")",";",["T_WHITESPACE","\n\n        ",309],["T_VARIABLE","$sql",311],["T_OBJECT_OPERATOR","->",311],["T_STRING","group",311],"(",["T_CONSTANT_ENCAPSED_STRING","'t1.'",311],".",["T_VARIABLE","$this",311],["T_OBJECT_OPERATOR","->",311],["T_STRING","_id",311],")",";",["T_WHITESPACE","\n        ",311],["T_VARIABLE","$sql",312],["T_OBJECT_OPERATOR","->",312],["T_STRING","having",312],"(",["T_CONSTANT_ENCAPSED_STRING","'max_right <> SQRT(4 * rep + 1) + 1'",312],")",";",["T_WHITESPACE","\n\n\n        ",312],["T_RETURN","return",315],["T_WHITESPACE"," ",315],["T_VARIABLE","$this",315],["T_OBJECT_OPERATOR","->",315],["T_STRING","_db",315],["T_OBJECT_OPERATOR","->",315],["T_STRING","fetchAll",315],"(",["T_VARIABLE","$sql",315],")",";",["T_WHITESPACE","\n    ",315],"}",["T_WHITESPACE","\n\n    ",316],["T_PUBLIC","public",318],["T_WHITESPACE"," ",318],["T_FUNCTION","function",318],["T_WHITESPACE"," ",318],["T_STRING","insertBefore",318],"(",["T_VARIABLE","$ID",318],",",["T_WHITESPACE"," ",318],["T_VARIABLE","$data",318],")",["T_WHITESPACE"," ",318],"{",["T_WHITESPACE","\n\n    ",318],"}",["T_WHITESPACE","\n\n    ",320],["T_PUBLIC","public",322],["T_WHITESPACE"," ",322],["T_FUNCTION","function",322],["T_WHITESPACE"," ",322],["T_STRING","removeNode",322],"(",["T_VARIABLE","$ID",322],")",["T_WHITESPACE"," ",322],"{",["T_WHITESPACE","\n\n        ",322],["T_IF","if",324],["T_WHITESPACE"," ",324],"(","!",["T_VARIABLE","$info",324],["T_WHITESPACE"," ",324],"=",["T_WHITESPACE"," ",324],["T_VARIABLE","$this",324],["T_OBJECT_OPERATOR","->",324],["T_STRING","getNodeInfo",324],"(",["T_VARIABLE","$ID",324],")",")",["T_WHITESPACE"," ",324],"{",["T_WHITESPACE","\n            ",324],["T_RETURN","return",325],["T_WHITESPACE"," ",325],["T_STRING","false",325],";",["T_WHITESPACE","\n        ",325],"}",["T_WHITESPACE","\n\n        ",326],["T_IF","if",328],"(",["T_VARIABLE","$ID",328],")",["T_WHITESPACE"," ",328],"{",["T_WHITESPACE","\n            ",328],["T_VARIABLE","$this",329],["T_OBJECT_OPERATOR","->",329],["T_STRING","_db",329],["T_OBJECT_OPERATOR","->",329],["T_STRING","beginTransaction",329],"(",")",";",["T_WHITESPACE","\n            ",329],["T_TRY","try",330],["T_WHITESPACE"," ",330],"{",["T_WHITESPACE","\n                ",330],["T_COMMENT","\/\/ DELETE FROM my_tree WHERE left_key >= $left_key AND right_key <= $right_key\n",331],["T_WHITESPACE","                ",332],["T_VARIABLE","$this",332],["T_OBJECT_OPERATOR","->",332],["T_STRING","_db",332],["T_OBJECT_OPERATOR","->",332],["T_STRING","delete",332],"(",["T_VARIABLE","$this",332],["T_OBJECT_OPERATOR","->",332],["T_STRING","_table",332],",",["T_WHITESPACE"," ",332],["T_VARIABLE","$this",332],["T_OBJECT_OPERATOR","->",332],["T_STRING","_left",332],".",["T_CONSTANT_ENCAPSED_STRING","' >= '",332],".",["T_VARIABLE","$info",332],"[",["T_VARIABLE","$this",332],["T_OBJECT_OPERATOR","->",332],["T_STRING","_left",332],"]",".",["T_CONSTANT_ENCAPSED_STRING","' AND '",332],".",["T_VARIABLE","$this",332],["T_OBJECT_OPERATOR","->",332],["T_STRING","_right",332],".",["T_CONSTANT_ENCAPSED_STRING","' <= '",332],".",["T_VARIABLE","$info",332],"[",["T_VARIABLE","$this",332],["T_OBJECT_OPERATOR","->",332],["T_STRING","_right",332],"]",")",";",["T_WHITESPACE","\n\n                ",332],["T_COMMENT","\/\/ UPDATE my_tree SET left_key = IF(left_key > $left_key, left_key \u00e2\u0080\u0093 ($right_key - $left_key + 1), left_key), right_key = right_key \u00e2\u0080\u0093 ($right_key - $left_key + 1) WHERE right_key > $right_key\n",334],["T_WHITESPACE","                ",335],["T_VARIABLE","$sql",335],["T_WHITESPACE"," ",335],"=",["T_WHITESPACE"," ",335],["T_CONSTANT_ENCAPSED_STRING","'UPDATE '",335],".",["T_VARIABLE","$this",335],["T_OBJECT_OPERATOR","->",335],["T_STRING","_table",335],".",["T_CONSTANT_ENCAPSED_STRING","'\n                    SET\n                        '",335],".",["T_VARIABLE","$this",337],["T_OBJECT_OPERATOR","->",337],["T_STRING","_left",337],".",["T_CONSTANT_ENCAPSED_STRING","' = IF('",337],".",["T_VARIABLE","$this",337],["T_OBJECT_OPERATOR","->",337],["T_STRING","_left",337],".",["T_CONSTANT_ENCAPSED_STRING","' > '",337],".",["T_VARIABLE","$info",337],"[",["T_VARIABLE","$this",337],["T_OBJECT_OPERATOR","->",337],["T_STRING","_left",337],"]",".",["T_CONSTANT_ENCAPSED_STRING","', '",337],".",["T_VARIABLE","$this",337],["T_OBJECT_OPERATOR","->",337],["T_STRING","_left",337],".",["T_CONSTANT_ENCAPSED_STRING","' - '",337],".","(",["T_VARIABLE","$info",337],"[",["T_VARIABLE","$this",337],["T_OBJECT_OPERATOR","->",337],["T_STRING","_right",337],"]",["T_WHITESPACE"," ",337],"-",["T_WHITESPACE"," ",337],["T_VARIABLE","$info",337],"[",["T_VARIABLE","$this",337],["T_OBJECT_OPERATOR","->",337],["T_STRING","_left",337],"]",["T_WHITESPACE"," ",337],"+",["T_WHITESPACE"," ",337],["T_LNUMBER","1",337],")",".",["T_CONSTANT_ENCAPSED_STRING","', '",337],".",["T_VARIABLE","$this",337],["T_OBJECT_OPERATOR","->",337],["T_STRING","_left",337],".",["T_CONSTANT_ENCAPSED_STRING","'),\n                        '",337],".",["T_VARIABLE","$this",338],["T_OBJECT_OPERATOR","->",338],["T_STRING","_right",338],".",["T_CONSTANT_ENCAPSED_STRING","' = '",338],".",["T_VARIABLE","$this",338],["T_OBJECT_OPERATOR","->",338],["T_STRING","_right",338],".",["T_CONSTANT_ENCAPSED_STRING","' - '",338],".","(",["T_VARIABLE","$info",338],"[",["T_VARIABLE","$this",338],["T_OBJECT_OPERATOR","->",338],["T_STRING","_right",338],"]",["T_WHITESPACE"," ",338],"-",["T_WHITESPACE"," ",338],["T_VARIABLE","$info",338],"[",["T_VARIABLE","$this",338],["T_OBJECT_OPERATOR","->",338],["T_STRING","_left",338],"]",["T_WHITESPACE"," ",338],"+",["T_WHITESPACE"," ",338],["T_LNUMBER","1",338],")",".",["T_CONSTANT_ENCAPSED_STRING","'\n                    WHERE\n                        '",338],".",["T_VARIABLE","$this",340],["T_OBJECT_OPERATOR","->",340],["T_STRING","_right",340],".",["T_CONSTANT_ENCAPSED_STRING","' > '",340],".",["T_VARIABLE","$info",340],"[",["T_VARIABLE","$this",340],["T_OBJECT_OPERATOR","->",340],["T_STRING","_right",340],"]",";",["T_WHITESPACE","\n                ",340],["T_VARIABLE","$this",341],["T_OBJECT_OPERATOR","->",341],["T_STRING","_db",341],["T_OBJECT_OPERATOR","->",341],["T_STRING","query",341],"(",["T_VARIABLE","$sql",341],")",";",["T_WHITESPACE","\n                ",341],["T_VARIABLE","$this",342],["T_OBJECT_OPERATOR","->",342],["T_STRING","_db",342],["T_OBJECT_OPERATOR","->",342],["T_STRING","commit",342],"(",")",";",["T_WHITESPACE","\n                ",342],["T_RETURN","return",343],["T_WHITESPACE"," ",343],["T_NEW","new",343],["T_WHITESPACE"," ",343],["T_STRING","Varien_Db_Tree_Node",343],"(",["T_VARIABLE","$info",343],",",["T_WHITESPACE"," ",343],["T_VARIABLE","$this",343],["T_OBJECT_OPERATOR","->",343],["T_STRING","getKeys",343],"(",")",")",";",";",["T_WHITESPACE","\n            ",343],"}",["T_WHITESPACE"," ",344],["T_CATCH","catch",344],["T_WHITESPACE"," ",344],"(",["T_STRING","Exception",344],["T_WHITESPACE"," ",344],["T_VARIABLE","$e",344],")",["T_WHITESPACE"," ",344],"{",["T_WHITESPACE","\n                ",344],["T_VARIABLE","$this",345],["T_OBJECT_OPERATOR","->",345],["T_STRING","_db",345],["T_OBJECT_OPERATOR","->",345],["T_STRING","rollBack",345],"(",")",";",["T_WHITESPACE","\n                ",345],["T_ECHO","echo",346],["T_WHITESPACE"," ",346],["T_VARIABLE","$e",346],["T_OBJECT_OPERATOR","->",346],["T_STRING","getMessage",346],"(",")",";",["T_WHITESPACE","\n            ",346],"}",["T_WHITESPACE","\n        ",347],"}",["T_WHITESPACE","\n    ",348],"}",["T_WHITESPACE","\n\n\n    ",349],["T_PUBLIC","public",352],["T_WHITESPACE"," ",352],["T_FUNCTION","function",352],["T_WHITESPACE"," ",352],["T_STRING","moveNode",352],"(",["T_VARIABLE","$eId",352],",",["T_WHITESPACE"," ",352],["T_VARIABLE","$pId",352],",",["T_WHITESPACE"," ",352],["T_VARIABLE","$aId",352],["T_WHITESPACE"," ",352],"=",["T_WHITESPACE"," ",352],["T_LNUMBER","0",352],")",["T_WHITESPACE"," ",352],"{",["T_WHITESPACE","\n\n        ",352],["T_VARIABLE","$eInfo",354],["T_WHITESPACE"," ",354],"=",["T_WHITESPACE"," ",354],["T_VARIABLE","$this",354],["T_OBJECT_OPERATOR","->",354],["T_STRING","getNodeInfo",354],"(",["T_VARIABLE","$eId",354],")",";",["T_WHITESPACE","\n        ",354],["T_VARIABLE","$pInfo",355],["T_WHITESPACE"," ",355],"=",["T_WHITESPACE"," ",355],["T_VARIABLE","$this",355],["T_OBJECT_OPERATOR","->",355],["T_STRING","getNodeInfo",355],"(",["T_VARIABLE","$pId",355],")",";",["T_WHITESPACE","\n\n\n        ",355],["T_VARIABLE","$leftId",358],["T_WHITESPACE"," ",358],"=",["T_WHITESPACE"," ",358],["T_VARIABLE","$eInfo",358],"[",["T_VARIABLE","$this",358],["T_OBJECT_OPERATOR","->",358],["T_STRING","_left",358],"]",";",["T_WHITESPACE","\n        ",358],["T_VARIABLE","$rightId",359],["T_WHITESPACE"," ",359],"=",["T_WHITESPACE"," ",359],["T_VARIABLE","$eInfo",359],"[",["T_VARIABLE","$this",359],["T_OBJECT_OPERATOR","->",359],["T_STRING","_right",359],"]",";",["T_WHITESPACE","\n        ",359],["T_VARIABLE","$level",360],["T_WHITESPACE"," ",360],"=",["T_WHITESPACE"," ",360],["T_VARIABLE","$eInfo",360],"[",["T_VARIABLE","$this",360],["T_OBJECT_OPERATOR","->",360],["T_STRING","_level",360],"]",";",["T_WHITESPACE","\n\n        ",360],["T_VARIABLE","$leftIdP",362],["T_WHITESPACE"," ",362],"=",["T_WHITESPACE"," ",362],["T_VARIABLE","$pInfo",362],"[",["T_VARIABLE","$this",362],["T_OBJECT_OPERATOR","->",362],["T_STRING","_left",362],"]",";",["T_WHITESPACE","\n        ",362],["T_VARIABLE","$rightIdP",363],["T_WHITESPACE"," ",363],"=",["T_WHITESPACE"," ",363],["T_VARIABLE","$pInfo",363],"[",["T_VARIABLE","$this",363],["T_OBJECT_OPERATOR","->",363],["T_STRING","_right",363],"]",";",["T_WHITESPACE","\n        ",363],["T_VARIABLE","$levelP",364],["T_WHITESPACE"," ",364],"=",["T_WHITESPACE"," ",364],["T_VARIABLE","$pInfo",364],"[",["T_VARIABLE","$this",364],["T_OBJECT_OPERATOR","->",364],["T_STRING","_level",364],"]",";",["T_WHITESPACE","\n\n        ",364],["T_IF","if",366],["T_WHITESPACE"," ",366],"(",["T_VARIABLE","$eId",366],["T_WHITESPACE"," ",366],["T_IS_EQUAL","==",366],["T_WHITESPACE"," ",366],["T_VARIABLE","$pId",366],["T_WHITESPACE"," ",366],["T_BOOLEAN_OR","||",366],["T_WHITESPACE"," ",366],["T_VARIABLE","$leftId",366],["T_WHITESPACE"," ",366],["T_IS_EQUAL","==",366],["T_WHITESPACE"," ",366],["T_VARIABLE","$leftIdP",366],["T_WHITESPACE"," ",366],["T_BOOLEAN_OR","||",366],["T_WHITESPACE"," ",366],"(",["T_VARIABLE","$leftIdP",366],["T_WHITESPACE"," ",366],["T_IS_GREATER_OR_EQUAL",">=",366],["T_WHITESPACE"," ",366],["T_VARIABLE","$leftId",366],["T_WHITESPACE"," ",366],["T_BOOLEAN_AND","&&",366],["T_WHITESPACE"," ",366],["T_VARIABLE","$leftIdP",366],["T_WHITESPACE"," ",366],["T_IS_SMALLER_OR_EQUAL","<=",366],["T_WHITESPACE"," ",366],["T_VARIABLE","$rightId",366],")",["T_WHITESPACE"," ",366],["T_BOOLEAN_OR","||",366],["T_WHITESPACE"," ",366],"(",["T_VARIABLE","$level",366],["T_WHITESPACE"," ",366],["T_IS_EQUAL","==",366],["T_WHITESPACE"," ",366],["T_VARIABLE","$levelP",366],"+",["T_LNUMBER","1",366],["T_WHITESPACE"," ",366],["T_BOOLEAN_AND","&&",366],["T_WHITESPACE"," ",366],["T_VARIABLE","$leftId",366],["T_WHITESPACE"," ",366],">",["T_WHITESPACE"," ",366],["T_VARIABLE","$leftIdP",366],["T_WHITESPACE"," ",366],["T_BOOLEAN_AND","&&",366],["T_WHITESPACE"," ",366],["T_VARIABLE","$rightId",366],["T_WHITESPACE"," ",366],"<",["T_WHITESPACE"," ",366],["T_VARIABLE","$rightIdP",366],")",")",["T_WHITESPACE"," ",366],"{",["T_WHITESPACE","\n            ",366],["T_ECHO","echo",367],["T_WHITESPACE"," ",367],["T_CONSTANT_ENCAPSED_STRING","\"alert('cant_move_tree');\"",367],";",["T_WHITESPACE","\n            ",367],["T_RETURN","return",368],["T_WHITESPACE"," ",368],["T_STRING","FALSE",368],";",["T_WHITESPACE","\n        ",368],"}",["T_WHITESPACE","\n\n        ",369],["T_IF","if",371],["T_WHITESPACE"," ",371],"(",["T_VARIABLE","$leftIdP",371],["T_WHITESPACE"," ",371],"<",["T_WHITESPACE"," ",371],["T_VARIABLE","$leftId",371],["T_WHITESPACE"," ",371],["T_BOOLEAN_AND","&&",371],["T_WHITESPACE"," ",371],["T_VARIABLE","$rightIdP",371],["T_WHITESPACE"," ",371],">",["T_WHITESPACE"," ",371],["T_VARIABLE","$rightId",371],["T_WHITESPACE"," ",371],["T_BOOLEAN_AND","&&",371],["T_WHITESPACE"," ",371],["T_VARIABLE","$levelP",371],["T_WHITESPACE"," ",371],"<",["T_WHITESPACE"," ",371],["T_VARIABLE","$level",371],["T_WHITESPACE"," ",371],"-",["T_WHITESPACE"," ",371],["T_LNUMBER","1",371],")",["T_WHITESPACE"," ",371],"{",["T_WHITESPACE","\n            ",371],["T_VARIABLE","$sql",372],["T_WHITESPACE"," ",372],"=",["T_WHITESPACE"," ",372],["T_CONSTANT_ENCAPSED_STRING","'UPDATE '",372],".",["T_VARIABLE","$this",372],["T_OBJECT_OPERATOR","->",372],["T_STRING","_table",372],".",["T_CONSTANT_ENCAPSED_STRING","' SET '",372],["T_WHITESPACE","\n            ",372],".",["T_WHITESPACE"," ",373],["T_VARIABLE","$this",373],["T_OBJECT_OPERATOR","->",373],["T_STRING","_level",373],["T_WHITESPACE"," ",373],".",["T_WHITESPACE"," ",373],["T_CONSTANT_ENCAPSED_STRING","' = CASE WHEN '",373],["T_WHITESPACE"," ",373],".",["T_WHITESPACE"," ",373],["T_VARIABLE","$this",373],["T_OBJECT_OPERATOR","->",373],["T_STRING","_left",373],["T_WHITESPACE"," ",373],".",["T_WHITESPACE"," ",373],["T_CONSTANT_ENCAPSED_STRING","' BETWEEN '",373],["T_WHITESPACE"," ",373],".",["T_WHITESPACE"," ",373],["T_VARIABLE","$leftId",373],["T_WHITESPACE"," ",373],".",["T_WHITESPACE"," ",373],["T_CONSTANT_ENCAPSED_STRING","' AND '",373],["T_WHITESPACE"," ",373],".",["T_WHITESPACE"," ",373],["T_VARIABLE","$rightId",373],["T_WHITESPACE"," ",373],".",["T_WHITESPACE"," ",373],["T_CONSTANT_ENCAPSED_STRING","' THEN '",373],["T_WHITESPACE"," ",373],".",["T_WHITESPACE"," ",373],["T_VARIABLE","$this",373],["T_OBJECT_OPERATOR","->",373],["T_STRING","_level",373],".",["T_STRING","sprintf",373],"(",["T_CONSTANT_ENCAPSED_STRING","'%+d'",373],",",["T_WHITESPACE"," ",373],"-","(",["T_VARIABLE","$level",373],"-",["T_LNUMBER","1",373],")","+",["T_VARIABLE","$levelP",373],")",["T_WHITESPACE"," ",373],".",["T_WHITESPACE"," ",373],["T_CONSTANT_ENCAPSED_STRING","' ELSE '",373],["T_WHITESPACE"," ",373],".",["T_WHITESPACE"," ",373],["T_VARIABLE","$this",373],["T_OBJECT_OPERATOR","->",373],["T_STRING","_level",373],["T_WHITESPACE"," ",373],".",["T_WHITESPACE"," ",373],["T_CONSTANT_ENCAPSED_STRING","' END, '",373],["T_WHITESPACE","\n            ",373],".",["T_WHITESPACE"," ",374],["T_VARIABLE","$this",374],["T_OBJECT_OPERATOR","->",374],["T_STRING","_right",374],["T_WHITESPACE"," ",374],".",["T_WHITESPACE"," ",374],["T_CONSTANT_ENCAPSED_STRING","' = CASE WHEN '",374],["T_WHITESPACE"," ",374],".",["T_WHITESPACE"," ",374],["T_VARIABLE","$this",374],["T_OBJECT_OPERATOR","->",374],["T_STRING","_right",374],["T_WHITESPACE"," ",374],".",["T_WHITESPACE"," ",374],["T_CONSTANT_ENCAPSED_STRING","' BETWEEN '",374],["T_WHITESPACE"," ",374],".",["T_WHITESPACE"," ",374],"(",["T_VARIABLE","$rightId",374],"+",["T_LNUMBER","1",374],")",["T_WHITESPACE"," ",374],".",["T_WHITESPACE"," ",374],["T_CONSTANT_ENCAPSED_STRING","' AND '",374],["T_WHITESPACE"," ",374],".",["T_WHITESPACE"," ",374],"(",["T_VARIABLE","$rightIdP",374],"-",["T_LNUMBER","1",374],")",["T_WHITESPACE"," ",374],".",["T_WHITESPACE"," ",374],["T_CONSTANT_ENCAPSED_STRING","' THEN '",374],["T_WHITESPACE"," ",374],".",["T_WHITESPACE"," ",374],["T_VARIABLE","$this",374],["T_OBJECT_OPERATOR","->",374],["T_STRING","_right",374],["T_WHITESPACE"," ",374],".",["T_WHITESPACE"," ",374],["T_CONSTANT_ENCAPSED_STRING","'-'",374],["T_WHITESPACE"," ",374],".",["T_WHITESPACE"," ",374],"(",["T_VARIABLE","$rightId",374],"-",["T_VARIABLE","$leftId",374],"+",["T_LNUMBER","1",374],")",["T_WHITESPACE"," ",374],".",["T_WHITESPACE"," ",374],["T_CONSTANT_ENCAPSED_STRING","' '",374],["T_WHITESPACE","\n            ",374],".",["T_WHITESPACE"," ",375],["T_CONSTANT_ENCAPSED_STRING","'WHEN '",375],["T_WHITESPACE"," ",375],".",["T_WHITESPACE"," ",375],["T_VARIABLE","$this",375],["T_OBJECT_OPERATOR","->",375],["T_STRING","_left",375],["T_WHITESPACE"," ",375],".",["T_WHITESPACE"," ",375],["T_CONSTANT_ENCAPSED_STRING","' BETWEEN '",375],["T_WHITESPACE"," ",375],".",["T_WHITESPACE"," ",375],["T_VARIABLE","$leftId",375],["T_WHITESPACE"," ",375],".",["T_WHITESPACE"," ",375],["T_CONSTANT_ENCAPSED_STRING","' AND '",375],["T_WHITESPACE"," ",375],".",["T_WHITESPACE"," ",375],["T_VARIABLE","$rightId",375],["T_WHITESPACE"," ",375],".",["T_WHITESPACE"," ",375],["T_CONSTANT_ENCAPSED_STRING","' THEN '",375],["T_WHITESPACE"," ",375],".",["T_WHITESPACE"," ",375],["T_VARIABLE","$this",375],["T_OBJECT_OPERATOR","->",375],["T_STRING","_right",375],["T_WHITESPACE"," ",375],".",["T_WHITESPACE"," ",375],["T_CONSTANT_ENCAPSED_STRING","'+'",375],["T_WHITESPACE"," ",375],".",["T_WHITESPACE"," ",375],"(","(","(",["T_VARIABLE","$rightIdP",375],"-",["T_VARIABLE","$rightId",375],"-",["T_VARIABLE","$level",375],"+",["T_VARIABLE","$levelP",375],")","\/",["T_LNUMBER","2",375],")","*",["T_LNUMBER","2",375],"+",["T_VARIABLE","$level",375],"-",["T_VARIABLE","$levelP",375],"-",["T_LNUMBER","1",375],")",["T_WHITESPACE"," ",375],".",["T_WHITESPACE"," ",375],["T_CONSTANT_ENCAPSED_STRING","' ELSE '",375],["T_WHITESPACE"," ",375],".",["T_WHITESPACE"," ",375],["T_VARIABLE","$this",375],["T_OBJECT_OPERATOR","->",375],["T_STRING","_right",375],["T_WHITESPACE"," ",375],".",["T_WHITESPACE"," ",375],["T_CONSTANT_ENCAPSED_STRING","' END, '",375],["T_WHITESPACE","\n            ",375],".",["T_WHITESPACE"," ",376],["T_VARIABLE","$this",376],["T_OBJECT_OPERATOR","->",376],["T_STRING","_left",376],["T_WHITESPACE"," ",376],".",["T_WHITESPACE"," ",376],["T_CONSTANT_ENCAPSED_STRING","' = CASE WHEN '",376],["T_WHITESPACE"," ",376],".",["T_WHITESPACE"," ",376],["T_VARIABLE","$this",376],["T_OBJECT_OPERATOR","->",376],["T_STRING","_left",376],["T_WHITESPACE"," ",376],".",["T_WHITESPACE"," ",376],["T_CONSTANT_ENCAPSED_STRING","' BETWEEN '",376],["T_WHITESPACE"," ",376],".",["T_WHITESPACE"," ",376],"(",["T_VARIABLE","$rightId",376],"+",["T_LNUMBER","1",376],")",["T_WHITESPACE"," ",376],".",["T_WHITESPACE"," ",376],["T_CONSTANT_ENCAPSED_STRING","' AND '",376],["T_WHITESPACE"," ",376],".",["T_WHITESPACE"," ",376],"(",["T_VARIABLE","$rightIdP",376],"-",["T_LNUMBER","1",376],")",["T_WHITESPACE"," ",376],".",["T_WHITESPACE"," ",376],["T_CONSTANT_ENCAPSED_STRING","' THEN '",376],["T_WHITESPACE"," ",376],".",["T_WHITESPACE"," ",376],["T_VARIABLE","$this",376],["T_OBJECT_OPERATOR","->",376],["T_STRING","_left",376],["T_WHITESPACE"," ",376],".",["T_WHITESPACE"," ",376],["T_CONSTANT_ENCAPSED_STRING","'-'",376],["T_WHITESPACE"," ",376],".",["T_WHITESPACE"," ",376],"(",["T_VARIABLE","$rightId",376],"-",["T_VARIABLE","$leftId",376],"+",["T_LNUMBER","1",376],")",["T_WHITESPACE"," ",376],".",["T_WHITESPACE"," ",376],["T_CONSTANT_ENCAPSED_STRING","' '",376],["T_WHITESPACE","\n            ",376],".",["T_WHITESPACE"," ",377],["T_CONSTANT_ENCAPSED_STRING","'WHEN '",377],["T_WHITESPACE"," ",377],".",["T_WHITESPACE"," ",377],["T_VARIABLE","$this",377],["T_OBJECT_OPERATOR","->",377],["T_STRING","_left",377],["T_WHITESPACE"," ",377],".",["T_WHITESPACE"," ",377],["T_CONSTANT_ENCAPSED_STRING","' BETWEEN '",377],["T_WHITESPACE"," ",377],".",["T_WHITESPACE"," ",377],["T_VARIABLE","$leftId",377],["T_WHITESPACE"," ",377],".",["T_WHITESPACE"," ",377],["T_CONSTANT_ENCAPSED_STRING","' AND '",377],["T_WHITESPACE"," ",377],".",["T_WHITESPACE"," ",377],["T_VARIABLE","$rightId",377],["T_WHITESPACE"," ",377],".",["T_WHITESPACE"," ",377],["T_CONSTANT_ENCAPSED_STRING","' THEN '",377],["T_WHITESPACE"," ",377],".",["T_WHITESPACE"," ",377],["T_VARIABLE","$this",377],["T_OBJECT_OPERATOR","->",377],["T_STRING","_left",377],["T_WHITESPACE"," ",377],".",["T_WHITESPACE"," ",377],["T_CONSTANT_ENCAPSED_STRING","'+'",377],["T_WHITESPACE"," ",377],".",["T_WHITESPACE"," ",377],"(","(","(",["T_VARIABLE","$rightIdP",377],"-",["T_VARIABLE","$rightId",377],"-",["T_VARIABLE","$level",377],"+",["T_VARIABLE","$levelP",377],")","\/",["T_LNUMBER","2",377],")","*",["T_LNUMBER","2",377],"+",["T_VARIABLE","$level",377],"-",["T_VARIABLE","$levelP",377],"-",["T_LNUMBER","1",377],")",["T_WHITESPACE"," ",377],".",["T_WHITESPACE"," ",377],["T_CONSTANT_ENCAPSED_STRING","' ELSE '",377],["T_WHITESPACE"," ",377],".",["T_WHITESPACE"," ",377],["T_VARIABLE","$this",377],["T_OBJECT_OPERATOR","->",377],["T_STRING","_left",377],["T_WHITESPACE"," ",377],".",["T_WHITESPACE"," ",377],["T_CONSTANT_ENCAPSED_STRING","' END '",377],["T_WHITESPACE","\n            ",377],".",["T_WHITESPACE"," ",378],["T_CONSTANT_ENCAPSED_STRING","'WHERE '",378],["T_WHITESPACE"," ",378],".",["T_WHITESPACE"," ",378],["T_VARIABLE","$this",378],["T_OBJECT_OPERATOR","->",378],["T_STRING","_left",378],["T_WHITESPACE"," ",378],".",["T_WHITESPACE"," ",378],["T_CONSTANT_ENCAPSED_STRING","' BETWEEN '",378],["T_WHITESPACE"," ",378],".",["T_WHITESPACE"," ",378],"(",["T_VARIABLE","$leftIdP",378],"+",["T_LNUMBER","1",378],")",["T_WHITESPACE"," ",378],".",["T_WHITESPACE"," ",378],["T_CONSTANT_ENCAPSED_STRING","' AND '",378],["T_WHITESPACE"," ",378],".",["T_WHITESPACE"," ",378],"(",["T_VARIABLE","$rightIdP",378],"-",["T_LNUMBER","1",378],")",";",["T_WHITESPACE","\n        ",378],"}",["T_WHITESPACE"," ",379],["T_ELSEIF","elseif",379],["T_WHITESPACE"," ",379],"(",["T_VARIABLE","$leftIdP",379],["T_WHITESPACE"," ",379],"<",["T_WHITESPACE"," ",379],["T_VARIABLE","$leftId",379],")",["T_WHITESPACE"," ",379],"{",["T_WHITESPACE","\n            ",379],["T_VARIABLE","$sql",380],["T_WHITESPACE"," ",380],"=",["T_WHITESPACE"," ",380],["T_CONSTANT_ENCAPSED_STRING","'UPDATE '",380],["T_WHITESPACE"," ",380],".",["T_WHITESPACE"," ",380],["T_VARIABLE","$this",380],["T_OBJECT_OPERATOR","->",380],["T_STRING","_table",380],["T_WHITESPACE"," ",380],".",["T_WHITESPACE"," ",380],["T_CONSTANT_ENCAPSED_STRING","' SET '",380],["T_WHITESPACE","\n            ",380],".",["T_WHITESPACE"," ",381],["T_VARIABLE","$this",381],["T_OBJECT_OPERATOR","->",381],["T_STRING","_level",381],["T_WHITESPACE"," ",381],".",["T_WHITESPACE"," ",381],["T_CONSTANT_ENCAPSED_STRING","' = CASE WHEN '",381],["T_WHITESPACE"," ",381],".",["T_WHITESPACE"," ",381],["T_VARIABLE","$this",381],["T_OBJECT_OPERATOR","->",381],["T_STRING","_left",381],["T_WHITESPACE"," ",381],".",["T_WHITESPACE"," ",381],["T_CONSTANT_ENCAPSED_STRING","' BETWEEN '",381],["T_WHITESPACE"," ",381],".",["T_WHITESPACE"," ",381],["T_VARIABLE","$leftId",381],["T_WHITESPACE"," ",381],".",["T_WHITESPACE"," ",381],["T_CONSTANT_ENCAPSED_STRING","' AND '",381],["T_WHITESPACE"," ",381],".",["T_WHITESPACE"," ",381],["T_VARIABLE","$rightId",381],["T_WHITESPACE"," ",381],".",["T_WHITESPACE"," ",381],["T_CONSTANT_ENCAPSED_STRING","' THEN '",381],["T_WHITESPACE"," ",381],".",["T_WHITESPACE"," ",381],["T_VARIABLE","$this",381],["T_OBJECT_OPERATOR","->",381],["T_STRING","_level",381],".",["T_STRING","sprintf",381],"(",["T_CONSTANT_ENCAPSED_STRING","'%+d'",381],",",["T_WHITESPACE"," ",381],"-","(",["T_VARIABLE","$level",381],"-",["T_LNUMBER","1",381],")","+",["T_VARIABLE","$levelP",381],")",["T_WHITESPACE"," ",381],".",["T_WHITESPACE"," ",381],["T_CONSTANT_ENCAPSED_STRING","' ELSE '",381],["T_WHITESPACE"," ",381],".",["T_WHITESPACE"," ",381],["T_VARIABLE","$this",381],["T_OBJECT_OPERATOR","->",381],["T_STRING","_level",381],["T_WHITESPACE"," ",381],".",["T_WHITESPACE"," ",381],["T_CONSTANT_ENCAPSED_STRING","' END, '",381],["T_WHITESPACE","\n            ",381],".",["T_WHITESPACE"," ",382],["T_VARIABLE","$this",382],["T_OBJECT_OPERATOR","->",382],["T_STRING","_left",382],["T_WHITESPACE"," ",382],".",["T_WHITESPACE"," ",382],["T_CONSTANT_ENCAPSED_STRING","' = CASE WHEN '",382],["T_WHITESPACE"," ",382],".",["T_WHITESPACE"," ",382],["T_VARIABLE","$this",382],["T_OBJECT_OPERATOR","->",382],["T_STRING","_left",382],["T_WHITESPACE"," ",382],".",["T_WHITESPACE"," ",382],["T_CONSTANT_ENCAPSED_STRING","' BETWEEN '",382],["T_WHITESPACE"," ",382],".",["T_WHITESPACE"," ",382],["T_VARIABLE","$rightIdP",382],["T_WHITESPACE"," ",382],".",["T_WHITESPACE"," ",382],["T_CONSTANT_ENCAPSED_STRING","' AND '",382],["T_WHITESPACE"," ",382],".",["T_WHITESPACE"," ",382],"(",["T_VARIABLE","$leftId",382],"-",["T_LNUMBER","1",382],")",["T_WHITESPACE"," ",382],".",["T_WHITESPACE"," ",382],["T_CONSTANT_ENCAPSED_STRING","' THEN '",382],["T_WHITESPACE"," ",382],".",["T_WHITESPACE"," ",382],["T_VARIABLE","$this",382],["T_OBJECT_OPERATOR","->",382],["T_STRING","_left",382],["T_WHITESPACE"," ",382],".",["T_WHITESPACE"," ",382],["T_CONSTANT_ENCAPSED_STRING","'+'",382],["T_WHITESPACE"," ",382],".",["T_WHITESPACE"," ",382],"(",["T_VARIABLE","$rightId",382],"-",["T_VARIABLE","$leftId",382],"+",["T_LNUMBER","1",382],")",["T_WHITESPACE"," ",382],".",["T_WHITESPACE"," ",382],["T_CONSTANT_ENCAPSED_STRING","' '",382],["T_WHITESPACE","\n            ",382],".",["T_WHITESPACE"," ",383],["T_CONSTANT_ENCAPSED_STRING","'WHEN '",383],["T_WHITESPACE"," ",383],".",["T_WHITESPACE"," ",383],["T_VARIABLE","$this",383],["T_OBJECT_OPERATOR","->",383],["T_STRING","_left",383],["T_WHITESPACE"," ",383],".",["T_WHITESPACE"," ",383],["T_CONSTANT_ENCAPSED_STRING","' BETWEEN '",383],["T_WHITESPACE"," ",383],".",["T_WHITESPACE"," ",383],["T_VARIABLE","$leftId",383],["T_WHITESPACE"," ",383],".",["T_WHITESPACE"," ",383],["T_CONSTANT_ENCAPSED_STRING","' AND '",383],["T_WHITESPACE"," ",383],".",["T_WHITESPACE"," ",383],["T_VARIABLE","$rightId",383],["T_WHITESPACE"," ",383],".",["T_WHITESPACE"," ",383],["T_CONSTANT_ENCAPSED_STRING","' THEN '",383],["T_WHITESPACE"," ",383],".",["T_WHITESPACE"," ",383],["T_VARIABLE","$this",383],["T_OBJECT_OPERATOR","->",383],["T_STRING","_left",383],["T_WHITESPACE"," ",383],".",["T_WHITESPACE"," ",383],["T_CONSTANT_ENCAPSED_STRING","'-'",383],["T_WHITESPACE"," ",383],".",["T_WHITESPACE"," ",383],"(",["T_VARIABLE","$leftId",383],"-",["T_VARIABLE","$rightIdP",383],")",["T_WHITESPACE"," ",383],".",["T_WHITESPACE"," ",383],["T_CONSTANT_ENCAPSED_STRING","' ELSE '",383],["T_WHITESPACE"," ",383],".",["T_WHITESPACE"," ",383],["T_VARIABLE","$this",383],["T_OBJECT_OPERATOR","->",383],["T_STRING","_left",383],["T_WHITESPACE"," ",383],".",["T_WHITESPACE"," ",383],["T_CONSTANT_ENCAPSED_STRING","' END, '",383],["T_WHITESPACE","\n            ",383],".",["T_WHITESPACE"," ",384],["T_VARIABLE","$this",384],["T_OBJECT_OPERATOR","->",384],["T_STRING","_right",384],["T_WHITESPACE"," ",384],".",["T_WHITESPACE"," ",384],["T_CONSTANT_ENCAPSED_STRING","' = CASE WHEN '",384],["T_WHITESPACE"," ",384],".",["T_WHITESPACE"," ",384],["T_VARIABLE","$this",384],["T_OBJECT_OPERATOR","->",384],["T_STRING","_right",384],["T_WHITESPACE"," ",384],".",["T_WHITESPACE"," ",384],["T_CONSTANT_ENCAPSED_STRING","' BETWEEN '",384],["T_WHITESPACE"," ",384],".",["T_WHITESPACE"," ",384],["T_VARIABLE","$rightIdP",384],["T_WHITESPACE"," ",384],".",["T_WHITESPACE"," ",384],["T_CONSTANT_ENCAPSED_STRING","' AND '",384],["T_WHITESPACE"," ",384],".",["T_WHITESPACE"," ",384],["T_VARIABLE","$leftId",384],["T_WHITESPACE"," ",384],".",["T_WHITESPACE"," ",384],["T_CONSTANT_ENCAPSED_STRING","' THEN '",384],["T_WHITESPACE"," ",384],".",["T_WHITESPACE"," ",384],["T_VARIABLE","$this",384],["T_OBJECT_OPERATOR","->",384],["T_STRING","_right",384],["T_WHITESPACE"," ",384],".",["T_WHITESPACE"," ",384],["T_CONSTANT_ENCAPSED_STRING","'+'",384],["T_WHITESPACE"," ",384],".",["T_WHITESPACE"," ",384],"(",["T_VARIABLE","$rightId",384],"-",["T_VARIABLE","$leftId",384],"+",["T_LNUMBER","1",384],")",["T_WHITESPACE"," ",384],".",["T_WHITESPACE"," ",384],["T_CONSTANT_ENCAPSED_STRING","' '",384],["T_WHITESPACE","\n            ",384],".",["T_WHITESPACE"," ",385],["T_CONSTANT_ENCAPSED_STRING","'WHEN '",385],["T_WHITESPACE"," ",385],".",["T_WHITESPACE"," ",385],["T_VARIABLE","$this",385],["T_OBJECT_OPERATOR","->",385],["T_STRING","_right",385],["T_WHITESPACE"," ",385],".",["T_WHITESPACE"," ",385],["T_CONSTANT_ENCAPSED_STRING","' BETWEEN '",385],["T_WHITESPACE"," ",385],".",["T_WHITESPACE"," ",385],["T_VARIABLE","$leftId",385],["T_WHITESPACE"," ",385],".",["T_WHITESPACE"," ",385],["T_CONSTANT_ENCAPSED_STRING","' AND '",385],["T_WHITESPACE"," ",385],".",["T_WHITESPACE"," ",385],["T_VARIABLE","$rightId",385],["T_WHITESPACE"," ",385],".",["T_WHITESPACE"," ",385],["T_CONSTANT_ENCAPSED_STRING","' THEN '",385],["T_WHITESPACE"," ",385],".",["T_WHITESPACE"," ",385],["T_VARIABLE","$this",385],["T_OBJECT_OPERATOR","->",385],["T_STRING","_right",385],["T_WHITESPACE"," ",385],".",["T_WHITESPACE"," ",385],["T_CONSTANT_ENCAPSED_STRING","'-'",385],["T_WHITESPACE"," ",385],".",["T_WHITESPACE"," ",385],"(",["T_VARIABLE","$leftId",385],"-",["T_VARIABLE","$rightIdP",385],")",["T_WHITESPACE"," ",385],".",["T_WHITESPACE"," ",385],["T_CONSTANT_ENCAPSED_STRING","' ELSE '",385],["T_WHITESPACE"," ",385],".",["T_WHITESPACE"," ",385],["T_VARIABLE","$this",385],["T_OBJECT_OPERATOR","->",385],["T_STRING","_right",385],["T_WHITESPACE"," ",385],".",["T_WHITESPACE"," ",385],["T_CONSTANT_ENCAPSED_STRING","' END '",385],["T_WHITESPACE","\n            ",385],".",["T_WHITESPACE"," ",386],["T_CONSTANT_ENCAPSED_STRING","'WHERE ('",386],["T_WHITESPACE"," ",386],".",["T_WHITESPACE"," ",386],["T_VARIABLE","$this",386],["T_OBJECT_OPERATOR","->",386],["T_STRING","_left",386],["T_WHITESPACE"," ",386],".",["T_WHITESPACE"," ",386],["T_CONSTANT_ENCAPSED_STRING","' BETWEEN '",386],["T_WHITESPACE"," ",386],".",["T_WHITESPACE"," ",386],["T_VARIABLE","$leftIdP",386],["T_WHITESPACE"," ",386],".",["T_WHITESPACE"," ",386],["T_CONSTANT_ENCAPSED_STRING","' AND '",386],["T_WHITESPACE"," ",386],".",["T_WHITESPACE"," ",386],["T_VARIABLE","$rightId",386],".",["T_WHITESPACE"," ",386],["T_CONSTANT_ENCAPSED_STRING","' '",386],["T_WHITESPACE","\n            ",386],".",["T_WHITESPACE"," ",387],["T_CONSTANT_ENCAPSED_STRING","'OR '",387],["T_WHITESPACE"," ",387],".",["T_WHITESPACE"," ",387],["T_VARIABLE","$this",387],["T_OBJECT_OPERATOR","->",387],["T_STRING","_right",387],["T_WHITESPACE"," ",387],".",["T_WHITESPACE"," ",387],["T_CONSTANT_ENCAPSED_STRING","' BETWEEN '",387],["T_WHITESPACE"," ",387],".",["T_WHITESPACE"," ",387],["T_VARIABLE","$leftIdP",387],["T_WHITESPACE"," ",387],".",["T_WHITESPACE"," ",387],["T_CONSTANT_ENCAPSED_STRING","' AND '",387],["T_WHITESPACE"," ",387],".",["T_WHITESPACE"," ",387],["T_VARIABLE","$rightId",387],["T_WHITESPACE"," ",387],".",["T_WHITESPACE"," ",387],["T_CONSTANT_ENCAPSED_STRING","')'",387],";",["T_WHITESPACE","\n        ",387],"}",["T_WHITESPACE"," ",388],["T_ELSE","else",388],["T_WHITESPACE"," ",388],"{",["T_WHITESPACE","\n            ",388],["T_VARIABLE","$sql",389],["T_WHITESPACE"," ",389],"=",["T_WHITESPACE"," ",389],["T_CONSTANT_ENCAPSED_STRING","'UPDATE '",389],["T_WHITESPACE"," ",389],".",["T_WHITESPACE"," ",389],["T_VARIABLE","$this",389],["T_OBJECT_OPERATOR","->",389],["T_STRING","_table",389],["T_WHITESPACE"," ",389],".",["T_WHITESPACE"," ",389],["T_CONSTANT_ENCAPSED_STRING","' SET '",389],["T_WHITESPACE","\n            ",389],".",["T_WHITESPACE"," ",390],["T_VARIABLE","$this",390],["T_OBJECT_OPERATOR","->",390],["T_STRING","_level",390],["T_WHITESPACE"," ",390],".",["T_WHITESPACE"," ",390],["T_CONSTANT_ENCAPSED_STRING","' = CASE WHEN '",390],["T_WHITESPACE"," ",390],".",["T_WHITESPACE"," ",390],["T_VARIABLE","$this",390],["T_OBJECT_OPERATOR","->",390],["T_STRING","_left",390],["T_WHITESPACE"," ",390],".",["T_WHITESPACE"," ",390],["T_CONSTANT_ENCAPSED_STRING","' BETWEEN '",390],["T_WHITESPACE"," ",390],".",["T_WHITESPACE"," ",390],["T_VARIABLE","$leftId",390],["T_WHITESPACE"," ",390],".",["T_WHITESPACE"," ",390],["T_CONSTANT_ENCAPSED_STRING","' AND '",390],["T_WHITESPACE"," ",390],".",["T_WHITESPACE"," ",390],["T_VARIABLE","$rightId",390],["T_WHITESPACE"," ",390],".",["T_WHITESPACE"," ",390],["T_CONSTANT_ENCAPSED_STRING","' THEN '",390],["T_WHITESPACE"," ",390],".",["T_WHITESPACE"," ",390],["T_VARIABLE","$this",390],["T_OBJECT_OPERATOR","->",390],["T_STRING","_level",390],".",["T_STRING","sprintf",390],"(",["T_CONSTANT_ENCAPSED_STRING","'%+d'",390],",",["T_WHITESPACE"," ",390],"-","(",["T_VARIABLE","$level",390],"-",["T_LNUMBER","1",390],")","+",["T_VARIABLE","$levelP",390],")",["T_WHITESPACE"," ",390],".",["T_WHITESPACE"," ",390],["T_CONSTANT_ENCAPSED_STRING","' ELSE '",390],["T_WHITESPACE"," ",390],".",["T_WHITESPACE"," ",390],["T_VARIABLE","$this",390],["T_OBJECT_OPERATOR","->",390],["T_STRING","_level",390],["T_WHITESPACE"," ",390],".",["T_WHITESPACE"," ",390],["T_CONSTANT_ENCAPSED_STRING","' END, '",390],["T_WHITESPACE","\n            ",390],".",["T_WHITESPACE"," ",391],["T_VARIABLE","$this",391],["T_OBJECT_OPERATOR","->",391],["T_STRING","_left",391],["T_WHITESPACE"," ",391],".",["T_WHITESPACE"," ",391],["T_CONSTANT_ENCAPSED_STRING","' = CASE WHEN '",391],["T_WHITESPACE"," ",391],".",["T_WHITESPACE"," ",391],["T_VARIABLE","$this",391],["T_OBJECT_OPERATOR","->",391],["T_STRING","_left",391],["T_WHITESPACE"," ",391],".",["T_WHITESPACE"," ",391],["T_CONSTANT_ENCAPSED_STRING","' BETWEEN '",391],["T_WHITESPACE"," ",391],".",["T_WHITESPACE"," ",391],["T_VARIABLE","$rightId",391],["T_WHITESPACE"," ",391],".",["T_WHITESPACE"," ",391],["T_CONSTANT_ENCAPSED_STRING","' AND '",391],["T_WHITESPACE"," ",391],".",["T_WHITESPACE"," ",391],["T_VARIABLE","$rightIdP",391],["T_WHITESPACE"," ",391],".",["T_WHITESPACE"," ",391],["T_CONSTANT_ENCAPSED_STRING","' THEN '",391],["T_WHITESPACE"," ",391],".",["T_WHITESPACE"," ",391],["T_VARIABLE","$this",391],["T_OBJECT_OPERATOR","->",391],["T_STRING","_left",391],["T_WHITESPACE"," ",391],".",["T_WHITESPACE"," ",391],["T_CONSTANT_ENCAPSED_STRING","'-'",391],["T_WHITESPACE"," ",391],".",["T_WHITESPACE"," ",391],"(",["T_VARIABLE","$rightId",391],"-",["T_VARIABLE","$leftId",391],"+",["T_LNUMBER","1",391],")",["T_WHITESPACE"," ",391],".",["T_WHITESPACE"," ",391],["T_CONSTANT_ENCAPSED_STRING","' '",391],["T_WHITESPACE","\n            ",391],".",["T_WHITESPACE"," ",392],["T_CONSTANT_ENCAPSED_STRING","'WHEN '",392],["T_WHITESPACE"," ",392],".",["T_WHITESPACE"," ",392],["T_VARIABLE","$this",392],["T_OBJECT_OPERATOR","->",392],["T_STRING","_left",392],["T_WHITESPACE"," ",392],".",["T_WHITESPACE"," ",392],["T_CONSTANT_ENCAPSED_STRING","' BETWEEN '",392],["T_WHITESPACE"," ",392],".",["T_WHITESPACE"," ",392],["T_VARIABLE","$leftId",392],["T_WHITESPACE"," ",392],".",["T_WHITESPACE"," ",392],["T_CONSTANT_ENCAPSED_STRING","' AND '",392],["T_WHITESPACE"," ",392],".",["T_WHITESPACE"," ",392],["T_VARIABLE","$rightId",392],["T_WHITESPACE"," ",392],".",["T_WHITESPACE"," ",392],["T_CONSTANT_ENCAPSED_STRING","' THEN '",392],["T_WHITESPACE"," ",392],".",["T_WHITESPACE"," ",392],["T_VARIABLE","$this",392],["T_OBJECT_OPERATOR","->",392],["T_STRING","_left",392],["T_WHITESPACE"," ",392],".",["T_WHITESPACE"," ",392],["T_CONSTANT_ENCAPSED_STRING","'+'",392],["T_WHITESPACE"," ",392],".",["T_WHITESPACE"," ",392],"(",["T_VARIABLE","$rightIdP",392],"-",["T_LNUMBER","1",392],"-",["T_VARIABLE","$rightId",392],")",["T_WHITESPACE"," ",392],".",["T_WHITESPACE"," ",392],["T_CONSTANT_ENCAPSED_STRING","' ELSE '",392],["T_WHITESPACE"," ",392],".",["T_WHITESPACE"," ",392],["T_VARIABLE","$this",392],["T_OBJECT_OPERATOR","->",392],["T_STRING","_left",392],["T_WHITESPACE"," ",392],".",["T_WHITESPACE"," ",392],["T_CONSTANT_ENCAPSED_STRING","' END, '",392],["T_WHITESPACE","\n            ",392],".",["T_WHITESPACE"," ",393],["T_VARIABLE","$this",393],["T_OBJECT_OPERATOR","->",393],["T_STRING","_right",393],["T_WHITESPACE"," ",393],".",["T_WHITESPACE"," ",393],["T_CONSTANT_ENCAPSED_STRING","' = CASE WHEN '",393],["T_WHITESPACE"," ",393],".",["T_WHITESPACE"," ",393],["T_VARIABLE","$this",393],["T_OBJECT_OPERATOR","->",393],["T_STRING","_right",393],["T_WHITESPACE"," ",393],".",["T_WHITESPACE"," ",393],["T_CONSTANT_ENCAPSED_STRING","' BETWEEN '",393],["T_WHITESPACE"," ",393],".",["T_WHITESPACE"," ",393],"(",["T_VARIABLE","$rightId",393],"+",["T_LNUMBER","1",393],")",["T_WHITESPACE"," ",393],".",["T_WHITESPACE"," ",393],["T_CONSTANT_ENCAPSED_STRING","' AND '",393],["T_WHITESPACE"," ",393],".",["T_WHITESPACE"," ",393],"(",["T_VARIABLE","$rightIdP",393],"-",["T_LNUMBER","1",393],")",["T_WHITESPACE"," ",393],".",["T_WHITESPACE"," ",393],["T_CONSTANT_ENCAPSED_STRING","' THEN '",393],["T_WHITESPACE"," ",393],".",["T_WHITESPACE"," ",393],["T_VARIABLE","$this",393],["T_OBJECT_OPERATOR","->",393],["T_STRING","_right",393],["T_WHITESPACE"," ",393],".",["T_WHITESPACE"," ",393],["T_CONSTANT_ENCAPSED_STRING","'-'",393],["T_WHITESPACE"," ",393],".",["T_WHITESPACE"," ",393],"(",["T_VARIABLE","$rightId",393],"-",["T_VARIABLE","$leftId",393],"+",["T_LNUMBER","1",393],")",["T_WHITESPACE"," ",393],".",["T_WHITESPACE"," ",393],["T_CONSTANT_ENCAPSED_STRING","' '",393],["T_WHITESPACE","\n            ",393],".",["T_WHITESPACE"," ",394],["T_CONSTANT_ENCAPSED_STRING","'WHEN '",394],["T_WHITESPACE"," ",394],".",["T_WHITESPACE"," ",394],["T_VARIABLE","$this",394],["T_OBJECT_OPERATOR","->",394],["T_STRING","_right",394],["T_WHITESPACE"," ",394],".",["T_WHITESPACE"," ",394],["T_CONSTANT_ENCAPSED_STRING","' BETWEEN '",394],["T_WHITESPACE"," ",394],".",["T_WHITESPACE"," ",394],["T_VARIABLE","$leftId",394],["T_WHITESPACE"," ",394],".",["T_WHITESPACE"," ",394],["T_CONSTANT_ENCAPSED_STRING","' AND '",394],["T_WHITESPACE"," ",394],".",["T_WHITESPACE"," ",394],["T_VARIABLE","$rightId",394],["T_WHITESPACE"," ",394],".",["T_WHITESPACE"," ",394],["T_CONSTANT_ENCAPSED_STRING","' THEN '",394],["T_WHITESPACE"," ",394],".",["T_WHITESPACE"," ",394],["T_VARIABLE","$this",394],["T_OBJECT_OPERATOR","->",394],["T_STRING","_right",394],["T_WHITESPACE"," ",394],".",["T_WHITESPACE"," ",394],["T_CONSTANT_ENCAPSED_STRING","'+'",394],["T_WHITESPACE"," ",394],".",["T_WHITESPACE"," ",394],"(",["T_VARIABLE","$rightIdP",394],"-",["T_LNUMBER","1",394],"-",["T_VARIABLE","$rightId",394],")",["T_WHITESPACE"," ",394],".",["T_WHITESPACE"," ",394],["T_CONSTANT_ENCAPSED_STRING","' ELSE '",394],["T_WHITESPACE"," ",394],".",["T_WHITESPACE"," ",394],["T_VARIABLE","$this",394],["T_OBJECT_OPERATOR","->",394],["T_STRING","_right",394],["T_WHITESPACE"," ",394],".",["T_WHITESPACE"," ",394],["T_CONSTANT_ENCAPSED_STRING","' END '",394],["T_WHITESPACE","\n            ",394],".",["T_WHITESPACE"," ",395],["T_CONSTANT_ENCAPSED_STRING","'WHERE ('",395],["T_WHITESPACE"," ",395],".",["T_WHITESPACE"," ",395],["T_VARIABLE","$this",395],["T_OBJECT_OPERATOR","->",395],["T_STRING","_left",395],["T_WHITESPACE"," ",395],".",["T_WHITESPACE"," ",395],["T_CONSTANT_ENCAPSED_STRING","' BETWEEN '",395],["T_WHITESPACE"," ",395],".",["T_WHITESPACE"," ",395],["T_VARIABLE","$leftId",395],["T_WHITESPACE"," ",395],".",["T_WHITESPACE"," ",395],["T_CONSTANT_ENCAPSED_STRING","' AND '",395],["T_WHITESPACE"," ",395],".",["T_WHITESPACE"," ",395],["T_VARIABLE","$rightIdP",395],["T_WHITESPACE"," ",395],".",["T_WHITESPACE"," ",395],["T_CONSTANT_ENCAPSED_STRING","' '",395],["T_WHITESPACE","\n            ",395],".",["T_WHITESPACE"," ",396],["T_CONSTANT_ENCAPSED_STRING","'OR '",396],["T_WHITESPACE"," ",396],".",["T_WHITESPACE"," ",396],["T_VARIABLE","$this",396],["T_OBJECT_OPERATOR","->",396],["T_STRING","_right",396],["T_WHITESPACE"," ",396],".",["T_WHITESPACE"," ",396],["T_CONSTANT_ENCAPSED_STRING","' BETWEEN '",396],["T_WHITESPACE"," ",396],".",["T_WHITESPACE"," ",396],["T_VARIABLE","$leftId",396],["T_WHITESPACE"," ",396],".",["T_WHITESPACE"," ",396],["T_CONSTANT_ENCAPSED_STRING","' AND '",396],["T_WHITESPACE"," ",396],".",["T_WHITESPACE"," ",396],["T_VARIABLE","$rightIdP",396],["T_WHITESPACE"," ",396],".",["T_WHITESPACE"," ",396],["T_CONSTANT_ENCAPSED_STRING","')'",396],";",["T_WHITESPACE","\n        ",396],"}",["T_WHITESPACE","\n\n        ",397],["T_VARIABLE","$this",399],["T_OBJECT_OPERATOR","->",399],["T_STRING","_db",399],["T_OBJECT_OPERATOR","->",399],["T_STRING","beginTransaction",399],"(",")",";",["T_WHITESPACE","\n        ",399],["T_TRY","try",400],["T_WHITESPACE"," ",400],"{",["T_WHITESPACE","\n            ",400],["T_VARIABLE","$this",401],["T_OBJECT_OPERATOR","->",401],["T_STRING","_db",401],["T_OBJECT_OPERATOR","->",401],["T_STRING","query",401],"(",["T_VARIABLE","$sql",401],")",";",["T_WHITESPACE","\n            ",401],["T_VARIABLE","$this",402],["T_OBJECT_OPERATOR","->",402],["T_STRING","_db",402],["T_OBJECT_OPERATOR","->",402],["T_STRING","commit",402],"(",")",";",["T_WHITESPACE","\n            ",402],["T_ECHO","echo",403],["T_WHITESPACE"," ",403],["T_CONSTANT_ENCAPSED_STRING","\"alert('node moved');\"",403],";",["T_WHITESPACE","\n            ",403],["T_RETURN","return",404],["T_WHITESPACE"," ",404],["T_STRING","true",404],";",["T_WHITESPACE","\n        ",404],"}",["T_WHITESPACE"," ",405],["T_CATCH","catch",405],["T_WHITESPACE"," ",405],"(",["T_STRING","Exception",405],["T_WHITESPACE"," ",405],["T_VARIABLE","$e",405],")",["T_WHITESPACE"," ",405],"{",["T_WHITESPACE","\n            ",405],["T_VARIABLE","$this",406],["T_OBJECT_OPERATOR","->",406],["T_STRING","_db",406],["T_OBJECT_OPERATOR","->",406],["T_STRING","rollBack",406],"(",")",";",["T_WHITESPACE","\n            ",406],["T_ECHO","echo",407],["T_WHITESPACE"," ",407],["T_CONSTANT_ENCAPSED_STRING","\"alert('node not moved: fatal error');\"",407],";",["T_WHITESPACE","\n            ",407],["T_ECHO","echo",408],["T_WHITESPACE"," ",408],["T_VARIABLE","$e",408],["T_OBJECT_OPERATOR","->",408],["T_STRING","getMessage",408],"(",")",";",["T_WHITESPACE","\n            ",408],["T_ECHO","echo",409],["T_WHITESPACE"," ",409],["T_CONSTANT_ENCAPSED_STRING","\"<br>\\r\\n\"",409],";",["T_WHITESPACE","\n            ",409],["T_ECHO","echo",410],["T_WHITESPACE"," ",410],["T_VARIABLE","$sql",410],";",["T_WHITESPACE","\n            ",410],["T_ECHO","echo",411],["T_WHITESPACE"," ",411],["T_CONSTANT_ENCAPSED_STRING","\"<br>\\r\\n\"",411],";",["T_WHITESPACE","\n            ",411],["T_EXIT","exit",412],"(",")",";",["T_WHITESPACE","\n        ",412],"}",["T_WHITESPACE","\n    ",413],"}",["T_WHITESPACE","\n\n\n    ",414],["T_PUBLIC","public",417],["T_WHITESPACE"," ",417],["T_FUNCTION","function",417],["T_WHITESPACE"," ",417],["T_STRING","__moveNode",417],"(",["T_VARIABLE","$eId",417],",",["T_WHITESPACE"," ",417],["T_VARIABLE","$pId",417],",",["T_WHITESPACE"," ",417],["T_VARIABLE","$aId",417],["T_WHITESPACE"," ",417],"=",["T_WHITESPACE"," ",417],["T_LNUMBER","0",417],")",["T_WHITESPACE"," ",417],"{",["T_WHITESPACE","\n\n        ",417],["T_VARIABLE","$eInfo",419],["T_WHITESPACE"," ",419],"=",["T_WHITESPACE"," ",419],["T_VARIABLE","$this",419],["T_OBJECT_OPERATOR","->",419],["T_STRING","getNodeInfo",419],"(",["T_VARIABLE","$eId",419],")",";",["T_WHITESPACE","\n        ",419],["T_IF","if",420],["T_WHITESPACE"," ",420],"(",["T_VARIABLE","$pId",420],["T_WHITESPACE"," ",420],["T_IS_NOT_EQUAL","!=",420],["T_WHITESPACE"," ",420],["T_LNUMBER","0",420],")",["T_WHITESPACE"," ",420],"{",["T_WHITESPACE","\n            ",420],["T_VARIABLE","$pInfo",421],["T_WHITESPACE"," ",421],"=",["T_WHITESPACE"," ",421],["T_VARIABLE","$this",421],["T_OBJECT_OPERATOR","->",421],["T_STRING","getNodeInfo",421],"(",["T_VARIABLE","$pId",421],")",";",["T_WHITESPACE","\n        ",421],"}",["T_WHITESPACE","\n        ",422],["T_IF","if",423],["T_WHITESPACE"," ",423],"(",["T_VARIABLE","$aId",423],["T_WHITESPACE"," ",423],["T_IS_NOT_EQUAL","!=",423],["T_WHITESPACE"," ",423],["T_LNUMBER","0",423],")",["T_WHITESPACE"," ",423],"{",["T_WHITESPACE","\n            ",423],["T_VARIABLE","$aInfo",424],["T_WHITESPACE"," ",424],"=",["T_WHITESPACE"," ",424],["T_VARIABLE","$this",424],["T_OBJECT_OPERATOR","->",424],["T_STRING","getNodeInfo",424],"(",["T_VARIABLE","$aId",424],")",";",["T_WHITESPACE","\n        ",424],"}",["T_WHITESPACE","\n\n        ",425],["T_VARIABLE","$level",427],["T_WHITESPACE"," ",427],"=",["T_WHITESPACE"," ",427],["T_VARIABLE","$eInfo",427],"[",["T_VARIABLE","$this",427],["T_OBJECT_OPERATOR","->",427],["T_STRING","_level",427],"]",";",["T_WHITESPACE","\n        ",427],["T_VARIABLE","$left_key",428],["T_WHITESPACE"," ",428],"=",["T_WHITESPACE"," ",428],["T_VARIABLE","$eInfo",428],"[",["T_VARIABLE","$this",428],["T_OBJECT_OPERATOR","->",428],["T_STRING","_left",428],"]",";",["T_WHITESPACE","\n        ",428],["T_VARIABLE","$right_key",429],["T_WHITESPACE"," ",429],"=",["T_WHITESPACE"," ",429],["T_VARIABLE","$eInfo",429],"[",["T_VARIABLE","$this",429],["T_OBJECT_OPERATOR","->",429],["T_STRING","_right",429],"]",";",["T_WHITESPACE","\n        ",429],["T_IF","if",430],["T_WHITESPACE"," ",430],"(",["T_VARIABLE","$pId",430],["T_WHITESPACE"," ",430],["T_IS_EQUAL","==",430],["T_WHITESPACE"," ",430],["T_LNUMBER","0",430],")",["T_WHITESPACE"," ",430],"{",["T_WHITESPACE","\n            ",430],["T_VARIABLE","$level_up",431],["T_WHITESPACE"," ",431],"=",["T_WHITESPACE"," ",431],["T_LNUMBER","0",431],";",["T_WHITESPACE","\n        ",431],"}",["T_WHITESPACE"," ",432],["T_ELSE","else",432],["T_WHITESPACE"," ",432],"{",["T_WHITESPACE","\n            ",432],["T_VARIABLE","$level_up",433],["T_WHITESPACE"," ",433],"=",["T_WHITESPACE"," ",433],["T_VARIABLE","$pInfo",433],"[",["T_VARIABLE","$this",433],["T_OBJECT_OPERATOR","->",433],["T_STRING","_level",433],"]",";",["T_WHITESPACE","\n        ",433],"}",["T_WHITESPACE","\n\n        ",434],["T_VARIABLE","$right_key_near",436],["T_WHITESPACE"," ",436],"=",["T_WHITESPACE"," ",436],["T_LNUMBER","0",436],";",["T_WHITESPACE","\n        ",436],["T_VARIABLE","$left_key_near",437],["T_WHITESPACE"," ",437],"=",["T_WHITESPACE"," ",437],["T_LNUMBER","0",437],";",["T_WHITESPACE","\n\n        ",437],["T_IF","if",439],["T_WHITESPACE"," ",439],"(",["T_VARIABLE","$pId",439],["T_WHITESPACE"," ",439],["T_IS_EQUAL","==",439],["T_WHITESPACE"," ",439],["T_LNUMBER","0",439],")",["T_WHITESPACE"," ",439],"{",["T_WHITESPACE"," ",439],["T_COMMENT","\/\/move to root\n",439],["T_WHITESPACE","            ",440],["T_VARIABLE","$right_key_near",440],["T_WHITESPACE"," ",440],"=",["T_WHITESPACE"," ",440],["T_VARIABLE","$this",440],["T_OBJECT_OPERATOR","->",440],["T_STRING","_db",440],["T_OBJECT_OPERATOR","->",440],["T_STRING","fetchOne",440],"(",["T_CONSTANT_ENCAPSED_STRING","'SELECT MAX('",440],".",["T_VARIABLE","$this",440],["T_OBJECT_OPERATOR","->",440],["T_STRING","_right",440],".",["T_CONSTANT_ENCAPSED_STRING","') FROM '",440],".",["T_VARIABLE","$this",440],["T_OBJECT_OPERATOR","->",440],["T_STRING","_table",440],")",";",["T_WHITESPACE","\n        ",440],"}",["T_WHITESPACE"," ",441],["T_ELSEIF","elseif",441],["T_WHITESPACE"," ",441],"(",["T_VARIABLE","$aId",441],["T_WHITESPACE"," ",441],["T_IS_NOT_EQUAL","!=",441],["T_WHITESPACE"," ",441],["T_LNUMBER","0",441],["T_WHITESPACE"," ",441],["T_BOOLEAN_AND","&&",441],["T_WHITESPACE"," ",441],["T_VARIABLE","$pID",441],["T_WHITESPACE"," ",441],["T_IS_EQUAL","==",441],["T_WHITESPACE"," ",441],["T_VARIABLE","$eInfo",441],"[",["T_VARIABLE","$this",441],["T_OBJECT_OPERATOR","->",441],["T_STRING","_pid",441],"]",")",["T_WHITESPACE"," ",441],"{",["T_WHITESPACE"," ",441],["T_COMMENT","\/\/ if we have after ID\n",441],["T_WHITESPACE","            ",442],["T_VARIABLE","$right_key_near",442],["T_WHITESPACE"," ",442],"=",["T_WHITESPACE"," ",442],["T_VARIABLE","$aInfo",442],"[",["T_VARIABLE","$this",442],["T_OBJECT_OPERATOR","->",442],["T_STRING","_right",442],"]",";",["T_WHITESPACE","\n            ",442],["T_VARIABLE","$left_key_near",443],["T_WHITESPACE"," ",443],"=",["T_WHITESPACE"," ",443],["T_VARIABLE","$aInfo",443],"[",["T_VARIABLE","$this",443],["T_OBJECT_OPERATOR","->",443],["T_STRING","_left",443],"]",";",["T_WHITESPACE","\n        ",443],"}",["T_WHITESPACE"," ",444],["T_ELSEIF","elseif",444],["T_WHITESPACE"," ",444],"(",["T_VARIABLE","$aId",444],["T_WHITESPACE"," ",444],["T_IS_EQUAL","==",444],["T_WHITESPACE"," ",444],["T_LNUMBER","0",444],["T_WHITESPACE"," ",444],["T_BOOLEAN_AND","&&",444],["T_WHITESPACE"," ",444],["T_VARIABLE","$pId",444],["T_WHITESPACE"," ",444],["T_IS_EQUAL","==",444],["T_WHITESPACE"," ",444],["T_VARIABLE","$eInfo",444],"[",["T_VARIABLE","$this",444],["T_OBJECT_OPERATOR","->",444],["T_STRING","_pid",444],"]",")",["T_WHITESPACE"," ",444],"{",["T_WHITESPACE"," ",444],["T_COMMENT","\/\/ if we do not have after ID\n",444],["T_WHITESPACE","            ",445],["T_VARIABLE","$right_key_near",445],["T_WHITESPACE"," ",445],"=",["T_WHITESPACE"," ",445],["T_VARIABLE","$pInfo",445],"[",["T_VARIABLE","$this",445],["T_OBJECT_OPERATOR","->",445],["T_STRING","_left",445],"]",";",["T_WHITESPACE","\n        ",445],"}",["T_WHITESPACE"," ",446],["T_ELSEIF","elseif",446],["T_WHITESPACE"," ",446],"(",["T_VARIABLE","$pId",446],["T_WHITESPACE"," ",446],["T_IS_NOT_EQUAL","!=",446],["T_WHITESPACE"," ",446],["T_VARIABLE","$eInfo",446],"[",["T_VARIABLE","$this",446],["T_OBJECT_OPERATOR","->",446],["T_STRING","_pid",446],"]",")",["T_WHITESPACE"," ",446],"{",["T_WHITESPACE","\n            ",446],["T_VARIABLE","$right_key_near",447],["T_WHITESPACE"," ",447],"=",["T_WHITESPACE"," ",447],["T_VARIABLE","$pInfo",447],"[",["T_VARIABLE","$this",447],["T_OBJECT_OPERATOR","->",447],["T_STRING","_right",447],"]",["T_WHITESPACE"," ",447],"-",["T_WHITESPACE"," ",447],["T_LNUMBER","1",447],";",["T_WHITESPACE","\n        ",447],"}",["T_WHITESPACE","\n\n\n        ",448],["T_VARIABLE","$skew_level",451],["T_WHITESPACE"," ",451],"=",["T_WHITESPACE"," ",451],["T_VARIABLE","$pInfo",451],"[",["T_VARIABLE","$this",451],["T_OBJECT_OPERATOR","->",451],["T_STRING","_level",451],"]",["T_WHITESPACE"," ",451],"-",["T_WHITESPACE"," ",451],["T_VARIABLE","$eInfo",451],"[",["T_VARIABLE","$this",451],["T_OBJECT_OPERATOR","->",451],["T_STRING","_level",451],"]",["T_WHITESPACE"," ",451],"+",["T_WHITESPACE"," ",451],["T_LNUMBER","1",451],";",["T_WHITESPACE","\n        ",451],["T_VARIABLE","$skew_tree",452],["T_WHITESPACE"," ",452],"=",["T_WHITESPACE"," ",452],["T_VARIABLE","$eInfo",452],"[",["T_VARIABLE","$this",452],["T_OBJECT_OPERATOR","->",452],["T_STRING","_right",452],"]",["T_WHITESPACE"," ",452],"-",["T_WHITESPACE"," ",452],["T_VARIABLE","$eInfo",452],"[",["T_VARIABLE","$this",452],["T_OBJECT_OPERATOR","->",452],["T_STRING","_left",452],"]",["T_WHITESPACE"," ",452],"+",["T_WHITESPACE"," ",452],["T_LNUMBER","1",452],";",["T_WHITESPACE","\n\n        ",452],["T_ECHO","echo",454],["T_WHITESPACE"," ",454],["T_CONSTANT_ENCAPSED_STRING","\"alert('\"",454],".",["T_VARIABLE","$right_key_near",454],".",["T_CONSTANT_ENCAPSED_STRING","\"');\"",454],";",["T_WHITESPACE","\n\n        ",454],["T_IF","if",456],["T_WHITESPACE"," ",456],"(",["T_VARIABLE","$right_key_near",456],["T_WHITESPACE"," ",456],">",["T_WHITESPACE"," ",456],["T_VARIABLE","$right_key",456],")",["T_WHITESPACE"," ",456],"{",["T_WHITESPACE"," ",456],["T_COMMENT","\/\/ up\n",456],["T_WHITESPACE","            ",457],["T_ECHO","echo",457],["T_WHITESPACE"," ",457],["T_CONSTANT_ENCAPSED_STRING","\"alert('move up');\"",457],";",["T_WHITESPACE","\n            ",457],["T_VARIABLE","$skew_edit",458],["T_WHITESPACE"," ",458],"=",["T_WHITESPACE"," ",458],["T_VARIABLE","$right_key_near",458],["T_WHITESPACE"," ",458],"-",["T_WHITESPACE"," ",458],["T_VARIABLE","$left_key",458],["T_WHITESPACE"," ",458],"+",["T_WHITESPACE"," ",458],["T_LNUMBER","1",458],";",["T_WHITESPACE","\n            ",458],["T_VARIABLE","$sql",459],["T_WHITESPACE"," ",459],"=",["T_WHITESPACE"," ",459],["T_CONSTANT_ENCAPSED_STRING","'UPDATE '",459],".",["T_VARIABLE","$this",459],["T_OBJECT_OPERATOR","->",459],["T_STRING","_table",459],".",["T_CONSTANT_ENCAPSED_STRING","'\n                SET\n                '",459],".",["T_VARIABLE","$this",461],["T_OBJECT_OPERATOR","->",461],["T_STRING","_right",461],".",["T_CONSTANT_ENCAPSED_STRING","' = IF('",461],".",["T_VARIABLE","$this",461],["T_OBJECT_OPERATOR","->",461],["T_STRING","_left",461],".",["T_CONSTANT_ENCAPSED_STRING","' >= '",461],".",["T_VARIABLE","$eInfo",461],"[",["T_VARIABLE","$this",461],["T_OBJECT_OPERATOR","->",461],["T_STRING","_left",461],"]",".",["T_CONSTANT_ENCAPSED_STRING","', '",461],".",["T_VARIABLE","$this",461],["T_OBJECT_OPERATOR","->",461],["T_STRING","_right",461],".",["T_CONSTANT_ENCAPSED_STRING","' + '",461],".",["T_VARIABLE","$skew_edit",461],".",["T_CONSTANT_ENCAPSED_STRING","', IF('",461],".",["T_VARIABLE","$this",461],["T_OBJECT_OPERATOR","->",461],["T_STRING","_right",461],".",["T_CONSTANT_ENCAPSED_STRING","' < '",461],".",["T_VARIABLE","$eInfo",461],"[",["T_VARIABLE","$this",461],["T_OBJECT_OPERATOR","->",461],["T_STRING","_left",461],"]",".",["T_CONSTANT_ENCAPSED_STRING","', '",461],".",["T_VARIABLE","$this",461],["T_OBJECT_OPERATOR","->",461],["T_STRING","_right",461],".",["T_CONSTANT_ENCAPSED_STRING","' + '",461],".",["T_VARIABLE","$skew_tree",461],".",["T_CONSTANT_ENCAPSED_STRING","', '",461],".",["T_VARIABLE","$this",461],["T_OBJECT_OPERATOR","->",461],["T_STRING","_right",461],".",["T_CONSTANT_ENCAPSED_STRING","')),\n                '",461],".",["T_VARIABLE","$this",462],["T_OBJECT_OPERATOR","->",462],["T_STRING","_level",462],".",["T_CONSTANT_ENCAPSED_STRING","' = IF('",462],".",["T_VARIABLE","$this",462],["T_OBJECT_OPERATOR","->",462],["T_STRING","_left",462],".",["T_CONSTANT_ENCAPSED_STRING","' >= '",462],".",["T_VARIABLE","$eInfo",462],"[",["T_VARIABLE","$this",462],["T_OBJECT_OPERATOR","->",462],["T_STRING","_left",462],"]",".",["T_CONSTANT_ENCAPSED_STRING","', '",462],".",["T_VARIABLE","$this",462],["T_OBJECT_OPERATOR","->",462],["T_STRING","_level",462],".",["T_CONSTANT_ENCAPSED_STRING","' + '",462],".",["T_VARIABLE","$skew_level",462],".",["T_CONSTANT_ENCAPSED_STRING","', '",462],".",["T_VARIABLE","$this",462],["T_OBJECT_OPERATOR","->",462],["T_STRING","_level",462],".",["T_CONSTANT_ENCAPSED_STRING","'),\n                '",462],".",["T_VARIABLE","$this",463],["T_OBJECT_OPERATOR","->",463],["T_STRING","_left",463],".",["T_CONSTANT_ENCAPSED_STRING","' = IF('",463],".",["T_VARIABLE","$this",463],["T_OBJECT_OPERATOR","->",463],["T_STRING","_left",463],".",["T_CONSTANT_ENCAPSED_STRING","' >= '",463],".",["T_VARIABLE","$eInfo",463],"[",["T_VARIABLE","$this",463],["T_OBJECT_OPERATOR","->",463],["T_STRING","_left",463],"]",".",["T_CONSTANT_ENCAPSED_STRING","', '",463],".",["T_VARIABLE","$this",463],["T_OBJECT_OPERATOR","->",463],["T_STRING","_left",463],".",["T_CONSTANT_ENCAPSED_STRING","' + '",463],".",["T_VARIABLE","$skew_edit",463],".",["T_CONSTANT_ENCAPSED_STRING","', IF('",463],".",["T_VARIABLE","$this",463],["T_OBJECT_OPERATOR","->",463],["T_STRING","_left",463],".",["T_CONSTANT_ENCAPSED_STRING","' > '",463],".",["T_VARIABLE","$right_key_near",463],".",["T_CONSTANT_ENCAPSED_STRING","', '",463],".",["T_VARIABLE","$this",463],["T_OBJECT_OPERATOR","->",463],["T_STRING","_left",463],".",["T_CONSTANT_ENCAPSED_STRING","' + '",463],".",["T_VARIABLE","$skew_tree",463],".",["T_CONSTANT_ENCAPSED_STRING","', '",463],".",["T_VARIABLE","$this",463],["T_OBJECT_OPERATOR","->",463],["T_STRING","_left",463],".",["T_CONSTANT_ENCAPSED_STRING","'))\n                WHERE '",463],".",["T_VARIABLE","$this",464],["T_OBJECT_OPERATOR","->",464],["T_STRING","_right",464],".",["T_CONSTANT_ENCAPSED_STRING","' > '",464],".",["T_VARIABLE","$right_key_near",464],".",["T_CONSTANT_ENCAPSED_STRING","' AND '",464],".",["T_VARIABLE","$this",464],["T_OBJECT_OPERATOR","->",464],["T_STRING","_left",464],".",["T_CONSTANT_ENCAPSED_STRING","' < '",464],".",["T_VARIABLE","$eInfo",464],"[",["T_VARIABLE","$this",464],["T_OBJECT_OPERATOR","->",464],["T_STRING","_right",464],"]",";",["T_WHITESPACE","\n        ",464],"}",["T_WHITESPACE"," ",465],["T_ELSEIF","elseif",465],["T_WHITESPACE"," ",465],"(",["T_VARIABLE","$right_key_near",465],["T_WHITESPACE"," ",465],"<",["T_WHITESPACE"," ",465],["T_VARIABLE","$right_key",465],")",["T_WHITESPACE"," ",465],"{",["T_WHITESPACE"," ",465],["T_COMMENT","\/\/ down\n",465],["T_WHITESPACE","            ",466],["T_ECHO","echo",466],["T_WHITESPACE"," ",466],["T_CONSTANT_ENCAPSED_STRING","\"alert('move down');\"",466],";",["T_WHITESPACE","\n            ",466],["T_VARIABLE","$skew_edit",467],["T_WHITESPACE"," ",467],"=",["T_WHITESPACE"," ",467],["T_VARIABLE","$right_key_near",467],["T_WHITESPACE"," ",467],"-",["T_WHITESPACE"," ",467],["T_VARIABLE","$left_key",467],["T_WHITESPACE"," ",467],"+",["T_WHITESPACE"," ",467],["T_LNUMBER","1",467],["T_WHITESPACE"," ",467],"-",["T_WHITESPACE"," ",467],["T_VARIABLE","$skew_tree",467],";",["T_WHITESPACE","\n            ",467],["T_VARIABLE","$sql",468],["T_WHITESPACE"," ",468],"=",["T_WHITESPACE"," ",468],["T_CONSTANT_ENCAPSED_STRING","'UPDATE '",468],".",["T_VARIABLE","$this",468],["T_OBJECT_OPERATOR","->",468],["T_STRING","_table",468],".",["T_CONSTANT_ENCAPSED_STRING","'\n                SET\n                    '",468],".",["T_VARIABLE","$this",470],["T_OBJECT_OPERATOR","->",470],["T_STRING","_left",470],".",["T_CONSTANT_ENCAPSED_STRING","' = IF('",470],".",["T_VARIABLE","$this",470],["T_OBJECT_OPERATOR","->",470],["T_STRING","_right",470],".",["T_CONSTANT_ENCAPSED_STRING","' <= '",470],".",["T_VARIABLE","$right_key",470],".",["T_CONSTANT_ENCAPSED_STRING","', '",470],".",["T_VARIABLE","$this",470],["T_OBJECT_OPERATOR","->",470],["T_STRING","_left",470],".",["T_CONSTANT_ENCAPSED_STRING","' + '",470],".",["T_VARIABLE","$skew_edit",470],".",["T_CONSTANT_ENCAPSED_STRING","', IF('",470],".",["T_VARIABLE","$this",470],["T_OBJECT_OPERATOR","->",470],["T_STRING","_left",470],".",["T_CONSTANT_ENCAPSED_STRING","' > '",470],".",["T_VARIABLE","$right_key",470],".",["T_CONSTANT_ENCAPSED_STRING","', '",470],".",["T_VARIABLE","$this",470],["T_OBJECT_OPERATOR","->",470],["T_STRING","_left",470],".",["T_CONSTANT_ENCAPSED_STRING","' - '",470],".",["T_VARIABLE","$skew_tree",470],".",["T_CONSTANT_ENCAPSED_STRING","', '",470],".",["T_VARIABLE","$this",470],["T_OBJECT_OPERATOR","->",470],["T_STRING","_left",470],".",["T_CONSTANT_ENCAPSED_STRING","')),\n                    '",470],".",["T_VARIABLE","$this",471],["T_OBJECT_OPERATOR","->",471],["T_STRING","_level",471],".",["T_CONSTANT_ENCAPSED_STRING","' = IF('",471],".",["T_VARIABLE","$this",471],["T_OBJECT_OPERATOR","->",471],["T_STRING","_right",471],".",["T_CONSTANT_ENCAPSED_STRING","' <= '",471],".",["T_VARIABLE","$right_key",471],".",["T_CONSTANT_ENCAPSED_STRING","', '",471],".",["T_VARIABLE","$this",471],["T_OBJECT_OPERATOR","->",471],["T_STRING","_level",471],".",["T_CONSTANT_ENCAPSED_STRING","' + '",471],".",["T_VARIABLE","$skew_level",471],".",["T_CONSTANT_ENCAPSED_STRING","', '",471],".",["T_VARIABLE","$this",471],["T_OBJECT_OPERATOR","->",471],["T_STRING","_level",471],".",["T_CONSTANT_ENCAPSED_STRING","'),\n                    '",471],".",["T_VARIABLE","$this",472],["T_OBJECT_OPERATOR","->",472],["T_STRING","_right",472],".",["T_CONSTANT_ENCAPSED_STRING","' = IF('",472],".",["T_VARIABLE","$this",472],["T_OBJECT_OPERATOR","->",472],["T_STRING","_right",472],".",["T_CONSTANT_ENCAPSED_STRING","' <= '",472],".",["T_VARIABLE","$right_key",472],".",["T_CONSTANT_ENCAPSED_STRING","', '",472],".",["T_VARIABLE","$this",472],["T_OBJECT_OPERATOR","->",472],["T_STRING","_right",472],".",["T_CONSTANT_ENCAPSED_STRING","' + '",472],".",["T_VARIABLE","$skew_edit",472],".",["T_CONSTANT_ENCAPSED_STRING","', IF('",472],".",["T_VARIABLE","$this",472],["T_OBJECT_OPERATOR","->",472],["T_STRING","_right",472],".",["T_CONSTANT_ENCAPSED_STRING","' <= '",472],".",["T_VARIABLE","$right_key_near",472],".",["T_CONSTANT_ENCAPSED_STRING","', '",472],".",["T_VARIABLE","$this",472],["T_OBJECT_OPERATOR","->",472],["T_STRING","_right",472],".",["T_CONSTANT_ENCAPSED_STRING","' - '",472],".",["T_VARIABLE","$skew_tree",472],".",["T_CONSTANT_ENCAPSED_STRING","', '",472],".",["T_VARIABLE","$this",472],["T_OBJECT_OPERATOR","->",472],["T_STRING","_right",472],".",["T_CONSTANT_ENCAPSED_STRING","'))\n                WHERE\n                    '",472],".",["T_VARIABLE","$this",474],["T_OBJECT_OPERATOR","->",474],["T_STRING","_right",474],".",["T_CONSTANT_ENCAPSED_STRING","' > '",474],".",["T_VARIABLE","$left_key",474],".",["T_CONSTANT_ENCAPSED_STRING","' AND '",474],".",["T_VARIABLE","$this",474],["T_OBJECT_OPERATOR","->",474],["T_STRING","_left",474],".",["T_CONSTANT_ENCAPSED_STRING","' <= '",474],".",["T_VARIABLE","$right_key_near",474],";",["T_WHITESPACE","\n        ",474],"}",["T_WHITESPACE","\n\n\n        ",475],["T_VARIABLE","$this",478],["T_OBJECT_OPERATOR","->",478],["T_STRING","_db",478],["T_OBJECT_OPERATOR","->",478],["T_STRING","beginTransaction",478],"(",")",";",["T_WHITESPACE","\n        ",478],["T_TRY","try",479],["T_WHITESPACE"," ",479],"{",["T_WHITESPACE","\n           ",479],["T_VARIABLE","$this",480],["T_OBJECT_OPERATOR","->",480],["T_STRING","_db",480],["T_OBJECT_OPERATOR","->",480],["T_STRING","query",480],"(",["T_VARIABLE","$sql",480],")",";",["T_WHITESPACE","\n           ",480],["T_COMMENT","\/\/$afrows = $this->_db->get\n",481],["T_WHITESPACE","           ",482],["T_VARIABLE","$this",482],["T_OBJECT_OPERATOR","->",482],["T_STRING","_db",482],["T_OBJECT_OPERATOR","->",482],["T_STRING","commit",482],"(",")",";",["T_WHITESPACE","\n\n        ",482],"}",["T_WHITESPACE"," ",484],["T_CATCH","catch",484],["T_WHITESPACE"," ",484],"(",["T_STRING","Exception",484],["T_WHITESPACE"," ",484],["T_VARIABLE","$e",484],")",["T_WHITESPACE"," ",484],"{",["T_WHITESPACE","\n            ",484],["T_VARIABLE","$this",485],["T_OBJECT_OPERATOR","->",485],["T_STRING","_db",485],["T_OBJECT_OPERATOR","->",485],["T_STRING","rollBack",485],"(",")",";",["T_WHITESPACE","\n            ",485],["T_ECHO","echo",486],["T_WHITESPACE"," ",486],["T_VARIABLE","$e",486],["T_OBJECT_OPERATOR","->",486],["T_STRING","getMessage",486],"(",")",";",["T_WHITESPACE","\n            ",486],["T_ECHO","echo",487],["T_WHITESPACE"," ",487],["T_CONSTANT_ENCAPSED_STRING","\"<br>\\r\\n\"",487],";",["T_WHITESPACE","\n            ",487],["T_ECHO","echo",488],["T_WHITESPACE"," ",488],["T_VARIABLE","$sql",488],";",["T_WHITESPACE","\n            ",488],["T_ECHO","echo",489],["T_WHITESPACE"," ",489],["T_CONSTANT_ENCAPSED_STRING","\"<br>\\r\\n\"",489],";",["T_WHITESPACE","\n            ",489],["T_EXIT","exit",490],"(",")",";",["T_WHITESPACE","\n        ",490],"}",["T_WHITESPACE","\n        ",491],["T_ECHO","echo",492],["T_WHITESPACE"," ",492],["T_CONSTANT_ENCAPSED_STRING","\"alert('node added')\"",492],";",["T_WHITESPACE","\n    ",492],"}",["T_WHITESPACE","\n\n    ",493],["T_PUBLIC","public",495],["T_WHITESPACE"," ",495],["T_FUNCTION","function",495],["T_WHITESPACE"," ",495],["T_STRING","addTable",495],"(",["T_VARIABLE","$tableName",495],",",["T_WHITESPACE"," ",495],["T_VARIABLE","$joinCondition",495],",",["T_WHITESPACE"," ",495],["T_VARIABLE","$fields",495],"=",["T_CONSTANT_ENCAPSED_STRING","'*'",495],")",["T_WHITESPACE","\n    ",495],"{",["T_WHITESPACE","\n        ",496],["T_VARIABLE","$this",497],["T_OBJECT_OPERATOR","->",497],["T_STRING","_extTables",497],"[",["T_VARIABLE","$tableName",497],"]",["T_WHITESPACE"," ",497],"=",["T_WHITESPACE"," ",497],["T_ARRAY","array",497],"(",["T_WHITESPACE","\n           ",497],["T_CONSTANT_ENCAPSED_STRING","'joinCondition'",498],["T_WHITESPACE"," ",498],["T_DOUBLE_ARROW","=>",498],["T_WHITESPACE"," ",498],["T_VARIABLE","$joinCondition",498],",",["T_WHITESPACE","\n           ",498],["T_CONSTANT_ENCAPSED_STRING","'fields'",499],["T_WHITESPACE","        ",499],["T_DOUBLE_ARROW","=>",499],["T_WHITESPACE"," ",499],["T_VARIABLE","$fields",499],["T_WHITESPACE","\n        ",499],")",";",["T_WHITESPACE","\n    ",500],"}",["T_WHITESPACE","\n\n    ",501],["T_PROTECTED","protected",503],["T_WHITESPACE"," ",503],["T_FUNCTION","function",503],["T_WHITESPACE"," ",503],["T_STRING","_addExtTablesToSelect",503],"(",["T_STRING","Zend_Db_Select",503],["T_WHITESPACE"," ",503],"&",["T_VARIABLE","$select",503],")",["T_WHITESPACE","\n    ",503],"{",["T_WHITESPACE","\n        ",504],["T_FOREACH","foreach",505],["T_WHITESPACE"," ",505],"(",["T_VARIABLE","$this",505],["T_OBJECT_OPERATOR","->",505],["T_STRING","_extTables",505],["T_WHITESPACE"," ",505],["T_AS","as",505],["T_WHITESPACE"," ",505],["T_VARIABLE","$tableName",505],["T_DOUBLE_ARROW","=>",505],["T_VARIABLE","$info",505],")",["T_WHITESPACE"," ",505],"{",["T_WHITESPACE","\n            ",505],["T_VARIABLE","$select",506],["T_OBJECT_OPERATOR","->",506],["T_STRING","joinInner",506],"(",["T_VARIABLE","$tableName",506],",",["T_WHITESPACE"," ",506],["T_VARIABLE","$info",506],"[",["T_CONSTANT_ENCAPSED_STRING","'joinCondition'",506],"]",",",["T_WHITESPACE"," ",506],["T_VARIABLE","$info",506],"[",["T_CONSTANT_ENCAPSED_STRING","'fields'",506],"]",")",";",["T_WHITESPACE","\n        ",506],"}",["T_WHITESPACE","\n    ",507],"}",["T_WHITESPACE","\n\n    ",508],["T_PUBLIC","public",510],["T_WHITESPACE"," ",510],["T_FUNCTION","function",510],["T_WHITESPACE"," ",510],["T_STRING","getChildren",510],"(",["T_VARIABLE","$ID",510],",",["T_WHITESPACE"," ",510],["T_VARIABLE","$start_level",510],["T_WHITESPACE"," ",510],"=",["T_WHITESPACE"," ",510],["T_LNUMBER","0",510],",",["T_WHITESPACE"," ",510],["T_VARIABLE","$end_level",510],["T_WHITESPACE"," ",510],"=",["T_WHITESPACE"," ",510],["T_LNUMBER","0",510],")",["T_WHITESPACE","\n    ",510],"{",["T_WHITESPACE","\n        ",511],["T_TRY","try",512],["T_WHITESPACE"," ",512],"{",["T_WHITESPACE","\n            ",512],["T_VARIABLE","$info",513],["T_WHITESPACE"," ",513],"=",["T_WHITESPACE"," ",513],["T_VARIABLE","$this",513],["T_OBJECT_OPERATOR","->",513],["T_STRING","getNodeInfo",513],"(",["T_VARIABLE","$ID",513],")",";",["T_WHITESPACE","\n        ",513],"}",["T_WHITESPACE"," ",514],["T_CATCH","catch",514],["T_WHITESPACE"," ",514],"(",["T_STRING","Exception",514],["T_WHITESPACE"," ",514],["T_VARIABLE","$e",514],")",["T_WHITESPACE"," ",514],"{",["T_WHITESPACE","\n            ",514],["T_ECHO","echo",515],["T_WHITESPACE"," ",515],["T_VARIABLE","$e",515],["T_OBJECT_OPERATOR","->",515],["T_STRING","getMessage",515],"(",")",";",["T_WHITESPACE","\n            ",515],["T_EXIT","exit",516],";",["T_WHITESPACE","\n        ",516],"}",["T_WHITESPACE","\n\n        ",517],["T_VARIABLE","$dbSelect",519],["T_WHITESPACE"," ",519],"=",["T_WHITESPACE"," ",519],["T_NEW","new",519],["T_WHITESPACE"," ",519],["T_STRING","Zend_Db_Select",519],"(",["T_VARIABLE","$this",519],["T_OBJECT_OPERATOR","->",519],["T_STRING","_db",519],")",";",["T_WHITESPACE","\n        ",519],["T_VARIABLE","$dbSelect",520],["T_OBJECT_OPERATOR","->",520],["T_STRING","from",520],"(",["T_VARIABLE","$this",520],["T_OBJECT_OPERATOR","->",520],["T_STRING","_table",520],")",["T_WHITESPACE","\n            ",520],["T_OBJECT_OPERATOR","->",521],["T_STRING","where",521],"(",["T_VARIABLE","$this",521],["T_OBJECT_OPERATOR","->",521],["T_STRING","_left",521],["T_WHITESPACE","  ",521],".",["T_WHITESPACE"," ",521],["T_CONSTANT_ENCAPSED_STRING","' >= :left'",521],")",["T_WHITESPACE","\n            ",521],["T_OBJECT_OPERATOR","->",522],["T_STRING","where",522],"(",["T_VARIABLE","$this",522],["T_OBJECT_OPERATOR","->",522],["T_STRING","_right",522],["T_WHITESPACE"," ",522],".",["T_WHITESPACE"," ",522],["T_CONSTANT_ENCAPSED_STRING","' <= :right'",522],")",["T_WHITESPACE","\n            ",522],["T_OBJECT_OPERATOR","->",523],["T_STRING","order",523],"(",["T_VARIABLE","$this",523],["T_OBJECT_OPERATOR","->",523],["T_STRING","_left",523],")",";",["T_WHITESPACE","\n\n        ",523],["T_VARIABLE","$this",525],["T_OBJECT_OPERATOR","->",525],["T_STRING","_addExtTablesToSelect",525],"(",["T_VARIABLE","$dbSelect",525],")",";",["T_WHITESPACE","\n\n        ",525],["T_VARIABLE","$data",527],["T_WHITESPACE"," ",527],"=",["T_WHITESPACE"," ",527],["T_ARRAY","array",527],"(",")",";",["T_WHITESPACE","\n        ",527],["T_VARIABLE","$data",528],"[",["T_CONSTANT_ENCAPSED_STRING","'left'",528],"]",["T_WHITESPACE"," ",528],"=",["T_WHITESPACE"," ",528],["T_VARIABLE","$info",528],"[",["T_VARIABLE","$this",528],["T_OBJECT_OPERATOR","->",528],["T_STRING","_left",528],"]",";",["T_WHITESPACE","\n        ",528],["T_VARIABLE","$data",529],"[",["T_CONSTANT_ENCAPSED_STRING","'right'",529],"]",["T_WHITESPACE"," ",529],"=",["T_WHITESPACE"," ",529],["T_VARIABLE","$info",529],"[",["T_VARIABLE","$this",529],["T_OBJECT_OPERATOR","->",529],["T_STRING","_right",529],"]",";",["T_WHITESPACE","\n\n        ",529],["T_IF","if",531],["T_WHITESPACE"," ",531],"(","!",["T_EMPTY","empty",531],"(",["T_VARIABLE","$start_level",531],")",["T_WHITESPACE"," ",531],["T_BOOLEAN_AND","&&",531],["T_WHITESPACE"," ",531],["T_EMPTY","empty",531],"(",["T_VARIABLE","$end_level",531],")",")",["T_WHITESPACE"," ",531],"{",["T_WHITESPACE","\n            ",531],["T_VARIABLE","$dbSelect",532],["T_OBJECT_OPERATOR","->",532],["T_STRING","where",532],"(",["T_VARIABLE","$this",532],["T_OBJECT_OPERATOR","->",532],["T_STRING","_level",532],["T_WHITESPACE"," ",532],".",["T_WHITESPACE"," ",532],["T_CONSTANT_ENCAPSED_STRING","' = :minLevel'",532],")",";",["T_WHITESPACE","\n            ",532],["T_VARIABLE","$data",533],"[",["T_CONSTANT_ENCAPSED_STRING","'minLevel'",533],"]",["T_WHITESPACE"," ",533],"=",["T_WHITESPACE"," ",533],["T_VARIABLE","$info",533],"[",["T_VARIABLE","$this",533],["T_OBJECT_OPERATOR","->",533],["T_STRING","_level",533],"]",["T_WHITESPACE"," ",533],"+",["T_WHITESPACE"," ",533],["T_VARIABLE","$start_level",533],";",["T_WHITESPACE","\n        ",533],"}",["T_WHITESPACE","\n\n        ",534],["T_COMMENT","\/\/echo $dbSelect->__toString();\n",536],["T_WHITESPACE","        ",537],["T_VARIABLE","$data",537],["T_WHITESPACE"," ",537],"=",["T_WHITESPACE"," ",537],["T_VARIABLE","$this",537],["T_OBJECT_OPERATOR","->",537],["T_STRING","_db",537],["T_OBJECT_OPERATOR","->",537],["T_STRING","fetchAll",537],"(",["T_VARIABLE","$dbSelect",537],",",["T_WHITESPACE"," ",537],["T_VARIABLE","$data",537],")",";",["T_WHITESPACE","\n\n        ",537],["T_VARIABLE","$nodeSet",539],["T_WHITESPACE"," ",539],"=",["T_WHITESPACE"," ",539],["T_NEW","new",539],["T_WHITESPACE"," ",539],["T_STRING","Varien_Db_Tree_NodeSet",539],"(",")",";",["T_WHITESPACE","\n        ",539],["T_FOREACH","foreach",540],["T_WHITESPACE"," ",540],"(",["T_VARIABLE","$data",540],["T_WHITESPACE"," ",540],["T_AS","as",540],["T_WHITESPACE"," ",540],["T_VARIABLE","$node",540],")",["T_WHITESPACE"," ",540],"{",["T_WHITESPACE","\n             ",540],["T_VARIABLE","$nodeSet",541],["T_OBJECT_OPERATOR","->",541],["T_STRING","addNode",541],"(",["T_NEW","new",541],["T_WHITESPACE"," ",541],["T_STRING","Varien_Db_Tree_Node",541],"(",["T_VARIABLE","$node",541],",",["T_WHITESPACE"," ",541],["T_VARIABLE","$this",541],["T_OBJECT_OPERATOR","->",541],["T_STRING","getKeys",541],"(",")",")",")",";",["T_WHITESPACE","\n        ",541],"}",["T_WHITESPACE","\n        ",542],["T_RETURN","return",543],["T_WHITESPACE"," ",543],["T_VARIABLE","$nodeSet",543],";",["T_WHITESPACE","\n    ",543],"}",["T_WHITESPACE","\n\n    ",544],["T_PUBLIC","public",546],["T_WHITESPACE"," ",546],["T_FUNCTION","function",546],["T_WHITESPACE"," ",546],["T_STRING","getNode",546],"(",["T_VARIABLE","$nodeId",546],")",["T_WHITESPACE","\n    ",546],"{",["T_WHITESPACE","\n        ",547],["T_VARIABLE","$dbSelect",548],["T_WHITESPACE"," ",548],"=",["T_WHITESPACE"," ",548],["T_NEW","new",548],["T_WHITESPACE"," ",548],["T_STRING","Zend_Db_Select",548],"(",["T_VARIABLE","$this",548],["T_OBJECT_OPERATOR","->",548],["T_STRING","_db",548],")",";",["T_WHITESPACE","\n        ",548],["T_VARIABLE","$dbSelect",549],["T_OBJECT_OPERATOR","->",549],["T_STRING","from",549],"(",["T_VARIABLE","$this",549],["T_OBJECT_OPERATOR","->",549],["T_STRING","_table",549],")",["T_WHITESPACE","\n            ",549],["T_OBJECT_OPERATOR","->",550],["T_STRING","where",550],"(",["T_VARIABLE","$this",550],["T_OBJECT_OPERATOR","->",550],["T_STRING","_table",550],".",["T_CONSTANT_ENCAPSED_STRING","'.'",550],".",["T_VARIABLE","$this",550],["T_OBJECT_OPERATOR","->",550],["T_STRING","_id",550],["T_WHITESPACE","  ",550],".",["T_WHITESPACE"," ",550],["T_CONSTANT_ENCAPSED_STRING","' >= :id'",550],")",";",["T_WHITESPACE","\n\n        ",550],["T_VARIABLE","$this",552],["T_OBJECT_OPERATOR","->",552],["T_STRING","_addExtTablesToSelect",552],"(",["T_VARIABLE","$dbSelect",552],")",";",["T_WHITESPACE","\n\n        ",552],["T_VARIABLE","$data",554],["T_WHITESPACE"," ",554],"=",["T_WHITESPACE"," ",554],["T_ARRAY","array",554],"(",")",";",["T_WHITESPACE","\n        ",554],["T_VARIABLE","$data",555],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",555],"]",["T_WHITESPACE"," ",555],"=",["T_WHITESPACE"," ",555],["T_VARIABLE","$nodeId",555],";",["T_WHITESPACE","\n\n        ",555],["T_VARIABLE","$data",557],["T_WHITESPACE"," ",557],"=",["T_WHITESPACE"," ",557],["T_VARIABLE","$this",557],["T_OBJECT_OPERATOR","->",557],["T_STRING","_db",557],["T_OBJECT_OPERATOR","->",557],["T_STRING","fetchRow",557],"(",["T_VARIABLE","$dbSelect",557],",",["T_WHITESPACE"," ",557],["T_VARIABLE","$data",557],")",";",["T_WHITESPACE","\n\n        ",557],["T_RETURN","return",559],["T_WHITESPACE"," ",559],["T_NEW","new",559],["T_WHITESPACE"," ",559],["T_STRING","Varien_Db_Tree_Node",559],"(",["T_VARIABLE","$data",559],",",["T_WHITESPACE"," ",559],["T_VARIABLE","$this",559],["T_OBJECT_OPERATOR","->",559],["T_STRING","getKeys",559],"(",")",")",";",["T_WHITESPACE","\n    ",559],"}",["T_WHITESPACE","\n",560],"}",["T_WHITESPACE","\n",561]]