[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Magento\n *\n * NOTICE OF LICENSE\n *\n * This source file is subject to the Open Software License (OSL 3.0)\n * that is bundled with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/opensource.org\/licenses\/osl-3.0.php\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@magento.com so we can send you a copy immediately.\n *\n * DISCLAIMER\n *\n * Do not edit or add to this file if you wish to upgrade Magento to newer\n * versions in the future. If you wish to customize Magento for your\n * needs please refer to http:\/\/www.magento.com for more information.\n *\n * @category    Varien\n * @package     Varien_Data\n * @copyright  Copyright (c) 2006-2016 X.commerce, Inc. and affiliates (http:\/\/www.magento.com)\n * @license    http:\/\/opensource.org\/licenses\/osl-3.0.php  Open Software License (OSL 3.0)\n *\/",2],["T_WHITESPACE","\n\n\n",25],["T_DOC_COMMENT","\/**\n * Data DB tree\n *\n * Data model:\n * id  |  path  |  order\n *\n * @category   Varien\n * @package    Varien_Data\n * @author      Magento Core Team <core@magentocommerce.com>\n *\/",28],["T_WHITESPACE","\n",37],["T_CLASS","class",38],["T_WHITESPACE"," ",38],["T_STRING","Varien_Data_Tree_Dbp",38],["T_WHITESPACE"," ",38],["T_EXTENDS","extends",38],["T_WHITESPACE"," ",38],["T_STRING","Varien_Data_Tree",38],["T_WHITESPACE","\n",38],"{",["T_WHITESPACE","\n\n    ",39],["T_CONST","const",41],["T_WHITESPACE"," ",41],["T_STRING","ID_FIELD",41],["T_WHITESPACE","      ",41],"=",["T_WHITESPACE"," ",41],["T_CONSTANT_ENCAPSED_STRING","'id'",41],";",["T_WHITESPACE","\n    ",41],["T_CONST","const",42],["T_WHITESPACE"," ",42],["T_STRING","PATH_FIELD",42],["T_WHITESPACE","    ",42],"=",["T_WHITESPACE"," ",42],["T_CONSTANT_ENCAPSED_STRING","'path'",42],";",["T_WHITESPACE","\n    ",42],["T_CONST","const",43],["T_WHITESPACE"," ",43],["T_STRING","ORDER_FIELD",43],["T_WHITESPACE","   ",43],"=",["T_WHITESPACE"," ",43],["T_CONSTANT_ENCAPSED_STRING","'order'",43],";",["T_WHITESPACE","\n    ",43],["T_CONST","const",44],["T_WHITESPACE"," ",44],["T_STRING","LEVEL_FIELD",44],["T_WHITESPACE","   ",44],"=",["T_WHITESPACE"," ",44],["T_CONSTANT_ENCAPSED_STRING","'level'",44],";",["T_WHITESPACE","\n\n    ",44],["T_DOC_COMMENT","\/**\n     * DB connection\n     *\n     * @var Zend_Db_Adapter_Abstract\n     *\/",46],["T_WHITESPACE","\n    ",50],["T_PROTECTED","protected",51],["T_WHITESPACE"," ",51],["T_VARIABLE","$_conn",51],";",["T_WHITESPACE","\n\n    ",51],["T_DOC_COMMENT","\/**\n     * Data table name\n     *\n     * @var string\n     *\/",53],["T_WHITESPACE","\n    ",57],["T_PROTECTED","protected",58],["T_WHITESPACE"," ",58],["T_VARIABLE","$_table",58],";",["T_WHITESPACE","\n\n    ",58],["T_PROTECTED","protected",60],["T_WHITESPACE"," ",60],["T_VARIABLE","$_loaded",60],["T_WHITESPACE"," ",60],"=",["T_WHITESPACE"," ",60],["T_STRING","false",60],";",["T_WHITESPACE","\n\n    ",60],["T_DOC_COMMENT","\/**\n     * SQL select object\n     *\n     * @var Zend_Db_Select\n     *\/",62],["T_WHITESPACE","\n    ",66],["T_PROTECTED","protected",67],["T_WHITESPACE"," ",67],["T_VARIABLE","$_select",67],";",["T_WHITESPACE","\n\n    ",67],["T_DOC_COMMENT","\/**\n     * Tree ctructure field names\n     *\n     * @var string\n     *\/",69],["T_WHITESPACE","\n    ",73],["T_PROTECTED","protected",74],["T_WHITESPACE"," ",74],["T_VARIABLE","$_idField",74],";",["T_WHITESPACE","\n    ",74],["T_PROTECTED","protected",75],["T_WHITESPACE"," ",75],["T_VARIABLE","$_pathField",75],";",["T_WHITESPACE","\n    ",75],["T_PROTECTED","protected",76],["T_WHITESPACE"," ",76],["T_VARIABLE","$_orderField",76],";",["T_WHITESPACE","\n    ",76],["T_PROTECTED","protected",77],["T_WHITESPACE"," ",77],["T_VARIABLE","$_levelField",77],";",["T_WHITESPACE","\n\n    ",77],["T_DOC_COMMENT","\/**\n     * Db tree constructor\n     *\n     * $fields = array(\n     *      Varien_Data_Tree_Dbp::ID_FIELD       => string,\n     *      Varien_Data_Tree_Dbp::PATH_FIELD     => string,\n     *      Varien_Data_Tree_Dbp::ORDER_FIELD    => string\n     *      Varien_Data_Tree_Dbp::LEVEL_FIELD    => string\n     * )\n     *\n     * @param Zend_Db_Adapter_Abstract $connection\n     * @param string $table\n     * @param array $fields\n     *\/",79],["T_WHITESPACE","\n    ",92],["T_PUBLIC","public",93],["T_WHITESPACE"," ",93],["T_FUNCTION","function",93],["T_WHITESPACE"," ",93],["T_STRING","__construct",93],"(",["T_VARIABLE","$connection",93],",",["T_WHITESPACE"," ",93],["T_VARIABLE","$table",93],",",["T_WHITESPACE"," ",93],["T_VARIABLE","$fields",93],")",["T_WHITESPACE","\n    ",93],"{",["T_WHITESPACE","\n        ",94],["T_STRING","parent",95],["T_DOUBLE_COLON","::",95],["T_STRING","__construct",95],"(",")",";",["T_WHITESPACE","\n\n        ",95],["T_IF","if",97],["T_WHITESPACE"," ",97],"(","!",["T_VARIABLE","$connection",97],")",["T_WHITESPACE"," ",97],"{",["T_WHITESPACE","\n            ",97],["T_THROW","throw",98],["T_WHITESPACE"," ",98],["T_NEW","new",98],["T_WHITESPACE"," ",98],["T_STRING","Exception",98],"(",["T_CONSTANT_ENCAPSED_STRING","'Wrong \"$connection\" parametr'",98],")",";",["T_WHITESPACE","\n        ",98],"}",["T_WHITESPACE","\n\n        ",99],["T_VARIABLE","$this",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","_conn",101],["T_WHITESPACE","    ",101],"=",["T_WHITESPACE"," ",101],["T_VARIABLE","$connection",101],";",["T_WHITESPACE","\n        ",101],["T_VARIABLE","$this",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","_table",102],["T_WHITESPACE","   ",102],"=",["T_WHITESPACE"," ",102],["T_VARIABLE","$table",102],";",["T_WHITESPACE","\n\n        ",102],["T_IF","if",104],["T_WHITESPACE"," ",104],"(","!",["T_ISSET","isset",104],"(",["T_VARIABLE","$fields",104],"[",["T_STRING","self",104],["T_DOUBLE_COLON","::",104],["T_STRING","ID_FIELD",104],"]",")",["T_WHITESPACE"," ",104],["T_BOOLEAN_OR","||",104],["T_WHITESPACE","\n            ",104],"!",["T_ISSET","isset",105],"(",["T_VARIABLE","$fields",105],"[",["T_STRING","self",105],["T_DOUBLE_COLON","::",105],["T_STRING","PATH_FIELD",105],"]",")",["T_WHITESPACE"," ",105],["T_BOOLEAN_OR","||",105],["T_WHITESPACE","\n            ",105],"!",["T_ISSET","isset",106],"(",["T_VARIABLE","$fields",106],"[",["T_STRING","self",106],["T_DOUBLE_COLON","::",106],["T_STRING","LEVEL_FIELD",106],"]",")",["T_WHITESPACE"," ",106],["T_BOOLEAN_OR","||",106],["T_WHITESPACE","\n            ",106],"!",["T_ISSET","isset",107],"(",["T_VARIABLE","$fields",107],"[",["T_STRING","self",107],["T_DOUBLE_COLON","::",107],["T_STRING","ORDER_FIELD",107],"]",")",")",["T_WHITESPACE"," ",107],"{",["T_WHITESPACE","\n\n            ",107],["T_THROW","throw",109],["T_WHITESPACE"," ",109],["T_NEW","new",109],["T_WHITESPACE"," ",109],["T_STRING","Exception",109],"(",["T_CONSTANT_ENCAPSED_STRING","'\"$fields\" tree configuratin array'",109],")",";",["T_WHITESPACE","\n        ",109],"}",["T_WHITESPACE","\n\n        ",110],["T_VARIABLE","$this",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","_idField",112],["T_WHITESPACE","     ",112],"=",["T_WHITESPACE"," ",112],["T_VARIABLE","$fields",112],"[",["T_STRING","self",112],["T_DOUBLE_COLON","::",112],["T_STRING","ID_FIELD",112],"]",";",["T_WHITESPACE","\n        ",112],["T_VARIABLE","$this",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","_pathField",113],["T_WHITESPACE","   ",113],"=",["T_WHITESPACE"," ",113],["T_VARIABLE","$fields",113],"[",["T_STRING","self",113],["T_DOUBLE_COLON","::",113],["T_STRING","PATH_FIELD",113],"]",";",["T_WHITESPACE","\n        ",113],["T_VARIABLE","$this",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","_orderField",114],["T_WHITESPACE","  ",114],"=",["T_WHITESPACE"," ",114],["T_VARIABLE","$fields",114],"[",["T_STRING","self",114],["T_DOUBLE_COLON","::",114],["T_STRING","ORDER_FIELD",114],"]",";",["T_WHITESPACE","\n        ",114],["T_VARIABLE","$this",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","_levelField",115],["T_WHITESPACE","  ",115],"=",["T_WHITESPACE"," ",115],["T_VARIABLE","$fields",115],"[",["T_STRING","self",115],["T_DOUBLE_COLON","::",115],["T_STRING","LEVEL_FIELD",115],"]",";",["T_WHITESPACE","\n\n        ",115],["T_VARIABLE","$this",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","_select",117],["T_WHITESPACE","  ",117],"=",["T_WHITESPACE"," ",117],["T_VARIABLE","$this",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","_conn",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","select",117],"(",")",";",["T_WHITESPACE","\n        ",117],["T_VARIABLE","$this",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","_select",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","from",118],"(",["T_VARIABLE","$this",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","_table",118],")",";",["T_WHITESPACE","\n    ",118],"}",["T_WHITESPACE","\n\n    ",119],["T_DOC_COMMENT","\/**\n     * Retrieve current select object\n     *\n     * @return Varien_Db_Select\n     *\/",121],["T_WHITESPACE","\n    ",125],["T_PUBLIC","public",126],["T_WHITESPACE"," ",126],["T_FUNCTION","function",126],["T_WHITESPACE"," ",126],["T_STRING","getDbSelect",126],"(",")",["T_WHITESPACE","\n    ",126],"{",["T_WHITESPACE","\n        ",127],["T_RETURN","return",128],["T_WHITESPACE"," ",128],["T_VARIABLE","$this",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","_select",128],";",["T_WHITESPACE","\n    ",128],"}",["T_WHITESPACE","\n\n    ",129],["T_DOC_COMMENT","\/**\n     * Set Select object\n     *\n     * @param Varien_Db_Select $select\n     *\/",131],["T_WHITESPACE","\n    ",135],["T_PUBLIC","public",136],["T_WHITESPACE"," ",136],["T_FUNCTION","function",136],["T_WHITESPACE"," ",136],["T_STRING","setDbSelect",136],"(",["T_VARIABLE","$select",136],")",["T_WHITESPACE","\n    ",136],"{",["T_WHITESPACE","\n        ",137],["T_VARIABLE","$this",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","_select",138],["T_WHITESPACE"," ",138],"=",["T_WHITESPACE"," ",138],["T_VARIABLE","$select",138],";",["T_WHITESPACE","\n    ",138],"}",["T_WHITESPACE","\n\n    ",139],["T_DOC_COMMENT","\/**\n     * Load tree\n     *\n     * @param   int|Varien_Data_Tree_Node $parentNode\n     * @return  Varien_Data_Tree_Dbp\n     *\/",141],["T_WHITESPACE","\n    ",146],["T_PUBLIC","public",147],["T_WHITESPACE"," ",147],["T_FUNCTION","function",147],["T_WHITESPACE"," ",147],["T_STRING","load",147],"(",["T_VARIABLE","$parentNode",147],"=",["T_STRING","null",147],",",["T_WHITESPACE"," ",147],["T_VARIABLE","$recursionLevel",147],["T_WHITESPACE"," ",147],"=",["T_WHITESPACE"," ",147],["T_LNUMBER","0",147],")",["T_WHITESPACE","\n    ",147],"{",["T_WHITESPACE","\n        ",148],["T_IF","if",149],["T_WHITESPACE"," ",149],"(","!",["T_VARIABLE","$this",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","_loaded",149],")",["T_WHITESPACE"," ",149],"{",["T_WHITESPACE","\n            ",149],["T_VARIABLE","$startLevel",150],["T_WHITESPACE"," ",150],"=",["T_WHITESPACE"," ",150],["T_LNUMBER","1",150],";",["T_WHITESPACE","\n            ",150],["T_VARIABLE","$parentPath",151],["T_WHITESPACE"," ",151],"=",["T_WHITESPACE"," ",151],["T_CONSTANT_ENCAPSED_STRING","''",151],";",["T_WHITESPACE","\n\n            ",151],["T_IF","if",153],["T_WHITESPACE"," ",153],"(",["T_VARIABLE","$parentNode",153],["T_WHITESPACE"," ",153],["T_INSTANCEOF","instanceof",153],["T_WHITESPACE"," ",153],["T_STRING","Varien_Data_Tree_Node",153],")",["T_WHITESPACE"," ",153],"{",["T_WHITESPACE","\n                ",153],["T_VARIABLE","$parentPath",154],["T_WHITESPACE"," ",154],"=",["T_WHITESPACE"," ",154],["T_VARIABLE","$parentNode",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","getData",154],"(",["T_VARIABLE","$this",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","_pathField",154],")",";",["T_WHITESPACE","\n                ",154],["T_VARIABLE","$startLevel",155],["T_WHITESPACE"," ",155],"=",["T_WHITESPACE"," ",155],["T_VARIABLE","$parentNode",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","getData",155],"(",["T_VARIABLE","$this",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","_levelField",155],")",";",["T_WHITESPACE","\n            ",155],"}",["T_WHITESPACE"," ",156],["T_ELSE","else",156],["T_WHITESPACE"," ",156],["T_IF","if",156],["T_WHITESPACE"," ",156],"(",["T_STRING","is_numeric",156],"(",["T_VARIABLE","$parentNode",156],")",")",["T_WHITESPACE"," ",156],"{",["T_WHITESPACE","\n                ",156],["T_VARIABLE","$select",157],["T_WHITESPACE"," ",157],"=",["T_WHITESPACE"," ",157],["T_VARIABLE","$this",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","_conn",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","select",157],"(",")",["T_WHITESPACE","\n                    ",157],["T_OBJECT_OPERATOR","->",158],["T_STRING","from",158],"(",["T_VARIABLE","$this",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","_table",158],",",["T_WHITESPACE"," ",158],["T_ARRAY","array",158],"(",["T_VARIABLE","$this",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","_pathField",158],",",["T_WHITESPACE"," ",158],["T_VARIABLE","$this",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","_levelField",158],")",")",["T_WHITESPACE","\n                    ",158],["T_OBJECT_OPERATOR","->",159],["T_STRING","where",159],"(","\"",["T_CURLY_OPEN","{",159],["T_VARIABLE","$this",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","_idField",159],"}",["T_ENCAPSED_AND_WHITESPACE"," = ?",159],"\"",",",["T_WHITESPACE"," ",159],["T_VARIABLE","$parentNode",159],")",";",["T_WHITESPACE","\n                ",159],["T_VARIABLE","$parent",160],["T_WHITESPACE"," ",160],"=",["T_WHITESPACE"," ",160],["T_VARIABLE","$this",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","_conn",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","fetchRow",160],"(",["T_VARIABLE","$select",160],")",";",["T_WHITESPACE","\n\n                ",160],["T_VARIABLE","$startLevel",162],["T_WHITESPACE"," ",162],"=",["T_WHITESPACE"," ",162],["T_VARIABLE","$parent",162],"[",["T_VARIABLE","$this",162],["T_OBJECT_OPERATOR","->",162],["T_STRING","_levelField",162],"]",";",["T_WHITESPACE","\n                ",162],["T_VARIABLE","$parentPath",163],["T_WHITESPACE"," ",163],"=",["T_WHITESPACE"," ",163],["T_VARIABLE","$parent",163],"[",["T_VARIABLE","$this",163],["T_OBJECT_OPERATOR","->",163],["T_STRING","_pathField",163],"]",";",["T_WHITESPACE","\n                ",163],["T_VARIABLE","$parentNode",164],["T_WHITESPACE"," ",164],"=",["T_WHITESPACE"," ",164],["T_STRING","null",164],";",["T_WHITESPACE","\n            ",164],"}",["T_WHITESPACE"," ",165],["T_ELSE","else",165],["T_WHITESPACE"," ",165],["T_IF","if",165],["T_WHITESPACE"," ",165],"(",["T_STRING","is_string",165],"(",["T_VARIABLE","$parentNode",165],")",")",["T_WHITESPACE"," ",165],"{",["T_WHITESPACE","\n                ",165],["T_VARIABLE","$parentPath",166],["T_WHITESPACE"," ",166],"=",["T_WHITESPACE"," ",166],["T_VARIABLE","$parentNode",166],";",["T_WHITESPACE","\n                ",166],["T_VARIABLE","$startLevel",167],["T_WHITESPACE"," ",167],"=",["T_WHITESPACE"," ",167],["T_STRING","count",167],"(",["T_STRING","explode",167],"(",["T_VARIABLE","$parentPath",167],")",")","-",["T_LNUMBER","1",167],";",["T_WHITESPACE","\n                ",167],["T_VARIABLE","$parentNode",168],["T_WHITESPACE"," ",168],"=",["T_WHITESPACE"," ",168],["T_STRING","null",168],";",["T_WHITESPACE","\n            ",168],"}",["T_WHITESPACE","\n\n            ",169],["T_VARIABLE","$select",171],["T_WHITESPACE"," ",171],"=",["T_WHITESPACE"," ",171],["T_CLONE","clone",171],["T_WHITESPACE"," ",171],["T_VARIABLE","$this",171],["T_OBJECT_OPERATOR","->",171],["T_STRING","_select",171],";",["T_WHITESPACE","\n\n            ",171],["T_VARIABLE","$select",173],["T_OBJECT_OPERATOR","->",173],["T_STRING","order",173],"(",["T_VARIABLE","$this",173],["T_OBJECT_OPERATOR","->",173],["T_STRING","_table",173],["T_WHITESPACE"," ",173],".",["T_WHITESPACE"," ",173],["T_CONSTANT_ENCAPSED_STRING","'.'",173],["T_WHITESPACE"," ",173],".",["T_WHITESPACE"," ",173],["T_VARIABLE","$this",173],["T_OBJECT_OPERATOR","->",173],["T_STRING","_orderField",173],["T_WHITESPACE"," ",173],".",["T_WHITESPACE"," ",173],["T_CONSTANT_ENCAPSED_STRING","' ASC'",173],")",";",["T_WHITESPACE","\n            ",173],["T_IF","if",174],["T_WHITESPACE"," ",174],"(",["T_VARIABLE","$parentPath",174],")",["T_WHITESPACE"," ",174],"{",["T_WHITESPACE","\n                ",174],["T_VARIABLE","$pathField",175],["T_WHITESPACE"," ",175],"=",["T_WHITESPACE"," ",175],["T_VARIABLE","$this",175],["T_OBJECT_OPERATOR","->",175],["T_STRING","_conn",175],["T_OBJECT_OPERATOR","->",175],["T_STRING","quoteIdentifier",175],"(",["T_ARRAY","array",175],"(",["T_VARIABLE","$this",175],["T_OBJECT_OPERATOR","->",175],["T_STRING","_table",175],",",["T_WHITESPACE"," ",175],["T_VARIABLE","$this",175],["T_OBJECT_OPERATOR","->",175],["T_STRING","_pathField",175],")",")",";",["T_WHITESPACE","\n                ",175],["T_VARIABLE","$select",176],["T_OBJECT_OPERATOR","->",176],["T_STRING","where",176],"(","\"",["T_CURLY_OPEN","{",176],["T_VARIABLE","$pathField",176],"}",["T_ENCAPSED_AND_WHITESPACE"," LIKE ?",176],"\"",",",["T_WHITESPACE"," ",176],"\"",["T_CURLY_OPEN","{",176],["T_VARIABLE","$parentPath",176],"}",["T_ENCAPSED_AND_WHITESPACE","\/%",176],"\"",")",";",["T_WHITESPACE","\n            ",176],"}",["T_WHITESPACE","\n            ",177],["T_IF","if",178],["T_WHITESPACE"," ",178],"(",["T_VARIABLE","$recursionLevel",178],["T_WHITESPACE"," ",178],["T_IS_NOT_EQUAL","!=",178],["T_WHITESPACE"," ",178],["T_LNUMBER","0",178],")",["T_WHITESPACE"," ",178],"{",["T_WHITESPACE","\n                ",178],["T_VARIABLE","$levelField",179],["T_WHITESPACE"," ",179],"=",["T_WHITESPACE"," ",179],["T_VARIABLE","$this",179],["T_OBJECT_OPERATOR","->",179],["T_STRING","_conn",179],["T_OBJECT_OPERATOR","->",179],["T_STRING","quoteIdentifier",179],"(",["T_ARRAY","array",179],"(",["T_VARIABLE","$this",179],["T_OBJECT_OPERATOR","->",179],["T_STRING","_table",179],",",["T_WHITESPACE"," ",179],["T_VARIABLE","$this",179],["T_OBJECT_OPERATOR","->",179],["T_STRING","_levelField",179],")",")",";",["T_WHITESPACE","\n                ",179],["T_VARIABLE","$select",180],["T_OBJECT_OPERATOR","->",180],["T_STRING","where",180],"(","\"",["T_CURLY_OPEN","{",180],["T_VARIABLE","$levelField",180],"}",["T_ENCAPSED_AND_WHITESPACE"," <= ?",180],"\"",",",["T_WHITESPACE"," ",180],["T_VARIABLE","$startLevel",180],["T_WHITESPACE"," ",180],"+",["T_WHITESPACE"," ",180],["T_VARIABLE","$recursionLevel",180],")",";",["T_WHITESPACE","\n            ",180],"}",["T_WHITESPACE","\n\n            ",181],["T_VARIABLE","$arrNodes",183],["T_WHITESPACE"," ",183],"=",["T_WHITESPACE"," ",183],["T_VARIABLE","$this",183],["T_OBJECT_OPERATOR","->",183],["T_STRING","_conn",183],["T_OBJECT_OPERATOR","->",183],["T_STRING","fetchAll",183],"(",["T_VARIABLE","$select",183],")",";",["T_WHITESPACE","\n\n            ",183],["T_VARIABLE","$childrenItems",185],["T_WHITESPACE"," ",185],"=",["T_WHITESPACE"," ",185],["T_ARRAY","array",185],"(",")",";",["T_WHITESPACE","\n\n            ",185],["T_FOREACH","foreach",187],["T_WHITESPACE"," ",187],"(",["T_VARIABLE","$arrNodes",187],["T_WHITESPACE"," ",187],["T_AS","as",187],["T_WHITESPACE"," ",187],["T_VARIABLE","$nodeInfo",187],")",["T_WHITESPACE"," ",187],"{",["T_WHITESPACE","\n                ",187],["T_VARIABLE","$pathToParent",188],["T_WHITESPACE"," ",188],"=",["T_WHITESPACE"," ",188],["T_STRING","explode",188],"(",["T_CONSTANT_ENCAPSED_STRING","'\/'",188],",",["T_WHITESPACE"," ",188],["T_VARIABLE","$nodeInfo",188],"[",["T_VARIABLE","$this",188],["T_OBJECT_OPERATOR","->",188],["T_STRING","_pathField",188],"]",")",";",["T_WHITESPACE","\n                ",188],["T_STRING","array_pop",189],"(",["T_VARIABLE","$pathToParent",189],")",";",["T_WHITESPACE","\n                ",189],["T_VARIABLE","$pathToParent",190],["T_WHITESPACE"," ",190],"=",["T_WHITESPACE"," ",190],["T_STRING","implode",190],"(",["T_CONSTANT_ENCAPSED_STRING","'\/'",190],",",["T_WHITESPACE"," ",190],["T_VARIABLE","$pathToParent",190],")",";",["T_WHITESPACE","\n                ",190],["T_VARIABLE","$childrenItems",191],"[",["T_VARIABLE","$pathToParent",191],"]","[","]",["T_WHITESPACE"," ",191],"=",["T_WHITESPACE"," ",191],["T_VARIABLE","$nodeInfo",191],";",["T_WHITESPACE","\n            ",191],"}",["T_WHITESPACE","\n\n            ",192],["T_VARIABLE","$this",194],["T_OBJECT_OPERATOR","->",194],["T_STRING","addChildNodes",194],"(",["T_VARIABLE","$childrenItems",194],",",["T_WHITESPACE"," ",194],["T_VARIABLE","$parentPath",194],",",["T_WHITESPACE"," ",194],["T_VARIABLE","$parentNode",194],")",";",["T_WHITESPACE","\n\n            ",194],["T_VARIABLE","$this",196],["T_OBJECT_OPERATOR","->",196],["T_STRING","_loaded",196],["T_WHITESPACE"," ",196],"=",["T_WHITESPACE"," ",196],["T_STRING","true",196],";",["T_WHITESPACE","\n        ",196],"}",["T_WHITESPACE","\n\n        ",197],["T_RETURN","return",199],["T_WHITESPACE"," ",199],["T_VARIABLE","$this",199],";",["T_WHITESPACE","\n    ",199],"}",["T_WHITESPACE","\n\n    ",200],["T_PUBLIC","public",202],["T_WHITESPACE"," ",202],["T_FUNCTION","function",202],["T_WHITESPACE"," ",202],["T_STRING","addChildNodes",202],"(",["T_VARIABLE","$children",202],",",["T_WHITESPACE"," ",202],["T_VARIABLE","$path",202],",",["T_WHITESPACE"," ",202],["T_VARIABLE","$parentNode",202],",",["T_WHITESPACE"," ",202],["T_VARIABLE","$level",202],["T_WHITESPACE"," ",202],"=",["T_WHITESPACE"," ",202],["T_LNUMBER","0",202],")",["T_WHITESPACE","\n    ",202],"{",["T_WHITESPACE","\n        ",203],["T_IF","if",204],["T_WHITESPACE"," ",204],"(",["T_ISSET","isset",204],"(",["T_VARIABLE","$children",204],"[",["T_VARIABLE","$path",204],"]",")",")",["T_WHITESPACE"," ",204],"{",["T_WHITESPACE","\n            ",204],["T_FOREACH","foreach",205],["T_WHITESPACE"," ",205],"(",["T_VARIABLE","$children",205],"[",["T_VARIABLE","$path",205],"]",["T_WHITESPACE"," ",205],["T_AS","as",205],["T_WHITESPACE"," ",205],["T_VARIABLE","$child",205],")",["T_WHITESPACE"," ",205],"{",["T_WHITESPACE","\n                ",205],["T_VARIABLE","$nodeId",206],["T_WHITESPACE"," ",206],"=",["T_WHITESPACE"," ",206],["T_ISSET","isset",206],"(",["T_VARIABLE","$child",206],"[",["T_VARIABLE","$this",206],["T_OBJECT_OPERATOR","->",206],["T_STRING","_idField",206],"]",")","?",["T_VARIABLE","$child",206],"[",["T_VARIABLE","$this",206],["T_OBJECT_OPERATOR","->",206],["T_STRING","_idField",206],"]",":",["T_STRING","false",206],";",["T_WHITESPACE","\n                ",206],["T_IF","if",207],["T_WHITESPACE"," ",207],"(",["T_VARIABLE","$parentNode",207],["T_WHITESPACE"," ",207],["T_BOOLEAN_AND","&&",207],["T_WHITESPACE"," ",207],["T_VARIABLE","$nodeId",207],["T_WHITESPACE"," ",207],["T_BOOLEAN_AND","&&",207],["T_WHITESPACE"," ",207],["T_VARIABLE","$node",207],["T_WHITESPACE"," ",207],"=",["T_WHITESPACE"," ",207],["T_VARIABLE","$parentNode",207],["T_OBJECT_OPERATOR","->",207],["T_STRING","getChildren",207],"(",")",["T_OBJECT_OPERATOR","->",207],["T_STRING","searchById",207],"(",["T_VARIABLE","$nodeId",207],")",")",["T_WHITESPACE"," ",207],"{",["T_WHITESPACE","\n                    ",207],["T_VARIABLE","$node",208],["T_OBJECT_OPERATOR","->",208],["T_STRING","addData",208],"(",["T_VARIABLE","$child",208],")",";",["T_WHITESPACE","\n                ",208],"}",["T_WHITESPACE"," ",209],["T_ELSE","else",209],["T_WHITESPACE"," ",209],"{",["T_WHITESPACE","\n                    ",209],["T_VARIABLE","$node",210],["T_WHITESPACE"," ",210],"=",["T_WHITESPACE"," ",210],["T_NEW","new",210],["T_WHITESPACE"," ",210],["T_STRING","Varien_Data_Tree_Node",210],"(",["T_VARIABLE","$child",210],",",["T_WHITESPACE"," ",210],["T_VARIABLE","$this",210],["T_OBJECT_OPERATOR","->",210],["T_STRING","_idField",210],",",["T_WHITESPACE"," ",210],["T_VARIABLE","$this",210],",",["T_WHITESPACE"," ",210],["T_VARIABLE","$parentNode",210],")",";",["T_WHITESPACE","\n                ",210],"}",["T_WHITESPACE","\n\n                ",211],["T_COMMENT","\/\/$node->setLevel(count(explode('\/', $node->getData($this->_pathField)))-1);\n",213],["T_WHITESPACE","                ",214],["T_VARIABLE","$node",214],["T_OBJECT_OPERATOR","->",214],["T_STRING","setLevel",214],"(",["T_VARIABLE","$node",214],["T_OBJECT_OPERATOR","->",214],["T_STRING","getData",214],"(",["T_VARIABLE","$this",214],["T_OBJECT_OPERATOR","->",214],["T_STRING","_levelField",214],")",")",";",["T_WHITESPACE","\n                ",214],["T_VARIABLE","$node",215],["T_OBJECT_OPERATOR","->",215],["T_STRING","setPathId",215],"(",["T_VARIABLE","$node",215],["T_OBJECT_OPERATOR","->",215],["T_STRING","getData",215],"(",["T_VARIABLE","$this",215],["T_OBJECT_OPERATOR","->",215],["T_STRING","_pathField",215],")",")",";",["T_WHITESPACE","\n                ",215],["T_VARIABLE","$this",216],["T_OBJECT_OPERATOR","->",216],["T_STRING","addNode",216],"(",["T_VARIABLE","$node",216],",",["T_WHITESPACE"," ",216],["T_VARIABLE","$parentNode",216],")",";",["T_WHITESPACE","\n\n\n                ",216],["T_IF","if",219],["T_WHITESPACE"," ",219],"(",["T_VARIABLE","$path",219],")",["T_WHITESPACE"," ",219],"{",["T_WHITESPACE","\n                    ",219],["T_VARIABLE","$childrenPath",220],["T_WHITESPACE"," ",220],"=",["T_WHITESPACE"," ",220],["T_STRING","explode",220],"(",["T_CONSTANT_ENCAPSED_STRING","'\/'",220],",",["T_WHITESPACE"," ",220],["T_VARIABLE","$path",220],")",";",["T_WHITESPACE","\n                ",220],"}",["T_WHITESPACE"," ",221],["T_ELSE","else",221],["T_WHITESPACE"," ",221],"{",["T_WHITESPACE","\n                    ",221],["T_VARIABLE","$childrenPath",222],["T_WHITESPACE"," ",222],"=",["T_WHITESPACE"," ",222],["T_ARRAY","array",222],"(",")",";",["T_WHITESPACE","\n                ",222],"}",["T_WHITESPACE","\n                ",223],["T_VARIABLE","$childrenPath",224],"[","]",["T_WHITESPACE"," ",224],"=",["T_WHITESPACE"," ",224],["T_VARIABLE","$node",224],["T_OBJECT_OPERATOR","->",224],["T_STRING","getId",224],"(",")",";",["T_WHITESPACE","\n                ",224],["T_VARIABLE","$childrenPath",225],["T_WHITESPACE"," ",225],"=",["T_WHITESPACE"," ",225],["T_STRING","implode",225],"(",["T_CONSTANT_ENCAPSED_STRING","'\/'",225],",",["T_WHITESPACE"," ",225],["T_VARIABLE","$childrenPath",225],")",";",["T_WHITESPACE","\n\n                ",225],["T_VARIABLE","$this",227],["T_OBJECT_OPERATOR","->",227],["T_STRING","addChildNodes",227],"(",["T_VARIABLE","$children",227],",",["T_WHITESPACE"," ",227],["T_VARIABLE","$childrenPath",227],",",["T_WHITESPACE"," ",227],["T_VARIABLE","$node",227],",",["T_WHITESPACE"," ",227],["T_VARIABLE","$level",227],"+",["T_LNUMBER","1",227],")",";",["T_WHITESPACE","\n            ",227],"}",["T_WHITESPACE","\n        ",228],"}",["T_WHITESPACE","\n    ",229],"}",["T_WHITESPACE","\n\n    ",230],["T_DOC_COMMENT","\/**\n     * Enter description here...\n     *\n     * @param int|string $nodeId\n     * @return Varien_Data_Tree_Node\n     *\/",232],["T_WHITESPACE","\n    ",237],["T_PUBLIC","public",238],["T_WHITESPACE"," ",238],["T_FUNCTION","function",238],["T_WHITESPACE"," ",238],["T_STRING","loadNode",238],"(",["T_VARIABLE","$nodeId",238],")",["T_WHITESPACE","\n    ",238],"{",["T_WHITESPACE","\n        ",239],["T_VARIABLE","$select",240],["T_WHITESPACE"," ",240],"=",["T_WHITESPACE"," ",240],["T_CLONE","clone",240],["T_WHITESPACE"," ",240],["T_VARIABLE","$this",240],["T_OBJECT_OPERATOR","->",240],["T_STRING","_select",240],";",["T_WHITESPACE","\n        ",240],["T_IF","if",241],["T_WHITESPACE"," ",241],"(",["T_STRING","is_numeric",241],"(",["T_VARIABLE","$nodeId",241],")",")",["T_WHITESPACE"," ",241],"{",["T_WHITESPACE","\n            ",241],["T_VARIABLE","$condField",242],["T_WHITESPACE"," ",242],"=",["T_WHITESPACE"," ",242],["T_VARIABLE","$this",242],["T_OBJECT_OPERATOR","->",242],["T_STRING","_conn",242],["T_OBJECT_OPERATOR","->",242],["T_STRING","quoteIdentifier",242],"(",["T_ARRAY","array",242],"(",["T_VARIABLE","$this",242],["T_OBJECT_OPERATOR","->",242],["T_STRING","_table",242],",",["T_WHITESPACE"," ",242],["T_VARIABLE","$this",242],["T_OBJECT_OPERATOR","->",242],["T_STRING","_idField",242],")",")",";",["T_WHITESPACE","\n        ",242],"}",["T_WHITESPACE"," ",243],["T_ELSE","else",243],["T_WHITESPACE"," ",243],"{",["T_WHITESPACE","\n            ",243],["T_VARIABLE","$condField",244],["T_WHITESPACE"," ",244],"=",["T_WHITESPACE"," ",244],["T_VARIABLE","$this",244],["T_OBJECT_OPERATOR","->",244],["T_STRING","_conn",244],["T_OBJECT_OPERATOR","->",244],["T_STRING","quoteIdentifier",244],"(",["T_ARRAY","array",244],"(",["T_VARIABLE","$this",244],["T_OBJECT_OPERATOR","->",244],["T_STRING","_table",244],",",["T_WHITESPACE"," ",244],["T_VARIABLE","$this",244],["T_OBJECT_OPERATOR","->",244],["T_STRING","_pathField",244],")",")",";",["T_WHITESPACE","\n        ",244],"}",["T_WHITESPACE","\n\n        ",245],["T_VARIABLE","$select",247],["T_OBJECT_OPERATOR","->",247],["T_STRING","where",247],"(","\"",["T_CURLY_OPEN","{",247],["T_VARIABLE","$condField",247],"}",["T_ENCAPSED_AND_WHITESPACE"," = ?",247],"\"",",",["T_WHITESPACE"," ",247],["T_VARIABLE","$nodeId",247],")",";",["T_WHITESPACE","\n\n        ",247],["T_VARIABLE","$node",249],["T_WHITESPACE"," ",249],"=",["T_WHITESPACE"," ",249],["T_NEW","new",249],["T_WHITESPACE"," ",249],["T_STRING","Varien_Data_Tree_Node",249],"(",["T_VARIABLE","$this",249],["T_OBJECT_OPERATOR","->",249],["T_STRING","_conn",249],["T_OBJECT_OPERATOR","->",249],["T_STRING","fetchRow",249],"(",["T_VARIABLE","$select",249],")",",",["T_WHITESPACE"," ",249],["T_VARIABLE","$this",249],["T_OBJECT_OPERATOR","->",249],["T_STRING","_idField",249],",",["T_WHITESPACE"," ",249],["T_VARIABLE","$this",249],")",";",["T_WHITESPACE","\n        ",249],["T_VARIABLE","$this",250],["T_OBJECT_OPERATOR","->",250],["T_STRING","addNode",250],"(",["T_VARIABLE","$node",250],")",";",["T_WHITESPACE","\n        ",250],["T_RETURN","return",251],["T_WHITESPACE"," ",251],["T_VARIABLE","$node",251],";",["T_WHITESPACE","\n    ",251],"}",["T_WHITESPACE","\n\n    ",252],["T_PUBLIC","public",254],["T_WHITESPACE"," ",254],["T_FUNCTION","function",254],["T_WHITESPACE"," ",254],["T_STRING","getChildren",254],"(",["T_VARIABLE","$node",254],",",["T_WHITESPACE"," ",254],["T_VARIABLE","$recursive",254],["T_WHITESPACE"," ",254],"=",["T_WHITESPACE"," ",254],["T_STRING","true",254],",",["T_WHITESPACE"," ",254],["T_VARIABLE","$result",254],["T_WHITESPACE"," ",254],"=",["T_WHITESPACE"," ",254],["T_ARRAY","array",254],"(",")",")",["T_WHITESPACE"," ",254],"{",["T_WHITESPACE","\n        ",254],["T_IF","if",255],["T_WHITESPACE"," ",255],"(",["T_STRING","is_numeric",255],"(",["T_VARIABLE","$node",255],")",")",["T_WHITESPACE"," ",255],"{",["T_WHITESPACE","\n            ",255],["T_VARIABLE","$node",256],["T_WHITESPACE"," ",256],"=",["T_WHITESPACE"," ",256],["T_VARIABLE","$this",256],["T_OBJECT_OPERATOR","->",256],["T_STRING","getNodeById",256],"(",["T_VARIABLE","$node",256],")",";",["T_WHITESPACE","\n        ",256],"}",["T_WHITESPACE","\n        ",257],["T_IF","if",258],["T_WHITESPACE"," ",258],"(","!",["T_VARIABLE","$node",258],")",["T_WHITESPACE"," ",258],"{",["T_WHITESPACE","\n            ",258],["T_RETURN","return",259],["T_WHITESPACE"," ",259],["T_VARIABLE","$result",259],";",["T_WHITESPACE","\n        ",259],"}",["T_WHITESPACE","\n\n        ",260],["T_FOREACH","foreach",262],["T_WHITESPACE"," ",262],"(",["T_VARIABLE","$node",262],["T_OBJECT_OPERATOR","->",262],["T_STRING","getChildren",262],"(",")",["T_WHITESPACE"," ",262],["T_AS","as",262],["T_WHITESPACE"," ",262],["T_VARIABLE","$child",262],")",["T_WHITESPACE"," ",262],"{",["T_WHITESPACE","\n            ",262],["T_IF","if",263],["T_WHITESPACE"," ",263],"(",["T_VARIABLE","$recursive",263],")",["T_WHITESPACE"," ",263],"{",["T_WHITESPACE","\n                ",263],["T_IF","if",264],["T_WHITESPACE"," ",264],"(",["T_VARIABLE","$child",264],["T_OBJECT_OPERATOR","->",264],["T_STRING","getChildren",264],"(",")",")",["T_WHITESPACE"," ",264],"{",["T_WHITESPACE","\n                    ",264],["T_VARIABLE","$result",265],["T_WHITESPACE"," ",265],"=",["T_WHITESPACE"," ",265],["T_VARIABLE","$this",265],["T_OBJECT_OPERATOR","->",265],["T_STRING","getChildren",265],"(",["T_VARIABLE","$child",265],",",["T_WHITESPACE"," ",265],["T_VARIABLE","$recursive",265],",",["T_WHITESPACE"," ",265],["T_VARIABLE","$result",265],")",";",["T_WHITESPACE","\n                ",265],"}",["T_WHITESPACE","\n            ",266],"}",["T_WHITESPACE","\n            ",267],["T_VARIABLE","$result",268],"[","]",["T_WHITESPACE"," ",268],"=",["T_WHITESPACE"," ",268],["T_VARIABLE","$child",268],["T_OBJECT_OPERATOR","->",268],["T_STRING","getId",268],"(",")",";",["T_WHITESPACE","\n        ",268],"}",["T_WHITESPACE","\n        ",269],["T_RETURN","return",270],["T_WHITESPACE"," ",270],["T_VARIABLE","$result",270],";",["T_WHITESPACE","\n    ",270],"}",["T_WHITESPACE","\n\n    ",271],["T_DOC_COMMENT","\/**\n     * Move tree node\n     *\n     * @todo Use adapter for generate conditions\n     * @param Varien_Data_Tree_Node $node\n     * @param Varien_Data_Tree_Node $newParent\n     * @param Varien_Data_Tree_Node $prevNode\n     *\/",273],["T_WHITESPACE","\n    ",280],["T_PUBLIC","public",281],["T_WHITESPACE"," ",281],["T_FUNCTION","function",281],["T_WHITESPACE"," ",281],["T_STRING","move",281],"(",["T_VARIABLE","$node",281],",",["T_WHITESPACE"," ",281],["T_VARIABLE","$newParent",281],",",["T_WHITESPACE"," ",281],["T_VARIABLE","$prevNode",281],["T_WHITESPACE"," ",281],"=",["T_WHITESPACE"," ",281],["T_STRING","null",281],")",["T_WHITESPACE","\n    ",281],"{",["T_WHITESPACE","\n        ",282],["T_VARIABLE","$position",283],["T_WHITESPACE"," ",283],"=",["T_WHITESPACE"," ",283],["T_LNUMBER","1",283],";",["T_WHITESPACE","\n\n        ",283],["T_VARIABLE","$oldPath",285],["T_WHITESPACE"," ",285],"=",["T_WHITESPACE"," ",285],["T_VARIABLE","$node",285],["T_OBJECT_OPERATOR","->",285],["T_STRING","getData",285],"(",["T_VARIABLE","$this",285],["T_OBJECT_OPERATOR","->",285],["T_STRING","_pathField",285],")",";",["T_WHITESPACE","\n        ",285],["T_VARIABLE","$newPath",286],["T_WHITESPACE"," ",286],"=",["T_WHITESPACE"," ",286],["T_VARIABLE","$newParent",286],["T_OBJECT_OPERATOR","->",286],["T_STRING","getData",286],"(",["T_VARIABLE","$this",286],["T_OBJECT_OPERATOR","->",286],["T_STRING","_pathField",286],")",";",["T_WHITESPACE","\n\n        ",286],["T_VARIABLE","$newPath",288],["T_WHITESPACE"," ",288],"=",["T_WHITESPACE"," ",288],["T_VARIABLE","$newPath",288],["T_WHITESPACE"," ",288],".",["T_WHITESPACE"," ",288],["T_CONSTANT_ENCAPSED_STRING","'\/'",288],["T_WHITESPACE"," ",288],".",["T_WHITESPACE"," ",288],["T_VARIABLE","$node",288],["T_OBJECT_OPERATOR","->",288],["T_STRING","getId",288],"(",")",";",["T_WHITESPACE","\n        ",288],["T_VARIABLE","$oldPathLength",289],["T_WHITESPACE"," ",289],"=",["T_WHITESPACE"," ",289],["T_STRING","strlen",289],"(",["T_VARIABLE","$oldPath",289],")",";",["T_WHITESPACE","\n\n        ",289],["T_VARIABLE","$newLevel",291],["T_WHITESPACE"," ",291],"=",["T_WHITESPACE"," ",291],["T_VARIABLE","$newParent",291],["T_OBJECT_OPERATOR","->",291],["T_STRING","getLevel",291],"(",")","+",["T_LNUMBER","1",291],";",["T_WHITESPACE","\n        ",291],["T_VARIABLE","$levelDisposition",292],["T_WHITESPACE"," ",292],"=",["T_WHITESPACE"," ",292],["T_VARIABLE","$newLevel",292],"-",["T_VARIABLE","$node",292],["T_OBJECT_OPERATOR","->",292],["T_STRING","getLevel",292],"(",")",";",["T_WHITESPACE","\n\n        ",292],["T_VARIABLE","$data",294],["T_WHITESPACE"," ",294],"=",["T_WHITESPACE"," ",294],["T_ARRAY","array",294],"(",["T_WHITESPACE","\n            ",294],["T_VARIABLE","$this",295],["T_OBJECT_OPERATOR","->",295],["T_STRING","_levelField",295],["T_WHITESPACE"," ",295],["T_DOUBLE_ARROW","=>",295],["T_WHITESPACE"," ",295],["T_NEW","new",295],["T_WHITESPACE"," ",295],["T_STRING","Zend_Db_Expr",295],"(","\"",["T_CURLY_OPEN","{",295],["T_VARIABLE","$this",295],["T_OBJECT_OPERATOR","->",295],["T_STRING","_levelField",295],"}",["T_ENCAPSED_AND_WHITESPACE"," + '",295],["T_CURLY_OPEN","{",295],["T_VARIABLE","$levelDisposition",295],"}",["T_ENCAPSED_AND_WHITESPACE","'",295],"\"",")",",",["T_WHITESPACE","\n            ",295],["T_VARIABLE","$this",296],["T_OBJECT_OPERATOR","->",296],["T_STRING","_pathField",296],["T_WHITESPACE","  ",296],["T_DOUBLE_ARROW","=>",296],["T_WHITESPACE"," ",296],["T_NEW","new",296],["T_WHITESPACE"," ",296],["T_STRING","Zend_Db_Expr",296],"(","\"",["T_ENCAPSED_AND_WHITESPACE","CONCAT('",296],["T_VARIABLE","$newPath",296],["T_ENCAPSED_AND_WHITESPACE","', RIGHT(",296],["T_VARIABLE","$this",296],["T_OBJECT_OPERATOR","->",296],["T_STRING","_pathField",296],["T_ENCAPSED_AND_WHITESPACE",", LENGTH(",296],["T_VARIABLE","$this",296],["T_OBJECT_OPERATOR","->",296],["T_STRING","_pathField",296],["T_ENCAPSED_AND_WHITESPACE",") - ",296],["T_CURLY_OPEN","{",296],["T_VARIABLE","$oldPathLength",296],"}",["T_ENCAPSED_AND_WHITESPACE","))",296],"\"",")",["T_WHITESPACE","\n        ",296],")",";",["T_WHITESPACE","\n        ",297],["T_VARIABLE","$condition",298],["T_WHITESPACE"," ",298],"=",["T_WHITESPACE"," ",298],["T_VARIABLE","$this",298],["T_OBJECT_OPERATOR","->",298],["T_STRING","_conn",298],["T_OBJECT_OPERATOR","->",298],["T_STRING","quoteInto",298],"(","\"",["T_VARIABLE","$this",298],["T_OBJECT_OPERATOR","->",298],["T_STRING","_pathField",298],["T_ENCAPSED_AND_WHITESPACE"," REGEXP ?",298],"\"",",",["T_WHITESPACE"," ",298],"\"",["T_ENCAPSED_AND_WHITESPACE","^",298],["T_VARIABLE","$oldPath",298],["T_ENCAPSED_AND_WHITESPACE","(\/|$)",298],"\"",")",";",["T_WHITESPACE","\n\n        ",298],["T_VARIABLE","$this",300],["T_OBJECT_OPERATOR","->",300],["T_STRING","_conn",300],["T_OBJECT_OPERATOR","->",300],["T_STRING","beginTransaction",300],"(",")",";",["T_WHITESPACE","\n\n        ",300],["T_VARIABLE","$reorderData",302],["T_WHITESPACE"," ",302],"=",["T_WHITESPACE"," ",302],["T_ARRAY","array",302],"(",["T_VARIABLE","$this",302],["T_OBJECT_OPERATOR","->",302],["T_STRING","_orderField",302],["T_WHITESPACE"," ",302],["T_DOUBLE_ARROW","=>",302],["T_WHITESPACE"," ",302],["T_NEW","new",302],["T_WHITESPACE"," ",302],["T_STRING","Zend_Db_Expr",302],"(","\"",["T_VARIABLE","$this",302],["T_OBJECT_OPERATOR","->",302],["T_STRING","_orderField",302],["T_ENCAPSED_AND_WHITESPACE"," + 1",302],"\"",")",")",";",["T_WHITESPACE","\n        ",302],["T_TRY","try",303],["T_WHITESPACE"," ",303],"{",["T_WHITESPACE","\n            ",303],["T_IF","if",304],["T_WHITESPACE"," ",304],"(",["T_VARIABLE","$prevNode",304],["T_WHITESPACE"," ",304],["T_BOOLEAN_AND","&&",304],["T_WHITESPACE"," ",304],["T_VARIABLE","$prevNode",304],["T_OBJECT_OPERATOR","->",304],["T_STRING","getId",304],"(",")",")",["T_WHITESPACE"," ",304],"{",["T_WHITESPACE","\n                ",304],["T_VARIABLE","$reorderCondition",305],["T_WHITESPACE"," ",305],"=",["T_WHITESPACE"," ",305],"\"",["T_CURLY_OPEN","{",305],["T_VARIABLE","$this",305],["T_OBJECT_OPERATOR","->",305],["T_STRING","_orderField",305],"}",["T_ENCAPSED_AND_WHITESPACE"," > ",305],["T_CURLY_OPEN","{",305],["T_VARIABLE","$prevNode",305],["T_OBJECT_OPERATOR","->",305],["T_STRING","getData",305],"(",["T_VARIABLE","$this",305],["T_OBJECT_OPERATOR","->",305],["T_STRING","_orderField",305],")","}","\"",";",["T_WHITESPACE","\n                ",305],["T_VARIABLE","$position",306],["T_WHITESPACE"," ",306],"=",["T_WHITESPACE"," ",306],["T_VARIABLE","$prevNode",306],["T_OBJECT_OPERATOR","->",306],["T_STRING","getData",306],"(",["T_VARIABLE","$this",306],["T_OBJECT_OPERATOR","->",306],["T_STRING","_orderField",306],")",["T_WHITESPACE"," ",306],"+",["T_WHITESPACE"," ",306],["T_LNUMBER","1",306],";",["T_WHITESPACE","\n            ",306],"}",["T_WHITESPACE"," ",307],["T_ELSE","else",307],["T_WHITESPACE"," ",307],"{",["T_WHITESPACE","\n                ",307],["T_VARIABLE","$reorderCondition",308],["T_WHITESPACE"," ",308],"=",["T_WHITESPACE"," ",308],["T_VARIABLE","$this",308],["T_OBJECT_OPERATOR","->",308],["T_STRING","_conn",308],["T_OBJECT_OPERATOR","->",308],["T_STRING","quoteInto",308],"(","\"",["T_CURLY_OPEN","{",308],["T_VARIABLE","$this",308],["T_OBJECT_OPERATOR","->",308],["T_STRING","_pathField",308],"}",["T_ENCAPSED_AND_WHITESPACE"," REGEXP ?",308],"\"",",",["T_WHITESPACE"," ",308],"\"",["T_ENCAPSED_AND_WHITESPACE","^",308],["T_CURLY_OPEN","{",308],["T_VARIABLE","$newParent",308],["T_OBJECT_OPERATOR","->",308],["T_STRING","getData",308],"(",["T_VARIABLE","$this",308],["T_OBJECT_OPERATOR","->",308],["T_STRING","_pathField",308],")","}",["T_ENCAPSED_AND_WHITESPACE","\/[0-9]+$",308],"\"",")",";",["T_WHITESPACE","\n                ",308],["T_VARIABLE","$select",309],["T_WHITESPACE"," ",309],"=",["T_WHITESPACE"," ",309],["T_VARIABLE","$this",309],["T_OBJECT_OPERATOR","->",309],["T_STRING","_conn",309],["T_OBJECT_OPERATOR","->",309],["T_STRING","select",309],"(",")",["T_WHITESPACE","\n                    ",309],["T_OBJECT_OPERATOR","->",310],["T_STRING","from",310],"(",["T_VARIABLE","$this",310],["T_OBJECT_OPERATOR","->",310],["T_STRING","_table",310],",",["T_WHITESPACE"," ",310],["T_NEW","new",310],["T_WHITESPACE"," ",310],["T_STRING","Zend_Db_Expr",310],"(","\"",["T_ENCAPSED_AND_WHITESPACE","MIN(",310],["T_CURLY_OPEN","{",310],["T_VARIABLE","$this",310],["T_OBJECT_OPERATOR","->",310],["T_STRING","_orderField",310],"}",["T_ENCAPSED_AND_WHITESPACE",")",310],"\"",")",")",["T_WHITESPACE","\n                    ",310],["T_OBJECT_OPERATOR","->",311],["T_STRING","where",311],"(",["T_VARIABLE","$reorderCondition",311],")",";",["T_WHITESPACE","\n\n                ",311],["T_VARIABLE","$position",313],["T_WHITESPACE"," ",313],"=",["T_WHITESPACE"," ",313],["T_INT_CAST","(int)",313],["T_WHITESPACE"," ",313],["T_VARIABLE","$this",313],["T_OBJECT_OPERATOR","->",313],["T_STRING","_conn",313],["T_OBJECT_OPERATOR","->",313],["T_STRING","fetchOne",313],"(",["T_VARIABLE","$select",313],")",";",["T_WHITESPACE","\n            ",313],"}",["T_WHITESPACE","\n            ",314],["T_VARIABLE","$this",315],["T_OBJECT_OPERATOR","->",315],["T_STRING","_conn",315],["T_OBJECT_OPERATOR","->",315],["T_STRING","update",315],"(",["T_VARIABLE","$this",315],["T_OBJECT_OPERATOR","->",315],["T_STRING","_table",315],",",["T_WHITESPACE"," ",315],["T_VARIABLE","$reorderData",315],",",["T_WHITESPACE"," ",315],["T_VARIABLE","$reorderCondition",315],")",";",["T_WHITESPACE","\n            ",315],["T_VARIABLE","$this",316],["T_OBJECT_OPERATOR","->",316],["T_STRING","_conn",316],["T_OBJECT_OPERATOR","->",316],["T_STRING","update",316],"(",["T_VARIABLE","$this",316],["T_OBJECT_OPERATOR","->",316],["T_STRING","_table",316],",",["T_WHITESPACE"," ",316],["T_VARIABLE","$data",316],",",["T_WHITESPACE"," ",316],["T_VARIABLE","$condition",316],")",";",["T_WHITESPACE","\n            ",316],["T_VARIABLE","$this",317],["T_OBJECT_OPERATOR","->",317],["T_STRING","_conn",317],["T_OBJECT_OPERATOR","->",317],["T_STRING","update",317],"(",["T_VARIABLE","$this",317],["T_OBJECT_OPERATOR","->",317],["T_STRING","_table",317],",",["T_WHITESPACE"," ",317],["T_ARRAY","array",317],"(",["T_VARIABLE","$this",317],["T_OBJECT_OPERATOR","->",317],["T_STRING","_orderField",317],["T_WHITESPACE"," ",317],["T_DOUBLE_ARROW","=>",317],["T_WHITESPACE"," ",317],["T_VARIABLE","$position",317],",",["T_WHITESPACE"," ",317],["T_VARIABLE","$this",317],["T_OBJECT_OPERATOR","->",317],["T_STRING","_levelField",317],["T_DOUBLE_ARROW","=>",317],["T_VARIABLE","$newLevel",317],")",",",["T_WHITESPACE","\n                ",317],["T_VARIABLE","$this",318],["T_OBJECT_OPERATOR","->",318],["T_STRING","_conn",318],["T_OBJECT_OPERATOR","->",318],["T_STRING","quoteInto",318],"(","\"",["T_CURLY_OPEN","{",318],["T_VARIABLE","$this",318],["T_OBJECT_OPERATOR","->",318],["T_STRING","_idField",318],"}",["T_ENCAPSED_AND_WHITESPACE"," = ?",318],"\"",",",["T_WHITESPACE"," ",318],["T_VARIABLE","$node",318],["T_OBJECT_OPERATOR","->",318],["T_STRING","getId",318],"(",")",")",["T_WHITESPACE","\n            ",318],")",";",["T_WHITESPACE","\n\n            ",319],["T_VARIABLE","$this",321],["T_OBJECT_OPERATOR","->",321],["T_STRING","_conn",321],["T_OBJECT_OPERATOR","->",321],["T_STRING","commit",321],"(",")",";",["T_WHITESPACE","\n        ",321],"}",["T_WHITESPACE"," ",322],["T_CATCH","catch",322],["T_WHITESPACE"," ",322],"(",["T_STRING","Exception",322],["T_WHITESPACE"," ",322],["T_VARIABLE","$e",322],")","{",["T_WHITESPACE","\n            ",322],["T_VARIABLE","$this",323],["T_OBJECT_OPERATOR","->",323],["T_STRING","_conn",323],["T_OBJECT_OPERATOR","->",323],["T_STRING","rollBack",323],"(",")",";",["T_WHITESPACE","\n            ",323],["T_THROW","throw",324],["T_WHITESPACE"," ",324],["T_NEW","new",324],["T_WHITESPACE"," ",324],["T_STRING","Exception",324],"(",["T_CONSTANT_ENCAPSED_STRING","\"Can't move tree node due to error: \"",324],["T_WHITESPACE"," ",324],".",["T_WHITESPACE"," ",324],["T_VARIABLE","$e",324],["T_OBJECT_OPERATOR","->",324],["T_STRING","getMessage",324],"(",")",")",";",["T_WHITESPACE","\n        ",324],"}",["T_WHITESPACE","\n    ",325],"}",["T_WHITESPACE","\n\n    ",326],["T_PUBLIC","public",328],["T_WHITESPACE"," ",328],["T_FUNCTION","function",328],["T_WHITESPACE"," ",328],["T_STRING","loadEnsuredNodes",328],"(",["T_VARIABLE","$category",328],",",["T_WHITESPACE"," ",328],["T_VARIABLE","$rootNode",328],")",["T_WHITESPACE","\n    ",328],"{",["T_WHITESPACE","\n        ",329],["T_VARIABLE","$pathIds",330],["T_WHITESPACE"," ",330],"=",["T_WHITESPACE"," ",330],["T_VARIABLE","$category",330],["T_OBJECT_OPERATOR","->",330],["T_STRING","getPathIds",330],"(",")",";",["T_WHITESPACE","\n        ",330],["T_VARIABLE","$rootNodeId",331],["T_WHITESPACE"," ",331],"=",["T_WHITESPACE"," ",331],["T_VARIABLE","$rootNode",331],["T_OBJECT_OPERATOR","->",331],["T_STRING","getId",331],"(",")",";",["T_WHITESPACE","\n        ",331],["T_VARIABLE","$rootNodePath",332],["T_WHITESPACE"," ",332],"=",["T_WHITESPACE"," ",332],["T_VARIABLE","$rootNode",332],["T_OBJECT_OPERATOR","->",332],["T_STRING","getData",332],"(",["T_VARIABLE","$this",332],["T_OBJECT_OPERATOR","->",332],["T_STRING","_pathField",332],")",";",["T_WHITESPACE","\n\n        ",332],["T_VARIABLE","$select",334],["T_WHITESPACE"," ",334],"=",["T_WHITESPACE"," ",334],["T_CLONE","clone",334],["T_WHITESPACE"," ",334],["T_VARIABLE","$this",334],["T_OBJECT_OPERATOR","->",334],["T_STRING","_select",334],";",["T_WHITESPACE","\n        ",334],["T_VARIABLE","$select",335],["T_OBJECT_OPERATOR","->",335],["T_STRING","order",335],"(",["T_VARIABLE","$this",335],["T_OBJECT_OPERATOR","->",335],["T_STRING","_table",335],".",["T_CONSTANT_ENCAPSED_STRING","'.'",335],".",["T_VARIABLE","$this",335],["T_OBJECT_OPERATOR","->",335],["T_STRING","_orderField",335],["T_WHITESPACE"," ",335],".",["T_WHITESPACE"," ",335],["T_CONSTANT_ENCAPSED_STRING","' ASC'",335],")",";",["T_WHITESPACE","\n\n        ",335],["T_IF","if",337],["T_WHITESPACE"," ",337],"(",["T_VARIABLE","$pathIds",337],")",["T_WHITESPACE"," ",337],"{",["T_WHITESPACE","\n            ",337],["T_VARIABLE","$condition",338],["T_WHITESPACE"," ",338],"=",["T_WHITESPACE"," ",338],["T_VARIABLE","$this",338],["T_OBJECT_OPERATOR","->",338],["T_STRING","_conn",338],["T_OBJECT_OPERATOR","->",338],["T_STRING","quoteInto",338],"(","\"",["T_VARIABLE","$this",338],["T_OBJECT_OPERATOR","->",338],["T_STRING","_table",338],["T_ENCAPSED_AND_WHITESPACE",".",338],["T_VARIABLE","$this",338],["T_OBJECT_OPERATOR","->",338],["T_STRING","_idField",338],["T_ENCAPSED_AND_WHITESPACE"," in (?)",338],"\"",",",["T_WHITESPACE"," ",338],["T_VARIABLE","$pathIds",338],")",";",["T_WHITESPACE","\n            ",338],["T_VARIABLE","$select",339],["T_OBJECT_OPERATOR","->",339],["T_STRING","where",339],"(",["T_VARIABLE","$condition",339],")",";",["T_WHITESPACE","\n        ",339],"}",["T_WHITESPACE","\n\n        ",340],["T_VARIABLE","$arrNodes",342],["T_WHITESPACE"," ",342],"=",["T_WHITESPACE"," ",342],["T_VARIABLE","$this",342],["T_OBJECT_OPERATOR","->",342],["T_STRING","_conn",342],["T_OBJECT_OPERATOR","->",342],["T_STRING","fetchAll",342],"(",["T_VARIABLE","$select",342],")",";",["T_WHITESPACE","\n\n        ",342],["T_IF","if",344],["T_WHITESPACE"," ",344],"(",["T_VARIABLE","$arrNodes",344],")",["T_WHITESPACE"," ",344],"{",["T_WHITESPACE","\n            ",344],["T_VARIABLE","$childrenItems",345],["T_WHITESPACE"," ",345],"=",["T_WHITESPACE"," ",345],["T_ARRAY","array",345],"(",")",";",["T_WHITESPACE","\n            ",345],["T_FOREACH","foreach",346],["T_WHITESPACE"," ",346],"(",["T_VARIABLE","$arrNodes",346],["T_WHITESPACE"," ",346],["T_AS","as",346],["T_WHITESPACE"," ",346],["T_VARIABLE","$nodeInfo",346],")",["T_WHITESPACE"," ",346],"{",["T_WHITESPACE","\n                ",346],["T_VARIABLE","$nodeId",347],["T_WHITESPACE"," ",347],"=",["T_WHITESPACE"," ",347],["T_VARIABLE","$nodeInfo",347],"[",["T_VARIABLE","$this",347],["T_OBJECT_OPERATOR","->",347],["T_STRING","_idField",347],"]",";",["T_WHITESPACE","\n                ",347],["T_IF","if",348],["T_WHITESPACE"," ",348],"(",["T_VARIABLE","$nodeId",348],["T_IS_SMALLER_OR_EQUAL","<=",348],["T_VARIABLE","$rootNodeId",348],")",["T_WHITESPACE"," ",348],"{",["T_WHITESPACE","\n                    ",348],["T_CONTINUE","continue",349],";",["T_WHITESPACE","\n                ",349],"}",["T_WHITESPACE","\n\n                ",350],["T_VARIABLE","$pathToParent",352],["T_WHITESPACE"," ",352],"=",["T_WHITESPACE"," ",352],["T_STRING","explode",352],"(",["T_CONSTANT_ENCAPSED_STRING","'\/'",352],",",["T_WHITESPACE"," ",352],["T_VARIABLE","$nodeInfo",352],"[",["T_VARIABLE","$this",352],["T_OBJECT_OPERATOR","->",352],["T_STRING","_pathField",352],"]",")",";",["T_WHITESPACE","\n                ",352],["T_STRING","array_pop",353],"(",["T_VARIABLE","$pathToParent",353],")",";",["T_WHITESPACE","\n                ",353],["T_VARIABLE","$pathToParent",354],["T_WHITESPACE"," ",354],"=",["T_WHITESPACE"," ",354],["T_STRING","implode",354],"(",["T_CONSTANT_ENCAPSED_STRING","'\/'",354],",",["T_WHITESPACE"," ",354],["T_VARIABLE","$pathToParent",354],")",";",["T_WHITESPACE","\n                ",354],["T_VARIABLE","$childrenItems",355],"[",["T_VARIABLE","$pathToParent",355],"]","[","]",["T_WHITESPACE"," ",355],"=",["T_WHITESPACE"," ",355],["T_VARIABLE","$nodeInfo",355],";",["T_WHITESPACE","\n            ",355],"}",["T_WHITESPACE","\n\n            ",356],["T_VARIABLE","$this",358],["T_OBJECT_OPERATOR","->",358],["T_STRING","_addChildNodes",358],"(",["T_VARIABLE","$childrenItems",358],",",["T_WHITESPACE"," ",358],["T_VARIABLE","$rootNodePath",358],",",["T_WHITESPACE"," ",358],["T_VARIABLE","$rootNode",358],",",["T_WHITESPACE"," ",358],["T_STRING","true",358],")",";",["T_WHITESPACE","\n        ",358],"}",["T_WHITESPACE","\n    ",359],"}",["T_WHITESPACE","\n\n    ",360],["T_PROTECTED","protected",362],["T_WHITESPACE"," ",362],["T_FUNCTION","function",362],["T_WHITESPACE"," ",362],["T_STRING","_addChildNodes",362],"(",["T_VARIABLE","$children",362],",",["T_WHITESPACE"," ",362],["T_VARIABLE","$path",362],",",["T_WHITESPACE"," ",362],["T_VARIABLE","$parentNode",362],",",["T_WHITESPACE"," ",362],["T_VARIABLE","$withChildren",362],"=",["T_STRING","false",362],",",["T_WHITESPACE"," ",362],["T_VARIABLE","$level",362],["T_WHITESPACE"," ",362],"=",["T_WHITESPACE"," ",362],["T_LNUMBER","0",362],")",["T_WHITESPACE","\n    ",362],"{",["T_WHITESPACE","\n        ",363],["T_IF","if",364],["T_WHITESPACE"," ",364],"(",["T_ISSET","isset",364],"(",["T_VARIABLE","$children",364],"[",["T_VARIABLE","$path",364],"]",")",")",["T_WHITESPACE"," ",364],"{",["T_WHITESPACE","\n            ",364],["T_FOREACH","foreach",365],["T_WHITESPACE"," ",365],"(",["T_VARIABLE","$children",365],"[",["T_VARIABLE","$path",365],"]",["T_WHITESPACE"," ",365],["T_AS","as",365],["T_WHITESPACE"," ",365],["T_VARIABLE","$child",365],")",["T_WHITESPACE"," ",365],"{",["T_WHITESPACE","\n                ",365],["T_VARIABLE","$nodeId",366],["T_WHITESPACE"," ",366],"=",["T_WHITESPACE"," ",366],["T_ISSET","isset",366],"(",["T_VARIABLE","$child",366],"[",["T_VARIABLE","$this",366],["T_OBJECT_OPERATOR","->",366],["T_STRING","_idField",366],"]",")","?",["T_VARIABLE","$child",366],"[",["T_VARIABLE","$this",366],["T_OBJECT_OPERATOR","->",366],["T_STRING","_idField",366],"]",":",["T_STRING","false",366],";",["T_WHITESPACE","\n                ",366],["T_IF","if",367],["T_WHITESPACE"," ",367],"(",["T_VARIABLE","$parentNode",367],["T_WHITESPACE"," ",367],["T_BOOLEAN_AND","&&",367],["T_WHITESPACE"," ",367],["T_VARIABLE","$nodeId",367],["T_WHITESPACE"," ",367],["T_BOOLEAN_AND","&&",367],["T_WHITESPACE"," ",367],["T_VARIABLE","$node",367],["T_WHITESPACE"," ",367],"=",["T_WHITESPACE"," ",367],["T_VARIABLE","$parentNode",367],["T_OBJECT_OPERATOR","->",367],["T_STRING","getChildren",367],"(",")",["T_OBJECT_OPERATOR","->",367],["T_STRING","searchById",367],"(",["T_VARIABLE","$nodeId",367],")",")",["T_WHITESPACE"," ",367],"{",["T_WHITESPACE","\n                    ",367],["T_VARIABLE","$node",368],["T_OBJECT_OPERATOR","->",368],["T_STRING","addData",368],"(",["T_VARIABLE","$child",368],")",";",["T_WHITESPACE","\n                ",368],"}",["T_WHITESPACE"," ",369],["T_ELSE","else",369],["T_WHITESPACE"," ",369],"{",["T_WHITESPACE","\n                    ",369],["T_VARIABLE","$node",370],["T_WHITESPACE"," ",370],"=",["T_WHITESPACE"," ",370],["T_NEW","new",370],["T_WHITESPACE"," ",370],["T_STRING","Varien_Data_Tree_Node",370],"(",["T_VARIABLE","$child",370],",",["T_WHITESPACE"," ",370],["T_VARIABLE","$this",370],["T_OBJECT_OPERATOR","->",370],["T_STRING","_idField",370],",",["T_WHITESPACE"," ",370],["T_VARIABLE","$this",370],",",["T_WHITESPACE"," ",370],["T_VARIABLE","$parentNode",370],")",";",["T_WHITESPACE","\n                    ",370],["T_VARIABLE","$node",371],["T_OBJECT_OPERATOR","->",371],["T_STRING","setLevel",371],"(",["T_VARIABLE","$node",371],["T_OBJECT_OPERATOR","->",371],["T_STRING","getData",371],"(",["T_VARIABLE","$this",371],["T_OBJECT_OPERATOR","->",371],["T_STRING","_levelField",371],")",")",";",["T_WHITESPACE","\n                    ",371],["T_VARIABLE","$node",372],["T_OBJECT_OPERATOR","->",372],["T_STRING","setPathId",372],"(",["T_VARIABLE","$node",372],["T_OBJECT_OPERATOR","->",372],["T_STRING","getData",372],"(",["T_VARIABLE","$this",372],["T_OBJECT_OPERATOR","->",372],["T_STRING","_pathField",372],")",")",";",["T_WHITESPACE","\n                    ",372],["T_VARIABLE","$this",373],["T_OBJECT_OPERATOR","->",373],["T_STRING","addNode",373],"(",["T_VARIABLE","$node",373],",",["T_WHITESPACE"," ",373],["T_VARIABLE","$parentNode",373],")",";",["T_WHITESPACE","\n                ",373],"}",["T_WHITESPACE","\n\n                ",374],["T_IF","if",376],["T_WHITESPACE"," ",376],"(",["T_VARIABLE","$withChildren",376],")",["T_WHITESPACE"," ",376],"{",["T_WHITESPACE","\n                    ",376],["T_VARIABLE","$this",377],["T_OBJECT_OPERATOR","->",377],["T_STRING","_loaded",377],["T_WHITESPACE"," ",377],"=",["T_WHITESPACE"," ",377],["T_STRING","false",377],";",["T_WHITESPACE","\n                    ",377],["T_VARIABLE","$node",378],["T_OBJECT_OPERATOR","->",378],["T_STRING","loadChildren",378],"(",["T_LNUMBER","1",378],")",";",["T_WHITESPACE","\n                    ",378],["T_VARIABLE","$this",379],["T_OBJECT_OPERATOR","->",379],["T_STRING","_loaded",379],["T_WHITESPACE"," ",379],"=",["T_WHITESPACE"," ",379],["T_STRING","false",379],";",["T_WHITESPACE","\n                ",379],"}",["T_WHITESPACE","\n\n                ",380],["T_IF","if",382],["T_WHITESPACE"," ",382],"(",["T_VARIABLE","$path",382],")",["T_WHITESPACE"," ",382],"{",["T_WHITESPACE","\n                    ",382],["T_VARIABLE","$childrenPath",383],["T_WHITESPACE"," ",383],"=",["T_WHITESPACE"," ",383],["T_STRING","explode",383],"(",["T_CONSTANT_ENCAPSED_STRING","'\/'",383],",",["T_WHITESPACE"," ",383],["T_VARIABLE","$path",383],")",";",["T_WHITESPACE","\n                ",383],"}",["T_WHITESPACE"," ",384],["T_ELSE","else",384],["T_WHITESPACE"," ",384],"{",["T_WHITESPACE","\n                    ",384],["T_VARIABLE","$childrenPath",385],["T_WHITESPACE"," ",385],"=",["T_WHITESPACE"," ",385],["T_ARRAY","array",385],"(",")",";",["T_WHITESPACE","\n                ",385],"}",["T_WHITESPACE","\n                ",386],["T_VARIABLE","$childrenPath",387],"[","]",["T_WHITESPACE"," ",387],"=",["T_WHITESPACE"," ",387],["T_VARIABLE","$node",387],["T_OBJECT_OPERATOR","->",387],["T_STRING","getId",387],"(",")",";",["T_WHITESPACE","\n                ",387],["T_VARIABLE","$childrenPath",388],["T_WHITESPACE"," ",388],"=",["T_WHITESPACE"," ",388],["T_STRING","implode",388],"(",["T_CONSTANT_ENCAPSED_STRING","'\/'",388],",",["T_WHITESPACE"," ",388],["T_VARIABLE","$childrenPath",388],")",";",["T_WHITESPACE","\n\n                ",388],["T_VARIABLE","$this",390],["T_OBJECT_OPERATOR","->",390],["T_STRING","_addChildNodes",390],"(",["T_VARIABLE","$children",390],",",["T_WHITESPACE"," ",390],["T_VARIABLE","$childrenPath",390],",",["T_WHITESPACE"," ",390],["T_VARIABLE","$node",390],",",["T_WHITESPACE"," ",390],["T_VARIABLE","$withChildren",390],",",["T_WHITESPACE"," ",390],["T_VARIABLE","$level",390],"+",["T_LNUMBER","1",390],")",";",["T_WHITESPACE","\n            ",390],"}",["T_WHITESPACE","\n        ",391],"}",["T_WHITESPACE","\n    ",392],"}",["T_WHITESPACE","\n",393],"}",["T_WHITESPACE","\n",394]]