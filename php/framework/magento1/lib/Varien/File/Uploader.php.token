[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Magento\n *\n * NOTICE OF LICENSE\n *\n * This source file is subject to the Open Software License (OSL 3.0)\n * that is bundled with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/opensource.org\/licenses\/osl-3.0.php\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@magento.com so we can send you a copy immediately.\n *\n * DISCLAIMER\n *\n * Do not edit or add to this file if you wish to upgrade Magento to newer\n * versions in the future. If you wish to customize Magento for your\n * needs please refer to http:\/\/www.magento.com for more information.\n *\n * @category    Varien\n * @package     Varien_File\n * @copyright  Copyright (c) 2006-2016 X.commerce, Inc. and affiliates (http:\/\/www.magento.com)\n * @license    http:\/\/opensource.org\/licenses\/osl-3.0.php  Open Software License (OSL 3.0)\n *\/",2],["T_WHITESPACE","\n\n",25],["T_DOC_COMMENT","\/**\n * File upload class\n *\n * ATTENTION! This class must be used like abstract class and must added\n * validation by protected file extension list to extended class\n *\n * @category   Varien\n * @package    Varien_File\n * @author     Magento Core Team <core@magentocommerce.com>\n *\/",27],["T_WHITESPACE","\n\n",36],["T_CLASS","class",38],["T_WHITESPACE"," ",38],["T_STRING","Varien_File_Uploader",38],["T_WHITESPACE","\n",38],"{",["T_WHITESPACE","\n    ",39],["T_DOC_COMMENT","\/**\n     * Uploaded file handle (copy of $_FILES[] element)\n     *\n     * @var array\n     * @access protected\n     *\/",40],["T_WHITESPACE","\n    ",45],["T_PROTECTED","protected",46],["T_WHITESPACE"," ",46],["T_VARIABLE","$_file",46],";",["T_WHITESPACE","\n\n    ",46],["T_DOC_COMMENT","\/**\n     * Uploaded file mime type\n     *\n     * @var string\n     * @access protected\n     *\/",48],["T_WHITESPACE","\n    ",53],["T_PROTECTED","protected",54],["T_WHITESPACE"," ",54],["T_VARIABLE","$_fileMimeType",54],";",["T_WHITESPACE","\n\n    ",54],["T_DOC_COMMENT","\/**\n     * Upload type. Used to right handle $_FILES array.\n     *\n     * @var Varien_File_Uploader::SINGLE_STYLE|Varien_File_Uploader::MULTIPLE_STYLE\n     * @access protected\n     *\/",56],["T_WHITESPACE","\n    ",61],["T_PROTECTED","protected",62],["T_WHITESPACE"," ",62],["T_VARIABLE","$_uploadType",62],";",["T_WHITESPACE","\n\n    ",62],["T_DOC_COMMENT","\/**\n     * The name of uploaded file. By default it is original file name, but when\n     * we will change file name, this variable will be changed too.\n     *\n     * @var string\n     * @access protected\n     *\/",64],["T_WHITESPACE","\n    ",70],["T_PROTECTED","protected",71],["T_WHITESPACE"," ",71],["T_VARIABLE","$_uploadedFileName",71],";",["T_WHITESPACE","\n\n    ",71],["T_DOC_COMMENT","\/**\n     * The name of destination directory\n     *\n     * @var string\n     * @access protected\n     *\/",73],["T_WHITESPACE","\n    ",78],["T_PROTECTED","protected",79],["T_WHITESPACE"," ",79],["T_VARIABLE","$_uploadedFileDir",79],";",["T_WHITESPACE","\n\n    ",79],["T_DOC_COMMENT","\/**\n     * If this variable is set to TRUE, our library will be able to automaticaly create\n     * non-existant directories.\n     *\n     * @var bool\n     * @access protected\n     *\/",81],["T_WHITESPACE","\n    ",87],["T_PROTECTED","protected",88],["T_WHITESPACE"," ",88],["T_VARIABLE","$_allowCreateFolders",88],["T_WHITESPACE"," ",88],"=",["T_WHITESPACE"," ",88],["T_STRING","true",88],";",["T_WHITESPACE","\n\n    ",88],["T_DOC_COMMENT","\/**\n     * If this variable is set to TRUE, uploaded file name will be changed if some file with the same\n     * name already exists in the destination directory (if enabled).\n     *\n     * @var bool\n     * @access protected\n     *\/",90],["T_WHITESPACE","\n    ",96],["T_PROTECTED","protected",97],["T_WHITESPACE"," ",97],["T_VARIABLE","$_allowRenameFiles",97],["T_WHITESPACE"," ",97],"=",["T_WHITESPACE"," ",97],["T_STRING","false",97],";",["T_WHITESPACE","\n\n    ",97],["T_DOC_COMMENT","\/**\n     * If this variable is set to TRUE, files despersion will be supported.\n     *\n     * @var bool\n     * @access protected\n     *\/",99],["T_WHITESPACE","\n    ",104],["T_PROTECTED","protected",105],["T_WHITESPACE"," ",105],["T_VARIABLE","$_enableFilesDispersion",105],["T_WHITESPACE"," ",105],"=",["T_WHITESPACE"," ",105],["T_STRING","false",105],";",["T_WHITESPACE","\n\n    ",105],["T_DOC_COMMENT","\/**\n     * This variable is used both with $_enableFilesDispersion == true\n     * It helps to avoid problems after migrating from case-insensitive file system to case-insensitive\n     * (e.g. NTFS->ext or ext->NTFS)\n     *\n     * @var bool\n     * @access protected\n     *\/",107],["T_WHITESPACE","\n    ",114],["T_PROTECTED","protected",115],["T_WHITESPACE"," ",115],["T_VARIABLE","$_caseInsensitiveFilenames",115],["T_WHITESPACE"," ",115],"=",["T_WHITESPACE"," ",115],["T_STRING","true",115],";",["T_WHITESPACE","\n\n    ",115],["T_DOC_COMMENT","\/**\n     * @var string\n     * @access protected\n     *\/",117],["T_WHITESPACE","\n    ",120],["T_PROTECTED","protected",121],["T_WHITESPACE"," ",121],["T_VARIABLE","$_dispretionPath",121],["T_WHITESPACE"," ",121],"=",["T_WHITESPACE"," ",121],["T_STRING","null",121],";",["T_WHITESPACE","\n\n    ",121],["T_PROTECTED","protected",123],["T_WHITESPACE"," ",123],["T_VARIABLE","$_fileExists",123],["T_WHITESPACE"," ",123],"=",["T_WHITESPACE"," ",123],["T_STRING","false",123],";",["T_WHITESPACE","\n\n    ",123],["T_PROTECTED","protected",125],["T_WHITESPACE"," ",125],["T_VARIABLE","$_allowedExtensions",125],["T_WHITESPACE"," ",125],"=",["T_WHITESPACE"," ",125],["T_STRING","null",125],";",["T_WHITESPACE","\n\n    ",125],["T_DOC_COMMENT","\/**\n     * List of valid MIME-Types.\n     *\n     * @var array\n     *\/",127],["T_WHITESPACE","\n    ",131],["T_PROTECTED","protected",132],["T_WHITESPACE"," ",132],["T_VARIABLE","$_validMimeTypes",132],["T_WHITESPACE"," ",132],"=",["T_WHITESPACE"," ",132],["T_ARRAY","array",132],"(",")",";",["T_WHITESPACE","\n\n    ",132],["T_DOC_COMMENT","\/**\n     * Validate callbacks storage\n     *\n     * @var array\n     * @access protected\n     *\/",134],["T_WHITESPACE","\n    ",139],["T_PROTECTED","protected",140],["T_WHITESPACE"," ",140],["T_VARIABLE","$_validateCallbacks",140],["T_WHITESPACE"," ",140],"=",["T_WHITESPACE"," ",140],["T_ARRAY","array",140],"(",")",";",["T_WHITESPACE","\n\n    ",140],["T_CONST","const",142],["T_WHITESPACE"," ",142],["T_STRING","SINGLE_STYLE",142],["T_WHITESPACE"," ",142],"=",["T_WHITESPACE"," ",142],["T_LNUMBER","0",142],";",["T_WHITESPACE","\n    ",142],["T_CONST","const",143],["T_WHITESPACE"," ",143],["T_STRING","MULTIPLE_STYLE",143],["T_WHITESPACE"," ",143],"=",["T_WHITESPACE"," ",143],["T_LNUMBER","1",143],";",["T_WHITESPACE","\n    ",143],["T_CONST","const",144],["T_WHITESPACE"," ",144],["T_STRING","TMP_NAME_EMPTY",144],["T_WHITESPACE"," ",144],"=",["T_WHITESPACE"," ",144],["T_LNUMBER","666",144],";",["T_WHITESPACE","\n\n    ",144],["T_DOC_COMMENT","\/**\n     * Resulting of uploaded file\n     *\n     * @var array|bool      Array with file info keys: path, file. Result is\n     *                      FALSE when file not uploaded\n     *\/",146],["T_WHITESPACE","\n    ",151],["T_PROTECTED","protected",152],["T_WHITESPACE"," ",152],["T_VARIABLE","$_result",152],";",["T_WHITESPACE","\n\n    ",152],["T_FUNCTION","function",154],["T_WHITESPACE"," ",154],["T_STRING","__construct",154],"(",["T_VARIABLE","$fileId",154],")",["T_WHITESPACE","\n    ",154],"{",["T_WHITESPACE","\n        ",155],["T_VARIABLE","$this",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","_setUploadFileId",156],"(",["T_VARIABLE","$fileId",156],")",";",["T_WHITESPACE","\n        ",156],["T_IF","if",157],"(","!",["T_STRING","file_exists",157],"(",["T_VARIABLE","$this",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","_file",157],"[",["T_CONSTANT_ENCAPSED_STRING","'tmp_name'",157],"]",")",")",["T_WHITESPACE"," ",157],"{",["T_WHITESPACE","\n            ",157],["T_VARIABLE","$code",158],["T_WHITESPACE"," ",158],"=",["T_WHITESPACE"," ",158],["T_EMPTY","empty",158],"(",["T_VARIABLE","$this",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","_file",158],"[",["T_CONSTANT_ENCAPSED_STRING","'tmp_name'",158],"]",")",["T_WHITESPACE"," ",158],"?",["T_WHITESPACE"," ",158],["T_STRING","self",158],["T_DOUBLE_COLON","::",158],["T_STRING","TMP_NAME_EMPTY",158],["T_WHITESPACE"," ",158],":",["T_WHITESPACE"," ",158],["T_LNUMBER","0",158],";",["T_WHITESPACE","\n            ",158],["T_THROW","throw",159],["T_WHITESPACE"," ",159],["T_NEW","new",159],["T_WHITESPACE"," ",159],["T_STRING","Exception",159],"(",["T_CONSTANT_ENCAPSED_STRING","'File was not uploaded.'",159],",",["T_WHITESPACE"," ",159],["T_VARIABLE","$code",159],")",";",["T_WHITESPACE","\n        ",159],"}",["T_WHITESPACE"," ",160],["T_ELSE","else",160],["T_WHITESPACE"," ",160],"{",["T_WHITESPACE","\n            ",160],["T_VARIABLE","$this",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","_fileExists",161],["T_WHITESPACE"," ",161],"=",["T_WHITESPACE"," ",161],["T_STRING","true",161],";",["T_WHITESPACE","\n        ",161],"}",["T_WHITESPACE","\n    ",162],"}",["T_WHITESPACE","\n\n    ",163],["T_DOC_COMMENT","\/**\n     * After save logic\n     *\n     * @param  array $result\n     * @return Varien_File_Uploader\n     *\/",165],["T_WHITESPACE","\n    ",170],["T_PROTECTED","protected",171],["T_WHITESPACE"," ",171],["T_FUNCTION","function",171],["T_WHITESPACE"," ",171],["T_STRING","_afterSave",171],"(",["T_VARIABLE","$result",171],")",["T_WHITESPACE","\n    ",171],"{",["T_WHITESPACE","\n        ",172],["T_RETURN","return",173],["T_WHITESPACE"," ",173],["T_VARIABLE","$this",173],";",["T_WHITESPACE","\n    ",173],"}",["T_WHITESPACE","\n\n    ",174],["T_DOC_COMMENT","\/**\n     * Used to save uploaded file into destination folder with\n     * original or new file name (if specified)\n     *\n     * @param string $destinationFolder\n     * @param string $newFileName\n     * @access public\n     * @return void|bool\n     *\/",176],["T_WHITESPACE","\n    ",184],["T_PUBLIC","public",185],["T_WHITESPACE"," ",185],["T_FUNCTION","function",185],["T_WHITESPACE"," ",185],["T_STRING","save",185],"(",["T_VARIABLE","$destinationFolder",185],",",["T_WHITESPACE"," ",185],["T_VARIABLE","$newFileName",185],["T_WHITESPACE"," ",185],"=",["T_WHITESPACE"," ",185],["T_STRING","null",185],")",["T_WHITESPACE","\n    ",185],"{",["T_WHITESPACE","\n        ",186],["T_VARIABLE","$this",187],["T_OBJECT_OPERATOR","->",187],["T_STRING","_validateFile",187],"(",")",";",["T_WHITESPACE","\n\n        ",187],["T_IF","if",189],["T_WHITESPACE"," ",189],"(",["T_VARIABLE","$this",189],["T_OBJECT_OPERATOR","->",189],["T_STRING","_allowCreateFolders",189],")",["T_WHITESPACE"," ",189],"{",["T_WHITESPACE","\n            ",189],["T_VARIABLE","$this",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","_createDestinationFolder",190],"(",["T_VARIABLE","$destinationFolder",190],")",";",["T_WHITESPACE","\n        ",190],"}",["T_WHITESPACE","\n\n        ",191],["T_IF","if",193],["T_WHITESPACE"," ",193],"(","!",["T_STRING","is_writable",193],"(",["T_VARIABLE","$destinationFolder",193],")",")",["T_WHITESPACE"," ",193],"{",["T_WHITESPACE","\n            ",193],["T_THROW","throw",194],["T_WHITESPACE"," ",194],["T_NEW","new",194],["T_WHITESPACE"," ",194],["T_STRING","Exception",194],"(",["T_CONSTANT_ENCAPSED_STRING","'Destination folder is not writable or does not exists.'",194],")",";",["T_WHITESPACE","\n        ",194],"}",["T_WHITESPACE","\n\n        ",195],["T_VARIABLE","$this",197],["T_OBJECT_OPERATOR","->",197],["T_STRING","_result",197],["T_WHITESPACE"," ",197],"=",["T_WHITESPACE"," ",197],["T_STRING","false",197],";",["T_WHITESPACE","\n\n        ",197],["T_VARIABLE","$destinationFile",199],["T_WHITESPACE"," ",199],"=",["T_WHITESPACE"," ",199],["T_VARIABLE","$destinationFolder",199],";",["T_WHITESPACE","\n        ",199],["T_VARIABLE","$fileName",200],["T_WHITESPACE"," ",200],"=",["T_WHITESPACE"," ",200],["T_ISSET","isset",200],"(",["T_VARIABLE","$newFileName",200],")",["T_WHITESPACE"," ",200],"?",["T_WHITESPACE"," ",200],["T_VARIABLE","$newFileName",200],["T_WHITESPACE"," ",200],":",["T_WHITESPACE"," ",200],["T_VARIABLE","$this",200],["T_OBJECT_OPERATOR","->",200],["T_STRING","_file",200],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",200],"]",";",["T_WHITESPACE","\n        ",200],["T_VARIABLE","$fileName",201],["T_WHITESPACE"," ",201],"=",["T_WHITESPACE"," ",201],["T_STRING","self",201],["T_DOUBLE_COLON","::",201],["T_STRING","getCorrectFileName",201],"(",["T_VARIABLE","$fileName",201],")",";",["T_WHITESPACE","\n        ",201],["T_IF","if",202],["T_WHITESPACE"," ",202],"(",["T_VARIABLE","$this",202],["T_OBJECT_OPERATOR","->",202],["T_STRING","_enableFilesDispersion",202],")",["T_WHITESPACE"," ",202],"{",["T_WHITESPACE","\n            ",202],["T_VARIABLE","$fileName",203],["T_WHITESPACE"," ",203],"=",["T_WHITESPACE"," ",203],["T_VARIABLE","$this",203],["T_OBJECT_OPERATOR","->",203],["T_STRING","correctFileNameCase",203],"(",["T_VARIABLE","$fileName",203],")",";",["T_WHITESPACE","\n            ",203],["T_VARIABLE","$this",204],["T_OBJECT_OPERATOR","->",204],["T_STRING","setAllowCreateFolders",204],"(",["T_STRING","true",204],")",";",["T_WHITESPACE","\n            ",204],["T_VARIABLE","$this",205],["T_OBJECT_OPERATOR","->",205],["T_STRING","_dispretionPath",205],["T_WHITESPACE"," ",205],"=",["T_WHITESPACE"," ",205],["T_STRING","self",205],["T_DOUBLE_COLON","::",205],["T_STRING","getDispretionPath",205],"(",["T_VARIABLE","$fileName",205],")",";",["T_WHITESPACE","\n            ",205],["T_VARIABLE","$destinationFile",206],["T_CONCAT_EQUAL",".=",206],["T_WHITESPACE"," ",206],["T_VARIABLE","$this",206],["T_OBJECT_OPERATOR","->",206],["T_STRING","_dispretionPath",206],";",["T_WHITESPACE","\n            ",206],["T_VARIABLE","$this",207],["T_OBJECT_OPERATOR","->",207],["T_STRING","_createDestinationFolder",207],"(",["T_VARIABLE","$destinationFile",207],")",";",["T_WHITESPACE","\n        ",207],"}",["T_WHITESPACE","\n\n        ",208],["T_IF","if",210],["T_WHITESPACE"," ",210],"(",["T_VARIABLE","$this",210],["T_OBJECT_OPERATOR","->",210],["T_STRING","_allowRenameFiles",210],")",["T_WHITESPACE"," ",210],"{",["T_WHITESPACE","\n            ",210],["T_VARIABLE","$fileName",211],["T_WHITESPACE"," ",211],"=",["T_WHITESPACE"," ",211],["T_STRING","self",211],["T_DOUBLE_COLON","::",211],["T_STRING","getNewFileName",211],"(",["T_STRING","self",211],["T_DOUBLE_COLON","::",211],["T_STRING","_addDirSeparator",211],"(",["T_VARIABLE","$destinationFile",211],")",["T_WHITESPACE"," ",211],".",["T_WHITESPACE"," ",211],["T_VARIABLE","$fileName",211],")",";",["T_WHITESPACE","\n        ",211],"}",["T_WHITESPACE","\n\n        ",212],["T_VARIABLE","$destinationFile",214],["T_WHITESPACE"," ",214],"=",["T_WHITESPACE"," ",214],["T_STRING","self",214],["T_DOUBLE_COLON","::",214],["T_STRING","_addDirSeparator",214],"(",["T_VARIABLE","$destinationFile",214],")",["T_WHITESPACE"," ",214],".",["T_WHITESPACE"," ",214],["T_VARIABLE","$fileName",214],";",["T_WHITESPACE","\n\n        ",214],["T_VARIABLE","$this",216],["T_OBJECT_OPERATOR","->",216],["T_STRING","_result",216],["T_WHITESPACE"," ",216],"=",["T_WHITESPACE"," ",216],["T_VARIABLE","$this",216],["T_OBJECT_OPERATOR","->",216],["T_STRING","_moveFile",216],"(",["T_VARIABLE","$this",216],["T_OBJECT_OPERATOR","->",216],["T_STRING","_file",216],"[",["T_CONSTANT_ENCAPSED_STRING","'tmp_name'",216],"]",",",["T_WHITESPACE"," ",216],["T_VARIABLE","$destinationFile",216],")",";",["T_WHITESPACE","\n\n        ",216],["T_IF","if",218],["T_WHITESPACE"," ",218],"(",["T_VARIABLE","$this",218],["T_OBJECT_OPERATOR","->",218],["T_STRING","_result",218],")",["T_WHITESPACE"," ",218],"{",["T_WHITESPACE","\n            ",218],["T_STRING","chmod",219],"(",["T_VARIABLE","$destinationFile",219],",",["T_WHITESPACE"," ",219],["T_LNUMBER","0666",219],")",";",["T_WHITESPACE","\n            ",219],["T_IF","if",220],["T_WHITESPACE"," ",220],"(",["T_VARIABLE","$this",220],["T_OBJECT_OPERATOR","->",220],["T_STRING","_enableFilesDispersion",220],")",["T_WHITESPACE"," ",220],"{",["T_WHITESPACE","\n                ",220],["T_VARIABLE","$fileName",221],["T_WHITESPACE"," ",221],"=",["T_WHITESPACE"," ",221],["T_STRING","str_replace",221],"(",["T_STRING","DIRECTORY_SEPARATOR",221],",",["T_WHITESPACE"," ",221],["T_CONSTANT_ENCAPSED_STRING","'\/'",221],",",["T_WHITESPACE","\n                    ",221],["T_STRING","self",222],["T_DOUBLE_COLON","::",222],["T_STRING","_addDirSeparator",222],"(",["T_VARIABLE","$this",222],["T_OBJECT_OPERATOR","->",222],["T_STRING","_dispretionPath",222],")",")",["T_WHITESPACE"," ",222],".",["T_WHITESPACE"," ",222],["T_VARIABLE","$fileName",222],";",["T_WHITESPACE","\n            ",222],"}",["T_WHITESPACE","\n            ",223],["T_VARIABLE","$this",224],["T_OBJECT_OPERATOR","->",224],["T_STRING","_uploadedFileName",224],["T_WHITESPACE"," ",224],"=",["T_WHITESPACE"," ",224],["T_VARIABLE","$fileName",224],";",["T_WHITESPACE","\n            ",224],["T_VARIABLE","$this",225],["T_OBJECT_OPERATOR","->",225],["T_STRING","_uploadedFileDir",225],["T_WHITESPACE"," ",225],"=",["T_WHITESPACE"," ",225],["T_VARIABLE","$destinationFolder",225],";",["T_WHITESPACE","\n            ",225],["T_VARIABLE","$this",226],["T_OBJECT_OPERATOR","->",226],["T_STRING","_result",226],["T_WHITESPACE"," ",226],"=",["T_WHITESPACE"," ",226],["T_VARIABLE","$this",226],["T_OBJECT_OPERATOR","->",226],["T_STRING","_file",226],";",["T_WHITESPACE","\n            ",226],["T_VARIABLE","$this",227],["T_OBJECT_OPERATOR","->",227],["T_STRING","_result",227],"[",["T_CONSTANT_ENCAPSED_STRING","'path'",227],"]",["T_WHITESPACE"," ",227],"=",["T_WHITESPACE"," ",227],["T_VARIABLE","$destinationFolder",227],";",["T_WHITESPACE","\n            ",227],["T_VARIABLE","$this",228],["T_OBJECT_OPERATOR","->",228],["T_STRING","_result",228],"[",["T_CONSTANT_ENCAPSED_STRING","'file'",228],"]",["T_WHITESPACE"," ",228],"=",["T_WHITESPACE"," ",228],["T_VARIABLE","$fileName",228],";",["T_WHITESPACE","\n\n            ",228],["T_VARIABLE","$this",230],["T_OBJECT_OPERATOR","->",230],["T_STRING","_afterSave",230],"(",["T_VARIABLE","$this",230],["T_OBJECT_OPERATOR","->",230],["T_STRING","_result",230],")",";",["T_WHITESPACE","\n        ",230],"}",["T_WHITESPACE","\n\n        ",231],["T_RETURN","return",233],["T_WHITESPACE"," ",233],["T_VARIABLE","$this",233],["T_OBJECT_OPERATOR","->",233],["T_STRING","_result",233],";",["T_WHITESPACE","\n    ",233],"}",["T_WHITESPACE","\n\n    ",234],["T_DOC_COMMENT","\/**\n     * Move files from TMP folder into destination folder\n     *\n     * @param string $tmpPath\n     * @param string $destPath\n     * @return bool\n     *\/",236],["T_WHITESPACE","\n    ",242],["T_PROTECTED","protected",243],["T_WHITESPACE"," ",243],["T_FUNCTION","function",243],["T_WHITESPACE"," ",243],["T_STRING","_moveFile",243],"(",["T_VARIABLE","$tmpPath",243],",",["T_WHITESPACE"," ",243],["T_VARIABLE","$destPath",243],")",["T_WHITESPACE","\n    ",243],"{",["T_WHITESPACE","\n        ",244],["T_RETURN","return",245],["T_WHITESPACE"," ",245],["T_STRING","move_uploaded_file",245],"(",["T_VARIABLE","$tmpPath",245],",",["T_WHITESPACE"," ",245],["T_VARIABLE","$destPath",245],")",";",["T_WHITESPACE","\n    ",245],"}",["T_WHITESPACE","\n\n    ",246],["T_DOC_COMMENT","\/**\n     * Validate file before save\n     *\n     * @access public\n     *\/",248],["T_WHITESPACE","\n    ",252],["T_PROTECTED","protected",253],["T_WHITESPACE"," ",253],["T_FUNCTION","function",253],["T_WHITESPACE"," ",253],["T_STRING","_validateFile",253],"(",")",["T_WHITESPACE","\n    ",253],"{",["T_WHITESPACE","\n        ",254],["T_IF","if",255],["T_WHITESPACE"," ",255],"(",["T_VARIABLE","$this",255],["T_OBJECT_OPERATOR","->",255],["T_STRING","_fileExists",255],["T_WHITESPACE"," ",255],["T_IS_IDENTICAL","===",255],["T_WHITESPACE"," ",255],["T_STRING","false",255],")",["T_WHITESPACE"," ",255],"{",["T_WHITESPACE","\n            ",255],["T_RETURN","return",256],";",["T_WHITESPACE","\n        ",256],"}",["T_WHITESPACE","\n\n        ",257],["T_COMMENT","\/\/is file extension allowed\n",259],["T_WHITESPACE","        ",260],["T_IF","if",260],["T_WHITESPACE"," ",260],"(","!",["T_VARIABLE","$this",260],["T_OBJECT_OPERATOR","->",260],["T_STRING","checkAllowedExtension",260],"(",["T_VARIABLE","$this",260],["T_OBJECT_OPERATOR","->",260],["T_STRING","getFileExtension",260],"(",")",")",")",["T_WHITESPACE"," ",260],"{",["T_WHITESPACE","\n            ",260],["T_THROW","throw",261],["T_WHITESPACE"," ",261],["T_NEW","new",261],["T_WHITESPACE"," ",261],["T_STRING","Exception",261],"(",["T_CONSTANT_ENCAPSED_STRING","'Disallowed file type.'",261],")",";",["T_WHITESPACE","\n        ",261],"}",["T_WHITESPACE","\n\n        ",262],["T_COMMENT","\/*\n         * Validate MIME-Types.\n         *\/",264],["T_WHITESPACE","\n        ",266],["T_IF","if",267],["T_WHITESPACE"," ",267],"(","!",["T_VARIABLE","$this",267],["T_OBJECT_OPERATOR","->",267],["T_STRING","checkMimeType",267],"(",["T_VARIABLE","$this",267],["T_OBJECT_OPERATOR","->",267],["T_STRING","_validMimeTypes",267],")",")",["T_WHITESPACE"," ",267],"{",["T_WHITESPACE","\n            ",267],["T_THROW","throw",268],["T_WHITESPACE"," ",268],["T_NEW","new",268],["T_WHITESPACE"," ",268],["T_STRING","Exception",268],"(",["T_CONSTANT_ENCAPSED_STRING","'Invalid MIME type.'",268],")",";",["T_WHITESPACE","\n        ",268],"}",["T_WHITESPACE","\n\n        ",269],["T_COMMENT","\/\/run validate callbacks\n",271],["T_WHITESPACE","        ",272],["T_FOREACH","foreach",272],["T_WHITESPACE"," ",272],"(",["T_VARIABLE","$this",272],["T_OBJECT_OPERATOR","->",272],["T_STRING","_validateCallbacks",272],["T_WHITESPACE"," ",272],["T_AS","as",272],["T_WHITESPACE"," ",272],["T_VARIABLE","$params",272],")",["T_WHITESPACE"," ",272],"{",["T_WHITESPACE","\n            ",272],["T_IF","if",273],["T_WHITESPACE"," ",273],"(",["T_STRING","is_object",273],"(",["T_VARIABLE","$params",273],"[",["T_CONSTANT_ENCAPSED_STRING","'object'",273],"]",")",["T_WHITESPACE"," ",273],["T_BOOLEAN_AND","&&",273],["T_WHITESPACE"," ",273],["T_STRING","method_exists",273],"(",["T_VARIABLE","$params",273],"[",["T_CONSTANT_ENCAPSED_STRING","'object'",273],"]",",",["T_WHITESPACE"," ",273],["T_VARIABLE","$params",273],"[",["T_CONSTANT_ENCAPSED_STRING","'method'",273],"]",")",")",["T_WHITESPACE"," ",273],"{",["T_WHITESPACE","\n                ",273],["T_VARIABLE","$params",274],"[",["T_CONSTANT_ENCAPSED_STRING","'object'",274],"]",["T_OBJECT_OPERATOR","->",274],"{",["T_VARIABLE","$params",274],"[",["T_CONSTANT_ENCAPSED_STRING","'method'",274],"]","}","(",["T_VARIABLE","$this",274],["T_OBJECT_OPERATOR","->",274],["T_STRING","_file",274],"[",["T_CONSTANT_ENCAPSED_STRING","'tmp_name'",274],"]",")",";",["T_WHITESPACE","\n            ",274],"}",["T_WHITESPACE","\n        ",275],"}",["T_WHITESPACE","\n    ",276],"}",["T_WHITESPACE","\n\n    ",277],["T_DOC_COMMENT","\/**\n     * Returns extension of the uploaded file\n     *\n     * @return string\n     *\/",279],["T_WHITESPACE","\n    ",283],["T_PUBLIC","public",284],["T_WHITESPACE"," ",284],["T_FUNCTION","function",284],["T_WHITESPACE"," ",284],["T_STRING","getFileExtension",284],"(",")",["T_WHITESPACE","\n    ",284],"{",["T_WHITESPACE","\n        ",285],["T_RETURN","return",286],["T_WHITESPACE"," ",286],["T_VARIABLE","$this",286],["T_OBJECT_OPERATOR","->",286],["T_STRING","_fileExists",286],["T_WHITESPACE"," ",286],"?",["T_WHITESPACE"," ",286],["T_STRING","pathinfo",286],"(",["T_VARIABLE","$this",286],["T_OBJECT_OPERATOR","->",286],["T_STRING","_file",286],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",286],"]",",",["T_WHITESPACE"," ",286],["T_STRING","PATHINFO_EXTENSION",286],")",["T_WHITESPACE"," ",286],":",["T_WHITESPACE"," ",286],["T_CONSTANT_ENCAPSED_STRING","''",286],";",["T_WHITESPACE","\n    ",286],"}",["T_WHITESPACE","\n\n    ",287],["T_DOC_COMMENT","\/**\n     * Add validation callback model for us in self::_validateFile()\n     *\n     * @param string $callbackName\n     * @param object $callbackObject\n     * @param string $callbackMethod    Method name of $callbackObject. It must\n     *                                  have interface (string $tmpFilePath)\n     * @return Varien_File_Uploader\n     *\/",289],["T_WHITESPACE","\n    ",297],["T_PUBLIC","public",298],["T_WHITESPACE"," ",298],["T_FUNCTION","function",298],["T_WHITESPACE"," ",298],["T_STRING","addValidateCallback",298],"(",["T_VARIABLE","$callbackName",298],",",["T_WHITESPACE"," ",298],["T_VARIABLE","$callbackObject",298],",",["T_WHITESPACE"," ",298],["T_VARIABLE","$callbackMethod",298],")",["T_WHITESPACE","\n    ",298],"{",["T_WHITESPACE","\n        ",299],["T_VARIABLE","$this",300],["T_OBJECT_OPERATOR","->",300],["T_STRING","_validateCallbacks",300],"[",["T_VARIABLE","$callbackName",300],"]",["T_WHITESPACE"," ",300],"=",["T_WHITESPACE"," ",300],["T_ARRAY","array",300],"(",["T_WHITESPACE","\n           ",300],["T_CONSTANT_ENCAPSED_STRING","'object'",301],["T_WHITESPACE"," ",301],["T_DOUBLE_ARROW","=>",301],["T_WHITESPACE"," ",301],["T_VARIABLE","$callbackObject",301],",",["T_WHITESPACE","\n           ",301],["T_CONSTANT_ENCAPSED_STRING","'method'",302],["T_WHITESPACE"," ",302],["T_DOUBLE_ARROW","=>",302],["T_WHITESPACE"," ",302],["T_VARIABLE","$callbackMethod",302],["T_WHITESPACE","\n        ",302],")",";",["T_WHITESPACE","\n        ",303],["T_RETURN","return",304],["T_WHITESPACE"," ",304],["T_VARIABLE","$this",304],";",["T_WHITESPACE","\n    ",304],"}",["T_WHITESPACE","\n\n    ",305],["T_DOC_COMMENT","\/**\n     * Delete validation callback model for us in self::_validateFile()\n     *\n     * @param string $callbackName\n     * @access public\n     * @return Varien_File_Uploader\n     *\/",307],["T_WHITESPACE","\n    ",313],["T_PUBLIC","public",314],["T_WHITESPACE"," ",314],["T_FUNCTION","function",314],["T_WHITESPACE"," ",314],["T_STRING","removeValidateCallback",314],"(",["T_VARIABLE","$callbackName",314],")",["T_WHITESPACE","\n    ",314],"{",["T_WHITESPACE","\n        ",315],["T_IF","if",316],["T_WHITESPACE"," ",316],"(",["T_ISSET","isset",316],"(",["T_VARIABLE","$this",316],["T_OBJECT_OPERATOR","->",316],["T_STRING","_validateCallbacks",316],"[",["T_VARIABLE","$callbackName",316],"]",")",")",["T_WHITESPACE"," ",316],"{",["T_WHITESPACE","\n            ",316],["T_UNSET","unset",317],"(",["T_VARIABLE","$this",317],["T_OBJECT_OPERATOR","->",317],["T_STRING","_validateCallbacks",317],"[",["T_VARIABLE","$callbackName",317],"]",")",";",["T_WHITESPACE","\n        ",317],"}",["T_WHITESPACE","\n        ",318],["T_RETURN","return",319],["T_WHITESPACE"," ",319],["T_VARIABLE","$this",319],";",["T_WHITESPACE","\n    ",319],"}",["T_WHITESPACE","\n\n    ",320],["T_DOC_COMMENT","\/**\n     * Correct filename with special chars and spaces\n     *\n     * @param string $fileName\n     * @return string\n     *\/",322],["T_WHITESPACE","\n    ",327],["T_STATIC","static",328],["T_WHITESPACE"," ",328],["T_PUBLIC","public",328],["T_WHITESPACE"," ",328],["T_FUNCTION","function",328],["T_WHITESPACE"," ",328],["T_STRING","getCorrectFileName",328],"(",["T_VARIABLE","$fileName",328],")",["T_WHITESPACE","\n    ",328],"{",["T_WHITESPACE","\n        ",329],["T_VARIABLE","$fileName",330],["T_WHITESPACE"," ",330],"=",["T_WHITESPACE"," ",330],["T_STRING","preg_replace",330],"(",["T_CONSTANT_ENCAPSED_STRING","'\/[^a-z0-9_\\\\-\\\\.]+\/i'",330],",",["T_WHITESPACE"," ",330],["T_CONSTANT_ENCAPSED_STRING","'_'",330],",",["T_WHITESPACE"," ",330],["T_VARIABLE","$fileName",330],")",";",["T_WHITESPACE","\n        ",330],["T_VARIABLE","$fileInfo",331],["T_WHITESPACE"," ",331],"=",["T_WHITESPACE"," ",331],["T_STRING","pathinfo",331],"(",["T_VARIABLE","$fileName",331],")",";",["T_WHITESPACE","\n\n        ",331],["T_IF","if",333],["T_WHITESPACE"," ",333],"(",["T_STRING","preg_match",333],"(",["T_CONSTANT_ENCAPSED_STRING","'\/^_+$\/'",333],",",["T_WHITESPACE"," ",333],["T_VARIABLE","$fileInfo",333],"[",["T_CONSTANT_ENCAPSED_STRING","'filename'",333],"]",")",")",["T_WHITESPACE"," ",333],"{",["T_WHITESPACE","\n            ",333],["T_VARIABLE","$fileName",334],["T_WHITESPACE"," ",334],"=",["T_WHITESPACE"," ",334],["T_CONSTANT_ENCAPSED_STRING","'file.'",334],["T_WHITESPACE"," ",334],".",["T_WHITESPACE"," ",334],["T_VARIABLE","$fileInfo",334],"[",["T_CONSTANT_ENCAPSED_STRING","'extension'",334],"]",";",["T_WHITESPACE","\n        ",334],"}",["T_WHITESPACE","\n        ",335],["T_RETURN","return",336],["T_WHITESPACE"," ",336],["T_VARIABLE","$fileName",336],";",["T_WHITESPACE","\n    ",336],"}",["T_WHITESPACE","\n\n    ",337],["T_DOC_COMMENT","\/**\n     * Convert filename to lowercase in case of case-insensitive file names\n     *\n     * @param string\n     * @return string\n     *\/",339],["T_WHITESPACE","\n    ",344],["T_PUBLIC","public",345],["T_WHITESPACE"," ",345],["T_FUNCTION","function",345],["T_WHITESPACE"," ",345],["T_STRING","correctFileNameCase",345],"(",["T_VARIABLE","$fileName",345],")",["T_WHITESPACE","\n    ",345],"{",["T_WHITESPACE","\n        ",346],["T_IF","if",347],["T_WHITESPACE"," ",347],"(",["T_VARIABLE","$this",347],["T_OBJECT_OPERATOR","->",347],["T_STRING","_caseInsensitiveFilenames",347],")",["T_WHITESPACE"," ",347],"{",["T_WHITESPACE","\n            ",347],["T_RETURN","return",348],["T_WHITESPACE"," ",348],["T_STRING","strtolower",348],"(",["T_VARIABLE","$fileName",348],")",";",["T_WHITESPACE","\n        ",348],"}",["T_WHITESPACE","\n        ",349],["T_RETURN","return",350],["T_WHITESPACE"," ",350],["T_VARIABLE","$fileName",350],";",["T_WHITESPACE","\n    ",350],"}",["T_WHITESPACE","\n\n    ",351],["T_STATIC","static",353],["T_WHITESPACE"," ",353],["T_PROTECTED","protected",353],["T_WHITESPACE"," ",353],["T_FUNCTION","function",353],["T_WHITESPACE"," ",353],["T_STRING","_addDirSeparator",353],"(",["T_VARIABLE","$dir",353],")",["T_WHITESPACE","\n    ",353],"{",["T_WHITESPACE","\n        ",354],["T_IF","if",355],["T_WHITESPACE"," ",355],"(",["T_STRING","substr",355],"(",["T_VARIABLE","$dir",355],",","-",["T_LNUMBER","1",355],")",["T_WHITESPACE"," ",355],["T_IS_NOT_EQUAL","!=",355],["T_WHITESPACE"," ",355],["T_STRING","DIRECTORY_SEPARATOR",355],")",["T_WHITESPACE"," ",355],"{",["T_WHITESPACE","\n            ",355],["T_VARIABLE","$dir",356],["T_CONCAT_EQUAL",".=",356],["T_WHITESPACE"," ",356],["T_STRING","DIRECTORY_SEPARATOR",356],";",["T_WHITESPACE","\n        ",356],"}",["T_WHITESPACE","\n        ",357],["T_RETURN","return",358],["T_WHITESPACE"," ",358],["T_VARIABLE","$dir",358],";",["T_WHITESPACE","\n    ",358],"}",["T_WHITESPACE","\n\n    ",359],["T_DOC_COMMENT","\/**\n     * Used to check if uploaded file mime type is valid or not\n     *\n     * @param array $validTypes\n     * @access public\n     * @return bool\n     *\/",361],["T_WHITESPACE","\n    ",367],["T_PUBLIC","public",368],["T_WHITESPACE"," ",368],["T_FUNCTION","function",368],["T_WHITESPACE"," ",368],["T_STRING","checkMimeType",368],"(",["T_VARIABLE","$validTypes",368],["T_WHITESPACE"," ",368],"=",["T_WHITESPACE"," ",368],["T_ARRAY","array",368],"(",")",")",["T_WHITESPACE","\n    ",368],"{",["T_WHITESPACE","\n        ",369],["T_TRY","try",370],["T_WHITESPACE"," ",370],"{",["T_WHITESPACE","\n            ",370],["T_IF","if",371],["T_WHITESPACE"," ",371],"(",["T_STRING","count",371],"(",["T_VARIABLE","$validTypes",371],")",["T_WHITESPACE"," ",371],">",["T_WHITESPACE"," ",371],["T_LNUMBER","0",371],")",["T_WHITESPACE"," ",371],"{",["T_WHITESPACE","\n                ",371],["T_VARIABLE","$validator",372],["T_WHITESPACE"," ",372],"=",["T_WHITESPACE"," ",372],["T_NEW","new",372],["T_WHITESPACE"," ",372],["T_STRING","Zend_Validate_File_MimeType",372],"(",["T_VARIABLE","$validTypes",372],")",";",["T_WHITESPACE","\n                ",372],["T_RETURN","return",373],["T_WHITESPACE"," ",373],["T_VARIABLE","$validator",373],["T_OBJECT_OPERATOR","->",373],["T_STRING","isValid",373],"(",["T_VARIABLE","$this",373],["T_OBJECT_OPERATOR","->",373],["T_STRING","_file",373],"[",["T_CONSTANT_ENCAPSED_STRING","'tmp_name'",373],"]",")",";",["T_WHITESPACE","\n            ",373],"}",["T_WHITESPACE","\n            ",374],["T_RETURN","return",375],["T_WHITESPACE"," ",375],["T_STRING","true",375],";",["T_WHITESPACE","\n        ",375],"}",["T_WHITESPACE"," ",376],["T_CATCH","catch",376],["T_WHITESPACE"," ",376],"(",["T_STRING","Exception",376],["T_WHITESPACE"," ",376],["T_VARIABLE","$e",376],")",["T_WHITESPACE"," ",376],"{",["T_WHITESPACE","\n            ",376],["T_RETURN","return",377],["T_WHITESPACE"," ",377],["T_STRING","false",377],";",["T_WHITESPACE","\n        ",377],"}",["T_WHITESPACE","\n    ",378],"}",["T_WHITESPACE","\n\n    ",379],["T_DOC_COMMENT","\/**\n     * Returns a name of uploaded file\n     *\n     * @access public\n     * @return string\n     *\/",381],["T_WHITESPACE","\n    ",386],["T_PUBLIC","public",387],["T_WHITESPACE"," ",387],["T_FUNCTION","function",387],["T_WHITESPACE"," ",387],["T_STRING","getUploadedFileName",387],"(",")",["T_WHITESPACE","\n    ",387],"{",["T_WHITESPACE","\n        ",388],["T_RETURN","return",389],["T_WHITESPACE"," ",389],["T_VARIABLE","$this",389],["T_OBJECT_OPERATOR","->",389],["T_STRING","_uploadedFileName",389],";",["T_WHITESPACE","\n    ",389],"}",["T_WHITESPACE","\n\n    ",390],["T_DOC_COMMENT","\/**\n     * Used to set {@link _allowCreateFolders} value\n     *\n     * @param mixed $flag\n     * @access public\n     * @return Varien_File_Uploader\n     *\/",392],["T_WHITESPACE","\n    ",398],["T_PUBLIC","public",399],["T_WHITESPACE"," ",399],["T_FUNCTION","function",399],["T_WHITESPACE"," ",399],["T_STRING","setAllowCreateFolders",399],"(",["T_VARIABLE","$flag",399],")",["T_WHITESPACE","\n    ",399],"{",["T_WHITESPACE","\n        ",400],["T_VARIABLE","$this",401],["T_OBJECT_OPERATOR","->",401],["T_STRING","_allowCreateFolders",401],["T_WHITESPACE"," ",401],"=",["T_WHITESPACE"," ",401],["T_VARIABLE","$flag",401],";",["T_WHITESPACE","\n        ",401],["T_RETURN","return",402],["T_WHITESPACE"," ",402],["T_VARIABLE","$this",402],";",["T_WHITESPACE","\n    ",402],"}",["T_WHITESPACE","\n\n    ",403],["T_DOC_COMMENT","\/**\n     * Used to set {@link _allowRenameFiles} value\n     *\n     * @param mixed $flag\n     * @access public\n     * @return Varien_File_Uploader\n     *\/",405],["T_WHITESPACE","\n    ",411],["T_PUBLIC","public",412],["T_WHITESPACE"," ",412],["T_FUNCTION","function",412],["T_WHITESPACE"," ",412],["T_STRING","setAllowRenameFiles",412],"(",["T_VARIABLE","$flag",412],")",["T_WHITESPACE","\n    ",412],"{",["T_WHITESPACE","\n        ",413],["T_VARIABLE","$this",414],["T_OBJECT_OPERATOR","->",414],["T_STRING","_allowRenameFiles",414],["T_WHITESPACE"," ",414],"=",["T_WHITESPACE"," ",414],["T_VARIABLE","$flag",414],";",["T_WHITESPACE","\n        ",414],["T_RETURN","return",415],["T_WHITESPACE"," ",415],["T_VARIABLE","$this",415],";",["T_WHITESPACE","\n    ",415],"}",["T_WHITESPACE","\n\n    ",416],["T_DOC_COMMENT","\/**\n     * Used to set {@link _enableFilesDispersion} value\n     *\n     * @param mixed $flag\n     * @access public\n     * @return Varien_File_Uploader\n     *\/",418],["T_WHITESPACE","\n    ",424],["T_PUBLIC","public",425],["T_WHITESPACE"," ",425],["T_FUNCTION","function",425],["T_WHITESPACE"," ",425],["T_STRING","setFilesDispersion",425],"(",["T_VARIABLE","$flag",425],")",["T_WHITESPACE","\n    ",425],"{",["T_WHITESPACE","\n        ",426],["T_VARIABLE","$this",427],["T_OBJECT_OPERATOR","->",427],["T_STRING","_enableFilesDispersion",427],["T_WHITESPACE"," ",427],"=",["T_WHITESPACE"," ",427],["T_VARIABLE","$flag",427],";",["T_WHITESPACE","\n        ",427],["T_RETURN","return",428],["T_WHITESPACE"," ",428],["T_VARIABLE","$this",428],";",["T_WHITESPACE","\n    ",428],"}",["T_WHITESPACE","\n\n    ",429],["T_DOC_COMMENT","\/**\n     * Filenames Case-sensitivity  setter\n     *\n     * @param mixed $flag\n     * @return Varien_File_Uploader\n     *\/",431],["T_WHITESPACE","\n    ",436],["T_PUBLIC","public",437],["T_WHITESPACE"," ",437],["T_FUNCTION","function",437],["T_WHITESPACE"," ",437],["T_STRING","setFilenamesCaseSensitivity",437],"(",["T_VARIABLE","$flag",437],")",["T_WHITESPACE","\n    ",437],"{",["T_WHITESPACE","\n        ",438],["T_VARIABLE","$this",439],["T_OBJECT_OPERATOR","->",439],["T_STRING","_caseInsensitiveFilenames",439],["T_WHITESPACE"," ",439],"=",["T_WHITESPACE"," ",439],["T_VARIABLE","$flag",439],";",["T_WHITESPACE","\n        ",439],["T_RETURN","return",440],["T_WHITESPACE"," ",440],["T_VARIABLE","$this",440],";",["T_WHITESPACE","\n    ",440],"}",["T_WHITESPACE","\n\n    ",441],["T_PUBLIC","public",443],["T_WHITESPACE"," ",443],["T_FUNCTION","function",443],["T_WHITESPACE"," ",443],["T_STRING","setAllowedExtensions",443],"(",["T_VARIABLE","$extensions",443],["T_WHITESPACE"," ",443],"=",["T_WHITESPACE"," ",443],["T_ARRAY","array",443],"(",")",")",["T_WHITESPACE","\n    ",443],"{",["T_WHITESPACE","\n        ",444],["T_FOREACH","foreach",445],["T_WHITESPACE"," ",445],"(",["T_ARRAY_CAST","(array)",445],["T_VARIABLE","$extensions",445],["T_WHITESPACE"," ",445],["T_AS","as",445],["T_WHITESPACE"," ",445],["T_VARIABLE","$extension",445],")",["T_WHITESPACE"," ",445],"{",["T_WHITESPACE","\n            ",445],["T_VARIABLE","$this",446],["T_OBJECT_OPERATOR","->",446],["T_STRING","_allowedExtensions",446],"[","]",["T_WHITESPACE"," ",446],"=",["T_WHITESPACE"," ",446],["T_STRING","strtolower",446],"(",["T_VARIABLE","$extension",446],")",";",["T_WHITESPACE","\n        ",446],"}",["T_WHITESPACE","\n        ",447],["T_RETURN","return",448],["T_WHITESPACE"," ",448],["T_VARIABLE","$this",448],";",["T_WHITESPACE","\n    ",448],"}",["T_WHITESPACE","\n\n    ",449],["T_DOC_COMMENT","\/**\n     * Set valid MIME-types.\n     *\n     * @param array $mimeTypes\n     * @return Varien_File_Uploader\n     *\/",451],["T_WHITESPACE","\n    ",456],["T_PUBLIC","public",457],["T_WHITESPACE"," ",457],["T_FUNCTION","function",457],["T_WHITESPACE"," ",457],["T_STRING","setValidMimeTypes",457],"(",["T_VARIABLE","$mimeTypes",457],["T_WHITESPACE"," ",457],"=",["T_WHITESPACE"," ",457],["T_ARRAY","array",457],"(",")",")",["T_WHITESPACE","\n    ",457],"{",["T_WHITESPACE","\n        ",458],["T_VARIABLE","$this",459],["T_OBJECT_OPERATOR","->",459],["T_STRING","_validMimeTypes",459],["T_WHITESPACE"," ",459],"=",["T_WHITESPACE"," ",459],["T_ARRAY","array",459],"(",")",";",["T_WHITESPACE","\n        ",459],["T_FOREACH","foreach",460],["T_WHITESPACE"," ",460],"(",["T_ARRAY_CAST","(array)",460],["T_WHITESPACE"," ",460],["T_VARIABLE","$mimeTypes",460],["T_WHITESPACE"," ",460],["T_AS","as",460],["T_WHITESPACE"," ",460],["T_VARIABLE","$mimeType",460],")",["T_WHITESPACE"," ",460],"{",["T_WHITESPACE","\n            ",460],["T_VARIABLE","$this",461],["T_OBJECT_OPERATOR","->",461],["T_STRING","_validMimeTypes",461],"[","]",["T_WHITESPACE"," ",461],"=",["T_WHITESPACE"," ",461],["T_VARIABLE","$mimeType",461],";",["T_WHITESPACE","\n        ",461],"}",["T_WHITESPACE","\n        ",462],["T_RETURN","return",463],["T_WHITESPACE"," ",463],["T_VARIABLE","$this",463],";",["T_WHITESPACE","\n    ",463],"}",["T_WHITESPACE","\n\n    ",464],["T_DOC_COMMENT","\/**\n     * Check if specified extension is allowed\n     *\n     * @param string $extension\n     * @return boolean\n     *\/",466],["T_WHITESPACE","\n    ",471],["T_PUBLIC","public",472],["T_WHITESPACE"," ",472],["T_FUNCTION","function",472],["T_WHITESPACE"," ",472],["T_STRING","checkAllowedExtension",472],"(",["T_VARIABLE","$extension",472],")",["T_WHITESPACE","\n    ",472],"{",["T_WHITESPACE","\n        ",473],["T_IF","if",474],["T_WHITESPACE"," ",474],"(","!",["T_STRING","is_array",474],"(",["T_VARIABLE","$this",474],["T_OBJECT_OPERATOR","->",474],["T_STRING","_allowedExtensions",474],")",["T_WHITESPACE"," ",474],["T_BOOLEAN_OR","||",474],["T_WHITESPACE"," ",474],["T_EMPTY","empty",474],"(",["T_VARIABLE","$this",474],["T_OBJECT_OPERATOR","->",474],["T_STRING","_allowedExtensions",474],")",")",["T_WHITESPACE"," ",474],"{",["T_WHITESPACE","\n            ",474],["T_RETURN","return",475],["T_WHITESPACE"," ",475],["T_STRING","true",475],";",["T_WHITESPACE","\n        ",475],"}",["T_WHITESPACE","\n\n        ",476],["T_RETURN","return",478],["T_WHITESPACE"," ",478],["T_STRING","in_array",478],"(",["T_STRING","strtolower",478],"(",["T_VARIABLE","$extension",478],")",",",["T_WHITESPACE"," ",478],["T_VARIABLE","$this",478],["T_OBJECT_OPERATOR","->",478],["T_STRING","_allowedExtensions",478],")",";",["T_WHITESPACE","\n    ",478],"}",["T_WHITESPACE","\n\n    ",479],["T_DOC_COMMENT","\/**\n     * @deprecated after 1.5.0.0-beta2\n     *\n     * @param string $extension\n     * @return boolean\n     *\/",481],["T_WHITESPACE","\n    ",486],["T_PUBLIC","public",487],["T_WHITESPACE"," ",487],["T_FUNCTION","function",487],["T_WHITESPACE"," ",487],["T_STRING","chechAllowedExtension",487],"(",["T_VARIABLE","$extension",487],")",["T_WHITESPACE","\n    ",487],"{",["T_WHITESPACE","\n        ",488],["T_RETURN","return",489],["T_WHITESPACE"," ",489],["T_VARIABLE","$this",489],["T_OBJECT_OPERATOR","->",489],["T_STRING","checkAllowedExtension",489],"(",["T_VARIABLE","$extension",489],")",";",["T_WHITESPACE","\n    ",489],"}",["T_WHITESPACE","\n\n    ",490],["T_PRIVATE","private",492],["T_WHITESPACE"," ",492],["T_FUNCTION","function",492],["T_WHITESPACE"," ",492],["T_STRING","_getMimeType",492],"(",")",["T_WHITESPACE","\n    ",492],"{",["T_WHITESPACE","\n        ",493],["T_RETURN","return",494],["T_WHITESPACE"," ",494],["T_VARIABLE","$this",494],["T_OBJECT_OPERATOR","->",494],["T_STRING","_file",494],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",494],"]",";",["T_WHITESPACE","\n    ",494],"}",["T_WHITESPACE","\n\n    ",495],["T_PRIVATE","private",497],["T_WHITESPACE"," ",497],["T_FUNCTION","function",497],["T_WHITESPACE"," ",497],["T_STRING","_setUploadFileId",497],"(",["T_VARIABLE","$fileId",497],")",["T_WHITESPACE","\n    ",497],"{",["T_WHITESPACE","\n        ",498],["T_IF","if",499],["T_WHITESPACE"," ",499],"(",["T_EMPTY","empty",499],"(",["T_VARIABLE","$_FILES",499],")",")",["T_WHITESPACE"," ",499],"{",["T_WHITESPACE","\n            ",499],["T_THROW","throw",500],["T_WHITESPACE"," ",500],["T_NEW","new",500],["T_WHITESPACE"," ",500],["T_STRING","Exception",500],"(",["T_CONSTANT_ENCAPSED_STRING","'$_FILES array is empty'",500],",",["T_WHITESPACE"," ",500],["T_STRING","self",500],["T_DOUBLE_COLON","::",500],["T_STRING","TMP_NAME_EMPTY",500],")",";",["T_WHITESPACE","\n        ",500],"}",["T_WHITESPACE","\n\n        ",501],["T_IF","if",503],["T_WHITESPACE"," ",503],"(",["T_STRING","is_array",503],"(",["T_VARIABLE","$fileId",503],")",")",["T_WHITESPACE"," ",503],"{",["T_WHITESPACE","\n            ",503],["T_VARIABLE","$this",504],["T_OBJECT_OPERATOR","->",504],["T_STRING","_uploadType",504],["T_WHITESPACE"," ",504],"=",["T_WHITESPACE"," ",504],["T_STRING","self",504],["T_DOUBLE_COLON","::",504],["T_STRING","MULTIPLE_STYLE",504],";",["T_WHITESPACE","\n            ",504],["T_VARIABLE","$this",505],["T_OBJECT_OPERATOR","->",505],["T_STRING","_file",505],["T_WHITESPACE"," ",505],"=",["T_WHITESPACE"," ",505],["T_VARIABLE","$fileId",505],";",["T_WHITESPACE","\n        ",505],"}",["T_WHITESPACE"," ",506],["T_ELSE","else",506],["T_WHITESPACE"," ",506],"{",["T_WHITESPACE","\n            ",506],["T_STRING","preg_match",507],"(",["T_CONSTANT_ENCAPSED_STRING","\"\/^(.*?)\\[(.*?)\\]$\/\"",507],",",["T_WHITESPACE"," ",507],["T_VARIABLE","$fileId",507],",",["T_WHITESPACE"," ",507],["T_VARIABLE","$file",507],")",";",["T_WHITESPACE","\n\n            ",507],["T_IF","if",509],["T_WHITESPACE"," ",509],"(",["T_STRING","count",509],"(",["T_VARIABLE","$file",509],")",["T_WHITESPACE"," ",509],">",["T_WHITESPACE"," ",509],["T_LNUMBER","0",509],["T_WHITESPACE"," ",509],["T_BOOLEAN_AND","&&",509],["T_WHITESPACE"," ",509],"(",["T_STRING","count",509],"(",["T_VARIABLE","$file",509],"[",["T_LNUMBER","0",509],"]",")",["T_WHITESPACE"," ",509],">",["T_WHITESPACE"," ",509],["T_LNUMBER","0",509],")",["T_WHITESPACE"," ",509],["T_BOOLEAN_AND","&&",509],["T_WHITESPACE"," ",509],"(",["T_STRING","count",509],"(",["T_VARIABLE","$file",509],"[",["T_LNUMBER","1",509],"]",")",["T_WHITESPACE"," ",509],">",["T_WHITESPACE"," ",509],["T_LNUMBER","0",509],")",")",["T_WHITESPACE"," ",509],"{",["T_WHITESPACE","\n                ",509],["T_STRING","array_shift",510],"(",["T_VARIABLE","$file",510],")",";",["T_WHITESPACE","\n                ",510],["T_VARIABLE","$this",511],["T_OBJECT_OPERATOR","->",511],["T_STRING","_uploadType",511],["T_WHITESPACE"," ",511],"=",["T_WHITESPACE"," ",511],["T_STRING","self",511],["T_DOUBLE_COLON","::",511],["T_STRING","MULTIPLE_STYLE",511],";",["T_WHITESPACE","\n\n                ",511],["T_VARIABLE","$fileAttributes",513],["T_WHITESPACE"," ",513],"=",["T_WHITESPACE"," ",513],["T_VARIABLE","$_FILES",513],"[",["T_VARIABLE","$file",513],"[",["T_LNUMBER","0",513],"]","]",";",["T_WHITESPACE","\n                ",513],["T_VARIABLE","$tmp_var",514],["T_WHITESPACE"," ",514],"=",["T_WHITESPACE"," ",514],["T_ARRAY","array",514],"(",")",";",["T_WHITESPACE","\n\n                ",514],["T_FOREACH","foreach",516],["T_WHITESPACE"," ",516],"(",["T_VARIABLE","$fileAttributes",516],["T_WHITESPACE"," ",516],["T_AS","as",516],["T_WHITESPACE"," ",516],["T_VARIABLE","$attributeName",516],["T_WHITESPACE"," ",516],["T_DOUBLE_ARROW","=>",516],["T_WHITESPACE"," ",516],["T_VARIABLE","$attributeValue",516],")",["T_WHITESPACE"," ",516],"{",["T_WHITESPACE","\n                    ",516],["T_VARIABLE","$tmp_var",517],"[",["T_VARIABLE","$attributeName",517],"]",["T_WHITESPACE"," ",517],"=",["T_WHITESPACE"," ",517],["T_VARIABLE","$attributeValue",517],"[",["T_VARIABLE","$file",517],"[",["T_LNUMBER","1",517],"]","]",";",["T_WHITESPACE","\n                ",517],"}",["T_WHITESPACE","\n\n                ",518],["T_VARIABLE","$fileAttributes",520],["T_WHITESPACE"," ",520],"=",["T_WHITESPACE"," ",520],["T_VARIABLE","$tmp_var",520],";",["T_WHITESPACE","\n                ",520],["T_VARIABLE","$this",521],["T_OBJECT_OPERATOR","->",521],["T_STRING","_file",521],["T_WHITESPACE"," ",521],"=",["T_WHITESPACE"," ",521],["T_VARIABLE","$fileAttributes",521],";",["T_WHITESPACE","\n            ",521],"}",["T_WHITESPACE"," ",522],["T_ELSEIF","elseif",522],"(",["T_WHITESPACE"," ",522],["T_STRING","count",522],"(",["T_VARIABLE","$fileId",522],")",["T_WHITESPACE"," ",522],">",["T_WHITESPACE"," ",522],["T_LNUMBER","0",522],["T_WHITESPACE"," ",522],["T_BOOLEAN_AND","&&",522],["T_WHITESPACE"," ",522],["T_ISSET","isset",522],"(",["T_VARIABLE","$_FILES",522],"[",["T_VARIABLE","$fileId",522],"]",")",")",["T_WHITESPACE"," ",522],"{",["T_WHITESPACE","\n                ",522],["T_VARIABLE","$this",523],["T_OBJECT_OPERATOR","->",523],["T_STRING","_uploadType",523],["T_WHITESPACE"," ",523],"=",["T_WHITESPACE"," ",523],["T_STRING","self",523],["T_DOUBLE_COLON","::",523],["T_STRING","SINGLE_STYLE",523],";",["T_WHITESPACE","\n                ",523],["T_VARIABLE","$this",524],["T_OBJECT_OPERATOR","->",524],["T_STRING","_file",524],["T_WHITESPACE"," ",524],"=",["T_WHITESPACE"," ",524],["T_VARIABLE","$_FILES",524],"[",["T_VARIABLE","$fileId",524],"]",";",["T_WHITESPACE","\n            ",524],"}",["T_WHITESPACE"," ",525],["T_ELSEIF","elseif",525],"(",["T_WHITESPACE"," ",525],["T_VARIABLE","$fileId",525],["T_WHITESPACE"," ",525],["T_IS_EQUAL","==",525],["T_WHITESPACE"," ",525],["T_CONSTANT_ENCAPSED_STRING","''",525],["T_WHITESPACE"," ",525],")",["T_WHITESPACE"," ",525],"{",["T_WHITESPACE","\n                ",525],["T_THROW","throw",526],["T_WHITESPACE"," ",526],["T_NEW","new",526],["T_WHITESPACE"," ",526],["T_STRING","Exception",526],"(",["T_CONSTANT_ENCAPSED_STRING","'Invalid parameter given. A valid $_FILES[] identifier is expected.'",526],")",";",["T_WHITESPACE","\n            ",526],"}",["T_WHITESPACE","\n        ",527],"}",["T_WHITESPACE","\n    ",528],"}",["T_WHITESPACE","\n\n    ",529],["T_PRIVATE","private",531],["T_WHITESPACE"," ",531],["T_FUNCTION","function",531],["T_WHITESPACE"," ",531],["T_STRING","_createDestinationFolder",531],"(",["T_VARIABLE","$destinationFolder",531],")",["T_WHITESPACE","\n    ",531],"{",["T_WHITESPACE","\n        ",532],["T_IF","if",533],["T_WHITESPACE"," ",533],"(","!",["T_VARIABLE","$destinationFolder",533],")",["T_WHITESPACE"," ",533],"{",["T_WHITESPACE","\n            ",533],["T_RETURN","return",534],["T_WHITESPACE"," ",534],["T_VARIABLE","$this",534],";",["T_WHITESPACE","\n        ",534],"}",["T_WHITESPACE","\n\n        ",535],["T_IF","if",537],["T_WHITESPACE"," ",537],"(",["T_STRING","substr",537],"(",["T_VARIABLE","$destinationFolder",537],",",["T_WHITESPACE"," ",537],"-",["T_LNUMBER","1",537],")",["T_WHITESPACE"," ",537],["T_IS_EQUAL","==",537],["T_WHITESPACE"," ",537],["T_STRING","DIRECTORY_SEPARATOR",537],")",["T_WHITESPACE"," ",537],"{",["T_WHITESPACE","\n            ",537],["T_VARIABLE","$destinationFolder",538],["T_WHITESPACE"," ",538],"=",["T_WHITESPACE"," ",538],["T_STRING","substr",538],"(",["T_VARIABLE","$destinationFolder",538],",",["T_WHITESPACE"," ",538],["T_LNUMBER","0",538],",",["T_WHITESPACE"," ",538],"-",["T_LNUMBER","1",538],")",";",["T_WHITESPACE","\n        ",538],"}",["T_WHITESPACE","\n\n        ",539],["T_IF","if",541],["T_WHITESPACE"," ",541],"(","!","(","@",["T_STRING","is_dir",541],"(",["T_VARIABLE","$destinationFolder",541],")",["T_WHITESPACE"," ",541],["T_BOOLEAN_OR","||",541],["T_WHITESPACE"," ",541],"@",["T_STRING","mkdir",541],"(",["T_VARIABLE","$destinationFolder",541],",",["T_WHITESPACE"," ",541],["T_LNUMBER","0777",541],",",["T_WHITESPACE"," ",541],["T_STRING","true",541],")",")",")",["T_WHITESPACE"," ",541],"{",["T_WHITESPACE","\n            ",541],["T_THROW","throw",542],["T_WHITESPACE"," ",542],["T_NEW","new",542],["T_WHITESPACE"," ",542],["T_STRING","Exception",542],"(","\"",["T_ENCAPSED_AND_WHITESPACE","Unable to create directory '",542],["T_CURLY_OPEN","{",542],["T_VARIABLE","$destinationFolder",542],"}",["T_ENCAPSED_AND_WHITESPACE","'.",542],"\"",")",";",["T_WHITESPACE","\n        ",542],"}",["T_WHITESPACE","\n        ",543],["T_RETURN","return",544],["T_WHITESPACE"," ",544],["T_VARIABLE","$this",544],";",["T_WHITESPACE","\n    ",544],"}",["T_WHITESPACE","\n\n    ",545],["T_STATIC","static",547],["T_WHITESPACE"," ",547],["T_PUBLIC","public",547],["T_WHITESPACE"," ",547],["T_FUNCTION","function",547],["T_WHITESPACE"," ",547],["T_STRING","getNewFileName",547],"(",["T_VARIABLE","$destFile",547],")",["T_WHITESPACE","\n    ",547],"{",["T_WHITESPACE","\n        ",548],["T_VARIABLE","$fileInfo",549],["T_WHITESPACE"," ",549],"=",["T_WHITESPACE"," ",549],["T_STRING","pathinfo",549],"(",["T_VARIABLE","$destFile",549],")",";",["T_WHITESPACE","\n        ",549],["T_IF","if",550],["T_WHITESPACE"," ",550],"(",["T_STRING","file_exists",550],"(",["T_VARIABLE","$destFile",550],")",")",["T_WHITESPACE"," ",550],"{",["T_WHITESPACE","\n            ",550],["T_VARIABLE","$index",551],["T_WHITESPACE"," ",551],"=",["T_WHITESPACE"," ",551],["T_LNUMBER","1",551],";",["T_WHITESPACE","\n            ",551],["T_VARIABLE","$baseName",552],["T_WHITESPACE"," ",552],"=",["T_WHITESPACE"," ",552],["T_VARIABLE","$fileInfo",552],"[",["T_CONSTANT_ENCAPSED_STRING","'filename'",552],"]",["T_WHITESPACE"," ",552],".",["T_WHITESPACE"," ",552],["T_CONSTANT_ENCAPSED_STRING","'.'",552],["T_WHITESPACE"," ",552],".",["T_WHITESPACE"," ",552],["T_VARIABLE","$fileInfo",552],"[",["T_CONSTANT_ENCAPSED_STRING","'extension'",552],"]",";",["T_WHITESPACE","\n            ",552],["T_WHILE","while",553],"(",["T_WHITESPACE"," ",553],["T_STRING","file_exists",553],"(",["T_VARIABLE","$fileInfo",553],"[",["T_CONSTANT_ENCAPSED_STRING","'dirname'",553],"]",["T_WHITESPACE"," ",553],".",["T_WHITESPACE"," ",553],["T_STRING","DIRECTORY_SEPARATOR",553],["T_WHITESPACE"," ",553],".",["T_WHITESPACE"," ",553],["T_VARIABLE","$baseName",553],")",["T_WHITESPACE"," ",553],")",["T_WHITESPACE"," ",553],"{",["T_WHITESPACE","\n                ",553],["T_VARIABLE","$baseName",554],["T_WHITESPACE"," ",554],"=",["T_WHITESPACE"," ",554],["T_VARIABLE","$fileInfo",554],"[",["T_CONSTANT_ENCAPSED_STRING","'filename'",554],"]",".",["T_WHITESPACE"," ",554],["T_CONSTANT_ENCAPSED_STRING","'_'",554],["T_WHITESPACE"," ",554],".",["T_WHITESPACE"," ",554],["T_VARIABLE","$index",554],["T_WHITESPACE"," ",554],".",["T_WHITESPACE"," ",554],["T_CONSTANT_ENCAPSED_STRING","'.'",554],["T_WHITESPACE"," ",554],".",["T_WHITESPACE"," ",554],["T_VARIABLE","$fileInfo",554],"[",["T_CONSTANT_ENCAPSED_STRING","'extension'",554],"]",";",["T_WHITESPACE","\n                ",554],["T_VARIABLE","$index",555],["T_WHITESPACE"," ",555],["T_INC","++",555],";",["T_WHITESPACE","\n            ",555],"}",["T_WHITESPACE","\n            ",556],["T_VARIABLE","$destFileName",557],["T_WHITESPACE"," ",557],"=",["T_WHITESPACE"," ",557],["T_VARIABLE","$baseName",557],";",["T_WHITESPACE","\n        ",557],"}",["T_WHITESPACE"," ",558],["T_ELSE","else",558],["T_WHITESPACE"," ",558],"{",["T_WHITESPACE","\n            ",558],["T_RETURN","return",559],["T_WHITESPACE"," ",559],["T_VARIABLE","$fileInfo",559],"[",["T_CONSTANT_ENCAPSED_STRING","'basename'",559],"]",";",["T_WHITESPACE","\n        ",559],"}",["T_WHITESPACE","\n\n        ",560],["T_RETURN","return",562],["T_WHITESPACE"," ",562],["T_VARIABLE","$destFileName",562],";",["T_WHITESPACE","\n    ",562],"}",["T_WHITESPACE","\n\n    ",563],["T_STATIC","static",565],["T_WHITESPACE"," ",565],["T_PUBLIC","public",565],["T_WHITESPACE"," ",565],["T_FUNCTION","function",565],["T_WHITESPACE"," ",565],["T_STRING","getDispretionPath",565],"(",["T_VARIABLE","$fileName",565],")",["T_WHITESPACE","\n    ",565],"{",["T_WHITESPACE","\n        ",566],["T_VARIABLE","$char",567],["T_WHITESPACE"," ",567],"=",["T_WHITESPACE"," ",567],["T_LNUMBER","0",567],";",["T_WHITESPACE","\n        ",567],["T_VARIABLE","$dispretionPath",568],["T_WHITESPACE"," ",568],"=",["T_WHITESPACE"," ",568],["T_CONSTANT_ENCAPSED_STRING","''",568],";",["T_WHITESPACE","\n        ",568],["T_WHILE","while",569],["T_WHITESPACE"," ",569],"(","(",["T_VARIABLE","$char",569],["T_WHITESPACE"," ",569],"<",["T_WHITESPACE"," ",569],["T_LNUMBER","2",569],")",["T_WHITESPACE"," ",569],["T_BOOLEAN_AND","&&",569],["T_WHITESPACE"," ",569],"(",["T_VARIABLE","$char",569],["T_WHITESPACE"," ",569],"<",["T_WHITESPACE"," ",569],["T_STRING","strlen",569],"(",["T_VARIABLE","$fileName",569],")",")",")",["T_WHITESPACE"," ",569],"{",["T_WHITESPACE","\n            ",569],["T_IF","if",570],["T_WHITESPACE"," ",570],"(",["T_EMPTY","empty",570],"(",["T_VARIABLE","$dispretionPath",570],")",")",["T_WHITESPACE"," ",570],"{",["T_WHITESPACE","\n                ",570],["T_VARIABLE","$dispretionPath",571],["T_WHITESPACE"," ",571],"=",["T_WHITESPACE"," ",571],["T_STRING","DIRECTORY_SEPARATOR",571],["T_WHITESPACE","\n                    ",571],".",["T_WHITESPACE"," ",572],"(",["T_CONSTANT_ENCAPSED_STRING","'.'",572],["T_WHITESPACE"," ",572],["T_IS_EQUAL","==",572],["T_WHITESPACE"," ",572],["T_VARIABLE","$fileName",572],"[",["T_VARIABLE","$char",572],"]",["T_WHITESPACE"," ",572],"?",["T_WHITESPACE"," ",572],["T_CONSTANT_ENCAPSED_STRING","'_'",572],["T_WHITESPACE"," ",572],":",["T_WHITESPACE"," ",572],["T_VARIABLE","$fileName",572],"[",["T_VARIABLE","$char",572],"]",")",";",["T_WHITESPACE","\n            ",572],"}",["T_WHITESPACE"," ",573],["T_ELSE","else",573],["T_WHITESPACE"," ",573],"{",["T_WHITESPACE","\n                ",573],["T_VARIABLE","$dispretionPath",574],["T_WHITESPACE"," ",574],"=",["T_WHITESPACE"," ",574],["T_STRING","self",574],["T_DOUBLE_COLON","::",574],["T_STRING","_addDirSeparator",574],"(",["T_VARIABLE","$dispretionPath",574],")",["T_WHITESPACE","\n                      ",574],".",["T_WHITESPACE"," ",575],"(",["T_CONSTANT_ENCAPSED_STRING","'.'",575],["T_WHITESPACE"," ",575],["T_IS_EQUAL","==",575],["T_WHITESPACE"," ",575],["T_VARIABLE","$fileName",575],"[",["T_VARIABLE","$char",575],"]",["T_WHITESPACE"," ",575],"?",["T_WHITESPACE"," ",575],["T_CONSTANT_ENCAPSED_STRING","'_'",575],["T_WHITESPACE"," ",575],":",["T_WHITESPACE"," ",575],["T_VARIABLE","$fileName",575],"[",["T_VARIABLE","$char",575],"]",")",";",["T_WHITESPACE","\n            ",575],"}",["T_WHITESPACE","\n            ",576],["T_VARIABLE","$char",577],["T_WHITESPACE"," ",577],["T_INC","++",577],";",["T_WHITESPACE","\n        ",577],"}",["T_WHITESPACE","\n        ",578],["T_RETURN","return",579],["T_WHITESPACE"," ",579],["T_VARIABLE","$dispretionPath",579],";",["T_WHITESPACE","\n    ",579],"}",["T_WHITESPACE","\n",580],"}",["T_WHITESPACE","\n",581]]