[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Magento\n *\n * NOTICE OF LICENSE\n *\n * This source file is subject to the Open Software License (OSL 3.0)\n * that is bundled with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/opensource.org\/licenses\/osl-3.0.php\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@magento.com so we can send you a copy immediately.\n *\n * DISCLAIMER\n *\n * Do not edit or add to this file if you wish to upgrade Magento to newer\n * versions in the future. If you wish to customize Magento for your\n * needs please refer to http:\/\/www.magento.com for more information.\n *\n * @category    Varien\n * @package     Varien_Cache\n * @copyright  Copyright (c) 2006-2016 X.commerce, Inc. and affiliates (http:\/\/www.magento.com)\n * @license    http:\/\/opensource.org\/licenses\/osl-3.0.php  Open Software License (OSL 3.0)\n *\/",2],["T_WHITESPACE","\n\n",25],["T_DOC_COMMENT","\/**\n * Class Varien_Cache_Backend_Memcached\n *\n * @deprecated after 1.7.0.2\n *\/",27],["T_WHITESPACE","\n",31],["T_CLASS","class",32],["T_WHITESPACE"," ",32],["T_STRING","Varien_Cache_Backend_Memcached",32],["T_WHITESPACE","\n    ",32],["T_EXTENDS","extends",33],["T_WHITESPACE"," ",33],["T_STRING","Zend_Cache_Backend_Memcached",33],["T_WHITESPACE","\n    ",33],["T_IMPLEMENTS","implements",34],["T_WHITESPACE"," ",34],["T_STRING","Zend_Cache_Backend_ExtendedInterface",34],["T_WHITESPACE","\n",34],"{",["T_WHITESPACE","\n    ",35],["T_DOC_COMMENT","\/**\n     * Maximum chunk of data that could be saved in one memcache cell (1 MiB)\n     *\/",36],["T_WHITESPACE","\n    ",38],["T_CONST","const",39],["T_WHITESPACE"," ",39],["T_STRING","DEFAULT_SLAB_SIZE",39],["T_WHITESPACE"," ",39],"=",["T_WHITESPACE"," ",39],["T_LNUMBER","1048576",39],";",["T_WHITESPACE","\n\n    ",39],["T_DOC_COMMENT","\/**\n     * Used to tell chunked data from ordinary\n     *\/",41],["T_WHITESPACE","\n    ",43],["T_CONST","const",44],["T_WHITESPACE"," ",44],["T_STRING","CODE_WORD",44],["T_WHITESPACE"," ",44],"=",["T_WHITESPACE"," ",44],["T_CONSTANT_ENCAPSED_STRING","'{splitted}'",44],";",["T_WHITESPACE","\n\n    ",44],["T_DOC_COMMENT","\/**\n     * Constructor\n     *\n     * @throws Varien_Exception\n     * @param array $options @see Zend_Cache_Backend_Memcached::__construct()\n     *\/",46],["T_WHITESPACE","\n    ",51],["T_PUBLIC","public",52],["T_WHITESPACE"," ",52],["T_FUNCTION","function",52],["T_WHITESPACE"," ",52],["T_STRING","__construct",52],"(",["T_ARRAY","array",52],["T_WHITESPACE"," ",52],["T_VARIABLE","$options",52],["T_WHITESPACE"," ",52],"=",["T_WHITESPACE"," ",52],["T_ARRAY","array",52],"(",")",")",["T_WHITESPACE","\n    ",52],"{",["T_WHITESPACE","\n        ",53],["T_STRING","parent",54],["T_DOUBLE_COLON","::",54],["T_STRING","__construct",54],"(",["T_VARIABLE","$options",54],")",";",["T_WHITESPACE","\n\n        ",54],["T_IF","if",56],["T_WHITESPACE"," ",56],"(","!",["T_ISSET","isset",56],"(",["T_VARIABLE","$options",56],"[",["T_CONSTANT_ENCAPSED_STRING","'slab_size'",56],"]",")",["T_WHITESPACE"," ",56],["T_BOOLEAN_OR","||",56],["T_WHITESPACE"," ",56],"!",["T_STRING","is_numeric",56],"(",["T_VARIABLE","$options",56],"[",["T_CONSTANT_ENCAPSED_STRING","'slab_size'",56],"]",")",")",["T_WHITESPACE"," ",56],"{",["T_WHITESPACE","\n            ",56],["T_IF","if",57],["T_WHITESPACE"," ",57],"(",["T_ISSET","isset",57],"(",["T_VARIABLE","$options",57],"[",["T_CONSTANT_ENCAPSED_STRING","'slab_size'",57],"]",")",")",["T_WHITESPACE"," ",57],"{",["T_WHITESPACE","\n                ",57],["T_THROW","throw",58],["T_WHITESPACE"," ",58],["T_NEW","new",58],["T_WHITESPACE"," ",58],["T_STRING","Varien_Exception",58],"(",["T_CONSTANT_ENCAPSED_STRING","\"Invalid value for the node <slab_size>. Expected to be positive integer.\"",58],")",";",["T_WHITESPACE","\n            ",58],"}",["T_WHITESPACE","\n\n            ",59],["T_VARIABLE","$this",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","_options",61],"[",["T_CONSTANT_ENCAPSED_STRING","'slab_size'",61],"]",["T_WHITESPACE"," ",61],"=",["T_WHITESPACE"," ",61],["T_STRING","self",61],["T_DOUBLE_COLON","::",61],["T_STRING","DEFAULT_SLAB_SIZE",61],";",["T_WHITESPACE","\n        ",61],"}",["T_WHITESPACE"," ",62],["T_ELSE","else",62],["T_WHITESPACE"," ",62],"{",["T_WHITESPACE","\n            ",62],["T_VARIABLE","$this",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","_options",63],"[",["T_CONSTANT_ENCAPSED_STRING","'slab_size'",63],"]",["T_WHITESPACE"," ",63],"=",["T_WHITESPACE"," ",63],["T_VARIABLE","$options",63],"[",["T_CONSTANT_ENCAPSED_STRING","'slab_size'",63],"]",";",["T_WHITESPACE","\n        ",63],"}",["T_WHITESPACE","\n    ",64],"}",["T_WHITESPACE","\n\n    ",65],["T_DOC_COMMENT","\/**\n     * Returns ID of a specific chunk on the basis of data's ID\n     *\n     * @param string $id    Main data's ID\n     * @param int    $index Particular chunk number to return ID for\n     * @return string\n     *\/",67],["T_WHITESPACE","\n    ",73],["T_PROTECTED","protected",74],["T_WHITESPACE"," ",74],["T_FUNCTION","function",74],["T_WHITESPACE"," ",74],["T_STRING","_getChunkId",74],"(",["T_VARIABLE","$id",74],",",["T_WHITESPACE"," ",74],["T_VARIABLE","$index",74],")",["T_WHITESPACE","\n    ",74],"{",["T_WHITESPACE","\n        ",75],["T_RETURN","return",76],["T_WHITESPACE"," ",76],"\"",["T_CURLY_OPEN","{",76],["T_VARIABLE","$id",76],"}",["T_ENCAPSED_AND_WHITESPACE","[",76],["T_CURLY_OPEN","{",76],["T_VARIABLE","$index",76],"}",["T_ENCAPSED_AND_WHITESPACE","]",76],"\"",";",["T_WHITESPACE","\n    ",76],"}",["T_WHITESPACE","\n\n    ",77],["T_DOC_COMMENT","\/**\n     * Remove saved chunks in case something gone wrong (e.g. some chunk from the chain can not be found)\n     *\n     * @param string $id     ID of data's info cell\n     * @param int    $chunks Number of chunks to remove (basically, the number after '{splitted}|')\n     * @return null\n     *\/",79],["T_WHITESPACE","\n    ",85],["T_PROTECTED","protected",86],["T_WHITESPACE"," ",86],["T_FUNCTION","function",86],["T_WHITESPACE"," ",86],["T_STRING","_cleanTheMess",86],"(",["T_VARIABLE","$id",86],",",["T_WHITESPACE"," ",86],["T_VARIABLE","$chunks",86],")",["T_WHITESPACE","\n    ",86],"{",["T_WHITESPACE","\n        ",87],["T_FOR","for",88],["T_WHITESPACE"," ",88],"(",["T_VARIABLE","$i",88],["T_WHITESPACE"," ",88],"=",["T_WHITESPACE"," ",88],["T_LNUMBER","0",88],";",["T_WHITESPACE"," ",88],["T_VARIABLE","$i",88],["T_WHITESPACE"," ",88],"<",["T_WHITESPACE"," ",88],["T_VARIABLE","$chunks",88],";",["T_WHITESPACE"," ",88],["T_VARIABLE","$i",88],["T_INC","++",88],")",["T_WHITESPACE"," ",88],"{",["T_WHITESPACE","\n            ",88],["T_VARIABLE","$this",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","remove",89],"(",["T_VARIABLE","$this",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","_getChunkId",89],"(",["T_VARIABLE","$id",89],",",["T_WHITESPACE"," ",89],["T_VARIABLE","$i",89],")",")",";",["T_WHITESPACE","\n        ",89],"}",["T_WHITESPACE","\n\n        ",90],["T_VARIABLE","$this",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","remove",92],"(",["T_VARIABLE","$id",92],")",";",["T_WHITESPACE","\n    ",92],"}",["T_WHITESPACE","\n\n    ",93],["T_DOC_COMMENT","\/**\n     * Save data to memcached, split it into chunks if data size is bigger than memcached slab size.\n     *\n     * @param string $data             @see Zend_Cache_Backend_Memcached::save()\n     * @param string $id               @see Zend_Cache_Backend_Memcached::save()\n     * @param array  $tags             @see Zend_Cache_Backend_Memcached::save()\n     * @param bool   $specificLifetime @see Zend_Cache_Backend_Memcached::save()\n     * @return bool\n     *\/",95],["T_WHITESPACE","\n    ",103],["T_PUBLIC","public",104],["T_WHITESPACE"," ",104],["T_FUNCTION","function",104],["T_WHITESPACE"," ",104],["T_STRING","save",104],"(",["T_VARIABLE","$data",104],",",["T_WHITESPACE"," ",104],["T_VARIABLE","$id",104],",",["T_WHITESPACE"," ",104],["T_VARIABLE","$tags",104],["T_WHITESPACE"," ",104],"=",["T_WHITESPACE"," ",104],["T_ARRAY","array",104],"(",")",",",["T_WHITESPACE"," ",104],["T_VARIABLE","$specificLifetime",104],["T_WHITESPACE"," ",104],"=",["T_WHITESPACE"," ",104],["T_STRING","false",104],")",["T_WHITESPACE","\n    ",104],"{",["T_WHITESPACE","\n        ",105],["T_IF","if",106],["T_WHITESPACE"," ",106],"(",["T_STRING","is_string",106],"(",["T_VARIABLE","$data",106],")",["T_WHITESPACE"," ",106],["T_BOOLEAN_AND","&&",106],["T_WHITESPACE"," ",106],"(",["T_STRING","strlen",106],"(",["T_VARIABLE","$data",106],")",["T_WHITESPACE"," ",106],">",["T_WHITESPACE"," ",106],["T_VARIABLE","$this",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","_options",106],"[",["T_CONSTANT_ENCAPSED_STRING","'slab_size'",106],"]",")",")",["T_WHITESPACE"," ",106],"{",["T_WHITESPACE","\n            ",106],["T_VARIABLE","$dataChunks",107],["T_WHITESPACE"," ",107],"=",["T_WHITESPACE"," ",107],["T_STRING","str_split",107],"(",["T_VARIABLE","$data",107],",",["T_WHITESPACE"," ",107],["T_VARIABLE","$this",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","_options",107],"[",["T_CONSTANT_ENCAPSED_STRING","'slab_size'",107],"]",")",";",["T_WHITESPACE","\n\n            ",107],["T_FOR","for",109],["T_WHITESPACE"," ",109],"(",["T_VARIABLE","$i",109],["T_WHITESPACE"," ",109],"=",["T_WHITESPACE"," ",109],["T_LNUMBER","0",109],",",["T_WHITESPACE"," ",109],["T_VARIABLE","$cnt",109],["T_WHITESPACE"," ",109],"=",["T_WHITESPACE"," ",109],["T_STRING","count",109],"(",["T_VARIABLE","$dataChunks",109],")",";",["T_WHITESPACE"," ",109],["T_VARIABLE","$i",109],["T_WHITESPACE"," ",109],"<",["T_WHITESPACE"," ",109],["T_VARIABLE","$cnt",109],";",["T_WHITESPACE"," ",109],["T_VARIABLE","$i",109],["T_INC","++",109],")",["T_WHITESPACE"," ",109],"{",["T_WHITESPACE","\n                ",109],["T_VARIABLE","$chunkId",110],["T_WHITESPACE"," ",110],"=",["T_WHITESPACE"," ",110],["T_VARIABLE","$this",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","_getChunkId",110],"(",["T_VARIABLE","$id",110],",",["T_WHITESPACE"," ",110],["T_VARIABLE","$i",110],")",";",["T_WHITESPACE","\n\n                ",110],["T_IF","if",112],["T_WHITESPACE"," ",112],"(","!",["T_STRING","parent",112],["T_DOUBLE_COLON","::",112],["T_STRING","save",112],"(",["T_VARIABLE","$dataChunks",112],"[",["T_VARIABLE","$i",112],"]",",",["T_WHITESPACE"," ",112],["T_VARIABLE","$chunkId",112],",",["T_WHITESPACE"," ",112],["T_VARIABLE","$tags",112],",",["T_WHITESPACE"," ",112],["T_VARIABLE","$specificLifetime",112],")",")",["T_WHITESPACE"," ",112],"{",["T_WHITESPACE","\n                    ",112],["T_VARIABLE","$this",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","_cleanTheMess",113],"(",["T_VARIABLE","$id",113],",",["T_WHITESPACE"," ",113],["T_VARIABLE","$i",113],["T_WHITESPACE"," ",113],"+",["T_WHITESPACE"," ",113],["T_LNUMBER","1",113],")",";",["T_WHITESPACE","\n                    ",113],["T_RETURN","return",114],["T_WHITESPACE"," ",114],["T_STRING","false",114],";",["T_WHITESPACE","\n                ",114],"}",["T_WHITESPACE","\n            ",115],"}",["T_WHITESPACE","\n\n            ",116],["T_VARIABLE","$data",118],["T_WHITESPACE"," ",118],"=",["T_WHITESPACE"," ",118],["T_STRING","self",118],["T_DOUBLE_COLON","::",118],["T_STRING","CODE_WORD",118],["T_WHITESPACE"," ",118],".",["T_WHITESPACE"," ",118],["T_CONSTANT_ENCAPSED_STRING","'|'",118],["T_WHITESPACE"," ",118],".",["T_WHITESPACE"," ",118],["T_VARIABLE","$i",118],";",["T_WHITESPACE","\n        ",118],"}",["T_WHITESPACE","\n\n        ",119],["T_RETURN","return",121],["T_WHITESPACE"," ",121],["T_STRING","parent",121],["T_DOUBLE_COLON","::",121],["T_STRING","save",121],"(",["T_VARIABLE","$data",121],",",["T_WHITESPACE"," ",121],["T_VARIABLE","$id",121],",",["T_WHITESPACE"," ",121],["T_VARIABLE","$tags",121],",",["T_WHITESPACE"," ",121],["T_VARIABLE","$specificLifetime",121],")",";",["T_WHITESPACE","\n    ",121],"}",["T_WHITESPACE","\n\n    ",122],["T_DOC_COMMENT","\/**\n     * Load data from memcached, glue from several chunks if it was splitted upon save.\n     *\n     * @param string $id                     @see Zend_Cache_Backend_Memcached::load()\n     * @param bool   $doNotTestCacheValidity @see Zend_Cache_Backend_Memcached::load()\n     * @return bool|false|string\n     *\/",124],["T_WHITESPACE","\n    ",130],["T_PUBLIC","public",131],["T_WHITESPACE"," ",131],["T_FUNCTION","function",131],["T_WHITESPACE"," ",131],["T_STRING","load",131],"(",["T_VARIABLE","$id",131],",",["T_WHITESPACE"," ",131],["T_VARIABLE","$doNotTestCacheValidity",131],["T_WHITESPACE"," ",131],"=",["T_WHITESPACE"," ",131],["T_STRING","false",131],")",["T_WHITESPACE","\n    ",131],"{",["T_WHITESPACE","\n        ",132],["T_VARIABLE","$data",133],["T_WHITESPACE"," ",133],"=",["T_WHITESPACE"," ",133],["T_STRING","parent",133],["T_DOUBLE_COLON","::",133],["T_STRING","load",133],"(",["T_VARIABLE","$id",133],",",["T_WHITESPACE"," ",133],["T_VARIABLE","$doNotTestCacheValidity",133],")",";",["T_WHITESPACE","\n\n        ",133],["T_IF","if",135],["T_WHITESPACE"," ",135],"(",["T_STRING","is_string",135],"(",["T_VARIABLE","$data",135],")",["T_WHITESPACE"," ",135],["T_BOOLEAN_AND","&&",135],["T_WHITESPACE"," ",135],"(",["T_STRING","substr",135],"(",["T_VARIABLE","$data",135],",",["T_WHITESPACE"," ",135],["T_LNUMBER","0",135],",",["T_WHITESPACE"," ",135],["T_STRING","strlen",135],"(",["T_STRING","self",135],["T_DOUBLE_COLON","::",135],["T_STRING","CODE_WORD",135],")",")",["T_WHITESPACE"," ",135],["T_IS_EQUAL","==",135],["T_WHITESPACE"," ",135],["T_STRING","self",135],["T_DOUBLE_COLON","::",135],["T_STRING","CODE_WORD",135],")",")",["T_WHITESPACE"," ",135],"{",["T_WHITESPACE","\n            ",135],["T_COMMENT","\/\/ Seems we've got chunked data\n",136],["T_WHITESPACE","\n            ",137],["T_VARIABLE","$arr",138],["T_WHITESPACE"," ",138],"=",["T_WHITESPACE"," ",138],["T_STRING","explode",138],"(",["T_CONSTANT_ENCAPSED_STRING","'|'",138],",",["T_WHITESPACE"," ",138],["T_VARIABLE","$data",138],")",";",["T_WHITESPACE","\n            ",138],["T_VARIABLE","$chunks",139],["T_WHITESPACE"," ",139],"=",["T_WHITESPACE"," ",139],["T_ISSET","isset",139],"(",["T_VARIABLE","$arr",139],"[",["T_LNUMBER","1",139],"]",")",["T_WHITESPACE"," ",139],"?",["T_WHITESPACE"," ",139],["T_VARIABLE","$arr",139],"[",["T_LNUMBER","1",139],"]",["T_WHITESPACE"," ",139],":",["T_WHITESPACE"," ",139],["T_STRING","false",139],";",["T_WHITESPACE","\n            ",139],["T_VARIABLE","$chunkData",140],["T_WHITESPACE"," ",140],"=",["T_WHITESPACE"," ",140],["T_ARRAY","array",140],"(",")",";",["T_WHITESPACE","\n\n            ",140],["T_IF","if",142],["T_WHITESPACE"," ",142],"(",["T_VARIABLE","$chunks",142],["T_WHITESPACE"," ",142],["T_BOOLEAN_AND","&&",142],["T_WHITESPACE"," ",142],["T_STRING","is_numeric",142],"(",["T_VARIABLE","$chunks",142],")",")",["T_WHITESPACE"," ",142],"{",["T_WHITESPACE","\n                ",142],["T_FOR","for",143],["T_WHITESPACE"," ",143],"(",["T_VARIABLE","$i",143],["T_WHITESPACE"," ",143],"=",["T_WHITESPACE"," ",143],["T_LNUMBER","0",143],";",["T_WHITESPACE"," ",143],["T_VARIABLE","$i",143],["T_WHITESPACE"," ",143],"<",["T_WHITESPACE"," ",143],["T_VARIABLE","$chunks",143],";",["T_WHITESPACE"," ",143],["T_VARIABLE","$i",143],["T_INC","++",143],")",["T_WHITESPACE"," ",143],"{",["T_WHITESPACE","\n                    ",143],["T_VARIABLE","$chunk",144],["T_WHITESPACE"," ",144],"=",["T_WHITESPACE"," ",144],["T_STRING","parent",144],["T_DOUBLE_COLON","::",144],["T_STRING","load",144],"(",["T_VARIABLE","$this",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","_getChunkId",144],"(",["T_VARIABLE","$id",144],",",["T_WHITESPACE"," ",144],["T_VARIABLE","$i",144],")",",",["T_WHITESPACE"," ",144],["T_VARIABLE","$doNotTestCacheValidity",144],")",";",["T_WHITESPACE","\n\n                    ",144],["T_IF","if",146],["T_WHITESPACE"," ",146],"(",["T_STRING","false",146],["T_WHITESPACE"," ",146],["T_IS_IDENTICAL","===",146],["T_WHITESPACE"," ",146],["T_VARIABLE","$chunk",146],")",["T_WHITESPACE"," ",146],"{",["T_WHITESPACE","\n                        ",146],["T_COMMENT","\/\/ Some chunk in chain was not found, we can not glue-up the data:\n",147],["T_WHITESPACE","                        ",148],["T_COMMENT","\/\/ clean the mess and return nothing\n",148],["T_WHITESPACE","\n                        ",149],["T_VARIABLE","$this",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","_cleanTheMess",150],"(",["T_VARIABLE","$id",150],",",["T_WHITESPACE"," ",150],["T_VARIABLE","$chunks",150],")",";",["T_WHITESPACE","\n                        ",150],["T_RETURN","return",151],["T_WHITESPACE"," ",151],["T_STRING","false",151],";",["T_WHITESPACE","\n                    ",151],"}",["T_WHITESPACE","\n\n                    ",152],["T_VARIABLE","$chunkData",154],"[","]",["T_WHITESPACE"," ",154],"=",["T_WHITESPACE"," ",154],["T_VARIABLE","$chunk",154],";",["T_WHITESPACE","\n                ",154],"}",["T_WHITESPACE","\n\n                ",155],["T_RETURN","return",157],["T_WHITESPACE"," ",157],["T_STRING","implode",157],"(",["T_CONSTANT_ENCAPSED_STRING","''",157],",",["T_WHITESPACE"," ",157],["T_VARIABLE","$chunkData",157],")",";",["T_WHITESPACE","\n            ",157],"}",["T_WHITESPACE","\n        ",158],"}",["T_WHITESPACE","\n\n        ",159],["T_COMMENT","\/\/ Data has not been splitted to chunks on save\n",161],["T_WHITESPACE","        ",162],["T_RETURN","return",162],["T_WHITESPACE"," ",162],["T_VARIABLE","$data",162],";",["T_WHITESPACE","\n    ",162],"}",["T_WHITESPACE","\n",163],"}",["T_WHITESPACE","\n",164]]