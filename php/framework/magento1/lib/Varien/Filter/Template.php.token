[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Magento\n *\n * NOTICE OF LICENSE\n *\n * This source file is subject to the Open Software License (OSL 3.0)\n * that is bundled with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/opensource.org\/licenses\/osl-3.0.php\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@magento.com so we can send you a copy immediately.\n *\n * DISCLAIMER\n *\n * Do not edit or add to this file if you wish to upgrade Magento to newer\n * versions in the future. If you wish to customize Magento for your\n * needs please refer to http:\/\/www.magento.com for more information.\n *\n * @category    Varien\n * @package     Varien_Filter\n * @copyright  Copyright (c) 2006-2016 X.commerce, Inc. and affiliates (http:\/\/www.magento.com)\n * @license    http:\/\/opensource.org\/licenses\/osl-3.0.php  Open Software License (OSL 3.0)\n *\/",2],["T_WHITESPACE","\n\n",25],["T_DOC_COMMENT","\/**\n * Template constructions filter\n *\n * @category   Varien\n * @package    Varien_Filter\n * @author      Magento Core Team <core@magentocommerce.com>\n *\/",27],["T_WHITESPACE","\n\n",33],["T_CLASS","class",35],["T_WHITESPACE"," ",35],["T_STRING","Varien_Filter_Template",35],["T_WHITESPACE"," ",35],["T_IMPLEMENTS","implements",35],["T_WHITESPACE"," ",35],["T_STRING","Zend_Filter_Interface",35],["T_WHITESPACE","\n",35],"{",["T_WHITESPACE","\n    ",36],["T_DOC_COMMENT","\/**\n     * Cunstruction regular expression\n     *\/",37],["T_WHITESPACE","\n    ",39],["T_CONST","const",40],["T_WHITESPACE"," ",40],["T_STRING","CONSTRUCTION_PATTERN",40],["T_WHITESPACE"," ",40],"=",["T_WHITESPACE"," ",40],["T_CONSTANT_ENCAPSED_STRING","'\/{{([a-z]{0,10})(.*?)}}\/si'",40],";",["T_WHITESPACE","\n\n    ",40],["T_DOC_COMMENT","\/**\n     * Cunstruction logic regular expression\n     *\/",42],["T_WHITESPACE","\n    ",44],["T_CONST","const",45],["T_WHITESPACE"," ",45],["T_STRING","CONSTRUCTION_DEPEND_PATTERN",45],["T_WHITESPACE"," ",45],"=",["T_WHITESPACE"," ",45],["T_CONSTANT_ENCAPSED_STRING","'\/{{depend\\s*(.*?)}}(.*?){{\\\\\/depend\\s*}}\/si'",45],";",["T_WHITESPACE","\n    ",45],["T_CONST","const",46],["T_WHITESPACE"," ",46],["T_STRING","CONSTRUCTION_IF_PATTERN",46],["T_WHITESPACE"," ",46],"=",["T_WHITESPACE"," ",46],["T_CONSTANT_ENCAPSED_STRING","'\/{{if\\s*(.*?)}}(.*?)({{else}}(.*?))?{{\\\\\/if\\s*}}\/si'",46],";",["T_WHITESPACE","\n\n    ",46],["T_DOC_COMMENT","\/**\n     * Assigned template variables\n     *\n     * @var array\n     *\/",48],["T_WHITESPACE","\n    ",52],["T_PROTECTED","protected",53],["T_WHITESPACE"," ",53],["T_VARIABLE","$_templateVars",53],["T_WHITESPACE"," ",53],"=",["T_WHITESPACE"," ",53],["T_ARRAY","array",53],"(",")",";",["T_WHITESPACE","\n\n    ",53],["T_DOC_COMMENT","\/**\n     * Template processor\n     *\n     * @var array|string|null\n     *\/",55],["T_WHITESPACE","\n    ",59],["T_PROTECTED","protected",60],["T_WHITESPACE"," ",60],["T_VARIABLE","$_templateProcessor",60],["T_WHITESPACE"," ",60],"=",["T_WHITESPACE"," ",60],["T_STRING","null",60],";",["T_WHITESPACE","\n\n    ",60],["T_DOC_COMMENT","\/**\n     * Include processor\n     *\n     * @var array|string|null\n     *\/",62],["T_WHITESPACE","\n    ",66],["T_PROTECTED","protected",67],["T_WHITESPACE"," ",67],["T_VARIABLE","$_includeProcessor",67],["T_WHITESPACE"," ",67],"=",["T_WHITESPACE"," ",67],["T_STRING","null",67],";",["T_WHITESPACE","\n\n    ",67],["T_DOC_COMMENT","\/**\n     * Sets template variables that's can be called througth {var ...} statement\n     *\n     * @param array $variables\n     *\/",69],["T_WHITESPACE","\n    ",73],["T_PUBLIC","public",74],["T_WHITESPACE"," ",74],["T_FUNCTION","function",74],["T_WHITESPACE"," ",74],["T_STRING","setVariables",74],"(",["T_ARRAY","array",74],["T_WHITESPACE"," ",74],["T_VARIABLE","$variables",74],")",["T_WHITESPACE","\n    ",74],"{",["T_WHITESPACE","\n        ",75],["T_FOREACH","foreach",76],"(",["T_VARIABLE","$variables",76],["T_WHITESPACE"," ",76],["T_AS","as",76],["T_WHITESPACE"," ",76],["T_VARIABLE","$name",76],["T_DOUBLE_ARROW","=>",76],["T_VARIABLE","$value",76],")",["T_WHITESPACE"," ",76],"{",["T_WHITESPACE","\n            ",76],["T_VARIABLE","$this",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","_templateVars",77],"[",["T_VARIABLE","$name",77],"]",["T_WHITESPACE"," ",77],"=",["T_WHITESPACE"," ",77],["T_VARIABLE","$value",77],";",["T_WHITESPACE","\n        ",77],"}",["T_WHITESPACE","\n        ",78],["T_RETURN","return",79],["T_WHITESPACE"," ",79],["T_VARIABLE","$this",79],";",["T_WHITESPACE","\n    ",79],"}",["T_WHITESPACE","\n\n    ",80],["T_DOC_COMMENT","\/**\n     * Sets the proccessor of templates. Templates are directives that include email templates based on system\n     * configuration path.\n     *\n     * @param array $callback it must return string\n     *\/",82],["T_WHITESPACE","\n    ",87],["T_PUBLIC","public",88],["T_WHITESPACE"," ",88],["T_FUNCTION","function",88],["T_WHITESPACE"," ",88],["T_STRING","setTemplateProcessor",88],"(",["T_ARRAY","array",88],["T_WHITESPACE"," ",88],["T_VARIABLE","$callback",88],")",["T_WHITESPACE","\n    ",88],"{",["T_WHITESPACE","\n        ",89],["T_VARIABLE","$this",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","_templateProcessor",90],["T_WHITESPACE"," ",90],"=",["T_WHITESPACE"," ",90],["T_VARIABLE","$callback",90],";",["T_WHITESPACE","\n        ",90],["T_RETURN","return",91],["T_WHITESPACE"," ",91],["T_VARIABLE","$this",91],";",["T_WHITESPACE","\n    ",91],"}",["T_WHITESPACE","\n\n    ",92],["T_DOC_COMMENT","\/**\n     * Sets the proccessor of templates.\n     *\n     * @return array|null\n     *\/",94],["T_WHITESPACE","\n    ",98],["T_PUBLIC","public",99],["T_WHITESPACE"," ",99],["T_FUNCTION","function",99],["T_WHITESPACE"," ",99],["T_STRING","getTemplateProcessor",99],"(",")",["T_WHITESPACE","\n    ",99],"{",["T_WHITESPACE","\n        ",100],["T_RETURN","return",101],["T_WHITESPACE"," ",101],["T_STRING","is_callable",101],"(",["T_VARIABLE","$this",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","_templateProcessor",101],")",["T_WHITESPACE"," ",101],"?",["T_WHITESPACE"," ",101],["T_VARIABLE","$this",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","_templateProcessor",101],["T_WHITESPACE"," ",101],":",["T_WHITESPACE"," ",101],["T_STRING","null",101],";",["T_WHITESPACE","\n    ",101],"}",["T_WHITESPACE","\n\n    ",102],["T_DOC_COMMENT","\/**\n     * Sets the proccessor of includes.\n     *\n     * @param array $callback it must return string\n     *\/",104],["T_WHITESPACE","\n    ",108],["T_PUBLIC","public",109],["T_WHITESPACE"," ",109],["T_FUNCTION","function",109],["T_WHITESPACE"," ",109],["T_STRING","setIncludeProcessor",109],"(",["T_ARRAY","array",109],["T_WHITESPACE"," ",109],["T_VARIABLE","$callback",109],")",["T_WHITESPACE","\n    ",109],"{",["T_WHITESPACE","\n        ",110],["T_VARIABLE","$this",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","_includeProcessor",111],["T_WHITESPACE"," ",111],"=",["T_WHITESPACE"," ",111],["T_VARIABLE","$callback",111],";",["T_WHITESPACE","\n        ",111],["T_RETURN","return",112],["T_WHITESPACE"," ",112],["T_VARIABLE","$this",112],";",["T_WHITESPACE","\n    ",112],"}",["T_WHITESPACE","\n\n    ",113],["T_DOC_COMMENT","\/**\n     * Sets the proccessor of includes.\n     *\n     * @return array|null\n     *\/",115],["T_WHITESPACE","\n    ",119],["T_PUBLIC","public",120],["T_WHITESPACE"," ",120],["T_FUNCTION","function",120],["T_WHITESPACE"," ",120],["T_STRING","getIncludeProcessor",120],"(",")",["T_WHITESPACE","\n    ",120],"{",["T_WHITESPACE","\n        ",121],["T_RETURN","return",122],["T_WHITESPACE"," ",122],["T_STRING","is_callable",122],"(",["T_VARIABLE","$this",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","_includeProcessor",122],")",["T_WHITESPACE"," ",122],"?",["T_WHITESPACE"," ",122],["T_VARIABLE","$this",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","_includeProcessor",122],["T_WHITESPACE"," ",122],":",["T_WHITESPACE"," ",122],["T_STRING","null",122],";",["T_WHITESPACE","\n    ",122],"}",["T_WHITESPACE","\n\n    ",123],["T_DOC_COMMENT","\/**\n     * Filter the string as template.\n     *\n     * @param string $value\n     * @return string\n     *\/",125],["T_WHITESPACE","\n    ",130],["T_PUBLIC","public",131],["T_WHITESPACE"," ",131],["T_FUNCTION","function",131],["T_WHITESPACE"," ",131],["T_STRING","filter",131],"(",["T_VARIABLE","$value",131],")",["T_WHITESPACE","\n    ",131],"{",["T_WHITESPACE","\n        ",132],["T_COMMENT","\/\/ \"depend\" and \"if\" operands should be first\n",133],["T_WHITESPACE","        ",134],["T_FOREACH","foreach",134],["T_WHITESPACE"," ",134],"(",["T_ARRAY","array",134],"(",["T_WHITESPACE","\n            ",134],["T_STRING","self",135],["T_DOUBLE_COLON","::",135],["T_STRING","CONSTRUCTION_DEPEND_PATTERN",135],["T_WHITESPACE"," ",135],["T_DOUBLE_ARROW","=>",135],["T_WHITESPACE"," ",135],["T_CONSTANT_ENCAPSED_STRING","'dependDirective'",135],",",["T_WHITESPACE","\n            ",135],["T_STRING","self",136],["T_DOUBLE_COLON","::",136],["T_STRING","CONSTRUCTION_IF_PATTERN",136],["T_WHITESPACE","     ",136],["T_DOUBLE_ARROW","=>",136],["T_WHITESPACE"," ",136],["T_CONSTANT_ENCAPSED_STRING","'ifDirective'",136],",",["T_WHITESPACE","\n            ",136],")",["T_WHITESPACE"," ",137],["T_AS","as",137],["T_WHITESPACE"," ",137],["T_VARIABLE","$pattern",137],["T_WHITESPACE"," ",137],["T_DOUBLE_ARROW","=>",137],["T_WHITESPACE"," ",137],["T_VARIABLE","$directive",137],")",["T_WHITESPACE"," ",137],"{",["T_WHITESPACE","\n            ",137],["T_IF","if",138],["T_WHITESPACE"," ",138],"(",["T_STRING","preg_match_all",138],"(",["T_VARIABLE","$pattern",138],",",["T_WHITESPACE"," ",138],["T_VARIABLE","$value",138],",",["T_WHITESPACE"," ",138],["T_VARIABLE","$constructions",138],",",["T_WHITESPACE"," ",138],["T_STRING","PREG_SET_ORDER",138],")",")",["T_WHITESPACE"," ",138],"{",["T_WHITESPACE","\n                ",138],["T_FOREACH","foreach",139],"(",["T_VARIABLE","$constructions",139],["T_WHITESPACE"," ",139],["T_AS","as",139],["T_WHITESPACE"," ",139],["T_VARIABLE","$index",139],["T_WHITESPACE"," ",139],["T_DOUBLE_ARROW","=>",139],["T_WHITESPACE"," ",139],["T_VARIABLE","$construction",139],")",["T_WHITESPACE"," ",139],"{",["T_WHITESPACE","\n                    ",139],["T_VARIABLE","$replacedValue",140],["T_WHITESPACE"," ",140],"=",["T_WHITESPACE"," ",140],["T_CONSTANT_ENCAPSED_STRING","''",140],";",["T_WHITESPACE","\n                    ",140],["T_VARIABLE","$callback",141],["T_WHITESPACE"," ",141],"=",["T_WHITESPACE"," ",141],["T_ARRAY","array",141],"(",["T_VARIABLE","$this",141],",",["T_WHITESPACE"," ",141],["T_VARIABLE","$directive",141],")",";",["T_WHITESPACE","\n                    ",141],["T_IF","if",142],"(","!",["T_STRING","is_callable",142],"(",["T_VARIABLE","$callback",142],")",")",["T_WHITESPACE"," ",142],"{",["T_WHITESPACE","\n                        ",142],["T_CONTINUE","continue",143],";",["T_WHITESPACE","\n                    ",143],"}",["T_WHITESPACE","\n                    ",144],["T_TRY","try",145],["T_WHITESPACE"," ",145],"{",["T_WHITESPACE","\n                        ",145],["T_VARIABLE","$replacedValue",146],["T_WHITESPACE"," ",146],"=",["T_WHITESPACE"," ",146],["T_STRING","call_user_func",146],"(",["T_VARIABLE","$callback",146],",",["T_WHITESPACE"," ",146],["T_VARIABLE","$construction",146],")",";",["T_WHITESPACE","\n                    ",146],"}",["T_WHITESPACE"," ",147],["T_CATCH","catch",147],["T_WHITESPACE"," ",147],"(",["T_STRING","Exception",147],["T_WHITESPACE"," ",147],["T_VARIABLE","$e",147],")",["T_WHITESPACE"," ",147],"{",["T_WHITESPACE","\n                        ",147],["T_THROW","throw",148],["T_WHITESPACE"," ",148],["T_VARIABLE","$e",148],";",["T_WHITESPACE","\n                    ",148],"}",["T_WHITESPACE","\n                    ",149],["T_VARIABLE","$value",150],["T_WHITESPACE"," ",150],"=",["T_WHITESPACE"," ",150],["T_STRING","str_replace",150],"(",["T_VARIABLE","$construction",150],"[",["T_LNUMBER","0",150],"]",",",["T_WHITESPACE"," ",150],["T_VARIABLE","$replacedValue",150],",",["T_WHITESPACE"," ",150],["T_VARIABLE","$value",150],")",";",["T_WHITESPACE","\n                ",150],"}",["T_WHITESPACE","\n            ",151],"}",["T_WHITESPACE","\n        ",152],"}",["T_WHITESPACE","\n\n        ",153],["T_IF","if",155],"(",["T_STRING","preg_match_all",155],"(",["T_STRING","self",155],["T_DOUBLE_COLON","::",155],["T_STRING","CONSTRUCTION_PATTERN",155],",",["T_WHITESPACE"," ",155],["T_VARIABLE","$value",155],",",["T_WHITESPACE"," ",155],["T_VARIABLE","$constructions",155],",",["T_WHITESPACE"," ",155],["T_STRING","PREG_SET_ORDER",155],")",")",["T_WHITESPACE"," ",155],"{",["T_WHITESPACE","\n            ",155],["T_FOREACH","foreach",156],"(",["T_VARIABLE","$constructions",156],["T_WHITESPACE"," ",156],["T_AS","as",156],["T_WHITESPACE"," ",156],["T_VARIABLE","$index",156],["T_DOUBLE_ARROW","=>",156],["T_VARIABLE","$construction",156],")",["T_WHITESPACE"," ",156],"{",["T_WHITESPACE","\n                ",156],["T_VARIABLE","$replacedValue",157],["T_WHITESPACE"," ",157],"=",["T_WHITESPACE"," ",157],["T_CONSTANT_ENCAPSED_STRING","''",157],";",["T_WHITESPACE","\n                ",157],["T_VARIABLE","$callback",158],["T_WHITESPACE"," ",158],"=",["T_WHITESPACE"," ",158],["T_ARRAY","array",158],"(",["T_VARIABLE","$this",158],",",["T_WHITESPACE"," ",158],["T_VARIABLE","$construction",158],"[",["T_LNUMBER","1",158],"]",".",["T_CONSTANT_ENCAPSED_STRING","'Directive'",158],")",";",["T_WHITESPACE","\n                ",158],["T_IF","if",159],"(","!",["T_STRING","is_callable",159],"(",["T_VARIABLE","$callback",159],")",")",["T_WHITESPACE"," ",159],"{",["T_WHITESPACE","\n                    ",159],["T_CONTINUE","continue",160],";",["T_WHITESPACE","\n                ",160],"}",["T_WHITESPACE","\n                ",161],["T_TRY","try",162],["T_WHITESPACE"," ",162],"{",["T_WHITESPACE","\n                    ",162],["T_VARIABLE","$replacedValue",163],["T_WHITESPACE"," ",163],"=",["T_WHITESPACE"," ",163],["T_STRING","call_user_func",163],"(",["T_VARIABLE","$callback",163],",",["T_WHITESPACE"," ",163],["T_VARIABLE","$construction",163],")",";",["T_WHITESPACE","\n                ",163],"}",["T_WHITESPACE"," ",164],["T_CATCH","catch",164],["T_WHITESPACE"," ",164],"(",["T_STRING","Exception",164],["T_WHITESPACE"," ",164],["T_VARIABLE","$e",164],")",["T_WHITESPACE"," ",164],"{",["T_WHITESPACE","\n                    ",164],["T_THROW","throw",165],["T_WHITESPACE"," ",165],["T_VARIABLE","$e",165],";",["T_WHITESPACE","\n                ",165],"}",["T_WHITESPACE","\n                ",166],["T_VARIABLE","$value",167],["T_WHITESPACE"," ",167],"=",["T_WHITESPACE"," ",167],["T_STRING","str_replace",167],"(",["T_VARIABLE","$construction",167],"[",["T_LNUMBER","0",167],"]",",",["T_WHITESPACE"," ",167],["T_VARIABLE","$replacedValue",167],",",["T_WHITESPACE"," ",167],["T_VARIABLE","$value",167],")",";",["T_WHITESPACE","\n            ",167],"}",["T_WHITESPACE","\n        ",168],"}",["T_WHITESPACE","\n        ",169],["T_RETURN","return",170],["T_WHITESPACE"," ",170],["T_VARIABLE","$value",170],";",["T_WHITESPACE","\n    ",170],"}",["T_WHITESPACE","\n\n\n    ",171],["T_PUBLIC","public",174],["T_WHITESPACE"," ",174],["T_FUNCTION","function",174],["T_WHITESPACE"," ",174],["T_STRING","varDirective",174],"(",["T_VARIABLE","$construction",174],")",["T_WHITESPACE","\n    ",174],"{",["T_WHITESPACE","\n        ",175],["T_IF","if",176],["T_WHITESPACE"," ",176],"(",["T_STRING","count",176],"(",["T_VARIABLE","$this",176],["T_OBJECT_OPERATOR","->",176],["T_STRING","_templateVars",176],")",["T_IS_EQUAL","==",176],["T_LNUMBER","0",176],")",["T_WHITESPACE"," ",176],"{",["T_WHITESPACE","\n            ",176],["T_COMMENT","\/\/ If template preprocessing\n",177],["T_WHITESPACE","            ",178],["T_RETURN","return",178],["T_WHITESPACE"," ",178],["T_VARIABLE","$construction",178],"[",["T_LNUMBER","0",178],"]",";",["T_WHITESPACE","\n        ",178],"}",["T_WHITESPACE","\n\n        ",179],["T_VARIABLE","$replacedValue",181],["T_WHITESPACE"," ",181],"=",["T_WHITESPACE"," ",181],["T_VARIABLE","$this",181],["T_OBJECT_OPERATOR","->",181],["T_STRING","_getVariable",181],"(",["T_VARIABLE","$construction",181],"[",["T_LNUMBER","2",181],"]",",",["T_WHITESPACE"," ",181],["T_CONSTANT_ENCAPSED_STRING","''",181],")",";",["T_WHITESPACE","\n        ",181],["T_RETURN","return",182],["T_WHITESPACE"," ",182],["T_VARIABLE","$replacedValue",182],";",["T_WHITESPACE","\n    ",182],"}",["T_WHITESPACE","\n\n    ",183],["T_PUBLIC","public",185],["T_WHITESPACE"," ",185],["T_FUNCTION","function",185],["T_WHITESPACE"," ",185],["T_STRING","includeDirective",185],"(",["T_VARIABLE","$construction",185],")",["T_WHITESPACE","\n    ",185],"{",["T_WHITESPACE","\n        ",186],["T_COMMENT","\/\/ Processing of {include template=... [...]} statement\n",187],["T_WHITESPACE","        ",188],["T_VARIABLE","$includeParameters",188],["T_WHITESPACE"," ",188],"=",["T_WHITESPACE"," ",188],["T_VARIABLE","$this",188],["T_OBJECT_OPERATOR","->",188],["T_STRING","_getIncludeParameters",188],"(",["T_VARIABLE","$construction",188],"[",["T_LNUMBER","2",188],"]",")",";",["T_WHITESPACE","\n        ",188],["T_IF","if",189],"(","!",["T_ISSET","isset",189],"(",["T_VARIABLE","$includeParameters",189],"[",["T_CONSTANT_ENCAPSED_STRING","'template'",189],"]",")",["T_WHITESPACE"," ",189],["T_LOGICAL_OR","or",189],["T_WHITESPACE"," ",189],"!",["T_VARIABLE","$this",189],["T_OBJECT_OPERATOR","->",189],["T_STRING","getIncludeProcessor",189],"(",")",")",["T_WHITESPACE"," ",189],"{",["T_WHITESPACE","\n            ",189],["T_COMMENT","\/\/ Not specified template or not seted include processor\n",190],["T_WHITESPACE","            ",191],["T_VARIABLE","$replacedValue",191],["T_WHITESPACE"," ",191],"=",["T_WHITESPACE"," ",191],["T_CONSTANT_ENCAPSED_STRING","'{Error in include processing}'",191],";",["T_WHITESPACE","\n        ",191],"}",["T_WHITESPACE"," ",192],["T_ELSE","else",192],["T_WHITESPACE"," ",192],"{",["T_WHITESPACE","\n            ",192],["T_COMMENT","\/\/ Including of template\n",193],["T_WHITESPACE","            ",194],["T_VARIABLE","$templateCode",194],["T_WHITESPACE"," ",194],"=",["T_WHITESPACE"," ",194],["T_VARIABLE","$includeParameters",194],"[",["T_CONSTANT_ENCAPSED_STRING","'template'",194],"]",";",["T_WHITESPACE","\n            ",194],["T_UNSET","unset",195],"(",["T_VARIABLE","$includeParameters",195],"[",["T_CONSTANT_ENCAPSED_STRING","'template'",195],"]",")",";",["T_WHITESPACE","\n            ",195],["T_VARIABLE","$includeParameters",196],["T_WHITESPACE"," ",196],"=",["T_WHITESPACE"," ",196],["T_STRING","array_merge_recursive",196],"(",["T_VARIABLE","$includeParameters",196],",",["T_WHITESPACE"," ",196],["T_VARIABLE","$this",196],["T_OBJECT_OPERATOR","->",196],["T_STRING","_templateVars",196],")",";",["T_WHITESPACE","\n            ",196],["T_VARIABLE","$replacedValue",197],["T_WHITESPACE"," ",197],"=",["T_WHITESPACE"," ",197],["T_STRING","call_user_func",197],"(",["T_VARIABLE","$this",197],["T_OBJECT_OPERATOR","->",197],["T_STRING","getIncludeProcessor",197],"(",")",",",["T_WHITESPACE"," ",197],["T_VARIABLE","$templateCode",197],",",["T_WHITESPACE"," ",197],["T_VARIABLE","$includeParameters",197],")",";",["T_WHITESPACE","\n        ",197],"}",["T_WHITESPACE","\n        ",198],["T_RETURN","return",199],["T_WHITESPACE"," ",199],["T_VARIABLE","$replacedValue",199],";",["T_WHITESPACE","\n    ",199],"}",["T_WHITESPACE","\n\n    ",200],["T_DOC_COMMENT","\/**\n     * This directive allows email templates to be included inside other email templates using the following syntax:\n     * {{template config_path=\"<PATH>\"}}, where <PATH> equals the XPATH to the system configuration value that contains\n     * the value of the email template. For example \"sales_email\/order\/template\", which is stored in the\n     * Mage_Sales_Model_Order::sales_email\/order\/template. This directive is useful to include things like a global\n     * header\/footer.\n     *\n     * @param $construction\n     * @return mixed|string\n     *\/",202],["T_WHITESPACE","\n    ",211],["T_PUBLIC","public",212],["T_WHITESPACE"," ",212],["T_FUNCTION","function",212],["T_WHITESPACE"," ",212],["T_STRING","templateDirective",212],"(",["T_VARIABLE","$construction",212],")",["T_WHITESPACE","\n    ",212],"{",["T_WHITESPACE","\n        ",213],["T_COMMENT","\/\/ Processing of {template config_path=... [...]} statement\n",214],["T_WHITESPACE","        ",215],["T_VARIABLE","$templateParameters",215],["T_WHITESPACE"," ",215],"=",["T_WHITESPACE"," ",215],["T_VARIABLE","$this",215],["T_OBJECT_OPERATOR","->",215],["T_STRING","_getIncludeParameters",215],"(",["T_VARIABLE","$construction",215],"[",["T_LNUMBER","2",215],"]",")",";",["T_WHITESPACE","\n        ",215],["T_IF","if",216],["T_WHITESPACE"," ",216],"(","!",["T_ISSET","isset",216],"(",["T_VARIABLE","$templateParameters",216],"[",["T_CONSTANT_ENCAPSED_STRING","'config_path'",216],"]",")",["T_WHITESPACE"," ",216],["T_LOGICAL_OR","or",216],["T_WHITESPACE"," ",216],"!",["T_VARIABLE","$this",216],["T_OBJECT_OPERATOR","->",216],["T_STRING","getTemplateProcessor",216],"(",")",")",["T_WHITESPACE"," ",216],"{",["T_WHITESPACE","\n            ",216],["T_VARIABLE","$replacedValue",217],["T_WHITESPACE"," ",217],"=",["T_WHITESPACE"," ",217],["T_CONSTANT_ENCAPSED_STRING","'{Error in template processing}'",217],";",["T_WHITESPACE","\n        ",217],"}",["T_WHITESPACE"," ",218],["T_ELSE","else",218],["T_WHITESPACE"," ",218],"{",["T_WHITESPACE","\n            ",218],["T_COMMENT","\/\/ Including of template\n",219],["T_WHITESPACE","            ",220],["T_VARIABLE","$configPath",220],["T_WHITESPACE"," ",220],"=",["T_WHITESPACE"," ",220],["T_VARIABLE","$templateParameters",220],"[",["T_CONSTANT_ENCAPSED_STRING","'config_path'",220],"]",";",["T_WHITESPACE","\n            ",220],["T_UNSET","unset",221],"(",["T_VARIABLE","$templateParameters",221],"[",["T_CONSTANT_ENCAPSED_STRING","'config_path'",221],"]",")",";",["T_WHITESPACE","\n            ",221],["T_VARIABLE","$templateParameters",222],["T_WHITESPACE"," ",222],"=",["T_WHITESPACE"," ",222],["T_STRING","array_merge_recursive",222],"(",["T_VARIABLE","$templateParameters",222],",",["T_WHITESPACE"," ",222],["T_VARIABLE","$this",222],["T_OBJECT_OPERATOR","->",222],["T_STRING","_templateVars",222],")",";",["T_WHITESPACE","\n            ",222],["T_VARIABLE","$replacedValue",223],["T_WHITESPACE"," ",223],"=",["T_WHITESPACE"," ",223],["T_STRING","call_user_func",223],"(",["T_VARIABLE","$this",223],["T_OBJECT_OPERATOR","->",223],["T_STRING","getTemplateProcessor",223],"(",")",",",["T_WHITESPACE"," ",223],["T_VARIABLE","$configPath",223],",",["T_WHITESPACE"," ",223],["T_VARIABLE","$templateParameters",223],")",";",["T_WHITESPACE","\n        ",223],"}",["T_WHITESPACE","\n        ",224],["T_RETURN","return",225],["T_WHITESPACE"," ",225],["T_VARIABLE","$replacedValue",225],";",["T_WHITESPACE","\n    ",225],"}",["T_WHITESPACE","\n\n    ",226],["T_PUBLIC","public",228],["T_WHITESPACE"," ",228],["T_FUNCTION","function",228],["T_WHITESPACE"," ",228],["T_STRING","dependDirective",228],"(",["T_VARIABLE","$construction",228],")",["T_WHITESPACE","\n    ",228],"{",["T_WHITESPACE","\n        ",229],["T_IF","if",230],["T_WHITESPACE"," ",230],"(",["T_STRING","count",230],"(",["T_VARIABLE","$this",230],["T_OBJECT_OPERATOR","->",230],["T_STRING","_templateVars",230],")",["T_IS_EQUAL","==",230],["T_LNUMBER","0",230],")",["T_WHITESPACE"," ",230],"{",["T_WHITESPACE","\n            ",230],["T_COMMENT","\/\/ If template preprocessing\n",231],["T_WHITESPACE","            ",232],["T_RETURN","return",232],["T_WHITESPACE"," ",232],["T_VARIABLE","$construction",232],"[",["T_LNUMBER","0",232],"]",";",["T_WHITESPACE","\n        ",232],"}",["T_WHITESPACE","\n\n        ",233],["T_IF","if",235],"(",["T_VARIABLE","$this",235],["T_OBJECT_OPERATOR","->",235],["T_STRING","_getVariable",235],"(",["T_VARIABLE","$construction",235],"[",["T_LNUMBER","1",235],"]",",",["T_WHITESPACE"," ",235],["T_CONSTANT_ENCAPSED_STRING","''",235],")",["T_IS_EQUAL","==",235],["T_CONSTANT_ENCAPSED_STRING","''",235],")",["T_WHITESPACE"," ",235],"{",["T_WHITESPACE","\n            ",235],["T_RETURN","return",236],["T_WHITESPACE"," ",236],["T_CONSTANT_ENCAPSED_STRING","''",236],";",["T_WHITESPACE","\n        ",236],"}",["T_WHITESPACE"," ",237],["T_ELSE","else",237],["T_WHITESPACE"," ",237],"{",["T_WHITESPACE","\n            ",237],["T_RETURN","return",238],["T_WHITESPACE"," ",238],["T_VARIABLE","$construction",238],"[",["T_LNUMBER","2",238],"]",";",["T_WHITESPACE","\n        ",238],"}",["T_WHITESPACE","\n    ",239],"}",["T_WHITESPACE","\n\n    ",240],["T_PUBLIC","public",242],["T_WHITESPACE"," ",242],["T_FUNCTION","function",242],["T_WHITESPACE"," ",242],["T_STRING","ifDirective",242],"(",["T_VARIABLE","$construction",242],")",["T_WHITESPACE","\n    ",242],"{",["T_WHITESPACE","\n        ",243],["T_IF","if",244],["T_WHITESPACE"," ",244],"(",["T_STRING","count",244],"(",["T_VARIABLE","$this",244],["T_OBJECT_OPERATOR","->",244],["T_STRING","_templateVars",244],")",["T_WHITESPACE"," ",244],["T_IS_EQUAL","==",244],["T_WHITESPACE"," ",244],["T_LNUMBER","0",244],")",["T_WHITESPACE"," ",244],"{",["T_WHITESPACE","\n            ",244],["T_RETURN","return",245],["T_WHITESPACE"," ",245],["T_VARIABLE","$construction",245],"[",["T_LNUMBER","0",245],"]",";",["T_WHITESPACE","\n        ",245],"}",["T_WHITESPACE","\n\n        ",246],["T_IF","if",248],"(",["T_VARIABLE","$this",248],["T_OBJECT_OPERATOR","->",248],["T_STRING","_getVariable",248],"(",["T_VARIABLE","$construction",248],"[",["T_LNUMBER","1",248],"]",",",["T_WHITESPACE"," ",248],["T_CONSTANT_ENCAPSED_STRING","''",248],")",["T_WHITESPACE"," ",248],["T_IS_EQUAL","==",248],["T_WHITESPACE"," ",248],["T_CONSTANT_ENCAPSED_STRING","''",248],")",["T_WHITESPACE"," ",248],"{",["T_WHITESPACE","\n            ",248],["T_IF","if",249],["T_WHITESPACE"," ",249],"(",["T_ISSET","isset",249],"(",["T_VARIABLE","$construction",249],"[",["T_LNUMBER","3",249],"]",")",["T_WHITESPACE"," ",249],["T_BOOLEAN_AND","&&",249],["T_WHITESPACE"," ",249],["T_ISSET","isset",249],"(",["T_VARIABLE","$construction",249],"[",["T_LNUMBER","4",249],"]",")",")",["T_WHITESPACE"," ",249],"{",["T_WHITESPACE","\n                ",249],["T_RETURN","return",250],["T_WHITESPACE"," ",250],["T_VARIABLE","$construction",250],"[",["T_LNUMBER","4",250],"]",";",["T_WHITESPACE","\n            ",250],"}",["T_WHITESPACE","\n            ",251],["T_RETURN","return",252],["T_WHITESPACE"," ",252],["T_CONSTANT_ENCAPSED_STRING","''",252],";",["T_WHITESPACE","\n        ",252],"}",["T_WHITESPACE"," ",253],["T_ELSE","else",253],["T_WHITESPACE"," ",253],"{",["T_WHITESPACE","\n            ",253],["T_RETURN","return",254],["T_WHITESPACE"," ",254],["T_VARIABLE","$construction",254],"[",["T_LNUMBER","2",254],"]",";",["T_WHITESPACE","\n        ",254],"}",["T_WHITESPACE","\n    ",255],"}",["T_WHITESPACE","\n\n    ",256],["T_DOC_COMMENT","\/**\n     * Return associative array of include construction.\n     *\n     * @param string $value raw parameters\n     * @return array\n     *\/",258],["T_WHITESPACE","\n    ",263],["T_PROTECTED","protected",264],["T_WHITESPACE"," ",264],["T_FUNCTION","function",264],["T_WHITESPACE"," ",264],["T_STRING","_getIncludeParameters",264],"(",["T_VARIABLE","$value",264],")",["T_WHITESPACE","\n    ",264],"{",["T_WHITESPACE","\n        ",265],["T_VARIABLE","$tokenizer",266],["T_WHITESPACE"," ",266],"=",["T_WHITESPACE"," ",266],["T_NEW","new",266],["T_WHITESPACE"," ",266],["T_STRING","Varien_Filter_Template_Tokenizer_Parameter",266],"(",")",";",["T_WHITESPACE","\n        ",266],["T_VARIABLE","$tokenizer",267],["T_OBJECT_OPERATOR","->",267],["T_STRING","setString",267],"(",["T_VARIABLE","$value",267],")",";",["T_WHITESPACE","\n        ",267],["T_VARIABLE","$params",268],["T_WHITESPACE"," ",268],"=",["T_WHITESPACE"," ",268],["T_VARIABLE","$tokenizer",268],["T_OBJECT_OPERATOR","->",268],["T_STRING","tokenize",268],"(",")",";",["T_WHITESPACE","\n        ",268],["T_FOREACH","foreach",269],["T_WHITESPACE"," ",269],"(",["T_VARIABLE","$params",269],["T_WHITESPACE"," ",269],["T_AS","as",269],["T_WHITESPACE"," ",269],["T_VARIABLE","$key",269],["T_WHITESPACE"," ",269],["T_DOUBLE_ARROW","=>",269],["T_WHITESPACE"," ",269],["T_VARIABLE","$value",269],")",["T_WHITESPACE"," ",269],"{",["T_WHITESPACE","\n            ",269],["T_IF","if",270],["T_WHITESPACE"," ",270],"(",["T_STRING","substr",270],"(",["T_VARIABLE","$value",270],",",["T_WHITESPACE"," ",270],["T_LNUMBER","0",270],",",["T_WHITESPACE"," ",270],["T_LNUMBER","1",270],")",["T_WHITESPACE"," ",270],["T_IS_IDENTICAL","===",270],["T_WHITESPACE"," ",270],["T_CONSTANT_ENCAPSED_STRING","'$'",270],")",["T_WHITESPACE"," ",270],"{",["T_WHITESPACE","\n                ",270],["T_VARIABLE","$params",271],"[",["T_VARIABLE","$key",271],"]",["T_WHITESPACE"," ",271],"=",["T_WHITESPACE"," ",271],["T_VARIABLE","$this",271],["T_OBJECT_OPERATOR","->",271],["T_STRING","_getVariable",271],"(",["T_STRING","substr",271],"(",["T_VARIABLE","$value",271],",",["T_WHITESPACE"," ",271],["T_LNUMBER","1",271],")",",",["T_WHITESPACE"," ",271],["T_STRING","null",271],")",";",["T_WHITESPACE","\n            ",271],"}",["T_WHITESPACE","\n        ",272],"}",["T_WHITESPACE","\n        ",273],["T_RETURN","return",274],["T_WHITESPACE"," ",274],["T_VARIABLE","$params",274],";",["T_WHITESPACE","\n    ",274],"}",["T_WHITESPACE","\n\n     ",275],["T_DOC_COMMENT","\/**\n     * Return variable value for var construction\n     *\n     * @param string $value raw parameters\n     * @param string $default default value\n     * @return string\n     *\/",277],["T_WHITESPACE","\n    ",283],["T_PROTECTED","protected",284],["T_WHITESPACE"," ",284],["T_FUNCTION","function",284],["T_WHITESPACE"," ",284],["T_STRING","_getVariable",284],"(",["T_VARIABLE","$value",284],",",["T_WHITESPACE"," ",284],["T_VARIABLE","$default",284],"=",["T_CONSTANT_ENCAPSED_STRING","'{no_value_defined}'",284],")",["T_WHITESPACE","\n    ",284],"{",["T_WHITESPACE","\n        ",285],["T_STRING","Varien_Profiler",286],["T_DOUBLE_COLON","::",286],["T_STRING","start",286],"(",["T_CONSTANT_ENCAPSED_STRING","\"email_template_proccessing_variables\"",286],")",";",["T_WHITESPACE","\n        ",286],["T_VARIABLE","$tokenizer",287],["T_WHITESPACE"," ",287],"=",["T_WHITESPACE"," ",287],["T_NEW","new",287],["T_WHITESPACE"," ",287],["T_STRING","Varien_Filter_Template_Tokenizer_Variable",287],"(",")",";",["T_WHITESPACE","\n        ",287],["T_VARIABLE","$tokenizer",288],["T_OBJECT_OPERATOR","->",288],["T_STRING","setString",288],"(",["T_VARIABLE","$value",288],")",";",["T_WHITESPACE","\n        ",288],["T_VARIABLE","$stackVars",289],["T_WHITESPACE"," ",289],"=",["T_WHITESPACE"," ",289],["T_VARIABLE","$tokenizer",289],["T_OBJECT_OPERATOR","->",289],["T_STRING","tokenize",289],"(",")",";",["T_WHITESPACE","\n        ",289],["T_VARIABLE","$result",290],["T_WHITESPACE"," ",290],"=",["T_WHITESPACE"," ",290],["T_VARIABLE","$default",290],";",["T_WHITESPACE","\n        ",290],["T_VARIABLE","$last",291],["T_WHITESPACE"," ",291],"=",["T_WHITESPACE"," ",291],["T_LNUMBER","0",291],";",["T_WHITESPACE","\n        ",291],["T_FOR","for",292],"(",["T_VARIABLE","$i",292],["T_WHITESPACE"," ",292],"=",["T_WHITESPACE"," ",292],["T_LNUMBER","0",292],";",["T_WHITESPACE"," ",292],["T_VARIABLE","$i",292],["T_WHITESPACE"," ",292],"<",["T_WHITESPACE"," ",292],["T_STRING","count",292],"(",["T_VARIABLE","$stackVars",292],")",";",["T_WHITESPACE"," ",292],["T_VARIABLE","$i",292],["T_WHITESPACE"," ",292],["T_INC","++",292],")",["T_WHITESPACE"," ",292],"{",["T_WHITESPACE","\n            ",292],["T_IF","if",293],["T_WHITESPACE"," ",293],"(",["T_VARIABLE","$i",293],["T_WHITESPACE"," ",293],["T_IS_EQUAL","==",293],["T_WHITESPACE"," ",293],["T_LNUMBER","0",293],["T_WHITESPACE"," ",293],["T_BOOLEAN_AND","&&",293],["T_WHITESPACE"," ",293],["T_ISSET","isset",293],"(",["T_VARIABLE","$this",293],["T_OBJECT_OPERATOR","->",293],["T_STRING","_templateVars",293],"[",["T_VARIABLE","$stackVars",293],"[",["T_VARIABLE","$i",293],"]","[",["T_CONSTANT_ENCAPSED_STRING","'name'",293],"]","]",")",")",["T_WHITESPACE"," ",293],"{",["T_WHITESPACE","\n                ",293],["T_COMMENT","\/\/ Getting of template value\n",294],["T_WHITESPACE","                ",295],["T_VARIABLE","$stackVars",295],"[",["T_VARIABLE","$i",295],"]","[",["T_CONSTANT_ENCAPSED_STRING","'variable'",295],"]",["T_WHITESPACE"," ",295],"=","&",["T_WHITESPACE"," ",295],["T_VARIABLE","$this",295],["T_OBJECT_OPERATOR","->",295],["T_STRING","_templateVars",295],"[",["T_VARIABLE","$stackVars",295],"[",["T_VARIABLE","$i",295],"]","[",["T_CONSTANT_ENCAPSED_STRING","'name'",295],"]","]",";",["T_WHITESPACE","\n            ",295],"}",["T_WHITESPACE"," ",296],["T_ELSEIF","elseif",296],["T_WHITESPACE"," ",296],"(",["T_ISSET","isset",296],"(",["T_VARIABLE","$stackVars",296],"[",["T_VARIABLE","$i",296],"-",["T_LNUMBER","1",296],"]","[",["T_CONSTANT_ENCAPSED_STRING","'variable'",296],"]",")",["T_WHITESPACE"," ",296],["T_BOOLEAN_AND","&&",296],["T_WHITESPACE"," ",296],["T_VARIABLE","$stackVars",296],"[",["T_VARIABLE","$i",296],"-",["T_LNUMBER","1",296],"]","[",["T_CONSTANT_ENCAPSED_STRING","'variable'",296],"]",["T_WHITESPACE"," ",296],["T_INSTANCEOF","instanceof",296],["T_WHITESPACE"," ",296],["T_STRING","Varien_Object",296],")",["T_WHITESPACE"," ",296],"{",["T_WHITESPACE","\n                ",296],["T_COMMENT","\/\/ If object calling methods or getting properties\n",297],["T_WHITESPACE","                ",298],["T_IF","if",298],["T_WHITESPACE"," ",298],"(",["T_VARIABLE","$stackVars",298],"[",["T_VARIABLE","$i",298],"]","[",["T_CONSTANT_ENCAPSED_STRING","'type'",298],"]",["T_WHITESPACE"," ",298],["T_IS_EQUAL","==",298],["T_WHITESPACE"," ",298],["T_CONSTANT_ENCAPSED_STRING","'property'",298],")",["T_WHITESPACE"," ",298],"{",["T_WHITESPACE","\n                    ",298],["T_VARIABLE","$caller",299],["T_WHITESPACE"," ",299],"=",["T_WHITESPACE"," ",299],["T_CONSTANT_ENCAPSED_STRING","'get'",299],["T_WHITESPACE"," ",299],".",["T_WHITESPACE"," ",299],["T_STRING","uc_words",299],"(",["T_VARIABLE","$stackVars",299],"[",["T_VARIABLE","$i",299],"]","[",["T_CONSTANT_ENCAPSED_STRING","'name'",299],"]",",",["T_WHITESPACE"," ",299],["T_CONSTANT_ENCAPSED_STRING","''",299],")",";",["T_WHITESPACE","\n                    ",299],["T_VARIABLE","$stackVars",300],"[",["T_VARIABLE","$i",300],"]","[",["T_CONSTANT_ENCAPSED_STRING","'variable'",300],"]",["T_WHITESPACE"," ",300],"=",["T_WHITESPACE"," ",300],["T_STRING","method_exists",300],"(",["T_VARIABLE","$stackVars",300],"[",["T_VARIABLE","$i",300],"-",["T_LNUMBER","1",300],"]","[",["T_CONSTANT_ENCAPSED_STRING","'variable'",300],"]",",",["T_WHITESPACE"," ",300],["T_VARIABLE","$caller",300],")",["T_WHITESPACE","\n                        ",300],"?",["T_WHITESPACE"," ",301],["T_VARIABLE","$stackVars",301],"[",["T_VARIABLE","$i",301],"-",["T_LNUMBER","1",301],"]","[",["T_CONSTANT_ENCAPSED_STRING","'variable'",301],"]",["T_OBJECT_OPERATOR","->",301],["T_VARIABLE","$caller",301],"(",")",["T_WHITESPACE","\n                        ",301],":",["T_WHITESPACE"," ",302],["T_VARIABLE","$stackVars",302],"[",["T_VARIABLE","$i",302],"-",["T_LNUMBER","1",302],"]","[",["T_CONSTANT_ENCAPSED_STRING","'variable'",302],"]",["T_OBJECT_OPERATOR","->",302],["T_STRING","getData",302],"(",["T_VARIABLE","$stackVars",302],"[",["T_VARIABLE","$i",302],"]","[",["T_CONSTANT_ENCAPSED_STRING","'name'",302],"]",")",";",["T_WHITESPACE","\n                ",302],"}",["T_WHITESPACE"," ",303],["T_ELSEIF","elseif",303],["T_WHITESPACE"," ",303],"(",["T_VARIABLE","$stackVars",303],"[",["T_VARIABLE","$i",303],"]","[",["T_CONSTANT_ENCAPSED_STRING","'type'",303],"]",["T_WHITESPACE"," ",303],["T_IS_EQUAL","==",303],["T_WHITESPACE"," ",303],["T_CONSTANT_ENCAPSED_STRING","'method'",303],")",["T_WHITESPACE"," ",303],"{",["T_WHITESPACE","\n                    ",303],["T_COMMENT","\/\/ Calling of object method\n",304],["T_WHITESPACE","                    ",305],["T_IF","if",305],["T_WHITESPACE"," ",305],"(",["T_STRING","method_exists",305],"(",["T_VARIABLE","$stackVars",305],"[",["T_VARIABLE","$i",305],"-",["T_LNUMBER","1",305],"]","[",["T_CONSTANT_ENCAPSED_STRING","'variable'",305],"]",",",["T_WHITESPACE"," ",305],["T_VARIABLE","$stackVars",305],"[",["T_VARIABLE","$i",305],"]","[",["T_CONSTANT_ENCAPSED_STRING","'name'",305],"]",")",["T_WHITESPACE","\n                        ",305],["T_BOOLEAN_OR","||",306],["T_WHITESPACE"," ",306],["T_STRING","substr",306],"(",["T_VARIABLE","$stackVars",306],"[",["T_VARIABLE","$i",306],"]","[",["T_CONSTANT_ENCAPSED_STRING","'name'",306],"]",",",["T_WHITESPACE"," ",306],["T_LNUMBER","0",306],",",["T_WHITESPACE"," ",306],["T_LNUMBER","3",306],")",["T_WHITESPACE"," ",306],["T_IS_EQUAL","==",306],["T_WHITESPACE"," ",306],["T_CONSTANT_ENCAPSED_STRING","'get'",306],["T_WHITESPACE","\n                    ",306],")",["T_WHITESPACE"," ",307],"{",["T_WHITESPACE","\n                        ",307],["T_VARIABLE","$stackVars",308],"[",["T_VARIABLE","$i",308],"]","[",["T_CONSTANT_ENCAPSED_STRING","'variable'",308],"]",["T_WHITESPACE"," ",308],"=",["T_WHITESPACE"," ",308],["T_STRING","call_user_func_array",308],"(",["T_WHITESPACE","\n                            ",308],["T_ARRAY","array",309],"(",["T_VARIABLE","$stackVars",309],"[",["T_VARIABLE","$i",309],"-",["T_LNUMBER","1",309],"]","[",["T_CONSTANT_ENCAPSED_STRING","'variable'",309],"]",",",["T_WHITESPACE"," ",309],["T_VARIABLE","$stackVars",309],"[",["T_VARIABLE","$i",309],"]","[",["T_CONSTANT_ENCAPSED_STRING","'name'",309],"]",")",",",["T_WHITESPACE","\n                            ",309],["T_VARIABLE","$stackVars",310],"[",["T_VARIABLE","$i",310],"]","[",["T_CONSTANT_ENCAPSED_STRING","'args'",310],"]",["T_WHITESPACE","\n                        ",310],")",";",["T_WHITESPACE","\n                    ",311],"}",["T_WHITESPACE","\n                ",312],"}",["T_WHITESPACE","\n                ",313],["T_VARIABLE","$last",314],["T_WHITESPACE"," ",314],"=",["T_WHITESPACE"," ",314],["T_VARIABLE","$i",314],";",["T_WHITESPACE","\n            ",314],"}",["T_WHITESPACE","\n        ",315],"}",["T_WHITESPACE","\n\n        ",316],["T_IF","if",318],"(",["T_ISSET","isset",318],"(",["T_VARIABLE","$stackVars",318],"[",["T_VARIABLE","$last",318],"]","[",["T_CONSTANT_ENCAPSED_STRING","'variable'",318],"]",")",")",["T_WHITESPACE"," ",318],"{",["T_WHITESPACE","\n            ",318],["T_COMMENT","\/\/ If value for construction exists set it\n",319],["T_WHITESPACE","            ",320],["T_VARIABLE","$result",320],["T_WHITESPACE"," ",320],"=",["T_WHITESPACE"," ",320],["T_VARIABLE","$stackVars",320],"[",["T_VARIABLE","$last",320],"]","[",["T_CONSTANT_ENCAPSED_STRING","'variable'",320],"]",";",["T_WHITESPACE","\n        ",320],"}",["T_WHITESPACE","\n        ",321],["T_STRING","Varien_Profiler",322],["T_DOUBLE_COLON","::",322],["T_STRING","stop",322],"(",["T_CONSTANT_ENCAPSED_STRING","\"email_template_proccessing_variables\"",322],")",";",["T_WHITESPACE","\n        ",322],["T_RETURN","return",323],["T_WHITESPACE"," ",323],["T_VARIABLE","$result",323],";",["T_WHITESPACE","\n    ",323],"}",["T_WHITESPACE","\n",324],"}",["T_WHITESPACE","\n",325]]