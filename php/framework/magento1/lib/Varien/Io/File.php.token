[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Magento\n *\n * NOTICE OF LICENSE\n *\n * This source file is subject to the Open Software License (OSL 3.0)\n * that is bundled with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/opensource.org\/licenses\/osl-3.0.php\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@magento.com so we can send you a copy immediately.\n *\n * DISCLAIMER\n *\n * Do not edit or add to this file if you wish to upgrade Magento to newer\n * versions in the future. If you wish to customize Magento for your\n * needs please refer to http:\/\/www.magento.com for more information.\n *\n * @category    Varien\n * @package     Varien_Io\n * @copyright  Copyright (c) 2006-2016 X.commerce, Inc. and affiliates (http:\/\/www.magento.com)\n * @license    http:\/\/opensource.org\/licenses\/osl-3.0.php  Open Software License (OSL 3.0)\n *\/",2],["T_WHITESPACE","\n\n\n",25],["T_DOC_COMMENT","\/**\n * Filesystem client\n *\n * @category   Varien\n * @package    Varien_Io\n * @author      Magento Core Team <core@magentocommerce.com>\n *\/",28],["T_WHITESPACE","\n",34],["T_CLASS","class",35],["T_WHITESPACE"," ",35],["T_STRING","Varien_Io_File",35],["T_WHITESPACE"," ",35],["T_EXTENDS","extends",35],["T_WHITESPACE"," ",35],["T_STRING","Varien_Io_Abstract",35],["T_WHITESPACE","\n",35],"{",["T_WHITESPACE","\n    ",36],["T_DOC_COMMENT","\/**\n     * Save initial working directory\n     *\n     * @var string\n     *\/",37],["T_WHITESPACE","\n    ",41],["T_PROTECTED","protected",42],["T_WHITESPACE"," ",42],["T_VARIABLE","$_iwd",42],";",["T_WHITESPACE","\n\n    ",42],["T_DOC_COMMENT","\/**\n     * Use virtual current working directory for application integrity\n     *\n     * @var string\n     *\/",44],["T_WHITESPACE","\n    ",48],["T_PROTECTED","protected",49],["T_WHITESPACE"," ",49],["T_VARIABLE","$_cwd",49],";",["T_WHITESPACE","\n\n    ",49],["T_DOC_COMMENT","\/**\n     * Used to grep ls() output\n     *\n     * @const\n     *\/",51],["T_WHITESPACE","\n    ",55],["T_CONST","const",56],["T_WHITESPACE"," ",56],["T_STRING","GREP_FILES",56],["T_WHITESPACE"," ",56],"=",["T_WHITESPACE"," ",56],["T_CONSTANT_ENCAPSED_STRING","'files_only'",56],";",["T_WHITESPACE","\n\n    ",56],["T_DOC_COMMENT","\/**\n     * Used to grep ls() output\n     *\n     * @const\n     *\/",58],["T_WHITESPACE","\n    ",62],["T_CONST","const",63],["T_WHITESPACE"," ",63],["T_STRING","GREP_DIRS",63],["T_WHITESPACE"," ",63],"=",["T_WHITESPACE"," ",63],["T_CONSTANT_ENCAPSED_STRING","'dirs_only'",63],";",["T_WHITESPACE","\n\n    ",63],["T_DOC_COMMENT","\/**\n     * If this variable is set to TRUE, our library will be able to automaticaly create\n     * non-existant directories.\n     *\n     * @var bool\n     * @access protected\n     *\/",65],["T_WHITESPACE","\n    ",71],["T_PROTECTED","protected",72],["T_WHITESPACE"," ",72],["T_VARIABLE","$_allowCreateFolders",72],["T_WHITESPACE"," ",72],"=",["T_WHITESPACE"," ",72],["T_STRING","false",72],";",["T_WHITESPACE","\n\n    ",72],["T_DOC_COMMENT","\/**\n     * Stream open file pointer\n     *\n     * @var resource\n     *\/",74],["T_WHITESPACE","\n    ",78],["T_PROTECTED","protected",79],["T_WHITESPACE"," ",79],["T_VARIABLE","$_streamHandler",79],";",["T_WHITESPACE","\n\n    ",79],["T_DOC_COMMENT","\/**\n     * Stream mode filename\n     *\n     * @var string\n     *\/",81],["T_WHITESPACE","\n    ",85],["T_PROTECTED","protected",86],["T_WHITESPACE"," ",86],["T_VARIABLE","$_streamFileName",86],";",["T_WHITESPACE","\n\n    ",86],["T_DOC_COMMENT","\/**\n     * Stream mode chmod\n     *\n     * @var string\n     *\/",88],["T_WHITESPACE","\n    ",92],["T_PROTECTED","protected",93],["T_WHITESPACE"," ",93],["T_VARIABLE","$_streamChmod",93],";",["T_WHITESPACE","\n\n    ",93],["T_DOC_COMMENT","\/**\n     * Lock file\n     *\n     * @var bool\n     *\/",95],["T_WHITESPACE","\n    ",99],["T_PROTECTED","protected",100],["T_WHITESPACE"," ",100],["T_VARIABLE","$_streamLocked",100],["T_WHITESPACE"," ",100],"=",["T_WHITESPACE"," ",100],["T_STRING","false",100],";",["T_WHITESPACE","\n\n    ",100],["T_PUBLIC","public",102],["T_WHITESPACE"," ",102],["T_FUNCTION","function",102],["T_WHITESPACE"," ",102],["T_STRING","__construct",102],"(",")",["T_WHITESPACE","\n    ",102],"{",["T_WHITESPACE","\n        ",103],["T_COMMENT","\/\/ Initialize shutdown function\n",104],["T_WHITESPACE","        ",105],["T_STRING","register_shutdown_function",105],"(",["T_ARRAY","array",105],"(",["T_VARIABLE","$this",105],",",["T_WHITESPACE"," ",105],["T_CONSTANT_ENCAPSED_STRING","'destruct'",105],")",")",";",["T_WHITESPACE","\n    ",105],"}",["T_WHITESPACE","\n\n    ",106],["T_DOC_COMMENT","\/**\n     * stream close on shutdown\n     *\/",108],["T_WHITESPACE","\n    ",110],["T_PUBLIC","public",111],["T_WHITESPACE"," ",111],["T_FUNCTION","function",111],["T_WHITESPACE"," ",111],["T_STRING","destruct",111],"(",")",["T_WHITESPACE","\n    ",111],"{",["T_WHITESPACE","\n        ",112],["T_IF","if",113],["T_WHITESPACE"," ",113],"(",["T_VARIABLE","$this",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","_streamHandler",113],")",["T_WHITESPACE"," ",113],"{",["T_WHITESPACE","\n            ",113],["T_VARIABLE","$this",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","streamClose",114],"(",")",";",["T_WHITESPACE","\n        ",114],"}",["T_WHITESPACE","\n    ",115],"}",["T_WHITESPACE","\n\n    ",116],["T_DOC_COMMENT","\/**\n     * Open file in stream mode\n     * For set folder for file use open method\n     *\n     * @param string $fileName\n     * @param string $mode\n     * @return bool\n     *\/",118],["T_WHITESPACE","\n    ",125],["T_PUBLIC","public",126],["T_WHITESPACE"," ",126],["T_FUNCTION","function",126],["T_WHITESPACE"," ",126],["T_STRING","streamOpen",126],"(",["T_VARIABLE","$fileName",126],",",["T_WHITESPACE"," ",126],["T_VARIABLE","$mode",126],["T_WHITESPACE"," ",126],"=",["T_WHITESPACE"," ",126],["T_CONSTANT_ENCAPSED_STRING","'w+'",126],",",["T_WHITESPACE"," ",126],["T_VARIABLE","$chmod",126],["T_WHITESPACE"," ",126],"=",["T_WHITESPACE"," ",126],["T_LNUMBER","0666",126],")",["T_WHITESPACE","\n    ",126],"{",["T_WHITESPACE","\n        ",127],["T_VARIABLE","$writeableMode",128],["T_WHITESPACE"," ",128],"=",["T_WHITESPACE"," ",128],["T_STRING","preg_match",128],"(",["T_CONSTANT_ENCAPSED_STRING","'#^[wax]#i'",128],",",["T_WHITESPACE"," ",128],["T_VARIABLE","$mode",128],")",";",["T_WHITESPACE","\n        ",128],["T_IF","if",129],["T_WHITESPACE"," ",129],"(",["T_VARIABLE","$writeableMode",129],["T_WHITESPACE"," ",129],["T_BOOLEAN_AND","&&",129],["T_WHITESPACE"," ",129],"!",["T_STRING","is_writeable",129],"(",["T_VARIABLE","$this",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","_cwd",129],")",")",["T_WHITESPACE"," ",129],"{",["T_WHITESPACE","\n            ",129],["T_THROW","throw",130],["T_WHITESPACE"," ",130],["T_NEW","new",130],["T_WHITESPACE"," ",130],["T_STRING","Exception",130],"(",["T_CONSTANT_ENCAPSED_STRING","'Permission denied for write to '",130],["T_WHITESPACE"," ",130],".",["T_WHITESPACE"," ",130],["T_VARIABLE","$this",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","getFilteredPath",130],"(",["T_VARIABLE","$this",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","_cwd",130],")",")",";",["T_WHITESPACE","\n        ",130],"}",["T_WHITESPACE","\n\n        ",131],["T_IF","if",133],["T_WHITESPACE"," ",133],"(","!",["T_STRING","ini_get",133],"(",["T_CONSTANT_ENCAPSED_STRING","'auto_detect_line_endings'",133],")",")",["T_WHITESPACE"," ",133],"{",["T_WHITESPACE","\n            ",133],["T_STRING","ini_set",134],"(",["T_CONSTANT_ENCAPSED_STRING","'auto_detect_line_endings'",134],",",["T_WHITESPACE"," ",134],["T_LNUMBER","1",134],")",";",["T_WHITESPACE","\n        ",134],"}",["T_WHITESPACE","\n\n        ",135],"@",["T_STRING","chdir",137],"(",["T_VARIABLE","$this",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","_cwd",137],")",";",["T_WHITESPACE","\n        ",137],["T_VARIABLE","$this",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","_streamHandler",138],["T_WHITESPACE"," ",138],"=",["T_WHITESPACE"," ",138],"@",["T_STRING","fopen",138],"(",["T_VARIABLE","$fileName",138],",",["T_WHITESPACE"," ",138],["T_VARIABLE","$mode",138],")",";",["T_WHITESPACE","\n        ",138],"@",["T_STRING","chdir",139],"(",["T_VARIABLE","$this",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","_iwd",139],")",";",["T_WHITESPACE","\n        ",139],["T_IF","if",140],["T_WHITESPACE"," ",140],"(",["T_VARIABLE","$this",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","_streamHandler",140],["T_WHITESPACE"," ",140],["T_IS_IDENTICAL","===",140],["T_WHITESPACE"," ",140],["T_STRING","false",140],")",["T_WHITESPACE"," ",140],"{",["T_WHITESPACE","\n            ",140],["T_THROW","throw",141],["T_WHITESPACE"," ",141],["T_NEW","new",141],["T_WHITESPACE"," ",141],["T_STRING","Exception",141],"(",["T_CONSTANT_ENCAPSED_STRING","'Error write to file '",141],["T_WHITESPACE"," ",141],".",["T_WHITESPACE"," ",141],["T_VARIABLE","$this",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","getFilteredPath",141],"(",["T_VARIABLE","$fileName",141],")",")",";",["T_WHITESPACE","\n        ",141],"}",["T_WHITESPACE","\n\n        ",142],["T_VARIABLE","$this",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","_streamFileName",144],["T_WHITESPACE"," ",144],"=",["T_WHITESPACE"," ",144],["T_VARIABLE","$fileName",144],";",["T_WHITESPACE","\n        ",144],["T_VARIABLE","$this",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","_streamChmod",145],["T_WHITESPACE"," ",145],"=",["T_WHITESPACE"," ",145],["T_VARIABLE","$chmod",145],";",["T_WHITESPACE","\n        ",145],["T_RETURN","return",146],["T_WHITESPACE"," ",146],["T_STRING","true",146],";",["T_WHITESPACE","\n    ",146],"}",["T_WHITESPACE","\n\n    ",147],["T_DOC_COMMENT","\/**\n     * Lock file\n     *\n     * @return bool\n     *\/",149],["T_WHITESPACE","\n    ",153],["T_PUBLIC","public",154],["T_WHITESPACE"," ",154],["T_FUNCTION","function",154],["T_WHITESPACE"," ",154],["T_STRING","streamLock",154],"(",["T_VARIABLE","$exclusive",154],["T_WHITESPACE"," ",154],"=",["T_WHITESPACE"," ",154],["T_STRING","true",154],")",["T_WHITESPACE","\n    ",154],"{",["T_WHITESPACE","\n        ",155],["T_IF","if",156],["T_WHITESPACE"," ",156],"(","!",["T_VARIABLE","$this",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","_streamHandler",156],")",["T_WHITESPACE"," ",156],"{",["T_WHITESPACE","\n            ",156],["T_RETURN","return",157],["T_WHITESPACE"," ",157],["T_STRING","false",157],";",["T_WHITESPACE","\n        ",157],"}",["T_WHITESPACE","\n        ",158],["T_VARIABLE","$this",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","_streamLocked",159],["T_WHITESPACE"," ",159],"=",["T_WHITESPACE"," ",159],["T_STRING","true",159],";",["T_WHITESPACE","\n        ",159],["T_VARIABLE","$lock",160],["T_WHITESPACE"," ",160],"=",["T_WHITESPACE"," ",160],["T_VARIABLE","$exclusive",160],["T_WHITESPACE"," ",160],"?",["T_WHITESPACE"," ",160],["T_STRING","LOCK_EX",160],["T_WHITESPACE"," ",160],":",["T_WHITESPACE"," ",160],["T_STRING","LOCK_SH",160],";",["T_WHITESPACE","\n        ",160],["T_RETURN","return",161],["T_WHITESPACE"," ",161],["T_STRING","flock",161],"(",["T_VARIABLE","$this",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","_streamHandler",161],",",["T_WHITESPACE"," ",161],["T_VARIABLE","$lock",161],")",";",["T_WHITESPACE","\n    ",161],"}",["T_WHITESPACE","\n\n    ",162],["T_DOC_COMMENT","\/**\n     * Unlock file\n     *\n     * @return bool\n     *\/",164],["T_WHITESPACE","\n    ",168],["T_PUBLIC","public",169],["T_WHITESPACE"," ",169],["T_FUNCTION","function",169],["T_WHITESPACE"," ",169],["T_STRING","streamUnlock",169],"(",")",["T_WHITESPACE","\n    ",169],"{",["T_WHITESPACE","\n        ",170],["T_IF","if",171],["T_WHITESPACE"," ",171],"(","!",["T_VARIABLE","$this",171],["T_OBJECT_OPERATOR","->",171],["T_STRING","_streamHandler",171],["T_WHITESPACE"," ",171],["T_BOOLEAN_OR","||",171],["T_WHITESPACE"," ",171],"!",["T_VARIABLE","$this",171],["T_OBJECT_OPERATOR","->",171],["T_STRING","_streamLocked",171],")",["T_WHITESPACE"," ",171],"{",["T_WHITESPACE","\n            ",171],["T_RETURN","return",172],["T_WHITESPACE"," ",172],["T_STRING","false",172],";",["T_WHITESPACE","\n        ",172],"}",["T_WHITESPACE","\n        ",173],["T_VARIABLE","$this",174],["T_OBJECT_OPERATOR","->",174],["T_STRING","_streamLocked",174],["T_WHITESPACE"," ",174],"=",["T_WHITESPACE"," ",174],["T_STRING","false",174],";",["T_WHITESPACE","\n        ",174],["T_RETURN","return",175],["T_WHITESPACE"," ",175],["T_STRING","flock",175],"(",["T_VARIABLE","$this",175],["T_OBJECT_OPERATOR","->",175],["T_STRING","_streamHandler",175],",",["T_WHITESPACE"," ",175],["T_STRING","LOCK_UN",175],")",";",["T_WHITESPACE","\n    ",175],"}",["T_WHITESPACE","\n\n    ",176],["T_DOC_COMMENT","\/**\n     * Binary-safe file read\n     *\n     * @param int $length\n     * @return string\n     *\/",178],["T_WHITESPACE","\n    ",183],["T_PUBLIC","public",184],["T_WHITESPACE"," ",184],["T_FUNCTION","function",184],["T_WHITESPACE"," ",184],["T_STRING","streamRead",184],"(",["T_VARIABLE","$length",184],["T_WHITESPACE"," ",184],"=",["T_WHITESPACE"," ",184],["T_LNUMBER","1024",184],")",["T_WHITESPACE","\n    ",184],"{",["T_WHITESPACE","\n        ",185],["T_IF","if",186],["T_WHITESPACE"," ",186],"(","!",["T_VARIABLE","$this",186],["T_OBJECT_OPERATOR","->",186],["T_STRING","_streamHandler",186],")",["T_WHITESPACE"," ",186],"{",["T_WHITESPACE","\n            ",186],["T_RETURN","return",187],["T_WHITESPACE"," ",187],["T_STRING","false",187],";",["T_WHITESPACE","\n        ",187],"}",["T_WHITESPACE","\n        ",188],["T_IF","if",189],["T_WHITESPACE"," ",189],"(",["T_STRING","feof",189],"(",["T_VARIABLE","$this",189],["T_OBJECT_OPERATOR","->",189],["T_STRING","_streamHandler",189],")",")",["T_WHITESPACE"," ",189],"{",["T_WHITESPACE","\n            ",189],["T_RETURN","return",190],["T_WHITESPACE"," ",190],["T_STRING","false",190],";",["T_WHITESPACE","\n        ",190],"}",["T_WHITESPACE","\n        ",191],["T_RETURN","return",192],["T_WHITESPACE"," ",192],"@",["T_STRING","fgets",192],"(",["T_VARIABLE","$this",192],["T_OBJECT_OPERATOR","->",192],["T_STRING","_streamHandler",192],",",["T_WHITESPACE"," ",192],["T_VARIABLE","$length",192],")",";",["T_WHITESPACE","\n    ",192],"}",["T_WHITESPACE","\n\n    ",193],["T_DOC_COMMENT","\/**\n     * Gets line from file pointer and parse for CSV fields\n     *\n     * @return string\n     *\/",195],["T_WHITESPACE","\n    ",199],["T_PUBLIC","public",200],["T_WHITESPACE"," ",200],["T_FUNCTION","function",200],["T_WHITESPACE"," ",200],["T_STRING","streamReadCsv",200],"(",["T_VARIABLE","$delimiter",200],["T_WHITESPACE"," ",200],"=",["T_WHITESPACE"," ",200],["T_CONSTANT_ENCAPSED_STRING","','",200],",",["T_WHITESPACE"," ",200],["T_VARIABLE","$enclosure",200],["T_WHITESPACE"," ",200],"=",["T_WHITESPACE"," ",200],["T_CONSTANT_ENCAPSED_STRING","'\"'",200],")",["T_WHITESPACE","\n    ",200],"{",["T_WHITESPACE","\n        ",201],["T_IF","if",202],["T_WHITESPACE"," ",202],"(","!",["T_VARIABLE","$this",202],["T_OBJECT_OPERATOR","->",202],["T_STRING","_streamHandler",202],")",["T_WHITESPACE"," ",202],"{",["T_WHITESPACE","\n            ",202],["T_RETURN","return",203],["T_WHITESPACE"," ",203],["T_STRING","false",203],";",["T_WHITESPACE","\n        ",203],"}",["T_WHITESPACE","\n        ",204],["T_RETURN","return",205],["T_WHITESPACE"," ",205],"@",["T_STRING","fgetcsv",205],"(",["T_VARIABLE","$this",205],["T_OBJECT_OPERATOR","->",205],["T_STRING","_streamHandler",205],",",["T_WHITESPACE"," ",205],["T_LNUMBER","0",205],",",["T_WHITESPACE"," ",205],["T_VARIABLE","$delimiter",205],",",["T_WHITESPACE"," ",205],["T_VARIABLE","$enclosure",205],")",";",["T_WHITESPACE","\n    ",205],"}",["T_WHITESPACE","\n\n    ",206],["T_DOC_COMMENT","\/**\n     * Binary-safe file write\n     *\n     * @param string $str\n     * @return bool\n     *\/",208],["T_WHITESPACE","\n    ",213],["T_PUBLIC","public",214],["T_WHITESPACE"," ",214],["T_FUNCTION","function",214],["T_WHITESPACE"," ",214],["T_STRING","streamWrite",214],"(",["T_VARIABLE","$str",214],")",["T_WHITESPACE","\n    ",214],"{",["T_WHITESPACE","\n        ",215],["T_IF","if",216],["T_WHITESPACE"," ",216],"(","!",["T_VARIABLE","$this",216],["T_OBJECT_OPERATOR","->",216],["T_STRING","_streamHandler",216],")",["T_WHITESPACE"," ",216],"{",["T_WHITESPACE","\n            ",216],["T_RETURN","return",217],["T_WHITESPACE"," ",217],["T_STRING","false",217],";",["T_WHITESPACE","\n        ",217],"}",["T_WHITESPACE","\n        ",218],["T_RETURN","return",219],["T_WHITESPACE"," ",219],"@",["T_STRING","fwrite",219],"(",["T_VARIABLE","$this",219],["T_OBJECT_OPERATOR","->",219],["T_STRING","_streamHandler",219],",",["T_WHITESPACE"," ",219],["T_VARIABLE","$str",219],")",";",["T_WHITESPACE","\n    ",219],"}",["T_WHITESPACE","\n\n    ",220],["T_DOC_COMMENT","\/**\n     * Format line as CSV and write to file pointer\n     *\n     * @param array $row\n     * @param string $delimiter\n     * @param string $enclosure\n     * @return bool|int\n     *\/",222],["T_WHITESPACE","\n    ",229],["T_PUBLIC","public",230],["T_WHITESPACE"," ",230],["T_FUNCTION","function",230],["T_WHITESPACE"," ",230],["T_STRING","streamWriteCsv",230],"(",["T_ARRAY","array",230],["T_WHITESPACE"," ",230],["T_VARIABLE","$row",230],",",["T_WHITESPACE"," ",230],["T_VARIABLE","$delimiter",230],["T_WHITESPACE"," ",230],"=",["T_WHITESPACE"," ",230],["T_CONSTANT_ENCAPSED_STRING","','",230],",",["T_WHITESPACE"," ",230],["T_VARIABLE","$enclosure",230],["T_WHITESPACE"," ",230],"=",["T_WHITESPACE"," ",230],["T_CONSTANT_ENCAPSED_STRING","'\"'",230],")",["T_WHITESPACE","\n    ",230],"{",["T_WHITESPACE","\n        ",231],["T_IF","if",232],["T_WHITESPACE"," ",232],"(","!",["T_VARIABLE","$this",232],["T_OBJECT_OPERATOR","->",232],["T_STRING","_streamHandler",232],")",["T_WHITESPACE"," ",232],"{",["T_WHITESPACE","\n            ",232],["T_RETURN","return",233],["T_WHITESPACE"," ",233],["T_STRING","false",233],";",["T_WHITESPACE","\n        ",233],"}",["T_WHITESPACE","\n\n        ",234],["T_RETURN","return",236],["T_WHITESPACE"," ",236],"@",["T_STRING","fputcsv",236],"(",["T_VARIABLE","$this",236],["T_OBJECT_OPERATOR","->",236],["T_STRING","_streamHandler",236],",",["T_WHITESPACE"," ",236],["T_VARIABLE","$row",236],",",["T_WHITESPACE"," ",236],["T_VARIABLE","$delimiter",236],",",["T_WHITESPACE"," ",236],["T_VARIABLE","$enclosure",236],")",";",["T_WHITESPACE","\n    ",236],"}",["T_WHITESPACE","\n\n    ",237],["T_DOC_COMMENT","\/**\n     * Close an open file pointer\n     * Set chmod on a file\n     *\n     * @return bool\n     *\/",239],["T_WHITESPACE","\n    ",244],["T_PUBLIC","public",245],["T_WHITESPACE"," ",245],["T_FUNCTION","function",245],["T_WHITESPACE"," ",245],["T_STRING","streamClose",245],"(",")",["T_WHITESPACE","\n    ",245],"{",["T_WHITESPACE","\n        ",246],["T_IF","if",247],["T_WHITESPACE"," ",247],"(","!",["T_VARIABLE","$this",247],["T_OBJECT_OPERATOR","->",247],["T_STRING","_streamHandler",247],")",["T_WHITESPACE"," ",247],"{",["T_WHITESPACE","\n            ",247],["T_RETURN","return",248],["T_WHITESPACE"," ",248],["T_STRING","false",248],";",["T_WHITESPACE","\n        ",248],"}",["T_WHITESPACE","\n\n        ",249],["T_IF","if",251],["T_WHITESPACE"," ",251],"(",["T_VARIABLE","$this",251],["T_OBJECT_OPERATOR","->",251],["T_STRING","_streamLocked",251],")",["T_WHITESPACE"," ",251],"{",["T_WHITESPACE","\n            ",251],["T_VARIABLE","$this",252],["T_OBJECT_OPERATOR","->",252],["T_STRING","streamUnlock",252],"(",")",";",["T_WHITESPACE","\n        ",252],"}",["T_WHITESPACE","\n        ",253],"@",["T_STRING","fclose",254],"(",["T_VARIABLE","$this",254],["T_OBJECT_OPERATOR","->",254],["T_STRING","_streamHandler",254],")",";",["T_WHITESPACE","\n        ",254],["T_VARIABLE","$this",255],["T_OBJECT_OPERATOR","->",255],["T_STRING","chmod",255],"(",["T_VARIABLE","$this",255],["T_OBJECT_OPERATOR","->",255],["T_STRING","_streamFileName",255],",",["T_WHITESPACE"," ",255],["T_VARIABLE","$this",255],["T_OBJECT_OPERATOR","->",255],["T_STRING","_streamChmod",255],")",";",["T_WHITESPACE","\n        ",255],["T_RETURN","return",256],["T_WHITESPACE"," ",256],["T_STRING","true",256],";",["T_WHITESPACE","\n    ",256],"}",["T_WHITESPACE","\n\n    ",257],["T_DOC_COMMENT","\/**\n     * Retrieve open file statistic\n     *\n     * @param string $part the part of statistic\n     * @param mixed $default default value for part\n     * @return array|bool\n     *\/",259],["T_WHITESPACE","\n    ",265],["T_PUBLIC","public",266],["T_WHITESPACE"," ",266],["T_FUNCTION","function",266],["T_WHITESPACE"," ",266],["T_STRING","streamStat",266],"(",["T_VARIABLE","$part",266],["T_WHITESPACE"," ",266],"=",["T_WHITESPACE"," ",266],["T_STRING","null",266],",",["T_WHITESPACE"," ",266],["T_VARIABLE","$default",266],["T_WHITESPACE"," ",266],"=",["T_WHITESPACE"," ",266],["T_STRING","null",266],")",["T_WHITESPACE","\n    ",266],"{",["T_WHITESPACE","\n        ",267],["T_IF","if",268],["T_WHITESPACE"," ",268],"(","!",["T_VARIABLE","$this",268],["T_OBJECT_OPERATOR","->",268],["T_STRING","_streamHandler",268],")",["T_WHITESPACE"," ",268],"{",["T_WHITESPACE","\n            ",268],["T_RETURN","return",269],["T_WHITESPACE"," ",269],["T_STRING","false",269],";",["T_WHITESPACE","\n        ",269],"}",["T_WHITESPACE","\n        ",270],["T_VARIABLE","$stat",271],["T_WHITESPACE"," ",271],"=",["T_WHITESPACE"," ",271],"@",["T_STRING","fstat",271],"(",["T_VARIABLE","$this",271],["T_OBJECT_OPERATOR","->",271],["T_STRING","_streamHandler",271],")",";",["T_WHITESPACE","\n        ",271],["T_IF","if",272],["T_WHITESPACE"," ",272],"(","!",["T_STRING","is_null",272],"(",["T_VARIABLE","$part",272],")",")",["T_WHITESPACE"," ",272],"{",["T_WHITESPACE","\n            ",272],["T_RETURN","return",273],["T_WHITESPACE"," ",273],["T_ISSET","isset",273],"(",["T_VARIABLE","$stat",273],"[",["T_VARIABLE","$part",273],"]",")",["T_WHITESPACE"," ",273],"?",["T_WHITESPACE"," ",273],["T_VARIABLE","$stat",273],"[",["T_VARIABLE","$part",273],"]",["T_WHITESPACE"," ",273],":",["T_WHITESPACE"," ",273],["T_VARIABLE","$default",273],";",["T_WHITESPACE","\n        ",273],"}",["T_WHITESPACE","\n        ",274],["T_RETURN","return",275],["T_WHITESPACE"," ",275],["T_VARIABLE","$stat",275],";",["T_WHITESPACE","\n    ",275],"}",["T_WHITESPACE","\n\n    ",276],["T_DOC_COMMENT","\/**\n     * Retrieve stream methods exception\n     *\n     * @return Exception\n     *\/",278],["T_WHITESPACE","\n    ",282],["T_PUBLIC","public",283],["T_WHITESPACE"," ",283],["T_FUNCTION","function",283],["T_WHITESPACE"," ",283],["T_STRING","getStreamException",283],"(",")",["T_WHITESPACE","\n    ",283],"{",["T_WHITESPACE","\n        ",284],["T_RETURN","return",285],["T_WHITESPACE"," ",285],["T_VARIABLE","$this",285],["T_OBJECT_OPERATOR","->",285],["T_STRING","_streamException",285],";",["T_WHITESPACE","\n    ",285],"}",["T_WHITESPACE","\n\n    ",286],["T_DOC_COMMENT","\/**\n     * Open a connection\n     *\n     * Possible arguments:\n     * - path     default current path\n     *\n     * @param array $args\n     * @return boolean\n     *\/",288],["T_WHITESPACE","\n    ",296],["T_PUBLIC","public",297],["T_WHITESPACE"," ",297],["T_FUNCTION","function",297],["T_WHITESPACE"," ",297],["T_STRING","open",297],"(",["T_ARRAY","array",297],["T_WHITESPACE"," ",297],["T_VARIABLE","$args",297],"=",["T_ARRAY","array",297],"(",")",")",["T_WHITESPACE","\n    ",297],"{",["T_WHITESPACE","\n        ",298],["T_IF","if",299],["T_WHITESPACE"," ",299],"(","!",["T_EMPTY","empty",299],"(",["T_VARIABLE","$args",299],"[",["T_CONSTANT_ENCAPSED_STRING","'path'",299],"]",")",["T_WHITESPACE"," ",299],["T_BOOLEAN_AND","&&",299],["T_WHITESPACE"," ",299],["T_VARIABLE","$this",299],["T_OBJECT_OPERATOR","->",299],["T_STRING","_allowCreateFolders",299],")",["T_WHITESPACE"," ",299],"{",["T_WHITESPACE","\n            ",299],["T_VARIABLE","$this",300],["T_OBJECT_OPERATOR","->",300],["T_STRING","checkAndCreateFolder",300],"(",["T_VARIABLE","$args",300],"[",["T_CONSTANT_ENCAPSED_STRING","'path'",300],"]",")",";",["T_WHITESPACE","\n        ",300],"}",["T_WHITESPACE","\n\n        ",301],["T_VARIABLE","$this",303],["T_OBJECT_OPERATOR","->",303],["T_STRING","_iwd",303],["T_WHITESPACE"," ",303],"=",["T_WHITESPACE"," ",303],["T_STRING","getcwd",303],"(",")",";",["T_WHITESPACE","\n        ",303],["T_VARIABLE","$this",304],["T_OBJECT_OPERATOR","->",304],["T_STRING","cd",304],"(","!",["T_EMPTY","empty",304],"(",["T_VARIABLE","$args",304],"[",["T_CONSTANT_ENCAPSED_STRING","'path'",304],"]",")",["T_WHITESPACE"," ",304],"?",["T_WHITESPACE"," ",304],["T_VARIABLE","$args",304],"[",["T_CONSTANT_ENCAPSED_STRING","'path'",304],"]",["T_WHITESPACE"," ",304],":",["T_WHITESPACE"," ",304],["T_VARIABLE","$this",304],["T_OBJECT_OPERATOR","->",304],["T_STRING","_iwd",304],")",";",["T_WHITESPACE","\n        ",304],["T_RETURN","return",305],["T_WHITESPACE"," ",305],["T_STRING","true",305],";",["T_WHITESPACE","\n    ",305],"}",["T_WHITESPACE","\n\n    ",306],["T_DOC_COMMENT","\/**\n     * Used to set {@link _allowCreateFolders} value\n     *\n     * @param mixed $flag\n     * @access public\n     * @return void\n     *\/",308],["T_WHITESPACE","\n    ",314],["T_PUBLIC","public",315],["T_WHITESPACE"," ",315],["T_FUNCTION","function",315],["T_WHITESPACE"," ",315],["T_STRING","setAllowCreateFolders",315],"(",["T_VARIABLE","$flag",315],")",["T_WHITESPACE","\n    ",315],"{",["T_WHITESPACE","\n        ",316],["T_VARIABLE","$this",317],["T_OBJECT_OPERATOR","->",317],["T_STRING","_allowCreateFolders",317],["T_WHITESPACE"," ",317],"=",["T_WHITESPACE"," ",317],["T_VARIABLE","$flag",317],";",["T_WHITESPACE","\n        ",317],["T_RETURN","return",318],["T_WHITESPACE"," ",318],["T_VARIABLE","$this",318],";",["T_WHITESPACE","\n    ",318],"}",["T_WHITESPACE","\n\n    ",319],["T_DOC_COMMENT","\/**\n     * Close a connection\n     *\n     * @return boolean\n     *\/",321],["T_WHITESPACE","\n    ",325],["T_PUBLIC","public",326],["T_WHITESPACE"," ",326],["T_FUNCTION","function",326],["T_WHITESPACE"," ",326],["T_STRING","close",326],"(",")",["T_WHITESPACE","\n    ",326],"{",["T_WHITESPACE","\n        ",327],["T_RETURN","return",328],["T_WHITESPACE"," ",328],["T_STRING","true",328],";",["T_WHITESPACE","\n    ",328],"}",["T_WHITESPACE","\n\n    ",329],["T_DOC_COMMENT","\/**\n     * Create a directory\n     *\n     * @param string $dir\n     * @param int $mode\n     * @param boolean $recursive\n     * @return boolean\n     *\/",331],["T_WHITESPACE","\n    ",338],["T_PUBLIC","public",339],["T_WHITESPACE"," ",339],["T_FUNCTION","function",339],["T_WHITESPACE"," ",339],["T_STRING","mkdir",339],"(",["T_VARIABLE","$dir",339],",",["T_WHITESPACE"," ",339],["T_VARIABLE","$mode",339],"=",["T_LNUMBER","0777",339],",",["T_WHITESPACE"," ",339],["T_VARIABLE","$recursive",339],"=",["T_STRING","true",339],")",["T_WHITESPACE","\n    ",339],"{",["T_WHITESPACE","\n        ",340],["T_IF","if",341],["T_WHITESPACE"," ",341],"(",["T_VARIABLE","$this",341],["T_OBJECT_OPERATOR","->",341],["T_STRING","_cwd",341],")",["T_WHITESPACE"," ",341],"{",["T_WHITESPACE","\n            ",341],["T_STRING","chdir",342],"(",["T_VARIABLE","$this",342],["T_OBJECT_OPERATOR","->",342],["T_STRING","_cwd",342],")",";",["T_WHITESPACE","\n        ",342],"}",["T_WHITESPACE","\n\n        ",343],["T_VARIABLE","$result",345],["T_WHITESPACE"," ",345],"=",["T_WHITESPACE"," ",345],"@",["T_STRING","mkdir",345],"(",["T_VARIABLE","$dir",345],",",["T_WHITESPACE"," ",345],["T_VARIABLE","$mode",345],",",["T_WHITESPACE"," ",345],["T_VARIABLE","$recursive",345],")",";",["T_WHITESPACE","\n        ",345],["T_IF","if",346],["T_WHITESPACE"," ",346],"(",["T_VARIABLE","$result",346],")",["T_WHITESPACE"," ",346],"{",["T_WHITESPACE","\n            ",346],"@",["T_STRING","chmod",347],"(",["T_VARIABLE","$dir",347],",",["T_WHITESPACE"," ",347],["T_VARIABLE","$mode",347],")",";",["T_WHITESPACE","\n        ",347],"}",["T_WHITESPACE","\n        ",348],["T_IF","if",349],["T_WHITESPACE"," ",349],"(",["T_VARIABLE","$this",349],["T_OBJECT_OPERATOR","->",349],["T_STRING","_iwd",349],")",["T_WHITESPACE"," ",349],"{",["T_WHITESPACE","\n            ",349],["T_STRING","chdir",350],"(",["T_VARIABLE","$this",350],["T_OBJECT_OPERATOR","->",350],["T_STRING","_iwd",350],")",";",["T_WHITESPACE","\n        ",350],"}",["T_WHITESPACE","\n        ",351],["T_RETURN","return",352],["T_WHITESPACE"," ",352],["T_VARIABLE","$result",352],";",["T_WHITESPACE","\n    ",352],"}",["T_WHITESPACE","\n\n    ",353],["T_DOC_COMMENT","\/**\n     * Delete a directory\n     *\n     * @param string $dir\n     * @return boolean\n     *\/",355],["T_WHITESPACE","\n    ",360],["T_PUBLIC","public",361],["T_WHITESPACE"," ",361],["T_FUNCTION","function",361],["T_WHITESPACE"," ",361],["T_STRING","rmdir",361],"(",["T_VARIABLE","$dir",361],",",["T_WHITESPACE"," ",361],["T_VARIABLE","$recursive",361],["T_WHITESPACE"," ",361],"=",["T_WHITESPACE"," ",361],["T_STRING","false",361],")",["T_WHITESPACE","\n    ",361],"{",["T_WHITESPACE","\n        ",362],["T_IF","if",363],["T_WHITESPACE"," ",363],"(",["T_VARIABLE","$this",363],["T_OBJECT_OPERATOR","->",363],["T_STRING","_cwd",363],")",["T_WHITESPACE"," ",363],"{",["T_WHITESPACE","\n            ",363],"@",["T_STRING","chdir",364],"(",["T_VARIABLE","$this",364],["T_OBJECT_OPERATOR","->",364],["T_STRING","_cwd",364],")",";",["T_WHITESPACE","\n        ",364],"}",["T_WHITESPACE","\n        ",365],["T_VARIABLE","$result",366],["T_WHITESPACE"," ",366],"=",["T_WHITESPACE"," ",366],["T_STRING","self",366],["T_DOUBLE_COLON","::",366],["T_STRING","rmdirRecursive",366],"(",["T_VARIABLE","$dir",366],",",["T_WHITESPACE"," ",366],["T_VARIABLE","$recursive",366],")",";",["T_WHITESPACE","\n        ",366],"@",["T_STRING","chdir",367],"(",["T_VARIABLE","$this",367],["T_OBJECT_OPERATOR","->",367],["T_STRING","_iwd",367],")",";",["T_WHITESPACE","\n        ",367],["T_RETURN","return",368],["T_WHITESPACE"," ",368],["T_VARIABLE","$result",368],";",["T_WHITESPACE","\n    ",368],"}",["T_WHITESPACE","\n\n    ",369],["T_DOC_COMMENT","\/**\n     * Delete a directory recursively\n     * @param string $dir\n     * @param bool $recursive\n     * @return bool\n     *\/",371],["T_WHITESPACE","\n    ",376],["T_PUBLIC","public",377],["T_WHITESPACE"," ",377],["T_STATIC","static",377],["T_WHITESPACE"," ",377],["T_FUNCTION","function",377],["T_WHITESPACE"," ",377],["T_STRING","rmdirRecursive",377],"(",["T_VARIABLE","$dir",377],",",["T_WHITESPACE"," ",377],["T_VARIABLE","$recursive",377],["T_WHITESPACE"," ",377],"=",["T_WHITESPACE"," ",377],["T_STRING","true",377],")",["T_WHITESPACE","\n    ",377],"{",["T_WHITESPACE","\n        ",378],["T_IF","if",379],["T_WHITESPACE"," ",379],"(",["T_VARIABLE","$recursive",379],")",["T_WHITESPACE"," ",379],"{",["T_WHITESPACE","\n            ",379],["T_IF","if",380],["T_WHITESPACE"," ",380],"(",["T_STRING","is_dir",380],"(",["T_VARIABLE","$dir",380],")",")",["T_WHITESPACE"," ",380],"{",["T_WHITESPACE","\n                ",380],["T_FOREACH","foreach",381],["T_WHITESPACE"," ",381],"(",["T_STRING","scandir",381],"(",["T_VARIABLE","$dir",381],")",["T_WHITESPACE"," ",381],["T_AS","as",381],["T_WHITESPACE"," ",381],["T_VARIABLE","$item",381],")",["T_WHITESPACE"," ",381],"{",["T_WHITESPACE","\n                    ",381],["T_IF","if",382],["T_WHITESPACE"," ",382],"(","!",["T_STRING","strcmp",382],"(",["T_VARIABLE","$item",382],",",["T_WHITESPACE"," ",382],["T_CONSTANT_ENCAPSED_STRING","'.'",382],")",["T_WHITESPACE"," ",382],["T_BOOLEAN_OR","||",382],["T_WHITESPACE"," ",382],"!",["T_STRING","strcmp",382],"(",["T_VARIABLE","$item",382],",",["T_WHITESPACE"," ",382],["T_CONSTANT_ENCAPSED_STRING","'..'",382],")",")",["T_WHITESPACE"," ",382],"{",["T_WHITESPACE","\n                        ",382],["T_CONTINUE","continue",383],";",["T_WHITESPACE","\n                    ",383],"}",["T_WHITESPACE","\n                    ",384],["T_STRING","self",385],["T_DOUBLE_COLON","::",385],["T_STRING","rmdirRecursive",385],"(",["T_VARIABLE","$dir",385],["T_WHITESPACE"," ",385],".",["T_WHITESPACE"," ",385],["T_CONSTANT_ENCAPSED_STRING","\"\/\"",385],["T_WHITESPACE"," ",385],".",["T_WHITESPACE"," ",385],["T_VARIABLE","$item",385],",",["T_WHITESPACE"," ",385],["T_VARIABLE","$recursive",385],")",";",["T_WHITESPACE","\n                ",385],"}",["T_WHITESPACE","\n                ",386],["T_VARIABLE","$result",387],["T_WHITESPACE"," ",387],"=",["T_WHITESPACE"," ",387],"@",["T_STRING","rmdir",387],"(",["T_VARIABLE","$dir",387],")",";",["T_WHITESPACE","\n            ",387],"}",["T_WHITESPACE"," ",388],["T_ELSE","else",388],["T_WHITESPACE"," ",388],"{",["T_WHITESPACE","\n                ",388],["T_VARIABLE","$result",389],["T_WHITESPACE"," ",389],"=",["T_WHITESPACE"," ",389],"@",["T_STRING","unlink",389],"(",["T_VARIABLE","$dir",389],")",";",["T_WHITESPACE","\n            ",389],"}",["T_WHITESPACE","\n        ",390],"}",["T_WHITESPACE"," ",391],["T_ELSE","else",391],["T_WHITESPACE"," ",391],"{",["T_WHITESPACE","\n            ",391],["T_VARIABLE","$result",392],["T_WHITESPACE"," ",392],"=",["T_WHITESPACE"," ",392],"@",["T_STRING","rmdir",392],"(",["T_VARIABLE","$dir",392],")",";",["T_WHITESPACE","\n        ",392],"}",["T_WHITESPACE","\n        ",393],["T_RETURN","return",394],["T_WHITESPACE"," ",394],["T_VARIABLE","$result",394],";",["T_WHITESPACE","\n    ",394],"}",["T_WHITESPACE","\n\n    ",395],["T_DOC_COMMENT","\/**\n     * Get current working directory\n     *\n     * @return string\n     *\/",397],["T_WHITESPACE","\n    ",401],["T_PUBLIC","public",402],["T_WHITESPACE"," ",402],["T_FUNCTION","function",402],["T_WHITESPACE"," ",402],["T_STRING","pwd",402],"(",")",["T_WHITESPACE","\n    ",402],"{",["T_WHITESPACE","\n        ",403],["T_RETURN","return",404],["T_WHITESPACE"," ",404],["T_VARIABLE","$this",404],["T_OBJECT_OPERATOR","->",404],["T_STRING","_cwd",404],";",["T_WHITESPACE","\n    ",404],"}",["T_WHITESPACE","\n\n    ",405],["T_DOC_COMMENT","\/**\n     * Change current working directory\n     *\n     * @param string $dir\n     * @return boolean\n     *\/",407],["T_WHITESPACE","\n    ",412],["T_PUBLIC","public",413],["T_WHITESPACE"," ",413],["T_FUNCTION","function",413],["T_WHITESPACE"," ",413],["T_STRING","cd",413],"(",["T_VARIABLE","$dir",413],")",["T_WHITESPACE","\n    ",413],"{",["T_WHITESPACE","\n        ",414],["T_IF","if",415],"(",["T_WHITESPACE"," ",415],["T_STRING","is_dir",415],"(",["T_VARIABLE","$dir",415],")",["T_WHITESPACE"," ",415],")",["T_WHITESPACE"," ",415],"{",["T_WHITESPACE","\n            ",415],"@",["T_STRING","chdir",416],"(",["T_VARIABLE","$this",416],["T_OBJECT_OPERATOR","->",416],["T_STRING","_iwd",416],")",";",["T_WHITESPACE","\n            ",416],["T_VARIABLE","$this",417],["T_OBJECT_OPERATOR","->",417],["T_STRING","_cwd",417],["T_WHITESPACE"," ",417],"=",["T_WHITESPACE"," ",417],["T_STRING","realpath",417],"(",["T_VARIABLE","$dir",417],")",";",["T_WHITESPACE","\n            ",417],["T_RETURN","return",418],["T_WHITESPACE"," ",418],["T_STRING","true",418],";",["T_WHITESPACE","\n        ",418],"}",["T_WHITESPACE"," ",419],["T_ELSE","else",419],["T_WHITESPACE"," ",419],"{",["T_WHITESPACE","\n            ",419],["T_THROW","throw",420],["T_WHITESPACE"," ",420],["T_NEW","new",420],["T_WHITESPACE"," ",420],["T_STRING","Exception",420],"(",["T_CONSTANT_ENCAPSED_STRING","'Unable to list current working directory.'",420],")",";",["T_WHITESPACE","\n            ",420],["T_RETURN","return",421],["T_WHITESPACE"," ",421],["T_STRING","false",421],";",["T_WHITESPACE","\n        ",421],"}",["T_WHITESPACE","\n    ",422],"}",["T_WHITESPACE","\n\n    ",423],["T_DOC_COMMENT","\/**\n     * Read a file to result, file or stream\n     *\n     * If $dest is null the output will be returned.\n     * Otherwise it will be saved to the file or stream and operation result is returned.\n     *\n     * @param string $filename\n     * @param string|resource $dest\n     * @return boolean|string\n     *\/",425],["T_WHITESPACE","\n    ",434],["T_PUBLIC","public",435],["T_WHITESPACE"," ",435],["T_FUNCTION","function",435],["T_WHITESPACE"," ",435],["T_STRING","read",435],"(",["T_VARIABLE","$filename",435],",",["T_WHITESPACE"," ",435],["T_VARIABLE","$dest",435],"=",["T_STRING","null",435],")",["T_WHITESPACE","\n    ",435],"{",["T_WHITESPACE","\n        ",436],["T_IF","if",437],["T_WHITESPACE"," ",437],"(","!",["T_STRING","is_null",437],"(",["T_VARIABLE","$dest",437],")",")",["T_WHITESPACE"," ",437],"{",["T_WHITESPACE","\n            ",437],["T_STRING","chdir",438],"(",["T_VARIABLE","$this",438],["T_OBJECT_OPERATOR","->",438],["T_STRING","_cwd",438],")",";",["T_WHITESPACE","\n            ",438],["T_VARIABLE","$result",439],["T_WHITESPACE"," ",439],"=",["T_WHITESPACE"," ",439],"@",["T_STRING","copy",439],"(",["T_VARIABLE","$filename",439],",",["T_WHITESPACE"," ",439],["T_VARIABLE","$dest",439],")",";",["T_WHITESPACE","\n            ",439],["T_STRING","chdir",440],"(",["T_VARIABLE","$this",440],["T_OBJECT_OPERATOR","->",440],["T_STRING","_iwd",440],")",";",["T_WHITESPACE","\n            ",440],["T_RETURN","return",441],["T_WHITESPACE"," ",441],["T_VARIABLE","$result",441],";",["T_WHITESPACE","\n        ",441],"}",["T_WHITESPACE","\n\n        ",442],["T_STRING","chdir",444],"(",["T_VARIABLE","$this",444],["T_OBJECT_OPERATOR","->",444],["T_STRING","_cwd",444],")",";",["T_WHITESPACE","\n        ",444],["T_VARIABLE","$result",445],["T_WHITESPACE"," ",445],"=",["T_WHITESPACE"," ",445],"@",["T_STRING","file_get_contents",445],"(",["T_VARIABLE","$filename",445],")",";",["T_WHITESPACE","\n        ",445],["T_STRING","chdir",446],"(",["T_VARIABLE","$this",446],["T_OBJECT_OPERATOR","->",446],["T_STRING","_iwd",446],")",";",["T_WHITESPACE","\n\n        ",446],["T_RETURN","return",448],["T_WHITESPACE"," ",448],["T_VARIABLE","$result",448],";",["T_WHITESPACE","\n    ",448],"}",["T_WHITESPACE","\n\n    ",449],["T_DOC_COMMENT","\/**\n     * Write a file from string, file or stream\n     *\n     * @param string $filename\n     * @param string|resource $src\n     * @param int $mode\n     *\n     * @return int|boolean\n     *\/",451],["T_WHITESPACE","\n    ",459],["T_PUBLIC","public",460],["T_WHITESPACE"," ",460],["T_FUNCTION","function",460],["T_WHITESPACE"," ",460],["T_STRING","write",460],"(",["T_VARIABLE","$filename",460],",",["T_WHITESPACE"," ",460],["T_VARIABLE","$src",460],",",["T_WHITESPACE"," ",460],["T_VARIABLE","$mode",460],"=",["T_STRING","null",460],")",["T_WHITESPACE","\n    ",460],"{",["T_WHITESPACE","\n        ",461],["T_IF","if",462],["T_WHITESPACE"," ",462],"(","!",["T_VARIABLE","$this",462],["T_OBJECT_OPERATOR","->",462],["T_STRING","_IsValidSource",462],"(",["T_VARIABLE","$src",462],")",["T_WHITESPACE"," ",462],["T_BOOLEAN_OR","||",462],["T_WHITESPACE"," ",462],"!",["T_VARIABLE","$this",462],["T_OBJECT_OPERATOR","->",462],["T_STRING","_isFilenameWriteable",462],"(",["T_VARIABLE","$filename",462],")",")",["T_WHITESPACE"," ",462],"{",["T_WHITESPACE","\n            ",462],["T_RETURN","return",463],["T_WHITESPACE"," ",463],["T_STRING","false",463],";",["T_WHITESPACE","\n        ",463],"}",["T_WHITESPACE","\n\n        ",464],["T_VARIABLE","$srcIsFile",466],["T_WHITESPACE"," ",466],"=",["T_WHITESPACE"," ",466],["T_VARIABLE","$this",466],["T_OBJECT_OPERATOR","->",466],["T_STRING","_checkSrcIsFile",466],"(",["T_VARIABLE","$src",466],")",";",["T_WHITESPACE","\n        ",466],["T_IF","if",467],["T_WHITESPACE"," ",467],"(",["T_VARIABLE","$srcIsFile",467],")",["T_WHITESPACE"," ",467],"{",["T_WHITESPACE","\n            ",467],["T_VARIABLE","$src",468],["T_WHITESPACE"," ",468],"=",["T_WHITESPACE"," ",468],["T_STRING","realpath",468],"(",["T_VARIABLE","$src",468],")",";",["T_WHITESPACE","\n            ",468],["T_VARIABLE","$result",469],["T_WHITESPACE"," ",469],"=",["T_WHITESPACE"," ",469],["T_VARIABLE","$this",469],["T_OBJECT_OPERATOR","->",469],["T_STRING","cp",469],"(",["T_VARIABLE","$src",469],",",["T_WHITESPACE"," ",469],["T_VARIABLE","$filename",469],")",";",["T_WHITESPACE","\n        ",469],"}",["T_WHITESPACE"," ",470],["T_ELSE","else",470],["T_WHITESPACE"," ",470],"{",["T_WHITESPACE","\n            ",470],["T_VARIABLE","$result",471],["T_WHITESPACE"," ",471],"=",["T_WHITESPACE"," ",471],["T_VARIABLE","$this",471],["T_OBJECT_OPERATOR","->",471],["T_STRING","filePutContent",471],"(",["T_VARIABLE","$filename",471],",",["T_WHITESPACE"," ",471],["T_VARIABLE","$src",471],")",";",["T_WHITESPACE","\n        ",471],"}",["T_WHITESPACE","\n\n        ",472],["T_IF","if",474],["T_WHITESPACE"," ",474],"(","!",["T_STRING","is_null",474],"(",["T_VARIABLE","$mode",474],")",["T_WHITESPACE"," ",474],["T_BOOLEAN_AND","&&",474],["T_WHITESPACE"," ",474],["T_VARIABLE","$result",474],["T_WHITESPACE"," ",474],["T_IS_NOT_IDENTICAL","!==",474],["T_WHITESPACE"," ",474],["T_STRING","false",474],")",["T_WHITESPACE"," ",474],"{",["T_WHITESPACE","\n            ",474],["T_VARIABLE","$this",475],["T_OBJECT_OPERATOR","->",475],["T_STRING","chmod",475],"(",["T_VARIABLE","$filename",475],",",["T_WHITESPACE"," ",475],["T_VARIABLE","$mode",475],")",";",["T_WHITESPACE","\n        ",475],"}",["T_WHITESPACE","\n\n        ",476],["T_RETURN","return",478],["T_WHITESPACE"," ",478],["T_VARIABLE","$result",478],";",["T_WHITESPACE","\n    ",478],"}",["T_WHITESPACE","\n\n    ",479],["T_DOC_COMMENT","\/**\n     * Check source is valid\n     *\n     * @param string|resource $src\n     * @return bool\n     *\/",481],["T_WHITESPACE","\n    ",486],["T_PROTECTED","protected",487],["T_WHITESPACE"," ",487],["T_FUNCTION","function",487],["T_WHITESPACE"," ",487],["T_STRING","_IsValidSource",487],"(",["T_VARIABLE","$src",487],")",["T_WHITESPACE","\n    ",487],"{",["T_WHITESPACE","\n        ",488],["T_IF","if",489],["T_WHITESPACE"," ",489],"(",["T_STRING","is_string",489],"(",["T_VARIABLE","$src",489],")",["T_WHITESPACE"," ",489],["T_BOOLEAN_OR","||",489],["T_WHITESPACE"," ",489],["T_STRING","is_resource",489],"(",["T_VARIABLE","$src",489],")",")",["T_WHITESPACE"," ",489],"{",["T_WHITESPACE","\n            ",489],["T_RETURN","return",490],["T_WHITESPACE"," ",490],["T_STRING","true",490],";",["T_WHITESPACE","\n        ",490],"}",["T_WHITESPACE","\n\n        ",491],["T_RETURN","return",493],["T_WHITESPACE"," ",493],["T_STRING","false",493],";",["T_WHITESPACE","\n    ",493],"}",["T_WHITESPACE","\n\n    ",494],["T_DOC_COMMENT","\/**\n     * Check filename is writeable\n     * If filename not exist check dirname writeable\n     *\n     * @param string $filename\n     * @throws Varien_Io_Exception\n     * @return bool\n     *\/",496],["T_WHITESPACE","\n    ",503],["T_PROTECTED","protected",504],["T_WHITESPACE"," ",504],["T_FUNCTION","function",504],["T_WHITESPACE"," ",504],["T_STRING","_isFilenameWriteable",504],"(",["T_VARIABLE","$filename",504],")",["T_WHITESPACE","\n    ",504],"{",["T_WHITESPACE","\n        ",505],["T_VARIABLE","$error",506],["T_WHITESPACE"," ",506],"=",["T_WHITESPACE"," ",506],["T_STRING","false",506],";",["T_WHITESPACE","\n        ",506],"@",["T_STRING","chdir",507],"(",["T_VARIABLE","$this",507],["T_OBJECT_OPERATOR","->",507],["T_STRING","_cwd",507],")",";",["T_WHITESPACE","\n         ",507],["T_IF","if",508],["T_WHITESPACE"," ",508],"(",["T_STRING","file_exists",508],"(",["T_VARIABLE","$filename",508],")",")",["T_WHITESPACE"," ",508],"{",["T_WHITESPACE","\n            ",508],["T_IF","if",509],["T_WHITESPACE"," ",509],"(","!",["T_STRING","is_writeable",509],"(",["T_VARIABLE","$filename",509],")",")",["T_WHITESPACE"," ",509],"{",["T_WHITESPACE","\n                ",509],["T_VARIABLE","$error",510],["T_WHITESPACE"," ",510],"=",["T_WHITESPACE"," ",510],"\"",["T_ENCAPSED_AND_WHITESPACE","File '",510],["T_CURLY_OPEN","{",510],["T_VARIABLE","$this",510],["T_OBJECT_OPERATOR","->",510],["T_STRING","getFilteredPath",510],"(",["T_VARIABLE","$filename",510],")","}",["T_ENCAPSED_AND_WHITESPACE","' isn't writeable",510],"\"",";",["T_WHITESPACE","\n            ",510],"}",["T_WHITESPACE","\n        ",511],"}",["T_WHITESPACE"," ",512],["T_ELSE","else",512],["T_WHITESPACE"," ",512],"{",["T_WHITESPACE","\n            ",512],["T_VARIABLE","$folder",513],["T_WHITESPACE"," ",513],"=",["T_WHITESPACE"," ",513],["T_STRING","dirname",513],"(",["T_VARIABLE","$filename",513],")",";",["T_WHITESPACE","\n            ",513],["T_IF","if",514],["T_WHITESPACE"," ",514],"(","!",["T_STRING","is_writable",514],"(",["T_VARIABLE","$folder",514],")",")",["T_WHITESPACE"," ",514],"{",["T_WHITESPACE","\n                ",514],["T_VARIABLE","$error",515],["T_WHITESPACE"," ",515],"=",["T_WHITESPACE"," ",515],"\"",["T_ENCAPSED_AND_WHITESPACE","Folder '",515],["T_CURLY_OPEN","{",515],["T_VARIABLE","$this",515],["T_OBJECT_OPERATOR","->",515],["T_STRING","getFilteredPath",515],"(",["T_VARIABLE","$folder",515],")","}",["T_ENCAPSED_AND_WHITESPACE","' isn't writeable",515],"\"",";",["T_WHITESPACE","\n            ",515],"}",["T_WHITESPACE","\n        ",516],"}",["T_WHITESPACE","\n        ",517],"@",["T_STRING","chdir",518],"(",["T_VARIABLE","$this",518],["T_OBJECT_OPERATOR","->",518],["T_STRING","_iwd",518],")",";",["T_WHITESPACE","\n\n        ",518],["T_IF","if",520],["T_WHITESPACE"," ",520],"(",["T_VARIABLE","$error",520],")",["T_WHITESPACE"," ",520],"{",["T_WHITESPACE","\n            ",520],["T_THROW","throw",521],["T_WHITESPACE"," ",521],["T_NEW","new",521],["T_WHITESPACE"," ",521],["T_STRING","Varien_Io_Exception",521],"(",["T_VARIABLE","$error",521],")",";",["T_WHITESPACE","\n        ",521],"}",["T_WHITESPACE","\n        ",522],["T_RETURN","return",523],["T_WHITESPACE"," ",523],["T_STRING","true",523],";",["T_WHITESPACE","\n    ",523],"}",["T_WHITESPACE","\n\n    ",524],["T_DOC_COMMENT","\/**\n     * Check source is file\n     *\n     * @param string $src\n     * @return bool\n     *\/",526],["T_WHITESPACE","\n    ",531],["T_PROTECTED","protected",532],["T_WHITESPACE"," ",532],["T_FUNCTION","function",532],["T_WHITESPACE"," ",532],["T_STRING","_checkSrcIsFile",532],"(",["T_VARIABLE","$src",532],")",["T_WHITESPACE","\n    ",532],"{",["T_WHITESPACE","\n        ",533],["T_VARIABLE","$result",534],["T_WHITESPACE"," ",534],"=",["T_WHITESPACE"," ",534],["T_STRING","false",534],";",["T_WHITESPACE","\n        ",534],["T_IF","if",535],["T_WHITESPACE"," ",535],"(",["T_STRING","is_string",535],"(",["T_VARIABLE","$src",535],")",["T_WHITESPACE"," ",535],["T_BOOLEAN_AND","&&",535],["T_WHITESPACE"," ",535],["T_STRING","is_readable",535],"(",["T_VARIABLE","$src",535],")",["T_WHITESPACE"," ",535],["T_BOOLEAN_AND","&&",535],["T_WHITESPACE"," ",535],["T_STRING","is_file",535],"(",["T_VARIABLE","$src",535],")",")",["T_WHITESPACE"," ",535],"{",["T_WHITESPACE","\n            ",535],["T_VARIABLE","$result",536],["T_WHITESPACE"," ",536],"=",["T_WHITESPACE"," ",536],["T_STRING","true",536],";",["T_WHITESPACE","\n        ",536],"}",["T_WHITESPACE","\n\n        ",537],["T_RETURN","return",539],["T_WHITESPACE"," ",539],["T_VARIABLE","$result",539],";",["T_WHITESPACE","\n    ",539],"}",["T_WHITESPACE","\n\n    ",540],["T_DOC_COMMENT","\/**\n     * File put content wrapper\n     *\n     * @param string $filename\n     * @param srting|resource $src\n     *\n     * @return int\n     *\/",542],["T_WHITESPACE","\n    ",549],["T_PUBLIC","public",550],["T_WHITESPACE"," ",550],["T_FUNCTION","function",550],["T_WHITESPACE"," ",550],["T_STRING","filePutContent",550],"(",["T_VARIABLE","$filename",550],",",["T_WHITESPACE"," ",550],["T_VARIABLE","$src",550],")",["T_WHITESPACE","\n    ",550],"{",["T_WHITESPACE","\n        ",551],"@",["T_STRING","chdir",552],"(",["T_VARIABLE","$this",552],["T_OBJECT_OPERATOR","->",552],["T_STRING","_cwd",552],")",";",["T_WHITESPACE","\n        ",552],["T_VARIABLE","$result",553],["T_WHITESPACE"," ",553],"=",["T_WHITESPACE"," ",553],"@",["T_STRING","file_put_contents",553],"(",["T_VARIABLE","$filename",553],",",["T_WHITESPACE"," ",553],["T_VARIABLE","$src",553],")",";",["T_WHITESPACE","\n        ",553],["T_STRING","chdir",554],"(",["T_VARIABLE","$this",554],["T_OBJECT_OPERATOR","->",554],["T_STRING","_iwd",554],")",";",["T_WHITESPACE","\n\n        ",554],["T_RETURN","return",556],["T_WHITESPACE"," ",556],["T_VARIABLE","$result",556],";",["T_WHITESPACE","\n    ",556],"}",["T_WHITESPACE","\n\n    ",557],["T_PUBLIC","public",559],["T_WHITESPACE"," ",559],["T_FUNCTION","function",559],["T_WHITESPACE"," ",559],["T_STRING","fileExists",559],"(",["T_VARIABLE","$file",559],",",["T_WHITESPACE"," ",559],["T_VARIABLE","$onlyFile",559],["T_WHITESPACE"," ",559],"=",["T_WHITESPACE"," ",559],["T_STRING","true",559],")",["T_WHITESPACE","\n    ",559],"{",["T_WHITESPACE","\n        ",560],"@",["T_STRING","chdir",561],"(",["T_VARIABLE","$this",561],["T_OBJECT_OPERATOR","->",561],["T_STRING","_cwd",561],")",";",["T_WHITESPACE","\n        ",561],["T_VARIABLE","$result",562],["T_WHITESPACE"," ",562],"=",["T_WHITESPACE"," ",562],["T_STRING","file_exists",562],"(",["T_VARIABLE","$file",562],")",";",["T_WHITESPACE","\n        ",562],["T_IF","if",563],["T_WHITESPACE"," ",563],"(",["T_VARIABLE","$result",563],["T_WHITESPACE"," ",563],["T_BOOLEAN_AND","&&",563],["T_WHITESPACE"," ",563],["T_VARIABLE","$onlyFile",563],")",["T_WHITESPACE"," ",563],"{",["T_WHITESPACE","\n            ",563],["T_VARIABLE","$result",564],["T_WHITESPACE"," ",564],"=",["T_WHITESPACE"," ",564],["T_STRING","is_file",564],"(",["T_VARIABLE","$file",564],")",";",["T_WHITESPACE","\n        ",564],"}",["T_WHITESPACE","\n        ",565],"@",["T_STRING","chdir",566],"(",["T_VARIABLE","$this",566],["T_OBJECT_OPERATOR","->",566],["T_STRING","_iwd",566],")",";",["T_WHITESPACE","\n        ",566],["T_RETURN","return",567],["T_WHITESPACE"," ",567],["T_VARIABLE","$result",567],";",["T_WHITESPACE","\n    ",567],"}",["T_WHITESPACE","\n\n    ",568],["T_PUBLIC","public",570],["T_WHITESPACE"," ",570],["T_FUNCTION","function",570],["T_WHITESPACE"," ",570],["T_STRING","isWriteable",570],"(",["T_VARIABLE","$path",570],")",["T_WHITESPACE","\n    ",570],"{",["T_WHITESPACE","\n        ",571],"@",["T_STRING","chdir",572],"(",["T_VARIABLE","$this",572],["T_OBJECT_OPERATOR","->",572],["T_STRING","_cwd",572],")",";",["T_WHITESPACE","\n        ",572],["T_VARIABLE","$result",573],["T_WHITESPACE"," ",573],"=",["T_WHITESPACE"," ",573],["T_STRING","is_writeable",573],"(",["T_VARIABLE","$path",573],")",";",["T_WHITESPACE","\n        ",573],"@",["T_STRING","chdir",574],"(",["T_VARIABLE","$this",574],["T_OBJECT_OPERATOR","->",574],["T_STRING","_iwd",574],")",";",["T_WHITESPACE","\n        ",574],["T_RETURN","return",575],["T_WHITESPACE"," ",575],["T_VARIABLE","$result",575],";",["T_WHITESPACE","\n    ",575],"}",["T_WHITESPACE","\n\n    ",576],["T_PUBLIC","public",578],["T_WHITESPACE"," ",578],["T_FUNCTION","function",578],["T_WHITESPACE"," ",578],["T_STRING","getDestinationFolder",578],"(",["T_VARIABLE","$filepath",578],")",["T_WHITESPACE","\n    ",578],"{",["T_WHITESPACE","\n        ",579],["T_STRING","preg_match",580],"(",["T_CONSTANT_ENCAPSED_STRING","'\/^(.*[!\\\/])\/'",580],",",["T_WHITESPACE"," ",580],["T_VARIABLE","$filepath",580],",",["T_WHITESPACE"," ",580],["T_VARIABLE","$mathces",580],")",";",["T_WHITESPACE","\n        ",580],["T_IF","if",581],["T_WHITESPACE"," ",581],"(",["T_ISSET","isset",581],"(",["T_VARIABLE","$mathces",581],"[",["T_LNUMBER","0",581],"]",")",")",["T_WHITESPACE"," ",581],"{",["T_WHITESPACE","\n            ",581],["T_RETURN","return",582],["T_WHITESPACE"," ",582],["T_VARIABLE","$mathces",582],"[",["T_LNUMBER","0",582],"]",";",["T_WHITESPACE","\n        ",582],"}",["T_WHITESPACE","\n        ",583],["T_RETURN","return",584],["T_WHITESPACE"," ",584],["T_STRING","false",584],";",["T_WHITESPACE","\n    ",584],"}",["T_WHITESPACE","\n\n    ",585],["T_DOC_COMMENT","\/**\n     * Create destination folder\n     *\n     * @param string $path\n     * @return Varien_Io_File\n     *\/",587],["T_WHITESPACE","\n    ",592],["T_PUBLIC","public",593],["T_WHITESPACE"," ",593],["T_FUNCTION","function",593],["T_WHITESPACE"," ",593],["T_STRING","createDestinationDir",593],"(",["T_VARIABLE","$path",593],")",["T_WHITESPACE","\n    ",593],"{",["T_WHITESPACE","\n        ",594],["T_IF","if",595],["T_WHITESPACE"," ",595],"(","!",["T_VARIABLE","$this",595],["T_OBJECT_OPERATOR","->",595],["T_STRING","_allowCreateFolders",595],")",["T_WHITESPACE"," ",595],"{",["T_WHITESPACE","\n            ",595],["T_RETURN","return",596],["T_WHITESPACE"," ",596],["T_STRING","false",596],";",["T_WHITESPACE","\n        ",596],"}",["T_WHITESPACE","\n        ",597],["T_RETURN","return",598],["T_WHITESPACE"," ",598],["T_VARIABLE","$this",598],["T_OBJECT_OPERATOR","->",598],["T_STRING","checkAndCreateFolder",598],"(",["T_VARIABLE","$this",598],["T_OBJECT_OPERATOR","->",598],["T_STRING","getCleanPath",598],"(",["T_VARIABLE","$path",598],")",")",";",["T_WHITESPACE","\n    ",598],"}",["T_WHITESPACE","\n\n    ",599],["T_DOC_COMMENT","\/**\n     * Check and create if not exists folder\n     *\n     * @param string $folder\n     * @param int $mode\n     * @throws Exception\n     * @return bool\n     *\/",601],["T_WHITESPACE","\n    ",608],["T_PUBLIC","public",609],["T_WHITESPACE"," ",609],["T_FUNCTION","function",609],["T_WHITESPACE"," ",609],["T_STRING","checkAndCreateFolder",609],"(",["T_VARIABLE","$folder",609],",",["T_WHITESPACE"," ",609],["T_VARIABLE","$mode",609],["T_WHITESPACE"," ",609],"=",["T_WHITESPACE"," ",609],["T_LNUMBER","0777",609],")",["T_WHITESPACE","\n    ",609],"{",["T_WHITESPACE","\n        ",610],["T_IF","if",611],["T_WHITESPACE"," ",611],"(",["T_STRING","is_dir",611],"(",["T_VARIABLE","$folder",611],")",")",["T_WHITESPACE"," ",611],"{",["T_WHITESPACE","\n            ",611],["T_RETURN","return",612],["T_WHITESPACE"," ",612],["T_STRING","true",612],";",["T_WHITESPACE","\n        ",612],"}",["T_WHITESPACE","\n        ",613],["T_IF","if",614],["T_WHITESPACE"," ",614],"(","!",["T_STRING","is_dir",614],"(",["T_STRING","dirname",614],"(",["T_VARIABLE","$folder",614],")",")",")",["T_WHITESPACE"," ",614],"{",["T_WHITESPACE","\n            ",614],["T_VARIABLE","$this",615],["T_OBJECT_OPERATOR","->",615],["T_STRING","checkAndCreateFolder",615],"(",["T_STRING","dirname",615],"(",["T_VARIABLE","$folder",615],")",",",["T_WHITESPACE"," ",615],["T_VARIABLE","$mode",615],")",";",["T_WHITESPACE","\n        ",615],"}",["T_WHITESPACE","\n        ",616],["T_IF","if",617],["T_WHITESPACE"," ",617],"(","!",["T_STRING","is_dir",617],"(",["T_VARIABLE","$folder",617],")",["T_WHITESPACE"," ",617],["T_BOOLEAN_AND","&&",617],["T_WHITESPACE"," ",617],"!",["T_VARIABLE","$this",617],["T_OBJECT_OPERATOR","->",617],["T_STRING","mkdir",617],"(",["T_VARIABLE","$folder",617],",",["T_WHITESPACE"," ",617],["T_VARIABLE","$mode",617],")",")",["T_WHITESPACE"," ",617],"{",["T_WHITESPACE","\n            ",617],["T_THROW","throw",618],["T_WHITESPACE"," ",618],["T_NEW","new",618],["T_WHITESPACE"," ",618],["T_STRING","Exception",618],"(","\"",["T_ENCAPSED_AND_WHITESPACE","Unable to create directory '",618],["T_CURLY_OPEN","{",618],["T_VARIABLE","$this",618],["T_OBJECT_OPERATOR","->",618],["T_STRING","getFilteredPath",618],"(",["T_VARIABLE","$folder",618],")","}",["T_ENCAPSED_AND_WHITESPACE","'. Access forbidden.",618],"\"",")",";",["T_WHITESPACE","\n        ",618],"}",["T_WHITESPACE","\n        ",619],["T_RETURN","return",620],["T_WHITESPACE"," ",620],["T_STRING","true",620],";",["T_WHITESPACE","\n    ",620],"}",["T_WHITESPACE","\n\n    ",621],["T_DOC_COMMENT","\/**\n     * Delete a file\n     *\n     * @param string $filename\n     * @return boolean\n     *\/",623],["T_WHITESPACE","\n    ",628],["T_PUBLIC","public",629],["T_WHITESPACE"," ",629],["T_FUNCTION","function",629],["T_WHITESPACE"," ",629],["T_STRING","rm",629],"(",["T_VARIABLE","$filename",629],")",["T_WHITESPACE","\n    ",629],"{",["T_WHITESPACE","\n        ",630],"@",["T_STRING","chdir",631],"(",["T_VARIABLE","$this",631],["T_OBJECT_OPERATOR","->",631],["T_STRING","_cwd",631],")",";",["T_WHITESPACE","\n        ",631],["T_VARIABLE","$result",632],["T_WHITESPACE"," ",632],"=",["T_WHITESPACE"," ",632],"@",["T_STRING","unlink",632],"(",["T_VARIABLE","$filename",632],")",";",["T_WHITESPACE","\n        ",632],"@",["T_STRING","chdir",633],"(",["T_VARIABLE","$this",633],["T_OBJECT_OPERATOR","->",633],["T_STRING","_iwd",633],")",";",["T_WHITESPACE","\n        ",633],["T_RETURN","return",634],["T_WHITESPACE"," ",634],["T_VARIABLE","$result",634],";",["T_WHITESPACE","\n    ",634],"}",["T_WHITESPACE","\n\n    ",635],["T_DOC_COMMENT","\/**\n     * Rename or move a directory or a file\n     *\n     * @param string $src\n     * @param string $dest\n     * @return boolean\n     *\/",637],["T_WHITESPACE","\n    ",643],["T_PUBLIC","public",644],["T_WHITESPACE"," ",644],["T_FUNCTION","function",644],["T_WHITESPACE"," ",644],["T_STRING","mv",644],"(",["T_VARIABLE","$src",644],",",["T_WHITESPACE"," ",644],["T_VARIABLE","$dest",644],")",["T_WHITESPACE","\n    ",644],"{",["T_WHITESPACE","\n        ",645],["T_STRING","chdir",646],"(",["T_VARIABLE","$this",646],["T_OBJECT_OPERATOR","->",646],["T_STRING","_cwd",646],")",";",["T_WHITESPACE","\n        ",646],["T_VARIABLE","$result",647],["T_WHITESPACE"," ",647],"=",["T_WHITESPACE"," ",647],"@",["T_STRING","rename",647],"(",["T_VARIABLE","$src",647],",",["T_WHITESPACE"," ",647],["T_VARIABLE","$dest",647],")",";",["T_WHITESPACE","\n        ",647],["T_STRING","chdir",648],"(",["T_VARIABLE","$this",648],["T_OBJECT_OPERATOR","->",648],["T_STRING","_iwd",648],")",";",["T_WHITESPACE","\n        ",648],["T_RETURN","return",649],["T_WHITESPACE"," ",649],["T_VARIABLE","$result",649],";",["T_WHITESPACE","\n    ",649],"}",["T_WHITESPACE","\n\n    ",650],["T_DOC_COMMENT","\/**\n     * Copy a file\n     *\n     * @param string $src\n     * @param string $dest\n     * @return boolean\n     *\/",652],["T_WHITESPACE","\n    ",658],["T_PUBLIC","public",659],["T_WHITESPACE"," ",659],["T_FUNCTION","function",659],["T_WHITESPACE"," ",659],["T_STRING","cp",659],"(",["T_VARIABLE","$src",659],",",["T_WHITESPACE"," ",659],["T_VARIABLE","$dest",659],")",["T_WHITESPACE","\n    ",659],"{",["T_WHITESPACE","\n        ",660],"@",["T_STRING","chdir",661],"(",["T_VARIABLE","$this",661],["T_OBJECT_OPERATOR","->",661],["T_STRING","_cwd",661],")",";",["T_WHITESPACE","\n        ",661],["T_VARIABLE","$result",662],["T_WHITESPACE"," ",662],"=",["T_WHITESPACE"," ",662],"@",["T_STRING","copy",662],"(",["T_VARIABLE","$src",662],",",["T_WHITESPACE"," ",662],["T_VARIABLE","$dest",662],")",";",["T_WHITESPACE","\n        ",662],"@",["T_STRING","chdir",663],"(",["T_VARIABLE","$this",663],["T_OBJECT_OPERATOR","->",663],["T_STRING","_iwd",663],")",";",["T_WHITESPACE","\n        ",663],["T_RETURN","return",664],["T_WHITESPACE"," ",664],["T_VARIABLE","$result",664],";",["T_WHITESPACE","\n    ",664],"}",["T_WHITESPACE","\n\n    ",665],["T_DOC_COMMENT","\/**\n     * Change mode of a directory or a file\n     *\n     * @param string $filename\n     * @param int $mode\n     * @return boolean\n     *\/",667],["T_WHITESPACE","\n    ",673],["T_PUBLIC","public",674],["T_WHITESPACE"," ",674],["T_FUNCTION","function",674],["T_WHITESPACE"," ",674],["T_STRING","chmod",674],"(",["T_VARIABLE","$filename",674],",",["T_WHITESPACE"," ",674],["T_VARIABLE","$mode",674],")",["T_WHITESPACE","\n    ",674],"{",["T_WHITESPACE","\n        ",675],["T_IF","if",676],["T_WHITESPACE"," ",676],"(",["T_VARIABLE","$this",676],["T_OBJECT_OPERATOR","->",676],["T_STRING","_cwd",676],")",["T_WHITESPACE"," ",676],"{",["T_WHITESPACE","\n            ",676],["T_STRING","chdir",677],"(",["T_VARIABLE","$this",677],["T_OBJECT_OPERATOR","->",677],["T_STRING","_cwd",677],")",";",["T_WHITESPACE","\n        ",677],"}",["T_WHITESPACE","\n        ",678],["T_VARIABLE","$result",679],["T_WHITESPACE"," ",679],"=",["T_WHITESPACE"," ",679],"@",["T_STRING","chmod",679],"(",["T_VARIABLE","$filename",679],",",["T_WHITESPACE"," ",679],["T_VARIABLE","$mode",679],")",";",["T_WHITESPACE","\n        ",679],["T_IF","if",680],["T_WHITESPACE"," ",680],"(",["T_VARIABLE","$this",680],["T_OBJECT_OPERATOR","->",680],["T_STRING","_iwd",680],")",["T_WHITESPACE"," ",680],"{",["T_WHITESPACE","\n            ",680],["T_STRING","chdir",681],"(",["T_VARIABLE","$this",681],["T_OBJECT_OPERATOR","->",681],["T_STRING","_iwd",681],")",";",["T_WHITESPACE","\n        ",681],"}",["T_WHITESPACE","\n        ",682],["T_RETURN","return",683],["T_WHITESPACE"," ",683],["T_VARIABLE","$result",683],";",["T_WHITESPACE","\n    ",683],"}",["T_WHITESPACE","\n\n    ",684],["T_DOC_COMMENT","\/**\n     * Get list of cwd subdirectories and files\n     *\n     * Suggestions (from moshe):\n     * - Use filemtime instead of filectime for performance\n     * - Change $grep to $flags and use binary flags\n     *   - LS_DIRS  = 1\n     *   - LS_FILES = 2\n     *   - LS_ALL   = 3\n     *\n     * @param Varien_Io_File const\n     * @access public\n     * @return array\n     *\/",686],["T_WHITESPACE","\n    ",699],["T_PUBLIC","public",700],["T_WHITESPACE"," ",700],["T_FUNCTION","function",700],["T_WHITESPACE"," ",700],["T_STRING","ls",700],"(",["T_VARIABLE","$grep",700],"=",["T_STRING","null",700],")",["T_WHITESPACE","\n    ",700],"{",["T_WHITESPACE","\n        ",701],["T_VARIABLE","$ignoredDirectories",702],["T_WHITESPACE"," ",702],"=",["T_WHITESPACE"," ",702],["T_ARRAY","Array",702],"(",["T_CONSTANT_ENCAPSED_STRING","'.'",702],",",["T_WHITESPACE"," ",702],["T_CONSTANT_ENCAPSED_STRING","'..'",702],")",";",["T_WHITESPACE","\n\n        ",702],["T_IF","if",704],"(",["T_WHITESPACE"," ",704],["T_STRING","is_dir",704],"(",["T_VARIABLE","$this",704],["T_OBJECT_OPERATOR","->",704],["T_STRING","_cwd",704],")",["T_WHITESPACE"," ",704],")",["T_WHITESPACE"," ",704],"{",["T_WHITESPACE","\n            ",704],["T_VARIABLE","$dir",705],["T_WHITESPACE"," ",705],"=",["T_WHITESPACE"," ",705],["T_VARIABLE","$this",705],["T_OBJECT_OPERATOR","->",705],["T_STRING","_cwd",705],";",["T_WHITESPACE","\n        ",705],"}",["T_WHITESPACE"," ",706],["T_ELSEIF","elseif",706],"(",["T_WHITESPACE"," ",706],["T_STRING","is_dir",706],"(",["T_VARIABLE","$this",706],["T_OBJECT_OPERATOR","->",706],["T_STRING","_iwd",706],")",["T_WHITESPACE"," ",706],")",["T_WHITESPACE"," ",706],"{",["T_WHITESPACE","\n            ",706],["T_VARIABLE","$dir",707],["T_WHITESPACE"," ",707],"=",["T_WHITESPACE"," ",707],["T_VARIABLE","$this",707],["T_OBJECT_OPERATOR","->",707],["T_STRING","_iwd",707],";",["T_WHITESPACE","\n        ",707],"}",["T_WHITESPACE"," ",708],["T_ELSE","else",708],["T_WHITESPACE"," ",708],"{",["T_WHITESPACE","\n            ",708],["T_THROW","throw",709],["T_WHITESPACE"," ",709],["T_NEW","new",709],["T_WHITESPACE"," ",709],["T_STRING","Exception",709],"(",["T_CONSTANT_ENCAPSED_STRING","'Unable to list current working directory.'",709],")",";",["T_WHITESPACE","\n        ",709],"}",["T_WHITESPACE","\n\n        ",710],["T_VARIABLE","$list",712],["T_WHITESPACE"," ",712],"=",["T_WHITESPACE"," ",712],["T_ARRAY","Array",712],"(",")",";",["T_WHITESPACE","\n\n        ",712],["T_IF","if",714],["T_WHITESPACE"," ",714],"(",["T_VARIABLE","$dh",714],["T_WHITESPACE"," ",714],"=",["T_WHITESPACE"," ",714],["T_STRING","opendir",714],"(",["T_VARIABLE","$dir",714],")",")",["T_WHITESPACE"," ",714],"{",["T_WHITESPACE","\n            ",714],["T_WHILE","while",715],["T_WHITESPACE"," ",715],"(","(",["T_VARIABLE","$entry",715],["T_WHITESPACE"," ",715],"=",["T_WHITESPACE"," ",715],["T_STRING","readdir",715],"(",["T_VARIABLE","$dh",715],")",")",["T_WHITESPACE"," ",715],["T_IS_NOT_IDENTICAL","!==",715],["T_WHITESPACE"," ",715],["T_STRING","false",715],")",["T_WHITESPACE"," ",715],"{",["T_WHITESPACE","\n                ",715],["T_VARIABLE","$list_item",716],["T_WHITESPACE"," ",716],"=",["T_WHITESPACE"," ",716],["T_ARRAY","Array",716],"(",")",";",["T_WHITESPACE","\n\n                ",716],["T_VARIABLE","$fullpath",718],["T_WHITESPACE"," ",718],"=",["T_WHITESPACE"," ",718],["T_VARIABLE","$dir",718],["T_WHITESPACE"," ",718],".",["T_WHITESPACE"," ",718],["T_STRING","DIRECTORY_SEPARATOR",718],["T_WHITESPACE"," ",718],".",["T_WHITESPACE"," ",718],["T_VARIABLE","$entry",718],";",["T_WHITESPACE","\n\n                ",718],["T_IF","if",720],"(",["T_WHITESPACE"," ",720],"(",["T_VARIABLE","$grep",720],["T_WHITESPACE"," ",720],["T_IS_EQUAL","==",720],["T_WHITESPACE"," ",720],["T_STRING","self",720],["T_DOUBLE_COLON","::",720],["T_STRING","GREP_DIRS",720],")",["T_WHITESPACE"," ",720],["T_BOOLEAN_AND","&&",720],["T_WHITESPACE"," ",720],"(","!",["T_STRING","is_dir",720],"(",["T_VARIABLE","$fullpath",720],")",")",["T_WHITESPACE"," ",720],")",["T_WHITESPACE"," ",720],"{",["T_WHITESPACE","\n                    ",720],["T_CONTINUE","continue",721],";",["T_WHITESPACE","\n                ",721],"}",["T_WHITESPACE"," ",722],["T_ELSEIF","elseif",722],"(",["T_WHITESPACE"," ",722],"(",["T_VARIABLE","$grep",722],["T_WHITESPACE"," ",722],["T_IS_EQUAL","==",722],["T_WHITESPACE"," ",722],["T_STRING","self",722],["T_DOUBLE_COLON","::",722],["T_STRING","GREP_FILES",722],")",["T_WHITESPACE"," ",722],["T_BOOLEAN_AND","&&",722],["T_WHITESPACE"," ",722],"(","!",["T_STRING","is_file",722],"(",["T_VARIABLE","$fullpath",722],")",")",["T_WHITESPACE"," ",722],")",["T_WHITESPACE"," ",722],"{",["T_WHITESPACE","\n                    ",722],["T_CONTINUE","continue",723],";",["T_WHITESPACE","\n                ",723],"}",["T_WHITESPACE"," ",724],["T_ELSEIF","elseif",724],"(",["T_WHITESPACE"," ",724],["T_STRING","in_array",724],"(",["T_VARIABLE","$entry",724],",",["T_WHITESPACE"," ",724],["T_VARIABLE","$ignoredDirectories",724],")",["T_WHITESPACE"," ",724],")",["T_WHITESPACE"," ",724],"{",["T_WHITESPACE","\n                    ",724],["T_CONTINUE","continue",725],";",["T_WHITESPACE","\n                ",725],"}",["T_WHITESPACE","\n\n                ",726],["T_VARIABLE","$list_item",728],"[",["T_CONSTANT_ENCAPSED_STRING","'text'",728],"]",["T_WHITESPACE"," ",728],"=",["T_WHITESPACE"," ",728],["T_VARIABLE","$entry",728],";",["T_WHITESPACE","\n                ",728],["T_VARIABLE","$list_item",729],"[",["T_CONSTANT_ENCAPSED_STRING","'mod_date'",729],"]",["T_WHITESPACE"," ",729],"=",["T_WHITESPACE"," ",729],["T_STRING","date",729],["T_WHITESPACE"," ",729],"(",["T_CONSTANT_ENCAPSED_STRING","'Y-m-d H:i:s'",729],",",["T_WHITESPACE"," ",729],["T_STRING","filectime",729],"(",["T_VARIABLE","$fullpath",729],")",")",";",["T_WHITESPACE","\n                ",729],["T_VARIABLE","$list_item",730],"[",["T_CONSTANT_ENCAPSED_STRING","'permissions'",730],"]",["T_WHITESPACE"," ",730],"=",["T_WHITESPACE"," ",730],["T_VARIABLE","$this",730],["T_OBJECT_OPERATOR","->",730],["T_STRING","_parsePermissions",730],"(",["T_STRING","fileperms",730],"(",["T_VARIABLE","$fullpath",730],")",")",";",["T_WHITESPACE","\n                ",730],["T_VARIABLE","$list_item",731],"[",["T_CONSTANT_ENCAPSED_STRING","'owner'",731],"]",["T_WHITESPACE"," ",731],"=",["T_WHITESPACE"," ",731],["T_VARIABLE","$this",731],["T_OBJECT_OPERATOR","->",731],["T_STRING","_getFileOwner",731],"(",["T_VARIABLE","$fullpath",731],")",";",["T_WHITESPACE","\n\n                ",731],["T_IF","if",733],"(",["T_WHITESPACE"," ",733],["T_STRING","is_file",733],"(",["T_VARIABLE","$fullpath",733],")",["T_WHITESPACE"," ",733],")",["T_WHITESPACE"," ",733],"{",["T_WHITESPACE","\n                    ",733],["T_VARIABLE","$pathinfo",734],["T_WHITESPACE"," ",734],"=",["T_WHITESPACE"," ",734],["T_STRING","pathinfo",734],"(",["T_VARIABLE","$fullpath",734],")",";",["T_WHITESPACE","\n                    ",734],["T_VARIABLE","$list_item",735],"[",["T_CONSTANT_ENCAPSED_STRING","'size'",735],"]",["T_WHITESPACE"," ",735],"=",["T_WHITESPACE"," ",735],["T_STRING","filesize",735],"(",["T_VARIABLE","$fullpath",735],")",";",["T_WHITESPACE","\n                    ",735],["T_VARIABLE","$list_item",736],"[",["T_CONSTANT_ENCAPSED_STRING","'leaf'",736],"]",["T_WHITESPACE"," ",736],"=",["T_WHITESPACE"," ",736],["T_STRING","true",736],";",["T_WHITESPACE","\n                    ",736],["T_IF","if",737],"(",["T_WHITESPACE"," ",737],["T_ISSET","isset",737],"(",["T_VARIABLE","$pathinfo",737],"[",["T_CONSTANT_ENCAPSED_STRING","'extension'",737],"]",")",["T_WHITESPACE","\n                        ",737],["T_BOOLEAN_AND","&&",738],["T_WHITESPACE"," ",738],["T_STRING","in_array",738],"(",["T_STRING","strtolower",738],"(",["T_VARIABLE","$pathinfo",738],"[",["T_CONSTANT_ENCAPSED_STRING","'extension'",738],"]",")",",",["T_WHITESPACE"," ",738],["T_ARRAY","Array",738],"(",["T_CONSTANT_ENCAPSED_STRING","'jpg'",738],",",["T_WHITESPACE"," ",738],["T_CONSTANT_ENCAPSED_STRING","'jpeg'",738],",",["T_WHITESPACE"," ",738],["T_CONSTANT_ENCAPSED_STRING","'gif'",738],",",["T_WHITESPACE"," ",738],["T_CONSTANT_ENCAPSED_STRING","'bmp'",738],",",["T_WHITESPACE"," ",738],["T_CONSTANT_ENCAPSED_STRING","'png'",738],")",")",["T_WHITESPACE","\n                        ",738],["T_BOOLEAN_AND","&&",739],["T_WHITESPACE"," ",739],["T_VARIABLE","$list_item",739],"[",["T_CONSTANT_ENCAPSED_STRING","'size'",739],"]",["T_WHITESPACE"," ",739],">",["T_WHITESPACE"," ",739],["T_LNUMBER","0",739],["T_WHITESPACE","\n                    ",739],")",["T_WHITESPACE"," ",740],"{",["T_WHITESPACE","\n                        ",740],["T_VARIABLE","$list_item",741],"[",["T_CONSTANT_ENCAPSED_STRING","'is_image'",741],"]",["T_WHITESPACE"," ",741],"=",["T_WHITESPACE"," ",741],["T_STRING","true",741],";",["T_WHITESPACE","\n                        ",741],["T_VARIABLE","$list_item",742],"[",["T_CONSTANT_ENCAPSED_STRING","'filetype'",742],"]",["T_WHITESPACE"," ",742],"=",["T_WHITESPACE"," ",742],["T_VARIABLE","$pathinfo",742],"[",["T_CONSTANT_ENCAPSED_STRING","'extension'",742],"]",";",["T_WHITESPACE","\n                    ",742],"}",["T_WHITESPACE"," ",743],["T_ELSEIF","elseif",743],"(",["T_WHITESPACE"," ",743],["T_VARIABLE","$list_item",743],"[",["T_CONSTANT_ENCAPSED_STRING","'size'",743],"]",["T_WHITESPACE"," ",743],["T_IS_EQUAL","==",743],["T_WHITESPACE"," ",743],["T_LNUMBER","0",743],["T_WHITESPACE"," ",743],")",["T_WHITESPACE"," ",743],"{",["T_WHITESPACE","\n                        ",743],["T_VARIABLE","$list_item",744],"[",["T_CONSTANT_ENCAPSED_STRING","'is_image'",744],"]",["T_WHITESPACE"," ",744],"=",["T_WHITESPACE"," ",744],["T_STRING","false",744],";",["T_WHITESPACE","\n                        ",744],["T_VARIABLE","$list_item",745],"[",["T_CONSTANT_ENCAPSED_STRING","'filetype'",745],"]",["T_WHITESPACE"," ",745],"=",["T_WHITESPACE"," ",745],["T_CONSTANT_ENCAPSED_STRING","'unknown'",745],";",["T_WHITESPACE","\n                    ",745],"}",["T_WHITESPACE"," ",746],["T_ELSEIF","elseif",746],"(",["T_WHITESPACE"," ",746],["T_ISSET","isset",746],"(",["T_VARIABLE","$pathinfo",746],"[",["T_CONSTANT_ENCAPSED_STRING","'extension'",746],"]",")",["T_WHITESPACE"," ",746],")",["T_WHITESPACE"," ",746],"{",["T_WHITESPACE","\n                        ",746],["T_VARIABLE","$list_item",747],"[",["T_CONSTANT_ENCAPSED_STRING","'is_image'",747],"]",["T_WHITESPACE"," ",747],"=",["T_WHITESPACE"," ",747],["T_STRING","false",747],";",["T_WHITESPACE","\n                        ",747],["T_VARIABLE","$list_item",748],"[",["T_CONSTANT_ENCAPSED_STRING","'filetype'",748],"]",["T_WHITESPACE"," ",748],"=",["T_WHITESPACE"," ",748],["T_VARIABLE","$pathinfo",748],"[",["T_CONSTANT_ENCAPSED_STRING","'extension'",748],"]",";",["T_WHITESPACE","\n                    ",748],"}",["T_WHITESPACE"," ",749],["T_ELSE","else",749],["T_WHITESPACE"," ",749],"{",["T_WHITESPACE","\n                        ",749],["T_VARIABLE","$list_item",750],"[",["T_CONSTANT_ENCAPSED_STRING","'is_image'",750],"]",["T_WHITESPACE"," ",750],"=",["T_WHITESPACE"," ",750],["T_STRING","false",750],";",["T_WHITESPACE","\n                        ",750],["T_VARIABLE","$list_item",751],"[",["T_CONSTANT_ENCAPSED_STRING","'filetype'",751],"]",["T_WHITESPACE"," ",751],"=",["T_WHITESPACE"," ",751],["T_CONSTANT_ENCAPSED_STRING","'unknown'",751],";",["T_WHITESPACE","\n                    ",751],"}",["T_WHITESPACE","\n                ",752],"}",["T_WHITESPACE"," ",753],["T_ELSE","else",753],["T_WHITESPACE"," ",753],"{",["T_WHITESPACE","\n                    ",753],["T_VARIABLE","$list_item",754],"[",["T_CONSTANT_ENCAPSED_STRING","'leaf'",754],"]",["T_WHITESPACE"," ",754],"=",["T_WHITESPACE"," ",754],["T_STRING","false",754],";",["T_WHITESPACE","\n                    ",754],["T_VARIABLE","$list_item",755],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",755],"]",["T_WHITESPACE"," ",755],"=",["T_WHITESPACE"," ",755],["T_VARIABLE","$fullpath",755],";",["T_WHITESPACE","\n                ",755],"}",["T_WHITESPACE","\n\n                ",756],["T_VARIABLE","$list",758],"[","]",["T_WHITESPACE"," ",758],"=",["T_WHITESPACE"," ",758],["T_VARIABLE","$list_item",758],";",["T_WHITESPACE","\n            ",758],"}",["T_WHITESPACE","\n            ",759],["T_STRING","closedir",760],"(",["T_VARIABLE","$dh",760],")",";",["T_WHITESPACE","\n        ",760],"}",["T_WHITESPACE"," ",761],["T_ELSE","else",761],["T_WHITESPACE"," ",761],"{",["T_WHITESPACE","\n            ",761],["T_THROW","throw",762],["T_WHITESPACE"," ",762],["T_NEW","new",762],["T_WHITESPACE"," ",762],["T_STRING","Exception",762],"(",["T_CONSTANT_ENCAPSED_STRING","'Unable to list current working directory. Access forbidden.'",762],")",";",["T_WHITESPACE","\n        ",762],"}",["T_WHITESPACE","\n\n        ",763],["T_RETURN","return",765],["T_WHITESPACE"," ",765],["T_VARIABLE","$list",765],";",["T_WHITESPACE","\n    ",765],"}",["T_WHITESPACE","\n\n    ",766],["T_DOC_COMMENT","\/**\n     * Convert integer permissions format into human readable\n     *\n     * @param integer $mode\n     * @access protected\n     * @return string\n     *\/",768],["T_WHITESPACE","\n    ",774],["T_PROTECTED","protected",775],["T_WHITESPACE"," ",775],["T_FUNCTION","function",775],["T_WHITESPACE"," ",775],["T_STRING","_parsePermissions",775],"(",["T_VARIABLE","$mode",775],")",["T_WHITESPACE","\n    ",775],"{",["T_WHITESPACE","\n        ",776],["T_IF","if",777],"(",["T_WHITESPACE"," ",777],["T_VARIABLE","$mode",777],["T_WHITESPACE"," ",777],"&",["T_WHITESPACE"," ",777],["T_LNUMBER","0x1000",777],["T_WHITESPACE"," ",777],")",["T_WHITESPACE","\n            ",777],["T_VARIABLE","$type",778],"=",["T_CONSTANT_ENCAPSED_STRING","'p'",778],";",["T_WHITESPACE"," ",778],["T_COMMENT","\/* FIFO pipe *\/",778],["T_WHITESPACE","\n        ",778],["T_ELSE","else",779],["T_WHITESPACE"," ",779],["T_IF","if",779],"(",["T_WHITESPACE"," ",779],["T_VARIABLE","$mode",779],["T_WHITESPACE"," ",779],"&",["T_WHITESPACE"," ",779],["T_LNUMBER","0x2000",779],["T_WHITESPACE"," ",779],")",["T_WHITESPACE","\n            ",779],["T_VARIABLE","$type",780],"=",["T_CONSTANT_ENCAPSED_STRING","'c'",780],";",["T_WHITESPACE"," ",780],["T_COMMENT","\/* Character special *\/",780],["T_WHITESPACE","\n        ",780],["T_ELSE","else",781],["T_WHITESPACE"," ",781],["T_IF","if",781],"(",["T_WHITESPACE"," ",781],["T_VARIABLE","$mode",781],["T_WHITESPACE"," ",781],"&",["T_WHITESPACE"," ",781],["T_LNUMBER","0x4000",781],["T_WHITESPACE"," ",781],")",["T_WHITESPACE","\n            ",781],["T_VARIABLE","$type",782],"=",["T_CONSTANT_ENCAPSED_STRING","'d'",782],";",["T_WHITESPACE"," ",782],["T_COMMENT","\/* Directory *\/",782],["T_WHITESPACE","\n        ",782],["T_ELSE","else",783],["T_WHITESPACE"," ",783],["T_IF","if",783],"(",["T_WHITESPACE"," ",783],["T_VARIABLE","$mode",783],["T_WHITESPACE"," ",783],"&",["T_WHITESPACE"," ",783],["T_LNUMBER","0x6000",783],["T_WHITESPACE"," ",783],")",["T_WHITESPACE","\n            ",783],["T_VARIABLE","$type",784],"=",["T_CONSTANT_ENCAPSED_STRING","'b'",784],";",["T_WHITESPACE"," ",784],["T_COMMENT","\/* Block special *\/",784],["T_WHITESPACE","\n        ",784],["T_ELSE","else",785],["T_WHITESPACE"," ",785],["T_IF","if",785],"(",["T_WHITESPACE"," ",785],["T_VARIABLE","$mode",785],["T_WHITESPACE"," ",785],"&",["T_WHITESPACE"," ",785],["T_LNUMBER","0x8000",785],["T_WHITESPACE"," ",785],")",["T_WHITESPACE","\n            ",785],["T_VARIABLE","$type",786],"=",["T_CONSTANT_ENCAPSED_STRING","'-'",786],";",["T_WHITESPACE"," ",786],["T_COMMENT","\/* Regular *\/",786],["T_WHITESPACE","\n        ",786],["T_ELSE","else",787],["T_WHITESPACE"," ",787],["T_IF","if",787],"(",["T_WHITESPACE"," ",787],["T_VARIABLE","$mode",787],["T_WHITESPACE"," ",787],"&",["T_WHITESPACE"," ",787],["T_LNUMBER","0xA000",787],["T_WHITESPACE"," ",787],")",["T_WHITESPACE","\n            ",787],["T_VARIABLE","$type",788],"=",["T_CONSTANT_ENCAPSED_STRING","'l'",788],";",["T_WHITESPACE"," ",788],["T_COMMENT","\/* Symbolic Link *\/",788],["T_WHITESPACE","\n        ",788],["T_ELSE","else",789],["T_WHITESPACE"," ",789],["T_IF","if",789],"(",["T_WHITESPACE"," ",789],["T_VARIABLE","$mode",789],["T_WHITESPACE"," ",789],"&",["T_WHITESPACE"," ",789],["T_LNUMBER","0xC000",789],["T_WHITESPACE"," ",789],")",["T_WHITESPACE","\n            ",789],["T_VARIABLE","$type",790],"=",["T_CONSTANT_ENCAPSED_STRING","'s'",790],";",["T_WHITESPACE"," ",790],["T_COMMENT","\/* Socket *\/",790],["T_WHITESPACE","\n        ",790],["T_ELSE","else",791],["T_WHITESPACE","\n            ",791],["T_VARIABLE","$type",792],"=",["T_CONSTANT_ENCAPSED_STRING","'u'",792],";",["T_WHITESPACE"," ",792],["T_COMMENT","\/* UNKNOWN *\/",792],["T_WHITESPACE","\n\n        ",792],["T_COMMENT","\/* Determine permissions *\/",794],["T_WHITESPACE","\n        ",794],["T_VARIABLE","$owner",795],"[",["T_CONSTANT_ENCAPSED_STRING","'read'",795],"]",["T_WHITESPACE"," ",795],"=",["T_WHITESPACE"," ",795],"(",["T_VARIABLE","$mode",795],["T_WHITESPACE"," ",795],"&",["T_WHITESPACE"," ",795],["T_LNUMBER","00400",795],")",["T_WHITESPACE"," ",795],"?",["T_WHITESPACE"," ",795],["T_CONSTANT_ENCAPSED_STRING","'r'",795],["T_WHITESPACE"," ",795],":",["T_WHITESPACE"," ",795],["T_CONSTANT_ENCAPSED_STRING","'-'",795],";",["T_WHITESPACE","\n        ",795],["T_VARIABLE","$owner",796],"[",["T_CONSTANT_ENCAPSED_STRING","'write'",796],"]",["T_WHITESPACE"," ",796],"=",["T_WHITESPACE"," ",796],"(",["T_VARIABLE","$mode",796],["T_WHITESPACE"," ",796],"&",["T_WHITESPACE"," ",796],["T_LNUMBER","00200",796],")",["T_WHITESPACE"," ",796],"?",["T_WHITESPACE"," ",796],["T_CONSTANT_ENCAPSED_STRING","'w'",796],["T_WHITESPACE"," ",796],":",["T_WHITESPACE"," ",796],["T_CONSTANT_ENCAPSED_STRING","'-'",796],";",["T_WHITESPACE","\n        ",796],["T_VARIABLE","$owner",797],"[",["T_CONSTANT_ENCAPSED_STRING","'execute'",797],"]",["T_WHITESPACE"," ",797],"=",["T_WHITESPACE"," ",797],"(",["T_VARIABLE","$mode",797],["T_WHITESPACE"," ",797],"&",["T_WHITESPACE"," ",797],["T_LNUMBER","00100",797],")",["T_WHITESPACE"," ",797],"?",["T_WHITESPACE"," ",797],["T_CONSTANT_ENCAPSED_STRING","'x'",797],["T_WHITESPACE"," ",797],":",["T_WHITESPACE"," ",797],["T_CONSTANT_ENCAPSED_STRING","'-'",797],";",["T_WHITESPACE","\n        ",797],["T_VARIABLE","$group",798],"[",["T_CONSTANT_ENCAPSED_STRING","'read'",798],"]",["T_WHITESPACE"," ",798],"=",["T_WHITESPACE"," ",798],"(",["T_VARIABLE","$mode",798],["T_WHITESPACE"," ",798],"&",["T_WHITESPACE"," ",798],["T_LNUMBER","00040",798],")",["T_WHITESPACE"," ",798],"?",["T_WHITESPACE"," ",798],["T_CONSTANT_ENCAPSED_STRING","'r'",798],["T_WHITESPACE"," ",798],":",["T_WHITESPACE"," ",798],["T_CONSTANT_ENCAPSED_STRING","'-'",798],";",["T_WHITESPACE","\n        ",798],["T_VARIABLE","$group",799],"[",["T_CONSTANT_ENCAPSED_STRING","'write'",799],"]",["T_WHITESPACE"," ",799],"=",["T_WHITESPACE"," ",799],"(",["T_VARIABLE","$mode",799],["T_WHITESPACE"," ",799],"&",["T_WHITESPACE"," ",799],["T_LNUMBER","00020",799],")",["T_WHITESPACE"," ",799],"?",["T_WHITESPACE"," ",799],["T_CONSTANT_ENCAPSED_STRING","'w'",799],["T_WHITESPACE"," ",799],":",["T_WHITESPACE"," ",799],["T_CONSTANT_ENCAPSED_STRING","'-'",799],";",["T_WHITESPACE","\n        ",799],["T_VARIABLE","$group",800],"[",["T_CONSTANT_ENCAPSED_STRING","'execute'",800],"]",["T_WHITESPACE"," ",800],"=",["T_WHITESPACE"," ",800],"(",["T_VARIABLE","$mode",800],["T_WHITESPACE"," ",800],"&",["T_WHITESPACE"," ",800],["T_LNUMBER","00010",800],")",["T_WHITESPACE"," ",800],"?",["T_WHITESPACE"," ",800],["T_CONSTANT_ENCAPSED_STRING","'x'",800],["T_WHITESPACE"," ",800],":",["T_WHITESPACE"," ",800],["T_CONSTANT_ENCAPSED_STRING","'-'",800],";",["T_WHITESPACE","\n        ",800],["T_VARIABLE","$world",801],"[",["T_CONSTANT_ENCAPSED_STRING","'read'",801],"]",["T_WHITESPACE"," ",801],"=",["T_WHITESPACE"," ",801],"(",["T_VARIABLE","$mode",801],["T_WHITESPACE"," ",801],"&",["T_WHITESPACE"," ",801],["T_LNUMBER","00004",801],")",["T_WHITESPACE"," ",801],"?",["T_WHITESPACE"," ",801],["T_CONSTANT_ENCAPSED_STRING","'r'",801],["T_WHITESPACE"," ",801],":",["T_WHITESPACE"," ",801],["T_CONSTANT_ENCAPSED_STRING","'-'",801],";",["T_WHITESPACE","\n        ",801],["T_VARIABLE","$world",802],"[",["T_CONSTANT_ENCAPSED_STRING","'write'",802],"]",["T_WHITESPACE"," ",802],"=",["T_WHITESPACE"," ",802],"(",["T_VARIABLE","$mode",802],["T_WHITESPACE"," ",802],"&",["T_WHITESPACE"," ",802],["T_LNUMBER","00002",802],")",["T_WHITESPACE"," ",802],"?",["T_WHITESPACE"," ",802],["T_CONSTANT_ENCAPSED_STRING","'w'",802],["T_WHITESPACE"," ",802],":",["T_WHITESPACE"," ",802],["T_CONSTANT_ENCAPSED_STRING","'-'",802],";",["T_WHITESPACE","\n        ",802],["T_VARIABLE","$world",803],"[",["T_CONSTANT_ENCAPSED_STRING","'execute'",803],"]",["T_WHITESPACE"," ",803],"=",["T_WHITESPACE"," ",803],"(",["T_VARIABLE","$mode",803],["T_WHITESPACE"," ",803],"&",["T_WHITESPACE"," ",803],["T_LNUMBER","00001",803],")",["T_WHITESPACE"," ",803],"?",["T_WHITESPACE"," ",803],["T_CONSTANT_ENCAPSED_STRING","'x'",803],["T_WHITESPACE"," ",803],":",["T_WHITESPACE"," ",803],["T_CONSTANT_ENCAPSED_STRING","'-'",803],";",["T_WHITESPACE","\n\n        ",803],["T_COMMENT","\/* Adjust for SUID, SGID and sticky bit *\/",805],["T_WHITESPACE","\n        ",805],["T_IF","if",806],"(",["T_WHITESPACE"," ",806],["T_VARIABLE","$mode",806],["T_WHITESPACE"," ",806],"&",["T_WHITESPACE"," ",806],["T_LNUMBER","0x800",806],["T_WHITESPACE"," ",806],")",["T_WHITESPACE","\n            ",806],["T_VARIABLE","$owner",807],"[",["T_CONSTANT_ENCAPSED_STRING","\"execute\"",807],"]",["T_WHITESPACE"," ",807],"=",["T_WHITESPACE"," ",807],"(",["T_VARIABLE","$owner",807],"[",["T_CONSTANT_ENCAPSED_STRING","'execute'",807],"]",["T_IS_EQUAL","==",807],["T_CONSTANT_ENCAPSED_STRING","'x'",807],")",["T_WHITESPACE"," ",807],"?",["T_WHITESPACE"," ",807],["T_CONSTANT_ENCAPSED_STRING","'s'",807],["T_WHITESPACE"," ",807],":",["T_WHITESPACE"," ",807],["T_CONSTANT_ENCAPSED_STRING","'S'",807],";",["T_WHITESPACE","\n        ",807],["T_IF","if",808],"(",["T_WHITESPACE"," ",808],["T_VARIABLE","$mode",808],["T_WHITESPACE"," ",808],"&",["T_WHITESPACE"," ",808],["T_LNUMBER","0x400",808],["T_WHITESPACE"," ",808],")",["T_WHITESPACE","\n            ",808],["T_VARIABLE","$group",809],"[",["T_CONSTANT_ENCAPSED_STRING","\"execute\"",809],"]",["T_WHITESPACE"," ",809],"=",["T_WHITESPACE"," ",809],"(",["T_VARIABLE","$group",809],"[",["T_CONSTANT_ENCAPSED_STRING","'execute'",809],"]",["T_IS_EQUAL","==",809],["T_CONSTANT_ENCAPSED_STRING","'x'",809],")",["T_WHITESPACE"," ",809],"?",["T_WHITESPACE"," ",809],["T_CONSTANT_ENCAPSED_STRING","'s'",809],["T_WHITESPACE"," ",809],":",["T_WHITESPACE"," ",809],["T_CONSTANT_ENCAPSED_STRING","'S'",809],";",["T_WHITESPACE","\n        ",809],["T_IF","if",810],"(",["T_WHITESPACE"," ",810],["T_VARIABLE","$mode",810],["T_WHITESPACE"," ",810],"&",["T_WHITESPACE"," ",810],["T_LNUMBER","0x200",810],["T_WHITESPACE"," ",810],")",["T_WHITESPACE","\n            ",810],["T_VARIABLE","$world",811],"[",["T_CONSTANT_ENCAPSED_STRING","\"execute\"",811],"]",["T_WHITESPACE"," ",811],"=",["T_WHITESPACE"," ",811],"(",["T_VARIABLE","$world",811],"[",["T_CONSTANT_ENCAPSED_STRING","'execute'",811],"]",["T_IS_EQUAL","==",811],["T_CONSTANT_ENCAPSED_STRING","'x'",811],")",["T_WHITESPACE"," ",811],"?",["T_WHITESPACE"," ",811],["T_CONSTANT_ENCAPSED_STRING","'t'",811],["T_WHITESPACE"," ",811],":",["T_WHITESPACE"," ",811],["T_CONSTANT_ENCAPSED_STRING","'T'",811],";",["T_WHITESPACE","\n\n        ",811],["T_VARIABLE","$s",813],"=",["T_STRING","sprintf",813],"(",["T_CONSTANT_ENCAPSED_STRING","'%1s'",813],",",["T_WHITESPACE"," ",813],["T_VARIABLE","$type",813],")",";",["T_WHITESPACE","\n        ",813],["T_VARIABLE","$s",814],["T_CONCAT_EQUAL",".=",814],["T_STRING","sprintf",814],"(",["T_CONSTANT_ENCAPSED_STRING","'%1s%1s%1s'",814],",",["T_WHITESPACE"," ",814],["T_VARIABLE","$owner",814],"[",["T_CONSTANT_ENCAPSED_STRING","'read'",814],"]",",",["T_WHITESPACE"," ",814],["T_VARIABLE","$owner",814],"[",["T_CONSTANT_ENCAPSED_STRING","'write'",814],"]",",",["T_WHITESPACE"," ",814],["T_VARIABLE","$owner",814],"[",["T_CONSTANT_ENCAPSED_STRING","'execute'",814],"]",")",";",["T_WHITESPACE","\n        ",814],["T_VARIABLE","$s",815],["T_CONCAT_EQUAL",".=",815],["T_STRING","sprintf",815],"(",["T_CONSTANT_ENCAPSED_STRING","'%1s%1s%1s'",815],",",["T_WHITESPACE"," ",815],["T_VARIABLE","$group",815],"[",["T_CONSTANT_ENCAPSED_STRING","'read'",815],"]",",",["T_WHITESPACE"," ",815],["T_VARIABLE","$group",815],"[",["T_CONSTANT_ENCAPSED_STRING","'write'",815],"]",",",["T_WHITESPACE"," ",815],["T_VARIABLE","$group",815],"[",["T_CONSTANT_ENCAPSED_STRING","'execute'",815],"]",")",";",["T_WHITESPACE","\n        ",815],["T_VARIABLE","$s",816],["T_CONCAT_EQUAL",".=",816],["T_STRING","sprintf",816],"(",["T_CONSTANT_ENCAPSED_STRING","'%1s%1s%1s'",816],",",["T_WHITESPACE"," ",816],["T_VARIABLE","$world",816],"[",["T_CONSTANT_ENCAPSED_STRING","'read'",816],"]",",",["T_WHITESPACE"," ",816],["T_VARIABLE","$world",816],"[",["T_CONSTANT_ENCAPSED_STRING","'write'",816],"]",",",["T_WHITESPACE"," ",816],["T_VARIABLE","$world",816],"[",["T_CONSTANT_ENCAPSED_STRING","'execute'",816],"]",")",";",["T_WHITESPACE","\n        ",816],["T_RETURN","return",817],["T_WHITESPACE"," ",817],["T_STRING","trim",817],"(",["T_VARIABLE","$s",817],")",";",["T_WHITESPACE","\n    ",817],"}",["T_WHITESPACE","\n\n    ",818],["T_DOC_COMMENT","\/**\n     * Get file owner\n     *\n     * @param string $filename\n     * @access protected\n     * @return string\n     *\/",820],["T_WHITESPACE","\n    ",826],["T_PROTECTED","protected",827],["T_WHITESPACE"," ",827],["T_FUNCTION","function",827],["T_WHITESPACE"," ",827],["T_STRING","_getFileOwner",827],"(",["T_VARIABLE","$filename",827],")",["T_WHITESPACE","\n    ",827],"{",["T_WHITESPACE","\n        ",828],["T_IF","if",829],"(",["T_WHITESPACE"," ",829],"!",["T_STRING","function_exists",829],"(",["T_CONSTANT_ENCAPSED_STRING","'posix_getpwuid'",829],")",["T_WHITESPACE"," ",829],")",["T_WHITESPACE"," ",829],"{",["T_WHITESPACE","\n            ",829],["T_RETURN","return",830],["T_WHITESPACE"," ",830],["T_CONSTANT_ENCAPSED_STRING","'n\/a'",830],";",["T_WHITESPACE","\n        ",830],"}",["T_WHITESPACE","\n\n        ",831],["T_VARIABLE","$owner",833],["T_WHITESPACE","     ",833],"=",["T_WHITESPACE"," ",833],["T_STRING","posix_getpwuid",833],"(",["T_STRING","fileowner",833],"(",["T_VARIABLE","$filename",833],")",")",";",["T_WHITESPACE","\n        ",833],["T_VARIABLE","$groupinfo",834],["T_WHITESPACE"," ",834],"=",["T_WHITESPACE"," ",834],["T_STRING","posix_getgrnam",834],"(",["T_STRING","filegroup",834],"(",["T_VARIABLE","$filename",834],")",")",";",["T_WHITESPACE","\n\n        ",834],["T_RETURN","return",836],["T_WHITESPACE"," ",836],["T_VARIABLE","$owner",836],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",836],"]",["T_WHITESPACE"," ",836],".",["T_WHITESPACE"," ",836],["T_CONSTANT_ENCAPSED_STRING","' \/ '",836],["T_WHITESPACE"," ",836],".",["T_WHITESPACE"," ",836],["T_VARIABLE","$groupinfo",836],";",["T_WHITESPACE","\n    ",836],"}",["T_WHITESPACE","\n\n    ",837],["T_PUBLIC","public",839],["T_WHITESPACE"," ",839],["T_FUNCTION","function",839],["T_WHITESPACE"," ",839],["T_STRING","dirsep",839],"(",")",["T_WHITESPACE","\n    ",839],"{",["T_WHITESPACE","\n        ",840],["T_RETURN","return",841],["T_WHITESPACE"," ",841],["T_STRING","DIRECTORY_SEPARATOR",841],";",["T_WHITESPACE","\n    ",841],"}",["T_WHITESPACE","\n\n    ",842],["T_PUBLIC","public",844],["T_WHITESPACE"," ",844],["T_FUNCTION","function",844],["T_WHITESPACE"," ",844],["T_STRING","dirname",844],"(",["T_VARIABLE","$file",844],")",["T_WHITESPACE","\n    ",844],"{",["T_WHITESPACE","\n        ",845],["T_RETURN","return",846],["T_WHITESPACE"," ",846],["T_VARIABLE","$this",846],["T_OBJECT_OPERATOR","->",846],["T_STRING","getCleanPath",846],"(",["T_STRING","dirname",846],"(",["T_VARIABLE","$file",846],")",")",";",["T_WHITESPACE","\n    ",846],"}",["T_WHITESPACE","\n",847],"}",["T_WHITESPACE","\n",848]]