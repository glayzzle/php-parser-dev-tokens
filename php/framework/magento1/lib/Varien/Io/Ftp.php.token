[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Magento\n *\n * NOTICE OF LICENSE\n *\n * This source file is subject to the Open Software License (OSL 3.0)\n * that is bundled with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/opensource.org\/licenses\/osl-3.0.php\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@magento.com so we can send you a copy immediately.\n *\n * DISCLAIMER\n *\n * Do not edit or add to this file if you wish to upgrade Magento to newer\n * versions in the future. If you wish to customize Magento for your\n * needs please refer to http:\/\/www.magento.com for more information.\n *\n * @category    Varien\n * @package     Varien_Io\n * @copyright  Copyright (c) 2006-2016 X.commerce, Inc. and affiliates (http:\/\/www.magento.com)\n * @license    http:\/\/opensource.org\/licenses\/osl-3.0.php  Open Software License (OSL 3.0)\n *\/",2],["T_WHITESPACE","\n\n\n",25],["T_DOC_COMMENT","\/**\n * FTP client\n *\n * @category   Varien\n * @package    Varien_Io\n * @author      Magento Core Team <core@magentocommerce.com>\n *\/",28],["T_WHITESPACE","\n",34],["T_CLASS","class",35],["T_WHITESPACE"," ",35],["T_STRING","Varien_Io_Ftp",35],["T_WHITESPACE"," ",35],["T_EXTENDS","extends",35],["T_WHITESPACE"," ",35],["T_STRING","Varien_Io_Abstract",35],["T_WHITESPACE","\n",35],"{",["T_WHITESPACE","\n    ",36],["T_CONST","const",37],["T_WHITESPACE"," ",37],["T_STRING","ERROR_EMPTY_HOST",37],["T_WHITESPACE"," ",37],"=",["T_WHITESPACE"," ",37],["T_LNUMBER","1",37],";",["T_WHITESPACE","\n    ",37],["T_CONST","const",38],["T_WHITESPACE"," ",38],["T_STRING","ERROR_INVALID_CONNECTION",38],["T_WHITESPACE"," ",38],"=",["T_WHITESPACE"," ",38],["T_LNUMBER","2",38],";",["T_WHITESPACE","\n    ",38],["T_CONST","const",39],["T_WHITESPACE"," ",39],["T_STRING","ERROR_INVALID_LOGIN",39],["T_WHITESPACE"," ",39],"=",["T_WHITESPACE"," ",39],["T_LNUMBER","3",39],";",["T_WHITESPACE","\n    ",39],["T_CONST","const",40],["T_WHITESPACE"," ",40],["T_STRING","ERROR_INVALID_PATH",40],["T_WHITESPACE"," ",40],"=",["T_WHITESPACE"," ",40],["T_LNUMBER","4",40],";",["T_WHITESPACE","\n    ",40],["T_CONST","const",41],["T_WHITESPACE"," ",41],["T_STRING","ERROR_INVALID_MODE",41],["T_WHITESPACE"," ",41],"=",["T_WHITESPACE"," ",41],["T_LNUMBER","5",41],";",["T_WHITESPACE","\n    ",41],["T_CONST","const",42],["T_WHITESPACE"," ",42],["T_STRING","ERROR_INVALID_DESTINATION",42],["T_WHITESPACE"," ",42],"=",["T_WHITESPACE"," ",42],["T_LNUMBER","6",42],";",["T_WHITESPACE","\n    ",42],["T_CONST","const",43],["T_WHITESPACE"," ",43],["T_STRING","ERROR_INVALID_SOURCE",43],["T_WHITESPACE"," ",43],"=",["T_WHITESPACE"," ",43],["T_LNUMBER","7",43],";",["T_WHITESPACE","\n\n    ",43],["T_DOC_COMMENT","\/**\n     * Connection config\n     *\n     * @var array\n     *\/",45],["T_WHITESPACE","\n    ",49],["T_PROTECTED","protected",50],["T_WHITESPACE"," ",50],["T_VARIABLE","$_config",50],";",["T_WHITESPACE","\n\n    ",50],["T_DOC_COMMENT","\/**\n     * An FTP connection\n     *\n     * @var resource\n     *\/",52],["T_WHITESPACE","\n    ",56],["T_PROTECTED","protected",57],["T_WHITESPACE"," ",57],["T_VARIABLE","$_conn",57],";",["T_WHITESPACE","\n\n    ",57],["T_DOC_COMMENT","\/**\n     * Error code\n     *\n     * @var int\n     *\/",59],["T_WHITESPACE","\n    ",63],["T_PROTECTED","protected",64],["T_WHITESPACE"," ",64],["T_VARIABLE","$_error",64],";",["T_WHITESPACE","\n\n    ",64],["T_PROTECTED","protected",66],["T_WHITESPACE"," ",66],["T_VARIABLE","$_tmpFilename",66],";",["T_WHITESPACE","\n\n    ",66],["T_DOC_COMMENT","\/**\n     * Open a connection\n     *\n     * Possible argument keys:\n     * - host        required\n     * - port        default 21\n     * - timeout     default 90\n     * - user        default anonymous\n     * - password    default empty\n     * - ssl         default false\n     * - passive     default false\n     * - path        default empty\n     * - file_mode   default FTP_BINARY\n     *\n     * @param array $args\n     * @return boolean\n     *\/",68],["T_WHITESPACE","\n    ",84],["T_PUBLIC","public",85],["T_WHITESPACE"," ",85],["T_FUNCTION","function",85],["T_WHITESPACE"," ",85],["T_STRING","open",85],"(",["T_ARRAY","array",85],["T_WHITESPACE"," ",85],["T_VARIABLE","$args",85],"=",["T_ARRAY","array",85],"(",")",")",["T_WHITESPACE","\n    ",85],"{",["T_WHITESPACE","\n        ",86],["T_IF","if",87],["T_WHITESPACE"," ",87],"(",["T_EMPTY","empty",87],"(",["T_VARIABLE","$args",87],"[",["T_CONSTANT_ENCAPSED_STRING","'host'",87],"]",")",")",["T_WHITESPACE"," ",87],"{",["T_WHITESPACE","\n            ",87],["T_VARIABLE","$this",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","_error",88],["T_WHITESPACE"," ",88],"=",["T_WHITESPACE"," ",88],["T_STRING","self",88],["T_DOUBLE_COLON","::",88],["T_STRING","ERROR_EMPTY_HOST",88],";",["T_WHITESPACE","\n            ",88],["T_THROW","throw",89],["T_WHITESPACE"," ",89],["T_NEW","new",89],["T_WHITESPACE"," ",89],["T_STRING","Varien_Io_Exception",89],"(",["T_CONSTANT_ENCAPSED_STRING","'Empty host specified'",89],")",";",["T_WHITESPACE","\n        ",89],"}",["T_WHITESPACE","\n\n        ",90],["T_IF","if",92],["T_WHITESPACE"," ",92],"(",["T_EMPTY","empty",92],"(",["T_VARIABLE","$args",92],"[",["T_CONSTANT_ENCAPSED_STRING","'port'",92],"]",")",")",["T_WHITESPACE"," ",92],"{",["T_WHITESPACE","\n            ",92],["T_VARIABLE","$args",93],"[",["T_CONSTANT_ENCAPSED_STRING","'port'",93],"]",["T_WHITESPACE"," ",93],"=",["T_WHITESPACE"," ",93],["T_LNUMBER","21",93],";",["T_WHITESPACE","\n        ",93],"}",["T_WHITESPACE","\n\n        ",94],["T_IF","if",96],["T_WHITESPACE"," ",96],"(",["T_EMPTY","empty",96],"(",["T_VARIABLE","$args",96],"[",["T_CONSTANT_ENCAPSED_STRING","'user'",96],"]",")",")",["T_WHITESPACE"," ",96],"{",["T_WHITESPACE","\n            ",96],["T_VARIABLE","$args",97],"[",["T_CONSTANT_ENCAPSED_STRING","'user'",97],"]",["T_WHITESPACE"," ",97],"=",["T_WHITESPACE"," ",97],["T_CONSTANT_ENCAPSED_STRING","'anonymous'",97],";",["T_WHITESPACE","\n            ",97],["T_VARIABLE","$args",98],"[",["T_CONSTANT_ENCAPSED_STRING","'password'",98],"]",["T_WHITESPACE"," ",98],"=",["T_WHITESPACE"," ",98],["T_CONSTANT_ENCAPSED_STRING","'anonymous@noserver.com'",98],";",["T_WHITESPACE","\n        ",98],"}",["T_WHITESPACE","\n\n        ",99],["T_IF","if",101],["T_WHITESPACE"," ",101],"(",["T_EMPTY","empty",101],"(",["T_VARIABLE","$args",101],"[",["T_CONSTANT_ENCAPSED_STRING","'password'",101],"]",")",")",["T_WHITESPACE"," ",101],"{",["T_WHITESPACE","\n            ",101],["T_VARIABLE","$args",102],"[",["T_CONSTANT_ENCAPSED_STRING","'password'",102],"]",["T_WHITESPACE"," ",102],"=",["T_WHITESPACE"," ",102],["T_CONSTANT_ENCAPSED_STRING","''",102],";",["T_WHITESPACE","\n        ",102],"}",["T_WHITESPACE","\n\n        ",103],["T_IF","if",105],["T_WHITESPACE"," ",105],"(",["T_EMPTY","empty",105],"(",["T_VARIABLE","$args",105],"[",["T_CONSTANT_ENCAPSED_STRING","'timeout'",105],"]",")",")",["T_WHITESPACE"," ",105],"{",["T_WHITESPACE","\n            ",105],["T_VARIABLE","$args",106],"[",["T_CONSTANT_ENCAPSED_STRING","'timeout'",106],"]",["T_WHITESPACE"," ",106],"=",["T_WHITESPACE"," ",106],["T_LNUMBER","90",106],";",["T_WHITESPACE","\n        ",106],"}",["T_WHITESPACE","\n\n        ",107],["T_IF","if",109],["T_WHITESPACE"," ",109],"(",["T_EMPTY","empty",109],"(",["T_VARIABLE","$args",109],"[",["T_CONSTANT_ENCAPSED_STRING","'file_mode'",109],"]",")",")",["T_WHITESPACE"," ",109],"{",["T_WHITESPACE","\n            ",109],["T_VARIABLE","$args",110],"[",["T_CONSTANT_ENCAPSED_STRING","'file_mode'",110],"]",["T_WHITESPACE"," ",110],"=",["T_WHITESPACE"," ",110],["T_STRING","FTP_BINARY",110],";",["T_WHITESPACE","\n        ",110],"}",["T_WHITESPACE","\n\n        ",111],["T_VARIABLE","$this",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","_config",113],["T_WHITESPACE"," ",113],"=",["T_WHITESPACE"," ",113],["T_VARIABLE","$args",113],";",["T_WHITESPACE","\n\n        ",113],["T_IF","if",115],["T_WHITESPACE"," ",115],"(",["T_EMPTY","empty",115],"(",["T_VARIABLE","$this",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","_config",115],"[",["T_CONSTANT_ENCAPSED_STRING","'ssl'",115],"]",")",")",["T_WHITESPACE"," ",115],"{",["T_WHITESPACE","\n            ",115],["T_VARIABLE","$this",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","_conn",116],["T_WHITESPACE"," ",116],"=",["T_WHITESPACE"," ",116],"@",["T_STRING","ftp_connect",116],"(",["T_VARIABLE","$this",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","_config",116],"[",["T_CONSTANT_ENCAPSED_STRING","'host'",116],"]",",",["T_WHITESPACE"," ",116],["T_VARIABLE","$this",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","_config",116],"[",["T_CONSTANT_ENCAPSED_STRING","'port'",116],"]",",",["T_WHITESPACE"," ",116],["T_VARIABLE","$this",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","_config",116],"[",["T_CONSTANT_ENCAPSED_STRING","'timeout'",116],"]",")",";",["T_WHITESPACE","\n        ",116],"}",["T_WHITESPACE"," ",117],["T_ELSE","else",117],["T_WHITESPACE"," ",117],"{",["T_WHITESPACE","\n            ",117],["T_VARIABLE","$this",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","_conn",118],["T_WHITESPACE"," ",118],"=",["T_WHITESPACE"," ",118],"@",["T_STRING","ftp_ssl_connect",118],"(",["T_VARIABLE","$this",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","_config",118],"[",["T_CONSTANT_ENCAPSED_STRING","'host'",118],"]",",",["T_WHITESPACE"," ",118],["T_VARIABLE","$this",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","_config",118],"[",["T_CONSTANT_ENCAPSED_STRING","'port'",118],"]",",",["T_WHITESPACE"," ",118],["T_VARIABLE","$this",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","_config",118],"[",["T_CONSTANT_ENCAPSED_STRING","'timeout'",118],"]",")",";",["T_WHITESPACE","\n        ",118],"}",["T_WHITESPACE","\n        ",119],["T_IF","if",120],["T_WHITESPACE"," ",120],"(","!",["T_VARIABLE","$this",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","_conn",120],")",["T_WHITESPACE"," ",120],"{",["T_WHITESPACE","\n            ",120],["T_VARIABLE","$this",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","_error",121],["T_WHITESPACE"," ",121],"=",["T_WHITESPACE"," ",121],["T_STRING","self",121],["T_DOUBLE_COLON","::",121],["T_STRING","ERROR_INVALID_CONNECTION",121],";",["T_WHITESPACE","\n            ",121],["T_THROW","throw",122],["T_WHITESPACE"," ",122],["T_NEW","new",122],["T_WHITESPACE"," ",122],["T_STRING","Varien_Io_Exception",122],"(",["T_CONSTANT_ENCAPSED_STRING","'Could not establish FTP connection, invalid host or port'",122],")",";",["T_WHITESPACE","\n        ",122],"}",["T_WHITESPACE","\n\n        ",123],["T_IF","if",125],["T_WHITESPACE"," ",125],"(","!","@",["T_STRING","ftp_login",125],"(",["T_VARIABLE","$this",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","_conn",125],",",["T_WHITESPACE"," ",125],["T_VARIABLE","$this",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","_config",125],"[",["T_CONSTANT_ENCAPSED_STRING","'user'",125],"]",",",["T_WHITESPACE"," ",125],["T_VARIABLE","$this",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","_config",125],"[",["T_CONSTANT_ENCAPSED_STRING","'password'",125],"]",")",")",["T_WHITESPACE"," ",125],"{",["T_WHITESPACE","\n            ",125],["T_VARIABLE","$this",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","_error",126],["T_WHITESPACE"," ",126],"=",["T_WHITESPACE"," ",126],["T_STRING","self",126],["T_DOUBLE_COLON","::",126],["T_STRING","ERROR_INVALID_LOGIN",126],";",["T_WHITESPACE","\n            ",126],["T_VARIABLE","$this",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","close",127],"(",")",";",["T_WHITESPACE","\n            ",127],["T_THROW","throw",128],["T_WHITESPACE"," ",128],["T_NEW","new",128],["T_WHITESPACE"," ",128],["T_STRING","Varien_Io_Exception",128],"(",["T_CONSTANT_ENCAPSED_STRING","'Invalid user name or password'",128],")",";",["T_WHITESPACE","\n        ",128],"}",["T_WHITESPACE","\n\n        ",129],["T_IF","if",131],["T_WHITESPACE"," ",131],"(","!",["T_EMPTY","empty",131],"(",["T_VARIABLE","$this",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","_config",131],"[",["T_CONSTANT_ENCAPSED_STRING","'path'",131],"]",")",")",["T_WHITESPACE"," ",131],"{",["T_WHITESPACE","\n            ",131],["T_IF","if",132],["T_WHITESPACE"," ",132],"(","!","@",["T_STRING","ftp_chdir",132],"(",["T_VARIABLE","$this",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","_conn",132],",",["T_WHITESPACE"," ",132],["T_VARIABLE","$this",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","_config",132],"[",["T_CONSTANT_ENCAPSED_STRING","'path'",132],"]",")",")",["T_WHITESPACE"," ",132],"{",["T_WHITESPACE","\n                ",132],["T_VARIABLE","$this",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","_error",133],["T_WHITESPACE"," ",133],"=",["T_WHITESPACE"," ",133],["T_STRING","self",133],["T_DOUBLE_COLON","::",133],["T_STRING","ERROR_INVALID_PATH",133],";",["T_WHITESPACE","\n                ",133],["T_VARIABLE","$this",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","close",134],"(",")",";",["T_WHITESPACE","\n                ",134],["T_THROW","throw",135],["T_WHITESPACE"," ",135],["T_NEW","new",135],["T_WHITESPACE"," ",135],["T_STRING","Varien_Io_Exception",135],"(",["T_CONSTANT_ENCAPSED_STRING","'Invalid path'",135],")",";",["T_WHITESPACE","\n            ",135],"}",["T_WHITESPACE","\n        ",136],"}",["T_WHITESPACE","\n\n        ",137],["T_IF","if",139],["T_WHITESPACE"," ",139],"(","!",["T_EMPTY","empty",139],"(",["T_VARIABLE","$this",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","_config",139],"[",["T_CONSTANT_ENCAPSED_STRING","'passive'",139],"]",")",")",["T_WHITESPACE"," ",139],"{",["T_WHITESPACE","\n            ",139],["T_IF","if",140],["T_WHITESPACE"," ",140],"(","!","@",["T_STRING","ftp_pasv",140],"(",["T_VARIABLE","$this",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","_conn",140],",",["T_WHITESPACE"," ",140],["T_STRING","true",140],")",")",["T_WHITESPACE"," ",140],"{",["T_WHITESPACE","\n                ",140],["T_VARIABLE","$this",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","_error",141],["T_WHITESPACE"," ",141],"=",["T_WHITESPACE"," ",141],["T_STRING","self",141],["T_DOUBLE_COLON","::",141],["T_STRING","ERROR_INVALID_MODE",141],";",["T_WHITESPACE","\n                ",141],["T_VARIABLE","$this",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","close",142],"(",")",";",["T_WHITESPACE","\n                ",142],["T_THROW","throw",143],["T_WHITESPACE"," ",143],["T_NEW","new",143],["T_WHITESPACE"," ",143],["T_STRING","Varien_Io_Exception",143],"(",["T_CONSTANT_ENCAPSED_STRING","'Invalid file transfer mode'",143],")",";",["T_WHITESPACE","\n            ",143],"}",["T_WHITESPACE","\n        ",144],"}",["T_WHITESPACE","\n\n        ",145],["T_RETURN","return",147],["T_WHITESPACE"," ",147],["T_STRING","true",147],";",["T_WHITESPACE","\n    ",147],"}",["T_WHITESPACE","\n\n    ",148],["T_DOC_COMMENT","\/**\n     * Close a connection\n     *\n     * @return boolean\n     *\/",150],["T_WHITESPACE","\n    ",154],["T_PUBLIC","public",155],["T_WHITESPACE"," ",155],["T_FUNCTION","function",155],["T_WHITESPACE"," ",155],["T_STRING","close",155],"(",")",["T_WHITESPACE","\n    ",155],"{",["T_WHITESPACE","\n        ",156],["T_RETURN","return",157],["T_WHITESPACE"," ",157],"@",["T_STRING","ftp_close",157],"(",["T_VARIABLE","$this",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","_conn",157],")",";",["T_WHITESPACE","\n    ",157],"}",["T_WHITESPACE","\n\n    ",158],["T_DOC_COMMENT","\/**\n     * Create a directory\n     *\n     * @todo implement $mode and $recursive\n     * @param string $dir\n     * @param int $mode\n     * @param boolean $recursive\n     * @return boolean\n     *\/",160],["T_WHITESPACE","\n    ",168],["T_PUBLIC","public",169],["T_WHITESPACE"," ",169],["T_FUNCTION","function",169],["T_WHITESPACE"," ",169],["T_STRING","mkdir",169],"(",["T_VARIABLE","$dir",169],",",["T_WHITESPACE"," ",169],["T_VARIABLE","$mode",169],"=",["T_LNUMBER","0777",169],",",["T_WHITESPACE"," ",169],["T_VARIABLE","$recursive",169],"=",["T_STRING","true",169],")",["T_WHITESPACE","\n    ",169],"{",["T_WHITESPACE","\n        ",170],["T_RETURN","return",171],["T_WHITESPACE"," ",171],"@",["T_STRING","ftp_mkdir",171],"(",["T_VARIABLE","$this",171],["T_OBJECT_OPERATOR","->",171],["T_STRING","_conn",171],",",["T_WHITESPACE"," ",171],["T_VARIABLE","$dir",171],")",";",["T_WHITESPACE","\n    ",171],"}",["T_WHITESPACE","\n\n    ",172],["T_DOC_COMMENT","\/**\n     * Delete a directory\n     *\n     * @param string $dir\n     * @return boolean\n     *\/",174],["T_WHITESPACE","\n    ",179],["T_PUBLIC","public",180],["T_WHITESPACE"," ",180],["T_FUNCTION","function",180],["T_WHITESPACE"," ",180],["T_STRING","rmdir",180],"(",["T_VARIABLE","$dir",180],",",["T_WHITESPACE"," ",180],["T_VARIABLE","$recursive",180],"=",["T_STRING","false",180],")",["T_WHITESPACE","\n    ",180],"{",["T_WHITESPACE","\n        ",181],["T_RETURN","return",182],["T_WHITESPACE"," ",182],"@",["T_STRING","ftp_rmdir",182],"(",["T_VARIABLE","$this",182],["T_OBJECT_OPERATOR","->",182],["T_STRING","_conn",182],",",["T_WHITESPACE"," ",182],["T_VARIABLE","$dir",182],")",";",["T_WHITESPACE","\n    ",182],"}",["T_WHITESPACE","\n\n    ",183],["T_DOC_COMMENT","\/**\n     * Get current working directory\n     *\n     * @return string\n     *\/",185],["T_WHITESPACE","\n    ",189],["T_PUBLIC","public",190],["T_WHITESPACE"," ",190],["T_FUNCTION","function",190],["T_WHITESPACE"," ",190],["T_STRING","pwd",190],"(",")",["T_WHITESPACE","\n    ",190],"{",["T_WHITESPACE","\n        ",191],["T_RETURN","return",192],["T_WHITESPACE"," ",192],"@",["T_STRING","ftp_pwd",192],"(",["T_VARIABLE","$this",192],["T_OBJECT_OPERATOR","->",192],["T_STRING","_conn",192],")",";",["T_WHITESPACE","\n    ",192],"}",["T_WHITESPACE","\n\n    ",193],["T_DOC_COMMENT","\/**\n     * Change current working directory\n     *\n     * @param string $dir\n     * @return boolean\n     *\/",195],["T_WHITESPACE","\n    ",200],["T_PUBLIC","public",201],["T_WHITESPACE"," ",201],["T_FUNCTION","function",201],["T_WHITESPACE"," ",201],["T_STRING","cd",201],"(",["T_VARIABLE","$dir",201],")",["T_WHITESPACE","\n    ",201],"{",["T_WHITESPACE","\n        ",202],["T_RETURN","return",203],["T_WHITESPACE"," ",203],"@",["T_STRING","ftp_chdir",203],"(",["T_VARIABLE","$this",203],["T_OBJECT_OPERATOR","->",203],["T_STRING","_conn",203],",",["T_WHITESPACE"," ",203],["T_VARIABLE","$dir",203],")",";",["T_WHITESPACE","\n    ",203],"}",["T_WHITESPACE","\n\n    ",204],["T_DOC_COMMENT","\/**\n     * Read a file to result, file or stream\n     *\n     * @param string $filename\n     * @param string|resource|null $dest destination file name, stream, or if null will return file contents\n     * @return string\n     *\/",206],["T_WHITESPACE","\n    ",212],["T_PUBLIC","public",213],["T_WHITESPACE"," ",213],["T_FUNCTION","function",213],["T_WHITESPACE"," ",213],["T_STRING","read",213],"(",["T_VARIABLE","$filename",213],",",["T_WHITESPACE"," ",213],["T_VARIABLE","$dest",213],"=",["T_STRING","null",213],")",["T_WHITESPACE","\n    ",213],"{",["T_WHITESPACE","\n        ",214],["T_IF","if",215],["T_WHITESPACE"," ",215],"(",["T_STRING","is_string",215],"(",["T_VARIABLE","$dest",215],")",")",["T_WHITESPACE"," ",215],"{",["T_WHITESPACE","\n            ",215],["T_VARIABLE","$result",216],["T_WHITESPACE"," ",216],"=",["T_WHITESPACE"," ",216],["T_STRING","ftp_get",216],"(",["T_VARIABLE","$this",216],["T_OBJECT_OPERATOR","->",216],["T_STRING","_conn",216],",",["T_WHITESPACE"," ",216],["T_VARIABLE","$dest",216],",",["T_WHITESPACE"," ",216],["T_VARIABLE","$filename",216],",",["T_WHITESPACE"," ",216],["T_VARIABLE","$this",216],["T_OBJECT_OPERATOR","->",216],["T_STRING","_config",216],"[",["T_CONSTANT_ENCAPSED_STRING","'file_mode'",216],"]",")",";",["T_WHITESPACE","\n        ",216],"}",["T_WHITESPACE"," ",217],["T_ELSE","else",217],["T_WHITESPACE"," ",217],"{",["T_WHITESPACE","\n            ",217],["T_IF","if",218],["T_WHITESPACE"," ",218],"(",["T_STRING","is_resource",218],"(",["T_VARIABLE","$dest",218],")",")",["T_WHITESPACE"," ",218],"{",["T_WHITESPACE","\n                ",218],["T_VARIABLE","$stream",219],["T_WHITESPACE"," ",219],"=",["T_WHITESPACE"," ",219],["T_VARIABLE","$dest",219],";",["T_WHITESPACE","\n            ",219],"}",["T_WHITESPACE"," ",220],["T_ELSEIF","elseif",220],["T_WHITESPACE"," ",220],"(",["T_STRING","is_null",220],"(",["T_VARIABLE","$dest",220],")",")",["T_WHITESPACE"," ",220],"{",["T_WHITESPACE","\n                ",220],["T_VARIABLE","$stream",221],["T_WHITESPACE"," ",221],"=",["T_WHITESPACE"," ",221],["T_STRING","tmpfile",221],"(",")",";",["T_WHITESPACE","\n            ",221],"}",["T_WHITESPACE"," ",222],["T_ELSE","else",222],["T_WHITESPACE"," ",222],"{",["T_WHITESPACE","\n                ",222],["T_VARIABLE","$this",223],["T_OBJECT_OPERATOR","->",223],["T_STRING","_error",223],["T_WHITESPACE"," ",223],"=",["T_WHITESPACE"," ",223],["T_STRING","self",223],["T_DOUBLE_COLON","::",223],["T_STRING","ERROR_INVALID_DESTINATION",223],";",["T_WHITESPACE","\n                ",223],["T_RETURN","return",224],["T_WHITESPACE"," ",224],["T_STRING","false",224],";",["T_WHITESPACE","\n            ",224],"}",["T_WHITESPACE","\n\n            ",225],["T_VARIABLE","$result",227],["T_WHITESPACE"," ",227],"=",["T_WHITESPACE"," ",227],["T_STRING","ftp_fget",227],"(",["T_VARIABLE","$this",227],["T_OBJECT_OPERATOR","->",227],["T_STRING","_conn",227],",",["T_WHITESPACE"," ",227],["T_VARIABLE","$stream",227],",",["T_WHITESPACE"," ",227],["T_VARIABLE","$filename",227],",",["T_WHITESPACE"," ",227],["T_VARIABLE","$this",227],["T_OBJECT_OPERATOR","->",227],["T_STRING","_config",227],"[",["T_CONSTANT_ENCAPSED_STRING","'file_mode'",227],"]",")",";",["T_WHITESPACE","\n\n            ",227],["T_IF","if",229],["T_WHITESPACE"," ",229],"(",["T_STRING","is_null",229],"(",["T_VARIABLE","$dest",229],")",")",["T_WHITESPACE"," ",229],"{",["T_WHITESPACE","\n                ",229],["T_STRING","fseek",230],"(",["T_VARIABLE","$stream",230],",",["T_WHITESPACE"," ",230],["T_LNUMBER","0",230],")",";",["T_WHITESPACE","\n                ",230],["T_VARIABLE","$result",231],["T_WHITESPACE"," ",231],"=",["T_WHITESPACE"," ",231],["T_CONSTANT_ENCAPSED_STRING","''",231],";",["T_WHITESPACE","\n                ",231],["T_FOR","for",232],["T_WHITESPACE"," ",232],"(",["T_VARIABLE","$result",232],["T_WHITESPACE"," ",232],"=",["T_WHITESPACE"," ",232],["T_CONSTANT_ENCAPSED_STRING","''",232],";",["T_WHITESPACE"," ",232],["T_VARIABLE","$s",232],["T_WHITESPACE"," ",232],"=",["T_WHITESPACE"," ",232],["T_STRING","fread",232],"(",["T_VARIABLE","$stream",232],",",["T_WHITESPACE"," ",232],["T_LNUMBER","4096",232],")",";",["T_WHITESPACE"," ",232],["T_VARIABLE","$result",232],["T_WHITESPACE"," ",232],["T_CONCAT_EQUAL",".=",232],["T_WHITESPACE"," ",232],["T_VARIABLE","$s",232],")",";",["T_WHITESPACE","\n                ",232],["T_STRING","fclose",233],"(",["T_VARIABLE","$stream",233],")",";",["T_WHITESPACE","\n            ",233],"}",["T_WHITESPACE","\n        ",234],"}",["T_WHITESPACE","\n        ",235],["T_RETURN","return",236],["T_WHITESPACE"," ",236],["T_VARIABLE","$result",236],";",["T_WHITESPACE","\n    ",236],"}",["T_WHITESPACE","\n\n    ",237],["T_DOC_COMMENT","\/**\n     * Write a file from string, file or stream\n     *\n     * @param string $filename\n     * @param string|resource $src filename, string data or source stream\n     * @return int|boolean\n     *\/",239],["T_WHITESPACE","\n    ",245],["T_PUBLIC","public",246],["T_WHITESPACE"," ",246],["T_FUNCTION","function",246],["T_WHITESPACE"," ",246],["T_STRING","write",246],"(",["T_VARIABLE","$filename",246],",",["T_WHITESPACE"," ",246],["T_VARIABLE","$src",246],",",["T_WHITESPACE"," ",246],["T_VARIABLE","$mode",246],"=",["T_STRING","null",246],")",["T_WHITESPACE","\n    ",246],"{",["T_WHITESPACE","\n        ",247],["T_IF","if",248],["T_WHITESPACE"," ",248],"(",["T_STRING","is_string",248],"(",["T_VARIABLE","$src",248],")",["T_WHITESPACE"," ",248],["T_BOOLEAN_AND","&&",248],["T_WHITESPACE"," ",248],["T_STRING","is_readable",248],"(",["T_VARIABLE","$src",248],")",")",["T_WHITESPACE"," ",248],"{",["T_WHITESPACE","\n            ",248],["T_RETURN","return",249],["T_WHITESPACE"," ",249],"@",["T_STRING","ftp_put",249],"(",["T_VARIABLE","$this",249],["T_OBJECT_OPERATOR","->",249],["T_STRING","_conn",249],",",["T_WHITESPACE"," ",249],["T_VARIABLE","$filename",249],",",["T_WHITESPACE"," ",249],["T_VARIABLE","$src",249],",",["T_WHITESPACE"," ",249],["T_VARIABLE","$this",249],["T_OBJECT_OPERATOR","->",249],["T_STRING","_config",249],"[",["T_CONSTANT_ENCAPSED_STRING","'file_mode'",249],"]",")",";",["T_WHITESPACE","\n        ",249],"}",["T_WHITESPACE"," ",250],["T_ELSE","else",250],["T_WHITESPACE"," ",250],"{",["T_WHITESPACE","\n            ",250],["T_IF","if",251],["T_WHITESPACE"," ",251],"(",["T_STRING","is_string",251],"(",["T_VARIABLE","$src",251],")",")",["T_WHITESPACE"," ",251],"{",["T_WHITESPACE","\n                ",251],["T_VARIABLE","$stream",252],["T_WHITESPACE"," ",252],"=",["T_WHITESPACE"," ",252],["T_STRING","tmpfile",252],"(",")",";",["T_WHITESPACE","\n                ",252],["T_STRING","fputs",253],"(",["T_VARIABLE","$stream",253],",",["T_WHITESPACE"," ",253],["T_VARIABLE","$src",253],")",";",["T_WHITESPACE","\n                ",253],["T_STRING","fseek",254],"(",["T_VARIABLE","$stream",254],",",["T_WHITESPACE"," ",254],["T_LNUMBER","0",254],")",";",["T_WHITESPACE","\n            ",254],"}",["T_WHITESPACE"," ",255],["T_ELSEIF","elseif",255],["T_WHITESPACE"," ",255],"(",["T_STRING","is_resource",255],"(",["T_VARIABLE","$src",255],")",")",["T_WHITESPACE"," ",255],"{",["T_WHITESPACE","\n                ",255],["T_VARIABLE","$stream",256],["T_WHITESPACE"," ",256],"=",["T_WHITESPACE"," ",256],["T_VARIABLE","$src",256],";",["T_WHITESPACE","\n            ",256],"}",["T_WHITESPACE"," ",257],["T_ELSE","else",257],["T_WHITESPACE"," ",257],"{",["T_WHITESPACE","\n                ",257],["T_VARIABLE","$this",258],["T_OBJECT_OPERATOR","->",258],["T_STRING","_error",258],["T_WHITESPACE"," ",258],"=",["T_WHITESPACE"," ",258],["T_STRING","self",258],["T_DOUBLE_COLON","::",258],["T_STRING","ERROR_INVALID_SOURCE",258],";",["T_WHITESPACE","\n                ",258],["T_RETURN","return",259],["T_WHITESPACE"," ",259],["T_STRING","false",259],";",["T_WHITESPACE","\n            ",259],"}",["T_WHITESPACE","\n\n            ",260],["T_VARIABLE","$result",262],["T_WHITESPACE"," ",262],"=",["T_WHITESPACE"," ",262],["T_STRING","ftp_fput",262],"(",["T_VARIABLE","$this",262],["T_OBJECT_OPERATOR","->",262],["T_STRING","_conn",262],",",["T_WHITESPACE"," ",262],["T_VARIABLE","$filename",262],",",["T_WHITESPACE"," ",262],["T_VARIABLE","$stream",262],",",["T_WHITESPACE"," ",262],["T_VARIABLE","$this",262],["T_OBJECT_OPERATOR","->",262],["T_STRING","_config",262],"[",["T_CONSTANT_ENCAPSED_STRING","'file_mode'",262],"]",")",";",["T_WHITESPACE","\n            ",262],["T_IF","if",263],["T_WHITESPACE"," ",263],"(",["T_STRING","is_string",263],"(",["T_VARIABLE","$src",263],")",")",["T_WHITESPACE"," ",263],"{",["T_WHITESPACE","\n                ",263],["T_STRING","fclose",264],"(",["T_VARIABLE","$stream",264],")",";",["T_WHITESPACE","\n            ",264],"}",["T_WHITESPACE","\n            ",265],["T_RETURN","return",266],["T_WHITESPACE"," ",266],["T_VARIABLE","$result",266],";",["T_WHITESPACE","\n        ",266],"}",["T_WHITESPACE","\n    ",267],"}",["T_WHITESPACE","\n\n    ",268],["T_DOC_COMMENT","\/**\n     * Delete a file\n     *\n     * @param string $filename\n     * @return boolean\n     *\/",270],["T_WHITESPACE","\n    ",275],["T_PUBLIC","public",276],["T_WHITESPACE"," ",276],["T_FUNCTION","function",276],["T_WHITESPACE"," ",276],["T_STRING","rm",276],"(",["T_VARIABLE","$filename",276],")",["T_WHITESPACE","\n    ",276],"{",["T_WHITESPACE","\n        ",277],["T_RETURN","return",278],["T_WHITESPACE"," ",278],"@",["T_STRING","ftp_delete",278],"(",["T_VARIABLE","$this",278],["T_OBJECT_OPERATOR","->",278],["T_STRING","_conn",278],",",["T_WHITESPACE"," ",278],["T_VARIABLE","$filename",278],")",";",["T_WHITESPACE","\n    ",278],"}",["T_WHITESPACE","\n\n    ",279],["T_DOC_COMMENT","\/**\n     * Rename or move a directory or a file\n     *\n     * @param string $src\n     * @param string $dest\n     * @return boolean\n     *\/",281],["T_WHITESPACE","\n    ",287],["T_PUBLIC","public",288],["T_WHITESPACE"," ",288],["T_FUNCTION","function",288],["T_WHITESPACE"," ",288],["T_STRING","mv",288],"(",["T_VARIABLE","$src",288],",",["T_WHITESPACE"," ",288],["T_VARIABLE","$dest",288],")",["T_WHITESPACE","\n    ",288],"{",["T_WHITESPACE","\n        ",289],["T_RETURN","return",290],["T_WHITESPACE"," ",290],"@",["T_STRING","ftp_rename",290],"(",["T_VARIABLE","$this",290],["T_OBJECT_OPERATOR","->",290],["T_STRING","_conn",290],",",["T_WHITESPACE"," ",290],["T_VARIABLE","$src",290],",",["T_WHITESPACE"," ",290],["T_VARIABLE","$dest",290],")",";",["T_WHITESPACE","\n    ",290],"}",["T_WHITESPACE","\n\n    ",291],["T_DOC_COMMENT","\/**\n     * Change mode of a directory or a file\n     *\n     * @param string $filename\n     * @param int $mode\n     * @return boolean\n     *\/",293],["T_WHITESPACE","\n    ",299],["T_PUBLIC","public",300],["T_WHITESPACE"," ",300],["T_FUNCTION","function",300],["T_WHITESPACE"," ",300],["T_STRING","chmod",300],"(",["T_VARIABLE","$filename",300],",",["T_WHITESPACE"," ",300],["T_VARIABLE","$mode",300],")",["T_WHITESPACE","\n    ",300],"{",["T_WHITESPACE","\n        ",301],["T_RETURN","return",302],["T_WHITESPACE"," ",302],"@",["T_STRING","ftp_chmod",302],"(",["T_VARIABLE","$this",302],["T_OBJECT_OPERATOR","->",302],["T_STRING","_conn",302],",",["T_WHITESPACE"," ",302],["T_VARIABLE","$mode",302],",",["T_WHITESPACE"," ",302],["T_VARIABLE","$filename",302],")",";",["T_WHITESPACE","\n    ",302],"}",["T_WHITESPACE","\n\n    ",303],["T_PUBLIC","public",305],["T_WHITESPACE"," ",305],["T_FUNCTION","function",305],["T_WHITESPACE"," ",305],["T_STRING","ls",305],"(",["T_VARIABLE","$grep",305],"=",["T_STRING","null",305],")",["T_WHITESPACE","\n    ",305],"{",["T_WHITESPACE","\n        ",306],["T_VARIABLE","$ls",307],["T_WHITESPACE"," ",307],"=",["T_WHITESPACE"," ",307],"@",["T_STRING","ftp_nlist",307],"(",["T_VARIABLE","$this",307],["T_OBJECT_OPERATOR","->",307],["T_STRING","_conn",307],",",["T_WHITESPACE"," ",307],["T_CONSTANT_ENCAPSED_STRING","'.'",307],")",";",["T_WHITESPACE","\n\n        ",307],["T_VARIABLE","$list",309],["T_WHITESPACE"," ",309],"=",["T_WHITESPACE"," ",309],["T_ARRAY","array",309],"(",")",";",["T_WHITESPACE","\n        ",309],["T_FOREACH","foreach",310],["T_WHITESPACE"," ",310],"(",["T_VARIABLE","$ls",310],["T_WHITESPACE"," ",310],["T_AS","as",310],["T_WHITESPACE"," ",310],["T_VARIABLE","$file",310],")",["T_WHITESPACE"," ",310],"{",["T_WHITESPACE","\n            ",310],["T_VARIABLE","$list",311],"[","]",["T_WHITESPACE"," ",311],"=",["T_WHITESPACE"," ",311],["T_ARRAY","array",311],"(",["T_WHITESPACE","\n                ",311],["T_CONSTANT_ENCAPSED_STRING","'text'",312],["T_DOUBLE_ARROW","=>",312],["T_VARIABLE","$file",312],",",["T_WHITESPACE","\n                ",312],["T_CONSTANT_ENCAPSED_STRING","'id'",313],["T_DOUBLE_ARROW","=>",313],["T_VARIABLE","$this",313],["T_OBJECT_OPERATOR","->",313],["T_STRING","pwd",313],"(",")",".",["T_CONSTANT_ENCAPSED_STRING","'\/'",313],".",["T_VARIABLE","$file",313],",",["T_WHITESPACE","\n            ",313],")",";",["T_WHITESPACE","\n        ",314],"}",["T_WHITESPACE","\n\n        ",315],["T_RETURN","return",317],["T_WHITESPACE"," ",317],["T_VARIABLE","$list",317],";",["T_WHITESPACE","\n    ",317],"}",["T_WHITESPACE","\n\n    ",318],["T_PROTECTED","protected",320],["T_WHITESPACE"," ",320],["T_FUNCTION","function",320],["T_WHITESPACE"," ",320],["T_STRING","_tmpFilename",320],"(",["T_VARIABLE","$new",320],"=",["T_STRING","false",320],")",["T_WHITESPACE","\n    ",320],"{",["T_WHITESPACE","\n        ",321],["T_IF","if",322],["T_WHITESPACE"," ",322],"(",["T_VARIABLE","$new",322],["T_WHITESPACE"," ",322],["T_BOOLEAN_OR","||",322],["T_WHITESPACE"," ",322],"!",["T_VARIABLE","$this",322],["T_OBJECT_OPERATOR","->",322],["T_STRING","_tmpFilename",322],")",["T_WHITESPACE"," ",322],"{",["T_WHITESPACE","\n            ",322],["T_VARIABLE","$this",323],["T_OBJECT_OPERATOR","->",323],["T_STRING","_tmpFilename",323],["T_WHITESPACE"," ",323],"=",["T_WHITESPACE"," ",323],["T_STRING","tempnam",323],"(",["T_WHITESPACE"," ",323],["T_STRING","md5",323],"(",["T_STRING","uniqid",323],"(",["T_STRING","rand",323],"(",")",",",["T_WHITESPACE"," ",323],["T_STRING","TRUE",323],")",")",",",["T_WHITESPACE"," ",323],["T_CONSTANT_ENCAPSED_STRING","''",323],["T_WHITESPACE"," ",323],")",";",["T_WHITESPACE","\n        ",323],"}",["T_WHITESPACE","\n        ",324],["T_RETURN","return",325],["T_WHITESPACE"," ",325],["T_VARIABLE","$this",325],["T_OBJECT_OPERATOR","->",325],["T_STRING","_tmpFilename",325],";",["T_WHITESPACE","\n    ",325],"}",["T_WHITESPACE","\n",326],"}",["T_WHITESPACE","\n",327]]