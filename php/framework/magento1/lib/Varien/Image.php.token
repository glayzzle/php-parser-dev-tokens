[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Magento\n *\n * NOTICE OF LICENSE\n *\n * This source file is subject to the Open Software License (OSL 3.0)\n * that is bundled with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/opensource.org\/licenses\/osl-3.0.php\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@magento.com so we can send you a copy immediately.\n *\n * DISCLAIMER\n *\n * Do not edit or add to this file if you wish to upgrade Magento to newer\n * versions in the future. If you wish to customize Magento for your\n * needs please refer to http:\/\/www.magento.com for more information.\n *\n * @category    Varien\n * @package     Varien_Image\n * @copyright  Copyright (c) 2006-2016 X.commerce, Inc. and affiliates (http:\/\/www.magento.com)\n * @license    http:\/\/opensource.org\/licenses\/osl-3.0.php  Open Software License (OSL 3.0)\n *\/",2],["T_WHITESPACE","\n\n",25],["T_DOC_COMMENT","\/**\n * Image handler library\n *\n * @category   Varien\n * @package    Varien_Image\n * @author      Magento Core Team <core@magentocommerce.com>\n *\/",27],["T_WHITESPACE","\n",33],["T_CLASS","class",34],["T_WHITESPACE"," ",34],["T_STRING","Varien_Image",34],["T_WHITESPACE","\n",34],"{",["T_WHITESPACE","\n    ",35],["T_PROTECTED","protected",36],["T_WHITESPACE"," ",36],["T_VARIABLE","$_adapter",36],";",["T_WHITESPACE","\n\n    ",36],["T_PROTECTED","protected",38],["T_WHITESPACE"," ",38],["T_VARIABLE","$_fileName",38],";",["T_WHITESPACE","\n\n    ",38],["T_DOC_COMMENT","\/**\n     * Constructor\n     *\n     * @param Varien_Image_Adapter $adapter. Default value is GD2\n     * @param string $fileName\n     * @return void\n     *\/",40],["T_WHITESPACE","\n    ",46],["T_FUNCTION","function",47],["T_WHITESPACE"," ",47],["T_STRING","__construct",47],"(",["T_VARIABLE","$fileName",47],"=",["T_STRING","null",47],",",["T_WHITESPACE"," ",47],["T_VARIABLE","$adapter",47],"=",["T_STRING","Varien_Image_Adapter",47],["T_DOUBLE_COLON","::",47],["T_STRING","ADAPTER_GD2",47],")",["T_WHITESPACE","\n    ",47],"{",["T_WHITESPACE","\n        ",48],["T_VARIABLE","$this",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","_getAdapter",49],"(",["T_VARIABLE","$adapter",49],")",";",["T_WHITESPACE","\n        ",49],["T_VARIABLE","$this",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","_fileName",50],["T_WHITESPACE"," ",50],"=",["T_WHITESPACE"," ",50],["T_VARIABLE","$fileName",50],";",["T_WHITESPACE","\n        ",50],["T_IF","if",51],"(",["T_WHITESPACE"," ",51],["T_ISSET","isset",51],"(",["T_VARIABLE","$fileName",51],")",["T_WHITESPACE"," ",51],")",["T_WHITESPACE"," ",51],"{",["T_WHITESPACE","\n            ",51],["T_VARIABLE","$this",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","open",52],"(",")",";",["T_WHITESPACE","\n        ",52],"}",["T_WHITESPACE","\n    ",53],"}",["T_WHITESPACE","\n\n    ",54],["T_DOC_COMMENT","\/**\n     * Opens an image and creates image handle\n     *\n     * @access public\n     * @return void\n     *\/",56],["T_WHITESPACE","\n    ",61],["T_PUBLIC","public",62],["T_WHITESPACE"," ",62],["T_FUNCTION","function",62],["T_WHITESPACE"," ",62],["T_STRING","open",62],"(",")",["T_WHITESPACE","\n    ",62],"{",["T_WHITESPACE","\n        ",63],["T_VARIABLE","$this",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","_getAdapter",64],"(",")",["T_OBJECT_OPERATOR","->",64],["T_STRING","checkDependencies",64],"(",")",";",["T_WHITESPACE","\n\n        ",64],["T_IF","if",66],"(",["T_WHITESPACE"," ",66],"!",["T_STRING","file_exists",66],"(",["T_VARIABLE","$this",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","_fileName",66],")",["T_WHITESPACE"," ",66],")",["T_WHITESPACE"," ",66],"{",["T_WHITESPACE","\n            ",66],["T_THROW","throw",67],["T_WHITESPACE"," ",67],["T_NEW","new",67],["T_WHITESPACE"," ",67],["T_STRING","Exception",67],"(","\"",["T_ENCAPSED_AND_WHITESPACE","File '",67],["T_CURLY_OPEN","{",67],["T_VARIABLE","$this",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","_fileName",67],"}",["T_ENCAPSED_AND_WHITESPACE","' does not exists.",67],"\"",")",";",["T_WHITESPACE","\n        ",67],"}",["T_WHITESPACE","\n\n        ",68],["T_VARIABLE","$this",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","_getAdapter",70],"(",")",["T_OBJECT_OPERATOR","->",70],["T_STRING","open",70],"(",["T_VARIABLE","$this",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","_fileName",70],")",";",["T_WHITESPACE","\n    ",70],"}",["T_WHITESPACE","\n\n    ",71],["T_DOC_COMMENT","\/**\n     * Display handled image in your browser\n     *\n     * @access public\n     * @return void\n     *\/",73],["T_WHITESPACE","\n    ",78],["T_PUBLIC","public",79],["T_WHITESPACE"," ",79],["T_FUNCTION","function",79],["T_WHITESPACE"," ",79],["T_STRING","display",79],"(",")",["T_WHITESPACE","\n    ",79],"{",["T_WHITESPACE","\n        ",80],["T_VARIABLE","$this",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","_getAdapter",81],"(",")",["T_OBJECT_OPERATOR","->",81],["T_STRING","display",81],"(",")",";",["T_WHITESPACE","\n    ",81],"}",["T_WHITESPACE","\n\n    ",82],["T_DOC_COMMENT","\/**\n     * Save handled image into file\n     *\n     * @param string $destination. Default value is NULL\n     * @param string $newFileName. Default value is NULL\n     * @access public\n     * @return void\n     *\/",84],["T_WHITESPACE","\n    ",91],["T_PUBLIC","public",92],["T_WHITESPACE"," ",92],["T_FUNCTION","function",92],["T_WHITESPACE"," ",92],["T_STRING","save",92],"(",["T_VARIABLE","$destination",92],"=",["T_STRING","null",92],",",["T_WHITESPACE"," ",92],["T_VARIABLE","$newFileName",92],"=",["T_STRING","null",92],")",["T_WHITESPACE","\n    ",92],"{",["T_WHITESPACE","\n        ",93],["T_VARIABLE","$this",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","_getAdapter",94],"(",")",["T_OBJECT_OPERATOR","->",94],["T_STRING","save",94],"(",["T_VARIABLE","$destination",94],",",["T_WHITESPACE"," ",94],["T_VARIABLE","$newFileName",94],")",";",["T_WHITESPACE","\n    ",94],"}",["T_WHITESPACE","\n\n    ",95],["T_DOC_COMMENT","\/**\n     * Rotate an image.\n     *\n     * @param int $angle\n     * @access public\n     * @return void\n     *\/",97],["T_WHITESPACE","\n    ",103],["T_PUBLIC","public",104],["T_WHITESPACE"," ",104],["T_FUNCTION","function",104],["T_WHITESPACE"," ",104],["T_STRING","rotate",104],"(",["T_VARIABLE","$angle",104],")",["T_WHITESPACE","\n    ",104],"{",["T_WHITESPACE","\n        ",105],["T_VARIABLE","$this",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","_getAdapter",106],"(",")",["T_OBJECT_OPERATOR","->",106],["T_STRING","rotate",106],"(",["T_VARIABLE","$angle",106],")",";",["T_WHITESPACE","\n    ",106],"}",["T_WHITESPACE","\n\n    ",107],["T_DOC_COMMENT","\/**\n     * Crop an image.\n     *\n     * @param int $top. Default value is 0\n     * @param int $left. Default value is 0\n     * @param int $right. Default value is 0\n     * @param int $bottom. Default value is 0\n     * @access public\n     * @return void\n     *\/",109],["T_WHITESPACE","\n    ",118],["T_PUBLIC","public",119],["T_WHITESPACE"," ",119],["T_FUNCTION","function",119],["T_WHITESPACE"," ",119],["T_STRING","crop",119],"(",["T_VARIABLE","$top",119],"=",["T_LNUMBER","0",119],",",["T_WHITESPACE"," ",119],["T_VARIABLE","$left",119],"=",["T_LNUMBER","0",119],",",["T_WHITESPACE"," ",119],["T_VARIABLE","$right",119],"=",["T_LNUMBER","0",119],",",["T_WHITESPACE"," ",119],["T_VARIABLE","$bottom",119],"=",["T_LNUMBER","0",119],")",["T_WHITESPACE","\n    ",119],"{",["T_WHITESPACE","\n        ",120],["T_VARIABLE","$this",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","_getAdapter",121],"(",")",["T_OBJECT_OPERATOR","->",121],["T_STRING","crop",121],"(",["T_VARIABLE","$top",121],",",["T_WHITESPACE"," ",121],["T_VARIABLE","$left",121],",",["T_WHITESPACE"," ",121],["T_VARIABLE","$right",121],",",["T_WHITESPACE"," ",121],["T_VARIABLE","$bottom",121],")",";",["T_WHITESPACE","\n    ",121],"}",["T_WHITESPACE","\n\n    ",122],["T_DOC_COMMENT","\/**\n     * Resize an image\n     *\n     * @param int $width\n     * @param int $height\n     * @access public\n     * @return void\n     *\/",124],["T_WHITESPACE","\n    ",131],["T_PUBLIC","public",132],["T_WHITESPACE"," ",132],["T_FUNCTION","function",132],["T_WHITESPACE"," ",132],["T_STRING","resize",132],"(",["T_VARIABLE","$width",132],",",["T_WHITESPACE"," ",132],["T_VARIABLE","$height",132],["T_WHITESPACE"," ",132],"=",["T_WHITESPACE"," ",132],["T_STRING","null",132],")",["T_WHITESPACE","\n    ",132],"{",["T_WHITESPACE","\n        ",133],["T_VARIABLE","$this",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","_getAdapter",134],"(",")",["T_OBJECT_OPERATOR","->",134],["T_STRING","resize",134],"(",["T_VARIABLE","$width",134],",",["T_WHITESPACE"," ",134],["T_VARIABLE","$height",134],")",";",["T_WHITESPACE","\n    ",134],"}",["T_WHITESPACE","\n\n    ",135],["T_PUBLIC","public",137],["T_WHITESPACE"," ",137],["T_FUNCTION","function",137],["T_WHITESPACE"," ",137],["T_STRING","keepAspectRatio",137],"(",["T_VARIABLE","$value",137],")",["T_WHITESPACE","\n    ",137],"{",["T_WHITESPACE","\n        ",138],["T_RETURN","return",139],["T_WHITESPACE"," ",139],["T_VARIABLE","$this",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","_getAdapter",139],"(",")",["T_OBJECT_OPERATOR","->",139],["T_STRING","keepAspectRatio",139],"(",["T_VARIABLE","$value",139],")",";",["T_WHITESPACE","\n    ",139],"}",["T_WHITESPACE","\n\n    ",140],["T_PUBLIC","public",142],["T_WHITESPACE"," ",142],["T_FUNCTION","function",142],["T_WHITESPACE"," ",142],["T_STRING","keepFrame",142],"(",["T_VARIABLE","$value",142],")",["T_WHITESPACE","\n    ",142],"{",["T_WHITESPACE","\n        ",143],["T_RETURN","return",144],["T_WHITESPACE"," ",144],["T_VARIABLE","$this",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","_getAdapter",144],"(",")",["T_OBJECT_OPERATOR","->",144],["T_STRING","keepFrame",144],"(",["T_VARIABLE","$value",144],")",";",["T_WHITESPACE","\n    ",144],"}",["T_WHITESPACE","\n\n    ",145],["T_PUBLIC","public",147],["T_WHITESPACE"," ",147],["T_FUNCTION","function",147],["T_WHITESPACE"," ",147],["T_STRING","keepTransparency",147],"(",["T_VARIABLE","$value",147],")",["T_WHITESPACE","\n    ",147],"{",["T_WHITESPACE","\n        ",148],["T_RETURN","return",149],["T_WHITESPACE"," ",149],["T_VARIABLE","$this",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","_getAdapter",149],"(",")",["T_OBJECT_OPERATOR","->",149],["T_STRING","keepTransparency",149],"(",["T_VARIABLE","$value",149],")",";",["T_WHITESPACE","\n    ",149],"}",["T_WHITESPACE","\n\n    ",150],["T_PUBLIC","public",152],["T_WHITESPACE"," ",152],["T_FUNCTION","function",152],["T_WHITESPACE"," ",152],["T_STRING","constrainOnly",152],"(",["T_VARIABLE","$value",152],")",["T_WHITESPACE","\n    ",152],"{",["T_WHITESPACE","\n        ",153],["T_RETURN","return",154],["T_WHITESPACE"," ",154],["T_VARIABLE","$this",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","_getAdapter",154],"(",")",["T_OBJECT_OPERATOR","->",154],["T_STRING","constrainOnly",154],"(",["T_VARIABLE","$value",154],")",";",["T_WHITESPACE","\n    ",154],"}",["T_WHITESPACE","\n\n    ",155],["T_PUBLIC","public",157],["T_WHITESPACE"," ",157],["T_FUNCTION","function",157],["T_WHITESPACE"," ",157],["T_STRING","backgroundColor",157],"(",["T_VARIABLE","$value",157],")",["T_WHITESPACE","\n    ",157],"{",["T_WHITESPACE","\n        ",158],["T_RETURN","return",159],["T_WHITESPACE"," ",159],["T_VARIABLE","$this",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","_getAdapter",159],"(",")",["T_OBJECT_OPERATOR","->",159],["T_STRING","backgroundColor",159],"(",["T_VARIABLE","$value",159],")",";",["T_WHITESPACE","\n    ",159],"}",["T_WHITESPACE","\n\n    ",160],["T_DOC_COMMENT","\/**\n     * Get\/set quality, values in percentage from 0 to 100\n     *\n     * @param int $value\n     * @return int\n     *\/",162],["T_WHITESPACE","\n    ",167],["T_PUBLIC","public",168],["T_WHITESPACE"," ",168],["T_FUNCTION","function",168],["T_WHITESPACE"," ",168],["T_STRING","quality",168],"(",["T_VARIABLE","$value",168],")",["T_WHITESPACE","\n    ",168],"{",["T_WHITESPACE","\n        ",169],["T_RETURN","return",170],["T_WHITESPACE"," ",170],["T_VARIABLE","$this",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","_getAdapter",170],"(",")",["T_OBJECT_OPERATOR","->",170],["T_STRING","quality",170],"(",["T_VARIABLE","$value",170],")",";",["T_WHITESPACE","\n    ",170],"}",["T_WHITESPACE","\n\n    ",171],["T_DOC_COMMENT","\/**\n     * Adds watermark to our image.\n     *\n     * @param string $watermarkImage. Absolute path to watermark image.\n     * @param int $positionX. Watermark X position.\n     * @param int $positionY. Watermark Y position.\n     * @param int $watermarkImageOpacity. Watermark image opacity.\n     * @param bool $repeat. Enable or disable watermark brick.\n     * @access public\n     * @return void\n     *\/",173],["T_WHITESPACE","\n    ",183],["T_PUBLIC","public",184],["T_WHITESPACE"," ",184],["T_FUNCTION","function",184],["T_WHITESPACE"," ",184],["T_STRING","watermark",184],"(",["T_VARIABLE","$watermarkImage",184],",",["T_WHITESPACE"," ",184],["T_VARIABLE","$positionX",184],"=",["T_LNUMBER","0",184],",",["T_WHITESPACE"," ",184],["T_VARIABLE","$positionY",184],"=",["T_LNUMBER","0",184],",",["T_WHITESPACE"," ",184],["T_VARIABLE","$watermarkImageOpacity",184],"=",["T_LNUMBER","30",184],",",["T_WHITESPACE"," ",184],["T_VARIABLE","$repeat",184],"=",["T_STRING","false",184],")",["T_WHITESPACE","\n    ",184],"{",["T_WHITESPACE","\n        ",185],["T_IF","if",186],"(",["T_WHITESPACE"," ",186],"!",["T_STRING","file_exists",186],"(",["T_VARIABLE","$watermarkImage",186],")",["T_WHITESPACE"," ",186],")",["T_WHITESPACE"," ",186],"{",["T_WHITESPACE","\n            ",186],["T_THROW","throw",187],["T_WHITESPACE"," ",187],["T_NEW","new",187],["T_WHITESPACE"," ",187],["T_STRING","Exception",187],"(","\"",["T_ENCAPSED_AND_WHITESPACE","Required file '",187],["T_CURLY_OPEN","{",187],["T_VARIABLE","$watermarkImage",187],"}",["T_ENCAPSED_AND_WHITESPACE","' does not exists.",187],"\"",")",";",["T_WHITESPACE","\n        ",187],"}",["T_WHITESPACE","\n        ",188],["T_VARIABLE","$this",189],["T_OBJECT_OPERATOR","->",189],["T_STRING","_getAdapter",189],"(",")",["T_OBJECT_OPERATOR","->",189],["T_STRING","watermark",189],"(",["T_VARIABLE","$watermarkImage",189],",",["T_WHITESPACE"," ",189],["T_VARIABLE","$positionX",189],",",["T_WHITESPACE"," ",189],["T_VARIABLE","$positionY",189],",",["T_WHITESPACE"," ",189],["T_VARIABLE","$watermarkImageOpacity",189],",",["T_WHITESPACE"," ",189],["T_VARIABLE","$repeat",189],")",";",["T_WHITESPACE","\n    ",189],"}",["T_WHITESPACE","\n\n    ",190],["T_DOC_COMMENT","\/**\n     * Get mime type of handled image\n     *\n     * @access public\n     * @return string\n     *\/",192],["T_WHITESPACE","\n    ",197],["T_PUBLIC","public",198],["T_WHITESPACE"," ",198],["T_FUNCTION","function",198],["T_WHITESPACE"," ",198],["T_STRING","getMimeType",198],"(",")",["T_WHITESPACE","\n    ",198],"{",["T_WHITESPACE","\n        ",199],["T_RETURN","return",200],["T_WHITESPACE"," ",200],["T_VARIABLE","$this",200],["T_OBJECT_OPERATOR","->",200],["T_STRING","_getAdapter",200],"(",")",["T_OBJECT_OPERATOR","->",200],["T_STRING","getMimeType",200],"(",")",";",["T_WHITESPACE","\n    ",200],"}",["T_WHITESPACE","\n\n    ",201],["T_DOC_COMMENT","\/**\n     * process\n     *\n     * @access public\n     * @return void\n     *\/",203],["T_WHITESPACE","\n    ",208],["T_PUBLIC","public",209],["T_WHITESPACE"," ",209],["T_FUNCTION","function",209],["T_WHITESPACE"," ",209],["T_STRING","process",209],"(",")",["T_WHITESPACE","\n    ",209],"{",["T_WHITESPACE","\n\n    ",210],"}",["T_WHITESPACE","\n\n    ",212],["T_DOC_COMMENT","\/**\n     * instruction\n     *\n     * @access public\n     * @return void\n     *\/",214],["T_WHITESPACE","\n    ",219],["T_PUBLIC","public",220],["T_WHITESPACE"," ",220],["T_FUNCTION","function",220],["T_WHITESPACE"," ",220],["T_STRING","instruction",220],"(",")",["T_WHITESPACE","\n    ",220],"{",["T_WHITESPACE","\n\n    ",221],"}",["T_WHITESPACE","\n\n    ",223],["T_DOC_COMMENT","\/**\n     * Set image background color\n     *\n     * @param int $color\n     * @access public\n     * @return void\n     *\/",225],["T_WHITESPACE","\n    ",231],["T_PUBLIC","public",232],["T_WHITESPACE"," ",232],["T_FUNCTION","function",232],["T_WHITESPACE"," ",232],["T_STRING","setImageBackgroundColor",232],"(",["T_VARIABLE","$color",232],")",["T_WHITESPACE","\n    ",232],"{",["T_WHITESPACE","\n        ",233],["T_VARIABLE","$this",234],["T_OBJECT_OPERATOR","->",234],["T_STRING","_getAdapter",234],"(",")",["T_OBJECT_OPERATOR","->",234],["T_STRING","imageBackgroundColor",234],["T_WHITESPACE"," ",234],"=",["T_WHITESPACE"," ",234],["T_STRING","intval",234],"(",["T_VARIABLE","$color",234],")",";",["T_WHITESPACE","\n    ",234],"}",["T_WHITESPACE","\n\n    ",235],["T_DOC_COMMENT","\/**\n     * Set watermark position\n     *\n     * @param string $position\n     * @return Varien_Image\n     *\/",237],["T_WHITESPACE","\n    ",242],["T_PUBLIC","public",243],["T_WHITESPACE"," ",243],["T_FUNCTION","function",243],["T_WHITESPACE"," ",243],["T_STRING","setWatermarkPosition",243],"(",["T_VARIABLE","$position",243],")",["T_WHITESPACE","\n    ",243],"{",["T_WHITESPACE","\n        ",244],["T_VARIABLE","$this",245],["T_OBJECT_OPERATOR","->",245],["T_STRING","_getAdapter",245],"(",")",["T_OBJECT_OPERATOR","->",245],["T_STRING","setWatermarkPosition",245],"(",["T_VARIABLE","$position",245],")",";",["T_WHITESPACE","\n        ",245],["T_RETURN","return",246],["T_WHITESPACE"," ",246],["T_VARIABLE","$this",246],";",["T_WHITESPACE","\n    ",246],"}",["T_WHITESPACE","\n\n    ",247],["T_DOC_COMMENT","\/**\n     * Set watermark image opacity\n     *\n     * @param int $imageOpacity\n     * @return Varien_Image\n     *\/",249],["T_WHITESPACE","\n    ",254],["T_PUBLIC","public",255],["T_WHITESPACE"," ",255],["T_FUNCTION","function",255],["T_WHITESPACE"," ",255],["T_STRING","setWatermarkImageOpacity",255],"(",["T_VARIABLE","$imageOpacity",255],")",["T_WHITESPACE","\n    ",255],"{",["T_WHITESPACE","\n        ",256],["T_VARIABLE","$this",257],["T_OBJECT_OPERATOR","->",257],["T_STRING","_getAdapter",257],"(",")",["T_OBJECT_OPERATOR","->",257],["T_STRING","setWatermarkImageOpacity",257],"(",["T_VARIABLE","$imageOpacity",257],")",";",["T_WHITESPACE","\n        ",257],["T_RETURN","return",258],["T_WHITESPACE"," ",258],["T_VARIABLE","$this",258],";",["T_WHITESPACE","\n    ",258],"}",["T_WHITESPACE","\n\n    ",259],["T_DOC_COMMENT","\/**\n     * Set watermark width\n     *\n     * @param int $width\n     * @return Varien_Image\n     *\/",261],["T_WHITESPACE","\n    ",266],["T_PUBLIC","public",267],["T_WHITESPACE"," ",267],["T_FUNCTION","function",267],["T_WHITESPACE"," ",267],["T_STRING","setWatermarkWidth",267],"(",["T_VARIABLE","$width",267],")",["T_WHITESPACE","\n    ",267],"{",["T_WHITESPACE","\n        ",268],["T_VARIABLE","$this",269],["T_OBJECT_OPERATOR","->",269],["T_STRING","_getAdapter",269],"(",")",["T_OBJECT_OPERATOR","->",269],["T_STRING","setWatermarkWidth",269],"(",["T_VARIABLE","$width",269],")",";",["T_WHITESPACE","\n        ",269],["T_RETURN","return",270],["T_WHITESPACE"," ",270],["T_VARIABLE","$this",270],";",["T_WHITESPACE","\n    ",270],"}",["T_WHITESPACE","\n\n    ",271],["T_DOC_COMMENT","\/**\n     * Set watermark heigth\n     *\n     * @param int $heigth\n     * @return Varien_Image\n     *\/",273],["T_WHITESPACE","\n    ",278],["T_PUBLIC","public",279],["T_WHITESPACE"," ",279],["T_FUNCTION","function",279],["T_WHITESPACE"," ",279],["T_STRING","setWatermarkHeigth",279],"(",["T_VARIABLE","$heigth",279],")",["T_WHITESPACE","\n    ",279],"{",["T_WHITESPACE","\n        ",280],["T_VARIABLE","$this",281],["T_OBJECT_OPERATOR","->",281],["T_STRING","_getAdapter",281],"(",")",["T_OBJECT_OPERATOR","->",281],["T_STRING","setWatermarkHeigth",281],"(",["T_VARIABLE","$heigth",281],")",";",["T_WHITESPACE","\n        ",281],["T_RETURN","return",282],["T_WHITESPACE"," ",282],["T_VARIABLE","$this",282],";",["T_WHITESPACE","\n    ",282],"}",["T_WHITESPACE","\n\n    ",283],["T_DOC_COMMENT","\/**\n     * Retrieve image adapter object\n     *\n     * @param string $adapter\n     * @return Varien_Image_Adapter_Abstract\n     *\/",285],["T_WHITESPACE","\n    ",290],["T_PROTECTED","protected",291],["T_WHITESPACE"," ",291],["T_FUNCTION","function",291],["T_WHITESPACE"," ",291],["T_STRING","_getAdapter",291],"(",["T_VARIABLE","$adapter",291],"=",["T_STRING","null",291],")",["T_WHITESPACE","\n    ",291],"{",["T_WHITESPACE","\n        ",292],["T_IF","if",293],"(",["T_WHITESPACE"," ",293],"!",["T_ISSET","isset",293],"(",["T_VARIABLE","$this",293],["T_OBJECT_OPERATOR","->",293],["T_STRING","_adapter",293],")",["T_WHITESPACE"," ",293],")",["T_WHITESPACE"," ",293],"{",["T_WHITESPACE","\n            ",293],["T_VARIABLE","$this",294],["T_OBJECT_OPERATOR","->",294],["T_STRING","_adapter",294],["T_WHITESPACE"," ",294],"=",["T_WHITESPACE"," ",294],["T_STRING","Varien_Image_Adapter",294],["T_DOUBLE_COLON","::",294],["T_STRING","factory",294],"(",["T_WHITESPACE"," ",294],["T_VARIABLE","$adapter",294],["T_WHITESPACE"," ",294],")",";",["T_WHITESPACE","\n        ",294],"}",["T_WHITESPACE","\n        ",295],["T_RETURN","return",296],["T_WHITESPACE"," ",296],["T_VARIABLE","$this",296],["T_OBJECT_OPERATOR","->",296],["T_STRING","_adapter",296],";",["T_WHITESPACE","\n    ",296],"}",["T_WHITESPACE","\n\n    ",297],["T_DOC_COMMENT","\/**\n     * Retrieve original image width\n     *\n     * @return int|null\n     *\/",299],["T_WHITESPACE","\n    ",303],["T_PUBLIC","public",304],["T_WHITESPACE"," ",304],["T_FUNCTION","function",304],["T_WHITESPACE"," ",304],["T_STRING","getOriginalWidth",304],"(",")",["T_WHITESPACE","\n    ",304],"{",["T_WHITESPACE","\n        ",305],["T_RETURN","return",306],["T_WHITESPACE"," ",306],["T_VARIABLE","$this",306],["T_OBJECT_OPERATOR","->",306],["T_STRING","_getAdapter",306],"(",")",["T_OBJECT_OPERATOR","->",306],["T_STRING","getOriginalWidth",306],"(",")",";",["T_WHITESPACE","\n    ",306],"}",["T_WHITESPACE","\n\n    ",307],["T_DOC_COMMENT","\/**\n     * Retrieve original image height\n     *\n     * @return int|null\n     *\/",309],["T_WHITESPACE","\n    ",313],["T_PUBLIC","public",314],["T_WHITESPACE"," ",314],["T_FUNCTION","function",314],["T_WHITESPACE"," ",314],["T_STRING","getOriginalHeight",314],"(",")",["T_WHITESPACE","\n    ",314],"{",["T_WHITESPACE","\n        ",315],["T_RETURN","return",316],["T_WHITESPACE"," ",316],["T_VARIABLE","$this",316],["T_OBJECT_OPERATOR","->",316],["T_STRING","_getAdapter",316],"(",")",["T_OBJECT_OPERATOR","->",316],["T_STRING","getOriginalHeight",316],"(",")",";",["T_WHITESPACE","\n    ",316],"}",["T_WHITESPACE","\n",317],"}",["T_WHITESPACE","\n",318]]