[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Magento\n *\n * NOTICE OF LICENSE\n *\n * This source file is subject to the Open Software License (OSL 3.0)\n * that is bundled with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/opensource.org\/licenses\/osl-3.0.php\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@magento.com so we can send you a copy immediately.\n *\n * DISCLAIMER\n *\n * Do not edit or add to this file if you wish to upgrade Magento to newer\n * versions in the future. If you wish to customize Magento for your\n * needs please refer to http:\/\/www.magento.com for more information.\n *\n * @category    Varien\n * @package     Varien_Object\n * @copyright  Copyright (c) 2006-2016 X.commerce, Inc. and affiliates (http:\/\/www.magento.com)\n * @license    http:\/\/opensource.org\/licenses\/osl-3.0.php  Open Software License (OSL 3.0)\n *\/",2],["T_WHITESPACE","\n\n",25],["T_DOC_COMMENT","\/**\n * Utility class for mapping data between objects or arrays\n *\/",27],["T_WHITESPACE","\n",29],["T_CLASS","class",30],["T_WHITESPACE"," ",30],["T_STRING","Varien_Object_Mapper",30],["T_WHITESPACE","\n",30],"{",["T_WHITESPACE","\n    ",31],["T_DOC_COMMENT","\/**\n     * Convert data from source to target item using map array\n     *\n     * Will get or set data with generic or magic, or specified Varien Object methods, or with array keys\n     * from or to Varien_Object or array\n     * :)\n     *\n     * Map must either be associative array of keys from=>to\n     * or a numeric array of keys, assuming from = to\n     *\n     * Defaults must be assoc array of keys => values. Target will get default, if the value is not present in source\n     * If the source has getter defined instead of magic method, the value will be taken only if not empty\n     *\n     * Callbacks explanation (when $from or $to is not array):\n     *   for $from:\n     *     <Varien_Object> => $from->getData($key) (default)\n     *     array(<Varien_Object>, <method>) => $from->$method($key)\n     *   for $to (makes sense only for Varien_Object):\n     *     <Varien_Object> => $from->setData($key, <from>)\n     *     array(<Varien_Object>, <method>) => $from->$method($key, <from>)\n     *\n     * @param array|Varien_Object|callback $from\n     * @param array|Varien_Object|callback $to\n     * @param array $map\n     * @param array $defaults\n     * @return array|object\n     *\/",32],["T_WHITESPACE","\n    ",58],["T_PUBLIC","public",59],["T_WHITESPACE"," ",59],["T_STATIC","static",59],["T_WHITESPACE"," ",59],["T_FUNCTION","function",59],["T_WHITESPACE"," ",59],"&",["T_STRING","accumulateByMap",59],"(",["T_VARIABLE","$from",59],",",["T_WHITESPACE"," ",59],["T_VARIABLE","$to",59],",",["T_WHITESPACE"," ",59],["T_ARRAY","array",59],["T_WHITESPACE"," ",59],["T_VARIABLE","$map",59],",",["T_WHITESPACE"," ",59],["T_ARRAY","array",59],["T_WHITESPACE"," ",59],["T_VARIABLE","$defaults",59],["T_WHITESPACE"," ",59],"=",["T_WHITESPACE"," ",59],["T_ARRAY","array",59],"(",")",")",["T_WHITESPACE","\n    ",59],"{",["T_WHITESPACE","\n        ",60],["T_VARIABLE","$get",61],["T_WHITESPACE"," ",61],"=",["T_WHITESPACE"," ",61],["T_CONSTANT_ENCAPSED_STRING","'getData'",61],";",["T_WHITESPACE","\n        ",61],["T_IF","if",62],["T_WHITESPACE"," ",62],"(",["T_STRING","is_array",62],"(",["T_VARIABLE","$from",62],")",["T_WHITESPACE"," ",62],["T_BOOLEAN_AND","&&",62],["T_WHITESPACE"," ",62],["T_ISSET","isset",62],"(",["T_VARIABLE","$from",62],"[",["T_LNUMBER","0",62],"]",")",["T_WHITESPACE"," ",62],["T_BOOLEAN_AND","&&",62],["T_WHITESPACE"," ",62],["T_STRING","is_object",62],"(",["T_VARIABLE","$from",62],"[",["T_LNUMBER","0",62],"]",")",["T_WHITESPACE"," ",62],["T_BOOLEAN_AND","&&",62],["T_WHITESPACE"," ",62],["T_ISSET","isset",62],"(",["T_VARIABLE","$from",62],"[",["T_LNUMBER","1",62],"]",")",["T_WHITESPACE"," ",62],["T_BOOLEAN_AND","&&",62],["T_WHITESPACE"," ",62],["T_STRING","is_string",62],"(",["T_VARIABLE","$from",62],"[",["T_LNUMBER","1",62],"]",")",["T_WHITESPACE"," ",62],["T_BOOLEAN_AND","&&",62],["T_WHITESPACE"," ",62],["T_STRING","is_callable",62],"(",["T_VARIABLE","$from",62],")",")",["T_WHITESPACE"," ",62],"{",["T_WHITESPACE","\n            ",62],["T_LIST","list",63],"(",["T_VARIABLE","$from",63],",",["T_WHITESPACE"," ",63],["T_VARIABLE","$get",63],")",["T_WHITESPACE"," ",63],"=",["T_WHITESPACE"," ",63],["T_VARIABLE","$from",63],";",["T_WHITESPACE","\n        ",63],"}",["T_WHITESPACE","\n        ",64],["T_VARIABLE","$fromIsArray",65],["T_WHITESPACE"," ",65],"=",["T_WHITESPACE"," ",65],["T_STRING","is_array",65],"(",["T_VARIABLE","$from",65],")",";",["T_WHITESPACE","\n        ",65],["T_VARIABLE","$fromIsVO",66],["T_WHITESPACE","    ",66],"=",["T_WHITESPACE"," ",66],["T_VARIABLE","$from",66],["T_WHITESPACE"," ",66],["T_INSTANCEOF","instanceof",66],["T_WHITESPACE"," ",66],["T_STRING","Varien_Object",66],";",["T_WHITESPACE","\n\n        ",66],["T_VARIABLE","$set",68],["T_WHITESPACE"," ",68],"=",["T_WHITESPACE"," ",68],["T_CONSTANT_ENCAPSED_STRING","'setData'",68],";",["T_WHITESPACE","\n        ",68],["T_IF","if",69],["T_WHITESPACE"," ",69],"(",["T_STRING","is_array",69],"(",["T_VARIABLE","$to",69],")",["T_WHITESPACE"," ",69],["T_BOOLEAN_AND","&&",69],["T_WHITESPACE"," ",69],["T_ISSET","isset",69],"(",["T_VARIABLE","$to",69],"[",["T_LNUMBER","0",69],"]",")",["T_WHITESPACE"," ",69],["T_BOOLEAN_AND","&&",69],["T_WHITESPACE"," ",69],["T_STRING","is_object",69],"(",["T_VARIABLE","$to",69],"[",["T_LNUMBER","0",69],"]",")",["T_WHITESPACE"," ",69],["T_BOOLEAN_AND","&&",69],["T_WHITESPACE"," ",69],["T_ISSET","isset",69],"(",["T_VARIABLE","$to",69],"[",["T_LNUMBER","1",69],"]",")",["T_WHITESPACE"," ",69],["T_BOOLEAN_AND","&&",69],["T_WHITESPACE"," ",69],["T_STRING","is_string",69],"(",["T_VARIABLE","$to",69],"[",["T_LNUMBER","1",69],"]",")",["T_WHITESPACE"," ",69],["T_BOOLEAN_AND","&&",69],["T_WHITESPACE"," ",69],["T_STRING","is_callable",69],"(",["T_VARIABLE","$to",69],")",")",["T_WHITESPACE"," ",69],"{",["T_WHITESPACE","\n            ",69],["T_LIST","list",70],"(",["T_VARIABLE","$to",70],",",["T_WHITESPACE"," ",70],["T_VARIABLE","$set",70],")",["T_WHITESPACE"," ",70],"=",["T_WHITESPACE"," ",70],["T_VARIABLE","$to",70],";",["T_WHITESPACE","\n        ",70],"}",["T_WHITESPACE","\n        ",71],["T_VARIABLE","$toIsArray",72],["T_WHITESPACE"," ",72],"=",["T_WHITESPACE"," ",72],["T_STRING","is_array",72],"(",["T_VARIABLE","$to",72],")",";",["T_WHITESPACE","\n        ",72],["T_VARIABLE","$toIsVO",73],["T_WHITESPACE","    ",73],"=",["T_WHITESPACE"," ",73],["T_VARIABLE","$to",73],["T_WHITESPACE"," ",73],["T_INSTANCEOF","instanceof",73],["T_WHITESPACE"," ",73],["T_STRING","Varien_Object",73],";",["T_WHITESPACE","\n\n        ",73],["T_FOREACH","foreach",75],["T_WHITESPACE"," ",75],"(",["T_VARIABLE","$map",75],["T_WHITESPACE"," ",75],["T_AS","as",75],["T_WHITESPACE"," ",75],["T_VARIABLE","$keyFrom",75],["T_WHITESPACE"," ",75],["T_DOUBLE_ARROW","=>",75],["T_WHITESPACE"," ",75],["T_VARIABLE","$keyTo",75],")",["T_WHITESPACE"," ",75],"{",["T_WHITESPACE","\n            ",75],["T_IF","if",76],["T_WHITESPACE"," ",76],"(","!",["T_STRING","is_string",76],"(",["T_VARIABLE","$keyFrom",76],")",")",["T_WHITESPACE"," ",76],"{",["T_WHITESPACE","\n                ",76],["T_VARIABLE","$keyFrom",77],["T_WHITESPACE"," ",77],"=",["T_WHITESPACE"," ",77],["T_VARIABLE","$keyTo",77],";",["T_WHITESPACE","\n            ",77],"}",["T_WHITESPACE","\n            ",78],["T_IF","if",79],["T_WHITESPACE"," ",79],"(",["T_VARIABLE","$fromIsArray",79],")",["T_WHITESPACE"," ",79],"{",["T_WHITESPACE","\n                ",79],["T_IF","if",80],["T_WHITESPACE"," ",80],"(",["T_STRING","array_key_exists",80],"(",["T_VARIABLE","$keyFrom",80],",",["T_WHITESPACE"," ",80],["T_VARIABLE","$from",80],")",")",["T_WHITESPACE"," ",80],"{",["T_WHITESPACE","\n                    ",80],["T_IF","if",81],["T_WHITESPACE"," ",81],"(",["T_VARIABLE","$toIsArray",81],")",["T_WHITESPACE"," ",81],"{",["T_WHITESPACE","\n                        ",81],["T_VARIABLE","$to",82],"[",["T_VARIABLE","$keyTo",82],"]",["T_WHITESPACE"," ",82],"=",["T_WHITESPACE"," ",82],["T_VARIABLE","$from",82],"[",["T_VARIABLE","$keyFrom",82],"]",";",["T_WHITESPACE","\n                    ",82],"}",["T_WHITESPACE"," ",83],["T_ELSEIF","elseif",83],["T_WHITESPACE"," ",83],"(",["T_VARIABLE","$toIsVO",83],")",["T_WHITESPACE"," ",83],"{",["T_WHITESPACE","\n                        ",83],["T_VARIABLE","$to",84],["T_OBJECT_OPERATOR","->",84],["T_VARIABLE","$set",84],"(",["T_VARIABLE","$keyTo",84],",",["T_WHITESPACE"," ",84],["T_VARIABLE","$from",84],"[",["T_VARIABLE","$keyFrom",84],"]",")",";",["T_WHITESPACE","\n                    ",84],"}",["T_WHITESPACE","\n                ",85],"}",["T_WHITESPACE","\n            ",86],"}",["T_WHITESPACE"," ",87],["T_ELSEIF","elseif",87],["T_WHITESPACE"," ",87],"(",["T_VARIABLE","$fromIsVO",87],")",["T_WHITESPACE"," ",87],"{",["T_WHITESPACE","\n                ",87],["T_COMMENT","\/\/ get value if (any) value is found as in magic data or a non-empty value with declared getter\n",88],["T_WHITESPACE","                ",89],["T_VARIABLE","$value",89],["T_WHITESPACE"," ",89],"=",["T_WHITESPACE"," ",89],["T_STRING","null",89],";",["T_WHITESPACE","\n                ",89],["T_IF","if",90],["T_WHITESPACE"," ",90],"(",["T_VARIABLE","$shouldGet",90],["T_WHITESPACE"," ",90],"=",["T_WHITESPACE"," ",90],["T_VARIABLE","$from",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","hasData",90],"(",["T_VARIABLE","$keyFrom",90],")",")",["T_WHITESPACE"," ",90],"{",["T_WHITESPACE","\n                    ",90],["T_VARIABLE","$value",91],["T_WHITESPACE"," ",91],"=",["T_WHITESPACE"," ",91],["T_VARIABLE","$from",91],["T_OBJECT_OPERATOR","->",91],["T_VARIABLE","$get",91],"(",["T_VARIABLE","$keyFrom",91],")",";",["T_WHITESPACE","\n                ",91],"}",["T_WHITESPACE"," ",92],["T_ELSEIF","elseif",92],["T_WHITESPACE"," ",92],"(",["T_STRING","method_exists",92],"(",["T_VARIABLE","$from",92],",",["T_WHITESPACE"," ",92],["T_VARIABLE","$get",92],")",")",["T_WHITESPACE"," ",92],"{",["T_WHITESPACE","\n                    ",92],["T_VARIABLE","$value",93],["T_WHITESPACE"," ",93],"=",["T_WHITESPACE"," ",93],["T_VARIABLE","$from",93],["T_OBJECT_OPERATOR","->",93],["T_VARIABLE","$get",93],"(",["T_VARIABLE","$keyFrom",93],")",";",["T_WHITESPACE","\n                    ",93],["T_IF","if",94],["T_WHITESPACE"," ",94],"(",["T_VARIABLE","$value",94],")",["T_WHITESPACE"," ",94],"{",["T_WHITESPACE","\n                        ",94],["T_VARIABLE","$shouldGet",95],["T_WHITESPACE"," ",95],"=",["T_WHITESPACE"," ",95],["T_STRING","true",95],";",["T_WHITESPACE","\n                    ",95],"}",["T_WHITESPACE","\n                ",96],"}",["T_WHITESPACE","\n                ",97],["T_IF","if",98],["T_WHITESPACE"," ",98],"(",["T_VARIABLE","$shouldGet",98],")",["T_WHITESPACE"," ",98],"{",["T_WHITESPACE","\n                    ",98],["T_IF","if",99],["T_WHITESPACE"," ",99],"(",["T_VARIABLE","$toIsArray",99],")",["T_WHITESPACE"," ",99],"{",["T_WHITESPACE","\n                        ",99],["T_VARIABLE","$to",100],"[",["T_VARIABLE","$keyTo",100],"]",["T_WHITESPACE"," ",100],"=",["T_WHITESPACE"," ",100],["T_VARIABLE","$value",100],";",["T_WHITESPACE","\n                    ",100],"}",["T_WHITESPACE"," ",101],["T_ELSEIF","elseif",101],["T_WHITESPACE"," ",101],"(",["T_VARIABLE","$toIsVO",101],")",["T_WHITESPACE"," ",101],"{",["T_WHITESPACE","\n                        ",101],["T_VARIABLE","$to",102],["T_OBJECT_OPERATOR","->",102],["T_VARIABLE","$set",102],"(",["T_VARIABLE","$keyTo",102],",",["T_WHITESPACE"," ",102],["T_VARIABLE","$value",102],")",";",["T_WHITESPACE","\n                    ",102],"}",["T_WHITESPACE","\n                ",103],"}",["T_WHITESPACE","\n            ",104],"}",["T_WHITESPACE","\n        ",105],"}",["T_WHITESPACE","\n        ",106],["T_FOREACH","foreach",107],["T_WHITESPACE"," ",107],"(",["T_VARIABLE","$defaults",107],["T_WHITESPACE"," ",107],["T_AS","as",107],["T_WHITESPACE"," ",107],["T_VARIABLE","$keyTo",107],["T_WHITESPACE"," ",107],["T_DOUBLE_ARROW","=>",107],["T_WHITESPACE"," ",107],["T_VARIABLE","$value",107],")",["T_WHITESPACE"," ",107],"{",["T_WHITESPACE","\n            ",107],["T_IF","if",108],["T_WHITESPACE"," ",108],"(",["T_VARIABLE","$toIsArray",108],")",["T_WHITESPACE"," ",108],"{",["T_WHITESPACE","\n                ",108],["T_IF","if",109],["T_WHITESPACE"," ",109],"(","!",["T_ISSET","isset",109],"(",["T_VARIABLE","$to",109],"[",["T_VARIABLE","$keyTo",109],"]",")",")",["T_WHITESPACE"," ",109],"{",["T_WHITESPACE","\n                    ",109],["T_VARIABLE","$to",110],"[",["T_VARIABLE","$keyTo",110],"]",["T_WHITESPACE"," ",110],"=",["T_WHITESPACE"," ",110],["T_VARIABLE","$value",110],";",["T_WHITESPACE","\n                ",110],"}",["T_WHITESPACE","\n            ",111],"}",["T_WHITESPACE"," ",112],["T_ELSEIF","elseif",112],["T_WHITESPACE"," ",112],"(",["T_VARIABLE","$toIsVO",112],")",["T_WHITESPACE"," ",112],"{",["T_WHITESPACE","\n                ",112],["T_IF","if",113],["T_WHITESPACE"," ",113],"(","!",["T_VARIABLE","$to",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","hasData",113],"(",["T_VARIABLE","$keyTo",113],")",")",["T_WHITESPACE"," ",113],"{",["T_WHITESPACE","\n                    ",113],["T_VARIABLE","$to",114],["T_OBJECT_OPERATOR","->",114],["T_VARIABLE","$set",114],"(",["T_VARIABLE","$keyTo",114],",",["T_WHITESPACE"," ",114],["T_VARIABLE","$value",114],")",";",["T_WHITESPACE","\n                ",114],"}",["T_WHITESPACE","\n            ",115],"}",["T_WHITESPACE","\n        ",116],"}",["T_WHITESPACE","\n        ",117],["T_RETURN","return",118],["T_WHITESPACE"," ",118],["T_VARIABLE","$to",118],";",["T_WHITESPACE","\n    ",118],"}",["T_WHITESPACE","\n",119],"}",["T_WHITESPACE","\n",120]]