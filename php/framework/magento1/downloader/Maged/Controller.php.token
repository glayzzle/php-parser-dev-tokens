[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Magento\n *\n * NOTICE OF LICENSE\n *\n * This source file is subject to the Open Software License (OSL 3.0)\n * that is bundled with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/opensource.org\/licenses\/osl-3.0.php\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@magento.com so we can send you a copy immediately.\n *\n * DISCLAIMER\n *\n * Do not edit or add to this file if you wish to upgrade Magento to newer\n * versions in the future. If you wish to customize Magento for your\n * needs please refer to http:\/\/www.magento.com for more information.\n *\n * @category    Mage\n * @package     Mage_Connect\n * @copyright  Copyright (c) 2006-2016 X.commerce, Inc. and affiliates (http:\/\/www.magento.com)\n * @license    http:\/\/opensource.org\/licenses\/osl-3.0.php  Open Software License (OSL 3.0)\n *\/",2],["T_WHITESPACE","\n\n",25],["T_DOC_COMMENT","\/**\n* Class Controller\n*\n* @category   Mage\n* @package    Mage_Connect\n* @copyright  Copyright (c) 2009 Irubin Consulting Inc. DBA Varien (http:\/\/www.varien.com)\n* @license    http:\/\/opensource.org\/licenses\/osl-3.0.php  Open Software License (OSL 3.0)\n*\/",27],["T_WHITESPACE","\n",34],["T_FINAL","final",35],["T_WHITESPACE"," ",35],["T_CLASS","class",35],["T_WHITESPACE"," ",35],["T_STRING","Maged_Controller",35],["T_WHITESPACE","\n",35],"{",["T_WHITESPACE","\n\n    ",36],["T_CONST","const",38],["T_WHITESPACE"," ",38],["T_STRING","DOWNLOADER_DIRECTORY",38],["T_WHITESPACE"," ",38],"=",["T_WHITESPACE"," ",38],["T_CONSTANT_ENCAPSED_STRING","\"downloader\"",38],";",["T_WHITESPACE","\n    ",38],["T_CONST","const",39],["T_WHITESPACE"," ",39],["T_STRING","BRUTE_FORCE_CONFIG_NAME",39],["T_WHITESPACE"," ",39],"=",["T_WHITESPACE"," ",39],["T_CONSTANT_ENCAPSED_STRING","\"brute-force.ini\"",39],";",["T_WHITESPACE","\n    \n    ",39],["T_DOC_COMMENT","\/**\n     * Request key of action\n     *\/",41],["T_WHITESPACE","\n    ",43],["T_CONST","const",44],["T_WHITESPACE"," ",44],["T_STRING","ACTION_KEY",44],["T_WHITESPACE"," ",44],"=",["T_WHITESPACE"," ",44],["T_CONSTANT_ENCAPSED_STRING","'A'",44],";",["T_WHITESPACE","\n\n    ",44],["T_DOC_COMMENT","\/**\n     * Instance of class\n     *\n     * @var Maged_Controller\n     *\/",46],["T_WHITESPACE","\n    ",50],["T_PRIVATE","private",51],["T_WHITESPACE"," ",51],["T_STATIC","static",51],["T_WHITESPACE"," ",51],["T_VARIABLE","$_instance",51],";",["T_WHITESPACE","\n\n    ",51],["T_DOC_COMMENT","\/**\n     * Current action name\n     *\n     * @var string\n     *\/",53],["T_WHITESPACE","\n    ",57],["T_PRIVATE","private",58],["T_WHITESPACE"," ",58],["T_VARIABLE","$_action",58],";",["T_WHITESPACE","\n\n    ",58],["T_DOC_COMMENT","\/**\n     * Controller is dispathed flag\n     *\n     * @var bool\n     *\/",60],["T_WHITESPACE","\n    ",64],["T_PRIVATE","private",65],["T_WHITESPACE"," ",65],["T_VARIABLE","$_isDispatched",65],["T_WHITESPACE"," ",65],"=",["T_WHITESPACE"," ",65],["T_STRING","false",65],";",["T_WHITESPACE","\n\n    ",65],["T_DOC_COMMENT","\/**\n     * Redirect to URL\n     *\n     * @var string\n     *\/",67],["T_WHITESPACE","\n    ",71],["T_PRIVATE","private",72],["T_WHITESPACE"," ",72],["T_VARIABLE","$_redirectUrl",72],";",["T_WHITESPACE","\n\n    ",72],["T_DOC_COMMENT","\/**\n     * Downloader dir path\n     *\n     * @var string\n     *\/",74],["T_WHITESPACE","\n    ",78],["T_PRIVATE","private",79],["T_WHITESPACE"," ",79],["T_VARIABLE","$_rootDir",79],";",["T_WHITESPACE","\n\n    ",79],["T_DOC_COMMENT","\/**\n     * Magento root dir path\n     *\n     * @var string\n     *\/",81],["T_WHITESPACE","\n    ",85],["T_PRIVATE","private",86],["T_WHITESPACE"," ",86],["T_VARIABLE","$_mageDir",86],";",["T_WHITESPACE","\n\n    ",86],["T_DOC_COMMENT","\/**\n     * View instance\n     *\n     * @var Maged_View\n     *\/",88],["T_WHITESPACE","\n    ",92],["T_PRIVATE","private",93],["T_WHITESPACE"," ",93],["T_VARIABLE","$_view",93],";",["T_WHITESPACE","\n\n    ",93],["T_DOC_COMMENT","\/**\n     * Connect config instance\n     *\n     * @var Mage_Connect_Config\n     *\/",95],["T_WHITESPACE","\n    ",99],["T_PRIVATE","private",100],["T_WHITESPACE"," ",100],["T_VARIABLE","$_config",100],";",["T_WHITESPACE","\n\n    ",100],["T_DOC_COMMENT","\/**\n     * Config instance\n     *\n     * @var Maged_Model_Config\n     *\/",102],["T_WHITESPACE","\n    ",106],["T_PRIVATE","private",107],["T_WHITESPACE"," ",107],["T_VARIABLE","$_localConfig",107],";",["T_WHITESPACE","\n\n    ",107],["T_DOC_COMMENT","\/**\n     * Session instance\n     *\n     * @var Maged_Model_Session\n     *\/",109],["T_WHITESPACE","\n    ",113],["T_PRIVATE","private",114],["T_WHITESPACE"," ",114],["T_VARIABLE","$_session",114],";",["T_WHITESPACE","\n\n    ",114],["T_DOC_COMMENT","\/**\n     * Root dir is writable flag\n     *\n     * @var bool\n     *\/",116],["T_WHITESPACE","\n    ",120],["T_PRIVATE","private",121],["T_WHITESPACE"," ",121],["T_VARIABLE","$_writable",121],";",["T_WHITESPACE","\n\n    ",121],["T_DOC_COMMENT","\/**\n     * Use maintenance flag\n     *\n     * @var bool\n     *\/",123],["T_WHITESPACE","\n    ",127],["T_PROTECTED","protected",128],["T_WHITESPACE"," ",128],["T_VARIABLE","$_maintenance",128],";",["T_WHITESPACE","\n\n    ",128],["T_DOC_COMMENT","\/**\n     * Maintenance file path\n     *\n     * @var string\n     *\/",130],["T_WHITESPACE","\n    ",134],["T_PROTECTED","protected",135],["T_WHITESPACE"," ",135],["T_VARIABLE","$_maintenanceFile",135],";",["T_WHITESPACE","\n\n    ",135],["T_DOC_COMMENT","\/**\n     * Register array for singletons\n     *\n     * @var array\n     *\/",137],["T_WHITESPACE","\n    ",141],["T_PROTECTED","protected",142],["T_WHITESPACE"," ",142],["T_VARIABLE","$_singletons",142],["T_WHITESPACE"," ",142],"=",["T_WHITESPACE"," ",142],["T_ARRAY","array",142],"(",")",";",["T_WHITESPACE","\n\n    ",142],["T_COMMENT","\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/ ACTIONS\n",144],["T_WHITESPACE","\n\n    ",145],["T_DOC_COMMENT","\/**\n     * Get ftp string from post data\n     *\n     * @param array $post post data\n     * @return string FTP Url\n     *\/",147],["T_WHITESPACE","\n    ",152],["T_PRIVATE","private",153],["T_WHITESPACE"," ",153],["T_FUNCTION","function",153],["T_WHITESPACE"," ",153],["T_STRING","getFtpPost",153],"(",["T_VARIABLE","$post",153],")","{",["T_WHITESPACE","\n        ",153],["T_IF","if",154],["T_WHITESPACE"," ",154],"(",["T_EMPTY","empty",154],"(",["T_VARIABLE","$post",154],"[",["T_CONSTANT_ENCAPSED_STRING","'ftp_host'",154],"]",")",")",["T_WHITESPACE"," ",154],"{",["T_WHITESPACE","\n            ",154],["T_VARIABLE","$_POST",155],"[",["T_CONSTANT_ENCAPSED_STRING","'ftp'",155],"]",["T_WHITESPACE"," ",155],"=",["T_WHITESPACE"," ",155],["T_CONSTANT_ENCAPSED_STRING","''",155],";",["T_WHITESPACE","\n            ",155],["T_RETURN","return",156],["T_WHITESPACE"," ",156],["T_CONSTANT_ENCAPSED_STRING","''",156],";",["T_WHITESPACE","\n        ",156],"}",["T_WHITESPACE","\n        ",157],["T_VARIABLE","$ftp",158],["T_WHITESPACE"," ",158],"=",["T_WHITESPACE"," ",158],["T_CONSTANT_ENCAPSED_STRING","'ftp:\/\/'",158],";",["T_WHITESPACE","\n        ",158],["T_VARIABLE","$post",159],"[",["T_CONSTANT_ENCAPSED_STRING","'ftp_proto'",159],"]",["T_WHITESPACE"," ",159],"=",["T_WHITESPACE"," ",159],["T_CONSTANT_ENCAPSED_STRING","'ftp:\/\/'",159],";",["T_WHITESPACE","\n\n        ",159],["T_IF","if",161],["T_WHITESPACE"," ",161],"(","!",["T_EMPTY","empty",161],"(",["T_VARIABLE","$post",161],"[",["T_CONSTANT_ENCAPSED_STRING","'ftp_path'",161],"]",")",["T_WHITESPACE"," ",161],["T_BOOLEAN_AND","&&",161],["T_WHITESPACE"," ",161],["T_STRING","strlen",161],"(",["T_STRING","trim",161],"(",["T_VARIABLE","$post",161],"[",["T_CONSTANT_ENCAPSED_STRING","'ftp_path'",161],"]",",",["T_WHITESPACE"," ",161],["T_CONSTANT_ENCAPSED_STRING","'\\\\\/'",161],")",")",["T_WHITESPACE"," ",161],">",["T_WHITESPACE"," ",161],["T_LNUMBER","0",161],")",["T_WHITESPACE"," ",161],"{",["T_WHITESPACE","\n            ",161],["T_VARIABLE","$post",162],"[",["T_CONSTANT_ENCAPSED_STRING","'ftp_path'",162],"]",["T_WHITESPACE"," ",162],"=",["T_WHITESPACE"," ",162],["T_CONSTANT_ENCAPSED_STRING","'\/'",162],["T_WHITESPACE"," ",162],".",["T_WHITESPACE"," ",162],["T_STRING","trim",162],"(",["T_VARIABLE","$post",162],"[",["T_CONSTANT_ENCAPSED_STRING","'ftp_path'",162],"]",",",["T_WHITESPACE"," ",162],["T_CONSTANT_ENCAPSED_STRING","'\\\\\/'",162],")",["T_WHITESPACE"," ",162],".",["T_WHITESPACE"," ",162],["T_CONSTANT_ENCAPSED_STRING","'\/'",162],";",["T_WHITESPACE","\n        ",162],"}",["T_WHITESPACE"," ",163],["T_ELSE","else",163],["T_WHITESPACE"," ",163],"{",["T_WHITESPACE","\n            ",163],["T_VARIABLE","$post",164],"[",["T_CONSTANT_ENCAPSED_STRING","'ftp_path'",164],"]",["T_WHITESPACE"," ",164],"=",["T_WHITESPACE"," ",164],["T_CONSTANT_ENCAPSED_STRING","'\/'",164],";",["T_WHITESPACE","\n        ",164],"}",["T_WHITESPACE","\n\n        ",165],["T_VARIABLE","$start",167],["T_WHITESPACE"," ",167],"=",["T_WHITESPACE"," ",167],["T_STRING","stripos",167],"(",["T_VARIABLE","$post",167],"[",["T_CONSTANT_ENCAPSED_STRING","'ftp_host'",167],"]",",",["T_CONSTANT_ENCAPSED_STRING","'ftp:\/\/'",167],")",";",["T_WHITESPACE","\n        ",167],["T_IF","if",168],["T_WHITESPACE"," ",168],"(",["T_VARIABLE","$start",168],["T_WHITESPACE"," ",168],["T_IS_NOT_IDENTICAL","!==",168],["T_WHITESPACE"," ",168],["T_STRING","false",168],")","{",["T_WHITESPACE","\n            ",168],["T_VARIABLE","$post",169],"[",["T_CONSTANT_ENCAPSED_STRING","'ftp_proto'",169],"]",["T_WHITESPACE"," ",169],"=",["T_WHITESPACE"," ",169],["T_CONSTANT_ENCAPSED_STRING","'ftp:\/\/'",169],";",["T_WHITESPACE","\n            ",169],["T_VARIABLE","$post",170],"[",["T_CONSTANT_ENCAPSED_STRING","'ftp_host'",170],"]",["T_WHITESPACE","  ",170],"=",["T_WHITESPACE"," ",170],["T_STRING","substr",170],"(",["T_VARIABLE","$post",170],"[",["T_CONSTANT_ENCAPSED_STRING","'ftp_host'",170],"]",",",["T_WHITESPACE"," ",170],["T_VARIABLE","$start",170],["T_WHITESPACE"," ",170],"+",["T_WHITESPACE"," ",170],["T_LNUMBER","6",170],["T_WHITESPACE"," ",170],"-",["T_WHITESPACE"," ",170],["T_LNUMBER","1",170],")",";",["T_WHITESPACE","\n        ",170],"}",["T_WHITESPACE","\n        ",171],["T_VARIABLE","$start",172],["T_WHITESPACE"," ",172],"=",["T_WHITESPACE"," ",172],["T_STRING","stripos",172],"(",["T_VARIABLE","$post",172],"[",["T_CONSTANT_ENCAPSED_STRING","'ftp_host'",172],"]",",",["T_CONSTANT_ENCAPSED_STRING","'ftps:\/\/'",172],")",";",["T_WHITESPACE","\n        ",172],["T_IF","if",173],["T_WHITESPACE"," ",173],"(",["T_VARIABLE","$start",173],["T_WHITESPACE"," ",173],["T_IS_NOT_IDENTICAL","!==",173],["T_WHITESPACE"," ",173],["T_STRING","false",173],")",["T_WHITESPACE"," ",173],"{",["T_WHITESPACE","\n            ",173],["T_VARIABLE","$post",174],"[",["T_CONSTANT_ENCAPSED_STRING","'ftp_proto'",174],"]",["T_WHITESPACE"," ",174],"=",["T_WHITESPACE"," ",174],["T_CONSTANT_ENCAPSED_STRING","'ftps:\/\/'",174],";",["T_WHITESPACE","\n            ",174],["T_VARIABLE","$post",175],"[",["T_CONSTANT_ENCAPSED_STRING","'ftp_host'",175],"]",["T_WHITESPACE","  ",175],"=",["T_WHITESPACE"," ",175],["T_STRING","substr",175],"(",["T_VARIABLE","$post",175],"[",["T_CONSTANT_ENCAPSED_STRING","'ftp_host'",175],"]",",",["T_WHITESPACE"," ",175],["T_VARIABLE","$start",175],["T_WHITESPACE"," ",175],"+",["T_WHITESPACE"," ",175],["T_LNUMBER","7",175],["T_WHITESPACE"," ",175],"-",["T_WHITESPACE"," ",175],["T_LNUMBER","1",175],")",";",["T_WHITESPACE","\n        ",175],"}",["T_WHITESPACE","\n\n        ",176],["T_VARIABLE","$post",178],"[",["T_CONSTANT_ENCAPSED_STRING","'ftp_host'",178],"]",["T_WHITESPACE"," ",178],"=",["T_WHITESPACE"," ",178],["T_STRING","trim",178],"(",["T_VARIABLE","$post",178],"[",["T_CONSTANT_ENCAPSED_STRING","'ftp_host'",178],"]",",",["T_WHITESPACE"," ",178],["T_CONSTANT_ENCAPSED_STRING","'\\\\\/'",178],")",";",["T_WHITESPACE","\n\n        ",178],["T_IF","if",180],["T_WHITESPACE"," ",180],"(","!",["T_EMPTY","empty",180],"(",["T_VARIABLE","$post",180],"[",["T_CONSTANT_ENCAPSED_STRING","'ftp_login'",180],"]",")",["T_WHITESPACE"," ",180],["T_BOOLEAN_AND","&&",180],["T_WHITESPACE"," ",180],"!",["T_EMPTY","empty",180],"(",["T_VARIABLE","$post",180],"[",["T_CONSTANT_ENCAPSED_STRING","'ftp_password'",180],"]",")",")","{",["T_WHITESPACE","\n            ",180],["T_VARIABLE","$ftp",181],["T_WHITESPACE"," ",181],"=",["T_WHITESPACE"," ",181],["T_STRING","sprintf",181],"(",["T_CONSTANT_ENCAPSED_STRING","\"%s%s:%s@%s%s\"",181],",",["T_WHITESPACE","\n                    ",181],["T_VARIABLE","$post",182],"[",["T_CONSTANT_ENCAPSED_STRING","'ftp_proto'",182],"]",",",["T_WHITESPACE","\n                    ",182],["T_VARIABLE","$post",183],"[",["T_CONSTANT_ENCAPSED_STRING","'ftp_login'",183],"]",",",["T_WHITESPACE","\n                    ",183],["T_VARIABLE","$post",184],"[",["T_CONSTANT_ENCAPSED_STRING","'ftp_password'",184],"]",",",["T_WHITESPACE","\n                    ",184],["T_VARIABLE","$post",185],"[",["T_CONSTANT_ENCAPSED_STRING","'ftp_host'",185],"]",",",["T_WHITESPACE","\n                    ",185],["T_VARIABLE","$post",186],"[",["T_CONSTANT_ENCAPSED_STRING","'ftp_path'",186],"]",["T_WHITESPACE","\n            ",186],")",";",["T_WHITESPACE","\n        ",187],"}",["T_WHITESPACE"," ",188],["T_ELSEIF","elseif",188],["T_WHITESPACE"," ",188],"(","!",["T_EMPTY","empty",188],"(",["T_VARIABLE","$post",188],"[",["T_CONSTANT_ENCAPSED_STRING","'ftp_login'",188],"]",")",")",["T_WHITESPACE"," ",188],"{",["T_WHITESPACE","\n            ",188],["T_VARIABLE","$ftp",189],["T_WHITESPACE"," ",189],"=",["T_WHITESPACE"," ",189],["T_STRING","sprintf",189],"(",["T_WHITESPACE","\n                ",189],["T_CONSTANT_ENCAPSED_STRING","\"%s%s@%s%s\"",190],",",["T_WHITESPACE","\n                ",190],["T_VARIABLE","$post",191],"[",["T_CONSTANT_ENCAPSED_STRING","'ftp_proto'",191],"]",",",["T_WHITESPACE","\n                ",191],["T_VARIABLE","$post",192],"[",["T_CONSTANT_ENCAPSED_STRING","'ftp_login'",192],"]",",",["T_WHITESPACE","\n                ",192],["T_VARIABLE","$post",193],"[",["T_CONSTANT_ENCAPSED_STRING","'ftp_host'",193],"]",",",["T_WHITESPACE","\n                ",193],["T_VARIABLE","$post",194],"[",["T_CONSTANT_ENCAPSED_STRING","'ftp_path'",194],"]",["T_WHITESPACE","\n            ",194],")",";",["T_WHITESPACE","\n        ",195],"}",["T_WHITESPACE"," ",196],["T_ELSE","else",196],["T_WHITESPACE"," ",196],"{",["T_WHITESPACE","\n            ",196],["T_VARIABLE","$ftp",197],["T_WHITESPACE"," ",197],"=",["T_WHITESPACE"," ",197],["T_VARIABLE","$post",197],"[",["T_CONSTANT_ENCAPSED_STRING","'ftp_proto'",197],"]",["T_WHITESPACE"," ",197],".",["T_WHITESPACE"," ",197],["T_VARIABLE","$post",197],"[",["T_CONSTANT_ENCAPSED_STRING","'ftp_host'",197],"]",["T_WHITESPACE"," ",197],".",["T_WHITESPACE"," ",197],["T_VARIABLE","$post",197],"[",["T_CONSTANT_ENCAPSED_STRING","'ftp_path'",197],"]",";",["T_WHITESPACE","\n        ",197],"}",["T_WHITESPACE","\n\n        ",198],["T_VARIABLE","$_POST",200],"[",["T_CONSTANT_ENCAPSED_STRING","'ftp'",200],"]",["T_WHITESPACE"," ",200],"=",["T_WHITESPACE"," ",200],["T_VARIABLE","$ftp",200],";",["T_WHITESPACE","\n        ",200],["T_RETURN","return",201],["T_WHITESPACE"," ",201],["T_VARIABLE","$ftp",201],";",["T_WHITESPACE","\n    ",201],"}",["T_WHITESPACE","\n\n    ",202],["T_DOC_COMMENT","\/**\n     * NoRoute\n     *\/",204],["T_WHITESPACE","\n    ",206],["T_PUBLIC","public",207],["T_WHITESPACE"," ",207],["T_FUNCTION","function",207],["T_WHITESPACE"," ",207],["T_STRING","norouteAction",207],"(",")",["T_WHITESPACE","\n    ",207],"{",["T_WHITESPACE","\n        ",208],["T_STRING","header",209],"(",["T_CONSTANT_ENCAPSED_STRING","\"HTTP\/1.0 404 Invalid Action\"",209],")",";",["T_WHITESPACE","\n        ",209],["T_ECHO","echo",210],["T_WHITESPACE"," ",210],["T_VARIABLE","$this",210],["T_OBJECT_OPERATOR","->",210],["T_STRING","view",210],"(",")",["T_OBJECT_OPERATOR","->",210],["T_STRING","template",210],"(",["T_CONSTANT_ENCAPSED_STRING","'noroute.phtml'",210],")",";",["T_WHITESPACE","\n    ",210],"}",["T_WHITESPACE","\n\n    ",211],["T_DOC_COMMENT","\/**\n     * Login\n     *\/",213],["T_WHITESPACE","\n    ",215],["T_PUBLIC","public",216],["T_WHITESPACE"," ",216],["T_FUNCTION","function",216],["T_WHITESPACE"," ",216],["T_STRING","loginAction",216],"(",")",["T_WHITESPACE","\n    ",216],"{",["T_WHITESPACE","\n        ",217],["T_VARIABLE","$this",218],["T_OBJECT_OPERATOR","->",218],["T_STRING","view",218],"(",")",["T_OBJECT_OPERATOR","->",218],["T_STRING","set",218],"(",["T_CONSTANT_ENCAPSED_STRING","'username'",218],",",["T_WHITESPACE"," ",218],"!",["T_EMPTY","empty",218],"(",["T_VARIABLE","$_GET",218],"[",["T_CONSTANT_ENCAPSED_STRING","'username'",218],"]",")",["T_WHITESPACE"," ",218],"?",["T_WHITESPACE"," ",218],["T_VARIABLE","$_GET",218],"[",["T_CONSTANT_ENCAPSED_STRING","'username'",218],"]",["T_WHITESPACE"," ",218],":",["T_WHITESPACE"," ",218],["T_CONSTANT_ENCAPSED_STRING","''",218],")",";",["T_WHITESPACE","\n        ",218],["T_ECHO","echo",219],["T_WHITESPACE"," ",219],["T_VARIABLE","$this",219],["T_OBJECT_OPERATOR","->",219],["T_STRING","view",219],"(",")",["T_OBJECT_OPERATOR","->",219],["T_STRING","template",219],"(",["T_CONSTANT_ENCAPSED_STRING","'login.phtml'",219],")",";",["T_WHITESPACE","\n    ",219],"}",["T_WHITESPACE","\n\n    ",220],["T_DOC_COMMENT","\/**\n     * Logout\n     *\/",222],["T_WHITESPACE","\n    ",224],["T_PUBLIC","public",225],["T_WHITESPACE"," ",225],["T_FUNCTION","function",225],["T_WHITESPACE"," ",225],["T_STRING","logoutAction",225],"(",")",["T_WHITESPACE","\n    ",225],"{",["T_WHITESPACE","\n        ",226],["T_VARIABLE","$this",227],["T_OBJECT_OPERATOR","->",227],["T_STRING","session",227],"(",")",["T_OBJECT_OPERATOR","->",227],["T_STRING","logout",227],"(",")",";",["T_WHITESPACE","\n        ",227],["T_VARIABLE","$this",228],["T_OBJECT_OPERATOR","->",228],["T_STRING","redirect",228],"(",["T_VARIABLE","$this",228],["T_OBJECT_OPERATOR","->",228],["T_STRING","url",228],"(",")",")",";",["T_WHITESPACE","\n    ",228],"}",["T_WHITESPACE","\n\n    ",229],["T_DOC_COMMENT","\/**\n     * Index\n     *\/",231],["T_WHITESPACE","\n    ",233],["T_PUBLIC","public",234],["T_WHITESPACE"," ",234],["T_FUNCTION","function",234],["T_WHITESPACE"," ",234],["T_STRING","indexAction",234],"(",")",["T_WHITESPACE","\n    ",234],"{",["T_WHITESPACE","\n        ",235],["T_VARIABLE","$config",236],["T_WHITESPACE"," ",236],"=",["T_WHITESPACE"," ",236],["T_VARIABLE","$this",236],["T_OBJECT_OPERATOR","->",236],["T_STRING","config",236],"(",")",";",["T_WHITESPACE","\n        ",236],["T_IF","if",237],["T_WHITESPACE"," ",237],"(","!",["T_VARIABLE","$this",237],["T_OBJECT_OPERATOR","->",237],["T_STRING","isInstalled",237],"(",")",")",["T_WHITESPACE"," ",237],"{",["T_WHITESPACE","\n            ",237],["T_VARIABLE","$this",238],["T_OBJECT_OPERATOR","->",238],["T_STRING","view",238],"(",")",["T_OBJECT_OPERATOR","->",238],["T_STRING","set",238],"(",["T_CONSTANT_ENCAPSED_STRING","'mage_url'",238],",",["T_WHITESPACE"," ",238],["T_STRING","dirname",238],"(",["T_STRING","dirname",238],"(",["T_VARIABLE","$_SERVER",238],"[",["T_CONSTANT_ENCAPSED_STRING","'SCRIPT_NAME'",238],"]",")",")",")",";",["T_WHITESPACE","\n            ",238],["T_VARIABLE","$this",239],["T_OBJECT_OPERATOR","->",239],["T_STRING","view",239],"(",")",["T_OBJECT_OPERATOR","->",239],["T_STRING","set",239],"(",["T_WHITESPACE","\n                ",239],["T_CONSTANT_ENCAPSED_STRING","'use_custom_permissions_mode'",240],",",["T_WHITESPACE","\n                ",240],["T_VARIABLE","$config",241],["T_OBJECT_OPERATOR","->",241],["T_STRING","__get",241],"(",["T_CONSTANT_ENCAPSED_STRING","'use_custom_permissions_mode'",241],")",["T_WHITESPACE","\n                    ",241],"?",["T_WHITESPACE"," ",242],["T_VARIABLE","$config",242],["T_OBJECT_OPERATOR","->",242],["T_STRING","__get",242],"(",["T_CONSTANT_ENCAPSED_STRING","'use_custom_permissions_mode'",242],")",["T_WHITESPACE","\n                    ",242],":",["T_WHITESPACE"," ",243],["T_CONSTANT_ENCAPSED_STRING","'0'",243],["T_WHITESPACE","\n            ",243],")",";",["T_WHITESPACE","\n            ",244],["T_VARIABLE","$this",245],["T_OBJECT_OPERATOR","->",245],["T_STRING","view",245],"(",")",["T_OBJECT_OPERATOR","->",245],["T_STRING","set",245],"(",["T_CONSTANT_ENCAPSED_STRING","'mkdir_mode'",245],",",["T_WHITESPACE"," ",245],["T_STRING","decoct",245],"(",["T_VARIABLE","$config",245],["T_OBJECT_OPERATOR","->",245],["T_STRING","__get",245],"(",["T_CONSTANT_ENCAPSED_STRING","'global_dir_mode'",245],")",")",")",";",["T_WHITESPACE","\n            ",245],["T_VARIABLE","$this",246],["T_OBJECT_OPERATOR","->",246],["T_STRING","view",246],"(",")",["T_OBJECT_OPERATOR","->",246],["T_STRING","set",246],"(",["T_CONSTANT_ENCAPSED_STRING","'chmod_file_mode'",246],",",["T_WHITESPACE"," ",246],["T_STRING","decoct",246],"(",["T_VARIABLE","$config",246],["T_OBJECT_OPERATOR","->",246],["T_STRING","__get",246],"(",["T_CONSTANT_ENCAPSED_STRING","'global_file_mode'",246],")",")",")",";",["T_WHITESPACE","\n            ",246],["T_VARIABLE","$this",247],["T_OBJECT_OPERATOR","->",247],["T_STRING","view",247],"(",")",["T_OBJECT_OPERATOR","->",247],["T_STRING","set",247],"(",["T_CONSTANT_ENCAPSED_STRING","'protocol'",247],",",["T_WHITESPACE"," ",247],["T_VARIABLE","$config",247],["T_OBJECT_OPERATOR","->",247],["T_STRING","__get",247],"(",["T_CONSTANT_ENCAPSED_STRING","'protocol'",247],")",")",";",["T_WHITESPACE","\n            ",247],["T_VARIABLE","$this",248],["T_OBJECT_OPERATOR","->",248],["T_STRING","channelConfig",248],"(",")",["T_OBJECT_OPERATOR","->",248],["T_STRING","setInstallView",248],"(",["T_VARIABLE","$config",248],",",["T_VARIABLE","$this",248],["T_OBJECT_OPERATOR","->",248],["T_STRING","view",248],"(",")",")",";",["T_WHITESPACE","\n\n            ",248],["T_ECHO","echo",250],["T_WHITESPACE"," ",250],["T_VARIABLE","$this",250],["T_OBJECT_OPERATOR","->",250],["T_STRING","view",250],"(",")",["T_OBJECT_OPERATOR","->",250],["T_STRING","template",250],"(",["T_CONSTANT_ENCAPSED_STRING","'install\/download.phtml'",250],")",";",["T_WHITESPACE","\n        ",250],"}",["T_WHITESPACE"," ",251],["T_ELSEIF","elseif",251],["T_WHITESPACE"," ",251],"(","!",["T_VARIABLE","$config",251],["T_OBJECT_OPERATOR","->",251],["T_STRING","sync_pear",251],")",["T_WHITESPACE"," ",251],"{",["T_WHITESPACE","\n            ",251],["T_VARIABLE","$this",252],["T_OBJECT_OPERATOR","->",252],["T_STRING","model",252],"(",["T_CONSTANT_ENCAPSED_STRING","'connect'",252],",",["T_WHITESPACE"," ",252],["T_STRING","true",252],")",["T_OBJECT_OPERATOR","->",252],["T_STRING","connect",252],"(",")",["T_OBJECT_OPERATOR","->",252],["T_STRING","run",252],"(",["T_CONSTANT_ENCAPSED_STRING","'sync'",252],")",";",["T_WHITESPACE","\n            ",252],["T_VARIABLE","$this",253],["T_OBJECT_OPERATOR","->",253],["T_STRING","forward",253],"(",["T_CONSTANT_ENCAPSED_STRING","'connectPackages'",253],")",";",["T_WHITESPACE","\n        ",253],"}",["T_WHITESPACE"," ",254],["T_ELSE","else",254],["T_WHITESPACE"," ",254],"{",["T_WHITESPACE","\n            ",254],["T_VARIABLE","$this",255],["T_OBJECT_OPERATOR","->",255],["T_STRING","forward",255],"(",["T_CONSTANT_ENCAPSED_STRING","'connectPackages'",255],")",";",["T_WHITESPACE","\n        ",255],"}",["T_WHITESPACE","\n    ",256],"}",["T_WHITESPACE","\n\n    ",257],["T_DOC_COMMENT","\/**\n     * Empty Action\n     *\/",259],["T_WHITESPACE","\n    ",261],["T_PUBLIC","public",262],["T_WHITESPACE"," ",262],["T_FUNCTION","function",262],["T_WHITESPACE"," ",262],["T_STRING","emptyAction",262],"(",")",["T_WHITESPACE","\n    ",262],"{",["T_WHITESPACE","\n        ",263],["T_VARIABLE","$this",264],["T_OBJECT_OPERATOR","->",264],["T_STRING","model",264],"(",["T_CONSTANT_ENCAPSED_STRING","'connect'",264],",",["T_WHITESPACE"," ",264],["T_STRING","true",264],")",["T_WHITESPACE","\n            ",264],["T_OBJECT_OPERATOR","->",265],["T_STRING","connect",265],"(",")",["T_WHITESPACE","\n            ",265],["T_OBJECT_OPERATOR","->",266],["T_STRING","runHtmlConsole",266],"(",["T_CONSTANT_ENCAPSED_STRING","'Please wait, preparing for updates...'",266],")",";",["T_WHITESPACE","\n    ",266],"}",["T_WHITESPACE","\n\n    ",267],["T_DOC_COMMENT","\/**\n     * Install all magento\n     *\/",269],["T_WHITESPACE","\n    ",271],["T_PUBLIC","public",272],["T_WHITESPACE"," ",272],["T_FUNCTION","function",272],["T_WHITESPACE"," ",272],["T_STRING","connectInstallAllAction",272],"(",")",["T_WHITESPACE","\n    ",272],"{",["T_WHITESPACE","\n        ",273],["T_VARIABLE","$p",274],["T_WHITESPACE"," ",274],"=",["T_WHITESPACE"," ",274],"&",["T_VARIABLE","$_POST",274],";",["T_WHITESPACE","\n        ",274],["T_VARIABLE","$this",275],["T_OBJECT_OPERATOR","->",275],["T_STRING","getFtpPost",275],"(",["T_VARIABLE","$p",275],")",";",["T_WHITESPACE","\n        ",275],["T_VARIABLE","$errors",276],["T_WHITESPACE"," ",276],"=",["T_WHITESPACE"," ",276],["T_VARIABLE","$this",276],["T_OBJECT_OPERATOR","->",276],["T_STRING","model",276],"(",["T_CONSTANT_ENCAPSED_STRING","'connect'",276],",",["T_WHITESPACE"," ",276],["T_STRING","true",276],")",["T_OBJECT_OPERATOR","->",276],["T_STRING","validateConfigPost",276],"(",["T_VARIABLE","$p",276],")",";",["T_WHITESPACE","\n        ",276],["T_COMMENT","\/* todo show errors *\/",277],["T_WHITESPACE","\n        ",277],["T_IF","if",278],["T_WHITESPACE"," ",278],"(",["T_VARIABLE","$errors",278],")",["T_WHITESPACE"," ",278],"{",["T_WHITESPACE","\n            ",278],["T_VARIABLE","$message",279],["T_WHITESPACE"," ",279],"=",["T_WHITESPACE"," ",279],["T_CONSTANT_ENCAPSED_STRING","\"CONNECT ERROR: \"",279],";",["T_WHITESPACE","\n            ",279],["T_FOREACH","foreach",280],["T_WHITESPACE"," ",280],"(",["T_VARIABLE","$errors",280],["T_WHITESPACE"," ",280],["T_AS","as",280],["T_WHITESPACE"," ",280],["T_VARIABLE","$err",280],")",["T_WHITESPACE"," ",280],"{",["T_WHITESPACE","\n                ",280],["T_VARIABLE","$message",281],["T_WHITESPACE"," ",281],["T_CONCAT_EQUAL",".=",281],["T_WHITESPACE"," ",281],["T_VARIABLE","$err",281],["T_WHITESPACE"," ",281],".",["T_WHITESPACE"," ",281],["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",281],";",["T_WHITESPACE","\n            ",281],"}",["T_WHITESPACE","\n            ",282],["T_VARIABLE","$this",283],["T_OBJECT_OPERATOR","->",283],["T_STRING","model",283],"(",["T_CONSTANT_ENCAPSED_STRING","'connect'",283],",",["T_WHITESPACE"," ",283],["T_STRING","true",283],")",["T_OBJECT_OPERATOR","->",283],["T_STRING","connect",283],"(",")",["T_OBJECT_OPERATOR","->",283],["T_STRING","runHtmlConsole",283],"(",["T_VARIABLE","$message",283],")",";",["T_WHITESPACE","\n            ",283],["T_VARIABLE","$this",284],["T_OBJECT_OPERATOR","->",284],["T_STRING","model",284],"(",["T_CONSTANT_ENCAPSED_STRING","'connect'",284],",",["T_WHITESPACE"," ",284],["T_STRING","true",284],")",["T_OBJECT_OPERATOR","->",284],["T_STRING","connect",284],"(",")",["T_OBJECT_OPERATOR","->",284],["T_STRING","showConnectErrors",284],"(",["T_VARIABLE","$errors",284],")",";",["T_WHITESPACE","\n            ",284],["T_RETURN","return",285],";",["T_WHITESPACE","\n        ",285],"}",["T_WHITESPACE","\n\n        ",286],["T_IF","if",288],"(",["T_WHITESPACE"," ",288],["T_LNUMBER","1",288],["T_WHITESPACE"," ",288],["T_IS_EQUAL","==",288],["T_WHITESPACE"," ",288],["T_VARIABLE","$p",288],"[",["T_CONSTANT_ENCAPSED_STRING","'inst_protocol'",288],"]",")","{",["T_WHITESPACE","\n            ",288],["T_VARIABLE","$this",289],["T_OBJECT_OPERATOR","->",289],["T_STRING","model",289],"(",["T_CONSTANT_ENCAPSED_STRING","'connect'",289],",",["T_WHITESPACE"," ",289],["T_STRING","true",289],")",["T_OBJECT_OPERATOR","->",289],["T_STRING","connect",289],"(",")",["T_OBJECT_OPERATOR","->",289],["T_STRING","setRemoteConfig",289],"(",["T_VARIABLE","$this",289],["T_OBJECT_OPERATOR","->",289],["T_STRING","getFtpPost",289],"(",["T_VARIABLE","$p",289],")",")",";",["T_WHITESPACE","\n        ",289],"}",["T_WHITESPACE","\n\n        ",290],["T_VARIABLE","$this",292],["T_OBJECT_OPERATOR","->",292],["T_STRING","channelConfig",292],"(",")",["T_OBJECT_OPERATOR","->",292],["T_STRING","setPostData",292],"(",["T_VARIABLE","$this",292],["T_OBJECT_OPERATOR","->",292],["T_STRING","config",292],"(",")",",",["T_VARIABLE","$p",292],")",";",["T_WHITESPACE","\n\n        ",292],["T_VARIABLE","$chan",294],["T_WHITESPACE"," ",294],"=",["T_WHITESPACE"," ",294],["T_VARIABLE","$this",294],["T_OBJECT_OPERATOR","->",294],["T_STRING","config",294],"(",")",["T_OBJECT_OPERATOR","->",294],["T_STRING","__get",294],"(",["T_CONSTANT_ENCAPSED_STRING","'root_channel'",294],")",";",["T_WHITESPACE","\n        ",294],["T_VARIABLE","$this",295],["T_OBJECT_OPERATOR","->",295],["T_STRING","model",295],"(",["T_CONSTANT_ENCAPSED_STRING","'connect'",295],",",["T_WHITESPACE"," ",295],["T_STRING","true",295],")",["T_OBJECT_OPERATOR","->",295],["T_STRING","saveConfigPost",295],"(",["T_VARIABLE","$_POST",295],")",";",["T_WHITESPACE","\n        ",295],["T_VARIABLE","$this",296],["T_OBJECT_OPERATOR","->",296],["T_STRING","channelConfig",296],"(",")",["T_OBJECT_OPERATOR","->",296],["T_STRING","setSettingsSession",296],"(",["T_VARIABLE","$_POST",296],",",["T_WHITESPACE"," ",296],["T_VARIABLE","$this",296],["T_OBJECT_OPERATOR","->",296],["T_STRING","session",296],"(",")",")",";",["T_WHITESPACE","\n        ",296],["T_VARIABLE","$this",297],["T_OBJECT_OPERATOR","->",297],["T_STRING","model",297],"(",["T_CONSTANT_ENCAPSED_STRING","'connect'",297],",",["T_WHITESPACE"," ",297],["T_STRING","true",297],")",["T_OBJECT_OPERATOR","->",297],["T_STRING","installAll",297],"(","!",["T_EMPTY","empty",297],"(",["T_VARIABLE","$_GET",297],"[",["T_CONSTANT_ENCAPSED_STRING","'force'",297],"]",")",",",["T_WHITESPACE"," ",297],["T_VARIABLE","$chan",297],")",";",["T_WHITESPACE","\n        ",297],["T_VARIABLE","$p",298],["T_WHITESPACE"," ",298],"=",["T_WHITESPACE"," ",298],["T_STRING","null",298],";",["T_WHITESPACE","\n    ",298],"}",["T_WHITESPACE","\n\n    ",299],["T_DOC_COMMENT","\/**\n     * Connect packages\n     *\/",301],["T_WHITESPACE","\n    ",303],["T_PUBLIC","public",304],["T_WHITESPACE"," ",304],["T_FUNCTION","function",304],["T_WHITESPACE"," ",304],["T_STRING","connectPackagesAction",304],"(",")",["T_WHITESPACE","\n    ",304],"{",["T_WHITESPACE","\n        ",305],["T_VARIABLE","$connect",306],["T_WHITESPACE"," ",306],"=",["T_WHITESPACE"," ",306],["T_VARIABLE","$this",306],["T_OBJECT_OPERATOR","->",306],["T_STRING","model",306],"(",["T_CONSTANT_ENCAPSED_STRING","'connect'",306],",",["T_WHITESPACE"," ",306],["T_STRING","true",306],")",";",["T_WHITESPACE","\n\n        ",306],["T_IF","if",308],["T_WHITESPACE"," ",308],"(",["T_ISSET","isset",308],"(",["T_VARIABLE","$_GET",308],"[",["T_CONSTANT_ENCAPSED_STRING","'loggedin'",308],"]",")",")",["T_WHITESPACE"," ",308],"{",["T_WHITESPACE","\n            ",308],["T_VARIABLE","$connect",309],["T_OBJECT_OPERATOR","->",309],["T_STRING","connect",309],"(",")",["T_OBJECT_OPERATOR","->",309],["T_STRING","run",309],"(",["T_CONSTANT_ENCAPSED_STRING","'sync'",309],")",";",["T_WHITESPACE","\n        ",309],"}",["T_WHITESPACE","\n\n        ",310],["T_VARIABLE","$this",312],["T_OBJECT_OPERATOR","->",312],["T_STRING","view",312],"(",")",["T_OBJECT_OPERATOR","->",312],["T_STRING","set",312],"(",["T_CONSTANT_ENCAPSED_STRING","'connect'",312],",",["T_WHITESPACE"," ",312],["T_VARIABLE","$connect",312],")",";",["T_WHITESPACE","\n        ",312],["T_VARIABLE","$this",313],["T_OBJECT_OPERATOR","->",313],["T_STRING","view",313],"(",")",["T_OBJECT_OPERATOR","->",313],["T_STRING","set",313],"(",["T_CONSTANT_ENCAPSED_STRING","'channel_config'",313],",",["T_WHITESPACE"," ",313],["T_VARIABLE","$this",313],["T_OBJECT_OPERATOR","->",313],["T_STRING","channelConfig",313],"(",")",")",";",["T_WHITESPACE","\n        ",313],["T_VARIABLE","$remoteConfig",314],["T_WHITESPACE"," ",314],"=",["T_WHITESPACE"," ",314],["T_VARIABLE","$this",314],["T_OBJECT_OPERATOR","->",314],["T_STRING","config",314],"(",")",["T_OBJECT_OPERATOR","->",314],["T_STRING","remote_config",314],";",["T_WHITESPACE","\n        ",314],["T_IF","if",315],["T_WHITESPACE"," ",315],"(","!",["T_VARIABLE","$this",315],["T_OBJECT_OPERATOR","->",315],["T_STRING","isWritable",315],"(",")",["T_WHITESPACE"," ",315],["T_BOOLEAN_AND","&&",315],["T_WHITESPACE"," ",315],["T_EMPTY","empty",315],"(",["T_VARIABLE","$remoteConfig",315],")",")",["T_WHITESPACE"," ",315],"{",["T_WHITESPACE","\n            ",315],["T_VARIABLE","$this",316],["T_OBJECT_OPERATOR","->",316],["T_STRING","view",316],"(",")",["T_OBJECT_OPERATOR","->",316],["T_STRING","set",316],"(",["T_CONSTANT_ENCAPSED_STRING","'writable_warning'",316],",",["T_WHITESPACE"," ",316],["T_STRING","true",316],")",";",["T_WHITESPACE","\n        ",316],"}",["T_WHITESPACE","\n\n        ",317],["T_ECHO","echo",319],["T_WHITESPACE"," ",319],["T_VARIABLE","$this",319],["T_OBJECT_OPERATOR","->",319],["T_STRING","view",319],"(",")",["T_OBJECT_OPERATOR","->",319],["T_STRING","template",319],"(",["T_CONSTANT_ENCAPSED_STRING","'connect\/packages.phtml'",319],")",";",["T_WHITESPACE","\n    ",319],"}",["T_WHITESPACE","\n\n    ",320],["T_DOC_COMMENT","\/**\n     * Connect packages POST\n     *\/",322],["T_WHITESPACE","\n    ",324],["T_PUBLIC","public",325],["T_WHITESPACE"," ",325],["T_FUNCTION","function",325],["T_WHITESPACE"," ",325],["T_STRING","connectPackagesPostAction",325],"(",")",["T_WHITESPACE","\n    ",325],"{",["T_WHITESPACE","\n        ",326],["T_IF","if",327],["T_WHITESPACE"," ",327],"(","!",["T_VARIABLE","$this",327],["T_OBJECT_OPERATOR","->",327],["T_STRING","_validateFormKey",327],"(",")",")",["T_WHITESPACE"," ",327],"{",["T_WHITESPACE","\n            ",327],["T_ECHO","echo",328],["T_WHITESPACE"," ",328],["T_CONSTANT_ENCAPSED_STRING","\"INVALID POST DATA\"",328],";",["T_WHITESPACE","\n            ",328],["T_RETURN","return",329],";",["T_WHITESPACE","\n        ",329],"}",["T_WHITESPACE","\n        ",330],["T_VARIABLE","$actions",331],["T_WHITESPACE"," ",331],"=",["T_WHITESPACE"," ",331],["T_ISSET","isset",331],"(",["T_VARIABLE","$_POST",331],"[",["T_CONSTANT_ENCAPSED_STRING","'actions'",331],"]",")",["T_WHITESPACE"," ",331],"?",["T_WHITESPACE"," ",331],["T_VARIABLE","$_POST",331],"[",["T_CONSTANT_ENCAPSED_STRING","'actions'",331],"]",["T_WHITESPACE"," ",331],":",["T_WHITESPACE"," ",331],["T_ARRAY","array",331],"(",")",";",["T_WHITESPACE","\n        ",331],["T_IF","if",332],["T_WHITESPACE"," ",332],"(",["T_ISSET","isset",332],"(",["T_VARIABLE","$_POST",332],"[",["T_CONSTANT_ENCAPSED_STRING","'ignore_local_modification'",332],"]",")",")",["T_WHITESPACE"," ",332],"{",["T_WHITESPACE","\n            ",332],["T_VARIABLE","$ignoreLocalModification",333],["T_WHITESPACE"," ",333],"=",["T_WHITESPACE"," ",333],["T_VARIABLE","$_POST",333],"[",["T_CONSTANT_ENCAPSED_STRING","'ignore_local_modification'",333],"]",";",["T_WHITESPACE","\n        ",333],"}",["T_WHITESPACE"," ",334],["T_ELSE","else",334],["T_WHITESPACE"," ",334],"{",["T_WHITESPACE","\n            ",334],["T_VARIABLE","$ignoreLocalModification",335],["T_WHITESPACE"," ",335],"=",["T_WHITESPACE"," ",335],["T_CONSTANT_ENCAPSED_STRING","''",335],";",["T_WHITESPACE","\n        ",335],"}",["T_WHITESPACE","\n        ",336],["T_VARIABLE","$this",337],["T_OBJECT_OPERATOR","->",337],["T_STRING","model",337],"(",["T_CONSTANT_ENCAPSED_STRING","'connect'",337],",",["T_WHITESPACE"," ",337],["T_STRING","true",337],")",["T_OBJECT_OPERATOR","->",337],["T_STRING","applyPackagesActions",337],"(",["T_VARIABLE","$actions",337],",",["T_WHITESPACE"," ",337],["T_VARIABLE","$ignoreLocalModification",337],")",";",["T_WHITESPACE","\n    ",337],"}",["T_WHITESPACE","\n\n    ",338],["T_DOC_COMMENT","\/**\n     * Prepare package to install, get dependency info.\n     *\/",340],["T_WHITESPACE","\n    ",342],["T_PUBLIC","public",343],["T_WHITESPACE"," ",343],["T_FUNCTION","function",343],["T_WHITESPACE"," ",343],["T_STRING","connectPreparePackagePostAction",343],"(",")",["T_WHITESPACE","\n    ",343],"{",["T_WHITESPACE","\n        ",344],["T_IF","if",345],["T_WHITESPACE"," ",345],"(","!",["T_VARIABLE","$this",345],["T_OBJECT_OPERATOR","->",345],["T_STRING","_validateFormKey",345],"(",")",")",["T_WHITESPACE"," ",345],"{",["T_WHITESPACE","\n            ",345],["T_ECHO","echo",346],["T_WHITESPACE"," ",346],["T_CONSTANT_ENCAPSED_STRING","\"INVALID POST DATA\"",346],";",["T_WHITESPACE","\n            ",346],["T_RETURN","return",347],";",["T_WHITESPACE","\n        ",347],"}",["T_WHITESPACE","\n        ",348],["T_IF","if",349],["T_WHITESPACE"," ",349],"(","!",["T_VARIABLE","$_POST",349],")",["T_WHITESPACE"," ",349],"{",["T_WHITESPACE","\n            ",349],["T_ECHO","echo",350],["T_WHITESPACE"," ",350],["T_CONSTANT_ENCAPSED_STRING","\"INVALID POST DATA\"",350],";",["T_WHITESPACE","\n            ",350],["T_RETURN","return",351],";",["T_WHITESPACE","\n        ",351],"}",["T_WHITESPACE","\n        ",352],["T_VARIABLE","$prepareResult",353],["T_WHITESPACE"," ",353],"=",["T_WHITESPACE"," ",353],["T_VARIABLE","$this",353],["T_OBJECT_OPERATOR","->",353],["T_STRING","model",353],"(",["T_CONSTANT_ENCAPSED_STRING","'connect'",353],",",["T_WHITESPACE"," ",353],["T_STRING","true",353],")",["T_OBJECT_OPERATOR","->",353],["T_STRING","prepareToInstall",353],"(",["T_VARIABLE","$_POST",353],"[",["T_CONSTANT_ENCAPSED_STRING","'install_package_id'",353],"]",")",";",["T_WHITESPACE","\n\n        ",353],["T_VARIABLE","$packages",355],["T_WHITESPACE","   ",355],"=",["T_WHITESPACE"," ",355],["T_ISSET","isset",355],"(",["T_VARIABLE","$prepareResult",355],"[",["T_CONSTANT_ENCAPSED_STRING","'data'",355],"]",")",["T_WHITESPACE"," ",355],"?",["T_WHITESPACE"," ",355],["T_VARIABLE","$prepareResult",355],"[",["T_CONSTANT_ENCAPSED_STRING","'data'",355],"]",["T_WHITESPACE"," ",355],":",["T_WHITESPACE"," ",355],["T_ARRAY","array",355],"(",")",";",["T_WHITESPACE","\n        ",355],["T_VARIABLE","$errors",356],["T_WHITESPACE","     ",356],"=",["T_WHITESPACE"," ",356],["T_ISSET","isset",356],"(",["T_VARIABLE","$prepareResult",356],"[",["T_CONSTANT_ENCAPSED_STRING","'errors'",356],"]",")",["T_WHITESPACE"," ",356],"?",["T_WHITESPACE"," ",356],["T_VARIABLE","$prepareResult",356],"[",["T_CONSTANT_ENCAPSED_STRING","'errors'",356],"]",["T_WHITESPACE"," ",356],":",["T_WHITESPACE"," ",356],["T_ARRAY","array",356],"(",")",";",["T_WHITESPACE","\n\n        ",356],["T_VARIABLE","$this",358],["T_OBJECT_OPERATOR","->",358],["T_STRING","view",358],"(",")",["T_OBJECT_OPERATOR","->",358],["T_STRING","set",358],"(",["T_CONSTANT_ENCAPSED_STRING","'packages'",358],",",["T_WHITESPACE"," ",358],["T_VARIABLE","$packages",358],")",";",["T_WHITESPACE","\n        ",358],["T_VARIABLE","$this",359],["T_OBJECT_OPERATOR","->",359],["T_STRING","view",359],"(",")",["T_OBJECT_OPERATOR","->",359],["T_STRING","set",359],"(",["T_CONSTANT_ENCAPSED_STRING","'errors'",359],",",["T_WHITESPACE"," ",359],["T_VARIABLE","$errors",359],")",";",["T_WHITESPACE","\n        ",359],["T_VARIABLE","$this",360],["T_OBJECT_OPERATOR","->",360],["T_STRING","view",360],"(",")",["T_OBJECT_OPERATOR","->",360],["T_STRING","set",360],"(",["T_CONSTANT_ENCAPSED_STRING","'package_id'",360],",",["T_WHITESPACE"," ",360],["T_VARIABLE","$_POST",360],"[",["T_CONSTANT_ENCAPSED_STRING","'install_package_id'",360],"]",")",";",["T_WHITESPACE","\n\n        ",360],["T_ECHO","echo",362],["T_WHITESPACE"," ",362],["T_VARIABLE","$this",362],["T_OBJECT_OPERATOR","->",362],["T_STRING","view",362],"(",")",["T_OBJECT_OPERATOR","->",362],["T_STRING","template",362],"(",["T_CONSTANT_ENCAPSED_STRING","'connect\/packages_prepare.phtml'",362],")",";",["T_WHITESPACE","\n    ",362],"}",["T_WHITESPACE","\n\n    ",363],["T_DOC_COMMENT","\/**\n     * Install package\n     *\/",365],["T_WHITESPACE","\n    ",367],["T_PUBLIC","public",368],["T_WHITESPACE"," ",368],["T_FUNCTION","function",368],["T_WHITESPACE"," ",368],["T_STRING","connectInstallPackagePostAction",368],"(",")",["T_WHITESPACE","\n    ",368],"{",["T_WHITESPACE","\n        ",369],["T_IF","if",370],["T_WHITESPACE"," ",370],"(","!",["T_VARIABLE","$this",370],["T_OBJECT_OPERATOR","->",370],["T_STRING","_validateFormKey",370],"(",")",")",["T_WHITESPACE"," ",370],"{",["T_WHITESPACE","\n            ",370],["T_ECHO","echo",371],["T_WHITESPACE"," ",371],["T_CONSTANT_ENCAPSED_STRING","\"INVALID POST DATA\"",371],";",["T_WHITESPACE","\n            ",371],["T_RETURN","return",372],";",["T_WHITESPACE","\n        ",372],"}",["T_WHITESPACE","\n        ",373],["T_IF","if",374],["T_WHITESPACE"," ",374],"(","!",["T_VARIABLE","$_POST",374],")",["T_WHITESPACE"," ",374],"{",["T_WHITESPACE","\n            ",374],["T_ECHO","echo",375],["T_WHITESPACE"," ",375],["T_CONSTANT_ENCAPSED_STRING","\"INVALID POST DATA\"",375],";",["T_WHITESPACE","\n            ",375],["T_RETURN","return",376],";",["T_WHITESPACE","\n        ",376],"}",["T_WHITESPACE","\n        ",377],["T_VARIABLE","$this",378],["T_OBJECT_OPERATOR","->",378],["T_STRING","model",378],"(",["T_CONSTANT_ENCAPSED_STRING","'connect'",378],",",["T_WHITESPACE"," ",378],["T_STRING","true",378],")",["T_OBJECT_OPERATOR","->",378],["T_STRING","installPackage",378],"(",["T_VARIABLE","$_POST",378],"[",["T_CONSTANT_ENCAPSED_STRING","'install_package_id'",378],"]",")",";",["T_WHITESPACE","\n    ",378],"}",["T_WHITESPACE","\n\n    ",379],["T_DOC_COMMENT","\/**\n     * Install uploaded package\n     *\/",381],["T_WHITESPACE","\n    ",383],["T_PUBLIC","public",384],["T_WHITESPACE"," ",384],["T_FUNCTION","function",384],["T_WHITESPACE"," ",384],["T_STRING","connectInstallPackageUploadAction",384],"(",")",["T_WHITESPACE","\n    ",384],"{",["T_WHITESPACE","\n        ",385],["T_IF","if",386],["T_WHITESPACE"," ",386],"(","!",["T_VARIABLE","$this",386],["T_OBJECT_OPERATOR","->",386],["T_STRING","_validateFormKey",386],"(",")",")",["T_WHITESPACE"," ",386],"{",["T_WHITESPACE","\n            ",386],["T_ECHO","echo",387],["T_WHITESPACE"," ",387],["T_CONSTANT_ENCAPSED_STRING","\"No file was uploaded\"",387],";",["T_WHITESPACE","\n            ",387],["T_RETURN","return",388],";",["T_WHITESPACE","\n        ",388],"}",["T_WHITESPACE","\n\n        ",389],["T_IF","if",391],["T_WHITESPACE"," ",391],"(","!",["T_VARIABLE","$_FILES",391],")",["T_WHITESPACE"," ",391],"{",["T_WHITESPACE","\n            ",391],["T_ECHO","echo",392],["T_WHITESPACE"," ",392],["T_CONSTANT_ENCAPSED_STRING","\"No file was uploaded\"",392],";",["T_WHITESPACE","\n            ",392],["T_RETURN","return",393],";",["T_WHITESPACE","\n        ",393],"}",["T_WHITESPACE","\n\n        ",394],["T_IF","if",396],"(",["T_EMPTY","empty",396],"(",["T_VARIABLE","$_FILES",396],"[",["T_CONSTANT_ENCAPSED_STRING","'file'",396],"]",")",")",["T_WHITESPACE"," ",396],"{",["T_WHITESPACE","\n            ",396],["T_ECHO","echo",397],["T_WHITESPACE"," ",397],["T_CONSTANT_ENCAPSED_STRING","\"No file was uploaded\"",397],";",["T_WHITESPACE","\n            ",397],["T_RETURN","return",398],";",["T_WHITESPACE","\n        ",398],"}",["T_WHITESPACE","\n\n        ",399],["T_VARIABLE","$info",401],["T_WHITESPACE"," ",401],"=","&",["T_WHITESPACE"," ",401],["T_VARIABLE","$_FILES",401],"[",["T_CONSTANT_ENCAPSED_STRING","'file'",401],"]",";",["T_WHITESPACE","\n\n        ",401],["T_IF","if",403],"(",["T_LNUMBER","0",403],["T_WHITESPACE"," ",403],["T_IS_NOT_IDENTICAL","!==",403],["T_WHITESPACE"," ",403],["T_STRING","intval",403],"(",["T_VARIABLE","$info",403],"[",["T_CONSTANT_ENCAPSED_STRING","'error'",403],"]",")",")",["T_WHITESPACE"," ",403],"{",["T_WHITESPACE","\n            ",403],["T_ECHO","echo",404],["T_WHITESPACE"," ",404],["T_CONSTANT_ENCAPSED_STRING","\"File upload problem\"",404],";",["T_WHITESPACE","\n            ",404],["T_RETURN","return",405],";",["T_WHITESPACE","\n        ",405],"}",["T_WHITESPACE","\n\n        ",406],["T_VARIABLE","$target",408],["T_WHITESPACE"," ",408],"=",["T_WHITESPACE"," ",408],["T_VARIABLE","$this",408],["T_OBJECT_OPERATOR","->",408],["T_STRING","_mageDir",408],["T_WHITESPACE"," ",408],".",["T_WHITESPACE"," ",408],["T_STRING","DS",408],["T_WHITESPACE"," ",408],".",["T_WHITESPACE"," ",408],["T_CONSTANT_ENCAPSED_STRING","\"var\/\"",408],["T_WHITESPACE"," ",408],".",["T_WHITESPACE"," ",408],["T_STRING","uniqid",408],"(",")",["T_WHITESPACE"," ",408],".",["T_WHITESPACE"," ",408],["T_VARIABLE","$info",408],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",408],"]",";",["T_WHITESPACE","\n        ",408],["T_VARIABLE","$res",409],["T_WHITESPACE"," ",409],"=",["T_WHITESPACE"," ",409],["T_STRING","move_uploaded_file",409],"(",["T_VARIABLE","$info",409],"[",["T_CONSTANT_ENCAPSED_STRING","'tmp_name'",409],"]",",",["T_WHITESPACE"," ",409],["T_VARIABLE","$target",409],")",";",["T_WHITESPACE","\n        ",409],["T_IF","if",410],"(",["T_STRING","false",410],["T_WHITESPACE"," ",410],["T_IS_IDENTICAL","===",410],["T_WHITESPACE"," ",410],["T_VARIABLE","$res",410],")",["T_WHITESPACE"," ",410],"{",["T_WHITESPACE","\n            ",410],["T_ECHO","echo",411],["T_WHITESPACE"," ",411],["T_CONSTANT_ENCAPSED_STRING","\"Error moving uploaded file\"",411],";",["T_WHITESPACE","\n            ",411],["T_RETURN","return",412],";",["T_WHITESPACE","\n        ",412],"}",["T_WHITESPACE","\n\n        ",413],["T_VARIABLE","$this",415],["T_OBJECT_OPERATOR","->",415],["T_STRING","model",415],"(",["T_CONSTANT_ENCAPSED_STRING","'connect'",415],",",["T_WHITESPACE"," ",415],["T_STRING","true",415],")",["T_OBJECT_OPERATOR","->",415],["T_STRING","installUploadedPackage",415],"(",["T_VARIABLE","$target",415],")",";",["T_WHITESPACE","\n        ",415],"@",["T_STRING","unlink",416],"(",["T_VARIABLE","$target",416],")",";",["T_WHITESPACE","\n    ",416],"}",["T_WHITESPACE","\n\n    ",417],["T_DOC_COMMENT","\/**\n     * Clean cache on ajax request\n     *\/",419],["T_WHITESPACE","\n    ",421],["T_PUBLIC","public",422],["T_WHITESPACE"," ",422],["T_FUNCTION","function",422],["T_WHITESPACE"," ",422],["T_STRING","cleanCacheAction",422],"(",")",["T_WHITESPACE","\n    ",422],"{",["T_WHITESPACE","\n        ",423],["T_VARIABLE","$result",424],["T_WHITESPACE"," ",424],"=",["T_WHITESPACE"," ",424],["T_VARIABLE","$this",424],["T_OBJECT_OPERATOR","->",424],["T_STRING","cleanCache",424],"(",")",";",["T_WHITESPACE","\n        ",424],["T_ECHO","echo",425],["T_WHITESPACE"," ",425],["T_STRING","json_encode",425],"(",["T_VARIABLE","$result",425],")",";",["T_WHITESPACE","\n    ",425],"}",["T_WHITESPACE","\n\n    ",426],["T_DOC_COMMENT","\/**\n     * Settings\n     *\/",428],["T_WHITESPACE","\n    ",430],["T_PUBLIC","public",431],["T_WHITESPACE"," ",431],["T_FUNCTION","function",431],["T_WHITESPACE"," ",431],["T_STRING","settingsAction",431],"(",")",["T_WHITESPACE","\n    ",431],"{",["T_WHITESPACE","\n        ",432],["T_VARIABLE","$config",433],["T_WHITESPACE"," ",433],"=",["T_WHITESPACE"," ",433],["T_VARIABLE","$this",433],["T_OBJECT_OPERATOR","->",433],["T_STRING","config",433],"(",")",";",["T_WHITESPACE","\n        ",433],["T_VARIABLE","$this",434],["T_OBJECT_OPERATOR","->",434],["T_STRING","view",434],"(",")",["T_OBJECT_OPERATOR","->",434],["T_STRING","set",434],"(",["T_CONSTANT_ENCAPSED_STRING","'preferred_state'",434],",",["T_WHITESPACE"," ",434],["T_VARIABLE","$config",434],["T_OBJECT_OPERATOR","->",434],["T_STRING","__get",434],"(",["T_CONSTANT_ENCAPSED_STRING","'preferred_state'",434],")",")",";",["T_WHITESPACE","\n        ",434],["T_VARIABLE","$this",435],["T_OBJECT_OPERATOR","->",435],["T_STRING","view",435],"(",")",["T_OBJECT_OPERATOR","->",435],["T_STRING","set",435],"(",["T_CONSTANT_ENCAPSED_STRING","'protocol'",435],",",["T_WHITESPACE"," ",435],["T_VARIABLE","$config",435],["T_OBJECT_OPERATOR","->",435],["T_STRING","__get",435],"(",["T_CONSTANT_ENCAPSED_STRING","'protocol'",435],")",")",";",["T_WHITESPACE","\n\n        ",435],["T_VARIABLE","$this",437],["T_OBJECT_OPERATOR","->",437],["T_STRING","view",437],"(",")",["T_OBJECT_OPERATOR","->",437],["T_STRING","set",437],"(",["T_CONSTANT_ENCAPSED_STRING","'use_custom_permissions_mode'",437],",",["T_WHITESPACE"," ",437],["T_VARIABLE","$config",437],["T_OBJECT_OPERATOR","->",437],["T_STRING","__get",437],"(",["T_CONSTANT_ENCAPSED_STRING","'use_custom_permissions_mode'",437],")",")",";",["T_WHITESPACE","\n        ",437],["T_VARIABLE","$this",438],["T_OBJECT_OPERATOR","->",438],["T_STRING","view",438],"(",")",["T_OBJECT_OPERATOR","->",438],["T_STRING","set",438],"(",["T_CONSTANT_ENCAPSED_STRING","'mkdir_mode'",438],",",["T_WHITESPACE"," ",438],["T_STRING","decoct",438],"(",["T_VARIABLE","$config",438],["T_OBJECT_OPERATOR","->",438],["T_STRING","__get",438],"(",["T_CONSTANT_ENCAPSED_STRING","'global_dir_mode'",438],")",")",")",";",["T_WHITESPACE","\n        ",438],["T_VARIABLE","$this",439],["T_OBJECT_OPERATOR","->",439],["T_STRING","view",439],"(",")",["T_OBJECT_OPERATOR","->",439],["T_STRING","set",439],"(",["T_CONSTANT_ENCAPSED_STRING","'chmod_file_mode'",439],",",["T_WHITESPACE"," ",439],["T_STRING","decoct",439],"(",["T_VARIABLE","$config",439],["T_OBJECT_OPERATOR","->",439],["T_STRING","__get",439],"(",["T_CONSTANT_ENCAPSED_STRING","'global_file_mode'",439],")",")",")",";",["T_WHITESPACE","\n\n        ",439],["T_VARIABLE","$this",441],["T_OBJECT_OPERATOR","->",441],["T_STRING","channelConfig",441],"(",")",["T_OBJECT_OPERATOR","->",441],["T_STRING","setSettingsView",441],"(",["T_VARIABLE","$this",441],["T_OBJECT_OPERATOR","->",441],["T_STRING","session",441],"(",")",",",["T_WHITESPACE"," ",441],["T_VARIABLE","$this",441],["T_OBJECT_OPERATOR","->",441],["T_STRING","view",441],"(",")",")",";",["T_WHITESPACE","\n\n        ",441],["T_VARIABLE","$fs_disabled",443],["T_WHITESPACE"," ",443],"=","!",["T_WHITESPACE"," ",443],["T_VARIABLE","$this",443],["T_OBJECT_OPERATOR","->",443],["T_STRING","isWritable",443],"(",")",";",["T_WHITESPACE","\n        ",443],["T_VARIABLE","$ftpParams",444],["T_WHITESPACE"," ",444],"=",["T_WHITESPACE"," ",444],["T_VARIABLE","$config",444],["T_OBJECT_OPERATOR","->",444],["T_STRING","__get",444],"(",["T_CONSTANT_ENCAPSED_STRING","'remote_config'",444],")",["T_WHITESPACE"," ",444],"?",["T_WHITESPACE"," ",444],"@",["T_STRING","parse_url",444],"(",["T_VARIABLE","$config",444],["T_OBJECT_OPERATOR","->",444],["T_STRING","__get",444],"(",["T_CONSTANT_ENCAPSED_STRING","'remote_config'",444],")",")",["T_WHITESPACE"," ",444],":",["T_WHITESPACE"," ",444],["T_CONSTANT_ENCAPSED_STRING","''",444],";",["T_WHITESPACE","\n\n        ",444],["T_VARIABLE","$this",446],["T_OBJECT_OPERATOR","->",446],["T_STRING","view",446],"(",")",["T_OBJECT_OPERATOR","->",446],["T_STRING","set",446],"(",["T_CONSTANT_ENCAPSED_STRING","'fs_disabled'",446],",",["T_WHITESPACE"," ",446],["T_VARIABLE","$fs_disabled",446],")",";",["T_WHITESPACE","\n        ",446],["T_VARIABLE","$this",447],["T_OBJECT_OPERATOR","->",447],["T_STRING","view",447],"(",")",["T_OBJECT_OPERATOR","->",447],["T_STRING","set",447],"(",["T_CONSTANT_ENCAPSED_STRING","'deployment_type'",447],",",["T_WHITESPACE"," ",447],"(",["T_VARIABLE","$fs_disabled",447],["T_WHITESPACE"," ",447],["T_BOOLEAN_OR","||",447],["T_WHITESPACE"," ",447],"!",["T_EMPTY","empty",447],"(",["T_VARIABLE","$ftpParams",447],")",["T_WHITESPACE"," ",447],"?",["T_WHITESPACE"," ",447],["T_CONSTANT_ENCAPSED_STRING","'ftp'",447],["T_WHITESPACE"," ",447],":",["T_WHITESPACE"," ",447],["T_CONSTANT_ENCAPSED_STRING","'fs'",447],")",")",";",["T_WHITESPACE","\n\n        ",447],["T_IF","if",449],["T_WHITESPACE"," ",449],"(","!",["T_EMPTY","empty",449],"(",["T_VARIABLE","$ftpParams",449],")",")",["T_WHITESPACE"," ",449],"{",["T_WHITESPACE","\n            ",449],["T_VARIABLE","$this",450],["T_OBJECT_OPERATOR","->",450],["T_STRING","view",450],"(",")",["T_OBJECT_OPERATOR","->",450],["T_STRING","set",450],"(",["T_CONSTANT_ENCAPSED_STRING","'ftp_host'",450],",",["T_WHITESPACE"," ",450],["T_STRING","sprintf",450],"(",["T_CONSTANT_ENCAPSED_STRING","\"%s:\/\/%s\"",450],",",["T_WHITESPACE"," ",450],["T_VARIABLE","$ftpParams",450],"[",["T_CONSTANT_ENCAPSED_STRING","'scheme'",450],"]",",",["T_WHITESPACE"," ",450],["T_VARIABLE","$ftpParams",450],"[",["T_CONSTANT_ENCAPSED_STRING","'host'",450],"]",")",")",";",["T_WHITESPACE","\n            ",450],["T_VARIABLE","$this",451],["T_OBJECT_OPERATOR","->",451],["T_STRING","view",451],"(",")",["T_OBJECT_OPERATOR","->",451],["T_STRING","set",451],"(",["T_CONSTANT_ENCAPSED_STRING","'ftp_login'",451],",",["T_WHITESPACE"," ",451],["T_VARIABLE","$ftpParams",451],"[",["T_CONSTANT_ENCAPSED_STRING","'user'",451],"]",")",";",["T_WHITESPACE","\n            ",451],["T_VARIABLE","$this",452],["T_OBJECT_OPERATOR","->",452],["T_STRING","view",452],"(",")",["T_OBJECT_OPERATOR","->",452],["T_STRING","set",452],"(",["T_CONSTANT_ENCAPSED_STRING","'ftp_password'",452],",",["T_WHITESPACE"," ",452],["T_VARIABLE","$ftpParams",452],"[",["T_CONSTANT_ENCAPSED_STRING","'pass'",452],"]",")",";",["T_WHITESPACE","\n            ",452],["T_VARIABLE","$this",453],["T_OBJECT_OPERATOR","->",453],["T_STRING","view",453],"(",")",["T_OBJECT_OPERATOR","->",453],["T_STRING","set",453],"(",["T_CONSTANT_ENCAPSED_STRING","'ftp_path'",453],",",["T_WHITESPACE"," ",453],["T_VARIABLE","$ftpParams",453],"[",["T_CONSTANT_ENCAPSED_STRING","'path'",453],"]",")",";",["T_WHITESPACE","\n        ",453],"}",["T_WHITESPACE","\n        ",454],["T_ECHO","echo",455],["T_WHITESPACE"," ",455],["T_VARIABLE","$this",455],["T_OBJECT_OPERATOR","->",455],["T_STRING","view",455],"(",")",["T_OBJECT_OPERATOR","->",455],["T_STRING","template",455],"(",["T_CONSTANT_ENCAPSED_STRING","'settings.phtml'",455],")",";",["T_WHITESPACE","\n    ",455],"}",["T_WHITESPACE","\n\n    ",456],["T_DOC_COMMENT","\/**\n     * Settings post\n     *\/",458],["T_WHITESPACE","\n    ",460],["T_PUBLIC","public",461],["T_WHITESPACE"," ",461],["T_FUNCTION","function",461],["T_WHITESPACE"," ",461],["T_STRING","settingsPostAction",461],"(",")",["T_WHITESPACE","\n    ",461],"{",["T_WHITESPACE","\n        ",462],["T_IF","if",463],["T_WHITESPACE"," ",463],"(","!",["T_VARIABLE","$this",463],["T_OBJECT_OPERATOR","->",463],["T_STRING","_validateFormKey",463],"(",")",")",["T_WHITESPACE"," ",463],"{",["T_WHITESPACE","\n            ",463],["T_VARIABLE","$this",464],["T_OBJECT_OPERATOR","->",464],["T_STRING","session",464],"(",")",["T_OBJECT_OPERATOR","->",464],["T_STRING","addMessage",464],"(",["T_CONSTANT_ENCAPSED_STRING","'error'",464],",",["T_WHITESPACE"," ",464],["T_CONSTANT_ENCAPSED_STRING","\"Unable to save settings\"",464],")",";",["T_WHITESPACE","\n            ",464],["T_VARIABLE","$this",465],["T_OBJECT_OPERATOR","->",465],["T_STRING","redirect",465],"(",["T_VARIABLE","$this",465],["T_OBJECT_OPERATOR","->",465],["T_STRING","url",465],"(",["T_CONSTANT_ENCAPSED_STRING","'settings'",465],")",")",";",["T_WHITESPACE","\n            ",465],["T_RETURN","return",466],";",["T_WHITESPACE","\n        ",466],"}",["T_WHITESPACE","\n        ",467],["T_IF","if",468],["T_WHITESPACE"," ",468],"(",["T_VARIABLE","$_POST",468],")",["T_WHITESPACE"," ",468],"{",["T_WHITESPACE","\n            ",468],["T_VARIABLE","$ftp",469],["T_WHITESPACE"," ",469],"=",["T_WHITESPACE"," ",469],["T_VARIABLE","$this",469],["T_OBJECT_OPERATOR","->",469],["T_STRING","getFtpPost",469],"(",["T_VARIABLE","$_POST",469],")",";",["T_WHITESPACE","\n\n            ",469],["T_COMMENT","\/* clear startup messages *\/",471],["T_WHITESPACE","\n            ",471],["T_VARIABLE","$this",472],["T_OBJECT_OPERATOR","->",472],["T_STRING","config",472],"(",")",";",["T_WHITESPACE","\n            ",472],["T_VARIABLE","$this",473],["T_OBJECT_OPERATOR","->",473],["T_STRING","session",473],"(",")",["T_OBJECT_OPERATOR","->",473],["T_STRING","getMessages",473],"(",")",";",["T_WHITESPACE","\n\n            ",473],["T_VARIABLE","$errors",475],["T_WHITESPACE"," ",475],"=",["T_WHITESPACE"," ",475],["T_VARIABLE","$this",475],["T_OBJECT_OPERATOR","->",475],["T_STRING","model",475],"(",["T_CONSTANT_ENCAPSED_STRING","'connect'",475],",",["T_WHITESPACE"," ",475],["T_STRING","true",475],")",["T_OBJECT_OPERATOR","->",475],["T_STRING","validateConfigPost",475],"(",["T_VARIABLE","$_POST",475],")",";",["T_WHITESPACE","\n            ",475],["T_IF","if",476],["T_WHITESPACE"," ",476],"(",["T_VARIABLE","$errors",476],")",["T_WHITESPACE"," ",476],"{",["T_WHITESPACE","\n                ",476],["T_FOREACH","foreach",477],["T_WHITESPACE"," ",477],"(",["T_VARIABLE","$errors",477],["T_WHITESPACE"," ",477],["T_AS","as",477],["T_WHITESPACE"," ",477],["T_VARIABLE","$err",477],")",["T_WHITESPACE"," ",477],"{",["T_WHITESPACE","\n                    ",477],["T_VARIABLE","$this",478],["T_OBJECT_OPERATOR","->",478],["T_STRING","session",478],"(",")",["T_OBJECT_OPERATOR","->",478],["T_STRING","addMessage",478],"(",["T_CONSTANT_ENCAPSED_STRING","'error'",478],",",["T_WHITESPACE"," ",478],["T_VARIABLE","$err",478],")",";",["T_WHITESPACE","\n                ",478],"}",["T_WHITESPACE","\n                ",479],["T_VARIABLE","$this",480],["T_OBJECT_OPERATOR","->",480],["T_STRING","redirect",480],"(",["T_VARIABLE","$this",480],["T_OBJECT_OPERATOR","->",480],["T_STRING","url",480],"(",["T_CONSTANT_ENCAPSED_STRING","'settings'",480],")",")",";",["T_WHITESPACE","\n                ",480],["T_RETURN","return",481],";",["T_WHITESPACE","\n            ",481],"}",["T_WHITESPACE","\n            ",482],["T_TRY","try",483],["T_WHITESPACE"," ",483],"{",["T_WHITESPACE","\n                ",483],["T_IF","if",484],["T_WHITESPACE"," ",484],"(",["T_CONSTANT_ENCAPSED_STRING","'ftp'",484],["T_WHITESPACE"," ",484],["T_IS_EQUAL","==",484],["T_WHITESPACE"," ",484],["T_VARIABLE","$_POST",484],"[",["T_CONSTANT_ENCAPSED_STRING","'deployment_type'",484],"]",["T_WHITESPACE"," ",484],["T_BOOLEAN_AND","&&",484],["T_WHITESPACE"," ",484],"!",["T_EMPTY","empty",484],"(",["T_VARIABLE","$_POST",484],"[",["T_CONSTANT_ENCAPSED_STRING","'ftp_host'",484],"]",")",")",["T_WHITESPACE"," ",484],"{",["T_WHITESPACE","\n                    ",484],["T_VARIABLE","$this",485],["T_OBJECT_OPERATOR","->",485],["T_STRING","model",485],"(",["T_CONSTANT_ENCAPSED_STRING","'connect'",485],",",["T_WHITESPACE"," ",485],["T_STRING","true",485],")",["T_OBJECT_OPERATOR","->",485],["T_STRING","connect",485],"(",")",["T_OBJECT_OPERATOR","->",485],["T_STRING","setRemoteConfig",485],"(",["T_VARIABLE","$ftp",485],")",";",["T_WHITESPACE","\n                ",485],"}",["T_WHITESPACE"," ",486],["T_ELSE","else",486],["T_WHITESPACE"," ",486],"{",["T_WHITESPACE","\n                    ",486],["T_VARIABLE","$this",487],["T_OBJECT_OPERATOR","->",487],["T_STRING","model",487],"(",["T_CONSTANT_ENCAPSED_STRING","'connect'",487],",",["T_WHITESPACE"," ",487],["T_STRING","true",487],")",["T_OBJECT_OPERATOR","->",487],["T_STRING","connect",487],"(",")",["T_OBJECT_OPERATOR","->",487],["T_STRING","setRemoteConfig",487],"(",["T_CONSTANT_ENCAPSED_STRING","''",487],")",";",["T_WHITESPACE","\n                    ",487],["T_VARIABLE","$_POST",488],"[",["T_CONSTANT_ENCAPSED_STRING","'ftp'",488],"]",["T_WHITESPACE"," ",488],"=",["T_WHITESPACE"," ",488],["T_CONSTANT_ENCAPSED_STRING","''",488],";",["T_WHITESPACE","\n                ",488],"}",["T_WHITESPACE","\n                ",489],["T_VARIABLE","$this",490],["T_OBJECT_OPERATOR","->",490],["T_STRING","channelConfig",490],"(",")",["T_OBJECT_OPERATOR","->",490],["T_STRING","setPostData",490],"(",["T_VARIABLE","$this",490],["T_OBJECT_OPERATOR","->",490],["T_STRING","config",490],"(",")",",",["T_WHITESPACE"," ",490],["T_VARIABLE","$_POST",490],")",";",["T_WHITESPACE","\n                ",490],["T_VARIABLE","$this",491],["T_OBJECT_OPERATOR","->",491],["T_STRING","model",491],"(",["T_CONSTANT_ENCAPSED_STRING","'connect'",491],",",["T_WHITESPACE"," ",491],["T_STRING","true",491],")",["T_OBJECT_OPERATOR","->",491],["T_STRING","saveConfigPost",491],"(",["T_VARIABLE","$_POST",491],")",";",["T_WHITESPACE","\n                ",491],["T_VARIABLE","$this",492],["T_OBJECT_OPERATOR","->",492],["T_STRING","channelConfig",492],"(",")",["T_OBJECT_OPERATOR","->",492],["T_STRING","setSettingsSession",492],"(",["T_VARIABLE","$_POST",492],",",["T_WHITESPACE"," ",492],["T_VARIABLE","$this",492],["T_OBJECT_OPERATOR","->",492],["T_STRING","session",492],"(",")",")",";",["T_WHITESPACE","\n                ",492],["T_VARIABLE","$this",493],["T_OBJECT_OPERATOR","->",493],["T_STRING","model",493],"(",["T_CONSTANT_ENCAPSED_STRING","'connect'",493],",",["T_WHITESPACE"," ",493],["T_STRING","true",493],")",["T_OBJECT_OPERATOR","->",493],["T_STRING","connect",493],"(",")",["T_OBJECT_OPERATOR","->",493],["T_STRING","run",493],"(",["T_CONSTANT_ENCAPSED_STRING","'sync'",493],")",";",["T_WHITESPACE","\n            ",493],"}",["T_WHITESPACE"," ",494],["T_CATCH","catch",494],["T_WHITESPACE"," ",494],"(",["T_STRING","Exception",494],["T_WHITESPACE"," ",494],["T_VARIABLE","$e",494],")",["T_WHITESPACE"," ",494],"{",["T_WHITESPACE","\n                ",494],["T_VARIABLE","$this",495],["T_OBJECT_OPERATOR","->",495],["T_STRING","session",495],"(",")",["T_OBJECT_OPERATOR","->",495],["T_STRING","addMessage",495],"(",["T_CONSTANT_ENCAPSED_STRING","'error'",495],",",["T_WHITESPACE"," ",495],["T_CONSTANT_ENCAPSED_STRING","\"Unable to save settings: \"",495],["T_WHITESPACE"," ",495],".",["T_WHITESPACE"," ",495],["T_VARIABLE","$e",495],["T_OBJECT_OPERATOR","->",495],["T_STRING","getMessage",495],"(",")",")",";",["T_WHITESPACE","\n            ",495],"}",["T_WHITESPACE","\n        ",496],"}",["T_WHITESPACE","\n        ",497],["T_VARIABLE","$this",498],["T_OBJECT_OPERATOR","->",498],["T_STRING","redirect",498],"(",["T_VARIABLE","$this",498],["T_OBJECT_OPERATOR","->",498],["T_STRING","url",498],"(",["T_CONSTANT_ENCAPSED_STRING","'settings'",498],")",")",";",["T_WHITESPACE","\n    ",498],"}",["T_WHITESPACE","\n\n    ",499],["T_COMMENT","\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/ ABSTRACT\n",501],["T_WHITESPACE","\n    ",502],["T_DOC_COMMENT","\/**\n     * Constructor\n     *\/",503],["T_WHITESPACE","\n    ",505],["T_PUBLIC","public",506],["T_WHITESPACE"," ",506],["T_FUNCTION","function",506],["T_WHITESPACE"," ",506],["T_STRING","__construct",506],"(",")",["T_WHITESPACE","\n    ",506],"{",["T_WHITESPACE","\n        ",507],["T_VARIABLE","$this",508],["T_OBJECT_OPERATOR","->",508],["T_STRING","_rootDir",508],["T_WHITESPACE"," ",508],"=",["T_WHITESPACE"," ",508],["T_STRING","dirname",508],"(",["T_STRING","dirname",508],"(",["T_FILE","__FILE__",508],")",")",";",["T_WHITESPACE","\n        ",508],["T_VARIABLE","$this",509],["T_OBJECT_OPERATOR","->",509],["T_STRING","_mageDir",509],["T_WHITESPACE"," ",509],"=",["T_WHITESPACE"," ",509],["T_STRING","dirname",509],"(",["T_VARIABLE","$this",509],["T_OBJECT_OPERATOR","->",509],["T_STRING","_rootDir",509],")",";",["T_WHITESPACE","\n    ",509],"}",["T_WHITESPACE","\n\n    ",510],["T_DOC_COMMENT","\/**\n     * Run\n     *\/",512],["T_WHITESPACE","\n    ",514],["T_PUBLIC","public",515],["T_WHITESPACE"," ",515],["T_STATIC","static",515],["T_WHITESPACE"," ",515],["T_FUNCTION","function",515],["T_WHITESPACE"," ",515],["T_STRING","run",515],"(",")",["T_WHITESPACE","\n    ",515],"{",["T_WHITESPACE","\n        ",516],["T_TRY","try",517],["T_WHITESPACE"," ",517],"{",["T_WHITESPACE","\n            ",517],["T_STRING","self",518],["T_DOUBLE_COLON","::",518],["T_STRING","singleton",518],"(",")",["T_OBJECT_OPERATOR","->",518],["T_STRING","dispatch",518],"(",")",";",["T_WHITESPACE","\n        ",518],"}",["T_WHITESPACE"," ",519],["T_CATCH","catch",519],["T_WHITESPACE"," ",519],"(",["T_STRING","Exception",519],["T_WHITESPACE"," ",519],["T_VARIABLE","$e",519],")",["T_WHITESPACE"," ",519],"{",["T_WHITESPACE","\n            ",519],["T_ECHO","echo",520],["T_WHITESPACE"," ",520],["T_VARIABLE","$e",520],["T_OBJECT_OPERATOR","->",520],["T_STRING","getMessage",520],"(",")",";",["T_WHITESPACE","\n        ",520],"}",["T_WHITESPACE","\n    ",521],"}",["T_WHITESPACE","\n\n    ",522],["T_DOC_COMMENT","\/**\n     * Initialize object of class\n     *\n     * @return Maged_Controller\n     *\/",524],["T_WHITESPACE","\n    ",528],["T_PUBLIC","public",529],["T_WHITESPACE"," ",529],["T_STATIC","static",529],["T_WHITESPACE"," ",529],["T_FUNCTION","function",529],["T_WHITESPACE"," ",529],["T_STRING","singleton",529],"(",")",["T_WHITESPACE","\n    ",529],"{",["T_WHITESPACE","\n        ",530],["T_IF","if",531],["T_WHITESPACE"," ",531],"(","!",["T_STRING","self",531],["T_DOUBLE_COLON","::",531],["T_VARIABLE","$_instance",531],")",["T_WHITESPACE"," ",531],"{",["T_WHITESPACE","\n            ",531],["T_STRING","self",532],["T_DOUBLE_COLON","::",532],["T_VARIABLE","$_instance",532],["T_WHITESPACE"," ",532],"=",["T_WHITESPACE"," ",532],["T_NEW","new",532],["T_WHITESPACE"," ",532],["T_STRING","self",532],";",["T_WHITESPACE","\n\n            ",532],["T_IF","if",534],["T_WHITESPACE"," ",534],"(",["T_STRING","self",534],["T_DOUBLE_COLON","::",534],["T_VARIABLE","$_instance",534],["T_OBJECT_OPERATOR","->",534],["T_STRING","isDownloaded",534],"(",")",["T_WHITESPACE"," ",534],["T_BOOLEAN_AND","&&",534],["T_WHITESPACE"," ",534],["T_STRING","self",534],["T_DOUBLE_COLON","::",534],["T_VARIABLE","$_instance",534],["T_OBJECT_OPERATOR","->",534],["T_STRING","isInstalled",534],"(",")",")",["T_WHITESPACE"," ",534],"{",["T_WHITESPACE","\n                ",534],["T_STRING","Mage",535],["T_DOUBLE_COLON","::",535],["T_STRING","app",535],"(",["T_CONSTANT_ENCAPSED_STRING","''",535],",",["T_WHITESPACE"," ",535],["T_CONSTANT_ENCAPSED_STRING","'store'",535],",",["T_WHITESPACE"," ",535],["T_ARRAY","array",535],"(",["T_CONSTANT_ENCAPSED_STRING","'global_ban_use_cache'",535],["T_DOUBLE_ARROW","=>",535],["T_STRING","true",535],")",")",";",["T_WHITESPACE","\n                ",535],["T_STRING","Mage",536],["T_DOUBLE_COLON","::",536],["T_STRING","getSingleton",536],"(",["T_CONSTANT_ENCAPSED_STRING","'adminhtml\/url'",536],")",["T_OBJECT_OPERATOR","->",536],["T_STRING","turnOffSecretKey",536],"(",")",";",["T_WHITESPACE","\n            ",536],"}",["T_WHITESPACE","\n        ",537],"}",["T_WHITESPACE","\n        ",538],["T_RETURN","return",539],["T_WHITESPACE"," ",539],["T_STRING","self",539],["T_DOUBLE_COLON","::",539],["T_VARIABLE","$_instance",539],";",["T_WHITESPACE","\n    ",539],"}",["T_WHITESPACE","\n\n    ",540],["T_DOC_COMMENT","\/**\n     * Retrieve Downloader root dir\n     *\n     * @return string\n     *\/",542],["T_WHITESPACE","\n    ",546],["T_PUBLIC","public",547],["T_WHITESPACE"," ",547],["T_FUNCTION","function",547],["T_WHITESPACE"," ",547],["T_STRING","getRootDir",547],"(",")",["T_WHITESPACE","\n    ",547],"{",["T_WHITESPACE","\n        ",548],["T_RETURN","return",549],["T_WHITESPACE"," ",549],["T_VARIABLE","$this",549],["T_OBJECT_OPERATOR","->",549],["T_STRING","_rootDir",549],";",["T_WHITESPACE","\n    ",549],"}",["T_WHITESPACE","\n\n    ",550],["T_DOC_COMMENT","\/**\n     * Retrieve Magento root dir\n     *\n     * @return string\n     *\/",552],["T_WHITESPACE","\n    ",556],["T_PUBLIC","public",557],["T_WHITESPACE"," ",557],["T_FUNCTION","function",557],["T_WHITESPACE"," ",557],["T_STRING","getMageDir",557],"(",")",["T_WHITESPACE","\n    ",557],"{",["T_WHITESPACE","\n        ",558],["T_RETURN","return",559],["T_WHITESPACE"," ",559],["T_VARIABLE","$this",559],["T_OBJECT_OPERATOR","->",559],["T_STRING","_mageDir",559],";",["T_WHITESPACE","\n    ",559],"}",["T_WHITESPACE","\n\n    ",560],["T_DOC_COMMENT","\/**\n     * Retrieve Mage Class file path\n     *\n     * @return string\n     *\/",562],["T_WHITESPACE","\n    ",566],["T_PUBLIC","public",567],["T_WHITESPACE"," ",567],["T_FUNCTION","function",567],["T_WHITESPACE"," ",567],["T_STRING","getMageFilename",567],"(",")",["T_WHITESPACE","\n    ",567],"{",["T_WHITESPACE","\n        ",568],["T_VARIABLE","$ds",569],["T_WHITESPACE"," ",569],"=",["T_WHITESPACE"," ",569],["T_STRING","DIRECTORY_SEPARATOR",569],";",["T_WHITESPACE","\n        ",569],["T_RETURN","return",570],["T_WHITESPACE"," ",570],["T_VARIABLE","$this",570],["T_OBJECT_OPERATOR","->",570],["T_STRING","getMageDir",570],"(",")",["T_WHITESPACE"," ",570],".",["T_WHITESPACE"," ",570],["T_VARIABLE","$ds",570],["T_WHITESPACE"," ",570],".",["T_WHITESPACE"," ",570],["T_CONSTANT_ENCAPSED_STRING","'app'",570],["T_WHITESPACE"," ",570],".",["T_WHITESPACE"," ",570],["T_VARIABLE","$ds",570],["T_WHITESPACE"," ",570],".",["T_WHITESPACE"," ",570],["T_CONSTANT_ENCAPSED_STRING","'Mage.php'",570],";",["T_WHITESPACE","\n    ",570],"}",["T_WHITESPACE","\n\n    ",571],["T_DOC_COMMENT","\/**\n     * Retrieve path for Varien_Profiler\n     *\n     * @return string\n     *\/",573],["T_WHITESPACE","\n    ",577],["T_PUBLIC","public",578],["T_WHITESPACE"," ",578],["T_FUNCTION","function",578],["T_WHITESPACE"," ",578],["T_STRING","getVarFilename",578],"(",")",["T_WHITESPACE","\n    ",578],"{",["T_WHITESPACE","\n        ",579],["T_VARIABLE","$ds",580],["T_WHITESPACE"," ",580],"=",["T_WHITESPACE"," ",580],["T_STRING","DIRECTORY_SEPARATOR",580],";",["T_WHITESPACE","\n        ",580],["T_RETURN","return",581],["T_WHITESPACE"," ",581],["T_VARIABLE","$this",581],["T_OBJECT_OPERATOR","->",581],["T_STRING","getMageDir",581],"(",")",["T_WHITESPACE"," ",581],".",["T_WHITESPACE"," ",581],["T_VARIABLE","$ds",581],["T_WHITESPACE"," ",581],".",["T_WHITESPACE"," ",581],["T_CONSTANT_ENCAPSED_STRING","'lib'",581],["T_WHITESPACE"," ",581],".",["T_WHITESPACE"," ",581],["T_VARIABLE","$ds",581],["T_WHITESPACE"," ",581],".",["T_WHITESPACE"," ",581],["T_CONSTANT_ENCAPSED_STRING","'Varien'",581],["T_WHITESPACE"," ",581],".",["T_WHITESPACE"," ",581],["T_VARIABLE","$ds",581],["T_WHITESPACE"," ",581],".",["T_WHITESPACE"," ",581],["T_CONSTANT_ENCAPSED_STRING","'Profiler.php'",581],";",["T_WHITESPACE","\n    ",581],"}",["T_WHITESPACE","\n\n    ",582],["T_DOC_COMMENT","\/**\n     * Retrieve downloader file path\n     *\n     * @param string $name\n     * @return string\n     *\/",584],["T_WHITESPACE","\n    ",589],["T_PUBLIC","public",590],["T_WHITESPACE"," ",590],["T_FUNCTION","function",590],["T_WHITESPACE"," ",590],["T_STRING","filepath",590],"(",["T_VARIABLE","$name",590],["T_WHITESPACE"," ",590],"=",["T_WHITESPACE"," ",590],["T_CONSTANT_ENCAPSED_STRING","''",590],")",["T_WHITESPACE","\n    ",590],"{",["T_WHITESPACE","\n        ",591],["T_VARIABLE","$ds",592],["T_WHITESPACE"," ",592],"=",["T_WHITESPACE"," ",592],["T_STRING","DIRECTORY_SEPARATOR",592],";",["T_WHITESPACE","\n        ",592],["T_RETURN","return",593],["T_WHITESPACE"," ",593],["T_STRING","rtrim",593],"(",["T_VARIABLE","$this",593],["T_OBJECT_OPERATOR","->",593],["T_STRING","getRootDir",593],"(",")",["T_WHITESPACE"," ",593],".",["T_WHITESPACE"," ",593],["T_VARIABLE","$ds",593],["T_WHITESPACE"," ",593],".",["T_WHITESPACE"," ",593],["T_STRING","str_replace",593],"(",["T_CONSTANT_ENCAPSED_STRING","'\/'",593],",",["T_WHITESPACE"," ",593],["T_VARIABLE","$ds",593],",",["T_WHITESPACE"," ",593],["T_VARIABLE","$name",593],")",",",["T_WHITESPACE"," ",593],["T_VARIABLE","$ds",593],")",";",["T_WHITESPACE","\n    ",593],"}",["T_WHITESPACE","\n\n    ",594],["T_DOC_COMMENT","\/**\n     * Retrieve object of view\n     *\n     * @return Maged_View\n     *\/",596],["T_WHITESPACE","\n    ",600],["T_PUBLIC","public",601],["T_WHITESPACE"," ",601],["T_FUNCTION","function",601],["T_WHITESPACE"," ",601],["T_STRING","view",601],"(",")",["T_WHITESPACE","\n    ",601],"{",["T_WHITESPACE","\n        ",602],["T_IF","if",603],["T_WHITESPACE"," ",603],"(","!",["T_VARIABLE","$this",603],["T_OBJECT_OPERATOR","->",603],["T_STRING","_view",603],")",["T_WHITESPACE"," ",603],"{",["T_WHITESPACE","\n            ",603],["T_VARIABLE","$this",604],["T_OBJECT_OPERATOR","->",604],["T_STRING","_view",604],["T_WHITESPACE"," ",604],"=",["T_WHITESPACE"," ",604],["T_NEW","new",604],["T_WHITESPACE"," ",604],["T_STRING","Maged_View",604],";",["T_WHITESPACE","\n        ",604],"}",["T_WHITESPACE","\n        ",605],["T_RETURN","return",606],["T_WHITESPACE"," ",606],["T_VARIABLE","$this",606],["T_OBJECT_OPERATOR","->",606],["T_STRING","_view",606],";",["T_WHITESPACE","\n    ",606],"}",["T_WHITESPACE","\n\n    ",607],["T_DOC_COMMENT","\/**\n     * Retrieve object of model\n     *\n     * @param string $model\n     * @param boolean $singleton\n     * @return Maged_Model\n     *\/",609],["T_WHITESPACE","\n    ",615],["T_PUBLIC","public",616],["T_WHITESPACE"," ",616],["T_FUNCTION","function",616],["T_WHITESPACE"," ",616],["T_STRING","model",616],"(",["T_VARIABLE","$model",616],["T_WHITESPACE"," ",616],"=",["T_WHITESPACE"," ",616],["T_STRING","null",616],",",["T_WHITESPACE"," ",616],["T_VARIABLE","$singleton",616],["T_WHITESPACE"," ",616],"=",["T_WHITESPACE"," ",616],["T_STRING","false",616],")",["T_WHITESPACE","\n    ",616],"{",["T_WHITESPACE","\n        ",617],["T_IF","if",618],["T_WHITESPACE"," ",618],"(",["T_VARIABLE","$singleton",618],["T_WHITESPACE"," ",618],["T_BOOLEAN_AND","&&",618],["T_WHITESPACE"," ",618],["T_ISSET","isset",618],"(",["T_VARIABLE","$this",618],["T_OBJECT_OPERATOR","->",618],["T_STRING","_singletons",618],"[",["T_VARIABLE","$model",618],"]",")",")",["T_WHITESPACE"," ",618],"{",["T_WHITESPACE","\n            ",618],["T_RETURN","return",619],["T_WHITESPACE"," ",619],["T_VARIABLE","$this",619],["T_OBJECT_OPERATOR","->",619],["T_STRING","_singletons",619],"[",["T_VARIABLE","$model",619],"]",";",["T_WHITESPACE","\n        ",619],"}",["T_WHITESPACE","\n\n        ",620],["T_IF","if",622],["T_WHITESPACE"," ",622],"(",["T_STRING","is_null",622],"(",["T_VARIABLE","$model",622],")",")",["T_WHITESPACE"," ",622],"{",["T_WHITESPACE","\n            ",622],["T_VARIABLE","$class",623],["T_WHITESPACE"," ",623],"=",["T_WHITESPACE"," ",623],["T_CONSTANT_ENCAPSED_STRING","'Maged_Model'",623],";",["T_WHITESPACE","\n        ",623],"}",["T_WHITESPACE"," ",624],["T_ELSE","else",624],["T_WHITESPACE"," ",624],"{",["T_WHITESPACE","\n            ",624],["T_VARIABLE","$class",625],["T_WHITESPACE"," ",625],"=",["T_WHITESPACE"," ",625],["T_CONSTANT_ENCAPSED_STRING","'Maged_Model_'",625],["T_WHITESPACE"," ",625],".",["T_WHITESPACE"," ",625],["T_STRING","str_replace",625],"(",["T_CONSTANT_ENCAPSED_STRING","' '",625],",",["T_WHITESPACE"," ",625],["T_CONSTANT_ENCAPSED_STRING","'_'",625],",",["T_WHITESPACE"," ",625],["T_STRING","ucwords",625],"(",["T_STRING","str_replace",625],"(",["T_CONSTANT_ENCAPSED_STRING","'_'",625],",",["T_WHITESPACE"," ",625],["T_CONSTANT_ENCAPSED_STRING","' '",625],",",["T_WHITESPACE"," ",625],["T_VARIABLE","$model",625],")",")",")",";",["T_WHITESPACE","\n            ",625],["T_IF","if",626],["T_WHITESPACE"," ",626],"(","!",["T_STRING","class_exists",626],"(",["T_VARIABLE","$class",626],",",["T_WHITESPACE"," ",626],["T_STRING","false",626],")",")",["T_WHITESPACE"," ",626],"{",["T_WHITESPACE","\n                ",626],["T_INCLUDE_ONCE","include_once",627],["T_WHITESPACE"," ",627],["T_STRING","str_replace",627],"(",["T_CONSTANT_ENCAPSED_STRING","'_'",627],",",["T_WHITESPACE"," ",627],["T_STRING","DIRECTORY_SEPARATOR",627],",",["T_WHITESPACE"," ",627],["T_VARIABLE","$class",627],")",".",["T_CONSTANT_ENCAPSED_STRING","'.php'",627],";",["T_WHITESPACE","\n            ",627],"}",["T_WHITESPACE","\n        ",628],"}",["T_WHITESPACE","\n\n        ",629],["T_VARIABLE","$object",631],["T_WHITESPACE"," ",631],"=",["T_WHITESPACE"," ",631],["T_NEW","new",631],["T_WHITESPACE"," ",631],["T_VARIABLE","$class",631],"(",")",";",["T_WHITESPACE","\n\n        ",631],["T_IF","if",633],["T_WHITESPACE"," ",633],"(",["T_VARIABLE","$singleton",633],")",["T_WHITESPACE"," ",633],"{",["T_WHITESPACE","\n            ",633],["T_VARIABLE","$this",634],["T_OBJECT_OPERATOR","->",634],["T_STRING","_singletons",634],"[",["T_VARIABLE","$model",634],"]",["T_WHITESPACE"," ",634],"=",["T_WHITESPACE"," ",634],["T_VARIABLE","$object",634],";",["T_WHITESPACE","\n        ",634],"}",["T_WHITESPACE","\n\n        ",635],["T_RETURN","return",637],["T_WHITESPACE"," ",637],["T_VARIABLE","$object",637],";",["T_WHITESPACE","\n    ",637],"}",["T_WHITESPACE","\n\n    ",638],["T_DOC_COMMENT","\/**\n     * Retrieve object of config\n     *\n     * @return Mage_Connect_Config\n     *\/",640],["T_WHITESPACE","\n    ",644],["T_PUBLIC","public",645],["T_WHITESPACE"," ",645],["T_FUNCTION","function",645],["T_WHITESPACE"," ",645],["T_STRING","config",645],"(",")",["T_WHITESPACE","\n    ",645],"{",["T_WHITESPACE","\n        ",646],["T_IF","if",647],["T_WHITESPACE"," ",647],"(","!",["T_VARIABLE","$this",647],["T_OBJECT_OPERATOR","->",647],["T_STRING","_config",647],")",["T_WHITESPACE"," ",647],"{",["T_WHITESPACE","\n            ",647],["T_VARIABLE","$this",648],["T_OBJECT_OPERATOR","->",648],["T_STRING","_config",648],["T_WHITESPACE"," ",648],"=",["T_WHITESPACE"," ",648],["T_VARIABLE","$this",648],["T_OBJECT_OPERATOR","->",648],["T_STRING","model",648],"(",["T_CONSTANT_ENCAPSED_STRING","'connect'",648],",",["T_WHITESPACE"," ",648],["T_STRING","true",648],")",["T_OBJECT_OPERATOR","->",648],["T_STRING","connect",648],"(",")",["T_OBJECT_OPERATOR","->",648],["T_STRING","getConfig",648],"(",")",";",["T_WHITESPACE","\n            ",648],["T_IF","if",649],["T_WHITESPACE"," ",649],"(","!",["T_VARIABLE","$this",649],["T_OBJECT_OPERATOR","->",649],["T_STRING","_config",649],["T_OBJECT_OPERATOR","->",649],["T_STRING","isLoaded",649],"(",")",")",["T_WHITESPACE"," ",649],"{",["T_WHITESPACE","\n                ",649],["T_VARIABLE","$this",650],["T_OBJECT_OPERATOR","->",650],["T_STRING","session",650],"(",")",["T_OBJECT_OPERATOR","->",650],["T_STRING","addMessage",650],"(",["T_CONSTANT_ENCAPSED_STRING","'error'",650],",",["T_WHITESPACE"," ",650],["T_CONSTANT_ENCAPSED_STRING","\"Settings has not been loaded. Used default settings\"",650],")",";",["T_WHITESPACE","\n                ",650],["T_IF","if",651],["T_WHITESPACE"," ",651],"(",["T_VARIABLE","$this",651],["T_OBJECT_OPERATOR","->",651],["T_STRING","_config",651],["T_OBJECT_OPERATOR","->",651],["T_STRING","getError",651],"(",")",")",["T_WHITESPACE"," ",651],"{",["T_WHITESPACE","\n                    ",651],["T_VARIABLE","$this",652],["T_OBJECT_OPERATOR","->",652],["T_STRING","session",652],"(",")",["T_OBJECT_OPERATOR","->",652],["T_STRING","addMessage",652],"(",["T_CONSTANT_ENCAPSED_STRING","'error'",652],",",["T_WHITESPACE"," ",652],["T_VARIABLE","$this",652],["T_OBJECT_OPERATOR","->",652],["T_STRING","_config",652],["T_OBJECT_OPERATOR","->",652],["T_STRING","getError",652],"(",")",")",";",["T_WHITESPACE","\n                ",652],"}",["T_WHITESPACE","\n            ",653],"}",["T_WHITESPACE","\n        ",654],"}",["T_WHITESPACE","\n        ",655],["T_RETURN","return",656],["T_WHITESPACE"," ",656],["T_VARIABLE","$this",656],["T_OBJECT_OPERATOR","->",656],["T_STRING","_config",656],";",["T_WHITESPACE","\n    ",656],"}",["T_WHITESPACE","\n\n    ",657],["T_DOC_COMMENT","\/**\n     * Retrieve object of channel config\n     *\n     * @return Maged_Model_Config_Interface\n     *\/",659],["T_WHITESPACE","\n    ",663],["T_PUBLIC","public",664],["T_WHITESPACE"," ",664],["T_FUNCTION","function",664],["T_WHITESPACE"," ",664],["T_STRING","channelConfig",664],"(",")",["T_WHITESPACE","\n    ",664],"{",["T_WHITESPACE","\n        ",665],["T_IF","if",666],["T_WHITESPACE"," ",666],"(","!",["T_VARIABLE","$this",666],["T_OBJECT_OPERATOR","->",666],["T_STRING","_localConfig",666],")",["T_WHITESPACE"," ",666],"{",["T_WHITESPACE","\n            ",666],["T_VARIABLE","$this",667],["T_OBJECT_OPERATOR","->",667],["T_STRING","_localConfig",667],["T_WHITESPACE"," ",667],"=",["T_WHITESPACE"," ",667],["T_VARIABLE","$this",667],["T_OBJECT_OPERATOR","->",667],["T_STRING","model",667],"(",["T_CONSTANT_ENCAPSED_STRING","'config'",667],",",["T_WHITESPACE"," ",667],["T_STRING","true",667],")",["T_OBJECT_OPERATOR","->",667],["T_STRING","getChannelConfig",667],"(",")",";",["T_WHITESPACE","\n        ",667],"}",["T_WHITESPACE","\n        ",668],["T_RETURN","return",669],["T_WHITESPACE"," ",669],["T_VARIABLE","$this",669],["T_OBJECT_OPERATOR","->",669],["T_STRING","_localConfig",669],";",["T_WHITESPACE","\n    ",669],"}",["T_WHITESPACE","\n\n    ",670],["T_DOC_COMMENT","\/**\n     * Retrieve object of session\n     *\n     * @return Maged_Model_Session\n     *\/",672],["T_WHITESPACE","\n    ",676],["T_PUBLIC","public",677],["T_WHITESPACE"," ",677],["T_FUNCTION","function",677],["T_WHITESPACE"," ",677],["T_STRING","session",677],"(",")",["T_WHITESPACE","\n    ",677],"{",["T_WHITESPACE","\n        ",678],["T_IF","if",679],["T_WHITESPACE"," ",679],"(","!",["T_VARIABLE","$this",679],["T_OBJECT_OPERATOR","->",679],["T_STRING","_session",679],")",["T_WHITESPACE"," ",679],"{",["T_WHITESPACE","\n            ",679],["T_VARIABLE","$this",680],["T_OBJECT_OPERATOR","->",680],["T_STRING","_session",680],["T_WHITESPACE"," ",680],"=",["T_WHITESPACE"," ",680],["T_VARIABLE","$this",680],["T_OBJECT_OPERATOR","->",680],["T_STRING","model",680],"(",["T_CONSTANT_ENCAPSED_STRING","'session'",680],")",["T_OBJECT_OPERATOR","->",680],["T_STRING","start",680],"(",")",";",["T_WHITESPACE","\n        ",680],"}",["T_WHITESPACE","\n        ",681],["T_RETURN","return",682],["T_WHITESPACE"," ",682],["T_VARIABLE","$this",682],["T_OBJECT_OPERATOR","->",682],["T_STRING","_session",682],";",["T_WHITESPACE","\n    ",682],"}",["T_WHITESPACE","\n\n    ",683],["T_DOC_COMMENT","\/**\n     * Set Controller action\n     *\n     * @param string $action\n     * @return Maged_Controller\n     *\/",685],["T_WHITESPACE","\n    ",690],["T_PUBLIC","public",691],["T_WHITESPACE"," ",691],["T_FUNCTION","function",691],["T_WHITESPACE"," ",691],["T_STRING","setAction",691],"(",["T_VARIABLE","$action",691],"=",["T_STRING","null",691],")",["T_WHITESPACE","\n    ",691],"{",["T_WHITESPACE","\n        ",692],["T_IF","if",693],["T_WHITESPACE"," ",693],"(",["T_STRING","is_null",693],"(",["T_VARIABLE","$action",693],")",")",["T_WHITESPACE"," ",693],"{",["T_WHITESPACE","\n            ",693],["T_IF","if",694],["T_WHITESPACE"," ",694],"(","!",["T_EMPTY","empty",694],"(",["T_VARIABLE","$this",694],["T_OBJECT_OPERATOR","->",694],["T_STRING","_action",694],")",")",["T_WHITESPACE"," ",694],"{",["T_WHITESPACE","\n                ",694],["T_RETURN","return",695],["T_WHITESPACE"," ",695],["T_VARIABLE","$this",695],";",["T_WHITESPACE","\n            ",695],"}",["T_WHITESPACE","\n            ",696],["T_VARIABLE","$action",697],["T_WHITESPACE"," ",697],"=",["T_WHITESPACE"," ",697],"!",["T_EMPTY","empty",697],"(",["T_VARIABLE","$_GET",697],"[",["T_STRING","self",697],["T_DOUBLE_COLON","::",697],["T_STRING","ACTION_KEY",697],"]",")",["T_WHITESPACE"," ",697],"?",["T_WHITESPACE"," ",697],["T_VARIABLE","$_GET",697],"[",["T_STRING","self",697],["T_DOUBLE_COLON","::",697],["T_STRING","ACTION_KEY",697],"]",["T_WHITESPACE"," ",697],":",["T_WHITESPACE"," ",697],["T_CONSTANT_ENCAPSED_STRING","'index'",697],";",["T_WHITESPACE","\n        ",697],"}",["T_WHITESPACE","\n        ",698],["T_IF","if",699],["T_WHITESPACE"," ",699],"(",["T_EMPTY","empty",699],"(",["T_VARIABLE","$action",699],")",["T_WHITESPACE"," ",699],["T_BOOLEAN_OR","||",699],["T_WHITESPACE"," ",699],"!",["T_STRING","is_string",699],"(",["T_VARIABLE","$action",699],")",["T_WHITESPACE"," ",699],["T_BOOLEAN_OR","||",699],["T_WHITESPACE"," ",699],"!",["T_STRING","method_exists",699],"(",["T_VARIABLE","$this",699],",",["T_WHITESPACE"," ",699],["T_VARIABLE","$this",699],["T_OBJECT_OPERATOR","->",699],["T_STRING","getActionMethod",699],"(",["T_VARIABLE","$action",699],")",")",")",["T_WHITESPACE"," ",699],"{",["T_WHITESPACE","\n            ",699],["T_COMMENT","\/\/$action = 'noroute';\n",700],["T_WHITESPACE","            ",701],["T_VARIABLE","$action",701],["T_WHITESPACE"," ",701],"=",["T_WHITESPACE"," ",701],["T_CONSTANT_ENCAPSED_STRING","'index'",701],";",["T_WHITESPACE","\n        ",701],"}",["T_WHITESPACE","\n        ",702],["T_VARIABLE","$this",703],["T_OBJECT_OPERATOR","->",703],["T_STRING","_action",703],["T_WHITESPACE"," ",703],"=",["T_WHITESPACE"," ",703],["T_VARIABLE","$action",703],";",["T_WHITESPACE","\n        ",703],["T_RETURN","return",704],["T_WHITESPACE"," ",704],["T_VARIABLE","$this",704],";",["T_WHITESPACE","\n    ",704],"}",["T_WHITESPACE","\n\n    ",705],["T_DOC_COMMENT","\/**\n     * Retrieve Controller action name\n     *\n     * @return string\n     *\/",707],["T_WHITESPACE","\n    ",711],["T_PUBLIC","public",712],["T_WHITESPACE"," ",712],["T_FUNCTION","function",712],["T_WHITESPACE"," ",712],["T_STRING","getAction",712],"(",")",["T_WHITESPACE","\n    ",712],"{",["T_WHITESPACE","\n        ",713],["T_RETURN","return",714],["T_WHITESPACE"," ",714],["T_VARIABLE","$this",714],["T_OBJECT_OPERATOR","->",714],["T_STRING","_action",714],";",["T_WHITESPACE","\n    ",714],"}",["T_WHITESPACE","\n\n    ",715],["T_DOC_COMMENT","\/**\n     * Set Redirect to URL\n     *\n     * @param string $url\n     * @param bool $force\n     * @return Maged_Controller\n     *\/",717],["T_WHITESPACE","\n    ",723],["T_PUBLIC","public",724],["T_WHITESPACE"," ",724],["T_FUNCTION","function",724],["T_WHITESPACE"," ",724],["T_STRING","redirect",724],"(",["T_VARIABLE","$url",724],",",["T_WHITESPACE"," ",724],["T_VARIABLE","$force",724],["T_WHITESPACE"," ",724],"=",["T_WHITESPACE"," ",724],["T_STRING","false",724],")",["T_WHITESPACE","\n    ",724],"{",["T_WHITESPACE","\n        ",725],["T_VARIABLE","$this",726],["T_OBJECT_OPERATOR","->",726],["T_STRING","_redirectUrl",726],["T_WHITESPACE"," ",726],"=",["T_WHITESPACE"," ",726],["T_VARIABLE","$url",726],";",["T_WHITESPACE","\n        ",726],["T_IF","if",727],["T_WHITESPACE"," ",727],"(",["T_VARIABLE","$force",727],")",["T_WHITESPACE"," ",727],"{",["T_WHITESPACE","\n            ",727],["T_VARIABLE","$this",728],["T_OBJECT_OPERATOR","->",728],["T_STRING","processRedirect",728],"(",")",";",["T_WHITESPACE","\n        ",728],"}",["T_WHITESPACE","\n        ",729],["T_RETURN","return",730],["T_WHITESPACE"," ",730],["T_VARIABLE","$this",730],";",["T_WHITESPACE","\n    ",730],"}",["T_WHITESPACE","\n\n    ",731],["T_DOC_COMMENT","\/**\n     * Precess redirect\n     *\n     * @return Maged_Controller\n     *\/",733],["T_WHITESPACE","\n    ",737],["T_PUBLIC","public",738],["T_WHITESPACE"," ",738],["T_FUNCTION","function",738],["T_WHITESPACE"," ",738],["T_STRING","processRedirect",738],"(",")",["T_WHITESPACE","\n    ",738],"{",["T_WHITESPACE","\n        ",739],["T_IF","if",740],["T_WHITESPACE"," ",740],"(",["T_VARIABLE","$this",740],["T_OBJECT_OPERATOR","->",740],["T_STRING","_redirectUrl",740],")",["T_WHITESPACE"," ",740],"{",["T_WHITESPACE","\n            ",740],["T_IF","if",741],["T_WHITESPACE"," ",741],"(",["T_STRING","headers_sent",741],"(",")",")",["T_WHITESPACE"," ",741],"{",["T_WHITESPACE","\n                ",741],["T_ECHO","echo",742],["T_WHITESPACE"," ",742],["T_CONSTANT_ENCAPSED_STRING","'<script type=\"text\/javascript\">location.href=\"'",742],["T_WHITESPACE"," ",742],".",["T_WHITESPACE"," ",742],["T_VARIABLE","$this",742],["T_OBJECT_OPERATOR","->",742],["T_STRING","_redirectUrl",742],["T_WHITESPACE"," ",742],".",["T_WHITESPACE"," ",742],["T_CONSTANT_ENCAPSED_STRING","'\"<\/script>'",742],";",["T_WHITESPACE","\n                ",742],["T_EXIT","exit",743],";",["T_WHITESPACE","\n            ",743],"}",["T_WHITESPACE"," ",744],["T_ELSE","else",744],["T_WHITESPACE"," ",744],"{",["T_WHITESPACE","\n                ",744],["T_STRING","header",745],"(",["T_CONSTANT_ENCAPSED_STRING","\"Location: \"",745],["T_WHITESPACE"," ",745],".",["T_WHITESPACE"," ",745],["T_VARIABLE","$this",745],["T_OBJECT_OPERATOR","->",745],["T_STRING","_redirectUrl",745],")",";",["T_WHITESPACE","\n                ",745],["T_EXIT","exit",746],";",["T_WHITESPACE","\n            ",746],"}",["T_WHITESPACE","\n        ",747],"}",["T_WHITESPACE","\n        ",748],["T_RETURN","return",749],["T_WHITESPACE"," ",749],["T_VARIABLE","$this",749],";",["T_WHITESPACE","\n    ",749],"}",["T_WHITESPACE","\n\n    ",750],["T_DOC_COMMENT","\/**\n     * Forward to action\n     *\n     * @param string $action\n     * @return Maged_Controller\n     *\/",752],["T_WHITESPACE","\n    ",757],["T_PUBLIC","public",758],["T_WHITESPACE"," ",758],["T_FUNCTION","function",758],["T_WHITESPACE"," ",758],["T_STRING","forward",758],"(",["T_VARIABLE","$action",758],")",["T_WHITESPACE","\n    ",758],"{",["T_WHITESPACE","\n        ",759],["T_VARIABLE","$this",760],["T_OBJECT_OPERATOR","->",760],["T_STRING","setAction",760],"(",["T_VARIABLE","$action",760],")",";",["T_WHITESPACE","\n        ",760],["T_VARIABLE","$this",761],["T_OBJECT_OPERATOR","->",761],["T_STRING","_isDispatched",761],["T_WHITESPACE"," ",761],"=",["T_WHITESPACE"," ",761],["T_STRING","false",761],";",["T_WHITESPACE","\n        ",761],["T_RETURN","return",762],["T_WHITESPACE"," ",762],["T_VARIABLE","$this",762],";",["T_WHITESPACE","\n    ",762],"}",["T_WHITESPACE","\n\n    ",763],["T_DOC_COMMENT","\/**\n     * Retrieve action method by action name\n     *\n     * @param string $action\n     * @return string\n     *\/",765],["T_WHITESPACE","\n    ",770],["T_PUBLIC","public",771],["T_WHITESPACE"," ",771],["T_FUNCTION","function",771],["T_WHITESPACE"," ",771],["T_STRING","getActionMethod",771],"(",["T_VARIABLE","$action",771],["T_WHITESPACE"," ",771],"=",["T_WHITESPACE"," ",771],["T_STRING","null",771],")",["T_WHITESPACE","\n    ",771],"{",["T_WHITESPACE","\n        ",772],["T_VARIABLE","$method",773],["T_WHITESPACE"," ",773],"=",["T_WHITESPACE"," ",773],"(","!",["T_STRING","is_null",773],"(",["T_VARIABLE","$action",773],")",["T_WHITESPACE"," ",773],"?",["T_WHITESPACE"," ",773],["T_VARIABLE","$action",773],["T_WHITESPACE"," ",773],":",["T_WHITESPACE"," ",773],["T_VARIABLE","$this",773],["T_OBJECT_OPERATOR","->",773],["T_STRING","_action",773],")",["T_WHITESPACE"," ",773],".",["T_WHITESPACE"," ",773],["T_CONSTANT_ENCAPSED_STRING","'Action'",773],";",["T_WHITESPACE","\n        ",773],["T_RETURN","return",774],["T_WHITESPACE"," ",774],["T_VARIABLE","$method",774],";",["T_WHITESPACE","\n    ",774],"}",["T_WHITESPACE","\n\n    ",775],["T_DOC_COMMENT","\/**\n     * Generate URL for action\n     *\n     * @param string $action\n     * @param array $params\n     *\/",777],["T_WHITESPACE","\n    ",782],["T_PUBLIC","public",783],["T_WHITESPACE"," ",783],["T_FUNCTION","function",783],["T_WHITESPACE"," ",783],["T_STRING","url",783],"(",["T_VARIABLE","$action",783],["T_WHITESPACE"," ",783],"=",["T_WHITESPACE"," ",783],["T_CONSTANT_ENCAPSED_STRING","''",783],",",["T_WHITESPACE"," ",783],["T_VARIABLE","$params",783],["T_WHITESPACE"," ",783],"=",["T_WHITESPACE"," ",783],["T_ARRAY","array",783],"(",")",")",["T_WHITESPACE","\n    ",783],"{",["T_WHITESPACE","\n        ",784],["T_VARIABLE","$args",785],["T_WHITESPACE"," ",785],"=",["T_WHITESPACE"," ",785],["T_ARRAY","array",785],"(",")",";",["T_WHITESPACE","\n        ",785],["T_FOREACH","foreach",786],["T_WHITESPACE"," ",786],"(",["T_VARIABLE","$params",786],["T_WHITESPACE"," ",786],["T_AS","as",786],["T_WHITESPACE"," ",786],["T_VARIABLE","$k",786],["T_WHITESPACE"," ",786],["T_DOUBLE_ARROW","=>",786],["T_WHITESPACE"," ",786],["T_VARIABLE","$v",786],")",["T_WHITESPACE"," ",786],"{",["T_WHITESPACE","\n            ",786],["T_VARIABLE","$args",787],"[","]",["T_WHITESPACE"," ",787],"=",["T_WHITESPACE"," ",787],["T_STRING","sprintf",787],"(",["T_CONSTANT_ENCAPSED_STRING","'%s=%s'",787],",",["T_WHITESPACE"," ",787],["T_STRING","rawurlencode",787],"(",["T_VARIABLE","$k",787],")",",",["T_WHITESPACE"," ",787],["T_STRING","rawurlencode",787],"(",["T_VARIABLE","$v",787],")",")",";",["T_WHITESPACE","\n        ",787],"}",["T_WHITESPACE","\n        ",788],["T_VARIABLE","$args",789],["T_WHITESPACE"," ",789],"=",["T_WHITESPACE"," ",789],["T_VARIABLE","$args",789],["T_WHITESPACE"," ",789],"?",["T_WHITESPACE"," ",789],["T_STRING","join",789],"(",["T_CONSTANT_ENCAPSED_STRING","'&'",789],",",["T_WHITESPACE"," ",789],["T_VARIABLE","$args",789],")",["T_WHITESPACE"," ",789],":",["T_WHITESPACE"," ",789],["T_CONSTANT_ENCAPSED_STRING","''",789],";",["T_WHITESPACE","\n\n        ",789],["T_RETURN","return",791],["T_WHITESPACE"," ",791],["T_STRING","sprintf",791],"(",["T_CONSTANT_ENCAPSED_STRING","'%s?%s=%s%s'",791],",",["T_WHITESPACE"," ",791],["T_VARIABLE","$_SERVER",791],"[",["T_CONSTANT_ENCAPSED_STRING","'SCRIPT_NAME'",791],"]",",",["T_WHITESPACE"," ",791],["T_STRING","self",791],["T_DOUBLE_COLON","::",791],["T_STRING","ACTION_KEY",791],",",["T_WHITESPACE"," ",791],["T_STRING","rawurlencode",791],"(",["T_VARIABLE","$action",791],")",",",["T_WHITESPACE"," ",791],["T_VARIABLE","$args",791],")",";",["T_WHITESPACE","\n    ",791],"}",["T_WHITESPACE","\n\n    ",792],["T_DOC_COMMENT","\/**\n     * Add domain policy header according to admin area settings\n     *\/",794],["T_WHITESPACE","\n    ",796],["T_PROTECTED","protected",797],["T_WHITESPACE"," ",797],["T_FUNCTION","function",797],["T_WHITESPACE"," ",797],["T_STRING","_addDomainPolicyHeader",797],"(",")",["T_WHITESPACE","\n    ",797],"{",["T_WHITESPACE","\n        ",798],["T_IF","if",799],["T_WHITESPACE"," ",799],"(",["T_VARIABLE","$this",799],["T_OBJECT_OPERATOR","->",799],["T_STRING","isInstalled",799],"(",")",")",["T_WHITESPACE"," ",799],"{",["T_WHITESPACE","\n            ",799],["T_DOC_COMMENT","\/** @var Mage_Core_Model_Domainpolicy $domainPolicy *\/",800],["T_WHITESPACE","\n            ",800],["T_VARIABLE","$domainPolicy",801],["T_WHITESPACE"," ",801],"=",["T_WHITESPACE"," ",801],["T_STRING","Mage",801],["T_DOUBLE_COLON","::",801],["T_STRING","getModel",801],"(",["T_CONSTANT_ENCAPSED_STRING","'core\/domainpolicy'",801],")",";",["T_WHITESPACE","\n            ",801],["T_IF","if",802],["T_WHITESPACE"," ",802],"(",["T_VARIABLE","$domainPolicy",802],")",["T_WHITESPACE"," ",802],"{",["T_WHITESPACE","\n                ",802],["T_VARIABLE","$policy",803],["T_WHITESPACE"," ",803],"=",["T_WHITESPACE"," ",803],["T_VARIABLE","$domainPolicy",803],["T_OBJECT_OPERATOR","->",803],["T_STRING","getBackendPolicy",803],"(",")",";",["T_WHITESPACE","\n                ",803],["T_IF","if",804],["T_WHITESPACE"," ",804],"(",["T_VARIABLE","$policy",804],")",["T_WHITESPACE"," ",804],"{",["T_WHITESPACE","\n                    ",804],["T_STRING","header",805],"(",["T_CONSTANT_ENCAPSED_STRING","'X-Frame-Options: '",805],["T_WHITESPACE"," ",805],".",["T_WHITESPACE"," ",805],["T_VARIABLE","$policy",805],")",";",["T_WHITESPACE","\n                ",805],"}",["T_WHITESPACE","\n            ",806],"}",["T_WHITESPACE","\n        ",807],"}",["T_WHITESPACE","\n    ",808],"}",["T_WHITESPACE","\n\n    ",809],["T_DOC_COMMENT","\/**\n     * Dispatch process\n     *\/",811],["T_WHITESPACE","\n    ",813],["T_PUBLIC","public",814],["T_WHITESPACE"," ",814],["T_FUNCTION","function",814],["T_WHITESPACE"," ",814],["T_STRING","dispatch",814],"(",")",["T_WHITESPACE","\n    ",814],"{",["T_WHITESPACE","\n        ",815],["T_STRING","header",816],"(",["T_CONSTANT_ENCAPSED_STRING","'Content-type: text\/html; charset=UTF-8'",816],")",";",["T_WHITESPACE","\n\n        ",816],["T_VARIABLE","$this",818],["T_OBJECT_OPERATOR","->",818],["T_STRING","_addDomainPolicyHeader",818],"(",")",";",["T_WHITESPACE","\n\n        ",818],["T_VARIABLE","$this",820],["T_OBJECT_OPERATOR","->",820],["T_STRING","setAction",820],"(",")",";",["T_WHITESPACE","\n\n        ",820],["T_IF","if",822],["T_WHITESPACE"," ",822],"(","!",["T_VARIABLE","$this",822],["T_OBJECT_OPERATOR","->",822],["T_STRING","isInstalled",822],"(",")",")",["T_WHITESPACE"," ",822],"{",["T_WHITESPACE","\n            ",822],["T_IF","if",823],["T_WHITESPACE"," ",823],"(","!",["T_STRING","in_array",823],"(",["T_VARIABLE","$this",823],["T_OBJECT_OPERATOR","->",823],["T_STRING","getAction",823],"(",")",",",["T_WHITESPACE"," ",823],["T_ARRAY","array",823],"(",["T_CONSTANT_ENCAPSED_STRING","'index'",823],",",["T_WHITESPACE"," ",823],["T_CONSTANT_ENCAPSED_STRING","'connectInstallAll'",823],",",["T_WHITESPACE"," ",823],["T_CONSTANT_ENCAPSED_STRING","'empty'",823],",",["T_WHITESPACE"," ",823],["T_CONSTANT_ENCAPSED_STRING","'cleanCache'",823],")",")",")",["T_WHITESPACE"," ",823],"{",["T_WHITESPACE","\n                ",823],["T_VARIABLE","$this",824],["T_OBJECT_OPERATOR","->",824],["T_STRING","setAction",824],"(",["T_CONSTANT_ENCAPSED_STRING","'index'",824],")",";",["T_WHITESPACE","\n            ",824],"}",["T_WHITESPACE","\n        ",825],"}",["T_WHITESPACE"," ",826],["T_ELSE","else",826],["T_WHITESPACE"," ",826],"{",["T_WHITESPACE","\n            ",826],["T_TRY","try",827],["T_WHITESPACE"," ",827],"{",["T_WHITESPACE","\n                ",827],["T_DOC_COMMENT","\/** @var Maged_BruteForce_Validator $bruteForce *\/",828],["T_WHITESPACE","\n                ",828],["T_VARIABLE","$bruteForce",829],["T_WHITESPACE"," ",829],"=",["T_WHITESPACE"," ",829],["T_VARIABLE","$this",829],["T_OBJECT_OPERATOR","->",829],["T_STRING","createBruteForceValidator",829],"(",")",";",["T_WHITESPACE","\n                ",829],["T_IF","if",830],["T_WHITESPACE"," ",830],"(",["T_VARIABLE","$bruteForce",830],["T_OBJECT_OPERATOR","->",830],["T_STRING","isCanLogin",830],"(",")",")",["T_WHITESPACE"," ",830],"{",["T_WHITESPACE","\n                    ",830],["T_VARIABLE","$this",831],["T_OBJECT_OPERATOR","->",831],["T_STRING","session",831],"(",")",["T_OBJECT_OPERATOR","->",831],["T_STRING","authenticate",831],"(",["T_VARIABLE","$bruteForce",831],")",";",["T_WHITESPACE","\n                ",831],"}",["T_WHITESPACE"," ",832],["T_ELSE","else",832],["T_WHITESPACE"," ",832],"{",["T_WHITESPACE","\n                    ",832],["T_THROW","throw",833],["T_WHITESPACE"," ",833],["T_NEW","new",833],["T_WHITESPACE"," ",833],["T_STRING","Exception",833],["T_WHITESPACE"," ",833],"(",["T_CONSTANT_ENCAPSED_STRING","\"Access is locked. Please try again in a few minutes.\"",833],")",";",["T_WHITESPACE","\n                ",833],"}",["T_WHITESPACE","\n            ",834],"}",["T_WHITESPACE"," ",835],["T_CATCH","catch",835],["T_WHITESPACE"," ",835],"(",["T_STRING","Exception",835],["T_WHITESPACE"," ",835],["T_VARIABLE","$e",835],")",["T_WHITESPACE"," ",835],"{",["T_WHITESPACE","\n                ",835],["T_VARIABLE","$this",836],["T_OBJECT_OPERATOR","->",836],["T_STRING","session",836],"(",")",["T_OBJECT_OPERATOR","->",836],["T_STRING","addMessage",836],"(",["T_CONSTANT_ENCAPSED_STRING","\"error\"",836],",",["T_WHITESPACE"," ",836],["T_VARIABLE","$e",836],["T_OBJECT_OPERATOR","->",836],["T_STRING","getMessage",836],"(",")",")",";",["T_WHITESPACE","\n                ",836],["T_VARIABLE","$this",837],["T_OBJECT_OPERATOR","->",837],["T_STRING","setAction",837],"(",["T_CONSTANT_ENCAPSED_STRING","\"login\"",837],")",";",["T_WHITESPACE","\n            ",837],"}",["T_WHITESPACE","\n        ",838],"}",["T_WHITESPACE","\n\n        ",839],["T_WHILE","while",841],["T_WHITESPACE"," ",841],"(","!",["T_VARIABLE","$this",841],["T_OBJECT_OPERATOR","->",841],["T_STRING","_isDispatched",841],")",["T_WHITESPACE"," ",841],"{",["T_WHITESPACE","\n            ",841],["T_VARIABLE","$this",842],["T_OBJECT_OPERATOR","->",842],["T_STRING","_isDispatched",842],["T_WHITESPACE"," ",842],"=",["T_WHITESPACE"," ",842],["T_STRING","true",842],";",["T_WHITESPACE","\n\n            ",842],["T_VARIABLE","$method",844],["T_WHITESPACE"," ",844],"=",["T_WHITESPACE"," ",844],["T_VARIABLE","$this",844],["T_OBJECT_OPERATOR","->",844],["T_STRING","getActionMethod",844],"(",")",";",["T_WHITESPACE","\n            ",844],["T_VARIABLE","$this",845],["T_OBJECT_OPERATOR","->",845],["T_VARIABLE","$method",845],"(",")",";",["T_WHITESPACE","\n        ",845],"}",["T_WHITESPACE","\n\n        ",846],["T_VARIABLE","$this",848],["T_OBJECT_OPERATOR","->",848],["T_STRING","processRedirect",848],"(",")",";",["T_WHITESPACE","\n    ",848],"}",["T_WHITESPACE","\n\n    ",849],["T_DOC_COMMENT","\/**\n     * Check root dir is writable\n     *\n     * @return bool\n     *\/",851],["T_WHITESPACE","\n    ",855],["T_PUBLIC","public",856],["T_WHITESPACE"," ",856],["T_FUNCTION","function",856],["T_WHITESPACE"," ",856],["T_STRING","isWritable",856],"(",")",["T_WHITESPACE","\n    ",856],"{",["T_WHITESPACE","\n        ",857],["T_IF","if",858],["T_WHITESPACE"," ",858],"(",["T_STRING","is_null",858],"(",["T_VARIABLE","$this",858],["T_OBJECT_OPERATOR","->",858],["T_STRING","_writable",858],")",")",["T_WHITESPACE"," ",858],"{",["T_WHITESPACE","\n            ",858],["T_VARIABLE","$this",859],["T_OBJECT_OPERATOR","->",859],["T_STRING","_writable",859],["T_WHITESPACE"," ",859],"=",["T_WHITESPACE"," ",859],["T_STRING","is_writable",859],"(",["T_VARIABLE","$this",859],["T_OBJECT_OPERATOR","->",859],["T_STRING","getMageDir",859],"(",")",["T_WHITESPACE"," ",859],".",["T_WHITESPACE"," ",859],["T_STRING","DIRECTORY_SEPARATOR",859],")",["T_WHITESPACE","\n                ",859],["T_BOOLEAN_AND","&&",860],["T_WHITESPACE"," ",860],["T_STRING","is_writable",860],"(",["T_VARIABLE","$this",860],["T_OBJECT_OPERATOR","->",860],["T_STRING","filepath",860],"(",")",")",["T_WHITESPACE","\n                ",860],["T_BOOLEAN_AND","&&",861],["T_WHITESPACE"," ",861],"(","!",["T_STRING","file_exists",861],"(",["T_VARIABLE","$this",861],["T_OBJECT_OPERATOR","->",861],["T_STRING","filepath",861],"(",["T_CONSTANT_ENCAPSED_STRING","'config.ini'",861],")",["T_WHITESPACE"," ",861],["T_BOOLEAN_OR","||",861],["T_WHITESPACE"," ",861],["T_STRING","is_writable",861],"(",["T_VARIABLE","$this",861],["T_OBJECT_OPERATOR","->",861],["T_STRING","filepath",861],"(",["T_CONSTANT_ENCAPSED_STRING","'config.ini'",861],")",")",")",")",";",["T_WHITESPACE","\n        ",861],"}",["T_WHITESPACE","\n        ",862],["T_RETURN","return",863],["T_WHITESPACE"," ",863],["T_VARIABLE","$this",863],["T_OBJECT_OPERATOR","->",863],["T_STRING","_writable",863],";",["T_WHITESPACE","\n    ",863],"}",["T_WHITESPACE","\n\n    ",864],["T_DOC_COMMENT","\/**\n     * Check is Magento files downloaded\n     *\n     * @return bool\n     *\/",866],["T_WHITESPACE","\n    ",870],["T_PUBLIC","public",871],["T_WHITESPACE"," ",871],["T_FUNCTION","function",871],["T_WHITESPACE"," ",871],["T_STRING","isDownloaded",871],"(",")",["T_WHITESPACE","\n    ",871],"{",["T_WHITESPACE","\n        ",872],["T_RETURN","return",873],["T_WHITESPACE"," ",873],["T_STRING","file_exists",873],"(",["T_VARIABLE","$this",873],["T_OBJECT_OPERATOR","->",873],["T_STRING","getMageFilename",873],"(",")",")",["T_WHITESPACE"," ",873],["T_BOOLEAN_AND","&&",873],["T_WHITESPACE"," ",873],["T_STRING","file_exists",873],"(",["T_VARIABLE","$this",873],["T_OBJECT_OPERATOR","->",873],["T_STRING","getVarFilename",873],"(",")",")",";",["T_WHITESPACE","\n    ",873],"}",["T_WHITESPACE","\n\n    ",874],["T_DOC_COMMENT","\/**\n     * Check is Magento installed\n     *\n     * @return bool\n     *\/",876],["T_WHITESPACE","\n    ",880],["T_PUBLIC","public",881],["T_WHITESPACE"," ",881],["T_FUNCTION","function",881],["T_WHITESPACE"," ",881],["T_STRING","isInstalled",881],"(",")",["T_WHITESPACE","\n    ",881],"{",["T_WHITESPACE","\n        ",882],["T_IF","if",883],["T_WHITESPACE"," ",883],"(","!",["T_VARIABLE","$this",883],["T_OBJECT_OPERATOR","->",883],["T_STRING","isDownloaded",883],"(",")",")",["T_WHITESPACE"," ",883],"{",["T_WHITESPACE","\n            ",883],["T_RETURN","return",884],["T_WHITESPACE"," ",884],["T_STRING","false",884],";",["T_WHITESPACE","\n        ",884],"}",["T_WHITESPACE","\n        ",885],["T_IF","if",886],["T_WHITESPACE"," ",886],"(","!",["T_STRING","class_exists",886],"(",["T_CONSTANT_ENCAPSED_STRING","'Mage'",886],",",["T_WHITESPACE"," ",886],["T_STRING","false",886],")",")",["T_WHITESPACE"," ",886],"{",["T_WHITESPACE","\n            ",886],["T_IF","if",887],["T_WHITESPACE"," ",887],"(","!",["T_STRING","file_exists",887],"(",["T_VARIABLE","$this",887],["T_OBJECT_OPERATOR","->",887],["T_STRING","getMageFilename",887],"(",")",")",")",["T_WHITESPACE"," ",887],"{",["T_WHITESPACE","\n                ",887],["T_RETURN","return",888],["T_WHITESPACE"," ",888],["T_STRING","false",888],";",["T_WHITESPACE","\n            ",888],"}",["T_WHITESPACE","\n            ",889],["T_INCLUDE_ONCE","include_once",890],["T_WHITESPACE"," ",890],["T_VARIABLE","$this",890],["T_OBJECT_OPERATOR","->",890],["T_STRING","getMageFilename",890],"(",")",";",["T_WHITESPACE","\n            ",890],["T_STRING","Mage",891],["T_DOUBLE_COLON","::",891],["T_STRING","setIsDownloader",891],"(",")",";",["T_WHITESPACE","\n        ",891],"}",["T_WHITESPACE","\n        ",892],["T_RETURN","return",893],["T_WHITESPACE"," ",893],["T_STRING","Mage",893],["T_DOUBLE_COLON","::",893],["T_STRING","isInstalled",893],"(",")",";",["T_WHITESPACE","\n    ",893],"}",["T_WHITESPACE","\n\n    ",894],["T_DOC_COMMENT","\/**\n     * Retrieve Maintenance flag\n     *\n     * @return bool\n     *\/",896],["T_WHITESPACE","\n    ",900],["T_PROTECTED","protected",901],["T_WHITESPACE"," ",901],["T_FUNCTION","function",901],["T_WHITESPACE"," ",901],["T_STRING","_getMaintenanceFlag",901],"(",")",["T_WHITESPACE","\n    ",901],"{",["T_WHITESPACE","\n        ",902],["T_IF","if",903],["T_WHITESPACE"," ",903],"(",["T_STRING","is_null",903],"(",["T_VARIABLE","$this",903],["T_OBJECT_OPERATOR","->",903],["T_STRING","_maintenance",903],")",")",["T_WHITESPACE"," ",903],"{",["T_WHITESPACE","\n            ",903],["T_VARIABLE","$this",904],["T_OBJECT_OPERATOR","->",904],["T_STRING","_maintenance",904],["T_WHITESPACE"," ",904],"=",["T_WHITESPACE"," ",904],"!",["T_EMPTY","empty",904],"(",["T_VARIABLE","$_REQUEST",904],"[",["T_CONSTANT_ENCAPSED_STRING","'maintenance'",904],"]",")",["T_WHITESPACE"," ",904],["T_BOOLEAN_AND","&&",904],["T_WHITESPACE"," ",904],["T_VARIABLE","$_REQUEST",904],"[",["T_CONSTANT_ENCAPSED_STRING","'maintenance'",904],"]",["T_WHITESPACE"," ",904],["T_IS_EQUAL","==",904],["T_WHITESPACE"," ",904],["T_CONSTANT_ENCAPSED_STRING","'1'",904],["T_WHITESPACE"," ",904],"?",["T_WHITESPACE"," ",904],["T_STRING","true",904],["T_WHITESPACE"," ",904],":",["T_WHITESPACE"," ",904],["T_STRING","false",904],";",["T_WHITESPACE","\n        ",904],"}",["T_WHITESPACE","\n        ",905],["T_RETURN","return",906],["T_WHITESPACE"," ",906],["T_VARIABLE","$this",906],["T_OBJECT_OPERATOR","->",906],["T_STRING","_maintenance",906],";",["T_WHITESPACE","\n    ",906],"}",["T_WHITESPACE","\n\n    ",907],["T_DOC_COMMENT","\/**\n     * Retrieve Maintenance Flag file path\n     *\n     * @return string\n     *\/",909],["T_WHITESPACE","\n    ",913],["T_PROTECTED","protected",914],["T_WHITESPACE"," ",914],["T_FUNCTION","function",914],["T_WHITESPACE"," ",914],["T_STRING","_getMaintenanceFilePath",914],"(",")",["T_WHITESPACE","\n    ",914],"{",["T_WHITESPACE","\n        ",915],["T_IF","if",916],["T_WHITESPACE"," ",916],"(",["T_STRING","is_null",916],"(",["T_VARIABLE","$this",916],["T_OBJECT_OPERATOR","->",916],["T_STRING","_maintenanceFile",916],")",")",["T_WHITESPACE"," ",916],"{",["T_WHITESPACE","\n            ",916],["T_VARIABLE","$path",917],["T_WHITESPACE"," ",917],"=",["T_WHITESPACE"," ",917],["T_STRING","dirname",917],"(",["T_STRING","dirname",917],"(",["T_STRING","dirname",917],"(",["T_FILE","__FILE__",917],")",")",")",["T_WHITESPACE"," ",917],".",["T_WHITESPACE"," ",917],["T_STRING","DIRECTORY_SEPARATOR",917],";",["T_WHITESPACE","\n            ",917],["T_VARIABLE","$this",918],["T_OBJECT_OPERATOR","->",918],["T_STRING","_maintenanceFile",918],["T_WHITESPACE"," ",918],"=",["T_WHITESPACE"," ",918],["T_VARIABLE","$path",918],["T_WHITESPACE"," ",918],".",["T_WHITESPACE"," ",918],["T_CONSTANT_ENCAPSED_STRING","'maintenance.flag'",918],";",["T_WHITESPACE","\n        ",918],"}",["T_WHITESPACE","\n        ",919],["T_RETURN","return",920],["T_WHITESPACE"," ",920],["T_VARIABLE","$this",920],["T_OBJECT_OPERATOR","->",920],["T_STRING","_maintenanceFile",920],";",["T_WHITESPACE","\n    ",920],"}",["T_WHITESPACE","\n\n    ",921],["T_DOC_COMMENT","\/**\n     * Begin install package(s)\n     *\/",923],["T_WHITESPACE","\n    ",925],["T_PUBLIC","public",926],["T_WHITESPACE"," ",926],["T_FUNCTION","function",926],["T_WHITESPACE"," ",926],["T_STRING","startInstall",926],"(",")",["T_WHITESPACE","\n    ",926],"{",["T_WHITESPACE","\n        ",927],["T_IF","if",928],["T_WHITESPACE"," ",928],"(",["T_VARIABLE","$this",928],["T_OBJECT_OPERATOR","->",928],["T_STRING","_getMaintenanceFlag",928],"(",")",")",["T_WHITESPACE"," ",928],"{",["T_WHITESPACE","\n            ",928],["T_VARIABLE","$maintenance_filename",929],"=",["T_CONSTANT_ENCAPSED_STRING","'maintenance.flag'",929],";",["T_WHITESPACE","\n            ",929],["T_VARIABLE","$config",930],["T_WHITESPACE"," ",930],"=",["T_WHITESPACE"," ",930],["T_VARIABLE","$this",930],["T_OBJECT_OPERATOR","->",930],["T_STRING","config",930],"(",")",";",["T_WHITESPACE","\n            ",930],["T_IF","if",931],["T_WHITESPACE"," ",931],"(","!",["T_VARIABLE","$this",931],["T_OBJECT_OPERATOR","->",931],["T_STRING","isWritable",931],"(",")",["T_WHITESPACE"," ",931],["T_BOOLEAN_OR","||",931],["T_WHITESPACE"," ",931],["T_STRING","strlen",931],"(",["T_VARIABLE","$config",931],["T_OBJECT_OPERATOR","->",931],["T_STRING","__get",931],"(",["T_CONSTANT_ENCAPSED_STRING","'remote_config'",931],")",")",["T_WHITESPACE"," ",931],">",["T_WHITESPACE"," ",931],["T_LNUMBER","0",931],")",["T_WHITESPACE"," ",931],"{",["T_WHITESPACE","\n                ",931],["T_VARIABLE","$ftpObj",932],["T_WHITESPACE"," ",932],"=",["T_WHITESPACE"," ",932],["T_NEW","new",932],["T_WHITESPACE"," ",932],["T_STRING","Mage_Connect_Ftp",932],"(",")",";",["T_WHITESPACE","\n                ",932],["T_VARIABLE","$ftpObj",933],["T_OBJECT_OPERATOR","->",933],["T_STRING","connect",933],"(",["T_VARIABLE","$config",933],["T_OBJECT_OPERATOR","->",933],["T_STRING","__get",933],"(",["T_CONSTANT_ENCAPSED_STRING","'remote_config'",933],")",")",";",["T_WHITESPACE","\n                ",933],["T_VARIABLE","$tempFile",934],["T_WHITESPACE"," ",934],"=",["T_WHITESPACE"," ",934],["T_STRING","tempnam",934],"(",["T_STRING","sys_get_temp_dir",934],"(",")",",",["T_CONSTANT_ENCAPSED_STRING","'maintenance'",934],")",";",["T_WHITESPACE","\n                ",934],"@",["T_STRING","file_put_contents",935],"(",["T_VARIABLE","$tempFile",935],",",["T_WHITESPACE"," ",935],["T_CONSTANT_ENCAPSED_STRING","'maintenance'",935],")",";",["T_WHITESPACE","\n                ",935],["T_VARIABLE","$ftpObj",936],["T_OBJECT_OPERATOR","->",936],["T_STRING","upload",936],"(",["T_VARIABLE","$maintenance_filename",936],",",["T_WHITESPACE"," ",936],["T_VARIABLE","$tempFile",936],")",";",["T_WHITESPACE","\n                ",936],["T_VARIABLE","$ftpObj",937],["T_OBJECT_OPERATOR","->",937],["T_STRING","close",937],"(",")",";",["T_WHITESPACE","\n            ",937],"}",["T_WHITESPACE"," ",938],["T_ELSE","else",938],["T_WHITESPACE"," ",938],"{",["T_WHITESPACE","\n                ",938],"@",["T_STRING","file_put_contents",939],"(",["T_VARIABLE","$this",939],["T_OBJECT_OPERATOR","->",939],["T_STRING","_getMaintenanceFilePath",939],"(",")",",",["T_WHITESPACE"," ",939],["T_CONSTANT_ENCAPSED_STRING","'maintenance'",939],")",";",["T_WHITESPACE","\n            ",939],"}",["T_WHITESPACE","\n        ",940],"}",["T_WHITESPACE","\n\n        ",941],["T_IF","if",943],["T_WHITESPACE"," ",943],"(","!",["T_EMPTY","empty",943],"(",["T_VARIABLE","$_GET",943],"[",["T_CONSTANT_ENCAPSED_STRING","'archive_type'",943],"]",")",")",["T_WHITESPACE"," ",943],"{",["T_WHITESPACE","\n\n            ",943],["T_VARIABLE","$backupName",945],["T_WHITESPACE"," ",945],"=",["T_WHITESPACE"," ",945],["T_VARIABLE","$_GET",945],"[",["T_CONSTANT_ENCAPSED_STRING","'backup_name'",945],"]",";",["T_WHITESPACE","\n            ",945],["T_VARIABLE","$connect",946],["T_WHITESPACE"," ",946],"=",["T_WHITESPACE"," ",946],["T_VARIABLE","$this",946],["T_OBJECT_OPERATOR","->",946],["T_STRING","model",946],"(",["T_CONSTANT_ENCAPSED_STRING","'connect'",946],",",["T_WHITESPACE"," ",946],["T_STRING","true",946],")",["T_OBJECT_OPERATOR","->",946],["T_STRING","connect",946],"(",")",";",["T_WHITESPACE","\n            ",946],["T_VARIABLE","$isSuccess",947],["T_WHITESPACE"," ",947],"=",["T_WHITESPACE"," ",947],["T_STRING","true",947],";",["T_WHITESPACE","\n\n            ",947],["T_IF","if",949],["T_WHITESPACE"," ",949],"(","!",["T_STRING","preg_match",949],"(",["T_CONSTANT_ENCAPSED_STRING","'\/^[a-zA-Z0-9\\ ]{0,50}$\/'",949],",",["T_WHITESPACE"," ",949],["T_VARIABLE","$backupName",949],")",")",["T_WHITESPACE"," ",949],"{",["T_WHITESPACE","\n                ",949],["T_VARIABLE","$connect",950],["T_OBJECT_OPERATOR","->",950],["T_STRING","runHtmlConsole",950],"(",["T_CONSTANT_ENCAPSED_STRING","'Please use only letters (a-z or A-Z), numbers (0-9) or space in '",950],["T_WHITESPACE","\n                    ",950],".",["T_WHITESPACE"," ",951],["T_CONSTANT_ENCAPSED_STRING","'Backup Name field. Other characters are not allowed.'",951],")",";",["T_WHITESPACE","\n                ",951],["T_VARIABLE","$isSuccess",952],["T_WHITESPACE"," ",952],"=",["T_WHITESPACE"," ",952],["T_STRING","false",952],";",["T_WHITESPACE","\n            ",952],"}",["T_WHITESPACE","\n\n            ",953],["T_IF","if",955],["T_WHITESPACE"," ",955],"(",["T_VARIABLE","$isSuccess",955],")",["T_WHITESPACE"," ",955],"{",["T_WHITESPACE","\n                ",955],["T_VARIABLE","$isSuccess",956],["T_WHITESPACE"," ",956],"=",["T_WHITESPACE"," ",956],["T_VARIABLE","$this",956],["T_OBJECT_OPERATOR","->",956],["T_STRING","_createBackup",956],"(",["T_VARIABLE","$_GET",956],"[",["T_CONSTANT_ENCAPSED_STRING","'archive_type'",956],"]",",",["T_WHITESPACE"," ",956],["T_VARIABLE","$_GET",956],"[",["T_CONSTANT_ENCAPSED_STRING","'backup_name'",956],"]",")",";",["T_WHITESPACE","\n            ",956],"}",["T_WHITESPACE","\n\n            ",957],["T_IF","if",959],["T_WHITESPACE"," ",959],"(","!",["T_VARIABLE","$isSuccess",959],")",["T_WHITESPACE"," ",959],"{",["T_WHITESPACE","\n                ",959],["T_VARIABLE","$this",960],["T_OBJECT_OPERATOR","->",960],["T_STRING","endInstall",960],"(",")",";",["T_WHITESPACE","\n                ",960],["T_VARIABLE","$this",961],["T_OBJECT_OPERATOR","->",961],["T_STRING","cleanCache",961],"(",")",";",["T_WHITESPACE","\n                ",961],["T_THROW","throw",962],["T_WHITESPACE"," ",962],["T_NEW","new",962],["T_WHITESPACE"," ",962],["T_STRING","Mage_Exception",962],"(",["T_WHITESPACE","\n                    ",962],["T_CONSTANT_ENCAPSED_STRING","'The installation process has been canceled because of the backup creation error'",963],["T_WHITESPACE","\n                ",963],")",";",["T_WHITESPACE","\n            ",964],"}",["T_WHITESPACE","\n        ",965],"}",["T_WHITESPACE","\n    ",966],"}",["T_WHITESPACE","\n\n    ",967],["T_DOC_COMMENT","\/**\n     * End install package(s)\n     *\/",969],["T_WHITESPACE","\n    ",971],["T_PUBLIC","public",972],["T_WHITESPACE"," ",972],["T_FUNCTION","function",972],["T_WHITESPACE"," ",972],["T_STRING","endInstall",972],"(",")",["T_WHITESPACE","\n    ",972],"{",["T_WHITESPACE","\n        ",973],["T_COMMENT","\/\/$connect\n",974],["T_WHITESPACE","        ",975],["T_DOC_COMMENT","\/** @var $connect Maged_Model_Connect *\/",975],["T_WHITESPACE","\n        ",975],["T_VARIABLE","$frontend",976],["T_WHITESPACE"," ",976],"=",["T_WHITESPACE"," ",976],["T_VARIABLE","$this",976],["T_OBJECT_OPERATOR","->",976],["T_STRING","model",976],"(",["T_CONSTANT_ENCAPSED_STRING","'connect'",976],",",["T_WHITESPACE"," ",976],["T_STRING","true",976],")",["T_OBJECT_OPERATOR","->",976],["T_STRING","connect",976],"(",")",["T_OBJECT_OPERATOR","->",976],["T_STRING","getFrontend",976],"(",")",";",["T_WHITESPACE","\n        ",976],["T_IF","if",977],["T_WHITESPACE"," ",977],"(","!","(",["T_VARIABLE","$frontend",977],["T_WHITESPACE"," ",977],["T_INSTANCEOF","instanceof",977],["T_WHITESPACE"," ",977],["T_STRING","Maged_Connect_Frontend",977],")",")",["T_WHITESPACE"," ",977],"{",["T_WHITESPACE","\n            ",977],["T_VARIABLE","$this",978],["T_OBJECT_OPERATOR","->",978],["T_STRING","cleanCache",978],"(",")",";",["T_WHITESPACE","\n        ",978],"}",["T_WHITESPACE","\n    ",979],"}",["T_WHITESPACE","\n\n    ",980],["T_PROTECTED","protected",982],["T_WHITESPACE"," ",982],["T_FUNCTION","function",982],["T_WHITESPACE"," ",982],["T_STRING","cleanCache",982],"(",")",["T_WHITESPACE","\n    ",982],"{",["T_WHITESPACE","\n        ",983],["T_VARIABLE","$result",984],["T_WHITESPACE"," ",984],"=",["T_WHITESPACE"," ",984],["T_STRING","true",984],";",["T_WHITESPACE","\n        ",984],["T_VARIABLE","$message",985],["T_WHITESPACE"," ",985],"=",["T_WHITESPACE"," ",985],["T_CONSTANT_ENCAPSED_STRING","''",985],";",["T_WHITESPACE","\n        ",985],["T_TRY","try",986],["T_WHITESPACE"," ",986],"{",["T_WHITESPACE","\n            ",986],["T_IF","if",987],["T_WHITESPACE"," ",987],"(",["T_VARIABLE","$this",987],["T_OBJECT_OPERATOR","->",987],["T_STRING","isInstalled",987],"(",")",")",["T_WHITESPACE"," ",987],"{",["T_WHITESPACE","\n                ",987],["T_IF","if",988],["T_WHITESPACE"," ",988],"(","!",["T_EMPTY","empty",988],"(",["T_VARIABLE","$_REQUEST",988],"[",["T_CONSTANT_ENCAPSED_STRING","'clean_sessions'",988],"]",")",")",["T_WHITESPACE"," ",988],"{",["T_WHITESPACE","\n                    ",988],["T_STRING","Mage",989],["T_DOUBLE_COLON","::",989],["T_STRING","app",989],"(",")",["T_OBJECT_OPERATOR","->",989],["T_STRING","cleanAllSessions",989],"(",")",";",["T_WHITESPACE","\n                    ",989],["T_VARIABLE","$message",990],["T_WHITESPACE"," ",990],["T_CONCAT_EQUAL",".=",990],["T_WHITESPACE"," ",990],["T_CONSTANT_ENCAPSED_STRING","'Session cleaned successfully. '",990],";",["T_WHITESPACE","\n                ",990],"}",["T_WHITESPACE","\n                ",991],["T_STRING","Mage",992],["T_DOUBLE_COLON","::",992],["T_STRING","app",992],"(",")",["T_OBJECT_OPERATOR","->",992],["T_STRING","cleanCache",992],"(",")",";",["T_WHITESPACE","\n\n                ",992],["T_COMMENT","\/\/ reinit config and apply all updates\n",994],["T_WHITESPACE","                ",995],["T_STRING","Mage",995],["T_DOUBLE_COLON","::",995],["T_STRING","app",995],"(",")",["T_OBJECT_OPERATOR","->",995],["T_STRING","getConfig",995],"(",")",["T_OBJECT_OPERATOR","->",995],["T_STRING","reinit",995],"(",")",";",["T_WHITESPACE","\n                ",995],["T_STRING","Mage_Core_Model_Resource_Setup",996],["T_DOUBLE_COLON","::",996],["T_STRING","applyAllUpdates",996],"(",")",";",["T_WHITESPACE","\n                ",996],["T_STRING","Mage_Core_Model_Resource_Setup",997],["T_DOUBLE_COLON","::",997],["T_STRING","applyAllDataUpdates",997],"(",")",";",["T_WHITESPACE","\n                ",997],["T_VARIABLE","$message",998],["T_WHITESPACE"," ",998],["T_CONCAT_EQUAL",".=",998],["T_WHITESPACE"," ",998],["T_CONSTANT_ENCAPSED_STRING","'Cache cleaned successfully'",998],";",["T_WHITESPACE","\n            ",998],"}",["T_WHITESPACE"," ",999],["T_ELSE","else",999],["T_WHITESPACE"," ",999],"{",["T_WHITESPACE","\n                ",999],["T_VARIABLE","$result",1000],["T_WHITESPACE"," ",1000],"=",["T_WHITESPACE"," ",1000],["T_STRING","true",1000],";",["T_WHITESPACE","\n            ",1000],"}",["T_WHITESPACE","\n        ",1001],"}",["T_WHITESPACE"," ",1002],["T_CATCH","catch",1002],["T_WHITESPACE"," ",1002],"(",["T_STRING","Exception",1002],["T_WHITESPACE"," ",1002],["T_VARIABLE","$e",1002],")",["T_WHITESPACE"," ",1002],"{",["T_WHITESPACE","\n            ",1002],["T_VARIABLE","$result",1003],["T_WHITESPACE"," ",1003],"=",["T_WHITESPACE"," ",1003],["T_STRING","false",1003],";",["T_WHITESPACE","\n            ",1003],["T_VARIABLE","$message",1004],["T_WHITESPACE"," ",1004],"=",["T_WHITESPACE"," ",1004],["T_CONSTANT_ENCAPSED_STRING","\"Exception during cache and session cleaning: \"",1004],".",["T_VARIABLE","$e",1004],["T_OBJECT_OPERATOR","->",1004],["T_STRING","getMessage",1004],"(",")",";",["T_WHITESPACE","\n            ",1004],["T_VARIABLE","$this",1005],["T_OBJECT_OPERATOR","->",1005],["T_STRING","session",1005],"(",")",["T_OBJECT_OPERATOR","->",1005],["T_STRING","addMessage",1005],"(",["T_CONSTANT_ENCAPSED_STRING","'error'",1005],",",["T_WHITESPACE"," ",1005],["T_VARIABLE","$message",1005],")",";",["T_WHITESPACE","\n        ",1005],"}",["T_WHITESPACE","\n\n        ",1006],["T_IF","if",1008],["T_WHITESPACE"," ",1008],"(",["T_VARIABLE","$result",1008],["T_WHITESPACE"," ",1008],["T_BOOLEAN_AND","&&",1008],["T_WHITESPACE"," ",1008],["T_VARIABLE","$this",1008],["T_OBJECT_OPERATOR","->",1008],["T_STRING","_getMaintenanceFlag",1008],"(",")",")",["T_WHITESPACE"," ",1008],"{",["T_WHITESPACE","\n            ",1008],["T_VARIABLE","$maintenance_filename",1009],"=",["T_CONSTANT_ENCAPSED_STRING","'maintenance.flag'",1009],";",["T_WHITESPACE","\n            ",1009],["T_VARIABLE","$config",1010],["T_WHITESPACE"," ",1010],"=",["T_WHITESPACE"," ",1010],["T_VARIABLE","$this",1010],["T_OBJECT_OPERATOR","->",1010],["T_STRING","config",1010],"(",")",";",["T_WHITESPACE","\n            ",1010],["T_IF","if",1011],["T_WHITESPACE"," ",1011],"(","!",["T_VARIABLE","$this",1011],["T_OBJECT_OPERATOR","->",1011],["T_STRING","isWritable",1011],"(",")",["T_WHITESPACE"," ",1011],["T_BOOLEAN_AND","&&",1011],["T_WHITESPACE"," ",1011],["T_STRING","strlen",1011],"(",["T_VARIABLE","$config",1011],["T_OBJECT_OPERATOR","->",1011],["T_STRING","__get",1011],"(",["T_CONSTANT_ENCAPSED_STRING","'remote_config'",1011],")",")",["T_WHITESPACE"," ",1011],">",["T_WHITESPACE"," ",1011],["T_LNUMBER","0",1011],")",["T_WHITESPACE"," ",1011],"{",["T_WHITESPACE","\n                ",1011],["T_VARIABLE","$ftpObj",1012],["T_WHITESPACE"," ",1012],"=",["T_WHITESPACE"," ",1012],["T_NEW","new",1012],["T_WHITESPACE"," ",1012],["T_STRING","Mage_Connect_Ftp",1012],"(",")",";",["T_WHITESPACE","\n                ",1012],["T_VARIABLE","$ftpObj",1013],["T_OBJECT_OPERATOR","->",1013],["T_STRING","connect",1013],"(",["T_VARIABLE","$config",1013],["T_OBJECT_OPERATOR","->",1013],["T_STRING","__get",1013],"(",["T_CONSTANT_ENCAPSED_STRING","'remote_config'",1013],")",")",";",["T_WHITESPACE","\n                ",1013],["T_VARIABLE","$ftpObj",1014],["T_OBJECT_OPERATOR","->",1014],["T_STRING","delete",1014],"(",["T_VARIABLE","$maintenance_filename",1014],")",";",["T_WHITESPACE","\n                ",1014],["T_VARIABLE","$ftpObj",1015],["T_OBJECT_OPERATOR","->",1015],["T_STRING","close",1015],"(",")",";",["T_WHITESPACE","\n            ",1015],"}",["T_WHITESPACE"," ",1016],["T_ELSE","else",1016],["T_WHITESPACE"," ",1016],"{",["T_WHITESPACE","\n                ",1016],"@",["T_STRING","unlink",1017],"(",["T_VARIABLE","$this",1017],["T_OBJECT_OPERATOR","->",1017],["T_STRING","_getMaintenanceFilePath",1017],"(",")",")",";",["T_WHITESPACE","\n            ",1017],"}",["T_WHITESPACE","\n        ",1018],"}",["T_WHITESPACE","\n        ",1019],["T_RETURN","return",1020],["T_WHITESPACE"," ",1020],["T_ARRAY","array",1020],"(",["T_CONSTANT_ENCAPSED_STRING","'result'",1020],["T_WHITESPACE"," ",1020],["T_DOUBLE_ARROW","=>",1020],["T_WHITESPACE"," ",1020],["T_VARIABLE","$result",1020],",",["T_WHITESPACE"," ",1020],["T_CONSTANT_ENCAPSED_STRING","'message'",1020],["T_WHITESPACE"," ",1020],["T_DOUBLE_ARROW","=>",1020],["T_WHITESPACE"," ",1020],["T_VARIABLE","$message",1020],")",";",["T_WHITESPACE","\n    ",1020],"}",["T_WHITESPACE","\n\n    ",1021],["T_DOC_COMMENT","\/**\n     * Gets the current Magento Connect Manager (Downloader) version string\n     * @link http:\/\/www.magentocommerce.com\/blog\/new-community-edition-release-process\/\n     *\n     * @return string\n     *\/",1023],["T_WHITESPACE","\n    ",1028],["T_PUBLIC","public",1029],["T_WHITESPACE"," ",1029],["T_STATIC","static",1029],["T_WHITESPACE"," ",1029],["T_FUNCTION","function",1029],["T_WHITESPACE"," ",1029],["T_STRING","getVersion",1029],"(",")",["T_WHITESPACE","\n    ",1029],"{",["T_WHITESPACE","\n        ",1030],["T_VARIABLE","$i",1031],["T_WHITESPACE"," ",1031],"=",["T_WHITESPACE"," ",1031],["T_STRING","self",1031],["T_DOUBLE_COLON","::",1031],["T_STRING","getVersionInfo",1031],"(",")",";",["T_WHITESPACE","\n        ",1031],["T_RETURN","return",1032],["T_WHITESPACE"," ",1032],["T_STRING","trim",1032],"(",["T_WHITESPACE","\n            ",1032],"\"",["T_CURLY_OPEN","{",1033],["T_VARIABLE","$i",1033],"[",["T_CONSTANT_ENCAPSED_STRING","'major'",1033],"]","}",["T_ENCAPSED_AND_WHITESPACE",".",1033],["T_CURLY_OPEN","{",1033],["T_VARIABLE","$i",1033],"[",["T_CONSTANT_ENCAPSED_STRING","'minor'",1033],"]","}",["T_ENCAPSED_AND_WHITESPACE",".",1033],["T_CURLY_OPEN","{",1033],["T_VARIABLE","$i",1033],"[",["T_CONSTANT_ENCAPSED_STRING","'revision'",1033],"]","}","\"",["T_WHITESPACE","\n                ",1033],".",["T_WHITESPACE"," ",1034],"(",["T_VARIABLE","$i",1034],"[",["T_CONSTANT_ENCAPSED_STRING","'patch'",1034],"]",["T_WHITESPACE"," ",1034],["T_IS_NOT_EQUAL","!=",1034],["T_WHITESPACE"," ",1034],["T_CONSTANT_ENCAPSED_STRING","''",1034],["T_WHITESPACE"," ",1034],"?",["T_WHITESPACE"," ",1034],"\"",["T_ENCAPSED_AND_WHITESPACE",".",1034],["T_CURLY_OPEN","{",1034],["T_VARIABLE","$i",1034],"[",["T_CONSTANT_ENCAPSED_STRING","'patch'",1034],"]","}","\"",["T_WHITESPACE"," ",1034],":",["T_WHITESPACE"," ",1034],["T_CONSTANT_ENCAPSED_STRING","\"\"",1034],")",["T_WHITESPACE","\n                ",1034],".",["T_WHITESPACE"," ",1035],"\"",["T_ENCAPSED_AND_WHITESPACE","-",1035],["T_CURLY_OPEN","{",1035],["T_VARIABLE","$i",1035],"[",["T_CONSTANT_ENCAPSED_STRING","'stability'",1035],"]","}",["T_CURLY_OPEN","{",1035],["T_VARIABLE","$i",1035],"[",["T_CONSTANT_ENCAPSED_STRING","'number'",1035],"]","}","\"",",",["T_WHITESPACE","\n            ",1035],["T_CONSTANT_ENCAPSED_STRING","'.-'",1036],["T_WHITESPACE","\n        ",1036],")",";",["T_WHITESPACE","\n    ",1037],"}",["T_WHITESPACE","\n\n    ",1038],["T_DOC_COMMENT","\/**\n     * Gets the detailed Magento Connect Manager (Downloader) version information\n     * @link http:\/\/www.magentocommerce.com\/blog\/new-community-edition-release-process\/\n     *\n     * @return array\n     *\/",1040],["T_WHITESPACE","\n    ",1045],["T_PUBLIC","public",1046],["T_WHITESPACE"," ",1046],["T_STATIC","static",1046],["T_WHITESPACE"," ",1046],["T_FUNCTION","function",1046],["T_WHITESPACE"," ",1046],["T_STRING","getVersionInfo",1046],"(",")",["T_WHITESPACE","\n    ",1046],"{",["T_WHITESPACE","\n        ",1047],["T_RETURN","return",1048],["T_WHITESPACE"," ",1048],["T_ARRAY","array",1048],"(",["T_WHITESPACE","\n            ",1048],["T_CONSTANT_ENCAPSED_STRING","'major'",1049],["T_WHITESPACE","     ",1049],["T_DOUBLE_ARROW","=>",1049],["T_WHITESPACE"," ",1049],["T_CONSTANT_ENCAPSED_STRING","'1'",1049],",",["T_WHITESPACE","\n            ",1049],["T_CONSTANT_ENCAPSED_STRING","'minor'",1050],["T_WHITESPACE","     ",1050],["T_DOUBLE_ARROW","=>",1050],["T_WHITESPACE"," ",1050],["T_CONSTANT_ENCAPSED_STRING","'9'",1050],",",["T_WHITESPACE","\n            ",1050],["T_CONSTANT_ENCAPSED_STRING","'revision'",1051],["T_WHITESPACE","  ",1051],["T_DOUBLE_ARROW","=>",1051],["T_WHITESPACE"," ",1051],["T_CONSTANT_ENCAPSED_STRING","'3'",1051],",",["T_WHITESPACE","\n            ",1051],["T_CONSTANT_ENCAPSED_STRING","'patch'",1052],["T_WHITESPACE","     ",1052],["T_DOUBLE_ARROW","=>",1052],["T_WHITESPACE"," ",1052],["T_CONSTANT_ENCAPSED_STRING","'1'",1052],",",["T_WHITESPACE","\n            ",1052],["T_CONSTANT_ENCAPSED_STRING","'stability'",1053],["T_WHITESPACE"," ",1053],["T_DOUBLE_ARROW","=>",1053],["T_WHITESPACE"," ",1053],["T_CONSTANT_ENCAPSED_STRING","''",1053],",",["T_WHITESPACE","\n            ",1053],["T_CONSTANT_ENCAPSED_STRING","'number'",1054],["T_WHITESPACE","    ",1054],["T_DOUBLE_ARROW","=>",1054],["T_WHITESPACE"," ",1054],["T_CONSTANT_ENCAPSED_STRING","''",1054],",",["T_WHITESPACE","\n        ",1054],")",";",["T_WHITESPACE","\n    ",1055],"}",["T_WHITESPACE","\n\n    ",1056],["T_DOC_COMMENT","\/**\n     * Create Backup\n     *\n     * @param string $archiveType\n     * @param string $archiveName\n     * @return bool\n     *\/",1058],["T_WHITESPACE","\n    ",1064],["T_PROTECTED","protected",1065],["T_WHITESPACE"," ",1065],["T_FUNCTION","function",1065],["T_WHITESPACE"," ",1065],["T_STRING","_createBackup",1065],"(",["T_VARIABLE","$archiveType",1065],",",["T_WHITESPACE"," ",1065],["T_VARIABLE","$archiveName",1065],")","{",["T_WHITESPACE","\n        ",1065],["T_DOC_COMMENT","\/** @var $connect Maged_Connect *\/",1066],["T_WHITESPACE","\n        ",1066],["T_VARIABLE","$connect",1067],["T_WHITESPACE"," ",1067],"=",["T_WHITESPACE"," ",1067],["T_VARIABLE","$this",1067],["T_OBJECT_OPERATOR","->",1067],["T_STRING","model",1067],"(",["T_CONSTANT_ENCAPSED_STRING","'connect'",1067],",",["T_WHITESPACE"," ",1067],["T_STRING","true",1067],")",["T_OBJECT_OPERATOR","->",1067],["T_STRING","connect",1067],"(",")",";",["T_WHITESPACE","\n        ",1067],["T_VARIABLE","$connect",1068],["T_OBJECT_OPERATOR","->",1068],["T_STRING","runHtmlConsole",1068],"(",["T_CONSTANT_ENCAPSED_STRING","'Creating backup...'",1068],")",";",["T_WHITESPACE","\n\n        ",1068],["T_VARIABLE","$isSuccess",1070],["T_WHITESPACE"," ",1070],"=",["T_WHITESPACE"," ",1070],["T_STRING","false",1070],";",["T_WHITESPACE","\n\n        ",1070],["T_TRY","try",1072],["T_WHITESPACE"," ",1072],"{",["T_WHITESPACE","\n            ",1072],["T_VARIABLE","$type",1073],["T_WHITESPACE"," ",1073],"=",["T_WHITESPACE"," ",1073],["T_VARIABLE","$this",1073],["T_OBJECT_OPERATOR","->",1073],["T_STRING","_getBackupTypeByCode",1073],"(",["T_VARIABLE","$archiveType",1073],")",";",["T_WHITESPACE","\n\n            ",1073],["T_VARIABLE","$backupManager",1075],["T_WHITESPACE"," ",1075],"=",["T_WHITESPACE"," ",1075],["T_STRING","Mage_Backup",1075],["T_DOUBLE_COLON","::",1075],["T_STRING","getBackupInstance",1075],"(",["T_VARIABLE","$type",1075],")",["T_WHITESPACE","\n                ",1075],["T_OBJECT_OPERATOR","->",1076],["T_STRING","setBackupExtension",1076],"(",["T_STRING","Mage",1076],["T_DOUBLE_COLON","::",1076],["T_STRING","helper",1076],"(",["T_CONSTANT_ENCAPSED_STRING","'backup'",1076],")",["T_OBJECT_OPERATOR","->",1076],["T_STRING","getExtensionByType",1076],"(",["T_VARIABLE","$type",1076],")",")",["T_WHITESPACE","\n                ",1076],["T_OBJECT_OPERATOR","->",1077],["T_STRING","setTime",1077],"(",["T_STRING","time",1077],"(",")",")",["T_WHITESPACE","\n                ",1077],["T_OBJECT_OPERATOR","->",1078],["T_STRING","setName",1078],"(",["T_VARIABLE","$archiveName",1078],")",["T_WHITESPACE","\n                ",1078],["T_OBJECT_OPERATOR","->",1079],["T_STRING","setBackupsDir",1079],"(",["T_STRING","Mage",1079],["T_DOUBLE_COLON","::",1079],["T_STRING","helper",1079],"(",["T_CONSTANT_ENCAPSED_STRING","'backup'",1079],")",["T_OBJECT_OPERATOR","->",1079],["T_STRING","getBackupsDir",1079],"(",")",")",";",["T_WHITESPACE","\n\n            ",1079],["T_STRING","Mage",1081],["T_DOUBLE_COLON","::",1081],["T_STRING","register",1081],"(",["T_CONSTANT_ENCAPSED_STRING","'backup_manager'",1081],",",["T_WHITESPACE"," ",1081],["T_VARIABLE","$backupManager",1081],")",";",["T_WHITESPACE","\n\n            ",1081],["T_IF","if",1083],["T_WHITESPACE"," ",1083],"(",["T_VARIABLE","$type",1083],["T_WHITESPACE"," ",1083],["T_IS_NOT_EQUAL","!=",1083],["T_WHITESPACE"," ",1083],["T_STRING","Mage_Backup_Helper_Data",1083],["T_DOUBLE_COLON","::",1083],["T_STRING","TYPE_DB",1083],")",["T_WHITESPACE"," ",1083],"{",["T_WHITESPACE","\n                ",1083],["T_VARIABLE","$backupManager",1084],["T_OBJECT_OPERATOR","->",1084],["T_STRING","setRootDir",1084],"(",["T_STRING","Mage",1084],["T_DOUBLE_COLON","::",1084],["T_STRING","getBaseDir",1084],"(",")",")",["T_WHITESPACE","\n                    ",1084],["T_OBJECT_OPERATOR","->",1085],["T_STRING","addIgnorePaths",1085],"(",["T_STRING","Mage",1085],["T_DOUBLE_COLON","::",1085],["T_STRING","helper",1085],"(",["T_CONSTANT_ENCAPSED_STRING","'backup'",1085],")",["T_OBJECT_OPERATOR","->",1085],["T_STRING","getBackupIgnorePaths",1085],"(",")",")",";",["T_WHITESPACE","\n            ",1085],"}",["T_WHITESPACE","\n            ",1086],["T_VARIABLE","$backupManager",1087],["T_OBJECT_OPERATOR","->",1087],["T_STRING","create",1087],"(",")",";",["T_WHITESPACE","\n            ",1087],["T_VARIABLE","$connect",1088],["T_OBJECT_OPERATOR","->",1088],["T_STRING","runHtmlConsole",1088],"(",["T_WHITESPACE","\n                ",1088],["T_VARIABLE","$this",1089],["T_OBJECT_OPERATOR","->",1089],["T_STRING","_getCreateBackupSuccessMessageByType",1089],"(",["T_VARIABLE","$type",1089],")",["T_WHITESPACE","\n            ",1089],")",";",["T_WHITESPACE","\n            ",1090],["T_VARIABLE","$isSuccess",1091],["T_WHITESPACE"," ",1091],"=",["T_WHITESPACE"," ",1091],["T_STRING","true",1091],";",["T_WHITESPACE","\n        ",1091],"}",["T_WHITESPACE"," ",1092],["T_CATCH","catch",1092],["T_WHITESPACE"," ",1092],"(",["T_STRING","Mage_Backup_Exception_NotEnoughFreeSpace",1092],["T_WHITESPACE"," ",1092],["T_VARIABLE","$e",1092],")",["T_WHITESPACE"," ",1092],"{",["T_WHITESPACE","\n            ",1092],["T_VARIABLE","$connect",1093],["T_OBJECT_OPERATOR","->",1093],["T_STRING","runHtmlConsole",1093],"(",["T_CONSTANT_ENCAPSED_STRING","'Not enough free space to create backup.'",1093],")",";",["T_WHITESPACE","\n            ",1093],["T_STRING","Mage",1094],["T_DOUBLE_COLON","::",1094],["T_STRING","logException",1094],"(",["T_VARIABLE","$e",1094],")",";",["T_WHITESPACE","\n        ",1094],"}",["T_WHITESPACE"," ",1095],["T_CATCH","catch",1095],["T_WHITESPACE"," ",1095],"(",["T_STRING","Mage_Backup_Exception_NotEnoughPermissions",1095],["T_WHITESPACE"," ",1095],["T_VARIABLE","$e",1095],")",["T_WHITESPACE"," ",1095],"{",["T_WHITESPACE","\n            ",1095],["T_VARIABLE","$connect",1096],["T_OBJECT_OPERATOR","->",1096],["T_STRING","runHtmlConsole",1096],"(",["T_CONSTANT_ENCAPSED_STRING","'Not enough permissions to create backup.'",1096],")",";",["T_WHITESPACE","\n            ",1096],["T_STRING","Mage",1097],["T_DOUBLE_COLON","::",1097],["T_STRING","logException",1097],"(",["T_VARIABLE","$e",1097],")",";",["T_WHITESPACE","\n        ",1097],"}",["T_WHITESPACE"," ",1098],["T_CATCH","catch",1098],["T_WHITESPACE"," ",1098],"(",["T_STRING","Exception",1098],["T_WHITESPACE","  ",1098],["T_VARIABLE","$e",1098],")",["T_WHITESPACE"," ",1098],"{",["T_WHITESPACE","\n            ",1098],["T_VARIABLE","$connect",1099],["T_OBJECT_OPERATOR","->",1099],["T_STRING","runHtmlConsole",1099],"(",["T_CONSTANT_ENCAPSED_STRING","'An error occurred while creating the backup.'",1099],")",";",["T_WHITESPACE","\n            ",1099],["T_STRING","Mage",1100],["T_DOUBLE_COLON","::",1100],["T_STRING","logException",1100],"(",["T_VARIABLE","$e",1100],")",";",["T_WHITESPACE","\n        ",1100],"}",["T_WHITESPACE","\n\n        ",1101],["T_RETURN","return",1103],["T_WHITESPACE"," ",1103],["T_VARIABLE","$isSuccess",1103],";",["T_WHITESPACE","\n    ",1103],"}",["T_WHITESPACE","\n\n    ",1104],["T_DOC_COMMENT","\/**\n     * Retrieve Backup Type by Code\n     *\n     * @param int $code\n     * @return string\n     *\/",1106],["T_WHITESPACE","\n    ",1111],["T_PROTECTED","protected",1112],["T_WHITESPACE"," ",1112],["T_FUNCTION","function",1112],["T_WHITESPACE"," ",1112],["T_STRING","_getBackupTypeByCode",1112],"(",["T_VARIABLE","$code",1112],")",["T_WHITESPACE","\n    ",1112],"{",["T_WHITESPACE","\n        ",1113],["T_VARIABLE","$typeMap",1114],["T_WHITESPACE"," ",1114],"=",["T_WHITESPACE"," ",1114],["T_ARRAY","array",1114],"(",["T_WHITESPACE","\n            ",1114],["T_LNUMBER","1",1115],["T_WHITESPACE"," ",1115],["T_DOUBLE_ARROW","=>",1115],["T_WHITESPACE"," ",1115],["T_STRING","Mage_Backup_Helper_Data",1115],["T_DOUBLE_COLON","::",1115],["T_STRING","TYPE_DB",1115],",",["T_WHITESPACE","\n            ",1115],["T_LNUMBER","2",1116],["T_WHITESPACE"," ",1116],["T_DOUBLE_ARROW","=>",1116],["T_WHITESPACE"," ",1116],["T_STRING","Mage_Backup_Helper_Data",1116],["T_DOUBLE_COLON","::",1116],["T_STRING","TYPE_SYSTEM_SNAPSHOT",1116],",",["T_WHITESPACE","\n            ",1116],["T_LNUMBER","3",1117],["T_WHITESPACE"," ",1117],["T_DOUBLE_ARROW","=>",1117],["T_WHITESPACE"," ",1117],["T_STRING","Mage_Backup_Helper_Data",1117],["T_DOUBLE_COLON","::",1117],["T_STRING","TYPE_SNAPSHOT_WITHOUT_MEDIA",1117],",",["T_WHITESPACE","\n            ",1117],["T_LNUMBER","4",1118],["T_WHITESPACE"," ",1118],["T_DOUBLE_ARROW","=>",1118],["T_WHITESPACE"," ",1118],["T_STRING","Mage_Backup_Helper_Data",1118],["T_DOUBLE_COLON","::",1118],["T_STRING","TYPE_MEDIA",1118],["T_WHITESPACE","\n        ",1118],")",";",["T_WHITESPACE","\n\n        ",1119],["T_IF","if",1121],["T_WHITESPACE"," ",1121],"(","!",["T_ISSET","isset",1121],"(",["T_VARIABLE","$typeMap",1121],"[",["T_VARIABLE","$code",1121],"]",")",")",["T_WHITESPACE"," ",1121],"{",["T_WHITESPACE","\n            ",1121],["T_STRING","Mage",1122],["T_DOUBLE_COLON","::",1122],["T_STRING","throwException",1122],"(",["T_CONSTANT_ENCAPSED_STRING","'Unknown backup type'",1122],")",";",["T_WHITESPACE","\n        ",1122],"}",["T_WHITESPACE","\n\n        ",1123],["T_RETURN","return",1125],["T_WHITESPACE"," ",1125],["T_VARIABLE","$typeMap",1125],"[",["T_VARIABLE","$code",1125],"]",";",["T_WHITESPACE","\n    ",1125],"}",["T_WHITESPACE","\n\n    ",1126],["T_DOC_COMMENT","\/**\n     * Get backup create success message by backup type\n     *\n     * @param string $type\n     * @return string\n     *\/",1128],["T_WHITESPACE","\n    ",1133],["T_PROTECTED","protected",1134],["T_WHITESPACE"," ",1134],["T_FUNCTION","function",1134],["T_WHITESPACE"," ",1134],["T_STRING","_getCreateBackupSuccessMessageByType",1134],"(",["T_VARIABLE","$type",1134],")",["T_WHITESPACE","\n    ",1134],"{",["T_WHITESPACE","\n        ",1135],["T_VARIABLE","$messagesMap",1136],["T_WHITESPACE"," ",1136],"=",["T_WHITESPACE"," ",1136],["T_ARRAY","array",1136],"(",["T_WHITESPACE","\n            ",1136],["T_STRING","Mage_Backup_Helper_Data",1137],["T_DOUBLE_COLON","::",1137],["T_STRING","TYPE_SYSTEM_SNAPSHOT",1137],["T_WHITESPACE"," ",1137],["T_DOUBLE_ARROW","=>",1137],["T_WHITESPACE"," ",1137],["T_CONSTANT_ENCAPSED_STRING","'System backup has been created'",1137],",",["T_WHITESPACE","\n            ",1137],["T_STRING","Mage_Backup_Helper_Data",1138],["T_DOUBLE_COLON","::",1138],["T_STRING","TYPE_SNAPSHOT_WITHOUT_MEDIA",1138],["T_WHITESPACE"," ",1138],["T_DOUBLE_ARROW","=>",1138],["T_WHITESPACE"," ",1138],["T_CONSTANT_ENCAPSED_STRING","'System (excluding Media) backup has been created'",1138],",",["T_WHITESPACE","\n            ",1138],["T_STRING","Mage_Backup_Helper_Data",1139],["T_DOUBLE_COLON","::",1139],["T_STRING","TYPE_MEDIA",1139],["T_WHITESPACE"," ",1139],["T_DOUBLE_ARROW","=>",1139],["T_WHITESPACE"," ",1139],["T_CONSTANT_ENCAPSED_STRING","'Database and media backup has been created'",1139],",",["T_WHITESPACE","\n            ",1139],["T_STRING","Mage_Backup_Helper_Data",1140],["T_DOUBLE_COLON","::",1140],["T_STRING","TYPE_DB",1140],["T_WHITESPACE"," ",1140],["T_DOUBLE_ARROW","=>",1140],["T_WHITESPACE"," ",1140],["T_CONSTANT_ENCAPSED_STRING","'Database backup has been created'",1140],["T_WHITESPACE","\n        ",1140],")",";",["T_WHITESPACE","\n\n        ",1141],["T_IF","if",1143],["T_WHITESPACE"," ",1143],"(","!",["T_ISSET","isset",1143],"(",["T_VARIABLE","$messagesMap",1143],"[",["T_VARIABLE","$type",1143],"]",")",")",["T_WHITESPACE"," ",1143],"{",["T_WHITESPACE","\n            ",1143],["T_RETURN","return",1144],["T_WHITESPACE"," ",1144],["T_CONSTANT_ENCAPSED_STRING","''",1144],";",["T_WHITESPACE","\n        ",1144],"}",["T_WHITESPACE","\n\n        ",1145],["T_RETURN","return",1147],["T_WHITESPACE"," ",1147],["T_VARIABLE","$messagesMap",1147],"[",["T_VARIABLE","$type",1147],"]",";",["T_WHITESPACE","\n    ",1147],"}",["T_WHITESPACE","\n\n    ",1148],["T_DOC_COMMENT","\/**\n     * Validate Form Key\n     *\n     * @return bool\n     *\/",1150],["T_WHITESPACE","\n    ",1154],["T_PROTECTED","protected",1155],["T_WHITESPACE"," ",1155],["T_FUNCTION","function",1155],["T_WHITESPACE"," ",1155],["T_STRING","_validateFormKey",1155],"(",")",["T_WHITESPACE","\n    ",1155],"{",["T_WHITESPACE","\n        ",1156],["T_RETURN","return",1157],["T_WHITESPACE"," ",1157],["T_VARIABLE","$this",1157],["T_OBJECT_OPERATOR","->",1157],["T_STRING","session",1157],"(",")",["T_OBJECT_OPERATOR","->",1157],["T_STRING","validateFormKey",1157],"(",")",";",["T_WHITESPACE","\n    ",1157],"}",["T_WHITESPACE","\n\n    ",1158],["T_DOC_COMMENT","\/**\n     * Retrieve Session Form Key\n     *\n     * @return string\n     *\/",1160],["T_WHITESPACE","\n    ",1164],["T_PUBLIC","public",1165],["T_WHITESPACE"," ",1165],["T_FUNCTION","function",1165],["T_WHITESPACE"," ",1165],["T_STRING","getFormKey",1165],"(",")",["T_WHITESPACE","\n    ",1165],"{",["T_WHITESPACE","\n        ",1166],["T_RETURN","return",1167],["T_WHITESPACE"," ",1167],["T_VARIABLE","$this",1167],["T_OBJECT_OPERATOR","->",1167],["T_STRING","session",1167],"(",")",["T_OBJECT_OPERATOR","->",1167],["T_STRING","getFormKey",1167],"(",")",";",["T_WHITESPACE","\n    ",1167],"}",["T_WHITESPACE","\n\n    ",1168],["T_DOC_COMMENT","\/**\n     * @return Maged_BruteForce_Validator\n     * @throws Exception\n     *\/",1170],["T_WHITESPACE","\n    ",1173],["T_PROTECTED","protected",1174],["T_WHITESPACE"," ",1174],["T_FUNCTION","function",1174],["T_WHITESPACE"," ",1174],["T_STRING","createBruteForceValidator",1174],"(",")",["T_WHITESPACE","\n    ",1174],"{",["T_WHITESPACE","\n        ",1175],["T_VARIABLE","$isRemote",1176],["T_WHITESPACE"," ",1176],"=",["T_WHITESPACE"," ",1176],"(",["T_STRING","strlen",1176],"(",["T_VARIABLE","$this",1176],["T_OBJECT_OPERATOR","->",1176],["T_STRING","config",1176],"(",")",["T_OBJECT_OPERATOR","->",1176],["T_STRING","remote_config",1176],")",["T_WHITESPACE"," ",1176],">",["T_WHITESPACE"," ",1176],["T_LNUMBER","0",1176],")",";",["T_WHITESPACE","\n        ",1176],["T_VARIABLE","$localFileName",1177],["T_WHITESPACE"," ",1177],"=",["T_WHITESPACE"," ",1177],"(",["T_VARIABLE","$isRemote",1177],")",["T_WHITESPACE"," ",1177],"?",["T_WHITESPACE"," ",1177],["T_CONSTANT_ENCAPSED_STRING","\"brute-force.tmp.ini\"",1177],["T_WHITESPACE"," ",1177],":",["T_WHITESPACE"," ",1177],["T_STRING","self",1177],["T_DOUBLE_COLON","::",1177],["T_STRING","BRUTE_FORCE_CONFIG_NAME",1177],";",["T_WHITESPACE","\n        ",1177],["T_VARIABLE","$localFile",1178],["T_WHITESPACE"," ",1178],"=",["T_WHITESPACE"," ",1178],["T_VARIABLE","$this",1178],["T_OBJECT_OPERATOR","->",1178],["T_STRING","getBruteForceLocalFile",1178],"(",["T_VARIABLE","$localFileName",1178],")",";",["T_WHITESPACE","\n\n        ",1178],["T_IF","if",1180],["T_WHITESPACE"," ",1180],"(","!",["T_STRING","is_file",1180],"(",["T_VARIABLE","$localFile",1180],")",")",["T_WHITESPACE"," ",1180],"{",["T_WHITESPACE","\n            ",1180],["T_VARIABLE","$this",1181],["T_OBJECT_OPERATOR","->",1181],["T_STRING","createBruteForceTemporaryFile",1181],"(",["T_VARIABLE","$localFile",1181],",",["T_WHITESPACE"," ",1181],["T_VARIABLE","$this",1181],["T_OBJECT_OPERATOR","->",1181],["T_STRING","getBruteForceLocalDirectory",1181],"(",")",")",";",["T_WHITESPACE","\n        ",1181],"}",["T_WHITESPACE","\n        ",1182],["T_IF","if",1183],["T_WHITESPACE"," ",1183],"(","!",["T_STRING","is_writable",1183],"(",["T_VARIABLE","$localFile",1183],")",")",["T_WHITESPACE"," ",1183],"{",["T_WHITESPACE","\n            ",1183],["T_THROW","throw",1184],["T_WHITESPACE"," ",1184],["T_NEW","new",1184],["T_WHITESPACE"," ",1184],["T_STRING","Exception",1184],"(",["T_CONSTANT_ENCAPSED_STRING","\"Unable to write to the configuration file.\"",1184],")",";",["T_WHITESPACE","\n        ",1184],"}",["T_WHITESPACE","\n        ",1185],["T_IF","if",1186],["T_WHITESPACE"," ",1186],"(",["T_VARIABLE","$isRemote",1186],")",["T_WHITESPACE"," ",1186],"{",["T_WHITESPACE","\n            ",1186],["T_VARIABLE","$resource",1187],["T_WHITESPACE"," ",1187],"=",["T_WHITESPACE"," ",1187],["T_NEW","new",1187],["T_WHITESPACE"," ",1187],["T_STRING","Maged_Model_BruteForce_Resource_FTP",1187],"(",["T_VARIABLE","$this",1187],["T_OBJECT_OPERATOR","->",1187],["T_STRING","config",1187],"(",")",["T_OBJECT_OPERATOR","->",1187],["T_STRING","remote_config",1187],",",["T_WHITESPACE"," ",1187],["T_VARIABLE","$localFile",1187],",",["T_WHITESPACE"," ",1187],["T_STRING","self",1187],["T_DOUBLE_COLON","::",1187],["T_STRING","DOWNLOADER_DIRECTORY",1187],["T_WHITESPACE"," ",1187],".",["T_WHITESPACE"," ",1187],["T_STRING","DIRECTORY_SEPARATOR",1187],["T_WHITESPACE"," ",1187],".",["T_WHITESPACE"," ",1187],["T_STRING","self",1187],["T_DOUBLE_COLON","::",1187],["T_STRING","BRUTE_FORCE_CONFIG_NAME",1187],")",";",["T_WHITESPACE","\n        ",1187],"}",["T_WHITESPACE"," ",1188],["T_ELSE","else",1188],["T_WHITESPACE"," ",1188],"{",["T_WHITESPACE","\n            ",1188],["T_VARIABLE","$resource",1189],["T_WHITESPACE"," ",1189],"=",["T_WHITESPACE"," ",1189],["T_NEW","new",1189],["T_WHITESPACE"," ",1189],["T_STRING","Maged_Model_BruteForce_Resource_File",1189],"(",["T_VARIABLE","$localFile",1189],",",["T_WHITESPACE"," ",1189],["T_STRING","self",1189],["T_DOUBLE_COLON","::",1189],["T_STRING","DOWNLOADER_DIRECTORY",1189],["T_WHITESPACE"," ",1189],".",["T_WHITESPACE"," ",1189],["T_STRING","DIRECTORY_SEPARATOR",1189],["T_WHITESPACE"," ",1189],".",["T_WHITESPACE"," ",1189],["T_STRING","self",1189],["T_DOUBLE_COLON","::",1189],["T_STRING","BRUTE_FORCE_CONFIG_NAME",1189],")",";",["T_WHITESPACE","\n        ",1189],"}",["T_WHITESPACE","\n        ",1190],["T_RETURN","return",1191],["T_WHITESPACE"," ",1191],["T_NEW","new",1191],["T_WHITESPACE"," ",1191],["T_STRING","Maged_BruteForce_Validator",1191],"(",["T_NEW","new",1191],["T_WHITESPACE"," ",1191],["T_STRING","Maged_Model_BruteForce_ConfigIni",1191],"(",["T_VARIABLE","$resource",1191],")",")",";",["T_WHITESPACE","\n    ",1191],"}",["T_WHITESPACE","\n\n    ",1192],["T_DOC_COMMENT","\/**\n     * @param string $fileName\n     * @return false |string\n     *\/",1194],["T_WHITESPACE","\n    ",1197],["T_PROTECTED","protected",1198],["T_WHITESPACE"," ",1198],["T_FUNCTION","function",1198],["T_WHITESPACE"," ",1198],["T_STRING","getBruteForceLocalFile",1198],"(",["T_VARIABLE","$fileName",1198],")",["T_WHITESPACE","\n    ",1198],"{",["T_WHITESPACE","\n        ",1199],["T_VARIABLE","$varFolder",1200],["T_WHITESPACE"," ",1200],"=",["T_WHITESPACE"," ",1200],["T_VARIABLE","$this",1200],["T_OBJECT_OPERATOR","->",1200],["T_STRING","getBruteForceLocalDirectory",1200],"(",")",";",["T_WHITESPACE","\n        ",1200],["T_RETURN","return",1201],["T_WHITESPACE"," ",1201],["T_STRING","rtrim",1201],"(",["T_VARIABLE","$varFolder",1201],["T_WHITESPACE"," ",1201],".",["T_WHITESPACE"," ",1201],["T_STRING","DIRECTORY_SEPARATOR",1201],["T_WHITESPACE"," ",1201],".",["T_WHITESPACE"," ",1201],["T_STRING","str_replace",1201],"(",["T_CONSTANT_ENCAPSED_STRING","'\/'",1201],",",["T_WHITESPACE"," ",1201],["T_STRING","DIRECTORY_SEPARATOR",1201],",",["T_WHITESPACE"," ",1201],["T_VARIABLE","$fileName",1201],")",",",["T_WHITESPACE"," ",1201],["T_STRING","DIRECTORY_SEPARATOR",1201],")",";",["T_WHITESPACE","\n    ",1201],"}",["T_WHITESPACE","\n\n    ",1202],["T_DOC_COMMENT","\/**\n     * @param string $localBruteForceConfigFile\n     * @param string $folder\n     * @throws Exception\n     *\/",1204],["T_WHITESPACE","\n    ",1208],["T_PROTECTED","protected",1209],["T_WHITESPACE"," ",1209],["T_FUNCTION","function",1209],["T_WHITESPACE"," ",1209],["T_STRING","createBruteForceTemporaryFile",1209],"(",["T_VARIABLE","$localBruteForceConfigFile",1209],",",["T_WHITESPACE"," ",1209],["T_VARIABLE","$folder",1209],")",["T_WHITESPACE","\n    ",1209],"{",["T_WHITESPACE","\n        ",1210],["T_VARIABLE","$error",1211],["T_WHITESPACE"," ",1211],"=",["T_WHITESPACE"," ",1211],["T_STRING","false",1211],";",["T_WHITESPACE","\n        ",1211],["T_IF","if",1212],["T_WHITESPACE"," ",1212],"(","!",["T_STRING","is_dir",1212],"(",["T_VARIABLE","$folder",1212],")",")",["T_WHITESPACE"," ",1212],"{",["T_WHITESPACE","\n            ",1212],["T_IF","if",1213],["T_WHITESPACE"," ",1213],"(",["T_STRING","false",1213],["T_WHITESPACE"," ",1213],["T_IS_IDENTICAL","===",1213],["T_WHITESPACE"," ",1213],["T_STRING","mkdir",1213],"(",["T_VARIABLE","$folder",1213],")",")",["T_WHITESPACE"," ",1213],"{",["T_WHITESPACE","\n                ",1213],["T_VARIABLE","$error",1214],["T_WHITESPACE"," ",1214],"=",["T_WHITESPACE"," ",1214],["T_STRING","true",1214],";",["T_WHITESPACE","\n            ",1214],"}",";",["T_WHITESPACE","\n        ",1215],"}",["T_WHITESPACE","\n        ",1216],["T_VARIABLE","$fp",1217],["T_WHITESPACE"," ",1217],"=",["T_WHITESPACE"," ",1217],["T_STRING","fopen",1217],"(",["T_VARIABLE","$localBruteForceConfigFile",1217],",",["T_WHITESPACE"," ",1217],["T_CONSTANT_ENCAPSED_STRING","\"w\"",1217],")",";",["T_WHITESPACE","\n        ",1217],["T_IF","if",1218],["T_WHITESPACE"," ",1218],"(",["T_VARIABLE","$fp",1218],["T_WHITESPACE"," ",1218],["T_IS_NOT_IDENTICAL","!==",1218],["T_WHITESPACE"," ",1218],["T_STRING","false",1218],")",["T_WHITESPACE"," ",1218],"{",["T_WHITESPACE","\n            ",1218],["T_STRING","fclose",1219],"(",["T_VARIABLE","$fp",1219],")",";",["T_WHITESPACE","\n        ",1219],"}",["T_WHITESPACE"," ",1220],["T_ELSE","else",1220],["T_WHITESPACE"," ",1220],"{",["T_WHITESPACE","\n            ",1220],["T_VARIABLE","$error",1221],["T_WHITESPACE"," ",1221],"=",["T_WHITESPACE"," ",1221],["T_STRING","true",1221],";",["T_WHITESPACE","\n        ",1221],"}",["T_WHITESPACE","\n\n        ",1222],["T_IF","if",1224],["T_WHITESPACE"," ",1224],"(",["T_VARIABLE","$error",1224],")",["T_WHITESPACE"," ",1224],"{",["T_WHITESPACE","\n            ",1224],["T_THROW","throw",1225],["T_WHITESPACE","  ",1225],["T_NEW","new",1225],["T_WHITESPACE"," ",1225],["T_STRING","Exception",1225],"(",["T_CONSTANT_ENCAPSED_STRING","\"Unable to create a temporary file. Please add write permission to the var\/ folder.\"",1225],")",";",["T_WHITESPACE","\n        ",1225],"}",["T_WHITESPACE","\n    ",1226],"}",["T_WHITESPACE","\n\n    ",1227],["T_DOC_COMMENT","\/**\n     * @return string\n     *\/",1229],["T_WHITESPACE","\n    ",1231],["T_PROTECTED","protected",1232],["T_WHITESPACE"," ",1232],["T_FUNCTION","function",1232],["T_WHITESPACE"," ",1232],["T_STRING","getBruteForceLocalDirectory",1232],"(",")",["T_WHITESPACE","\n    ",1232],"{",["T_WHITESPACE","\n        ",1233],["T_RETURN","return",1234],["T_WHITESPACE"," ",1234],["T_VARIABLE","$this",1234],["T_OBJECT_OPERATOR","->",1234],["T_STRING","getMageDir",1234],"(",")",["T_WHITESPACE"," ",1234],".",["T_WHITESPACE"," ",1234],["T_STRING","DIRECTORY_SEPARATOR",1234],["T_WHITESPACE"," ",1234],".",["T_WHITESPACE"," ",1234],["T_CONSTANT_ENCAPSED_STRING","\"var\"",1234],["T_WHITESPACE"," ",1234],".",["T_WHITESPACE"," ",1234],["T_STRING","DIRECTORY_SEPARATOR",1234],";",["T_WHITESPACE","\n    ",1234],"}",["T_WHITESPACE","\n",1235],"}",["T_WHITESPACE","\n",1236]]