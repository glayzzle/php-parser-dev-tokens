[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Magento\n *\n * NOTICE OF LICENSE\n *\n * This source file is subject to the Open Software License (OSL 3.0)\n * that is bundled with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/opensource.org\/licenses\/osl-3.0.php\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@magento.com so we can send you a copy immediately.\n *\n * DISCLAIMER\n *\n * Do not edit or add to this file if you wish to upgrade Magento to newer\n * versions in the future. If you wish to customize Magento for your\n * needs please refer to http:\/\/www.magento.com for more information.\n *\n * @category    Mage\n * @package     Mage_Connect\n * @copyright  Copyright (c) 2006-2016 X.commerce, Inc. and affiliates (http:\/\/www.magento.com)\n * @license    http:\/\/opensource.org\/licenses\/osl-3.0.php  Open Software License (OSL 3.0)\n *\/",2],["T_WHITESPACE","\n\n",25],["T_DOC_COMMENT","\/**\n * Class for convertiong old magento PEAR packages to new one\n *\n * @category    Mage\n * @package     Mage_Connect\n * @author      Magento Core Team <core@magentocommerce.com>\n *\/",27],["T_WHITESPACE","\n\n",33],["T_FINAL","final",35],["T_WHITESPACE"," ",35],["T_CLASS","class",35],["T_WHITESPACE"," ",35],["T_STRING","Mage_Connect_Converter",35],["T_WHITESPACE","\n",35],"{",["T_WHITESPACE","\n    ",36],["T_PROTECTED","protected",37],["T_WHITESPACE"," ",37],["T_VARIABLE","$_archiver",37],";",["T_WHITESPACE","\n\n    ",37],["T_DOC_COMMENT","\/**\n     *\n     * @return Mage_Archive\n     *\/",39],["T_WHITESPACE","\n    ",42],["T_PUBLIC","public",43],["T_WHITESPACE"," ",43],["T_FUNCTION","function",43],["T_WHITESPACE"," ",43],["T_STRING","arc",43],"(",")",["T_WHITESPACE","\n    ",43],"{",["T_WHITESPACE","\n        ",44],["T_IF","if",45],"(","!",["T_VARIABLE","$this",45],["T_OBJECT_OPERATOR","->",45],["T_STRING","_archiver",45],")",["T_WHITESPACE"," ",45],"{",["T_WHITESPACE","\n            ",45],["T_VARIABLE","$this",46],["T_OBJECT_OPERATOR","->",46],["T_STRING","_archiver",46],["T_WHITESPACE"," ",46],"=",["T_WHITESPACE"," ",46],["T_NEW","new",46],["T_WHITESPACE"," ",46],["T_STRING","Mage_Archive",46],"(",")",";",["T_WHITESPACE","\n        ",46],"}",["T_WHITESPACE","\n        ",47],["T_RETURN","return",48],["T_WHITESPACE"," ",48],["T_VARIABLE","$this",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","_archiver",48],";",["T_WHITESPACE","\n    ",48],"}",["T_WHITESPACE","\n\n    ",49],["T_PUBLIC","public",51],["T_WHITESPACE"," ",51],["T_FUNCTION","function",51],["T_WHITESPACE"," ",51],["T_STRING","newPackage",51],"(",")",["T_WHITESPACE","\n    ",51],"{",["T_WHITESPACE","\n        ",52],["T_RETURN","return",53],["T_WHITESPACE"," ",53],["T_NEW","new",53],["T_WHITESPACE"," ",53],["T_STRING","Mage_Connect_Package",53],"(",")",";",["T_WHITESPACE","\n    ",53],"}",["T_WHITESPACE","\n\n    ",54],["T_DOC_COMMENT","\/**\n     *\n     * @return Pear_Package_Parser_v2\n     *\/",56],["T_WHITESPACE","\n    ",59],["T_PUBLIC","public",60],["T_WHITESPACE"," ",60],["T_FUNCTION","function",60],["T_WHITESPACE"," ",60],["T_STRING","oldPackageReader",60],"(",")",["T_WHITESPACE","\n    ",60],"{",["T_WHITESPACE","\n        ",61],["T_RETURN","return",62],["T_WHITESPACE"," ",62],["T_NEW","new",62],["T_WHITESPACE"," ",62],["T_STRING","Pear_Package_Parser_v2",62],"(",")",";",["T_WHITESPACE","\n    ",62],"}",["T_WHITESPACE","\n\n\n    ",63],["T_PUBLIC","public",66],["T_WHITESPACE"," ",66],["T_FUNCTION","function",66],["T_WHITESPACE"," ",66],["T_STRING","__construct",66],"(",")",["T_WHITESPACE","\n    ",66],"{",["T_WHITESPACE","\n\n    ",67],"}",["T_WHITESPACE","\n\n\n    ",69],["T_PUBLIC","public",72],["T_WHITESPACE"," ",72],["T_FUNCTION","function",72],["T_WHITESPACE"," ",72],["T_STRING","convertChannelName",72],"(",["T_VARIABLE","$channel",72],")",["T_WHITESPACE","\n    ",72],"{",["T_WHITESPACE","\n        ",73],["T_RETURN","return",74],["T_WHITESPACE"," ",74],["T_STRING","str_replace",74],"(",["T_CONSTANT_ENCAPSED_STRING","\"connect.magentocommerce.com\/\"",74],",",["T_WHITESPACE"," ",74],["T_CONSTANT_ENCAPSED_STRING","\"\"",74],",",["T_WHITESPACE"," ",74],["T_VARIABLE","$channel",74],")",";",["T_WHITESPACE","\n    ",74],"}",["T_WHITESPACE","\n\n    ",75],["T_DOC_COMMENT","\/**\n     * Convert package dependencies - urls - by ref\n     * @param array $deps  ref to array\n     * @return void\n     *\/",77],["T_WHITESPACE","\n    ",81],["T_PUBLIC","public",82],["T_WHITESPACE"," ",82],["T_FUNCTION","function",82],["T_WHITESPACE"," ",82],["T_STRING","convertPackageDependencies",82],"(",["T_VARIABLE","$oldDeps",82],")",["T_WHITESPACE","\n    ",82],"{",["T_WHITESPACE","\n        ",83],["T_VARIABLE","$out",84],["T_WHITESPACE"," ",84],"=",["T_WHITESPACE"," ",84],["T_ARRAY","array",84],"(",")",";",["T_WHITESPACE","\n        ",84],["T_IF","if",85],"(",["T_EMPTY","empty",85],"(",["T_VARIABLE","$oldDeps",85],"[",["T_CONSTANT_ENCAPSED_STRING","'required'",85],"]","[",["T_CONSTANT_ENCAPSED_STRING","'package'",85],"]",")",")",["T_WHITESPACE"," ",85],"{",["T_WHITESPACE","\n            ",85],["T_RETURN","return",86],["T_WHITESPACE"," ",86],["T_VARIABLE","$out",86],";",["T_WHITESPACE","\n        ",86],"}",["T_WHITESPACE","\n        ",87],["T_VARIABLE","$deps",88],["T_WHITESPACE"," ",88],"=",["T_WHITESPACE"," ",88],["T_VARIABLE","$oldDeps",88],"[",["T_CONSTANT_ENCAPSED_STRING","'required'",88],"]","[",["T_CONSTANT_ENCAPSED_STRING","'package'",88],"]",";",["T_WHITESPACE","\n        ",88],["T_IF","if",89],"(","!",["T_ISSET","isset",89],"(",["T_VARIABLE","$deps",89],"[",["T_LNUMBER","0",89],"]",")",")",["T_WHITESPACE"," ",89],"{",["T_WHITESPACE","\n            ",89],["T_VARIABLE","$deps",90],["T_WHITESPACE"," ",90],"=",["T_WHITESPACE"," ",90],["T_ARRAY","array",90],"(",["T_VARIABLE","$deps",90],")",";",["T_WHITESPACE","\n        ",90],"}",["T_WHITESPACE","\n        ",91],["T_FOR","for",92],"(",["T_VARIABLE","$i",92],"=",["T_LNUMBER","0",92],",",["T_WHITESPACE"," ",92],["T_VARIABLE","$c",92],"=",["T_STRING","count",92],"(",["T_VARIABLE","$deps",92],")",";",["T_WHITESPACE"," ",92],["T_VARIABLE","$i",92],"<",["T_VARIABLE","$c",92],";",["T_WHITESPACE"," ",92],["T_VARIABLE","$i",92],["T_INC","++",92],")",["T_WHITESPACE"," ",92],"{",["T_WHITESPACE","\n            ",92],["T_VARIABLE","$deps",93],"[",["T_VARIABLE","$i",93],"]","[",["T_CONSTANT_ENCAPSED_STRING","'min_version'",93],"]",["T_WHITESPACE"," ",93],"=",["T_WHITESPACE"," ",93],["T_ISSET","isset",93],"(",["T_VARIABLE","$deps",93],"[",["T_VARIABLE","$i",93],"]","[",["T_CONSTANT_ENCAPSED_STRING","'min'",93],"]",")",["T_WHITESPACE"," ",93],"?",["T_WHITESPACE"," ",93],["T_VARIABLE","$deps",93],"[",["T_VARIABLE","$i",93],"]","[",["T_CONSTANT_ENCAPSED_STRING","'min'",93],"]",["T_WHITESPACE"," ",93],":",["T_WHITESPACE"," ",93],["T_STRING","false",93],";",["T_WHITESPACE","\n            ",93],["T_VARIABLE","$deps",94],"[",["T_VARIABLE","$i",94],"]","[",["T_CONSTANT_ENCAPSED_STRING","'max_version'",94],"]",["T_WHITESPACE"," ",94],"=",["T_WHITESPACE"," ",94],["T_ISSET","isset",94],"(",["T_VARIABLE","$deps",94],"[",["T_VARIABLE","$i",94],"]","[",["T_CONSTANT_ENCAPSED_STRING","'max'",94],"]",")",["T_WHITESPACE"," ",94],"?",["T_WHITESPACE"," ",94],["T_VARIABLE","$deps",94],"[",["T_VARIABLE","$i",94],"]","[",["T_CONSTANT_ENCAPSED_STRING","'max'",94],"]",["T_WHITESPACE"," ",94],":",["T_WHITESPACE"," ",94],["T_STRING","false",94],";",["T_WHITESPACE","\n            ",94],["T_VARIABLE","$deps",95],"[",["T_VARIABLE","$i",95],"]","[",["T_CONSTANT_ENCAPSED_STRING","'channel'",95],"]",["T_WHITESPACE"," ",95],"=",["T_WHITESPACE"," ",95],["T_VARIABLE","$this",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","convertChannelName",95],"(",["T_VARIABLE","$deps",95],"[",["T_VARIABLE","$i",95],"]","[",["T_CONSTANT_ENCAPSED_STRING","'channel'",95],"]",")",";",["T_WHITESPACE","\n            ",95],["T_VARIABLE","$out",96],"[","]",["T_WHITESPACE"," ",96],"=",["T_WHITESPACE"," ",96],["T_VARIABLE","$deps",96],"[",["T_VARIABLE","$i",96],"]",";",["T_WHITESPACE","\n        ",96],"}",["T_WHITESPACE","\n         \n        ",97],["T_RETURN","return",99],["T_WHITESPACE"," ",99],["T_VARIABLE","$out",99],";",["T_WHITESPACE","\n    ",99],"}",["T_WHITESPACE","\n\n    ",100],["T_PUBLIC","public",102],["T_WHITESPACE"," ",102],["T_FUNCTION","function",102],["T_WHITESPACE"," ",102],["T_STRING","convertLicense",102],"(",["T_VARIABLE","$oldLicense",102],")",["T_WHITESPACE","\n    ",102],"{",["T_WHITESPACE","\n        ",103],["T_IF","if",104],"(",["T_STRING","is_scalar",104],"(",["T_VARIABLE","$oldLicense",104],")",")",["T_WHITESPACE"," ",104],"{",["T_WHITESPACE","\n            ",104],["T_RETURN","return",105],["T_WHITESPACE"," ",105],["T_VARIABLE","$oldLicense",105],";",["T_WHITESPACE","\n        ",105],"}",["T_WHITESPACE","\n        ",106],["T_RETURN","return",107],["T_WHITESPACE"," ",107],["T_ARRAY","array",107],"(",["T_VARIABLE","$oldLicense",107],"[",["T_CONSTANT_ENCAPSED_STRING","'_content'",107],"]",",",["T_WHITESPACE"," ",107],["T_VARIABLE","$oldLicense",107],"[",["T_CONSTANT_ENCAPSED_STRING","'attribs'",107],"]","[",["T_CONSTANT_ENCAPSED_STRING","'uri'",107],"]",")",";",["T_WHITESPACE","\n    ",107],"}",["T_WHITESPACE","\n\n    ",108],["T_PUBLIC","public",110],["T_WHITESPACE"," ",110],["T_FUNCTION","function",110],["T_WHITESPACE"," ",110],["T_STRING","convertMaintainers",110],"(",["T_VARIABLE","$maintainers",110],")",["T_WHITESPACE","\n    ",110],"{",["T_WHITESPACE","\n        ",111],["T_IF","if",112],"(","!",["T_STRING","is_array",112],"(",["T_VARIABLE","$maintainers",112],")",["T_WHITESPACE"," ",112],["T_BOOLEAN_OR","||",112],["T_WHITESPACE"," ",112],"!",["T_STRING","count",112],"(",["T_VARIABLE","$maintainers",112],")",")",["T_WHITESPACE"," ",112],"{",["T_WHITESPACE","\n            ",112],["T_RETURN","return",113],["T_WHITESPACE"," ",113],["T_ARRAY","array",113],"(",")",";",["T_WHITESPACE","\n        ",113],"}",["T_WHITESPACE","\n        ",114],["T_VARIABLE","$out",115],["T_WHITESPACE"," ",115],"=",["T_WHITESPACE"," ",115],["T_ARRAY","array",115],"(",")",";",["T_WHITESPACE","\n        ",115],["T_FOREACH","foreach",116],"(",["T_VARIABLE","$maintainers",116],["T_WHITESPACE"," ",116],["T_AS","as",116],["T_WHITESPACE"," ",116],["T_VARIABLE","$row",116],")",["T_WHITESPACE"," ",116],"{",["T_WHITESPACE","\n            ",116],["T_VARIABLE","$out",117],"[","]",["T_WHITESPACE"," ",117],"=",["T_WHITESPACE"," ",117],["T_ARRAY","array",117],"(",["T_CONSTANT_ENCAPSED_STRING","'name'",117],["T_DOUBLE_ARROW","=>",117],["T_VARIABLE","$row",117],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",117],"]",",",["T_WHITESPACE"," ",117],["T_CONSTANT_ENCAPSED_STRING","'email'",117],["T_DOUBLE_ARROW","=>",117],["T_VARIABLE","$row",117],"[",["T_CONSTANT_ENCAPSED_STRING","'email'",117],"]",",",["T_WHITESPACE"," ",117],["T_CONSTANT_ENCAPSED_STRING","'user'",117],["T_DOUBLE_ARROW","=>",117],["T_CONSTANT_ENCAPSED_STRING","'auto-converted'",117],")",";",["T_WHITESPACE","\n        ",117],"}",["T_WHITESPACE","\n        ",118],["T_RETURN","return",119],["T_WHITESPACE"," ",119],["T_VARIABLE","$out",119],";",["T_WHITESPACE","\n    ",119],"}",["T_WHITESPACE","\n\n    ",120],["T_PROTECTED","protected",122],["T_WHITESPACE"," ",122],["T_VARIABLE","$fileMap",122],["T_WHITESPACE"," ",122],"=",["T_WHITESPACE"," ",122],["T_ARRAY","array",122],"(",")",";",["T_WHITESPACE","\n\n    \n    ",122],["T_DOC_COMMENT","\/**\n     * Conver pear package object to magento object\n     * @param Pear_Package_V2 $pearObject\n     * @return Mage_Connect_Package\n     *\/",125],["T_WHITESPACE","\n\n    ",129],["T_PUBLIC","public",131],["T_WHITESPACE"," ",131],["T_FUNCTION","function",131],["T_WHITESPACE"," ",131],["T_STRING","convertPackageObject",131],"(",["T_VARIABLE","$pearObject",131],")",["T_WHITESPACE","\n    ",131],"{",["T_WHITESPACE","\n        ",132],["T_VARIABLE","$data",133],["T_WHITESPACE"," ",133],"=",["T_WHITESPACE"," ",133],["T_ARRAY","array",133],"(",")",";",["T_WHITESPACE","\n        ",133],["T_VARIABLE","$mageObject",134],["T_WHITESPACE"," ",134],"=",["T_WHITESPACE"," ",134],["T_VARIABLE","$this",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","newPackage",134],"(",")",";",["T_WHITESPACE","\n\n\n\n        ",134],["T_VARIABLE","$map",138],["T_WHITESPACE"," ",138],"=",["T_WHITESPACE"," ",138],["T_ARRAY","array",138],["T_WHITESPACE"," ",138],"(",["T_WHITESPACE","\n            ",138],["T_CONSTANT_ENCAPSED_STRING","'name'",139],["T_WHITESPACE","         ",139],["T_DOUBLE_ARROW","=>",139],["T_WHITESPACE"," ",139],["T_STRING","null",139],",",["T_WHITESPACE","\n            ",139],["T_CONSTANT_ENCAPSED_STRING","'version'",140],["T_WHITESPACE","      ",140],["T_DOUBLE_ARROW","=>",140],["T_WHITESPACE"," ",140],["T_ARRAY","array",140],"(",["T_CONSTANT_ENCAPSED_STRING","'getterArgs'",140],["T_WHITESPACE"," ",140],["T_DOUBLE_ARROW","=>",140],["T_WHITESPACE"," ",140],["T_ARRAY","array",140],"(",["T_CONSTANT_ENCAPSED_STRING","'release'",140],")",["T_WHITESPACE","\n        ",140],")",",",["T_WHITESPACE","\n            ",141],["T_CONSTANT_ENCAPSED_STRING","'package_deps'",142],["T_WHITESPACE"," ",142],["T_DOUBLE_ARROW","=>",142],["T_WHITESPACE"," ",142],["T_ARRAY","array",142],"(",["T_WHITESPACE"," ",142],["T_CONSTANT_ENCAPSED_STRING","'getter'",142],["T_DOUBLE_ARROW","=>",142],["T_CONSTANT_ENCAPSED_STRING","'getDependencies'",142],",",["T_WHITESPACE"," \n                                     ",142],["T_CONSTANT_ENCAPSED_STRING","'converter'",143],["T_DOUBLE_ARROW","=>",143],["T_CONSTANT_ENCAPSED_STRING","'convertPackageDependencies'",143],",",["T_WHITESPACE"," \n                                     ",143],["T_CONSTANT_ENCAPSED_STRING","'setter'",144],["T_DOUBLE_ARROW","=>",144],["T_CONSTANT_ENCAPSED_STRING","'setDependencyPackages'",144],",",["T_WHITESPACE","\n        ",144],")",",",["T_WHITESPACE","\n            ",145],["T_CONSTANT_ENCAPSED_STRING","'stability'",146],["T_WHITESPACE","    ",146],["T_DOUBLE_ARROW","=>",146],["T_WHITESPACE"," ",146],["T_ARRAY","array",146],"(",["T_WHITESPACE"," ",146],["T_CONSTANT_ENCAPSED_STRING","'getter'",146],["T_DOUBLE_ARROW","=>",146],["T_CONSTANT_ENCAPSED_STRING","'getState'",146],",",["T_WHITESPACE","\n                                     ",146],["T_CONSTANT_ENCAPSED_STRING","'getterArgs'",147],["T_WHITESPACE"," ",147],["T_DOUBLE_ARROW","=>",147],["T_WHITESPACE"," ",147],["T_ARRAY","array",147],"(",["T_CONSTANT_ENCAPSED_STRING","'release'",147],")",",",["T_WHITESPACE"," \n        ",147],")",",",["T_WHITESPACE","\n            ",148],["T_CONSTANT_ENCAPSED_STRING","'license'",149],["T_WHITESPACE","      ",149],["T_DOUBLE_ARROW","=>",149],["T_WHITESPACE"," ",149],["T_ARRAY","array",149],"(",["T_WHITESPACE"," ",149],["T_CONSTANT_ENCAPSED_STRING","'getterArgs'",149],["T_WHITESPACE"," ",149],["T_DOUBLE_ARROW","=>",149],["T_WHITESPACE"," ",149],["T_ARRAY","array",149],"(",["T_STRING","true",149],")",",",["T_WHITESPACE","\n                                     ",149],["T_CONSTANT_ENCAPSED_STRING","'converter'",150],["T_WHITESPACE"," ",150],["T_DOUBLE_ARROW","=>",150],["T_WHITESPACE"," ",150],["T_CONSTANT_ENCAPSED_STRING","'convertLicense'",150],",",["T_WHITESPACE","\n                                     ",150],["T_CONSTANT_ENCAPSED_STRING","'noArrayWrap'",151],["T_WHITESPACE"," ",151],["T_DOUBLE_ARROW","=>",151],["T_WHITESPACE"," ",151],["T_STRING","true",151],",",["T_WHITESPACE","                                    \n        ",151],")",",",["T_WHITESPACE","\n            ",152],["T_CONSTANT_ENCAPSED_STRING","'summary'",153],["T_WHITESPACE","      ",153],["T_DOUBLE_ARROW","=>",153],["T_WHITESPACE"," ",153],["T_STRING","null",153],",",["T_WHITESPACE","\n            ",153],["T_CONSTANT_ENCAPSED_STRING","'description'",154],["T_WHITESPACE","  ",154],["T_DOUBLE_ARROW","=>",154],["T_WHITESPACE"," ",154],["T_STRING","null",154],",",["T_WHITESPACE","                              \n            ",154],["T_CONSTANT_ENCAPSED_STRING","'notes'",155],["T_WHITESPACE","        ",155],["T_DOUBLE_ARROW","=>",155],["T_WHITESPACE"," ",155],["T_STRING","null",155],",",["T_WHITESPACE","                              \n            ",155],["T_CONSTANT_ENCAPSED_STRING","'date'",156],["T_WHITESPACE","         ",156],["T_DOUBLE_ARROW","=>",156],["T_WHITESPACE"," ",156],["T_STRING","null",156],",",["T_WHITESPACE","                              \n            ",156],["T_CONSTANT_ENCAPSED_STRING","'time'",157],["T_WHITESPACE","         ",157],["T_DOUBLE_ARROW","=>",157],["T_WHITESPACE"," ",157],["T_STRING","null",157],",",["T_WHITESPACE","         \n            ",157],["T_CONSTANT_ENCAPSED_STRING","'authors'",158],["T_WHITESPACE","      ",158],["T_DOUBLE_ARROW","=>",158],["T_WHITESPACE"," ",158],["T_ARRAY","array",158],"(",["T_WHITESPACE"," ",158],["T_CONSTANT_ENCAPSED_STRING","'converter'",158],["T_WHITESPACE"," ",158],["T_DOUBLE_ARROW","=>",158],["T_WHITESPACE"," ",158],["T_CONSTANT_ENCAPSED_STRING","'convertMaintainers'",158],",",["T_WHITESPACE","\n                                     ",158],["T_CONSTANT_ENCAPSED_STRING","'getter'",159],["T_WHITESPACE"," ",159],["T_DOUBLE_ARROW","=>",159],["T_WHITESPACE"," ",159],["T_CONSTANT_ENCAPSED_STRING","'getMaintainers'",159],",",["T_WHITESPACE","\n        ",159],")",",",["T_WHITESPACE","\n            ",160],["T_CONSTANT_ENCAPSED_STRING","'channel'",161],["T_WHITESPACE","      ",161],["T_DOUBLE_ARROW","=>",161],["T_WHITESPACE"," ",161],["T_ARRAY","array",161],"(",["T_WHITESPACE"," ",161],["T_CONSTANT_ENCAPSED_STRING","'converter'",161],["T_WHITESPACE"," ",161],["T_DOUBLE_ARROW","=>",161],["T_WHITESPACE"," ",161],["T_CONSTANT_ENCAPSED_STRING","'convertChannelName'",161],",",["T_WHITESPACE","\n\n        ",161],")",",",["T_WHITESPACE","\n\n        ",163],")",";",["T_WHITESPACE","\n        ",165],["T_FOREACH","foreach",166],"(",["T_VARIABLE","$map",166],["T_WHITESPACE"," ",166],["T_AS","as",166],["T_WHITESPACE"," ",166],["T_VARIABLE","$field",166],["T_DOUBLE_ARROW","=>",166],["T_VARIABLE","$rules",166],")",["T_WHITESPACE"," ",166],"{",["T_WHITESPACE","\n\n            ",166],["T_IF","if",168],"(",["T_EMPTY","empty",168],"(",["T_VARIABLE","$rules",168],")",")",["T_WHITESPACE"," ",168],"{",["T_WHITESPACE","\n                ",168],["T_VARIABLE","$rules",169],["T_WHITESPACE"," ",169],"=",["T_WHITESPACE"," ",169],["T_ARRAY","array",169],"(",["T_CONSTANT_ENCAPSED_STRING","'setter'",169],["T_DOUBLE_ARROW","=>",169],["T_WHITESPACE"," ",169],["T_CONSTANT_ENCAPSED_STRING","''",169],",",["T_WHITESPACE"," ",169],["T_CONSTANT_ENCAPSED_STRING","'getter'",169],["T_DOUBLE_ARROW","=>",169],["T_WHITESPACE"," ",169],["T_CONSTANT_ENCAPSED_STRING","''",169],")",";",["T_WHITESPACE","\n            ",169],"}",["T_WHITESPACE","\n\n            ",170],["T_IF","if",172],"(",["T_EMPTY","empty",172],"(",["T_VARIABLE","$rules",172],"[",["T_CONSTANT_ENCAPSED_STRING","'getter'",172],"]",")",")",["T_WHITESPACE"," ",172],"{",["T_WHITESPACE","\n                ",172],["T_VARIABLE","$rules",173],"[",["T_CONSTANT_ENCAPSED_STRING","'getter'",173],"]",["T_WHITESPACE"," ",173],"=",["T_WHITESPACE"," ",173],["T_CONSTANT_ENCAPSED_STRING","'get'",173],".",["T_WHITESPACE"," ",173],["T_STRING","ucfirst",173],"(",["T_VARIABLE","$field",173],")",";",["T_WHITESPACE","\n            ",173],"}",["T_WHITESPACE","\n\n            ",174],["T_VARIABLE","$useSetter",176],["T_WHITESPACE"," ",176],"=",["T_WHITESPACE"," ",176],["T_EMPTY","empty",176],"(",["T_VARIABLE","$rules",176],"[",["T_CONSTANT_ENCAPSED_STRING","'noSetter'",176],"]",")",";",["T_WHITESPACE","\n            ",176],["T_VARIABLE","$useGetter",177],["T_WHITESPACE"," ",177],"=",["T_WHITESPACE"," ",177],["T_EMPTY","empty",177],"(",["T_VARIABLE","$rules",177],"[",["T_CONSTANT_ENCAPSED_STRING","'noGetter'",177],"]",")",";",["T_WHITESPACE","\n\n\n            ",177],["T_IF","if",180],"(",["T_EMPTY","empty",180],"(",["T_VARIABLE","$rules",180],"[",["T_CONSTANT_ENCAPSED_STRING","'setter'",180],"]",")",")",["T_WHITESPACE"," ",180],"{",["T_WHITESPACE","\n                ",180],["T_VARIABLE","$rules",181],"[",["T_CONSTANT_ENCAPSED_STRING","'setter'",181],"]",["T_WHITESPACE"," ",181],"=",["T_WHITESPACE"," ",181],["T_CONSTANT_ENCAPSED_STRING","'set'",181],".",["T_WHITESPACE"," ",181],["T_STRING","ucfirst",181],"(",["T_VARIABLE","$field",181],")",";",["T_WHITESPACE","\n            ",181],"}",["T_WHITESPACE","\n            ",182],["T_IF","if",183],"(",["T_EMPTY","empty",183],"(",["T_VARIABLE","$rules",183],"[",["T_CONSTANT_ENCAPSED_STRING","'getterArgs'",183],"]",")",")",["T_WHITESPACE"," ",183],"{",["T_WHITESPACE","\n                ",183],["T_VARIABLE","$rules",184],"[",["T_CONSTANT_ENCAPSED_STRING","'getterArgs'",184],"]",["T_WHITESPACE"," ",184],"=",["T_WHITESPACE"," ",184],["T_ARRAY","array",184],"(",")",";",["T_WHITESPACE","\n            ",184],"}",["T_WHITESPACE"," ",185],["T_ELSEIF","elseif",185],"(","!",["T_STRING","is_array",185],"(",["T_VARIABLE","$rules",185],"[",["T_CONSTANT_ENCAPSED_STRING","'getterArgs'",185],"]",")",")",["T_WHITESPACE"," ",185],"{",["T_WHITESPACE","\n                ",185],["T_THROW","throw",186],["T_WHITESPACE"," ",186],["T_NEW","new",186],["T_WHITESPACE"," ",186],["T_STRING","Exception",186],"(","\"",["T_ENCAPSED_AND_WHITESPACE","Invalid 'getterArgs' for '",186],["T_CURLY_OPEN","{",186],["T_VARIABLE","$field",186],"}",["T_ENCAPSED_AND_WHITESPACE","', should be array",186],"\"",")",";",["T_WHITESPACE","\n            ",186],"}",["T_WHITESPACE","\n\n            ",187],["T_IF","if",189],"(",["T_VARIABLE","$useGetter",189],["T_WHITESPACE"," ",189],["T_BOOLEAN_AND","&&",189],["T_WHITESPACE"," ",189],"!",["T_STRING","method_exists",189],"(",["T_VARIABLE","$pearObject",189],",",["T_WHITESPACE"," ",189],["T_VARIABLE","$rules",189],"[",["T_CONSTANT_ENCAPSED_STRING","'getter'",189],"]",")",")",["T_WHITESPACE"," ",189],"{",["T_WHITESPACE","\n                ",189],["T_VARIABLE","$mName",190],["T_WHITESPACE"," ",190],"=",["T_WHITESPACE"," ",190],["T_STRING","get_class",190],"(",["T_VARIABLE","$pearObject",190],")",".",["T_CONSTANT_ENCAPSED_STRING","\"::\"",190],".",["T_VARIABLE","$rules",190],"[",["T_CONSTANT_ENCAPSED_STRING","'getter'",190],"]",";",["T_WHITESPACE","\n                ",190],["T_THROW","throw",191],["T_WHITESPACE"," ",191],["T_NEW","new",191],["T_WHITESPACE"," ",191],["T_STRING","Exception",191],"(",["T_CONSTANT_ENCAPSED_STRING","'No getter method exists: '",191],".",["T_VARIABLE","$mName",191],")",";",["T_WHITESPACE","\n            ",191],"}",["T_WHITESPACE","\n\n            ",192],["T_IF","if",194],"(",["T_VARIABLE","$useSetter",194],["T_WHITESPACE"," ",194],["T_BOOLEAN_AND","&&",194],["T_WHITESPACE"," ",194],"!",["T_STRING","method_exists",194],"(",["T_VARIABLE","$mageObject",194],",",["T_WHITESPACE"," ",194],["T_VARIABLE","$rules",194],"[",["T_CONSTANT_ENCAPSED_STRING","'setter'",194],"]",")",")",["T_WHITESPACE"," ",194],"{",["T_WHITESPACE","\n                ",194],["T_VARIABLE","$mName",195],["T_WHITESPACE"," ",195],"=",["T_WHITESPACE"," ",195],["T_STRING","get_class",195],"(",["T_VARIABLE","$mageObject",195],")",".",["T_CONSTANT_ENCAPSED_STRING","\"::\"",195],".",["T_VARIABLE","$rules",195],"[",["T_CONSTANT_ENCAPSED_STRING","'setter'",195],"]",";",["T_WHITESPACE","\n                ",195],["T_THROW","throw",196],["T_WHITESPACE"," ",196],["T_NEW","new",196],["T_WHITESPACE"," ",196],["T_STRING","Exception",196],"(",["T_CONSTANT_ENCAPSED_STRING","'No setter method exists: '",196],".",["T_VARIABLE","$mName",196],")",";",["T_WHITESPACE","\n            ",196],"}",["T_WHITESPACE","\n\n            ",197],["T_VARIABLE","$useConverter",199],["T_WHITESPACE"," ",199],"=",["T_WHITESPACE"," ",199],"!",["T_EMPTY","empty",199],"(",["T_VARIABLE","$rules",199],"[",["T_CONSTANT_ENCAPSED_STRING","'converter'",199],"]",")",";",["T_WHITESPACE","\n\n            ",199],["T_IF","if",201],"(",["T_VARIABLE","$useConverter",201],["T_WHITESPACE"," ",201],["T_BOOLEAN_AND","&&",201],["T_WHITESPACE"," ",201],["T_STRING","false",201],["T_WHITESPACE"," ",201],["T_IS_IDENTICAL","===",201],["T_WHITESPACE"," ",201],["T_STRING","method_exists",201],"(",["T_VARIABLE","$this",201],",",["T_WHITESPACE"," ",201],["T_VARIABLE","$rules",201],"[",["T_CONSTANT_ENCAPSED_STRING","'converter'",201],"]",")",")",["T_WHITESPACE"," ",201],"{",["T_WHITESPACE","\n                ",201],["T_VARIABLE","$mName",202],["T_WHITESPACE"," ",202],"=",["T_WHITESPACE"," ",202],["T_STRING","get_class",202],"(",["T_VARIABLE","$this",202],")",".",["T_CONSTANT_ENCAPSED_STRING","\"::\"",202],".",["T_VARIABLE","$rules",202],"[",["T_CONSTANT_ENCAPSED_STRING","'converter'",202],"]",";",["T_WHITESPACE","\n                ",202],["T_THROW","throw",203],["T_WHITESPACE"," ",203],["T_NEW","new",203],["T_WHITESPACE"," ",203],["T_STRING","Exception",203],"(",["T_CONSTANT_ENCAPSED_STRING","'No converter method exists: '",203],".",["T_VARIABLE","$mName",203],")",";",["T_WHITESPACE","\n            ",203],"}",["T_WHITESPACE","\n\n            ",204],["T_IF","if",206],"(",["T_VARIABLE","$useGetter",206],")",["T_WHITESPACE"," ",206],"{",["T_WHITESPACE","\n                ",206],["T_VARIABLE","$getData",207],["T_WHITESPACE"," ",207],"=",["T_WHITESPACE"," ",207],["T_STRING","call_user_func_array",207],"(",["T_ARRAY","array",207],"(",["T_VARIABLE","$pearObject",207],",",["T_WHITESPACE"," ",207],["T_VARIABLE","$rules",207],"[",["T_CONSTANT_ENCAPSED_STRING","'getter'",207],"]",")",",",["T_WHITESPACE"," ",207],["T_VARIABLE","$rules",207],"[",["T_CONSTANT_ENCAPSED_STRING","'getterArgs'",207],"]",")",";",["T_WHITESPACE","\n            ",207],"}",["T_WHITESPACE"," ",208],["T_ELSE","else",208],["T_WHITESPACE"," ",208],"{",["T_WHITESPACE","\n                ",208],["T_VARIABLE","$getData",209],["T_WHITESPACE"," ",209],"=",["T_WHITESPACE"," ",209],["T_ARRAY","array",209],"(",")",";",["T_WHITESPACE","\n            ",209],"}",["T_WHITESPACE","\n\n            ",210],["T_IF","if",212],"(",["T_VARIABLE","$useConverter",212],")",["T_WHITESPACE"," ",212],"{",["T_WHITESPACE","\n                ",212],["T_VARIABLE","$args",213],["T_WHITESPACE"," ",213],"=",["T_WHITESPACE"," ",213],["T_ARRAY","array",213],"(",")",";",["T_WHITESPACE","\n                ",213],["T_IF","if",214],"(","!",["T_VARIABLE","$useGetter",214],["T_WHITESPACE"," ",214],["T_BOOLEAN_AND","&&",214],["T_WHITESPACE"," ",214],"!",["T_VARIABLE","$useSetter",214],")",["T_WHITESPACE"," ",214],"{",["T_WHITESPACE","\n                    ",214],["T_VARIABLE","$args",215],["T_WHITESPACE"," ",215],"=",["T_WHITESPACE"," ",215],["T_ARRAY","array",215],"(",["T_VARIABLE","$pearObject",215],",",["T_WHITESPACE"," ",215],["T_VARIABLE","$mageObject",215],")",";",["T_WHITESPACE","\n                ",215],"}",["T_WHITESPACE"," ",216],["T_ELSEIF","elseif",216],"(","!",["T_VARIABLE","$useSetter",216],")",["T_WHITESPACE"," ",216],"{",["T_WHITESPACE","\n                    ",216],["T_VARIABLE","$args",217],["T_WHITESPACE"," ",217],"=",["T_WHITESPACE"," ",217],["T_ARRAY","array",217],"(",["T_VARIABLE","$mageObject",217],",",["T_WHITESPACE"," ",217],["T_VARIABLE","$getData",217],")",";",["T_WHITESPACE","\n                ",217],"}",["T_WHITESPACE"," ",218],["T_ELSE","else",218],["T_WHITESPACE"," ",218],"{",["T_WHITESPACE","\n                    ",218],["T_VARIABLE","$args",219],["T_WHITESPACE"," ",219],"=",["T_WHITESPACE"," ",219],["T_ARRAY","array",219],"(",["T_VARIABLE","$getData",219],")",";",["T_WHITESPACE","\n                ",219],"}",["T_WHITESPACE","\n                ",220],["T_VARIABLE","$getData",221],["T_WHITESPACE"," ",221],"=",["T_WHITESPACE"," ",221],["T_STRING","call_user_func_array",221],"(",["T_ARRAY","array",221],"(",["T_VARIABLE","$this",221],",",["T_WHITESPACE"," ",221],["T_VARIABLE","$rules",221],"[",["T_CONSTANT_ENCAPSED_STRING","'converter'",221],"]",")",",",["T_WHITESPACE"," ",221],["T_VARIABLE","$args",221],")",";",["T_WHITESPACE","\n            ",221],"}",["T_WHITESPACE","\n\n            ",222],["T_VARIABLE","$noWrap",224],["T_WHITESPACE"," ",224],"=",["T_WHITESPACE"," ",224],"!",["T_EMPTY","empty",224],"(",["T_VARIABLE","$rules",224],"[",["T_CONSTANT_ENCAPSED_STRING","'noArrayWrap'",224],"]",")",";",["T_WHITESPACE","\n            ",224],["T_IF","if",225],"(",["T_VARIABLE","$useSetter",225],")",["T_WHITESPACE"," ",225],"{",["T_WHITESPACE","\n                ",225],["T_VARIABLE","$setData",226],["T_WHITESPACE"," ",226],"=",["T_WHITESPACE"," ",226],["T_STRING","call_user_func_array",226],"(",["T_ARRAY","array",226],"(",["T_VARIABLE","$mageObject",226],",",["T_WHITESPACE"," ",226],["T_VARIABLE","$rules",226],"[",["T_CONSTANT_ENCAPSED_STRING","'setter'",226],"]",")",",",["T_WHITESPACE"," ",226],["T_VARIABLE","$noWrap",226],["T_WHITESPACE"," ",226],"?",["T_WHITESPACE"," ",226],["T_VARIABLE","$getData",226],["T_WHITESPACE"," ",226],":",["T_WHITESPACE"," ",226],["T_ARRAY","array",226],"(",["T_VARIABLE","$getData",226],")",")",";",["T_WHITESPACE","\n            ",226],"}",["T_WHITESPACE","\n        ",227],"}",["T_WHITESPACE","\n        ",228],["T_RETURN","return",229],["T_WHITESPACE"," ",229],["T_VARIABLE","$mageObject",229],";",["T_WHITESPACE","\n    ",229],"}",["T_WHITESPACE","\n\n    ",230],["T_DOC_COMMENT","\/**\n     * Convert PEAR package to Magento package\n     * @param string $sourceFile  path to PEAR .tgz\n     * @param string|false $destFile    path to newly-created Magento .tgz, false to specify auto\n     * @return bool\n     *\/",232],["T_WHITESPACE","\n    ",237],["T_PUBLIC","public",238],["T_WHITESPACE"," ",238],["T_FUNCTION","function",238],["T_WHITESPACE"," ",238],["T_STRING","convertPearToMage",238],"(",["T_VARIABLE","$sourceFile",238],",",["T_WHITESPACE"," ",238],["T_VARIABLE","$destFile",238],["T_WHITESPACE"," ",238],"=",["T_WHITESPACE"," ",238],["T_STRING","false",238],")",["T_WHITESPACE","\n    ",238],"{",["T_WHITESPACE","\n        ",239],["T_TRY","try",240],["T_WHITESPACE"," ",240],"{",["T_WHITESPACE","\n            ",240],["T_IF","if",241],"(","!",["T_STRING","file_exists",241],"(",["T_VARIABLE","$sourceFile",241],")",")",["T_WHITESPACE"," ",241],"{",["T_WHITESPACE","\n                ",241],["T_THROW","throw",242],["T_WHITESPACE"," ",242],["T_NEW","new",242],["T_WHITESPACE"," ",242],["T_STRING","Exception",242],"(","\"",["T_ENCAPSED_AND_WHITESPACE","File doesn't exist: ",242],["T_CURLY_OPEN","{",242],["T_VARIABLE","$sourceFile",242],"}","\"",")",";",["T_WHITESPACE","\n            ",242],"}",["T_WHITESPACE","\n            ",243],["T_VARIABLE","$arc",244],["T_WHITESPACE"," ",244],"=",["T_WHITESPACE"," ",244],["T_VARIABLE","$this",244],["T_OBJECT_OPERATOR","->",244],["T_STRING","arc",244],"(",")",";",["T_WHITESPACE","\n            ",244],["T_VARIABLE","$tempDir",245],["T_WHITESPACE"," ",245],"=",["T_WHITESPACE"," ",245],["T_CONSTANT_ENCAPSED_STRING","\"tmp-\"",245],".",["T_STRING","basename",245],"(",["T_VARIABLE","$sourceFile",245],")",".",["T_STRING","uniqid",245],"(",")",";",["T_WHITESPACE","\n            ",245],["T_VARIABLE","$outDir",246],["T_WHITESPACE"," ",246],"=",["T_WHITESPACE"," ",246],["T_CONSTANT_ENCAPSED_STRING","\"out-\"",246],".",["T_STRING","basename",246],"(",["T_VARIABLE","$sourceFile",246],")",".",["T_STRING","uniqid",246],"(",")",";",["T_WHITESPACE","\n            ",246],["T_VARIABLE","$outDir",247],["T_WHITESPACE"," ",247],"=",["T_WHITESPACE"," ",247],["T_STRING","rtrim",247],"(",["T_VARIABLE","$outDir",247],",",["T_WHITESPACE"," ",247],["T_CONSTANT_ENCAPSED_STRING","\"\\\\\/\"",247],")",";",["T_WHITESPACE","\n            ",247],["T_STRING","Mage_System_Dirs",248],["T_DOUBLE_COLON","::",248],["T_STRING","mkdirStrict",248],"(",["T_VARIABLE","$outDir",248],")",";",["T_WHITESPACE","\n            ",248],["T_STRING","Mage_System_Dirs",249],["T_DOUBLE_COLON","::",249],["T_STRING","mkdirStrict",249],"(",["T_VARIABLE","$tempDir",249],")",";",["T_WHITESPACE","\n\n            ",249],["T_VARIABLE","$result",251],["T_WHITESPACE"," ",251],"=",["T_WHITESPACE"," ",251],["T_VARIABLE","$arc",251],["T_OBJECT_OPERATOR","->",251],["T_STRING","unpack",251],"(",["T_VARIABLE","$sourceFile",251],",",["T_WHITESPACE"," ",251],["T_VARIABLE","$tempDir",251],")",";",["T_WHITESPACE","\n            ",251],["T_IF","if",252],"(","!",["T_VARIABLE","$result",252],")",["T_WHITESPACE"," ",252],"{",["T_WHITESPACE","\n                ",252],["T_THROW","throw",253],["T_WHITESPACE"," ",253],["T_NEW","new",253],["T_WHITESPACE"," ",253],["T_STRING","Exception",253],"(","\"",["T_ENCAPSED_AND_WHITESPACE","'",253],["T_CURLY_OPEN","{",253],["T_VARIABLE","$sourceFile",253],"}",["T_ENCAPSED_AND_WHITESPACE","' was not unpacked",253],"\"",")",";",["T_WHITESPACE","\n            ",253],"}",["T_WHITESPACE","\n\n            ",254],["T_VARIABLE","$result",256],["T_WHITESPACE"," ",256],"=",["T_WHITESPACE"," ",256],["T_STRING","rtrim",256],"(",["T_VARIABLE","$result",256],",",["T_WHITESPACE"," ",256],["T_CONSTANT_ENCAPSED_STRING","\"\\\\\/\"",256],")",";",["T_WHITESPACE","\n            ",256],["T_VARIABLE","$packageXml",257],["T_WHITESPACE"," ",257],"=",["T_WHITESPACE"," ",257],["T_VARIABLE","$result",257],["T_WHITESPACE"," ",257],".",["T_WHITESPACE"," ",257],["T_STRING","DS",257],["T_WHITESPACE"," ",257],".",["T_WHITESPACE"," ",257],["T_CONSTANT_ENCAPSED_STRING","\"package.xml\"",257],";",["T_WHITESPACE","\n            ",257],["T_IF","if",258],"(","!",["T_STRING","file_exists",258],"(",["T_VARIABLE","$packageXml",258],")",")",["T_WHITESPACE"," ",258],"{",["T_WHITESPACE","\n                ",258],["T_THROW","throw",259],["T_WHITESPACE"," ",259],["T_NEW","new",259],["T_WHITESPACE"," ",259],["T_STRING","Exception",259],"(","\"",["T_ENCAPSED_AND_WHITESPACE","No package.xml found inside '",259],["T_CURLY_OPEN","{",259],["T_VARIABLE","$sourceFile",259],"}",["T_ENCAPSED_AND_WHITESPACE","'",259],"\"",")",";",["T_WHITESPACE","\n            ",259],"}",["T_WHITESPACE","\n\n            ",260],["T_VARIABLE","$reader",262],["T_WHITESPACE"," ",262],"=",["T_WHITESPACE"," ",262],["T_VARIABLE","$this",262],["T_OBJECT_OPERATOR","->",262],["T_STRING","oldPackageReader",262],"(",")",";",["T_WHITESPACE","\n            ",262],["T_VARIABLE","$data",263],["T_WHITESPACE"," ",263],"=",["T_WHITESPACE"," ",263],["T_STRING","file_get_contents",263],"(",["T_VARIABLE","$packageXml",263],")",";",["T_WHITESPACE","\n\n            ",263],["T_VARIABLE","$pearObject",265],["T_WHITESPACE"," ",265],"=",["T_WHITESPACE"," ",265],["T_VARIABLE","$reader",265],["T_OBJECT_OPERATOR","->",265],["T_STRING","parsePackage",265],"(",["T_VARIABLE","$data",265],",",["T_WHITESPACE"," ",265],["T_VARIABLE","$packageXml",265],")",";",["T_WHITESPACE","\n            ",265],["T_VARIABLE","$mageObject",266],["T_WHITESPACE"," ",266],"=",["T_WHITESPACE"," ",266],["T_VARIABLE","$this",266],["T_OBJECT_OPERATOR","->",266],["T_STRING","convertPackageObject",266],"(",["T_VARIABLE","$pearObject",266],")",";",["T_WHITESPACE","\n            ",266],["T_IF","if",267],"(","!",["T_VARIABLE","$mageObject",267],["T_OBJECT_OPERATOR","->",267],["T_STRING","validate",267],"(",")",")",["T_WHITESPACE"," ",267],"{",["T_WHITESPACE","\n                ",267],["T_THROW","throw",268],["T_WHITESPACE"," ",268],["T_NEW","new",268],["T_WHITESPACE"," ",268],["T_STRING","Exception",268],"(",["T_CONSTANT_ENCAPSED_STRING","\"Package validation failed.\\n\"",268],".",["T_WHITESPACE"," ",268],["T_STRING","implode",268],"(",["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",268],",",["T_WHITESPACE"," ",268],["T_VARIABLE","$mageObject",268],["T_OBJECT_OPERATOR","->",268],["T_STRING","getErrors",268],"(",")",")",")",";",["T_WHITESPACE","\n            ",268],"}",["T_WHITESPACE","\n\n            ",269],["T_DOC_COMMENT","\/**\n             * Calculate destination file if false\n             *\/",271],["T_WHITESPACE","\n            ",273],["T_IF","if",274],"(",["T_STRING","false",274],["T_WHITESPACE"," ",274],["T_IS_IDENTICAL","===",274],["T_WHITESPACE"," ",274],["T_VARIABLE","$destFile",274],")",["T_WHITESPACE"," ",274],"{",["T_WHITESPACE","\n                ",274],["T_VARIABLE","$pathinfo",275],["T_WHITESPACE"," ",275],"=",["T_WHITESPACE"," ",275],["T_STRING","pathinfo",275],"(",["T_VARIABLE","$sourceFile",275],")",";",["T_WHITESPACE","\n                ",275],["T_VARIABLE","$destFile",276],["T_WHITESPACE"," ",276],"=",["T_WHITESPACE"," ",276],["T_VARIABLE","$pathinfo",276],"[",["T_CONSTANT_ENCAPSED_STRING","'dirname'",276],"]",["T_WHITESPACE"," ",276],".",["T_WHITESPACE"," ",276],["T_STRING","DS",276],["T_WHITESPACE"," ",276],".",["T_VARIABLE","$pathinfo",276],"[",["T_CONSTANT_ENCAPSED_STRING","'filename'",276],"]",".",["T_CONSTANT_ENCAPSED_STRING","'-converted'",276],";",["T_WHITESPACE","\n                ",276],["T_IF","if",277],"(",["T_ISSET","isset",277],"(",["T_VARIABLE","$pathinfo",277],"[",["T_CONSTANT_ENCAPSED_STRING","'extension'",277],"]",")",")",["T_WHITESPACE"," ",277],"{",["T_WHITESPACE","\n                    ",277],["T_VARIABLE","$destFile",278],["T_WHITESPACE"," ",278],["T_CONCAT_EQUAL",".=",278],["T_WHITESPACE"," ",278],["T_CONSTANT_ENCAPSED_STRING","\".\"",278],".",["T_VARIABLE","$pathinfo",278],"[",["T_CONSTANT_ENCAPSED_STRING","'extension'",278],"]",";",["T_WHITESPACE","\n                ",278],"}",["T_WHITESPACE","\n            ",279],"}",["T_WHITESPACE","\n            \n            ",280],["T_VARIABLE","$target",282],["T_WHITESPACE"," ",282],"=",["T_WHITESPACE"," ",282],["T_NEW","new",282],["T_WHITESPACE"," ",282],["T_STRING","Mage_Connect_Package_Target",282],"(",["T_CONSTANT_ENCAPSED_STRING","\"target.xml\"",282],")",";",["T_WHITESPACE","\n            ",282],["T_VARIABLE","$targets",283],["T_WHITESPACE"," ",283],"=",["T_WHITESPACE"," ",283],["T_VARIABLE","$target",283],["T_OBJECT_OPERATOR","->",283],["T_STRING","getTargets",283],"(",")",";",["T_WHITESPACE","                        \n            ",283],["T_VARIABLE","$mageObject",284],["T_OBJECT_OPERATOR","->",284],["T_STRING","setTarget",284],"(",["T_VARIABLE","$target",284],")",";",["T_WHITESPACE","            \n            ",284],["T_VARIABLE","$validRoles",285],["T_WHITESPACE"," ",285],"=",["T_WHITESPACE"," ",285],["T_STRING","array_keys",285],"(",["T_VARIABLE","$targets",285],")",";",["T_WHITESPACE","\n            ",285],["T_VARIABLE","$data",286],["T_WHITESPACE"," ",286],"=",["T_WHITESPACE"," ",286],["T_VARIABLE","$pearObject",286],["T_OBJECT_OPERATOR","->",286],["T_STRING","getFilelist",286],"(",")",";",["T_WHITESPACE","\n            ",286],["T_VARIABLE","$pathSource",287],["T_WHITESPACE"," ",287],"=",["T_WHITESPACE"," ",287],["T_STRING","dirname",287],"(",["T_VARIABLE","$pearObject",287],["T_OBJECT_OPERATOR","->",287],["T_STRING","getPackageFile",287],"(",")",")",".",["T_STRING","DS",287],".",["T_VARIABLE","$pearObject",287],["T_OBJECT_OPERATOR","->",287],["T_STRING","getName",287],"(",")",".",["T_CONSTANT_ENCAPSED_STRING","\"-\"",287],".",["T_VARIABLE","$pearObject",287],["T_OBJECT_OPERATOR","->",287],["T_STRING","getVersion",287],"(",")",";",["T_WHITESPACE","            \n\n            ",287],["T_VARIABLE","$filesToDo",289],["T_WHITESPACE"," ",289],"=",["T_WHITESPACE"," ",289],["T_ARRAY","array",289],"(",")",";",["T_WHITESPACE","\n            ",289],["T_FOREACH","foreach",290],"(",["T_VARIABLE","$data",290],["T_WHITESPACE"," ",290],["T_AS","as",290],["T_WHITESPACE"," ",290],["T_VARIABLE","$file",290],["T_WHITESPACE"," ",290],["T_DOUBLE_ARROW","=>",290],["T_VARIABLE","$row",290],")",["T_WHITESPACE"," ",290],"{",["T_WHITESPACE","\n                ",290],["T_VARIABLE","$name",291],["T_WHITESPACE"," ",291],"=",["T_WHITESPACE"," ",291],["T_VARIABLE","$row",291],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",291],"]",";",["T_WHITESPACE","\n                ",291],["T_VARIABLE","$role",292],["T_WHITESPACE"," ",292],"=",["T_WHITESPACE"," ",292],["T_VARIABLE","$row",292],"[",["T_CONSTANT_ENCAPSED_STRING","'role'",292],"]",";",["T_WHITESPACE","\n                ",292],["T_IF","if",293],"(","!",["T_STRING","in_array",293],"(",["T_VARIABLE","$role",293],",",["T_WHITESPACE"," ",293],["T_VARIABLE","$validRoles",293],")",")",["T_WHITESPACE"," ",293],"{",["T_WHITESPACE","\n                    ",293],["T_VARIABLE","$role",294],["T_WHITESPACE"," ",294],"=",["T_WHITESPACE"," ",294],["T_CONSTANT_ENCAPSED_STRING","'mage'",294],";",["T_WHITESPACE","\n                ",294],"}",["T_WHITESPACE","\n                ",295],["T_VARIABLE","$baseName",296],["T_WHITESPACE"," ",296],"=",["T_WHITESPACE"," ",296],["T_STRING","ltrim",296],"(",["T_VARIABLE","$targets",296],"[",["T_VARIABLE","$role",296],"]",",",["T_WHITESPACE"," ",296],["T_CONSTANT_ENCAPSED_STRING","\"\\\\\/.\"",296],")",";",["T_WHITESPACE","\n                ",296],["T_VARIABLE","$baseName",297],["T_WHITESPACE"," ",297],"=",["T_WHITESPACE"," ",297],["T_STRING","rtrim",297],"(",["T_VARIABLE","$baseName",297],",",["T_WHITESPACE"," ",297],["T_CONSTANT_ENCAPSED_STRING","\"\\\\\/\"",297],")",";",["T_WHITESPACE","\n                ",297],["T_VARIABLE","$sourceFile",298],["T_WHITESPACE"," ",298],"=",["T_WHITESPACE"," ",298],["T_VARIABLE","$pathSource",298],".",["T_STRING","DS",298],".",["T_VARIABLE","$name",298],";",["T_WHITESPACE","\n                ",298],["T_VARIABLE","$targetFile",299],["T_WHITESPACE"," ",299],"=",["T_WHITESPACE"," ",299],["T_VARIABLE","$outDir",299],["T_WHITESPACE"," ",299],".",["T_WHITESPACE"," ",299],["T_STRING","DS",299],["T_WHITESPACE"," ",299],".",["T_WHITESPACE"," ",299],["T_VARIABLE","$baseName",299],["T_WHITESPACE"," ",299],".",["T_WHITESPACE"," ",299],["T_STRING","DS",299],".",["T_WHITESPACE"," ",299],["T_VARIABLE","$name",299],";",["T_WHITESPACE","\n                ",299],["T_IF","if",300],"(",["T_STRING","file_exists",300],"(",["T_VARIABLE","$sourceFile",300],")",")",["T_WHITESPACE"," ",300],"{",["T_WHITESPACE","\n                    ",300],["T_STRING","Mage_System_Dirs",301],["T_DOUBLE_COLON","::",301],["T_STRING","mkdirStrict",301],"(",["T_STRING","dirname",301],"(",["T_VARIABLE","$targetFile",301],")",")",";",["T_WHITESPACE","\n                    ",301],["T_VARIABLE","$copy",302],["T_WHITESPACE"," ",302],"=",["T_WHITESPACE"," ",302],"@",["T_STRING","copy",302],"(",["T_VARIABLE","$sourceFile",302],",",["T_WHITESPACE"," ",302],["T_VARIABLE","$targetFile",302],")",";",["T_WHITESPACE","\n                    ",302],["T_IF","if",303],"(",["T_STRING","false",303],["T_WHITESPACE"," ",303],["T_IS_IDENTICAL","===",303],["T_WHITESPACE"," ",303],["T_VARIABLE","$copy",303],")",["T_WHITESPACE"," ",303],"{",["T_WHITESPACE","\n                        ",303],["T_THROW","throw",304],["T_WHITESPACE"," ",304],["T_NEW","new",304],["T_WHITESPACE"," ",304],["T_STRING","Exception",304],"(","\"",["T_ENCAPSED_AND_WHITESPACE","Cannot copy '",304],["T_CURLY_OPEN","{",304],["T_VARIABLE","$sourceFile",304],"}",["T_ENCAPSED_AND_WHITESPACE","' to '",304],["T_CURLY_OPEN","{",304],["T_VARIABLE","$targetFile",304],"}",["T_ENCAPSED_AND_WHITESPACE","'",304],"\"",")",";",["T_WHITESPACE","\n                    ",304],"}",["T_WHITESPACE","\n                ",305],"}",["T_WHITESPACE","\n                ",306],["T_VARIABLE","$filesToDo",307],"[","]",["T_WHITESPACE"," ",307],"=",["T_WHITESPACE"," ",307],["T_ARRAY","array",307],["T_WHITESPACE"," ",307],"(",["T_CONSTANT_ENCAPSED_STRING","'name'",307],["T_DOUBLE_ARROW","=>",307],["T_WHITESPACE"," ",307],["T_VARIABLE","$name",307],",",["T_WHITESPACE"," ",307],["T_CONSTANT_ENCAPSED_STRING","'role'",307],["T_DOUBLE_ARROW","=>",307],["T_VARIABLE","$role",307],")",";",["T_WHITESPACE","\n            ",307],"}",["T_WHITESPACE","                        \n            ",308],["T_VARIABLE","$cwd",309],["T_WHITESPACE"," ",309],"=",["T_WHITESPACE"," ",309],["T_STRING","getcwd",309],"(",")",";",["T_WHITESPACE","\n            ",309],"@",["T_STRING","chdir",310],"(",["T_VARIABLE","$outDir",310],")",";",["T_WHITESPACE","\n            ",310],["T_FOREACH","foreach",311],"(",["T_VARIABLE","$filesToDo",311],["T_WHITESPACE"," ",311],["T_AS","as",311],["T_WHITESPACE"," ",311],["T_VARIABLE","$fileToDo",311],")",["T_WHITESPACE"," ",311],"{",["T_WHITESPACE","\n                ",311],["T_VARIABLE","$mageObject",312],["T_OBJECT_OPERATOR","->",312],["T_STRING","addContent",312],"(",["T_VARIABLE","$fileToDo",312],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",312],"]",",",["T_WHITESPACE"," ",312],["T_VARIABLE","$fileToDo",312],"[",["T_CONSTANT_ENCAPSED_STRING","'role'",312],"]",")",";",["T_WHITESPACE","\n            ",312],"}",["T_WHITESPACE","\n            ",313],["T_VARIABLE","$mageObject",314],["T_OBJECT_OPERATOR","->",314],["T_STRING","save",314],"(",["T_STRING","getcwd",314],"(",")",")",";",["T_WHITESPACE","\n            ",314],"@",["T_STRING","chdir",315],"(",["T_VARIABLE","$cwd",315],")",";",["T_WHITESPACE","            \n            ",315],["T_VARIABLE","$filename",316],["T_WHITESPACE"," ",316],"=",["T_WHITESPACE"," ",316],["T_VARIABLE","$outDir",316],".",["T_WHITESPACE"," ",316],["T_STRING","DS",316],["T_WHITESPACE"," ",316],".",["T_WHITESPACE"," ",316],["T_VARIABLE","$mageObject",316],["T_OBJECT_OPERATOR","->",316],["T_STRING","getReleaseFilename",316],"(",")",".",["T_CONSTANT_ENCAPSED_STRING","\".tgz\"",316],";",["T_WHITESPACE","         \n            ",316],["T_IF","if",317],"(","@",["T_STRING","file_exists",317],"(",["T_VARIABLE","$targetArchive",317],")",")",["T_WHITESPACE"," ",317],"{",["T_WHITESPACE","\n                ",317],"@",["T_STRING","unlink",318],"(",["T_VARIABLE","$targetArchive",318],")",";",["T_WHITESPACE","\n            ",318],"}",["T_WHITESPACE","\n            ",319],["T_STRING","Mage_System_Dirs",320],["T_DOUBLE_COLON","::",320],["T_STRING","mkdirStrict",320],"(",["T_STRING","dirname",320],"(",["T_VARIABLE","$destFile",320],")",")",";",["T_WHITESPACE","\n            ",320],["T_VARIABLE","$copy",321],["T_WHITESPACE"," ",321],"=",["T_WHITESPACE"," ",321],"@",["T_STRING","copy",321],"(",["T_VARIABLE","$filename",321],",",["T_WHITESPACE"," ",321],["T_VARIABLE","$destFile",321],")",";",["T_WHITESPACE","\n            ",321],["T_IF","if",322],"(",["T_STRING","false",322],["T_WHITESPACE"," ",322],["T_IS_IDENTICAL","===",322],["T_WHITESPACE"," ",322],["T_VARIABLE","$copy",322],")",["T_WHITESPACE"," ",322],"{",["T_WHITESPACE","\n                ",322],["T_THROW","throw",323],["T_WHITESPACE"," ",323],["T_NEW","new",323],["T_WHITESPACE"," ",323],["T_STRING","Exception",323],"(","\"",["T_ENCAPSED_AND_WHITESPACE","Cannot copy '",323],["T_CURLY_OPEN","{",323],["T_VARIABLE","$filename",323],"}",["T_ENCAPSED_AND_WHITESPACE","' to '",323],["T_CURLY_OPEN","{",323],["T_VARIABLE","$targetArchive",323],"}",["T_ENCAPSED_AND_WHITESPACE","'",323],"\"",")",";",["T_WHITESPACE","\n            ",323],"}",["T_WHITESPACE","\n            ",324],["T_STRING","Mage_System_Dirs",325],["T_DOUBLE_COLON","::",325],["T_STRING","rm",325],"(",["T_VARIABLE","$tempDir",325],")",";",["T_WHITESPACE","\n            ",325],["T_STRING","Mage_System_Dirs",326],["T_DOUBLE_COLON","::",326],["T_STRING","rm",326],"(",["T_VARIABLE","$outDir",326],")",";",["T_WHITESPACE","\n\n        ",326],"}",["T_WHITESPACE"," ",328],["T_CATCH","catch",328],["T_WHITESPACE"," ",328],"(",["T_STRING","Exception",328],["T_WHITESPACE"," ",328],["T_VARIABLE","$e",328],")",["T_WHITESPACE"," ",328],"{",["T_WHITESPACE","\n            ",328],["T_THROW","throw",329],["T_WHITESPACE"," ",329],["T_VARIABLE","$e",329],";",["T_WHITESPACE","\n        ",329],"}",["T_WHITESPACE","\n        ",330],["T_RETURN","return",331],["T_WHITESPACE"," ",331],["T_VARIABLE","$destFile",331],";",["T_WHITESPACE","\n    ",331],"}",["T_WHITESPACE","\n\n\n\n",332],"}",["T_WHITESPACE","\n",336]]