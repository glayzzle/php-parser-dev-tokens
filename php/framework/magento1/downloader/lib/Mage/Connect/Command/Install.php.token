[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Magento\n *\n * NOTICE OF LICENSE\n *\n * This source file is subject to the Open Software License (OSL 3.0)\n * that is bundled with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/opensource.org\/licenses\/osl-3.0.php\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@magento.com so we can send you a copy immediately.\n *\n * DISCLAIMER\n *\n * Do not edit or add to this file if you wish to upgrade Magento to newer\n * versions in the future. If you wish to customize Magento for your\n * needs please refer to http:\/\/www.magento.com for more information.\n *\n * @category    Mage\n * @package     Mage_Connect\n * @copyright  Copyright (c) 2006-2016 X.commerce, Inc. and affiliates (http:\/\/www.magento.com)\n * @license    http:\/\/opensource.org\/licenses\/osl-3.0.php  Open Software License (OSL 3.0)\n *\/",2],["T_WHITESPACE","\n",25],["T_FINAL","final",26],["T_WHITESPACE"," ",26],["T_CLASS","class",26],["T_WHITESPACE"," ",26],["T_STRING","Mage_Connect_Command_Install",26],["T_WHITESPACE"," ",26],["T_EXTENDS","extends",26],["T_WHITESPACE"," ",26],["T_STRING","Mage_Connect_Command",26],["T_WHITESPACE","\n",26],"{",["T_WHITESPACE","\n    ",27],["T_DOC_COMMENT","\/**\n     * Install action callback\n     *\n     * @throws Exception\n     * @param string $command\n     * @param array $options\n     * @param array $params\n     * @param array $objects\n     * @return array|null\n     *\/",28],["T_WHITESPACE","\n    ",37],["T_PUBLIC","public",38],["T_WHITESPACE"," ",38],["T_FUNCTION","function",38],["T_WHITESPACE"," ",38],["T_STRING","doInstall",38],"(",["T_VARIABLE","$command",38],",",["T_WHITESPACE"," ",38],["T_VARIABLE","$options",38],",",["T_WHITESPACE"," ",38],["T_VARIABLE","$params",38],",",["T_WHITESPACE"," ",38],["T_VARIABLE","$objects",38],["T_WHITESPACE"," ",38],"=",["T_WHITESPACE"," ",38],["T_ARRAY","array",38],"(",")",")",["T_WHITESPACE","\n    ",38],"{",["T_WHITESPACE","\n        ",39],["T_VARIABLE","$this",40],["T_OBJECT_OPERATOR","->",40],["T_STRING","cleanupParams",40],"(",["T_VARIABLE","$params",40],")",";",["T_WHITESPACE","\n\n        ",40],["T_VARIABLE","$installFileMode",42],["T_WHITESPACE"," ",42],"=",["T_WHITESPACE"," ",42],["T_VARIABLE","$command",42],["T_WHITESPACE"," ",42],["T_IS_IDENTICAL","===",42],["T_WHITESPACE"," ",42],["T_CONSTANT_ENCAPSED_STRING","'install-file'",42],";",["T_WHITESPACE","\n\n        ",42],["T_DOC_COMMENT","\/** @var $ftpObj Mage_Connect_Ftp *\/",44],["T_WHITESPACE","\n        ",44],["T_VARIABLE","$ftpObj",45],"=",["T_STRING","null",45],";",["T_WHITESPACE","\n        ",45],["T_VARIABLE","$ftp",46],["T_WHITESPACE"," ",46],"=",["T_WHITESPACE"," ",46],["T_EMPTY","empty",46],"(",["T_VARIABLE","$options",46],"[",["T_CONSTANT_ENCAPSED_STRING","'ftp'",46],"]",")",["T_WHITESPACE"," ",46],"?",["T_WHITESPACE"," ",46],["T_STRING","false",46],["T_WHITESPACE"," ",46],":",["T_WHITESPACE"," ",46],["T_VARIABLE","$options",46],"[",["T_CONSTANT_ENCAPSED_STRING","'ftp'",46],"]",";",["T_WHITESPACE","\n        ",46],["T_DOC_COMMENT","\/** @var $packager Mage_Connect_Packager *\/",47],["T_WHITESPACE","\n        ",47],["T_VARIABLE","$packager",48],["T_WHITESPACE"," ",48],"=",["T_WHITESPACE"," ",48],["T_VARIABLE","$this",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","getPackager",48],"(",")",";",["T_WHITESPACE","\n        ",48],["T_DOC_COMMENT","\/** @var $cache Mage_Connect_Singleconfig *\/",49],["T_WHITESPACE","\n        ",49],["T_DOC_COMMENT","\/** @var $config Mage_Connect_Config *\/",50],["T_WHITESPACE","\n        ",50],["T_IF","if",51],["T_WHITESPACE"," ",51],"(",["T_VARIABLE","$ftp",51],")",["T_WHITESPACE"," ",51],"{",["T_WHITESPACE","\n            ",51],["T_LIST","list",52],"(",["T_VARIABLE","$cache",52],",",["T_WHITESPACE"," ",52],["T_VARIABLE","$config",52],",",["T_WHITESPACE"," ",52],["T_VARIABLE","$ftpObj",52],")",["T_WHITESPACE"," ",52],"=",["T_WHITESPACE"," ",52],["T_VARIABLE","$packager",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","getRemoteConf",52],"(",["T_VARIABLE","$ftp",52],")",";",["T_WHITESPACE","\n        ",52],"}",["T_WHITESPACE"," ",53],["T_ELSE","else",53],["T_WHITESPACE"," ",53],"{",["T_WHITESPACE","\n            ",53],["T_VARIABLE","$cache",54],["T_WHITESPACE"," ",54],"=",["T_WHITESPACE"," ",54],["T_VARIABLE","$this",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","getSconfig",54],"(",")",";",["T_WHITESPACE","\n            ",54],["T_VARIABLE","$config",55],["T_WHITESPACE"," ",55],"=",["T_WHITESPACE"," ",55],["T_VARIABLE","$this",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","config",55],"(",")",";",["T_WHITESPACE","\n        ",55],"}",["T_WHITESPACE","\n\n        ",56],["T_TRY","try",58],["T_WHITESPACE"," ",58],"{",["T_WHITESPACE","\n            ",58],["T_VARIABLE","$forceMode",59],["T_WHITESPACE"," ",59],"=",["T_WHITESPACE"," ",59],["T_ISSET","isset",59],"(",["T_VARIABLE","$options",59],"[",["T_CONSTANT_ENCAPSED_STRING","'force'",59],"]",")",";",["T_WHITESPACE","\n            ",59],["T_VARIABLE","$upgradeAllMode",60],["T_WHITESPACE"," ",60],"=",["T_WHITESPACE"," ",60],["T_VARIABLE","$command",60],["T_WHITESPACE"," ",60],["T_IS_EQUAL","==",60],["T_WHITESPACE"," ",60],["T_CONSTANT_ENCAPSED_STRING","'upgrade-all'",60],";",["T_WHITESPACE","\n            ",60],["T_VARIABLE","$upgradeMode",61],["T_WHITESPACE"," ",61],"=",["T_WHITESPACE"," ",61],["T_VARIABLE","$command",61],["T_WHITESPACE"," ",61],["T_IS_EQUAL","==",61],["T_WHITESPACE"," ",61],["T_CONSTANT_ENCAPSED_STRING","'upgrade'",61],["T_WHITESPACE"," ",61],["T_BOOLEAN_OR","||",61],["T_WHITESPACE"," ",61],["T_VARIABLE","$command",61],["T_WHITESPACE"," ",61],["T_IS_EQUAL","==",61],["T_WHITESPACE"," ",61],["T_CONSTANT_ENCAPSED_STRING","'upgrade-all'",61],";",["T_WHITESPACE","\n            ",61],["T_VARIABLE","$noFilesInstall",62],["T_WHITESPACE"," ",62],"=",["T_WHITESPACE"," ",62],["T_ISSET","isset",62],"(",["T_VARIABLE","$options",62],"[",["T_CONSTANT_ENCAPSED_STRING","'nofiles'",62],"]",")",";",["T_WHITESPACE","\n            ",62],["T_VARIABLE","$withDepsMode",63],["T_WHITESPACE"," ",63],"=",["T_WHITESPACE"," ",63],"!",["T_ISSET","isset",63],"(",["T_VARIABLE","$options",63],"[",["T_CONSTANT_ENCAPSED_STRING","'nodeps'",63],"]",")",";",["T_WHITESPACE","\n            ",63],["T_VARIABLE","$ignoreModifiedMode",64],["T_WHITESPACE"," ",64],"=",["T_WHITESPACE"," ",64],["T_STRING","true",64],["T_WHITESPACE"," ",64],["T_BOOLEAN_OR","||",64],["T_WHITESPACE"," ",64],"!",["T_ISSET","isset",64],"(",["T_VARIABLE","$options",64],"[",["T_CONSTANT_ENCAPSED_STRING","'ignorelocalmodification'",64],"]",")",";",["T_WHITESPACE","\n            ",64],["T_VARIABLE","$clearInstallMode",65],["T_WHITESPACE"," ",65],"=",["T_WHITESPACE"," ",65],["T_VARIABLE","$command",65],["T_WHITESPACE"," ",65],["T_IS_EQUAL","==",65],["T_WHITESPACE"," ",65],["T_CONSTANT_ENCAPSED_STRING","'install'",65],["T_WHITESPACE"," ",65],["T_BOOLEAN_AND","&&",65],["T_WHITESPACE"," ",65],"!",["T_VARIABLE","$forceMode",65],";",["T_WHITESPACE","\n            ",65],["T_VARIABLE","$installAll",66],["T_WHITESPACE"," ",66],"=",["T_WHITESPACE"," ",66],["T_ISSET","isset",66],"(",["T_VARIABLE","$options",66],"[",["T_CONSTANT_ENCAPSED_STRING","'install_all'",66],"]",")",";",["T_WHITESPACE","\n            ",66],["T_VARIABLE","$channelAuth",67],["T_WHITESPACE"," ",67],"=",["T_WHITESPACE"," ",67],["T_ISSET","isset",67],"(",["T_VARIABLE","$options",67],"[",["T_CONSTANT_ENCAPSED_STRING","'auth'",67],"]",")","?",["T_VARIABLE","$options",67],"[",["T_CONSTANT_ENCAPSED_STRING","'auth'",67],"]",":",["T_ARRAY","array",67],"(",")",";",["T_WHITESPACE","\n\n            ",67],["T_VARIABLE","$rest",69],["T_WHITESPACE"," ",69],"=",["T_WHITESPACE"," ",69],["T_VARIABLE","$this",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","rest",69],"(",")",";",["T_WHITESPACE","\n            ",69],["T_IF","if",70],["T_WHITESPACE"," ",70],"(",["T_EMPTY","empty",70],"(",["T_VARIABLE","$config",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","magento_root",70],")",")",["T_WHITESPACE"," ",70],"{",["T_WHITESPACE","\n                ",70],["T_VARIABLE","$config",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","magento_root",71],"=",["T_STRING","dirname",71],"(",["T_STRING","dirname",71],"(",["T_VARIABLE","$_SERVER",71],"[",["T_CONSTANT_ENCAPSED_STRING","'SCRIPT_FILENAME'",71],"]",")",")",";",["T_WHITESPACE","\n            ",71],"}",["T_WHITESPACE","\n            ",72],["T_STRING","chdir",73],"(",["T_VARIABLE","$config",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","magento_root",73],")",";",["T_WHITESPACE","\n            ",73],["T_VARIABLE","$dirCache",74],["T_WHITESPACE"," ",74],"=",["T_WHITESPACE"," ",74],["T_STRING","DIRECTORY_SEPARATOR",74],["T_WHITESPACE"," ",74],".",["T_WHITESPACE"," ",74],["T_VARIABLE","$config",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","downloader_path",74],["T_WHITESPACE"," ",74],".",["T_WHITESPACE"," ",74],["T_STRING","DIRECTORY_SEPARATOR",74],["T_WHITESPACE","\n                ",74],".",["T_WHITESPACE"," ",75],["T_STRING","Mage_Connect_Config",75],["T_DOUBLE_COLON","::",75],["T_STRING","DEFAULT_CACHE_PATH",75],";",["T_WHITESPACE","\n            ",75],["T_VARIABLE","$dirTmp",76],["T_WHITESPACE"," ",76],"=",["T_WHITESPACE"," ",76],["T_STRING","DIRECTORY_SEPARATOR",76],["T_WHITESPACE"," ",76],".",["T_WHITESPACE"," ",76],["T_STRING","Mage_Connect_Package_Reader",76],["T_DOUBLE_COLON","::",76],["T_STRING","PATH_TO_TEMPORARY_DIRECTORY",76],";",["T_WHITESPACE","\n            ",76],["T_VARIABLE","$dirMedia",77],["T_WHITESPACE"," ",77],"=",["T_WHITESPACE"," ",77],["T_STRING","DIRECTORY_SEPARATOR",77],["T_WHITESPACE"," ",77],".",["T_WHITESPACE"," ",77],["T_CONSTANT_ENCAPSED_STRING","'media'",77],";",["T_WHITESPACE","\n            ",77],["T_VARIABLE","$isWritable",78],["T_WHITESPACE"," ",78],"=",["T_WHITESPACE"," ",78],["T_STRING","true",78],";",["T_WHITESPACE","\n            ",78],["T_IF","if",79],["T_WHITESPACE"," ",79],"(",["T_VARIABLE","$ftp",79],")",["T_WHITESPACE"," ",79],"{",["T_WHITESPACE","\n                ",79],["T_VARIABLE","$cwd",80],"=",["T_VARIABLE","$ftpObj",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","getcwd",80],"(",")",";",["T_WHITESPACE","\n                ",80],["T_VARIABLE","$ftpObj",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","mkdirRecursive",81],"(",["T_VARIABLE","$cwd",81],["T_WHITESPACE"," ",81],".",["T_WHITESPACE"," ",81],["T_VARIABLE","$dirCache",81],",",["T_LNUMBER","0777",81],")",";",["T_WHITESPACE","\n                ",81],["T_VARIABLE","$ftpObj",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","chdir",82],"(",["T_VARIABLE","$cwd",82],")",";",["T_WHITESPACE","\n                ",82],["T_VARIABLE","$ftpObj",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","mkdirRecursive",83],"(",["T_VARIABLE","$cwd",83],["T_WHITESPACE"," ",83],".",["T_WHITESPACE"," ",83],["T_VARIABLE","$dirTmp",83],",",["T_LNUMBER","0777",83],")",";",["T_WHITESPACE","\n                ",83],["T_VARIABLE","$ftpObj",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","chdir",84],"(",["T_VARIABLE","$cwd",84],")",";",["T_WHITESPACE","\n                ",84],["T_VARIABLE","$ftpObj",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","mkdirRecursive",85],"(",["T_VARIABLE","$cwd",85],["T_WHITESPACE"," ",85],".",["T_WHITESPACE"," ",85],["T_VARIABLE","$dirMedia",85],",",["T_LNUMBER","0777",85],")",";",["T_WHITESPACE","\n                ",85],["T_VARIABLE","$ftpObj",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","chdir",86],"(",["T_VARIABLE","$cwd",86],")",";",["T_WHITESPACE","\n                ",86],["T_VARIABLE","$err",87],["T_WHITESPACE"," ",87],"=",["T_WHITESPACE"," ",87],["T_CONSTANT_ENCAPSED_STRING","\"Please check for sufficient ftp write file permissions.\"",87],";",["T_WHITESPACE","\n            ",87],"}",["T_WHITESPACE"," ",88],["T_ELSE","else",88],["T_WHITESPACE"," ",88],"{",["T_WHITESPACE","\n                ",88],"@",["T_STRING","mkdir",89],"(",["T_VARIABLE","$config",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","magento_root",89],["T_WHITESPACE"," ",89],".",["T_WHITESPACE"," ",89],["T_VARIABLE","$dirCache",89],",",["T_LNUMBER","0777",89],",",["T_STRING","true",89],")",";",["T_WHITESPACE","\n                ",89],"@",["T_STRING","mkdir",90],"(",["T_VARIABLE","$config",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","magento_root",90],["T_WHITESPACE"," ",90],".",["T_WHITESPACE"," ",90],["T_VARIABLE","$dirTmp",90],",",["T_LNUMBER","0777",90],",",["T_STRING","true",90],")",";",["T_WHITESPACE","\n                ",90],"@",["T_STRING","mkdir",91],"(",["T_VARIABLE","$config",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","magento_root",91],["T_WHITESPACE"," ",91],".",["T_WHITESPACE"," ",91],["T_VARIABLE","$dirMedia",91],",",["T_LNUMBER","0777",91],",",["T_STRING","true",91],")",";",["T_WHITESPACE","\n                ",91],["T_VARIABLE","$isWritable",92],["T_WHITESPACE"," ",92],"=",["T_WHITESPACE"," ",92],["T_STRING","is_writable",92],"(",["T_VARIABLE","$config",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","magento_root",92],")",["T_WHITESPACE","\n                    ",92],["T_BOOLEAN_AND","&&",93],["T_WHITESPACE"," ",93],["T_STRING","is_writable",93],"(",["T_VARIABLE","$config",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","magento_root",93],["T_WHITESPACE"," ",93],".",["T_WHITESPACE"," ",93],["T_STRING","DIRECTORY_SEPARATOR",93],["T_WHITESPACE"," ",93],".",["T_WHITESPACE"," ",93],["T_VARIABLE","$config",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","downloader_path",93],")",["T_WHITESPACE","\n                    ",93],["T_BOOLEAN_AND","&&",94],["T_WHITESPACE"," ",94],["T_STRING","is_writable",94],"(",["T_VARIABLE","$config",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","magento_root",94],["T_WHITESPACE"," ",94],".",["T_WHITESPACE"," ",94],["T_VARIABLE","$dirCache",94],")",["T_WHITESPACE","\n                    ",94],["T_BOOLEAN_AND","&&",95],["T_WHITESPACE"," ",95],["T_STRING","is_writable",95],"(",["T_VARIABLE","$config",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","magento_root",95],["T_WHITESPACE"," ",95],".",["T_WHITESPACE"," ",95],["T_VARIABLE","$dirTmp",95],")",["T_WHITESPACE","\n                    ",95],["T_BOOLEAN_AND","&&",96],["T_WHITESPACE"," ",96],["T_STRING","is_writable",96],"(",["T_VARIABLE","$config",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","magento_root",96],["T_WHITESPACE"," ",96],".",["T_WHITESPACE"," ",96],["T_VARIABLE","$dirMedia",96],")",";",["T_WHITESPACE","\n                ",96],["T_VARIABLE","$err",97],["T_WHITESPACE"," ",97],"=",["T_WHITESPACE"," ",97],["T_CONSTANT_ENCAPSED_STRING","\"Please check for sufficient write file permissions.\"",97],";",["T_WHITESPACE","\n            ",97],"}",["T_WHITESPACE","\n            ",98],["T_VARIABLE","$isWritable",99],["T_WHITESPACE"," ",99],"=",["T_WHITESPACE"," ",99],["T_VARIABLE","$isWritable",99],["T_WHITESPACE"," ",99],["T_BOOLEAN_AND","&&",99],["T_WHITESPACE"," ",99],["T_STRING","is_writable",99],"(",["T_VARIABLE","$config",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","magento_root",99],["T_WHITESPACE"," ",99],".",["T_WHITESPACE"," ",99],["T_VARIABLE","$dirMedia",99],")",["T_WHITESPACE","\n                ",99],["T_BOOLEAN_AND","&&",100],["T_WHITESPACE"," ",100],["T_STRING","is_writable",100],"(",["T_VARIABLE","$config",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","magento_root",100],["T_WHITESPACE"," ",100],".",["T_WHITESPACE"," ",100],["T_VARIABLE","$dirCache",100],")",["T_WHITESPACE","\n                ",100],["T_BOOLEAN_AND","&&",101],["T_WHITESPACE"," ",101],["T_STRING","is_writable",101],"(",["T_VARIABLE","$config",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","magento_root",101],["T_WHITESPACE"," ",101],".",["T_WHITESPACE"," ",101],["T_VARIABLE","$dirTmp",101],")",";",["T_WHITESPACE","\n            ",101],["T_IF","if",102],["T_WHITESPACE"," ",102],"(","!",["T_VARIABLE","$isWritable",102],")",["T_WHITESPACE"," ",102],"{",["T_WHITESPACE","\n                ",102],["T_VARIABLE","$this",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","doError",103],"(",["T_VARIABLE","$command",103],",",["T_WHITESPACE"," ",103],["T_VARIABLE","$err",103],")",";",["T_WHITESPACE","\n                ",103],["T_THROW","throw",104],["T_WHITESPACE"," ",104],["T_NEW","new",104],["T_WHITESPACE"," ",104],["T_STRING","Exception",104],"(",["T_WHITESPACE","\n                    ",104],["T_CONSTANT_ENCAPSED_STRING","'Your Magento folder does not have sufficient write permissions, which downloader requires.'",105],["T_WHITESPACE","\n                ",105],")",";",["T_WHITESPACE","\n            ",106],"}",["T_WHITESPACE","\n            ",107],["T_IF","if",108],["T_WHITESPACE"," ",108],"(","!",["T_EMPTY","empty",108],"(",["T_VARIABLE","$channelAuth",108],")",")",["T_WHITESPACE"," ",108],"{",["T_WHITESPACE","\n                ",108],["T_VARIABLE","$rest",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","getLoader",109],"(",")",["T_OBJECT_OPERATOR","->",109],["T_STRING","setCredentials",109],"(",["T_VARIABLE","$channelAuth",109],"[",["T_CONSTANT_ENCAPSED_STRING","'username'",109],"]",",",["T_WHITESPACE"," ",109],["T_VARIABLE","$channelAuth",109],"[",["T_CONSTANT_ENCAPSED_STRING","'password'",109],"]",")",";",["T_WHITESPACE","\n            ",109],"}",["T_WHITESPACE","\n\n            ",110],["T_IF","if",112],["T_WHITESPACE"," ",112],"(",["T_VARIABLE","$installFileMode",112],")",["T_WHITESPACE"," ",112],"{",["T_WHITESPACE","\n                ",112],["T_IF","if",113],["T_WHITESPACE"," ",113],"(",["T_STRING","count",113],"(",["T_VARIABLE","$params",113],")",["T_WHITESPACE"," ",113],"<",["T_WHITESPACE"," ",113],["T_LNUMBER","1",113],")",["T_WHITESPACE"," ",113],"{",["T_WHITESPACE","\n                    ",113],["T_THROW","throw",114],["T_WHITESPACE"," ",114],["T_NEW","new",114],["T_WHITESPACE"," ",114],["T_STRING","Exception",114],"(",["T_CONSTANT_ENCAPSED_STRING","\"Argument should be: filename\"",114],")",";",["T_WHITESPACE","\n                ",114],"}",["T_WHITESPACE","\n                ",115],["T_VARIABLE","$filename",116],["T_WHITESPACE"," ",116],"=",["T_WHITESPACE"," ",116],["T_VARIABLE","$params",116],"[",["T_LNUMBER","0",116],"]",";",["T_WHITESPACE","\n                ",116],["T_IF","if",117],["T_WHITESPACE"," ",117],"(","!","@",["T_STRING","file_exists",117],"(",["T_VARIABLE","$filename",117],")",")",["T_WHITESPACE"," ",117],"{",["T_WHITESPACE","\n                    ",117],["T_THROW","throw",118],["T_WHITESPACE"," ",118],["T_NEW","new",118],["T_WHITESPACE"," ",118],["T_STRING","Exception",118],"(","\"",["T_ENCAPSED_AND_WHITESPACE","File '",118],["T_CURLY_OPEN","{",118],["T_VARIABLE","$filename",118],"}",["T_ENCAPSED_AND_WHITESPACE","' not found",118],"\"",")",";",["T_WHITESPACE","\n                ",118],"}",["T_WHITESPACE","\n                ",119],["T_IF","if",120],["T_WHITESPACE"," ",120],"(","!","@",["T_STRING","is_readable",120],"(",["T_VARIABLE","$filename",120],")",")",["T_WHITESPACE"," ",120],"{",["T_WHITESPACE","\n                    ",120],["T_THROW","throw",121],["T_WHITESPACE"," ",121],["T_NEW","new",121],["T_WHITESPACE"," ",121],["T_STRING","Exception",121],"(","\"",["T_ENCAPSED_AND_WHITESPACE","File '",121],["T_CURLY_OPEN","{",121],["T_VARIABLE","$filename",121],"}",["T_ENCAPSED_AND_WHITESPACE","' is not readable",121],"\"",")",";",["T_WHITESPACE","\n                ",121],"}",["T_WHITESPACE","\n\n                ",122],["T_VARIABLE","$package",124],["T_WHITESPACE"," ",124],"=",["T_WHITESPACE"," ",124],["T_NEW","new",124],["T_WHITESPACE"," ",124],["T_STRING","Mage_Connect_Package",124],"(",["T_VARIABLE","$filename",124],")",";",["T_WHITESPACE","\n                ",124],["T_VARIABLE","$package",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","setConfig",125],"(",["T_VARIABLE","$config",125],")",";",["T_WHITESPACE","\n                ",125],["T_VARIABLE","$package",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","validate",126],"(",")",";",["T_WHITESPACE","\n                ",126],["T_VARIABLE","$errors",127],["T_WHITESPACE"," ",127],"=",["T_WHITESPACE"," ",127],["T_VARIABLE","$package",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","getErrors",127],"(",")",";",["T_WHITESPACE","\n                ",127],["T_IF","if",128],["T_WHITESPACE"," ",128],"(",["T_STRING","count",128],"(",["T_VARIABLE","$errors",128],")",")",["T_WHITESPACE"," ",128],"{",["T_WHITESPACE","\n                    ",128],["T_THROW","throw",129],["T_WHITESPACE"," ",129],["T_NEW","new",129],["T_WHITESPACE"," ",129],["T_STRING","Exception",129],"(",["T_CONSTANT_ENCAPSED_STRING","\"Package file is invalid\\n\"",129],["T_WHITESPACE"," ",129],".",["T_WHITESPACE"," ",129],["T_STRING","implode",129],"(",["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",129],",",["T_WHITESPACE"," ",129],["T_VARIABLE","$errors",129],")",")",";",["T_WHITESPACE","\n                ",129],"}",["T_WHITESPACE","\n\n                ",130],["T_VARIABLE","$pChan",132],["T_WHITESPACE"," ",132],"=",["T_WHITESPACE"," ",132],["T_VARIABLE","$package",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","getChannel",132],"(",")",";",["T_WHITESPACE","\n                ",132],["T_VARIABLE","$pName",133],["T_WHITESPACE"," ",133],"=",["T_WHITESPACE"," ",133],["T_VARIABLE","$package",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","getName",133],"(",")",";",["T_WHITESPACE","\n                ",133],["T_VARIABLE","$pVer",134],["T_WHITESPACE"," ",134],"=",["T_WHITESPACE"," ",134],["T_VARIABLE","$package",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","getVersion",134],"(",")",";",["T_WHITESPACE","\n\n                ",134],["T_IF","if",136],["T_WHITESPACE"," ",136],"(","!","(",["T_VARIABLE","$cache",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","isChannelName",136],"(",["T_VARIABLE","$pChan",136],")",["T_WHITESPACE"," ",136],["T_BOOLEAN_OR","||",136],["T_WHITESPACE"," ",136],["T_VARIABLE","$cache",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","isChannelAlias",136],"(",["T_VARIABLE","$pChan",136],")",")",")",["T_WHITESPACE"," ",136],"{",["T_WHITESPACE","\n                    ",136],["T_THROW","throw",137],["T_WHITESPACE"," ",137],["T_NEW","new",137],["T_WHITESPACE"," ",137],["T_STRING","Exception",137],"(","\"",["T_ENCAPSED_AND_WHITESPACE","The '",137],["T_CURLY_OPEN","{",137],["T_VARIABLE","$pChan",137],"}",["T_ENCAPSED_AND_WHITESPACE","' channel is not installed. Please use the MAGE shell ",137],"\"",["T_WHITESPACE","\n                        ",137],".",["T_WHITESPACE"," ",138],"\"",["T_ENCAPSED_AND_WHITESPACE","script to install the '",138],["T_CURLY_OPEN","{",138],["T_VARIABLE","$pChan",138],"}",["T_ENCAPSED_AND_WHITESPACE","' channel.",138],"\"",")",";",["T_WHITESPACE","\n                ",138],"}",["T_WHITESPACE","\n\n                ",139],["T_VARIABLE","$conflicts",141],["T_WHITESPACE"," ",141],"=",["T_WHITESPACE"," ",141],["T_VARIABLE","$cache",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","hasConflicts",141],"(",["T_VARIABLE","$pChan",141],",",["T_WHITESPACE"," ",141],["T_VARIABLE","$pName",141],",",["T_WHITESPACE"," ",141],["T_VARIABLE","$pVer",141],")",";",["T_WHITESPACE","\n\n                ",141],["T_IF","if",143],["T_WHITESPACE"," ",143],"(",["T_STRING","false",143],["T_WHITESPACE"," ",143],["T_IS_NOT_IDENTICAL","!==",143],["T_WHITESPACE"," ",143],["T_VARIABLE","$conflicts",143],")",["T_WHITESPACE"," ",143],"{",["T_WHITESPACE","\n                    ",143],["T_VARIABLE","$conflicts",144],["T_WHITESPACE"," ",144],"=",["T_WHITESPACE"," ",144],["T_STRING","implode",144],"(",["T_CONSTANT_ENCAPSED_STRING","\", \"",144],",",["T_VARIABLE","$conflicts",144],")",";",["T_WHITESPACE","\n                    ",144],["T_IF","if",145],["T_WHITESPACE"," ",145],"(",["T_VARIABLE","$forceMode",145],")",["T_WHITESPACE"," ",145],"{",["T_WHITESPACE","\n                        ",145],["T_VARIABLE","$this",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","doError",146],"(",["T_VARIABLE","$command",146],",",["T_WHITESPACE"," ",146],"\"",["T_ENCAPSED_AND_WHITESPACE","Package ",146],["T_CURLY_OPEN","{",146],["T_VARIABLE","$pChan",146],"}",["T_ENCAPSED_AND_WHITESPACE","\/",146],["T_CURLY_OPEN","{",146],["T_VARIABLE","$pName",146],"}",["T_ENCAPSED_AND_WHITESPACE"," ",146],["T_CURLY_OPEN","{",146],["T_VARIABLE","$pVer",146],"}",["T_ENCAPSED_AND_WHITESPACE"," conflicts with: ",146],"\"",["T_WHITESPACE"," ",146],".",["T_WHITESPACE"," ",146],["T_VARIABLE","$conflicts",146],")",";",["T_WHITESPACE","\n                    ",146],"}",["T_WHITESPACE"," ",147],["T_ELSE","else",147],["T_WHITESPACE"," ",147],"{",["T_WHITESPACE","\n                        ",147],["T_THROW","throw",148],["T_WHITESPACE"," ",148],["T_NEW","new",148],["T_WHITESPACE"," ",148],["T_STRING","Exception",148],"(","\"",["T_ENCAPSED_AND_WHITESPACE","Package ",148],["T_CURLY_OPEN","{",148],["T_VARIABLE","$pChan",148],"}",["T_ENCAPSED_AND_WHITESPACE","\/",148],["T_CURLY_OPEN","{",148],["T_VARIABLE","$pName",148],"}",["T_ENCAPSED_AND_WHITESPACE"," ",148],["T_CURLY_OPEN","{",148],["T_VARIABLE","$pVer",148],"}",["T_ENCAPSED_AND_WHITESPACE"," conflicts with: ",148],"\"",["T_WHITESPACE"," ",148],".",["T_WHITESPACE"," ",148],["T_VARIABLE","$conflicts",148],")",";",["T_WHITESPACE","\n                    ",148],"}",["T_WHITESPACE","\n                ",149],"}",["T_WHITESPACE","\n\n                ",150],["T_VARIABLE","$conflicts",152],["T_WHITESPACE"," ",152],"=",["T_WHITESPACE"," ",152],["T_VARIABLE","$package",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","checkPhpDependencies",152],"(",")",";",["T_WHITESPACE","\n                ",152],["T_IF","if",153],["T_WHITESPACE"," ",153],"(",["T_STRING","true",153],["T_WHITESPACE"," ",153],["T_IS_NOT_IDENTICAL","!==",153],["T_WHITESPACE"," ",153],["T_VARIABLE","$conflicts",153],")",["T_WHITESPACE"," ",153],"{",["T_WHITESPACE","\n                    ",153],["T_VARIABLE","$conflicts",154],["T_WHITESPACE"," ",154],"=",["T_WHITESPACE"," ",154],["T_STRING","implode",154],"(",["T_CONSTANT_ENCAPSED_STRING","\",\"",154],",",["T_VARIABLE","$conflicts",154],")",";",["T_WHITESPACE","\n                    ",154],["T_VARIABLE","$err",155],["T_WHITESPACE"," ",155],"=",["T_WHITESPACE"," ",155],"\"",["T_ENCAPSED_AND_WHITESPACE","Package ",155],["T_CURLY_OPEN","{",155],["T_VARIABLE","$pChan",155],"}",["T_ENCAPSED_AND_WHITESPACE","\/",155],["T_CURLY_OPEN","{",155],["T_VARIABLE","$pName",155],"}",["T_ENCAPSED_AND_WHITESPACE"," ",155],["T_CURLY_OPEN","{",155],["T_VARIABLE","$pVer",155],"}",["T_ENCAPSED_AND_WHITESPACE"," depends on PHP extensions: ",155],"\"",["T_WHITESPACE"," ",155],".",["T_WHITESPACE"," ",155],["T_VARIABLE","$conflicts",155],";",["T_WHITESPACE","\n                    ",155],["T_IF","if",156],["T_WHITESPACE"," ",156],"(",["T_VARIABLE","$forceMode",156],")",["T_WHITESPACE"," ",156],"{",["T_WHITESPACE","\n                        ",156],["T_VARIABLE","$this",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","doError",157],"(",["T_VARIABLE","$command",157],",",["T_WHITESPACE"," ",157],["T_VARIABLE","$err",157],")",";",["T_WHITESPACE","\n                    ",157],"}",["T_WHITESPACE"," ",158],["T_ELSE","else",158],["T_WHITESPACE"," ",158],"{",["T_WHITESPACE","\n                        ",158],["T_THROW","throw",159],["T_WHITESPACE"," ",159],["T_NEW","new",159],["T_WHITESPACE"," ",159],["T_STRING","Exception",159],"(",["T_VARIABLE","$err",159],")",";",["T_WHITESPACE","\n                    ",159],"}",["T_WHITESPACE","\n                ",160],"}",["T_WHITESPACE","\n\n                ",161],["T_VARIABLE","$conflicts",163],["T_WHITESPACE"," ",163],"=",["T_WHITESPACE"," ",163],["T_VARIABLE","$package",163],["T_OBJECT_OPERATOR","->",163],["T_STRING","checkPhpVersion",163],"(",")",";",["T_WHITESPACE","\n                ",163],["T_IF","if",164],["T_WHITESPACE"," ",164],"(",["T_STRING","true",164],["T_WHITESPACE"," ",164],["T_IS_NOT_IDENTICAL","!==",164],["T_WHITESPACE"," ",164],["T_VARIABLE","$conflicts",164],")",["T_WHITESPACE"," ",164],"{",["T_WHITESPACE","\n                    ",164],["T_VARIABLE","$err",165],["T_WHITESPACE"," ",165],"=",["T_WHITESPACE"," ",165],"\"",["T_ENCAPSED_AND_WHITESPACE","Package ",165],["T_CURLY_OPEN","{",165],["T_VARIABLE","$pChan",165],"}",["T_ENCAPSED_AND_WHITESPACE","\/",165],["T_CURLY_OPEN","{",165],["T_VARIABLE","$pName",165],"}",["T_ENCAPSED_AND_WHITESPACE"," ",165],["T_CURLY_OPEN","{",165],["T_VARIABLE","$pVer",165],"}",["T_ENCAPSED_AND_WHITESPACE",": ",165],"\"",["T_WHITESPACE"," ",165],".",["T_WHITESPACE"," ",165],["T_VARIABLE","$conflicts",165],";",["T_WHITESPACE","\n                    ",165],["T_IF","if",166],["T_WHITESPACE"," ",166],"(",["T_VARIABLE","$forceMode",166],")",["T_WHITESPACE"," ",166],"{",["T_WHITESPACE","\n                        ",166],["T_VARIABLE","$this",167],["T_OBJECT_OPERATOR","->",167],["T_STRING","doError",167],"(",["T_VARIABLE","$command",167],",",["T_WHITESPACE"," ",167],["T_VARIABLE","$err",167],")",";",["T_WHITESPACE","\n                    ",167],"}",["T_WHITESPACE"," ",168],["T_ELSE","else",168],["T_WHITESPACE"," ",168],"{",["T_WHITESPACE","\n                        ",168],["T_THROW","throw",169],["T_WHITESPACE"," ",169],["T_NEW","new",169],["T_WHITESPACE"," ",169],["T_STRING","Exception",169],"(",["T_VARIABLE","$err",169],")",";",["T_WHITESPACE","\n                    ",169],"}",["T_WHITESPACE","\n                ",170],"}",["T_WHITESPACE","\n\n                ",171],["T_IF","if",173],["T_WHITESPACE"," ",173],"(","!",["T_VARIABLE","$noFilesInstall",173],")",["T_WHITESPACE"," ",173],"{",["T_WHITESPACE","\n                    ",173],["T_IF","if",174],["T_WHITESPACE"," ",174],"(",["T_VARIABLE","$ftp",174],")",["T_WHITESPACE"," ",174],"{",["T_WHITESPACE","\n                        ",174],["T_VARIABLE","$packager",175],["T_OBJECT_OPERATOR","->",175],["T_STRING","processInstallPackageFtp",175],"(",["T_VARIABLE","$package",175],",",["T_WHITESPACE"," ",175],["T_VARIABLE","$filename",175],",",["T_WHITESPACE"," ",175],["T_VARIABLE","$config",175],",",["T_WHITESPACE"," ",175],["T_VARIABLE","$ftpObj",175],")",";",["T_WHITESPACE","\n                    ",175],"}",["T_WHITESPACE"," ",176],["T_ELSE","else",176],["T_WHITESPACE"," ",176],"{",["T_WHITESPACE","\n                        ",176],["T_VARIABLE","$packager",177],["T_OBJECT_OPERATOR","->",177],["T_STRING","processInstallPackage",177],"(",["T_VARIABLE","$package",177],",",["T_WHITESPACE"," ",177],["T_VARIABLE","$filename",177],",",["T_WHITESPACE"," ",177],["T_VARIABLE","$config",177],")",";",["T_WHITESPACE","\n                    ",177],"}",["T_WHITESPACE","\n                ",178],"}",["T_WHITESPACE","\n                ",179],["T_VARIABLE","$cache",180],["T_OBJECT_OPERATOR","->",180],["T_STRING","addPackage",180],"(",["T_VARIABLE","$package",180],")",";",["T_WHITESPACE","\n                ",180],["T_VARIABLE","$installedDeps",181],["T_WHITESPACE"," ",181],"=",["T_WHITESPACE"," ",181],["T_ARRAY","array",181],"(",")",";",["T_WHITESPACE","\n                ",181],["T_VARIABLE","$installedDepsAssoc",182],["T_WHITESPACE"," ",182],"=",["T_WHITESPACE"," ",182],["T_ARRAY","array",182],"(",")",";",["T_WHITESPACE","\n                ",182],["T_VARIABLE","$installedDepsAssoc",183],"[","]",["T_WHITESPACE"," ",183],"=",["T_WHITESPACE"," ",183],["T_ARRAY","array",183],"(",["T_CONSTANT_ENCAPSED_STRING","'channel'",183],["T_DOUBLE_ARROW","=>",183],["T_VARIABLE","$pChan",183],",",["T_WHITESPACE"," ",183],["T_CONSTANT_ENCAPSED_STRING","'name'",183],["T_DOUBLE_ARROW","=>",183],["T_VARIABLE","$pName",183],",",["T_WHITESPACE"," ",183],["T_CONSTANT_ENCAPSED_STRING","'version'",183],["T_DOUBLE_ARROW","=>",183],["T_VARIABLE","$pVer",183],")",";",["T_WHITESPACE","\n                ",183],["T_VARIABLE","$installedDeps",184],"[","]",["T_WHITESPACE"," ",184],"=",["T_WHITESPACE"," ",184],["T_ARRAY","array",184],"(",["T_VARIABLE","$pChan",184],",",["T_WHITESPACE"," ",184],["T_VARIABLE","$pName",184],",",["T_WHITESPACE"," ",184],["T_VARIABLE","$pVer",184],")",";",["T_WHITESPACE","\n\n                ",184],["T_VARIABLE","$title",186],["T_WHITESPACE"," ",186],"=",["T_WHITESPACE"," ",186],["T_ISSET","isset",186],"(",["T_VARIABLE","$options",186],"[",["T_CONSTANT_ENCAPSED_STRING","'title'",186],"]",")",["T_WHITESPACE"," ",186],"?",["T_WHITESPACE"," ",186],["T_VARIABLE","$options",186],"[",["T_CONSTANT_ENCAPSED_STRING","'title'",186],"]",["T_WHITESPACE"," ",186],":",["T_WHITESPACE"," ",186],["T_CONSTANT_ENCAPSED_STRING","\"Package installed: \"",186],";",["T_WHITESPACE","\n                ",186],["T_VARIABLE","$out",187],["T_WHITESPACE"," ",187],"=",["T_WHITESPACE"," ",187],["T_ARRAY","array",187],"(",["T_VARIABLE","$command",187],["T_WHITESPACE"," ",187],["T_DOUBLE_ARROW","=>",187],["T_WHITESPACE"," ",187],["T_ARRAY","array",187],"(",["T_CONSTANT_ENCAPSED_STRING","'data'",187],["T_DOUBLE_ARROW","=>",187],["T_VARIABLE","$installedDeps",187],",",["T_WHITESPACE"," ",187],["T_CONSTANT_ENCAPSED_STRING","'assoc'",187],["T_DOUBLE_ARROW","=>",187],["T_VARIABLE","$installedDepsAssoc",187],",",["T_WHITESPACE","  ",187],["T_CONSTANT_ENCAPSED_STRING","'title'",187],["T_DOUBLE_ARROW","=>",187],["T_VARIABLE","$title",187],")",")",";",["T_WHITESPACE","\n\n                ",187],["T_IF","if",189],["T_WHITESPACE"," ",189],"(",["T_VARIABLE","$ftp",189],")",["T_WHITESPACE"," ",189],"{",["T_WHITESPACE","\n                    ",189],["T_VARIABLE","$packager",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","writeToRemoteCache",190],"(",["T_VARIABLE","$cache",190],",",["T_WHITESPACE"," ",190],["T_VARIABLE","$ftpObj",190],")",";",["T_WHITESPACE","\n                    ",190],"@",["T_STRING","unlink",191],"(",["T_VARIABLE","$config",191],["T_OBJECT_OPERATOR","->",191],["T_STRING","getFilename",191],"(",")",")",";",["T_WHITESPACE","\n                ",191],"}",["T_WHITESPACE","\n\n                ",192],["T_VARIABLE","$this",194],["T_OBJECT_OPERATOR","->",194],["T_STRING","ui",194],"(",")",["T_OBJECT_OPERATOR","->",194],["T_STRING","output",194],"(",["T_VARIABLE","$out",194],")",";",["T_WHITESPACE","\n                ",194],["T_RETURN","return",195],["T_WHITESPACE"," ",195],["T_VARIABLE","$out",195],"[",["T_VARIABLE","$command",195],"]","[",["T_CONSTANT_ENCAPSED_STRING","'data'",195],"]",";",["T_WHITESPACE","\n            ",195],"}",["T_WHITESPACE","\n\n            ",196],["T_IF","if",198],["T_WHITESPACE"," ",198],"(","!",["T_VARIABLE","$upgradeAllMode",198],")",["T_WHITESPACE"," ",198],"{",["T_WHITESPACE","\n                ",198],["T_IF","if",199],["T_WHITESPACE"," ",199],"(",["T_STRING","count",199],"(",["T_VARIABLE","$params",199],")",["T_WHITESPACE"," ",199],"<",["T_WHITESPACE"," ",199],["T_LNUMBER","2",199],")",["T_WHITESPACE"," ",199],"{",["T_WHITESPACE","\n                    ",199],["T_THROW","throw",200],["T_WHITESPACE"," ",200],["T_NEW","new",200],["T_WHITESPACE"," ",200],["T_STRING","Exception",200],"(",["T_CONSTANT_ENCAPSED_STRING","\"Argument should be: channelName packageName\"",200],")",";",["T_WHITESPACE","\n                ",200],"}",["T_WHITESPACE","\n                ",201],["T_VARIABLE","$channel",202],["T_WHITESPACE"," ",202],"=",["T_WHITESPACE"," ",202],["T_VARIABLE","$params",202],"[",["T_LNUMBER","0",202],"]",";",["T_WHITESPACE","\n                ",202],["T_VARIABLE","$package",203],["T_WHITESPACE"," ",203],"=",["T_WHITESPACE"," ",203],["T_VARIABLE","$params",203],"[",["T_LNUMBER","1",203],"]",";",["T_WHITESPACE","\n                ",203],["T_VARIABLE","$argVersionMax",204],["T_WHITESPACE"," ",204],"=",["T_WHITESPACE"," ",204],["T_ISSET","isset",204],"(",["T_VARIABLE","$params",204],"[",["T_LNUMBER","2",204],"]",")",["T_WHITESPACE"," ",204],"?",["T_WHITESPACE"," ",204],["T_VARIABLE","$params",204],"[",["T_LNUMBER","2",204],"]",":",["T_WHITESPACE"," ",204],["T_STRING","false",204],";",["T_WHITESPACE","\n                ",204],["T_VARIABLE","$argVersionMin",205],["T_WHITESPACE"," ",205],"=",["T_WHITESPACE"," ",205],["T_ISSET","isset",205],"(",["T_VARIABLE","$params",205],"[",["T_LNUMBER","3",205],"]",")",["T_WHITESPACE"," ",205],"?",["T_WHITESPACE"," ",205],["T_VARIABLE","$params",205],"[",["T_LNUMBER","3",205],"]",":",["T_WHITESPACE"," ",205],["T_STRING","false",205],";",["T_WHITESPACE","\n\n                ",205],["T_VARIABLE","$cache",207],["T_OBJECT_OPERATOR","->",207],["T_STRING","checkChannel",207],"(",["T_VARIABLE","$channel",207],",",["T_WHITESPACE"," ",207],["T_VARIABLE","$config",207],",",["T_WHITESPACE"," ",207],["T_VARIABLE","$rest",207],")",";",["T_WHITESPACE","\n                ",207],["T_VARIABLE","$channelName",208],["T_WHITESPACE"," ",208],"=",["T_WHITESPACE"," ",208],["T_VARIABLE","$cache",208],["T_OBJECT_OPERATOR","->",208],["T_STRING","chanName",208],"(",["T_VARIABLE","$channel",208],")",";",["T_WHITESPACE","\n                ",208],["T_VARIABLE","$this",209],["T_OBJECT_OPERATOR","->",209],["T_STRING","ui",209],"(",")",["T_OBJECT_OPERATOR","->",209],["T_STRING","output",209],"(",["T_CONSTANT_ENCAPSED_STRING","\"Checking dependencies of packages\"",209],")",";",["T_WHITESPACE","\n                ",209],["T_VARIABLE","$packagesToInstall",210],["T_WHITESPACE"," ",210],"=",["T_WHITESPACE"," ",210],["T_VARIABLE","$packager",210],["T_OBJECT_OPERATOR","->",210],["T_STRING","getDependenciesList",210],"(",["T_VARIABLE","$channelName",210],",",["T_WHITESPACE"," ",210],["T_VARIABLE","$package",210],",",["T_WHITESPACE"," ",210],["T_VARIABLE","$cache",210],",",["T_WHITESPACE"," ",210],["T_VARIABLE","$config",210],",",["T_WHITESPACE","\n                    ",210],["T_VARIABLE","$argVersionMax",211],",",["T_WHITESPACE"," ",211],["T_VARIABLE","$argVersionMin",211],",",["T_WHITESPACE"," ",211],["T_VARIABLE","$withDepsMode",211],",",["T_WHITESPACE"," ",211],["T_STRING","false",211],",",["T_WHITESPACE"," ",211],["T_VARIABLE","$rest",211],["T_WHITESPACE","\n                ",211],")",";",["T_WHITESPACE","\n                ",212],["T_COMMENT","\/*\n                 * process 'failed' results\n                 *\/",213],["T_WHITESPACE","\n                ",215],["T_IF","if",216],["T_WHITESPACE"," ",216],"(",["T_STRING","count",216],"(",["T_VARIABLE","$packagesToInstall",216],"[",["T_CONSTANT_ENCAPSED_STRING","'failed'",216],"]",")",")",["T_WHITESPACE"," ",216],"{",["T_WHITESPACE","\n                    ",216],["T_VARIABLE","$showError",217],"=","!",["T_STRING","count",217],"(",["T_VARIABLE","$packagesToInstall",217],"[",["T_CONSTANT_ENCAPSED_STRING","'result'",217],"]",")",";",["T_WHITESPACE","\n                    ",217],["T_FOREACH","foreach",218],["T_WHITESPACE"," ",218],"(",["T_VARIABLE","$packagesToInstall",218],"[",["T_CONSTANT_ENCAPSED_STRING","'failed'",218],"]",["T_WHITESPACE"," ",218],["T_AS","as",218],["T_WHITESPACE"," ",218],["T_VARIABLE","$failed",218],")",["T_WHITESPACE"," ",218],"{",["T_WHITESPACE","\n                        ",218],["T_VARIABLE","$msg",219],"=","\"",["T_ENCAPSED_AND_WHITESPACE","Package ",219],["T_CURLY_OPEN","{",219],["T_VARIABLE","$failed",219],"[",["T_CONSTANT_ENCAPSED_STRING","'channel'",219],"]","}",["T_ENCAPSED_AND_WHITESPACE","\/",219],["T_CURLY_OPEN","{",219],["T_VARIABLE","$failed",219],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",219],"]","}",["T_ENCAPSED_AND_WHITESPACE"," failed: ",219],"\"",["T_WHITESPACE"," ",219],".",["T_WHITESPACE"," ",219],["T_VARIABLE","$failed",219],"[",["T_CONSTANT_ENCAPSED_STRING","'reason'",219],"]",";",["T_WHITESPACE","\n                        ",219],["T_IF","if",220],["T_WHITESPACE"," ",220],"(",["T_VARIABLE","$showError",220],")",["T_WHITESPACE"," ",220],"{",["T_WHITESPACE","\n                            ",220],["T_VARIABLE","$this",221],["T_OBJECT_OPERATOR","->",221],["T_STRING","doError",221],"(",["T_VARIABLE","$command",221],",",["T_WHITESPACE"," ",221],["T_VARIABLE","$msg",221],")",";",["T_WHITESPACE","\n                        ",221],"}",["T_WHITESPACE"," ",222],["T_ELSE","else",222],["T_WHITESPACE"," ",222],"{",["T_WHITESPACE","\n                            ",222],["T_VARIABLE","$this",223],["T_OBJECT_OPERATOR","->",223],["T_STRING","ui",223],"(",")",["T_OBJECT_OPERATOR","->",223],["T_STRING","output",223],"(",["T_VARIABLE","$msg",223],")",";",["T_WHITESPACE","\n                        ",223],"}",["T_WHITESPACE","\n                    ",224],"}",["T_WHITESPACE","\n                ",225],"}",["T_WHITESPACE","\n                ",226],["T_VARIABLE","$packagesToInstall",227],["T_WHITESPACE"," ",227],"=",["T_WHITESPACE"," ",227],["T_VARIABLE","$packagesToInstall",227],"[",["T_CONSTANT_ENCAPSED_STRING","'result'",227],"]",";",["T_WHITESPACE","\n            ",227],"}",["T_WHITESPACE"," ",228],["T_ELSE","else",228],["T_WHITESPACE"," ",228],"{",["T_WHITESPACE","\n                ",228],["T_IF","if",229],["T_WHITESPACE"," ",229],"(",["T_EMPTY","empty",229],"(",["T_VARIABLE","$params",229],"[",["T_LNUMBER","0",229],"]",")",")",["T_WHITESPACE"," ",229],"{",["T_WHITESPACE","\n                    ",229],["T_VARIABLE","$channels",230],["T_WHITESPACE"," ",230],"=",["T_WHITESPACE"," ",230],["T_VARIABLE","$cache",230],["T_OBJECT_OPERATOR","->",230],["T_STRING","getChannelNames",230],"(",")",";",["T_WHITESPACE","\n                ",230],"}",["T_WHITESPACE"," ",231],["T_ELSE","else",231],["T_WHITESPACE"," ",231],"{",["T_WHITESPACE","\n                    ",231],["T_VARIABLE","$channel",232],["T_WHITESPACE"," ",232],"=",["T_WHITESPACE"," ",232],["T_VARIABLE","$params",232],"[",["T_LNUMBER","0",232],"]",";",["T_WHITESPACE","\n                    ",232],["T_IF","if",233],["T_WHITESPACE"," ",233],"(","!",["T_VARIABLE","$cache",233],["T_OBJECT_OPERATOR","->",233],["T_STRING","isChannel",233],"(",["T_VARIABLE","$channel",233],")",")",["T_WHITESPACE"," ",233],"{",["T_WHITESPACE","\n                        ",233],["T_THROW","throw",234],["T_WHITESPACE"," ",234],["T_NEW","new",234],["T_WHITESPACE"," ",234],["T_STRING","Exception",234],"(","\"",["T_ENCAPSED_AND_WHITESPACE","'",234],["T_CURLY_OPEN","{",234],["T_VARIABLE","$channel",234],"}",["T_ENCAPSED_AND_WHITESPACE","' is not existant channel name \/ valid uri",234],"\"",")",";",["T_WHITESPACE","\n                    ",234],"}",["T_WHITESPACE","\n                    ",235],["T_VARIABLE","$channels",236],["T_WHITESPACE"," ",236],"=",["T_WHITESPACE"," ",236],["T_VARIABLE","$cache",236],["T_OBJECT_OPERATOR","->",236],["T_STRING","chanName",236],"(",["T_VARIABLE","$channel",236],")",";",["T_WHITESPACE","\n                ",236],"}",["T_WHITESPACE","\n                ",237],["T_VARIABLE","$packagesToInstall",238],["T_WHITESPACE"," ",238],"=",["T_WHITESPACE"," ",238],["T_ARRAY","array",238],"(",")",";",["T_WHITESPACE","\n                ",238],["T_VARIABLE","$neededToUpgrade",239],["T_WHITESPACE"," ",239],"=",["T_WHITESPACE"," ",239],["T_VARIABLE","$packager",239],["T_OBJECT_OPERATOR","->",239],["T_STRING","getUpgradesList",239],"(",["T_VARIABLE","$channels",239],",",["T_WHITESPACE"," ",239],["T_VARIABLE","$cache",239],",",["T_WHITESPACE"," ",239],["T_VARIABLE","$config",239],",",["T_WHITESPACE"," ",239],["T_VARIABLE","$rest",239],")",";",["T_WHITESPACE","\n                ",239],["T_FOREACH","foreach",240],["T_WHITESPACE"," ",240],"(",["T_VARIABLE","$neededToUpgrade",240],["T_WHITESPACE"," ",240],["T_AS","as",240],["T_WHITESPACE"," ",240],["T_VARIABLE","$chan",240],["T_DOUBLE_ARROW","=>",240],["T_VARIABLE","$packages",240],")",["T_WHITESPACE"," ",240],"{",["T_WHITESPACE","\n                    ",240],["T_FOREACH","foreach",241],["T_WHITESPACE"," ",241],"(",["T_VARIABLE","$packages",241],["T_WHITESPACE"," ",241],["T_AS","as",241],["T_WHITESPACE"," ",241],["T_VARIABLE","$name",241],["T_DOUBLE_ARROW","=>",241],["T_VARIABLE","$data",241],")",["T_WHITESPACE"," ",241],"{",["T_WHITESPACE","\n                        ",241],["T_VARIABLE","$versionTo",242],["T_WHITESPACE"," ",242],"=",["T_WHITESPACE"," ",242],["T_VARIABLE","$data",242],"[",["T_CONSTANT_ENCAPSED_STRING","'to'",242],"]",";",["T_WHITESPACE","\n                        ",242],["T_VARIABLE","$tmp",243],["T_WHITESPACE"," ",243],"=",["T_WHITESPACE"," ",243],["T_VARIABLE","$packager",243],["T_OBJECT_OPERATOR","->",243],["T_STRING","getDependenciesList",243],"(",["T_VARIABLE","$chan",243],",",["T_WHITESPACE"," ",243],["T_VARIABLE","$name",243],",",["T_WHITESPACE"," ",243],["T_VARIABLE","$cache",243],",",["T_WHITESPACE"," ",243],["T_VARIABLE","$config",243],",",["T_WHITESPACE"," ",243],["T_VARIABLE","$versionTo",243],",",["T_WHITESPACE"," ",243],["T_VARIABLE","$versionTo",243],",",["T_WHITESPACE","\n                            ",243],["T_VARIABLE","$withDepsMode",244],",",["T_WHITESPACE"," ",244],["T_STRING","false",244],",",["T_WHITESPACE"," ",244],["T_VARIABLE","$rest",244],["T_WHITESPACE","\n                        ",244],")",";",["T_WHITESPACE","\n                        ",245],["T_IF","if",246],["T_WHITESPACE"," ",246],"(",["T_STRING","count",246],"(",["T_VARIABLE","$tmp",246],"[",["T_CONSTANT_ENCAPSED_STRING","'result'",246],"]",")",")",["T_WHITESPACE"," ",246],"{",["T_WHITESPACE","\n                            ",246],["T_VARIABLE","$packagesToInstall",247],["T_WHITESPACE"," ",247],"=",["T_WHITESPACE"," ",247],["T_STRING","array_merge",247],"(",["T_VARIABLE","$packagesToInstall",247],",",["T_WHITESPACE"," ",247],["T_VARIABLE","$tmp",247],"[",["T_CONSTANT_ENCAPSED_STRING","'result'",247],"]",")",";",["T_WHITESPACE","\n                        ",247],"}",["T_WHITESPACE","\n                    ",248],"}",["T_WHITESPACE","\n                ",249],"}",["T_WHITESPACE","\n            ",250],"}",["T_WHITESPACE","\n\n            ",251],["T_DOC_COMMENT","\/**\n             * Make installation\n             *\/",253],["T_WHITESPACE","\n            ",255],["T_VARIABLE","$installedDeps",256],["T_WHITESPACE"," ",256],"=",["T_WHITESPACE"," ",256],["T_ARRAY","array",256],"(",")",";",["T_WHITESPACE","\n            ",256],["T_VARIABLE","$installedDepsAssoc",257],["T_WHITESPACE"," ",257],"=",["T_WHITESPACE"," ",257],["T_ARRAY","array",257],"(",")",";",["T_WHITESPACE","\n\n            ",257],["T_FOREACH","foreach",259],["T_WHITESPACE"," ",259],"(",["T_VARIABLE","$packagesToInstall",259],["T_WHITESPACE"," ",259],["T_AS","as",259],["T_WHITESPACE"," ",259],["T_VARIABLE","$package",259],")",["T_WHITESPACE"," ",259],"{",["T_WHITESPACE","\n                ",259],["T_TRY","try",260],["T_WHITESPACE"," ",260],"{",["T_WHITESPACE","\n                    ",260],["T_VARIABLE","$pName",261],["T_WHITESPACE"," ",261],"=",["T_WHITESPACE"," ",261],["T_VARIABLE","$package",261],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",261],"]",";",["T_WHITESPACE","\n                    ",261],["T_VARIABLE","$pChan",262],["T_WHITESPACE"," ",262],"=",["T_WHITESPACE"," ",262],["T_VARIABLE","$package",262],"[",["T_CONSTANT_ENCAPSED_STRING","'channel'",262],"]",";",["T_WHITESPACE","\n                    ",262],["T_VARIABLE","$pVer",263],["T_WHITESPACE"," ",263],"=",["T_WHITESPACE"," ",263],["T_VARIABLE","$package",263],"[",["T_CONSTANT_ENCAPSED_STRING","'downloaded_version'",263],"]",";",["T_WHITESPACE","\n                    ",263],["T_VARIABLE","$pInstallState",264],["T_WHITESPACE"," ",264],"=",["T_WHITESPACE"," ",264],["T_VARIABLE","$package",264],"[",["T_CONSTANT_ENCAPSED_STRING","'install_state'",264],"]",";",["T_WHITESPACE","\n                    ",264],["T_VARIABLE","$rest",265],["T_OBJECT_OPERATOR","->",265],["T_STRING","setChannel",265],"(",["T_VARIABLE","$cache",265],["T_OBJECT_OPERATOR","->",265],["T_STRING","chanUrl",265],"(",["T_VARIABLE","$pChan",265],")",")",";",["T_WHITESPACE","\n\n                    ",265],["T_DOC_COMMENT","\/**\n                     * Skip existing packages\n                     *\/",267],["T_WHITESPACE","\n                    ",269],["T_IF","if",270],["T_WHITESPACE"," ",270],"(",["T_VARIABLE","$upgradeMode",270],["T_WHITESPACE"," ",270],["T_BOOLEAN_AND","&&",270],["T_WHITESPACE"," ",270],["T_VARIABLE","$cache",270],["T_OBJECT_OPERATOR","->",270],["T_STRING","hasPackage",270],"(",["T_VARIABLE","$pChan",270],",",["T_WHITESPACE"," ",270],["T_VARIABLE","$pName",270],",",["T_WHITESPACE"," ",270],["T_VARIABLE","$pVer",270],",",["T_WHITESPACE"," ",270],["T_VARIABLE","$pVer",270],")",["T_WHITESPACE","\n                        ",270],["T_BOOLEAN_OR","||",271],["T_WHITESPACE"," ",271],"(",["T_CONSTANT_ENCAPSED_STRING","'already_installed'",271],["T_WHITESPACE"," ",271],["T_IS_EQUAL","==",271],["T_WHITESPACE"," ",271],["T_VARIABLE","$pInstallState",271],["T_WHITESPACE"," ",271],["T_BOOLEAN_AND","&&",271],["T_WHITESPACE"," ",271],"!",["T_VARIABLE","$forceMode",271],")",["T_WHITESPACE","\n                    ",271],")",["T_WHITESPACE"," ",272],"{",["T_WHITESPACE","\n                        ",272],["T_VARIABLE","$this",273],["T_OBJECT_OPERATOR","->",273],["T_STRING","ui",273],"(",")",["T_OBJECT_OPERATOR","->",273],["T_STRING","output",273],"(","\"",["T_ENCAPSED_AND_WHITESPACE","Already installed: ",273],["T_CURLY_OPEN","{",273],["T_VARIABLE","$pChan",273],"}",["T_ENCAPSED_AND_WHITESPACE","\/",273],["T_CURLY_OPEN","{",273],["T_VARIABLE","$pName",273],"}",["T_ENCAPSED_AND_WHITESPACE"," ",273],["T_CURLY_OPEN","{",273],["T_VARIABLE","$pVer",273],"}",["T_ENCAPSED_AND_WHITESPACE",", skipping",273],"\"",")",";",["T_WHITESPACE","\n                        ",273],["T_CONTINUE","continue",274],";",["T_WHITESPACE","\n                    ",274],"}",["T_WHITESPACE","\n\n                    ",275],["T_IF","if",277],["T_WHITESPACE"," ",277],"(",["T_CONSTANT_ENCAPSED_STRING","'incompartible'",277],["T_WHITESPACE"," ",277],["T_IS_EQUAL","==",277],["T_WHITESPACE"," ",277],["T_VARIABLE","$pInstallState",277],")",["T_WHITESPACE"," ",277],"{",["T_WHITESPACE","\n                        ",277],["T_VARIABLE","$this",278],["T_OBJECT_OPERATOR","->",278],["T_STRING","ui",278],"(",")",["T_OBJECT_OPERATOR","->",278],["T_STRING","output",278],"(",["T_WHITESPACE","\n                            ",278],"\"",["T_ENCAPSED_AND_WHITESPACE","Package incompartible with installed Magento: ",279],["T_CURLY_OPEN","{",279],["T_VARIABLE","$pChan",279],"}",["T_ENCAPSED_AND_WHITESPACE","\/",279],["T_CURLY_OPEN","{",279],["T_VARIABLE","$pName",279],"}",["T_ENCAPSED_AND_WHITESPACE"," ",279],["T_CURLY_OPEN","{",279],["T_VARIABLE","$pVer",279],"}",["T_ENCAPSED_AND_WHITESPACE",", skipping",279],"\"",["T_WHITESPACE","\n                        ",279],")",";",["T_WHITESPACE","\n                        ",280],["T_CONTINUE","continue",281],";",["T_WHITESPACE","\n                    ",281],"}",["T_WHITESPACE","\n\n                    ",282],["T_VARIABLE","$conflicts",284],["T_WHITESPACE"," ",284],"=",["T_WHITESPACE"," ",284],["T_VARIABLE","$cache",284],["T_OBJECT_OPERATOR","->",284],["T_STRING","hasConflicts",284],"(",["T_VARIABLE","$pChan",284],",",["T_WHITESPACE"," ",284],["T_VARIABLE","$pName",284],",",["T_WHITESPACE"," ",284],["T_VARIABLE","$pVer",284],")",";",["T_WHITESPACE","\n\n                    ",284],["T_IF","if",286],["T_WHITESPACE"," ",286],"(",["T_STRING","false",286],["T_WHITESPACE"," ",286],["T_IS_NOT_IDENTICAL","!==",286],["T_WHITESPACE"," ",286],["T_VARIABLE","$conflicts",286],")",["T_WHITESPACE"," ",286],"{",["T_WHITESPACE","\n                        ",286],["T_VARIABLE","$conflicts",287],["T_WHITESPACE"," ",287],"=",["T_WHITESPACE"," ",287],["T_STRING","implode",287],"(",["T_CONSTANT_ENCAPSED_STRING","\", \"",287],",",["T_VARIABLE","$conflicts",287],")",";",["T_WHITESPACE","\n                        ",287],["T_IF","if",288],["T_WHITESPACE"," ",288],"(",["T_VARIABLE","$forceMode",288],")",["T_WHITESPACE"," ",288],"{",["T_WHITESPACE","\n                            ",288],["T_VARIABLE","$this",289],["T_OBJECT_OPERATOR","->",289],["T_STRING","doError",289],"(",["T_VARIABLE","$command",289],",",["T_WHITESPACE"," ",289],"\"",["T_ENCAPSED_AND_WHITESPACE","Package ",289],["T_CURLY_OPEN","{",289],["T_VARIABLE","$pChan",289],"}",["T_ENCAPSED_AND_WHITESPACE","\/",289],["T_CURLY_OPEN","{",289],["T_VARIABLE","$pName",289],"}",["T_ENCAPSED_AND_WHITESPACE"," ",289],["T_CURLY_OPEN","{",289],["T_VARIABLE","$pVer",289],"}",["T_ENCAPSED_AND_WHITESPACE"," conflicts with: ",289],"\"",["T_WHITESPACE"," ",289],".",["T_WHITESPACE"," ",289],["T_VARIABLE","$conflicts",289],")",";",["T_WHITESPACE","\n                        ",289],"}",["T_WHITESPACE"," ",290],["T_ELSE","else",290],["T_WHITESPACE"," ",290],"{",["T_WHITESPACE","\n                            ",290],["T_THROW","throw",291],["T_WHITESPACE"," ",291],["T_NEW","new",291],["T_WHITESPACE"," ",291],["T_STRING","Exception",291],"(","\"",["T_ENCAPSED_AND_WHITESPACE","Package ",291],["T_CURLY_OPEN","{",291],["T_VARIABLE","$pChan",291],"}",["T_ENCAPSED_AND_WHITESPACE","\/",291],["T_CURLY_OPEN","{",291],["T_VARIABLE","$pName",291],"}",["T_ENCAPSED_AND_WHITESPACE"," ",291],["T_CURLY_OPEN","{",291],["T_VARIABLE","$pVer",291],"}",["T_ENCAPSED_AND_WHITESPACE"," conflicts with: ",291],"\"",["T_WHITESPACE"," ",291],".",["T_WHITESPACE"," ",291],["T_VARIABLE","$conflicts",291],")",";",["T_WHITESPACE","\n                        ",291],"}",["T_WHITESPACE","\n                    ",292],"}",["T_WHITESPACE","\n\n                    ",293],["T_DOC_COMMENT","\/**\n                     * Modifications\n                     *\/",295],["T_WHITESPACE","\n                    ",297],["T_IF","if",298],["T_WHITESPACE"," ",298],"(","(",["T_VARIABLE","$upgradeMode",298],["T_WHITESPACE"," ",298],["T_BOOLEAN_OR","||",298],["T_WHITESPACE"," ",298],"(",["T_VARIABLE","$pInstallState",298],["T_WHITESPACE"," ",298],["T_IS_EQUAL","==",298],["T_WHITESPACE"," ",298],["T_CONSTANT_ENCAPSED_STRING","'upgrade'",298],")",")",["T_WHITESPACE"," ",298],["T_BOOLEAN_AND","&&",298],["T_WHITESPACE"," ",298],"!",["T_VARIABLE","$ignoreModifiedMode",298],")",["T_WHITESPACE"," ",298],"{",["T_WHITESPACE","\n                        ",298],["T_IF","if",299],["T_WHITESPACE"," ",299],"(",["T_VARIABLE","$ftp",299],")",["T_WHITESPACE"," ",299],"{",["T_WHITESPACE","\n                            ",299],["T_VARIABLE","$modifications",300],["T_WHITESPACE"," ",300],"=",["T_WHITESPACE"," ",300],["T_VARIABLE","$packager",300],["T_OBJECT_OPERATOR","->",300],["T_STRING","getRemoteModifiedFiles",300],"(",["T_VARIABLE","$pChan",300],",",["T_WHITESPACE"," ",300],["T_VARIABLE","$pName",300],",",["T_WHITESPACE"," ",300],["T_VARIABLE","$cache",300],",",["T_WHITESPACE"," ",300],["T_VARIABLE","$config",300],",",["T_WHITESPACE"," ",300],["T_VARIABLE","$ftp",300],")",";",["T_WHITESPACE","\n                        ",300],"}",["T_WHITESPACE"," ",301],["T_ELSE","else",301],["T_WHITESPACE"," ",301],"{",["T_WHITESPACE","\n                            ",301],["T_VARIABLE","$modifications",302],["T_WHITESPACE"," ",302],"=",["T_WHITESPACE"," ",302],["T_VARIABLE","$packager",302],["T_OBJECT_OPERATOR","->",302],["T_STRING","getLocalModifiedFiles",302],"(",["T_VARIABLE","$pChan",302],",",["T_WHITESPACE"," ",302],["T_VARIABLE","$pName",302],",",["T_WHITESPACE"," ",302],["T_VARIABLE","$cache",302],",",["T_WHITESPACE"," ",302],["T_VARIABLE","$config",302],")",";",["T_WHITESPACE","\n                        ",302],"}",["T_WHITESPACE","\n                        ",303],["T_IF","if",304],["T_WHITESPACE"," ",304],"(",["T_STRING","count",304],"(",["T_VARIABLE","$modifications",304],")",["T_WHITESPACE"," ",304],">",["T_WHITESPACE"," ",304],["T_LNUMBER","0",304],")",["T_WHITESPACE"," ",304],"{",["T_WHITESPACE","\n                            ",304],["T_VARIABLE","$this",305],["T_OBJECT_OPERATOR","->",305],["T_STRING","ui",305],"(",")",["T_OBJECT_OPERATOR","->",305],["T_STRING","output",305],"(",["T_CONSTANT_ENCAPSED_STRING","'Changed locally: '",305],")",";",["T_WHITESPACE","\n                            ",305],["T_FOREACH","foreach",306],["T_WHITESPACE"," ",306],"(",["T_VARIABLE","$modifications",306],["T_WHITESPACE"," ",306],["T_AS","as",306],["T_WHITESPACE"," ",306],["T_VARIABLE","$row",306],")",["T_WHITESPACE"," ",306],"{",["T_WHITESPACE","\n                                ",306],["T_IF","if",307],["T_WHITESPACE"," ",307],"(","!",["T_VARIABLE","$ftp",307],")",["T_WHITESPACE"," ",307],"{",["T_WHITESPACE","\n                                    ",307],["T_VARIABLE","$this",308],["T_OBJECT_OPERATOR","->",308],["T_STRING","ui",308],"(",")",["T_OBJECT_OPERATOR","->",308],["T_STRING","output",308],"(",["T_VARIABLE","$config",308],["T_OBJECT_OPERATOR","->",308],["T_STRING","magento_root",308],["T_WHITESPACE"," ",308],".",["T_WHITESPACE"," ",308],["T_STRING","DS",308],["T_WHITESPACE"," ",308],".",["T_WHITESPACE"," ",308],["T_VARIABLE","$row",308],")",";",["T_WHITESPACE","\n                                ",308],"}",["T_WHITESPACE"," ",309],["T_ELSE","else",309],["T_WHITESPACE"," ",309],"{",["T_WHITESPACE","\n                                    ",309],["T_VARIABLE","$this",310],["T_OBJECT_OPERATOR","->",310],["T_STRING","ui",310],"(",")",["T_OBJECT_OPERATOR","->",310],["T_STRING","output",310],"(",["T_VARIABLE","$row",310],")",";",["T_WHITESPACE","\n                                ",310],"}",["T_WHITESPACE","\n                            ",311],"}",["T_WHITESPACE","\n                        ",312],"}",["T_WHITESPACE","\n                    ",313],"}",["T_WHITESPACE","\n\n                    ",314],["T_IF","if",316],["T_WHITESPACE"," ",316],"(",["T_VARIABLE","$ftp",316],")",["T_WHITESPACE"," ",316],"{",["T_WHITESPACE","\n                        ",316],["T_VARIABLE","$cwd",317],"=",["T_VARIABLE","$ftpObj",317],["T_OBJECT_OPERATOR","->",317],["T_STRING","getcwd",317],"(",")",";",["T_WHITESPACE","\n                        ",317],["T_VARIABLE","$dir",318],"=",["T_VARIABLE","$cwd",318],["T_WHITESPACE"," ",318],".",["T_WHITESPACE"," ",318],["T_STRING","DIRECTORY_SEPARATOR",318],["T_WHITESPACE"," ",318],".",["T_VARIABLE","$config",318],["T_OBJECT_OPERATOR","->",318],["T_STRING","downloader_path",318],["T_WHITESPACE"," ",318],".",["T_WHITESPACE"," ",318],["T_STRING","DIRECTORY_SEPARATOR",318],["T_WHITESPACE","\n                            ",318],".",["T_WHITESPACE"," ",319],["T_STRING","Mage_Connect_Config",319],["T_DOUBLE_COLON","::",319],["T_STRING","DEFAULT_CACHE_PATH",319],["T_WHITESPACE"," ",319],".",["T_WHITESPACE"," ",319],["T_STRING","DIRECTORY_SEPARATOR",319],["T_WHITESPACE"," ",319],".",["T_WHITESPACE"," ",319],["T_STRING","trim",319],"(",["T_WHITESPACE"," ",319],["T_VARIABLE","$pChan",319],",",["T_WHITESPACE"," ",319],["T_CONSTANT_ENCAPSED_STRING","\"\\\\\/\"",319],")",";",["T_WHITESPACE","\n                        ",319],["T_VARIABLE","$ftpObj",320],["T_OBJECT_OPERATOR","->",320],["T_STRING","mkdirRecursive",320],"(",["T_VARIABLE","$dir",320],",",["T_LNUMBER","0777",320],")",";",["T_WHITESPACE","\n                        ",320],["T_VARIABLE","$ftpObj",321],["T_OBJECT_OPERATOR","->",321],["T_STRING","chdir",321],"(",["T_VARIABLE","$cwd",321],")",";",["T_WHITESPACE","\n                    ",321],"}",["T_WHITESPACE"," ",322],["T_ELSE","else",322],["T_WHITESPACE"," ",322],"{",["T_WHITESPACE","\n                        ",322],["T_VARIABLE","$dir",323],["T_WHITESPACE"," ",323],"=",["T_WHITESPACE"," ",323],["T_VARIABLE","$config",323],["T_OBJECT_OPERATOR","->",323],["T_STRING","getChannelCacheDir",323],"(",["T_VARIABLE","$pChan",323],")",";",["T_WHITESPACE","\n                        ",323],"@",["T_STRING","mkdir",324],"(",["T_VARIABLE","$dir",324],",",["T_WHITESPACE"," ",324],["T_LNUMBER","0777",324],",",["T_WHITESPACE"," ",324],["T_STRING","true",324],")",";",["T_WHITESPACE","\n                    ",324],"}",["T_WHITESPACE","\n                    ",325],["T_VARIABLE","$dir",326],["T_WHITESPACE"," ",326],"=",["T_WHITESPACE"," ",326],["T_VARIABLE","$config",326],["T_OBJECT_OPERATOR","->",326],["T_STRING","getChannelCacheDir",326],"(",["T_VARIABLE","$pChan",326],")",";",["T_WHITESPACE","\n                    ",326],["T_VARIABLE","$packageFileName",327],["T_WHITESPACE"," ",327],"=",["T_WHITESPACE"," ",327],["T_VARIABLE","$pName",327],["T_WHITESPACE"," ",327],".",["T_WHITESPACE"," ",327],["T_CONSTANT_ENCAPSED_STRING","\"-\"",327],["T_WHITESPACE"," ",327],".",["T_WHITESPACE"," ",327],["T_VARIABLE","$pVer",327],["T_WHITESPACE"," ",327],".",["T_WHITESPACE"," ",327],["T_CONSTANT_ENCAPSED_STRING","\".tgz\"",327],";",["T_WHITESPACE","\n                    ",327],["T_VARIABLE","$file",328],["T_WHITESPACE"," ",328],"=",["T_WHITESPACE"," ",328],["T_VARIABLE","$dir",328],["T_WHITESPACE"," ",328],".",["T_WHITESPACE"," ",328],["T_STRING","DIRECTORY_SEPARATOR",328],["T_WHITESPACE"," ",328],".",["T_WHITESPACE"," ",328],["T_VARIABLE","$packageFileName",328],";",["T_WHITESPACE","\n                    ",328],["T_IF","if",329],["T_WHITESPACE"," ",329],"(","!","@",["T_STRING","file_exists",329],"(",["T_VARIABLE","$file",329],")",")",["T_WHITESPACE"," ",329],"{",["T_WHITESPACE","\n                        ",329],["T_VARIABLE","$this",330],["T_OBJECT_OPERATOR","->",330],["T_STRING","ui",330],"(",")",["T_OBJECT_OPERATOR","->",330],["T_STRING","output",330],"(","\"",["T_ENCAPSED_AND_WHITESPACE","Starting to download ",330],["T_VARIABLE","$packageFileName",330],["T_ENCAPSED_AND_WHITESPACE"," ...",330],"\"",")",";",["T_WHITESPACE","\n                        ",330],["T_VARIABLE","$rest",331],["T_OBJECT_OPERATOR","->",331],["T_STRING","downloadPackageFileOfRelease",331],"(",["T_VARIABLE","$pName",331],",",["T_WHITESPACE"," ",331],["T_VARIABLE","$pVer",331],",",["T_WHITESPACE"," ",331],["T_VARIABLE","$file",331],")",";",["T_WHITESPACE","\n                        ",331],["T_VARIABLE","$this",332],["T_OBJECT_OPERATOR","->",332],["T_STRING","ui",332],"(",")",["T_OBJECT_OPERATOR","->",332],["T_STRING","output",332],"(",["T_STRING","sprintf",332],"(",["T_CONSTANT_ENCAPSED_STRING","\"...done: %s bytes\"",332],",",["T_WHITESPACE"," ",332],["T_STRING","number_format",332],"(",["T_STRING","filesize",332],"(",["T_VARIABLE","$file",332],")",")",")",")",";",["T_WHITESPACE","\n                    ",332],"}",["T_WHITESPACE","\n\n                    ",333],["T_DOC_COMMENT","\/**\n                     * Remove old version package before install new\n                     *\/",335],["T_WHITESPACE","\n                    ",337],["T_IF","if",338],["T_WHITESPACE"," ",338],"(",["T_VARIABLE","$cache",338],["T_OBJECT_OPERATOR","->",338],["T_STRING","hasPackage",338],"(",["T_VARIABLE","$pChan",338],",",["T_WHITESPACE"," ",338],["T_VARIABLE","$pName",338],")",")",["T_WHITESPACE"," ",338],"{",["T_WHITESPACE","\n                        ",338],["T_IF","if",339],["T_WHITESPACE"," ",339],"(",["T_VARIABLE","$ftp",339],")",["T_WHITESPACE"," ",339],"{",["T_WHITESPACE","\n                            ",339],["T_VARIABLE","$packager",340],["T_OBJECT_OPERATOR","->",340],["T_STRING","processUninstallPackageFtp",340],"(",["T_VARIABLE","$pChan",340],",",["T_WHITESPACE"," ",340],["T_VARIABLE","$pName",340],",",["T_WHITESPACE"," ",340],["T_VARIABLE","$cache",340],",",["T_WHITESPACE"," ",340],["T_VARIABLE","$ftpObj",340],")",";",["T_WHITESPACE","\n                        ",340],"}",["T_WHITESPACE"," ",341],["T_ELSE","else",341],["T_WHITESPACE"," ",341],"{",["T_WHITESPACE","\n                            ",341],["T_VARIABLE","$packager",342],["T_OBJECT_OPERATOR","->",342],["T_STRING","processUninstallPackage",342],"(",["T_VARIABLE","$pChan",342],",",["T_WHITESPACE"," ",342],["T_VARIABLE","$pName",342],",",["T_WHITESPACE"," ",342],["T_VARIABLE","$cache",342],",",["T_WHITESPACE"," ",342],["T_VARIABLE","$config",342],")",";",["T_WHITESPACE","\n                        ",342],"}",["T_WHITESPACE","\n                        ",343],["T_VARIABLE","$cache",344],["T_OBJECT_OPERATOR","->",344],["T_STRING","deletePackage",344],"(",["T_VARIABLE","$pChan",344],",",["T_WHITESPACE"," ",344],["T_VARIABLE","$pName",344],")",";",["T_WHITESPACE","\n                    ",344],"}",["T_WHITESPACE","\n\n                    ",345],["T_VARIABLE","$package",347],["T_WHITESPACE"," ",347],"=",["T_WHITESPACE"," ",347],["T_NEW","new",347],["T_WHITESPACE"," ",347],["T_STRING","Mage_Connect_Package",347],"(",["T_VARIABLE","$file",347],")",";",["T_WHITESPACE","\n                    ",347],["T_IF","if",348],["T_WHITESPACE"," ",348],"(",["T_VARIABLE","$clearInstallMode",348],["T_WHITESPACE"," ",348],["T_BOOLEAN_AND","&&",348],["T_WHITESPACE"," ",348],["T_VARIABLE","$pInstallState",348],["T_WHITESPACE"," ",348],["T_IS_NOT_EQUAL","!=",348],["T_WHITESPACE"," ",348],["T_CONSTANT_ENCAPSED_STRING","'upgrade'",348],["T_WHITESPACE"," ",348],["T_BOOLEAN_AND","&&",348],["T_WHITESPACE"," ",348],"!",["T_VARIABLE","$installAll",348],")",["T_WHITESPACE"," ",348],"{",["T_WHITESPACE","\n                        ",348],["T_VARIABLE","$contents",349],["T_WHITESPACE"," ",349],"=",["T_WHITESPACE"," ",349],["T_VARIABLE","$package",349],["T_OBJECT_OPERATOR","->",349],["T_STRING","getContents",349],"(",")",";",["T_WHITESPACE","\n                        ",349],["T_VARIABLE","$this",350],["T_OBJECT_OPERATOR","->",350],["T_STRING","backup",350],"(",")",["T_OBJECT_OPERATOR","->",350],["T_STRING","setFileTypes",350],"(",["T_ARRAY","array",350],"(",["T_CONSTANT_ENCAPSED_STRING","'csv'",350],",",["T_WHITESPACE"," ",350],["T_CONSTANT_ENCAPSED_STRING","'html'",350],")",")",";",["T_WHITESPACE","\n                        ",350],["T_VARIABLE","$typesToBackup",351],["T_WHITESPACE"," ",351],"=",["T_WHITESPACE"," ",351],["T_VARIABLE","$this",351],["T_OBJECT_OPERATOR","->",351],["T_STRING","backup",351],"(",")",["T_OBJECT_OPERATOR","->",351],["T_STRING","getFileTypes",351],"(",")",";",["T_WHITESPACE","\n                        ",351],["T_VARIABLE","$this",352],["T_OBJECT_OPERATOR","->",352],["T_STRING","validator",352],"(",")",["T_OBJECT_OPERATOR","->",352],["T_STRING","validateContents",352],"(",["T_VARIABLE","$contents",352],",",["T_WHITESPACE"," ",352],["T_VARIABLE","$config",352],",",["T_WHITESPACE"," ",352],["T_VARIABLE","$typesToBackup",352],")",";",["T_WHITESPACE","\n                        ",352],["T_VARIABLE","$errors",353],["T_WHITESPACE"," ",353],"=",["T_WHITESPACE"," ",353],["T_VARIABLE","$this",353],["T_OBJECT_OPERATOR","->",353],["T_STRING","validator",353],"(",")",["T_OBJECT_OPERATOR","->",353],["T_STRING","getErrors",353],"(",")",";",["T_WHITESPACE","\n                        ",353],["T_IF","if",354],["T_WHITESPACE"," ",354],"(",["T_STRING","count",354],"(",["T_VARIABLE","$errors",354],")",")",["T_WHITESPACE"," ",354],"{",["T_WHITESPACE","\n                            ",354],["T_THROW","throw",355],["T_WHITESPACE"," ",355],["T_NEW","new",355],["T_WHITESPACE"," ",355],["T_STRING","Exception",355],"(","\"",["T_ENCAPSED_AND_WHITESPACE","Package '",355],["T_CURLY_OPEN","{",355],["T_VARIABLE","$pName",355],"}",["T_ENCAPSED_AND_WHITESPACE","' is invalid\\n",355],"\"",["T_WHITESPACE"," ",355],".",["T_WHITESPACE"," ",355],["T_STRING","implode",355],"(",["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",355],",",["T_WHITESPACE"," ",355],["T_VARIABLE","$errors",355],")",")",";",["T_WHITESPACE","\n                        ",355],"}",["T_WHITESPACE","\n\n                        ",356],["T_VARIABLE","$targetPath",358],["T_WHITESPACE"," ",358],"=",["T_WHITESPACE"," ",358],["T_STRING","rtrim",358],"(",["T_VARIABLE","$config",358],["T_OBJECT_OPERATOR","->",358],["T_STRING","magento_root",358],",",["T_WHITESPACE"," ",358],["T_CONSTANT_ENCAPSED_STRING","\"\\\\\/\"",358],")",";",["T_WHITESPACE","\n                        ",358],["T_FOREACH","foreach",359],["T_WHITESPACE"," ",359],"(",["T_VARIABLE","$contents",359],["T_WHITESPACE"," ",359],["T_AS","as",359],["T_WHITESPACE"," ",359],["T_VARIABLE","$filePath",359],")",["T_WHITESPACE"," ",359],"{",["T_WHITESPACE","\n                            ",359],["T_VARIABLE","$this",360],["T_OBJECT_OPERATOR","->",360],["T_STRING","backup",360],"(",")",["T_OBJECT_OPERATOR","->",360],["T_STRING","addFile",360],"(",["T_VARIABLE","$filePath",360],",",["T_WHITESPACE"," ",360],["T_VARIABLE","$targetPath",360],")",";",["T_WHITESPACE","\n                        ",360],"}",["T_WHITESPACE","\n\n                        ",361],["T_IF","if",363],["T_WHITESPACE"," ",363],"(",["T_VARIABLE","$this",363],["T_OBJECT_OPERATOR","->",363],["T_STRING","backup",363],"(",")",["T_OBJECT_OPERATOR","->",363],["T_STRING","getFilesCount",363],"(",")",["T_WHITESPACE"," ",363],">",["T_WHITESPACE"," ",363],["T_LNUMBER","0",363],")",["T_WHITESPACE"," ",363],"{",["T_WHITESPACE","\n                            ",363],["T_VARIABLE","$this",364],["T_OBJECT_OPERATOR","->",364],["T_STRING","ui",364],"(",")",["T_OBJECT_OPERATOR","->",364],["T_STRING","output",364],"(",["T_CONSTANT_ENCAPSED_STRING","'<br\/>'",364],")",";",["T_WHITESPACE","\n                            ",364],["T_VARIABLE","$this",365],["T_OBJECT_OPERATOR","->",365],["T_STRING","ui",365],"(",")",["T_OBJECT_OPERATOR","->",365],["T_STRING","output",365],"(",["T_CONSTANT_ENCAPSED_STRING","'Backup of following files will be created :'",365],")",";",["T_WHITESPACE","\n                            ",365],["T_VARIABLE","$this",366],["T_OBJECT_OPERATOR","->",366],["T_STRING","ui",366],"(",")",["T_OBJECT_OPERATOR","->",366],["T_STRING","output",366],"(",["T_CONSTANT_ENCAPSED_STRING","'<br\/>'",366],")",";",["T_WHITESPACE","\n                            ",366],["T_VARIABLE","$this",367],["T_OBJECT_OPERATOR","->",367],["T_STRING","backup",367],"(",")",["T_OBJECT_OPERATOR","->",367],["T_STRING","run",367],"(",")",";",["T_WHITESPACE","\n                            ",367],["T_VARIABLE","$this",368],["T_OBJECT_OPERATOR","->",368],["T_STRING","ui",368],"(",")",["T_OBJECT_OPERATOR","->",368],["T_STRING","output",368],"(",["T_STRING","implode",368],"(",["T_CONSTANT_ENCAPSED_STRING","'<br\/>'",368],",",["T_WHITESPACE"," ",368],["T_VARIABLE","$this",368],["T_OBJECT_OPERATOR","->",368],["T_STRING","backup",368],"(",")",["T_OBJECT_OPERATOR","->",368],["T_STRING","getAllFiles",368],"(",")",")",")",";",["T_WHITESPACE","\n                            ",368],["T_VARIABLE","$this",369],["T_OBJECT_OPERATOR","->",369],["T_STRING","ui",369],"(",")",["T_OBJECT_OPERATOR","->",369],["T_STRING","output",369],"(",["T_CONSTANT_ENCAPSED_STRING","'<br\/>'",369],")",";",["T_WHITESPACE","\n                            ",369],["T_VARIABLE","$this",370],["T_OBJECT_OPERATOR","->",370],["T_STRING","ui",370],"(",")",["T_OBJECT_OPERATOR","->",370],["T_STRING","output",370],"(",["T_WHITESPACE","\n                                ",370],["T_VARIABLE","$this",371],["T_OBJECT_OPERATOR","->",371],["T_STRING","backup",371],"(",")",["T_OBJECT_OPERATOR","->",371],["T_STRING","getFilesCount",371],"(",")",["T_WHITESPACE"," ",371],".",["T_WHITESPACE"," ",371],["T_CONSTANT_ENCAPSED_STRING","' files was overwritten by installed extension.'",371],["T_WHITESPACE","\n                            ",371],")",";",["T_WHITESPACE","\n                            ",372],["T_VARIABLE","$this",373],["T_OBJECT_OPERATOR","->",373],["T_STRING","ui",373],"(",")",["T_OBJECT_OPERATOR","->",373],["T_STRING","output",373],"(",["T_CONSTANT_ENCAPSED_STRING","'<br\/>'",373],")",";",["T_WHITESPACE","\n                            ",373],["T_VARIABLE","$this",374],["T_OBJECT_OPERATOR","->",374],["T_STRING","backup",374],"(",")",["T_OBJECT_OPERATOR","->",374],["T_STRING","unsetAllFiles",374],"(",")",";",["T_WHITESPACE","\n                        ",374],"}",["T_WHITESPACE","\n                    ",375],"}",["T_WHITESPACE","\n\n                    ",376],["T_VARIABLE","$conflicts",378],["T_WHITESPACE"," ",378],"=",["T_WHITESPACE"," ",378],["T_VARIABLE","$package",378],["T_OBJECT_OPERATOR","->",378],["T_STRING","checkPhpDependencies",378],"(",")",";",["T_WHITESPACE","\n                    ",378],["T_IF","if",379],["T_WHITESPACE"," ",379],"(",["T_STRING","true",379],["T_WHITESPACE"," ",379],["T_IS_NOT_IDENTICAL","!==",379],["T_WHITESPACE"," ",379],["T_VARIABLE","$conflicts",379],")",["T_WHITESPACE"," ",379],"{",["T_WHITESPACE","\n                        ",379],["T_VARIABLE","$conflicts",380],["T_WHITESPACE"," ",380],"=",["T_WHITESPACE"," ",380],["T_STRING","implode",380],"(",["T_CONSTANT_ENCAPSED_STRING","\",\"",380],",",["T_VARIABLE","$conflicts",380],")",";",["T_WHITESPACE","\n                        ",380],["T_VARIABLE","$err",381],["T_WHITESPACE"," ",381],"=",["T_WHITESPACE"," ",381],"\"",["T_ENCAPSED_AND_WHITESPACE","Package ",381],["T_CURLY_OPEN","{",381],["T_VARIABLE","$pChan",381],"}",["T_ENCAPSED_AND_WHITESPACE","\/",381],["T_CURLY_OPEN","{",381],["T_VARIABLE","$pName",381],"}",["T_ENCAPSED_AND_WHITESPACE"," ",381],["T_CURLY_OPEN","{",381],["T_VARIABLE","$pVer",381],"}",["T_ENCAPSED_AND_WHITESPACE"," depends on PHP extensions: ",381],"\"",["T_WHITESPACE"," ",381],".",["T_WHITESPACE"," ",381],["T_VARIABLE","$conflicts",381],";",["T_WHITESPACE","\n                        ",381],["T_IF","if",382],["T_WHITESPACE"," ",382],"(",["T_VARIABLE","$forceMode",382],")",["T_WHITESPACE"," ",382],"{",["T_WHITESPACE","\n                            ",382],["T_VARIABLE","$this",383],["T_OBJECT_OPERATOR","->",383],["T_STRING","doError",383],"(",["T_VARIABLE","$command",383],",",["T_WHITESPACE"," ",383],["T_VARIABLE","$err",383],")",";",["T_WHITESPACE","\n                        ",383],"}",["T_WHITESPACE"," ",384],["T_ELSE","else",384],["T_WHITESPACE"," ",384],"{",["T_WHITESPACE","\n                            ",384],["T_THROW","throw",385],["T_WHITESPACE"," ",385],["T_NEW","new",385],["T_WHITESPACE"," ",385],["T_STRING","Exception",385],"(",["T_VARIABLE","$err",385],")",";",["T_WHITESPACE","\n                        ",385],"}",["T_WHITESPACE","\n                    ",386],"}",["T_WHITESPACE","\n\n                    ",387],["T_VARIABLE","$conflicts",389],["T_WHITESPACE"," ",389],"=",["T_WHITESPACE"," ",389],["T_VARIABLE","$package",389],["T_OBJECT_OPERATOR","->",389],["T_STRING","checkPhpVersion",389],"(",")",";",["T_WHITESPACE","\n                    ",389],["T_IF","if",390],["T_WHITESPACE"," ",390],"(",["T_STRING","true",390],["T_WHITESPACE"," ",390],["T_IS_NOT_IDENTICAL","!==",390],["T_WHITESPACE"," ",390],["T_VARIABLE","$conflicts",390],")",["T_WHITESPACE"," ",390],"{",["T_WHITESPACE","\n                        ",390],["T_VARIABLE","$err",391],["T_WHITESPACE"," ",391],"=",["T_WHITESPACE"," ",391],"\"",["T_ENCAPSED_AND_WHITESPACE","Package ",391],["T_CURLY_OPEN","{",391],["T_VARIABLE","$pChan",391],"}",["T_ENCAPSED_AND_WHITESPACE","\/",391],["T_CURLY_OPEN","{",391],["T_VARIABLE","$pName",391],"}",["T_ENCAPSED_AND_WHITESPACE"," ",391],["T_CURLY_OPEN","{",391],["T_VARIABLE","$pVer",391],"}",["T_ENCAPSED_AND_WHITESPACE",": ",391],"\"",["T_WHITESPACE"," ",391],".",["T_WHITESPACE"," ",391],["T_VARIABLE","$conflicts",391],";",["T_WHITESPACE","\n                        ",391],["T_IF","if",392],["T_WHITESPACE"," ",392],"(",["T_VARIABLE","$forceMode",392],")",["T_WHITESPACE"," ",392],"{",["T_WHITESPACE","\n                            ",392],["T_VARIABLE","$this",393],["T_OBJECT_OPERATOR","->",393],["T_STRING","doError",393],"(",["T_VARIABLE","$command",393],",",["T_WHITESPACE"," ",393],["T_VARIABLE","$err",393],")",";",["T_WHITESPACE","\n                        ",393],"}",["T_WHITESPACE"," ",394],["T_ELSE","else",394],["T_WHITESPACE"," ",394],"{",["T_WHITESPACE","\n                            ",394],["T_THROW","throw",395],["T_WHITESPACE"," ",395],["T_NEW","new",395],["T_WHITESPACE"," ",395],["T_STRING","Exception",395],"(",["T_VARIABLE","$err",395],")",";",["T_WHITESPACE","\n                        ",395],"}",["T_WHITESPACE","\n                    ",396],"}",["T_WHITESPACE","\n\n                    ",397],["T_IF","if",399],["T_WHITESPACE"," ",399],"(","!",["T_VARIABLE","$noFilesInstall",399],")",["T_WHITESPACE"," ",399],"{",["T_WHITESPACE","\n                        ",399],["T_VARIABLE","$this",400],["T_OBJECT_OPERATOR","->",400],["T_STRING","ui",400],"(",")",["T_OBJECT_OPERATOR","->",400],["T_STRING","output",400],"(","\"",["T_ENCAPSED_AND_WHITESPACE","Installing package ",400],["T_CURLY_OPEN","{",400],["T_VARIABLE","$pChan",400],"}",["T_ENCAPSED_AND_WHITESPACE","\/",400],["T_CURLY_OPEN","{",400],["T_VARIABLE","$pName",400],"}",["T_ENCAPSED_AND_WHITESPACE"," ",400],["T_CURLY_OPEN","{",400],["T_VARIABLE","$pVer",400],"}","\"",")",";",["T_WHITESPACE","\n                        ",400],["T_IF","if",401],["T_WHITESPACE"," ",401],"(",["T_VARIABLE","$ftp",401],")",["T_WHITESPACE"," ",401],"{",["T_WHITESPACE","\n                            ",401],["T_VARIABLE","$packager",402],["T_OBJECT_OPERATOR","->",402],["T_STRING","processInstallPackageFtp",402],"(",["T_VARIABLE","$package",402],",",["T_WHITESPACE"," ",402],["T_VARIABLE","$file",402],",",["T_WHITESPACE"," ",402],["T_VARIABLE","$config",402],",",["T_WHITESPACE"," ",402],["T_VARIABLE","$ftpObj",402],")",";",["T_WHITESPACE","\n                        ",402],"}",["T_WHITESPACE"," ",403],["T_ELSE","else",403],["T_WHITESPACE"," ",403],"{",["T_WHITESPACE","\n                            ",403],["T_VARIABLE","$packager",404],["T_OBJECT_OPERATOR","->",404],["T_STRING","processInstallPackage",404],"(",["T_VARIABLE","$package",404],",",["T_WHITESPACE"," ",404],["T_VARIABLE","$file",404],",",["T_WHITESPACE"," ",404],["T_VARIABLE","$config",404],")",";",["T_WHITESPACE","\n                        ",404],"}",["T_WHITESPACE","\n                        ",405],["T_VARIABLE","$this",406],["T_OBJECT_OPERATOR","->",406],["T_STRING","ui",406],"(",")",["T_OBJECT_OPERATOR","->",406],["T_STRING","output",406],"(","\"",["T_ENCAPSED_AND_WHITESPACE","Package ",406],["T_CURLY_OPEN","{",406],["T_VARIABLE","$pChan",406],"}",["T_ENCAPSED_AND_WHITESPACE","\/",406],["T_CURLY_OPEN","{",406],["T_VARIABLE","$pName",406],"}",["T_ENCAPSED_AND_WHITESPACE"," ",406],["T_CURLY_OPEN","{",406],["T_VARIABLE","$pVer",406],"}",["T_ENCAPSED_AND_WHITESPACE"," installed successfully",406],"\"",")",";",["T_WHITESPACE","\n                    ",406],"}",["T_WHITESPACE","\n                    ",407],["T_VARIABLE","$cache",408],["T_OBJECT_OPERATOR","->",408],["T_STRING","addPackage",408],"(",["T_VARIABLE","$package",408],")",";",["T_WHITESPACE","\n\n                    ",408],["T_VARIABLE","$installedDepsAssoc",410],"[","]",["T_WHITESPACE"," ",410],"=",["T_WHITESPACE"," ",410],["T_ARRAY","array",410],"(",["T_CONSTANT_ENCAPSED_STRING","'channel'",410],["T_DOUBLE_ARROW","=>",410],["T_VARIABLE","$pChan",410],",",["T_WHITESPACE"," ",410],["T_CONSTANT_ENCAPSED_STRING","'name'",410],["T_DOUBLE_ARROW","=>",410],["T_VARIABLE","$pName",410],",",["T_WHITESPACE"," ",410],["T_CONSTANT_ENCAPSED_STRING","'version'",410],["T_DOUBLE_ARROW","=>",410],["T_VARIABLE","$pVer",410],")",";",["T_WHITESPACE","\n                    ",410],["T_VARIABLE","$installedDeps",411],"[","]",["T_WHITESPACE"," ",411],"=",["T_WHITESPACE"," ",411],["T_ARRAY","array",411],"(",["T_VARIABLE","$pChan",411],",",["T_WHITESPACE"," ",411],["T_VARIABLE","$pName",411],",",["T_WHITESPACE"," ",411],["T_VARIABLE","$pVer",411],")",";",["T_WHITESPACE","\n\n                ",411],"}",["T_WHITESPACE"," ",413],["T_CATCH","catch",413],"(",["T_STRING","Exception",413],["T_WHITESPACE"," ",413],["T_VARIABLE","$e",413],")",["T_WHITESPACE"," ",413],"{",["T_WHITESPACE","\n                    ",413],["T_VARIABLE","$this",414],["T_OBJECT_OPERATOR","->",414],["T_STRING","doError",414],"(",["T_VARIABLE","$command",414],",",["T_WHITESPACE"," ",414],["T_VARIABLE","$e",414],["T_OBJECT_OPERATOR","->",414],["T_STRING","getMessage",414],"(",")",")",";",["T_WHITESPACE","\n                ",414],"}",["T_WHITESPACE","\n            ",415],"}",["T_WHITESPACE","\n\n            ",416],["T_VARIABLE","$title",418],["T_WHITESPACE"," ",418],"=",["T_WHITESPACE"," ",418],["T_ISSET","isset",418],"(",["T_VARIABLE","$options",418],"[",["T_CONSTANT_ENCAPSED_STRING","'title'",418],"]",")",["T_WHITESPACE"," ",418],"?",["T_WHITESPACE"," ",418],["T_VARIABLE","$options",418],"[",["T_CONSTANT_ENCAPSED_STRING","'title'",418],"]",["T_WHITESPACE"," ",418],":",["T_WHITESPACE"," ",418],["T_CONSTANT_ENCAPSED_STRING","\"Package installed: \"",418],";",["T_WHITESPACE","\n            ",418],["T_VARIABLE","$out",419],["T_WHITESPACE"," ",419],"=",["T_WHITESPACE"," ",419],["T_ARRAY","array",419],"(",["T_VARIABLE","$command",419],["T_WHITESPACE"," ",419],["T_DOUBLE_ARROW","=>",419],["T_WHITESPACE"," ",419],["T_ARRAY","array",419],"(",["T_CONSTANT_ENCAPSED_STRING","'data'",419],["T_DOUBLE_ARROW","=>",419],["T_VARIABLE","$installedDeps",419],",",["T_WHITESPACE"," ",419],["T_CONSTANT_ENCAPSED_STRING","'assoc'",419],["T_DOUBLE_ARROW","=>",419],["T_VARIABLE","$installedDepsAssoc",419],",",["T_WHITESPACE","  ",419],["T_CONSTANT_ENCAPSED_STRING","'title'",419],["T_DOUBLE_ARROW","=>",419],["T_VARIABLE","$title",419],")",")",";",["T_WHITESPACE","\n\n            ",419],["T_IF","if",421],["T_WHITESPACE"," ",421],"(",["T_VARIABLE","$ftp",421],")",["T_WHITESPACE"," ",421],"{",["T_WHITESPACE","\n                ",421],["T_VARIABLE","$packager",422],["T_OBJECT_OPERATOR","->",422],["T_STRING","writeToRemoteCache",422],"(",["T_VARIABLE","$cache",422],",",["T_WHITESPACE"," ",422],["T_VARIABLE","$ftpObj",422],")",";",["T_WHITESPACE","\n                ",422],"@",["T_STRING","unlink",423],"(",["T_VARIABLE","$config",423],["T_OBJECT_OPERATOR","->",423],["T_STRING","getFilename",423],"(",")",")",";",["T_WHITESPACE","\n            ",423],"}",["T_WHITESPACE","\n\n            ",424],["T_VARIABLE","$this",426],["T_OBJECT_OPERATOR","->",426],["T_STRING","ui",426],"(",")",["T_OBJECT_OPERATOR","->",426],["T_STRING","output",426],"(",["T_VARIABLE","$out",426],")",";",["T_WHITESPACE","\n            ",426],["T_RETURN","return",427],["T_WHITESPACE"," ",427],["T_VARIABLE","$out",427],"[",["T_VARIABLE","$command",427],"]","[",["T_CONSTANT_ENCAPSED_STRING","'data'",427],"]",";",["T_WHITESPACE","\n        ",427],"}",["T_WHITESPACE"," ",428],["T_CATCH","catch",428],["T_WHITESPACE"," ",428],"(",["T_STRING","Exception",428],["T_WHITESPACE"," ",428],["T_VARIABLE","$e",428],")",["T_WHITESPACE"," ",428],"{",["T_WHITESPACE","\n            ",428],["T_IF","if",429],["T_WHITESPACE"," ",429],"(",["T_VARIABLE","$ftp",429],")",["T_WHITESPACE"," ",429],"{",["T_WHITESPACE","\n                ",429],["T_VARIABLE","$packager",430],["T_OBJECT_OPERATOR","->",430],["T_STRING","writeToRemoteCache",430],"(",["T_VARIABLE","$cache",430],",",["T_WHITESPACE"," ",430],["T_VARIABLE","$ftpObj",430],")",";",["T_WHITESPACE","\n                ",430],"@",["T_STRING","unlink",431],"(",["T_VARIABLE","$config",431],["T_OBJECT_OPERATOR","->",431],["T_STRING","getFilename",431],"(",")",")",";",["T_WHITESPACE","\n            ",431],"}",["T_WHITESPACE","\n            ",432],["T_RETURN","return",433],["T_WHITESPACE"," ",433],["T_VARIABLE","$this",433],["T_OBJECT_OPERATOR","->",433],["T_STRING","doError",433],"(",["T_VARIABLE","$command",433],",",["T_WHITESPACE"," ",433],["T_VARIABLE","$e",433],["T_OBJECT_OPERATOR","->",433],["T_STRING","getMessage",433],"(",")",")",";",["T_WHITESPACE","\n        ",433],"}",["T_WHITESPACE","\n    ",434],"}",["T_WHITESPACE","\n\n    ",435],["T_DOC_COMMENT","\/**\n     * Upgrade action callback\n     *\n     * @param string $command\n     * @param array $options\n     * @param array $params\n     * @return array|null\n     *\/",437],["T_WHITESPACE","\n    ",444],["T_PUBLIC","public",445],["T_WHITESPACE"," ",445],["T_FUNCTION","function",445],["T_WHITESPACE"," ",445],["T_STRING","doUpgrade",445],"(",["T_VARIABLE","$command",445],",",["T_WHITESPACE"," ",445],["T_VARIABLE","$options",445],",",["T_WHITESPACE"," ",445],["T_VARIABLE","$params",445],")",["T_WHITESPACE","\n    ",445],"{",["T_WHITESPACE","\n        ",446],["T_VARIABLE","$options",447],"[",["T_CONSTANT_ENCAPSED_STRING","'title'",447],"]",["T_WHITESPACE"," ",447],"=",["T_WHITESPACE"," ",447],["T_CONSTANT_ENCAPSED_STRING","\"Package upgraded: \"",447],";",["T_WHITESPACE","\n        ",447],["T_RETURN","return",448],["T_WHITESPACE"," ",448],["T_VARIABLE","$this",448],["T_OBJECT_OPERATOR","->",448],["T_STRING","doInstall",448],"(",["T_VARIABLE","$command",448],",",["T_WHITESPACE"," ",448],["T_VARIABLE","$options",448],",",["T_WHITESPACE"," ",448],["T_VARIABLE","$params",448],")",";",["T_WHITESPACE","\n    ",448],"}",["T_WHITESPACE","\n\n    ",449],["T_DOC_COMMENT","\/**\n     * Updgrade action callback\n     *\n     * @param string $command\n     * @param array $options\n     * @param array $params\n     * @return array|null\n     *\/",451],["T_WHITESPACE","\n    ",458],["T_PUBLIC","public",459],["T_WHITESPACE"," ",459],["T_FUNCTION","function",459],["T_WHITESPACE"," ",459],["T_STRING","doUpgradeAll",459],"(",["T_VARIABLE","$command",459],",",["T_WHITESPACE"," ",459],["T_VARIABLE","$options",459],",",["T_WHITESPACE"," ",459],["T_VARIABLE","$params",459],")",["T_WHITESPACE","\n    ",459],"{",["T_WHITESPACE","\n        ",460],["T_VARIABLE","$options",461],"[",["T_CONSTANT_ENCAPSED_STRING","'title'",461],"]",["T_WHITESPACE"," ",461],"=",["T_WHITESPACE"," ",461],["T_CONSTANT_ENCAPSED_STRING","\"Package upgraded: \"",461],";",["T_WHITESPACE","\n        ",461],["T_RETURN","return",462],["T_WHITESPACE"," ",462],["T_VARIABLE","$this",462],["T_OBJECT_OPERATOR","->",462],["T_STRING","doInstall",462],"(",["T_VARIABLE","$command",462],",",["T_WHITESPACE"," ",462],["T_VARIABLE","$options",462],",",["T_WHITESPACE"," ",462],["T_VARIABLE","$params",462],")",";",["T_WHITESPACE","\n    ",462],"}",["T_WHITESPACE","\n\n    ",463],["T_DOC_COMMENT","\/**\n     * Uninstall package callback\n     *\n     * @param string $command\n     * @param array $options\n     * @param array $params\n     * @return array|null\n     *\/",465],["T_WHITESPACE","\n    ",472],["T_PUBLIC","public",473],["T_WHITESPACE"," ",473],["T_FUNCTION","function",473],["T_WHITESPACE"," ",473],["T_STRING","doUninstall",473],"(",["T_VARIABLE","$command",473],",",["T_WHITESPACE"," ",473],["T_VARIABLE","$options",473],",",["T_WHITESPACE"," ",473],["T_VARIABLE","$params",473],")",["T_WHITESPACE","\n    ",473],"{",["T_WHITESPACE","\n        ",474],["T_VARIABLE","$this",475],["T_OBJECT_OPERATOR","->",475],["T_STRING","cleanupParams",475],"(",["T_VARIABLE","$params",475],")",";",["T_WHITESPACE","\n\n        ",475],["T_TRY","try",477],["T_WHITESPACE"," ",477],"{",["T_WHITESPACE","\n            ",477],["T_IF","if",478],["T_WHITESPACE"," ",478],"(",["T_STRING","count",478],"(",["T_VARIABLE","$params",478],")",["T_WHITESPACE"," ",478],["T_IS_NOT_EQUAL","!=",478],["T_WHITESPACE"," ",478],["T_LNUMBER","2",478],")",["T_WHITESPACE"," ",478],"{",["T_WHITESPACE","\n                ",478],["T_THROW","throw",479],["T_WHITESPACE"," ",479],["T_NEW","new",479],["T_WHITESPACE"," ",479],["T_STRING","Exception",479],"(",["T_CONSTANT_ENCAPSED_STRING","\"Argument count should be = 2\"",479],")",";",["T_WHITESPACE","\n            ",479],"}",["T_WHITESPACE","\n\n            ",480],["T_VARIABLE","$channel",482],["T_WHITESPACE"," ",482],"=",["T_WHITESPACE"," ",482],["T_VARIABLE","$params",482],"[",["T_LNUMBER","0",482],"]",";",["T_WHITESPACE","\n            ",482],["T_VARIABLE","$package",483],["T_WHITESPACE"," ",483],"=",["T_WHITESPACE"," ",483],["T_VARIABLE","$params",483],"[",["T_LNUMBER","1",483],"]",";",["T_WHITESPACE","\n            ",483],["T_DOC_COMMENT","\/** @var $packager Mage_Connect_Packager *\/",484],["T_WHITESPACE","\n            ",484],["T_VARIABLE","$packager",485],["T_WHITESPACE"," ",485],"=",["T_WHITESPACE"," ",485],["T_VARIABLE","$this",485],["T_OBJECT_OPERATOR","->",485],["T_STRING","getPackager",485],"(",")",";",["T_WHITESPACE","\n            ",485],["T_VARIABLE","$withDepsMode",486],["T_WHITESPACE"," ",486],"=",["T_WHITESPACE"," ",486],"!",["T_ISSET","isset",486],"(",["T_VARIABLE","$options",486],"[",["T_CONSTANT_ENCAPSED_STRING","'nodeps'",486],"]",")","?",["T_WHITESPACE"," ",486],["T_STRING","false",486],["T_WHITESPACE"," ",486],":",["T_WHITESPACE"," ",486],["T_BOOL_CAST","(boolean)",486],["T_VARIABLE","$options",486],"[",["T_CONSTANT_ENCAPSED_STRING","'nodeps'",486],"]",";",["T_WHITESPACE","\n            ",486],["T_VARIABLE","$forceMode",487],["T_WHITESPACE"," ",487],"=",["T_WHITESPACE"," ",487],["T_ISSET","isset",487],"(",["T_VARIABLE","$options",487],"[",["T_CONSTANT_ENCAPSED_STRING","'force'",487],"]",")",";",["T_WHITESPACE","\n\n            ",487],["T_VARIABLE","$ftp",489],["T_WHITESPACE"," ",489],"=",["T_WHITESPACE"," ",489],["T_EMPTY","empty",489],"(",["T_VARIABLE","$options",489],"[",["T_CONSTANT_ENCAPSED_STRING","'ftp'",489],"]",")",["T_WHITESPACE"," ",489],"?",["T_WHITESPACE"," ",489],["T_STRING","false",489],["T_WHITESPACE"," ",489],":",["T_WHITESPACE"," ",489],["T_VARIABLE","$options",489],"[",["T_CONSTANT_ENCAPSED_STRING","'ftp'",489],"]",";",["T_WHITESPACE","\n            ",489],["T_DOC_COMMENT","\/** @var $cache Mage_Connect_Singleconfig *\/",490],["T_WHITESPACE","\n            ",490],["T_DOC_COMMENT","\/** @var $config Mage_Connect_Config *\/",491],["T_WHITESPACE","\n            ",491],["T_DOC_COMMENT","\/** @var $ftpObj Mage_Connect_Ftp *\/",492],["T_WHITESPACE","\n            ",492],["T_IF","if",493],["T_WHITESPACE"," ",493],"(",["T_VARIABLE","$ftp",493],")",["T_WHITESPACE"," ",493],"{",["T_WHITESPACE","\n                ",493],["T_LIST","list",494],"(",["T_VARIABLE","$cache",494],",",["T_WHITESPACE"," ",494],["T_VARIABLE","$config",494],",",["T_WHITESPACE"," ",494],["T_VARIABLE","$ftpObj",494],")",["T_WHITESPACE"," ",494],"=",["T_WHITESPACE"," ",494],["T_VARIABLE","$packager",494],["T_OBJECT_OPERATOR","->",494],["T_STRING","getRemoteConf",494],"(",["T_VARIABLE","$ftp",494],")",";",["T_WHITESPACE","\n            ",494],"}",["T_WHITESPACE"," ",495],["T_ELSE","else",495],["T_WHITESPACE"," ",495],"{",["T_WHITESPACE","\n                ",495],["T_VARIABLE","$cache",496],["T_WHITESPACE"," ",496],"=",["T_WHITESPACE"," ",496],["T_VARIABLE","$this",496],["T_OBJECT_OPERATOR","->",496],["T_STRING","getSconfig",496],"(",")",";",["T_WHITESPACE","\n                ",496],["T_VARIABLE","$config",497],["T_WHITESPACE"," ",497],"=",["T_WHITESPACE"," ",497],["T_VARIABLE","$this",497],["T_OBJECT_OPERATOR","->",497],["T_STRING","config",497],"(",")",";",["T_WHITESPACE","\n            ",497],"}",["T_WHITESPACE","\n\n            ",498],["T_VARIABLE","$channel",500],["T_WHITESPACE"," ",500],"=",["T_WHITESPACE"," ",500],["T_VARIABLE","$cache",500],["T_OBJECT_OPERATOR","->",500],["T_STRING","chanName",500],"(",["T_VARIABLE","$channel",500],")",";",["T_WHITESPACE","\n            ",500],["T_IF","if",501],["T_WHITESPACE"," ",501],"(","!",["T_VARIABLE","$cache",501],["T_OBJECT_OPERATOR","->",501],["T_STRING","hasPackage",501],"(",["T_VARIABLE","$channel",501],",",["T_WHITESPACE"," ",501],["T_VARIABLE","$package",501],")",")",["T_WHITESPACE"," ",501],"{",["T_WHITESPACE","\n                ",501],["T_THROW","throw",502],["T_WHITESPACE"," ",502],["T_NEW","new",502],["T_WHITESPACE"," ",502],["T_STRING","Exception",502],"(",["T_CONSTANT_ENCAPSED_STRING","\"Package is not installed\"",502],")",";",["T_WHITESPACE","\n            ",502],"}",["T_WHITESPACE","\n\n            ",503],["T_VARIABLE","$deletedPackages",505],["T_WHITESPACE"," ",505],"=",["T_WHITESPACE"," ",505],["T_ARRAY","array",505],"(",")",";",["T_WHITESPACE","\n            ",505],["T_VARIABLE","$list",506],["T_WHITESPACE"," ",506],"=",["T_WHITESPACE"," ",506],["T_VARIABLE","$packager",506],["T_OBJECT_OPERATOR","->",506],["T_STRING","getUninstallList",506],"(",["T_VARIABLE","$channel",506],",",["T_WHITESPACE"," ",506],["T_VARIABLE","$package",506],",",["T_WHITESPACE"," ",506],["T_VARIABLE","$cache",506],",",["T_WHITESPACE"," ",506],["T_VARIABLE","$config",506],",",["T_WHITESPACE"," ",506],["T_VARIABLE","$withDepsMode",506],")",";",["T_WHITESPACE","\n            ",506],["T_FOREACH","foreach",507],["T_WHITESPACE"," ",507],"(",["T_VARIABLE","$list",507],"[",["T_CONSTANT_ENCAPSED_STRING","'list'",507],"]",["T_WHITESPACE"," ",507],["T_AS","as",507],["T_WHITESPACE"," ",507],["T_VARIABLE","$packageData",507],")",["T_WHITESPACE"," ",507],"{",["T_WHITESPACE","\n                ",507],["T_TRY","try",508],["T_WHITESPACE"," ",508],"{",["T_WHITESPACE","\n                    ",508],["T_VARIABLE","$reqd",509],["T_WHITESPACE"," ",509],"=",["T_WHITESPACE"," ",509],["T_VARIABLE","$cache",509],["T_OBJECT_OPERATOR","->",509],["T_STRING","requiredByOtherPackages",509],"(",["T_WHITESPACE","\n                        ",509],["T_VARIABLE","$packageData",510],"[",["T_CONSTANT_ENCAPSED_STRING","'channel'",510],"]",",",["T_WHITESPACE","\n                        ",510],["T_VARIABLE","$packageData",511],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",511],"]",",",["T_WHITESPACE","\n                        ",511],["T_VARIABLE","$list",512],"[",["T_CONSTANT_ENCAPSED_STRING","'list'",512],"]",["T_WHITESPACE","\n                    ",512],")",";",["T_WHITESPACE","\n                    ",513],["T_IF","if",514],["T_WHITESPACE"," ",514],"(",["T_STRING","count",514],"(",["T_VARIABLE","$reqd",514],")",")",["T_WHITESPACE"," ",514],"{",["T_WHITESPACE","\n                        ",514],["T_VARIABLE","$errMessage",515],["T_WHITESPACE"," ",515],"=",["T_WHITESPACE"," ",515],"\"",["T_CURLY_OPEN","{",515],["T_VARIABLE","$packageData",515],"[",["T_CONSTANT_ENCAPSED_STRING","'channel'",515],"]","}",["T_ENCAPSED_AND_WHITESPACE","\/",515],["T_CURLY_OPEN","{",515],["T_VARIABLE","$packageData",515],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",515],"]","}",["T_ENCAPSED_AND_WHITESPACE"," ",515],"\"",["T_WHITESPACE","\n                            ",515],".",["T_WHITESPACE"," ",516],"\"",["T_CURLY_OPEN","{",516],["T_VARIABLE","$packageData",516],"[",["T_CONSTANT_ENCAPSED_STRING","'version'",516],"]","}",["T_ENCAPSED_AND_WHITESPACE"," is required by: ",516],"\"",";",["T_WHITESPACE","\n                        ",516],["T_VARIABLE","$t",517],["T_WHITESPACE"," ",517],"=",["T_WHITESPACE"," ",517],["T_ARRAY","array",517],"(",")",";",["T_WHITESPACE","\n                        ",517],["T_FOREACH","foreach",518],["T_WHITESPACE"," ",518],"(",["T_VARIABLE","$reqd",518],["T_WHITESPACE"," ",518],["T_AS","as",518],["T_WHITESPACE"," ",518],["T_VARIABLE","$r",518],")",["T_WHITESPACE"," ",518],"{",["T_WHITESPACE","\n                            ",518],["T_VARIABLE","$t",519],"[","]",["T_WHITESPACE"," ",519],"=",["T_WHITESPACE"," ",519],["T_VARIABLE","$r",519],"[",["T_CONSTANT_ENCAPSED_STRING","'channel'",519],"]",["T_WHITESPACE"," ",519],".",["T_WHITESPACE"," ",519],["T_CONSTANT_ENCAPSED_STRING","\"\/\"",519],["T_WHITESPACE"," ",519],".",["T_WHITESPACE"," ",519],["T_VARIABLE","$r",519],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",519],"]",["T_WHITESPACE"," ",519],".",["T_WHITESPACE"," ",519],["T_CONSTANT_ENCAPSED_STRING","\" \"",519],["T_WHITESPACE"," ",519],".",["T_WHITESPACE"," ",519],["T_VARIABLE","$r",519],"[",["T_CONSTANT_ENCAPSED_STRING","'version'",519],"]",";",["T_WHITESPACE","\n                        ",519],"}",["T_WHITESPACE","\n                        ",520],["T_VARIABLE","$errMessage",521],["T_WHITESPACE"," ",521],["T_CONCAT_EQUAL",".=",521],["T_WHITESPACE"," ",521],["T_STRING","implode",521],"(",["T_CONSTANT_ENCAPSED_STRING","\", \"",521],",",["T_WHITESPACE"," ",521],["T_VARIABLE","$t",521],")",";",["T_WHITESPACE","\n                        ",521],["T_IF","if",522],["T_WHITESPACE"," ",522],"(",["T_VARIABLE","$forceMode",522],")",["T_WHITESPACE"," ",522],"{",["T_WHITESPACE","\n                            ",522],["T_VARIABLE","$this",523],["T_OBJECT_OPERATOR","->",523],["T_STRING","ui",523],"(",")",["T_OBJECT_OPERATOR","->",523],["T_STRING","output",523],"(",["T_CONSTANT_ENCAPSED_STRING","\"Warning: \"",523],["T_WHITESPACE"," ",523],".",["T_WHITESPACE"," ",523],["T_VARIABLE","$errMessage",523],")",";",["T_WHITESPACE","\n                        ",523],"}",["T_WHITESPACE"," ",524],["T_ELSE","else",524],["T_WHITESPACE"," ",524],"{",["T_WHITESPACE","\n                            ",524],["T_THROW","throw",525],["T_WHITESPACE"," ",525],["T_NEW","new",525],["T_WHITESPACE"," ",525],["T_STRING","Exception",525],"(",["T_VARIABLE","$errMessage",525],")",";",["T_WHITESPACE","\n                        ",525],"}",["T_WHITESPACE","\n                    ",526],"}",["T_WHITESPACE","\n                ",527],"}",["T_WHITESPACE"," ",528],["T_CATCH","catch",528],"(",["T_STRING","Exception",528],["T_WHITESPACE"," ",528],["T_VARIABLE","$e",528],")",["T_WHITESPACE"," ",528],"{",["T_WHITESPACE","\n                    ",528],["T_IF","if",529],["T_WHITESPACE"," ",529],"(",["T_VARIABLE","$forceMode",529],")",["T_WHITESPACE"," ",529],"{",["T_WHITESPACE","\n                        ",529],["T_VARIABLE","$this",530],["T_OBJECT_OPERATOR","->",530],["T_STRING","doError",530],"(",["T_VARIABLE","$command",530],",",["T_WHITESPACE"," ",530],["T_VARIABLE","$e",530],["T_OBJECT_OPERATOR","->",530],["T_STRING","getMessage",530],"(",")",")",";",["T_WHITESPACE","\n                    ",530],"}",["T_WHITESPACE"," ",531],["T_ELSE","else",531],["T_WHITESPACE"," ",531],"{",["T_WHITESPACE","\n                        ",531],["T_THROW","throw",532],["T_WHITESPACE"," ",532],["T_NEW","new",532],["T_WHITESPACE"," ",532],["T_STRING","Exception",532],"(",["T_VARIABLE","$e",532],["T_OBJECT_OPERATOR","->",532],["T_STRING","getMessage",532],"(",")",")",";",["T_WHITESPACE","\n                    ",532],"}",["T_WHITESPACE","\n                ",533],"}",["T_WHITESPACE","\n            ",534],"}",["T_WHITESPACE","\n            ",535],["T_FOREACH","foreach",536],["T_WHITESPACE"," ",536],"(",["T_VARIABLE","$list",536],"[",["T_CONSTANT_ENCAPSED_STRING","'list'",536],"]",["T_WHITESPACE"," ",536],["T_AS","as",536],["T_WHITESPACE"," ",536],["T_VARIABLE","$packageData",536],")",["T_WHITESPACE"," ",536],"{",["T_WHITESPACE","\n                ",536],["T_TRY","try",537],["T_WHITESPACE"," ",537],"{",["T_WHITESPACE","\n                    ",537],["T_LIST","list",538],"(",["T_VARIABLE","$chan",538],",",["T_WHITESPACE"," ",538],["T_VARIABLE","$pack",538],")",["T_WHITESPACE"," ",538],"=",["T_WHITESPACE"," ",538],["T_ARRAY","array",538],"(",["T_VARIABLE","$packageData",538],"[",["T_CONSTANT_ENCAPSED_STRING","'channel'",538],"]",",",["T_WHITESPACE"," ",538],["T_VARIABLE","$packageData",538],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",538],"]",")",";",["T_WHITESPACE","\n                    ",538],["T_VARIABLE","$packageName",539],["T_WHITESPACE"," ",539],"=",["T_WHITESPACE"," ",539],["T_VARIABLE","$packageData",539],"[",["T_CONSTANT_ENCAPSED_STRING","'channel'",539],"]",["T_WHITESPACE"," ",539],".",["T_WHITESPACE"," ",539],["T_CONSTANT_ENCAPSED_STRING","\"\/\"",539],["T_WHITESPACE"," ",539],".",["T_WHITESPACE"," ",539],["T_VARIABLE","$packageData",539],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",539],"]",";",["T_WHITESPACE","\n                    ",539],["T_VARIABLE","$this",540],["T_OBJECT_OPERATOR","->",540],["T_STRING","ui",540],"(",")",["T_OBJECT_OPERATOR","->",540],["T_STRING","output",540],"(","\"",["T_ENCAPSED_AND_WHITESPACE","Starting to uninstall ",540],["T_VARIABLE","$packageName",540],["T_ENCAPSED_AND_WHITESPACE"," ",540],"\"",")",";",["T_WHITESPACE","\n                    ",540],["T_IF","if",541],["T_WHITESPACE"," ",541],"(",["T_VARIABLE","$ftp",541],")",["T_WHITESPACE"," ",541],"{",["T_WHITESPACE","\n                        ",541],["T_VARIABLE","$packager",542],["T_OBJECT_OPERATOR","->",542],["T_STRING","processUninstallPackageFtp",542],"(",["T_VARIABLE","$chan",542],",",["T_WHITESPACE"," ",542],["T_VARIABLE","$pack",542],",",["T_WHITESPACE"," ",542],["T_VARIABLE","$cache",542],",",["T_WHITESPACE"," ",542],["T_VARIABLE","$ftpObj",542],")",";",["T_WHITESPACE","\n                    ",542],"}",["T_WHITESPACE"," ",543],["T_ELSE","else",543],["T_WHITESPACE"," ",543],"{",["T_WHITESPACE","\n                        ",543],["T_VARIABLE","$packager",544],["T_OBJECT_OPERATOR","->",544],["T_STRING","processUninstallPackage",544],"(",["T_VARIABLE","$chan",544],",",["T_WHITESPACE"," ",544],["T_VARIABLE","$pack",544],",",["T_WHITESPACE"," ",544],["T_VARIABLE","$cache",544],",",["T_WHITESPACE"," ",544],["T_VARIABLE","$config",544],")",";",["T_WHITESPACE","\n                    ",544],"}",["T_WHITESPACE","\n                    ",545],["T_VARIABLE","$cache",546],["T_OBJECT_OPERATOR","->",546],["T_STRING","deletePackage",546],"(",["T_VARIABLE","$chan",546],",",["T_WHITESPACE"," ",546],["T_VARIABLE","$pack",546],")",";",["T_WHITESPACE","\n                    ",546],["T_VARIABLE","$deletedPackages",547],"[","]",["T_WHITESPACE"," ",547],"=",["T_WHITESPACE"," ",547],["T_ARRAY","array",547],"(",["T_VARIABLE","$chan",547],",",["T_WHITESPACE"," ",547],["T_VARIABLE","$pack",547],")",";",["T_WHITESPACE","\n                    ",547],["T_VARIABLE","$this",548],["T_OBJECT_OPERATOR","->",548],["T_STRING","ui",548],"(",")",["T_OBJECT_OPERATOR","->",548],["T_STRING","output",548],"(","\"",["T_ENCAPSED_AND_WHITESPACE","Package ",548],["T_CURLY_OPEN","{",548],["T_VARIABLE","$packageName",548],"}",["T_ENCAPSED_AND_WHITESPACE"," uninstalled",548],"\"",")",";",["T_WHITESPACE","\n                ",548],"}",["T_WHITESPACE"," ",549],["T_CATCH","catch",549],"(",["T_STRING","Exception",549],["T_WHITESPACE"," ",549],["T_VARIABLE","$e",549],")",["T_WHITESPACE"," ",549],"{",["T_WHITESPACE","\n                    ",549],["T_IF","if",550],["T_WHITESPACE"," ",550],"(",["T_VARIABLE","$forceMode",550],")",["T_WHITESPACE"," ",550],"{",["T_WHITESPACE","\n                        ",550],["T_VARIABLE","$this",551],["T_OBJECT_OPERATOR","->",551],["T_STRING","doError",551],"(",["T_VARIABLE","$command",551],",",["T_WHITESPACE"," ",551],["T_VARIABLE","$e",551],["T_OBJECT_OPERATOR","->",551],["T_STRING","getMessage",551],"(",")",")",";",["T_WHITESPACE","\n                    ",551],"}",["T_WHITESPACE"," ",552],["T_ELSE","else",552],["T_WHITESPACE"," ",552],"{",["T_WHITESPACE","\n                        ",552],["T_THROW","throw",553],["T_WHITESPACE"," ",553],["T_NEW","new",553],["T_WHITESPACE"," ",553],["T_STRING","Exception",553],"(",["T_VARIABLE","$e",553],["T_OBJECT_OPERATOR","->",553],["T_STRING","getMessage",553],"(",")",")",";",["T_WHITESPACE","\n                    ",553],"}",["T_WHITESPACE","\n                ",554],"}",["T_WHITESPACE","\n            ",555],"}",["T_WHITESPACE","\n            ",556],["T_IF","if",557],["T_WHITESPACE"," ",557],"(",["T_VARIABLE","$ftp",557],")",["T_WHITESPACE"," ",557],"{",["T_WHITESPACE","\n                ",557],["T_VARIABLE","$packager",558],["T_OBJECT_OPERATOR","->",558],["T_STRING","writeToRemoteCache",558],"(",["T_VARIABLE","$cache",558],",",["T_WHITESPACE"," ",558],["T_VARIABLE","$ftpObj",558],")",";",["T_WHITESPACE","\n                ",558],"@",["T_STRING","unlink",559],"(",["T_VARIABLE","$config",559],["T_OBJECT_OPERATOR","->",559],["T_STRING","getFilename",559],"(",")",")",";",["T_WHITESPACE","\n            ",559],"}",["T_WHITESPACE","\n            ",560],["T_VARIABLE","$out",561],["T_WHITESPACE"," ",561],"=",["T_WHITESPACE"," ",561],["T_ARRAY","array",561],"(",["T_VARIABLE","$command",561],["T_DOUBLE_ARROW","=>",561],["T_ARRAY","array",561],"(",["T_CONSTANT_ENCAPSED_STRING","'data'",561],["T_DOUBLE_ARROW","=>",561],["T_VARIABLE","$deletedPackages",561],",",["T_WHITESPACE"," ",561],["T_CONSTANT_ENCAPSED_STRING","'title'",561],["T_DOUBLE_ARROW","=>",561],["T_CONSTANT_ENCAPSED_STRING","'Package deleted: '",561],")",")",";",["T_WHITESPACE","\n            ",561],["T_VARIABLE","$this",562],["T_OBJECT_OPERATOR","->",562],["T_STRING","ui",562],"(",")",["T_OBJECT_OPERATOR","->",562],["T_STRING","output",562],"(",["T_VARIABLE","$out",562],")",";",["T_WHITESPACE","\n            ",562],["T_RETURN","return",563],["T_WHITESPACE"," ",563],["T_VARIABLE","$out",563],"[",["T_VARIABLE","$command",563],"]","[",["T_CONSTANT_ENCAPSED_STRING","'data'",563],"]",";",["T_WHITESPACE","\n        ",563],"}",["T_WHITESPACE"," ",564],["T_CATCH","catch",564],["T_WHITESPACE"," ",564],"(",["T_STRING","Exception",564],["T_WHITESPACE"," ",564],["T_VARIABLE","$e",564],")",["T_WHITESPACE"," ",564],"{",["T_WHITESPACE","\n            ",564],["T_RETURN","return",565],["T_WHITESPACE"," ",565],["T_VARIABLE","$this",565],["T_OBJECT_OPERATOR","->",565],["T_STRING","doError",565],"(",["T_VARIABLE","$command",565],",",["T_WHITESPACE"," ",565],["T_VARIABLE","$e",565],["T_OBJECT_OPERATOR","->",565],["T_STRING","getMessage",565],"(",")",")",";",["T_WHITESPACE","\n        ",565],"}",["T_WHITESPACE","\n    ",566],"}",["T_WHITESPACE","\n",567],"}",["T_WHITESPACE","\n",568]]