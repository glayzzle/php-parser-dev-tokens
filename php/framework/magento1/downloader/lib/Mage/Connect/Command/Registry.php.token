[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Magento\n *\n * NOTICE OF LICENSE\n *\n * This source file is subject to the Open Software License (OSL 3.0)\n * that is bundled with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/opensource.org\/licenses\/osl-3.0.php\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@magento.com so we can send you a copy immediately.\n *\n * DISCLAIMER\n *\n * Do not edit or add to this file if you wish to upgrade Magento to newer\n * versions in the future. If you wish to customize Magento for your\n * needs please refer to http:\/\/www.magento.com for more information.\n *\n * @category    Mage\n * @package     Mage_Connect\n * @copyright  Copyright (c) 2006-2016 X.commerce, Inc. and affiliates (http:\/\/www.magento.com)\n * @license    http:\/\/opensource.org\/licenses\/osl-3.0.php  Open Software License (OSL 3.0)\n *\/",2],["T_WHITESPACE","\n\n",25],["T_FINAL","final",27],["T_WHITESPACE"," ",27],["T_CLASS","class",27],["T_WHITESPACE"," ",27],["T_STRING","Mage_Connect_Command_Registry",27],["T_WHITESPACE","\n",27],["T_EXTENDS","extends",28],["T_WHITESPACE"," ",28],["T_STRING","Mage_Connect_Command",28],["T_WHITESPACE","\n",28],"{",["T_WHITESPACE","\n    ",29],["T_CONST","const",30],["T_WHITESPACE"," ",30],["T_STRING","PACKAGE_PEAR_DIR",30],["T_WHITESPACE"," ",30],"=",["T_WHITESPACE"," ",30],["T_CONSTANT_ENCAPSED_STRING","'pearlib\/php\/.registry'",30],";",["T_WHITESPACE","\n\n    ",30],["T_DOC_COMMENT","\/**\n     * List-installed callback\n     * @param string $command\n     * @param array $options\n     * @param array $params\n     * @return void\n     *\/",32],["T_WHITESPACE","\n    ",38],["T_PUBLIC","public",39],["T_WHITESPACE"," ",39],["T_FUNCTION","function",39],["T_WHITESPACE"," ",39],["T_STRING","doList",39],"(",["T_VARIABLE","$command",39],",",["T_WHITESPACE"," ",39],["T_VARIABLE","$options",39],",",["T_WHITESPACE"," ",39],["T_VARIABLE","$params",39],")",["T_WHITESPACE","\n    ",39],"{",["T_WHITESPACE","\n        ",40],["T_VARIABLE","$this",41],["T_OBJECT_OPERATOR","->",41],["T_STRING","cleanupParams",41],"(",["T_VARIABLE","$params",41],")",";",["T_WHITESPACE","\n        ",41],["T_TRY","try",42],["T_WHITESPACE"," ",42],"{",["T_WHITESPACE","\n            ",42],["T_VARIABLE","$packager",43],["T_WHITESPACE"," ",43],"=",["T_WHITESPACE"," ",43],["T_VARIABLE","$this",43],["T_OBJECT_OPERATOR","->",43],["T_STRING","getPackager",43],"(",")",";",["T_WHITESPACE","\n            ",43],["T_VARIABLE","$ftp",44],["T_WHITESPACE"," ",44],"=",["T_WHITESPACE"," ",44],["T_EMPTY","empty",44],"(",["T_VARIABLE","$options",44],"[",["T_CONSTANT_ENCAPSED_STRING","'ftp'",44],"]",")",["T_WHITESPACE"," ",44],"?",["T_WHITESPACE"," ",44],["T_STRING","false",44],["T_WHITESPACE"," ",44],":",["T_WHITESPACE"," ",44],["T_VARIABLE","$options",44],"[",["T_CONSTANT_ENCAPSED_STRING","'ftp'",44],"]",";",["T_WHITESPACE","\n            ",44],["T_IF","if",45],"(",["T_VARIABLE","$ftp",45],")",["T_WHITESPACE"," ",45],"{",["T_WHITESPACE","\n                ",45],["T_LIST","list",46],"(",["T_VARIABLE","$cache",46],",",["T_WHITESPACE"," ",46],["T_VARIABLE","$ftpObj",46],")",["T_WHITESPACE"," ",46],"=",["T_WHITESPACE"," ",46],["T_VARIABLE","$packager",46],["T_OBJECT_OPERATOR","->",46],["T_STRING","getRemoteCache",46],"(",["T_VARIABLE","$ftp",46],")",";",["T_WHITESPACE","\n            ",46],"}",["T_WHITESPACE"," ",47],["T_ELSE","else",47],["T_WHITESPACE"," ",47],"{",["T_WHITESPACE","\n                ",47],["T_VARIABLE","$cache",48],["T_WHITESPACE"," ",48],"=",["T_WHITESPACE"," ",48],["T_VARIABLE","$this",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","getSconfig",48],"(",")",";",["T_WHITESPACE","\n            ",48],"}",["T_WHITESPACE","\n            ",49],["T_IF","if",50],"(","!",["T_EMPTY","empty",50],"(",["T_VARIABLE","$params",50],"[",["T_LNUMBER","0",50],"]",")",")",["T_WHITESPACE"," ",50],"{",["T_WHITESPACE","\n                ",50],["T_VARIABLE","$chanName",51],["T_WHITESPACE"," ",51],"=",["T_WHITESPACE"," ",51],["T_VARIABLE","$conf",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","chanName",51],"(",["T_VARIABLE","$params",51],"[",["T_LNUMBER","0",51],"]",")",";",["T_WHITESPACE","\n                ",51],["T_VARIABLE","$data",52],["T_WHITESPACE"," ",52],"=",["T_WHITESPACE"," ",52],["T_VARIABLE","$cache",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","getInstalledPackages",52],"(",["T_VARIABLE","$chanName",52],")",";",["T_WHITESPACE","\n            ",52],"}",["T_WHITESPACE"," ",53],["T_ELSE","else",53],["T_WHITESPACE"," ",53],"{",["T_WHITESPACE","\n                ",53],["T_VARIABLE","$data",54],["T_WHITESPACE"," ",54],"=",["T_WHITESPACE"," ",54],["T_VARIABLE","$cache",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","getInstalledPackages",54],"(",")",";",["T_WHITESPACE","\n            ",54],"}",["T_WHITESPACE","\n            ",55],["T_IF","if",56],"(",["T_VARIABLE","$ftp",56],")",["T_WHITESPACE"," ",56],"{",["T_WHITESPACE","\n                ",56],"@",["T_STRING","unlink",57],"(",["T_VARIABLE","$cache",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","getFilename",57],"(",")",")",";",["T_WHITESPACE","\n            ",57],"}",["T_WHITESPACE","\n            ",58],["T_VARIABLE","$this",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","ui",59],"(",")",["T_OBJECT_OPERATOR","->",59],["T_STRING","output",59],"(",["T_ARRAY","array",59],"(",["T_VARIABLE","$command",59],["T_DOUBLE_ARROW","=>",59],["T_ARRAY","array",59],"(",["T_CONSTANT_ENCAPSED_STRING","'data'",59],["T_DOUBLE_ARROW","=>",59],["T_VARIABLE","$data",59],",",["T_WHITESPACE"," ",59],["T_CONSTANT_ENCAPSED_STRING","'channel-title'",59],["T_DOUBLE_ARROW","=>",59],["T_CONSTANT_ENCAPSED_STRING","\"Installed package for channel '%s' :\"",59],")",")",")",";",["T_WHITESPACE","\n        ",59],"}",["T_WHITESPACE"," ",60],["T_CATCH","catch",60],["T_WHITESPACE"," ",60],"(",["T_STRING","Exception",60],["T_WHITESPACE"," ",60],["T_VARIABLE","$e",60],")",["T_WHITESPACE"," ",60],"{",["T_WHITESPACE","\n            ",60],["T_IF","if",61],"(",["T_VARIABLE","$ftp",61],")",["T_WHITESPACE"," ",61],"{",["T_WHITESPACE","\n                ",61],"@",["T_STRING","unlink",62],"(",["T_VARIABLE","$cache",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","getFilename",62],"(",")",")",";",["T_WHITESPACE","\n            ",62],"}",["T_WHITESPACE","\n            ",63],["T_VARIABLE","$this",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","doError",64],"(",["T_VARIABLE","$command",64],",",["T_WHITESPACE"," ",64],["T_VARIABLE","$e",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","getMessage",64],"(",")",")",";",["T_WHITESPACE","\n        ",64],"}",["T_WHITESPACE","\n\n    ",65],"}",["T_WHITESPACE","\n\n    ",67],["T_DOC_COMMENT","\/**\n     * list-files callback\n     * @param string $command\n     * @param array $options\n     * @param array $params\n     * @return void\n     *\/",69],["T_WHITESPACE","\n    ",75],["T_PUBLIC","public",76],["T_WHITESPACE"," ",76],["T_FUNCTION","function",76],["T_WHITESPACE"," ",76],["T_STRING","doFileList",76],"(",["T_VARIABLE","$command",76],",",["T_WHITESPACE"," ",76],["T_VARIABLE","$options",76],",",["T_WHITESPACE"," ",76],["T_VARIABLE","$params",76],")",["T_WHITESPACE","\n    ",76],"{",["T_WHITESPACE","\n        ",77],["T_VARIABLE","$this",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","cleanupParams",78],"(",["T_VARIABLE","$params",78],")",";",["T_WHITESPACE","\n        ",78],["T_COMMENT","\/\/$this->splitPackageArgs($params);\n",79],["T_WHITESPACE","        ",80],["T_TRY","try",80],["T_WHITESPACE"," ",80],"{",["T_WHITESPACE","\n            ",80],["T_VARIABLE","$channel",81],["T_WHITESPACE"," ",81],"=",["T_WHITESPACE"," ",81],["T_STRING","false",81],";",["T_WHITESPACE","\n            ",81],["T_IF","if",82],"(",["T_STRING","count",82],"(",["T_VARIABLE","$params",82],")",["T_WHITESPACE"," ",82],"<",["T_WHITESPACE"," ",82],["T_LNUMBER","2",82],")",["T_WHITESPACE"," ",82],"{",["T_WHITESPACE","\n                ",82],["T_THROW","throw",83],["T_WHITESPACE"," ",83],["T_NEW","new",83],["T_WHITESPACE"," ",83],["T_STRING","Exception",83],"(",["T_CONSTANT_ENCAPSED_STRING","\"Argument count should be = 2\"",83],")",";",["T_WHITESPACE","\n            ",83],"}",["T_WHITESPACE","\n            ",84],["T_VARIABLE","$channel",85],["T_WHITESPACE"," ",85],"=",["T_WHITESPACE"," ",85],["T_VARIABLE","$params",85],"[",["T_LNUMBER","0",85],"]",";",["T_WHITESPACE","\n            ",85],["T_VARIABLE","$package",86],["T_WHITESPACE"," ",86],"=",["T_WHITESPACE"," ",86],["T_VARIABLE","$params",86],"[",["T_LNUMBER","1",86],"]",";",["T_WHITESPACE","\n\n            ",86],["T_VARIABLE","$packager",88],["T_WHITESPACE"," ",88],"=",["T_WHITESPACE"," ",88],["T_VARIABLE","$this",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","getPackager",88],"(",")",";",["T_WHITESPACE","\n            ",88],["T_VARIABLE","$ftp",89],["T_WHITESPACE"," ",89],"=",["T_WHITESPACE"," ",89],["T_EMPTY","empty",89],"(",["T_VARIABLE","$options",89],"[",["T_CONSTANT_ENCAPSED_STRING","'ftp'",89],"]",")",["T_WHITESPACE"," ",89],"?",["T_WHITESPACE"," ",89],["T_STRING","false",89],["T_WHITESPACE"," ",89],":",["T_WHITESPACE"," ",89],["T_VARIABLE","$options",89],"[",["T_CONSTANT_ENCAPSED_STRING","'ftp'",89],"]",";",["T_WHITESPACE","\n            ",89],["T_IF","if",90],"(",["T_VARIABLE","$ftp",90],")",["T_WHITESPACE"," ",90],"{",["T_WHITESPACE","\n                ",90],["T_LIST","list",91],"(",["T_VARIABLE","$cache",91],",",["T_WHITESPACE"," ",91],["T_VARIABLE","$config",91],",",["T_WHITESPACE"," ",91],["T_VARIABLE","$ftpObj",91],")",["T_WHITESPACE"," ",91],"=",["T_WHITESPACE"," ",91],["T_VARIABLE","$packager",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","getRemoteConf",91],"(",["T_VARIABLE","$ftp",91],")",";",["T_WHITESPACE","\n            ",91],"}",["T_WHITESPACE"," ",92],["T_ELSE","else",92],["T_WHITESPACE"," ",92],"{",["T_WHITESPACE","\n                ",92],["T_VARIABLE","$cache",93],["T_WHITESPACE"," ",93],"=",["T_WHITESPACE"," ",93],["T_VARIABLE","$this",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","getSconfig",93],"(",")",";",["T_WHITESPACE","\n                ",93],["T_VARIABLE","$confif",94],["T_WHITESPACE"," ",94],"=",["T_WHITESPACE"," ",94],["T_VARIABLE","$this",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","config",94],"(",")",";",["T_WHITESPACE","\n            ",94],"}",["T_WHITESPACE","\n            ",95],["T_IF","if",96],"(","!",["T_VARIABLE","$cache",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","hasPackage",96],"(",["T_VARIABLE","$channel",96],",",["T_WHITESPACE"," ",96],["T_VARIABLE","$package",96],")",")",["T_WHITESPACE"," ",96],"{",["T_WHITESPACE","\n                ",96],["T_RETURN","return",97],["T_WHITESPACE"," ",97],["T_VARIABLE","$this",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","ui",97],"(",")",["T_OBJECT_OPERATOR","->",97],["T_STRING","output",97],"(","\"",["T_ENCAPSED_AND_WHITESPACE","No package found: ",97],["T_CURLY_OPEN","{",97],["T_VARIABLE","$channel",97],"}",["T_ENCAPSED_AND_WHITESPACE","\/",97],["T_CURLY_OPEN","{",97],["T_VARIABLE","$package",97],"}","\"",")",";",["T_WHITESPACE","\n            ",97],"}",["T_WHITESPACE","\n\n            ",98],["T_VARIABLE","$p",100],["T_WHITESPACE"," ",100],"=",["T_WHITESPACE"," ",100],["T_VARIABLE","$cache",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","getPackageObject",100],"(",["T_VARIABLE","$channel",100],",",["T_WHITESPACE"," ",100],["T_VARIABLE","$package",100],")",";",["T_WHITESPACE","\n            ",100],["T_VARIABLE","$contents",101],["T_WHITESPACE"," ",101],"=",["T_WHITESPACE"," ",101],["T_VARIABLE","$p",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","getContents",101],"(",")",";",["T_WHITESPACE","\n            ",101],["T_IF","if",102],"(",["T_VARIABLE","$ftp",102],")",["T_WHITESPACE"," ",102],"{",["T_WHITESPACE","\n                ",102],["T_VARIABLE","$ftpObj",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","close",103],"(",")",";",["T_WHITESPACE","\n            ",103],"}",["T_WHITESPACE","\n            ",104],["T_IF","if",105],"(","!",["T_STRING","count",105],"(",["T_VARIABLE","$contents",105],")",")",["T_WHITESPACE"," ",105],"{",["T_WHITESPACE","\n                ",105],["T_RETURN","return",106],["T_WHITESPACE"," ",106],["T_VARIABLE","$this",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","ui",106],"(",")",["T_OBJECT_OPERATOR","->",106],["T_STRING","output",106],"(","\"",["T_ENCAPSED_AND_WHITESPACE","No contents for package ",106],["T_CURLY_OPEN","{",106],["T_VARIABLE","$package",106],"}","\"",")",";",["T_WHITESPACE","\n            ",106],"}",["T_WHITESPACE","\n            ",107],["T_VARIABLE","$title",108],["T_WHITESPACE"," ",108],"=",["T_WHITESPACE"," ",108],"(","\"",["T_ENCAPSED_AND_WHITESPACE","Contents of '",108],["T_CURLY_OPEN","{",108],["T_VARIABLE","$package",108],"}",["T_ENCAPSED_AND_WHITESPACE","': ",108],"\"",")",";",["T_WHITESPACE","\n            ",108],["T_IF","if",109],"(",["T_VARIABLE","$ftp",109],")",["T_WHITESPACE"," ",109],"{",["T_WHITESPACE","\n                ",109],"@",["T_STRING","unlink",110],"(",["T_VARIABLE","$config",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","getFilename",110],"(",")",")",";",["T_WHITESPACE","\n                ",110],"@",["T_STRING","unlink",111],"(",["T_VARIABLE","$cache",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","getFilename",111],"(",")",")",";",["T_WHITESPACE","\n            ",111],"}",["T_WHITESPACE","\n\n            ",112],["T_VARIABLE","$this",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","ui",114],"(",")",["T_OBJECT_OPERATOR","->",114],["T_STRING","output",114],"(",["T_ARRAY","array",114],"(",["T_VARIABLE","$command",114],["T_DOUBLE_ARROW","=>",114],["T_ARRAY","array",114],"(",["T_CONSTANT_ENCAPSED_STRING","'data'",114],["T_DOUBLE_ARROW","=>",114],["T_VARIABLE","$contents",114],",",["T_WHITESPACE"," ",114],["T_CONSTANT_ENCAPSED_STRING","'title'",114],["T_DOUBLE_ARROW","=>",114],["T_VARIABLE","$title",114],")",")",")",";",["T_WHITESPACE","\n\n        ",114],"}",["T_WHITESPACE"," ",116],["T_CATCH","catch",116],["T_WHITESPACE"," ",116],"(",["T_STRING","Exception",116],["T_WHITESPACE"," ",116],["T_VARIABLE","$e",116],")",["T_WHITESPACE"," ",116],"{",["T_WHITESPACE","\n            ",116],["T_IF","if",117],"(",["T_VARIABLE","$ftp",117],")",["T_WHITESPACE"," ",117],"{",["T_WHITESPACE","\n                ",117],"@",["T_STRING","unlink",118],"(",["T_VARIABLE","$config",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","getFilename",118],"(",")",")",";",["T_WHITESPACE","\n                ",118],"@",["T_STRING","unlink",119],"(",["T_VARIABLE","$cache",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","getFilename",119],"(",")",")",";",["T_WHITESPACE","\n            ",119],"}",["T_WHITESPACE","\n            ",120],["T_VARIABLE","$this",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","doError",121],"(",["T_VARIABLE","$command",121],",",["T_WHITESPACE"," ",121],["T_VARIABLE","$e",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","getMessage",121],"(",")",")",";",["T_WHITESPACE","\n        ",121],"}",["T_WHITESPACE","\n\n    ",122],"}",["T_WHITESPACE","\n\n    ",124],["T_DOC_COMMENT","\/**\n     * Installed package info\n     * info command callback\n     * @param string $command\n     * @param array $options\n     * @param array $params\n     * @return\n     *\/",126],["T_WHITESPACE","\n    ",133],["T_PUBLIC","public",134],["T_WHITESPACE"," ",134],["T_FUNCTION","function",134],["T_WHITESPACE"," ",134],["T_STRING","doInfo",134],"(",["T_VARIABLE","$command",134],",",["T_WHITESPACE"," ",134],["T_VARIABLE","$options",134],",",["T_WHITESPACE"," ",134],["T_VARIABLE","$params",134],")",["T_WHITESPACE","\n    ",134],"{",["T_WHITESPACE","\n        ",135],["T_VARIABLE","$this",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","cleanupParams",136],"(",["T_VARIABLE","$params",136],")",";",["T_WHITESPACE","\n        ",136],["T_COMMENT","\/\/$this->splitPackageArgs($params);\n",137],["T_WHITESPACE","\n        ",138],["T_VARIABLE","$cache",139],["T_WHITESPACE"," ",139],"=",["T_WHITESPACE"," ",139],["T_STRING","null",139],";",["T_WHITESPACE","\n        ",139],["T_VARIABLE","$ftp",140],["T_WHITESPACE"," ",140],"=",["T_WHITESPACE"," ",140],["T_EMPTY","empty",140],"(",["T_VARIABLE","$options",140],"[",["T_CONSTANT_ENCAPSED_STRING","'ftp'",140],"]",")",["T_WHITESPACE"," ",140],"?",["T_WHITESPACE"," ",140],["T_STRING","false",140],["T_WHITESPACE"," ",140],":",["T_WHITESPACE"," ",140],["T_VARIABLE","$options",140],"[",["T_CONSTANT_ENCAPSED_STRING","'ftp'",140],"]",";",["T_WHITESPACE","\n        ",140],["T_TRY","try",141],["T_WHITESPACE"," ",141],"{",["T_WHITESPACE","\n            ",141],["T_VARIABLE","$channel",142],["T_WHITESPACE"," ",142],"=",["T_WHITESPACE"," ",142],["T_STRING","false",142],";",["T_WHITESPACE","\n            ",142],["T_IF","if",143],"(",["T_STRING","count",143],"(",["T_VARIABLE","$params",143],")",["T_WHITESPACE"," ",143],"<",["T_WHITESPACE"," ",143],["T_LNUMBER","2",143],")",["T_WHITESPACE"," ",143],"{",["T_WHITESPACE","\n                ",143],["T_THROW","throw",144],["T_WHITESPACE"," ",144],["T_NEW","new",144],["T_WHITESPACE"," ",144],["T_STRING","Exception",144],"(",["T_CONSTANT_ENCAPSED_STRING","\"Argument count should be = 2\"",144],")",";",["T_WHITESPACE","\n            ",144],"}",["T_WHITESPACE","\n            ",145],["T_VARIABLE","$channel",146],["T_WHITESPACE"," ",146],"=",["T_WHITESPACE"," ",146],["T_VARIABLE","$params",146],"[",["T_LNUMBER","0",146],"]",";",["T_WHITESPACE","\n            ",146],["T_VARIABLE","$package",147],["T_WHITESPACE"," ",147],"=",["T_WHITESPACE"," ",147],["T_VARIABLE","$params",147],"[",["T_LNUMBER","1",147],"]",";",["T_WHITESPACE","\n            ",147],["T_VARIABLE","$packager",148],["T_WHITESPACE"," ",148],"=",["T_WHITESPACE"," ",148],["T_VARIABLE","$this",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","getPackager",148],"(",")",";",["T_WHITESPACE","\n            ",148],["T_IF","if",149],"(",["T_VARIABLE","$ftp",149],")",["T_WHITESPACE"," ",149],"{",["T_WHITESPACE","\n                ",149],["T_LIST","list",150],"(",["T_VARIABLE","$cache",150],",",["T_WHITESPACE"," ",150],["T_VARIABLE","$ftpObj",150],")",["T_WHITESPACE"," ",150],"=",["T_WHITESPACE"," ",150],["T_VARIABLE","$packager",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","getRemoteCache",150],"(",["T_VARIABLE","$ftp",150],")",";",["T_WHITESPACE","\n            ",150],"}",["T_WHITESPACE"," ",151],["T_ELSE","else",151],["T_WHITESPACE"," ",151],"{",["T_WHITESPACE","\n                ",151],["T_VARIABLE","$cache",152],["T_WHITESPACE"," ",152],"=",["T_WHITESPACE"," ",152],["T_VARIABLE","$this",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","getSconfig",152],"(",")",";",["T_WHITESPACE","\n            ",152],"}",["T_WHITESPACE","\n\n            ",153],["T_IF","if",155],"(","!",["T_VARIABLE","$cache",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","isChannel",155],"(",["T_VARIABLE","$channel",155],")",")",["T_WHITESPACE"," ",155],"{",["T_WHITESPACE","\n                ",155],["T_THROW","throw",156],["T_WHITESPACE"," ",156],["T_NEW","new",156],["T_WHITESPACE"," ",156],["T_STRING","Exception",156],"(","\"",["T_ENCAPSED_AND_WHITESPACE","'",156],["T_CURLY_OPEN","{",156],["T_VARIABLE","$channel",156],"}",["T_ENCAPSED_AND_WHITESPACE","' is not a valid installed channel name\/uri",156],"\"",")",";",["T_WHITESPACE","\n            ",156],"}",["T_WHITESPACE","\n            ",157],["T_VARIABLE","$channelUri",158],["T_WHITESPACE"," ",158],"=",["T_WHITESPACE"," ",158],["T_VARIABLE","$cache",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","chanUrl",158],"(",["T_VARIABLE","$channel",158],")",";",["T_WHITESPACE","\n            ",158],["T_VARIABLE","$rest",159],["T_WHITESPACE"," ",159],"=",["T_WHITESPACE"," ",159],["T_VARIABLE","$this",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","rest",159],"(",")",";",["T_WHITESPACE","\n            ",159],["T_VARIABLE","$rest",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","setChannel",160],"(",["T_VARIABLE","$channelUri",160],")",";",["T_WHITESPACE","\n            ",160],["T_VARIABLE","$releases",161],["T_WHITESPACE"," ",161],"=",["T_WHITESPACE"," ",161],["T_VARIABLE","$rest",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","getReleases",161],"(",["T_VARIABLE","$package",161],")",";",["T_WHITESPACE","\n            ",161],["T_IF","if",162],"(",["T_STRING","false",162],["T_WHITESPACE"," ",162],["T_IS_IDENTICAL","===",162],["T_WHITESPACE"," ",162],["T_VARIABLE","$releases",162],")",["T_WHITESPACE"," ",162],"{",["T_WHITESPACE","\n                ",162],["T_THROW","throw",163],["T_WHITESPACE"," ",163],["T_NEW","new",163],["T_WHITESPACE"," ",163],["T_STRING","Exception",163],"(","\"",["T_ENCAPSED_AND_WHITESPACE","No information found about ",163],["T_CURLY_OPEN","{",163],["T_VARIABLE","$channel",163],"}",["T_ENCAPSED_AND_WHITESPACE","\/",163],["T_CURLY_OPEN","{",163],["T_VARIABLE","$package",163],"}","\"",")",";",["T_WHITESPACE","\n            ",163],"}",["T_WHITESPACE","\n            ",164],["T_VARIABLE","$data",165],["T_WHITESPACE"," ",165],"=",["T_WHITESPACE"," ",165],["T_ARRAY","array",165],"(",["T_VARIABLE","$command",165],["T_WHITESPACE"," ",165],["T_DOUBLE_ARROW","=>",165],["T_WHITESPACE"," ",165],["T_ARRAY","array",165],"(",["T_CONSTANT_ENCAPSED_STRING","'releases'",165],["T_DOUBLE_ARROW","=>",165],["T_VARIABLE","$releases",165],")",")",";",["T_WHITESPACE","\n            ",165],["T_IF","if",166],"(",["T_VARIABLE","$ftp",166],")",["T_WHITESPACE"," ",166],"{",["T_WHITESPACE","\n                ",166],"@",["T_STRING","unlink",167],"(",["T_VARIABLE","$cache",167],["T_OBJECT_OPERATOR","->",167],["T_STRING","getFilename",167],"(",")",")",";",["T_WHITESPACE","\n            ",167],"}",["T_WHITESPACE","\n            ",168],["T_VARIABLE","$this",169],["T_OBJECT_OPERATOR","->",169],["T_STRING","ui",169],"(",")",["T_OBJECT_OPERATOR","->",169],["T_STRING","output",169],"(",["T_VARIABLE","$data",169],")",";",["T_WHITESPACE","\n        ",169],"}",["T_WHITESPACE"," ",170],["T_CATCH","catch",170],["T_WHITESPACE"," ",170],"(",["T_STRING","Exception",170],["T_WHITESPACE"," ",170],["T_VARIABLE","$e",170],")",["T_WHITESPACE"," ",170],"{",["T_WHITESPACE","\n            ",170],["T_IF","if",171],["T_WHITESPACE"," ",171],"(",["T_VARIABLE","$ftp",171],["T_WHITESPACE"," ",171],["T_BOOLEAN_AND","&&",171],["T_WHITESPACE"," ",171],["T_ISSET","isset",171],"(",["T_VARIABLE","$cache",171],")",")",["T_WHITESPACE"," ",171],"{",["T_WHITESPACE","\n                ",171],"@",["T_STRING","unlink",172],"(",["T_VARIABLE","$cache",172],["T_OBJECT_OPERATOR","->",172],["T_STRING","getFilename",172],"(",")",")",";",["T_WHITESPACE","\n            ",172],"}",["T_WHITESPACE","\n            ",173],["T_VARIABLE","$this",174],["T_OBJECT_OPERATOR","->",174],["T_STRING","doError",174],"(",["T_VARIABLE","$command",174],",",["T_WHITESPACE"," ",174],["T_VARIABLE","$e",174],["T_OBJECT_OPERATOR","->",174],["T_STRING","getMessage",174],"(",")",")",";",["T_WHITESPACE","\n        ",174],"}",["T_WHITESPACE","\n    ",175],"}",["T_WHITESPACE","\n\n    ",176],["T_DOC_COMMENT","\/**\n     * Synchronize manually installed package info with local cache\n     *\n     * @param string $command\n     * @param array $options\n     * @param array $params\n     *\/",178],["T_WHITESPACE","\n    ",184],["T_PUBLIC","public",185],["T_WHITESPACE"," ",185],["T_FUNCTION","function",185],["T_WHITESPACE"," ",185],["T_STRING","doSync",185],"(",["T_VARIABLE","$command",185],",",["T_WHITESPACE"," ",185],["T_VARIABLE","$options",185],",",["T_WHITESPACE"," ",185],["T_VARIABLE","$params",185],")",["T_WHITESPACE","\n    ",185],"{",["T_WHITESPACE","\n        ",186],["T_VARIABLE","$this",187],["T_OBJECT_OPERATOR","->",187],["T_STRING","cleanupParams",187],"(",["T_VARIABLE","$params",187],")",";",["T_WHITESPACE","\n        ",187],["T_TRY","try",188],["T_WHITESPACE"," ",188],"{",["T_WHITESPACE","\n            ",188],["T_VARIABLE","$packager",189],["T_WHITESPACE"," ",189],"=",["T_WHITESPACE"," ",189],["T_VARIABLE","$this",189],["T_OBJECT_OPERATOR","->",189],["T_STRING","getPackager",189],"(",")",";",["T_WHITESPACE","\n            ",189],["T_VARIABLE","$cache",190],["T_WHITESPACE"," ",190],"=",["T_WHITESPACE"," ",190],["T_STRING","null",190],";",["T_WHITESPACE","\n            ",190],["T_VARIABLE","$config",191],["T_WHITESPACE"," ",191],"=",["T_WHITESPACE"," ",191],["T_STRING","null",191],";",["T_WHITESPACE","\n            ",191],["T_VARIABLE","$ftpObj",192],["T_WHITESPACE"," ",192],"=",["T_WHITESPACE"," ",192],["T_STRING","null",192],";",["T_WHITESPACE","\n            ",192],["T_VARIABLE","$ftp",193],["T_WHITESPACE"," ",193],"=",["T_WHITESPACE"," ",193],["T_EMPTY","empty",193],"(",["T_VARIABLE","$options",193],"[",["T_CONSTANT_ENCAPSED_STRING","'ftp'",193],"]",")",["T_WHITESPACE"," ",193],"?",["T_WHITESPACE"," ",193],["T_STRING","false",193],["T_WHITESPACE"," ",193],":",["T_WHITESPACE"," ",193],["T_VARIABLE","$options",193],"[",["T_CONSTANT_ENCAPSED_STRING","'ftp'",193],"]",";",["T_WHITESPACE","\n            ",193],["T_IF","if",194],"(",["T_VARIABLE","$ftp",194],")",["T_WHITESPACE"," ",194],"{",["T_WHITESPACE","\n                ",194],["T_LIST","list",195],"(",["T_VARIABLE","$cache",195],",",["T_WHITESPACE"," ",195],["T_VARIABLE","$config",195],",",["T_WHITESPACE"," ",195],["T_VARIABLE","$ftpObj",195],")",["T_WHITESPACE"," ",195],"=",["T_WHITESPACE"," ",195],["T_VARIABLE","$packager",195],["T_OBJECT_OPERATOR","->",195],["T_STRING","getRemoteConf",195],"(",["T_VARIABLE","$ftp",195],")",";",["T_WHITESPACE","\n            ",195],"}",["T_WHITESPACE"," ",196],["T_ELSE","else",196],["T_WHITESPACE"," ",196],"{",["T_WHITESPACE","\n                ",196],["T_VARIABLE","$config",197],["T_WHITESPACE"," ",197],"=",["T_WHITESPACE"," ",197],["T_VARIABLE","$this",197],["T_OBJECT_OPERATOR","->",197],["T_STRING","config",197],"(",")",";",["T_WHITESPACE","\n                ",197],["T_VARIABLE","$cache",198],["T_WHITESPACE"," ",198],"=",["T_WHITESPACE"," ",198],["T_VARIABLE","$this",198],["T_OBJECT_OPERATOR","->",198],["T_STRING","getSconfig",198],"(",")",";",["T_WHITESPACE","\n            ",198],"}",["T_WHITESPACE","\n            ",199],["T_IF","if",200],["T_WHITESPACE"," ",200],"(",["T_VARIABLE","$this",200],["T_OBJECT_OPERATOR","->",200],["T_STRING","_checkPearData",200],"(",["T_VARIABLE","$config",200],")",")",["T_WHITESPACE"," ",200],"{",["T_WHITESPACE","\n                ",200],["T_VARIABLE","$this",201],["T_OBJECT_OPERATOR","->",201],["T_STRING","doSyncPear",201],"(",["T_VARIABLE","$command",201],",",["T_WHITESPACE"," ",201],["T_VARIABLE","$options",201],",",["T_WHITESPACE"," ",201],["T_VARIABLE","$params",201],")",";",["T_WHITESPACE","\n            ",201],"}",["T_WHITESPACE","\n\n            ",202],["T_VARIABLE","$packageDir",204],["T_WHITESPACE"," ",204],"=",["T_WHITESPACE"," ",204],["T_VARIABLE","$config",204],["T_OBJECT_OPERATOR","->",204],["T_STRING","magento_root",204],["T_WHITESPACE"," ",204],".",["T_WHITESPACE"," ",204],["T_STRING","DS",204],["T_WHITESPACE"," ",204],".",["T_WHITESPACE"," ",204],["T_STRING","Mage_Connect_Package",204],["T_DOUBLE_COLON","::",204],["T_STRING","PACKAGE_XML_DIR",204],";",["T_WHITESPACE","\n            ",204],["T_IF","if",205],["T_WHITESPACE"," ",205],"(",["T_STRING","is_dir",205],"(",["T_VARIABLE","$packageDir",205],")",")",["T_WHITESPACE"," ",205],"{",["T_WHITESPACE","\n                ",205],["T_VARIABLE","$entries",206],["T_WHITESPACE"," ",206],"=",["T_WHITESPACE"," ",206],["T_STRING","scandir",206],"(",["T_VARIABLE","$packageDir",206],")",";",["T_WHITESPACE","\n                ",206],["T_FOREACH","foreach",207],["T_WHITESPACE"," ",207],"(",["T_ARRAY_CAST","(array)",207],["T_VARIABLE","$entries",207],["T_WHITESPACE"," ",207],["T_AS","as",207],["T_WHITESPACE"," ",207],["T_VARIABLE","$entry",207],")",["T_WHITESPACE"," ",207],"{",["T_WHITESPACE","\n                    ",207],["T_VARIABLE","$path",208],["T_WHITESPACE"," ",208],"=",["T_WHITESPACE","  ",208],["T_VARIABLE","$packageDir",208],".",["T_WHITESPACE"," ",208],["T_STRING","DS",208],["T_WHITESPACE"," ",208],".",["T_VARIABLE","$entry",208],";",["T_WHITESPACE","\n                    ",208],["T_VARIABLE","$info",209],["T_WHITESPACE"," ",209],"=",["T_WHITESPACE"," ",209],["T_STRING","pathinfo",209],"(",["T_VARIABLE","$path",209],")",";",["T_WHITESPACE","\n                    ",209],["T_IF","if",210],["T_WHITESPACE"," ",210],"(",["T_VARIABLE","$entry",210],["T_WHITESPACE"," ",210],["T_IS_EQUAL","==",210],["T_WHITESPACE"," ",210],["T_CONSTANT_ENCAPSED_STRING","'.'",210],["T_WHITESPACE"," ",210],["T_BOOLEAN_OR","||",210],["T_WHITESPACE"," ",210],["T_VARIABLE","$entry",210],["T_WHITESPACE"," ",210],["T_IS_EQUAL","==",210],["T_WHITESPACE"," ",210],["T_CONSTANT_ENCAPSED_STRING","'..'",210],["T_WHITESPACE"," ",210],["T_BOOLEAN_OR","||",210],["T_WHITESPACE"," ",210],["T_STRING","is_dir",210],"(",["T_VARIABLE","$path",210],")",["T_WHITESPACE"," ",210],["T_BOOLEAN_OR","||",210],["T_WHITESPACE"," ",210],["T_VARIABLE","$info",210],"[",["T_CONSTANT_ENCAPSED_STRING","'extension'",210],"]",["T_WHITESPACE"," ",210],["T_IS_NOT_EQUAL","!=",210],["T_WHITESPACE"," ",210],["T_CONSTANT_ENCAPSED_STRING","'xml'",210],")",["T_WHITESPACE"," ",210],"{",["T_WHITESPACE","\n                        ",210],["T_CONTINUE","continue",211],";",["T_WHITESPACE","\n                    ",211],"}",["T_WHITESPACE","\n\n                    ",212],["T_IF","if",214],["T_WHITESPACE"," ",214],"(",["T_STRING","is_readable",214],"(",["T_VARIABLE","$path",214],")",")",["T_WHITESPACE"," ",214],"{",["T_WHITESPACE","\n                        ",214],["T_VARIABLE","$data",215],["T_WHITESPACE"," ",215],"=",["T_WHITESPACE"," ",215],["T_STRING","file_get_contents",215],"(",["T_VARIABLE","$path",215],")",";",["T_WHITESPACE","\n                        ",215],["T_IF","if",216],["T_WHITESPACE"," ",216],"(",["T_VARIABLE","$data",216],["T_WHITESPACE"," ",216],["T_IS_IDENTICAL","===",216],["T_WHITESPACE"," ",216],["T_STRING","false",216],")",["T_WHITESPACE"," ",216],"{",["T_WHITESPACE","\n                            ",216],["T_CONTINUE","continue",217],";",["T_WHITESPACE","\n                        ",217],"}",["T_WHITESPACE","\n\n                        ",218],["T_VARIABLE","$package",220],["T_WHITESPACE"," ",220],"=",["T_WHITESPACE"," ",220],["T_NEW","new",220],["T_WHITESPACE"," ",220],["T_STRING","Mage_Connect_Package",220],"(",["T_VARIABLE","$data",220],")",";",["T_WHITESPACE","\n                        ",220],["T_VARIABLE","$name",221],["T_WHITESPACE"," ",221],"=",["T_WHITESPACE"," ",221],["T_VARIABLE","$package",221],["T_OBJECT_OPERATOR","->",221],["T_STRING","getName",221],"(",")",";",["T_WHITESPACE","\n                        ",221],["T_VARIABLE","$channel",222],["T_WHITESPACE"," ",222],"=",["T_WHITESPACE"," ",222],["T_VARIABLE","$package",222],["T_OBJECT_OPERATOR","->",222],["T_STRING","getChannel",222],"(",")",";",["T_WHITESPACE","\n                        ",222],["T_VARIABLE","$version",223],["T_WHITESPACE"," ",223],"=",["T_WHITESPACE"," ",223],["T_VARIABLE","$package",223],["T_OBJECT_OPERATOR","->",223],["T_STRING","getVersion",223],"(",")",";",["T_WHITESPACE","\n                        ",223],["T_IF","if",224],["T_WHITESPACE"," ",224],"(","!",["T_VARIABLE","$cache",224],["T_OBJECT_OPERATOR","->",224],["T_STRING","isChannel",224],"(",["T_VARIABLE","$channel",224],")",["T_WHITESPACE"," ",224],["T_BOOLEAN_AND","&&",224],["T_WHITESPACE"," ",224],["T_VARIABLE","$channel",224],["T_WHITESPACE"," ",224],["T_IS_EQUAL","==",224],["T_WHITESPACE"," ",224],["T_VARIABLE","$config",224],["T_OBJECT_OPERATOR","->",224],["T_STRING","root_channel",224],")",["T_WHITESPACE"," ",224],"{",["T_WHITESPACE","\n                            ",224],["T_VARIABLE","$cache",225],["T_OBJECT_OPERATOR","->",225],["T_STRING","addChannel",225],"(",["T_VARIABLE","$channel",225],",",["T_WHITESPACE"," ",225],["T_VARIABLE","$config",225],["T_OBJECT_OPERATOR","->",225],["T_STRING","root_channel_uri",225],")",";",["T_WHITESPACE","\n                        ",225],"}",["T_WHITESPACE","\n                        ",226],["T_IF","if",227],["T_WHITESPACE"," ",227],"(","!",["T_VARIABLE","$cache",227],["T_OBJECT_OPERATOR","->",227],["T_STRING","hasPackage",227],"(",["T_VARIABLE","$channel",227],",",["T_WHITESPACE"," ",227],["T_VARIABLE","$name",227],",",["T_WHITESPACE"," ",227],["T_VARIABLE","$version",227],",",["T_WHITESPACE"," ",227],["T_VARIABLE","$version",227],")",")",["T_WHITESPACE"," ",227],"{",["T_WHITESPACE","\n                            ",227],["T_VARIABLE","$cache",228],["T_OBJECT_OPERATOR","->",228],["T_STRING","addPackage",228],"(",["T_VARIABLE","$package",228],")",";",["T_WHITESPACE","\n                            ",228],["T_VARIABLE","$this",229],["T_OBJECT_OPERATOR","->",229],["T_STRING","ui",229],"(",")",["T_OBJECT_OPERATOR","->",229],["T_STRING","output",229],"(","\"",["T_ENCAPSED_AND_WHITESPACE","Successfully added: ",229],["T_CURLY_OPEN","{",229],["T_VARIABLE","$channel",229],"}",["T_ENCAPSED_AND_WHITESPACE","\/",229],["T_CURLY_OPEN","{",229],["T_VARIABLE","$name",229],"}",["T_ENCAPSED_AND_WHITESPACE","-",229],["T_CURLY_OPEN","{",229],["T_VARIABLE","$version",229],"}","\"",")",";",["T_WHITESPACE","\n                        ",229],"}",["T_WHITESPACE","\n                    ",230],"}",["T_WHITESPACE","\n                ",231],"}",["T_WHITESPACE","\n                ",232],["T_IF","if",233],["T_WHITESPACE"," ",233],"(",["T_VARIABLE","$ftp",233],")",["T_WHITESPACE"," ",233],"{",["T_WHITESPACE","\n                    ",233],["T_VARIABLE","$packager",234],["T_OBJECT_OPERATOR","->",234],["T_STRING","writeToRemoteCache",234],"(",["T_VARIABLE","$cache",234],",",["T_WHITESPACE"," ",234],["T_VARIABLE","$ftpObj",234],")",";",["T_WHITESPACE","\n                ",234],"}",["T_WHITESPACE","\n            ",235],"}",["T_WHITESPACE","\n        ",236],"}",["T_WHITESPACE"," ",237],["T_CATCH","catch",237],["T_WHITESPACE"," ",237],"(",["T_STRING","Exception",237],["T_WHITESPACE"," ",237],["T_VARIABLE","$e",237],")",["T_WHITESPACE"," ",237],"{",["T_WHITESPACE","\n            ",237],["T_VARIABLE","$this",238],["T_OBJECT_OPERATOR","->",238],["T_STRING","doError",238],"(",["T_VARIABLE","$command",238],",",["T_WHITESPACE"," ",238],["T_VARIABLE","$e",238],["T_OBJECT_OPERATOR","->",238],["T_STRING","getMessage",238],"(",")",")",";",["T_WHITESPACE","\n        ",238],"}",["T_WHITESPACE","\n    ",239],"}",["T_WHITESPACE","\n\n    ",240],["T_DOC_COMMENT","\/**\n     * Synchronize packages installed earlier (by pear installer) with local cache\n     *\n     * @param string $command\n     * @param array $options\n     * @param array $params\n     *\/",242],["T_WHITESPACE","\n    ",248],["T_PUBLIC","public",249],["T_WHITESPACE"," ",249],["T_FUNCTION","function",249],["T_WHITESPACE"," ",249],["T_STRING","doSyncPear",249],"(",["T_VARIABLE","$command",249],",",["T_WHITESPACE"," ",249],["T_VARIABLE","$options",249],",",["T_WHITESPACE"," ",249],["T_VARIABLE","$params",249],")",["T_WHITESPACE","\n    ",249],"{",["T_WHITESPACE","\n        ",250],["T_VARIABLE","$this",251],["T_OBJECT_OPERATOR","->",251],["T_STRING","cleanupParams",251],"(",["T_VARIABLE","$params",251],")",";",["T_WHITESPACE","\n        ",251],["T_TRY","try",252],["T_WHITESPACE"," ",252],"{",["T_WHITESPACE","\n            ",252],["T_VARIABLE","$packager",253],["T_WHITESPACE"," ",253],"=",["T_WHITESPACE"," ",253],["T_VARIABLE","$this",253],["T_OBJECT_OPERATOR","->",253],["T_STRING","getPackager",253],"(",")",";",["T_WHITESPACE","\n            ",253],["T_VARIABLE","$cache",254],["T_WHITESPACE"," ",254],"=",["T_WHITESPACE"," ",254],["T_STRING","null",254],";",["T_WHITESPACE","\n            ",254],["T_VARIABLE","$config",255],["T_WHITESPACE"," ",255],"=",["T_WHITESPACE"," ",255],["T_STRING","null",255],";",["T_WHITESPACE","\n            ",255],["T_VARIABLE","$ftpObj",256],["T_WHITESPACE"," ",256],"=",["T_WHITESPACE"," ",256],["T_STRING","null",256],";",["T_WHITESPACE","\n            ",256],["T_VARIABLE","$ftp",257],["T_WHITESPACE"," ",257],"=",["T_WHITESPACE"," ",257],["T_EMPTY","empty",257],"(",["T_VARIABLE","$options",257],"[",["T_CONSTANT_ENCAPSED_STRING","'ftp'",257],"]",")",["T_WHITESPACE"," ",257],"?",["T_WHITESPACE"," ",257],["T_STRING","false",257],["T_WHITESPACE"," ",257],":",["T_WHITESPACE"," ",257],["T_VARIABLE","$options",257],"[",["T_CONSTANT_ENCAPSED_STRING","'ftp'",257],"]",";",["T_WHITESPACE","\n            ",257],["T_IF","if",258],"(",["T_VARIABLE","$ftp",258],")",["T_WHITESPACE"," ",258],"{",["T_WHITESPACE","\n                ",258],["T_LIST","list",259],"(",["T_VARIABLE","$cache",259],",",["T_WHITESPACE"," ",259],["T_VARIABLE","$config",259],",",["T_WHITESPACE"," ",259],["T_VARIABLE","$ftpObj",259],")",["T_WHITESPACE"," ",259],"=",["T_WHITESPACE"," ",259],["T_VARIABLE","$packager",259],["T_OBJECT_OPERATOR","->",259],["T_STRING","getRemoteConf",259],"(",["T_VARIABLE","$ftp",259],")",";",["T_WHITESPACE","\n            ",259],"}",["T_WHITESPACE"," ",260],["T_ELSE","else",260],["T_WHITESPACE"," ",260],"{",["T_WHITESPACE","\n                ",260],["T_VARIABLE","$config",261],["T_WHITESPACE"," ",261],"=",["T_WHITESPACE"," ",261],["T_VARIABLE","$this",261],["T_OBJECT_OPERATOR","->",261],["T_STRING","config",261],"(",")",";",["T_WHITESPACE","\n                ",261],["T_VARIABLE","$cache",262],["T_WHITESPACE"," ",262],"=",["T_WHITESPACE"," ",262],["T_VARIABLE","$this",262],["T_OBJECT_OPERATOR","->",262],["T_STRING","getSconfig",262],"(",")",";",["T_WHITESPACE","\n            ",262],"}",["T_WHITESPACE","\n\n            ",263],["T_VARIABLE","$pkglist",265],["T_WHITESPACE"," ",265],"=",["T_WHITESPACE"," ",265],["T_ARRAY","array",265],"(",")",";",["T_WHITESPACE","\n            ",265],["T_IF","if",266],["T_WHITESPACE"," ",266],"(","!",["T_VARIABLE","$this",266],["T_OBJECT_OPERATOR","->",266],["T_STRING","_checkPearData",266],"(",["T_VARIABLE","$config",266],")",")",["T_WHITESPACE"," ",266],"{",["T_WHITESPACE","\n                ",266],["T_RETURN","return",267],["T_WHITESPACE"," ",267],["T_VARIABLE","$pkglist",267],";",["T_WHITESPACE","\n            ",267],"}",["T_WHITESPACE","\n\n            ",268],["T_VARIABLE","$pearStorage",270],["T_WHITESPACE"," ",270],"=",["T_WHITESPACE"," ",270],["T_VARIABLE","$config",270],["T_OBJECT_OPERATOR","->",270],["T_STRING","magento_root",270],["T_WHITESPACE"," ",270],".",["T_WHITESPACE"," ",270],["T_STRING","DS",270],["T_WHITESPACE"," ",270],".",["T_WHITESPACE"," ",270],["T_VARIABLE","$config",270],["T_OBJECT_OPERATOR","->",270],["T_STRING","downloader_path",270],["T_WHITESPACE"," ",270],".",["T_WHITESPACE"," ",270],["T_STRING","DS",270],["T_WHITESPACE"," ",270],".",["T_WHITESPACE"," ",270],["T_STRING","self",270],["T_DOUBLE_COLON","::",270],["T_STRING","PACKAGE_PEAR_DIR",270],";",["T_WHITESPACE","\n            ",270],["T_VARIABLE","$channels",271],["T_WHITESPACE"," ",271],"=",["T_WHITESPACE"," ",271],["T_ARRAY","array",271],"(",["T_WHITESPACE","\n                ",271],["T_CONSTANT_ENCAPSED_STRING","'.channel.connect.magentocommerce.com_community'",272],",",["T_WHITESPACE","\n                ",272],["T_CONSTANT_ENCAPSED_STRING","'.channel.connect.magentocommerce.com_core'",273],["T_WHITESPACE","\n            ",273],")",";",["T_WHITESPACE","\n            ",274],["T_FOREACH","foreach",275],["T_WHITESPACE"," ",275],"(",["T_VARIABLE","$channels",275],["T_WHITESPACE"," ",275],["T_AS","as",275],["T_WHITESPACE"," ",275],["T_VARIABLE","$channel",275],")",["T_WHITESPACE"," ",275],"{",["T_WHITESPACE","\n                ",275],["T_VARIABLE","$channelDirectory",276],["T_WHITESPACE"," ",276],"=",["T_WHITESPACE"," ",276],["T_VARIABLE","$pearStorage",276],["T_WHITESPACE"," ",276],".",["T_WHITESPACE"," ",276],["T_STRING","DS",276],["T_WHITESPACE"," ",276],".",["T_WHITESPACE"," ",276],["T_VARIABLE","$channel",276],";",["T_WHITESPACE","\n                ",276],["T_IF","if",277],["T_WHITESPACE"," ",277],"(","!",["T_STRING","file_exists",277],"(",["T_VARIABLE","$channelDirectory",277],")",["T_WHITESPACE"," ",277],["T_BOOLEAN_OR","||",277],["T_WHITESPACE"," ",277],"!",["T_STRING","is_dir",277],"(",["T_VARIABLE","$channelDirectory",277],")",")",["T_WHITESPACE"," ",277],"{",["T_WHITESPACE","\n                    ",277],["T_CONTINUE","continue",278],";",["T_WHITESPACE","\n                ",278],"}",["T_WHITESPACE","\n\n                ",279],["T_VARIABLE","$dp",281],["T_WHITESPACE"," ",281],"=",["T_WHITESPACE"," ",281],["T_STRING","opendir",281],"(",["T_VARIABLE","$channelDirectory",281],")",";",["T_WHITESPACE","\n                ",281],["T_IF","if",282],["T_WHITESPACE"," ",282],"(","!",["T_VARIABLE","$dp",282],")",["T_WHITESPACE"," ",282],"{",["T_WHITESPACE","\n                    ",282],["T_CONTINUE","continue",283],";",["T_WHITESPACE","\n                ",283],"}",["T_WHITESPACE","\n\n                ",284],["T_WHILE","while",286],["T_WHITESPACE"," ",286],"(",["T_VARIABLE","$ent",286],["T_WHITESPACE"," ",286],"=",["T_WHITESPACE"," ",286],["T_STRING","readdir",286],"(",["T_VARIABLE","$dp",286],")",")",["T_WHITESPACE"," ",286],"{",["T_WHITESPACE","\n                    ",286],["T_IF","if",287],["T_WHITESPACE"," ",287],"(",["T_VARIABLE","$ent",287],"{",["T_LNUMBER","0",287],"}",["T_WHITESPACE"," ",287],["T_IS_EQUAL","==",287],["T_WHITESPACE"," ",287],["T_CONSTANT_ENCAPSED_STRING","'.'",287],["T_WHITESPACE"," ",287],["T_BOOLEAN_OR","||",287],["T_WHITESPACE"," ",287],["T_STRING","substr",287],"(",["T_VARIABLE","$ent",287],",",["T_WHITESPACE"," ",287],"-",["T_LNUMBER","4",287],")",["T_WHITESPACE"," ",287],["T_IS_NOT_EQUAL","!=",287],["T_WHITESPACE"," ",287],["T_CONSTANT_ENCAPSED_STRING","'.reg'",287],")",["T_WHITESPACE"," ",287],"{",["T_WHITESPACE","\n                        ",287],["T_CONTINUE","continue",288],";",["T_WHITESPACE","\n                    ",288],"}",["T_WHITESPACE","\n                    ",289],["T_VARIABLE","$pkglist",290],"[","]",["T_WHITESPACE"," ",290],"=",["T_WHITESPACE"," ",290],["T_ARRAY","array",290],"(",["T_CONSTANT_ENCAPSED_STRING","'file'",290],["T_DOUBLE_ARROW","=>",290],["T_VARIABLE","$ent",290],",",["T_WHITESPACE"," ",290],["T_CONSTANT_ENCAPSED_STRING","'channel'",290],["T_DOUBLE_ARROW","=>",290],["T_VARIABLE","$channel",290],")",";",["T_WHITESPACE","\n                ",290],"}",["T_WHITESPACE","\n                ",291],["T_STRING","closedir",292],"(",["T_VARIABLE","$dp",292],")",";",["T_WHITESPACE","\n            ",292],"}",["T_WHITESPACE","\n\n            ",293],["T_VARIABLE","$package",295],["T_WHITESPACE"," ",295],"=",["T_WHITESPACE"," ",295],["T_NEW","new",295],["T_WHITESPACE"," ",295],["T_STRING","Mage_Connect_Package",295],"(",")",";",["T_WHITESPACE","\n            ",295],["T_FOREACH","foreach",296],["T_WHITESPACE"," ",296],"(",["T_VARIABLE","$pkglist",296],["T_WHITESPACE"," ",296],["T_AS","as",296],["T_WHITESPACE"," ",296],["T_VARIABLE","$pkg",296],")",["T_WHITESPACE"," ",296],"{",["T_WHITESPACE","\n                ",296],["T_VARIABLE","$pkgFilename",297],["T_WHITESPACE"," ",297],"=",["T_WHITESPACE"," ",297],["T_VARIABLE","$pearStorage",297],["T_WHITESPACE"," ",297],".",["T_WHITESPACE"," ",297],["T_STRING","DS",297],["T_WHITESPACE"," ",297],".",["T_WHITESPACE"," ",297],["T_VARIABLE","$pkg",297],"[",["T_CONSTANT_ENCAPSED_STRING","'channel'",297],"]",["T_WHITESPACE"," ",297],".",["T_WHITESPACE"," ",297],["T_STRING","DS",297],["T_WHITESPACE"," ",297],".",["T_WHITESPACE"," ",297],["T_VARIABLE","$pkg",297],"[",["T_CONSTANT_ENCAPSED_STRING","'file'",297],"]",";",["T_WHITESPACE","\n                ",297],["T_IF","if",298],["T_WHITESPACE"," ",298],"(","!",["T_STRING","file_exists",298],"(",["T_VARIABLE","$pkgFilename",298],")",")",["T_WHITESPACE"," ",298],"{",["T_WHITESPACE","\n                    ",298],["T_CONTINUE","continue",299],";",["T_WHITESPACE","\n                ",299],"}",["T_WHITESPACE","\n                ",300],["T_VARIABLE","$data",301],["T_WHITESPACE"," ",301],"=",["T_WHITESPACE"," ",301],["T_STRING","file_get_contents",301],"(",["T_VARIABLE","$pkgFilename",301],")",";",["T_WHITESPACE","\n                ",301],["T_VARIABLE","$data",302],["T_WHITESPACE"," ",302],"=",["T_WHITESPACE"," ",302],["T_STRING","unserialize",302],"(",["T_VARIABLE","$data",302],")",";",["T_WHITESPACE","\n\n                ",302],["T_VARIABLE","$package",304],["T_OBJECT_OPERATOR","->",304],["T_STRING","importDataV1x",304],"(",["T_VARIABLE","$data",304],")",";",["T_WHITESPACE","\n                ",304],["T_VARIABLE","$name",305],["T_WHITESPACE"," ",305],"=",["T_WHITESPACE"," ",305],["T_VARIABLE","$package",305],["T_OBJECT_OPERATOR","->",305],["T_STRING","getName",305],"(",")",";",["T_WHITESPACE","\n                ",305],["T_VARIABLE","$channel",306],["T_WHITESPACE"," ",306],"=",["T_WHITESPACE"," ",306],["T_VARIABLE","$package",306],["T_OBJECT_OPERATOR","->",306],["T_STRING","getChannel",306],"(",")",";",["T_WHITESPACE","\n                ",306],["T_VARIABLE","$version",307],["T_WHITESPACE"," ",307],"=",["T_WHITESPACE"," ",307],["T_VARIABLE","$package",307],["T_OBJECT_OPERATOR","->",307],["T_STRING","getVersion",307],"(",")",";",["T_WHITESPACE","\n                ",307],["T_IF","if",308],["T_WHITESPACE"," ",308],"(","!",["T_VARIABLE","$cache",308],["T_OBJECT_OPERATOR","->",308],["T_STRING","isChannel",308],"(",["T_VARIABLE","$channel",308],")",["T_WHITESPACE"," ",308],["T_BOOLEAN_AND","&&",308],["T_WHITESPACE"," ",308],["T_VARIABLE","$channel",308],["T_WHITESPACE"," ",308],["T_IS_EQUAL","==",308],["T_WHITESPACE"," ",308],["T_VARIABLE","$config",308],["T_OBJECT_OPERATOR","->",308],["T_STRING","root_channel",308],")",["T_WHITESPACE"," ",308],"{",["T_WHITESPACE","\n                    ",308],["T_VARIABLE","$cache",309],["T_OBJECT_OPERATOR","->",309],["T_STRING","addChannel",309],"(",["T_VARIABLE","$channel",309],",",["T_WHITESPACE"," ",309],["T_VARIABLE","$config",309],["T_OBJECT_OPERATOR","->",309],["T_STRING","root_channel_uri",309],")",";",["T_WHITESPACE","\n                ",309],"}",["T_WHITESPACE","\n                ",310],["T_IF","if",311],["T_WHITESPACE"," ",311],"(","!",["T_VARIABLE","$cache",311],["T_OBJECT_OPERATOR","->",311],["T_STRING","hasPackage",311],"(",["T_VARIABLE","$channel",311],",",["T_WHITESPACE"," ",311],["T_VARIABLE","$name",311],",",["T_WHITESPACE"," ",311],["T_VARIABLE","$version",311],",",["T_WHITESPACE"," ",311],["T_VARIABLE","$version",311],")",")",["T_WHITESPACE"," ",311],"{",["T_WHITESPACE","\n                    ",311],["T_VARIABLE","$cache",312],["T_OBJECT_OPERATOR","->",312],["T_STRING","addPackage",312],"(",["T_VARIABLE","$package",312],")",";",["T_WHITESPACE","\n\n                    ",312],["T_IF","if",314],"(",["T_VARIABLE","$ftp",314],")",["T_WHITESPACE"," ",314],"{",["T_WHITESPACE","\n                        ",314],["T_VARIABLE","$localXml",315],["T_WHITESPACE"," ",315],"=",["T_WHITESPACE"," ",315],["T_STRING","tempnam",315],"(",["T_STRING","sys_get_temp_dir",315],"(",")",",",["T_CONSTANT_ENCAPSED_STRING","'package'",315],")",";",["T_WHITESPACE","\n                        ",315],"@",["T_STRING","file_put_contents",316],"(",["T_VARIABLE","$localXml",316],",",["T_WHITESPACE"," ",316],["T_VARIABLE","$package",316],["T_OBJECT_OPERATOR","->",316],["T_STRING","getPackageXml",316],"(",")",")",";",["T_WHITESPACE","\n                        \n                        ",316],["T_IF","if",318],["T_WHITESPACE"," ",318],"(",["T_STRING","is_file",318],"(",["T_VARIABLE","$localXml",318],")",")",["T_WHITESPACE"," ",318],"{",["T_WHITESPACE","\n                            ",318],["T_VARIABLE","$ftpDir",319],["T_WHITESPACE"," ",319],"=",["T_WHITESPACE"," ",319],["T_VARIABLE","$ftpObj",319],["T_OBJECT_OPERATOR","->",319],["T_STRING","getcwd",319],"(",")",";",["T_WHITESPACE","\n                            ",319],["T_VARIABLE","$remoteXmlPath",320],["T_WHITESPACE"," ",320],"=",["T_WHITESPACE"," ",320],["T_VARIABLE","$ftpDir",320],["T_WHITESPACE"," ",320],".",["T_WHITESPACE"," ",320],["T_CONSTANT_ENCAPSED_STRING","'\/'",320],["T_WHITESPACE"," ",320],".",["T_WHITESPACE"," ",320],["T_STRING","Mage_Connect_Package",320],["T_DOUBLE_COLON","::",320],["T_STRING","PACKAGE_XML_DIR",320],";",["T_WHITESPACE","\n                            ",320],["T_VARIABLE","$remoteXml",321],["T_WHITESPACE"," ",321],"=",["T_WHITESPACE"," ",321],["T_VARIABLE","$package",321],["T_OBJECT_OPERATOR","->",321],["T_STRING","getReleaseFilename",321],"(",")",["T_WHITESPACE"," ",321],".",["T_WHITESPACE"," ",321],["T_CONSTANT_ENCAPSED_STRING","'.xml'",321],";",["T_WHITESPACE","\n                            ",321],["T_VARIABLE","$ftpObj",322],["T_OBJECT_OPERATOR","->",322],["T_STRING","mkdirRecursive",322],"(",["T_VARIABLE","$remoteXmlPath",322],")",";",["T_WHITESPACE","\n                            ",322],["T_VARIABLE","$ftpObj",323],["T_OBJECT_OPERATOR","->",323],["T_STRING","upload",323],"(",["T_VARIABLE","$remoteXml",323],",",["T_WHITESPACE"," ",323],["T_VARIABLE","$localXml",323],",",["T_WHITESPACE"," ",323],["T_LNUMBER","0777",323],",",["T_WHITESPACE"," ",323],["T_LNUMBER","0666",323],")",";",["T_WHITESPACE","\n                            ",323],["T_VARIABLE","$ftpObj",324],["T_OBJECT_OPERATOR","->",324],["T_STRING","chdir",324],"(",["T_VARIABLE","$ftpDir",324],")",";",["T_WHITESPACE","\n                        ",324],"}",["T_WHITESPACE","\n                    ",325],"}",["T_WHITESPACE"," ",326],["T_ELSE","else",326],["T_WHITESPACE"," ",326],"{",["T_WHITESPACE","\n                        ",326],["T_VARIABLE","$destDir",327],["T_WHITESPACE"," ",327],"=",["T_WHITESPACE"," ",327],["T_STRING","rtrim",327],"(",["T_VARIABLE","$config",327],["T_OBJECT_OPERATOR","->",327],["T_STRING","magento_root",327],",",["T_WHITESPACE"," ",327],["T_CONSTANT_ENCAPSED_STRING","\"\\\\\/\"",327],")",["T_WHITESPACE"," ",327],".",["T_WHITESPACE"," ",327],["T_STRING","DS",327],["T_WHITESPACE"," ",327],".",["T_WHITESPACE"," ",327],["T_STRING","Mage_Connect_Package",327],["T_DOUBLE_COLON","::",327],["T_STRING","PACKAGE_XML_DIR",327],";",["T_WHITESPACE","\n                        ",327],["T_VARIABLE","$destFile",328],["T_WHITESPACE"," ",328],"=",["T_WHITESPACE"," ",328],["T_VARIABLE","$package",328],["T_OBJECT_OPERATOR","->",328],["T_STRING","getReleaseFilename",328],"(",")",["T_WHITESPACE"," ",328],".",["T_WHITESPACE"," ",328],["T_CONSTANT_ENCAPSED_STRING","'.xml'",328],";",["T_WHITESPACE","\n                        ",328],["T_VARIABLE","$dest",329],["T_WHITESPACE"," ",329],"=",["T_WHITESPACE"," ",329],["T_VARIABLE","$destDir",329],["T_WHITESPACE"," ",329],".",["T_WHITESPACE"," ",329],["T_STRING","DS",329],["T_WHITESPACE"," ",329],".",["T_WHITESPACE"," ",329],["T_VARIABLE","$destFile",329],";",["T_WHITESPACE","\n\n                        ",329],"@",["T_STRING","mkdir",331],"(",["T_VARIABLE","$destDir",331],",",["T_WHITESPACE"," ",331],["T_LNUMBER","0777",331],",",["T_WHITESPACE"," ",331],["T_STRING","true",331],")",";",["T_WHITESPACE","\n                        ",331],"@",["T_STRING","file_put_contents",332],"(",["T_VARIABLE","$dest",332],",",["T_WHITESPACE"," ",332],["T_VARIABLE","$package",332],["T_OBJECT_OPERATOR","->",332],["T_STRING","getPackageXml",332],"(",")",")",";",["T_WHITESPACE","\n                        ",332],"@",["T_STRING","chmod",333],"(",["T_VARIABLE","$dest",333],",",["T_WHITESPACE"," ",333],["T_LNUMBER","0666",333],")",";",["T_WHITESPACE","\n                    ",333],"}",["T_WHITESPACE","\n\n                    ",334],["T_VARIABLE","$this",336],["T_OBJECT_OPERATOR","->",336],["T_STRING","ui",336],"(",")",["T_OBJECT_OPERATOR","->",336],["T_STRING","output",336],"(","\"",["T_ENCAPSED_AND_WHITESPACE","Successfully added: ",336],["T_CURLY_OPEN","{",336],["T_VARIABLE","$channel",336],"}",["T_ENCAPSED_AND_WHITESPACE","\/",336],["T_CURLY_OPEN","{",336],["T_VARIABLE","$name",336],"}",["T_ENCAPSED_AND_WHITESPACE","-",336],["T_CURLY_OPEN","{",336],["T_VARIABLE","$version",336],"}","\"",")",";",["T_WHITESPACE","\n                ",336],"}",["T_WHITESPACE","\n\n            ",337],"}",["T_WHITESPACE","\n\n            ",339],["T_VARIABLE","$config",341],["T_OBJECT_OPERATOR","->",341],["T_STRING","sync_pear",341],["T_WHITESPACE"," ",341],"=",["T_WHITESPACE"," ",341],["T_STRING","true",341],";",["T_WHITESPACE","\n            ",341],["T_IF","if",342],"(",["T_VARIABLE","$ftp",342],")",["T_WHITESPACE"," ",342],"{",["T_WHITESPACE","\n                ",342],["T_VARIABLE","$packager",343],["T_OBJECT_OPERATOR","->",343],["T_STRING","writeToRemoteCache",343],"(",["T_VARIABLE","$cache",343],",",["T_WHITESPACE"," ",343],["T_VARIABLE","$ftpObj",343],")",";",["T_WHITESPACE","\n                ",343],"@",["T_STRING","unlink",344],"(",["T_VARIABLE","$config",344],["T_OBJECT_OPERATOR","->",344],["T_STRING","getFilename",344],"(",")",")",";",["T_WHITESPACE","\n            ",344],"}",["T_WHITESPACE","\n        ",345],"}",["T_WHITESPACE"," ",346],["T_CATCH","catch",346],["T_WHITESPACE"," ",346],"(",["T_STRING","Exception",346],["T_WHITESPACE"," ",346],["T_VARIABLE","$e",346],")",["T_WHITESPACE"," ",346],"{",["T_WHITESPACE","\n            ",346],["T_VARIABLE","$this",347],["T_OBJECT_OPERATOR","->",347],["T_STRING","doError",347],"(",["T_VARIABLE","$command",347],",",["T_WHITESPACE"," ",347],["T_VARIABLE","$e",347],["T_OBJECT_OPERATOR","->",347],["T_STRING","getMessage",347],"(",")",")",";",["T_WHITESPACE","\n        ",347],"}",["T_WHITESPACE","\n        \n        ",348],["T_RETURN","return",350],["T_WHITESPACE"," ",350],["T_STRING","true",350],";",["T_WHITESPACE","\n    ",350],"}",["T_WHITESPACE","\n\n    ",351],["T_DOC_COMMENT","\/**\n     * Check is need to sync old pear data\n     * \n     * @param Mage_Connect_Config $config\n     * @return boolean\n     *\/",353],["T_WHITESPACE","\n    ",358],["T_PROTECTED","protected",359],["T_WHITESPACE"," ",359],["T_FUNCTION","function",359],["T_WHITESPACE"," ",359],["T_STRING","_checkPearData",359],"(",["T_VARIABLE","$config",359],")",["T_WHITESPACE"," ",359],"{",["T_WHITESPACE","\n        ",359],["T_VARIABLE","$pearStorage",360],["T_WHITESPACE"," ",360],"=",["T_WHITESPACE"," ",360],["T_VARIABLE","$config",360],["T_OBJECT_OPERATOR","->",360],["T_STRING","magento_root",360],["T_WHITESPACE"," ",360],".",["T_WHITESPACE"," ",360],["T_STRING","DS",360],["T_WHITESPACE"," ",360],".",["T_WHITESPACE"," ",360],["T_VARIABLE","$config",360],["T_OBJECT_OPERATOR","->",360],["T_STRING","downloader_path",360],["T_WHITESPACE","  ",360],".",["T_WHITESPACE"," ",360],["T_STRING","DS",360],["T_WHITESPACE"," ",360],".",["T_WHITESPACE"," ",360],["T_STRING","self",360],["T_DOUBLE_COLON","::",360],["T_STRING","PACKAGE_PEAR_DIR",360],";",["T_WHITESPACE","\n        ",360],["T_RETURN","return",361],["T_WHITESPACE"," ",361],"(","!",["T_VARIABLE","$config",361],["T_OBJECT_OPERATOR","->",361],["T_STRING","sync_pear",361],")",["T_WHITESPACE"," ",361],["T_BOOLEAN_AND","&&",361],["T_WHITESPACE"," ",361],["T_STRING","file_exists",361],"(",["T_VARIABLE","$pearStorage",361],")",["T_WHITESPACE"," ",361],["T_BOOLEAN_AND","&&",361],["T_WHITESPACE"," ",361],["T_STRING","is_dir",361],"(",["T_VARIABLE","$pearStorage",361],")",";",["T_WHITESPACE","\n    ",361],"}",["T_WHITESPACE","\n\n",362],"}",["T_WHITESPACE","\n",364]]