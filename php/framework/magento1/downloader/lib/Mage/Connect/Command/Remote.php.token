[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Magento\n *\n * NOTICE OF LICENSE\n *\n * This source file is subject to the Open Software License (OSL 3.0)\n * that is bundled with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/opensource.org\/licenses\/osl-3.0.php\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@magento.com so we can send you a copy immediately.\n *\n * DISCLAIMER\n *\n * Do not edit or add to this file if you wish to upgrade Magento to newer\n * versions in the future. If you wish to customize Magento for your\n * needs please refer to http:\/\/www.magento.com for more information.\n *\n * @category    Mage\n * @package     Mage_Connect\n * @copyright  Copyright (c) 2006-2016 X.commerce, Inc. and affiliates (http:\/\/www.magento.com)\n * @license    http:\/\/opensource.org\/licenses\/osl-3.0.php  Open Software License (OSL 3.0)\n *\/",2],["T_WHITESPACE","\n\n",25],["T_FINAL","final",27],["T_WHITESPACE"," ",27],["T_CLASS","class",27],["T_WHITESPACE"," ",27],["T_STRING","Mage_Connect_Command_Remote",27],["T_WHITESPACE","\n",27],["T_EXTENDS","extends",28],["T_WHITESPACE"," ",28],["T_STRING","Mage_Connect_Command",28],["T_WHITESPACE","\n",28],"{",["T_WHITESPACE","\n\n    ",29],["T_DOC_COMMENT","\/**\n     * List-upgrades callback\n     * @param srting $command\n     * @param array $options\n     * @param array $params\n     * @return void\n     *\/",31],["T_WHITESPACE","\n    ",37],["T_PUBLIC","public",38],["T_WHITESPACE"," ",38],["T_FUNCTION","function",38],["T_WHITESPACE"," ",38],["T_STRING","doListUpgrades",38],"(",["T_VARIABLE","$command",38],",",["T_WHITESPACE"," ",38],["T_VARIABLE","$options",38],",",["T_WHITESPACE"," ",38],["T_VARIABLE","$params",38],")",["T_WHITESPACE","\n    ",38],"{",["T_WHITESPACE","\n\n        ",39],["T_VARIABLE","$this",41],["T_OBJECT_OPERATOR","->",41],["T_STRING","cleanupParams",41],"(",["T_VARIABLE","$params",41],")",";",["T_WHITESPACE","\n        ",41],["T_TRY","try",42],["T_WHITESPACE"," ",42],"{",["T_WHITESPACE","\n            ",42],["T_VARIABLE","$packager",43],["T_WHITESPACE"," ",43],"=",["T_WHITESPACE"," ",43],["T_NEW","new",43],["T_WHITESPACE"," ",43],["T_STRING","Mage_Connect_Packager",43],"(",")",";",["T_WHITESPACE","\n            ",43],["T_VARIABLE","$channelAuth",44],["T_WHITESPACE"," ",44],"=",["T_WHITESPACE"," ",44],["T_ISSET","isset",44],"(",["T_VARIABLE","$options",44],"[",["T_CONSTANT_ENCAPSED_STRING","'auth'",44],"]",")","?",["T_VARIABLE","$options",44],"[",["T_CONSTANT_ENCAPSED_STRING","'auth'",44],"]",":",["T_ARRAY","array",44],"(",")",";",["T_WHITESPACE","\n            ",44],["T_VARIABLE","$ftp",45],["T_WHITESPACE"," ",45],"=",["T_WHITESPACE"," ",45],["T_EMPTY","empty",45],"(",["T_VARIABLE","$options",45],"[",["T_CONSTANT_ENCAPSED_STRING","'ftp'",45],"]",")",["T_WHITESPACE"," ",45],"?",["T_WHITESPACE"," ",45],["T_STRING","false",45],["T_WHITESPACE"," ",45],":",["T_WHITESPACE"," ",45],["T_VARIABLE","$options",45],"[",["T_CONSTANT_ENCAPSED_STRING","'ftp'",45],"]",";",["T_WHITESPACE","\n            ",45],["T_IF","if",46],"(",["T_VARIABLE","$ftp",46],")",["T_WHITESPACE"," ",46],"{",["T_WHITESPACE","\n                ",46],["T_LIST","list",47],"(",["T_VARIABLE","$cache",47],",",["T_WHITESPACE"," ",47],["T_VARIABLE","$config",47],",",["T_WHITESPACE"," ",47],["T_VARIABLE","$ftpObj",47],")",["T_WHITESPACE"," ",47],"=",["T_WHITESPACE"," ",47],["T_VARIABLE","$packager",47],["T_OBJECT_OPERATOR","->",47],["T_STRING","getRemoteConf",47],"(",["T_VARIABLE","$ftp",47],")",";",["T_WHITESPACE","\n            ",47],"}",["T_WHITESPACE"," ",48],["T_ELSE","else",48],["T_WHITESPACE"," ",48],"{",["T_WHITESPACE","\n                ",48],["T_VARIABLE","$cache",49],["T_WHITESPACE"," ",49],"=",["T_WHITESPACE"," ",49],["T_VARIABLE","$this",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","getSconfig",49],"(",")",";",["T_WHITESPACE","\n                ",49],["T_VARIABLE","$config",50],["T_WHITESPACE"," ",50],"=",["T_WHITESPACE"," ",50],["T_VARIABLE","$this",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","config",50],"(",")",";",["T_WHITESPACE","\n            ",50],"}",["T_WHITESPACE","\n\n            ",51],["T_IF","if",53],"(","!",["T_EMPTY","empty",53],"(",["T_VARIABLE","$params",53],"[",["T_LNUMBER","0",53],"]",")",")",["T_WHITESPACE"," ",53],"{",["T_WHITESPACE","\n                ",53],["T_VARIABLE","$channels",54],["T_WHITESPACE"," ",54],"=",["T_WHITESPACE"," ",54],["T_VARIABLE","$params",54],"[",["T_LNUMBER","0",54],"]",";",["T_WHITESPACE","\n                ",54],["T_VARIABLE","$cache",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","getChannel",55],"(",["T_VARIABLE","$channels",55],")",";",["T_WHITESPACE","\n            ",55],"}",["T_WHITESPACE"," ",56],["T_ELSE","else",56],["T_WHITESPACE"," ",56],"{",["T_WHITESPACE","\n                ",56],["T_VARIABLE","$channels",57],["T_WHITESPACE"," ",57],"=",["T_WHITESPACE"," ",57],["T_VARIABLE","$cache",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","getChannelNames",57],"(",")",";",["T_WHITESPACE","\n            ",57],"}",["T_WHITESPACE","\n            ",58],["T_VARIABLE","$rest",59],["T_WHITESPACE"," ",59],"=",["T_WHITESPACE"," ",59],["T_VARIABLE","$this",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","rest",59],"(",")",";",["T_WHITESPACE","\n            ",59],["T_IF","if",60],"(","!",["T_EMPTY","empty",60],"(",["T_VARIABLE","$channelAuth",60],")",")","{",["T_WHITESPACE","\n                ",60],["T_VARIABLE","$rest",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","getLoader",61],"(",")",["T_OBJECT_OPERATOR","->",61],["T_STRING","setCredentials",61],"(",["T_VARIABLE","$channelAuth",61],"[",["T_CONSTANT_ENCAPSED_STRING","'username'",61],"]",",",["T_WHITESPACE"," ",61],["T_VARIABLE","$channelAuth",61],"[",["T_CONSTANT_ENCAPSED_STRING","'password'",61],"]",")",";",["T_WHITESPACE","\n            ",61],"}",["T_WHITESPACE","\n            ",62],["T_VARIABLE","$ups",63],["T_WHITESPACE"," ",63],"=",["T_WHITESPACE"," ",63],["T_VARIABLE","$packager",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","getUpgradesList",63],"(",["T_VARIABLE","$channels",63],",",["T_WHITESPACE"," ",63],["T_VARIABLE","$cache",63],",",["T_WHITESPACE"," ",63],["T_VARIABLE","$config",63],",",["T_WHITESPACE"," ",63],["T_VARIABLE","$rest",63],")",";",["T_WHITESPACE","\n\n            ",63],["T_IF","if",65],"(",["T_STRING","count",65],"(",["T_VARIABLE","$ups",65],")",")",["T_WHITESPACE"," ",65],"{",["T_WHITESPACE","\n                ",65],["T_VARIABLE","$data",66],["T_WHITESPACE"," ",66],"=",["T_WHITESPACE"," ",66],["T_ARRAY","array",66],"(",["T_VARIABLE","$command",66],["T_WHITESPACE"," ",66],["T_DOUBLE_ARROW","=>",66],["T_WHITESPACE"," ",66],["T_ARRAY","array",66],"(",["T_CONSTANT_ENCAPSED_STRING","'data'",66],["T_DOUBLE_ARROW","=>",66],["T_VARIABLE","$ups",66],")",")",";",["T_WHITESPACE","\n            ",66],"}",["T_WHITESPACE"," ",67],["T_ELSE","else",67],["T_WHITESPACE"," ",67],"{",["T_WHITESPACE","\n                ",67],["T_VARIABLE","$data",68],["T_WHITESPACE"," ",68],"=",["T_WHITESPACE"," ",68],["T_CONSTANT_ENCAPSED_STRING","\"No upgrades available\"",68],";",["T_WHITESPACE","\n            ",68],"}",["T_WHITESPACE","\n            ",69],["T_VARIABLE","$this",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","ui",70],"(",")",["T_OBJECT_OPERATOR","->",70],["T_STRING","output",70],"(",["T_VARIABLE","$data",70],")",";",["T_WHITESPACE","\n        ",70],"}",["T_WHITESPACE"," ",71],["T_CATCH","catch",71],"(",["T_STRING","Exception",71],["T_WHITESPACE"," ",71],["T_VARIABLE","$e",71],")",["T_WHITESPACE"," ",71],"{",["T_WHITESPACE","\n            ",71],["T_VARIABLE","$this",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","doError",72],"(",["T_VARIABLE","$command",72],",",["T_WHITESPACE"," ",72],["T_VARIABLE","$e",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","getMessage",72],"(",")",")",";",["T_WHITESPACE","\n        ",72],"}",["T_WHITESPACE","\n    ",73],"}",["T_WHITESPACE","\n\n\n    ",74],["T_DOC_COMMENT","\/**\n     * List available\n     * @param $command\n     * @param $options\n     * @param $params\n     * @return unknown_type\n     *\/",77],["T_WHITESPACE","\n\n    ",83],["T_PUBLIC","public",85],["T_WHITESPACE"," ",85],["T_FUNCTION","function",85],["T_WHITESPACE"," ",85],["T_STRING","doListAvailable",85],"(",["T_VARIABLE","$command",85],",",["T_WHITESPACE"," ",85],["T_VARIABLE","$options",85],",",["T_WHITESPACE"," ",85],["T_VARIABLE","$params",85],")",["T_WHITESPACE","\n    ",85],"{",["T_WHITESPACE","\n        ",86],["T_VARIABLE","$this",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","cleanupParams",87],"(",["T_VARIABLE","$params",87],")",";",["T_WHITESPACE","\n\n        ",87],["T_TRY","try",89],["T_WHITESPACE"," ",89],"{",["T_WHITESPACE","\n            ",89],["T_VARIABLE","$packager",90],["T_WHITESPACE"," ",90],"=",["T_WHITESPACE"," ",90],["T_NEW","new",90],["T_WHITESPACE"," ",90],["T_STRING","Mage_Connect_Packager",90],"(",")",";",["T_WHITESPACE","\n            ",90],["T_VARIABLE","$ftp",91],["T_WHITESPACE"," ",91],"=",["T_WHITESPACE"," ",91],["T_EMPTY","empty",91],"(",["T_VARIABLE","$options",91],"[",["T_CONSTANT_ENCAPSED_STRING","'ftp'",91],"]",")",["T_WHITESPACE"," ",91],"?",["T_WHITESPACE"," ",91],["T_STRING","false",91],["T_WHITESPACE"," ",91],":",["T_WHITESPACE"," ",91],["T_VARIABLE","$options",91],"[",["T_CONSTANT_ENCAPSED_STRING","'ftp'",91],"]",";",["T_WHITESPACE","\n            ",91],["T_IF","if",92],"(",["T_VARIABLE","$ftp",92],")",["T_WHITESPACE"," ",92],"{",["T_WHITESPACE","\n                ",92],["T_LIST","list",93],"(",["T_VARIABLE","$cache",93],",",["T_WHITESPACE"," ",93],["T_VARIABLE","$config",93],",",["T_WHITESPACE"," ",93],["T_VARIABLE","$ftpObj",93],")",["T_WHITESPACE"," ",93],"=",["T_WHITESPACE"," ",93],["T_VARIABLE","$packager",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","getRemoteConf",93],"(",["T_VARIABLE","$ftp",93],")",";",["T_WHITESPACE","\n            ",93],"}",["T_WHITESPACE"," ",94],["T_ELSE","else",94],["T_WHITESPACE"," ",94],"{",["T_WHITESPACE","\n                ",94],["T_VARIABLE","$cache",95],["T_WHITESPACE"," ",95],"=",["T_WHITESPACE"," ",95],["T_VARIABLE","$this",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","getSconfig",95],"(",")",";",["T_WHITESPACE","\n                ",95],["T_VARIABLE","$config",96],["T_WHITESPACE"," ",96],"=",["T_WHITESPACE"," ",96],["T_VARIABLE","$this",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","config",96],"(",")",";",["T_WHITESPACE","\n            ",96],"}",["T_WHITESPACE","\n\n            ",97],["T_IF","if",99],"(","!",["T_EMPTY","empty",99],"(",["T_VARIABLE","$params",99],"[",["T_LNUMBER","0",99],"]",")",")",["T_WHITESPACE"," ",99],"{",["T_WHITESPACE","\n                ",99],["T_VARIABLE","$channels",100],["T_WHITESPACE"," ",100],"=",["T_WHITESPACE"," ",100],["T_ARRAY","array",100],"(",["T_VARIABLE","$params",100],"[",["T_LNUMBER","0",100],"]",")",";",["T_WHITESPACE","\n                ",100],["T_VARIABLE","$cache",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","getChannel",101],"(",["T_VARIABLE","$channels",101],"[",["T_LNUMBER","0",101],"]",")",";",["T_WHITESPACE","\n            ",101],"}",["T_WHITESPACE"," ",102],["T_ELSE","else",102],["T_WHITESPACE"," ",102],"{",["T_WHITESPACE","\n                ",102],["T_VARIABLE","$channels",103],["T_WHITESPACE"," ",103],"=",["T_WHITESPACE","  ",103],["T_VARIABLE","$cache",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","getChannelNames",103],"(",")",";",["T_WHITESPACE","\n            ",103],"}",["T_WHITESPACE","\n            \n            \n\n            ",104],["T_VARIABLE","$packs",108],["T_WHITESPACE"," ",108],"=",["T_WHITESPACE"," ",108],["T_ARRAY","array",108],"(",")",";",["T_WHITESPACE","\n            ",108],["T_FOREACH","foreach",109],["T_WHITESPACE"," ",109],"(",["T_VARIABLE","$channels",109],["T_WHITESPACE"," ",109],["T_AS","as",109],["T_WHITESPACE"," ",109],["T_VARIABLE","$channel",109],")",["T_WHITESPACE"," ",109],"{",["T_WHITESPACE","\n                ",109],["T_TRY","try",110],["T_WHITESPACE"," ",110],"{",["T_WHITESPACE","\n                    ",110],["T_VARIABLE","$chan",111],["T_WHITESPACE"," ",111],"=",["T_WHITESPACE"," ",111],["T_VARIABLE","$cache",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","getChannel",111],"(",["T_VARIABLE","$channel",111],")",";",["T_WHITESPACE","\n                    ",111],["T_VARIABLE","$uri",112],["T_WHITESPACE"," ",112],"=",["T_WHITESPACE"," ",112],["T_VARIABLE","$cache",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","chanUrl",112],"(",["T_VARIABLE","$channel",112],")",";",["T_WHITESPACE","\n\n                    ",112],["T_VARIABLE","$rest",114],["T_WHITESPACE"," ",114],"=",["T_WHITESPACE"," ",114],["T_VARIABLE","$this",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","rest",114],"(",")",";",["T_WHITESPACE","\n                    ",114],["T_VARIABLE","$rest",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","setChannel",115],"(",["T_VARIABLE","$uri",115],")",";",["T_WHITESPACE","\n\n                    ",115],["T_VARIABLE","$packages",117],["T_WHITESPACE"," ",117],"=",["T_WHITESPACE"," ",117],["T_VARIABLE","$rest",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","getPackages",117],"(",")",";",["T_WHITESPACE","\n                    ",117],["T_IF","if",118],"(","!",["T_STRING","count",118],"(",["T_VARIABLE","$packages",118],")",")",["T_WHITESPACE"," ",118],"{",["T_WHITESPACE","\n                        ",118],["T_VARIABLE","$this",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","ui",119],"(",")",["T_OBJECT_OPERATOR","->",119],["T_STRING","output",119],"(","\"",["T_ENCAPSED_AND_WHITESPACE","Channel '",119],["T_CURLY_OPEN","{",119],["T_VARIABLE","$channel",119],"}",["T_ENCAPSED_AND_WHITESPACE","' has no packages",119],"\"",")",";",["T_WHITESPACE","\n                        ",119],["T_CONTINUE","continue",120],";",["T_WHITESPACE","\n                    ",120],"}",["T_WHITESPACE","\n                    ",121],["T_VARIABLE","$packs",122],"[",["T_VARIABLE","$channel",122],"]","[",["T_CONSTANT_ENCAPSED_STRING","'title'",122],"]",["T_WHITESPACE"," ",122],"=",["T_WHITESPACE"," ",122],["T_CONSTANT_ENCAPSED_STRING","\"Packages for channel '\"",122],".",["T_VARIABLE","$channel",122],".",["T_CONSTANT_ENCAPSED_STRING","\"':\"",122],";",["T_WHITESPACE","\n                    ",122],["T_FOREACH","foreach",123],"(",["T_VARIABLE","$packages",123],["T_WHITESPACE"," ",123],["T_AS","as",123],["T_WHITESPACE"," ",123],["T_VARIABLE","$p",123],")",["T_WHITESPACE"," ",123],"{",["T_WHITESPACE","\n                        ",123],["T_VARIABLE","$packageName",124],["T_WHITESPACE"," ",124],"=",["T_WHITESPACE"," ",124],["T_VARIABLE","$p",124],"[",["T_CONSTANT_ENCAPSED_STRING","'n'",124],"]",";",["T_WHITESPACE","\n                        ",124],["T_VARIABLE","$releases",125],["T_WHITESPACE"," ",125],"=",["T_WHITESPACE"," ",125],["T_ARRAY","array",125],"(",")",";",["T_WHITESPACE","\n                        ",125],["T_FOREACH","foreach",126],"(",["T_VARIABLE","$p",126],"[",["T_CONSTANT_ENCAPSED_STRING","'r'",126],"]",["T_WHITESPACE"," ",126],["T_AS","as",126],["T_WHITESPACE"," ",126],["T_VARIABLE","$k",126],["T_DOUBLE_ARROW","=>",126],["T_VARIABLE","$r",126],")",["T_WHITESPACE"," ",126],"{",["T_WHITESPACE","\n                            ",126],["T_VARIABLE","$releases",127],"[",["T_VARIABLE","$r",127],"]",["T_WHITESPACE"," ",127],"=",["T_WHITESPACE"," ",127],["T_VARIABLE","$rest",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","shortStateToLong",127],"(",["T_VARIABLE","$k",127],")",";",["T_WHITESPACE","\n                        ",127],"}",["T_WHITESPACE","\n                        ",128],["T_VARIABLE","$packs",129],"[",["T_VARIABLE","$channel",129],"]","[",["T_CONSTANT_ENCAPSED_STRING","'packages'",129],"]","[",["T_VARIABLE","$packageName",129],"]","[",["T_CONSTANT_ENCAPSED_STRING","'releases'",129],"]",["T_WHITESPACE"," ",129],"=",["T_WHITESPACE"," ",129],["T_VARIABLE","$releases",129],";",["T_WHITESPACE","\n                    ",129],"}",["T_WHITESPACE","\n                ",130],"}",["T_WHITESPACE"," ",131],["T_CATCH","catch",131],["T_WHITESPACE"," ",131],"(",["T_STRING","Exception",131],["T_WHITESPACE"," ",131],["T_VARIABLE","$e",131],")",["T_WHITESPACE"," ",131],"{",["T_WHITESPACE","\n                    ",131],["T_VARIABLE","$this",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","doError",132],"(",["T_VARIABLE","$command",132],",",["T_WHITESPACE"," ",132],["T_VARIABLE","$e",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","getMessage",132],"(",")",")",";",["T_WHITESPACE","\n                ",132],"}",["T_WHITESPACE","\n            ",133],"}",["T_WHITESPACE","\n            ",134],["T_VARIABLE","$dataOut",135],["T_WHITESPACE"," ",135],"=",["T_WHITESPACE"," ",135],["T_ARRAY","array",135],"(",")",";",["T_WHITESPACE","\n            ",135],["T_VARIABLE","$dataOut",136],"[",["T_VARIABLE","$command",136],"]","=",["T_WHITESPACE"," ",136],["T_ARRAY","array",136],"(",["T_CONSTANT_ENCAPSED_STRING","'data'",136],["T_DOUBLE_ARROW","=>",136],["T_VARIABLE","$packs",136],")",";",["T_WHITESPACE","\n            ",136],["T_VARIABLE","$this",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","ui",137],"(",")",["T_OBJECT_OPERATOR","->",137],["T_STRING","output",137],"(",["T_VARIABLE","$dataOut",137],")",";",["T_WHITESPACE","\n\n        ",137],"}",["T_WHITESPACE"," ",139],["T_CATCH","catch",139],"(",["T_STRING","Exception",139],["T_WHITESPACE"," ",139],["T_VARIABLE","$e",139],")",["T_WHITESPACE"," ",139],"{",["T_WHITESPACE","\n            ",139],["T_VARIABLE","$this",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","doError",140],"(",["T_VARIABLE","$command",140],",",["T_WHITESPACE"," ",140],["T_VARIABLE","$e",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","getMessage",140],"(",")",")",";",["T_WHITESPACE","\n        ",140],"}",["T_WHITESPACE","\n         \n    ",141],"}",["T_WHITESPACE","\n\n    ",143],["T_DOC_COMMENT","\/**\n     * Download command callback\n     *\n     * @param string $command\n     * @param array $options\n     * @param array $params\n     * @return void\n     *\/",145],["T_WHITESPACE","\n    ",152],["T_PUBLIC","public",153],["T_WHITESPACE"," ",153],["T_FUNCTION","function",153],["T_WHITESPACE"," ",153],["T_STRING","doDownload",153],"(",["T_VARIABLE","$command",153],",",["T_WHITESPACE"," ",153],["T_VARIABLE","$options",153],",",["T_WHITESPACE"," ",153],["T_VARIABLE","$params",153],")",["T_WHITESPACE","\n    ",153],"{",["T_WHITESPACE","\n        ",154],["T_VARIABLE","$this",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","cleanupParams",155],"(",["T_VARIABLE","$params",155],")",";",["T_WHITESPACE","\n        ",155],["T_COMMENT","\/\/$this->splitPackageArgs($params);\n",156],["T_WHITESPACE","        ",157],["T_TRY","try",157],["T_WHITESPACE"," ",157],"{",["T_WHITESPACE","\n            ",157],["T_IF","if",158],"(",["T_STRING","count",158],"(",["T_VARIABLE","$params",158],")",["T_WHITESPACE"," ",158],"<",["T_WHITESPACE"," ",158],["T_LNUMBER","2",158],")",["T_WHITESPACE"," ",158],"{",["T_WHITESPACE","\n                ",158],["T_THROW","throw",159],["T_WHITESPACE"," ",159],["T_NEW","new",159],["T_WHITESPACE"," ",159],["T_STRING","Exception",159],"(",["T_CONSTANT_ENCAPSED_STRING","\"Arguments should be: channel Package\"",159],")",";",["T_WHITESPACE","\n            ",159],"}",["T_WHITESPACE","\n\n            ",160],["T_VARIABLE","$channel",162],["T_WHITESPACE"," ",162],"=",["T_WHITESPACE"," ",162],["T_VARIABLE","$params",162],"[",["T_LNUMBER","0",162],"]",";",["T_WHITESPACE","\n            ",162],["T_VARIABLE","$package",163],["T_WHITESPACE"," ",163],"=",["T_WHITESPACE"," ",163],["T_VARIABLE","$params",163],"[",["T_LNUMBER","1",163],"]",";",["T_WHITESPACE","\n\n            ",163],["T_VARIABLE","$packager",165],["T_WHITESPACE"," ",165],"=",["T_WHITESPACE"," ",165],["T_VARIABLE","$this",165],["T_OBJECT_OPERATOR","->",165],["T_STRING","getPackager",165],"(",")",";",["T_WHITESPACE","\n            ",165],["T_VARIABLE","$ftp",166],["T_WHITESPACE"," ",166],"=",["T_WHITESPACE"," ",166],["T_EMPTY","empty",166],"(",["T_VARIABLE","$options",166],"[",["T_CONSTANT_ENCAPSED_STRING","'ftp'",166],"]",")",["T_WHITESPACE"," ",166],"?",["T_WHITESPACE"," ",166],["T_STRING","false",166],["T_WHITESPACE"," ",166],":",["T_WHITESPACE"," ",166],["T_VARIABLE","$options",166],"[",["T_CONSTANT_ENCAPSED_STRING","'ftp'",166],"]",";",["T_WHITESPACE","\n            ",166],["T_IF","if",167],"(",["T_VARIABLE","$ftp",167],")",["T_WHITESPACE"," ",167],"{",["T_WHITESPACE","\n                ",167],["T_LIST","list",168],"(",["T_VARIABLE","$cache",168],",",["T_WHITESPACE"," ",168],["T_VARIABLE","$config",168],",",["T_WHITESPACE"," ",168],["T_VARIABLE","$ftpObj",168],")",["T_WHITESPACE"," ",168],"=",["T_WHITESPACE"," ",168],["T_VARIABLE","$packager",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","getRemoteConf",168],"(",["T_VARIABLE","$ftp",168],")",";",["T_WHITESPACE","\n            ",168],"}",["T_WHITESPACE"," ",169],["T_ELSE","else",169],["T_WHITESPACE"," ",169],"{",["T_WHITESPACE","\n                ",169],["T_VARIABLE","$cache",170],["T_WHITESPACE"," ",170],"=",["T_WHITESPACE"," ",170],["T_VARIABLE","$this",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","getSconfig",170],"(",")",";",["T_WHITESPACE","\n                ",170],["T_VARIABLE","$config",171],["T_WHITESPACE"," ",171],"=",["T_WHITESPACE"," ",171],["T_VARIABLE","$this",171],["T_OBJECT_OPERATOR","->",171],["T_STRING","config",171],"(",")",";",["T_WHITESPACE","\n            ",171],"}",["T_WHITESPACE","\n\n            ",172],["T_VARIABLE","$chan",174],["T_WHITESPACE"," ",174],"=",["T_WHITESPACE"," ",174],["T_VARIABLE","$cache",174],["T_OBJECT_OPERATOR","->",174],["T_STRING","getChannel",174],"(",["T_VARIABLE","$channel",174],")",";",["T_WHITESPACE","\n            ",174],["T_VARIABLE","$uri",175],["T_WHITESPACE"," ",175],"=",["T_WHITESPACE"," ",175],["T_VARIABLE","$cache",175],["T_OBJECT_OPERATOR","->",175],["T_STRING","chanUrl",175],"(",["T_VARIABLE","$channel",175],")",";",["T_WHITESPACE","\n\n            ",175],["T_VARIABLE","$rest",177],["T_WHITESPACE"," ",177],"=",["T_WHITESPACE"," ",177],["T_VARIABLE","$this",177],["T_OBJECT_OPERATOR","->",177],["T_STRING","rest",177],"(",")",";",["T_WHITESPACE","\n            ",177],["T_VARIABLE","$rest",178],["T_OBJECT_OPERATOR","->",178],["T_STRING","setChannel",178],"(",["T_VARIABLE","$uri",178],")",";",["T_WHITESPACE","\n            ",178],["T_VARIABLE","$c",179],["T_WHITESPACE"," ",179],"=",["T_WHITESPACE"," ",179],["T_VARIABLE","$rest",179],["T_OBJECT_OPERATOR","->",179],["T_STRING","getReleases",179],"(",["T_VARIABLE","$package",179],")",";",["T_WHITESPACE","\n            ",179],["T_IF","if",180],"(","!",["T_STRING","count",180],"(",["T_VARIABLE","$c",180],")",")",["T_WHITESPACE"," ",180],"{",["T_WHITESPACE","\n                ",180],["T_THROW","throw",181],["T_WHITESPACE"," ",181],["T_NEW","new",181],["T_WHITESPACE"," ",181],["T_STRING","Exception",181],"(",["T_CONSTANT_ENCAPSED_STRING","\"No releases found for package\"",181],")",";",["T_WHITESPACE","\n            ",181],"}",["T_WHITESPACE","\n            ",182],["T_VARIABLE","$version",183],["T_WHITESPACE"," ",183],"=",["T_WHITESPACE"," ",183],["T_VARIABLE","$cache",183],["T_OBJECT_OPERATOR","->",183],["T_STRING","detectVersionFromRestArray",183],"(",["T_VARIABLE","$c",183],")",";",["T_WHITESPACE","\n            ",183],["T_VARIABLE","$dir",184],["T_WHITESPACE"," ",184],"=",["T_WHITESPACE"," ",184],["T_VARIABLE","$config",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","getChannelCacheDir",184],"(",["T_VARIABLE","$channel",184],")",";",["T_WHITESPACE","\n            ",184],["T_VARIABLE","$file",185],["T_WHITESPACE"," ",185],"=",["T_WHITESPACE"," ",185],["T_VARIABLE","$dir",185],".",["T_STRING","DIRECTORY_SEPARATOR",185],".",["T_VARIABLE","$package",185],".",["T_CONSTANT_ENCAPSED_STRING","\"-\"",185],".",["T_VARIABLE","$version",185],".",["T_CONSTANT_ENCAPSED_STRING","\".tgz\"",185],";",["T_WHITESPACE","\n            ",185],["T_VARIABLE","$rest",186],["T_OBJECT_OPERATOR","->",186],["T_STRING","downloadPackageFileOfRelease",186],"(",["T_VARIABLE","$package",186],",",["T_WHITESPACE"," ",186],["T_VARIABLE","$version",186],",",["T_WHITESPACE"," ",186],["T_VARIABLE","$file",186],")",";",["T_WHITESPACE","\n            ",186],["T_IF","if",187],"(",["T_VARIABLE","$ftp",187],")",["T_WHITESPACE"," ",187],"{",["T_WHITESPACE","\n                ",187],"@",["T_STRING","unlink",188],"(",["T_VARIABLE","$config",188],["T_OBJECT_OPERATOR","->",188],["T_STRING","getFilename",188],"(",")",")",";",["T_WHITESPACE","\n                ",188],"@",["T_STRING","unlink",189],"(",["T_VARIABLE","$cache",189],["T_OBJECT_OPERATOR","->",189],["T_STRING","getFilename",189],"(",")",")",";",["T_WHITESPACE","\n            ",189],"}",["T_WHITESPACE","\n            ",190],["T_VARIABLE","$this",191],["T_OBJECT_OPERATOR","->",191],["T_STRING","ui",191],"(",")",["T_OBJECT_OPERATOR","->",191],["T_STRING","output",191],"(",["T_CONSTANT_ENCAPSED_STRING","\"Saved to: \"",191],".",["T_WHITESPACE"," ",191],["T_VARIABLE","$file",191],")",";",["T_WHITESPACE","\n        ",191],"}",["T_WHITESPACE"," ",192],["T_CATCH","catch",192],["T_WHITESPACE"," ",192],"(",["T_STRING","Exception",192],["T_WHITESPACE"," ",192],["T_VARIABLE","$e",192],")",["T_WHITESPACE"," ",192],"{",["T_WHITESPACE","\n            ",192],["T_IF","if",193],"(",["T_VARIABLE","$ftp",193],")",["T_WHITESPACE"," ",193],"{",["T_WHITESPACE","\n                ",193],"@",["T_STRING","unlink",194],"(",["T_VARIABLE","$config",194],["T_OBJECT_OPERATOR","->",194],["T_STRING","getFilename",194],"(",")",")",";",["T_WHITESPACE","\n                ",194],"@",["T_STRING","unlink",195],"(",["T_VARIABLE","$cache",195],["T_OBJECT_OPERATOR","->",195],["T_STRING","getFilename",195],"(",")",")",";",["T_WHITESPACE","\n            ",195],"}",["T_WHITESPACE","\n            ",196],["T_VARIABLE","$this",197],["T_OBJECT_OPERATOR","->",197],["T_STRING","doError",197],"(",["T_VARIABLE","$command",197],",",["T_WHITESPACE"," ",197],["T_VARIABLE","$e",197],["T_OBJECT_OPERATOR","->",197],["T_STRING","getMessage",197],"(",")",")",";",["T_WHITESPACE","\n        ",197],"}",["T_WHITESPACE","\n    ",198],"}",["T_WHITESPACE","\n\n    ",199],["T_DOC_COMMENT","\/**\n     * Clear cache command callback\n     * @param string $command\n     * @param array $options\n     * @param array $params\n     * @return void\n     *\/",201],["T_WHITESPACE","\n    ",207],["T_PUBLIC","public",208],["T_WHITESPACE"," ",208],["T_FUNCTION","function",208],["T_WHITESPACE"," ",208],["T_STRING","doClearCache",208],"(",["T_VARIABLE","$command",208],",",["T_WHITESPACE"," ",208],["T_VARIABLE","$options",208],",",["T_WHITESPACE"," ",208],["T_VARIABLE","$params",208],")",["T_WHITESPACE","\n    ",208],"{",["T_WHITESPACE","\n        ",209],["T_VARIABLE","$this",210],["T_OBJECT_OPERATOR","->",210],["T_STRING","cleanupParams",210],"(",["T_VARIABLE","$params",210],")",";",["T_WHITESPACE","\n        ",210],["T_TRY","try",211],["T_WHITESPACE"," ",211],"{",["T_WHITESPACE","\n            ",211],["T_VARIABLE","$packager",212],["T_WHITESPACE"," ",212],"=",["T_WHITESPACE"," ",212],["T_NEW","new",212],["T_WHITESPACE"," ",212],["T_STRING","Mage_Connect_Packager",212],"(",")",";",["T_WHITESPACE","\n            ",212],["T_VARIABLE","$ftp",213],["T_WHITESPACE"," ",213],"=",["T_WHITESPACE"," ",213],["T_EMPTY","empty",213],"(",["T_VARIABLE","$options",213],"[",["T_CONSTANT_ENCAPSED_STRING","'ftp'",213],"]",")",["T_WHITESPACE"," ",213],"?",["T_WHITESPACE"," ",213],["T_STRING","false",213],["T_WHITESPACE"," ",213],":",["T_WHITESPACE"," ",213],["T_VARIABLE","$options",213],"[",["T_CONSTANT_ENCAPSED_STRING","'ftp'",213],"]",";",["T_WHITESPACE","\n            ",213],["T_IF","if",214],"(",["T_VARIABLE","$ftp",214],")",["T_WHITESPACE"," ",214],"{",["T_WHITESPACE","\n                ",214],["T_LIST","list",215],"(",["T_VARIABLE","$cache",215],",",["T_WHITESPACE"," ",215],["T_VARIABLE","$ftpObj",215],")",["T_WHITESPACE"," ",215],"=",["T_WHITESPACE"," ",215],["T_VARIABLE","$packager",215],["T_OBJECT_OPERATOR","->",215],["T_STRING","getRemoteCache",215],"(",["T_VARIABLE","$ftp",215],")",";",["T_WHITESPACE","\n                ",215],["T_VARIABLE","$cache",216],["T_OBJECT_OPERATOR","->",216],["T_STRING","clear",216],"(",")",";",["T_WHITESPACE","\n                ",216],["T_VARIABLE","$packager",217],["T_OBJECT_OPERATOR","->",217],["T_STRING","writeToRemoteCache",217],"(",["T_VARIABLE","$cache",217],",",["T_WHITESPACE"," ",217],["T_VARIABLE","$ftpObj",217],")",";",["T_WHITESPACE","              \n            ",217],"}",["T_WHITESPACE"," ",218],["T_ELSE","else",218],["T_WHITESPACE"," ",218],"{",["T_WHITESPACE","\n                ",218],["T_VARIABLE","$cache",219],["T_WHITESPACE"," ",219],"=",["T_WHITESPACE"," ",219],["T_VARIABLE","$this",219],["T_OBJECT_OPERATOR","->",219],["T_STRING","getSconfig",219],"(",")",";",["T_WHITESPACE","\n                ",219],["T_VARIABLE","$cache",220],["T_OBJECT_OPERATOR","->",220],["T_STRING","clear",220],"(",")",";",["T_WHITESPACE","\n            ",220],"}",["T_WHITESPACE","\n        ",221],"}",["T_WHITESPACE"," ",222],["T_CATCH","catch",222],["T_WHITESPACE"," ",222],"(",["T_STRING","Exception",222],["T_WHITESPACE"," ",222],["T_VARIABLE","$e",222],")",["T_WHITESPACE"," ",222],"{",["T_WHITESPACE","\n             ",222],["T_VARIABLE","$this",223],["T_OBJECT_OPERATOR","->",223],["T_STRING","doError",223],"(",["T_VARIABLE","$command",223],",",["T_WHITESPACE"," ",223],["T_VARIABLE","$e",223],["T_OBJECT_OPERATOR","->",223],["T_STRING","getMessage",223],"(",")",")",";",["T_WHITESPACE","\n        ",223],"}",["T_WHITESPACE","\n    ",224],"}",["T_WHITESPACE","\n\n\n\n\n\n",225],"}",["T_WHITESPACE","\n",231]]