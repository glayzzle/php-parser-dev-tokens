[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Magento\n *\n * NOTICE OF LICENSE\n *\n * This source file is subject to the Open Software License (OSL 3.0)\n * that is bundled with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/opensource.org\/licenses\/osl-3.0.php\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@magento.com so we can send you a copy immediately.\n *\n * DISCLAIMER\n *\n * Do not edit or add to this file if you wish to upgrade Magento to newer\n * versions in the future. If you wish to customize Magento for your\n * needs please refer to http:\/\/www.magento.com for more information.\n *\n * @category    Tests\n * @package     Tests_Functional\n * @copyright  Copyright (c) 2006-2016 X.commerce, Inc. and affiliates (http:\/\/www.magento.com)\n * @license    http:\/\/opensource.org\/licenses\/osl-3.0.php  Open Software License (OSL 3.0)\n *\/",2],["T_WHITESPACE","\n\n",25],["T_NAMESPACE","namespace",27],["T_WHITESPACE"," ",27],["T_STRING","Mage",27],["T_NS_SEPARATOR","\\",27],["T_STRING","SalesRule",27],["T_NS_SEPARATOR","\\",27],["T_STRING","Test",27],["T_NS_SEPARATOR","\\",27],["T_STRING","Constraint",27],";",["T_WHITESPACE","\n\n",27],["T_USE","use",29],["T_WHITESPACE"," ",29],["T_STRING","Magento",29],["T_NS_SEPARATOR","\\",29],["T_STRING","Mtf",29],["T_NS_SEPARATOR","\\",29],["T_STRING","Client",29],["T_NS_SEPARATOR","\\",29],["T_STRING","Browser",29],";",["T_WHITESPACE","\n",29],["T_USE","use",30],["T_WHITESPACE"," ",30],["T_STRING","Mage",30],["T_NS_SEPARATOR","\\",30],["T_STRING","Catalog",30],["T_NS_SEPARATOR","\\",30],["T_STRING","Test",30],["T_NS_SEPARATOR","\\",30],["T_STRING","Fixture",30],["T_NS_SEPARATOR","\\",30],["T_STRING","CatalogProductSimple",30],";",["T_WHITESPACE","\n",30],["T_USE","use",31],["T_WHITESPACE"," ",31],["T_STRING","Mage",31],["T_NS_SEPARATOR","\\",31],["T_STRING","Catalog",31],["T_NS_SEPARATOR","\\",31],["T_STRING","Test",31],["T_NS_SEPARATOR","\\",31],["T_STRING","Page",31],["T_NS_SEPARATOR","\\",31],["T_STRING","Category",31],["T_NS_SEPARATOR","\\",31],["T_STRING","CatalogCategoryView",31],";",["T_WHITESPACE","\n",31],["T_USE","use",32],["T_WHITESPACE"," ",32],["T_STRING","Mage",32],["T_NS_SEPARATOR","\\",32],["T_STRING","Catalog",32],["T_NS_SEPARATOR","\\",32],["T_STRING","Test",32],["T_NS_SEPARATOR","\\",32],["T_STRING","Page",32],["T_NS_SEPARATOR","\\",32],["T_STRING","Product",32],["T_NS_SEPARATOR","\\",32],["T_STRING","CatalogProductView",32],";",["T_WHITESPACE","\n",32],["T_USE","use",33],["T_WHITESPACE"," ",33],["T_STRING","Mage",33],["T_NS_SEPARATOR","\\",33],["T_STRING","Checkout",33],["T_NS_SEPARATOR","\\",33],["T_STRING","Test",33],["T_NS_SEPARATOR","\\",33],["T_STRING","Page",33],["T_NS_SEPARATOR","\\",33],["T_STRING","CheckoutCart",33],";",["T_WHITESPACE","\n",33],["T_USE","use",34],["T_WHITESPACE"," ",34],["T_STRING","Mage",34],["T_NS_SEPARATOR","\\",34],["T_STRING","Cms",34],["T_NS_SEPARATOR","\\",34],["T_STRING","Test",34],["T_NS_SEPARATOR","\\",34],["T_STRING","Page",34],["T_NS_SEPARATOR","\\",34],["T_STRING","CmsIndex",34],";",["T_WHITESPACE","\n",34],["T_USE","use",35],["T_WHITESPACE"," ",35],["T_STRING","Mage",35],["T_NS_SEPARATOR","\\",35],["T_STRING","Customer",35],["T_NS_SEPARATOR","\\",35],["T_STRING","Test",35],["T_NS_SEPARATOR","\\",35],["T_STRING","Fixture",35],["T_NS_SEPARATOR","\\",35],["T_STRING","Address",35],";",["T_WHITESPACE","\n",35],["T_USE","use",36],["T_WHITESPACE"," ",36],["T_STRING","Mage",36],["T_NS_SEPARATOR","\\",36],["T_STRING","Customer",36],["T_NS_SEPARATOR","\\",36],["T_STRING","Test",36],["T_NS_SEPARATOR","\\",36],["T_STRING","Fixture",36],["T_NS_SEPARATOR","\\",36],["T_STRING","Customer",36],";",["T_WHITESPACE","\n",36],["T_USE","use",37],["T_WHITESPACE"," ",37],["T_STRING","Mage",37],["T_NS_SEPARATOR","\\",37],["T_STRING","Customer",37],["T_NS_SEPARATOR","\\",37],["T_STRING","Test",37],["T_NS_SEPARATOR","\\",37],["T_STRING","Page",37],["T_NS_SEPARATOR","\\",37],["T_STRING","CustomerAccountLogin",37],";",["T_WHITESPACE","\n",37],["T_USE","use",38],["T_WHITESPACE"," ",38],["T_STRING","Mage",38],["T_NS_SEPARATOR","\\",38],["T_STRING","Customer",38],["T_NS_SEPARATOR","\\",38],["T_STRING","Test",38],["T_NS_SEPARATOR","\\",38],["T_STRING","Page",38],["T_NS_SEPARATOR","\\",38],["T_STRING","CustomerAccountLogout",38],";",["T_WHITESPACE","\n",38],["T_USE","use",39],["T_WHITESPACE"," ",39],["T_STRING","Mage",39],["T_NS_SEPARATOR","\\",39],["T_STRING","SalesRule",39],["T_NS_SEPARATOR","\\",39],["T_STRING","Test",39],["T_NS_SEPARATOR","\\",39],["T_STRING","Fixture",39],["T_NS_SEPARATOR","\\",39],["T_STRING","SalesRule",39],";",["T_WHITESPACE","\n",39],["T_USE","use",40],["T_WHITESPACE"," ",40],["T_STRING","Magento",40],["T_NS_SEPARATOR","\\",40],["T_STRING","Mtf",40],["T_NS_SEPARATOR","\\",40],["T_STRING","Constraint",40],["T_NS_SEPARATOR","\\",40],["T_STRING","AbstractConstraint",40],";",["T_WHITESPACE","\n\n",40],["T_DOC_COMMENT","\/**\n * Abstract class for implementing assert applying.\n *\n * @SuppressWarnings(PHPMD.CouplingBetweenObjects)\n *\/",42],["T_WHITESPACE","\n",46],["T_ABSTRACT","abstract",47],["T_WHITESPACE"," ",47],["T_CLASS","class",47],["T_WHITESPACE"," ",47],["T_STRING","AbstractCartPriceRuleApplying",47],["T_WHITESPACE"," ",47],["T_EXTENDS","extends",47],["T_WHITESPACE"," ",47],["T_STRING","AbstractConstraint",47],["T_WHITESPACE","\n",47],"{",["T_WHITESPACE","\n    ",48],["T_DOC_COMMENT","\/**\n     * Page CheckoutCart.\n     *\n     * @var CheckoutCart\n     *\/",49],["T_WHITESPACE","\n    ",53],["T_PROTECTED","protected",54],["T_WHITESPACE"," ",54],["T_VARIABLE","$checkoutCart",54],";",["T_WHITESPACE","\n\n    ",54],["T_DOC_COMMENT","\/**\n     * Page CmsIndex.\n     *\n     * @var CmsIndex\n     *\/",56],["T_WHITESPACE","\n    ",60],["T_PROTECTED","protected",61],["T_WHITESPACE"," ",61],["T_VARIABLE","$cmsIndex",61],";",["T_WHITESPACE","\n\n    ",61],["T_DOC_COMMENT","\/**\n     * Page CustomerAccountLogin.\n     *\n     * @var CustomerAccountLogin\n     *\/",63],["T_WHITESPACE","\n    ",67],["T_PROTECTED","protected",68],["T_WHITESPACE"," ",68],["T_VARIABLE","$customerAccountLogin",68],";",["T_WHITESPACE","\n\n    ",68],["T_DOC_COMMENT","\/**\n     * Page CustomerAccountLogout.\n     *\n     * @var CustomerAccountLogout\n     *\/",70],["T_WHITESPACE","\n    ",74],["T_PROTECTED","protected",75],["T_WHITESPACE"," ",75],["T_VARIABLE","$customerAccountLogout",75],";",["T_WHITESPACE","\n\n    ",75],["T_DOC_COMMENT","\/**\n     * Page CatalogCategoryView.\n     *\n     * @var CatalogCategoryView\n     *\/",77],["T_WHITESPACE","\n    ",81],["T_PROTECTED","protected",82],["T_WHITESPACE"," ",82],["T_VARIABLE","$catalogCategoryView",82],";",["T_WHITESPACE","\n\n    ",82],["T_DOC_COMMENT","\/**\n     * Page CatalogProductView.\n     *\n     * @var CatalogProductView\n     *\/",84],["T_WHITESPACE","\n    ",88],["T_PROTECTED","protected",89],["T_WHITESPACE"," ",89],["T_VARIABLE","$catalogProductView",89],";",["T_WHITESPACE","\n\n    ",89],["T_DOC_COMMENT","\/**\n     * Customer from precondition.\n     *\n     * @var Customer\n     *\/",91],["T_WHITESPACE","\n    ",95],["T_PROTECTED","protected",96],["T_WHITESPACE"," ",96],["T_VARIABLE","$customer",96],";",["T_WHITESPACE","\n\n    ",96],["T_DOC_COMMENT","\/**\n     * Browser.\n     *\n     * @var Browser\n     *\/",98],["T_WHITESPACE","\n    ",102],["T_PROTECTED","protected",103],["T_WHITESPACE"," ",103],["T_VARIABLE","$browser",103],";",["T_WHITESPACE","\n\n    ",103],["T_DOC_COMMENT","\/**\n     * First product from precondition.\n     *\n     * @var CatalogProductSimple\n     *\/",105],["T_WHITESPACE","\n    ",109],["T_PROTECTED","protected",110],["T_WHITESPACE"," ",110],["T_VARIABLE","$productForSalesRule1",110],";",["T_WHITESPACE","\n\n    ",110],["T_DOC_COMMENT","\/**\n     * Second product from precondition.\n     *\n     * @var CatalogProductSimple\n     *\/",112],["T_WHITESPACE","\n    ",116],["T_PROTECTED","protected",117],["T_WHITESPACE"," ",117],["T_VARIABLE","$productForSalesRule2",117],";",["T_WHITESPACE","\n\n    ",117],["T_DOC_COMMENT","\/**\n     * Implementation assert.\n     *\n     * @return void\n     *\/",119],["T_WHITESPACE","\n    ",123],["T_ABSTRACT","abstract",124],["T_WHITESPACE"," ",124],["T_PROTECTED","protected",124],["T_WHITESPACE"," ",124],["T_FUNCTION","function",124],["T_WHITESPACE"," ",124],["T_STRING","assert",124],"(",")",";",["T_WHITESPACE","\n\n    ",124],["T_DOC_COMMENT","\/**\n     * 1. Navigate to frontend\n     * 2. If \"Log Out\" link is visible and \"isLoggedIn\" empty\n     *    - makes logout\n     * 3. If \"isLoggedIn\" not empty\n     *    - login as customer\n     * 4. Clear shopping cart\n     * 5. Add test product(s) to shopping cart with specify quantity\n     * 6. If \"salesRule\/data\/coupon_code\" not empty:\n     *    - fill \"Enter your code\" input in D\u00d1\u0096scount Codes\n     *    - click \"Apply Coupon\" button\n     * 7. If \"address\/data\/country_id\" not empty:\n     *    On Estimate Shipping and Tax:\n     *    - fill Country, State\/Province, Zip\/Postal Code\n     *    - click 'Get a Quote' button\n     *    - select 'Flat Rate' shipping\n     *    - click 'Update Total' button\n     * 8. Implementation assert\n     *\n     * @param CheckoutCart $checkoutCart\n     * @param CmsIndex $cmsIndex\n     * @param CustomerAccountLogin $customerAccountLogin\n     * @param CustomerAccountLogout $customerAccountLogout\n     * @param CatalogCategoryView $catalogCategoryView\n     * @param CatalogProductView $catalogProductView\n     * @param Customer $customer\n     * @param SalesRule $salesRule\n     * @param Address $address\n     * @param Browser $browser\n     * @param array $productQuantity\n     * @param CatalogProductSimple $productForSalesRule1\n     * @param CatalogProductSimple $productForSalesRule2\n     * @param array $shipping [optional]\n     * @param int|null $isLoggedIn\n     * @return void\n     *\n     * @SuppressWarnings(PHPMD.ExcessiveParameterList)\n     *\/",126],["T_WHITESPACE","\n    ",163],["T_PUBLIC","public",164],["T_WHITESPACE"," ",164],["T_FUNCTION","function",164],["T_WHITESPACE"," ",164],["T_STRING","processAssert",164],"(",["T_WHITESPACE","\n        ",164],["T_STRING","CheckoutCart",165],["T_WHITESPACE"," ",165],["T_VARIABLE","$checkoutCart",165],",",["T_WHITESPACE","\n        ",165],["T_STRING","CmsIndex",166],["T_WHITESPACE"," ",166],["T_VARIABLE","$cmsIndex",166],",",["T_WHITESPACE","\n        ",166],["T_STRING","CustomerAccountLogin",167],["T_WHITESPACE"," ",167],["T_VARIABLE","$customerAccountLogin",167],",",["T_WHITESPACE","\n        ",167],["T_STRING","CustomerAccountLogout",168],["T_WHITESPACE"," ",168],["T_VARIABLE","$customerAccountLogout",168],",",["T_WHITESPACE","\n        ",168],["T_STRING","CatalogCategoryView",169],["T_WHITESPACE"," ",169],["T_VARIABLE","$catalogCategoryView",169],",",["T_WHITESPACE","\n        ",169],["T_STRING","CatalogProductView",170],["T_WHITESPACE"," ",170],["T_VARIABLE","$catalogProductView",170],",",["T_WHITESPACE","\n        ",170],["T_STRING","Customer",171],["T_WHITESPACE"," ",171],["T_VARIABLE","$customer",171],",",["T_WHITESPACE","\n        ",171],["T_STRING","SalesRule",172],["T_WHITESPACE"," ",172],["T_VARIABLE","$salesRule",172],",",["T_WHITESPACE","\n        ",172],["T_STRING","Address",173],["T_WHITESPACE"," ",173],["T_VARIABLE","$address",173],",",["T_WHITESPACE","\n        ",173],["T_STRING","Browser",174],["T_WHITESPACE"," ",174],["T_VARIABLE","$browser",174],",",["T_WHITESPACE","\n        ",174],["T_ARRAY","array",175],["T_WHITESPACE"," ",175],["T_VARIABLE","$productQuantity",175],",",["T_WHITESPACE","\n        ",175],["T_STRING","CatalogProductSimple",176],["T_WHITESPACE"," ",176],["T_VARIABLE","$productForSalesRule1",176],",",["T_WHITESPACE","\n        ",176],["T_STRING","CatalogProductSimple",177],["T_WHITESPACE"," ",177],["T_VARIABLE","$productForSalesRule2",177],",",["T_WHITESPACE","\n        ",177],["T_ARRAY","array",178],["T_WHITESPACE"," ",178],["T_VARIABLE","$shipping",178],["T_WHITESPACE"," ",178],"=",["T_WHITESPACE"," ",178],"[","]",",",["T_WHITESPACE","\n        ",178],["T_VARIABLE","$isLoggedIn",179],["T_WHITESPACE"," ",179],"=",["T_WHITESPACE"," ",179],["T_STRING","null",179],["T_WHITESPACE","\n    ",179],")",["T_WHITESPACE"," ",180],"{",["T_WHITESPACE","\n        ",180],["T_VARIABLE","$this",181],["T_OBJECT_OPERATOR","->",181],["T_STRING","checkoutCart",181],["T_WHITESPACE"," ",181],"=",["T_WHITESPACE"," ",181],["T_VARIABLE","$checkoutCart",181],";",["T_WHITESPACE","\n        ",181],["T_VARIABLE","$this",182],["T_OBJECT_OPERATOR","->",182],["T_STRING","cmsIndex",182],["T_WHITESPACE"," ",182],"=",["T_WHITESPACE"," ",182],["T_VARIABLE","$cmsIndex",182],";",["T_WHITESPACE","\n        ",182],["T_VARIABLE","$this",183],["T_OBJECT_OPERATOR","->",183],["T_STRING","customerAccountLogin",183],["T_WHITESPACE"," ",183],"=",["T_WHITESPACE"," ",183],["T_VARIABLE","$customerAccountLogin",183],";",["T_WHITESPACE","\n        ",183],["T_VARIABLE","$this",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","customerAccountLogout",184],["T_WHITESPACE"," ",184],"=",["T_WHITESPACE"," ",184],["T_VARIABLE","$customerAccountLogout",184],";",["T_WHITESPACE","\n        ",184],["T_VARIABLE","$this",185],["T_OBJECT_OPERATOR","->",185],["T_STRING","catalogCategoryView",185],["T_WHITESPACE"," ",185],"=",["T_WHITESPACE"," ",185],["T_VARIABLE","$catalogCategoryView",185],";",["T_WHITESPACE","\n        ",185],["T_VARIABLE","$this",186],["T_OBJECT_OPERATOR","->",186],["T_STRING","catalogProductView",186],["T_WHITESPACE"," ",186],"=",["T_WHITESPACE"," ",186],["T_VARIABLE","$catalogProductView",186],";",["T_WHITESPACE","\n        ",186],["T_VARIABLE","$this",187],["T_OBJECT_OPERATOR","->",187],["T_STRING","customer",187],["T_WHITESPACE"," ",187],"=",["T_WHITESPACE"," ",187],["T_VARIABLE","$customer",187],";",["T_WHITESPACE","\n        ",187],["T_VARIABLE","$this",188],["T_OBJECT_OPERATOR","->",188],["T_STRING","browser",188],["T_WHITESPACE"," ",188],"=",["T_WHITESPACE"," ",188],["T_VARIABLE","$browser",188],";",["T_WHITESPACE","\n        ",188],["T_VARIABLE","$this",189],["T_OBJECT_OPERATOR","->",189],["T_STRING","productForSalesRule1",189],["T_WHITESPACE"," ",189],"=",["T_WHITESPACE"," ",189],["T_VARIABLE","$productForSalesRule1",189],";",["T_WHITESPACE","\n        ",189],["T_VARIABLE","$this",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","productForSalesRule2",190],["T_WHITESPACE"," ",190],"=",["T_WHITESPACE"," ",190],["T_VARIABLE","$productForSalesRule2",190],";",["T_WHITESPACE","\n        ",190],["T_VARIABLE","$isLoggedIn",191],["T_WHITESPACE"," ",191],"?",["T_WHITESPACE"," ",191],["T_VARIABLE","$this",191],["T_OBJECT_OPERATOR","->",191],["T_STRING","login",191],"(",")",["T_WHITESPACE"," ",191],":",["T_WHITESPACE"," ",191],["T_VARIABLE","$this",191],["T_OBJECT_OPERATOR","->",191],["T_STRING","customerAccountLogout",191],["T_OBJECT_OPERATOR","->",191],["T_STRING","open",191],"(",")",";",["T_WHITESPACE","\n        ",191],["T_VARIABLE","$this",192],["T_OBJECT_OPERATOR","->",192],["T_STRING","checkoutCart",192],["T_OBJECT_OPERATOR","->",192],["T_STRING","open",192],"(",")",["T_OBJECT_OPERATOR","->",192],["T_STRING","getCartBlock",192],"(",")",["T_OBJECT_OPERATOR","->",192],["T_STRING","clearShoppingCart",192],"(",")",";",["T_WHITESPACE","\n        ",192],["T_VARIABLE","$this",193],["T_OBJECT_OPERATOR","->",193],["T_STRING","addProductsToCart",193],"(",["T_VARIABLE","$productQuantity",193],")",";",["T_WHITESPACE","\n        ",193],["T_IF","if",194],["T_WHITESPACE"," ",194],"(",["T_VARIABLE","$address",194],["T_OBJECT_OPERATOR","->",194],["T_STRING","hasData",194],"(",["T_CONSTANT_ENCAPSED_STRING","'country_id'",194],")",")",["T_WHITESPACE"," ",194],"{",["T_WHITESPACE","\n            ",194],["T_VARIABLE","$this",195],["T_OBJECT_OPERATOR","->",195],["T_STRING","checkoutCart",195],["T_OBJECT_OPERATOR","->",195],["T_STRING","getShippingBlock",195],"(",")",["T_OBJECT_OPERATOR","->",195],["T_STRING","fillEstimateShippingAndTax",195],"(",["T_VARIABLE","$address",195],")",";",["T_WHITESPACE","\n            ",195],["T_IF","if",196],["T_WHITESPACE"," ",196],"(","!",["T_EMPTY","empty",196],"(",["T_VARIABLE","$shipping",196],")",")",["T_WHITESPACE"," ",196],"{",["T_WHITESPACE","\n                ",196],["T_VARIABLE","$this",197],["T_OBJECT_OPERATOR","->",197],["T_STRING","checkoutCart",197],["T_OBJECT_OPERATOR","->",197],["T_STRING","getShippingBlock",197],"(",")",["T_OBJECT_OPERATOR","->",197],["T_STRING","selectShippingMethod",197],"(",["T_VARIABLE","$shipping",197],")",";",["T_WHITESPACE","\n            ",197],"}",["T_WHITESPACE","\n        ",198],"}",["T_WHITESPACE","\n        ",199],["T_IF","if",200],["T_WHITESPACE"," ",200],"(",["T_VARIABLE","$salesRule",200],["T_OBJECT_OPERATOR","->",200],["T_STRING","getCouponCode",200],"(",")",")",["T_WHITESPACE"," ",200],"{",["T_WHITESPACE","\n            ",200],["T_VARIABLE","$this",201],["T_OBJECT_OPERATOR","->",201],["T_STRING","checkoutCart",201],["T_OBJECT_OPERATOR","->",201],["T_STRING","getDiscountCodesBlock",201],"(",")",["T_OBJECT_OPERATOR","->",201],["T_STRING","applyCouponCode",201],"(",["T_VARIABLE","$salesRule",201],["T_OBJECT_OPERATOR","->",201],["T_STRING","getCouponCode",201],"(",")",")",";",["T_WHITESPACE","\n        ",201],"}",["T_WHITESPACE","\n        ",202],["T_VARIABLE","$this",203],["T_OBJECT_OPERATOR","->",203],["T_STRING","assert",203],"(",")",";",["T_WHITESPACE","\n    ",203],"}",["T_WHITESPACE","\n\n    ",204],["T_DOC_COMMENT","\/**\n     * Log in customer.\n     *\n     * @return void\n     *\/",206],["T_WHITESPACE","\n    ",210],["T_PROTECTED","protected",211],["T_WHITESPACE"," ",211],["T_FUNCTION","function",211],["T_WHITESPACE"," ",211],["T_STRING","login",211],"(",")",["T_WHITESPACE","\n    ",211],"{",["T_WHITESPACE","\n        ",212],["T_VARIABLE","$this",213],["T_OBJECT_OPERATOR","->",213],["T_STRING","objectManager",213],["T_OBJECT_OPERATOR","->",213],["T_STRING","create",213],"(",["T_WHITESPACE","\n            ",213],["T_CONSTANT_ENCAPSED_STRING","'Mage\\Customer\\Test\\TestStep\\LoginCustomerOnFrontendStep'",214],",",["T_WHITESPACE","\n            ",214],"[",["T_CONSTANT_ENCAPSED_STRING","'customer'",215],["T_WHITESPACE"," ",215],["T_DOUBLE_ARROW","=>",215],["T_WHITESPACE"," ",215],["T_VARIABLE","$this",215],["T_OBJECT_OPERATOR","->",215],["T_STRING","customer",215],"]",["T_WHITESPACE","\n        ",215],")",["T_OBJECT_OPERATOR","->",216],["T_STRING","run",216],"(",")",";",["T_WHITESPACE","\n    ",216],"}",["T_WHITESPACE","\n\n    ",217],["T_DOC_COMMENT","\/**\n     * Add products to cart.\n     *\n     * @param array $productQuantity\n     * @return void\n     *\/",219],["T_WHITESPACE","\n    ",224],["T_PROTECTED","protected",225],["T_WHITESPACE"," ",225],["T_FUNCTION","function",225],["T_WHITESPACE"," ",225],["T_STRING","addProductsToCart",225],"(",["T_ARRAY","array",225],["T_WHITESPACE"," ",225],["T_VARIABLE","$productQuantity",225],")",["T_WHITESPACE","\n    ",225],"{",["T_WHITESPACE","\n        ",226],["T_FOREACH","foreach",227],["T_WHITESPACE"," ",227],"(",["T_VARIABLE","$productQuantity",227],["T_WHITESPACE"," ",227],["T_AS","as",227],["T_WHITESPACE"," ",227],["T_VARIABLE","$product",227],["T_WHITESPACE"," ",227],["T_DOUBLE_ARROW","=>",227],["T_WHITESPACE"," ",227],["T_VARIABLE","$quantity",227],")",["T_WHITESPACE"," ",227],"{",["T_WHITESPACE","\n            ",227],["T_IF","if",228],["T_WHITESPACE"," ",228],"(",["T_VARIABLE","$quantity",228],["T_WHITESPACE"," ",228],">",["T_WHITESPACE"," ",228],["T_LNUMBER","0",228],")",["T_WHITESPACE"," ",228],"{",["T_WHITESPACE","\n                ",228],["T_VARIABLE","$this",229],["T_OBJECT_OPERATOR","->",229],["T_STRING","browser",229],["T_OBJECT_OPERATOR","->",229],["T_STRING","open",229],"(",["T_VARIABLE","$_ENV",229],"[",["T_CONSTANT_ENCAPSED_STRING","'app_frontend_url'",229],"]",["T_WHITESPACE"," ",229],".",["T_WHITESPACE"," ",229],["T_VARIABLE","$this",229],["T_OBJECT_OPERATOR","->",229],["T_VARIABLE","$product",229],["T_OBJECT_OPERATOR","->",229],["T_STRING","getUrlKey",229],"(",")",["T_WHITESPACE"," ",229],".",["T_WHITESPACE"," ",229],["T_CONSTANT_ENCAPSED_STRING","'.html'",229],")",";",["T_WHITESPACE","\n                ",229],["T_VARIABLE","$this",230],["T_OBJECT_OPERATOR","->",230],["T_STRING","catalogProductView",230],["T_OBJECT_OPERATOR","->",230],["T_STRING","getViewBlock",230],"(",")",["T_OBJECT_OPERATOR","->",230],["T_STRING","setQty",230],"(",["T_VARIABLE","$quantity",230],")",";",["T_WHITESPACE","\n                ",230],["T_VARIABLE","$this",231],["T_OBJECT_OPERATOR","->",231],["T_STRING","catalogProductView",231],["T_OBJECT_OPERATOR","->",231],["T_STRING","getViewBlock",231],"(",")",["T_OBJECT_OPERATOR","->",231],["T_STRING","clickAddToCart",231],"(",")",";",["T_WHITESPACE","\n            ",231],"}",["T_WHITESPACE","\n        ",232],"}",["T_WHITESPACE","\n    ",233],"}",["T_WHITESPACE","\n\n    ",234],["T_DOC_COMMENT","\/**\n     * Get totals from total block in shopping cart.\n     *\n     * @return array\n     *\/",236],["T_WHITESPACE","\n    ",240],["T_PROTECTED","protected",241],["T_WHITESPACE"," ",241],["T_FUNCTION","function",241],["T_WHITESPACE"," ",241],["T_STRING","getTotals",241],"(",")",["T_WHITESPACE","\n    ",241],"{",["T_WHITESPACE","\n        ",242],["T_VARIABLE","$totals",243],["T_WHITESPACE"," ",243],"=",["T_WHITESPACE"," ",243],"[","]",";",["T_WHITESPACE","\n        ",243],["T_VARIABLE","$totals",244],"[",["T_CONSTANT_ENCAPSED_STRING","'subtotal'",244],"]",["T_WHITESPACE"," ",244],"=",["T_WHITESPACE"," ",244],["T_VARIABLE","$this",244],["T_OBJECT_OPERATOR","->",244],["T_STRING","checkoutCart",244],["T_OBJECT_OPERATOR","->",244],["T_STRING","getTotalsBlock",244],"(",")",["T_OBJECT_OPERATOR","->",244],["T_STRING","getData",244],"(",["T_CONSTANT_ENCAPSED_STRING","'subtotal'",244],")",";",["T_WHITESPACE","\n        ",244],["T_VARIABLE","$totals",245],"[",["T_CONSTANT_ENCAPSED_STRING","'grandTotal'",245],"]",["T_WHITESPACE"," ",245],"=",["T_WHITESPACE"," ",245],["T_VARIABLE","$this",245],["T_OBJECT_OPERATOR","->",245],["T_STRING","checkoutCart",245],["T_OBJECT_OPERATOR","->",245],["T_STRING","getTotalsBlock",245],"(",")",["T_OBJECT_OPERATOR","->",245],["T_STRING","getData",245],"(",["T_CONSTANT_ENCAPSED_STRING","'grand_total'",245],")",";",["T_WHITESPACE","\n        ",245],["T_IF","if",246],["T_WHITESPACE"," ",246],"(",["T_VARIABLE","$this",246],["T_OBJECT_OPERATOR","->",246],["T_STRING","checkoutCart",246],["T_OBJECT_OPERATOR","->",246],["T_STRING","getTotalsBlock",246],"(",")",["T_OBJECT_OPERATOR","->",246],["T_STRING","isVisibleShippingPriceBlock",246],"(",")",")",["T_WHITESPACE"," ",246],"{",["T_WHITESPACE","\n            ",246],["T_VARIABLE","$shippingPrice",247],["T_WHITESPACE"," ",247],"=",["T_WHITESPACE"," ",247],["T_VARIABLE","$this",247],["T_OBJECT_OPERATOR","->",247],["T_STRING","checkoutCart",247],["T_OBJECT_OPERATOR","->",247],["T_STRING","getTotalsBlock",247],"(",")",["T_OBJECT_OPERATOR","->",247],["T_STRING","getData",247],"(",["T_CONSTANT_ENCAPSED_STRING","'shipping_price'",247],")",";",["T_WHITESPACE","\n            ",247],["T_VARIABLE","$totals",248],"[",["T_CONSTANT_ENCAPSED_STRING","'grandTotal'",248],"]",["T_WHITESPACE"," ",248],"=",["T_WHITESPACE"," ",248],["T_STRING","number_format",248],"(","(",["T_VARIABLE","$totals",248],"[",["T_CONSTANT_ENCAPSED_STRING","'grandTotal'",248],"]",["T_WHITESPACE"," ",248],"-",["T_WHITESPACE"," ",248],["T_VARIABLE","$shippingPrice",248],")",",",["T_WHITESPACE"," ",248],["T_LNUMBER","2",248],")",";",["T_WHITESPACE","\n        ",248],"}",["T_WHITESPACE","\n\n        ",249],["T_RETURN","return",251],["T_WHITESPACE"," ",251],["T_VARIABLE","$totals",251],";",["T_WHITESPACE","\n    ",251],"}",["T_WHITESPACE","\n",252],"}",["T_WHITESPACE","\n",253]]