[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Magento\n *\n * NOTICE OF LICENSE\n *\n * This source file is subject to the Open Software License (OSL 3.0)\n * that is bundled with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/opensource.org\/licenses\/osl-3.0.php\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@magento.com so we can send you a copy immediately.\n *\n * DISCLAIMER\n *\n * Do not edit or add to this file if you wish to upgrade Magento to newer\n * versions in the future. If you wish to customize Magento for your\n * needs please refer to http:\/\/www.magento.com for more information.\n *\n * @category    Tests\n * @package     Tests_Functional\n * @copyright  Copyright (c) 2006-2016 X.commerce, Inc. and affiliates (http:\/\/www.magento.com)\n * @license    http:\/\/opensource.org\/licenses\/osl-3.0.php  Open Software License (OSL 3.0)\n *\/",2],["T_WHITESPACE","\n\n",25],["T_NAMESPACE","namespace",27],["T_WHITESPACE"," ",27],["T_STRING","Mage",27],["T_NS_SEPARATOR","\\",27],["T_STRING","Adminhtml",27],["T_NS_SEPARATOR","\\",27],["T_STRING","Test",27],["T_NS_SEPARATOR","\\",27],["T_STRING","Handler",27],["T_NS_SEPARATOR","\\",27],["T_STRING","Store",27],";",["T_WHITESPACE","\n\n",27],["T_USE","use",29],["T_WHITESPACE"," ",29],["T_STRING","Magento",29],["T_NS_SEPARATOR","\\",29],["T_STRING","Mtf",29],["T_NS_SEPARATOR","\\",29],["T_STRING","Fixture",29],["T_NS_SEPARATOR","\\",29],["T_STRING","FixtureInterface",29],";",["T_WHITESPACE","\n",29],["T_USE","use",30],["T_WHITESPACE"," ",30],["T_STRING","Magento",30],["T_NS_SEPARATOR","\\",30],["T_STRING","Mtf",30],["T_NS_SEPARATOR","\\",30],["T_STRING","Handler",30],["T_NS_SEPARATOR","\\",30],["T_STRING","Curl",30],["T_WHITESPACE"," ",30],["T_AS","as",30],["T_WHITESPACE"," ",30],["T_STRING","AbstractCurl",30],";",["T_WHITESPACE","\n",30],["T_USE","use",31],["T_WHITESPACE"," ",31],["T_STRING","Magento",31],["T_NS_SEPARATOR","\\",31],["T_STRING","Mtf",31],["T_NS_SEPARATOR","\\",31],["T_STRING","Util",31],["T_NS_SEPARATOR","\\",31],["T_STRING","Protocol",31],["T_NS_SEPARATOR","\\",31],["T_STRING","CurlInterface",31],";",["T_WHITESPACE","\n",31],["T_USE","use",32],["T_WHITESPACE"," ",32],["T_STRING","Magento",32],["T_NS_SEPARATOR","\\",32],["T_STRING","Mtf",32],["T_NS_SEPARATOR","\\",32],["T_STRING","Util",32],["T_NS_SEPARATOR","\\",32],["T_STRING","Protocol",32],["T_NS_SEPARATOR","\\",32],["T_STRING","CurlTransport",32],";",["T_WHITESPACE","\n",32],["T_USE","use",33],["T_WHITESPACE"," ",33],["T_STRING","Magento",33],["T_NS_SEPARATOR","\\",33],["T_STRING","Mtf",33],["T_NS_SEPARATOR","\\",33],["T_STRING","Util",33],["T_NS_SEPARATOR","\\",33],["T_STRING","Protocol",33],["T_NS_SEPARATOR","\\",33],["T_STRING","CurlTransport",33],["T_NS_SEPARATOR","\\",33],["T_STRING","BackendDecorator",33],";",["T_WHITESPACE","\n\n",33],["T_DOC_COMMENT","\/**\n * Curl handler for creating Store view.\n *\/",35],["T_WHITESPACE","\n",37],["T_CLASS","class",38],["T_WHITESPACE"," ",38],["T_STRING","Curl",38],["T_WHITESPACE"," ",38],["T_EXTENDS","extends",38],["T_WHITESPACE"," ",38],["T_STRING","AbstractCurl",38],["T_WHITESPACE"," ",38],["T_IMPLEMENTS","implements",38],["T_WHITESPACE"," ",38],["T_STRING","StoreInterface",38],["T_WHITESPACE","\n",38],"{",["T_WHITESPACE","\n    ",39],["T_DOC_COMMENT","\/**\n     * Url for saving data.\n     *\n     * @var string\n     *\/",40],["T_WHITESPACE","\n    ",44],["T_PROTECTED","protected",45],["T_WHITESPACE"," ",45],["T_VARIABLE","$saveUrl",45],["T_WHITESPACE"," ",45],"=",["T_WHITESPACE"," ",45],["T_CONSTANT_ENCAPSED_STRING","'system_store\/save\/'",45],";",["T_WHITESPACE","\n\n    ",45],["T_DOC_COMMENT","\/**\n     * Mapping values for data.\n     *\n     * @var array\n     *\/",47],["T_WHITESPACE","\n    ",51],["T_PROTECTED","protected",52],["T_WHITESPACE"," ",52],["T_VARIABLE","$mappingData",52],["T_WHITESPACE"," ",52],"=",["T_WHITESPACE"," ",52],"[",["T_WHITESPACE","\n        ",52],["T_CONSTANT_ENCAPSED_STRING","'group_id'",53],["T_WHITESPACE"," ",53],["T_DOUBLE_ARROW","=>",53],["T_WHITESPACE"," ",53],"[",["T_WHITESPACE","\n            ",53],["T_CONSTANT_ENCAPSED_STRING","'Main Website Store'",54],["T_WHITESPACE"," ",54],["T_DOUBLE_ARROW","=>",54],["T_WHITESPACE"," ",54],["T_LNUMBER","1",54],",",["T_WHITESPACE","\n        ",54],"]",",",["T_WHITESPACE","\n        ",55],["T_CONSTANT_ENCAPSED_STRING","'is_active'",56],["T_WHITESPACE"," ",56],["T_DOUBLE_ARROW","=>",56],["T_WHITESPACE"," ",56],"[",["T_WHITESPACE","\n            ",56],["T_CONSTANT_ENCAPSED_STRING","'Enabled'",57],["T_WHITESPACE"," ",57],["T_DOUBLE_ARROW","=>",57],["T_WHITESPACE"," ",57],["T_LNUMBER","1",57],",",["T_WHITESPACE","\n            ",57],["T_CONSTANT_ENCAPSED_STRING","'Disabled'",58],["T_WHITESPACE"," ",58],["T_DOUBLE_ARROW","=>",58],["T_WHITESPACE"," ",58],["T_LNUMBER","0",58],",",["T_WHITESPACE","\n        ",58],"]",",",["T_WHITESPACE","\n    ",59],"]",";",["T_WHITESPACE","\n\n    ",60],["T_DOC_COMMENT","\/**\n     * POST request for creating store.\n     *\n     * @param FixtureInterface|null $fixture [optional]\n     * @return array\n     * @throws \\Exception\n     *\/",62],["T_WHITESPACE","\n    ",68],["T_PUBLIC","public",69],["T_WHITESPACE"," ",69],["T_FUNCTION","function",69],["T_WHITESPACE"," ",69],["T_STRING","persist",69],"(",["T_STRING","FixtureInterface",69],["T_WHITESPACE"," ",69],["T_VARIABLE","$fixture",69],["T_WHITESPACE"," ",69],"=",["T_WHITESPACE"," ",69],["T_STRING","null",69],")",["T_WHITESPACE","\n    ",69],"{",["T_WHITESPACE","\n        ",70],["T_VARIABLE","$data",71],["T_WHITESPACE"," ",71],"=",["T_WHITESPACE"," ",71],["T_VARIABLE","$this",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","prepareData",71],"(",["T_VARIABLE","$fixture",71],")",";",["T_WHITESPACE","\n        ",71],["T_VARIABLE","$url",72],["T_WHITESPACE"," ",72],"=",["T_WHITESPACE"," ",72],["T_VARIABLE","$_ENV",72],"[",["T_CONSTANT_ENCAPSED_STRING","'app_backend_url'",72],"]",["T_WHITESPACE"," ",72],".",["T_WHITESPACE"," ",72],["T_VARIABLE","$this",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","saveUrl",72],";",["T_WHITESPACE","\n        ",72],["T_VARIABLE","$curl",73],["T_WHITESPACE"," ",73],"=",["T_WHITESPACE"," ",73],["T_NEW","new",73],["T_WHITESPACE"," ",73],["T_STRING","BackendDecorator",73],"(",["T_NEW","new",73],["T_WHITESPACE"," ",73],["T_STRING","CurlTransport",73],"(",")",",",["T_WHITESPACE"," ",73],["T_VARIABLE","$this",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","_configuration",73],")",";",["T_WHITESPACE","\n        ",73],["T_VARIABLE","$curl",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","write",74],"(",["T_VARIABLE","$url",74],",",["T_WHITESPACE"," ",74],["T_VARIABLE","$data",74],")",";",["T_WHITESPACE","\n        ",74],["T_VARIABLE","$response",75],["T_WHITESPACE"," ",75],"=",["T_WHITESPACE"," ",75],["T_VARIABLE","$curl",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","read",75],"(",")",";",["T_WHITESPACE","\n        ",75],["T_VARIABLE","$curl",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","close",76],"(",")",";",["T_WHITESPACE","\n        ",76],["T_IF","if",77],["T_WHITESPACE"," ",77],"(","!",["T_STRING","strpos",77],"(",["T_VARIABLE","$response",77],",",["T_WHITESPACE"," ",77],["T_CONSTANT_ENCAPSED_STRING","'class=\"success-msg\"'",77],")",")",["T_WHITESPACE"," ",77],"{",["T_WHITESPACE","\n            ",77],["T_THROW","throw",78],["T_WHITESPACE"," ",78],["T_NEW","new",78],["T_WHITESPACE"," ",78],["T_NS_SEPARATOR","\\",78],["T_STRING","Exception",78],"(","\"",["T_ENCAPSED_AND_WHITESPACE","Store View entity creating by curl handler was not successful! Response: ",78],["T_VARIABLE","$response",78],"\"",")",";",["T_WHITESPACE","\n        ",78],"}",["T_WHITESPACE","\n\n        ",79],["T_RETURN","return",81],["T_WHITESPACE"," ",81],"[",["T_CONSTANT_ENCAPSED_STRING","'store_id'",81],["T_WHITESPACE"," ",81],["T_DOUBLE_ARROW","=>",81],["T_WHITESPACE"," ",81],["T_VARIABLE","$this",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","getStoreId",81],"(",["T_VARIABLE","$fixture",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","getName",81],"(",")",")","]",";",["T_WHITESPACE","\n    ",81],"}",["T_WHITESPACE","\n\n    ",82],["T_DOC_COMMENT","\/**\n     * Prepare data from text to values.\n     *\n     * @param FixtureInterface $fixture\n     * @return array\n     *\/",84],["T_WHITESPACE","\n    ",89],["T_PROTECTED","protected",90],["T_WHITESPACE"," ",90],["T_FUNCTION","function",90],["T_WHITESPACE"," ",90],["T_STRING","prepareData",90],"(",["T_STRING","FixtureInterface",90],["T_WHITESPACE"," ",90],["T_VARIABLE","$fixture",90],")",["T_WHITESPACE","\n    ",90],"{",["T_WHITESPACE","\n        ",91],["T_VARIABLE","$data",92],["T_WHITESPACE"," ",92],"=",["T_WHITESPACE"," ",92],"[",["T_WHITESPACE","\n            ",92],["T_CONSTANT_ENCAPSED_STRING","'store'",93],["T_WHITESPACE"," ",93],["T_DOUBLE_ARROW","=>",93],["T_WHITESPACE"," ",93],["T_VARIABLE","$this",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","replaceMappingData",93],"(",["T_VARIABLE","$fixture",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","getData",93],"(",")",")",",",["T_WHITESPACE","\n            ",93],["T_CONSTANT_ENCAPSED_STRING","'store_action'",94],["T_WHITESPACE"," ",94],["T_DOUBLE_ARROW","=>",94],["T_WHITESPACE"," ",94],["T_CONSTANT_ENCAPSED_STRING","'add'",94],",",["T_WHITESPACE","\n            ",94],["T_CONSTANT_ENCAPSED_STRING","'store_type'",95],["T_WHITESPACE"," ",95],["T_DOUBLE_ARROW","=>",95],["T_WHITESPACE"," ",95],["T_CONSTANT_ENCAPSED_STRING","'store'",95],",",["T_WHITESPACE","\n        ",95],"]",";",["T_WHITESPACE","\n        ",96],["T_VARIABLE","$data",97],"[",["T_CONSTANT_ENCAPSED_STRING","'store'",97],"]","[",["T_CONSTANT_ENCAPSED_STRING","'group_id'",97],"]",["T_WHITESPACE"," ",97],"=",["T_WHITESPACE"," ",97],["T_VARIABLE","$fixture",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","getDataFieldConfig",97],"(",["T_CONSTANT_ENCAPSED_STRING","'group_id'",97],")","[",["T_CONSTANT_ENCAPSED_STRING","'source'",97],"]",["T_OBJECT_OPERATOR","->",97],["T_STRING","getStoreGroup",97],"(",")",["T_OBJECT_OPERATOR","->",97],["T_STRING","getGroupId",97],"(",")",";",["T_WHITESPACE","\n        ",97],["T_VARIABLE","$data",98],"[",["T_CONSTANT_ENCAPSED_STRING","'store'",98],"]","[",["T_CONSTANT_ENCAPSED_STRING","'store_id'",98],"]",["T_WHITESPACE"," ",98],"=",["T_WHITESPACE"," ",98],["T_ISSET","isset",98],"(",["T_VARIABLE","$data",98],"[",["T_CONSTANT_ENCAPSED_STRING","'store'",98],"]","[",["T_CONSTANT_ENCAPSED_STRING","'store_id'",98],"]",")",["T_WHITESPACE"," ",98],"?",["T_WHITESPACE"," ",98],["T_VARIABLE","$data",98],"[",["T_CONSTANT_ENCAPSED_STRING","'store'",98],"]","[",["T_CONSTANT_ENCAPSED_STRING","'store_id'",98],"]",["T_WHITESPACE"," ",98],":",["T_WHITESPACE"," ",98],["T_CONSTANT_ENCAPSED_STRING","''",98],";",["T_WHITESPACE","\n\n        ",98],["T_RETURN","return",100],["T_WHITESPACE"," ",100],["T_VARIABLE","$data",100],";",["T_WHITESPACE","\n    ",100],"}",["T_WHITESPACE","\n\n    ",101],["T_DOC_COMMENT","\/**\n     * Get Store id by name after creating Store.\n     *\n     * @param string $name\n     * @return int|null\n     * @throws \\Exception\n     *\/",103],["T_WHITESPACE","\n    ",109],["T_PROTECTED","protected",110],["T_WHITESPACE"," ",110],["T_FUNCTION","function",110],["T_WHITESPACE"," ",110],["T_STRING","getStoreId",110],"(",["T_VARIABLE","$name",110],")",["T_WHITESPACE","\n    ",110],"{",["T_WHITESPACE","\n        ",111],["T_COMMENT","\/\/Set pager limit to 2000 in order to find created store view by name\n",112],["T_WHITESPACE","        ",113],["T_VARIABLE","$url",113],["T_WHITESPACE"," ",113],"=",["T_WHITESPACE"," ",113],["T_VARIABLE","$_ENV",113],"[",["T_CONSTANT_ENCAPSED_STRING","'app_backend_url'",113],"]",["T_WHITESPACE"," ",113],".",["T_WHITESPACE"," ",113],["T_CONSTANT_ENCAPSED_STRING","'system_store\/index\/sort\/store_title\/dir\/asc\/limit\/2000'",113],";",["T_WHITESPACE","\n        ",113],["T_VARIABLE","$curl",114],["T_WHITESPACE"," ",114],"=",["T_WHITESPACE"," ",114],["T_NEW","new",114],["T_WHITESPACE"," ",114],["T_STRING","BackendDecorator",114],"(",["T_NEW","new",114],["T_WHITESPACE"," ",114],["T_STRING","CurlTransport",114],"(",")",",",["T_WHITESPACE"," ",114],["T_VARIABLE","$this",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","_configuration",114],")",";",["T_WHITESPACE","\n        ",114],["T_VARIABLE","$curl",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","addOption",115],"(",["T_STRING","CURLOPT_HEADER",115],",",["T_WHITESPACE"," ",115],["T_LNUMBER","1",115],")",";",["T_WHITESPACE","\n        ",115],["T_VARIABLE","$curl",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","write",116],"(",["T_VARIABLE","$url",116],")",";",["T_WHITESPACE","\n        ",116],["T_VARIABLE","$response",117],["T_WHITESPACE"," ",117],"=",["T_WHITESPACE"," ",117],["T_VARIABLE","$curl",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","read",117],"(",")",";",["T_WHITESPACE","\n        ",117],["T_STRING","preg_match",118],"(",["T_CONSTANT_ENCAPSED_STRING","'@.*store_id\/(\\d+).*'",118],["T_WHITESPACE"," ",118],".",["T_WHITESPACE"," ",118],["T_VARIABLE","$name",118],["T_WHITESPACE"," ",118],".",["T_WHITESPACE"," ",118],["T_CONSTANT_ENCAPSED_STRING","'@siu'",118],",",["T_WHITESPACE"," ",118],["T_VARIABLE","$response",118],",",["T_WHITESPACE"," ",118],["T_VARIABLE","$matches",118],")",";",["T_WHITESPACE","\n        ",118],["T_IF","if",119],["T_WHITESPACE"," ",119],"(",["T_EMPTY","empty",119],"(",["T_VARIABLE","$matches",119],")",")",["T_WHITESPACE"," ",119],"{",["T_WHITESPACE","\n            ",119],["T_THROW","throw",120],["T_WHITESPACE"," ",120],["T_NEW","new",120],["T_WHITESPACE"," ",120],["T_NS_SEPARATOR","\\",120],["T_STRING","Exception",120],"(",["T_CONSTANT_ENCAPSED_STRING","'Cannot find store id'",120],")",";",["T_WHITESPACE","\n        ",120],"}",["T_WHITESPACE","\n\n        ",121],["T_RETURN","return",123],["T_WHITESPACE"," ",123],["T_EMPTY","empty",123],"(",["T_VARIABLE","$matches",123],"[",["T_LNUMBER","1",123],"]",")",["T_WHITESPACE"," ",123],"?",["T_WHITESPACE"," ",123],["T_STRING","null",123],["T_WHITESPACE"," ",123],":",["T_WHITESPACE"," ",123],["T_VARIABLE","$matches",123],"[",["T_LNUMBER","1",123],"]",";",["T_WHITESPACE","\n    ",123],"}",["T_WHITESPACE","\n",124],"}",["T_WHITESPACE","\n",125]]