[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Magento\n *\n * NOTICE OF LICENSE\n *\n * This source file is subject to the Open Software License (OSL 3.0)\n * that is bundled with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/opensource.org\/licenses\/osl-3.0.php\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@magento.com so we can send you a copy immediately.\n *\n * DISCLAIMER\n *\n * Do not edit or add to this file if you wish to upgrade Magento to newer\n * versions in the future. If you wish to customize Magento for your\n * needs please refer to http:\/\/www.magento.com for more information.\n *\n * @category    Tests\n * @package     Tests_Functional\n * @copyright  Copyright (c) 2006-2016 X.commerce, Inc. and affiliates (http:\/\/www.magento.com)\n * @license    http:\/\/opensource.org\/licenses\/osl-3.0.php  Open Software License (OSL 3.0)\n *\/",2],["T_WHITESPACE","\n\n",25],["T_NAMESPACE","namespace",27],["T_WHITESPACE"," ",27],["T_STRING","Mage",27],["T_NS_SEPARATOR","\\",27],["T_STRING","Catalog",27],["T_NS_SEPARATOR","\\",27],["T_STRING","Test",27],["T_NS_SEPARATOR","\\",27],["T_STRING","Constraint",27],";",["T_WHITESPACE","\n\n",27],["T_USE","use",29],["T_WHITESPACE"," ",29],["T_STRING","Magento",29],["T_NS_SEPARATOR","\\",29],["T_STRING","Mtf",29],["T_NS_SEPARATOR","\\",29],["T_STRING","Client",29],["T_NS_SEPARATOR","\\",29],["T_STRING","Browser",29],";",["T_WHITESPACE","\n",29],["T_USE","use",30],["T_WHITESPACE"," ",30],["T_STRING","Mage",30],["T_NS_SEPARATOR","\\",30],["T_STRING","Cms",30],["T_NS_SEPARATOR","\\",30],["T_STRING","Test",30],["T_NS_SEPARATOR","\\",30],["T_STRING","Page",30],["T_NS_SEPARATOR","\\",30],["T_STRING","CmsIndex",30],";",["T_WHITESPACE","\n",30],["T_USE","use",31],["T_WHITESPACE"," ",31],["T_STRING","Magento",31],["T_NS_SEPARATOR","\\",31],["T_STRING","Mtf",31],["T_NS_SEPARATOR","\\",31],["T_STRING","Fixture",31],["T_NS_SEPARATOR","\\",31],["T_STRING","InjectableFixture",31],";",["T_WHITESPACE","\n",31],["T_USE","use",32],["T_WHITESPACE"," ",32],["T_STRING","Magento",32],["T_NS_SEPARATOR","\\",32],["T_STRING","Mtf",32],["T_NS_SEPARATOR","\\",32],["T_STRING","Constraint",32],["T_NS_SEPARATOR","\\",32],["T_STRING","AbstractConstraint",32],";",["T_WHITESPACE","\n",32],["T_USE","use",33],["T_WHITESPACE"," ",33],["T_STRING","Mage",33],["T_NS_SEPARATOR","\\",33],["T_STRING","Catalog",33],["T_NS_SEPARATOR","\\",33],["T_STRING","Test",33],["T_NS_SEPARATOR","\\",33],["T_STRING","Fixture",33],["T_NS_SEPARATOR","\\",33],["T_STRING","CatalogCategory",33],";",["T_WHITESPACE","\n",33],["T_USE","use",34],["T_WHITESPACE"," ",34],["T_STRING","Mage",34],["T_NS_SEPARATOR","\\",34],["T_STRING","CatalogSearch",34],["T_NS_SEPARATOR","\\",34],["T_STRING","Test",34],["T_NS_SEPARATOR","\\",34],["T_STRING","Page",34],["T_NS_SEPARATOR","\\",34],["T_STRING","CatalogsearchResult",34],";",["T_WHITESPACE","\n",34],["T_USE","use",35],["T_WHITESPACE"," ",35],["T_STRING","Mage",35],["T_NS_SEPARATOR","\\",35],["T_STRING","Catalog",35],["T_NS_SEPARATOR","\\",35],["T_STRING","Test",35],["T_NS_SEPARATOR","\\",35],["T_STRING","Page",35],["T_NS_SEPARATOR","\\",35],["T_STRING","Product",35],["T_NS_SEPARATOR","\\",35],["T_STRING","CatalogProductView",35],";",["T_WHITESPACE","\n",35],["T_USE","use",36],["T_WHITESPACE"," ",36],["T_STRING","Mage",36],["T_NS_SEPARATOR","\\",36],["T_STRING","Catalog",36],["T_NS_SEPARATOR","\\",36],["T_STRING","Test",36],["T_NS_SEPARATOR","\\",36],["T_STRING","Page",36],["T_NS_SEPARATOR","\\",36],["T_STRING","Category",36],["T_NS_SEPARATOR","\\",36],["T_STRING","CatalogCategoryView",36],";",["T_WHITESPACE","\n\n",36],["T_DOC_COMMENT","\/**\n * Assert that product is not displayed on frontend.\n *\/",38],["T_WHITESPACE","\n",40],["T_CLASS","class",41],["T_WHITESPACE"," ",41],["T_STRING","AssertProductIsNotDisplayingOnFrontend",41],["T_WHITESPACE"," ",41],["T_EXTENDS","extends",41],["T_WHITESPACE"," ",41],["T_STRING","AbstractConstraint",41],["T_WHITESPACE","\n",41],"{",["T_WHITESPACE","\n    ",42],["T_COMMENT","\/* tags *\/",43],["T_WHITESPACE","\n    ",43],["T_CONST","const",44],["T_WHITESPACE"," ",44],["T_STRING","SEVERITY",44],["T_WHITESPACE"," ",44],"=",["T_WHITESPACE"," ",44],["T_CONSTANT_ENCAPSED_STRING","'high'",44],";",["T_WHITESPACE","\n    ",44],["T_COMMENT","\/* end tags *\/",45],["T_WHITESPACE","\n\n    ",45],["T_DOC_COMMENT","\/**\n     * Browser.\n     *\n     * @var Browser\n     *\/",47],["T_WHITESPACE","\n    ",51],["T_PROTECTED","protected",52],["T_WHITESPACE"," ",52],["T_VARIABLE","$browser",52],";",["T_WHITESPACE","\n\n    ",52],["T_DOC_COMMENT","\/**\n     * Product view page.\n     *\n     * @var CatalogProductView\n     *\/",54],["T_WHITESPACE","\n    ",58],["T_PROTECTED","protected",59],["T_WHITESPACE"," ",59],["T_VARIABLE","$catalogProductView",59],";",["T_WHITESPACE","\n\n    ",59],["T_DOC_COMMENT","\/**\n     * Cms index page.\n     *\n     * @var CmsIndex\n     *\/",61],["T_WHITESPACE","\n    ",65],["T_PROTECTED","protected",66],["T_WHITESPACE"," ",66],["T_VARIABLE","$cmsIndex",66],";",["T_WHITESPACE","\n\n    ",66],["T_DOC_COMMENT","\/**\n     * Catalog search result page.\n     *\n     * @var CatalogsearchResult\n     *\/",68],["T_WHITESPACE","\n    ",72],["T_PROTECTED","protected",73],["T_WHITESPACE"," ",73],["T_VARIABLE","$catalogSearchResult",73],";",["T_WHITESPACE","\n\n    ",73],["T_DOC_COMMENT","\/**\n     * Fixture category.\n     *\n     * @var CatalogCategory\n     *\/",75],["T_WHITESPACE","\n    ",79],["T_PROTECTED","protected",80],["T_WHITESPACE"," ",80],["T_VARIABLE","$category",80],";",["T_WHITESPACE","\n\n    ",80],["T_DOC_COMMENT","\/**\n     * Catalog category view page.\n     *\n     * @var CatalogCategoryView\n     *\/",82],["T_WHITESPACE","\n    ",86],["T_PROTECTED","protected",87],["T_WHITESPACE"," ",87],["T_VARIABLE","$catalogCategoryView",87],";",["T_WHITESPACE","\n\n    ",87],["T_DOC_COMMENT","\/**\n     * Assert that product is not displayed on frontend.\n     *\n     * @param InjectableFixture $product\n     * @param Browser $browser\n     * @param CatalogProductView $catalogProductView\n     * @param CmsIndex $cmsIndex\n     * @param CatalogsearchResult $catalogSearchResult\n     * @param CatalogCategoryView $catalogCategoryView\n     * @param CatalogCategory|null $category\n     * @return void\n     *\/",89],["T_WHITESPACE","\n    ",100],["T_PUBLIC","public",101],["T_WHITESPACE"," ",101],["T_FUNCTION","function",101],["T_WHITESPACE"," ",101],["T_STRING","processAssert",101],"(",["T_WHITESPACE","\n        ",101],["T_STRING","InjectableFixture",102],["T_WHITESPACE"," ",102],["T_VARIABLE","$product",102],",",["T_WHITESPACE","\n        ",102],["T_STRING","Browser",103],["T_WHITESPACE"," ",103],["T_VARIABLE","$browser",103],",",["T_WHITESPACE","\n        ",103],["T_STRING","CatalogProductView",104],["T_WHITESPACE"," ",104],["T_VARIABLE","$catalogProductView",104],",",["T_WHITESPACE","\n        ",104],["T_STRING","CmsIndex",105],["T_WHITESPACE"," ",105],["T_VARIABLE","$cmsIndex",105],",",["T_WHITESPACE","\n        ",105],["T_STRING","CatalogsearchResult",106],["T_WHITESPACE"," ",106],["T_VARIABLE","$catalogSearchResult",106],",",["T_WHITESPACE","\n        ",106],["T_STRING","CatalogCategoryView",107],["T_WHITESPACE"," ",107],["T_VARIABLE","$catalogCategoryView",107],",",["T_WHITESPACE","\n        ",107],["T_STRING","CatalogCategory",108],["T_WHITESPACE"," ",108],["T_VARIABLE","$category",108],["T_WHITESPACE"," ",108],"=",["T_WHITESPACE"," ",108],["T_STRING","null",108],["T_WHITESPACE","\n    ",108],")",["T_WHITESPACE"," ",109],"{",["T_WHITESPACE","\n        ",109],["T_VARIABLE","$this",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","browser",110],["T_WHITESPACE"," ",110],"=",["T_WHITESPACE"," ",110],["T_VARIABLE","$browser",110],";",["T_WHITESPACE","\n        ",110],["T_VARIABLE","$this",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","catalogProductView",111],["T_WHITESPACE"," ",111],"=",["T_WHITESPACE"," ",111],["T_VARIABLE","$catalogProductView",111],";",["T_WHITESPACE","\n        ",111],["T_VARIABLE","$this",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","cmsIndex",112],["T_WHITESPACE"," ",112],"=",["T_WHITESPACE"," ",112],["T_VARIABLE","$cmsIndex",112],";",["T_WHITESPACE","\n        ",112],["T_VARIABLE","$this",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","catalogSearchResult",113],["T_WHITESPACE"," ",113],"=",["T_WHITESPACE"," ",113],["T_VARIABLE","$catalogSearchResult",113],";",["T_WHITESPACE","\n        ",113],["T_VARIABLE","$this",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","catalogCategoryView",114],["T_WHITESPACE"," ",114],"=",["T_WHITESPACE"," ",114],["T_VARIABLE","$catalogCategoryView",114],";",["T_WHITESPACE","\n        ",114],["T_VARIABLE","$this",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","category",115],["T_WHITESPACE"," ",115],"=",["T_WHITESPACE"," ",115],["T_VARIABLE","$category",115],";",["T_WHITESPACE","\n        ",115],["T_VARIABLE","$products",116],["T_WHITESPACE"," ",116],"=",["T_WHITESPACE"," ",116],["T_STRING","is_array",116],"(",["T_VARIABLE","$product",116],")",["T_WHITESPACE"," ",116],"?",["T_WHITESPACE"," ",116],["T_VARIABLE","$product",116],["T_WHITESPACE"," ",116],":",["T_WHITESPACE"," ",116],"[",["T_VARIABLE","$product",116],"]",";",["T_WHITESPACE","\n        ",116],["T_FOREACH","foreach",117],["T_WHITESPACE"," ",117],"(",["T_VARIABLE","$products",117],["T_WHITESPACE"," ",117],["T_AS","as",117],["T_WHITESPACE"," ",117],["T_VARIABLE","$product",117],")",["T_WHITESPACE"," ",117],"{",["T_WHITESPACE","\n            ",117],["T_VARIABLE","$errors",118],["T_WHITESPACE"," ",118],"=",["T_WHITESPACE"," ",118],["T_VARIABLE","$this",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","isNotDisplayingOnFrontendAssert",118],"(",["T_VARIABLE","$product",118],")",";",["T_WHITESPACE","\n            ",118],["T_NS_SEPARATOR","\\",119],["T_STRING","PHPUnit_Framework_Assert",119],["T_DOUBLE_COLON","::",119],["T_STRING","assertEmpty",119],"(",["T_WHITESPACE","\n                ",119],["T_VARIABLE","$errors",120],",",["T_WHITESPACE","\n                ",120],["T_CONSTANT_ENCAPSED_STRING","\"In the process of checking product availability on the frontend, found the following errors:\\n\"",121],["T_WHITESPACE","\n                ",121],".",["T_WHITESPACE"," ",122],["T_STRING","implode",122],"(",["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",122],",",["T_WHITESPACE"," ",122],["T_VARIABLE","$errors",122],")",["T_WHITESPACE","\n            ",122],")",";",["T_WHITESPACE","\n        ",123],"}",["T_WHITESPACE","\n    ",124],"}",["T_WHITESPACE","\n\n    ",125],["T_DOC_COMMENT","\/**\n     * Verify product displaying on frontend.\n     *\n     * @param InjectableFixture $product\n     * @return array\n     *\/",127],["T_WHITESPACE","\n    ",132],["T_PROTECTED","protected",133],["T_WHITESPACE"," ",133],["T_FUNCTION","function",133],["T_WHITESPACE"," ",133],["T_STRING","isNotDisplayingOnFrontendAssert",133],"(",["T_STRING","InjectableFixture",133],["T_WHITESPACE"," ",133],["T_VARIABLE","$product",133],")",["T_WHITESPACE","\n    ",133],"{",["T_WHITESPACE","\n        ",134],["T_VARIABLE","$errors",135],["T_WHITESPACE"," ",135],"=",["T_WHITESPACE"," ",135],"[","]",";",["T_WHITESPACE","\n        ",135],["T_COMMENT","\/\/Check that product is not available by url\n",136],["T_WHITESPACE","        ",137],["T_VARIABLE","$this",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","browser",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","open",137],"(",["T_VARIABLE","$_ENV",137],"[",["T_CONSTANT_ENCAPSED_STRING","'app_frontend_url'",137],"]",["T_WHITESPACE"," ",137],".",["T_WHITESPACE"," ",137],["T_VARIABLE","$product",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","getUrlKey",137],"(",")",["T_WHITESPACE"," ",137],".",["T_WHITESPACE"," ",137],["T_CONSTANT_ENCAPSED_STRING","'.html'",137],")",";",["T_WHITESPACE","\n        ",137],["T_IF","if",138],["T_WHITESPACE"," ",138],"(",["T_VARIABLE","$this",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","catalogProductView",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","getViewBlock",138],"(",")",["T_OBJECT_OPERATOR","->",138],["T_STRING","isVisible",138],"(",")",")",["T_WHITESPACE"," ",138],"{",["T_WHITESPACE","\n            ",138],["T_VARIABLE","$errors",139],"[","]",["T_WHITESPACE"," ",139],"=",["T_WHITESPACE"," ",139],["T_CONSTANT_ENCAPSED_STRING","'- product view block is visible in product page.'",139],";",["T_WHITESPACE","\n        ",139],"}",["T_WHITESPACE","\n        ",140],["T_COMMENT","\/\/Check that product can't be found\n",141],["T_WHITESPACE","        ",142],["T_VARIABLE","$this",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","cmsIndex",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","open",142],"(",")",["T_OBJECT_OPERATOR","->",142],["T_STRING","getSearchBlock",142],"(",")",["T_OBJECT_OPERATOR","->",142],["T_STRING","search",142],"(",["T_VARIABLE","$product",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","getSku",142],"(",")",")",";",["T_WHITESPACE","\n        ",142],["T_IF","if",143],["T_WHITESPACE"," ",143],"(",["T_VARIABLE","$this",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","catalogSearchResult",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","getListProductBlock",143],"(",")",["T_OBJECT_OPERATOR","->",143],["T_STRING","isProductVisible",143],"(",["T_VARIABLE","$product",143],")",")",["T_WHITESPACE"," ",143],"{",["T_WHITESPACE","\n            ",143],["T_VARIABLE","$errors",144],"[","]",["T_WHITESPACE"," ",144],"=",["T_WHITESPACE"," ",144],["T_CONSTANT_ENCAPSED_STRING","'- successful product search.'",144],";",["T_WHITESPACE","\n        ",144],"}",["T_WHITESPACE","\n        ",145],["T_COMMENT","\/\/Check that product is not available in category page\n",146],["T_WHITESPACE","        ",147],["T_VARIABLE","$categoryName",147],["T_WHITESPACE"," ",147],"=",["T_WHITESPACE"," ",147],["T_VARIABLE","$product",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","hasData",147],"(",["T_CONSTANT_ENCAPSED_STRING","'category_ids'",147],")",["T_WHITESPACE"," ",147],"?",["T_WHITESPACE"," ",147],["T_VARIABLE","$product",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","getCategoryIds",147],"(",")","[",["T_LNUMBER","0",147],"]",["T_WHITESPACE"," ",147],":",["T_WHITESPACE"," ",147],["T_VARIABLE","$this",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","category",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","getName",147],"(",")",";",["T_WHITESPACE","\n        ",147],["T_VARIABLE","$this",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","cmsIndex",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","open",148],"(",")",["T_OBJECT_OPERATOR","->",148],["T_STRING","getTopmenu",148],"(",")",["T_OBJECT_OPERATOR","->",148],["T_STRING","selectCategory",148],"(",["T_VARIABLE","$categoryName",148],")",";",["T_WHITESPACE","\n        ",148],["T_VARIABLE","$isProductVisible",149],["T_WHITESPACE"," ",149],"=",["T_WHITESPACE"," ",149],["T_VARIABLE","$this",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","catalogCategoryView",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","getListProductBlock",149],"(",")",["T_OBJECT_OPERATOR","->",149],["T_STRING","isProductVisible",149],"(",["T_VARIABLE","$product",149],")",";",["T_WHITESPACE","\n        ",149],["T_VARIABLE","$bottomToolBar",150],["T_WHITESPACE"," ",150],"=",["T_WHITESPACE"," ",150],["T_VARIABLE","$this",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","catalogCategoryView",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","getBottomToolbar",150],"(",")",";",["T_WHITESPACE","\n        ",150],["T_WHILE","while",151],["T_WHITESPACE"," ",151],"(","!",["T_VARIABLE","$isProductVisible",151],["T_WHITESPACE"," ",151],["T_BOOLEAN_AND","&&",151],["T_WHITESPACE"," ",151],["T_VARIABLE","$bottomToolBar",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","nextPage",151],"(",")",")",["T_WHITESPACE"," ",151],"{",["T_WHITESPACE","\n            ",151],["T_VARIABLE","$isProductVisible",152],["T_WHITESPACE"," ",152],"=",["T_WHITESPACE"," ",152],["T_VARIABLE","$this",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","catalogCategoryView",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","getListProductBlock",152],"(",")",["T_WHITESPACE","\n                ",152],["T_OBJECT_OPERATOR","->",153],["T_STRING","isProductVisible",153],"(",["T_VARIABLE","$product",153],")",";",["T_WHITESPACE","\n        ",153],"}",["T_WHITESPACE","\n        ",154],["T_IF","if",155],["T_WHITESPACE"," ",155],"(",["T_VARIABLE","$isProductVisible",155],")",["T_WHITESPACE"," ",155],"{",["T_WHITESPACE","\n            ",155],["T_VARIABLE","$errors",156],"[","]",["T_WHITESPACE"," ",156],"=",["T_WHITESPACE"," ",156],"\"",["T_ENCAPSED_AND_WHITESPACE","- product with name '",156],["T_CURLY_OPEN","{",156],["T_VARIABLE","$product",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","getName",156],"(",")","}",["T_ENCAPSED_AND_WHITESPACE","' is found in this category.",156],"\"",";",["T_WHITESPACE","\n        ",156],"}",["T_WHITESPACE","\n\n        ",157],["T_RETURN","return",159],["T_WHITESPACE"," ",159],["T_VARIABLE","$errors",159],";",["T_WHITESPACE","\n    ",159],"}",["T_WHITESPACE","\n\n    ",160],["T_DOC_COMMENT","\/**\n     * Returns a string representation of the object.\n     *\n     * @return string\n     *\/",162],["T_WHITESPACE","\n    ",166],["T_PUBLIC","public",167],["T_WHITESPACE"," ",167],["T_FUNCTION","function",167],["T_WHITESPACE"," ",167],["T_STRING","toString",167],"(",")",["T_WHITESPACE","\n    ",167],"{",["T_WHITESPACE","\n        ",168],["T_RETURN","return",169],["T_WHITESPACE"," ",169],["T_CONSTANT_ENCAPSED_STRING","'Product is not displayed on frontend.'",169],";",["T_WHITESPACE","\n    ",169],"}",["T_WHITESPACE","\n",170],"}",["T_WHITESPACE","\n",171]]