[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Magento\n *\n * NOTICE OF LICENSE\n *\n * This source file is subject to the Open Software License (OSL 3.0)\n * that is bundled with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/opensource.org\/licenses\/osl-3.0.php\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@magento.com so we can send you a copy immediately.\n *\n * DISCLAIMER\n *\n * Do not edit or add to this file if you wish to upgrade Magento to newer\n * versions in the future. If you wish to customize Magento for your\n * needs please refer to http:\/\/www.magento.com for more information.\n *\n * @category    Tests\n * @package     Tests_Functional\n * @copyright  Copyright (c) 2006-2016 X.commerce, Inc. and affiliates (http:\/\/www.magento.com)\n * @license    http:\/\/opensource.org\/licenses\/osl-3.0.php  Open Software License (OSL 3.0)\n *\/",2],["T_WHITESPACE","\n\n",25],["T_NAMESPACE","namespace",27],["T_WHITESPACE"," ",27],["T_STRING","Mage",27],["T_NS_SEPARATOR","\\",27],["T_STRING","Widget",27],["T_NS_SEPARATOR","\\",27],["T_STRING","Test",27],["T_NS_SEPARATOR","\\",27],["T_STRING","Handler",27],["T_NS_SEPARATOR","\\",27],["T_STRING","Widget",27],";",["T_WHITESPACE","\n\n",27],["T_USE","use",29],["T_WHITESPACE"," ",29],["T_STRING","Magento",29],["T_NS_SEPARATOR","\\",29],["T_STRING","Mtf",29],["T_NS_SEPARATOR","\\",29],["T_STRING","Fixture",29],["T_NS_SEPARATOR","\\",29],["T_STRING","FixtureInterface",29],";",["T_WHITESPACE","\n",29],["T_USE","use",30],["T_WHITESPACE"," ",30],["T_STRING","Magento",30],["T_NS_SEPARATOR","\\",30],["T_STRING","Mtf",30],["T_NS_SEPARATOR","\\",30],["T_STRING","Handler",30],["T_NS_SEPARATOR","\\",30],["T_STRING","Curl",30],["T_WHITESPACE"," ",30],["T_AS","as",30],["T_WHITESPACE"," ",30],["T_STRING","AbstractCurl",30],";",["T_WHITESPACE","\n",30],["T_USE","use",31],["T_WHITESPACE"," ",31],["T_STRING","Magento",31],["T_NS_SEPARATOR","\\",31],["T_STRING","Mtf",31],["T_NS_SEPARATOR","\\",31],["T_STRING","Util",31],["T_NS_SEPARATOR","\\",31],["T_STRING","Protocol",31],["T_NS_SEPARATOR","\\",31],["T_STRING","CurlInterface",31],";",["T_WHITESPACE","\n",31],["T_USE","use",32],["T_WHITESPACE"," ",32],["T_STRING","Magento",32],["T_NS_SEPARATOR","\\",32],["T_STRING","Mtf",32],["T_NS_SEPARATOR","\\",32],["T_STRING","Util",32],["T_NS_SEPARATOR","\\",32],["T_STRING","Protocol",32],["T_NS_SEPARATOR","\\",32],["T_STRING","CurlTransport",32],";",["T_WHITESPACE","\n",32],["T_USE","use",33],["T_WHITESPACE"," ",33],["T_STRING","Magento",33],["T_NS_SEPARATOR","\\",33],["T_STRING","Mtf",33],["T_NS_SEPARATOR","\\",33],["T_STRING","Util",33],["T_NS_SEPARATOR","\\",33],["T_STRING","Protocol",33],["T_NS_SEPARATOR","\\",33],["T_STRING","CurlTransport",33],["T_NS_SEPARATOR","\\",33],["T_STRING","BackendDecorator",33],";",["T_WHITESPACE","\n\n",33],["T_DOC_COMMENT","\/**\n * Curl handler for creating widgetInstance\/frontendApp.\n *\/",35],["T_WHITESPACE","\n",37],["T_CLASS","class",38],["T_WHITESPACE"," ",38],["T_STRING","Curl",38],["T_WHITESPACE"," ",38],["T_EXTENDS","extends",38],["T_WHITESPACE"," ",38],["T_STRING","AbstractCurl",38],["T_WHITESPACE","\n",38],"{",["T_WHITESPACE","\n    ",39],["T_DOC_COMMENT","\/**\n     * Mapping values for data.\n     *\n     * @var array\n     *\/",40],["T_WHITESPACE","\n    ",44],["T_PROTECTED","protected",45],["T_WHITESPACE"," ",45],["T_VARIABLE","$mappingData",45],["T_WHITESPACE"," ",45],"=",["T_WHITESPACE"," ",45],"[",["T_WHITESPACE","\n        ",45],["T_CONSTANT_ENCAPSED_STRING","'package_theme'",46],["T_WHITESPACE"," ",46],["T_DOUBLE_ARROW","=>",46],["T_WHITESPACE"," ",46],"[",["T_WHITESPACE","\n            ",46],["T_CONSTANT_ENCAPSED_STRING","'Magento Blank'",47],["T_WHITESPACE"," ",47],["T_DOUBLE_ARROW","=>",47],["T_WHITESPACE"," ",47],["T_LNUMBER","2",47],",",["T_WHITESPACE","\n        ",47],"]",",",["T_WHITESPACE","\n        ",48],["T_CONSTANT_ENCAPSED_STRING","'type'",49],["T_WHITESPACE"," ",49],["T_DOUBLE_ARROW","=>",49],["T_WHITESPACE"," ",49],"[",["T_WHITESPACE","\n            ",49],["T_CONSTANT_ENCAPSED_STRING","'CMS Page Link'",50],["T_WHITESPACE"," ",50],["T_DOUBLE_ARROW","=>",50],["T_WHITESPACE"," ",50],["T_CONSTANT_ENCAPSED_STRING","'cms_page_link'",50],",",["T_WHITESPACE","\n        ",50],"]",",",["T_WHITESPACE","\n        ",51],["T_CONSTANT_ENCAPSED_STRING","'block'",52],["T_WHITESPACE"," ",52],["T_DOUBLE_ARROW","=>",52],["T_WHITESPACE"," ",52],"[",["T_WHITESPACE","\n            ",52],["T_CONSTANT_ENCAPSED_STRING","'Main Content Area'",53],["T_WHITESPACE"," ",53],["T_DOUBLE_ARROW","=>",53],["T_WHITESPACE"," ",53],["T_CONSTANT_ENCAPSED_STRING","'content'",53],",",["T_WHITESPACE","\n            ",53],["T_CONSTANT_ENCAPSED_STRING","'Sidebar Additional'",54],["T_WHITESPACE"," ",54],["T_DOUBLE_ARROW","=>",54],["T_WHITESPACE"," ",54],["T_CONSTANT_ENCAPSED_STRING","'sidebar.additional'",54],",",["T_WHITESPACE","\n            ",54],["T_CONSTANT_ENCAPSED_STRING","'Sidebar Main'",55],["T_WHITESPACE"," ",55],["T_DOUBLE_ARROW","=>",55],["T_WHITESPACE"," ",55],["T_CONSTANT_ENCAPSED_STRING","'sidebar.main'",55],",",["T_WHITESPACE","\n        ",55],"]",",",["T_WHITESPACE","\n        ",56],["T_CONSTANT_ENCAPSED_STRING","'page_group'",57],["T_WHITESPACE"," ",57],["T_DOUBLE_ARROW","=>",57],["T_WHITESPACE"," ",57],"[",["T_WHITESPACE","\n            ",57],["T_CONSTANT_ENCAPSED_STRING","'All Pages'",58],["T_WHITESPACE"," ",58],["T_DOUBLE_ARROW","=>",58],["T_WHITESPACE"," ",58],["T_CONSTANT_ENCAPSED_STRING","'all_pages'",58],",",["T_WHITESPACE","\n            ",58],["T_CONSTANT_ENCAPSED_STRING","'Specified Page'",59],["T_WHITESPACE"," ",59],["T_DOUBLE_ARROW","=>",59],["T_WHITESPACE"," ",59],["T_CONSTANT_ENCAPSED_STRING","'pages'",59],",",["T_WHITESPACE","\n            ",59],["T_CONSTANT_ENCAPSED_STRING","'Page Layouts'",60],["T_WHITESPACE"," ",60],["T_DOUBLE_ARROW","=>",60],["T_WHITESPACE"," ",60],["T_CONSTANT_ENCAPSED_STRING","'page_layouts'",60],",",["T_WHITESPACE","\n            ",60],["T_CONSTANT_ENCAPSED_STRING","'Non-Anchor Categories'",61],["T_WHITESPACE"," ",61],["T_DOUBLE_ARROW","=>",61],["T_WHITESPACE"," ",61],["T_CONSTANT_ENCAPSED_STRING","'notanchor_categories'",61],",",["T_WHITESPACE","\n        ",61],"]",",",["T_WHITESPACE","\n        ",62],["T_CONSTANT_ENCAPSED_STRING","'template'",63],["T_WHITESPACE"," ",63],["T_DOUBLE_ARROW","=>",63],["T_WHITESPACE"," ",63],"[",["T_WHITESPACE","\n            ",63],["T_CONSTANT_ENCAPSED_STRING","'CMS Page Link Block Template'",64],["T_WHITESPACE"," ",64],["T_DOUBLE_ARROW","=>",64],["T_WHITESPACE"," ",64],["T_CONSTANT_ENCAPSED_STRING","'widget\/link\/link_block.phtml'",64],",",["T_WHITESPACE","\n        ",64],"]",",",["T_WHITESPACE","\n        ",65],["T_CONSTANT_ENCAPSED_STRING","'layout_handle'",66],["T_WHITESPACE"," ",66],["T_DOUBLE_ARROW","=>",66],["T_WHITESPACE"," ",66],"[",["T_WHITESPACE","\n            ",66],["T_CONSTANT_ENCAPSED_STRING","'Shopping Cart'",67],["T_WHITESPACE"," ",67],["T_DOUBLE_ARROW","=>",67],["T_WHITESPACE"," ",67],["T_CONSTANT_ENCAPSED_STRING","'checkout_cart_index'",67],",",["T_WHITESPACE","\n        ",67],"]",",",["T_WHITESPACE","\n    ",68],"]",";",["T_WHITESPACE","\n\n    ",69],["T_DOC_COMMENT","\/**\n     * Widget Instance Template.\n     *\n     * @var string\n     *\/",71],["T_WHITESPACE","\n    ",75],["T_PROTECTED","protected",76],["T_WHITESPACE"," ",76],["T_VARIABLE","$widgetInstanceTemplate",76],["T_WHITESPACE"," ",76],"=",["T_WHITESPACE"," ",76],["T_CONSTANT_ENCAPSED_STRING","''",76],";",["T_WHITESPACE","\n\n    ",76],["T_DOC_COMMENT","\/**\n     * Post request for creating widget instance.\n     *\n     * @param FixtureInterface $fixture [optional]\n     * @throws \\Exception\n     * @return array\n     *\/",78],["T_WHITESPACE","\n    ",84],["T_PUBLIC","public",85],["T_WHITESPACE"," ",85],["T_FUNCTION","function",85],["T_WHITESPACE"," ",85],["T_STRING","persist",85],"(",["T_STRING","FixtureInterface",85],["T_WHITESPACE"," ",85],["T_VARIABLE","$fixture",85],["T_WHITESPACE"," ",85],"=",["T_WHITESPACE"," ",85],["T_STRING","null",85],")",["T_WHITESPACE","\n    ",85],"{",["T_WHITESPACE","\n        ",86],["T_VARIABLE","$data",87],["T_WHITESPACE"," ",87],"=",["T_WHITESPACE"," ",87],["T_VARIABLE","$this",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","prepareData",87],"(",["T_VARIABLE","$fixture",87],")",";",["T_WHITESPACE","\n        ",87],["T_VARIABLE","$url",88],["T_WHITESPACE"," ",88],"=",["T_WHITESPACE"," ",88],["T_VARIABLE","$_ENV",88],"[",["T_CONSTANT_ENCAPSED_STRING","'app_backend_url'",88],"]",["T_WHITESPACE"," ",88],".",["T_WHITESPACE"," ",88],["T_CONSTANT_ENCAPSED_STRING","'widget_instance\/save\/type\/'",88],["T_WHITESPACE","\n            ",88],".",["T_WHITESPACE"," ",89],["T_VARIABLE","$data",89],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",89],"]",["T_WHITESPACE"," ",89],".",["T_WHITESPACE"," ",89],["T_CONSTANT_ENCAPSED_STRING","'\/package\/'",89],["T_WHITESPACE"," ",89],".",["T_WHITESPACE"," ",89],["T_VARIABLE","$this",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","prepareTheme",89],"(",["T_VARIABLE","$data",89],"[",["T_CONSTANT_ENCAPSED_STRING","'package_theme'",89],"]",")",";",["T_WHITESPACE","\n\n        ",89],["T_IF","if",91],["T_WHITESPACE"," ",91],"(",["T_ISSET","isset",91],"(",["T_VARIABLE","$data",91],"[",["T_CONSTANT_ENCAPSED_STRING","'page_id'",91],"]",")",")",["T_WHITESPACE"," ",91],"{",["T_WHITESPACE","\n            ",91],["T_VARIABLE","$data",92],"[",["T_CONSTANT_ENCAPSED_STRING","'parameters'",92],"]","[",["T_CONSTANT_ENCAPSED_STRING","'page_id'",92],"]",["T_WHITESPACE"," ",92],"=",["T_WHITESPACE"," ",92],["T_VARIABLE","$data",92],"[",["T_CONSTANT_ENCAPSED_STRING","'page_id'",92],"]","[",["T_LNUMBER","0",92],"]",";",["T_WHITESPACE","\n            ",92],["T_UNSET","unset",93],"(",["T_VARIABLE","$data",93],"[",["T_CONSTANT_ENCAPSED_STRING","'page_id'",93],"]",")",";",["T_WHITESPACE","\n        ",93],"}",["T_WHITESPACE","\n        ",94],["T_IF","if",95],["T_WHITESPACE"," ",95],"(",["T_VARIABLE","$fixture",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","hasData",95],"(",["T_CONSTANT_ENCAPSED_STRING","'store_ids'",95],")",")",["T_WHITESPACE"," ",95],"{",["T_WHITESPACE","\n            ",95],["T_VARIABLE","$stores",96],["T_WHITESPACE"," ",96],"=",["T_WHITESPACE"," ",96],["T_VARIABLE","$fixture",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","getDataFieldConfig",96],"(",["T_CONSTANT_ENCAPSED_STRING","'store_ids'",96],")","[",["T_CONSTANT_ENCAPSED_STRING","'source'",96],"]",["T_OBJECT_OPERATOR","->",96],["T_STRING","getStores",96],"(",")",";",["T_WHITESPACE","\n            ",96],["T_FOREACH","foreach",97],["T_WHITESPACE"," ",97],"(",["T_VARIABLE","$stores",97],["T_WHITESPACE"," ",97],["T_AS","as",97],["T_WHITESPACE"," ",97],["T_VARIABLE","$store",97],")",["T_WHITESPACE"," ",97],"{",["T_WHITESPACE","\n                ",97],["T_VARIABLE","$data",98],"[",["T_CONSTANT_ENCAPSED_STRING","'store_ids'",98],"]","[","]",["T_WHITESPACE"," ",98],"=",["T_WHITESPACE"," ",98],["T_VARIABLE","$store",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","getStoreId",98],"(",")",";",["T_WHITESPACE","\n            ",98],"}",["T_WHITESPACE","\n        ",99],"}",["T_WHITESPACE","\n        ",100],["T_VARIABLE","$data",101],"[",["T_CONSTANT_ENCAPSED_STRING","'parameters'",101],"]","[",["T_CONSTANT_ENCAPSED_STRING","'unique_id'",101],"]",["T_WHITESPACE"," ",101],"=",["T_WHITESPACE"," ",101],["T_ISSET","isset",101],"(",["T_VARIABLE","$data",101],"[",["T_CONSTANT_ENCAPSED_STRING","'parameters'",101],"]","[",["T_CONSTANT_ENCAPSED_STRING","'unique_id'",101],"]",")",["T_WHITESPACE"," ",101],"?",["T_WHITESPACE"," ",101],["T_STRING","uniqid",101],"(",")",["T_WHITESPACE"," ",101],":",["T_WHITESPACE"," ",101],["T_CONSTANT_ENCAPSED_STRING","''",101],";",["T_WHITESPACE","\n        ",101],["T_UNSET","unset",102],"(",["T_VARIABLE","$data",102],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",102],"]",")",";",["T_WHITESPACE","\n        ",102],["T_UNSET","unset",103],"(",["T_VARIABLE","$data",103],"[",["T_CONSTANT_ENCAPSED_STRING","'package_theme'",103],"]",")",";",["T_WHITESPACE","\n        ",103],["T_VARIABLE","$curl",104],["T_WHITESPACE"," ",104],"=",["T_WHITESPACE"," ",104],["T_NEW","new",104],["T_WHITESPACE"," ",104],["T_STRING","BackendDecorator",104],"(",["T_NEW","new",104],["T_WHITESPACE"," ",104],["T_STRING","CurlTransport",104],"(",")",",",["T_WHITESPACE"," ",104],["T_VARIABLE","$this",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","_configuration",104],")",";",["T_WHITESPACE","\n        ",104],["T_VARIABLE","$curl",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","write",105],"(",["T_VARIABLE","$url",105],",",["T_WHITESPACE"," ",105],["T_VARIABLE","$data",105],")",";",["T_WHITESPACE","\n        ",105],["T_VARIABLE","$response",106],["T_WHITESPACE"," ",106],"=",["T_WHITESPACE"," ",106],["T_VARIABLE","$curl",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","read",106],"(",")",";",["T_WHITESPACE","\n        ",106],["T_VARIABLE","$curl",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","close",107],"(",")",";",["T_WHITESPACE","\n\n        ",107],["T_IF","if",109],["T_WHITESPACE"," ",109],"(","!",["T_STRING","strpos",109],"(",["T_VARIABLE","$response",109],",",["T_WHITESPACE"," ",109],["T_CONSTANT_ENCAPSED_STRING","'class=\"success-msg\"'",109],")",")",["T_WHITESPACE"," ",109],"{",["T_WHITESPACE","\n            ",109],["T_THROW","throw",110],["T_WHITESPACE"," ",110],["T_NEW","new",110],["T_WHITESPACE"," ",110],["T_NS_SEPARATOR","\\",110],["T_STRING","Exception",110],"(","\"",["T_ENCAPSED_AND_WHITESPACE","Widget instance creation by curl handler was not successful! Response: ",110],["T_VARIABLE","$response",110],"\"",")",";",["T_WHITESPACE","\n        ",110],"}",["T_WHITESPACE","\n        ",111],["T_VARIABLE","$id",112],["T_WHITESPACE"," ",112],"=",["T_WHITESPACE"," ",112],["T_VARIABLE","$this",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","getWidgetId",112],"(",["T_VARIABLE","$response",112],")",";",["T_WHITESPACE","\n\n        ",112],["T_RETURN","return",114],["T_WHITESPACE"," ",114],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",114],["T_WHITESPACE"," ",114],["T_DOUBLE_ARROW","=>",114],["T_WHITESPACE"," ",114],["T_VARIABLE","$id",114],"]",";",["T_WHITESPACE","\n    ",114],"}",["T_WHITESPACE","\n\n    ",115],["T_DOC_COMMENT","\/**\n     * Return saved widget id.\n     *\n     * @param string $response\n     * @return int|null\n     * @throws \\Exception\n     *\/",117],["T_WHITESPACE","\n    ",123],["T_PROTECTED","protected",124],["T_WHITESPACE"," ",124],["T_FUNCTION","function",124],["T_WHITESPACE"," ",124],["T_STRING","getWidgetId",124],"(",["T_VARIABLE","$response",124],")",["T_WHITESPACE","\n    ",124],"{",["T_WHITESPACE","\n        ",125],["T_STRING","preg_match_all",126],"(",["T_CONSTANT_ENCAPSED_STRING","'~tr title=[^\\s]*\\\/instance_id\\\/(\\d+)~'",126],",",["T_WHITESPACE"," ",126],["T_VARIABLE","$response",126],",",["T_WHITESPACE"," ",126],["T_VARIABLE","$matches",126],")",";",["T_WHITESPACE","\n        ",126],["T_IF","if",127],["T_WHITESPACE"," ",127],"(",["T_EMPTY","empty",127],"(",["T_VARIABLE","$matches",127],"[",["T_LNUMBER","1",127],"]",")",")",["T_WHITESPACE"," ",127],"{",["T_WHITESPACE","\n            ",127],["T_THROW","throw",128],["T_WHITESPACE"," ",128],["T_NEW","new",128],["T_WHITESPACE"," ",128],["T_NS_SEPARATOR","\\",128],["T_STRING","Exception",128],"(",["T_CONSTANT_ENCAPSED_STRING","'Cannot find Widget id'",128],")",";",["T_WHITESPACE","\n        ",128],"}",["T_WHITESPACE","\n\n        ",129],["T_RETURN","return",131],["T_WHITESPACE"," ",131],["T_STRING","max",131],"(",["T_VARIABLE","$matches",131],"[",["T_LNUMBER","1",131],"]",")",";",["T_WHITESPACE","\n    ",131],"}",["T_WHITESPACE","\n\n    ",132],["T_DOC_COMMENT","\/**\n     * Prepare theme.\n     *\n     * @param string $theme\n     * @return string\n     *\/",134],["T_WHITESPACE","\n    ",139],["T_PROTECTED","protected",140],["T_WHITESPACE"," ",140],["T_FUNCTION","function",140],["T_WHITESPACE"," ",140],["T_STRING","prepareTheme",140],"(",["T_VARIABLE","$theme",140],")",["T_WHITESPACE","\n    ",140],"{",["T_WHITESPACE","\n        ",141],["T_VARIABLE","$data",142],["T_WHITESPACE"," ",142],"=",["T_WHITESPACE"," ",142],["T_STRING","explode",142],"(",["T_CONSTANT_ENCAPSED_STRING","'\/'",142],",",["T_WHITESPACE"," ",142],["T_VARIABLE","$theme",142],")",";",["T_WHITESPACE","\n\n        ",142],["T_RETURN","return",144],["T_WHITESPACE"," ",144],["T_VARIABLE","$data",144],"[",["T_LNUMBER","0",144],"]",["T_WHITESPACE"," ",144],".",["T_WHITESPACE"," ",144],["T_CONSTANT_ENCAPSED_STRING","'\/theme\/'",144],["T_WHITESPACE"," ",144],".",["T_WHITESPACE"," ",144],["T_VARIABLE","$data",144],"[",["T_LNUMBER","1",144],"]",";",["T_WHITESPACE","\n    ",144],"}",["T_WHITESPACE","\n\n    ",145],["T_DOC_COMMENT","\/**\n     * Prepare data for create widget.\n     *\n     * @param FixtureInterface $widget\n     * @return array\n     *\/",147],["T_WHITESPACE","\n    ",152],["T_PROTECTED","protected",153],["T_WHITESPACE"," ",153],["T_FUNCTION","function",153],["T_WHITESPACE"," ",153],["T_STRING","prepareData",153],"(",["T_STRING","FixtureInterface",153],["T_WHITESPACE"," ",153],["T_VARIABLE","$widget",153],")",["T_WHITESPACE","\n    ",153],"{",["T_WHITESPACE","\n        ",154],["T_VARIABLE","$data",155],["T_WHITESPACE"," ",155],"=",["T_WHITESPACE"," ",155],["T_VARIABLE","$this",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","replaceMappingData",155],"(",["T_VARIABLE","$widget",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","getData",155],"(",")",")",";",["T_WHITESPACE","\n\n        ",155],["T_RETURN","return",157],["T_WHITESPACE"," ",157],["T_VARIABLE","$this",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","prepareWidgetInstance",157],"(",["T_VARIABLE","$data",157],")",";",["T_WHITESPACE","\n    ",157],"}",["T_WHITESPACE","\n\n    ",158],["T_DOC_COMMENT","\/**\n     * Prepare Widget Instance data.\n     *\n     * @param array $data\n     * @throws \\Exception\n     * @return array\n     *\/",160],["T_WHITESPACE","\n    ",166],["T_PROTECTED","protected",167],["T_WHITESPACE"," ",167],["T_FUNCTION","function",167],["T_WHITESPACE"," ",167],["T_STRING","prepareWidgetInstance",167],"(",["T_VARIABLE","$data",167],")",["T_WHITESPACE","\n    ",167],"{",["T_WHITESPACE","\n        ",168],["T_FOREACH","foreach",169],["T_WHITESPACE"," ",169],"(",["T_VARIABLE","$data",169],"[",["T_CONSTANT_ENCAPSED_STRING","'widget_instance'",169],"]",["T_WHITESPACE"," ",169],["T_AS","as",169],["T_WHITESPACE"," ",169],["T_VARIABLE","$key",169],["T_WHITESPACE"," ",169],["T_DOUBLE_ARROW","=>",169],["T_WHITESPACE"," ",169],["T_VARIABLE","$widgetInstance",169],")",["T_WHITESPACE"," ",169],"{",["T_WHITESPACE","\n            ",169],["T_VARIABLE","$pageGroup",170],["T_WHITESPACE"," ",170],"=",["T_WHITESPACE"," ",170],["T_VARIABLE","$widgetInstance",170],"[",["T_CONSTANT_ENCAPSED_STRING","'page_group'",170],"]",";",["T_WHITESPACE","\n\n            ",170],["T_IF","if",172],["T_WHITESPACE"," ",172],"(","!",["T_ISSET","isset",172],"(",["T_VARIABLE","$widgetInstance",172],"[",["T_VARIABLE","$pageGroup",172],"]","[",["T_CONSTANT_ENCAPSED_STRING","'page_id'",172],"]",")",")",["T_WHITESPACE"," ",172],"{",["T_WHITESPACE","\n                ",172],["T_VARIABLE","$widgetInstance",173],"[",["T_VARIABLE","$pageGroup",173],"]","[",["T_CONSTANT_ENCAPSED_STRING","'page_id'",173],"]",["T_WHITESPACE"," ",173],"=",["T_WHITESPACE"," ",173],["T_LNUMBER","0",173],";",["T_WHITESPACE","\n            ",173],"}",["T_WHITESPACE","\n            ",174],["T_VARIABLE","$method",175],["T_WHITESPACE"," ",175],"=",["T_WHITESPACE"," ",175],["T_CONSTANT_ENCAPSED_STRING","'prepare'",175],["T_WHITESPACE"," ",175],".",["T_WHITESPACE"," ",175],["T_STRING","str_replace",175],"(",["T_CONSTANT_ENCAPSED_STRING","' '",175],",",["T_WHITESPACE"," ",175],["T_CONSTANT_ENCAPSED_STRING","''",175],",",["T_WHITESPACE"," ",175],["T_STRING","ucwords",175],"(",["T_STRING","str_replace",175],"(",["T_CONSTANT_ENCAPSED_STRING","'_'",175],",",["T_WHITESPACE"," ",175],["T_CONSTANT_ENCAPSED_STRING","' '",175],",",["T_WHITESPACE"," ",175],["T_VARIABLE","$pageGroup",175],")",")",")",["T_WHITESPACE"," ",175],".",["T_WHITESPACE"," ",175],["T_CONSTANT_ENCAPSED_STRING","'Group'",175],";",["T_WHITESPACE","\n            ",175],["T_IF","if",176],["T_WHITESPACE"," ",176],"(","!",["T_STRING","method_exists",176],"(",["T_CLASS_C","__CLASS__",176],",",["T_WHITESPACE"," ",176],["T_VARIABLE","$method",176],")",")",["T_WHITESPACE"," ",176],"{",["T_WHITESPACE","\n                ",176],["T_THROW","throw",177],["T_WHITESPACE"," ",177],["T_NEW","new",177],["T_WHITESPACE"," ",177],["T_NS_SEPARATOR","\\",177],["T_STRING","Exception",177],"(",["T_CONSTANT_ENCAPSED_STRING","'Method for prepare page group \"'",177],["T_WHITESPACE"," ",177],".",["T_WHITESPACE"," ",177],["T_VARIABLE","$method",177],["T_WHITESPACE"," ",177],".",["T_WHITESPACE"," ",177],["T_CONSTANT_ENCAPSED_STRING","'\" is not exist.'",177],")",";",["T_WHITESPACE","\n            ",177],"}",["T_WHITESPACE","\n            ",178],["T_VARIABLE","$widgetInstance",179],"[",["T_VARIABLE","$pageGroup",179],"]",["T_WHITESPACE"," ",179],"=",["T_WHITESPACE"," ",179],["T_VARIABLE","$this",179],["T_OBJECT_OPERATOR","->",179],["T_VARIABLE","$method",179],"(",["T_VARIABLE","$widgetInstance",179],"[",["T_VARIABLE","$pageGroup",179],"]",")",";",["T_WHITESPACE","\n            ",179],["T_VARIABLE","$data",180],"[",["T_CONSTANT_ENCAPSED_STRING","'widget_instance'",180],"]","[",["T_VARIABLE","$key",180],"]",["T_WHITESPACE"," ",180],"=",["T_WHITESPACE"," ",180],["T_VARIABLE","$widgetInstance",180],";",["T_WHITESPACE","\n        ",180],"}",["T_WHITESPACE","\n\n        ",181],["T_RETURN","return",183],["T_WHITESPACE"," ",183],["T_VARIABLE","$data",183],";",["T_WHITESPACE","\n    ",183],"}",["T_WHITESPACE","\n\n    ",184],["T_DOC_COMMENT","\/**\n     * Prepare All Page Group.\n     *\n     * @param array $widgetInstancePageGroup\n     * @return array\n     *\/",186],["T_WHITESPACE","\n    ",191],["T_PROTECTED","protected",192],["T_WHITESPACE"," ",192],["T_FUNCTION","function",192],["T_WHITESPACE"," ",192],["T_STRING","prepareAllPagesGroup",192],"(",["T_ARRAY","array",192],["T_WHITESPACE"," ",192],["T_VARIABLE","$widgetInstancePageGroup",192],")",["T_WHITESPACE","\n    ",192],"{",["T_WHITESPACE","\n        ",193],["T_VARIABLE","$widgetInstancePageGroup",194],"[",["T_CONSTANT_ENCAPSED_STRING","'layout_handle'",194],"]",["T_WHITESPACE"," ",194],"=",["T_WHITESPACE"," ",194],["T_CONSTANT_ENCAPSED_STRING","'default'",194],";",["T_WHITESPACE","\n        ",194],["T_VARIABLE","$widgetInstancePageGroup",195],"[",["T_CONSTANT_ENCAPSED_STRING","'for'",195],"]",["T_WHITESPACE"," ",195],"=",["T_WHITESPACE"," ",195],["T_CONSTANT_ENCAPSED_STRING","'all'",195],";",["T_WHITESPACE","\n        ",195],["T_IF","if",196],["T_WHITESPACE"," ",196],"(","!",["T_ISSET","isset",196],"(",["T_VARIABLE","$widgetInstancePageGroup",196],"[",["T_CONSTANT_ENCAPSED_STRING","'template'",196],"]",")",")",["T_WHITESPACE"," ",196],"{",["T_WHITESPACE","\n            ",196],["T_VARIABLE","$widgetInstancePageGroup",197],"[",["T_CONSTANT_ENCAPSED_STRING","'template'",197],"]",["T_WHITESPACE"," ",197],"=",["T_WHITESPACE"," ",197],["T_VARIABLE","$this",197],["T_OBJECT_OPERATOR","->",197],["T_STRING","widgetInstanceTemplate",197],";",["T_WHITESPACE","\n        ",197],"}",["T_WHITESPACE","\n\n        ",198],["T_RETURN","return",200],["T_WHITESPACE"," ",200],["T_VARIABLE","$widgetInstancePageGroup",200],";",["T_WHITESPACE","\n    ",200],"}",["T_WHITESPACE","\n\n    ",201],["T_DOC_COMMENT","\/**\n     * Prepare Non-Anchor Categories Page Group.\n     *\n     * @param array $widgetInstancePageGroup\n     * @return array\n     *\/",203],["T_WHITESPACE","\n    ",208],["T_PROTECTED","protected",209],["T_WHITESPACE"," ",209],["T_FUNCTION","function",209],["T_WHITESPACE"," ",209],["T_STRING","prepareNotanchorCategoriesGroup",209],"(",["T_ARRAY","array",209],["T_WHITESPACE"," ",209],["T_VARIABLE","$widgetInstancePageGroup",209],")",["T_WHITESPACE","\n    ",209],"{",["T_WHITESPACE","\n        ",210],["T_VARIABLE","$widgetInstancePageGroup",211],"[",["T_CONSTANT_ENCAPSED_STRING","'is_anchor_only'",211],"]",["T_WHITESPACE"," ",211],"=",["T_WHITESPACE"," ",211],["T_LNUMBER","0",211],";",["T_WHITESPACE","\n        ",211],["T_VARIABLE","$widgetInstancePageGroup",212],"[",["T_CONSTANT_ENCAPSED_STRING","'for'",212],"]",["T_WHITESPACE"," ",212],"=",["T_WHITESPACE"," ",212],["T_CONSTANT_ENCAPSED_STRING","'all'",212],";",["T_WHITESPACE","\n        ",212],["T_VARIABLE","$widgetInstancePageGroup",213],"[",["T_CONSTANT_ENCAPSED_STRING","'layout_handle'",213],"]",["T_WHITESPACE"," ",213],"=",["T_WHITESPACE"," ",213],["T_CONSTANT_ENCAPSED_STRING","'catalog_category_view_type_default'",213],";",["T_WHITESPACE","\n\n        ",213],["T_RETURN","return",215],["T_WHITESPACE"," ",215],["T_VARIABLE","$widgetInstancePageGroup",215],";",["T_WHITESPACE","\n    ",215],"}",["T_WHITESPACE","\n\n    ",216],["T_DOC_COMMENT","\/**\n     * Prepare Specified Page Group.\n     *\n     * @param array $widgetInstancePageGroup\n     * @return array\n     *\/",218],["T_WHITESPACE","\n    ",223],["T_PROTECTED","protected",224],["T_WHITESPACE"," ",224],["T_FUNCTION","function",224],["T_WHITESPACE"," ",224],["T_STRING","preparePagesGroup",224],"(",["T_ARRAY","array",224],["T_WHITESPACE"," ",224],["T_VARIABLE","$widgetInstancePageGroup",224],")",["T_WHITESPACE","\n    ",224],"{",["T_WHITESPACE","\n        ",225],["T_VARIABLE","$widgetInstancePageGroup",226],"[",["T_CONSTANT_ENCAPSED_STRING","'for'",226],"]",["T_WHITESPACE"," ",226],"=",["T_WHITESPACE"," ",226],["T_CONSTANT_ENCAPSED_STRING","'all'",226],";",["T_WHITESPACE","\n\n        ",226],["T_RETURN","return",228],["T_WHITESPACE"," ",228],["T_VARIABLE","$widgetInstancePageGroup",228],";",["T_WHITESPACE","\n    ",228],"}",["T_WHITESPACE","\n",229],"}",["T_WHITESPACE","\n",230]]