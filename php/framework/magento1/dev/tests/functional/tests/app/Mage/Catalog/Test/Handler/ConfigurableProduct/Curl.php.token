[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Magento\n *\n * NOTICE OF LICENSE\n *\n * This source file is subject to the Open Software License (OSL 3.0)\n * that is bundled with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/opensource.org\/licenses\/osl-3.0.php\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@magento.com so we can send you a copy immediately.\n *\n * DISCLAIMER\n *\n * Do not edit or add to this file if you wish to upgrade Magento to newer\n * versions in the future. If you wish to customize Magento for your\n * needs please refer to http:\/\/www.magento.com for more information.\n *\n * @category    Tests\n * @package     Tests_Functional\n * @copyright  Copyright (c) 2006-2016 X.commerce, Inc. and affiliates (http:\/\/www.magento.com)\n * @license    http:\/\/opensource.org\/licenses\/osl-3.0.php  Open Software License (OSL 3.0)\n *\/",2],["T_WHITESPACE","\n\n",25],["T_NAMESPACE","namespace",27],["T_WHITESPACE"," ",27],["T_STRING","Mage",27],["T_NS_SEPARATOR","\\",27],["T_STRING","Catalog",27],["T_NS_SEPARATOR","\\",27],["T_STRING","Test",27],["T_NS_SEPARATOR","\\",27],["T_STRING","Handler",27],["T_NS_SEPARATOR","\\",27],["T_STRING","ConfigurableProduct",27],";",["T_WHITESPACE","\n\n",27],["T_USE","use",29],["T_WHITESPACE"," ",29],["T_STRING","Mage",29],["T_NS_SEPARATOR","\\",29],["T_STRING","Catalog",29],["T_NS_SEPARATOR","\\",29],["T_STRING","Test",29],["T_NS_SEPARATOR","\\",29],["T_STRING","Handler",29],["T_NS_SEPARATOR","\\",29],["T_STRING","CatalogProductSimple",29],["T_NS_SEPARATOR","\\",29],["T_STRING","Curl",29],["T_WHITESPACE"," ",29],["T_AS","as",29],["T_WHITESPACE"," ",29],["T_STRING","ProductCurl",29],";",["T_WHITESPACE","\n",29],["T_USE","use",30],["T_WHITESPACE"," ",30],["T_STRING","Magento",30],["T_NS_SEPARATOR","\\",30],["T_STRING","Mtf",30],["T_NS_SEPARATOR","\\",30],["T_STRING","Fixture",30],["T_NS_SEPARATOR","\\",30],["T_STRING","FixtureInterface",30],";",["T_WHITESPACE","\n",30],["T_USE","use",31],["T_WHITESPACE"," ",31],["T_STRING","Magento",31],["T_NS_SEPARATOR","\\",31],["T_STRING","Mtf",31],["T_NS_SEPARATOR","\\",31],["T_STRING","Config",31],["T_NS_SEPARATOR","\\",31],["T_STRING","DataInterface",31],";",["T_WHITESPACE","\n",31],["T_USE","use",32],["T_WHITESPACE"," ",32],["T_STRING","Magento",32],["T_NS_SEPARATOR","\\",32],["T_STRING","Mtf",32],["T_NS_SEPARATOR","\\",32],["T_STRING","System",32],["T_NS_SEPARATOR","\\",32],["T_STRING","Event",32],["T_NS_SEPARATOR","\\",32],["T_STRING","EventManagerInterface",32],";",["T_WHITESPACE","\n",32],["T_USE","use",33],["T_WHITESPACE"," ",33],["T_STRING","Magento",33],["T_NS_SEPARATOR","\\",33],["T_STRING","Mtf",33],["T_NS_SEPARATOR","\\",33],["T_STRING","Fixture",33],["T_NS_SEPARATOR","\\",33],["T_STRING","FixtureFactory",33],";",["T_WHITESPACE","\n",33],["T_USE","use",34],["T_WHITESPACE"," ",34],["T_STRING","Mage",34],["T_NS_SEPARATOR","\\",34],["T_STRING","Catalog",34],["T_NS_SEPARATOR","\\",34],["T_STRING","Test",34],["T_NS_SEPARATOR","\\",34],["T_STRING","Fixture",34],["T_NS_SEPARATOR","\\",34],["T_STRING","ConfigurableProduct",34],";",["T_WHITESPACE","\n",34],["T_USE","use",35],["T_WHITESPACE"," ",35],["T_STRING","Magento",35],["T_NS_SEPARATOR","\\",35],["T_STRING","Mtf",35],["T_NS_SEPARATOR","\\",35],["T_STRING","Util",35],["T_NS_SEPARATOR","\\",35],["T_STRING","Protocol",35],["T_NS_SEPARATOR","\\",35],["T_STRING","CurlTransport",35],["T_NS_SEPARATOR","\\",35],["T_STRING","BackendDecorator",35],";",["T_WHITESPACE","\n",35],["T_USE","use",36],["T_WHITESPACE"," ",36],["T_STRING","Magento",36],["T_NS_SEPARATOR","\\",36],["T_STRING","Mtf",36],["T_NS_SEPARATOR","\\",36],["T_STRING","Util",36],["T_NS_SEPARATOR","\\",36],["T_STRING","Protocol",36],["T_NS_SEPARATOR","\\",36],["T_STRING","CurlInterface",36],";",["T_WHITESPACE","\n",36],["T_USE","use",37],["T_WHITESPACE"," ",37],["T_STRING","Magento",37],["T_NS_SEPARATOR","\\",37],["T_STRING","Mtf",37],["T_NS_SEPARATOR","\\",37],["T_STRING","Util",37],["T_NS_SEPARATOR","\\",37],["T_STRING","Protocol",37],["T_NS_SEPARATOR","\\",37],["T_STRING","CurlTransport",37],";",["T_WHITESPACE","\n",37],["T_USE","use",38],["T_WHITESPACE"," ",38],["T_STRING","Magento",38],["T_NS_SEPARATOR","\\",38],["T_STRING","Mtf",38],["T_NS_SEPARATOR","\\",38],["T_STRING","Fixture",38],["T_NS_SEPARATOR","\\",38],["T_STRING","InjectableFixture",38],";",["T_WHITESPACE","\n\n",38],["T_DOC_COMMENT","\/**\n * Create new configurable product via curl.\n *\/",40],["T_WHITESPACE","\n",42],["T_CLASS","class",43],["T_WHITESPACE"," ",43],["T_STRING","Curl",43],["T_WHITESPACE"," ",43],["T_EXTENDS","extends",43],["T_WHITESPACE"," ",43],["T_STRING","ProductCurl",43],["T_WHITESPACE"," ",43],["T_IMPLEMENTS","implements",43],["T_WHITESPACE"," ",43],["T_STRING","ConfigurableProductInterface",43],["T_WHITESPACE","\n",43],"{",["T_WHITESPACE","\n    ",44],["T_DOC_COMMENT","\/**\n     * Fixture factory.\n     *\n     * @var FixtureFactory\n     *\/",45],["T_WHITESPACE","\n    ",49],["T_PROTECTED","protected",50],["T_WHITESPACE"," ",50],["T_VARIABLE","$fixtureFactory",50],";",["T_WHITESPACE","\n\n    ",50],["T_DOC_COMMENT","\/**\n     * @constructor\n     * @param DataInterface $configuration\n     * @param EventManagerInterface $eventManager\n     * @param FixtureFactory $fixtureFactory\n     *\/",52],["T_WHITESPACE","\n    ",57],["T_PUBLIC","public",58],["T_WHITESPACE"," ",58],["T_FUNCTION","function",58],["T_WHITESPACE"," ",58],["T_STRING","__construct",58],"(",["T_WHITESPACE","\n        ",58],["T_STRING","DataInterface",59],["T_WHITESPACE"," ",59],["T_VARIABLE","$configuration",59],",",["T_WHITESPACE","\n        ",59],["T_STRING","EventManagerInterface",60],["T_WHITESPACE"," ",60],["T_VARIABLE","$eventManager",60],",",["T_WHITESPACE","\n        ",60],["T_STRING","FixtureFactory",61],["T_WHITESPACE"," ",61],["T_VARIABLE","$fixtureFactory",61],["T_WHITESPACE","\n    ",61],")",["T_WHITESPACE"," ",62],"{",["T_WHITESPACE","\n        ",62],["T_STRING","parent",63],["T_DOUBLE_COLON","::",63],["T_STRING","__construct",63],"(",["T_VARIABLE","$configuration",63],",",["T_WHITESPACE"," ",63],["T_VARIABLE","$eventManager",63],")",";",["T_WHITESPACE","\n\n        ",63],["T_VARIABLE","$this",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","fixtureFactory",65],["T_WHITESPACE"," ",65],"=",["T_WHITESPACE"," ",65],["T_VARIABLE","$fixtureFactory",65],";",["T_WHITESPACE","\n        ",65],["T_VARIABLE","$this",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","mappingData",66],["T_WHITESPACE"," ",66],["T_PLUS_EQUAL","+=",66],["T_WHITESPACE"," ",66],"[",["T_WHITESPACE","\n            ",66],["T_CONSTANT_ENCAPSED_STRING","'include'",67],["T_WHITESPACE"," ",67],["T_DOUBLE_ARROW","=>",67],["T_WHITESPACE"," ",67],"[",["T_WHITESPACE","\n                ",67],["T_CONSTANT_ENCAPSED_STRING","'Yes'",68],["T_WHITESPACE"," ",68],["T_DOUBLE_ARROW","=>",68],["T_WHITESPACE"," ",68],["T_LNUMBER","1",68],",",["T_WHITESPACE","\n                ",68],["T_CONSTANT_ENCAPSED_STRING","'No'",69],["T_WHITESPACE"," ",69],["T_DOUBLE_ARROW","=>",69],["T_WHITESPACE"," ",69],["T_LNUMBER","0",69],",",["T_WHITESPACE","\n            ",69],"]",["T_WHITESPACE","\n        ",70],"]",";",["T_WHITESPACE","\n    ",71],"}",["T_WHITESPACE","\n\n    ",72],["T_DOC_COMMENT","\/**\n     * Prepare POST data for creating product request.\n     *\n     * @param FixtureInterface $product\n     * @param string|null $prefix [optional]\n     * @return array\n     *\/",74],["T_WHITESPACE","\n    ",80],["T_PROTECTED","protected",81],["T_WHITESPACE"," ",81],["T_FUNCTION","function",81],["T_WHITESPACE"," ",81],["T_STRING","prepareData",81],"(",["T_STRING","FixtureInterface",81],["T_WHITESPACE"," ",81],["T_VARIABLE","$product",81],",",["T_WHITESPACE"," ",81],["T_VARIABLE","$prefix",81],["T_WHITESPACE"," ",81],"=",["T_WHITESPACE"," ",81],["T_STRING","null",81],")",["T_WHITESPACE","\n    ",81],"{",["T_WHITESPACE","\n        ",82],["T_DOC_COMMENT","\/** @var ConfigurableProduct $product *\/",83],["T_WHITESPACE","\n        ",83],["T_VARIABLE","$valuesIndexes",84],["T_WHITESPACE"," ",84],"=",["T_WHITESPACE"," ",84],["T_VARIABLE","$this",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","getIndexValues",84],"(",["T_VARIABLE","$product",84],")",";",["T_WHITESPACE","\n        ",84],["T_VARIABLE","$data",85],["T_WHITESPACE"," ",85],"=",["T_WHITESPACE"," ",85],["T_STRING","parent",85],["T_DOUBLE_COLON","::",85],["T_STRING","prepareData",85],"(",["T_VARIABLE","$product",85],",",["T_WHITESPACE"," ",85],["T_VARIABLE","$prefix",85],")",";",["T_WHITESPACE","\n        ",85],["T_VARIABLE","$data",86],"[",["T_CONSTANT_ENCAPSED_STRING","'configurable_products_data'",86],"]",["T_WHITESPACE"," ",86],"=",["T_WHITESPACE"," ",86],["T_VARIABLE","$this",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","prepareConfigurableProductData",86],"(",["T_VARIABLE","$product",86],",",["T_WHITESPACE"," ",86],["T_VARIABLE","$valuesIndexes",86],")",";",["T_WHITESPACE","\n        ",86],["T_VARIABLE","$data",87],"[",["T_CONSTANT_ENCAPSED_STRING","'configurable_attributes_data'",87],"]",["T_WHITESPACE"," ",87],"=",["T_WHITESPACE"," ",87],["T_VARIABLE","$this",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","prepareConfigurableAttributeData",87],"(",["T_VARIABLE","$product",87],",",["T_WHITESPACE"," ",87],["T_VARIABLE","$valuesIndexes",87],")",";",["T_WHITESPACE","\n        ",87],["T_VARIABLE","$data",88],"[",["T_CONSTANT_ENCAPSED_STRING","'affect_configurable_product_attributes'",88],"]",["T_WHITESPACE"," ",88],"=",["T_WHITESPACE"," ",88],["T_LNUMBER","1",88],";",["T_WHITESPACE","\n\n        ",88],["T_RETURN","return",90],["T_WHITESPACE"," ",90],["T_VARIABLE","$this",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","replaceMappingData",90],"(",["T_VARIABLE","$data",90],")",";",["T_WHITESPACE","\n    ",90],"}",["T_WHITESPACE","\n\n    ",91],["T_DOC_COMMENT","\/**\n     * Get configurable product data for curl.\n     *\n     * @param ConfigurableProduct $product\n     * @param array $valuesIndexes\n     * @return string\n     *\/",93],["T_WHITESPACE","\n    ",99],["T_PROTECTED","protected",100],["T_WHITESPACE"," ",100],["T_FUNCTION","function",100],["T_WHITESPACE"," ",100],["T_STRING","prepareConfigurableAttributeData",100],"(",["T_STRING","ConfigurableProduct",100],["T_WHITESPACE"," ",100],["T_VARIABLE","$product",100],",",["T_WHITESPACE"," ",100],["T_ARRAY","array",100],["T_WHITESPACE"," ",100],["T_VARIABLE","$valuesIndexes",100],")",["T_WHITESPACE","\n    ",100],"{",["T_WHITESPACE","\n        ",101],["T_VARIABLE","$result",102],["T_WHITESPACE"," ",102],"=",["T_WHITESPACE"," ",102],"[","]",";",["T_WHITESPACE","\n        ",102],["T_VARIABLE","$configurableOptions",103],["T_WHITESPACE"," ",103],"=",["T_WHITESPACE"," ",103],["T_VARIABLE","$product",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","getConfigurableOptions",103],"(",")",";",["T_WHITESPACE","\n\n        ",103],["T_FOREACH","foreach",105],["T_WHITESPACE"," ",105],"(",["T_VARIABLE","$configurableOptions",105],"[",["T_CONSTANT_ENCAPSED_STRING","'attributes_data'",105],"]",["T_WHITESPACE"," ",105],["T_AS","as",105],["T_WHITESPACE"," ",105],["T_VARIABLE","$attributeKey",105],["T_WHITESPACE"," ",105],["T_DOUBLE_ARROW","=>",105],["T_WHITESPACE"," ",105],["T_VARIABLE","$attribute",105],")",["T_WHITESPACE"," ",105],"{",["T_WHITESPACE","\n            ",105],["T_VARIABLE","$key",106],["T_WHITESPACE"," ",106],"=",["T_WHITESPACE"," ",106],["T_STRING","str_replace",106],"(",["T_CONSTANT_ENCAPSED_STRING","'attribute_key_'",106],",",["T_WHITESPACE"," ",106],["T_CONSTANT_ENCAPSED_STRING","''",106],",",["T_WHITESPACE"," ",106],["T_VARIABLE","$attributeKey",106],")",";",["T_WHITESPACE","\n            ",106],["T_VARIABLE","$result",107],"[",["T_VARIABLE","$key",107],"]",["T_WHITESPACE"," ",107],"=",["T_WHITESPACE"," ",107],"[",["T_WHITESPACE","\n                ",107],["T_CONSTANT_ENCAPSED_STRING","'label'",108],["T_WHITESPACE"," ",108],["T_DOUBLE_ARROW","=>",108],["T_WHITESPACE"," ",108],["T_VARIABLE","$attribute",108],"[",["T_CONSTANT_ENCAPSED_STRING","'label'",108],"]",",",["T_WHITESPACE","\n                ",108],["T_CONSTANT_ENCAPSED_STRING","'attribute_id'",109],["T_WHITESPACE"," ",109],["T_DOUBLE_ARROW","=>",109],["T_WHITESPACE"," ",109],["T_VARIABLE","$attribute",109],"[",["T_CONSTANT_ENCAPSED_STRING","'attribute_id'",109],"]",",",["T_WHITESPACE","\n                ",109],["T_CONSTANT_ENCAPSED_STRING","'attribute_code'",110],["T_WHITESPACE"," ",110],["T_DOUBLE_ARROW","=>",110],["T_WHITESPACE"," ",110],["T_VARIABLE","$attribute",110],"[",["T_CONSTANT_ENCAPSED_STRING","'attribute_code'",110],"]",",",["T_WHITESPACE","\n                ",110],["T_CONSTANT_ENCAPSED_STRING","'frontend_label'",111],["T_WHITESPACE"," ",111],["T_DOUBLE_ARROW","=>",111],["T_WHITESPACE"," ",111],["T_VARIABLE","$attribute",111],"[",["T_CONSTANT_ENCAPSED_STRING","'frontend_label'",111],"]",",",["T_WHITESPACE","\n                ",111],["T_CONSTANT_ENCAPSED_STRING","'store_label'",112],["T_WHITESPACE"," ",112],["T_DOUBLE_ARROW","=>",112],["T_WHITESPACE"," ",112],["T_VARIABLE","$attribute",112],"[",["T_CONSTANT_ENCAPSED_STRING","'frontend_label'",112],"]",",",["T_WHITESPACE","\n            ",112],"]",";",["T_WHITESPACE","\n            ",113],["T_FOREACH","foreach",114],["T_WHITESPACE"," ",114],"(",["T_VARIABLE","$attribute",114],"[",["T_CONSTANT_ENCAPSED_STRING","'options'",114],"]",["T_WHITESPACE"," ",114],["T_AS","as",114],["T_WHITESPACE"," ",114],["T_VARIABLE","$optionKey",114],["T_WHITESPACE"," ",114],["T_DOUBLE_ARROW","=>",114],["T_WHITESPACE"," ",114],["T_VARIABLE","$option",114],")",["T_WHITESPACE"," ",114],"{",["T_WHITESPACE","\n                ",114],["T_VARIABLE","$result",115],"[",["T_VARIABLE","$key",115],"]","[",["T_CONSTANT_ENCAPSED_STRING","'values'",115],"]","[","]",["T_WHITESPACE"," ",115],"=",["T_WHITESPACE"," ",115],"[",["T_WHITESPACE","\n                    ",115],["T_CONSTANT_ENCAPSED_STRING","'label'",116],["T_WHITESPACE"," ",116],["T_DOUBLE_ARROW","=>",116],["T_WHITESPACE"," ",116],["T_VARIABLE","$option",116],"[",["T_CONSTANT_ENCAPSED_STRING","'label'",116],"]",",",["T_WHITESPACE","\n                    ",116],["T_CONSTANT_ENCAPSED_STRING","'value_index'",117],["T_WHITESPACE"," ",117],["T_DOUBLE_ARROW","=>",117],["T_WHITESPACE"," ",117],["T_VARIABLE","$valuesIndexes",117],"[",["T_VARIABLE","$attributeKey",117],["T_WHITESPACE"," ",117],".",["T_WHITESPACE"," ",117],["T_CONSTANT_ENCAPSED_STRING","':'",117],["T_WHITESPACE"," ",117],".",["T_WHITESPACE"," ",117],["T_VARIABLE","$optionKey",117],"]",",",["T_WHITESPACE","\n                    ",117],["T_CONSTANT_ENCAPSED_STRING","'pricing_value'",118],["T_WHITESPACE"," ",118],["T_DOUBLE_ARROW","=>",118],["T_WHITESPACE"," ",118],["T_VARIABLE","$option",118],"[",["T_CONSTANT_ENCAPSED_STRING","'price'",118],"]",",",["T_WHITESPACE","\n                    ",118],["T_CONSTANT_ENCAPSED_STRING","'is_percent'",119],["T_WHITESPACE"," ",119],["T_DOUBLE_ARROW","=>",119],["T_WHITESPACE"," ",119],"(",["T_VARIABLE","$option",119],"[",["T_CONSTANT_ENCAPSED_STRING","'price_type'",119],"]",["T_WHITESPACE"," ",119],["T_IS_EQUAL","==",119],["T_WHITESPACE"," ",119],["T_CONSTANT_ENCAPSED_STRING","'Percentage'",119],")",["T_WHITESPACE"," ",119],"?",["T_WHITESPACE"," ",119],["T_LNUMBER","1",119],["T_WHITESPACE"," ",119],":",["T_WHITESPACE"," ",119],["T_LNUMBER","0",119],["T_WHITESPACE","\n                ",119],"]",";",["T_WHITESPACE","\n            ",120],"}",["T_WHITESPACE","\n        ",121],"}",["T_WHITESPACE","\n\n        ",122],["T_RETURN","return",124],["T_WHITESPACE"," ",124],["T_STRING","json_encode",124],"(",["T_VARIABLE","$result",124],",",["T_WHITESPACE"," ",124],["T_STRING","true",124],")",";",["T_WHITESPACE","\n    ",124],"}",["T_WHITESPACE","\n\n    ",125],["T_DOC_COMMENT","\/**\n     * Get params of configurable items attributes.\n     *\n     * @param ConfigurableProduct $product\n     * @return array\n     *\/",127],["T_WHITESPACE","\n    ",132],["T_PROTECTED","protected",133],["T_WHITESPACE"," ",133],["T_FUNCTION","function",133],["T_WHITESPACE"," ",133],["T_STRING","getIndexValues",133],"(",["T_STRING","ConfigurableProduct",133],["T_WHITESPACE"," ",133],["T_VARIABLE","$product",133],")",["T_WHITESPACE","\n    ",133],"{",["T_WHITESPACE","\n        ",134],["T_VARIABLE","$config",135],["T_WHITESPACE"," ",135],"=",["T_WHITESPACE"," ",135],["T_VARIABLE","$this",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","prepareConfigDataForNew",135],"(",["T_VARIABLE","$product",135],")",";",["T_WHITESPACE","\n        ",135],["T_VARIABLE","$url",136],["T_WHITESPACE"," ",136],"=",["T_WHITESPACE"," ",136],["T_VARIABLE","$this",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","getUrl",136],"(",["T_VARIABLE","$config",136],",",["T_WHITESPACE"," ",136],["T_CONSTANT_ENCAPSED_STRING","'new'",136],")",";",["T_WHITESPACE","\n        ",136],["T_VARIABLE","$curl",137],["T_WHITESPACE"," ",137],"=",["T_WHITESPACE"," ",137],["T_NEW","new",137],["T_WHITESPACE"," ",137],["T_STRING","BackendDecorator",137],"(",["T_NEW","new",137],["T_WHITESPACE"," ",137],["T_STRING","CurlTransport",137],"(",")",",",["T_WHITESPACE"," ",137],["T_VARIABLE","$this",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","_configuration",137],")",";",["T_WHITESPACE","\n        ",137],["T_VARIABLE","$curl",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","write",138],"(",["T_VARIABLE","$url",138],",",["T_WHITESPACE"," ",138],"[","]",",",["T_WHITESPACE"," ",138],["T_STRING","CurlInterface",138],["T_DOUBLE_COLON","::",138],["T_STRING","GET",138],")",";",["T_WHITESPACE","\n        ",138],["T_VARIABLE","$response",139],["T_WHITESPACE"," ",139],"=",["T_WHITESPACE"," ",139],["T_VARIABLE","$curl",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","read",139],"(",")",";",["T_WHITESPACE","\n        ",139],["T_VARIABLE","$curl",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","close",140],"(",")",";",["T_WHITESPACE","\n\n        ",140],["T_STRING","preg_match_all",142],"(",["T_CONSTANT_ENCAPSED_STRING","'\/class=\"value-json\" value=\"(.*)\"\/'",142],",",["T_WHITESPACE"," ",142],["T_VARIABLE","$response",142],",",["T_WHITESPACE"," ",142],["T_VARIABLE","$tempResult",142],")",";",["T_WHITESPACE","\n        ",142],["T_VARIABLE","$valueIndexes",143],["T_WHITESPACE"," ",143],"=",["T_WHITESPACE"," ",143],"[","]",";",["T_WHITESPACE","\n        ",143],["T_STRING","krsort",144],"(",["T_VARIABLE","$tempResult",144],"[",["T_LNUMBER","1",144],"]",")",";",["T_WHITESPACE","\n        ",144],["T_VARIABLE","$optionIndex",145],["T_WHITESPACE"," ",145],"=",["T_WHITESPACE"," ",145],["T_LNUMBER","0",145],";",["T_WHITESPACE","\n        ",145],["T_FOREACH","foreach",146],["T_WHITESPACE"," ",146],"(",["T_VARIABLE","$tempResult",146],"[",["T_LNUMBER","1",146],"]",["T_WHITESPACE"," ",146],["T_AS","as",146],["T_WHITESPACE"," ",146],["T_VARIABLE","$value",146],")",["T_WHITESPACE"," ",146],"{",["T_WHITESPACE","\n            ",146],["T_VARIABLE","$arrayResult",147],["T_WHITESPACE"," ",147],"=",["T_WHITESPACE"," ",147],["T_STRING","json_decode",147],"(",["T_STRING","str_replace",147],"(",["T_CONSTANT_ENCAPSED_STRING","'&quot;'",147],",",["T_WHITESPACE"," ",147],["T_CONSTANT_ENCAPSED_STRING","'\"'",147],",",["T_WHITESPACE"," ",147],["T_VARIABLE","$value",147],")",",",["T_WHITESPACE"," ",147],["T_STRING","true",147],")",";",["T_WHITESPACE","\n            ",147],["T_FOREACH","foreach",148],["T_WHITESPACE"," ",148],"(",["T_VARIABLE","$arrayResult",148],["T_WHITESPACE"," ",148],["T_AS","as",148],["T_WHITESPACE"," ",148],["T_VARIABLE","$key",148],["T_WHITESPACE"," ",148],["T_DOUBLE_ARROW","=>",148],["T_WHITESPACE"," ",148],["T_VARIABLE","$item",148],")",["T_WHITESPACE"," ",148],"{",["T_WHITESPACE","\n                ",148],["T_VARIABLE","$valueIndexes",149],"[",["T_CONSTANT_ENCAPSED_STRING","'attribute_key_'",149],["T_WHITESPACE"," ",149],".",["T_WHITESPACE"," ",149],["T_VARIABLE","$key",149],["T_WHITESPACE"," ",149],".",["T_WHITESPACE"," ",149],["T_CONSTANT_ENCAPSED_STRING","':'",149],["T_WHITESPACE"," ",149],".",["T_WHITESPACE"," ",149],["T_CONSTANT_ENCAPSED_STRING","'option_key_'",149],["T_WHITESPACE"," ",149],".",["T_WHITESPACE"," ",149],["T_VARIABLE","$optionIndex",149],"]",["T_WHITESPACE"," ",149],"=",["T_WHITESPACE"," ",149],["T_VARIABLE","$item",149],"[",["T_CONSTANT_ENCAPSED_STRING","'value_index'",149],"]",";",["T_WHITESPACE","\n            ",149],"}",["T_WHITESPACE","\n            ",150],["T_VARIABLE","$optionIndex",151],["T_INC","++",151],";",["T_WHITESPACE","\n        ",151],"}",["T_WHITESPACE","\n\n        ",152],["T_RETURN","return",154],["T_WHITESPACE"," ",154],["T_VARIABLE","$valueIndexes",154],";",["T_WHITESPACE","\n    ",154],"}",["T_WHITESPACE","\n\n    ",155],["T_DOC_COMMENT","\/**\n     * Prepare config data.\n     *\n     * @param InjectableFixture $product\n     * @return array\n     *\/",157],["T_WHITESPACE","\n    ",162],["T_PROTECTED","protected",163],["T_WHITESPACE"," ",163],["T_FUNCTION","function",163],["T_WHITESPACE"," ",163],["T_STRING","prepareConfig",163],"(",["T_STRING","InjectableFixture",163],["T_WHITESPACE"," ",163],["T_VARIABLE","$product",163],")",["T_WHITESPACE","\n    ",163],"{",["T_WHITESPACE","\n        ",164],["T_VARIABLE","$config",165],["T_WHITESPACE"," ",165],"=",["T_WHITESPACE"," ",165],["T_STRING","parent",165],["T_DOUBLE_COLON","::",165],["T_STRING","prepareConfig",165],"(",["T_VARIABLE","$product",165],")",";",["T_WHITESPACE","\n        ",165],["T_VARIABLE","$config",166],"[",["T_CONSTANT_ENCAPSED_STRING","'create_url_params'",166],"]","[",["T_CONSTANT_ENCAPSED_STRING","'set'",166],"]",["T_WHITESPACE"," ",166],"=",["T_WHITESPACE"," ",166],["T_VARIABLE","$product",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","getDataFieldConfig",166],"(",["T_CONSTANT_ENCAPSED_STRING","'configurable_options'",166],")","[",["T_CONSTANT_ENCAPSED_STRING","'source'",166],"]",["T_WHITESPACE","\n            ",166],["T_OBJECT_OPERATOR","->",167],["T_STRING","getAttributeSet",167],"(",")",["T_WHITESPACE","\n            ",167],["T_OBJECT_OPERATOR","->",168],["T_STRING","getAttributeSetId",168],"(",")",";",["T_WHITESPACE","\n\n        ",168],["T_RETURN","return",170],["T_WHITESPACE"," ",170],["T_VARIABLE","$config",170],";",["T_WHITESPACE","\n    ",170],"}",["T_WHITESPACE","\n\n    ",171],["T_DOC_COMMENT","\/**\n     * Prepare config data for product.\n     *\n     * @param ConfigurableProduct $product\n     * @return array\n     *\/",173],["T_WHITESPACE","\n    ",178],["T_PROTECTED","protected",179],["T_WHITESPACE"," ",179],["T_FUNCTION","function",179],["T_WHITESPACE"," ",179],["T_STRING","prepareConfigDataForNew",179],"(",["T_STRING","ConfigurableProduct",179],["T_WHITESPACE"," ",179],["T_VARIABLE","$product",179],")",["T_WHITESPACE","\n    ",179],"{",["T_WHITESPACE","\n        ",180],["T_VARIABLE","$attributeSet",181],["T_WHITESPACE"," ",181],"=",["T_WHITESPACE"," ",181],["T_VARIABLE","$product",181],["T_OBJECT_OPERATOR","->",181],["T_STRING","getDataFieldConfig",181],"(",["T_CONSTANT_ENCAPSED_STRING","'configurable_options'",181],")","[",["T_CONSTANT_ENCAPSED_STRING","'source'",181],"]",["T_OBJECT_OPERATOR","->",181],["T_STRING","getAttributeSet",181],"(",")",";",["T_WHITESPACE","\n        ",181],["T_VARIABLE","$attributes",182],["T_WHITESPACE"," ",182],"=",["T_WHITESPACE"," ",182],["T_VARIABLE","$attributeSet",182],["T_OBJECT_OPERATOR","->",182],["T_STRING","getDataFieldConfig",182],"(",["T_CONSTANT_ENCAPSED_STRING","'assigned_attributes'",182],")","[",["T_CONSTANT_ENCAPSED_STRING","'source'",182],"]",["T_OBJECT_OPERATOR","->",182],["T_STRING","getAttributes",182],"(",")",";",["T_WHITESPACE","\n        ",182],["T_VARIABLE","$attributesIds",183],["T_WHITESPACE"," ",183],"=",["T_WHITESPACE"," ",183],["T_VARIABLE","$this",183],["T_OBJECT_OPERATOR","->",183],["T_STRING","getAttributesIds",183],"(",["T_VARIABLE","$attributes",183],")",";",["T_WHITESPACE","\n\n        ",183],["T_VARIABLE","$customUrlParam",185],"[",["T_CONSTANT_ENCAPSED_STRING","'create_url_params'",185],"]",["T_WHITESPACE"," ",185],"=",["T_WHITESPACE"," ",185],"[",["T_WHITESPACE","\n            ",185],["T_CONSTANT_ENCAPSED_STRING","'attributes'",186],["T_WHITESPACE"," ",186],["T_DOUBLE_ARROW","=>",186],["T_WHITESPACE"," ",186],["T_VARIABLE","$this",186],["T_OBJECT_OPERATOR","->",186],["T_STRING","codeAttribute",186],"(",["T_VARIABLE","$attributesIds",186],")",",",["T_WHITESPACE","\n            ",186],["T_CONSTANT_ENCAPSED_STRING","'set'",187],["T_WHITESPACE"," ",187],["T_DOUBLE_ARROW","=>",187],["T_WHITESPACE"," ",187],["T_VARIABLE","$attributeSet",187],["T_OBJECT_OPERATOR","->",187],["T_STRING","getAttributeSetId",187],"(",")",["T_WHITESPACE","\n        ",187],"]",";",["T_WHITESPACE","\n\n        ",188],["T_RETURN","return",190],["T_WHITESPACE"," ",190],["T_STRING","array_replace_recursive",190],"(",["T_VARIABLE","$product",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","getDataConfig",190],"(",")",",",["T_WHITESPACE"," ",190],["T_VARIABLE","$customUrlParam",190],")",";",["T_WHITESPACE","\n    ",190],"}",["T_WHITESPACE","\n\n    ",191],["T_DOC_COMMENT","\/**\n     * Prepare attributes ids.\n     *\n     * @param array $attributes\n     * @return string\n     *\/",193],["T_WHITESPACE","\n    ",198],["T_PROTECTED","protected",199],["T_WHITESPACE"," ",199],["T_FUNCTION","function",199],["T_WHITESPACE"," ",199],["T_STRING","getAttributesIds",199],"(",["T_ARRAY","array",199],["T_WHITESPACE"," ",199],["T_VARIABLE","$attributes",199],")",["T_WHITESPACE","\n    ",199],"{",["T_WHITESPACE","\n        ",200],["T_VARIABLE","$attributesIds",201],["T_WHITESPACE"," ",201],"=",["T_WHITESPACE"," ",201],["T_CONSTANT_ENCAPSED_STRING","\"\"",201],";",["T_WHITESPACE","\n        ",201],["T_FOREACH","foreach",202],["T_WHITESPACE"," ",202],"(",["T_VARIABLE","$attributes",202],["T_WHITESPACE"," ",202],["T_AS","as",202],["T_WHITESPACE"," ",202],["T_VARIABLE","$attribute",202],")",["T_WHITESPACE"," ",202],"{",["T_WHITESPACE","\n            ",202],["T_VARIABLE","$attributesIds",203],["T_WHITESPACE"," ",203],["T_CONCAT_EQUAL",".=",203],["T_WHITESPACE"," ",203],["T_VARIABLE","$attribute",203],["T_OBJECT_OPERATOR","->",203],["T_STRING","getAttributeId",203],"(",")",["T_WHITESPACE"," ",203],".",["T_WHITESPACE"," ",203],["T_CONSTANT_ENCAPSED_STRING","\",\"",203],";",["T_WHITESPACE","\n        ",203],"}",["T_WHITESPACE","\n        ",204],["T_RETURN","return",205],["T_WHITESPACE"," ",205],["T_STRING","substr",205],"(",["T_VARIABLE","$attributesIds",205],",",["T_WHITESPACE"," ",205],["T_LNUMBER","0",205],",",["T_WHITESPACE"," ",205],["T_STRING","strlen",205],"(",["T_VARIABLE","$attributesIds",205],")",["T_WHITESPACE"," ",205],"-",["T_WHITESPACE"," ",205],["T_LNUMBER","1",205],")",";",["T_WHITESPACE","\n    ",205],"}",["T_WHITESPACE","\n\n    ",206],["T_DOC_COMMENT","\/**\n     * Prepare configurable attribute data to GET request.\n     *\n     * @param string $attributes\n     * @return string\n     *\/",208],["T_WHITESPACE","\n    ",213],["T_PROTECTED","protected",214],["T_WHITESPACE"," ",214],["T_FUNCTION","function",214],["T_WHITESPACE"," ",214],["T_STRING","codeAttribute",214],"(",["T_VARIABLE","$attributes",214],")",["T_WHITESPACE","\n    ",214],"{",["T_WHITESPACE","\n        ",215],["T_VARIABLE","$res",216],["T_WHITESPACE"," ",216],"=",["T_WHITESPACE"," ",216],["T_STRING","base64_encode",216],"(",["T_VARIABLE","$attributes",216],")",";",["T_WHITESPACE","\n        ",216],["T_VARIABLE","$res",217],["T_WHITESPACE"," ",217],"=",["T_WHITESPACE"," ",217],["T_STRING","str_replace",217],"(",["T_CONSTANT_ENCAPSED_STRING","'\/'",217],",",["T_WHITESPACE"," ",217],["T_CONSTANT_ENCAPSED_STRING","'%2F'",217],",",["T_WHITESPACE"," ",217],["T_VARIABLE","$res",217],")",";",["T_WHITESPACE","\n        ",217],["T_VARIABLE","$res",218],["T_WHITESPACE"," ",218],"=",["T_WHITESPACE"," ",218],["T_STRING","str_replace",218],"(",["T_CONSTANT_ENCAPSED_STRING","'='",218],",",["T_WHITESPACE"," ",218],["T_CONSTANT_ENCAPSED_STRING","'%3D'",218],",",["T_WHITESPACE"," ",218],["T_VARIABLE","$res",218],")",";",["T_WHITESPACE","\n\n        ",218],["T_RETURN","return",220],["T_WHITESPACE"," ",220],["T_VARIABLE","$res",220],";",["T_WHITESPACE","\n    ",220],"}",["T_WHITESPACE","\n\n    ",221],["T_DOC_COMMENT","\/**\n     * Prepare configurable product data.\n     *\n     * @param ConfigurableProduct $product\n     * @param array $valuesIndexes\n     * @return string\n     *\/",223],["T_WHITESPACE","\n    ",229],["T_PROTECTED","protected",230],["T_WHITESPACE"," ",230],["T_FUNCTION","function",230],["T_WHITESPACE"," ",230],["T_STRING","prepareConfigurableProductData",230],"(",["T_STRING","ConfigurableProduct",230],["T_WHITESPACE"," ",230],["T_VARIABLE","$product",230],",",["T_WHITESPACE"," ",230],["T_ARRAY","array",230],["T_WHITESPACE"," ",230],["T_VARIABLE","$valuesIndexes",230],")",["T_WHITESPACE","\n    ",230],"{",["T_WHITESPACE","\n        ",231],["T_VARIABLE","$result",232],["T_WHITESPACE"," ",232],"=",["T_WHITESPACE"," ",232],"[","]",";",["T_WHITESPACE","\n        ",232],["T_VARIABLE","$configurableOptions",233],["T_WHITESPACE"," ",233],"=",["T_WHITESPACE"," ",233],["T_VARIABLE","$product",233],["T_OBJECT_OPERATOR","->",233],["T_STRING","getConfigurableOptions",233],"(",")",";",["T_WHITESPACE","\n        ",233],["T_VARIABLE","$configurableOptionsSource",234],["T_WHITESPACE"," ",234],"=",["T_WHITESPACE"," ",234],["T_VARIABLE","$product",234],["T_OBJECT_OPERATOR","->",234],["T_STRING","getDataFieldConfig",234],"(",["T_CONSTANT_ENCAPSED_STRING","'configurable_options'",234],")","[",["T_CONSTANT_ENCAPSED_STRING","'source'",234],"]",";",["T_WHITESPACE","\n        ",234],["T_VARIABLE","$associatedProducts",235],["T_WHITESPACE"," ",235],"=",["T_WHITESPACE"," ",235],["T_VARIABLE","$this",235],["T_OBJECT_OPERATOR","->",235],["T_STRING","splitProducts",235],"(",["T_VARIABLE","$configurableOptionsSource",235],["T_OBJECT_OPERATOR","->",235],["T_STRING","getProducts",235],"(",")",")",";",["T_WHITESPACE","\n\n        ",235],["T_FOREACH","foreach",237],["T_WHITESPACE"," ",237],"(",["T_VARIABLE","$configurableOptions",237],"[",["T_CONSTANT_ENCAPSED_STRING","'attributes_data'",237],"]",["T_WHITESPACE"," ",237],["T_AS","as",237],["T_WHITESPACE"," ",237],["T_VARIABLE","$attributeKey",237],["T_WHITESPACE"," ",237],["T_DOUBLE_ARROW","=>",237],["T_WHITESPACE"," ",237],["T_VARIABLE","$attribute",237],")",["T_WHITESPACE"," ",237],"{",["T_WHITESPACE","\n            ",237],["T_FOREACH","foreach",238],["T_WHITESPACE"," ",238],"(",["T_VARIABLE","$attribute",238],"[",["T_CONSTANT_ENCAPSED_STRING","'options'",238],"]",["T_WHITESPACE"," ",238],["T_AS","as",238],["T_WHITESPACE"," ",238],["T_VARIABLE","$optionKey",238],["T_WHITESPACE"," ",238],["T_DOUBLE_ARROW","=>",238],["T_WHITESPACE"," ",238],["T_VARIABLE","$option",238],")",["T_WHITESPACE"," ",238],"{",["T_WHITESPACE","\n                ",238],["T_VARIABLE","$productId",239],["T_WHITESPACE"," ",239],"=",["T_WHITESPACE"," ",239],["T_VARIABLE","$associatedProducts",239],"[",["T_VARIABLE","$attributeKey",239],["T_WHITESPACE"," ",239],".",["T_WHITESPACE"," ",239],["T_CONSTANT_ENCAPSED_STRING","':'",239],["T_WHITESPACE"," ",239],".",["T_WHITESPACE"," ",239],["T_VARIABLE","$optionKey",239],"]",["T_OBJECT_OPERATOR","->",239],["T_STRING","getId",239],"(",")",";",["T_WHITESPACE","\n                ",239],["T_VARIABLE","$result",240],"[",["T_VARIABLE","$productId",240],"]","[","]",["T_WHITESPACE"," ",240],"=",["T_WHITESPACE"," ",240],"[",["T_WHITESPACE","\n                    ",240],["T_CONSTANT_ENCAPSED_STRING","'label'",241],["T_WHITESPACE"," ",241],["T_DOUBLE_ARROW","=>",241],["T_WHITESPACE"," ",241],["T_VARIABLE","$option",241],"[",["T_CONSTANT_ENCAPSED_STRING","'label'",241],"]",",",["T_WHITESPACE","\n                    ",241],["T_CONSTANT_ENCAPSED_STRING","'attribute_id'",242],["T_WHITESPACE"," ",242],["T_DOUBLE_ARROW","=>",242],["T_WHITESPACE"," ",242],["T_VARIABLE","$attribute",242],"[",["T_CONSTANT_ENCAPSED_STRING","'attribute_id'",242],"]",",",["T_WHITESPACE","\n                    ",242],["T_CONSTANT_ENCAPSED_STRING","'value_index'",243],["T_WHITESPACE"," ",243],["T_DOUBLE_ARROW","=>",243],["T_WHITESPACE"," ",243],["T_VARIABLE","$valuesIndexes",243],"[",["T_VARIABLE","$attributeKey",243],["T_WHITESPACE"," ",243],".",["T_WHITESPACE"," ",243],["T_CONSTANT_ENCAPSED_STRING","':'",243],["T_WHITESPACE"," ",243],".",["T_WHITESPACE"," ",243],["T_VARIABLE","$optionKey",243],"]",",",["T_WHITESPACE","\n                    ",243],["T_CONSTANT_ENCAPSED_STRING","'is_percent'",244],["T_WHITESPACE"," ",244],["T_DOUBLE_ARROW","=>",244],["T_WHITESPACE"," ",244],"(",["T_VARIABLE","$option",244],"[",["T_CONSTANT_ENCAPSED_STRING","'price_type'",244],"]",["T_WHITESPACE"," ",244],["T_IS_EQUAL","==",244],["T_WHITESPACE"," ",244],["T_CONSTANT_ENCAPSED_STRING","'Percentage'",244],")",["T_WHITESPACE"," ",244],"?",["T_WHITESPACE"," ",244],["T_LNUMBER","1",244],["T_WHITESPACE"," ",244],":",["T_WHITESPACE"," ",244],["T_LNUMBER","0",244],",",["T_WHITESPACE","\n                    ",244],["T_CONSTANT_ENCAPSED_STRING","'pricing_value'",245],["T_WHITESPACE"," ",245],["T_DOUBLE_ARROW","=>",245],["T_WHITESPACE"," ",245],["T_VARIABLE","$option",245],"[",["T_CONSTANT_ENCAPSED_STRING","'price'",245],"]",["T_WHITESPACE","\n                ",245],"]",";",["T_WHITESPACE","\n            ",246],"}",["T_WHITESPACE","\n        ",247],"}",["T_WHITESPACE","\n\n        ",248],["T_RETURN","return",250],["T_WHITESPACE"," ",250],["T_STRING","json_encode",250],"(",["T_VARIABLE","$result",250],",",["T_WHITESPACE"," ",250],["T_STRING","true",250],")",";",["T_WHITESPACE","\n    ",250],"}",["T_WHITESPACE","\n\n    ",251],["T_DOC_COMMENT","\/**\n     * Split products.\n     *\n     * @param array $products\n     * @return array\n     *\/",253],["T_WHITESPACE","\n    ",258],["T_PROTECTED","protected",259],["T_WHITESPACE"," ",259],["T_FUNCTION","function",259],["T_WHITESPACE"," ",259],["T_STRING","splitProducts",259],"(",["T_ARRAY","array",259],["T_WHITESPACE"," ",259],["T_VARIABLE","$products",259],")",["T_WHITESPACE","\n    ",259],"{",["T_WHITESPACE","\n        ",260],["T_VARIABLE","$result",261],["T_WHITESPACE"," ",261],"=",["T_WHITESPACE"," ",261],"[","]",";",["T_WHITESPACE","\n        ",261],["T_FOREACH","foreach",262],["T_WHITESPACE"," ",262],"(",["T_VARIABLE","$products",262],["T_WHITESPACE"," ",262],["T_AS","as",262],["T_WHITESPACE"," ",262],["T_VARIABLE","$key",262],["T_WHITESPACE"," ",262],["T_DOUBLE_ARROW","=>",262],["T_WHITESPACE"," ",262],["T_VARIABLE","$product",262],")",["T_WHITESPACE"," ",262],"{",["T_WHITESPACE","\n            ",262],["T_VARIABLE","$indexes",263],["T_WHITESPACE"," ",263],"=",["T_WHITESPACE"," ",263],["T_STRING","explode",263],"(",["T_CONSTANT_ENCAPSED_STRING","' '",263],",",["T_WHITESPACE"," ",263],["T_VARIABLE","$key",263],")",";",["T_WHITESPACE","\n            ",263],["T_FOREACH","foreach",264],["T_WHITESPACE"," ",264],"(",["T_VARIABLE","$indexes",264],["T_WHITESPACE"," ",264],["T_AS","as",264],["T_WHITESPACE"," ",264],["T_VARIABLE","$index",264],")",["T_WHITESPACE"," ",264],"{",["T_WHITESPACE","\n                ",264],["T_VARIABLE","$result",265],"[",["T_VARIABLE","$index",265],"]",["T_WHITESPACE"," ",265],"=",["T_WHITESPACE"," ",265],["T_VARIABLE","$product",265],";",["T_WHITESPACE","\n            ",265],"}",["T_WHITESPACE","\n        ",266],"}",["T_WHITESPACE","\n\n        ",267],["T_RETURN","return",269],["T_WHITESPACE"," ",269],["T_VARIABLE","$result",269],";",["T_WHITESPACE","\n    ",269],"}",["T_WHITESPACE","\n",270],"}",["T_WHITESPACE","\n",271]]