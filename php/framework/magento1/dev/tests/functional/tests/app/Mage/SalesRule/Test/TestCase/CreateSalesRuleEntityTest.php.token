[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Magento\n *\n * NOTICE OF LICENSE\n *\n * This source file is subject to the Open Software License (OSL 3.0)\n * that is bundled with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/opensource.org\/licenses\/osl-3.0.php\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@magento.com so we can send you a copy immediately.\n *\n * DISCLAIMER\n *\n * Do not edit or add to this file if you wish to upgrade Magento to newer\n * versions in the future. If you wish to customize Magento for your\n * needs please refer to http:\/\/www.magento.com for more information.\n *\n * @category    Tests\n * @package     Tests_Functional\n * @copyright  Copyright (c) 2006-2016 X.commerce, Inc. and affiliates (http:\/\/www.magento.com)\n * @license    http:\/\/opensource.org\/licenses\/osl-3.0.php  Open Software License (OSL 3.0)\n *\/",2],["T_WHITESPACE","\n\n",25],["T_NAMESPACE","namespace",27],["T_WHITESPACE"," ",27],["T_STRING","Mage",27],["T_NS_SEPARATOR","\\",27],["T_STRING","SalesRule",27],["T_NS_SEPARATOR","\\",27],["T_STRING","Test",27],["T_NS_SEPARATOR","\\",27],["T_STRING","TestCase",27],";",["T_WHITESPACE","\n\n",27],["T_USE","use",29],["T_WHITESPACE"," ",29],["T_STRING","Magento",29],["T_NS_SEPARATOR","\\",29],["T_STRING","Mtf",29],["T_NS_SEPARATOR","\\",29],["T_STRING","TestCase",29],["T_NS_SEPARATOR","\\",29],["T_STRING","Injectable",29],";",["T_WHITESPACE","\n",29],["T_USE","use",30],["T_WHITESPACE"," ",30],["T_STRING","Magento",30],["T_NS_SEPARATOR","\\",30],["T_STRING","Mtf",30],["T_NS_SEPARATOR","\\",30],["T_STRING","Fixture",30],["T_NS_SEPARATOR","\\",30],["T_STRING","FixtureFactory",30],";",["T_WHITESPACE","\n",30],["T_USE","use",31],["T_WHITESPACE"," ",31],["T_STRING","Mage",31],["T_NS_SEPARATOR","\\",31],["T_STRING","Customer",31],["T_NS_SEPARATOR","\\",31],["T_STRING","Test",31],["T_NS_SEPARATOR","\\",31],["T_STRING","Fixture",31],["T_NS_SEPARATOR","\\",31],["T_STRING","Customer",31],";",["T_WHITESPACE","\n",31],["T_USE","use",32],["T_WHITESPACE"," ",32],["T_STRING","Mage",32],["T_NS_SEPARATOR","\\",32],["T_STRING","SalesRule",32],["T_NS_SEPARATOR","\\",32],["T_STRING","Test",32],["T_NS_SEPARATOR","\\",32],["T_STRING","Fixture",32],["T_NS_SEPARATOR","\\",32],["T_STRING","SalesRule",32],";",["T_WHITESPACE","\n",32],["T_USE","use",33],["T_WHITESPACE"," ",33],["T_STRING","Mage",33],["T_NS_SEPARATOR","\\",33],["T_STRING","SalesRule",33],["T_NS_SEPARATOR","\\",33],["T_STRING","Test",33],["T_NS_SEPARATOR","\\",33],["T_STRING","Page",33],["T_NS_SEPARATOR","\\",33],["T_STRING","Adminhtml",33],["T_NS_SEPARATOR","\\",33],["T_STRING","PromoQuoteIndex",33],";",["T_WHITESPACE","\n",33],["T_USE","use",34],["T_WHITESPACE"," ",34],["T_STRING","Mage",34],["T_NS_SEPARATOR","\\",34],["T_STRING","SalesRule",34],["T_NS_SEPARATOR","\\",34],["T_STRING","Test",34],["T_NS_SEPARATOR","\\",34],["T_STRING","Page",34],["T_NS_SEPARATOR","\\",34],["T_STRING","Adminhtml",34],["T_NS_SEPARATOR","\\",34],["T_STRING","PromoQuoteNew",34],";",["T_WHITESPACE","\n",34],["T_USE","use",35],["T_WHITESPACE"," ",35],["T_STRING","Mage",35],["T_NS_SEPARATOR","\\",35],["T_STRING","SalesRule",35],["T_NS_SEPARATOR","\\",35],["T_STRING","Test",35],["T_NS_SEPARATOR","\\",35],["T_STRING","Page",35],["T_NS_SEPARATOR","\\",35],["T_STRING","Adminhtml",35],["T_NS_SEPARATOR","\\",35],["T_STRING","PromoQuoteEdit",35],";",["T_WHITESPACE","\n\n",35],["T_DOC_COMMENT","\/**\n * Precondition:\n * 1. Create two simple products with categories.\n * 2. Create default customer.\n *\n * Steps:\n * 1. Login to the backend.\n * 2. Navigate to Promotions -> Shopping Cart Price Rules.\n * 3. Click \"Add new rule\" button.\n * 4. Fill form according to data set.\n * 5. Click \"Save\" button.\n * 6. Perform asserts.\n *\n * @group Shopping_Cart_Price_Rules_(CS)\n * @ZephyrId MPERF-6748\n *\/",37],["T_WHITESPACE","\n",52],["T_CLASS","class",53],["T_WHITESPACE"," ",53],["T_STRING","CreateSalesRuleEntityTest",53],["T_WHITESPACE"," ",53],["T_EXTENDS","extends",53],["T_WHITESPACE"," ",53],["T_STRING","Injectable",53],["T_WHITESPACE","\n",53],"{",["T_WHITESPACE","\n    ",54],["T_DOC_COMMENT","\/**\n     * Page PromoQuoteNew.\n     *\n     * @var PromoQuoteNew\n     *\/",55],["T_WHITESPACE","\n    ",59],["T_PROTECTED","protected",60],["T_WHITESPACE"," ",60],["T_VARIABLE","$promoQuoteNew",60],";",["T_WHITESPACE","\n\n    ",60],["T_DOC_COMMENT","\/**\n     * Page PromoQuoteEdit.\n     *\n     * @var PromoQuoteEdit\n     *\/",62],["T_WHITESPACE","\n    ",66],["T_PROTECTED","protected",67],["T_WHITESPACE"," ",67],["T_VARIABLE","$promoQuoteEdit",67],";",["T_WHITESPACE","\n\n    ",67],["T_DOC_COMMENT","\/**\n     * Page PromoQuoteIndex.\n     *\n     * @var PromoQuoteIndex\n     *\/",69],["T_WHITESPACE","\n    ",73],["T_PROTECTED","protected",74],["T_WHITESPACE"," ",74],["T_VARIABLE","$promoQuoteIndex",74],";",["T_WHITESPACE","\n\n    ",74],["T_DOC_COMMENT","\/**\n     * Sales rule name.\n     *\n     * @var string\n     *\/",76],["T_WHITESPACE","\n    ",80],["T_PROTECTED","protected",81],["T_WHITESPACE"," ",81],["T_VARIABLE","$salesRuleName",81],";",["T_WHITESPACE","\n\n    ",81],["T_DOC_COMMENT","\/**\n     * Fixture factory.\n     *\n     * @var FixtureFactory\n     *\/",83],["T_WHITESPACE","\n    ",87],["T_PROTECTED","protected",88],["T_WHITESPACE"," ",88],["T_VARIABLE","$fixtureFactory",88],";",["T_WHITESPACE","\n\n    ",88],["T_DOC_COMMENT","\/**\n     * Create customer and 2 simple products with categories before run test.\n     *\n     * @param FixtureFactory $fixtureFactory\n     * @param Customer $customer\n     * @return array\n     *\/",90],["T_WHITESPACE","\n    ",96],["T_PUBLIC","public",97],["T_WHITESPACE"," ",97],["T_FUNCTION","function",97],["T_WHITESPACE"," ",97],["T_STRING","__prepare",97],"(",["T_STRING","FixtureFactory",97],["T_WHITESPACE"," ",97],["T_VARIABLE","$fixtureFactory",97],",",["T_WHITESPACE"," ",97],["T_STRING","Customer",97],["T_WHITESPACE"," ",97],["T_VARIABLE","$customer",97],")",["T_WHITESPACE","\n    ",97],"{",["T_WHITESPACE","\n        ",98],["T_VARIABLE","$this",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","fixtureFactory",99],["T_WHITESPACE"," ",99],"=",["T_WHITESPACE"," ",99],["T_VARIABLE","$fixtureFactory",99],";",["T_WHITESPACE","\n        ",99],["T_VARIABLE","$customer",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","persist",100],"(",")",";",["T_WHITESPACE","\n        ",100],["T_VARIABLE","$products",101],["T_WHITESPACE"," ",101],"=",["T_WHITESPACE"," ",101],["T_VARIABLE","$this",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","createProducts",101],"(","[",["T_CONSTANT_ENCAPSED_STRING","'simple_for_salesrule_1'",101],",",["T_WHITESPACE"," ",101],["T_CONSTANT_ENCAPSED_STRING","'simple_for_salesrule_2'",101],"]",")",";",["T_WHITESPACE","\n\n        ",101],["T_RETURN","return",103],["T_WHITESPACE"," ",103],"[",["T_WHITESPACE","\n            ",103],["T_CONSTANT_ENCAPSED_STRING","'customer'",104],["T_WHITESPACE"," ",104],["T_DOUBLE_ARROW","=>",104],["T_WHITESPACE"," ",104],["T_VARIABLE","$customer",104],",",["T_WHITESPACE","\n            ",104],["T_CONSTANT_ENCAPSED_STRING","'productForSalesRule1'",105],["T_WHITESPACE"," ",105],["T_DOUBLE_ARROW","=>",105],["T_WHITESPACE"," ",105],["T_VARIABLE","$products",105],"[",["T_LNUMBER","0",105],"]",",",["T_WHITESPACE","\n            ",105],["T_CONSTANT_ENCAPSED_STRING","'productForSalesRule2'",106],["T_WHITESPACE"," ",106],["T_DOUBLE_ARROW","=>",106],["T_WHITESPACE"," ",106],["T_VARIABLE","$products",106],"[",["T_LNUMBER","1",106],"]",["T_WHITESPACE","\n        ",106],"]",";",["T_WHITESPACE","\n    ",107],"}",["T_WHITESPACE","\n\n    ",108],["T_DOC_COMMENT","\/**\n     * Inject data.\n     *\n     * @param PromoQuoteIndex $promoQuoteIndex\n     * @param PromoQuoteNew $promoQuoteNew\n     * @param PromoQuoteEdit $promoQuoteEdit\n     * @return void\n     *\/",110],["T_WHITESPACE","\n    ",117],["T_PUBLIC","public",118],["T_WHITESPACE"," ",118],["T_FUNCTION","function",118],["T_WHITESPACE"," ",118],["T_STRING","__inject",118],"(",["T_WHITESPACE","\n        ",118],["T_STRING","PromoQuoteIndex",119],["T_WHITESPACE"," ",119],["T_VARIABLE","$promoQuoteIndex",119],",",["T_WHITESPACE","\n        ",119],["T_STRING","PromoQuoteNew",120],["T_WHITESPACE"," ",120],["T_VARIABLE","$promoQuoteNew",120],",",["T_WHITESPACE","\n        ",120],["T_STRING","PromoQuoteEdit",121],["T_WHITESPACE"," ",121],["T_VARIABLE","$promoQuoteEdit",121],["T_WHITESPACE","\n    ",121],")",["T_WHITESPACE"," ",122],"{",["T_WHITESPACE","\n        ",122],["T_VARIABLE","$this",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","promoQuoteIndex",123],["T_WHITESPACE"," ",123],"=",["T_WHITESPACE"," ",123],["T_VARIABLE","$promoQuoteIndex",123],";",["T_WHITESPACE","\n        ",123],["T_VARIABLE","$this",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","promoQuoteNew",124],["T_WHITESPACE"," ",124],"=",["T_WHITESPACE"," ",124],["T_VARIABLE","$promoQuoteNew",124],";",["T_WHITESPACE","\n        ",124],["T_VARIABLE","$this",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","promoQuoteEdit",125],["T_WHITESPACE"," ",125],"=",["T_WHITESPACE"," ",125],["T_VARIABLE","$promoQuoteEdit",125],";",["T_WHITESPACE","\n    ",125],"}",["T_WHITESPACE","\n\n    ",126],["T_DOC_COMMENT","\/**\n     * Create Sales Rule.\n     *\n     * @param SalesRule $salesRule\n     * @return void\n     *\/",128],["T_WHITESPACE","\n    ",133],["T_PUBLIC","public",134],["T_WHITESPACE"," ",134],["T_FUNCTION","function",134],["T_WHITESPACE"," ",134],["T_STRING","test",134],"(",["T_STRING","SalesRule",134],["T_WHITESPACE"," ",134],["T_VARIABLE","$salesRule",134],")",["T_WHITESPACE","\n    ",134],"{",["T_WHITESPACE","\n        ",135],["T_COMMENT","\/\/ Prepare data for tearDown\n",136],["T_WHITESPACE","        ",137],["T_VARIABLE","$this",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","salesRuleName",137],["T_WHITESPACE"," ",137],"=",["T_WHITESPACE"," ",137],["T_VARIABLE","$salesRule",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","getName",137],"(",")",";",["T_WHITESPACE","\n\n        ",137],["T_COMMENT","\/\/ Steps\n",139],["T_WHITESPACE","        ",140],["T_VARIABLE","$this",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","promoQuoteIndex",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","open",140],"(",")",";",["T_WHITESPACE","\n        ",140],["T_VARIABLE","$this",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","promoQuoteIndex",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","getGridPageActions",141],"(",")",["T_OBJECT_OPERATOR","->",141],["T_STRING","addNew",141],"(",")",";",["T_WHITESPACE","\n        ",141],["T_VARIABLE","$this",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","promoQuoteNew",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","getSalesRuleForm",142],"(",")",["T_OBJECT_OPERATOR","->",142],["T_STRING","fill",142],"(",["T_VARIABLE","$salesRule",142],")",";",["T_WHITESPACE","\n        ",142],["T_VARIABLE","$this",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","promoQuoteNew",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","getFormPageActions",143],"(",")",["T_OBJECT_OPERATOR","->",143],["T_STRING","save",143],"(",")",";",["T_WHITESPACE","\n    ",143],"}",["T_WHITESPACE","\n\n    ",144],["T_DOC_COMMENT","\/**\n     * Create products.\n     *\n     * @param array $productsdatasets\n     * @return array\n     *\/",146],["T_WHITESPACE","\n    ",151],["T_PROTECTED","protected",152],["T_WHITESPACE"," ",152],["T_FUNCTION","function",152],["T_WHITESPACE"," ",152],["T_STRING","createProducts",152],"(",["T_ARRAY","array",152],["T_WHITESPACE"," ",152],["T_VARIABLE","$productsdatasets",152],")",["T_WHITESPACE","\n    ",152],"{",["T_WHITESPACE","\n        ",153],["T_VARIABLE","$products",154],["T_WHITESPACE"," ",154],"=",["T_WHITESPACE"," ",154],"[","]",";",["T_WHITESPACE","\n        ",154],["T_FOREACH","foreach",155],["T_WHITESPACE"," ",155],"(",["T_VARIABLE","$productsdatasets",155],["T_WHITESPACE"," ",155],["T_AS","as",155],["T_WHITESPACE"," ",155],["T_VARIABLE","$dataset",155],")","{",["T_WHITESPACE","\n            ",155],["T_VARIABLE","$product",156],["T_WHITESPACE"," ",156],"=",["T_WHITESPACE"," ",156],["T_VARIABLE","$this",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","fixtureFactory",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","createByCode",156],"(",["T_CONSTANT_ENCAPSED_STRING","'catalogProductSimple'",156],",",["T_WHITESPACE"," ",156],"[",["T_CONSTANT_ENCAPSED_STRING","'dataset'",156],["T_WHITESPACE"," ",156],["T_DOUBLE_ARROW","=>",156],["T_WHITESPACE"," ",156],["T_VARIABLE","$dataset",156],"]",")",";",["T_WHITESPACE","\n            ",156],["T_VARIABLE","$product",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","persist",157],"(",")",";",["T_WHITESPACE","\n            ",157],["T_VARIABLE","$products",158],"[","]",["T_WHITESPACE"," ",158],"=",["T_WHITESPACE"," ",158],["T_VARIABLE","$product",158],";",["T_WHITESPACE","\n        ",158],"}",["T_WHITESPACE","\n        ",159],["T_RETURN","return",160],["T_WHITESPACE"," ",160],["T_VARIABLE","$products",160],";",["T_WHITESPACE","\n    ",160],"}",["T_WHITESPACE","\n\n    ",161],["T_DOC_COMMENT","\/**\n     * Delete sales rule.\n     *\n     * @return void\n     *\/",163],["T_WHITESPACE","\n    ",167],["T_PUBLIC","public",168],["T_WHITESPACE"," ",168],["T_FUNCTION","function",168],["T_WHITESPACE"," ",168],["T_STRING","tearDown",168],"(",")",["T_WHITESPACE","\n    ",168],"{",["T_WHITESPACE","\n        ",169],["T_IF","if",170],["T_WHITESPACE"," ",170],"(",["T_VARIABLE","$this",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","salesRuleName",170],["T_WHITESPACE"," ",170],["T_IS_NOT_IDENTICAL","!==",170],["T_WHITESPACE"," ",170],["T_STRING","null",170],")",["T_WHITESPACE"," ",170],"{",["T_WHITESPACE","\n            ",170],["T_VARIABLE","$this",171],["T_OBJECT_OPERATOR","->",171],["T_STRING","promoQuoteIndex",171],["T_OBJECT_OPERATOR","->",171],["T_STRING","open",171],"(",")",";",["T_WHITESPACE","\n            ",171],["T_VARIABLE","$this",172],["T_OBJECT_OPERATOR","->",172],["T_STRING","promoQuoteIndex",172],["T_OBJECT_OPERATOR","->",172],["T_STRING","getPromoQuoteGrid",172],"(",")",["T_OBJECT_OPERATOR","->",172],["T_STRING","searchAndOpen",172],"(","[",["T_CONSTANT_ENCAPSED_STRING","'name'",172],["T_WHITESPACE"," ",172],["T_DOUBLE_ARROW","=>",172],["T_WHITESPACE"," ",172],["T_VARIABLE","$this",172],["T_OBJECT_OPERATOR","->",172],["T_STRING","salesRuleName",172],"]",")",";",["T_WHITESPACE","\n            ",172],["T_VARIABLE","$this",173],["T_OBJECT_OPERATOR","->",173],["T_STRING","promoQuoteEdit",173],["T_OBJECT_OPERATOR","->",173],["T_STRING","getFormPageActions",173],"(",")",["T_OBJECT_OPERATOR","->",173],["T_STRING","delete",173],"(",")",";",["T_WHITESPACE","\n            ",173],["T_VARIABLE","$this",174],["T_OBJECT_OPERATOR","->",174],["T_STRING","salesRuleName",174],["T_WHITESPACE"," ",174],"=",["T_WHITESPACE"," ",174],["T_STRING","null",174],";",["T_WHITESPACE","\n        ",174],"}",["T_WHITESPACE","\n    ",175],"}",["T_WHITESPACE","\n",176],"}",["T_WHITESPACE","\n",177]]