[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Magento\n *\n * NOTICE OF LICENSE\n *\n * This source file is subject to the Open Software License (OSL 3.0)\n * that is bundled with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/opensource.org\/licenses\/osl-3.0.php\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@magento.com so we can send you a copy immediately.\n *\n * DISCLAIMER\n *\n * Do not edit or add to this file if you wish to upgrade Magento to newer\n * versions in the future. If you wish to customize Magento for your\n * needs please refer to http:\/\/www.magento.com for more information.\n *\n * @category    Tests\n * @package     Tests_Functional\n * @copyright  Copyright (c) 2006-2016 X.commerce, Inc. and affiliates (http:\/\/www.magento.com)\n * @license    http:\/\/opensource.org\/licenses\/osl-3.0.php  Open Software License (OSL 3.0)\n *\/",2],["T_WHITESPACE","\n\n",25],["T_NAMESPACE","namespace",27],["T_WHITESPACE"," ",27],["T_STRING","Mage",27],["T_NS_SEPARATOR","\\",27],["T_STRING","Catalog",27],["T_NS_SEPARATOR","\\",27],["T_STRING","Test",27],["T_NS_SEPARATOR","\\",27],["T_STRING","Fixture",27],["T_NS_SEPARATOR","\\",27],["T_STRING","CatalogProductSimple",27],";",["T_WHITESPACE","\n\n",27],["T_USE","use",29],["T_WHITESPACE"," ",29],["T_STRING","Magento",29],["T_NS_SEPARATOR","\\",29],["T_STRING","Mtf",29],["T_NS_SEPARATOR","\\",29],["T_STRING","Config",29],["T_NS_SEPARATOR","\\",29],["T_STRING","DataInterface",29],";",["T_WHITESPACE","\n",29],["T_USE","use",30],["T_WHITESPACE"," ",30],["T_STRING","Magento",30],["T_NS_SEPARATOR","\\",30],["T_STRING","Mtf",30],["T_NS_SEPARATOR","\\",30],["T_STRING","Fixture",30],["T_NS_SEPARATOR","\\",30],["T_STRING","FixtureFactory",30],";",["T_WHITESPACE","\n",30],["T_USE","use",31],["T_WHITESPACE"," ",31],["T_STRING","Magento",31],["T_NS_SEPARATOR","\\",31],["T_STRING","Mtf",31],["T_NS_SEPARATOR","\\",31],["T_STRING","Fixture",31],["T_NS_SEPARATOR","\\",31],["T_STRING","FixtureInterface",31],";",["T_WHITESPACE","\n",31],["T_USE","use",32],["T_WHITESPACE"," ",32],["T_STRING","Magento",32],["T_NS_SEPARATOR","\\",32],["T_STRING","Mtf",32],["T_NS_SEPARATOR","\\",32],["T_STRING","Util",32],["T_NS_SEPARATOR","\\",32],["T_STRING","Protocol",32],["T_NS_SEPARATOR","\\",32],["T_STRING","CurlInterface",32],";",["T_WHITESPACE","\n",32],["T_USE","use",33],["T_WHITESPACE"," ",33],["T_STRING","Magento",33],["T_NS_SEPARATOR","\\",33],["T_STRING","Mtf",33],["T_NS_SEPARATOR","\\",33],["T_STRING","Util",33],["T_NS_SEPARATOR","\\",33],["T_STRING","Protocol",33],["T_NS_SEPARATOR","\\",33],["T_STRING","CurlTransport",33],";",["T_WHITESPACE","\n",33],["T_USE","use",34],["T_WHITESPACE"," ",34],["T_STRING","Magento",34],["T_NS_SEPARATOR","\\",34],["T_STRING","Mtf",34],["T_NS_SEPARATOR","\\",34],["T_STRING","Util",34],["T_NS_SEPARATOR","\\",34],["T_STRING","Protocol",34],["T_NS_SEPARATOR","\\",34],["T_STRING","CurlTransport",34],["T_NS_SEPARATOR","\\",34],["T_STRING","BackendDecorator",34],";",["T_WHITESPACE","\n",34],["T_USE","use",35],["T_WHITESPACE"," ",35],["T_STRING","Mage",35],["T_NS_SEPARATOR","\\",35],["T_STRING","Tax",35],["T_NS_SEPARATOR","\\",35],["T_STRING","Test",35],["T_NS_SEPARATOR","\\",35],["T_STRING","Fixture",35],["T_NS_SEPARATOR","\\",35],["T_STRING","TaxClass",35],["T_WHITESPACE"," ",35],["T_AS","as",35],["T_WHITESPACE"," ",35],["T_STRING","FixtureTaxClass",35],";",["T_WHITESPACE","\n\n",35],["T_DOC_COMMENT","\/**\n * Tax class preset.\n *\n * Data keys:\n *  - dataset\n *  - tax_product_class\n *\/",37],["T_WHITESPACE","\n",43],["T_CLASS","class",44],["T_WHITESPACE"," ",44],["T_STRING","TaxClass",44],["T_WHITESPACE"," ",44],["T_IMPLEMENTS","implements",44],["T_WHITESPACE"," ",44],["T_STRING","FixtureInterface",44],["T_WHITESPACE","\n",44],"{",["T_WHITESPACE","\n    ",45],["T_DOC_COMMENT","\/**\n     * Tax class id.\n     *\n     * @var int\n     *\/",46],["T_WHITESPACE","\n    ",50],["T_PROTECTED","protected",51],["T_WHITESPACE"," ",51],["T_VARIABLE","$taxClassId",51],";",["T_WHITESPACE","\n\n    ",51],["T_DOC_COMMENT","\/**\n     * Tax class name.\n     *\n     * @var string\n     *\/",53],["T_WHITESPACE","\n    ",57],["T_PROTECTED","protected",58],["T_WHITESPACE"," ",58],["T_VARIABLE","$data",58],["T_WHITESPACE"," ",58],"=",["T_WHITESPACE"," ",58],["T_CONSTANT_ENCAPSED_STRING","'None'",58],";",["T_WHITESPACE","\n\n    ",58],["T_DOC_COMMENT","\/**\n     * Tax class fixture.\n     *\n     * @var FixtureTaxClass\n     *\/",60],["T_WHITESPACE","\n    ",64],["T_PROTECTED","protected",65],["T_WHITESPACE"," ",65],["T_VARIABLE","$taxClass",65],";",["T_WHITESPACE","\n\n    ",65],["T_DOC_COMMENT","\/**\n     * Configuration data.\n     *\n     * @var DataInterface\n     *\/",67],["T_WHITESPACE","\n    ",71],["T_PROTECTED","protected",72],["T_WHITESPACE"," ",72],["T_VARIABLE","$configuration",72],";",["T_WHITESPACE","\n\n    ",72],["T_DOC_COMMENT","\/**\n     * @constructor\n     * @param FixtureFactory $fixtureFactory\n     * @param DataInterface $configuration\n     * @param array $params\n     * @param array|string $data [optional]\n     *\/",74],["T_WHITESPACE","\n    ",80],["T_PUBLIC","public",81],["T_WHITESPACE"," ",81],["T_FUNCTION","function",81],["T_WHITESPACE"," ",81],["T_STRING","__construct",81],"(",["T_STRING","FixtureFactory",81],["T_WHITESPACE"," ",81],["T_VARIABLE","$fixtureFactory",81],",",["T_WHITESPACE"," ",81],["T_STRING","DataInterface",81],["T_WHITESPACE"," ",81],["T_VARIABLE","$configuration",81],",",["T_WHITESPACE"," ",81],["T_ARRAY","array",81],["T_WHITESPACE"," ",81],["T_VARIABLE","$params",81],",",["T_WHITESPACE"," ",81],["T_VARIABLE","$data",81],["T_WHITESPACE"," ",81],"=",["T_WHITESPACE"," ",81],"[","]",")",["T_WHITESPACE","\n    ",81],"{",["T_WHITESPACE","\n        ",82],["T_VARIABLE","$this",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","params",83],["T_WHITESPACE"," ",83],"=",["T_WHITESPACE"," ",83],["T_VARIABLE","$params",83],";",["T_WHITESPACE","\n        ",83],["T_VARIABLE","$this",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","configuration",84],["T_WHITESPACE"," ",84],"=",["T_WHITESPACE"," ",84],["T_VARIABLE","$configuration",84],";",["T_WHITESPACE","\n        ",84],["T_IF","if",85],["T_WHITESPACE"," ",85],"(","(","!",["T_ISSET","isset",85],"(",["T_VARIABLE","$data",85],"[",["T_CONSTANT_ENCAPSED_STRING","'dataset'",85],"]",")",["T_WHITESPACE"," ",85],["T_BOOLEAN_AND","&&",85],["T_WHITESPACE"," ",85],"!",["T_ISSET","isset",85],"(",["T_VARIABLE","$data",85],"[",["T_CONSTANT_ENCAPSED_STRING","'tax_product_class'",85],"]",")",")",")",["T_WHITESPACE"," ",85],"{",["T_WHITESPACE","\n            ",85],["T_VARIABLE","$this",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","data",86],["T_WHITESPACE"," ",86],"=",["T_WHITESPACE"," ",86],["T_VARIABLE","$data",86],";",["T_WHITESPACE","\n            ",86],["T_RETURN","return",87],";",["T_WHITESPACE","\n        ",87],"}",["T_WHITESPACE","\n\n        ",88],["T_IF","if",90],["T_WHITESPACE"," ",90],"(",["T_ISSET","isset",90],"(",["T_VARIABLE","$data",90],"[",["T_CONSTANT_ENCAPSED_STRING","'dataset'",90],"]",")",")",["T_WHITESPACE"," ",90],"{",["T_WHITESPACE","\n            ",90],["T_VARIABLE","$this",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","taxClass",91],["T_WHITESPACE"," ",91],"=",["T_WHITESPACE"," ",91],["T_VARIABLE","$fixtureFactory",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","createByCode",91],"(",["T_CONSTANT_ENCAPSED_STRING","'taxClass'",91],",",["T_WHITESPACE"," ",91],"[",["T_CONSTANT_ENCAPSED_STRING","'dataset'",91],["T_WHITESPACE"," ",91],["T_DOUBLE_ARROW","=>",91],["T_WHITESPACE"," ",91],["T_VARIABLE","$data",91],"[",["T_CONSTANT_ENCAPSED_STRING","'dataset'",91],"]","]",")",";",["T_WHITESPACE","\n            ",91],["T_VARIABLE","$this",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","data",92],["T_WHITESPACE"," ",92],"=",["T_WHITESPACE"," ",92],["T_VARIABLE","$this",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","taxClass",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","getClassName",92],"(",")",";",["T_WHITESPACE","\n            ",92],["T_IF","if",93],["T_WHITESPACE"," ",93],"(","!",["T_VARIABLE","$this",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","taxClass",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","hasData",93],"(",["T_CONSTANT_ENCAPSED_STRING","'id'",93],")",")",["T_WHITESPACE"," ",93],"{",["T_WHITESPACE","\n                ",93],["T_VARIABLE","$this",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","taxClass",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","persist",94],"(",")",";",["T_WHITESPACE","\n            ",94],"}",["T_WHITESPACE","\n        ",95],"}",["T_WHITESPACE","\n\n        ",96],["T_IF","if",98],["T_WHITESPACE"," ",98],"(",["T_ISSET","isset",98],"(",["T_VARIABLE","$data",98],"[",["T_CONSTANT_ENCAPSED_STRING","'tax_product_class'",98],"]",")",["T_WHITESPACE"," ",98],["T_BOOLEAN_AND","&&",98],["T_WHITESPACE"," ",98],["T_VARIABLE","$data",98],"[",["T_CONSTANT_ENCAPSED_STRING","'tax_product_class'",98],"]",["T_WHITESPACE"," ",98],["T_INSTANCEOF","instanceof",98],["T_WHITESPACE"," ",98],["T_STRING","FixtureTaxClass",98],")",["T_WHITESPACE"," ",98],"{",["T_WHITESPACE","\n            ",98],["T_VARIABLE","$this",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","taxClass",99],["T_WHITESPACE"," ",99],"=",["T_WHITESPACE"," ",99],["T_VARIABLE","$data",99],"[",["T_CONSTANT_ENCAPSED_STRING","'tax_product_class'",99],"]",";",["T_WHITESPACE","\n            ",99],["T_VARIABLE","$this",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","data",100],["T_WHITESPACE"," ",100],"=",["T_WHITESPACE"," ",100],["T_VARIABLE","$this",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","taxClass",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","getClassName",100],"(",")",";",["T_WHITESPACE","\n        ",100],"}",["T_WHITESPACE","\n\n        ",101],["T_IF","if",103],["T_WHITESPACE"," ",103],"(",["T_VARIABLE","$this",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","taxClass",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","hasData",103],"(",["T_CONSTANT_ENCAPSED_STRING","'id'",103],")",")",["T_WHITESPACE"," ",103],"{",["T_WHITESPACE","\n            ",103],["T_VARIABLE","$this",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","taxClassId",104],["T_WHITESPACE"," ",104],"=",["T_WHITESPACE"," ",104],["T_VARIABLE","$this",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","taxClass",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","getId",104],"(",")",";",["T_WHITESPACE","\n        ",104],"}",["T_WHITESPACE"," ",105],["T_ELSE","else",105],["T_WHITESPACE"," ",105],"{",["T_WHITESPACE","\n            ",105],["T_VARIABLE","$this",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","setTaxClassId",106],"(",["T_VARIABLE","$this",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","data",106],")",";",["T_WHITESPACE","\n        ",106],"}",["T_WHITESPACE","\n    ",107],"}",["T_WHITESPACE","\n\n    ",108],["T_DOC_COMMENT","\/**\n     * Set tax class id.\n     *\n     * @param string $taxClassName\n     * @return void\n     * @throws \\Exception\n     *\/",110],["T_WHITESPACE","\n    ",116],["T_PROTECTED","protected",117],["T_WHITESPACE"," ",117],["T_FUNCTION","function",117],["T_WHITESPACE"," ",117],["T_STRING","setTaxClassId",117],"(",["T_VARIABLE","$taxClassName",117],")",["T_WHITESPACE","\n    ",117],"{",["T_WHITESPACE","\n        ",118],["T_VARIABLE","$url",119],["T_WHITESPACE"," ",119],"=",["T_WHITESPACE"," ",119],["T_VARIABLE","$_ENV",119],"[",["T_CONSTANT_ENCAPSED_STRING","'app_backend_url'",119],"]",["T_WHITESPACE"," ",119],".",["T_WHITESPACE"," ",119],["T_CONSTANT_ENCAPSED_STRING","'tax\/rule\/new\/'",119],";",["T_WHITESPACE","\n        ",119],["T_VARIABLE","$curl",120],["T_WHITESPACE"," ",120],"=",["T_WHITESPACE"," ",120],["T_NEW","new",120],["T_WHITESPACE"," ",120],["T_STRING","BackendDecorator",120],"(",["T_NEW","new",120],["T_WHITESPACE"," ",120],["T_STRING","CurlTransport",120],"(",")",",",["T_WHITESPACE"," ",120],["T_VARIABLE","$this",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","configuration",120],")",";",["T_WHITESPACE","\n        ",120],["T_VARIABLE","$curl",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","addOption",121],"(",["T_STRING","CURLOPT_HEADER",121],",",["T_WHITESPACE"," ",121],["T_LNUMBER","1",121],")",";",["T_WHITESPACE","\n        ",121],["T_VARIABLE","$curl",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","write",122],"(",["T_VARIABLE","$url",122],")",";",["T_WHITESPACE","\n        ",122],["T_VARIABLE","$response",123],["T_WHITESPACE"," ",123],"=",["T_WHITESPACE"," ",123],["T_VARIABLE","$curl",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","read",123],"(",")",";",["T_WHITESPACE","\n        ",123],["T_VARIABLE","$curl",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","close",124],"(",")",";",["T_WHITESPACE","\n\n        ",124],["T_STRING","preg_match",126],"(",["T_CONSTANT_ENCAPSED_STRING","'~<option value=\"(\\d+)\".*>'",126],["T_WHITESPACE"," ",126],".",["T_WHITESPACE"," ",126],["T_VARIABLE","$taxClassName",126],["T_WHITESPACE"," ",126],".",["T_WHITESPACE"," ",126],["T_CONSTANT_ENCAPSED_STRING","'<\/option>~'",126],",",["T_WHITESPACE"," ",126],["T_VARIABLE","$response",126],",",["T_WHITESPACE"," ",126],["T_VARIABLE","$matches",126],")",";",["T_WHITESPACE","\n        ",126],["T_IF","if",127],["T_WHITESPACE"," ",127],"(","!",["T_ISSET","isset",127],"(",["T_VARIABLE","$matches",127],"[",["T_LNUMBER","1",127],"]",")",["T_WHITESPACE"," ",127],["T_BOOLEAN_OR","||",127],["T_WHITESPACE"," ",127],["T_EMPTY","empty",127],"(",["T_VARIABLE","$matches",127],"[",["T_LNUMBER","1",127],"]",")",")",["T_WHITESPACE"," ",127],"{",["T_WHITESPACE","\n            ",127],["T_THROW","throw",128],["T_WHITESPACE"," ",128],["T_NEW","new",128],["T_WHITESPACE"," ",128],["T_NS_SEPARATOR","\\",128],["T_STRING","Exception",128],"(",["T_CONSTANT_ENCAPSED_STRING","'Product tax class id '",128],["T_WHITESPACE"," ",128],".",["T_WHITESPACE"," ",128],["T_VARIABLE","$taxClassName",128],["T_WHITESPACE"," ",128],".",["T_WHITESPACE"," ",128],["T_CONSTANT_ENCAPSED_STRING","' undefined!'",128],")",";",["T_WHITESPACE","\n        ",128],"}",["T_WHITESPACE","\n\n        ",129],["T_VARIABLE","$this",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","taxClassId",131],["T_WHITESPACE"," ",131],"=",["T_WHITESPACE"," ",131],["T_INT_CAST","(int)",131],["T_VARIABLE","$matches",131],"[",["T_LNUMBER","1",131],"]",";",["T_WHITESPACE","\n    ",131],"}",["T_WHITESPACE","\n\n    ",132],["T_DOC_COMMENT","\/**\n     * Persist custom selections tax classes.\n     *\n     * @return void\n     *\/",134],["T_WHITESPACE","\n    ",138],["T_PUBLIC","public",139],["T_WHITESPACE"," ",139],["T_FUNCTION","function",139],["T_WHITESPACE"," ",139],["T_STRING","persist",139],"(",")",["T_WHITESPACE","\n    ",139],"{",["T_WHITESPACE","\n        ",140],["T_COMMENT","\/\/\n",141],["T_WHITESPACE","    ",142],"}",["T_WHITESPACE","\n\n    ",142],["T_DOC_COMMENT","\/**\n     * Return prepared data set.\n     *\n     * @param string|null $key\n     * @return string\n     *\n     * @SuppressWarnings(PHPMD.UnusedFormalParameter)\n     *\/",144],["T_WHITESPACE","\n    ",151],["T_PUBLIC","public",152],["T_WHITESPACE"," ",152],["T_FUNCTION","function",152],["T_WHITESPACE"," ",152],["T_STRING","getData",152],"(",["T_VARIABLE","$key",152],["T_WHITESPACE"," ",152],"=",["T_WHITESPACE"," ",152],["T_STRING","null",152],")",["T_WHITESPACE","\n    ",152],"{",["T_WHITESPACE","\n        ",153],["T_RETURN","return",154],["T_WHITESPACE"," ",154],["T_VARIABLE","$this",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","data",154],";",["T_WHITESPACE","\n    ",154],"}",["T_WHITESPACE","\n\n    ",155],["T_DOC_COMMENT","\/**\n     * Return data set configuration settings.\n     *\n     * @return array\n     *\/",157],["T_WHITESPACE","\n    ",161],["T_PUBLIC","public",162],["T_WHITESPACE"," ",162],["T_FUNCTION","function",162],["T_WHITESPACE"," ",162],["T_STRING","getDataConfig",162],"(",")",["T_WHITESPACE","\n    ",162],"{",["T_WHITESPACE","\n        ",163],["T_RETURN","return",164],["T_WHITESPACE"," ",164],["T_VARIABLE","$this",164],["T_OBJECT_OPERATOR","->",164],["T_STRING","params",164],";",["T_WHITESPACE","\n    ",164],"}",["T_WHITESPACE","\n\n    ",165],["T_DOC_COMMENT","\/**\n     * Return tax class fixture.\n     *\n     * @return FixtureTaxClass\n     *\/",167],["T_WHITESPACE","\n    ",171],["T_PUBLIC","public",172],["T_WHITESPACE"," ",172],["T_FUNCTION","function",172],["T_WHITESPACE"," ",172],["T_STRING","getTaxClass",172],"(",")",["T_WHITESPACE","\n    ",172],"{",["T_WHITESPACE","\n        ",173],["T_RETURN","return",174],["T_WHITESPACE"," ",174],["T_VARIABLE","$this",174],["T_OBJECT_OPERATOR","->",174],["T_STRING","taxClass",174],";",["T_WHITESPACE","\n    ",174],"}",["T_WHITESPACE","\n\n    ",175],["T_DOC_COMMENT","\/**\n     * Return tax class id.\n     *\n     * @return int\n     *\/",177],["T_WHITESPACE","\n    ",181],["T_PUBLIC","public",182],["T_WHITESPACE"," ",182],["T_FUNCTION","function",182],["T_WHITESPACE"," ",182],["T_STRING","getTaxClassId",182],"(",")",["T_WHITESPACE","\n    ",182],"{",["T_WHITESPACE","\n        ",183],["T_RETURN","return",184],["T_WHITESPACE"," ",184],["T_INT_CAST","(int)",184],["T_VARIABLE","$this",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","taxClassId",184],";",["T_WHITESPACE","\n    ",184],"}",["T_WHITESPACE","\n",185],"}",["T_WHITESPACE","\n",186]]