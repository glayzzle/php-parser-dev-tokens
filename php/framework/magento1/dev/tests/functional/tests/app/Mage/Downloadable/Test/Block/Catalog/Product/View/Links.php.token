[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Magento\n *\n * NOTICE OF LICENSE\n *\n * This source file is subject to the Open Software License (OSL 3.0)\n * that is bundled with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/opensource.org\/licenses\/osl-3.0.php\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@magento.com so we can send you a copy immediately.\n *\n * DISCLAIMER\n *\n * Do not edit or add to this file if you wish to upgrade Magento to newer\n * versions in the future. If you wish to customize Magento for your\n * needs please refer to http:\/\/www.magento.com for more information.\n *\n * @category    Tests\n * @package     Tests_Functional\n * @copyright  Copyright (c) 2006-2016 X.commerce, Inc. and affiliates (http:\/\/www.magento.com)\n * @license    http:\/\/opensource.org\/licenses\/osl-3.0.php  Open Software License (OSL 3.0)\n *\/",2],["T_WHITESPACE","\n\n",25],["T_NAMESPACE","namespace",27],["T_WHITESPACE"," ",27],["T_STRING","Mage",27],["T_NS_SEPARATOR","\\",27],["T_STRING","Downloadable",27],["T_NS_SEPARATOR","\\",27],["T_STRING","Test",27],["T_NS_SEPARATOR","\\",27],["T_STRING","Block",27],["T_NS_SEPARATOR","\\",27],["T_STRING","Catalog",27],["T_NS_SEPARATOR","\\",27],["T_STRING","Product",27],["T_NS_SEPARATOR","\\",27],["T_STRING","View",27],";",["T_WHITESPACE","\n\n",27],["T_USE","use",29],["T_WHITESPACE"," ",29],["T_STRING","Magento",29],["T_NS_SEPARATOR","\\",29],["T_STRING","Mtf",29],["T_NS_SEPARATOR","\\",29],["T_STRING","Block",29],["T_NS_SEPARATOR","\\",29],["T_STRING","Block",29],";",["T_WHITESPACE","\n",29],["T_USE","use",30],["T_WHITESPACE"," ",30],["T_STRING","Magento",30],["T_NS_SEPARATOR","\\",30],["T_STRING","Mtf",30],["T_NS_SEPARATOR","\\",30],["T_STRING","Client",30],["T_NS_SEPARATOR","\\",30],["T_STRING","Locator",30],";",["T_WHITESPACE","\n\n",30],["T_DOC_COMMENT","\/**\n * Downloadable links blocks on frontend.\n *\n * @SuppressWarnings(PHPMD.NPathComplexity)\n *\/",32],["T_WHITESPACE","\n",36],["T_CLASS","class",37],["T_WHITESPACE"," ",37],["T_STRING","Links",37],["T_WHITESPACE"," ",37],["T_EXTENDS","extends",37],["T_WHITESPACE"," ",37],["T_STRING","Block",37],["T_WHITESPACE","\n",37],"{",["T_WHITESPACE","\n    ",38],["T_DOC_COMMENT","\/**\n     * Selector title for for links.\n     *\n     * @var string\n     *\/",39],["T_WHITESPACE","\n    ",43],["T_PROTECTED","protected",44],["T_WHITESPACE"," ",44],["T_VARIABLE","$title",44],["T_WHITESPACE"," ",44],"=",["T_WHITESPACE"," ",44],["T_CONSTANT_ENCAPSED_STRING","'\/\/div[contains(@id,\"product-options-wrapper\")]\/\/label[@class=\"required\"]'",44],";",["T_WHITESPACE","\n\n    ",44],["T_DOC_COMMENT","\/**\n     * Selector for link by label.\n     *\n     * @var string\n     *\/",46],["T_WHITESPACE","\n    ",50],["T_PROTECTED","protected",51],["T_WHITESPACE"," ",51],["T_VARIABLE","$linkByLabel",51],["T_WHITESPACE"," ",51],"=",["T_WHITESPACE"," ",51],["T_CONSTANT_ENCAPSED_STRING","'.\/\/input[@type=\"checkbox\" and (.\/..\/span\/label[contains(text(),\"%s\")])]'",51],";",["T_WHITESPACE","\n\n    ",51],["T_DOC_COMMENT","\/**\n     * Choice link selector.\n     *\n     * @var string\n     *\/",53],["T_WHITESPACE","\n    ",57],["T_PROTECTED","protected",58],["T_WHITESPACE"," ",58],["T_VARIABLE","$choiceLink",58],["T_WHITESPACE"," ",58],"=",["T_WHITESPACE"," ",58],["T_CONSTANT_ENCAPSED_STRING","'.\/\/*[contains(@id,\"downloadable-links-list\")]\/\/li'",58],";",["T_WHITESPACE","\n\n    ",58],["T_DOC_COMMENT","\/**\n     * Checkbox selector item links.\n     *\n     * @var string\n     *\/",60],["T_WHITESPACE","\n    ",64],["T_PROTECTED","protected",65],["T_WHITESPACE"," ",65],["T_VARIABLE","$separatelyForChoice",65],["T_WHITESPACE"," ",65],"=",["T_WHITESPACE"," ",65],["T_CONSTANT_ENCAPSED_STRING","'input[type=\"checkbox\"]'",65],";",["T_WHITESPACE","\n\n    ",65],["T_DOC_COMMENT","\/**\n     * Checkbox selector item links.\n     *\n     * @var string\n     *\/",67],["T_WHITESPACE","\n    ",71],["T_PROTECTED","protected",72],["T_WHITESPACE"," ",72],["T_VARIABLE","$linkForChoice",72],["T_WHITESPACE"," ",72],"=",["T_WHITESPACE"," ",72],["T_CONSTANT_ENCAPSED_STRING","'span>label:first-child'",72],";",["T_WHITESPACE","\n\n    ",72],["T_DOC_COMMENT","\/**\n     * Checkbox selector item links.\n     *\n     * @var string\n     *\/",74],["T_WHITESPACE","\n    ",78],["T_PROTECTED","protected",79],["T_WHITESPACE"," ",79],["T_VARIABLE","$sampleLinkForChoice",79],["T_WHITESPACE"," ",79],"=",["T_WHITESPACE"," ",79],["T_CONSTANT_ENCAPSED_STRING","'li span>a'",79],";",["T_WHITESPACE","\n\n    ",79],["T_DOC_COMMENT","\/**\n     * Checkbox selector item links.\n     *\n     * @var string\n     *\/",81],["T_WHITESPACE","\n    ",85],["T_PROTECTED","protected",86],["T_WHITESPACE"," ",86],["T_VARIABLE","$priceForChoice",86],["T_WHITESPACE"," ",86],"=",["T_WHITESPACE"," ",86],["T_CONSTANT_ENCAPSED_STRING","'.price-notice'",86],";",["T_WHITESPACE","\n\n    ",86],["T_DOC_COMMENT","\/**\n     * Checkbox selector item links.\n     *\n     * @var string\n     *\/",88],["T_WHITESPACE","\n    ",92],["T_PROTECTED","protected",93],["T_WHITESPACE"," ",93],["T_VARIABLE","$priceAdjustmentsForChoice",93],["T_WHITESPACE"," ",93],"=",["T_WHITESPACE"," ",93],["T_CONSTANT_ENCAPSED_STRING","'.price-adjustments .price'",93],";",["T_WHITESPACE","\n\n    ",93],["T_DOC_COMMENT","\/**\n     * Get title for links block.\n     *\n     * @return string\n     *\/",95],["T_WHITESPACE","\n    ",99],["T_PUBLIC","public",100],["T_WHITESPACE"," ",100],["T_FUNCTION","function",100],["T_WHITESPACE"," ",100],["T_STRING","getTitle",100],"(",")",["T_WHITESPACE","\n    ",100],"{",["T_WHITESPACE","\n        ",101],["T_RETURN","return",102],["T_WHITESPACE"," ",102],["T_VARIABLE","$this",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","_rootElement",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","find",102],"(",["T_VARIABLE","$this",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","title",102],",",["T_WHITESPACE"," ",102],["T_STRING","Locator",102],["T_DOUBLE_COLON","::",102],["T_STRING","SELECTOR_XPATH",102],")",["T_OBJECT_OPERATOR","->",102],["T_STRING","getText",102],"(",")",";",["T_WHITESPACE","\n    ",102],"}",["T_WHITESPACE","\n\n    ",103],["T_DOC_COMMENT","\/**\n     * Fill links on product view page.\n     *\n     * @param array $data\n     * @return void\n     *\/",105],["T_WHITESPACE","\n    ",110],["T_PUBLIC","public",111],["T_WHITESPACE"," ",111],["T_FUNCTION","function",111],["T_WHITESPACE"," ",111],["T_STRING","fill",111],"(",["T_ARRAY","array",111],["T_WHITESPACE"," ",111],["T_VARIABLE","$data",111],")",["T_WHITESPACE","\n    ",111],"{",["T_WHITESPACE","\n        ",112],["T_FOREACH","foreach",113],["T_WHITESPACE"," ",113],"(",["T_VARIABLE","$data",113],["T_WHITESPACE"," ",113],["T_AS","as",113],["T_WHITESPACE"," ",113],["T_VARIABLE","$linkData",113],")",["T_WHITESPACE"," ",113],"{",["T_WHITESPACE","\n            ",113],["T_VARIABLE","$selector",114],["T_WHITESPACE"," ",114],"=",["T_WHITESPACE"," ",114],["T_STRING","sprintf",114],"(",["T_VARIABLE","$this",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","linkByLabel",114],",",["T_WHITESPACE"," ",114],["T_VARIABLE","$linkData",114],"[",["T_CONSTANT_ENCAPSED_STRING","'label'",114],"]",")",";",["T_WHITESPACE","\n            ",114],["T_VARIABLE","$this",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","_rootElement",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","find",115],"(",["T_VARIABLE","$selector",115],",",["T_WHITESPACE"," ",115],["T_STRING","Locator",115],["T_DOUBLE_COLON","::",115],["T_STRING","SELECTOR_XPATH",115],",",["T_WHITESPACE"," ",115],["T_CONSTANT_ENCAPSED_STRING","'checkbox'",115],")",["T_OBJECT_OPERATOR","->",115],["T_STRING","setValue",115],"(",["T_VARIABLE","$linkData",115],"[",["T_CONSTANT_ENCAPSED_STRING","'value'",115],"]",")",";",["T_WHITESPACE","\n        ",115],"}",["T_WHITESPACE","\n    ",116],"}",["T_WHITESPACE","\n\n    ",117],["T_DOC_COMMENT","\/**\n     * Return links data on product page view.\n     *\n     * @return array\n     *\/",119],["T_WHITESPACE","\n    ",123],["T_PUBLIC","public",124],["T_WHITESPACE"," ",124],["T_FUNCTION","function",124],["T_WHITESPACE"," ",124],["T_STRING","getLinks",124],"(",")",["T_WHITESPACE","\n    ",124],"{",["T_WHITESPACE","\n        ",125],["T_VARIABLE","$linksData",126],["T_WHITESPACE"," ",126],"=",["T_WHITESPACE"," ",126],"[","]",";",["T_WHITESPACE","\n\n        ",126],["T_VARIABLE","$choiceLinks",128],["T_WHITESPACE"," ",128],"=",["T_WHITESPACE"," ",128],["T_VARIABLE","$this",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","_rootElement",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","getElements",128],"(",["T_VARIABLE","$this",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","choiceLink",128],",",["T_WHITESPACE"," ",128],["T_STRING","Locator",128],["T_DOUBLE_COLON","::",128],["T_STRING","SELECTOR_XPATH",128],")",";",["T_WHITESPACE","\n        ",128],["T_FOREACH","foreach",129],["T_WHITESPACE"," ",129],"(",["T_VARIABLE","$choiceLinks",129],["T_WHITESPACE"," ",129],["T_AS","as",129],["T_WHITESPACE"," ",129],["T_VARIABLE","$choiceLink",129],")",["T_WHITESPACE"," ",129],"{",["T_WHITESPACE","\n            ",129],["T_VARIABLE","$link",130],["T_WHITESPACE"," ",130],"=",["T_WHITESPACE"," ",130],["T_VARIABLE","$choiceLink",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","find",130],"(",["T_VARIABLE","$this",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","linkForChoice",130],")",";",["T_WHITESPACE","\n            ",130],["T_VARIABLE","$sample",131],["T_WHITESPACE"," ",131],"=",["T_WHITESPACE"," ",131],["T_VARIABLE","$choiceLink",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","find",131],"(",["T_VARIABLE","$this",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","sampleLinkForChoice",131],")",";",["T_WHITESPACE","\n            ",131],["T_VARIABLE","$price",132],["T_WHITESPACE"," ",132],"=",["T_WHITESPACE"," ",132],["T_VARIABLE","$choiceLink",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","find",132],"(",["T_VARIABLE","$this",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","priceForChoice",132],")",";",["T_WHITESPACE","\n            ",132],["T_VARIABLE","$priceAdjustments",133],["T_WHITESPACE"," ",133],"=",["T_WHITESPACE"," ",133],["T_VARIABLE","$choiceLink",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","find",133],"(",["T_VARIABLE","$this",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","priceAdjustmentsForChoice",133],")",";",["T_WHITESPACE","\n\n            ",133],["T_VARIABLE","$linkData",135],["T_WHITESPACE"," ",135],"=",["T_WHITESPACE"," ",135],"[",["T_WHITESPACE","\n                ",135],["T_CONSTANT_ENCAPSED_STRING","'links_purchased_separately'",136],["T_WHITESPACE"," ",136],["T_DOUBLE_ARROW","=>",136],["T_WHITESPACE"," ",136],["T_VARIABLE","$choiceLink",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","find",136],"(",["T_VARIABLE","$this",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","separatelyForChoice",136],")",["T_OBJECT_OPERATOR","->",136],["T_STRING","isVisible",136],"(",")",["T_WHITESPACE","\n                    ",136],"?",["T_WHITESPACE"," ",137],["T_CONSTANT_ENCAPSED_STRING","'Yes'",137],["T_WHITESPACE","\n                    ",137],":",["T_WHITESPACE"," ",138],["T_CONSTANT_ENCAPSED_STRING","'No'",138],",",["T_WHITESPACE","\n                ",138],["T_CONSTANT_ENCAPSED_STRING","'title'",139],["T_WHITESPACE"," ",139],["T_DOUBLE_ARROW","=>",139],["T_WHITESPACE"," ",139],["T_VARIABLE","$link",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","isVisible",139],"(",")",["T_WHITESPACE"," ",139],"?",["T_WHITESPACE"," ",139],["T_VARIABLE","$link",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","getText",139],"(",")",["T_WHITESPACE"," ",139],":",["T_WHITESPACE"," ",139],["T_STRING","null",139],",",["T_WHITESPACE","\n                ",139],["T_CONSTANT_ENCAPSED_STRING","'sample'",140],["T_WHITESPACE"," ",140],["T_DOUBLE_ARROW","=>",140],["T_WHITESPACE"," ",140],["T_VARIABLE","$sample",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","isVisible",140],"(",")",["T_WHITESPACE"," ",140],"?",["T_WHITESPACE"," ",140],["T_VARIABLE","$sample",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","getText",140],"(",")",["T_WHITESPACE"," ",140],":",["T_WHITESPACE"," ",140],["T_STRING","null",140],",",["T_WHITESPACE","\n                ",140],["T_CONSTANT_ENCAPSED_STRING","'price'",141],["T_WHITESPACE"," ",141],["T_DOUBLE_ARROW","=>",141],["T_WHITESPACE"," ",141],["T_VARIABLE","$price",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","isVisible",141],"(",")",["T_WHITESPACE"," ",141],"?",["T_WHITESPACE"," ",141],["T_VARIABLE","$this",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","escapePrice",141],"(",["T_VARIABLE","$price",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","getText",141],"(",")",")",["T_WHITESPACE"," ",141],":",["T_WHITESPACE"," ",141],["T_STRING","null",141],",",["T_WHITESPACE","\n                ",141],["T_CONSTANT_ENCAPSED_STRING","'price_adjustments'",142],["T_WHITESPACE"," ",142],["T_DOUBLE_ARROW","=>",142],["T_WHITESPACE"," ",142],["T_VARIABLE","$priceAdjustments",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","isVisible",142],"(",")",["T_WHITESPACE","\n                    ",142],"?",["T_WHITESPACE"," ",143],["T_VARIABLE","$this",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","escapePrice",143],"(",["T_VARIABLE","$priceAdjustments",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","getText",143],"(",")",")",["T_WHITESPACE","\n                    ",143],":",["T_WHITESPACE"," ",144],["T_STRING","null",144],",",["T_WHITESPACE","\n            ",144],"]",";",["T_WHITESPACE","\n\n            ",145],["T_VARIABLE","$linksData",147],"[","]",["T_WHITESPACE"," ",147],"=",["T_WHITESPACE"," ",147],["T_STRING","array_filter",147],"(",["T_VARIABLE","$linkData",147],")",";",["T_WHITESPACE","\n        ",147],"}",["T_WHITESPACE","\n\n        ",148],["T_RETURN","return",150],["T_WHITESPACE"," ",150],["T_VARIABLE","$linksData",150],";",["T_WHITESPACE","\n    ",150],"}",["T_WHITESPACE","\n\n    ",151],["T_DOC_COMMENT","\/**\n     * Escape currency for price.\n     *\n     * @param string $price\n     * @return string\n     *\/",153],["T_WHITESPACE","\n    ",158],["T_PROTECTED","protected",159],["T_WHITESPACE"," ",159],["T_FUNCTION","function",159],["T_WHITESPACE"," ",159],["T_STRING","escapePrice",159],"(",["T_VARIABLE","$price",159],")",["T_WHITESPACE","\n    ",159],"{",["T_WHITESPACE","\n        ",160],["T_RETURN","return",161],["T_WHITESPACE"," ",161],["T_STRING","preg_replace",161],"(",["T_CONSTANT_ENCAPSED_STRING","'\/[^0-9\\.,]\/'",161],",",["T_WHITESPACE"," ",161],["T_CONSTANT_ENCAPSED_STRING","''",161],",",["T_WHITESPACE"," ",161],["T_VARIABLE","$price",161],")",";",["T_WHITESPACE","\n    ",161],"}",["T_WHITESPACE","\n",162],"}",["T_WHITESPACE","\n",163]]