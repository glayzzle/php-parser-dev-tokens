[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Magento\n *\n * NOTICE OF LICENSE\n *\n * This source file is subject to the Open Software License (OSL 3.0)\n * that is bundled with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/opensource.org\/licenses\/osl-3.0.php\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@magento.com so we can send you a copy immediately.\n *\n * DISCLAIMER\n *\n * Do not edit or add to this file if you wish to upgrade Magento to newer\n * versions in the future. If you wish to customize Magento for your\n * needs please refer to http:\/\/www.magento.com for more information.\n *\n * @category    Tests\n * @package     Tests_Functional\n * @copyright  Copyright (c) 2006-2016 X.commerce, Inc. and affiliates (http:\/\/www.magento.com)\n * @license    http:\/\/opensource.org\/licenses\/osl-3.0.php  Open Software License (OSL 3.0)\n *\/",2],["T_WHITESPACE","\n\n",25],["T_NAMESPACE","namespace",27],["T_WHITESPACE"," ",27],["T_STRING","Mage",27],["T_NS_SEPARATOR","\\",27],["T_STRING","Checkout",27],["T_NS_SEPARATOR","\\",27],["T_STRING","Test",27],["T_NS_SEPARATOR","\\",27],["T_STRING","Block",27],["T_NS_SEPARATOR","\\",27],["T_STRING","Cart",27],";",["T_WHITESPACE","\n\n",27],["T_USE","use",29],["T_WHITESPACE"," ",29],["T_STRING","Magento",29],["T_NS_SEPARATOR","\\",29],["T_STRING","Mtf",29],["T_NS_SEPARATOR","\\",29],["T_STRING","Block",29],["T_NS_SEPARATOR","\\",29],["T_STRING","Block",29],";",["T_WHITESPACE","\n",29],["T_USE","use",30],["T_WHITESPACE"," ",30],["T_STRING","Magento",30],["T_NS_SEPARATOR","\\",30],["T_STRING","Mtf",30],["T_NS_SEPARATOR","\\",30],["T_STRING","Client",30],["T_NS_SEPARATOR","\\",30],["T_STRING","Locator",30],";",["T_WHITESPACE","\n\n",30],["T_DOC_COMMENT","\/**\n * Cart totals block.\n *\/",32],["T_WHITESPACE","\n",34],["T_CLASS","class",35],["T_WHITESPACE"," ",35],["T_STRING","Totals",35],["T_WHITESPACE"," ",35],["T_EXTENDS","extends",35],["T_WHITESPACE"," ",35],["T_STRING","Block",35],["T_WHITESPACE","\n",35],"{",["T_WHITESPACE","\n    ",36],["T_DOC_COMMENT","\/**\n     * Verifiable fields.\n     *\n     * @var array\n     *\/",37],["T_WHITESPACE","\n    ",41],["T_PROTECTED","protected",42],["T_WHITESPACE"," ",42],["T_VARIABLE","$fieldType",42],["T_WHITESPACE"," ",42],"=",["T_WHITESPACE"," ",42],"[",["T_WHITESPACE","\n        ",42],["T_CONSTANT_ENCAPSED_STRING","'grand_total'",43],["T_WHITESPACE"," ",43],["T_DOUBLE_ARROW","=>",43],["T_WHITESPACE"," ",43],"[",["T_WHITESPACE","\n            ",43],["T_CONSTANT_ENCAPSED_STRING","'selector'",44],["T_WHITESPACE"," ",44],["T_DOUBLE_ARROW","=>",44],["T_WHITESPACE"," ",44],["T_CONSTANT_ENCAPSED_STRING","'\/\/tr[normalize-space(td)=\"Grand Total\"]\/\/span'",44],",",["T_WHITESPACE","\n            ",44],["T_CONSTANT_ENCAPSED_STRING","'is_required'",45],["T_WHITESPACE","\n        ",45],"]",",",["T_WHITESPACE","\n        ",46],["T_CONSTANT_ENCAPSED_STRING","'subtotal'",47],["T_WHITESPACE"," ",47],["T_DOUBLE_ARROW","=>",47],["T_WHITESPACE"," ",47],"[",["T_WHITESPACE","\n            ",47],["T_CONSTANT_ENCAPSED_STRING","'selector'",48],["T_WHITESPACE"," ",48],["T_DOUBLE_ARROW","=>",48],["T_WHITESPACE"," ",48],["T_CONSTANT_ENCAPSED_STRING","'\/\/tr[normalize-space(td)=\"Subtotal\"]\/\/span'",48],",",["T_WHITESPACE","\n            ",48],["T_CONSTANT_ENCAPSED_STRING","'is_required'",49],["T_WHITESPACE","\n        ",49],"]",",",["T_WHITESPACE","\n        ",50],["T_CONSTANT_ENCAPSED_STRING","'subtotal_excl_tax'",51],["T_WHITESPACE"," ",51],["T_DOUBLE_ARROW","=>",51],["T_WHITESPACE"," ",51],"[",["T_WHITESPACE","\n            ",51],["T_CONSTANT_ENCAPSED_STRING","'selector'",52],["T_WHITESPACE"," ",52],["T_DOUBLE_ARROW","=>",52],["T_WHITESPACE"," ",52],["T_CONSTANT_ENCAPSED_STRING","'\/\/tr[normalize-space(td)=\"Subtotal (Excl. Tax)\"]\/\/span'",52],",",["T_WHITESPACE","\n            ",52],["T_CONSTANT_ENCAPSED_STRING","'is_required'",53],["T_WHITESPACE","\n        ",53],"]",",",["T_WHITESPACE","\n        ",54],["T_CONSTANT_ENCAPSED_STRING","'subtotal_incl_tax'",55],["T_WHITESPACE"," ",55],["T_DOUBLE_ARROW","=>",55],["T_WHITESPACE"," ",55],"[",["T_WHITESPACE","\n            ",55],["T_CONSTANT_ENCAPSED_STRING","'selector'",56],["T_WHITESPACE"," ",56],["T_DOUBLE_ARROW","=>",56],["T_WHITESPACE"," ",56],["T_CONSTANT_ENCAPSED_STRING","'\/\/tr[normalize-space(td)=\"Subtotal (Incl. Tax)\"]\/\/span'",56],",",["T_WHITESPACE","\n            ",56],["T_CONSTANT_ENCAPSED_STRING","'is_required'",57],["T_WHITESPACE","\n        ",57],"]",",",["T_WHITESPACE","\n        ",58],["T_CONSTANT_ENCAPSED_STRING","'discount'",59],["T_WHITESPACE"," ",59],["T_DOUBLE_ARROW","=>",59],["T_WHITESPACE"," ",59],"[",["T_WHITESPACE","\n            ",59],["T_CONSTANT_ENCAPSED_STRING","'selector'",60],["T_WHITESPACE"," ",60],["T_DOUBLE_ARROW","=>",60],["T_WHITESPACE"," ",60],["T_CONSTANT_ENCAPSED_STRING","'\/\/tr[td[contains(text(),\"Discount\")]]\/\/span'",60],["T_WHITESPACE","\n        ",60],"]",",",["T_WHITESPACE","\n        ",61],["T_CONSTANT_ENCAPSED_STRING","'shipping_excl_tax'",62],["T_WHITESPACE"," ",62],["T_DOUBLE_ARROW","=>",62],["T_WHITESPACE"," ",62],"[",["T_WHITESPACE","\n            ",62],["T_CONSTANT_ENCAPSED_STRING","'selector'",63],["T_WHITESPACE"," ",63],["T_DOUBLE_ARROW","=>",63],["T_WHITESPACE"," ",63],["T_CONSTANT_ENCAPSED_STRING","'\/\/tr[.\/\/*[contains(.,\"Shipping\") and contains(.,\"Excl. Tax\")]]\/\/span'",63],["T_WHITESPACE","\n        ",63],"]",",",["T_WHITESPACE","\n        ",64],["T_CONSTANT_ENCAPSED_STRING","'shipping_incl_tax'",65],["T_WHITESPACE"," ",65],["T_DOUBLE_ARROW","=>",65],["T_WHITESPACE"," ",65],"[",["T_WHITESPACE","\n            ",65],["T_CONSTANT_ENCAPSED_STRING","'selector'",66],["T_WHITESPACE"," ",66],["T_DOUBLE_ARROW","=>",66],["T_WHITESPACE"," ",66],["T_CONSTANT_ENCAPSED_STRING","'\/\/tr[.\/\/*[contains(.,\"Shipping\") and contains(.,\"Incl. Tax\")]]\/\/span'",66],["T_WHITESPACE","\n        ",66],"]",",",["T_WHITESPACE","\n        ",67],["T_CONSTANT_ENCAPSED_STRING","'tax'",68],["T_WHITESPACE"," ",68],["T_DOUBLE_ARROW","=>",68],["T_WHITESPACE"," ",68],"[",["T_WHITESPACE","\n            ",68],["T_CONSTANT_ENCAPSED_STRING","'selector'",69],["T_WHITESPACE"," ",69],["T_DOUBLE_ARROW","=>",69],["T_WHITESPACE"," ",69],["T_CONSTANT_ENCAPSED_STRING","'\/\/tr[normalize-space(td)=\"Tax\"]\/\/span'",69],",",["T_WHITESPACE","\n            ",69],["T_CONSTANT_ENCAPSED_STRING","'is_required'",70],["T_WHITESPACE","\n        ",70],"]",",",["T_WHITESPACE","\n        ",71],["T_CONSTANT_ENCAPSED_STRING","'grand_total_excl_tax'",72],["T_WHITESPACE"," ",72],["T_DOUBLE_ARROW","=>",72],["T_WHITESPACE"," ",72],"[",["T_WHITESPACE","\n            ",72],["T_CONSTANT_ENCAPSED_STRING","'selector'",73],["T_WHITESPACE"," ",73],["T_DOUBLE_ARROW","=>",73],["T_WHITESPACE"," ",73],["T_CONSTANT_ENCAPSED_STRING","'\/\/tr[.\/\/*[contains(.,\"Grand Total\") and contains(.,\"Excl. Tax\")]]\/\/span'",73],",",["T_WHITESPACE","\n            ",73],["T_CONSTANT_ENCAPSED_STRING","'is_required'",74],["T_WHITESPACE","\n        ",74],"]",",",["T_WHITESPACE","\n        ",75],["T_CONSTANT_ENCAPSED_STRING","'grand_total_incl_tax'",76],["T_WHITESPACE"," ",76],["T_DOUBLE_ARROW","=>",76],["T_WHITESPACE"," ",76],"[",["T_WHITESPACE","\n            ",76],["T_CONSTANT_ENCAPSED_STRING","'selector'",77],["T_WHITESPACE"," ",77],["T_DOUBLE_ARROW","=>",77],["T_WHITESPACE"," ",77],["T_CONSTANT_ENCAPSED_STRING","'\/\/tr[.\/\/*[contains(.,\"Grand Total\") and contains(.,\"Incl. Tax\")]]\/\/span'",77],",",["T_WHITESPACE","\n            ",77],["T_CONSTANT_ENCAPSED_STRING","'is_required'",78],["T_WHITESPACE","\n        ",78],"]",",",["T_WHITESPACE","\n        ",79],["T_CONSTANT_ENCAPSED_STRING","'shipping_price'",80],["T_WHITESPACE"," ",80],["T_DOUBLE_ARROW","=>",80],["T_WHITESPACE"," ",80],"[",["T_WHITESPACE","\n            ",80],["T_CONSTANT_ENCAPSED_STRING","'selector'",81],["T_WHITESPACE"," ",81],["T_DOUBLE_ARROW","=>",81],["T_WHITESPACE"," ",81],["T_CONSTANT_ENCAPSED_STRING","'\/\/td[contains(.,\"Shipping &\")]\/following-sibling::td\/span[contains(@class,\"price\")]'",81],",",["T_WHITESPACE","\n            ",81],["T_CONSTANT_ENCAPSED_STRING","'is_required'",82],["T_WHITESPACE","\n        ",82],"]",["T_WHITESPACE","\n    ",83],"]",";",["T_WHITESPACE","\n\n    ",84],["T_DOC_COMMENT","\/**\n     * Shipping price block selector.\n     *\n     * @var string\n     *\/",86],["T_WHITESPACE","\n    ",90],["T_PROTECTED","protected",91],["T_WHITESPACE"," ",91],["T_VARIABLE","$shippingPriceBlockSelector",91],["T_WHITESPACE"," ",91],"=",["T_WHITESPACE"," ",91],["T_CONSTANT_ENCAPSED_STRING","'\/\/td[contains(.,\"Shipping & Handling\")]'",91],";",["T_WHITESPACE","\n\n    ",91],["T_DOC_COMMENT","\/**\n     * Get data from block.\n     *\n     * @param string $type\n     * @return null|string\n     *\/",93],["T_WHITESPACE","\n    ",98],["T_PUBLIC","public",99],["T_WHITESPACE"," ",99],["T_FUNCTION","function",99],["T_WHITESPACE"," ",99],["T_STRING","getData",99],"(",["T_VARIABLE","$type",99],")",["T_WHITESPACE","\n    ",99],"{",["T_WHITESPACE","\n        ",100],["T_VARIABLE","$selector",101],["T_WHITESPACE"," ",101],"=",["T_WHITESPACE"," ",101],["T_VARIABLE","$this",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","prepareSelector",101],"(",["T_VARIABLE","$type",101],")",";",["T_WHITESPACE","\n        ",101],["T_VARIABLE","$element",102],["T_WHITESPACE"," ",102],"=",["T_WHITESPACE"," ",102],["T_VARIABLE","$this",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","_rootElement",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","find",102],"(",["T_VARIABLE","$selector",102],",",["T_WHITESPACE"," ",102],["T_STRING","Locator",102],["T_DOUBLE_COLON","::",102],["T_STRING","SELECTOR_XPATH",102],")",";",["T_WHITESPACE","\n        ",102],["T_RETURN","return",103],["T_WHITESPACE"," ",103],["T_ISSET","isset",103],"(",["T_VARIABLE","$this",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","fieldType",103],"[",["T_VARIABLE","$type",103],"]","[",["T_CONSTANT_ENCAPSED_STRING","'is_required'",103],"]",")",["T_WHITESPACE","\n            ",103],"?",["T_WHITESPACE"," ",104],["T_VARIABLE","$this",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","escapeCurrency",104],"(",["T_VARIABLE","$element",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","getText",104],"(",")",")",["T_WHITESPACE","\n            ",104],":",["T_WHITESPACE"," ",105],"(",["T_VARIABLE","$element",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","isVisible",105],"(",")",["T_WHITESPACE"," ",105],"?",["T_WHITESPACE"," ",105],["T_VARIABLE","$this",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","escapeCurrency",105],"(",["T_VARIABLE","$element",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","getText",105],"(",")",")",["T_WHITESPACE"," ",105],":",["T_WHITESPACE"," ",105],["T_STRING","null",105],")",";",["T_WHITESPACE","\n    ",105],"}",["T_WHITESPACE","\n\n    ",106],["T_DOC_COMMENT","\/**\n     * Prepare selector.\n     *\n     * @param string $type\n     * @return string\n     *\/",108],["T_WHITESPACE","\n    ",113],["T_PROTECTED","protected",114],["T_WHITESPACE"," ",114],["T_FUNCTION","function",114],["T_WHITESPACE"," ",114],["T_STRING","prepareSelector",114],"(",["T_VARIABLE","$type",114],")",["T_WHITESPACE","\n    ",114],"{",["T_WHITESPACE","\n        ",115],["T_RETURN","return",116],["T_WHITESPACE"," ",116],["T_VARIABLE","$this",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","fieldType",116],"[",["T_VARIABLE","$type",116],"]","[",["T_CONSTANT_ENCAPSED_STRING","'selector'",116],"]",";",["T_WHITESPACE","\n    ",116],"}",["T_WHITESPACE","\n\n    ",117],["T_DOC_COMMENT","\/**\n     * Method that escapes currency symbols.\n     *\n     * @param string $price\n     * @return string|null\n     *\/",119],["T_WHITESPACE","\n    ",124],["T_PROTECTED","protected",125],["T_WHITESPACE"," ",125],["T_FUNCTION","function",125],["T_WHITESPACE"," ",125],["T_STRING","escapeCurrency",125],"(",["T_VARIABLE","$price",125],")",["T_WHITESPACE","\n    ",125],"{",["T_WHITESPACE","\n        ",126],["T_STRING","preg_match",127],"(",["T_CONSTANT_ENCAPSED_STRING","\"\/^\\\\D*\\\\s*([\\\\d,\\\\.]+)\\\\s*\\\\D*$\/\"",127],",",["T_WHITESPACE"," ",127],["T_VARIABLE","$price",127],",",["T_WHITESPACE"," ",127],["T_VARIABLE","$matches",127],")",";",["T_WHITESPACE","\n        ",127],["T_RETURN","return",128],["T_WHITESPACE"," ",128],"(",["T_ISSET","isset",128],"(",["T_VARIABLE","$matches",128],"[",["T_LNUMBER","1",128],"]",")",")",["T_WHITESPACE"," ",128],"?",["T_WHITESPACE"," ",128],["T_VARIABLE","$matches",128],"[",["T_LNUMBER","1",128],"]",["T_WHITESPACE"," ",128],":",["T_WHITESPACE"," ",128],["T_STRING","null",128],";",["T_WHITESPACE","\n    ",128],"}",["T_WHITESPACE","\n\n    ",129],["T_DOC_COMMENT","\/**\n     * Check that shipping price block is visible.\n     *\n     * @return bool\n     *\/",131],["T_WHITESPACE","\n    ",135],["T_PUBLIC","public",136],["T_WHITESPACE"," ",136],["T_FUNCTION","function",136],["T_WHITESPACE"," ",136],["T_STRING","isVisibleShippingPriceBlock",136],"(",")",["T_WHITESPACE","\n    ",136],"{",["T_WHITESPACE","\n        ",137],["T_RETURN","return",138],["T_WHITESPACE","  ",138],["T_VARIABLE","$this",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","_rootElement",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","find",138],"(",["T_VARIABLE","$this",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","shippingPriceBlockSelector",138],",",["T_WHITESPACE"," ",138],["T_STRING","Locator",138],["T_DOUBLE_COLON","::",138],["T_STRING","SELECTOR_XPATH",138],")",["T_OBJECT_OPERATOR","->",138],["T_STRING","isVisible",138],"(",")",";",["T_WHITESPACE","\n    ",138],"}",["T_WHITESPACE","\n",139],"}",["T_WHITESPACE","\n",140]]