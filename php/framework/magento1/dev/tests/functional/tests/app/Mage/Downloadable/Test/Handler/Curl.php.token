[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Magento\n *\n * NOTICE OF LICENSE\n *\n * This source file is subject to the Open Software License (OSL 3.0)\n * that is bundled with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/opensource.org\/licenses\/osl-3.0.php\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@magento.com so we can send you a copy immediately.\n *\n * DISCLAIMER\n *\n * Do not edit or add to this file if you wish to upgrade Magento to newer\n * versions in the future. If you wish to customize Magento for your\n * needs please refer to http:\/\/www.magento.com for more information.\n *\n * @category    Tests\n * @package     Tests_Functional\n * @copyright  Copyright (c) 2006-2016 X.commerce, Inc. and affiliates (http:\/\/www.magento.com)\n * @license    http:\/\/opensource.org\/licenses\/osl-3.0.php  Open Software License (OSL 3.0)\n *\/",2],["T_WHITESPACE","\n\n",25],["T_NAMESPACE","namespace",27],["T_WHITESPACE"," ",27],["T_STRING","Mage",27],["T_NS_SEPARATOR","\\",27],["T_STRING","Downloadable",27],["T_NS_SEPARATOR","\\",27],["T_STRING","Test",27],["T_NS_SEPARATOR","\\",27],["T_STRING","Handler",27],";",["T_WHITESPACE","\n\n",27],["T_USE","use",29],["T_WHITESPACE"," ",29],["T_STRING","Magento",29],["T_NS_SEPARATOR","\\",29],["T_STRING","Mtf",29],["T_NS_SEPARATOR","\\",29],["T_STRING","Config",29],["T_NS_SEPARATOR","\\",29],["T_STRING","DataInterface",29],";",["T_WHITESPACE","\n",29],["T_USE","use",30],["T_WHITESPACE"," ",30],["T_STRING","Magento",30],["T_NS_SEPARATOR","\\",30],["T_STRING","Mtf",30],["T_NS_SEPARATOR","\\",30],["T_STRING","System",30],["T_NS_SEPARATOR","\\",30],["T_STRING","Event",30],["T_NS_SEPARATOR","\\",30],["T_STRING","EventManagerInterface",30],";",["T_WHITESPACE","\n",30],["T_USE","use",31],["T_WHITESPACE"," ",31],["T_STRING","Magento",31],["T_NS_SEPARATOR","\\",31],["T_STRING","Mtf",31],["T_NS_SEPARATOR","\\",31],["T_STRING","Fixture",31],["T_NS_SEPARATOR","\\",31],["T_STRING","FixtureInterface",31],";",["T_WHITESPACE","\n",31],["T_USE","use",32],["T_WHITESPACE"," ",32],["T_STRING","Magento",32],["T_NS_SEPARATOR","\\",32],["T_STRING","Mtf",32],["T_NS_SEPARATOR","\\",32],["T_STRING","Util",32],["T_NS_SEPARATOR","\\",32],["T_STRING","Protocol",32],["T_NS_SEPARATOR","\\",32],["T_STRING","CurlInterface",32],";",["T_WHITESPACE","\n",32],["T_USE","use",33],["T_WHITESPACE"," ",33],["T_STRING","Magento",33],["T_NS_SEPARATOR","\\",33],["T_STRING","Mtf",33],["T_NS_SEPARATOR","\\",33],["T_STRING","Util",33],["T_NS_SEPARATOR","\\",33],["T_STRING","Protocol",33],["T_NS_SEPARATOR","\\",33],["T_STRING","CurlTransport",33],";",["T_WHITESPACE","\n",33],["T_USE","use",34],["T_WHITESPACE"," ",34],["T_STRING","Magento",34],["T_NS_SEPARATOR","\\",34],["T_STRING","Mtf",34],["T_NS_SEPARATOR","\\",34],["T_STRING","Util",34],["T_NS_SEPARATOR","\\",34],["T_STRING","Protocol",34],["T_NS_SEPARATOR","\\",34],["T_STRING","CurlTransport",34],["T_NS_SEPARATOR","\\",34],["T_STRING","BackendDecorator",34],";",["T_WHITESPACE","\n\n",34],["T_DOC_COMMENT","\/**\n * Create new downloadable product via curl.\n *\/",36],["T_WHITESPACE","\n",38],["T_CLASS","class",39],["T_WHITESPACE"," ",39],["T_STRING","Curl",39],["T_WHITESPACE"," ",39],["T_EXTENDS","extends",39],["T_WHITESPACE"," ",39],["T_NS_SEPARATOR","\\",39],["T_STRING","Mage",39],["T_NS_SEPARATOR","\\",39],["T_STRING","Catalog",39],["T_NS_SEPARATOR","\\",39],["T_STRING","Test",39],["T_NS_SEPARATOR","\\",39],["T_STRING","Handler",39],["T_NS_SEPARATOR","\\",39],["T_STRING","CatalogProductSimple",39],["T_NS_SEPARATOR","\\",39],["T_STRING","Curl",39],["T_WHITESPACE"," ",39],["T_IMPLEMENTS","implements",39],["T_WHITESPACE"," ",39],["T_STRING","DownloadableProductInterface",39],["T_WHITESPACE","\n",39],"{",["T_WHITESPACE","\n    ",40],["T_DOC_COMMENT","\/**\n     * Downloadable types.\n     *\n     * @var array\n     *\/",41],["T_WHITESPACE","\n    ",45],["T_PROTECTED","protected",46],["T_WHITESPACE"," ",46],["T_VARIABLE","$downloadableTypes",46],["T_WHITESPACE"," ",46],"=",["T_WHITESPACE"," ",46],"[",["T_WHITESPACE","\n        ",46],["T_CONSTANT_ENCAPSED_STRING","'links'",47],["T_WHITESPACE"," ",47],["T_DOUBLE_ARROW","=>",47],["T_WHITESPACE"," ",47],"[",["T_WHITESPACE","\n            ",47],["T_CONSTANT_ENCAPSED_STRING","'links_title'",48],",",["T_WHITESPACE","\n            ",48],["T_CONSTANT_ENCAPSED_STRING","'links_purchased_separately'",49],["T_WHITESPACE","\n        ",49],"]",",",["T_WHITESPACE","\n        ",50],["T_CONSTANT_ENCAPSED_STRING","'samples'",51],["T_WHITESPACE"," ",51],["T_DOUBLE_ARROW","=>",51],["T_WHITESPACE"," ",51],"[",["T_WHITESPACE","\n            ",51],["T_CONSTANT_ENCAPSED_STRING","'samples_title'",52],["T_WHITESPACE","\n        ",52],"]",["T_WHITESPACE","\n    ",53],"]",";",["T_WHITESPACE","\n\n    ",54],["T_DOC_COMMENT","\/**\n     * Fields for link.\n     *\n     * @var array\n     *\/",56],["T_WHITESPACE","\n    ",60],["T_PROTECTED","protected",61],["T_WHITESPACE"," ",61],["T_VARIABLE","$linkFields",61],["T_WHITESPACE"," ",61],"=",["T_WHITESPACE"," ",61],"[",["T_WHITESPACE","\n        ",61],["T_CONSTANT_ENCAPSED_STRING","'title'",62],",",["T_WHITESPACE","\n        ",62],["T_CONSTANT_ENCAPSED_STRING","'type'",63],",",["T_WHITESPACE","\n        ",63],["T_CONSTANT_ENCAPSED_STRING","'link_url'",64],["T_WHITESPACE"," ",64],["T_DOUBLE_ARROW","=>",64],["T_WHITESPACE"," ",64],["T_CONSTANT_ENCAPSED_STRING","'file_link_url'",64],",",["T_WHITESPACE","\n        ",64],["T_CONSTANT_ENCAPSED_STRING","'price'",65],",",["T_WHITESPACE","\n        ",65],["T_CONSTANT_ENCAPSED_STRING","'number_of_downloads'",66],",",["T_WHITESPACE","\n        ",66],["T_CONSTANT_ENCAPSED_STRING","'is_shareable'",67],",",["T_WHITESPACE","\n        ",67],["T_CONSTANT_ENCAPSED_STRING","'sort_order'",68],",",["T_WHITESPACE","\n        ",68],["T_CONSTANT_ENCAPSED_STRING","'sample'",69],["T_WHITESPACE"," ",69],["T_DOUBLE_ARROW","=>",69],["T_WHITESPACE"," ",69],"[",["T_WHITESPACE","\n            ",69],["T_CONSTANT_ENCAPSED_STRING","'type'",70],",",["T_WHITESPACE","\n            ",70],["T_CONSTANT_ENCAPSED_STRING","'url'",71],["T_WHITESPACE"," ",71],["T_DOUBLE_ARROW","=>",71],["T_WHITESPACE"," ",71],["T_CONSTANT_ENCAPSED_STRING","'sample_url'",71],["T_WHITESPACE","\n        ",71],"]",["T_WHITESPACE","\n    ",72],"]",";",["T_WHITESPACE","\n\n    ",73],["T_DOC_COMMENT","\/**\n     * Fields for sample.\n     *\n     * @var array\n     *\/",75],["T_WHITESPACE","\n    ",79],["T_PROTECTED","protected",80],["T_WHITESPACE"," ",80],["T_VARIABLE","$sampleFields",80],["T_WHITESPACE"," ",80],"=",["T_WHITESPACE"," ",80],"[",["T_WHITESPACE","\n        ",80],["T_CONSTANT_ENCAPSED_STRING","'title'",81],",",["T_WHITESPACE","\n        ",81],["T_CONSTANT_ENCAPSED_STRING","'type'",82],",",["T_WHITESPACE","\n        ",82],["T_CONSTANT_ENCAPSED_STRING","'sample_url'",83],",",["T_WHITESPACE","\n        ",83],["T_CONSTANT_ENCAPSED_STRING","'sort_order'",84],["T_WHITESPACE","\n    ",84],"]",";",["T_WHITESPACE","\n\n    ",85],["T_DOC_COMMENT","\/**\n     * @constructor\n     * @param DataInterface $configuration\n     * @param EventManagerInterface $eventManager\n     *\/",87],["T_WHITESPACE","\n    ",91],["T_PUBLIC","public",92],["T_WHITESPACE"," ",92],["T_FUNCTION","function",92],["T_WHITESPACE"," ",92],["T_STRING","__construct",92],"(",["T_STRING","DataInterface",92],["T_WHITESPACE"," ",92],["T_VARIABLE","$configuration",92],",",["T_WHITESPACE"," ",92],["T_STRING","EventManagerInterface",92],["T_WHITESPACE"," ",92],["T_VARIABLE","$eventManager",92],")",["T_WHITESPACE","\n    ",92],"{",["T_WHITESPACE","\n        ",93],["T_STRING","parent",94],["T_DOUBLE_COLON","::",94],["T_STRING","__construct",94],"(",["T_VARIABLE","$configuration",94],",",["T_WHITESPACE"," ",94],["T_VARIABLE","$eventManager",94],")",";",["T_WHITESPACE","\n\n        ",94],["T_VARIABLE","$this",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","mappingData",96],["T_WHITESPACE"," ",96],["T_PLUS_EQUAL","+=",96],["T_WHITESPACE"," ",96],"[",["T_WHITESPACE","\n            ",96],["T_CONSTANT_ENCAPSED_STRING","'links_purchased_separately'",97],["T_WHITESPACE"," ",97],["T_DOUBLE_ARROW","=>",97],["T_WHITESPACE"," ",97],"[",["T_WHITESPACE","\n                ",97],["T_CONSTANT_ENCAPSED_STRING","'Yes'",98],["T_WHITESPACE"," ",98],["T_DOUBLE_ARROW","=>",98],["T_WHITESPACE"," ",98],["T_LNUMBER","1",98],",",["T_WHITESPACE","\n                ",98],["T_CONSTANT_ENCAPSED_STRING","'No'",99],["T_WHITESPACE"," ",99],["T_DOUBLE_ARROW","=>",99],["T_WHITESPACE"," ",99],["T_LNUMBER","0",99],",",["T_WHITESPACE","\n            ",99],"]",",",["T_WHITESPACE","\n            ",100],["T_CONSTANT_ENCAPSED_STRING","'is_shareable'",101],["T_WHITESPACE"," ",101],["T_DOUBLE_ARROW","=>",101],["T_WHITESPACE"," ",101],"[",["T_WHITESPACE","\n                ",101],["T_CONSTANT_ENCAPSED_STRING","'Yes'",102],["T_WHITESPACE"," ",102],["T_DOUBLE_ARROW","=>",102],["T_WHITESPACE"," ",102],["T_LNUMBER","1",102],",",["T_WHITESPACE","\n                ",102],["T_CONSTANT_ENCAPSED_STRING","'No'",103],["T_WHITESPACE"," ",103],["T_DOUBLE_ARROW","=>",103],["T_WHITESPACE"," ",103],["T_LNUMBER","0",103],",",["T_WHITESPACE","\n                ",103],["T_CONSTANT_ENCAPSED_STRING","'Use config'",104],["T_WHITESPACE"," ",104],["T_DOUBLE_ARROW","=>",104],["T_WHITESPACE"," ",104],["T_LNUMBER","2",104],",",["T_WHITESPACE","\n            ",104],"]",",",["T_WHITESPACE","\n        ",105],"]",";",["T_WHITESPACE","\n    ",106],"}",["T_WHITESPACE","\n\n    ",107],["T_DOC_COMMENT","\/**\n     * Prepare POST data for creating product request.\n     *\n     * @param FixtureInterface $fixture\n     * @param string|null $prefix [optional]\n     * @return array\n     *\/",109],["T_WHITESPACE","\n    ",115],["T_PROTECTED","protected",116],["T_WHITESPACE"," ",116],["T_FUNCTION","function",116],["T_WHITESPACE"," ",116],["T_STRING","prepareData",116],"(",["T_STRING","FixtureInterface",116],["T_WHITESPACE"," ",116],["T_VARIABLE","$fixture",116],",",["T_WHITESPACE"," ",116],["T_VARIABLE","$prefix",116],["T_WHITESPACE"," ",116],"=",["T_WHITESPACE"," ",116],["T_STRING","null",116],")",["T_WHITESPACE","\n    ",116],"{",["T_WHITESPACE","\n        ",117],["T_VARIABLE","$originalData",118],["T_WHITESPACE"," ",118],"=",["T_WHITESPACE"," ",118],["T_STRING","parent",118],["T_DOUBLE_COLON","::",118],["T_STRING","prepareData",118],"(",["T_VARIABLE","$fixture",118],",",["T_WHITESPACE"," ",118],["T_VARIABLE","$prefix",118],")",";",["T_WHITESPACE","\n        ",118],["T_VARIABLE","$downloadableData",119],["T_WHITESPACE"," ",119],"=",["T_WHITESPACE"," ",119],"[","]",";",["T_WHITESPACE","\n        ",119],["T_VARIABLE","$data",120],["T_WHITESPACE"," ",120],"=",["T_WHITESPACE"," ",120],"(",["T_VARIABLE","$prefix",120],["T_WHITESPACE"," ",120],["T_IS_EQUAL","==",120],["T_WHITESPACE"," ",120],["T_STRING","null",120],")",["T_WHITESPACE"," ",120],"?",["T_WHITESPACE"," ",120],["T_VARIABLE","$originalData",120],["T_WHITESPACE"," ",120],":",["T_WHITESPACE"," ",120],["T_VARIABLE","$originalData",120],"[",["T_VARIABLE","$prefix",120],"]",";",["T_WHITESPACE","\n\n        ",120],["T_FOREACH","foreach",122],["T_WHITESPACE"," ",122],"(",["T_VARIABLE","$this",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","downloadableTypes",122],["T_WHITESPACE"," ",122],["T_AS","as",122],["T_WHITESPACE"," ",122],["T_VARIABLE","$type",122],["T_WHITESPACE"," ",122],["T_DOUBLE_ARROW","=>",122],["T_WHITESPACE"," ",122],["T_VARIABLE","$fields",122],")",["T_WHITESPACE"," ",122],"{",["T_WHITESPACE","\n            ",122],["T_IF","if",123],["T_WHITESPACE"," ",123],"(","!",["T_EMPTY","empty",123],"(",["T_VARIABLE","$data",123],"[",["T_CONSTANT_ENCAPSED_STRING","'downloadable_'",123],["T_WHITESPACE"," ",123],".",["T_WHITESPACE"," ",123],["T_VARIABLE","$type",123],"]",")",")",["T_WHITESPACE"," ",123],"{",["T_WHITESPACE","\n                ",123],["T_VARIABLE","$downloadableTypeData",124],["T_WHITESPACE"," ",124],"=",["T_WHITESPACE"," ",124],["T_VARIABLE","$this",124],["T_OBJECT_OPERATOR","->",124],"{",["T_CONSTANT_ENCAPSED_STRING","'prepare'",124],["T_WHITESPACE"," ",124],".",["T_WHITESPACE"," ",124],["T_STRING","ucfirst",124],"(",["T_VARIABLE","$type",124],")",["T_WHITESPACE"," ",124],".",["T_WHITESPACE"," ",124],["T_CONSTANT_ENCAPSED_STRING","'Data'",124],"}","(",["T_VARIABLE","$data",124],"[",["T_CONSTANT_ENCAPSED_STRING","'downloadable_'",124],["T_WHITESPACE"," ",124],".",["T_WHITESPACE"," ",124],["T_VARIABLE","$type",124],"]",")",";",["T_WHITESPACE","\n                ",124],["T_VARIABLE","$data",125],["T_WHITESPACE"," ",125],"=",["T_WHITESPACE"," ",125],["T_STRING","array_merge_recursive",125],"(",["T_VARIABLE","$data",125],",",["T_WHITESPACE"," ",125],["T_STRING","array_intersect_key",125],"(",["T_VARIABLE","$downloadableTypeData",125],",",["T_WHITESPACE"," ",125],["T_STRING","array_flip",125],"(",["T_VARIABLE","$fields",125],")",")",")",";",["T_WHITESPACE","\n                ",125],["T_VARIABLE","$downloadableData",126],["T_WHITESPACE"," ",126],"=",["T_WHITESPACE"," ",126],["T_STRING","array_merge_recursive",126],"(",["T_VARIABLE","$downloadableData",126],",",["T_WHITESPACE"," ",126],["T_VARIABLE","$downloadableTypeData",126],")",";",["T_WHITESPACE","\n                ",126],["T_UNSET","unset",127],"(",["T_VARIABLE","$downloadableTypeData",127],"[",["T_CONSTANT_ENCAPSED_STRING","'downloadable'",127],"]",")",";",["T_WHITESPACE","\n                ",127],["T_IF","if",128],["T_WHITESPACE"," ",128],"(",["T_VARIABLE","$prefix",128],["T_WHITESPACE"," ",128],["T_IS_EQUAL","==",128],["T_WHITESPACE"," ",128],["T_STRING","null",128],")",["T_WHITESPACE"," ",128],"{",["T_WHITESPACE","\n                    ",128],["T_VARIABLE","$originalData",129],["T_WHITESPACE"," ",129],"=",["T_WHITESPACE"," ",129],["T_STRING","array_merge",129],"(",["T_VARIABLE","$originalData",129],",",["T_WHITESPACE"," ",129],["T_VARIABLE","$downloadableTypeData",129],")",";",["T_WHITESPACE","\n                ",129],"}",["T_WHITESPACE"," ",130],["T_ELSE","else",130],["T_WHITESPACE"," ",130],"{",["T_WHITESPACE","\n                    ",130],["T_VARIABLE","$originalData",131],"[",["T_VARIABLE","$prefix",131],"]",["T_WHITESPACE"," ",131],"=",["T_WHITESPACE"," ",131],["T_STRING","array_merge",131],"(",["T_VARIABLE","$originalData",131],"[",["T_VARIABLE","$prefix",131],"]",",",["T_WHITESPACE"," ",131],["T_VARIABLE","$downloadableTypeData",131],")",";",["T_WHITESPACE","\n                ",131],"}",["T_WHITESPACE","\n            ",132],"}",["T_WHITESPACE","\n        ",133],"}",["T_WHITESPACE","\n\n        ",134],["T_VARIABLE","$data",136],["T_WHITESPACE"," ",136],"=",["T_WHITESPACE"," ",136],["T_STRING","array_merge_recursive",136],"(",["T_VARIABLE","$originalData",136],",",["T_WHITESPACE"," ",136],["T_VARIABLE","$downloadableData",136],")",";",["T_WHITESPACE","\n\n        ",136],["T_RETURN","return",138],["T_WHITESPACE"," ",138],["T_VARIABLE","$this",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","replaceMappingData",138],"(",["T_VARIABLE","$data",138],")",";",["T_WHITESPACE","\n    ",138],"}",["T_WHITESPACE","\n\n    ",139],["T_DOC_COMMENT","\/**\n     * Prepare links data.\n     *\n     * @param array $linksData\n     * @return array\n     *\/",141],["T_WHITESPACE","\n    ",146],["T_PROTECTED","protected",147],["T_WHITESPACE"," ",147],["T_FUNCTION","function",147],["T_WHITESPACE"," ",147],["T_STRING","prepareLinksData",147],"(",["T_ARRAY","array",147],["T_WHITESPACE"," ",147],["T_VARIABLE","$linksData",147],")",["T_WHITESPACE","\n    ",147],"{",["T_WHITESPACE","\n        ",148],["T_RETURN","return",149],["T_WHITESPACE"," ",149],"[",["T_WHITESPACE","\n            ",149],["T_CONSTANT_ENCAPSED_STRING","'links_title'",150],["T_WHITESPACE"," ",150],["T_DOUBLE_ARROW","=>",150],["T_WHITESPACE"," ",150],["T_VARIABLE","$linksData",150],"[",["T_CONSTANT_ENCAPSED_STRING","'title'",150],"]",",",["T_WHITESPACE","\n            ",150],["T_CONSTANT_ENCAPSED_STRING","'links_purchased_separately'",151],["T_WHITESPACE"," ",151],["T_DOUBLE_ARROW","=>",151],["T_WHITESPACE"," ",151],["T_VARIABLE","$linksData",151],"[",["T_CONSTANT_ENCAPSED_STRING","'links_purchased_separately'",151],"]",",",["T_WHITESPACE","\n            ",151],["T_CONSTANT_ENCAPSED_STRING","'downloadable'",152],["T_WHITESPACE"," ",152],["T_DOUBLE_ARROW","=>",152],["T_WHITESPACE"," ",152],"[",["T_WHITESPACE","\n                ",152],["T_CONSTANT_ENCAPSED_STRING","'link'",153],["T_WHITESPACE"," ",153],["T_DOUBLE_ARROW","=>",153],["T_WHITESPACE"," ",153],["T_VARIABLE","$this",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","prepareLinksItemsData",153],"(",["T_VARIABLE","$linksData",153],"[",["T_CONSTANT_ENCAPSED_STRING","'downloadable'",153],"]","[",["T_CONSTANT_ENCAPSED_STRING","'link'",153],"]",")",["T_WHITESPACE","\n            ",153],"]",["T_WHITESPACE","\n        ",154],"]",";",["T_WHITESPACE","\n    ",155],"}",["T_WHITESPACE","\n\n    ",156],["T_DOC_COMMENT","\/**\n     * Prepare samples data.\n     *\n     * @param array $samplesData\n     * @return array\n     *\/",158],["T_WHITESPACE","\n    ",163],["T_PROTECTED","protected",164],["T_WHITESPACE"," ",164],["T_FUNCTION","function",164],["T_WHITESPACE"," ",164],["T_STRING","prepareSamplesData",164],"(",["T_ARRAY","array",164],["T_WHITESPACE"," ",164],["T_VARIABLE","$samplesData",164],")",["T_WHITESPACE","\n    ",164],"{",["T_WHITESPACE","\n        ",165],["T_RETURN","return",166],["T_WHITESPACE"," ",166],"[",["T_WHITESPACE","\n            ",166],["T_CONSTANT_ENCAPSED_STRING","'samples_title'",167],["T_WHITESPACE"," ",167],["T_DOUBLE_ARROW","=>",167],["T_WHITESPACE"," ",167],["T_VARIABLE","$samplesData",167],"[",["T_CONSTANT_ENCAPSED_STRING","'title'",167],"]",",",["T_WHITESPACE","\n            ",167],["T_CONSTANT_ENCAPSED_STRING","'downloadable'",168],["T_WHITESPACE"," ",168],["T_DOUBLE_ARROW","=>",168],["T_WHITESPACE"," ",168],"[",["T_WHITESPACE","\n                ",168],["T_CONSTANT_ENCAPSED_STRING","'sample'",169],["T_WHITESPACE"," ",169],["T_DOUBLE_ARROW","=>",169],["T_WHITESPACE"," ",169],["T_VARIABLE","$this",169],["T_OBJECT_OPERATOR","->",169],["T_STRING","prepareSamplesItemsData",169],"(",["T_VARIABLE","$samplesData",169],"[",["T_CONSTANT_ENCAPSED_STRING","'downloadable'",169],"]","[",["T_CONSTANT_ENCAPSED_STRING","'sample'",169],"]",")",["T_WHITESPACE","\n            ",169],"]",["T_WHITESPACE","\n        ",170],"]",";",["T_WHITESPACE","\n    ",171],"}",["T_WHITESPACE","\n\n    ",172],["T_DOC_COMMENT","\/**\n     * Prepare samples items data.\n     *\n     * @param array $samples\n     * @return array\n     *\/",174],["T_WHITESPACE","\n    ",179],["T_PROTECTED","protected",180],["T_WHITESPACE"," ",180],["T_FUNCTION","function",180],["T_WHITESPACE"," ",180],["T_STRING","prepareSamplesItemsData",180],"(",["T_ARRAY","array",180],["T_WHITESPACE"," ",180],["T_VARIABLE","$samples",180],")",["T_WHITESPACE","\n    ",180],"{",["T_WHITESPACE","\n        ",181],["T_VARIABLE","$resultSamples",182],["T_WHITESPACE"," ",182],"=",["T_WHITESPACE"," ",182],"[","]",";",["T_WHITESPACE","\n        ",182],["T_FOREACH","foreach",183],["T_WHITESPACE"," ",183],"(",["T_VARIABLE","$samples",183],["T_WHITESPACE"," ",183],["T_AS","as",183],["T_WHITESPACE"," ",183],["T_VARIABLE","$key",183],["T_WHITESPACE"," ",183],["T_DOUBLE_ARROW","=>",183],["T_WHITESPACE"," ",183],["T_VARIABLE","$sample",183],")",["T_WHITESPACE"," ",183],"{",["T_WHITESPACE","\n            ",183],["T_VARIABLE","$resultLinks",184],"[",["T_VARIABLE","$key",184],"]",["T_WHITESPACE"," ",184],"=",["T_WHITESPACE"," ",184],["T_VARIABLE","$this",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","prepareItem",184],"(",["T_VARIABLE","$sample",184],",",["T_WHITESPACE"," ",184],["T_CONSTANT_ENCAPSED_STRING","'sample'",184],")",";",["T_WHITESPACE","\n        ",184],"}",["T_WHITESPACE","\n\n        ",185],["T_RETURN","return",187],["T_WHITESPACE"," ",187],["T_VARIABLE","$resultSamples",187],";",["T_WHITESPACE","\n    ",187],"}",["T_WHITESPACE","\n\n    ",188],["T_DOC_COMMENT","\/**\n     * Prepare links items data.\n     *\n     * @param array $links\n     * @return array\n     *\/",190],["T_WHITESPACE","\n    ",195],["T_PROTECTED","protected",196],["T_WHITESPACE"," ",196],["T_FUNCTION","function",196],["T_WHITESPACE"," ",196],["T_STRING","prepareLinksItemsData",196],"(",["T_ARRAY","array",196],["T_WHITESPACE"," ",196],["T_VARIABLE","$links",196],")",["T_WHITESPACE","\n    ",196],"{",["T_WHITESPACE","\n        ",197],["T_VARIABLE","$resultLinks",198],["T_WHITESPACE"," ",198],"=",["T_WHITESPACE"," ",198],"[","]",";",["T_WHITESPACE","\n        ",198],["T_FOREACH","foreach",199],["T_WHITESPACE"," ",199],"(",["T_VARIABLE","$links",199],["T_WHITESPACE"," ",199],["T_AS","as",199],["T_WHITESPACE"," ",199],["T_VARIABLE","$key",199],["T_WHITESPACE"," ",199],["T_DOUBLE_ARROW","=>",199],["T_WHITESPACE"," ",199],["T_VARIABLE","$link",199],")",["T_WHITESPACE"," ",199],"{",["T_WHITESPACE","\n            ",199],["T_VARIABLE","$resultLinks",200],"[",["T_VARIABLE","$key",200],"]",["T_WHITESPACE"," ",200],"=",["T_WHITESPACE"," ",200],["T_VARIABLE","$this",200],["T_OBJECT_OPERATOR","->",200],["T_STRING","prepareItem",200],"(",["T_VARIABLE","$link",200],",",["T_WHITESPACE"," ",200],["T_CONSTANT_ENCAPSED_STRING","'link'",200],")",";",["T_WHITESPACE","\n        ",200],"}",["T_WHITESPACE","\n\n        ",201],["T_RETURN","return",203],["T_WHITESPACE"," ",203],["T_VARIABLE","$resultLinks",203],";",["T_WHITESPACE","\n    ",203],"}",["T_WHITESPACE","\n\n    ",204],["T_DOC_COMMENT","\/**\n     * Prepare item data.\n     *\n     * @param array $link\n     * @param string $type\n     * @param string|null $key\n     * @return array\n     *\/",206],["T_WHITESPACE","\n    ",213],["T_PROTECTED","protected",214],["T_WHITESPACE"," ",214],["T_FUNCTION","function",214],["T_WHITESPACE"," ",214],["T_STRING","prepareItem",214],"(",["T_ARRAY","array",214],["T_WHITESPACE"," ",214],["T_VARIABLE","$link",214],",",["T_WHITESPACE"," ",214],["T_VARIABLE","$type",214],",",["T_WHITESPACE"," ",214],["T_VARIABLE","$key",214],["T_WHITESPACE"," ",214],"=",["T_WHITESPACE"," ",214],["T_STRING","null",214],")",["T_WHITESPACE","\n    ",214],"{",["T_WHITESPACE","\n        ",215],["T_VARIABLE","$result",216],["T_WHITESPACE"," ",216],"=",["T_WHITESPACE"," ",216],"[","]",";",["T_WHITESPACE","\n        ",216],["T_VARIABLE","$fields",217],["T_WHITESPACE"," ",217],"=",["T_WHITESPACE"," ",217],"(",["T_VARIABLE","$key",217],["T_WHITESPACE"," ",217],["T_IS_EQUAL","==",217],["T_WHITESPACE"," ",217],["T_STRING","null",217],")",["T_WHITESPACE"," ",217],"?",["T_WHITESPACE"," ",217],["T_VARIABLE","$this",217],["T_OBJECT_OPERATOR","->",217],"{",["T_VARIABLE","$type",217],["T_WHITESPACE"," ",217],".",["T_WHITESPACE"," ",217],["T_CONSTANT_ENCAPSED_STRING","'Fields'",217],"}",["T_WHITESPACE"," ",217],":",["T_WHITESPACE"," ",217],["T_VARIABLE","$this",217],["T_OBJECT_OPERATOR","->",217],"{",["T_VARIABLE","$type",217],["T_WHITESPACE"," ",217],".",["T_WHITESPACE"," ",217],["T_CONSTANT_ENCAPSED_STRING","'Fields'",217],"}","[",["T_VARIABLE","$key",217],"]",";",["T_WHITESPACE","\n        ",217],["T_FOREACH","foreach",218],["T_WHITESPACE"," ",218],"(",["T_VARIABLE","$fields",218],["T_WHITESPACE"," ",218],["T_AS","as",218],["T_WHITESPACE"," ",218],["T_VARIABLE","$key",218],["T_WHITESPACE"," ",218],["T_DOUBLE_ARROW","=>",218],["T_WHITESPACE"," ",218],["T_VARIABLE","$value",218],")",["T_WHITESPACE"," ",218],"{",["T_WHITESPACE","\n            ",218],["T_IF","if",219],["T_WHITESPACE"," ",219],"(",["T_VARIABLE","$key",219],["T_WHITESPACE"," ",219],["T_IS_IDENTICAL","===",219],["T_WHITESPACE"," ",219],["T_CONSTANT_ENCAPSED_STRING","'type'",219],["T_WHITESPACE"," ",219],["T_BOOLEAN_OR","||",219],["T_WHITESPACE"," ",219],["T_VARIABLE","$value",219],["T_WHITESPACE"," ",219],["T_IS_IDENTICAL","===",219],["T_WHITESPACE"," ",219],["T_CONSTANT_ENCAPSED_STRING","'type'",219],")",["T_WHITESPACE"," ",219],"{",["T_WHITESPACE","\n                ",219],["T_VARIABLE","$result",220],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",220],"]",["T_WHITESPACE"," ",220],"=",["T_WHITESPACE"," ",220],["T_CONSTANT_ENCAPSED_STRING","'url'",220],";",["T_WHITESPACE","\n            ",220],"}",["T_WHITESPACE"," ",221],["T_ELSE","else",221],["T_WHITESPACE"," ",221],"{",["T_WHITESPACE","\n                ",221],["T_IF","if",222],["T_WHITESPACE"," ",222],"(",["T_STRING","is_string",222],"(",["T_VARIABLE","$key",222],")",")",["T_WHITESPACE"," ",222],"{",["T_WHITESPACE","\n                    ",222],["T_IF","if",223],["T_WHITESPACE"," ",223],"(",["T_STRING","is_array",223],"(",["T_VARIABLE","$value",223],")",")",["T_WHITESPACE"," ",223],"{",["T_WHITESPACE","\n                        ",223],["T_VARIABLE","$result",224],"[",["T_VARIABLE","$key",224],"]",["T_WHITESPACE"," ",224],"=",["T_WHITESPACE"," ",224],["T_VARIABLE","$this",224],["T_OBJECT_OPERATOR","->",224],["T_STRING","prepareItem",224],"(",["T_VARIABLE","$link",224],"[",["T_VARIABLE","$key",224],"]",",",["T_WHITESPACE"," ",224],["T_VARIABLE","$type",224],",",["T_WHITESPACE"," ",224],["T_VARIABLE","$key",224],")",";",["T_WHITESPACE","\n                    ",224],"}",["T_WHITESPACE"," ",225],["T_ELSE","else",225],["T_WHITESPACE"," ",225],"{",["T_WHITESPACE","\n                        ",225],["T_VARIABLE","$result",226],"[",["T_VARIABLE","$key",226],"]",["T_WHITESPACE"," ",226],"=",["T_WHITESPACE"," ",226],["T_VARIABLE","$link",226],"[",["T_VARIABLE","$value",226],"]",";",["T_WHITESPACE","\n                    ",226],"}",["T_WHITESPACE","\n                ",227],"}",["T_WHITESPACE"," ",228],["T_ELSE","else",228],["T_WHITESPACE"," ",228],"{",["T_WHITESPACE","\n                    ",228],["T_VARIABLE","$result",229],"[",["T_VARIABLE","$value",229],"]",["T_WHITESPACE"," ",229],"=",["T_WHITESPACE"," ",229],["T_VARIABLE","$link",229],"[",["T_VARIABLE","$value",229],"]",";",["T_WHITESPACE","\n                ",229],"}",["T_WHITESPACE","\n            ",230],"}",["T_WHITESPACE","\n        ",231],"}",["T_WHITESPACE","\n\n        ",232],["T_RETURN","return",234],["T_WHITESPACE"," ",234],["T_VARIABLE","$result",234],";",["T_WHITESPACE","\n    ",234],"}",["T_WHITESPACE","\n\n    ",235],["T_DOC_COMMENT","\/**\n     * Create product via curl\n     *\n     * @param array $data\n     * @param array $config\n     * @return array\n     * @throws \\Exception\n     *\/",237],["T_WHITESPACE","\n    ",244],["T_PROTECTED","protected",245],["T_WHITESPACE"," ",245],["T_FUNCTION","function",245],["T_WHITESPACE"," ",245],["T_STRING","createProduct",245],"(",["T_ARRAY","array",245],["T_WHITESPACE"," ",245],["T_VARIABLE","$data",245],",",["T_WHITESPACE"," ",245],["T_ARRAY","array",245],["T_WHITESPACE"," ",245],["T_VARIABLE","$config",245],")",["T_WHITESPACE","\n    ",245],"{",["T_WHITESPACE","\n        ",246],["T_VARIABLE","$url",247],["T_WHITESPACE"," ",247],"=",["T_WHITESPACE"," ",247],["T_VARIABLE","$this",247],["T_OBJECT_OPERATOR","->",247],["T_STRING","getUrl",247],"(",["T_VARIABLE","$config",247],")",";",["T_WHITESPACE","\n        ",247],["T_VARIABLE","$curl",248],["T_WHITESPACE"," ",248],"=",["T_WHITESPACE"," ",248],["T_NEW","new",248],["T_WHITESPACE"," ",248],["T_STRING","BackendDecorator",248],"(",["T_NEW","new",248],["T_WHITESPACE"," ",248],["T_STRING","CurlTransport",248],"(",")",",",["T_WHITESPACE"," ",248],["T_VARIABLE","$this",248],["T_OBJECT_OPERATOR","->",248],["T_STRING","_configuration",248],")",";",["T_WHITESPACE","\n        ",248],["T_VARIABLE","$curl",249],["T_OBJECT_OPERATOR","->",249],["T_STRING","addOption",249],"(",["T_STRING","CURLOPT_HEADER",249],",",["T_WHITESPACE"," ",249],["T_LNUMBER","1",249],")",";",["T_WHITESPACE","\n        ",249],["T_VARIABLE","$curl",250],["T_OBJECT_OPERATOR","->",250],["T_STRING","write",250],"(",["T_VARIABLE","$url",250],",",["T_WHITESPACE"," ",250],["T_VARIABLE","$data",250],")",";",["T_WHITESPACE","\n        ",250],["T_VARIABLE","$response",251],["T_WHITESPACE"," ",251],"=",["T_WHITESPACE"," ",251],["T_VARIABLE","$curl",251],["T_OBJECT_OPERATOR","->",251],["T_STRING","read",251],"(",")",";",["T_WHITESPACE","\n        ",251],["T_VARIABLE","$curl",252],["T_OBJECT_OPERATOR","->",252],["T_STRING","close",252],"(",")",";",["T_WHITESPACE","\n        ",252],["T_IF","if",253],["T_WHITESPACE"," ",253],"(","!",["T_STRING","strpos",253],"(",["T_VARIABLE","$response",253],",",["T_WHITESPACE"," ",253],["T_CONSTANT_ENCAPSED_STRING","'class=\"success-msg\"'",253],")",")",["T_WHITESPACE"," ",253],"{",["T_WHITESPACE","\n            ",253],["T_THROW","throw",254],["T_WHITESPACE"," ",254],["T_NEW","new",254],["T_WHITESPACE"," ",254],["T_NS_SEPARATOR","\\",254],["T_STRING","Exception",254],"(","\"",["T_ENCAPSED_AND_WHITESPACE","Product creation by curl handler was not successful! Response: ",254],["T_VARIABLE","$response",254],"\"",")",";",["T_WHITESPACE","\n        ",254],"}",["T_WHITESPACE","\n        ",255],["T_VARIABLE","$id",256],["T_WHITESPACE"," ",256],"=",["T_WHITESPACE"," ",256],["T_VARIABLE","$this",256],["T_OBJECT_OPERATOR","->",256],["T_STRING","parseResponse",256],"(",["T_VARIABLE","$response",256],")",";",["T_WHITESPACE","\n        ",256],["T_VARIABLE","$checkoutData",257],["T_WHITESPACE"," ",257],"=",["T_WHITESPACE"," ",257],["T_ISSET","isset",257],"(",["T_VARIABLE","$data",257],"[",["T_CONSTANT_ENCAPSED_STRING","'product'",257],"]","[",["T_CONSTANT_ENCAPSED_STRING","'checkout_data'",257],"]",")",["T_WHITESPACE"," ",257],"?",["T_WHITESPACE"," ",257],["T_VARIABLE","$data",257],"[",["T_CONSTANT_ENCAPSED_STRING","'product'",257],"]","[",["T_CONSTANT_ENCAPSED_STRING","'checkout_data'",257],"]",["T_WHITESPACE"," ",257],":",["T_WHITESPACE"," ",257],["T_STRING","null",257],";",["T_WHITESPACE","\n        ",257],["T_FOREACH","foreach",258],["T_WHITESPACE"," ",258],"(",["T_VARIABLE","$data",258],"[",["T_CONSTANT_ENCAPSED_STRING","'downloadable'",258],"]","[",["T_CONSTANT_ENCAPSED_STRING","'link'",258],"]",["T_WHITESPACE"," ",258],["T_AS","as",258],["T_WHITESPACE"," ",258],["T_VARIABLE","$key",258],["T_WHITESPACE"," ",258],["T_DOUBLE_ARROW","=>",258],["T_WHITESPACE"," ",258],["T_VARIABLE","$link",258],")",["T_WHITESPACE"," ",258],"{",["T_WHITESPACE","\n            ",258],["T_STRING","preg_match",259],"(",["T_CONSTANT_ENCAPSED_STRING","'`\"link_id\":\"(\\d*?)\",\"title\":\"'",259],["T_WHITESPACE"," ",259],".",["T_WHITESPACE"," ",259],["T_VARIABLE","$link",259],"[",["T_CONSTANT_ENCAPSED_STRING","'title'",259],"]",["T_WHITESPACE"," ",259],".",["T_WHITESPACE"," ",259],["T_CONSTANT_ENCAPSED_STRING","'\"`'",259],",",["T_WHITESPACE"," ",259],["T_VARIABLE","$response",259],",",["T_WHITESPACE"," ",259],["T_VARIABLE","$linkId",259],")",";",["T_WHITESPACE","\n            ",259],["T_IF","if",260],["T_WHITESPACE"," ",260],"(",["T_ISSET","isset",260],"(",["T_VARIABLE","$checkoutData",260],"[",["T_CONSTANT_ENCAPSED_STRING","'options'",260],"]","[",["T_CONSTANT_ENCAPSED_STRING","'links'",260],"]","[",["T_VARIABLE","$key",260],"]","[",["T_CONSTANT_ENCAPSED_STRING","'label'",260],"]",")",")",["T_WHITESPACE"," ",260],"{",["T_WHITESPACE","\n                ",260],["T_VARIABLE","$checkoutData",261],"[",["T_CONSTANT_ENCAPSED_STRING","'options'",261],"]","[",["T_CONSTANT_ENCAPSED_STRING","'links'",261],"]","[",["T_VARIABLE","$key",261],"]","[",["T_CONSTANT_ENCAPSED_STRING","'id'",261],"]",["T_WHITESPACE"," ",261],"=",["T_WHITESPACE"," ",261],["T_VARIABLE","$linkId",261],"[",["T_LNUMBER","1",261],"]",";",["T_WHITESPACE","\n            ",261],"}",["T_WHITESPACE","\n        ",262],"}",["T_WHITESPACE","\n\n        ",263],["T_RETURN","return",265],["T_WHITESPACE"," ",265],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",265],["T_WHITESPACE"," ",265],["T_DOUBLE_ARROW","=>",265],["T_WHITESPACE"," ",265],["T_VARIABLE","$id",265],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",265],"]",",",["T_WHITESPACE"," ",265],["T_CONSTANT_ENCAPSED_STRING","'checkout_data'",265],["T_WHITESPACE"," ",265],["T_DOUBLE_ARROW","=>",265],["T_WHITESPACE"," ",265],["T_VARIABLE","$checkoutData",265],"]",";",["T_WHITESPACE","\n    ",265],"}",["T_WHITESPACE","\n",266],"}",["T_WHITESPACE","\n",267]]