[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Magento\n *\n * NOTICE OF LICENSE\n *\n * This source file is subject to the Open Software License (OSL 3.0)\n * that is bundled with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/opensource.org\/licenses\/osl-3.0.php\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@magento.com so we can send you a copy immediately.\n *\n * DISCLAIMER\n *\n * Do not edit or add to this file if you wish to upgrade Magento to newer\n * versions in the future. If you wish to customize Magento for your\n * needs please refer to http:\/\/www.magento.com for more information.\n *\n * @category    Tests\n * @package     Tests_Functional\n * @copyright  Copyright (c) 2006-2016 X.commerce, Inc. and affiliates (http:\/\/www.magento.com)\n * @license    http:\/\/opensource.org\/licenses\/osl-3.0.php  Open Software License (OSL 3.0)\n *\/",2],["T_WHITESPACE","\n\n",25],["T_NAMESPACE","namespace",27],["T_WHITESPACE"," ",27],["T_STRING","Mage",27],["T_NS_SEPARATOR","\\",27],["T_STRING","Cms",27],["T_NS_SEPARATOR","\\",27],["T_STRING","Test",27],["T_NS_SEPARATOR","\\",27],["T_STRING","Handler",27],["T_NS_SEPARATOR","\\",27],["T_STRING","CmsPage",27],";",["T_WHITESPACE","\n\n",27],["T_USE","use",29],["T_WHITESPACE"," ",29],["T_STRING","Magento",29],["T_NS_SEPARATOR","\\",29],["T_STRING","Mtf",29],["T_NS_SEPARATOR","\\",29],["T_STRING","Fixture",29],["T_NS_SEPARATOR","\\",29],["T_STRING","FixtureInterface",29],";",["T_WHITESPACE","\n",29],["T_USE","use",30],["T_WHITESPACE"," ",30],["T_STRING","Magento",30],["T_NS_SEPARATOR","\\",30],["T_STRING","Mtf",30],["T_NS_SEPARATOR","\\",30],["T_STRING","Util",30],["T_NS_SEPARATOR","\\",30],["T_STRING","Protocol",30],["T_NS_SEPARATOR","\\",30],["T_STRING","CurlInterface",30],";",["T_WHITESPACE","\n",30],["T_USE","use",31],["T_WHITESPACE"," ",31],["T_STRING","Magento",31],["T_NS_SEPARATOR","\\",31],["T_STRING","Mtf",31],["T_NS_SEPARATOR","\\",31],["T_STRING","Util",31],["T_NS_SEPARATOR","\\",31],["T_STRING","Protocol",31],["T_NS_SEPARATOR","\\",31],["T_STRING","CurlTransport",31],";",["T_WHITESPACE","\n",31],["T_USE","use",32],["T_WHITESPACE"," ",32],["T_STRING","Magento",32],["T_NS_SEPARATOR","\\",32],["T_STRING","Mtf",32],["T_NS_SEPARATOR","\\",32],["T_STRING","Util",32],["T_NS_SEPARATOR","\\",32],["T_STRING","Protocol",32],["T_NS_SEPARATOR","\\",32],["T_STRING","CurlTransport",32],["T_NS_SEPARATOR","\\",32],["T_STRING","BackendDecorator",32],";",["T_WHITESPACE","\n",32],["T_USE","use",33],["T_WHITESPACE"," ",33],["T_STRING","Magento",33],["T_NS_SEPARATOR","\\",33],["T_STRING","Mtf",33],["T_NS_SEPARATOR","\\",33],["T_STRING","Handler",33],["T_NS_SEPARATOR","\\",33],["T_STRING","Curl",33],["T_WHITESPACE"," ",33],["T_AS","as",33],["T_WHITESPACE"," ",33],["T_STRING","AbstractCurl",33],";",["T_WHITESPACE","\n\n",33],["T_DOC_COMMENT","\/**\n * Curl handler for creating Cms page.\n *\/",35],["T_WHITESPACE","\n",37],["T_CLASS","class",38],["T_WHITESPACE"," ",38],["T_STRING","Curl",38],["T_WHITESPACE"," ",38],["T_EXTENDS","extends",38],["T_WHITESPACE"," ",38],["T_STRING","AbstractCurl",38],["T_WHITESPACE"," ",38],["T_IMPLEMENTS","implements",38],["T_WHITESPACE"," ",38],["T_STRING","CmsPageInterface",38],["T_WHITESPACE","\n",38],"{",["T_WHITESPACE","\n    ",39],["T_DOC_COMMENT","\/**\n     * Mapping values for data.\n     *\n     * @var array\n     *\/",40],["T_WHITESPACE","\n    ",44],["T_PROTECTED","protected",45],["T_WHITESPACE"," ",45],["T_VARIABLE","$mappingData",45],["T_WHITESPACE"," ",45],"=",["T_WHITESPACE"," ",45],"[",["T_WHITESPACE","\n        ",45],["T_CONSTANT_ENCAPSED_STRING","'is_active'",46],["T_WHITESPACE"," ",46],["T_DOUBLE_ARROW","=>",46],["T_WHITESPACE"," ",46],"[",["T_WHITESPACE","\n            ",46],["T_CONSTANT_ENCAPSED_STRING","'Published'",47],["T_WHITESPACE"," ",47],["T_DOUBLE_ARROW","=>",47],["T_WHITESPACE"," ",47],["T_LNUMBER","1",47],",",["T_WHITESPACE","\n            ",47],["T_CONSTANT_ENCAPSED_STRING","'Disabled'",48],["T_WHITESPACE"," ",48],["T_DOUBLE_ARROW","=>",48],["T_WHITESPACE"," ",48],["T_LNUMBER","0",48],",",["T_WHITESPACE","\n            ",48],["T_CONSTANT_ENCAPSED_STRING","'Enabled'",49],["T_WHITESPACE"," ",49],["T_DOUBLE_ARROW","=>",49],["T_WHITESPACE"," ",49],["T_LNUMBER","1",49],["T_WHITESPACE","\n        ",49],"]",",",["T_WHITESPACE","\n        ",50],["T_CONSTANT_ENCAPSED_STRING","'store_id'",51],["T_WHITESPACE"," ",51],["T_DOUBLE_ARROW","=>",51],["T_WHITESPACE"," ",51],"[",["T_WHITESPACE","\n            ",51],["T_CONSTANT_ENCAPSED_STRING","'Main Website\/Main Website Store\/Default Store View'",52],["T_WHITESPACE"," ",52],["T_DOUBLE_ARROW","=>",52],["T_WHITESPACE"," ",52],["T_LNUMBER","1",52],["T_WHITESPACE","\n        ",52],"]",",",["T_WHITESPACE","\n        ",53],["T_CONSTANT_ENCAPSED_STRING","'page_layout'",54],["T_WHITESPACE"," ",54],["T_DOUBLE_ARROW","=>",54],["T_WHITESPACE"," ",54],"[",["T_WHITESPACE","\n            ",54],["T_CONSTANT_ENCAPSED_STRING","'1 column'",55],["T_WHITESPACE"," ",55],["T_DOUBLE_ARROW","=>",55],["T_WHITESPACE"," ",55],["T_CONSTANT_ENCAPSED_STRING","'1column'",55],",",["T_WHITESPACE","\n            ",55],["T_CONSTANT_ENCAPSED_STRING","'2 columns with left bar'",56],["T_WHITESPACE"," ",56],["T_DOUBLE_ARROW","=>",56],["T_WHITESPACE"," ",56],["T_CONSTANT_ENCAPSED_STRING","'2columns-left'",56],",",["T_WHITESPACE","\n            ",56],["T_CONSTANT_ENCAPSED_STRING","'2 columns with right bar'",57],["T_WHITESPACE"," ",57],["T_DOUBLE_ARROW","=>",57],["T_WHITESPACE"," ",57],["T_CONSTANT_ENCAPSED_STRING","'2columns-right'",57],",",["T_WHITESPACE","\n            ",57],["T_CONSTANT_ENCAPSED_STRING","'3 columns'",58],["T_WHITESPACE"," ",58],["T_DOUBLE_ARROW","=>",58],["T_WHITESPACE"," ",58],["T_CONSTANT_ENCAPSED_STRING","'3columns'",58],",",["T_WHITESPACE","\n        ",58],"]",",",["T_WHITESPACE","\n        ",59],["T_CONSTANT_ENCAPSED_STRING","'under_version_control'",60],["T_WHITESPACE"," ",60],["T_DOUBLE_ARROW","=>",60],["T_WHITESPACE"," ",60],"[",["T_WHITESPACE","\n            ",60],["T_CONSTANT_ENCAPSED_STRING","'Yes'",61],["T_WHITESPACE"," ",61],["T_DOUBLE_ARROW","=>",61],["T_WHITESPACE"," ",61],["T_LNUMBER","1",61],",",["T_WHITESPACE","\n            ",61],["T_CONSTANT_ENCAPSED_STRING","'No'",62],["T_WHITESPACE"," ",62],["T_DOUBLE_ARROW","=>",62],["T_WHITESPACE"," ",62],["T_LNUMBER","0",62],",",["T_WHITESPACE","\n        ",62],"]",",",["T_WHITESPACE","\n    ",63],"]",";",["T_WHITESPACE","\n\n    ",64],["T_DOC_COMMENT","\/**\n     * Url for save cms page.\n     *\n     * @var string\n     *\/",66],["T_WHITESPACE","\n    ",70],["T_PROTECTED","protected",71],["T_WHITESPACE"," ",71],["T_VARIABLE","$url",71],["T_WHITESPACE"," ",71],"=",["T_WHITESPACE"," ",71],["T_CONSTANT_ENCAPSED_STRING","'cms_page\/save'",71],";",["T_WHITESPACE","\n\n    ",71],["T_DOC_COMMENT","\/**\n     * Post request for creating a cms page.\n     *\n     * @param FixtureInterface $fixture\n     * @return array\n     * @throws \\Exception\n     *\/",73],["T_WHITESPACE","\n    ",79],["T_PUBLIC","public",80],["T_WHITESPACE"," ",80],["T_FUNCTION","function",80],["T_WHITESPACE"," ",80],["T_STRING","persist",80],"(",["T_STRING","FixtureInterface",80],["T_WHITESPACE"," ",80],["T_VARIABLE","$fixture",80],["T_WHITESPACE"," ",80],"=",["T_WHITESPACE"," ",80],["T_STRING","null",80],")",["T_WHITESPACE","\n    ",80],"{",["T_WHITESPACE","\n        ",81],["T_VARIABLE","$url",82],["T_WHITESPACE"," ",82],"=",["T_WHITESPACE"," ",82],["T_VARIABLE","$_ENV",82],"[",["T_CONSTANT_ENCAPSED_STRING","'app_backend_url'",82],"]",["T_WHITESPACE"," ",82],".",["T_WHITESPACE"," ",82],["T_VARIABLE","$this",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","url",82],";",["T_WHITESPACE","\n        ",82],["T_VARIABLE","$data",83],["T_WHITESPACE"," ",83],"=",["T_WHITESPACE"," ",83],["T_VARIABLE","$this",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","replaceMappingData",83],"(",["T_VARIABLE","$fixture",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","getData",83],"(",")",")",";",["T_WHITESPACE","\n        ",83],["T_VARIABLE","$data",84],["T_WHITESPACE"," ",84],"=",["T_WHITESPACE"," ",84],["T_VARIABLE","$this",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","prepareData",84],"(",["T_VARIABLE","$data",84],")",";",["T_WHITESPACE","\n        ",84],["T_VARIABLE","$curl",85],["T_WHITESPACE"," ",85],"=",["T_WHITESPACE"," ",85],["T_NEW","new",85],["T_WHITESPACE"," ",85],["T_STRING","BackendDecorator",85],"(",["T_NEW","new",85],["T_WHITESPACE"," ",85],["T_STRING","CurlTransport",85],"(",")",",",["T_WHITESPACE"," ",85],["T_VARIABLE","$this",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","_configuration",85],")",";",["T_WHITESPACE","\n        ",85],["T_VARIABLE","$curl",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","addOption",86],"(",["T_STRING","CURLOPT_HEADER",86],",",["T_WHITESPACE"," ",86],["T_LNUMBER","1",86],")",";",["T_WHITESPACE","\n        ",86],["T_VARIABLE","$curl",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","write",87],"(",["T_VARIABLE","$url",87],",",["T_WHITESPACE"," ",87],["T_VARIABLE","$data",87],")",";",["T_WHITESPACE","\n        ",87],["T_VARIABLE","$response",88],["T_WHITESPACE"," ",88],"=",["T_WHITESPACE"," ",88],["T_VARIABLE","$curl",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","read",88],"(",")",";",["T_WHITESPACE","\n        ",88],["T_VARIABLE","$curl",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","close",89],"(",")",";",["T_WHITESPACE","\n        ",89],["T_IF","if",90],["T_WHITESPACE"," ",90],"(","!",["T_STRING","strpos",90],"(",["T_VARIABLE","$response",90],",",["T_WHITESPACE"," ",90],["T_CONSTANT_ENCAPSED_STRING","'class=\"success-msg\"'",90],")",")",["T_WHITESPACE"," ",90],"{",["T_WHITESPACE","\n            ",90],["T_THROW","throw",91],["T_WHITESPACE"," ",91],["T_NEW","new",91],["T_WHITESPACE"," ",91],["T_NS_SEPARATOR","\\",91],["T_STRING","Exception",91],"(","\"",["T_ENCAPSED_AND_WHITESPACE","Cms page entity creating by curl handler was not successful! Response: ",91],["T_VARIABLE","$response",91],"\"",")",";",["T_WHITESPACE","\n        ",91],"}",["T_WHITESPACE","\n        ",92],["T_VARIABLE","$id",93],["T_WHITESPACE"," ",93],"=",["T_WHITESPACE"," ",93],["T_VARIABLE","$this",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","getCmsPageId",93],"(",["T_VARIABLE","$response",93],")",";",["T_WHITESPACE","\n\n        ",93],["T_RETURN","return",95],["T_WHITESPACE"," ",95],"[",["T_CONSTANT_ENCAPSED_STRING","'page_id'",95],["T_WHITESPACE"," ",95],["T_DOUBLE_ARROW","=>",95],["T_WHITESPACE"," ",95],["T_VARIABLE","$id",95],"]",";",["T_WHITESPACE","\n    ",95],"}",["T_WHITESPACE","\n\n    ",96],["T_DOC_COMMENT","\/**\n     * Prepare data.\n     *\n     * @param array $data\n     * @return array\n     *\/",98],["T_WHITESPACE","\n    ",103],["T_PROTECTED","protected",104],["T_WHITESPACE"," ",104],["T_FUNCTION","function",104],["T_WHITESPACE"," ",104],["T_STRING","prepareData",104],"(",["T_ARRAY","array",104],["T_WHITESPACE"," ",104],["T_VARIABLE","$data",104],")",["T_WHITESPACE","\n    ",104],"{",["T_WHITESPACE","\n        ",105],["T_VARIABLE","$resultStore",106],["T_WHITESPACE"," ",106],"=",["T_WHITESPACE"," ",106],"[","]",";",["T_WHITESPACE","\n        ",106],["T_FOREACH","foreach",107],["T_WHITESPACE"," ",107],"(",["T_VARIABLE","$data",107],"[",["T_CONSTANT_ENCAPSED_STRING","'store_id'",107],"]",["T_WHITESPACE"," ",107],["T_AS","as",107],["T_WHITESPACE"," ",107],["T_VARIABLE","$key",107],["T_WHITESPACE"," ",107],["T_DOUBLE_ARROW","=>",107],["T_WHITESPACE"," ",107],["T_VARIABLE","$store",107],")",["T_WHITESPACE"," ",107],"{",["T_WHITESPACE","\n            ",107],["T_VARIABLE","$resultStore",108],"[",["T_CONSTANT_ENCAPSED_STRING","'store_id'",108],"]","[",["T_VARIABLE","$key",108],"]",["T_WHITESPACE"," ",108],"=",["T_WHITESPACE"," ",108],["T_VARIABLE","$this",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","mappingData",108],"[",["T_CONSTANT_ENCAPSED_STRING","'store_id'",108],"]","[",["T_VARIABLE","$store",108],"]",";",["T_WHITESPACE","\n        ",108],"}",["T_WHITESPACE","\n        ",109],["T_VARIABLE","$data",110],"[",["T_CONSTANT_ENCAPSED_STRING","'stores'",110],"]",["T_WHITESPACE"," ",110],"=",["T_WHITESPACE"," ",110],["T_VARIABLE","$resultStore",110],"[",["T_CONSTANT_ENCAPSED_STRING","'store_id'",110],"]",";",["T_WHITESPACE","\n        ",110],["T_UNSET","unset",111],"(",["T_VARIABLE","$data",111],"[",["T_CONSTANT_ENCAPSED_STRING","'store_id'",111],"]",")",";",["T_WHITESPACE","\n        ",111],["T_VARIABLE","$data",112],"[",["T_CONSTANT_ENCAPSED_STRING","'content'",112],"]",["T_WHITESPACE"," ",112],"=",["T_WHITESPACE"," ",112],["T_VARIABLE","$data",112],"[",["T_CONSTANT_ENCAPSED_STRING","'content'",112],"]","[",["T_CONSTANT_ENCAPSED_STRING","'content'",112],"]",";",["T_WHITESPACE","\n        ",112],["T_IF","if",113],["T_WHITESPACE"," ",113],"(","!",["T_ISSET","isset",113],"(",["T_VARIABLE","$data",113],"[",["T_CONSTANT_ENCAPSED_STRING","'is_active'",113],"]",")",")",["T_WHITESPACE"," ",113],"{",["T_WHITESPACE","\n            ",113],["T_VARIABLE","$data",114],"[",["T_CONSTANT_ENCAPSED_STRING","'is_active'",114],"]",["T_WHITESPACE"," ",114],"=",["T_WHITESPACE"," ",114],["T_LNUMBER","1",114],";",["T_WHITESPACE","\n        ",114],"}",["T_WHITESPACE","\n        ",115],["T_RETURN","return",116],["T_WHITESPACE"," ",116],["T_VARIABLE","$data",116],";",["T_WHITESPACE","\n    ",116],"}",["T_WHITESPACE","\n\n    ",117],["T_DOC_COMMENT","\/**\n     * Return saved cms page id.\n     *\n     * @param string $response\n     * @return int|null\n     * @throws \\Exception\n     *\/",119],["T_WHITESPACE","\n    ",125],["T_PROTECTED","protected",126],["T_WHITESPACE"," ",126],["T_FUNCTION","function",126],["T_WHITESPACE"," ",126],["T_STRING","getCmsPageId",126],"(",["T_VARIABLE","$response",126],")",["T_WHITESPACE","\n    ",126],"{",["T_WHITESPACE","\n        ",127],["T_STRING","preg_match_all",128],"(",["T_CONSTANT_ENCAPSED_STRING","'~tr title=[^\\s]*\\\/page_id\\\/(\\d+)~'",128],",",["T_WHITESPACE"," ",128],["T_VARIABLE","$response",128],",",["T_WHITESPACE"," ",128],["T_VARIABLE","$matches",128],")",";",["T_WHITESPACE","\n        ",128],["T_IF","if",129],["T_WHITESPACE"," ",129],"(",["T_EMPTY","empty",129],"(",["T_VARIABLE","$matches",129],"[",["T_LNUMBER","1",129],"]",")",")",["T_WHITESPACE"," ",129],"{",["T_WHITESPACE","\n            ",129],["T_THROW","throw",130],["T_WHITESPACE"," ",130],["T_NEW","new",130],["T_WHITESPACE"," ",130],["T_NS_SEPARATOR","\\",130],["T_STRING","Exception",130],"(",["T_CONSTANT_ENCAPSED_STRING","'Cannot find Cms Page id'",130],")",";",["T_WHITESPACE","\n        ",130],"}",["T_WHITESPACE","\n\n        ",131],["T_RETURN","return",133],["T_WHITESPACE"," ",133],["T_STRING","max",133],"(",["T_VARIABLE","$matches",133],"[",["T_LNUMBER","1",133],"]",")",";",["T_WHITESPACE","\n    ",133],"}",["T_WHITESPACE","\n",134],"}",["T_WHITESPACE","\n",135]]