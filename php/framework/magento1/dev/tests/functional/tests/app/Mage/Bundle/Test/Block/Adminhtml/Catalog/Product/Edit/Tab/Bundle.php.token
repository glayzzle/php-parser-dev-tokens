[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Magento\n *\n * NOTICE OF LICENSE\n *\n * This source file is subject to the Open Software License (OSL 3.0)\n * that is bundled with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/opensource.org\/licenses\/osl-3.0.php\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@magento.com so we can send you a copy immediately.\n *\n * DISCLAIMER\n *\n * Do not edit or add to this file if you wish to upgrade Magento to newer\n * versions in the future. If you wish to customize Magento for your\n * needs please refer to http:\/\/www.magento.com for more information.\n *\n * @category    Tests\n * @package     Tests_Functional\n * @copyright  Copyright (c) 2006-2016 X.commerce, Inc. and affiliates (http:\/\/www.magento.com)\n * @license    http:\/\/opensource.org\/licenses\/osl-3.0.php  Open Software License (OSL 3.0)\n *\/",2],["T_WHITESPACE","\n\n",25],["T_NAMESPACE","namespace",27],["T_WHITESPACE"," ",27],["T_STRING","Mage",27],["T_NS_SEPARATOR","\\",27],["T_STRING","Bundle",27],["T_NS_SEPARATOR","\\",27],["T_STRING","Test",27],["T_NS_SEPARATOR","\\",27],["T_STRING","Block",27],["T_NS_SEPARATOR","\\",27],["T_STRING","Adminhtml",27],["T_NS_SEPARATOR","\\",27],["T_STRING","Catalog",27],["T_NS_SEPARATOR","\\",27],["T_STRING","Product",27],["T_NS_SEPARATOR","\\",27],["T_STRING","Edit",27],["T_NS_SEPARATOR","\\",27],["T_STRING","Tab",27],";",["T_WHITESPACE","\n\n",27],["T_USE","use",29],["T_WHITESPACE"," ",29],["T_STRING","Mage",29],["T_NS_SEPARATOR","\\",29],["T_STRING","Adminhtml",29],["T_NS_SEPARATOR","\\",29],["T_STRING","Test",29],["T_NS_SEPARATOR","\\",29],["T_STRING","Block",29],["T_NS_SEPARATOR","\\",29],["T_STRING","Widget",29],["T_NS_SEPARATOR","\\",29],["T_STRING","Tab",29],";",["T_WHITESPACE","\n",29],["T_USE","use",30],["T_WHITESPACE"," ",30],["T_STRING","Mage",30],["T_NS_SEPARATOR","\\",30],["T_STRING","Bundle",30],["T_NS_SEPARATOR","\\",30],["T_STRING","Test",30],["T_NS_SEPARATOR","\\",30],["T_STRING","Block",30],["T_NS_SEPARATOR","\\",30],["T_STRING","Adminhtml",30],["T_NS_SEPARATOR","\\",30],["T_STRING","Catalog",30],["T_NS_SEPARATOR","\\",30],["T_STRING","Product",30],["T_NS_SEPARATOR","\\",30],["T_STRING","Edit",30],["T_NS_SEPARATOR","\\",30],["T_STRING","Tab",30],["T_NS_SEPARATOR","\\",30],["T_STRING","Bundle",30],["T_NS_SEPARATOR","\\",30],["T_STRING","Option",30],";",["T_WHITESPACE","\n",30],["T_USE","use",31],["T_WHITESPACE"," ",31],["T_STRING","Magento",31],["T_NS_SEPARATOR","\\",31],["T_STRING","Mtf",31],["T_NS_SEPARATOR","\\",31],["T_STRING","Client",31],["T_NS_SEPARATOR","\\",31],["T_STRING","Element",31],["T_NS_SEPARATOR","\\",31],["T_STRING","SimpleElement",31],["T_WHITESPACE"," ",31],["T_AS","as",31],["T_WHITESPACE"," ",31],["T_STRING","Element",31],";",["T_WHITESPACE","\n\n",31],["T_DOC_COMMENT","\/**\n * Bundle items tab on product form.\n *\/",33],["T_WHITESPACE","\n",35],["T_CLASS","class",36],["T_WHITESPACE"," ",36],["T_STRING","Bundle",36],["T_WHITESPACE"," ",36],["T_EXTENDS","extends",36],["T_WHITESPACE"," ",36],["T_STRING","Tab",36],["T_WHITESPACE","\n",36],"{",["T_WHITESPACE","\n    ",37],["T_DOC_COMMENT","\/**\n     * Selector for 'Add New Option' button.\n     *\n     * @var string\n     *\/",38],["T_WHITESPACE","\n    ",42],["T_PROTECTED","protected",43],["T_WHITESPACE"," ",43],["T_VARIABLE","$addNewOption",43],["T_WHITESPACE"," ",43],"=",["T_WHITESPACE"," ",43],["T_CONSTANT_ENCAPSED_STRING","'#add_new_option'",43],";",["T_WHITESPACE","\n\n    ",43],["T_DOC_COMMENT","\/**\n     * Open option section.\n     *\n     * @var string\n     *\/",45],["T_WHITESPACE","\n    ",49],["T_PROTECTED","protected",50],["T_WHITESPACE"," ",50],["T_VARIABLE","$openOption",50],["T_WHITESPACE"," ",50],"=",["T_WHITESPACE"," ",50],["T_CONSTANT_ENCAPSED_STRING","'[data-target=\"#bundle_option_%d-content\"]'",50],";",["T_WHITESPACE","\n\n    ",50],["T_DOC_COMMENT","\/**\n     * Option content selector.\n     *\n     * @var string\n     *\/",52],["T_WHITESPACE","\n    ",56],["T_PROTECTED","protected",57],["T_WHITESPACE"," ",57],["T_VARIABLE","$optionContent",57],["T_WHITESPACE"," ",57],"=",["T_WHITESPACE"," ",57],["T_CONSTANT_ENCAPSED_STRING","'#bundle_option_%d-content'",57],";",["T_WHITESPACE","\n\n    ",57],["T_DOC_COMMENT","\/**\n     * Bundle options block selector.\n     *\n     * @var string\n     *\/",59],["T_WHITESPACE","\n    ",63],["T_PROTECTED","protected",64],["T_WHITESPACE"," ",64],["T_VARIABLE","$bundleOptionsBlock",64],["T_WHITESPACE"," ",64],"=",["T_WHITESPACE"," ",64],["T_CONSTANT_ENCAPSED_STRING","'#bundle_option_%s'",64],";",["T_WHITESPACE","\n\n    ",64],["T_DOC_COMMENT","\/**\n     * Get bundle options block.\n     *\n     * @param int $blockNumber\n     * @return Option\n     *\/",66],["T_WHITESPACE","\n    ",71],["T_PROTECTED","protected",72],["T_WHITESPACE"," ",72],["T_FUNCTION","function",72],["T_WHITESPACE"," ",72],["T_STRING","getBundleOptionBlock",72],"(",["T_VARIABLE","$blockNumber",72],")",["T_WHITESPACE","\n    ",72],"{",["T_WHITESPACE","\n        ",73],["T_RETURN","return",74],["T_WHITESPACE"," ",74],["T_VARIABLE","$this",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","blockFactory",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","create",74],"(",["T_WHITESPACE","\n            ",74],["T_CONSTANT_ENCAPSED_STRING","'Mage\\Bundle\\Test\\Block\\Adminhtml\\Catalog\\Product\\Edit\\Tab\\Bundle\\Option'",75],",",["T_WHITESPACE","\n            ",75],"[",["T_CONSTANT_ENCAPSED_STRING","'element'",76],["T_WHITESPACE"," ",76],["T_DOUBLE_ARROW","=>",76],["T_WHITESPACE"," ",76],["T_VARIABLE","$this",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","_rootElement",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","find",76],"(",["T_STRING","sprintf",76],"(",["T_VARIABLE","$this",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","bundleOptionsBlock",76],",",["T_WHITESPACE"," ",76],["T_VARIABLE","$blockNumber",76],")",")","]",["T_WHITESPACE","\n        ",76],")",";",["T_WHITESPACE","\n    ",77],"}",["T_WHITESPACE","\n\n    ",78],["T_DOC_COMMENT","\/**\n     * Fill bundle options.\n     *\n     * @param array $fields\n     * @param Element|null $element\n     * @return $this\n     *\/",80],["T_WHITESPACE","\n    ",86],["T_PUBLIC","public",87],["T_WHITESPACE"," ",87],["T_FUNCTION","function",87],["T_WHITESPACE"," ",87],["T_STRING","fillFormTab",87],"(",["T_ARRAY","array",87],["T_WHITESPACE"," ",87],["T_VARIABLE","$fields",87],",",["T_WHITESPACE"," ",87],["T_STRING","Element",87],["T_WHITESPACE"," ",87],["T_VARIABLE","$element",87],["T_WHITESPACE"," ",87],"=",["T_WHITESPACE"," ",87],["T_STRING","null",87],")",["T_WHITESPACE","\n    ",87],"{",["T_WHITESPACE","\n        ",88],["T_IF","if",89],["T_WHITESPACE"," ",89],"(",["T_ISSET","isset",89],"(",["T_VARIABLE","$fields",89],"[",["T_CONSTANT_ENCAPSED_STRING","'bundle_selections'",89],"]",")",")",["T_WHITESPACE"," ",89],"{",["T_WHITESPACE","\n            ",89],["T_FOREACH","foreach",90],["T_WHITESPACE"," ",90],"(",["T_VARIABLE","$fields",90],"[",["T_CONSTANT_ENCAPSED_STRING","'bundle_selections'",90],"]","[",["T_CONSTANT_ENCAPSED_STRING","'value'",90],"]",["T_WHITESPACE"," ",90],["T_AS","as",90],["T_WHITESPACE"," ",90],["T_VARIABLE","$key",90],["T_WHITESPACE"," ",90],["T_DOUBLE_ARROW","=>",90],["T_WHITESPACE"," ",90],["T_VARIABLE","$bundleOption",90],")",["T_WHITESPACE"," ",90],"{",["T_WHITESPACE","\n                ",90],["T_VARIABLE","$this",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","createAndEditOption",91],"(",["T_VARIABLE","$key",91],")",";",["T_WHITESPACE","\n                ",91],["T_VARIABLE","$this",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","getBundleOptionBlock",92],"(",["T_VARIABLE","$key",92],")",["T_OBJECT_OPERATOR","->",92],["T_STRING","fillOption",92],"(",["T_VARIABLE","$bundleOption",92],")",";",["T_WHITESPACE","\n            ",92],"}",["T_WHITESPACE","\n            ",93],["T_UNSET","unset",94],"(",["T_VARIABLE","$fields",94],"[",["T_CONSTANT_ENCAPSED_STRING","'bundle_selections'",94],"]",")",";",["T_WHITESPACE","\n        ",94],"}",["T_WHITESPACE","\n        ",95],["T_STRING","parent",96],["T_DOUBLE_COLON","::",96],["T_STRING","fillFormTab",96],"(",["T_VARIABLE","$fields",96],",",["T_WHITESPACE"," ",96],["T_VARIABLE","$element",96],")",";",["T_WHITESPACE","\n    ",96],"}",["T_WHITESPACE","\n\n    ",97],["T_DOC_COMMENT","\/**\n     * Open exist option for edit or create new.\n     *\n     * @param int $optionKey\n     * @return void\n     *\/",99],["T_WHITESPACE","\n    ",104],["T_PROTECTED","protected",105],["T_WHITESPACE"," ",105],["T_FUNCTION","function",105],["T_WHITESPACE"," ",105],["T_STRING","createAndEditOption",105],"(",["T_VARIABLE","$optionKey",105],")",["T_WHITESPACE","\n    ",105],"{",["T_WHITESPACE","\n        ",106],["T_VARIABLE","$itemOption",107],["T_WHITESPACE"," ",107],"=",["T_WHITESPACE"," ",107],["T_VARIABLE","$this",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","_rootElement",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","find",107],"(",["T_STRING","sprintf",107],"(",["T_VARIABLE","$this",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","openOption",107],",",["T_WHITESPACE"," ",107],["T_VARIABLE","$optionKey",107],")",")",";",["T_WHITESPACE","\n        ",107],["T_VARIABLE","$isContent",108],["T_WHITESPACE"," ",108],"=",["T_WHITESPACE"," ",108],["T_VARIABLE","$this",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","_rootElement",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","find",108],"(",["T_STRING","sprintf",108],"(",["T_VARIABLE","$this",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","optionContent",108],",",["T_WHITESPACE"," ",108],["T_VARIABLE","$optionKey",108],")",")",["T_OBJECT_OPERATOR","->",108],["T_STRING","isVisible",108],"(",")",";",["T_WHITESPACE","\n        ",108],["T_IF","if",109],["T_WHITESPACE"," ",109],"(",["T_VARIABLE","$itemOption",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","isVisible",109],"(",")",["T_WHITESPACE"," ",109],["T_BOOLEAN_AND","&&",109],["T_WHITESPACE"," ",109],"!",["T_VARIABLE","$isContent",109],")",["T_WHITESPACE"," ",109],"{",["T_WHITESPACE","\n            ",109],["T_VARIABLE","$itemOption",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","click",110],"(",")",";",["T_WHITESPACE","\n        ",110],"}",["T_WHITESPACE"," ",111],["T_ELSEIF","elseif",111],["T_WHITESPACE"," ",111],"(","!",["T_VARIABLE","$itemOption",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","isVisible",111],"(",")",")",["T_WHITESPACE"," ",111],"{",["T_WHITESPACE","\n            ",111],["T_VARIABLE","$this",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","_rootElement",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","find",112],"(",["T_VARIABLE","$this",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","addNewOption",112],")",["T_OBJECT_OPERATOR","->",112],["T_STRING","click",112],"(",")",";",["T_WHITESPACE","\n        ",112],"}",["T_WHITESPACE","\n    ",113],"}",["T_WHITESPACE","\n\n    ",114],["T_DOC_COMMENT","\/**\n     * Get data from fields on bundle items tab.\n     *\n     * @param array|null $fields\n     * @param Element|null $element\n     * @return array\n     *\/",116],["T_WHITESPACE","\n    ",122],["T_PUBLIC","public",123],["T_WHITESPACE"," ",123],["T_FUNCTION","function",123],["T_WHITESPACE"," ",123],["T_STRING","getDataFormTab",123],"(",["T_VARIABLE","$fields",123],["T_WHITESPACE"," ",123],"=",["T_WHITESPACE"," ",123],["T_STRING","null",123],",",["T_WHITESPACE"," ",123],["T_STRING","Element",123],["T_WHITESPACE"," ",123],["T_VARIABLE","$element",123],["T_WHITESPACE"," ",123],"=",["T_WHITESPACE"," ",123],["T_STRING","null",123],")",["T_WHITESPACE","\n    ",123],"{",["T_WHITESPACE","\n        ",124],["T_VARIABLE","$newFields",125],["T_WHITESPACE"," ",125],"=",["T_WHITESPACE"," ",125],"[","]",";",["T_WHITESPACE","\n        ",125],["T_IF","if",126],["T_WHITESPACE"," ",126],"(",["T_ISSET","isset",126],"(",["T_VARIABLE","$fields",126],"[",["T_CONSTANT_ENCAPSED_STRING","'bundle_selections'",126],"]",")",")",["T_WHITESPACE"," ",126],"{",["T_WHITESPACE","\n            ",126],["T_FOREACH","foreach",127],["T_WHITESPACE"," ",127],"(",["T_VARIABLE","$fields",127],"[",["T_CONSTANT_ENCAPSED_STRING","'bundle_selections'",127],"]","[",["T_CONSTANT_ENCAPSED_STRING","'value'",127],"]",["T_WHITESPACE"," ",127],["T_AS","as",127],["T_WHITESPACE"," ",127],["T_VARIABLE","$key",127],["T_WHITESPACE"," ",127],["T_DOUBLE_ARROW","=>",127],["T_WHITESPACE"," ",127],["T_VARIABLE","$bundleOption",127],")",["T_WHITESPACE"," ",127],"{",["T_WHITESPACE","\n                ",127],["T_VARIABLE","$bundleOption",128],["T_WHITESPACE"," ",128],"=",["T_WHITESPACE"," ",128],["T_VARIABLE","$this",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","prepareBundleOptions",128],"(",["T_VARIABLE","$bundleOption",128],")",";",["T_WHITESPACE","\n                ",128],["T_VARIABLE","$newFields",129],"[",["T_CONSTANT_ENCAPSED_STRING","'bundle_selections'",129],"]","[",["T_VARIABLE","$key",129],"]",["T_WHITESPACE"," ",129],"=",["T_WHITESPACE"," ",129],["T_VARIABLE","$this",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","getBundleOptionBlock",129],"(",["T_VARIABLE","$key",129],")",["T_OBJECT_OPERATOR","->",129],["T_STRING","getOptionData",129],"(",["T_VARIABLE","$bundleOption",129],")",";",["T_WHITESPACE","\n            ",129],"}",["T_WHITESPACE","\n            ",130],["T_UNSET","unset",131],"(",["T_VARIABLE","$fields",131],"[",["T_CONSTANT_ENCAPSED_STRING","'bundle_selections'",131],"]",")",";",["T_WHITESPACE","\n        ",131],"}",["T_WHITESPACE","\n\n        ",132],["T_RETURN","return",134],["T_WHITESPACE"," ",134],["T_STRING","array_merge",134],"(",["T_VARIABLE","$newFields",134],",",["T_WHITESPACE"," ",134],["T_STRING","parent",134],["T_DOUBLE_COLON","::",134],["T_STRING","getDataFormTab",134],"(",["T_VARIABLE","$fields",134],",",["T_WHITESPACE"," ",134],["T_VARIABLE","$element",134],")",")",";",["T_WHITESPACE","\n    ",134],"}",["T_WHITESPACE","\n\n    ",135],["T_DOC_COMMENT","\/**\n     * Prepare bundle options.\n     *\n     * @param array $bundleOption\n     * @return array\n     *\/",137],["T_WHITESPACE","\n    ",142],["T_PROTECTED","protected",143],["T_WHITESPACE"," ",143],["T_FUNCTION","function",143],["T_WHITESPACE"," ",143],["T_STRING","prepareBundleOptions",143],"(",["T_ARRAY","array",143],["T_WHITESPACE"," ",143],["T_VARIABLE","$bundleOption",143],")",["T_WHITESPACE","\n    ",143],"{",["T_WHITESPACE","\n        ",144],["T_FOREACH","foreach",145],["T_WHITESPACE"," ",145],"(",["T_VARIABLE","$bundleOption",145],"[",["T_CONSTANT_ENCAPSED_STRING","'assigned_products'",145],"]",["T_WHITESPACE"," ",145],["T_AS","as",145],["T_WHITESPACE"," ",145],["T_VARIABLE","$productKey",145],["T_WHITESPACE"," ",145],["T_DOUBLE_ARROW","=>",145],["T_WHITESPACE"," ",145],["T_VARIABLE","$product",145],")",["T_WHITESPACE"," ",145],"{",["T_WHITESPACE","\n            ",145],["T_VARIABLE","$bundleOption",146],"[",["T_CONSTANT_ENCAPSED_STRING","'assigned_products'",146],"]","[",["T_VARIABLE","$productKey",146],"]","[",["T_CONSTANT_ENCAPSED_STRING","'getProductSku'",146],"]",["T_WHITESPACE"," ",146],"=",["T_WHITESPACE"," ",146],["T_VARIABLE","$product",146],"[",["T_CONSTANT_ENCAPSED_STRING","'sku'",146],"]",";",["T_WHITESPACE","\n            ",146],["T_VARIABLE","$bundleOption",147],"[",["T_CONSTANT_ENCAPSED_STRING","'assigned_products'",147],"]","[",["T_VARIABLE","$productKey",147],"]","[",["T_CONSTANT_ENCAPSED_STRING","'getProductName'",147],"]",["T_WHITESPACE"," ",147],"=",["T_WHITESPACE"," ",147],["T_VARIABLE","$product",147],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",147],"]",";",["T_WHITESPACE","\n        ",147],"}",["T_WHITESPACE","\n\n        ",148],["T_RETURN","return",150],["T_WHITESPACE"," ",150],["T_VARIABLE","$bundleOption",150],";",["T_WHITESPACE","\n    ",150],"}",["T_WHITESPACE","\n",151],"}",["T_WHITESPACE","\n",152]]