[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Magento\n *\n * NOTICE OF LICENSE\n *\n * This source file is subject to the Open Software License (OSL 3.0)\n * that is bundled with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/opensource.org\/licenses\/osl-3.0.php\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@magento.com so we can send you a copy immediately.\n *\n * DISCLAIMER\n *\n * Do not edit or add to this file if you wish to upgrade Magento to newer\n * versions in the future. If you wish to customize Magento for your\n * needs please refer to http:\/\/www.magento.com for more information.\n *\n * @category    Mage\n * @package     Mage_Wishlist\n * @copyright  Copyright (c) 2006-2016 X.commerce, Inc. and affiliates (http:\/\/www.magento.com)\n * @license    http:\/\/opensource.org\/licenses\/osl-3.0.php  Open Software License (OSL 3.0)\n *\/",2],["T_WHITESPACE","\n\n\n",25],["T_DOC_COMMENT","\/**\n * Wishlist Product Items abstract Block\n *\n * @category   Mage\n * @package    Mage_Wishlist\n * @author     Magento Core Team <core@magentocommerce.com>\n *\/",28],["T_WHITESPACE","\n",34],["T_ABSTRACT","abstract",35],["T_WHITESPACE"," ",35],["T_CLASS","class",35],["T_WHITESPACE"," ",35],["T_STRING","Mage_Wishlist_Block_Abstract",35],["T_WHITESPACE"," ",35],["T_EXTENDS","extends",35],["T_WHITESPACE"," ",35],["T_STRING","Mage_Catalog_Block_Product_Abstract",35],["T_WHITESPACE","\n",35],"{",["T_WHITESPACE","\n    ",36],["T_DOC_COMMENT","\/**\n     * Wishlist Product Items Collection\n     *\n     * @var Mage_Wishlist_Model_Resource_Item_Collection\n     *\/",37],["T_WHITESPACE","\n    ",41],["T_PROTECTED","protected",42],["T_WHITESPACE"," ",42],["T_VARIABLE","$_collection",42],";",["T_WHITESPACE","\n\n    ",42],["T_DOC_COMMENT","\/**\n     * Store wishlist Model\n     *\n     * @var Mage_Wishlist_Model_Wishlist\n     *\/",44],["T_WHITESPACE","\n    ",48],["T_PROTECTED","protected",49],["T_WHITESPACE"," ",49],["T_VARIABLE","$_wishlist",49],";",["T_WHITESPACE","\n\n    ",49],["T_DOC_COMMENT","\/**\n     * List of block settings to render prices for different product types\n     *\n     * @var array\n     *\/",51],["T_WHITESPACE","\n    ",55],["T_PROTECTED","protected",56],["T_WHITESPACE"," ",56],["T_VARIABLE","$_itemPriceBlockTypes",56],["T_WHITESPACE"," ",56],"=",["T_WHITESPACE"," ",56],["T_ARRAY","array",56],"(",")",";",["T_WHITESPACE","\n\n    ",56],["T_DOC_COMMENT","\/**\n     * List of block instances to render prices for different product types\n     *\n     * @var array\n     *\/",58],["T_WHITESPACE","\n    ",62],["T_PROTECTED","protected",63],["T_WHITESPACE"," ",63],["T_VARIABLE","$_cachedItemPriceBlocks",63],["T_WHITESPACE"," ",63],"=",["T_WHITESPACE"," ",63],["T_ARRAY","array",63],"(",")",";",["T_WHITESPACE","\n\n    ",63],["T_DOC_COMMENT","\/**\n     * Internal constructor, that is called from real constructor\n     *\n     *\/",65],["T_WHITESPACE","\n    ",68],["T_PROTECTED","protected",69],["T_WHITESPACE"," ",69],["T_FUNCTION","function",69],["T_WHITESPACE"," ",69],["T_STRING","_construct",69],"(",")",["T_WHITESPACE","\n    ",69],"{",["T_WHITESPACE","\n        ",70],["T_STRING","parent",71],["T_DOUBLE_COLON","::",71],["T_STRING","_construct",71],"(",")",";",["T_WHITESPACE","\n        ",71],["T_VARIABLE","$this",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","addItemPriceBlockType",72],"(",["T_CONSTANT_ENCAPSED_STRING","'default'",72],",",["T_WHITESPACE"," ",72],["T_CONSTANT_ENCAPSED_STRING","'wishlist\/render_item_price'",72],",",["T_WHITESPACE"," ",72],["T_CONSTANT_ENCAPSED_STRING","'wishlist\/render\/item\/price.phtml'",72],")",";",["T_WHITESPACE","\n    ",72],"}",["T_WHITESPACE","\n\n    ",73],["T_DOC_COMMENT","\/**\n     * Retrieve Wishlist Data Helper\n     *\n     * @return Mage_Wishlist_Helper_Data\n     *\/",75],["T_WHITESPACE","\n    ",79],["T_PROTECTED","protected",80],["T_WHITESPACE"," ",80],["T_FUNCTION","function",80],["T_WHITESPACE"," ",80],["T_STRING","_getHelper",80],"(",")",["T_WHITESPACE","\n    ",80],"{",["T_WHITESPACE","\n        ",81],["T_RETURN","return",82],["T_WHITESPACE"," ",82],["T_STRING","Mage",82],["T_DOUBLE_COLON","::",82],["T_STRING","helper",82],"(",["T_CONSTANT_ENCAPSED_STRING","'wishlist'",82],")",";",["T_WHITESPACE","\n    ",82],"}",["T_WHITESPACE","\n\n    ",83],["T_DOC_COMMENT","\/**\n     * Retrieve Customer Session instance\n     *\n     * @return Mage_Customer_Model_Session\n     *\/",85],["T_WHITESPACE","\n    ",89],["T_PROTECTED","protected",90],["T_WHITESPACE"," ",90],["T_FUNCTION","function",90],["T_WHITESPACE"," ",90],["T_STRING","_getCustomerSession",90],"(",")",["T_WHITESPACE","\n    ",90],"{",["T_WHITESPACE","\n        ",91],["T_RETURN","return",92],["T_WHITESPACE"," ",92],["T_STRING","Mage",92],["T_DOUBLE_COLON","::",92],["T_STRING","getSingleton",92],"(",["T_CONSTANT_ENCAPSED_STRING","'customer\/session'",92],")",";",["T_WHITESPACE","\n    ",92],"}",["T_WHITESPACE","\n\n    ",93],["T_DOC_COMMENT","\/**\n     * Retrieve Wishlist model\n     *\n     * @return Mage_Wishlist_Model_Wishlist\n     *\/",95],["T_WHITESPACE","\n    ",99],["T_PROTECTED","protected",100],["T_WHITESPACE"," ",100],["T_FUNCTION","function",100],["T_WHITESPACE"," ",100],["T_STRING","_getWishlist",100],"(",")",["T_WHITESPACE","\n    ",100],"{",["T_WHITESPACE","\n        ",101],["T_RETURN","return",102],["T_WHITESPACE"," ",102],["T_VARIABLE","$this",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","_getHelper",102],"(",")",["T_OBJECT_OPERATOR","->",102],["T_STRING","getWishlist",102],"(",")",";",["T_WHITESPACE","\n    ",102],"}",["T_WHITESPACE","\n\n    ",103],["T_DOC_COMMENT","\/**\n     * Prepare additional conditions to collection\n     *\n     * @param Mage_Wishlist_Model_Resource_Item_Collection $collection\n     * @return Mage_Wishlist_Block_Customer_Wishlist\n     *\/",105],["T_WHITESPACE","\n    ",110],["T_PROTECTED","protected",111],["T_WHITESPACE"," ",111],["T_FUNCTION","function",111],["T_WHITESPACE"," ",111],["T_STRING","_prepareCollection",111],"(",["T_VARIABLE","$collection",111],")",["T_WHITESPACE","\n    ",111],"{",["T_WHITESPACE","\n        ",112],["T_RETURN","return",113],["T_WHITESPACE"," ",113],["T_VARIABLE","$this",113],";",["T_WHITESPACE","\n    ",113],"}",["T_WHITESPACE","\n\n    ",114],["T_DOC_COMMENT","\/**\n     * Create wishlist item collection\n     *\n     * @return Mage_Wishlist_Model_Resource_Item_Collection\n     *\/",116],["T_WHITESPACE","\n    ",120],["T_PROTECTED","protected",121],["T_WHITESPACE"," ",121],["T_FUNCTION","function",121],["T_WHITESPACE"," ",121],["T_STRING","_createWishlistItemCollection",121],"(",")",["T_WHITESPACE","\n    ",121],"{",["T_WHITESPACE","\n        ",122],["T_RETURN","return",123],["T_WHITESPACE"," ",123],["T_VARIABLE","$this",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","_getWishlist",123],"(",")",["T_OBJECT_OPERATOR","->",123],["T_STRING","getItemCollection",123],"(",")",";",["T_WHITESPACE","\n    ",123],"}",["T_WHITESPACE","\n\n    ",124],["T_DOC_COMMENT","\/**\n     * Retrieve Wishlist Product Items collection\n     *\n     * @return Mage_Wishlist_Model_Resource_Item_Collection\n     *\/",126],["T_WHITESPACE","\n    ",130],["T_PUBLIC","public",131],["T_WHITESPACE"," ",131],["T_FUNCTION","function",131],["T_WHITESPACE"," ",131],["T_STRING","getWishlistItems",131],"(",")",["T_WHITESPACE","\n    ",131],"{",["T_WHITESPACE","\n        ",132],["T_IF","if",133],["T_WHITESPACE"," ",133],"(",["T_STRING","is_null",133],"(",["T_VARIABLE","$this",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","_collection",133],")",")",["T_WHITESPACE"," ",133],"{",["T_WHITESPACE","\n            ",133],["T_VARIABLE","$this",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","_collection",134],["T_WHITESPACE"," ",134],"=",["T_WHITESPACE"," ",134],["T_VARIABLE","$this",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","_createWishlistItemCollection",134],"(",")",";",["T_WHITESPACE","\n            ",134],["T_VARIABLE","$this",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","_prepareCollection",135],"(",["T_VARIABLE","$this",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","_collection",135],")",";",["T_WHITESPACE","\n        ",135],"}",["T_WHITESPACE","\n\n        ",136],["T_RETURN","return",138],["T_WHITESPACE"," ",138],["T_VARIABLE","$this",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","_collection",138],";",["T_WHITESPACE","\n    ",138],"}",["T_WHITESPACE","\n\n    ",139],["T_DOC_COMMENT","\/**\n     * Retrieve wishlist instance\n     *\n     * @return Mage_Wishlist_Model_Wishlist\n     *\/",141],["T_WHITESPACE","\n    ",145],["T_PUBLIC","public",146],["T_WHITESPACE"," ",146],["T_FUNCTION","function",146],["T_WHITESPACE"," ",146],["T_STRING","getWishlistInstance",146],"(",")",["T_WHITESPACE","\n    ",146],"{",["T_WHITESPACE","\n        ",147],["T_RETURN","return",148],["T_WHITESPACE"," ",148],["T_VARIABLE","$this",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","_getWishlist",148],"(",")",";",["T_WHITESPACE","\n    ",148],"}",["T_WHITESPACE","\n\n    ",149],["T_DOC_COMMENT","\/**\n     * Back compatibility retrieve wishlist product items\n     *\n     * @deprecated after 1.4.2.0\n     * @return Mage_Wishlist_Model_Mysql4_Item_Collection\n     *\/",151],["T_WHITESPACE","\n    ",156],["T_PUBLIC","public",157],["T_WHITESPACE"," ",157],["T_FUNCTION","function",157],["T_WHITESPACE"," ",157],["T_STRING","getWishlist",157],"(",")",["T_WHITESPACE","\n    ",157],"{",["T_WHITESPACE","\n        ",158],["T_RETURN","return",159],["T_WHITESPACE"," ",159],["T_VARIABLE","$this",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","getWishlistItems",159],"(",")",";",["T_WHITESPACE","\n    ",159],"}",["T_WHITESPACE","\n\n    ",160],["T_DOC_COMMENT","\/**\n     * Retrieve URL for Removing item from wishlist\n     *\n     * @param Mage_Catalog_Model_Product|Mage_Wishlist_Model_Item $item\n     *\n     * @return string\n     *\/",162],["T_WHITESPACE","\n    ",168],["T_PUBLIC","public",169],["T_WHITESPACE"," ",169],["T_FUNCTION","function",169],["T_WHITESPACE"," ",169],["T_STRING","getItemRemoveUrl",169],"(",["T_VARIABLE","$item",169],")",["T_WHITESPACE","\n    ",169],"{",["T_WHITESPACE","\n        ",170],["T_RETURN","return",171],["T_WHITESPACE"," ",171],["T_VARIABLE","$this",171],["T_OBJECT_OPERATOR","->",171],["T_STRING","_getHelper",171],"(",")",["T_OBJECT_OPERATOR","->",171],["T_STRING","getRemoveUrl",171],"(",["T_VARIABLE","$item",171],")",";",["T_WHITESPACE","\n    ",171],"}",["T_WHITESPACE","\n\n    ",172],["T_DOC_COMMENT","\/**\n     * Retrieve Add Item to shopping cart URL\n     *\n     * @param string|Mage_Catalog_Model_Product|Mage_Wishlist_Model_Item $item\n     * @return string\n     *\/",174],["T_WHITESPACE","\n    ",179],["T_PUBLIC","public",180],["T_WHITESPACE"," ",180],["T_FUNCTION","function",180],["T_WHITESPACE"," ",180],["T_STRING","getItemAddToCartUrl",180],"(",["T_VARIABLE","$item",180],")",["T_WHITESPACE","\n    ",180],"{",["T_WHITESPACE","\n        ",181],["T_RETURN","return",182],["T_WHITESPACE"," ",182],["T_VARIABLE","$this",182],["T_OBJECT_OPERATOR","->",182],["T_STRING","_getHelper",182],"(",")",["T_OBJECT_OPERATOR","->",182],["T_STRING","getAddToCartUrl",182],"(",["T_VARIABLE","$item",182],")",";",["T_WHITESPACE","\n    ",182],"}",["T_WHITESPACE","\n\n    ",183],["T_DOC_COMMENT","\/**\n     * Retrieve Add Item to shopping cart URL from shared wishlist\n     *\n     * @param string|Mage_Catalog_Model_Product|Mage_Wishlist_Model_Item $item\n     * @return string\n     *\/",185],["T_WHITESPACE","\n    ",190],["T_PUBLIC","public",191],["T_WHITESPACE"," ",191],["T_FUNCTION","function",191],["T_WHITESPACE"," ",191],["T_STRING","getSharedItemAddToCartUrl",191],"(",["T_VARIABLE","$item",191],")",["T_WHITESPACE","\n    ",191],"{",["T_WHITESPACE","\n        ",192],["T_RETURN","return",193],["T_WHITESPACE"," ",193],["T_VARIABLE","$this",193],["T_OBJECT_OPERATOR","->",193],["T_STRING","_getHelper",193],"(",")",["T_OBJECT_OPERATOR","->",193],["T_STRING","getSharedAddToCartUrl",193],"(",["T_VARIABLE","$item",193],")",";",["T_WHITESPACE","\n    ",193],"}",["T_WHITESPACE","\n\n    ",194],["T_DOC_COMMENT","\/**\n     * Retrieve URL for adding Product to wishlist\n     *\n     * @param Mage_Catalog_Model_Product $product\n     * @return string\n     *\/",196],["T_WHITESPACE","\n    ",201],["T_PUBLIC","public",202],["T_WHITESPACE"," ",202],["T_FUNCTION","function",202],["T_WHITESPACE"," ",202],["T_STRING","getAddToWishlistUrl",202],"(",["T_VARIABLE","$product",202],")",["T_WHITESPACE","\n    ",202],"{",["T_WHITESPACE","\n        ",203],["T_RETURN","return",204],["T_WHITESPACE"," ",204],["T_VARIABLE","$this",204],["T_OBJECT_OPERATOR","->",204],["T_STRING","_getHelper",204],"(",")",["T_OBJECT_OPERATOR","->",204],["T_STRING","getAddUrl",204],"(",["T_VARIABLE","$product",204],")",";",["T_WHITESPACE","\n    ",204],"}",["T_WHITESPACE","\n\n     ",205],["T_DOC_COMMENT","\/**\n     * Returns item configure url in wishlist\n     *\n     * @param Mage_Catalog_Model_Product|Mage_Wishlist_Model_Item $product\n     *\n     * @return string\n     *\/",207],["T_WHITESPACE","\n    ",213],["T_PUBLIC","public",214],["T_WHITESPACE"," ",214],["T_FUNCTION","function",214],["T_WHITESPACE"," ",214],["T_STRING","getItemConfigureUrl",214],"(",["T_VARIABLE","$product",214],")",["T_WHITESPACE","\n    ",214],"{",["T_WHITESPACE","\n        ",215],["T_IF","if",216],["T_WHITESPACE"," ",216],"(",["T_VARIABLE","$product",216],["T_WHITESPACE"," ",216],["T_INSTANCEOF","instanceof",216],["T_WHITESPACE"," ",216],["T_STRING","Mage_Catalog_Model_Product",216],")",["T_WHITESPACE"," ",216],"{",["T_WHITESPACE","\n            ",216],["T_VARIABLE","$id",217],["T_WHITESPACE"," ",217],"=",["T_WHITESPACE"," ",217],["T_VARIABLE","$product",217],["T_OBJECT_OPERATOR","->",217],["T_STRING","getWishlistItemId",217],"(",")",";",["T_WHITESPACE","\n        ",217],"}",["T_WHITESPACE"," ",218],["T_ELSE","else",218],["T_WHITESPACE"," ",218],"{",["T_WHITESPACE","\n            ",218],["T_VARIABLE","$id",219],["T_WHITESPACE"," ",219],"=",["T_WHITESPACE"," ",219],["T_VARIABLE","$product",219],["T_OBJECT_OPERATOR","->",219],["T_STRING","getId",219],"(",")",";",["T_WHITESPACE","\n        ",219],"}",["T_WHITESPACE","\n        ",220],["T_VARIABLE","$params",221],["T_WHITESPACE"," ",221],"=",["T_WHITESPACE"," ",221],["T_ARRAY","array",221],"(",["T_CONSTANT_ENCAPSED_STRING","'id'",221],["T_WHITESPACE"," ",221],["T_DOUBLE_ARROW","=>",221],["T_WHITESPACE"," ",221],["T_VARIABLE","$id",221],")",";",["T_WHITESPACE","\n\n        ",221],["T_RETURN","return",223],["T_WHITESPACE"," ",223],["T_VARIABLE","$this",223],["T_OBJECT_OPERATOR","->",223],["T_STRING","getUrl",223],"(",["T_CONSTANT_ENCAPSED_STRING","'wishlist\/index\/configure\/'",223],",",["T_WHITESPACE"," ",223],["T_VARIABLE","$params",223],")",";",["T_WHITESPACE","\n    ",223],"}",["T_WHITESPACE","\n\n\n    ",224],["T_DOC_COMMENT","\/**\n     * Retrieve Escaped Description for Wishlist Item\n     *\n     * @param Mage_Catalog_Model_Product $item\n     * @return string\n     *\/",227],["T_WHITESPACE","\n    ",232],["T_PUBLIC","public",233],["T_WHITESPACE"," ",233],["T_FUNCTION","function",233],["T_WHITESPACE"," ",233],["T_STRING","getEscapedDescription",233],"(",["T_VARIABLE","$item",233],")",["T_WHITESPACE","\n    ",233],"{",["T_WHITESPACE","\n        ",234],["T_IF","if",235],["T_WHITESPACE"," ",235],"(",["T_VARIABLE","$item",235],["T_OBJECT_OPERATOR","->",235],["T_STRING","getDescription",235],"(",")",")",["T_WHITESPACE"," ",235],"{",["T_WHITESPACE","\n            ",235],["T_RETURN","return",236],["T_WHITESPACE"," ",236],["T_VARIABLE","$this",236],["T_OBJECT_OPERATOR","->",236],["T_STRING","escapeHtml",236],"(",["T_VARIABLE","$item",236],["T_OBJECT_OPERATOR","->",236],["T_STRING","getDescription",236],"(",")",")",";",["T_WHITESPACE","\n        ",236],"}",["T_WHITESPACE","\n        ",237],["T_RETURN","return",238],["T_WHITESPACE"," ",238],["T_CONSTANT_ENCAPSED_STRING","'&nbsp;'",238],";",["T_WHITESPACE","\n    ",238],"}",["T_WHITESPACE","\n\n    ",239],["T_DOC_COMMENT","\/**\n     * Check Wishlist item has description\n     *\n     * @param Mage_Catalog_Model_Product $item\n     * @return bool\n     *\/",241],["T_WHITESPACE","\n    ",246],["T_PUBLIC","public",247],["T_WHITESPACE"," ",247],["T_FUNCTION","function",247],["T_WHITESPACE"," ",247],["T_STRING","hasDescription",247],"(",["T_VARIABLE","$item",247],")",["T_WHITESPACE","\n    ",247],"{",["T_WHITESPACE","\n        ",248],["T_RETURN","return",249],["T_WHITESPACE"," ",249],["T_STRING","trim",249],"(",["T_VARIABLE","$item",249],["T_OBJECT_OPERATOR","->",249],["T_STRING","getDescription",249],"(",")",")",["T_WHITESPACE"," ",249],["T_IS_NOT_EQUAL","!=",249],["T_WHITESPACE"," ",249],["T_CONSTANT_ENCAPSED_STRING","''",249],";",["T_WHITESPACE","\n    ",249],"}",["T_WHITESPACE","\n\n    ",250],["T_DOC_COMMENT","\/**\n     * Retrieve formated Date\n     *\n     * @param string $date\n     * @return string\n     *\/",252],["T_WHITESPACE","\n    ",257],["T_PUBLIC","public",258],["T_WHITESPACE"," ",258],["T_FUNCTION","function",258],["T_WHITESPACE"," ",258],["T_STRING","getFormatedDate",258],"(",["T_VARIABLE","$date",258],")",["T_WHITESPACE","\n    ",258],"{",["T_WHITESPACE","\n        ",259],["T_RETURN","return",260],["T_WHITESPACE"," ",260],["T_VARIABLE","$this",260],["T_OBJECT_OPERATOR","->",260],["T_STRING","formatDate",260],"(",["T_VARIABLE","$date",260],",",["T_WHITESPACE"," ",260],["T_STRING","Mage_Core_Model_Locale",260],["T_DOUBLE_COLON","::",260],["T_STRING","FORMAT_TYPE_MEDIUM",260],")",";",["T_WHITESPACE","\n    ",260],"}",["T_WHITESPACE","\n\n    ",261],["T_DOC_COMMENT","\/**\n     * Check is the wishlist has a salable product(s)\n     *\n     * @return bool\n     *\/",263],["T_WHITESPACE","\n    ",267],["T_PUBLIC","public",268],["T_WHITESPACE"," ",268],["T_FUNCTION","function",268],["T_WHITESPACE"," ",268],["T_STRING","isSaleable",268],"(",")",["T_WHITESPACE","\n    ",268],"{",["T_WHITESPACE","\n        ",269],["T_FOREACH","foreach",270],["T_WHITESPACE"," ",270],"(",["T_VARIABLE","$this",270],["T_OBJECT_OPERATOR","->",270],["T_STRING","getWishlistItems",270],"(",")",["T_WHITESPACE"," ",270],["T_AS","as",270],["T_WHITESPACE"," ",270],["T_VARIABLE","$item",270],")",["T_WHITESPACE"," ",270],"{",["T_WHITESPACE","\n            ",270],["T_IF","if",271],["T_WHITESPACE"," ",271],"(",["T_VARIABLE","$item",271],["T_OBJECT_OPERATOR","->",271],["T_STRING","getProduct",271],"(",")",["T_OBJECT_OPERATOR","->",271],["T_STRING","isSaleable",271],"(",")",")",["T_WHITESPACE"," ",271],"{",["T_WHITESPACE","\n                ",271],["T_RETURN","return",272],["T_WHITESPACE"," ",272],["T_STRING","true",272],";",["T_WHITESPACE","\n            ",272],"}",["T_WHITESPACE","\n        ",273],"}",["T_WHITESPACE","\n\n        ",274],["T_RETURN","return",276],["T_WHITESPACE"," ",276],["T_STRING","false",276],";",["T_WHITESPACE","\n    ",276],"}",["T_WHITESPACE","\n\n    ",277],["T_DOC_COMMENT","\/**\n     * Retrieve wishlist loaded items count\n     *\n     * @return int\n     *\/",279],["T_WHITESPACE","\n    ",283],["T_PUBLIC","public",284],["T_WHITESPACE"," ",284],["T_FUNCTION","function",284],["T_WHITESPACE"," ",284],["T_STRING","getWishlistItemsCount",284],"(",")",["T_WHITESPACE","\n    ",284],"{",["T_WHITESPACE","\n        ",285],["T_RETURN","return",286],["T_WHITESPACE"," ",286],["T_VARIABLE","$this",286],["T_OBJECT_OPERATOR","->",286],["T_STRING","_getWishlist",286],"(",")",["T_OBJECT_OPERATOR","->",286],["T_STRING","getItemsCount",286],"(",")",";",["T_WHITESPACE","\n    ",286],"}",["T_WHITESPACE","\n\n    ",287],["T_DOC_COMMENT","\/**\n     * Retrieve Qty from item\n     *\n     * @param Mage_Wishlist_Model_Item|Mage_Catalog_Model_Product $item\n     * @return float\n     *\/",289],["T_WHITESPACE","\n    ",294],["T_PUBLIC","public",295],["T_WHITESPACE"," ",295],["T_FUNCTION","function",295],["T_WHITESPACE"," ",295],["T_STRING","getQty",295],"(",["T_VARIABLE","$item",295],")",["T_WHITESPACE","\n    ",295],"{",["T_WHITESPACE","\n        ",296],["T_VARIABLE","$qty",297],["T_WHITESPACE"," ",297],"=",["T_WHITESPACE"," ",297],["T_VARIABLE","$item",297],["T_OBJECT_OPERATOR","->",297],["T_STRING","getQty",297],"(",")",["T_WHITESPACE"," ",297],"*",["T_WHITESPACE"," ",297],["T_LNUMBER","1",297],";",["T_WHITESPACE","\n        ",297],["T_IF","if",298],["T_WHITESPACE"," ",298],"(","!",["T_VARIABLE","$qty",298],")",["T_WHITESPACE"," ",298],"{",["T_WHITESPACE","\n            ",298],["T_VARIABLE","$qty",299],["T_WHITESPACE"," ",299],"=",["T_WHITESPACE"," ",299],["T_LNUMBER","1",299],";",["T_WHITESPACE","\n        ",299],"}",["T_WHITESPACE","\n        ",300],["T_RETURN","return",301],["T_WHITESPACE"," ",301],["T_VARIABLE","$qty",301],";",["T_WHITESPACE","\n    ",301],"}",["T_WHITESPACE","\n\n    ",302],["T_DOC_COMMENT","\/**\n     * Check is the wishlist has items\n     *\n     * @return bool\n     *\/",304],["T_WHITESPACE","\n    ",308],["T_PUBLIC","public",309],["T_WHITESPACE"," ",309],["T_FUNCTION","function",309],["T_WHITESPACE"," ",309],["T_STRING","hasWishlistItems",309],"(",")",["T_WHITESPACE","\n    ",309],"{",["T_WHITESPACE","\n        ",310],["T_RETURN","return",311],["T_WHITESPACE"," ",311],["T_VARIABLE","$this",311],["T_OBJECT_OPERATOR","->",311],["T_STRING","getWishlistItemsCount",311],"(",")",["T_WHITESPACE"," ",311],">",["T_WHITESPACE"," ",311],["T_LNUMBER","0",311],";",["T_WHITESPACE","\n    ",311],"}",["T_WHITESPACE","\n\n    ",312],["T_DOC_COMMENT","\/**\n     * Adds special block to render price for item with specific product type\n     *\n     * @param string $type\n     * @param string $block\n     * @param string $template\n     *\/",314],["T_WHITESPACE","\n    ",320],["T_PUBLIC","public",321],["T_WHITESPACE"," ",321],["T_FUNCTION","function",321],["T_WHITESPACE"," ",321],["T_STRING","addItemPriceBlockType",321],"(",["T_VARIABLE","$type",321],",",["T_WHITESPACE"," ",321],["T_VARIABLE","$block",321],["T_WHITESPACE"," ",321],"=",["T_WHITESPACE"," ",321],["T_CONSTANT_ENCAPSED_STRING","''",321],",",["T_WHITESPACE"," ",321],["T_VARIABLE","$template",321],["T_WHITESPACE"," ",321],"=",["T_WHITESPACE"," ",321],["T_CONSTANT_ENCAPSED_STRING","''",321],")",["T_WHITESPACE","\n    ",321],"{",["T_WHITESPACE","\n        ",322],["T_IF","if",323],["T_WHITESPACE"," ",323],"(",["T_VARIABLE","$type",323],")",["T_WHITESPACE"," ",323],"{",["T_WHITESPACE","\n            ",323],["T_VARIABLE","$this",324],["T_OBJECT_OPERATOR","->",324],["T_STRING","_itemPriceBlockTypes",324],"[",["T_VARIABLE","$type",324],"]",["T_WHITESPACE"," ",324],"=",["T_WHITESPACE"," ",324],["T_ARRAY","array",324],"(",["T_WHITESPACE","\n                ",324],["T_CONSTANT_ENCAPSED_STRING","'block'",325],["T_WHITESPACE"," ",325],["T_DOUBLE_ARROW","=>",325],["T_WHITESPACE"," ",325],["T_VARIABLE","$block",325],",",["T_WHITESPACE","\n                ",325],["T_CONSTANT_ENCAPSED_STRING","'template'",326],["T_WHITESPACE"," ",326],["T_DOUBLE_ARROW","=>",326],["T_WHITESPACE"," ",326],["T_VARIABLE","$template",326],["T_WHITESPACE","\n            ",326],")",";",["T_WHITESPACE","\n        ",327],"}",["T_WHITESPACE","\n    ",328],"}",["T_WHITESPACE","\n\n    ",329],["T_DOC_COMMENT","\/**\n     * Returns block to render item with some product type\n     *\n     * @param string $productType\n     * @return Mage_Core_Block_Template\n     *\/",331],["T_WHITESPACE","\n    ",336],["T_PROTECTED","protected",337],["T_WHITESPACE"," ",337],["T_FUNCTION","function",337],["T_WHITESPACE"," ",337],["T_STRING","_getItemPriceBlock",337],"(",["T_VARIABLE","$productType",337],")",["T_WHITESPACE","\n    ",337],"{",["T_WHITESPACE","\n        ",338],["T_IF","if",339],["T_WHITESPACE"," ",339],"(","!",["T_ISSET","isset",339],"(",["T_VARIABLE","$this",339],["T_OBJECT_OPERATOR","->",339],["T_STRING","_itemPriceBlockTypes",339],"[",["T_VARIABLE","$productType",339],"]",")",")",["T_WHITESPACE"," ",339],"{",["T_WHITESPACE","\n            ",339],["T_VARIABLE","$productType",340],["T_WHITESPACE"," ",340],"=",["T_WHITESPACE"," ",340],["T_CONSTANT_ENCAPSED_STRING","'default'",340],";",["T_WHITESPACE","\n        ",340],"}",["T_WHITESPACE","\n\n        ",341],["T_IF","if",343],["T_WHITESPACE"," ",343],"(","!",["T_ISSET","isset",343],"(",["T_VARIABLE","$this",343],["T_OBJECT_OPERATOR","->",343],["T_STRING","_cachedItemPriceBlocks",343],"[",["T_VARIABLE","$productType",343],"]",")",")",["T_WHITESPACE"," ",343],"{",["T_WHITESPACE","\n            ",343],["T_VARIABLE","$blockType",344],["T_WHITESPACE"," ",344],"=",["T_WHITESPACE"," ",344],["T_VARIABLE","$this",344],["T_OBJECT_OPERATOR","->",344],["T_STRING","_itemPriceBlockTypes",344],"[",["T_VARIABLE","$productType",344],"]","[",["T_CONSTANT_ENCAPSED_STRING","'block'",344],"]",";",["T_WHITESPACE","\n            ",344],["T_VARIABLE","$template",345],["T_WHITESPACE"," ",345],"=",["T_WHITESPACE"," ",345],["T_VARIABLE","$this",345],["T_OBJECT_OPERATOR","->",345],["T_STRING","_itemPriceBlockTypes",345],"[",["T_VARIABLE","$productType",345],"]","[",["T_CONSTANT_ENCAPSED_STRING","'template'",345],"]",";",["T_WHITESPACE","\n            ",345],["T_VARIABLE","$block",346],["T_WHITESPACE"," ",346],"=",["T_WHITESPACE"," ",346],["T_VARIABLE","$this",346],["T_OBJECT_OPERATOR","->",346],["T_STRING","getLayout",346],"(",")",["T_OBJECT_OPERATOR","->",346],["T_STRING","createBlock",346],"(",["T_VARIABLE","$blockType",346],")",["T_WHITESPACE","\n                ",346],["T_OBJECT_OPERATOR","->",347],["T_STRING","setTemplate",347],"(",["T_VARIABLE","$template",347],")",";",["T_WHITESPACE","\n            ",347],["T_VARIABLE","$this",348],["T_OBJECT_OPERATOR","->",348],["T_STRING","_cachedItemPriceBlocks",348],"[",["T_VARIABLE","$productType",348],"]",["T_WHITESPACE"," ",348],"=",["T_WHITESPACE"," ",348],["T_VARIABLE","$block",348],";",["T_WHITESPACE","\n        ",348],"}",["T_WHITESPACE","\n        ",349],["T_RETURN","return",350],["T_WHITESPACE"," ",350],["T_VARIABLE","$this",350],["T_OBJECT_OPERATOR","->",350],["T_STRING","_cachedItemPriceBlocks",350],"[",["T_VARIABLE","$productType",350],"]",";",["T_WHITESPACE","\n    ",350],"}",["T_WHITESPACE","\n\n    ",351],["T_DOC_COMMENT","\/**\n     * Returns product price block html\n     * Overwrites parent price html return to be ready to show configured, partially configured and\n     * non-configured products\n     *\n     * @param Mage_Catalog_Model_Product $product\n     * @param bool $displayMinimalPrice\n     * @param string $idSuffix\n     *\n     * @return string\n     *\/",353],["T_WHITESPACE","\n    ",363],["T_PUBLIC","public",364],["T_WHITESPACE"," ",364],["T_FUNCTION","function",364],["T_WHITESPACE"," ",364],["T_STRING","getPriceHtml",364],"(",["T_VARIABLE","$product",364],",",["T_WHITESPACE"," ",364],["T_VARIABLE","$displayMinimalPrice",364],["T_WHITESPACE"," ",364],"=",["T_WHITESPACE"," ",364],["T_STRING","false",364],",",["T_WHITESPACE"," ",364],["T_VARIABLE","$idSuffix",364],["T_WHITESPACE"," ",364],"=",["T_WHITESPACE"," ",364],["T_CONSTANT_ENCAPSED_STRING","''",364],")",["T_WHITESPACE","\n    ",364],"{",["T_WHITESPACE","\n        ",365],["T_VARIABLE","$type_id",366],["T_WHITESPACE"," ",366],"=",["T_WHITESPACE"," ",366],["T_VARIABLE","$product",366],["T_OBJECT_OPERATOR","->",366],["T_STRING","getTypeId",366],"(",")",";",["T_WHITESPACE","\n        ",366],["T_IF","if",367],["T_WHITESPACE"," ",367],"(",["T_STRING","Mage",367],["T_DOUBLE_COLON","::",367],["T_STRING","helper",367],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog'",367],")",["T_OBJECT_OPERATOR","->",367],["T_STRING","canApplyMsrp",367],"(",["T_VARIABLE","$product",367],")",")",["T_WHITESPACE"," ",367],"{",["T_WHITESPACE","\n            ",367],["T_VARIABLE","$realPriceHtml",368],["T_WHITESPACE"," ",368],"=",["T_WHITESPACE"," ",368],["T_VARIABLE","$this",368],["T_OBJECT_OPERATOR","->",368],["T_STRING","_preparePriceRenderer",368],"(",["T_VARIABLE","$type_id",368],")",["T_WHITESPACE","\n                ",368],["T_OBJECT_OPERATOR","->",369],["T_STRING","setProduct",369],"(",["T_VARIABLE","$product",369],")",["T_WHITESPACE","\n                ",369],["T_OBJECT_OPERATOR","->",370],["T_STRING","setDisplayMinimalPrice",370],"(",["T_VARIABLE","$displayMinimalPrice",370],")",["T_WHITESPACE","\n                ",370],["T_OBJECT_OPERATOR","->",371],["T_STRING","setIdSuffix",371],"(",["T_VARIABLE","$idSuffix",371],")",["T_WHITESPACE","\n                ",371],["T_OBJECT_OPERATOR","->",372],["T_STRING","setIsEmulateMode",372],"(",["T_STRING","true",372],")",["T_WHITESPACE","\n                ",372],["T_OBJECT_OPERATOR","->",373],["T_STRING","toHtml",373],"(",")",";",["T_WHITESPACE","\n            ",373],["T_VARIABLE","$product",374],["T_OBJECT_OPERATOR","->",374],["T_STRING","setAddToCartUrl",374],"(",["T_VARIABLE","$this",374],["T_OBJECT_OPERATOR","->",374],["T_STRING","getAddToCartUrl",374],"(",["T_VARIABLE","$product",374],")",")",";",["T_WHITESPACE","\n            ",374],["T_VARIABLE","$product",375],["T_OBJECT_OPERATOR","->",375],["T_STRING","setRealPriceHtml",375],"(",["T_VARIABLE","$realPriceHtml",375],")",";",["T_WHITESPACE","\n            ",375],["T_VARIABLE","$type_id",376],["T_WHITESPACE"," ",376],"=",["T_WHITESPACE"," ",376],["T_VARIABLE","$this",376],["T_OBJECT_OPERATOR","->",376],["T_STRING","_mapRenderer",376],";",["T_WHITESPACE","\n        ",376],"}",["T_WHITESPACE","\n\n        ",377],["T_RETURN","return",379],["T_WHITESPACE"," ",379],["T_VARIABLE","$this",379],["T_OBJECT_OPERATOR","->",379],["T_STRING","_preparePriceRenderer",379],"(",["T_VARIABLE","$type_id",379],")",["T_WHITESPACE","\n            ",379],["T_OBJECT_OPERATOR","->",380],["T_STRING","setProduct",380],"(",["T_VARIABLE","$product",380],")",["T_WHITESPACE","\n            ",380],["T_OBJECT_OPERATOR","->",381],["T_STRING","setDisplayMinimalPrice",381],"(",["T_VARIABLE","$displayMinimalPrice",381],")",["T_WHITESPACE","\n            ",381],["T_OBJECT_OPERATOR","->",382],["T_STRING","setIdSuffix",382],"(",["T_VARIABLE","$idSuffix",382],")",["T_WHITESPACE","\n            ",382],["T_OBJECT_OPERATOR","->",383],["T_STRING","toHtml",383],"(",")",";",["T_WHITESPACE","\n    ",383],"}",["T_WHITESPACE","\n\n    ",384],["T_DOC_COMMENT","\/**\n     * Retrieve URL to item Product\n     *\n     * @param  Mage_Wishlist_Model_Item|Mage_Catalog_Model_Product $item\n     * @param  array $additional\n     * @return string\n     *\/",386],["T_WHITESPACE","\n    ",392],["T_PUBLIC","public",393],["T_WHITESPACE"," ",393],["T_FUNCTION","function",393],["T_WHITESPACE"," ",393],["T_STRING","getProductUrl",393],"(",["T_VARIABLE","$item",393],",",["T_WHITESPACE"," ",393],["T_VARIABLE","$additional",393],["T_WHITESPACE"," ",393],"=",["T_WHITESPACE"," ",393],["T_ARRAY","array",393],"(",")",")",["T_WHITESPACE","\n    ",393],"{",["T_WHITESPACE","\n        ",394],["T_IF","if",395],["T_WHITESPACE"," ",395],"(",["T_VARIABLE","$item",395],["T_WHITESPACE"," ",395],["T_INSTANCEOF","instanceof",395],["T_WHITESPACE"," ",395],["T_STRING","Mage_Catalog_Model_Product",395],")",["T_WHITESPACE"," ",395],"{",["T_WHITESPACE","\n            ",395],["T_VARIABLE","$product",396],["T_WHITESPACE"," ",396],"=",["T_WHITESPACE"," ",396],["T_VARIABLE","$item",396],";",["T_WHITESPACE","\n        ",396],"}",["T_WHITESPACE"," ",397],["T_ELSE","else",397],["T_WHITESPACE"," ",397],"{",["T_WHITESPACE","\n            ",397],["T_VARIABLE","$product",398],["T_WHITESPACE"," ",398],"=",["T_WHITESPACE"," ",398],["T_VARIABLE","$item",398],["T_OBJECT_OPERATOR","->",398],["T_STRING","getProduct",398],"(",")",";",["T_WHITESPACE","\n        ",398],"}",["T_WHITESPACE","\n        ",399],["T_VARIABLE","$buyRequest",400],["T_WHITESPACE"," ",400],"=",["T_WHITESPACE"," ",400],["T_VARIABLE","$item",400],["T_OBJECT_OPERATOR","->",400],["T_STRING","getBuyRequest",400],"(",")",";",["T_WHITESPACE","\n        ",400],["T_IF","if",401],["T_WHITESPACE"," ",401],"(",["T_STRING","is_object",401],"(",["T_VARIABLE","$buyRequest",401],")",")",["T_WHITESPACE"," ",401],"{",["T_WHITESPACE","\n            ",401],["T_VARIABLE","$config",402],["T_WHITESPACE"," ",402],"=",["T_WHITESPACE"," ",402],["T_VARIABLE","$buyRequest",402],["T_OBJECT_OPERATOR","->",402],["T_STRING","getSuperProductConfig",402],"(",")",";",["T_WHITESPACE","\n            ",402],["T_IF","if",403],["T_WHITESPACE"," ",403],"(",["T_VARIABLE","$config",403],["T_WHITESPACE"," ",403],["T_BOOLEAN_AND","&&",403],["T_WHITESPACE"," ",403],"!",["T_EMPTY","empty",403],"(",["T_VARIABLE","$config",403],"[",["T_CONSTANT_ENCAPSED_STRING","'product_id'",403],"]",")",")",["T_WHITESPACE"," ",403],"{",["T_WHITESPACE","\n                ",403],["T_VARIABLE","$product",404],["T_WHITESPACE"," ",404],"=",["T_WHITESPACE"," ",404],["T_STRING","Mage",404],["T_DOUBLE_COLON","::",404],["T_STRING","getModel",404],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog\/product'",404],")",["T_WHITESPACE","\n                    ",404],["T_OBJECT_OPERATOR","->",405],["T_STRING","setStoreId",405],"(",["T_STRING","Mage",405],["T_DOUBLE_COLON","::",405],["T_STRING","app",405],"(",")",["T_OBJECT_OPERATOR","->",405],["T_STRING","getStore",405],"(",")",["T_OBJECT_OPERATOR","->",405],["T_STRING","getStoreId",405],"(",")",")",["T_WHITESPACE","\n                    ",405],["T_OBJECT_OPERATOR","->",406],["T_STRING","load",406],"(",["T_VARIABLE","$config",406],"[",["T_CONSTANT_ENCAPSED_STRING","'product_id'",406],"]",")",";",["T_WHITESPACE","\n            ",406],"}",["T_WHITESPACE","\n        ",407],"}",["T_WHITESPACE","\n        ",408],["T_RETURN","return",409],["T_WHITESPACE"," ",409],["T_STRING","parent",409],["T_DOUBLE_COLON","::",409],["T_STRING","getProductUrl",409],"(",["T_VARIABLE","$product",409],",",["T_WHITESPACE"," ",409],["T_VARIABLE","$additional",409],")",";",["T_WHITESPACE","\n    ",409],"}",["T_WHITESPACE","\n",410],"}",["T_WHITESPACE","\n",411]]