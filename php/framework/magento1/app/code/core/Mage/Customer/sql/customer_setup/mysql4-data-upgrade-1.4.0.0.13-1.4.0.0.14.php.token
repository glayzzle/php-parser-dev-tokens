[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Magento\n *\n * NOTICE OF LICENSE\n *\n * This source file is subject to the Open Software License (OSL 3.0)\n * that is bundled with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/opensource.org\/licenses\/osl-3.0.php\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@magento.com so we can send you a copy immediately.\n *\n * DISCLAIMER\n *\n * Do not edit or add to this file if you wish to upgrade Magento to newer\n * versions in the future. If you wish to customize Magento for your\n * needs please refer to http:\/\/www.magento.com for more information.\n *\n * @category    Mage\n * @package     Mage_Customer\n * @copyright  Copyright (c) 2006-2016 X.commerce, Inc. and affiliates (http:\/\/www.magento.com)\n * @license    http:\/\/opensource.org\/licenses\/osl-3.0.php  Open Software License (OSL 3.0)\n *\/",2],["T_WHITESPACE","\n\n",25],["T_COMMENT","\/* @var $installer Mage_Customer_Model_Entity_Setup *\/",27],["T_WHITESPACE","\n",27],["T_VARIABLE","$installer",28],["T_WHITESPACE"," ",28],"=",["T_WHITESPACE"," ",28],["T_VARIABLE","$this",28],";",["T_WHITESPACE","\n",28],["T_COMMENT","\/* @var $eavConfig Mage_Eav_Model_Config *\/",29],["T_WHITESPACE","\n",29],["T_VARIABLE","$eavConfig",30],["T_WHITESPACE"," ",30],"=",["T_WHITESPACE"," ",30],["T_STRING","Mage",30],["T_DOUBLE_COLON","::",30],["T_STRING","getSingleton",30],"(",["T_CONSTANT_ENCAPSED_STRING","'eav\/config'",30],")",";",["T_WHITESPACE","\n\n",30],["T_COMMENT","\/\/ update customer system attributes used_in_forms data\n",32],["T_VARIABLE","$attributes",33],["T_WHITESPACE"," ",33],"=",["T_WHITESPACE"," ",33],["T_ARRAY","array",33],"(",["T_WHITESPACE","\n    ",33],["T_CONSTANT_ENCAPSED_STRING","'confirmation'",34],["T_WHITESPACE","      ",34],["T_DOUBLE_ARROW","=>",34],["T_WHITESPACE"," ",34],["T_ARRAY","array",34],"(",")",",",["T_WHITESPACE","\n    ",34],["T_CONSTANT_ENCAPSED_STRING","'default_billing'",35],["T_WHITESPACE","   ",35],["T_DOUBLE_ARROW","=>",35],["T_WHITESPACE"," ",35],["T_ARRAY","array",35],"(",")",",",["T_WHITESPACE","\n    ",35],["T_CONSTANT_ENCAPSED_STRING","'default_shipping'",36],["T_WHITESPACE","  ",36],["T_DOUBLE_ARROW","=>",36],["T_WHITESPACE"," ",36],["T_ARRAY","array",36],"(",")",",",["T_WHITESPACE","\n    ",36],["T_CONSTANT_ENCAPSED_STRING","'password_hash'",37],["T_WHITESPACE","     ",37],["T_DOUBLE_ARROW","=>",37],["T_WHITESPACE"," ",37],["T_ARRAY","array",37],"(",")",",",["T_WHITESPACE","\n    ",37],["T_CONSTANT_ENCAPSED_STRING","'website_id'",38],["T_WHITESPACE","        ",38],["T_DOUBLE_ARROW","=>",38],["T_WHITESPACE"," ",38],["T_ARRAY","array",38],"(",["T_CONSTANT_ENCAPSED_STRING","'adminhtml_only'",38],["T_WHITESPACE"," ",38],["T_DOUBLE_ARROW","=>",38],["T_WHITESPACE"," ",38],["T_LNUMBER","1",38],")",",",["T_WHITESPACE","\n    ",38],["T_CONSTANT_ENCAPSED_STRING","'created_in'",39],["T_WHITESPACE","        ",39],["T_DOUBLE_ARROW","=>",39],["T_WHITESPACE"," ",39],["T_ARRAY","array",39],"(",["T_CONSTANT_ENCAPSED_STRING","'adminhtml_only'",39],["T_WHITESPACE"," ",39],["T_DOUBLE_ARROW","=>",39],["T_WHITESPACE"," ",39],["T_LNUMBER","1",39],")",",",["T_WHITESPACE","\n    ",39],["T_CONSTANT_ENCAPSED_STRING","'store_id'",40],["T_WHITESPACE","          ",40],["T_DOUBLE_ARROW","=>",40],["T_WHITESPACE"," ",40],["T_ARRAY","array",40],"(",")",",",["T_WHITESPACE","\n    ",40],["T_CONSTANT_ENCAPSED_STRING","'group_id'",41],["T_WHITESPACE","          ",41],["T_DOUBLE_ARROW","=>",41],["T_WHITESPACE"," ",41],["T_ARRAY","array",41],"(",["T_CONSTANT_ENCAPSED_STRING","'adminhtml_only'",41],["T_WHITESPACE"," ",41],["T_DOUBLE_ARROW","=>",41],["T_WHITESPACE"," ",41],["T_LNUMBER","1",41],",",["T_WHITESPACE"," ",41],["T_CONSTANT_ENCAPSED_STRING","'admin_checkout'",41],["T_WHITESPACE"," ",41],["T_DOUBLE_ARROW","=>",41],["T_WHITESPACE"," ",41],["T_LNUMBER","1",41],")",",",["T_WHITESPACE","\n    ",41],["T_CONSTANT_ENCAPSED_STRING","'prefix'",42],["T_WHITESPACE","            ",42],["T_DOUBLE_ARROW","=>",42],["T_WHITESPACE"," ",42],["T_ARRAY","array",42],"(",")",",",["T_WHITESPACE","\n    ",42],["T_CONSTANT_ENCAPSED_STRING","'firstname'",43],["T_WHITESPACE","         ",43],["T_DOUBLE_ARROW","=>",43],["T_WHITESPACE"," ",43],["T_ARRAY","array",43],"(",")",",",["T_WHITESPACE","\n    ",43],["T_CONSTANT_ENCAPSED_STRING","'middlename'",44],["T_WHITESPACE","        ",44],["T_DOUBLE_ARROW","=>",44],["T_WHITESPACE"," ",44],["T_ARRAY","array",44],"(",")",",",["T_WHITESPACE","\n    ",44],["T_CONSTANT_ENCAPSED_STRING","'lastname'",45],["T_WHITESPACE","          ",45],["T_DOUBLE_ARROW","=>",45],["T_WHITESPACE"," ",45],["T_ARRAY","array",45],"(",")",",",["T_WHITESPACE","\n    ",45],["T_CONSTANT_ENCAPSED_STRING","'suffix'",46],["T_WHITESPACE","            ",46],["T_DOUBLE_ARROW","=>",46],["T_WHITESPACE"," ",46],["T_ARRAY","array",46],"(",")",",",["T_WHITESPACE","\n    ",46],["T_CONSTANT_ENCAPSED_STRING","'email'",47],["T_WHITESPACE","             ",47],["T_DOUBLE_ARROW","=>",47],["T_WHITESPACE"," ",47],["T_ARRAY","array",47],"(",["T_CONSTANT_ENCAPSED_STRING","'admin_checkout'",47],["T_WHITESPACE"," ",47],["T_DOUBLE_ARROW","=>",47],["T_WHITESPACE"," ",47],["T_LNUMBER","1",47],")",",",["T_WHITESPACE","\n    ",47],["T_CONSTANT_ENCAPSED_STRING","'dob'",48],["T_WHITESPACE","               ",48],["T_DOUBLE_ARROW","=>",48],["T_WHITESPACE"," ",48],["T_ARRAY","array",48],"(",["T_CONSTANT_ENCAPSED_STRING","'admin_checkout'",48],["T_WHITESPACE"," ",48],["T_DOUBLE_ARROW","=>",48],["T_WHITESPACE"," ",48],["T_LNUMBER","1",48],")",",",["T_WHITESPACE","\n    ",48],["T_CONSTANT_ENCAPSED_STRING","'taxvat'",49],["T_WHITESPACE","            ",49],["T_DOUBLE_ARROW","=>",49],["T_WHITESPACE"," ",49],["T_ARRAY","array",49],"(",["T_CONSTANT_ENCAPSED_STRING","'admin_checkout'",49],["T_WHITESPACE"," ",49],["T_DOUBLE_ARROW","=>",49],["T_WHITESPACE"," ",49],["T_LNUMBER","1",49],")",",",["T_WHITESPACE","\n    ",49],["T_CONSTANT_ENCAPSED_STRING","'gender'",50],["T_WHITESPACE","            ",50],["T_DOUBLE_ARROW","=>",50],["T_WHITESPACE"," ",50],["T_ARRAY","array",50],"(",["T_CONSTANT_ENCAPSED_STRING","'admin_checkout'",50],["T_WHITESPACE"," ",50],["T_DOUBLE_ARROW","=>",50],["T_WHITESPACE"," ",50],["T_LNUMBER","1",50],")",",",["T_WHITESPACE","\n",50],")",";",["T_WHITESPACE","\n\n",51],["T_VARIABLE","$defaultUsedInForms",53],["T_WHITESPACE"," ",53],"=",["T_WHITESPACE"," ",53],["T_ARRAY","array",53],"(",["T_WHITESPACE","\n    ",53],["T_CONSTANT_ENCAPSED_STRING","'customer_account_create'",54],",",["T_WHITESPACE","\n    ",54],["T_CONSTANT_ENCAPSED_STRING","'customer_account_edit'",55],",",["T_WHITESPACE","\n    ",55],["T_CONSTANT_ENCAPSED_STRING","'checkout_register'",56],",",["T_WHITESPACE","\n",56],")",";",["T_WHITESPACE","\n\n",57],["T_FOREACH","foreach",59],["T_WHITESPACE"," ",59],"(",["T_VARIABLE","$attributes",59],["T_WHITESPACE"," ",59],["T_AS","as",59],["T_WHITESPACE"," ",59],["T_VARIABLE","$attributeCode",59],["T_WHITESPACE"," ",59],["T_DOUBLE_ARROW","=>",59],["T_WHITESPACE"," ",59],["T_VARIABLE","$data",59],")",["T_WHITESPACE"," ",59],"{",["T_WHITESPACE","\n    ",59],["T_VARIABLE","$attribute",60],["T_WHITESPACE"," ",60],"=",["T_WHITESPACE"," ",60],["T_VARIABLE","$eavConfig",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","getAttribute",60],"(",["T_CONSTANT_ENCAPSED_STRING","'customer'",60],",",["T_WHITESPACE"," ",60],["T_VARIABLE","$attributeCode",60],")",";",["T_WHITESPACE","\n    ",60],["T_IF","if",61],["T_WHITESPACE"," ",61],"(","!",["T_VARIABLE","$attribute",61],")",["T_WHITESPACE"," ",61],"{",["T_WHITESPACE","\n        ",61],["T_CONTINUE","continue",62],";",["T_WHITESPACE","\n    ",62],"}",["T_WHITESPACE","\n    ",63],["T_IF","if",64],["T_WHITESPACE"," ",64],"(",["T_STRING","false",64],["T_WHITESPACE"," ",64],["T_IS_IDENTICAL","===",64],["T_WHITESPACE"," ",64],"(",["T_VARIABLE","$attribute",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","getData",64],"(",["T_CONSTANT_ENCAPSED_STRING","'is_system'",64],")",["T_WHITESPACE"," ",64],["T_IS_EQUAL","==",64],["T_WHITESPACE"," ",64],["T_LNUMBER","1",64],["T_WHITESPACE"," ",64],["T_BOOLEAN_AND","&&",64],["T_WHITESPACE"," ",64],["T_VARIABLE","$attribute",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","getData",64],"(",["T_CONSTANT_ENCAPSED_STRING","'is_visible'",64],")",["T_WHITESPACE"," ",64],["T_IS_EQUAL","==",64],["T_WHITESPACE"," ",64],["T_LNUMBER","0",64],")",")",["T_WHITESPACE"," ",64],"{",["T_WHITESPACE","\n        ",64],["T_VARIABLE","$usedInForms",65],["T_WHITESPACE"," ",65],"=",["T_WHITESPACE"," ",65],["T_VARIABLE","$defaultUsedInForms",65],";",["T_WHITESPACE","\n        ",65],["T_IF","if",66],["T_WHITESPACE"," ",66],"(","!",["T_EMPTY","empty",66],"(",["T_VARIABLE","$data",66],"[",["T_CONSTANT_ENCAPSED_STRING","'adminhtml_only'",66],"]",")",")",["T_WHITESPACE"," ",66],"{",["T_WHITESPACE","\n            ",66],["T_VARIABLE","$usedInForms",67],["T_WHITESPACE"," ",67],"=",["T_WHITESPACE"," ",67],["T_ARRAY","array",67],"(",["T_CONSTANT_ENCAPSED_STRING","'adminhtml_customer'",67],")",";",["T_WHITESPACE","\n        ",67],"}",["T_WHITESPACE"," ",68],["T_ELSE","else",68],["T_WHITESPACE"," ",68],"{",["T_WHITESPACE","\n            ",68],["T_VARIABLE","$usedInForms",69],"[","]",["T_WHITESPACE"," ",69],"=",["T_WHITESPACE"," ",69],["T_CONSTANT_ENCAPSED_STRING","'adminhtml_customer'",69],";",["T_WHITESPACE","\n        ",69],"}",["T_WHITESPACE","\n        ",70],["T_IF","if",71],["T_WHITESPACE"," ",71],"(","!",["T_EMPTY","empty",71],"(",["T_VARIABLE","$data",71],"[",["T_CONSTANT_ENCAPSED_STRING","'admin_checkout'",71],"]",")",")",["T_WHITESPACE"," ",71],"{",["T_WHITESPACE","\n            ",71],["T_VARIABLE","$usedInForms",72],"[","]",["T_WHITESPACE"," ",72],"=",["T_WHITESPACE"," ",72],["T_CONSTANT_ENCAPSED_STRING","'adminhtml_checkout'",72],";",["T_WHITESPACE","\n        ",72],"}",["T_WHITESPACE","\n        ",73],["T_VARIABLE","$attribute",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","setData",74],"(",["T_CONSTANT_ENCAPSED_STRING","'used_in_forms'",74],",",["T_WHITESPACE"," ",74],["T_VARIABLE","$usedInForms",74],")",";",["T_WHITESPACE","\n    ",74],"}",["T_WHITESPACE","\n    ",75],["T_VARIABLE","$attribute",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","save",76],"(",")",";",["T_WHITESPACE","\n",76],"}",["T_WHITESPACE","\n\n",77],["T_COMMENT","\/\/ update customer address system attributes used_in_forms data\n",79],["T_VARIABLE","$attributes",80],["T_WHITESPACE"," ",80],"=",["T_WHITESPACE"," ",80],["T_ARRAY","array",80],"(",["T_WHITESPACE","\n    ",80],["T_CONSTANT_ENCAPSED_STRING","'prefix'",81],",",["T_WHITESPACE"," ",81],["T_CONSTANT_ENCAPSED_STRING","'firstname'",81],",",["T_WHITESPACE"," ",81],["T_CONSTANT_ENCAPSED_STRING","'middlename'",81],",",["T_WHITESPACE"," ",81],["T_CONSTANT_ENCAPSED_STRING","'lastname'",81],",",["T_WHITESPACE"," ",81],["T_CONSTANT_ENCAPSED_STRING","'suffix'",81],",",["T_WHITESPACE"," ",81],["T_CONSTANT_ENCAPSED_STRING","'company'",81],",",["T_WHITESPACE"," ",81],["T_CONSTANT_ENCAPSED_STRING","'street'",81],",",["T_WHITESPACE"," ",81],["T_CONSTANT_ENCAPSED_STRING","'city'",81],",",["T_WHITESPACE"," ",81],["T_CONSTANT_ENCAPSED_STRING","'country_id'",81],",",["T_WHITESPACE","\n    ",81],["T_CONSTANT_ENCAPSED_STRING","'region'",82],",",["T_WHITESPACE"," ",82],["T_CONSTANT_ENCAPSED_STRING","'region_id'",82],",",["T_WHITESPACE"," ",82],["T_CONSTANT_ENCAPSED_STRING","'postcode'",82],",",["T_WHITESPACE"," ",82],["T_CONSTANT_ENCAPSED_STRING","'telephone'",82],",",["T_WHITESPACE"," ",82],["T_CONSTANT_ENCAPSED_STRING","'fax'",82],["T_WHITESPACE","\n",82],")",";",["T_WHITESPACE","\n\n",83],["T_VARIABLE","$defaultUsedInForms",85],["T_WHITESPACE"," ",85],"=",["T_WHITESPACE"," ",85],["T_ARRAY","array",85],"(",["T_WHITESPACE","\n    ",85],["T_CONSTANT_ENCAPSED_STRING","'adminhtml_customer_address'",86],",",["T_WHITESPACE","\n    ",86],["T_CONSTANT_ENCAPSED_STRING","'customer_address_edit'",87],",",["T_WHITESPACE","\n    ",87],["T_CONSTANT_ENCAPSED_STRING","'customer_register_address'",88],["T_WHITESPACE","\n",88],")",";",["T_WHITESPACE","\n\n",89],["T_FOREACH","foreach",91],["T_WHITESPACE"," ",91],"(",["T_VARIABLE","$attributes",91],["T_WHITESPACE"," ",91],["T_AS","as",91],["T_WHITESPACE"," ",91],["T_VARIABLE","$attributeCode",91],")",["T_WHITESPACE"," ",91],"{",["T_WHITESPACE","\n    ",91],["T_VARIABLE","$attribute",92],["T_WHITESPACE"," ",92],"=",["T_WHITESPACE"," ",92],["T_VARIABLE","$eavConfig",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","getAttribute",92],"(",["T_CONSTANT_ENCAPSED_STRING","'customer_address'",92],",",["T_WHITESPACE"," ",92],["T_VARIABLE","$attributeCode",92],")",";",["T_WHITESPACE","\n    ",92],["T_IF","if",93],["T_WHITESPACE"," ",93],"(","!",["T_VARIABLE","$attribute",93],")",["T_WHITESPACE"," ",93],"{",["T_WHITESPACE","\n        ",93],["T_CONTINUE","continue",94],";",["T_WHITESPACE","\n    ",94],"}",["T_WHITESPACE","\n    ",95],["T_IF","if",96],["T_WHITESPACE"," ",96],"(",["T_STRING","false",96],["T_WHITESPACE"," ",96],["T_IS_IDENTICAL","===",96],["T_WHITESPACE"," ",96],"(",["T_VARIABLE","$attribute",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","getData",96],"(",["T_CONSTANT_ENCAPSED_STRING","'is_system'",96],")",["T_WHITESPACE"," ",96],["T_IS_EQUAL","==",96],["T_WHITESPACE"," ",96],["T_LNUMBER","1",96],["T_WHITESPACE"," ",96],["T_BOOLEAN_AND","&&",96],["T_WHITESPACE"," ",96],["T_VARIABLE","$attribute",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","getData",96],"(",["T_CONSTANT_ENCAPSED_STRING","'is_visible'",96],")",["T_WHITESPACE"," ",96],["T_IS_EQUAL","==",96],["T_WHITESPACE"," ",96],["T_LNUMBER","0",96],")",")",["T_WHITESPACE"," ",96],"{",["T_WHITESPACE","\n        ",96],["T_VARIABLE","$attribute",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","setData",97],"(",["T_CONSTANT_ENCAPSED_STRING","'used_in_forms'",97],",",["T_WHITESPACE"," ",97],["T_VARIABLE","$defaultUsedInForms",97],")",";",["T_WHITESPACE","\n    ",97],"}",["T_WHITESPACE","\n    ",98],["T_VARIABLE","$attribute",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","save",99],"(",")",";",["T_WHITESPACE","\n",99],"}",["T_WHITESPACE","\n",100]]