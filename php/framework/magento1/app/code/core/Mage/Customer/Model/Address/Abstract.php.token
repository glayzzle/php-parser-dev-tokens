[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Magento\n *\n * NOTICE OF LICENSE\n *\n * This source file is subject to the Open Software License (OSL 3.0)\n * that is bundled with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/opensource.org\/licenses\/osl-3.0.php\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@magento.com so we can send you a copy immediately.\n *\n * DISCLAIMER\n *\n * Do not edit or add to this file if you wish to upgrade Magento to newer\n * versions in the future. If you wish to customize Magento for your\n * needs please refer to http:\/\/www.magento.com for more information.\n *\n * @category    Mage\n * @package     Mage_Customer\n * @copyright  Copyright (c) 2006-2016 X.commerce, Inc. and affiliates (http:\/\/www.magento.com)\n * @license    http:\/\/opensource.org\/licenses\/osl-3.0.php  Open Software License (OSL 3.0)\n *\/",2],["T_WHITESPACE","\n\n",25],["T_DOC_COMMENT","\/**\n * Address abstract model\n *\n * @category   Mage\n * @package    Mage_Customer\n * @author     Magento Core Team <core@magentocommerce.com>\n *\/",27],["T_WHITESPACE","\n",33],["T_CLASS","class",34],["T_WHITESPACE"," ",34],["T_STRING","Mage_Customer_Model_Address_Abstract",34],["T_WHITESPACE"," ",34],["T_EXTENDS","extends",34],["T_WHITESPACE"," ",34],["T_STRING","Mage_Core_Model_Abstract",34],["T_WHITESPACE","\n",34],"{",["T_WHITESPACE","\n    ",35],["T_DOC_COMMENT","\/**\n     * Possible customer address types\n     *\/",36],["T_WHITESPACE","\n    ",38],["T_CONST","const",39],["T_WHITESPACE"," ",39],["T_STRING","TYPE_BILLING",39],["T_WHITESPACE","  ",39],"=",["T_WHITESPACE"," ",39],["T_CONSTANT_ENCAPSED_STRING","'billing'",39],";",["T_WHITESPACE","\n    ",39],["T_CONST","const",40],["T_WHITESPACE"," ",40],["T_STRING","TYPE_SHIPPING",40],["T_WHITESPACE"," ",40],"=",["T_WHITESPACE"," ",40],["T_CONSTANT_ENCAPSED_STRING","'shipping'",40],";",["T_WHITESPACE","\n\n    ",40],["T_DOC_COMMENT","\/**\n     * Prefix of model events\n     *\n     * @var string\n     *\/",42],["T_WHITESPACE","\n    ",46],["T_PROTECTED","protected",47],["T_WHITESPACE"," ",47],["T_VARIABLE","$_eventPrefix",47],["T_WHITESPACE"," ",47],"=",["T_WHITESPACE"," ",47],["T_CONSTANT_ENCAPSED_STRING","'customer_address'",47],";",["T_WHITESPACE","\n\n    ",47],["T_DOC_COMMENT","\/**\n     * Name of event object\n     *\n     * @var string\n     *\/",49],["T_WHITESPACE","\n    ",53],["T_PROTECTED","protected",54],["T_WHITESPACE"," ",54],["T_VARIABLE","$_eventObject",54],["T_WHITESPACE"," ",54],"=",["T_WHITESPACE"," ",54],["T_CONSTANT_ENCAPSED_STRING","'customer_address'",54],";",["T_WHITESPACE","\n\n    ",54],["T_DOC_COMMENT","\/**\n     * List of errors\n     *\n     * @var array\n     *\/",56],["T_WHITESPACE","\n    ",60],["T_PROTECTED","protected",61],["T_WHITESPACE"," ",61],["T_VARIABLE","$_errors",61],["T_WHITESPACE"," ",61],"=",["T_WHITESPACE"," ",61],["T_ARRAY","array",61],"(",")",";",["T_WHITESPACE","\n\n    ",61],["T_DOC_COMMENT","\/**\n     * Directory country models\n     *\n     * @var array\n     *\/",63],["T_WHITESPACE","\n    ",67],["T_STATIC","static",68],["T_WHITESPACE"," ",68],["T_PROTECTED","protected",68],["T_WHITESPACE"," ",68],["T_VARIABLE","$_countryModels",68],["T_WHITESPACE"," ",68],"=",["T_WHITESPACE"," ",68],["T_ARRAY","array",68],"(",")",";",["T_WHITESPACE","\n\n    ",68],["T_DOC_COMMENT","\/**\n     * Directory region models\n     *\n     * @var array\n     *\/",70],["T_WHITESPACE","\n    ",74],["T_STATIC","static",75],["T_WHITESPACE"," ",75],["T_PROTECTED","protected",75],["T_WHITESPACE"," ",75],["T_VARIABLE","$_regionModels",75],["T_WHITESPACE"," ",75],"=",["T_WHITESPACE"," ",75],["T_ARRAY","array",75],"(",")",";",["T_WHITESPACE","\n\n    ",75],["T_DOC_COMMENT","\/**\n     * Get full customer name\n     *\n     * @return string\n     *\/",77],["T_WHITESPACE","\n    ",81],["T_PUBLIC","public",82],["T_WHITESPACE"," ",82],["T_FUNCTION","function",82],["T_WHITESPACE"," ",82],["T_STRING","getName",82],"(",")",["T_WHITESPACE","\n    ",82],"{",["T_WHITESPACE","\n        ",83],["T_VARIABLE","$name",84],["T_WHITESPACE"," ",84],"=",["T_WHITESPACE"," ",84],["T_CONSTANT_ENCAPSED_STRING","''",84],";",["T_WHITESPACE","\n        ",84],["T_VARIABLE","$config",85],["T_WHITESPACE"," ",85],"=",["T_WHITESPACE"," ",85],["T_STRING","Mage",85],["T_DOUBLE_COLON","::",85],["T_STRING","getSingleton",85],"(",["T_CONSTANT_ENCAPSED_STRING","'eav\/config'",85],")",";",["T_WHITESPACE","\n        ",85],["T_IF","if",86],["T_WHITESPACE"," ",86],"(",["T_VARIABLE","$config",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","getAttribute",86],"(",["T_CONSTANT_ENCAPSED_STRING","'customer_address'",86],",",["T_WHITESPACE"," ",86],["T_CONSTANT_ENCAPSED_STRING","'prefix'",86],")",["T_OBJECT_OPERATOR","->",86],["T_STRING","getIsVisible",86],"(",")",["T_WHITESPACE"," ",86],["T_BOOLEAN_AND","&&",86],["T_WHITESPACE"," ",86],["T_VARIABLE","$this",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","getPrefix",86],"(",")",")",["T_WHITESPACE"," ",86],"{",["T_WHITESPACE","\n            ",86],["T_VARIABLE","$name",87],["T_WHITESPACE"," ",87],["T_CONCAT_EQUAL",".=",87],["T_WHITESPACE"," ",87],["T_VARIABLE","$this",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","getPrefix",87],"(",")",["T_WHITESPACE"," ",87],".",["T_WHITESPACE"," ",87],["T_CONSTANT_ENCAPSED_STRING","' '",87],";",["T_WHITESPACE","\n        ",87],"}",["T_WHITESPACE","\n        ",88],["T_VARIABLE","$name",89],["T_WHITESPACE"," ",89],["T_CONCAT_EQUAL",".=",89],["T_WHITESPACE"," ",89],["T_VARIABLE","$this",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","getFirstname",89],"(",")",";",["T_WHITESPACE","\n        ",89],["T_IF","if",90],["T_WHITESPACE"," ",90],"(",["T_VARIABLE","$config",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","getAttribute",90],"(",["T_CONSTANT_ENCAPSED_STRING","'customer_address'",90],",",["T_WHITESPACE"," ",90],["T_CONSTANT_ENCAPSED_STRING","'middlename'",90],")",["T_OBJECT_OPERATOR","->",90],["T_STRING","getIsVisible",90],"(",")",["T_WHITESPACE"," ",90],["T_BOOLEAN_AND","&&",90],["T_WHITESPACE"," ",90],["T_VARIABLE","$this",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","getMiddlename",90],"(",")",")",["T_WHITESPACE"," ",90],"{",["T_WHITESPACE","\n            ",90],["T_VARIABLE","$name",91],["T_WHITESPACE"," ",91],["T_CONCAT_EQUAL",".=",91],["T_WHITESPACE"," ",91],["T_CONSTANT_ENCAPSED_STRING","' '",91],["T_WHITESPACE"," ",91],".",["T_WHITESPACE"," ",91],["T_VARIABLE","$this",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","getMiddlename",91],"(",")",";",["T_WHITESPACE","\n        ",91],"}",["T_WHITESPACE","\n        ",92],["T_VARIABLE","$name",93],["T_WHITESPACE"," ",93],["T_CONCAT_EQUAL",".=",93],["T_WHITESPACE","  ",93],["T_CONSTANT_ENCAPSED_STRING","' '",93],["T_WHITESPACE"," ",93],".",["T_WHITESPACE"," ",93],["T_VARIABLE","$this",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","getLastname",93],"(",")",";",["T_WHITESPACE","\n        ",93],["T_IF","if",94],["T_WHITESPACE"," ",94],"(",["T_VARIABLE","$config",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","getAttribute",94],"(",["T_CONSTANT_ENCAPSED_STRING","'customer_address'",94],",",["T_WHITESPACE"," ",94],["T_CONSTANT_ENCAPSED_STRING","'suffix'",94],")",["T_OBJECT_OPERATOR","->",94],["T_STRING","getIsVisible",94],"(",")",["T_WHITESPACE"," ",94],["T_BOOLEAN_AND","&&",94],["T_WHITESPACE"," ",94],["T_VARIABLE","$this",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","getSuffix",94],"(",")",")",["T_WHITESPACE"," ",94],"{",["T_WHITESPACE","\n            ",94],["T_VARIABLE","$name",95],["T_WHITESPACE"," ",95],["T_CONCAT_EQUAL",".=",95],["T_WHITESPACE"," ",95],["T_CONSTANT_ENCAPSED_STRING","' '",95],["T_WHITESPACE"," ",95],".",["T_WHITESPACE"," ",95],["T_VARIABLE","$this",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","getSuffix",95],"(",")",";",["T_WHITESPACE","\n        ",95],"}",["T_WHITESPACE","\n        ",96],["T_RETURN","return",97],["T_WHITESPACE"," ",97],["T_VARIABLE","$name",97],";",["T_WHITESPACE","\n    ",97],"}",["T_WHITESPACE","\n\n    ",98],["T_DOC_COMMENT","\/**\n     * get address street\n     *\n     * @param   int $line address line index\n     * @return  string\n     *\/",100],["T_WHITESPACE","\n    ",105],["T_PUBLIC","public",106],["T_WHITESPACE"," ",106],["T_FUNCTION","function",106],["T_WHITESPACE"," ",106],["T_STRING","getStreet",106],"(",["T_VARIABLE","$line",106],"=",["T_LNUMBER","0",106],")",["T_WHITESPACE","\n    ",106],"{",["T_WHITESPACE","\n        ",107],["T_VARIABLE","$street",108],["T_WHITESPACE"," ",108],"=",["T_WHITESPACE"," ",108],["T_STRING","parent",108],["T_DOUBLE_COLON","::",108],["T_STRING","getData",108],"(",["T_CONSTANT_ENCAPSED_STRING","'street'",108],")",";",["T_WHITESPACE","\n        ",108],["T_IF","if",109],["T_WHITESPACE"," ",109],"(","-",["T_LNUMBER","1",109],["T_WHITESPACE"," ",109],["T_IS_IDENTICAL","===",109],["T_WHITESPACE"," ",109],["T_VARIABLE","$line",109],")",["T_WHITESPACE"," ",109],"{",["T_WHITESPACE","\n            ",109],["T_RETURN","return",110],["T_WHITESPACE"," ",110],["T_VARIABLE","$street",110],";",["T_WHITESPACE","\n        ",110],"}",["T_WHITESPACE"," ",111],["T_ELSE","else",111],["T_WHITESPACE"," ",111],"{",["T_WHITESPACE","\n            ",111],["T_VARIABLE","$arr",112],["T_WHITESPACE"," ",112],"=",["T_WHITESPACE"," ",112],["T_STRING","is_array",112],"(",["T_VARIABLE","$street",112],")",["T_WHITESPACE"," ",112],"?",["T_WHITESPACE"," ",112],["T_VARIABLE","$street",112],["T_WHITESPACE"," ",112],":",["T_WHITESPACE"," ",112],["T_STRING","explode",112],"(",["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",112],",",["T_WHITESPACE"," ",112],["T_VARIABLE","$street",112],")",";",["T_WHITESPACE","\n            ",112],["T_IF","if",113],["T_WHITESPACE"," ",113],"(",["T_LNUMBER","0",113],["T_WHITESPACE"," ",113],["T_IS_IDENTICAL","===",113],["T_WHITESPACE"," ",113],["T_VARIABLE","$line",113],["T_WHITESPACE"," ",113],["T_BOOLEAN_OR","||",113],["T_WHITESPACE"," ",113],["T_VARIABLE","$line",113],["T_WHITESPACE"," ",113],["T_IS_IDENTICAL","===",113],["T_WHITESPACE"," ",113],["T_STRING","null",113],")",["T_WHITESPACE"," ",113],"{",["T_WHITESPACE","\n                ",113],["T_RETURN","return",114],["T_WHITESPACE"," ",114],["T_VARIABLE","$arr",114],";",["T_WHITESPACE","\n            ",114],"}",["T_WHITESPACE"," ",115],["T_ELSEIF","elseif",115],["T_WHITESPACE"," ",115],"(",["T_ISSET","isset",115],"(",["T_VARIABLE","$arr",115],"[",["T_VARIABLE","$line",115],"-",["T_LNUMBER","1",115],"]",")",")",["T_WHITESPACE"," ",115],"{",["T_WHITESPACE","\n                ",115],["T_RETURN","return",116],["T_WHITESPACE"," ",116],["T_VARIABLE","$arr",116],"[",["T_VARIABLE","$line",116],"-",["T_LNUMBER","1",116],"]",";",["T_WHITESPACE","\n            ",116],"}",["T_WHITESPACE"," ",117],["T_ELSE","else",117],["T_WHITESPACE"," ",117],"{",["T_WHITESPACE","\n                ",117],["T_RETURN","return",118],["T_WHITESPACE"," ",118],["T_CONSTANT_ENCAPSED_STRING","''",118],";",["T_WHITESPACE","\n            ",118],"}",["T_WHITESPACE","\n        ",119],"}",["T_WHITESPACE","\n    ",120],"}",["T_WHITESPACE","\n\n    ",121],["T_PUBLIC","public",123],["T_WHITESPACE"," ",123],["T_FUNCTION","function",123],["T_WHITESPACE"," ",123],["T_STRING","getStreet1",123],"(",")",["T_WHITESPACE","\n    ",123],"{",["T_WHITESPACE","\n        ",124],["T_RETURN","return",125],["T_WHITESPACE"," ",125],["T_VARIABLE","$this",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","getStreet",125],"(",["T_LNUMBER","1",125],")",";",["T_WHITESPACE","\n    ",125],"}",["T_WHITESPACE","\n\n    ",126],["T_PUBLIC","public",128],["T_WHITESPACE"," ",128],["T_FUNCTION","function",128],["T_WHITESPACE"," ",128],["T_STRING","getStreet2",128],"(",")",["T_WHITESPACE","\n    ",128],"{",["T_WHITESPACE","\n        ",129],["T_RETURN","return",130],["T_WHITESPACE"," ",130],["T_VARIABLE","$this",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","getStreet",130],"(",["T_LNUMBER","2",130],")",";",["T_WHITESPACE","\n    ",130],"}",["T_WHITESPACE","\n\n    ",131],["T_PUBLIC","public",133],["T_WHITESPACE"," ",133],["T_FUNCTION","function",133],["T_WHITESPACE"," ",133],["T_STRING","getStreet3",133],"(",")",["T_WHITESPACE","\n    ",133],"{",["T_WHITESPACE","\n        ",134],["T_RETURN","return",135],["T_WHITESPACE"," ",135],["T_VARIABLE","$this",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","getStreet",135],"(",["T_LNUMBER","3",135],")",";",["T_WHITESPACE","\n    ",135],"}",["T_WHITESPACE","\n\n    ",136],["T_PUBLIC","public",138],["T_WHITESPACE"," ",138],["T_FUNCTION","function",138],["T_WHITESPACE"," ",138],["T_STRING","getStreet4",138],"(",")",["T_WHITESPACE","\n    ",138],"{",["T_WHITESPACE","\n        ",139],["T_RETURN","return",140],["T_WHITESPACE"," ",140],["T_VARIABLE","$this",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","getStreet",140],"(",["T_LNUMBER","4",140],")",";",["T_WHITESPACE","\n    ",140],"}",["T_WHITESPACE","\n\n    ",141],["T_PUBLIC","public",143],["T_WHITESPACE"," ",143],["T_FUNCTION","function",143],["T_WHITESPACE"," ",143],["T_STRING","getStreetFull",143],"(",")",["T_WHITESPACE","\n    ",143],"{",["T_WHITESPACE","\n        ",144],["T_RETURN","return",145],["T_WHITESPACE"," ",145],["T_VARIABLE","$this",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","getData",145],"(",["T_CONSTANT_ENCAPSED_STRING","'street'",145],")",";",["T_WHITESPACE","\n    ",145],"}",["T_WHITESPACE","\n\n    ",146],["T_PUBLIC","public",148],["T_WHITESPACE"," ",148],["T_FUNCTION","function",148],["T_WHITESPACE"," ",148],["T_STRING","setStreetFull",148],"(",["T_VARIABLE","$street",148],")",["T_WHITESPACE","\n    ",148],"{",["T_WHITESPACE","\n        ",149],["T_RETURN","return",150],["T_WHITESPACE"," ",150],["T_VARIABLE","$this",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","setStreet",150],"(",["T_VARIABLE","$street",150],")",";",["T_WHITESPACE","\n    ",150],"}",["T_WHITESPACE","\n\n    ",151],["T_DOC_COMMENT","\/**\n     * set address street informa\n     *\n     * @param unknown_type $street\n     * @return unknown\n     *\/",153],["T_WHITESPACE","\n    ",158],["T_PUBLIC","public",159],["T_WHITESPACE"," ",159],["T_FUNCTION","function",159],["T_WHITESPACE"," ",159],["T_STRING","setStreet",159],"(",["T_VARIABLE","$street",159],")",["T_WHITESPACE","\n    ",159],"{",["T_WHITESPACE","\n        ",160],["T_IF","if",161],["T_WHITESPACE"," ",161],"(",["T_STRING","is_array",161],"(",["T_VARIABLE","$street",161],")",")",["T_WHITESPACE"," ",161],"{",["T_WHITESPACE","\n            ",161],["T_VARIABLE","$street",162],["T_WHITESPACE"," ",162],"=",["T_WHITESPACE"," ",162],["T_STRING","trim",162],"(",["T_STRING","implode",162],"(",["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",162],",",["T_WHITESPACE"," ",162],["T_VARIABLE","$street",162],")",")",";",["T_WHITESPACE","\n        ",162],"}",["T_WHITESPACE","\n        ",163],["T_VARIABLE","$this",164],["T_OBJECT_OPERATOR","->",164],["T_STRING","setData",164],"(",["T_CONSTANT_ENCAPSED_STRING","'street'",164],",",["T_WHITESPACE"," ",164],["T_VARIABLE","$street",164],")",";",["T_WHITESPACE","\n        ",164],["T_RETURN","return",165],["T_WHITESPACE"," ",165],["T_VARIABLE","$this",165],";",["T_WHITESPACE","\n    ",165],"}",["T_WHITESPACE","\n\n    ",166],["T_DOC_COMMENT","\/**\n     * Create fields street1, street2, etc.\n     *\n     * To be used in controllers for views data\n     *\n     *\/",168],["T_WHITESPACE","\n    ",173],["T_PUBLIC","public",174],["T_WHITESPACE"," ",174],["T_FUNCTION","function",174],["T_WHITESPACE"," ",174],["T_STRING","explodeStreetAddress",174],"(",")",["T_WHITESPACE","\n    ",174],"{",["T_WHITESPACE","\n        ",175],["T_VARIABLE","$streetLines",176],["T_WHITESPACE"," ",176],"=",["T_WHITESPACE"," ",176],["T_VARIABLE","$this",176],["T_OBJECT_OPERATOR","->",176],["T_STRING","getStreet",176],"(",")",";",["T_WHITESPACE","\n        ",176],["T_FOREACH","foreach",177],["T_WHITESPACE"," ",177],"(",["T_VARIABLE","$streetLines",177],["T_WHITESPACE"," ",177],["T_AS","as",177],["T_WHITESPACE"," ",177],["T_VARIABLE","$i",177],["T_DOUBLE_ARROW","=>",177],["T_VARIABLE","$line",177],")",["T_WHITESPACE"," ",177],"{",["T_WHITESPACE","\n            ",177],["T_VARIABLE","$this",178],["T_OBJECT_OPERATOR","->",178],["T_STRING","setData",178],"(",["T_CONSTANT_ENCAPSED_STRING","'street'",178],".","(",["T_VARIABLE","$i",178],"+",["T_LNUMBER","1",178],")",",",["T_WHITESPACE"," ",178],["T_VARIABLE","$line",178],")",";",["T_WHITESPACE","\n        ",178],"}",["T_WHITESPACE","\n        ",179],["T_RETURN","return",180],["T_WHITESPACE"," ",180],["T_VARIABLE","$this",180],";",["T_WHITESPACE","\n    ",180],"}",["T_WHITESPACE","\n\n    ",181],["T_DOC_COMMENT","\/**\n     * To be used when processing _POST\n     *\/",183],["T_WHITESPACE","\n    ",185],["T_PUBLIC","public",186],["T_WHITESPACE"," ",186],["T_FUNCTION","function",186],["T_WHITESPACE"," ",186],["T_STRING","implodeStreetAddress",186],"(",")",["T_WHITESPACE","\n    ",186],"{",["T_WHITESPACE","\n        ",187],["T_VARIABLE","$this",188],["T_OBJECT_OPERATOR","->",188],["T_STRING","setStreet",188],"(",["T_VARIABLE","$this",188],["T_OBJECT_OPERATOR","->",188],["T_STRING","getData",188],"(",["T_CONSTANT_ENCAPSED_STRING","'street'",188],")",")",";",["T_WHITESPACE","\n        ",188],["T_RETURN","return",189],["T_WHITESPACE"," ",189],["T_VARIABLE","$this",189],";",["T_WHITESPACE","\n    ",189],"}",["T_WHITESPACE","\n\n    ",190],["T_DOC_COMMENT","\/**\n     * Retrieve region name\n     *\n     * @return string\n     *\/",192],["T_WHITESPACE","\n    ",196],["T_PUBLIC","public",197],["T_WHITESPACE"," ",197],["T_FUNCTION","function",197],["T_WHITESPACE"," ",197],["T_STRING","getRegion",197],"(",")",["T_WHITESPACE","\n    ",197],"{",["T_WHITESPACE","\n        ",198],["T_VARIABLE","$regionId",199],["T_WHITESPACE"," ",199],"=",["T_WHITESPACE"," ",199],["T_VARIABLE","$this",199],["T_OBJECT_OPERATOR","->",199],["T_STRING","getData",199],"(",["T_CONSTANT_ENCAPSED_STRING","'region_id'",199],")",";",["T_WHITESPACE","\n        ",199],["T_VARIABLE","$region",200],["T_WHITESPACE","   ",200],"=",["T_WHITESPACE"," ",200],["T_VARIABLE","$this",200],["T_OBJECT_OPERATOR","->",200],["T_STRING","getData",200],"(",["T_CONSTANT_ENCAPSED_STRING","'region'",200],")",";",["T_WHITESPACE","\n\n        ",200],["T_IF","if",202],["T_WHITESPACE"," ",202],"(",["T_VARIABLE","$regionId",202],")",["T_WHITESPACE"," ",202],"{",["T_WHITESPACE","\n               ",202],["T_IF","if",203],["T_WHITESPACE"," ",203],"(",["T_VARIABLE","$this",203],["T_OBJECT_OPERATOR","->",203],["T_STRING","getRegionModel",203],"(",["T_VARIABLE","$regionId",203],")",["T_OBJECT_OPERATOR","->",203],["T_STRING","getCountryId",203],"(",")",["T_WHITESPACE"," ",203],["T_IS_EQUAL","==",203],["T_WHITESPACE"," ",203],["T_VARIABLE","$this",203],["T_OBJECT_OPERATOR","->",203],["T_STRING","getCountryId",203],"(",")",")",["T_WHITESPACE"," ",203],"{",["T_WHITESPACE","\n                   ",203],["T_VARIABLE","$region",204],["T_WHITESPACE"," ",204],"=",["T_WHITESPACE"," ",204],["T_VARIABLE","$this",204],["T_OBJECT_OPERATOR","->",204],["T_STRING","getRegionModel",204],"(",["T_VARIABLE","$regionId",204],")",["T_OBJECT_OPERATOR","->",204],["T_STRING","getName",204],"(",")",";",["T_WHITESPACE","\n                ",204],["T_VARIABLE","$this",205],["T_OBJECT_OPERATOR","->",205],["T_STRING","setData",205],"(",["T_CONSTANT_ENCAPSED_STRING","'region'",205],",",["T_WHITESPACE"," ",205],["T_VARIABLE","$region",205],")",";",["T_WHITESPACE","\n            ",205],"}",["T_WHITESPACE","\n        ",206],"}",["T_WHITESPACE","\n\n        ",207],["T_IF","if",209],["T_WHITESPACE"," ",209],"(","!",["T_EMPTY","empty",209],"(",["T_VARIABLE","$region",209],")",["T_WHITESPACE"," ",209],["T_BOOLEAN_AND","&&",209],["T_WHITESPACE"," ",209],["T_STRING","is_string",209],"(",["T_VARIABLE","$region",209],")",")",["T_WHITESPACE"," ",209],"{",["T_WHITESPACE","\n            ",209],["T_VARIABLE","$this",210],["T_OBJECT_OPERATOR","->",210],["T_STRING","setData",210],"(",["T_CONSTANT_ENCAPSED_STRING","'region'",210],",",["T_WHITESPACE"," ",210],["T_VARIABLE","$region",210],")",";",["T_WHITESPACE","\n        ",210],"}",["T_WHITESPACE","\n        ",211],["T_ELSEIF","elseif",212],["T_WHITESPACE"," ",212],"(","!",["T_VARIABLE","$regionId",212],["T_WHITESPACE"," ",212],["T_BOOLEAN_AND","&&",212],["T_WHITESPACE"," ",212],["T_STRING","is_numeric",212],"(",["T_VARIABLE","$region",212],")",")",["T_WHITESPACE"," ",212],"{",["T_WHITESPACE","\n            ",212],["T_IF","if",213],["T_WHITESPACE"," ",213],"(",["T_VARIABLE","$this",213],["T_OBJECT_OPERATOR","->",213],["T_STRING","getRegionModel",213],"(",["T_VARIABLE","$region",213],")",["T_OBJECT_OPERATOR","->",213],["T_STRING","getCountryId",213],"(",")",["T_WHITESPACE"," ",213],["T_IS_EQUAL","==",213],["T_WHITESPACE"," ",213],["T_VARIABLE","$this",213],["T_OBJECT_OPERATOR","->",213],["T_STRING","getCountryId",213],"(",")",")",["T_WHITESPACE"," ",213],"{",["T_WHITESPACE","\n                ",213],["T_VARIABLE","$this",214],["T_OBJECT_OPERATOR","->",214],["T_STRING","setData",214],"(",["T_CONSTANT_ENCAPSED_STRING","'region'",214],",",["T_WHITESPACE"," ",214],["T_VARIABLE","$this",214],["T_OBJECT_OPERATOR","->",214],["T_STRING","getRegionModel",214],"(",["T_VARIABLE","$region",214],")",["T_OBJECT_OPERATOR","->",214],["T_STRING","getName",214],"(",")",")",";",["T_WHITESPACE","\n                ",214],["T_VARIABLE","$this",215],["T_OBJECT_OPERATOR","->",215],["T_STRING","setData",215],"(",["T_CONSTANT_ENCAPSED_STRING","'region_id'",215],",",["T_WHITESPACE"," ",215],["T_VARIABLE","$region",215],")",";",["T_WHITESPACE","\n            ",215],"}",["T_WHITESPACE","\n        ",216],"}",["T_WHITESPACE","\n        ",217],["T_ELSEIF","elseif",218],["T_WHITESPACE"," ",218],"(",["T_VARIABLE","$regionId",218],["T_WHITESPACE"," ",218],["T_BOOLEAN_AND","&&",218],["T_WHITESPACE"," ",218],"!",["T_VARIABLE","$region",218],")",["T_WHITESPACE"," ",218],"{",["T_WHITESPACE","\n               ",218],["T_IF","if",219],["T_WHITESPACE"," ",219],"(",["T_VARIABLE","$this",219],["T_OBJECT_OPERATOR","->",219],["T_STRING","getRegionModel",219],"(",["T_VARIABLE","$regionId",219],")",["T_OBJECT_OPERATOR","->",219],["T_STRING","getCountryId",219],"(",")",["T_WHITESPACE"," ",219],["T_IS_EQUAL","==",219],["T_WHITESPACE"," ",219],["T_VARIABLE","$this",219],["T_OBJECT_OPERATOR","->",219],["T_STRING","getCountryId",219],"(",")",")",["T_WHITESPACE"," ",219],"{",["T_WHITESPACE","\n                ",219],["T_VARIABLE","$this",220],["T_OBJECT_OPERATOR","->",220],["T_STRING","setData",220],"(",["T_CONSTANT_ENCAPSED_STRING","'region'",220],",",["T_WHITESPACE"," ",220],["T_VARIABLE","$this",220],["T_OBJECT_OPERATOR","->",220],["T_STRING","getRegionModel",220],"(",["T_VARIABLE","$regionId",220],")",["T_OBJECT_OPERATOR","->",220],["T_STRING","getName",220],"(",")",")",";",["T_WHITESPACE","\n            ",220],"}",["T_WHITESPACE","\n        ",221],"}",["T_WHITESPACE","\n\n        ",222],["T_RETURN","return",224],["T_WHITESPACE"," ",224],["T_VARIABLE","$this",224],["T_OBJECT_OPERATOR","->",224],["T_STRING","getData",224],"(",["T_CONSTANT_ENCAPSED_STRING","'region'",224],")",";",["T_WHITESPACE","\n    ",224],"}",["T_WHITESPACE","\n\n    ",225],["T_DOC_COMMENT","\/**\n     * Return 2 letter state code if available, otherwise full region name\n     *\n     *\/",227],["T_WHITESPACE","\n    ",230],["T_PUBLIC","public",231],["T_WHITESPACE"," ",231],["T_FUNCTION","function",231],["T_WHITESPACE"," ",231],["T_STRING","getRegionCode",231],"(",")",["T_WHITESPACE","\n    ",231],"{",["T_WHITESPACE","\n        ",232],["T_VARIABLE","$regionId",233],["T_WHITESPACE"," ",233],"=",["T_WHITESPACE"," ",233],["T_VARIABLE","$this",233],["T_OBJECT_OPERATOR","->",233],["T_STRING","getData",233],"(",["T_CONSTANT_ENCAPSED_STRING","'region_id'",233],")",";",["T_WHITESPACE","\n        ",233],["T_VARIABLE","$region",234],["T_WHITESPACE","   ",234],"=",["T_WHITESPACE"," ",234],["T_VARIABLE","$this",234],["T_OBJECT_OPERATOR","->",234],["T_STRING","getData",234],"(",["T_CONSTANT_ENCAPSED_STRING","'region'",234],")",";",["T_WHITESPACE","\n\n        ",234],["T_IF","if",236],["T_WHITESPACE"," ",236],"(","!",["T_VARIABLE","$regionId",236],["T_WHITESPACE"," ",236],["T_BOOLEAN_AND","&&",236],["T_WHITESPACE"," ",236],["T_STRING","is_numeric",236],"(",["T_VARIABLE","$region",236],")",")",["T_WHITESPACE"," ",236],"{",["T_WHITESPACE","\n            ",236],["T_IF","if",237],["T_WHITESPACE"," ",237],"(",["T_VARIABLE","$this",237],["T_OBJECT_OPERATOR","->",237],["T_STRING","getRegionModel",237],"(",["T_VARIABLE","$region",237],")",["T_OBJECT_OPERATOR","->",237],["T_STRING","getCountryId",237],"(",")",["T_WHITESPACE"," ",237],["T_IS_EQUAL","==",237],["T_WHITESPACE"," ",237],["T_VARIABLE","$this",237],["T_OBJECT_OPERATOR","->",237],["T_STRING","getCountryId",237],"(",")",")",["T_WHITESPACE"," ",237],"{",["T_WHITESPACE","\n                ",237],["T_VARIABLE","$this",238],["T_OBJECT_OPERATOR","->",238],["T_STRING","setData",238],"(",["T_CONSTANT_ENCAPSED_STRING","'region_code'",238],",",["T_WHITESPACE"," ",238],["T_VARIABLE","$this",238],["T_OBJECT_OPERATOR","->",238],["T_STRING","getRegionModel",238],"(",["T_VARIABLE","$region",238],")",["T_OBJECT_OPERATOR","->",238],["T_STRING","getCode",238],"(",")",")",";",["T_WHITESPACE","\n            ",238],"}",["T_WHITESPACE","\n        ",239],"}",["T_WHITESPACE","\n        ",240],["T_ELSEIF","elseif",241],["T_WHITESPACE"," ",241],"(",["T_VARIABLE","$regionId",241],")",["T_WHITESPACE"," ",241],"{",["T_WHITESPACE","\n            ",241],["T_IF","if",242],["T_WHITESPACE"," ",242],"(",["T_VARIABLE","$this",242],["T_OBJECT_OPERATOR","->",242],["T_STRING","getRegionModel",242],"(",["T_VARIABLE","$regionId",242],")",["T_OBJECT_OPERATOR","->",242],["T_STRING","getCountryId",242],"(",")",["T_WHITESPACE"," ",242],["T_IS_EQUAL","==",242],["T_WHITESPACE"," ",242],["T_VARIABLE","$this",242],["T_OBJECT_OPERATOR","->",242],["T_STRING","getCountryId",242],"(",")",")",["T_WHITESPACE"," ",242],"{",["T_WHITESPACE","\n                ",242],["T_VARIABLE","$this",243],["T_OBJECT_OPERATOR","->",243],["T_STRING","setData",243],"(",["T_CONSTANT_ENCAPSED_STRING","'region_code'",243],",",["T_WHITESPACE"," ",243],["T_VARIABLE","$this",243],["T_OBJECT_OPERATOR","->",243],["T_STRING","getRegionModel",243],"(",["T_VARIABLE","$regionId",243],")",["T_OBJECT_OPERATOR","->",243],["T_STRING","getCode",243],"(",")",")",";",["T_WHITESPACE","\n            ",243],"}",["T_WHITESPACE","\n        ",244],"}",["T_WHITESPACE","\n        ",245],["T_ELSEIF","elseif",246],["T_WHITESPACE"," ",246],"(",["T_STRING","is_string",246],"(",["T_VARIABLE","$region",246],")",")",["T_WHITESPACE"," ",246],"{",["T_WHITESPACE","\n            ",246],["T_VARIABLE","$this",247],["T_OBJECT_OPERATOR","->",247],["T_STRING","setData",247],"(",["T_CONSTANT_ENCAPSED_STRING","'region_code'",247],",",["T_WHITESPACE"," ",247],["T_VARIABLE","$region",247],")",";",["T_WHITESPACE","\n        ",247],"}",["T_WHITESPACE","\n        ",248],["T_RETURN","return",249],["T_WHITESPACE"," ",249],["T_VARIABLE","$this",249],["T_OBJECT_OPERATOR","->",249],["T_STRING","getData",249],"(",["T_CONSTANT_ENCAPSED_STRING","'region_code'",249],")",";",["T_WHITESPACE","\n    ",249],"}",["T_WHITESPACE","\n\n    ",250],["T_PUBLIC","public",252],["T_WHITESPACE"," ",252],["T_FUNCTION","function",252],["T_WHITESPACE"," ",252],["T_STRING","getRegionId",252],"(",")",["T_WHITESPACE","\n    ",252],"{",["T_WHITESPACE","\n        ",253],["T_VARIABLE","$regionId",254],["T_WHITESPACE"," ",254],"=",["T_WHITESPACE"," ",254],["T_VARIABLE","$this",254],["T_OBJECT_OPERATOR","->",254],["T_STRING","getData",254],"(",["T_CONSTANT_ENCAPSED_STRING","'region_id'",254],")",";",["T_WHITESPACE","\n        ",254],["T_VARIABLE","$region",255],["T_WHITESPACE","   ",255],"=",["T_WHITESPACE"," ",255],["T_VARIABLE","$this",255],["T_OBJECT_OPERATOR","->",255],["T_STRING","getData",255],"(",["T_CONSTANT_ENCAPSED_STRING","'region'",255],")",";",["T_WHITESPACE","\n        ",255],["T_IF","if",256],["T_WHITESPACE"," ",256],"(","!",["T_VARIABLE","$regionId",256],")",["T_WHITESPACE"," ",256],"{",["T_WHITESPACE","\n            ",256],["T_IF","if",257],["T_WHITESPACE"," ",257],"(",["T_STRING","is_numeric",257],"(",["T_VARIABLE","$region",257],")",")",["T_WHITESPACE"," ",257],"{",["T_WHITESPACE","\n                ",257],["T_VARIABLE","$this",258],["T_OBJECT_OPERATOR","->",258],["T_STRING","setData",258],"(",["T_CONSTANT_ENCAPSED_STRING","'region_id'",258],",",["T_WHITESPACE"," ",258],["T_VARIABLE","$region",258],")",";",["T_WHITESPACE","\n                ",258],["T_VARIABLE","$this",259],["T_OBJECT_OPERATOR","->",259],["T_STRING","unsRegion",259],"(",")",";",["T_WHITESPACE","\n            ",259],"}",["T_WHITESPACE"," ",260],["T_ELSE","else",260],["T_WHITESPACE"," ",260],"{",["T_WHITESPACE","\n                ",260],["T_VARIABLE","$regionModel",261],["T_WHITESPACE"," ",261],"=",["T_WHITESPACE"," ",261],["T_STRING","Mage",261],["T_DOUBLE_COLON","::",261],["T_STRING","getModel",261],"(",["T_CONSTANT_ENCAPSED_STRING","'directory\/region'",261],")",["T_WHITESPACE","\n                    ",261],["T_OBJECT_OPERATOR","->",262],["T_STRING","loadByCode",262],"(",["T_VARIABLE","$this",262],["T_OBJECT_OPERATOR","->",262],["T_STRING","getRegionCode",262],"(",")",",",["T_WHITESPACE"," ",262],["T_VARIABLE","$this",262],["T_OBJECT_OPERATOR","->",262],["T_STRING","getCountryId",262],"(",")",")",";",["T_WHITESPACE","\n                ",262],["T_VARIABLE","$this",263],["T_OBJECT_OPERATOR","->",263],["T_STRING","setData",263],"(",["T_CONSTANT_ENCAPSED_STRING","'region_id'",263],",",["T_WHITESPACE"," ",263],["T_VARIABLE","$regionModel",263],["T_OBJECT_OPERATOR","->",263],["T_STRING","getId",263],"(",")",")",";",["T_WHITESPACE","\n            ",263],"}",["T_WHITESPACE","\n        ",264],"}",["T_WHITESPACE","\n        ",265],["T_RETURN","return",266],["T_WHITESPACE"," ",266],["T_VARIABLE","$this",266],["T_OBJECT_OPERATOR","->",266],["T_STRING","getData",266],"(",["T_CONSTANT_ENCAPSED_STRING","'region_id'",266],")",";",["T_WHITESPACE","\n    ",266],"}",["T_WHITESPACE","\n\n    ",267],["T_PUBLIC","public",269],["T_WHITESPACE"," ",269],["T_FUNCTION","function",269],["T_WHITESPACE"," ",269],["T_STRING","getCountry",269],"(",")",["T_WHITESPACE","\n    ",269],"{",["T_WHITESPACE","\n        ",270],["T_COMMENT","\/*if ($this->getData('country_id') && !$this->getData('country')) {\n            $this->setData('country', Mage::getModel('directory\/country')\n                ->load($this->getData('country_id'))->getIso2Code());\n        }\n        return $this->getData('country');*\/",271],["T_WHITESPACE","\n        ",275],["T_VARIABLE","$country",276],["T_WHITESPACE"," ",276],"=",["T_WHITESPACE"," ",276],["T_VARIABLE","$this",276],["T_OBJECT_OPERATOR","->",276],["T_STRING","getCountryId",276],"(",")",";",["T_WHITESPACE","\n        ",276],["T_RETURN","return",277],["T_WHITESPACE"," ",277],["T_VARIABLE","$country",277],["T_WHITESPACE"," ",277],"?",["T_WHITESPACE"," ",277],["T_VARIABLE","$country",277],["T_WHITESPACE"," ",277],":",["T_WHITESPACE"," ",277],["T_VARIABLE","$this",277],["T_OBJECT_OPERATOR","->",277],["T_STRING","getData",277],"(",["T_CONSTANT_ENCAPSED_STRING","'country'",277],")",";",["T_WHITESPACE","\n    ",277],"}",["T_WHITESPACE","\n\n    ",278],["T_DOC_COMMENT","\/**\n     * Retrive country model\n     *\n     * @return Mage_Directory_Model_Country\n     *\/",280],["T_WHITESPACE","\n    ",284],["T_PUBLIC","public",285],["T_WHITESPACE"," ",285],["T_FUNCTION","function",285],["T_WHITESPACE"," ",285],["T_STRING","getCountryModel",285],"(",")",["T_WHITESPACE","\n    ",285],"{",["T_WHITESPACE","\n        ",286],["T_IF","if",287],"(","!",["T_ISSET","isset",287],"(",["T_STRING","self",287],["T_DOUBLE_COLON","::",287],["T_VARIABLE","$_countryModels",287],"[",["T_VARIABLE","$this",287],["T_OBJECT_OPERATOR","->",287],["T_STRING","getCountryId",287],"(",")","]",")",")",["T_WHITESPACE"," ",287],"{",["T_WHITESPACE","\n            ",287],["T_STRING","self",288],["T_DOUBLE_COLON","::",288],["T_VARIABLE","$_countryModels",288],"[",["T_VARIABLE","$this",288],["T_OBJECT_OPERATOR","->",288],["T_STRING","getCountryId",288],"(",")","]",["T_WHITESPACE"," ",288],"=",["T_WHITESPACE"," ",288],["T_STRING","Mage",288],["T_DOUBLE_COLON","::",288],["T_STRING","getModel",288],"(",["T_CONSTANT_ENCAPSED_STRING","'directory\/country'",288],")",["T_WHITESPACE","\n                ",288],["T_OBJECT_OPERATOR","->",289],["T_STRING","load",289],"(",["T_VARIABLE","$this",289],["T_OBJECT_OPERATOR","->",289],["T_STRING","getCountryId",289],"(",")",")",";",["T_WHITESPACE","\n        ",289],"}",["T_WHITESPACE","\n\n        ",290],["T_RETURN","return",292],["T_WHITESPACE"," ",292],["T_STRING","self",292],["T_DOUBLE_COLON","::",292],["T_VARIABLE","$_countryModels",292],"[",["T_VARIABLE","$this",292],["T_OBJECT_OPERATOR","->",292],["T_STRING","getCountryId",292],"(",")","]",";",["T_WHITESPACE","\n    ",292],"}",["T_WHITESPACE","\n\n    ",293],["T_DOC_COMMENT","\/**\n     * Retrive country model\n     *\n     * @return Mage_Directory_Model_Country\n     *\/",295],["T_WHITESPACE","\n    ",299],["T_PUBLIC","public",300],["T_WHITESPACE"," ",300],["T_FUNCTION","function",300],["T_WHITESPACE"," ",300],["T_STRING","getRegionModel",300],"(",["T_VARIABLE","$region",300],"=",["T_STRING","null",300],")",["T_WHITESPACE","\n    ",300],"{",["T_WHITESPACE","\n        ",301],["T_IF","if",302],"(",["T_STRING","is_null",302],"(",["T_VARIABLE","$region",302],")",")",["T_WHITESPACE"," ",302],"{",["T_WHITESPACE","\n            ",302],["T_VARIABLE","$region",303],["T_WHITESPACE"," ",303],"=",["T_WHITESPACE"," ",303],["T_VARIABLE","$this",303],["T_OBJECT_OPERATOR","->",303],["T_STRING","getRegionId",303],"(",")",";",["T_WHITESPACE","\n        ",303],"}",["T_WHITESPACE","\n\n        ",304],["T_IF","if",306],"(","!",["T_ISSET","isset",306],"(",["T_STRING","self",306],["T_DOUBLE_COLON","::",306],["T_VARIABLE","$_regionModels",306],"[",["T_VARIABLE","$region",306],"]",")",")",["T_WHITESPACE"," ",306],"{",["T_WHITESPACE","\n            ",306],["T_STRING","self",307],["T_DOUBLE_COLON","::",307],["T_VARIABLE","$_regionModels",307],"[",["T_VARIABLE","$region",307],"]",["T_WHITESPACE"," ",307],"=",["T_WHITESPACE"," ",307],["T_STRING","Mage",307],["T_DOUBLE_COLON","::",307],["T_STRING","getModel",307],"(",["T_CONSTANT_ENCAPSED_STRING","'directory\/region'",307],")",["T_OBJECT_OPERATOR","->",307],["T_STRING","load",307],"(",["T_VARIABLE","$region",307],")",";",["T_WHITESPACE","\n        ",307],"}",["T_WHITESPACE","\n\n        ",308],["T_RETURN","return",310],["T_WHITESPACE"," ",310],["T_STRING","self",310],["T_DOUBLE_COLON","::",310],["T_VARIABLE","$_regionModels",310],"[",["T_VARIABLE","$region",310],"]",";",["T_WHITESPACE","\n    ",310],"}",["T_WHITESPACE","\n\n    ",311],["T_DOC_COMMENT","\/**\n     * @deprecated for public function format\n     *\/",313],["T_WHITESPACE","\n    ",315],["T_PUBLIC","public",316],["T_WHITESPACE"," ",316],["T_FUNCTION","function",316],["T_WHITESPACE"," ",316],["T_STRING","getHtmlFormat",316],"(",")",["T_WHITESPACE","\n    ",316],"{",["T_WHITESPACE","\n        ",317],["T_RETURN","return",318],["T_WHITESPACE"," ",318],["T_VARIABLE","$this",318],["T_OBJECT_OPERATOR","->",318],["T_STRING","getConfig",318],"(",")",["T_OBJECT_OPERATOR","->",318],["T_STRING","getFormatByCode",318],"(",["T_CONSTANT_ENCAPSED_STRING","'html'",318],")",";",["T_WHITESPACE","\n    ",318],"}",["T_WHITESPACE","\n\n    ",319],["T_DOC_COMMENT","\/**\n     * @deprecated for public function format\n     *\/",321],["T_WHITESPACE","\n    ",323],["T_PUBLIC","public",324],["T_WHITESPACE"," ",324],["T_FUNCTION","function",324],["T_WHITESPACE"," ",324],["T_STRING","getFormated",324],"(",["T_VARIABLE","$html",324],"=",["T_STRING","false",324],")",["T_WHITESPACE","\n    ",324],"{",["T_WHITESPACE","\n        ",325],["T_RETURN","return",326],["T_WHITESPACE"," ",326],["T_VARIABLE","$this",326],["T_OBJECT_OPERATOR","->",326],["T_STRING","format",326],"(",["T_VARIABLE","$html",326],["T_WHITESPACE"," ",326],"?",["T_WHITESPACE"," ",326],["T_CONSTANT_ENCAPSED_STRING","'html'",326],["T_WHITESPACE"," ",326],":",["T_WHITESPACE"," ",326],["T_CONSTANT_ENCAPSED_STRING","'text'",326],")",";",["T_WHITESPACE","\n        ",326],["T_COMMENT","\/\/Mage::getModel('directory\/country')->load($this->getCountryId())->formatAddress($this, $html);\n",327],["T_WHITESPACE","    ",328],"}",["T_WHITESPACE","\n\n    ",328],["T_PUBLIC","public",330],["T_WHITESPACE"," ",330],["T_FUNCTION","function",330],["T_WHITESPACE"," ",330],["T_STRING","format",330],"(",["T_VARIABLE","$type",330],")",["T_WHITESPACE","\n    ",330],"{",["T_WHITESPACE","\n        ",331],["T_IF","if",332],"(","!","(",["T_VARIABLE","$formatType",332],["T_WHITESPACE"," ",332],"=",["T_WHITESPACE"," ",332],["T_VARIABLE","$this",332],["T_OBJECT_OPERATOR","->",332],["T_STRING","getConfig",332],"(",")",["T_OBJECT_OPERATOR","->",332],["T_STRING","getFormatByCode",332],"(",["T_VARIABLE","$type",332],")",")",["T_WHITESPACE","\n            ",332],["T_BOOLEAN_OR","||",333],["T_WHITESPACE"," ",333],"!",["T_VARIABLE","$formatType",333],["T_OBJECT_OPERATOR","->",333],["T_STRING","getRenderer",333],"(",")",")",["T_WHITESPACE"," ",333],"{",["T_WHITESPACE","\n            ",333],["T_RETURN","return",334],["T_WHITESPACE"," ",334],["T_STRING","null",334],";",["T_WHITESPACE","\n        ",334],"}",["T_WHITESPACE","\n        ",335],["T_STRING","Mage",336],["T_DOUBLE_COLON","::",336],["T_STRING","dispatchEvent",336],"(",["T_CONSTANT_ENCAPSED_STRING","'customer_address_format'",336],",",["T_WHITESPACE"," ",336],["T_ARRAY","array",336],"(",["T_CONSTANT_ENCAPSED_STRING","'type'",336],["T_WHITESPACE"," ",336],["T_DOUBLE_ARROW","=>",336],["T_WHITESPACE"," ",336],["T_VARIABLE","$formatType",336],",",["T_WHITESPACE"," ",336],["T_CONSTANT_ENCAPSED_STRING","'address'",336],["T_WHITESPACE"," ",336],["T_DOUBLE_ARROW","=>",336],["T_WHITESPACE"," ",336],["T_VARIABLE","$this",336],")",")",";",["T_WHITESPACE","\n        ",336],["T_RETURN","return",337],["T_WHITESPACE"," ",337],["T_VARIABLE","$formatType",337],["T_OBJECT_OPERATOR","->",337],["T_STRING","getRenderer",337],"(",")",["T_OBJECT_OPERATOR","->",337],["T_STRING","render",337],"(",["T_VARIABLE","$this",337],")",";",["T_WHITESPACE","\n    ",337],"}",["T_WHITESPACE","\n\n    ",338],["T_DOC_COMMENT","\/**\n     * Retrive address config object\n     *\n     * @return Mage_Customer_Model_Address_Config\n     *\/",340],["T_WHITESPACE","\n    ",344],["T_PUBLIC","public",345],["T_WHITESPACE"," ",345],["T_FUNCTION","function",345],["T_WHITESPACE"," ",345],["T_STRING","getConfig",345],"(",")",["T_WHITESPACE","\n    ",345],"{",["T_WHITESPACE","\n        ",346],["T_RETURN","return",347],["T_WHITESPACE"," ",347],["T_STRING","Mage",347],["T_DOUBLE_COLON","::",347],["T_STRING","getSingleton",347],"(",["T_CONSTANT_ENCAPSED_STRING","'customer\/address_config'",347],")",";",["T_WHITESPACE","\n    ",347],"}",["T_WHITESPACE","\n\n    ",348],["T_PROTECTED","protected",350],["T_WHITESPACE"," ",350],["T_FUNCTION","function",350],["T_WHITESPACE"," ",350],["T_STRING","_beforeSave",350],"(",")",["T_WHITESPACE","\n    ",350],"{",["T_WHITESPACE","\n        ",351],["T_STRING","parent",352],["T_DOUBLE_COLON","::",352],["T_STRING","_beforeSave",352],"(",")",";",["T_WHITESPACE","\n        ",352],["T_VARIABLE","$this",353],["T_OBJECT_OPERATOR","->",353],["T_STRING","getRegion",353],"(",")",";",["T_WHITESPACE","\n        ",353],["T_RETURN","return",354],["T_WHITESPACE"," ",354],["T_VARIABLE","$this",354],";",["T_WHITESPACE","\n    ",354],"}",["T_WHITESPACE","\n\n    ",355],["T_DOC_COMMENT","\/**\n     * Validate address attribute values\n     *\n     * @return array | bool\n     *\/",357],["T_WHITESPACE","\n    ",361],["T_PUBLIC","public",362],["T_WHITESPACE"," ",362],["T_FUNCTION","function",362],["T_WHITESPACE"," ",362],["T_STRING","validate",362],"(",")",["T_WHITESPACE","\n    ",362],"{",["T_WHITESPACE","\n        ",363],["T_VARIABLE","$this",364],["T_OBJECT_OPERATOR","->",364],["T_STRING","_resetErrors",364],"(",")",";",["T_WHITESPACE","\n\n        ",364],["T_VARIABLE","$this",366],["T_OBJECT_OPERATOR","->",366],["T_STRING","implodeStreetAddress",366],"(",")",";",["T_WHITESPACE","\n\n        ",366],["T_VARIABLE","$this",368],["T_OBJECT_OPERATOR","->",368],["T_STRING","_basicCheck",368],"(",")",";",["T_WHITESPACE","\n\n        ",368],["T_STRING","Mage",370],["T_DOUBLE_COLON","::",370],["T_STRING","dispatchEvent",370],"(",["T_CONSTANT_ENCAPSED_STRING","'customer_address_validation_after'",370],",",["T_WHITESPACE"," ",370],["T_ARRAY","array",370],"(",["T_CONSTANT_ENCAPSED_STRING","'address'",370],["T_WHITESPACE"," ",370],["T_DOUBLE_ARROW","=>",370],["T_WHITESPACE"," ",370],["T_VARIABLE","$this",370],")",")",";",["T_WHITESPACE","\n\n        ",370],["T_VARIABLE","$errors",372],["T_WHITESPACE"," ",372],"=",["T_WHITESPACE"," ",372],["T_VARIABLE","$this",372],["T_OBJECT_OPERATOR","->",372],["T_STRING","_getErrors",372],"(",")",";",["T_WHITESPACE","\n\n        ",372],["T_VARIABLE","$this",374],["T_OBJECT_OPERATOR","->",374],["T_STRING","_resetErrors",374],"(",")",";",["T_WHITESPACE","\n\n        ",374],["T_IF","if",376],["T_WHITESPACE"," ",376],"(",["T_EMPTY","empty",376],"(",["T_VARIABLE","$errors",376],")",["T_WHITESPACE"," ",376],["T_BOOLEAN_OR","||",376],["T_WHITESPACE"," ",376],["T_VARIABLE","$this",376],["T_OBJECT_OPERATOR","->",376],["T_STRING","getShouldIgnoreValidation",376],"(",")",")",["T_WHITESPACE"," ",376],"{",["T_WHITESPACE","\n            ",376],["T_RETURN","return",377],["T_WHITESPACE"," ",377],["T_STRING","true",377],";",["T_WHITESPACE","\n        ",377],"}",["T_WHITESPACE","\n        ",378],["T_RETURN","return",379],["T_WHITESPACE"," ",379],["T_VARIABLE","$errors",379],";",["T_WHITESPACE","\n    ",379],"}",["T_WHITESPACE","\n\n    ",380],["T_DOC_COMMENT","\/**\n     * Perform basic validation\n     *\n     * @return void\n     *\/",382],["T_WHITESPACE","\n    ",386],["T_PROTECTED","protected",387],["T_WHITESPACE"," ",387],["T_FUNCTION","function",387],["T_WHITESPACE"," ",387],["T_STRING","_basicCheck",387],"(",")",["T_WHITESPACE","\n    ",387],"{",["T_WHITESPACE","\n        ",388],["T_IF","if",389],["T_WHITESPACE"," ",389],"(","!",["T_STRING","Zend_Validate",389],["T_DOUBLE_COLON","::",389],["T_STRING","is",389],"(",["T_VARIABLE","$this",389],["T_OBJECT_OPERATOR","->",389],["T_STRING","getFirstname",389],"(",")",",",["T_WHITESPACE"," ",389],["T_CONSTANT_ENCAPSED_STRING","'NotEmpty'",389],")",")",["T_WHITESPACE"," ",389],"{",["T_WHITESPACE","\n            ",389],["T_VARIABLE","$this",390],["T_OBJECT_OPERATOR","->",390],["T_STRING","addError",390],"(",["T_STRING","Mage",390],["T_DOUBLE_COLON","::",390],["T_STRING","helper",390],"(",["T_CONSTANT_ENCAPSED_STRING","'customer'",390],")",["T_OBJECT_OPERATOR","->",390],["T_STRING","__",390],"(",["T_CONSTANT_ENCAPSED_STRING","'Please enter the first name.'",390],")",")",";",["T_WHITESPACE","\n        ",390],"}",["T_WHITESPACE","\n\n        ",391],["T_IF","if",393],["T_WHITESPACE"," ",393],"(","!",["T_STRING","Zend_Validate",393],["T_DOUBLE_COLON","::",393],["T_STRING","is",393],"(",["T_VARIABLE","$this",393],["T_OBJECT_OPERATOR","->",393],["T_STRING","getLastname",393],"(",")",",",["T_WHITESPACE"," ",393],["T_CONSTANT_ENCAPSED_STRING","'NotEmpty'",393],")",")",["T_WHITESPACE"," ",393],"{",["T_WHITESPACE","\n            ",393],["T_VARIABLE","$this",394],["T_OBJECT_OPERATOR","->",394],["T_STRING","addError",394],"(",["T_STRING","Mage",394],["T_DOUBLE_COLON","::",394],["T_STRING","helper",394],"(",["T_CONSTANT_ENCAPSED_STRING","'customer'",394],")",["T_OBJECT_OPERATOR","->",394],["T_STRING","__",394],"(",["T_CONSTANT_ENCAPSED_STRING","'Please enter the last name.'",394],")",")",";",["T_WHITESPACE","\n        ",394],"}",["T_WHITESPACE","\n\n        ",395],["T_IF","if",397],["T_WHITESPACE"," ",397],"(","!",["T_STRING","Zend_Validate",397],["T_DOUBLE_COLON","::",397],["T_STRING","is",397],"(",["T_VARIABLE","$this",397],["T_OBJECT_OPERATOR","->",397],["T_STRING","getStreet",397],"(",["T_LNUMBER","1",397],")",",",["T_WHITESPACE"," ",397],["T_CONSTANT_ENCAPSED_STRING","'NotEmpty'",397],")",")",["T_WHITESPACE"," ",397],"{",["T_WHITESPACE","\n            ",397],["T_VARIABLE","$this",398],["T_OBJECT_OPERATOR","->",398],["T_STRING","addError",398],"(",["T_STRING","Mage",398],["T_DOUBLE_COLON","::",398],["T_STRING","helper",398],"(",["T_CONSTANT_ENCAPSED_STRING","'customer'",398],")",["T_OBJECT_OPERATOR","->",398],["T_STRING","__",398],"(",["T_CONSTANT_ENCAPSED_STRING","'Please enter the street.'",398],")",")",";",["T_WHITESPACE","\n        ",398],"}",["T_WHITESPACE","\n\n        ",399],["T_IF","if",401],["T_WHITESPACE"," ",401],"(","!",["T_STRING","Zend_Validate",401],["T_DOUBLE_COLON","::",401],["T_STRING","is",401],"(",["T_VARIABLE","$this",401],["T_OBJECT_OPERATOR","->",401],["T_STRING","getCity",401],"(",")",",",["T_WHITESPACE"," ",401],["T_CONSTANT_ENCAPSED_STRING","'NotEmpty'",401],")",")",["T_WHITESPACE"," ",401],"{",["T_WHITESPACE","\n            ",401],["T_VARIABLE","$this",402],["T_OBJECT_OPERATOR","->",402],["T_STRING","addError",402],"(",["T_STRING","Mage",402],["T_DOUBLE_COLON","::",402],["T_STRING","helper",402],"(",["T_CONSTANT_ENCAPSED_STRING","'customer'",402],")",["T_OBJECT_OPERATOR","->",402],["T_STRING","__",402],"(",["T_CONSTANT_ENCAPSED_STRING","'Please enter the city.'",402],")",")",";",["T_WHITESPACE","\n        ",402],"}",["T_WHITESPACE","\n\n        ",403],["T_IF","if",405],["T_WHITESPACE"," ",405],"(","!",["T_STRING","Zend_Validate",405],["T_DOUBLE_COLON","::",405],["T_STRING","is",405],"(",["T_VARIABLE","$this",405],["T_OBJECT_OPERATOR","->",405],["T_STRING","getTelephone",405],"(",")",",",["T_WHITESPACE"," ",405],["T_CONSTANT_ENCAPSED_STRING","'NotEmpty'",405],")",")",["T_WHITESPACE"," ",405],"{",["T_WHITESPACE","\n            ",405],["T_VARIABLE","$this",406],["T_OBJECT_OPERATOR","->",406],["T_STRING","addError",406],"(",["T_STRING","Mage",406],["T_DOUBLE_COLON","::",406],["T_STRING","helper",406],"(",["T_CONSTANT_ENCAPSED_STRING","'customer'",406],")",["T_OBJECT_OPERATOR","->",406],["T_STRING","__",406],"(",["T_CONSTANT_ENCAPSED_STRING","'Please enter the telephone number.'",406],")",")",";",["T_WHITESPACE","\n        ",406],"}",["T_WHITESPACE","\n\n        ",407],["T_VARIABLE","$_havingOptionalZip",409],["T_WHITESPACE"," ",409],"=",["T_WHITESPACE"," ",409],["T_STRING","Mage",409],["T_DOUBLE_COLON","::",409],["T_STRING","helper",409],"(",["T_CONSTANT_ENCAPSED_STRING","'directory'",409],")",["T_OBJECT_OPERATOR","->",409],["T_STRING","getCountriesWithOptionalZip",409],"(",")",";",["T_WHITESPACE","\n        ",409],["T_IF","if",410],["T_WHITESPACE"," ",410],"(","!",["T_STRING","in_array",410],"(",["T_VARIABLE","$this",410],["T_OBJECT_OPERATOR","->",410],["T_STRING","getCountryId",410],"(",")",",",["T_WHITESPACE"," ",410],["T_VARIABLE","$_havingOptionalZip",410],")",["T_WHITESPACE","\n            ",410],["T_BOOLEAN_AND","&&",411],["T_WHITESPACE"," ",411],"!",["T_STRING","Zend_Validate",411],["T_DOUBLE_COLON","::",411],["T_STRING","is",411],"(",["T_VARIABLE","$this",411],["T_OBJECT_OPERATOR","->",411],["T_STRING","getPostcode",411],"(",")",",",["T_WHITESPACE"," ",411],["T_CONSTANT_ENCAPSED_STRING","'NotEmpty'",411],")",["T_WHITESPACE","\n        ",411],")",["T_WHITESPACE"," ",412],"{",["T_WHITESPACE","\n            ",412],["T_VARIABLE","$this",413],["T_OBJECT_OPERATOR","->",413],["T_STRING","addError",413],"(",["T_STRING","Mage",413],["T_DOUBLE_COLON","::",413],["T_STRING","helper",413],"(",["T_CONSTANT_ENCAPSED_STRING","'customer'",413],")",["T_OBJECT_OPERATOR","->",413],["T_STRING","__",413],"(",["T_CONSTANT_ENCAPSED_STRING","'Please enter the zip\/postal code.'",413],")",")",";",["T_WHITESPACE","\n        ",413],"}",["T_WHITESPACE","\n\n        ",414],["T_IF","if",416],["T_WHITESPACE"," ",416],"(","!",["T_STRING","Zend_Validate",416],["T_DOUBLE_COLON","::",416],["T_STRING","is",416],"(",["T_VARIABLE","$this",416],["T_OBJECT_OPERATOR","->",416],["T_STRING","getCountryId",416],"(",")",",",["T_WHITESPACE"," ",416],["T_CONSTANT_ENCAPSED_STRING","'NotEmpty'",416],")",")",["T_WHITESPACE"," ",416],"{",["T_WHITESPACE","\n            ",416],["T_VARIABLE","$this",417],["T_OBJECT_OPERATOR","->",417],["T_STRING","addError",417],"(",["T_STRING","Mage",417],["T_DOUBLE_COLON","::",417],["T_STRING","helper",417],"(",["T_CONSTANT_ENCAPSED_STRING","'customer'",417],")",["T_OBJECT_OPERATOR","->",417],["T_STRING","__",417],"(",["T_CONSTANT_ENCAPSED_STRING","'Please enter the country.'",417],")",")",";",["T_WHITESPACE","\n        ",417],"}",["T_WHITESPACE","\n\n        ",418],["T_IF","if",420],["T_WHITESPACE"," ",420],"(",["T_VARIABLE","$this",420],["T_OBJECT_OPERATOR","->",420],["T_STRING","getCountryModel",420],"(",")",["T_OBJECT_OPERATOR","->",420],["T_STRING","getRegionCollection",420],"(",")",["T_OBJECT_OPERATOR","->",420],["T_STRING","getSize",420],"(",")",["T_WHITESPACE","\n            ",420],["T_BOOLEAN_AND","&&",421],["T_WHITESPACE"," ",421],"!",["T_STRING","Zend_Validate",421],["T_DOUBLE_COLON","::",421],["T_STRING","is",421],"(",["T_VARIABLE","$this",421],["T_OBJECT_OPERATOR","->",421],["T_STRING","getRegionId",421],"(",")",",",["T_WHITESPACE"," ",421],["T_CONSTANT_ENCAPSED_STRING","'NotEmpty'",421],")",["T_WHITESPACE","\n            ",421],["T_BOOLEAN_AND","&&",422],["T_WHITESPACE"," ",422],["T_STRING","Mage",422],["T_DOUBLE_COLON","::",422],["T_STRING","helper",422],"(",["T_CONSTANT_ENCAPSED_STRING","'directory'",422],")",["T_OBJECT_OPERATOR","->",422],["T_STRING","isRegionRequired",422],"(",["T_VARIABLE","$this",422],["T_OBJECT_OPERATOR","->",422],["T_STRING","getCountryId",422],"(",")",")",["T_WHITESPACE","\n        ",422],")",["T_WHITESPACE"," ",423],"{",["T_WHITESPACE","\n            ",423],["T_VARIABLE","$this",424],["T_OBJECT_OPERATOR","->",424],["T_STRING","addError",424],"(",["T_STRING","Mage",424],["T_DOUBLE_COLON","::",424],["T_STRING","helper",424],"(",["T_CONSTANT_ENCAPSED_STRING","'customer'",424],")",["T_OBJECT_OPERATOR","->",424],["T_STRING","__",424],"(",["T_CONSTANT_ENCAPSED_STRING","'Please enter the state\/province.'",424],")",")",";",["T_WHITESPACE","\n        ",424],"}",["T_WHITESPACE","\n    ",425],"}",["T_WHITESPACE","\n\n    ",426],["T_DOC_COMMENT","\/**\n     * Add error\n     *\n     * @param $error\n     * @return Mage_Customer_Model_Address_Abstract\n     *\/",428],["T_WHITESPACE","\n    ",433],["T_PUBLIC","public",434],["T_WHITESPACE"," ",434],["T_FUNCTION","function",434],["T_WHITESPACE"," ",434],["T_STRING","addError",434],"(",["T_VARIABLE","$error",434],")",["T_WHITESPACE","\n    ",434],"{",["T_WHITESPACE","\n        ",435],["T_VARIABLE","$this",436],["T_OBJECT_OPERATOR","->",436],["T_STRING","_errors",436],"[","]",["T_WHITESPACE"," ",436],"=",["T_WHITESPACE"," ",436],["T_VARIABLE","$error",436],";",["T_WHITESPACE","\n        ",436],["T_RETURN","return",437],["T_WHITESPACE"," ",437],["T_VARIABLE","$this",437],";",["T_WHITESPACE","\n    ",437],"}",["T_WHITESPACE","\n\n    ",438],["T_DOC_COMMENT","\/**\n     * Retreive errors\n     *\n     * @return array\n     *\/",440],["T_WHITESPACE","\n    ",444],["T_PROTECTED","protected",445],["T_WHITESPACE"," ",445],["T_FUNCTION","function",445],["T_WHITESPACE"," ",445],["T_STRING","_getErrors",445],"(",")",["T_WHITESPACE","\n    ",445],"{",["T_WHITESPACE","\n        ",446],["T_RETURN","return",447],["T_WHITESPACE"," ",447],["T_VARIABLE","$this",447],["T_OBJECT_OPERATOR","->",447],["T_STRING","_errors",447],";",["T_WHITESPACE","\n    ",447],"}",["T_WHITESPACE","\n\n    ",448],["T_DOC_COMMENT","\/**\n     * Reset errors array\n     *\n     * @return Mage_Customer_Model_Address_Abstract\n     *\/",450],["T_WHITESPACE","\n    ",454],["T_PROTECTED","protected",455],["T_WHITESPACE"," ",455],["T_FUNCTION","function",455],["T_WHITESPACE"," ",455],["T_STRING","_resetErrors",455],"(",")",["T_WHITESPACE","\n    ",455],"{",["T_WHITESPACE","\n        ",456],["T_VARIABLE","$this",457],["T_OBJECT_OPERATOR","->",457],["T_STRING","_errors",457],["T_WHITESPACE"," ",457],"=",["T_WHITESPACE"," ",457],["T_ARRAY","array",457],"(",")",";",["T_WHITESPACE","\n        ",457],["T_RETURN","return",458],["T_WHITESPACE"," ",458],["T_VARIABLE","$this",458],";",["T_WHITESPACE","\n    ",458],"}",["T_WHITESPACE","\n",459],"}",["T_WHITESPACE","\n",460]]