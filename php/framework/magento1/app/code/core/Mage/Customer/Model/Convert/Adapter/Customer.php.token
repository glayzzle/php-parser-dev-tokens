[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Magento\n *\n * NOTICE OF LICENSE\n *\n * This source file is subject to the Open Software License (OSL 3.0)\n * that is bundled with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/opensource.org\/licenses\/osl-3.0.php\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@magento.com so we can send you a copy immediately.\n *\n * DISCLAIMER\n *\n * Do not edit or add to this file if you wish to upgrade Magento to newer\n * versions in the future. If you wish to customize Magento for your\n * needs please refer to http:\/\/www.magento.com for more information.\n *\n * @category    Mage\n * @package     Mage_Customer\n * @copyright  Copyright (c) 2006-2016 X.commerce, Inc. and affiliates (http:\/\/www.magento.com)\n * @license    http:\/\/opensource.org\/licenses\/osl-3.0.php  Open Software License (OSL 3.0)\n *\/",2],["T_WHITESPACE","\n\n\n",25],["T_CLASS","class",28],["T_WHITESPACE"," ",28],["T_STRING","Mage_Customer_Model_Convert_Adapter_Customer",28],["T_WHITESPACE","\n    ",28],["T_EXTENDS","extends",29],["T_WHITESPACE"," ",29],["T_STRING","Mage_Eav_Model_Convert_Adapter_Entity",29],["T_WHITESPACE","\n",29],"{",["T_WHITESPACE","\n    ",30],["T_CONST","const",31],["T_WHITESPACE"," ",31],["T_STRING","MULTI_DELIMITER",31],["T_WHITESPACE"," ",31],"=",["T_WHITESPACE"," ",31],["T_CONSTANT_ENCAPSED_STRING","' , '",31],";",["T_WHITESPACE","\n\n    ",31],["T_DOC_COMMENT","\/**\n     * Customer model\n     *\n     * @var Mage_Customer_Model_Customer\n     *\/",33],["T_WHITESPACE","\n    ",37],["T_PROTECTED","protected",38],["T_WHITESPACE"," ",38],["T_VARIABLE","$_customerModel",38],";",["T_WHITESPACE","\n    ",38],["T_PROTECTED","protected",39],["T_WHITESPACE"," ",39],["T_VARIABLE","$_stores",39],";",["T_WHITESPACE","\n    ",39],["T_PROTECTED","protected",40],["T_WHITESPACE"," ",40],["T_VARIABLE","$_attributes",40],["T_WHITESPACE"," ",40],"=",["T_WHITESPACE"," ",40],["T_ARRAY","array",40],"(",")",";",["T_WHITESPACE","\n    ",40],["T_PROTECTED","protected",41],["T_WHITESPACE"," ",41],["T_VARIABLE","$_customerGroups",41],";",["T_WHITESPACE","\n\n    ",41],["T_PROTECTED","protected",43],["T_WHITESPACE"," ",43],["T_VARIABLE","$_billingAddressModel",43],";",["T_WHITESPACE","\n    ",43],["T_PROTECTED","protected",44],["T_WHITESPACE"," ",44],["T_VARIABLE","$_shippingAddressModel",44],";",["T_WHITESPACE","\n\n    ",44],["T_PROTECTED","protected",46],["T_WHITESPACE"," ",46],["T_VARIABLE","$_requiredFields",46],["T_WHITESPACE"," ",46],"=",["T_WHITESPACE"," ",46],["T_ARRAY","array",46],"(",")",";",["T_WHITESPACE","\n\n    ",46],["T_PROTECTED","protected",48],["T_WHITESPACE"," ",48],["T_VARIABLE","$_ignoreFields",48],["T_WHITESPACE"," ",48],"=",["T_WHITESPACE"," ",48],["T_ARRAY","array",48],"(",")",";",["T_WHITESPACE","\n\n    ",48],["T_PROTECTED","protected",50],["T_WHITESPACE"," ",50],["T_VARIABLE","$_billingFields",50],["T_WHITESPACE"," ",50],"=",["T_WHITESPACE"," ",50],["T_ARRAY","array",50],"(",")",";",["T_WHITESPACE","\n\n    ",50],["T_PROTECTED","protected",52],["T_WHITESPACE"," ",52],["T_VARIABLE","$_billingMappedFields",52],["T_WHITESPACE"," ",52],"=",["T_WHITESPACE"," ",52],["T_ARRAY","array",52],"(",")",";",["T_WHITESPACE","\n\n    ",52],["T_PROTECTED","protected",54],["T_WHITESPACE"," ",54],["T_VARIABLE","$_billingStreetFields",54],["T_WHITESPACE"," ",54],"=",["T_WHITESPACE"," ",54],["T_ARRAY","array",54],"(",")",";",["T_WHITESPACE","\n\n    ",54],["T_PROTECTED","protected",56],["T_WHITESPACE"," ",56],["T_VARIABLE","$_billingRequiredFields",56],["T_WHITESPACE"," ",56],"=",["T_WHITESPACE"," ",56],["T_ARRAY","array",56],"(",")",";",["T_WHITESPACE","\n\n    ",56],["T_PROTECTED","protected",58],["T_WHITESPACE"," ",58],["T_VARIABLE","$_shippingFields",58],["T_WHITESPACE"," ",58],"=",["T_WHITESPACE"," ",58],["T_ARRAY","array",58],"(",")",";",["T_WHITESPACE","\n\n    ",58],["T_PROTECTED","protected",60],["T_WHITESPACE"," ",60],["T_VARIABLE","$_shippingMappedFields",60],["T_WHITESPACE"," ",60],"=",["T_WHITESPACE"," ",60],["T_ARRAY","array",60],"(",")",";",["T_WHITESPACE","\n\n    ",60],["T_PROTECTED","protected",62],["T_WHITESPACE"," ",62],["T_VARIABLE","$_shippingStreetFields",62],"=",["T_WHITESPACE"," ",62],["T_ARRAY","array",62],"(",")",";",["T_WHITESPACE","\n\n    ",62],["T_PROTECTED","protected",64],["T_WHITESPACE"," ",64],["T_VARIABLE","$_shippingRequiredFields",64],["T_WHITESPACE"," ",64],"=",["T_WHITESPACE"," ",64],["T_ARRAY","array",64],"(",")",";",["T_WHITESPACE","\n\n    ",64],["T_PROTECTED","protected",66],["T_WHITESPACE"," ",66],["T_VARIABLE","$_addressFields",66],["T_WHITESPACE"," ",66],"=",["T_WHITESPACE"," ",66],["T_ARRAY","array",66],"(",")",";",["T_WHITESPACE","\n\n    ",66],["T_PROTECTED","protected",68],["T_WHITESPACE"," ",68],["T_VARIABLE","$_regions",68],";",["T_WHITESPACE","\n    ",68],["T_PROTECTED","protected",69],["T_WHITESPACE"," ",69],["T_VARIABLE","$_websites",69],";",["T_WHITESPACE","\n\n    ",69],["T_PROTECTED","protected",71],["T_WHITESPACE"," ",71],["T_VARIABLE","$_customer",71],["T_WHITESPACE"," ",71],"=",["T_WHITESPACE"," ",71],["T_STRING","null",71],";",["T_WHITESPACE","\n    ",71],["T_PROTECTED","protected",72],["T_WHITESPACE"," ",72],["T_VARIABLE","$_address",72],["T_WHITESPACE"," ",72],"=",["T_WHITESPACE"," ",72],["T_STRING","null",72],";",["T_WHITESPACE","\n\n    ",72],["T_PROTECTED","protected",74],["T_WHITESPACE"," ",74],["T_VARIABLE","$_customerId",74],["T_WHITESPACE"," ",74],"=",["T_WHITESPACE"," ",74],["T_CONSTANT_ENCAPSED_STRING","''",74],";",["T_WHITESPACE","\n\n    ",74],["T_DOC_COMMENT","\/**\n     * Retrieve customer model cache\n     *\n     * @return Mage_Customer_Model_Customer\n     *\/",76],["T_WHITESPACE","\n    ",80],["T_PUBLIC","public",81],["T_WHITESPACE"," ",81],["T_FUNCTION","function",81],["T_WHITESPACE"," ",81],["T_STRING","getCustomerModel",81],"(",")",["T_WHITESPACE","\n    ",81],"{",["T_WHITESPACE","\n        ",82],["T_IF","if",83],["T_WHITESPACE"," ",83],"(",["T_STRING","is_null",83],"(",["T_VARIABLE","$this",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","_customerModel",83],")",")",["T_WHITESPACE"," ",83],"{",["T_WHITESPACE","\n            ",83],["T_VARIABLE","$object",84],["T_WHITESPACE"," ",84],"=",["T_WHITESPACE"," ",84],["T_STRING","Mage",84],["T_DOUBLE_COLON","::",84],["T_STRING","getModel",84],"(",["T_CONSTANT_ENCAPSED_STRING","'customer\/customer'",84],")",";",["T_WHITESPACE","\n            ",84],["T_VARIABLE","$this",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","_customerModel",85],["T_WHITESPACE"," ",85],"=",["T_WHITESPACE"," ",85],["T_STRING","Mage",85],["T_DOUBLE_COLON","::",85],["T_STRING","objects",85],"(",")",["T_OBJECT_OPERATOR","->",85],["T_STRING","save",85],"(",["T_VARIABLE","$object",85],")",";",["T_WHITESPACE","\n        ",85],"}",["T_WHITESPACE","\n        ",86],["T_RETURN","return",87],["T_WHITESPACE"," ",87],["T_STRING","Mage",87],["T_DOUBLE_COLON","::",87],["T_STRING","objects",87],"(",")",["T_OBJECT_OPERATOR","->",87],["T_STRING","load",87],"(",["T_VARIABLE","$this",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","_customerModel",87],")",";",["T_WHITESPACE","\n    ",87],"}",["T_WHITESPACE","\n\n    ",88],["T_DOC_COMMENT","\/**\n     * Retrieve customer address model cache\n     *\n     * @return Mage_Customer_Model_Address\n     *\/",90],["T_WHITESPACE","\n    ",94],["T_PUBLIC","public",95],["T_WHITESPACE"," ",95],["T_FUNCTION","function",95],["T_WHITESPACE"," ",95],["T_STRING","getBillingAddressModel",95],"(",")",["T_WHITESPACE","\n    ",95],"{",["T_WHITESPACE","\n        ",96],["T_IF","if",97],["T_WHITESPACE"," ",97],"(",["T_STRING","is_null",97],"(",["T_VARIABLE","$this",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","_billingAddressModel",97],")",")",["T_WHITESPACE"," ",97],"{",["T_WHITESPACE","\n            ",97],["T_VARIABLE","$object",98],["T_WHITESPACE"," ",98],"=",["T_WHITESPACE"," ",98],["T_STRING","Mage",98],["T_DOUBLE_COLON","::",98],["T_STRING","getModel",98],"(",["T_CONSTANT_ENCAPSED_STRING","'customer\/address'",98],")",";",["T_WHITESPACE","\n            ",98],["T_VARIABLE","$this",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","_billingAddressModel",99],["T_WHITESPACE"," ",99],"=",["T_WHITESPACE"," ",99],["T_STRING","Mage",99],["T_DOUBLE_COLON","::",99],["T_STRING","objects",99],"(",")",["T_OBJECT_OPERATOR","->",99],["T_STRING","save",99],"(",["T_VARIABLE","$object",99],")",";",["T_WHITESPACE","\n        ",99],"}",["T_WHITESPACE","\n        ",100],["T_RETURN","return",101],["T_WHITESPACE"," ",101],["T_STRING","Mage",101],["T_DOUBLE_COLON","::",101],["T_STRING","objects",101],"(",")",["T_OBJECT_OPERATOR","->",101],["T_STRING","load",101],"(",["T_VARIABLE","$this",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","_billingAddressModel",101],")",";",["T_WHITESPACE","\n    ",101],"}",["T_WHITESPACE","\n\n    ",102],["T_DOC_COMMENT","\/**\n     * Retrieve customer address model cache\n     *\n     * @return Mage_Customer_Model_Address\n     *\/",104],["T_WHITESPACE","\n    ",108],["T_PUBLIC","public",109],["T_WHITESPACE"," ",109],["T_FUNCTION","function",109],["T_WHITESPACE"," ",109],["T_STRING","getShippingAddressModel",109],"(",")",["T_WHITESPACE","\n    ",109],"{",["T_WHITESPACE","\n        ",110],["T_IF","if",111],["T_WHITESPACE"," ",111],"(",["T_STRING","is_null",111],"(",["T_VARIABLE","$this",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","_shippingAddressModel",111],")",")",["T_WHITESPACE"," ",111],"{",["T_WHITESPACE","\n            ",111],["T_VARIABLE","$object",112],["T_WHITESPACE"," ",112],"=",["T_WHITESPACE"," ",112],["T_STRING","Mage",112],["T_DOUBLE_COLON","::",112],["T_STRING","getModel",112],"(",["T_CONSTANT_ENCAPSED_STRING","'customer\/address'",112],")",";",["T_WHITESPACE","\n            ",112],["T_VARIABLE","$this",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","_shippingAddressModel",113],["T_WHITESPACE"," ",113],"=",["T_WHITESPACE"," ",113],["T_STRING","Mage",113],["T_DOUBLE_COLON","::",113],["T_STRING","objects",113],"(",")",["T_OBJECT_OPERATOR","->",113],["T_STRING","save",113],"(",["T_VARIABLE","$object",113],")",";",["T_WHITESPACE","\n        ",113],"}",["T_WHITESPACE","\n        ",114],["T_RETURN","return",115],["T_WHITESPACE"," ",115],["T_STRING","Mage",115],["T_DOUBLE_COLON","::",115],["T_STRING","objects",115],"(",")",["T_OBJECT_OPERATOR","->",115],["T_STRING","load",115],"(",["T_VARIABLE","$this",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","_shippingAddressModel",115],")",";",["T_WHITESPACE","\n    ",115],"}",["T_WHITESPACE","\n\n    ",116],["T_DOC_COMMENT","\/**\n     * Retrieve store object by code\n     *\n     * @param string $store\n     * @return Mage_Core_Model_Store\n     *\/",118],["T_WHITESPACE","\n    ",123],["T_PUBLIC","public",124],["T_WHITESPACE"," ",124],["T_FUNCTION","function",124],["T_WHITESPACE"," ",124],["T_STRING","getStoreByCode",124],"(",["T_VARIABLE","$store",124],")",["T_WHITESPACE","\n    ",124],"{",["T_WHITESPACE","\n        ",125],["T_IF","if",126],["T_WHITESPACE"," ",126],"(",["T_STRING","is_null",126],"(",["T_VARIABLE","$this",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","_stores",126],")",")",["T_WHITESPACE"," ",126],"{",["T_WHITESPACE","\n            ",126],["T_VARIABLE","$this",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","_stores",127],["T_WHITESPACE"," ",127],"=",["T_WHITESPACE"," ",127],["T_STRING","Mage",127],["T_DOUBLE_COLON","::",127],["T_STRING","app",127],"(",")",["T_OBJECT_OPERATOR","->",127],["T_STRING","getStores",127],"(",["T_STRING","true",127],",",["T_WHITESPACE"," ",127],["T_STRING","true",127],")",";",["T_WHITESPACE","\n        ",127],"}",["T_WHITESPACE","\n        ",128],["T_IF","if",129],["T_WHITESPACE"," ",129],"(",["T_ISSET","isset",129],"(",["T_VARIABLE","$this",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","_stores",129],"[",["T_VARIABLE","$store",129],"]",")",")",["T_WHITESPACE"," ",129],"{",["T_WHITESPACE","\n            ",129],["T_RETURN","return",130],["T_WHITESPACE"," ",130],["T_VARIABLE","$this",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","_stores",130],"[",["T_VARIABLE","$store",130],"]",";",["T_WHITESPACE","\n        ",130],"}",["T_WHITESPACE","\n        ",131],["T_RETURN","return",132],["T_WHITESPACE"," ",132],["T_STRING","false",132],";",["T_WHITESPACE","\n    ",132],"}",["T_WHITESPACE","\n\n    ",133],["T_DOC_COMMENT","\/**\n     * Retrieve website model by code\n     *\n     * @param int $websiteId\n     * @return Mage_Core_Model_Website\n     *\/",135],["T_WHITESPACE","\n    ",140],["T_PUBLIC","public",141],["T_WHITESPACE"," ",141],["T_FUNCTION","function",141],["T_WHITESPACE"," ",141],["T_STRING","getWebsiteByCode",141],"(",["T_VARIABLE","$websiteCode",141],")",["T_WHITESPACE","\n    ",141],"{",["T_WHITESPACE","\n        ",142],["T_IF","if",143],["T_WHITESPACE"," ",143],"(",["T_STRING","is_null",143],"(",["T_VARIABLE","$this",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","_websites",143],")",")",["T_WHITESPACE"," ",143],"{",["T_WHITESPACE","\n            ",143],["T_VARIABLE","$this",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","_websites",144],["T_WHITESPACE"," ",144],"=",["T_WHITESPACE"," ",144],["T_STRING","Mage",144],["T_DOUBLE_COLON","::",144],["T_STRING","app",144],"(",")",["T_OBJECT_OPERATOR","->",144],["T_STRING","getWebsites",144],"(",["T_STRING","true",144],",",["T_WHITESPACE"," ",144],["T_STRING","true",144],")",";",["T_WHITESPACE","\n        ",144],"}",["T_WHITESPACE","\n        ",145],["T_IF","if",146],["T_WHITESPACE"," ",146],"(",["T_ISSET","isset",146],"(",["T_VARIABLE","$this",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","_websites",146],"[",["T_VARIABLE","$websiteCode",146],"]",")",")",["T_WHITESPACE"," ",146],"{",["T_WHITESPACE","\n            ",146],["T_RETURN","return",147],["T_WHITESPACE"," ",147],["T_VARIABLE","$this",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","_websites",147],"[",["T_VARIABLE","$websiteCode",147],"]",";",["T_WHITESPACE","\n        ",147],"}",["T_WHITESPACE","\n        ",148],["T_RETURN","return",149],["T_WHITESPACE"," ",149],["T_STRING","false",149],";",["T_WHITESPACE","\n    ",149],"}",["T_WHITESPACE","\n\n    ",150],["T_DOC_COMMENT","\/**\n     * Retrieve eav entity attribute model\n     *\n     * @param string $code\n     * @return Mage_Eav_Model_Entity_Attribute\n     *\/",152],["T_WHITESPACE","\n    ",157],["T_PUBLIC","public",158],["T_WHITESPACE"," ",158],["T_FUNCTION","function",158],["T_WHITESPACE"," ",158],["T_STRING","getAttribute",158],"(",["T_VARIABLE","$code",158],")",["T_WHITESPACE","\n    ",158],"{",["T_WHITESPACE","\n        ",159],["T_IF","if",160],["T_WHITESPACE"," ",160],"(","!",["T_ISSET","isset",160],"(",["T_VARIABLE","$this",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","_attributes",160],"[",["T_VARIABLE","$code",160],"]",")",")",["T_WHITESPACE"," ",160],"{",["T_WHITESPACE","\n            ",160],["T_VARIABLE","$this",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","_attributes",161],"[",["T_VARIABLE","$code",161],"]",["T_WHITESPACE"," ",161],"=",["T_WHITESPACE"," ",161],["T_VARIABLE","$this",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","getCustomerModel",161],"(",")",["T_OBJECT_OPERATOR","->",161],["T_STRING","getResource",161],"(",")",["T_OBJECT_OPERATOR","->",161],["T_STRING","getAttribute",161],"(",["T_VARIABLE","$code",161],")",";",["T_WHITESPACE","\n        ",161],"}",["T_WHITESPACE","\n        ",162],["T_RETURN","return",163],["T_WHITESPACE"," ",163],["T_VARIABLE","$this",163],["T_OBJECT_OPERATOR","->",163],["T_STRING","_attributes",163],"[",["T_VARIABLE","$code",163],"]",";",["T_WHITESPACE","\n    ",163],"}",["T_WHITESPACE","\n\n    ",164],["T_DOC_COMMENT","\/**\n     * Retrieve region id by country code and region name (if exists)\n     *\n     * @param string $country\n     * @param string $region\n     * @return int\n     *\/",166],["T_WHITESPACE","\n    ",172],["T_PUBLIC","public",173],["T_WHITESPACE"," ",173],["T_FUNCTION","function",173],["T_WHITESPACE"," ",173],["T_STRING","getRegionId",173],"(",["T_VARIABLE","$country",173],",",["T_WHITESPACE"," ",173],["T_VARIABLE","$regionName",173],")",["T_WHITESPACE","\n    ",173],"{",["T_WHITESPACE","\n        ",174],["T_IF","if",175],["T_WHITESPACE"," ",175],"(",["T_STRING","is_null",175],"(",["T_VARIABLE","$this",175],["T_OBJECT_OPERATOR","->",175],["T_STRING","_regions",175],")",")",["T_WHITESPACE"," ",175],"{",["T_WHITESPACE","\n            ",175],["T_VARIABLE","$this",176],["T_OBJECT_OPERATOR","->",176],["T_STRING","_regions",176],["T_WHITESPACE"," ",176],"=",["T_WHITESPACE"," ",176],["T_ARRAY","array",176],"(",")",";",["T_WHITESPACE","\n\n            ",176],["T_VARIABLE","$collection",178],["T_WHITESPACE"," ",178],"=",["T_WHITESPACE"," ",178],["T_STRING","Mage",178],["T_DOUBLE_COLON","::",178],["T_STRING","getModel",178],"(",["T_CONSTANT_ENCAPSED_STRING","'directory\/region'",178],")",["T_WHITESPACE","\n                ",178],["T_OBJECT_OPERATOR","->",179],["T_STRING","getCollection",179],"(",")",";",["T_WHITESPACE","\n            ",179],["T_FOREACH","foreach",180],["T_WHITESPACE"," ",180],"(",["T_VARIABLE","$collection",180],["T_WHITESPACE"," ",180],["T_AS","as",180],["T_WHITESPACE"," ",180],["T_VARIABLE","$region",180],")",["T_WHITESPACE"," ",180],"{",["T_WHITESPACE","\n                ",180],["T_IF","if",181],["T_WHITESPACE"," ",181],"(","!",["T_ISSET","isset",181],"(",["T_VARIABLE","$this",181],["T_OBJECT_OPERATOR","->",181],["T_STRING","_regions",181],"[",["T_VARIABLE","$region",181],["T_OBJECT_OPERATOR","->",181],["T_STRING","getCountryId",181],"(",")","]",")",")",["T_WHITESPACE"," ",181],"{",["T_WHITESPACE","\n                    ",181],["T_VARIABLE","$this",182],["T_OBJECT_OPERATOR","->",182],["T_STRING","_regions",182],"[",["T_VARIABLE","$region",182],["T_OBJECT_OPERATOR","->",182],["T_STRING","getCountryId",182],"(",")","]",["T_WHITESPACE"," ",182],"=",["T_WHITESPACE"," ",182],["T_ARRAY","array",182],"(",")",";",["T_WHITESPACE","\n                ",182],"}",["T_WHITESPACE","\n\n                ",183],["T_VARIABLE","$this",185],["T_OBJECT_OPERATOR","->",185],["T_STRING","_regions",185],"[",["T_VARIABLE","$region",185],["T_OBJECT_OPERATOR","->",185],["T_STRING","getCountryId",185],"(",")","]","[",["T_VARIABLE","$region",185],["T_OBJECT_OPERATOR","->",185],["T_STRING","getDefaultName",185],"(",")","]",["T_WHITESPACE"," ",185],"=",["T_WHITESPACE"," ",185],["T_VARIABLE","$region",185],["T_OBJECT_OPERATOR","->",185],["T_STRING","getId",185],"(",")",";",["T_WHITESPACE","\n            ",185],"}",["T_WHITESPACE","\n        ",186],"}",["T_WHITESPACE","\n\n        ",187],["T_IF","if",189],["T_WHITESPACE"," ",189],"(",["T_ISSET","isset",189],"(",["T_VARIABLE","$this",189],["T_OBJECT_OPERATOR","->",189],["T_STRING","_regions",189],"[",["T_VARIABLE","$country",189],"]","[",["T_VARIABLE","$regionName",189],"]",")",")",["T_WHITESPACE"," ",189],"{",["T_WHITESPACE","\n            ",189],["T_RETURN","return",190],["T_WHITESPACE"," ",190],["T_VARIABLE","$this",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","_regions",190],"[",["T_VARIABLE","$country",190],"]","[",["T_VARIABLE","$regionName",190],"]",";",["T_WHITESPACE","\n        ",190],"}",["T_WHITESPACE","\n\n        ",191],["T_RETURN","return",193],["T_WHITESPACE"," ",193],["T_LNUMBER","0",193],";",["T_WHITESPACE","\n    ",193],"}",["T_WHITESPACE","\n\n    ",194],["T_DOC_COMMENT","\/**\n     * Retrieve customer group collection array\n     *\n     * @return array\n     *\/",196],["T_WHITESPACE","\n    ",200],["T_PUBLIC","public",201],["T_WHITESPACE"," ",201],["T_FUNCTION","function",201],["T_WHITESPACE"," ",201],["T_STRING","getCustomerGroups",201],"(",")",["T_WHITESPACE","\n    ",201],"{",["T_WHITESPACE","\n        ",202],["T_IF","if",203],["T_WHITESPACE"," ",203],"(",["T_STRING","is_null",203],"(",["T_VARIABLE","$this",203],["T_OBJECT_OPERATOR","->",203],["T_STRING","_customerGroups",203],")",")",["T_WHITESPACE"," ",203],"{",["T_WHITESPACE","\n            ",203],["T_VARIABLE","$this",204],["T_OBJECT_OPERATOR","->",204],["T_STRING","_customerGroups",204],["T_WHITESPACE"," ",204],"=",["T_WHITESPACE"," ",204],["T_ARRAY","array",204],"(",")",";",["T_WHITESPACE","\n            ",204],["T_VARIABLE","$collection",205],["T_WHITESPACE"," ",205],"=",["T_WHITESPACE"," ",205],["T_STRING","Mage",205],["T_DOUBLE_COLON","::",205],["T_STRING","getModel",205],"(",["T_CONSTANT_ENCAPSED_STRING","'customer\/group'",205],")",["T_WHITESPACE","\n                ",205],["T_OBJECT_OPERATOR","->",206],["T_STRING","getCollection",206],"(",")",["T_WHITESPACE","\n                ",206],["T_OBJECT_OPERATOR","->",207],["T_STRING","addFieldToFilter",207],"(",["T_CONSTANT_ENCAPSED_STRING","'customer_group_id'",207],",",["T_WHITESPACE"," ",207],["T_ARRAY","array",207],"(",["T_CONSTANT_ENCAPSED_STRING","'gt'",207],["T_DOUBLE_ARROW","=>",207],["T_WHITESPACE"," ",207],["T_LNUMBER","0",207],")",")",";",["T_WHITESPACE","\n            ",207],["T_FOREACH","foreach",208],["T_WHITESPACE"," ",208],"(",["T_VARIABLE","$collection",208],["T_WHITESPACE"," ",208],["T_AS","as",208],["T_WHITESPACE"," ",208],["T_VARIABLE","$group",208],")",["T_WHITESPACE"," ",208],"{",["T_WHITESPACE","\n                ",208],["T_VARIABLE","$this",209],["T_OBJECT_OPERATOR","->",209],["T_STRING","_customerGroups",209],"[",["T_VARIABLE","$group",209],["T_OBJECT_OPERATOR","->",209],["T_STRING","getCustomerGroupCode",209],"(",")","]",["T_WHITESPACE"," ",209],"=",["T_WHITESPACE"," ",209],["T_VARIABLE","$group",209],["T_OBJECT_OPERATOR","->",209],["T_STRING","getId",209],"(",")",";",["T_WHITESPACE","\n            ",209],"}",["T_WHITESPACE","\n        ",210],"}",["T_WHITESPACE","\n        ",211],["T_RETURN","return",212],["T_WHITESPACE"," ",212],["T_VARIABLE","$this",212],["T_OBJECT_OPERATOR","->",212],["T_STRING","_customerGroups",212],";",["T_WHITESPACE","\n    ",212],"}",["T_WHITESPACE","\n\n    ",213],["T_DOC_COMMENT","\/**\n     * Alias at getCustomerGroups()\n     *\n     * @return array\n     *\/",215],["T_WHITESPACE","\n    ",219],["T_PUBLIC","public",220],["T_WHITESPACE"," ",220],["T_FUNCTION","function",220],["T_WHITESPACE"," ",220],["T_STRING","getCustomerGoups",220],"(",")",["T_WHITESPACE","\n    ",220],"{",["T_WHITESPACE","\n        ",221],["T_RETURN","return",222],["T_WHITESPACE"," ",222],["T_VARIABLE","$this",222],["T_OBJECT_OPERATOR","->",222],["T_STRING","getCustomerGroups",222],"(",")",";",["T_WHITESPACE","\n    ",222],"}",["T_WHITESPACE","\n\n    ",223],["T_PUBLIC","public",225],["T_WHITESPACE"," ",225],["T_FUNCTION","function",225],["T_WHITESPACE"," ",225],["T_STRING","__construct",225],"(",")",["T_WHITESPACE","\n    ",225],"{",["T_WHITESPACE","\n        ",226],["T_VARIABLE","$this",227],["T_OBJECT_OPERATOR","->",227],["T_STRING","setVar",227],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_type'",227],",",["T_WHITESPACE"," ",227],["T_CONSTANT_ENCAPSED_STRING","'customer\/customer'",227],")",";",["T_WHITESPACE","\n\n        ",227],["T_IF","if",229],["T_WHITESPACE"," ",229],"(","!",["T_STRING","Mage",229],["T_DOUBLE_COLON","::",229],["T_STRING","registry",229],"(",["T_CONSTANT_ENCAPSED_STRING","'Object_Cache_Customer'",229],")",")",["T_WHITESPACE"," ",229],"{",["T_WHITESPACE","\n            ",229],["T_VARIABLE","$this",230],["T_OBJECT_OPERATOR","->",230],["T_STRING","setCustomer",230],"(",["T_STRING","Mage",230],["T_DOUBLE_COLON","::",230],["T_STRING","getModel",230],"(",["T_CONSTANT_ENCAPSED_STRING","'customer\/customer'",230],")",")",";",["T_WHITESPACE","\n        ",230],"}",["T_WHITESPACE","\n        ",231],["T_COMMENT","\/\/$this->setAddress(Mage::getModel('catalog\/'))\n",232],["T_WHITESPACE","\n        ",233],["T_FOREACH","foreach",234],["T_WHITESPACE"," ",234],"(",["T_STRING","Mage",234],["T_DOUBLE_COLON","::",234],["T_STRING","getConfig",234],"(",")",["T_OBJECT_OPERATOR","->",234],["T_STRING","getFieldset",234],"(",["T_CONSTANT_ENCAPSED_STRING","'customer_dataflow'",234],",",["T_WHITESPACE"," ",234],["T_CONSTANT_ENCAPSED_STRING","'admin'",234],")",["T_WHITESPACE"," ",234],["T_AS","as",234],["T_WHITESPACE"," ",234],["T_VARIABLE","$code",234],["T_DOUBLE_ARROW","=>",234],["T_VARIABLE","$node",234],")",["T_WHITESPACE"," ",234],"{",["T_WHITESPACE","\n            ",234],["T_IF","if",235],["T_WHITESPACE"," ",235],"(",["T_VARIABLE","$node",235],["T_OBJECT_OPERATOR","->",235],["T_STRING","is",235],"(",["T_CONSTANT_ENCAPSED_STRING","'ignore'",235],")",")",["T_WHITESPACE"," ",235],"{",["T_WHITESPACE","\n                ",235],["T_VARIABLE","$this",236],["T_OBJECT_OPERATOR","->",236],["T_STRING","_ignoreFields",236],"[","]",["T_WHITESPACE"," ",236],"=",["T_WHITESPACE"," ",236],["T_VARIABLE","$code",236],";",["T_WHITESPACE","\n            ",236],"}",["T_WHITESPACE","\n            ",237],["T_IF","if",238],["T_WHITESPACE"," ",238],"(",["T_VARIABLE","$node",238],["T_OBJECT_OPERATOR","->",238],["T_STRING","is",238],"(",["T_CONSTANT_ENCAPSED_STRING","'billing'",238],")",")",["T_WHITESPACE"," ",238],"{",["T_WHITESPACE","\n                ",238],["T_VARIABLE","$this",239],["T_OBJECT_OPERATOR","->",239],["T_STRING","_billingFields",239],"[","]",["T_WHITESPACE"," ",239],"=",["T_WHITESPACE"," ",239],["T_CONSTANT_ENCAPSED_STRING","'billing_'",239],".",["T_VARIABLE","$code",239],";",["T_WHITESPACE","\n            ",239],"}",["T_WHITESPACE","\n            ",240],["T_IF","if",241],["T_WHITESPACE"," ",241],"(",["T_VARIABLE","$node",241],["T_OBJECT_OPERATOR","->",241],["T_STRING","is",241],"(",["T_CONSTANT_ENCAPSED_STRING","'shipping'",241],")",")",["T_WHITESPACE"," ",241],"{",["T_WHITESPACE","\n                ",241],["T_VARIABLE","$this",242],["T_OBJECT_OPERATOR","->",242],["T_STRING","_shippingFields",242],"[","]",["T_WHITESPACE"," ",242],"=",["T_WHITESPACE"," ",242],["T_CONSTANT_ENCAPSED_STRING","'shipping_'",242],".",["T_VARIABLE","$code",242],";",["T_WHITESPACE","\n            ",242],"}",["T_WHITESPACE","\n\n            ",243],["T_IF","if",245],["T_WHITESPACE"," ",245],"(",["T_VARIABLE","$node",245],["T_OBJECT_OPERATOR","->",245],["T_STRING","is",245],"(",["T_CONSTANT_ENCAPSED_STRING","'billing'",245],")",["T_WHITESPACE"," ",245],["T_BOOLEAN_AND","&&",245],["T_WHITESPACE"," ",245],["T_VARIABLE","$node",245],["T_OBJECT_OPERATOR","->",245],["T_STRING","is",245],"(",["T_CONSTANT_ENCAPSED_STRING","'shipping'",245],")",")",["T_WHITESPACE"," ",245],"{",["T_WHITESPACE","\n                ",245],["T_VARIABLE","$this",246],["T_OBJECT_OPERATOR","->",246],["T_STRING","_addressFields",246],"[","]",["T_WHITESPACE"," ",246],"=",["T_WHITESPACE"," ",246],["T_VARIABLE","$code",246],";",["T_WHITESPACE","\n            ",246],"}",["T_WHITESPACE","\n\n            ",247],["T_IF","if",249],["T_WHITESPACE"," ",249],"(",["T_VARIABLE","$node",249],["T_OBJECT_OPERATOR","->",249],["T_STRING","is",249],"(",["T_CONSTANT_ENCAPSED_STRING","'mapped'",249],")",["T_WHITESPACE"," ",249],["T_BOOLEAN_OR","||",249],["T_WHITESPACE"," ",249],["T_VARIABLE","$node",249],["T_OBJECT_OPERATOR","->",249],["T_STRING","is",249],"(",["T_CONSTANT_ENCAPSED_STRING","'billing_mapped'",249],")",")",["T_WHITESPACE"," ",249],"{",["T_WHITESPACE","\n                ",249],["T_VARIABLE","$this",250],["T_OBJECT_OPERATOR","->",250],["T_STRING","_billingMappedFields",250],"[",["T_CONSTANT_ENCAPSED_STRING","'billing_'",250],".",["T_VARIABLE","$code",250],"]",["T_WHITESPACE"," ",250],"=",["T_WHITESPACE"," ",250],["T_VARIABLE","$code",250],";",["T_WHITESPACE","\n            ",250],"}",["T_WHITESPACE","\n            ",251],["T_IF","if",252],["T_WHITESPACE"," ",252],"(",["T_VARIABLE","$node",252],["T_OBJECT_OPERATOR","->",252],["T_STRING","is",252],"(",["T_CONSTANT_ENCAPSED_STRING","'mapped'",252],")",["T_WHITESPACE"," ",252],["T_BOOLEAN_OR","||",252],["T_WHITESPACE"," ",252],["T_VARIABLE","$node",252],["T_OBJECT_OPERATOR","->",252],["T_STRING","is",252],"(",["T_CONSTANT_ENCAPSED_STRING","'shipping_mapped'",252],")",")",["T_WHITESPACE"," ",252],"{",["T_WHITESPACE","\n                ",252],["T_VARIABLE","$this",253],["T_OBJECT_OPERATOR","->",253],["T_STRING","_shippingMappedFields",253],"[",["T_CONSTANT_ENCAPSED_STRING","'shipping_'",253],".",["T_VARIABLE","$code",253],"]",["T_WHITESPACE"," ",253],"=",["T_WHITESPACE"," ",253],["T_VARIABLE","$code",253],";",["T_WHITESPACE","\n            ",253],"}",["T_WHITESPACE","\n            ",254],["T_IF","if",255],["T_WHITESPACE"," ",255],"(",["T_VARIABLE","$node",255],["T_OBJECT_OPERATOR","->",255],["T_STRING","is",255],"(",["T_CONSTANT_ENCAPSED_STRING","'street'",255],")",")",["T_WHITESPACE"," ",255],"{",["T_WHITESPACE","\n                ",255],["T_VARIABLE","$this",256],["T_OBJECT_OPERATOR","->",256],["T_STRING","_billingStreetFields",256],"[","]",["T_WHITESPACE"," ",256],"=",["T_WHITESPACE"," ",256],["T_CONSTANT_ENCAPSED_STRING","'billing_'",256],".",["T_VARIABLE","$code",256],";",["T_WHITESPACE","\n                ",256],["T_VARIABLE","$this",257],["T_OBJECT_OPERATOR","->",257],["T_STRING","_shippingStreetFields",257],"[","]",["T_WHITESPACE"," ",257],"=",["T_WHITESPACE"," ",257],["T_CONSTANT_ENCAPSED_STRING","'shipping_'",257],".",["T_VARIABLE","$code",257],";",["T_WHITESPACE","\n            ",257],"}",["T_WHITESPACE","\n            ",258],["T_IF","if",259],["T_WHITESPACE"," ",259],"(",["T_VARIABLE","$node",259],["T_OBJECT_OPERATOR","->",259],["T_STRING","is",259],"(",["T_CONSTANT_ENCAPSED_STRING","'required'",259],")",")",["T_WHITESPACE"," ",259],"{",["T_WHITESPACE","\n                ",259],["T_VARIABLE","$this",260],["T_OBJECT_OPERATOR","->",260],["T_STRING","_requiredFields",260],"[","]",["T_WHITESPACE"," ",260],"=",["T_WHITESPACE"," ",260],["T_VARIABLE","$code",260],";",["T_WHITESPACE","\n            ",260],"}",["T_WHITESPACE","\n            ",261],["T_IF","if",262],["T_WHITESPACE"," ",262],"(",["T_VARIABLE","$node",262],["T_OBJECT_OPERATOR","->",262],["T_STRING","is",262],"(",["T_CONSTANT_ENCAPSED_STRING","'billing_required'",262],")",")",["T_WHITESPACE"," ",262],"{",["T_WHITESPACE","\n                ",262],["T_VARIABLE","$this",263],["T_OBJECT_OPERATOR","->",263],["T_STRING","_billingRequiredFields",263],"[","]",["T_WHITESPACE"," ",263],"=",["T_WHITESPACE"," ",263],["T_CONSTANT_ENCAPSED_STRING","'billing_'",263],".",["T_VARIABLE","$code",263],";",["T_WHITESPACE","\n            ",263],"}",["T_WHITESPACE","\n            ",264],["T_IF","if",265],["T_WHITESPACE"," ",265],"(",["T_VARIABLE","$node",265],["T_OBJECT_OPERATOR","->",265],["T_STRING","is",265],"(",["T_CONSTANT_ENCAPSED_STRING","'shipping_required'",265],")",")",["T_WHITESPACE"," ",265],"{",["T_WHITESPACE","\n                ",265],["T_VARIABLE","$this",266],["T_OBJECT_OPERATOR","->",266],["T_STRING","_shippingRequiredFields",266],"[","]",["T_WHITESPACE"," ",266],"=",["T_WHITESPACE"," ",266],["T_CONSTANT_ENCAPSED_STRING","'shipping_'",266],".",["T_VARIABLE","$code",266],";",["T_WHITESPACE","\n            ",266],"}",["T_WHITESPACE","\n        ",267],"}",["T_WHITESPACE","\n    ",268],"}",["T_WHITESPACE","\n\n    ",269],["T_PUBLIC","public",271],["T_WHITESPACE"," ",271],["T_FUNCTION","function",271],["T_WHITESPACE"," ",271],["T_STRING","load",271],"(",")",["T_WHITESPACE","\n    ",271],"{",["T_WHITESPACE","\n        ",272],["T_VARIABLE","$addressType",273],["T_WHITESPACE"," ",273],"=",["T_WHITESPACE"," ",273],["T_VARIABLE","$this",273],["T_OBJECT_OPERATOR","->",273],["T_STRING","getVar",273],"(",["T_CONSTANT_ENCAPSED_STRING","'filter\/adressType'",273],")",";",["T_WHITESPACE"," ",273],["T_COMMENT","\/\/error in key filter addressType\n",273],["T_WHITESPACE","        ",274],["T_IF","if",274],["T_WHITESPACE"," ",274],"(",["T_VARIABLE","$addressType",274],["T_IS_EQUAL","==",274],["T_CONSTANT_ENCAPSED_STRING","'both'",274],")",["T_WHITESPACE"," ",274],"{",["T_WHITESPACE","\n           ",274],["T_VARIABLE","$addressType",275],["T_WHITESPACE"," ",275],"=",["T_WHITESPACE"," ",275],["T_ARRAY","array",275],"(",["T_CONSTANT_ENCAPSED_STRING","'default_billing'",275],",",["T_CONSTANT_ENCAPSED_STRING","'default_shipping'",275],")",";",["T_WHITESPACE","\n        ",275],"}",["T_WHITESPACE","\n        ",276],["T_VARIABLE","$attrFilterArray",277],["T_WHITESPACE"," ",277],"=",["T_WHITESPACE"," ",277],["T_ARRAY","array",277],"(",")",";",["T_WHITESPACE","\n        ",277],["T_VARIABLE","$attrFilterArray",278],["T_WHITESPACE"," ",278],"[",["T_CONSTANT_ENCAPSED_STRING","'firstname'",278],"]",["T_WHITESPACE","                  ",278],"=",["T_WHITESPACE"," ",278],["T_CONSTANT_ENCAPSED_STRING","'like'",278],";",["T_WHITESPACE","\n        ",278],["T_VARIABLE","$attrFilterArray",279],["T_WHITESPACE"," ",279],"[",["T_CONSTANT_ENCAPSED_STRING","'lastname'",279],"]",["T_WHITESPACE","                   ",279],"=",["T_WHITESPACE"," ",279],["T_CONSTANT_ENCAPSED_STRING","'like'",279],";",["T_WHITESPACE","\n        ",279],["T_VARIABLE","$attrFilterArray",280],["T_WHITESPACE"," ",280],"[",["T_CONSTANT_ENCAPSED_STRING","'email'",280],"]",["T_WHITESPACE","                      ",280],"=",["T_WHITESPACE"," ",280],["T_CONSTANT_ENCAPSED_STRING","'like'",280],";",["T_WHITESPACE","\n        ",280],["T_VARIABLE","$attrFilterArray",281],["T_WHITESPACE"," ",281],"[",["T_CONSTANT_ENCAPSED_STRING","'group'",281],"]",["T_WHITESPACE","                      ",281],"=",["T_WHITESPACE"," ",281],["T_CONSTANT_ENCAPSED_STRING","'eq'",281],";",["T_WHITESPACE","\n        ",281],["T_VARIABLE","$attrFilterArray",282],["T_WHITESPACE"," ",282],"[",["T_CONSTANT_ENCAPSED_STRING","'customer_address\/telephone'",282],"]",["T_WHITESPACE"," ",282],"=",["T_WHITESPACE"," ",282],["T_ARRAY","array",282],"(",["T_WHITESPACE","\n            ",282],["T_CONSTANT_ENCAPSED_STRING","'type'",283],["T_WHITESPACE","  ",283],["T_DOUBLE_ARROW","=>",283],["T_WHITESPACE"," ",283],["T_CONSTANT_ENCAPSED_STRING","'like'",283],",",["T_WHITESPACE","\n            ",283],["T_CONSTANT_ENCAPSED_STRING","'bind'",284],["T_WHITESPACE","  ",284],["T_DOUBLE_ARROW","=>",284],["T_WHITESPACE"," ",284],["T_VARIABLE","$addressType",284],["T_WHITESPACE","\n        ",284],")",";",["T_WHITESPACE","\n        ",285],["T_VARIABLE","$attrFilterArray",286],["T_WHITESPACE"," ",286],"[",["T_CONSTANT_ENCAPSED_STRING","'customer_address\/postcode'",286],"]",["T_WHITESPACE","  ",286],"=",["T_WHITESPACE"," ",286],["T_ARRAY","array",286],"(",["T_WHITESPACE","\n            ",286],["T_CONSTANT_ENCAPSED_STRING","'type'",287],["T_WHITESPACE","  ",287],["T_DOUBLE_ARROW","=>",287],["T_WHITESPACE"," ",287],["T_CONSTANT_ENCAPSED_STRING","'like'",287],",",["T_WHITESPACE","\n            ",287],["T_CONSTANT_ENCAPSED_STRING","'bind'",288],["T_WHITESPACE","  ",288],["T_DOUBLE_ARROW","=>",288],["T_WHITESPACE"," ",288],["T_VARIABLE","$addressType",288],["T_WHITESPACE","\n        ",288],")",";",["T_WHITESPACE","\n        ",289],["T_VARIABLE","$attrFilterArray",290],["T_WHITESPACE"," ",290],"[",["T_CONSTANT_ENCAPSED_STRING","'customer_address\/country'",290],"]",["T_WHITESPACE","   ",290],"=",["T_WHITESPACE"," ",290],["T_ARRAY","array",290],"(",["T_WHITESPACE","\n            ",290],["T_CONSTANT_ENCAPSED_STRING","'type'",291],["T_WHITESPACE","  ",291],["T_DOUBLE_ARROW","=>",291],["T_WHITESPACE"," ",291],["T_CONSTANT_ENCAPSED_STRING","'eq'",291],",",["T_WHITESPACE","\n            ",291],["T_CONSTANT_ENCAPSED_STRING","'bind'",292],["T_WHITESPACE","  ",292],["T_DOUBLE_ARROW","=>",292],["T_WHITESPACE"," ",292],["T_VARIABLE","$addressType",292],["T_WHITESPACE","\n        ",292],")",";",["T_WHITESPACE","\n        ",293],["T_VARIABLE","$attrFilterArray",294],["T_WHITESPACE"," ",294],"[",["T_CONSTANT_ENCAPSED_STRING","'customer_address\/region'",294],"]",["T_WHITESPACE","    ",294],"=",["T_WHITESPACE"," ",294],["T_ARRAY","array",294],"(",["T_WHITESPACE","\n            ",294],["T_CONSTANT_ENCAPSED_STRING","'type'",295],["T_WHITESPACE","  ",295],["T_DOUBLE_ARROW","=>",295],["T_WHITESPACE"," ",295],["T_CONSTANT_ENCAPSED_STRING","'like'",295],",",["T_WHITESPACE","\n            ",295],["T_CONSTANT_ENCAPSED_STRING","'bind'",296],["T_WHITESPACE","  ",296],["T_DOUBLE_ARROW","=>",296],["T_WHITESPACE"," ",296],["T_VARIABLE","$addressType",296],["T_WHITESPACE","\n        ",296],")",";",["T_WHITESPACE","\n        ",297],["T_VARIABLE","$attrFilterArray",298],["T_WHITESPACE"," ",298],"[",["T_CONSTANT_ENCAPSED_STRING","'created_at'",298],"]",["T_WHITESPACE","                 ",298],"=",["T_WHITESPACE"," ",298],["T_CONSTANT_ENCAPSED_STRING","'datetimeFromTo'",298],";",["T_WHITESPACE","\n\n        ",298],["T_COMMENT","\/*\n         * Fixing date filter from and to\n         *\/",300],["T_WHITESPACE","\n        ",302],["T_IF","if",303],["T_WHITESPACE"," ",303],"(",["T_VARIABLE","$var",303],["T_WHITESPACE"," ",303],"=",["T_WHITESPACE"," ",303],["T_VARIABLE","$this",303],["T_OBJECT_OPERATOR","->",303],["T_STRING","getVar",303],"(",["T_CONSTANT_ENCAPSED_STRING","'filter\/created_at\/from'",303],")",")",["T_WHITESPACE"," ",303],"{",["T_WHITESPACE","\n            ",303],["T_VARIABLE","$this",304],["T_OBJECT_OPERATOR","->",304],["T_STRING","setVar",304],"(",["T_CONSTANT_ENCAPSED_STRING","'filter\/created_at\/from'",304],",",["T_WHITESPACE"," ",304],["T_VARIABLE","$var",304],["T_WHITESPACE"," ",304],".",["T_WHITESPACE"," ",304],["T_CONSTANT_ENCAPSED_STRING","' 00:00:00'",304],")",";",["T_WHITESPACE","\n        ",304],"}",["T_WHITESPACE","\n\n        ",305],["T_IF","if",307],["T_WHITESPACE"," ",307],"(",["T_VARIABLE","$var",307],["T_WHITESPACE"," ",307],"=",["T_WHITESPACE"," ",307],["T_VARIABLE","$this",307],["T_OBJECT_OPERATOR","->",307],["T_STRING","getVar",307],"(",["T_CONSTANT_ENCAPSED_STRING","'filter\/created_at\/to'",307],")",")",["T_WHITESPACE"," ",307],"{",["T_WHITESPACE","\n            ",307],["T_VARIABLE","$this",308],["T_OBJECT_OPERATOR","->",308],["T_STRING","setVar",308],"(",["T_CONSTANT_ENCAPSED_STRING","'filter\/created_at\/to'",308],",",["T_WHITESPACE"," ",308],["T_VARIABLE","$var",308],["T_WHITESPACE"," ",308],".",["T_WHITESPACE"," ",308],["T_CONSTANT_ENCAPSED_STRING","' 23:59:59'",308],")",";",["T_WHITESPACE","\n        ",308],"}",["T_WHITESPACE","\n\n        ",309],["T_VARIABLE","$attrToDb",311],["T_WHITESPACE"," ",311],"=",["T_WHITESPACE"," ",311],["T_ARRAY","array",311],"(",["T_WHITESPACE","\n            ",311],["T_CONSTANT_ENCAPSED_STRING","'group'",312],["T_WHITESPACE","                     ",312],["T_DOUBLE_ARROW","=>",312],["T_WHITESPACE"," ",312],["T_CONSTANT_ENCAPSED_STRING","'group_id'",312],",",["T_WHITESPACE","\n            ",312],["T_CONSTANT_ENCAPSED_STRING","'customer_address\/country'",313],["T_WHITESPACE","  ",313],["T_DOUBLE_ARROW","=>",313],["T_WHITESPACE"," ",313],["T_CONSTANT_ENCAPSED_STRING","'customer_address\/country_id'",313],",",["T_WHITESPACE","\n        ",313],")",";",["T_WHITESPACE","\n\n        ",314],["T_COMMENT","\/\/ Added store filter\n",316],["T_WHITESPACE","        ",317],["T_IF","if",317],["T_WHITESPACE"," ",317],"(",["T_VARIABLE","$storeId",317],["T_WHITESPACE"," ",317],"=",["T_WHITESPACE"," ",317],["T_VARIABLE","$this",317],["T_OBJECT_OPERATOR","->",317],["T_STRING","getStoreId",317],"(",")",")",["T_WHITESPACE"," ",317],"{",["T_WHITESPACE","\n            ",317],["T_VARIABLE","$websiteId",318],["T_WHITESPACE"," ",318],"=",["T_WHITESPACE"," ",318],["T_STRING","Mage",318],["T_DOUBLE_COLON","::",318],["T_STRING","app",318],"(",")",["T_OBJECT_OPERATOR","->",318],["T_STRING","getStore",318],"(",["T_VARIABLE","$storeId",318],")",["T_OBJECT_OPERATOR","->",318],["T_STRING","getWebsiteId",318],"(",")",";",["T_WHITESPACE","\n            ",318],["T_IF","if",319],["T_WHITESPACE"," ",319],"(",["T_VARIABLE","$websiteId",319],")",["T_WHITESPACE"," ",319],"{",["T_WHITESPACE","\n                ",319],["T_VARIABLE","$this",320],["T_OBJECT_OPERATOR","->",320],["T_STRING","_filter",320],"[","]",["T_WHITESPACE"," ",320],"=",["T_WHITESPACE"," ",320],["T_ARRAY","array",320],"(",["T_WHITESPACE","\n                    ",320],["T_CONSTANT_ENCAPSED_STRING","'attribute'",321],["T_WHITESPACE"," ",321],["T_DOUBLE_ARROW","=>",321],["T_WHITESPACE"," ",321],["T_CONSTANT_ENCAPSED_STRING","'website_id'",321],",",["T_WHITESPACE","\n                    ",321],["T_CONSTANT_ENCAPSED_STRING","'eq'",322],["T_WHITESPACE","        ",322],["T_DOUBLE_ARROW","=>",322],["T_WHITESPACE"," ",322],["T_VARIABLE","$websiteId",322],["T_WHITESPACE","\n                ",322],")",";",["T_WHITESPACE","\n            ",323],"}",["T_WHITESPACE","\n        ",324],"}",["T_WHITESPACE","\n\n        ",325],["T_STRING","parent",327],["T_DOUBLE_COLON","::",327],["T_STRING","setFilter",327],"(",["T_VARIABLE","$attrFilterArray",327],",",["T_WHITESPACE"," ",327],["T_VARIABLE","$attrToDb",327],")",";",["T_WHITESPACE","\n        ",327],["T_RETURN","return",328],["T_WHITESPACE"," ",328],["T_STRING","parent",328],["T_DOUBLE_COLON","::",328],["T_STRING","load",328],"(",")",";",["T_WHITESPACE","\n    ",328],"}",["T_WHITESPACE","\n\n    ",329],["T_DOC_COMMENT","\/**\n     * Not use :(\n     *\/",331],["T_WHITESPACE","\n    ",333],["T_PUBLIC","public",334],["T_WHITESPACE"," ",334],["T_FUNCTION","function",334],["T_WHITESPACE"," ",334],["T_STRING","parse",334],"(",")",["T_WHITESPACE","\n    ",334],"{",["T_WHITESPACE","\n        ",335],["T_VARIABLE","$batchModel",336],["T_WHITESPACE"," ",336],"=",["T_WHITESPACE"," ",336],["T_STRING","Mage",336],["T_DOUBLE_COLON","::",336],["T_STRING","getSingleton",336],"(",["T_CONSTANT_ENCAPSED_STRING","'dataflow\/batch'",336],")",";",["T_WHITESPACE","\n        ",336],["T_COMMENT","\/* @var $batchModel Mage_Dataflow_Model_Batch *\/",337],["T_WHITESPACE","\n\n        ",337],["T_VARIABLE","$batchImportModel",339],["T_WHITESPACE"," ",339],"=",["T_WHITESPACE"," ",339],["T_VARIABLE","$batchModel",339],["T_OBJECT_OPERATOR","->",339],["T_STRING","getBatchImportModel",339],"(",")",";",["T_WHITESPACE","\n        ",339],["T_VARIABLE","$importIds",340],["T_WHITESPACE"," ",340],"=",["T_WHITESPACE"," ",340],["T_VARIABLE","$batchImportModel",340],["T_OBJECT_OPERATOR","->",340],["T_STRING","getIdCollection",340],"(",")",";",["T_WHITESPACE","\n\n        ",340],["T_FOREACH","foreach",342],["T_WHITESPACE"," ",342],"(",["T_VARIABLE","$importIds",342],["T_WHITESPACE"," ",342],["T_AS","as",342],["T_WHITESPACE"," ",342],["T_VARIABLE","$importId",342],")",["T_WHITESPACE"," ",342],"{",["T_WHITESPACE","\n            ",342],["T_VARIABLE","$batchImportModel",343],["T_OBJECT_OPERATOR","->",343],["T_STRING","load",343],"(",["T_VARIABLE","$importId",343],")",";",["T_WHITESPACE","\n            ",343],["T_VARIABLE","$importData",344],["T_WHITESPACE"," ",344],"=",["T_WHITESPACE"," ",344],["T_VARIABLE","$batchImportModel",344],["T_OBJECT_OPERATOR","->",344],["T_STRING","getBatchData",344],"(",")",";",["T_WHITESPACE","\n\n            ",344],["T_VARIABLE","$this",346],["T_OBJECT_OPERATOR","->",346],["T_STRING","saveRow",346],"(",["T_VARIABLE","$importData",346],")",";",["T_WHITESPACE","\n        ",346],"}",["T_WHITESPACE","\n    ",347],"}",["T_WHITESPACE","\n\n    ",348],["T_PUBLIC","public",350],["T_WHITESPACE"," ",350],["T_FUNCTION","function",350],["T_WHITESPACE"," ",350],["T_STRING","setCustomer",350],"(",["T_STRING","Mage_Customer_Model_Customer",350],["T_WHITESPACE"," ",350],["T_VARIABLE","$customer",350],")",["T_WHITESPACE","\n    ",350],"{",["T_WHITESPACE","\n        ",351],["T_VARIABLE","$id",352],["T_WHITESPACE"," ",352],"=",["T_WHITESPACE"," ",352],["T_STRING","Mage",352],["T_DOUBLE_COLON","::",352],["T_STRING","objects",352],"(",")",["T_OBJECT_OPERATOR","->",352],["T_STRING","save",352],"(",["T_VARIABLE","$customer",352],")",";",["T_WHITESPACE","\n        ",352],["T_STRING","Mage",353],["T_DOUBLE_COLON","::",353],["T_STRING","register",353],"(",["T_CONSTANT_ENCAPSED_STRING","'Object_Cache_Customer'",353],",",["T_WHITESPACE"," ",353],["T_VARIABLE","$id",353],")",";",["T_WHITESPACE","\n    ",353],"}",["T_WHITESPACE","\n\n    ",354],["T_PUBLIC","public",356],["T_WHITESPACE"," ",356],["T_FUNCTION","function",356],["T_WHITESPACE"," ",356],["T_STRING","getCustomer",356],"(",")",["T_WHITESPACE","\n    ",356],"{",["T_WHITESPACE","\n        ",357],["T_RETURN","return",358],["T_WHITESPACE"," ",358],["T_STRING","Mage",358],["T_DOUBLE_COLON","::",358],["T_STRING","objects",358],"(",")",["T_OBJECT_OPERATOR","->",358],["T_STRING","load",358],"(",["T_STRING","Mage",358],["T_DOUBLE_COLON","::",358],["T_STRING","registry",358],"(",["T_CONSTANT_ENCAPSED_STRING","'Object_Cache_Customer'",358],")",")",";",["T_WHITESPACE","\n    ",358],"}",["T_WHITESPACE","\n\n    ",359],["T_PUBLIC","public",361],["T_WHITESPACE"," ",361],["T_FUNCTION","function",361],["T_WHITESPACE"," ",361],["T_STRING","save",361],"(",")",["T_WHITESPACE","\n    ",361],"{",["T_WHITESPACE","\n        ",362],["T_VARIABLE","$stores",363],["T_WHITESPACE"," ",363],"=",["T_WHITESPACE"," ",363],["T_ARRAY","array",363],"(",")",";",["T_WHITESPACE","\n        ",363],["T_FOREACH","foreach",364],["T_WHITESPACE"," ",364],"(",["T_STRING","Mage",364],["T_DOUBLE_COLON","::",364],["T_STRING","getConfig",364],"(",")",["T_OBJECT_OPERATOR","->",364],["T_STRING","getNode",364],"(",["T_CONSTANT_ENCAPSED_STRING","'stores'",364],")",["T_OBJECT_OPERATOR","->",364],["T_STRING","children",364],"(",")",["T_WHITESPACE"," ",364],["T_AS","as",364],["T_WHITESPACE"," ",364],["T_VARIABLE","$storeNode",364],")",["T_WHITESPACE"," ",364],"{",["T_WHITESPACE","\n            ",364],["T_VARIABLE","$stores",365],"[",["T_INT_CAST","(int)",365],["T_VARIABLE","$storeNode",365],["T_OBJECT_OPERATOR","->",365],["T_STRING","system",365],["T_OBJECT_OPERATOR","->",365],["T_STRING","store",365],["T_OBJECT_OPERATOR","->",365],["T_STRING","id",365],"]",["T_WHITESPACE"," ",365],"=",["T_WHITESPACE"," ",365],["T_VARIABLE","$storeNode",365],["T_OBJECT_OPERATOR","->",365],["T_STRING","getName",365],"(",")",";",["T_WHITESPACE","\n        ",365],"}",["T_WHITESPACE","\n\n        ",366],["T_VARIABLE","$collections",368],["T_WHITESPACE"," ",368],"=",["T_WHITESPACE"," ",368],["T_VARIABLE","$this",368],["T_OBJECT_OPERATOR","->",368],["T_STRING","getData",368],"(",")",";",["T_WHITESPACE","\n        ",368],["T_IF","if",369],["T_WHITESPACE"," ",369],"(",["T_VARIABLE","$collections",369],["T_WHITESPACE"," ",369],["T_INSTANCEOF","instanceof",369],["T_WHITESPACE"," ",369],["T_STRING","Mage_Customer_Model_Entity_Customer_Collection",369],")",["T_WHITESPACE"," ",369],"{",["T_WHITESPACE","\n            ",369],["T_VARIABLE","$collections",370],["T_WHITESPACE"," ",370],"=",["T_WHITESPACE"," ",370],["T_ARRAY","array",370],"(",["T_VARIABLE","$collections",370],["T_OBJECT_OPERATOR","->",370],["T_STRING","getEntity",370],"(",")",["T_OBJECT_OPERATOR","->",370],["T_STRING","getStoreId",370],"(",")",["T_DOUBLE_ARROW","=>",370],["T_VARIABLE","$collections",370],")",";",["T_WHITESPACE","\n        ",370],"}",["T_WHITESPACE"," ",371],["T_ELSEIF","elseif",371],["T_WHITESPACE"," ",371],"(","!",["T_STRING","is_array",371],"(",["T_VARIABLE","$collections",371],")",")",["T_WHITESPACE"," ",371],"{",["T_WHITESPACE","\n            ",371],["T_VARIABLE","$this",372],["T_OBJECT_OPERATOR","->",372],["T_STRING","addException",372],"(",["T_STRING","Mage",372],["T_DOUBLE_COLON","::",372],["T_STRING","helper",372],"(",["T_CONSTANT_ENCAPSED_STRING","'customer'",372],")",["T_OBJECT_OPERATOR","->",372],["T_STRING","__",372],"(",["T_CONSTANT_ENCAPSED_STRING","'No customer collections found'",372],")",",",["T_WHITESPACE"," ",372],["T_STRING","Mage_Dataflow_Model_Convert_Exception",372],["T_DOUBLE_COLON","::",372],["T_STRING","FATAL",372],")",";",["T_WHITESPACE","\n        ",372],"}",["T_WHITESPACE","\n\n        ",373],["T_FOREACH","foreach",375],["T_WHITESPACE"," ",375],"(",["T_VARIABLE","$collections",375],["T_WHITESPACE"," ",375],["T_AS","as",375],["T_WHITESPACE"," ",375],["T_VARIABLE","$storeId",375],["T_DOUBLE_ARROW","=>",375],["T_VARIABLE","$collection",375],")",["T_WHITESPACE"," ",375],"{",["T_WHITESPACE","\n            ",375],["T_VARIABLE","$this",376],["T_OBJECT_OPERATOR","->",376],["T_STRING","addException",376],"(",["T_STRING","Mage",376],["T_DOUBLE_COLON","::",376],["T_STRING","helper",376],"(",["T_CONSTANT_ENCAPSED_STRING","'customer'",376],")",["T_OBJECT_OPERATOR","->",376],["T_STRING","__",376],"(",["T_CONSTANT_ENCAPSED_STRING","'Records for %s store found.'",376],",",["T_WHITESPACE"," ",376],["T_VARIABLE","$stores",376],"[",["T_VARIABLE","$storeId",376],"]",")",")",";",["T_WHITESPACE","\n\n            ",376],["T_IF","if",378],["T_WHITESPACE"," ",378],"(","!",["T_VARIABLE","$collection",378],["T_WHITESPACE"," ",378],["T_INSTANCEOF","instanceof",378],["T_WHITESPACE"," ",378],["T_STRING","Mage_Customer_Model_Entity_Customer_Collection",378],")",["T_WHITESPACE"," ",378],"{",["T_WHITESPACE","\n                ",378],["T_VARIABLE","$this",379],["T_OBJECT_OPERATOR","->",379],["T_STRING","addException",379],"(",["T_STRING","Mage",379],["T_DOUBLE_COLON","::",379],["T_STRING","helper",379],"(",["T_CONSTANT_ENCAPSED_STRING","'customer'",379],")",["T_OBJECT_OPERATOR","->",379],["T_STRING","__",379],"(",["T_CONSTANT_ENCAPSED_STRING","'Customer collection expected.'",379],")",",",["T_WHITESPACE"," ",379],["T_STRING","Mage_Dataflow_Model_Convert_Exception",379],["T_DOUBLE_COLON","::",379],["T_STRING","FATAL",379],")",";",["T_WHITESPACE","\n            ",379],"}",["T_WHITESPACE","\n            ",380],["T_TRY","try",381],["T_WHITESPACE"," ",381],"{",["T_WHITESPACE","\n                ",381],["T_VARIABLE","$i",382],["T_WHITESPACE"," ",382],"=",["T_WHITESPACE"," ",382],["T_LNUMBER","0",382],";",["T_WHITESPACE","\n                ",382],["T_FOREACH","foreach",383],["T_WHITESPACE"," ",383],"(",["T_VARIABLE","$collection",383],["T_OBJECT_OPERATOR","->",383],["T_STRING","getIterator",383],"(",")",["T_WHITESPACE"," ",383],["T_AS","as",383],["T_WHITESPACE"," ",383],["T_VARIABLE","$model",383],")",["T_WHITESPACE"," ",383],"{",["T_WHITESPACE","\n                    ",383],["T_VARIABLE","$new",384],["T_WHITESPACE"," ",384],"=",["T_WHITESPACE"," ",384],["T_STRING","false",384],";",["T_WHITESPACE","\n                    ",384],["T_COMMENT","\/\/ if customer is new, create default values first\n",385],["T_WHITESPACE","                    ",386],["T_IF","if",386],["T_WHITESPACE"," ",386],"(","!",["T_VARIABLE","$model",386],["T_OBJECT_OPERATOR","->",386],["T_STRING","getId",386],"(",")",")",["T_WHITESPACE"," ",386],"{",["T_WHITESPACE","\n                        ",386],["T_VARIABLE","$new",387],["T_WHITESPACE"," ",387],"=",["T_WHITESPACE"," ",387],["T_STRING","true",387],";",["T_WHITESPACE","\n                        ",387],["T_VARIABLE","$model",388],["T_OBJECT_OPERATOR","->",388],["T_STRING","save",388],"(",")",";",["T_WHITESPACE","\n                        ",388],["T_COMMENT","#Mage::getResourceSingleton('catalog_entity\/convert')->addProductToStore($model->getId(), 0);\n",389],["T_WHITESPACE","                    ",390],"}",["T_WHITESPACE","\n                    ",390],["T_IF","if",391],["T_WHITESPACE"," ",391],"(","!",["T_VARIABLE","$new",391],["T_WHITESPACE"," ",391],["T_BOOLEAN_OR","||",391],["T_WHITESPACE"," ",391],["T_LNUMBER","0",391],["T_IS_NOT_IDENTICAL","!==",391],["T_VARIABLE","$storeId",391],")",["T_WHITESPACE"," ",391],"{",["T_WHITESPACE","\n\n",391],["T_COMMENT","\/\/                        if (0!==$storeId) {\n",393],["T_COMMENT","\/\/                            Mage::getResourceSingleton('catalog_entity\/convert')->addProductToStore($model->getId(), $storeId);\n",394],["T_COMMENT","\/\/                        }\n",395],["T_WHITESPACE","\n                        ",396],["T_VARIABLE","$model",397],["T_OBJECT_OPERATOR","->",397],["T_STRING","save",397],"(",")",";",["T_WHITESPACE","\n                    ",397],"}",["T_WHITESPACE","\n                    ",398],["T_VARIABLE","$i",399],["T_INC","++",399],";",["T_WHITESPACE","\n                ",399],"}",["T_WHITESPACE","\n                ",400],["T_VARIABLE","$this",401],["T_OBJECT_OPERATOR","->",401],["T_STRING","addException",401],"(",["T_STRING","Mage",401],["T_DOUBLE_COLON","::",401],["T_STRING","helper",401],"(",["T_CONSTANT_ENCAPSED_STRING","'customer'",401],")",["T_OBJECT_OPERATOR","->",401],["T_STRING","__",401],"(",["T_CONSTANT_ENCAPSED_STRING","\"Saved %d record(s)\"",401],",",["T_WHITESPACE"," ",401],["T_VARIABLE","$i",401],")",")",";",["T_WHITESPACE","\n            ",401],"}",["T_WHITESPACE"," ",402],["T_CATCH","catch",402],["T_WHITESPACE"," ",402],"(",["T_STRING","Exception",402],["T_WHITESPACE"," ",402],["T_VARIABLE","$e",402],")",["T_WHITESPACE"," ",402],"{",["T_WHITESPACE","\n                ",402],["T_IF","if",403],["T_WHITESPACE"," ",403],"(","!",["T_VARIABLE","$e",403],["T_WHITESPACE"," ",403],["T_INSTANCEOF","instanceof",403],["T_WHITESPACE"," ",403],["T_STRING","Mage_Dataflow_Model_Convert_Exception",403],")",["T_WHITESPACE"," ",403],"{",["T_WHITESPACE","\n                    ",403],["T_VARIABLE","$this",404],["T_OBJECT_OPERATOR","->",404],["T_STRING","addException",404],"(",["T_STRING","Mage",404],["T_DOUBLE_COLON","::",404],["T_STRING","helper",404],"(",["T_CONSTANT_ENCAPSED_STRING","'customer'",404],")",["T_OBJECT_OPERATOR","->",404],["T_STRING","__",404],"(",["T_CONSTANT_ENCAPSED_STRING","'An error occurred while saving the collection, aborting. Error: %s'",404],",",["T_WHITESPACE"," ",404],["T_VARIABLE","$e",404],["T_OBJECT_OPERATOR","->",404],["T_STRING","getMessage",404],"(",")",")",",",["T_WHITESPACE","\n                        ",404],["T_STRING","Mage_Dataflow_Model_Convert_Exception",405],["T_DOUBLE_COLON","::",405],["T_STRING","FATAL",405],")",";",["T_WHITESPACE","\n                ",405],"}",["T_WHITESPACE","\n            ",406],"}",["T_WHITESPACE","\n        ",407],"}",["T_WHITESPACE","\n        ",408],["T_RETURN","return",409],["T_WHITESPACE"," ",409],["T_VARIABLE","$this",409],";",["T_WHITESPACE","\n    ",409],"}",["T_WHITESPACE","\n\n    ",410],["T_COMMENT","\/*\n     * saveRow function for saving each customer data\n     *\n     * params args array\n     * return array\n     *\/",412],["T_WHITESPACE","\n    ",417],["T_PUBLIC","public",418],["T_WHITESPACE"," ",418],["T_FUNCTION","function",418],["T_WHITESPACE"," ",418],["T_STRING","saveRow",418],"(",["T_VARIABLE","$importData",418],")",["T_WHITESPACE","\n    ",418],"{",["T_WHITESPACE","\n        ",419],["T_VARIABLE","$customer",420],["T_WHITESPACE"," ",420],"=",["T_WHITESPACE"," ",420],["T_VARIABLE","$this",420],["T_OBJECT_OPERATOR","->",420],["T_STRING","getCustomerModel",420],"(",")",";",["T_WHITESPACE","\n        ",420],["T_VARIABLE","$customer",421],["T_OBJECT_OPERATOR","->",421],["T_STRING","setId",421],"(",["T_STRING","null",421],")",";",["T_WHITESPACE","\n\n        ",421],["T_IF","if",423],["T_WHITESPACE"," ",423],"(",["T_EMPTY","empty",423],"(",["T_VARIABLE","$importData",423],"[",["T_CONSTANT_ENCAPSED_STRING","'website'",423],"]",")",")",["T_WHITESPACE"," ",423],"{",["T_WHITESPACE","\n            ",423],["T_VARIABLE","$message",424],["T_WHITESPACE"," ",424],"=",["T_WHITESPACE"," ",424],["T_STRING","Mage",424],["T_DOUBLE_COLON","::",424],["T_STRING","helper",424],"(",["T_CONSTANT_ENCAPSED_STRING","'customer'",424],")",["T_OBJECT_OPERATOR","->",424],["T_STRING","__",424],"(",["T_CONSTANT_ENCAPSED_STRING","'Skipping import row, required field \"%s\" is not defined.'",424],",",["T_WHITESPACE"," ",424],["T_CONSTANT_ENCAPSED_STRING","'website'",424],")",";",["T_WHITESPACE","\n            ",424],["T_STRING","Mage",425],["T_DOUBLE_COLON","::",425],["T_STRING","throwException",425],"(",["T_VARIABLE","$message",425],")",";",["T_WHITESPACE","\n        ",425],"}",["T_WHITESPACE","\n\n        ",426],["T_VARIABLE","$website",428],["T_WHITESPACE"," ",428],"=",["T_WHITESPACE"," ",428],["T_VARIABLE","$this",428],["T_OBJECT_OPERATOR","->",428],["T_STRING","getWebsiteByCode",428],"(",["T_VARIABLE","$importData",428],"[",["T_CONSTANT_ENCAPSED_STRING","'website'",428],"]",")",";",["T_WHITESPACE","\n\n        ",428],["T_IF","if",430],["T_WHITESPACE"," ",430],"(",["T_VARIABLE","$website",430],["T_WHITESPACE"," ",430],["T_IS_IDENTICAL","===",430],["T_WHITESPACE"," ",430],["T_STRING","false",430],")",["T_WHITESPACE"," ",430],"{",["T_WHITESPACE","\n            ",430],["T_VARIABLE","$message",431],["T_WHITESPACE"," ",431],"=",["T_WHITESPACE"," ",431],["T_STRING","Mage",431],["T_DOUBLE_COLON","::",431],["T_STRING","helper",431],"(",["T_CONSTANT_ENCAPSED_STRING","'customer'",431],")",["T_OBJECT_OPERATOR","->",431],["T_STRING","__",431],"(",["T_CONSTANT_ENCAPSED_STRING","'Skipping import row, website \"%s\" field does not exist.'",431],",",["T_WHITESPACE"," ",431],["T_VARIABLE","$importData",431],"[",["T_CONSTANT_ENCAPSED_STRING","'website'",431],"]",")",";",["T_WHITESPACE","\n            ",431],["T_STRING","Mage",432],["T_DOUBLE_COLON","::",432],["T_STRING","throwException",432],"(",["T_VARIABLE","$message",432],")",";",["T_WHITESPACE","\n        ",432],"}",["T_WHITESPACE","\n        ",433],["T_IF","if",434],["T_WHITESPACE"," ",434],"(",["T_EMPTY","empty",434],"(",["T_VARIABLE","$importData",434],"[",["T_CONSTANT_ENCAPSED_STRING","'email'",434],"]",")",")",["T_WHITESPACE"," ",434],"{",["T_WHITESPACE","\n            ",434],["T_VARIABLE","$message",435],["T_WHITESPACE"," ",435],"=",["T_WHITESPACE"," ",435],["T_STRING","Mage",435],["T_DOUBLE_COLON","::",435],["T_STRING","helper",435],"(",["T_CONSTANT_ENCAPSED_STRING","'customer'",435],")",["T_OBJECT_OPERATOR","->",435],["T_STRING","__",435],"(",["T_CONSTANT_ENCAPSED_STRING","'Skipping import row, required field \"%s\" is not defined.'",435],",",["T_WHITESPACE"," ",435],["T_CONSTANT_ENCAPSED_STRING","'email'",435],")",";",["T_WHITESPACE","\n            ",435],["T_STRING","Mage",436],["T_DOUBLE_COLON","::",436],["T_STRING","throwException",436],"(",["T_VARIABLE","$message",436],")",";",["T_WHITESPACE","\n        ",436],"}",["T_WHITESPACE","\n\n        ",437],["T_VARIABLE","$customer",439],["T_OBJECT_OPERATOR","->",439],["T_STRING","setWebsiteId",439],"(",["T_VARIABLE","$website",439],["T_OBJECT_OPERATOR","->",439],["T_STRING","getId",439],"(",")",")",["T_WHITESPACE","\n            ",439],["T_OBJECT_OPERATOR","->",440],["T_STRING","loadByEmail",440],"(",["T_VARIABLE","$importData",440],"[",["T_CONSTANT_ENCAPSED_STRING","'email'",440],"]",")",";",["T_WHITESPACE","\n        ",440],["T_IF","if",441],["T_WHITESPACE"," ",441],"(","!",["T_VARIABLE","$customer",441],["T_OBJECT_OPERATOR","->",441],["T_STRING","getId",441],"(",")",")",["T_WHITESPACE"," ",441],"{",["T_WHITESPACE","\n            ",441],["T_VARIABLE","$customerGroups",442],["T_WHITESPACE"," ",442],"=",["T_WHITESPACE"," ",442],["T_VARIABLE","$this",442],["T_OBJECT_OPERATOR","->",442],["T_STRING","getCustomerGroups",442],"(",")",";",["T_WHITESPACE","\n            ",442],["T_DOC_COMMENT","\/**\n             * Check customer group\n             *\/",443],["T_WHITESPACE","\n            ",445],["T_IF","if",446],["T_WHITESPACE"," ",446],"(",["T_EMPTY","empty",446],"(",["T_VARIABLE","$importData",446],"[",["T_CONSTANT_ENCAPSED_STRING","'group'",446],"]",")",["T_WHITESPACE"," ",446],["T_BOOLEAN_OR","||",446],["T_WHITESPACE"," ",446],"!",["T_ISSET","isset",446],"(",["T_VARIABLE","$customerGroups",446],"[",["T_VARIABLE","$importData",446],"[",["T_CONSTANT_ENCAPSED_STRING","'group'",446],"]","]",")",")",["T_WHITESPACE"," ",446],"{",["T_WHITESPACE","\n                ",446],["T_VARIABLE","$value",447],["T_WHITESPACE"," ",447],"=",["T_WHITESPACE"," ",447],["T_ISSET","isset",447],"(",["T_VARIABLE","$importData",447],"[",["T_CONSTANT_ENCAPSED_STRING","'group'",447],"]",")",["T_WHITESPACE"," ",447],"?",["T_WHITESPACE"," ",447],["T_VARIABLE","$importData",447],"[",["T_CONSTANT_ENCAPSED_STRING","'group'",447],"]",["T_WHITESPACE"," ",447],":",["T_WHITESPACE"," ",447],["T_CONSTANT_ENCAPSED_STRING","''",447],";",["T_WHITESPACE","\n                ",447],["T_VARIABLE","$message",448],["T_WHITESPACE"," ",448],"=",["T_WHITESPACE"," ",448],["T_STRING","Mage",448],["T_DOUBLE_COLON","::",448],["T_STRING","helper",448],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog'",448],")",["T_OBJECT_OPERATOR","->",448],["T_STRING","__",448],"(",["T_CONSTANT_ENCAPSED_STRING","'Skipping import row, the value \"%s\" is not valid for the \"%s\" field.'",448],",",["T_WHITESPACE"," ",448],["T_VARIABLE","$value",448],",",["T_WHITESPACE"," ",448],["T_CONSTANT_ENCAPSED_STRING","'group'",448],")",";",["T_WHITESPACE","\n                ",448],["T_STRING","Mage",449],["T_DOUBLE_COLON","::",449],["T_STRING","throwException",449],"(",["T_VARIABLE","$message",449],")",";",["T_WHITESPACE","\n            ",449],"}",["T_WHITESPACE","\n            ",450],["T_VARIABLE","$customer",451],["T_OBJECT_OPERATOR","->",451],["T_STRING","setGroupId",451],"(",["T_VARIABLE","$customerGroups",451],"[",["T_VARIABLE","$importData",451],"[",["T_CONSTANT_ENCAPSED_STRING","'group'",451],"]","]",")",";",["T_WHITESPACE","\n\n            ",451],["T_FOREACH","foreach",453],["T_WHITESPACE"," ",453],"(",["T_VARIABLE","$this",453],["T_OBJECT_OPERATOR","->",453],["T_STRING","_requiredFields",453],["T_WHITESPACE"," ",453],["T_AS","as",453],["T_WHITESPACE"," ",453],["T_VARIABLE","$field",453],")",["T_WHITESPACE"," ",453],"{",["T_WHITESPACE","\n                ",453],["T_IF","if",454],["T_WHITESPACE"," ",454],"(","!",["T_ISSET","isset",454],"(",["T_VARIABLE","$importData",454],"[",["T_VARIABLE","$field",454],"]",")",")",["T_WHITESPACE"," ",454],"{",["T_WHITESPACE","\n                    ",454],["T_VARIABLE","$message",455],["T_WHITESPACE"," ",455],"=",["T_WHITESPACE"," ",455],["T_STRING","Mage",455],["T_DOUBLE_COLON","::",455],["T_STRING","helper",455],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog'",455],")",["T_OBJECT_OPERATOR","->",455],["T_STRING","__",455],"(",["T_CONSTANT_ENCAPSED_STRING","'Skip import row, required field \"%s\" for the new customer is not defined.'",455],",",["T_WHITESPACE"," ",455],["T_VARIABLE","$field",455],")",";",["T_WHITESPACE","\n                    ",455],["T_STRING","Mage",456],["T_DOUBLE_COLON","::",456],["T_STRING","throwException",456],"(",["T_VARIABLE","$message",456],")",";",["T_WHITESPACE","\n                ",456],"}",["T_WHITESPACE","\n            ",457],"}",["T_WHITESPACE","\n\n            ",458],["T_VARIABLE","$customer",460],["T_OBJECT_OPERATOR","->",460],["T_STRING","setWebsiteId",460],"(",["T_VARIABLE","$website",460],["T_OBJECT_OPERATOR","->",460],["T_STRING","getId",460],"(",")",")",";",["T_WHITESPACE","\n\n            ",460],["T_IF","if",462],["T_WHITESPACE"," ",462],"(",["T_EMPTY","empty",462],"(",["T_VARIABLE","$importData",462],"[",["T_CONSTANT_ENCAPSED_STRING","'created_in'",462],"]",")",["T_WHITESPACE"," ",462],["T_BOOLEAN_OR","||",462],["T_WHITESPACE"," ",462],"!",["T_VARIABLE","$this",462],["T_OBJECT_OPERATOR","->",462],["T_STRING","getStoreByCode",462],"(",["T_VARIABLE","$importData",462],"[",["T_CONSTANT_ENCAPSED_STRING","'created_in'",462],"]",")",")",["T_WHITESPACE"," ",462],"{",["T_WHITESPACE","\n                ",462],["T_VARIABLE","$customer",463],["T_OBJECT_OPERATOR","->",463],["T_STRING","setStoreId",463],"(",["T_LNUMBER","0",463],")",";",["T_WHITESPACE","\n            ",463],"}",["T_WHITESPACE","\n            ",464],["T_ELSE","else",465],["T_WHITESPACE"," ",465],"{",["T_WHITESPACE","\n                ",465],["T_VARIABLE","$customer",466],["T_OBJECT_OPERATOR","->",466],["T_STRING","setStoreId",466],"(",["T_VARIABLE","$this",466],["T_OBJECT_OPERATOR","->",466],["T_STRING","getStoreByCode",466],"(",["T_VARIABLE","$importData",466],"[",["T_CONSTANT_ENCAPSED_STRING","'created_in'",466],"]",")",["T_OBJECT_OPERATOR","->",466],["T_STRING","getId",466],"(",")",")",";",["T_WHITESPACE","\n            ",466],"}",["T_WHITESPACE","\n\n            ",467],["T_IF","if",469],["T_WHITESPACE"," ",469],"(",["T_EMPTY","empty",469],"(",["T_VARIABLE","$importData",469],"[",["T_CONSTANT_ENCAPSED_STRING","'password_hash'",469],"]",")",")",["T_WHITESPACE"," ",469],"{",["T_WHITESPACE","\n                ",469],["T_VARIABLE","$customer",470],["T_OBJECT_OPERATOR","->",470],["T_STRING","setPasswordHash",470],"(",["T_VARIABLE","$customer",470],["T_OBJECT_OPERATOR","->",470],["T_STRING","hashPassword",470],"(",["T_VARIABLE","$customer",470],["T_OBJECT_OPERATOR","->",470],["T_STRING","generatePassword",470],"(",["T_LNUMBER","8",470],")",")",")",";",["T_WHITESPACE","\n            ",470],"}",["T_WHITESPACE","\n        ",471],"}",["T_WHITESPACE","\n        ",472],["T_ELSEIF","elseif",473],["T_WHITESPACE"," ",473],"(","!",["T_EMPTY","empty",473],"(",["T_VARIABLE","$importData",473],"[",["T_CONSTANT_ENCAPSED_STRING","'group'",473],"]",")",")",["T_WHITESPACE"," ",473],"{",["T_WHITESPACE","\n            ",473],["T_VARIABLE","$customerGroups",474],["T_WHITESPACE"," ",474],"=",["T_WHITESPACE"," ",474],["T_VARIABLE","$this",474],["T_OBJECT_OPERATOR","->",474],["T_STRING","getCustomerGroups",474],"(",")",";",["T_WHITESPACE","\n            ",474],["T_DOC_COMMENT","\/**\n             * Check customer group\n             *\/",475],["T_WHITESPACE","\n            ",477],["T_IF","if",478],["T_WHITESPACE"," ",478],"(",["T_ISSET","isset",478],"(",["T_VARIABLE","$customerGroups",478],"[",["T_VARIABLE","$importData",478],"[",["T_CONSTANT_ENCAPSED_STRING","'group'",478],"]","]",")",")",["T_WHITESPACE"," ",478],"{",["T_WHITESPACE","\n                ",478],["T_VARIABLE","$customer",479],["T_OBJECT_OPERATOR","->",479],["T_STRING","setGroupId",479],"(",["T_VARIABLE","$customerGroups",479],"[",["T_VARIABLE","$importData",479],"[",["T_CONSTANT_ENCAPSED_STRING","'group'",479],"]","]",")",";",["T_WHITESPACE","\n            ",479],"}",["T_WHITESPACE","\n        ",480],"}",["T_WHITESPACE","\n\n        ",481],["T_FOREACH","foreach",483],["T_WHITESPACE"," ",483],"(",["T_VARIABLE","$this",483],["T_OBJECT_OPERATOR","->",483],["T_STRING","_ignoreFields",483],["T_WHITESPACE"," ",483],["T_AS","as",483],["T_WHITESPACE"," ",483],["T_VARIABLE","$field",483],")",["T_WHITESPACE"," ",483],"{",["T_WHITESPACE","\n            ",483],["T_IF","if",484],["T_WHITESPACE"," ",484],"(",["T_ISSET","isset",484],"(",["T_VARIABLE","$importData",484],"[",["T_VARIABLE","$field",484],"]",")",")",["T_WHITESPACE"," ",484],"{",["T_WHITESPACE","\n                ",484],["T_UNSET","unset",485],"(",["T_VARIABLE","$importData",485],"[",["T_VARIABLE","$field",485],"]",")",";",["T_WHITESPACE","\n            ",485],"}",["T_WHITESPACE","\n        ",486],"}",["T_WHITESPACE","\n\n        ",487],["T_FOREACH","foreach",489],["T_WHITESPACE"," ",489],"(",["T_VARIABLE","$importData",489],["T_WHITESPACE"," ",489],["T_AS","as",489],["T_WHITESPACE"," ",489],["T_VARIABLE","$field",489],["T_WHITESPACE"," ",489],["T_DOUBLE_ARROW","=>",489],["T_WHITESPACE"," ",489],["T_VARIABLE","$value",489],")",["T_WHITESPACE"," ",489],"{",["T_WHITESPACE","\n            ",489],["T_IF","if",490],["T_WHITESPACE"," ",490],"(",["T_STRING","in_array",490],"(",["T_VARIABLE","$field",490],",",["T_WHITESPACE"," ",490],["T_VARIABLE","$this",490],["T_OBJECT_OPERATOR","->",490],["T_STRING","_billingFields",490],")",")",["T_WHITESPACE"," ",490],"{",["T_WHITESPACE","\n                ",490],["T_CONTINUE","continue",491],";",["T_WHITESPACE","\n            ",491],"}",["T_WHITESPACE","\n            ",492],["T_IF","if",493],["T_WHITESPACE"," ",493],"(",["T_STRING","in_array",493],"(",["T_VARIABLE","$field",493],",",["T_WHITESPACE"," ",493],["T_VARIABLE","$this",493],["T_OBJECT_OPERATOR","->",493],["T_STRING","_shippingFields",493],")",")",["T_WHITESPACE"," ",493],"{",["T_WHITESPACE","\n                ",493],["T_CONTINUE","continue",494],";",["T_WHITESPACE","\n            ",494],"}",["T_WHITESPACE","\n\n            ",495],["T_VARIABLE","$attribute",497],["T_WHITESPACE"," ",497],"=",["T_WHITESPACE"," ",497],["T_VARIABLE","$this",497],["T_OBJECT_OPERATOR","->",497],["T_STRING","getAttribute",497],"(",["T_VARIABLE","$field",497],")",";",["T_WHITESPACE","\n            ",497],["T_IF","if",498],["T_WHITESPACE"," ",498],"(","!",["T_VARIABLE","$attribute",498],")",["T_WHITESPACE"," ",498],"{",["T_WHITESPACE","\n                ",498],["T_CONTINUE","continue",499],";",["T_WHITESPACE","\n            ",499],"}",["T_WHITESPACE","\n\n            ",500],["T_VARIABLE","$isArray",502],["T_WHITESPACE"," ",502],"=",["T_WHITESPACE"," ",502],["T_STRING","false",502],";",["T_WHITESPACE","\n            ",502],["T_VARIABLE","$setValue",503],["T_WHITESPACE"," ",503],"=",["T_WHITESPACE"," ",503],["T_VARIABLE","$value",503],";",["T_WHITESPACE","\n\n            ",503],["T_IF","if",505],["T_WHITESPACE"," ",505],"(",["T_VARIABLE","$attribute",505],["T_OBJECT_OPERATOR","->",505],["T_STRING","getFrontendInput",505],"(",")",["T_WHITESPACE"," ",505],["T_IS_EQUAL","==",505],["T_WHITESPACE"," ",505],["T_CONSTANT_ENCAPSED_STRING","'multiselect'",505],")",["T_WHITESPACE"," ",505],"{",["T_WHITESPACE","\n                ",505],["T_VARIABLE","$value",506],["T_WHITESPACE"," ",506],"=",["T_WHITESPACE"," ",506],["T_STRING","explode",506],"(",["T_STRING","self",506],["T_DOUBLE_COLON","::",506],["T_STRING","MULTI_DELIMITER",506],",",["T_WHITESPACE"," ",506],["T_VARIABLE","$value",506],")",";",["T_WHITESPACE","\n                ",506],["T_VARIABLE","$isArray",507],["T_WHITESPACE"," ",507],"=",["T_WHITESPACE"," ",507],["T_STRING","true",507],";",["T_WHITESPACE","\n                ",507],["T_VARIABLE","$setValue",508],["T_WHITESPACE"," ",508],"=",["T_WHITESPACE"," ",508],["T_ARRAY","array",508],"(",")",";",["T_WHITESPACE","\n            ",508],"}",["T_WHITESPACE","\n\n            ",509],["T_IF","if",511],["T_WHITESPACE"," ",511],"(",["T_VARIABLE","$attribute",511],["T_OBJECT_OPERATOR","->",511],["T_STRING","usesSource",511],"(",")",")",["T_WHITESPACE"," ",511],"{",["T_WHITESPACE","\n                ",511],["T_VARIABLE","$options",512],["T_WHITESPACE"," ",512],"=",["T_WHITESPACE"," ",512],["T_VARIABLE","$attribute",512],["T_OBJECT_OPERATOR","->",512],["T_STRING","getSource",512],"(",")",["T_OBJECT_OPERATOR","->",512],["T_STRING","getAllOptions",512],"(",["T_STRING","false",512],")",";",["T_WHITESPACE","\n\n                ",512],["T_IF","if",514],["T_WHITESPACE"," ",514],"(",["T_VARIABLE","$isArray",514],")",["T_WHITESPACE"," ",514],"{",["T_WHITESPACE","\n                    ",514],["T_FOREACH","foreach",515],["T_WHITESPACE"," ",515],"(",["T_VARIABLE","$options",515],["T_WHITESPACE"," ",515],["T_AS","as",515],["T_WHITESPACE"," ",515],["T_VARIABLE","$item",515],")",["T_WHITESPACE"," ",515],"{",["T_WHITESPACE","\n                        ",515],["T_IF","if",516],["T_WHITESPACE"," ",516],"(",["T_STRING","in_array",516],"(",["T_VARIABLE","$item",516],"[",["T_CONSTANT_ENCAPSED_STRING","'label'",516],"]",",",["T_WHITESPACE"," ",516],["T_VARIABLE","$value",516],")",")",["T_WHITESPACE"," ",516],"{",["T_WHITESPACE","\n                            ",516],["T_VARIABLE","$setValue",517],"[","]",["T_WHITESPACE"," ",517],"=",["T_WHITESPACE"," ",517],["T_VARIABLE","$item",517],"[",["T_CONSTANT_ENCAPSED_STRING","'value'",517],"]",";",["T_WHITESPACE","\n                        ",517],"}",["T_WHITESPACE","\n                    ",518],"}",["T_WHITESPACE","\n                ",519],"}",["T_WHITESPACE","\n                ",520],["T_ELSE","else",521],["T_WHITESPACE"," ",521],"{",["T_WHITESPACE","\n                    ",521],["T_VARIABLE","$setValue",522],["T_WHITESPACE"," ",522],"=",["T_WHITESPACE"," ",522],["T_STRING","null",522],";",["T_WHITESPACE","\n                    ",522],["T_FOREACH","foreach",523],["T_WHITESPACE"," ",523],"(",["T_VARIABLE","$options",523],["T_WHITESPACE"," ",523],["T_AS","as",523],["T_WHITESPACE"," ",523],["T_VARIABLE","$item",523],")",["T_WHITESPACE"," ",523],"{",["T_WHITESPACE","\n                        ",523],["T_IF","if",524],["T_WHITESPACE"," ",524],"(",["T_VARIABLE","$item",524],"[",["T_CONSTANT_ENCAPSED_STRING","'label'",524],"]",["T_WHITESPACE"," ",524],["T_IS_EQUAL","==",524],["T_WHITESPACE"," ",524],["T_VARIABLE","$value",524],")",["T_WHITESPACE"," ",524],"{",["T_WHITESPACE","\n                            ",524],["T_VARIABLE","$setValue",525],["T_WHITESPACE"," ",525],"=",["T_WHITESPACE"," ",525],["T_VARIABLE","$item",525],"[",["T_CONSTANT_ENCAPSED_STRING","'value'",525],"]",";",["T_WHITESPACE","\n                        ",525],"}",["T_WHITESPACE","\n                    ",526],"}",["T_WHITESPACE","\n                ",527],"}",["T_WHITESPACE","\n            ",528],"}",["T_WHITESPACE","\n\n            ",529],["T_VARIABLE","$customer",531],["T_OBJECT_OPERATOR","->",531],["T_STRING","setData",531],"(",["T_VARIABLE","$field",531],",",["T_WHITESPACE"," ",531],["T_VARIABLE","$setValue",531],")",";",["T_WHITESPACE","\n        ",531],"}",["T_WHITESPACE","\n\n        ",532],["T_IF","if",534],["T_WHITESPACE"," ",534],"(",["T_ISSET","isset",534],"(",["T_VARIABLE","$importData",534],"[",["T_CONSTANT_ENCAPSED_STRING","'is_subscribed'",534],"]",")",")",["T_WHITESPACE"," ",534],"{",["T_WHITESPACE","\n            ",534],["T_VARIABLE","$customer",535],["T_OBJECT_OPERATOR","->",535],["T_STRING","setData",535],"(",["T_CONSTANT_ENCAPSED_STRING","'is_subscribed'",535],",",["T_WHITESPACE"," ",535],["T_VARIABLE","$importData",535],"[",["T_CONSTANT_ENCAPSED_STRING","'is_subscribed'",535],"]",")",";",["T_WHITESPACE","\n        ",535],"}",["T_WHITESPACE","\n\n        ",536],["T_VARIABLE","$importBillingAddress",538],["T_WHITESPACE"," ",538],"=",["T_WHITESPACE"," ",538],["T_VARIABLE","$importShippingAddress",538],["T_WHITESPACE"," ",538],"=",["T_WHITESPACE"," ",538],["T_STRING","true",538],";",["T_WHITESPACE","\n        ",538],["T_VARIABLE","$savedBillingAddress",539],["T_WHITESPACE"," ",539],"=",["T_WHITESPACE"," ",539],["T_VARIABLE","$savedShippingAddress",539],["T_WHITESPACE"," ",539],"=",["T_WHITESPACE"," ",539],["T_STRING","false",539],";",["T_WHITESPACE","\n\n        ",539],["T_DOC_COMMENT","\/**\n         * Check Billing address required fields\n         *\/",541],["T_WHITESPACE","\n        ",543],["T_FOREACH","foreach",544],["T_WHITESPACE"," ",544],"(",["T_VARIABLE","$this",544],["T_OBJECT_OPERATOR","->",544],["T_STRING","_billingRequiredFields",544],["T_WHITESPACE"," ",544],["T_AS","as",544],["T_WHITESPACE"," ",544],["T_VARIABLE","$field",544],")",["T_WHITESPACE"," ",544],"{",["T_WHITESPACE","\n            ",544],["T_IF","if",545],["T_WHITESPACE"," ",545],"(",["T_EMPTY","empty",545],"(",["T_VARIABLE","$importData",545],"[",["T_VARIABLE","$field",545],"]",")",")",["T_WHITESPACE"," ",545],"{",["T_WHITESPACE","\n                ",545],["T_VARIABLE","$importBillingAddress",546],["T_WHITESPACE"," ",546],"=",["T_WHITESPACE"," ",546],["T_STRING","false",546],";",["T_WHITESPACE","\n            ",546],"}",["T_WHITESPACE","\n        ",547],"}",["T_WHITESPACE","\n\n        ",548],["T_DOC_COMMENT","\/**\n         * Check Sipping address required fields\n         *\/",550],["T_WHITESPACE","\n        ",552],["T_FOREACH","foreach",553],["T_WHITESPACE"," ",553],"(",["T_VARIABLE","$this",553],["T_OBJECT_OPERATOR","->",553],["T_STRING","_shippingRequiredFields",553],["T_WHITESPACE"," ",553],["T_AS","as",553],["T_WHITESPACE"," ",553],["T_VARIABLE","$field",553],")",["T_WHITESPACE"," ",553],"{",["T_WHITESPACE","\n            ",553],["T_IF","if",554],["T_WHITESPACE"," ",554],"(",["T_EMPTY","empty",554],"(",["T_VARIABLE","$importData",554],"[",["T_VARIABLE","$field",554],"]",")",")",["T_WHITESPACE"," ",554],"{",["T_WHITESPACE","\n                ",554],["T_VARIABLE","$importShippingAddress",555],["T_WHITESPACE"," ",555],"=",["T_WHITESPACE"," ",555],["T_STRING","false",555],";",["T_WHITESPACE","\n            ",555],"}",["T_WHITESPACE","\n        ",556],"}",["T_WHITESPACE","\n\n        ",557],["T_VARIABLE","$onlyAddress",559],["T_WHITESPACE"," ",559],"=",["T_WHITESPACE"," ",559],["T_STRING","false",559],";",["T_WHITESPACE","\n\n        ",559],["T_DOC_COMMENT","\/**\n         * Check addresses\n         *\/",561],["T_WHITESPACE","\n        ",563],["T_IF","if",564],["T_WHITESPACE"," ",564],"(",["T_VARIABLE","$importBillingAddress",564],["T_WHITESPACE"," ",564],["T_BOOLEAN_AND","&&",564],["T_WHITESPACE"," ",564],["T_VARIABLE","$importShippingAddress",564],")",["T_WHITESPACE"," ",564],"{",["T_WHITESPACE","\n            ",564],["T_VARIABLE","$onlyAddress",565],["T_WHITESPACE"," ",565],"=",["T_WHITESPACE"," ",565],["T_STRING","true",565],";",["T_WHITESPACE","\n            ",565],["T_FOREACH","foreach",566],["T_WHITESPACE"," ",566],"(",["T_VARIABLE","$this",566],["T_OBJECT_OPERATOR","->",566],["T_STRING","_addressFields",566],["T_WHITESPACE"," ",566],["T_AS","as",566],["T_WHITESPACE"," ",566],["T_VARIABLE","$field",566],")",["T_WHITESPACE"," ",566],"{",["T_WHITESPACE","\n                ",566],["T_IF","if",567],["T_WHITESPACE"," ",567],"(","!",["T_ISSET","isset",567],"(",["T_VARIABLE","$importData",567],"[",["T_CONSTANT_ENCAPSED_STRING","'billing_'",567],".",["T_VARIABLE","$field",567],"]",")",["T_WHITESPACE"," ",567],["T_BOOLEAN_AND","&&",567],["T_WHITESPACE"," ",567],"!",["T_ISSET","isset",567],"(",["T_VARIABLE","$importData",567],"[",["T_CONSTANT_ENCAPSED_STRING","'shipping_'",567],".",["T_VARIABLE","$field",567],"]",")",")",["T_WHITESPACE"," ",567],"{",["T_WHITESPACE","\n                    ",567],["T_CONTINUE","continue",568],";",["T_WHITESPACE","\n                ",568],"}",["T_WHITESPACE","\n                ",569],["T_IF","if",570],["T_WHITESPACE"," ",570],"(","!",["T_ISSET","isset",570],"(",["T_VARIABLE","$importData",570],"[",["T_CONSTANT_ENCAPSED_STRING","'billing_'",570],".",["T_VARIABLE","$field",570],"]",")",["T_WHITESPACE"," ",570],["T_BOOLEAN_OR","||",570],["T_WHITESPACE"," ",570],"!",["T_ISSET","isset",570],"(",["T_VARIABLE","$importData",570],"[",["T_CONSTANT_ENCAPSED_STRING","'shipping_'",570],".",["T_VARIABLE","$field",570],"]",")",")",["T_WHITESPACE"," ",570],"{",["T_WHITESPACE","\n                    ",570],["T_VARIABLE","$onlyAddress",571],["T_WHITESPACE"," ",571],"=",["T_WHITESPACE"," ",571],["T_STRING","false",571],";",["T_WHITESPACE","\n                    ",571],["T_BREAK","break",572],";",["T_WHITESPACE","\n                ",572],"}",["T_WHITESPACE","\n                ",573],["T_IF","if",574],["T_WHITESPACE"," ",574],"(",["T_VARIABLE","$importData",574],"[",["T_CONSTANT_ENCAPSED_STRING","'billing_'",574],".",["T_VARIABLE","$field",574],"]",["T_WHITESPACE"," ",574],["T_IS_NOT_EQUAL","!=",574],["T_WHITESPACE"," ",574],["T_VARIABLE","$importData",574],"[",["T_CONSTANT_ENCAPSED_STRING","'shipping_'",574],".",["T_VARIABLE","$field",574],"]",")",["T_WHITESPACE"," ",574],"{",["T_WHITESPACE","\n                    ",574],["T_VARIABLE","$onlyAddress",575],["T_WHITESPACE"," ",575],"=",["T_WHITESPACE"," ",575],["T_STRING","false",575],";",["T_WHITESPACE","\n                    ",575],["T_BREAK","break",576],";",["T_WHITESPACE","\n                ",576],"}",["T_WHITESPACE","\n            ",577],"}",["T_WHITESPACE","\n\n            ",578],["T_IF","if",580],["T_WHITESPACE"," ",580],"(",["T_VARIABLE","$onlyAddress",580],")",["T_WHITESPACE"," ",580],"{",["T_WHITESPACE","\n                ",580],["T_VARIABLE","$importShippingAddress",581],["T_WHITESPACE"," ",581],"=",["T_WHITESPACE"," ",581],["T_STRING","false",581],";",["T_WHITESPACE","\n            ",581],"}",["T_WHITESPACE","\n        ",582],"}",["T_WHITESPACE","\n\n        ",583],["T_DOC_COMMENT","\/**\n         * Import billing address\n         *\/",585],["T_WHITESPACE","\n        ",587],["T_IF","if",588],["T_WHITESPACE"," ",588],"(",["T_VARIABLE","$importBillingAddress",588],")",["T_WHITESPACE"," ",588],"{",["T_WHITESPACE","\n            ",588],["T_VARIABLE","$billingAddress",589],["T_WHITESPACE"," ",589],"=",["T_WHITESPACE"," ",589],["T_VARIABLE","$this",589],["T_OBJECT_OPERATOR","->",589],["T_STRING","getBillingAddressModel",589],"(",")",";",["T_WHITESPACE","\n            ",589],["T_IF","if",590],["T_WHITESPACE"," ",590],"(",["T_VARIABLE","$customer",590],["T_OBJECT_OPERATOR","->",590],["T_STRING","getDefaultBilling",590],"(",")",")",["T_WHITESPACE"," ",590],"{",["T_WHITESPACE","\n                ",590],["T_VARIABLE","$billingAddress",591],["T_OBJECT_OPERATOR","->",591],["T_STRING","load",591],"(",["T_VARIABLE","$customer",591],["T_OBJECT_OPERATOR","->",591],["T_STRING","getDefaultBilling",591],"(",")",")",";",["T_WHITESPACE","\n            ",591],"}",["T_WHITESPACE","\n            ",592],["T_ELSE","else",593],["T_WHITESPACE"," ",593],"{",["T_WHITESPACE","\n                ",593],["T_VARIABLE","$billingAddress",594],["T_OBJECT_OPERATOR","->",594],["T_STRING","setData",594],"(",["T_ARRAY","array",594],"(",")",")",";",["T_WHITESPACE","\n            ",594],"}",["T_WHITESPACE","\n\n            ",595],["T_FOREACH","foreach",597],["T_WHITESPACE"," ",597],"(",["T_VARIABLE","$this",597],["T_OBJECT_OPERATOR","->",597],["T_STRING","_billingFields",597],["T_WHITESPACE"," ",597],["T_AS","as",597],["T_WHITESPACE"," ",597],["T_VARIABLE","$field",597],")",["T_WHITESPACE"," ",597],"{",["T_WHITESPACE","\n                ",597],["T_VARIABLE","$cleanField",598],["T_WHITESPACE"," ",598],"=",["T_WHITESPACE"," ",598],["T_STRING","Mage",598],["T_DOUBLE_COLON","::",598],["T_STRING","helper",598],"(",["T_CONSTANT_ENCAPSED_STRING","'core\/string'",598],")",["T_OBJECT_OPERATOR","->",598],["T_STRING","substr",598],"(",["T_VARIABLE","$field",598],",",["T_WHITESPACE"," ",598],["T_LNUMBER","8",598],")",";",["T_WHITESPACE","\n\n                ",598],["T_IF","if",600],["T_WHITESPACE"," ",600],"(",["T_ISSET","isset",600],"(",["T_VARIABLE","$importData",600],"[",["T_VARIABLE","$field",600],"]",")",")",["T_WHITESPACE"," ",600],"{",["T_WHITESPACE","\n                    ",600],["T_VARIABLE","$billingAddress",601],["T_OBJECT_OPERATOR","->",601],["T_STRING","setDataUsingMethod",601],"(",["T_VARIABLE","$cleanField",601],",",["T_WHITESPACE"," ",601],["T_VARIABLE","$importData",601],"[",["T_VARIABLE","$field",601],"]",")",";",["T_WHITESPACE","\n                ",601],"}",["T_WHITESPACE","\n                ",602],["T_ELSEIF","elseif",603],["T_WHITESPACE"," ",603],"(",["T_ISSET","isset",603],"(",["T_VARIABLE","$this",603],["T_OBJECT_OPERATOR","->",603],["T_STRING","_billingMappedFields",603],"[",["T_VARIABLE","$field",603],"]",")",["T_WHITESPACE","\n                    ",603],["T_BOOLEAN_AND","&&",604],["T_WHITESPACE"," ",604],["T_ISSET","isset",604],"(",["T_VARIABLE","$importData",604],"[",["T_VARIABLE","$this",604],["T_OBJECT_OPERATOR","->",604],["T_STRING","_billingMappedFields",604],"[",["T_VARIABLE","$field",604],"]","]",")",")",["T_WHITESPACE"," ",604],"{",["T_WHITESPACE","\n                    ",604],["T_VARIABLE","$billingAddress",605],["T_OBJECT_OPERATOR","->",605],["T_STRING","setDataUsingMethod",605],"(",["T_VARIABLE","$cleanField",605],",",["T_WHITESPACE"," ",605],["T_VARIABLE","$importData",605],"[",["T_VARIABLE","$this",605],["T_OBJECT_OPERATOR","->",605],["T_STRING","_billingMappedFields",605],"[",["T_VARIABLE","$field",605],"]","]",")",";",["T_WHITESPACE","\n                ",605],"}",["T_WHITESPACE","\n            ",606],"}",["T_WHITESPACE","\n\n            ",607],["T_VARIABLE","$street",609],["T_WHITESPACE"," ",609],"=",["T_WHITESPACE"," ",609],["T_ARRAY","array",609],"(",")",";",["T_WHITESPACE","\n            ",609],["T_FOREACH","foreach",610],["T_WHITESPACE"," ",610],"(",["T_VARIABLE","$this",610],["T_OBJECT_OPERATOR","->",610],["T_STRING","_billingStreetFields",610],["T_WHITESPACE"," ",610],["T_AS","as",610],["T_WHITESPACE"," ",610],["T_VARIABLE","$field",610],")",["T_WHITESPACE"," ",610],"{",["T_WHITESPACE","\n                ",610],["T_IF","if",611],["T_WHITESPACE"," ",611],"(","!",["T_EMPTY","empty",611],"(",["T_VARIABLE","$importData",611],"[",["T_VARIABLE","$field",611],"]",")",")",["T_WHITESPACE"," ",611],"{",["T_WHITESPACE","\n                    ",611],["T_VARIABLE","$street",612],"[","]",["T_WHITESPACE"," ",612],"=",["T_WHITESPACE"," ",612],["T_VARIABLE","$importData",612],"[",["T_VARIABLE","$field",612],"]",";",["T_WHITESPACE","\n                ",612],"}",["T_WHITESPACE","\n            ",613],"}",["T_WHITESPACE","\n            ",614],["T_IF","if",615],["T_WHITESPACE"," ",615],"(",["T_VARIABLE","$street",615],")",["T_WHITESPACE"," ",615],"{",["T_WHITESPACE","\n                ",615],["T_VARIABLE","$billingAddress",616],["T_OBJECT_OPERATOR","->",616],["T_STRING","setDataUsingMethod",616],"(",["T_CONSTANT_ENCAPSED_STRING","'street'",616],",",["T_WHITESPACE"," ",616],["T_VARIABLE","$street",616],")",";",["T_WHITESPACE","\n            ",616],"}",["T_WHITESPACE","\n\n            ",617],["T_VARIABLE","$billingAddress",619],["T_OBJECT_OPERATOR","->",619],["T_STRING","setCountryId",619],"(",["T_VARIABLE","$importData",619],"[",["T_CONSTANT_ENCAPSED_STRING","'billing_country'",619],"]",")",";",["T_WHITESPACE","\n            ",619],["T_VARIABLE","$regionName",620],["T_WHITESPACE"," ",620],"=",["T_WHITESPACE"," ",620],["T_ISSET","isset",620],"(",["T_VARIABLE","$importData",620],"[",["T_CONSTANT_ENCAPSED_STRING","'billing_region'",620],"]",")",["T_WHITESPACE"," ",620],"?",["T_WHITESPACE"," ",620],["T_VARIABLE","$importData",620],"[",["T_CONSTANT_ENCAPSED_STRING","'billing_region'",620],"]",["T_WHITESPACE"," ",620],":",["T_WHITESPACE"," ",620],["T_CONSTANT_ENCAPSED_STRING","''",620],";",["T_WHITESPACE","\n            ",620],["T_IF","if",621],["T_WHITESPACE"," ",621],"(",["T_VARIABLE","$regionName",621],")",["T_WHITESPACE"," ",621],"{",["T_WHITESPACE","\n                ",621],["T_VARIABLE","$regionId",622],["T_WHITESPACE"," ",622],"=",["T_WHITESPACE"," ",622],["T_VARIABLE","$this",622],["T_OBJECT_OPERATOR","->",622],["T_STRING","getRegionId",622],"(",["T_VARIABLE","$importData",622],"[",["T_CONSTANT_ENCAPSED_STRING","'billing_country'",622],"]",",",["T_WHITESPACE"," ",622],["T_VARIABLE","$regionName",622],")",";",["T_WHITESPACE","\n                ",622],["T_VARIABLE","$billingAddress",623],["T_OBJECT_OPERATOR","->",623],["T_STRING","setRegionId",623],"(",["T_VARIABLE","$regionId",623],")",";",["T_WHITESPACE","\n            ",623],"}",["T_WHITESPACE","\n\n            ",624],["T_IF","if",626],["T_WHITESPACE"," ",626],"(",["T_VARIABLE","$customer",626],["T_OBJECT_OPERATOR","->",626],["T_STRING","getId",626],"(",")",")",["T_WHITESPACE"," ",626],"{",["T_WHITESPACE","\n                ",626],["T_VARIABLE","$billingAddress",627],["T_OBJECT_OPERATOR","->",627],["T_STRING","setCustomerId",627],"(",["T_VARIABLE","$customer",627],["T_OBJECT_OPERATOR","->",627],["T_STRING","getId",627],"(",")",")",";",["T_WHITESPACE","\n\n                ",627],["T_VARIABLE","$billingAddress",629],["T_OBJECT_OPERATOR","->",629],["T_STRING","save",629],"(",")",";",["T_WHITESPACE","\n                ",629],["T_VARIABLE","$customer",630],["T_OBJECT_OPERATOR","->",630],["T_STRING","setDefaultBilling",630],"(",["T_VARIABLE","$billingAddress",630],["T_OBJECT_OPERATOR","->",630],["T_STRING","getId",630],"(",")",")",";",["T_WHITESPACE","\n\n                ",630],["T_IF","if",632],["T_WHITESPACE"," ",632],"(",["T_VARIABLE","$onlyAddress",632],")",["T_WHITESPACE"," ",632],"{",["T_WHITESPACE","\n                    ",632],["T_VARIABLE","$customer",633],["T_OBJECT_OPERATOR","->",633],["T_STRING","setDefaultShipping",633],"(",["T_VARIABLE","$billingAddress",633],["T_OBJECT_OPERATOR","->",633],["T_STRING","getId",633],"(",")",")",";",["T_WHITESPACE","\n                ",633],"}",["T_WHITESPACE","\n\n                ",634],["T_VARIABLE","$savedBillingAddress",636],["T_WHITESPACE"," ",636],"=",["T_WHITESPACE"," ",636],["T_STRING","true",636],";",["T_WHITESPACE","\n            ",636],"}",["T_WHITESPACE","\n        ",637],"}",["T_WHITESPACE","\n\n        ",638],["T_DOC_COMMENT","\/**\n         * Import shipping address\n         *\/",640],["T_WHITESPACE","\n        ",642],["T_IF","if",643],["T_WHITESPACE"," ",643],"(",["T_VARIABLE","$importShippingAddress",643],")",["T_WHITESPACE"," ",643],"{",["T_WHITESPACE","\n            ",643],["T_VARIABLE","$shippingAddress",644],["T_WHITESPACE"," ",644],"=",["T_WHITESPACE"," ",644],["T_VARIABLE","$this",644],["T_OBJECT_OPERATOR","->",644],["T_STRING","getShippingAddressModel",644],"(",")",";",["T_WHITESPACE","\n            ",644],["T_IF","if",645],["T_WHITESPACE"," ",645],"(",["T_VARIABLE","$customer",645],["T_OBJECT_OPERATOR","->",645],["T_STRING","getDefaultShipping",645],"(",")",["T_WHITESPACE"," ",645],["T_BOOLEAN_AND","&&",645],["T_WHITESPACE"," ",645],["T_VARIABLE","$customer",645],["T_OBJECT_OPERATOR","->",645],["T_STRING","getDefaultBilling",645],"(",")",["T_WHITESPACE"," ",645],["T_IS_NOT_EQUAL","!=",645],["T_WHITESPACE"," ",645],["T_VARIABLE","$customer",645],["T_OBJECT_OPERATOR","->",645],["T_STRING","getDefaultShipping",645],"(",")",")",["T_WHITESPACE"," ",645],"{",["T_WHITESPACE","\n                ",645],["T_VARIABLE","$shippingAddress",646],["T_OBJECT_OPERATOR","->",646],["T_STRING","load",646],"(",["T_VARIABLE","$customer",646],["T_OBJECT_OPERATOR","->",646],["T_STRING","getDefaultShipping",646],"(",")",")",";",["T_WHITESPACE","\n            ",646],"}",["T_WHITESPACE","\n            ",647],["T_ELSE","else",648],["T_WHITESPACE"," ",648],"{",["T_WHITESPACE","\n                ",648],["T_VARIABLE","$shippingAddress",649],["T_OBJECT_OPERATOR","->",649],["T_STRING","setData",649],"(",["T_ARRAY","array",649],"(",")",")",";",["T_WHITESPACE","\n            ",649],"}",["T_WHITESPACE","\n\n            ",650],["T_FOREACH","foreach",652],["T_WHITESPACE"," ",652],"(",["T_VARIABLE","$this",652],["T_OBJECT_OPERATOR","->",652],["T_STRING","_shippingFields",652],["T_WHITESPACE"," ",652],["T_AS","as",652],["T_WHITESPACE"," ",652],["T_VARIABLE","$field",652],")",["T_WHITESPACE"," ",652],"{",["T_WHITESPACE","\n                ",652],["T_VARIABLE","$cleanField",653],["T_WHITESPACE"," ",653],"=",["T_WHITESPACE"," ",653],["T_STRING","Mage",653],["T_DOUBLE_COLON","::",653],["T_STRING","helper",653],"(",["T_CONSTANT_ENCAPSED_STRING","'core\/string'",653],")",["T_OBJECT_OPERATOR","->",653],["T_STRING","substr",653],"(",["T_VARIABLE","$field",653],",",["T_WHITESPACE"," ",653],["T_LNUMBER","9",653],")",";",["T_WHITESPACE","\n\n                ",653],["T_IF","if",655],["T_WHITESPACE"," ",655],"(",["T_ISSET","isset",655],"(",["T_VARIABLE","$importData",655],"[",["T_VARIABLE","$field",655],"]",")",")",["T_WHITESPACE"," ",655],"{",["T_WHITESPACE","\n                    ",655],["T_VARIABLE","$shippingAddress",656],["T_OBJECT_OPERATOR","->",656],["T_STRING","setDataUsingMethod",656],"(",["T_VARIABLE","$cleanField",656],",",["T_WHITESPACE"," ",656],["T_VARIABLE","$importData",656],"[",["T_VARIABLE","$field",656],"]",")",";",["T_WHITESPACE","\n                ",656],"}",["T_WHITESPACE","\n                ",657],["T_ELSEIF","elseif",658],["T_WHITESPACE"," ",658],"(",["T_ISSET","isset",658],"(",["T_VARIABLE","$this",658],["T_OBJECT_OPERATOR","->",658],["T_STRING","_shippingMappedFields",658],"[",["T_VARIABLE","$field",658],"]",")",["T_WHITESPACE","\n                    ",658],["T_BOOLEAN_AND","&&",659],["T_WHITESPACE"," ",659],["T_ISSET","isset",659],"(",["T_VARIABLE","$importData",659],"[",["T_VARIABLE","$this",659],["T_OBJECT_OPERATOR","->",659],["T_STRING","_shippingMappedFields",659],"[",["T_VARIABLE","$field",659],"]","]",")",")",["T_WHITESPACE"," ",659],"{",["T_WHITESPACE","\n                    ",659],["T_VARIABLE","$shippingAddress",660],["T_OBJECT_OPERATOR","->",660],["T_STRING","setDataUsingMethod",660],"(",["T_VARIABLE","$cleanField",660],",",["T_WHITESPACE"," ",660],["T_VARIABLE","$importData",660],"[",["T_VARIABLE","$this",660],["T_OBJECT_OPERATOR","->",660],["T_STRING","_shippingMappedFields",660],"[",["T_VARIABLE","$field",660],"]","]",")",";",["T_WHITESPACE","\n                ",660],"}",["T_WHITESPACE","\n            ",661],"}",["T_WHITESPACE","\n\n            ",662],["T_VARIABLE","$street",664],["T_WHITESPACE"," ",664],"=",["T_WHITESPACE"," ",664],["T_ARRAY","array",664],"(",")",";",["T_WHITESPACE","\n            ",664],["T_FOREACH","foreach",665],["T_WHITESPACE"," ",665],"(",["T_VARIABLE","$this",665],["T_OBJECT_OPERATOR","->",665],["T_STRING","_shippingStreetFields",665],["T_WHITESPACE"," ",665],["T_AS","as",665],["T_WHITESPACE"," ",665],["T_VARIABLE","$field",665],")",["T_WHITESPACE"," ",665],"{",["T_WHITESPACE","\n                ",665],["T_IF","if",666],["T_WHITESPACE"," ",666],"(","!",["T_EMPTY","empty",666],"(",["T_VARIABLE","$importData",666],"[",["T_VARIABLE","$field",666],"]",")",")",["T_WHITESPACE"," ",666],"{",["T_WHITESPACE","\n                    ",666],["T_VARIABLE","$street",667],"[","]",["T_WHITESPACE"," ",667],"=",["T_WHITESPACE"," ",667],["T_VARIABLE","$importData",667],"[",["T_VARIABLE","$field",667],"]",";",["T_WHITESPACE","\n                ",667],"}",["T_WHITESPACE","\n            ",668],"}",["T_WHITESPACE","\n            ",669],["T_IF","if",670],["T_WHITESPACE"," ",670],"(",["T_VARIABLE","$street",670],")",["T_WHITESPACE"," ",670],"{",["T_WHITESPACE","\n                ",670],["T_VARIABLE","$shippingAddress",671],["T_OBJECT_OPERATOR","->",671],["T_STRING","setDataUsingMethod",671],"(",["T_CONSTANT_ENCAPSED_STRING","'street'",671],",",["T_WHITESPACE"," ",671],["T_VARIABLE","$street",671],")",";",["T_WHITESPACE","\n            ",671],"}",["T_WHITESPACE","\n\n            ",672],["T_VARIABLE","$shippingAddress",674],["T_OBJECT_OPERATOR","->",674],["T_STRING","setCountryId",674],"(",["T_VARIABLE","$importData",674],"[",["T_CONSTANT_ENCAPSED_STRING","'shipping_country'",674],"]",")",";",["T_WHITESPACE","\n            ",674],["T_VARIABLE","$regionName",675],["T_WHITESPACE"," ",675],"=",["T_WHITESPACE"," ",675],["T_ISSET","isset",675],"(",["T_VARIABLE","$importData",675],"[",["T_CONSTANT_ENCAPSED_STRING","'shipping_region'",675],"]",")",["T_WHITESPACE"," ",675],"?",["T_WHITESPACE"," ",675],["T_VARIABLE","$importData",675],"[",["T_CONSTANT_ENCAPSED_STRING","'shipping_region'",675],"]",["T_WHITESPACE"," ",675],":",["T_WHITESPACE"," ",675],["T_CONSTANT_ENCAPSED_STRING","''",675],";",["T_WHITESPACE","\n            ",675],["T_IF","if",676],["T_WHITESPACE"," ",676],"(",["T_VARIABLE","$regionName",676],")",["T_WHITESPACE"," ",676],"{",["T_WHITESPACE","\n                ",676],["T_VARIABLE","$regionId",677],["T_WHITESPACE"," ",677],"=",["T_WHITESPACE"," ",677],["T_VARIABLE","$this",677],["T_OBJECT_OPERATOR","->",677],["T_STRING","getRegionId",677],"(",["T_VARIABLE","$importData",677],"[",["T_CONSTANT_ENCAPSED_STRING","'shipping_country'",677],"]",",",["T_WHITESPACE"," ",677],["T_VARIABLE","$regionName",677],")",";",["T_WHITESPACE","\n                ",677],["T_VARIABLE","$shippingAddress",678],["T_OBJECT_OPERATOR","->",678],["T_STRING","setRegionId",678],"(",["T_VARIABLE","$regionId",678],")",";",["T_WHITESPACE","\n            ",678],"}",["T_WHITESPACE","\n\n            ",679],["T_IF","if",681],["T_WHITESPACE"," ",681],"(",["T_VARIABLE","$customer",681],["T_OBJECT_OPERATOR","->",681],["T_STRING","getId",681],"(",")",")",["T_WHITESPACE"," ",681],"{",["T_WHITESPACE","\n                ",681],["T_VARIABLE","$shippingAddress",682],["T_OBJECT_OPERATOR","->",682],["T_STRING","setCustomerId",682],"(",["T_VARIABLE","$customer",682],["T_OBJECT_OPERATOR","->",682],["T_STRING","getId",682],"(",")",")",";",["T_WHITESPACE","\n                ",682],["T_VARIABLE","$shippingAddress",683],["T_OBJECT_OPERATOR","->",683],["T_STRING","save",683],"(",")",";",["T_WHITESPACE","\n                ",683],["T_VARIABLE","$customer",684],["T_OBJECT_OPERATOR","->",684],["T_STRING","setDefaultShipping",684],"(",["T_VARIABLE","$shippingAddress",684],["T_OBJECT_OPERATOR","->",684],["T_STRING","getId",684],"(",")",")",";",["T_WHITESPACE","\n\n                ",684],["T_VARIABLE","$savedShippingAddress",686],["T_WHITESPACE"," ",686],"=",["T_WHITESPACE"," ",686],["T_STRING","true",686],";",["T_WHITESPACE","\n            ",686],"}",["T_WHITESPACE","\n        ",687],"}",["T_WHITESPACE","\n\n        ",688],["T_VARIABLE","$customer",690],["T_OBJECT_OPERATOR","->",690],["T_STRING","setImportMode",690],"(",["T_STRING","true",690],")",";",["T_WHITESPACE","\n        ",690],["T_VARIABLE","$customer",691],["T_OBJECT_OPERATOR","->",691],["T_STRING","save",691],"(",")",";",["T_WHITESPACE","\n        ",691],["T_VARIABLE","$saveCustomer",692],["T_WHITESPACE"," ",692],"=",["T_WHITESPACE"," ",692],["T_STRING","false",692],";",["T_WHITESPACE","\n\n        ",692],["T_IF","if",694],["T_WHITESPACE"," ",694],"(",["T_VARIABLE","$importBillingAddress",694],["T_WHITESPACE"," ",694],["T_BOOLEAN_AND","&&",694],["T_WHITESPACE"," ",694],"!",["T_VARIABLE","$savedBillingAddress",694],")",["T_WHITESPACE"," ",694],"{",["T_WHITESPACE","\n            ",694],["T_VARIABLE","$saveCustomer",695],["T_WHITESPACE"," ",695],"=",["T_WHITESPACE"," ",695],["T_STRING","true",695],";",["T_WHITESPACE","\n            ",695],["T_VARIABLE","$billingAddress",696],["T_OBJECT_OPERATOR","->",696],["T_STRING","setCustomerId",696],"(",["T_VARIABLE","$customer",696],["T_OBJECT_OPERATOR","->",696],["T_STRING","getId",696],"(",")",")",";",["T_WHITESPACE","\n            ",696],["T_VARIABLE","$billingAddress",697],["T_OBJECT_OPERATOR","->",697],["T_STRING","save",697],"(",")",";",["T_WHITESPACE","\n            ",697],["T_VARIABLE","$customer",698],["T_OBJECT_OPERATOR","->",698],["T_STRING","setDefaultBilling",698],"(",["T_VARIABLE","$billingAddress",698],["T_OBJECT_OPERATOR","->",698],["T_STRING","getId",698],"(",")",")",";",["T_WHITESPACE","\n            ",698],["T_IF","if",699],["T_WHITESPACE"," ",699],"(",["T_VARIABLE","$onlyAddress",699],")",["T_WHITESPACE"," ",699],"{",["T_WHITESPACE","\n                ",699],["T_VARIABLE","$customer",700],["T_OBJECT_OPERATOR","->",700],["T_STRING","setDefaultShipping",700],"(",["T_VARIABLE","$billingAddress",700],["T_OBJECT_OPERATOR","->",700],["T_STRING","getId",700],"(",")",")",";",["T_WHITESPACE","\n            ",700],"}",["T_WHITESPACE","\n        ",701],"}",["T_WHITESPACE","\n        ",702],["T_IF","if",703],["T_WHITESPACE"," ",703],"(",["T_VARIABLE","$importShippingAddress",703],["T_WHITESPACE"," ",703],["T_BOOLEAN_AND","&&",703],["T_WHITESPACE"," ",703],"!",["T_VARIABLE","$savedShippingAddress",703],")",["T_WHITESPACE"," ",703],"{",["T_WHITESPACE","\n            ",703],["T_VARIABLE","$saveCustomer",704],["T_WHITESPACE"," ",704],"=",["T_WHITESPACE"," ",704],["T_STRING","true",704],";",["T_WHITESPACE","\n            ",704],["T_VARIABLE","$shippingAddress",705],["T_OBJECT_OPERATOR","->",705],["T_STRING","setCustomerId",705],"(",["T_VARIABLE","$customer",705],["T_OBJECT_OPERATOR","->",705],["T_STRING","getId",705],"(",")",")",";",["T_WHITESPACE","\n            ",705],["T_VARIABLE","$shippingAddress",706],["T_OBJECT_OPERATOR","->",706],["T_STRING","save",706],"(",")",";",["T_WHITESPACE","\n            ",706],["T_VARIABLE","$customer",707],["T_OBJECT_OPERATOR","->",707],["T_STRING","setDefaultShipping",707],"(",["T_VARIABLE","$shippingAddress",707],["T_OBJECT_OPERATOR","->",707],["T_STRING","getId",707],"(",")",")",";",["T_WHITESPACE","\n        ",707],"}",["T_WHITESPACE","\n        ",708],["T_IF","if",709],["T_WHITESPACE"," ",709],"(",["T_VARIABLE","$saveCustomer",709],")",["T_WHITESPACE"," ",709],"{",["T_WHITESPACE","\n            ",709],["T_VARIABLE","$customer",710],["T_OBJECT_OPERATOR","->",710],["T_STRING","save",710],"(",")",";",["T_WHITESPACE","\n        ",710],"}",["T_WHITESPACE","\n\n        ",711],["T_RETURN","return",713],["T_WHITESPACE"," ",713],["T_VARIABLE","$this",713],";",["T_WHITESPACE","\n    ",713],"}",["T_WHITESPACE","\n\n    ",714],["T_PUBLIC","public",716],["T_WHITESPACE"," ",716],["T_FUNCTION","function",716],["T_WHITESPACE"," ",716],["T_STRING","getCustomerId",716],"(",")",["T_WHITESPACE","\n    ",716],"{",["T_WHITESPACE","\n        ",717],["T_RETURN","return",718],["T_WHITESPACE"," ",718],["T_VARIABLE","$this",718],["T_OBJECT_OPERATOR","->",718],["T_STRING","_customerId",718],";",["T_WHITESPACE","\n    ",718],"}",["T_WHITESPACE","\n\n    ",719],["T_COMMENT","\/* ########### THE CODE BELOW AT THIS METHOD IS NOT USED ############# *\/",721],["T_WHITESPACE","\n\n    ",721],["T_PUBLIC","public",723],["T_WHITESPACE"," ",723],["T_FUNCTION","function",723],["T_WHITESPACE"," ",723],["T_STRING","saveRow__OLD",723],"(",")",["T_WHITESPACE","\n    ",723],"{",["T_WHITESPACE","\n\n        ",724],["T_VARIABLE","$mem",726],["T_WHITESPACE"," ",726],"=",["T_WHITESPACE"," ",726],["T_STRING","memory_get_usage",726],"(",")",";",["T_WHITESPACE"," ",726],["T_VARIABLE","$origMem",726],["T_WHITESPACE"," ",726],"=",["T_WHITESPACE"," ",726],["T_VARIABLE","$mem",726],";",["T_WHITESPACE"," ",726],["T_VARIABLE","$memory",726],["T_WHITESPACE"," ",726],"=",["T_WHITESPACE"," ",726],["T_VARIABLE","$mem",726],";",["T_WHITESPACE","\n        ",726],["T_VARIABLE","$customer",727],["T_WHITESPACE"," ",727],"=",["T_WHITESPACE"," ",727],["T_VARIABLE","$this",727],["T_OBJECT_OPERATOR","->",727],["T_STRING","getCustomer",727],"(",")",";",["T_WHITESPACE","\n        ",727],"@",["T_STRING","set_time_limit",728],"(",["T_LNUMBER","240",728],")",";",["T_WHITESPACE","\n        ",728],["T_VARIABLE","$row",729],["T_WHITESPACE"," ",729],"=",["T_WHITESPACE"," ",729],["T_VARIABLE","$args",729],";",["T_WHITESPACE","\n        ",729],["T_VARIABLE","$newMem",730],["T_WHITESPACE"," ",730],"=",["T_WHITESPACE"," ",730],["T_STRING","memory_get_usage",730],"(",")",";",["T_WHITESPACE"," ",730],["T_VARIABLE","$memory",730],["T_WHITESPACE"," ",730],["T_CONCAT_EQUAL",".=",730],["T_WHITESPACE"," ",730],["T_CONSTANT_ENCAPSED_STRING","', '",730],".","(",["T_VARIABLE","$newMem",730],"-",["T_VARIABLE","$mem",730],")",";",["T_WHITESPACE"," ",730],["T_VARIABLE","$mem",730],["T_WHITESPACE"," ",730],"=",["T_WHITESPACE"," ",730],["T_VARIABLE","$newMem",730],";",["T_WHITESPACE","\n        ",730],["T_VARIABLE","$customer",731],["T_OBJECT_OPERATOR","->",731],["T_STRING","importFromTextArray",731],"(",["T_VARIABLE","$row",731],")",";",["T_WHITESPACE","\n\n        ",731],["T_IF","if",733],["T_WHITESPACE"," ",733],"(","!",["T_VARIABLE","$customer",733],["T_OBJECT_OPERATOR","->",733],["T_STRING","getData",733],"(",")",")",["T_WHITESPACE"," ",733],"{",["T_WHITESPACE","\n            ",733],["T_RETURN","return",734],";",["T_WHITESPACE","\n        ",734],"}",["T_WHITESPACE","\n\n        ",735],["T_VARIABLE","$newMem",737],["T_WHITESPACE"," ",737],"=",["T_WHITESPACE"," ",737],["T_STRING","memory_get_usage",737],"(",")",";",["T_WHITESPACE"," ",737],["T_VARIABLE","$memory",737],["T_WHITESPACE"," ",737],["T_CONCAT_EQUAL",".=",737],["T_WHITESPACE"," ",737],["T_CONSTANT_ENCAPSED_STRING","', '",737],".","(",["T_VARIABLE","$newMem",737],"-",["T_VARIABLE","$mem",737],")",";",["T_WHITESPACE"," ",737],["T_VARIABLE","$mem",737],["T_WHITESPACE"," ",737],"=",["T_WHITESPACE"," ",737],["T_VARIABLE","$newMem",737],";",["T_WHITESPACE","\n        ",737],["T_TRY","try",738],["T_WHITESPACE"," ",738],"{",["T_WHITESPACE","\n            ",738],["T_VARIABLE","$customer",739],["T_OBJECT_OPERATOR","->",739],["T_STRING","save",739],"(",")",";",["T_WHITESPACE","\n            ",739],["T_VARIABLE","$this",740],["T_OBJECT_OPERATOR","->",740],["T_STRING","_customerId",740],["T_WHITESPACE"," ",740],"=",["T_WHITESPACE"," ",740],["T_VARIABLE","$customer",740],["T_OBJECT_OPERATOR","->",740],["T_STRING","getId",740],"(",")",";",["T_WHITESPACE","\n            ",740],["T_VARIABLE","$customer",741],["T_OBJECT_OPERATOR","->",741],["T_STRING","unsetData",741],"(",")",";",["T_WHITESPACE","\n            ",741],["T_VARIABLE","$customer",742],["T_OBJECT_OPERATOR","->",742],["T_STRING","cleanAllAddresses",742],"(",")",";",["T_WHITESPACE","\n            ",742],["T_VARIABLE","$customer",743],["T_OBJECT_OPERATOR","->",743],["T_STRING","unsetSubscription",743],"(",")",";",["T_WHITESPACE","\n            ",743],["T_VARIABLE","$newMem",744],["T_WHITESPACE"," ",744],"=",["T_WHITESPACE"," ",744],["T_STRING","memory_get_usage",744],"(",")",";",["T_WHITESPACE"," ",744],["T_VARIABLE","$memory",744],["T_WHITESPACE"," ",744],["T_CONCAT_EQUAL",".=",744],["T_WHITESPACE"," ",744],["T_CONSTANT_ENCAPSED_STRING","', '",744],".","(",["T_VARIABLE","$newMem",744],"-",["T_VARIABLE","$mem",744],")",";",["T_WHITESPACE"," ",744],["T_VARIABLE","$mem",744],["T_WHITESPACE"," ",744],"=",["T_WHITESPACE"," ",744],["T_VARIABLE","$newMem",744],";",["T_WHITESPACE","\n\n        ",744],"}",["T_WHITESPACE"," ",746],["T_CATCH","catch",746],["T_WHITESPACE"," ",746],"(",["T_STRING","Exception",746],["T_WHITESPACE"," ",746],["T_VARIABLE","$e",746],")",["T_WHITESPACE"," ",746],"{",["T_WHITESPACE","\n        ",746],"}",["T_WHITESPACE","\n        ",747],["T_UNSET","unset",748],"(",["T_VARIABLE","$row",748],")",";",["T_WHITESPACE","\n        ",748],["T_RETURN","return",749],["T_WHITESPACE"," ",749],["T_ARRAY","array",749],"(",["T_CONSTANT_ENCAPSED_STRING","'memory'",749],["T_DOUBLE_ARROW","=>",749],["T_VARIABLE","$memory",749],")",";",["T_WHITESPACE","\n    ",749],"}",["T_WHITESPACE","\n",750],"}",["T_WHITESPACE","\n",751]]