[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Magento\n *\n * NOTICE OF LICENSE\n *\n * This source file is subject to the Open Software License (OSL 3.0)\n * that is bundled with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/opensource.org\/licenses\/osl-3.0.php\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@magento.com so we can send you a copy immediately.\n *\n * DISCLAIMER\n *\n * Do not edit or add to this file if you wish to upgrade Magento to newer\n * versions in the future. If you wish to customize Magento for your\n * needs please refer to http:\/\/www.magento.com for more information.\n *\n * @category    Mage\n * @package     Mage_Install\n * @copyright  Copyright (c) 2006-2016 X.commerce, Inc. and affiliates (http:\/\/www.magento.com)\n * @license    http:\/\/opensource.org\/licenses\/osl-3.0.php  Open Software License (OSL 3.0)\n *\/",2],["T_WHITESPACE","\n\n\n",25],["T_DOC_COMMENT","\/**\n * Config installer\n * @category   Mage\n * @package    Mage_Install\n *\/",28],["T_WHITESPACE","\n",32],["T_CLASS","class",33],["T_WHITESPACE"," ",33],["T_STRING","Mage_Install_Model_Installer_Config",33],["T_WHITESPACE"," ",33],["T_EXTENDS","extends",33],["T_WHITESPACE"," ",33],["T_STRING","Mage_Install_Model_Installer_Abstract",33],["T_WHITESPACE","\n",33],"{",["T_WHITESPACE","\n    ",34],["T_CONST","const",35],["T_WHITESPACE"," ",35],["T_STRING","TMP_INSTALL_DATE_VALUE",35],"=",["T_WHITESPACE"," ",35],["T_CONSTANT_ENCAPSED_STRING","'d-d-d-d-d'",35],";",["T_WHITESPACE","\n    ",35],["T_CONST","const",36],["T_WHITESPACE"," ",36],["T_STRING","TMP_ENCRYPT_KEY_VALUE",36],["T_WHITESPACE"," ",36],"=",["T_WHITESPACE"," ",36],["T_CONSTANT_ENCAPSED_STRING","'k-k-k-k-k'",36],";",["T_WHITESPACE","\n\n    ",36],["T_DOC_COMMENT","\/**\n     * Path to local configuration file\n     *\n     * @var string\n     *\/",38],["T_WHITESPACE","\n    ",42],["T_PROTECTED","protected",43],["T_WHITESPACE"," ",43],["T_VARIABLE","$_localConfigFile",43],";",["T_WHITESPACE","\n\n    ",43],["T_PROTECTED","protected",45],["T_WHITESPACE"," ",45],["T_VARIABLE","$_configData",45],["T_WHITESPACE"," ",45],"=",["T_WHITESPACE"," ",45],["T_ARRAY","array",45],"(",")",";",["T_WHITESPACE","\n\n    ",45],["T_PUBLIC","public",47],["T_WHITESPACE"," ",47],["T_FUNCTION","function",47],["T_WHITESPACE"," ",47],["T_STRING","__construct",47],"(",")",["T_WHITESPACE","\n    ",47],"{",["T_WHITESPACE","\n        ",48],["T_VARIABLE","$this",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","_localConfigFile",49],["T_WHITESPACE"," ",49],"=",["T_WHITESPACE"," ",49],["T_STRING","Mage",49],["T_DOUBLE_COLON","::",49],["T_STRING","getBaseDir",49],"(",["T_CONSTANT_ENCAPSED_STRING","'etc'",49],")",["T_WHITESPACE"," ",49],".",["T_WHITESPACE"," ",49],["T_STRING","DS",49],["T_WHITESPACE"," ",49],".",["T_WHITESPACE"," ",49],["T_CONSTANT_ENCAPSED_STRING","'local.xml'",49],";",["T_WHITESPACE","\n    ",49],"}",["T_WHITESPACE","\n\n    ",50],["T_PUBLIC","public",52],["T_WHITESPACE"," ",52],["T_FUNCTION","function",52],["T_WHITESPACE"," ",52],["T_STRING","setConfigData",52],"(",["T_VARIABLE","$data",52],")",["T_WHITESPACE","\n    ",52],"{",["T_WHITESPACE","\n        ",53],["T_IF","if",54],["T_WHITESPACE"," ",54],"(",["T_STRING","is_array",54],"(",["T_VARIABLE","$data",54],")",")",["T_WHITESPACE"," ",54],"{",["T_WHITESPACE","\n            ",54],["T_VARIABLE","$this",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","_configData",55],["T_WHITESPACE"," ",55],"=",["T_WHITESPACE"," ",55],["T_VARIABLE","$data",55],";",["T_WHITESPACE","\n        ",55],"}",["T_WHITESPACE","\n        ",56],["T_RETURN","return",57],["T_WHITESPACE"," ",57],["T_VARIABLE","$this",57],";",["T_WHITESPACE","\n    ",57],"}",["T_WHITESPACE","\n\n    ",58],["T_PUBLIC","public",60],["T_WHITESPACE"," ",60],["T_FUNCTION","function",60],["T_WHITESPACE"," ",60],["T_STRING","getConfigData",60],"(",")",["T_WHITESPACE","\n    ",60],"{",["T_WHITESPACE","\n        ",61],["T_RETURN","return",62],["T_WHITESPACE"," ",62],["T_VARIABLE","$this",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","_configData",62],";",["T_WHITESPACE","\n    ",62],"}",["T_WHITESPACE","\n\n    ",63],["T_PUBLIC","public",65],["T_WHITESPACE"," ",65],["T_FUNCTION","function",65],["T_WHITESPACE"," ",65],["T_STRING","install",65],"(",")",["T_WHITESPACE","\n    ",65],"{",["T_WHITESPACE","\n        ",66],["T_VARIABLE","$data",67],["T_WHITESPACE"," ",67],"=",["T_WHITESPACE"," ",67],["T_VARIABLE","$this",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","getConfigData",67],"(",")",";",["T_WHITESPACE","\n        ",67],["T_FOREACH","foreach",68],["T_WHITESPACE"," ",68],"(",["T_STRING","Mage",68],["T_DOUBLE_COLON","::",68],["T_STRING","getModel",68],"(",["T_CONSTANT_ENCAPSED_STRING","'core\/config'",68],")",["T_OBJECT_OPERATOR","->",68],["T_STRING","getDistroServerVars",68],"(",")",["T_WHITESPACE"," ",68],["T_AS","as",68],["T_WHITESPACE"," ",68],["T_VARIABLE","$index",68],["T_DOUBLE_ARROW","=>",68],["T_VARIABLE","$value",68],")",["T_WHITESPACE"," ",68],"{",["T_WHITESPACE","\n            ",68],["T_IF","if",69],["T_WHITESPACE"," ",69],"(","!",["T_ISSET","isset",69],"(",["T_VARIABLE","$data",69],"[",["T_VARIABLE","$index",69],"]",")",")",["T_WHITESPACE"," ",69],"{",["T_WHITESPACE","\n                ",69],["T_VARIABLE","$data",70],"[",["T_VARIABLE","$index",70],"]",["T_WHITESPACE"," ",70],"=",["T_WHITESPACE"," ",70],["T_VARIABLE","$value",70],";",["T_WHITESPACE","\n            ",70],"}",["T_WHITESPACE","\n        ",71],"}",["T_WHITESPACE","\n\n        ",72],["T_IF","if",74],["T_WHITESPACE"," ",74],"(",["T_ISSET","isset",74],"(",["T_VARIABLE","$data",74],"[",["T_CONSTANT_ENCAPSED_STRING","'unsecure_base_url'",74],"]",")",")",["T_WHITESPACE"," ",74],"{",["T_WHITESPACE","\n            ",74],["T_VARIABLE","$data",75],"[",["T_CONSTANT_ENCAPSED_STRING","'unsecure_base_url'",75],"]",["T_WHITESPACE"," ",75],["T_CONCAT_EQUAL",".=",75],["T_WHITESPACE"," ",75],["T_STRING","substr",75],"(",["T_VARIABLE","$data",75],"[",["T_CONSTANT_ENCAPSED_STRING","'unsecure_base_url'",75],"]",",",["T_WHITESPACE"," ",75],"-",["T_LNUMBER","1",75],")",["T_WHITESPACE"," ",75],["T_IS_NOT_EQUAL","!=",75],["T_WHITESPACE"," ",75],["T_CONSTANT_ENCAPSED_STRING","'\/'",75],["T_WHITESPACE"," ",75],"?",["T_WHITESPACE"," ",75],["T_CONSTANT_ENCAPSED_STRING","'\/'",75],["T_WHITESPACE"," ",75],":",["T_WHITESPACE"," ",75],["T_CONSTANT_ENCAPSED_STRING","''",75],";",["T_WHITESPACE","\n            ",75],["T_IF","if",76],["T_WHITESPACE"," ",76],"(",["T_STRING","strpos",76],"(",["T_VARIABLE","$data",76],"[",["T_CONSTANT_ENCAPSED_STRING","'unsecure_base_url'",76],"]",",",["T_WHITESPACE"," ",76],["T_CONSTANT_ENCAPSED_STRING","'http'",76],")",["T_WHITESPACE"," ",76],["T_IS_NOT_IDENTICAL","!==",76],["T_WHITESPACE"," ",76],["T_LNUMBER","0",76],")",["T_WHITESPACE"," ",76],"{",["T_WHITESPACE","\n                ",76],["T_VARIABLE","$data",77],"[",["T_CONSTANT_ENCAPSED_STRING","'unsecure_base_url'",77],"]",["T_WHITESPACE"," ",77],"=",["T_WHITESPACE"," ",77],["T_CONSTANT_ENCAPSED_STRING","'http:\/\/'",77],["T_WHITESPACE"," ",77],".",["T_WHITESPACE"," ",77],["T_VARIABLE","$data",77],"[",["T_CONSTANT_ENCAPSED_STRING","'unsecure_base_url'",77],"]",";",["T_WHITESPACE","\n            ",77],"}",["T_WHITESPACE","\n            ",78],["T_IF","if",79],["T_WHITESPACE"," ",79],"(","!",["T_VARIABLE","$this",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","_getInstaller",79],"(",")",["T_OBJECT_OPERATOR","->",79],["T_STRING","getDataModel",79],"(",")",["T_OBJECT_OPERATOR","->",79],["T_STRING","getSkipBaseUrlValidation",79],"(",")",")",["T_WHITESPACE"," ",79],"{",["T_WHITESPACE","\n                ",79],["T_VARIABLE","$this",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","_checkUrl",80],"(",["T_VARIABLE","$data",80],"[",["T_CONSTANT_ENCAPSED_STRING","'unsecure_base_url'",80],"]",")",";",["T_WHITESPACE","\n            ",80],"}",["T_WHITESPACE","\n        ",81],"}",["T_WHITESPACE","\n        ",82],["T_IF","if",83],["T_WHITESPACE"," ",83],"(",["T_ISSET","isset",83],"(",["T_VARIABLE","$data",83],"[",["T_CONSTANT_ENCAPSED_STRING","'secure_base_url'",83],"]",")",")",["T_WHITESPACE"," ",83],"{",["T_WHITESPACE","\n            ",83],["T_VARIABLE","$data",84],"[",["T_CONSTANT_ENCAPSED_STRING","'secure_base_url'",84],"]",["T_WHITESPACE"," ",84],["T_CONCAT_EQUAL",".=",84],["T_WHITESPACE"," ",84],["T_STRING","substr",84],"(",["T_VARIABLE","$data",84],"[",["T_CONSTANT_ENCAPSED_STRING","'secure_base_url'",84],"]",",",["T_WHITESPACE"," ",84],"-",["T_LNUMBER","1",84],")",["T_WHITESPACE"," ",84],["T_IS_NOT_EQUAL","!=",84],["T_WHITESPACE"," ",84],["T_CONSTANT_ENCAPSED_STRING","'\/'",84],["T_WHITESPACE"," ",84],"?",["T_WHITESPACE"," ",84],["T_CONSTANT_ENCAPSED_STRING","'\/'",84],["T_WHITESPACE"," ",84],":",["T_WHITESPACE"," ",84],["T_CONSTANT_ENCAPSED_STRING","''",84],";",["T_WHITESPACE","\n            ",84],["T_IF","if",85],["T_WHITESPACE"," ",85],"(",["T_STRING","strpos",85],"(",["T_VARIABLE","$data",85],"[",["T_CONSTANT_ENCAPSED_STRING","'secure_base_url'",85],"]",",",["T_WHITESPACE"," ",85],["T_CONSTANT_ENCAPSED_STRING","'http'",85],")",["T_WHITESPACE"," ",85],["T_IS_NOT_IDENTICAL","!==",85],["T_WHITESPACE"," ",85],["T_LNUMBER","0",85],")",["T_WHITESPACE"," ",85],"{",["T_WHITESPACE","\n                ",85],["T_VARIABLE","$data",86],"[",["T_CONSTANT_ENCAPSED_STRING","'secure_base_url'",86],"]",["T_WHITESPACE"," ",86],"=",["T_WHITESPACE"," ",86],["T_CONSTANT_ENCAPSED_STRING","'https:\/\/'",86],["T_WHITESPACE"," ",86],".",["T_WHITESPACE"," ",86],["T_VARIABLE","$data",86],"[",["T_CONSTANT_ENCAPSED_STRING","'secure_base_url'",86],"]",";",["T_WHITESPACE","\n            ",86],"}",["T_WHITESPACE","\n\n            ",87],["T_IF","if",89],["T_WHITESPACE"," ",89],"(","!",["T_EMPTY","empty",89],"(",["T_VARIABLE","$data",89],"[",["T_CONSTANT_ENCAPSED_STRING","'use_secure'",89],"]",")",["T_WHITESPACE","\n                ",89],["T_BOOLEAN_AND","&&",90],["T_WHITESPACE"," ",90],"!",["T_VARIABLE","$this",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","_getInstaller",90],"(",")",["T_OBJECT_OPERATOR","->",90],["T_STRING","getDataModel",90],"(",")",["T_OBJECT_OPERATOR","->",90],["T_STRING","getSkipUrlValidation",90],"(",")",")",["T_WHITESPACE"," ",90],"{",["T_WHITESPACE","\n                ",90],["T_VARIABLE","$this",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","_checkUrl",91],"(",["T_VARIABLE","$data",91],"[",["T_CONSTANT_ENCAPSED_STRING","'secure_base_url'",91],"]",")",";",["T_WHITESPACE","\n            ",91],"}",["T_WHITESPACE","\n        ",92],"}",["T_WHITESPACE","\n\n        ",93],["T_VARIABLE","$data",95],"[",["T_CONSTANT_ENCAPSED_STRING","'date'",95],"]",["T_WHITESPACE","   ",95],"=",["T_WHITESPACE"," ",95],["T_STRING","self",95],["T_DOUBLE_COLON","::",95],["T_STRING","TMP_INSTALL_DATE_VALUE",95],";",["T_WHITESPACE","\n        ",95],["T_VARIABLE","$data",96],"[",["T_CONSTANT_ENCAPSED_STRING","'key'",96],"]",["T_WHITESPACE","    ",96],"=",["T_WHITESPACE"," ",96],["T_STRING","self",96],["T_DOUBLE_COLON","::",96],["T_STRING","TMP_ENCRYPT_KEY_VALUE",96],";",["T_WHITESPACE","\n        ",96],["T_VARIABLE","$data",97],"[",["T_CONSTANT_ENCAPSED_STRING","'var_dir'",97],"]",["T_WHITESPACE"," ",97],"=",["T_WHITESPACE"," ",97],["T_VARIABLE","$data",97],"[",["T_CONSTANT_ENCAPSED_STRING","'root_dir'",97],"]",["T_WHITESPACE"," ",97],".",["T_WHITESPACE"," ",97],["T_CONSTANT_ENCAPSED_STRING","'\/var'",97],";",["T_WHITESPACE","\n\n        ",97],["T_VARIABLE","$data",99],"[",["T_CONSTANT_ENCAPSED_STRING","'use_script_name'",99],"]",["T_WHITESPACE"," ",99],"=",["T_WHITESPACE"," ",99],["T_ISSET","isset",99],"(",["T_VARIABLE","$data",99],"[",["T_CONSTANT_ENCAPSED_STRING","'use_script_name'",99],"]",")",["T_WHITESPACE"," ",99],"?",["T_WHITESPACE"," ",99],["T_CONSTANT_ENCAPSED_STRING","'true'",99],["T_WHITESPACE"," ",99],":",["T_WHITESPACE"," ",99],["T_CONSTANT_ENCAPSED_STRING","'false'",99],";",["T_WHITESPACE","\n\n        ",99],["T_VARIABLE","$this",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","_getInstaller",101],"(",")",["T_OBJECT_OPERATOR","->",101],["T_STRING","getDataModel",101],"(",")",["T_OBJECT_OPERATOR","->",101],["T_STRING","setConfigData",101],"(",["T_VARIABLE","$data",101],")",";",["T_WHITESPACE","\n\n        ",101],["T_VARIABLE","$template",103],["T_WHITESPACE"," ",103],"=",["T_WHITESPACE"," ",103],["T_STRING","file_get_contents",103],"(",["T_STRING","Mage",103],["T_DOUBLE_COLON","::",103],["T_STRING","getBaseDir",103],"(",["T_CONSTANT_ENCAPSED_STRING","'etc'",103],")",["T_WHITESPACE"," ",103],".",["T_WHITESPACE"," ",103],["T_STRING","DS",103],["T_WHITESPACE"," ",103],".",["T_WHITESPACE"," ",103],["T_CONSTANT_ENCAPSED_STRING","'local.xml.template'",103],")",";",["T_WHITESPACE","\n        ",103],["T_FOREACH","foreach",104],["T_WHITESPACE"," ",104],"(",["T_VARIABLE","$data",104],["T_WHITESPACE"," ",104],["T_AS","as",104],["T_WHITESPACE"," ",104],["T_VARIABLE","$index",104],["T_WHITESPACE"," ",104],["T_DOUBLE_ARROW","=>",104],["T_WHITESPACE"," ",104],["T_VARIABLE","$value",104],")",["T_WHITESPACE"," ",104],"{",["T_WHITESPACE","\n            ",104],["T_VARIABLE","$template",105],["T_WHITESPACE"," ",105],"=",["T_WHITESPACE"," ",105],["T_STRING","str_replace",105],"(",["T_CONSTANT_ENCAPSED_STRING","'{{'",105],["T_WHITESPACE"," ",105],".",["T_WHITESPACE"," ",105],["T_VARIABLE","$index",105],["T_WHITESPACE"," ",105],".",["T_WHITESPACE"," ",105],["T_CONSTANT_ENCAPSED_STRING","'}}'",105],",",["T_WHITESPACE"," ",105],["T_CONSTANT_ENCAPSED_STRING","'<![CDATA['",105],["T_WHITESPACE"," ",105],".",["T_WHITESPACE"," ",105],["T_VARIABLE","$value",105],["T_WHITESPACE"," ",105],".",["T_WHITESPACE"," ",105],["T_CONSTANT_ENCAPSED_STRING","']]>'",105],",",["T_WHITESPACE"," ",105],["T_VARIABLE","$template",105],")",";",["T_WHITESPACE","\n        ",105],"}",["T_WHITESPACE","\n        ",106],["T_STRING","file_put_contents",107],"(",["T_VARIABLE","$this",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","_localConfigFile",107],",",["T_WHITESPACE"," ",107],["T_VARIABLE","$template",107],")",";",["T_WHITESPACE","\n        ",107],["T_STRING","chmod",108],"(",["T_VARIABLE","$this",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","_localConfigFile",108],",",["T_WHITESPACE"," ",108],["T_LNUMBER","0777",108],")",";",["T_WHITESPACE","\n    ",108],"}",["T_WHITESPACE","\n\n    ",109],["T_PUBLIC","public",111],["T_WHITESPACE"," ",111],["T_FUNCTION","function",111],["T_WHITESPACE"," ",111],["T_STRING","getFormData",111],"(",")",["T_WHITESPACE","\n    ",111],"{",["T_WHITESPACE","\n        ",112],["T_VARIABLE","$baseUrl",113],["T_WHITESPACE"," ",113],"=",["T_WHITESPACE"," ",113],["T_STRING","Mage",113],["T_DOUBLE_COLON","::",113],["T_STRING","helper",113],"(",["T_CONSTANT_ENCAPSED_STRING","'core\/url'",113],")",["T_OBJECT_OPERATOR","->",113],["T_STRING","decodePunycode",113],"(",["T_STRING","Mage",113],["T_DOUBLE_COLON","::",113],["T_STRING","getBaseUrl",113],"(",["T_CONSTANT_ENCAPSED_STRING","'web'",113],")",")",";",["T_WHITESPACE","\n        ",113],["T_VARIABLE","$uri",114],["T_WHITESPACE","    ",114],"=",["T_WHITESPACE"," ",114],["T_STRING","explode",114],"(",["T_CONSTANT_ENCAPSED_STRING","':'",114],",",["T_WHITESPACE"," ",114],["T_VARIABLE","$baseUrl",114],",",["T_WHITESPACE"," ",114],["T_LNUMBER","2",114],")",";",["T_WHITESPACE","\n        ",114],["T_VARIABLE","$scheme",115],["T_WHITESPACE"," ",115],"=",["T_WHITESPACE"," ",115],["T_STRING","strtolower",115],"(",["T_VARIABLE","$uri",115],"[",["T_LNUMBER","0",115],"]",")",";",["T_WHITESPACE","\n        ",115],["T_VARIABLE","$baseSecureUrl",116],["T_WHITESPACE"," ",116],"=",["T_WHITESPACE"," ",116],"(",["T_VARIABLE","$scheme",116],["T_WHITESPACE"," ",116],["T_IS_NOT_IDENTICAL","!==",116],["T_WHITESPACE"," ",116],["T_CONSTANT_ENCAPSED_STRING","'https'",116],")",["T_WHITESPACE"," ",116],"?",["T_WHITESPACE"," ",116],["T_STRING","str_replace",116],"(",["T_CONSTANT_ENCAPSED_STRING","'http:\/\/'",116],",",["T_WHITESPACE"," ",116],["T_CONSTANT_ENCAPSED_STRING","'https:\/\/'",116],",",["T_WHITESPACE"," ",116],["T_VARIABLE","$baseUrl",116],")",["T_WHITESPACE"," ",116],":",["T_WHITESPACE"," ",116],["T_VARIABLE","$baseUrl",116],";",["T_WHITESPACE","\n\n        ",116],["T_VARIABLE","$connectDefault",118],["T_WHITESPACE"," ",118],"=",["T_WHITESPACE"," ",118],["T_STRING","Mage",118],["T_DOUBLE_COLON","::",118],["T_STRING","getConfig",118],"(",")",["T_WHITESPACE","\n                ",118],["T_OBJECT_OPERATOR","->",119],["T_STRING","getResourceConnectionConfig",119],"(",["T_STRING","Mage_Core_Model_Resource",119],["T_DOUBLE_COLON","::",119],["T_STRING","DEFAULT_SETUP_RESOURCE",119],")",";",["T_WHITESPACE","\n\n        ",119],["T_VARIABLE","$data",121],["T_WHITESPACE"," ",121],"=",["T_WHITESPACE"," ",121],["T_STRING","Mage",121],["T_DOUBLE_COLON","::",121],["T_STRING","getModel",121],"(",["T_CONSTANT_ENCAPSED_STRING","'varien\/object'",121],")",["T_WHITESPACE","\n            ",121],["T_OBJECT_OPERATOR","->",122],["T_STRING","setDbHost",122],"(",["T_VARIABLE","$connectDefault",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","host",122],")",["T_WHITESPACE","\n            ",122],["T_OBJECT_OPERATOR","->",123],["T_STRING","setDbName",123],"(",["T_VARIABLE","$connectDefault",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","dbname",123],")",["T_WHITESPACE","\n            ",123],["T_OBJECT_OPERATOR","->",124],["T_STRING","setDbUser",124],"(",["T_VARIABLE","$connectDefault",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","username",124],")",["T_WHITESPACE","\n            ",124],["T_OBJECT_OPERATOR","->",125],["T_STRING","setDbModel",125],"(",["T_VARIABLE","$connectDefault",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","model",125],")",["T_WHITESPACE","\n            ",125],["T_OBJECT_OPERATOR","->",126],["T_STRING","setDbPass",126],"(",["T_CONSTANT_ENCAPSED_STRING","''",126],")",["T_WHITESPACE","\n            ",126],["T_OBJECT_OPERATOR","->",127],["T_STRING","setSecureBaseUrl",127],"(",["T_VARIABLE","$baseSecureUrl",127],")",["T_WHITESPACE","\n            ",127],["T_OBJECT_OPERATOR","->",128],["T_STRING","setUnsecureBaseUrl",128],"(",["T_VARIABLE","$baseUrl",128],")",["T_WHITESPACE","\n            ",128],["T_OBJECT_OPERATOR","->",129],["T_STRING","setAdminFrontname",129],"(",["T_CONSTANT_ENCAPSED_STRING","'admin'",129],")",["T_WHITESPACE","\n            ",129],["T_OBJECT_OPERATOR","->",130],["T_STRING","setEnableCharts",130],"(",["T_CONSTANT_ENCAPSED_STRING","'1'",130],")",["T_WHITESPACE","\n        ",130],";",["T_WHITESPACE","\n        ",131],["T_RETURN","return",132],["T_WHITESPACE"," ",132],["T_VARIABLE","$data",132],";",["T_WHITESPACE","\n    ",132],"}",["T_WHITESPACE","\n\n    ",133],["T_PROTECTED","protected",135],["T_WHITESPACE"," ",135],["T_FUNCTION","function",135],["T_WHITESPACE"," ",135],["T_STRING","_checkHostsInfo",135],"(",["T_VARIABLE","$data",135],")",["T_WHITESPACE","\n    ",135],"{",["T_WHITESPACE","\n        ",136],["T_VARIABLE","$url",137],["T_WHITESPACE","  ",137],"=",["T_WHITESPACE"," ",137],["T_VARIABLE","$data",137],"[",["T_CONSTANT_ENCAPSED_STRING","'protocol'",137],"]",["T_WHITESPACE"," ",137],".",["T_WHITESPACE"," ",137],["T_CONSTANT_ENCAPSED_STRING","':\/\/'",137],["T_WHITESPACE"," ",137],".",["T_WHITESPACE"," ",137],["T_VARIABLE","$data",137],"[",["T_CONSTANT_ENCAPSED_STRING","'host'",137],"]",["T_WHITESPACE"," ",137],".",["T_WHITESPACE"," ",137],["T_CONSTANT_ENCAPSED_STRING","':'",137],["T_WHITESPACE"," ",137],".",["T_WHITESPACE"," ",137],["T_VARIABLE","$data",137],"[",["T_CONSTANT_ENCAPSED_STRING","'port'",137],"]",["T_WHITESPACE"," ",137],".",["T_WHITESPACE"," ",137],["T_VARIABLE","$data",137],"[",["T_CONSTANT_ENCAPSED_STRING","'base_path'",137],"]",";",["T_WHITESPACE","\n        ",137],["T_VARIABLE","$surl",138],["T_WHITESPACE"," ",138],"=",["T_WHITESPACE"," ",138],["T_VARIABLE","$data",138],"[",["T_CONSTANT_ENCAPSED_STRING","'secure_protocol'",138],"]",["T_WHITESPACE"," ",138],".",["T_WHITESPACE"," ",138],["T_CONSTANT_ENCAPSED_STRING","':\/\/'",138],["T_WHITESPACE"," ",138],".",["T_WHITESPACE"," ",138],["T_VARIABLE","$data",138],"[",["T_CONSTANT_ENCAPSED_STRING","'secure_host'",138],"]",["T_WHITESPACE"," ",138],".",["T_WHITESPACE"," ",138],["T_CONSTANT_ENCAPSED_STRING","':'",138],["T_WHITESPACE"," ",138],".",["T_WHITESPACE"," ",138],["T_VARIABLE","$data",138],"[",["T_CONSTANT_ENCAPSED_STRING","'secure_port'",138],"]",["T_WHITESPACE","\n            ",138],".",["T_WHITESPACE"," ",139],["T_VARIABLE","$data",139],"[",["T_CONSTANT_ENCAPSED_STRING","'secure_base_path'",139],"]",";",["T_WHITESPACE","\n\n        ",139],["T_VARIABLE","$this",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","_checkUrl",141],"(",["T_VARIABLE","$url",141],")",";",["T_WHITESPACE","\n        ",141],["T_VARIABLE","$this",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","_checkUrl",142],"(",["T_VARIABLE","$surl",142],",",["T_WHITESPACE"," ",142],["T_STRING","true",142],")",";",["T_WHITESPACE","\n\n        ",142],["T_RETURN","return",144],["T_WHITESPACE"," ",144],["T_VARIABLE","$this",144],";",["T_WHITESPACE","\n    ",144],"}",["T_WHITESPACE","\n\n    ",145],["T_PROTECTED","protected",147],["T_WHITESPACE"," ",147],["T_FUNCTION","function",147],["T_WHITESPACE"," ",147],["T_STRING","_checkUrl",147],"(",["T_VARIABLE","$url",147],",",["T_WHITESPACE"," ",147],["T_VARIABLE","$secure",147],["T_WHITESPACE"," ",147],"=",["T_WHITESPACE"," ",147],["T_STRING","false",147],")",["T_WHITESPACE","\n    ",147],"{",["T_WHITESPACE","\n        ",148],["T_VARIABLE","$prefix",149],["T_WHITESPACE"," ",149],"=",["T_WHITESPACE"," ",149],["T_VARIABLE","$secure",149],["T_WHITESPACE"," ",149],"?",["T_WHITESPACE"," ",149],["T_CONSTANT_ENCAPSED_STRING","'install\/wizard\/checkSecureHost\/'",149],["T_WHITESPACE"," ",149],":",["T_WHITESPACE"," ",149],["T_CONSTANT_ENCAPSED_STRING","'install\/wizard\/checkHost\/'",149],";",["T_WHITESPACE","\n        ",149],["T_TRY","try",150],["T_WHITESPACE"," ",150],"{",["T_WHITESPACE","\n            ",150],["T_VARIABLE","$client",151],["T_WHITESPACE"," ",151],"=",["T_WHITESPACE"," ",151],["T_NEW","new",151],["T_WHITESPACE"," ",151],["T_STRING","Varien_Http_Client",151],"(",["T_VARIABLE","$url",151],["T_WHITESPACE"," ",151],".",["T_WHITESPACE"," ",151],["T_CONSTANT_ENCAPSED_STRING","'index.php\/'",151],["T_WHITESPACE"," ",151],".",["T_WHITESPACE"," ",151],["T_VARIABLE","$prefix",151],")",";",["T_WHITESPACE","\n            ",151],["T_VARIABLE","$response",152],["T_WHITESPACE"," ",152],"=",["T_WHITESPACE"," ",152],["T_VARIABLE","$client",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","request",152],"(",["T_CONSTANT_ENCAPSED_STRING","'GET'",152],")",";",["T_WHITESPACE","\n            ",152],["T_COMMENT","\/* @var $responce Zend_Http_Response *\/",153],["T_WHITESPACE","\n            ",153],["T_VARIABLE","$body",154],["T_WHITESPACE"," ",154],"=",["T_WHITESPACE"," ",154],["T_VARIABLE","$response",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","getBody",154],"(",")",";",["T_WHITESPACE","\n        ",154],"}",["T_WHITESPACE","\n        ",155],["T_CATCH","catch",156],["T_WHITESPACE"," ",156],"(",["T_STRING","Exception",156],["T_WHITESPACE"," ",156],["T_VARIABLE","$e",156],")","{",["T_WHITESPACE","\n            ",156],["T_VARIABLE","$this",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","_getInstaller",157],"(",")",["T_OBJECT_OPERATOR","->",157],["T_STRING","getDataModel",157],"(",")",["T_WHITESPACE","\n                ",157],["T_OBJECT_OPERATOR","->",158],["T_STRING","addError",158],"(",["T_STRING","Mage",158],["T_DOUBLE_COLON","::",158],["T_STRING","helper",158],"(",["T_CONSTANT_ENCAPSED_STRING","'install'",158],")",["T_OBJECT_OPERATOR","->",158],["T_STRING","__",158],"(",["T_CONSTANT_ENCAPSED_STRING","'The URL \"%s\" is not accessible.'",158],",",["T_WHITESPACE"," ",158],["T_VARIABLE","$url",158],")",")",";",["T_WHITESPACE","\n            ",158],["T_THROW","throw",159],["T_WHITESPACE"," ",159],["T_VARIABLE","$e",159],";",["T_WHITESPACE","\n        ",159],"}",["T_WHITESPACE","\n\n        ",160],["T_IF","if",162],["T_WHITESPACE"," ",162],"(",["T_VARIABLE","$body",162],["T_WHITESPACE"," ",162],["T_IS_NOT_EQUAL","!=",162],["T_WHITESPACE"," ",162],["T_STRING","Mage_Install_Model_Installer",162],["T_DOUBLE_COLON","::",162],["T_STRING","INSTALLER_HOST_RESPONSE",162],")",["T_WHITESPACE"," ",162],"{",["T_WHITESPACE","\n            ",162],["T_VARIABLE","$this",163],["T_OBJECT_OPERATOR","->",163],["T_STRING","_getInstaller",163],"(",")",["T_OBJECT_OPERATOR","->",163],["T_STRING","getDataModel",163],"(",")",["T_WHITESPACE","\n                ",163],["T_OBJECT_OPERATOR","->",164],["T_STRING","addError",164],"(",["T_STRING","Mage",164],["T_DOUBLE_COLON","::",164],["T_STRING","helper",164],"(",["T_CONSTANT_ENCAPSED_STRING","'install'",164],")",["T_OBJECT_OPERATOR","->",164],["T_STRING","__",164],"(",["T_CONSTANT_ENCAPSED_STRING","'The URL \"%s\" is invalid.'",164],",",["T_WHITESPACE"," ",164],["T_VARIABLE","$url",164],")",")",";",["T_WHITESPACE","\n            ",164],["T_STRING","Mage",165],["T_DOUBLE_COLON","::",165],["T_STRING","throwException",165],"(",["T_STRING","Mage",165],["T_DOUBLE_COLON","::",165],["T_STRING","helper",165],"(",["T_CONSTANT_ENCAPSED_STRING","'install'",165],")",["T_OBJECT_OPERATOR","->",165],["T_STRING","__",165],"(",["T_CONSTANT_ENCAPSED_STRING","'Response from server isn\\'t valid.'",165],")",")",";",["T_WHITESPACE","\n        ",165],"}",["T_WHITESPACE","\n        ",166],["T_RETURN","return",167],["T_WHITESPACE"," ",167],["T_VARIABLE","$this",167],";",["T_WHITESPACE","\n    ",167],"}",["T_WHITESPACE","\n\n    ",168],["T_PUBLIC","public",170],["T_WHITESPACE"," ",170],["T_FUNCTION","function",170],["T_WHITESPACE"," ",170],["T_STRING","replaceTmpInstallDate",170],"(",["T_VARIABLE","$date",170],["T_WHITESPACE"," ",170],"=",["T_WHITESPACE"," ",170],["T_STRING","null",170],")",["T_WHITESPACE","\n    ",170],"{",["T_WHITESPACE","\n        ",171],["T_VARIABLE","$stamp",172],["T_WHITESPACE","    ",172],"=",["T_WHITESPACE"," ",172],["T_STRING","strtotime",172],"(",["T_STRING_CAST","(string)",172],["T_WHITESPACE"," ",172],["T_VARIABLE","$date",172],")",";",["T_WHITESPACE","\n        ",172],["T_VARIABLE","$localXml",173],["T_WHITESPACE"," ",173],"=",["T_WHITESPACE"," ",173],["T_STRING","file_get_contents",173],"(",["T_VARIABLE","$this",173],["T_OBJECT_OPERATOR","->",173],["T_STRING","_localConfigFile",173],")",";",["T_WHITESPACE","\n        ",173],["T_VARIABLE","$localXml",174],["T_WHITESPACE"," ",174],"=",["T_WHITESPACE"," ",174],["T_STRING","str_replace",174],"(",["T_STRING","self",174],["T_DOUBLE_COLON","::",174],["T_STRING","TMP_INSTALL_DATE_VALUE",174],",",["T_WHITESPACE"," ",174],["T_STRING","date",174],"(",["T_CONSTANT_ENCAPSED_STRING","'r'",174],",",["T_WHITESPACE"," ",174],["T_VARIABLE","$stamp",174],["T_WHITESPACE"," ",174],"?",["T_WHITESPACE"," ",174],["T_VARIABLE","$stamp",174],["T_WHITESPACE"," ",174],":",["T_WHITESPACE"," ",174],["T_STRING","time",174],"(",")",")",",",["T_WHITESPACE"," ",174],["T_VARIABLE","$localXml",174],")",";",["T_WHITESPACE","\n        ",174],["T_STRING","file_put_contents",175],"(",["T_VARIABLE","$this",175],["T_OBJECT_OPERATOR","->",175],["T_STRING","_localConfigFile",175],",",["T_WHITESPACE"," ",175],["T_VARIABLE","$localXml",175],")",";",["T_WHITESPACE","\n\n        ",175],["T_RETURN","return",177],["T_WHITESPACE"," ",177],["T_VARIABLE","$this",177],";",["T_WHITESPACE","\n    ",177],"}",["T_WHITESPACE","\n\n    ",178],["T_PUBLIC","public",180],["T_WHITESPACE"," ",180],["T_FUNCTION","function",180],["T_WHITESPACE"," ",180],["T_STRING","replaceTmpEncryptKey",180],"(",["T_VARIABLE","$key",180],["T_WHITESPACE"," ",180],"=",["T_WHITESPACE"," ",180],["T_STRING","null",180],")",["T_WHITESPACE","\n    ",180],"{",["T_WHITESPACE","\n        ",181],["T_IF","if",182],["T_WHITESPACE"," ",182],"(","!",["T_VARIABLE","$key",182],")",["T_WHITESPACE"," ",182],"{",["T_WHITESPACE","\n            ",182],["T_VARIABLE","$key",183],["T_WHITESPACE"," ",183],"=",["T_WHITESPACE"," ",183],["T_STRING","md5",183],"(",["T_STRING","Mage",183],["T_DOUBLE_COLON","::",183],["T_STRING","helper",183],"(",["T_CONSTANT_ENCAPSED_STRING","'core'",183],")",["T_OBJECT_OPERATOR","->",183],["T_STRING","getRandomString",183],"(",["T_LNUMBER","10",183],")",")",";",["T_WHITESPACE","\n        ",183],"}",["T_WHITESPACE","\n        ",184],["T_VARIABLE","$localXml",185],["T_WHITESPACE"," ",185],"=",["T_WHITESPACE"," ",185],["T_STRING","file_get_contents",185],"(",["T_VARIABLE","$this",185],["T_OBJECT_OPERATOR","->",185],["T_STRING","_localConfigFile",185],")",";",["T_WHITESPACE","\n        ",185],["T_VARIABLE","$localXml",186],["T_WHITESPACE"," ",186],"=",["T_WHITESPACE"," ",186],["T_STRING","str_replace",186],"(",["T_STRING","self",186],["T_DOUBLE_COLON","::",186],["T_STRING","TMP_ENCRYPT_KEY_VALUE",186],",",["T_WHITESPACE"," ",186],["T_VARIABLE","$key",186],",",["T_WHITESPACE"," ",186],["T_VARIABLE","$localXml",186],")",";",["T_WHITESPACE","\n        ",186],["T_STRING","file_put_contents",187],"(",["T_VARIABLE","$this",187],["T_OBJECT_OPERATOR","->",187],["T_STRING","_localConfigFile",187],",",["T_WHITESPACE"," ",187],["T_VARIABLE","$localXml",187],")",";",["T_WHITESPACE","\n\n        ",187],["T_RETURN","return",189],["T_WHITESPACE"," ",189],["T_VARIABLE","$this",189],";",["T_WHITESPACE","\n    ",189],"}",["T_WHITESPACE","\n",190],"}",["T_WHITESPACE","\n",191]]