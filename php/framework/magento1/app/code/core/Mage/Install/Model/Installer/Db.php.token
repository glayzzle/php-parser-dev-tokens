[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Magento\n *\n * NOTICE OF LICENSE\n *\n * This source file is subject to the Open Software License (OSL 3.0)\n * that is bundled with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/opensource.org\/licenses\/osl-3.0.php\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@magento.com so we can send you a copy immediately.\n *\n * DISCLAIMER\n *\n * Do not edit or add to this file if you wish to upgrade Magento to newer\n * versions in the future. If you wish to customize Magento for your\n * needs please refer to http:\/\/www.magento.com for more information.\n *\n * @category    Mage\n * @package     Mage_Install\n * @copyright  Copyright (c) 2006-2016 X.commerce, Inc. and affiliates (http:\/\/www.magento.com)\n * @license    http:\/\/opensource.org\/licenses\/osl-3.0.php  Open Software License (OSL 3.0)\n *\/",2],["T_WHITESPACE","\n\n",25],["T_DOC_COMMENT","\/**\n * DB Installer\n *\n * @category   Mage\n * @package    Mage_Install\n * @author      Magento Core Team <core@magentocommerce.com>\n *\/",27],["T_WHITESPACE","\n",33],["T_CLASS","class",34],["T_WHITESPACE"," ",34],["T_STRING","Mage_Install_Model_Installer_Db",34],["T_WHITESPACE"," ",34],["T_EXTENDS","extends",34],["T_WHITESPACE"," ",34],["T_STRING","Mage_Install_Model_Installer_Abstract",34],["T_WHITESPACE","\n",34],"{",["T_WHITESPACE","\n    ",35],["T_DOC_COMMENT","\/**\n     * @var database resource\n     *\/",36],["T_WHITESPACE","\n    ",38],["T_PROTECTED","protected",39],["T_WHITESPACE"," ",39],["T_VARIABLE","$_dbResource",39],";",["T_WHITESPACE","\n\n    ",39],["T_DOC_COMMENT","\/**\n     * Check database connection\n     * and return checked connection data\n     *\n     * @param array $data\n     * @return array\n     *\/",41],["T_WHITESPACE","\n    ",47],["T_PUBLIC","public",48],["T_WHITESPACE"," ",48],["T_FUNCTION","function",48],["T_WHITESPACE"," ",48],["T_STRING","checkDbConnectionData",48],"(",["T_VARIABLE","$data",48],")",["T_WHITESPACE","\n    ",48],"{",["T_WHITESPACE","\n        ",49],["T_VARIABLE","$data",50],["T_WHITESPACE"," ",50],"=",["T_WHITESPACE"," ",50],["T_VARIABLE","$this",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","_getCheckedData",50],"(",["T_VARIABLE","$data",50],")",";",["T_WHITESPACE","\n\n        ",50],["T_TRY","try",52],["T_WHITESPACE"," ",52],"{",["T_WHITESPACE","\n            ",52],["T_VARIABLE","$dbModel",53],["T_WHITESPACE"," ",53],"=",["T_WHITESPACE"," ",53],"(",["T_VARIABLE","$data",53],"[",["T_CONSTANT_ENCAPSED_STRING","'db_model'",53],"]",")",";",["T_WHITESPACE","\n\n            ",53],["T_IF","if",55],["T_WHITESPACE"," ",55],"(","!",["T_VARIABLE","$resource",55],["T_WHITESPACE"," ",55],"=",["T_WHITESPACE"," ",55],["T_VARIABLE","$this",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","_getDbResource",55],"(",["T_VARIABLE","$dbModel",55],")",")",["T_WHITESPACE"," ",55],"{",["T_WHITESPACE","\n                ",55],["T_STRING","Mage",56],["T_DOUBLE_COLON","::",56],["T_STRING","throwException",56],"(",["T_STRING","Mage",56],["T_DOUBLE_COLON","::",56],["T_STRING","helper",56],"(",["T_CONSTANT_ENCAPSED_STRING","'install'",56],")",["T_OBJECT_OPERATOR","->",56],["T_STRING","__",56],"(",["T_CONSTANT_ENCAPSED_STRING","'No resource for %s DB model.'",56],",",["T_WHITESPACE"," ",56],["T_VARIABLE","$dbModel",56],")",")",";",["T_WHITESPACE","\n            ",56],"}",["T_WHITESPACE","\n\n            ",57],["T_VARIABLE","$resource",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","setConfig",59],"(",["T_VARIABLE","$data",59],")",";",["T_WHITESPACE","\n\n            ",59],["T_COMMENT","\/\/ check required extensions\n",61],["T_WHITESPACE","            ",62],["T_VARIABLE","$absenteeExtensions",62],["T_WHITESPACE"," ",62],"=",["T_WHITESPACE"," ",62],["T_ARRAY","array",62],"(",")",";",["T_WHITESPACE","\n            ",62],["T_VARIABLE","$extensions",63],["T_WHITESPACE"," ",63],"=",["T_WHITESPACE"," ",63],["T_VARIABLE","$resource",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","getRequiredExtensions",63],"(",")",";",["T_WHITESPACE","\n            ",63],["T_FOREACH","foreach",64],["T_WHITESPACE"," ",64],"(",["T_VARIABLE","$extensions",64],["T_WHITESPACE"," ",64],["T_AS","as",64],["T_WHITESPACE"," ",64],["T_VARIABLE","$extName",64],")",["T_WHITESPACE"," ",64],"{",["T_WHITESPACE","\n                ",64],["T_IF","if",65],["T_WHITESPACE"," ",65],"(","!",["T_STRING","extension_loaded",65],"(",["T_VARIABLE","$extName",65],")",")",["T_WHITESPACE"," ",65],"{",["T_WHITESPACE","\n                    ",65],["T_VARIABLE","$absenteeExtensions",66],"[","]",["T_WHITESPACE"," ",66],"=",["T_WHITESPACE"," ",66],["T_VARIABLE","$extName",66],";",["T_WHITESPACE","\n                ",66],"}",["T_WHITESPACE","\n            ",67],"}",["T_WHITESPACE","\n            ",68],["T_IF","if",69],["T_WHITESPACE"," ",69],"(","!",["T_EMPTY","empty",69],"(",["T_VARIABLE","$absenteeExtensions",69],")",")",["T_WHITESPACE"," ",69],"{",["T_WHITESPACE","\n                ",69],["T_STRING","Mage",70],["T_DOUBLE_COLON","::",70],["T_STRING","throwException",70],"(",["T_WHITESPACE","\n                    ",70],["T_STRING","Mage",71],["T_DOUBLE_COLON","::",71],["T_STRING","helper",71],"(",["T_CONSTANT_ENCAPSED_STRING","'install'",71],")",["T_OBJECT_OPERATOR","->",71],["T_STRING","__",71],"(",["T_CONSTANT_ENCAPSED_STRING","'PHP Extensions \"%s\" must be loaded.'",71],",",["T_WHITESPACE"," ",71],["T_STRING","implode",71],"(",["T_CONSTANT_ENCAPSED_STRING","','",71],",",["T_WHITESPACE"," ",71],["T_VARIABLE","$absenteeExtensions",71],")",")",["T_WHITESPACE","\n                ",71],")",";",["T_WHITESPACE","\n            ",72],"}",["T_WHITESPACE","\n\n            ",73],["T_VARIABLE","$version",75],["T_WHITESPACE","    ",75],"=",["T_WHITESPACE"," ",75],["T_VARIABLE","$resource",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","getVersion",75],"(",")",";",["T_WHITESPACE","\n            ",75],["T_VARIABLE","$requiredVersion",76],["T_WHITESPACE"," ",76],"=",["T_WHITESPACE"," ",76],["T_STRING_CAST","(string)",76],["T_WHITESPACE"," ",76],["T_STRING","Mage",76],["T_DOUBLE_COLON","::",76],["T_STRING","getConfig",76],"(",")",["T_WHITESPACE","\n                ",76],["T_OBJECT_OPERATOR","->",77],["T_STRING","getNode",77],"(",["T_STRING","sprintf",77],"(",["T_CONSTANT_ENCAPSED_STRING","'install\/databases\/%s\/min_version'",77],",",["T_WHITESPACE"," ",77],["T_VARIABLE","$dbModel",77],")",")",";",["T_WHITESPACE","\n\n            ",77],["T_COMMENT","\/\/ check DB server version\n",79],["T_WHITESPACE","            ",80],["T_IF","if",80],["T_WHITESPACE"," ",80],"(",["T_STRING","version_compare",80],"(",["T_VARIABLE","$version",80],",",["T_WHITESPACE"," ",80],["T_VARIABLE","$requiredVersion",80],")",["T_WHITESPACE"," ",80],["T_IS_EQUAL","==",80],["T_WHITESPACE"," ",80],"-",["T_LNUMBER","1",80],")",["T_WHITESPACE"," ",80],"{",["T_WHITESPACE","\n                ",80],["T_STRING","Mage",81],["T_DOUBLE_COLON","::",81],["T_STRING","throwException",81],"(",["T_WHITESPACE","\n                    ",81],["T_STRING","Mage",82],["T_DOUBLE_COLON","::",82],["T_STRING","helper",82],"(",["T_CONSTANT_ENCAPSED_STRING","'install'",82],")",["T_OBJECT_OPERATOR","->",82],["T_STRING","__",82],"(",["T_CONSTANT_ENCAPSED_STRING","'The database server version doesn\\'t match system requirements (required: %s, actual: %s).'",82],",",["T_WHITESPACE"," ",82],["T_VARIABLE","$requiredVersion",82],",",["T_WHITESPACE"," ",82],["T_VARIABLE","$version",82],")",["T_WHITESPACE","\n                ",82],")",";",["T_WHITESPACE","\n            ",83],"}",["T_WHITESPACE","\n\n            ",84],["T_COMMENT","\/\/ check InnoDB support\n",86],["T_WHITESPACE","            ",87],["T_IF","if",87],["T_WHITESPACE"," ",87],"(","!",["T_VARIABLE","$resource",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","supportEngine",87],"(",")",")",["T_WHITESPACE"," ",87],"{",["T_WHITESPACE","\n                ",87],["T_STRING","Mage",88],["T_DOUBLE_COLON","::",88],["T_STRING","throwException",88],"(",["T_WHITESPACE","\n                    ",88],["T_STRING","Mage",89],["T_DOUBLE_COLON","::",89],["T_STRING","helper",89],"(",["T_CONSTANT_ENCAPSED_STRING","'install'",89],")",["T_OBJECT_OPERATOR","->",89],["T_STRING","__",89],"(",["T_CONSTANT_ENCAPSED_STRING","'Database server does not support the InnoDB storage engine.'",89],")",["T_WHITESPACE","\n                ",89],")",";",["T_WHITESPACE","\n            ",90],"}",["T_WHITESPACE","\n\n            ",91],["T_COMMENT","\/\/ TODO: check user roles\n",93],["T_WHITESPACE","        ",94],"}",["T_WHITESPACE","\n        ",94],["T_CATCH","catch",95],["T_WHITESPACE"," ",95],"(",["T_STRING","Mage_Core_Exception",95],["T_WHITESPACE"," ",95],["T_VARIABLE","$e",95],")",["T_WHITESPACE"," ",95],"{",["T_WHITESPACE","\n            ",95],["T_STRING","Mage",96],["T_DOUBLE_COLON","::",96],["T_STRING","logException",96],"(",["T_VARIABLE","$e",96],")",";",["T_WHITESPACE","\n            ",96],["T_STRING","Mage",97],["T_DOUBLE_COLON","::",97],["T_STRING","throwException",97],"(",["T_STRING","Mage",97],["T_DOUBLE_COLON","::",97],["T_STRING","helper",97],"(",["T_CONSTANT_ENCAPSED_STRING","'install'",97],")",["T_OBJECT_OPERATOR","->",97],["T_STRING","__",97],"(",["T_VARIABLE","$e",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","getMessage",97],"(",")",")",")",";",["T_WHITESPACE","\n        ",97],"}",["T_WHITESPACE","\n        ",98],["T_CATCH","catch",99],["T_WHITESPACE"," ",99],"(",["T_STRING","Exception",99],["T_WHITESPACE"," ",99],["T_VARIABLE","$e",99],")",["T_WHITESPACE"," ",99],"{",["T_WHITESPACE","\n            ",99],["T_STRING","Mage",100],["T_DOUBLE_COLON","::",100],["T_STRING","logException",100],"(",["T_VARIABLE","$e",100],")",";",["T_WHITESPACE","\n            ",100],["T_STRING","Mage",101],["T_DOUBLE_COLON","::",101],["T_STRING","throwException",101],"(",["T_STRING","Mage",101],["T_DOUBLE_COLON","::",101],["T_STRING","helper",101],"(",["T_CONSTANT_ENCAPSED_STRING","'install'",101],")",["T_OBJECT_OPERATOR","->",101],["T_STRING","__",101],"(",["T_CONSTANT_ENCAPSED_STRING","'Database connection error.'",101],")",")",";",["T_WHITESPACE","\n        ",101],"}",["T_WHITESPACE","\n\n        ",102],["T_RETURN","return",104],["T_WHITESPACE"," ",104],["T_VARIABLE","$data",104],";",["T_WHITESPACE","\n    ",104],"}",["T_WHITESPACE","\n\n    ",105],["T_DOC_COMMENT","\/**\n     * Check database connection data\n     *\n     * @param  array $data\n     * @return array\n     *\/",107],["T_WHITESPACE","\n    ",112],["T_PROTECTED","protected",113],["T_WHITESPACE"," ",113],["T_FUNCTION","function",113],["T_WHITESPACE"," ",113],["T_STRING","_getCheckedData",113],"(",["T_VARIABLE","$data",113],")",["T_WHITESPACE","\n    ",113],"{",["T_WHITESPACE","\n        ",114],["T_IF","if",115],["T_WHITESPACE"," ",115],"(","!",["T_ISSET","isset",115],"(",["T_VARIABLE","$data",115],"[",["T_CONSTANT_ENCAPSED_STRING","'db_name'",115],"]",")",["T_WHITESPACE"," ",115],["T_BOOLEAN_OR","||",115],["T_WHITESPACE"," ",115],["T_EMPTY","empty",115],"(",["T_VARIABLE","$data",115],"[",["T_CONSTANT_ENCAPSED_STRING","'db_name'",115],"]",")",")",["T_WHITESPACE"," ",115],"{",["T_WHITESPACE","\n            ",115],["T_STRING","Mage",116],["T_DOUBLE_COLON","::",116],["T_STRING","throwException",116],"(",["T_STRING","Mage",116],["T_DOUBLE_COLON","::",116],["T_STRING","helper",116],"(",["T_CONSTANT_ENCAPSED_STRING","'install'",116],")",["T_OBJECT_OPERATOR","->",116],["T_STRING","__",116],"(",["T_CONSTANT_ENCAPSED_STRING","'Database Name cannot be empty.'",116],")",")",";",["T_WHITESPACE","\n        ",116],"}",["T_WHITESPACE","\n        ",117],["T_COMMENT","\/\/make all table prefix to lower letter\n",118],["T_WHITESPACE","        ",119],["T_IF","if",119],["T_WHITESPACE"," ",119],"(",["T_VARIABLE","$data",119],"[",["T_CONSTANT_ENCAPSED_STRING","'db_prefix'",119],"]",["T_WHITESPACE"," ",119],["T_IS_NOT_EQUAL","!=",119],["T_WHITESPACE"," ",119],["T_CONSTANT_ENCAPSED_STRING","''",119],")",["T_WHITESPACE"," ",119],"{",["T_WHITESPACE","\n           ",119],["T_VARIABLE","$data",120],"[",["T_CONSTANT_ENCAPSED_STRING","'db_prefix'",120],"]",["T_WHITESPACE"," ",120],"=",["T_WHITESPACE"," ",120],["T_STRING","strtolower",120],"(",["T_VARIABLE","$data",120],"[",["T_CONSTANT_ENCAPSED_STRING","'db_prefix'",120],"]",")",";",["T_WHITESPACE","\n        ",120],"}",["T_WHITESPACE","\n        ",121],["T_COMMENT","\/\/check table prefix\n",122],["T_WHITESPACE","        ",123],["T_IF","if",123],["T_WHITESPACE"," ",123],"(",["T_VARIABLE","$data",123],"[",["T_CONSTANT_ENCAPSED_STRING","'db_prefix'",123],"]",["T_WHITESPACE"," ",123],["T_IS_NOT_EQUAL","!=",123],["T_WHITESPACE"," ",123],["T_CONSTANT_ENCAPSED_STRING","''",123],")",["T_WHITESPACE"," ",123],"{",["T_WHITESPACE","\n            ",123],["T_IF","if",124],["T_WHITESPACE"," ",124],"(","!",["T_STRING","preg_match",124],"(",["T_CONSTANT_ENCAPSED_STRING","'\/^[a-z]+[a-z0-9_]*$\/'",124],",",["T_WHITESPACE"," ",124],["T_VARIABLE","$data",124],"[",["T_CONSTANT_ENCAPSED_STRING","'db_prefix'",124],"]",")",")",["T_WHITESPACE"," ",124],"{",["T_WHITESPACE","\n                ",124],["T_STRING","Mage",125],["T_DOUBLE_COLON","::",125],["T_STRING","throwException",125],"(",["T_WHITESPACE","\n                    ",125],["T_STRING","Mage",126],["T_DOUBLE_COLON","::",126],["T_STRING","helper",126],"(",["T_CONSTANT_ENCAPSED_STRING","'install'",126],")",["T_OBJECT_OPERATOR","->",126],["T_STRING","__",126],"(",["T_CONSTANT_ENCAPSED_STRING","'The table prefix should contain only letters (a-z), numbers (0-9) or underscores (_), the first character should be a letter.'",126],")",["T_WHITESPACE","\n                ",126],")",";",["T_WHITESPACE","\n            ",127],"}",["T_WHITESPACE","\n        ",128],"}",["T_WHITESPACE","\n        ",129],["T_COMMENT","\/\/set default db model\n",130],["T_WHITESPACE","        ",131],["T_IF","if",131],["T_WHITESPACE"," ",131],"(","!",["T_ISSET","isset",131],"(",["T_VARIABLE","$data",131],"[",["T_CONSTANT_ENCAPSED_STRING","'db_model'",131],"]",")",["T_WHITESPACE"," ",131],["T_BOOLEAN_OR","||",131],["T_WHITESPACE"," ",131],["T_EMPTY","empty",131],"(",["T_VARIABLE","$data",131],"[",["T_CONSTANT_ENCAPSED_STRING","'db_model'",131],"]",")",")",["T_WHITESPACE"," ",131],"{",["T_WHITESPACE","\n            ",131],["T_VARIABLE","$data",132],"[",["T_CONSTANT_ENCAPSED_STRING","'db_model'",132],"]",["T_WHITESPACE"," ",132],"=",["T_WHITESPACE"," ",132],["T_STRING","Mage",132],["T_DOUBLE_COLON","::",132],["T_STRING","getConfig",132],"(",")",["T_WHITESPACE","\n                ",132],["T_OBJECT_OPERATOR","->",133],["T_STRING","getResourceConnectionConfig",133],"(",["T_STRING","Mage_Core_Model_Resource",133],["T_DOUBLE_COLON","::",133],["T_STRING","DEFAULT_SETUP_RESOURCE",133],")",["T_OBJECT_OPERATOR","->",133],["T_STRING","model",133],";",["T_WHITESPACE","\n        ",133],"}",["T_WHITESPACE","\n        ",134],["T_COMMENT","\/\/set db type according the db model\n",135],["T_WHITESPACE","        ",136],["T_IF","if",136],["T_WHITESPACE"," ",136],"(","!",["T_ISSET","isset",136],"(",["T_VARIABLE","$data",136],"[",["T_CONSTANT_ENCAPSED_STRING","'db_type'",136],"]",")",")",["T_WHITESPACE"," ",136],"{",["T_WHITESPACE","\n            ",136],["T_VARIABLE","$data",137],"[",["T_CONSTANT_ENCAPSED_STRING","'db_type'",137],"]",["T_WHITESPACE"," ",137],"=",["T_WHITESPACE"," ",137],["T_STRING_CAST","(string)",137],["T_WHITESPACE"," ",137],["T_STRING","Mage",137],["T_DOUBLE_COLON","::",137],["T_STRING","getConfig",137],"(",")",["T_WHITESPACE","\n                ",137],["T_OBJECT_OPERATOR","->",138],["T_STRING","getNode",138],"(",["T_STRING","sprintf",138],"(",["T_CONSTANT_ENCAPSED_STRING","'install\/databases\/%s\/type'",138],",",["T_WHITESPACE"," ",138],["T_VARIABLE","$data",138],"[",["T_CONSTANT_ENCAPSED_STRING","'db_model'",138],"]",")",")",";",["T_WHITESPACE","\n        ",138],"}",["T_WHITESPACE","\n\n        ",139],["T_VARIABLE","$dbResource",141],["T_WHITESPACE"," ",141],"=",["T_WHITESPACE"," ",141],["T_VARIABLE","$this",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","_getDbResource",141],"(",["T_VARIABLE","$data",141],"[",["T_CONSTANT_ENCAPSED_STRING","'db_model'",141],"]",")",";",["T_WHITESPACE","\n        ",141],["T_VARIABLE","$data",142],"[",["T_CONSTANT_ENCAPSED_STRING","'db_pdo_type'",142],"]",["T_WHITESPACE"," ",142],"=",["T_WHITESPACE"," ",142],["T_VARIABLE","$dbResource",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","getPdoType",142],"(",")",";",["T_WHITESPACE","\n\n        ",142],["T_IF","if",144],["T_WHITESPACE"," ",144],"(","!",["T_ISSET","isset",144],"(",["T_VARIABLE","$data",144],"[",["T_CONSTANT_ENCAPSED_STRING","'db_init_statemants'",144],"]",")",")",["T_WHITESPACE"," ",144],"{",["T_WHITESPACE","\n            ",144],["T_VARIABLE","$data",145],"[",["T_CONSTANT_ENCAPSED_STRING","'db_init_statemants'",145],"]",["T_WHITESPACE"," ",145],"=",["T_WHITESPACE"," ",145],["T_STRING_CAST","(string)",145],["T_WHITESPACE"," ",145],["T_STRING","Mage",145],["T_DOUBLE_COLON","::",145],["T_STRING","getConfig",145],"(",")",["T_WHITESPACE","\n                ",145],["T_OBJECT_OPERATOR","->",146],["T_STRING","getNode",146],"(",["T_STRING","sprintf",146],"(",["T_CONSTANT_ENCAPSED_STRING","'install\/databases\/%s\/initStatements'",146],",",["T_WHITESPACE"," ",146],["T_VARIABLE","$data",146],"[",["T_CONSTANT_ENCAPSED_STRING","'db_model'",146],"]",")",")",";",["T_WHITESPACE","\n        ",146],"}",["T_WHITESPACE","\n\n        ",147],["T_RETURN","return",149],["T_WHITESPACE"," ",149],["T_VARIABLE","$data",149],";",["T_WHITESPACE","\n    ",149],"}",["T_WHITESPACE","\n\n    ",150],["T_DOC_COMMENT","\/**\n     * Retrieve the database resource\n     *\n     * @param  string $model database type\n     * @return Mage_Install_Model_Installer_Db_Abstract\n     *\/",152],["T_WHITESPACE","\n    ",157],["T_PROTECTED","protected",158],["T_WHITESPACE"," ",158],["T_FUNCTION","function",158],["T_WHITESPACE"," ",158],["T_STRING","_getDbResource",158],"(",["T_VARIABLE","$model",158],")",["T_WHITESPACE","\n    ",158],"{",["T_WHITESPACE","\n        ",159],["T_IF","if",160],["T_WHITESPACE"," ",160],"(","!",["T_ISSET","isset",160],"(",["T_VARIABLE","$this",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","_dbResource",160],")",")",["T_WHITESPACE"," ",160],"{",["T_WHITESPACE","\n            ",160],["T_VARIABLE","$resource",161],["T_WHITESPACE"," ",161],"=",["T_WHITESPACE","  ",161],["T_STRING","Mage",161],["T_DOUBLE_COLON","::",161],["T_STRING","getSingleton",161],"(",["T_STRING","sprintf",161],"(",["T_CONSTANT_ENCAPSED_STRING","'install\/installer_db_%s'",161],",",["T_WHITESPACE"," ",161],["T_VARIABLE","$model",161],")",")",";",["T_WHITESPACE","\n            ",161],["T_IF","if",162],["T_WHITESPACE"," ",162],"(","!",["T_VARIABLE","$resource",162],")",["T_WHITESPACE"," ",162],"{",["T_WHITESPACE","\n                ",162],["T_STRING","Mage",163],["T_DOUBLE_COLON","::",163],["T_STRING","throwException",163],"(",["T_WHITESPACE","\n                    ",163],["T_STRING","Mage",164],["T_DOUBLE_COLON","::",164],["T_STRING","helper",164],"(",["T_CONSTANT_ENCAPSED_STRING","'install'",164],")",["T_OBJECT_OPERATOR","->",164],["T_STRING","__",164],"(",["T_CONSTANT_ENCAPSED_STRING","'Installer does not exist for %s database type'",164],",",["T_WHITESPACE"," ",164],["T_VARIABLE","$model",164],")",["T_WHITESPACE","\n                ",164],")",";",["T_WHITESPACE","\n            ",165],"}",["T_WHITESPACE","\n            ",166],["T_VARIABLE","$this",167],["T_OBJECT_OPERATOR","->",167],["T_STRING","_dbResource",167],["T_WHITESPACE"," ",167],"=",["T_WHITESPACE"," ",167],["T_VARIABLE","$resource",167],";",["T_WHITESPACE","\n        ",167],"}",["T_WHITESPACE","\n        ",168],["T_RETURN","return",169],["T_WHITESPACE"," ",169],["T_VARIABLE","$this",169],["T_OBJECT_OPERATOR","->",169],["T_STRING","_dbResource",169],";",["T_WHITESPACE","\n    ",169],"}",["T_WHITESPACE","\n\n    ",170],["T_DOC_COMMENT","\/**\n     * Retrieve Connection Type\n     *\n     * @return string\n     *\n     * @deprecated since 1.5.0.0\n     *\/",172],["T_WHITESPACE","\n    ",178],["T_PROTECTED","protected",179],["T_WHITESPACE"," ",179],["T_FUNCTION","function",179],["T_WHITESPACE"," ",179],["T_STRING","_getConnenctionType",179],"(",")",["T_WHITESPACE","\n    ",179],"{",["T_WHITESPACE","\n        ",180],["T_RETURN","return",181],["T_WHITESPACE"," ",181],["T_STRING_CAST","(string)",181],["T_WHITESPACE"," ",181],["T_STRING","Mage",181],["T_DOUBLE_COLON","::",181],["T_STRING","getConfig",181],"(",")",["T_OBJECT_OPERATOR","->",181],["T_STRING","getNode",181],"(",["T_CONSTANT_ENCAPSED_STRING","'global\/resources\/default_setup\/connection\/type'",181],")",";",["T_WHITESPACE","\n    ",181],"}",["T_WHITESPACE","\n\n\n    ",182],["T_DOC_COMMENT","\/**\n     * Check database connection\n     *\n     * @param array $data\n     *\n     * @deprecated since 1.5.0.0\n     *\/",185],["T_WHITESPACE","\n    ",191],["T_PUBLIC","public",192],["T_WHITESPACE"," ",192],["T_FUNCTION","function",192],["T_WHITESPACE"," ",192],["T_STRING","checkDatabase",192],"(",["T_VARIABLE","$data",192],")",["T_WHITESPACE","\n    ",192],"{",["T_WHITESPACE","\n        ",193],["T_VARIABLE","$this",194],["T_OBJECT_OPERATOR","->",194],["T_STRING","checkDbConnectionData",194],"(",["T_VARIABLE","$data",194],")",";",["T_WHITESPACE","\n    ",194],"}",["T_WHITESPACE","\n",195],"}",["T_WHITESPACE","\n",196]]