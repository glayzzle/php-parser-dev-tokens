[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Magento\n *\n * NOTICE OF LICENSE\n *\n * This source file is subject to the Open Software License (OSL 3.0)\n * that is bundled with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/opensource.org\/licenses\/osl-3.0.php\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@magento.com so we can send you a copy immediately.\n *\n * DISCLAIMER\n *\n * Do not edit or add to this file if you wish to upgrade Magento to newer\n * versions in the future. If you wish to customize Magento for your\n * needs please refer to http:\/\/www.magento.com for more information.\n *\n * @category    Mage\n * @package     Mage_Reports\n * @copyright  Copyright (c) 2006-2016 X.commerce, Inc. and affiliates (http:\/\/www.magento.com)\n * @license    http:\/\/opensource.org\/licenses\/osl-3.0.php  Open Software License (OSL 3.0)\n *\/",2],["T_WHITESPACE","\n\n\n",25],["T_DOC_COMMENT","\/**\n * Product Low Stock Report Collection\n *\n * @category    Mage\n * @package     Mage_Reports\n * @author      Magento Core Team <core@magentocommerce.com>\n *\/",28],["T_WHITESPACE","\n",34],["T_CLASS","class",35],["T_WHITESPACE"," ",35],["T_STRING","Mage_Reports_Model_Resource_Product_Lowstock_Collection",35],["T_WHITESPACE"," ",35],["T_EXTENDS","extends",35],["T_WHITESPACE"," ",35],["T_STRING","Mage_Reports_Model_Resource_Product_Collection",35],["T_WHITESPACE","\n",35],"{",["T_WHITESPACE","\n    ",36],["T_DOC_COMMENT","\/**\n     * CatalogInventory Stock Item Resource instance\n     *\n     * @var Mage_CatalogInventory_Model_Resource_Stock_Item\n     *\/",37],["T_WHITESPACE","\n    ",41],["T_PROTECTED","protected",42],["T_WHITESPACE"," ",42],["T_VARIABLE","$_inventoryItemResource",42],["T_WHITESPACE","      ",42],"=",["T_WHITESPACE"," ",42],["T_STRING","null",42],";",["T_WHITESPACE","\n\n    ",42],["T_DOC_COMMENT","\/**\n     * Flag about is joined CatalogInventory Stock Item\n     *\n     * @var bool\n     *\/",44],["T_WHITESPACE","\n    ",48],["T_PROTECTED","protected",49],["T_WHITESPACE"," ",49],["T_VARIABLE","$_inventoryItemJoined",49],["T_WHITESPACE","        ",49],"=",["T_WHITESPACE"," ",49],["T_STRING","false",49],";",["T_WHITESPACE","\n\n    ",49],["T_DOC_COMMENT","\/**\n     * Alias for CatalogInventory Stock Item Table\n     *\n     * @var string\n     *\/",51],["T_WHITESPACE","\n    ",55],["T_PROTECTED","protected",56],["T_WHITESPACE"," ",56],["T_VARIABLE","$_inventoryItemTableAlias",56],["T_WHITESPACE","    ",56],"=",["T_WHITESPACE"," ",56],["T_CONSTANT_ENCAPSED_STRING","'lowstock_inventory_item'",56],";",["T_WHITESPACE","\n\n    ",56],["T_DOC_COMMENT","\/**\n     * Retrieve CatalogInventory Stock Item Resource instance\n     *\n     * @return Mage_CatalogInventory_Model_Resource_Stock_Item\n     *\/",58],["T_WHITESPACE","\n    ",62],["T_PROTECTED","protected",63],["T_WHITESPACE"," ",63],["T_FUNCTION","function",63],["T_WHITESPACE"," ",63],["T_STRING","_getInventoryItemResource",63],"(",")",["T_WHITESPACE","\n    ",63],"{",["T_WHITESPACE","\n        ",64],["T_IF","if",65],["T_WHITESPACE"," ",65],"(",["T_VARIABLE","$this",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","_inventoryItemResource",65],["T_WHITESPACE"," ",65],["T_IS_IDENTICAL","===",65],["T_WHITESPACE"," ",65],["T_STRING","null",65],")",["T_WHITESPACE"," ",65],"{",["T_WHITESPACE","\n            ",65],["T_VARIABLE","$this",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","_inventoryItemResource",66],["T_WHITESPACE"," ",66],"=",["T_WHITESPACE"," ",66],["T_STRING","Mage",66],["T_DOUBLE_COLON","::",66],["T_STRING","getResourceSingleton",66],"(",["T_CONSTANT_ENCAPSED_STRING","'cataloginventory\/stock_item'",66],")",";",["T_WHITESPACE","\n        ",66],"}",["T_WHITESPACE","\n        ",67],["T_RETURN","return",68],["T_WHITESPACE"," ",68],["T_VARIABLE","$this",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","_inventoryItemResource",68],";",["T_WHITESPACE","\n    ",68],"}",["T_WHITESPACE","\n\n    ",69],["T_DOC_COMMENT","\/**\n     * Retrieve CatalogInventory Stock Item Table\n     *\n     * @return string\n     *\/",71],["T_WHITESPACE","\n    ",75],["T_PROTECTED","protected",76],["T_WHITESPACE"," ",76],["T_FUNCTION","function",76],["T_WHITESPACE"," ",76],["T_STRING","_getInventoryItemTable",76],"(",")",["T_WHITESPACE","\n    ",76],"{",["T_WHITESPACE","\n        ",77],["T_RETURN","return",78],["T_WHITESPACE"," ",78],["T_VARIABLE","$this",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","_getInventoryItemResource",78],"(",")",["T_OBJECT_OPERATOR","->",78],["T_STRING","getMainTable",78],"(",")",";",["T_WHITESPACE","\n    ",78],"}",["T_WHITESPACE","\n\n    ",79],["T_DOC_COMMENT","\/**\n     * Retrieve CatalogInventory Stock Item Table Id field name\n     *\n     * @return string\n     *\/",81],["T_WHITESPACE","\n    ",85],["T_PROTECTED","protected",86],["T_WHITESPACE"," ",86],["T_FUNCTION","function",86],["T_WHITESPACE"," ",86],["T_STRING","_getInventoryItemIdField",86],"(",")",["T_WHITESPACE","\n    ",86],"{",["T_WHITESPACE","\n        ",87],["T_RETURN","return",88],["T_WHITESPACE"," ",88],["T_VARIABLE","$this",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","_getInventoryItemResource",88],"(",")",["T_OBJECT_OPERATOR","->",88],["T_STRING","getIdFieldName",88],"(",")",";",["T_WHITESPACE","\n    ",88],"}",["T_WHITESPACE","\n\n    ",89],["T_DOC_COMMENT","\/**\n     * Retrieve alias for CatalogInventory Stock Item Table\n     *\n     * @return string\n     *\/",91],["T_WHITESPACE","\n    ",95],["T_PROTECTED","protected",96],["T_WHITESPACE"," ",96],["T_FUNCTION","function",96],["T_WHITESPACE"," ",96],["T_STRING","_getInventoryItemTableAlias",96],"(",")",["T_WHITESPACE","\n    ",96],"{",["T_WHITESPACE","\n        ",97],["T_RETURN","return",98],["T_WHITESPACE"," ",98],["T_VARIABLE","$this",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","_inventoryItemTableAlias",98],";",["T_WHITESPACE","\n    ",98],"}",["T_WHITESPACE","\n\n    ",99],["T_DOC_COMMENT","\/**\n     * Add catalog inventory stock item field to select\n     *\n     * @param string $field\n     * @param string $alias\n     * @return Mage_Reports_Model_Resource_Product_Lowstock_Collection\n     *\/",101],["T_WHITESPACE","\n    ",107],["T_PROTECTED","protected",108],["T_WHITESPACE"," ",108],["T_FUNCTION","function",108],["T_WHITESPACE"," ",108],["T_STRING","_addInventoryItemFieldToSelect",108],"(",["T_VARIABLE","$field",108],",",["T_WHITESPACE"," ",108],["T_VARIABLE","$alias",108],["T_WHITESPACE"," ",108],"=",["T_WHITESPACE"," ",108],["T_STRING","null",108],")",["T_WHITESPACE","\n    ",108],"{",["T_WHITESPACE","\n        ",109],["T_IF","if",110],["T_WHITESPACE"," ",110],"(",["T_EMPTY","empty",110],"(",["T_VARIABLE","$alias",110],")",")",["T_WHITESPACE"," ",110],"{",["T_WHITESPACE","\n            ",110],["T_VARIABLE","$alias",111],["T_WHITESPACE"," ",111],"=",["T_WHITESPACE"," ",111],["T_VARIABLE","$field",111],";",["T_WHITESPACE","\n        ",111],"}",["T_WHITESPACE","\n\n        ",112],["T_IF","if",114],["T_WHITESPACE"," ",114],"(",["T_ISSET","isset",114],"(",["T_VARIABLE","$this",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","_joinFields",114],"[",["T_VARIABLE","$alias",114],"]",")",")",["T_WHITESPACE"," ",114],"{",["T_WHITESPACE","\n            ",114],["T_RETURN","return",115],["T_WHITESPACE"," ",115],["T_VARIABLE","$this",115],";",["T_WHITESPACE","\n        ",115],"}",["T_WHITESPACE","\n\n        ",116],["T_VARIABLE","$this",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","_joinFields",118],"[",["T_VARIABLE","$alias",118],"]",["T_WHITESPACE"," ",118],"=",["T_WHITESPACE"," ",118],["T_ARRAY","array",118],"(",["T_WHITESPACE","\n            ",118],["T_CONSTANT_ENCAPSED_STRING","'table'",119],["T_WHITESPACE"," ",119],["T_DOUBLE_ARROW","=>",119],["T_WHITESPACE"," ",119],["T_VARIABLE","$this",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","_getInventoryItemTableAlias",119],"(",")",",",["T_WHITESPACE","\n            ",119],["T_CONSTANT_ENCAPSED_STRING","'field'",120],["T_WHITESPACE"," ",120],["T_DOUBLE_ARROW","=>",120],["T_WHITESPACE"," ",120],["T_VARIABLE","$field",120],["T_WHITESPACE","\n        ",120],")",";",["T_WHITESPACE","\n\n        ",121],["T_VARIABLE","$this",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","getSelect",123],"(",")",["T_OBJECT_OPERATOR","->",123],["T_STRING","columns",123],"(",["T_ARRAY","array",123],"(",["T_VARIABLE","$alias",123],["T_WHITESPACE"," ",123],["T_DOUBLE_ARROW","=>",123],["T_WHITESPACE"," ",123],["T_VARIABLE","$field",123],")",",",["T_WHITESPACE"," ",123],["T_VARIABLE","$this",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","_getInventoryItemTableAlias",123],"(",")",")",";",["T_WHITESPACE","\n        ",123],["T_RETURN","return",124],["T_WHITESPACE"," ",124],["T_VARIABLE","$this",124],";",["T_WHITESPACE","\n    ",124],"}",["T_WHITESPACE","\n\n    ",125],["T_DOC_COMMENT","\/**\n     * Retrieve catalog inventory stock item field correlation name\n     *\n     * @param string $field\n     * @return string\n     *\/",127],["T_WHITESPACE","\n    ",132],["T_PROTECTED","protected",133],["T_WHITESPACE"," ",133],["T_FUNCTION","function",133],["T_WHITESPACE"," ",133],["T_STRING","_getInventoryItemField",133],"(",["T_VARIABLE","$field",133],")",["T_WHITESPACE","\n    ",133],"{",["T_WHITESPACE","\n        ",134],["T_RETURN","return",135],["T_WHITESPACE"," ",135],["T_STRING","sprintf",135],"(",["T_CONSTANT_ENCAPSED_STRING","'%s.%s'",135],",",["T_WHITESPACE"," ",135],["T_VARIABLE","$this",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","_getInventoryItemTableAlias",135],"(",")",",",["T_WHITESPACE"," ",135],["T_VARIABLE","$field",135],")",";",["T_WHITESPACE","\n    ",135],"}",["T_WHITESPACE","\n\n    ",136],["T_DOC_COMMENT","\/**\n     * Join catalog inventory stock item table for further stock_item values filters\n     *\n     * @param unknown_type $fields\n     * @return Mage_Reports_Model_Resource_Product_Lowstock_Collection\n     *\/",138],["T_WHITESPACE","\n    ",143],["T_PUBLIC","public",144],["T_WHITESPACE"," ",144],["T_FUNCTION","function",144],["T_WHITESPACE"," ",144],["T_STRING","joinInventoryItem",144],"(",["T_VARIABLE","$fields",144],["T_WHITESPACE"," ",144],"=",["T_WHITESPACE"," ",144],["T_ARRAY","array",144],"(",")",")",["T_WHITESPACE","\n    ",144],"{",["T_WHITESPACE","\n        ",145],["T_IF","if",146],["T_WHITESPACE"," ",146],"(","!",["T_VARIABLE","$this",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","_inventoryItemJoined",146],")",["T_WHITESPACE"," ",146],"{",["T_WHITESPACE","\n            ",146],["T_VARIABLE","$this",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","getSelect",147],"(",")",["T_OBJECT_OPERATOR","->",147],["T_STRING","join",147],"(",["T_WHITESPACE","\n                ",147],["T_ARRAY","array",148],"(",["T_VARIABLE","$this",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","_getInventoryItemTableAlias",148],"(",")",["T_WHITESPACE"," ",148],["T_DOUBLE_ARROW","=>",148],["T_WHITESPACE"," ",148],["T_VARIABLE","$this",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","_getInventoryItemTable",148],"(",")",")",",",["T_WHITESPACE","\n                ",148],["T_STRING","sprintf",149],"(",["T_CONSTANT_ENCAPSED_STRING","'e.%s = %s.product_id'",149],",",["T_WHITESPACE","\n                    ",149],["T_VARIABLE","$this",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","getEntity",150],"(",")",["T_OBJECT_OPERATOR","->",150],["T_STRING","getEntityIdField",150],"(",")",",",["T_WHITESPACE","\n                    ",150],["T_VARIABLE","$this",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","_getInventoryItemTableAlias",151],"(",")",["T_WHITESPACE","\n                ",151],")",",",["T_WHITESPACE","\n                ",152],["T_ARRAY","array",153],"(",")",["T_WHITESPACE","\n            ",153],")",";",["T_WHITESPACE","\n            ",154],["T_VARIABLE","$this",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","_inventoryItemJoined",155],["T_WHITESPACE"," ",155],"=",["T_WHITESPACE"," ",155],["T_STRING","true",155],";",["T_WHITESPACE","\n        ",155],"}",["T_WHITESPACE","\n\n        ",156],["T_IF","if",158],["T_WHITESPACE"," ",158],"(","!",["T_STRING","is_array",158],"(",["T_VARIABLE","$fields",158],")",")",["T_WHITESPACE"," ",158],"{",["T_WHITESPACE","\n            ",158],["T_IF","if",159],["T_WHITESPACE"," ",159],"(",["T_EMPTY","empty",159],"(",["T_VARIABLE","$fields",159],")",")",["T_WHITESPACE"," ",159],"{",["T_WHITESPACE","\n                ",159],["T_VARIABLE","$fields",160],["T_WHITESPACE"," ",160],"=",["T_WHITESPACE"," ",160],["T_ARRAY","array",160],"(",")",";",["T_WHITESPACE","\n            ",160],"}",["T_WHITESPACE"," ",161],["T_ELSE","else",161],["T_WHITESPACE"," ",161],"{",["T_WHITESPACE","\n                ",161],["T_VARIABLE","$fields",162],["T_WHITESPACE"," ",162],"=",["T_WHITESPACE"," ",162],["T_ARRAY","array",162],"(",["T_VARIABLE","$fields",162],")",";",["T_WHITESPACE","\n            ",162],"}",["T_WHITESPACE","\n        ",163],"}",["T_WHITESPACE","\n\n        ",164],["T_FOREACH","foreach",166],["T_WHITESPACE"," ",166],"(",["T_VARIABLE","$fields",166],["T_WHITESPACE"," ",166],["T_AS","as",166],["T_WHITESPACE"," ",166],["T_VARIABLE","$alias",166],["T_WHITESPACE"," ",166],["T_DOUBLE_ARROW","=>",166],["T_WHITESPACE"," ",166],["T_VARIABLE","$field",166],")",["T_WHITESPACE"," ",166],"{",["T_WHITESPACE","\n            ",166],["T_IF","if",167],["T_WHITESPACE"," ",167],"(","!",["T_STRING","is_string",167],"(",["T_VARIABLE","$alias",167],")",")",["T_WHITESPACE"," ",167],"{",["T_WHITESPACE","\n                ",167],["T_VARIABLE","$alias",168],["T_WHITESPACE"," ",168],"=",["T_WHITESPACE"," ",168],["T_STRING","null",168],";",["T_WHITESPACE","\n            ",168],"}",["T_WHITESPACE","\n            ",169],["T_VARIABLE","$this",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","_addInventoryItemFieldToSelect",170],"(",["T_VARIABLE","$field",170],",",["T_WHITESPACE"," ",170],["T_VARIABLE","$alias",170],")",";",["T_WHITESPACE","\n        ",170],"}",["T_WHITESPACE","\n\n        ",171],["T_RETURN","return",173],["T_WHITESPACE"," ",173],["T_VARIABLE","$this",173],";",["T_WHITESPACE","\n    ",173],"}",["T_WHITESPACE","\n\n    ",174],["T_DOC_COMMENT","\/**\n     * Add filter by product type(s)\n     *\n     * @param array|string $typeFilter\n     * @return Mage_Reports_Model_Resource_Product_Lowstock_Collection\n     *\/",176],["T_WHITESPACE","\n    ",181],["T_PUBLIC","public",182],["T_WHITESPACE"," ",182],["T_FUNCTION","function",182],["T_WHITESPACE"," ",182],["T_STRING","filterByProductType",182],"(",["T_VARIABLE","$typeFilter",182],")",["T_WHITESPACE","\n    ",182],"{",["T_WHITESPACE","\n        ",183],["T_IF","if",184],["T_WHITESPACE"," ",184],"(","!",["T_STRING","is_string",184],"(",["T_VARIABLE","$typeFilter",184],")",["T_WHITESPACE"," ",184],["T_BOOLEAN_AND","&&",184],["T_WHITESPACE"," ",184],"!",["T_STRING","is_array",184],"(",["T_VARIABLE","$typeFilter",184],")",")",["T_WHITESPACE"," ",184],"{",["T_WHITESPACE","\n            ",184],["T_STRING","Mage",185],["T_DOUBLE_COLON","::",185],["T_STRING","throwException",185],"(",["T_WHITESPACE","\n                ",185],["T_STRING","Mage",186],["T_DOUBLE_COLON","::",186],["T_STRING","helper",186],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog'",186],")",["T_OBJECT_OPERATOR","->",186],["T_STRING","__",186],"(",["T_CONSTANT_ENCAPSED_STRING","'Wrong product type filter specified'",186],")",["T_WHITESPACE","\n            ",186],")",";",["T_WHITESPACE","\n        ",187],"}",["T_WHITESPACE","\n        ",188],["T_VARIABLE","$this",189],["T_OBJECT_OPERATOR","->",189],["T_STRING","addAttributeToFilter",189],"(",["T_CONSTANT_ENCAPSED_STRING","'type_id'",189],",",["T_WHITESPACE"," ",189],["T_VARIABLE","$typeFilter",189],")",";",["T_WHITESPACE","\n        ",189],["T_RETURN","return",190],["T_WHITESPACE"," ",190],["T_VARIABLE","$this",190],";",["T_WHITESPACE","\n    ",190],"}",["T_WHITESPACE","\n\n    ",191],["T_DOC_COMMENT","\/**\n     * Add filter by product types from config\n     * Only types witch has QTY parameter\n     *\n     * @return Mage_Reports_Model_Resource_Product_Lowstock_Collection\n     *\/",193],["T_WHITESPACE","\n    ",198],["T_PUBLIC","public",199],["T_WHITESPACE"," ",199],["T_FUNCTION","function",199],["T_WHITESPACE"," ",199],["T_STRING","filterByIsQtyProductTypes",199],"(",")",["T_WHITESPACE","\n    ",199],"{",["T_WHITESPACE","\n        ",200],["T_VARIABLE","$this",201],["T_OBJECT_OPERATOR","->",201],["T_STRING","filterByProductType",201],"(",["T_WHITESPACE","\n            ",201],["T_STRING","array_keys",202],"(",["T_STRING","array_filter",202],"(",["T_STRING","Mage",202],["T_DOUBLE_COLON","::",202],["T_STRING","helper",202],"(",["T_CONSTANT_ENCAPSED_STRING","'cataloginventory'",202],")",["T_OBJECT_OPERATOR","->",202],["T_STRING","getIsQtyTypeIds",202],"(",")",")",")",["T_WHITESPACE","\n        ",202],")",";",["T_WHITESPACE","\n        ",203],["T_RETURN","return",204],["T_WHITESPACE"," ",204],["T_VARIABLE","$this",204],";",["T_WHITESPACE","\n    ",204],"}",["T_WHITESPACE","\n\n    ",205],["T_DOC_COMMENT","\/**\n     * Add Use Manage Stock Condition to collection\n     *\n     * @param int|null $storeId\n     * @return Mage_Reports_Model_Resource_Product_Lowstock_Collection\n     *\/",207],["T_WHITESPACE","\n    ",212],["T_PUBLIC","public",213],["T_WHITESPACE"," ",213],["T_FUNCTION","function",213],["T_WHITESPACE"," ",213],["T_STRING","useManageStockFilter",213],"(",["T_VARIABLE","$storeId",213],["T_WHITESPACE"," ",213],"=",["T_WHITESPACE"," ",213],["T_STRING","null",213],")",["T_WHITESPACE","\n    ",213],"{",["T_WHITESPACE","\n        ",214],["T_VARIABLE","$this",215],["T_OBJECT_OPERATOR","->",215],["T_STRING","joinInventoryItem",215],"(",")",";",["T_WHITESPACE","\n        ",215],["T_VARIABLE","$manageStockExpr",216],["T_WHITESPACE"," ",216],"=",["T_WHITESPACE"," ",216],["T_VARIABLE","$this",216],["T_OBJECT_OPERATOR","->",216],["T_STRING","getConnection",216],"(",")",["T_OBJECT_OPERATOR","->",216],["T_STRING","getCheckSql",216],"(",["T_WHITESPACE","\n            ",216],["T_VARIABLE","$this",217],["T_OBJECT_OPERATOR","->",217],["T_STRING","_getInventoryItemField",217],"(",["T_CONSTANT_ENCAPSED_STRING","'use_config_manage_stock'",217],")",["T_WHITESPACE"," ",217],".",["T_WHITESPACE"," ",217],["T_CONSTANT_ENCAPSED_STRING","' = 1'",217],",",["T_WHITESPACE","\n            ",217],["T_INT_CAST","(int)",218],["T_WHITESPACE"," ",218],["T_STRING","Mage",218],["T_DOUBLE_COLON","::",218],["T_STRING","getStoreConfig",218],"(",["T_STRING","Mage_CatalogInventory_Model_Stock_Item",218],["T_DOUBLE_COLON","::",218],["T_STRING","XML_PATH_MANAGE_STOCK",218],",",["T_WHITESPACE"," ",218],["T_VARIABLE","$storeId",218],")",",",["T_WHITESPACE","\n            ",218],["T_VARIABLE","$this",219],["T_OBJECT_OPERATOR","->",219],["T_STRING","_getInventoryItemField",219],"(",["T_CONSTANT_ENCAPSED_STRING","'manage_stock'",219],")",["T_WHITESPACE","\n        ",219],")",";",["T_WHITESPACE","\n        ",220],["T_VARIABLE","$this",221],["T_OBJECT_OPERATOR","->",221],["T_STRING","getSelect",221],"(",")",["T_OBJECT_OPERATOR","->",221],["T_STRING","where",221],"(",["T_VARIABLE","$manageStockExpr",221],["T_WHITESPACE"," ",221],".",["T_WHITESPACE"," ",221],["T_CONSTANT_ENCAPSED_STRING","' = ?'",221],",",["T_WHITESPACE"," ",221],["T_LNUMBER","1",221],")",";",["T_WHITESPACE","\n        ",221],["T_RETURN","return",222],["T_WHITESPACE"," ",222],["T_VARIABLE","$this",222],";",["T_WHITESPACE","\n    ",222],"}",["T_WHITESPACE","\n\n    ",223],["T_DOC_COMMENT","\/**\n     * Add Notify Stock Qty Condition to collection\n     *\n     * @param int $storeId\n     * @return Mage_Reports_Model_Resource_Product_Lowstock_Collection\n     *\/",225],["T_WHITESPACE","\n    ",230],["T_PUBLIC","public",231],["T_WHITESPACE"," ",231],["T_FUNCTION","function",231],["T_WHITESPACE"," ",231],["T_STRING","useNotifyStockQtyFilter",231],"(",["T_VARIABLE","$storeId",231],["T_WHITESPACE"," ",231],"=",["T_WHITESPACE"," ",231],["T_STRING","null",231],")",["T_WHITESPACE","\n    ",231],"{",["T_WHITESPACE","\n        ",232],["T_VARIABLE","$this",233],["T_OBJECT_OPERATOR","->",233],["T_STRING","joinInventoryItem",233],"(",["T_ARRAY","array",233],"(",["T_CONSTANT_ENCAPSED_STRING","'qty'",233],")",")",";",["T_WHITESPACE","\n        ",233],["T_VARIABLE","$notifyStockExpr",234],["T_WHITESPACE"," ",234],"=",["T_WHITESPACE"," ",234],["T_VARIABLE","$this",234],["T_OBJECT_OPERATOR","->",234],["T_STRING","getConnection",234],"(",")",["T_OBJECT_OPERATOR","->",234],["T_STRING","getCheckSql",234],"(",["T_WHITESPACE","\n            ",234],["T_VARIABLE","$this",235],["T_OBJECT_OPERATOR","->",235],["T_STRING","_getInventoryItemField",235],"(",["T_CONSTANT_ENCAPSED_STRING","'use_config_notify_stock_qty'",235],")",["T_WHITESPACE"," ",235],".",["T_WHITESPACE"," ",235],["T_CONSTANT_ENCAPSED_STRING","' = 1'",235],",",["T_WHITESPACE","\n            ",235],["T_INT_CAST","(int)",236],["T_STRING","Mage",236],["T_DOUBLE_COLON","::",236],["T_STRING","getStoreConfig",236],"(",["T_STRING","Mage_CatalogInventory_Model_Stock_Item",236],["T_DOUBLE_COLON","::",236],["T_STRING","XML_PATH_NOTIFY_STOCK_QTY",236],",",["T_WHITESPACE"," ",236],["T_VARIABLE","$storeId",236],")",",",["T_WHITESPACE","\n            ",236],["T_VARIABLE","$this",237],["T_OBJECT_OPERATOR","->",237],["T_STRING","_getInventoryItemField",237],"(",["T_CONSTANT_ENCAPSED_STRING","'notify_stock_qty'",237],")",["T_WHITESPACE","\n        ",237],")",";",["T_WHITESPACE","\n        ",238],["T_VARIABLE","$this",239],["T_OBJECT_OPERATOR","->",239],["T_STRING","getSelect",239],"(",")",["T_OBJECT_OPERATOR","->",239],["T_STRING","where",239],"(",["T_CONSTANT_ENCAPSED_STRING","'qty < ?'",239],",",["T_WHITESPACE"," ",239],["T_VARIABLE","$notifyStockExpr",239],")",";",["T_WHITESPACE","\n        ",239],["T_RETURN","return",240],["T_WHITESPACE"," ",240],["T_VARIABLE","$this",240],";",["T_WHITESPACE","\n    ",240],"}",["T_WHITESPACE","\n",241],"}",["T_WHITESPACE","\n",242]]