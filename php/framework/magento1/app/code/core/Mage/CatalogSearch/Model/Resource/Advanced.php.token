[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Magento\n *\n * NOTICE OF LICENSE\n *\n * This source file is subject to the Open Software License (OSL 3.0)\n * that is bundled with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/opensource.org\/licenses\/osl-3.0.php\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@magento.com so we can send you a copy immediately.\n *\n * DISCLAIMER\n *\n * Do not edit or add to this file if you wish to upgrade Magento to newer\n * versions in the future. If you wish to customize Magento for your\n * needs please refer to http:\/\/www.magento.com for more information.\n *\n * @category    Mage\n * @package     Mage_CatalogSearch\n * @copyright  Copyright (c) 2006-2016 X.commerce, Inc. and affiliates (http:\/\/www.magento.com)\n * @license    http:\/\/opensource.org\/licenses\/osl-3.0.php  Open Software License (OSL 3.0)\n *\/",2],["T_WHITESPACE","\n\n\n",25],["T_DOC_COMMENT","\/**\n * Advanced Catalog Search resource model\n *\n * @category    Mage\n * @package     Mage_CatalogSearch\n * @author      Magento Core Team <core@magentocommerce.com>\n *\/",28],["T_WHITESPACE","\n",34],["T_CLASS","class",35],["T_WHITESPACE"," ",35],["T_STRING","Mage_CatalogSearch_Model_Resource_Advanced",35],["T_WHITESPACE"," ",35],["T_EXTENDS","extends",35],["T_WHITESPACE"," ",35],["T_STRING","Mage_Core_Model_Resource_Db_Abstract",35],["T_WHITESPACE","\n",35],"{",["T_WHITESPACE","\n    ",36],["T_DOC_COMMENT","\/**\n     * Initialize connection and define catalog product table as main table\n     *\n     *\/",37],["T_WHITESPACE","\n    ",40],["T_PROTECTED","protected",41],["T_WHITESPACE"," ",41],["T_FUNCTION","function",41],["T_WHITESPACE"," ",41],["T_STRING","_construct",41],"(",")",["T_WHITESPACE","\n    ",41],"{",["T_WHITESPACE","\n        ",42],["T_VARIABLE","$this",43],["T_OBJECT_OPERATOR","->",43],["T_STRING","_init",43],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog\/product'",43],",",["T_WHITESPACE"," ",43],["T_CONSTANT_ENCAPSED_STRING","'entity_id'",43],")",";",["T_WHITESPACE","\n    ",43],"}",["T_WHITESPACE","\n\n    ",44],["T_DOC_COMMENT","\/**\n     * Prepare response object and dispatch prepare price event\n     * Return response object\n     *\n     * @param Varien_Db_Select $select\n     * @return Varien_Object\n     *\/",46],["T_WHITESPACE","\n    ",52],["T_PROTECTED","protected",53],["T_WHITESPACE"," ",53],["T_FUNCTION","function",53],["T_WHITESPACE"," ",53],["T_STRING","_dispatchPreparePriceEvent",53],"(",["T_VARIABLE","$select",53],")",["T_WHITESPACE","\n    ",53],"{",["T_WHITESPACE","\n        ",54],["T_COMMENT","\/\/ prepare response object for event\n",55],["T_WHITESPACE","        ",56],["T_VARIABLE","$response",56],["T_WHITESPACE"," ",56],"=",["T_WHITESPACE"," ",56],["T_NEW","new",56],["T_WHITESPACE"," ",56],["T_STRING","Varien_Object",56],"(",")",";",["T_WHITESPACE","\n        ",56],["T_VARIABLE","$response",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","setAdditionalCalculations",57],"(",["T_ARRAY","array",57],"(",")",")",";",["T_WHITESPACE","\n\n        ",57],["T_COMMENT","\/\/ prepare event arguments\n",59],["T_WHITESPACE","        ",60],["T_VARIABLE","$eventArgs",60],["T_WHITESPACE"," ",60],"=",["T_WHITESPACE"," ",60],["T_ARRAY","array",60],"(",["T_WHITESPACE","\n            ",60],["T_CONSTANT_ENCAPSED_STRING","'select'",61],["T_WHITESPACE","          ",61],["T_DOUBLE_ARROW","=>",61],["T_WHITESPACE"," ",61],["T_VARIABLE","$select",61],",",["T_WHITESPACE","\n            ",61],["T_CONSTANT_ENCAPSED_STRING","'table'",62],["T_WHITESPACE","           ",62],["T_DOUBLE_ARROW","=>",62],["T_WHITESPACE"," ",62],["T_CONSTANT_ENCAPSED_STRING","'price_index'",62],",",["T_WHITESPACE","\n            ",62],["T_CONSTANT_ENCAPSED_STRING","'store_id'",63],["T_WHITESPACE","        ",63],["T_DOUBLE_ARROW","=>",63],["T_WHITESPACE"," ",63],["T_STRING","Mage",63],["T_DOUBLE_COLON","::",63],["T_STRING","app",63],"(",")",["T_OBJECT_OPERATOR","->",63],["T_STRING","getStore",63],"(",")",["T_OBJECT_OPERATOR","->",63],["T_STRING","getId",63],"(",")",",",["T_WHITESPACE","\n            ",63],["T_CONSTANT_ENCAPSED_STRING","'response_object'",64],["T_WHITESPACE"," ",64],["T_DOUBLE_ARROW","=>",64],["T_WHITESPACE"," ",64],["T_VARIABLE","$response",64],["T_WHITESPACE","\n        ",64],")",";",["T_WHITESPACE","\n\n        ",65],["T_STRING","Mage",67],["T_DOUBLE_COLON","::",67],["T_STRING","dispatchEvent",67],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog_prepare_price_select'",67],",",["T_WHITESPACE"," ",67],["T_VARIABLE","$eventArgs",67],")",";",["T_WHITESPACE","\n\n        ",67],["T_RETURN","return",69],["T_WHITESPACE"," ",69],["T_VARIABLE","$response",69],";",["T_WHITESPACE","\n    ",69],"}",["T_WHITESPACE","\n\n    ",70],["T_DOC_COMMENT","\/**\n     * Prepare search condition for attribute\n     *\n     * @param Mage_Catalog_Model_Resource_Eav_Attribute $attribute\n     * @param string|array $value\n     * @param Mage_CatalogSearch_Model_Resource_Advanced_Collection $collection\n     * @return mixed\n     *\/",72],["T_WHITESPACE","\n    ",79],["T_PUBLIC","public",80],["T_WHITESPACE"," ",80],["T_FUNCTION","function",80],["T_WHITESPACE"," ",80],["T_STRING","prepareCondition",80],"(",["T_VARIABLE","$attribute",80],",",["T_WHITESPACE"," ",80],["T_VARIABLE","$value",80],",",["T_WHITESPACE"," ",80],["T_VARIABLE","$collection",80],")",["T_WHITESPACE","\n    ",80],"{",["T_WHITESPACE","\n        ",81],["T_VARIABLE","$condition",82],["T_WHITESPACE"," ",82],"=",["T_WHITESPACE"," ",82],["T_STRING","false",82],";",["T_WHITESPACE","\n\n        ",82],["T_IF","if",84],["T_WHITESPACE"," ",84],"(",["T_STRING","is_array",84],"(",["T_VARIABLE","$value",84],")",")",["T_WHITESPACE"," ",84],"{",["T_WHITESPACE","\n            ",84],["T_IF","if",85],["T_WHITESPACE"," ",85],"(","!",["T_EMPTY","empty",85],"(",["T_VARIABLE","$value",85],"[",["T_CONSTANT_ENCAPSED_STRING","'from'",85],"]",")",["T_WHITESPACE"," ",85],["T_BOOLEAN_OR","||",85],["T_WHITESPACE"," ",85],"!",["T_EMPTY","empty",85],"(",["T_VARIABLE","$value",85],"[",["T_CONSTANT_ENCAPSED_STRING","'to'",85],"]",")",")",["T_WHITESPACE"," ",85],"{",["T_WHITESPACE"," ",85],["T_COMMENT","\/\/ range\n",85],["T_WHITESPACE","                ",86],["T_VARIABLE","$condition",86],["T_WHITESPACE"," ",86],"=",["T_WHITESPACE"," ",86],["T_VARIABLE","$value",86],";",["T_WHITESPACE","\n            ",86],"}",["T_WHITESPACE"," ",87],["T_ELSE","else",87],["T_WHITESPACE"," ",87],["T_IF","if",87],["T_WHITESPACE"," ",87],"(",["T_STRING","in_array",87],"(",["T_VARIABLE","$attribute",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","getBackendType",87],"(",")",",",["T_WHITESPACE"," ",87],["T_ARRAY","array",87],"(",["T_CONSTANT_ENCAPSED_STRING","'varchar'",87],",",["T_WHITESPACE"," ",87],["T_CONSTANT_ENCAPSED_STRING","'text'",87],")",")",")",["T_WHITESPACE"," ",87],"{",["T_WHITESPACE"," ",87],["T_COMMENT","\/\/ multiselect\n",87],["T_WHITESPACE","                ",88],["T_VARIABLE","$condition",88],["T_WHITESPACE"," ",88],"=",["T_WHITESPACE"," ",88],["T_ARRAY","array",88],"(",["T_CONSTANT_ENCAPSED_STRING","'in_set'",88],["T_WHITESPACE"," ",88],["T_DOUBLE_ARROW","=>",88],["T_WHITESPACE"," ",88],["T_VARIABLE","$value",88],")",";",["T_WHITESPACE","\n            ",88],"}",["T_WHITESPACE"," ",89],["T_ELSE","else",89],["T_WHITESPACE"," ",89],["T_IF","if",89],["T_WHITESPACE"," ",89],"(","!",["T_ISSET","isset",89],"(",["T_VARIABLE","$value",89],"[",["T_CONSTANT_ENCAPSED_STRING","'from'",89],"]",")",["T_WHITESPACE"," ",89],["T_BOOLEAN_AND","&&",89],["T_WHITESPACE"," ",89],"!",["T_ISSET","isset",89],"(",["T_VARIABLE","$value",89],"[",["T_CONSTANT_ENCAPSED_STRING","'to'",89],"]",")",")",["T_WHITESPACE"," ",89],"{",["T_WHITESPACE"," ",89],["T_COMMENT","\/\/ select\n",89],["T_WHITESPACE","                ",90],["T_VARIABLE","$condition",90],["T_WHITESPACE"," ",90],"=",["T_WHITESPACE"," ",90],["T_ARRAY","array",90],"(",["T_CONSTANT_ENCAPSED_STRING","'in'",90],["T_WHITESPACE"," ",90],["T_DOUBLE_ARROW","=>",90],["T_WHITESPACE"," ",90],["T_VARIABLE","$value",90],")",";",["T_WHITESPACE","\n            ",90],"}",["T_WHITESPACE","\n        ",91],"}",["T_WHITESPACE"," ",92],["T_ELSE","else",92],["T_WHITESPACE"," ",92],"{",["T_WHITESPACE","\n            ",92],["T_IF","if",93],["T_WHITESPACE"," ",93],"(",["T_STRING","strlen",93],"(",["T_VARIABLE","$value",93],")",["T_WHITESPACE"," ",93],">",["T_WHITESPACE"," ",93],["T_LNUMBER","0",93],")",["T_WHITESPACE"," ",93],"{",["T_WHITESPACE","\n                ",93],["T_IF","if",94],["T_WHITESPACE"," ",94],"(",["T_STRING","in_array",94],"(",["T_VARIABLE","$attribute",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","getBackendType",94],"(",")",",",["T_WHITESPACE"," ",94],["T_ARRAY","array",94],"(",["T_CONSTANT_ENCAPSED_STRING","'varchar'",94],",",["T_WHITESPACE"," ",94],["T_CONSTANT_ENCAPSED_STRING","'text'",94],",",["T_WHITESPACE"," ",94],["T_CONSTANT_ENCAPSED_STRING","'static'",94],")",")",")",["T_WHITESPACE"," ",94],"{",["T_WHITESPACE","\n                    ",94],["T_VARIABLE","$condition",95],["T_WHITESPACE"," ",95],"=",["T_WHITESPACE"," ",95],["T_ARRAY","array",95],"(",["T_CONSTANT_ENCAPSED_STRING","'like'",95],["T_WHITESPACE"," ",95],["T_DOUBLE_ARROW","=>",95],["T_WHITESPACE"," ",95],["T_CONSTANT_ENCAPSED_STRING","'%'",95],["T_WHITESPACE"," ",95],".",["T_WHITESPACE"," ",95],["T_VARIABLE","$value",95],["T_WHITESPACE"," ",95],".",["T_WHITESPACE"," ",95],["T_CONSTANT_ENCAPSED_STRING","'%'",95],")",";",["T_WHITESPACE"," ",95],["T_COMMENT","\/\/ text search\n",95],["T_WHITESPACE","                ",96],"}",["T_WHITESPACE"," ",96],["T_ELSE","else",96],["T_WHITESPACE"," ",96],"{",["T_WHITESPACE","\n                    ",96],["T_VARIABLE","$condition",97],["T_WHITESPACE"," ",97],"=",["T_WHITESPACE"," ",97],["T_VARIABLE","$value",97],";",["T_WHITESPACE","\n                ",97],"}",["T_WHITESPACE","\n            ",98],"}",["T_WHITESPACE","\n        ",99],"}",["T_WHITESPACE","\n\n        ",100],["T_RETURN","return",102],["T_WHITESPACE"," ",102],["T_VARIABLE","$condition",102],";",["T_WHITESPACE","\n    ",102],"}",["T_WHITESPACE","\n\n    ",103],["T_DOC_COMMENT","\/**\n     * Add filter by attribute rated price\n     *\n     * @param Mage_CatalogSearch_Model_Resource_Advanced_Collection $collection\n     * @param Mage_Catalog_Model_Resource_Eav_Attribute $attribute\n     * @param string|array $value\n     * @param int $rate\n     * @return bool\n     *\/",105],["T_WHITESPACE","\n    ",113],["T_PUBLIC","public",114],["T_WHITESPACE"," ",114],["T_FUNCTION","function",114],["T_WHITESPACE"," ",114],["T_STRING","addRatedPriceFilter",114],"(",["T_VARIABLE","$collection",114],",",["T_WHITESPACE"," ",114],["T_VARIABLE","$attribute",114],",",["T_WHITESPACE"," ",114],["T_VARIABLE","$value",114],",",["T_WHITESPACE"," ",114],["T_VARIABLE","$rate",114],["T_WHITESPACE"," ",114],"=",["T_WHITESPACE"," ",114],["T_LNUMBER","1",114],")",["T_WHITESPACE","\n    ",114],"{",["T_WHITESPACE","\n        ",115],["T_VARIABLE","$adapter",116],["T_WHITESPACE"," ",116],"=",["T_WHITESPACE"," ",116],["T_VARIABLE","$this",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","_getReadAdapter",116],"(",")",";",["T_WHITESPACE","\n\n        ",116],["T_VARIABLE","$conditions",118],["T_WHITESPACE"," ",118],"=",["T_WHITESPACE"," ",118],["T_ARRAY","array",118],"(",")",";",["T_WHITESPACE","\n        ",118],["T_IF","if",119],["T_WHITESPACE"," ",119],"(",["T_STRING","strlen",119],"(",["T_VARIABLE","$value",119],"[",["T_CONSTANT_ENCAPSED_STRING","'from'",119],"]",")",["T_WHITESPACE"," ",119],">",["T_WHITESPACE"," ",119],["T_LNUMBER","0",119],")",["T_WHITESPACE"," ",119],"{",["T_WHITESPACE","\n            ",119],["T_VARIABLE","$conditions",120],"[","]",["T_WHITESPACE"," ",120],"=",["T_WHITESPACE"," ",120],["T_VARIABLE","$adapter",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","quoteInto",120],"(",["T_WHITESPACE","\n                ",120],["T_CONSTANT_ENCAPSED_STRING","'price_index.min_price %s * %s >= ?'",121],",",["T_WHITESPACE"," ",121],["T_VARIABLE","$value",121],"[",["T_CONSTANT_ENCAPSED_STRING","'from'",121],"]",",",["T_WHITESPACE"," ",121],["T_STRING","Zend_Db",121],["T_DOUBLE_COLON","::",121],["T_STRING","FLOAT_TYPE",121],")",";",["T_WHITESPACE","\n        ",121],"}",["T_WHITESPACE","\n        ",122],["T_IF","if",123],["T_WHITESPACE"," ",123],"(",["T_STRING","strlen",123],"(",["T_VARIABLE","$value",123],"[",["T_CONSTANT_ENCAPSED_STRING","'to'",123],"]",")",["T_WHITESPACE"," ",123],">",["T_WHITESPACE"," ",123],["T_LNUMBER","0",123],")",["T_WHITESPACE"," ",123],"{",["T_WHITESPACE","\n            ",123],["T_VARIABLE","$conditions",124],"[","]",["T_WHITESPACE"," ",124],"=",["T_WHITESPACE"," ",124],["T_VARIABLE","$adapter",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","quoteInto",124],"(",["T_WHITESPACE","\n                ",124],["T_CONSTANT_ENCAPSED_STRING","'price_index.min_price %s * %s <= ?'",125],",",["T_WHITESPACE"," ",125],["T_VARIABLE","$value",125],"[",["T_CONSTANT_ENCAPSED_STRING","'to'",125],"]",",",["T_WHITESPACE"," ",125],["T_STRING","Zend_Db",125],["T_DOUBLE_COLON","::",125],["T_STRING","FLOAT_TYPE",125],")",";",["T_WHITESPACE","\n        ",125],"}",["T_WHITESPACE","\n\n        ",126],["T_IF","if",128],["T_WHITESPACE"," ",128],"(","!",["T_VARIABLE","$conditions",128],")",["T_WHITESPACE"," ",128],"{",["T_WHITESPACE","\n            ",128],["T_RETURN","return",129],["T_WHITESPACE"," ",129],["T_STRING","false",129],";",["T_WHITESPACE","\n        ",129],"}",["T_WHITESPACE","\n\n        ",130],["T_VARIABLE","$collection",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","addPriceData",132],"(",")",";",["T_WHITESPACE","\n        ",132],["T_VARIABLE","$select",133],["T_WHITESPACE","     ",133],"=",["T_WHITESPACE"," ",133],["T_VARIABLE","$collection",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","getSelect",133],"(",")",";",["T_WHITESPACE","\n        ",133],["T_VARIABLE","$response",134],["T_WHITESPACE","   ",134],"=",["T_WHITESPACE"," ",134],["T_VARIABLE","$this",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","_dispatchPreparePriceEvent",134],"(",["T_VARIABLE","$select",134],")",";",["T_WHITESPACE","\n        ",134],["T_VARIABLE","$additional",135],["T_WHITESPACE"," ",135],"=",["T_WHITESPACE"," ",135],["T_STRING","join",135],"(",["T_CONSTANT_ENCAPSED_STRING","''",135],",",["T_WHITESPACE"," ",135],["T_VARIABLE","$response",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","getAdditionalCalculations",135],"(",")",")",";",["T_WHITESPACE","\n\n        ",135],["T_FOREACH","foreach",137],["T_WHITESPACE"," ",137],"(",["T_VARIABLE","$conditions",137],["T_WHITESPACE"," ",137],["T_AS","as",137],["T_WHITESPACE"," ",137],["T_VARIABLE","$condition",137],")",["T_WHITESPACE"," ",137],"{",["T_WHITESPACE","\n            ",137],["T_VARIABLE","$select",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","where",138],"(",["T_STRING","sprintf",138],"(",["T_VARIABLE","$condition",138],",",["T_WHITESPACE"," ",138],["T_VARIABLE","$additional",138],",",["T_WHITESPACE"," ",138],["T_VARIABLE","$rate",138],")",")",";",["T_WHITESPACE","\n        ",138],"}",["T_WHITESPACE","\n\n        ",139],["T_RETURN","return",141],["T_WHITESPACE"," ",141],["T_STRING","true",141],";",["T_WHITESPACE","\n    ",141],"}",["T_WHITESPACE","\n\n    ",142],["T_DOC_COMMENT","\/**\n     * Add filter by indexable attribute\n     *\n     * @param Mage_CatalogSearch_Model_Resource_Advanced_Collection $collection\n     * @param Mage_Catalog_Model_Resource_Eav_Attribute $attribute\n     * @param string|array $value\n     * @return bool\n     *\/",144],["T_WHITESPACE","\n    ",151],["T_PUBLIC","public",152],["T_WHITESPACE"," ",152],["T_FUNCTION","function",152],["T_WHITESPACE"," ",152],["T_STRING","addIndexableAttributeModifiedFilter",152],"(",["T_VARIABLE","$collection",152],",",["T_WHITESPACE"," ",152],["T_VARIABLE","$attribute",152],",",["T_WHITESPACE"," ",152],["T_VARIABLE","$value",152],")",["T_WHITESPACE","\n    ",152],"{",["T_WHITESPACE","\n        ",153],["T_IF","if",154],["T_WHITESPACE"," ",154],"(",["T_VARIABLE","$attribute",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","getIndexType",154],"(",")",["T_WHITESPACE"," ",154],["T_IS_EQUAL","==",154],["T_WHITESPACE"," ",154],["T_CONSTANT_ENCAPSED_STRING","'decimal'",154],")",["T_WHITESPACE"," ",154],"{",["T_WHITESPACE","\n            ",154],["T_VARIABLE","$table",155],["T_WHITESPACE"," ",155],"=",["T_WHITESPACE"," ",155],["T_VARIABLE","$this",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","getTable",155],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog\/product_index_eav_decimal'",155],")",";",["T_WHITESPACE","\n        ",155],"}",["T_WHITESPACE"," ",156],["T_ELSE","else",156],["T_WHITESPACE"," ",156],"{",["T_WHITESPACE","\n            ",156],["T_VARIABLE","$table",157],["T_WHITESPACE"," ",157],"=",["T_WHITESPACE"," ",157],["T_VARIABLE","$this",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","getTable",157],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog\/product_index_eav'",157],")",";",["T_WHITESPACE","\n        ",157],"}",["T_WHITESPACE","\n\n        ",158],["T_VARIABLE","$tableAlias",160],["T_WHITESPACE"," ",160],"=",["T_WHITESPACE"," ",160],["T_CONSTANT_ENCAPSED_STRING","'a_'",160],["T_WHITESPACE"," ",160],".",["T_WHITESPACE"," ",160],["T_VARIABLE","$attribute",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","getAttributeId",160],"(",")",";",["T_WHITESPACE","\n        ",160],["T_VARIABLE","$storeId",161],["T_WHITESPACE","    ",161],"=",["T_WHITESPACE"," ",161],["T_STRING","Mage",161],["T_DOUBLE_COLON","::",161],["T_STRING","app",161],"(",")",["T_OBJECT_OPERATOR","->",161],["T_STRING","getStore",161],"(",")",["T_OBJECT_OPERATOR","->",161],["T_STRING","getId",161],"(",")",";",["T_WHITESPACE","\n        ",161],["T_VARIABLE","$select",162],["T_WHITESPACE","     ",162],"=",["T_WHITESPACE"," ",162],["T_VARIABLE","$collection",162],["T_OBJECT_OPERATOR","->",162],["T_STRING","getSelect",162],"(",")",";",["T_WHITESPACE","\n\n        ",162],["T_IF","if",164],["T_WHITESPACE"," ",164],"(",["T_STRING","is_array",164],"(",["T_VARIABLE","$value",164],")",")",["T_WHITESPACE"," ",164],"{",["T_WHITESPACE","\n            ",164],["T_IF","if",165],["T_WHITESPACE"," ",165],"(",["T_ISSET","isset",165],"(",["T_VARIABLE","$value",165],"[",["T_CONSTANT_ENCAPSED_STRING","'from'",165],"]",")",["T_WHITESPACE"," ",165],["T_BOOLEAN_AND","&&",165],["T_WHITESPACE"," ",165],["T_ISSET","isset",165],"(",["T_VARIABLE","$value",165],"[",["T_CONSTANT_ENCAPSED_STRING","'to'",165],"]",")",")",["T_WHITESPACE"," ",165],"{",["T_WHITESPACE","\n                ",165],["T_IF","if",166],["T_WHITESPACE"," ",166],"(",["T_EMPTY","empty",166],"(",["T_VARIABLE","$value",166],"[",["T_CONSTANT_ENCAPSED_STRING","'from'",166],"]",")",["T_WHITESPACE"," ",166],["T_BOOLEAN_AND","&&",166],["T_WHITESPACE"," ",166],["T_EMPTY","empty",166],"(",["T_VARIABLE","$value",166],"[",["T_CONSTANT_ENCAPSED_STRING","'to'",166],"]",")",")",["T_WHITESPACE"," ",166],"{",["T_WHITESPACE","\n                    ",166],["T_RETURN","return",167],["T_WHITESPACE"," ",167],["T_STRING","false",167],";",["T_WHITESPACE","\n                ",167],"}",["T_WHITESPACE","\n            ",168],"}",["T_WHITESPACE","\n        ",169],"}",["T_WHITESPACE","\n\n        ",170],["T_VARIABLE","$select",172],["T_OBJECT_OPERATOR","->",172],["T_STRING","distinct",172],"(",["T_STRING","true",172],")",";",["T_WHITESPACE","\n        ",172],["T_VARIABLE","$select",173],["T_OBJECT_OPERATOR","->",173],["T_STRING","join",173],"(",["T_WHITESPACE","\n            ",173],["T_ARRAY","array",174],"(",["T_VARIABLE","$tableAlias",174],["T_WHITESPACE"," ",174],["T_DOUBLE_ARROW","=>",174],["T_WHITESPACE"," ",174],["T_VARIABLE","$table",174],")",",",["T_WHITESPACE","\n            ",174],"\"",["T_ENCAPSED_AND_WHITESPACE","e.entity_id=",175],["T_CURLY_OPEN","{",175],["T_VARIABLE","$tableAlias",175],"}",["T_ENCAPSED_AND_WHITESPACE",".entity_id ",175],"\"",["T_WHITESPACE","\n                ",175],".",["T_WHITESPACE"," ",176],"\"",["T_ENCAPSED_AND_WHITESPACE"," AND ",176],["T_CURLY_OPEN","{",176],["T_VARIABLE","$tableAlias",176],"}",["T_ENCAPSED_AND_WHITESPACE",".attribute_id=",176],["T_CURLY_OPEN","{",176],["T_VARIABLE","$attribute",176],["T_OBJECT_OPERATOR","->",176],["T_STRING","getAttributeId",176],"(",")","}","\"",["T_WHITESPACE","\n                ",176],".",["T_WHITESPACE"," ",177],"\"",["T_ENCAPSED_AND_WHITESPACE"," AND ",177],["T_CURLY_OPEN","{",177],["T_VARIABLE","$tableAlias",177],"}",["T_ENCAPSED_AND_WHITESPACE",".store_id=",177],["T_CURLY_OPEN","{",177],["T_VARIABLE","$storeId",177],"}","\"",",",["T_WHITESPACE","\n            ",177],["T_ARRAY","array",178],"(",")",["T_WHITESPACE","\n        ",178],")",";",["T_WHITESPACE","\n\n        ",179],["T_IF","if",181],["T_WHITESPACE"," ",181],"(",["T_STRING","is_array",181],"(",["T_VARIABLE","$value",181],")",["T_WHITESPACE"," ",181],["T_BOOLEAN_AND","&&",181],["T_WHITESPACE"," ",181],"(",["T_ISSET","isset",181],"(",["T_VARIABLE","$value",181],"[",["T_CONSTANT_ENCAPSED_STRING","'from'",181],"]",")",["T_WHITESPACE"," ",181],["T_BOOLEAN_OR","||",181],["T_WHITESPACE"," ",181],["T_ISSET","isset",181],"(",["T_VARIABLE","$value",181],"[",["T_CONSTANT_ENCAPSED_STRING","'to'",181],"]",")",")",")",["T_WHITESPACE"," ",181],"{",["T_WHITESPACE","\n            ",181],["T_IF","if",182],["T_WHITESPACE"," ",182],"(",["T_ISSET","isset",182],"(",["T_VARIABLE","$value",182],"[",["T_CONSTANT_ENCAPSED_STRING","'from'",182],"]",")",["T_WHITESPACE"," ",182],["T_BOOLEAN_AND","&&",182],["T_WHITESPACE"," ",182],"!",["T_EMPTY","empty",182],"(",["T_VARIABLE","$value",182],"[",["T_CONSTANT_ENCAPSED_STRING","'from'",182],"]",")",")",["T_WHITESPACE"," ",182],"{",["T_WHITESPACE","\n                ",182],["T_VARIABLE","$select",183],["T_OBJECT_OPERATOR","->",183],["T_STRING","where",183],"(","\"",["T_CURLY_OPEN","{",183],["T_VARIABLE","$tableAlias",183],"}",["T_ENCAPSED_AND_WHITESPACE",".value >= ?",183],"\"",",",["T_WHITESPACE"," ",183],["T_VARIABLE","$value",183],"[",["T_CONSTANT_ENCAPSED_STRING","'from'",183],"]",")",";",["T_WHITESPACE","\n            ",183],"}",["T_WHITESPACE","\n            ",184],["T_IF","if",185],["T_WHITESPACE"," ",185],"(",["T_ISSET","isset",185],"(",["T_VARIABLE","$value",185],"[",["T_CONSTANT_ENCAPSED_STRING","'to'",185],"]",")",["T_WHITESPACE"," ",185],["T_BOOLEAN_AND","&&",185],["T_WHITESPACE"," ",185],"!",["T_EMPTY","empty",185],"(",["T_VARIABLE","$value",185],"[",["T_CONSTANT_ENCAPSED_STRING","'to'",185],"]",")",")",["T_WHITESPACE"," ",185],"{",["T_WHITESPACE","\n                ",185],["T_VARIABLE","$select",186],["T_OBJECT_OPERATOR","->",186],["T_STRING","where",186],"(","\"",["T_CURLY_OPEN","{",186],["T_VARIABLE","$tableAlias",186],"}",["T_ENCAPSED_AND_WHITESPACE",".value <= ?",186],"\"",",",["T_WHITESPACE"," ",186],["T_VARIABLE","$value",186],"[",["T_CONSTANT_ENCAPSED_STRING","'to'",186],"]",")",";",["T_WHITESPACE","\n            ",186],"}",["T_WHITESPACE","\n            ",187],["T_RETURN","return",188],["T_WHITESPACE"," ",188],["T_STRING","true",188],";",["T_WHITESPACE","\n        ",188],"}",["T_WHITESPACE","\n\n        ",189],["T_VARIABLE","$select",191],["T_OBJECT_OPERATOR","->",191],["T_STRING","where",191],"(","\"",["T_CURLY_OPEN","{",191],["T_VARIABLE","$tableAlias",191],"}",["T_ENCAPSED_AND_WHITESPACE",".value IN(?)",191],"\"",",",["T_WHITESPACE"," ",191],["T_VARIABLE","$value",191],")",";",["T_WHITESPACE","\n\n        ",191],["T_RETURN","return",193],["T_WHITESPACE"," ",193],["T_STRING","true",193],";",["T_WHITESPACE","\n    ",193],"}",["T_WHITESPACE","\n",194],"}",["T_WHITESPACE","\n",195]]