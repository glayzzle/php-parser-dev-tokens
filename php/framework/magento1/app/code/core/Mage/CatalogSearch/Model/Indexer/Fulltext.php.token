[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Magento\n *\n * NOTICE OF LICENSE\n *\n * This source file is subject to the Open Software License (OSL 3.0)\n * that is bundled with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/opensource.org\/licenses\/osl-3.0.php\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@magento.com so we can send you a copy immediately.\n *\n * DISCLAIMER\n *\n * Do not edit or add to this file if you wish to upgrade Magento to newer\n * versions in the future. If you wish to customize Magento for your\n * needs please refer to http:\/\/www.magento.com for more information.\n *\n * @category    Mage\n * @package     Mage_CatalogSearch\n * @copyright  Copyright (c) 2006-2016 X.commerce, Inc. and affiliates (http:\/\/www.magento.com)\n * @license    http:\/\/opensource.org\/licenses\/osl-3.0.php  Open Software License (OSL 3.0)\n *\/",2],["T_WHITESPACE","\n\n\n",25],["T_DOC_COMMENT","\/**\n * CatalogSearch fulltext indexer model\n *\n * @category    Mage\n * @package     Mage_CatalogSearch\n * @author      Magento Core Team <core@magentocommerce.com>\n *\/",28],["T_WHITESPACE","\n",34],["T_CLASS","class",35],["T_WHITESPACE"," ",35],["T_STRING","Mage_CatalogSearch_Model_Indexer_Fulltext",35],["T_WHITESPACE"," ",35],["T_EXTENDS","extends",35],["T_WHITESPACE"," ",35],["T_STRING","Mage_Index_Model_Indexer_Abstract",35],["T_WHITESPACE","\n",35],"{",["T_WHITESPACE","\n    ",36],["T_DOC_COMMENT","\/**\n     * Data key for matching result to be saved in\n     *\/",37],["T_WHITESPACE","\n    ",39],["T_CONST","const",40],["T_WHITESPACE"," ",40],["T_STRING","EVENT_MATCH_RESULT_KEY",40],["T_WHITESPACE"," ",40],"=",["T_WHITESPACE"," ",40],["T_CONSTANT_ENCAPSED_STRING","'catalogsearch_fulltext_match_result'",40],";",["T_WHITESPACE","\n\n    ",40],["T_DOC_COMMENT","\/**\n     * List of searchable attributes\n     *\n     * @var null|array\n     *\/",42],["T_WHITESPACE","\n    ",46],["T_PROTECTED","protected",47],["T_WHITESPACE"," ",47],["T_VARIABLE","$_searchableAttributes",47],["T_WHITESPACE"," ",47],"=",["T_WHITESPACE"," ",47],["T_STRING","null",47],";",["T_WHITESPACE","\n\n    ",47],["T_DOC_COMMENT","\/**\n     * Retrieve resource instance\n     *\n     * @return Mage_CatalogSearch_Model_Resource_Indexer_Fulltext\n     *\/",49],["T_WHITESPACE","\n    ",53],["T_PROTECTED","protected",54],["T_WHITESPACE"," ",54],["T_FUNCTION","function",54],["T_WHITESPACE"," ",54],["T_STRING","_getResource",54],"(",")",["T_WHITESPACE","\n    ",54],"{",["T_WHITESPACE","\n        ",55],["T_RETURN","return",56],["T_WHITESPACE"," ",56],["T_STRING","Mage",56],["T_DOUBLE_COLON","::",56],["T_STRING","getResourceSingleton",56],"(",["T_CONSTANT_ENCAPSED_STRING","'catalogsearch\/indexer_fulltext'",56],")",";",["T_WHITESPACE","\n    ",56],"}",["T_WHITESPACE","\n\n    ",57],["T_DOC_COMMENT","\/**\n     * Indexer must be match entities\n     *\n     * @var array\n     *\/",59],["T_WHITESPACE","\n    ",63],["T_PROTECTED","protected",64],["T_WHITESPACE"," ",64],["T_VARIABLE","$_matchedEntities",64],["T_WHITESPACE"," ",64],"=",["T_WHITESPACE"," ",64],["T_ARRAY","array",64],"(",["T_WHITESPACE","\n        ",64],["T_STRING","Mage_Catalog_Model_Product",65],["T_DOUBLE_COLON","::",65],["T_STRING","ENTITY",65],["T_WHITESPACE"," ",65],["T_DOUBLE_ARROW","=>",65],["T_WHITESPACE"," ",65],["T_ARRAY","array",65],"(",["T_WHITESPACE","\n            ",65],["T_STRING","Mage_Index_Model_Event",66],["T_DOUBLE_COLON","::",66],["T_STRING","TYPE_SAVE",66],",",["T_WHITESPACE","\n            ",66],["T_STRING","Mage_Index_Model_Event",67],["T_DOUBLE_COLON","::",67],["T_STRING","TYPE_MASS_ACTION",67],",",["T_WHITESPACE","\n            ",67],["T_STRING","Mage_Index_Model_Event",68],["T_DOUBLE_COLON","::",68],["T_STRING","TYPE_DELETE",68],["T_WHITESPACE","\n        ",68],")",",",["T_WHITESPACE","\n        ",69],["T_STRING","Mage_Catalog_Model_Resource_Eav_Attribute",70],["T_DOUBLE_COLON","::",70],["T_STRING","ENTITY",70],["T_WHITESPACE"," ",70],["T_DOUBLE_ARROW","=>",70],["T_WHITESPACE"," ",70],["T_ARRAY","array",70],"(",["T_WHITESPACE","\n            ",70],["T_STRING","Mage_Index_Model_Event",71],["T_DOUBLE_COLON","::",71],["T_STRING","TYPE_SAVE",71],",",["T_WHITESPACE","\n            ",71],["T_STRING","Mage_Index_Model_Event",72],["T_DOUBLE_COLON","::",72],["T_STRING","TYPE_DELETE",72],",",["T_WHITESPACE","\n        ",72],")",",",["T_WHITESPACE","\n        ",73],["T_STRING","Mage_Core_Model_Store",74],["T_DOUBLE_COLON","::",74],["T_STRING","ENTITY",74],["T_WHITESPACE"," ",74],["T_DOUBLE_ARROW","=>",74],["T_WHITESPACE"," ",74],["T_ARRAY","array",74],"(",["T_WHITESPACE","\n            ",74],["T_STRING","Mage_Index_Model_Event",75],["T_DOUBLE_COLON","::",75],["T_STRING","TYPE_SAVE",75],",",["T_WHITESPACE","\n            ",75],["T_STRING","Mage_Index_Model_Event",76],["T_DOUBLE_COLON","::",76],["T_STRING","TYPE_DELETE",76],["T_WHITESPACE","\n        ",76],")",",",["T_WHITESPACE","\n        ",77],["T_STRING","Mage_Core_Model_Store_Group",78],["T_DOUBLE_COLON","::",78],["T_STRING","ENTITY",78],["T_WHITESPACE"," ",78],["T_DOUBLE_ARROW","=>",78],["T_WHITESPACE"," ",78],["T_ARRAY","array",78],"(",["T_WHITESPACE","\n            ",78],["T_STRING","Mage_Index_Model_Event",79],["T_DOUBLE_COLON","::",79],["T_STRING","TYPE_SAVE",79],["T_WHITESPACE","\n        ",79],")",",",["T_WHITESPACE","\n        ",80],["T_STRING","Mage_Core_Model_Config_Data",81],["T_DOUBLE_COLON","::",81],["T_STRING","ENTITY",81],["T_WHITESPACE"," ",81],["T_DOUBLE_ARROW","=>",81],["T_WHITESPACE"," ",81],["T_ARRAY","array",81],"(",["T_WHITESPACE","\n            ",81],["T_STRING","Mage_Index_Model_Event",82],["T_DOUBLE_COLON","::",82],["T_STRING","TYPE_SAVE",82],["T_WHITESPACE","\n        ",82],")",",",["T_WHITESPACE","\n        ",83],["T_STRING","Mage_Catalog_Model_Convert_Adapter_Product",84],["T_DOUBLE_COLON","::",84],["T_STRING","ENTITY",84],["T_WHITESPACE"," ",84],["T_DOUBLE_ARROW","=>",84],["T_WHITESPACE"," ",84],["T_ARRAY","array",84],"(",["T_WHITESPACE","\n            ",84],["T_STRING","Mage_Index_Model_Event",85],["T_DOUBLE_COLON","::",85],["T_STRING","TYPE_SAVE",85],["T_WHITESPACE","\n        ",85],")",",",["T_WHITESPACE","\n        ",86],["T_STRING","Mage_Catalog_Model_Category",87],["T_DOUBLE_COLON","::",87],["T_STRING","ENTITY",87],["T_WHITESPACE"," ",87],["T_DOUBLE_ARROW","=>",87],["T_WHITESPACE"," ",87],["T_ARRAY","array",87],"(",["T_WHITESPACE","\n            ",87],["T_STRING","Mage_Index_Model_Event",88],["T_DOUBLE_COLON","::",88],["T_STRING","TYPE_SAVE",88],["T_WHITESPACE","\n        ",88],")",["T_WHITESPACE","\n    ",89],")",";",["T_WHITESPACE","\n\n    ",90],["T_DOC_COMMENT","\/**\n     * Related Configuration Settings for match\n     *\n     * @var array\n     *\/",92],["T_WHITESPACE","\n    ",96],["T_PROTECTED","protected",97],["T_WHITESPACE"," ",97],["T_VARIABLE","$_relatedConfigSettings",97],["T_WHITESPACE"," ",97],"=",["T_WHITESPACE"," ",97],["T_ARRAY","array",97],"(",["T_WHITESPACE","\n        ",97],["T_STRING","Mage_CatalogSearch_Model_Fulltext",98],["T_DOUBLE_COLON","::",98],["T_STRING","XML_PATH_CATALOG_SEARCH_TYPE",98],["T_WHITESPACE","\n    ",98],")",";",["T_WHITESPACE","\n\n    ",99],["T_DOC_COMMENT","\/**\n     * Retrieve Fulltext Search instance\n     *\n     * @return Mage_CatalogSearch_Model_Fulltext\n     *\/",101],["T_WHITESPACE","\n    ",105],["T_PROTECTED","protected",106],["T_WHITESPACE"," ",106],["T_FUNCTION","function",106],["T_WHITESPACE"," ",106],["T_STRING","_getIndexer",106],"(",")",["T_WHITESPACE","\n    ",106],"{",["T_WHITESPACE","\n        ",107],["T_RETURN","return",108],["T_WHITESPACE"," ",108],["T_STRING","Mage",108],["T_DOUBLE_COLON","::",108],["T_STRING","getSingleton",108],"(",["T_CONSTANT_ENCAPSED_STRING","'catalogsearch\/fulltext'",108],")",";",["T_WHITESPACE","\n    ",108],"}",["T_WHITESPACE","\n\n    ",109],["T_DOC_COMMENT","\/**\n     * Retrieve Indexer name\n     *\n     * @return string\n     *\/",111],["T_WHITESPACE","\n    ",115],["T_PUBLIC","public",116],["T_WHITESPACE"," ",116],["T_FUNCTION","function",116],["T_WHITESPACE"," ",116],["T_STRING","getName",116],"(",")",["T_WHITESPACE","\n    ",116],"{",["T_WHITESPACE","\n        ",117],["T_RETURN","return",118],["T_WHITESPACE"," ",118],["T_STRING","Mage",118],["T_DOUBLE_COLON","::",118],["T_STRING","helper",118],"(",["T_CONSTANT_ENCAPSED_STRING","'catalogsearch'",118],")",["T_OBJECT_OPERATOR","->",118],["T_STRING","__",118],"(",["T_CONSTANT_ENCAPSED_STRING","'Catalog Search Index'",118],")",";",["T_WHITESPACE","\n    ",118],"}",["T_WHITESPACE","\n\n    ",119],["T_DOC_COMMENT","\/**\n     * Retrieve Indexer description\n     *\n     * @return string\n     *\/",121],["T_WHITESPACE","\n    ",125],["T_PUBLIC","public",126],["T_WHITESPACE"," ",126],["T_FUNCTION","function",126],["T_WHITESPACE"," ",126],["T_STRING","getDescription",126],"(",")",["T_WHITESPACE","\n    ",126],"{",["T_WHITESPACE","\n        ",127],["T_RETURN","return",128],["T_WHITESPACE"," ",128],["T_STRING","Mage",128],["T_DOUBLE_COLON","::",128],["T_STRING","helper",128],"(",["T_CONSTANT_ENCAPSED_STRING","'catalogsearch'",128],")",["T_OBJECT_OPERATOR","->",128],["T_STRING","__",128],"(",["T_CONSTANT_ENCAPSED_STRING","'Rebuild Catalog product fulltext search index'",128],")",";",["T_WHITESPACE","\n    ",128],"}",["T_WHITESPACE","\n\n    ",129],["T_DOC_COMMENT","\/**\n     * Check if event can be matched by process\n     * Overwrote for check is flat catalog product is enabled and specific save\n     * attribute, store, store_group\n     *\n     * @param Mage_Index_Model_Event $event\n     * @return bool\n     *\/",131],["T_WHITESPACE","\n    ",138],["T_PUBLIC","public",139],["T_WHITESPACE"," ",139],["T_FUNCTION","function",139],["T_WHITESPACE"," ",139],["T_STRING","matchEvent",139],"(",["T_STRING","Mage_Index_Model_Event",139],["T_WHITESPACE"," ",139],["T_VARIABLE","$event",139],")",["T_WHITESPACE","\n    ",139],"{",["T_WHITESPACE","\n        ",140],["T_VARIABLE","$data",141],["T_WHITESPACE","       ",141],"=",["T_WHITESPACE"," ",141],["T_VARIABLE","$event",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","getNewData",141],"(",")",";",["T_WHITESPACE","\n        ",141],["T_IF","if",142],["T_WHITESPACE"," ",142],"(",["T_ISSET","isset",142],"(",["T_VARIABLE","$data",142],"[",["T_STRING","self",142],["T_DOUBLE_COLON","::",142],["T_STRING","EVENT_MATCH_RESULT_KEY",142],"]",")",")",["T_WHITESPACE"," ",142],"{",["T_WHITESPACE","\n            ",142],["T_RETURN","return",143],["T_WHITESPACE"," ",143],["T_VARIABLE","$data",143],"[",["T_STRING","self",143],["T_DOUBLE_COLON","::",143],["T_STRING","EVENT_MATCH_RESULT_KEY",143],"]",";",["T_WHITESPACE","\n        ",143],"}",["T_WHITESPACE","\n\n        ",144],["T_VARIABLE","$entity",146],["T_WHITESPACE"," ",146],"=",["T_WHITESPACE"," ",146],["T_VARIABLE","$event",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","getEntity",146],"(",")",";",["T_WHITESPACE","\n        ",146],["T_IF","if",147],["T_WHITESPACE"," ",147],"(",["T_VARIABLE","$entity",147],["T_WHITESPACE"," ",147],["T_IS_EQUAL","==",147],["T_WHITESPACE"," ",147],["T_STRING","Mage_Catalog_Model_Resource_Eav_Attribute",147],["T_DOUBLE_COLON","::",147],["T_STRING","ENTITY",147],")",["T_WHITESPACE"," ",147],"{",["T_WHITESPACE","\n            ",147],["T_COMMENT","\/* @var $attribute Mage_Catalog_Model_Resource_Eav_Attribute *\/",148],["T_WHITESPACE","\n            ",148],["T_VARIABLE","$attribute",149],["T_WHITESPACE","      ",149],"=",["T_WHITESPACE"," ",149],["T_VARIABLE","$event",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","getDataObject",149],"(",")",";",["T_WHITESPACE","\n\n            ",149],["T_IF","if",151],["T_WHITESPACE"," ",151],"(","!",["T_VARIABLE","$attribute",151],")",["T_WHITESPACE"," ",151],"{",["T_WHITESPACE","\n                ",151],["T_VARIABLE","$result",152],["T_WHITESPACE"," ",152],"=",["T_WHITESPACE"," ",152],["T_STRING","false",152],";",["T_WHITESPACE","\n            ",152],"}",["T_WHITESPACE"," ",153],["T_ELSEIF","elseif",153],["T_WHITESPACE"," ",153],"(",["T_VARIABLE","$event",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","getType",153],"(",")",["T_WHITESPACE"," ",153],["T_IS_EQUAL","==",153],["T_WHITESPACE"," ",153],["T_STRING","Mage_Index_Model_Event",153],["T_DOUBLE_COLON","::",153],["T_STRING","TYPE_SAVE",153],")",["T_WHITESPACE"," ",153],"{",["T_WHITESPACE","\n                ",153],["T_VARIABLE","$result",154],["T_WHITESPACE"," ",154],"=",["T_WHITESPACE"," ",154],["T_VARIABLE","$attribute",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","dataHasChangedFor",154],"(",["T_CONSTANT_ENCAPSED_STRING","'is_searchable'",154],")",";",["T_WHITESPACE","\n            ",154],"}",["T_WHITESPACE"," ",155],["T_ELSEIF","elseif",155],["T_WHITESPACE"," ",155],"(",["T_VARIABLE","$event",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","getType",155],"(",")",["T_WHITESPACE"," ",155],["T_IS_EQUAL","==",155],["T_WHITESPACE"," ",155],["T_STRING","Mage_Index_Model_Event",155],["T_DOUBLE_COLON","::",155],["T_STRING","TYPE_DELETE",155],")",["T_WHITESPACE"," ",155],"{",["T_WHITESPACE","\n                ",155],["T_VARIABLE","$result",156],["T_WHITESPACE"," ",156],"=",["T_WHITESPACE"," ",156],["T_VARIABLE","$attribute",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","getIsSearchable",156],"(",")",";",["T_WHITESPACE","\n            ",156],"}",["T_WHITESPACE"," ",157],["T_ELSE","else",157],["T_WHITESPACE"," ",157],"{",["T_WHITESPACE","\n                ",157],["T_VARIABLE","$result",158],["T_WHITESPACE"," ",158],"=",["T_WHITESPACE"," ",158],["T_STRING","false",158],";",["T_WHITESPACE","\n            ",158],"}",["T_WHITESPACE","\n        ",159],"}",["T_WHITESPACE"," ",160],["T_ELSE","else",160],["T_WHITESPACE"," ",160],["T_IF","if",160],["T_WHITESPACE"," ",160],"(",["T_VARIABLE","$entity",160],["T_WHITESPACE"," ",160],["T_IS_EQUAL","==",160],["T_WHITESPACE"," ",160],["T_STRING","Mage_Core_Model_Store",160],["T_DOUBLE_COLON","::",160],["T_STRING","ENTITY",160],")",["T_WHITESPACE"," ",160],"{",["T_WHITESPACE","\n            ",160],["T_IF","if",161],["T_WHITESPACE"," ",161],"(",["T_VARIABLE","$event",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","getType",161],"(",")",["T_WHITESPACE"," ",161],["T_IS_EQUAL","==",161],["T_WHITESPACE"," ",161],["T_STRING","Mage_Index_Model_Event",161],["T_DOUBLE_COLON","::",161],["T_STRING","TYPE_DELETE",161],")",["T_WHITESPACE"," ",161],"{",["T_WHITESPACE","\n                ",161],["T_VARIABLE","$result",162],["T_WHITESPACE"," ",162],"=",["T_WHITESPACE"," ",162],["T_STRING","true",162],";",["T_WHITESPACE","\n            ",162],"}",["T_WHITESPACE"," ",163],["T_ELSE","else",163],["T_WHITESPACE"," ",163],"{",["T_WHITESPACE","\n                ",163],["T_COMMENT","\/* @var $store Mage_Core_Model_Store *\/",164],["T_WHITESPACE","\n                ",164],["T_VARIABLE","$store",165],["T_WHITESPACE"," ",165],"=",["T_WHITESPACE"," ",165],["T_VARIABLE","$event",165],["T_OBJECT_OPERATOR","->",165],["T_STRING","getDataObject",165],"(",")",";",["T_WHITESPACE","\n                ",165],["T_IF","if",166],["T_WHITESPACE"," ",166],"(",["T_VARIABLE","$store",166],["T_WHITESPACE"," ",166],["T_BOOLEAN_AND","&&",166],["T_WHITESPACE"," ",166],["T_VARIABLE","$store",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","isObjectNew",166],"(",")",")",["T_WHITESPACE"," ",166],"{",["T_WHITESPACE","\n                    ",166],["T_VARIABLE","$result",167],["T_WHITESPACE"," ",167],"=",["T_WHITESPACE"," ",167],["T_STRING","true",167],";",["T_WHITESPACE","\n                ",167],"}",["T_WHITESPACE"," ",168],["T_ELSE","else",168],["T_WHITESPACE"," ",168],"{",["T_WHITESPACE","\n                    ",168],["T_VARIABLE","$result",169],["T_WHITESPACE"," ",169],"=",["T_WHITESPACE"," ",169],["T_STRING","false",169],";",["T_WHITESPACE","\n                ",169],"}",["T_WHITESPACE","\n            ",170],"}",["T_WHITESPACE","\n        ",171],"}",["T_WHITESPACE"," ",172],["T_ELSE","else",172],["T_WHITESPACE"," ",172],["T_IF","if",172],["T_WHITESPACE"," ",172],"(",["T_VARIABLE","$entity",172],["T_WHITESPACE"," ",172],["T_IS_EQUAL","==",172],["T_WHITESPACE"," ",172],["T_STRING","Mage_Core_Model_Store_Group",172],["T_DOUBLE_COLON","::",172],["T_STRING","ENTITY",172],")",["T_WHITESPACE"," ",172],"{",["T_WHITESPACE","\n            ",172],["T_COMMENT","\/* @var $storeGroup Mage_Core_Model_Store_Group *\/",173],["T_WHITESPACE","\n            ",173],["T_VARIABLE","$storeGroup",174],["T_WHITESPACE"," ",174],"=",["T_WHITESPACE"," ",174],["T_VARIABLE","$event",174],["T_OBJECT_OPERATOR","->",174],["T_STRING","getDataObject",174],"(",")",";",["T_WHITESPACE","\n            ",174],["T_IF","if",175],["T_WHITESPACE"," ",175],"(",["T_VARIABLE","$storeGroup",175],["T_WHITESPACE"," ",175],["T_BOOLEAN_AND","&&",175],["T_WHITESPACE"," ",175],["T_VARIABLE","$storeGroup",175],["T_OBJECT_OPERATOR","->",175],["T_STRING","dataHasChangedFor",175],"(",["T_CONSTANT_ENCAPSED_STRING","'website_id'",175],")",")",["T_WHITESPACE"," ",175],"{",["T_WHITESPACE","\n                ",175],["T_VARIABLE","$result",176],["T_WHITESPACE"," ",176],"=",["T_WHITESPACE"," ",176],["T_STRING","true",176],";",["T_WHITESPACE","\n            ",176],"}",["T_WHITESPACE"," ",177],["T_ELSE","else",177],["T_WHITESPACE"," ",177],"{",["T_WHITESPACE","\n                ",177],["T_VARIABLE","$result",178],["T_WHITESPACE"," ",178],"=",["T_WHITESPACE"," ",178],["T_STRING","false",178],";",["T_WHITESPACE","\n            ",178],"}",["T_WHITESPACE","\n        ",179],"}",["T_WHITESPACE"," ",180],["T_ELSE","else",180],["T_WHITESPACE"," ",180],["T_IF","if",180],["T_WHITESPACE"," ",180],"(",["T_VARIABLE","$entity",180],["T_WHITESPACE"," ",180],["T_IS_EQUAL","==",180],["T_WHITESPACE"," ",180],["T_STRING","Mage_Core_Model_Config_Data",180],["T_DOUBLE_COLON","::",180],["T_STRING","ENTITY",180],")",["T_WHITESPACE"," ",180],"{",["T_WHITESPACE","\n            ",180],["T_VARIABLE","$data",181],["T_WHITESPACE"," ",181],"=",["T_WHITESPACE"," ",181],["T_VARIABLE","$event",181],["T_OBJECT_OPERATOR","->",181],["T_STRING","getDataObject",181],"(",")",";",["T_WHITESPACE","\n            ",181],["T_IF","if",182],["T_WHITESPACE"," ",182],"(",["T_VARIABLE","$data",182],["T_WHITESPACE"," ",182],["T_BOOLEAN_AND","&&",182],["T_WHITESPACE"," ",182],["T_STRING","in_array",182],"(",["T_VARIABLE","$data",182],["T_OBJECT_OPERATOR","->",182],["T_STRING","getPath",182],"(",")",",",["T_WHITESPACE"," ",182],["T_VARIABLE","$this",182],["T_OBJECT_OPERATOR","->",182],["T_STRING","_relatedConfigSettings",182],")",")",["T_WHITESPACE"," ",182],"{",["T_WHITESPACE","\n                ",182],["T_VARIABLE","$result",183],["T_WHITESPACE"," ",183],"=",["T_WHITESPACE"," ",183],["T_VARIABLE","$data",183],["T_OBJECT_OPERATOR","->",183],["T_STRING","isValueChanged",183],"(",")",";",["T_WHITESPACE","\n            ",183],"}",["T_WHITESPACE"," ",184],["T_ELSE","else",184],["T_WHITESPACE"," ",184],"{",["T_WHITESPACE","\n                ",184],["T_VARIABLE","$result",185],["T_WHITESPACE"," ",185],"=",["T_WHITESPACE"," ",185],["T_STRING","false",185],";",["T_WHITESPACE","\n            ",185],"}",["T_WHITESPACE","\n        ",186],"}",["T_WHITESPACE"," ",187],["T_ELSE","else",187],["T_WHITESPACE"," ",187],"{",["T_WHITESPACE","\n            ",187],["T_VARIABLE","$result",188],["T_WHITESPACE"," ",188],"=",["T_WHITESPACE"," ",188],["T_STRING","parent",188],["T_DOUBLE_COLON","::",188],["T_STRING","matchEvent",188],"(",["T_VARIABLE","$event",188],")",";",["T_WHITESPACE","\n        ",188],"}",["T_WHITESPACE","\n\n        ",189],["T_VARIABLE","$event",191],["T_OBJECT_OPERATOR","->",191],["T_STRING","addNewData",191],"(",["T_STRING","self",191],["T_DOUBLE_COLON","::",191],["T_STRING","EVENT_MATCH_RESULT_KEY",191],",",["T_WHITESPACE"," ",191],["T_VARIABLE","$result",191],")",";",["T_WHITESPACE","\n\n        ",191],["T_RETURN","return",193],["T_WHITESPACE"," ",193],["T_VARIABLE","$result",193],";",["T_WHITESPACE","\n    ",193],"}",["T_WHITESPACE","\n\n    ",194],["T_DOC_COMMENT","\/**\n     * Register data required by process in event object\n     *\n     * @param Mage_Index_Model_Event $event\n     *\/",196],["T_WHITESPACE","\n    ",200],["T_PROTECTED","protected",201],["T_WHITESPACE"," ",201],["T_FUNCTION","function",201],["T_WHITESPACE"," ",201],["T_STRING","_registerEvent",201],"(",["T_STRING","Mage_Index_Model_Event",201],["T_WHITESPACE"," ",201],["T_VARIABLE","$event",201],")",["T_WHITESPACE","\n    ",201],"{",["T_WHITESPACE","\n        ",202],["T_VARIABLE","$event",203],["T_OBJECT_OPERATOR","->",203],["T_STRING","addNewData",203],"(",["T_STRING","self",203],["T_DOUBLE_COLON","::",203],["T_STRING","EVENT_MATCH_RESULT_KEY",203],",",["T_WHITESPACE"," ",203],["T_STRING","true",203],")",";",["T_WHITESPACE","\n        ",203],["T_SWITCH","switch",204],["T_WHITESPACE"," ",204],"(",["T_VARIABLE","$event",204],["T_OBJECT_OPERATOR","->",204],["T_STRING","getEntity",204],"(",")",")",["T_WHITESPACE"," ",204],"{",["T_WHITESPACE","\n            ",204],["T_CASE","case",205],["T_WHITESPACE"," ",205],["T_STRING","Mage_Catalog_Model_Product",205],["T_DOUBLE_COLON","::",205],["T_STRING","ENTITY",205],":",["T_WHITESPACE","\n                ",205],["T_VARIABLE","$this",206],["T_OBJECT_OPERATOR","->",206],["T_STRING","_registerCatalogProductEvent",206],"(",["T_VARIABLE","$event",206],")",";",["T_WHITESPACE","\n                ",206],["T_BREAK","break",207],";",["T_WHITESPACE","\n\n            ",207],["T_CASE","case",209],["T_WHITESPACE"," ",209],["T_STRING","Mage_Catalog_Model_Convert_Adapter_Product",209],["T_DOUBLE_COLON","::",209],["T_STRING","ENTITY",209],":",["T_WHITESPACE","\n                ",209],["T_VARIABLE","$event",210],["T_OBJECT_OPERATOR","->",210],["T_STRING","addNewData",210],"(",["T_CONSTANT_ENCAPSED_STRING","'catalogsearch_fulltext_reindex_all'",210],",",["T_WHITESPACE"," ",210],["T_STRING","true",210],")",";",["T_WHITESPACE","\n                ",210],["T_BREAK","break",211],";",["T_WHITESPACE","\n\n            ",211],["T_CASE","case",213],["T_WHITESPACE"," ",213],["T_STRING","Mage_Core_Model_Config_Data",213],["T_DOUBLE_COLON","::",213],["T_STRING","ENTITY",213],":",["T_WHITESPACE","\n            ",213],["T_CASE","case",214],["T_WHITESPACE"," ",214],["T_STRING","Mage_Core_Model_Store",214],["T_DOUBLE_COLON","::",214],["T_STRING","ENTITY",214],":",["T_WHITESPACE","\n            ",214],["T_CASE","case",215],["T_WHITESPACE"," ",215],["T_STRING","Mage_Catalog_Model_Resource_Eav_Attribute",215],["T_DOUBLE_COLON","::",215],["T_STRING","ENTITY",215],":",["T_WHITESPACE","\n            ",215],["T_CASE","case",216],["T_WHITESPACE"," ",216],["T_STRING","Mage_Core_Model_Store_Group",216],["T_DOUBLE_COLON","::",216],["T_STRING","ENTITY",216],":",["T_WHITESPACE","\n                ",216],["T_VARIABLE","$event",217],["T_OBJECT_OPERATOR","->",217],["T_STRING","addNewData",217],"(",["T_CONSTANT_ENCAPSED_STRING","'catalogsearch_fulltext_skip_call_event_handler'",217],",",["T_WHITESPACE"," ",217],["T_STRING","true",217],")",";",["T_WHITESPACE","\n                ",217],["T_VARIABLE","$process",218],["T_WHITESPACE"," ",218],"=",["T_WHITESPACE"," ",218],["T_VARIABLE","$event",218],["T_OBJECT_OPERATOR","->",218],["T_STRING","getProcess",218],"(",")",";",["T_WHITESPACE","\n                ",218],["T_VARIABLE","$process",219],["T_OBJECT_OPERATOR","->",219],["T_STRING","changeStatus",219],"(",["T_STRING","Mage_Index_Model_Process",219],["T_DOUBLE_COLON","::",219],["T_STRING","STATUS_REQUIRE_REINDEX",219],")",";",["T_WHITESPACE","\n                ",219],["T_BREAK","break",220],";",["T_WHITESPACE","\n            ",220],["T_CASE","case",221],["T_WHITESPACE"," ",221],["T_STRING","Mage_Catalog_Model_Category",221],["T_DOUBLE_COLON","::",221],["T_STRING","ENTITY",221],":",["T_WHITESPACE","\n                ",221],["T_VARIABLE","$this",222],["T_OBJECT_OPERATOR","->",222],["T_STRING","_registerCatalogCategoryEvent",222],"(",["T_VARIABLE","$event",222],")",";",["T_WHITESPACE","\n                ",222],["T_BREAK","break",223],";",["T_WHITESPACE","\n        ",223],"}",["T_WHITESPACE","\n    ",224],"}",["T_WHITESPACE","\n\n    ",225],["T_DOC_COMMENT","\/**\n     * Get data required for category'es products reindex\n     *\n     * @param Mage_Index_Model_Event $event\n     * @return Mage_CatalogSearch_Model_Indexer_Search\n     *\/",227],["T_WHITESPACE","\n    ",232],["T_PROTECTED","protected",233],["T_WHITESPACE"," ",233],["T_FUNCTION","function",233],["T_WHITESPACE"," ",233],["T_STRING","_registerCatalogCategoryEvent",233],"(",["T_STRING","Mage_Index_Model_Event",233],["T_WHITESPACE"," ",233],["T_VARIABLE","$event",233],")",["T_WHITESPACE","\n    ",233],"{",["T_WHITESPACE","\n        ",234],["T_SWITCH","switch",235],["T_WHITESPACE"," ",235],"(",["T_VARIABLE","$event",235],["T_OBJECT_OPERATOR","->",235],["T_STRING","getType",235],"(",")",")",["T_WHITESPACE"," ",235],"{",["T_WHITESPACE","\n            ",235],["T_CASE","case",236],["T_WHITESPACE"," ",236],["T_STRING","Mage_Index_Model_Event",236],["T_DOUBLE_COLON","::",236],["T_STRING","TYPE_SAVE",236],":",["T_WHITESPACE","\n                ",236],["T_COMMENT","\/* @var $category Mage_Catalog_Model_Category *\/",237],["T_WHITESPACE","\n                ",237],["T_VARIABLE","$category",238],["T_WHITESPACE","   ",238],"=",["T_WHITESPACE"," ",238],["T_VARIABLE","$event",238],["T_OBJECT_OPERATOR","->",238],["T_STRING","getDataObject",238],"(",")",";",["T_WHITESPACE","\n                ",238],["T_VARIABLE","$productIds",239],["T_WHITESPACE"," ",239],"=",["T_WHITESPACE"," ",239],["T_VARIABLE","$category",239],["T_OBJECT_OPERATOR","->",239],["T_STRING","getAffectedProductIds",239],"(",")",";",["T_WHITESPACE","\n                ",239],["T_IF","if",240],["T_WHITESPACE"," ",240],"(",["T_VARIABLE","$productIds",240],")",["T_WHITESPACE"," ",240],"{",["T_WHITESPACE","\n                    ",240],["T_VARIABLE","$event",241],["T_OBJECT_OPERATOR","->",241],["T_STRING","addNewData",241],"(",["T_CONSTANT_ENCAPSED_STRING","'catalogsearch_category_update_product_ids'",241],",",["T_WHITESPACE"," ",241],["T_VARIABLE","$productIds",241],")",";",["T_WHITESPACE","\n                    ",241],["T_VARIABLE","$event",242],["T_OBJECT_OPERATOR","->",242],["T_STRING","addNewData",242],"(",["T_CONSTANT_ENCAPSED_STRING","'catalogsearch_category_update_category_ids'",242],",",["T_WHITESPACE"," ",242],["T_ARRAY","array",242],"(",["T_VARIABLE","$category",242],["T_OBJECT_OPERATOR","->",242],["T_STRING","getId",242],"(",")",")",")",";",["T_WHITESPACE","\n                ",242],"}",["T_WHITESPACE"," ",243],["T_ELSE","else",243],["T_WHITESPACE"," ",243],"{",["T_WHITESPACE","\n                    ",243],["T_VARIABLE","$movedCategoryId",244],["T_WHITESPACE"," ",244],"=",["T_WHITESPACE"," ",244],["T_VARIABLE","$category",244],["T_OBJECT_OPERATOR","->",244],["T_STRING","getMovedCategoryId",244],"(",")",";",["T_WHITESPACE","\n                    ",244],["T_IF","if",245],["T_WHITESPACE"," ",245],"(",["T_VARIABLE","$movedCategoryId",245],")",["T_WHITESPACE"," ",245],"{",["T_WHITESPACE","\n                        ",245],["T_VARIABLE","$event",246],["T_OBJECT_OPERATOR","->",246],["T_STRING","addNewData",246],"(",["T_CONSTANT_ENCAPSED_STRING","'catalogsearch_category_update_product_ids'",246],",",["T_WHITESPACE"," ",246],["T_ARRAY","array",246],"(",")",")",";",["T_WHITESPACE","\n                        ",246],["T_VARIABLE","$event",247],["T_OBJECT_OPERATOR","->",247],["T_STRING","addNewData",247],"(",["T_CONSTANT_ENCAPSED_STRING","'catalogsearch_category_update_category_ids'",247],",",["T_WHITESPACE"," ",247],["T_ARRAY","array",247],"(",["T_VARIABLE","$movedCategoryId",247],")",")",";",["T_WHITESPACE","\n                    ",247],"}",["T_WHITESPACE","\n                ",248],"}",["T_WHITESPACE","\n                ",249],["T_BREAK","break",250],";",["T_WHITESPACE","\n        ",250],"}",["T_WHITESPACE","\n\n        ",251],["T_RETURN","return",253],["T_WHITESPACE"," ",253],["T_VARIABLE","$this",253],";",["T_WHITESPACE","\n    ",253],"}",["T_WHITESPACE","\n\n    ",254],["T_DOC_COMMENT","\/**\n     * Register data required by catatalog product process in event object\n     *\n     * @param Mage_Index_Model_Event $event\n     * @return Mage_CatalogSearch_Model_Indexer_Search\n     *\/",256],["T_WHITESPACE","\n    ",261],["T_PROTECTED","protected",262],["T_WHITESPACE"," ",262],["T_FUNCTION","function",262],["T_WHITESPACE"," ",262],["T_STRING","_registerCatalogProductEvent",262],"(",["T_STRING","Mage_Index_Model_Event",262],["T_WHITESPACE"," ",262],["T_VARIABLE","$event",262],")",["T_WHITESPACE","\n    ",262],"{",["T_WHITESPACE","\n        ",263],["T_SWITCH","switch",264],["T_WHITESPACE"," ",264],"(",["T_VARIABLE","$event",264],["T_OBJECT_OPERATOR","->",264],["T_STRING","getType",264],"(",")",")",["T_WHITESPACE"," ",264],"{",["T_WHITESPACE","\n            ",264],["T_CASE","case",265],["T_WHITESPACE"," ",265],["T_STRING","Mage_Index_Model_Event",265],["T_DOUBLE_COLON","::",265],["T_STRING","TYPE_SAVE",265],":",["T_WHITESPACE","\n                ",265],["T_COMMENT","\/* @var $product Mage_Catalog_Model_Product *\/",266],["T_WHITESPACE","\n                ",266],["T_VARIABLE","$product",267],["T_WHITESPACE"," ",267],"=",["T_WHITESPACE"," ",267],["T_VARIABLE","$event",267],["T_OBJECT_OPERATOR","->",267],["T_STRING","getDataObject",267],"(",")",";",["T_WHITESPACE","\n\n                ",267],["T_VARIABLE","$event",269],["T_OBJECT_OPERATOR","->",269],["T_STRING","addNewData",269],"(",["T_CONSTANT_ENCAPSED_STRING","'catalogsearch_update_product_id'",269],",",["T_WHITESPACE"," ",269],["T_VARIABLE","$product",269],["T_OBJECT_OPERATOR","->",269],["T_STRING","getId",269],"(",")",")",";",["T_WHITESPACE","\n                ",269],["T_BREAK","break",270],";",["T_WHITESPACE","\n            ",270],["T_CASE","case",271],["T_WHITESPACE"," ",271],["T_STRING","Mage_Index_Model_Event",271],["T_DOUBLE_COLON","::",271],["T_STRING","TYPE_DELETE",271],":",["T_WHITESPACE","\n                ",271],["T_COMMENT","\/* @var $product Mage_Catalog_Model_Product *\/",272],["T_WHITESPACE","\n                ",272],["T_VARIABLE","$product",273],["T_WHITESPACE"," ",273],"=",["T_WHITESPACE"," ",273],["T_VARIABLE","$event",273],["T_OBJECT_OPERATOR","->",273],["T_STRING","getDataObject",273],"(",")",";",["T_WHITESPACE","\n\n                ",273],["T_VARIABLE","$event",275],["T_OBJECT_OPERATOR","->",275],["T_STRING","addNewData",275],"(",["T_CONSTANT_ENCAPSED_STRING","'catalogsearch_delete_product_id'",275],",",["T_WHITESPACE"," ",275],["T_VARIABLE","$product",275],["T_OBJECT_OPERATOR","->",275],["T_STRING","getId",275],"(",")",")",";",["T_WHITESPACE","\n                ",275],["T_BREAK","break",276],";",["T_WHITESPACE","\n            ",276],["T_CASE","case",277],["T_WHITESPACE"," ",277],["T_STRING","Mage_Index_Model_Event",277],["T_DOUBLE_COLON","::",277],["T_STRING","TYPE_MASS_ACTION",277],":",["T_WHITESPACE","\n                ",277],["T_COMMENT","\/* @var $actionObject Varien_Object *\/",278],["T_WHITESPACE","\n                ",278],["T_VARIABLE","$actionObject",279],["T_WHITESPACE"," ",279],"=",["T_WHITESPACE"," ",279],["T_VARIABLE","$event",279],["T_OBJECT_OPERATOR","->",279],["T_STRING","getDataObject",279],"(",")",";",["T_WHITESPACE","\n                ",279],["T_VARIABLE","$attrData",280],["T_WHITESPACE","     ",280],"=",["T_WHITESPACE"," ",280],["T_VARIABLE","$actionObject",280],["T_OBJECT_OPERATOR","->",280],["T_STRING","getAttributesData",280],"(",")",";",["T_WHITESPACE","\n                ",280],["T_VARIABLE","$rebuildIndex",281],["T_WHITESPACE"," ",281],"=",["T_WHITESPACE"," ",281],["T_STRING","false",281],";",["T_WHITESPACE","\n                ",281],["T_VARIABLE","$reindexData",282],["T_WHITESPACE","  ",282],"=",["T_WHITESPACE"," ",282],["T_ARRAY","array",282],"(",")",";",["T_WHITESPACE","\n\n                ",282],["T_COMMENT","\/\/ check if force reindex required\n",284],["T_WHITESPACE","                ",285],["T_IF","if",285],["T_WHITESPACE"," ",285],"(",["T_ISSET","isset",285],"(",["T_VARIABLE","$attrData",285],"[",["T_CONSTANT_ENCAPSED_STRING","'force_reindex_required'",285],"]",")",["T_WHITESPACE"," ",285],["T_BOOLEAN_AND","&&",285],["T_WHITESPACE"," ",285],["T_VARIABLE","$attrData",285],"[",["T_CONSTANT_ENCAPSED_STRING","'force_reindex_required'",285],"]",")",["T_WHITESPACE"," ",285],"{",["T_WHITESPACE","\n                    ",285],["T_VARIABLE","$rebuildIndex",286],["T_WHITESPACE"," ",286],"=",["T_WHITESPACE"," ",286],["T_STRING","true",286],";",["T_WHITESPACE","\n                    ",286],["T_VARIABLE","$reindexData",287],"[",["T_CONSTANT_ENCAPSED_STRING","'catalogsearch_force_reindex'",287],"]",["T_WHITESPACE"," ",287],"=",["T_WHITESPACE"," ",287],["T_VARIABLE","$attrData",287],"[",["T_CONSTANT_ENCAPSED_STRING","'force_reindex_required'",287],"]",";",["T_WHITESPACE","\n                ",287],"}",["T_WHITESPACE","\n\n                ",288],["T_COMMENT","\/\/ check if status changed\n",290],["T_WHITESPACE","                ",291],["T_IF","if",291],["T_WHITESPACE"," ",291],"(",["T_ISSET","isset",291],"(",["T_VARIABLE","$attrData",291],"[",["T_CONSTANT_ENCAPSED_STRING","'status'",291],"]",")",")",["T_WHITESPACE"," ",291],"{",["T_WHITESPACE","\n                    ",291],["T_VARIABLE","$rebuildIndex",292],["T_WHITESPACE"," ",292],"=",["T_WHITESPACE"," ",292],["T_STRING","true",292],";",["T_WHITESPACE","\n                    ",292],["T_VARIABLE","$reindexData",293],"[",["T_CONSTANT_ENCAPSED_STRING","'catalogsearch_status'",293],"]",["T_WHITESPACE"," ",293],"=",["T_WHITESPACE"," ",293],["T_VARIABLE","$attrData",293],"[",["T_CONSTANT_ENCAPSED_STRING","'status'",293],"]",";",["T_WHITESPACE","\n                ",293],"}",["T_WHITESPACE","\n\n                ",294],["T_COMMENT","\/\/ check changed websites\n",296],["T_WHITESPACE","                ",297],["T_IF","if",297],["T_WHITESPACE"," ",297],"(",["T_VARIABLE","$actionObject",297],["T_OBJECT_OPERATOR","->",297],["T_STRING","getWebsiteIds",297],"(",")",")",["T_WHITESPACE"," ",297],"{",["T_WHITESPACE","\n                    ",297],["T_VARIABLE","$rebuildIndex",298],["T_WHITESPACE"," ",298],"=",["T_WHITESPACE"," ",298],["T_STRING","true",298],";",["T_WHITESPACE","\n                    ",298],["T_VARIABLE","$reindexData",299],"[",["T_CONSTANT_ENCAPSED_STRING","'catalogsearch_website_ids'",299],"]",["T_WHITESPACE"," ",299],"=",["T_WHITESPACE"," ",299],["T_VARIABLE","$actionObject",299],["T_OBJECT_OPERATOR","->",299],["T_STRING","getWebsiteIds",299],"(",")",";",["T_WHITESPACE","\n                    ",299],["T_VARIABLE","$reindexData",300],"[",["T_CONSTANT_ENCAPSED_STRING","'catalogsearch_action_type'",300],"]",["T_WHITESPACE"," ",300],"=",["T_WHITESPACE"," ",300],["T_VARIABLE","$actionObject",300],["T_OBJECT_OPERATOR","->",300],["T_STRING","getActionType",300],"(",")",";",["T_WHITESPACE","\n                ",300],"}",["T_WHITESPACE","\n\n                ",301],["T_VARIABLE","$searchableAttributes",303],["T_WHITESPACE"," ",303],"=",["T_WHITESPACE"," ",303],["T_ARRAY","array",303],"(",")",";",["T_WHITESPACE","\n                ",303],["T_IF","if",304],["T_WHITESPACE"," ",304],"(",["T_STRING","is_array",304],"(",["T_VARIABLE","$attrData",304],")",")",["T_WHITESPACE"," ",304],"{",["T_WHITESPACE","\n                    ",304],["T_VARIABLE","$searchableAttributes",305],["T_WHITESPACE"," ",305],"=",["T_WHITESPACE"," ",305],["T_STRING","array_intersect",305],"(",["T_VARIABLE","$this",305],["T_OBJECT_OPERATOR","->",305],["T_STRING","_getSearchableAttributes",305],"(",")",",",["T_WHITESPACE"," ",305],["T_STRING","array_keys",305],"(",["T_VARIABLE","$attrData",305],")",")",";",["T_WHITESPACE","\n                ",305],"}",["T_WHITESPACE","\n\n                ",306],["T_IF","if",308],["T_WHITESPACE"," ",308],"(",["T_STRING","count",308],"(",["T_VARIABLE","$searchableAttributes",308],")",["T_WHITESPACE"," ",308],">",["T_WHITESPACE"," ",308],["T_LNUMBER","0",308],")",["T_WHITESPACE"," ",308],"{",["T_WHITESPACE","\n                    ",308],["T_VARIABLE","$rebuildIndex",309],["T_WHITESPACE"," ",309],"=",["T_WHITESPACE"," ",309],["T_STRING","true",309],";",["T_WHITESPACE","\n                    ",309],["T_VARIABLE","$reindexData",310],"[",["T_CONSTANT_ENCAPSED_STRING","'catalogsearch_force_reindex'",310],"]",["T_WHITESPACE"," ",310],"=",["T_WHITESPACE"," ",310],["T_STRING","true",310],";",["T_WHITESPACE","\n                ",310],"}",["T_WHITESPACE","\n\n                ",311],["T_COMMENT","\/\/ register affected products\n",313],["T_WHITESPACE","                ",314],["T_IF","if",314],["T_WHITESPACE"," ",314],"(",["T_VARIABLE","$rebuildIndex",314],")",["T_WHITESPACE"," ",314],"{",["T_WHITESPACE","\n                    ",314],["T_VARIABLE","$reindexData",315],"[",["T_CONSTANT_ENCAPSED_STRING","'catalogsearch_product_ids'",315],"]",["T_WHITESPACE"," ",315],"=",["T_WHITESPACE"," ",315],["T_VARIABLE","$actionObject",315],["T_OBJECT_OPERATOR","->",315],["T_STRING","getProductIds",315],"(",")",";",["T_WHITESPACE","\n                    ",315],["T_FOREACH","foreach",316],["T_WHITESPACE"," ",316],"(",["T_VARIABLE","$reindexData",316],["T_WHITESPACE"," ",316],["T_AS","as",316],["T_WHITESPACE"," ",316],["T_VARIABLE","$k",316],["T_WHITESPACE"," ",316],["T_DOUBLE_ARROW","=>",316],["T_WHITESPACE"," ",316],["T_VARIABLE","$v",316],")",["T_WHITESPACE"," ",316],"{",["T_WHITESPACE","\n                        ",316],["T_VARIABLE","$event",317],["T_OBJECT_OPERATOR","->",317],["T_STRING","addNewData",317],"(",["T_VARIABLE","$k",317],",",["T_WHITESPACE"," ",317],["T_VARIABLE","$v",317],")",";",["T_WHITESPACE","\n                    ",317],"}",["T_WHITESPACE","\n                ",318],"}",["T_WHITESPACE","\n                ",319],["T_BREAK","break",320],";",["T_WHITESPACE","\n        ",320],"}",["T_WHITESPACE","\n\n        ",321],["T_RETURN","return",323],["T_WHITESPACE"," ",323],["T_VARIABLE","$this",323],";",["T_WHITESPACE","\n    ",323],"}",["T_WHITESPACE","\n\n    ",324],["T_DOC_COMMENT","\/**\n     * Retrieve searchable attributes list\n     *\n     * @return array\n     *\/",326],["T_WHITESPACE","\n    ",330],["T_PROTECTED","protected",331],["T_WHITESPACE"," ",331],["T_FUNCTION","function",331],["T_WHITESPACE"," ",331],["T_STRING","_getSearchableAttributes",331],"(",")",["T_WHITESPACE","\n    ",331],"{",["T_WHITESPACE","\n        ",332],["T_IF","if",333],["T_WHITESPACE"," ",333],"(",["T_STRING","is_null",333],"(",["T_VARIABLE","$this",333],["T_OBJECT_OPERATOR","->",333],["T_STRING","_searchableAttributes",333],")",")",["T_WHITESPACE"," ",333],"{",["T_WHITESPACE","\n            ",333],["T_DOC_COMMENT","\/** @var $attributeCollection Mage_Catalog_Model_Resource_Product_Attribute_Collection *\/",334],["T_WHITESPACE","\n            ",334],["T_VARIABLE","$attributeCollection",335],["T_WHITESPACE"," ",335],"=",["T_WHITESPACE"," ",335],["T_STRING","Mage",335],["T_DOUBLE_COLON","::",335],["T_STRING","getResourceModel",335],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog\/product_attribute_collection'",335],")",";",["T_WHITESPACE","\n            ",335],["T_VARIABLE","$attributeCollection",336],["T_OBJECT_OPERATOR","->",336],["T_STRING","addIsSearchableFilter",336],"(",")",";",["T_WHITESPACE","\n\n            ",336],["T_FOREACH","foreach",338],["T_WHITESPACE"," ",338],"(",["T_VARIABLE","$attributeCollection",338],["T_WHITESPACE"," ",338],["T_AS","as",338],["T_WHITESPACE"," ",338],["T_VARIABLE","$attribute",338],")",["T_WHITESPACE"," ",338],"{",["T_WHITESPACE","\n                ",338],["T_VARIABLE","$this",339],["T_OBJECT_OPERATOR","->",339],["T_STRING","_searchableAttributes",339],"[","]",["T_WHITESPACE"," ",339],"=",["T_WHITESPACE"," ",339],["T_VARIABLE","$attribute",339],["T_OBJECT_OPERATOR","->",339],["T_STRING","getAttributeCode",339],"(",")",";",["T_WHITESPACE","\n            ",339],"}",["T_WHITESPACE","\n        ",340],"}",["T_WHITESPACE","\n\n        ",341],["T_RETURN","return",343],["T_WHITESPACE"," ",343],["T_VARIABLE","$this",343],["T_OBJECT_OPERATOR","->",343],["T_STRING","_searchableAttributes",343],";",["T_WHITESPACE","\n    ",343],"}",["T_WHITESPACE","\n\n    ",344],["T_DOC_COMMENT","\/**\n     * Check if product is composite\n     *\n     * @param int $productId\n     * @return bool\n     *\/",346],["T_WHITESPACE","\n    ",351],["T_PROTECTED","protected",352],["T_WHITESPACE"," ",352],["T_FUNCTION","function",352],["T_WHITESPACE"," ",352],["T_STRING","_isProductComposite",352],"(",["T_VARIABLE","$productId",352],")",["T_WHITESPACE","\n    ",352],"{",["T_WHITESPACE","\n        ",353],["T_VARIABLE","$product",354],["T_WHITESPACE"," ",354],"=",["T_WHITESPACE"," ",354],["T_STRING","Mage",354],["T_DOUBLE_COLON","::",354],["T_STRING","getModel",354],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog\/product'",354],")",["T_OBJECT_OPERATOR","->",354],["T_STRING","load",354],"(",["T_VARIABLE","$productId",354],")",";",["T_WHITESPACE","\n        ",354],["T_RETURN","return",355],["T_WHITESPACE"," ",355],["T_VARIABLE","$product",355],["T_OBJECT_OPERATOR","->",355],["T_STRING","isComposite",355],"(",")",";",["T_WHITESPACE","\n    ",355],"}",["T_WHITESPACE","\n\n    ",356],["T_DOC_COMMENT","\/**\n     * Process event\n     *\n     * @param Mage_Index_Model_Event $event\n     *\/",358],["T_WHITESPACE","\n    ",362],["T_PROTECTED","protected",363],["T_WHITESPACE"," ",363],["T_FUNCTION","function",363],["T_WHITESPACE"," ",363],["T_STRING","_processEvent",363],"(",["T_STRING","Mage_Index_Model_Event",363],["T_WHITESPACE"," ",363],["T_VARIABLE","$event",363],")",["T_WHITESPACE","\n    ",363],"{",["T_WHITESPACE","\n        ",364],["T_VARIABLE","$data",365],["T_WHITESPACE"," ",365],"=",["T_WHITESPACE"," ",365],["T_VARIABLE","$event",365],["T_OBJECT_OPERATOR","->",365],["T_STRING","getNewData",365],"(",")",";",["T_WHITESPACE","\n\n        ",365],["T_IF","if",367],["T_WHITESPACE"," ",367],"(","!",["T_EMPTY","empty",367],"(",["T_VARIABLE","$data",367],"[",["T_CONSTANT_ENCAPSED_STRING","'catalogsearch_fulltext_reindex_all'",367],"]",")",")",["T_WHITESPACE"," ",367],"{",["T_WHITESPACE","\n            ",367],["T_VARIABLE","$this",368],["T_OBJECT_OPERATOR","->",368],["T_STRING","reindexAll",368],"(",")",";",["T_WHITESPACE","\n        ",368],"}",["T_WHITESPACE"," ",369],["T_ELSE","else",369],["T_WHITESPACE"," ",369],["T_IF","if",369],["T_WHITESPACE"," ",369],"(","!",["T_EMPTY","empty",369],"(",["T_VARIABLE","$data",369],"[",["T_CONSTANT_ENCAPSED_STRING","'catalogsearch_delete_product_id'",369],"]",")",")",["T_WHITESPACE"," ",369],"{",["T_WHITESPACE","\n            ",369],["T_VARIABLE","$productId",370],["T_WHITESPACE"," ",370],"=",["T_WHITESPACE"," ",370],["T_VARIABLE","$data",370],"[",["T_CONSTANT_ENCAPSED_STRING","'catalogsearch_delete_product_id'",370],"]",";",["T_WHITESPACE","\n\n            ",370],["T_IF","if",372],["T_WHITESPACE"," ",372],"(","!",["T_VARIABLE","$this",372],["T_OBJECT_OPERATOR","->",372],["T_STRING","_isProductComposite",372],"(",["T_VARIABLE","$productId",372],")",")",["T_WHITESPACE"," ",372],"{",["T_WHITESPACE","\n                ",372],["T_VARIABLE","$parentIds",373],["T_WHITESPACE"," ",373],"=",["T_WHITESPACE"," ",373],["T_VARIABLE","$this",373],["T_OBJECT_OPERATOR","->",373],["T_STRING","_getResource",373],"(",")",["T_OBJECT_OPERATOR","->",373],["T_STRING","getRelationsByChild",373],"(",["T_VARIABLE","$productId",373],")",";",["T_WHITESPACE","\n                ",373],["T_IF","if",374],["T_WHITESPACE"," ",374],"(","!",["T_EMPTY","empty",374],"(",["T_VARIABLE","$parentIds",374],")",")",["T_WHITESPACE"," ",374],"{",["T_WHITESPACE","\n                    ",374],["T_VARIABLE","$this",375],["T_OBJECT_OPERATOR","->",375],["T_STRING","_getIndexer",375],"(",")",["T_OBJECT_OPERATOR","->",375],["T_STRING","rebuildIndex",375],"(",["T_STRING","null",375],",",["T_WHITESPACE"," ",375],["T_VARIABLE","$parentIds",375],")",";",["T_WHITESPACE","\n                ",375],"}",["T_WHITESPACE","\n            ",376],"}",["T_WHITESPACE","\n\n            ",377],["T_VARIABLE","$this",379],["T_OBJECT_OPERATOR","->",379],["T_STRING","_getIndexer",379],"(",")",["T_OBJECT_OPERATOR","->",379],["T_STRING","cleanIndex",379],"(",["T_STRING","null",379],",",["T_WHITESPACE"," ",379],["T_VARIABLE","$productId",379],")",["T_WHITESPACE","\n                ",379],["T_OBJECT_OPERATOR","->",380],["T_STRING","resetSearchResults",380],"(",")",";",["T_WHITESPACE","\n        ",380],"}",["T_WHITESPACE"," ",381],["T_ELSE","else",381],["T_WHITESPACE"," ",381],["T_IF","if",381],["T_WHITESPACE"," ",381],"(","!",["T_EMPTY","empty",381],"(",["T_VARIABLE","$data",381],"[",["T_CONSTANT_ENCAPSED_STRING","'catalogsearch_update_product_id'",381],"]",")",")",["T_WHITESPACE"," ",381],"{",["T_WHITESPACE","\n            ",381],["T_VARIABLE","$productId",382],["T_WHITESPACE"," ",382],"=",["T_WHITESPACE"," ",382],["T_VARIABLE","$data",382],"[",["T_CONSTANT_ENCAPSED_STRING","'catalogsearch_update_product_id'",382],"]",";",["T_WHITESPACE","\n            ",382],["T_VARIABLE","$productIds",383],["T_WHITESPACE"," ",383],"=",["T_WHITESPACE"," ",383],["T_ARRAY","array",383],"(",["T_VARIABLE","$productId",383],")",";",["T_WHITESPACE","\n\n            ",383],["T_IF","if",385],["T_WHITESPACE"," ",385],"(","!",["T_VARIABLE","$this",385],["T_OBJECT_OPERATOR","->",385],["T_STRING","_isProductComposite",385],"(",["T_VARIABLE","$productId",385],")",")",["T_WHITESPACE"," ",385],"{",["T_WHITESPACE","\n                ",385],["T_VARIABLE","$parentIds",386],["T_WHITESPACE"," ",386],"=",["T_WHITESPACE"," ",386],["T_VARIABLE","$this",386],["T_OBJECT_OPERATOR","->",386],["T_STRING","_getResource",386],"(",")",["T_OBJECT_OPERATOR","->",386],["T_STRING","getRelationsByChild",386],"(",["T_VARIABLE","$productId",386],")",";",["T_WHITESPACE","\n                ",386],["T_IF","if",387],["T_WHITESPACE"," ",387],"(","!",["T_EMPTY","empty",387],"(",["T_VARIABLE","$parentIds",387],")",")",["T_WHITESPACE"," ",387],"{",["T_WHITESPACE","\n                    ",387],["T_VARIABLE","$productIds",388],["T_WHITESPACE"," ",388],"=",["T_WHITESPACE"," ",388],["T_STRING","array_merge",388],"(",["T_VARIABLE","$productIds",388],",",["T_WHITESPACE"," ",388],["T_VARIABLE","$parentIds",388],")",";",["T_WHITESPACE","\n                ",388],"}",["T_WHITESPACE","\n            ",389],"}",["T_WHITESPACE","\n\n            ",390],["T_VARIABLE","$this",392],["T_OBJECT_OPERATOR","->",392],["T_STRING","_getIndexer",392],"(",")",["T_OBJECT_OPERATOR","->",392],["T_STRING","rebuildIndex",392],"(",["T_STRING","null",392],",",["T_WHITESPACE"," ",392],["T_VARIABLE","$productIds",392],")",["T_WHITESPACE","\n                ",392],["T_OBJECT_OPERATOR","->",393],["T_STRING","resetSearchResults",393],"(",")",";",["T_WHITESPACE","\n        ",393],"}",["T_WHITESPACE"," ",394],["T_ELSE","else",394],["T_WHITESPACE"," ",394],["T_IF","if",394],["T_WHITESPACE"," ",394],"(","!",["T_EMPTY","empty",394],"(",["T_VARIABLE","$data",394],"[",["T_CONSTANT_ENCAPSED_STRING","'catalogsearch_product_ids'",394],"]",")",")",["T_WHITESPACE"," ",394],"{",["T_WHITESPACE","\n            ",394],["T_COMMENT","\/\/ mass action\n",395],["T_WHITESPACE","            ",396],["T_VARIABLE","$productIds",396],["T_WHITESPACE"," ",396],"=",["T_WHITESPACE"," ",396],["T_VARIABLE","$data",396],"[",["T_CONSTANT_ENCAPSED_STRING","'catalogsearch_product_ids'",396],"]",";",["T_WHITESPACE","\n            ",396],["T_VARIABLE","$parentIds",397],["T_WHITESPACE"," ",397],"=",["T_WHITESPACE"," ",397],["T_VARIABLE","$this",397],["T_OBJECT_OPERATOR","->",397],["T_STRING","_getResource",397],"(",")",["T_OBJECT_OPERATOR","->",397],["T_STRING","getRelationsByChild",397],"(",["T_VARIABLE","$productIds",397],")",";",["T_WHITESPACE","\n            ",397],["T_IF","if",398],["T_WHITESPACE"," ",398],"(","!",["T_EMPTY","empty",398],"(",["T_VARIABLE","$parentIds",398],")",")",["T_WHITESPACE"," ",398],"{",["T_WHITESPACE","\n                ",398],["T_VARIABLE","$productIds",399],["T_WHITESPACE"," ",399],"=",["T_WHITESPACE"," ",399],["T_STRING","array_merge",399],"(",["T_VARIABLE","$productIds",399],",",["T_WHITESPACE"," ",399],["T_VARIABLE","$parentIds",399],")",";",["T_WHITESPACE","\n            ",399],"}",["T_WHITESPACE","\n\n            ",400],["T_IF","if",402],["T_WHITESPACE"," ",402],"(","!",["T_EMPTY","empty",402],"(",["T_VARIABLE","$data",402],"[",["T_CONSTANT_ENCAPSED_STRING","'catalogsearch_website_ids'",402],"]",")",")",["T_WHITESPACE"," ",402],"{",["T_WHITESPACE","\n                ",402],["T_VARIABLE","$websiteIds",403],["T_WHITESPACE"," ",403],"=",["T_WHITESPACE"," ",403],["T_VARIABLE","$data",403],"[",["T_CONSTANT_ENCAPSED_STRING","'catalogsearch_website_ids'",403],"]",";",["T_WHITESPACE","\n                ",403],["T_VARIABLE","$actionType",404],["T_WHITESPACE"," ",404],"=",["T_WHITESPACE"," ",404],["T_VARIABLE","$data",404],"[",["T_CONSTANT_ENCAPSED_STRING","'catalogsearch_action_type'",404],"]",";",["T_WHITESPACE","\n\n                ",404],["T_FOREACH","foreach",406],["T_WHITESPACE"," ",406],"(",["T_VARIABLE","$websiteIds",406],["T_WHITESPACE"," ",406],["T_AS","as",406],["T_WHITESPACE"," ",406],["T_VARIABLE","$websiteId",406],")",["T_WHITESPACE"," ",406],"{",["T_WHITESPACE","\n                    ",406],["T_FOREACH","foreach",407],["T_WHITESPACE"," ",407],"(",["T_STRING","Mage",407],["T_DOUBLE_COLON","::",407],["T_STRING","app",407],"(",")",["T_OBJECT_OPERATOR","->",407],["T_STRING","getWebsite",407],"(",["T_VARIABLE","$websiteId",407],")",["T_OBJECT_OPERATOR","->",407],["T_STRING","getStoreIds",407],"(",")",["T_WHITESPACE"," ",407],["T_AS","as",407],["T_WHITESPACE"," ",407],["T_VARIABLE","$storeId",407],")",["T_WHITESPACE"," ",407],"{",["T_WHITESPACE","\n                        ",407],["T_IF","if",408],["T_WHITESPACE"," ",408],"(",["T_VARIABLE","$actionType",408],["T_WHITESPACE"," ",408],["T_IS_EQUAL","==",408],["T_WHITESPACE"," ",408],["T_CONSTANT_ENCAPSED_STRING","'remove'",408],")",["T_WHITESPACE"," ",408],"{",["T_WHITESPACE","\n                            ",408],["T_VARIABLE","$this",409],["T_OBJECT_OPERATOR","->",409],["T_STRING","_getIndexer",409],"(",")",["T_WHITESPACE","\n                                ",409],["T_OBJECT_OPERATOR","->",410],["T_STRING","cleanIndex",410],"(",["T_VARIABLE","$storeId",410],",",["T_WHITESPACE"," ",410],["T_VARIABLE","$productIds",410],")",["T_WHITESPACE","\n                                ",410],["T_OBJECT_OPERATOR","->",411],["T_STRING","resetSearchResults",411],"(",")",";",["T_WHITESPACE","\n                        ",411],"}",["T_WHITESPACE"," ",412],["T_ELSE","else",412],["T_WHITESPACE"," ",412],["T_IF","if",412],["T_WHITESPACE"," ",412],"(",["T_VARIABLE","$actionType",412],["T_WHITESPACE"," ",412],["T_IS_EQUAL","==",412],["T_WHITESPACE"," ",412],["T_CONSTANT_ENCAPSED_STRING","'add'",412],")",["T_WHITESPACE"," ",412],"{",["T_WHITESPACE","\n                            ",412],["T_VARIABLE","$this",413],["T_OBJECT_OPERATOR","->",413],["T_STRING","_getIndexer",413],"(",")",["T_WHITESPACE","\n                                ",413],["T_OBJECT_OPERATOR","->",414],["T_STRING","rebuildIndex",414],"(",["T_VARIABLE","$storeId",414],",",["T_WHITESPACE"," ",414],["T_VARIABLE","$productIds",414],")",["T_WHITESPACE","\n                                ",414],["T_OBJECT_OPERATOR","->",415],["T_STRING","resetSearchResults",415],"(",")",";",["T_WHITESPACE","\n                        ",415],"}",["T_WHITESPACE","\n                    ",416],"}",["T_WHITESPACE","\n                ",417],"}",["T_WHITESPACE","\n            ",418],"}",["T_WHITESPACE","\n            ",419],["T_IF","if",420],["T_WHITESPACE"," ",420],"(",["T_ISSET","isset",420],"(",["T_VARIABLE","$data",420],"[",["T_CONSTANT_ENCAPSED_STRING","'catalogsearch_status'",420],"]",")",")",["T_WHITESPACE"," ",420],"{",["T_WHITESPACE","\n                ",420],["T_VARIABLE","$status",421],["T_WHITESPACE"," ",421],"=",["T_WHITESPACE"," ",421],["T_VARIABLE","$data",421],"[",["T_CONSTANT_ENCAPSED_STRING","'catalogsearch_status'",421],"]",";",["T_WHITESPACE","\n                ",421],["T_IF","if",422],["T_WHITESPACE"," ",422],"(",["T_VARIABLE","$status",422],["T_WHITESPACE"," ",422],["T_IS_EQUAL","==",422],["T_WHITESPACE"," ",422],["T_STRING","Mage_Catalog_Model_Product_Status",422],["T_DOUBLE_COLON","::",422],["T_STRING","STATUS_ENABLED",422],")",["T_WHITESPACE"," ",422],"{",["T_WHITESPACE","\n                    ",422],["T_VARIABLE","$this",423],["T_OBJECT_OPERATOR","->",423],["T_STRING","_getIndexer",423],"(",")",["T_WHITESPACE","\n                        ",423],["T_OBJECT_OPERATOR","->",424],["T_STRING","rebuildIndex",424],"(",["T_STRING","null",424],",",["T_WHITESPACE"," ",424],["T_VARIABLE","$productIds",424],")",["T_WHITESPACE","\n                        ",424],["T_OBJECT_OPERATOR","->",425],["T_STRING","resetSearchResults",425],"(",")",";",["T_WHITESPACE","\n                ",425],"}",["T_WHITESPACE"," ",426],["T_ELSE","else",426],["T_WHITESPACE"," ",426],"{",["T_WHITESPACE","\n                    ",426],["T_VARIABLE","$this",427],["T_OBJECT_OPERATOR","->",427],["T_STRING","_getIndexer",427],"(",")",["T_WHITESPACE","\n                        ",427],["T_OBJECT_OPERATOR","->",428],["T_STRING","cleanIndex",428],"(",["T_STRING","null",428],",",["T_WHITESPACE"," ",428],["T_VARIABLE","$productIds",428],")",["T_WHITESPACE","\n                        ",428],["T_OBJECT_OPERATOR","->",429],["T_STRING","resetSearchResults",429],"(",")",";",["T_WHITESPACE","\n                ",429],"}",["T_WHITESPACE","\n            ",430],"}",["T_WHITESPACE","\n            ",431],["T_IF","if",432],["T_WHITESPACE"," ",432],"(",["T_ISSET","isset",432],"(",["T_VARIABLE","$data",432],"[",["T_CONSTANT_ENCAPSED_STRING","'catalogsearch_force_reindex'",432],"]",")",")",["T_WHITESPACE"," ",432],"{",["T_WHITESPACE","\n                ",432],["T_VARIABLE","$this",433],["T_OBJECT_OPERATOR","->",433],["T_STRING","_getIndexer",433],"(",")",["T_WHITESPACE","\n                    ",433],["T_OBJECT_OPERATOR","->",434],["T_STRING","rebuildIndex",434],"(",["T_STRING","null",434],",",["T_WHITESPACE"," ",434],["T_VARIABLE","$productIds",434],")",["T_WHITESPACE","\n                    ",434],["T_OBJECT_OPERATOR","->",435],["T_STRING","resetSearchResults",435],"(",")",";",["T_WHITESPACE","\n            ",435],"}",["T_WHITESPACE","\n        ",436],"}",["T_WHITESPACE"," ",437],["T_ELSE","else",437],["T_WHITESPACE"," ",437],["T_IF","if",437],["T_WHITESPACE"," ",437],"(",["T_ISSET","isset",437],"(",["T_VARIABLE","$data",437],"[",["T_CONSTANT_ENCAPSED_STRING","'catalogsearch_category_update_product_ids'",437],"]",")",")",["T_WHITESPACE"," ",437],"{",["T_WHITESPACE","\n            ",437],["T_VARIABLE","$productIds",438],["T_WHITESPACE"," ",438],"=",["T_WHITESPACE"," ",438],["T_VARIABLE","$data",438],"[",["T_CONSTANT_ENCAPSED_STRING","'catalogsearch_category_update_product_ids'",438],"]",";",["T_WHITESPACE","\n            ",438],["T_VARIABLE","$categoryIds",439],["T_WHITESPACE"," ",439],"=",["T_WHITESPACE"," ",439],["T_VARIABLE","$data",439],"[",["T_CONSTANT_ENCAPSED_STRING","'catalogsearch_category_update_category_ids'",439],"]",";",["T_WHITESPACE","\n\n            ",439],["T_VARIABLE","$this",441],["T_OBJECT_OPERATOR","->",441],["T_STRING","_getIndexer",441],"(",")",["T_WHITESPACE","\n                ",441],["T_OBJECT_OPERATOR","->",442],["T_STRING","updateCategoryIndex",442],"(",["T_VARIABLE","$productIds",442],",",["T_WHITESPACE"," ",442],["T_VARIABLE","$categoryIds",442],")",";",["T_WHITESPACE","\n        ",442],"}",["T_WHITESPACE","\n    ",443],"}",["T_WHITESPACE","\n\n    ",444],["T_DOC_COMMENT","\/**\n     * Rebuild all index data\n     *\n     *\/",446],["T_WHITESPACE","\n    ",449],["T_PUBLIC","public",450],["T_WHITESPACE"," ",450],["T_FUNCTION","function",450],["T_WHITESPACE"," ",450],["T_STRING","reindexAll",450],"(",")",["T_WHITESPACE","\n    ",450],"{",["T_WHITESPACE","\n        ",451],["T_VARIABLE","$resourceModel",452],["T_WHITESPACE"," ",452],"=",["T_WHITESPACE"," ",452],["T_VARIABLE","$this",452],["T_OBJECT_OPERATOR","->",452],["T_STRING","_getIndexer",452],"(",")",["T_OBJECT_OPERATOR","->",452],["T_STRING","getResource",452],"(",")",";",["T_WHITESPACE","\n        ",452],["T_VARIABLE","$resourceModel",453],["T_OBJECT_OPERATOR","->",453],["T_STRING","beginTransaction",453],"(",")",";",["T_WHITESPACE","\n        ",453],["T_TRY","try",454],["T_WHITESPACE"," ",454],"{",["T_WHITESPACE","\n            ",454],["T_VARIABLE","$this",455],["T_OBJECT_OPERATOR","->",455],["T_STRING","_getIndexer",455],"(",")",["T_OBJECT_OPERATOR","->",455],["T_STRING","rebuildIndex",455],"(",")",";",["T_WHITESPACE","\n            ",455],["T_VARIABLE","$resourceModel",456],["T_OBJECT_OPERATOR","->",456],["T_STRING","commit",456],"(",")",";",["T_WHITESPACE","\n        ",456],"}",["T_WHITESPACE"," ",457],["T_CATCH","catch",457],["T_WHITESPACE"," ",457],"(",["T_STRING","Exception",457],["T_WHITESPACE"," ",457],["T_VARIABLE","$e",457],")",["T_WHITESPACE"," ",457],"{",["T_WHITESPACE","\n            ",457],["T_VARIABLE","$resourceModel",458],["T_OBJECT_OPERATOR","->",458],["T_STRING","rollBack",458],"(",")",";",["T_WHITESPACE","\n            ",458],["T_THROW","throw",459],["T_WHITESPACE"," ",459],["T_VARIABLE","$e",459],";",["T_WHITESPACE","\n        ",459],"}",["T_WHITESPACE","\n    ",460],"}",["T_WHITESPACE","\n",461],"}",["T_WHITESPACE","\n",462]]