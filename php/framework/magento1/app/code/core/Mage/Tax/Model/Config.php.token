[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Magento\n *\n * NOTICE OF LICENSE\n *\n * This source file is subject to the Open Software License (OSL 3.0)\n * that is bundled with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/opensource.org\/licenses\/osl-3.0.php\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@magento.com so we can send you a copy immediately.\n *\n * DISCLAIMER\n *\n * Do not edit or add to this file if you wish to upgrade Magento to newer\n * versions in the future. If you wish to customize Magento for your\n * needs please refer to http:\/\/www.magento.com for more information.\n *\n * @category    Mage\n * @package     Mage_Tax\n * @copyright  Copyright (c) 2006-2016 X.commerce, Inc. and affiliates (http:\/\/www.magento.com)\n * @license    http:\/\/opensource.org\/licenses\/osl-3.0.php  Open Software License (OSL 3.0)\n *\/",2],["T_WHITESPACE","\n\n",25],["T_DOC_COMMENT","\/**\n * Configuration paths storage\n *\n * @category   Mage\n * @package    Mage_Tax\n * @author     Magento Core Team <core@magentocommerce.com>\n *\/",27],["T_WHITESPACE","\n",33],["T_CLASS","class",34],["T_WHITESPACE"," ",34],["T_STRING","Mage_Tax_Model_Config",34],["T_WHITESPACE","\n",34],"{",["T_WHITESPACE","\n    ",35],["T_COMMENT","\/**#@+\n     * Paths to tax notification configs\n     *\/",36],["T_WHITESPACE","\n    ",38],["T_CONST","const",39],["T_WHITESPACE"," ",39],["T_STRING","XML_PATH_TAX_NOTIFICATION_DISCOUNT",39],["T_WHITESPACE"," ",39],"=",["T_WHITESPACE"," ",39],["T_CONSTANT_ENCAPSED_STRING","'tax\/ignore_notification\/discount'",39],";",["T_WHITESPACE","\n    ",39],["T_CONST","const",40],["T_WHITESPACE"," ",40],["T_STRING","XML_PATH_TAX_NOTIFICATION_PRICE_DISPLAY",40],["T_WHITESPACE"," ",40],"=",["T_WHITESPACE"," ",40],["T_CONSTANT_ENCAPSED_STRING","'tax\/ignore_notification\/price_display'",40],";",["T_WHITESPACE","\n    ",40],["T_CONST","const",41],["T_WHITESPACE"," ",41],["T_STRING","XML_PATH_TAX_NOTIFICATION_FPT_CONFIGURATION",41],["T_WHITESPACE"," ",41],"=",["T_WHITESPACE"," ",41],["T_CONSTANT_ENCAPSED_STRING","'tax\/ignore_notification\/fpt_configuration'",41],";",["T_WHITESPACE","\n    ",41],["T_CONST","const",42],["T_WHITESPACE"," ",42],["T_STRING","XML_PATH_TAX_NOTIFICATION_URL",42],["T_WHITESPACE"," ",42],"=",["T_WHITESPACE"," ",42],["T_CONSTANT_ENCAPSED_STRING","'tax\/notification\/url'",42],";",["T_WHITESPACE","\n    ",42],["T_COMMENT","\/**#@-*\/",43],["T_WHITESPACE","\n\n    ",43],["T_DOC_COMMENT","\/**\n     * Tax classes\n     *\/",45],["T_WHITESPACE","\n    ",47],["T_CONST","const",48],["T_WHITESPACE"," ",48],["T_STRING","CONFIG_XML_PATH_SHIPPING_TAX_CLASS",48],["T_WHITESPACE"," ",48],"=",["T_WHITESPACE"," ",48],["T_CONSTANT_ENCAPSED_STRING","'tax\/classes\/shipping_tax_class'",48],";",["T_WHITESPACE","\n\n    ",48],["T_COMMENT","\/**#@+\n     * Paths to tax calculation configs\n     *\/",50],["T_WHITESPACE","\n    ",52],["T_CONST","const",53],["T_WHITESPACE"," ",53],["T_STRING","CONFIG_XML_PATH_PRICE_INCLUDES_TAX",53],["T_WHITESPACE"," ",53],"=",["T_WHITESPACE"," ",53],["T_CONSTANT_ENCAPSED_STRING","'tax\/calculation\/price_includes_tax'",53],";",["T_WHITESPACE","\n    ",53],["T_CONST","const",54],["T_WHITESPACE"," ",54],["T_STRING","CONFIG_XML_PATH_SHIPPING_INCLUDES_TAX",54],["T_WHITESPACE"," ",54],"=",["T_WHITESPACE"," ",54],["T_CONSTANT_ENCAPSED_STRING","'tax\/calculation\/shipping_includes_tax'",54],";",["T_WHITESPACE","\n    ",54],["T_CONST","const",55],["T_WHITESPACE"," ",55],["T_STRING","CONFIG_XML_PATH_BASED_ON",55],["T_WHITESPACE"," ",55],"=",["T_WHITESPACE"," ",55],["T_CONSTANT_ENCAPSED_STRING","'tax\/calculation\/based_on'",55],";",["T_WHITESPACE","\n    ",55],["T_CONST","const",56],["T_WHITESPACE"," ",56],["T_STRING","CONFIG_XML_PATH_APPLY_ON",56],["T_WHITESPACE"," ",56],"=",["T_WHITESPACE"," ",56],["T_CONSTANT_ENCAPSED_STRING","'tax\/calculation\/apply_tax_on'",56],";",["T_WHITESPACE","\n    ",56],["T_CONST","const",57],["T_WHITESPACE"," ",57],["T_STRING","CONFIG_XML_PATH_APPLY_AFTER_DISCOUNT",57],["T_WHITESPACE"," ",57],"=",["T_WHITESPACE"," ",57],["T_CONSTANT_ENCAPSED_STRING","'tax\/calculation\/apply_after_discount'",57],";",["T_WHITESPACE","\n    ",57],["T_CONST","const",58],["T_WHITESPACE"," ",58],["T_STRING","CONFIG_XML_PATH_DISCOUNT_TAX",58],["T_WHITESPACE"," ",58],"=",["T_WHITESPACE"," ",58],["T_CONSTANT_ENCAPSED_STRING","'tax\/calculation\/discount_tax'",58],";",["T_WHITESPACE","\n    ",58],["T_CONST","const",59],["T_WHITESPACE"," ",59],["T_STRING","XML_PATH_ALGORITHM",59],["T_WHITESPACE"," ",59],"=",["T_WHITESPACE"," ",59],["T_CONSTANT_ENCAPSED_STRING","'tax\/calculation\/algorithm'",59],";",["T_WHITESPACE","\n    ",59],["T_CONST","const",60],["T_WHITESPACE"," ",60],["T_STRING","CONFIG_XML_PATH_CROSS_BORDER_TRADE_ENABLED",60],["T_WHITESPACE"," ",60],"=",["T_WHITESPACE"," ",60],["T_CONSTANT_ENCAPSED_STRING","'tax\/calculation\/cross_border_trade_enabled'",60],";",["T_WHITESPACE","\n    ",60],["T_COMMENT","\/**#@-*\/",61],["T_WHITESPACE","\n\n    ",61],["T_COMMENT","\/**#@+\n     * Paths to tax defaults configs\n     *\/",63],["T_WHITESPACE","\n    ",65],["T_CONST","const",66],["T_WHITESPACE"," ",66],["T_STRING","CONFIG_XML_PATH_DEFAULT_COUNTRY",66],["T_WHITESPACE"," ",66],"=",["T_WHITESPACE"," ",66],["T_CONSTANT_ENCAPSED_STRING","'tax\/defaults\/country'",66],";",["T_WHITESPACE","\n    ",66],["T_CONST","const",67],["T_WHITESPACE"," ",67],["T_STRING","CONFIG_XML_PATH_DEFAULT_REGION",67],["T_WHITESPACE"," ",67],"=",["T_WHITESPACE"," ",67],["T_CONSTANT_ENCAPSED_STRING","'tax\/defaults\/region'",67],";",["T_WHITESPACE","\n    ",67],["T_CONST","const",68],["T_WHITESPACE"," ",68],["T_STRING","CONFIG_XML_PATH_DEFAULT_POSTCODE",68],["T_WHITESPACE"," ",68],"=",["T_WHITESPACE"," ",68],["T_CONSTANT_ENCAPSED_STRING","'tax\/defaults\/postcode'",68],";",["T_WHITESPACE","\n    ",68],["T_COMMENT","\/**#@-*\/",69],["T_WHITESPACE","\n\n    ",69],["T_COMMENT","\/**#@+\n     * Prices display settings\n     *\/",71],["T_WHITESPACE","\n    ",73],["T_CONST","const",74],["T_WHITESPACE"," ",74],["T_STRING","CONFIG_XML_PATH_PRICE_DISPLAY_TYPE",74],["T_WHITESPACE"," ",74],"=",["T_WHITESPACE"," ",74],["T_CONSTANT_ENCAPSED_STRING","'tax\/display\/type'",74],";",["T_WHITESPACE","\n    ",74],["T_CONST","const",75],["T_WHITESPACE"," ",75],["T_STRING","CONFIG_XML_PATH_DISPLAY_SHIPPING",75],["T_WHITESPACE"," ",75],"=",["T_WHITESPACE"," ",75],["T_CONSTANT_ENCAPSED_STRING","'tax\/display\/shipping'",75],";",["T_WHITESPACE","\n    ",75],["T_COMMENT","\/**#@-*\/",76],["T_WHITESPACE","\n\n    ",76],["T_COMMENT","\/**#@+\n     * Shopping cart display settings\n     *\/",78],["T_WHITESPACE","\n    ",80],["T_CONST","const",81],["T_WHITESPACE"," ",81],["T_STRING","XML_PATH_DISPLAY_CART_PRICE",81],["T_WHITESPACE"," ",81],"=",["T_WHITESPACE"," ",81],["T_CONSTANT_ENCAPSED_STRING","'tax\/cart_display\/price'",81],";",["T_WHITESPACE","\n    ",81],["T_CONST","const",82],["T_WHITESPACE"," ",82],["T_STRING","XML_PATH_DISPLAY_CART_SUBTOTAL",82],["T_WHITESPACE"," ",82],"=",["T_WHITESPACE"," ",82],["T_CONSTANT_ENCAPSED_STRING","'tax\/cart_display\/subtotal'",82],";",["T_WHITESPACE","\n    ",82],["T_CONST","const",83],["T_WHITESPACE"," ",83],["T_STRING","XML_PATH_DISPLAY_CART_SHIPPING",83],["T_WHITESPACE"," ",83],"=",["T_WHITESPACE"," ",83],["T_CONSTANT_ENCAPSED_STRING","'tax\/cart_display\/shipping'",83],";",["T_WHITESPACE","\n    ",83],["T_CONST","const",84],["T_WHITESPACE"," ",84],["T_STRING","XML_PATH_DISPLAY_CART_DISCOUNT",84],["T_WHITESPACE"," ",84],"=",["T_WHITESPACE"," ",84],["T_CONSTANT_ENCAPSED_STRING","'tax\/cart_display\/discount'",84],";",["T_WHITESPACE","\n    ",84],["T_CONST","const",85],["T_WHITESPACE"," ",85],["T_STRING","XML_PATH_DISPLAY_CART_GRANDTOTAL",85],["T_WHITESPACE"," ",85],"=",["T_WHITESPACE"," ",85],["T_CONSTANT_ENCAPSED_STRING","'tax\/cart_display\/grandtotal'",85],";",["T_WHITESPACE","\n    ",85],["T_CONST","const",86],["T_WHITESPACE"," ",86],["T_STRING","XML_PATH_DISPLAY_CART_FULL_SUMMARY",86],["T_WHITESPACE"," ",86],"=",["T_WHITESPACE"," ",86],["T_CONSTANT_ENCAPSED_STRING","'tax\/cart_display\/full_summary'",86],";",["T_WHITESPACE","\n    ",86],["T_CONST","const",87],["T_WHITESPACE"," ",87],["T_STRING","XML_PATH_DISPLAY_CART_ZERO_TAX",87],["T_WHITESPACE"," ",87],"=",["T_WHITESPACE"," ",87],["T_CONSTANT_ENCAPSED_STRING","'tax\/cart_display\/zero_tax'",87],";",["T_WHITESPACE","\n    ",87],["T_COMMENT","\/**#@-*\/",88],["T_WHITESPACE","\n\n    ",88],["T_COMMENT","\/**#@+\n     * Shopping cart display settings\n     *\/",90],["T_WHITESPACE","\n    ",92],["T_CONST","const",93],["T_WHITESPACE"," ",93],["T_STRING","XML_PATH_DISPLAY_SALES_PRICE",93],["T_WHITESPACE"," ",93],"=",["T_WHITESPACE"," ",93],["T_CONSTANT_ENCAPSED_STRING","'tax\/sales_display\/price'",93],";",["T_WHITESPACE","\n    ",93],["T_CONST","const",94],["T_WHITESPACE"," ",94],["T_STRING","XML_PATH_DISPLAY_SALES_SUBTOTAL",94],["T_WHITESPACE"," ",94],"=",["T_WHITESPACE"," ",94],["T_CONSTANT_ENCAPSED_STRING","'tax\/sales_display\/subtotal'",94],";",["T_WHITESPACE","\n    ",94],["T_CONST","const",95],["T_WHITESPACE"," ",95],["T_STRING","XML_PATH_DISPLAY_SALES_SHIPPING",95],["T_WHITESPACE"," ",95],"=",["T_WHITESPACE"," ",95],["T_CONSTANT_ENCAPSED_STRING","'tax\/sales_display\/shipping'",95],";",["T_WHITESPACE","\n    ",95],["T_CONST","const",96],["T_WHITESPACE"," ",96],["T_STRING","XML_PATH_DISPLAY_SALES_DISCOUNT",96],["T_WHITESPACE"," ",96],"=",["T_WHITESPACE"," ",96],["T_CONSTANT_ENCAPSED_STRING","'tax\/sales_display\/discount'",96],";",["T_WHITESPACE","\n    ",96],["T_CONST","const",97],["T_WHITESPACE"," ",97],["T_STRING","XML_PATH_DISPLAY_SALES_GRANDTOTAL",97],["T_WHITESPACE"," ",97],"=",["T_WHITESPACE"," ",97],["T_CONSTANT_ENCAPSED_STRING","'tax\/sales_display\/grandtotal'",97],";",["T_WHITESPACE","\n    ",97],["T_CONST","const",98],["T_WHITESPACE"," ",98],["T_STRING","XML_PATH_DISPLAY_SALES_FULL_SUMMARY",98],["T_WHITESPACE"," ",98],"=",["T_WHITESPACE"," ",98],["T_CONSTANT_ENCAPSED_STRING","'tax\/sales_display\/full_summary'",98],";",["T_WHITESPACE","\n    ",98],["T_CONST","const",99],["T_WHITESPACE"," ",99],["T_STRING","XML_PATH_DISPLAY_SALES_ZERO_TAX",99],["T_WHITESPACE"," ",99],"=",["T_WHITESPACE"," ",99],["T_CONSTANT_ENCAPSED_STRING","'tax\/sales_display\/zero_tax'",99],";",["T_WHITESPACE","\n    ",99],["T_COMMENT","\/**#@-*\/",100],["T_WHITESPACE","\n\n    ",100],["T_DOC_COMMENT","\/**\n     * String separator\n     *\/",102],["T_WHITESPACE","\n    ",104],["T_CONST","const",105],["T_WHITESPACE"," ",105],["T_STRING","CALCULATION_STRING_SEPARATOR",105],["T_WHITESPACE"," ",105],"=",["T_WHITESPACE"," ",105],["T_CONSTANT_ENCAPSED_STRING","'|'",105],";",["T_WHITESPACE","\n\n    ",105],["T_COMMENT","\/**#@+\n     * Indexes for tax display types\n     *\/",107],["T_WHITESPACE","\n    ",109],["T_CONST","const",110],["T_WHITESPACE"," ",110],["T_STRING","DISPLAY_TYPE_EXCLUDING_TAX",110],["T_WHITESPACE"," ",110],"=",["T_WHITESPACE"," ",110],["T_LNUMBER","1",110],";",["T_WHITESPACE","\n    ",110],["T_CONST","const",111],["T_WHITESPACE"," ",111],["T_STRING","DISPLAY_TYPE_INCLUDING_TAX",111],["T_WHITESPACE"," ",111],"=",["T_WHITESPACE"," ",111],["T_LNUMBER","2",111],";",["T_WHITESPACE","\n    ",111],["T_CONST","const",112],["T_WHITESPACE"," ",112],["T_STRING","DISPLAY_TYPE_BOTH",112],["T_WHITESPACE"," ",112],"=",["T_WHITESPACE"," ",112],["T_LNUMBER","3",112],";",["T_WHITESPACE","\n    ",112],["T_COMMENT","\/**#@-*\/",113],["T_WHITESPACE","\n\n    ",113],["T_COMMENT","\/**#@+\n     * Indexes for FPT Configuration Types\n     *\/",115],["T_WHITESPACE","\n    ",117],["T_CONST","const",118],["T_WHITESPACE"," ",118],["T_STRING","FPT_NOT_TAXED",118],["T_WHITESPACE"," ",118],"=",["T_WHITESPACE"," ",118],["T_LNUMBER","0",118],";",["T_WHITESPACE","\n    ",118],["T_CONST","const",119],["T_WHITESPACE"," ",119],["T_STRING","FPT_TAXED",119],["T_WHITESPACE"," ",119],"=",["T_WHITESPACE"," ",119],["T_LNUMBER","1",119],";",["T_WHITESPACE","\n    ",119],["T_CONST","const",120],["T_WHITESPACE"," ",120],["T_STRING","FPT_LOADED_DISPLAY_WITH_TAX",120],["T_WHITESPACE"," ",120],"=",["T_WHITESPACE"," ",120],["T_LNUMBER","2",120],";",["T_WHITESPACE","\n    ",120],["T_COMMENT","\/**#@-*\/",121],["T_WHITESPACE","\n\n    ",121],["T_COMMENT","\/**#@+\n     * @deprecated\n     *\/",123],["T_WHITESPACE","\n    ",125],["T_CONST","const",126],["T_WHITESPACE"," ",126],["T_STRING","CONFIG_XML_PATH_SHOW_IN_CATALOG",126],["T_WHITESPACE"," ",126],"=",["T_WHITESPACE"," ",126],["T_CONSTANT_ENCAPSED_STRING","'tax\/display\/show_in_catalog'",126],";",["T_WHITESPACE","\n    ",126],["T_CONST","const",127],["T_WHITESPACE"," ",127],["T_STRING","CONFIG_XML_PATH_DEFAULT_PRODUCT_TAX_GROUP",127],["T_WHITESPACE"," ",127],"=",["T_WHITESPACE"," ",127],["T_CONSTANT_ENCAPSED_STRING","'catalog\/product\/default_tax_group'",127],";",["T_WHITESPACE","\n    ",127],["T_CONST","const",128],["T_WHITESPACE"," ",128],["T_STRING","CONFIG_XML_PATH_DISPLAY_TAX_COLUMN",128],["T_WHITESPACE"," ",128],"=",["T_WHITESPACE"," ",128],["T_CONSTANT_ENCAPSED_STRING","'tax\/display\/column_in_summary'",128],";",["T_WHITESPACE","\n    ",128],["T_CONST","const",129],["T_WHITESPACE"," ",129],["T_STRING","CONFIG_XML_PATH_DISPLAY_FULL_SUMMARY",129],["T_WHITESPACE"," ",129],"=",["T_WHITESPACE"," ",129],["T_CONSTANT_ENCAPSED_STRING","'tax\/display\/full_summary'",129],";",["T_WHITESPACE","\n    ",129],["T_CONST","const",130],["T_WHITESPACE"," ",130],["T_STRING","CONFIG_XML_PATH_DISPLAY_ZERO_TAX",130],["T_WHITESPACE"," ",130],"=",["T_WHITESPACE"," ",130],["T_CONSTANT_ENCAPSED_STRING","'tax\/display\/zero_tax'",130],";",["T_WHITESPACE","\n    ",130],["T_COMMENT","\/**#@-*\/",131],["T_WHITESPACE","\n\n    ",131],["T_DOC_COMMENT","\/**\n     * Flag which notify what we need use prices exclude tax for calculations\n     *\n     * @var bool\n     *\/",133],["T_WHITESPACE","\n    ",137],["T_PROTECTED","protected",138],["T_WHITESPACE"," ",138],["T_VARIABLE","$_needUsePriceExcludeTax",138],["T_WHITESPACE"," ",138],"=",["T_WHITESPACE"," ",138],["T_STRING","false",138],";",["T_WHITESPACE","\n\n    ",138],["T_DOC_COMMENT","\/**\n     * Flag which notify what we need use shipping prices exclude tax for calculations\n     *\n     * @var bool\n     *\/",140],["T_WHITESPACE","\n    ",144],["T_PROTECTED","protected",145],["T_WHITESPACE"," ",145],["T_VARIABLE","$_needUseShippingExcludeTax",145],["T_WHITESPACE"," ",145],"=",["T_WHITESPACE"," ",145],["T_STRING","false",145],";",["T_WHITESPACE","\n\n    ",145],["T_DOC_COMMENT","\/**\n     * @var $_shippingPriceIncludeTax bool\n     *\/",147],["T_WHITESPACE","\n    ",149],["T_PROTECTED","protected",150],["T_WHITESPACE"," ",150],["T_VARIABLE","$_shippingPriceIncludeTax",150],["T_WHITESPACE"," ",150],"=",["T_WHITESPACE"," ",150],["T_STRING","null",150],";",["T_WHITESPACE","\n\n    ",150],["T_DOC_COMMENT","\/**\n     * Retrieve config value for store by path\n     *\n     * @param string $path\n     * @param mixed $store\n     * @return mixed\n     *\/",152],["T_WHITESPACE","\n    ",158],["T_PROTECTED","protected",159],["T_WHITESPACE"," ",159],["T_FUNCTION","function",159],["T_WHITESPACE"," ",159],["T_STRING","_getStoreConfig",159],"(",["T_VARIABLE","$path",159],",",["T_WHITESPACE"," ",159],["T_VARIABLE","$store",159],")",["T_WHITESPACE","\n    ",159],"{",["T_WHITESPACE","\n        ",160],["T_RETURN","return",161],["T_WHITESPACE"," ",161],["T_STRING","Mage",161],["T_DOUBLE_COLON","::",161],["T_STRING","getStoreConfig",161],"(",["T_VARIABLE","$path",161],",",["T_WHITESPACE"," ",161],["T_VARIABLE","$store",161],")",";",["T_WHITESPACE","\n    ",161],"}",["T_WHITESPACE","\n\n    ",162],["T_DOC_COMMENT","\/**\n     * Check if product prices inputed include tax\n     *\n     * @param   mix $store\n     * @return  bool\n     *\/",164],["T_WHITESPACE","\n    ",169],["T_PUBLIC","public",170],["T_WHITESPACE"," ",170],["T_FUNCTION","function",170],["T_WHITESPACE"," ",170],["T_STRING","priceIncludesTax",170],"(",["T_VARIABLE","$store",170],["T_WHITESPACE"," ",170],"=",["T_WHITESPACE"," ",170],["T_STRING","null",170],")",["T_WHITESPACE","\n    ",170],"{",["T_WHITESPACE","\n        ",171],["T_IF","if",172],["T_WHITESPACE"," ",172],"(",["T_VARIABLE","$this",172],["T_OBJECT_OPERATOR","->",172],["T_STRING","_needUsePriceExcludeTax",172],")",["T_WHITESPACE"," ",172],"{",["T_WHITESPACE","\n            ",172],["T_RETURN","return",173],["T_WHITESPACE"," ",173],["T_STRING","false",173],";",["T_WHITESPACE","\n        ",173],"}",["T_WHITESPACE","\n        ",174],["T_RETURN","return",175],["T_WHITESPACE"," ",175],["T_BOOL_CAST","(bool)",175],["T_VARIABLE","$this",175],["T_OBJECT_OPERATOR","->",175],["T_STRING","_getStoreConfig",175],"(",["T_STRING","self",175],["T_DOUBLE_COLON","::",175],["T_STRING","CONFIG_XML_PATH_PRICE_INCLUDES_TAX",175],",",["T_WHITESPACE"," ",175],["T_VARIABLE","$store",175],")",";",["T_WHITESPACE","\n    ",175],"}",["T_WHITESPACE","\n\n    ",176],["T_DOC_COMMENT","\/**\n     * Check what taxes should be applied after discount\n     *\n     * @param   mixed $store\n     * @return  bool\n     *\/",178],["T_WHITESPACE","\n    ",183],["T_PUBLIC","public",184],["T_WHITESPACE"," ",184],["T_FUNCTION","function",184],["T_WHITESPACE"," ",184],["T_STRING","applyTaxAfterDiscount",184],"(",["T_VARIABLE","$store",184],["T_WHITESPACE"," ",184],"=",["T_WHITESPACE"," ",184],["T_STRING","null",184],")",["T_WHITESPACE","\n    ",184],"{",["T_WHITESPACE","\n        ",185],["T_RETURN","return",186],["T_WHITESPACE"," ",186],["T_BOOL_CAST","(bool)",186],["T_VARIABLE","$this",186],["T_OBJECT_OPERATOR","->",186],["T_STRING","_getStoreConfig",186],"(",["T_STRING","self",186],["T_DOUBLE_COLON","::",186],["T_STRING","CONFIG_XML_PATH_APPLY_AFTER_DISCOUNT",186],",",["T_WHITESPACE"," ",186],["T_VARIABLE","$store",186],")",";",["T_WHITESPACE","\n    ",186],"}",["T_WHITESPACE","\n\n    ",187],["T_DOC_COMMENT","\/**\n     * Get product price display type\n     *  1 - Excluding tax\n     *  2 - Including tax\n     *  3 - Both\n     *\n     * @param   mixed $store\n     * @return  int\n     *\/",189],["T_WHITESPACE","\n    ",197],["T_PUBLIC","public",198],["T_WHITESPACE"," ",198],["T_FUNCTION","function",198],["T_WHITESPACE"," ",198],["T_STRING","getPriceDisplayType",198],"(",["T_VARIABLE","$store",198],["T_WHITESPACE"," ",198],"=",["T_WHITESPACE"," ",198],["T_STRING","null",198],")",["T_WHITESPACE","\n    ",198],"{",["T_WHITESPACE","\n        ",199],["T_RETURN","return",200],["T_WHITESPACE"," ",200],["T_INT_CAST","(int)",200],["T_VARIABLE","$this",200],["T_OBJECT_OPERATOR","->",200],["T_STRING","_getStoreConfig",200],"(",["T_STRING","self",200],["T_DOUBLE_COLON","::",200],["T_STRING","CONFIG_XML_PATH_PRICE_DISPLAY_TYPE",200],",",["T_WHITESPACE"," ",200],["T_VARIABLE","$store",200],")",";",["T_WHITESPACE","\n    ",200],"}",["T_WHITESPACE","\n\n    ",201],["T_DOC_COMMENT","\/**\n     * Get configuration setting \"Apply Discount On Prices Including Tax\" value\n     *\n     * @param   null|int $store\n     * @return  0|1\n     *\/",203],["T_WHITESPACE","\n    ",208],["T_PUBLIC","public",209],["T_WHITESPACE"," ",209],["T_FUNCTION","function",209],["T_WHITESPACE"," ",209],["T_STRING","discountTax",209],"(",["T_VARIABLE","$store",209],["T_WHITESPACE"," ",209],"=",["T_WHITESPACE"," ",209],["T_STRING","null",209],")",["T_WHITESPACE","\n    ",209],"{",["T_WHITESPACE","\n        ",210],["T_RETURN","return",211],["T_WHITESPACE"," ",211],"(",["T_INT_CAST","(int)",211],["T_VARIABLE","$this",211],["T_OBJECT_OPERATOR","->",211],["T_STRING","_getStoreConfig",211],"(",["T_STRING","self",211],["T_DOUBLE_COLON","::",211],["T_STRING","CONFIG_XML_PATH_DISCOUNT_TAX",211],",",["T_WHITESPACE"," ",211],["T_VARIABLE","$store",211],")",["T_WHITESPACE"," ",211],["T_IS_EQUAL","==",211],["T_WHITESPACE"," ",211],["T_LNUMBER","1",211],")",";",["T_WHITESPACE","\n    ",211],"}",["T_WHITESPACE","\n\n    ",212],["T_DOC_COMMENT","\/**\n     * Get taxes\/discounts calculation sequence.\n     * This sequence depends on \"Apply Customer Tax\" and \"Apply Discount On Prices\" configuration options.\n     *\n     * @param   null|int|string|Mage_Core_Model_Store $store\n     * @return  string\n     *\/",214],["T_WHITESPACE","\n    ",220],["T_PUBLIC","public",221],["T_WHITESPACE"," ",221],["T_FUNCTION","function",221],["T_WHITESPACE"," ",221],["T_STRING","getCalculationSequence",221],"(",["T_VARIABLE","$store",221],["T_WHITESPACE"," ",221],"=",["T_WHITESPACE"," ",221],["T_STRING","null",221],")",["T_WHITESPACE","\n    ",221],"{",["T_WHITESPACE","\n        ",222],["T_IF","if",223],["T_WHITESPACE"," ",223],"(",["T_VARIABLE","$this",223],["T_OBJECT_OPERATOR","->",223],["T_STRING","applyTaxAfterDiscount",223],"(",["T_VARIABLE","$store",223],")",")",["T_WHITESPACE"," ",223],"{",["T_WHITESPACE","\n            ",223],["T_IF","if",224],["T_WHITESPACE"," ",224],"(",["T_VARIABLE","$this",224],["T_OBJECT_OPERATOR","->",224],["T_STRING","discountTax",224],"(",["T_VARIABLE","$store",224],")",")",["T_WHITESPACE"," ",224],"{",["T_WHITESPACE","\n                ",224],["T_VARIABLE","$seq",225],["T_WHITESPACE"," ",225],"=",["T_WHITESPACE"," ",225],["T_STRING","Mage_Tax_Model_Calculation",225],["T_DOUBLE_COLON","::",225],["T_STRING","CALC_TAX_AFTER_DISCOUNT_ON_INCL",225],";",["T_WHITESPACE","\n            ",225],"}",["T_WHITESPACE"," ",226],["T_ELSE","else",226],["T_WHITESPACE"," ",226],"{",["T_WHITESPACE","\n                ",226],["T_VARIABLE","$seq",227],["T_WHITESPACE"," ",227],"=",["T_WHITESPACE"," ",227],["T_STRING","Mage_Tax_Model_Calculation",227],["T_DOUBLE_COLON","::",227],["T_STRING","CALC_TAX_AFTER_DISCOUNT_ON_EXCL",227],";",["T_WHITESPACE","\n            ",227],"}",["T_WHITESPACE","\n        ",228],"}",["T_WHITESPACE"," ",229],["T_ELSE","else",229],["T_WHITESPACE"," ",229],"{",["T_WHITESPACE","\n            ",229],["T_IF","if",230],["T_WHITESPACE"," ",230],"(",["T_VARIABLE","$this",230],["T_OBJECT_OPERATOR","->",230],["T_STRING","discountTax",230],"(",["T_VARIABLE","$store",230],")",")",["T_WHITESPACE"," ",230],"{",["T_WHITESPACE","\n                ",230],["T_VARIABLE","$seq",231],["T_WHITESPACE"," ",231],"=",["T_WHITESPACE"," ",231],["T_STRING","Mage_Tax_Model_Calculation",231],["T_DOUBLE_COLON","::",231],["T_STRING","CALC_TAX_BEFORE_DISCOUNT_ON_INCL",231],";",["T_WHITESPACE","\n            ",231],"}",["T_WHITESPACE"," ",232],["T_ELSE","else",232],["T_WHITESPACE"," ",232],"{",["T_WHITESPACE","\n                ",232],["T_VARIABLE","$seq",233],["T_WHITESPACE"," ",233],"=",["T_WHITESPACE"," ",233],["T_STRING","Mage_Tax_Model_Calculation",233],["T_DOUBLE_COLON","::",233],["T_STRING","CALC_TAX_BEFORE_DISCOUNT_ON_EXCL",233],";",["T_WHITESPACE","\n            ",233],"}",["T_WHITESPACE","\n        ",234],"}",["T_WHITESPACE","\n        ",235],["T_RETURN","return",236],["T_WHITESPACE"," ",236],["T_VARIABLE","$seq",236],";",["T_WHITESPACE","\n    ",236],"}",["T_WHITESPACE","\n\n    ",237],["T_DOC_COMMENT","\/**\n     * Specify flag what we need use price exclude tax\n     *\n     * @param   bool $flag\n     * @return  Mage_Tax_Model_Config\n     *\/",239],["T_WHITESPACE","\n    ",244],["T_PUBLIC","public",245],["T_WHITESPACE"," ",245],["T_FUNCTION","function",245],["T_WHITESPACE"," ",245],["T_STRING","setNeedUsePriceExcludeTax",245],"(",["T_VARIABLE","$flag",245],")",["T_WHITESPACE","\n    ",245],"{",["T_WHITESPACE","\n        ",246],["T_VARIABLE","$this",247],["T_OBJECT_OPERATOR","->",247],["T_STRING","_needUsePriceExcludeTax",247],["T_WHITESPACE"," ",247],"=",["T_WHITESPACE"," ",247],["T_VARIABLE","$flag",247],";",["T_WHITESPACE","\n        ",247],["T_RETURN","return",248],["T_WHITESPACE"," ",248],["T_VARIABLE","$this",248],";",["T_WHITESPACE","\n    ",248],"}",["T_WHITESPACE","\n\n    ",249],["T_DOC_COMMENT","\/**\n     * Get flag what we need use price exclude tax\n     *\n     * @return bool $flag\n     *\/",251],["T_WHITESPACE","\n    ",255],["T_PUBLIC","public",256],["T_WHITESPACE"," ",256],["T_FUNCTION","function",256],["T_WHITESPACE"," ",256],["T_STRING","getNeedUsePriceExcludeTax",256],"(",")",["T_WHITESPACE","\n    ",256],"{",["T_WHITESPACE","\n        ",257],["T_RETURN","return",258],["T_WHITESPACE"," ",258],["T_VARIABLE","$this",258],["T_OBJECT_OPERATOR","->",258],["T_STRING","_needUsePriceExcludeTax",258],";",["T_WHITESPACE","\n    ",258],"}",["T_WHITESPACE","\n\n    ",259],["T_DOC_COMMENT","\/**\n     * Specify flag what we need use shipping price exclude tax\n     *\n     * @param   bool $flag\n     * @return  Mage_Tax_Model_Config\n     *\/",261],["T_WHITESPACE","\n    ",266],["T_PUBLIC","public",267],["T_WHITESPACE"," ",267],["T_FUNCTION","function",267],["T_WHITESPACE"," ",267],["T_STRING","setNeedUseShippingExcludeTax",267],"(",["T_VARIABLE","$flag",267],")",["T_WHITESPACE","\n    ",267],"{",["T_WHITESPACE","\n        ",268],["T_VARIABLE","$this",269],["T_OBJECT_OPERATOR","->",269],["T_STRING","_needUseShippingExcludeTax",269],["T_WHITESPACE"," ",269],"=",["T_WHITESPACE"," ",269],["T_VARIABLE","$flag",269],";",["T_WHITESPACE","\n        ",269],["T_RETURN","return",270],["T_WHITESPACE"," ",270],["T_VARIABLE","$this",270],";",["T_WHITESPACE","\n    ",270],"}",["T_WHITESPACE","\n\n    ",271],["T_DOC_COMMENT","\/**\n     * Get flag what we need use shipping price exclude tax\n     *\n     * @return bool $flag\n     *\/",273],["T_WHITESPACE","\n    ",277],["T_PUBLIC","public",278],["T_WHITESPACE"," ",278],["T_FUNCTION","function",278],["T_WHITESPACE"," ",278],["T_STRING","getNeedUseShippingExcludeTax",278],"(",")",["T_WHITESPACE","\n    ",278],"{",["T_WHITESPACE","\n        ",279],["T_RETURN","return",280],["T_WHITESPACE"," ",280],["T_VARIABLE","$this",280],["T_OBJECT_OPERATOR","->",280],["T_STRING","_needUseShippingExcludeTax",280],";",["T_WHITESPACE","\n    ",280],"}",["T_WHITESPACE","\n\n\n    ",281],["T_DOC_COMMENT","\/**\n     * Get defined tax calculation agorithm\n     *\n     * @param   store $store\n     * @return  string\n     *\/",284],["T_WHITESPACE","\n    ",289],["T_PUBLIC","public",290],["T_WHITESPACE"," ",290],["T_FUNCTION","function",290],["T_WHITESPACE"," ",290],["T_STRING","getAlgorithm",290],"(",["T_VARIABLE","$store",290],["T_WHITESPACE"," ",290],"=",["T_WHITESPACE"," ",290],["T_STRING","null",290],")",["T_WHITESPACE","\n    ",290],"{",["T_WHITESPACE","\n        ",291],["T_RETURN","return",292],["T_WHITESPACE"," ",292],["T_VARIABLE","$this",292],["T_OBJECT_OPERATOR","->",292],["T_STRING","_getStoreConfig",292],"(",["T_STRING","self",292],["T_DOUBLE_COLON","::",292],["T_STRING","XML_PATH_ALGORITHM",292],",",["T_WHITESPACE"," ",292],["T_VARIABLE","$store",292],")",";",["T_WHITESPACE","\n    ",292],"}",["T_WHITESPACE","\n\n    ",293],["T_DOC_COMMENT","\/**\n     * Get tax class id specified for shipping tax estimation\n     *\n     * @param   store $store\n     * @return  int\n     *\/",295],["T_WHITESPACE","\n    ",300],["T_PUBLIC","public",301],["T_WHITESPACE"," ",301],["T_FUNCTION","function",301],["T_WHITESPACE"," ",301],["T_STRING","getShippingTaxClass",301],"(",["T_VARIABLE","$store",301],["T_WHITESPACE"," ",301],"=",["T_WHITESPACE"," ",301],["T_STRING","null",301],")",["T_WHITESPACE","\n    ",301],"{",["T_WHITESPACE","\n        ",302],["T_RETURN","return",303],["T_WHITESPACE"," ",303],["T_INT_CAST","(int)",303],["T_VARIABLE","$this",303],["T_OBJECT_OPERATOR","->",303],["T_STRING","_getStoreConfig",303],"(",["T_STRING","self",303],["T_DOUBLE_COLON","::",303],["T_STRING","CONFIG_XML_PATH_SHIPPING_TAX_CLASS",303],",",["T_WHITESPACE"," ",303],["T_VARIABLE","$store",303],")",";",["T_WHITESPACE","\n    ",303],"}",["T_WHITESPACE","\n\n    ",304],["T_DOC_COMMENT","\/**\n     * Get shipping methods prices display type\n     *\n     * @param   store $store\n     * @return  int\n     *\/",306],["T_WHITESPACE","\n    ",311],["T_PUBLIC","public",312],["T_WHITESPACE"," ",312],["T_FUNCTION","function",312],["T_WHITESPACE"," ",312],["T_STRING","getShippingPriceDisplayType",312],"(",["T_VARIABLE","$store",312],["T_WHITESPACE"," ",312],"=",["T_WHITESPACE"," ",312],["T_STRING","null",312],")",["T_WHITESPACE","\n    ",312],"{",["T_WHITESPACE","\n        ",313],["T_RETURN","return",314],["T_WHITESPACE"," ",314],["T_INT_CAST","(int)",314],["T_VARIABLE","$this",314],["T_OBJECT_OPERATOR","->",314],["T_STRING","_getStoreConfig",314],"(",["T_STRING","self",314],["T_DOUBLE_COLON","::",314],["T_STRING","CONFIG_XML_PATH_DISPLAY_SHIPPING",314],",",["T_WHITESPACE"," ",314],["T_VARIABLE","$store",314],")",";",["T_WHITESPACE","\n    ",314],"}",["T_WHITESPACE","\n\n    ",315],["T_DOC_COMMENT","\/**\n     * Check if shipping prices include tax\n     *\n     * @param   store $store\n     * @return  bool\n     *\/",317],["T_WHITESPACE","\n    ",322],["T_PUBLIC","public",323],["T_WHITESPACE"," ",323],["T_FUNCTION","function",323],["T_WHITESPACE"," ",323],["T_STRING","shippingPriceIncludesTax",323],"(",["T_VARIABLE","$store",323],["T_WHITESPACE"," ",323],"=",["T_WHITESPACE"," ",323],["T_STRING","null",323],")",["T_WHITESPACE","\n    ",323],"{",["T_WHITESPACE","\n        ",324],["T_IF","if",325],["T_WHITESPACE"," ",325],"(",["T_VARIABLE","$this",325],["T_OBJECT_OPERATOR","->",325],["T_STRING","_shippingPriceIncludeTax",325],["T_WHITESPACE"," ",325],["T_IS_IDENTICAL","===",325],["T_WHITESPACE"," ",325],["T_STRING","null",325],")",["T_WHITESPACE"," ",325],"{",["T_WHITESPACE","\n            ",325],["T_VARIABLE","$this",326],["T_OBJECT_OPERATOR","->",326],["T_STRING","_shippingPriceIncludeTax",326],["T_WHITESPACE"," ",326],"=",["T_WHITESPACE"," ",326],["T_BOOL_CAST","(bool)",326],["T_VARIABLE","$this",326],["T_OBJECT_OPERATOR","->",326],["T_STRING","_getStoreConfig",326],"(",["T_WHITESPACE","\n                ",326],["T_STRING","self",327],["T_DOUBLE_COLON","::",327],["T_STRING","CONFIG_XML_PATH_SHIPPING_INCLUDES_TAX",327],",",["T_WHITESPACE","\n                ",327],["T_VARIABLE","$store",328],["T_WHITESPACE","\n            ",328],")",";",["T_WHITESPACE","\n        ",329],"}",["T_WHITESPACE","\n        ",330],["T_RETURN","return",331],["T_WHITESPACE"," ",331],["T_VARIABLE","$this",331],["T_OBJECT_OPERATOR","->",331],["T_STRING","_shippingPriceIncludeTax",331],";",["T_WHITESPACE","\n    ",331],"}",["T_WHITESPACE","\n\n    ",332],["T_DOC_COMMENT","\/**\n     * Declare shipping prices type\n     * @param bool $flag\n     * @return Mage_Tax_Model_Config\n     *\/",334],["T_WHITESPACE","\n    ",338],["T_PUBLIC","public",339],["T_WHITESPACE"," ",339],["T_FUNCTION","function",339],["T_WHITESPACE"," ",339],["T_STRING","setShippingPriceIncludeTax",339],"(",["T_VARIABLE","$flag",339],")",["T_WHITESPACE","\n    ",339],"{",["T_WHITESPACE","\n        ",340],["T_VARIABLE","$this",341],["T_OBJECT_OPERATOR","->",341],["T_STRING","_shippingPriceIncludeTax",341],["T_WHITESPACE"," ",341],"=",["T_WHITESPACE"," ",341],["T_VARIABLE","$flag",341],";",["T_WHITESPACE","\n        ",341],["T_RETURN","return",342],["T_WHITESPACE"," ",342],["T_VARIABLE","$this",342],";",["T_WHITESPACE","\n    ",342],"}",["T_WHITESPACE","\n\n\n    ",343],["T_DOC_COMMENT","\/**\n     * Check if need display full tax summary information in totals block\n     *\n     * @deprecated please use displayCartFullSummary or displaySalesFullSummary\n     * @param   mixed $store\n     * @return  bool\n     *\/",346],["T_WHITESPACE","\n    ",352],["T_PUBLIC","public",353],["T_WHITESPACE"," ",353],["T_FUNCTION","function",353],["T_WHITESPACE"," ",353],["T_STRING","displayFullSummary",353],"(",["T_VARIABLE","$store",353],["T_WHITESPACE"," ",353],"=",["T_WHITESPACE"," ",353],["T_STRING","null",353],")",["T_WHITESPACE","\n    ",353],"{",["T_WHITESPACE","\n        ",354],["T_RETURN","return",355],["T_WHITESPACE"," ",355],["T_VARIABLE","$this",355],["T_OBJECT_OPERATOR","->",355],["T_STRING","displayCartFullSummary",355],"(",["T_VARIABLE","$store",355],")",";",["T_WHITESPACE","\n    ",355],"}",["T_WHITESPACE","\n\n    ",356],["T_DOC_COMMENT","\/**\n     * Check if need display zero tax in subtotal\n     *\n     * @deprecated please use displayCartZeroTax or displaySalesZeroTax\n     * @param   mixed $store\n     * @return  bool\n     *\/",358],["T_WHITESPACE","\n    ",364],["T_PUBLIC","public",365],["T_WHITESPACE"," ",365],["T_FUNCTION","function",365],["T_WHITESPACE"," ",365],["T_STRING","displayZeroTax",365],"(",["T_VARIABLE","$store",365],["T_WHITESPACE"," ",365],"=",["T_WHITESPACE"," ",365],["T_STRING","null",365],")",["T_WHITESPACE","\n    ",365],"{",["T_WHITESPACE","\n        ",366],["T_RETURN","return",367],["T_WHITESPACE"," ",367],["T_VARIABLE","$this",367],["T_OBJECT_OPERATOR","->",367],["T_STRING","displayCartZeroTax",367],"(",["T_VARIABLE","$store",367],")",";",["T_WHITESPACE","\n    ",367],"}",["T_WHITESPACE","\n\n    ",368],["T_DOC_COMMENT","\/**\n     * Get shopping cart prices display type\n     *\n     * @deprecated please use displayCartPrice or displaySalesZeroTax\n     * @param   mixed $store\n     * @return  bool\n     *\/",370],["T_WHITESPACE","\n    ",376],["T_PUBLIC","public",377],["T_WHITESPACE"," ",377],["T_FUNCTION","function",377],["T_WHITESPACE"," ",377],["T_STRING","displayTaxColumn",377],"(",["T_VARIABLE","$store",377],["T_WHITESPACE"," ",377],"=",["T_WHITESPACE"," ",377],["T_STRING","null",377],")",["T_WHITESPACE","\n    ",377],"{",["T_WHITESPACE","\n        ",378],["T_RETURN","return",379],["T_WHITESPACE"," ",379],["T_BOOL_CAST","(bool)",379],["T_VARIABLE","$this",379],["T_OBJECT_OPERATOR","->",379],["T_STRING","_getStoreConfig",379],"(",["T_STRING","self",379],["T_DOUBLE_COLON","::",379],["T_STRING","CONFIG_XML_PATH_DISPLAY_TAX_COLUMN",379],",",["T_WHITESPACE"," ",379],["T_VARIABLE","$store",379],")",";",["T_WHITESPACE","\n    ",379],"}",["T_WHITESPACE","\n\n    ",380],["T_DOC_COMMENT","\/**\n     * Check if display cart prices included tax\n     *\n     * @param mixed $store\n     * @return bool\n     *\/",382],["T_WHITESPACE","\n    ",387],["T_PUBLIC","public",388],["T_WHITESPACE"," ",388],["T_FUNCTION","function",388],["T_WHITESPACE"," ",388],["T_STRING","displayCartPricesInclTax",388],"(",["T_VARIABLE","$store",388],["T_WHITESPACE"," ",388],"=",["T_WHITESPACE"," ",388],["T_STRING","null",388],")",["T_WHITESPACE","\n    ",388],"{",["T_WHITESPACE","\n        ",389],["T_RETURN","return",390],["T_WHITESPACE"," ",390],["T_VARIABLE","$this",390],["T_OBJECT_OPERATOR","->",390],["T_STRING","_getStoreConfig",390],"(",["T_STRING","self",390],["T_DOUBLE_COLON","::",390],["T_STRING","XML_PATH_DISPLAY_CART_PRICE",390],",",["T_WHITESPACE"," ",390],["T_VARIABLE","$store",390],")",["T_WHITESPACE"," ",390],["T_IS_EQUAL","==",390],["T_WHITESPACE"," ",390],["T_STRING","self",390],["T_DOUBLE_COLON","::",390],["T_STRING","DISPLAY_TYPE_INCLUDING_TAX",390],";",["T_WHITESPACE","\n    ",390],"}",["T_WHITESPACE","\n\n    ",391],["T_DOC_COMMENT","\/**\n     * Check if display cart prices excluded tax\n     *\n     * @param mixed $store\n     * @return bool\n     *\/",393],["T_WHITESPACE","\n    ",398],["T_PUBLIC","public",399],["T_WHITESPACE"," ",399],["T_FUNCTION","function",399],["T_WHITESPACE"," ",399],["T_STRING","displayCartPricesExclTax",399],"(",["T_VARIABLE","$store",399],["T_WHITESPACE"," ",399],"=",["T_WHITESPACE"," ",399],["T_STRING","null",399],")",["T_WHITESPACE","\n    ",399],"{",["T_WHITESPACE","\n        ",400],["T_RETURN","return",401],["T_WHITESPACE"," ",401],["T_VARIABLE","$this",401],["T_OBJECT_OPERATOR","->",401],["T_STRING","_getStoreConfig",401],"(",["T_STRING","self",401],["T_DOUBLE_COLON","::",401],["T_STRING","XML_PATH_DISPLAY_CART_PRICE",401],",",["T_WHITESPACE"," ",401],["T_VARIABLE","$store",401],")",["T_WHITESPACE"," ",401],["T_IS_EQUAL","==",401],["T_WHITESPACE"," ",401],["T_STRING","self",401],["T_DOUBLE_COLON","::",401],["T_STRING","DISPLAY_TYPE_EXCLUDING_TAX",401],";",["T_WHITESPACE","\n    ",401],"}",["T_WHITESPACE","\n\n    ",402],["T_DOC_COMMENT","\/**\n     * Check if display cart prices included and excluded tax\n     *\n     * @param mixed $store\n     * @return bool\n     *\/",404],["T_WHITESPACE","\n    ",409],["T_PUBLIC","public",410],["T_WHITESPACE"," ",410],["T_FUNCTION","function",410],["T_WHITESPACE"," ",410],["T_STRING","displayCartPricesBoth",410],"(",["T_VARIABLE","$store",410],["T_WHITESPACE"," ",410],"=",["T_WHITESPACE"," ",410],["T_STRING","null",410],")",["T_WHITESPACE","\n    ",410],"{",["T_WHITESPACE","\n        ",411],["T_RETURN","return",412],["T_WHITESPACE"," ",412],["T_VARIABLE","$this",412],["T_OBJECT_OPERATOR","->",412],["T_STRING","_getStoreConfig",412],"(",["T_STRING","self",412],["T_DOUBLE_COLON","::",412],["T_STRING","XML_PATH_DISPLAY_CART_PRICE",412],",",["T_WHITESPACE"," ",412],["T_VARIABLE","$store",412],")",["T_WHITESPACE"," ",412],["T_IS_EQUAL","==",412],["T_WHITESPACE"," ",412],["T_STRING","self",412],["T_DOUBLE_COLON","::",412],["T_STRING","DISPLAY_TYPE_BOTH",412],";",["T_WHITESPACE","\n    ",412],"}",["T_WHITESPACE","\n\n    ",413],["T_DOC_COMMENT","\/**\n     * Check if display cart subtotal included tax\n     *\n     * @param mixed $store\n     * @return bool\n     *\/",415],["T_WHITESPACE","\n    ",420],["T_PUBLIC","public",421],["T_WHITESPACE"," ",421],["T_FUNCTION","function",421],["T_WHITESPACE"," ",421],["T_STRING","displayCartSubtotalInclTax",421],"(",["T_VARIABLE","$store",421],["T_WHITESPACE"," ",421],"=",["T_WHITESPACE"," ",421],["T_STRING","null",421],")",["T_WHITESPACE","\n    ",421],"{",["T_WHITESPACE","\n        ",422],["T_RETURN","return",423],["T_WHITESPACE"," ",423],["T_VARIABLE","$this",423],["T_OBJECT_OPERATOR","->",423],["T_STRING","_getStoreConfig",423],"(",["T_STRING","self",423],["T_DOUBLE_COLON","::",423],["T_STRING","XML_PATH_DISPLAY_CART_SUBTOTAL",423],",",["T_WHITESPACE"," ",423],["T_VARIABLE","$store",423],")",["T_WHITESPACE"," ",423],["T_IS_EQUAL","==",423],["T_WHITESPACE"," ",423],["T_STRING","self",423],["T_DOUBLE_COLON","::",423],["T_STRING","DISPLAY_TYPE_INCLUDING_TAX",423],";",["T_WHITESPACE","\n    ",423],"}",["T_WHITESPACE","\n\n    ",424],["T_DOC_COMMENT","\/**\n     * Check if display cart subtotal excluded tax\n     *\n     * @param mixed $store\n     * @return bool\n     *\/",426],["T_WHITESPACE","\n    ",431],["T_PUBLIC","public",432],["T_WHITESPACE"," ",432],["T_FUNCTION","function",432],["T_WHITESPACE"," ",432],["T_STRING","displayCartSubtotalExclTax",432],"(",["T_VARIABLE","$store",432],["T_WHITESPACE"," ",432],"=",["T_WHITESPACE"," ",432],["T_STRING","null",432],")",["T_WHITESPACE","\n    ",432],"{",["T_WHITESPACE","\n        ",433],["T_RETURN","return",434],["T_WHITESPACE"," ",434],["T_VARIABLE","$this",434],["T_OBJECT_OPERATOR","->",434],["T_STRING","_getStoreConfig",434],"(",["T_STRING","self",434],["T_DOUBLE_COLON","::",434],["T_STRING","XML_PATH_DISPLAY_CART_SUBTOTAL",434],",",["T_WHITESPACE"," ",434],["T_VARIABLE","$store",434],")",["T_WHITESPACE"," ",434],["T_IS_EQUAL","==",434],["T_WHITESPACE"," ",434],["T_STRING","self",434],["T_DOUBLE_COLON","::",434],["T_STRING","DISPLAY_TYPE_EXCLUDING_TAX",434],";",["T_WHITESPACE","\n    ",434],"}",["T_WHITESPACE","\n\n    ",435],["T_DOC_COMMENT","\/**\n     * Check if display cart subtotal included and excluded tax\n     *\n     * @param mixed $store\n     * @return bool\n     *\/",437],["T_WHITESPACE","\n    ",442],["T_PUBLIC","public",443],["T_WHITESPACE"," ",443],["T_FUNCTION","function",443],["T_WHITESPACE"," ",443],["T_STRING","displayCartSubtotalBoth",443],"(",["T_VARIABLE","$store",443],["T_WHITESPACE"," ",443],"=",["T_WHITESPACE"," ",443],["T_STRING","null",443],")",["T_WHITESPACE","\n    ",443],"{",["T_WHITESPACE","\n        ",444],["T_RETURN","return",445],["T_WHITESPACE"," ",445],["T_VARIABLE","$this",445],["T_OBJECT_OPERATOR","->",445],["T_STRING","_getStoreConfig",445],"(",["T_STRING","self",445],["T_DOUBLE_COLON","::",445],["T_STRING","XML_PATH_DISPLAY_CART_SUBTOTAL",445],",",["T_WHITESPACE"," ",445],["T_VARIABLE","$store",445],")",["T_WHITESPACE"," ",445],["T_IS_EQUAL","==",445],["T_WHITESPACE"," ",445],["T_STRING","self",445],["T_DOUBLE_COLON","::",445],["T_STRING","DISPLAY_TYPE_BOTH",445],";",["T_WHITESPACE","\n    ",445],"}",["T_WHITESPACE","\n\n    ",446],["T_DOC_COMMENT","\/**\n     * Check if display cart shipping included tax\n     *\n     * @param mixed $store\n     * @return bool\n     *\/",448],["T_WHITESPACE","\n    ",453],["T_PUBLIC","public",454],["T_WHITESPACE"," ",454],["T_FUNCTION","function",454],["T_WHITESPACE"," ",454],["T_STRING","displayCartShippingInclTax",454],"(",["T_VARIABLE","$store",454],["T_WHITESPACE"," ",454],"=",["T_WHITESPACE"," ",454],["T_STRING","null",454],")",["T_WHITESPACE","\n    ",454],"{",["T_WHITESPACE","\n        ",455],["T_RETURN","return",456],["T_WHITESPACE"," ",456],["T_VARIABLE","$this",456],["T_OBJECT_OPERATOR","->",456],["T_STRING","_getStoreConfig",456],"(",["T_STRING","self",456],["T_DOUBLE_COLON","::",456],["T_STRING","XML_PATH_DISPLAY_CART_SHIPPING",456],",",["T_WHITESPACE"," ",456],["T_VARIABLE","$store",456],")",["T_WHITESPACE"," ",456],["T_IS_EQUAL","==",456],["T_WHITESPACE"," ",456],["T_STRING","self",456],["T_DOUBLE_COLON","::",456],["T_STRING","DISPLAY_TYPE_INCLUDING_TAX",456],";",["T_WHITESPACE","\n    ",456],"}",["T_WHITESPACE","\n\n    ",457],["T_DOC_COMMENT","\/**\n     * Check if display cart shipping excluded tax\n     *\n     * @param mixed $store\n     * @return bool\n     *\/",459],["T_WHITESPACE","\n    ",464],["T_PUBLIC","public",465],["T_WHITESPACE"," ",465],["T_FUNCTION","function",465],["T_WHITESPACE"," ",465],["T_STRING","displayCartShippingExclTax",465],"(",["T_VARIABLE","$store",465],["T_WHITESPACE"," ",465],"=",["T_WHITESPACE"," ",465],["T_STRING","null",465],")",["T_WHITESPACE","\n    ",465],"{",["T_WHITESPACE","\n        ",466],["T_RETURN","return",467],["T_WHITESPACE"," ",467],["T_VARIABLE","$this",467],["T_OBJECT_OPERATOR","->",467],["T_STRING","_getStoreConfig",467],"(",["T_STRING","self",467],["T_DOUBLE_COLON","::",467],["T_STRING","XML_PATH_DISPLAY_CART_SHIPPING",467],",",["T_WHITESPACE"," ",467],["T_VARIABLE","$store",467],")",["T_WHITESPACE"," ",467],["T_IS_EQUAL","==",467],["T_WHITESPACE"," ",467],["T_STRING","self",467],["T_DOUBLE_COLON","::",467],["T_STRING","DISPLAY_TYPE_EXCLUDING_TAX",467],";",["T_WHITESPACE","\n    ",467],"}",["T_WHITESPACE","\n\n    ",468],["T_DOC_COMMENT","\/**\n     * Check if display cart shipping included and excluded tax\n     *\n     * @param mixed $store\n     * @return bool\n     *\/",470],["T_WHITESPACE","\n    ",475],["T_PUBLIC","public",476],["T_WHITESPACE"," ",476],["T_FUNCTION","function",476],["T_WHITESPACE"," ",476],["T_STRING","displayCartShippingBoth",476],"(",["T_VARIABLE","$store",476],["T_WHITESPACE"," ",476],"=",["T_WHITESPACE"," ",476],["T_STRING","null",476],")",["T_WHITESPACE","\n    ",476],"{",["T_WHITESPACE","\n        ",477],["T_RETURN","return",478],["T_WHITESPACE"," ",478],["T_VARIABLE","$this",478],["T_OBJECT_OPERATOR","->",478],["T_STRING","_getStoreConfig",478],"(",["T_STRING","self",478],["T_DOUBLE_COLON","::",478],["T_STRING","XML_PATH_DISPLAY_CART_SHIPPING",478],",",["T_WHITESPACE"," ",478],["T_VARIABLE","$store",478],")",["T_WHITESPACE"," ",478],["T_IS_EQUAL","==",478],["T_WHITESPACE"," ",478],["T_STRING","self",478],["T_DOUBLE_COLON","::",478],["T_STRING","DISPLAY_TYPE_BOTH",478],";",["T_WHITESPACE","\n    ",478],"}",["T_WHITESPACE","\n\n    ",479],["T_DOC_COMMENT","\/**\n     * Check if display cart discount included tax\n     *\n     * @param mixed $store\n     * @return bool\n     *\/",481],["T_WHITESPACE","\n    ",486],["T_PUBLIC","public",487],["T_WHITESPACE"," ",487],["T_FUNCTION","function",487],["T_WHITESPACE"," ",487],["T_STRING","displayCartDiscountInclTax",487],"(",["T_VARIABLE","$store",487],["T_WHITESPACE"," ",487],"=",["T_WHITESPACE"," ",487],["T_STRING","null",487],")",["T_WHITESPACE","\n    ",487],"{",["T_WHITESPACE","\n        ",488],["T_RETURN","return",489],["T_WHITESPACE"," ",489],["T_VARIABLE","$this",489],["T_OBJECT_OPERATOR","->",489],["T_STRING","_getStoreConfig",489],"(",["T_STRING","self",489],["T_DOUBLE_COLON","::",489],["T_STRING","XML_PATH_DISPLAY_CART_DISCOUNT",489],",",["T_WHITESPACE"," ",489],["T_VARIABLE","$store",489],")",["T_WHITESPACE"," ",489],["T_IS_EQUAL","==",489],["T_WHITESPACE"," ",489],["T_STRING","self",489],["T_DOUBLE_COLON","::",489],["T_STRING","DISPLAY_TYPE_INCLUDING_TAX",489],";",["T_WHITESPACE","\n    ",489],"}",["T_WHITESPACE","\n\n    ",490],["T_DOC_COMMENT","\/**\n     * Check if display cart discount excluded tax\n     *\n     * @param mixed $store\n     * @return bool\n     *\/",492],["T_WHITESPACE","\n    ",497],["T_PUBLIC","public",498],["T_WHITESPACE"," ",498],["T_FUNCTION","function",498],["T_WHITESPACE"," ",498],["T_STRING","displayCartDiscountExclTax",498],"(",["T_VARIABLE","$store",498],["T_WHITESPACE"," ",498],"=",["T_WHITESPACE"," ",498],["T_STRING","null",498],")",["T_WHITESPACE","\n    ",498],"{",["T_WHITESPACE","\n        ",499],["T_RETURN","return",500],["T_WHITESPACE"," ",500],["T_VARIABLE","$this",500],["T_OBJECT_OPERATOR","->",500],["T_STRING","_getStoreConfig",500],"(",["T_STRING","self",500],["T_DOUBLE_COLON","::",500],["T_STRING","XML_PATH_DISPLAY_CART_DISCOUNT",500],",",["T_WHITESPACE"," ",500],["T_VARIABLE","$store",500],")",["T_WHITESPACE"," ",500],["T_IS_EQUAL","==",500],["T_WHITESPACE"," ",500],["T_STRING","self",500],["T_DOUBLE_COLON","::",500],["T_STRING","DISPLAY_TYPE_EXCLUDING_TAX",500],";",["T_WHITESPACE","\n    ",500],"}",["T_WHITESPACE","\n\n    ",501],["T_DOC_COMMENT","\/**\n     * Check if display cart discount included and excluded tax\n     *\n     * @param mixed $store\n     * @return bool\n     *\/",503],["T_WHITESPACE","\n    ",508],["T_PUBLIC","public",509],["T_WHITESPACE"," ",509],["T_FUNCTION","function",509],["T_WHITESPACE"," ",509],["T_STRING","displayCartDiscountBoth",509],"(",["T_VARIABLE","$store",509],["T_WHITESPACE"," ",509],"=",["T_WHITESPACE"," ",509],["T_STRING","null",509],")",["T_WHITESPACE","\n    ",509],"{",["T_WHITESPACE","\n        ",510],["T_RETURN","return",511],["T_WHITESPACE"," ",511],["T_VARIABLE","$this",511],["T_OBJECT_OPERATOR","->",511],["T_STRING","_getStoreConfig",511],"(",["T_STRING","self",511],["T_DOUBLE_COLON","::",511],["T_STRING","XML_PATH_DISPLAY_CART_DISCOUNT",511],",",["T_WHITESPACE"," ",511],["T_VARIABLE","$store",511],")",["T_WHITESPACE"," ",511],["T_IS_EQUAL","==",511],["T_WHITESPACE"," ",511],["T_STRING","self",511],["T_DOUBLE_COLON","::",511],["T_STRING","DISPLAY_TYPE_BOTH",511],";",["T_WHITESPACE","\n    ",511],"}",["T_WHITESPACE","\n\n    ",512],["T_DOC_COMMENT","\/**\n     * Get display cart tax with grand total\n     *\n     * @param mixed $store\n     * @return bool\n     *\/",514],["T_WHITESPACE","\n    ",519],["T_PUBLIC","public",520],["T_WHITESPACE"," ",520],["T_FUNCTION","function",520],["T_WHITESPACE"," ",520],["T_STRING","displayCartTaxWithGrandTotal",520],"(",["T_VARIABLE","$store",520],["T_WHITESPACE"," ",520],"=",["T_WHITESPACE"," ",520],["T_STRING","null",520],")",["T_WHITESPACE","\n    ",520],"{",["T_WHITESPACE","\n        ",521],["T_RETURN","return",522],["T_WHITESPACE"," ",522],["T_BOOL_CAST","(bool)",522],["T_VARIABLE","$this",522],["T_OBJECT_OPERATOR","->",522],["T_STRING","_getStoreConfig",522],"(",["T_STRING","self",522],["T_DOUBLE_COLON","::",522],["T_STRING","XML_PATH_DISPLAY_CART_GRANDTOTAL",522],",",["T_WHITESPACE"," ",522],["T_VARIABLE","$store",522],")",";",["T_WHITESPACE","\n    ",522],"}",["T_WHITESPACE","\n\n    ",523],["T_DOC_COMMENT","\/**\n     * Get display cart full summary\n     *\n     * @param mixed $store\n     * @return bool\n     *\/",525],["T_WHITESPACE","\n    ",530],["T_PUBLIC","public",531],["T_WHITESPACE"," ",531],["T_FUNCTION","function",531],["T_WHITESPACE"," ",531],["T_STRING","displayCartFullSummary",531],"(",["T_VARIABLE","$store",531],["T_WHITESPACE"," ",531],"=",["T_WHITESPACE"," ",531],["T_STRING","null",531],")",["T_WHITESPACE","\n    ",531],"{",["T_WHITESPACE","\n        ",532],["T_RETURN","return",533],["T_WHITESPACE"," ",533],["T_BOOL_CAST","(bool)",533],["T_VARIABLE","$this",533],["T_OBJECT_OPERATOR","->",533],["T_STRING","_getStoreConfig",533],"(",["T_STRING","self",533],["T_DOUBLE_COLON","::",533],["T_STRING","XML_PATH_DISPLAY_CART_FULL_SUMMARY",533],",",["T_WHITESPACE"," ",533],["T_VARIABLE","$store",533],")",";",["T_WHITESPACE","\n    ",533],"}",["T_WHITESPACE","\n\n    ",534],["T_DOC_COMMENT","\/**\n     * Get display cart zero tax\n     *\n     * @param mixed $store\n     * @return bool\n     *\/",536],["T_WHITESPACE","\n    ",541],["T_PUBLIC","public",542],["T_WHITESPACE"," ",542],["T_FUNCTION","function",542],["T_WHITESPACE"," ",542],["T_STRING","displayCartZeroTax",542],"(",["T_VARIABLE","$store",542],["T_WHITESPACE"," ",542],"=",["T_WHITESPACE"," ",542],["T_STRING","null",542],")",["T_WHITESPACE","\n    ",542],"{",["T_WHITESPACE","\n        ",543],["T_RETURN","return",544],["T_WHITESPACE"," ",544],["T_BOOL_CAST","(bool)",544],["T_VARIABLE","$this",544],["T_OBJECT_OPERATOR","->",544],["T_STRING","_getStoreConfig",544],"(",["T_STRING","self",544],["T_DOUBLE_COLON","::",544],["T_STRING","XML_PATH_DISPLAY_CART_ZERO_TAX",544],",",["T_WHITESPACE"," ",544],["T_VARIABLE","$store",544],")",";",["T_WHITESPACE","\n    ",544],"}",["T_WHITESPACE","\n\n    ",545],["T_DOC_COMMENT","\/**\n     * Check if display sales prices include tax\n     *\n     * @param mixed $store\n     * @return bool\n     *\/",547],["T_WHITESPACE","\n    ",552],["T_PUBLIC","public",553],["T_WHITESPACE"," ",553],["T_FUNCTION","function",553],["T_WHITESPACE"," ",553],["T_STRING","displaySalesPricesInclTax",553],"(",["T_VARIABLE","$store",553],["T_WHITESPACE"," ",553],"=",["T_WHITESPACE"," ",553],["T_STRING","null",553],")",["T_WHITESPACE","\n    ",553],"{",["T_WHITESPACE","\n        ",554],["T_RETURN","return",555],["T_WHITESPACE"," ",555],["T_VARIABLE","$this",555],["T_OBJECT_OPERATOR","->",555],["T_STRING","_getStoreConfig",555],"(",["T_STRING","self",555],["T_DOUBLE_COLON","::",555],["T_STRING","XML_PATH_DISPLAY_SALES_PRICE",555],",",["T_WHITESPACE"," ",555],["T_VARIABLE","$store",555],")",["T_WHITESPACE"," ",555],["T_IS_EQUAL","==",555],["T_WHITESPACE"," ",555],["T_STRING","self",555],["T_DOUBLE_COLON","::",555],["T_STRING","DISPLAY_TYPE_INCLUDING_TAX",555],";",["T_WHITESPACE","\n    ",555],"}",["T_WHITESPACE","\n\n    ",556],["T_DOC_COMMENT","\/**\n     * Check if display sales prices exclude tax\n     *\n     * @param mixed $store\n     * @return bool\n     *\/",558],["T_WHITESPACE","\n    ",563],["T_PUBLIC","public",564],["T_WHITESPACE"," ",564],["T_FUNCTION","function",564],["T_WHITESPACE"," ",564],["T_STRING","displaySalesPricesExclTax",564],"(",["T_VARIABLE","$store",564],["T_WHITESPACE"," ",564],"=",["T_WHITESPACE"," ",564],["T_STRING","null",564],")",["T_WHITESPACE","\n    ",564],"{",["T_WHITESPACE","\n        ",565],["T_RETURN","return",566],["T_WHITESPACE"," ",566],["T_VARIABLE","$this",566],["T_OBJECT_OPERATOR","->",566],["T_STRING","_getStoreConfig",566],"(",["T_STRING","self",566],["T_DOUBLE_COLON","::",566],["T_STRING","XML_PATH_DISPLAY_SALES_PRICE",566],",",["T_WHITESPACE"," ",566],["T_VARIABLE","$store",566],")",["T_WHITESPACE"," ",566],["T_IS_EQUAL","==",566],["T_WHITESPACE"," ",566],["T_STRING","self",566],["T_DOUBLE_COLON","::",566],["T_STRING","DISPLAY_TYPE_EXCLUDING_TAX",566],";",["T_WHITESPACE","\n    ",566],"}",["T_WHITESPACE","\n\n    ",567],["T_DOC_COMMENT","\/**\n     * Check if display sales prices include and exclude tax\n     *\n     * @param mixed $store\n     * @return bool\n     *\/",569],["T_WHITESPACE","\n    ",574],["T_PUBLIC","public",575],["T_WHITESPACE"," ",575],["T_FUNCTION","function",575],["T_WHITESPACE"," ",575],["T_STRING","displaySalesPricesBoth",575],"(",["T_VARIABLE","$store",575],["T_WHITESPACE"," ",575],"=",["T_WHITESPACE"," ",575],["T_STRING","null",575],")",["T_WHITESPACE","\n    ",575],"{",["T_WHITESPACE","\n        ",576],["T_RETURN","return",577],["T_WHITESPACE"," ",577],["T_VARIABLE","$this",577],["T_OBJECT_OPERATOR","->",577],["T_STRING","_getStoreConfig",577],"(",["T_STRING","self",577],["T_DOUBLE_COLON","::",577],["T_STRING","XML_PATH_DISPLAY_SALES_PRICE",577],",",["T_WHITESPACE"," ",577],["T_VARIABLE","$store",577],")",["T_WHITESPACE"," ",577],["T_IS_EQUAL","==",577],["T_WHITESPACE"," ",577],["T_STRING","self",577],["T_DOUBLE_COLON","::",577],["T_STRING","DISPLAY_TYPE_BOTH",577],";",["T_WHITESPACE","\n    ",577],"}",["T_WHITESPACE","\n\n    ",578],["T_DOC_COMMENT","\/**\n     * Check if display sales subtotal include tax\n     *\n     * @param mixed $store\n     * @return bool\n     *\/",580],["T_WHITESPACE","\n    ",585],["T_PUBLIC","public",586],["T_WHITESPACE"," ",586],["T_FUNCTION","function",586],["T_WHITESPACE"," ",586],["T_STRING","displaySalesSubtotalInclTax",586],"(",["T_VARIABLE","$store",586],["T_WHITESPACE"," ",586],"=",["T_WHITESPACE"," ",586],["T_STRING","null",586],")",["T_WHITESPACE","\n    ",586],"{",["T_WHITESPACE","\n        ",587],["T_RETURN","return",588],["T_WHITESPACE"," ",588],["T_VARIABLE","$this",588],["T_OBJECT_OPERATOR","->",588],["T_STRING","_getStoreConfig",588],"(",["T_STRING","self",588],["T_DOUBLE_COLON","::",588],["T_STRING","XML_PATH_DISPLAY_SALES_SUBTOTAL",588],",",["T_WHITESPACE"," ",588],["T_VARIABLE","$store",588],")",["T_WHITESPACE","\n            ",588],["T_IS_EQUAL","==",589],["T_WHITESPACE"," ",589],["T_STRING","self",589],["T_DOUBLE_COLON","::",589],["T_STRING","DISPLAY_TYPE_INCLUDING_TAX",589],";",["T_WHITESPACE","\n    ",589],"}",["T_WHITESPACE","\n\n    ",590],["T_DOC_COMMENT","\/**\n     * Check if display sales subtotal exclude tax\n     *\n     * @param mixed $store\n     * @return bool\n     *\/",592],["T_WHITESPACE","\n    ",597],["T_PUBLIC","public",598],["T_WHITESPACE"," ",598],["T_FUNCTION","function",598],["T_WHITESPACE"," ",598],["T_STRING","displaySalesSubtotalExclTax",598],"(",["T_VARIABLE","$store",598],["T_WHITESPACE"," ",598],"=",["T_WHITESPACE"," ",598],["T_STRING","null",598],")",["T_WHITESPACE","\n    ",598],"{",["T_WHITESPACE","\n        ",599],["T_RETURN","return",600],["T_WHITESPACE"," ",600],["T_VARIABLE","$this",600],["T_OBJECT_OPERATOR","->",600],["T_STRING","_getStoreConfig",600],"(",["T_STRING","self",600],["T_DOUBLE_COLON","::",600],["T_STRING","XML_PATH_DISPLAY_SALES_SUBTOTAL",600],",",["T_WHITESPACE"," ",600],["T_VARIABLE","$store",600],")",["T_WHITESPACE","\n            ",600],["T_IS_EQUAL","==",601],["T_WHITESPACE"," ",601],["T_STRING","self",601],["T_DOUBLE_COLON","::",601],["T_STRING","DISPLAY_TYPE_EXCLUDING_TAX",601],";",["T_WHITESPACE","\n    ",601],"}",["T_WHITESPACE","\n\n    ",602],["T_DOC_COMMENT","\/**\n     * Check if display sales subtotal include and exclude tax\n     *\n     * @param mixed $store\n     * @return bool\n     *\/",604],["T_WHITESPACE","\n    ",609],["T_PUBLIC","public",610],["T_WHITESPACE"," ",610],["T_FUNCTION","function",610],["T_WHITESPACE"," ",610],["T_STRING","displaySalesSubtotalBoth",610],"(",["T_VARIABLE","$store",610],["T_WHITESPACE"," ",610],"=",["T_WHITESPACE"," ",610],["T_STRING","null",610],")",["T_WHITESPACE","\n    ",610],"{",["T_WHITESPACE","\n        ",611],["T_RETURN","return",612],["T_WHITESPACE"," ",612],["T_VARIABLE","$this",612],["T_OBJECT_OPERATOR","->",612],["T_STRING","_getStoreConfig",612],"(",["T_STRING","self",612],["T_DOUBLE_COLON","::",612],["T_STRING","XML_PATH_DISPLAY_SALES_SUBTOTAL",612],",",["T_WHITESPACE"," ",612],["T_VARIABLE","$store",612],")",["T_WHITESPACE"," ",612],["T_IS_EQUAL","==",612],["T_WHITESPACE"," ",612],["T_STRING","self",612],["T_DOUBLE_COLON","::",612],["T_STRING","DISPLAY_TYPE_BOTH",612],";",["T_WHITESPACE","\n    ",612],"}",["T_WHITESPACE","\n\n    ",613],["T_DOC_COMMENT","\/**\n     * Check if display sales shipping include tax\n     *\n     * @param mixed $store\n     * @return bool\n     *\/",615],["T_WHITESPACE","\n    ",620],["T_PUBLIC","public",621],["T_WHITESPACE"," ",621],["T_FUNCTION","function",621],["T_WHITESPACE"," ",621],["T_STRING","displaySalesShippingInclTax",621],"(",["T_VARIABLE","$store",621],["T_WHITESPACE"," ",621],"=",["T_WHITESPACE"," ",621],["T_STRING","null",621],")",["T_WHITESPACE","\n    ",621],"{",["T_WHITESPACE","\n        ",622],["T_RETURN","return",623],["T_WHITESPACE"," ",623],["T_VARIABLE","$this",623],["T_OBJECT_OPERATOR","->",623],["T_STRING","_getStoreConfig",623],"(",["T_STRING","self",623],["T_DOUBLE_COLON","::",623],["T_STRING","XML_PATH_DISPLAY_SALES_SHIPPING",623],",",["T_WHITESPACE"," ",623],["T_VARIABLE","$store",623],")",["T_WHITESPACE","\n            ",623],["T_IS_EQUAL","==",624],["T_WHITESPACE"," ",624],["T_STRING","self",624],["T_DOUBLE_COLON","::",624],["T_STRING","DISPLAY_TYPE_INCLUDING_TAX",624],";",["T_WHITESPACE","\n    ",624],"}",["T_WHITESPACE","\n\n    ",625],["T_DOC_COMMENT","\/**\n     * Check if display sales shipping exclude tax\n     *\n     * @param mixed $store\n     * @return bool\n     *\/",627],["T_WHITESPACE","\n    ",632],["T_PUBLIC","public",633],["T_WHITESPACE"," ",633],["T_FUNCTION","function",633],["T_WHITESPACE"," ",633],["T_STRING","displaySalesShippingExclTax",633],"(",["T_VARIABLE","$store",633],["T_WHITESPACE"," ",633],"=",["T_WHITESPACE"," ",633],["T_STRING","null",633],")",["T_WHITESPACE","\n    ",633],"{",["T_WHITESPACE","\n        ",634],["T_RETURN","return",635],["T_WHITESPACE"," ",635],["T_VARIABLE","$this",635],["T_OBJECT_OPERATOR","->",635],["T_STRING","_getStoreConfig",635],"(",["T_STRING","self",635],["T_DOUBLE_COLON","::",635],["T_STRING","XML_PATH_DISPLAY_SALES_SHIPPING",635],",",["T_WHITESPACE"," ",635],["T_VARIABLE","$store",635],")",["T_WHITESPACE","\n            ",635],["T_IS_EQUAL","==",636],["T_WHITESPACE"," ",636],["T_STRING","self",636],["T_DOUBLE_COLON","::",636],["T_STRING","DISPLAY_TYPE_EXCLUDING_TAX",636],";",["T_WHITESPACE","\n    ",636],"}",["T_WHITESPACE","\n\n    ",637],["T_DOC_COMMENT","\/**\n     * Check if display sales shipping include and exclude tax\n     *\n     * @param mixed $store\n     * @return bool\n     *\/",639],["T_WHITESPACE","\n    ",644],["T_PUBLIC","public",645],["T_WHITESPACE"," ",645],["T_FUNCTION","function",645],["T_WHITESPACE"," ",645],["T_STRING","displaySalesShippingBoth",645],"(",["T_VARIABLE","$store",645],["T_WHITESPACE"," ",645],"=",["T_WHITESPACE"," ",645],["T_STRING","null",645],")",["T_WHITESPACE","\n    ",645],"{",["T_WHITESPACE","\n        ",646],["T_RETURN","return",647],["T_WHITESPACE"," ",647],["T_VARIABLE","$this",647],["T_OBJECT_OPERATOR","->",647],["T_STRING","_getStoreConfig",647],"(",["T_STRING","self",647],["T_DOUBLE_COLON","::",647],["T_STRING","XML_PATH_DISPLAY_SALES_SHIPPING",647],",",["T_WHITESPACE"," ",647],["T_VARIABLE","$store",647],")",["T_WHITESPACE"," ",647],["T_IS_EQUAL","==",647],["T_WHITESPACE"," ",647],["T_STRING","self",647],["T_DOUBLE_COLON","::",647],["T_STRING","DISPLAY_TYPE_BOTH",647],";",["T_WHITESPACE","\n    ",647],"}",["T_WHITESPACE","\n\n    ",648],["T_DOC_COMMENT","\/**\n     * Check if display sales discount include tax\n     *\n     * @param mixed $store\n     * @return bool\n     *\/",650],["T_WHITESPACE","\n    ",655],["T_PUBLIC","public",656],["T_WHITESPACE"," ",656],["T_FUNCTION","function",656],["T_WHITESPACE"," ",656],["T_STRING","displaySalesDiscountInclTax",656],"(",["T_VARIABLE","$store",656],["T_WHITESPACE"," ",656],"=",["T_WHITESPACE"," ",656],["T_STRING","null",656],")",["T_WHITESPACE","\n    ",656],"{",["T_WHITESPACE","\n        ",657],["T_RETURN","return",658],["T_WHITESPACE"," ",658],["T_VARIABLE","$this",658],["T_OBJECT_OPERATOR","->",658],["T_STRING","_getStoreConfig",658],"(",["T_STRING","self",658],["T_DOUBLE_COLON","::",658],["T_STRING","XML_PATH_DISPLAY_SALES_DISCOUNT",658],",",["T_WHITESPACE"," ",658],["T_VARIABLE","$store",658],")",["T_WHITESPACE","\n            ",658],["T_IS_EQUAL","==",659],["T_WHITESPACE"," ",659],["T_STRING","self",659],["T_DOUBLE_COLON","::",659],["T_STRING","DISPLAY_TYPE_INCLUDING_TAX",659],";",["T_WHITESPACE","\n    ",659],"}",["T_WHITESPACE","\n\n    ",660],["T_DOC_COMMENT","\/**\n     * Check if display sales discount exclude tax\n     *\n     * @param mixed $store\n     * @return bool\n     *\/",662],["T_WHITESPACE","\n    ",667],["T_PUBLIC","public",668],["T_WHITESPACE"," ",668],["T_FUNCTION","function",668],["T_WHITESPACE"," ",668],["T_STRING","displaySalestDiscountExclTax",668],"(",["T_VARIABLE","$store",668],["T_WHITESPACE"," ",668],"=",["T_WHITESPACE"," ",668],["T_STRING","null",668],")",["T_WHITESPACE","\n    ",668],"{",["T_WHITESPACE","\n        ",669],["T_RETURN","return",670],["T_WHITESPACE"," ",670],["T_VARIABLE","$this",670],["T_OBJECT_OPERATOR","->",670],["T_STRING","_getStoreConfig",670],"(",["T_STRING","self",670],["T_DOUBLE_COLON","::",670],["T_STRING","XML_PATH_DISPLAY_SALES_DISCOUNT",670],",",["T_WHITESPACE"," ",670],["T_VARIABLE","$store",670],")",["T_WHITESPACE","\n            ",670],["T_IS_EQUAL","==",671],["T_WHITESPACE"," ",671],["T_STRING","self",671],["T_DOUBLE_COLON","::",671],["T_STRING","DISPLAY_TYPE_EXCLUDING_TAX",671],";",["T_WHITESPACE","\n    ",671],"}",["T_WHITESPACE","\n\n    ",672],["T_DOC_COMMENT","\/**\n     * Check if display sales discount include and exclude tax\n     *\n     * @param mixed $store\n     * @return bool\n     *\/",674],["T_WHITESPACE","\n    ",679],["T_PUBLIC","public",680],["T_WHITESPACE"," ",680],["T_FUNCTION","function",680],["T_WHITESPACE"," ",680],["T_STRING","displaySalesDiscountBoth",680],"(",["T_VARIABLE","$store",680],["T_WHITESPACE"," ",680],"=",["T_WHITESPACE"," ",680],["T_STRING","null",680],")",["T_WHITESPACE","\n    ",680],"{",["T_WHITESPACE","\n        ",681],["T_RETURN","return",682],["T_WHITESPACE"," ",682],["T_VARIABLE","$this",682],["T_OBJECT_OPERATOR","->",682],["T_STRING","_getStoreConfig",682],"(",["T_STRING","self",682],["T_DOUBLE_COLON","::",682],["T_STRING","XML_PATH_DISPLAY_SALES_DISCOUNT",682],",",["T_WHITESPACE"," ",682],["T_VARIABLE","$store",682],")",["T_WHITESPACE"," ",682],["T_IS_EQUAL","==",682],["T_WHITESPACE"," ",682],["T_STRING","self",682],["T_DOUBLE_COLON","::",682],["T_STRING","DISPLAY_TYPE_BOTH",682],";",["T_WHITESPACE","\n    ",682],"}",["T_WHITESPACE","\n\n    ",683],["T_DOC_COMMENT","\/**\n     * Get display sales tax with grand total\n     *\n     * @param mixed $store\n     * @return bool\n     *\/",685],["T_WHITESPACE","\n    ",690],["T_PUBLIC","public",691],["T_WHITESPACE"," ",691],["T_FUNCTION","function",691],["T_WHITESPACE"," ",691],["T_STRING","displaySalesTaxWithGrandTotal",691],"(",["T_VARIABLE","$store",691],["T_WHITESPACE"," ",691],"=",["T_WHITESPACE"," ",691],["T_STRING","null",691],")",["T_WHITESPACE","\n    ",691],"{",["T_WHITESPACE","\n        ",692],["T_RETURN","return",693],["T_WHITESPACE"," ",693],["T_BOOL_CAST","(bool)",693],["T_VARIABLE","$this",693],["T_OBJECT_OPERATOR","->",693],["T_STRING","_getStoreConfig",693],"(",["T_STRING","self",693],["T_DOUBLE_COLON","::",693],["T_STRING","XML_PATH_DISPLAY_SALES_GRANDTOTAL",693],",",["T_WHITESPACE"," ",693],["T_VARIABLE","$store",693],")",";",["T_WHITESPACE","\n    ",693],"}",["T_WHITESPACE","\n\n    ",694],["T_DOC_COMMENT","\/**\n     * Get display sales full summary\n     *\n     * @param mixed $store\n     * @return bool\n     *\/",696],["T_WHITESPACE","\n    ",701],["T_PUBLIC","public",702],["T_WHITESPACE"," ",702],["T_FUNCTION","function",702],["T_WHITESPACE"," ",702],["T_STRING","displaySalesFullSummary",702],"(",["T_VARIABLE","$store",702],["T_WHITESPACE"," ",702],"=",["T_WHITESPACE"," ",702],["T_STRING","null",702],")",["T_WHITESPACE","\n    ",702],"{",["T_WHITESPACE","\n        ",703],["T_RETURN","return",704],["T_WHITESPACE"," ",704],["T_BOOL_CAST","(bool)",704],["T_VARIABLE","$this",704],["T_OBJECT_OPERATOR","->",704],["T_STRING","_getStoreConfig",704],"(",["T_STRING","self",704],["T_DOUBLE_COLON","::",704],["T_STRING","XML_PATH_DISPLAY_SALES_FULL_SUMMARY",704],",",["T_WHITESPACE"," ",704],["T_VARIABLE","$store",704],")",";",["T_WHITESPACE","\n    ",704],"}",["T_WHITESPACE","\n\n    ",705],["T_DOC_COMMENT","\/**\n     * Get display sales zero tax\n     *\n     * @param mixed $store\n     * @return bool\n     *\/",707],["T_WHITESPACE","\n    ",712],["T_PUBLIC","public",713],["T_WHITESPACE"," ",713],["T_FUNCTION","function",713],["T_WHITESPACE"," ",713],["T_STRING","displaySalesZeroTax",713],"(",["T_VARIABLE","$store",713],["T_WHITESPACE"," ",713],"=",["T_WHITESPACE"," ",713],["T_STRING","null",713],")",["T_WHITESPACE","\n    ",713],"{",["T_WHITESPACE","\n        ",714],["T_RETURN","return",715],["T_WHITESPACE"," ",715],["T_BOOL_CAST","(bool)",715],["T_VARIABLE","$this",715],["T_OBJECT_OPERATOR","->",715],["T_STRING","_getStoreConfig",715],"(",["T_STRING","self",715],["T_DOUBLE_COLON","::",715],["T_STRING","XML_PATH_DISPLAY_SALES_ZERO_TAX",715],",",["T_WHITESPACE"," ",715],["T_VARIABLE","$store",715],")",";",["T_WHITESPACE","\n    ",715],"}",["T_WHITESPACE","\n\n    ",716],["T_DOC_COMMENT","\/**\n     * Check if tax calculation type and price display settings are compatible\n     *\n     * invalid settings if\n     *      Tax Calculation Method Based On 'Total' or 'Row'\n     *      and at least one Price Display Settings has 'Including and Excluding Tax' value\n     *\n     * @param mixed $store\n     * @return bool\n     *\/",718],["T_WHITESPACE","\n    ",727],["T_PUBLIC","public",728],["T_WHITESPACE"," ",728],["T_FUNCTION","function",728],["T_WHITESPACE"," ",728],["T_STRING","checkDisplaySettings",728],"(",["T_VARIABLE","$store",728],["T_WHITESPACE"," ",728],"=",["T_WHITESPACE"," ",728],["T_STRING","null",728],")",["T_WHITESPACE","\n    ",728],"{",["T_WHITESPACE","\n        ",729],["T_IF","if",730],["T_WHITESPACE"," ",730],"(",["T_VARIABLE","$this",730],["T_OBJECT_OPERATOR","->",730],["T_STRING","getAlgorithm",730],"(",["T_VARIABLE","$store",730],")",["T_WHITESPACE"," ",730],["T_IS_EQUAL","==",730],["T_WHITESPACE"," ",730],["T_STRING","Mage_Tax_Model_Calculation",730],["T_DOUBLE_COLON","::",730],["T_STRING","CALC_UNIT_BASE",730],")",["T_WHITESPACE"," ",730],"{",["T_WHITESPACE","\n            ",730],["T_RETURN","return",731],["T_WHITESPACE"," ",731],["T_STRING","true",731],";",["T_WHITESPACE","\n        ",731],"}",["T_WHITESPACE","\n        ",732],["T_RETURN","return",733],["T_WHITESPACE"," ",733],["T_VARIABLE","$this",733],["T_OBJECT_OPERATOR","->",733],["T_STRING","getPriceDisplayType",733],"(",["T_VARIABLE","$store",733],")",["T_WHITESPACE"," ",733],["T_IS_NOT_EQUAL","!=",733],["T_WHITESPACE"," ",733],["T_STRING","self",733],["T_DOUBLE_COLON","::",733],["T_STRING","DISPLAY_TYPE_BOTH",733],["T_WHITESPACE","\n            ",733],["T_BOOLEAN_AND","&&",734],["T_WHITESPACE"," ",734],["T_VARIABLE","$this",734],["T_OBJECT_OPERATOR","->",734],["T_STRING","getShippingPriceDisplayType",734],"(",["T_VARIABLE","$store",734],")",["T_WHITESPACE"," ",734],["T_IS_NOT_EQUAL","!=",734],["T_WHITESPACE"," ",734],["T_STRING","self",734],["T_DOUBLE_COLON","::",734],["T_STRING","DISPLAY_TYPE_BOTH",734],["T_WHITESPACE","\n            ",734],["T_BOOLEAN_AND","&&",735],["T_WHITESPACE"," ",735],"!",["T_VARIABLE","$this",735],["T_OBJECT_OPERATOR","->",735],["T_STRING","displayCartPricesBoth",735],"(",["T_VARIABLE","$store",735],")",["T_WHITESPACE","\n            ",735],["T_BOOLEAN_AND","&&",736],["T_WHITESPACE"," ",736],"!",["T_VARIABLE","$this",736],["T_OBJECT_OPERATOR","->",736],["T_STRING","displayCartSubtotalBoth",736],"(",["T_VARIABLE","$store",736],")",["T_WHITESPACE","\n            ",736],["T_BOOLEAN_AND","&&",737],["T_WHITESPACE"," ",737],"!",["T_VARIABLE","$this",737],["T_OBJECT_OPERATOR","->",737],["T_STRING","displayCartShippingBoth",737],"(",["T_VARIABLE","$store",737],")",["T_WHITESPACE","\n            ",737],["T_BOOLEAN_AND","&&",738],["T_WHITESPACE"," ",738],"!",["T_VARIABLE","$this",738],["T_OBJECT_OPERATOR","->",738],["T_STRING","displaySalesPricesBoth",738],"(",["T_VARIABLE","$store",738],")",["T_WHITESPACE","\n            ",738],["T_BOOLEAN_AND","&&",739],["T_WHITESPACE"," ",739],"!",["T_VARIABLE","$this",739],["T_OBJECT_OPERATOR","->",739],["T_STRING","displaySalesSubtotalBoth",739],"(",["T_VARIABLE","$store",739],")",["T_WHITESPACE","\n            ",739],["T_BOOLEAN_AND","&&",740],["T_WHITESPACE"," ",740],"!",["T_VARIABLE","$this",740],["T_OBJECT_OPERATOR","->",740],["T_STRING","displaySalesShippingBoth",740],"(",["T_VARIABLE","$store",740],")",";",["T_WHITESPACE","\n    ",740],"}",["T_WHITESPACE","\n\n    ",741],["T_DOC_COMMENT","\/**\n     * Check if tax discount settings are compatible\n     *\n     * Matrix for invalid discount settings is as follows:\n     *      Before Discount \/ Excluding Tax\n     *      Before Discount \/ Including Tax\n     *\n     * @param mixed $store\n     * @return bool\n     *\/",743],["T_WHITESPACE","\n    ",752],["T_PUBLIC","public",753],["T_WHITESPACE"," ",753],["T_FUNCTION","function",753],["T_WHITESPACE"," ",753],["T_STRING","checkDiscountSettings",753],"(",["T_VARIABLE","$store",753],["T_WHITESPACE"," ",753],"=",["T_WHITESPACE"," ",753],["T_STRING","null",753],")",["T_WHITESPACE","\n    ",753],"{",["T_WHITESPACE","\n        ",754],["T_RETURN","return",755],["T_WHITESPACE"," ",755],["T_VARIABLE","$this",755],["T_OBJECT_OPERATOR","->",755],["T_STRING","applyTaxAfterDiscount",755],"(",["T_VARIABLE","$store",755],")",";",["T_WHITESPACE","\n    ",755],"}",["T_WHITESPACE","\n\n    ",756],["T_DOC_COMMENT","\/**\n     * Return the config value for self::CONFIG_XML_PATH_CROSS_BORDER_TRADE_ENABLED\n     *\n     * @param int|null $store\n     * @return int\n     *\/",758],["T_WHITESPACE","\n    ",763],["T_PUBLIC","public",764],["T_WHITESPACE"," ",764],["T_FUNCTION","function",764],["T_WHITESPACE"," ",764],["T_STRING","crossBorderTradeEnabled",764],"(",["T_VARIABLE","$store",764],["T_WHITESPACE"," ",764],"=",["T_WHITESPACE"," ",764],["T_STRING","null",764],")",["T_WHITESPACE","\n    ",764],"{",["T_WHITESPACE","\n        ",765],["T_RETURN","return",766],["T_WHITESPACE"," ",766],["T_VARIABLE","$this",766],["T_OBJECT_OPERATOR","->",766],["T_STRING","_getStoreConfig",766],"(",["T_STRING","self",766],["T_DOUBLE_COLON","::",766],["T_STRING","CONFIG_XML_PATH_CROSS_BORDER_TRADE_ENABLED",766],",",["T_WHITESPACE"," ",766],["T_VARIABLE","$store",766],")",";",["T_WHITESPACE","\n    ",766],"}",["T_WHITESPACE","\n",767],"}",["T_WHITESPACE","\n",768]]