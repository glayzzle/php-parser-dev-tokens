[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Magento\n *\n * NOTICE OF LICENSE\n *\n * This source file is subject to the Open Software License (OSL 3.0)\n * that is bundled with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/opensource.org\/licenses\/osl-3.0.php\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@magento.com so we can send you a copy immediately.\n *\n * DISCLAIMER\n *\n * Do not edit or add to this file if you wish to upgrade Magento to newer\n * versions in the future. If you wish to customize Magento for your\n * needs please refer to http:\/\/www.magento.com for more information.\n *\n * @category    Mage\n * @package     Mage_Usa\n * @copyright  Copyright (c) 2006-2016 X.commerce, Inc. and affiliates (http:\/\/www.magento.com)\n * @license    http:\/\/opensource.org\/licenses\/osl-3.0.php  Open Software License (OSL 3.0)\n *\/",2],["T_WHITESPACE","\n\n\n",25],["T_DOC_COMMENT","\/**\n * UPS shipping implementation\n *\n * @category   Mage\n * @package    Mage_Usa\n * @author      Magento Core Team <core@magentocommerce.com>\n *\/",28],["T_WHITESPACE","\n",34],["T_CLASS","class",35],["T_WHITESPACE"," ",35],["T_STRING","Mage_Usa_Model_Shipping_Carrier_Ups",35],["T_WHITESPACE","\n    ",35],["T_EXTENDS","extends",36],["T_WHITESPACE"," ",36],["T_STRING","Mage_Usa_Model_Shipping_Carrier_Abstract",36],["T_WHITESPACE","\n    ",36],["T_IMPLEMENTS","implements",37],["T_WHITESPACE"," ",37],["T_STRING","Mage_Shipping_Model_Carrier_Interface",37],["T_WHITESPACE","\n",37],"{",["T_WHITESPACE","\n\n    ",38],["T_DOC_COMMENT","\/**\n     * Code of the carrier\n     *\n     * @var string\n     *\/",40],["T_WHITESPACE","\n    ",44],["T_CONST","const",45],["T_WHITESPACE"," ",45],["T_STRING","CODE",45],["T_WHITESPACE"," ",45],"=",["T_WHITESPACE"," ",45],["T_CONSTANT_ENCAPSED_STRING","'ups'",45],";",["T_WHITESPACE","\n\n    ",45],["T_DOC_COMMENT","\/**\n     * Delivery Confirmation level based on origin\/destination\n     *\n     * @var int\n     *\/",47],["T_WHITESPACE","\n    ",51],["T_CONST","const",52],["T_WHITESPACE"," ",52],["T_STRING","DELIVERY_CONFIRMATION_SHIPMENT",52],["T_WHITESPACE"," ",52],"=",["T_WHITESPACE"," ",52],["T_LNUMBER","1",52],";",["T_WHITESPACE","\n    ",52],["T_CONST","const",53],["T_WHITESPACE"," ",53],["T_STRING","DELIVERY_CONFIRMATION_PACKAGE",53],["T_WHITESPACE"," ",53],"=",["T_WHITESPACE"," ",53],["T_LNUMBER","2",53],";",["T_WHITESPACE","\n\n    ",53],["T_DOC_COMMENT","\/**\n     * Code of the carrier\n     *\n     * @var string\n     *\/",55],["T_WHITESPACE","\n    ",59],["T_PROTECTED","protected",60],["T_WHITESPACE"," ",60],["T_VARIABLE","$_code",60],["T_WHITESPACE"," ",60],"=",["T_WHITESPACE"," ",60],["T_STRING","self",60],["T_DOUBLE_COLON","::",60],["T_STRING","CODE",60],";",["T_WHITESPACE","\n\n    ",60],["T_DOC_COMMENT","\/**\n     * Rate request data\n     *\n     * @var Mage_Shipping_Model_Rate_Request|null\n     *\/",62],["T_WHITESPACE","\n    ",66],["T_PROTECTED","protected",67],["T_WHITESPACE"," ",67],["T_VARIABLE","$_request",67],["T_WHITESPACE"," ",67],"=",["T_WHITESPACE"," ",67],["T_STRING","null",67],";",["T_WHITESPACE","\n\n    ",67],["T_DOC_COMMENT","\/**\n     * Raw rate request data\n     *\n     * @var Varien_Object|null\n     *\/",69],["T_WHITESPACE","\n    ",73],["T_PROTECTED","protected",74],["T_WHITESPACE"," ",74],["T_VARIABLE","$_rawRequest",74],["T_WHITESPACE"," ",74],"=",["T_WHITESPACE"," ",74],["T_STRING","null",74],";",["T_WHITESPACE","\n\n    ",74],["T_DOC_COMMENT","\/**\n     * Rate result data\n     *\n     * @var Mage_Shipping_Model_Rate_Result|null\n     *\/",76],["T_WHITESPACE","\n    ",80],["T_PROTECTED","protected",81],["T_WHITESPACE"," ",81],["T_VARIABLE","$_result",81],["T_WHITESPACE"," ",81],"=",["T_WHITESPACE"," ",81],["T_STRING","null",81],";",["T_WHITESPACE","\n\n    ",81],["T_DOC_COMMENT","\/**\n     * Base currency rate\n     *\n     * @var double\n     *\/",83],["T_WHITESPACE","\n    ",87],["T_PROTECTED","protected",88],["T_WHITESPACE"," ",88],["T_VARIABLE","$_baseCurrencyRate",88],";",["T_WHITESPACE","\n\n    ",88],["T_DOC_COMMENT","\/**\n     * Xml access request\n     *\n     * @var string\n     *\/",90],["T_WHITESPACE","\n    ",94],["T_PROTECTED","protected",95],["T_WHITESPACE"," ",95],["T_VARIABLE","$_xmlAccessRequest",95],["T_WHITESPACE"," ",95],"=",["T_WHITESPACE"," ",95],["T_STRING","null",95],";",["T_WHITESPACE","\n\n    ",95],["T_DOC_COMMENT","\/**\n     * Default cgi gateway url\n     *\n     * @var string\n     *\/",97],["T_WHITESPACE","\n    ",101],["T_PROTECTED","protected",102],["T_WHITESPACE"," ",102],["T_VARIABLE","$_defaultCgiGatewayUrl",102],["T_WHITESPACE"," ",102],"=",["T_WHITESPACE"," ",102],["T_CONSTANT_ENCAPSED_STRING","'http:\/\/www.ups.com:80\/using\/services\/rave\/qcostcgi.cgi'",102],";",["T_WHITESPACE","\n\n    ",102],["T_DOC_COMMENT","\/**\n     * Default urls for XML\n     *\n     * @var array\n     *\/",104],["T_WHITESPACE","\n    ",108],["T_PROTECTED","protected",109],["T_WHITESPACE"," ",109],["T_VARIABLE","$_defaultUrls",109],["T_WHITESPACE"," ",109],"=",["T_WHITESPACE"," ",109],["T_ARRAY","array",109],"(",["T_WHITESPACE","\n        ",109],["T_CONSTANT_ENCAPSED_STRING","'Rate'",110],["T_WHITESPACE","        ",110],["T_DOUBLE_ARROW","=>",110],["T_WHITESPACE"," ",110],["T_CONSTANT_ENCAPSED_STRING","'https:\/\/onlinetools.ups.com\/ups.app\/xml\/Rate'",110],",",["T_WHITESPACE","\n        ",110],["T_CONSTANT_ENCAPSED_STRING","'Track'",111],["T_WHITESPACE","       ",111],["T_DOUBLE_ARROW","=>",111],["T_WHITESPACE"," ",111],["T_CONSTANT_ENCAPSED_STRING","'https:\/\/onlinetools.ups.com\/ups.app\/xml\/Track'",111],",",["T_WHITESPACE","\n        ",111],["T_CONSTANT_ENCAPSED_STRING","'ShipConfirm'",112],["T_WHITESPACE"," ",112],["T_DOUBLE_ARROW","=>",112],["T_WHITESPACE"," ",112],["T_CONSTANT_ENCAPSED_STRING","'https:\/\/onlinetools.ups.com\/ups.app\/xml\/ShipConfirm'",112],",",["T_WHITESPACE","\n        ",112],["T_CONSTANT_ENCAPSED_STRING","'ShipAccept'",113],["T_WHITESPACE","  ",113],["T_DOUBLE_ARROW","=>",113],["T_WHITESPACE"," ",113],["T_CONSTANT_ENCAPSED_STRING","'https:\/\/onlinetools.ups.com\/ups.app\/xml\/ShipAccept'",113],",",["T_WHITESPACE","\n    ",113],")",";",["T_WHITESPACE","\n\n    ",114],["T_DOC_COMMENT","\/**\n     * Container types that could be customized for UPS carrier\n     *\n     * @var array\n     *\/",116],["T_WHITESPACE","\n    ",120],["T_PROTECTED","protected",121],["T_WHITESPACE"," ",121],["T_VARIABLE","$_customizableContainerTypes",121],["T_WHITESPACE"," ",121],"=",["T_WHITESPACE"," ",121],["T_ARRAY","array",121],"(",["T_CONSTANT_ENCAPSED_STRING","'CP'",121],",",["T_WHITESPACE"," ",121],["T_CONSTANT_ENCAPSED_STRING","'CSP'",121],")",";",["T_WHITESPACE","\n\n    ",121],["T_DOC_COMMENT","\/**\n     * Collect and get rates\n     *\n     * @param Mage_Shipping_Model_Rate_Request $request\n     * @return Mage_Shipping_Model_Rate_Result|bool|null\n     *\/",123],["T_WHITESPACE","\n\n    ",128],["T_PUBLIC","public",130],["T_WHITESPACE"," ",130],["T_FUNCTION","function",130],["T_WHITESPACE"," ",130],["T_STRING","collectRates",130],"(",["T_STRING","Mage_Shipping_Model_Rate_Request",130],["T_WHITESPACE"," ",130],["T_VARIABLE","$request",130],")",["T_WHITESPACE","\n    ",130],"{",["T_WHITESPACE","\n        ",131],["T_IF","if",132],["T_WHITESPACE"," ",132],"(","!",["T_VARIABLE","$this",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","getConfigFlag",132],"(",["T_VARIABLE","$this",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","_activeFlag",132],")",")",["T_WHITESPACE"," ",132],"{",["T_WHITESPACE","\n            ",132],["T_RETURN","return",133],["T_WHITESPACE"," ",133],["T_STRING","false",133],";",["T_WHITESPACE","\n        ",133],"}",["T_WHITESPACE","\n\n        ",134],["T_VARIABLE","$this",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","setRequest",136],"(",["T_VARIABLE","$request",136],")",";",["T_WHITESPACE","\n\n        ",136],["T_VARIABLE","$this",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","_result",138],["T_WHITESPACE"," ",138],"=",["T_WHITESPACE"," ",138],["T_VARIABLE","$this",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","_getQuotes",138],"(",")",";",["T_WHITESPACE","\n        ",138],["T_VARIABLE","$this",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","_updateFreeMethodQuote",139],"(",["T_VARIABLE","$request",139],")",";",["T_WHITESPACE","\n\n        ",139],["T_RETURN","return",141],["T_WHITESPACE"," ",141],["T_VARIABLE","$this",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","getResult",141],"(",")",";",["T_WHITESPACE","\n    ",141],"}",["T_WHITESPACE","\n\n    ",142],["T_DOC_COMMENT","\/**\n     * Prepare and set request to this instance\n     *\n     * @param Mage_Shipping_Model_Rate_Request $request\n     * @return Mage_Usa_Model_Shipping_Carrier_Ups\n     *\/",144],["T_WHITESPACE","\n    ",149],["T_PUBLIC","public",150],["T_WHITESPACE"," ",150],["T_FUNCTION","function",150],["T_WHITESPACE"," ",150],["T_STRING","setRequest",150],"(",["T_STRING","Mage_Shipping_Model_Rate_Request",150],["T_WHITESPACE"," ",150],["T_VARIABLE","$request",150],")",["T_WHITESPACE","\n    ",150],"{",["T_WHITESPACE","\n        ",151],["T_VARIABLE","$this",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","_request",152],["T_WHITESPACE"," ",152],"=",["T_WHITESPACE"," ",152],["T_VARIABLE","$request",152],";",["T_WHITESPACE","\n\n        ",152],["T_VARIABLE","$r",154],["T_WHITESPACE"," ",154],"=",["T_WHITESPACE"," ",154],["T_NEW","new",154],["T_WHITESPACE"," ",154],["T_STRING","Varien_Object",154],"(",")",";",["T_WHITESPACE","\n\n        ",154],["T_IF","if",156],["T_WHITESPACE"," ",156],"(",["T_VARIABLE","$request",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","getLimitMethod",156],"(",")",")",["T_WHITESPACE"," ",156],"{",["T_WHITESPACE","\n            ",156],["T_VARIABLE","$r",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","setAction",157],"(",["T_VARIABLE","$this",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","getCode",157],"(",["T_CONSTANT_ENCAPSED_STRING","'action'",157],",",["T_WHITESPACE"," ",157],["T_CONSTANT_ENCAPSED_STRING","'single'",157],")",")",";",["T_WHITESPACE","\n            ",157],["T_VARIABLE","$r",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","setProduct",158],"(",["T_VARIABLE","$request",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","getLimitMethod",158],"(",")",")",";",["T_WHITESPACE","\n        ",158],"}",["T_WHITESPACE"," ",159],["T_ELSE","else",159],["T_WHITESPACE"," ",159],"{",["T_WHITESPACE","\n            ",159],["T_VARIABLE","$r",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","setAction",160],"(",["T_VARIABLE","$this",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","getCode",160],"(",["T_CONSTANT_ENCAPSED_STRING","'action'",160],",",["T_WHITESPACE"," ",160],["T_CONSTANT_ENCAPSED_STRING","'all'",160],")",")",";",["T_WHITESPACE","\n            ",160],["T_VARIABLE","$r",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","setProduct",161],"(",["T_CONSTANT_ENCAPSED_STRING","'GND'",161],".",["T_VARIABLE","$this",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","getConfigData",161],"(",["T_CONSTANT_ENCAPSED_STRING","'dest_type'",161],")",")",";",["T_WHITESPACE","\n        ",161],"}",["T_WHITESPACE","\n\n        ",162],["T_IF","if",164],["T_WHITESPACE"," ",164],"(",["T_VARIABLE","$request",164],["T_OBJECT_OPERATOR","->",164],["T_STRING","getUpsPickup",164],"(",")",")",["T_WHITESPACE"," ",164],"{",["T_WHITESPACE","\n            ",164],["T_VARIABLE","$pickup",165],["T_WHITESPACE"," ",165],"=",["T_WHITESPACE"," ",165],["T_VARIABLE","$request",165],["T_OBJECT_OPERATOR","->",165],["T_STRING","getUpsPickup",165],"(",")",";",["T_WHITESPACE","\n        ",165],"}",["T_WHITESPACE"," ",166],["T_ELSE","else",166],["T_WHITESPACE"," ",166],"{",["T_WHITESPACE","\n            ",166],["T_VARIABLE","$pickup",167],["T_WHITESPACE"," ",167],"=",["T_WHITESPACE"," ",167],["T_VARIABLE","$this",167],["T_OBJECT_OPERATOR","->",167],["T_STRING","getConfigData",167],"(",["T_CONSTANT_ENCAPSED_STRING","'pickup'",167],")",";",["T_WHITESPACE","\n        ",167],"}",["T_WHITESPACE","\n        ",168],["T_VARIABLE","$r",169],["T_OBJECT_OPERATOR","->",169],["T_STRING","setPickup",169],"(",["T_VARIABLE","$this",169],["T_OBJECT_OPERATOR","->",169],["T_STRING","getCode",169],"(",["T_CONSTANT_ENCAPSED_STRING","'pickup'",169],",",["T_WHITESPACE"," ",169],["T_VARIABLE","$pickup",169],")",")",";",["T_WHITESPACE","\n\n        ",169],["T_IF","if",171],["T_WHITESPACE"," ",171],"(",["T_VARIABLE","$request",171],["T_OBJECT_OPERATOR","->",171],["T_STRING","getUpsContainer",171],"(",")",")",["T_WHITESPACE"," ",171],"{",["T_WHITESPACE","\n            ",171],["T_VARIABLE","$container",172],["T_WHITESPACE"," ",172],"=",["T_WHITESPACE"," ",172],["T_VARIABLE","$request",172],["T_OBJECT_OPERATOR","->",172],["T_STRING","getUpsContainer",172],"(",")",";",["T_WHITESPACE","\n        ",172],"}",["T_WHITESPACE"," ",173],["T_ELSE","else",173],["T_WHITESPACE"," ",173],"{",["T_WHITESPACE","\n            ",173],["T_VARIABLE","$container",174],["T_WHITESPACE"," ",174],"=",["T_WHITESPACE"," ",174],["T_VARIABLE","$this",174],["T_OBJECT_OPERATOR","->",174],["T_STRING","getConfigData",174],"(",["T_CONSTANT_ENCAPSED_STRING","'container'",174],")",";",["T_WHITESPACE","\n        ",174],"}",["T_WHITESPACE","\n        ",175],["T_VARIABLE","$r",176],["T_OBJECT_OPERATOR","->",176],["T_STRING","setContainer",176],"(",["T_VARIABLE","$this",176],["T_OBJECT_OPERATOR","->",176],["T_STRING","getCode",176],"(",["T_CONSTANT_ENCAPSED_STRING","'container'",176],",",["T_WHITESPACE"," ",176],["T_VARIABLE","$container",176],")",")",";",["T_WHITESPACE","\n\n        ",176],["T_IF","if",178],["T_WHITESPACE"," ",178],"(",["T_VARIABLE","$request",178],["T_OBJECT_OPERATOR","->",178],["T_STRING","getUpsDestType",178],"(",")",")",["T_WHITESPACE"," ",178],"{",["T_WHITESPACE","\n            ",178],["T_VARIABLE","$destType",179],["T_WHITESPACE"," ",179],"=",["T_WHITESPACE"," ",179],["T_VARIABLE","$request",179],["T_OBJECT_OPERATOR","->",179],["T_STRING","getUpsDestType",179],"(",")",";",["T_WHITESPACE","\n        ",179],"}",["T_WHITESPACE"," ",180],["T_ELSE","else",180],["T_WHITESPACE"," ",180],"{",["T_WHITESPACE","\n            ",180],["T_VARIABLE","$destType",181],["T_WHITESPACE"," ",181],"=",["T_WHITESPACE"," ",181],["T_VARIABLE","$this",181],["T_OBJECT_OPERATOR","->",181],["T_STRING","getConfigData",181],"(",["T_CONSTANT_ENCAPSED_STRING","'dest_type'",181],")",";",["T_WHITESPACE","\n        ",181],"}",["T_WHITESPACE","\n        ",182],["T_VARIABLE","$r",183],["T_OBJECT_OPERATOR","->",183],["T_STRING","setDestType",183],"(",["T_VARIABLE","$this",183],["T_OBJECT_OPERATOR","->",183],["T_STRING","getCode",183],"(",["T_CONSTANT_ENCAPSED_STRING","'dest_type'",183],",",["T_WHITESPACE"," ",183],["T_VARIABLE","$destType",183],")",")",";",["T_WHITESPACE","\n\n        ",183],["T_IF","if",185],["T_WHITESPACE"," ",185],"(",["T_VARIABLE","$request",185],["T_OBJECT_OPERATOR","->",185],["T_STRING","getOrigCountry",185],"(",")",")",["T_WHITESPACE"," ",185],"{",["T_WHITESPACE","\n            ",185],["T_VARIABLE","$origCountry",186],["T_WHITESPACE"," ",186],"=",["T_WHITESPACE"," ",186],["T_VARIABLE","$request",186],["T_OBJECT_OPERATOR","->",186],["T_STRING","getOrigCountry",186],"(",")",";",["T_WHITESPACE","\n        ",186],"}",["T_WHITESPACE"," ",187],["T_ELSE","else",187],["T_WHITESPACE"," ",187],"{",["T_WHITESPACE","\n            ",187],["T_VARIABLE","$origCountry",188],["T_WHITESPACE"," ",188],"=",["T_WHITESPACE"," ",188],["T_STRING","Mage",188],["T_DOUBLE_COLON","::",188],["T_STRING","getStoreConfig",188],"(",["T_WHITESPACE","\n                ",188],["T_STRING","Mage_Shipping_Model_Shipping",189],["T_DOUBLE_COLON","::",189],["T_STRING","XML_PATH_STORE_COUNTRY_ID",189],",",["T_WHITESPACE","\n                ",189],["T_VARIABLE","$request",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","getStoreId",190],"(",")",["T_WHITESPACE","\n            ",190],")",";",["T_WHITESPACE","\n        ",191],"}",["T_WHITESPACE","\n\n        ",192],["T_VARIABLE","$r",194],["T_OBJECT_OPERATOR","->",194],["T_STRING","setOrigCountry",194],"(",["T_STRING","Mage",194],["T_DOUBLE_COLON","::",194],["T_STRING","getModel",194],"(",["T_CONSTANT_ENCAPSED_STRING","'directory\/country'",194],")",["T_OBJECT_OPERATOR","->",194],["T_STRING","load",194],"(",["T_VARIABLE","$origCountry",194],")",["T_OBJECT_OPERATOR","->",194],["T_STRING","getIso2Code",194],"(",")",")",";",["T_WHITESPACE","\n\n        ",194],["T_IF","if",196],["T_WHITESPACE"," ",196],"(",["T_VARIABLE","$request",196],["T_OBJECT_OPERATOR","->",196],["T_STRING","getOrigRegionCode",196],"(",")",")",["T_WHITESPACE"," ",196],"{",["T_WHITESPACE","\n            ",196],["T_VARIABLE","$origRegionCode",197],["T_WHITESPACE"," ",197],"=",["T_WHITESPACE"," ",197],["T_VARIABLE","$request",197],["T_OBJECT_OPERATOR","->",197],["T_STRING","getOrigRegionCode",197],"(",")",";",["T_WHITESPACE","\n        ",197],"}",["T_WHITESPACE"," ",198],["T_ELSE","else",198],["T_WHITESPACE"," ",198],"{",["T_WHITESPACE","\n            ",198],["T_VARIABLE","$origRegionCode",199],["T_WHITESPACE"," ",199],"=",["T_WHITESPACE"," ",199],["T_STRING","Mage",199],["T_DOUBLE_COLON","::",199],["T_STRING","getStoreConfig",199],"(",["T_WHITESPACE","\n                ",199],["T_STRING","Mage_Shipping_Model_Shipping",200],["T_DOUBLE_COLON","::",200],["T_STRING","XML_PATH_STORE_REGION_ID",200],",",["T_WHITESPACE","\n                ",200],["T_VARIABLE","$request",201],["T_OBJECT_OPERATOR","->",201],["T_STRING","getStoreId",201],"(",")",["T_WHITESPACE","\n            ",201],")",";",["T_WHITESPACE","\n        ",202],"}",["T_WHITESPACE","\n        ",203],["T_IF","if",204],["T_WHITESPACE"," ",204],"(",["T_STRING","is_numeric",204],"(",["T_VARIABLE","$origRegionCode",204],")",")",["T_WHITESPACE"," ",204],"{",["T_WHITESPACE","\n            ",204],["T_VARIABLE","$origRegionCode",205],["T_WHITESPACE"," ",205],"=",["T_WHITESPACE"," ",205],["T_STRING","Mage",205],["T_DOUBLE_COLON","::",205],["T_STRING","getModel",205],"(",["T_CONSTANT_ENCAPSED_STRING","'directory\/region'",205],")",["T_OBJECT_OPERATOR","->",205],["T_STRING","load",205],"(",["T_VARIABLE","$origRegionCode",205],")",["T_OBJECT_OPERATOR","->",205],["T_STRING","getCode",205],"(",")",";",["T_WHITESPACE","\n        ",205],"}",["T_WHITESPACE","\n        ",206],["T_VARIABLE","$r",207],["T_OBJECT_OPERATOR","->",207],["T_STRING","setOrigRegionCode",207],"(",["T_VARIABLE","$origRegionCode",207],")",";",["T_WHITESPACE","\n\n        ",207],["T_IF","if",209],["T_WHITESPACE"," ",209],"(",["T_VARIABLE","$request",209],["T_OBJECT_OPERATOR","->",209],["T_STRING","getOrigPostcode",209],"(",")",")",["T_WHITESPACE"," ",209],"{",["T_WHITESPACE","\n            ",209],["T_VARIABLE","$r",210],["T_OBJECT_OPERATOR","->",210],["T_STRING","setOrigPostal",210],"(",["T_VARIABLE","$request",210],["T_OBJECT_OPERATOR","->",210],["T_STRING","getOrigPostcode",210],"(",")",")",";",["T_WHITESPACE","\n        ",210],"}",["T_WHITESPACE"," ",211],["T_ELSE","else",211],["T_WHITESPACE"," ",211],"{",["T_WHITESPACE","\n            ",211],["T_VARIABLE","$r",212],["T_OBJECT_OPERATOR","->",212],["T_STRING","setOrigPostal",212],"(",["T_STRING","Mage",212],["T_DOUBLE_COLON","::",212],["T_STRING","getStoreConfig",212],"(",["T_WHITESPACE","\n                ",212],["T_STRING","Mage_Shipping_Model_Shipping",213],["T_DOUBLE_COLON","::",213],["T_STRING","XML_PATH_STORE_ZIP",213],",",["T_WHITESPACE","\n                ",213],["T_VARIABLE","$request",214],["T_OBJECT_OPERATOR","->",214],["T_STRING","getStoreId",214],"(",")",["T_WHITESPACE","\n            ",214],")",")",";",["T_WHITESPACE","\n        ",215],"}",["T_WHITESPACE","\n\n        ",216],["T_IF","if",218],["T_WHITESPACE"," ",218],"(",["T_VARIABLE","$request",218],["T_OBJECT_OPERATOR","->",218],["T_STRING","getOrigCity",218],"(",")",")",["T_WHITESPACE"," ",218],"{",["T_WHITESPACE","\n            ",218],["T_VARIABLE","$r",219],["T_OBJECT_OPERATOR","->",219],["T_STRING","setOrigCity",219],"(",["T_VARIABLE","$request",219],["T_OBJECT_OPERATOR","->",219],["T_STRING","getOrigCity",219],"(",")",")",";",["T_WHITESPACE","\n        ",219],"}",["T_WHITESPACE"," ",220],["T_ELSE","else",220],["T_WHITESPACE"," ",220],"{",["T_WHITESPACE","\n            ",220],["T_VARIABLE","$r",221],["T_OBJECT_OPERATOR","->",221],["T_STRING","setOrigCity",221],"(",["T_STRING","Mage",221],["T_DOUBLE_COLON","::",221],["T_STRING","getStoreConfig",221],"(",["T_WHITESPACE","\n                ",221],["T_STRING","Mage_Shipping_Model_Shipping",222],["T_DOUBLE_COLON","::",222],["T_STRING","XML_PATH_STORE_CITY",222],",",["T_WHITESPACE","\n                ",222],["T_VARIABLE","$request",223],["T_OBJECT_OPERATOR","->",223],["T_STRING","getStoreId",223],"(",")",["T_WHITESPACE","\n            ",223],")",")",";",["T_WHITESPACE","\n        ",224],"}",["T_WHITESPACE","\n\n\n        ",225],["T_IF","if",228],["T_WHITESPACE"," ",228],"(",["T_VARIABLE","$request",228],["T_OBJECT_OPERATOR","->",228],["T_STRING","getDestCountryId",228],"(",")",")",["T_WHITESPACE"," ",228],"{",["T_WHITESPACE","\n            ",228],["T_VARIABLE","$destCountry",229],["T_WHITESPACE"," ",229],"=",["T_WHITESPACE"," ",229],["T_VARIABLE","$request",229],["T_OBJECT_OPERATOR","->",229],["T_STRING","getDestCountryId",229],"(",")",";",["T_WHITESPACE","\n        ",229],"}",["T_WHITESPACE"," ",230],["T_ELSE","else",230],["T_WHITESPACE"," ",230],"{",["T_WHITESPACE","\n            ",230],["T_VARIABLE","$destCountry",231],["T_WHITESPACE"," ",231],"=",["T_WHITESPACE"," ",231],["T_STRING","self",231],["T_DOUBLE_COLON","::",231],["T_STRING","USA_COUNTRY_ID",231],";",["T_WHITESPACE","\n        ",231],"}",["T_WHITESPACE","\n\n        ",232],["T_COMMENT","\/\/for UPS, puero rico state for US will assume as puerto rico country\n",234],["T_WHITESPACE","        ",235],["T_IF","if",235],["T_WHITESPACE"," ",235],"(",["T_VARIABLE","$destCountry",235],["T_WHITESPACE"," ",235],["T_IS_EQUAL","==",235],["T_WHITESPACE"," ",235],["T_STRING","self",235],["T_DOUBLE_COLON","::",235],["T_STRING","USA_COUNTRY_ID",235],["T_WHITESPACE","\n            ",235],["T_BOOLEAN_AND","&&",236],["T_WHITESPACE"," ",236],"(",["T_VARIABLE","$request",236],["T_OBJECT_OPERATOR","->",236],["T_STRING","getDestPostcode",236],"(",")",["T_IS_EQUAL","==",236],["T_CONSTANT_ENCAPSED_STRING","'00912'",236],["T_WHITESPACE"," ",236],["T_BOOLEAN_OR","||",236],["T_WHITESPACE"," ",236],["T_VARIABLE","$request",236],["T_OBJECT_OPERATOR","->",236],["T_STRING","getDestRegionCode",236],"(",")",["T_IS_EQUAL","==",236],["T_STRING","self",236],["T_DOUBLE_COLON","::",236],["T_STRING","PUERTORICO_COUNTRY_ID",236],")",["T_WHITESPACE","\n        ",236],")",["T_WHITESPACE"," ",237],"{",["T_WHITESPACE","\n            ",237],["T_VARIABLE","$destCountry",238],["T_WHITESPACE"," ",238],"=",["T_WHITESPACE"," ",238],["T_STRING","self",238],["T_DOUBLE_COLON","::",238],["T_STRING","PUERTORICO_COUNTRY_ID",238],";",["T_WHITESPACE","\n        ",238],"}",["T_WHITESPACE","\n\n        ",239],["T_COMMENT","\/\/ For UPS, Guam state of the USA will be represented by Guam country\n",241],["T_WHITESPACE","        ",242],["T_IF","if",242],["T_WHITESPACE"," ",242],"(",["T_VARIABLE","$destCountry",242],["T_WHITESPACE"," ",242],["T_IS_EQUAL","==",242],["T_WHITESPACE"," ",242],["T_STRING","self",242],["T_DOUBLE_COLON","::",242],["T_STRING","USA_COUNTRY_ID",242],["T_WHITESPACE"," ",242],["T_BOOLEAN_AND","&&",242],["T_WHITESPACE"," ",242],["T_VARIABLE","$request",242],["T_OBJECT_OPERATOR","->",242],["T_STRING","getDestRegionCode",242],"(",")",["T_WHITESPACE"," ",242],["T_IS_EQUAL","==",242],["T_WHITESPACE"," ",242],["T_STRING","self",242],["T_DOUBLE_COLON","::",242],["T_STRING","GUAM_REGION_CODE",242],")",["T_WHITESPACE"," ",242],"{",["T_WHITESPACE","\n            ",242],["T_VARIABLE","$destCountry",243],["T_WHITESPACE"," ",243],"=",["T_WHITESPACE"," ",243],["T_STRING","self",243],["T_DOUBLE_COLON","::",243],["T_STRING","GUAM_COUNTRY_ID",243],";",["T_WHITESPACE","\n        ",243],"}",["T_WHITESPACE","\n\n        ",244],["T_VARIABLE","$r",246],["T_OBJECT_OPERATOR","->",246],["T_STRING","setDestCountry",246],"(",["T_STRING","Mage",246],["T_DOUBLE_COLON","::",246],["T_STRING","getModel",246],"(",["T_CONSTANT_ENCAPSED_STRING","'directory\/country'",246],")",["T_OBJECT_OPERATOR","->",246],["T_STRING","load",246],"(",["T_VARIABLE","$destCountry",246],")",["T_OBJECT_OPERATOR","->",246],["T_STRING","getIso2Code",246],"(",")",")",";",["T_WHITESPACE","\n\n        ",246],["T_VARIABLE","$r",248],["T_OBJECT_OPERATOR","->",248],["T_STRING","setDestRegionCode",248],"(",["T_VARIABLE","$request",248],["T_OBJECT_OPERATOR","->",248],["T_STRING","getDestRegionCode",248],"(",")",")",";",["T_WHITESPACE","\n\n        ",248],["T_IF","if",250],["T_WHITESPACE"," ",250],"(",["T_VARIABLE","$request",250],["T_OBJECT_OPERATOR","->",250],["T_STRING","getDestPostcode",250],"(",")",")",["T_WHITESPACE"," ",250],"{",["T_WHITESPACE","\n            ",250],["T_VARIABLE","$r",251],["T_OBJECT_OPERATOR","->",251],["T_STRING","setDestPostal",251],"(",["T_VARIABLE","$request",251],["T_OBJECT_OPERATOR","->",251],["T_STRING","getDestPostcode",251],"(",")",")",";",["T_WHITESPACE","\n        ",251],"}",["T_WHITESPACE"," ",252],["T_ELSE","else",252],["T_WHITESPACE"," ",252],"{",["T_WHITESPACE","\n\n        ",252],"}",["T_WHITESPACE","\n\n        ",254],["T_VARIABLE","$weight",256],["T_WHITESPACE"," ",256],"=",["T_WHITESPACE"," ",256],["T_VARIABLE","$this",256],["T_OBJECT_OPERATOR","->",256],["T_STRING","getTotalNumOfBoxes",256],"(",["T_VARIABLE","$request",256],["T_OBJECT_OPERATOR","->",256],["T_STRING","getPackageWeight",256],"(",")",")",";",["T_WHITESPACE","\n\n        ",256],["T_VARIABLE","$weight",258],["T_WHITESPACE"," ",258],"=",["T_WHITESPACE"," ",258],["T_VARIABLE","$this",258],["T_OBJECT_OPERATOR","->",258],["T_STRING","_getCorrectWeight",258],"(",["T_VARIABLE","$weight",258],")",";",["T_WHITESPACE","\n\n        ",258],["T_VARIABLE","$r",260],["T_OBJECT_OPERATOR","->",260],["T_STRING","setWeight",260],"(",["T_VARIABLE","$weight",260],")",";",["T_WHITESPACE","\n        ",260],["T_IF","if",261],["T_WHITESPACE"," ",261],"(",["T_VARIABLE","$request",261],["T_OBJECT_OPERATOR","->",261],["T_STRING","getFreeMethodWeight",261],"(",")",["T_IS_NOT_EQUAL","!=",261],["T_VARIABLE","$request",261],["T_OBJECT_OPERATOR","->",261],["T_STRING","getPackageWeight",261],"(",")",")",["T_WHITESPACE"," ",261],"{",["T_WHITESPACE","\n            ",261],["T_VARIABLE","$r",262],["T_OBJECT_OPERATOR","->",262],["T_STRING","setFreeMethodWeight",262],"(",["T_VARIABLE","$request",262],["T_OBJECT_OPERATOR","->",262],["T_STRING","getFreeMethodWeight",262],"(",")",")",";",["T_WHITESPACE","\n        ",262],"}",["T_WHITESPACE","\n\n        ",263],["T_VARIABLE","$r",265],["T_OBJECT_OPERATOR","->",265],["T_STRING","setValue",265],"(",["T_VARIABLE","$request",265],["T_OBJECT_OPERATOR","->",265],["T_STRING","getPackageValue",265],"(",")",")",";",["T_WHITESPACE","\n        ",265],["T_VARIABLE","$r",266],["T_OBJECT_OPERATOR","->",266],["T_STRING","setValueWithDiscount",266],"(",["T_VARIABLE","$request",266],["T_OBJECT_OPERATOR","->",266],["T_STRING","getPackageValueWithDiscount",266],"(",")",")",";",["T_WHITESPACE","\n\n        ",266],["T_IF","if",268],["T_WHITESPACE"," ",268],"(",["T_VARIABLE","$request",268],["T_OBJECT_OPERATOR","->",268],["T_STRING","getUpsUnitMeasure",268],"(",")",")",["T_WHITESPACE"," ",268],"{",["T_WHITESPACE","\n            ",268],["T_VARIABLE","$unit",269],["T_WHITESPACE"," ",269],"=",["T_WHITESPACE"," ",269],["T_VARIABLE","$request",269],["T_OBJECT_OPERATOR","->",269],["T_STRING","getUpsUnitMeasure",269],"(",")",";",["T_WHITESPACE","\n        ",269],"}",["T_WHITESPACE"," ",270],["T_ELSE","else",270],["T_WHITESPACE"," ",270],"{",["T_WHITESPACE","\n            ",270],["T_VARIABLE","$unit",271],["T_WHITESPACE"," ",271],"=",["T_WHITESPACE"," ",271],["T_VARIABLE","$this",271],["T_OBJECT_OPERATOR","->",271],["T_STRING","getConfigData",271],"(",["T_CONSTANT_ENCAPSED_STRING","'unit_of_measure'",271],")",";",["T_WHITESPACE","\n        ",271],"}",["T_WHITESPACE","\n        ",272],["T_VARIABLE","$r",273],["T_OBJECT_OPERATOR","->",273],["T_STRING","setUnitMeasure",273],"(",["T_VARIABLE","$unit",273],")",";",["T_WHITESPACE","\n\n        ",273],["T_VARIABLE","$r",275],["T_OBJECT_OPERATOR","->",275],["T_STRING","setIsReturn",275],"(",["T_VARIABLE","$request",275],["T_OBJECT_OPERATOR","->",275],["T_STRING","getIsReturn",275],"(",")",")",";",["T_WHITESPACE","\n\n        ",275],["T_VARIABLE","$r",277],["T_OBJECT_OPERATOR","->",277],["T_STRING","setBaseSubtotalInclTax",277],"(",["T_VARIABLE","$request",277],["T_OBJECT_OPERATOR","->",277],["T_STRING","getBaseSubtotalInclTax",277],"(",")",")",";",["T_WHITESPACE","\n\n        ",277],["T_VARIABLE","$this",279],["T_OBJECT_OPERATOR","->",279],["T_STRING","_rawRequest",279],["T_WHITESPACE"," ",279],"=",["T_WHITESPACE"," ",279],["T_VARIABLE","$r",279],";",["T_WHITESPACE","\n\n        ",279],["T_RETURN","return",281],["T_WHITESPACE"," ",281],["T_VARIABLE","$this",281],";",["T_WHITESPACE","\n    ",281],"}",["T_WHITESPACE","\n\n    ",282],["T_DOC_COMMENT","\/**\n     * Get correct weigt.\n     *\n     * Namely:\n     * Checks the current weight to comply with the minimum weight standards set by the carrier.\n     * Then strictly rounds the weight up until the first significant digit after the decimal point.\n     *\n     * @param float|integer|double $weight\n     * @return float\n     *\/",284],["T_WHITESPACE","\n    ",293],["T_PROTECTED","protected",294],["T_WHITESPACE"," ",294],["T_FUNCTION","function",294],["T_WHITESPACE"," ",294],["T_STRING","_getCorrectWeight",294],"(",["T_VARIABLE","$weight",294],")",["T_WHITESPACE","\n    ",294],"{",["T_WHITESPACE","\n        ",295],["T_VARIABLE","$minWeight",296],["T_WHITESPACE"," ",296],"=",["T_WHITESPACE"," ",296],["T_VARIABLE","$this",296],["T_OBJECT_OPERATOR","->",296],["T_STRING","getConfigData",296],"(",["T_CONSTANT_ENCAPSED_STRING","'min_package_weight'",296],")",";",["T_WHITESPACE","\n\n        ",296],["T_IF","if",298],"(",["T_VARIABLE","$weight",298],["T_WHITESPACE"," ",298],"<",["T_WHITESPACE"," ",298],["T_VARIABLE","$minWeight",298],")","{",["T_WHITESPACE","\n            ",298],["T_VARIABLE","$weight",299],["T_WHITESPACE"," ",299],"=",["T_WHITESPACE"," ",299],["T_VARIABLE","$minWeight",299],";",["T_WHITESPACE","\n        ",299],"}",["T_WHITESPACE","\n\n        ",300],["T_COMMENT","\/\/rounds a number to one significant figure\n",302],["T_WHITESPACE","        ",303],["T_VARIABLE","$weight",303],["T_WHITESPACE"," ",303],"=",["T_WHITESPACE"," ",303],["T_STRING","ceil",303],"(",["T_VARIABLE","$weight",303],"*",["T_LNUMBER","10",303],")",["T_WHITESPACE"," ",303],"\/",["T_WHITESPACE"," ",303],["T_LNUMBER","10",303],";",["T_WHITESPACE","\n\n        ",303],["T_RETURN","return",305],["T_WHITESPACE"," ",305],["T_VARIABLE","$weight",305],";",["T_WHITESPACE","\n    ",305],"}",["T_WHITESPACE","\n\n    ",306],["T_DOC_COMMENT","\/**\n     * Get result of request\n     *\n     * @return mixed\n     *\/",308],["T_WHITESPACE","\n    ",312],["T_PUBLIC","public",313],["T_WHITESPACE"," ",313],["T_FUNCTION","function",313],["T_WHITESPACE"," ",313],["T_STRING","getResult",313],"(",")",["T_WHITESPACE","\n    ",313],"{",["T_WHITESPACE","\n       ",314],["T_RETURN","return",315],["T_WHITESPACE"," ",315],["T_VARIABLE","$this",315],["T_OBJECT_OPERATOR","->",315],["T_STRING","_result",315],";",["T_WHITESPACE","\n    ",315],"}",["T_WHITESPACE","\n\n    ",316],["T_DOC_COMMENT","\/**\n     * Do remote request for  and handle errors\n     *\n     * @return Mage_Shipping_Model_Rate_Result\n     *\/",318],["T_WHITESPACE","\n    ",322],["T_PROTECTED","protected",323],["T_WHITESPACE"," ",323],["T_FUNCTION","function",323],["T_WHITESPACE"," ",323],["T_STRING","_getQuotes",323],"(",")",["T_WHITESPACE","\n    ",323],"{",["T_WHITESPACE","\n        ",324],["T_SWITCH","switch",325],["T_WHITESPACE"," ",325],"(",["T_VARIABLE","$this",325],["T_OBJECT_OPERATOR","->",325],["T_STRING","getConfigData",325],"(",["T_CONSTANT_ENCAPSED_STRING","'type'",325],")",")",["T_WHITESPACE"," ",325],"{",["T_WHITESPACE","\n            ",325],["T_CASE","case",326],["T_WHITESPACE"," ",326],["T_CONSTANT_ENCAPSED_STRING","'UPS'",326],":",["T_WHITESPACE","\n               ",326],["T_RETURN","return",327],["T_WHITESPACE"," ",327],["T_VARIABLE","$this",327],["T_OBJECT_OPERATOR","->",327],["T_STRING","_getCgiQuotes",327],"(",")",";",["T_WHITESPACE","\n\n            ",327],["T_CASE","case",329],["T_WHITESPACE"," ",329],["T_CONSTANT_ENCAPSED_STRING","'UPS_XML'",329],":",["T_WHITESPACE","\n               ",329],["T_RETURN","return",330],["T_WHITESPACE"," ",330],["T_VARIABLE","$this",330],["T_OBJECT_OPERATOR","->",330],["T_STRING","_getXmlQuotes",330],"(",")",";",["T_WHITESPACE","\n        ",330],"}",["T_WHITESPACE","\n        ",331],["T_RETURN","return",332],["T_WHITESPACE"," ",332],["T_STRING","null",332],";",["T_WHITESPACE","\n    ",332],"}",["T_WHITESPACE","\n\n    ",333],["T_DOC_COMMENT","\/**\n     * Set free method request\n     *\n     * @param string $freeMethod\n     * @return null\n     *\/",335],["T_WHITESPACE","\n    ",340],["T_PROTECTED","protected",341],["T_WHITESPACE"," ",341],["T_FUNCTION","function",341],["T_WHITESPACE"," ",341],["T_STRING","_setFreeMethodRequest",341],"(",["T_VARIABLE","$freeMethod",341],")",["T_WHITESPACE","\n    ",341],"{",["T_WHITESPACE","\n        ",342],["T_VARIABLE","$r",343],["T_WHITESPACE"," ",343],"=",["T_WHITESPACE"," ",343],["T_VARIABLE","$this",343],["T_OBJECT_OPERATOR","->",343],["T_STRING","_rawRequest",343],";",["T_WHITESPACE","\n\n        ",343],["T_VARIABLE","$weight",345],["T_WHITESPACE"," ",345],"=",["T_WHITESPACE"," ",345],["T_VARIABLE","$this",345],["T_OBJECT_OPERATOR","->",345],["T_STRING","getTotalNumOfBoxes",345],"(",["T_VARIABLE","$r",345],["T_OBJECT_OPERATOR","->",345],["T_STRING","getFreeMethodWeight",345],"(",")",")",";",["T_WHITESPACE","\n        ",345],["T_VARIABLE","$weight",346],["T_WHITESPACE"," ",346],"=",["T_WHITESPACE"," ",346],["T_VARIABLE","$this",346],["T_OBJECT_OPERATOR","->",346],["T_STRING","_getCorrectWeight",346],"(",["T_VARIABLE","$weight",346],")",";",["T_WHITESPACE","\n        ",346],["T_VARIABLE","$r",347],["T_OBJECT_OPERATOR","->",347],["T_STRING","setWeight",347],"(",["T_VARIABLE","$weight",347],")",";",["T_WHITESPACE","\n        ",347],["T_VARIABLE","$r",348],["T_OBJECT_OPERATOR","->",348],["T_STRING","setAction",348],"(",["T_VARIABLE","$this",348],["T_OBJECT_OPERATOR","->",348],["T_STRING","getCode",348],"(",["T_CONSTANT_ENCAPSED_STRING","'action'",348],",",["T_WHITESPACE"," ",348],["T_CONSTANT_ENCAPSED_STRING","'single'",348],")",")",";",["T_WHITESPACE","\n        ",348],["T_VARIABLE","$r",349],["T_OBJECT_OPERATOR","->",349],["T_STRING","setProduct",349],"(",["T_VARIABLE","$freeMethod",349],")",";",["T_WHITESPACE","\n    ",349],"}",["T_WHITESPACE","\n\n    ",350],["T_DOC_COMMENT","\/**\n     * Get cgi rates\n     *\n     * @return Mage_Shipping_Model_Rate_Result\n     *\/",352],["T_WHITESPACE","\n    ",356],["T_PROTECTED","protected",357],["T_WHITESPACE"," ",357],["T_FUNCTION","function",357],["T_WHITESPACE"," ",357],["T_STRING","_getCgiQuotes",357],"(",")",["T_WHITESPACE","\n    ",357],"{",["T_WHITESPACE","\n        ",358],["T_VARIABLE","$r",359],["T_WHITESPACE"," ",359],"=",["T_WHITESPACE"," ",359],["T_VARIABLE","$this",359],["T_OBJECT_OPERATOR","->",359],["T_STRING","_rawRequest",359],";",["T_WHITESPACE","\n\n        ",359],["T_VARIABLE","$params",361],["T_WHITESPACE"," ",361],"=",["T_WHITESPACE"," ",361],["T_ARRAY","array",361],"(",["T_WHITESPACE","\n            ",361],["T_CONSTANT_ENCAPSED_STRING","'accept_UPS_license_agreement'",362],["T_WHITESPACE"," ",362],["T_DOUBLE_ARROW","=>",362],["T_WHITESPACE"," ",362],["T_CONSTANT_ENCAPSED_STRING","'yes'",362],",",["T_WHITESPACE","\n            ",362],["T_CONSTANT_ENCAPSED_STRING","'10_action'",363],["T_WHITESPACE","      ",363],["T_DOUBLE_ARROW","=>",363],["T_WHITESPACE"," ",363],["T_VARIABLE","$r",363],["T_OBJECT_OPERATOR","->",363],["T_STRING","getAction",363],"(",")",",",["T_WHITESPACE","\n            ",363],["T_CONSTANT_ENCAPSED_STRING","'13_product'",364],["T_WHITESPACE","     ",364],["T_DOUBLE_ARROW","=>",364],["T_WHITESPACE"," ",364],["T_VARIABLE","$r",364],["T_OBJECT_OPERATOR","->",364],["T_STRING","getProduct",364],"(",")",",",["T_WHITESPACE","\n            ",364],["T_CONSTANT_ENCAPSED_STRING","'14_origCountry'",365],["T_WHITESPACE"," ",365],["T_DOUBLE_ARROW","=>",365],["T_WHITESPACE"," ",365],["T_VARIABLE","$r",365],["T_OBJECT_OPERATOR","->",365],["T_STRING","getOrigCountry",365],"(",")",",",["T_WHITESPACE","\n            ",365],["T_CONSTANT_ENCAPSED_STRING","'15_origPostal'",366],["T_WHITESPACE","  ",366],["T_DOUBLE_ARROW","=>",366],["T_WHITESPACE"," ",366],["T_VARIABLE","$r",366],["T_OBJECT_OPERATOR","->",366],["T_STRING","getOrigPostal",366],"(",")",",",["T_WHITESPACE","\n            ",366],["T_CONSTANT_ENCAPSED_STRING","'origCity'",367],["T_WHITESPACE","       ",367],["T_DOUBLE_ARROW","=>",367],["T_WHITESPACE"," ",367],["T_VARIABLE","$r",367],["T_OBJECT_OPERATOR","->",367],["T_STRING","getOrigCity",367],"(",")",",",["T_WHITESPACE","\n            ",367],["T_CONSTANT_ENCAPSED_STRING","'19_destPostal'",368],["T_WHITESPACE","  ",368],["T_DOUBLE_ARROW","=>",368],["T_WHITESPACE"," ",368],["T_STRING","Mage_Usa_Model_Shipping_Carrier_Abstract",368],["T_DOUBLE_COLON","::",368],["T_STRING","USA_COUNTRY_ID",368],["T_WHITESPACE"," ",368],["T_IS_EQUAL","==",368],["T_WHITESPACE"," ",368],["T_VARIABLE","$r",368],["T_OBJECT_OPERATOR","->",368],["T_STRING","getDestCountry",368],"(",")",["T_WHITESPACE"," ",368],"?",["T_WHITESPACE","\n                ",368],["T_STRING","substr",369],"(",["T_VARIABLE","$r",369],["T_OBJECT_OPERATOR","->",369],["T_STRING","getDestPostal",369],"(",")",",",["T_WHITESPACE"," ",369],["T_LNUMBER","0",369],",",["T_WHITESPACE"," ",369],["T_LNUMBER","5",369],")",["T_WHITESPACE"," ",369],":",["T_WHITESPACE","\n                ",369],["T_VARIABLE","$r",370],["T_OBJECT_OPERATOR","->",370],["T_STRING","getDestPostal",370],"(",")",",",["T_WHITESPACE","\n            ",370],["T_CONSTANT_ENCAPSED_STRING","'22_destCountry'",371],["T_WHITESPACE"," ",371],["T_DOUBLE_ARROW","=>",371],["T_WHITESPACE"," ",371],["T_VARIABLE","$r",371],["T_OBJECT_OPERATOR","->",371],["T_STRING","getDestCountry",371],"(",")",",",["T_WHITESPACE","\n            ",371],["T_CONSTANT_ENCAPSED_STRING","'23_weight'",372],["T_WHITESPACE","      ",372],["T_DOUBLE_ARROW","=>",372],["T_WHITESPACE"," ",372],["T_VARIABLE","$r",372],["T_OBJECT_OPERATOR","->",372],["T_STRING","getWeight",372],"(",")",",",["T_WHITESPACE","\n            ",372],["T_CONSTANT_ENCAPSED_STRING","'47_rate_chart'",373],["T_WHITESPACE","  ",373],["T_DOUBLE_ARROW","=>",373],["T_WHITESPACE"," ",373],["T_VARIABLE","$r",373],["T_OBJECT_OPERATOR","->",373],["T_STRING","getPickup",373],"(",")",",",["T_WHITESPACE","\n            ",373],["T_CONSTANT_ENCAPSED_STRING","'48_container'",374],["T_WHITESPACE","   ",374],["T_DOUBLE_ARROW","=>",374],["T_WHITESPACE"," ",374],["T_VARIABLE","$r",374],["T_OBJECT_OPERATOR","->",374],["T_STRING","getContainer",374],"(",")",",",["T_WHITESPACE","\n            ",374],["T_CONSTANT_ENCAPSED_STRING","'49_residential'",375],["T_WHITESPACE"," ",375],["T_DOUBLE_ARROW","=>",375],["T_WHITESPACE"," ",375],["T_VARIABLE","$r",375],["T_OBJECT_OPERATOR","->",375],["T_STRING","getDestType",375],"(",")",",",["T_WHITESPACE","\n            ",375],["T_CONSTANT_ENCAPSED_STRING","'weight_std'",376],["T_WHITESPACE","     ",376],["T_DOUBLE_ARROW","=>",376],["T_WHITESPACE"," ",376],["T_STRING","strtolower",376],"(",["T_VARIABLE","$r",376],["T_OBJECT_OPERATOR","->",376],["T_STRING","getUnitMeasure",376],"(",")",")",",",["T_WHITESPACE","\n        ",376],")",";",["T_WHITESPACE","\n        ",377],["T_VARIABLE","$params",378],"[",["T_CONSTANT_ENCAPSED_STRING","'47_rate_chart'",378],"]",["T_WHITESPACE"," ",378],"=",["T_WHITESPACE"," ",378],["T_VARIABLE","$params",378],"[",["T_CONSTANT_ENCAPSED_STRING","'47_rate_chart'",378],"]","[",["T_CONSTANT_ENCAPSED_STRING","'label'",378],"]",";",["T_WHITESPACE","\n\n        ",378],["T_VARIABLE","$responseBody",380],["T_WHITESPACE"," ",380],"=",["T_WHITESPACE"," ",380],["T_VARIABLE","$this",380],["T_OBJECT_OPERATOR","->",380],["T_STRING","_getCachedQuotes",380],"(",["T_VARIABLE","$params",380],")",";",["T_WHITESPACE","\n        ",380],["T_IF","if",381],["T_WHITESPACE"," ",381],"(",["T_VARIABLE","$responseBody",381],["T_WHITESPACE"," ",381],["T_IS_IDENTICAL","===",381],["T_WHITESPACE"," ",381],["T_STRING","null",381],")",["T_WHITESPACE"," ",381],"{",["T_WHITESPACE","\n            ",381],["T_VARIABLE","$debugData",382],["T_WHITESPACE"," ",382],"=",["T_WHITESPACE"," ",382],["T_ARRAY","array",382],"(",["T_CONSTANT_ENCAPSED_STRING","'request'",382],["T_WHITESPACE"," ",382],["T_DOUBLE_ARROW","=>",382],["T_WHITESPACE"," ",382],["T_VARIABLE","$params",382],")",";",["T_WHITESPACE","\n            ",382],["T_TRY","try",383],["T_WHITESPACE"," ",383],"{",["T_WHITESPACE","\n                ",383],["T_VARIABLE","$url",384],["T_WHITESPACE"," ",384],"=",["T_WHITESPACE"," ",384],["T_VARIABLE","$this",384],["T_OBJECT_OPERATOR","->",384],["T_STRING","getConfigData",384],"(",["T_CONSTANT_ENCAPSED_STRING","'gateway_url'",384],")",";",["T_WHITESPACE","\n                ",384],["T_IF","if",385],["T_WHITESPACE"," ",385],"(","!",["T_VARIABLE","$url",385],")",["T_WHITESPACE"," ",385],"{",["T_WHITESPACE","\n                    ",385],["T_VARIABLE","$url",386],["T_WHITESPACE"," ",386],"=",["T_WHITESPACE"," ",386],["T_VARIABLE","$this",386],["T_OBJECT_OPERATOR","->",386],["T_STRING","_defaultCgiGatewayUrl",386],";",["T_WHITESPACE","\n                ",386],"}",["T_WHITESPACE","\n                ",387],["T_VARIABLE","$client",388],["T_WHITESPACE"," ",388],"=",["T_WHITESPACE"," ",388],["T_NEW","new",388],["T_WHITESPACE"," ",388],["T_STRING","Zend_Http_Client",388],"(",")",";",["T_WHITESPACE","\n                ",388],["T_VARIABLE","$client",389],["T_OBJECT_OPERATOR","->",389],["T_STRING","setUri",389],"(",["T_VARIABLE","$url",389],")",";",["T_WHITESPACE","\n                ",389],["T_VARIABLE","$client",390],["T_OBJECT_OPERATOR","->",390],["T_STRING","setConfig",390],"(",["T_ARRAY","array",390],"(",["T_CONSTANT_ENCAPSED_STRING","'maxredirects'",390],["T_DOUBLE_ARROW","=>",390],["T_LNUMBER","0",390],",",["T_WHITESPACE"," ",390],["T_CONSTANT_ENCAPSED_STRING","'timeout'",390],["T_DOUBLE_ARROW","=>",390],["T_LNUMBER","30",390],")",")",";",["T_WHITESPACE","\n                ",390],["T_VARIABLE","$client",391],["T_OBJECT_OPERATOR","->",391],["T_STRING","setParameterGet",391],"(",["T_VARIABLE","$params",391],")",";",["T_WHITESPACE","\n                ",391],["T_VARIABLE","$response",392],["T_WHITESPACE"," ",392],"=",["T_WHITESPACE"," ",392],["T_VARIABLE","$client",392],["T_OBJECT_OPERATOR","->",392],["T_STRING","request",392],"(",")",";",["T_WHITESPACE","\n                ",392],["T_VARIABLE","$responseBody",393],["T_WHITESPACE"," ",393],"=",["T_WHITESPACE"," ",393],["T_VARIABLE","$response",393],["T_OBJECT_OPERATOR","->",393],["T_STRING","getBody",393],"(",")",";",["T_WHITESPACE","\n\n                ",393],["T_VARIABLE","$debugData",395],"[",["T_CONSTANT_ENCAPSED_STRING","'result'",395],"]",["T_WHITESPACE"," ",395],"=",["T_WHITESPACE"," ",395],["T_VARIABLE","$responseBody",395],";",["T_WHITESPACE","\n                ",395],["T_VARIABLE","$this",396],["T_OBJECT_OPERATOR","->",396],["T_STRING","_setCachedQuotes",396],"(",["T_VARIABLE","$params",396],",",["T_WHITESPACE"," ",396],["T_VARIABLE","$responseBody",396],")",";",["T_WHITESPACE","\n            ",396],"}",["T_WHITESPACE","\n            ",397],["T_CATCH","catch",398],["T_WHITESPACE"," ",398],"(",["T_STRING","Exception",398],["T_WHITESPACE"," ",398],["T_VARIABLE","$e",398],")",["T_WHITESPACE"," ",398],"{",["T_WHITESPACE","\n                ",398],["T_VARIABLE","$debugData",399],"[",["T_CONSTANT_ENCAPSED_STRING","'result'",399],"]",["T_WHITESPACE"," ",399],"=",["T_WHITESPACE"," ",399],["T_ARRAY","array",399],"(",["T_CONSTANT_ENCAPSED_STRING","'error'",399],["T_WHITESPACE"," ",399],["T_DOUBLE_ARROW","=>",399],["T_WHITESPACE"," ",399],["T_VARIABLE","$e",399],["T_OBJECT_OPERATOR","->",399],["T_STRING","getMessage",399],"(",")",",",["T_WHITESPACE"," ",399],["T_CONSTANT_ENCAPSED_STRING","'code'",399],["T_WHITESPACE"," ",399],["T_DOUBLE_ARROW","=>",399],["T_WHITESPACE"," ",399],["T_VARIABLE","$e",399],["T_OBJECT_OPERATOR","->",399],["T_STRING","getCode",399],"(",")",")",";",["T_WHITESPACE","\n                ",399],["T_VARIABLE","$responseBody",400],["T_WHITESPACE"," ",400],"=",["T_WHITESPACE"," ",400],["T_CONSTANT_ENCAPSED_STRING","''",400],";",["T_WHITESPACE","\n            ",400],"}",["T_WHITESPACE","\n            ",401],["T_VARIABLE","$this",402],["T_OBJECT_OPERATOR","->",402],["T_STRING","_debug",402],"(",["T_VARIABLE","$debugData",402],")",";",["T_WHITESPACE","\n        ",402],"}",["T_WHITESPACE","\n\n        ",403],["T_RETURN","return",405],["T_WHITESPACE"," ",405],["T_VARIABLE","$this",405],["T_OBJECT_OPERATOR","->",405],["T_STRING","_parseCgiResponse",405],"(",["T_VARIABLE","$responseBody",405],")",";",["T_WHITESPACE","\n    ",405],"}",["T_WHITESPACE","\n\n    ",406],["T_DOC_COMMENT","\/**\n     * Get shipment by code\n     *\n     * @param string $code\n     * @param string $origin\n     * @return array|bool\n     *\/",408],["T_WHITESPACE","\n    ",414],["T_PUBLIC","public",415],["T_WHITESPACE"," ",415],["T_FUNCTION","function",415],["T_WHITESPACE"," ",415],["T_STRING","getShipmentByCode",415],"(",["T_VARIABLE","$code",415],",",["T_WHITESPACE"," ",415],["T_VARIABLE","$origin",415],["T_WHITESPACE"," ",415],"=",["T_WHITESPACE"," ",415],["T_STRING","null",415],")","{",["T_WHITESPACE","\n        ",415],["T_IF","if",416],"(",["T_VARIABLE","$origin",416],["T_IS_IDENTICAL","===",416],["T_STRING","null",416],")","{",["T_WHITESPACE","\n            ",416],["T_VARIABLE","$origin",417],["T_WHITESPACE"," ",417],"=",["T_WHITESPACE"," ",417],["T_VARIABLE","$this",417],["T_OBJECT_OPERATOR","->",417],["T_STRING","getConfigData",417],"(",["T_CONSTANT_ENCAPSED_STRING","'origin_shipment'",417],")",";",["T_WHITESPACE","\n        ",417],"}",["T_WHITESPACE","\n        ",418],["T_VARIABLE","$arr",419],["T_WHITESPACE"," ",419],"=",["T_WHITESPACE"," ",419],["T_VARIABLE","$this",419],["T_OBJECT_OPERATOR","->",419],["T_STRING","getCode",419],"(",["T_CONSTANT_ENCAPSED_STRING","'originShipment'",419],",",["T_VARIABLE","$origin",419],")",";",["T_WHITESPACE","\n        ",419],["T_IF","if",420],"(",["T_ISSET","isset",420],"(",["T_VARIABLE","$arr",420],"[",["T_VARIABLE","$code",420],"]",")",")",["T_WHITESPACE","\n            ",420],["T_RETURN","return",421],["T_WHITESPACE"," ",421],["T_VARIABLE","$arr",421],"[",["T_VARIABLE","$code",421],"]",";",["T_WHITESPACE","\n        ",421],["T_ELSE","else",422],["T_WHITESPACE","\n            ",422],["T_RETURN","return",423],["T_WHITESPACE"," ",423],["T_STRING","false",423],";",["T_WHITESPACE","\n    ",423],"}",["T_WHITESPACE","\n\n\n    ",424],["T_DOC_COMMENT","\/**\n     * Prepare shipping rate result based on response\n     *\n     * @param mixed $response\n     * @return Mage_Shipping_Model_Rate_Result\n     *\/",427],["T_WHITESPACE","\n    ",432],["T_PROTECTED","protected",433],["T_WHITESPACE"," ",433],["T_FUNCTION","function",433],["T_WHITESPACE"," ",433],["T_STRING","_parseCgiResponse",433],"(",["T_VARIABLE","$response",433],")",["T_WHITESPACE","\n    ",433],"{",["T_WHITESPACE","\n        ",434],["T_VARIABLE","$costArr",435],["T_WHITESPACE"," ",435],"=",["T_WHITESPACE"," ",435],["T_ARRAY","array",435],"(",")",";",["T_WHITESPACE","\n        ",435],["T_VARIABLE","$priceArr",436],["T_WHITESPACE"," ",436],"=",["T_WHITESPACE"," ",436],["T_ARRAY","array",436],"(",")",";",["T_WHITESPACE","\n        ",436],["T_VARIABLE","$errorTitle",437],["T_WHITESPACE"," ",437],"=",["T_WHITESPACE"," ",437],["T_STRING","Mage",437],["T_DOUBLE_COLON","::",437],["T_STRING","helper",437],"(",["T_CONSTANT_ENCAPSED_STRING","'usa'",437],")",["T_OBJECT_OPERATOR","->",437],["T_STRING","__",437],"(",["T_CONSTANT_ENCAPSED_STRING","'Unknown error'",437],")",";",["T_WHITESPACE","\n        ",437],["T_IF","if",438],["T_WHITESPACE"," ",438],"(",["T_STRING","strlen",438],"(",["T_STRING","trim",438],"(",["T_VARIABLE","$response",438],")",")",">",["T_LNUMBER","0",438],")",["T_WHITESPACE"," ",438],"{",["T_WHITESPACE","\n            ",438],["T_VARIABLE","$rRows",439],["T_WHITESPACE"," ",439],"=",["T_WHITESPACE"," ",439],["T_STRING","explode",439],"(",["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",439],",",["T_WHITESPACE"," ",439],["T_VARIABLE","$response",439],")",";",["T_WHITESPACE","\n            ",439],["T_VARIABLE","$allowedMethods",440],["T_WHITESPACE"," ",440],"=",["T_WHITESPACE"," ",440],["T_STRING","explode",440],"(",["T_CONSTANT_ENCAPSED_STRING","\",\"",440],",",["T_WHITESPACE"," ",440],["T_VARIABLE","$this",440],["T_OBJECT_OPERATOR","->",440],["T_STRING","getConfigData",440],"(",["T_CONSTANT_ENCAPSED_STRING","'allowed_methods'",440],")",")",";",["T_WHITESPACE","\n            ",440],["T_FOREACH","foreach",441],["T_WHITESPACE"," ",441],"(",["T_VARIABLE","$rRows",441],["T_WHITESPACE"," ",441],["T_AS","as",441],["T_WHITESPACE"," ",441],["T_VARIABLE","$rRow",441],")",["T_WHITESPACE"," ",441],"{",["T_WHITESPACE","\n                ",441],["T_VARIABLE","$r",442],["T_WHITESPACE"," ",442],"=",["T_WHITESPACE"," ",442],["T_STRING","explode",442],"(",["T_CONSTANT_ENCAPSED_STRING","'%'",442],",",["T_WHITESPACE"," ",442],["T_VARIABLE","$rRow",442],")",";",["T_WHITESPACE","\n                ",442],["T_SWITCH","switch",443],["T_WHITESPACE"," ",443],"(",["T_STRING","substr",443],"(",["T_VARIABLE","$r",443],"[",["T_LNUMBER","0",443],"]",",","-",["T_LNUMBER","1",443],")",")",["T_WHITESPACE"," ",443],"{",["T_WHITESPACE","\n                    ",443],["T_CASE","case",444],["T_WHITESPACE"," ",444],["T_LNUMBER","3",444],":",["T_WHITESPACE"," ",444],["T_CASE","case",444],["T_WHITESPACE"," ",444],["T_LNUMBER","4",444],":",["T_WHITESPACE","\n                        ",444],["T_IF","if",445],["T_WHITESPACE"," ",445],"(",["T_STRING","in_array",445],"(",["T_VARIABLE","$r",445],"[",["T_LNUMBER","1",445],"]",",",["T_WHITESPACE"," ",445],["T_VARIABLE","$allowedMethods",445],")",")",["T_WHITESPACE"," ",445],"{",["T_WHITESPACE","\n                            ",445],["T_VARIABLE","$responsePrice",446],["T_WHITESPACE"," ",446],"=",["T_WHITESPACE"," ",446],["T_STRING","Mage",446],["T_DOUBLE_COLON","::",446],["T_STRING","app",446],"(",")",["T_OBJECT_OPERATOR","->",446],["T_STRING","getLocale",446],"(",")",["T_OBJECT_OPERATOR","->",446],["T_STRING","getNumber",446],"(",["T_VARIABLE","$r",446],"[",["T_LNUMBER","10",446],"]",")",";",["T_WHITESPACE","\n                            ",446],["T_VARIABLE","$costArr",447],"[",["T_VARIABLE","$r",447],"[",["T_LNUMBER","1",447],"]","]",["T_WHITESPACE"," ",447],"=",["T_WHITESPACE"," ",447],["T_VARIABLE","$responsePrice",447],";",["T_WHITESPACE","\n                            ",447],["T_VARIABLE","$priceArr",448],"[",["T_VARIABLE","$r",448],"[",["T_LNUMBER","1",448],"]","]",["T_WHITESPACE"," ",448],"=",["T_WHITESPACE"," ",448],["T_VARIABLE","$this",448],["T_OBJECT_OPERATOR","->",448],["T_STRING","getMethodPrice",448],"(",["T_VARIABLE","$responsePrice",448],",",["T_WHITESPACE"," ",448],["T_VARIABLE","$r",448],"[",["T_LNUMBER","1",448],"]",")",";",["T_WHITESPACE","\n                        ",448],"}",["T_WHITESPACE","\n                        ",449],["T_BREAK","break",450],";",["T_WHITESPACE","\n                    ",450],["T_CASE","case",451],["T_WHITESPACE"," ",451],["T_LNUMBER","5",451],":",["T_WHITESPACE","\n                        ",451],["T_VARIABLE","$errorTitle",452],["T_WHITESPACE"," ",452],"=",["T_WHITESPACE"," ",452],["T_VARIABLE","$r",452],"[",["T_LNUMBER","1",452],"]",";",["T_WHITESPACE","\n                        ",452],["T_BREAK","break",453],";",["T_WHITESPACE","\n                    ",453],["T_CASE","case",454],["T_WHITESPACE"," ",454],["T_LNUMBER","6",454],":",["T_WHITESPACE","\n                        ",454],["T_IF","if",455],["T_WHITESPACE"," ",455],"(",["T_STRING","in_array",455],"(",["T_VARIABLE","$r",455],"[",["T_LNUMBER","3",455],"]",",",["T_WHITESPACE"," ",455],["T_VARIABLE","$allowedMethods",455],")",")",["T_WHITESPACE"," ",455],"{",["T_WHITESPACE","\n                            ",455],["T_VARIABLE","$responsePrice",456],["T_WHITESPACE"," ",456],"=",["T_WHITESPACE"," ",456],["T_STRING","Mage",456],["T_DOUBLE_COLON","::",456],["T_STRING","app",456],"(",")",["T_OBJECT_OPERATOR","->",456],["T_STRING","getLocale",456],"(",")",["T_OBJECT_OPERATOR","->",456],["T_STRING","getNumber",456],"(",["T_VARIABLE","$r",456],"[",["T_LNUMBER","10",456],"]",")",";",["T_WHITESPACE","\n                            ",456],["T_VARIABLE","$costArr",457],"[",["T_VARIABLE","$r",457],"[",["T_LNUMBER","3",457],"]","]",["T_WHITESPACE"," ",457],"=",["T_WHITESPACE"," ",457],["T_VARIABLE","$responsePrice",457],";",["T_WHITESPACE","\n                            ",457],["T_VARIABLE","$priceArr",458],"[",["T_VARIABLE","$r",458],"[",["T_LNUMBER","3",458],"]","]",["T_WHITESPACE"," ",458],"=",["T_WHITESPACE"," ",458],["T_VARIABLE","$this",458],["T_OBJECT_OPERATOR","->",458],["T_STRING","getMethodPrice",458],"(",["T_VARIABLE","$responsePrice",458],",",["T_WHITESPACE"," ",458],["T_VARIABLE","$r",458],"[",["T_LNUMBER","3",458],"]",")",";",["T_WHITESPACE","\n                        ",458],"}",["T_WHITESPACE","\n                        ",459],["T_BREAK","break",460],";",["T_WHITESPACE","\n                ",460],"}",["T_WHITESPACE","\n            ",461],"}",["T_WHITESPACE","\n            ",462],["T_STRING","asort",463],"(",["T_VARIABLE","$priceArr",463],")",";",["T_WHITESPACE","\n        ",463],"}",["T_WHITESPACE","\n\n        ",464],["T_VARIABLE","$result",466],["T_WHITESPACE"," ",466],"=",["T_WHITESPACE"," ",466],["T_STRING","Mage",466],["T_DOUBLE_COLON","::",466],["T_STRING","getModel",466],"(",["T_CONSTANT_ENCAPSED_STRING","'shipping\/rate_result'",466],")",";",["T_WHITESPACE","\n        ",466],["T_VARIABLE","$defaults",467],["T_WHITESPACE"," ",467],"=",["T_WHITESPACE"," ",467],["T_VARIABLE","$this",467],["T_OBJECT_OPERATOR","->",467],["T_STRING","getDefaults",467],"(",")",";",["T_WHITESPACE","\n        ",467],["T_IF","if",468],["T_WHITESPACE"," ",468],"(",["T_EMPTY","empty",468],"(",["T_VARIABLE","$priceArr",468],")",")",["T_WHITESPACE"," ",468],"{",["T_WHITESPACE","\n            ",468],["T_VARIABLE","$error",469],["T_WHITESPACE"," ",469],"=",["T_WHITESPACE"," ",469],["T_STRING","Mage",469],["T_DOUBLE_COLON","::",469],["T_STRING","getModel",469],"(",["T_CONSTANT_ENCAPSED_STRING","'shipping\/rate_result_error'",469],")",";",["T_WHITESPACE","\n            ",469],["T_VARIABLE","$error",470],["T_OBJECT_OPERATOR","->",470],["T_STRING","setCarrier",470],"(",["T_CONSTANT_ENCAPSED_STRING","'ups'",470],")",";",["T_WHITESPACE","\n            ",470],["T_VARIABLE","$error",471],["T_OBJECT_OPERATOR","->",471],["T_STRING","setCarrierTitle",471],"(",["T_VARIABLE","$this",471],["T_OBJECT_OPERATOR","->",471],["T_STRING","getConfigData",471],"(",["T_CONSTANT_ENCAPSED_STRING","'title'",471],")",")",";",["T_WHITESPACE","\n            ",471],["T_VARIABLE","$error",472],["T_OBJECT_OPERATOR","->",472],["T_STRING","setErrorMessage",472],"(",["T_VARIABLE","$this",472],["T_OBJECT_OPERATOR","->",472],["T_STRING","getConfigData",472],"(",["T_CONSTANT_ENCAPSED_STRING","'specificerrmsg'",472],")",")",";",["T_WHITESPACE","\n            ",472],["T_VARIABLE","$result",473],["T_OBJECT_OPERATOR","->",473],["T_STRING","append",473],"(",["T_VARIABLE","$error",473],")",";",["T_WHITESPACE","\n        ",473],"}",["T_WHITESPACE"," ",474],["T_ELSE","else",474],["T_WHITESPACE"," ",474],"{",["T_WHITESPACE","\n            ",474],["T_FOREACH","foreach",475],["T_WHITESPACE"," ",475],"(",["T_VARIABLE","$priceArr",475],["T_WHITESPACE"," ",475],["T_AS","as",475],["T_WHITESPACE"," ",475],["T_VARIABLE","$method",475],["T_DOUBLE_ARROW","=>",475],["T_VARIABLE","$price",475],")",["T_WHITESPACE"," ",475],"{",["T_WHITESPACE","\n                ",475],["T_VARIABLE","$rate",476],["T_WHITESPACE"," ",476],"=",["T_WHITESPACE"," ",476],["T_STRING","Mage",476],["T_DOUBLE_COLON","::",476],["T_STRING","getModel",476],"(",["T_CONSTANT_ENCAPSED_STRING","'shipping\/rate_result_method'",476],")",";",["T_WHITESPACE","\n                ",476],["T_VARIABLE","$rate",477],["T_OBJECT_OPERATOR","->",477],["T_STRING","setCarrier",477],"(",["T_CONSTANT_ENCAPSED_STRING","'ups'",477],")",";",["T_WHITESPACE","\n                ",477],["T_VARIABLE","$rate",478],["T_OBJECT_OPERATOR","->",478],["T_STRING","setCarrierTitle",478],"(",["T_VARIABLE","$this",478],["T_OBJECT_OPERATOR","->",478],["T_STRING","getConfigData",478],"(",["T_CONSTANT_ENCAPSED_STRING","'title'",478],")",")",";",["T_WHITESPACE","\n                ",478],["T_VARIABLE","$rate",479],["T_OBJECT_OPERATOR","->",479],["T_STRING","setMethod",479],"(",["T_VARIABLE","$method",479],")",";",["T_WHITESPACE","\n                ",479],["T_VARIABLE","$method_arr",480],["T_WHITESPACE"," ",480],"=",["T_WHITESPACE"," ",480],["T_VARIABLE","$this",480],["T_OBJECT_OPERATOR","->",480],["T_STRING","getCode",480],"(",["T_CONSTANT_ENCAPSED_STRING","'method'",480],",",["T_WHITESPACE"," ",480],["T_VARIABLE","$method",480],")",";",["T_WHITESPACE","\n                ",480],["T_VARIABLE","$rate",481],["T_OBJECT_OPERATOR","->",481],["T_STRING","setMethodTitle",481],"(",["T_VARIABLE","$method_arr",481],")",";",["T_WHITESPACE","\n                ",481],["T_VARIABLE","$rate",482],["T_OBJECT_OPERATOR","->",482],["T_STRING","setCost",482],"(",["T_VARIABLE","$costArr",482],"[",["T_VARIABLE","$method",482],"]",")",";",["T_WHITESPACE","\n                ",482],["T_VARIABLE","$rate",483],["T_OBJECT_OPERATOR","->",483],["T_STRING","setPrice",483],"(",["T_VARIABLE","$price",483],")",";",["T_WHITESPACE","\n                ",483],["T_VARIABLE","$result",484],["T_OBJECT_OPERATOR","->",484],["T_STRING","append",484],"(",["T_VARIABLE","$rate",484],")",";",["T_WHITESPACE","\n            ",484],"}",["T_WHITESPACE","\n        ",485],"}",["T_WHITESPACE","\n\n        ",486],["T_RETURN","return",488],["T_WHITESPACE"," ",488],["T_VARIABLE","$result",488],";",["T_WHITESPACE","\n    ",488],"}",["T_WHITESPACE","\n\n    ",489],["T_DOC_COMMENT","\/**\n     * Get configuration data of carrier\n     *\n     * @param string $type\n     * @param string $code\n     * @return array|bool\n     *\/",491],["T_WHITESPACE","\n    ",497],["T_PUBLIC","public",498],["T_WHITESPACE"," ",498],["T_FUNCTION","function",498],["T_WHITESPACE"," ",498],["T_STRING","getCode",498],"(",["T_VARIABLE","$type",498],",",["T_WHITESPACE"," ",498],["T_VARIABLE","$code",498],"=",["T_CONSTANT_ENCAPSED_STRING","''",498],")",["T_WHITESPACE","\n    ",498],"{",["T_WHITESPACE","\n        ",499],["T_VARIABLE","$codes",500],["T_WHITESPACE"," ",500],"=",["T_WHITESPACE"," ",500],["T_ARRAY","array",500],"(",["T_WHITESPACE","\n            ",500],["T_CONSTANT_ENCAPSED_STRING","'action'",501],["T_DOUBLE_ARROW","=>",501],["T_ARRAY","array",501],"(",["T_WHITESPACE","\n                ",501],["T_CONSTANT_ENCAPSED_STRING","'single'",502],["T_DOUBLE_ARROW","=>",502],["T_CONSTANT_ENCAPSED_STRING","'3'",502],",",["T_WHITESPACE","\n                ",502],["T_CONSTANT_ENCAPSED_STRING","'all'",503],["T_DOUBLE_ARROW","=>",503],["T_CONSTANT_ENCAPSED_STRING","'4'",503],",",["T_WHITESPACE","\n            ",503],")",",",["T_WHITESPACE","\n\n            ",504],["T_CONSTANT_ENCAPSED_STRING","'originShipment'",506],["T_DOUBLE_ARROW","=>",506],["T_ARRAY","array",506],"(",["T_WHITESPACE","\n                ",506],["T_COMMENT","\/\/ United States Domestic Shipments\n",507],["T_WHITESPACE","                ",508],["T_CONSTANT_ENCAPSED_STRING","'United States Domestic Shipments'",508],["T_WHITESPACE"," ",508],["T_DOUBLE_ARROW","=>",508],["T_WHITESPACE"," ",508],["T_ARRAY","array",508],"(",["T_WHITESPACE","\n                    ",508],["T_CONSTANT_ENCAPSED_STRING","'01'",509],["T_WHITESPACE"," ",509],["T_DOUBLE_ARROW","=>",509],["T_WHITESPACE"," ",509],["T_STRING","Mage",509],["T_DOUBLE_COLON","::",509],["T_STRING","helper",509],"(",["T_CONSTANT_ENCAPSED_STRING","'usa'",509],")",["T_OBJECT_OPERATOR","->",509],["T_STRING","__",509],"(",["T_CONSTANT_ENCAPSED_STRING","'UPS Next Day Air'",509],")",",",["T_WHITESPACE","\n                    ",509],["T_CONSTANT_ENCAPSED_STRING","'02'",510],["T_WHITESPACE"," ",510],["T_DOUBLE_ARROW","=>",510],["T_WHITESPACE"," ",510],["T_STRING","Mage",510],["T_DOUBLE_COLON","::",510],["T_STRING","helper",510],"(",["T_CONSTANT_ENCAPSED_STRING","'usa'",510],")",["T_OBJECT_OPERATOR","->",510],["T_STRING","__",510],"(",["T_CONSTANT_ENCAPSED_STRING","'UPS Second Day Air'",510],")",",",["T_WHITESPACE","\n                    ",510],["T_CONSTANT_ENCAPSED_STRING","'03'",511],["T_WHITESPACE"," ",511],["T_DOUBLE_ARROW","=>",511],["T_WHITESPACE"," ",511],["T_STRING","Mage",511],["T_DOUBLE_COLON","::",511],["T_STRING","helper",511],"(",["T_CONSTANT_ENCAPSED_STRING","'usa'",511],")",["T_OBJECT_OPERATOR","->",511],["T_STRING","__",511],"(",["T_CONSTANT_ENCAPSED_STRING","'UPS Ground'",511],")",",",["T_WHITESPACE","\n                    ",511],["T_CONSTANT_ENCAPSED_STRING","'07'",512],["T_WHITESPACE"," ",512],["T_DOUBLE_ARROW","=>",512],["T_WHITESPACE"," ",512],["T_STRING","Mage",512],["T_DOUBLE_COLON","::",512],["T_STRING","helper",512],"(",["T_CONSTANT_ENCAPSED_STRING","'usa'",512],")",["T_OBJECT_OPERATOR","->",512],["T_STRING","__",512],"(",["T_CONSTANT_ENCAPSED_STRING","'UPS Worldwide Express'",512],")",",",["T_WHITESPACE","\n                    ",512],["T_CONSTANT_ENCAPSED_STRING","'08'",513],["T_WHITESPACE"," ",513],["T_DOUBLE_ARROW","=>",513],["T_WHITESPACE"," ",513],["T_STRING","Mage",513],["T_DOUBLE_COLON","::",513],["T_STRING","helper",513],"(",["T_CONSTANT_ENCAPSED_STRING","'usa'",513],")",["T_OBJECT_OPERATOR","->",513],["T_STRING","__",513],"(",["T_CONSTANT_ENCAPSED_STRING","'UPS Worldwide Expedited'",513],")",",",["T_WHITESPACE","\n                    ",513],["T_CONSTANT_ENCAPSED_STRING","'11'",514],["T_WHITESPACE"," ",514],["T_DOUBLE_ARROW","=>",514],["T_WHITESPACE"," ",514],["T_STRING","Mage",514],["T_DOUBLE_COLON","::",514],["T_STRING","helper",514],"(",["T_CONSTANT_ENCAPSED_STRING","'usa'",514],")",["T_OBJECT_OPERATOR","->",514],["T_STRING","__",514],"(",["T_CONSTANT_ENCAPSED_STRING","'UPS Standard'",514],")",",",["T_WHITESPACE","\n                    ",514],["T_CONSTANT_ENCAPSED_STRING","'12'",515],["T_WHITESPACE"," ",515],["T_DOUBLE_ARROW","=>",515],["T_WHITESPACE"," ",515],["T_STRING","Mage",515],["T_DOUBLE_COLON","::",515],["T_STRING","helper",515],"(",["T_CONSTANT_ENCAPSED_STRING","'usa'",515],")",["T_OBJECT_OPERATOR","->",515],["T_STRING","__",515],"(",["T_CONSTANT_ENCAPSED_STRING","'UPS Three-Day Select'",515],")",",",["T_WHITESPACE","\n                    ",515],["T_CONSTANT_ENCAPSED_STRING","'13'",516],["T_WHITESPACE"," ",516],["T_DOUBLE_ARROW","=>",516],["T_WHITESPACE"," ",516],["T_STRING","Mage",516],["T_DOUBLE_COLON","::",516],["T_STRING","helper",516],"(",["T_CONSTANT_ENCAPSED_STRING","'usa'",516],")",["T_OBJECT_OPERATOR","->",516],["T_STRING","__",516],"(",["T_CONSTANT_ENCAPSED_STRING","'UPS Next Day Air Saver'",516],")",",",["T_WHITESPACE","\n                    ",516],["T_CONSTANT_ENCAPSED_STRING","'14'",517],["T_WHITESPACE"," ",517],["T_DOUBLE_ARROW","=>",517],["T_WHITESPACE"," ",517],["T_STRING","Mage",517],["T_DOUBLE_COLON","::",517],["T_STRING","helper",517],"(",["T_CONSTANT_ENCAPSED_STRING","'usa'",517],")",["T_OBJECT_OPERATOR","->",517],["T_STRING","__",517],"(",["T_CONSTANT_ENCAPSED_STRING","'UPS Next Day Air Early A.M.'",517],")",",",["T_WHITESPACE","\n                    ",517],["T_CONSTANT_ENCAPSED_STRING","'54'",518],["T_WHITESPACE"," ",518],["T_DOUBLE_ARROW","=>",518],["T_WHITESPACE"," ",518],["T_STRING","Mage",518],["T_DOUBLE_COLON","::",518],["T_STRING","helper",518],"(",["T_CONSTANT_ENCAPSED_STRING","'usa'",518],")",["T_OBJECT_OPERATOR","->",518],["T_STRING","__",518],"(",["T_CONSTANT_ENCAPSED_STRING","'UPS Worldwide Express Plus'",518],")",",",["T_WHITESPACE","\n                    ",518],["T_CONSTANT_ENCAPSED_STRING","'59'",519],["T_WHITESPACE"," ",519],["T_DOUBLE_ARROW","=>",519],["T_WHITESPACE"," ",519],["T_STRING","Mage",519],["T_DOUBLE_COLON","::",519],["T_STRING","helper",519],"(",["T_CONSTANT_ENCAPSED_STRING","'usa'",519],")",["T_OBJECT_OPERATOR","->",519],["T_STRING","__",519],"(",["T_CONSTANT_ENCAPSED_STRING","'UPS Second Day Air A.M.'",519],")",",",["T_WHITESPACE","\n                    ",519],["T_CONSTANT_ENCAPSED_STRING","'65'",520],["T_WHITESPACE"," ",520],["T_DOUBLE_ARROW","=>",520],["T_WHITESPACE"," ",520],["T_STRING","Mage",520],["T_DOUBLE_COLON","::",520],["T_STRING","helper",520],"(",["T_CONSTANT_ENCAPSED_STRING","'usa'",520],")",["T_OBJECT_OPERATOR","->",520],["T_STRING","__",520],"(",["T_CONSTANT_ENCAPSED_STRING","'UPS Saver'",520],")",",",["T_WHITESPACE","\n                ",520],")",",",["T_WHITESPACE","\n                ",521],["T_COMMENT","\/\/ Shipments Originating in United States\n",522],["T_WHITESPACE","                ",523],["T_CONSTANT_ENCAPSED_STRING","'Shipments Originating in United States'",523],["T_WHITESPACE"," ",523],["T_DOUBLE_ARROW","=>",523],["T_WHITESPACE"," ",523],["T_ARRAY","array",523],"(",["T_WHITESPACE","\n                    ",523],["T_CONSTANT_ENCAPSED_STRING","'01'",524],["T_WHITESPACE"," ",524],["T_DOUBLE_ARROW","=>",524],["T_WHITESPACE"," ",524],["T_STRING","Mage",524],["T_DOUBLE_COLON","::",524],["T_STRING","helper",524],"(",["T_CONSTANT_ENCAPSED_STRING","'usa'",524],")",["T_OBJECT_OPERATOR","->",524],["T_STRING","__",524],"(",["T_CONSTANT_ENCAPSED_STRING","'UPS Next Day Air'",524],")",",",["T_WHITESPACE","\n                    ",524],["T_CONSTANT_ENCAPSED_STRING","'02'",525],["T_WHITESPACE"," ",525],["T_DOUBLE_ARROW","=>",525],["T_WHITESPACE"," ",525],["T_STRING","Mage",525],["T_DOUBLE_COLON","::",525],["T_STRING","helper",525],"(",["T_CONSTANT_ENCAPSED_STRING","'usa'",525],")",["T_OBJECT_OPERATOR","->",525],["T_STRING","__",525],"(",["T_CONSTANT_ENCAPSED_STRING","'UPS Second Day Air'",525],")",",",["T_WHITESPACE","\n                    ",525],["T_CONSTANT_ENCAPSED_STRING","'03'",526],["T_WHITESPACE"," ",526],["T_DOUBLE_ARROW","=>",526],["T_WHITESPACE"," ",526],["T_STRING","Mage",526],["T_DOUBLE_COLON","::",526],["T_STRING","helper",526],"(",["T_CONSTANT_ENCAPSED_STRING","'usa'",526],")",["T_OBJECT_OPERATOR","->",526],["T_STRING","__",526],"(",["T_CONSTANT_ENCAPSED_STRING","'UPS Ground'",526],")",",",["T_WHITESPACE","\n                    ",526],["T_CONSTANT_ENCAPSED_STRING","'07'",527],["T_WHITESPACE"," ",527],["T_DOUBLE_ARROW","=>",527],["T_WHITESPACE"," ",527],["T_STRING","Mage",527],["T_DOUBLE_COLON","::",527],["T_STRING","helper",527],"(",["T_CONSTANT_ENCAPSED_STRING","'usa'",527],")",["T_OBJECT_OPERATOR","->",527],["T_STRING","__",527],"(",["T_CONSTANT_ENCAPSED_STRING","'UPS Worldwide Express'",527],")",",",["T_WHITESPACE","\n                    ",527],["T_CONSTANT_ENCAPSED_STRING","'08'",528],["T_WHITESPACE"," ",528],["T_DOUBLE_ARROW","=>",528],["T_WHITESPACE"," ",528],["T_STRING","Mage",528],["T_DOUBLE_COLON","::",528],["T_STRING","helper",528],"(",["T_CONSTANT_ENCAPSED_STRING","'usa'",528],")",["T_OBJECT_OPERATOR","->",528],["T_STRING","__",528],"(",["T_CONSTANT_ENCAPSED_STRING","'UPS Worldwide Expedited'",528],")",",",["T_WHITESPACE","\n                    ",528],["T_CONSTANT_ENCAPSED_STRING","'11'",529],["T_WHITESPACE"," ",529],["T_DOUBLE_ARROW","=>",529],["T_WHITESPACE"," ",529],["T_STRING","Mage",529],["T_DOUBLE_COLON","::",529],["T_STRING","helper",529],"(",["T_CONSTANT_ENCAPSED_STRING","'usa'",529],")",["T_OBJECT_OPERATOR","->",529],["T_STRING","__",529],"(",["T_CONSTANT_ENCAPSED_STRING","'UPS Standard'",529],")",",",["T_WHITESPACE","\n                    ",529],["T_CONSTANT_ENCAPSED_STRING","'12'",530],["T_WHITESPACE"," ",530],["T_DOUBLE_ARROW","=>",530],["T_WHITESPACE"," ",530],["T_STRING","Mage",530],["T_DOUBLE_COLON","::",530],["T_STRING","helper",530],"(",["T_CONSTANT_ENCAPSED_STRING","'usa'",530],")",["T_OBJECT_OPERATOR","->",530],["T_STRING","__",530],"(",["T_CONSTANT_ENCAPSED_STRING","'UPS Three-Day Select'",530],")",",",["T_WHITESPACE","\n                    ",530],["T_CONSTANT_ENCAPSED_STRING","'14'",531],["T_WHITESPACE"," ",531],["T_DOUBLE_ARROW","=>",531],["T_WHITESPACE"," ",531],["T_STRING","Mage",531],["T_DOUBLE_COLON","::",531],["T_STRING","helper",531],"(",["T_CONSTANT_ENCAPSED_STRING","'usa'",531],")",["T_OBJECT_OPERATOR","->",531],["T_STRING","__",531],"(",["T_CONSTANT_ENCAPSED_STRING","'UPS Next Day Air Early A.M.'",531],")",",",["T_WHITESPACE","\n                    ",531],["T_CONSTANT_ENCAPSED_STRING","'54'",532],["T_WHITESPACE"," ",532],["T_DOUBLE_ARROW","=>",532],["T_WHITESPACE"," ",532],["T_STRING","Mage",532],["T_DOUBLE_COLON","::",532],["T_STRING","helper",532],"(",["T_CONSTANT_ENCAPSED_STRING","'usa'",532],")",["T_OBJECT_OPERATOR","->",532],["T_STRING","__",532],"(",["T_CONSTANT_ENCAPSED_STRING","'UPS Worldwide Express Plus'",532],")",",",["T_WHITESPACE","\n                    ",532],["T_CONSTANT_ENCAPSED_STRING","'59'",533],["T_WHITESPACE"," ",533],["T_DOUBLE_ARROW","=>",533],["T_WHITESPACE"," ",533],["T_STRING","Mage",533],["T_DOUBLE_COLON","::",533],["T_STRING","helper",533],"(",["T_CONSTANT_ENCAPSED_STRING","'usa'",533],")",["T_OBJECT_OPERATOR","->",533],["T_STRING","__",533],"(",["T_CONSTANT_ENCAPSED_STRING","'UPS Second Day Air A.M.'",533],")",",",["T_WHITESPACE","\n                    ",533],["T_CONSTANT_ENCAPSED_STRING","'65'",534],["T_WHITESPACE"," ",534],["T_DOUBLE_ARROW","=>",534],["T_WHITESPACE"," ",534],["T_STRING","Mage",534],["T_DOUBLE_COLON","::",534],["T_STRING","helper",534],"(",["T_CONSTANT_ENCAPSED_STRING","'usa'",534],")",["T_OBJECT_OPERATOR","->",534],["T_STRING","__",534],"(",["T_CONSTANT_ENCAPSED_STRING","'UPS Worldwide Saver'",534],")",",",["T_WHITESPACE","\n                ",534],")",",",["T_WHITESPACE","\n                ",535],["T_COMMENT","\/\/ Shipments Originating in Canada\n",536],["T_WHITESPACE","                ",537],["T_CONSTANT_ENCAPSED_STRING","'Shipments Originating in Canada'",537],["T_WHITESPACE"," ",537],["T_DOUBLE_ARROW","=>",537],["T_WHITESPACE"," ",537],["T_ARRAY","array",537],"(",["T_WHITESPACE","\n                    ",537],["T_CONSTANT_ENCAPSED_STRING","'01'",538],["T_WHITESPACE"," ",538],["T_DOUBLE_ARROW","=>",538],["T_WHITESPACE"," ",538],["T_STRING","Mage",538],["T_DOUBLE_COLON","::",538],["T_STRING","helper",538],"(",["T_CONSTANT_ENCAPSED_STRING","'usa'",538],")",["T_OBJECT_OPERATOR","->",538],["T_STRING","__",538],"(",["T_CONSTANT_ENCAPSED_STRING","'UPS Express'",538],")",",",["T_WHITESPACE","\n                    ",538],["T_CONSTANT_ENCAPSED_STRING","'02'",539],["T_WHITESPACE"," ",539],["T_DOUBLE_ARROW","=>",539],["T_WHITESPACE"," ",539],["T_STRING","Mage",539],["T_DOUBLE_COLON","::",539],["T_STRING","helper",539],"(",["T_CONSTANT_ENCAPSED_STRING","'usa'",539],")",["T_OBJECT_OPERATOR","->",539],["T_STRING","__",539],"(",["T_CONSTANT_ENCAPSED_STRING","'UPS Expedited'",539],")",",",["T_WHITESPACE","\n                    ",539],["T_CONSTANT_ENCAPSED_STRING","'07'",540],["T_WHITESPACE"," ",540],["T_DOUBLE_ARROW","=>",540],["T_WHITESPACE"," ",540],["T_STRING","Mage",540],["T_DOUBLE_COLON","::",540],["T_STRING","helper",540],"(",["T_CONSTANT_ENCAPSED_STRING","'usa'",540],")",["T_OBJECT_OPERATOR","->",540],["T_STRING","__",540],"(",["T_CONSTANT_ENCAPSED_STRING","'UPS Worldwide Express'",540],")",",",["T_WHITESPACE","\n                    ",540],["T_CONSTANT_ENCAPSED_STRING","'08'",541],["T_WHITESPACE"," ",541],["T_DOUBLE_ARROW","=>",541],["T_WHITESPACE"," ",541],["T_STRING","Mage",541],["T_DOUBLE_COLON","::",541],["T_STRING","helper",541],"(",["T_CONSTANT_ENCAPSED_STRING","'usa'",541],")",["T_OBJECT_OPERATOR","->",541],["T_STRING","__",541],"(",["T_CONSTANT_ENCAPSED_STRING","'UPS Worldwide Expedited'",541],")",",",["T_WHITESPACE","\n                    ",541],["T_CONSTANT_ENCAPSED_STRING","'11'",542],["T_WHITESPACE"," ",542],["T_DOUBLE_ARROW","=>",542],["T_WHITESPACE"," ",542],["T_STRING","Mage",542],["T_DOUBLE_COLON","::",542],["T_STRING","helper",542],"(",["T_CONSTANT_ENCAPSED_STRING","'usa'",542],")",["T_OBJECT_OPERATOR","->",542],["T_STRING","__",542],"(",["T_CONSTANT_ENCAPSED_STRING","'UPS Standard'",542],")",",",["T_WHITESPACE","\n                    ",542],["T_CONSTANT_ENCAPSED_STRING","'12'",543],["T_WHITESPACE"," ",543],["T_DOUBLE_ARROW","=>",543],["T_WHITESPACE"," ",543],["T_STRING","Mage",543],["T_DOUBLE_COLON","::",543],["T_STRING","helper",543],"(",["T_CONSTANT_ENCAPSED_STRING","'usa'",543],")",["T_OBJECT_OPERATOR","->",543],["T_STRING","__",543],"(",["T_CONSTANT_ENCAPSED_STRING","'UPS Three-Day Select'",543],")",",",["T_WHITESPACE","\n                    ",543],["T_CONSTANT_ENCAPSED_STRING","'14'",544],["T_WHITESPACE"," ",544],["T_DOUBLE_ARROW","=>",544],["T_WHITESPACE"," ",544],["T_STRING","Mage",544],["T_DOUBLE_COLON","::",544],["T_STRING","helper",544],"(",["T_CONSTANT_ENCAPSED_STRING","'usa'",544],")",["T_OBJECT_OPERATOR","->",544],["T_STRING","__",544],"(",["T_CONSTANT_ENCAPSED_STRING","'UPS Express Early A.M.'",544],")",",",["T_WHITESPACE","\n                    ",544],["T_CONSTANT_ENCAPSED_STRING","'65'",545],["T_WHITESPACE"," ",545],["T_DOUBLE_ARROW","=>",545],["T_WHITESPACE"," ",545],["T_STRING","Mage",545],["T_DOUBLE_COLON","::",545],["T_STRING","helper",545],"(",["T_CONSTANT_ENCAPSED_STRING","'usa'",545],")",["T_OBJECT_OPERATOR","->",545],["T_STRING","__",545],"(",["T_CONSTANT_ENCAPSED_STRING","'UPS Saver'",545],")",",",["T_WHITESPACE","\n                ",545],")",",",["T_WHITESPACE","\n                ",546],["T_COMMENT","\/\/ Shipments Originating in the European Union\n",547],["T_WHITESPACE","                ",548],["T_CONSTANT_ENCAPSED_STRING","'Shipments Originating in the European Union'",548],["T_WHITESPACE"," ",548],["T_DOUBLE_ARROW","=>",548],["T_WHITESPACE"," ",548],["T_ARRAY","array",548],"(",["T_WHITESPACE","\n                    ",548],["T_CONSTANT_ENCAPSED_STRING","'07'",549],["T_WHITESPACE"," ",549],["T_DOUBLE_ARROW","=>",549],["T_WHITESPACE"," ",549],["T_STRING","Mage",549],["T_DOUBLE_COLON","::",549],["T_STRING","helper",549],"(",["T_CONSTANT_ENCAPSED_STRING","'usa'",549],")",["T_OBJECT_OPERATOR","->",549],["T_STRING","__",549],"(",["T_CONSTANT_ENCAPSED_STRING","'UPS Express'",549],")",",",["T_WHITESPACE","\n                    ",549],["T_CONSTANT_ENCAPSED_STRING","'08'",550],["T_WHITESPACE"," ",550],["T_DOUBLE_ARROW","=>",550],["T_WHITESPACE"," ",550],["T_STRING","Mage",550],["T_DOUBLE_COLON","::",550],["T_STRING","helper",550],"(",["T_CONSTANT_ENCAPSED_STRING","'usa'",550],")",["T_OBJECT_OPERATOR","->",550],["T_STRING","__",550],"(",["T_CONSTANT_ENCAPSED_STRING","'UPS Expedited'",550],")",",",["T_WHITESPACE","\n                    ",550],["T_CONSTANT_ENCAPSED_STRING","'11'",551],["T_WHITESPACE"," ",551],["T_DOUBLE_ARROW","=>",551],["T_WHITESPACE"," ",551],["T_STRING","Mage",551],["T_DOUBLE_COLON","::",551],["T_STRING","helper",551],"(",["T_CONSTANT_ENCAPSED_STRING","'usa'",551],")",["T_OBJECT_OPERATOR","->",551],["T_STRING","__",551],"(",["T_CONSTANT_ENCAPSED_STRING","'UPS Standard'",551],")",",",["T_WHITESPACE","\n                    ",551],["T_CONSTANT_ENCAPSED_STRING","'54'",552],["T_WHITESPACE"," ",552],["T_DOUBLE_ARROW","=>",552],["T_WHITESPACE"," ",552],["T_STRING","Mage",552],["T_DOUBLE_COLON","::",552],["T_STRING","helper",552],"(",["T_CONSTANT_ENCAPSED_STRING","'usa'",552],")",["T_OBJECT_OPERATOR","->",552],["T_STRING","__",552],"(",["T_CONSTANT_ENCAPSED_STRING","'UPS Worldwide Express PlusSM'",552],")",",",["T_WHITESPACE","\n                    ",552],["T_CONSTANT_ENCAPSED_STRING","'65'",553],["T_WHITESPACE"," ",553],["T_DOUBLE_ARROW","=>",553],["T_WHITESPACE"," ",553],["T_STRING","Mage",553],["T_DOUBLE_COLON","::",553],["T_STRING","helper",553],"(",["T_CONSTANT_ENCAPSED_STRING","'usa'",553],")",["T_OBJECT_OPERATOR","->",553],["T_STRING","__",553],"(",["T_CONSTANT_ENCAPSED_STRING","'UPS Saver'",553],")",",",["T_WHITESPACE","\n                ",553],")",",",["T_WHITESPACE","\n                ",554],["T_COMMENT","\/\/ Polish Domestic Shipments\n",555],["T_WHITESPACE","                ",556],["T_CONSTANT_ENCAPSED_STRING","'Polish Domestic Shipments'",556],["T_WHITESPACE"," ",556],["T_DOUBLE_ARROW","=>",556],["T_WHITESPACE"," ",556],["T_ARRAY","array",556],"(",["T_WHITESPACE","\n                    ",556],["T_CONSTANT_ENCAPSED_STRING","'07'",557],["T_WHITESPACE"," ",557],["T_DOUBLE_ARROW","=>",557],["T_WHITESPACE"," ",557],["T_STRING","Mage",557],["T_DOUBLE_COLON","::",557],["T_STRING","helper",557],"(",["T_CONSTANT_ENCAPSED_STRING","'usa'",557],")",["T_OBJECT_OPERATOR","->",557],["T_STRING","__",557],"(",["T_CONSTANT_ENCAPSED_STRING","'UPS Express'",557],")",",",["T_WHITESPACE","\n                    ",557],["T_CONSTANT_ENCAPSED_STRING","'08'",558],["T_WHITESPACE"," ",558],["T_DOUBLE_ARROW","=>",558],["T_WHITESPACE"," ",558],["T_STRING","Mage",558],["T_DOUBLE_COLON","::",558],["T_STRING","helper",558],"(",["T_CONSTANT_ENCAPSED_STRING","'usa'",558],")",["T_OBJECT_OPERATOR","->",558],["T_STRING","__",558],"(",["T_CONSTANT_ENCAPSED_STRING","'UPS Expedited'",558],")",",",["T_WHITESPACE","\n                    ",558],["T_CONSTANT_ENCAPSED_STRING","'11'",559],["T_WHITESPACE"," ",559],["T_DOUBLE_ARROW","=>",559],["T_WHITESPACE"," ",559],["T_STRING","Mage",559],["T_DOUBLE_COLON","::",559],["T_STRING","helper",559],"(",["T_CONSTANT_ENCAPSED_STRING","'usa'",559],")",["T_OBJECT_OPERATOR","->",559],["T_STRING","__",559],"(",["T_CONSTANT_ENCAPSED_STRING","'UPS Standard'",559],")",",",["T_WHITESPACE","\n                    ",559],["T_CONSTANT_ENCAPSED_STRING","'54'",560],["T_WHITESPACE"," ",560],["T_DOUBLE_ARROW","=>",560],["T_WHITESPACE"," ",560],["T_STRING","Mage",560],["T_DOUBLE_COLON","::",560],["T_STRING","helper",560],"(",["T_CONSTANT_ENCAPSED_STRING","'usa'",560],")",["T_OBJECT_OPERATOR","->",560],["T_STRING","__",560],"(",["T_CONSTANT_ENCAPSED_STRING","'UPS Worldwide Express Plus'",560],")",",",["T_WHITESPACE","\n                    ",560],["T_CONSTANT_ENCAPSED_STRING","'65'",561],["T_WHITESPACE"," ",561],["T_DOUBLE_ARROW","=>",561],["T_WHITESPACE"," ",561],["T_STRING","Mage",561],["T_DOUBLE_COLON","::",561],["T_STRING","helper",561],"(",["T_CONSTANT_ENCAPSED_STRING","'usa'",561],")",["T_OBJECT_OPERATOR","->",561],["T_STRING","__",561],"(",["T_CONSTANT_ENCAPSED_STRING","'UPS Saver'",561],")",",",["T_WHITESPACE","\n                    ",561],["T_CONSTANT_ENCAPSED_STRING","'82'",562],["T_WHITESPACE"," ",562],["T_DOUBLE_ARROW","=>",562],["T_WHITESPACE"," ",562],["T_STRING","Mage",562],["T_DOUBLE_COLON","::",562],["T_STRING","helper",562],"(",["T_CONSTANT_ENCAPSED_STRING","'usa'",562],")",["T_OBJECT_OPERATOR","->",562],["T_STRING","__",562],"(",["T_CONSTANT_ENCAPSED_STRING","'UPS Today Standard'",562],")",",",["T_WHITESPACE","\n                    ",562],["T_CONSTANT_ENCAPSED_STRING","'83'",563],["T_WHITESPACE"," ",563],["T_DOUBLE_ARROW","=>",563],["T_WHITESPACE"," ",563],["T_STRING","Mage",563],["T_DOUBLE_COLON","::",563],["T_STRING","helper",563],"(",["T_CONSTANT_ENCAPSED_STRING","'usa'",563],")",["T_OBJECT_OPERATOR","->",563],["T_STRING","__",563],"(",["T_CONSTANT_ENCAPSED_STRING","'UPS Today Dedicated Courrier'",563],")",",",["T_WHITESPACE","\n                    ",563],["T_CONSTANT_ENCAPSED_STRING","'84'",564],["T_WHITESPACE"," ",564],["T_DOUBLE_ARROW","=>",564],["T_WHITESPACE"," ",564],["T_STRING","Mage",564],["T_DOUBLE_COLON","::",564],["T_STRING","helper",564],"(",["T_CONSTANT_ENCAPSED_STRING","'usa'",564],")",["T_OBJECT_OPERATOR","->",564],["T_STRING","__",564],"(",["T_CONSTANT_ENCAPSED_STRING","'UPS Today Intercity'",564],")",",",["T_WHITESPACE","\n                    ",564],["T_CONSTANT_ENCAPSED_STRING","'85'",565],["T_WHITESPACE"," ",565],["T_DOUBLE_ARROW","=>",565],["T_WHITESPACE"," ",565],["T_STRING","Mage",565],["T_DOUBLE_COLON","::",565],["T_STRING","helper",565],"(",["T_CONSTANT_ENCAPSED_STRING","'usa'",565],")",["T_OBJECT_OPERATOR","->",565],["T_STRING","__",565],"(",["T_CONSTANT_ENCAPSED_STRING","'UPS Today Express'",565],")",",",["T_WHITESPACE","\n                    ",565],["T_CONSTANT_ENCAPSED_STRING","'86'",566],["T_WHITESPACE"," ",566],["T_DOUBLE_ARROW","=>",566],["T_WHITESPACE"," ",566],["T_STRING","Mage",566],["T_DOUBLE_COLON","::",566],["T_STRING","helper",566],"(",["T_CONSTANT_ENCAPSED_STRING","'usa'",566],")",["T_OBJECT_OPERATOR","->",566],["T_STRING","__",566],"(",["T_CONSTANT_ENCAPSED_STRING","'UPS Today Express Saver'",566],")",",",["T_WHITESPACE","\n                ",566],")",",",["T_WHITESPACE","\n                ",567],["T_COMMENT","\/\/ Puerto Rico Origin\n",568],["T_WHITESPACE","                ",569],["T_CONSTANT_ENCAPSED_STRING","'Puerto Rico Origin'",569],["T_WHITESPACE"," ",569],["T_DOUBLE_ARROW","=>",569],["T_WHITESPACE"," ",569],["T_ARRAY","array",569],"(",["T_WHITESPACE","\n                    ",569],["T_CONSTANT_ENCAPSED_STRING","'01'",570],["T_WHITESPACE"," ",570],["T_DOUBLE_ARROW","=>",570],["T_WHITESPACE"," ",570],["T_STRING","Mage",570],["T_DOUBLE_COLON","::",570],["T_STRING","helper",570],"(",["T_CONSTANT_ENCAPSED_STRING","'usa'",570],")",["T_OBJECT_OPERATOR","->",570],["T_STRING","__",570],"(",["T_CONSTANT_ENCAPSED_STRING","'UPS Next Day Air'",570],")",",",["T_WHITESPACE","\n                    ",570],["T_CONSTANT_ENCAPSED_STRING","'02'",571],["T_WHITESPACE"," ",571],["T_DOUBLE_ARROW","=>",571],["T_WHITESPACE"," ",571],["T_STRING","Mage",571],["T_DOUBLE_COLON","::",571],["T_STRING","helper",571],"(",["T_CONSTANT_ENCAPSED_STRING","'usa'",571],")",["T_OBJECT_OPERATOR","->",571],["T_STRING","__",571],"(",["T_CONSTANT_ENCAPSED_STRING","'UPS Second Day Air'",571],")",",",["T_WHITESPACE","\n                    ",571],["T_CONSTANT_ENCAPSED_STRING","'03'",572],["T_WHITESPACE"," ",572],["T_DOUBLE_ARROW","=>",572],["T_WHITESPACE"," ",572],["T_STRING","Mage",572],["T_DOUBLE_COLON","::",572],["T_STRING","helper",572],"(",["T_CONSTANT_ENCAPSED_STRING","'usa'",572],")",["T_OBJECT_OPERATOR","->",572],["T_STRING","__",572],"(",["T_CONSTANT_ENCAPSED_STRING","'UPS Ground'",572],")",",",["T_WHITESPACE","\n                    ",572],["T_CONSTANT_ENCAPSED_STRING","'07'",573],["T_WHITESPACE"," ",573],["T_DOUBLE_ARROW","=>",573],["T_WHITESPACE"," ",573],["T_STRING","Mage",573],["T_DOUBLE_COLON","::",573],["T_STRING","helper",573],"(",["T_CONSTANT_ENCAPSED_STRING","'usa'",573],")",["T_OBJECT_OPERATOR","->",573],["T_STRING","__",573],"(",["T_CONSTANT_ENCAPSED_STRING","'UPS Worldwide Express'",573],")",",",["T_WHITESPACE","\n                    ",573],["T_CONSTANT_ENCAPSED_STRING","'08'",574],["T_WHITESPACE"," ",574],["T_DOUBLE_ARROW","=>",574],["T_WHITESPACE"," ",574],["T_STRING","Mage",574],["T_DOUBLE_COLON","::",574],["T_STRING","helper",574],"(",["T_CONSTANT_ENCAPSED_STRING","'usa'",574],")",["T_OBJECT_OPERATOR","->",574],["T_STRING","__",574],"(",["T_CONSTANT_ENCAPSED_STRING","'UPS Worldwide Expedited'",574],")",",",["T_WHITESPACE","\n                    ",574],["T_CONSTANT_ENCAPSED_STRING","'14'",575],["T_WHITESPACE"," ",575],["T_DOUBLE_ARROW","=>",575],["T_WHITESPACE"," ",575],["T_STRING","Mage",575],["T_DOUBLE_COLON","::",575],["T_STRING","helper",575],"(",["T_CONSTANT_ENCAPSED_STRING","'usa'",575],")",["T_OBJECT_OPERATOR","->",575],["T_STRING","__",575],"(",["T_CONSTANT_ENCAPSED_STRING","'UPS Next Day Air Early A.M.'",575],")",",",["T_WHITESPACE","\n                    ",575],["T_CONSTANT_ENCAPSED_STRING","'54'",576],["T_WHITESPACE"," ",576],["T_DOUBLE_ARROW","=>",576],["T_WHITESPACE"," ",576],["T_STRING","Mage",576],["T_DOUBLE_COLON","::",576],["T_STRING","helper",576],"(",["T_CONSTANT_ENCAPSED_STRING","'usa'",576],")",["T_OBJECT_OPERATOR","->",576],["T_STRING","__",576],"(",["T_CONSTANT_ENCAPSED_STRING","'UPS Worldwide Express Plus'",576],")",",",["T_WHITESPACE","\n                    ",576],["T_CONSTANT_ENCAPSED_STRING","'65'",577],["T_WHITESPACE"," ",577],["T_DOUBLE_ARROW","=>",577],["T_WHITESPACE"," ",577],["T_STRING","Mage",577],["T_DOUBLE_COLON","::",577],["T_STRING","helper",577],"(",["T_CONSTANT_ENCAPSED_STRING","'usa'",577],")",["T_OBJECT_OPERATOR","->",577],["T_STRING","__",577],"(",["T_CONSTANT_ENCAPSED_STRING","'UPS Saver'",577],")",",",["T_WHITESPACE","\n                ",577],")",",",["T_WHITESPACE","\n                ",578],["T_COMMENT","\/\/ Shipments Originating in Mexico\n",579],["T_WHITESPACE","                ",580],["T_CONSTANT_ENCAPSED_STRING","'Shipments Originating in Mexico'",580],["T_WHITESPACE"," ",580],["T_DOUBLE_ARROW","=>",580],["T_WHITESPACE"," ",580],["T_ARRAY","array",580],"(",["T_WHITESPACE","\n                    ",580],["T_CONSTANT_ENCAPSED_STRING","'07'",581],["T_WHITESPACE"," ",581],["T_DOUBLE_ARROW","=>",581],["T_WHITESPACE"," ",581],["T_STRING","Mage",581],["T_DOUBLE_COLON","::",581],["T_STRING","helper",581],"(",["T_CONSTANT_ENCAPSED_STRING","'usa'",581],")",["T_OBJECT_OPERATOR","->",581],["T_STRING","__",581],"(",["T_CONSTANT_ENCAPSED_STRING","'UPS Express'",581],")",",",["T_WHITESPACE","\n                    ",581],["T_CONSTANT_ENCAPSED_STRING","'08'",582],["T_WHITESPACE"," ",582],["T_DOUBLE_ARROW","=>",582],["T_WHITESPACE"," ",582],["T_STRING","Mage",582],["T_DOUBLE_COLON","::",582],["T_STRING","helper",582],"(",["T_CONSTANT_ENCAPSED_STRING","'usa'",582],")",["T_OBJECT_OPERATOR","->",582],["T_STRING","__",582],"(",["T_CONSTANT_ENCAPSED_STRING","'UPS Expedited'",582],")",",",["T_WHITESPACE","\n                    ",582],["T_CONSTANT_ENCAPSED_STRING","'54'",583],["T_WHITESPACE"," ",583],["T_DOUBLE_ARROW","=>",583],["T_WHITESPACE"," ",583],["T_STRING","Mage",583],["T_DOUBLE_COLON","::",583],["T_STRING","helper",583],"(",["T_CONSTANT_ENCAPSED_STRING","'usa'",583],")",["T_OBJECT_OPERATOR","->",583],["T_STRING","__",583],"(",["T_CONSTANT_ENCAPSED_STRING","'UPS Express Plus'",583],")",",",["T_WHITESPACE","\n                    ",583],["T_CONSTANT_ENCAPSED_STRING","'65'",584],["T_WHITESPACE"," ",584],["T_DOUBLE_ARROW","=>",584],["T_WHITESPACE"," ",584],["T_STRING","Mage",584],["T_DOUBLE_COLON","::",584],["T_STRING","helper",584],"(",["T_CONSTANT_ENCAPSED_STRING","'usa'",584],")",["T_OBJECT_OPERATOR","->",584],["T_STRING","__",584],"(",["T_CONSTANT_ENCAPSED_STRING","'UPS Saver'",584],")",",",["T_WHITESPACE","\n                ",584],")",",",["T_WHITESPACE","\n                ",585],["T_COMMENT","\/\/ Shipments Originating in Other Countries\n",586],["T_WHITESPACE","                ",587],["T_CONSTANT_ENCAPSED_STRING","'Shipments Originating in Other Countries'",587],["T_WHITESPACE"," ",587],["T_DOUBLE_ARROW","=>",587],["T_WHITESPACE"," ",587],["T_ARRAY","array",587],"(",["T_WHITESPACE","\n                    ",587],["T_CONSTANT_ENCAPSED_STRING","'07'",588],["T_WHITESPACE"," ",588],["T_DOUBLE_ARROW","=>",588],["T_WHITESPACE"," ",588],["T_STRING","Mage",588],["T_DOUBLE_COLON","::",588],["T_STRING","helper",588],"(",["T_CONSTANT_ENCAPSED_STRING","'usa'",588],")",["T_OBJECT_OPERATOR","->",588],["T_STRING","__",588],"(",["T_CONSTANT_ENCAPSED_STRING","'UPS Express'",588],")",",",["T_WHITESPACE","\n                    ",588],["T_CONSTANT_ENCAPSED_STRING","'08'",589],["T_WHITESPACE"," ",589],["T_DOUBLE_ARROW","=>",589],["T_WHITESPACE"," ",589],["T_STRING","Mage",589],["T_DOUBLE_COLON","::",589],["T_STRING","helper",589],"(",["T_CONSTANT_ENCAPSED_STRING","'usa'",589],")",["T_OBJECT_OPERATOR","->",589],["T_STRING","__",589],"(",["T_CONSTANT_ENCAPSED_STRING","'UPS Worldwide Expedited'",589],")",",",["T_WHITESPACE","\n                    ",589],["T_CONSTANT_ENCAPSED_STRING","'11'",590],["T_WHITESPACE"," ",590],["T_DOUBLE_ARROW","=>",590],["T_WHITESPACE"," ",590],["T_STRING","Mage",590],["T_DOUBLE_COLON","::",590],["T_STRING","helper",590],"(",["T_CONSTANT_ENCAPSED_STRING","'usa'",590],")",["T_OBJECT_OPERATOR","->",590],["T_STRING","__",590],"(",["T_CONSTANT_ENCAPSED_STRING","'UPS Standard'",590],")",",",["T_WHITESPACE","\n                    ",590],["T_CONSTANT_ENCAPSED_STRING","'54'",591],["T_WHITESPACE"," ",591],["T_DOUBLE_ARROW","=>",591],["T_WHITESPACE"," ",591],["T_STRING","Mage",591],["T_DOUBLE_COLON","::",591],["T_STRING","helper",591],"(",["T_CONSTANT_ENCAPSED_STRING","'usa'",591],")",["T_OBJECT_OPERATOR","->",591],["T_STRING","__",591],"(",["T_CONSTANT_ENCAPSED_STRING","'UPS Worldwide Express Plus'",591],")",",",["T_WHITESPACE","\n                    ",591],["T_CONSTANT_ENCAPSED_STRING","'65'",592],["T_WHITESPACE"," ",592],["T_DOUBLE_ARROW","=>",592],["T_WHITESPACE"," ",592],["T_STRING","Mage",592],["T_DOUBLE_COLON","::",592],["T_STRING","helper",592],"(",["T_CONSTANT_ENCAPSED_STRING","'usa'",592],")",["T_OBJECT_OPERATOR","->",592],["T_STRING","__",592],"(",["T_CONSTANT_ENCAPSED_STRING","'UPS Saver'",592],")",["T_WHITESPACE","\n                ",592],")",["T_WHITESPACE","\n            ",593],")",",",["T_WHITESPACE","\n\n            ",594],["T_CONSTANT_ENCAPSED_STRING","'method'",596],["T_DOUBLE_ARROW","=>",596],["T_ARRAY","array",596],"(",["T_WHITESPACE","\n                ",596],["T_CONSTANT_ENCAPSED_STRING","'1DM'",597],["T_WHITESPACE","    ",597],["T_DOUBLE_ARROW","=>",597],["T_WHITESPACE"," ",597],["T_STRING","Mage",597],["T_DOUBLE_COLON","::",597],["T_STRING","helper",597],"(",["T_CONSTANT_ENCAPSED_STRING","'usa'",597],")",["T_OBJECT_OPERATOR","->",597],["T_STRING","__",597],"(",["T_CONSTANT_ENCAPSED_STRING","'Next Day Air Early AM'",597],")",",",["T_WHITESPACE","\n                ",597],["T_CONSTANT_ENCAPSED_STRING","'1DML'",598],["T_WHITESPACE","   ",598],["T_DOUBLE_ARROW","=>",598],["T_WHITESPACE"," ",598],["T_STRING","Mage",598],["T_DOUBLE_COLON","::",598],["T_STRING","helper",598],"(",["T_CONSTANT_ENCAPSED_STRING","'usa'",598],")",["T_OBJECT_OPERATOR","->",598],["T_STRING","__",598],"(",["T_CONSTANT_ENCAPSED_STRING","'Next Day Air Early AM Letter'",598],")",",",["T_WHITESPACE","\n                ",598],["T_CONSTANT_ENCAPSED_STRING","'1DA'",599],["T_WHITESPACE","    ",599],["T_DOUBLE_ARROW","=>",599],["T_WHITESPACE"," ",599],["T_STRING","Mage",599],["T_DOUBLE_COLON","::",599],["T_STRING","helper",599],"(",["T_CONSTANT_ENCAPSED_STRING","'usa'",599],")",["T_OBJECT_OPERATOR","->",599],["T_STRING","__",599],"(",["T_CONSTANT_ENCAPSED_STRING","'Next Day Air'",599],")",",",["T_WHITESPACE","\n                ",599],["T_CONSTANT_ENCAPSED_STRING","'1DAL'",600],["T_WHITESPACE","   ",600],["T_DOUBLE_ARROW","=>",600],["T_WHITESPACE"," ",600],["T_STRING","Mage",600],["T_DOUBLE_COLON","::",600],["T_STRING","helper",600],"(",["T_CONSTANT_ENCAPSED_STRING","'usa'",600],")",["T_OBJECT_OPERATOR","->",600],["T_STRING","__",600],"(",["T_CONSTANT_ENCAPSED_STRING","'Next Day Air Letter'",600],")",",",["T_WHITESPACE","\n                ",600],["T_CONSTANT_ENCAPSED_STRING","'1DAPI'",601],["T_WHITESPACE","  ",601],["T_DOUBLE_ARROW","=>",601],["T_WHITESPACE"," ",601],["T_STRING","Mage",601],["T_DOUBLE_COLON","::",601],["T_STRING","helper",601],"(",["T_CONSTANT_ENCAPSED_STRING","'usa'",601],")",["T_OBJECT_OPERATOR","->",601],["T_STRING","__",601],"(",["T_CONSTANT_ENCAPSED_STRING","'Next Day Air Intra (Puerto Rico)'",601],")",",",["T_WHITESPACE","\n                ",601],["T_CONSTANT_ENCAPSED_STRING","'1DP'",602],["T_WHITESPACE","    ",602],["T_DOUBLE_ARROW","=>",602],["T_WHITESPACE"," ",602],["T_STRING","Mage",602],["T_DOUBLE_COLON","::",602],["T_STRING","helper",602],"(",["T_CONSTANT_ENCAPSED_STRING","'usa'",602],")",["T_OBJECT_OPERATOR","->",602],["T_STRING","__",602],"(",["T_CONSTANT_ENCAPSED_STRING","'Next Day Air Saver'",602],")",",",["T_WHITESPACE","\n                ",602],["T_CONSTANT_ENCAPSED_STRING","'1DPL'",603],["T_WHITESPACE","   ",603],["T_DOUBLE_ARROW","=>",603],["T_WHITESPACE"," ",603],["T_STRING","Mage",603],["T_DOUBLE_COLON","::",603],["T_STRING","helper",603],"(",["T_CONSTANT_ENCAPSED_STRING","'usa'",603],")",["T_OBJECT_OPERATOR","->",603],["T_STRING","__",603],"(",["T_CONSTANT_ENCAPSED_STRING","'Next Day Air Saver Letter'",603],")",",",["T_WHITESPACE","\n                ",603],["T_CONSTANT_ENCAPSED_STRING","'2DM'",604],["T_WHITESPACE","    ",604],["T_DOUBLE_ARROW","=>",604],["T_WHITESPACE"," ",604],["T_STRING","Mage",604],["T_DOUBLE_COLON","::",604],["T_STRING","helper",604],"(",["T_CONSTANT_ENCAPSED_STRING","'usa'",604],")",["T_OBJECT_OPERATOR","->",604],["T_STRING","__",604],"(",["T_CONSTANT_ENCAPSED_STRING","'2nd Day Air AM'",604],")",",",["T_WHITESPACE","\n                ",604],["T_CONSTANT_ENCAPSED_STRING","'2DML'",605],["T_WHITESPACE","   ",605],["T_DOUBLE_ARROW","=>",605],["T_WHITESPACE"," ",605],["T_STRING","Mage",605],["T_DOUBLE_COLON","::",605],["T_STRING","helper",605],"(",["T_CONSTANT_ENCAPSED_STRING","'usa'",605],")",["T_OBJECT_OPERATOR","->",605],["T_STRING","__",605],"(",["T_CONSTANT_ENCAPSED_STRING","'2nd Day Air AM Letter'",605],")",",",["T_WHITESPACE","\n                ",605],["T_CONSTANT_ENCAPSED_STRING","'2DA'",606],["T_WHITESPACE","    ",606],["T_DOUBLE_ARROW","=>",606],["T_WHITESPACE"," ",606],["T_STRING","Mage",606],["T_DOUBLE_COLON","::",606],["T_STRING","helper",606],"(",["T_CONSTANT_ENCAPSED_STRING","'usa'",606],")",["T_OBJECT_OPERATOR","->",606],["T_STRING","__",606],"(",["T_CONSTANT_ENCAPSED_STRING","'2nd Day Air'",606],")",",",["T_WHITESPACE","\n                ",606],["T_CONSTANT_ENCAPSED_STRING","'2DAL'",607],["T_WHITESPACE","   ",607],["T_DOUBLE_ARROW","=>",607],["T_WHITESPACE"," ",607],["T_STRING","Mage",607],["T_DOUBLE_COLON","::",607],["T_STRING","helper",607],"(",["T_CONSTANT_ENCAPSED_STRING","'usa'",607],")",["T_OBJECT_OPERATOR","->",607],["T_STRING","__",607],"(",["T_CONSTANT_ENCAPSED_STRING","'2nd Day Air Letter'",607],")",",",["T_WHITESPACE","\n                ",607],["T_CONSTANT_ENCAPSED_STRING","'3DS'",608],["T_WHITESPACE","    ",608],["T_DOUBLE_ARROW","=>",608],["T_WHITESPACE"," ",608],["T_STRING","Mage",608],["T_DOUBLE_COLON","::",608],["T_STRING","helper",608],"(",["T_CONSTANT_ENCAPSED_STRING","'usa'",608],")",["T_OBJECT_OPERATOR","->",608],["T_STRING","__",608],"(",["T_CONSTANT_ENCAPSED_STRING","'3 Day Select'",608],")",",",["T_WHITESPACE","\n                ",608],["T_CONSTANT_ENCAPSED_STRING","'GND'",609],["T_WHITESPACE","    ",609],["T_DOUBLE_ARROW","=>",609],["T_WHITESPACE"," ",609],["T_STRING","Mage",609],["T_DOUBLE_COLON","::",609],["T_STRING","helper",609],"(",["T_CONSTANT_ENCAPSED_STRING","'usa'",609],")",["T_OBJECT_OPERATOR","->",609],["T_STRING","__",609],"(",["T_CONSTANT_ENCAPSED_STRING","'Ground'",609],")",",",["T_WHITESPACE","\n                ",609],["T_CONSTANT_ENCAPSED_STRING","'GNDCOM'",610],["T_WHITESPACE"," ",610],["T_DOUBLE_ARROW","=>",610],["T_WHITESPACE"," ",610],["T_STRING","Mage",610],["T_DOUBLE_COLON","::",610],["T_STRING","helper",610],"(",["T_CONSTANT_ENCAPSED_STRING","'usa'",610],")",["T_OBJECT_OPERATOR","->",610],["T_STRING","__",610],"(",["T_CONSTANT_ENCAPSED_STRING","'Ground Commercial'",610],")",",",["T_WHITESPACE","\n                ",610],["T_CONSTANT_ENCAPSED_STRING","'GNDRES'",611],["T_WHITESPACE"," ",611],["T_DOUBLE_ARROW","=>",611],["T_WHITESPACE"," ",611],["T_STRING","Mage",611],["T_DOUBLE_COLON","::",611],["T_STRING","helper",611],"(",["T_CONSTANT_ENCAPSED_STRING","'usa'",611],")",["T_OBJECT_OPERATOR","->",611],["T_STRING","__",611],"(",["T_CONSTANT_ENCAPSED_STRING","'Ground Residential'",611],")",",",["T_WHITESPACE","\n                ",611],["T_CONSTANT_ENCAPSED_STRING","'STD'",612],["T_WHITESPACE","    ",612],["T_DOUBLE_ARROW","=>",612],["T_WHITESPACE"," ",612],["T_STRING","Mage",612],["T_DOUBLE_COLON","::",612],["T_STRING","helper",612],"(",["T_CONSTANT_ENCAPSED_STRING","'usa'",612],")",["T_OBJECT_OPERATOR","->",612],["T_STRING","__",612],"(",["T_CONSTANT_ENCAPSED_STRING","'Canada Standard'",612],")",",",["T_WHITESPACE","\n                ",612],["T_CONSTANT_ENCAPSED_STRING","'XPR'",613],["T_WHITESPACE","    ",613],["T_DOUBLE_ARROW","=>",613],["T_WHITESPACE"," ",613],["T_STRING","Mage",613],["T_DOUBLE_COLON","::",613],["T_STRING","helper",613],"(",["T_CONSTANT_ENCAPSED_STRING","'usa'",613],")",["T_OBJECT_OPERATOR","->",613],["T_STRING","__",613],"(",["T_CONSTANT_ENCAPSED_STRING","'Worldwide Express'",613],")",",",["T_WHITESPACE","\n                ",613],["T_CONSTANT_ENCAPSED_STRING","'WXS'",614],["T_WHITESPACE","    ",614],["T_DOUBLE_ARROW","=>",614],["T_WHITESPACE"," ",614],["T_STRING","Mage",614],["T_DOUBLE_COLON","::",614],["T_STRING","helper",614],"(",["T_CONSTANT_ENCAPSED_STRING","'usa'",614],")",["T_OBJECT_OPERATOR","->",614],["T_STRING","__",614],"(",["T_CONSTANT_ENCAPSED_STRING","'Worldwide Express Saver'",614],")",",",["T_WHITESPACE","\n                ",614],["T_CONSTANT_ENCAPSED_STRING","'XPRL'",615],["T_WHITESPACE","   ",615],["T_DOUBLE_ARROW","=>",615],["T_WHITESPACE"," ",615],["T_STRING","Mage",615],["T_DOUBLE_COLON","::",615],["T_STRING","helper",615],"(",["T_CONSTANT_ENCAPSED_STRING","'usa'",615],")",["T_OBJECT_OPERATOR","->",615],["T_STRING","__",615],"(",["T_CONSTANT_ENCAPSED_STRING","'Worldwide Express Letter'",615],")",",",["T_WHITESPACE","\n                ",615],["T_CONSTANT_ENCAPSED_STRING","'XDM'",616],["T_WHITESPACE","    ",616],["T_DOUBLE_ARROW","=>",616],["T_WHITESPACE"," ",616],["T_STRING","Mage",616],["T_DOUBLE_COLON","::",616],["T_STRING","helper",616],"(",["T_CONSTANT_ENCAPSED_STRING","'usa'",616],")",["T_OBJECT_OPERATOR","->",616],["T_STRING","__",616],"(",["T_CONSTANT_ENCAPSED_STRING","'Worldwide Express Plus'",616],")",",",["T_WHITESPACE","\n                ",616],["T_CONSTANT_ENCAPSED_STRING","'XDML'",617],["T_WHITESPACE","   ",617],["T_DOUBLE_ARROW","=>",617],["T_WHITESPACE"," ",617],["T_STRING","Mage",617],["T_DOUBLE_COLON","::",617],["T_STRING","helper",617],"(",["T_CONSTANT_ENCAPSED_STRING","'usa'",617],")",["T_OBJECT_OPERATOR","->",617],["T_STRING","__",617],"(",["T_CONSTANT_ENCAPSED_STRING","'Worldwide Express Plus Letter'",617],")",",",["T_WHITESPACE","\n                ",617],["T_CONSTANT_ENCAPSED_STRING","'XPD'",618],["T_WHITESPACE","    ",618],["T_DOUBLE_ARROW","=>",618],["T_WHITESPACE"," ",618],["T_STRING","Mage",618],["T_DOUBLE_COLON","::",618],["T_STRING","helper",618],"(",["T_CONSTANT_ENCAPSED_STRING","'usa'",618],")",["T_OBJECT_OPERATOR","->",618],["T_STRING","__",618],"(",["T_CONSTANT_ENCAPSED_STRING","'Worldwide Expedited'",618],")",",",["T_WHITESPACE","\n            ",618],")",",",["T_WHITESPACE","\n\n            ",619],["T_CONSTANT_ENCAPSED_STRING","'pickup'",621],["T_DOUBLE_ARROW","=>",621],["T_ARRAY","array",621],"(",["T_WHITESPACE","\n                ",621],["T_CONSTANT_ENCAPSED_STRING","'RDP'",622],["T_WHITESPACE","    ",622],["T_DOUBLE_ARROW","=>",622],["T_WHITESPACE"," ",622],["T_ARRAY","array",622],"(",["T_CONSTANT_ENCAPSED_STRING","\"label\"",622],["T_DOUBLE_ARROW","=>",622],["T_CONSTANT_ENCAPSED_STRING","'Regular Daily Pickup'",622],",",["T_CONSTANT_ENCAPSED_STRING","\"code\"",622],["T_DOUBLE_ARROW","=>",622],["T_CONSTANT_ENCAPSED_STRING","\"01\"",622],")",",",["T_WHITESPACE","\n                ",622],["T_CONSTANT_ENCAPSED_STRING","'OCA'",623],["T_WHITESPACE","    ",623],["T_DOUBLE_ARROW","=>",623],["T_WHITESPACE"," ",623],["T_ARRAY","array",623],"(",["T_CONSTANT_ENCAPSED_STRING","\"label\"",623],["T_DOUBLE_ARROW","=>",623],["T_CONSTANT_ENCAPSED_STRING","'On Call Air'",623],",",["T_CONSTANT_ENCAPSED_STRING","\"code\"",623],["T_DOUBLE_ARROW","=>",623],["T_CONSTANT_ENCAPSED_STRING","\"07\"",623],")",",",["T_WHITESPACE","\n                ",623],["T_CONSTANT_ENCAPSED_STRING","'OTP'",624],["T_WHITESPACE","    ",624],["T_DOUBLE_ARROW","=>",624],["T_WHITESPACE"," ",624],["T_ARRAY","array",624],"(",["T_CONSTANT_ENCAPSED_STRING","\"label\"",624],["T_DOUBLE_ARROW","=>",624],["T_CONSTANT_ENCAPSED_STRING","'One Time Pickup'",624],",",["T_CONSTANT_ENCAPSED_STRING","\"code\"",624],["T_DOUBLE_ARROW","=>",624],["T_CONSTANT_ENCAPSED_STRING","\"06\"",624],")",",",["T_WHITESPACE","\n                ",624],["T_CONSTANT_ENCAPSED_STRING","'LC'",625],["T_WHITESPACE","     ",625],["T_DOUBLE_ARROW","=>",625],["T_WHITESPACE"," ",625],["T_ARRAY","array",625],"(",["T_CONSTANT_ENCAPSED_STRING","\"label\"",625],["T_DOUBLE_ARROW","=>",625],["T_CONSTANT_ENCAPSED_STRING","'Letter Center'",625],",",["T_CONSTANT_ENCAPSED_STRING","\"code\"",625],["T_DOUBLE_ARROW","=>",625],["T_CONSTANT_ENCAPSED_STRING","\"19\"",625],")",",",["T_WHITESPACE","\n                ",625],["T_CONSTANT_ENCAPSED_STRING","'CC'",626],["T_WHITESPACE","     ",626],["T_DOUBLE_ARROW","=>",626],["T_WHITESPACE"," ",626],["T_ARRAY","array",626],"(",["T_CONSTANT_ENCAPSED_STRING","\"label\"",626],["T_DOUBLE_ARROW","=>",626],["T_CONSTANT_ENCAPSED_STRING","'Customer Counter'",626],",",["T_CONSTANT_ENCAPSED_STRING","\"code\"",626],["T_DOUBLE_ARROW","=>",626],["T_CONSTANT_ENCAPSED_STRING","\"03\"",626],")",",",["T_WHITESPACE","\n            ",626],")",",",["T_WHITESPACE","\n\n            ",627],["T_CONSTANT_ENCAPSED_STRING","'container'",629],["T_DOUBLE_ARROW","=>",629],["T_ARRAY","array",629],"(",["T_WHITESPACE","\n                ",629],["T_CONSTANT_ENCAPSED_STRING","'CP'",630],["T_WHITESPACE","     ",630],["T_DOUBLE_ARROW","=>",630],["T_WHITESPACE"," ",630],["T_CONSTANT_ENCAPSED_STRING","'00'",630],",",["T_WHITESPACE"," ",630],["T_COMMENT","\/\/ Customer Packaging\n",630],["T_WHITESPACE","                ",631],["T_CONSTANT_ENCAPSED_STRING","'ULE'",631],["T_WHITESPACE","    ",631],["T_DOUBLE_ARROW","=>",631],["T_WHITESPACE"," ",631],["T_CONSTANT_ENCAPSED_STRING","'01'",631],",",["T_WHITESPACE"," ",631],["T_COMMENT","\/\/ UPS Letter Envelope\n",631],["T_WHITESPACE","                ",632],["T_CONSTANT_ENCAPSED_STRING","'CSP'",632],["T_WHITESPACE","    ",632],["T_DOUBLE_ARROW","=>",632],["T_WHITESPACE"," ",632],["T_CONSTANT_ENCAPSED_STRING","'02'",632],",",["T_WHITESPACE"," ",632],["T_COMMENT","\/\/ Customer Supplied Package\n",632],["T_WHITESPACE","                ",633],["T_CONSTANT_ENCAPSED_STRING","'UT'",633],["T_WHITESPACE","     ",633],["T_DOUBLE_ARROW","=>",633],["T_WHITESPACE"," ",633],["T_CONSTANT_ENCAPSED_STRING","'03'",633],",",["T_WHITESPACE"," ",633],["T_COMMENT","\/\/ UPS Tube\n",633],["T_WHITESPACE","                ",634],["T_CONSTANT_ENCAPSED_STRING","'PAK'",634],["T_WHITESPACE","    ",634],["T_DOUBLE_ARROW","=>",634],["T_WHITESPACE"," ",634],["T_CONSTANT_ENCAPSED_STRING","'04'",634],",",["T_WHITESPACE"," ",634],["T_COMMENT","\/\/ PAK\n",634],["T_WHITESPACE","                ",635],["T_CONSTANT_ENCAPSED_STRING","'UEB'",635],["T_WHITESPACE","    ",635],["T_DOUBLE_ARROW","=>",635],["T_WHITESPACE"," ",635],["T_CONSTANT_ENCAPSED_STRING","'21'",635],",",["T_WHITESPACE"," ",635],["T_COMMENT","\/\/ UPS Express Box\n",635],["T_WHITESPACE","                ",636],["T_CONSTANT_ENCAPSED_STRING","'UW25'",636],["T_WHITESPACE","   ",636],["T_DOUBLE_ARROW","=>",636],["T_WHITESPACE"," ",636],["T_CONSTANT_ENCAPSED_STRING","'24'",636],",",["T_WHITESPACE"," ",636],["T_COMMENT","\/\/ UPS Worldwide 25 kilo\n",636],["T_WHITESPACE","                ",637],["T_CONSTANT_ENCAPSED_STRING","'UW10'",637],["T_WHITESPACE","   ",637],["T_DOUBLE_ARROW","=>",637],["T_WHITESPACE"," ",637],["T_CONSTANT_ENCAPSED_STRING","'25'",637],",",["T_WHITESPACE"," ",637],["T_COMMENT","\/\/ UPS Worldwide 10 kilo\n",637],["T_WHITESPACE","                ",638],["T_CONSTANT_ENCAPSED_STRING","'PLT'",638],["T_WHITESPACE","    ",638],["T_DOUBLE_ARROW","=>",638],["T_WHITESPACE"," ",638],["T_CONSTANT_ENCAPSED_STRING","'30'",638],",",["T_WHITESPACE"," ",638],["T_COMMENT","\/\/ Pallet\n",638],["T_WHITESPACE","                ",639],["T_CONSTANT_ENCAPSED_STRING","'SEB'",639],["T_WHITESPACE","    ",639],["T_DOUBLE_ARROW","=>",639],["T_WHITESPACE"," ",639],["T_CONSTANT_ENCAPSED_STRING","'2a'",639],",",["T_WHITESPACE"," ",639],["T_COMMENT","\/\/ Small Express Box\n",639],["T_WHITESPACE","                ",640],["T_CONSTANT_ENCAPSED_STRING","'MEB'",640],["T_WHITESPACE","    ",640],["T_DOUBLE_ARROW","=>",640],["T_WHITESPACE"," ",640],["T_CONSTANT_ENCAPSED_STRING","'2b'",640],",",["T_WHITESPACE"," ",640],["T_COMMENT","\/\/ Medium Express Box\n",640],["T_WHITESPACE","                ",641],["T_CONSTANT_ENCAPSED_STRING","'LEB'",641],["T_WHITESPACE","    ",641],["T_DOUBLE_ARROW","=>",641],["T_WHITESPACE"," ",641],["T_CONSTANT_ENCAPSED_STRING","'2c'",641],",",["T_WHITESPACE"," ",641],["T_COMMENT","\/\/ Large Express Box\n",641],["T_WHITESPACE","            ",642],")",",",["T_WHITESPACE","\n\n            ",642],["T_CONSTANT_ENCAPSED_STRING","'container_description'",644],["T_DOUBLE_ARROW","=>",644],["T_ARRAY","array",644],"(",["T_WHITESPACE","\n                ",644],["T_CONSTANT_ENCAPSED_STRING","'CP'",645],["T_WHITESPACE","     ",645],["T_DOUBLE_ARROW","=>",645],["T_WHITESPACE"," ",645],["T_STRING","Mage",645],["T_DOUBLE_COLON","::",645],["T_STRING","helper",645],"(",["T_CONSTANT_ENCAPSED_STRING","'usa'",645],")",["T_OBJECT_OPERATOR","->",645],["T_STRING","__",645],"(",["T_CONSTANT_ENCAPSED_STRING","'Customer Packaging'",645],")",",",["T_WHITESPACE","\n                ",645],["T_CONSTANT_ENCAPSED_STRING","'ULE'",646],["T_WHITESPACE","    ",646],["T_DOUBLE_ARROW","=>",646],["T_WHITESPACE"," ",646],["T_STRING","Mage",646],["T_DOUBLE_COLON","::",646],["T_STRING","helper",646],"(",["T_CONSTANT_ENCAPSED_STRING","'usa'",646],")",["T_OBJECT_OPERATOR","->",646],["T_STRING","__",646],"(",["T_CONSTANT_ENCAPSED_STRING","'UPS Letter Envelope'",646],")",",",["T_WHITESPACE","\n                ",646],["T_CONSTANT_ENCAPSED_STRING","'CSP'",647],["T_WHITESPACE","    ",647],["T_DOUBLE_ARROW","=>",647],["T_WHITESPACE"," ",647],["T_STRING","Mage",647],["T_DOUBLE_COLON","::",647],["T_STRING","helper",647],"(",["T_CONSTANT_ENCAPSED_STRING","'usa'",647],")",["T_OBJECT_OPERATOR","->",647],["T_STRING","__",647],"(",["T_CONSTANT_ENCAPSED_STRING","'Customer Supplied Package'",647],")",",",["T_WHITESPACE","\n                ",647],["T_CONSTANT_ENCAPSED_STRING","'UT'",648],["T_WHITESPACE","     ",648],["T_DOUBLE_ARROW","=>",648],["T_WHITESPACE"," ",648],["T_STRING","Mage",648],["T_DOUBLE_COLON","::",648],["T_STRING","helper",648],"(",["T_CONSTANT_ENCAPSED_STRING","'usa'",648],")",["T_OBJECT_OPERATOR","->",648],["T_STRING","__",648],"(",["T_CONSTANT_ENCAPSED_STRING","'UPS Tube'",648],")",",",["T_WHITESPACE","\n                ",648],["T_CONSTANT_ENCAPSED_STRING","'PAK'",649],["T_WHITESPACE","    ",649],["T_DOUBLE_ARROW","=>",649],["T_WHITESPACE"," ",649],["T_STRING","Mage",649],["T_DOUBLE_COLON","::",649],["T_STRING","helper",649],"(",["T_CONSTANT_ENCAPSED_STRING","'usa'",649],")",["T_OBJECT_OPERATOR","->",649],["T_STRING","__",649],"(",["T_CONSTANT_ENCAPSED_STRING","'PAK'",649],")",",",["T_WHITESPACE","\n                ",649],["T_CONSTANT_ENCAPSED_STRING","'UEB'",650],["T_WHITESPACE","    ",650],["T_DOUBLE_ARROW","=>",650],["T_WHITESPACE"," ",650],["T_STRING","Mage",650],["T_DOUBLE_COLON","::",650],["T_STRING","helper",650],"(",["T_CONSTANT_ENCAPSED_STRING","'usa'",650],")",["T_OBJECT_OPERATOR","->",650],["T_STRING","__",650],"(",["T_CONSTANT_ENCAPSED_STRING","'UPS Express Box'",650],")",",",["T_WHITESPACE","\n                ",650],["T_CONSTANT_ENCAPSED_STRING","'UW25'",651],["T_WHITESPACE","   ",651],["T_DOUBLE_ARROW","=>",651],["T_WHITESPACE"," ",651],["T_STRING","Mage",651],["T_DOUBLE_COLON","::",651],["T_STRING","helper",651],"(",["T_CONSTANT_ENCAPSED_STRING","'usa'",651],")",["T_OBJECT_OPERATOR","->",651],["T_STRING","__",651],"(",["T_CONSTANT_ENCAPSED_STRING","'UPS Worldwide 25 kilo'",651],")",",",["T_WHITESPACE","\n                ",651],["T_CONSTANT_ENCAPSED_STRING","'UW10'",652],["T_WHITESPACE","   ",652],["T_DOUBLE_ARROW","=>",652],["T_WHITESPACE"," ",652],["T_STRING","Mage",652],["T_DOUBLE_COLON","::",652],["T_STRING","helper",652],"(",["T_CONSTANT_ENCAPSED_STRING","'usa'",652],")",["T_OBJECT_OPERATOR","->",652],["T_STRING","__",652],"(",["T_CONSTANT_ENCAPSED_STRING","'UPS Worldwide 10 kilo'",652],")",",",["T_WHITESPACE","\n                ",652],["T_CONSTANT_ENCAPSED_STRING","'PLT'",653],["T_WHITESPACE","    ",653],["T_DOUBLE_ARROW","=>",653],["T_WHITESPACE"," ",653],["T_STRING","Mage",653],["T_DOUBLE_COLON","::",653],["T_STRING","helper",653],"(",["T_CONSTANT_ENCAPSED_STRING","'usa'",653],")",["T_OBJECT_OPERATOR","->",653],["T_STRING","__",653],"(",["T_CONSTANT_ENCAPSED_STRING","'Pallet'",653],")",",",["T_WHITESPACE","\n                ",653],["T_CONSTANT_ENCAPSED_STRING","'SEB'",654],["T_WHITESPACE","    ",654],["T_DOUBLE_ARROW","=>",654],["T_WHITESPACE"," ",654],["T_STRING","Mage",654],["T_DOUBLE_COLON","::",654],["T_STRING","helper",654],"(",["T_CONSTANT_ENCAPSED_STRING","'usa'",654],")",["T_OBJECT_OPERATOR","->",654],["T_STRING","__",654],"(",["T_CONSTANT_ENCAPSED_STRING","'Small Express Box'",654],")",",",["T_WHITESPACE","\n                ",654],["T_CONSTANT_ENCAPSED_STRING","'MEB'",655],["T_WHITESPACE","    ",655],["T_DOUBLE_ARROW","=>",655],["T_WHITESPACE"," ",655],["T_STRING","Mage",655],["T_DOUBLE_COLON","::",655],["T_STRING","helper",655],"(",["T_CONSTANT_ENCAPSED_STRING","'usa'",655],")",["T_OBJECT_OPERATOR","->",655],["T_STRING","__",655],"(",["T_CONSTANT_ENCAPSED_STRING","'Medium Express Box'",655],")",",",["T_WHITESPACE","\n                ",655],["T_CONSTANT_ENCAPSED_STRING","'LEB'",656],["T_WHITESPACE","    ",656],["T_DOUBLE_ARROW","=>",656],["T_WHITESPACE"," ",656],["T_STRING","Mage",656],["T_DOUBLE_COLON","::",656],["T_STRING","helper",656],"(",["T_CONSTANT_ENCAPSED_STRING","'usa'",656],")",["T_OBJECT_OPERATOR","->",656],["T_STRING","__",656],"(",["T_CONSTANT_ENCAPSED_STRING","'Large Express Box'",656],")",",",["T_WHITESPACE","\n            ",656],")",",",["T_WHITESPACE","\n\n            ",657],["T_CONSTANT_ENCAPSED_STRING","'dest_type'",659],["T_DOUBLE_ARROW","=>",659],["T_ARRAY","array",659],"(",["T_WHITESPACE","\n                ",659],["T_CONSTANT_ENCAPSED_STRING","'RES'",660],["T_WHITESPACE","    ",660],["T_DOUBLE_ARROW","=>",660],["T_WHITESPACE"," ",660],["T_CONSTANT_ENCAPSED_STRING","'01'",660],",",["T_WHITESPACE"," ",660],["T_COMMENT","\/\/ Residential\n",660],["T_WHITESPACE","                ",661],["T_CONSTANT_ENCAPSED_STRING","'COM'",661],["T_WHITESPACE","    ",661],["T_DOUBLE_ARROW","=>",661],["T_WHITESPACE"," ",661],["T_CONSTANT_ENCAPSED_STRING","'02'",661],",",["T_WHITESPACE"," ",661],["T_COMMENT","\/\/ Commercial\n",661],["T_WHITESPACE","            ",662],")",",",["T_WHITESPACE","\n\n            ",662],["T_CONSTANT_ENCAPSED_STRING","'dest_type_description'",664],["T_DOUBLE_ARROW","=>",664],["T_ARRAY","array",664],"(",["T_WHITESPACE","\n                ",664],["T_CONSTANT_ENCAPSED_STRING","'RES'",665],["T_WHITESPACE","    ",665],["T_DOUBLE_ARROW","=>",665],["T_WHITESPACE"," ",665],["T_STRING","Mage",665],["T_DOUBLE_COLON","::",665],["T_STRING","helper",665],"(",["T_CONSTANT_ENCAPSED_STRING","'usa'",665],")",["T_OBJECT_OPERATOR","->",665],["T_STRING","__",665],"(",["T_CONSTANT_ENCAPSED_STRING","'Residential'",665],")",",",["T_WHITESPACE","\n                ",665],["T_CONSTANT_ENCAPSED_STRING","'COM'",666],["T_WHITESPACE","    ",666],["T_DOUBLE_ARROW","=>",666],["T_WHITESPACE"," ",666],["T_STRING","Mage",666],["T_DOUBLE_COLON","::",666],["T_STRING","helper",666],"(",["T_CONSTANT_ENCAPSED_STRING","'usa'",666],")",["T_OBJECT_OPERATOR","->",666],["T_STRING","__",666],"(",["T_CONSTANT_ENCAPSED_STRING","'Commercial'",666],")",",",["T_WHITESPACE","\n            ",666],")",",",["T_WHITESPACE","\n\n            ",667],["T_CONSTANT_ENCAPSED_STRING","'unit_of_measure'",669],["T_DOUBLE_ARROW","=>",669],["T_ARRAY","array",669],"(",["T_WHITESPACE","\n                ",669],["T_CONSTANT_ENCAPSED_STRING","'LBS'",670],["T_WHITESPACE","   ",670],["T_DOUBLE_ARROW","=>",670],["T_WHITESPACE","  ",670],["T_STRING","Mage",670],["T_DOUBLE_COLON","::",670],["T_STRING","helper",670],"(",["T_CONSTANT_ENCAPSED_STRING","'usa'",670],")",["T_OBJECT_OPERATOR","->",670],["T_STRING","__",670],"(",["T_CONSTANT_ENCAPSED_STRING","'Pounds'",670],")",",",["T_WHITESPACE","\n                ",670],["T_CONSTANT_ENCAPSED_STRING","'KGS'",671],["T_WHITESPACE","   ",671],["T_DOUBLE_ARROW","=>",671],["T_WHITESPACE","  ",671],["T_STRING","Mage",671],["T_DOUBLE_COLON","::",671],["T_STRING","helper",671],"(",["T_CONSTANT_ENCAPSED_STRING","'usa'",671],")",["T_OBJECT_OPERATOR","->",671],["T_STRING","__",671],"(",["T_CONSTANT_ENCAPSED_STRING","'Kilograms'",671],")",",",["T_WHITESPACE","\n            ",671],")",",",["T_WHITESPACE","\n            ",672],["T_CONSTANT_ENCAPSED_STRING","'containers_filter'",673],["T_WHITESPACE"," ",673],["T_DOUBLE_ARROW","=>",673],["T_WHITESPACE"," ",673],["T_ARRAY","array",673],"(",["T_WHITESPACE","\n                ",673],["T_ARRAY","array",674],"(",["T_WHITESPACE","\n                    ",674],["T_CONSTANT_ENCAPSED_STRING","'containers'",675],["T_WHITESPACE"," ",675],["T_DOUBLE_ARROW","=>",675],["T_WHITESPACE"," ",675],["T_ARRAY","array",675],"(",["T_CONSTANT_ENCAPSED_STRING","'00'",675],")",",",["T_WHITESPACE"," ",675],["T_COMMENT","\/\/ Customer Packaging\n",675],["T_WHITESPACE","                    ",676],["T_CONSTANT_ENCAPSED_STRING","'filters'",676],["T_WHITESPACE","    ",676],["T_DOUBLE_ARROW","=>",676],["T_WHITESPACE"," ",676],["T_ARRAY","array",676],"(",["T_WHITESPACE","\n                        ",676],["T_CONSTANT_ENCAPSED_STRING","'within_us'",677],["T_WHITESPACE"," ",677],["T_DOUBLE_ARROW","=>",677],["T_WHITESPACE"," ",677],["T_ARRAY","array",677],"(",["T_WHITESPACE","\n                            ",677],["T_CONSTANT_ENCAPSED_STRING","'method'",678],["T_WHITESPACE"," ",678],["T_DOUBLE_ARROW","=>",678],["T_WHITESPACE"," ",678],["T_ARRAY","array",678],"(",["T_WHITESPACE","\n                                ",678],["T_CONSTANT_ENCAPSED_STRING","'01'",679],",",["T_WHITESPACE"," ",679],["T_COMMENT","\/\/ Next Day Air\n",679],["T_WHITESPACE","                                ",680],["T_CONSTANT_ENCAPSED_STRING","'13'",680],",",["T_WHITESPACE"," ",680],["T_COMMENT","\/\/ Next Day Air Saver\n",680],["T_WHITESPACE","                                ",681],["T_CONSTANT_ENCAPSED_STRING","'12'",681],",",["T_WHITESPACE"," ",681],["T_COMMENT","\/\/ 3 Day Select\n",681],["T_WHITESPACE","                                ",682],["T_CONSTANT_ENCAPSED_STRING","'59'",682],",",["T_WHITESPACE"," ",682],["T_COMMENT","\/\/ 2nd Day Air AM\n",682],["T_WHITESPACE","                                ",683],["T_CONSTANT_ENCAPSED_STRING","'03'",683],",",["T_WHITESPACE"," ",683],["T_COMMENT","\/\/ Ground\n",683],["T_WHITESPACE","                                ",684],["T_CONSTANT_ENCAPSED_STRING","'14'",684],",",["T_WHITESPACE"," ",684],["T_COMMENT","\/\/ Next Day Air Early AM\n",684],["T_WHITESPACE","                                ",685],["T_CONSTANT_ENCAPSED_STRING","'02'",685],",",["T_WHITESPACE"," ",685],["T_COMMENT","\/\/ 2nd Day Air\n",685],["T_WHITESPACE","                            ",686],")",["T_WHITESPACE","\n                        ",686],")",",",["T_WHITESPACE","\n                        ",687],["T_CONSTANT_ENCAPSED_STRING","'from_us'",688],["T_WHITESPACE"," ",688],["T_DOUBLE_ARROW","=>",688],["T_WHITESPACE"," ",688],["T_ARRAY","array",688],"(",["T_WHITESPACE","\n                            ",688],["T_CONSTANT_ENCAPSED_STRING","'method'",689],["T_WHITESPACE"," ",689],["T_DOUBLE_ARROW","=>",689],["T_WHITESPACE"," ",689],["T_ARRAY","array",689],"(",["T_WHITESPACE","\n                                ",689],["T_CONSTANT_ENCAPSED_STRING","'07'",690],",",["T_WHITESPACE"," ",690],["T_COMMENT","\/\/ Worldwide Express\n",690],["T_WHITESPACE","                                ",691],["T_CONSTANT_ENCAPSED_STRING","'54'",691],",",["T_WHITESPACE"," ",691],["T_COMMENT","\/\/ Worldwide Express Plus\n",691],["T_WHITESPACE","                                ",692],["T_CONSTANT_ENCAPSED_STRING","'08'",692],",",["T_WHITESPACE"," ",692],["T_COMMENT","\/\/ Worldwide Expedited\n",692],["T_WHITESPACE","                                ",693],["T_CONSTANT_ENCAPSED_STRING","'65'",693],",",["T_WHITESPACE"," ",693],["T_COMMENT","\/\/ Worldwide Saver\n",693],["T_WHITESPACE","                                ",694],["T_CONSTANT_ENCAPSED_STRING","'11'",694],",",["T_WHITESPACE"," ",694],["T_COMMENT","\/\/ Standard\n",694],["T_WHITESPACE","                            ",695],")",["T_WHITESPACE","\n                        ",695],")",["T_WHITESPACE","\n                    ",696],")",["T_WHITESPACE","\n                ",697],")",",",["T_WHITESPACE","\n                ",698],["T_ARRAY","array",699],"(",["T_WHITESPACE","\n                    ",699],["T_COMMENT","\/\/ Small Express Box, Medium Express Box, Large Express Box, UPS Tube\n",700],["T_WHITESPACE","                    ",701],["T_CONSTANT_ENCAPSED_STRING","'containers'",701],["T_WHITESPACE"," ",701],["T_DOUBLE_ARROW","=>",701],["T_WHITESPACE"," ",701],["T_ARRAY","array",701],"(",["T_CONSTANT_ENCAPSED_STRING","'2a'",701],",",["T_WHITESPACE"," ",701],["T_CONSTANT_ENCAPSED_STRING","'2b'",701],",",["T_WHITESPACE"," ",701],["T_CONSTANT_ENCAPSED_STRING","'2c'",701],",",["T_WHITESPACE"," ",701],["T_CONSTANT_ENCAPSED_STRING","'03'",701],")",",",["T_WHITESPACE","\n                    ",701],["T_CONSTANT_ENCAPSED_STRING","'filters'",702],["T_WHITESPACE","    ",702],["T_DOUBLE_ARROW","=>",702],["T_WHITESPACE"," ",702],["T_ARRAY","array",702],"(",["T_WHITESPACE","\n                        ",702],["T_CONSTANT_ENCAPSED_STRING","'within_us'",703],["T_WHITESPACE"," ",703],["T_DOUBLE_ARROW","=>",703],["T_WHITESPACE"," ",703],["T_ARRAY","array",703],"(",["T_WHITESPACE","\n                            ",703],["T_CONSTANT_ENCAPSED_STRING","'method'",704],["T_WHITESPACE"," ",704],["T_DOUBLE_ARROW","=>",704],["T_WHITESPACE"," ",704],["T_ARRAY","array",704],"(",["T_WHITESPACE","\n                                ",704],["T_CONSTANT_ENCAPSED_STRING","'01'",705],",",["T_WHITESPACE"," ",705],["T_COMMENT","\/\/ Next Day Air\n",705],["T_WHITESPACE","                                ",706],["T_CONSTANT_ENCAPSED_STRING","'13'",706],",",["T_WHITESPACE"," ",706],["T_COMMENT","\/\/ Next Day Air Saver\n",706],["T_WHITESPACE","                                ",707],["T_CONSTANT_ENCAPSED_STRING","'14'",707],",",["T_WHITESPACE"," ",707],["T_COMMENT","\/\/ Next Day Air Early AM\n",707],["T_WHITESPACE","                                ",708],["T_CONSTANT_ENCAPSED_STRING","'02'",708],",",["T_WHITESPACE"," ",708],["T_COMMENT","\/\/ 2nd Day Air\n",708],["T_WHITESPACE","                                ",709],["T_CONSTANT_ENCAPSED_STRING","'59'",709],",",["T_WHITESPACE"," ",709],["T_COMMENT","\/\/ 2nd Day Air AM\n",709],["T_WHITESPACE","                                ",710],["T_CONSTANT_ENCAPSED_STRING","'13'",710],",",["T_WHITESPACE"," ",710],["T_COMMENT","\/\/ Next Day Air Saver\n",710],["T_WHITESPACE","                            ",711],")",["T_WHITESPACE","\n                        ",711],")",",",["T_WHITESPACE","\n                        ",712],["T_CONSTANT_ENCAPSED_STRING","'from_us'",713],["T_WHITESPACE"," ",713],["T_DOUBLE_ARROW","=>",713],["T_WHITESPACE"," ",713],["T_ARRAY","array",713],"(",["T_WHITESPACE","\n                            ",713],["T_CONSTANT_ENCAPSED_STRING","'method'",714],["T_WHITESPACE"," ",714],["T_DOUBLE_ARROW","=>",714],["T_WHITESPACE"," ",714],["T_ARRAY","array",714],"(",["T_WHITESPACE","\n                                ",714],["T_CONSTANT_ENCAPSED_STRING","'07'",715],",",["T_WHITESPACE"," ",715],["T_COMMENT","\/\/ Worldwide Express\n",715],["T_WHITESPACE","                                ",716],["T_CONSTANT_ENCAPSED_STRING","'54'",716],",",["T_WHITESPACE"," ",716],["T_COMMENT","\/\/ Worldwide Express Plus\n",716],["T_WHITESPACE","                                ",717],["T_CONSTANT_ENCAPSED_STRING","'08'",717],",",["T_WHITESPACE"," ",717],["T_COMMENT","\/\/ Worldwide Expedited\n",717],["T_WHITESPACE","                                ",718],["T_CONSTANT_ENCAPSED_STRING","'65'",718],",",["T_WHITESPACE"," ",718],["T_COMMENT","\/\/ Worldwide Saver\n",718],["T_WHITESPACE","                            ",719],")",["T_WHITESPACE","\n                        ",719],")",["T_WHITESPACE","\n                    ",720],")",["T_WHITESPACE","\n                ",721],")",",",["T_WHITESPACE","\n                ",722],["T_ARRAY","array",723],"(",["T_WHITESPACE","\n                    ",723],["T_CONSTANT_ENCAPSED_STRING","'containers'",724],["T_WHITESPACE"," ",724],["T_DOUBLE_ARROW","=>",724],["T_WHITESPACE"," ",724],["T_ARRAY","array",724],"(",["T_CONSTANT_ENCAPSED_STRING","'24'",724],",",["T_WHITESPACE"," ",724],["T_CONSTANT_ENCAPSED_STRING","'25'",724],")",",",["T_WHITESPACE"," ",724],["T_COMMENT","\/\/ UPS Worldwide 25 kilo, UPS Worldwide 10 kilo\n",724],["T_WHITESPACE","                    ",725],["T_CONSTANT_ENCAPSED_STRING","'filters'",725],["T_WHITESPACE","    ",725],["T_DOUBLE_ARROW","=>",725],["T_WHITESPACE"," ",725],["T_ARRAY","array",725],"(",["T_WHITESPACE","\n                        ",725],["T_CONSTANT_ENCAPSED_STRING","'within_us'",726],["T_WHITESPACE"," ",726],["T_DOUBLE_ARROW","=>",726],["T_WHITESPACE"," ",726],["T_ARRAY","array",726],"(",["T_WHITESPACE","\n                            ",726],["T_CONSTANT_ENCAPSED_STRING","'method'",727],["T_WHITESPACE"," ",727],["T_DOUBLE_ARROW","=>",727],["T_WHITESPACE"," ",727],["T_ARRAY","array",727],"(",")",["T_WHITESPACE","\n                        ",727],")",",",["T_WHITESPACE","\n                        ",728],["T_CONSTANT_ENCAPSED_STRING","'from_us'",729],["T_WHITESPACE"," ",729],["T_DOUBLE_ARROW","=>",729],["T_WHITESPACE"," ",729],["T_ARRAY","array",729],"(",["T_WHITESPACE","\n                            ",729],["T_CONSTANT_ENCAPSED_STRING","'method'",730],["T_WHITESPACE"," ",730],["T_DOUBLE_ARROW","=>",730],["T_WHITESPACE"," ",730],["T_ARRAY","array",730],"(",["T_WHITESPACE","\n                                ",730],["T_CONSTANT_ENCAPSED_STRING","'07'",731],",",["T_WHITESPACE"," ",731],["T_COMMENT","\/\/ Worldwide Express\n",731],["T_WHITESPACE","                                ",732],["T_CONSTANT_ENCAPSED_STRING","'54'",732],",",["T_WHITESPACE"," ",732],["T_COMMENT","\/\/ Worldwide Express Plus\n",732],["T_WHITESPACE","                                ",733],["T_CONSTANT_ENCAPSED_STRING","'65'",733],",",["T_WHITESPACE"," ",733],["T_COMMENT","\/\/ Worldwide Saver\n",733],["T_WHITESPACE","                            ",734],")",["T_WHITESPACE","\n                        ",734],")",["T_WHITESPACE","\n                    ",735],")",["T_WHITESPACE","\n                ",736],")",",",["T_WHITESPACE","\n                ",737],["T_ARRAY","array",738],"(",["T_WHITESPACE","\n                    ",738],["T_CONSTANT_ENCAPSED_STRING","'containers'",739],["T_WHITESPACE"," ",739],["T_DOUBLE_ARROW","=>",739],["T_WHITESPACE"," ",739],["T_ARRAY","array",739],"(",["T_CONSTANT_ENCAPSED_STRING","'01'",739],",",["T_WHITESPACE"," ",739],["T_CONSTANT_ENCAPSED_STRING","'04'",739],")",",",["T_WHITESPACE"," ",739],["T_COMMENT","\/\/ UPS Letter, UPS PAK\n",739],["T_WHITESPACE","                    ",740],["T_CONSTANT_ENCAPSED_STRING","'filters'",740],["T_WHITESPACE","    ",740],["T_DOUBLE_ARROW","=>",740],["T_WHITESPACE"," ",740],["T_ARRAY","array",740],"(",["T_WHITESPACE","\n                        ",740],["T_CONSTANT_ENCAPSED_STRING","'within_us'",741],["T_WHITESPACE"," ",741],["T_DOUBLE_ARROW","=>",741],["T_WHITESPACE"," ",741],["T_ARRAY","array",741],"(",["T_WHITESPACE","\n                            ",741],["T_CONSTANT_ENCAPSED_STRING","'method'",742],["T_WHITESPACE"," ",742],["T_DOUBLE_ARROW","=>",742],["T_WHITESPACE"," ",742],["T_ARRAY","array",742],"(",["T_WHITESPACE","\n                                ",742],["T_CONSTANT_ENCAPSED_STRING","'01'",743],",",["T_WHITESPACE"," ",743],["T_COMMENT","\/\/ Next Day Air\n",743],["T_WHITESPACE","                                ",744],["T_CONSTANT_ENCAPSED_STRING","'14'",744],",",["T_WHITESPACE"," ",744],["T_COMMENT","\/\/ Next Day Air Early AM\n",744],["T_WHITESPACE","                                ",745],["T_CONSTANT_ENCAPSED_STRING","'02'",745],",",["T_WHITESPACE"," ",745],["T_COMMENT","\/\/ 2nd Day Air\n",745],["T_WHITESPACE","                                ",746],["T_CONSTANT_ENCAPSED_STRING","'59'",746],",",["T_WHITESPACE"," ",746],["T_COMMENT","\/\/ 2nd Day Air AM\n",746],["T_WHITESPACE","                                ",747],["T_CONSTANT_ENCAPSED_STRING","'13'",747],",",["T_WHITESPACE"," ",747],["T_COMMENT","\/\/ Next Day Air Saver\n",747],["T_WHITESPACE","                            ",748],")",["T_WHITESPACE","\n                        ",748],")",",",["T_WHITESPACE","\n                        ",749],["T_CONSTANT_ENCAPSED_STRING","'from_us'",750],["T_WHITESPACE"," ",750],["T_DOUBLE_ARROW","=>",750],["T_WHITESPACE"," ",750],["T_ARRAY","array",750],"(",["T_WHITESPACE","\n                            ",750],["T_CONSTANT_ENCAPSED_STRING","'method'",751],["T_WHITESPACE"," ",751],["T_DOUBLE_ARROW","=>",751],["T_WHITESPACE"," ",751],["T_ARRAY","array",751],"(",["T_WHITESPACE","\n                                ",751],["T_CONSTANT_ENCAPSED_STRING","'07'",752],",",["T_WHITESPACE"," ",752],["T_COMMENT","\/\/ Worldwide Express\n",752],["T_WHITESPACE","                                ",753],["T_CONSTANT_ENCAPSED_STRING","'54'",753],",",["T_WHITESPACE"," ",753],["T_COMMENT","\/\/ Worldwide Express Plus\n",753],["T_WHITESPACE","                                ",754],["T_CONSTANT_ENCAPSED_STRING","'65'",754],",",["T_WHITESPACE"," ",754],["T_COMMENT","\/\/ Worldwide Saver\n",754],["T_WHITESPACE","                            ",755],")",["T_WHITESPACE","\n                        ",755],")",["T_WHITESPACE","\n                    ",756],")",["T_WHITESPACE","\n                ",757],")",",",["T_WHITESPACE","\n                ",758],["T_ARRAY","array",759],"(",["T_WHITESPACE","\n                    ",759],["T_CONSTANT_ENCAPSED_STRING","'containers'",760],["T_WHITESPACE"," ",760],["T_DOUBLE_ARROW","=>",760],["T_WHITESPACE"," ",760],["T_ARRAY","array",760],"(",["T_CONSTANT_ENCAPSED_STRING","'04'",760],")",",",["T_WHITESPACE"," ",760],["T_COMMENT","\/\/ UPS PAK\n",760],["T_WHITESPACE","                    ",761],["T_CONSTANT_ENCAPSED_STRING","'filters'",761],["T_WHITESPACE","    ",761],["T_DOUBLE_ARROW","=>",761],["T_WHITESPACE"," ",761],["T_ARRAY","array",761],"(",["T_WHITESPACE","\n                        ",761],["T_CONSTANT_ENCAPSED_STRING","'within_us'",762],["T_WHITESPACE"," ",762],["T_DOUBLE_ARROW","=>",762],["T_WHITESPACE"," ",762],["T_ARRAY","array",762],"(",["T_WHITESPACE","\n                            ",762],["T_CONSTANT_ENCAPSED_STRING","'method'",763],["T_WHITESPACE"," ",763],["T_DOUBLE_ARROW","=>",763],["T_WHITESPACE"," ",763],["T_ARRAY","array",763],"(",")",["T_WHITESPACE","\n                        ",763],")",",",["T_WHITESPACE","\n                        ",764],["T_CONSTANT_ENCAPSED_STRING","'from_us'",765],["T_WHITESPACE"," ",765],["T_DOUBLE_ARROW","=>",765],["T_WHITESPACE"," ",765],["T_ARRAY","array",765],"(",["T_WHITESPACE","\n                            ",765],["T_CONSTANT_ENCAPSED_STRING","'method'",766],["T_WHITESPACE"," ",766],["T_DOUBLE_ARROW","=>",766],["T_WHITESPACE"," ",766],["T_ARRAY","array",766],"(",["T_WHITESPACE","\n                                ",766],["T_CONSTANT_ENCAPSED_STRING","'08'",767],",",["T_WHITESPACE"," ",767],["T_COMMENT","\/\/ Worldwide Expedited\n",767],["T_WHITESPACE","                            ",768],")",["T_WHITESPACE","\n                        ",768],")",["T_WHITESPACE","\n                    ",769],")",["T_WHITESPACE","\n                ",770],")",",",["T_WHITESPACE","\n            ",771],")",["T_WHITESPACE","\n        ",772],")",";",["T_WHITESPACE","\n\n        ",773],["T_IF","if",775],["T_WHITESPACE"," ",775],"(","!",["T_ISSET","isset",775],"(",["T_VARIABLE","$codes",775],"[",["T_VARIABLE","$type",775],"]",")",")",["T_WHITESPACE"," ",775],"{",["T_WHITESPACE","\n            ",775],["T_RETURN","return",776],["T_WHITESPACE"," ",776],["T_STRING","false",776],";",["T_WHITESPACE","\n        ",776],"}",["T_WHITESPACE"," ",777],["T_ELSEIF","elseif",777],["T_WHITESPACE"," ",777],"(",["T_CONSTANT_ENCAPSED_STRING","''",777],["T_IS_IDENTICAL","===",777],["T_VARIABLE","$code",777],")",["T_WHITESPACE"," ",777],"{",["T_WHITESPACE","\n            ",777],["T_RETURN","return",778],["T_WHITESPACE"," ",778],["T_VARIABLE","$codes",778],"[",["T_VARIABLE","$type",778],"]",";",["T_WHITESPACE","\n        ",778],"}",["T_WHITESPACE","\n\n        ",779],["T_IF","if",781],["T_WHITESPACE"," ",781],"(","!",["T_ISSET","isset",781],"(",["T_VARIABLE","$codes",781],"[",["T_VARIABLE","$type",781],"]","[",["T_VARIABLE","$code",781],"]",")",")",["T_WHITESPACE"," ",781],"{",["T_WHITESPACE","\n            ",781],["T_RETURN","return",782],["T_WHITESPACE"," ",782],["T_STRING","false",782],";",["T_WHITESPACE","\n        ",782],"}",["T_WHITESPACE"," ",783],["T_ELSE","else",783],["T_WHITESPACE"," ",783],"{",["T_WHITESPACE","\n            ",783],["T_RETURN","return",784],["T_WHITESPACE"," ",784],["T_VARIABLE","$codes",784],"[",["T_VARIABLE","$type",784],"]","[",["T_VARIABLE","$code",784],"]",";",["T_WHITESPACE","\n        ",784],"}",["T_WHITESPACE","\n    ",785],"}",["T_WHITESPACE","\n\n    ",786],["T_DOC_COMMENT","\/**\n     * Get xml rates\n     *\n     * @return Mage_Shipping_Model_Rate_Result\n     *\/",788],["T_WHITESPACE","\n    ",792],["T_PROTECTED","protected",793],["T_WHITESPACE"," ",793],["T_FUNCTION","function",793],["T_WHITESPACE"," ",793],["T_STRING","_getXmlQuotes",793],"(",")",["T_WHITESPACE","\n    ",793],"{",["T_WHITESPACE","\n        ",794],["T_VARIABLE","$url",795],["T_WHITESPACE"," ",795],"=",["T_WHITESPACE"," ",795],["T_VARIABLE","$this",795],["T_OBJECT_OPERATOR","->",795],["T_STRING","getConfigData",795],"(",["T_CONSTANT_ENCAPSED_STRING","'gateway_xml_url'",795],")",";",["T_WHITESPACE","\n        ",795],["T_IF","if",796],["T_WHITESPACE"," ",796],"(","!",["T_VARIABLE","$url",796],")",["T_WHITESPACE"," ",796],"{",["T_WHITESPACE","\n            ",796],["T_VARIABLE","$url",797],["T_WHITESPACE"," ",797],"=",["T_WHITESPACE"," ",797],["T_VARIABLE","$this",797],["T_OBJECT_OPERATOR","->",797],["T_STRING","_defaultUrls",797],"[",["T_CONSTANT_ENCAPSED_STRING","'Rate'",797],"]",";",["T_WHITESPACE","\n        ",797],"}",["T_WHITESPACE","\n\n        ",798],["T_VARIABLE","$this",800],["T_OBJECT_OPERATOR","->",800],["T_STRING","setXMLAccessRequest",800],"(",")",";",["T_WHITESPACE","\n        ",800],["T_VARIABLE","$xmlRequest",801],"=",["T_VARIABLE","$this",801],["T_OBJECT_OPERATOR","->",801],["T_STRING","_xmlAccessRequest",801],";",["T_WHITESPACE","\n\n        ",801],["T_VARIABLE","$r",803],["T_WHITESPACE"," ",803],"=",["T_WHITESPACE"," ",803],["T_VARIABLE","$this",803],["T_OBJECT_OPERATOR","->",803],["T_STRING","_rawRequest",803],";",["T_WHITESPACE","\n        ",803],["T_VARIABLE","$params",804],["T_WHITESPACE"," ",804],"=",["T_WHITESPACE"," ",804],["T_ARRAY","array",804],"(",["T_WHITESPACE","\n            ",804],["T_CONSTANT_ENCAPSED_STRING","'accept_UPS_license_agreement'",805],["T_WHITESPACE"," ",805],["T_DOUBLE_ARROW","=>",805],["T_WHITESPACE"," ",805],["T_CONSTANT_ENCAPSED_STRING","'yes'",805],",",["T_WHITESPACE","\n            ",805],["T_CONSTANT_ENCAPSED_STRING","'10_action'",806],["T_WHITESPACE","      ",806],["T_DOUBLE_ARROW","=>",806],["T_WHITESPACE"," ",806],["T_VARIABLE","$r",806],["T_OBJECT_OPERATOR","->",806],["T_STRING","getAction",806],"(",")",",",["T_WHITESPACE","\n            ",806],["T_CONSTANT_ENCAPSED_STRING","'13_product'",807],["T_WHITESPACE","     ",807],["T_DOUBLE_ARROW","=>",807],["T_WHITESPACE"," ",807],["T_VARIABLE","$r",807],["T_OBJECT_OPERATOR","->",807],["T_STRING","getProduct",807],"(",")",",",["T_WHITESPACE","\n            ",807],["T_CONSTANT_ENCAPSED_STRING","'14_origCountry'",808],["T_WHITESPACE"," ",808],["T_DOUBLE_ARROW","=>",808],["T_WHITESPACE"," ",808],["T_VARIABLE","$r",808],["T_OBJECT_OPERATOR","->",808],["T_STRING","getOrigCountry",808],"(",")",",",["T_WHITESPACE","\n            ",808],["T_CONSTANT_ENCAPSED_STRING","'15_origPostal'",809],["T_WHITESPACE","  ",809],["T_DOUBLE_ARROW","=>",809],["T_WHITESPACE"," ",809],["T_VARIABLE","$r",809],["T_OBJECT_OPERATOR","->",809],["T_STRING","getOrigPostal",809],"(",")",",",["T_WHITESPACE","\n            ",809],["T_CONSTANT_ENCAPSED_STRING","'origCity'",810],["T_WHITESPACE","       ",810],["T_DOUBLE_ARROW","=>",810],["T_WHITESPACE"," ",810],["T_VARIABLE","$r",810],["T_OBJECT_OPERATOR","->",810],["T_STRING","getOrigCity",810],"(",")",",",["T_WHITESPACE","\n            ",810],["T_CONSTANT_ENCAPSED_STRING","'origRegionCode'",811],["T_WHITESPACE"," ",811],["T_DOUBLE_ARROW","=>",811],["T_WHITESPACE"," ",811],["T_VARIABLE","$r",811],["T_OBJECT_OPERATOR","->",811],["T_STRING","getOrigRegionCode",811],"(",")",",",["T_WHITESPACE","\n            ",811],["T_CONSTANT_ENCAPSED_STRING","'19_destPostal'",812],["T_WHITESPACE","  ",812],["T_DOUBLE_ARROW","=>",812],["T_WHITESPACE"," ",812],["T_STRING","Mage_Usa_Model_Shipping_Carrier_Abstract",812],["T_DOUBLE_COLON","::",812],["T_STRING","USA_COUNTRY_ID",812],["T_WHITESPACE"," ",812],["T_IS_EQUAL","==",812],["T_WHITESPACE"," ",812],["T_VARIABLE","$r",812],["T_OBJECT_OPERATOR","->",812],["T_STRING","getDestCountry",812],"(",")",["T_WHITESPACE"," ",812],"?",["T_WHITESPACE","\n                ",812],["T_STRING","substr",813],"(",["T_VARIABLE","$r",813],["T_OBJECT_OPERATOR","->",813],["T_STRING","getDestPostal",813],"(",")",",",["T_WHITESPACE"," ",813],["T_LNUMBER","0",813],",",["T_WHITESPACE"," ",813],["T_LNUMBER","5",813],")",["T_WHITESPACE"," ",813],":",["T_WHITESPACE","\n                ",813],["T_VARIABLE","$r",814],["T_OBJECT_OPERATOR","->",814],["T_STRING","getDestPostal",814],"(",")",",",["T_WHITESPACE","\n            ",814],["T_CONSTANT_ENCAPSED_STRING","'22_destCountry'",815],["T_WHITESPACE"," ",815],["T_DOUBLE_ARROW","=>",815],["T_WHITESPACE"," ",815],["T_VARIABLE","$r",815],["T_OBJECT_OPERATOR","->",815],["T_STRING","getDestCountry",815],"(",")",",",["T_WHITESPACE","\n            ",815],["T_CONSTANT_ENCAPSED_STRING","'destRegionCode'",816],["T_WHITESPACE"," ",816],["T_DOUBLE_ARROW","=>",816],["T_WHITESPACE"," ",816],["T_VARIABLE","$r",816],["T_OBJECT_OPERATOR","->",816],["T_STRING","getDestRegionCode",816],"(",")",",",["T_WHITESPACE","\n            ",816],["T_CONSTANT_ENCAPSED_STRING","'23_weight'",817],["T_WHITESPACE","      ",817],["T_DOUBLE_ARROW","=>",817],["T_WHITESPACE"," ",817],["T_VARIABLE","$r",817],["T_OBJECT_OPERATOR","->",817],["T_STRING","getWeight",817],"(",")",",",["T_WHITESPACE","\n            ",817],["T_CONSTANT_ENCAPSED_STRING","'47_rate_chart'",818],["T_WHITESPACE","  ",818],["T_DOUBLE_ARROW","=>",818],["T_WHITESPACE"," ",818],["T_VARIABLE","$r",818],["T_OBJECT_OPERATOR","->",818],["T_STRING","getPickup",818],"(",")",",",["T_WHITESPACE","\n            ",818],["T_CONSTANT_ENCAPSED_STRING","'48_container'",819],["T_WHITESPACE","   ",819],["T_DOUBLE_ARROW","=>",819],["T_WHITESPACE"," ",819],["T_VARIABLE","$r",819],["T_OBJECT_OPERATOR","->",819],["T_STRING","getContainer",819],"(",")",",",["T_WHITESPACE","\n            ",819],["T_CONSTANT_ENCAPSED_STRING","'49_residential'",820],["T_WHITESPACE"," ",820],["T_DOUBLE_ARROW","=>",820],["T_WHITESPACE"," ",820],["T_VARIABLE","$r",820],["T_OBJECT_OPERATOR","->",820],["T_STRING","getDestType",820],"(",")",",",["T_WHITESPACE","\n        ",820],")",";",["T_WHITESPACE","\n\n        ",821],["T_IF","if",823],["T_WHITESPACE"," ",823],"(",["T_VARIABLE","$params",823],"[",["T_CONSTANT_ENCAPSED_STRING","'10_action'",823],"]",["T_WHITESPACE"," ",823],["T_IS_EQUAL","==",823],["T_WHITESPACE"," ",823],["T_CONSTANT_ENCAPSED_STRING","'4'",823],")",["T_WHITESPACE"," ",823],"{",["T_WHITESPACE","\n            ",823],["T_VARIABLE","$params",824],"[",["T_CONSTANT_ENCAPSED_STRING","'10_action'",824],"]",["T_WHITESPACE"," ",824],"=",["T_WHITESPACE"," ",824],["T_CONSTANT_ENCAPSED_STRING","'Shop'",824],";",["T_WHITESPACE","\n            ",824],["T_VARIABLE","$serviceCode",825],["T_WHITESPACE"," ",825],"=",["T_WHITESPACE"," ",825],["T_STRING","null",825],";",["T_WHITESPACE"," ",825],["T_COMMENT","\/\/ Service code is not relevant when we're asking ALL possible services' rates\n",825],["T_WHITESPACE","        ",826],"}",["T_WHITESPACE"," ",826],["T_ELSE","else",826],["T_WHITESPACE"," ",826],"{",["T_WHITESPACE","\n            ",826],["T_VARIABLE","$params",827],"[",["T_CONSTANT_ENCAPSED_STRING","'10_action'",827],"]",["T_WHITESPACE"," ",827],"=",["T_WHITESPACE"," ",827],["T_CONSTANT_ENCAPSED_STRING","'Rate'",827],";",["T_WHITESPACE","\n            ",827],["T_VARIABLE","$serviceCode",828],["T_WHITESPACE"," ",828],"=",["T_WHITESPACE"," ",828],["T_VARIABLE","$r",828],["T_OBJECT_OPERATOR","->",828],["T_STRING","getProduct",828],"(",")",["T_WHITESPACE"," ",828],"?",["T_WHITESPACE"," ",828],["T_VARIABLE","$r",828],["T_OBJECT_OPERATOR","->",828],["T_STRING","getProduct",828],"(",")",["T_WHITESPACE"," ",828],":",["T_WHITESPACE"," ",828],["T_CONSTANT_ENCAPSED_STRING","''",828],";",["T_WHITESPACE","\n        ",828],"}",["T_WHITESPACE","\n        ",829],["T_VARIABLE","$serviceDescription",830],["T_WHITESPACE"," ",830],"=",["T_WHITESPACE"," ",830],["T_VARIABLE","$serviceCode",830],["T_WHITESPACE"," ",830],"?",["T_WHITESPACE"," ",830],["T_VARIABLE","$this",830],["T_OBJECT_OPERATOR","->",830],["T_STRING","getShipmentByCode",830],"(",["T_VARIABLE","$serviceCode",830],")",["T_WHITESPACE"," ",830],":",["T_WHITESPACE"," ",830],["T_CONSTANT_ENCAPSED_STRING","''",830],";",["T_WHITESPACE","\n\n",830],["T_VARIABLE","$xmlRequest",832],["T_WHITESPACE"," ",832],["T_CONCAT_EQUAL",".=",832],["T_WHITESPACE"," ",832],["T_START_HEREDOC","<<< XMLRequest\n",832],["T_ENCAPSED_AND_WHITESPACE","<?xml version=\"1.0\"?>\n<RatingServiceSelectionRequest xml:lang=\"en-US\">\n  <Request>\n    <TransactionReference>\n      <CustomerContext>Rating and Service<\/CustomerContext>\n      <XpciVersion>1.0<\/XpciVersion>\n    <\/TransactionReference>\n    <RequestAction>Rate<\/RequestAction>\n    <RequestOption>",833],["T_CURLY_OPEN","{",841],["T_VARIABLE","$params",841],"[",["T_CONSTANT_ENCAPSED_STRING","'10_action'",841],"]","}",["T_ENCAPSED_AND_WHITESPACE","<\/RequestOption>\n  <\/Request>\n  <PickupType>\n          <Code>",841],["T_CURLY_OPEN","{",844],["T_VARIABLE","$params",844],"[",["T_CONSTANT_ENCAPSED_STRING","'47_rate_chart'",844],"]","[",["T_CONSTANT_ENCAPSED_STRING","'code'",844],"]","}",["T_ENCAPSED_AND_WHITESPACE","<\/Code>\n          <Description>",844],["T_CURLY_OPEN","{",845],["T_VARIABLE","$params",845],"[",["T_CONSTANT_ENCAPSED_STRING","'47_rate_chart'",845],"]","[",["T_CONSTANT_ENCAPSED_STRING","'label'",845],"]","}",["T_ENCAPSED_AND_WHITESPACE","<\/Description>\n  <\/PickupType>\n\n  <Shipment>\n",845],["T_END_HEREDOC","XMLRequest",849],";",["T_WHITESPACE","\n\n        ",849],["T_IF","if",851],["T_WHITESPACE"," ",851],"(",["T_VARIABLE","$serviceCode",851],["T_WHITESPACE"," ",851],["T_IS_NOT_IDENTICAL","!==",851],["T_WHITESPACE"," ",851],["T_STRING","null",851],")",["T_WHITESPACE"," ",851],"{",["T_WHITESPACE","\n            ",851],["T_VARIABLE","$xmlRequest",852],["T_WHITESPACE"," ",852],["T_CONCAT_EQUAL",".=",852],["T_WHITESPACE"," ",852],["T_CONSTANT_ENCAPSED_STRING","\"<Service>\"",852],["T_WHITESPACE"," ",852],".",["T_WHITESPACE","\n                ",852],"\"",["T_ENCAPSED_AND_WHITESPACE","<Code>",853],["T_CURLY_OPEN","{",853],["T_VARIABLE","$serviceCode",853],"}",["T_ENCAPSED_AND_WHITESPACE","<\/Code>",853],"\"",["T_WHITESPACE"," ",853],".",["T_WHITESPACE","\n                ",853],"\"",["T_ENCAPSED_AND_WHITESPACE","<Description>",854],["T_CURLY_OPEN","{",854],["T_VARIABLE","$serviceDescription",854],"}",["T_ENCAPSED_AND_WHITESPACE","<\/Description>",854],"\"",["T_WHITESPACE"," ",854],".",["T_WHITESPACE","\n                ",854],["T_CONSTANT_ENCAPSED_STRING","\"<\/Service>\"",855],";",["T_WHITESPACE","\n        ",855],"}",["T_WHITESPACE","\n\n      ",856],["T_VARIABLE","$xmlRequest",858],["T_WHITESPACE"," ",858],["T_CONCAT_EQUAL",".=",858],["T_WHITESPACE"," ",858],["T_START_HEREDOC","<<< XMLRequest\n",858],["T_ENCAPSED_AND_WHITESPACE","      <Shipper>\n",859],["T_END_HEREDOC","XMLRequest",860],";",["T_WHITESPACE","\n\n        ",860],["T_IF","if",862],["T_WHITESPACE"," ",862],"(",["T_VARIABLE","$this",862],["T_OBJECT_OPERATOR","->",862],["T_STRING","getConfigFlag",862],"(",["T_CONSTANT_ENCAPSED_STRING","'negotiated_active'",862],")",["T_WHITESPACE"," ",862],["T_BOOLEAN_AND","&&",862],["T_WHITESPACE"," ",862],"(",["T_VARIABLE","$shipper",862],["T_WHITESPACE"," ",862],"=",["T_WHITESPACE"," ",862],["T_VARIABLE","$this",862],["T_OBJECT_OPERATOR","->",862],["T_STRING","getConfigData",862],"(",["T_CONSTANT_ENCAPSED_STRING","'shipper_number'",862],")",")",["T_WHITESPACE"," ",862],")",["T_WHITESPACE"," ",862],"{",["T_WHITESPACE","\n            ",862],["T_VARIABLE","$xmlRequest",863],["T_WHITESPACE"," ",863],["T_CONCAT_EQUAL",".=",863],["T_WHITESPACE"," ",863],"\"",["T_ENCAPSED_AND_WHITESPACE","<ShipperNumber>",863],["T_CURLY_OPEN","{",863],["T_VARIABLE","$shipper",863],"}",["T_ENCAPSED_AND_WHITESPACE","<\/ShipperNumber>",863],"\"",";",["T_WHITESPACE","\n        ",863],"}",["T_WHITESPACE","\n\n        ",864],["T_IF","if",866],["T_WHITESPACE"," ",866],"(",["T_VARIABLE","$r",866],["T_OBJECT_OPERATOR","->",866],["T_STRING","getIsReturn",866],"(",")",")",["T_WHITESPACE"," ",866],"{",["T_WHITESPACE","\n            ",866],["T_VARIABLE","$shipperCity",867],["T_WHITESPACE"," ",867],"=",["T_WHITESPACE"," ",867],["T_CONSTANT_ENCAPSED_STRING","''",867],";",["T_WHITESPACE","\n            ",867],["T_VARIABLE","$shipperPostalCode",868],["T_WHITESPACE"," ",868],"=",["T_WHITESPACE"," ",868],["T_VARIABLE","$params",868],"[",["T_CONSTANT_ENCAPSED_STRING","'19_destPostal'",868],"]",";",["T_WHITESPACE","\n            ",868],["T_VARIABLE","$shipperCountryCode",869],["T_WHITESPACE"," ",869],"=",["T_WHITESPACE"," ",869],["T_VARIABLE","$params",869],"[",["T_CONSTANT_ENCAPSED_STRING","'22_destCountry'",869],"]",";",["T_WHITESPACE","\n            ",869],["T_VARIABLE","$shipperStateProvince",870],["T_WHITESPACE"," ",870],"=",["T_WHITESPACE"," ",870],["T_VARIABLE","$params",870],"[",["T_CONSTANT_ENCAPSED_STRING","'destRegionCode'",870],"]",";",["T_WHITESPACE","\n        ",870],"}",["T_WHITESPACE"," ",871],["T_ELSE","else",871],["T_WHITESPACE"," ",871],"{",["T_WHITESPACE","\n            ",871],["T_VARIABLE","$shipperCity",872],["T_WHITESPACE"," ",872],"=",["T_WHITESPACE"," ",872],["T_VARIABLE","$params",872],"[",["T_CONSTANT_ENCAPSED_STRING","'origCity'",872],"]",";",["T_WHITESPACE","\n            ",872],["T_VARIABLE","$shipperPostalCode",873],["T_WHITESPACE"," ",873],"=",["T_WHITESPACE"," ",873],["T_VARIABLE","$params",873],"[",["T_CONSTANT_ENCAPSED_STRING","'15_origPostal'",873],"]",";",["T_WHITESPACE","\n            ",873],["T_VARIABLE","$shipperCountryCode",874],["T_WHITESPACE"," ",874],"=",["T_WHITESPACE"," ",874],["T_VARIABLE","$params",874],"[",["T_CONSTANT_ENCAPSED_STRING","'14_origCountry'",874],"]",";",["T_WHITESPACE","\n            ",874],["T_VARIABLE","$shipperStateProvince",875],["T_WHITESPACE"," ",875],"=",["T_WHITESPACE"," ",875],["T_VARIABLE","$params",875],"[",["T_CONSTANT_ENCAPSED_STRING","'origRegionCode'",875],"]",";",["T_WHITESPACE","\n        ",875],"}",["T_WHITESPACE","\n\n",876],["T_VARIABLE","$xmlRequest",878],["T_WHITESPACE"," ",878],["T_CONCAT_EQUAL",".=",878],["T_WHITESPACE"," ",878],["T_START_HEREDOC","<<< XMLRequest\n",878],["T_ENCAPSED_AND_WHITESPACE","      <Address>\n          <City>",879],["T_CURLY_OPEN","{",880],["T_VARIABLE","$shipperCity",880],"}",["T_ENCAPSED_AND_WHITESPACE","<\/City>\n          <PostalCode>",880],["T_CURLY_OPEN","{",881],["T_VARIABLE","$shipperPostalCode",881],"}",["T_ENCAPSED_AND_WHITESPACE","<\/PostalCode>\n          <CountryCode>",881],["T_CURLY_OPEN","{",882],["T_VARIABLE","$shipperCountryCode",882],"}",["T_ENCAPSED_AND_WHITESPACE","<\/CountryCode>\n          <StateProvinceCode>",882],["T_CURLY_OPEN","{",883],["T_VARIABLE","$shipperStateProvince",883],"}",["T_ENCAPSED_AND_WHITESPACE","<\/StateProvinceCode>\n      <\/Address>\n    <\/Shipper>\n    <ShipTo>\n      <Address>\n          <PostalCode>",883],["T_CURLY_OPEN","{",888],["T_VARIABLE","$params",888],"[",["T_CONSTANT_ENCAPSED_STRING","'19_destPostal'",888],"]","}",["T_ENCAPSED_AND_WHITESPACE","<\/PostalCode>\n          <CountryCode>",888],["T_CURLY_OPEN","{",889],["T_VARIABLE","$params",889],"[",["T_CONSTANT_ENCAPSED_STRING","'22_destCountry'",889],"]","}",["T_ENCAPSED_AND_WHITESPACE","<\/CountryCode>\n          <ResidentialAddress>",889],["T_CURLY_OPEN","{",890],["T_VARIABLE","$params",890],"[",["T_CONSTANT_ENCAPSED_STRING","'49_residential'",890],"]","}",["T_ENCAPSED_AND_WHITESPACE","<\/ResidentialAddress>\n          <StateProvinceCode>",890],["T_CURLY_OPEN","{",891],["T_VARIABLE","$params",891],"[",["T_CONSTANT_ENCAPSED_STRING","'destRegionCode'",891],"]","}",["T_ENCAPSED_AND_WHITESPACE","<\/StateProvinceCode>\n",891],["T_END_HEREDOC","XMLRequest",892],";",["T_WHITESPACE","\n\n          ",892],["T_VARIABLE","$xmlRequest",894],["T_WHITESPACE"," ",894],["T_CONCAT_EQUAL",".=",894],["T_WHITESPACE"," ",894],"(",["T_VARIABLE","$params",894],"[",["T_CONSTANT_ENCAPSED_STRING","'49_residential'",894],"]",["T_IS_IDENTICAL","===",894],["T_CONSTANT_ENCAPSED_STRING","'01'",894],["T_WHITESPACE","\n                  ",894],"?",["T_WHITESPACE"," ",895],"\"",["T_ENCAPSED_AND_WHITESPACE","<ResidentialAddressIndicator>",895],["T_CURLY_OPEN","{",895],["T_VARIABLE","$params",895],"[",["T_CONSTANT_ENCAPSED_STRING","'49_residential'",895],"]","}",["T_ENCAPSED_AND_WHITESPACE","<\/ResidentialAddressIndicator>",895],"\"",["T_WHITESPACE","\n                  ",895],":",["T_WHITESPACE"," ",896],["T_CONSTANT_ENCAPSED_STRING","''",896],["T_WHITESPACE","\n          ",896],")",";",["T_WHITESPACE","\n\n",897],["T_VARIABLE","$xmlRequest",899],["T_WHITESPACE"," ",899],["T_CONCAT_EQUAL",".=",899],["T_WHITESPACE"," ",899],["T_START_HEREDOC","<<< XMLRequest\n",899],["T_ENCAPSED_AND_WHITESPACE","      <\/Address>\n    <\/ShipTo>\n\n\n    <ShipFrom>\n      <Address>\n          <PostalCode>",900],["T_CURLY_OPEN","{",906],["T_VARIABLE","$params",906],"[",["T_CONSTANT_ENCAPSED_STRING","'15_origPostal'",906],"]","}",["T_ENCAPSED_AND_WHITESPACE","<\/PostalCode>\n          <CountryCode>",906],["T_CURLY_OPEN","{",907],["T_VARIABLE","$params",907],"[",["T_CONSTANT_ENCAPSED_STRING","'14_origCountry'",907],"]","}",["T_ENCAPSED_AND_WHITESPACE","<\/CountryCode>\n          <StateProvinceCode>",907],["T_CURLY_OPEN","{",908],["T_VARIABLE","$params",908],"[",["T_CONSTANT_ENCAPSED_STRING","'origRegionCode'",908],"]","}",["T_ENCAPSED_AND_WHITESPACE","<\/StateProvinceCode>\n      <\/Address>\n    <\/ShipFrom>\n\n    <Package>\n      <PackagingType><Code>",908],["T_CURLY_OPEN","{",913],["T_VARIABLE","$params",913],"[",["T_CONSTANT_ENCAPSED_STRING","'48_container'",913],"]","}",["T_ENCAPSED_AND_WHITESPACE","<\/Code><\/PackagingType>\n      <PackageWeight>\n         <UnitOfMeasurement><Code>",913],["T_CURLY_OPEN","{",915],["T_VARIABLE","$r",915],["T_OBJECT_OPERATOR","->",915],["T_STRING","getUnitMeasure",915],"(",")","}",["T_ENCAPSED_AND_WHITESPACE","<\/Code><\/UnitOfMeasurement>\n        <Weight>",915],["T_CURLY_OPEN","{",916],["T_VARIABLE","$params",916],"[",["T_CONSTANT_ENCAPSED_STRING","'23_weight'",916],"]","}",["T_ENCAPSED_AND_WHITESPACE","<\/Weight>\n      <\/PackageWeight>\n    <\/Package>\n",916],["T_END_HEREDOC","XMLRequest",919],";",["T_WHITESPACE","\n        ",919],["T_IF","if",920],["T_WHITESPACE"," ",920],"(",["T_VARIABLE","$this",920],["T_OBJECT_OPERATOR","->",920],["T_STRING","getConfigFlag",920],"(",["T_CONSTANT_ENCAPSED_STRING","'negotiated_active'",920],")",")",["T_WHITESPACE"," ",920],"{",["T_WHITESPACE","\n            ",920],["T_VARIABLE","$xmlRequest",921],["T_WHITESPACE"," ",921],["T_CONCAT_EQUAL",".=",921],["T_WHITESPACE"," ",921],["T_CONSTANT_ENCAPSED_STRING","\"<RateInformation><NegotiatedRatesIndicator\/><\/RateInformation>\"",921],";",["T_WHITESPACE","\n        ",921],"}",["T_WHITESPACE","\n\n",922],["T_VARIABLE","$xmlRequest",924],["T_WHITESPACE"," ",924],["T_CONCAT_EQUAL",".=",924],["T_WHITESPACE"," ",924],["T_START_HEREDOC","<<< XMLRequest\n",924],["T_ENCAPSED_AND_WHITESPACE","  <\/Shipment>\n<\/RatingServiceSelectionRequest>\n",925],["T_END_HEREDOC","XMLRequest",927],";",["T_WHITESPACE","\n\n        ",927],["T_VARIABLE","$xmlResponse",929],["T_WHITESPACE"," ",929],"=",["T_WHITESPACE"," ",929],["T_VARIABLE","$this",929],["T_OBJECT_OPERATOR","->",929],["T_STRING","_getCachedQuotes",929],"(",["T_VARIABLE","$xmlRequest",929],")",";",["T_WHITESPACE","\n        ",929],["T_IF","if",930],["T_WHITESPACE"," ",930],"(",["T_VARIABLE","$xmlResponse",930],["T_WHITESPACE"," ",930],["T_IS_IDENTICAL","===",930],["T_WHITESPACE"," ",930],["T_STRING","null",930],")",["T_WHITESPACE"," ",930],"{",["T_WHITESPACE","\n            ",930],["T_VARIABLE","$debugData",931],["T_WHITESPACE"," ",931],"=",["T_WHITESPACE"," ",931],["T_ARRAY","array",931],"(",["T_CONSTANT_ENCAPSED_STRING","'request'",931],["T_WHITESPACE"," ",931],["T_DOUBLE_ARROW","=>",931],["T_WHITESPACE"," ",931],["T_VARIABLE","$xmlRequest",931],")",";",["T_WHITESPACE","\n            ",931],["T_TRY","try",932],["T_WHITESPACE"," ",932],"{",["T_WHITESPACE","\n                ",932],["T_VARIABLE","$ch",933],["T_WHITESPACE"," ",933],"=",["T_WHITESPACE"," ",933],["T_STRING","curl_init",933],"(",")",";",["T_WHITESPACE","\n                ",933],["T_STRING","curl_setopt",934],"(",["T_VARIABLE","$ch",934],",",["T_WHITESPACE"," ",934],["T_STRING","CURLOPT_URL",934],",",["T_WHITESPACE"," ",934],["T_VARIABLE","$url",934],")",";",["T_WHITESPACE","\n                ",934],["T_STRING","curl_setopt",935],"(",["T_VARIABLE","$ch",935],",",["T_WHITESPACE"," ",935],["T_STRING","CURLOPT_RETURNTRANSFER",935],",",["T_WHITESPACE"," ",935],["T_LNUMBER","1",935],")",";",["T_WHITESPACE","\n                ",935],["T_STRING","curl_setopt",936],"(",["T_VARIABLE","$ch",936],",",["T_WHITESPACE"," ",936],["T_STRING","CURLOPT_HEADER",936],",",["T_WHITESPACE"," ",936],["T_LNUMBER","0",936],")",";",["T_WHITESPACE","\n                ",936],["T_STRING","curl_setopt",937],"(",["T_VARIABLE","$ch",937],",",["T_WHITESPACE"," ",937],["T_STRING","CURLOPT_POST",937],",",["T_WHITESPACE"," ",937],["T_LNUMBER","1",937],")",";",["T_WHITESPACE","\n                ",937],["T_STRING","curl_setopt",938],"(",["T_VARIABLE","$ch",938],",",["T_WHITESPACE"," ",938],["T_STRING","CURLOPT_POSTFIELDS",938],",",["T_WHITESPACE"," ",938],["T_VARIABLE","$xmlRequest",938],")",";",["T_WHITESPACE","\n                ",938],["T_STRING","curl_setopt",939],"(",["T_VARIABLE","$ch",939],",",["T_WHITESPACE"," ",939],["T_STRING","CURLOPT_TIMEOUT",939],",",["T_WHITESPACE"," ",939],["T_LNUMBER","30",939],")",";",["T_WHITESPACE","\n                ",939],["T_STRING","curl_setopt",940],"(",["T_VARIABLE","$ch",940],",",["T_WHITESPACE"," ",940],["T_STRING","CURLOPT_SSL_VERIFYPEER",940],",",["T_WHITESPACE"," ",940],["T_VARIABLE","$this",940],["T_OBJECT_OPERATOR","->",940],["T_STRING","getConfigFlag",940],"(",["T_CONSTANT_ENCAPSED_STRING","'verify_peer'",940],")",")",";",["T_WHITESPACE","\n                ",940],["T_VARIABLE","$xmlResponse",941],["T_WHITESPACE"," ",941],"=",["T_WHITESPACE"," ",941],["T_STRING","curl_exec",941],["T_WHITESPACE"," ",941],"(",["T_VARIABLE","$ch",941],")",";",["T_WHITESPACE","\n\n                ",941],["T_VARIABLE","$debugData",943],"[",["T_CONSTANT_ENCAPSED_STRING","'result'",943],"]",["T_WHITESPACE"," ",943],"=",["T_WHITESPACE"," ",943],["T_VARIABLE","$xmlResponse",943],";",["T_WHITESPACE","\n                ",943],["T_VARIABLE","$this",944],["T_OBJECT_OPERATOR","->",944],["T_STRING","_setCachedQuotes",944],"(",["T_VARIABLE","$xmlRequest",944],",",["T_WHITESPACE"," ",944],["T_VARIABLE","$xmlResponse",944],")",";",["T_WHITESPACE","\n            ",944],"}",["T_WHITESPACE","\n            ",945],["T_CATCH","catch",946],["T_WHITESPACE"," ",946],"(",["T_STRING","Exception",946],["T_WHITESPACE"," ",946],["T_VARIABLE","$e",946],")",["T_WHITESPACE"," ",946],"{",["T_WHITESPACE","\n                ",946],["T_VARIABLE","$debugData",947],"[",["T_CONSTANT_ENCAPSED_STRING","'result'",947],"]",["T_WHITESPACE"," ",947],"=",["T_WHITESPACE"," ",947],["T_ARRAY","array",947],"(",["T_CONSTANT_ENCAPSED_STRING","'error'",947],["T_WHITESPACE"," ",947],["T_DOUBLE_ARROW","=>",947],["T_WHITESPACE"," ",947],["T_VARIABLE","$e",947],["T_OBJECT_OPERATOR","->",947],["T_STRING","getMessage",947],"(",")",",",["T_WHITESPACE"," ",947],["T_CONSTANT_ENCAPSED_STRING","'code'",947],["T_WHITESPACE"," ",947],["T_DOUBLE_ARROW","=>",947],["T_WHITESPACE"," ",947],["T_VARIABLE","$e",947],["T_OBJECT_OPERATOR","->",947],["T_STRING","getCode",947],"(",")",")",";",["T_WHITESPACE","\n                ",947],["T_VARIABLE","$xmlResponse",948],["T_WHITESPACE"," ",948],"=",["T_WHITESPACE"," ",948],["T_CONSTANT_ENCAPSED_STRING","''",948],";",["T_WHITESPACE","\n            ",948],"}",["T_WHITESPACE","\n            ",949],["T_VARIABLE","$this",950],["T_OBJECT_OPERATOR","->",950],["T_STRING","_debug",950],"(",["T_VARIABLE","$debugData",950],")",";",["T_WHITESPACE","\n        ",950],"}",["T_WHITESPACE","\n\n        ",951],["T_RETURN","return",953],["T_WHITESPACE"," ",953],["T_VARIABLE","$this",953],["T_OBJECT_OPERATOR","->",953],["T_STRING","_parseXmlResponse",953],"(",["T_VARIABLE","$xmlResponse",953],")",";",["T_WHITESPACE","\n    ",953],"}",["T_WHITESPACE","\n\n    ",954],["T_DOC_COMMENT","\/**\n     * Get base currency rate\n     *\n     * @param string $code\n     * @return double\n     *\/",956],["T_WHITESPACE","\n    ",961],["T_PROTECTED","protected",962],["T_WHITESPACE"," ",962],["T_FUNCTION","function",962],["T_WHITESPACE"," ",962],["T_STRING","_getBaseCurrencyRate",962],"(",["T_VARIABLE","$code",962],")",["T_WHITESPACE","\n    ",962],"{",["T_WHITESPACE","\n        ",963],["T_IF","if",964],["T_WHITESPACE"," ",964],"(","!",["T_VARIABLE","$this",964],["T_OBJECT_OPERATOR","->",964],["T_STRING","_baseCurrencyRate",964],")",["T_WHITESPACE"," ",964],"{",["T_WHITESPACE","\n            ",964],["T_VARIABLE","$this",965],["T_OBJECT_OPERATOR","->",965],["T_STRING","_baseCurrencyRate",965],["T_WHITESPACE"," ",965],"=",["T_WHITESPACE"," ",965],["T_STRING","Mage",965],["T_DOUBLE_COLON","::",965],["T_STRING","getModel",965],"(",["T_CONSTANT_ENCAPSED_STRING","'directory\/currency'",965],")",["T_WHITESPACE","\n                ",965],["T_OBJECT_OPERATOR","->",966],["T_STRING","load",966],"(",["T_VARIABLE","$code",966],")",["T_WHITESPACE","\n                ",966],["T_OBJECT_OPERATOR","->",967],["T_STRING","getAnyRate",967],"(",["T_VARIABLE","$this",967],["T_OBJECT_OPERATOR","->",967],["T_STRING","_request",967],["T_OBJECT_OPERATOR","->",967],["T_STRING","getBaseCurrency",967],"(",")",["T_OBJECT_OPERATOR","->",967],["T_STRING","getCode",967],"(",")",")",";",["T_WHITESPACE","\n        ",967],"}",["T_WHITESPACE","\n\n        ",968],["T_RETURN","return",970],["T_WHITESPACE"," ",970],["T_VARIABLE","$this",970],["T_OBJECT_OPERATOR","->",970],["T_STRING","_baseCurrencyRate",970],";",["T_WHITESPACE","\n    ",970],"}",["T_WHITESPACE","\n\n    ",971],["T_DOC_COMMENT","\/**\n     * Prepare shipping rate result based on response\n     *\n     * @param mixed $response\n     * @return Mage_Shipping_Model_Rate_Result\n     *\/",973],["T_WHITESPACE","\n    ",978],["T_PROTECTED","protected",979],["T_WHITESPACE"," ",979],["T_FUNCTION","function",979],["T_WHITESPACE"," ",979],["T_STRING","_parseXmlResponse",979],"(",["T_VARIABLE","$xmlResponse",979],")",["T_WHITESPACE","\n    ",979],"{",["T_WHITESPACE","\n        ",980],["T_VARIABLE","$costArr",981],["T_WHITESPACE"," ",981],"=",["T_WHITESPACE"," ",981],["T_ARRAY","array",981],"(",")",";",["T_WHITESPACE","\n        ",981],["T_VARIABLE","$priceArr",982],["T_WHITESPACE"," ",982],"=",["T_WHITESPACE"," ",982],["T_ARRAY","array",982],"(",")",";",["T_WHITESPACE","\n        ",982],["T_IF","if",983],["T_WHITESPACE"," ",983],"(",["T_STRING","strlen",983],"(",["T_STRING","trim",983],"(",["T_VARIABLE","$xmlResponse",983],")",")",">",["T_LNUMBER","0",983],")",["T_WHITESPACE"," ",983],"{",["T_WHITESPACE","\n            ",983],["T_VARIABLE","$xml",984],["T_WHITESPACE"," ",984],"=",["T_WHITESPACE"," ",984],["T_NEW","new",984],["T_WHITESPACE"," ",984],["T_STRING","Varien_Simplexml_Config",984],"(",")",";",["T_WHITESPACE","\n            ",984],["T_VARIABLE","$xml",985],["T_OBJECT_OPERATOR","->",985],["T_STRING","loadString",985],"(",["T_VARIABLE","$xmlResponse",985],")",";",["T_WHITESPACE","\n            ",985],["T_VARIABLE","$arr",986],["T_WHITESPACE"," ",986],"=",["T_WHITESPACE"," ",986],["T_VARIABLE","$xml",986],["T_OBJECT_OPERATOR","->",986],["T_STRING","getXpath",986],"(",["T_CONSTANT_ENCAPSED_STRING","\"\/\/RatingServiceSelectionResponse\/Response\/ResponseStatusCode\/text()\"",986],")",";",["T_WHITESPACE","\n            ",986],["T_VARIABLE","$success",987],["T_WHITESPACE"," ",987],"=",["T_WHITESPACE"," ",987],["T_INT_CAST","(int)",987],["T_VARIABLE","$arr",987],"[",["T_LNUMBER","0",987],"]",";",["T_WHITESPACE","\n            ",987],["T_IF","if",988],["T_WHITESPACE"," ",988],"(",["T_VARIABLE","$success",988],["T_IS_IDENTICAL","===",988],["T_LNUMBER","1",988],")",["T_WHITESPACE"," ",988],"{",["T_WHITESPACE","\n                ",988],["T_VARIABLE","$arr",989],["T_WHITESPACE"," ",989],"=",["T_WHITESPACE"," ",989],["T_VARIABLE","$xml",989],["T_OBJECT_OPERATOR","->",989],["T_STRING","getXpath",989],"(",["T_CONSTANT_ENCAPSED_STRING","\"\/\/RatingServiceSelectionResponse\/RatedShipment\"",989],")",";",["T_WHITESPACE","\n                ",989],["T_VARIABLE","$allowedMethods",990],["T_WHITESPACE"," ",990],"=",["T_WHITESPACE"," ",990],["T_STRING","explode",990],"(",["T_CONSTANT_ENCAPSED_STRING","\",\"",990],",",["T_WHITESPACE"," ",990],["T_VARIABLE","$this",990],["T_OBJECT_OPERATOR","->",990],["T_STRING","getConfigData",990],"(",["T_CONSTANT_ENCAPSED_STRING","'allowed_methods'",990],")",")",";",["T_WHITESPACE","\n\n                ",990],["T_COMMENT","\/\/ Negotiated rates\n",992],["T_WHITESPACE","                ",993],["T_VARIABLE","$negotiatedArr",993],["T_WHITESPACE"," ",993],"=",["T_WHITESPACE"," ",993],["T_VARIABLE","$xml",993],["T_OBJECT_OPERATOR","->",993],["T_STRING","getXpath",993],"(",["T_CONSTANT_ENCAPSED_STRING","\"\/\/RatingServiceSelectionResponse\/RatedShipment\/NegotiatedRates\"",993],")",";",["T_WHITESPACE","\n                ",993],["T_VARIABLE","$negotiatedActive",994],["T_WHITESPACE"," ",994],"=",["T_WHITESPACE"," ",994],["T_VARIABLE","$this",994],["T_OBJECT_OPERATOR","->",994],["T_STRING","getConfigFlag",994],"(",["T_CONSTANT_ENCAPSED_STRING","'negotiated_active'",994],")",["T_WHITESPACE","\n                    ",994],["T_BOOLEAN_AND","&&",995],["T_WHITESPACE"," ",995],["T_VARIABLE","$this",995],["T_OBJECT_OPERATOR","->",995],["T_STRING","getConfigData",995],"(",["T_CONSTANT_ENCAPSED_STRING","'shipper_number'",995],")",["T_WHITESPACE","\n                    ",995],["T_BOOLEAN_AND","&&",996],["T_WHITESPACE"," ",996],"!",["T_EMPTY","empty",996],"(",["T_VARIABLE","$negotiatedArr",996],")",";",["T_WHITESPACE","\n\n                ",996],["T_VARIABLE","$allowedCurrencies",998],["T_WHITESPACE"," ",998],"=",["T_WHITESPACE"," ",998],["T_STRING","Mage",998],["T_DOUBLE_COLON","::",998],["T_STRING","getModel",998],"(",["T_CONSTANT_ENCAPSED_STRING","'directory\/currency'",998],")",["T_OBJECT_OPERATOR","->",998],["T_STRING","getConfigAllowCurrencies",998],"(",")",";",["T_WHITESPACE","\n\n                ",998],["T_FOREACH","foreach",1000],["T_WHITESPACE"," ",1000],"(",["T_VARIABLE","$arr",1000],["T_WHITESPACE"," ",1000],["T_AS","as",1000],["T_WHITESPACE"," ",1000],["T_VARIABLE","$shipElement",1000],")","{",["T_WHITESPACE","\n                    ",1000],["T_VARIABLE","$code",1001],["T_WHITESPACE"," ",1001],"=",["T_WHITESPACE"," ",1001],["T_STRING_CAST","(string)",1001],["T_VARIABLE","$shipElement",1001],["T_OBJECT_OPERATOR","->",1001],["T_STRING","Service",1001],["T_OBJECT_OPERATOR","->",1001],["T_STRING","Code",1001],";",["T_WHITESPACE","\n                    ",1001],["T_IF","if",1002],["T_WHITESPACE"," ",1002],"(",["T_STRING","in_array",1002],"(",["T_VARIABLE","$code",1002],",",["T_WHITESPACE"," ",1002],["T_VARIABLE","$allowedMethods",1002],")",")",["T_WHITESPACE"," ",1002],"{",["T_WHITESPACE","\n\n                        ",1002],["T_IF","if",1004],["T_WHITESPACE"," ",1004],"(",["T_VARIABLE","$negotiatedActive",1004],")",["T_WHITESPACE"," ",1004],"{",["T_WHITESPACE","\n                            ",1004],["T_VARIABLE","$cost",1005],["T_WHITESPACE"," ",1005],"=",["T_WHITESPACE"," ",1005],["T_VARIABLE","$shipElement",1005],["T_OBJECT_OPERATOR","->",1005],["T_STRING","NegotiatedRates",1005],["T_OBJECT_OPERATOR","->",1005],["T_STRING","NetSummaryCharges",1005],["T_OBJECT_OPERATOR","->",1005],["T_STRING","GrandTotal",1005],["T_OBJECT_OPERATOR","->",1005],["T_STRING","MonetaryValue",1005],";",["T_WHITESPACE","\n                        ",1005],"}",["T_WHITESPACE"," ",1006],["T_ELSE","else",1006],["T_WHITESPACE"," ",1006],"{",["T_WHITESPACE","\n                            ",1006],["T_VARIABLE","$cost",1007],["T_WHITESPACE"," ",1007],"=",["T_WHITESPACE"," ",1007],["T_VARIABLE","$shipElement",1007],["T_OBJECT_OPERATOR","->",1007],["T_STRING","TotalCharges",1007],["T_OBJECT_OPERATOR","->",1007],["T_STRING","MonetaryValue",1007],";",["T_WHITESPACE","\n                        ",1007],"}",["T_WHITESPACE","\n\n                        ",1008],["T_COMMENT","\/\/convert price with Origin country currency code to base currency code\n",1010],["T_WHITESPACE","                        ",1011],["T_VARIABLE","$successConversion",1011],["T_WHITESPACE"," ",1011],"=",["T_WHITESPACE"," ",1011],["T_STRING","true",1011],";",["T_WHITESPACE","\n                        ",1011],["T_VARIABLE","$responseCurrencyCode",1012],["T_WHITESPACE"," ",1012],"=",["T_WHITESPACE"," ",1012],["T_STRING_CAST","(string)",1012],["T_WHITESPACE"," ",1012],["T_VARIABLE","$shipElement",1012],["T_OBJECT_OPERATOR","->",1012],["T_STRING","TotalCharges",1012],["T_OBJECT_OPERATOR","->",1012],["T_STRING","CurrencyCode",1012],";",["T_WHITESPACE","\n                        ",1012],["T_IF","if",1013],["T_WHITESPACE"," ",1013],"(",["T_VARIABLE","$responseCurrencyCode",1013],")",["T_WHITESPACE"," ",1013],"{",["T_WHITESPACE","\n                            ",1013],["T_IF","if",1014],["T_WHITESPACE"," ",1014],"(",["T_STRING","in_array",1014],"(",["T_VARIABLE","$responseCurrencyCode",1014],",",["T_WHITESPACE"," ",1014],["T_VARIABLE","$allowedCurrencies",1014],")",")",["T_WHITESPACE"," ",1014],"{",["T_WHITESPACE","\n                                ",1014],["T_VARIABLE","$cost",1015],["T_WHITESPACE"," ",1015],"=",["T_WHITESPACE"," ",1015],["T_DOUBLE_CAST","(float)",1015],["T_WHITESPACE"," ",1015],["T_VARIABLE","$cost",1015],["T_WHITESPACE"," ",1015],"*",["T_WHITESPACE"," ",1015],["T_VARIABLE","$this",1015],["T_OBJECT_OPERATOR","->",1015],["T_STRING","_getBaseCurrencyRate",1015],"(",["T_VARIABLE","$responseCurrencyCode",1015],")",";",["T_WHITESPACE","\n                            ",1015],"}",["T_WHITESPACE"," ",1016],["T_ELSE","else",1016],["T_WHITESPACE"," ",1016],"{",["T_WHITESPACE","\n                                ",1016],["T_VARIABLE","$errorTitle",1017],["T_WHITESPACE"," ",1017],"=",["T_WHITESPACE"," ",1017],["T_STRING","Mage",1017],["T_DOUBLE_COLON","::",1017],["T_STRING","helper",1017],"(",["T_CONSTANT_ENCAPSED_STRING","'directory'",1017],")",["T_OBJECT_OPERATOR","->",1017],["T_STRING","__",1017],"(",["T_CONSTANT_ENCAPSED_STRING","'Can\\'t convert rate from \"%s-%s\".'",1017],",",["T_WHITESPACE"," ",1017],["T_VARIABLE","$responseCurrencyCode",1017],",",["T_WHITESPACE"," ",1017],["T_VARIABLE","$this",1017],["T_OBJECT_OPERATOR","->",1017],["T_STRING","_request",1017],["T_OBJECT_OPERATOR","->",1017],["T_STRING","getPackageCurrency",1017],"(",")",["T_OBJECT_OPERATOR","->",1017],["T_STRING","getCode",1017],"(",")",")",";",["T_WHITESPACE","\n                                ",1017],["T_VARIABLE","$error",1018],["T_WHITESPACE"," ",1018],"=",["T_WHITESPACE"," ",1018],["T_STRING","Mage",1018],["T_DOUBLE_COLON","::",1018],["T_STRING","getModel",1018],"(",["T_CONSTANT_ENCAPSED_STRING","'shipping\/rate_result_error'",1018],")",";",["T_WHITESPACE","\n                                ",1018],["T_VARIABLE","$error",1019],["T_OBJECT_OPERATOR","->",1019],["T_STRING","setCarrier",1019],"(",["T_CONSTANT_ENCAPSED_STRING","'ups'",1019],")",";",["T_WHITESPACE","\n                                ",1019],["T_VARIABLE","$error",1020],["T_OBJECT_OPERATOR","->",1020],["T_STRING","setCarrierTitle",1020],"(",["T_VARIABLE","$this",1020],["T_OBJECT_OPERATOR","->",1020],["T_STRING","getConfigData",1020],"(",["T_CONSTANT_ENCAPSED_STRING","'title'",1020],")",")",";",["T_WHITESPACE","\n                                ",1020],["T_VARIABLE","$error",1021],["T_OBJECT_OPERATOR","->",1021],["T_STRING","setErrorMessage",1021],"(",["T_VARIABLE","$errorTitle",1021],")",";",["T_WHITESPACE","\n                                ",1021],["T_VARIABLE","$successConversion",1022],["T_WHITESPACE"," ",1022],"=",["T_WHITESPACE"," ",1022],["T_STRING","false",1022],";",["T_WHITESPACE","\n                            ",1022],"}",["T_WHITESPACE","\n                        ",1023],"}",["T_WHITESPACE","\n\n                        ",1024],["T_IF","if",1026],["T_WHITESPACE"," ",1026],"(",["T_VARIABLE","$successConversion",1026],")",["T_WHITESPACE"," ",1026],"{",["T_WHITESPACE","\n                            ",1026],["T_VARIABLE","$costArr",1027],"[",["T_VARIABLE","$code",1027],"]",["T_WHITESPACE"," ",1027],"=",["T_WHITESPACE"," ",1027],["T_VARIABLE","$cost",1027],";",["T_WHITESPACE","\n                            ",1027],["T_VARIABLE","$priceArr",1028],"[",["T_VARIABLE","$code",1028],"]",["T_WHITESPACE"," ",1028],"=",["T_WHITESPACE"," ",1028],["T_VARIABLE","$this",1028],["T_OBJECT_OPERATOR","->",1028],["T_STRING","getMethodPrice",1028],"(",["T_STRING","floatval",1028],"(",["T_VARIABLE","$cost",1028],")",",",["T_VARIABLE","$code",1028],")",";",["T_WHITESPACE","\n                        ",1028],"}",["T_WHITESPACE","\n                    ",1029],"}",["T_WHITESPACE","\n                ",1030],"}",["T_WHITESPACE","\n            ",1031],"}",["T_WHITESPACE"," ",1032],["T_ELSE","else",1032],["T_WHITESPACE"," ",1032],"{",["T_WHITESPACE","\n                ",1032],["T_VARIABLE","$arr",1033],["T_WHITESPACE"," ",1033],"=",["T_WHITESPACE"," ",1033],["T_VARIABLE","$xml",1033],["T_OBJECT_OPERATOR","->",1033],["T_STRING","getXpath",1033],"(",["T_CONSTANT_ENCAPSED_STRING","\"\/\/RatingServiceSelectionResponse\/Response\/Error\/ErrorDescription\/text()\"",1033],")",";",["T_WHITESPACE","\n                ",1033],["T_VARIABLE","$errorTitle",1034],["T_WHITESPACE"," ",1034],"=",["T_WHITESPACE"," ",1034],["T_STRING_CAST","(string)",1034],["T_VARIABLE","$arr",1034],"[",["T_LNUMBER","0",1034],"]","[",["T_LNUMBER","0",1034],"]",";",["T_WHITESPACE","\n                ",1034],["T_VARIABLE","$error",1035],["T_WHITESPACE"," ",1035],"=",["T_WHITESPACE"," ",1035],["T_STRING","Mage",1035],["T_DOUBLE_COLON","::",1035],["T_STRING","getModel",1035],"(",["T_CONSTANT_ENCAPSED_STRING","'shipping\/rate_result_error'",1035],")",";",["T_WHITESPACE","\n                ",1035],["T_VARIABLE","$error",1036],["T_OBJECT_OPERATOR","->",1036],["T_STRING","setCarrier",1036],"(",["T_CONSTANT_ENCAPSED_STRING","'ups'",1036],")",";",["T_WHITESPACE","\n                ",1036],["T_VARIABLE","$error",1037],["T_OBJECT_OPERATOR","->",1037],["T_STRING","setCarrierTitle",1037],"(",["T_VARIABLE","$this",1037],["T_OBJECT_OPERATOR","->",1037],["T_STRING","getConfigData",1037],"(",["T_CONSTANT_ENCAPSED_STRING","'title'",1037],")",")",";",["T_WHITESPACE","\n                ",1037],["T_VARIABLE","$error",1038],["T_OBJECT_OPERATOR","->",1038],["T_STRING","setErrorMessage",1038],"(",["T_VARIABLE","$this",1038],["T_OBJECT_OPERATOR","->",1038],["T_STRING","getConfigData",1038],"(",["T_CONSTANT_ENCAPSED_STRING","'specificerrmsg'",1038],")",")",";",["T_WHITESPACE","\n            ",1038],"}",["T_WHITESPACE","\n        ",1039],"}",["T_WHITESPACE","\n\n        ",1040],["T_VARIABLE","$result",1042],["T_WHITESPACE"," ",1042],"=",["T_WHITESPACE"," ",1042],["T_STRING","Mage",1042],["T_DOUBLE_COLON","::",1042],["T_STRING","getModel",1042],"(",["T_CONSTANT_ENCAPSED_STRING","'shipping\/rate_result'",1042],")",";",["T_WHITESPACE","\n        ",1042],["T_VARIABLE","$defaults",1043],["T_WHITESPACE"," ",1043],"=",["T_WHITESPACE"," ",1043],["T_VARIABLE","$this",1043],["T_OBJECT_OPERATOR","->",1043],["T_STRING","getDefaults",1043],"(",")",";",["T_WHITESPACE","\n        ",1043],["T_IF","if",1044],["T_WHITESPACE"," ",1044],"(",["T_EMPTY","empty",1044],"(",["T_VARIABLE","$priceArr",1044],")",")",["T_WHITESPACE"," ",1044],"{",["T_WHITESPACE","\n            ",1044],["T_VARIABLE","$error",1045],["T_WHITESPACE"," ",1045],"=",["T_WHITESPACE"," ",1045],["T_STRING","Mage",1045],["T_DOUBLE_COLON","::",1045],["T_STRING","getModel",1045],"(",["T_CONSTANT_ENCAPSED_STRING","'shipping\/rate_result_error'",1045],")",";",["T_WHITESPACE","\n            ",1045],["T_VARIABLE","$error",1046],["T_OBJECT_OPERATOR","->",1046],["T_STRING","setCarrier",1046],"(",["T_CONSTANT_ENCAPSED_STRING","'ups'",1046],")",";",["T_WHITESPACE","\n            ",1046],["T_VARIABLE","$error",1047],["T_OBJECT_OPERATOR","->",1047],["T_STRING","setCarrierTitle",1047],"(",["T_VARIABLE","$this",1047],["T_OBJECT_OPERATOR","->",1047],["T_STRING","getConfigData",1047],"(",["T_CONSTANT_ENCAPSED_STRING","'title'",1047],")",")",";",["T_WHITESPACE","\n            ",1047],["T_IF","if",1048],"(","!",["T_ISSET","isset",1048],"(",["T_VARIABLE","$errorTitle",1048],")",")","{",["T_WHITESPACE","\n                ",1048],["T_VARIABLE","$errorTitle",1049],["T_WHITESPACE"," ",1049],"=",["T_WHITESPACE"," ",1049],["T_STRING","Mage",1049],["T_DOUBLE_COLON","::",1049],["T_STRING","helper",1049],"(",["T_CONSTANT_ENCAPSED_STRING","'usa'",1049],")",["T_OBJECT_OPERATOR","->",1049],["T_STRING","__",1049],"(",["T_CONSTANT_ENCAPSED_STRING","'Cannot retrieve shipping rates'",1049],")",";",["T_WHITESPACE","\n            ",1049],"}",["T_WHITESPACE","\n            ",1050],["T_VARIABLE","$error",1051],["T_OBJECT_OPERATOR","->",1051],["T_STRING","setErrorMessage",1051],"(",["T_VARIABLE","$this",1051],["T_OBJECT_OPERATOR","->",1051],["T_STRING","getConfigData",1051],"(",["T_CONSTANT_ENCAPSED_STRING","'specificerrmsg'",1051],")",")",";",["T_WHITESPACE","\n            ",1051],["T_VARIABLE","$result",1052],["T_OBJECT_OPERATOR","->",1052],["T_STRING","append",1052],"(",["T_VARIABLE","$error",1052],")",";",["T_WHITESPACE","\n        ",1052],"}",["T_WHITESPACE"," ",1053],["T_ELSE","else",1053],["T_WHITESPACE"," ",1053],"{",["T_WHITESPACE","\n            ",1053],["T_FOREACH","foreach",1054],["T_WHITESPACE"," ",1054],"(",["T_VARIABLE","$priceArr",1054],["T_WHITESPACE"," ",1054],["T_AS","as",1054],["T_WHITESPACE"," ",1054],["T_VARIABLE","$method",1054],["T_DOUBLE_ARROW","=>",1054],["T_VARIABLE","$price",1054],")",["T_WHITESPACE"," ",1054],"{",["T_WHITESPACE","\n                ",1054],["T_VARIABLE","$rate",1055],["T_WHITESPACE"," ",1055],"=",["T_WHITESPACE"," ",1055],["T_STRING","Mage",1055],["T_DOUBLE_COLON","::",1055],["T_STRING","getModel",1055],"(",["T_CONSTANT_ENCAPSED_STRING","'shipping\/rate_result_method'",1055],")",";",["T_WHITESPACE","\n                ",1055],["T_VARIABLE","$rate",1056],["T_OBJECT_OPERATOR","->",1056],["T_STRING","setCarrier",1056],"(",["T_CONSTANT_ENCAPSED_STRING","'ups'",1056],")",";",["T_WHITESPACE","\n                ",1056],["T_VARIABLE","$rate",1057],["T_OBJECT_OPERATOR","->",1057],["T_STRING","setCarrierTitle",1057],"(",["T_VARIABLE","$this",1057],["T_OBJECT_OPERATOR","->",1057],["T_STRING","getConfigData",1057],"(",["T_CONSTANT_ENCAPSED_STRING","'title'",1057],")",")",";",["T_WHITESPACE","\n                ",1057],["T_VARIABLE","$rate",1058],["T_OBJECT_OPERATOR","->",1058],["T_STRING","setMethod",1058],"(",["T_VARIABLE","$method",1058],")",";",["T_WHITESPACE","\n                ",1058],["T_VARIABLE","$method_arr",1059],["T_WHITESPACE"," ",1059],"=",["T_WHITESPACE"," ",1059],["T_VARIABLE","$this",1059],["T_OBJECT_OPERATOR","->",1059],["T_STRING","getShipmentByCode",1059],"(",["T_VARIABLE","$method",1059],")",";",["T_WHITESPACE","\n                ",1059],["T_VARIABLE","$rate",1060],["T_OBJECT_OPERATOR","->",1060],["T_STRING","setMethodTitle",1060],"(",["T_VARIABLE","$method_arr",1060],")",";",["T_WHITESPACE","\n                ",1060],["T_VARIABLE","$rate",1061],["T_OBJECT_OPERATOR","->",1061],["T_STRING","setCost",1061],"(",["T_VARIABLE","$costArr",1061],"[",["T_VARIABLE","$method",1061],"]",")",";",["T_WHITESPACE","\n                ",1061],["T_VARIABLE","$rate",1062],["T_OBJECT_OPERATOR","->",1062],["T_STRING","setPrice",1062],"(",["T_VARIABLE","$price",1062],")",";",["T_WHITESPACE","\n                ",1062],["T_VARIABLE","$result",1063],["T_OBJECT_OPERATOR","->",1063],["T_STRING","append",1063],"(",["T_VARIABLE","$rate",1063],")",";",["T_WHITESPACE","\n            ",1063],"}",["T_WHITESPACE","\n        ",1064],"}",["T_WHITESPACE","\n        ",1065],["T_RETURN","return",1066],["T_WHITESPACE"," ",1066],["T_VARIABLE","$result",1066],";",["T_WHITESPACE","\n    ",1066],"}",["T_WHITESPACE","\n\n    ",1067],["T_DOC_COMMENT","\/**\n     * Get tracking\n     *\n     * @param mixed $trackings\n     * @return mixed\n     *\/",1069],["T_WHITESPACE","\n    ",1074],["T_PUBLIC","public",1075],["T_WHITESPACE"," ",1075],["T_FUNCTION","function",1075],["T_WHITESPACE"," ",1075],["T_STRING","getTracking",1075],"(",["T_VARIABLE","$trackings",1075],")",["T_WHITESPACE","\n    ",1075],"{",["T_WHITESPACE","\n        ",1076],["T_VARIABLE","$return",1077],["T_WHITESPACE"," ",1077],"=",["T_WHITESPACE"," ",1077],["T_ARRAY","array",1077],"(",")",";",["T_WHITESPACE","\n\n        ",1077],["T_IF","if",1079],["T_WHITESPACE"," ",1079],"(","!",["T_STRING","is_array",1079],"(",["T_VARIABLE","$trackings",1079],")",")",["T_WHITESPACE"," ",1079],"{",["T_WHITESPACE","\n            ",1079],["T_VARIABLE","$trackings",1080],["T_WHITESPACE"," ",1080],"=",["T_WHITESPACE"," ",1080],["T_ARRAY","array",1080],"(",["T_VARIABLE","$trackings",1080],")",";",["T_WHITESPACE","\n        ",1080],"}",["T_WHITESPACE","\n\n        ",1081],["T_IF","if",1083],["T_WHITESPACE"," ",1083],"(",["T_VARIABLE","$this",1083],["T_OBJECT_OPERATOR","->",1083],["T_STRING","getConfigData",1083],"(",["T_CONSTANT_ENCAPSED_STRING","'type'",1083],")",["T_IS_EQUAL","==",1083],["T_CONSTANT_ENCAPSED_STRING","'UPS'",1083],")",["T_WHITESPACE"," ",1083],"{",["T_WHITESPACE","\n            ",1083],["T_VARIABLE","$this",1084],["T_OBJECT_OPERATOR","->",1084],["T_STRING","_getCgiTracking",1084],"(",["T_VARIABLE","$trackings",1084],")",";",["T_WHITESPACE","\n        ",1084],"}",["T_WHITESPACE"," ",1085],["T_ELSEIF","elseif",1085],["T_WHITESPACE"," ",1085],"(",["T_VARIABLE","$this",1085],["T_OBJECT_OPERATOR","->",1085],["T_STRING","getConfigData",1085],"(",["T_CONSTANT_ENCAPSED_STRING","'type'",1085],")",["T_IS_EQUAL","==",1085],["T_CONSTANT_ENCAPSED_STRING","'UPS_XML'",1085],")","{",["T_WHITESPACE","\n            ",1085],["T_VARIABLE","$this",1086],["T_OBJECT_OPERATOR","->",1086],["T_STRING","setXMLAccessRequest",1086],"(",")",";",["T_WHITESPACE","\n            ",1086],["T_VARIABLE","$this",1087],["T_OBJECT_OPERATOR","->",1087],["T_STRING","_getXmlTracking",1087],"(",["T_VARIABLE","$trackings",1087],")",";",["T_WHITESPACE","\n        ",1087],"}",["T_WHITESPACE","\n\n        ",1088],["T_RETURN","return",1090],["T_WHITESPACE"," ",1090],["T_VARIABLE","$this",1090],["T_OBJECT_OPERATOR","->",1090],["T_STRING","_result",1090],";",["T_WHITESPACE","\n    ",1090],"}",["T_WHITESPACE","\n\n    ",1091],["T_DOC_COMMENT","\/**\n     * Set xml access request\n     *\n     * @return null\n     *\/",1093],["T_WHITESPACE","\n    ",1097],["T_PROTECTED","protected",1098],["T_WHITESPACE"," ",1098],["T_FUNCTION","function",1098],["T_WHITESPACE"," ",1098],["T_STRING","setXMLAccessRequest",1098],"(",")",["T_WHITESPACE","\n    ",1098],"{",["T_WHITESPACE","\n        ",1099],["T_VARIABLE","$userid",1100],["T_WHITESPACE"," ",1100],"=",["T_WHITESPACE"," ",1100],["T_VARIABLE","$this",1100],["T_OBJECT_OPERATOR","->",1100],["T_STRING","getConfigData",1100],"(",["T_CONSTANT_ENCAPSED_STRING","'username'",1100],")",";",["T_WHITESPACE","\n        ",1100],["T_VARIABLE","$userid_pass",1101],["T_WHITESPACE"," ",1101],"=",["T_WHITESPACE"," ",1101],["T_VARIABLE","$this",1101],["T_OBJECT_OPERATOR","->",1101],["T_STRING","getConfigData",1101],"(",["T_CONSTANT_ENCAPSED_STRING","'password'",1101],")",";",["T_WHITESPACE","\n        ",1101],["T_VARIABLE","$access_key",1102],["T_WHITESPACE"," ",1102],"=",["T_WHITESPACE"," ",1102],["T_VARIABLE","$this",1102],["T_OBJECT_OPERATOR","->",1102],["T_STRING","getConfigData",1102],"(",["T_CONSTANT_ENCAPSED_STRING","'access_license_number'",1102],")",";",["T_WHITESPACE","\n\n        ",1102],["T_VARIABLE","$this",1104],["T_OBJECT_OPERATOR","->",1104],["T_STRING","_xmlAccessRequest",1104],["T_WHITESPACE"," ",1104],"=",["T_WHITESPACE","  ",1104],["T_START_HEREDOC","<<<XMLAuth\n",1104],["T_ENCAPSED_AND_WHITESPACE","<?xml version=\"1.0\"?>\n<AccessRequest xml:lang=\"en-US\">\n  <AccessLicenseNumber>",1105],["T_VARIABLE","$access_key",1107],["T_ENCAPSED_AND_WHITESPACE","<\/AccessLicenseNumber>\n  <UserId>",1107],["T_VARIABLE","$userid",1108],["T_ENCAPSED_AND_WHITESPACE","<\/UserId>\n  <Password>",1108],["T_VARIABLE","$userid_pass",1109],["T_ENCAPSED_AND_WHITESPACE","<\/Password>\n<\/AccessRequest>\n",1109],["T_END_HEREDOC","XMLAuth",1111],";",["T_WHITESPACE","\n    ",1111],"}",["T_WHITESPACE","\n\n    ",1112],["T_DOC_COMMENT","\/**\n     * Get cgi tracking\n     *\n     * @param mixed $trackings\n     * @return mixed\n     *\/",1114],["T_WHITESPACE","\n    ",1119],["T_PROTECTED","protected",1120],["T_WHITESPACE"," ",1120],["T_FUNCTION","function",1120],["T_WHITESPACE"," ",1120],["T_STRING","_getCgiTracking",1120],"(",["T_VARIABLE","$trackings",1120],")",["T_WHITESPACE","\n    ",1120],"{",["T_WHITESPACE","\n        ",1121],["T_COMMENT","\/\/ups no longer support tracking for data streaming version\n",1122],["T_WHITESPACE","        ",1123],["T_COMMENT","\/\/so we can only reply the popup window to ups.\n",1123],["T_WHITESPACE","        ",1124],["T_VARIABLE","$result",1124],["T_WHITESPACE"," ",1124],"=",["T_WHITESPACE"," ",1124],["T_STRING","Mage",1124],["T_DOUBLE_COLON","::",1124],["T_STRING","getModel",1124],"(",["T_CONSTANT_ENCAPSED_STRING","'shipping\/tracking_result'",1124],")",";",["T_WHITESPACE","\n        ",1124],["T_VARIABLE","$defaults",1125],["T_WHITESPACE"," ",1125],"=",["T_WHITESPACE"," ",1125],["T_VARIABLE","$this",1125],["T_OBJECT_OPERATOR","->",1125],["T_STRING","getDefaults",1125],"(",")",";",["T_WHITESPACE","\n        ",1125],["T_FOREACH","foreach",1126],"(",["T_VARIABLE","$trackings",1126],["T_WHITESPACE"," ",1126],["T_AS","as",1126],["T_WHITESPACE"," ",1126],["T_VARIABLE","$tracking",1126],")","{",["T_WHITESPACE","\n            ",1126],["T_VARIABLE","$status",1127],["T_WHITESPACE"," ",1127],"=",["T_WHITESPACE"," ",1127],["T_STRING","Mage",1127],["T_DOUBLE_COLON","::",1127],["T_STRING","getModel",1127],"(",["T_CONSTANT_ENCAPSED_STRING","'shipping\/tracking_result_status'",1127],")",";",["T_WHITESPACE","\n            ",1127],["T_VARIABLE","$status",1128],["T_OBJECT_OPERATOR","->",1128],["T_STRING","setCarrier",1128],"(",["T_CONSTANT_ENCAPSED_STRING","'ups'",1128],")",";",["T_WHITESPACE","\n            ",1128],["T_VARIABLE","$status",1129],["T_OBJECT_OPERATOR","->",1129],["T_STRING","setCarrierTitle",1129],"(",["T_VARIABLE","$this",1129],["T_OBJECT_OPERATOR","->",1129],["T_STRING","getConfigData",1129],"(",["T_CONSTANT_ENCAPSED_STRING","'title'",1129],")",")",";",["T_WHITESPACE","\n            ",1129],["T_VARIABLE","$status",1130],["T_OBJECT_OPERATOR","->",1130],["T_STRING","setTracking",1130],"(",["T_VARIABLE","$tracking",1130],")",";",["T_WHITESPACE","\n            ",1130],["T_VARIABLE","$status",1131],["T_OBJECT_OPERATOR","->",1131],["T_STRING","setPopup",1131],"(",["T_LNUMBER","1",1131],")",";",["T_WHITESPACE","\n            ",1131],["T_VARIABLE","$status",1132],["T_OBJECT_OPERATOR","->",1132],["T_STRING","setUrl",1132],"(",["T_CONSTANT_ENCAPSED_STRING","\"http:\/\/wwwapps.ups.com\/WebTracking\/processInputRequest?HTMLVersion=5.0&error_carried=true\"",1132],["T_WHITESPACE","\n                ",1132],".",["T_WHITESPACE"," ",1133],"\"",["T_ENCAPSED_AND_WHITESPACE","&tracknums_displayed=5&TypeOfInquiryNumber=T&loc=en_US&InquiryNumber1=",1133],["T_VARIABLE","$tracking",1133],"\"",["T_WHITESPACE","\n                ",1133],".",["T_WHITESPACE"," ",1134],["T_CONSTANT_ENCAPSED_STRING","\"&AgreeToTermsAndConditions=yes\"",1134],["T_WHITESPACE","\n            ",1134],")",";",["T_WHITESPACE","\n            ",1135],["T_VARIABLE","$result",1136],["T_OBJECT_OPERATOR","->",1136],["T_STRING","append",1136],"(",["T_VARIABLE","$status",1136],")",";",["T_WHITESPACE","\n        ",1136],"}",["T_WHITESPACE","\n\n        ",1137],["T_VARIABLE","$this",1139],["T_OBJECT_OPERATOR","->",1139],["T_STRING","_result",1139],["T_WHITESPACE"," ",1139],"=",["T_WHITESPACE"," ",1139],["T_VARIABLE","$result",1139],";",["T_WHITESPACE","\n        ",1139],["T_RETURN","return",1140],["T_WHITESPACE"," ",1140],["T_VARIABLE","$result",1140],";",["T_WHITESPACE","\n    ",1140],"}",["T_WHITESPACE","\n\n    ",1141],["T_DOC_COMMENT","\/**\n     * Get xml tracking\n     *\n     * @param mixed $trackings\n     * @return mixed\n     *\/",1143],["T_WHITESPACE","\n    ",1148],["T_PROTECTED","protected",1149],["T_WHITESPACE"," ",1149],["T_FUNCTION","function",1149],["T_WHITESPACE"," ",1149],["T_STRING","_getXmlTracking",1149],"(",["T_VARIABLE","$trackings",1149],")",["T_WHITESPACE","\n    ",1149],"{",["T_WHITESPACE","\n        ",1150],["T_VARIABLE","$url",1151],["T_WHITESPACE"," ",1151],"=",["T_WHITESPACE"," ",1151],["T_VARIABLE","$this",1151],["T_OBJECT_OPERATOR","->",1151],["T_STRING","getConfigData",1151],"(",["T_CONSTANT_ENCAPSED_STRING","'tracking_xml_url'",1151],")",";",["T_WHITESPACE","\n        ",1151],["T_IF","if",1152],["T_WHITESPACE"," ",1152],"(","!",["T_VARIABLE","$url",1152],")",["T_WHITESPACE"," ",1152],"{",["T_WHITESPACE","\n            ",1152],["T_VARIABLE","$url",1153],["T_WHITESPACE"," ",1153],"=",["T_WHITESPACE"," ",1153],["T_VARIABLE","$this",1153],["T_OBJECT_OPERATOR","->",1153],["T_STRING","_defaultUrls",1153],"[",["T_CONSTANT_ENCAPSED_STRING","'Track'",1153],"]",";",["T_WHITESPACE","\n        ",1153],"}",["T_WHITESPACE","\n\n        ",1154],["T_FOREACH","foreach",1156],"(",["T_VARIABLE","$trackings",1156],["T_WHITESPACE"," ",1156],["T_AS","as",1156],["T_WHITESPACE"," ",1156],["T_VARIABLE","$tracking",1156],")","{",["T_WHITESPACE","\n            ",1156],["T_VARIABLE","$xmlRequest",1157],"=",["T_VARIABLE","$this",1157],["T_OBJECT_OPERATOR","->",1157],["T_STRING","_xmlAccessRequest",1157],";",["T_WHITESPACE","\n\n",1157],["T_COMMENT","\/*\n* RequestOption==>'activity' or '1' to request all activities\n*\/",1159],["T_WHITESPACE","\n",1161],["T_VARIABLE","$xmlRequest",1162],["T_WHITESPACE"," ",1162],["T_CONCAT_EQUAL",".=",1162],["T_WHITESPACE","  ",1162],["T_START_HEREDOC","<<<XMLAuth\n",1162],["T_ENCAPSED_AND_WHITESPACE","<?xml version=\"1.0\" ?>\n<TrackRequest xml:lang=\"en-US\">\n    <Request>\n        <RequestAction>Track<\/RequestAction>\n        <RequestOption>activity<\/RequestOption>\n    <\/Request>\n    <TrackingNumber>",1163],["T_VARIABLE","$tracking",1169],["T_ENCAPSED_AND_WHITESPACE","<\/TrackingNumber>\n    <IncludeFreight>01<\/IncludeFreight>\n<\/TrackRequest>\n",1169],["T_END_HEREDOC","XMLAuth",1172],";",["T_WHITESPACE","\n            ",1172],["T_VARIABLE","$debugData",1173],["T_WHITESPACE"," ",1173],"=",["T_WHITESPACE"," ",1173],["T_ARRAY","array",1173],"(",["T_CONSTANT_ENCAPSED_STRING","'request'",1173],["T_WHITESPACE"," ",1173],["T_DOUBLE_ARROW","=>",1173],["T_WHITESPACE"," ",1173],["T_VARIABLE","$xmlRequest",1173],")",";",["T_WHITESPACE","\n\n            ",1173],["T_TRY","try",1175],["T_WHITESPACE"," ",1175],"{",["T_WHITESPACE","\n                ",1175],["T_VARIABLE","$ch",1176],["T_WHITESPACE"," ",1176],"=",["T_WHITESPACE"," ",1176],["T_STRING","curl_init",1176],"(",")",";",["T_WHITESPACE","\n                ",1176],["T_STRING","curl_setopt",1177],"(",["T_VARIABLE","$ch",1177],",",["T_WHITESPACE"," ",1177],["T_STRING","CURLOPT_URL",1177],",",["T_WHITESPACE"," ",1177],["T_VARIABLE","$url",1177],")",";",["T_WHITESPACE","\n                ",1177],["T_STRING","curl_setopt",1178],"(",["T_VARIABLE","$ch",1178],",",["T_WHITESPACE"," ",1178],["T_STRING","CURLOPT_RETURNTRANSFER",1178],",",["T_WHITESPACE"," ",1178],["T_LNUMBER","1",1178],")",";",["T_WHITESPACE","\n                ",1178],["T_STRING","curl_setopt",1179],"(",["T_VARIABLE","$ch",1179],",",["T_WHITESPACE"," ",1179],["T_STRING","CURLOPT_HEADER",1179],",",["T_WHITESPACE"," ",1179],["T_LNUMBER","0",1179],")",";",["T_WHITESPACE","\n                ",1179],["T_STRING","curl_setopt",1180],"(",["T_VARIABLE","$ch",1180],",",["T_WHITESPACE"," ",1180],["T_STRING","CURLOPT_POST",1180],",",["T_WHITESPACE"," ",1180],["T_LNUMBER","1",1180],")",";",["T_WHITESPACE","\n                ",1180],["T_STRING","curl_setopt",1181],"(",["T_VARIABLE","$ch",1181],",",["T_WHITESPACE"," ",1181],["T_STRING","CURLOPT_POSTFIELDS",1181],",",["T_WHITESPACE"," ",1181],["T_VARIABLE","$xmlRequest",1181],")",";",["T_WHITESPACE","\n                ",1181],["T_STRING","curl_setopt",1182],"(",["T_VARIABLE","$ch",1182],",",["T_WHITESPACE"," ",1182],["T_STRING","CURLOPT_TIMEOUT",1182],",",["T_WHITESPACE"," ",1182],["T_LNUMBER","30",1182],")",";",["T_WHITESPACE","\n                ",1182],["T_VARIABLE","$xmlResponse",1183],["T_WHITESPACE"," ",1183],"=",["T_WHITESPACE"," ",1183],["T_STRING","curl_exec",1183],["T_WHITESPACE"," ",1183],"(",["T_VARIABLE","$ch",1183],")",";",["T_WHITESPACE","\n                ",1183],["T_VARIABLE","$debugData",1184],"[",["T_CONSTANT_ENCAPSED_STRING","'result'",1184],"]",["T_WHITESPACE"," ",1184],"=",["T_WHITESPACE"," ",1184],["T_VARIABLE","$xmlResponse",1184],";",["T_WHITESPACE","\n                ",1184],["T_STRING","curl_close",1185],["T_WHITESPACE"," ",1185],"(",["T_VARIABLE","$ch",1185],")",";",["T_WHITESPACE","\n            ",1185],"}",["T_WHITESPACE","\n            ",1186],["T_CATCH","catch",1187],["T_WHITESPACE"," ",1187],"(",["T_STRING","Exception",1187],["T_WHITESPACE"," ",1187],["T_VARIABLE","$e",1187],")",["T_WHITESPACE"," ",1187],"{",["T_WHITESPACE","\n                ",1187],["T_VARIABLE","$debugData",1188],"[",["T_CONSTANT_ENCAPSED_STRING","'result'",1188],"]",["T_WHITESPACE"," ",1188],"=",["T_WHITESPACE"," ",1188],["T_ARRAY","array",1188],"(",["T_CONSTANT_ENCAPSED_STRING","'error'",1188],["T_WHITESPACE"," ",1188],["T_DOUBLE_ARROW","=>",1188],["T_WHITESPACE"," ",1188],["T_VARIABLE","$e",1188],["T_OBJECT_OPERATOR","->",1188],["T_STRING","getMessage",1188],"(",")",",",["T_WHITESPACE"," ",1188],["T_CONSTANT_ENCAPSED_STRING","'code'",1188],["T_WHITESPACE"," ",1188],["T_DOUBLE_ARROW","=>",1188],["T_WHITESPACE"," ",1188],["T_VARIABLE","$e",1188],["T_OBJECT_OPERATOR","->",1188],["T_STRING","getCode",1188],"(",")",")",";",["T_WHITESPACE","\n                ",1188],["T_VARIABLE","$xmlResponse",1189],["T_WHITESPACE"," ",1189],"=",["T_WHITESPACE"," ",1189],["T_CONSTANT_ENCAPSED_STRING","''",1189],";",["T_WHITESPACE","\n            ",1189],"}",["T_WHITESPACE","\n\n            ",1190],["T_VARIABLE","$this",1192],["T_OBJECT_OPERATOR","->",1192],["T_STRING","_debug",1192],"(",["T_VARIABLE","$debugData",1192],")",";",["T_WHITESPACE","\n            ",1192],["T_VARIABLE","$this",1193],["T_OBJECT_OPERATOR","->",1193],["T_STRING","_parseXmlTrackingResponse",1193],"(",["T_VARIABLE","$tracking",1193],",",["T_WHITESPACE"," ",1193],["T_VARIABLE","$xmlResponse",1193],")",";",["T_WHITESPACE","\n        ",1193],"}",["T_WHITESPACE","\n\n        ",1194],["T_RETURN","return",1196],["T_WHITESPACE"," ",1196],["T_VARIABLE","$this",1196],["T_OBJECT_OPERATOR","->",1196],["T_STRING","_result",1196],";",["T_WHITESPACE","\n    ",1196],"}",["T_WHITESPACE","\n\n    ",1197],["T_DOC_COMMENT","\/**\n     * Parse xml tracking response\n     *\n     * @param string $trackingvalue\n     * @param string $response\n     * @return null\n     *\/",1199],["T_WHITESPACE","\n    ",1205],["T_PROTECTED","protected",1206],["T_WHITESPACE"," ",1206],["T_FUNCTION","function",1206],["T_WHITESPACE"," ",1206],["T_STRING","_parseXmlTrackingResponse",1206],"(",["T_VARIABLE","$trackingvalue",1206],",",["T_WHITESPACE"," ",1206],["T_VARIABLE","$xmlResponse",1206],")",["T_WHITESPACE","\n    ",1206],"{",["T_WHITESPACE","\n        ",1207],["T_VARIABLE","$errorTitle",1208],["T_WHITESPACE"," ",1208],"=",["T_WHITESPACE"," ",1208],["T_CONSTANT_ENCAPSED_STRING","'Unable to retrieve tracking'",1208],";",["T_WHITESPACE","\n        ",1208],["T_VARIABLE","$resultArr",1209],["T_WHITESPACE"," ",1209],"=",["T_WHITESPACE"," ",1209],["T_ARRAY","array",1209],"(",")",";",["T_WHITESPACE","\n        ",1209],["T_VARIABLE","$packageProgress",1210],["T_WHITESPACE"," ",1210],"=",["T_WHITESPACE"," ",1210],["T_ARRAY","array",1210],"(",")",";",["T_WHITESPACE","\n\n        ",1210],["T_IF","if",1212],["T_WHITESPACE"," ",1212],"(",["T_VARIABLE","$xmlResponse",1212],")",["T_WHITESPACE"," ",1212],"{",["T_WHITESPACE","\n            ",1212],["T_VARIABLE","$xml",1213],["T_WHITESPACE"," ",1213],"=",["T_WHITESPACE"," ",1213],["T_NEW","new",1213],["T_WHITESPACE"," ",1213],["T_STRING","Varien_Simplexml_Config",1213],"(",")",";",["T_WHITESPACE","\n            ",1213],["T_VARIABLE","$xml",1214],["T_OBJECT_OPERATOR","->",1214],["T_STRING","loadString",1214],"(",["T_VARIABLE","$xmlResponse",1214],")",";",["T_WHITESPACE","\n            ",1214],["T_VARIABLE","$arr",1215],["T_WHITESPACE"," ",1215],"=",["T_WHITESPACE"," ",1215],["T_VARIABLE","$xml",1215],["T_OBJECT_OPERATOR","->",1215],["T_STRING","getXpath",1215],"(",["T_CONSTANT_ENCAPSED_STRING","\"\/\/TrackResponse\/Response\/ResponseStatusCode\/text()\"",1215],")",";",["T_WHITESPACE","\n            ",1215],["T_VARIABLE","$success",1216],["T_WHITESPACE"," ",1216],"=",["T_WHITESPACE"," ",1216],["T_INT_CAST","(int)",1216],["T_VARIABLE","$arr",1216],"[",["T_LNUMBER","0",1216],"]","[",["T_LNUMBER","0",1216],"]",";",["T_WHITESPACE","\n\n            ",1216],["T_IF","if",1218],"(",["T_VARIABLE","$success",1218],["T_IS_IDENTICAL","===",1218],["T_LNUMBER","1",1218],")","{",["T_WHITESPACE","\n                ",1218],["T_VARIABLE","$arr",1219],["T_WHITESPACE"," ",1219],"=",["T_WHITESPACE"," ",1219],["T_VARIABLE","$xml",1219],["T_OBJECT_OPERATOR","->",1219],["T_STRING","getXpath",1219],"(",["T_CONSTANT_ENCAPSED_STRING","\"\/\/TrackResponse\/Shipment\/Service\/Description\/text()\"",1219],")",";",["T_WHITESPACE","\n                ",1219],["T_VARIABLE","$resultArr",1220],"[",["T_CONSTANT_ENCAPSED_STRING","'service'",1220],"]",["T_WHITESPACE"," ",1220],"=",["T_WHITESPACE"," ",1220],["T_STRING_CAST","(string)",1220],["T_VARIABLE","$arr",1220],"[",["T_LNUMBER","0",1220],"]",";",["T_WHITESPACE","\n\n                ",1220],["T_VARIABLE","$arr",1222],["T_WHITESPACE"," ",1222],"=",["T_WHITESPACE"," ",1222],["T_VARIABLE","$xml",1222],["T_OBJECT_OPERATOR","->",1222],["T_STRING","getXpath",1222],"(",["T_CONSTANT_ENCAPSED_STRING","\"\/\/TrackResponse\/Shipment\/PickupDate\/text()\"",1222],")",";",["T_WHITESPACE","\n                ",1222],["T_VARIABLE","$resultArr",1223],"[",["T_CONSTANT_ENCAPSED_STRING","'shippeddate'",1223],"]",["T_WHITESPACE"," ",1223],"=",["T_WHITESPACE"," ",1223],["T_STRING_CAST","(string)",1223],["T_VARIABLE","$arr",1223],"[",["T_LNUMBER","0",1223],"]",";",["T_WHITESPACE","\n\n                ",1223],["T_VARIABLE","$arr",1225],["T_WHITESPACE"," ",1225],"=",["T_WHITESPACE"," ",1225],["T_VARIABLE","$xml",1225],["T_OBJECT_OPERATOR","->",1225],["T_STRING","getXpath",1225],"(",["T_CONSTANT_ENCAPSED_STRING","\"\/\/TrackResponse\/Shipment\/Package\/PackageWeight\/Weight\/text()\"",1225],")",";",["T_WHITESPACE","\n                ",1225],["T_VARIABLE","$weight",1226],["T_WHITESPACE"," ",1226],"=",["T_WHITESPACE"," ",1226],["T_STRING_CAST","(string)",1226],["T_VARIABLE","$arr",1226],"[",["T_LNUMBER","0",1226],"]",";",["T_WHITESPACE","\n\n                ",1226],["T_VARIABLE","$arr",1228],["T_WHITESPACE"," ",1228],"=",["T_WHITESPACE"," ",1228],["T_VARIABLE","$xml",1228],["T_OBJECT_OPERATOR","->",1228],["T_STRING","getXpath",1228],"(",["T_CONSTANT_ENCAPSED_STRING","\"\/\/TrackResponse\/Shipment\/Package\/PackageWeight\/UnitOfMeasurement\/Code\/text()\"",1228],")",";",["T_WHITESPACE","\n                ",1228],["T_VARIABLE","$unit",1229],["T_WHITESPACE"," ",1229],"=",["T_WHITESPACE"," ",1229],["T_STRING_CAST","(string)",1229],["T_VARIABLE","$arr",1229],"[",["T_LNUMBER","0",1229],"]",";",["T_WHITESPACE","\n\n                ",1229],["T_VARIABLE","$resultArr",1231],"[",["T_CONSTANT_ENCAPSED_STRING","'weight'",1231],"]",["T_WHITESPACE"," ",1231],"=",["T_WHITESPACE"," ",1231],"\"",["T_CURLY_OPEN","{",1231],["T_VARIABLE","$weight",1231],"}",["T_ENCAPSED_AND_WHITESPACE"," ",1231],["T_CURLY_OPEN","{",1231],["T_VARIABLE","$unit",1231],"}","\"",";",["T_WHITESPACE","\n\n                ",1231],["T_VARIABLE","$activityTags",1233],["T_WHITESPACE"," ",1233],"=",["T_WHITESPACE"," ",1233],["T_VARIABLE","$xml",1233],["T_OBJECT_OPERATOR","->",1233],["T_STRING","getXpath",1233],"(",["T_CONSTANT_ENCAPSED_STRING","\"\/\/TrackResponse\/Shipment\/Package\/Activity\"",1233],")",";",["T_WHITESPACE","\n                ",1233],["T_IF","if",1234],["T_WHITESPACE"," ",1234],"(",["T_VARIABLE","$activityTags",1234],")",["T_WHITESPACE"," ",1234],"{",["T_WHITESPACE","\n                    ",1234],["T_VARIABLE","$i",1235],"=",["T_LNUMBER","1",1235],";",["T_WHITESPACE","\n                    ",1235],["T_FOREACH","foreach",1236],["T_WHITESPACE"," ",1236],"(",["T_VARIABLE","$activityTags",1236],["T_WHITESPACE"," ",1236],["T_AS","as",1236],["T_WHITESPACE"," ",1236],["T_VARIABLE","$activityTag",1236],")",["T_WHITESPACE"," ",1236],"{",["T_WHITESPACE","\n                        ",1236],["T_VARIABLE","$addArr",1237],"=",["T_ARRAY","array",1237],"(",")",";",["T_WHITESPACE","\n                        ",1237],["T_IF","if",1238],["T_WHITESPACE"," ",1238],"(",["T_ISSET","isset",1238],"(",["T_VARIABLE","$activityTag",1238],["T_OBJECT_OPERATOR","->",1238],["T_STRING","ActivityLocation",1238],["T_OBJECT_OPERATOR","->",1238],["T_STRING","Address",1238],["T_OBJECT_OPERATOR","->",1238],["T_STRING","City",1238],")",")",["T_WHITESPACE"," ",1238],"{",["T_WHITESPACE","\n                            ",1238],["T_VARIABLE","$addArr",1239],"[","]",["T_WHITESPACE"," ",1239],"=",["T_WHITESPACE"," ",1239],["T_STRING_CAST","(string)",1239],["T_VARIABLE","$activityTag",1239],["T_OBJECT_OPERATOR","->",1239],["T_STRING","ActivityLocation",1239],["T_OBJECT_OPERATOR","->",1239],["T_STRING","Address",1239],["T_OBJECT_OPERATOR","->",1239],["T_STRING","City",1239],";",["T_WHITESPACE","\n                        ",1239],"}",["T_WHITESPACE","\n                        ",1240],["T_IF","if",1241],["T_WHITESPACE"," ",1241],"(",["T_ISSET","isset",1241],"(",["T_VARIABLE","$activityTag",1241],["T_OBJECT_OPERATOR","->",1241],["T_STRING","ActivityLocation",1241],["T_OBJECT_OPERATOR","->",1241],["T_STRING","Address",1241],["T_OBJECT_OPERATOR","->",1241],["T_STRING","StateProvinceCode",1241],")",")",["T_WHITESPACE"," ",1241],"{",["T_WHITESPACE","\n                            ",1241],["T_VARIABLE","$addArr",1242],"[","]",["T_WHITESPACE"," ",1242],"=",["T_WHITESPACE"," ",1242],["T_STRING_CAST","(string)",1242],["T_VARIABLE","$activityTag",1242],["T_OBJECT_OPERATOR","->",1242],["T_STRING","ActivityLocation",1242],["T_OBJECT_OPERATOR","->",1242],["T_STRING","Address",1242],["T_OBJECT_OPERATOR","->",1242],["T_STRING","StateProvinceCode",1242],";",["T_WHITESPACE","\n                        ",1242],"}",["T_WHITESPACE","\n                        ",1243],["T_IF","if",1244],["T_WHITESPACE"," ",1244],"(",["T_ISSET","isset",1244],"(",["T_VARIABLE","$activityTag",1244],["T_OBJECT_OPERATOR","->",1244],["T_STRING","ActivityLocation",1244],["T_OBJECT_OPERATOR","->",1244],["T_STRING","Address",1244],["T_OBJECT_OPERATOR","->",1244],["T_STRING","CountryCode",1244],")",")",["T_WHITESPACE"," ",1244],"{",["T_WHITESPACE","\n                            ",1244],["T_VARIABLE","$addArr",1245],"[","]",["T_WHITESPACE"," ",1245],"=",["T_WHITESPACE"," ",1245],["T_STRING_CAST","(string)",1245],["T_VARIABLE","$activityTag",1245],["T_OBJECT_OPERATOR","->",1245],["T_STRING","ActivityLocation",1245],["T_OBJECT_OPERATOR","->",1245],["T_STRING","Address",1245],["T_OBJECT_OPERATOR","->",1245],["T_STRING","CountryCode",1245],";",["T_WHITESPACE","\n                        ",1245],"}",["T_WHITESPACE","\n                        ",1246],["T_VARIABLE","$dateArr",1247],["T_WHITESPACE"," ",1247],"=",["T_WHITESPACE"," ",1247],["T_ARRAY","array",1247],"(",")",";",["T_WHITESPACE","\n                        ",1247],["T_VARIABLE","$date",1248],["T_WHITESPACE"," ",1248],"=",["T_WHITESPACE"," ",1248],["T_STRING_CAST","(string)",1248],["T_VARIABLE","$activityTag",1248],["T_OBJECT_OPERATOR","->",1248],["T_STRING","Date",1248],";",["T_COMMENT","\/\/YYYYMMDD\n",1248],["T_WHITESPACE","                        ",1249],["T_VARIABLE","$dateArr",1249],"[","]",["T_WHITESPACE"," ",1249],"=",["T_WHITESPACE"," ",1249],["T_STRING","substr",1249],"(",["T_VARIABLE","$date",1249],",",["T_LNUMBER","0",1249],",",["T_LNUMBER","4",1249],")",";",["T_WHITESPACE","\n                        ",1249],["T_VARIABLE","$dateArr",1250],"[","]",["T_WHITESPACE"," ",1250],"=",["T_WHITESPACE"," ",1250],["T_STRING","substr",1250],"(",["T_VARIABLE","$date",1250],",",["T_LNUMBER","4",1250],",",["T_LNUMBER","2",1250],")",";",["T_WHITESPACE","\n                        ",1250],["T_VARIABLE","$dateArr",1251],"[","]",["T_WHITESPACE"," ",1251],"=",["T_WHITESPACE"," ",1251],["T_STRING","substr",1251],"(",["T_VARIABLE","$date",1251],",","-",["T_LNUMBER","2",1251],",",["T_LNUMBER","2",1251],")",";",["T_WHITESPACE","\n\n                        ",1251],["T_VARIABLE","$timeArr",1253],["T_WHITESPACE"," ",1253],"=",["T_WHITESPACE"," ",1253],["T_ARRAY","array",1253],"(",")",";",["T_WHITESPACE","\n                        ",1253],["T_VARIABLE","$time",1254],["T_WHITESPACE"," ",1254],"=",["T_WHITESPACE"," ",1254],["T_STRING_CAST","(string)",1254],["T_VARIABLE","$activityTag",1254],["T_OBJECT_OPERATOR","->",1254],["T_STRING","Time",1254],";",["T_COMMENT","\/\/HHMMSS\n",1254],["T_WHITESPACE","                        ",1255],["T_VARIABLE","$timeArr",1255],"[","]",["T_WHITESPACE"," ",1255],"=",["T_WHITESPACE"," ",1255],["T_STRING","substr",1255],"(",["T_VARIABLE","$time",1255],",",["T_LNUMBER","0",1255],",",["T_LNUMBER","2",1255],")",";",["T_WHITESPACE","\n                        ",1255],["T_VARIABLE","$timeArr",1256],"[","]",["T_WHITESPACE"," ",1256],"=",["T_WHITESPACE"," ",1256],["T_STRING","substr",1256],"(",["T_VARIABLE","$time",1256],",",["T_LNUMBER","2",1256],",",["T_LNUMBER","2",1256],")",";",["T_WHITESPACE","\n                        ",1256],["T_VARIABLE","$timeArr",1257],"[","]",["T_WHITESPACE"," ",1257],"=",["T_WHITESPACE"," ",1257],["T_STRING","substr",1257],"(",["T_VARIABLE","$time",1257],",","-",["T_LNUMBER","2",1257],",",["T_LNUMBER","2",1257],")",";",["T_WHITESPACE","\n\n                        ",1257],["T_IF","if",1259],"(",["T_VARIABLE","$i",1259],["T_IS_EQUAL","==",1259],["T_LNUMBER","1",1259],")","{",["T_WHITESPACE","\n                           ",1259],["T_VARIABLE","$resultArr",1260],"[",["T_CONSTANT_ENCAPSED_STRING","'status'",1260],"]",["T_WHITESPACE"," ",1260],"=",["T_WHITESPACE"," ",1260],["T_STRING_CAST","(string)",1260],["T_VARIABLE","$activityTag",1260],["T_OBJECT_OPERATOR","->",1260],["T_STRING","Status",1260],["T_OBJECT_OPERATOR","->",1260],["T_STRING","StatusType",1260],["T_OBJECT_OPERATOR","->",1260],["T_STRING","Description",1260],";",["T_WHITESPACE","\n                           ",1260],["T_VARIABLE","$resultArr",1261],"[",["T_CONSTANT_ENCAPSED_STRING","'deliverydate'",1261],"]",["T_WHITESPACE"," ",1261],"=",["T_WHITESPACE"," ",1261],["T_STRING","implode",1261],"(",["T_CONSTANT_ENCAPSED_STRING","'-'",1261],",",["T_VARIABLE","$dateArr",1261],")",";",["T_COMMENT","\/\/YYYY-MM-DD\n",1261],["T_WHITESPACE","                           ",1262],["T_VARIABLE","$resultArr",1262],"[",["T_CONSTANT_ENCAPSED_STRING","'deliverytime'",1262],"]",["T_WHITESPACE"," ",1262],"=",["T_WHITESPACE"," ",1262],["T_STRING","implode",1262],"(",["T_CONSTANT_ENCAPSED_STRING","':'",1262],",",["T_VARIABLE","$timeArr",1262],")",";",["T_COMMENT","\/\/HH:MM:SS\n",1262],["T_WHITESPACE","                           ",1263],["T_VARIABLE","$resultArr",1263],"[",["T_CONSTANT_ENCAPSED_STRING","'deliverylocation'",1263],"]",["T_WHITESPACE"," ",1263],"=",["T_WHITESPACE"," ",1263],["T_STRING_CAST","(string)",1263],["T_VARIABLE","$activityTag",1263],["T_OBJECT_OPERATOR","->",1263],["T_STRING","ActivityLocation",1263],["T_OBJECT_OPERATOR","->",1263],["T_STRING","Description",1263],";",["T_WHITESPACE","\n                           ",1263],["T_VARIABLE","$resultArr",1264],"[",["T_CONSTANT_ENCAPSED_STRING","'signedby'",1264],"]",["T_WHITESPACE"," ",1264],"=",["T_WHITESPACE"," ",1264],["T_STRING_CAST","(string)",1264],["T_VARIABLE","$activityTag",1264],["T_OBJECT_OPERATOR","->",1264],["T_STRING","ActivityLocation",1264],["T_OBJECT_OPERATOR","->",1264],["T_STRING","SignedForByName",1264],";",["T_WHITESPACE","\n                           ",1264],["T_IF","if",1265],["T_WHITESPACE"," ",1265],"(",["T_VARIABLE","$addArr",1265],")",["T_WHITESPACE"," ",1265],"{",["T_WHITESPACE","\n                            ",1265],["T_VARIABLE","$resultArr",1266],"[",["T_CONSTANT_ENCAPSED_STRING","'deliveryto'",1266],"]","=",["T_STRING","implode",1266],"(",["T_CONSTANT_ENCAPSED_STRING","', '",1266],",",["T_VARIABLE","$addArr",1266],")",";",["T_WHITESPACE","\n                           ",1266],"}",["T_WHITESPACE","\n                        ",1267],"}",["T_ELSE","else",1268],"{",["T_WHITESPACE","\n                           ",1268],["T_VARIABLE","$tempArr",1269],"=",["T_ARRAY","array",1269],"(",")",";",["T_WHITESPACE","\n                           ",1269],["T_VARIABLE","$tempArr",1270],"[",["T_CONSTANT_ENCAPSED_STRING","'activity'",1270],"]",["T_WHITESPACE"," ",1270],"=",["T_WHITESPACE"," ",1270],["T_STRING_CAST","(string)",1270],["T_VARIABLE","$activityTag",1270],["T_OBJECT_OPERATOR","->",1270],["T_STRING","Status",1270],["T_OBJECT_OPERATOR","->",1270],["T_STRING","StatusType",1270],["T_OBJECT_OPERATOR","->",1270],["T_STRING","Description",1270],";",["T_WHITESPACE","\n                           ",1270],["T_VARIABLE","$tempArr",1271],"[",["T_CONSTANT_ENCAPSED_STRING","'deliverydate'",1271],"]",["T_WHITESPACE"," ",1271],"=",["T_WHITESPACE"," ",1271],["T_STRING","implode",1271],"(",["T_CONSTANT_ENCAPSED_STRING","'-'",1271],",",["T_VARIABLE","$dateArr",1271],")",";",["T_COMMENT","\/\/YYYY-MM-DD\n",1271],["T_WHITESPACE","                           ",1272],["T_VARIABLE","$tempArr",1272],"[",["T_CONSTANT_ENCAPSED_STRING","'deliverytime'",1272],"]",["T_WHITESPACE"," ",1272],"=",["T_WHITESPACE"," ",1272],["T_STRING","implode",1272],"(",["T_CONSTANT_ENCAPSED_STRING","':'",1272],",",["T_VARIABLE","$timeArr",1272],")",";",["T_COMMENT","\/\/HH:MM:SS\n",1272],["T_WHITESPACE","                           ",1273],["T_IF","if",1273],["T_WHITESPACE"," ",1273],"(",["T_VARIABLE","$addArr",1273],")",["T_WHITESPACE"," ",1273],"{",["T_WHITESPACE","\n                            ",1273],["T_VARIABLE","$tempArr",1274],"[",["T_CONSTANT_ENCAPSED_STRING","'deliverylocation'",1274],"]","=",["T_STRING","implode",1274],"(",["T_CONSTANT_ENCAPSED_STRING","', '",1274],",",["T_VARIABLE","$addArr",1274],")",";",["T_WHITESPACE","\n                           ",1274],"}",["T_WHITESPACE","\n                           ",1275],["T_VARIABLE","$packageProgress",1276],"[","]",["T_WHITESPACE"," ",1276],"=",["T_WHITESPACE"," ",1276],["T_VARIABLE","$tempArr",1276],";",["T_WHITESPACE","\n                        ",1276],"}",["T_WHITESPACE","\n                        ",1277],["T_VARIABLE","$i",1278],["T_INC","++",1278],";",["T_WHITESPACE","\n                    ",1278],"}",["T_WHITESPACE","\n                    ",1279],["T_VARIABLE","$resultArr",1280],"[",["T_CONSTANT_ENCAPSED_STRING","'progressdetail'",1280],"]",["T_WHITESPACE"," ",1280],"=",["T_WHITESPACE"," ",1280],["T_VARIABLE","$packageProgress",1280],";",["T_WHITESPACE","\n                ",1280],"}",["T_WHITESPACE","\n            ",1281],"}",["T_WHITESPACE"," ",1282],["T_ELSE","else",1282],["T_WHITESPACE"," ",1282],"{",["T_WHITESPACE","\n                ",1282],["T_VARIABLE","$arr",1283],["T_WHITESPACE"," ",1283],"=",["T_WHITESPACE"," ",1283],["T_VARIABLE","$xml",1283],["T_OBJECT_OPERATOR","->",1283],["T_STRING","getXpath",1283],"(",["T_CONSTANT_ENCAPSED_STRING","\"\/\/TrackResponse\/Response\/Error\/ErrorDescription\/text()\"",1283],")",";",["T_WHITESPACE","\n                ",1283],["T_VARIABLE","$errorTitle",1284],["T_WHITESPACE"," ",1284],"=",["T_WHITESPACE"," ",1284],["T_STRING_CAST","(string)",1284],["T_VARIABLE","$arr",1284],"[",["T_LNUMBER","0",1284],"]","[",["T_LNUMBER","0",1284],"]",";",["T_WHITESPACE","\n            ",1284],"}",["T_WHITESPACE","\n        ",1285],"}",["T_WHITESPACE","\n\n        ",1286],["T_IF","if",1288],["T_WHITESPACE"," ",1288],"(","!",["T_VARIABLE","$this",1288],["T_OBJECT_OPERATOR","->",1288],["T_STRING","_result",1288],")",["T_WHITESPACE"," ",1288],"{",["T_WHITESPACE","\n            ",1288],["T_VARIABLE","$this",1289],["T_OBJECT_OPERATOR","->",1289],["T_STRING","_result",1289],["T_WHITESPACE"," ",1289],"=",["T_WHITESPACE"," ",1289],["T_STRING","Mage",1289],["T_DOUBLE_COLON","::",1289],["T_STRING","getModel",1289],"(",["T_CONSTANT_ENCAPSED_STRING","'shipping\/tracking_result'",1289],")",";",["T_WHITESPACE","\n        ",1289],"}",["T_WHITESPACE","\n\n        ",1290],["T_VARIABLE","$defaults",1292],["T_WHITESPACE"," ",1292],"=",["T_WHITESPACE"," ",1292],["T_VARIABLE","$this",1292],["T_OBJECT_OPERATOR","->",1292],["T_STRING","getDefaults",1292],"(",")",";",["T_WHITESPACE","\n\n        ",1292],["T_IF","if",1294],["T_WHITESPACE"," ",1294],"(",["T_VARIABLE","$resultArr",1294],")",["T_WHITESPACE"," ",1294],"{",["T_WHITESPACE","\n            ",1294],["T_VARIABLE","$tracking",1295],["T_WHITESPACE"," ",1295],"=",["T_WHITESPACE"," ",1295],["T_STRING","Mage",1295],["T_DOUBLE_COLON","::",1295],["T_STRING","getModel",1295],"(",["T_CONSTANT_ENCAPSED_STRING","'shipping\/tracking_result_status'",1295],")",";",["T_WHITESPACE","\n            ",1295],["T_VARIABLE","$tracking",1296],["T_OBJECT_OPERATOR","->",1296],["T_STRING","setCarrier",1296],"(",["T_CONSTANT_ENCAPSED_STRING","'ups'",1296],")",";",["T_WHITESPACE","\n            ",1296],["T_VARIABLE","$tracking",1297],["T_OBJECT_OPERATOR","->",1297],["T_STRING","setCarrierTitle",1297],"(",["T_VARIABLE","$this",1297],["T_OBJECT_OPERATOR","->",1297],["T_STRING","getConfigData",1297],"(",["T_CONSTANT_ENCAPSED_STRING","'title'",1297],")",")",";",["T_WHITESPACE","\n            ",1297],["T_VARIABLE","$tracking",1298],["T_OBJECT_OPERATOR","->",1298],["T_STRING","setTracking",1298],"(",["T_VARIABLE","$trackingvalue",1298],")",";",["T_WHITESPACE","\n            ",1298],["T_VARIABLE","$tracking",1299],["T_OBJECT_OPERATOR","->",1299],["T_STRING","addData",1299],"(",["T_VARIABLE","$resultArr",1299],")",";",["T_WHITESPACE","\n            ",1299],["T_VARIABLE","$this",1300],["T_OBJECT_OPERATOR","->",1300],["T_STRING","_result",1300],["T_OBJECT_OPERATOR","->",1300],["T_STRING","append",1300],"(",["T_VARIABLE","$tracking",1300],")",";",["T_WHITESPACE","\n        ",1300],"}",["T_WHITESPACE"," ",1301],["T_ELSE","else",1301],["T_WHITESPACE"," ",1301],"{",["T_WHITESPACE","\n            ",1301],["T_VARIABLE","$error",1302],["T_WHITESPACE"," ",1302],"=",["T_WHITESPACE"," ",1302],["T_STRING","Mage",1302],["T_DOUBLE_COLON","::",1302],["T_STRING","getModel",1302],"(",["T_CONSTANT_ENCAPSED_STRING","'shipping\/tracking_result_error'",1302],")",";",["T_WHITESPACE","\n            ",1302],["T_VARIABLE","$error",1303],["T_OBJECT_OPERATOR","->",1303],["T_STRING","setCarrier",1303],"(",["T_CONSTANT_ENCAPSED_STRING","'ups'",1303],")",";",["T_WHITESPACE","\n            ",1303],["T_VARIABLE","$error",1304],["T_OBJECT_OPERATOR","->",1304],["T_STRING","setCarrierTitle",1304],"(",["T_VARIABLE","$this",1304],["T_OBJECT_OPERATOR","->",1304],["T_STRING","getConfigData",1304],"(",["T_CONSTANT_ENCAPSED_STRING","'title'",1304],")",")",";",["T_WHITESPACE","\n            ",1304],["T_VARIABLE","$error",1305],["T_OBJECT_OPERATOR","->",1305],["T_STRING","setTracking",1305],"(",["T_VARIABLE","$trackingvalue",1305],")",";",["T_WHITESPACE","\n            ",1305],["T_VARIABLE","$error",1306],["T_OBJECT_OPERATOR","->",1306],["T_STRING","setErrorMessage",1306],"(",["T_VARIABLE","$errorTitle",1306],")",";",["T_WHITESPACE","\n            ",1306],["T_VARIABLE","$this",1307],["T_OBJECT_OPERATOR","->",1307],["T_STRING","_result",1307],["T_OBJECT_OPERATOR","->",1307],["T_STRING","append",1307],"(",["T_VARIABLE","$error",1307],")",";",["T_WHITESPACE","\n        ",1307],"}",["T_WHITESPACE","\n        ",1308],["T_RETURN","return",1309],["T_WHITESPACE"," ",1309],["T_VARIABLE","$this",1309],["T_OBJECT_OPERATOR","->",1309],["T_STRING","_result",1309],";",["T_WHITESPACE","\n    ",1309],"}",["T_WHITESPACE","\n\n    ",1310],["T_DOC_COMMENT","\/**\n     * Get tracking response\n     *\n     * @return string\n     *\/",1312],["T_WHITESPACE","\n    ",1316],["T_PUBLIC","public",1317],["T_WHITESPACE"," ",1317],["T_FUNCTION","function",1317],["T_WHITESPACE"," ",1317],["T_STRING","getResponse",1317],"(",")",["T_WHITESPACE","\n    ",1317],"{",["T_WHITESPACE","\n        ",1318],["T_VARIABLE","$statuses",1319],["T_WHITESPACE"," ",1319],"=",["T_WHITESPACE"," ",1319],["T_CONSTANT_ENCAPSED_STRING","''",1319],";",["T_WHITESPACE","\n        ",1319],["T_IF","if",1320],["T_WHITESPACE"," ",1320],"(",["T_VARIABLE","$this",1320],["T_OBJECT_OPERATOR","->",1320],["T_STRING","_result",1320],["T_WHITESPACE"," ",1320],["T_INSTANCEOF","instanceof",1320],["T_WHITESPACE"," ",1320],["T_STRING","Mage_Shipping_Model_Tracking_Result",1320],")","{",["T_WHITESPACE","\n            ",1320],["T_IF","if",1321],["T_WHITESPACE"," ",1321],"(",["T_VARIABLE","$trackings",1321],["T_WHITESPACE"," ",1321],"=",["T_WHITESPACE"," ",1321],["T_VARIABLE","$this",1321],["T_OBJECT_OPERATOR","->",1321],["T_STRING","_result",1321],["T_OBJECT_OPERATOR","->",1321],["T_STRING","getAllTrackings",1321],"(",")",")",["T_WHITESPACE"," ",1321],"{",["T_WHITESPACE","\n                ",1321],["T_FOREACH","foreach",1322],["T_WHITESPACE"," ",1322],"(",["T_VARIABLE","$trackings",1322],["T_WHITESPACE"," ",1322],["T_AS","as",1322],["T_WHITESPACE"," ",1322],["T_VARIABLE","$tracking",1322],")","{",["T_WHITESPACE","\n                    ",1322],["T_IF","if",1323],"(",["T_VARIABLE","$data",1323],["T_WHITESPACE"," ",1323],"=",["T_WHITESPACE"," ",1323],["T_VARIABLE","$tracking",1323],["T_OBJECT_OPERATOR","->",1323],["T_STRING","getAllData",1323],"(",")",")","{",["T_WHITESPACE","\n                        ",1323],["T_IF","if",1324],["T_WHITESPACE"," ",1324],"(",["T_ISSET","isset",1324],"(",["T_VARIABLE","$data",1324],"[",["T_CONSTANT_ENCAPSED_STRING","'status'",1324],"]",")",")",["T_WHITESPACE"," ",1324],"{",["T_WHITESPACE","\n                            ",1324],["T_VARIABLE","$statuses",1325],["T_WHITESPACE"," ",1325],["T_CONCAT_EQUAL",".=",1325],["T_WHITESPACE"," ",1325],["T_STRING","Mage",1325],["T_DOUBLE_COLON","::",1325],["T_STRING","helper",1325],"(",["T_CONSTANT_ENCAPSED_STRING","'usa'",1325],")",["T_OBJECT_OPERATOR","->",1325],["T_STRING","__",1325],"(",["T_VARIABLE","$data",1325],"[",["T_CONSTANT_ENCAPSED_STRING","'status'",1325],"]",")",";",["T_WHITESPACE","\n                        ",1325],"}",["T_WHITESPACE"," ",1326],["T_ELSE","else",1326],["T_WHITESPACE"," ",1326],"{",["T_WHITESPACE","\n                            ",1326],["T_VARIABLE","$statuses",1327],["T_WHITESPACE"," ",1327],["T_CONCAT_EQUAL",".=",1327],["T_WHITESPACE"," ",1327],["T_STRING","Mage",1327],["T_DOUBLE_COLON","::",1327],["T_STRING","helper",1327],"(",["T_CONSTANT_ENCAPSED_STRING","'usa'",1327],")",["T_OBJECT_OPERATOR","->",1327],["T_STRING","__",1327],"(",["T_VARIABLE","$data",1327],"[",["T_CONSTANT_ENCAPSED_STRING","'error_message'",1327],"]",")",";",["T_WHITESPACE","\n                        ",1327],"}",["T_WHITESPACE","\n                    ",1328],"}",["T_WHITESPACE","\n                ",1329],"}",["T_WHITESPACE","\n            ",1330],"}",["T_WHITESPACE","\n        ",1331],"}",["T_WHITESPACE","\n        ",1332],["T_IF","if",1333],["T_WHITESPACE"," ",1333],"(",["T_EMPTY","empty",1333],"(",["T_VARIABLE","$statuses",1333],")",")",["T_WHITESPACE"," ",1333],"{",["T_WHITESPACE","\n            ",1333],["T_VARIABLE","$statuses",1334],["T_WHITESPACE"," ",1334],"=",["T_WHITESPACE"," ",1334],["T_STRING","Mage",1334],["T_DOUBLE_COLON","::",1334],["T_STRING","helper",1334],"(",["T_CONSTANT_ENCAPSED_STRING","'usa'",1334],")",["T_OBJECT_OPERATOR","->",1334],["T_STRING","__",1334],"(",["T_CONSTANT_ENCAPSED_STRING","'Empty response'",1334],")",";",["T_WHITESPACE","\n        ",1334],"}",["T_WHITESPACE","\n        ",1335],["T_RETURN","return",1336],["T_WHITESPACE"," ",1336],["T_VARIABLE","$statuses",1336],";",["T_WHITESPACE","\n    ",1336],"}",["T_WHITESPACE","\n\n    ",1337],["T_DOC_COMMENT","\/**\n     * Get allowed shipping methods\n     *\n     * @return array\n     *\/",1339],["T_WHITESPACE","\n    ",1343],["T_PUBLIC","public",1344],["T_WHITESPACE"," ",1344],["T_FUNCTION","function",1344],["T_WHITESPACE"," ",1344],["T_STRING","getAllowedMethods",1344],"(",")",["T_WHITESPACE","\n    ",1344],"{",["T_WHITESPACE","\n         ",1345],["T_VARIABLE","$allowed",1346],["T_WHITESPACE"," ",1346],"=",["T_WHITESPACE"," ",1346],["T_STRING","explode",1346],"(",["T_CONSTANT_ENCAPSED_STRING","','",1346],",",["T_WHITESPACE"," ",1346],["T_VARIABLE","$this",1346],["T_OBJECT_OPERATOR","->",1346],["T_STRING","getConfigData",1346],"(",["T_CONSTANT_ENCAPSED_STRING","'allowed_methods'",1346],")",")",";",["T_WHITESPACE","\n         ",1346],["T_VARIABLE","$arr",1347],["T_WHITESPACE"," ",1347],"=",["T_WHITESPACE"," ",1347],["T_ARRAY","array",1347],"(",")",";",["T_WHITESPACE","\n         ",1347],["T_VARIABLE","$isByCode",1348],["T_WHITESPACE"," ",1348],"=",["T_WHITESPACE"," ",1348],["T_VARIABLE","$this",1348],["T_OBJECT_OPERATOR","->",1348],["T_STRING","getConfigData",1348],"(",["T_CONSTANT_ENCAPSED_STRING","'type'",1348],")",["T_WHITESPACE"," ",1348],["T_IS_EQUAL","==",1348],["T_WHITESPACE"," ",1348],["T_CONSTANT_ENCAPSED_STRING","'UPS_XML'",1348],";",["T_WHITESPACE","\n         ",1348],["T_FOREACH","foreach",1349],["T_WHITESPACE"," ",1349],"(",["T_VARIABLE","$allowed",1349],["T_WHITESPACE"," ",1349],["T_AS","as",1349],["T_WHITESPACE"," ",1349],["T_VARIABLE","$k",1349],")",["T_WHITESPACE"," ",1349],"{",["T_WHITESPACE","\n             ",1349],["T_VARIABLE","$arr",1350],"[",["T_VARIABLE","$k",1350],"]",["T_WHITESPACE"," ",1350],"=",["T_WHITESPACE"," ",1350],["T_VARIABLE","$isByCode",1350],["T_WHITESPACE"," ",1350],"?",["T_WHITESPACE"," ",1350],["T_VARIABLE","$this",1350],["T_OBJECT_OPERATOR","->",1350],["T_STRING","getShipmentByCode",1350],"(",["T_VARIABLE","$k",1350],")",["T_WHITESPACE"," ",1350],":",["T_WHITESPACE"," ",1350],["T_VARIABLE","$this",1350],["T_OBJECT_OPERATOR","->",1350],["T_STRING","getCode",1350],"(",["T_CONSTANT_ENCAPSED_STRING","'method'",1350],",",["T_WHITESPACE"," ",1350],["T_VARIABLE","$k",1350],")",";",["T_WHITESPACE","\n         ",1350],"}",["T_WHITESPACE","\n         ",1351],["T_RETURN","return",1352],["T_WHITESPACE"," ",1352],["T_VARIABLE","$arr",1352],";",["T_WHITESPACE","\n    ",1352],"}",["T_WHITESPACE","\n\n    ",1353],["T_DOC_COMMENT","\/**\n     * Form XML for shipment request\n     *\n     * @param Varien_Object $request\n     * @return string\n     *\/",1355],["T_WHITESPACE","\n    ",1360],["T_PROTECTED","protected",1361],["T_WHITESPACE"," ",1361],["T_FUNCTION","function",1361],["T_WHITESPACE"," ",1361],["T_STRING","_formShipmentRequest",1361],"(",["T_STRING","Varien_Object",1361],["T_WHITESPACE"," ",1361],["T_VARIABLE","$request",1361],")",["T_WHITESPACE","\n    ",1361],"{",["T_WHITESPACE","\n        ",1362],["T_VARIABLE","$packageParams",1363],["T_WHITESPACE"," ",1363],"=",["T_WHITESPACE"," ",1363],["T_VARIABLE","$request",1363],["T_OBJECT_OPERATOR","->",1363],["T_STRING","getPackageParams",1363],"(",")",";",["T_WHITESPACE","\n        ",1363],["T_VARIABLE","$height",1364],["T_WHITESPACE"," ",1364],"=",["T_WHITESPACE"," ",1364],["T_VARIABLE","$packageParams",1364],["T_OBJECT_OPERATOR","->",1364],["T_STRING","getHeight",1364],"(",")",";",["T_WHITESPACE","\n        ",1364],["T_VARIABLE","$width",1365],["T_WHITESPACE"," ",1365],"=",["T_WHITESPACE"," ",1365],["T_VARIABLE","$packageParams",1365],["T_OBJECT_OPERATOR","->",1365],["T_STRING","getWidth",1365],"(",")",";",["T_WHITESPACE","\n        ",1365],["T_VARIABLE","$length",1366],["T_WHITESPACE"," ",1366],"=",["T_WHITESPACE"," ",1366],["T_VARIABLE","$packageParams",1366],["T_OBJECT_OPERATOR","->",1366],["T_STRING","getLength",1366],"(",")",";",["T_WHITESPACE","\n        ",1366],["T_VARIABLE","$weightUnits",1367],["T_WHITESPACE"," ",1367],"=",["T_WHITESPACE"," ",1367],["T_VARIABLE","$packageParams",1367],["T_OBJECT_OPERATOR","->",1367],["T_STRING","getWeightUnits",1367],"(",")",["T_WHITESPACE"," ",1367],["T_IS_EQUAL","==",1367],["T_WHITESPACE"," ",1367],["T_STRING","Zend_Measure_Weight",1367],["T_DOUBLE_COLON","::",1367],["T_STRING","POUND",1367],["T_WHITESPACE"," ",1367],"?",["T_WHITESPACE"," ",1367],["T_CONSTANT_ENCAPSED_STRING","'LBS'",1367],["T_WHITESPACE"," ",1367],":",["T_WHITESPACE"," ",1367],["T_CONSTANT_ENCAPSED_STRING","'KGS'",1367],";",["T_WHITESPACE","\n        ",1367],["T_VARIABLE","$dimensionsUnits",1368],["T_WHITESPACE"," ",1368],"=",["T_WHITESPACE"," ",1368],["T_VARIABLE","$packageParams",1368],["T_OBJECT_OPERATOR","->",1368],["T_STRING","getDimensionUnits",1368],"(",")",["T_WHITESPACE"," ",1368],["T_IS_EQUAL","==",1368],["T_WHITESPACE"," ",1368],["T_STRING","Zend_Measure_Length",1368],["T_DOUBLE_COLON","::",1368],["T_STRING","INCH",1368],["T_WHITESPACE"," ",1368],"?",["T_WHITESPACE"," ",1368],["T_CONSTANT_ENCAPSED_STRING","'IN'",1368],["T_WHITESPACE"," ",1368],":",["T_WHITESPACE"," ",1368],["T_CONSTANT_ENCAPSED_STRING","'CM'",1368],";",["T_WHITESPACE","\n\n        ",1368],["T_VARIABLE","$itemsDesc",1370],["T_WHITESPACE"," ",1370],"=",["T_WHITESPACE"," ",1370],["T_ARRAY","array",1370],"(",")",";",["T_WHITESPACE","\n        ",1370],["T_VARIABLE","$itemsShipment",1371],["T_WHITESPACE"," ",1371],"=",["T_WHITESPACE"," ",1371],["T_VARIABLE","$request",1371],["T_OBJECT_OPERATOR","->",1371],["T_STRING","getPackageItems",1371],"(",")",";",["T_WHITESPACE","\n        ",1371],["T_FOREACH","foreach",1372],["T_WHITESPACE"," ",1372],"(",["T_VARIABLE","$itemsShipment",1372],["T_WHITESPACE"," ",1372],["T_AS","as",1372],["T_WHITESPACE"," ",1372],["T_VARIABLE","$itemShipment",1372],")",["T_WHITESPACE"," ",1372],"{",["T_WHITESPACE","\n            ",1372],["T_VARIABLE","$item",1373],["T_WHITESPACE"," ",1373],"=",["T_WHITESPACE"," ",1373],["T_NEW","new",1373],["T_WHITESPACE"," ",1373],["T_STRING","Varien_Object",1373],"(",")",";",["T_WHITESPACE","\n            ",1373],["T_VARIABLE","$item",1374],["T_OBJECT_OPERATOR","->",1374],["T_STRING","setData",1374],"(",["T_VARIABLE","$itemShipment",1374],")",";",["T_WHITESPACE","\n            ",1374],["T_VARIABLE","$itemsDesc",1375],"[","]",["T_WHITESPACE"," ",1375],"=",["T_WHITESPACE"," ",1375],["T_VARIABLE","$item",1375],["T_OBJECT_OPERATOR","->",1375],["T_STRING","getName",1375],"(",")",";",["T_WHITESPACE","\n        ",1375],"}",["T_WHITESPACE","\n\n        ",1376],["T_VARIABLE","$xmlRequest",1378],["T_WHITESPACE"," ",1378],"=",["T_WHITESPACE"," ",1378],["T_NEW","new",1378],["T_WHITESPACE"," ",1378],["T_STRING","SimpleXMLElement",1378],"(",["T_CONSTANT_ENCAPSED_STRING","'<?xml version = \"1.0\" ?><ShipmentConfirmRequest xml:lang=\"en-US\"\/>'",1378],")",";",["T_WHITESPACE","\n        ",1378],["T_VARIABLE","$requestPart",1379],["T_WHITESPACE"," ",1379],"=",["T_WHITESPACE"," ",1379],["T_VARIABLE","$xmlRequest",1379],["T_OBJECT_OPERATOR","->",1379],["T_STRING","addChild",1379],"(",["T_CONSTANT_ENCAPSED_STRING","'Request'",1379],")",";",["T_WHITESPACE","\n        ",1379],["T_VARIABLE","$requestPart",1380],["T_OBJECT_OPERATOR","->",1380],["T_STRING","addChild",1380],"(",["T_CONSTANT_ENCAPSED_STRING","'RequestAction'",1380],",",["T_WHITESPACE"," ",1380],["T_CONSTANT_ENCAPSED_STRING","'ShipConfirm'",1380],")",";",["T_WHITESPACE","\n        ",1380],["T_VARIABLE","$requestPart",1381],["T_OBJECT_OPERATOR","->",1381],["T_STRING","addChild",1381],"(",["T_CONSTANT_ENCAPSED_STRING","'RequestOption'",1381],",",["T_WHITESPACE"," ",1381],["T_CONSTANT_ENCAPSED_STRING","'nonvalidate'",1381],")",";",["T_WHITESPACE","\n\n        ",1381],["T_VARIABLE","$shipmentPart",1383],["T_WHITESPACE"," ",1383],"=",["T_WHITESPACE"," ",1383],["T_VARIABLE","$xmlRequest",1383],["T_OBJECT_OPERATOR","->",1383],["T_STRING","addChild",1383],"(",["T_CONSTANT_ENCAPSED_STRING","'Shipment'",1383],")",";",["T_WHITESPACE","\n        ",1383],["T_IF","if",1384],["T_WHITESPACE"," ",1384],"(",["T_VARIABLE","$request",1384],["T_OBJECT_OPERATOR","->",1384],["T_STRING","getIsReturn",1384],"(",")",")",["T_WHITESPACE"," ",1384],"{",["T_WHITESPACE","\n            ",1384],["T_VARIABLE","$returnPart",1385],["T_WHITESPACE"," ",1385],"=",["T_WHITESPACE"," ",1385],["T_VARIABLE","$shipmentPart",1385],["T_OBJECT_OPERATOR","->",1385],["T_STRING","addChild",1385],"(",["T_CONSTANT_ENCAPSED_STRING","'ReturnService'",1385],")",";",["T_WHITESPACE","\n            ",1385],["T_COMMENT","\/\/ UPS Print Return Label\n",1386],["T_WHITESPACE","            ",1387],["T_VARIABLE","$returnPart",1387],["T_OBJECT_OPERATOR","->",1387],["T_STRING","addChild",1387],"(",["T_CONSTANT_ENCAPSED_STRING","'Code'",1387],",",["T_WHITESPACE"," ",1387],["T_CONSTANT_ENCAPSED_STRING","'9'",1387],")",";",["T_WHITESPACE","\n        ",1387],"}",["T_WHITESPACE","\n        ",1388],["T_VARIABLE","$shipmentPart",1389],["T_OBJECT_OPERATOR","->",1389],["T_STRING","addChild",1389],"(",["T_CONSTANT_ENCAPSED_STRING","'Description'",1389],",",["T_WHITESPACE"," ",1389],["T_STRING","substr",1389],"(",["T_STRING","implode",1389],"(",["T_CONSTANT_ENCAPSED_STRING","' '",1389],",",["T_WHITESPACE"," ",1389],["T_VARIABLE","$itemsDesc",1389],")",",",["T_WHITESPACE"," ",1389],["T_LNUMBER","0",1389],",",["T_WHITESPACE"," ",1389],["T_LNUMBER","35",1389],")",")",";",["T_COMMENT","\/\/empirical\n",1389],["T_WHITESPACE","\n        ",1390],["T_VARIABLE","$shipperPart",1391],["T_WHITESPACE"," ",1391],"=",["T_WHITESPACE"," ",1391],["T_VARIABLE","$shipmentPart",1391],["T_OBJECT_OPERATOR","->",1391],["T_STRING","addChild",1391],"(",["T_CONSTANT_ENCAPSED_STRING","'Shipper'",1391],")",";",["T_WHITESPACE","\n        ",1391],["T_IF","if",1392],["T_WHITESPACE"," ",1392],"(",["T_VARIABLE","$request",1392],["T_OBJECT_OPERATOR","->",1392],["T_STRING","getIsReturn",1392],"(",")",")",["T_WHITESPACE"," ",1392],"{",["T_WHITESPACE","\n            ",1392],["T_VARIABLE","$shipperPart",1393],["T_OBJECT_OPERATOR","->",1393],["T_STRING","addChild",1393],"(",["T_CONSTANT_ENCAPSED_STRING","'Name'",1393],",",["T_WHITESPACE"," ",1393],["T_VARIABLE","$request",1393],["T_OBJECT_OPERATOR","->",1393],["T_STRING","getRecipientContactCompanyName",1393],"(",")",")",";",["T_WHITESPACE","\n            ",1393],["T_VARIABLE","$shipperPart",1394],["T_OBJECT_OPERATOR","->",1394],["T_STRING","addChild",1394],"(",["T_CONSTANT_ENCAPSED_STRING","'AttentionName'",1394],",",["T_WHITESPACE"," ",1394],["T_VARIABLE","$request",1394],["T_OBJECT_OPERATOR","->",1394],["T_STRING","getRecipientContactPersonName",1394],"(",")",")",";",["T_WHITESPACE","\n            ",1394],["T_VARIABLE","$shipperPart",1395],["T_OBJECT_OPERATOR","->",1395],["T_STRING","addChild",1395],"(",["T_CONSTANT_ENCAPSED_STRING","'ShipperNumber'",1395],",",["T_WHITESPACE"," ",1395],["T_VARIABLE","$this",1395],["T_OBJECT_OPERATOR","->",1395],["T_STRING","getConfigData",1395],"(",["T_CONSTANT_ENCAPSED_STRING","'shipper_number'",1395],")",")",";",["T_WHITESPACE","\n            ",1395],["T_VARIABLE","$shipperPart",1396],["T_OBJECT_OPERATOR","->",1396],["T_STRING","addChild",1396],"(",["T_CONSTANT_ENCAPSED_STRING","'PhoneNumber'",1396],",",["T_WHITESPACE"," ",1396],["T_VARIABLE","$request",1396],["T_OBJECT_OPERATOR","->",1396],["T_STRING","getRecipientContactPhoneNumber",1396],"(",")",")",";",["T_WHITESPACE","\n\n            ",1396],["T_VARIABLE","$addressPart",1398],["T_WHITESPACE"," ",1398],"=",["T_WHITESPACE"," ",1398],["T_VARIABLE","$shipperPart",1398],["T_OBJECT_OPERATOR","->",1398],["T_STRING","addChild",1398],"(",["T_CONSTANT_ENCAPSED_STRING","'Address'",1398],")",";",["T_WHITESPACE","\n            ",1398],["T_VARIABLE","$addressPart",1399],["T_OBJECT_OPERATOR","->",1399],["T_STRING","addChild",1399],"(",["T_CONSTANT_ENCAPSED_STRING","'AddressLine1'",1399],",",["T_WHITESPACE"," ",1399],["T_VARIABLE","$request",1399],["T_OBJECT_OPERATOR","->",1399],["T_STRING","getRecipientAddressStreet",1399],"(",")",")",";",["T_WHITESPACE","\n            ",1399],["T_VARIABLE","$addressPart",1400],["T_OBJECT_OPERATOR","->",1400],["T_STRING","addChild",1400],"(",["T_CONSTANT_ENCAPSED_STRING","'AddressLine2'",1400],",",["T_WHITESPACE"," ",1400],["T_VARIABLE","$request",1400],["T_OBJECT_OPERATOR","->",1400],["T_STRING","getRecipientAddressStreet2",1400],"(",")",")",";",["T_WHITESPACE","\n            ",1400],["T_VARIABLE","$addressPart",1401],["T_OBJECT_OPERATOR","->",1401],["T_STRING","addChild",1401],"(",["T_CONSTANT_ENCAPSED_STRING","'City'",1401],",",["T_WHITESPACE"," ",1401],["T_VARIABLE","$request",1401],["T_OBJECT_OPERATOR","->",1401],["T_STRING","getRecipientAddressCity",1401],"(",")",")",";",["T_WHITESPACE","\n            ",1401],["T_VARIABLE","$addressPart",1402],["T_OBJECT_OPERATOR","->",1402],["T_STRING","addChild",1402],"(",["T_CONSTANT_ENCAPSED_STRING","'CountryCode'",1402],",",["T_WHITESPACE"," ",1402],["T_VARIABLE","$request",1402],["T_OBJECT_OPERATOR","->",1402],["T_STRING","getRecipientAddressCountryCode",1402],"(",")",")",";",["T_WHITESPACE","\n            ",1402],["T_VARIABLE","$addressPart",1403],["T_OBJECT_OPERATOR","->",1403],["T_STRING","addChild",1403],"(",["T_CONSTANT_ENCAPSED_STRING","'PostalCode'",1403],",",["T_WHITESPACE"," ",1403],["T_VARIABLE","$request",1403],["T_OBJECT_OPERATOR","->",1403],["T_STRING","getRecipientAddressPostalCode",1403],"(",")",")",";",["T_WHITESPACE","\n            ",1403],["T_IF","if",1404],["T_WHITESPACE"," ",1404],"(",["T_VARIABLE","$request",1404],["T_OBJECT_OPERATOR","->",1404],["T_STRING","getRecipientAddressStateOrProvinceCode",1404],"(",")",")",["T_WHITESPACE"," ",1404],"{",["T_WHITESPACE","\n                ",1404],["T_VARIABLE","$addressPart",1405],["T_OBJECT_OPERATOR","->",1405],["T_STRING","addChild",1405],"(",["T_CONSTANT_ENCAPSED_STRING","'StateProvinceCode'",1405],",",["T_WHITESPACE"," ",1405],["T_VARIABLE","$request",1405],["T_OBJECT_OPERATOR","->",1405],["T_STRING","getRecipientAddressStateOrProvinceCode",1405],"(",")",")",";",["T_WHITESPACE","\n            ",1405],"}",["T_WHITESPACE","\n        ",1406],"}",["T_WHITESPACE"," ",1407],["T_ELSE","else",1407],["T_WHITESPACE"," ",1407],"{",["T_WHITESPACE","\n            ",1407],["T_VARIABLE","$shipperPart",1408],["T_OBJECT_OPERATOR","->",1408],["T_STRING","addChild",1408],"(",["T_CONSTANT_ENCAPSED_STRING","'Name'",1408],",",["T_WHITESPACE"," ",1408],["T_VARIABLE","$request",1408],["T_OBJECT_OPERATOR","->",1408],["T_STRING","getShipperContactCompanyName",1408],"(",")",")",";",["T_WHITESPACE","\n            ",1408],["T_VARIABLE","$shipperPart",1409],["T_OBJECT_OPERATOR","->",1409],["T_STRING","addChild",1409],"(",["T_CONSTANT_ENCAPSED_STRING","'AttentionName'",1409],",",["T_WHITESPACE"," ",1409],["T_VARIABLE","$request",1409],["T_OBJECT_OPERATOR","->",1409],["T_STRING","getShipperContactPersonName",1409],"(",")",")",";",["T_WHITESPACE","\n            ",1409],["T_VARIABLE","$shipperPart",1410],["T_OBJECT_OPERATOR","->",1410],["T_STRING","addChild",1410],"(",["T_CONSTANT_ENCAPSED_STRING","'ShipperNumber'",1410],",",["T_WHITESPACE"," ",1410],["T_VARIABLE","$this",1410],["T_OBJECT_OPERATOR","->",1410],["T_STRING","getConfigData",1410],"(",["T_CONSTANT_ENCAPSED_STRING","'shipper_number'",1410],")",")",";",["T_WHITESPACE","\n            ",1410],["T_VARIABLE","$shipperPart",1411],["T_OBJECT_OPERATOR","->",1411],["T_STRING","addChild",1411],"(",["T_CONSTANT_ENCAPSED_STRING","'PhoneNumber'",1411],",",["T_WHITESPACE"," ",1411],["T_VARIABLE","$request",1411],["T_OBJECT_OPERATOR","->",1411],["T_STRING","getShipperContactPhoneNumber",1411],"(",")",")",";",["T_WHITESPACE","\n\n            ",1411],["T_VARIABLE","$addressPart",1413],["T_WHITESPACE"," ",1413],"=",["T_WHITESPACE"," ",1413],["T_VARIABLE","$shipperPart",1413],["T_OBJECT_OPERATOR","->",1413],["T_STRING","addChild",1413],"(",["T_CONSTANT_ENCAPSED_STRING","'Address'",1413],")",";",["T_WHITESPACE","\n            ",1413],["T_VARIABLE","$addressPart",1414],["T_OBJECT_OPERATOR","->",1414],["T_STRING","addChild",1414],"(",["T_CONSTANT_ENCAPSED_STRING","'AddressLine1'",1414],",",["T_WHITESPACE"," ",1414],["T_VARIABLE","$request",1414],["T_OBJECT_OPERATOR","->",1414],["T_STRING","getShipperAddressStreet",1414],"(",")",")",";",["T_WHITESPACE","\n            ",1414],["T_VARIABLE","$addressPart",1415],["T_OBJECT_OPERATOR","->",1415],["T_STRING","addChild",1415],"(",["T_CONSTANT_ENCAPSED_STRING","'AddressLine2'",1415],",",["T_WHITESPACE"," ",1415],["T_VARIABLE","$request",1415],["T_OBJECT_OPERATOR","->",1415],["T_STRING","getShipperAddressStreet2",1415],"(",")",")",";",["T_WHITESPACE","\n            ",1415],["T_VARIABLE","$addressPart",1416],["T_OBJECT_OPERATOR","->",1416],["T_STRING","addChild",1416],"(",["T_CONSTANT_ENCAPSED_STRING","'City'",1416],",",["T_WHITESPACE"," ",1416],["T_VARIABLE","$request",1416],["T_OBJECT_OPERATOR","->",1416],["T_STRING","getShipperAddressCity",1416],"(",")",")",";",["T_WHITESPACE","\n            ",1416],["T_VARIABLE","$addressPart",1417],["T_OBJECT_OPERATOR","->",1417],["T_STRING","addChild",1417],"(",["T_CONSTANT_ENCAPSED_STRING","'CountryCode'",1417],",",["T_WHITESPACE"," ",1417],["T_VARIABLE","$request",1417],["T_OBJECT_OPERATOR","->",1417],["T_STRING","getShipperAddressCountryCode",1417],"(",")",")",";",["T_WHITESPACE","\n            ",1417],["T_VARIABLE","$addressPart",1418],["T_OBJECT_OPERATOR","->",1418],["T_STRING","addChild",1418],"(",["T_CONSTANT_ENCAPSED_STRING","'PostalCode'",1418],",",["T_WHITESPACE"," ",1418],["T_VARIABLE","$request",1418],["T_OBJECT_OPERATOR","->",1418],["T_STRING","getShipperAddressPostalCode",1418],"(",")",")",";",["T_WHITESPACE","\n            ",1418],["T_IF","if",1419],["T_WHITESPACE"," ",1419],"(",["T_VARIABLE","$request",1419],["T_OBJECT_OPERATOR","->",1419],["T_STRING","getShipperAddressStateOrProvinceCode",1419],"(",")",")",["T_WHITESPACE"," ",1419],"{",["T_WHITESPACE","\n                ",1419],["T_VARIABLE","$addressPart",1420],["T_OBJECT_OPERATOR","->",1420],["T_STRING","addChild",1420],"(",["T_CONSTANT_ENCAPSED_STRING","'StateProvinceCode'",1420],",",["T_WHITESPACE"," ",1420],["T_VARIABLE","$request",1420],["T_OBJECT_OPERATOR","->",1420],["T_STRING","getShipperAddressStateOrProvinceCode",1420],"(",")",")",";",["T_WHITESPACE","\n            ",1420],"}",["T_WHITESPACE","\n        ",1421],"}",["T_WHITESPACE","\n\n        ",1422],["T_VARIABLE","$shipToPart",1424],["T_WHITESPACE"," ",1424],"=",["T_WHITESPACE"," ",1424],["T_VARIABLE","$shipmentPart",1424],["T_OBJECT_OPERATOR","->",1424],["T_STRING","addChild",1424],"(",["T_CONSTANT_ENCAPSED_STRING","'ShipTo'",1424],")",";",["T_WHITESPACE","\n        ",1424],["T_VARIABLE","$shipToPart",1425],["T_OBJECT_OPERATOR","->",1425],["T_STRING","addChild",1425],"(",["T_CONSTANT_ENCAPSED_STRING","'AttentionName'",1425],",",["T_WHITESPACE"," ",1425],["T_VARIABLE","$request",1425],["T_OBJECT_OPERATOR","->",1425],["T_STRING","getRecipientContactPersonName",1425],"(",")",")",";",["T_WHITESPACE","\n        ",1425],["T_VARIABLE","$shipToPart",1426],["T_OBJECT_OPERATOR","->",1426],["T_STRING","addChild",1426],"(",["T_CONSTANT_ENCAPSED_STRING","'CompanyName'",1426],",",["T_WHITESPACE"," ",1426],["T_VARIABLE","$request",1426],["T_OBJECT_OPERATOR","->",1426],["T_STRING","getRecipientContactCompanyName",1426],"(",")",["T_WHITESPACE","\n            ",1426],"?",["T_WHITESPACE"," ",1427],["T_VARIABLE","$request",1427],["T_OBJECT_OPERATOR","->",1427],["T_STRING","getRecipientContactCompanyName",1427],"(",")",["T_WHITESPACE","\n            ",1427],":",["T_WHITESPACE"," ",1428],["T_CONSTANT_ENCAPSED_STRING","'N\/A'",1428],")",";",["T_WHITESPACE","\n        ",1428],["T_VARIABLE","$shipToPart",1429],["T_OBJECT_OPERATOR","->",1429],["T_STRING","addChild",1429],"(",["T_CONSTANT_ENCAPSED_STRING","'PhoneNumber'",1429],",",["T_WHITESPACE"," ",1429],["T_VARIABLE","$request",1429],["T_OBJECT_OPERATOR","->",1429],["T_STRING","getRecipientContactPhoneNumber",1429],"(",")",")",";",["T_WHITESPACE","\n\n        ",1429],["T_VARIABLE","$addressPart",1431],["T_WHITESPACE"," ",1431],"=",["T_WHITESPACE"," ",1431],["T_VARIABLE","$shipToPart",1431],["T_OBJECT_OPERATOR","->",1431],["T_STRING","addChild",1431],"(",["T_CONSTANT_ENCAPSED_STRING","'Address'",1431],")",";",["T_WHITESPACE","\n        ",1431],["T_VARIABLE","$addressPart",1432],["T_OBJECT_OPERATOR","->",1432],["T_STRING","addChild",1432],"(",["T_CONSTANT_ENCAPSED_STRING","'AddressLine1'",1432],",",["T_WHITESPACE"," ",1432],["T_VARIABLE","$request",1432],["T_OBJECT_OPERATOR","->",1432],["T_STRING","getRecipientAddressStreet1",1432],"(",")",")",";",["T_WHITESPACE","\n        ",1432],["T_VARIABLE","$addressPart",1433],["T_OBJECT_OPERATOR","->",1433],["T_STRING","addChild",1433],"(",["T_CONSTANT_ENCAPSED_STRING","'AddressLine2'",1433],",",["T_WHITESPACE"," ",1433],["T_VARIABLE","$request",1433],["T_OBJECT_OPERATOR","->",1433],["T_STRING","getRecipientAddressStreet2",1433],"(",")",")",";",["T_WHITESPACE","\n        ",1433],["T_VARIABLE","$addressPart",1434],["T_OBJECT_OPERATOR","->",1434],["T_STRING","addChild",1434],"(",["T_CONSTANT_ENCAPSED_STRING","'City'",1434],",",["T_WHITESPACE"," ",1434],["T_VARIABLE","$request",1434],["T_OBJECT_OPERATOR","->",1434],["T_STRING","getRecipientAddressCity",1434],"(",")",")",";",["T_WHITESPACE","\n        ",1434],["T_VARIABLE","$addressPart",1435],["T_OBJECT_OPERATOR","->",1435],["T_STRING","addChild",1435],"(",["T_CONSTANT_ENCAPSED_STRING","'CountryCode'",1435],",",["T_WHITESPACE"," ",1435],["T_VARIABLE","$request",1435],["T_OBJECT_OPERATOR","->",1435],["T_STRING","getRecipientAddressCountryCode",1435],"(",")",")",";",["T_WHITESPACE","\n        ",1435],["T_VARIABLE","$addressPart",1436],["T_OBJECT_OPERATOR","->",1436],["T_STRING","addChild",1436],"(",["T_CONSTANT_ENCAPSED_STRING","'PostalCode'",1436],",",["T_WHITESPACE"," ",1436],["T_VARIABLE","$request",1436],["T_OBJECT_OPERATOR","->",1436],["T_STRING","getRecipientAddressPostalCode",1436],"(",")",")",";",["T_WHITESPACE","\n        ",1436],["T_IF","if",1437],["T_WHITESPACE"," ",1437],"(",["T_VARIABLE","$request",1437],["T_OBJECT_OPERATOR","->",1437],["T_STRING","getRecipientAddressStateOrProvinceCode",1437],"(",")",")",["T_WHITESPACE"," ",1437],"{",["T_WHITESPACE","\n            ",1437],["T_VARIABLE","$addressPart",1438],["T_OBJECT_OPERATOR","->",1438],["T_STRING","addChild",1438],"(",["T_CONSTANT_ENCAPSED_STRING","'StateProvinceCode'",1438],",",["T_WHITESPACE"," ",1438],["T_VARIABLE","$request",1438],["T_OBJECT_OPERATOR","->",1438],["T_STRING","getRecipientAddressRegionCode",1438],"(",")",")",";",["T_WHITESPACE","\n        ",1438],"}",["T_WHITESPACE","\n        ",1439],["T_IF","if",1440],["T_WHITESPACE"," ",1440],"(",["T_VARIABLE","$this",1440],["T_OBJECT_OPERATOR","->",1440],["T_STRING","getConfigData",1440],"(",["T_CONSTANT_ENCAPSED_STRING","'dest_type'",1440],")",["T_WHITESPACE"," ",1440],["T_IS_EQUAL","==",1440],["T_WHITESPACE"," ",1440],["T_CONSTANT_ENCAPSED_STRING","'RES'",1440],")",["T_WHITESPACE"," ",1440],"{",["T_WHITESPACE","\n            ",1440],["T_VARIABLE","$addressPart",1441],["T_OBJECT_OPERATOR","->",1441],["T_STRING","addChild",1441],"(",["T_CONSTANT_ENCAPSED_STRING","'ResidentialAddress'",1441],")",";",["T_WHITESPACE","\n        ",1441],"}",["T_WHITESPACE","\n\n        ",1442],["T_IF","if",1444],["T_WHITESPACE"," ",1444],"(",["T_VARIABLE","$request",1444],["T_OBJECT_OPERATOR","->",1444],["T_STRING","getIsReturn",1444],"(",")",")",["T_WHITESPACE"," ",1444],"{",["T_WHITESPACE","\n            ",1444],["T_VARIABLE","$shipFromPart",1445],["T_WHITESPACE"," ",1445],"=",["T_WHITESPACE"," ",1445],["T_VARIABLE","$shipmentPart",1445],["T_OBJECT_OPERATOR","->",1445],["T_STRING","addChild",1445],"(",["T_CONSTANT_ENCAPSED_STRING","'ShipFrom'",1445],")",";",["T_WHITESPACE","\n            ",1445],["T_VARIABLE","$shipFromPart",1446],["T_OBJECT_OPERATOR","->",1446],["T_STRING","addChild",1446],"(",["T_CONSTANT_ENCAPSED_STRING","'AttentionName'",1446],",",["T_WHITESPACE"," ",1446],["T_VARIABLE","$request",1446],["T_OBJECT_OPERATOR","->",1446],["T_STRING","getShipperContactPersonName",1446],"(",")",")",";",["T_WHITESPACE","\n            ",1446],["T_VARIABLE","$shipFromPart",1447],["T_OBJECT_OPERATOR","->",1447],["T_STRING","addChild",1447],"(",["T_CONSTANT_ENCAPSED_STRING","'CompanyName'",1447],",",["T_WHITESPACE"," ",1447],["T_VARIABLE","$request",1447],["T_OBJECT_OPERATOR","->",1447],["T_STRING","getShipperContactCompanyName",1447],"(",")",["T_WHITESPACE","\n                ",1447],"?",["T_WHITESPACE"," ",1448],["T_VARIABLE","$request",1448],["T_OBJECT_OPERATOR","->",1448],["T_STRING","getShipperContactCompanyName",1448],"(",")",["T_WHITESPACE","\n                ",1448],":",["T_WHITESPACE"," ",1449],["T_VARIABLE","$request",1449],["T_OBJECT_OPERATOR","->",1449],["T_STRING","getShipperContactPersonName",1449],"(",")",")",";",["T_WHITESPACE","\n            ",1449],["T_VARIABLE","$shipFromAddress",1450],["T_WHITESPACE"," ",1450],"=",["T_WHITESPACE"," ",1450],["T_VARIABLE","$shipFromPart",1450],["T_OBJECT_OPERATOR","->",1450],["T_STRING","addChild",1450],"(",["T_CONSTANT_ENCAPSED_STRING","'Address'",1450],")",";",["T_WHITESPACE","\n            ",1450],["T_VARIABLE","$shipFromAddress",1451],["T_OBJECT_OPERATOR","->",1451],["T_STRING","addChild",1451],"(",["T_CONSTANT_ENCAPSED_STRING","'AddressLine1'",1451],",",["T_WHITESPACE"," ",1451],["T_VARIABLE","$request",1451],["T_OBJECT_OPERATOR","->",1451],["T_STRING","getShipperAddressStreet1",1451],"(",")",")",";",["T_WHITESPACE","\n            ",1451],["T_VARIABLE","$shipFromAddress",1452],["T_OBJECT_OPERATOR","->",1452],["T_STRING","addChild",1452],"(",["T_CONSTANT_ENCAPSED_STRING","'AddressLine2'",1452],",",["T_WHITESPACE"," ",1452],["T_VARIABLE","$request",1452],["T_OBJECT_OPERATOR","->",1452],["T_STRING","getShipperAddressStreet2",1452],"(",")",")",";",["T_WHITESPACE","\n            ",1452],["T_VARIABLE","$shipFromAddress",1453],["T_OBJECT_OPERATOR","->",1453],["T_STRING","addChild",1453],"(",["T_CONSTANT_ENCAPSED_STRING","'City'",1453],",",["T_WHITESPACE"," ",1453],["T_VARIABLE","$request",1453],["T_OBJECT_OPERATOR","->",1453],["T_STRING","getShipperAddressCity",1453],"(",")",")",";",["T_WHITESPACE","\n            ",1453],["T_VARIABLE","$shipFromAddress",1454],["T_OBJECT_OPERATOR","->",1454],["T_STRING","addChild",1454],"(",["T_CONSTANT_ENCAPSED_STRING","'CountryCode'",1454],",",["T_WHITESPACE"," ",1454],["T_VARIABLE","$request",1454],["T_OBJECT_OPERATOR","->",1454],["T_STRING","getShipperAddressCountryCode",1454],"(",")",")",";",["T_WHITESPACE","\n            ",1454],["T_VARIABLE","$shipFromAddress",1455],["T_OBJECT_OPERATOR","->",1455],["T_STRING","addChild",1455],"(",["T_CONSTANT_ENCAPSED_STRING","'PostalCode'",1455],",",["T_WHITESPACE"," ",1455],["T_VARIABLE","$request",1455],["T_OBJECT_OPERATOR","->",1455],["T_STRING","getShipperAddressPostalCode",1455],"(",")",")",";",["T_WHITESPACE","\n            ",1455],["T_IF","if",1456],["T_WHITESPACE"," ",1456],"(",["T_VARIABLE","$request",1456],["T_OBJECT_OPERATOR","->",1456],["T_STRING","getShipperAddressStateOrProvinceCode",1456],"(",")",")",["T_WHITESPACE"," ",1456],"{",["T_WHITESPACE","\n                ",1456],["T_VARIABLE","$shipFromAddress",1457],["T_OBJECT_OPERATOR","->",1457],["T_STRING","addChild",1457],"(",["T_CONSTANT_ENCAPSED_STRING","'StateProvinceCode'",1457],",",["T_WHITESPACE"," ",1457],["T_VARIABLE","$request",1457],["T_OBJECT_OPERATOR","->",1457],["T_STRING","getShipperAddressStateOrProvinceCode",1457],"(",")",")",";",["T_WHITESPACE","\n            ",1457],"}",["T_WHITESPACE","\n\n            ",1458],["T_VARIABLE","$addressPart",1460],["T_WHITESPACE"," ",1460],"=",["T_WHITESPACE"," ",1460],["T_VARIABLE","$shipToPart",1460],["T_OBJECT_OPERATOR","->",1460],["T_STRING","addChild",1460],"(",["T_CONSTANT_ENCAPSED_STRING","'Address'",1460],")",";",["T_WHITESPACE","\n            ",1460],["T_VARIABLE","$addressPart",1461],["T_OBJECT_OPERATOR","->",1461],["T_STRING","addChild",1461],"(",["T_CONSTANT_ENCAPSED_STRING","'AddressLine1'",1461],",",["T_WHITESPACE"," ",1461],["T_VARIABLE","$request",1461],["T_OBJECT_OPERATOR","->",1461],["T_STRING","getShipperAddressStreet1",1461],"(",")",")",";",["T_WHITESPACE","\n            ",1461],["T_VARIABLE","$addressPart",1462],["T_OBJECT_OPERATOR","->",1462],["T_STRING","addChild",1462],"(",["T_CONSTANT_ENCAPSED_STRING","'AddressLine2'",1462],",",["T_WHITESPACE"," ",1462],["T_VARIABLE","$request",1462],["T_OBJECT_OPERATOR","->",1462],["T_STRING","getShipperAddressStreet2",1462],"(",")",")",";",["T_WHITESPACE","\n            ",1462],["T_VARIABLE","$addressPart",1463],["T_OBJECT_OPERATOR","->",1463],["T_STRING","addChild",1463],"(",["T_CONSTANT_ENCAPSED_STRING","'City'",1463],",",["T_WHITESPACE"," ",1463],["T_VARIABLE","$request",1463],["T_OBJECT_OPERATOR","->",1463],["T_STRING","getShipperAddressCity",1463],"(",")",")",";",["T_WHITESPACE","\n            ",1463],["T_VARIABLE","$addressPart",1464],["T_OBJECT_OPERATOR","->",1464],["T_STRING","addChild",1464],"(",["T_CONSTANT_ENCAPSED_STRING","'CountryCode'",1464],",",["T_WHITESPACE"," ",1464],["T_VARIABLE","$request",1464],["T_OBJECT_OPERATOR","->",1464],["T_STRING","getShipperAddressCountryCode",1464],"(",")",")",";",["T_WHITESPACE","\n            ",1464],["T_VARIABLE","$addressPart",1465],["T_OBJECT_OPERATOR","->",1465],["T_STRING","addChild",1465],"(",["T_CONSTANT_ENCAPSED_STRING","'PostalCode'",1465],",",["T_WHITESPACE"," ",1465],["T_VARIABLE","$request",1465],["T_OBJECT_OPERATOR","->",1465],["T_STRING","getShipperAddressPostalCode",1465],"(",")",")",";",["T_WHITESPACE","\n            ",1465],["T_IF","if",1466],["T_WHITESPACE"," ",1466],"(",["T_VARIABLE","$request",1466],["T_OBJECT_OPERATOR","->",1466],["T_STRING","getShipperAddressStateOrProvinceCode",1466],"(",")",")",["T_WHITESPACE"," ",1466],"{",["T_WHITESPACE","\n                ",1466],["T_VARIABLE","$addressPart",1467],["T_OBJECT_OPERATOR","->",1467],["T_STRING","addChild",1467],"(",["T_CONSTANT_ENCAPSED_STRING","'StateProvinceCode'",1467],",",["T_WHITESPACE"," ",1467],["T_VARIABLE","$request",1467],["T_OBJECT_OPERATOR","->",1467],["T_STRING","getShipperAddressStateOrProvinceCode",1467],"(",")",")",";",["T_WHITESPACE","\n            ",1467],"}",["T_WHITESPACE","\n            ",1468],["T_IF","if",1469],["T_WHITESPACE"," ",1469],"(",["T_VARIABLE","$this",1469],["T_OBJECT_OPERATOR","->",1469],["T_STRING","getConfigData",1469],"(",["T_CONSTANT_ENCAPSED_STRING","'dest_type'",1469],")",["T_WHITESPACE"," ",1469],["T_IS_EQUAL","==",1469],["T_WHITESPACE"," ",1469],["T_CONSTANT_ENCAPSED_STRING","'RES'",1469],")",["T_WHITESPACE"," ",1469],"{",["T_WHITESPACE","\n                ",1469],["T_VARIABLE","$addressPart",1470],["T_OBJECT_OPERATOR","->",1470],["T_STRING","addChild",1470],"(",["T_CONSTANT_ENCAPSED_STRING","'ResidentialAddress'",1470],")",";",["T_WHITESPACE","\n            ",1470],"}",["T_WHITESPACE","\n        ",1471],"}",["T_WHITESPACE","\n\n        ",1472],["T_VARIABLE","$servicePart",1474],["T_WHITESPACE"," ",1474],"=",["T_WHITESPACE"," ",1474],["T_VARIABLE","$shipmentPart",1474],["T_OBJECT_OPERATOR","->",1474],["T_STRING","addChild",1474],"(",["T_CONSTANT_ENCAPSED_STRING","'Service'",1474],")",";",["T_WHITESPACE","\n        ",1474],["T_VARIABLE","$servicePart",1475],["T_OBJECT_OPERATOR","->",1475],["T_STRING","addChild",1475],"(",["T_CONSTANT_ENCAPSED_STRING","'Code'",1475],",",["T_WHITESPACE"," ",1475],["T_VARIABLE","$request",1475],["T_OBJECT_OPERATOR","->",1475],["T_STRING","getShippingMethod",1475],"(",")",")",";",["T_WHITESPACE","\n        ",1475],["T_VARIABLE","$packagePart",1476],["T_WHITESPACE"," ",1476],"=",["T_WHITESPACE"," ",1476],["T_VARIABLE","$shipmentPart",1476],["T_OBJECT_OPERATOR","->",1476],["T_STRING","addChild",1476],"(",["T_CONSTANT_ENCAPSED_STRING","'Package'",1476],")",";",["T_WHITESPACE","\n        ",1476],["T_VARIABLE","$packagePart",1477],["T_OBJECT_OPERATOR","->",1477],["T_STRING","addChild",1477],"(",["T_CONSTANT_ENCAPSED_STRING","'Description'",1477],",",["T_WHITESPACE"," ",1477],["T_STRING","substr",1477],"(",["T_STRING","implode",1477],"(",["T_CONSTANT_ENCAPSED_STRING","' '",1477],",",["T_WHITESPACE"," ",1477],["T_VARIABLE","$itemsDesc",1477],")",",",["T_WHITESPACE"," ",1477],["T_LNUMBER","0",1477],",",["T_WHITESPACE"," ",1477],["T_LNUMBER","35",1477],")",")",";",["T_COMMENT","\/\/empirical\n",1477],["T_WHITESPACE","        ",1478],["T_VARIABLE","$packagePart",1478],["T_OBJECT_OPERATOR","->",1478],["T_STRING","addChild",1478],"(",["T_CONSTANT_ENCAPSED_STRING","'PackagingType'",1478],")",["T_WHITESPACE","\n            ",1478],["T_OBJECT_OPERATOR","->",1479],["T_STRING","addChild",1479],"(",["T_CONSTANT_ENCAPSED_STRING","'Code'",1479],",",["T_WHITESPACE"," ",1479],["T_VARIABLE","$request",1479],["T_OBJECT_OPERATOR","->",1479],["T_STRING","getPackagingType",1479],"(",")",")",";",["T_WHITESPACE","\n        ",1479],["T_VARIABLE","$packageWeight",1480],["T_WHITESPACE"," ",1480],"=",["T_WHITESPACE"," ",1480],["T_VARIABLE","$packagePart",1480],["T_OBJECT_OPERATOR","->",1480],["T_STRING","addChild",1480],"(",["T_CONSTANT_ENCAPSED_STRING","'PackageWeight'",1480],")",";",["T_WHITESPACE","\n        ",1480],["T_VARIABLE","$packageWeight",1481],["T_OBJECT_OPERATOR","->",1481],["T_STRING","addChild",1481],"(",["T_CONSTANT_ENCAPSED_STRING","'Weight'",1481],",",["T_WHITESPACE"," ",1481],["T_VARIABLE","$request",1481],["T_OBJECT_OPERATOR","->",1481],["T_STRING","getPackageWeight",1481],"(",")",")",";",["T_WHITESPACE","\n        ",1481],["T_VARIABLE","$packageWeight",1482],["T_OBJECT_OPERATOR","->",1482],["T_STRING","addChild",1482],"(",["T_CONSTANT_ENCAPSED_STRING","'UnitOfMeasurement'",1482],")",["T_OBJECT_OPERATOR","->",1482],["T_STRING","addChild",1482],"(",["T_CONSTANT_ENCAPSED_STRING","'Code'",1482],",",["T_WHITESPACE"," ",1482],["T_VARIABLE","$weightUnits",1482],")",";",["T_WHITESPACE","\n\n        ",1482],["T_COMMENT","\/\/ set dimensions\n",1484],["T_WHITESPACE","        ",1485],["T_IF","if",1485],["T_WHITESPACE"," ",1485],"(",["T_VARIABLE","$length",1485],["T_WHITESPACE"," ",1485],["T_BOOLEAN_OR","||",1485],["T_WHITESPACE"," ",1485],["T_VARIABLE","$width",1485],["T_WHITESPACE"," ",1485],["T_BOOLEAN_OR","||",1485],["T_WHITESPACE"," ",1485],["T_VARIABLE","$height",1485],")",["T_WHITESPACE"," ",1485],"{",["T_WHITESPACE","\n            ",1485],["T_VARIABLE","$packageDimensions",1486],["T_WHITESPACE"," ",1486],"=",["T_WHITESPACE"," ",1486],["T_VARIABLE","$packagePart",1486],["T_OBJECT_OPERATOR","->",1486],["T_STRING","addChild",1486],"(",["T_CONSTANT_ENCAPSED_STRING","'Dimensions'",1486],")",";",["T_WHITESPACE","\n            ",1486],["T_VARIABLE","$packageDimensions",1487],["T_OBJECT_OPERATOR","->",1487],["T_STRING","addChild",1487],"(",["T_CONSTANT_ENCAPSED_STRING","'UnitOfMeasurement'",1487],")",["T_OBJECT_OPERATOR","->",1487],["T_STRING","addChild",1487],"(",["T_CONSTANT_ENCAPSED_STRING","'Code'",1487],",",["T_WHITESPACE"," ",1487],["T_VARIABLE","$dimensionsUnits",1487],")",";",["T_WHITESPACE","\n            ",1487],["T_VARIABLE","$packageDimensions",1488],["T_OBJECT_OPERATOR","->",1488],["T_STRING","addChild",1488],"(",["T_CONSTANT_ENCAPSED_STRING","'Length'",1488],",",["T_WHITESPACE"," ",1488],["T_VARIABLE","$length",1488],")",";",["T_WHITESPACE","\n            ",1488],["T_VARIABLE","$packageDimensions",1489],["T_OBJECT_OPERATOR","->",1489],["T_STRING","addChild",1489],"(",["T_CONSTANT_ENCAPSED_STRING","'Width'",1489],",",["T_WHITESPACE"," ",1489],["T_VARIABLE","$width",1489],")",";",["T_WHITESPACE","\n            ",1489],["T_VARIABLE","$packageDimensions",1490],["T_OBJECT_OPERATOR","->",1490],["T_STRING","addChild",1490],"(",["T_CONSTANT_ENCAPSED_STRING","'Height'",1490],",",["T_WHITESPACE"," ",1490],["T_VARIABLE","$height",1490],")",";",["T_WHITESPACE","\n        ",1490],"}",["T_WHITESPACE","\n\n        ",1491],["T_COMMENT","\/\/ ups support reference number only for domestic service\n",1493],["T_WHITESPACE","        ",1494],["T_IF","if",1494],["T_WHITESPACE"," ",1494],"(",["T_VARIABLE","$this",1494],["T_OBJECT_OPERATOR","->",1494],["T_STRING","_isUSCountry",1494],"(",["T_VARIABLE","$request",1494],["T_OBJECT_OPERATOR","->",1494],["T_STRING","getRecipientAddressCountryCode",1494],"(",")",")",["T_WHITESPACE","\n            ",1494],["T_BOOLEAN_AND","&&",1495],["T_WHITESPACE"," ",1495],["T_VARIABLE","$this",1495],["T_OBJECT_OPERATOR","->",1495],["T_STRING","_isUSCountry",1495],"(",["T_VARIABLE","$request",1495],["T_OBJECT_OPERATOR","->",1495],["T_STRING","getShipperAddressCountryCode",1495],"(",")",")",["T_WHITESPACE","\n        ",1495],")",["T_WHITESPACE"," ",1496],"{",["T_WHITESPACE","\n            ",1496],["T_IF","if",1497],["T_WHITESPACE"," ",1497],"(",["T_VARIABLE","$request",1497],["T_OBJECT_OPERATOR","->",1497],["T_STRING","getReferenceData",1497],"(",")",")",["T_WHITESPACE"," ",1497],"{",["T_WHITESPACE","\n                ",1497],["T_VARIABLE","$referenceData",1498],["T_WHITESPACE"," ",1498],"=",["T_WHITESPACE"," ",1498],["T_VARIABLE","$request",1498],["T_OBJECT_OPERATOR","->",1498],["T_STRING","getReferenceData",1498],"(",")",["T_WHITESPACE"," ",1498],".",["T_WHITESPACE"," ",1498],["T_VARIABLE","$request",1498],["T_OBJECT_OPERATOR","->",1498],["T_STRING","getPackageId",1498],"(",")",";",["T_WHITESPACE","\n            ",1498],"}",["T_WHITESPACE"," ",1499],["T_ELSE","else",1499],["T_WHITESPACE"," ",1499],"{",["T_WHITESPACE","\n                ",1499],["T_VARIABLE","$referenceData",1500],["T_WHITESPACE"," ",1500],"=",["T_WHITESPACE"," ",1500],["T_CONSTANT_ENCAPSED_STRING","'Order #'",1500],["T_WHITESPACE","\n                                 ",1500],".",["T_WHITESPACE"," ",1501],["T_VARIABLE","$request",1501],["T_OBJECT_OPERATOR","->",1501],["T_STRING","getOrderShipment",1501],"(",")",["T_OBJECT_OPERATOR","->",1501],["T_STRING","getOrder",1501],"(",")",["T_OBJECT_OPERATOR","->",1501],["T_STRING","getIncrementId",1501],"(",")",["T_WHITESPACE","\n                                 ",1501],".",["T_WHITESPACE"," ",1502],["T_CONSTANT_ENCAPSED_STRING","' P'",1502],["T_WHITESPACE","\n                                 ",1502],".",["T_WHITESPACE"," ",1503],["T_VARIABLE","$request",1503],["T_OBJECT_OPERATOR","->",1503],["T_STRING","getPackageId",1503],"(",")",";",["T_WHITESPACE","\n            ",1503],"}",["T_WHITESPACE","\n            ",1504],["T_VARIABLE","$referencePart",1505],["T_WHITESPACE"," ",1505],"=",["T_WHITESPACE"," ",1505],["T_VARIABLE","$packagePart",1505],["T_OBJECT_OPERATOR","->",1505],["T_STRING","addChild",1505],"(",["T_CONSTANT_ENCAPSED_STRING","'ReferenceNumber'",1505],")",";",["T_WHITESPACE","\n            ",1505],["T_VARIABLE","$referencePart",1506],["T_OBJECT_OPERATOR","->",1506],["T_STRING","addChild",1506],"(",["T_CONSTANT_ENCAPSED_STRING","'Code'",1506],",",["T_WHITESPACE"," ",1506],["T_CONSTANT_ENCAPSED_STRING","'02'",1506],")",";",["T_WHITESPACE","\n            ",1506],["T_VARIABLE","$referencePart",1507],["T_OBJECT_OPERATOR","->",1507],["T_STRING","addChild",1507],"(",["T_CONSTANT_ENCAPSED_STRING","'Value'",1507],",",["T_WHITESPACE"," ",1507],["T_VARIABLE","$referenceData",1507],")",";",["T_WHITESPACE","\n        ",1507],"}",["T_WHITESPACE","\n\n        ",1508],["T_VARIABLE","$deliveryConfirmation",1510],["T_WHITESPACE"," ",1510],"=",["T_WHITESPACE"," ",1510],["T_VARIABLE","$packageParams",1510],["T_OBJECT_OPERATOR","->",1510],["T_STRING","getDeliveryConfirmation",1510],"(",")",";",["T_WHITESPACE","\n        ",1510],["T_IF","if",1511],["T_WHITESPACE"," ",1511],"(",["T_VARIABLE","$deliveryConfirmation",1511],")",["T_WHITESPACE"," ",1511],"{",["T_WHITESPACE","\n            ",1511],["T_DOC_COMMENT","\/** @var $serviceOptionsNode SimpleXMLElement *\/",1512],["T_WHITESPACE","\n            ",1512],["T_VARIABLE","$serviceOptionsNode",1513],["T_WHITESPACE"," ",1513],"=",["T_WHITESPACE"," ",1513],["T_STRING","null",1513],";",["T_WHITESPACE","\n            ",1513],["T_SWITCH","switch",1514],["T_WHITESPACE"," ",1514],"(",["T_VARIABLE","$this",1514],["T_OBJECT_OPERATOR","->",1514],["T_STRING","_getDeliveryConfirmationLevel",1514],"(",["T_VARIABLE","$request",1514],["T_OBJECT_OPERATOR","->",1514],["T_STRING","getRecipientAddressCountryCode",1514],"(",")",")",")",["T_WHITESPACE"," ",1514],"{",["T_WHITESPACE","\n                ",1514],["T_CASE","case",1515],["T_WHITESPACE"," ",1515],["T_STRING","self",1515],["T_DOUBLE_COLON","::",1515],["T_STRING","DELIVERY_CONFIRMATION_PACKAGE",1515],":",["T_WHITESPACE","\n                    ",1515],["T_VARIABLE","$serviceOptionsNode",1516],["T_WHITESPACE"," ",1516],"=",["T_WHITESPACE"," ",1516],["T_VARIABLE","$packagePart",1516],["T_OBJECT_OPERATOR","->",1516],["T_STRING","addChild",1516],"(",["T_CONSTANT_ENCAPSED_STRING","'PackageServiceOptions'",1516],")",";",["T_WHITESPACE","\n                    ",1516],["T_BREAK","break",1517],";",["T_WHITESPACE","\n                ",1517],["T_CASE","case",1518],["T_WHITESPACE"," ",1518],["T_STRING","self",1518],["T_DOUBLE_COLON","::",1518],["T_STRING","DELIVERY_CONFIRMATION_SHIPMENT",1518],":",["T_WHITESPACE","\n                    ",1518],["T_VARIABLE","$serviceOptionsNode",1519],["T_WHITESPACE"," ",1519],"=",["T_WHITESPACE"," ",1519],["T_VARIABLE","$shipmentPart",1519],["T_OBJECT_OPERATOR","->",1519],["T_STRING","addChild",1519],"(",["T_CONSTANT_ENCAPSED_STRING","'ShipmentServiceOptions'",1519],")",";",["T_WHITESPACE","\n                    ",1519],["T_BREAK","break",1520],";",["T_WHITESPACE","\n            ",1520],"}",["T_WHITESPACE","\n            ",1521],["T_IF","if",1522],["T_WHITESPACE"," ",1522],"(","!",["T_STRING","is_null",1522],"(",["T_VARIABLE","$serviceOptionsNode",1522],")",")",["T_WHITESPACE"," ",1522],"{",["T_WHITESPACE","\n                ",1522],["T_VARIABLE","$serviceOptionsNode",1523],["T_WHITESPACE","\n                    ",1523],["T_OBJECT_OPERATOR","->",1524],["T_STRING","addChild",1524],"(",["T_CONSTANT_ENCAPSED_STRING","'DeliveryConfirmation'",1524],")",["T_WHITESPACE","\n                    ",1524],["T_OBJECT_OPERATOR","->",1525],["T_STRING","addChild",1525],"(",["T_CONSTANT_ENCAPSED_STRING","'DCISType'",1525],",",["T_WHITESPACE"," ",1525],["T_VARIABLE","$packageParams",1525],["T_OBJECT_OPERATOR","->",1525],["T_STRING","getDeliveryConfirmation",1525],"(",")",")",";",["T_WHITESPACE","\n            ",1525],"}",["T_WHITESPACE","\n        ",1526],"}",["T_WHITESPACE","\n\n        ",1527],["T_VARIABLE","$shipmentPart",1529],["T_OBJECT_OPERATOR","->",1529],["T_STRING","addChild",1529],"(",["T_CONSTANT_ENCAPSED_STRING","'PaymentInformation'",1529],")",["T_WHITESPACE","\n            ",1529],["T_OBJECT_OPERATOR","->",1530],["T_STRING","addChild",1530],"(",["T_CONSTANT_ENCAPSED_STRING","'Prepaid'",1530],")",["T_WHITESPACE","\n            ",1530],["T_OBJECT_OPERATOR","->",1531],["T_STRING","addChild",1531],"(",["T_CONSTANT_ENCAPSED_STRING","'BillShipper'",1531],")",["T_WHITESPACE","\n            ",1531],["T_OBJECT_OPERATOR","->",1532],["T_STRING","addChild",1532],"(",["T_CONSTANT_ENCAPSED_STRING","'AccountNumber'",1532],",",["T_WHITESPACE"," ",1532],["T_VARIABLE","$this",1532],["T_OBJECT_OPERATOR","->",1532],["T_STRING","getConfigData",1532],"(",["T_CONSTANT_ENCAPSED_STRING","'shipper_number'",1532],")",")",";",["T_WHITESPACE","\n\n        ",1532],["T_IF","if",1534],["T_WHITESPACE"," ",1534],"(",["T_VARIABLE","$request",1534],["T_OBJECT_OPERATOR","->",1534],["T_STRING","getPackagingType",1534],"(",")",["T_WHITESPACE"," ",1534],["T_IS_NOT_EQUAL","!=",1534],["T_WHITESPACE"," ",1534],["T_VARIABLE","$this",1534],["T_OBJECT_OPERATOR","->",1534],["T_STRING","getCode",1534],"(",["T_CONSTANT_ENCAPSED_STRING","'container'",1534],",",["T_WHITESPACE"," ",1534],["T_CONSTANT_ENCAPSED_STRING","'ULE'",1534],")",["T_WHITESPACE","\n            ",1534],["T_BOOLEAN_AND","&&",1535],["T_WHITESPACE"," ",1535],["T_VARIABLE","$request",1535],["T_OBJECT_OPERATOR","->",1535],["T_STRING","getShipperAddressCountryCode",1535],"(",")",["T_WHITESPACE"," ",1535],["T_IS_EQUAL","==",1535],["T_WHITESPACE"," ",1535],["T_STRING","Mage_Usa_Model_Shipping_Carrier_Abstract",1535],["T_DOUBLE_COLON","::",1535],["T_STRING","USA_COUNTRY_ID",1535],["T_WHITESPACE","\n            ",1535],["T_BOOLEAN_AND","&&",1536],["T_WHITESPACE"," ",1536],"(",["T_VARIABLE","$request",1536],["T_OBJECT_OPERATOR","->",1536],["T_STRING","getRecipientAddressCountryCode",1536],"(",")",["T_WHITESPACE"," ",1536],["T_IS_EQUAL","==",1536],["T_WHITESPACE"," ",1536],["T_CONSTANT_ENCAPSED_STRING","'CA'",1536],["T_WHITESPACE"," ",1536],["T_COMMENT","\/\/Canada\n",1536],["T_WHITESPACE","                ",1537],["T_BOOLEAN_OR","||",1537],["T_WHITESPACE"," ",1537],["T_VARIABLE","$request",1537],["T_OBJECT_OPERATOR","->",1537],["T_STRING","getRecipientAddressCountryCode",1537],"(",")",["T_WHITESPACE"," ",1537],["T_IS_EQUAL","==",1537],["T_WHITESPACE"," ",1537],["T_CONSTANT_ENCAPSED_STRING","'PR'",1537],["T_WHITESPACE"," ",1537],["T_COMMENT","\/\/Puerto Rico\n",1537],["T_WHITESPACE","        ",1538],")",")",["T_WHITESPACE"," ",1538],"{",["T_WHITESPACE","\n            ",1538],["T_VARIABLE","$invoiceLineTotalPart",1539],["T_WHITESPACE"," ",1539],"=",["T_WHITESPACE"," ",1539],["T_VARIABLE","$shipmentPart",1539],["T_OBJECT_OPERATOR","->",1539],["T_STRING","addChild",1539],"(",["T_CONSTANT_ENCAPSED_STRING","'InvoiceLineTotal'",1539],")",";",["T_WHITESPACE","\n            ",1539],["T_VARIABLE","$invoiceLineTotalPart",1540],["T_OBJECT_OPERATOR","->",1540],["T_STRING","addChild",1540],"(",["T_CONSTANT_ENCAPSED_STRING","'CurrencyCode'",1540],",",["T_WHITESPACE"," ",1540],["T_VARIABLE","$request",1540],["T_OBJECT_OPERATOR","->",1540],["T_STRING","getBaseCurrencyCode",1540],"(",")",")",";",["T_WHITESPACE","\n            ",1540],["T_VARIABLE","$invoiceLineTotalPart",1541],["T_OBJECT_OPERATOR","->",1541],["T_STRING","addChild",1541],"(",["T_CONSTANT_ENCAPSED_STRING","'MonetaryValue'",1541],",",["T_WHITESPACE"," ",1541],["T_STRING","ceil",1541],"(",["T_VARIABLE","$packageParams",1541],["T_OBJECT_OPERATOR","->",1541],["T_STRING","getCustomsValue",1541],"(",")",")",")",";",["T_WHITESPACE","\n        ",1541],"}",["T_WHITESPACE","\n\n        ",1542],["T_VARIABLE","$labelPart",1544],["T_WHITESPACE"," ",1544],"=",["T_WHITESPACE"," ",1544],["T_VARIABLE","$xmlRequest",1544],["T_OBJECT_OPERATOR","->",1544],["T_STRING","addChild",1544],"(",["T_CONSTANT_ENCAPSED_STRING","'LabelSpecification'",1544],")",";",["T_WHITESPACE","\n        ",1544],["T_VARIABLE","$labelPart",1545],["T_OBJECT_OPERATOR","->",1545],["T_STRING","addChild",1545],"(",["T_CONSTANT_ENCAPSED_STRING","'LabelPrintMethod'",1545],")",["T_WHITESPACE","\n                ",1545],["T_OBJECT_OPERATOR","->",1546],["T_STRING","addChild",1546],"(",["T_CONSTANT_ENCAPSED_STRING","'Code'",1546],",",["T_WHITESPACE"," ",1546],["T_CONSTANT_ENCAPSED_STRING","'GIF'",1546],")",";",["T_WHITESPACE","\n        ",1546],["T_VARIABLE","$labelPart",1547],["T_OBJECT_OPERATOR","->",1547],["T_STRING","addChild",1547],"(",["T_CONSTANT_ENCAPSED_STRING","'LabelImageFormat'",1547],")",["T_WHITESPACE","\n                ",1547],["T_OBJECT_OPERATOR","->",1548],["T_STRING","addChild",1548],"(",["T_CONSTANT_ENCAPSED_STRING","'Code'",1548],",",["T_WHITESPACE"," ",1548],["T_CONSTANT_ENCAPSED_STRING","'GIF'",1548],")",";",["T_WHITESPACE","\n\n        ",1548],["T_VARIABLE","$this",1550],["T_OBJECT_OPERATOR","->",1550],["T_STRING","setXMLAccessRequest",1550],"(",")",";",["T_WHITESPACE","\n        ",1550],["T_VARIABLE","$xmlRequest",1551],["T_WHITESPACE"," ",1551],"=",["T_WHITESPACE"," ",1551],["T_VARIABLE","$this",1551],["T_OBJECT_OPERATOR","->",1551],["T_STRING","_xmlAccessRequest",1551],["T_WHITESPACE"," ",1551],".",["T_WHITESPACE"," ",1551],["T_VARIABLE","$xmlRequest",1551],["T_OBJECT_OPERATOR","->",1551],["T_STRING","asXml",1551],"(",")",";",["T_WHITESPACE","\n        ",1551],["T_RETURN","return",1552],["T_WHITESPACE"," ",1552],["T_VARIABLE","$xmlRequest",1552],";",["T_WHITESPACE","\n    ",1552],"}",["T_WHITESPACE","\n\n    ",1553],["T_DOC_COMMENT","\/**\n     * Send and process shipment accept request\n     *\n     * @param SimpleXMLElement\n     * @return Varien_Object\n     *\/",1555],["T_WHITESPACE","\n    ",1560],["T_PROTECTED","protected",1561],["T_WHITESPACE"," ",1561],["T_FUNCTION","function",1561],["T_WHITESPACE"," ",1561],["T_STRING","_sendShipmentAcceptRequest",1561],"(",["T_STRING","SimpleXMLElement",1561],["T_WHITESPACE"," ",1561],["T_VARIABLE","$shipmentConfirmResponse",1561],")",["T_WHITESPACE","\n    ",1561],"{",["T_WHITESPACE","\n        ",1562],["T_VARIABLE","$xmlRequest",1563],["T_WHITESPACE"," ",1563],"=",["T_WHITESPACE"," ",1563],["T_NEW","new",1563],["T_WHITESPACE"," ",1563],["T_STRING","SimpleXMLElement",1563],"(",["T_CONSTANT_ENCAPSED_STRING","'<?xml version = \"1.0\" ?><ShipmentAcceptRequest\/>'",1563],")",";",["T_WHITESPACE","\n        ",1563],["T_VARIABLE","$request",1564],["T_WHITESPACE"," ",1564],"=",["T_WHITESPACE"," ",1564],["T_VARIABLE","$xmlRequest",1564],["T_OBJECT_OPERATOR","->",1564],["T_STRING","addChild",1564],"(",["T_CONSTANT_ENCAPSED_STRING","'Request'",1564],")",";",["T_WHITESPACE","\n            ",1564],["T_VARIABLE","$request",1565],["T_OBJECT_OPERATOR","->",1565],["T_STRING","addChild",1565],"(",["T_CONSTANT_ENCAPSED_STRING","'RequestAction'",1565],",",["T_WHITESPACE"," ",1565],["T_CONSTANT_ENCAPSED_STRING","'ShipAccept'",1565],")",";",["T_WHITESPACE","\n        ",1565],["T_VARIABLE","$xmlRequest",1566],["T_OBJECT_OPERATOR","->",1566],["T_STRING","addChild",1566],"(",["T_CONSTANT_ENCAPSED_STRING","'ShipmentDigest'",1566],",",["T_WHITESPACE"," ",1566],["T_VARIABLE","$shipmentConfirmResponse",1566],["T_OBJECT_OPERATOR","->",1566],["T_STRING","ShipmentDigest",1566],")",";",["T_WHITESPACE","\n\n        ",1566],["T_VARIABLE","$debugData",1568],["T_WHITESPACE"," ",1568],"=",["T_WHITESPACE"," ",1568],["T_ARRAY","array",1568],"(",["T_CONSTANT_ENCAPSED_STRING","'request'",1568],["T_WHITESPACE"," ",1568],["T_DOUBLE_ARROW","=>",1568],["T_WHITESPACE"," ",1568],["T_VARIABLE","$xmlRequest",1568],["T_OBJECT_OPERATOR","->",1568],["T_STRING","asXML",1568],"(",")",")",";",["T_WHITESPACE","\n        ",1568],["T_TRY","try",1569],["T_WHITESPACE"," ",1569],"{",["T_WHITESPACE","\n            ",1569],["T_VARIABLE","$url",1570],["T_WHITESPACE"," ",1570],"=",["T_WHITESPACE"," ",1570],["T_VARIABLE","$this",1570],["T_OBJECT_OPERATOR","->",1570],["T_STRING","getConfigData",1570],"(",["T_CONSTANT_ENCAPSED_STRING","'shipaccept_xml_url'",1570],")",";",["T_WHITESPACE","\n            ",1570],["T_IF","if",1571],["T_WHITESPACE"," ",1571],"(","!",["T_VARIABLE","$url",1571],")",["T_WHITESPACE"," ",1571],"{",["T_WHITESPACE","\n                ",1571],["T_VARIABLE","$url",1572],["T_WHITESPACE"," ",1572],"=",["T_WHITESPACE"," ",1572],["T_VARIABLE","$this",1572],["T_OBJECT_OPERATOR","->",1572],["T_STRING","_defaultUrls",1572],"[",["T_CONSTANT_ENCAPSED_STRING","'ShipAccept'",1572],"]",";",["T_WHITESPACE","\n            ",1572],"}",["T_WHITESPACE","\n\n            ",1573],["T_VARIABLE","$ch",1575],["T_WHITESPACE"," ",1575],"=",["T_WHITESPACE"," ",1575],["T_STRING","curl_init",1575],"(",["T_VARIABLE","$url",1575],")",";",["T_WHITESPACE","\n            ",1575],["T_STRING","curl_setopt",1576],"(",["T_VARIABLE","$ch",1576],",",["T_WHITESPACE"," ",1576],["T_STRING","CURLOPT_RETURNTRANSFER",1576],",",["T_WHITESPACE"," ",1576],["T_LNUMBER","1",1576],")",";",["T_WHITESPACE","\n            ",1576],["T_STRING","curl_setopt",1577],"(",["T_VARIABLE","$ch",1577],",",["T_WHITESPACE"," ",1577],["T_STRING","CURLOPT_HEADER",1577],",",["T_WHITESPACE"," ",1577],["T_LNUMBER","0",1577],")",";",["T_WHITESPACE","\n            ",1577],["T_STRING","curl_setopt",1578],"(",["T_VARIABLE","$ch",1578],",",["T_WHITESPACE"," ",1578],["T_STRING","CURLOPT_POST",1578],",",["T_WHITESPACE"," ",1578],["T_LNUMBER","1",1578],")",";",["T_WHITESPACE","\n            ",1578],["T_STRING","curl_setopt",1579],"(",["T_VARIABLE","$ch",1579],",",["T_WHITESPACE"," ",1579],["T_STRING","CURLOPT_POSTFIELDS",1579],",",["T_WHITESPACE"," ",1579],["T_VARIABLE","$this",1579],["T_OBJECT_OPERATOR","->",1579],["T_STRING","_xmlAccessRequest",1579],["T_WHITESPACE"," ",1579],".",["T_WHITESPACE"," ",1579],["T_VARIABLE","$xmlRequest",1579],["T_OBJECT_OPERATOR","->",1579],["T_STRING","asXML",1579],"(",")",")",";",["T_WHITESPACE","\n            ",1579],["T_STRING","curl_setopt",1580],"(",["T_VARIABLE","$ch",1580],",",["T_WHITESPACE"," ",1580],["T_STRING","CURLOPT_TIMEOUT",1580],",",["T_WHITESPACE"," ",1580],["T_LNUMBER","30",1580],")",";",["T_WHITESPACE","\n            ",1580],["T_STRING","curl_setopt",1581],"(",["T_VARIABLE","$ch",1581],",",["T_WHITESPACE"," ",1581],["T_STRING","CURLOPT_SSL_VERIFYPEER",1581],",",["T_WHITESPACE"," ",1581],["T_VARIABLE","$this",1581],["T_OBJECT_OPERATOR","->",1581],["T_STRING","getConfigFlag",1581],"(",["T_CONSTANT_ENCAPSED_STRING","'verify_peer'",1581],")",")",";",["T_WHITESPACE","\n            ",1581],["T_VARIABLE","$xmlResponse",1582],["T_WHITESPACE"," ",1582],"=",["T_WHITESPACE"," ",1582],["T_STRING","curl_exec",1582],["T_WHITESPACE"," ",1582],"(",["T_VARIABLE","$ch",1582],")",";",["T_WHITESPACE","\n\n            ",1582],["T_VARIABLE","$debugData",1584],"[",["T_CONSTANT_ENCAPSED_STRING","'result'",1584],"]",["T_WHITESPACE"," ",1584],"=",["T_WHITESPACE"," ",1584],["T_VARIABLE","$xmlResponse",1584],";",["T_WHITESPACE","\n            ",1584],["T_VARIABLE","$this",1585],["T_OBJECT_OPERATOR","->",1585],["T_STRING","_setCachedQuotes",1585],"(",["T_VARIABLE","$xmlRequest",1585],",",["T_WHITESPACE"," ",1585],["T_VARIABLE","$xmlResponse",1585],")",";",["T_WHITESPACE","\n        ",1585],"}",["T_WHITESPACE"," ",1586],["T_CATCH","catch",1586],["T_WHITESPACE"," ",1586],"(",["T_STRING","Exception",1586],["T_WHITESPACE"," ",1586],["T_VARIABLE","$e",1586],")",["T_WHITESPACE"," ",1586],"{",["T_WHITESPACE","\n            ",1586],["T_VARIABLE","$debugData",1587],"[",["T_CONSTANT_ENCAPSED_STRING","'result'",1587],"]",["T_WHITESPACE"," ",1587],"=",["T_WHITESPACE"," ",1587],["T_ARRAY","array",1587],"(",["T_CONSTANT_ENCAPSED_STRING","'error'",1587],["T_WHITESPACE"," ",1587],["T_DOUBLE_ARROW","=>",1587],["T_WHITESPACE"," ",1587],["T_VARIABLE","$e",1587],["T_OBJECT_OPERATOR","->",1587],["T_STRING","getMessage",1587],"(",")",",",["T_WHITESPACE"," ",1587],["T_CONSTANT_ENCAPSED_STRING","'code'",1587],["T_WHITESPACE"," ",1587],["T_DOUBLE_ARROW","=>",1587],["T_WHITESPACE"," ",1587],["T_VARIABLE","$e",1587],["T_OBJECT_OPERATOR","->",1587],["T_STRING","getCode",1587],"(",")",")",";",["T_WHITESPACE","\n            ",1587],["T_VARIABLE","$xmlResponse",1588],["T_WHITESPACE"," ",1588],"=",["T_WHITESPACE"," ",1588],["T_CONSTANT_ENCAPSED_STRING","''",1588],";",["T_WHITESPACE","\n        ",1588],"}",["T_WHITESPACE","\n\n        ",1589],["T_TRY","try",1591],["T_WHITESPACE"," ",1591],"{",["T_WHITESPACE","\n            ",1591],["T_VARIABLE","$response",1592],["T_WHITESPACE"," ",1592],"=",["T_WHITESPACE"," ",1592],["T_NEW","new",1592],["T_WHITESPACE"," ",1592],["T_STRING","SimpleXMLElement",1592],"(",["T_VARIABLE","$xmlResponse",1592],")",";",["T_WHITESPACE","\n        ",1592],"}",["T_WHITESPACE"," ",1593],["T_CATCH","catch",1593],["T_WHITESPACE"," ",1593],"(",["T_STRING","Exception",1593],["T_WHITESPACE"," ",1593],["T_VARIABLE","$e",1593],")",["T_WHITESPACE"," ",1593],"{",["T_WHITESPACE","\n            ",1593],["T_VARIABLE","$debugData",1594],"[",["T_CONSTANT_ENCAPSED_STRING","'result'",1594],"]",["T_WHITESPACE"," ",1594],"=",["T_WHITESPACE"," ",1594],["T_ARRAY","array",1594],"(",["T_CONSTANT_ENCAPSED_STRING","'error'",1594],["T_WHITESPACE"," ",1594],["T_DOUBLE_ARROW","=>",1594],["T_WHITESPACE"," ",1594],["T_VARIABLE","$e",1594],["T_OBJECT_OPERATOR","->",1594],["T_STRING","getMessage",1594],"(",")",",",["T_WHITESPACE"," ",1594],["T_CONSTANT_ENCAPSED_STRING","'code'",1594],["T_WHITESPACE"," ",1594],["T_DOUBLE_ARROW","=>",1594],["T_WHITESPACE"," ",1594],["T_VARIABLE","$e",1594],["T_OBJECT_OPERATOR","->",1594],["T_STRING","getCode",1594],"(",")",")",";",["T_WHITESPACE","\n        ",1594],"}",["T_WHITESPACE","\n\n        ",1595],["T_VARIABLE","$result",1597],["T_WHITESPACE"," ",1597],"=",["T_WHITESPACE"," ",1597],["T_NEW","new",1597],["T_WHITESPACE"," ",1597],["T_STRING","Varien_Object",1597],"(",")",";",["T_WHITESPACE","\n        ",1597],["T_IF","if",1598],["T_WHITESPACE"," ",1598],"(",["T_ISSET","isset",1598],"(",["T_VARIABLE","$response",1598],["T_OBJECT_OPERATOR","->",1598],["T_STRING","Error",1598],")",")",["T_WHITESPACE"," ",1598],"{",["T_WHITESPACE","\n            ",1598],["T_VARIABLE","$result",1599],["T_OBJECT_OPERATOR","->",1599],["T_STRING","setErrors",1599],"(",["T_STRING_CAST","(string)",1599],["T_VARIABLE","$response",1599],["T_OBJECT_OPERATOR","->",1599],["T_STRING","Error",1599],["T_OBJECT_OPERATOR","->",1599],["T_STRING","ErrorDescription",1599],")",";",["T_WHITESPACE","\n        ",1599],"}",["T_WHITESPACE"," ",1600],["T_ELSE","else",1600],["T_WHITESPACE"," ",1600],"{",["T_WHITESPACE","\n            ",1600],["T_VARIABLE","$shippingLabelContent",1601],["T_WHITESPACE"," ",1601],"=",["T_WHITESPACE"," ",1601],["T_STRING_CAST","(string)",1601],["T_VARIABLE","$response",1601],["T_OBJECT_OPERATOR","->",1601],["T_STRING","ShipmentResults",1601],["T_OBJECT_OPERATOR","->",1601],["T_STRING","PackageResults",1601],["T_OBJECT_OPERATOR","->",1601],["T_STRING","LabelImage",1601],["T_OBJECT_OPERATOR","->",1601],["T_STRING","GraphicImage",1601],";",["T_WHITESPACE","\n            ",1601],["T_VARIABLE","$trackingNumber",1602],["T_WHITESPACE","       ",1602],"=",["T_WHITESPACE"," ",1602],["T_STRING_CAST","(string)",1602],["T_VARIABLE","$response",1602],["T_OBJECT_OPERATOR","->",1602],["T_STRING","ShipmentResults",1602],["T_OBJECT_OPERATOR","->",1602],["T_STRING","PackageResults",1602],["T_OBJECT_OPERATOR","->",1602],["T_STRING","TrackingNumber",1602],";",["T_WHITESPACE","\n\n            ",1602],["T_VARIABLE","$result",1604],["T_OBJECT_OPERATOR","->",1604],["T_STRING","setShippingLabelContent",1604],"(",["T_STRING","base64_decode",1604],"(",["T_VARIABLE","$shippingLabelContent",1604],")",")",";",["T_WHITESPACE","\n            ",1604],["T_VARIABLE","$result",1605],["T_OBJECT_OPERATOR","->",1605],["T_STRING","setTrackingNumber",1605],"(",["T_VARIABLE","$trackingNumber",1605],")",";",["T_WHITESPACE","\n        ",1605],"}",["T_WHITESPACE","\n\n        ",1606],["T_VARIABLE","$this",1608],["T_OBJECT_OPERATOR","->",1608],["T_STRING","_debug",1608],"(",["T_VARIABLE","$debugData",1608],")",";",["T_WHITESPACE","\n        ",1608],["T_RETURN","return",1609],["T_WHITESPACE"," ",1609],["T_VARIABLE","$result",1609],";",["T_WHITESPACE","\n    ",1609],"}",["T_WHITESPACE","\n\n    ",1610],["T_DOC_COMMENT","\/**\n     * Do shipment request to carrier web service, obtain Print Shipping Labels and process errors in response\n     *\n     * @param Varien_Object $request\n     * @return Varien_Object\n     *\/",1612],["T_WHITESPACE","\n    ",1617],["T_PROTECTED","protected",1618],["T_WHITESPACE"," ",1618],["T_FUNCTION","function",1618],["T_WHITESPACE"," ",1618],["T_STRING","_doShipmentRequest",1618],"(",["T_STRING","Varien_Object",1618],["T_WHITESPACE"," ",1618],["T_VARIABLE","$request",1618],")",["T_WHITESPACE","\n    ",1618],"{",["T_WHITESPACE","\n        ",1619],["T_VARIABLE","$this",1620],["T_OBJECT_OPERATOR","->",1620],["T_STRING","_prepareShipmentRequest",1620],"(",["T_VARIABLE","$request",1620],")",";",["T_WHITESPACE","\n        ",1620],["T_VARIABLE","$result",1621],["T_WHITESPACE"," ",1621],"=",["T_WHITESPACE"," ",1621],["T_NEW","new",1621],["T_WHITESPACE"," ",1621],["T_STRING","Varien_Object",1621],"(",")",";",["T_WHITESPACE","\n        ",1621],["T_VARIABLE","$xmlRequest",1622],["T_WHITESPACE"," ",1622],"=",["T_WHITESPACE"," ",1622],["T_VARIABLE","$this",1622],["T_OBJECT_OPERATOR","->",1622],["T_STRING","_formShipmentRequest",1622],"(",["T_VARIABLE","$request",1622],")",";",["T_WHITESPACE","\n        ",1622],["T_VARIABLE","$xmlResponse",1623],["T_WHITESPACE"," ",1623],"=",["T_WHITESPACE"," ",1623],["T_VARIABLE","$this",1623],["T_OBJECT_OPERATOR","->",1623],["T_STRING","_getCachedQuotes",1623],"(",["T_VARIABLE","$xmlRequest",1623],")",";",["T_WHITESPACE","\n\n        ",1623],["T_IF","if",1625],["T_WHITESPACE"," ",1625],"(",["T_VARIABLE","$xmlResponse",1625],["T_WHITESPACE"," ",1625],["T_IS_IDENTICAL","===",1625],["T_WHITESPACE"," ",1625],["T_STRING","null",1625],")",["T_WHITESPACE"," ",1625],"{",["T_WHITESPACE","\n            ",1625],["T_VARIABLE","$url",1626],["T_WHITESPACE"," ",1626],"=",["T_WHITESPACE"," ",1626],["T_VARIABLE","$this",1626],["T_OBJECT_OPERATOR","->",1626],["T_STRING","getConfigData",1626],"(",["T_CONSTANT_ENCAPSED_STRING","'shipconfirm_xml_url'",1626],")",";",["T_WHITESPACE","\n            ",1626],["T_IF","if",1627],["T_WHITESPACE"," ",1627],"(","!",["T_VARIABLE","$url",1627],")",["T_WHITESPACE"," ",1627],"{",["T_WHITESPACE","\n                ",1627],["T_VARIABLE","$url",1628],["T_WHITESPACE"," ",1628],"=",["T_WHITESPACE"," ",1628],["T_VARIABLE","$this",1628],["T_OBJECT_OPERATOR","->",1628],["T_STRING","_defaultUrls",1628],"[",["T_CONSTANT_ENCAPSED_STRING","'ShipConfirm'",1628],"]",";",["T_WHITESPACE","\n            ",1628],"}",["T_WHITESPACE","\n\n            ",1629],["T_VARIABLE","$debugData",1631],["T_WHITESPACE"," ",1631],"=",["T_WHITESPACE"," ",1631],["T_ARRAY","array",1631],"(",["T_CONSTANT_ENCAPSED_STRING","'request'",1631],["T_WHITESPACE"," ",1631],["T_DOUBLE_ARROW","=>",1631],["T_WHITESPACE"," ",1631],["T_VARIABLE","$xmlRequest",1631],")",";",["T_WHITESPACE","\n            ",1631],["T_VARIABLE","$ch",1632],["T_WHITESPACE"," ",1632],"=",["T_WHITESPACE"," ",1632],["T_STRING","curl_init",1632],"(",")",";",["T_WHITESPACE","\n            ",1632],["T_STRING","curl_setopt",1633],"(",["T_VARIABLE","$ch",1633],",",["T_WHITESPACE"," ",1633],["T_STRING","CURLOPT_URL",1633],",",["T_WHITESPACE"," ",1633],["T_VARIABLE","$url",1633],")",";",["T_WHITESPACE","\n            ",1633],["T_STRING","curl_setopt",1634],"(",["T_VARIABLE","$ch",1634],",",["T_WHITESPACE"," ",1634],["T_STRING","CURLOPT_RETURNTRANSFER",1634],",",["T_WHITESPACE"," ",1634],["T_LNUMBER","1",1634],")",";",["T_WHITESPACE","\n            ",1634],["T_STRING","curl_setopt",1635],"(",["T_VARIABLE","$ch",1635],",",["T_WHITESPACE"," ",1635],["T_STRING","CURLOPT_HEADER",1635],",",["T_WHITESPACE"," ",1635],["T_LNUMBER","0",1635],")",";",["T_WHITESPACE","\n            ",1635],["T_STRING","curl_setopt",1636],"(",["T_VARIABLE","$ch",1636],",",["T_WHITESPACE"," ",1636],["T_STRING","CURLOPT_POST",1636],",",["T_WHITESPACE"," ",1636],["T_LNUMBER","1",1636],")",";",["T_WHITESPACE","\n            ",1636],["T_STRING","curl_setopt",1637],"(",["T_VARIABLE","$ch",1637],",",["T_WHITESPACE"," ",1637],["T_STRING","CURLOPT_POSTFIELDS",1637],",",["T_WHITESPACE"," ",1637],["T_VARIABLE","$xmlRequest",1637],")",";",["T_WHITESPACE","\n            ",1637],["T_STRING","curl_setopt",1638],"(",["T_VARIABLE","$ch",1638],",",["T_WHITESPACE"," ",1638],["T_STRING","CURLOPT_TIMEOUT",1638],",",["T_WHITESPACE"," ",1638],["T_LNUMBER","30",1638],")",";",["T_WHITESPACE","\n            ",1638],["T_STRING","curl_setopt",1639],"(",["T_VARIABLE","$ch",1639],",",["T_WHITESPACE"," ",1639],["T_STRING","CURLOPT_SSL_VERIFYPEER",1639],",",["T_WHITESPACE"," ",1639],["T_VARIABLE","$this",1639],["T_OBJECT_OPERATOR","->",1639],["T_STRING","getConfigFlag",1639],"(",["T_CONSTANT_ENCAPSED_STRING","'verify_peer'",1639],")",")",";",["T_WHITESPACE","\n            ",1639],["T_VARIABLE","$xmlResponse",1640],["T_WHITESPACE"," ",1640],"=",["T_WHITESPACE"," ",1640],["T_STRING","curl_exec",1640],"(",["T_VARIABLE","$ch",1640],")",";",["T_WHITESPACE","\n            ",1640],["T_IF","if",1641],["T_WHITESPACE"," ",1641],"(",["T_VARIABLE","$xmlResponse",1641],["T_WHITESPACE"," ",1641],["T_IS_IDENTICAL","===",1641],["T_WHITESPACE"," ",1641],["T_STRING","false",1641],")",["T_WHITESPACE"," ",1641],"{",["T_WHITESPACE","\n                ",1641],["T_THROW","throw",1642],["T_WHITESPACE"," ",1642],["T_NEW","new",1642],["T_WHITESPACE"," ",1642],["T_STRING","Exception",1642],"(",["T_STRING","curl_error",1642],"(",["T_VARIABLE","$ch",1642],")",")",";",["T_WHITESPACE","\n            ",1642],"}",["T_WHITESPACE"," ",1643],["T_ELSE","else",1643],["T_WHITESPACE"," ",1643],"{",["T_WHITESPACE","\n                ",1643],["T_VARIABLE","$debugData",1644],"[",["T_CONSTANT_ENCAPSED_STRING","'result'",1644],"]",["T_WHITESPACE"," ",1644],"=",["T_WHITESPACE"," ",1644],["T_VARIABLE","$xmlResponse",1644],";",["T_WHITESPACE","\n                ",1644],["T_VARIABLE","$this",1645],["T_OBJECT_OPERATOR","->",1645],["T_STRING","_setCachedQuotes",1645],"(",["T_VARIABLE","$xmlRequest",1645],",",["T_WHITESPACE"," ",1645],["T_VARIABLE","$xmlResponse",1645],")",";",["T_WHITESPACE","\n            ",1645],"}",["T_WHITESPACE","\n        ",1646],"}",["T_WHITESPACE","\n\n        ",1647],["T_TRY","try",1649],["T_WHITESPACE"," ",1649],"{",["T_WHITESPACE","\n            ",1649],["T_VARIABLE","$response",1650],["T_WHITESPACE"," ",1650],"=",["T_WHITESPACE"," ",1650],["T_NEW","new",1650],["T_WHITESPACE"," ",1650],["T_STRING","SimpleXMLElement",1650],"(",["T_VARIABLE","$xmlResponse",1650],")",";",["T_WHITESPACE","\n        ",1650],"}",["T_WHITESPACE"," ",1651],["T_CATCH","catch",1651],["T_WHITESPACE"," ",1651],"(",["T_STRING","Exception",1651],["T_WHITESPACE"," ",1651],["T_VARIABLE","$e",1651],")",["T_WHITESPACE"," ",1651],"{",["T_WHITESPACE","\n            ",1651],["T_VARIABLE","$debugData",1652],"[",["T_CONSTANT_ENCAPSED_STRING","'result'",1652],"]",["T_WHITESPACE"," ",1652],"=",["T_WHITESPACE"," ",1652],["T_ARRAY","array",1652],"(",["T_CONSTANT_ENCAPSED_STRING","'error'",1652],["T_WHITESPACE"," ",1652],["T_DOUBLE_ARROW","=>",1652],["T_WHITESPACE"," ",1652],["T_VARIABLE","$e",1652],["T_OBJECT_OPERATOR","->",1652],["T_STRING","getMessage",1652],"(",")",",",["T_WHITESPACE"," ",1652],["T_CONSTANT_ENCAPSED_STRING","'code'",1652],["T_WHITESPACE"," ",1652],["T_DOUBLE_ARROW","=>",1652],["T_WHITESPACE"," ",1652],["T_VARIABLE","$e",1652],["T_OBJECT_OPERATOR","->",1652],["T_STRING","getCode",1652],"(",")",")",";",["T_WHITESPACE","\n            ",1652],["T_VARIABLE","$result",1653],["T_OBJECT_OPERATOR","->",1653],["T_STRING","setErrors",1653],"(",["T_VARIABLE","$e",1653],["T_OBJECT_OPERATOR","->",1653],["T_STRING","getMessage",1653],"(",")",")",";",["T_WHITESPACE","\n        ",1653],"}",["T_WHITESPACE","\n\n        ",1654],["T_IF","if",1656],["T_WHITESPACE"," ",1656],"(",["T_ISSET","isset",1656],"(",["T_VARIABLE","$response",1656],["T_OBJECT_OPERATOR","->",1656],["T_STRING","Response",1656],["T_OBJECT_OPERATOR","->",1656],["T_STRING","Error",1656],")",["T_WHITESPACE","\n            ",1656],["T_BOOLEAN_AND","&&",1657],["T_WHITESPACE"," ",1657],["T_STRING","in_array",1657],"(",["T_VARIABLE","$response",1657],["T_OBJECT_OPERATOR","->",1657],["T_STRING","Response",1657],["T_OBJECT_OPERATOR","->",1657],["T_STRING","Error",1657],["T_OBJECT_OPERATOR","->",1657],["T_STRING","ErrorSeverity",1657],",",["T_WHITESPACE"," ",1657],["T_ARRAY","array",1657],"(",["T_CONSTANT_ENCAPSED_STRING","'Hard'",1657],",",["T_WHITESPACE"," ",1657],["T_CONSTANT_ENCAPSED_STRING","'Transient'",1657],")",")",["T_WHITESPACE","\n        ",1657],")",["T_WHITESPACE"," ",1658],"{",["T_WHITESPACE","\n            ",1658],["T_VARIABLE","$result",1659],["T_OBJECT_OPERATOR","->",1659],["T_STRING","setErrors",1659],"(",["T_STRING_CAST","(string)",1659],["T_VARIABLE","$response",1659],["T_OBJECT_OPERATOR","->",1659],["T_STRING","Response",1659],["T_OBJECT_OPERATOR","->",1659],["T_STRING","Error",1659],["T_OBJECT_OPERATOR","->",1659],["T_STRING","ErrorDescription",1659],")",";",["T_WHITESPACE","\n        ",1659],"}",["T_WHITESPACE","\n\n        ",1660],["T_VARIABLE","$this",1662],["T_OBJECT_OPERATOR","->",1662],["T_STRING","_debug",1662],"(",["T_VARIABLE","$debugData",1662],")",";",["T_WHITESPACE","\n\n        ",1662],["T_IF","if",1664],["T_WHITESPACE"," ",1664],"(",["T_VARIABLE","$result",1664],["T_OBJECT_OPERATOR","->",1664],["T_STRING","hasErrors",1664],"(",")",["T_WHITESPACE"," ",1664],["T_BOOLEAN_OR","||",1664],["T_WHITESPACE"," ",1664],["T_EMPTY","empty",1664],"(",["T_VARIABLE","$response",1664],")",")",["T_WHITESPACE"," ",1664],"{",["T_WHITESPACE","\n            ",1664],["T_RETURN","return",1665],["T_WHITESPACE"," ",1665],["T_VARIABLE","$result",1665],";",["T_WHITESPACE","\n        ",1665],"}",["T_WHITESPACE"," ",1666],["T_ELSE","else",1666],["T_WHITESPACE"," ",1666],"{",["T_WHITESPACE","\n            ",1666],["T_RETURN","return",1667],["T_WHITESPACE"," ",1667],["T_VARIABLE","$this",1667],["T_OBJECT_OPERATOR","->",1667],["T_STRING","_sendShipmentAcceptRequest",1667],"(",["T_VARIABLE","$response",1667],")",";",["T_WHITESPACE","\n        ",1667],"}",["T_WHITESPACE","\n    ",1668],"}",["T_WHITESPACE","\n\n    ",1669],["T_DOC_COMMENT","\/**\n     * Return container types of carrier\n     *\n     * @param Varien_Object|null $params\n     * @return array|bool\n     *\/",1671],["T_WHITESPACE","\n    ",1676],["T_PUBLIC","public",1677],["T_WHITESPACE"," ",1677],["T_FUNCTION","function",1677],["T_WHITESPACE"," ",1677],["T_STRING","getContainerTypes",1677],"(",["T_STRING","Varien_Object",1677],["T_WHITESPACE"," ",1677],["T_VARIABLE","$params",1677],["T_WHITESPACE"," ",1677],"=",["T_WHITESPACE"," ",1677],["T_STRING","null",1677],")",["T_WHITESPACE","\n    ",1677],"{",["T_WHITESPACE","\n        ",1678],["T_IF","if",1679],["T_WHITESPACE"," ",1679],"(",["T_VARIABLE","$params",1679],["T_WHITESPACE"," ",1679],["T_IS_EQUAL","==",1679],["T_WHITESPACE"," ",1679],["T_STRING","null",1679],")",["T_WHITESPACE"," ",1679],"{",["T_WHITESPACE","\n            ",1679],["T_RETURN","return",1680],["T_WHITESPACE"," ",1680],["T_VARIABLE","$this",1680],["T_OBJECT_OPERATOR","->",1680],["T_STRING","_getAllowedContainers",1680],"(",["T_VARIABLE","$params",1680],")",";",["T_WHITESPACE","\n        ",1680],"}",["T_WHITESPACE","\n        ",1681],["T_VARIABLE","$method",1682],["T_WHITESPACE","             ",1682],"=",["T_WHITESPACE"," ",1682],["T_VARIABLE","$params",1682],["T_OBJECT_OPERATOR","->",1682],["T_STRING","getMethod",1682],"(",")",";",["T_WHITESPACE","\n        ",1682],["T_VARIABLE","$countryShipper",1683],["T_WHITESPACE","     ",1683],"=",["T_WHITESPACE"," ",1683],["T_VARIABLE","$params",1683],["T_OBJECT_OPERATOR","->",1683],["T_STRING","getCountryShipper",1683],"(",")",";",["T_WHITESPACE","\n        ",1683],["T_VARIABLE","$countryRecipient",1684],["T_WHITESPACE","   ",1684],"=",["T_WHITESPACE"," ",1684],["T_VARIABLE","$params",1684],["T_OBJECT_OPERATOR","->",1684],["T_STRING","getCountryRecipient",1684],"(",")",";",["T_WHITESPACE","\n\n        ",1684],["T_IF","if",1686],["T_WHITESPACE"," ",1686],"(","(",["T_VARIABLE","$countryShipper",1686],["T_WHITESPACE"," ",1686],["T_IS_EQUAL","==",1686],["T_WHITESPACE"," ",1686],["T_STRING","self",1686],["T_DOUBLE_COLON","::",1686],["T_STRING","USA_COUNTRY_ID",1686],["T_WHITESPACE","\n            ",1686],["T_BOOLEAN_AND","&&",1687],["T_WHITESPACE"," ",1687],["T_VARIABLE","$countryRecipient",1687],["T_WHITESPACE"," ",1687],["T_IS_EQUAL","==",1687],["T_WHITESPACE"," ",1687],["T_STRING","self",1687],["T_DOUBLE_COLON","::",1687],["T_STRING","CANADA_COUNTRY_ID",1687],")",["T_WHITESPACE","\n            ",1687],["T_BOOLEAN_OR","||",1688],["T_WHITESPACE"," ",1688],"(",["T_VARIABLE","$countryShipper",1688],["T_WHITESPACE"," ",1688],["T_IS_EQUAL","==",1688],["T_WHITESPACE"," ",1688],["T_STRING","self",1688],["T_DOUBLE_COLON","::",1688],["T_STRING","CANADA_COUNTRY_ID",1688],["T_WHITESPACE","\n            ",1688],["T_BOOLEAN_AND","&&",1689],["T_WHITESPACE"," ",1689],["T_VARIABLE","$countryRecipient",1689],["T_WHITESPACE"," ",1689],["T_IS_EQUAL","==",1689],["T_WHITESPACE"," ",1689],["T_STRING","self",1689],["T_DOUBLE_COLON","::",1689],["T_STRING","USA_COUNTRY_ID",1689],")",["T_WHITESPACE","\n            ",1689],["T_BOOLEAN_OR","||",1690],["T_WHITESPACE"," ",1690],"(",["T_VARIABLE","$countryShipper",1690],["T_WHITESPACE"," ",1690],["T_IS_EQUAL","==",1690],["T_WHITESPACE"," ",1690],["T_STRING","self",1690],["T_DOUBLE_COLON","::",1690],["T_STRING","MEXICO_COUNTRY_ID",1690],["T_WHITESPACE","\n            ",1690],["T_BOOLEAN_AND","&&",1691],["T_WHITESPACE"," ",1691],["T_VARIABLE","$countryRecipient",1691],["T_WHITESPACE"," ",1691],["T_IS_EQUAL","==",1691],["T_WHITESPACE"," ",1691],["T_STRING","self",1691],["T_DOUBLE_COLON","::",1691],["T_STRING","USA_COUNTRY_ID",1691],")",["T_WHITESPACE","\n            ",1691],["T_BOOLEAN_AND","&&",1692],["T_WHITESPACE"," ",1692],["T_VARIABLE","$method",1692],["T_WHITESPACE"," ",1692],["T_IS_EQUAL","==",1692],["T_WHITESPACE"," ",1692],["T_CONSTANT_ENCAPSED_STRING","'11'",1692],["T_WHITESPACE"," ",1692],["T_COMMENT","\/\/ UPS Standard\n",1692],["T_WHITESPACE","        ",1693],")",["T_WHITESPACE"," ",1693],"{",["T_WHITESPACE","\n            ",1693],["T_VARIABLE","$containerTypes",1694],["T_WHITESPACE"," ",1694],"=",["T_WHITESPACE"," ",1694],["T_ARRAY","array",1694],"(",")",";",["T_WHITESPACE","\n            ",1694],["T_IF","if",1695],["T_WHITESPACE"," ",1695],"(",["T_VARIABLE","$method",1695],["T_WHITESPACE"," ",1695],["T_IS_EQUAL","==",1695],["T_WHITESPACE"," ",1695],["T_CONSTANT_ENCAPSED_STRING","'07'",1695],["T_WHITESPACE"," ",1695],["T_COMMENT","\/\/ Worldwide Express\n",1695],["T_WHITESPACE","                ",1696],["T_BOOLEAN_OR","||",1696],["T_WHITESPACE"," ",1696],["T_VARIABLE","$method",1696],["T_WHITESPACE"," ",1696],["T_IS_EQUAL","==",1696],["T_WHITESPACE"," ",1696],["T_CONSTANT_ENCAPSED_STRING","'08'",1696],["T_WHITESPACE"," ",1696],["T_COMMENT","\/\/ Worldwide Expedited\n",1696],["T_WHITESPACE","                ",1697],["T_BOOLEAN_OR","||",1697],["T_WHITESPACE"," ",1697],["T_VARIABLE","$method",1697],["T_WHITESPACE"," ",1697],["T_IS_EQUAL","==",1697],["T_WHITESPACE"," ",1697],["T_CONSTANT_ENCAPSED_STRING","'65'",1697],["T_WHITESPACE"," ",1697],["T_COMMENT","\/\/ Worldwide Saver\n",1697],["T_WHITESPACE","\n            ",1698],")",["T_WHITESPACE"," ",1699],"{",["T_WHITESPACE","\n                ",1699],["T_COMMENT","\/\/ Worldwide Expedited\n",1700],["T_WHITESPACE","                ",1701],["T_IF","if",1701],["T_WHITESPACE"," ",1701],"(",["T_VARIABLE","$method",1701],["T_WHITESPACE"," ",1701],["T_IS_NOT_EQUAL","!=",1701],["T_WHITESPACE"," ",1701],["T_CONSTANT_ENCAPSED_STRING","'08'",1701],")",["T_WHITESPACE"," ",1701],"{",["T_WHITESPACE","\n                    ",1701],["T_VARIABLE","$containerTypes",1702],["T_WHITESPACE"," ",1702],"=",["T_WHITESPACE"," ",1702],["T_ARRAY","array",1702],"(",["T_WHITESPACE","\n                        ",1702],["T_CONSTANT_ENCAPSED_STRING","'01'",1703],["T_WHITESPACE","   ",1703],["T_DOUBLE_ARROW","=>",1703],["T_WHITESPACE"," ",1703],["T_STRING","Mage",1703],["T_DOUBLE_COLON","::",1703],["T_STRING","helper",1703],"(",["T_CONSTANT_ENCAPSED_STRING","'usa'",1703],")",["T_OBJECT_OPERATOR","->",1703],["T_STRING","__",1703],"(",["T_CONSTANT_ENCAPSED_STRING","'UPS Letter Envelope'",1703],")",",",["T_WHITESPACE","\n                        ",1703],["T_CONSTANT_ENCAPSED_STRING","'24'",1704],["T_WHITESPACE","   ",1704],["T_DOUBLE_ARROW","=>",1704],["T_WHITESPACE"," ",1704],["T_STRING","Mage",1704],["T_DOUBLE_COLON","::",1704],["T_STRING","helper",1704],"(",["T_CONSTANT_ENCAPSED_STRING","'usa'",1704],")",["T_OBJECT_OPERATOR","->",1704],["T_STRING","__",1704],"(",["T_CONSTANT_ENCAPSED_STRING","'UPS Worldwide 25 kilo'",1704],")",",",["T_WHITESPACE","\n                        ",1704],["T_CONSTANT_ENCAPSED_STRING","'25'",1705],["T_WHITESPACE","   ",1705],["T_DOUBLE_ARROW","=>",1705],["T_WHITESPACE"," ",1705],["T_STRING","Mage",1705],["T_DOUBLE_COLON","::",1705],["T_STRING","helper",1705],"(",["T_CONSTANT_ENCAPSED_STRING","'usa'",1705],")",["T_OBJECT_OPERATOR","->",1705],["T_STRING","__",1705],"(",["T_CONSTANT_ENCAPSED_STRING","'UPS Worldwide 10 kilo'",1705],")",",",["T_WHITESPACE","\n                    ",1705],")",";",["T_WHITESPACE","\n                ",1706],"}",["T_WHITESPACE","\n                ",1707],["T_VARIABLE","$containerTypes",1708],["T_WHITESPACE"," ",1708],"=",["T_WHITESPACE"," ",1708],["T_VARIABLE","$containerTypes",1708],["T_WHITESPACE"," ",1708],"+",["T_WHITESPACE"," ",1708],["T_ARRAY","array",1708],"(",["T_WHITESPACE","\n                    ",1708],["T_CONSTANT_ENCAPSED_STRING","'03'",1709],["T_WHITESPACE","     ",1709],["T_DOUBLE_ARROW","=>",1709],["T_WHITESPACE"," ",1709],["T_STRING","Mage",1709],["T_DOUBLE_COLON","::",1709],["T_STRING","helper",1709],"(",["T_CONSTANT_ENCAPSED_STRING","'usa'",1709],")",["T_OBJECT_OPERATOR","->",1709],["T_STRING","__",1709],"(",["T_CONSTANT_ENCAPSED_STRING","'UPS Tube'",1709],")",",",["T_WHITESPACE","\n                    ",1709],["T_CONSTANT_ENCAPSED_STRING","'04'",1710],["T_WHITESPACE","    ",1710],["T_DOUBLE_ARROW","=>",1710],["T_WHITESPACE"," ",1710],["T_STRING","Mage",1710],["T_DOUBLE_COLON","::",1710],["T_STRING","helper",1710],"(",["T_CONSTANT_ENCAPSED_STRING","'usa'",1710],")",["T_OBJECT_OPERATOR","->",1710],["T_STRING","__",1710],"(",["T_CONSTANT_ENCAPSED_STRING","'PAK'",1710],")",",",["T_WHITESPACE","\n                    ",1710],["T_CONSTANT_ENCAPSED_STRING","'2a'",1711],["T_WHITESPACE","    ",1711],["T_DOUBLE_ARROW","=>",1711],["T_WHITESPACE"," ",1711],["T_STRING","Mage",1711],["T_DOUBLE_COLON","::",1711],["T_STRING","helper",1711],"(",["T_CONSTANT_ENCAPSED_STRING","'usa'",1711],")",["T_OBJECT_OPERATOR","->",1711],["T_STRING","__",1711],"(",["T_CONSTANT_ENCAPSED_STRING","'Small Express Box'",1711],")",",",["T_WHITESPACE","\n                    ",1711],["T_CONSTANT_ENCAPSED_STRING","'2b'",1712],["T_WHITESPACE","    ",1712],["T_DOUBLE_ARROW","=>",1712],["T_WHITESPACE"," ",1712],["T_STRING","Mage",1712],["T_DOUBLE_COLON","::",1712],["T_STRING","helper",1712],"(",["T_CONSTANT_ENCAPSED_STRING","'usa'",1712],")",["T_OBJECT_OPERATOR","->",1712],["T_STRING","__",1712],"(",["T_CONSTANT_ENCAPSED_STRING","'Medium Express Box'",1712],")",",",["T_WHITESPACE","\n                    ",1712],["T_CONSTANT_ENCAPSED_STRING","'2c'",1713],["T_WHITESPACE","    ",1713],["T_DOUBLE_ARROW","=>",1713],["T_WHITESPACE"," ",1713],["T_STRING","Mage",1713],["T_DOUBLE_COLON","::",1713],["T_STRING","helper",1713],"(",["T_CONSTANT_ENCAPSED_STRING","'usa'",1713],")",["T_OBJECT_OPERATOR","->",1713],["T_STRING","__",1713],"(",["T_CONSTANT_ENCAPSED_STRING","'Large Express Box'",1713],")",",",["T_WHITESPACE","\n                ",1713],")",";",["T_WHITESPACE","\n            ",1714],"}",["T_WHITESPACE","\n            ",1715],["T_RETURN","return",1716],["T_WHITESPACE"," ",1716],["T_ARRAY","array",1716],"(",["T_CONSTANT_ENCAPSED_STRING","'00'",1716],["T_WHITESPACE"," ",1716],["T_DOUBLE_ARROW","=>",1716],["T_WHITESPACE"," ",1716],["T_STRING","Mage",1716],["T_DOUBLE_COLON","::",1716],["T_STRING","helper",1716],"(",["T_CONSTANT_ENCAPSED_STRING","'usa'",1716],")",["T_OBJECT_OPERATOR","->",1716],["T_STRING","__",1716],"(",["T_CONSTANT_ENCAPSED_STRING","'Customer Packaging'",1716],")",")",["T_WHITESPACE"," ",1716],"+",["T_WHITESPACE"," ",1716],["T_VARIABLE","$containerTypes",1716],";",["T_WHITESPACE","\n        ",1716],"}",["T_WHITESPACE"," ",1717],["T_ELSEIF","elseif",1717],["T_WHITESPACE"," ",1717],"(",["T_VARIABLE","$countryShipper",1717],["T_WHITESPACE"," ",1717],["T_IS_EQUAL","==",1717],["T_WHITESPACE"," ",1717],["T_STRING","self",1717],["T_DOUBLE_COLON","::",1717],["T_STRING","USA_COUNTRY_ID",1717],["T_WHITESPACE"," ",1717],["T_BOOLEAN_AND","&&",1717],["T_WHITESPACE"," ",1717],["T_VARIABLE","$countryRecipient",1717],["T_WHITESPACE"," ",1717],["T_IS_EQUAL","==",1717],["T_WHITESPACE"," ",1717],["T_STRING","self",1717],["T_DOUBLE_COLON","::",1717],["T_STRING","PUERTORICO_COUNTRY_ID",1717],["T_WHITESPACE","\n            ",1717],["T_BOOLEAN_AND","&&",1718],["T_WHITESPACE"," ",1718],"(",["T_VARIABLE","$method",1718],["T_WHITESPACE"," ",1718],["T_IS_EQUAL","==",1718],["T_WHITESPACE"," ",1718],["T_CONSTANT_ENCAPSED_STRING","'03'",1718],["T_WHITESPACE"," ",1718],["T_COMMENT","\/\/ UPS Ground\n",1718],["T_WHITESPACE","            ",1719],["T_BOOLEAN_OR","||",1719],["T_WHITESPACE"," ",1719],["T_VARIABLE","$method",1719],["T_WHITESPACE"," ",1719],["T_IS_EQUAL","==",1719],["T_WHITESPACE"," ",1719],["T_CONSTANT_ENCAPSED_STRING","'02'",1719],["T_WHITESPACE"," ",1719],["T_COMMENT","\/\/ UPS Second Day Air\n",1719],["T_WHITESPACE","            ",1720],["T_BOOLEAN_OR","||",1720],["T_WHITESPACE"," ",1720],["T_VARIABLE","$method",1720],["T_WHITESPACE"," ",1720],["T_IS_EQUAL","==",1720],["T_WHITESPACE"," ",1720],["T_CONSTANT_ENCAPSED_STRING","'01'",1720],["T_WHITESPACE"," ",1720],["T_COMMENT","\/\/ UPS Next Day Air\n",1720],["T_WHITESPACE","        ",1721],")",")",["T_WHITESPACE"," ",1721],"{",["T_WHITESPACE","\n            ",1721],["T_COMMENT","\/\/ Container types should be the same as for domestic\n",1722],["T_WHITESPACE","            ",1723],["T_VARIABLE","$params",1723],["T_OBJECT_OPERATOR","->",1723],["T_STRING","setCountryRecipient",1723],"(",["T_STRING","self",1723],["T_DOUBLE_COLON","::",1723],["T_STRING","USA_COUNTRY_ID",1723],")",";",["T_WHITESPACE","\n            ",1723],["T_VARIABLE","$containerTypes",1724],["T_WHITESPACE"," ",1724],"=",["T_WHITESPACE"," ",1724],["T_VARIABLE","$this",1724],["T_OBJECT_OPERATOR","->",1724],["T_STRING","_getAllowedContainers",1724],"(",["T_VARIABLE","$params",1724],")",";",["T_WHITESPACE","\n            ",1724],["T_VARIABLE","$params",1725],["T_OBJECT_OPERATOR","->",1725],["T_STRING","setCountryRecipient",1725],"(",["T_VARIABLE","$countryRecipient",1725],")",";",["T_WHITESPACE","\n            ",1725],["T_RETURN","return",1726],["T_WHITESPACE"," ",1726],["T_VARIABLE","$containerTypes",1726],";",["T_WHITESPACE","\n        ",1726],"}",["T_WHITESPACE","\n        ",1727],["T_RETURN","return",1728],["T_WHITESPACE"," ",1728],["T_VARIABLE","$this",1728],["T_OBJECT_OPERATOR","->",1728],["T_STRING","_getAllowedContainers",1728],"(",["T_VARIABLE","$params",1728],")",";",["T_WHITESPACE","\n    ",1728],"}",["T_WHITESPACE","\n\n    ",1729],["T_DOC_COMMENT","\/**\n     * Return all container types of carrier\n     *\n     * @return array|bool\n     *\/",1731],["T_WHITESPACE","\n    ",1735],["T_PUBLIC","public",1736],["T_WHITESPACE"," ",1736],["T_FUNCTION","function",1736],["T_WHITESPACE"," ",1736],["T_STRING","getContainerTypesAll",1736],"(",")",["T_WHITESPACE","\n    ",1736],"{",["T_WHITESPACE","\n        ",1737],["T_VARIABLE","$codes",1738],["T_WHITESPACE","        ",1738],"=",["T_WHITESPACE"," ",1738],["T_VARIABLE","$this",1738],["T_OBJECT_OPERATOR","->",1738],["T_STRING","getCode",1738],"(",["T_CONSTANT_ENCAPSED_STRING","'container'",1738],")",";",["T_WHITESPACE","\n        ",1738],["T_VARIABLE","$descriptions",1739],["T_WHITESPACE"," ",1739],"=",["T_WHITESPACE"," ",1739],["T_VARIABLE","$this",1739],["T_OBJECT_OPERATOR","->",1739],["T_STRING","getCode",1739],"(",["T_CONSTANT_ENCAPSED_STRING","'container_description'",1739],")",";",["T_WHITESPACE","\n        ",1739],["T_VARIABLE","$result",1740],["T_WHITESPACE","       ",1740],"=",["T_WHITESPACE"," ",1740],["T_ARRAY","array",1740],"(",")",";",["T_WHITESPACE","\n        ",1740],["T_FOREACH","foreach",1741],["T_WHITESPACE"," ",1741],"(",["T_VARIABLE","$codes",1741],["T_WHITESPACE"," ",1741],["T_AS","as",1741],["T_WHITESPACE"," ",1741],["T_VARIABLE","$key",1741],["T_WHITESPACE"," ",1741],["T_DOUBLE_ARROW","=>",1741],["T_WHITESPACE"," ",1741],"&",["T_VARIABLE","$code",1741],")",["T_WHITESPACE"," ",1741],"{",["T_WHITESPACE","\n            ",1741],["T_VARIABLE","$result",1742],"[",["T_VARIABLE","$code",1742],"]",["T_WHITESPACE"," ",1742],"=",["T_WHITESPACE"," ",1742],["T_VARIABLE","$descriptions",1742],"[",["T_VARIABLE","$key",1742],"]",";",["T_WHITESPACE","\n        ",1742],"}",["T_WHITESPACE","\n        ",1743],["T_RETURN","return",1744],["T_WHITESPACE"," ",1744],["T_VARIABLE","$result",1744],";",["T_WHITESPACE","\n\n    ",1744],"}",["T_WHITESPACE","\n\n    ",1746],["T_DOC_COMMENT","\/**\n     * Return structured data of containers witch related with shipping methods\n     *\n     * @return array|bool\n     *\/",1748],["T_WHITESPACE","\n    ",1752],["T_PUBLIC","public",1753],["T_WHITESPACE"," ",1753],["T_FUNCTION","function",1753],["T_WHITESPACE"," ",1753],["T_STRING","getContainerTypesFilter",1753],"(",")",["T_WHITESPACE","\n    ",1753],"{",["T_WHITESPACE","\n        ",1754],["T_RETURN","return",1755],["T_WHITESPACE"," ",1755],["T_VARIABLE","$this",1755],["T_OBJECT_OPERATOR","->",1755],["T_STRING","getCode",1755],"(",["T_CONSTANT_ENCAPSED_STRING","'containers_filter'",1755],")",";",["T_WHITESPACE","\n    ",1755],"}",["T_WHITESPACE","\n\n    ",1756],["T_DOC_COMMENT","\/**\n     * Return delivery confirmation types of carrier\n     *\n     * @param Varien_Object|null $params\n     * @return array|bool\n     *\/",1758],["T_WHITESPACE","\n    ",1763],["T_PUBLIC","public",1764],["T_WHITESPACE"," ",1764],["T_FUNCTION","function",1764],["T_WHITESPACE"," ",1764],["T_STRING","getDeliveryConfirmationTypes",1764],"(",["T_STRING","Varien_Object",1764],["T_WHITESPACE"," ",1764],["T_VARIABLE","$params",1764],["T_WHITESPACE"," ",1764],"=",["T_WHITESPACE"," ",1764],["T_STRING","null",1764],")",["T_WHITESPACE","\n    ",1764],"{",["T_WHITESPACE","\n        ",1765],["T_VARIABLE","$countryRecipient",1766],["T_WHITESPACE","           ",1766],"=",["T_WHITESPACE"," ",1766],["T_VARIABLE","$params",1766],["T_WHITESPACE"," ",1766],["T_IS_NOT_EQUAL","!=",1766],["T_WHITESPACE"," ",1766],["T_STRING","null",1766],["T_WHITESPACE"," ",1766],"?",["T_WHITESPACE"," ",1766],["T_VARIABLE","$params",1766],["T_OBJECT_OPERATOR","->",1766],["T_STRING","getCountryRecipient",1766],"(",")",["T_WHITESPACE"," ",1766],":",["T_WHITESPACE"," ",1766],["T_STRING","null",1766],";",["T_WHITESPACE","\n        ",1766],["T_VARIABLE","$deliveryConfirmationTypes",1767],["T_WHITESPACE","  ",1767],"=",["T_WHITESPACE"," ",1767],["T_ARRAY","array",1767],"(",")",";",["T_WHITESPACE","\n        ",1767],["T_SWITCH","switch",1768],["T_WHITESPACE"," ",1768],"(",["T_VARIABLE","$this",1768],["T_OBJECT_OPERATOR","->",1768],["T_STRING","_getDeliveryConfirmationLevel",1768],"(",["T_VARIABLE","$countryRecipient",1768],")",")",["T_WHITESPACE"," ",1768],"{",["T_WHITESPACE","\n            ",1768],["T_CASE","case",1769],["T_WHITESPACE"," ",1769],["T_STRING","self",1769],["T_DOUBLE_COLON","::",1769],["T_STRING","DELIVERY_CONFIRMATION_PACKAGE",1769],":",["T_WHITESPACE","\n                ",1769],["T_VARIABLE","$deliveryConfirmationTypes",1770],["T_WHITESPACE"," ",1770],"=",["T_WHITESPACE"," ",1770],["T_ARRAY","array",1770],"(",["T_WHITESPACE","\n                    ",1770],["T_LNUMBER","1",1771],["T_WHITESPACE"," ",1771],["T_DOUBLE_ARROW","=>",1771],["T_WHITESPACE"," ",1771],["T_STRING","Mage",1771],["T_DOUBLE_COLON","::",1771],["T_STRING","helper",1771],"(",["T_CONSTANT_ENCAPSED_STRING","'usa'",1771],")",["T_OBJECT_OPERATOR","->",1771],["T_STRING","__",1771],"(",["T_CONSTANT_ENCAPSED_STRING","'Delivery Confirmation'",1771],")",",",["T_WHITESPACE","\n                    ",1771],["T_LNUMBER","2",1772],["T_WHITESPACE"," ",1772],["T_DOUBLE_ARROW","=>",1772],["T_WHITESPACE"," ",1772],["T_STRING","Mage",1772],["T_DOUBLE_COLON","::",1772],["T_STRING","helper",1772],"(",["T_CONSTANT_ENCAPSED_STRING","'usa'",1772],")",["T_OBJECT_OPERATOR","->",1772],["T_STRING","__",1772],"(",["T_CONSTANT_ENCAPSED_STRING","'Signature Required'",1772],")",",",["T_WHITESPACE","\n                    ",1772],["T_LNUMBER","3",1773],["T_WHITESPACE"," ",1773],["T_DOUBLE_ARROW","=>",1773],["T_WHITESPACE"," ",1773],["T_STRING","Mage",1773],["T_DOUBLE_COLON","::",1773],["T_STRING","helper",1773],"(",["T_CONSTANT_ENCAPSED_STRING","'usa'",1773],")",["T_OBJECT_OPERATOR","->",1773],["T_STRING","__",1773],"(",["T_CONSTANT_ENCAPSED_STRING","'Adult Signature Required'",1773],")",",",["T_WHITESPACE","\n                ",1773],")",";",["T_WHITESPACE","\n                ",1774],["T_BREAK","break",1775],";",["T_WHITESPACE","\n            ",1775],["T_CASE","case",1776],["T_WHITESPACE"," ",1776],["T_STRING","self",1776],["T_DOUBLE_COLON","::",1776],["T_STRING","DELIVERY_CONFIRMATION_SHIPMENT",1776],":",["T_WHITESPACE","\n                ",1776],["T_VARIABLE","$deliveryConfirmationTypes",1777],["T_WHITESPACE"," ",1777],"=",["T_WHITESPACE"," ",1777],["T_ARRAY","array",1777],"(",["T_WHITESPACE","\n                    ",1777],["T_LNUMBER","1",1778],["T_WHITESPACE"," ",1778],["T_DOUBLE_ARROW","=>",1778],["T_WHITESPACE"," ",1778],["T_STRING","Mage",1778],["T_DOUBLE_COLON","::",1778],["T_STRING","helper",1778],"(",["T_CONSTANT_ENCAPSED_STRING","'usa'",1778],")",["T_OBJECT_OPERATOR","->",1778],["T_STRING","__",1778],"(",["T_CONSTANT_ENCAPSED_STRING","'Signature Required'",1778],")",",",["T_WHITESPACE","\n                    ",1778],["T_LNUMBER","2",1779],["T_WHITESPACE"," ",1779],["T_DOUBLE_ARROW","=>",1779],["T_WHITESPACE"," ",1779],["T_STRING","Mage",1779],["T_DOUBLE_COLON","::",1779],["T_STRING","helper",1779],"(",["T_CONSTANT_ENCAPSED_STRING","'usa'",1779],")",["T_OBJECT_OPERATOR","->",1779],["T_STRING","__",1779],"(",["T_CONSTANT_ENCAPSED_STRING","'Adult Signature Required'",1779],")",",",["T_WHITESPACE","\n                ",1779],")",";",["T_WHITESPACE","\n        ",1780],"}",["T_WHITESPACE","\n        ",1781],["T_STRING","array_unshift",1782],"(",["T_VARIABLE","$deliveryConfirmationTypes",1782],",",["T_WHITESPACE"," ",1782],["T_STRING","Mage",1782],["T_DOUBLE_COLON","::",1782],["T_STRING","helper",1782],"(",["T_CONSTANT_ENCAPSED_STRING","'usa'",1782],")",["T_OBJECT_OPERATOR","->",1782],["T_STRING","__",1782],"(",["T_CONSTANT_ENCAPSED_STRING","'Not Required'",1782],")",")",";",["T_WHITESPACE","\n\n        ",1782],["T_RETURN","return",1784],["T_WHITESPACE"," ",1784],["T_VARIABLE","$deliveryConfirmationTypes",1784],";",["T_WHITESPACE","\n    ",1784],"}",["T_WHITESPACE","\n\n    ",1785],["T_DOC_COMMENT","\/**\n     * Get Container Types, that could be customized for UPS carrier\n     *\n     * @return array\n     *\/",1787],["T_WHITESPACE","\n    ",1791],["T_PUBLIC","public",1792],["T_WHITESPACE"," ",1792],["T_FUNCTION","function",1792],["T_WHITESPACE"," ",1792],["T_STRING","getCustomizableContainerTypes",1792],"(",")",["T_WHITESPACE","\n    ",1792],"{",["T_WHITESPACE","\n        ",1793],["T_VARIABLE","$result",1794],["T_WHITESPACE"," ",1794],"=",["T_WHITESPACE"," ",1794],["T_ARRAY","array",1794],"(",")",";",["T_WHITESPACE","\n        ",1794],["T_VARIABLE","$containerTypes",1795],["T_WHITESPACE"," ",1795],"=",["T_WHITESPACE"," ",1795],["T_VARIABLE","$this",1795],["T_OBJECT_OPERATOR","->",1795],["T_STRING","getCode",1795],"(",["T_CONSTANT_ENCAPSED_STRING","'container'",1795],")",";",["T_WHITESPACE","\n        ",1795],["T_FOREACH","foreach",1796],["T_WHITESPACE"," ",1796],"(",["T_STRING","parent",1796],["T_DOUBLE_COLON","::",1796],["T_STRING","getCustomizableContainerTypes",1796],"(",")",["T_WHITESPACE"," ",1796],["T_AS","as",1796],["T_WHITESPACE"," ",1796],["T_VARIABLE","$containerType",1796],")",["T_WHITESPACE"," ",1796],"{",["T_WHITESPACE","\n            ",1796],["T_VARIABLE","$result",1797],"[",["T_VARIABLE","$containerType",1797],"]",["T_WHITESPACE"," ",1797],"=",["T_WHITESPACE"," ",1797],["T_VARIABLE","$containerTypes",1797],"[",["T_VARIABLE","$containerType",1797],"]",";",["T_WHITESPACE","\n        ",1797],"}",["T_WHITESPACE","\n        ",1798],["T_RETURN","return",1799],["T_WHITESPACE"," ",1799],["T_VARIABLE","$result",1799],";",["T_WHITESPACE","\n    ",1799],"}",["T_WHITESPACE","\n\n    ",1800],["T_DOC_COMMENT","\/**\n     * Get delivery confirmation level based on origin\/destination\n     * Return null if delivery confirmation is not acceptable\n     *\n     * @var string $countyDest\n     * @return int|null\n     *\/",1802],["T_WHITESPACE","\n    ",1808],["T_PROTECTED","protected",1809],["T_WHITESPACE"," ",1809],["T_FUNCTION","function",1809],["T_WHITESPACE"," ",1809],["T_STRING","_getDeliveryConfirmationLevel",1809],"(",["T_VARIABLE","$countyDest",1809],["T_WHITESPACE"," ",1809],"=",["T_WHITESPACE"," ",1809],["T_STRING","null",1809],")",["T_WHITESPACE"," ",1809],"{",["T_WHITESPACE","\n        ",1809],["T_IF","if",1810],["T_WHITESPACE"," ",1810],"(",["T_STRING","is_null",1810],"(",["T_VARIABLE","$countyDest",1810],")",")",["T_WHITESPACE"," ",1810],"{",["T_WHITESPACE","\n            ",1810],["T_RETURN","return",1811],["T_WHITESPACE"," ",1811],["T_STRING","null",1811],";",["T_WHITESPACE","\n        ",1811],"}",["T_WHITESPACE","\n\n        ",1812],["T_IF","if",1814],["T_WHITESPACE"," ",1814],"(",["T_VARIABLE","$countyDest",1814],["T_WHITESPACE"," ",1814],["T_IS_EQUAL","==",1814],["T_WHITESPACE"," ",1814],["T_STRING","Mage_Usa_Model_Shipping_Carrier_Abstract",1814],["T_DOUBLE_COLON","::",1814],["T_STRING","USA_COUNTRY_ID",1814],")",["T_WHITESPACE"," ",1814],"{",["T_WHITESPACE","\n            ",1814],["T_RETURN","return",1815],["T_WHITESPACE"," ",1815],["T_STRING","self",1815],["T_DOUBLE_COLON","::",1815],["T_STRING","DELIVERY_CONFIRMATION_PACKAGE",1815],";",["T_WHITESPACE","\n        ",1815],"}",["T_WHITESPACE","\n\n        ",1816],["T_RETURN","return",1818],["T_WHITESPACE"," ",1818],["T_STRING","self",1818],["T_DOUBLE_COLON","::",1818],["T_STRING","DELIVERY_CONFIRMATION_SHIPMENT",1818],";",["T_WHITESPACE","\n    ",1818],"}",["T_WHITESPACE","\n",1819],"}",["T_WHITESPACE","\n",1820]]