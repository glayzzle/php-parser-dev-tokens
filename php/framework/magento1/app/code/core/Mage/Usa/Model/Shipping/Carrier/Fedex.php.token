[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Magento\n *\n * NOTICE OF LICENSE\n *\n * This source file is subject to the Open Software License (OSL 3.0)\n * that is bundled with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/opensource.org\/licenses\/osl-3.0.php\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@magento.com so we can send you a copy immediately.\n *\n * DISCLAIMER\n *\n * Do not edit or add to this file if you wish to upgrade Magento to newer\n * versions in the future. If you wish to customize Magento for your\n * needs please refer to http:\/\/www.magento.com for more information.\n *\n * @category    Mage\n * @package     Mage_Usa\n * @copyright  Copyright (c) 2006-2016 X.commerce, Inc. and affiliates (http:\/\/www.magento.com)\n * @license    http:\/\/opensource.org\/licenses\/osl-3.0.php  Open Software License (OSL 3.0)\n *\/",2],["T_WHITESPACE","\n\n",25],["T_DOC_COMMENT","\/**\n * Fedex shipping implementation\n *\n * @category   Mage\n * @package    Mage_Usa\n * @author     Magento Core Team <core@magentocommerce.com>\n *\/",27],["T_WHITESPACE","\n",33],["T_CLASS","class",34],["T_WHITESPACE"," ",34],["T_STRING","Mage_Usa_Model_Shipping_Carrier_Fedex",34],["T_WHITESPACE","\n    ",34],["T_EXTENDS","extends",35],["T_WHITESPACE"," ",35],["T_STRING","Mage_Usa_Model_Shipping_Carrier_Abstract",35],["T_WHITESPACE","\n    ",35],["T_IMPLEMENTS","implements",36],["T_WHITESPACE"," ",36],["T_STRING","Mage_Shipping_Model_Carrier_Interface",36],["T_WHITESPACE","\n",36],"{",["T_WHITESPACE","\n\n    ",37],["T_DOC_COMMENT","\/**\n     * Code of the carrier\n     *\n     * @var string\n     *\/",39],["T_WHITESPACE","\n    ",43],["T_CONST","const",44],["T_WHITESPACE"," ",44],["T_STRING","CODE",44],["T_WHITESPACE"," ",44],"=",["T_WHITESPACE"," ",44],["T_CONSTANT_ENCAPSED_STRING","'fedex'",44],";",["T_WHITESPACE","\n\n    ",44],["T_DOC_COMMENT","\/**\n     * Purpose of rate request\n     *\n     * @var string\n     *\/",46],["T_WHITESPACE","\n    ",50],["T_CONST","const",51],["T_WHITESPACE"," ",51],["T_STRING","RATE_REQUEST_GENERAL",51],["T_WHITESPACE"," ",51],"=",["T_WHITESPACE"," ",51],["T_CONSTANT_ENCAPSED_STRING","'general'",51],";",["T_WHITESPACE","\n\n    ",51],["T_DOC_COMMENT","\/**\n     * Purpose of rate request\n     *\n     * @var string\n     *\/",53],["T_WHITESPACE","\n    ",57],["T_CONST","const",58],["T_WHITESPACE"," ",58],["T_STRING","RATE_REQUEST_SMARTPOST",58],["T_WHITESPACE"," ",58],"=",["T_WHITESPACE"," ",58],["T_CONSTANT_ENCAPSED_STRING","'SMART_POST'",58],";",["T_WHITESPACE","\n\n    ",58],["T_DOC_COMMENT","\/**\n     * Code of the carrier\n     *\n     * @var string\n     *\/",60],["T_WHITESPACE","\n    ",64],["T_PROTECTED","protected",65],["T_WHITESPACE"," ",65],["T_VARIABLE","$_code",65],["T_WHITESPACE"," ",65],"=",["T_WHITESPACE"," ",65],["T_STRING","self",65],["T_DOUBLE_COLON","::",65],["T_STRING","CODE",65],";",["T_WHITESPACE","\n\n    ",65],["T_DOC_COMMENT","\/**\n     * Rate request data\n     *\n     * @var Mage_Shipping_Model_Rate_Request|null\n     *\/",67],["T_WHITESPACE","\n    ",71],["T_PROTECTED","protected",72],["T_WHITESPACE"," ",72],["T_VARIABLE","$_request",72],["T_WHITESPACE"," ",72],"=",["T_WHITESPACE"," ",72],["T_STRING","null",72],";",["T_WHITESPACE","\n\n    ",72],["T_DOC_COMMENT","\/**\n     * Raw rate request data\n     *\n     * @var Varien_Object|null\n     *\/",74],["T_WHITESPACE","\n    ",78],["T_PROTECTED","protected",79],["T_WHITESPACE"," ",79],["T_VARIABLE","$_rawRequest",79],["T_WHITESPACE"," ",79],"=",["T_WHITESPACE"," ",79],["T_STRING","null",79],";",["T_WHITESPACE","\n\n    ",79],["T_DOC_COMMENT","\/**\n     * Rate result data\n     *\n     * @var Mage_Shipping_Model_Rate_Result|null\n     *\/",81],["T_WHITESPACE","\n    ",85],["T_PROTECTED","protected",86],["T_WHITESPACE"," ",86],["T_VARIABLE","$_result",86],["T_WHITESPACE"," ",86],"=",["T_WHITESPACE"," ",86],["T_STRING","null",86],";",["T_WHITESPACE","\n\n    ",86],["T_DOC_COMMENT","\/**\n     * Path to wsdl file of rate service\n     *\n     * @var string\n     *\/",88],["T_WHITESPACE","\n    ",92],["T_PROTECTED","protected",93],["T_WHITESPACE"," ",93],["T_VARIABLE","$_rateServiceWsdl",93],";",["T_WHITESPACE","\n\n    ",93],["T_DOC_COMMENT","\/**\n     * Path to wsdl file of ship service\n     *\n     * @var string\n     *\/",95],["T_WHITESPACE","\n    ",99],["T_PROTECTED","protected",100],["T_WHITESPACE"," ",100],["T_VARIABLE","$_shipServiceWsdl",100],["T_WHITESPACE"," ",100],"=",["T_WHITESPACE"," ",100],["T_STRING","null",100],";",["T_WHITESPACE","\n\n    ",100],["T_DOC_COMMENT","\/**\n     * Path to wsdl file of track service\n     *\n     * @var string\n     *\/",102],["T_WHITESPACE","\n    ",106],["T_PROTECTED","protected",107],["T_WHITESPACE"," ",107],["T_VARIABLE","$_trackServiceWsdl",107],["T_WHITESPACE"," ",107],"=",["T_WHITESPACE"," ",107],["T_STRING","null",107],";",["T_WHITESPACE","\n\n    ",107],["T_DOC_COMMENT","\/**\n     * Container types that could be customized for FedEx carrier\n     *\n     * @var array\n     *\/",109],["T_WHITESPACE","\n    ",113],["T_PROTECTED","protected",114],["T_WHITESPACE"," ",114],["T_VARIABLE","$_customizableContainerTypes",114],["T_WHITESPACE"," ",114],"=",["T_WHITESPACE"," ",114],["T_ARRAY","array",114],"(",["T_CONSTANT_ENCAPSED_STRING","'YOUR_PACKAGING'",114],")",";",["T_WHITESPACE","\n\n    ",114],["T_PUBLIC","public",116],["T_WHITESPACE"," ",116],["T_FUNCTION","function",116],["T_WHITESPACE"," ",116],["T_STRING","__construct",116],"(",")",["T_WHITESPACE","\n    ",116],"{",["T_WHITESPACE","\n        ",117],["T_STRING","parent",118],["T_DOUBLE_COLON","::",118],["T_STRING","__construct",118],"(",")",";",["T_WHITESPACE","\n        ",118],["T_VARIABLE","$wsdlBasePath",119],["T_WHITESPACE"," ",119],"=",["T_WHITESPACE"," ",119],["T_STRING","Mage",119],["T_DOUBLE_COLON","::",119],["T_STRING","getModuleDir",119],"(",["T_CONSTANT_ENCAPSED_STRING","'etc'",119],",",["T_WHITESPACE"," ",119],["T_CONSTANT_ENCAPSED_STRING","'Mage_Usa'",119],")",["T_WHITESPACE","  ",119],".",["T_WHITESPACE"," ",119],["T_STRING","DS",119],["T_WHITESPACE"," ",119],".",["T_WHITESPACE"," ",119],["T_CONSTANT_ENCAPSED_STRING","'wsdl'",119],["T_WHITESPACE"," ",119],".",["T_WHITESPACE"," ",119],["T_STRING","DS",119],["T_WHITESPACE"," ",119],".",["T_WHITESPACE"," ",119],["T_CONSTANT_ENCAPSED_STRING","'FedEx'",119],["T_WHITESPACE"," ",119],".",["T_WHITESPACE"," ",119],["T_STRING","DS",119],";",["T_WHITESPACE","\n        ",119],["T_VARIABLE","$this",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","_shipServiceWsdl",120],["T_WHITESPACE"," ",120],"=",["T_WHITESPACE"," ",120],["T_VARIABLE","$wsdlBasePath",120],["T_WHITESPACE"," ",120],".",["T_WHITESPACE"," ",120],["T_CONSTANT_ENCAPSED_STRING","'ShipService_v10.wsdl'",120],";",["T_WHITESPACE","\n        ",120],["T_VARIABLE","$this",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","_rateServiceWsdl",121],["T_WHITESPACE"," ",121],"=",["T_WHITESPACE"," ",121],["T_VARIABLE","$wsdlBasePath",121],["T_WHITESPACE"," ",121],".",["T_WHITESPACE"," ",121],["T_CONSTANT_ENCAPSED_STRING","'RateService_v10.wsdl'",121],";",["T_WHITESPACE","\n        ",121],["T_VARIABLE","$this",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","_trackServiceWsdl",122],["T_WHITESPACE"," ",122],"=",["T_WHITESPACE"," ",122],["T_VARIABLE","$wsdlBasePath",122],["T_WHITESPACE"," ",122],".",["T_WHITESPACE"," ",122],["T_CONSTANT_ENCAPSED_STRING","'TrackService_v5.wsdl'",122],";",["T_WHITESPACE","\n    ",122],"}",["T_WHITESPACE","\n\n    ",123],["T_DOC_COMMENT","\/**\n     * Create soap client with selected wsdl\n     *\n     * @param string $wsdl\n     * @param bool|int $trace\n     * @return SoapClient\n     *\/",125],["T_WHITESPACE","\n    ",131],["T_PROTECTED","protected",132],["T_WHITESPACE"," ",132],["T_FUNCTION","function",132],["T_WHITESPACE"," ",132],["T_STRING","_createSoapClient",132],"(",["T_VARIABLE","$wsdl",132],",",["T_WHITESPACE"," ",132],["T_VARIABLE","$trace",132],["T_WHITESPACE"," ",132],"=",["T_WHITESPACE"," ",132],["T_STRING","false",132],")",["T_WHITESPACE","\n    ",132],"{",["T_WHITESPACE","\n        ",133],["T_VARIABLE","$client",134],["T_WHITESPACE"," ",134],"=",["T_WHITESPACE"," ",134],["T_NEW","new",134],["T_WHITESPACE"," ",134],["T_STRING","SoapClient",134],"(",["T_VARIABLE","$wsdl",134],",",["T_WHITESPACE"," ",134],["T_ARRAY","array",134],"(",["T_CONSTANT_ENCAPSED_STRING","'trace'",134],["T_WHITESPACE"," ",134],["T_DOUBLE_ARROW","=>",134],["T_WHITESPACE"," ",134],["T_VARIABLE","$trace",134],")",")",";",["T_WHITESPACE","\n        ",134],["T_VARIABLE","$client",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","__setLocation",135],"(",["T_VARIABLE","$this",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","getConfigFlag",135],"(",["T_CONSTANT_ENCAPSED_STRING","'sandbox_mode'",135],")",["T_WHITESPACE","\n            ",135],"?",["T_WHITESPACE"," ",136],["T_CONSTANT_ENCAPSED_STRING","'https:\/\/wsbeta.fedex.com:443\/web-services '",136],["T_WHITESPACE","\n            ",136],":",["T_WHITESPACE"," ",137],["T_CONSTANT_ENCAPSED_STRING","'https:\/\/ws.fedex.com:443\/web-services'",137],["T_WHITESPACE","\n        ",137],")",";",["T_WHITESPACE","\n\n        ",138],["T_RETURN","return",140],["T_WHITESPACE"," ",140],["T_VARIABLE","$client",140],";",["T_WHITESPACE","\n    ",140],"}",["T_WHITESPACE","\n\n    ",141],["T_DOC_COMMENT","\/**\n     * Create rate soap client\n     *\n     * @return SoapClient\n     *\/",143],["T_WHITESPACE","\n    ",147],["T_PROTECTED","protected",148],["T_WHITESPACE"," ",148],["T_FUNCTION","function",148],["T_WHITESPACE"," ",148],["T_STRING","_createRateSoapClient",148],"(",")",["T_WHITESPACE","\n    ",148],"{",["T_WHITESPACE","\n        ",149],["T_RETURN","return",150],["T_WHITESPACE"," ",150],["T_VARIABLE","$this",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","_createSoapClient",150],"(",["T_VARIABLE","$this",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","_rateServiceWsdl",150],")",";",["T_WHITESPACE","\n    ",150],"}",["T_WHITESPACE","\n\n    ",151],["T_DOC_COMMENT","\/**\n     * Create ship soap client\n     *\n     * @return SoapClient\n     *\/",153],["T_WHITESPACE","\n    ",157],["T_PROTECTED","protected",158],["T_WHITESPACE"," ",158],["T_FUNCTION","function",158],["T_WHITESPACE"," ",158],["T_STRING","_createShipSoapClient",158],"(",")",["T_WHITESPACE","\n    ",158],"{",["T_WHITESPACE","\n        ",159],["T_RETURN","return",160],["T_WHITESPACE"," ",160],["T_VARIABLE","$this",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","_createSoapClient",160],"(",["T_VARIABLE","$this",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","_shipServiceWsdl",160],",",["T_WHITESPACE"," ",160],["T_LNUMBER","1",160],")",";",["T_WHITESPACE","\n    ",160],"}",["T_WHITESPACE","\n\n    ",161],["T_DOC_COMMENT","\/**\n     * Create track soap client\n     *\n     * @return SoapClient\n     *\/",163],["T_WHITESPACE","\n    ",167],["T_PROTECTED","protected",168],["T_WHITESPACE"," ",168],["T_FUNCTION","function",168],["T_WHITESPACE"," ",168],["T_STRING","_createTrackSoapClient",168],"(",")",["T_WHITESPACE","\n    ",168],"{",["T_WHITESPACE","\n        ",169],["T_RETURN","return",170],["T_WHITESPACE"," ",170],["T_VARIABLE","$this",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","_createSoapClient",170],"(",["T_VARIABLE","$this",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","_trackServiceWsdl",170],",",["T_WHITESPACE"," ",170],["T_LNUMBER","1",170],")",";",["T_WHITESPACE","\n    ",170],"}",["T_WHITESPACE","\n\n    ",171],["T_DOC_COMMENT","\/**\n     * Collect and get rates\n     *\n     * @param Mage_Shipping_Model_Rate_Request $request\n     * @return Mage_Shipping_Model_Rate_Result|bool|null\n     *\/",173],["T_WHITESPACE","\n    ",178],["T_PUBLIC","public",179],["T_WHITESPACE"," ",179],["T_FUNCTION","function",179],["T_WHITESPACE"," ",179],["T_STRING","collectRates",179],"(",["T_STRING","Mage_Shipping_Model_Rate_Request",179],["T_WHITESPACE"," ",179],["T_VARIABLE","$request",179],")",["T_WHITESPACE","\n    ",179],"{",["T_WHITESPACE","\n        ",180],["T_IF","if",181],["T_WHITESPACE"," ",181],"(","!",["T_VARIABLE","$this",181],["T_OBJECT_OPERATOR","->",181],["T_STRING","getConfigFlag",181],"(",["T_VARIABLE","$this",181],["T_OBJECT_OPERATOR","->",181],["T_STRING","_activeFlag",181],")",")",["T_WHITESPACE"," ",181],"{",["T_WHITESPACE","\n            ",181],["T_RETURN","return",182],["T_WHITESPACE"," ",182],["T_STRING","false",182],";",["T_WHITESPACE","\n        ",182],"}",["T_WHITESPACE","\n        ",183],["T_VARIABLE","$this",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","setRequest",184],"(",["T_VARIABLE","$request",184],")",";",["T_WHITESPACE","\n\n        ",184],["T_VARIABLE","$this",186],["T_OBJECT_OPERATOR","->",186],["T_STRING","_getQuotes",186],"(",")",";",["T_WHITESPACE","\n\n        ",186],["T_VARIABLE","$this",188],["T_OBJECT_OPERATOR","->",188],["T_STRING","_updateFreeMethodQuote",188],"(",["T_VARIABLE","$request",188],")",";",["T_WHITESPACE","\n\n        ",188],["T_RETURN","return",190],["T_WHITESPACE"," ",190],["T_VARIABLE","$this",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","getResult",190],"(",")",";",["T_WHITESPACE","\n    ",190],"}",["T_WHITESPACE","\n\n    ",191],["T_DOC_COMMENT","\/**\n     * Prepare and set request to this instance\n     *\n     * @param Mage_Shipping_Model_Rate_Request $request\n     * @return Mage_Usa_Model_Shipping_Carrier_Fedex\n     *\/",193],["T_WHITESPACE","\n    ",198],["T_PUBLIC","public",199],["T_WHITESPACE"," ",199],["T_FUNCTION","function",199],["T_WHITESPACE"," ",199],["T_STRING","setRequest",199],"(",["T_STRING","Mage_Shipping_Model_Rate_Request",199],["T_WHITESPACE"," ",199],["T_VARIABLE","$request",199],")",["T_WHITESPACE","\n    ",199],"{",["T_WHITESPACE","\n        ",200],["T_VARIABLE","$this",201],["T_OBJECT_OPERATOR","->",201],["T_STRING","_request",201],["T_WHITESPACE"," ",201],"=",["T_WHITESPACE"," ",201],["T_VARIABLE","$request",201],";",["T_WHITESPACE","\n\n        ",201],["T_VARIABLE","$r",203],["T_WHITESPACE"," ",203],"=",["T_WHITESPACE"," ",203],["T_NEW","new",203],["T_WHITESPACE"," ",203],["T_STRING","Varien_Object",203],"(",")",";",["T_WHITESPACE","\n\n        ",203],["T_IF","if",205],["T_WHITESPACE"," ",205],"(",["T_VARIABLE","$request",205],["T_OBJECT_OPERATOR","->",205],["T_STRING","getLimitMethod",205],"(",")",")",["T_WHITESPACE"," ",205],"{",["T_WHITESPACE","\n            ",205],["T_VARIABLE","$r",206],["T_OBJECT_OPERATOR","->",206],["T_STRING","setService",206],"(",["T_VARIABLE","$request",206],["T_OBJECT_OPERATOR","->",206],["T_STRING","getLimitMethod",206],"(",")",")",";",["T_WHITESPACE","\n        ",206],"}",["T_WHITESPACE","\n\n        ",207],["T_IF","if",209],["T_WHITESPACE"," ",209],"(",["T_VARIABLE","$request",209],["T_OBJECT_OPERATOR","->",209],["T_STRING","getFedexAccount",209],"(",")",")",["T_WHITESPACE"," ",209],"{",["T_WHITESPACE","\n            ",209],["T_VARIABLE","$account",210],["T_WHITESPACE"," ",210],"=",["T_WHITESPACE"," ",210],["T_VARIABLE","$request",210],["T_OBJECT_OPERATOR","->",210],["T_STRING","getFedexAccount",210],"(",")",";",["T_WHITESPACE","\n        ",210],"}",["T_WHITESPACE"," ",211],["T_ELSE","else",211],["T_WHITESPACE"," ",211],"{",["T_WHITESPACE","\n            ",211],["T_VARIABLE","$account",212],["T_WHITESPACE"," ",212],"=",["T_WHITESPACE"," ",212],["T_VARIABLE","$this",212],["T_OBJECT_OPERATOR","->",212],["T_STRING","getConfigData",212],"(",["T_CONSTANT_ENCAPSED_STRING","'account'",212],")",";",["T_WHITESPACE","\n        ",212],"}",["T_WHITESPACE","\n        ",213],["T_VARIABLE","$r",214],["T_OBJECT_OPERATOR","->",214],["T_STRING","setAccount",214],"(",["T_VARIABLE","$account",214],")",";",["T_WHITESPACE","\n\n        ",214],["T_IF","if",216],["T_WHITESPACE"," ",216],"(",["T_VARIABLE","$request",216],["T_OBJECT_OPERATOR","->",216],["T_STRING","getFedexDropoff",216],"(",")",")",["T_WHITESPACE"," ",216],"{",["T_WHITESPACE","\n            ",216],["T_VARIABLE","$dropoff",217],["T_WHITESPACE"," ",217],"=",["T_WHITESPACE"," ",217],["T_VARIABLE","$request",217],["T_OBJECT_OPERATOR","->",217],["T_STRING","getFedexDropoff",217],"(",")",";",["T_WHITESPACE","\n        ",217],"}",["T_WHITESPACE"," ",218],["T_ELSE","else",218],["T_WHITESPACE"," ",218],"{",["T_WHITESPACE","\n            ",218],["T_VARIABLE","$dropoff",219],["T_WHITESPACE"," ",219],"=",["T_WHITESPACE"," ",219],["T_VARIABLE","$this",219],["T_OBJECT_OPERATOR","->",219],["T_STRING","getConfigData",219],"(",["T_CONSTANT_ENCAPSED_STRING","'dropoff'",219],")",";",["T_WHITESPACE","\n        ",219],"}",["T_WHITESPACE","\n        ",220],["T_VARIABLE","$r",221],["T_OBJECT_OPERATOR","->",221],["T_STRING","setDropoffType",221],"(",["T_VARIABLE","$dropoff",221],")",";",["T_WHITESPACE","\n\n        ",221],["T_IF","if",223],["T_WHITESPACE"," ",223],"(",["T_VARIABLE","$request",223],["T_OBJECT_OPERATOR","->",223],["T_STRING","getFedexPackaging",223],"(",")",")",["T_WHITESPACE"," ",223],"{",["T_WHITESPACE","\n            ",223],["T_VARIABLE","$packaging",224],["T_WHITESPACE"," ",224],"=",["T_WHITESPACE"," ",224],["T_VARIABLE","$request",224],["T_OBJECT_OPERATOR","->",224],["T_STRING","getFedexPackaging",224],"(",")",";",["T_WHITESPACE","\n        ",224],"}",["T_WHITESPACE"," ",225],["T_ELSE","else",225],["T_WHITESPACE"," ",225],"{",["T_WHITESPACE","\n            ",225],["T_VARIABLE","$packaging",226],["T_WHITESPACE"," ",226],"=",["T_WHITESPACE"," ",226],["T_VARIABLE","$this",226],["T_OBJECT_OPERATOR","->",226],["T_STRING","getConfigData",226],"(",["T_CONSTANT_ENCAPSED_STRING","'packaging'",226],")",";",["T_WHITESPACE","\n        ",226],"}",["T_WHITESPACE","\n        ",227],["T_VARIABLE","$r",228],["T_OBJECT_OPERATOR","->",228],["T_STRING","setPackaging",228],"(",["T_VARIABLE","$packaging",228],")",";",["T_WHITESPACE","\n\n        ",228],["T_IF","if",230],["T_WHITESPACE"," ",230],"(",["T_VARIABLE","$request",230],["T_OBJECT_OPERATOR","->",230],["T_STRING","getOrigCountry",230],"(",")",")",["T_WHITESPACE"," ",230],"{",["T_WHITESPACE","\n            ",230],["T_VARIABLE","$origCountry",231],["T_WHITESPACE"," ",231],"=",["T_WHITESPACE"," ",231],["T_VARIABLE","$request",231],["T_OBJECT_OPERATOR","->",231],["T_STRING","getOrigCountry",231],"(",")",";",["T_WHITESPACE","\n        ",231],"}",["T_WHITESPACE"," ",232],["T_ELSE","else",232],["T_WHITESPACE"," ",232],"{",["T_WHITESPACE","\n            ",232],["T_VARIABLE","$origCountry",233],["T_WHITESPACE"," ",233],"=",["T_WHITESPACE"," ",233],["T_STRING","Mage",233],["T_DOUBLE_COLON","::",233],["T_STRING","getStoreConfig",233],"(",["T_WHITESPACE","\n                ",233],["T_STRING","Mage_Shipping_Model_Shipping",234],["T_DOUBLE_COLON","::",234],["T_STRING","XML_PATH_STORE_COUNTRY_ID",234],",",["T_WHITESPACE","\n                ",234],["T_VARIABLE","$request",235],["T_OBJECT_OPERATOR","->",235],["T_STRING","getStoreId",235],"(",")",["T_WHITESPACE","\n            ",235],")",";",["T_WHITESPACE","\n        ",236],"}",["T_WHITESPACE","\n        ",237],["T_VARIABLE","$r",238],["T_OBJECT_OPERATOR","->",238],["T_STRING","setOrigCountry",238],"(",["T_STRING","Mage",238],["T_DOUBLE_COLON","::",238],["T_STRING","getModel",238],"(",["T_CONSTANT_ENCAPSED_STRING","'directory\/country'",238],")",["T_OBJECT_OPERATOR","->",238],["T_STRING","load",238],"(",["T_VARIABLE","$origCountry",238],")",["T_OBJECT_OPERATOR","->",238],["T_STRING","getIso2Code",238],"(",")",")",";",["T_WHITESPACE","\n\n        ",238],["T_IF","if",240],["T_WHITESPACE"," ",240],"(",["T_VARIABLE","$request",240],["T_OBJECT_OPERATOR","->",240],["T_STRING","getOrigPostcode",240],"(",")",")",["T_WHITESPACE"," ",240],"{",["T_WHITESPACE","\n            ",240],["T_VARIABLE","$r",241],["T_OBJECT_OPERATOR","->",241],["T_STRING","setOrigPostal",241],"(",["T_VARIABLE","$request",241],["T_OBJECT_OPERATOR","->",241],["T_STRING","getOrigPostcode",241],"(",")",")",";",["T_WHITESPACE","\n        ",241],"}",["T_WHITESPACE"," ",242],["T_ELSE","else",242],["T_WHITESPACE"," ",242],"{",["T_WHITESPACE","\n            ",242],["T_VARIABLE","$r",243],["T_OBJECT_OPERATOR","->",243],["T_STRING","setOrigPostal",243],"(",["T_STRING","Mage",243],["T_DOUBLE_COLON","::",243],["T_STRING","getStoreConfig",243],"(",["T_WHITESPACE","\n                ",243],["T_STRING","Mage_Shipping_Model_Shipping",244],["T_DOUBLE_COLON","::",244],["T_STRING","XML_PATH_STORE_ZIP",244],",",["T_WHITESPACE","\n                ",244],["T_VARIABLE","$request",245],["T_OBJECT_OPERATOR","->",245],["T_STRING","getStoreId",245],"(",")",["T_WHITESPACE","\n            ",245],")",")",";",["T_WHITESPACE","\n        ",246],"}",["T_WHITESPACE","\n\n        ",247],["T_IF","if",249],["T_WHITESPACE"," ",249],"(",["T_VARIABLE","$request",249],["T_OBJECT_OPERATOR","->",249],["T_STRING","getDestCountryId",249],"(",")",")",["T_WHITESPACE"," ",249],"{",["T_WHITESPACE","\n            ",249],["T_VARIABLE","$destCountry",250],["T_WHITESPACE"," ",250],"=",["T_WHITESPACE"," ",250],["T_VARIABLE","$request",250],["T_OBJECT_OPERATOR","->",250],["T_STRING","getDestCountryId",250],"(",")",";",["T_WHITESPACE","\n        ",250],"}",["T_WHITESPACE"," ",251],["T_ELSE","else",251],["T_WHITESPACE"," ",251],"{",["T_WHITESPACE","\n            ",251],["T_VARIABLE","$destCountry",252],["T_WHITESPACE"," ",252],"=",["T_WHITESPACE"," ",252],["T_STRING","self",252],["T_DOUBLE_COLON","::",252],["T_STRING","USA_COUNTRY_ID",252],";",["T_WHITESPACE","\n        ",252],"}",["T_WHITESPACE","\n        ",253],["T_VARIABLE","$r",254],["T_OBJECT_OPERATOR","->",254],["T_STRING","setDestCountry",254],"(",["T_STRING","Mage",254],["T_DOUBLE_COLON","::",254],["T_STRING","getModel",254],"(",["T_CONSTANT_ENCAPSED_STRING","'directory\/country'",254],")",["T_OBJECT_OPERATOR","->",254],["T_STRING","load",254],"(",["T_VARIABLE","$destCountry",254],")",["T_OBJECT_OPERATOR","->",254],["T_STRING","getIso2Code",254],"(",")",")",";",["T_WHITESPACE","\n\n        ",254],["T_IF","if",256],["T_WHITESPACE"," ",256],"(",["T_VARIABLE","$request",256],["T_OBJECT_OPERATOR","->",256],["T_STRING","getDestPostcode",256],"(",")",")",["T_WHITESPACE"," ",256],"{",["T_WHITESPACE","\n            ",256],["T_VARIABLE","$r",257],["T_OBJECT_OPERATOR","->",257],["T_STRING","setDestPostal",257],"(",["T_VARIABLE","$request",257],["T_OBJECT_OPERATOR","->",257],["T_STRING","getDestPostcode",257],"(",")",")",";",["T_WHITESPACE","\n        ",257],"}",["T_WHITESPACE"," ",258],["T_ELSE","else",258],["T_WHITESPACE"," ",258],"{",["T_WHITESPACE","\n\n        ",258],"}",["T_WHITESPACE","\n\n        ",260],["T_VARIABLE","$weight",262],["T_WHITESPACE"," ",262],"=",["T_WHITESPACE"," ",262],["T_VARIABLE","$this",262],["T_OBJECT_OPERATOR","->",262],["T_STRING","getTotalNumOfBoxes",262],"(",["T_VARIABLE","$request",262],["T_OBJECT_OPERATOR","->",262],["T_STRING","getPackageWeight",262],"(",")",")",";",["T_WHITESPACE","\n        ",262],["T_VARIABLE","$r",263],["T_OBJECT_OPERATOR","->",263],["T_STRING","setWeight",263],"(",["T_VARIABLE","$weight",263],")",";",["T_WHITESPACE","\n        ",263],["T_IF","if",264],["T_WHITESPACE"," ",264],"(",["T_VARIABLE","$request",264],["T_OBJECT_OPERATOR","->",264],["T_STRING","getFreeMethodWeight",264],"(",")",["T_IS_NOT_EQUAL","!=",264],["T_WHITESPACE"," ",264],["T_VARIABLE","$request",264],["T_OBJECT_OPERATOR","->",264],["T_STRING","getPackageWeight",264],"(",")",")",["T_WHITESPACE"," ",264],"{",["T_WHITESPACE","\n            ",264],["T_VARIABLE","$r",265],["T_OBJECT_OPERATOR","->",265],["T_STRING","setFreeMethodWeight",265],"(",["T_VARIABLE","$request",265],["T_OBJECT_OPERATOR","->",265],["T_STRING","getFreeMethodWeight",265],"(",")",")",";",["T_WHITESPACE","\n        ",265],"}",["T_WHITESPACE","\n\n        ",266],["T_VARIABLE","$r",268],["T_OBJECT_OPERATOR","->",268],["T_STRING","setValue",268],"(",["T_VARIABLE","$request",268],["T_OBJECT_OPERATOR","->",268],["T_STRING","getPackagePhysicalValue",268],"(",")",")",";",["T_WHITESPACE","\n        ",268],["T_VARIABLE","$r",269],["T_OBJECT_OPERATOR","->",269],["T_STRING","setValueWithDiscount",269],"(",["T_VARIABLE","$request",269],["T_OBJECT_OPERATOR","->",269],["T_STRING","getPackageValueWithDiscount",269],"(",")",")",";",["T_WHITESPACE","\n\n        ",269],["T_VARIABLE","$r",271],["T_OBJECT_OPERATOR","->",271],["T_STRING","setMeterNumber",271],"(",["T_VARIABLE","$this",271],["T_OBJECT_OPERATOR","->",271],["T_STRING","getConfigData",271],"(",["T_CONSTANT_ENCAPSED_STRING","'meter_number'",271],")",")",";",["T_WHITESPACE","\n        ",271],["T_VARIABLE","$r",272],["T_OBJECT_OPERATOR","->",272],["T_STRING","setKey",272],"(",["T_VARIABLE","$this",272],["T_OBJECT_OPERATOR","->",272],["T_STRING","getConfigData",272],"(",["T_CONSTANT_ENCAPSED_STRING","'key'",272],")",")",";",["T_WHITESPACE","\n        ",272],["T_VARIABLE","$r",273],["T_OBJECT_OPERATOR","->",273],["T_STRING","setPassword",273],"(",["T_VARIABLE","$this",273],["T_OBJECT_OPERATOR","->",273],["T_STRING","getConfigData",273],"(",["T_CONSTANT_ENCAPSED_STRING","'password'",273],")",")",";",["T_WHITESPACE","\n\n        ",273],["T_VARIABLE","$r",275],["T_OBJECT_OPERATOR","->",275],["T_STRING","setIsReturn",275],"(",["T_VARIABLE","$request",275],["T_OBJECT_OPERATOR","->",275],["T_STRING","getIsReturn",275],"(",")",")",";",["T_WHITESPACE","\n\n        ",275],["T_VARIABLE","$r",277],["T_OBJECT_OPERATOR","->",277],["T_STRING","setBaseSubtotalInclTax",277],"(",["T_VARIABLE","$request",277],["T_OBJECT_OPERATOR","->",277],["T_STRING","getBaseSubtotalInclTax",277],"(",")",")",";",["T_WHITESPACE","\n\n        ",277],["T_VARIABLE","$this",279],["T_OBJECT_OPERATOR","->",279],["T_STRING","_rawRequest",279],["T_WHITESPACE"," ",279],"=",["T_WHITESPACE"," ",279],["T_VARIABLE","$r",279],";",["T_WHITESPACE","\n\n        ",279],["T_RETURN","return",281],["T_WHITESPACE"," ",281],["T_VARIABLE","$this",281],";",["T_WHITESPACE","\n    ",281],"}",["T_WHITESPACE","\n\n    ",282],["T_DOC_COMMENT","\/**\n     * Get result of request\n     *\n     * @return mixed\n     *\/",284],["T_WHITESPACE","\n    ",288],["T_PUBLIC","public",289],["T_WHITESPACE"," ",289],["T_FUNCTION","function",289],["T_WHITESPACE"," ",289],["T_STRING","getResult",289],"(",")",["T_WHITESPACE","\n    ",289],"{",["T_WHITESPACE","\n       ",290],["T_RETURN","return",291],["T_WHITESPACE"," ",291],["T_VARIABLE","$this",291],["T_OBJECT_OPERATOR","->",291],["T_STRING","_result",291],";",["T_WHITESPACE","\n    ",291],"}",["T_WHITESPACE","\n\n    ",292],["T_DOC_COMMENT","\/**\n     * Get version of rates request\n     *\n     * @return array\n     *\/",294],["T_WHITESPACE","\n    ",298],["T_PUBLIC","public",299],["T_WHITESPACE"," ",299],["T_FUNCTION","function",299],["T_WHITESPACE"," ",299],["T_STRING","getVersionInfo",299],"(",")",["T_WHITESPACE","\n    ",299],"{",["T_WHITESPACE","\n        ",300],["T_RETURN","return",301],["T_WHITESPACE"," ",301],["T_ARRAY","array",301],"(",["T_WHITESPACE","\n            ",301],["T_CONSTANT_ENCAPSED_STRING","'ServiceId'",302],["T_WHITESPACE","    ",302],["T_DOUBLE_ARROW","=>",302],["T_WHITESPACE"," ",302],["T_CONSTANT_ENCAPSED_STRING","'crs'",302],",",["T_WHITESPACE","\n            ",302],["T_CONSTANT_ENCAPSED_STRING","'Major'",303],["T_WHITESPACE","        ",303],["T_DOUBLE_ARROW","=>",303],["T_WHITESPACE"," ",303],["T_CONSTANT_ENCAPSED_STRING","'10'",303],",",["T_WHITESPACE","\n            ",303],["T_CONSTANT_ENCAPSED_STRING","'Intermediate'",304],["T_WHITESPACE"," ",304],["T_DOUBLE_ARROW","=>",304],["T_WHITESPACE"," ",304],["T_CONSTANT_ENCAPSED_STRING","'0'",304],",",["T_WHITESPACE","\n            ",304],["T_CONSTANT_ENCAPSED_STRING","'Minor'",305],["T_WHITESPACE","        ",305],["T_DOUBLE_ARROW","=>",305],["T_WHITESPACE"," ",305],["T_CONSTANT_ENCAPSED_STRING","'0'",305],["T_WHITESPACE","\n        ",305],")",";",["T_WHITESPACE","\n    ",306],"}",["T_WHITESPACE","\n\n    ",307],["T_DOC_COMMENT","\/**\n     * Forming request for rate estimation depending to the purpose\n     *\n     * @param string $purpose\n     * @return array\n     *\/",309],["T_WHITESPACE","\n    ",314],["T_PROTECTED","protected",315],["T_WHITESPACE"," ",315],["T_FUNCTION","function",315],["T_WHITESPACE"," ",315],["T_STRING","_formRateRequest",315],"(",["T_VARIABLE","$purpose",315],")",["T_WHITESPACE","\n    ",315],"{",["T_WHITESPACE","\n        ",316],["T_VARIABLE","$r",317],["T_WHITESPACE"," ",317],"=",["T_WHITESPACE"," ",317],["T_VARIABLE","$this",317],["T_OBJECT_OPERATOR","->",317],["T_STRING","_rawRequest",317],";",["T_WHITESPACE","\n        ",317],["T_VARIABLE","$ratesRequest",318],["T_WHITESPACE"," ",318],"=",["T_WHITESPACE"," ",318],["T_ARRAY","array",318],"(",["T_WHITESPACE","\n            ",318],["T_CONSTANT_ENCAPSED_STRING","'WebAuthenticationDetail'",319],["T_WHITESPACE"," ",319],["T_DOUBLE_ARROW","=>",319],["T_WHITESPACE"," ",319],["T_ARRAY","array",319],"(",["T_WHITESPACE","\n                ",319],["T_CONSTANT_ENCAPSED_STRING","'UserCredential'",320],["T_WHITESPACE"," ",320],["T_DOUBLE_ARROW","=>",320],["T_WHITESPACE"," ",320],["T_ARRAY","array",320],"(",["T_WHITESPACE","\n                    ",320],["T_CONSTANT_ENCAPSED_STRING","'Key'",321],["T_WHITESPACE","      ",321],["T_DOUBLE_ARROW","=>",321],["T_WHITESPACE"," ",321],["T_VARIABLE","$r",321],["T_OBJECT_OPERATOR","->",321],["T_STRING","getKey",321],"(",")",",",["T_WHITESPACE","\n                    ",321],["T_CONSTANT_ENCAPSED_STRING","'Password'",322],["T_WHITESPACE"," ",322],["T_DOUBLE_ARROW","=>",322],["T_WHITESPACE"," ",322],["T_VARIABLE","$r",322],["T_OBJECT_OPERATOR","->",322],["T_STRING","getPassword",322],"(",")",["T_WHITESPACE","\n                ",322],")",["T_WHITESPACE","\n            ",323],")",",",["T_WHITESPACE","\n            ",324],["T_CONSTANT_ENCAPSED_STRING","'ClientDetail'",325],["T_WHITESPACE"," ",325],["T_DOUBLE_ARROW","=>",325],["T_WHITESPACE"," ",325],["T_ARRAY","array",325],"(",["T_WHITESPACE","\n                ",325],["T_CONSTANT_ENCAPSED_STRING","'AccountNumber'",326],["T_WHITESPACE"," ",326],["T_DOUBLE_ARROW","=>",326],["T_WHITESPACE"," ",326],["T_VARIABLE","$r",326],["T_OBJECT_OPERATOR","->",326],["T_STRING","getAccount",326],"(",")",",",["T_WHITESPACE","\n                ",326],["T_CONSTANT_ENCAPSED_STRING","'MeterNumber'",327],["T_WHITESPACE","   ",327],["T_DOUBLE_ARROW","=>",327],["T_WHITESPACE"," ",327],["T_VARIABLE","$r",327],["T_OBJECT_OPERATOR","->",327],["T_STRING","getMeterNumber",327],"(",")",["T_WHITESPACE","\n            ",327],")",",",["T_WHITESPACE","\n            ",328],["T_CONSTANT_ENCAPSED_STRING","'Version'",329],["T_WHITESPACE"," ",329],["T_DOUBLE_ARROW","=>",329],["T_WHITESPACE"," ",329],["T_VARIABLE","$this",329],["T_OBJECT_OPERATOR","->",329],["T_STRING","getVersionInfo",329],"(",")",",",["T_WHITESPACE","\n            ",329],["T_CONSTANT_ENCAPSED_STRING","'RequestedShipment'",330],["T_WHITESPACE"," ",330],["T_DOUBLE_ARROW","=>",330],["T_WHITESPACE"," ",330],["T_ARRAY","array",330],"(",["T_WHITESPACE","\n                ",330],["T_CONSTANT_ENCAPSED_STRING","'DropoffType'",331],["T_WHITESPACE","   ",331],["T_DOUBLE_ARROW","=>",331],["T_WHITESPACE"," ",331],["T_VARIABLE","$r",331],["T_OBJECT_OPERATOR","->",331],["T_STRING","getDropoffType",331],"(",")",",",["T_WHITESPACE","\n                ",331],["T_CONSTANT_ENCAPSED_STRING","'ShipTimestamp'",332],["T_WHITESPACE"," ",332],["T_DOUBLE_ARROW","=>",332],["T_WHITESPACE"," ",332],["T_STRING","date",332],"(",["T_CONSTANT_ENCAPSED_STRING","'c'",332],")",",",["T_WHITESPACE","\n                ",332],["T_CONSTANT_ENCAPSED_STRING","'PackagingType'",333],["T_WHITESPACE"," ",333],["T_DOUBLE_ARROW","=>",333],["T_WHITESPACE"," ",333],["T_VARIABLE","$r",333],["T_OBJECT_OPERATOR","->",333],["T_STRING","getPackaging",333],"(",")",",",["T_WHITESPACE","\n                ",333],["T_CONSTANT_ENCAPSED_STRING","'TotalInsuredValue'",334],["T_WHITESPACE"," ",334],["T_DOUBLE_ARROW","=>",334],["T_WHITESPACE"," ",334],["T_ARRAY","array",334],"(",["T_WHITESPACE","\n                    ",334],["T_CONSTANT_ENCAPSED_STRING","'Amount'",335],["T_WHITESPACE","  ",335],["T_DOUBLE_ARROW","=>",335],["T_WHITESPACE"," ",335],["T_VARIABLE","$r",335],["T_OBJECT_OPERATOR","->",335],["T_STRING","getValue",335],"(",")",",",["T_WHITESPACE","\n                    ",335],["T_CONSTANT_ENCAPSED_STRING","'Currency'",336],["T_WHITESPACE"," ",336],["T_DOUBLE_ARROW","=>",336],["T_WHITESPACE"," ",336],["T_VARIABLE","$this",336],["T_OBJECT_OPERATOR","->",336],["T_STRING","getCurrencyCode",336],"(",")",["T_WHITESPACE","\n                ",336],")",",",["T_WHITESPACE","\n                ",337],["T_CONSTANT_ENCAPSED_STRING","'Shipper'",338],["T_WHITESPACE"," ",338],["T_DOUBLE_ARROW","=>",338],["T_WHITESPACE"," ",338],["T_ARRAY","array",338],"(",["T_WHITESPACE","\n                    ",338],["T_CONSTANT_ENCAPSED_STRING","'Address'",339],["T_WHITESPACE"," ",339],["T_DOUBLE_ARROW","=>",339],["T_WHITESPACE"," ",339],["T_ARRAY","array",339],"(",["T_WHITESPACE","\n                        ",339],["T_CONSTANT_ENCAPSED_STRING","'PostalCode'",340],["T_WHITESPACE","  ",340],["T_DOUBLE_ARROW","=>",340],["T_WHITESPACE"," ",340],["T_VARIABLE","$r",340],["T_OBJECT_OPERATOR","->",340],["T_STRING","getOrigPostal",340],"(",")",",",["T_WHITESPACE","\n                        ",340],["T_CONSTANT_ENCAPSED_STRING","'CountryCode'",341],["T_WHITESPACE"," ",341],["T_DOUBLE_ARROW","=>",341],["T_WHITESPACE"," ",341],["T_VARIABLE","$r",341],["T_OBJECT_OPERATOR","->",341],["T_STRING","getOrigCountry",341],"(",")",["T_WHITESPACE","\n                    ",341],")",["T_WHITESPACE","\n                ",342],")",",",["T_WHITESPACE","\n                ",343],["T_CONSTANT_ENCAPSED_STRING","'Recipient'",344],["T_WHITESPACE"," ",344],["T_DOUBLE_ARROW","=>",344],["T_WHITESPACE"," ",344],["T_ARRAY","array",344],"(",["T_WHITESPACE","\n                    ",344],["T_CONSTANT_ENCAPSED_STRING","'Address'",345],["T_WHITESPACE"," ",345],["T_DOUBLE_ARROW","=>",345],["T_WHITESPACE"," ",345],["T_ARRAY","array",345],"(",["T_WHITESPACE","\n                        ",345],["T_CONSTANT_ENCAPSED_STRING","'PostalCode'",346],["T_WHITESPACE","  ",346],["T_DOUBLE_ARROW","=>",346],["T_WHITESPACE"," ",346],["T_VARIABLE","$r",346],["T_OBJECT_OPERATOR","->",346],["T_STRING","getDestPostal",346],"(",")",",",["T_WHITESPACE","\n                        ",346],["T_CONSTANT_ENCAPSED_STRING","'CountryCode'",347],["T_WHITESPACE"," ",347],["T_DOUBLE_ARROW","=>",347],["T_WHITESPACE"," ",347],["T_VARIABLE","$r",347],["T_OBJECT_OPERATOR","->",347],["T_STRING","getDestCountry",347],"(",")",",",["T_WHITESPACE","\n                        ",347],["T_CONSTANT_ENCAPSED_STRING","'Residential'",348],["T_WHITESPACE"," ",348],["T_DOUBLE_ARROW","=>",348],["T_WHITESPACE"," ",348],["T_BOOL_CAST","(bool)",348],["T_VARIABLE","$this",348],["T_OBJECT_OPERATOR","->",348],["T_STRING","getConfigData",348],"(",["T_CONSTANT_ENCAPSED_STRING","'residence_delivery'",348],")",["T_WHITESPACE","\n                    ",348],")",["T_WHITESPACE","\n                ",349],")",",",["T_WHITESPACE","\n                ",350],["T_CONSTANT_ENCAPSED_STRING","'ShippingChargesPayment'",351],["T_WHITESPACE"," ",351],["T_DOUBLE_ARROW","=>",351],["T_WHITESPACE"," ",351],["T_ARRAY","array",351],"(",["T_WHITESPACE","\n                    ",351],["T_CONSTANT_ENCAPSED_STRING","'PaymentType'",352],["T_WHITESPACE"," ",352],["T_DOUBLE_ARROW","=>",352],["T_WHITESPACE"," ",352],["T_CONSTANT_ENCAPSED_STRING","'SENDER'",352],",",["T_WHITESPACE","\n                    ",352],["T_CONSTANT_ENCAPSED_STRING","'Payor'",353],["T_WHITESPACE"," ",353],["T_DOUBLE_ARROW","=>",353],["T_WHITESPACE"," ",353],["T_ARRAY","array",353],"(",["T_WHITESPACE","\n                        ",353],["T_CONSTANT_ENCAPSED_STRING","'AccountNumber'",354],["T_WHITESPACE"," ",354],["T_DOUBLE_ARROW","=>",354],["T_WHITESPACE"," ",354],["T_VARIABLE","$r",354],["T_OBJECT_OPERATOR","->",354],["T_STRING","getAccount",354],"(",")",",",["T_WHITESPACE","\n                        ",354],["T_CONSTANT_ENCAPSED_STRING","'CountryCode'",355],["T_WHITESPACE","   ",355],["T_DOUBLE_ARROW","=>",355],["T_WHITESPACE"," ",355],["T_VARIABLE","$r",355],["T_OBJECT_OPERATOR","->",355],["T_STRING","getOrigCountry",355],"(",")",["T_WHITESPACE","\n                    ",355],")",["T_WHITESPACE","\n                ",356],")",",",["T_WHITESPACE","\n                ",357],["T_CONSTANT_ENCAPSED_STRING","'CustomsClearanceDetail'",358],["T_WHITESPACE"," ",358],["T_DOUBLE_ARROW","=>",358],["T_WHITESPACE"," ",358],["T_ARRAY","array",358],"(",["T_WHITESPACE","\n                    ",358],["T_CONSTANT_ENCAPSED_STRING","'CustomsValue'",359],["T_WHITESPACE"," ",359],["T_DOUBLE_ARROW","=>",359],["T_WHITESPACE"," ",359],["T_ARRAY","array",359],"(",["T_WHITESPACE","\n                        ",359],["T_CONSTANT_ENCAPSED_STRING","'Amount'",360],["T_WHITESPACE"," ",360],["T_DOUBLE_ARROW","=>",360],["T_WHITESPACE"," ",360],["T_VARIABLE","$r",360],["T_OBJECT_OPERATOR","->",360],["T_STRING","getValue",360],"(",")",",",["T_WHITESPACE","\n                        ",360],["T_CONSTANT_ENCAPSED_STRING","'Currency'",361],["T_WHITESPACE"," ",361],["T_DOUBLE_ARROW","=>",361],["T_WHITESPACE"," ",361],["T_VARIABLE","$this",361],["T_OBJECT_OPERATOR","->",361],["T_STRING","getCurrencyCode",361],"(",")",["T_WHITESPACE","\n                    ",361],")",["T_WHITESPACE","\n                ",362],")",",",["T_WHITESPACE","\n                ",363],["T_CONSTANT_ENCAPSED_STRING","'RateRequestTypes'",364],["T_WHITESPACE"," ",364],["T_DOUBLE_ARROW","=>",364],["T_WHITESPACE"," ",364],["T_CONSTANT_ENCAPSED_STRING","'LIST'",364],",",["T_WHITESPACE","\n                ",364],["T_CONSTANT_ENCAPSED_STRING","'PackageCount'",365],["T_WHITESPACE","     ",365],["T_DOUBLE_ARROW","=>",365],["T_WHITESPACE"," ",365],["T_CONSTANT_ENCAPSED_STRING","'1'",365],",",["T_WHITESPACE","\n                ",365],["T_CONSTANT_ENCAPSED_STRING","'PackageDetail'",366],["T_WHITESPACE","    ",366],["T_DOUBLE_ARROW","=>",366],["T_WHITESPACE"," ",366],["T_CONSTANT_ENCAPSED_STRING","'INDIVIDUAL_PACKAGES'",366],",",["T_WHITESPACE","\n                ",366],["T_CONSTANT_ENCAPSED_STRING","'RequestedPackageLineItems'",367],["T_WHITESPACE"," ",367],["T_DOUBLE_ARROW","=>",367],["T_WHITESPACE"," ",367],["T_ARRAY","array",367],"(",["T_WHITESPACE","\n                    ",367],["T_CONSTANT_ENCAPSED_STRING","'0'",368],["T_WHITESPACE"," ",368],["T_DOUBLE_ARROW","=>",368],["T_WHITESPACE"," ",368],["T_ARRAY","array",368],"(",["T_WHITESPACE","\n                        ",368],["T_CONSTANT_ENCAPSED_STRING","'Weight'",369],["T_WHITESPACE"," ",369],["T_DOUBLE_ARROW","=>",369],["T_WHITESPACE"," ",369],["T_ARRAY","array",369],"(",["T_WHITESPACE","\n                            ",369],["T_CONSTANT_ENCAPSED_STRING","'Value'",370],["T_WHITESPACE"," ",370],["T_DOUBLE_ARROW","=>",370],["T_WHITESPACE"," ",370],["T_DOUBLE_CAST","(float)",370],["T_VARIABLE","$r",370],["T_OBJECT_OPERATOR","->",370],["T_STRING","getWeight",370],"(",")",",",["T_WHITESPACE","\n                            ",370],["T_CONSTANT_ENCAPSED_STRING","'Units'",371],["T_WHITESPACE"," ",371],["T_DOUBLE_ARROW","=>",371],["T_WHITESPACE"," ",371],["T_VARIABLE","$this",371],["T_OBJECT_OPERATOR","->",371],["T_STRING","getConfigData",371],"(",["T_CONSTANT_ENCAPSED_STRING","'unit_of_measure'",371],")",["T_WHITESPACE","\n                        ",371],")",",",["T_WHITESPACE","\n                        ",372],["T_CONSTANT_ENCAPSED_STRING","'GroupPackageCount'",373],["T_WHITESPACE"," ",373],["T_DOUBLE_ARROW","=>",373],["T_WHITESPACE"," ",373],["T_LNUMBER","1",373],",",["T_WHITESPACE","\n                    ",373],")",["T_WHITESPACE","\n                ",374],")",["T_WHITESPACE","\n            ",375],")",["T_WHITESPACE","\n        ",376],")",";",["T_WHITESPACE","\n\n        ",377],["T_IF","if",379],["T_WHITESPACE"," ",379],"(",["T_VARIABLE","$purpose",379],["T_WHITESPACE"," ",379],["T_IS_EQUAL","==",379],["T_WHITESPACE"," ",379],["T_STRING","self",379],["T_DOUBLE_COLON","::",379],["T_STRING","RATE_REQUEST_GENERAL",379],")",["T_WHITESPACE"," ",379],"{",["T_WHITESPACE","\n            ",379],["T_VARIABLE","$ratesRequest",380],"[",["T_CONSTANT_ENCAPSED_STRING","'RequestedShipment'",380],"]","[",["T_CONSTANT_ENCAPSED_STRING","'RequestedPackageLineItems'",380],"]","[",["T_LNUMBER","0",380],"]","[",["T_CONSTANT_ENCAPSED_STRING","'InsuredValue'",380],"]",["T_WHITESPACE"," ",380],"=",["T_WHITESPACE"," ",380],["T_ARRAY","array",380],"(",["T_WHITESPACE","\n                ",380],["T_CONSTANT_ENCAPSED_STRING","'Amount'",381],["T_WHITESPACE","  ",381],["T_DOUBLE_ARROW","=>",381],["T_WHITESPACE"," ",381],["T_VARIABLE","$r",381],["T_OBJECT_OPERATOR","->",381],["T_STRING","getValue",381],"(",")",",",["T_WHITESPACE","\n                ",381],["T_CONSTANT_ENCAPSED_STRING","'Currency'",382],["T_WHITESPACE"," ",382],["T_DOUBLE_ARROW","=>",382],["T_WHITESPACE"," ",382],["T_VARIABLE","$this",382],["T_OBJECT_OPERATOR","->",382],["T_STRING","getCurrencyCode",382],"(",")",["T_WHITESPACE","\n            ",382],")",";",["T_WHITESPACE","\n        ",383],"}",["T_WHITESPACE"," ",384],["T_ELSE","else",384],["T_WHITESPACE"," ",384],["T_IF","if",384],["T_WHITESPACE"," ",384],"(",["T_VARIABLE","$purpose",384],["T_WHITESPACE"," ",384],["T_IS_EQUAL","==",384],["T_WHITESPACE"," ",384],["T_STRING","self",384],["T_DOUBLE_COLON","::",384],["T_STRING","RATE_REQUEST_SMARTPOST",384],")",["T_WHITESPACE"," ",384],"{",["T_WHITESPACE","\n            ",384],["T_VARIABLE","$ratesRequest",385],"[",["T_CONSTANT_ENCAPSED_STRING","'RequestedShipment'",385],"]","[",["T_CONSTANT_ENCAPSED_STRING","'ServiceType'",385],"]",["T_WHITESPACE"," ",385],"=",["T_WHITESPACE"," ",385],["T_STRING","self",385],["T_DOUBLE_COLON","::",385],["T_STRING","RATE_REQUEST_SMARTPOST",385],";",["T_WHITESPACE","\n            ",385],["T_VARIABLE","$ratesRequest",386],"[",["T_CONSTANT_ENCAPSED_STRING","'RequestedShipment'",386],"]","[",["T_CONSTANT_ENCAPSED_STRING","'SmartPostDetail'",386],"]",["T_WHITESPACE"," ",386],"=",["T_WHITESPACE"," ",386],["T_ARRAY","array",386],"(",["T_WHITESPACE","\n                ",386],["T_CONSTANT_ENCAPSED_STRING","'Indicia'",387],["T_WHITESPACE"," ",387],["T_DOUBLE_ARROW","=>",387],["T_WHITESPACE"," ",387],"(",["T_DOUBLE_CAST","(float)",387],["T_VARIABLE","$r",387],["T_OBJECT_OPERATOR","->",387],["T_STRING","getWeight",387],"(",")",["T_WHITESPACE"," ",387],["T_IS_GREATER_OR_EQUAL",">=",387],["T_WHITESPACE"," ",387],["T_LNUMBER","1",387],")",["T_WHITESPACE"," ",387],"?",["T_WHITESPACE"," ",387],["T_CONSTANT_ENCAPSED_STRING","'PARCEL_SELECT'",387],["T_WHITESPACE"," ",387],":",["T_WHITESPACE"," ",387],["T_CONSTANT_ENCAPSED_STRING","'PRESORTED_STANDARD'",387],",",["T_WHITESPACE","\n                ",387],["T_CONSTANT_ENCAPSED_STRING","'HubId'",388],["T_WHITESPACE"," ",388],["T_DOUBLE_ARROW","=>",388],["T_WHITESPACE"," ",388],["T_VARIABLE","$this",388],["T_OBJECT_OPERATOR","->",388],["T_STRING","getConfigData",388],"(",["T_CONSTANT_ENCAPSED_STRING","'smartpost_hubid'",388],")",["T_WHITESPACE","\n            ",388],")",";",["T_WHITESPACE","\n        ",389],"}",["T_WHITESPACE","\n\n        ",390],["T_RETURN","return",392],["T_WHITESPACE"," ",392],["T_VARIABLE","$ratesRequest",392],";",["T_WHITESPACE","\n    ",392],"}",["T_WHITESPACE","\n\n    ",393],["T_DOC_COMMENT","\/**\n     * Makes remote request to the carrier and returns a response\n     *\n     * @param string $purpose\n     * @return mixed\n     *\/",395],["T_WHITESPACE","\n    ",400],["T_PROTECTED","protected",401],["T_WHITESPACE"," ",401],["T_FUNCTION","function",401],["T_WHITESPACE"," ",401],["T_STRING","_doRatesRequest",401],"(",["T_VARIABLE","$purpose",401],")",["T_WHITESPACE","\n    ",401],"{",["T_WHITESPACE","\n        ",402],["T_VARIABLE","$ratesRequest",403],["T_WHITESPACE"," ",403],"=",["T_WHITESPACE"," ",403],["T_VARIABLE","$this",403],["T_OBJECT_OPERATOR","->",403],["T_STRING","_formRateRequest",403],"(",["T_VARIABLE","$purpose",403],")",";",["T_WHITESPACE","\n        ",403],["T_VARIABLE","$requestString",404],["T_WHITESPACE"," ",404],"=",["T_WHITESPACE"," ",404],["T_STRING","serialize",404],"(",["T_VARIABLE","$ratesRequest",404],")",";",["T_WHITESPACE","\n        ",404],["T_VARIABLE","$response",405],["T_WHITESPACE"," ",405],"=",["T_WHITESPACE"," ",405],["T_VARIABLE","$this",405],["T_OBJECT_OPERATOR","->",405],["T_STRING","_getCachedQuotes",405],"(",["T_VARIABLE","$requestString",405],")",";",["T_WHITESPACE","\n        ",405],["T_VARIABLE","$debugData",406],["T_WHITESPACE"," ",406],"=",["T_WHITESPACE"," ",406],["T_ARRAY","array",406],"(",["T_CONSTANT_ENCAPSED_STRING","'request'",406],["T_WHITESPACE"," ",406],["T_DOUBLE_ARROW","=>",406],["T_WHITESPACE"," ",406],["T_VARIABLE","$ratesRequest",406],")",";",["T_WHITESPACE","\n        ",406],["T_IF","if",407],["T_WHITESPACE"," ",407],"(",["T_VARIABLE","$response",407],["T_WHITESPACE"," ",407],["T_IS_IDENTICAL","===",407],["T_WHITESPACE"," ",407],["T_STRING","null",407],")",["T_WHITESPACE"," ",407],"{",["T_WHITESPACE","\n            ",407],["T_TRY","try",408],["T_WHITESPACE"," ",408],"{",["T_WHITESPACE","\n                ",408],["T_VARIABLE","$client",409],["T_WHITESPACE"," ",409],"=",["T_WHITESPACE"," ",409],["T_VARIABLE","$this",409],["T_OBJECT_OPERATOR","->",409],["T_STRING","_createRateSoapClient",409],"(",")",";",["T_WHITESPACE","\n                ",409],["T_VARIABLE","$response",410],["T_WHITESPACE"," ",410],"=",["T_WHITESPACE"," ",410],["T_VARIABLE","$client",410],["T_OBJECT_OPERATOR","->",410],["T_STRING","getRates",410],"(",["T_VARIABLE","$ratesRequest",410],")",";",["T_WHITESPACE","\n                ",410],["T_VARIABLE","$this",411],["T_OBJECT_OPERATOR","->",411],["T_STRING","_setCachedQuotes",411],"(",["T_VARIABLE","$requestString",411],",",["T_WHITESPACE"," ",411],["T_STRING","serialize",411],"(",["T_VARIABLE","$response",411],")",")",";",["T_WHITESPACE","\n                ",411],["T_VARIABLE","$debugData",412],"[",["T_CONSTANT_ENCAPSED_STRING","'result'",412],"]",["T_WHITESPACE"," ",412],"=",["T_WHITESPACE"," ",412],["T_VARIABLE","$response",412],";",["T_WHITESPACE","\n            ",412],"}",["T_WHITESPACE"," ",413],["T_CATCH","catch",413],["T_WHITESPACE"," ",413],"(",["T_STRING","Exception",413],["T_WHITESPACE"," ",413],["T_VARIABLE","$e",413],")",["T_WHITESPACE"," ",413],"{",["T_WHITESPACE","\n                ",413],["T_VARIABLE","$debugData",414],"[",["T_CONSTANT_ENCAPSED_STRING","'result'",414],"]",["T_WHITESPACE"," ",414],"=",["T_WHITESPACE"," ",414],["T_ARRAY","array",414],"(",["T_CONSTANT_ENCAPSED_STRING","'error'",414],["T_WHITESPACE"," ",414],["T_DOUBLE_ARROW","=>",414],["T_WHITESPACE"," ",414],["T_VARIABLE","$e",414],["T_OBJECT_OPERATOR","->",414],["T_STRING","getMessage",414],"(",")",",",["T_WHITESPACE"," ",414],["T_CONSTANT_ENCAPSED_STRING","'code'",414],["T_WHITESPACE"," ",414],["T_DOUBLE_ARROW","=>",414],["T_WHITESPACE"," ",414],["T_VARIABLE","$e",414],["T_OBJECT_OPERATOR","->",414],["T_STRING","getCode",414],"(",")",")",";",["T_WHITESPACE","\n                ",414],["T_STRING","Mage",415],["T_DOUBLE_COLON","::",415],["T_STRING","logException",415],"(",["T_VARIABLE","$e",415],")",";",["T_WHITESPACE","\n            ",415],"}",["T_WHITESPACE","\n        ",416],"}",["T_WHITESPACE"," ",417],["T_ELSE","else",417],["T_WHITESPACE"," ",417],"{",["T_WHITESPACE","\n            ",417],["T_VARIABLE","$response",418],["T_WHITESPACE"," ",418],"=",["T_WHITESPACE"," ",418],["T_STRING","unserialize",418],"(",["T_VARIABLE","$response",418],")",";",["T_WHITESPACE","\n            ",418],["T_VARIABLE","$debugData",419],"[",["T_CONSTANT_ENCAPSED_STRING","'result'",419],"]",["T_WHITESPACE"," ",419],"=",["T_WHITESPACE"," ",419],["T_VARIABLE","$response",419],";",["T_WHITESPACE","\n        ",419],"}",["T_WHITESPACE","\n        ",420],["T_VARIABLE","$this",421],["T_OBJECT_OPERATOR","->",421],["T_STRING","_debug",421],"(",["T_VARIABLE","$debugData",421],")",";",["T_WHITESPACE","\n        ",421],["T_RETURN","return",422],["T_WHITESPACE"," ",422],["T_VARIABLE","$response",422],";",["T_WHITESPACE","\n    ",422],"}",["T_WHITESPACE","\n\n    ",423],["T_DOC_COMMENT","\/**\n     * Do remote request for and handle errors\n     *\n     * @return Mage_Shipping_Model_Rate_Result\n     *\/",425],["T_WHITESPACE","\n    ",429],["T_PROTECTED","protected",430],["T_WHITESPACE"," ",430],["T_FUNCTION","function",430],["T_WHITESPACE"," ",430],["T_STRING","_getQuotes",430],"(",")",["T_WHITESPACE","\n    ",430],"{",["T_WHITESPACE","\n        ",431],["T_VARIABLE","$this",432],["T_OBJECT_OPERATOR","->",432],["T_STRING","_result",432],["T_WHITESPACE"," ",432],"=",["T_WHITESPACE"," ",432],["T_STRING","Mage",432],["T_DOUBLE_COLON","::",432],["T_STRING","getModel",432],"(",["T_CONSTANT_ENCAPSED_STRING","'shipping\/rate_result'",432],")",";",["T_WHITESPACE","\n        ",432],["T_VARIABLE","$allowedMethods",433],["T_WHITESPACE"," ",433],"=",["T_WHITESPACE"," ",433],["T_STRING","explode",433],"(",["T_CONSTANT_ENCAPSED_STRING","','",433],",",["T_WHITESPACE"," ",433],["T_VARIABLE","$this",433],["T_OBJECT_OPERATOR","->",433],["T_STRING","getConfigData",433],"(",["T_CONSTANT_ENCAPSED_STRING","'allowed_methods'",433],")",")",";",["T_WHITESPACE","\n        ",433],["T_IF","if",434],["T_WHITESPACE"," ",434],"(",["T_STRING","in_array",434],"(",["T_STRING","self",434],["T_DOUBLE_COLON","::",434],["T_STRING","RATE_REQUEST_SMARTPOST",434],",",["T_WHITESPACE"," ",434],["T_VARIABLE","$allowedMethods",434],")",")",["T_WHITESPACE"," ",434],"{",["T_WHITESPACE","\n            ",434],["T_VARIABLE","$response",435],["T_WHITESPACE"," ",435],"=",["T_WHITESPACE"," ",435],["T_VARIABLE","$this",435],["T_OBJECT_OPERATOR","->",435],["T_STRING","_doRatesRequest",435],"(",["T_STRING","self",435],["T_DOUBLE_COLON","::",435],["T_STRING","RATE_REQUEST_SMARTPOST",435],")",";",["T_WHITESPACE","\n            ",435],["T_VARIABLE","$preparedSmartpost",436],["T_WHITESPACE"," ",436],"=",["T_WHITESPACE"," ",436],["T_VARIABLE","$this",436],["T_OBJECT_OPERATOR","->",436],["T_STRING","_prepareRateResponse",436],"(",["T_VARIABLE","$response",436],")",";",["T_WHITESPACE","\n            ",436],["T_VARIABLE","$this",437],["T_OBJECT_OPERATOR","->",437],["T_STRING","_result",437],["T_OBJECT_OPERATOR","->",437],["T_STRING","append",437],"(",["T_VARIABLE","$preparedSmartpost",437],")",";",["T_WHITESPACE","\n        ",437],"}",["T_WHITESPACE","\n        ",438],["T_VARIABLE","$response",439],["T_WHITESPACE"," ",439],"=",["T_WHITESPACE"," ",439],["T_VARIABLE","$this",439],["T_OBJECT_OPERATOR","->",439],["T_STRING","_doRatesRequest",439],"(",["T_STRING","self",439],["T_DOUBLE_COLON","::",439],["T_STRING","RATE_REQUEST_GENERAL",439],")",";",["T_WHITESPACE","\n        ",439],["T_VARIABLE","$preparedGeneral",440],["T_WHITESPACE"," ",440],"=",["T_WHITESPACE"," ",440],["T_VARIABLE","$this",440],["T_OBJECT_OPERATOR","->",440],["T_STRING","_prepareRateResponse",440],"(",["T_VARIABLE","$response",440],")",";",["T_WHITESPACE","\n        ",440],["T_IF","if",441],["T_WHITESPACE"," ",441],"(",["T_VARIABLE","$this",441],["T_OBJECT_OPERATOR","->",441],["T_STRING","_result",441],["T_OBJECT_OPERATOR","->",441],["T_STRING","getError",441],"(",")",["T_WHITESPACE"," ",441],["T_BOOLEAN_AND","&&",441],["T_WHITESPACE"," ",441],["T_VARIABLE","$preparedGeneral",441],["T_OBJECT_OPERATOR","->",441],["T_STRING","getError",441],"(",")",")",["T_WHITESPACE"," ",441],"{",["T_WHITESPACE","\n            ",441],["T_RETURN","return",442],["T_WHITESPACE"," ",442],["T_VARIABLE","$this",442],["T_OBJECT_OPERATOR","->",442],["T_STRING","_result",442],["T_OBJECT_OPERATOR","->",442],["T_STRING","getError",442],"(",")",";",["T_WHITESPACE","\n        ",442],"}",["T_WHITESPACE","\n        ",443],["T_VARIABLE","$this",444],["T_OBJECT_OPERATOR","->",444],["T_STRING","_result",444],["T_OBJECT_OPERATOR","->",444],["T_STRING","append",444],"(",["T_VARIABLE","$preparedGeneral",444],")",";",["T_WHITESPACE","\n        ",444],["T_VARIABLE","$this",445],["T_OBJECT_OPERATOR","->",445],["T_STRING","_removeErrorsIfRateExist",445],"(",")",";",["T_WHITESPACE","\n\n        ",445],["T_RETURN","return",447],["T_WHITESPACE"," ",447],["T_VARIABLE","$this",447],["T_OBJECT_OPERATOR","->",447],["T_STRING","_result",447],";",["T_WHITESPACE","\n    ",447],"}",["T_WHITESPACE","\n\n    ",448],["T_DOC_COMMENT","\/**\n     * Remove Errors in Case When Rate Exist\n     *\n     * @return Mage_Shipping_Model_Rate_Result\n     *\/",450],["T_WHITESPACE","\n    ",454],["T_PROTECTED","protected",455],["T_WHITESPACE"," ",455],["T_FUNCTION","function",455],["T_WHITESPACE"," ",455],["T_STRING","_removeErrorsIfRateExist",455],"(",")",["T_WHITESPACE","\n    ",455],"{",["T_WHITESPACE","\n        ",456],["T_VARIABLE","$rateResultExist",457],["T_WHITESPACE"," ",457],"=",["T_WHITESPACE"," ",457],["T_STRING","false",457],";",["T_WHITESPACE","\n        ",457],["T_VARIABLE","$rates",458],["T_WHITESPACE","           ",458],"=",["T_WHITESPACE"," ",458],["T_ARRAY","array",458],"(",")",";",["T_WHITESPACE","\n        ",458],["T_FOREACH","foreach",459],["T_WHITESPACE"," ",459],"(",["T_VARIABLE","$this",459],["T_OBJECT_OPERATOR","->",459],["T_STRING","_result",459],["T_OBJECT_OPERATOR","->",459],["T_STRING","getAllRates",459],"(",")",["T_WHITESPACE"," ",459],["T_AS","as",459],["T_WHITESPACE"," ",459],["T_VARIABLE","$rate",459],")",["T_WHITESPACE"," ",459],"{",["T_WHITESPACE","\n            ",459],["T_IF","if",460],["T_WHITESPACE"," ",460],"(","!","(",["T_VARIABLE","$rate",460],["T_WHITESPACE"," ",460],["T_INSTANCEOF","instanceof",460],["T_WHITESPACE"," ",460],["T_STRING","Mage_Shipping_Model_Rate_Result_Error",460],")",")",["T_WHITESPACE"," ",460],"{",["T_WHITESPACE","\n                ",460],["T_VARIABLE","$rateResultExist",461],["T_WHITESPACE"," ",461],"=",["T_WHITESPACE"," ",461],["T_STRING","true",461],";",["T_WHITESPACE","\n                ",461],["T_VARIABLE","$rates",462],"[","]",["T_WHITESPACE"," ",462],"=",["T_WHITESPACE"," ",462],["T_VARIABLE","$rate",462],";",["T_WHITESPACE","\n            ",462],"}",["T_WHITESPACE","\n        ",463],"}",["T_WHITESPACE","\n\n        ",464],["T_IF","if",466],["T_WHITESPACE"," ",466],"(",["T_VARIABLE","$rateResultExist",466],")",["T_WHITESPACE"," ",466],"{",["T_WHITESPACE","\n            ",466],["T_VARIABLE","$this",467],["T_OBJECT_OPERATOR","->",467],["T_STRING","_result",467],["T_OBJECT_OPERATOR","->",467],["T_STRING","reset",467],"(",")",";",["T_WHITESPACE","\n            ",467],["T_VARIABLE","$this",468],["T_OBJECT_OPERATOR","->",468],["T_STRING","_result",468],["T_OBJECT_OPERATOR","->",468],["T_STRING","setError",468],"(",["T_STRING","false",468],")",";",["T_WHITESPACE","\n            ",468],["T_FOREACH","foreach",469],["T_WHITESPACE"," ",469],"(",["T_VARIABLE","$rates",469],["T_WHITESPACE"," ",469],["T_AS","as",469],["T_WHITESPACE"," ",469],["T_VARIABLE","$rate",469],")",["T_WHITESPACE"," ",469],"{",["T_WHITESPACE","\n                ",469],["T_VARIABLE","$this",470],["T_OBJECT_OPERATOR","->",470],["T_STRING","_result",470],["T_OBJECT_OPERATOR","->",470],["T_STRING","append",470],"(",["T_VARIABLE","$rate",470],")",";",["T_WHITESPACE","\n            ",470],"}",["T_WHITESPACE","\n        ",471],"}",["T_WHITESPACE","\n\n        ",472],["T_RETURN","return",474],["T_WHITESPACE"," ",474],["T_VARIABLE","$this",474],["T_OBJECT_OPERATOR","->",474],["T_STRING","_result",474],";",["T_WHITESPACE","\n    ",474],"}",["T_WHITESPACE","\n\n    ",475],["T_DOC_COMMENT","\/**\n     * Prepare shipping rate result based on response\n     *\n     * @param mixed $response\n     * @return Mage_Shipping_Model_Rate_Result\n     *\/",477],["T_WHITESPACE","\n    ",482],["T_PROTECTED","protected",483],["T_WHITESPACE"," ",483],["T_FUNCTION","function",483],["T_WHITESPACE"," ",483],["T_STRING","_prepareRateResponse",483],"(",["T_VARIABLE","$response",483],")",["T_WHITESPACE","\n    ",483],"{",["T_WHITESPACE","\n        ",484],["T_VARIABLE","$costArr",485],["T_WHITESPACE"," ",485],"=",["T_WHITESPACE"," ",485],["T_ARRAY","array",485],"(",")",";",["T_WHITESPACE","\n        ",485],["T_VARIABLE","$priceArr",486],["T_WHITESPACE"," ",486],"=",["T_WHITESPACE"," ",486],["T_ARRAY","array",486],"(",")",";",["T_WHITESPACE","\n        ",486],["T_VARIABLE","$errorTitle",487],["T_WHITESPACE"," ",487],"=",["T_WHITESPACE"," ",487],["T_CONSTANT_ENCAPSED_STRING","'Unable to retrieve tracking'",487],";",["T_WHITESPACE","\n\n        ",487],["T_IF","if",489],["T_WHITESPACE"," ",489],"(",["T_STRING","is_object",489],"(",["T_VARIABLE","$response",489],")",")",["T_WHITESPACE"," ",489],"{",["T_WHITESPACE","\n            ",489],["T_IF","if",490],["T_WHITESPACE"," ",490],"(",["T_VARIABLE","$response",490],["T_OBJECT_OPERATOR","->",490],["T_STRING","HighestSeverity",490],["T_WHITESPACE"," ",490],["T_IS_EQUAL","==",490],["T_WHITESPACE"," ",490],["T_CONSTANT_ENCAPSED_STRING","'FAILURE'",490],["T_WHITESPACE"," ",490],["T_BOOLEAN_OR","||",490],["T_WHITESPACE"," ",490],["T_VARIABLE","$response",490],["T_OBJECT_OPERATOR","->",490],["T_STRING","HighestSeverity",490],["T_WHITESPACE"," ",490],["T_IS_EQUAL","==",490],["T_WHITESPACE"," ",490],["T_CONSTANT_ENCAPSED_STRING","'ERROR'",490],")",["T_WHITESPACE"," ",490],"{",["T_WHITESPACE","\n                ",490],["T_IF","if",491],["T_WHITESPACE"," ",491],"(",["T_STRING","is_array",491],"(",["T_VARIABLE","$response",491],["T_OBJECT_OPERATOR","->",491],["T_STRING","Notifications",491],")",")",["T_WHITESPACE"," ",491],"{",["T_WHITESPACE","\n                    ",491],["T_VARIABLE","$notification",492],["T_WHITESPACE"," ",492],"=",["T_WHITESPACE"," ",492],["T_STRING","array_pop",492],"(",["T_VARIABLE","$response",492],["T_OBJECT_OPERATOR","->",492],["T_STRING","Notifications",492],")",";",["T_WHITESPACE","\n                    ",492],["T_VARIABLE","$errorTitle",493],["T_WHITESPACE"," ",493],"=",["T_WHITESPACE"," ",493],["T_STRING_CAST","(string)",493],["T_VARIABLE","$notification",493],["T_OBJECT_OPERATOR","->",493],["T_STRING","Message",493],";",["T_WHITESPACE","\n                ",493],"}",["T_WHITESPACE"," ",494],["T_ELSE","else",494],["T_WHITESPACE"," ",494],"{",["T_WHITESPACE","\n                    ",494],["T_VARIABLE","$errorTitle",495],["T_WHITESPACE"," ",495],"=",["T_WHITESPACE"," ",495],["T_STRING_CAST","(string)",495],["T_VARIABLE","$response",495],["T_OBJECT_OPERATOR","->",495],["T_STRING","Notifications",495],["T_OBJECT_OPERATOR","->",495],["T_STRING","Message",495],";",["T_WHITESPACE","\n                ",495],"}",["T_WHITESPACE","\n            ",496],"}",["T_WHITESPACE"," ",497],["T_ELSEIF","elseif",497],["T_WHITESPACE"," ",497],"(",["T_ISSET","isset",497],"(",["T_VARIABLE","$response",497],["T_OBJECT_OPERATOR","->",497],["T_STRING","RateReplyDetails",497],")",")",["T_WHITESPACE"," ",497],"{",["T_WHITESPACE","\n                ",497],["T_VARIABLE","$allowedMethods",498],["T_WHITESPACE"," ",498],"=",["T_WHITESPACE"," ",498],["T_STRING","explode",498],"(",["T_CONSTANT_ENCAPSED_STRING","\",\"",498],",",["T_WHITESPACE"," ",498],["T_VARIABLE","$this",498],["T_OBJECT_OPERATOR","->",498],["T_STRING","getConfigData",498],"(",["T_CONSTANT_ENCAPSED_STRING","'allowed_methods'",498],")",")",";",["T_WHITESPACE","\n\n                ",498],["T_IF","if",500],["T_WHITESPACE"," ",500],"(",["T_STRING","is_array",500],"(",["T_VARIABLE","$response",500],["T_OBJECT_OPERATOR","->",500],["T_STRING","RateReplyDetails",500],")",")",["T_WHITESPACE"," ",500],"{",["T_WHITESPACE","\n                    ",500],["T_FOREACH","foreach",501],["T_WHITESPACE"," ",501],"(",["T_VARIABLE","$response",501],["T_OBJECT_OPERATOR","->",501],["T_STRING","RateReplyDetails",501],["T_WHITESPACE"," ",501],["T_AS","as",501],["T_WHITESPACE"," ",501],["T_VARIABLE","$rate",501],")",["T_WHITESPACE"," ",501],"{",["T_WHITESPACE","\n                        ",501],["T_VARIABLE","$serviceName",502],["T_WHITESPACE"," ",502],"=",["T_WHITESPACE"," ",502],["T_STRING_CAST","(string)",502],["T_VARIABLE","$rate",502],["T_OBJECT_OPERATOR","->",502],["T_STRING","ServiceType",502],";",["T_WHITESPACE","\n                        ",502],["T_IF","if",503],["T_WHITESPACE"," ",503],"(",["T_STRING","in_array",503],"(",["T_VARIABLE","$serviceName",503],",",["T_WHITESPACE"," ",503],["T_VARIABLE","$allowedMethods",503],")",")",["T_WHITESPACE"," ",503],"{",["T_WHITESPACE","\n                            ",503],["T_VARIABLE","$amount",504],["T_WHITESPACE"," ",504],"=",["T_WHITESPACE"," ",504],["T_VARIABLE","$this",504],["T_OBJECT_OPERATOR","->",504],["T_STRING","_getRateAmountOriginBased",504],"(",["T_VARIABLE","$rate",504],")",";",["T_WHITESPACE","\n                            ",504],["T_VARIABLE","$costArr",505],"[",["T_VARIABLE","$serviceName",505],"]",["T_WHITESPACE","  ",505],"=",["T_WHITESPACE"," ",505],["T_VARIABLE","$amount",505],";",["T_WHITESPACE","\n                            ",505],["T_VARIABLE","$priceArr",506],"[",["T_VARIABLE","$serviceName",506],"]",["T_WHITESPACE"," ",506],"=",["T_WHITESPACE"," ",506],["T_VARIABLE","$this",506],["T_OBJECT_OPERATOR","->",506],["T_STRING","getMethodPrice",506],"(",["T_VARIABLE","$amount",506],",",["T_WHITESPACE"," ",506],["T_VARIABLE","$serviceName",506],")",";",["T_WHITESPACE","\n                        ",506],"}",["T_WHITESPACE","\n                    ",507],"}",["T_WHITESPACE","\n                    ",508],["T_STRING","asort",509],"(",["T_VARIABLE","$priceArr",509],")",";",["T_WHITESPACE","\n                ",509],"}",["T_WHITESPACE"," ",510],["T_ELSE","else",510],["T_WHITESPACE"," ",510],"{",["T_WHITESPACE","\n                    ",510],["T_VARIABLE","$rate",511],["T_WHITESPACE"," ",511],"=",["T_WHITESPACE"," ",511],["T_VARIABLE","$response",511],["T_OBJECT_OPERATOR","->",511],["T_STRING","RateReplyDetails",511],";",["T_WHITESPACE","\n                    ",511],["T_VARIABLE","$serviceName",512],["T_WHITESPACE"," ",512],"=",["T_WHITESPACE"," ",512],["T_STRING_CAST","(string)",512],["T_VARIABLE","$rate",512],["T_OBJECT_OPERATOR","->",512],["T_STRING","ServiceType",512],";",["T_WHITESPACE","\n                    ",512],["T_IF","if",513],["T_WHITESPACE"," ",513],"(",["T_STRING","in_array",513],"(",["T_VARIABLE","$serviceName",513],",",["T_WHITESPACE"," ",513],["T_VARIABLE","$allowedMethods",513],")",")",["T_WHITESPACE"," ",513],"{",["T_WHITESPACE","\n                        ",513],["T_VARIABLE","$amount",514],["T_WHITESPACE"," ",514],"=",["T_WHITESPACE"," ",514],["T_VARIABLE","$this",514],["T_OBJECT_OPERATOR","->",514],["T_STRING","_getRateAmountOriginBased",514],"(",["T_VARIABLE","$rate",514],")",";",["T_WHITESPACE","\n                        ",514],["T_VARIABLE","$costArr",515],"[",["T_VARIABLE","$serviceName",515],"]",["T_WHITESPACE","  ",515],"=",["T_WHITESPACE"," ",515],["T_VARIABLE","$amount",515],";",["T_WHITESPACE","\n                        ",515],["T_VARIABLE","$priceArr",516],"[",["T_VARIABLE","$serviceName",516],"]",["T_WHITESPACE"," ",516],"=",["T_WHITESPACE"," ",516],["T_VARIABLE","$this",516],["T_OBJECT_OPERATOR","->",516],["T_STRING","getMethodPrice",516],"(",["T_VARIABLE","$amount",516],",",["T_WHITESPACE"," ",516],["T_VARIABLE","$serviceName",516],")",";",["T_WHITESPACE","\n                    ",516],"}",["T_WHITESPACE","\n                ",517],"}",["T_WHITESPACE","\n            ",518],"}",["T_WHITESPACE","\n        ",519],"}",["T_WHITESPACE","\n\n        ",520],["T_VARIABLE","$result",522],["T_WHITESPACE"," ",522],"=",["T_WHITESPACE"," ",522],["T_STRING","Mage",522],["T_DOUBLE_COLON","::",522],["T_STRING","getModel",522],"(",["T_CONSTANT_ENCAPSED_STRING","'shipping\/rate_result'",522],")",";",["T_WHITESPACE","\n        ",522],["T_IF","if",523],["T_WHITESPACE"," ",523],"(",["T_EMPTY","empty",523],"(",["T_VARIABLE","$priceArr",523],")",")",["T_WHITESPACE"," ",523],"{",["T_WHITESPACE","\n            ",523],["T_VARIABLE","$error",524],["T_WHITESPACE"," ",524],"=",["T_WHITESPACE"," ",524],["T_STRING","Mage",524],["T_DOUBLE_COLON","::",524],["T_STRING","getModel",524],"(",["T_CONSTANT_ENCAPSED_STRING","'shipping\/rate_result_error'",524],")",";",["T_WHITESPACE","\n            ",524],["T_VARIABLE","$error",525],["T_OBJECT_OPERATOR","->",525],["T_STRING","setCarrier",525],"(",["T_VARIABLE","$this",525],["T_OBJECT_OPERATOR","->",525],["T_STRING","_code",525],")",";",["T_WHITESPACE","\n            ",525],["T_VARIABLE","$error",526],["T_OBJECT_OPERATOR","->",526],["T_STRING","setCarrierTitle",526],"(",["T_VARIABLE","$this",526],["T_OBJECT_OPERATOR","->",526],["T_STRING","getConfigData",526],"(",["T_CONSTANT_ENCAPSED_STRING","'title'",526],")",")",";",["T_WHITESPACE","\n            ",526],["T_VARIABLE","$error",527],["T_OBJECT_OPERATOR","->",527],["T_STRING","setErrorMessage",527],"(",["T_VARIABLE","$errorTitle",527],")",";",["T_WHITESPACE","\n            ",527],["T_VARIABLE","$error",528],["T_OBJECT_OPERATOR","->",528],["T_STRING","setErrorMessage",528],"(",["T_VARIABLE","$this",528],["T_OBJECT_OPERATOR","->",528],["T_STRING","getConfigData",528],"(",["T_CONSTANT_ENCAPSED_STRING","'specificerrmsg'",528],")",")",";",["T_WHITESPACE","\n            ",528],["T_VARIABLE","$result",529],["T_OBJECT_OPERATOR","->",529],["T_STRING","append",529],"(",["T_VARIABLE","$error",529],")",";",["T_WHITESPACE","\n        ",529],"}",["T_WHITESPACE"," ",530],["T_ELSE","else",530],["T_WHITESPACE"," ",530],"{",["T_WHITESPACE","\n            ",530],["T_FOREACH","foreach",531],["T_WHITESPACE"," ",531],"(",["T_VARIABLE","$priceArr",531],["T_WHITESPACE"," ",531],["T_AS","as",531],["T_WHITESPACE"," ",531],["T_VARIABLE","$method",531],["T_DOUBLE_ARROW","=>",531],["T_VARIABLE","$price",531],")",["T_WHITESPACE"," ",531],"{",["T_WHITESPACE","\n                ",531],["T_VARIABLE","$rate",532],["T_WHITESPACE"," ",532],"=",["T_WHITESPACE"," ",532],["T_STRING","Mage",532],["T_DOUBLE_COLON","::",532],["T_STRING","getModel",532],"(",["T_CONSTANT_ENCAPSED_STRING","'shipping\/rate_result_method'",532],")",";",["T_WHITESPACE","\n                ",532],["T_VARIABLE","$rate",533],["T_OBJECT_OPERATOR","->",533],["T_STRING","setCarrier",533],"(",["T_VARIABLE","$this",533],["T_OBJECT_OPERATOR","->",533],["T_STRING","_code",533],")",";",["T_WHITESPACE","\n                ",533],["T_VARIABLE","$rate",534],["T_OBJECT_OPERATOR","->",534],["T_STRING","setCarrierTitle",534],"(",["T_VARIABLE","$this",534],["T_OBJECT_OPERATOR","->",534],["T_STRING","getConfigData",534],"(",["T_CONSTANT_ENCAPSED_STRING","'title'",534],")",")",";",["T_WHITESPACE","\n                ",534],["T_VARIABLE","$rate",535],["T_OBJECT_OPERATOR","->",535],["T_STRING","setMethod",535],"(",["T_VARIABLE","$method",535],")",";",["T_WHITESPACE","\n                ",535],["T_VARIABLE","$rate",536],["T_OBJECT_OPERATOR","->",536],["T_STRING","setMethodTitle",536],"(",["T_VARIABLE","$this",536],["T_OBJECT_OPERATOR","->",536],["T_STRING","getCode",536],"(",["T_CONSTANT_ENCAPSED_STRING","'method'",536],",",["T_WHITESPACE"," ",536],["T_VARIABLE","$method",536],")",")",";",["T_WHITESPACE","\n                ",536],["T_VARIABLE","$rate",537],["T_OBJECT_OPERATOR","->",537],["T_STRING","setCost",537],"(",["T_VARIABLE","$costArr",537],"[",["T_VARIABLE","$method",537],"]",")",";",["T_WHITESPACE","\n                ",537],["T_VARIABLE","$rate",538],["T_OBJECT_OPERATOR","->",538],["T_STRING","setPrice",538],"(",["T_VARIABLE","$price",538],")",";",["T_WHITESPACE","\n                ",538],["T_VARIABLE","$result",539],["T_OBJECT_OPERATOR","->",539],["T_STRING","append",539],"(",["T_VARIABLE","$rate",539],")",";",["T_WHITESPACE","\n            ",539],"}",["T_WHITESPACE","\n        ",540],"}",["T_WHITESPACE","\n        ",541],["T_RETURN","return",542],["T_WHITESPACE"," ",542],["T_VARIABLE","$result",542],";",["T_WHITESPACE","\n    ",542],"}",["T_WHITESPACE","\n\n    ",543],["T_DOC_COMMENT","\/**\n     * Get origin based amount form response of rate estimation\n     *\n     * @param stdClass $rate\n     * @return null|float\n     *\/",545],["T_WHITESPACE","\n    ",550],["T_PROTECTED","protected",551],["T_WHITESPACE"," ",551],["T_FUNCTION","function",551],["T_WHITESPACE"," ",551],["T_STRING","_getRateAmountOriginBased",551],"(",["T_VARIABLE","$rate",551],")",["T_WHITESPACE","\n    ",551],"{",["T_WHITESPACE","\n        ",552],["T_VARIABLE","$amount",553],["T_WHITESPACE"," ",553],"=",["T_WHITESPACE"," ",553],["T_STRING","null",553],";",["T_WHITESPACE","\n        ",553],["T_VARIABLE","$rateTypeAmounts",554],["T_WHITESPACE"," ",554],"=",["T_WHITESPACE"," ",554],["T_ARRAY","array",554],"(",")",";",["T_WHITESPACE","\n\n        ",554],["T_IF","if",556],["T_WHITESPACE"," ",556],"(",["T_STRING","is_object",556],"(",["T_VARIABLE","$rate",556],")",")",["T_WHITESPACE"," ",556],"{",["T_WHITESPACE","\n            ",556],["T_COMMENT","\/\/ The \"RATED...\" rates are expressed in the currency of the origin country\n",557],["T_WHITESPACE","            ",558],["T_FOREACH","foreach",558],["T_WHITESPACE"," ",558],"(",["T_VARIABLE","$rate",558],["T_OBJECT_OPERATOR","->",558],["T_STRING","RatedShipmentDetails",558],["T_WHITESPACE"," ",558],["T_AS","as",558],["T_WHITESPACE"," ",558],["T_VARIABLE","$ratedShipmentDetail",558],")",["T_WHITESPACE"," ",558],"{",["T_WHITESPACE","\n                ",558],["T_VARIABLE","$netAmount",559],["T_WHITESPACE"," ",559],"=",["T_WHITESPACE"," ",559],["T_STRING_CAST","(string)",559],["T_VARIABLE","$ratedShipmentDetail",559],["T_OBJECT_OPERATOR","->",559],["T_STRING","ShipmentRateDetail",559],["T_OBJECT_OPERATOR","->",559],["T_STRING","TotalNetCharge",559],["T_OBJECT_OPERATOR","->",559],["T_STRING","Amount",559],";",["T_WHITESPACE","\n                ",559],["T_VARIABLE","$rateType",560],["T_WHITESPACE"," ",560],"=",["T_WHITESPACE"," ",560],["T_STRING_CAST","(string)",560],["T_VARIABLE","$ratedShipmentDetail",560],["T_OBJECT_OPERATOR","->",560],["T_STRING","ShipmentRateDetail",560],["T_OBJECT_OPERATOR","->",560],["T_STRING","RateType",560],";",["T_WHITESPACE","\n                ",560],["T_VARIABLE","$rateTypeAmounts",561],"[",["T_VARIABLE","$rateType",561],"]",["T_WHITESPACE"," ",561],"=",["T_WHITESPACE"," ",561],["T_VARIABLE","$netAmount",561],";",["T_WHITESPACE","\n            ",561],"}",["T_WHITESPACE","\n\n            ",562],["T_COMMENT","\/\/ Order is important\n",564],["T_WHITESPACE","            ",565],["T_VARIABLE","$ratesOrder",565],["T_WHITESPACE"," ",565],"=",["T_WHITESPACE"," ",565],["T_ARRAY","array",565],"(",["T_WHITESPACE","\n                ",565],["T_CONSTANT_ENCAPSED_STRING","'RATED_ACCOUNT_PACKAGE'",566],",",["T_WHITESPACE","\n                ",566],["T_CONSTANT_ENCAPSED_STRING","'PAYOR_ACCOUNT_PACKAGE'",567],",",["T_WHITESPACE","\n                ",567],["T_CONSTANT_ENCAPSED_STRING","'RATED_ACCOUNT_SHIPMENT'",568],",",["T_WHITESPACE","\n                ",568],["T_CONSTANT_ENCAPSED_STRING","'PAYOR_ACCOUNT_SHIPMENT'",569],",",["T_WHITESPACE","\n                ",569],["T_CONSTANT_ENCAPSED_STRING","'RATED_LIST_PACKAGE'",570],",",["T_WHITESPACE","\n                ",570],["T_CONSTANT_ENCAPSED_STRING","'PAYOR_LIST_PACKAGE'",571],",",["T_WHITESPACE","\n                ",571],["T_CONSTANT_ENCAPSED_STRING","'RATED_LIST_SHIPMENT'",572],",",["T_WHITESPACE","\n                ",572],["T_CONSTANT_ENCAPSED_STRING","'PAYOR_LIST_SHIPMENT'",573],["T_WHITESPACE","\n            ",573],")",";",["T_WHITESPACE","\n            ",574],["T_FOREACH","foreach",575],["T_WHITESPACE"," ",575],"(",["T_VARIABLE","$ratesOrder",575],["T_WHITESPACE"," ",575],["T_AS","as",575],["T_WHITESPACE"," ",575],["T_VARIABLE","$rateType",575],")",["T_WHITESPACE"," ",575],"{",["T_WHITESPACE","\n                ",575],["T_IF","if",576],["T_WHITESPACE"," ",576],"(","!",["T_EMPTY","empty",576],"(",["T_VARIABLE","$rateTypeAmounts",576],"[",["T_VARIABLE","$rateType",576],"]",")",")",["T_WHITESPACE"," ",576],"{",["T_WHITESPACE","\n                    ",576],["T_VARIABLE","$amount",577],["T_WHITESPACE"," ",577],"=",["T_WHITESPACE"," ",577],["T_VARIABLE","$rateTypeAmounts",577],"[",["T_VARIABLE","$rateType",577],"]",";",["T_WHITESPACE","\n                    ",577],["T_BREAK","break",578],";",["T_WHITESPACE","\n                ",578],"}",["T_WHITESPACE","\n            ",579],"}",["T_WHITESPACE","\n\n            ",580],["T_IF","if",582],["T_WHITESPACE"," ",582],"(",["T_STRING","is_null",582],"(",["T_VARIABLE","$amount",582],")",")",["T_WHITESPACE"," ",582],"{",["T_WHITESPACE","\n                ",582],["T_VARIABLE","$amount",583],["T_WHITESPACE"," ",583],"=",["T_WHITESPACE"," ",583],["T_STRING_CAST","(string)",583],["T_VARIABLE","$rate",583],["T_OBJECT_OPERATOR","->",583],["T_STRING","RatedShipmentDetails",583],"[",["T_LNUMBER","0",583],"]",["T_OBJECT_OPERATOR","->",583],["T_STRING","ShipmentRateDetail",583],["T_OBJECT_OPERATOR","->",583],["T_STRING","TotalNetCharge",583],["T_OBJECT_OPERATOR","->",583],["T_STRING","Amount",583],";",["T_WHITESPACE","\n            ",583],"}",["T_WHITESPACE","\n        ",584],"}",["T_WHITESPACE","\n\n        ",585],["T_RETURN","return",587],["T_WHITESPACE"," ",587],["T_VARIABLE","$amount",587],";",["T_WHITESPACE","\n    ",587],"}",["T_WHITESPACE","\n\n    ",588],["T_DOC_COMMENT","\/**\n     * Set free method request\n     *\n     * @param  $freeMethod\n     * @return void\n     *\/",590],["T_WHITESPACE","\n    ",595],["T_PROTECTED","protected",596],["T_WHITESPACE"," ",596],["T_FUNCTION","function",596],["T_WHITESPACE"," ",596],["T_STRING","_setFreeMethodRequest",596],"(",["T_VARIABLE","$freeMethod",596],")",["T_WHITESPACE","\n    ",596],"{",["T_WHITESPACE","\n        ",597],["T_VARIABLE","$r",598],["T_WHITESPACE"," ",598],"=",["T_WHITESPACE"," ",598],["T_VARIABLE","$this",598],["T_OBJECT_OPERATOR","->",598],["T_STRING","_rawRequest",598],";",["T_WHITESPACE","\n        ",598],["T_VARIABLE","$weight",599],["T_WHITESPACE"," ",599],"=",["T_WHITESPACE"," ",599],["T_VARIABLE","$this",599],["T_OBJECT_OPERATOR","->",599],["T_STRING","getTotalNumOfBoxes",599],"(",["T_VARIABLE","$r",599],["T_OBJECT_OPERATOR","->",599],["T_STRING","getFreeMethodWeight",599],"(",")",")",";",["T_WHITESPACE","\n        ",599],["T_VARIABLE","$r",600],["T_OBJECT_OPERATOR","->",600],["T_STRING","setWeight",600],"(",["T_VARIABLE","$weight",600],")",";",["T_WHITESPACE","\n        ",600],["T_VARIABLE","$r",601],["T_OBJECT_OPERATOR","->",601],["T_STRING","setService",601],"(",["T_VARIABLE","$freeMethod",601],")",";",["T_WHITESPACE","\n    ",601],"}",["T_WHITESPACE","\n\n    ",602],["T_DOC_COMMENT","\/**\n     * Get xml quotes\n     *\n     * @deprecated\n     * @return Mage_Shipping_Model_Rate_Result\n     *\/",604],["T_WHITESPACE","\n    ",609],["T_PROTECTED","protected",610],["T_WHITESPACE"," ",610],["T_FUNCTION","function",610],["T_WHITESPACE"," ",610],["T_STRING","_getXmlQuotes",610],"(",")",["T_WHITESPACE","\n    ",610],"{",["T_WHITESPACE","\n        ",611],["T_VARIABLE","$r",612],["T_WHITESPACE"," ",612],"=",["T_WHITESPACE"," ",612],["T_VARIABLE","$this",612],["T_OBJECT_OPERATOR","->",612],["T_STRING","_rawRequest",612],";",["T_WHITESPACE","\n        ",612],["T_VARIABLE","$xml",613],["T_WHITESPACE"," ",613],"=",["T_WHITESPACE"," ",613],["T_NEW","new",613],["T_WHITESPACE"," ",613],["T_STRING","SimpleXMLElement",613],"(",["T_CONSTANT_ENCAPSED_STRING","'<?xml version = \"1.0\" encoding = \"UTF-8\"?><FDXRateAvailableServicesRequest\/>'",613],")",";",["T_WHITESPACE","\n\n        ",613],["T_VARIABLE","$xml",615],["T_OBJECT_OPERATOR","->",615],["T_STRING","addAttribute",615],"(",["T_CONSTANT_ENCAPSED_STRING","'xmlns:api'",615],",",["T_WHITESPACE"," ",615],["T_CONSTANT_ENCAPSED_STRING","'http:\/\/www.fedex.com\/fsmapi'",615],")",";",["T_WHITESPACE","\n        ",615],["T_VARIABLE","$xml",616],["T_OBJECT_OPERATOR","->",616],["T_STRING","addAttribute",616],"(",["T_CONSTANT_ENCAPSED_STRING","'xmlns:xsi'",616],",",["T_WHITESPACE"," ",616],["T_CONSTANT_ENCAPSED_STRING","'http:\/\/www.w3.org\/2001\/XMLSchema-instance'",616],")",";",["T_WHITESPACE","\n        ",616],["T_VARIABLE","$xml",617],["T_OBJECT_OPERATOR","->",617],["T_STRING","addAttribute",617],"(",["T_CONSTANT_ENCAPSED_STRING","'xsi:noNamespaceSchemaLocation'",617],",",["T_WHITESPACE"," ",617],["T_CONSTANT_ENCAPSED_STRING","'FDXRateAvailableServicesRequest.xsd'",617],")",";",["T_WHITESPACE","\n\n        ",617],["T_VARIABLE","$requestHeader",619],["T_WHITESPACE"," ",619],"=",["T_WHITESPACE"," ",619],["T_VARIABLE","$xml",619],["T_OBJECT_OPERATOR","->",619],["T_STRING","addChild",619],"(",["T_CONSTANT_ENCAPSED_STRING","'RequestHeader'",619],")",";",["T_WHITESPACE","\n        ",619],["T_VARIABLE","$requestHeader",620],["T_OBJECT_OPERATOR","->",620],["T_STRING","addChild",620],"(",["T_CONSTANT_ENCAPSED_STRING","'AccountNumber'",620],",",["T_WHITESPACE"," ",620],["T_VARIABLE","$r",620],["T_OBJECT_OPERATOR","->",620],["T_STRING","getAccount",620],"(",")",")",";",["T_WHITESPACE","\n        ",620],["T_VARIABLE","$requestHeader",621],["T_OBJECT_OPERATOR","->",621],["T_STRING","addChild",621],"(",["T_CONSTANT_ENCAPSED_STRING","'MeterNumber'",621],",",["T_WHITESPACE"," ",621],["T_CONSTANT_ENCAPSED_STRING","'0'",621],")",";",["T_WHITESPACE","\n\n        ",621],["T_VARIABLE","$xml",623],["T_OBJECT_OPERATOR","->",623],["T_STRING","addChild",623],"(",["T_CONSTANT_ENCAPSED_STRING","'ShipDate'",623],",",["T_WHITESPACE"," ",623],["T_STRING","date",623],"(",["T_CONSTANT_ENCAPSED_STRING","'Y-m-d'",623],")",")",";",["T_WHITESPACE","\n        ",623],["T_VARIABLE","$xml",624],["T_OBJECT_OPERATOR","->",624],["T_STRING","addChild",624],"(",["T_CONSTANT_ENCAPSED_STRING","'DropoffType'",624],",",["T_WHITESPACE"," ",624],["T_VARIABLE","$r",624],["T_OBJECT_OPERATOR","->",624],["T_STRING","getDropoffType",624],"(",")",")",";",["T_WHITESPACE","\n        ",624],["T_IF","if",625],["T_WHITESPACE"," ",625],"(",["T_VARIABLE","$r",625],["T_OBJECT_OPERATOR","->",625],["T_STRING","hasService",625],"(",")",")",["T_WHITESPACE"," ",625],"{",["T_WHITESPACE","\n            ",625],["T_VARIABLE","$xml",626],["T_OBJECT_OPERATOR","->",626],["T_STRING","addChild",626],"(",["T_CONSTANT_ENCAPSED_STRING","'Service'",626],",",["T_WHITESPACE"," ",626],["T_VARIABLE","$r",626],["T_OBJECT_OPERATOR","->",626],["T_STRING","getService",626],"(",")",")",";",["T_WHITESPACE","\n        ",626],"}",["T_WHITESPACE","\n        ",627],["T_VARIABLE","$xml",628],["T_OBJECT_OPERATOR","->",628],["T_STRING","addChild",628],"(",["T_CONSTANT_ENCAPSED_STRING","'Packaging'",628],",",["T_WHITESPACE"," ",628],["T_VARIABLE","$r",628],["T_OBJECT_OPERATOR","->",628],["T_STRING","getPackaging",628],"(",")",")",";",["T_WHITESPACE","\n        ",628],["T_VARIABLE","$xml",629],["T_OBJECT_OPERATOR","->",629],["T_STRING","addChild",629],"(",["T_CONSTANT_ENCAPSED_STRING","'WeightUnits'",629],",",["T_WHITESPACE"," ",629],["T_CONSTANT_ENCAPSED_STRING","'LBS'",629],")",";",["T_WHITESPACE","\n        ",629],["T_VARIABLE","$xml",630],["T_OBJECT_OPERATOR","->",630],["T_STRING","addChild",630],"(",["T_CONSTANT_ENCAPSED_STRING","'Weight'",630],",",["T_WHITESPACE"," ",630],["T_VARIABLE","$r",630],["T_OBJECT_OPERATOR","->",630],["T_STRING","getWeight",630],"(",")",")",";",["T_WHITESPACE","\n\n        ",630],["T_VARIABLE","$originAddress",632],["T_WHITESPACE"," ",632],"=",["T_WHITESPACE"," ",632],["T_VARIABLE","$xml",632],["T_OBJECT_OPERATOR","->",632],["T_STRING","addChild",632],"(",["T_CONSTANT_ENCAPSED_STRING","'OriginAddress'",632],")",";",["T_WHITESPACE","\n        ",632],["T_VARIABLE","$originAddress",633],["T_OBJECT_OPERATOR","->",633],["T_STRING","addChild",633],"(",["T_CONSTANT_ENCAPSED_STRING","'PostalCode'",633],",",["T_WHITESPACE"," ",633],["T_VARIABLE","$r",633],["T_OBJECT_OPERATOR","->",633],["T_STRING","getOrigPostal",633],"(",")",")",";",["T_WHITESPACE","\n        ",633],["T_VARIABLE","$originAddress",634],["T_OBJECT_OPERATOR","->",634],["T_STRING","addChild",634],"(",["T_CONSTANT_ENCAPSED_STRING","'CountryCode'",634],",",["T_WHITESPACE"," ",634],["T_VARIABLE","$r",634],["T_OBJECT_OPERATOR","->",634],["T_STRING","getOrigCountry",634],"(",")",")",";",["T_WHITESPACE","\n\n        ",634],["T_VARIABLE","$destinationAddress",636],["T_WHITESPACE"," ",636],"=",["T_WHITESPACE"," ",636],["T_VARIABLE","$xml",636],["T_OBJECT_OPERATOR","->",636],["T_STRING","addChild",636],"(",["T_CONSTANT_ENCAPSED_STRING","'DestinationAddress'",636],")",";",["T_WHITESPACE","\n        ",636],["T_VARIABLE","$destinationAddress",637],["T_OBJECT_OPERATOR","->",637],["T_STRING","addChild",637],"(",["T_CONSTANT_ENCAPSED_STRING","'PostalCode'",637],",",["T_WHITESPACE"," ",637],["T_VARIABLE","$r",637],["T_OBJECT_OPERATOR","->",637],["T_STRING","getDestPostal",637],"(",")",")",";",["T_WHITESPACE","\n        ",637],["T_VARIABLE","$destinationAddress",638],["T_OBJECT_OPERATOR","->",638],["T_STRING","addChild",638],"(",["T_CONSTANT_ENCAPSED_STRING","'CountryCode'",638],",",["T_WHITESPACE"," ",638],["T_VARIABLE","$r",638],["T_OBJECT_OPERATOR","->",638],["T_STRING","getDestCountry",638],"(",")",")",";",["T_WHITESPACE","\n\n        ",638],["T_VARIABLE","$payment",640],["T_WHITESPACE"," ",640],"=",["T_WHITESPACE"," ",640],["T_VARIABLE","$xml",640],["T_OBJECT_OPERATOR","->",640],["T_STRING","addChild",640],"(",["T_CONSTANT_ENCAPSED_STRING","'Payment'",640],")",";",["T_WHITESPACE","\n        ",640],["T_VARIABLE","$payment",641],["T_OBJECT_OPERATOR","->",641],["T_STRING","addChild",641],"(",["T_CONSTANT_ENCAPSED_STRING","'PayorType'",641],",",["T_WHITESPACE"," ",641],["T_CONSTANT_ENCAPSED_STRING","'SENDER'",641],")",";",["T_WHITESPACE","\n\n        ",641],["T_VARIABLE","$declaredValue",643],["T_WHITESPACE"," ",643],"=",["T_WHITESPACE"," ",643],["T_VARIABLE","$xml",643],["T_OBJECT_OPERATOR","->",643],["T_STRING","addChild",643],"(",["T_CONSTANT_ENCAPSED_STRING","'DeclaredValue'",643],")",";",["T_WHITESPACE","\n        ",643],["T_VARIABLE","$declaredValue",644],["T_OBJECT_OPERATOR","->",644],["T_STRING","addChild",644],"(",["T_CONSTANT_ENCAPSED_STRING","'Value'",644],",",["T_WHITESPACE"," ",644],["T_VARIABLE","$r",644],["T_OBJECT_OPERATOR","->",644],["T_STRING","getValue",644],"(",")",")",";",["T_WHITESPACE","\n        ",644],["T_VARIABLE","$declaredValue",645],["T_OBJECT_OPERATOR","->",645],["T_STRING","addChild",645],"(",["T_CONSTANT_ENCAPSED_STRING","'CurrencyCode'",645],",",["T_WHITESPACE"," ",645],["T_VARIABLE","$this",645],["T_OBJECT_OPERATOR","->",645],["T_STRING","getCurrencyCode",645],"(",")",")",";",["T_WHITESPACE","\n\n        ",645],["T_IF","if",647],["T_WHITESPACE"," ",647],"(",["T_VARIABLE","$this",647],["T_OBJECT_OPERATOR","->",647],["T_STRING","getConfigData",647],"(",["T_CONSTANT_ENCAPSED_STRING","'residence_delivery'",647],")",")",["T_WHITESPACE"," ",647],"{",["T_WHITESPACE","\n            ",647],["T_VARIABLE","$specialServices",648],["T_WHITESPACE"," ",648],"=",["T_WHITESPACE"," ",648],["T_VARIABLE","$xml",648],["T_OBJECT_OPERATOR","->",648],["T_STRING","addChild",648],"(",["T_CONSTANT_ENCAPSED_STRING","'SpecialServices'",648],")",";",["T_WHITESPACE","\n            ",648],["T_VARIABLE","$specialServices",649],["T_OBJECT_OPERATOR","->",649],["T_STRING","addChild",649],"(",["T_CONSTANT_ENCAPSED_STRING","'ResidentialDelivery'",649],",",["T_WHITESPACE"," ",649],["T_CONSTANT_ENCAPSED_STRING","'true'",649],")",";",["T_WHITESPACE","\n        ",649],"}",["T_WHITESPACE","\n\n        ",650],["T_VARIABLE","$xml",652],["T_OBJECT_OPERATOR","->",652],["T_STRING","addChild",652],"(",["T_CONSTANT_ENCAPSED_STRING","'PackageCount'",652],",",["T_WHITESPACE"," ",652],["T_CONSTANT_ENCAPSED_STRING","'1'",652],")",";",["T_WHITESPACE","\n\n        ",652],["T_VARIABLE","$request",654],["T_WHITESPACE"," ",654],"=",["T_WHITESPACE"," ",654],["T_VARIABLE","$xml",654],["T_OBJECT_OPERATOR","->",654],["T_STRING","asXML",654],"(",")",";",["T_WHITESPACE","\n\n        ",654],["T_VARIABLE","$responseBody",656],["T_WHITESPACE"," ",656],"=",["T_WHITESPACE"," ",656],["T_VARIABLE","$this",656],["T_OBJECT_OPERATOR","->",656],["T_STRING","_getCachedQuotes",656],"(",["T_VARIABLE","$request",656],")",";",["T_WHITESPACE","\n        ",656],["T_IF","if",657],["T_WHITESPACE"," ",657],"(",["T_VARIABLE","$responseBody",657],["T_WHITESPACE"," ",657],["T_IS_IDENTICAL","===",657],["T_WHITESPACE"," ",657],["T_STRING","null",657],")",["T_WHITESPACE"," ",657],"{",["T_WHITESPACE","\n            ",657],["T_VARIABLE","$debugData",658],["T_WHITESPACE"," ",658],"=",["T_WHITESPACE"," ",658],["T_ARRAY","array",658],"(",["T_CONSTANT_ENCAPSED_STRING","'request'",658],["T_WHITESPACE"," ",658],["T_DOUBLE_ARROW","=>",658],["T_WHITESPACE"," ",658],["T_VARIABLE","$request",658],")",";",["T_WHITESPACE","\n            ",658],["T_TRY","try",659],["T_WHITESPACE"," ",659],"{",["T_WHITESPACE","\n                ",659],["T_VARIABLE","$url",660],["T_WHITESPACE"," ",660],"=",["T_WHITESPACE"," ",660],["T_VARIABLE","$this",660],["T_OBJECT_OPERATOR","->",660],["T_STRING","getConfigData",660],"(",["T_CONSTANT_ENCAPSED_STRING","'gateway_url'",660],")",";",["T_WHITESPACE","\n                ",660],["T_IF","if",661],["T_WHITESPACE"," ",661],"(","!",["T_VARIABLE","$url",661],")",["T_WHITESPACE"," ",661],"{",["T_WHITESPACE","\n                    ",661],["T_VARIABLE","$url",662],["T_WHITESPACE"," ",662],"=",["T_WHITESPACE"," ",662],["T_VARIABLE","$this",662],["T_OBJECT_OPERATOR","->",662],["T_STRING","_defaultGatewayUrl",662],";",["T_WHITESPACE","\n                ",662],"}",["T_WHITESPACE","\n                ",663],["T_VARIABLE","$ch",664],["T_WHITESPACE"," ",664],"=",["T_WHITESPACE"," ",664],["T_STRING","curl_init",664],"(",")",";",["T_WHITESPACE","\n                ",664],["T_STRING","curl_setopt",665],"(",["T_VARIABLE","$ch",665],",",["T_WHITESPACE"," ",665],["T_STRING","CURLOPT_RETURNTRANSFER",665],",",["T_WHITESPACE"," ",665],["T_LNUMBER","1",665],")",";",["T_WHITESPACE","\n                ",665],["T_STRING","curl_setopt",666],"(",["T_VARIABLE","$ch",666],",",["T_WHITESPACE"," ",666],["T_STRING","CURLOPT_URL",666],",",["T_WHITESPACE"," ",666],["T_VARIABLE","$url",666],")",";",["T_WHITESPACE","\n                ",666],["T_STRING","curl_setopt",667],"(",["T_VARIABLE","$ch",667],",",["T_WHITESPACE"," ",667],["T_STRING","CURLOPT_SSL_VERIFYPEER",667],",",["T_WHITESPACE"," ",667],["T_LNUMBER","1",667],")",";",["T_WHITESPACE","\n                ",667],["T_STRING","curl_setopt",668],"(",["T_VARIABLE","$ch",668],",",["T_WHITESPACE"," ",668],["T_STRING","CURLOPT_SSL_VERIFYHOST",668],",",["T_WHITESPACE"," ",668],["T_LNUMBER","2",668],")",";",["T_WHITESPACE","\n                ",668],["T_STRING","curl_setopt",669],"(",["T_VARIABLE","$ch",669],",",["T_WHITESPACE"," ",669],["T_STRING","CURLOPT_POSTFIELDS",669],",",["T_WHITESPACE"," ",669],["T_VARIABLE","$request",669],")",";",["T_WHITESPACE","\n                ",669],["T_VARIABLE","$responseBody",670],["T_WHITESPACE"," ",670],"=",["T_WHITESPACE"," ",670],["T_STRING","curl_exec",670],"(",["T_VARIABLE","$ch",670],")",";",["T_WHITESPACE","\n                ",670],["T_STRING","curl_close",671],["T_WHITESPACE"," ",671],"(",["T_VARIABLE","$ch",671],")",";",["T_WHITESPACE","\n\n                ",671],["T_VARIABLE","$debugData",673],"[",["T_CONSTANT_ENCAPSED_STRING","'result'",673],"]",["T_WHITESPACE"," ",673],"=",["T_WHITESPACE"," ",673],["T_VARIABLE","$responseBody",673],";",["T_WHITESPACE","\n                ",673],["T_VARIABLE","$this",674],["T_OBJECT_OPERATOR","->",674],["T_STRING","_setCachedQuotes",674],"(",["T_VARIABLE","$request",674],",",["T_WHITESPACE"," ",674],["T_VARIABLE","$responseBody",674],")",";",["T_WHITESPACE","\n            ",674],"}",["T_WHITESPACE","\n            ",675],["T_CATCH","catch",676],["T_WHITESPACE"," ",676],"(",["T_STRING","Exception",676],["T_WHITESPACE"," ",676],["T_VARIABLE","$e",676],")",["T_WHITESPACE"," ",676],"{",["T_WHITESPACE","\n                ",676],["T_VARIABLE","$debugData",677],"[",["T_CONSTANT_ENCAPSED_STRING","'result'",677],"]",["T_WHITESPACE"," ",677],"=",["T_WHITESPACE"," ",677],["T_ARRAY","array",677],"(",["T_CONSTANT_ENCAPSED_STRING","'error'",677],["T_WHITESPACE"," ",677],["T_DOUBLE_ARROW","=>",677],["T_WHITESPACE"," ",677],["T_VARIABLE","$e",677],["T_OBJECT_OPERATOR","->",677],["T_STRING","getMessage",677],"(",")",",",["T_WHITESPACE"," ",677],["T_CONSTANT_ENCAPSED_STRING","'code'",677],["T_WHITESPACE"," ",677],["T_DOUBLE_ARROW","=>",677],["T_WHITESPACE"," ",677],["T_VARIABLE","$e",677],["T_OBJECT_OPERATOR","->",677],["T_STRING","getCode",677],"(",")",")",";",["T_WHITESPACE","\n                ",677],["T_VARIABLE","$responseBody",678],["T_WHITESPACE"," ",678],"=",["T_WHITESPACE"," ",678],["T_CONSTANT_ENCAPSED_STRING","''",678],";",["T_WHITESPACE","\n            ",678],"}",["T_WHITESPACE","\n            ",679],["T_VARIABLE","$this",680],["T_OBJECT_OPERATOR","->",680],["T_STRING","_debug",680],"(",["T_VARIABLE","$debugData",680],")",";",["T_WHITESPACE","\n        ",680],"}",["T_WHITESPACE","\n        ",681],["T_RETURN","return",682],["T_WHITESPACE"," ",682],["T_VARIABLE","$this",682],["T_OBJECT_OPERATOR","->",682],["T_STRING","_parseXmlResponse",682],"(",["T_VARIABLE","$responseBody",682],")",";",["T_WHITESPACE","\n    ",682],"}",["T_WHITESPACE","\n\n    ",683],["T_DOC_COMMENT","\/**\n     * Prepare shipping rate result based on response\n     *\n     * @param mixed $response\n     * @return Mage_Shipping_Model_Rate_Result\n     *\/",685],["T_WHITESPACE","\n    ",690],["T_PROTECTED","protected",691],["T_WHITESPACE"," ",691],["T_FUNCTION","function",691],["T_WHITESPACE"," ",691],["T_STRING","_parseXmlResponse",691],"(",["T_VARIABLE","$response",691],")",["T_WHITESPACE","\n    ",691],"{",["T_WHITESPACE","\n        ",692],["T_VARIABLE","$costArr",693],["T_WHITESPACE"," ",693],"=",["T_WHITESPACE"," ",693],["T_ARRAY","array",693],"(",")",";",["T_WHITESPACE","\n        ",693],["T_VARIABLE","$priceArr",694],["T_WHITESPACE"," ",694],"=",["T_WHITESPACE"," ",694],["T_ARRAY","array",694],"(",")",";",["T_WHITESPACE","\n\n        ",694],["T_IF","if",696],["T_WHITESPACE"," ",696],"(",["T_STRING","strlen",696],"(",["T_STRING","trim",696],"(",["T_VARIABLE","$response",696],")",")",">",["T_LNUMBER","0",696],")",["T_WHITESPACE"," ",696],"{",["T_WHITESPACE","\n           ",696],["T_IF","if",697],["T_WHITESPACE"," ",697],"(",["T_VARIABLE","$xml",697],["T_WHITESPACE"," ",697],"=",["T_WHITESPACE"," ",697],["T_VARIABLE","$this",697],["T_OBJECT_OPERATOR","->",697],["T_STRING","_parseXml",697],"(",["T_VARIABLE","$response",697],")",")",["T_WHITESPACE"," ",697],"{",["T_WHITESPACE","\n\n               ",697],["T_IF","if",699],["T_WHITESPACE"," ",699],"(",["T_STRING","is_object",699],"(",["T_VARIABLE","$xml",699],["T_OBJECT_OPERATOR","->",699],["T_STRING","Error",699],")",["T_WHITESPACE"," ",699],["T_BOOLEAN_AND","&&",699],["T_WHITESPACE"," ",699],["T_STRING","is_object",699],"(",["T_VARIABLE","$xml",699],["T_OBJECT_OPERATOR","->",699],["T_STRING","Error",699],["T_OBJECT_OPERATOR","->",699],["T_STRING","Message",699],")",")",["T_WHITESPACE"," ",699],"{",["T_WHITESPACE","\n                   ",699],["T_VARIABLE","$errorTitle",700],["T_WHITESPACE"," ",700],"=",["T_WHITESPACE"," ",700],["T_STRING_CAST","(string)",700],["T_VARIABLE","$xml",700],["T_OBJECT_OPERATOR","->",700],["T_STRING","Error",700],["T_OBJECT_OPERATOR","->",700],["T_STRING","Message",700],";",["T_WHITESPACE","\n               ",700],"}",["T_WHITESPACE"," ",701],["T_ELSEIF","elseif",701],["T_WHITESPACE"," ",701],"(",["T_STRING","is_object",701],"(",["T_VARIABLE","$xml",701],["T_OBJECT_OPERATOR","->",701],["T_STRING","SoftError",701],")",["T_WHITESPACE"," ",701],["T_BOOLEAN_AND","&&",701],["T_WHITESPACE"," ",701],["T_STRING","is_object",701],"(",["T_VARIABLE","$xml",701],["T_OBJECT_OPERATOR","->",701],["T_STRING","SoftError",701],["T_OBJECT_OPERATOR","->",701],["T_STRING","Message",701],")",")",["T_WHITESPACE"," ",701],"{",["T_WHITESPACE","\n                   ",701],["T_VARIABLE","$errorTitle",702],["T_WHITESPACE"," ",702],"=",["T_WHITESPACE"," ",702],["T_STRING_CAST","(string)",702],["T_VARIABLE","$xml",702],["T_OBJECT_OPERATOR","->",702],["T_STRING","SoftError",702],["T_OBJECT_OPERATOR","->",702],["T_STRING","Message",702],";",["T_WHITESPACE","\n               ",702],"}",["T_WHITESPACE"," ",703],["T_ELSE","else",703],["T_WHITESPACE"," ",703],"{",["T_WHITESPACE","\n                   ",703],["T_VARIABLE","$errorTitle",704],["T_WHITESPACE"," ",704],"=",["T_WHITESPACE"," ",704],["T_CONSTANT_ENCAPSED_STRING","'Unknown error'",704],";",["T_WHITESPACE","\n               ",704],"}",["T_WHITESPACE","\n\n               ",705],["T_VARIABLE","$allowedMethods",707],["T_WHITESPACE"," ",707],"=",["T_WHITESPACE"," ",707],["T_STRING","explode",707],"(",["T_CONSTANT_ENCAPSED_STRING","\",\"",707],",",["T_WHITESPACE"," ",707],["T_VARIABLE","$this",707],["T_OBJECT_OPERATOR","->",707],["T_STRING","getConfigData",707],"(",["T_CONSTANT_ENCAPSED_STRING","'allowed_methods'",707],")",")",";",["T_WHITESPACE","\n\n               ",707],["T_FOREACH","foreach",709],["T_WHITESPACE"," ",709],"(",["T_VARIABLE","$xml",709],["T_OBJECT_OPERATOR","->",709],["T_STRING","Entry",709],["T_WHITESPACE"," ",709],["T_AS","as",709],["T_WHITESPACE"," ",709],["T_VARIABLE","$entry",709],")",["T_WHITESPACE"," ",709],"{",["T_WHITESPACE","\n                   ",709],["T_IF","if",710],["T_WHITESPACE"," ",710],"(",["T_STRING","in_array",710],"(",["T_STRING_CAST","(string)",710],["T_VARIABLE","$entry",710],["T_OBJECT_OPERATOR","->",710],["T_STRING","Service",710],",",["T_WHITESPACE"," ",710],["T_VARIABLE","$allowedMethods",710],")",")",["T_WHITESPACE"," ",710],"{",["T_WHITESPACE","\n                       ",710],["T_VARIABLE","$costArr",711],"[",["T_STRING_CAST","(string)",711],["T_VARIABLE","$entry",711],["T_OBJECT_OPERATOR","->",711],["T_STRING","Service",711],"]",["T_WHITESPACE"," ",711],"=",["T_WHITESPACE","\n                           ",711],["T_STRING_CAST","(string)",712],["T_VARIABLE","$entry",712],["T_OBJECT_OPERATOR","->",712],["T_STRING","EstimatedCharges",712],["T_OBJECT_OPERATOR","->",712],["T_STRING","DiscountedCharges",712],["T_OBJECT_OPERATOR","->",712],["T_STRING","NetCharge",712],";",["T_WHITESPACE","\n                       ",712],["T_VARIABLE","$priceArr",713],"[",["T_STRING_CAST","(string)",713],["T_VARIABLE","$entry",713],["T_OBJECT_OPERATOR","->",713],["T_STRING","Service",713],"]",["T_WHITESPACE"," ",713],"=",["T_WHITESPACE"," ",713],["T_VARIABLE","$this",713],["T_OBJECT_OPERATOR","->",713],["T_STRING","getMethodPrice",713],"(",["T_WHITESPACE","\n                           ",713],["T_STRING_CAST","(string)",714],["T_VARIABLE","$entry",714],["T_OBJECT_OPERATOR","->",714],["T_STRING","EstimatedCharges",714],["T_OBJECT_OPERATOR","->",714],["T_STRING","DiscountedCharges",714],["T_OBJECT_OPERATOR","->",714],["T_STRING","NetCharge",714],",",["T_WHITESPACE","\n                           ",714],["T_STRING_CAST","(string)",715],["T_VARIABLE","$entry",715],["T_OBJECT_OPERATOR","->",715],["T_STRING","Service",715],["T_WHITESPACE","\n                       ",715],")",";",["T_WHITESPACE","\n                   ",716],"}",["T_WHITESPACE","\n               ",717],"}",["T_WHITESPACE","\n\n               ",718],["T_STRING","asort",720],"(",["T_VARIABLE","$priceArr",720],")",";",["T_WHITESPACE","\n\n           ",720],"}",["T_WHITESPACE"," ",722],["T_ELSE","else",722],["T_WHITESPACE"," ",722],"{",["T_WHITESPACE","\n               ",722],["T_VARIABLE","$errorTitle",723],["T_WHITESPACE"," ",723],"=",["T_WHITESPACE"," ",723],["T_CONSTANT_ENCAPSED_STRING","'Response is in the wrong format.'",723],";",["T_WHITESPACE","\n           ",723],"}",["T_WHITESPACE","\n        ",724],"}",["T_WHITESPACE"," ",725],["T_ELSE","else",725],["T_WHITESPACE"," ",725],"{",["T_WHITESPACE","\n            ",725],["T_VARIABLE","$errorTitle",726],["T_WHITESPACE"," ",726],"=",["T_WHITESPACE"," ",726],["T_CONSTANT_ENCAPSED_STRING","'Unable to retrieve tracking'",726],";",["T_WHITESPACE","\n        ",726],"}",["T_WHITESPACE","\n\n        ",727],["T_VARIABLE","$result",729],["T_WHITESPACE"," ",729],"=",["T_WHITESPACE"," ",729],["T_STRING","Mage",729],["T_DOUBLE_COLON","::",729],["T_STRING","getModel",729],"(",["T_CONSTANT_ENCAPSED_STRING","'shipping\/rate_result'",729],")",";",["T_WHITESPACE","\n        ",729],["T_IF","if",730],["T_WHITESPACE"," ",730],"(",["T_EMPTY","empty",730],"(",["T_VARIABLE","$priceArr",730],")",")",["T_WHITESPACE"," ",730],"{",["T_WHITESPACE","\n            ",730],["T_VARIABLE","$error",731],["T_WHITESPACE"," ",731],"=",["T_WHITESPACE"," ",731],["T_STRING","Mage",731],["T_DOUBLE_COLON","::",731],["T_STRING","getModel",731],"(",["T_CONSTANT_ENCAPSED_STRING","'shipping\/rate_result_error'",731],")",";",["T_WHITESPACE","\n            ",731],["T_VARIABLE","$error",732],["T_OBJECT_OPERATOR","->",732],["T_STRING","setCarrier",732],"(",["T_CONSTANT_ENCAPSED_STRING","'fedex'",732],")",";",["T_WHITESPACE","\n            ",732],["T_VARIABLE","$error",733],["T_OBJECT_OPERATOR","->",733],["T_STRING","setCarrierTitle",733],"(",["T_VARIABLE","$this",733],["T_OBJECT_OPERATOR","->",733],["T_STRING","getConfigData",733],"(",["T_CONSTANT_ENCAPSED_STRING","'title'",733],")",")",";",["T_WHITESPACE","\n            ",733],["T_VARIABLE","$error",734],["T_OBJECT_OPERATOR","->",734],["T_STRING","setErrorMessage",734],"(",["T_VARIABLE","$this",734],["T_OBJECT_OPERATOR","->",734],["T_STRING","getConfigData",734],"(",["T_CONSTANT_ENCAPSED_STRING","'specificerrmsg'",734],")",")",";",["T_WHITESPACE","\n            ",734],["T_VARIABLE","$result",735],["T_OBJECT_OPERATOR","->",735],["T_STRING","append",735],"(",["T_VARIABLE","$error",735],")",";",["T_WHITESPACE","\n        ",735],"}",["T_WHITESPACE"," ",736],["T_ELSE","else",736],["T_WHITESPACE"," ",736],"{",["T_WHITESPACE","\n            ",736],["T_FOREACH","foreach",737],["T_WHITESPACE"," ",737],"(",["T_VARIABLE","$priceArr",737],["T_WHITESPACE"," ",737],["T_AS","as",737],["T_WHITESPACE"," ",737],["T_VARIABLE","$method",737],["T_DOUBLE_ARROW","=>",737],["T_VARIABLE","$price",737],")",["T_WHITESPACE"," ",737],"{",["T_WHITESPACE","\n                ",737],["T_VARIABLE","$rate",738],["T_WHITESPACE"," ",738],"=",["T_WHITESPACE"," ",738],["T_STRING","Mage",738],["T_DOUBLE_COLON","::",738],["T_STRING","getModel",738],"(",["T_CONSTANT_ENCAPSED_STRING","'shipping\/rate_result_method'",738],")",";",["T_WHITESPACE","\n                ",738],["T_VARIABLE","$rate",739],["T_OBJECT_OPERATOR","->",739],["T_STRING","setCarrier",739],"(",["T_CONSTANT_ENCAPSED_STRING","'fedex'",739],")",";",["T_WHITESPACE","\n                ",739],["T_VARIABLE","$rate",740],["T_OBJECT_OPERATOR","->",740],["T_STRING","setCarrierTitle",740],"(",["T_VARIABLE","$this",740],["T_OBJECT_OPERATOR","->",740],["T_STRING","getConfigData",740],"(",["T_CONSTANT_ENCAPSED_STRING","'title'",740],")",")",";",["T_WHITESPACE","\n                ",740],["T_VARIABLE","$rate",741],["T_OBJECT_OPERATOR","->",741],["T_STRING","setMethod",741],"(",["T_VARIABLE","$method",741],")",";",["T_WHITESPACE","\n                ",741],["T_VARIABLE","$rate",742],["T_OBJECT_OPERATOR","->",742],["T_STRING","setMethodTitle",742],"(",["T_VARIABLE","$this",742],["T_OBJECT_OPERATOR","->",742],["T_STRING","getCode",742],"(",["T_CONSTANT_ENCAPSED_STRING","'method'",742],",",["T_WHITESPACE"," ",742],["T_VARIABLE","$method",742],")",")",";",["T_WHITESPACE","\n                ",742],["T_VARIABLE","$rate",743],["T_OBJECT_OPERATOR","->",743],["T_STRING","setCost",743],"(",["T_VARIABLE","$costArr",743],"[",["T_VARIABLE","$method",743],"]",")",";",["T_WHITESPACE","\n                ",743],["T_VARIABLE","$rate",744],["T_OBJECT_OPERATOR","->",744],["T_STRING","setPrice",744],"(",["T_VARIABLE","$price",744],")",";",["T_WHITESPACE","\n                ",744],["T_VARIABLE","$result",745],["T_OBJECT_OPERATOR","->",745],["T_STRING","append",745],"(",["T_VARIABLE","$rate",745],")",";",["T_WHITESPACE","\n            ",745],"}",["T_WHITESPACE","\n        ",746],"}",["T_WHITESPACE","\n        ",747],["T_RETURN","return",748],["T_WHITESPACE"," ",748],["T_VARIABLE","$result",748],";",["T_WHITESPACE","\n    ",748],"}",["T_WHITESPACE","\n\n    ",749],["T_DOC_COMMENT","\/**\n     * Parse XML string and return XML document object or false\n     *\n     * @param string $xmlContent\n     * @return SimpleXMLElement|bool\n     *\/",751],["T_WHITESPACE","\n    ",756],["T_PROTECTED","protected",757],["T_WHITESPACE"," ",757],["T_FUNCTION","function",757],["T_WHITESPACE"," ",757],["T_STRING","_parseXml",757],"(",["T_VARIABLE","$xmlContent",757],")",["T_WHITESPACE","\n    ",757],"{",["T_WHITESPACE","\n        ",758],["T_TRY","try",759],["T_WHITESPACE"," ",759],"{",["T_WHITESPACE","\n            ",759],["T_TRY","try",760],["T_WHITESPACE"," ",760],"{",["T_WHITESPACE","\n                ",760],["T_RETURN","return",761],["T_WHITESPACE"," ",761],["T_STRING","simplexml_load_string",761],"(",["T_VARIABLE","$xmlContent",761],")",";",["T_WHITESPACE","\n            ",761],"}",["T_WHITESPACE"," ",762],["T_CATCH","catch",762],["T_WHITESPACE"," ",762],"(",["T_STRING","Exception",762],["T_WHITESPACE"," ",762],["T_VARIABLE","$e",762],")",["T_WHITESPACE"," ",762],"{",["T_WHITESPACE","\n                ",762],["T_THROW","throw",763],["T_WHITESPACE"," ",763],["T_NEW","new",763],["T_WHITESPACE"," ",763],["T_STRING","Exception",763],"(",["T_STRING","Mage",763],["T_DOUBLE_COLON","::",763],["T_STRING","helper",763],"(",["T_CONSTANT_ENCAPSED_STRING","'usa'",763],")",["T_OBJECT_OPERATOR","->",763],["T_STRING","__",763],"(",["T_CONSTANT_ENCAPSED_STRING","'Failed to parse xml document: %s'",763],",",["T_WHITESPACE"," ",763],["T_VARIABLE","$xmlContent",763],")",")",";",["T_WHITESPACE","\n            ",763],"}",["T_WHITESPACE","\n        ",764],"}",["T_WHITESPACE"," ",765],["T_CATCH","catch",765],["T_WHITESPACE"," ",765],"(",["T_STRING","Exception",765],["T_WHITESPACE"," ",765],["T_VARIABLE","$e",765],")",["T_WHITESPACE"," ",765],"{",["T_WHITESPACE","\n            ",765],["T_STRING","Mage",766],["T_DOUBLE_COLON","::",766],["T_STRING","logException",766],"(",["T_VARIABLE","$e",766],")",";",["T_WHITESPACE","\n            ",766],["T_RETURN","return",767],["T_WHITESPACE"," ",767],["T_STRING","false",767],";",["T_WHITESPACE","\n        ",767],"}",["T_WHITESPACE","\n    ",768],"}",["T_WHITESPACE","\n\n    ",769],["T_DOC_COMMENT","\/**\n     * Get configuration data of carrier\n     *\n     * @param string $type\n     * @param string $code\n     * @return array|bool\n     *\/",771],["T_WHITESPACE","\n    ",777],["T_PUBLIC","public",778],["T_WHITESPACE"," ",778],["T_FUNCTION","function",778],["T_WHITESPACE"," ",778],["T_STRING","getCode",778],"(",["T_VARIABLE","$type",778],",",["T_WHITESPACE"," ",778],["T_VARIABLE","$code",778],"=",["T_CONSTANT_ENCAPSED_STRING","''",778],")",["T_WHITESPACE","\n    ",778],"{",["T_WHITESPACE","\n        ",779],["T_VARIABLE","$codes",780],["T_WHITESPACE"," ",780],"=",["T_WHITESPACE"," ",780],["T_ARRAY","array",780],"(",["T_WHITESPACE","\n            ",780],["T_CONSTANT_ENCAPSED_STRING","'method'",781],["T_WHITESPACE"," ",781],["T_DOUBLE_ARROW","=>",781],["T_WHITESPACE"," ",781],["T_ARRAY","array",781],"(",["T_WHITESPACE","\n                ",781],["T_CONSTANT_ENCAPSED_STRING","'EUROPE_FIRST_INTERNATIONAL_PRIORITY'",782],["T_WHITESPACE"," ",782],["T_DOUBLE_ARROW","=>",782],["T_WHITESPACE"," ",782],["T_STRING","Mage",782],["T_DOUBLE_COLON","::",782],["T_STRING","helper",782],"(",["T_CONSTANT_ENCAPSED_STRING","'usa'",782],")",["T_OBJECT_OPERATOR","->",782],["T_STRING","__",782],"(",["T_CONSTANT_ENCAPSED_STRING","'Europe First Priority'",782],")",",",["T_WHITESPACE","\n                ",782],["T_CONSTANT_ENCAPSED_STRING","'FEDEX_1_DAY_FREIGHT'",783],["T_WHITESPACE","                 ",783],["T_DOUBLE_ARROW","=>",783],["T_WHITESPACE"," ",783],["T_STRING","Mage",783],["T_DOUBLE_COLON","::",783],["T_STRING","helper",783],"(",["T_CONSTANT_ENCAPSED_STRING","'usa'",783],")",["T_OBJECT_OPERATOR","->",783],["T_STRING","__",783],"(",["T_CONSTANT_ENCAPSED_STRING","'1 Day Freight'",783],")",",",["T_WHITESPACE","\n                ",783],["T_CONSTANT_ENCAPSED_STRING","'FEDEX_2_DAY_FREIGHT'",784],["T_WHITESPACE","                 ",784],["T_DOUBLE_ARROW","=>",784],["T_WHITESPACE"," ",784],["T_STRING","Mage",784],["T_DOUBLE_COLON","::",784],["T_STRING","helper",784],"(",["T_CONSTANT_ENCAPSED_STRING","'usa'",784],")",["T_OBJECT_OPERATOR","->",784],["T_STRING","__",784],"(",["T_CONSTANT_ENCAPSED_STRING","'2 Day Freight'",784],")",",",["T_WHITESPACE","\n                ",784],["T_CONSTANT_ENCAPSED_STRING","'FEDEX_2_DAY'",785],["T_WHITESPACE","                         ",785],["T_DOUBLE_ARROW","=>",785],["T_WHITESPACE"," ",785],["T_STRING","Mage",785],["T_DOUBLE_COLON","::",785],["T_STRING","helper",785],"(",["T_CONSTANT_ENCAPSED_STRING","'usa'",785],")",["T_OBJECT_OPERATOR","->",785],["T_STRING","__",785],"(",["T_CONSTANT_ENCAPSED_STRING","'2 Day'",785],")",",",["T_WHITESPACE","\n                ",785],["T_CONSTANT_ENCAPSED_STRING","'FEDEX_2_DAY_AM'",786],["T_WHITESPACE","                      ",786],["T_DOUBLE_ARROW","=>",786],["T_WHITESPACE"," ",786],["T_STRING","Mage",786],["T_DOUBLE_COLON","::",786],["T_STRING","helper",786],"(",["T_CONSTANT_ENCAPSED_STRING","'usa'",786],")",["T_OBJECT_OPERATOR","->",786],["T_STRING","__",786],"(",["T_CONSTANT_ENCAPSED_STRING","'2 Day AM'",786],")",",",["T_WHITESPACE","\n                ",786],["T_CONSTANT_ENCAPSED_STRING","'FEDEX_3_DAY_FREIGHT'",787],["T_WHITESPACE","                 ",787],["T_DOUBLE_ARROW","=>",787],["T_WHITESPACE"," ",787],["T_STRING","Mage",787],["T_DOUBLE_COLON","::",787],["T_STRING","helper",787],"(",["T_CONSTANT_ENCAPSED_STRING","'usa'",787],")",["T_OBJECT_OPERATOR","->",787],["T_STRING","__",787],"(",["T_CONSTANT_ENCAPSED_STRING","'3 Day Freight'",787],")",",",["T_WHITESPACE","\n                ",787],["T_CONSTANT_ENCAPSED_STRING","'FEDEX_EXPRESS_SAVER'",788],["T_WHITESPACE","                 ",788],["T_DOUBLE_ARROW","=>",788],["T_WHITESPACE"," ",788],["T_STRING","Mage",788],["T_DOUBLE_COLON","::",788],["T_STRING","helper",788],"(",["T_CONSTANT_ENCAPSED_STRING","'usa'",788],")",["T_OBJECT_OPERATOR","->",788],["T_STRING","__",788],"(",["T_CONSTANT_ENCAPSED_STRING","'Express Saver'",788],")",",",["T_WHITESPACE","\n                ",788],["T_CONSTANT_ENCAPSED_STRING","'FEDEX_GROUND'",789],["T_WHITESPACE","                        ",789],["T_DOUBLE_ARROW","=>",789],["T_WHITESPACE"," ",789],["T_STRING","Mage",789],["T_DOUBLE_COLON","::",789],["T_STRING","helper",789],"(",["T_CONSTANT_ENCAPSED_STRING","'usa'",789],")",["T_OBJECT_OPERATOR","->",789],["T_STRING","__",789],"(",["T_CONSTANT_ENCAPSED_STRING","'Ground'",789],")",",",["T_WHITESPACE","\n                ",789],["T_CONSTANT_ENCAPSED_STRING","'FIRST_OVERNIGHT'",790],["T_WHITESPACE","                     ",790],["T_DOUBLE_ARROW","=>",790],["T_WHITESPACE"," ",790],["T_STRING","Mage",790],["T_DOUBLE_COLON","::",790],["T_STRING","helper",790],"(",["T_CONSTANT_ENCAPSED_STRING","'usa'",790],")",["T_OBJECT_OPERATOR","->",790],["T_STRING","__",790],"(",["T_CONSTANT_ENCAPSED_STRING","'First Overnight'",790],")",",",["T_WHITESPACE","\n                ",790],["T_CONSTANT_ENCAPSED_STRING","'GROUND_HOME_DELIVERY'",791],["T_WHITESPACE","                ",791],["T_DOUBLE_ARROW","=>",791],["T_WHITESPACE"," ",791],["T_STRING","Mage",791],["T_DOUBLE_COLON","::",791],["T_STRING","helper",791],"(",["T_CONSTANT_ENCAPSED_STRING","'usa'",791],")",["T_OBJECT_OPERATOR","->",791],["T_STRING","__",791],"(",["T_CONSTANT_ENCAPSED_STRING","'Home Delivery'",791],")",",",["T_WHITESPACE","\n                ",791],["T_CONSTANT_ENCAPSED_STRING","'INTERNATIONAL_ECONOMY'",792],["T_WHITESPACE","               ",792],["T_DOUBLE_ARROW","=>",792],["T_WHITESPACE"," ",792],["T_STRING","Mage",792],["T_DOUBLE_COLON","::",792],["T_STRING","helper",792],"(",["T_CONSTANT_ENCAPSED_STRING","'usa'",792],")",["T_OBJECT_OPERATOR","->",792],["T_STRING","__",792],"(",["T_CONSTANT_ENCAPSED_STRING","'International Economy'",792],")",",",["T_WHITESPACE","\n                ",792],["T_CONSTANT_ENCAPSED_STRING","'INTERNATIONAL_ECONOMY_FREIGHT'",793],["T_WHITESPACE","       ",793],["T_DOUBLE_ARROW","=>",793],["T_WHITESPACE"," ",793],["T_STRING","Mage",793],["T_DOUBLE_COLON","::",793],["T_STRING","helper",793],"(",["T_CONSTANT_ENCAPSED_STRING","'usa'",793],")",["T_OBJECT_OPERATOR","->",793],["T_STRING","__",793],"(",["T_CONSTANT_ENCAPSED_STRING","'Intl Economy Freight'",793],")",",",["T_WHITESPACE","\n                ",793],["T_CONSTANT_ENCAPSED_STRING","'INTERNATIONAL_FIRST'",794],["T_WHITESPACE","                 ",794],["T_DOUBLE_ARROW","=>",794],["T_WHITESPACE"," ",794],["T_STRING","Mage",794],["T_DOUBLE_COLON","::",794],["T_STRING","helper",794],"(",["T_CONSTANT_ENCAPSED_STRING","'usa'",794],")",["T_OBJECT_OPERATOR","->",794],["T_STRING","__",794],"(",["T_CONSTANT_ENCAPSED_STRING","'International First'",794],")",",",["T_WHITESPACE","\n                ",794],["T_CONSTANT_ENCAPSED_STRING","'INTERNATIONAL_GROUND'",795],["T_WHITESPACE","                ",795],["T_DOUBLE_ARROW","=>",795],["T_WHITESPACE"," ",795],["T_STRING","Mage",795],["T_DOUBLE_COLON","::",795],["T_STRING","helper",795],"(",["T_CONSTANT_ENCAPSED_STRING","'usa'",795],")",["T_OBJECT_OPERATOR","->",795],["T_STRING","__",795],"(",["T_CONSTANT_ENCAPSED_STRING","'International Ground'",795],")",",",["T_WHITESPACE","\n                ",795],["T_CONSTANT_ENCAPSED_STRING","'INTERNATIONAL_PRIORITY'",796],["T_WHITESPACE","              ",796],["T_DOUBLE_ARROW","=>",796],["T_WHITESPACE"," ",796],["T_STRING","Mage",796],["T_DOUBLE_COLON","::",796],["T_STRING","helper",796],"(",["T_CONSTANT_ENCAPSED_STRING","'usa'",796],")",["T_OBJECT_OPERATOR","->",796],["T_STRING","__",796],"(",["T_CONSTANT_ENCAPSED_STRING","'International Priority'",796],")",",",["T_WHITESPACE","\n                ",796],["T_CONSTANT_ENCAPSED_STRING","'INTERNATIONAL_PRIORITY_FREIGHT'",797],["T_WHITESPACE","      ",797],["T_DOUBLE_ARROW","=>",797],["T_WHITESPACE"," ",797],["T_STRING","Mage",797],["T_DOUBLE_COLON","::",797],["T_STRING","helper",797],"(",["T_CONSTANT_ENCAPSED_STRING","'usa'",797],")",["T_OBJECT_OPERATOR","->",797],["T_STRING","__",797],"(",["T_CONSTANT_ENCAPSED_STRING","'Intl Priority Freight'",797],")",",",["T_WHITESPACE","\n                ",797],["T_CONSTANT_ENCAPSED_STRING","'PRIORITY_OVERNIGHT'",798],["T_WHITESPACE","                  ",798],["T_DOUBLE_ARROW","=>",798],["T_WHITESPACE"," ",798],["T_STRING","Mage",798],["T_DOUBLE_COLON","::",798],["T_STRING","helper",798],"(",["T_CONSTANT_ENCAPSED_STRING","'usa'",798],")",["T_OBJECT_OPERATOR","->",798],["T_STRING","__",798],"(",["T_CONSTANT_ENCAPSED_STRING","'Priority Overnight'",798],")",",",["T_WHITESPACE","\n                ",798],["T_CONSTANT_ENCAPSED_STRING","'SMART_POST'",799],["T_WHITESPACE","                          ",799],["T_DOUBLE_ARROW","=>",799],["T_WHITESPACE"," ",799],["T_STRING","Mage",799],["T_DOUBLE_COLON","::",799],["T_STRING","helper",799],"(",["T_CONSTANT_ENCAPSED_STRING","'usa'",799],")",["T_OBJECT_OPERATOR","->",799],["T_STRING","__",799],"(",["T_CONSTANT_ENCAPSED_STRING","'Smart Post'",799],")",",",["T_WHITESPACE","\n                ",799],["T_CONSTANT_ENCAPSED_STRING","'STANDARD_OVERNIGHT'",800],["T_WHITESPACE","                  ",800],["T_DOUBLE_ARROW","=>",800],["T_WHITESPACE"," ",800],["T_STRING","Mage",800],["T_DOUBLE_COLON","::",800],["T_STRING","helper",800],"(",["T_CONSTANT_ENCAPSED_STRING","'usa'",800],")",["T_OBJECT_OPERATOR","->",800],["T_STRING","__",800],"(",["T_CONSTANT_ENCAPSED_STRING","'Standard Overnight'",800],")",",",["T_WHITESPACE","\n                ",800],["T_CONSTANT_ENCAPSED_STRING","'FEDEX_FREIGHT'",801],["T_WHITESPACE","                       ",801],["T_DOUBLE_ARROW","=>",801],["T_WHITESPACE"," ",801],["T_STRING","Mage",801],["T_DOUBLE_COLON","::",801],["T_STRING","helper",801],"(",["T_CONSTANT_ENCAPSED_STRING","'usa'",801],")",["T_OBJECT_OPERATOR","->",801],["T_STRING","__",801],"(",["T_CONSTANT_ENCAPSED_STRING","'Freight'",801],")",",",["T_WHITESPACE","\n                ",801],["T_CONSTANT_ENCAPSED_STRING","'FEDEX_NATIONAL_FREIGHT'",802],["T_WHITESPACE","              ",802],["T_DOUBLE_ARROW","=>",802],["T_WHITESPACE"," ",802],["T_STRING","Mage",802],["T_DOUBLE_COLON","::",802],["T_STRING","helper",802],"(",["T_CONSTANT_ENCAPSED_STRING","'usa'",802],")",["T_OBJECT_OPERATOR","->",802],["T_STRING","__",802],"(",["T_CONSTANT_ENCAPSED_STRING","'National Freight'",802],")",",",["T_WHITESPACE","\n            ",802],")",",",["T_WHITESPACE","\n            ",803],["T_CONSTANT_ENCAPSED_STRING","'dropoff'",804],["T_WHITESPACE"," ",804],["T_DOUBLE_ARROW","=>",804],["T_WHITESPACE"," ",804],["T_ARRAY","array",804],"(",["T_WHITESPACE","\n                ",804],["T_CONSTANT_ENCAPSED_STRING","'REGULAR_PICKUP'",805],["T_WHITESPACE","          ",805],["T_DOUBLE_ARROW","=>",805],["T_WHITESPACE"," ",805],["T_STRING","Mage",805],["T_DOUBLE_COLON","::",805],["T_STRING","helper",805],"(",["T_CONSTANT_ENCAPSED_STRING","'usa'",805],")",["T_OBJECT_OPERATOR","->",805],["T_STRING","__",805],"(",["T_CONSTANT_ENCAPSED_STRING","'Regular Pickup'",805],")",",",["T_WHITESPACE","\n                ",805],["T_CONSTANT_ENCAPSED_STRING","'REQUEST_COURIER'",806],["T_WHITESPACE","         ",806],["T_DOUBLE_ARROW","=>",806],["T_WHITESPACE"," ",806],["T_STRING","Mage",806],["T_DOUBLE_COLON","::",806],["T_STRING","helper",806],"(",["T_CONSTANT_ENCAPSED_STRING","'usa'",806],")",["T_OBJECT_OPERATOR","->",806],["T_STRING","__",806],"(",["T_CONSTANT_ENCAPSED_STRING","'Request Courier'",806],")",",",["T_WHITESPACE","\n                ",806],["T_CONSTANT_ENCAPSED_STRING","'DROP_BOX'",807],["T_WHITESPACE","                ",807],["T_DOUBLE_ARROW","=>",807],["T_WHITESPACE"," ",807],["T_STRING","Mage",807],["T_DOUBLE_COLON","::",807],["T_STRING","helper",807],"(",["T_CONSTANT_ENCAPSED_STRING","'usa'",807],")",["T_OBJECT_OPERATOR","->",807],["T_STRING","__",807],"(",["T_CONSTANT_ENCAPSED_STRING","'Drop Box'",807],")",",",["T_WHITESPACE","\n                ",807],["T_CONSTANT_ENCAPSED_STRING","'BUSINESS_SERVICE_CENTER'",808],["T_WHITESPACE"," ",808],["T_DOUBLE_ARROW","=>",808],["T_WHITESPACE"," ",808],["T_STRING","Mage",808],["T_DOUBLE_COLON","::",808],["T_STRING","helper",808],"(",["T_CONSTANT_ENCAPSED_STRING","'usa'",808],")",["T_OBJECT_OPERATOR","->",808],["T_STRING","__",808],"(",["T_CONSTANT_ENCAPSED_STRING","'Business Service Center'",808],")",",",["T_WHITESPACE","\n                ",808],["T_CONSTANT_ENCAPSED_STRING","'STATION'",809],["T_WHITESPACE","                 ",809],["T_DOUBLE_ARROW","=>",809],["T_WHITESPACE"," ",809],["T_STRING","Mage",809],["T_DOUBLE_COLON","::",809],["T_STRING","helper",809],"(",["T_CONSTANT_ENCAPSED_STRING","'usa'",809],")",["T_OBJECT_OPERATOR","->",809],["T_STRING","__",809],"(",["T_CONSTANT_ENCAPSED_STRING","'Station'",809],")",["T_WHITESPACE","\n            ",809],")",",",["T_WHITESPACE","\n            ",810],["T_CONSTANT_ENCAPSED_STRING","'packaging'",811],["T_WHITESPACE"," ",811],["T_DOUBLE_ARROW","=>",811],["T_WHITESPACE"," ",811],["T_ARRAY","array",811],"(",["T_WHITESPACE","\n                ",811],["T_CONSTANT_ENCAPSED_STRING","'FEDEX_ENVELOPE'",812],["T_WHITESPACE"," ",812],["T_DOUBLE_ARROW","=>",812],["T_WHITESPACE"," ",812],["T_STRING","Mage",812],["T_DOUBLE_COLON","::",812],["T_STRING","helper",812],"(",["T_CONSTANT_ENCAPSED_STRING","'usa'",812],")",["T_OBJECT_OPERATOR","->",812],["T_STRING","__",812],"(",["T_CONSTANT_ENCAPSED_STRING","'FedEx Envelope'",812],")",",",["T_WHITESPACE","\n                ",812],["T_CONSTANT_ENCAPSED_STRING","'FEDEX_PAK'",813],["T_WHITESPACE","      ",813],["T_DOUBLE_ARROW","=>",813],["T_WHITESPACE"," ",813],["T_STRING","Mage",813],["T_DOUBLE_COLON","::",813],["T_STRING","helper",813],"(",["T_CONSTANT_ENCAPSED_STRING","'usa'",813],")",["T_OBJECT_OPERATOR","->",813],["T_STRING","__",813],"(",["T_CONSTANT_ENCAPSED_STRING","'FedEx Pak'",813],")",",",["T_WHITESPACE","\n                ",813],["T_CONSTANT_ENCAPSED_STRING","'FEDEX_BOX'",814],["T_WHITESPACE","      ",814],["T_DOUBLE_ARROW","=>",814],["T_WHITESPACE"," ",814],["T_STRING","Mage",814],["T_DOUBLE_COLON","::",814],["T_STRING","helper",814],"(",["T_CONSTANT_ENCAPSED_STRING","'usa'",814],")",["T_OBJECT_OPERATOR","->",814],["T_STRING","__",814],"(",["T_CONSTANT_ENCAPSED_STRING","'FedEx Box'",814],")",",",["T_WHITESPACE","\n                ",814],["T_CONSTANT_ENCAPSED_STRING","'FEDEX_TUBE'",815],["T_WHITESPACE","     ",815],["T_DOUBLE_ARROW","=>",815],["T_WHITESPACE"," ",815],["T_STRING","Mage",815],["T_DOUBLE_COLON","::",815],["T_STRING","helper",815],"(",["T_CONSTANT_ENCAPSED_STRING","'usa'",815],")",["T_OBJECT_OPERATOR","->",815],["T_STRING","__",815],"(",["T_CONSTANT_ENCAPSED_STRING","'FedEx Tube'",815],")",",",["T_WHITESPACE","\n                ",815],["T_CONSTANT_ENCAPSED_STRING","'FEDEX_10KG_BOX'",816],["T_WHITESPACE"," ",816],["T_DOUBLE_ARROW","=>",816],["T_WHITESPACE"," ",816],["T_STRING","Mage",816],["T_DOUBLE_COLON","::",816],["T_STRING","helper",816],"(",["T_CONSTANT_ENCAPSED_STRING","'usa'",816],")",["T_OBJECT_OPERATOR","->",816],["T_STRING","__",816],"(",["T_CONSTANT_ENCAPSED_STRING","'FedEx 10kg Box'",816],")",",",["T_WHITESPACE","\n                ",816],["T_CONSTANT_ENCAPSED_STRING","'FEDEX_25KG_BOX'",817],["T_WHITESPACE"," ",817],["T_DOUBLE_ARROW","=>",817],["T_WHITESPACE"," ",817],["T_STRING","Mage",817],["T_DOUBLE_COLON","::",817],["T_STRING","helper",817],"(",["T_CONSTANT_ENCAPSED_STRING","'usa'",817],")",["T_OBJECT_OPERATOR","->",817],["T_STRING","__",817],"(",["T_CONSTANT_ENCAPSED_STRING","'FedEx 25kg Box'",817],")",",",["T_WHITESPACE","\n                ",817],["T_CONSTANT_ENCAPSED_STRING","'YOUR_PACKAGING'",818],["T_WHITESPACE"," ",818],["T_DOUBLE_ARROW","=>",818],["T_WHITESPACE"," ",818],["T_STRING","Mage",818],["T_DOUBLE_COLON","::",818],["T_STRING","helper",818],"(",["T_CONSTANT_ENCAPSED_STRING","'usa'",818],")",["T_OBJECT_OPERATOR","->",818],["T_STRING","__",818],"(",["T_CONSTANT_ENCAPSED_STRING","'Your Packaging'",818],")",["T_WHITESPACE","\n            ",818],")",",",["T_WHITESPACE","\n            ",819],["T_CONSTANT_ENCAPSED_STRING","'containers_filter'",820],["T_WHITESPACE"," ",820],["T_DOUBLE_ARROW","=>",820],["T_WHITESPACE"," ",820],["T_ARRAY","array",820],"(",["T_WHITESPACE","\n                ",820],["T_ARRAY","array",821],"(",["T_WHITESPACE","\n                    ",821],["T_CONSTANT_ENCAPSED_STRING","'containers'",822],["T_WHITESPACE"," ",822],["T_DOUBLE_ARROW","=>",822],["T_WHITESPACE"," ",822],["T_ARRAY","array",822],"(",["T_CONSTANT_ENCAPSED_STRING","'FEDEX_ENVELOPE'",822],",",["T_WHITESPACE"," ",822],["T_CONSTANT_ENCAPSED_STRING","'FEDEX_PAK'",822],")",",",["T_WHITESPACE","\n                    ",822],["T_CONSTANT_ENCAPSED_STRING","'filters'",823],["T_WHITESPACE","    ",823],["T_DOUBLE_ARROW","=>",823],["T_WHITESPACE"," ",823],["T_ARRAY","array",823],"(",["T_WHITESPACE","\n                        ",823],["T_CONSTANT_ENCAPSED_STRING","'within_us'",824],["T_WHITESPACE"," ",824],["T_DOUBLE_ARROW","=>",824],["T_WHITESPACE"," ",824],["T_ARRAY","array",824],"(",["T_WHITESPACE","\n                            ",824],["T_CONSTANT_ENCAPSED_STRING","'method'",825],["T_WHITESPACE"," ",825],["T_DOUBLE_ARROW","=>",825],["T_WHITESPACE"," ",825],["T_ARRAY","array",825],"(",["T_WHITESPACE","\n                                ",825],["T_CONSTANT_ENCAPSED_STRING","'FEDEX_EXPRESS_SAVER'",826],",",["T_WHITESPACE","\n                                ",826],["T_CONSTANT_ENCAPSED_STRING","'FEDEX_2_DAY'",827],",",["T_WHITESPACE","\n                                ",827],["T_CONSTANT_ENCAPSED_STRING","'FEDEX_2_DAY_AM'",828],",",["T_WHITESPACE","\n                                ",828],["T_CONSTANT_ENCAPSED_STRING","'STANDARD_OVERNIGHT'",829],",",["T_WHITESPACE","\n                                ",829],["T_CONSTANT_ENCAPSED_STRING","'PRIORITY_OVERNIGHT'",830],",",["T_WHITESPACE","\n                                ",830],["T_CONSTANT_ENCAPSED_STRING","'FIRST_OVERNIGHT'",831],",",["T_WHITESPACE","\n                            ",831],")",["T_WHITESPACE","\n                        ",832],")",",",["T_WHITESPACE","\n                        ",833],["T_CONSTANT_ENCAPSED_STRING","'from_us'",834],["T_WHITESPACE"," ",834],["T_DOUBLE_ARROW","=>",834],["T_WHITESPACE"," ",834],["T_ARRAY","array",834],"(",["T_WHITESPACE","\n                            ",834],["T_CONSTANT_ENCAPSED_STRING","'method'",835],["T_WHITESPACE"," ",835],["T_DOUBLE_ARROW","=>",835],["T_WHITESPACE"," ",835],["T_ARRAY","array",835],"(",["T_WHITESPACE","\n                                ",835],["T_CONSTANT_ENCAPSED_STRING","'INTERNATIONAL_FIRST'",836],",",["T_WHITESPACE","\n                                ",836],["T_CONSTANT_ENCAPSED_STRING","'INTERNATIONAL_ECONOMY'",837],",",["T_WHITESPACE","\n                                ",837],["T_CONSTANT_ENCAPSED_STRING","'INTERNATIONAL_PRIORITY'",838],",",["T_WHITESPACE","\n                            ",838],")",["T_WHITESPACE","\n                        ",839],")",["T_WHITESPACE","\n                    ",840],")",["T_WHITESPACE","\n                ",841],")",",",["T_WHITESPACE","\n                ",842],["T_ARRAY","array",843],"(",["T_WHITESPACE","\n                    ",843],["T_CONSTANT_ENCAPSED_STRING","'containers'",844],["T_WHITESPACE"," ",844],["T_DOUBLE_ARROW","=>",844],["T_WHITESPACE"," ",844],["T_ARRAY","array",844],"(",["T_CONSTANT_ENCAPSED_STRING","'FEDEX_BOX'",844],",",["T_WHITESPACE"," ",844],["T_CONSTANT_ENCAPSED_STRING","'FEDEX_TUBE'",844],")",",",["T_WHITESPACE","\n                    ",844],["T_CONSTANT_ENCAPSED_STRING","'filters'",845],["T_WHITESPACE","    ",845],["T_DOUBLE_ARROW","=>",845],["T_WHITESPACE"," ",845],["T_ARRAY","array",845],"(",["T_WHITESPACE","\n                        ",845],["T_CONSTANT_ENCAPSED_STRING","'within_us'",846],["T_WHITESPACE"," ",846],["T_DOUBLE_ARROW","=>",846],["T_WHITESPACE"," ",846],["T_ARRAY","array",846],"(",["T_WHITESPACE","\n                            ",846],["T_CONSTANT_ENCAPSED_STRING","'method'",847],["T_WHITESPACE"," ",847],["T_DOUBLE_ARROW","=>",847],["T_WHITESPACE"," ",847],["T_ARRAY","array",847],"(",["T_WHITESPACE","\n                                ",847],["T_CONSTANT_ENCAPSED_STRING","'FEDEX_2_DAY'",848],",",["T_WHITESPACE","\n                                ",848],["T_CONSTANT_ENCAPSED_STRING","'FEDEX_2_DAY_AM'",849],",",["T_WHITESPACE","\n                                ",849],["T_CONSTANT_ENCAPSED_STRING","'STANDARD_OVERNIGHT'",850],",",["T_WHITESPACE","\n                                ",850],["T_CONSTANT_ENCAPSED_STRING","'PRIORITY_OVERNIGHT'",851],",",["T_WHITESPACE","\n                                ",851],["T_CONSTANT_ENCAPSED_STRING","'FIRST_OVERNIGHT'",852],",",["T_WHITESPACE","\n                                ",852],["T_CONSTANT_ENCAPSED_STRING","'FEDEX_FREIGHT'",853],",",["T_WHITESPACE","\n                                ",853],["T_CONSTANT_ENCAPSED_STRING","'FEDEX_1_DAY_FREIGHT'",854],",",["T_WHITESPACE","\n                                ",854],["T_CONSTANT_ENCAPSED_STRING","'FEDEX_2_DAY_FREIGHT'",855],",",["T_WHITESPACE","\n                                ",855],["T_CONSTANT_ENCAPSED_STRING","'FEDEX_3_DAY_FREIGHT'",856],",",["T_WHITESPACE","\n                                ",856],["T_CONSTANT_ENCAPSED_STRING","'FEDEX_NATIONAL_FREIGHT'",857],",",["T_WHITESPACE","\n                            ",857],")",["T_WHITESPACE","\n                        ",858],")",",",["T_WHITESPACE","\n                        ",859],["T_CONSTANT_ENCAPSED_STRING","'from_us'",860],["T_WHITESPACE"," ",860],["T_DOUBLE_ARROW","=>",860],["T_WHITESPACE"," ",860],["T_ARRAY","array",860],"(",["T_WHITESPACE","\n                            ",860],["T_CONSTANT_ENCAPSED_STRING","'method'",861],["T_WHITESPACE"," ",861],["T_DOUBLE_ARROW","=>",861],["T_WHITESPACE"," ",861],["T_ARRAY","array",861],"(",["T_WHITESPACE","\n                                ",861],["T_CONSTANT_ENCAPSED_STRING","'INTERNATIONAL_FIRST'",862],",",["T_WHITESPACE","\n                                ",862],["T_CONSTANT_ENCAPSED_STRING","'INTERNATIONAL_ECONOMY'",863],",",["T_WHITESPACE","\n                                ",863],["T_CONSTANT_ENCAPSED_STRING","'INTERNATIONAL_PRIORITY'",864],",",["T_WHITESPACE","\n                            ",864],")",["T_WHITESPACE","\n                        ",865],")",["T_WHITESPACE","\n                    ",866],")",["T_WHITESPACE","\n                ",867],")",",",["T_WHITESPACE","\n                ",868],["T_ARRAY","array",869],"(",["T_WHITESPACE","\n                    ",869],["T_CONSTANT_ENCAPSED_STRING","'containers'",870],["T_WHITESPACE"," ",870],["T_DOUBLE_ARROW","=>",870],["T_WHITESPACE"," ",870],["T_ARRAY","array",870],"(",["T_CONSTANT_ENCAPSED_STRING","'FEDEX_10KG_BOX'",870],",",["T_WHITESPACE"," ",870],["T_CONSTANT_ENCAPSED_STRING","'FEDEX_25KG_BOX'",870],")",",",["T_WHITESPACE","\n                    ",870],["T_CONSTANT_ENCAPSED_STRING","'filters'",871],["T_WHITESPACE","    ",871],["T_DOUBLE_ARROW","=>",871],["T_WHITESPACE"," ",871],["T_ARRAY","array",871],"(",["T_WHITESPACE","\n                        ",871],["T_CONSTANT_ENCAPSED_STRING","'within_us'",872],["T_WHITESPACE"," ",872],["T_DOUBLE_ARROW","=>",872],["T_WHITESPACE"," ",872],["T_ARRAY","array",872],"(",")",",",["T_WHITESPACE","\n                        ",872],["T_CONSTANT_ENCAPSED_STRING","'from_us'",873],["T_WHITESPACE"," ",873],["T_DOUBLE_ARROW","=>",873],["T_WHITESPACE"," ",873],["T_ARRAY","array",873],"(",["T_CONSTANT_ENCAPSED_STRING","'method'",873],["T_WHITESPACE"," ",873],["T_DOUBLE_ARROW","=>",873],["T_WHITESPACE"," ",873],["T_ARRAY","array",873],"(",["T_CONSTANT_ENCAPSED_STRING","'INTERNATIONAL_PRIORITY'",873],")",")",["T_WHITESPACE","\n                    ",873],")",["T_WHITESPACE","\n                ",874],")",",",["T_WHITESPACE","\n                ",875],["T_ARRAY","array",876],"(",["T_WHITESPACE","\n                    ",876],["T_CONSTANT_ENCAPSED_STRING","'containers'",877],["T_WHITESPACE"," ",877],["T_DOUBLE_ARROW","=>",877],["T_WHITESPACE"," ",877],["T_ARRAY","array",877],"(",["T_CONSTANT_ENCAPSED_STRING","'YOUR_PACKAGING'",877],")",",",["T_WHITESPACE","\n                    ",877],["T_CONSTANT_ENCAPSED_STRING","'filters'",878],["T_WHITESPACE","    ",878],["T_DOUBLE_ARROW","=>",878],["T_WHITESPACE"," ",878],["T_ARRAY","array",878],"(",["T_WHITESPACE","\n                        ",878],["T_CONSTANT_ENCAPSED_STRING","'within_us'",879],["T_WHITESPACE"," ",879],["T_DOUBLE_ARROW","=>",879],["T_WHITESPACE"," ",879],["T_ARRAY","array",879],"(",["T_WHITESPACE","\n                            ",879],["T_CONSTANT_ENCAPSED_STRING","'method'",880],["T_WHITESPACE"," ",880],["T_DOUBLE_ARROW","=>",880],["T_ARRAY","array",880],"(",["T_WHITESPACE","\n                                ",880],["T_CONSTANT_ENCAPSED_STRING","'FEDEX_GROUND'",881],",",["T_WHITESPACE","\n                                ",881],["T_CONSTANT_ENCAPSED_STRING","'GROUND_HOME_DELIVERY'",882],",",["T_WHITESPACE","\n                                ",882],["T_CONSTANT_ENCAPSED_STRING","'SMART_POST'",883],",",["T_WHITESPACE","\n                                ",883],["T_CONSTANT_ENCAPSED_STRING","'FEDEX_EXPRESS_SAVER'",884],",",["T_WHITESPACE","\n                                ",884],["T_CONSTANT_ENCAPSED_STRING","'FEDEX_2_DAY'",885],",",["T_WHITESPACE","\n                                ",885],["T_CONSTANT_ENCAPSED_STRING","'FEDEX_2_DAY_AM'",886],",",["T_WHITESPACE","\n                                ",886],["T_CONSTANT_ENCAPSED_STRING","'STANDARD_OVERNIGHT'",887],",",["T_WHITESPACE","\n                                ",887],["T_CONSTANT_ENCAPSED_STRING","'PRIORITY_OVERNIGHT'",888],",",["T_WHITESPACE","\n                                ",888],["T_CONSTANT_ENCAPSED_STRING","'FIRST_OVERNIGHT'",889],",",["T_WHITESPACE","\n                                ",889],["T_CONSTANT_ENCAPSED_STRING","'FEDEX_FREIGHT'",890],",",["T_WHITESPACE","\n                                ",890],["T_CONSTANT_ENCAPSED_STRING","'FEDEX_1_DAY_FREIGHT'",891],",",["T_WHITESPACE","\n                                ",891],["T_CONSTANT_ENCAPSED_STRING","'FEDEX_2_DAY_FREIGHT'",892],",",["T_WHITESPACE","\n                                ",892],["T_CONSTANT_ENCAPSED_STRING","'FEDEX_3_DAY_FREIGHT'",893],",",["T_WHITESPACE","\n                                ",893],["T_CONSTANT_ENCAPSED_STRING","'FEDEX_NATIONAL_FREIGHT'",894],",",["T_WHITESPACE","\n                            ",894],")",["T_WHITESPACE","\n                        ",895],")",",",["T_WHITESPACE","\n                        ",896],["T_CONSTANT_ENCAPSED_STRING","'from_us'",897],["T_WHITESPACE"," ",897],["T_DOUBLE_ARROW","=>",897],["T_WHITESPACE"," ",897],["T_ARRAY","array",897],"(",["T_WHITESPACE","\n                            ",897],["T_CONSTANT_ENCAPSED_STRING","'method'",898],["T_WHITESPACE"," ",898],["T_DOUBLE_ARROW","=>",898],["T_ARRAY","array",898],"(",["T_WHITESPACE","\n                                ",898],["T_CONSTANT_ENCAPSED_STRING","'INTERNATIONAL_FIRST'",899],",",["T_WHITESPACE","\n                                ",899],["T_CONSTANT_ENCAPSED_STRING","'INTERNATIONAL_ECONOMY'",900],",",["T_WHITESPACE","\n                                ",900],["T_CONSTANT_ENCAPSED_STRING","'INTERNATIONAL_PRIORITY'",901],",",["T_WHITESPACE","\n                                ",901],["T_CONSTANT_ENCAPSED_STRING","'INTERNATIONAL_GROUND'",902],",",["T_WHITESPACE","\n                                ",902],["T_CONSTANT_ENCAPSED_STRING","'FEDEX_FREIGHT'",903],",",["T_WHITESPACE","\n                                ",903],["T_CONSTANT_ENCAPSED_STRING","'FEDEX_1_DAY_FREIGHT'",904],",",["T_WHITESPACE","\n                                ",904],["T_CONSTANT_ENCAPSED_STRING","'FEDEX_2_DAY_FREIGHT'",905],",",["T_WHITESPACE","\n                                ",905],["T_CONSTANT_ENCAPSED_STRING","'FEDEX_3_DAY_FREIGHT'",906],",",["T_WHITESPACE","\n                                ",906],["T_CONSTANT_ENCAPSED_STRING","'FEDEX_NATIONAL_FREIGHT'",907],",",["T_WHITESPACE","\n                                ",907],["T_CONSTANT_ENCAPSED_STRING","'INTERNATIONAL_ECONOMY_FREIGHT'",908],",",["T_WHITESPACE","\n                                ",908],["T_CONSTANT_ENCAPSED_STRING","'INTERNATIONAL_PRIORITY_FREIGHT'",909],",",["T_WHITESPACE","\n                            ",909],")",["T_WHITESPACE","\n                        ",910],")",["T_WHITESPACE","\n                    ",911],")",["T_WHITESPACE","\n                ",912],")",["T_WHITESPACE","\n            ",913],")",",",["T_WHITESPACE","\n\n            ",914],["T_CONSTANT_ENCAPSED_STRING","'delivery_confirmation_types'",916],["T_WHITESPACE"," ",916],["T_DOUBLE_ARROW","=>",916],["T_WHITESPACE"," ",916],["T_ARRAY","array",916],"(",["T_WHITESPACE","\n                ",916],["T_CONSTANT_ENCAPSED_STRING","'NO_SIGNATURE_REQUIRED'",917],["T_WHITESPACE"," ",917],["T_DOUBLE_ARROW","=>",917],["T_WHITESPACE"," ",917],["T_STRING","Mage",917],["T_DOUBLE_COLON","::",917],["T_STRING","helper",917],"(",["T_CONSTANT_ENCAPSED_STRING","'usa'",917],")",["T_OBJECT_OPERATOR","->",917],["T_STRING","__",917],"(",["T_CONSTANT_ENCAPSED_STRING","'Not Required'",917],")",",",["T_WHITESPACE","\n                ",917],["T_CONSTANT_ENCAPSED_STRING","'ADULT'",918],["T_WHITESPACE","                 ",918],["T_DOUBLE_ARROW","=>",918],["T_WHITESPACE"," ",918],["T_STRING","Mage",918],["T_DOUBLE_COLON","::",918],["T_STRING","helper",918],"(",["T_CONSTANT_ENCAPSED_STRING","'usa'",918],")",["T_OBJECT_OPERATOR","->",918],["T_STRING","__",918],"(",["T_CONSTANT_ENCAPSED_STRING","'Adult'",918],")",",",["T_WHITESPACE","\n                ",918],["T_CONSTANT_ENCAPSED_STRING","'DIRECT'",919],["T_WHITESPACE","                ",919],["T_DOUBLE_ARROW","=>",919],["T_WHITESPACE"," ",919],["T_STRING","Mage",919],["T_DOUBLE_COLON","::",919],["T_STRING","helper",919],"(",["T_CONSTANT_ENCAPSED_STRING","'usa'",919],")",["T_OBJECT_OPERATOR","->",919],["T_STRING","__",919],"(",["T_CONSTANT_ENCAPSED_STRING","'Direct'",919],")",",",["T_WHITESPACE","\n                ",919],["T_CONSTANT_ENCAPSED_STRING","'INDIRECT'",920],["T_WHITESPACE","              ",920],["T_DOUBLE_ARROW","=>",920],["T_WHITESPACE"," ",920],["T_STRING","Mage",920],["T_DOUBLE_COLON","::",920],["T_STRING","helper",920],"(",["T_CONSTANT_ENCAPSED_STRING","'usa'",920],")",["T_OBJECT_OPERATOR","->",920],["T_STRING","__",920],"(",["T_CONSTANT_ENCAPSED_STRING","'Indirect'",920],")",",",["T_WHITESPACE","\n            ",920],")",",",["T_WHITESPACE","\n\n            ",921],["T_CONSTANT_ENCAPSED_STRING","'unit_of_measure'",923],["T_DOUBLE_ARROW","=>",923],["T_ARRAY","array",923],"(",["T_WHITESPACE","\n                ",923],["T_CONSTANT_ENCAPSED_STRING","'LB'",924],["T_WHITESPACE","   ",924],["T_DOUBLE_ARROW","=>",924],["T_WHITESPACE","  ",924],["T_STRING","Mage",924],["T_DOUBLE_COLON","::",924],["T_STRING","helper",924],"(",["T_CONSTANT_ENCAPSED_STRING","'usa'",924],")",["T_OBJECT_OPERATOR","->",924],["T_STRING","__",924],"(",["T_CONSTANT_ENCAPSED_STRING","'Pounds'",924],")",",",["T_WHITESPACE","\n                ",924],["T_CONSTANT_ENCAPSED_STRING","'KG'",925],["T_WHITESPACE","   ",925],["T_DOUBLE_ARROW","=>",925],["T_WHITESPACE","  ",925],["T_STRING","Mage",925],["T_DOUBLE_COLON","::",925],["T_STRING","helper",925],"(",["T_CONSTANT_ENCAPSED_STRING","'usa'",925],")",["T_OBJECT_OPERATOR","->",925],["T_STRING","__",925],"(",["T_CONSTANT_ENCAPSED_STRING","'Kilograms'",925],")",",",["T_WHITESPACE","\n            ",925],")",",",["T_WHITESPACE","\n        ",926],")",";",["T_WHITESPACE","\n\n        ",927],["T_IF","if",929],["T_WHITESPACE"," ",929],"(","!",["T_ISSET","isset",929],"(",["T_VARIABLE","$codes",929],"[",["T_VARIABLE","$type",929],"]",")",")",["T_WHITESPACE"," ",929],"{",["T_WHITESPACE","\n            ",929],["T_RETURN","return",930],["T_WHITESPACE"," ",930],["T_STRING","false",930],";",["T_WHITESPACE","\n        ",930],"}",["T_WHITESPACE"," ",931],["T_ELSEIF","elseif",931],["T_WHITESPACE"," ",931],"(",["T_CONSTANT_ENCAPSED_STRING","''",931],["T_WHITESPACE"," ",931],["T_IS_IDENTICAL","===",931],["T_WHITESPACE"," ",931],["T_VARIABLE","$code",931],")",["T_WHITESPACE"," ",931],"{",["T_WHITESPACE","\n            ",931],["T_RETURN","return",932],["T_WHITESPACE"," ",932],["T_VARIABLE","$codes",932],"[",["T_VARIABLE","$type",932],"]",";",["T_WHITESPACE","\n        ",932],"}",["T_WHITESPACE","\n\n        ",933],["T_IF","if",935],["T_WHITESPACE"," ",935],"(","!",["T_ISSET","isset",935],"(",["T_VARIABLE","$codes",935],"[",["T_VARIABLE","$type",935],"]","[",["T_VARIABLE","$code",935],"]",")",")",["T_WHITESPACE"," ",935],"{",["T_WHITESPACE","\n            ",935],["T_RETURN","return",936],["T_WHITESPACE"," ",936],["T_STRING","false",936],";",["T_WHITESPACE","\n        ",936],"}",["T_WHITESPACE"," ",937],["T_ELSE","else",937],["T_WHITESPACE"," ",937],"{",["T_WHITESPACE","\n            ",937],["T_RETURN","return",938],["T_WHITESPACE"," ",938],["T_VARIABLE","$codes",938],"[",["T_VARIABLE","$type",938],"]","[",["T_VARIABLE","$code",938],"]",";",["T_WHITESPACE","\n        ",938],"}",["T_WHITESPACE","\n    ",939],"}",["T_WHITESPACE","\n\n    ",940],["T_DOC_COMMENT","\/**\n     *  Return FeDex currency ISO code by Magento Base Currency Code\n     *\n     *  @return string 3-digit currency code\n     *\/",942],["T_WHITESPACE","\n    ",946],["T_PUBLIC","public",947],["T_WHITESPACE"," ",947],["T_FUNCTION","function",947],["T_WHITESPACE"," ",947],["T_STRING","getCurrencyCode",947],["T_WHITESPACE"," ",947],"(",")",["T_WHITESPACE","\n    ",947],"{",["T_WHITESPACE","\n        ",948],["T_VARIABLE","$codes",949],["T_WHITESPACE"," ",949],"=",["T_WHITESPACE"," ",949],["T_ARRAY","array",949],"(",["T_WHITESPACE","\n            ",949],["T_CONSTANT_ENCAPSED_STRING","'DOP'",950],["T_WHITESPACE"," ",950],["T_DOUBLE_ARROW","=>",950],["T_WHITESPACE"," ",950],["T_CONSTANT_ENCAPSED_STRING","'RDD'",950],",",["T_WHITESPACE"," ",950],["T_COMMENT","\/\/ Dominican Peso\n",950],["T_WHITESPACE","            ",951],["T_CONSTANT_ENCAPSED_STRING","'XCD'",951],["T_WHITESPACE"," ",951],["T_DOUBLE_ARROW","=>",951],["T_WHITESPACE"," ",951],["T_CONSTANT_ENCAPSED_STRING","'ECD'",951],",",["T_WHITESPACE"," ",951],["T_COMMENT","\/\/ Caribbean Dollars\n",951],["T_WHITESPACE","            ",952],["T_CONSTANT_ENCAPSED_STRING","'ARS'",952],["T_WHITESPACE"," ",952],["T_DOUBLE_ARROW","=>",952],["T_WHITESPACE"," ",952],["T_CONSTANT_ENCAPSED_STRING","'ARN'",952],",",["T_WHITESPACE"," ",952],["T_COMMENT","\/\/ Argentina Peso\n",952],["T_WHITESPACE","            ",953],["T_CONSTANT_ENCAPSED_STRING","'SGD'",953],["T_WHITESPACE"," ",953],["T_DOUBLE_ARROW","=>",953],["T_WHITESPACE"," ",953],["T_CONSTANT_ENCAPSED_STRING","'SID'",953],",",["T_WHITESPACE"," ",953],["T_COMMENT","\/\/ Singapore Dollars\n",953],["T_WHITESPACE","            ",954],["T_CONSTANT_ENCAPSED_STRING","'KRW'",954],["T_WHITESPACE"," ",954],["T_DOUBLE_ARROW","=>",954],["T_WHITESPACE"," ",954],["T_CONSTANT_ENCAPSED_STRING","'WON'",954],",",["T_WHITESPACE"," ",954],["T_COMMENT","\/\/ South Korea Won\n",954],["T_WHITESPACE","            ",955],["T_CONSTANT_ENCAPSED_STRING","'JMD'",955],["T_WHITESPACE"," ",955],["T_DOUBLE_ARROW","=>",955],["T_WHITESPACE"," ",955],["T_CONSTANT_ENCAPSED_STRING","'JAD'",955],",",["T_WHITESPACE"," ",955],["T_COMMENT","\/\/ Jamaican Dollars\n",955],["T_WHITESPACE","            ",956],["T_CONSTANT_ENCAPSED_STRING","'CHF'",956],["T_WHITESPACE"," ",956],["T_DOUBLE_ARROW","=>",956],["T_WHITESPACE"," ",956],["T_CONSTANT_ENCAPSED_STRING","'SFR'",956],",",["T_WHITESPACE"," ",956],["T_COMMENT","\/\/ Swiss Francs\n",956],["T_WHITESPACE","            ",957],["T_CONSTANT_ENCAPSED_STRING","'JPY'",957],["T_WHITESPACE"," ",957],["T_DOUBLE_ARROW","=>",957],["T_WHITESPACE"," ",957],["T_CONSTANT_ENCAPSED_STRING","'JYE'",957],",",["T_WHITESPACE"," ",957],["T_COMMENT","\/\/ Japanese Yen\n",957],["T_WHITESPACE","            ",958],["T_CONSTANT_ENCAPSED_STRING","'KWD'",958],["T_WHITESPACE"," ",958],["T_DOUBLE_ARROW","=>",958],["T_WHITESPACE"," ",958],["T_CONSTANT_ENCAPSED_STRING","'KUD'",958],",",["T_WHITESPACE"," ",958],["T_COMMENT","\/\/ Kuwaiti Dinars\n",958],["T_WHITESPACE","            ",959],["T_CONSTANT_ENCAPSED_STRING","'GBP'",959],["T_WHITESPACE"," ",959],["T_DOUBLE_ARROW","=>",959],["T_WHITESPACE"," ",959],["T_CONSTANT_ENCAPSED_STRING","'UKL'",959],",",["T_WHITESPACE"," ",959],["T_COMMENT","\/\/ British Pounds\n",959],["T_WHITESPACE","            ",960],["T_CONSTANT_ENCAPSED_STRING","'AED'",960],["T_WHITESPACE"," ",960],["T_DOUBLE_ARROW","=>",960],["T_WHITESPACE"," ",960],["T_CONSTANT_ENCAPSED_STRING","'DHS'",960],",",["T_WHITESPACE"," ",960],["T_COMMENT","\/\/ UAE Dirhams\n",960],["T_WHITESPACE","            ",961],["T_CONSTANT_ENCAPSED_STRING","'MXN'",961],["T_WHITESPACE"," ",961],["T_DOUBLE_ARROW","=>",961],["T_WHITESPACE"," ",961],["T_CONSTANT_ENCAPSED_STRING","'NMP'",961],",",["T_WHITESPACE"," ",961],["T_COMMENT","\/\/ Mexican Pesos\n",961],["T_WHITESPACE","            ",962],["T_CONSTANT_ENCAPSED_STRING","'UYU'",962],["T_WHITESPACE"," ",962],["T_DOUBLE_ARROW","=>",962],["T_WHITESPACE"," ",962],["T_CONSTANT_ENCAPSED_STRING","'UYP'",962],",",["T_WHITESPACE"," ",962],["T_COMMENT","\/\/ Uruguay New Pesos\n",962],["T_WHITESPACE","            ",963],["T_CONSTANT_ENCAPSED_STRING","'CLP'",963],["T_WHITESPACE"," ",963],["T_DOUBLE_ARROW","=>",963],["T_WHITESPACE"," ",963],["T_CONSTANT_ENCAPSED_STRING","'CHP'",963],",",["T_WHITESPACE"," ",963],["T_COMMENT","\/\/ Chilean Pesos\n",963],["T_WHITESPACE","            ",964],["T_CONSTANT_ENCAPSED_STRING","'TWD'",964],["T_WHITESPACE"," ",964],["T_DOUBLE_ARROW","=>",964],["T_WHITESPACE"," ",964],["T_CONSTANT_ENCAPSED_STRING","'NTD'",964],",",["T_WHITESPACE"," ",964],["T_COMMENT","\/\/ New Taiwan Dollars\n",964],["T_WHITESPACE","        ",965],")",";",["T_WHITESPACE","\n        ",965],["T_VARIABLE","$currencyCode",966],["T_WHITESPACE"," ",966],"=",["T_WHITESPACE"," ",966],["T_STRING","Mage",966],["T_DOUBLE_COLON","::",966],["T_STRING","app",966],"(",")",["T_OBJECT_OPERATOR","->",966],["T_STRING","getStore",966],"(",")",["T_OBJECT_OPERATOR","->",966],["T_STRING","getBaseCurrencyCode",966],"(",")",";",["T_WHITESPACE","\n        ",966],["T_RETURN","return",967],["T_WHITESPACE"," ",967],["T_ISSET","isset",967],"(",["T_VARIABLE","$codes",967],"[",["T_VARIABLE","$currencyCode",967],"]",")",["T_WHITESPACE"," ",967],"?",["T_WHITESPACE"," ",967],["T_VARIABLE","$codes",967],"[",["T_VARIABLE","$currencyCode",967],"]",["T_WHITESPACE"," ",967],":",["T_WHITESPACE"," ",967],["T_VARIABLE","$currencyCode",967],";",["T_WHITESPACE","\n    ",967],"}",["T_WHITESPACE","\n\n    ",968],["T_DOC_COMMENT","\/**\n     * Get tracking\n     *\n     * @param mixed $trackings\n     * @return mixed\n     *\/",970],["T_WHITESPACE","\n    ",975],["T_PUBLIC","public",976],["T_WHITESPACE"," ",976],["T_FUNCTION","function",976],["T_WHITESPACE"," ",976],["T_STRING","getTracking",976],"(",["T_VARIABLE","$trackings",976],")",["T_WHITESPACE","\n    ",976],"{",["T_WHITESPACE","\n        ",977],["T_VARIABLE","$this",978],["T_OBJECT_OPERATOR","->",978],["T_STRING","setTrackingReqeust",978],"(",")",";",["T_WHITESPACE","\n\n        ",978],["T_IF","if",980],["T_WHITESPACE"," ",980],"(","!",["T_STRING","is_array",980],"(",["T_VARIABLE","$trackings",980],")",")",["T_WHITESPACE"," ",980],"{",["T_WHITESPACE","\n            ",980],["T_VARIABLE","$trackings",981],"=",["T_ARRAY","array",981],"(",["T_VARIABLE","$trackings",981],")",";",["T_WHITESPACE","\n        ",981],"}",["T_WHITESPACE","\n\n        ",982],["T_FOREACH","foreach",984],"(",["T_VARIABLE","$trackings",984],["T_WHITESPACE"," ",984],["T_AS","as",984],["T_WHITESPACE"," ",984],["T_VARIABLE","$tracking",984],")","{",["T_WHITESPACE","\n            ",984],["T_VARIABLE","$this",985],["T_OBJECT_OPERATOR","->",985],["T_STRING","_getXMLTracking",985],"(",["T_VARIABLE","$tracking",985],")",";",["T_WHITESPACE","\n        ",985],"}",["T_WHITESPACE","\n\n        ",986],["T_RETURN","return",988],["T_WHITESPACE"," ",988],["T_VARIABLE","$this",988],["T_OBJECT_OPERATOR","->",988],["T_STRING","_result",988],";",["T_WHITESPACE","\n    ",988],"}",["T_WHITESPACE","\n\n    ",989],["T_DOC_COMMENT","\/**\n     * Set tracking request\n     *\n     * @return void\n     *\/",991],["T_WHITESPACE","\n    ",995],["T_PROTECTED","protected",996],["T_WHITESPACE"," ",996],["T_FUNCTION","function",996],["T_WHITESPACE"," ",996],["T_STRING","setTrackingReqeust",996],"(",")",["T_WHITESPACE","\n    ",996],"{",["T_WHITESPACE","\n        ",997],["T_VARIABLE","$r",998],["T_WHITESPACE"," ",998],"=",["T_WHITESPACE"," ",998],["T_NEW","new",998],["T_WHITESPACE"," ",998],["T_STRING","Varien_Object",998],"(",")",";",["T_WHITESPACE","\n\n        ",998],["T_VARIABLE","$account",1000],["T_WHITESPACE"," ",1000],"=",["T_WHITESPACE"," ",1000],["T_VARIABLE","$this",1000],["T_OBJECT_OPERATOR","->",1000],["T_STRING","getConfigData",1000],"(",["T_CONSTANT_ENCAPSED_STRING","'account'",1000],")",";",["T_WHITESPACE","\n        ",1000],["T_VARIABLE","$r",1001],["T_OBJECT_OPERATOR","->",1001],["T_STRING","setAccount",1001],"(",["T_VARIABLE","$account",1001],")",";",["T_WHITESPACE","\n\n        ",1001],["T_VARIABLE","$this",1003],["T_OBJECT_OPERATOR","->",1003],["T_STRING","_rawTrackingRequest",1003],["T_WHITESPACE"," ",1003],"=",["T_WHITESPACE"," ",1003],["T_VARIABLE","$r",1003],";",["T_WHITESPACE","\n    ",1003],"}",["T_WHITESPACE","\n\n    ",1004],["T_DOC_COMMENT","\/**\n     * Send request for tracking\n     *\n     * @param array $tracking\n     * @return void\n     *\/",1006],["T_WHITESPACE","\n    ",1011],["T_PROTECTED","protected",1012],["T_WHITESPACE"," ",1012],["T_FUNCTION","function",1012],["T_WHITESPACE"," ",1012],["T_STRING","_getXMLTracking",1012],"(",["T_VARIABLE","$tracking",1012],")",["T_WHITESPACE","\n    ",1012],"{",["T_WHITESPACE","\n        ",1013],["T_VARIABLE","$trackRequest",1014],["T_WHITESPACE"," ",1014],"=",["T_WHITESPACE"," ",1014],["T_ARRAY","array",1014],"(",["T_WHITESPACE","\n            ",1014],["T_CONSTANT_ENCAPSED_STRING","'WebAuthenticationDetail'",1015],["T_WHITESPACE"," ",1015],["T_DOUBLE_ARROW","=>",1015],["T_WHITESPACE"," ",1015],["T_ARRAY","array",1015],"(",["T_WHITESPACE","\n                ",1015],["T_CONSTANT_ENCAPSED_STRING","'UserCredential'",1016],["T_WHITESPACE"," ",1016],["T_DOUBLE_ARROW","=>",1016],["T_WHITESPACE"," ",1016],["T_ARRAY","array",1016],"(",["T_WHITESPACE","\n                    ",1016],["T_CONSTANT_ENCAPSED_STRING","'Key'",1017],["T_WHITESPACE","      ",1017],["T_DOUBLE_ARROW","=>",1017],["T_WHITESPACE"," ",1017],["T_VARIABLE","$this",1017],["T_OBJECT_OPERATOR","->",1017],["T_STRING","getConfigData",1017],"(",["T_CONSTANT_ENCAPSED_STRING","'key'",1017],")",",",["T_WHITESPACE","\n                    ",1017],["T_CONSTANT_ENCAPSED_STRING","'Password'",1018],["T_WHITESPACE"," ",1018],["T_DOUBLE_ARROW","=>",1018],["T_WHITESPACE"," ",1018],["T_VARIABLE","$this",1018],["T_OBJECT_OPERATOR","->",1018],["T_STRING","getConfigData",1018],"(",["T_CONSTANT_ENCAPSED_STRING","'password'",1018],")",["T_WHITESPACE","\n                ",1018],")",["T_WHITESPACE","\n            ",1019],")",",",["T_WHITESPACE","\n            ",1020],["T_CONSTANT_ENCAPSED_STRING","'ClientDetail'",1021],["T_WHITESPACE"," ",1021],["T_DOUBLE_ARROW","=>",1021],["T_WHITESPACE"," ",1021],["T_ARRAY","array",1021],"(",["T_WHITESPACE","\n                ",1021],["T_CONSTANT_ENCAPSED_STRING","'AccountNumber'",1022],["T_WHITESPACE"," ",1022],["T_DOUBLE_ARROW","=>",1022],["T_WHITESPACE"," ",1022],["T_VARIABLE","$this",1022],["T_OBJECT_OPERATOR","->",1022],["T_STRING","getConfigData",1022],"(",["T_CONSTANT_ENCAPSED_STRING","'account'",1022],")",",",["T_WHITESPACE","\n                ",1022],["T_CONSTANT_ENCAPSED_STRING","'MeterNumber'",1023],["T_WHITESPACE","   ",1023],["T_DOUBLE_ARROW","=>",1023],["T_WHITESPACE"," ",1023],["T_VARIABLE","$this",1023],["T_OBJECT_OPERATOR","->",1023],["T_STRING","getConfigData",1023],"(",["T_CONSTANT_ENCAPSED_STRING","'meter_number'",1023],")",["T_WHITESPACE","\n            ",1023],")",",",["T_WHITESPACE","\n            ",1024],["T_CONSTANT_ENCAPSED_STRING","'Version'",1025],["T_WHITESPACE"," ",1025],["T_DOUBLE_ARROW","=>",1025],["T_WHITESPACE"," ",1025],["T_ARRAY","array",1025],"(",["T_WHITESPACE","\n                ",1025],["T_CONSTANT_ENCAPSED_STRING","'ServiceId'",1026],["T_WHITESPACE","    ",1026],["T_DOUBLE_ARROW","=>",1026],["T_WHITESPACE"," ",1026],["T_CONSTANT_ENCAPSED_STRING","'trck'",1026],",",["T_WHITESPACE","\n                ",1026],["T_CONSTANT_ENCAPSED_STRING","'Major'",1027],["T_WHITESPACE","        ",1027],["T_DOUBLE_ARROW","=>",1027],["T_WHITESPACE"," ",1027],["T_CONSTANT_ENCAPSED_STRING","'5'",1027],",",["T_WHITESPACE","\n                ",1027],["T_CONSTANT_ENCAPSED_STRING","'Intermediate'",1028],["T_WHITESPACE"," ",1028],["T_DOUBLE_ARROW","=>",1028],["T_WHITESPACE"," ",1028],["T_CONSTANT_ENCAPSED_STRING","'0'",1028],",",["T_WHITESPACE","\n                ",1028],["T_CONSTANT_ENCAPSED_STRING","'Minor'",1029],["T_WHITESPACE","        ",1029],["T_DOUBLE_ARROW","=>",1029],["T_WHITESPACE"," ",1029],["T_CONSTANT_ENCAPSED_STRING","'0'",1029],["T_WHITESPACE","\n            ",1029],")",",",["T_WHITESPACE","\n            ",1030],["T_CONSTANT_ENCAPSED_STRING","'PackageIdentifier'",1031],["T_WHITESPACE"," ",1031],["T_DOUBLE_ARROW","=>",1031],["T_WHITESPACE"," ",1031],["T_ARRAY","array",1031],"(",["T_WHITESPACE","\n                ",1031],["T_CONSTANT_ENCAPSED_STRING","'Type'",1032],["T_WHITESPACE","  ",1032],["T_DOUBLE_ARROW","=>",1032],["T_WHITESPACE"," ",1032],["T_CONSTANT_ENCAPSED_STRING","'TRACKING_NUMBER_OR_DOORTAG'",1032],",",["T_WHITESPACE","\n                ",1032],["T_CONSTANT_ENCAPSED_STRING","'Value'",1033],["T_WHITESPACE"," ",1033],["T_DOUBLE_ARROW","=>",1033],["T_WHITESPACE"," ",1033],["T_VARIABLE","$tracking",1033],",",["T_WHITESPACE","\n            ",1033],")",",",["T_WHITESPACE","\n            ",1034],["T_COMMENT","\/*\n             * 0 = summary data, one signle scan structure with the most recent scan\n             * 1 = multiple sacn activity for each package\n             *\/",1035],["T_WHITESPACE","\n            ",1038],["T_CONSTANT_ENCAPSED_STRING","'IncludeDetailedScans'",1039],["T_WHITESPACE"," ",1039],["T_DOUBLE_ARROW","=>",1039],["T_WHITESPACE"," ",1039],["T_LNUMBER","1",1039],",",["T_WHITESPACE","\n        ",1039],")",";",["T_WHITESPACE","\n        ",1040],["T_VARIABLE","$requestString",1041],["T_WHITESPACE"," ",1041],"=",["T_WHITESPACE"," ",1041],["T_STRING","serialize",1041],"(",["T_VARIABLE","$trackRequest",1041],")",";",["T_WHITESPACE","\n        ",1041],["T_VARIABLE","$response",1042],["T_WHITESPACE"," ",1042],"=",["T_WHITESPACE"," ",1042],["T_VARIABLE","$this",1042],["T_OBJECT_OPERATOR","->",1042],["T_STRING","_getCachedQuotes",1042],"(",["T_VARIABLE","$requestString",1042],")",";",["T_WHITESPACE","\n        ",1042],["T_VARIABLE","$debugData",1043],["T_WHITESPACE"," ",1043],"=",["T_WHITESPACE"," ",1043],["T_ARRAY","array",1043],"(",["T_CONSTANT_ENCAPSED_STRING","'request'",1043],["T_WHITESPACE"," ",1043],["T_DOUBLE_ARROW","=>",1043],["T_WHITESPACE"," ",1043],["T_VARIABLE","$trackRequest",1043],")",";",["T_WHITESPACE","\n        ",1043],["T_IF","if",1044],["T_WHITESPACE"," ",1044],"(",["T_VARIABLE","$response",1044],["T_WHITESPACE"," ",1044],["T_IS_IDENTICAL","===",1044],["T_WHITESPACE"," ",1044],["T_STRING","null",1044],")",["T_WHITESPACE"," ",1044],"{",["T_WHITESPACE","\n            ",1044],["T_TRY","try",1045],["T_WHITESPACE"," ",1045],"{",["T_WHITESPACE","\n                ",1045],["T_VARIABLE","$client",1046],["T_WHITESPACE"," ",1046],"=",["T_WHITESPACE"," ",1046],["T_VARIABLE","$this",1046],["T_OBJECT_OPERATOR","->",1046],["T_STRING","_createTrackSoapClient",1046],"(",")",";",["T_WHITESPACE","\n                ",1046],["T_VARIABLE","$response",1047],["T_WHITESPACE"," ",1047],"=",["T_WHITESPACE"," ",1047],["T_VARIABLE","$client",1047],["T_OBJECT_OPERATOR","->",1047],["T_STRING","track",1047],"(",["T_VARIABLE","$trackRequest",1047],")",";",["T_WHITESPACE","\n                ",1047],["T_VARIABLE","$this",1048],["T_OBJECT_OPERATOR","->",1048],["T_STRING","_setCachedQuotes",1048],"(",["T_VARIABLE","$requestString",1048],",",["T_WHITESPACE"," ",1048],["T_STRING","serialize",1048],"(",["T_VARIABLE","$response",1048],")",")",";",["T_WHITESPACE","\n                ",1048],["T_VARIABLE","$debugData",1049],"[",["T_CONSTANT_ENCAPSED_STRING","'result'",1049],"]",["T_WHITESPACE"," ",1049],"=",["T_WHITESPACE"," ",1049],["T_VARIABLE","$response",1049],";",["T_WHITESPACE","\n            ",1049],"}",["T_WHITESPACE"," ",1050],["T_CATCH","catch",1050],["T_WHITESPACE"," ",1050],"(",["T_STRING","Exception",1050],["T_WHITESPACE"," ",1050],["T_VARIABLE","$e",1050],")",["T_WHITESPACE"," ",1050],"{",["T_WHITESPACE","\n                ",1050],["T_VARIABLE","$debugData",1051],"[",["T_CONSTANT_ENCAPSED_STRING","'result'",1051],"]",["T_WHITESPACE"," ",1051],"=",["T_WHITESPACE"," ",1051],["T_ARRAY","array",1051],"(",["T_CONSTANT_ENCAPSED_STRING","'error'",1051],["T_WHITESPACE"," ",1051],["T_DOUBLE_ARROW","=>",1051],["T_WHITESPACE"," ",1051],["T_VARIABLE","$e",1051],["T_OBJECT_OPERATOR","->",1051],["T_STRING","getMessage",1051],"(",")",",",["T_WHITESPACE"," ",1051],["T_CONSTANT_ENCAPSED_STRING","'code'",1051],["T_WHITESPACE"," ",1051],["T_DOUBLE_ARROW","=>",1051],["T_WHITESPACE"," ",1051],["T_VARIABLE","$e",1051],["T_OBJECT_OPERATOR","->",1051],["T_STRING","getCode",1051],"(",")",")",";",["T_WHITESPACE","\n                ",1051],["T_STRING","Mage",1052],["T_DOUBLE_COLON","::",1052],["T_STRING","logException",1052],"(",["T_VARIABLE","$e",1052],")",";",["T_WHITESPACE","\n            ",1052],"}",["T_WHITESPACE","\n        ",1053],"}",["T_WHITESPACE"," ",1054],["T_ELSE","else",1054],["T_WHITESPACE"," ",1054],"{",["T_WHITESPACE","\n            ",1054],["T_VARIABLE","$response",1055],["T_WHITESPACE"," ",1055],"=",["T_WHITESPACE"," ",1055],["T_STRING","unserialize",1055],"(",["T_VARIABLE","$response",1055],")",";",["T_WHITESPACE","\n            ",1055],["T_VARIABLE","$debugData",1056],"[",["T_CONSTANT_ENCAPSED_STRING","'result'",1056],"]",["T_WHITESPACE"," ",1056],"=",["T_WHITESPACE"," ",1056],["T_VARIABLE","$response",1056],";",["T_WHITESPACE","\n        ",1056],"}",["T_WHITESPACE","\n        ",1057],["T_VARIABLE","$this",1058],["T_OBJECT_OPERATOR","->",1058],["T_STRING","_debug",1058],"(",["T_VARIABLE","$debugData",1058],")",";",["T_WHITESPACE","\n\n        ",1058],["T_VARIABLE","$this",1060],["T_OBJECT_OPERATOR","->",1060],["T_STRING","_parseTrackingResponse",1060],"(",["T_VARIABLE","$tracking",1060],",",["T_WHITESPACE"," ",1060],["T_VARIABLE","$response",1060],")",";",["T_WHITESPACE","\n    ",1060],"}",["T_WHITESPACE","\n\n    ",1061],["T_DOC_COMMENT","\/**\n     * Parse tracking response\n     *\n     * @param array $trackingValue\n     * @param stdClass $response\n     *\/",1063],["T_WHITESPACE","\n    ",1068],["T_PROTECTED","protected",1069],["T_WHITESPACE"," ",1069],["T_FUNCTION","function",1069],["T_WHITESPACE"," ",1069],["T_STRING","_parseTrackingResponse",1069],"(",["T_VARIABLE","$trackingValue",1069],",",["T_WHITESPACE"," ",1069],["T_VARIABLE","$response",1069],")",["T_WHITESPACE","\n    ",1069],"{",["T_WHITESPACE","\n        ",1070],["T_IF","if",1071],["T_WHITESPACE"," ",1071],"(",["T_STRING","is_object",1071],"(",["T_VARIABLE","$response",1071],")",")",["T_WHITESPACE"," ",1071],"{",["T_WHITESPACE","\n            ",1071],["T_IF","if",1072],["T_WHITESPACE"," ",1072],"(",["T_VARIABLE","$response",1072],["T_OBJECT_OPERATOR","->",1072],["T_STRING","HighestSeverity",1072],["T_WHITESPACE"," ",1072],["T_IS_EQUAL","==",1072],["T_WHITESPACE"," ",1072],["T_CONSTANT_ENCAPSED_STRING","'FAILURE'",1072],["T_WHITESPACE"," ",1072],["T_BOOLEAN_OR","||",1072],["T_WHITESPACE"," ",1072],["T_VARIABLE","$response",1072],["T_OBJECT_OPERATOR","->",1072],["T_STRING","HighestSeverity",1072],["T_WHITESPACE"," ",1072],["T_IS_EQUAL","==",1072],["T_WHITESPACE"," ",1072],["T_CONSTANT_ENCAPSED_STRING","'ERROR'",1072],")",["T_WHITESPACE"," ",1072],"{",["T_WHITESPACE","\n                ",1072],["T_VARIABLE","$errorTitle",1073],["T_WHITESPACE"," ",1073],"=",["T_WHITESPACE"," ",1073],["T_STRING_CAST","(string)",1073],["T_VARIABLE","$response",1073],["T_OBJECT_OPERATOR","->",1073],["T_STRING","Notifications",1073],["T_OBJECT_OPERATOR","->",1073],["T_STRING","Message",1073],";",["T_WHITESPACE","\n            ",1073],"}",["T_WHITESPACE"," ",1074],["T_ELSEIF","elseif",1074],["T_WHITESPACE"," ",1074],"(",["T_ISSET","isset",1074],"(",["T_VARIABLE","$response",1074],["T_OBJECT_OPERATOR","->",1074],["T_STRING","TrackDetails",1074],")",")",["T_WHITESPACE"," ",1074],"{",["T_WHITESPACE","\n                ",1074],["T_VARIABLE","$trackInfo",1075],["T_WHITESPACE"," ",1075],"=",["T_WHITESPACE"," ",1075],["T_VARIABLE","$response",1075],["T_OBJECT_OPERATOR","->",1075],["T_STRING","TrackDetails",1075],";",["T_WHITESPACE","\n                ",1075],["T_VARIABLE","$resultArray",1076],"[",["T_CONSTANT_ENCAPSED_STRING","'status'",1076],"]",["T_WHITESPACE"," ",1076],"=",["T_WHITESPACE"," ",1076],["T_STRING_CAST","(string)",1076],["T_VARIABLE","$trackInfo",1076],["T_OBJECT_OPERATOR","->",1076],["T_STRING","StatusDescription",1076],";",["T_WHITESPACE","\n                ",1076],["T_VARIABLE","$resultArray",1077],"[",["T_CONSTANT_ENCAPSED_STRING","'service'",1077],"]",["T_WHITESPACE"," ",1077],"=",["T_WHITESPACE"," ",1077],["T_STRING_CAST","(string)",1077],["T_VARIABLE","$trackInfo",1077],["T_OBJECT_OPERATOR","->",1077],["T_STRING","ServiceInfo",1077],";",["T_WHITESPACE","\n                ",1077],["T_VARIABLE","$timestamp",1078],["T_WHITESPACE"," ",1078],"=",["T_WHITESPACE"," ",1078],["T_ISSET","isset",1078],"(",["T_VARIABLE","$trackInfo",1078],["T_OBJECT_OPERATOR","->",1078],["T_STRING","EstimatedDeliveryTimestamp",1078],")",["T_WHITESPACE"," ",1078],"?",["T_WHITESPACE","\n                    ",1078],["T_VARIABLE","$trackInfo",1079],["T_OBJECT_OPERATOR","->",1079],["T_STRING","EstimatedDeliveryTimestamp",1079],["T_WHITESPACE"," ",1079],":",["T_WHITESPACE"," ",1079],["T_VARIABLE","$trackInfo",1079],["T_OBJECT_OPERATOR","->",1079],["T_STRING","ActualDeliveryTimestamp",1079],";",["T_WHITESPACE","\n                ",1079],["T_VARIABLE","$timestamp",1080],["T_WHITESPACE"," ",1080],"=",["T_WHITESPACE"," ",1080],["T_STRING","strtotime",1080],"(",["T_STRING_CAST","(string)",1080],["T_VARIABLE","$timestamp",1080],")",";",["T_WHITESPACE","\n                ",1080],["T_IF","if",1081],["T_WHITESPACE"," ",1081],"(",["T_VARIABLE","$timestamp",1081],")",["T_WHITESPACE"," ",1081],"{",["T_WHITESPACE","\n                    ",1081],["T_VARIABLE","$resultArray",1082],"[",["T_CONSTANT_ENCAPSED_STRING","'deliverydate'",1082],"]",["T_WHITESPACE"," ",1082],"=",["T_WHITESPACE"," ",1082],["T_STRING","date",1082],"(",["T_CONSTANT_ENCAPSED_STRING","'Y-m-d'",1082],",",["T_WHITESPACE"," ",1082],["T_VARIABLE","$timestamp",1082],")",";",["T_WHITESPACE","\n                    ",1082],["T_VARIABLE","$resultArray",1083],"[",["T_CONSTANT_ENCAPSED_STRING","'deliverytime'",1083],"]",["T_WHITESPACE"," ",1083],"=",["T_WHITESPACE"," ",1083],["T_STRING","date",1083],"(",["T_CONSTANT_ENCAPSED_STRING","'H:i:s'",1083],",",["T_WHITESPACE"," ",1083],["T_VARIABLE","$timestamp",1083],")",";",["T_WHITESPACE","\n                ",1083],"}",["T_WHITESPACE","\n\n                ",1084],["T_VARIABLE","$deliveryLocation",1086],["T_WHITESPACE"," ",1086],"=",["T_WHITESPACE"," ",1086],["T_ISSET","isset",1086],"(",["T_VARIABLE","$trackInfo",1086],["T_OBJECT_OPERATOR","->",1086],["T_STRING","EstimatedDeliveryAddress",1086],")",["T_WHITESPACE"," ",1086],"?",["T_WHITESPACE","\n                    ",1086],["T_VARIABLE","$trackInfo",1087],["T_OBJECT_OPERATOR","->",1087],["T_STRING","EstimatedDeliveryAddress",1087],["T_WHITESPACE"," ",1087],":",["T_WHITESPACE"," ",1087],["T_VARIABLE","$trackInfo",1087],["T_OBJECT_OPERATOR","->",1087],["T_STRING","ActualDeliveryAddress",1087],";",["T_WHITESPACE","\n                ",1087],["T_VARIABLE","$deliveryLocationArray",1088],["T_WHITESPACE"," ",1088],"=",["T_WHITESPACE"," ",1088],["T_ARRAY","array",1088],"(",")",";",["T_WHITESPACE","\n                ",1088],["T_IF","if",1089],["T_WHITESPACE"," ",1089],"(",["T_ISSET","isset",1089],"(",["T_VARIABLE","$deliveryLocation",1089],["T_OBJECT_OPERATOR","->",1089],["T_STRING","City",1089],")",")",["T_WHITESPACE"," ",1089],"{",["T_WHITESPACE","\n                    ",1089],["T_VARIABLE","$deliveryLocationArray",1090],"[","]",["T_WHITESPACE"," ",1090],"=",["T_WHITESPACE"," ",1090],["T_STRING_CAST","(string)",1090],["T_VARIABLE","$deliveryLocation",1090],["T_OBJECT_OPERATOR","->",1090],["T_STRING","City",1090],";",["T_WHITESPACE","\n                ",1090],"}",["T_WHITESPACE","\n                ",1091],["T_IF","if",1092],["T_WHITESPACE"," ",1092],"(",["T_ISSET","isset",1092],"(",["T_VARIABLE","$deliveryLocation",1092],["T_OBJECT_OPERATOR","->",1092],["T_STRING","StateOrProvinceCode",1092],")",")",["T_WHITESPACE"," ",1092],"{",["T_WHITESPACE","\n                    ",1092],["T_VARIABLE","$deliveryLocationArray",1093],"[","]",["T_WHITESPACE"," ",1093],"=",["T_WHITESPACE"," ",1093],["T_STRING_CAST","(string)",1093],["T_VARIABLE","$deliveryLocation",1093],["T_OBJECT_OPERATOR","->",1093],["T_STRING","StateOrProvinceCode",1093],";",["T_WHITESPACE","\n                ",1093],"}",["T_WHITESPACE","\n                ",1094],["T_IF","if",1095],["T_WHITESPACE"," ",1095],"(",["T_ISSET","isset",1095],"(",["T_VARIABLE","$deliveryLocation",1095],["T_OBJECT_OPERATOR","->",1095],["T_STRING","CountryCode",1095],")",")",["T_WHITESPACE"," ",1095],"{",["T_WHITESPACE","\n                    ",1095],["T_VARIABLE","$deliveryLocationArray",1096],"[","]",["T_WHITESPACE"," ",1096],"=",["T_WHITESPACE"," ",1096],["T_STRING_CAST","(string)",1096],["T_VARIABLE","$deliveryLocation",1096],["T_OBJECT_OPERATOR","->",1096],["T_STRING","CountryCode",1096],";",["T_WHITESPACE","\n                ",1096],"}",["T_WHITESPACE","\n                ",1097],["T_IF","if",1098],["T_WHITESPACE"," ",1098],"(",["T_VARIABLE","$deliveryLocationArray",1098],")",["T_WHITESPACE"," ",1098],"{",["T_WHITESPACE","\n                    ",1098],["T_VARIABLE","$resultArray",1099],"[",["T_CONSTANT_ENCAPSED_STRING","'deliverylocation'",1099],"]",["T_WHITESPACE"," ",1099],"=",["T_WHITESPACE"," ",1099],["T_STRING","implode",1099],"(",["T_CONSTANT_ENCAPSED_STRING","', '",1099],",",["T_WHITESPACE"," ",1099],["T_VARIABLE","$deliveryLocationArray",1099],")",";",["T_WHITESPACE","\n                ",1099],"}",["T_WHITESPACE","\n\n                ",1100],["T_VARIABLE","$resultArray",1102],"[",["T_CONSTANT_ENCAPSED_STRING","'signedby'",1102],"]",["T_WHITESPACE"," ",1102],"=",["T_WHITESPACE"," ",1102],["T_STRING_CAST","(string)",1102],["T_VARIABLE","$trackInfo",1102],["T_OBJECT_OPERATOR","->",1102],["T_STRING","DeliverySignatureName",1102],";",["T_WHITESPACE","\n                ",1102],["T_VARIABLE","$resultArray",1103],"[",["T_CONSTANT_ENCAPSED_STRING","'shippeddate'",1103],"]",["T_WHITESPACE"," ",1103],"=",["T_WHITESPACE"," ",1103],["T_STRING","date",1103],"(",["T_CONSTANT_ENCAPSED_STRING","'Y-m-d'",1103],",",["T_WHITESPACE"," ",1103],["T_INT_CAST","(int)",1103],["T_VARIABLE","$trackInfo",1103],["T_OBJECT_OPERATOR","->",1103],["T_STRING","ShipTimestamp",1103],")",";",["T_WHITESPACE","\n                ",1103],["T_IF","if",1104],["T_WHITESPACE"," ",1104],"(",["T_ISSET","isset",1104],"(",["T_VARIABLE","$trackInfo",1104],["T_OBJECT_OPERATOR","->",1104],["T_STRING","PackageWeight",1104],")",["T_WHITESPACE"," ",1104],["T_BOOLEAN_AND","&&",1104],["T_WHITESPACE"," ",1104],["T_ISSET","isset",1104],"(",["T_VARIABLE","$trackInfo",1104],["T_OBJECT_OPERATOR","->",1104],["T_STRING","Units",1104],")",")",["T_WHITESPACE"," ",1104],"{",["T_WHITESPACE","\n                    ",1104],["T_VARIABLE","$weight",1105],["T_WHITESPACE"," ",1105],"=",["T_WHITESPACE"," ",1105],["T_STRING_CAST","(string)",1105],["T_VARIABLE","$trackInfo",1105],["T_OBJECT_OPERATOR","->",1105],["T_STRING","PackageWeight",1105],";",["T_WHITESPACE","\n                    ",1105],["T_VARIABLE","$unit",1106],["T_WHITESPACE"," ",1106],"=",["T_WHITESPACE"," ",1106],["T_STRING_CAST","(string)",1106],["T_VARIABLE","$trackInfo",1106],["T_OBJECT_OPERATOR","->",1106],["T_STRING","Units",1106],";",["T_WHITESPACE","\n                    ",1106],["T_VARIABLE","$resultArray",1107],"[",["T_CONSTANT_ENCAPSED_STRING","'weight'",1107],"]",["T_WHITESPACE"," ",1107],"=",["T_WHITESPACE"," ",1107],"\"",["T_CURLY_OPEN","{",1107],["T_VARIABLE","$weight",1107],"}",["T_ENCAPSED_AND_WHITESPACE"," ",1107],["T_CURLY_OPEN","{",1107],["T_VARIABLE","$unit",1107],"}","\"",";",["T_WHITESPACE","\n                ",1107],"}",["T_WHITESPACE","\n\n                ",1108],["T_VARIABLE","$packageProgress",1110],["T_WHITESPACE"," ",1110],"=",["T_WHITESPACE"," ",1110],["T_ARRAY","array",1110],"(",")",";",["T_WHITESPACE","\n                ",1110],["T_IF","if",1111],["T_WHITESPACE"," ",1111],"(",["T_ISSET","isset",1111],"(",["T_VARIABLE","$trackInfo",1111],["T_OBJECT_OPERATOR","->",1111],["T_STRING","Events",1111],")",")",["T_WHITESPACE"," ",1111],"{",["T_WHITESPACE","\n                    ",1111],["T_VARIABLE","$events",1112],["T_WHITESPACE"," ",1112],"=",["T_WHITESPACE"," ",1112],["T_VARIABLE","$trackInfo",1112],["T_OBJECT_OPERATOR","->",1112],["T_STRING","Events",1112],";",["T_WHITESPACE","\n                    ",1112],["T_IF","if",1113],["T_WHITESPACE"," ",1113],"(",["T_ISSET","isset",1113],"(",["T_VARIABLE","$events",1113],["T_OBJECT_OPERATOR","->",1113],["T_STRING","Address",1113],")",")",["T_WHITESPACE"," ",1113],"{",["T_WHITESPACE","\n                        ",1113],["T_VARIABLE","$events",1114],["T_WHITESPACE"," ",1114],"=",["T_WHITESPACE"," ",1114],["T_ARRAY","array",1114],"(",["T_VARIABLE","$events",1114],")",";",["T_WHITESPACE","\n                    ",1114],"}",["T_WHITESPACE","\n                    ",1115],["T_FOREACH","foreach",1116],["T_WHITESPACE"," ",1116],"(",["T_VARIABLE","$events",1116],["T_WHITESPACE"," ",1116],["T_AS","as",1116],["T_WHITESPACE"," ",1116],["T_VARIABLE","$event",1116],")",["T_WHITESPACE"," ",1116],"{",["T_WHITESPACE","\n                        ",1116],["T_VARIABLE","$tempArray",1117],["T_WHITESPACE"," ",1117],"=",["T_WHITESPACE"," ",1117],["T_ARRAY","array",1117],"(",")",";",["T_WHITESPACE","\n                        ",1117],["T_VARIABLE","$tempArray",1118],"[",["T_CONSTANT_ENCAPSED_STRING","'activity'",1118],"]",["T_WHITESPACE"," ",1118],"=",["T_WHITESPACE"," ",1118],["T_STRING_CAST","(string)",1118],["T_VARIABLE","$event",1118],["T_OBJECT_OPERATOR","->",1118],["T_STRING","EventDescription",1118],";",["T_WHITESPACE","\n                        ",1118],["T_VARIABLE","$timestamp",1119],["T_WHITESPACE"," ",1119],"=",["T_WHITESPACE"," ",1119],["T_STRING","strtotime",1119],"(",["T_STRING_CAST","(string)",1119],["T_VARIABLE","$event",1119],["T_OBJECT_OPERATOR","->",1119],["T_STRING","Timestamp",1119],")",";",["T_WHITESPACE","\n                        ",1119],["T_IF","if",1120],["T_WHITESPACE"," ",1120],"(",["T_VARIABLE","$timestamp",1120],")",["T_WHITESPACE"," ",1120],"{",["T_WHITESPACE","\n                            ",1120],["T_VARIABLE","$tempArray",1121],"[",["T_CONSTANT_ENCAPSED_STRING","'deliverydate'",1121],"]",["T_WHITESPACE"," ",1121],"=",["T_WHITESPACE"," ",1121],["T_STRING","date",1121],"(",["T_CONSTANT_ENCAPSED_STRING","'Y-m-d'",1121],",",["T_WHITESPACE"," ",1121],["T_VARIABLE","$timestamp",1121],")",";",["T_WHITESPACE","\n                            ",1121],["T_VARIABLE","$tempArray",1122],"[",["T_CONSTANT_ENCAPSED_STRING","'deliverytime'",1122],"]",["T_WHITESPACE"," ",1122],"=",["T_WHITESPACE"," ",1122],["T_STRING","date",1122],"(",["T_CONSTANT_ENCAPSED_STRING","'H:i:s'",1122],",",["T_WHITESPACE"," ",1122],["T_VARIABLE","$timestamp",1122],")",";",["T_WHITESPACE","\n                        ",1122],"}",["T_WHITESPACE","\n                        ",1123],["T_IF","if",1124],["T_WHITESPACE"," ",1124],"(",["T_ISSET","isset",1124],"(",["T_VARIABLE","$event",1124],["T_OBJECT_OPERATOR","->",1124],["T_STRING","Address",1124],")",")",["T_WHITESPACE"," ",1124],"{",["T_WHITESPACE","\n                            ",1124],["T_VARIABLE","$addressArray",1125],["T_WHITESPACE"," ",1125],"=",["T_WHITESPACE"," ",1125],["T_ARRAY","array",1125],"(",")",";",["T_WHITESPACE","\n                            ",1125],["T_VARIABLE","$address",1126],["T_WHITESPACE"," ",1126],"=",["T_WHITESPACE"," ",1126],["T_VARIABLE","$event",1126],["T_OBJECT_OPERATOR","->",1126],["T_STRING","Address",1126],";",["T_WHITESPACE","\n                            ",1126],["T_IF","if",1127],["T_WHITESPACE"," ",1127],"(",["T_ISSET","isset",1127],"(",["T_VARIABLE","$address",1127],["T_OBJECT_OPERATOR","->",1127],["T_STRING","City",1127],")",")",["T_WHITESPACE"," ",1127],"{",["T_WHITESPACE","\n                                ",1127],["T_VARIABLE","$addressArray",1128],"[","]",["T_WHITESPACE"," ",1128],"=",["T_WHITESPACE"," ",1128],["T_STRING_CAST","(string)",1128],["T_VARIABLE","$address",1128],["T_OBJECT_OPERATOR","->",1128],["T_STRING","City",1128],";",["T_WHITESPACE","\n                            ",1128],"}",["T_WHITESPACE","\n                            ",1129],["T_IF","if",1130],["T_WHITESPACE"," ",1130],"(",["T_ISSET","isset",1130],"(",["T_VARIABLE","$address",1130],["T_OBJECT_OPERATOR","->",1130],["T_STRING","StateOrProvinceCode",1130],")",")",["T_WHITESPACE"," ",1130],"{",["T_WHITESPACE","\n                                ",1130],["T_VARIABLE","$addressArray",1131],"[","]",["T_WHITESPACE"," ",1131],"=",["T_WHITESPACE"," ",1131],["T_STRING_CAST","(string)",1131],["T_VARIABLE","$address",1131],["T_OBJECT_OPERATOR","->",1131],["T_STRING","StateOrProvinceCode",1131],";",["T_WHITESPACE","\n                            ",1131],"}",["T_WHITESPACE","\n                            ",1132],["T_IF","if",1133],["T_WHITESPACE"," ",1133],"(",["T_ISSET","isset",1133],"(",["T_VARIABLE","$address",1133],["T_OBJECT_OPERATOR","->",1133],["T_STRING","CountryCode",1133],")",")",["T_WHITESPACE"," ",1133],"{",["T_WHITESPACE","\n                                ",1133],["T_VARIABLE","$addressArray",1134],"[","]",["T_WHITESPACE"," ",1134],"=",["T_WHITESPACE"," ",1134],["T_STRING_CAST","(string)",1134],["T_VARIABLE","$address",1134],["T_OBJECT_OPERATOR","->",1134],["T_STRING","CountryCode",1134],";",["T_WHITESPACE","\n                            ",1134],"}",["T_WHITESPACE","\n                            ",1135],["T_IF","if",1136],["T_WHITESPACE"," ",1136],"(",["T_VARIABLE","$addressArray",1136],")",["T_WHITESPACE"," ",1136],"{",["T_WHITESPACE","\n                                ",1136],["T_VARIABLE","$tempArray",1137],"[",["T_CONSTANT_ENCAPSED_STRING","'deliverylocation'",1137],"]",["T_WHITESPACE"," ",1137],"=",["T_WHITESPACE"," ",1137],["T_STRING","implode",1137],"(",["T_CONSTANT_ENCAPSED_STRING","', '",1137],",",["T_WHITESPACE"," ",1137],["T_VARIABLE","$addressArray",1137],")",";",["T_WHITESPACE","\n                            ",1137],"}",["T_WHITESPACE","\n                        ",1138],"}",["T_WHITESPACE","\n                        ",1139],["T_VARIABLE","$packageProgress",1140],"[","]",["T_WHITESPACE"," ",1140],"=",["T_WHITESPACE"," ",1140],["T_VARIABLE","$tempArray",1140],";",["T_WHITESPACE","\n                    ",1140],"}",["T_WHITESPACE","\n                ",1141],"}",["T_WHITESPACE","\n\n                ",1142],["T_VARIABLE","$resultArray",1144],"[",["T_CONSTANT_ENCAPSED_STRING","'progressdetail'",1144],"]",["T_WHITESPACE"," ",1144],"=",["T_WHITESPACE"," ",1144],["T_VARIABLE","$packageProgress",1144],";",["T_WHITESPACE","\n            ",1144],"}",["T_WHITESPACE","\n        ",1145],"}",["T_WHITESPACE","\n\n        ",1146],["T_IF","if",1148],["T_WHITESPACE"," ",1148],"(","!",["T_VARIABLE","$this",1148],["T_OBJECT_OPERATOR","->",1148],["T_STRING","_result",1148],")",["T_WHITESPACE"," ",1148],"{",["T_WHITESPACE","\n            ",1148],["T_VARIABLE","$this",1149],["T_OBJECT_OPERATOR","->",1149],["T_STRING","_result",1149],["T_WHITESPACE"," ",1149],"=",["T_WHITESPACE"," ",1149],["T_STRING","Mage",1149],["T_DOUBLE_COLON","::",1149],["T_STRING","getModel",1149],"(",["T_CONSTANT_ENCAPSED_STRING","'shipping\/tracking_result'",1149],")",";",["T_WHITESPACE","\n        ",1149],"}",["T_WHITESPACE","\n\n        ",1150],["T_IF","if",1152],["T_WHITESPACE"," ",1152],"(",["T_ISSET","isset",1152],"(",["T_VARIABLE","$resultArray",1152],")",")",["T_WHITESPACE"," ",1152],"{",["T_WHITESPACE","\n            ",1152],["T_VARIABLE","$tracking",1153],["T_WHITESPACE"," ",1153],"=",["T_WHITESPACE"," ",1153],["T_STRING","Mage",1153],["T_DOUBLE_COLON","::",1153],["T_STRING","getModel",1153],"(",["T_CONSTANT_ENCAPSED_STRING","'shipping\/tracking_result_status'",1153],")",";",["T_WHITESPACE","\n            ",1153],["T_VARIABLE","$tracking",1154],["T_OBJECT_OPERATOR","->",1154],["T_STRING","setCarrier",1154],"(",["T_CONSTANT_ENCAPSED_STRING","'fedex'",1154],")",";",["T_WHITESPACE","\n            ",1154],["T_VARIABLE","$tracking",1155],["T_OBJECT_OPERATOR","->",1155],["T_STRING","setCarrierTitle",1155],"(",["T_VARIABLE","$this",1155],["T_OBJECT_OPERATOR","->",1155],["T_STRING","getConfigData",1155],"(",["T_CONSTANT_ENCAPSED_STRING","'title'",1155],")",")",";",["T_WHITESPACE","\n            ",1155],["T_VARIABLE","$tracking",1156],["T_OBJECT_OPERATOR","->",1156],["T_STRING","setTracking",1156],"(",["T_VARIABLE","$trackingValue",1156],")",";",["T_WHITESPACE","\n            ",1156],["T_VARIABLE","$tracking",1157],["T_OBJECT_OPERATOR","->",1157],["T_STRING","addData",1157],"(",["T_VARIABLE","$resultArray",1157],")",";",["T_WHITESPACE","\n            ",1157],["T_VARIABLE","$this",1158],["T_OBJECT_OPERATOR","->",1158],["T_STRING","_result",1158],["T_OBJECT_OPERATOR","->",1158],["T_STRING","append",1158],"(",["T_VARIABLE","$tracking",1158],")",";",["T_WHITESPACE","\n        ",1158],"}",["T_WHITESPACE"," ",1159],["T_ELSE","else",1159],["T_WHITESPACE"," ",1159],"{",["T_WHITESPACE","\n           ",1159],["T_VARIABLE","$error",1160],["T_WHITESPACE"," ",1160],"=",["T_WHITESPACE"," ",1160],["T_STRING","Mage",1160],["T_DOUBLE_COLON","::",1160],["T_STRING","getModel",1160],"(",["T_CONSTANT_ENCAPSED_STRING","'shipping\/tracking_result_error'",1160],")",";",["T_WHITESPACE","\n           ",1160],["T_VARIABLE","$error",1161],["T_OBJECT_OPERATOR","->",1161],["T_STRING","setCarrier",1161],"(",["T_CONSTANT_ENCAPSED_STRING","'fedex'",1161],")",";",["T_WHITESPACE","\n           ",1161],["T_VARIABLE","$error",1162],["T_OBJECT_OPERATOR","->",1162],["T_STRING","setCarrierTitle",1162],"(",["T_VARIABLE","$this",1162],["T_OBJECT_OPERATOR","->",1162],["T_STRING","getConfigData",1162],"(",["T_CONSTANT_ENCAPSED_STRING","'title'",1162],")",")",";",["T_WHITESPACE","\n           ",1162],["T_VARIABLE","$error",1163],["T_OBJECT_OPERATOR","->",1163],["T_STRING","setTracking",1163],"(",["T_VARIABLE","$trackingValue",1163],")",";",["T_WHITESPACE","\n           ",1163],["T_VARIABLE","$error",1164],["T_OBJECT_OPERATOR","->",1164],["T_STRING","setErrorMessage",1164],"(",["T_VARIABLE","$errorTitle",1164],["T_WHITESPACE"," ",1164],"?",["T_WHITESPACE"," ",1164],["T_VARIABLE","$errorTitle",1164],["T_WHITESPACE"," ",1164],":",["T_WHITESPACE"," ",1164],["T_STRING","Mage",1164],["T_DOUBLE_COLON","::",1164],["T_STRING","helper",1164],"(",["T_CONSTANT_ENCAPSED_STRING","'usa'",1164],")",["T_OBJECT_OPERATOR","->",1164],["T_STRING","__",1164],"(",["T_CONSTANT_ENCAPSED_STRING","'Unable to retrieve tracking'",1164],")",")",";",["T_WHITESPACE","\n           ",1164],["T_VARIABLE","$this",1165],["T_OBJECT_OPERATOR","->",1165],["T_STRING","_result",1165],["T_OBJECT_OPERATOR","->",1165],["T_STRING","append",1165],"(",["T_VARIABLE","$error",1165],")",";",["T_WHITESPACE","\n        ",1165],"}",["T_WHITESPACE","\n    ",1166],"}",["T_WHITESPACE","\n\n    ",1167],["T_DOC_COMMENT","\/**\n     * Parse xml tracking response\n     *\n     * @deprecated after 1.6.0.0 see _parseTrackingResponse()\n     * @param array $trackingvalue\n     * @param string $response\n     * @return void\n     *\/",1169],["T_WHITESPACE","\n    ",1176],["T_PROTECTED","protected",1177],["T_WHITESPACE"," ",1177],["T_FUNCTION","function",1177],["T_WHITESPACE"," ",1177],["T_STRING","_parseXmlTrackingResponse",1177],"(",["T_VARIABLE","$trackingvalue",1177],",",["T_WHITESPACE"," ",1177],["T_VARIABLE","$response",1177],")",["T_WHITESPACE","\n    ",1177],"{",["T_WHITESPACE","\n         ",1178],["T_VARIABLE","$resultArr",1179],"=",["T_ARRAY","array",1179],"(",")",";",["T_WHITESPACE","\n         ",1179],["T_IF","if",1180],["T_WHITESPACE"," ",1180],"(",["T_STRING","strlen",1180],"(",["T_STRING","trim",1180],"(",["T_VARIABLE","$response",1180],")",")",">",["T_LNUMBER","0",1180],")",["T_WHITESPACE"," ",1180],"{",["T_WHITESPACE","\n            ",1180],["T_IF","if",1181],["T_WHITESPACE"," ",1181],"(",["T_VARIABLE","$xml",1181],["T_WHITESPACE"," ",1181],"=",["T_WHITESPACE"," ",1181],["T_VARIABLE","$this",1181],["T_OBJECT_OPERATOR","->",1181],["T_STRING","_parseXml",1181],"(",["T_VARIABLE","$response",1181],")",")",["T_WHITESPACE"," ",1181],"{",["T_WHITESPACE","\n\n                 ",1181],["T_IF","if",1183],["T_WHITESPACE"," ",1183],"(",["T_STRING","is_object",1183],"(",["T_VARIABLE","$xml",1183],["T_OBJECT_OPERATOR","->",1183],["T_STRING","Error",1183],")",["T_WHITESPACE"," ",1183],["T_BOOLEAN_AND","&&",1183],["T_WHITESPACE"," ",1183],["T_STRING","is_object",1183],"(",["T_VARIABLE","$xml",1183],["T_OBJECT_OPERATOR","->",1183],["T_STRING","Error",1183],["T_OBJECT_OPERATOR","->",1183],["T_STRING","Message",1183],")",")",["T_WHITESPACE"," ",1183],"{",["T_WHITESPACE","\n                    ",1183],["T_VARIABLE","$errorTitle",1184],["T_WHITESPACE"," ",1184],"=",["T_WHITESPACE"," ",1184],["T_STRING_CAST","(string)",1184],["T_VARIABLE","$xml",1184],["T_OBJECT_OPERATOR","->",1184],["T_STRING","Error",1184],["T_OBJECT_OPERATOR","->",1184],["T_STRING","Message",1184],";",["T_WHITESPACE","\n                 ",1184],"}",["T_WHITESPACE"," ",1185],["T_ELSEIF","elseif",1185],["T_WHITESPACE"," ",1185],"(",["T_STRING","is_object",1185],"(",["T_VARIABLE","$xml",1185],["T_OBJECT_OPERATOR","->",1185],["T_STRING","SoftError",1185],")",["T_WHITESPACE"," ",1185],["T_BOOLEAN_AND","&&",1185],["T_WHITESPACE"," ",1185],["T_STRING","is_object",1185],"(",["T_VARIABLE","$xml",1185],["T_OBJECT_OPERATOR","->",1185],["T_STRING","SoftError",1185],["T_OBJECT_OPERATOR","->",1185],["T_STRING","Message",1185],")",")",["T_WHITESPACE"," ",1185],"{",["T_WHITESPACE","\n                    ",1185],["T_VARIABLE","$errorTitle",1186],["T_WHITESPACE"," ",1186],"=",["T_WHITESPACE"," ",1186],["T_STRING_CAST","(string)",1186],["T_VARIABLE","$xml",1186],["T_OBJECT_OPERATOR","->",1186],["T_STRING","SoftError",1186],["T_OBJECT_OPERATOR","->",1186],["T_STRING","Message",1186],";",["T_WHITESPACE","\n                 ",1186],"}",["T_WHITESPACE","\n\n                 ",1187],["T_IF","if",1189],["T_WHITESPACE"," ",1189],"(","!",["T_ISSET","isset",1189],"(",["T_VARIABLE","$errorTitle",1189],")",")",["T_WHITESPACE"," ",1189],"{",["T_WHITESPACE","\n                      ",1189],["T_VARIABLE","$resultArr",1190],"[",["T_CONSTANT_ENCAPSED_STRING","'status'",1190],"]",["T_WHITESPACE"," ",1190],"=",["T_WHITESPACE"," ",1190],["T_STRING_CAST","(string)",1190],["T_VARIABLE","$xml",1190],["T_OBJECT_OPERATOR","->",1190],["T_STRING","Package",1190],["T_OBJECT_OPERATOR","->",1190],["T_STRING","StatusDescription",1190],";",["T_WHITESPACE","\n                      ",1190],["T_VARIABLE","$resultArr",1191],"[",["T_CONSTANT_ENCAPSED_STRING","'service'",1191],"]",["T_WHITESPACE"," ",1191],"=",["T_WHITESPACE"," ",1191],["T_STRING_CAST","(string)",1191],["T_VARIABLE","$xml",1191],["T_OBJECT_OPERATOR","->",1191],["T_STRING","Package",1191],["T_OBJECT_OPERATOR","->",1191],["T_STRING","Service",1191],";",["T_WHITESPACE","\n                      ",1191],["T_VARIABLE","$resultArr",1192],"[",["T_CONSTANT_ENCAPSED_STRING","'deliverydate'",1192],"]",["T_WHITESPACE"," ",1192],"=",["T_WHITESPACE"," ",1192],["T_STRING_CAST","(string)",1192],["T_VARIABLE","$xml",1192],["T_OBJECT_OPERATOR","->",1192],["T_STRING","Package",1192],["T_OBJECT_OPERATOR","->",1192],["T_STRING","DeliveredDate",1192],";",["T_WHITESPACE","\n                      ",1192],["T_VARIABLE","$resultArr",1193],"[",["T_CONSTANT_ENCAPSED_STRING","'deliverytime'",1193],"]",["T_WHITESPACE"," ",1193],"=",["T_WHITESPACE"," ",1193],["T_STRING_CAST","(string)",1193],["T_VARIABLE","$xml",1193],["T_OBJECT_OPERATOR","->",1193],["T_STRING","Package",1193],["T_OBJECT_OPERATOR","->",1193],["T_STRING","DeliveredTime",1193],";",["T_WHITESPACE","\n                      ",1193],["T_VARIABLE","$resultArr",1194],"[",["T_CONSTANT_ENCAPSED_STRING","'deliverylocation'",1194],"]",["T_WHITESPACE"," ",1194],"=",["T_WHITESPACE"," ",1194],["T_STRING_CAST","(string)",1194],["T_VARIABLE","$xml",1194],["T_OBJECT_OPERATOR","->",1194],["T_STRING","TrackProfile",1194],["T_OBJECT_OPERATOR","->",1194],["T_STRING","DeliveredLocationDescription",1194],";",["T_WHITESPACE","\n                      ",1194],["T_VARIABLE","$resultArr",1195],"[",["T_CONSTANT_ENCAPSED_STRING","'signedby'",1195],"]",["T_WHITESPACE"," ",1195],"=",["T_WHITESPACE"," ",1195],["T_STRING_CAST","(string)",1195],["T_VARIABLE","$xml",1195],["T_OBJECT_OPERATOR","->",1195],["T_STRING","Package",1195],["T_OBJECT_OPERATOR","->",1195],["T_STRING","SignedForBy",1195],";",["T_WHITESPACE","\n                      ",1195],["T_VARIABLE","$resultArr",1196],"[",["T_CONSTANT_ENCAPSED_STRING","'shippeddate'",1196],"]",["T_WHITESPACE"," ",1196],"=",["T_WHITESPACE"," ",1196],["T_STRING_CAST","(string)",1196],["T_VARIABLE","$xml",1196],["T_OBJECT_OPERATOR","->",1196],["T_STRING","Package",1196],["T_OBJECT_OPERATOR","->",1196],["T_STRING","ShipDate",1196],";",["T_WHITESPACE","\n                      ",1196],["T_VARIABLE","$weight",1197],["T_WHITESPACE"," ",1197],"=",["T_WHITESPACE"," ",1197],["T_STRING_CAST","(string)",1197],["T_VARIABLE","$xml",1197],["T_OBJECT_OPERATOR","->",1197],["T_STRING","Package",1197],["T_OBJECT_OPERATOR","->",1197],["T_STRING","Weight",1197],";",["T_WHITESPACE","\n                      ",1197],["T_VARIABLE","$unit",1198],["T_WHITESPACE"," ",1198],"=",["T_WHITESPACE"," ",1198],["T_STRING_CAST","(string)",1198],["T_VARIABLE","$xml",1198],["T_OBJECT_OPERATOR","->",1198],["T_STRING","Package",1198],["T_OBJECT_OPERATOR","->",1198],["T_STRING","WeightUnits",1198],";",["T_WHITESPACE","\n                      ",1198],["T_VARIABLE","$resultArr",1199],"[",["T_CONSTANT_ENCAPSED_STRING","'weight'",1199],"]",["T_WHITESPACE"," ",1199],"=",["T_WHITESPACE"," ",1199],"\"",["T_CURLY_OPEN","{",1199],["T_VARIABLE","$weight",1199],"}",["T_ENCAPSED_AND_WHITESPACE"," ",1199],["T_CURLY_OPEN","{",1199],["T_VARIABLE","$unit",1199],"}","\"",";",["T_WHITESPACE","\n\n                      ",1199],["T_VARIABLE","$packageProgress",1201],["T_WHITESPACE"," ",1201],"=",["T_WHITESPACE"," ",1201],["T_ARRAY","array",1201],"(",")",";",["T_WHITESPACE","\n                      ",1201],["T_IF","if",1202],["T_WHITESPACE"," ",1202],"(",["T_ISSET","isset",1202],"(",["T_VARIABLE","$xml",1202],["T_OBJECT_OPERATOR","->",1202],["T_STRING","Package",1202],["T_OBJECT_OPERATOR","->",1202],["T_STRING","Event",1202],")",")",["T_WHITESPACE"," ",1202],"{",["T_WHITESPACE","\n                          ",1202],["T_FOREACH","foreach",1203],["T_WHITESPACE"," ",1203],"(",["T_VARIABLE","$xml",1203],["T_OBJECT_OPERATOR","->",1203],["T_STRING","Package",1203],["T_OBJECT_OPERATOR","->",1203],["T_STRING","Event",1203],["T_WHITESPACE"," ",1203],["T_AS","as",1203],["T_WHITESPACE"," ",1203],["T_VARIABLE","$event",1203],")",["T_WHITESPACE"," ",1203],"{",["T_WHITESPACE","\n                              ",1203],["T_VARIABLE","$tempArr",1204],"=",["T_ARRAY","array",1204],"(",")",";",["T_WHITESPACE","\n                              ",1204],["T_VARIABLE","$tempArr",1205],"[",["T_CONSTANT_ENCAPSED_STRING","'activity'",1205],"]",["T_WHITESPACE"," ",1205],"=",["T_WHITESPACE"," ",1205],["T_STRING_CAST","(string)",1205],["T_VARIABLE","$event",1205],["T_OBJECT_OPERATOR","->",1205],["T_STRING","Description",1205],";",["T_WHITESPACE","\n                              ",1205],["T_VARIABLE","$tempArr",1206],"[",["T_CONSTANT_ENCAPSED_STRING","'deliverydate'",1206],"]",["T_WHITESPACE"," ",1206],"=",["T_WHITESPACE"," ",1206],["T_STRING_CAST","(string)",1206],["T_VARIABLE","$event",1206],["T_OBJECT_OPERATOR","->",1206],["T_STRING","Date",1206],";",["T_COMMENT","\/\/YYYY-MM-DD\n",1206],["T_WHITESPACE","                              ",1207],["T_VARIABLE","$tempArr",1207],"[",["T_CONSTANT_ENCAPSED_STRING","'deliverytime'",1207],"]",["T_WHITESPACE"," ",1207],"=",["T_WHITESPACE"," ",1207],["T_STRING_CAST","(string)",1207],["T_VARIABLE","$event",1207],["T_OBJECT_OPERATOR","->",1207],["T_STRING","Time",1207],";",["T_COMMENT","\/\/HH:MM:ss\n",1207],["T_WHITESPACE","                              ",1208],["T_VARIABLE","$addArr",1208],"=",["T_ARRAY","array",1208],"(",")",";",["T_WHITESPACE","\n                              ",1208],["T_IF","if",1209],["T_WHITESPACE"," ",1209],"(",["T_ISSET","isset",1209],"(",["T_VARIABLE","$event",1209],["T_OBJECT_OPERATOR","->",1209],["T_STRING","Address",1209],["T_OBJECT_OPERATOR","->",1209],["T_STRING","City",1209],")",")",["T_WHITESPACE"," ",1209],"{",["T_WHITESPACE","\n                                ",1209],["T_VARIABLE","$addArr",1210],"[","]",["T_WHITESPACE"," ",1210],"=",["T_WHITESPACE"," ",1210],["T_STRING_CAST","(string)",1210],["T_VARIABLE","$event",1210],["T_OBJECT_OPERATOR","->",1210],["T_STRING","Address",1210],["T_OBJECT_OPERATOR","->",1210],["T_STRING","City",1210],";",["T_WHITESPACE","\n                              ",1210],"}",["T_WHITESPACE","\n                              ",1211],["T_IF","if",1212],["T_WHITESPACE"," ",1212],"(",["T_ISSET","isset",1212],"(",["T_VARIABLE","$event",1212],["T_OBJECT_OPERATOR","->",1212],["T_STRING","Address",1212],["T_OBJECT_OPERATOR","->",1212],["T_STRING","StateProvinceCode",1212],")",")",["T_WHITESPACE"," ",1212],"{",["T_WHITESPACE","\n                                ",1212],["T_VARIABLE","$addArr",1213],"[","]",["T_WHITESPACE"," ",1213],"=",["T_WHITESPACE"," ",1213],["T_STRING_CAST","(string)",1213],["T_VARIABLE","$event",1213],["T_OBJECT_OPERATOR","->",1213],["T_STRING","Address",1213],["T_OBJECT_OPERATOR","->",1213],["T_STRING","StateProvinceCode",1213],";",["T_WHITESPACE","\n                              ",1213],"}",["T_WHITESPACE","\n                              ",1214],["T_IF","if",1215],["T_WHITESPACE"," ",1215],"(",["T_ISSET","isset",1215],"(",["T_VARIABLE","$event",1215],["T_OBJECT_OPERATOR","->",1215],["T_STRING","Address",1215],["T_OBJECT_OPERATOR","->",1215],["T_STRING","CountryCode",1215],")",")",["T_WHITESPACE"," ",1215],"{",["T_WHITESPACE","\n                                ",1215],["T_VARIABLE","$addArr",1216],"[","]",["T_WHITESPACE"," ",1216],"=",["T_WHITESPACE"," ",1216],["T_STRING_CAST","(string)",1216],["T_VARIABLE","$event",1216],["T_OBJECT_OPERATOR","->",1216],["T_STRING","Address",1216],["T_OBJECT_OPERATOR","->",1216],["T_STRING","CountryCode",1216],";",["T_WHITESPACE","\n                              ",1216],"}",["T_WHITESPACE","\n                              ",1217],["T_IF","if",1218],["T_WHITESPACE"," ",1218],"(",["T_VARIABLE","$addArr",1218],")",["T_WHITESPACE"," ",1218],"{",["T_WHITESPACE","\n                                ",1218],["T_VARIABLE","$tempArr",1219],"[",["T_CONSTANT_ENCAPSED_STRING","'deliverylocation'",1219],"]","=",["T_STRING","implode",1219],"(",["T_CONSTANT_ENCAPSED_STRING","', '",1219],",",["T_VARIABLE","$addArr",1219],")",";",["T_WHITESPACE","\n                              ",1219],"}",["T_WHITESPACE","\n                              ",1220],["T_VARIABLE","$packageProgress",1221],"[","]",["T_WHITESPACE"," ",1221],"=",["T_WHITESPACE"," ",1221],["T_VARIABLE","$tempArr",1221],";",["T_WHITESPACE","\n                          ",1221],"}",["T_WHITESPACE","\n                      ",1222],"}",["T_WHITESPACE","\n\n                      ",1223],["T_VARIABLE","$resultArr",1225],"[",["T_CONSTANT_ENCAPSED_STRING","'progressdetail'",1225],"]",["T_WHITESPACE"," ",1225],"=",["T_WHITESPACE"," ",1225],["T_VARIABLE","$packageProgress",1225],";",["T_WHITESPACE","\n                ",1225],"}",["T_WHITESPACE","\n              ",1226],"}",["T_WHITESPACE"," ",1227],["T_ELSE","else",1227],["T_WHITESPACE"," ",1227],"{",["T_WHITESPACE","\n                ",1227],["T_VARIABLE","$errorTitle",1228],["T_WHITESPACE"," ",1228],"=",["T_WHITESPACE"," ",1228],["T_CONSTANT_ENCAPSED_STRING","'Response is in the wrong format'",1228],";",["T_WHITESPACE","\n              ",1228],"}",["T_WHITESPACE","\n         ",1229],"}",["T_WHITESPACE"," ",1230],["T_ELSE","else",1230],["T_WHITESPACE"," ",1230],"{",["T_WHITESPACE","\n             ",1230],["T_VARIABLE","$errorTitle",1231],["T_WHITESPACE"," ",1231],"=",["T_WHITESPACE"," ",1231],["T_STRING","false",1231],";",["T_WHITESPACE","\n         ",1231],"}",["T_WHITESPACE","\n\n         ",1232],["T_IF","if",1234],["T_WHITESPACE"," ",1234],"(","!",["T_VARIABLE","$this",1234],["T_OBJECT_OPERATOR","->",1234],["T_STRING","_result",1234],")",["T_WHITESPACE"," ",1234],"{",["T_WHITESPACE","\n             ",1234],["T_VARIABLE","$this",1235],["T_OBJECT_OPERATOR","->",1235],["T_STRING","_result",1235],["T_WHITESPACE"," ",1235],"=",["T_WHITESPACE"," ",1235],["T_STRING","Mage",1235],["T_DOUBLE_COLON","::",1235],["T_STRING","getModel",1235],"(",["T_CONSTANT_ENCAPSED_STRING","'shipping\/tracking_result'",1235],")",";",["T_WHITESPACE","\n         ",1235],"}",["T_WHITESPACE","\n\n         ",1236],["T_IF","if",1238],["T_WHITESPACE"," ",1238],"(",["T_VARIABLE","$resultArr",1238],")",["T_WHITESPACE"," ",1238],"{",["T_WHITESPACE","\n             ",1238],["T_VARIABLE","$tracking",1239],["T_WHITESPACE"," ",1239],"=",["T_WHITESPACE"," ",1239],["T_STRING","Mage",1239],["T_DOUBLE_COLON","::",1239],["T_STRING","getModel",1239],"(",["T_CONSTANT_ENCAPSED_STRING","'shipping\/tracking_result_status'",1239],")",";",["T_WHITESPACE","\n             ",1239],["T_VARIABLE","$tracking",1240],["T_OBJECT_OPERATOR","->",1240],["T_STRING","setCarrier",1240],"(",["T_CONSTANT_ENCAPSED_STRING","'fedex'",1240],")",";",["T_WHITESPACE","\n             ",1240],["T_VARIABLE","$tracking",1241],["T_OBJECT_OPERATOR","->",1241],["T_STRING","setCarrierTitle",1241],"(",["T_VARIABLE","$this",1241],["T_OBJECT_OPERATOR","->",1241],["T_STRING","getConfigData",1241],"(",["T_CONSTANT_ENCAPSED_STRING","'title'",1241],")",")",";",["T_WHITESPACE","\n             ",1241],["T_VARIABLE","$tracking",1242],["T_OBJECT_OPERATOR","->",1242],["T_STRING","setTracking",1242],"(",["T_VARIABLE","$trackingvalue",1242],")",";",["T_WHITESPACE","\n             ",1242],["T_VARIABLE","$tracking",1243],["T_OBJECT_OPERATOR","->",1243],["T_STRING","addData",1243],"(",["T_VARIABLE","$resultArr",1243],")",";",["T_WHITESPACE","\n             ",1243],["T_VARIABLE","$this",1244],["T_OBJECT_OPERATOR","->",1244],["T_STRING","_result",1244],["T_OBJECT_OPERATOR","->",1244],["T_STRING","append",1244],"(",["T_VARIABLE","$tracking",1244],")",";",["T_WHITESPACE","\n         ",1244],"}",["T_WHITESPACE"," ",1245],["T_ELSE","else",1245],["T_WHITESPACE"," ",1245],"{",["T_WHITESPACE","\n            ",1245],["T_VARIABLE","$error",1246],["T_WHITESPACE"," ",1246],"=",["T_WHITESPACE"," ",1246],["T_STRING","Mage",1246],["T_DOUBLE_COLON","::",1246],["T_STRING","getModel",1246],"(",["T_CONSTANT_ENCAPSED_STRING","'shipping\/tracking_result_error'",1246],")",";",["T_WHITESPACE","\n            ",1246],["T_VARIABLE","$error",1247],["T_OBJECT_OPERATOR","->",1247],["T_STRING","setCarrier",1247],"(",["T_CONSTANT_ENCAPSED_STRING","'fedex'",1247],")",";",["T_WHITESPACE","\n            ",1247],["T_VARIABLE","$error",1248],["T_OBJECT_OPERATOR","->",1248],["T_STRING","setCarrierTitle",1248],"(",["T_VARIABLE","$this",1248],["T_OBJECT_OPERATOR","->",1248],["T_STRING","getConfigData",1248],"(",["T_CONSTANT_ENCAPSED_STRING","'title'",1248],")",")",";",["T_WHITESPACE","\n            ",1248],["T_VARIABLE","$error",1249],["T_OBJECT_OPERATOR","->",1249],["T_STRING","setTracking",1249],"(",["T_VARIABLE","$trackingvalue",1249],")",";",["T_WHITESPACE","\n            ",1249],["T_VARIABLE","$error",1250],["T_OBJECT_OPERATOR","->",1250],["T_STRING","setErrorMessage",1250],"(",["T_VARIABLE","$errorTitle",1250],["T_WHITESPACE"," ",1250],"?",["T_WHITESPACE"," ",1250],["T_VARIABLE","$errorTitle",1250],["T_WHITESPACE"," ",1250],":",["T_WHITESPACE"," ",1250],["T_STRING","Mage",1250],["T_DOUBLE_COLON","::",1250],["T_STRING","helper",1250],"(",["T_CONSTANT_ENCAPSED_STRING","'usa'",1250],")",["T_OBJECT_OPERATOR","->",1250],["T_STRING","__",1250],"(",["T_CONSTANT_ENCAPSED_STRING","'Unable to retrieve tracking'",1250],")",")",";",["T_WHITESPACE","\n            ",1250],["T_VARIABLE","$this",1251],["T_OBJECT_OPERATOR","->",1251],["T_STRING","_result",1251],["T_OBJECT_OPERATOR","->",1251],["T_STRING","append",1251],"(",["T_VARIABLE","$error",1251],")",";",["T_WHITESPACE","\n         ",1251],"}",["T_WHITESPACE","\n    ",1252],"}",["T_WHITESPACE","\n\n    ",1253],["T_DOC_COMMENT","\/**\n     * Get tracking response\n     *\n     * @return string\n     *\/",1255],["T_WHITESPACE","\n    ",1259],["T_PUBLIC","public",1260],["T_WHITESPACE"," ",1260],["T_FUNCTION","function",1260],["T_WHITESPACE"," ",1260],["T_STRING","getResponse",1260],"(",")",["T_WHITESPACE","\n    ",1260],"{",["T_WHITESPACE","\n        ",1261],["T_VARIABLE","$statuses",1262],["T_WHITESPACE"," ",1262],"=",["T_WHITESPACE"," ",1262],["T_CONSTANT_ENCAPSED_STRING","''",1262],";",["T_WHITESPACE","\n        ",1262],["T_IF","if",1263],["T_WHITESPACE"," ",1263],"(",["T_VARIABLE","$this",1263],["T_OBJECT_OPERATOR","->",1263],["T_STRING","_result",1263],["T_WHITESPACE"," ",1263],["T_INSTANCEOF","instanceof",1263],["T_WHITESPACE"," ",1263],["T_STRING","Mage_Shipping_Model_Tracking_Result",1263],")",["T_WHITESPACE"," ",1263],"{",["T_WHITESPACE","\n            ",1263],["T_IF","if",1264],["T_WHITESPACE"," ",1264],"(",["T_VARIABLE","$trackings",1264],["T_WHITESPACE"," ",1264],"=",["T_WHITESPACE"," ",1264],["T_VARIABLE","$this",1264],["T_OBJECT_OPERATOR","->",1264],["T_STRING","_result",1264],["T_OBJECT_OPERATOR","->",1264],["T_STRING","getAllTrackings",1264],"(",")",")",["T_WHITESPACE"," ",1264],"{",["T_WHITESPACE","\n                ",1264],["T_FOREACH","foreach",1265],["T_WHITESPACE"," ",1265],"(",["T_VARIABLE","$trackings",1265],["T_WHITESPACE"," ",1265],["T_AS","as",1265],["T_WHITESPACE"," ",1265],["T_VARIABLE","$tracking",1265],")","{",["T_WHITESPACE","\n                    ",1265],["T_IF","if",1266],"(",["T_VARIABLE","$data",1266],["T_WHITESPACE"," ",1266],"=",["T_WHITESPACE"," ",1266],["T_VARIABLE","$tracking",1266],["T_OBJECT_OPERATOR","->",1266],["T_STRING","getAllData",1266],"(",")",")","{",["T_WHITESPACE","\n                        ",1266],["T_IF","if",1267],["T_WHITESPACE"," ",1267],"(","!",["T_EMPTY","empty",1267],"(",["T_VARIABLE","$data",1267],"[",["T_CONSTANT_ENCAPSED_STRING","'status'",1267],"]",")",")",["T_WHITESPACE"," ",1267],"{",["T_WHITESPACE","\n                            ",1267],["T_VARIABLE","$statuses",1268],["T_WHITESPACE"," ",1268],["T_CONCAT_EQUAL",".=",1268],["T_WHITESPACE"," ",1268],["T_STRING","Mage",1268],["T_DOUBLE_COLON","::",1268],["T_STRING","helper",1268],"(",["T_CONSTANT_ENCAPSED_STRING","'usa'",1268],")",["T_OBJECT_OPERATOR","->",1268],["T_STRING","__",1268],"(",["T_VARIABLE","$data",1268],"[",["T_CONSTANT_ENCAPSED_STRING","'status'",1268],"]",")",["T_WHITESPACE"," ",1268],".",["T_WHITESPACE"," ",1268],["T_CONSTANT_ENCAPSED_STRING","\"\\n<br\/>\"",1268],";",["T_WHITESPACE","\n                        ",1268],"}",["T_WHITESPACE"," ",1269],["T_ELSE","else",1269],["T_WHITESPACE"," ",1269],"{",["T_WHITESPACE","\n                            ",1269],["T_VARIABLE","$statuses",1270],["T_WHITESPACE"," ",1270],["T_CONCAT_EQUAL",".=",1270],["T_WHITESPACE"," ",1270],["T_STRING","Mage",1270],["T_DOUBLE_COLON","::",1270],["T_STRING","helper",1270],"(",["T_CONSTANT_ENCAPSED_STRING","'usa'",1270],")",["T_OBJECT_OPERATOR","->",1270],["T_STRING","__",1270],"(",["T_CONSTANT_ENCAPSED_STRING","'Empty response'",1270],")",["T_WHITESPACE"," ",1270],".",["T_WHITESPACE"," ",1270],["T_CONSTANT_ENCAPSED_STRING","\"\\n<br\/>\"",1270],";",["T_WHITESPACE","\n                        ",1270],"}",["T_WHITESPACE","\n                    ",1271],"}",["T_WHITESPACE","\n                ",1272],"}",["T_WHITESPACE","\n            ",1273],"}",["T_WHITESPACE","\n        ",1274],"}",["T_WHITESPACE","\n        ",1275],["T_IF","if",1276],["T_WHITESPACE"," ",1276],"(",["T_EMPTY","empty",1276],"(",["T_VARIABLE","$statuses",1276],")",")",["T_WHITESPACE"," ",1276],"{",["T_WHITESPACE","\n            ",1276],["T_VARIABLE","$statuses",1277],["T_WHITESPACE"," ",1277],"=",["T_WHITESPACE"," ",1277],["T_STRING","Mage",1277],["T_DOUBLE_COLON","::",1277],["T_STRING","helper",1277],"(",["T_CONSTANT_ENCAPSED_STRING","'usa'",1277],")",["T_OBJECT_OPERATOR","->",1277],["T_STRING","__",1277],"(",["T_CONSTANT_ENCAPSED_STRING","'Empty response'",1277],")",";",["T_WHITESPACE","\n        ",1277],"}",["T_WHITESPACE","\n        ",1278],["T_RETURN","return",1279],["T_WHITESPACE"," ",1279],["T_VARIABLE","$statuses",1279],";",["T_WHITESPACE","\n    ",1279],"}",["T_WHITESPACE","\n\n    ",1280],["T_DOC_COMMENT","\/**\n     * Get allowed shipping methods\n     *\n     * @return array\n     *\/",1282],["T_WHITESPACE","\n    ",1286],["T_PUBLIC","public",1287],["T_WHITESPACE"," ",1287],["T_FUNCTION","function",1287],["T_WHITESPACE"," ",1287],["T_STRING","getAllowedMethods",1287],"(",")",["T_WHITESPACE","\n    ",1287],"{",["T_WHITESPACE","\n        ",1288],["T_VARIABLE","$allowed",1289],["T_WHITESPACE"," ",1289],"=",["T_WHITESPACE"," ",1289],["T_STRING","explode",1289],"(",["T_CONSTANT_ENCAPSED_STRING","','",1289],",",["T_WHITESPACE"," ",1289],["T_VARIABLE","$this",1289],["T_OBJECT_OPERATOR","->",1289],["T_STRING","getConfigData",1289],"(",["T_CONSTANT_ENCAPSED_STRING","'allowed_methods'",1289],")",")",";",["T_WHITESPACE","\n        ",1289],["T_VARIABLE","$arr",1290],["T_WHITESPACE"," ",1290],"=",["T_WHITESPACE"," ",1290],["T_ARRAY","array",1290],"(",")",";",["T_WHITESPACE","\n        ",1290],["T_FOREACH","foreach",1291],["T_WHITESPACE"," ",1291],"(",["T_VARIABLE","$allowed",1291],["T_WHITESPACE"," ",1291],["T_AS","as",1291],["T_WHITESPACE"," ",1291],["T_VARIABLE","$k",1291],")",["T_WHITESPACE"," ",1291],"{",["T_WHITESPACE","\n            ",1291],["T_VARIABLE","$arr",1292],"[",["T_VARIABLE","$k",1292],"]",["T_WHITESPACE"," ",1292],"=",["T_WHITESPACE"," ",1292],["T_VARIABLE","$this",1292],["T_OBJECT_OPERATOR","->",1292],["T_STRING","getCode",1292],"(",["T_CONSTANT_ENCAPSED_STRING","'method'",1292],",",["T_WHITESPACE"," ",1292],["T_VARIABLE","$k",1292],")",";",["T_WHITESPACE","\n        ",1292],"}",["T_WHITESPACE","\n        ",1293],["T_RETURN","return",1294],["T_WHITESPACE"," ",1294],["T_VARIABLE","$arr",1294],";",["T_WHITESPACE","\n    ",1294],"}",["T_WHITESPACE","\n\n    ",1295],["T_DOC_COMMENT","\/**\n     * Return array of authenticated information\n     *\n     * @return array\n     *\/",1297],["T_WHITESPACE","\n    ",1301],["T_PROTECTED","protected",1302],["T_WHITESPACE"," ",1302],["T_FUNCTION","function",1302],["T_WHITESPACE"," ",1302],["T_STRING","_getAuthDetails",1302],"(",")",["T_WHITESPACE","\n    ",1302],"{",["T_WHITESPACE","\n        ",1303],["T_RETURN","return",1304],["T_WHITESPACE"," ",1304],["T_ARRAY","array",1304],"(",["T_WHITESPACE","\n            ",1304],["T_CONSTANT_ENCAPSED_STRING","'WebAuthenticationDetail'",1305],["T_WHITESPACE"," ",1305],["T_DOUBLE_ARROW","=>",1305],["T_WHITESPACE"," ",1305],["T_ARRAY","array",1305],"(",["T_WHITESPACE","\n                ",1305],["T_CONSTANT_ENCAPSED_STRING","'UserCredential'",1306],["T_WHITESPACE"," ",1306],["T_DOUBLE_ARROW","=>",1306],["T_WHITESPACE"," ",1306],["T_ARRAY","array",1306],"(",["T_WHITESPACE","\n                    ",1306],["T_CONSTANT_ENCAPSED_STRING","'Key'",1307],["T_WHITESPACE","      ",1307],["T_DOUBLE_ARROW","=>",1307],["T_WHITESPACE"," ",1307],["T_VARIABLE","$this",1307],["T_OBJECT_OPERATOR","->",1307],["T_STRING","getConfigData",1307],"(",["T_CONSTANT_ENCAPSED_STRING","'key'",1307],")",",",["T_WHITESPACE","\n                    ",1307],["T_CONSTANT_ENCAPSED_STRING","'Password'",1308],["T_WHITESPACE"," ",1308],["T_DOUBLE_ARROW","=>",1308],["T_WHITESPACE"," ",1308],["T_VARIABLE","$this",1308],["T_OBJECT_OPERATOR","->",1308],["T_STRING","getConfigData",1308],"(",["T_CONSTANT_ENCAPSED_STRING","'password'",1308],")",["T_WHITESPACE","\n                ",1308],")",["T_WHITESPACE","\n            ",1309],")",",",["T_WHITESPACE","\n            ",1310],["T_CONSTANT_ENCAPSED_STRING","'ClientDetail'",1311],["T_WHITESPACE"," ",1311],["T_DOUBLE_ARROW","=>",1311],["T_WHITESPACE"," ",1311],["T_ARRAY","array",1311],"(",["T_WHITESPACE","\n                ",1311],["T_CONSTANT_ENCAPSED_STRING","'AccountNumber'",1312],["T_WHITESPACE"," ",1312],["T_DOUBLE_ARROW","=>",1312],["T_WHITESPACE"," ",1312],["T_VARIABLE","$this",1312],["T_OBJECT_OPERATOR","->",1312],["T_STRING","getConfigData",1312],"(",["T_CONSTANT_ENCAPSED_STRING","'account'",1312],")",",",["T_WHITESPACE","\n                ",1312],["T_CONSTANT_ENCAPSED_STRING","'MeterNumber'",1313],["T_WHITESPACE","   ",1313],["T_DOUBLE_ARROW","=>",1313],["T_WHITESPACE"," ",1313],["T_VARIABLE","$this",1313],["T_OBJECT_OPERATOR","->",1313],["T_STRING","getConfigData",1313],"(",["T_CONSTANT_ENCAPSED_STRING","'meter_number'",1313],")",["T_WHITESPACE","\n            ",1313],")",",",["T_WHITESPACE","\n            ",1314],["T_CONSTANT_ENCAPSED_STRING","'TransactionDetail'",1315],["T_WHITESPACE"," ",1315],["T_DOUBLE_ARROW","=>",1315],["T_WHITESPACE"," ",1315],["T_ARRAY","array",1315],"(",["T_WHITESPACE","\n                ",1315],["T_CONSTANT_ENCAPSED_STRING","'CustomerTransactionId'",1316],["T_WHITESPACE"," ",1316],["T_DOUBLE_ARROW","=>",1316],["T_WHITESPACE"," ",1316],["T_CONSTANT_ENCAPSED_STRING","'*** Express Domestic Shipping Request v9 using PHP ***'",1316],["T_WHITESPACE","\n            ",1316],")",",",["T_WHITESPACE","\n            ",1317],["T_CONSTANT_ENCAPSED_STRING","'Version'",1318],["T_WHITESPACE"," ",1318],["T_DOUBLE_ARROW","=>",1318],["T_WHITESPACE"," ",1318],["T_ARRAY","array",1318],"(",["T_WHITESPACE","\n                ",1318],["T_CONSTANT_ENCAPSED_STRING","'ServiceId'",1319],["T_WHITESPACE","     ",1319],["T_DOUBLE_ARROW","=>",1319],["T_WHITESPACE"," ",1319],["T_CONSTANT_ENCAPSED_STRING","'ship'",1319],",",["T_WHITESPACE","\n                ",1319],["T_CONSTANT_ENCAPSED_STRING","'Major'",1320],["T_WHITESPACE","         ",1320],["T_DOUBLE_ARROW","=>",1320],["T_WHITESPACE"," ",1320],["T_CONSTANT_ENCAPSED_STRING","'10'",1320],",",["T_WHITESPACE","\n                ",1320],["T_CONSTANT_ENCAPSED_STRING","'Intermediate'",1321],["T_WHITESPACE","  ",1321],["T_DOUBLE_ARROW","=>",1321],["T_WHITESPACE"," ",1321],["T_CONSTANT_ENCAPSED_STRING","'0'",1321],",",["T_WHITESPACE","\n                ",1321],["T_CONSTANT_ENCAPSED_STRING","'Minor'",1322],["T_WHITESPACE","         ",1322],["T_DOUBLE_ARROW","=>",1322],["T_WHITESPACE"," ",1322],["T_CONSTANT_ENCAPSED_STRING","'0'",1322],["T_WHITESPACE","\n            ",1322],")",["T_WHITESPACE","\n        ",1323],")",";",["T_WHITESPACE","\n    ",1324],"}",["T_WHITESPACE","\n\n    ",1325],["T_DOC_COMMENT","\/**\n     * Form array with appropriate structure for shipment request\n     *\n     * @param Varien_Object $request\n     * @return array\n     *\/",1327],["T_WHITESPACE","\n    ",1332],["T_PROTECTED","protected",1333],["T_WHITESPACE"," ",1333],["T_FUNCTION","function",1333],["T_WHITESPACE"," ",1333],["T_STRING","_formShipmentRequest",1333],"(",["T_STRING","Varien_Object",1333],["T_WHITESPACE"," ",1333],["T_VARIABLE","$request",1333],")",["T_WHITESPACE","\n    ",1333],"{",["T_WHITESPACE","\n        ",1334],["T_IF","if",1335],["T_WHITESPACE"," ",1335],"(",["T_VARIABLE","$request",1335],["T_OBJECT_OPERATOR","->",1335],["T_STRING","getReferenceData",1335],"(",")",")",["T_WHITESPACE"," ",1335],"{",["T_WHITESPACE","\n            ",1335],["T_VARIABLE","$referenceData",1336],["T_WHITESPACE"," ",1336],"=",["T_WHITESPACE"," ",1336],["T_VARIABLE","$request",1336],["T_OBJECT_OPERATOR","->",1336],["T_STRING","getReferenceData",1336],"(",")",["T_WHITESPACE"," ",1336],".",["T_WHITESPACE"," ",1336],["T_VARIABLE","$request",1336],["T_OBJECT_OPERATOR","->",1336],["T_STRING","getPackageId",1336],"(",")",";",["T_WHITESPACE","\n        ",1336],"}",["T_WHITESPACE"," ",1337],["T_ELSE","else",1337],["T_WHITESPACE"," ",1337],"{",["T_WHITESPACE","\n            ",1337],["T_VARIABLE","$referenceData",1338],["T_WHITESPACE"," ",1338],"=",["T_WHITESPACE"," ",1338],["T_CONSTANT_ENCAPSED_STRING","'Order #'",1338],["T_WHITESPACE","\n                             ",1338],".",["T_WHITESPACE"," ",1339],["T_VARIABLE","$request",1339],["T_OBJECT_OPERATOR","->",1339],["T_STRING","getOrderShipment",1339],"(",")",["T_OBJECT_OPERATOR","->",1339],["T_STRING","getOrder",1339],"(",")",["T_OBJECT_OPERATOR","->",1339],["T_STRING","getIncrementId",1339],"(",")",["T_WHITESPACE","\n                             ",1339],".",["T_WHITESPACE"," ",1340],["T_CONSTANT_ENCAPSED_STRING","' P'",1340],["T_WHITESPACE","\n                             ",1340],".",["T_WHITESPACE"," ",1341],["T_VARIABLE","$request",1341],["T_OBJECT_OPERATOR","->",1341],["T_STRING","getPackageId",1341],"(",")",";",["T_WHITESPACE","\n        ",1341],"}",["T_WHITESPACE","\n        ",1342],["T_VARIABLE","$packageParams",1343],["T_WHITESPACE"," ",1343],"=",["T_WHITESPACE"," ",1343],["T_VARIABLE","$request",1343],["T_OBJECT_OPERATOR","->",1343],["T_STRING","getPackageParams",1343],"(",")",";",["T_WHITESPACE","\n        ",1343],["T_VARIABLE","$customsValue",1344],["T_WHITESPACE"," ",1344],"=",["T_WHITESPACE"," ",1344],["T_VARIABLE","$packageParams",1344],["T_OBJECT_OPERATOR","->",1344],["T_STRING","getCustomsValue",1344],"(",")",";",["T_WHITESPACE","\n        ",1344],["T_VARIABLE","$height",1345],["T_WHITESPACE"," ",1345],"=",["T_WHITESPACE"," ",1345],["T_VARIABLE","$packageParams",1345],["T_OBJECT_OPERATOR","->",1345],["T_STRING","getHeight",1345],"(",")",";",["T_WHITESPACE","\n        ",1345],["T_VARIABLE","$width",1346],["T_WHITESPACE"," ",1346],"=",["T_WHITESPACE"," ",1346],["T_VARIABLE","$packageParams",1346],["T_OBJECT_OPERATOR","->",1346],["T_STRING","getWidth",1346],"(",")",";",["T_WHITESPACE","\n        ",1346],["T_VARIABLE","$length",1347],["T_WHITESPACE"," ",1347],"=",["T_WHITESPACE"," ",1347],["T_VARIABLE","$packageParams",1347],["T_OBJECT_OPERATOR","->",1347],["T_STRING","getLength",1347],"(",")",";",["T_WHITESPACE","\n        ",1347],["T_VARIABLE","$weightUnits",1348],["T_WHITESPACE"," ",1348],"=",["T_WHITESPACE"," ",1348],["T_VARIABLE","$packageParams",1348],["T_OBJECT_OPERATOR","->",1348],["T_STRING","getWeightUnits",1348],"(",")",["T_WHITESPACE"," ",1348],["T_IS_EQUAL","==",1348],["T_WHITESPACE"," ",1348],["T_STRING","Zend_Measure_Weight",1348],["T_DOUBLE_COLON","::",1348],["T_STRING","POUND",1348],["T_WHITESPACE"," ",1348],"?",["T_WHITESPACE"," ",1348],["T_CONSTANT_ENCAPSED_STRING","'LB'",1348],["T_WHITESPACE"," ",1348],":",["T_WHITESPACE"," ",1348],["T_CONSTANT_ENCAPSED_STRING","'KG'",1348],";",["T_WHITESPACE","\n        ",1348],["T_VARIABLE","$dimensionsUnits",1349],["T_WHITESPACE"," ",1349],"=",["T_WHITESPACE"," ",1349],["T_VARIABLE","$packageParams",1349],["T_OBJECT_OPERATOR","->",1349],["T_STRING","getDimensionUnits",1349],"(",")",["T_WHITESPACE"," ",1349],["T_IS_EQUAL","==",1349],["T_WHITESPACE"," ",1349],["T_STRING","Zend_Measure_Length",1349],["T_DOUBLE_COLON","::",1349],["T_STRING","INCH",1349],["T_WHITESPACE"," ",1349],"?",["T_WHITESPACE"," ",1349],["T_CONSTANT_ENCAPSED_STRING","'IN'",1349],["T_WHITESPACE"," ",1349],":",["T_WHITESPACE"," ",1349],["T_CONSTANT_ENCAPSED_STRING","'CM'",1349],";",["T_WHITESPACE","\n        ",1349],["T_VARIABLE","$unitPrice",1350],["T_WHITESPACE"," ",1350],"=",["T_WHITESPACE"," ",1350],["T_LNUMBER","0",1350],";",["T_WHITESPACE","\n        ",1350],["T_VARIABLE","$itemsQty",1351],["T_WHITESPACE"," ",1351],"=",["T_WHITESPACE"," ",1351],["T_LNUMBER","0",1351],";",["T_WHITESPACE","\n        ",1351],["T_VARIABLE","$itemsDesc",1352],["T_WHITESPACE"," ",1352],"=",["T_WHITESPACE"," ",1352],["T_ARRAY","array",1352],"(",")",";",["T_WHITESPACE","\n        ",1352],["T_VARIABLE","$countriesOfManufacture",1353],["T_WHITESPACE"," ",1353],"=",["T_WHITESPACE"," ",1353],["T_ARRAY","array",1353],"(",")",";",["T_WHITESPACE","\n        ",1353],["T_VARIABLE","$productIds",1354],["T_WHITESPACE"," ",1354],"=",["T_WHITESPACE"," ",1354],["T_ARRAY","array",1354],"(",")",";",["T_WHITESPACE","\n        ",1354],["T_VARIABLE","$packageItems",1355],["T_WHITESPACE"," ",1355],"=",["T_WHITESPACE"," ",1355],["T_VARIABLE","$request",1355],["T_OBJECT_OPERATOR","->",1355],["T_STRING","getPackageItems",1355],"(",")",";",["T_WHITESPACE","\n        ",1355],["T_FOREACH","foreach",1356],["T_WHITESPACE"," ",1356],"(",["T_VARIABLE","$packageItems",1356],["T_WHITESPACE"," ",1356],["T_AS","as",1356],["T_WHITESPACE"," ",1356],["T_VARIABLE","$itemShipment",1356],")",["T_WHITESPACE"," ",1356],"{",["T_WHITESPACE","\n                ",1356],["T_VARIABLE","$item",1357],["T_WHITESPACE"," ",1357],"=",["T_WHITESPACE"," ",1357],["T_NEW","new",1357],["T_WHITESPACE"," ",1357],["T_STRING","Varien_Object",1357],"(",")",";",["T_WHITESPACE","\n                ",1357],["T_VARIABLE","$item",1358],["T_OBJECT_OPERATOR","->",1358],["T_STRING","setData",1358],"(",["T_VARIABLE","$itemShipment",1358],")",";",["T_WHITESPACE","\n\n                ",1358],["T_VARIABLE","$unitPrice",1360],["T_WHITESPACE","  ",1360],["T_PLUS_EQUAL","+=",1360],["T_WHITESPACE"," ",1360],["T_VARIABLE","$item",1360],["T_OBJECT_OPERATOR","->",1360],["T_STRING","getPrice",1360],"(",")",";",["T_WHITESPACE","\n                ",1360],["T_VARIABLE","$itemsQty",1361],["T_WHITESPACE","   ",1361],["T_PLUS_EQUAL","+=",1361],["T_WHITESPACE"," ",1361],["T_VARIABLE","$item",1361],["T_OBJECT_OPERATOR","->",1361],["T_STRING","getQty",1361],"(",")",";",["T_WHITESPACE","\n\n                ",1361],["T_VARIABLE","$itemsDesc",1363],"[","]",["T_WHITESPACE","    ",1363],"=",["T_WHITESPACE"," ",1363],["T_VARIABLE","$item",1363],["T_OBJECT_OPERATOR","->",1363],["T_STRING","getName",1363],"(",")",";",["T_WHITESPACE","\n                ",1363],["T_VARIABLE","$productIds",1364],"[","]",["T_WHITESPACE","   ",1364],"=",["T_WHITESPACE"," ",1364],["T_VARIABLE","$item",1364],["T_OBJECT_OPERATOR","->",1364],["T_STRING","getProductId",1364],"(",")",";",["T_WHITESPACE","\n        ",1364],"}",["T_WHITESPACE","\n\n        ",1365],["T_COMMENT","\/\/ get countries of manufacture\n",1367],["T_WHITESPACE","        ",1368],["T_VARIABLE","$productCollection",1368],["T_WHITESPACE"," ",1368],"=",["T_WHITESPACE"," ",1368],["T_STRING","Mage",1368],["T_DOUBLE_COLON","::",1368],["T_STRING","getResourceModel",1368],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog\/product_collection'",1368],")",["T_WHITESPACE","\n            ",1368],["T_OBJECT_OPERATOR","->",1369],["T_STRING","addStoreFilter",1369],"(",["T_VARIABLE","$request",1369],["T_OBJECT_OPERATOR","->",1369],["T_STRING","getStoreId",1369],"(",")",")",["T_WHITESPACE","\n            ",1369],["T_OBJECT_OPERATOR","->",1370],["T_STRING","addFieldToFilter",1370],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_id'",1370],",",["T_WHITESPACE"," ",1370],["T_ARRAY","array",1370],"(",["T_CONSTANT_ENCAPSED_STRING","'in'",1370],["T_WHITESPACE"," ",1370],["T_DOUBLE_ARROW","=>",1370],["T_WHITESPACE"," ",1370],["T_VARIABLE","$productIds",1370],")",")",["T_WHITESPACE","\n            ",1370],["T_OBJECT_OPERATOR","->",1371],["T_STRING","addAttributeToSelect",1371],"(",["T_CONSTANT_ENCAPSED_STRING","'country_of_manufacture'",1371],")",";",["T_WHITESPACE","\n        ",1371],["T_FOREACH","foreach",1372],["T_WHITESPACE"," ",1372],"(",["T_VARIABLE","$productCollection",1372],["T_WHITESPACE"," ",1372],["T_AS","as",1372],["T_WHITESPACE"," ",1372],["T_VARIABLE","$product",1372],")",["T_WHITESPACE"," ",1372],"{",["T_WHITESPACE","\n            ",1372],["T_VARIABLE","$countriesOfManufacture",1373],"[","]",["T_WHITESPACE"," ",1373],"=",["T_WHITESPACE"," ",1373],["T_VARIABLE","$product",1373],["T_OBJECT_OPERATOR","->",1373],["T_STRING","getCountryOfManufacture",1373],"(",")",";",["T_WHITESPACE","\n        ",1373],"}",["T_WHITESPACE","\n\n        ",1374],["T_VARIABLE","$paymentType",1376],["T_WHITESPACE"," ",1376],"=",["T_WHITESPACE"," ",1376],["T_VARIABLE","$request",1376],["T_OBJECT_OPERATOR","->",1376],["T_STRING","getIsReturn",1376],"(",")",["T_WHITESPACE"," ",1376],"?",["T_WHITESPACE"," ",1376],["T_CONSTANT_ENCAPSED_STRING","'RECIPIENT'",1376],["T_WHITESPACE"," ",1376],":",["T_WHITESPACE"," ",1376],["T_CONSTANT_ENCAPSED_STRING","'SENDER'",1376],";",["T_WHITESPACE","\n        ",1376],["T_VARIABLE","$requestClient",1377],["T_WHITESPACE"," ",1377],"=",["T_WHITESPACE"," ",1377],["T_ARRAY","array",1377],"(",["T_WHITESPACE","\n            ",1377],["T_CONSTANT_ENCAPSED_STRING","'RequestedShipment'",1378],["T_WHITESPACE"," ",1378],["T_DOUBLE_ARROW","=>",1378],["T_WHITESPACE"," ",1378],["T_ARRAY","array",1378],"(",["T_WHITESPACE","\n                ",1378],["T_CONSTANT_ENCAPSED_STRING","'ShipTimestamp'",1379],["T_WHITESPACE"," ",1379],["T_DOUBLE_ARROW","=>",1379],["T_WHITESPACE"," ",1379],["T_STRING","time",1379],"(",")",",",["T_WHITESPACE","\n                ",1379],["T_CONSTANT_ENCAPSED_STRING","'DropoffType'",1380],["T_WHITESPACE","   ",1380],["T_DOUBLE_ARROW","=>",1380],["T_WHITESPACE"," ",1380],["T_VARIABLE","$this",1380],["T_OBJECT_OPERATOR","->",1380],["T_STRING","getConfigData",1380],"(",["T_CONSTANT_ENCAPSED_STRING","'dropoff'",1380],")",",",["T_WHITESPACE","\n                ",1380],["T_CONSTANT_ENCAPSED_STRING","'PackagingType'",1381],["T_WHITESPACE"," ",1381],["T_DOUBLE_ARROW","=>",1381],["T_WHITESPACE"," ",1381],["T_VARIABLE","$request",1381],["T_OBJECT_OPERATOR","->",1381],["T_STRING","getPackagingType",1381],"(",")",",",["T_WHITESPACE","\n                ",1381],["T_CONSTANT_ENCAPSED_STRING","'ServiceType'",1382],["T_WHITESPACE"," ",1382],["T_DOUBLE_ARROW","=>",1382],["T_WHITESPACE"," ",1382],["T_VARIABLE","$request",1382],["T_OBJECT_OPERATOR","->",1382],["T_STRING","getShippingMethod",1382],"(",")",",",["T_WHITESPACE","\n                ",1382],["T_CONSTANT_ENCAPSED_STRING","'Shipper'",1383],["T_WHITESPACE"," ",1383],["T_DOUBLE_ARROW","=>",1383],["T_WHITESPACE"," ",1383],["T_ARRAY","array",1383],"(",["T_WHITESPACE","\n                    ",1383],["T_CONSTANT_ENCAPSED_STRING","'Contact'",1384],["T_WHITESPACE"," ",1384],["T_DOUBLE_ARROW","=>",1384],["T_WHITESPACE"," ",1384],["T_ARRAY","array",1384],"(",["T_WHITESPACE","\n                        ",1384],["T_CONSTANT_ENCAPSED_STRING","'PersonName'",1385],["T_WHITESPACE"," ",1385],["T_DOUBLE_ARROW","=>",1385],["T_WHITESPACE"," ",1385],["T_VARIABLE","$request",1385],["T_OBJECT_OPERATOR","->",1385],["T_STRING","getShipperContactPersonName",1385],"(",")",",",["T_WHITESPACE","\n                        ",1385],["T_CONSTANT_ENCAPSED_STRING","'CompanyName'",1386],["T_WHITESPACE"," ",1386],["T_DOUBLE_ARROW","=>",1386],["T_WHITESPACE"," ",1386],["T_VARIABLE","$request",1386],["T_OBJECT_OPERATOR","->",1386],["T_STRING","getShipperContactCompanyName",1386],"(",")",",",["T_WHITESPACE","\n                        ",1386],["T_CONSTANT_ENCAPSED_STRING","'PhoneNumber'",1387],["T_WHITESPACE"," ",1387],["T_DOUBLE_ARROW","=>",1387],["T_WHITESPACE"," ",1387],["T_VARIABLE","$request",1387],["T_OBJECT_OPERATOR","->",1387],["T_STRING","getShipperContactPhoneNumber",1387],"(",")",["T_WHITESPACE","\n                    ",1387],")",",",["T_WHITESPACE","\n                    ",1388],["T_CONSTANT_ENCAPSED_STRING","'Address'",1389],["T_WHITESPACE"," ",1389],["T_DOUBLE_ARROW","=>",1389],["T_WHITESPACE"," ",1389],["T_ARRAY","array",1389],"(",["T_WHITESPACE","\n                        ",1389],["T_CONSTANT_ENCAPSED_STRING","'StreetLines'",1390],["T_WHITESPACE"," ",1390],["T_DOUBLE_ARROW","=>",1390],["T_WHITESPACE"," ",1390],["T_ARRAY","array",1390],"(",["T_WHITESPACE","\n                            ",1390],["T_VARIABLE","$request",1391],["T_OBJECT_OPERATOR","->",1391],["T_STRING","getShipperAddressStreet1",1391],"(",")",",",["T_WHITESPACE","\n                            ",1391],["T_VARIABLE","$request",1392],["T_OBJECT_OPERATOR","->",1392],["T_STRING","getShipperAddressStreet2",1392],"(",")",["T_WHITESPACE","\n                        ",1392],")",",",["T_WHITESPACE","\n                        ",1393],["T_CONSTANT_ENCAPSED_STRING","'City'",1394],["T_WHITESPACE"," ",1394],["T_DOUBLE_ARROW","=>",1394],["T_WHITESPACE"," ",1394],["T_VARIABLE","$request",1394],["T_OBJECT_OPERATOR","->",1394],["T_STRING","getShipperAddressCity",1394],"(",")",",",["T_WHITESPACE","\n                        ",1394],["T_CONSTANT_ENCAPSED_STRING","'StateOrProvinceCode'",1395],["T_WHITESPACE"," ",1395],["T_DOUBLE_ARROW","=>",1395],["T_WHITESPACE"," ",1395],["T_VARIABLE","$request",1395],["T_OBJECT_OPERATOR","->",1395],["T_STRING","getShipperAddressStateOrProvinceCode",1395],"(",")",",",["T_WHITESPACE","\n                        ",1395],["T_CONSTANT_ENCAPSED_STRING","'PostalCode'",1396],["T_WHITESPACE"," ",1396],["T_DOUBLE_ARROW","=>",1396],["T_WHITESPACE"," ",1396],["T_VARIABLE","$request",1396],["T_OBJECT_OPERATOR","->",1396],["T_STRING","getShipperAddressPostalCode",1396],"(",")",",",["T_WHITESPACE","\n                        ",1396],["T_CONSTANT_ENCAPSED_STRING","'CountryCode'",1397],["T_WHITESPACE"," ",1397],["T_DOUBLE_ARROW","=>",1397],["T_WHITESPACE"," ",1397],["T_VARIABLE","$request",1397],["T_OBJECT_OPERATOR","->",1397],["T_STRING","getShipperAddressCountryCode",1397],"(",")",["T_WHITESPACE","\n                    ",1397],")",["T_WHITESPACE","\n                ",1398],")",",",["T_WHITESPACE","\n                ",1399],["T_CONSTANT_ENCAPSED_STRING","'Recipient'",1400],["T_WHITESPACE"," ",1400],["T_DOUBLE_ARROW","=>",1400],["T_WHITESPACE"," ",1400],["T_ARRAY","array",1400],"(",["T_WHITESPACE","\n                    ",1400],["T_CONSTANT_ENCAPSED_STRING","'Contact'",1401],["T_WHITESPACE"," ",1401],["T_DOUBLE_ARROW","=>",1401],["T_WHITESPACE"," ",1401],["T_ARRAY","array",1401],"(",["T_WHITESPACE","\n                        ",1401],["T_CONSTANT_ENCAPSED_STRING","'PersonName'",1402],["T_WHITESPACE"," ",1402],["T_DOUBLE_ARROW","=>",1402],["T_WHITESPACE"," ",1402],["T_VARIABLE","$request",1402],["T_OBJECT_OPERATOR","->",1402],["T_STRING","getRecipientContactPersonName",1402],"(",")",",",["T_WHITESPACE","\n                        ",1402],["T_CONSTANT_ENCAPSED_STRING","'CompanyName'",1403],["T_WHITESPACE"," ",1403],["T_DOUBLE_ARROW","=>",1403],["T_WHITESPACE"," ",1403],["T_VARIABLE","$request",1403],["T_OBJECT_OPERATOR","->",1403],["T_STRING","getRecipientContactCompanyName",1403],"(",")",",",["T_WHITESPACE","\n                        ",1403],["T_CONSTANT_ENCAPSED_STRING","'PhoneNumber'",1404],["T_WHITESPACE"," ",1404],["T_DOUBLE_ARROW","=>",1404],["T_WHITESPACE"," ",1404],["T_VARIABLE","$request",1404],["T_OBJECT_OPERATOR","->",1404],["T_STRING","getRecipientContactPhoneNumber",1404],"(",")",["T_WHITESPACE","\n                    ",1404],")",",",["T_WHITESPACE","\n                    ",1405],["T_CONSTANT_ENCAPSED_STRING","'Address'",1406],["T_WHITESPACE"," ",1406],["T_DOUBLE_ARROW","=>",1406],["T_WHITESPACE"," ",1406],["T_ARRAY","array",1406],"(",["T_WHITESPACE","\n                        ",1406],["T_CONSTANT_ENCAPSED_STRING","'StreetLines'",1407],["T_WHITESPACE"," ",1407],["T_DOUBLE_ARROW","=>",1407],["T_WHITESPACE"," ",1407],["T_ARRAY","array",1407],"(",["T_WHITESPACE","\n                            ",1407],["T_VARIABLE","$request",1408],["T_OBJECT_OPERATOR","->",1408],["T_STRING","getRecipientAddressStreet1",1408],"(",")",",",["T_WHITESPACE","\n                            ",1408],["T_VARIABLE","$request",1409],["T_OBJECT_OPERATOR","->",1409],["T_STRING","getRecipientAddressStreet2",1409],"(",")",["T_WHITESPACE","\n                        ",1409],")",",",["T_WHITESPACE","\n                        ",1410],["T_CONSTANT_ENCAPSED_STRING","'City'",1411],["T_WHITESPACE"," ",1411],["T_DOUBLE_ARROW","=>",1411],["T_WHITESPACE"," ",1411],["T_VARIABLE","$request",1411],["T_OBJECT_OPERATOR","->",1411],["T_STRING","getRecipientAddressCity",1411],"(",")",",",["T_WHITESPACE","\n                        ",1411],["T_CONSTANT_ENCAPSED_STRING","'StateOrProvinceCode'",1412],["T_WHITESPACE"," ",1412],["T_DOUBLE_ARROW","=>",1412],["T_WHITESPACE"," ",1412],["T_VARIABLE","$request",1412],["T_OBJECT_OPERATOR","->",1412],["T_STRING","getRecipientAddressStateOrProvinceCode",1412],"(",")",",",["T_WHITESPACE","\n                        ",1412],["T_CONSTANT_ENCAPSED_STRING","'PostalCode'",1413],["T_WHITESPACE"," ",1413],["T_DOUBLE_ARROW","=>",1413],["T_WHITESPACE"," ",1413],["T_VARIABLE","$request",1413],["T_OBJECT_OPERATOR","->",1413],["T_STRING","getRecipientAddressPostalCode",1413],"(",")",",",["T_WHITESPACE","\n                        ",1413],["T_CONSTANT_ENCAPSED_STRING","'CountryCode'",1414],["T_WHITESPACE"," ",1414],["T_DOUBLE_ARROW","=>",1414],["T_WHITESPACE"," ",1414],["T_VARIABLE","$request",1414],["T_OBJECT_OPERATOR","->",1414],["T_STRING","getRecipientAddressCountryCode",1414],"(",")",",",["T_WHITESPACE","\n                        ",1414],["T_CONSTANT_ENCAPSED_STRING","'Residential'",1415],["T_WHITESPACE"," ",1415],["T_DOUBLE_ARROW","=>",1415],["T_WHITESPACE"," ",1415],["T_BOOL_CAST","(bool)",1415],["T_VARIABLE","$this",1415],["T_OBJECT_OPERATOR","->",1415],["T_STRING","getConfigData",1415],"(",["T_CONSTANT_ENCAPSED_STRING","'residence_delivery'",1415],")",["T_WHITESPACE","\n                    ",1415],")",",",["T_WHITESPACE","\n                ",1416],")",",",["T_WHITESPACE","\n                ",1417],["T_CONSTANT_ENCAPSED_STRING","'ShippingChargesPayment'",1418],["T_WHITESPACE"," ",1418],["T_DOUBLE_ARROW","=>",1418],["T_WHITESPACE"," ",1418],["T_ARRAY","array",1418],"(",["T_WHITESPACE","\n                    ",1418],["T_CONSTANT_ENCAPSED_STRING","'PaymentType'",1419],["T_WHITESPACE"," ",1419],["T_DOUBLE_ARROW","=>",1419],["T_WHITESPACE"," ",1419],["T_VARIABLE","$paymentType",1419],",",["T_WHITESPACE","\n                    ",1419],["T_CONSTANT_ENCAPSED_STRING","'Payor'",1420],["T_WHITESPACE"," ",1420],["T_DOUBLE_ARROW","=>",1420],["T_WHITESPACE"," ",1420],["T_ARRAY","array",1420],"(",["T_WHITESPACE","\n                        ",1420],["T_CONSTANT_ENCAPSED_STRING","'AccountNumber'",1421],["T_WHITESPACE"," ",1421],["T_DOUBLE_ARROW","=>",1421],["T_WHITESPACE"," ",1421],["T_VARIABLE","$this",1421],["T_OBJECT_OPERATOR","->",1421],["T_STRING","getConfigData",1421],"(",["T_CONSTANT_ENCAPSED_STRING","'account'",1421],")",",",["T_WHITESPACE","\n                        ",1421],["T_CONSTANT_ENCAPSED_STRING","'CountryCode'",1422],["T_WHITESPACE","   ",1422],["T_DOUBLE_ARROW","=>",1422],["T_WHITESPACE"," ",1422],["T_STRING","Mage",1422],["T_DOUBLE_COLON","::",1422],["T_STRING","getStoreConfig",1422],"(",["T_WHITESPACE","\n                            ",1422],["T_STRING","Mage_Shipping_Model_Shipping",1423],["T_DOUBLE_COLON","::",1423],["T_STRING","XML_PATH_STORE_COUNTRY_ID",1423],",",["T_WHITESPACE","\n                            ",1423],["T_VARIABLE","$request",1424],["T_OBJECT_OPERATOR","->",1424],["T_STRING","getStoreId",1424],"(",")",["T_WHITESPACE","\n                        ",1424],")",["T_WHITESPACE","\n                    ",1425],")",["T_WHITESPACE","\n                ",1426],")",",",["T_WHITESPACE","\n                ",1427],["T_CONSTANT_ENCAPSED_STRING","'LabelSpecification'",1428],["T_WHITESPACE"," ",1428],["T_DOUBLE_ARROW","=>",1428],["T_ARRAY","array",1428],"(",["T_WHITESPACE","\n                    ",1428],["T_CONSTANT_ENCAPSED_STRING","'LabelFormatType'",1429],["T_WHITESPACE"," ",1429],["T_DOUBLE_ARROW","=>",1429],["T_WHITESPACE"," ",1429],["T_CONSTANT_ENCAPSED_STRING","'COMMON2D'",1429],",",["T_WHITESPACE","\n                    ",1429],["T_CONSTANT_ENCAPSED_STRING","'ImageType'",1430],["T_WHITESPACE"," ",1430],["T_DOUBLE_ARROW","=>",1430],["T_WHITESPACE"," ",1430],["T_CONSTANT_ENCAPSED_STRING","'PNG'",1430],",",["T_WHITESPACE","\n                    ",1430],["T_CONSTANT_ENCAPSED_STRING","'LabelStockType'",1431],["T_WHITESPACE"," ",1431],["T_DOUBLE_ARROW","=>",1431],["T_WHITESPACE"," ",1431],["T_CONSTANT_ENCAPSED_STRING","'PAPER_8.5X11_TOP_HALF_LABEL'",1431],",",["T_WHITESPACE","\n                ",1431],")",",",["T_WHITESPACE","\n                ",1432],["T_CONSTANT_ENCAPSED_STRING","'RateRequestTypes'",1433],["T_WHITESPACE","  ",1433],["T_DOUBLE_ARROW","=>",1433],["T_WHITESPACE"," ",1433],["T_ARRAY","array",1433],"(",["T_CONSTANT_ENCAPSED_STRING","'ACCOUNT'",1433],")",",",["T_WHITESPACE","\n                ",1433],["T_CONSTANT_ENCAPSED_STRING","'PackageCount'",1434],["T_WHITESPACE","      ",1434],["T_DOUBLE_ARROW","=>",1434],["T_WHITESPACE"," ",1434],["T_LNUMBER","1",1434],",",["T_WHITESPACE","\n                ",1434],["T_CONSTANT_ENCAPSED_STRING","'RequestedPackageLineItems'",1435],["T_WHITESPACE"," ",1435],["T_DOUBLE_ARROW","=>",1435],["T_WHITESPACE"," ",1435],["T_ARRAY","array",1435],"(",["T_WHITESPACE","\n                    ",1435],["T_CONSTANT_ENCAPSED_STRING","'SequenceNumber'",1436],["T_WHITESPACE"," ",1436],["T_DOUBLE_ARROW","=>",1436],["T_WHITESPACE"," ",1436],["T_CONSTANT_ENCAPSED_STRING","'1'",1436],",",["T_WHITESPACE","\n                    ",1436],["T_CONSTANT_ENCAPSED_STRING","'Weight'",1437],["T_WHITESPACE"," ",1437],["T_DOUBLE_ARROW","=>",1437],["T_WHITESPACE"," ",1437],["T_ARRAY","array",1437],"(",["T_WHITESPACE","\n                        ",1437],["T_CONSTANT_ENCAPSED_STRING","'Units'",1438],["T_WHITESPACE"," ",1438],["T_DOUBLE_ARROW","=>",1438],["T_WHITESPACE"," ",1438],["T_VARIABLE","$weightUnits",1438],",",["T_WHITESPACE","\n                        ",1438],["T_CONSTANT_ENCAPSED_STRING","'Value'",1439],["T_WHITESPACE"," ",1439],["T_DOUBLE_ARROW","=>",1439],["T_WHITESPACE","  ",1439],["T_VARIABLE","$request",1439],["T_OBJECT_OPERATOR","->",1439],["T_STRING","getPackageWeight",1439],"(",")",["T_WHITESPACE","\n                    ",1439],")",",",["T_WHITESPACE","\n                    ",1440],["T_CONSTANT_ENCAPSED_STRING","'CustomerReferences'",1441],["T_WHITESPACE"," ",1441],["T_DOUBLE_ARROW","=>",1441],["T_WHITESPACE"," ",1441],["T_ARRAY","array",1441],"(",["T_WHITESPACE","\n                        ",1441],["T_CONSTANT_ENCAPSED_STRING","'CustomerReferenceType'",1442],["T_WHITESPACE"," ",1442],["T_DOUBLE_ARROW","=>",1442],["T_WHITESPACE"," ",1442],["T_CONSTANT_ENCAPSED_STRING","'CUSTOMER_REFERENCE'",1442],",",["T_WHITESPACE","\n                        ",1442],["T_CONSTANT_ENCAPSED_STRING","'Value'",1443],["T_WHITESPACE"," ",1443],["T_DOUBLE_ARROW","=>",1443],["T_WHITESPACE"," ",1443],["T_VARIABLE","$referenceData",1443],["T_WHITESPACE","\n                    ",1443],")",",",["T_WHITESPACE","\n                    ",1444],["T_CONSTANT_ENCAPSED_STRING","'SpecialServicesRequested'",1445],["T_WHITESPACE"," ",1445],["T_DOUBLE_ARROW","=>",1445],["T_WHITESPACE"," ",1445],["T_ARRAY","array",1445],"(",["T_WHITESPACE","\n                        ",1445],["T_CONSTANT_ENCAPSED_STRING","'SpecialServiceTypes'",1446],["T_WHITESPACE"," ",1446],["T_DOUBLE_ARROW","=>",1446],["T_WHITESPACE"," ",1446],["T_CONSTANT_ENCAPSED_STRING","'SIGNATURE_OPTION'",1446],",",["T_WHITESPACE","\n                        ",1446],["T_CONSTANT_ENCAPSED_STRING","'SignatureOptionDetail'",1447],["T_WHITESPACE"," ",1447],["T_DOUBLE_ARROW","=>",1447],["T_WHITESPACE"," ",1447],["T_ARRAY","array",1447],"(",["T_CONSTANT_ENCAPSED_STRING","'OptionType'",1447],["T_WHITESPACE"," ",1447],["T_DOUBLE_ARROW","=>",1447],["T_WHITESPACE"," ",1447],["T_VARIABLE","$packageParams",1447],["T_OBJECT_OPERATOR","->",1447],["T_STRING","getDeliveryConfirmation",1447],"(",")",")",["T_WHITESPACE","\n                    ",1447],")",",",["T_WHITESPACE","\n                ",1448],")",["T_WHITESPACE","\n            ",1449],")",["T_WHITESPACE","\n        ",1450],")",";",["T_WHITESPACE","\n\n        ",1451],["T_COMMENT","\/\/ for international shipping\n",1453],["T_WHITESPACE","        ",1454],["T_IF","if",1454],["T_WHITESPACE"," ",1454],"(",["T_VARIABLE","$request",1454],["T_OBJECT_OPERATOR","->",1454],["T_STRING","getShipperAddressCountryCode",1454],"(",")",["T_WHITESPACE"," ",1454],["T_IS_NOT_EQUAL","!=",1454],["T_WHITESPACE"," ",1454],["T_VARIABLE","$request",1454],["T_OBJECT_OPERATOR","->",1454],["T_STRING","getRecipientAddressCountryCode",1454],"(",")",")",["T_WHITESPACE"," ",1454],"{",["T_WHITESPACE","\n            ",1454],["T_VARIABLE","$requestClient",1455],"[",["T_CONSTANT_ENCAPSED_STRING","'RequestedShipment'",1455],"]","[",["T_CONSTANT_ENCAPSED_STRING","'CustomsClearanceDetail'",1455],"]",["T_WHITESPACE"," ",1455],"=",["T_WHITESPACE","\n                ",1455],["T_ARRAY","array",1456],"(",["T_WHITESPACE","\n                    ",1456],["T_CONSTANT_ENCAPSED_STRING","'CustomsValue'",1457],["T_WHITESPACE"," ",1457],["T_DOUBLE_ARROW","=>",1457],["T_WHITESPACE","\n                    ",1457],["T_ARRAY","array",1458],"(",["T_WHITESPACE","\n                        ",1458],["T_CONSTANT_ENCAPSED_STRING","'Currency'",1459],["T_WHITESPACE"," ",1459],["T_DOUBLE_ARROW","=>",1459],["T_WHITESPACE"," ",1459],["T_VARIABLE","$request",1459],["T_OBJECT_OPERATOR","->",1459],["T_STRING","getBaseCurrencyCode",1459],"(",")",",",["T_WHITESPACE","\n                        ",1459],["T_CONSTANT_ENCAPSED_STRING","'Amount'",1460],["T_WHITESPACE"," ",1460],["T_DOUBLE_ARROW","=>",1460],["T_WHITESPACE"," ",1460],["T_VARIABLE","$customsValue",1460],",",["T_WHITESPACE","\n                    ",1460],")",",",["T_WHITESPACE","\n                    ",1461],["T_CONSTANT_ENCAPSED_STRING","'DutiesPayment'",1462],["T_WHITESPACE"," ",1462],["T_DOUBLE_ARROW","=>",1462],["T_WHITESPACE"," ",1462],["T_ARRAY","array",1462],"(",["T_WHITESPACE","\n                        ",1462],["T_CONSTANT_ENCAPSED_STRING","'PaymentType'",1463],["T_WHITESPACE"," ",1463],["T_DOUBLE_ARROW","=>",1463],["T_WHITESPACE"," ",1463],["T_VARIABLE","$paymentType",1463],",",["T_WHITESPACE","\n                        ",1463],["T_CONSTANT_ENCAPSED_STRING","'Payor'",1464],["T_WHITESPACE"," ",1464],["T_DOUBLE_ARROW","=>",1464],["T_WHITESPACE"," ",1464],["T_ARRAY","array",1464],"(",["T_WHITESPACE","\n                            ",1464],["T_CONSTANT_ENCAPSED_STRING","'AccountNumber'",1465],["T_WHITESPACE"," ",1465],["T_DOUBLE_ARROW","=>",1465],["T_WHITESPACE"," ",1465],["T_VARIABLE","$this",1465],["T_OBJECT_OPERATOR","->",1465],["T_STRING","getConfigData",1465],"(",["T_CONSTANT_ENCAPSED_STRING","'account'",1465],")",",",["T_WHITESPACE","\n                            ",1465],["T_CONSTANT_ENCAPSED_STRING","'CountryCode'",1466],["T_WHITESPACE","   ",1466],["T_DOUBLE_ARROW","=>",1466],["T_WHITESPACE"," ",1466],["T_STRING","Mage",1466],["T_DOUBLE_COLON","::",1466],["T_STRING","getStoreConfig",1466],"(",["T_WHITESPACE","\n                                ",1466],["T_STRING","Mage_Shipping_Model_Shipping",1467],["T_DOUBLE_COLON","::",1467],["T_STRING","XML_PATH_STORE_COUNTRY_ID",1467],",",["T_WHITESPACE","\n                                ",1467],["T_VARIABLE","$request",1468],["T_OBJECT_OPERATOR","->",1468],["T_STRING","getStoreId",1468],"(",")",["T_WHITESPACE","\n                            ",1468],")",["T_WHITESPACE","\n                        ",1469],")",["T_WHITESPACE","\n                    ",1470],")",",",["T_WHITESPACE","\n                    ",1471],["T_CONSTANT_ENCAPSED_STRING","'Commodities'",1472],["T_WHITESPACE"," ",1472],["T_DOUBLE_ARROW","=>",1472],["T_WHITESPACE"," ",1472],["T_ARRAY","array",1472],"(",["T_WHITESPACE","\n                        ",1472],["T_CONSTANT_ENCAPSED_STRING","'Weight'",1473],["T_WHITESPACE"," ",1473],["T_DOUBLE_ARROW","=>",1473],["T_WHITESPACE"," ",1473],["T_ARRAY","array",1473],"(",["T_WHITESPACE","\n                            ",1473],["T_CONSTANT_ENCAPSED_STRING","'Units'",1474],["T_WHITESPACE"," ",1474],["T_DOUBLE_ARROW","=>",1474],["T_WHITESPACE"," ",1474],["T_VARIABLE","$weightUnits",1474],",",["T_WHITESPACE","\n                            ",1474],["T_CONSTANT_ENCAPSED_STRING","'Value'",1475],["T_WHITESPACE"," ",1475],["T_DOUBLE_ARROW","=>",1475],["T_WHITESPACE","  ",1475],["T_VARIABLE","$request",1475],["T_OBJECT_OPERATOR","->",1475],["T_STRING","getPackageWeight",1475],"(",")",["T_WHITESPACE","\n                        ",1475],")",",",["T_WHITESPACE","\n                        ",1476],["T_CONSTANT_ENCAPSED_STRING","'NumberOfPieces'",1477],["T_WHITESPACE"," ",1477],["T_DOUBLE_ARROW","=>",1477],["T_WHITESPACE"," ",1477],["T_LNUMBER","1",1477],",",["T_WHITESPACE","\n                        ",1477],["T_CONSTANT_ENCAPSED_STRING","'CountryOfManufacture'",1478],["T_WHITESPACE"," ",1478],["T_DOUBLE_ARROW","=>",1478],["T_WHITESPACE"," ",1478],["T_STRING","implode",1478],"(",["T_CONSTANT_ENCAPSED_STRING","','",1478],",",["T_WHITESPACE"," ",1478],["T_STRING","array_unique",1478],"(",["T_VARIABLE","$countriesOfManufacture",1478],")",")",",",["T_WHITESPACE","\n                        ",1478],["T_CONSTANT_ENCAPSED_STRING","'Description'",1479],["T_WHITESPACE"," ",1479],["T_DOUBLE_ARROW","=>",1479],["T_WHITESPACE"," ",1479],["T_STRING","implode",1479],"(",["T_CONSTANT_ENCAPSED_STRING","', '",1479],",",["T_WHITESPACE"," ",1479],["T_VARIABLE","$itemsDesc",1479],")",",",["T_WHITESPACE","\n                        ",1479],["T_CONSTANT_ENCAPSED_STRING","'Quantity'",1480],["T_WHITESPACE"," ",1480],["T_DOUBLE_ARROW","=>",1480],["T_WHITESPACE"," ",1480],["T_STRING","ceil",1480],"(",["T_VARIABLE","$itemsQty",1480],")",",",["T_WHITESPACE","\n                        ",1480],["T_CONSTANT_ENCAPSED_STRING","'QuantityUnits'",1481],["T_WHITESPACE"," ",1481],["T_DOUBLE_ARROW","=>",1481],["T_WHITESPACE"," ",1481],["T_CONSTANT_ENCAPSED_STRING","'pcs'",1481],",",["T_WHITESPACE","\n                        ",1481],["T_CONSTANT_ENCAPSED_STRING","'UnitPrice'",1482],["T_WHITESPACE"," ",1482],["T_DOUBLE_ARROW","=>",1482],["T_WHITESPACE"," ",1482],["T_ARRAY","array",1482],"(",["T_WHITESPACE","\n                            ",1482],["T_CONSTANT_ENCAPSED_STRING","'Currency'",1483],["T_WHITESPACE"," ",1483],["T_DOUBLE_ARROW","=>",1483],["T_WHITESPACE"," ",1483],["T_VARIABLE","$request",1483],["T_OBJECT_OPERATOR","->",1483],["T_STRING","getBaseCurrencyCode",1483],"(",")",",",["T_WHITESPACE","\n                            ",1483],["T_CONSTANT_ENCAPSED_STRING","'Amount'",1484],["T_WHITESPACE"," ",1484],["T_DOUBLE_ARROW","=>",1484],["T_WHITESPACE","  ",1484],["T_VARIABLE","$unitPrice",1484],["T_WHITESPACE","\n                        ",1484],")",",",["T_WHITESPACE","\n                        ",1485],["T_CONSTANT_ENCAPSED_STRING","'CustomsValue'",1486],["T_WHITESPACE"," ",1486],["T_DOUBLE_ARROW","=>",1486],["T_WHITESPACE"," ",1486],["T_ARRAY","array",1486],"(",["T_WHITESPACE","\n                            ",1486],["T_CONSTANT_ENCAPSED_STRING","'Currency'",1487],["T_WHITESPACE"," ",1487],["T_DOUBLE_ARROW","=>",1487],["T_WHITESPACE"," ",1487],["T_VARIABLE","$request",1487],["T_OBJECT_OPERATOR","->",1487],["T_STRING","getBaseCurrencyCode",1487],"(",")",",",["T_WHITESPACE","\n                            ",1487],["T_CONSTANT_ENCAPSED_STRING","'Amount'",1488],["T_WHITESPACE"," ",1488],["T_DOUBLE_ARROW","=>",1488],["T_WHITESPACE","  ",1488],["T_VARIABLE","$customsValue",1488],["T_WHITESPACE","\n                        ",1488],")",",",["T_WHITESPACE","\n                    ",1489],")",["T_WHITESPACE","\n                ",1490],")",";",["T_WHITESPACE","\n        ",1491],"}",["T_WHITESPACE","\n\n        ",1492],["T_IF","if",1494],["T_WHITESPACE"," ",1494],"(",["T_VARIABLE","$request",1494],["T_OBJECT_OPERATOR","->",1494],["T_STRING","getMasterTrackingId",1494],"(",")",")",["T_WHITESPACE"," ",1494],"{",["T_WHITESPACE","\n            ",1494],["T_VARIABLE","$requestClient",1495],"[",["T_CONSTANT_ENCAPSED_STRING","'RequestedShipment'",1495],"]","[",["T_CONSTANT_ENCAPSED_STRING","'MasterTrackingId'",1495],"]",["T_WHITESPACE"," ",1495],"=",["T_WHITESPACE"," ",1495],["T_VARIABLE","$request",1495],["T_OBJECT_OPERATOR","->",1495],["T_STRING","getMasterTrackingId",1495],"(",")",";",["T_WHITESPACE","\n        ",1495],"}",["T_WHITESPACE","\n\n        ",1496],["T_COMMENT","\/\/ set dimensions\n",1498],["T_WHITESPACE","        ",1499],["T_IF","if",1499],["T_WHITESPACE"," ",1499],"(",["T_VARIABLE","$length",1499],["T_WHITESPACE"," ",1499],["T_BOOLEAN_OR","||",1499],["T_WHITESPACE"," ",1499],["T_VARIABLE","$width",1499],["T_WHITESPACE"," ",1499],["T_BOOLEAN_OR","||",1499],["T_WHITESPACE"," ",1499],["T_VARIABLE","$height",1499],")",["T_WHITESPACE"," ",1499],"{",["T_WHITESPACE","\n            ",1499],["T_VARIABLE","$requestClient",1500],"[",["T_CONSTANT_ENCAPSED_STRING","'RequestedShipment'",1500],"]","[",["T_CONSTANT_ENCAPSED_STRING","'RequestedPackageLineItems'",1500],"]","[",["T_CONSTANT_ENCAPSED_STRING","'Dimensions'",1500],"]",["T_WHITESPACE"," ",1500],"=",["T_WHITESPACE"," ",1500],["T_ARRAY","array",1500],"(",")",";",["T_WHITESPACE","\n            ",1500],["T_VARIABLE","$dimenssions",1501],["T_WHITESPACE"," ",1501],"=",["T_WHITESPACE"," ",1501],"&",["T_VARIABLE","$requestClient",1501],"[",["T_CONSTANT_ENCAPSED_STRING","'RequestedShipment'",1501],"]","[",["T_CONSTANT_ENCAPSED_STRING","'RequestedPackageLineItems'",1501],"]","[",["T_CONSTANT_ENCAPSED_STRING","'Dimensions'",1501],"]",";",["T_WHITESPACE","\n            ",1501],["T_VARIABLE","$dimenssions",1502],"[",["T_CONSTANT_ENCAPSED_STRING","'Length'",1502],"]",["T_WHITESPACE"," ",1502],"=",["T_WHITESPACE"," ",1502],["T_VARIABLE","$length",1502],";",["T_WHITESPACE","\n            ",1502],["T_VARIABLE","$dimenssions",1503],"[",["T_CONSTANT_ENCAPSED_STRING","'Width'",1503],"]",["T_WHITESPACE","  ",1503],"=",["T_WHITESPACE"," ",1503],["T_VARIABLE","$width",1503],";",["T_WHITESPACE","\n            ",1503],["T_VARIABLE","$dimenssions",1504],"[",["T_CONSTANT_ENCAPSED_STRING","'Height'",1504],"]",["T_WHITESPACE"," ",1504],"=",["T_WHITESPACE"," ",1504],["T_VARIABLE","$height",1504],";",["T_WHITESPACE","\n            ",1504],["T_VARIABLE","$dimenssions",1505],"[",["T_CONSTANT_ENCAPSED_STRING","'Units'",1505],"]",["T_WHITESPACE"," ",1505],"=",["T_WHITESPACE"," ",1505],["T_VARIABLE","$dimensionsUnits",1505],";",["T_WHITESPACE","\n        ",1505],"}",["T_WHITESPACE","\n\n        ",1506],["T_RETURN","return",1508],["T_WHITESPACE"," ",1508],["T_VARIABLE","$this",1508],["T_OBJECT_OPERATOR","->",1508],["T_STRING","_getAuthDetails",1508],"(",")",["T_WHITESPACE"," ",1508],"+",["T_WHITESPACE"," ",1508],["T_VARIABLE","$requestClient",1508],";",["T_WHITESPACE","\n    ",1508],"}",["T_WHITESPACE","\n\n    ",1509],["T_DOC_COMMENT","\/**\n     * Do shipment request to carrier web service, obtain Print Shipping Labels and process errors in response\n     *\n     * @param Varien_Object $request\n     * @return Varien_Object\n     *\/",1511],["T_WHITESPACE","\n    ",1516],["T_PROTECTED","protected",1517],["T_WHITESPACE"," ",1517],["T_FUNCTION","function",1517],["T_WHITESPACE"," ",1517],["T_STRING","_doShipmentRequest",1517],"(",["T_STRING","Varien_Object",1517],["T_WHITESPACE"," ",1517],["T_VARIABLE","$request",1517],")",["T_WHITESPACE","\n    ",1517],"{",["T_WHITESPACE","\n        ",1518],["T_VARIABLE","$this",1519],["T_OBJECT_OPERATOR","->",1519],["T_STRING","_prepareShipmentRequest",1519],"(",["T_VARIABLE","$request",1519],")",";",["T_WHITESPACE","\n        ",1519],["T_VARIABLE","$result",1520],["T_WHITESPACE"," ",1520],"=",["T_WHITESPACE"," ",1520],["T_NEW","new",1520],["T_WHITESPACE"," ",1520],["T_STRING","Varien_Object",1520],"(",")",";",["T_WHITESPACE","\n        ",1520],["T_VARIABLE","$client",1521],["T_WHITESPACE"," ",1521],"=",["T_WHITESPACE"," ",1521],["T_VARIABLE","$this",1521],["T_OBJECT_OPERATOR","->",1521],["T_STRING","_createShipSoapClient",1521],"(",")",";",["T_WHITESPACE","\n        ",1521],["T_VARIABLE","$requestClient",1522],["T_WHITESPACE"," ",1522],"=",["T_WHITESPACE"," ",1522],["T_VARIABLE","$this",1522],["T_OBJECT_OPERATOR","->",1522],["T_STRING","_formShipmentRequest",1522],"(",["T_VARIABLE","$request",1522],")",";",["T_WHITESPACE","\n        ",1522],["T_VARIABLE","$response",1523],["T_WHITESPACE"," ",1523],"=",["T_WHITESPACE"," ",1523],["T_VARIABLE","$client",1523],["T_OBJECT_OPERATOR","->",1523],["T_STRING","processShipment",1523],"(",["T_VARIABLE","$requestClient",1523],")",";",["T_WHITESPACE","\n\n        ",1523],["T_IF","if",1525],["T_WHITESPACE"," ",1525],"(",["T_VARIABLE","$response",1525],["T_OBJECT_OPERATOR","->",1525],["T_STRING","HighestSeverity",1525],["T_WHITESPACE"," ",1525],["T_IS_NOT_EQUAL","!=",1525],["T_WHITESPACE"," ",1525],["T_CONSTANT_ENCAPSED_STRING","'FAILURE'",1525],["T_WHITESPACE"," ",1525],["T_BOOLEAN_AND","&&",1525],["T_WHITESPACE"," ",1525],["T_VARIABLE","$response",1525],["T_OBJECT_OPERATOR","->",1525],["T_STRING","HighestSeverity",1525],["T_WHITESPACE"," ",1525],["T_IS_NOT_EQUAL","!=",1525],["T_WHITESPACE"," ",1525],["T_CONSTANT_ENCAPSED_STRING","'ERROR'",1525],")",["T_WHITESPACE"," ",1525],"{",["T_WHITESPACE","\n            ",1525],["T_VARIABLE","$shippingLabelContent",1526],["T_WHITESPACE"," ",1526],"=",["T_WHITESPACE"," ",1526],["T_VARIABLE","$response",1526],["T_OBJECT_OPERATOR","->",1526],["T_STRING","CompletedShipmentDetail",1526],["T_OBJECT_OPERATOR","->",1526],["T_STRING","CompletedPackageDetails",1526],["T_OBJECT_OPERATOR","->",1526],["T_STRING","Label",1526],["T_OBJECT_OPERATOR","->",1526],["T_STRING","Parts",1526],["T_OBJECT_OPERATOR","->",1526],["T_STRING","Image",1526],";",["T_WHITESPACE","\n            ",1526],["T_VARIABLE","$trackingNumber",1527],["T_WHITESPACE"," ",1527],"=",["T_WHITESPACE"," ",1527],["T_VARIABLE","$response",1527],["T_OBJECT_OPERATOR","->",1527],["T_STRING","CompletedShipmentDetail",1527],["T_OBJECT_OPERATOR","->",1527],["T_STRING","CompletedPackageDetails",1527],["T_OBJECT_OPERATOR","->",1527],["T_STRING","TrackingIds",1527],["T_OBJECT_OPERATOR","->",1527],["T_STRING","TrackingNumber",1527],";",["T_WHITESPACE","\n            ",1527],["T_VARIABLE","$result",1528],["T_OBJECT_OPERATOR","->",1528],["T_STRING","setShippingLabelContent",1528],"(",["T_VARIABLE","$shippingLabelContent",1528],")",";",["T_WHITESPACE","\n            ",1528],["T_VARIABLE","$result",1529],["T_OBJECT_OPERATOR","->",1529],["T_STRING","setTrackingNumber",1529],"(",["T_VARIABLE","$trackingNumber",1529],")",";",["T_WHITESPACE","\n            ",1529],["T_VARIABLE","$debugData",1530],["T_WHITESPACE"," ",1530],"=",["T_WHITESPACE"," ",1530],["T_ARRAY","array",1530],"(",["T_CONSTANT_ENCAPSED_STRING","'request'",1530],["T_WHITESPACE"," ",1530],["T_DOUBLE_ARROW","=>",1530],["T_WHITESPACE"," ",1530],["T_VARIABLE","$client",1530],["T_OBJECT_OPERATOR","->",1530],["T_STRING","__getLastRequest",1530],"(",")",",",["T_WHITESPACE"," ",1530],["T_CONSTANT_ENCAPSED_STRING","'result'",1530],["T_WHITESPACE"," ",1530],["T_DOUBLE_ARROW","=>",1530],["T_WHITESPACE"," ",1530],["T_VARIABLE","$client",1530],["T_OBJECT_OPERATOR","->",1530],["T_STRING","__getLastResponse",1530],"(",")",")",";",["T_WHITESPACE","\n            ",1530],["T_VARIABLE","$this",1531],["T_OBJECT_OPERATOR","->",1531],["T_STRING","_debug",1531],"(",["T_VARIABLE","$debugData",1531],")",";",["T_WHITESPACE","\n        ",1531],"}",["T_WHITESPACE"," ",1532],["T_ELSE","else",1532],["T_WHITESPACE"," ",1532],"{",["T_WHITESPACE","\n            ",1532],["T_VARIABLE","$debugData",1533],["T_WHITESPACE"," ",1533],"=",["T_WHITESPACE"," ",1533],["T_ARRAY","array",1533],"(",["T_WHITESPACE","\n                ",1533],["T_CONSTANT_ENCAPSED_STRING","'request'",1534],["T_WHITESPACE"," ",1534],["T_DOUBLE_ARROW","=>",1534],["T_WHITESPACE"," ",1534],["T_VARIABLE","$client",1534],["T_OBJECT_OPERATOR","->",1534],["T_STRING","__getLastRequest",1534],"(",")",",",["T_WHITESPACE","\n                ",1534],["T_CONSTANT_ENCAPSED_STRING","'result'",1535],["T_WHITESPACE"," ",1535],["T_DOUBLE_ARROW","=>",1535],["T_WHITESPACE"," ",1535],["T_ARRAY","array",1535],"(",["T_WHITESPACE","\n                    ",1535],["T_CONSTANT_ENCAPSED_STRING","'error'",1536],["T_WHITESPACE"," ",1536],["T_DOUBLE_ARROW","=>",1536],["T_WHITESPACE"," ",1536],["T_CONSTANT_ENCAPSED_STRING","''",1536],",",["T_WHITESPACE","\n                    ",1536],["T_CONSTANT_ENCAPSED_STRING","'code'",1537],["T_WHITESPACE"," ",1537],["T_DOUBLE_ARROW","=>",1537],["T_WHITESPACE"," ",1537],["T_CONSTANT_ENCAPSED_STRING","''",1537],",",["T_WHITESPACE","\n                    ",1537],["T_CONSTANT_ENCAPSED_STRING","'xml'",1538],["T_WHITESPACE"," ",1538],["T_DOUBLE_ARROW","=>",1538],["T_WHITESPACE"," ",1538],["T_VARIABLE","$client",1538],["T_OBJECT_OPERATOR","->",1538],["T_STRING","__getLastResponse",1538],"(",")",["T_WHITESPACE","\n                ",1538],")",["T_WHITESPACE","\n            ",1539],")",";",["T_WHITESPACE","\n            ",1540],["T_IF","if",1541],["T_WHITESPACE"," ",1541],"(",["T_STRING","is_array",1541],"(",["T_VARIABLE","$response",1541],["T_OBJECT_OPERATOR","->",1541],["T_STRING","Notifications",1541],")",")",["T_WHITESPACE"," ",1541],"{",["T_WHITESPACE","\n                ",1541],["T_FOREACH","foreach",1542],["T_WHITESPACE"," ",1542],"(",["T_VARIABLE","$response",1542],["T_OBJECT_OPERATOR","->",1542],["T_STRING","Notifications",1542],["T_WHITESPACE"," ",1542],["T_AS","as",1542],["T_WHITESPACE"," ",1542],["T_VARIABLE","$notification",1542],")",["T_WHITESPACE"," ",1542],"{",["T_WHITESPACE","\n                    ",1542],["T_VARIABLE","$debugData",1543],"[",["T_CONSTANT_ENCAPSED_STRING","'result'",1543],"]","[",["T_CONSTANT_ENCAPSED_STRING","'code'",1543],"]",["T_WHITESPACE"," ",1543],["T_CONCAT_EQUAL",".=",1543],["T_WHITESPACE"," ",1543],["T_VARIABLE","$notification",1543],["T_OBJECT_OPERATOR","->",1543],["T_STRING","Code",1543],["T_WHITESPACE"," ",1543],".",["T_WHITESPACE"," ",1543],["T_CONSTANT_ENCAPSED_STRING","'; '",1543],";",["T_WHITESPACE","\n                    ",1543],["T_VARIABLE","$debugData",1544],"[",["T_CONSTANT_ENCAPSED_STRING","'result'",1544],"]","[",["T_CONSTANT_ENCAPSED_STRING","'error'",1544],"]",["T_WHITESPACE"," ",1544],["T_CONCAT_EQUAL",".=",1544],["T_WHITESPACE"," ",1544],["T_VARIABLE","$notification",1544],["T_OBJECT_OPERATOR","->",1544],["T_STRING","Message",1544],["T_WHITESPACE"," ",1544],".",["T_WHITESPACE"," ",1544],["T_CONSTANT_ENCAPSED_STRING","'; '",1544],";",["T_WHITESPACE","\n                ",1544],"}",["T_WHITESPACE","\n            ",1545],"}",["T_WHITESPACE"," ",1546],["T_ELSE","else",1546],["T_WHITESPACE"," ",1546],"{",["T_WHITESPACE","\n                ",1546],["T_VARIABLE","$debugData",1547],"[",["T_CONSTANT_ENCAPSED_STRING","'result'",1547],"]","[",["T_CONSTANT_ENCAPSED_STRING","'code'",1547],"]",["T_WHITESPACE"," ",1547],"=",["T_WHITESPACE"," ",1547],["T_VARIABLE","$response",1547],["T_OBJECT_OPERATOR","->",1547],["T_STRING","Notifications",1547],["T_OBJECT_OPERATOR","->",1547],["T_STRING","Code",1547],["T_WHITESPACE"," ",1547],".",["T_WHITESPACE"," ",1547],["T_CONSTANT_ENCAPSED_STRING","' '",1547],";",["T_WHITESPACE","\n                ",1547],["T_VARIABLE","$debugData",1548],"[",["T_CONSTANT_ENCAPSED_STRING","'result'",1548],"]","[",["T_CONSTANT_ENCAPSED_STRING","'error'",1548],"]",["T_WHITESPACE"," ",1548],"=",["T_WHITESPACE"," ",1548],["T_VARIABLE","$response",1548],["T_OBJECT_OPERATOR","->",1548],["T_STRING","Notifications",1548],["T_OBJECT_OPERATOR","->",1548],["T_STRING","Message",1548],["T_WHITESPACE"," ",1548],".",["T_WHITESPACE"," ",1548],["T_CONSTANT_ENCAPSED_STRING","' '",1548],";",["T_WHITESPACE","\n            ",1548],"}",["T_WHITESPACE","\n            ",1549],["T_VARIABLE","$this",1550],["T_OBJECT_OPERATOR","->",1550],["T_STRING","_debug",1550],"(",["T_VARIABLE","$debugData",1550],")",";",["T_WHITESPACE","\n            ",1550],["T_VARIABLE","$result",1551],["T_OBJECT_OPERATOR","->",1551],["T_STRING","setErrors",1551],"(",["T_VARIABLE","$debugData",1551],"[",["T_CONSTANT_ENCAPSED_STRING","'result'",1551],"]","[",["T_CONSTANT_ENCAPSED_STRING","'error'",1551],"]",")",";",["T_WHITESPACE","\n        ",1551],"}",["T_WHITESPACE","\n        ",1552],["T_VARIABLE","$result",1553],["T_OBJECT_OPERATOR","->",1553],["T_STRING","setGatewayResponse",1553],"(",["T_VARIABLE","$client",1553],["T_OBJECT_OPERATOR","->",1553],["T_STRING","__getLastResponse",1553],"(",")",")",";",["T_WHITESPACE","\n\n        ",1553],["T_RETURN","return",1555],["T_WHITESPACE"," ",1555],["T_VARIABLE","$result",1555],";",["T_WHITESPACE","\n    ",1555],"}",["T_WHITESPACE","\n\n    ",1556],["T_DOC_COMMENT","\/**\n     * For multi package shipments. Delete requested shipments if the current shipment\n     * request is failed\n     *\n     * @param array $data\n     * @return bool\n     *\/",1558],["T_WHITESPACE","\n    ",1564],["T_PUBLIC","public",1565],["T_WHITESPACE"," ",1565],["T_FUNCTION","function",1565],["T_WHITESPACE"," ",1565],["T_STRING","rollBack",1565],"(",["T_VARIABLE","$data",1565],")",["T_WHITESPACE","\n    ",1565],"{",["T_WHITESPACE","\n        ",1566],["T_VARIABLE","$requestData",1567],["T_WHITESPACE"," ",1567],"=",["T_WHITESPACE"," ",1567],["T_VARIABLE","$this",1567],["T_OBJECT_OPERATOR","->",1567],["T_STRING","_getAuthDetails",1567],"(",")",";",["T_WHITESPACE","\n        ",1567],["T_VARIABLE","$requestData",1568],"[",["T_CONSTANT_ENCAPSED_STRING","'DeletionControl'",1568],"]",["T_WHITESPACE"," ",1568],"=",["T_WHITESPACE"," ",1568],["T_CONSTANT_ENCAPSED_STRING","'DELETE_ONE_PACKAGE'",1568],";",["T_WHITESPACE","\n        ",1568],["T_FOREACH","foreach",1569],["T_WHITESPACE"," ",1569],"(",["T_VARIABLE","$data",1569],["T_WHITESPACE"," ",1569],["T_AS","as",1569],["T_WHITESPACE"," ",1569],"&",["T_VARIABLE","$item",1569],")",["T_WHITESPACE"," ",1569],"{",["T_WHITESPACE","\n            ",1569],["T_VARIABLE","$requestData",1570],"[",["T_CONSTANT_ENCAPSED_STRING","'TrackingId'",1570],"]",["T_WHITESPACE"," ",1570],"=",["T_WHITESPACE"," ",1570],["T_VARIABLE","$item",1570],"[",["T_CONSTANT_ENCAPSED_STRING","'tracking_number'",1570],"]",";",["T_WHITESPACE","\n            ",1570],["T_VARIABLE","$client",1571],["T_WHITESPACE"," ",1571],"=",["T_WHITESPACE"," ",1571],["T_VARIABLE","$this",1571],["T_OBJECT_OPERATOR","->",1571],["T_STRING","_createShipSoapClient",1571],"(",")",";",["T_WHITESPACE","\n            ",1571],["T_VARIABLE","$client",1572],["T_OBJECT_OPERATOR","->",1572],["T_STRING","deleteShipment",1572],"(",["T_VARIABLE","$requestData",1572],")",";",["T_WHITESPACE","\n        ",1572],"}",["T_WHITESPACE","\n        ",1573],["T_RETURN","return",1574],["T_WHITESPACE"," ",1574],["T_STRING","true",1574],";",["T_WHITESPACE","\n    ",1574],"}",["T_WHITESPACE","\n\n    ",1575],["T_DOC_COMMENT","\/**\n     * Return container types of carrier\n     *\n     * @param Varien_Object|null $params\n     * @return array|bool\n     *\/",1577],["T_WHITESPACE","\n    ",1582],["T_PUBLIC","public",1583],["T_WHITESPACE"," ",1583],["T_FUNCTION","function",1583],["T_WHITESPACE"," ",1583],["T_STRING","getContainerTypes",1583],"(",["T_STRING","Varien_Object",1583],["T_WHITESPACE"," ",1583],["T_VARIABLE","$params",1583],["T_WHITESPACE"," ",1583],"=",["T_WHITESPACE"," ",1583],["T_STRING","null",1583],")",["T_WHITESPACE","\n    ",1583],"{",["T_WHITESPACE","\n        ",1584],["T_IF","if",1585],["T_WHITESPACE"," ",1585],"(",["T_VARIABLE","$params",1585],["T_WHITESPACE"," ",1585],["T_IS_EQUAL","==",1585],["T_WHITESPACE"," ",1585],["T_STRING","null",1585],")",["T_WHITESPACE"," ",1585],"{",["T_WHITESPACE","\n            ",1585],["T_RETURN","return",1586],["T_WHITESPACE"," ",1586],["T_VARIABLE","$this",1586],["T_OBJECT_OPERATOR","->",1586],["T_STRING","_getAllowedContainers",1586],"(",["T_VARIABLE","$params",1586],")",";",["T_WHITESPACE","\n        ",1586],"}",["T_WHITESPACE","\n        ",1587],["T_VARIABLE","$method",1588],["T_WHITESPACE","             ",1588],"=",["T_WHITESPACE"," ",1588],["T_VARIABLE","$params",1588],["T_OBJECT_OPERATOR","->",1588],["T_STRING","getMethod",1588],"(",")",";",["T_WHITESPACE","\n        ",1588],["T_VARIABLE","$countryShipper",1589],["T_WHITESPACE","     ",1589],"=",["T_WHITESPACE"," ",1589],["T_VARIABLE","$params",1589],["T_OBJECT_OPERATOR","->",1589],["T_STRING","getCountryShipper",1589],"(",")",";",["T_WHITESPACE","\n        ",1589],["T_VARIABLE","$countryRecipient",1590],["T_WHITESPACE","   ",1590],"=",["T_WHITESPACE"," ",1590],["T_VARIABLE","$params",1590],["T_OBJECT_OPERATOR","->",1590],["T_STRING","getCountryRecipient",1590],"(",")",";",["T_WHITESPACE","\n\n        ",1590],["T_IF","if",1592],["T_WHITESPACE"," ",1592],"(","(",["T_VARIABLE","$countryShipper",1592],["T_WHITESPACE"," ",1592],["T_IS_EQUAL","==",1592],["T_WHITESPACE"," ",1592],["T_STRING","self",1592],["T_DOUBLE_COLON","::",1592],["T_STRING","USA_COUNTRY_ID",1592],["T_WHITESPACE"," ",1592],["T_BOOLEAN_AND","&&",1592],["T_WHITESPACE"," ",1592],["T_VARIABLE","$countryRecipient",1592],["T_WHITESPACE"," ",1592],["T_IS_EQUAL","==",1592],["T_WHITESPACE"," ",1592],["T_STRING","self",1592],["T_DOUBLE_COLON","::",1592],["T_STRING","CANADA_COUNTRY_ID",1592],["T_WHITESPACE","\n            ",1592],["T_BOOLEAN_OR","||",1593],["T_WHITESPACE"," ",1593],["T_VARIABLE","$countryShipper",1593],["T_WHITESPACE"," ",1593],["T_IS_EQUAL","==",1593],["T_WHITESPACE"," ",1593],["T_STRING","self",1593],["T_DOUBLE_COLON","::",1593],["T_STRING","CANADA_COUNTRY_ID",1593],["T_WHITESPACE"," ",1593],["T_BOOLEAN_AND","&&",1593],["T_WHITESPACE"," ",1593],["T_VARIABLE","$countryRecipient",1593],["T_WHITESPACE"," ",1593],["T_IS_EQUAL","==",1593],["T_WHITESPACE"," ",1593],["T_STRING","self",1593],["T_DOUBLE_COLON","::",1593],["T_STRING","USA_COUNTRY_ID",1593],")",["T_WHITESPACE","\n            ",1593],["T_BOOLEAN_AND","&&",1594],["T_WHITESPACE"," ",1594],["T_VARIABLE","$method",1594],["T_WHITESPACE"," ",1594],["T_IS_EQUAL","==",1594],["T_WHITESPACE"," ",1594],["T_CONSTANT_ENCAPSED_STRING","'FEDEX_GROUND'",1594],["T_WHITESPACE","\n        ",1594],")",["T_WHITESPACE"," ",1595],"{",["T_WHITESPACE","\n            ",1595],["T_RETURN","return",1596],["T_WHITESPACE"," ",1596],["T_ARRAY","array",1596],"(",["T_CONSTANT_ENCAPSED_STRING","'YOUR_PACKAGING'",1596],["T_WHITESPACE"," ",1596],["T_DOUBLE_ARROW","=>",1596],["T_WHITESPACE"," ",1596],["T_STRING","Mage",1596],["T_DOUBLE_COLON","::",1596],["T_STRING","helper",1596],"(",["T_CONSTANT_ENCAPSED_STRING","'usa'",1596],")",["T_OBJECT_OPERATOR","->",1596],["T_STRING","__",1596],"(",["T_CONSTANT_ENCAPSED_STRING","'Your Packaging'",1596],")",")",";",["T_WHITESPACE","\n        ",1596],"}",["T_WHITESPACE"," ",1597],["T_ELSE","else",1597],["T_WHITESPACE"," ",1597],["T_IF","if",1597],["T_WHITESPACE"," ",1597],"(",["T_VARIABLE","$method",1597],["T_WHITESPACE"," ",1597],["T_IS_EQUAL","==",1597],["T_WHITESPACE"," ",1597],["T_CONSTANT_ENCAPSED_STRING","'INTERNATIONAL_ECONOMY'",1597],["T_WHITESPACE"," ",1597],["T_BOOLEAN_OR","||",1597],["T_WHITESPACE"," ",1597],["T_VARIABLE","$method",1597],["T_WHITESPACE"," ",1597],["T_IS_EQUAL","==",1597],["T_WHITESPACE"," ",1597],["T_CONSTANT_ENCAPSED_STRING","'INTERNATIONAL_FIRST'",1597],")",["T_WHITESPACE"," ",1597],"{",["T_WHITESPACE","\n            ",1597],["T_VARIABLE","$allTypes",1598],["T_WHITESPACE"," ",1598],"=",["T_WHITESPACE"," ",1598],["T_VARIABLE","$this",1598],["T_OBJECT_OPERATOR","->",1598],["T_STRING","getContainerTypesAll",1598],"(",")",";",["T_WHITESPACE","\n            ",1598],["T_VARIABLE","$exclude",1599],["T_WHITESPACE"," ",1599],"=",["T_WHITESPACE"," ",1599],["T_ARRAY","array",1599],"(",["T_CONSTANT_ENCAPSED_STRING","'FEDEX_10KG_BOX'",1599],["T_WHITESPACE"," ",1599],["T_DOUBLE_ARROW","=>",1599],["T_WHITESPACE"," ",1599],["T_CONSTANT_ENCAPSED_STRING","''",1599],",",["T_WHITESPACE"," ",1599],["T_CONSTANT_ENCAPSED_STRING","'FEDEX_25KG_BOX'",1599],["T_WHITESPACE"," ",1599],["T_DOUBLE_ARROW","=>",1599],["T_WHITESPACE"," ",1599],["T_CONSTANT_ENCAPSED_STRING","''",1599],")",";",["T_WHITESPACE","\n            ",1599],["T_RETURN","return",1600],["T_WHITESPACE"," ",1600],["T_STRING","array_diff_key",1600],"(",["T_VARIABLE","$allTypes",1600],",",["T_WHITESPACE"," ",1600],["T_VARIABLE","$exclude",1600],")",";",["T_WHITESPACE","\n        ",1600],"}",["T_WHITESPACE"," ",1601],["T_ELSE","else",1601],["T_WHITESPACE"," ",1601],["T_IF","if",1601],["T_WHITESPACE"," ",1601],"(",["T_VARIABLE","$method",1601],["T_WHITESPACE"," ",1601],["T_IS_EQUAL","==",1601],["T_WHITESPACE"," ",1601],["T_CONSTANT_ENCAPSED_STRING","'EUROPE_FIRST_INTERNATIONAL_PRIORITY'",1601],")",["T_WHITESPACE"," ",1601],"{",["T_WHITESPACE","\n            ",1601],["T_VARIABLE","$allTypes",1602],["T_WHITESPACE"," ",1602],"=",["T_WHITESPACE"," ",1602],["T_VARIABLE","$this",1602],["T_OBJECT_OPERATOR","->",1602],["T_STRING","getContainerTypesAll",1602],"(",")",";",["T_WHITESPACE","\n            ",1602],["T_VARIABLE","$exclude",1603],["T_WHITESPACE"," ",1603],"=",["T_WHITESPACE"," ",1603],["T_ARRAY","array",1603],"(",["T_CONSTANT_ENCAPSED_STRING","'FEDEX_BOX'",1603],["T_WHITESPACE"," ",1603],["T_DOUBLE_ARROW","=>",1603],["T_WHITESPACE"," ",1603],["T_CONSTANT_ENCAPSED_STRING","''",1603],",",["T_WHITESPACE"," ",1603],["T_CONSTANT_ENCAPSED_STRING","'FEDEX_TUBE'",1603],["T_WHITESPACE"," ",1603],["T_DOUBLE_ARROW","=>",1603],["T_WHITESPACE"," ",1603],["T_CONSTANT_ENCAPSED_STRING","''",1603],")",";",["T_WHITESPACE","\n            ",1603],["T_RETURN","return",1604],["T_WHITESPACE"," ",1604],["T_STRING","array_diff_key",1604],"(",["T_VARIABLE","$allTypes",1604],",",["T_WHITESPACE"," ",1604],["T_VARIABLE","$exclude",1604],")",";",["T_WHITESPACE","\n        ",1604],"}",["T_WHITESPACE"," ",1605],["T_ELSE","else",1605],["T_WHITESPACE"," ",1605],["T_IF","if",1605],["T_WHITESPACE"," ",1605],"(",["T_VARIABLE","$countryShipper",1605],["T_WHITESPACE"," ",1605],["T_IS_EQUAL","==",1605],["T_WHITESPACE"," ",1605],["T_STRING","self",1605],["T_DOUBLE_COLON","::",1605],["T_STRING","CANADA_COUNTRY_ID",1605],["T_WHITESPACE"," ",1605],["T_BOOLEAN_AND","&&",1605],["T_WHITESPACE"," ",1605],["T_VARIABLE","$countryRecipient",1605],["T_WHITESPACE"," ",1605],["T_IS_EQUAL","==",1605],["T_WHITESPACE"," ",1605],["T_STRING","self",1605],["T_DOUBLE_COLON","::",1605],["T_STRING","CANADA_COUNTRY_ID",1605],")",["T_WHITESPACE"," ",1605],"{",["T_WHITESPACE","\n            ",1605],["T_COMMENT","\/\/ hack for Canada domestic. Apply the same filter rules as for US domestic\n",1606],["T_WHITESPACE","            ",1607],["T_VARIABLE","$params",1607],["T_OBJECT_OPERATOR","->",1607],["T_STRING","setCountryShipper",1607],"(",["T_STRING","self",1607],["T_DOUBLE_COLON","::",1607],["T_STRING","USA_COUNTRY_ID",1607],")",";",["T_WHITESPACE","\n            ",1607],["T_VARIABLE","$params",1608],["T_OBJECT_OPERATOR","->",1608],["T_STRING","setCountryRecipient",1608],"(",["T_STRING","self",1608],["T_DOUBLE_COLON","::",1608],["T_STRING","USA_COUNTRY_ID",1608],")",";",["T_WHITESPACE","\n        ",1608],"}",["T_WHITESPACE","\n\n        ",1609],["T_RETURN","return",1611],["T_WHITESPACE"," ",1611],["T_VARIABLE","$this",1611],["T_OBJECT_OPERATOR","->",1611],["T_STRING","_getAllowedContainers",1611],"(",["T_VARIABLE","$params",1611],")",";",["T_WHITESPACE","\n    ",1611],"}",["T_WHITESPACE","\n\n    ",1612],["T_DOC_COMMENT","\/**\n     * Return all container types of carrier\n     *\n     * @return array|bool\n     *\/",1614],["T_WHITESPACE","\n    ",1618],["T_PUBLIC","public",1619],["T_WHITESPACE"," ",1619],["T_FUNCTION","function",1619],["T_WHITESPACE"," ",1619],["T_STRING","getContainerTypesAll",1619],"(",")",["T_WHITESPACE","\n    ",1619],"{",["T_WHITESPACE","\n        ",1620],["T_RETURN","return",1621],["T_WHITESPACE"," ",1621],["T_VARIABLE","$this",1621],["T_OBJECT_OPERATOR","->",1621],["T_STRING","getCode",1621],"(",["T_CONSTANT_ENCAPSED_STRING","'packaging'",1621],")",";",["T_WHITESPACE","\n    ",1621],"}",["T_WHITESPACE","\n\n    ",1622],["T_DOC_COMMENT","\/**\n     * Return structured data of containers witch related with shipping methods\n     *\n     * @return array|bool\n     *\/",1624],["T_WHITESPACE","\n    ",1628],["T_PUBLIC","public",1629],["T_WHITESPACE"," ",1629],["T_FUNCTION","function",1629],["T_WHITESPACE"," ",1629],["T_STRING","getContainerTypesFilter",1629],"(",")",["T_WHITESPACE","\n    ",1629],"{",["T_WHITESPACE","\n        ",1630],["T_RETURN","return",1631],["T_WHITESPACE"," ",1631],["T_VARIABLE","$this",1631],["T_OBJECT_OPERATOR","->",1631],["T_STRING","getCode",1631],"(",["T_CONSTANT_ENCAPSED_STRING","'containers_filter'",1631],")",";",["T_WHITESPACE","\n    ",1631],"}",["T_WHITESPACE","\n\n    ",1632],["T_DOC_COMMENT","\/**\n     * Return delivery confirmation types of carrier\n     *\n     * @param Varien_Object|null $params\n     * @return array\n     *\/",1634],["T_WHITESPACE","\n    ",1639],["T_PUBLIC","public",1640],["T_WHITESPACE"," ",1640],["T_FUNCTION","function",1640],["T_WHITESPACE"," ",1640],["T_STRING","getDeliveryConfirmationTypes",1640],"(",["T_STRING","Varien_Object",1640],["T_WHITESPACE"," ",1640],["T_VARIABLE","$params",1640],["T_WHITESPACE"," ",1640],"=",["T_WHITESPACE"," ",1640],["T_STRING","null",1640],")",["T_WHITESPACE","\n    ",1640],"{",["T_WHITESPACE","\n        ",1641],["T_RETURN","return",1642],["T_WHITESPACE"," ",1642],["T_VARIABLE","$this",1642],["T_OBJECT_OPERATOR","->",1642],["T_STRING","getCode",1642],"(",["T_CONSTANT_ENCAPSED_STRING","'delivery_confirmation_types'",1642],")",";",["T_WHITESPACE","\n    ",1642],"}",["T_WHITESPACE","\n",1643],"}",["T_WHITESPACE","\n",1644]]