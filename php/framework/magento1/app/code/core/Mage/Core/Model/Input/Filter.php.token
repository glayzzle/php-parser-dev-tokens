[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Magento\n *\n * NOTICE OF LICENSE\n *\n * This source file is subject to the Open Software License (OSL 3.0)\n * that is bundled with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/opensource.org\/licenses\/osl-3.0.php\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@magento.com so we can send you a copy immediately.\n *\n * DISCLAIMER\n *\n * Do not edit or add to this file if you wish to upgrade Magento to newer\n * versions in the future. If you wish to customize Magento for your\n * needs please refer to http:\/\/www.magento.com for more information.\n *\n * @category    Mage\n * @package     Mage_Core\n * @copyright  Copyright (c) 2006-2016 X.commerce, Inc. and affiliates (http:\/\/www.magento.com)\n * @license    http:\/\/opensource.org\/licenses\/osl-3.0.php  Open Software License (OSL 3.0)\n *\/",2],["T_WHITESPACE","\n\n",25],["T_DOC_COMMENT","\/**\n * Filter data collector\n *\n * Model for multi-filtering all data which set to models\n * Example:\n * <code>\n * \/** @var $filter Mage_Core_Model_Input_Filter {@*}\n * $filter = Mage::getModel('core\/input_filter');\n * $filter->setFilters(array(\n *      'list_values' => array(\n *          'children_filters' => array( \/\/filters will applied to all children\n *              array(\n *                  'zend' => 'StringToUpper',\n *                  'args' => array('encoding' => 'utf-8')),\n *              array('zend' => 'StripTags')\n *          )\n *      ),\n *      'list_values_with_name' => array(\n *          'children_filters' => array(\n *              'item1' => array(\n *                  array(\n *                      'zend' => 'StringToUpper',\n *                      'args' => array('encoding' => 'utf-8'))),\n *              'item2' => array(\n *                  array('model' => 'core\/input_filter_maliciousCode')\n *              ),\n *              'item3' => array(\n *                  array(\n *                      'helper' => 'core',\n *                      'method' => 'stripTags',\n *                      'args' => array('<p> <div>', true))\n *              )\n *          )\n *      )\n *  ));\n *  $filter->addFilter('name2', new Zend_Filter_Alnum());\n *  $filter->addFilter('name1',\n *      array(\n *          'zend' => 'StringToUpper',\n *          'args' => array('encoding' => 'utf-8')));\n *  $filter->addFilter('name1', array('zend' => 'StripTags'), Zend_Filter::CHAIN_PREPEND);\n *  $filter->addFilters(protected $_filtersToAdd = array(\n *      'list_values_with_name' => array(\n *          'children_filters' => array(\n *              'deep_list' => array(\n *                  'children_filters' => array(\n *                      'sub1' => array(\n *                          array(\n *                              'zend' => 'StringToLower',\n *                              'args' => array('encoding' => 'utf-8'))),\n *                      'sub2' => array(array('zend' => 'Int'))\n *                  )\n *              )\n *          )\n *      )\n *  ));\n *  $filter->filter(array(\n *      'name1' => 'some <b>string<\/b>',\n *      'name2' => '888 555',\n *      'list_values' => array(\n *          'some <b>string2<\/b>',\n *          'some <p>string3<\/p>',\n *      ),\n *      'list_values_with_name' => array(\n *          'item1' => 'some <b onclick=\"alert(\\'2\\')\">string4<\/b>',\n *         'item2' => 'some <b onclick=\"alert(\\'1\\')\">string5<\/b>',\n *          'item3' => 'some <p>string5<\/p> <b>bold<\/b> <div>div<\/div>',\n *          'deep_list' => array(\n *              'sub1' => 'toLowString',\n *              'sub2' => '5 TO INT',\n *          )\n *      )\n *  ));\n * <\/code>\n *\n * @see Mage_Core_Model_Input_FilterTest    See this class for manual\n * @category   Mage\n * @package    Mage_Core\n * @author     Magento Api Team <api-team@magento.com>\n *\/",27],["T_WHITESPACE","\n",106],["T_CLASS","class",107],["T_WHITESPACE"," ",107],["T_STRING","Mage_Core_Model_Input_Filter",107],["T_WHITESPACE"," ",107],["T_IMPLEMENTS","implements",107],["T_WHITESPACE"," ",107],["T_STRING","Zend_Filter_Interface",107],["T_WHITESPACE","\n",107],"{",["T_WHITESPACE","\n    ",108],["T_DOC_COMMENT","\/**\n     * Filters data collectors\n     *\n     * @var array\n     *\/",109],["T_WHITESPACE","\n    ",113],["T_PROTECTED","protected",114],["T_WHITESPACE"," ",114],["T_VARIABLE","$_filters",114],["T_WHITESPACE"," ",114],"=",["T_WHITESPACE"," ",114],["T_ARRAY","array",114],"(",")",";",["T_WHITESPACE","\n\n    ",114],["T_DOC_COMMENT","\/**\n     * Add filter\n     *\n     * @param string $name\n     * @param array|Zend_Filter_Interface $filter\n     * @param string $placement\n     * @return Mage_Core_Model_Input_Filter\n     *\/",116],["T_WHITESPACE","\n    ",123],["T_PUBLIC","public",124],["T_WHITESPACE"," ",124],["T_FUNCTION","function",124],["T_WHITESPACE"," ",124],["T_STRING","addFilter",124],"(",["T_VARIABLE","$name",124],",",["T_WHITESPACE"," ",124],["T_VARIABLE","$filter",124],",",["T_WHITESPACE"," ",124],["T_VARIABLE","$placement",124],["T_WHITESPACE"," ",124],"=",["T_WHITESPACE"," ",124],["T_STRING","Zend_Filter",124],["T_DOUBLE_COLON","::",124],["T_STRING","CHAIN_APPEND",124],")",["T_WHITESPACE","\n    ",124],"{",["T_WHITESPACE","\n        ",125],["T_IF","if",126],["T_WHITESPACE"," ",126],"(",["T_VARIABLE","$placement",126],["T_WHITESPACE"," ",126],["T_IS_EQUAL","==",126],["T_WHITESPACE"," ",126],["T_STRING","Zend_Filter",126],["T_DOUBLE_COLON","::",126],["T_STRING","CHAIN_PREPEND",126],")",["T_WHITESPACE"," ",126],"{",["T_WHITESPACE","\n            ",126],["T_STRING","array_unshift",127],"(",["T_VARIABLE","$this",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","_filters",127],"[",["T_VARIABLE","$name",127],"]",",",["T_WHITESPACE"," ",127],["T_VARIABLE","$filter",127],")",";",["T_WHITESPACE","\n        ",127],"}",["T_WHITESPACE"," ",128],["T_ELSE","else",128],["T_WHITESPACE"," ",128],"{",["T_WHITESPACE","\n            ",128],["T_VARIABLE","$this",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","_filters",129],"[",["T_VARIABLE","$name",129],"]","[","]",["T_WHITESPACE"," ",129],"=",["T_WHITESPACE"," ",129],["T_VARIABLE","$filter",129],";",["T_WHITESPACE","\n        ",129],"}",["T_WHITESPACE","\n        ",130],["T_RETURN","return",131],["T_WHITESPACE"," ",131],["T_VARIABLE","$this",131],";",["T_WHITESPACE","\n    ",131],"}",["T_WHITESPACE","\n\n    ",132],["T_DOC_COMMENT","\/**\n     * Add a filter to the end of the chain\n     *\n     * @param  array|Zend_Filter_Interface $filter\n     * @return Mage_Core_Model_Input_Filter\n     *\/",134],["T_WHITESPACE","\n    ",139],["T_PUBLIC","public",140],["T_WHITESPACE"," ",140],["T_FUNCTION","function",140],["T_WHITESPACE"," ",140],["T_STRING","appendFilter",140],"(",["T_STRING","Zend_Filter_Interface",140],["T_WHITESPACE"," ",140],["T_VARIABLE","$filter",140],")",["T_WHITESPACE","\n    ",140],"{",["T_WHITESPACE","\n        ",141],["T_RETURN","return",142],["T_WHITESPACE"," ",142],["T_VARIABLE","$this",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","addFilter",142],"(",["T_VARIABLE","$filter",142],",",["T_WHITESPACE"," ",142],["T_STRING","Zend_Filter",142],["T_DOUBLE_COLON","::",142],["T_STRING","CHAIN_APPEND",142],")",";",["T_WHITESPACE","\n    ",142],"}",["T_WHITESPACE","\n\n    ",143],["T_DOC_COMMENT","\/**\n     * Add a filter to the start of the chain\n     *\n     * @param  array|Zend_Filter_Interface $filter\n     * @return Mage_Core_Model_Input_Filter\n     *\/",145],["T_WHITESPACE","\n    ",150],["T_PUBLIC","public",151],["T_WHITESPACE"," ",151],["T_FUNCTION","function",151],["T_WHITESPACE"," ",151],["T_STRING","prependFilter",151],"(",["T_VARIABLE","$filter",151],")",["T_WHITESPACE","\n    ",151],"{",["T_WHITESPACE","\n        ",152],["T_RETURN","return",153],["T_WHITESPACE"," ",153],["T_VARIABLE","$this",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","addFilter",153],"(",["T_VARIABLE","$filter",153],",",["T_WHITESPACE"," ",153],["T_STRING","Zend_Filter",153],["T_DOUBLE_COLON","::",153],["T_STRING","CHAIN_PREPEND",153],")",";",["T_WHITESPACE","\n    ",153],"}",["T_WHITESPACE","\n\n    ",154],["T_DOC_COMMENT","\/**\n     * Add filters\n     *\n     * Filters data must be has view as\n     *      array(\n     *          'key1' => $filters,\n     *          'key2' => array( ... ), \/\/array filters data\n     *          'key2' => $filters\n     *      )\n     *\n     * @param array $filters\n     * @return Mage_Core_Model_Input_Filter\n     *\/",156],["T_WHITESPACE","\n    ",168],["T_PUBLIC","public",169],["T_WHITESPACE"," ",169],["T_FUNCTION","function",169],["T_WHITESPACE"," ",169],["T_STRING","addFilters",169],"(",["T_ARRAY","array",169],["T_WHITESPACE"," ",169],["T_VARIABLE","$filters",169],")",["T_WHITESPACE","\n    ",169],"{",["T_WHITESPACE","\n        ",170],["T_VARIABLE","$this",171],["T_OBJECT_OPERATOR","->",171],["T_STRING","_filters",171],["T_WHITESPACE"," ",171],"=",["T_WHITESPACE"," ",171],["T_STRING","array_merge_recursive",171],"(",["T_VARIABLE","$this",171],["T_OBJECT_OPERATOR","->",171],["T_STRING","_filters",171],",",["T_WHITESPACE"," ",171],["T_VARIABLE","$filters",171],")",";",["T_WHITESPACE","\n        ",171],["T_RETURN","return",172],["T_WHITESPACE"," ",172],["T_VARIABLE","$this",172],";",["T_WHITESPACE","\n    ",172],"}",["T_WHITESPACE","\n\n    ",173],["T_DOC_COMMENT","\/**\n     * Set filters\n     *\n     * @param array $filters\n     * @return Mage_Core_Model_Input_Filter\n     *\/",175],["T_WHITESPACE","\n    ",180],["T_PUBLIC","public",181],["T_WHITESPACE"," ",181],["T_FUNCTION","function",181],["T_WHITESPACE"," ",181],["T_STRING","setFilters",181],"(",["T_ARRAY","array",181],["T_WHITESPACE"," ",181],["T_VARIABLE","$filters",181],")",["T_WHITESPACE","\n    ",181],"{",["T_WHITESPACE","\n        ",182],["T_VARIABLE","$this",183],["T_OBJECT_OPERATOR","->",183],["T_STRING","_filters",183],["T_WHITESPACE"," ",183],"=",["T_WHITESPACE"," ",183],["T_VARIABLE","$filters",183],";",["T_WHITESPACE","\n        ",183],["T_RETURN","return",184],["T_WHITESPACE"," ",184],["T_VARIABLE","$this",184],";",["T_WHITESPACE","\n    ",184],"}",["T_WHITESPACE","\n\n    ",185],["T_DOC_COMMENT","\/**\n     * Get filters\n     *\n     * @param string|null $name     Get filter for selected name\n     * @return array\n     *\/",187],["T_WHITESPACE","\n    ",192],["T_PUBLIC","public",193],["T_WHITESPACE"," ",193],["T_FUNCTION","function",193],["T_WHITESPACE"," ",193],["T_STRING","getFilters",193],"(",["T_VARIABLE","$name",193],["T_WHITESPACE"," ",193],"=",["T_WHITESPACE"," ",193],["T_STRING","null",193],")",["T_WHITESPACE","\n    ",193],"{",["T_WHITESPACE","\n        ",194],["T_IF","if",195],["T_WHITESPACE"," ",195],"(",["T_STRING","null",195],["T_WHITESPACE"," ",195],["T_IS_IDENTICAL","===",195],["T_WHITESPACE"," ",195],["T_VARIABLE","$name",195],")",["T_WHITESPACE"," ",195],"{",["T_WHITESPACE","\n            ",195],["T_RETURN","return",196],["T_WHITESPACE"," ",196],["T_VARIABLE","$this",196],["T_OBJECT_OPERATOR","->",196],["T_STRING","_filters",196],";",["T_WHITESPACE","\n        ",196],"}",["T_WHITESPACE"," ",197],["T_ELSE","else",197],["T_WHITESPACE"," ",197],"{",["T_WHITESPACE","\n            ",197],["T_RETURN","return",198],["T_WHITESPACE"," ",198],["T_ISSET","isset",198],"(",["T_VARIABLE","$this",198],["T_OBJECT_OPERATOR","->",198],["T_STRING","_filters",198],"[",["T_VARIABLE","$name",198],"]",")",["T_WHITESPACE"," ",198],"?",["T_WHITESPACE"," ",198],["T_VARIABLE","$this",198],["T_OBJECT_OPERATOR","->",198],["T_STRING","_filters",198],"[",["T_VARIABLE","$name",198],"]",["T_WHITESPACE"," ",198],":",["T_WHITESPACE"," ",198],["T_STRING","null",198],";",["T_WHITESPACE","\n        ",198],"}",["T_WHITESPACE","\n    ",199],"}",["T_WHITESPACE","\n\n    ",200],["T_DOC_COMMENT","\/**\n     * Filter data\n     *\n     * @param array $data\n     * @return array    Return filtered data\n     *\/",202],["T_WHITESPACE","\n    ",207],["T_PUBLIC","public",208],["T_WHITESPACE"," ",208],["T_FUNCTION","function",208],["T_WHITESPACE"," ",208],["T_STRING","filter",208],"(",["T_VARIABLE","$data",208],")",["T_WHITESPACE","\n    ",208],"{",["T_WHITESPACE","\n        ",209],["T_RETURN","return",210],["T_WHITESPACE"," ",210],["T_VARIABLE","$this",210],["T_OBJECT_OPERATOR","->",210],["T_STRING","_filter",210],"(",["T_VARIABLE","$data",210],")",";",["T_WHITESPACE","\n    ",210],"}",["T_WHITESPACE","\n\n    ",211],["T_DOC_COMMENT","\/**\n     * Recursive filtering\n     *\n     * @param array $data\n     * @param array|null $filters\n     * @param bool $isFilterListSimple\n     * @return array\n     * @throws Exception    Exception when filter is not found or not instance of defined instances\n     *\/",213],["T_WHITESPACE","\n    ",221],["T_PROTECTED","protected",222],["T_WHITESPACE"," ",222],["T_FUNCTION","function",222],["T_WHITESPACE"," ",222],["T_STRING","_filter",222],"(",["T_ARRAY","array",222],["T_WHITESPACE"," ",222],["T_VARIABLE","$data",222],",",["T_WHITESPACE"," ",222],"&",["T_VARIABLE","$filters",222],["T_WHITESPACE"," ",222],"=",["T_WHITESPACE"," ",222],["T_STRING","null",222],",",["T_WHITESPACE"," ",222],["T_VARIABLE","$isFilterListSimple",222],["T_WHITESPACE"," ",222],"=",["T_WHITESPACE"," ",222],["T_STRING","false",222],")",["T_WHITESPACE","\n    ",222],"{",["T_WHITESPACE","\n        ",223],["T_IF","if",224],["T_WHITESPACE"," ",224],"(",["T_STRING","null",224],["T_WHITESPACE"," ",224],["T_IS_IDENTICAL","===",224],["T_WHITESPACE"," ",224],["T_VARIABLE","$filters",224],")",["T_WHITESPACE"," ",224],"{",["T_WHITESPACE","\n            ",224],["T_VARIABLE","$filters",225],["T_WHITESPACE"," ",225],"=",["T_WHITESPACE"," ",225],"&",["T_VARIABLE","$this",225],["T_OBJECT_OPERATOR","->",225],["T_STRING","_filters",225],";",["T_WHITESPACE","\n        ",225],"}",["T_WHITESPACE","\n        ",226],["T_FOREACH","foreach",227],["T_WHITESPACE"," ",227],"(",["T_VARIABLE","$data",227],["T_WHITESPACE"," ",227],["T_AS","as",227],["T_WHITESPACE"," ",227],["T_VARIABLE","$key",227],["T_WHITESPACE"," ",227],["T_DOUBLE_ARROW","=>",227],["T_WHITESPACE"," ",227],["T_VARIABLE","$value",227],")",["T_WHITESPACE"," ",227],"{",["T_WHITESPACE","\n            ",227],["T_IF","if",228],["T_WHITESPACE"," ",228],"(","!",["T_VARIABLE","$isFilterListSimple",228],["T_WHITESPACE"," ",228],["T_BOOLEAN_AND","&&",228],["T_WHITESPACE"," ",228],"!",["T_EMPTY","empty",228],"(",["T_VARIABLE","$filters",228],"[",["T_VARIABLE","$key",228],"]",")",")",["T_WHITESPACE"," ",228],"{",["T_WHITESPACE","\n                ",228],["T_VARIABLE","$itemFilters",229],["T_WHITESPACE"," ",229],"=",["T_WHITESPACE"," ",229],["T_VARIABLE","$filters",229],"[",["T_VARIABLE","$key",229],"]",";",["T_WHITESPACE","\n            ",229],"}",["T_WHITESPACE"," ",230],["T_ELSEIF","elseif",230],["T_WHITESPACE"," ",230],"(",["T_VARIABLE","$isFilterListSimple",230],["T_WHITESPACE"," ",230],["T_BOOLEAN_AND","&&",230],["T_WHITESPACE"," ",230],"!",["T_EMPTY","empty",230],"(",["T_VARIABLE","$filters",230],")",")",["T_WHITESPACE"," ",230],"{",["T_WHITESPACE","\n                ",230],["T_VARIABLE","$itemFilters",231],["T_WHITESPACE"," ",231],"=",["T_WHITESPACE"," ",231],["T_VARIABLE","$filters",231],";",["T_WHITESPACE","\n            ",231],"}",["T_WHITESPACE"," ",232],["T_ELSE","else",232],["T_WHITESPACE"," ",232],"{",["T_WHITESPACE","\n                ",232],["T_CONTINUE","continue",233],";",["T_WHITESPACE","\n            ",233],"}",["T_WHITESPACE","\n\n            ",234],["T_IF","if",236],["T_WHITESPACE"," ",236],"(","!",["T_VARIABLE","$isFilterListSimple",236],["T_WHITESPACE"," ",236],["T_BOOLEAN_AND","&&",236],["T_WHITESPACE"," ",236],["T_STRING","is_array",236],"(",["T_VARIABLE","$value",236],")",["T_WHITESPACE"," ",236],["T_BOOLEAN_AND","&&",236],["T_WHITESPACE"," ",236],["T_ISSET","isset",236],"(",["T_VARIABLE","$filters",236],"[",["T_VARIABLE","$key",236],"]","[",["T_CONSTANT_ENCAPSED_STRING","'children_filters'",236],"]",")",")",["T_WHITESPACE"," ",236],"{",["T_WHITESPACE","\n                ",236],["T_VARIABLE","$isChildrenFilterListSimple",237],["T_WHITESPACE"," ",237],"=",["T_WHITESPACE"," ",237],["T_STRING","is_numeric",237],"(",["T_STRING","implode",237],"(",["T_CONSTANT_ENCAPSED_STRING","''",237],",",["T_WHITESPACE"," ",237],["T_STRING","array_keys",237],"(",["T_VARIABLE","$filters",237],"[",["T_VARIABLE","$key",237],"]","[",["T_CONSTANT_ENCAPSED_STRING","'children_filters'",237],"]",")",")",")",";",["T_WHITESPACE","\n                ",237],["T_VARIABLE","$value",238],["T_WHITESPACE"," ",238],"=",["T_WHITESPACE"," ",238],["T_VARIABLE","$this",238],["T_OBJECT_OPERATOR","->",238],["T_STRING","_filter",238],"(",["T_VARIABLE","$value",238],",",["T_WHITESPACE"," ",238],["T_VARIABLE","$filters",238],"[",["T_VARIABLE","$key",238],"]","[",["T_CONSTANT_ENCAPSED_STRING","'children_filters'",238],"]",",",["T_WHITESPACE"," ",238],["T_VARIABLE","$isChildrenFilterListSimple",238],")",";",["T_WHITESPACE","\n            ",238],"}",["T_WHITESPACE"," ",239],["T_ELSE","else",239],["T_WHITESPACE"," ",239],"{",["T_WHITESPACE","\n                ",239],["T_FOREACH","foreach",240],["T_WHITESPACE"," ",240],"(",["T_VARIABLE","$itemFilters",240],["T_WHITESPACE"," ",240],["T_AS","as",240],["T_WHITESPACE"," ",240],["T_VARIABLE","$filterData",240],")",["T_WHITESPACE"," ",240],"{",["T_WHITESPACE","\n                    ",240],["T_IF","if",241],["T_WHITESPACE"," ",241],"(",["T_VARIABLE","$zendFilter",241],["T_WHITESPACE"," ",241],"=",["T_WHITESPACE"," ",241],["T_VARIABLE","$this",241],["T_OBJECT_OPERATOR","->",241],["T_STRING","_getZendFilter",241],"(",["T_VARIABLE","$filterData",241],")",")",["T_WHITESPACE"," ",241],"{",["T_WHITESPACE","\n                        ",241],["T_VARIABLE","$value",242],["T_WHITESPACE"," ",242],"=",["T_WHITESPACE"," ",242],["T_VARIABLE","$zendFilter",242],["T_OBJECT_OPERATOR","->",242],["T_STRING","filter",242],"(",["T_VARIABLE","$value",242],")",";",["T_WHITESPACE","\n                    ",242],"}",["T_WHITESPACE"," ",243],["T_ELSEIF","elseif",243],["T_WHITESPACE"," ",243],"(",["T_VARIABLE","$filtrationHelper",243],["T_WHITESPACE"," ",243],"=",["T_WHITESPACE"," ",243],["T_VARIABLE","$this",243],["T_OBJECT_OPERATOR","->",243],["T_STRING","_getFiltrationHelper",243],"(",["T_VARIABLE","$filterData",243],")",")",["T_WHITESPACE"," ",243],"{",["T_WHITESPACE","\n                        ",243],["T_VARIABLE","$value",244],["T_WHITESPACE"," ",244],"=",["T_WHITESPACE"," ",244],["T_VARIABLE","$this",244],["T_OBJECT_OPERATOR","->",244],["T_STRING","_applyFiltrationWithHelper",244],"(",["T_VARIABLE","$value",244],",",["T_WHITESPACE"," ",244],["T_VARIABLE","$filtrationHelper",244],",",["T_WHITESPACE"," ",244],["T_VARIABLE","$filterData",244],")",";",["T_WHITESPACE","\n                    ",244],"}",["T_WHITESPACE","\n                ",245],"}",["T_WHITESPACE","\n            ",246],"}",["T_WHITESPACE","\n            ",247],["T_VARIABLE","$data",248],"[",["T_VARIABLE","$key",248],"]",["T_WHITESPACE"," ",248],"=",["T_WHITESPACE"," ",248],["T_VARIABLE","$value",248],";",["T_WHITESPACE","\n        ",248],"}",["T_WHITESPACE","\n        ",249],["T_RETURN","return",250],["T_WHITESPACE"," ",250],["T_VARIABLE","$data",250],";",["T_WHITESPACE","\n    ",250],"}",["T_WHITESPACE","\n\n    ",251],["T_DOC_COMMENT","\/**\n     * Call specified helper method for $value filtration\n     *\n     * @param mixed $value\n     * @param Mage_Core_Helper_Abstract $helper\n     * @param array $filterData\n     * @return mixed\n     *\/",253],["T_WHITESPACE","\n    ",260],["T_PROTECTED","protected",261],["T_WHITESPACE"," ",261],["T_FUNCTION","function",261],["T_WHITESPACE"," ",261],["T_STRING","_applyFiltrationWithHelper",261],"(",["T_VARIABLE","$value",261],",",["T_WHITESPACE"," ",261],["T_STRING","Mage_Core_Helper_Abstract",261],["T_WHITESPACE"," ",261],["T_VARIABLE","$helper",261],",",["T_WHITESPACE"," ",261],["T_ARRAY","array",261],["T_WHITESPACE"," ",261],["T_VARIABLE","$filterData",261],")",["T_WHITESPACE","\n    ",261],"{",["T_WHITESPACE","\n        ",262],["T_IF","if",263],["T_WHITESPACE"," ",263],"(","!",["T_ISSET","isset",263],"(",["T_VARIABLE","$filterData",263],"[",["T_CONSTANT_ENCAPSED_STRING","'method'",263],"]",")",["T_WHITESPACE"," ",263],["T_BOOLEAN_OR","||",263],["T_WHITESPACE"," ",263],["T_EMPTY","empty",263],"(",["T_VARIABLE","$filterData",263],"[",["T_CONSTANT_ENCAPSED_STRING","'method'",263],"]",")",")",["T_WHITESPACE"," ",263],"{",["T_WHITESPACE","\n            ",263],["T_THROW","throw",264],["T_WHITESPACE"," ",264],["T_NEW","new",264],["T_WHITESPACE"," ",264],["T_STRING","Exception",264],"(",["T_CONSTANT_ENCAPSED_STRING","\"Helper filtration method is not set\"",264],")",";",["T_WHITESPACE","\n        ",264],"}",["T_WHITESPACE","\n        ",265],["T_IF","if",266],["T_WHITESPACE"," ",266],"(","!",["T_ISSET","isset",266],"(",["T_VARIABLE","$filterData",266],"[",["T_CONSTANT_ENCAPSED_STRING","'args'",266],"]",")",["T_WHITESPACE"," ",266],["T_BOOLEAN_OR","||",266],["T_WHITESPACE"," ",266],["T_EMPTY","empty",266],"(",["T_VARIABLE","$filterData",266],"[",["T_CONSTANT_ENCAPSED_STRING","'args'",266],"]",")",")",["T_WHITESPACE"," ",266],"{",["T_WHITESPACE","\n            ",266],["T_VARIABLE","$filterData",267],"[",["T_CONSTANT_ENCAPSED_STRING","'args'",267],"]",["T_WHITESPACE"," ",267],"=",["T_WHITESPACE"," ",267],["T_ARRAY","array",267],"(",")",";",["T_WHITESPACE","\n        ",267],"}",["T_WHITESPACE","\n        ",268],["T_VARIABLE","$filterData",269],"[",["T_CONSTANT_ENCAPSED_STRING","'args'",269],"]",["T_WHITESPACE"," ",269],"=",["T_WHITESPACE"," ",269],["T_ARRAY","array",269],"(","-",["T_LNUMBER","100",269],["T_WHITESPACE"," ",269],["T_DOUBLE_ARROW","=>",269],["T_WHITESPACE"," ",269],["T_VARIABLE","$value",269],")",["T_WHITESPACE"," ",269],"+",["T_WHITESPACE"," ",269],["T_VARIABLE","$filterData",269],"[",["T_CONSTANT_ENCAPSED_STRING","'args'",269],"]",";",["T_WHITESPACE","\n        ",269],["T_COMMENT","\/\/ apply filter\n",270],["T_WHITESPACE","        ",271],["T_VARIABLE","$value",271],["T_WHITESPACE"," ",271],"=",["T_WHITESPACE"," ",271],["T_STRING","call_user_func_array",271],"(",["T_ARRAY","array",271],"(",["T_VARIABLE","$helper",271],",",["T_WHITESPACE"," ",271],["T_VARIABLE","$filterData",271],"[",["T_CONSTANT_ENCAPSED_STRING","'method'",271],"]",")",",",["T_WHITESPACE"," ",271],["T_VARIABLE","$filterData",271],"[",["T_CONSTANT_ENCAPSED_STRING","'args'",271],"]",")",";",["T_WHITESPACE","\n        ",271],["T_RETURN","return",272],["T_WHITESPACE"," ",272],["T_VARIABLE","$value",272],";",["T_WHITESPACE","\n    ",272],"}",["T_WHITESPACE","\n\n    ",273],["T_DOC_COMMENT","\/**\n     * Try to create Magento helper for filtration based on $filterData. Return false on failure\n     *\n     * @param $filterData\n     * @return bool|Mage_Core_Helper_Abstract\n     * @throws Exception\n     *\/",275],["T_WHITESPACE","\n    ",281],["T_PROTECTED","protected",282],["T_WHITESPACE"," ",282],["T_FUNCTION","function",282],["T_WHITESPACE"," ",282],["T_STRING","_getFiltrationHelper",282],"(",["T_VARIABLE","$filterData",282],")",["T_WHITESPACE","\n    ",282],"{",["T_WHITESPACE","\n        ",283],["T_VARIABLE","$helper",284],["T_WHITESPACE"," ",284],"=",["T_WHITESPACE"," ",284],["T_STRING","false",284],";",["T_WHITESPACE","\n        ",284],["T_IF","if",285],["T_WHITESPACE"," ",285],"(",["T_ISSET","isset",285],"(",["T_VARIABLE","$filterData",285],"[",["T_CONSTANT_ENCAPSED_STRING","'helper'",285],"]",")",")",["T_WHITESPACE"," ",285],"{",["T_WHITESPACE","\n            ",285],["T_VARIABLE","$helper",286],["T_WHITESPACE"," ",286],"=",["T_WHITESPACE"," ",286],["T_VARIABLE","$filterData",286],"[",["T_CONSTANT_ENCAPSED_STRING","'helper'",286],"]",";",["T_WHITESPACE","\n            ",286],["T_IF","if",287],["T_WHITESPACE"," ",287],"(",["T_STRING","is_string",287],"(",["T_VARIABLE","$helper",287],")",")",["T_WHITESPACE"," ",287],"{",["T_WHITESPACE","\n                ",287],["T_VARIABLE","$helper",288],["T_WHITESPACE"," ",288],"=",["T_WHITESPACE"," ",288],["T_STRING","Mage",288],["T_DOUBLE_COLON","::",288],["T_STRING","helper",288],"(",["T_VARIABLE","$helper",288],")",";",["T_WHITESPACE","\n            ",288],"}",["T_WHITESPACE","\n            ",289],["T_IF","if",290],["T_WHITESPACE"," ",290],"(","!","(",["T_VARIABLE","$helper",290],["T_WHITESPACE"," ",290],["T_INSTANCEOF","instanceof",290],["T_WHITESPACE"," ",290],["T_STRING","Mage_Core_Helper_Abstract",290],")",")",["T_WHITESPACE"," ",290],"{",["T_WHITESPACE","\n                ",290],["T_THROW","throw",291],["T_WHITESPACE"," ",291],["T_NEW","new",291],["T_WHITESPACE"," ",291],["T_STRING","Exception",291],"(","\"",["T_ENCAPSED_AND_WHITESPACE","Filter '",291],["T_CURLY_OPEN","{",291],["T_VARIABLE","$filterData",291],"[",["T_CONSTANT_ENCAPSED_STRING","'helper'",291],"]","}",["T_ENCAPSED_AND_WHITESPACE","' not found",291],"\"",")",";",["T_WHITESPACE","\n            ",291],"}",["T_WHITESPACE","\n        ",292],"}",["T_WHITESPACE","\n        ",293],["T_RETURN","return",294],["T_WHITESPACE"," ",294],["T_VARIABLE","$helper",294],";",["T_WHITESPACE","\n    ",294],"}",["T_WHITESPACE","\n\n    ",295],["T_DOC_COMMENT","\/**\n     * Try to create Zend filter based on $filterData. Return false on failure\n     *\n     * @param $filterData\n     * @return bool|Zend_Filter_Interface\n     *\/",297],["T_WHITESPACE","\n    ",302],["T_PROTECTED","protected",303],["T_WHITESPACE"," ",303],["T_FUNCTION","function",303],["T_WHITESPACE"," ",303],["T_STRING","_getZendFilter",303],"(",["T_VARIABLE","$filterData",303],")",["T_WHITESPACE","\n    ",303],"{",["T_WHITESPACE","\n        ",304],["T_VARIABLE","$zendFilter",305],["T_WHITESPACE"," ",305],"=",["T_WHITESPACE"," ",305],["T_STRING","false",305],";",["T_WHITESPACE","\n        ",305],["T_IF","if",306],["T_WHITESPACE"," ",306],"(",["T_STRING","is_object",306],"(",["T_VARIABLE","$filterData",306],")",["T_WHITESPACE"," ",306],["T_BOOLEAN_AND","&&",306],["T_WHITESPACE"," ",306],["T_VARIABLE","$filterData",306],["T_WHITESPACE"," ",306],["T_INSTANCEOF","instanceof",306],["T_WHITESPACE"," ",306],["T_STRING","Zend_Filter_Interface",306],")",["T_WHITESPACE"," ",306],"{",["T_WHITESPACE","\n            ",306],["T_DOC_COMMENT","\/** @var $zendFilter Zend_Filter_Interface *\/",307],["T_WHITESPACE","\n            ",307],["T_VARIABLE","$zendFilter",308],["T_WHITESPACE"," ",308],"=",["T_WHITESPACE"," ",308],["T_VARIABLE","$filterData",308],";",["T_WHITESPACE","\n        ",308],"}",["T_WHITESPACE"," ",309],["T_ELSEIF","elseif",309],["T_WHITESPACE"," ",309],"(",["T_ISSET","isset",309],"(",["T_VARIABLE","$filterData",309],"[",["T_CONSTANT_ENCAPSED_STRING","'model'",309],"]",")",")",["T_WHITESPACE"," ",309],"{",["T_WHITESPACE","\n            ",309],["T_VARIABLE","$zendFilter",310],["T_WHITESPACE"," ",310],"=",["T_WHITESPACE"," ",310],["T_VARIABLE","$this",310],["T_OBJECT_OPERATOR","->",310],["T_STRING","_createCustomZendFilter",310],"(",["T_VARIABLE","$filterData",310],")",";",["T_WHITESPACE","\n        ",310],"}",["T_WHITESPACE"," ",311],["T_ELSEIF","elseif",311],["T_WHITESPACE"," ",311],"(",["T_ISSET","isset",311],"(",["T_VARIABLE","$filterData",311],"[",["T_CONSTANT_ENCAPSED_STRING","'zend'",311],"]",")",")",["T_WHITESPACE"," ",311],"{",["T_WHITESPACE","\n            ",311],["T_VARIABLE","$zendFilter",312],["T_WHITESPACE"," ",312],"=",["T_WHITESPACE"," ",312],["T_VARIABLE","$this",312],["T_OBJECT_OPERATOR","->",312],["T_STRING","_createNativeZendFilter",312],"(",["T_VARIABLE","$filterData",312],")",";",["T_WHITESPACE","\n        ",312],"}",["T_WHITESPACE","\n        ",313],["T_RETURN","return",314],["T_WHITESPACE"," ",314],["T_VARIABLE","$zendFilter",314],";",["T_WHITESPACE","\n    ",314],"}",["T_WHITESPACE","\n\n    ",315],["T_DOC_COMMENT","\/**\n     * Get Magento filters\n     *\n     * @param $filterData\n     * @return Zend_Filter_Interface\n     * @throws Exception\n     *\/",317],["T_WHITESPACE","\n    ",323],["T_PROTECTED","protected",324],["T_WHITESPACE"," ",324],["T_FUNCTION","function",324],["T_WHITESPACE"," ",324],["T_STRING","_createCustomZendFilter",324],"(",["T_VARIABLE","$filterData",324],")",["T_WHITESPACE","\n    ",324],"{",["T_WHITESPACE","\n        ",325],["T_VARIABLE","$filter",326],["T_WHITESPACE"," ",326],"=",["T_WHITESPACE"," ",326],["T_VARIABLE","$filterData",326],"[",["T_CONSTANT_ENCAPSED_STRING","'model'",326],"]",";",["T_WHITESPACE","\n        ",326],["T_IF","if",327],["T_WHITESPACE"," ",327],"(","!",["T_ISSET","isset",327],"(",["T_VARIABLE","$filterData",327],"[",["T_CONSTANT_ENCAPSED_STRING","'args'",327],"]",")",")",["T_WHITESPACE"," ",327],"{",["T_WHITESPACE","\n            ",327],["T_VARIABLE","$filterData",328],"[",["T_CONSTANT_ENCAPSED_STRING","'args'",328],"]",["T_WHITESPACE"," ",328],"=",["T_WHITESPACE"," ",328],["T_STRING","null",328],";",["T_WHITESPACE","\n        ",328],"}",["T_WHITESPACE"," ",329],["T_ELSE","else",329],["T_WHITESPACE"," ",329],"{",["T_WHITESPACE","\n            ",329],["T_COMMENT","\/\/use only first element because Mage factory cannot get more\n",330],["T_WHITESPACE","            ",331],["T_VARIABLE","$filterData",331],"[",["T_CONSTANT_ENCAPSED_STRING","'args'",331],"]",["T_WHITESPACE"," ",331],"=",["T_WHITESPACE"," ",331],["T_VARIABLE","$filterData",331],"[",["T_CONSTANT_ENCAPSED_STRING","'args'",331],"]","[",["T_LNUMBER","0",331],"]",";",["T_WHITESPACE","\n        ",331],"}",["T_WHITESPACE","\n        ",332],["T_IF","if",333],["T_WHITESPACE"," ",333],"(",["T_STRING","is_string",333],"(",["T_VARIABLE","$filterData",333],"[",["T_CONSTANT_ENCAPSED_STRING","'model'",333],"]",")",")",["T_WHITESPACE"," ",333],"{",["T_WHITESPACE","\n            ",333],["T_VARIABLE","$filter",334],["T_WHITESPACE"," ",334],"=",["T_WHITESPACE"," ",334],["T_STRING","Mage",334],["T_DOUBLE_COLON","::",334],["T_STRING","getModel",334],"(",["T_VARIABLE","$filterData",334],"[",["T_CONSTANT_ENCAPSED_STRING","'model'",334],"]",",",["T_WHITESPACE"," ",334],["T_VARIABLE","$filterData",334],"[",["T_CONSTANT_ENCAPSED_STRING","'args'",334],"]",")",";",["T_WHITESPACE","\n        ",334],"}",["T_WHITESPACE","\n        ",335],["T_IF","if",336],["T_WHITESPACE"," ",336],"(","!","(",["T_VARIABLE","$filter",336],["T_WHITESPACE"," ",336],["T_INSTANCEOF","instanceof",336],["T_WHITESPACE"," ",336],["T_STRING","Zend_Filter_Interface",336],")",")",["T_WHITESPACE"," ",336],"{",["T_WHITESPACE","\n            ",336],["T_THROW","throw",337],["T_WHITESPACE"," ",337],["T_NEW","new",337],["T_WHITESPACE"," ",337],["T_STRING","Exception",337],"(",["T_CONSTANT_ENCAPSED_STRING","'Filter is not instance of Zend_Filter_Interface'",337],")",";",["T_WHITESPACE","\n        ",337],"}",["T_WHITESPACE","\n        ",338],["T_RETURN","return",339],["T_WHITESPACE"," ",339],["T_VARIABLE","$filter",339],";",["T_WHITESPACE","\n    ",339],"}",["T_WHITESPACE","\n\n    ",340],["T_DOC_COMMENT","\/**\n     * Get native Zend_Filter\n     *\n     * @param $filterData\n     * @return Zend_Filter_Interface\n     * @throws Exception\n     *\/",342],["T_WHITESPACE","\n    ",348],["T_PROTECTED","protected",349],["T_WHITESPACE"," ",349],["T_FUNCTION","function",349],["T_WHITESPACE"," ",349],["T_STRING","_createNativeZendFilter",349],"(",["T_VARIABLE","$filterData",349],")",["T_WHITESPACE","\n    ",349],"{",["T_WHITESPACE","\n        ",350],["T_VARIABLE","$filter",351],["T_WHITESPACE"," ",351],"=",["T_WHITESPACE"," ",351],["T_VARIABLE","$filterData",351],"[",["T_CONSTANT_ENCAPSED_STRING","'zend'",351],"]",";",["T_WHITESPACE","\n        ",351],["T_IF","if",352],["T_WHITESPACE"," ",352],"(",["T_STRING","is_string",352],"(",["T_VARIABLE","$filter",352],")",")",["T_WHITESPACE"," ",352],"{",["T_WHITESPACE","\n            ",352],["T_VARIABLE","$class",353],["T_WHITESPACE"," ",353],"=",["T_WHITESPACE"," ",353],["T_NEW","new",353],["T_WHITESPACE"," ",353],["T_STRING","ReflectionClass",353],"(",["T_CONSTANT_ENCAPSED_STRING","'Zend_Filter_'",353],["T_WHITESPACE"," ",353],".",["T_WHITESPACE"," ",353],["T_VARIABLE","$filter",353],")",";",["T_WHITESPACE","\n            ",353],["T_IF","if",354],["T_WHITESPACE"," ",354],"(",["T_VARIABLE","$class",354],["T_OBJECT_OPERATOR","->",354],["T_STRING","implementsInterface",354],"(",["T_CONSTANT_ENCAPSED_STRING","'Zend_Filter_Interface'",354],")",")",["T_WHITESPACE"," ",354],"{",["T_WHITESPACE","\n                ",354],["T_IF","if",355],["T_WHITESPACE"," ",355],"(",["T_ISSET","isset",355],"(",["T_VARIABLE","$filterData",355],"[",["T_CONSTANT_ENCAPSED_STRING","'args'",355],"]",")",["T_WHITESPACE"," ",355],["T_BOOLEAN_AND","&&",355],["T_WHITESPACE"," ",355],["T_VARIABLE","$class",355],["T_OBJECT_OPERATOR","->",355],["T_STRING","hasMethod",355],"(",["T_CONSTANT_ENCAPSED_STRING","'__construct'",355],")",")",["T_WHITESPACE"," ",355],"{",["T_WHITESPACE","\n                    ",355],["T_VARIABLE","$filter",356],["T_WHITESPACE"," ",356],"=",["T_WHITESPACE"," ",356],["T_VARIABLE","$class",356],["T_OBJECT_OPERATOR","->",356],["T_STRING","newInstanceArgs",356],"(",["T_VARIABLE","$filterData",356],"[",["T_CONSTANT_ENCAPSED_STRING","'args'",356],"]",")",";",["T_WHITESPACE","\n                ",356],"}",["T_WHITESPACE"," ",357],["T_ELSE","else",357],["T_WHITESPACE"," ",357],"{",["T_WHITESPACE","\n                    ",357],["T_VARIABLE","$filter",358],["T_WHITESPACE"," ",358],"=",["T_WHITESPACE"," ",358],["T_VARIABLE","$class",358],["T_OBJECT_OPERATOR","->",358],["T_STRING","newInstance",358],"(",")",";",["T_WHITESPACE","\n                ",358],"}",["T_WHITESPACE","\n            ",359],"}",["T_WHITESPACE"," ",360],["T_ELSE","else",360],["T_WHITESPACE"," ",360],"{",["T_WHITESPACE","\n                ",360],["T_THROW","throw",361],["T_WHITESPACE"," ",361],["T_NEW","new",361],["T_WHITESPACE"," ",361],["T_STRING","Exception",361],"(",["T_CONSTANT_ENCAPSED_STRING","'Filter is not instance of Zend_Filter_Interface'",361],")",";",["T_WHITESPACE","\n            ",361],"}",["T_WHITESPACE","\n        ",362],"}",["T_WHITESPACE","\n        ",363],["T_RETURN","return",364],["T_WHITESPACE"," ",364],["T_VARIABLE","$filter",364],";",["T_WHITESPACE","\n    ",364],"}",["T_WHITESPACE","\n",365],"}",["T_WHITESPACE","\n",366]]