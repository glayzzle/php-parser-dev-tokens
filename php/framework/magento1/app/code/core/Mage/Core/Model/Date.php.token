[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Magento\n *\n * NOTICE OF LICENSE\n *\n * This source file is subject to the Open Software License (OSL 3.0)\n * that is bundled with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/opensource.org\/licenses\/osl-3.0.php\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@magento.com so we can send you a copy immediately.\n *\n * DISCLAIMER\n *\n * Do not edit or add to this file if you wish to upgrade Magento to newer\n * versions in the future. If you wish to customize Magento for your\n * needs please refer to http:\/\/www.magento.com for more information.\n *\n * @category    Mage\n * @package     Mage_Core\n * @copyright  Copyright (c) 2006-2016 X.commerce, Inc. and affiliates (http:\/\/www.magento.com)\n * @license    http:\/\/opensource.org\/licenses\/osl-3.0.php  Open Software License (OSL 3.0)\n *\/",2],["T_WHITESPACE","\n\n\n",25],["T_DOC_COMMENT","\/**\n * Date conversion model\n *\n * @author      Magento Core Team <core@magentocommerce.com>\n *\/",28],["T_WHITESPACE","\n",32],["T_CLASS","class",33],["T_WHITESPACE"," ",33],["T_STRING","Mage_Core_Model_Date",33],["T_WHITESPACE","\n",33],"{",["T_WHITESPACE","\n    ",34],["T_DOC_COMMENT","\/**\n     * Current config offset in seconds\n     *\n     * @var int\n     *\/",35],["T_WHITESPACE","\n    ",39],["T_PRIVATE","private",40],["T_WHITESPACE"," ",40],["T_VARIABLE","$_offset",40],["T_WHITESPACE"," ",40],"=",["T_WHITESPACE"," ",40],["T_LNUMBER","0",40],";",["T_WHITESPACE","\n\n    ",40],["T_DOC_COMMENT","\/**\n     * Current system offset in seconds\n     *\n     * @var int\n     *\/",42],["T_WHITESPACE","\n    ",46],["T_PRIVATE","private",47],["T_WHITESPACE"," ",47],["T_VARIABLE","$_systemOffset",47],["T_WHITESPACE"," ",47],"=",["T_WHITESPACE"," ",47],["T_LNUMBER","0",47],";",["T_WHITESPACE","\n\n    ",47],["T_DOC_COMMENT","\/**\n     * Init offset\n     *\n     *\/",49],["T_WHITESPACE","\n    ",52],["T_PUBLIC","public",53],["T_WHITESPACE"," ",53],["T_FUNCTION","function",53],["T_WHITESPACE"," ",53],["T_STRING","__construct",53],"(",")",["T_WHITESPACE","\n    ",53],"{",["T_WHITESPACE","\n        ",54],["T_VARIABLE","$this",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","_offset",55],["T_WHITESPACE"," ",55],"=",["T_WHITESPACE"," ",55],["T_VARIABLE","$this",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","calculateOffset",55],"(",["T_VARIABLE","$this",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","_getConfigTimezone",55],"(",")",")",";",["T_WHITESPACE","\n        ",55],["T_VARIABLE","$this",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","_systemOffset",56],["T_WHITESPACE"," ",56],"=",["T_WHITESPACE"," ",56],["T_VARIABLE","$this",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","calculateOffset",56],"(",")",";",["T_WHITESPACE","\n    ",56],"}",["T_WHITESPACE","\n\n    ",57],["T_DOC_COMMENT","\/**\n     * Gets the store config timezone\n     *\n     * @return string\n     *\/",59],["T_WHITESPACE","\n    ",63],["T_PROTECTED","protected",64],["T_WHITESPACE"," ",64],["T_FUNCTION","function",64],["T_WHITESPACE"," ",64],["T_STRING","_getConfigTimezone",64],"(",")",["T_WHITESPACE","\n    ",64],"{",["T_WHITESPACE","\n        ",65],["T_RETURN","return",66],["T_WHITESPACE"," ",66],["T_STRING","Mage",66],["T_DOUBLE_COLON","::",66],["T_STRING","app",66],"(",")",["T_OBJECT_OPERATOR","->",66],["T_STRING","getStore",66],"(",")",["T_OBJECT_OPERATOR","->",66],["T_STRING","getConfig",66],"(",["T_CONSTANT_ENCAPSED_STRING","'general\/locale\/timezone'",66],")",";",["T_WHITESPACE","\n    ",66],"}",["T_WHITESPACE","\n\n    ",67],["T_DOC_COMMENT","\/**\n     * Calculates timezone offset\n     *\n     * @param  string $timezone\n     * @return int offset between timezone and gmt\n     *\/",69],["T_WHITESPACE","\n    ",74],["T_PUBLIC","public",75],["T_WHITESPACE"," ",75],["T_FUNCTION","function",75],["T_WHITESPACE"," ",75],["T_STRING","calculateOffset",75],"(",["T_VARIABLE","$timezone",75],["T_WHITESPACE"," ",75],"=",["T_WHITESPACE"," ",75],["T_STRING","null",75],")",["T_WHITESPACE","\n    ",75],"{",["T_WHITESPACE","\n        ",76],["T_VARIABLE","$result",77],["T_WHITESPACE"," ",77],"=",["T_WHITESPACE"," ",77],["T_STRING","true",77],";",["T_WHITESPACE","\n        ",77],["T_VARIABLE","$offset",78],["T_WHITESPACE"," ",78],"=",["T_WHITESPACE"," ",78],["T_LNUMBER","0",78],";",["T_WHITESPACE","\n\n        ",78],["T_IF","if",80],["T_WHITESPACE"," ",80],"(","!",["T_STRING","is_null",80],"(",["T_VARIABLE","$timezone",80],")",")","{",["T_WHITESPACE","\n            ",80],["T_VARIABLE","$oldzone",81],["T_WHITESPACE"," ",81],"=",["T_WHITESPACE"," ",81],"@",["T_STRING","date_default_timezone_get",81],"(",")",";",["T_WHITESPACE","\n            ",81],["T_VARIABLE","$result",82],["T_WHITESPACE"," ",82],"=",["T_WHITESPACE"," ",82],["T_STRING","date_default_timezone_set",82],"(",["T_VARIABLE","$timezone",82],")",";",["T_WHITESPACE","\n        ",82],"}",["T_WHITESPACE","\n\n        ",83],["T_IF","if",85],["T_WHITESPACE"," ",85],"(",["T_VARIABLE","$result",85],["T_WHITESPACE"," ",85],["T_IS_IDENTICAL","===",85],["T_WHITESPACE"," ",85],["T_STRING","true",85],")",["T_WHITESPACE"," ",85],"{",["T_WHITESPACE","\n            ",85],["T_VARIABLE","$offset",86],["T_WHITESPACE"," ",86],"=",["T_WHITESPACE"," ",86],["T_INT_CAST","(int)",86],["T_STRING","date",86],"(",["T_CONSTANT_ENCAPSED_STRING","'Z'",86],")",";",["T_WHITESPACE","\n        ",86],"}",["T_WHITESPACE","\n\n        ",87],["T_IF","if",89],["T_WHITESPACE"," ",89],"(","!",["T_STRING","is_null",89],"(",["T_VARIABLE","$timezone",89],")",")","{",["T_WHITESPACE","\n            ",89],["T_STRING","date_default_timezone_set",90],"(",["T_VARIABLE","$oldzone",90],")",";",["T_WHITESPACE","\n        ",90],"}",["T_WHITESPACE","\n\n        ",91],["T_RETURN","return",93],["T_WHITESPACE"," ",93],["T_VARIABLE","$offset",93],";",["T_WHITESPACE","\n    ",93],"}",["T_WHITESPACE","\n\n    ",94],["T_DOC_COMMENT","\/**\n     * Forms GMT date\n     *\n     * @param  string $format\n     * @param  int|string $input date in current timezone\n     * @return string\n     *\/",96],["T_WHITESPACE","\n    ",102],["T_PUBLIC","public",103],["T_WHITESPACE"," ",103],["T_FUNCTION","function",103],["T_WHITESPACE"," ",103],["T_STRING","gmtDate",103],"(",["T_VARIABLE","$format",103],["T_WHITESPACE"," ",103],"=",["T_WHITESPACE"," ",103],["T_STRING","null",103],",",["T_WHITESPACE"," ",103],["T_VARIABLE","$input",103],["T_WHITESPACE"," ",103],"=",["T_WHITESPACE"," ",103],["T_STRING","null",103],")",["T_WHITESPACE","\n    ",103],"{",["T_WHITESPACE","\n        ",104],["T_IF","if",105],["T_WHITESPACE"," ",105],"(",["T_STRING","is_null",105],"(",["T_VARIABLE","$format",105],")",")",["T_WHITESPACE"," ",105],"{",["T_WHITESPACE","\n            ",105],["T_VARIABLE","$format",106],["T_WHITESPACE"," ",106],"=",["T_WHITESPACE"," ",106],["T_CONSTANT_ENCAPSED_STRING","'Y-m-d H:i:s'",106],";",["T_WHITESPACE","\n        ",106],"}",["T_WHITESPACE","\n\n        ",107],["T_VARIABLE","$date",109],["T_WHITESPACE"," ",109],"=",["T_WHITESPACE"," ",109],["T_VARIABLE","$this",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","gmtTimestamp",109],"(",["T_VARIABLE","$input",109],")",";",["T_WHITESPACE","\n\n        ",109],["T_IF","if",111],["T_WHITESPACE"," ",111],"(",["T_VARIABLE","$date",111],["T_WHITESPACE"," ",111],["T_IS_IDENTICAL","===",111],["T_WHITESPACE"," ",111],["T_STRING","false",111],")",["T_WHITESPACE"," ",111],"{",["T_WHITESPACE","\n            ",111],["T_RETURN","return",112],["T_WHITESPACE"," ",112],["T_STRING","false",112],";",["T_WHITESPACE","\n        ",112],"}",["T_WHITESPACE","\n\n        ",113],["T_VARIABLE","$result",115],["T_WHITESPACE"," ",115],"=",["T_WHITESPACE"," ",115],["T_STRING","date",115],"(",["T_VARIABLE","$format",115],",",["T_WHITESPACE"," ",115],["T_VARIABLE","$date",115],")",";",["T_WHITESPACE","\n        ",115],["T_RETURN","return",116],["T_WHITESPACE"," ",116],["T_VARIABLE","$result",116],";",["T_WHITESPACE","\n    ",116],"}",["T_WHITESPACE","\n\n    ",117],["T_DOC_COMMENT","\/**\n     * Converts input date into date with timezone offset\n     * Input date must be in GMT timezone\n     *\n     * @param  string $format\n     * @param  int|string $input date in GMT timezone\n     * @return string\n     *\/",119],["T_WHITESPACE","\n    ",126],["T_PUBLIC","public",127],["T_WHITESPACE"," ",127],["T_FUNCTION","function",127],["T_WHITESPACE"," ",127],["T_STRING","date",127],"(",["T_VARIABLE","$format",127],["T_WHITESPACE"," ",127],"=",["T_WHITESPACE"," ",127],["T_STRING","null",127],",",["T_WHITESPACE"," ",127],["T_VARIABLE","$input",127],["T_WHITESPACE"," ",127],"=",["T_WHITESPACE"," ",127],["T_STRING","null",127],")",["T_WHITESPACE","\n    ",127],"{",["T_WHITESPACE","\n        ",128],["T_IF","if",129],["T_WHITESPACE"," ",129],"(",["T_STRING","is_null",129],"(",["T_VARIABLE","$format",129],")",")",["T_WHITESPACE"," ",129],"{",["T_WHITESPACE","\n            ",129],["T_VARIABLE","$format",130],["T_WHITESPACE"," ",130],"=",["T_WHITESPACE"," ",130],["T_CONSTANT_ENCAPSED_STRING","'Y-m-d H:i:s'",130],";",["T_WHITESPACE","\n        ",130],"}",["T_WHITESPACE","\n\n        ",131],["T_VARIABLE","$result",133],["T_WHITESPACE"," ",133],"=",["T_WHITESPACE"," ",133],["T_STRING","date",133],"(",["T_VARIABLE","$format",133],",",["T_WHITESPACE"," ",133],["T_VARIABLE","$this",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","timestamp",133],"(",["T_VARIABLE","$input",133],")",")",";",["T_WHITESPACE","\n        ",133],["T_RETURN","return",134],["T_WHITESPACE"," ",134],["T_VARIABLE","$result",134],";",["T_WHITESPACE","\n    ",134],"}",["T_WHITESPACE","\n\n    ",135],["T_DOC_COMMENT","\/**\n     * Forms GMT timestamp\n     *\n     * @param  int|string $input date in current timezone\n     * @return int\n     *\/",137],["T_WHITESPACE","\n    ",142],["T_PUBLIC","public",143],["T_WHITESPACE"," ",143],["T_FUNCTION","function",143],["T_WHITESPACE"," ",143],["T_STRING","gmtTimestamp",143],"(",["T_VARIABLE","$input",143],["T_WHITESPACE"," ",143],"=",["T_WHITESPACE"," ",143],["T_STRING","null",143],")",["T_WHITESPACE","\n    ",143],"{",["T_WHITESPACE","\n        ",144],["T_IF","if",145],["T_WHITESPACE"," ",145],"(",["T_STRING","is_null",145],"(",["T_VARIABLE","$input",145],")",")",["T_WHITESPACE"," ",145],"{",["T_WHITESPACE","\n            ",145],["T_RETURN","return",146],["T_WHITESPACE"," ",146],["T_STRING","gmdate",146],"(",["T_CONSTANT_ENCAPSED_STRING","'U'",146],")",";",["T_WHITESPACE","\n        ",146],"}",["T_WHITESPACE"," ",147],["T_ELSE","else",147],["T_WHITESPACE"," ",147],["T_IF","if",147],["T_WHITESPACE"," ",147],"(",["T_STRING","is_numeric",147],"(",["T_VARIABLE","$input",147],")",")",["T_WHITESPACE"," ",147],"{",["T_WHITESPACE","\n            ",147],["T_VARIABLE","$result",148],["T_WHITESPACE"," ",148],"=",["T_WHITESPACE"," ",148],["T_VARIABLE","$input",148],";",["T_WHITESPACE","\n        ",148],"}",["T_WHITESPACE"," ",149],["T_ELSE","else",149],["T_WHITESPACE"," ",149],"{",["T_WHITESPACE","\n            ",149],["T_VARIABLE","$result",150],["T_WHITESPACE"," ",150],"=",["T_WHITESPACE"," ",150],["T_STRING","strtotime",150],"(",["T_VARIABLE","$input",150],")",";",["T_WHITESPACE","\n        ",150],"}",["T_WHITESPACE","\n\n        ",151],["T_IF","if",153],["T_WHITESPACE"," ",153],"(",["T_VARIABLE","$result",153],["T_WHITESPACE"," ",153],["T_IS_IDENTICAL","===",153],["T_WHITESPACE"," ",153],["T_STRING","false",153],")",["T_WHITESPACE"," ",153],"{",["T_WHITESPACE","\n            ",153],["T_COMMENT","\/\/ strtotime() unable to parse string (it's not a date or has incorrect format)\n",154],["T_WHITESPACE","            ",155],["T_RETURN","return",155],["T_WHITESPACE"," ",155],["T_STRING","false",155],";",["T_WHITESPACE","\n        ",155],"}",["T_WHITESPACE","\n\n        ",156],["T_VARIABLE","$date",158],["T_WHITESPACE","      ",158],"=",["T_WHITESPACE"," ",158],["T_STRING","Mage",158],["T_DOUBLE_COLON","::",158],["T_STRING","app",158],"(",")",["T_OBJECT_OPERATOR","->",158],["T_STRING","getLocale",158],"(",")",["T_OBJECT_OPERATOR","->",158],["T_STRING","date",158],"(",["T_VARIABLE","$result",158],")",";",["T_WHITESPACE","\n        ",158],["T_VARIABLE","$timestamp",159],["T_WHITESPACE"," ",159],"=",["T_WHITESPACE"," ",159],["T_VARIABLE","$date",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","get",159],"(",["T_STRING","Zend_Date",159],["T_DOUBLE_COLON","::",159],["T_STRING","TIMESTAMP",159],")",["T_WHITESPACE"," ",159],"-",["T_WHITESPACE"," ",159],["T_VARIABLE","$date",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","get",159],"(",["T_STRING","Zend_Date",159],["T_DOUBLE_COLON","::",159],["T_STRING","TIMEZONE_SECS",159],")",";",["T_WHITESPACE","\n\n        ",159],["T_UNSET","unset",161],"(",["T_VARIABLE","$date",161],")",";",["T_WHITESPACE","\n        ",161],["T_RETURN","return",162],["T_WHITESPACE"," ",162],["T_VARIABLE","$timestamp",162],";",["T_WHITESPACE","\n\n    ",162],"}",["T_WHITESPACE","\n\n    ",164],["T_DOC_COMMENT","\/**\n     * Converts input date into timestamp with timezone offset\n     * Input date must be in GMT timezone\n     *\n     * @param  int|string $input date in GMT timezone\n     * @return int\n     *\/",166],["T_WHITESPACE","\n    ",172],["T_PUBLIC","public",173],["T_WHITESPACE"," ",173],["T_FUNCTION","function",173],["T_WHITESPACE"," ",173],["T_STRING","timestamp",173],"(",["T_VARIABLE","$input",173],["T_WHITESPACE"," ",173],"=",["T_WHITESPACE"," ",173],["T_STRING","null",173],")",["T_WHITESPACE","\n    ",173],"{",["T_WHITESPACE","\n        ",174],["T_IF","if",175],["T_WHITESPACE"," ",175],"(",["T_STRING","is_null",175],"(",["T_VARIABLE","$input",175],")",")",["T_WHITESPACE"," ",175],"{",["T_WHITESPACE","\n            ",175],["T_VARIABLE","$result",176],["T_WHITESPACE"," ",176],"=",["T_WHITESPACE"," ",176],["T_VARIABLE","$this",176],["T_OBJECT_OPERATOR","->",176],["T_STRING","gmtTimestamp",176],"(",")",";",["T_WHITESPACE","\n        ",176],"}",["T_WHITESPACE"," ",177],["T_ELSE","else",177],["T_WHITESPACE"," ",177],["T_IF","if",177],["T_WHITESPACE"," ",177],"(",["T_STRING","is_numeric",177],"(",["T_VARIABLE","$input",177],")",")",["T_WHITESPACE"," ",177],"{",["T_WHITESPACE","\n            ",177],["T_VARIABLE","$result",178],["T_WHITESPACE"," ",178],"=",["T_WHITESPACE"," ",178],["T_VARIABLE","$input",178],";",["T_WHITESPACE","\n        ",178],"}",["T_WHITESPACE"," ",179],["T_ELSE","else",179],["T_WHITESPACE"," ",179],"{",["T_WHITESPACE","\n            ",179],["T_VARIABLE","$result",180],["T_WHITESPACE"," ",180],"=",["T_WHITESPACE"," ",180],["T_STRING","strtotime",180],"(",["T_VARIABLE","$input",180],")",";",["T_WHITESPACE","\n        ",180],"}",["T_WHITESPACE","\n\n        ",181],["T_VARIABLE","$date",183],["T_WHITESPACE","      ",183],"=",["T_WHITESPACE"," ",183],["T_STRING","Mage",183],["T_DOUBLE_COLON","::",183],["T_STRING","app",183],"(",")",["T_OBJECT_OPERATOR","->",183],["T_STRING","getLocale",183],"(",")",["T_OBJECT_OPERATOR","->",183],["T_STRING","date",183],"(",["T_VARIABLE","$result",183],")",";",["T_WHITESPACE","\n        ",183],["T_VARIABLE","$timestamp",184],["T_WHITESPACE"," ",184],"=",["T_WHITESPACE"," ",184],["T_VARIABLE","$date",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","get",184],"(",["T_STRING","Zend_Date",184],["T_DOUBLE_COLON","::",184],["T_STRING","TIMESTAMP",184],")",["T_WHITESPACE"," ",184],"+",["T_WHITESPACE"," ",184],["T_VARIABLE","$date",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","get",184],"(",["T_STRING","Zend_Date",184],["T_DOUBLE_COLON","::",184],["T_STRING","TIMEZONE_SECS",184],")",";",["T_WHITESPACE","\n\n        ",184],["T_UNSET","unset",186],"(",["T_VARIABLE","$date",186],")",";",["T_WHITESPACE","\n        ",186],["T_RETURN","return",187],["T_WHITESPACE"," ",187],["T_VARIABLE","$timestamp",187],";",["T_WHITESPACE","\n    ",187],"}",["T_WHITESPACE","\n\n    ",188],["T_DOC_COMMENT","\/**\n     * Get current timezone offset in seconds\/minutes\/hours\n     *\n     * @param  string $type\n     * @return int\n     *\/",190],["T_WHITESPACE","\n    ",195],["T_PUBLIC","public",196],["T_WHITESPACE"," ",196],["T_FUNCTION","function",196],["T_WHITESPACE"," ",196],["T_STRING","getGmtOffset",196],"(",["T_VARIABLE","$type",196],["T_WHITESPACE"," ",196],"=",["T_WHITESPACE"," ",196],["T_CONSTANT_ENCAPSED_STRING","'seconds'",196],")",["T_WHITESPACE","\n    ",196],"{",["T_WHITESPACE","\n        ",197],["T_VARIABLE","$result",198],["T_WHITESPACE"," ",198],"=",["T_WHITESPACE"," ",198],["T_VARIABLE","$this",198],["T_OBJECT_OPERATOR","->",198],["T_STRING","_offset",198],";",["T_WHITESPACE","\n        ",198],["T_SWITCH","switch",199],["T_WHITESPACE"," ",199],"(",["T_VARIABLE","$type",199],")",["T_WHITESPACE"," ",199],"{",["T_WHITESPACE","\n            ",199],["T_CASE","case",200],["T_WHITESPACE"," ",200],["T_CONSTANT_ENCAPSED_STRING","'seconds'",200],":",["T_WHITESPACE","\n            ",200],["T_DEFAULT","default",201],":",["T_WHITESPACE","\n                ",201],["T_BREAK","break",202],";",["T_WHITESPACE","\n\n            ",202],["T_CASE","case",204],["T_WHITESPACE"," ",204],["T_CONSTANT_ENCAPSED_STRING","'minutes'",204],":",["T_WHITESPACE","\n                ",204],["T_VARIABLE","$result",205],["T_WHITESPACE"," ",205],"=",["T_WHITESPACE"," ",205],["T_VARIABLE","$result",205],["T_WHITESPACE"," ",205],"\/",["T_WHITESPACE"," ",205],["T_LNUMBER","60",205],";",["T_WHITESPACE","\n                ",205],["T_BREAK","break",206],";",["T_WHITESPACE","\n\n            ",206],["T_CASE","case",208],["T_WHITESPACE"," ",208],["T_CONSTANT_ENCAPSED_STRING","'hours'",208],":",["T_WHITESPACE","\n                ",208],["T_VARIABLE","$result",209],["T_WHITESPACE"," ",209],"=",["T_WHITESPACE"," ",209],["T_VARIABLE","$result",209],["T_WHITESPACE"," ",209],"\/",["T_WHITESPACE"," ",209],["T_LNUMBER","60",209],["T_WHITESPACE"," ",209],"\/",["T_WHITESPACE"," ",209],["T_LNUMBER","60",209],";",["T_WHITESPACE","\n                ",209],["T_BREAK","break",210],";",["T_WHITESPACE","\n        ",210],"}",["T_WHITESPACE","\n        ",211],["T_RETURN","return",212],["T_WHITESPACE"," ",212],["T_VARIABLE","$result",212],";",["T_WHITESPACE","\n    ",212],"}",["T_WHITESPACE","\n\n    ",213],["T_DOC_COMMENT","\/**\n     * Deprecated since 1.1.7\n     *\/",215],["T_WHITESPACE","\n    ",217],["T_PUBLIC","public",218],["T_WHITESPACE"," ",218],["T_FUNCTION","function",218],["T_WHITESPACE"," ",218],["T_STRING","checkDateTime",218],"(",["T_VARIABLE","$year",218],",",["T_WHITESPACE"," ",218],["T_VARIABLE","$month",218],",",["T_WHITESPACE"," ",218],["T_VARIABLE","$day",218],",",["T_WHITESPACE"," ",218],["T_VARIABLE","$hour",218],["T_WHITESPACE"," ",218],"=",["T_WHITESPACE"," ",218],["T_LNUMBER","0",218],",",["T_WHITESPACE"," ",218],["T_VARIABLE","$minute",218],["T_WHITESPACE"," ",218],"=",["T_WHITESPACE"," ",218],["T_LNUMBER","0",218],",",["T_WHITESPACE"," ",218],["T_VARIABLE","$second",218],["T_WHITESPACE"," ",218],"=",["T_WHITESPACE"," ",218],["T_LNUMBER","0",218],")",["T_WHITESPACE","\n    ",218],"{",["T_WHITESPACE","\n        ",219],["T_IF","if",220],["T_WHITESPACE"," ",220],"(","!",["T_STRING","checkdate",220],"(",["T_VARIABLE","$month",220],",",["T_WHITESPACE"," ",220],["T_VARIABLE","$day",220],",",["T_WHITESPACE"," ",220],["T_VARIABLE","$year",220],")",")",["T_WHITESPACE"," ",220],"{",["T_WHITESPACE","\n            ",220],["T_RETURN","return",221],["T_WHITESPACE"," ",221],["T_STRING","false",221],";",["T_WHITESPACE","\n        ",221],"}",["T_WHITESPACE","\n        ",222],["T_FOREACH","foreach",223],["T_WHITESPACE"," ",223],"(",["T_ARRAY","array",223],"(",["T_CONSTANT_ENCAPSED_STRING","'hour'",223],["T_WHITESPACE"," ",223],["T_DOUBLE_ARROW","=>",223],["T_WHITESPACE"," ",223],["T_LNUMBER","23",223],",",["T_WHITESPACE"," ",223],["T_CONSTANT_ENCAPSED_STRING","'minute'",223],["T_WHITESPACE"," ",223],["T_DOUBLE_ARROW","=>",223],["T_WHITESPACE"," ",223],["T_LNUMBER","59",223],",",["T_WHITESPACE"," ",223],["T_CONSTANT_ENCAPSED_STRING","'second'",223],["T_WHITESPACE"," ",223],["T_DOUBLE_ARROW","=>",223],["T_WHITESPACE"," ",223],["T_LNUMBER","59",223],")",["T_WHITESPACE"," ",223],["T_AS","as",223],["T_WHITESPACE"," ",223],["T_VARIABLE","$var",223],["T_WHITESPACE"," ",223],["T_DOUBLE_ARROW","=>",223],["T_WHITESPACE"," ",223],["T_VARIABLE","$maxValue",223],")",["T_WHITESPACE"," ",223],"{",["T_WHITESPACE","\n            ",223],["T_VARIABLE","$value",224],["T_WHITESPACE"," ",224],"=",["T_WHITESPACE"," ",224],["T_INT_CAST","(int)",224],"$",["T_VARIABLE","$var",224],";",["T_WHITESPACE","\n            ",224],["T_IF","if",225],["T_WHITESPACE"," ",225],"(","(",["T_VARIABLE","$value",225],["T_WHITESPACE"," ",225],"<",["T_WHITESPACE"," ",225],["T_LNUMBER","0",225],")",["T_WHITESPACE"," ",225],["T_BOOLEAN_OR","||",225],["T_WHITESPACE"," ",225],"(",["T_VARIABLE","$value",225],["T_WHITESPACE"," ",225],">",["T_WHITESPACE"," ",225],["T_VARIABLE","$maxValue",225],")",")",["T_WHITESPACE"," ",225],"{",["T_WHITESPACE","\n                ",225],["T_RETURN","return",226],["T_WHITESPACE"," ",226],["T_STRING","false",226],";",["T_WHITESPACE","\n            ",226],"}",["T_WHITESPACE","\n        ",227],"}",["T_WHITESPACE","\n        ",228],["T_RETURN","return",229],["T_WHITESPACE"," ",229],["T_STRING","true",229],";",["T_WHITESPACE","\n    ",229],"}",["T_WHITESPACE","\n\n    ",230],["T_DOC_COMMENT","\/**\n     * Deprecated since 1.1.7\n     *\/",232],["T_WHITESPACE","\n    ",234],["T_PUBLIC","public",235],["T_WHITESPACE"," ",235],["T_FUNCTION","function",235],["T_WHITESPACE"," ",235],["T_STRING","parseDateTime",235],"(",["T_VARIABLE","$dateTimeString",235],",",["T_WHITESPACE"," ",235],["T_VARIABLE","$dateTimeFormat",235],")",["T_WHITESPACE","\n    ",235],"{",["T_WHITESPACE","\n        ",236],["T_COMMENT","\/\/ look for supported format\n",237],["T_WHITESPACE","        ",238],["T_VARIABLE","$isSupportedFormatFound",238],["T_WHITESPACE"," ",238],"=",["T_WHITESPACE"," ",238],["T_STRING","false",238],";",["T_WHITESPACE","\n\n        ",238],["T_VARIABLE","$formats",240],["T_WHITESPACE"," ",240],"=",["T_WHITESPACE"," ",240],["T_ARRAY","array",240],"(",["T_WHITESPACE","\n            ",240],["T_COMMENT","\/\/ priority is important!\n",241],["T_WHITESPACE","            ",242],["T_CONSTANT_ENCAPSED_STRING","'%m\/%d\/%y %I:%M'",242],["T_WHITESPACE"," ",242],["T_DOUBLE_ARROW","=>",242],["T_WHITESPACE"," ",242],["T_ARRAY","array",242],"(",["T_WHITESPACE","\n                ",242],["T_CONSTANT_ENCAPSED_STRING","'\/^([0-9]{1,2})\\\/([0-9]{1,2})\\\/([0-9]{1,2}) ([0-9]{1,2}):([0-9]{1,2})\/'",243],",",["T_WHITESPACE","\n                ",243],["T_ARRAY","array",244],"(",["T_CONSTANT_ENCAPSED_STRING","'y'",244],["T_WHITESPACE"," ",244],["T_DOUBLE_ARROW","=>",244],["T_WHITESPACE"," ",244],["T_LNUMBER","3",244],",",["T_WHITESPACE"," ",244],["T_CONSTANT_ENCAPSED_STRING","'m'",244],["T_WHITESPACE"," ",244],["T_DOUBLE_ARROW","=>",244],["T_WHITESPACE"," ",244],["T_LNUMBER","1",244],",",["T_WHITESPACE"," ",244],["T_CONSTANT_ENCAPSED_STRING","'d'",244],["T_WHITESPACE"," ",244],["T_DOUBLE_ARROW","=>",244],["T_WHITESPACE"," ",244],["T_LNUMBER","2",244],",",["T_WHITESPACE"," ",244],["T_CONSTANT_ENCAPSED_STRING","'h'",244],["T_WHITESPACE"," ",244],["T_DOUBLE_ARROW","=>",244],["T_WHITESPACE"," ",244],["T_LNUMBER","4",244],",",["T_WHITESPACE"," ",244],["T_CONSTANT_ENCAPSED_STRING","'i'",244],["T_WHITESPACE"," ",244],["T_DOUBLE_ARROW","=>",244],["T_WHITESPACE"," ",244],["T_LNUMBER","5",244],")",["T_WHITESPACE","\n            ",244],")",",",["T_WHITESPACE","\n            ",245],["T_CONSTANT_ENCAPSED_STRING","'m\/d\/y h:i'",246],["T_WHITESPACE"," ",246],["T_DOUBLE_ARROW","=>",246],["T_WHITESPACE"," ",246],["T_ARRAY","array",246],"(",["T_WHITESPACE","\n                ",246],["T_CONSTANT_ENCAPSED_STRING","'\/^([0-9]{1,2})\\\/([0-9]{1,2})\\\/([0-9]{1,2}) ([0-9]{1,2}):([0-9]{1,2})\/'",247],",",["T_WHITESPACE","\n                ",247],["T_ARRAY","array",248],"(",["T_CONSTANT_ENCAPSED_STRING","'y'",248],["T_WHITESPACE"," ",248],["T_DOUBLE_ARROW","=>",248],["T_WHITESPACE"," ",248],["T_LNUMBER","3",248],",",["T_WHITESPACE"," ",248],["T_CONSTANT_ENCAPSED_STRING","'m'",248],["T_WHITESPACE"," ",248],["T_DOUBLE_ARROW","=>",248],["T_WHITESPACE"," ",248],["T_LNUMBER","1",248],",",["T_WHITESPACE"," ",248],["T_CONSTANT_ENCAPSED_STRING","'d'",248],["T_WHITESPACE"," ",248],["T_DOUBLE_ARROW","=>",248],["T_WHITESPACE"," ",248],["T_LNUMBER","2",248],",",["T_WHITESPACE"," ",248],["T_CONSTANT_ENCAPSED_STRING","'h'",248],["T_WHITESPACE"," ",248],["T_DOUBLE_ARROW","=>",248],["T_WHITESPACE"," ",248],["T_LNUMBER","4",248],",",["T_WHITESPACE"," ",248],["T_CONSTANT_ENCAPSED_STRING","'i'",248],["T_WHITESPACE"," ",248],["T_DOUBLE_ARROW","=>",248],["T_WHITESPACE"," ",248],["T_LNUMBER","5",248],")",["T_WHITESPACE","\n            ",248],")",",",["T_WHITESPACE","\n            ",249],["T_CONSTANT_ENCAPSED_STRING","'%m\/%d\/%y'",250],["T_WHITESPACE"," ",250],["T_DOUBLE_ARROW","=>",250],["T_WHITESPACE"," ",250],["T_ARRAY","array",250],"(",["T_CONSTANT_ENCAPSED_STRING","'\/^([0-9]{1,2})\\\/([0-9]{1,2})\\\/([0-9]{1,2})\/'",250],",",["T_WHITESPACE"," ",250],["T_ARRAY","array",250],"(",["T_CONSTANT_ENCAPSED_STRING","'y'",250],["T_WHITESPACE"," ",250],["T_DOUBLE_ARROW","=>",250],["T_WHITESPACE"," ",250],["T_LNUMBER","3",250],",",["T_WHITESPACE"," ",250],["T_CONSTANT_ENCAPSED_STRING","'m'",250],["T_WHITESPACE"," ",250],["T_DOUBLE_ARROW","=>",250],["T_WHITESPACE"," ",250],["T_LNUMBER","1",250],",",["T_WHITESPACE"," ",250],["T_CONSTANT_ENCAPSED_STRING","'d'",250],["T_WHITESPACE"," ",250],["T_DOUBLE_ARROW","=>",250],["T_WHITESPACE"," ",250],["T_LNUMBER","2",250],")",")",",",["T_WHITESPACE","\n            ",250],["T_CONSTANT_ENCAPSED_STRING","'m\/d\/y'",251],["T_WHITESPACE"," ",251],["T_DOUBLE_ARROW","=>",251],["T_WHITESPACE"," ",251],["T_ARRAY","array",251],"(",["T_CONSTANT_ENCAPSED_STRING","'\/^([0-9]{1,2})\\\/([0-9]{1,2})\\\/([0-9]{1,2})\/'",251],",",["T_WHITESPACE"," ",251],["T_ARRAY","array",251],"(",["T_CONSTANT_ENCAPSED_STRING","'y'",251],["T_WHITESPACE"," ",251],["T_DOUBLE_ARROW","=>",251],["T_WHITESPACE"," ",251],["T_LNUMBER","3",251],",",["T_WHITESPACE"," ",251],["T_CONSTANT_ENCAPSED_STRING","'m'",251],["T_WHITESPACE"," ",251],["T_DOUBLE_ARROW","=>",251],["T_WHITESPACE"," ",251],["T_LNUMBER","1",251],",",["T_WHITESPACE"," ",251],["T_CONSTANT_ENCAPSED_STRING","'d'",251],["T_WHITESPACE"," ",251],["T_DOUBLE_ARROW","=>",251],["T_WHITESPACE"," ",251],["T_LNUMBER","2",251],")",")",",",["T_WHITESPACE","\n        ",251],")",";",["T_WHITESPACE","\n\n        ",252],["T_FOREACH","foreach",254],["T_WHITESPACE"," ",254],"(",["T_VARIABLE","$formats",254],["T_WHITESPACE"," ",254],["T_AS","as",254],["T_WHITESPACE"," ",254],["T_VARIABLE","$supportedFormat",254],["T_WHITESPACE"," ",254],["T_DOUBLE_ARROW","=>",254],["T_WHITESPACE"," ",254],["T_VARIABLE","$regRule",254],")",["T_WHITESPACE"," ",254],"{",["T_WHITESPACE","\n            ",254],["T_IF","if",255],["T_WHITESPACE"," ",255],"(",["T_STRING","false",255],["T_WHITESPACE"," ",255],["T_IS_NOT_IDENTICAL","!==",255],["T_WHITESPACE"," ",255],["T_STRING","strpos",255],"(",["T_VARIABLE","$dateTimeFormat",255],",",["T_WHITESPACE"," ",255],["T_VARIABLE","$supportedFormat",255],",",["T_WHITESPACE"," ",255],["T_LNUMBER","0",255],")",")",["T_WHITESPACE"," ",255],"{",["T_WHITESPACE","\n                ",255],["T_VARIABLE","$isSupportedFormatFound",256],["T_WHITESPACE"," ",256],"=",["T_WHITESPACE"," ",256],["T_STRING","true",256],";",["T_WHITESPACE","\n                ",256],["T_BREAK","break",257],";",["T_WHITESPACE","\n            ",257],"}",["T_WHITESPACE","\n        ",258],"}",["T_WHITESPACE","\n        ",259],["T_IF","if",260],["T_WHITESPACE"," ",260],"(","!",["T_VARIABLE","$isSupportedFormatFound",260],")",["T_WHITESPACE"," ",260],"{",["T_WHITESPACE","\n            ",260],["T_STRING","Mage",261],["T_DOUBLE_COLON","::",261],["T_STRING","throwException",261],"(",["T_STRING","Mage",261],["T_DOUBLE_COLON","::",261],["T_STRING","helper",261],"(",["T_CONSTANT_ENCAPSED_STRING","'core'",261],")",["T_OBJECT_OPERATOR","->",261],["T_STRING","__",261],"(",["T_CONSTANT_ENCAPSED_STRING","'Date\/time format \"%s\" is not supported.'",261],",",["T_WHITESPACE"," ",261],["T_VARIABLE","$dateTimeFormat",261],")",")",";",["T_WHITESPACE","\n        ",261],"}",["T_WHITESPACE","\n\n        ",262],["T_COMMENT","\/\/ apply reg rule to found format\n",264],["T_WHITESPACE","        ",265],["T_VARIABLE","$regex",265],["T_WHITESPACE"," ",265],"=",["T_WHITESPACE"," ",265],["T_STRING","array_shift",265],"(",["T_VARIABLE","$regRule",265],")",";",["T_WHITESPACE","\n        ",265],["T_VARIABLE","$mask",266],["T_WHITESPACE","  ",266],"=",["T_WHITESPACE"," ",266],["T_STRING","array_shift",266],"(",["T_VARIABLE","$regRule",266],")",";",["T_WHITESPACE","\n        ",266],["T_IF","if",267],["T_WHITESPACE"," ",267],"(","!",["T_STRING","preg_match",267],"(",["T_VARIABLE","$regex",267],",",["T_WHITESPACE"," ",267],["T_VARIABLE","$dateTimeString",267],",",["T_WHITESPACE"," ",267],["T_VARIABLE","$matches",267],")",")",["T_WHITESPACE"," ",267],"{",["T_WHITESPACE","\n            ",267],["T_STRING","Mage",268],["T_DOUBLE_COLON","::",268],["T_STRING","throwException",268],"(",["T_STRING","Mage",268],["T_DOUBLE_COLON","::",268],["T_STRING","helper",268],"(",["T_CONSTANT_ENCAPSED_STRING","'core'",268],")",["T_OBJECT_OPERATOR","->",268],["T_STRING","__",268],"(",["T_CONSTANT_ENCAPSED_STRING","'Specified date\/time \"%1$s\" do not match format \"%2$s\".'",268],",",["T_WHITESPACE"," ",268],["T_VARIABLE","$dateTimeString",268],",",["T_WHITESPACE"," ",268],["T_VARIABLE","$dateTimeFormat",268],")",")",";",["T_WHITESPACE","\n        ",268],"}",["T_WHITESPACE","\n\n        ",269],["T_COMMENT","\/\/ make result\n",271],["T_WHITESPACE","        ",272],["T_VARIABLE","$result",272],["T_WHITESPACE"," ",272],"=",["T_WHITESPACE"," ",272],["T_ARRAY","array",272],"(",")",";",["T_WHITESPACE","\n        ",272],["T_FOREACH","foreach",273],["T_WHITESPACE"," ",273],"(",["T_ARRAY","array",273],"(",["T_CONSTANT_ENCAPSED_STRING","'y'",273],",",["T_WHITESPACE"," ",273],["T_CONSTANT_ENCAPSED_STRING","'m'",273],",",["T_WHITESPACE"," ",273],["T_CONSTANT_ENCAPSED_STRING","'d'",273],",",["T_WHITESPACE"," ",273],["T_CONSTANT_ENCAPSED_STRING","'h'",273],",",["T_WHITESPACE"," ",273],["T_CONSTANT_ENCAPSED_STRING","'i'",273],",",["T_WHITESPACE"," ",273],["T_CONSTANT_ENCAPSED_STRING","'s'",273],")",["T_WHITESPACE"," ",273],["T_AS","as",273],["T_WHITESPACE"," ",273],["T_VARIABLE","$key",273],")",["T_WHITESPACE"," ",273],"{",["T_WHITESPACE","\n            ",273],["T_VARIABLE","$value",274],["T_WHITESPACE"," ",274],"=",["T_WHITESPACE"," ",274],["T_LNUMBER","0",274],";",["T_WHITESPACE","\n            ",274],["T_IF","if",275],["T_WHITESPACE"," ",275],"(",["T_ISSET","isset",275],"(",["T_VARIABLE","$mask",275],"[",["T_VARIABLE","$key",275],"]",")",["T_WHITESPACE"," ",275],["T_BOOLEAN_AND","&&",275],["T_WHITESPACE"," ",275],["T_ISSET","isset",275],"(",["T_VARIABLE","$matches",275],"[",["T_VARIABLE","$mask",275],"[",["T_VARIABLE","$key",275],"]","]",")",")",["T_WHITESPACE"," ",275],"{",["T_WHITESPACE","\n                ",275],["T_VARIABLE","$value",276],["T_WHITESPACE"," ",276],"=",["T_WHITESPACE"," ",276],["T_INT_CAST","(int)",276],["T_VARIABLE","$matches",276],"[",["T_VARIABLE","$mask",276],"[",["T_VARIABLE","$key",276],"]","]",";",["T_WHITESPACE","\n            ",276],"}",["T_WHITESPACE","\n            ",277],["T_VARIABLE","$result",278],"[","]",["T_WHITESPACE"," ",278],"=",["T_WHITESPACE"," ",278],["T_VARIABLE","$value",278],";",["T_WHITESPACE","\n        ",278],"}",["T_WHITESPACE","\n\n        ",279],["T_COMMENT","\/\/ make sure to return full year\n",281],["T_WHITESPACE","        ",282],["T_IF","if",282],["T_WHITESPACE"," ",282],"(",["T_VARIABLE","$result",282],"[",["T_LNUMBER","0",282],"]",["T_WHITESPACE"," ",282],"<",["T_WHITESPACE"," ",282],["T_LNUMBER","100",282],")",["T_WHITESPACE"," ",282],"{",["T_WHITESPACE","\n            ",282],["T_VARIABLE","$result",283],"[",["T_LNUMBER","0",283],"]",["T_WHITESPACE"," ",283],"=",["T_WHITESPACE"," ",283],["T_LNUMBER","2000",283],["T_WHITESPACE"," ",283],"+",["T_WHITESPACE"," ",283],["T_VARIABLE","$result",283],"[",["T_LNUMBER","0",283],"]",";",["T_WHITESPACE","\n        ",283],"}",["T_WHITESPACE","\n\n        ",284],["T_RETURN","return",286],["T_WHITESPACE"," ",286],["T_VARIABLE","$result",286],";",["T_WHITESPACE","\n    ",286],"}",["T_WHITESPACE","\n",287],"}",["T_WHITESPACE","\n",288]]