[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Magento\n *\n * NOTICE OF LICENSE\n *\n * This source file is subject to the Open Software License (OSL 3.0)\n * that is bundled with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/opensource.org\/licenses\/osl-3.0.php\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@magento.com so we can send you a copy immediately.\n *\n * DISCLAIMER\n *\n * Do not edit or add to this file if you wish to upgrade Magento to newer\n * versions in the future. If you wish to customize Magento for your\n * needs please refer to http:\/\/www.magento.com for more information.\n *\n * @category    Mage\n * @package     Mage_Core\n * @copyright  Copyright (c) 2006-2016 X.commerce, Inc. and affiliates (http:\/\/www.magento.com)\n * @license    http:\/\/opensource.org\/licenses\/osl-3.0.php  Open Software License (OSL 3.0)\n *\/",2],["T_WHITESPACE","\n\n",25],["T_DOC_COMMENT","\/**\n * Core data helper\n *\n * @author      Magento Core Team <core@magentocommerce.com>\n *\/",27],["T_WHITESPACE","\n",31],["T_CLASS","class",32],["T_WHITESPACE"," ",32],["T_STRING","Mage_Core_Helper_String",32],["T_WHITESPACE"," ",32],["T_EXTENDS","extends",32],["T_WHITESPACE"," ",32],["T_STRING","Mage_Core_Helper_Abstract",32],["T_WHITESPACE","\n",32],"{",["T_WHITESPACE","\n    ",33],["T_CONST","const",34],["T_WHITESPACE"," ",34],["T_STRING","ICONV_CHARSET",34],["T_WHITESPACE"," ",34],"=",["T_WHITESPACE"," ",34],["T_CONSTANT_ENCAPSED_STRING","'UTF-8'",34],";",["T_WHITESPACE","\n\n    ",34],["T_DOC_COMMENT","\/**\n     * @var Mage_Core_Helper_Array\n     *\/",36],["T_WHITESPACE","\n    ",38],["T_PROTECTED","protected",39],["T_WHITESPACE"," ",39],["T_VARIABLE","$_arrayHelper",39],";",["T_WHITESPACE","\n\n    ",39],["T_DOC_COMMENT","\/**\n     * Truncate a string to a certain length if necessary, appending the $etc string.\n     * $remainder will contain the string that has been replaced with $etc.\n     *\n     * @param string $string\n     * @param int $length\n     * @param string $etc\n     * @param string &$remainder\n     * @param bool $breakWords\n     * @return string\n     *\/",41],["T_WHITESPACE","\n    ",51],["T_PUBLIC","public",52],["T_WHITESPACE"," ",52],["T_FUNCTION","function",52],["T_WHITESPACE"," ",52],["T_STRING","truncate",52],"(",["T_VARIABLE","$string",52],",",["T_WHITESPACE"," ",52],["T_VARIABLE","$length",52],["T_WHITESPACE"," ",52],"=",["T_WHITESPACE"," ",52],["T_LNUMBER","80",52],",",["T_WHITESPACE"," ",52],["T_VARIABLE","$etc",52],["T_WHITESPACE"," ",52],"=",["T_WHITESPACE"," ",52],["T_CONSTANT_ENCAPSED_STRING","'...'",52],",",["T_WHITESPACE"," ",52],"&",["T_VARIABLE","$remainder",52],["T_WHITESPACE"," ",52],"=",["T_WHITESPACE"," ",52],["T_CONSTANT_ENCAPSED_STRING","''",52],",",["T_WHITESPACE"," ",52],["T_VARIABLE","$breakWords",52],["T_WHITESPACE"," ",52],"=",["T_WHITESPACE"," ",52],["T_STRING","true",52],")",["T_WHITESPACE","\n    ",52],"{",["T_WHITESPACE","\n        ",53],["T_VARIABLE","$remainder",54],["T_WHITESPACE"," ",54],"=",["T_WHITESPACE"," ",54],["T_CONSTANT_ENCAPSED_STRING","''",54],";",["T_WHITESPACE","\n        ",54],["T_IF","if",55],["T_WHITESPACE"," ",55],"(",["T_LNUMBER","0",55],["T_WHITESPACE"," ",55],["T_IS_EQUAL","==",55],["T_WHITESPACE"," ",55],["T_VARIABLE","$length",55],")",["T_WHITESPACE"," ",55],"{",["T_WHITESPACE","\n            ",55],["T_RETURN","return",56],["T_WHITESPACE"," ",56],["T_CONSTANT_ENCAPSED_STRING","''",56],";",["T_WHITESPACE","\n        ",56],"}",["T_WHITESPACE","\n\n        ",57],["T_VARIABLE","$originalLength",59],["T_WHITESPACE"," ",59],"=",["T_WHITESPACE"," ",59],["T_VARIABLE","$this",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","strlen",59],"(",["T_VARIABLE","$string",59],")",";",["T_WHITESPACE","\n        ",59],["T_IF","if",60],["T_WHITESPACE"," ",60],"(",["T_VARIABLE","$originalLength",60],["T_WHITESPACE"," ",60],">",["T_WHITESPACE"," ",60],["T_VARIABLE","$length",60],")",["T_WHITESPACE"," ",60],"{",["T_WHITESPACE","\n            ",60],["T_VARIABLE","$length",61],["T_WHITESPACE"," ",61],["T_MINUS_EQUAL","-=",61],["T_WHITESPACE"," ",61],["T_VARIABLE","$this",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","strlen",61],"(",["T_VARIABLE","$etc",61],")",";",["T_WHITESPACE","\n            ",61],["T_IF","if",62],["T_WHITESPACE"," ",62],"(",["T_VARIABLE","$length",62],["T_WHITESPACE"," ",62],["T_IS_SMALLER_OR_EQUAL","<=",62],["T_WHITESPACE"," ",62],["T_LNUMBER","0",62],")",["T_WHITESPACE"," ",62],"{",["T_WHITESPACE","\n                ",62],["T_RETURN","return",63],["T_WHITESPACE"," ",63],["T_CONSTANT_ENCAPSED_STRING","''",63],";",["T_WHITESPACE","\n            ",63],"}",["T_WHITESPACE","\n            ",64],["T_VARIABLE","$preparedString",65],["T_WHITESPACE"," ",65],"=",["T_WHITESPACE"," ",65],["T_VARIABLE","$string",65],";",["T_WHITESPACE","\n            ",65],["T_VARIABLE","$preparedlength",66],["T_WHITESPACE"," ",66],"=",["T_WHITESPACE"," ",66],["T_VARIABLE","$length",66],";",["T_WHITESPACE","\n            ",66],["T_IF","if",67],["T_WHITESPACE"," ",67],"(","!",["T_VARIABLE","$breakWords",67],")",["T_WHITESPACE"," ",67],"{",["T_WHITESPACE","\n                ",67],["T_VARIABLE","$preparedString",68],["T_WHITESPACE"," ",68],"=",["T_WHITESPACE"," ",68],["T_STRING","preg_replace",68],"(",["T_CONSTANT_ENCAPSED_STRING","'\/\\s+?(\\S+)?$\/u'",68],",",["T_WHITESPACE"," ",68],["T_CONSTANT_ENCAPSED_STRING","''",68],",",["T_WHITESPACE"," ",68],["T_VARIABLE","$this",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","substr",68],"(",["T_VARIABLE","$string",68],",",["T_WHITESPACE"," ",68],["T_LNUMBER","0",68],",",["T_WHITESPACE"," ",68],["T_VARIABLE","$length",68],["T_WHITESPACE"," ",68],"+",["T_WHITESPACE"," ",68],["T_LNUMBER","1",68],")",")",";",["T_WHITESPACE","\n                ",68],["T_VARIABLE","$preparedlength",69],["T_WHITESPACE"," ",69],"=",["T_WHITESPACE"," ",69],["T_VARIABLE","$this",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","strlen",69],"(",["T_VARIABLE","$preparedString",69],")",";",["T_WHITESPACE","\n            ",69],"}",["T_WHITESPACE","\n            ",70],["T_VARIABLE","$remainder",71],["T_WHITESPACE"," ",71],"=",["T_WHITESPACE"," ",71],["T_VARIABLE","$this",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","substr",71],"(",["T_VARIABLE","$string",71],",",["T_WHITESPACE"," ",71],["T_VARIABLE","$preparedlength",71],",",["T_WHITESPACE"," ",71],["T_VARIABLE","$originalLength",71],")",";",["T_WHITESPACE","\n            ",71],["T_RETURN","return",72],["T_WHITESPACE"," ",72],["T_VARIABLE","$this",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","substr",72],"(",["T_VARIABLE","$preparedString",72],",",["T_WHITESPACE"," ",72],["T_LNUMBER","0",72],",",["T_WHITESPACE"," ",72],["T_VARIABLE","$length",72],")",["T_WHITESPACE"," ",72],".",["T_WHITESPACE"," ",72],["T_VARIABLE","$etc",72],";",["T_WHITESPACE","\n        ",72],"}",["T_WHITESPACE","\n\n        ",73],["T_RETURN","return",75],["T_WHITESPACE"," ",75],["T_VARIABLE","$string",75],";",["T_WHITESPACE","\n    ",75],"}",["T_WHITESPACE","\n\n    ",76],["T_DOC_COMMENT","\/**\n     * Retrieve string length using default charset\n     *\n     * @param string $string\n     * @return int\n     *\/",78],["T_WHITESPACE","\n    ",83],["T_PUBLIC","public",84],["T_WHITESPACE"," ",84],["T_FUNCTION","function",84],["T_WHITESPACE"," ",84],["T_STRING","strlen",84],"(",["T_VARIABLE","$string",84],")",["T_WHITESPACE","\n    ",84],"{",["T_WHITESPACE","\n        ",85],["T_RETURN","return",86],["T_WHITESPACE"," ",86],["T_STRING","iconv_strlen",86],"(",["T_VARIABLE","$string",86],",",["T_WHITESPACE"," ",86],["T_STRING","self",86],["T_DOUBLE_COLON","::",86],["T_STRING","ICONV_CHARSET",86],")",";",["T_WHITESPACE","\n    ",86],"}",["T_WHITESPACE","\n\n    ",87],["T_DOC_COMMENT","\/**\n     * Passthrough to iconv_substr()\n     *\n     * @param string $string\n     * @param int $offset\n     * @param int $length\n     * @return string\n     *\/",89],["T_WHITESPACE","\n    ",96],["T_PUBLIC","public",97],["T_WHITESPACE"," ",97],["T_FUNCTION","function",97],["T_WHITESPACE"," ",97],["T_STRING","substr",97],"(",["T_VARIABLE","$string",97],",",["T_WHITESPACE"," ",97],["T_VARIABLE","$offset",97],",",["T_WHITESPACE"," ",97],["T_VARIABLE","$length",97],["T_WHITESPACE"," ",97],"=",["T_WHITESPACE"," ",97],["T_STRING","null",97],")",["T_WHITESPACE","\n    ",97],"{",["T_WHITESPACE","\n        ",98],["T_VARIABLE","$string",99],["T_WHITESPACE"," ",99],"=",["T_WHITESPACE"," ",99],["T_VARIABLE","$this",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","cleanString",99],"(",["T_VARIABLE","$string",99],")",";",["T_WHITESPACE","\n        ",99],["T_IF","if",100],["T_WHITESPACE"," ",100],"(",["T_STRING","is_null",100],"(",["T_VARIABLE","$length",100],")",")",["T_WHITESPACE"," ",100],"{",["T_WHITESPACE","\n            ",100],["T_VARIABLE","$length",101],["T_WHITESPACE"," ",101],"=",["T_WHITESPACE"," ",101],["T_VARIABLE","$this",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","strlen",101],"(",["T_VARIABLE","$string",101],")",["T_WHITESPACE"," ",101],"-",["T_WHITESPACE"," ",101],["T_VARIABLE","$offset",101],";",["T_WHITESPACE","\n        ",101],"}",["T_WHITESPACE","\n        ",102],["T_RETURN","return",103],["T_WHITESPACE"," ",103],["T_STRING","iconv_substr",103],"(",["T_VARIABLE","$string",103],",",["T_WHITESPACE"," ",103],["T_VARIABLE","$offset",103],",",["T_WHITESPACE"," ",103],["T_VARIABLE","$length",103],",",["T_WHITESPACE"," ",103],["T_STRING","self",103],["T_DOUBLE_COLON","::",103],["T_STRING","ICONV_CHARSET",103],")",";",["T_WHITESPACE","\n    ",103],"}",["T_WHITESPACE","\n\n    ",104],["T_DOC_COMMENT","\/**\n     * Split string and appending $insert string after $needle\n     *\n     * @param string $str\n     * @param integer $length\n     * @param string $needle\n     * @param string $insert\n     * @return string\n     *\/",106],["T_WHITESPACE","\n    ",114],["T_PUBLIC","public",115],["T_WHITESPACE"," ",115],["T_FUNCTION","function",115],["T_WHITESPACE"," ",115],["T_STRING","splitInjection",115],"(",["T_VARIABLE","$str",115],",",["T_WHITESPACE"," ",115],["T_VARIABLE","$length",115],["T_WHITESPACE"," ",115],"=",["T_WHITESPACE"," ",115],["T_LNUMBER","50",115],",",["T_WHITESPACE"," ",115],["T_VARIABLE","$needle",115],["T_WHITESPACE"," ",115],"=",["T_WHITESPACE"," ",115],["T_CONSTANT_ENCAPSED_STRING","'-'",115],",",["T_WHITESPACE"," ",115],["T_VARIABLE","$insert",115],["T_WHITESPACE"," ",115],"=",["T_WHITESPACE"," ",115],["T_CONSTANT_ENCAPSED_STRING","' '",115],")",["T_WHITESPACE","\n    ",115],"{",["T_WHITESPACE","\n        ",116],["T_VARIABLE","$str",117],["T_WHITESPACE"," ",117],"=",["T_WHITESPACE"," ",117],["T_VARIABLE","$this",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","str_split",117],"(",["T_VARIABLE","$str",117],",",["T_WHITESPACE"," ",117],["T_VARIABLE","$length",117],")",";",["T_WHITESPACE","\n        ",117],["T_VARIABLE","$newStr",118],["T_WHITESPACE"," ",118],"=",["T_WHITESPACE"," ",118],["T_CONSTANT_ENCAPSED_STRING","''",118],";",["T_WHITESPACE","\n        ",118],["T_FOREACH","foreach",119],["T_WHITESPACE"," ",119],"(",["T_VARIABLE","$str",119],["T_WHITESPACE"," ",119],["T_AS","as",119],["T_WHITESPACE"," ",119],["T_VARIABLE","$part",119],")",["T_WHITESPACE"," ",119],"{",["T_WHITESPACE","\n            ",119],["T_IF","if",120],["T_WHITESPACE"," ",120],"(",["T_VARIABLE","$this",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","strlen",120],"(",["T_VARIABLE","$part",120],")",["T_WHITESPACE"," ",120],["T_IS_GREATER_OR_EQUAL",">=",120],["T_WHITESPACE"," ",120],["T_VARIABLE","$length",120],")",["T_WHITESPACE"," ",120],"{",["T_WHITESPACE","\n                ",120],["T_VARIABLE","$lastDelimetr",121],["T_WHITESPACE"," ",121],"=",["T_WHITESPACE"," ",121],["T_VARIABLE","$this",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","strpos",121],"(",["T_VARIABLE","$this",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","strrev",121],"(",["T_VARIABLE","$part",121],")",",",["T_WHITESPACE"," ",121],["T_VARIABLE","$needle",121],")",";",["T_WHITESPACE","\n                ",121],["T_VARIABLE","$tmpNewStr",122],["T_WHITESPACE"," ",122],"=",["T_WHITESPACE"," ",122],["T_CONSTANT_ENCAPSED_STRING","''",122],";",["T_WHITESPACE","\n                ",122],["T_VARIABLE","$tmpNewStr",123],["T_WHITESPACE"," ",123],"=",["T_WHITESPACE"," ",123],["T_VARIABLE","$this",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","substr",123],"(",["T_VARIABLE","$this",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","strrev",123],"(",["T_VARIABLE","$part",123],")",",",["T_WHITESPACE"," ",123],["T_LNUMBER","0",123],",",["T_WHITESPACE"," ",123],["T_VARIABLE","$lastDelimetr",123],")",["T_WHITESPACE","\n                    ",123],".",["T_WHITESPACE"," ",124],["T_VARIABLE","$insert",124],["T_WHITESPACE"," ",124],".",["T_WHITESPACE"," ",124],["T_VARIABLE","$this",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","substr",124],"(",["T_VARIABLE","$this",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","strrev",124],"(",["T_VARIABLE","$part",124],")",",",["T_WHITESPACE"," ",124],["T_VARIABLE","$lastDelimetr",124],")",";",["T_WHITESPACE","\n                ",124],["T_VARIABLE","$newStr",125],["T_WHITESPACE"," ",125],["T_CONCAT_EQUAL",".=",125],["T_WHITESPACE"," ",125],["T_VARIABLE","$this",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","strrev",125],"(",["T_VARIABLE","$tmpNewStr",125],")",";",["T_WHITESPACE","\n            ",125],"}",["T_WHITESPACE"," ",126],["T_ELSE","else",126],["T_WHITESPACE"," ",126],"{",["T_WHITESPACE","\n                ",126],["T_VARIABLE","$newStr",127],["T_WHITESPACE"," ",127],["T_CONCAT_EQUAL",".=",127],["T_WHITESPACE"," ",127],["T_VARIABLE","$part",127],";",["T_WHITESPACE","\n            ",127],"}",["T_WHITESPACE","\n        ",128],"}",["T_WHITESPACE","\n        ",129],["T_RETURN","return",130],["T_WHITESPACE"," ",130],["T_VARIABLE","$newStr",130],";",["T_WHITESPACE","\n    ",130],"}",["T_WHITESPACE","\n\n    ",131],["T_DOC_COMMENT","\/**\n     * Binary-safe strrev()\n     *\n     * @param string $str\n     * @return string\n     *\/",133],["T_WHITESPACE","\n    ",138],["T_PUBLIC","public",139],["T_WHITESPACE"," ",139],["T_FUNCTION","function",139],["T_WHITESPACE"," ",139],["T_STRING","strrev",139],"(",["T_VARIABLE","$str",139],")",["T_WHITESPACE","\n    ",139],"{",["T_WHITESPACE","\n        ",140],["T_VARIABLE","$result",141],["T_WHITESPACE"," ",141],"=",["T_WHITESPACE"," ",141],["T_CONSTANT_ENCAPSED_STRING","''",141],";",["T_WHITESPACE","\n        ",141],["T_VARIABLE","$strlen",142],["T_WHITESPACE"," ",142],"=",["T_WHITESPACE"," ",142],["T_VARIABLE","$this",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","strlen",142],"(",["T_VARIABLE","$str",142],")",";",["T_WHITESPACE","\n        ",142],["T_IF","if",143],["T_WHITESPACE"," ",143],"(","!",["T_VARIABLE","$strlen",143],")",["T_WHITESPACE"," ",143],"{",["T_WHITESPACE","\n            ",143],["T_RETURN","return",144],["T_WHITESPACE"," ",144],["T_VARIABLE","$result",144],";",["T_WHITESPACE","\n        ",144],"}",["T_WHITESPACE","\n        ",145],["T_FOR","for",146],["T_WHITESPACE"," ",146],"(",["T_VARIABLE","$i",146],["T_WHITESPACE"," ",146],"=",["T_WHITESPACE"," ",146],["T_VARIABLE","$strlen",146],"-",["T_LNUMBER","1",146],";",["T_WHITESPACE"," ",146],["T_VARIABLE","$i",146],["T_WHITESPACE"," ",146],["T_IS_GREATER_OR_EQUAL",">=",146],["T_WHITESPACE"," ",146],["T_LNUMBER","0",146],";",["T_WHITESPACE"," ",146],["T_VARIABLE","$i",146],["T_DEC","--",146],")",["T_WHITESPACE"," ",146],"{",["T_WHITESPACE","\n            ",146],["T_VARIABLE","$result",147],["T_WHITESPACE"," ",147],["T_CONCAT_EQUAL",".=",147],["T_WHITESPACE"," ",147],["T_VARIABLE","$this",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","substr",147],"(",["T_VARIABLE","$str",147],",",["T_WHITESPACE"," ",147],["T_VARIABLE","$i",147],",",["T_WHITESPACE"," ",147],["T_LNUMBER","1",147],")",";",["T_WHITESPACE","\n        ",147],"}",["T_WHITESPACE","\n        ",148],["T_RETURN","return",149],["T_WHITESPACE"," ",149],["T_VARIABLE","$result",149],";",["T_WHITESPACE","\n    ",149],"}",["T_WHITESPACE","\n\n    ",150],["T_DOC_COMMENT","\/**\n     * Binary-safe variant of str_split()\n     * + option not to break words\n     * + option to trim spaces (between each word)\n     * + option to set character(s) (pcre pattern) to be considered as words separator\n     *\n     * @param string $str\n     * @param int $length\n     * @param bool $keepWords\n     * @param bool $trim\n     * @param string $wordSeparatorRegex\n     * @return array\n     *\/",152],["T_WHITESPACE","\n    ",164],["T_PUBLIC","public",165],["T_WHITESPACE"," ",165],["T_FUNCTION","function",165],["T_WHITESPACE"," ",165],["T_STRING","str_split",165],"(",["T_VARIABLE","$str",165],",",["T_WHITESPACE"," ",165],["T_VARIABLE","$length",165],["T_WHITESPACE"," ",165],"=",["T_WHITESPACE"," ",165],["T_LNUMBER","1",165],",",["T_WHITESPACE"," ",165],["T_VARIABLE","$keepWords",165],["T_WHITESPACE"," ",165],"=",["T_WHITESPACE"," ",165],["T_STRING","false",165],",",["T_WHITESPACE"," ",165],["T_VARIABLE","$trim",165],["T_WHITESPACE"," ",165],"=",["T_WHITESPACE"," ",165],["T_STRING","false",165],",",["T_WHITESPACE"," ",165],["T_VARIABLE","$wordSeparatorRegex",165],["T_WHITESPACE"," ",165],"=",["T_WHITESPACE"," ",165],["T_CONSTANT_ENCAPSED_STRING","'\\s'",165],")",["T_WHITESPACE","\n    ",165],"{",["T_WHITESPACE","\n        ",166],["T_VARIABLE","$result",167],["T_WHITESPACE"," ",167],"=",["T_WHITESPACE"," ",167],["T_ARRAY","array",167],"(",")",";",["T_WHITESPACE","\n        ",167],["T_VARIABLE","$strlen",168],["T_WHITESPACE"," ",168],"=",["T_WHITESPACE"," ",168],["T_VARIABLE","$this",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","strlen",168],"(",["T_VARIABLE","$str",168],")",";",["T_WHITESPACE","\n        ",168],["T_IF","if",169],["T_WHITESPACE"," ",169],"(","(","!",["T_VARIABLE","$strlen",169],")",["T_WHITESPACE"," ",169],["T_BOOLEAN_OR","||",169],["T_WHITESPACE"," ",169],"(","!",["T_STRING","is_int",169],"(",["T_VARIABLE","$length",169],")",")",["T_WHITESPACE"," ",169],["T_BOOLEAN_OR","||",169],["T_WHITESPACE"," ",169],"(",["T_VARIABLE","$length",169],["T_WHITESPACE"," ",169],["T_IS_SMALLER_OR_EQUAL","<=",169],["T_WHITESPACE"," ",169],["T_LNUMBER","0",169],")",")",["T_WHITESPACE"," ",169],"{",["T_WHITESPACE","\n            ",169],["T_RETURN","return",170],["T_WHITESPACE"," ",170],["T_VARIABLE","$result",170],";",["T_WHITESPACE","\n        ",170],"}",["T_WHITESPACE","\n        ",171],["T_COMMENT","\/\/ trim\n",172],["T_WHITESPACE","        ",173],["T_IF","if",173],["T_WHITESPACE"," ",173],"(",["T_VARIABLE","$trim",173],")",["T_WHITESPACE"," ",173],"{",["T_WHITESPACE","\n            ",173],["T_VARIABLE","$str",174],["T_WHITESPACE"," ",174],"=",["T_WHITESPACE"," ",174],["T_STRING","trim",174],"(",["T_STRING","preg_replace",174],"(",["T_CONSTANT_ENCAPSED_STRING","'\/\\s{2,}\/siu'",174],",",["T_WHITESPACE"," ",174],["T_CONSTANT_ENCAPSED_STRING","' '",174],",",["T_WHITESPACE"," ",174],["T_VARIABLE","$str",174],")",")",";",["T_WHITESPACE","\n            ",174],["T_DOC_COMMENT","\/**\n             * In cases like:\n             * Mage::helper('core\/string')->str_split('0 1 2   ', 2, false, true);\n             * the result array have elements with boolean \"false\" value.\n             * So it fixed by\n             *\/",175],["T_WHITESPACE","\n            ",180],["T_VARIABLE","$strlen",181],["T_WHITESPACE"," ",181],"=",["T_WHITESPACE"," ",181],["T_VARIABLE","$this",181],["T_OBJECT_OPERATOR","->",181],["T_STRING","strlen",181],"(",["T_VARIABLE","$str",181],")",";",["T_WHITESPACE","\n        ",181],"}",["T_WHITESPACE","\n        ",182],["T_COMMENT","\/\/ do a usual str_split, but safe for our encoding\n",183],["T_WHITESPACE","        ",184],["T_IF","if",184],["T_WHITESPACE"," ",184],"(","(","!",["T_VARIABLE","$keepWords",184],")",["T_WHITESPACE"," ",184],["T_BOOLEAN_OR","||",184],["T_WHITESPACE"," ",184],"(",["T_VARIABLE","$length",184],["T_WHITESPACE"," ",184],"<",["T_WHITESPACE"," ",184],["T_LNUMBER","2",184],")",")",["T_WHITESPACE"," ",184],"{",["T_WHITESPACE","\n            ",184],["T_FOR","for",185],["T_WHITESPACE"," ",185],"(",["T_VARIABLE","$offset",185],["T_WHITESPACE"," ",185],"=",["T_WHITESPACE"," ",185],["T_LNUMBER","0",185],";",["T_WHITESPACE"," ",185],["T_VARIABLE","$offset",185],["T_WHITESPACE"," ",185],"<",["T_WHITESPACE"," ",185],["T_VARIABLE","$strlen",185],";",["T_WHITESPACE"," ",185],["T_VARIABLE","$offset",185],["T_WHITESPACE"," ",185],["T_PLUS_EQUAL","+=",185],["T_WHITESPACE"," ",185],["T_VARIABLE","$length",185],")",["T_WHITESPACE"," ",185],"{",["T_WHITESPACE","\n                ",185],["T_VARIABLE","$result",186],"[","]",["T_WHITESPACE"," ",186],"=",["T_WHITESPACE"," ",186],["T_VARIABLE","$this",186],["T_OBJECT_OPERATOR","->",186],["T_STRING","substr",186],"(",["T_VARIABLE","$str",186],",",["T_WHITESPACE"," ",186],["T_VARIABLE","$offset",186],",",["T_WHITESPACE"," ",186],["T_VARIABLE","$length",186],")",";",["T_WHITESPACE","\n            ",186],"}",["T_WHITESPACE","\n        ",187],"}",["T_WHITESPACE","\n        ",188],["T_COMMENT","\/\/ split smartly, keeping words\n",189],["T_WHITESPACE","        ",190],["T_ELSE","else",190],["T_WHITESPACE"," ",190],"{",["T_WHITESPACE","\n            ",190],["T_VARIABLE","$split",191],["T_WHITESPACE"," ",191],"=",["T_WHITESPACE"," ",191],["T_STRING","preg_split",191],"(",["T_CONSTANT_ENCAPSED_STRING","'\/('",191],["T_WHITESPACE"," ",191],".",["T_WHITESPACE"," ",191],["T_VARIABLE","$wordSeparatorRegex",191],["T_WHITESPACE"," ",191],".",["T_WHITESPACE"," ",191],["T_CONSTANT_ENCAPSED_STRING","'+)\/siu'",191],",",["T_WHITESPACE"," ",191],["T_VARIABLE","$str",191],",",["T_WHITESPACE"," ",191],["T_STRING","null",191],",",["T_WHITESPACE"," ",191],["T_STRING","PREG_SPLIT_DELIM_CAPTURE",191],")",";",["T_WHITESPACE","\n            ",191],["T_VARIABLE","$i",192],["T_WHITESPACE","        ",192],"=",["T_WHITESPACE"," ",192],["T_LNUMBER","0",192],";",["T_WHITESPACE","\n            ",192],["T_VARIABLE","$space",193],["T_WHITESPACE","    ",193],"=",["T_WHITESPACE"," ",193],["T_CONSTANT_ENCAPSED_STRING","''",193],";",["T_WHITESPACE","\n            ",193],["T_VARIABLE","$spaceLen",194],["T_WHITESPACE"," ",194],"=",["T_WHITESPACE"," ",194],["T_LNUMBER","0",194],";",["T_WHITESPACE","\n            ",194],["T_FOREACH","foreach",195],["T_WHITESPACE"," ",195],"(",["T_VARIABLE","$split",195],["T_WHITESPACE"," ",195],["T_AS","as",195],["T_WHITESPACE"," ",195],["T_VARIABLE","$key",195],["T_WHITESPACE"," ",195],["T_DOUBLE_ARROW","=>",195],["T_WHITESPACE"," ",195],["T_VARIABLE","$part",195],")",["T_WHITESPACE"," ",195],"{",["T_WHITESPACE","\n                ",195],["T_IF","if",196],["T_WHITESPACE"," ",196],"(",["T_VARIABLE","$trim",196],")",["T_WHITESPACE"," ",196],"{",["T_WHITESPACE","\n                    ",196],["T_COMMENT","\/\/ ignore spaces (even keys)\n",197],["T_WHITESPACE","                    ",198],["T_IF","if",198],["T_WHITESPACE"," ",198],"(",["T_VARIABLE","$key",198],["T_WHITESPACE"," ",198],"%",["T_WHITESPACE"," ",198],["T_LNUMBER","2",198],")",["T_WHITESPACE"," ",198],"{",["T_WHITESPACE","\n                        ",198],["T_CONTINUE","continue",199],";",["T_WHITESPACE","\n                    ",199],"}",["T_WHITESPACE","\n                    ",200],["T_VARIABLE","$space",201],["T_WHITESPACE","    ",201],"=",["T_WHITESPACE"," ",201],["T_CONSTANT_ENCAPSED_STRING","' '",201],";",["T_WHITESPACE","\n                    ",201],["T_VARIABLE","$spaceLen",202],["T_WHITESPACE"," ",202],"=",["T_WHITESPACE"," ",202],["T_LNUMBER","1",202],";",["T_WHITESPACE","\n                ",202],"}",["T_WHITESPACE","\n                ",203],["T_DOC_COMMENT","\/**\n                 * The empty($result[$i]) is not appropriate, because in case with empty(\"0\") expression returns \"true\",\n                 * so in cases when string have \"0\" symbol, the \"0\" will lost.\n                 * Try Mage::helper('core\/string')->str_split(\"0 aa\", 2, true);\n                 * Therefore the empty($result[$i]) expression\n                 * replaced by !isset($result[$i]) || isset($result[$i]) && $result[$i] === ''\n                 *\/",204],["T_WHITESPACE","\n                ",210],["T_IF","if",211],["T_WHITESPACE"," ",211],"(","!",["T_ISSET","isset",211],"(",["T_VARIABLE","$result",211],"[",["T_VARIABLE","$i",211],"]",")",["T_WHITESPACE"," ",211],["T_BOOLEAN_OR","||",211],["T_WHITESPACE"," ",211],["T_ISSET","isset",211],"(",["T_VARIABLE","$result",211],"[",["T_VARIABLE","$i",211],"]",")",["T_WHITESPACE"," ",211],["T_BOOLEAN_AND","&&",211],["T_WHITESPACE"," ",211],["T_VARIABLE","$result",211],"[",["T_VARIABLE","$i",211],"]",["T_WHITESPACE"," ",211],["T_IS_IDENTICAL","===",211],["T_WHITESPACE"," ",211],["T_CONSTANT_ENCAPSED_STRING","''",211],")",["T_WHITESPACE"," ",211],"{",["T_WHITESPACE","\n                    ",211],["T_VARIABLE","$currentLength",212],["T_WHITESPACE"," ",212],"=",["T_WHITESPACE"," ",212],["T_LNUMBER","0",212],";",["T_WHITESPACE","\n                    ",212],["T_VARIABLE","$result",213],"[",["T_VARIABLE","$i",213],"]",["T_WHITESPACE","    ",213],"=",["T_WHITESPACE"," ",213],["T_CONSTANT_ENCAPSED_STRING","''",213],";",["T_WHITESPACE","\n                    ",213],["T_VARIABLE","$space",214],["T_WHITESPACE","         ",214],"=",["T_WHITESPACE"," ",214],["T_CONSTANT_ENCAPSED_STRING","''",214],";",["T_WHITESPACE","\n                    ",214],["T_VARIABLE","$spaceLen",215],["T_WHITESPACE","      ",215],"=",["T_WHITESPACE"," ",215],["T_LNUMBER","0",215],";",["T_WHITESPACE","\n                ",215],"}",["T_WHITESPACE","\n                ",216],["T_ELSE","else",217],["T_WHITESPACE"," ",217],"{",["T_WHITESPACE","\n                    ",217],["T_VARIABLE","$currentLength",218],["T_WHITESPACE"," ",218],"=",["T_WHITESPACE"," ",218],["T_VARIABLE","$this",218],["T_OBJECT_OPERATOR","->",218],["T_STRING","strlen",218],"(",["T_VARIABLE","$result",218],"[",["T_VARIABLE","$i",218],"]",")",";",["T_WHITESPACE","\n                ",218],"}",["T_WHITESPACE","\n                ",219],["T_VARIABLE","$partLength",220],["T_WHITESPACE"," ",220],"=",["T_WHITESPACE"," ",220],["T_VARIABLE","$this",220],["T_OBJECT_OPERATOR","->",220],["T_STRING","strlen",220],"(",["T_VARIABLE","$part",220],")",";",["T_WHITESPACE","\n                ",220],["T_COMMENT","\/\/ add part to current last element\n",221],["T_WHITESPACE","                ",222],["T_IF","if",222],["T_WHITESPACE"," ",222],"(","(",["T_VARIABLE","$currentLength",222],["T_WHITESPACE"," ",222],"+",["T_WHITESPACE"," ",222],["T_VARIABLE","$spaceLen",222],["T_WHITESPACE"," ",222],"+",["T_WHITESPACE"," ",222],["T_VARIABLE","$partLength",222],")",["T_WHITESPACE"," ",222],["T_IS_SMALLER_OR_EQUAL","<=",222],["T_WHITESPACE"," ",222],["T_VARIABLE","$length",222],")",["T_WHITESPACE"," ",222],"{",["T_WHITESPACE","\n                    ",222],["T_VARIABLE","$result",223],"[",["T_VARIABLE","$i",223],"]",["T_WHITESPACE"," ",223],["T_CONCAT_EQUAL",".=",223],["T_WHITESPACE"," ",223],["T_VARIABLE","$space",223],["T_WHITESPACE"," ",223],".",["T_WHITESPACE"," ",223],["T_VARIABLE","$part",223],";",["T_WHITESPACE","\n                ",223],"}",["T_WHITESPACE","\n                ",224],["T_COMMENT","\/\/ add part to new element\n",225],["T_WHITESPACE","                ",226],["T_ELSEIF","elseif",226],["T_WHITESPACE"," ",226],"(",["T_VARIABLE","$partLength",226],["T_WHITESPACE"," ",226],["T_IS_SMALLER_OR_EQUAL","<=",226],["T_WHITESPACE"," ",226],["T_VARIABLE","$length",226],")",["T_WHITESPACE"," ",226],"{",["T_WHITESPACE","\n                    ",226],["T_VARIABLE","$i",227],["T_INC","++",227],";",["T_WHITESPACE","\n                    ",227],["T_VARIABLE","$result",228],"[",["T_VARIABLE","$i",228],"]",["T_WHITESPACE"," ",228],"=",["T_WHITESPACE"," ",228],["T_VARIABLE","$part",228],";",["T_WHITESPACE","\n                ",228],"}",["T_WHITESPACE","\n                ",229],["T_COMMENT","\/\/ break too long part recursively\n",230],["T_WHITESPACE","                ",231],["T_ELSE","else",231],["T_WHITESPACE"," ",231],"{",["T_WHITESPACE","\n                    ",231],["T_FOREACH","foreach",232],["T_WHITESPACE"," ",232],"(",["T_VARIABLE","$this",232],["T_OBJECT_OPERATOR","->",232],["T_STRING","str_split",232],"(",["T_VARIABLE","$part",232],",",["T_WHITESPACE"," ",232],["T_VARIABLE","$length",232],",",["T_WHITESPACE"," ",232],["T_STRING","false",232],",",["T_WHITESPACE"," ",232],["T_VARIABLE","$trim",232],",",["T_WHITESPACE"," ",232],["T_VARIABLE","$wordSeparatorRegex",232],")",["T_WHITESPACE"," ",232],["T_AS","as",232],["T_WHITESPACE"," ",232],["T_VARIABLE","$subpart",232],")",["T_WHITESPACE"," ",232],"{",["T_WHITESPACE","\n                        ",232],["T_VARIABLE","$i",233],["T_INC","++",233],";",["T_WHITESPACE","\n                        ",233],["T_VARIABLE","$result",234],"[",["T_VARIABLE","$i",234],"]",["T_WHITESPACE"," ",234],"=",["T_WHITESPACE"," ",234],["T_VARIABLE","$subpart",234],";",["T_WHITESPACE","\n                    ",234],"}",["T_WHITESPACE","\n                ",235],"}",["T_WHITESPACE","\n            ",236],"}",["T_WHITESPACE","\n        ",237],"}",["T_WHITESPACE","\n        ",238],["T_COMMENT","\/\/ remove last element, if empty\n",239],["T_WHITESPACE","        ",240],["T_IF","if",240],["T_WHITESPACE"," ",240],"(",["T_VARIABLE","$count",240],["T_WHITESPACE"," ",240],"=",["T_WHITESPACE"," ",240],["T_STRING","count",240],"(",["T_VARIABLE","$result",240],")",")",["T_WHITESPACE"," ",240],"{",["T_WHITESPACE","\n            ",240],["T_IF","if",241],["T_WHITESPACE"," ",241],"(",["T_VARIABLE","$result",241],"[",["T_VARIABLE","$count",241],["T_WHITESPACE"," ",241],"-",["T_WHITESPACE"," ",241],["T_LNUMBER","1",241],"]",["T_WHITESPACE"," ",241],["T_IS_IDENTICAL","===",241],["T_WHITESPACE"," ",241],["T_CONSTANT_ENCAPSED_STRING","''",241],")",["T_WHITESPACE"," ",241],"{",["T_WHITESPACE","\n                ",241],["T_UNSET","unset",242],"(",["T_VARIABLE","$result",242],"[",["T_VARIABLE","$count",242],["T_WHITESPACE"," ",242],"-",["T_WHITESPACE"," ",242],["T_LNUMBER","1",242],"]",")",";",["T_WHITESPACE","\n            ",242],"}",["T_WHITESPACE","\n        ",243],"}",["T_WHITESPACE","\n        ",244],["T_COMMENT","\/\/ remove first element, if empty\n",245],["T_WHITESPACE","        ",246],["T_IF","if",246],["T_WHITESPACE"," ",246],"(",["T_ISSET","isset",246],"(",["T_VARIABLE","$result",246],"[",["T_LNUMBER","0",246],"]",")",["T_WHITESPACE"," ",246],["T_BOOLEAN_AND","&&",246],["T_WHITESPACE"," ",246],["T_VARIABLE","$result",246],"[",["T_LNUMBER","0",246],"]",["T_WHITESPACE"," ",246],["T_IS_IDENTICAL","===",246],["T_WHITESPACE"," ",246],["T_CONSTANT_ENCAPSED_STRING","''",246],")",["T_WHITESPACE"," ",246],"{",["T_WHITESPACE","\n            ",246],["T_STRING","array_shift",247],"(",["T_VARIABLE","$result",247],")",";",["T_WHITESPACE","\n        ",247],"}",["T_WHITESPACE","\n        ",248],["T_RETURN","return",249],["T_WHITESPACE"," ",249],["T_VARIABLE","$result",249],";",["T_WHITESPACE","\n    ",249],"}",["T_WHITESPACE","\n\n    ",250],["T_DOC_COMMENT","\/**\n     * Split words\n     *\n     * @param string $str The source string\n     * @param bool $uniqueOnly Unique words only\n     * @param int $maxWordLength Limit words count\n     * @param string $wordSeparatorRegexp\n     * @return array\n     *\/",252],["T_WHITESPACE","\n    ",260],["T_FUNCTION","function",261],["T_WHITESPACE"," ",261],["T_STRING","splitWords",261],"(",["T_VARIABLE","$str",261],",",["T_WHITESPACE"," ",261],["T_VARIABLE","$uniqueOnly",261],["T_WHITESPACE"," ",261],"=",["T_WHITESPACE"," ",261],["T_STRING","false",261],",",["T_WHITESPACE"," ",261],["T_VARIABLE","$maxWordLength",261],["T_WHITESPACE"," ",261],"=",["T_WHITESPACE"," ",261],["T_LNUMBER","0",261],",",["T_WHITESPACE"," ",261],["T_VARIABLE","$wordSeparatorRegexp",261],["T_WHITESPACE"," ",261],"=",["T_WHITESPACE"," ",261],["T_CONSTANT_ENCAPSED_STRING","'\\s'",261],")",["T_WHITESPACE","\n    ",261],"{",["T_WHITESPACE","\n        ",262],["T_VARIABLE","$result",263],["T_WHITESPACE"," ",263],"=",["T_WHITESPACE"," ",263],["T_ARRAY","array",263],"(",")",";",["T_WHITESPACE","\n        ",263],["T_VARIABLE","$split",264],["T_WHITESPACE"," ",264],"=",["T_WHITESPACE"," ",264],["T_STRING","preg_split",264],"(",["T_CONSTANT_ENCAPSED_STRING","'#'",264],["T_WHITESPACE"," ",264],".",["T_WHITESPACE"," ",264],["T_VARIABLE","$wordSeparatorRegexp",264],["T_WHITESPACE"," ",264],".",["T_WHITESPACE"," ",264],["T_CONSTANT_ENCAPSED_STRING","'#siu'",264],",",["T_WHITESPACE"," ",264],["T_VARIABLE","$str",264],",",["T_WHITESPACE"," ",264],["T_STRING","null",264],",",["T_WHITESPACE"," ",264],["T_STRING","PREG_SPLIT_NO_EMPTY",264],")",";",["T_WHITESPACE","\n        ",264],["T_FOREACH","foreach",265],["T_WHITESPACE"," ",265],"(",["T_VARIABLE","$split",265],["T_WHITESPACE"," ",265],["T_AS","as",265],["T_WHITESPACE"," ",265],["T_VARIABLE","$word",265],")",["T_WHITESPACE"," ",265],"{",["T_WHITESPACE","\n            ",265],["T_IF","if",266],["T_WHITESPACE"," ",266],"(",["T_VARIABLE","$uniqueOnly",266],")",["T_WHITESPACE"," ",266],"{",["T_WHITESPACE","\n                ",266],["T_VARIABLE","$result",267],"[",["T_VARIABLE","$word",267],"]",["T_WHITESPACE"," ",267],"=",["T_WHITESPACE"," ",267],["T_VARIABLE","$word",267],";",["T_WHITESPACE","\n            ",267],"}",["T_WHITESPACE","\n            ",268],["T_ELSE","else",269],["T_WHITESPACE"," ",269],"{",["T_WHITESPACE","\n                ",269],["T_VARIABLE","$result",270],"[","]",["T_WHITESPACE"," ",270],"=",["T_WHITESPACE"," ",270],["T_VARIABLE","$word",270],";",["T_WHITESPACE","\n            ",270],"}",["T_WHITESPACE","\n        ",271],"}",["T_WHITESPACE","\n        ",272],["T_IF","if",273],["T_WHITESPACE"," ",273],"(",["T_VARIABLE","$maxWordLength",273],["T_WHITESPACE"," ",273],["T_BOOLEAN_AND","&&",273],["T_WHITESPACE"," ",273],["T_STRING","count",273],"(",["T_VARIABLE","$result",273],")",["T_WHITESPACE"," ",273],">",["T_WHITESPACE"," ",273],["T_VARIABLE","$maxWordLength",273],")",["T_WHITESPACE"," ",273],"{",["T_WHITESPACE","\n            ",273],["T_VARIABLE","$result",274],["T_WHITESPACE"," ",274],"=",["T_WHITESPACE"," ",274],["T_STRING","array_slice",274],"(",["T_VARIABLE","$result",274],",",["T_WHITESPACE"," ",274],["T_LNUMBER","0",274],",",["T_WHITESPACE"," ",274],["T_VARIABLE","$maxWordLength",274],")",";",["T_WHITESPACE","\n        ",274],"}",["T_WHITESPACE","\n        ",275],["T_RETURN","return",276],["T_WHITESPACE"," ",276],["T_VARIABLE","$result",276],";",["T_WHITESPACE","\n    ",276],"}",["T_WHITESPACE","\n\n    ",277],["T_DOC_COMMENT","\/**\n     * Clean non UTF-8 characters\n     *\n     * @param string $string\n     * @return string\n     *\/",279],["T_WHITESPACE","\n    ",284],["T_PUBLIC","public",285],["T_WHITESPACE"," ",285],["T_FUNCTION","function",285],["T_WHITESPACE"," ",285],["T_STRING","cleanString",285],"(",["T_VARIABLE","$string",285],")",["T_WHITESPACE","\n    ",285],"{",["T_WHITESPACE","\n        ",286],["T_RETURN","return",287],["T_WHITESPACE"," ",287],["T_CONSTANT_ENCAPSED_STRING","'\"libiconv\"'",287],["T_WHITESPACE"," ",287],["T_IS_EQUAL","==",287],["T_WHITESPACE"," ",287],["T_STRING","ICONV_IMPL",287],["T_WHITESPACE"," ",287],"?",["T_WHITESPACE","\n            ",287],["T_STRING","iconv",288],"(",["T_STRING","self",288],["T_DOUBLE_COLON","::",288],["T_STRING","ICONV_CHARSET",288],",",["T_WHITESPACE"," ",288],["T_STRING","self",288],["T_DOUBLE_COLON","::",288],["T_STRING","ICONV_CHARSET",288],["T_WHITESPACE"," ",288],".",["T_WHITESPACE"," ",288],["T_CONSTANT_ENCAPSED_STRING","'\/\/IGNORE'",288],",",["T_WHITESPACE"," ",288],["T_VARIABLE","$string",288],")",["T_WHITESPACE"," ",288],":",["T_WHITESPACE"," ",288],["T_VARIABLE","$string",288],";",["T_WHITESPACE","\n    ",288],"}",["T_WHITESPACE","\n\n    ",289],["T_DOC_COMMENT","\/**\n     * Find position of first occurrence of a string\n     *\n     * @param string $haystack\n     * @param string $needle\n     * @param int $offset\n     * @return int|false\n     *\/",291],["T_WHITESPACE","\n    ",298],["T_PUBLIC","public",299],["T_WHITESPACE"," ",299],["T_FUNCTION","function",299],["T_WHITESPACE"," ",299],["T_STRING","strpos",299],"(",["T_VARIABLE","$haystack",299],",",["T_WHITESPACE"," ",299],["T_VARIABLE","$needle",299],",",["T_WHITESPACE"," ",299],["T_VARIABLE","$offset",299],["T_WHITESPACE"," ",299],"=",["T_WHITESPACE"," ",299],["T_STRING","null",299],")",["T_WHITESPACE","\n    ",299],"{",["T_WHITESPACE","\n        ",300],["T_RETURN","return",301],["T_WHITESPACE"," ",301],["T_STRING","iconv_strpos",301],"(",["T_VARIABLE","$haystack",301],",",["T_WHITESPACE"," ",301],["T_VARIABLE","$needle",301],",",["T_WHITESPACE"," ",301],["T_VARIABLE","$offset",301],",",["T_WHITESPACE"," ",301],["T_STRING","self",301],["T_DOUBLE_COLON","::",301],["T_STRING","ICONV_CHARSET",301],")",";",["T_WHITESPACE","\n    ",301],"}",["T_WHITESPACE","\n\n    ",302],["T_DOC_COMMENT","\/**\n     * Sorts array with multibyte string keys\n     *\n     * @param array $sort\n     * @return array\n     *\/",304],["T_WHITESPACE","\n    ",309],["T_PUBLIC","public",310],["T_WHITESPACE"," ",310],["T_FUNCTION","function",310],["T_WHITESPACE"," ",310],["T_STRING","ksortMultibyte",310],"(",["T_ARRAY","array",310],["T_WHITESPACE"," ",310],"&",["T_VARIABLE","$sort",310],")",["T_WHITESPACE","\n    ",310],"{",["T_WHITESPACE","\n        ",311],["T_IF","if",312],["T_WHITESPACE"," ",312],"(",["T_EMPTY","empty",312],"(",["T_VARIABLE","$sort",312],")",")",["T_WHITESPACE"," ",312],"{",["T_WHITESPACE","\n            ",312],["T_RETURN","return",313],["T_WHITESPACE"," ",313],["T_STRING","false",313],";",["T_WHITESPACE","\n        ",313],"}",["T_WHITESPACE","\n        ",314],["T_VARIABLE","$oldLocale",315],["T_WHITESPACE"," ",315],"=",["T_WHITESPACE"," ",315],["T_STRING","setlocale",315],"(",["T_STRING","LC_COLLATE",315],",",["T_WHITESPACE"," ",315],["T_CONSTANT_ENCAPSED_STRING","\"0\"",315],")",";",["T_WHITESPACE","\n        ",315],["T_VARIABLE","$localeCode",316],["T_WHITESPACE"," ",316],"=",["T_WHITESPACE"," ",316],["T_STRING","Mage",316],["T_DOUBLE_COLON","::",316],["T_STRING","app",316],"(",")",["T_OBJECT_OPERATOR","->",316],["T_STRING","getLocale",316],"(",")",["T_OBJECT_OPERATOR","->",316],["T_STRING","getLocaleCode",316],"(",")",";",["T_WHITESPACE","\n        ",316],["T_COMMENT","\/\/ use fallback locale if $localeCode is not available\n",317],["T_WHITESPACE","        ",318],["T_STRING","setlocale",318],"(",["T_STRING","LC_COLLATE",318],",",["T_WHITESPACE","  ",318],["T_VARIABLE","$localeCode",318],["T_WHITESPACE"," ",318],".",["T_WHITESPACE"," ",318],["T_CONSTANT_ENCAPSED_STRING","'.UTF8'",318],",",["T_WHITESPACE"," ",318],["T_CONSTANT_ENCAPSED_STRING","'C.UTF-8'",318],",",["T_WHITESPACE"," ",318],["T_CONSTANT_ENCAPSED_STRING","'en_US.utf8'",318],")",";",["T_WHITESPACE","\n        ",318],["T_STRING","ksort",319],"(",["T_VARIABLE","$sort",319],",",["T_WHITESPACE"," ",319],["T_STRING","SORT_LOCALE_STRING",319],")",";",["T_WHITESPACE","\n        ",319],["T_STRING","setlocale",320],"(",["T_STRING","LC_COLLATE",320],",",["T_WHITESPACE"," ",320],["T_VARIABLE","$oldLocale",320],")",";",["T_WHITESPACE","\n\n        ",320],["T_RETURN","return",322],["T_WHITESPACE"," ",322],["T_VARIABLE","$sort",322],";",["T_WHITESPACE","\n    ",322],"}",["T_WHITESPACE","\n\n    ",323],["T_DOC_COMMENT","\/**\n     * Parse query string to array\n     *\n     * @param string $str\n     * @return array\n     *\/",325],["T_WHITESPACE","\n    ",330],["T_PUBLIC","public",331],["T_WHITESPACE"," ",331],["T_FUNCTION","function",331],["T_WHITESPACE"," ",331],["T_STRING","parseQueryStr",331],"(",["T_VARIABLE","$str",331],")",["T_WHITESPACE","\n    ",331],"{",["T_WHITESPACE","\n        ",332],["T_VARIABLE","$argSeparator",333],["T_WHITESPACE"," ",333],"=",["T_WHITESPACE"," ",333],["T_CONSTANT_ENCAPSED_STRING","'&'",333],";",["T_WHITESPACE","\n        ",333],["T_VARIABLE","$result",334],["T_WHITESPACE"," ",334],"=",["T_WHITESPACE"," ",334],["T_ARRAY","array",334],"(",")",";",["T_WHITESPACE","\n        ",334],["T_VARIABLE","$partsQueryStr",335],["T_WHITESPACE"," ",335],"=",["T_WHITESPACE"," ",335],["T_STRING","explode",335],"(",["T_VARIABLE","$argSeparator",335],",",["T_WHITESPACE"," ",335],["T_VARIABLE","$str",335],")",";",["T_WHITESPACE","\n\n        ",335],["T_FOREACH","foreach",337],["T_WHITESPACE"," ",337],"(",["T_VARIABLE","$partsQueryStr",337],["T_WHITESPACE"," ",337],["T_AS","as",337],["T_WHITESPACE"," ",337],["T_VARIABLE","$partQueryStr",337],")",["T_WHITESPACE"," ",337],"{",["T_WHITESPACE","\n            ",337],["T_IF","if",338],["T_WHITESPACE"," ",338],"(",["T_VARIABLE","$this",338],["T_OBJECT_OPERATOR","->",338],["T_STRING","_validateQueryStr",338],"(",["T_VARIABLE","$partQueryStr",338],")",")",["T_WHITESPACE"," ",338],"{",["T_WHITESPACE","\n                ",338],["T_VARIABLE","$param",339],["T_WHITESPACE"," ",339],"=",["T_WHITESPACE"," ",339],["T_VARIABLE","$this",339],["T_OBJECT_OPERATOR","->",339],["T_STRING","_explodeAndDecodeParam",339],"(",["T_VARIABLE","$partQueryStr",339],")",";",["T_WHITESPACE","\n                ",339],["T_VARIABLE","$param",340],["T_WHITESPACE"," ",340],"=",["T_WHITESPACE"," ",340],["T_VARIABLE","$this",340],["T_OBJECT_OPERATOR","->",340],["T_STRING","_handleRecursiveParamForQueryStr",340],"(",["T_VARIABLE","$param",340],")",";",["T_WHITESPACE","\n                ",340],["T_VARIABLE","$result",341],["T_WHITESPACE"," ",341],"=",["T_WHITESPACE"," ",341],["T_VARIABLE","$this",341],["T_OBJECT_OPERATOR","->",341],["T_STRING","_appendParam",341],"(",["T_VARIABLE","$result",341],",",["T_WHITESPACE"," ",341],["T_VARIABLE","$param",341],")",";",["T_WHITESPACE","\n            ",341],"}",["T_WHITESPACE","\n        ",342],"}",["T_WHITESPACE","\n        ",343],["T_RETURN","return",344],["T_WHITESPACE"," ",344],["T_VARIABLE","$result",344],";",["T_WHITESPACE","\n    ",344],"}",["T_WHITESPACE","\n\n    ",345],["T_DOC_COMMENT","\/**\n     * Validate query pair string\n     *\n     * @param string $str\n     * @return bool\n     *\/",347],["T_WHITESPACE","\n    ",352],["T_PROTECTED","protected",353],["T_WHITESPACE"," ",353],["T_FUNCTION","function",353],["T_WHITESPACE"," ",353],["T_STRING","_validateQueryStr",353],"(",["T_VARIABLE","$str",353],")",["T_WHITESPACE","\n    ",353],"{",["T_WHITESPACE","\n        ",354],["T_IF","if",355],["T_WHITESPACE"," ",355],"(","!",["T_VARIABLE","$str",355],["T_WHITESPACE"," ",355],["T_BOOLEAN_OR","||",355],["T_WHITESPACE"," ",355],"(",["T_STRING","strpos",355],"(",["T_VARIABLE","$str",355],",",["T_WHITESPACE"," ",355],["T_CONSTANT_ENCAPSED_STRING","'='",355],")",["T_WHITESPACE"," ",355],["T_IS_IDENTICAL","===",355],["T_WHITESPACE"," ",355],["T_STRING","false",355],")",")",["T_WHITESPACE"," ",355],"{",["T_WHITESPACE","\n            ",355],["T_RETURN","return",356],["T_WHITESPACE"," ",356],["T_STRING","false",356],";",["T_WHITESPACE","\n        ",356],"}",["T_WHITESPACE","\n        ",357],["T_RETURN","return",358],["T_WHITESPACE"," ",358],["T_STRING","true",358],";",["T_WHITESPACE","\n    ",358],"}",["T_WHITESPACE","\n\n    ",359],["T_DOC_COMMENT","\/**\n     * Prepare param\n     *\n     * @param string $str\n     * @return array\n     *\/",361],["T_WHITESPACE","\n    ",366],["T_PROTECTED","protected",367],["T_WHITESPACE"," ",367],["T_FUNCTION","function",367],["T_WHITESPACE"," ",367],["T_STRING","_explodeAndDecodeParam",367],"(",["T_VARIABLE","$str",367],")",["T_WHITESPACE","\n    ",367],"{",["T_WHITESPACE","\n        ",368],["T_VARIABLE","$preparedParam",369],["T_WHITESPACE"," ",369],"=",["T_WHITESPACE"," ",369],["T_ARRAY","array",369],"(",")",";",["T_WHITESPACE","\n        ",369],["T_VARIABLE","$param",370],["T_WHITESPACE"," ",370],"=",["T_WHITESPACE"," ",370],["T_STRING","explode",370],"(",["T_CONSTANT_ENCAPSED_STRING","'='",370],",",["T_WHITESPACE"," ",370],["T_VARIABLE","$str",370],")",";",["T_WHITESPACE","\n        ",370],["T_VARIABLE","$preparedParam",371],"[",["T_CONSTANT_ENCAPSED_STRING","'key'",371],"]",["T_WHITESPACE"," ",371],"=",["T_WHITESPACE"," ",371],["T_STRING","urldecode",371],"(",["T_STRING","array_shift",371],"(",["T_VARIABLE","$param",371],")",")",";",["T_WHITESPACE","\n        ",371],["T_VARIABLE","$preparedParam",372],"[",["T_CONSTANT_ENCAPSED_STRING","'value'",372],"]",["T_WHITESPACE"," ",372],"=",["T_WHITESPACE"," ",372],["T_STRING","urldecode",372],"(",["T_STRING","array_shift",372],"(",["T_VARIABLE","$param",372],")",")",";",["T_WHITESPACE","\n\n        ",372],["T_RETURN","return",374],["T_WHITESPACE"," ",374],["T_VARIABLE","$preparedParam",374],";",["T_WHITESPACE","\n    ",374],"}",["T_WHITESPACE","\n\n    ",375],["T_DOC_COMMENT","\/**\n     * Append param to general result\n     *\n     * @param array $result\n     * @param array $param\n     * @return array\n     *\/",377],["T_WHITESPACE","\n    ",383],["T_PROTECTED","protected",384],["T_WHITESPACE"," ",384],["T_FUNCTION","function",384],["T_WHITESPACE"," ",384],["T_STRING","_appendParam",384],"(",["T_ARRAY","array",384],["T_WHITESPACE"," ",384],["T_VARIABLE","$result",384],",",["T_WHITESPACE"," ",384],["T_ARRAY","array",384],["T_WHITESPACE"," ",384],["T_VARIABLE","$param",384],")",["T_WHITESPACE","\n    ",384],"{",["T_WHITESPACE","\n        ",385],["T_VARIABLE","$key",386],["T_WHITESPACE","   ",386],"=",["T_WHITESPACE"," ",386],["T_VARIABLE","$param",386],"[",["T_CONSTANT_ENCAPSED_STRING","'key'",386],"]",";",["T_WHITESPACE","\n        ",386],["T_VARIABLE","$value",387],["T_WHITESPACE"," ",387],"=",["T_WHITESPACE"," ",387],["T_VARIABLE","$param",387],"[",["T_CONSTANT_ENCAPSED_STRING","'value'",387],"]",";",["T_WHITESPACE","\n\n        ",387],["T_IF","if",389],["T_WHITESPACE"," ",389],"(",["T_VARIABLE","$key",389],")",["T_WHITESPACE"," ",389],"{",["T_WHITESPACE","\n            ",389],["T_IF","if",390],["T_WHITESPACE"," ",390],"(",["T_STRING","is_array",390],"(",["T_VARIABLE","$value",390],")",["T_WHITESPACE"," ",390],["T_BOOLEAN_AND","&&",390],["T_WHITESPACE"," ",390],["T_STRING","array_key_exists",390],"(",["T_VARIABLE","$key",390],",",["T_WHITESPACE"," ",390],["T_VARIABLE","$result",390],")",")",["T_WHITESPACE"," ",390],"{",["T_WHITESPACE","\n                ",390],["T_VARIABLE","$helper",391],["T_WHITESPACE"," ",391],"=",["T_WHITESPACE"," ",391],["T_VARIABLE","$this",391],["T_OBJECT_OPERATOR","->",391],["T_STRING","getArrayHelper",391],"(",")",";",["T_WHITESPACE","\n                ",391],["T_VARIABLE","$result",392],"[",["T_VARIABLE","$key",392],"]",["T_WHITESPACE"," ",392],"=",["T_WHITESPACE"," ",392],["T_VARIABLE","$helper",392],["T_OBJECT_OPERATOR","->",392],["T_STRING","mergeRecursiveWithoutOverwriteNumKeys",392],"(",["T_VARIABLE","$result",392],"[",["T_VARIABLE","$key",392],"]",",",["T_WHITESPACE"," ",392],["T_VARIABLE","$value",392],")",";",["T_WHITESPACE","\n            ",392],"}",["T_WHITESPACE"," ",393],["T_ELSE","else",393],["T_WHITESPACE"," ",393],"{",["T_WHITESPACE","\n                ",393],["T_VARIABLE","$result",394],"[",["T_VARIABLE","$key",394],"]",["T_WHITESPACE"," ",394],"=",["T_WHITESPACE"," ",394],["T_VARIABLE","$value",394],";",["T_WHITESPACE","\n            ",394],"}",["T_WHITESPACE","\n        ",395],"}",["T_WHITESPACE","\n\n        ",396],["T_RETURN","return",398],["T_WHITESPACE"," ",398],["T_VARIABLE","$result",398],";",["T_WHITESPACE","\n    ",398],"}",["T_WHITESPACE","\n\n    ",399],["T_DOC_COMMENT","\/**\n     * Handle param recursively\n     *\n     * @param array $param\n     * @return array\n     *\/",401],["T_WHITESPACE","\n    ",406],["T_PROTECTED","protected",407],["T_WHITESPACE"," ",407],["T_FUNCTION","function",407],["T_WHITESPACE"," ",407],["T_STRING","_handleRecursiveParamForQueryStr",407],"(",["T_ARRAY","array",407],["T_WHITESPACE"," ",407],["T_VARIABLE","$param",407],")",["T_WHITESPACE","\n    ",407],"{",["T_WHITESPACE","\n        ",408],["T_VARIABLE","$value",409],["T_WHITESPACE"," ",409],"=",["T_WHITESPACE"," ",409],["T_VARIABLE","$param",409],"[",["T_CONSTANT_ENCAPSED_STRING","'value'",409],"]",";",["T_WHITESPACE","\n        ",409],["T_VARIABLE","$key",410],["T_WHITESPACE"," ",410],"=",["T_WHITESPACE"," ",410],["T_VARIABLE","$param",410],"[",["T_CONSTANT_ENCAPSED_STRING","'key'",410],"]",";",["T_WHITESPACE","\n\n        ",410],["T_VARIABLE","$subKeyBrackets",412],["T_WHITESPACE"," ",412],"=",["T_WHITESPACE"," ",412],["T_VARIABLE","$this",412],["T_OBJECT_OPERATOR","->",412],["T_STRING","_getLastSubkey",412],"(",["T_VARIABLE","$key",412],")",";",["T_WHITESPACE","\n        ",412],["T_VARIABLE","$subKey",413],["T_WHITESPACE"," ",413],"=",["T_WHITESPACE"," ",413],["T_VARIABLE","$this",413],["T_OBJECT_OPERATOR","->",413],["T_STRING","_getLastSubkey",413],"(",["T_VARIABLE","$key",413],",",["T_WHITESPACE"," ",413],["T_STRING","false",413],")",";",["T_WHITESPACE","\n        ",413],["T_IF","if",414],["T_WHITESPACE"," ",414],"(",["T_VARIABLE","$subKeyBrackets",414],")",["T_WHITESPACE"," ",414],"{",["T_WHITESPACE","\n            ",414],["T_IF","if",415],["T_WHITESPACE"," ",415],"(",["T_VARIABLE","$subKey",415],")",["T_WHITESPACE"," ",415],"{",["T_WHITESPACE","\n                ",415],["T_VARIABLE","$param",416],"[",["T_CONSTANT_ENCAPSED_STRING","'value'",416],"]",["T_WHITESPACE"," ",416],"=",["T_WHITESPACE"," ",416],["T_ARRAY","array",416],"(",["T_VARIABLE","$subKey",416],["T_WHITESPACE"," ",416],["T_DOUBLE_ARROW","=>",416],["T_WHITESPACE"," ",416],["T_VARIABLE","$value",416],")",";",["T_WHITESPACE","\n            ",416],"}",["T_WHITESPACE"," ",417],["T_ELSE","else",417],["T_WHITESPACE"," ",417],"{",["T_WHITESPACE","\n                ",417],["T_VARIABLE","$param",418],"[",["T_CONSTANT_ENCAPSED_STRING","'value'",418],"]",["T_WHITESPACE"," ",418],"=",["T_WHITESPACE"," ",418],["T_ARRAY","array",418],"(",["T_VARIABLE","$value",418],")",";",["T_WHITESPACE","\n            ",418],"}",["T_WHITESPACE","\n            ",419],["T_VARIABLE","$param",420],"[",["T_CONSTANT_ENCAPSED_STRING","'key'",420],"]",["T_WHITESPACE"," ",420],"=",["T_WHITESPACE"," ",420],["T_VARIABLE","$this",420],["T_OBJECT_OPERATOR","->",420],["T_STRING","_removeSubkeyPartFromKey",420],"(",["T_VARIABLE","$key",420],",",["T_WHITESPACE"," ",420],["T_VARIABLE","$subKeyBrackets",420],")",";",["T_WHITESPACE","\n            ",420],["T_VARIABLE","$param",421],["T_WHITESPACE"," ",421],"=",["T_WHITESPACE"," ",421],["T_VARIABLE","$this",421],["T_OBJECT_OPERATOR","->",421],["T_STRING","_handleRecursiveParamForQueryStr",421],"(",["T_VARIABLE","$param",421],")",";",["T_WHITESPACE","\n        ",421],"}",["T_WHITESPACE","\n\n        ",422],["T_RETURN","return",424],["T_WHITESPACE"," ",424],["T_VARIABLE","$param",424],";",["T_WHITESPACE","\n    ",424],"}",["T_WHITESPACE","\n\n    ",425],["T_DOC_COMMENT","\/**\n     * Remove subkey part from key\n     *\n     * @param string $key\n     * @param string $subKeyBrackets\n     * @return string\n     *\/",427],["T_WHITESPACE","\n    ",433],["T_PROTECTED","protected",434],["T_WHITESPACE"," ",434],["T_FUNCTION","function",434],["T_WHITESPACE"," ",434],["T_STRING","_removeSubkeyPartFromKey",434],"(",["T_VARIABLE","$key",434],",",["T_WHITESPACE"," ",434],["T_VARIABLE","$subKeyBrackets",434],")",["T_WHITESPACE","\n    ",434],"{",["T_WHITESPACE","\n        ",435],["T_RETURN","return",436],["T_WHITESPACE"," ",436],["T_STRING","substr",436],"(",["T_VARIABLE","$key",436],",",["T_WHITESPACE"," ",436],["T_LNUMBER","0",436],",",["T_WHITESPACE"," ",436],["T_STRING","strrpos",436],"(",["T_VARIABLE","$key",436],",",["T_WHITESPACE"," ",436],["T_VARIABLE","$subKeyBrackets",436],")",")",";",["T_WHITESPACE","\n    ",436],"}",["T_WHITESPACE","\n\n    ",437],["T_DOC_COMMENT","\/**\n     * Get last part key from query array\n     *\n     * @param string $key\n     * @param bool $withBrackets\n     * @return string\n     *\/",439],["T_WHITESPACE","\n    ",445],["T_PROTECTED","protected",446],["T_WHITESPACE"," ",446],["T_FUNCTION","function",446],["T_WHITESPACE"," ",446],["T_STRING","_getLastSubkey",446],"(",["T_VARIABLE","$key",446],",",["T_WHITESPACE"," ",446],["T_VARIABLE","$withBrackets",446],["T_WHITESPACE"," ",446],"=",["T_WHITESPACE"," ",446],["T_STRING","true",446],")",["T_WHITESPACE","\n    ",446],"{",["T_WHITESPACE","\n        ",447],["T_VARIABLE","$subKey",448],["T_WHITESPACE"," ",448],"=",["T_WHITESPACE"," ",448],["T_CONSTANT_ENCAPSED_STRING","''",448],";",["T_WHITESPACE","\n        ",448],["T_VARIABLE","$leftBracketSymbol",449],["T_WHITESPACE","  ",449],"=",["T_WHITESPACE"," ",449],["T_CONSTANT_ENCAPSED_STRING","'['",449],";",["T_WHITESPACE","\n        ",449],["T_VARIABLE","$rightBracketSymbol",450],["T_WHITESPACE"," ",450],"=",["T_WHITESPACE"," ",450],["T_CONSTANT_ENCAPSED_STRING","']'",450],";",["T_WHITESPACE","\n\n        ",450],["T_VARIABLE","$firstPos",452],["T_WHITESPACE"," ",452],"=",["T_WHITESPACE"," ",452],["T_STRING","strrpos",452],"(",["T_VARIABLE","$key",452],",",["T_WHITESPACE"," ",452],["T_VARIABLE","$leftBracketSymbol",452],")",";",["T_WHITESPACE","\n        ",452],["T_VARIABLE","$lastPos",453],["T_WHITESPACE","  ",453],"=",["T_WHITESPACE"," ",453],["T_STRING","strrpos",453],"(",["T_VARIABLE","$key",453],",",["T_WHITESPACE"," ",453],["T_VARIABLE","$rightBracketSymbol",453],")",";",["T_WHITESPACE","\n\n        ",453],["T_IF","if",455],["T_WHITESPACE"," ",455],"(","(",["T_VARIABLE","$firstPos",455],["T_WHITESPACE"," ",455],["T_IS_NOT_IDENTICAL","!==",455],["T_WHITESPACE"," ",455],["T_STRING","false",455],["T_WHITESPACE"," ",455],["T_BOOLEAN_OR","||",455],["T_WHITESPACE"," ",455],["T_VARIABLE","$lastPos",455],["T_WHITESPACE"," ",455],["T_IS_NOT_IDENTICAL","!==",455],["T_WHITESPACE"," ",455],["T_STRING","false",455],")",["T_WHITESPACE","\n            ",455],["T_BOOLEAN_AND","&&",456],["T_WHITESPACE"," ",456],["T_VARIABLE","$firstPos",456],["T_WHITESPACE"," ",456],"<",["T_WHITESPACE"," ",456],["T_VARIABLE","$lastPos",456],["T_WHITESPACE","\n        ",456],")",["T_WHITESPACE"," ",457],"{",["T_WHITESPACE","\n            ",457],["T_VARIABLE","$keyLenght",458],["T_WHITESPACE"," ",458],"=",["T_WHITESPACE"," ",458],["T_VARIABLE","$lastPos",458],["T_WHITESPACE"," ",458],"-",["T_WHITESPACE"," ",458],["T_VARIABLE","$firstPos",458],["T_WHITESPACE"," ",458],"+",["T_WHITESPACE"," ",458],["T_LNUMBER","1",458],";",["T_WHITESPACE","\n            ",458],["T_VARIABLE","$subKey",459],["T_WHITESPACE"," ",459],"=",["T_WHITESPACE"," ",459],["T_STRING","substr",459],"(",["T_VARIABLE","$key",459],",",["T_WHITESPACE"," ",459],["T_VARIABLE","$firstPos",459],",",["T_WHITESPACE"," ",459],["T_VARIABLE","$keyLenght",459],")",";",["T_WHITESPACE","\n            ",459],["T_IF","if",460],["T_WHITESPACE"," ",460],"(","!",["T_VARIABLE","$withBrackets",460],")",["T_WHITESPACE"," ",460],"{",["T_WHITESPACE","\n                ",460],["T_VARIABLE","$subKey",461],["T_WHITESPACE"," ",461],"=",["T_WHITESPACE"," ",461],["T_STRING","ltrim",461],"(",["T_VARIABLE","$subKey",461],",",["T_WHITESPACE"," ",461],["T_VARIABLE","$leftBracketSymbol",461],")",";",["T_WHITESPACE","\n                ",461],["T_VARIABLE","$subKey",462],["T_WHITESPACE"," ",462],"=",["T_WHITESPACE"," ",462],["T_STRING","rtrim",462],"(",["T_VARIABLE","$subKey",462],",",["T_WHITESPACE"," ",462],["T_VARIABLE","$rightBracketSymbol",462],")",";",["T_WHITESPACE","\n            ",462],"}",["T_WHITESPACE","\n        ",463],"}",["T_WHITESPACE","\n        ",464],["T_RETURN","return",465],["T_WHITESPACE"," ",465],["T_VARIABLE","$subKey",465],";",["T_WHITESPACE","\n    ",465],"}",["T_WHITESPACE","\n\n    ",466],["T_DOC_COMMENT","\/**\n     * Set array helper\n     *\n     * @param Mage_Core_Helper_Abstract $helper\n     * @return Mage_Core_Helper_String\n     *\/",468],["T_WHITESPACE","\n    ",473],["T_PUBLIC","public",474],["T_WHITESPACE"," ",474],["T_FUNCTION","function",474],["T_WHITESPACE"," ",474],["T_STRING","setArrayHelper",474],"(",["T_STRING","Mage_Core_Helper_Abstract",474],["T_WHITESPACE"," ",474],["T_VARIABLE","$helper",474],")",["T_WHITESPACE","\n    ",474],"{",["T_WHITESPACE","\n        ",475],["T_VARIABLE","$this",476],["T_OBJECT_OPERATOR","->",476],["T_STRING","_arrayHelper",476],["T_WHITESPACE"," ",476],"=",["T_WHITESPACE"," ",476],["T_VARIABLE","$helper",476],";",["T_WHITESPACE","\n        ",476],["T_RETURN","return",477],["T_WHITESPACE"," ",477],["T_VARIABLE","$this",477],";",["T_WHITESPACE","\n    ",477],"}",["T_WHITESPACE","\n\n    ",478],["T_DOC_COMMENT","\/**\n     * Get Array Helper\n     *\n     * @return Mage_Core_Helper_Array\n     *\/",480],["T_WHITESPACE","\n    ",484],["T_PUBLIC","public",485],["T_WHITESPACE"," ",485],["T_FUNCTION","function",485],["T_WHITESPACE"," ",485],["T_STRING","getArrayHelper",485],"(",")",["T_WHITESPACE","\n    ",485],"{",["T_WHITESPACE","\n        ",486],["T_IF","if",487],["T_WHITESPACE"," ",487],"(","!",["T_VARIABLE","$this",487],["T_OBJECT_OPERATOR","->",487],["T_STRING","_arrayHelper",487],")",["T_WHITESPACE"," ",487],"{",["T_WHITESPACE","\n            ",487],["T_VARIABLE","$this",488],["T_OBJECT_OPERATOR","->",488],["T_STRING","_arrayHelper",488],["T_WHITESPACE"," ",488],"=",["T_WHITESPACE"," ",488],["T_STRING","Mage",488],["T_DOUBLE_COLON","::",488],["T_STRING","helper",488],"(",["T_CONSTANT_ENCAPSED_STRING","'core\/array'",488],")",";",["T_WHITESPACE","\n        ",488],"}",["T_WHITESPACE","\n        ",489],["T_RETURN","return",490],["T_WHITESPACE"," ",490],["T_VARIABLE","$this",490],["T_OBJECT_OPERATOR","->",490],["T_STRING","_arrayHelper",490],";",["T_WHITESPACE","\n    ",490],"}",["T_WHITESPACE","\n\n    ",491],["T_DOC_COMMENT","\/**\n     * Unicode compatible ord() method\n     *\n     * @param  string $c char to get value from\n     * @return integer\n     *\/",493],["T_WHITESPACE","\n    ",498],["T_PUBLIC","public",499],["T_WHITESPACE"," ",499],["T_FUNCTION","function",499],["T_WHITESPACE"," ",499],["T_STRING","uniOrd",499],"(",["T_VARIABLE","$c",499],")",["T_WHITESPACE","\n    ",499],"{",["T_WHITESPACE","\n        ",500],["T_VARIABLE","$ord",501],["T_WHITESPACE"," ",501],"=",["T_WHITESPACE"," ",501],["T_LNUMBER","0",501],";",["T_WHITESPACE","\n        ",501],["T_VARIABLE","$h",502],["T_WHITESPACE","   ",502],"=",["T_WHITESPACE"," ",502],["T_STRING","ord",502],"(",["T_VARIABLE","$c",502],"[",["T_LNUMBER","0",502],"]",")",";",["T_WHITESPACE","\n\n        ",502],["T_IF","if",504],["T_WHITESPACE"," ",504],"(",["T_VARIABLE","$h",504],["T_WHITESPACE"," ",504],["T_IS_SMALLER_OR_EQUAL","<=",504],["T_WHITESPACE"," ",504],["T_LNUMBER","0x7F",504],")",["T_WHITESPACE"," ",504],"{",["T_WHITESPACE","\n            ",504],["T_VARIABLE","$ord",505],["T_WHITESPACE"," ",505],"=",["T_WHITESPACE"," ",505],["T_VARIABLE","$h",505],";",["T_WHITESPACE","\n        ",505],"}",["T_WHITESPACE"," ",506],["T_ELSE","else",506],["T_WHITESPACE"," ",506],["T_IF","if",506],["T_WHITESPACE"," ",506],"(",["T_VARIABLE","$h",506],["T_WHITESPACE"," ",506],"<",["T_WHITESPACE"," ",506],["T_LNUMBER","0xC2",506],")",["T_WHITESPACE"," ",506],"{",["T_WHITESPACE","\n            ",506],["T_VARIABLE","$ord",507],["T_WHITESPACE"," ",507],"=",["T_WHITESPACE"," ",507],["T_LNUMBER","0",507],";",["T_WHITESPACE","\n        ",507],"}",["T_WHITESPACE"," ",508],["T_ELSE","else",508],["T_WHITESPACE"," ",508],["T_IF","if",508],["T_WHITESPACE"," ",508],"(",["T_VARIABLE","$h",508],["T_WHITESPACE"," ",508],["T_IS_SMALLER_OR_EQUAL","<=",508],["T_WHITESPACE"," ",508],["T_LNUMBER","0xDF",508],")",["T_WHITESPACE"," ",508],"{",["T_WHITESPACE","\n            ",508],["T_VARIABLE","$ord",509],["T_WHITESPACE"," ",509],"=",["T_WHITESPACE"," ",509],"(","(",["T_VARIABLE","$h",509],["T_WHITESPACE"," ",509],"&",["T_WHITESPACE"," ",509],["T_LNUMBER","0x1F",509],")",["T_WHITESPACE"," ",509],["T_SL","<<",509],["T_WHITESPACE"," ",509],["T_LNUMBER","6",509],["T_WHITESPACE"," ",509],"|",["T_WHITESPACE"," ",509],"(",["T_STRING","ord",509],"(",["T_VARIABLE","$c",509],"[",["T_LNUMBER","1",509],"]",")",["T_WHITESPACE"," ",509],"&",["T_WHITESPACE"," ",509],["T_LNUMBER","0x3F",509],")",")",";",["T_WHITESPACE","\n        ",509],"}",["T_WHITESPACE"," ",510],["T_ELSE","else",510],["T_WHITESPACE"," ",510],["T_IF","if",510],["T_WHITESPACE"," ",510],"(",["T_VARIABLE","$h",510],["T_WHITESPACE"," ",510],["T_IS_SMALLER_OR_EQUAL","<=",510],["T_WHITESPACE"," ",510],["T_LNUMBER","0xEF",510],")",["T_WHITESPACE"," ",510],"{",["T_WHITESPACE","\n            ",510],["T_VARIABLE","$ord",511],["T_WHITESPACE"," ",511],"=",["T_WHITESPACE"," ",511],"(","(",["T_VARIABLE","$h",511],["T_WHITESPACE"," ",511],"&",["T_WHITESPACE"," ",511],["T_LNUMBER","0x0F",511],")",["T_WHITESPACE"," ",511],["T_SL","<<",511],["T_WHITESPACE"," ",511],["T_LNUMBER","12",511],["T_WHITESPACE"," ",511],"|",["T_WHITESPACE"," ",511],"(",["T_STRING","ord",511],"(",["T_VARIABLE","$c",511],"[",["T_LNUMBER","1",511],"]",")",["T_WHITESPACE"," ",511],"&",["T_WHITESPACE"," ",511],["T_LNUMBER","0x3F",511],")",["T_WHITESPACE"," ",511],["T_SL","<<",511],["T_WHITESPACE"," ",511],["T_LNUMBER","6",511],["T_WHITESPACE"," ",511],"|",["T_WHITESPACE"," ",511],"(",["T_STRING","ord",511],"(",["T_VARIABLE","$c",511],"[",["T_LNUMBER","2",511],"]",")",["T_WHITESPACE"," ",511],"&",["T_WHITESPACE"," ",511],["T_LNUMBER","0x3F",511],")",")",";",["T_WHITESPACE","\n        ",511],"}",["T_WHITESPACE"," ",512],["T_ELSE","else",512],["T_WHITESPACE"," ",512],["T_IF","if",512],["T_WHITESPACE"," ",512],"(",["T_VARIABLE","$h",512],["T_WHITESPACE"," ",512],["T_IS_SMALLER_OR_EQUAL","<=",512],["T_WHITESPACE"," ",512],["T_LNUMBER","0xF4",512],")",["T_WHITESPACE"," ",512],"{",["T_WHITESPACE","\n            ",512],["T_VARIABLE","$ord",513],["T_WHITESPACE"," ",513],"=",["T_WHITESPACE"," ",513],"(","(",["T_VARIABLE","$h",513],["T_WHITESPACE"," ",513],"&",["T_WHITESPACE"," ",513],["T_LNUMBER","0x0F",513],")",["T_WHITESPACE"," ",513],["T_SL","<<",513],["T_WHITESPACE"," ",513],["T_LNUMBER","18",513],["T_WHITESPACE"," ",513],"|",["T_WHITESPACE"," ",513],"(",["T_STRING","ord",513],"(",["T_VARIABLE","$c",513],"[",["T_LNUMBER","1",513],"]",")",["T_WHITESPACE"," ",513],"&",["T_WHITESPACE"," ",513],["T_LNUMBER","0x3F",513],")",["T_WHITESPACE"," ",513],["T_SL","<<",513],["T_WHITESPACE"," ",513],["T_LNUMBER","12",513],["T_WHITESPACE"," ",513],"|",["T_WHITESPACE","\n                ",513],"(",["T_STRING","ord",514],"(",["T_VARIABLE","$c",514],"[",["T_LNUMBER","2",514],"]",")",["T_WHITESPACE"," ",514],"&",["T_WHITESPACE"," ",514],["T_LNUMBER","0x3F",514],")",["T_WHITESPACE"," ",514],["T_SL","<<",514],["T_WHITESPACE"," ",514],["T_LNUMBER","6",514],["T_WHITESPACE"," ",514],"|",["T_WHITESPACE"," ",514],"(",["T_STRING","ord",514],"(",["T_VARIABLE","$c",514],"[",["T_LNUMBER","3",514],"]",")",["T_WHITESPACE"," ",514],"&",["T_WHITESPACE"," ",514],["T_LNUMBER","0x3F",514],")",")",";",["T_WHITESPACE","\n        ",514],"}",["T_WHITESPACE","\n\n        ",515],["T_RETURN","return",517],["T_WHITESPACE"," ",517],["T_VARIABLE","$ord",517],";",["T_WHITESPACE","\n    ",517],"}",["T_WHITESPACE","\n",518],"}",["T_WHITESPACE","\n",519]]