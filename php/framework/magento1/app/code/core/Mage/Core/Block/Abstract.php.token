[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Magento\n *\n * NOTICE OF LICENSE\n *\n * This source file is subject to the Open Software License (OSL 3.0)\n * that is bundled with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/opensource.org\/licenses\/osl-3.0.php\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@magento.com so we can send you a copy immediately.\n *\n * DISCLAIMER\n *\n * Do not edit or add to this file if you wish to upgrade Magento to newer\n * versions in the future. If you wish to customize Magento for your\n * needs please refer to http:\/\/www.magento.com for more information.\n *\n * @category    Mage\n * @package     Mage_Core\n * @copyright  Copyright (c) 2006-2016 X.commerce, Inc. and affiliates (http:\/\/www.magento.com)\n * @license    http:\/\/opensource.org\/licenses\/osl-3.0.php  Open Software License (OSL 3.0)\n *\/",2],["T_WHITESPACE","\n\n",25],["T_DOC_COMMENT","\/**\n * Base Content Block class\n *\n * For block generation you must define Data source class, data source class method,\n * parameters array and block template\n *\n * @category   Mage\n * @package    Mage_Core\n * @author     Magento Core Team <core@magentocommerce.com>\n *\/",27],["T_WHITESPACE","\n",36],["T_ABSTRACT","abstract",37],["T_WHITESPACE"," ",37],["T_CLASS","class",37],["T_WHITESPACE"," ",37],["T_STRING","Mage_Core_Block_Abstract",37],["T_WHITESPACE"," ",37],["T_EXTENDS","extends",37],["T_WHITESPACE"," ",37],["T_STRING","Varien_Object",37],["T_WHITESPACE","\n",37],"{",["T_WHITESPACE","\n    ",38],["T_DOC_COMMENT","\/**\n     * Prefix for cache key\n     *\/",39],["T_WHITESPACE","\n    ",41],["T_CONST","const",42],["T_WHITESPACE"," ",42],["T_STRING","CACHE_KEY_PREFIX",42],["T_WHITESPACE"," ",42],"=",["T_WHITESPACE"," ",42],["T_CONSTANT_ENCAPSED_STRING","'BLOCK_'",42],";",["T_WHITESPACE","\n    ",42],["T_DOC_COMMENT","\/**\n     * Cache group Tag\n     *\/",43],["T_WHITESPACE","\n    ",45],["T_CONST","const",46],["T_WHITESPACE"," ",46],["T_STRING","CACHE_GROUP",46],["T_WHITESPACE"," ",46],"=",["T_WHITESPACE"," ",46],["T_CONSTANT_ENCAPSED_STRING","'block_html'",46],";",["T_WHITESPACE","\n\n    ",46],["T_DOC_COMMENT","\/**\n     * Cache tags data key\n     *\/",48],["T_WHITESPACE","\n    ",50],["T_CONST","const",51],["T_WHITESPACE"," ",51],["T_STRING","CACHE_TAGS_DATA_KEY",51],["T_WHITESPACE"," ",51],"=",["T_WHITESPACE"," ",51],["T_CONSTANT_ENCAPSED_STRING","'cache_tags'",51],";",["T_WHITESPACE","\n\n    ",51],["T_DOC_COMMENT","\/**\n     * Block name in layout\n     *\n     * @var string\n     *\/",53],["T_WHITESPACE","\n    ",57],["T_PROTECTED","protected",58],["T_WHITESPACE"," ",58],["T_VARIABLE","$_nameInLayout",58],";",["T_WHITESPACE","\n\n    ",58],["T_DOC_COMMENT","\/**\n     * Parent layout of the block\n     *\n     * @var Mage_Core_Model_Layout\n     *\/",60],["T_WHITESPACE","\n    ",64],["T_PROTECTED","protected",65],["T_WHITESPACE"," ",65],["T_VARIABLE","$_layout",65],";",["T_WHITESPACE","\n\n    ",65],["T_DOC_COMMENT","\/**\n     * Parent block\n     *\n     * @var Mage_Core_Block_Abstract\n     *\/",67],["T_WHITESPACE","\n    ",71],["T_PROTECTED","protected",72],["T_WHITESPACE"," ",72],["T_VARIABLE","$_parent",72],";",["T_WHITESPACE","\n\n    ",72],["T_DOC_COMMENT","\/**\n     * Short alias of this block that was refered from parent\n     *\n     * @var string\n     *\/",74],["T_WHITESPACE","\n    ",78],["T_PROTECTED","protected",79],["T_WHITESPACE"," ",79],["T_VARIABLE","$_alias",79],";",["T_WHITESPACE","\n\n    ",79],["T_DOC_COMMENT","\/**\n     * Suffix for name of anonymous block\n     *\n     * @var string\n     *\/",81],["T_WHITESPACE","\n    ",85],["T_PROTECTED","protected",86],["T_WHITESPACE"," ",86],["T_VARIABLE","$_anonSuffix",86],";",["T_WHITESPACE","\n\n    ",86],["T_DOC_COMMENT","\/**\n     * Contains references to child block objects\n     *\n     * @var array\n     *\/",88],["T_WHITESPACE","\n    ",92],["T_PROTECTED","protected",93],["T_WHITESPACE"," ",93],["T_VARIABLE","$_children",93],["T_WHITESPACE"," ",93],"=",["T_WHITESPACE"," ",93],["T_ARRAY","array",93],"(",")",";",["T_WHITESPACE","\n\n    ",93],["T_DOC_COMMENT","\/**\n     * Sorted children list\n     *\n     * @var array\n     *\/",95],["T_WHITESPACE","\n    ",99],["T_PROTECTED","protected",100],["T_WHITESPACE"," ",100],["T_VARIABLE","$_sortedChildren",100],["T_WHITESPACE"," ",100],"=",["T_WHITESPACE"," ",100],["T_ARRAY","array",100],"(",")",";",["T_WHITESPACE","\n\n    ",100],["T_DOC_COMMENT","\/**\n     * Children blocks HTML cache array\n     *\n     * @var array\n     *\/",102],["T_WHITESPACE","\n    ",106],["T_PROTECTED","protected",107],["T_WHITESPACE"," ",107],["T_VARIABLE","$_childrenHtmlCache",107],["T_WHITESPACE"," ",107],"=",["T_WHITESPACE"," ",107],["T_ARRAY","array",107],"(",")",";",["T_WHITESPACE","\n\n    ",107],["T_DOC_COMMENT","\/**\n     * Arbitrary groups of child blocks\n     *\n     * @var array\n     *\/",109],["T_WHITESPACE","\n    ",113],["T_PROTECTED","protected",114],["T_WHITESPACE"," ",114],["T_VARIABLE","$_childGroups",114],["T_WHITESPACE"," ",114],"=",["T_WHITESPACE"," ",114],["T_ARRAY","array",114],"(",")",";",["T_WHITESPACE","\n\n    ",114],["T_DOC_COMMENT","\/**\n     * Request object\n     *\n     * @var Zend_Controller_Request_Http\n     *\/",116],["T_WHITESPACE","\n    ",120],["T_PROTECTED","protected",121],["T_WHITESPACE"," ",121],["T_VARIABLE","$_request",121],";",["T_WHITESPACE","\n\n    ",121],["T_DOC_COMMENT","\/**\n     * Messages block instance\n     *\n     * @var Mage_Core_Block_Messages\n     *\/",123],["T_WHITESPACE","\n    ",127],["T_PROTECTED","protected",128],["T_WHITESPACE"," ",128],["T_VARIABLE","$_messagesBlock",128],["T_WHITESPACE"," ",128],"=",["T_WHITESPACE"," ",128],["T_STRING","null",128],";",["T_WHITESPACE","\n\n    ",128],["T_DOC_COMMENT","\/**\n     * Whether this block was not explicitly named\n     *\n     * @var boolean\n     *\/",130],["T_WHITESPACE","\n    ",134],["T_PROTECTED","protected",135],["T_WHITESPACE"," ",135],["T_VARIABLE","$_isAnonymous",135],["T_WHITESPACE"," ",135],"=",["T_WHITESPACE"," ",135],["T_STRING","false",135],";",["T_WHITESPACE","\n\n    ",135],["T_DOC_COMMENT","\/**\n     * Parent block\n     *\n     * @var Mage_Core_Block_Abstract\n     *\/",137],["T_WHITESPACE","\n    ",141],["T_PROTECTED","protected",142],["T_WHITESPACE"," ",142],["T_VARIABLE","$_parentBlock",142],";",["T_WHITESPACE","\n\n    ",142],["T_DOC_COMMENT","\/**\n     * Block html frame open tag\n     * @var string\n     *\/",144],["T_WHITESPACE","\n    ",147],["T_PROTECTED","protected",148],["T_WHITESPACE"," ",148],["T_VARIABLE","$_frameOpenTag",148],";",["T_WHITESPACE","\n\n    ",148],["T_DOC_COMMENT","\/**\n     * Block html frame close tag\n     * @var string\n     *\/",150],["T_WHITESPACE","\n    ",153],["T_PROTECTED","protected",154],["T_WHITESPACE"," ",154],["T_VARIABLE","$_frameCloseTag",154],";",["T_WHITESPACE","\n\n    ",154],["T_DOC_COMMENT","\/**\n     * Url object\n     *\n     * @var Mage_Core_Model_Url\n     *\/",156],["T_WHITESPACE","\n    ",160],["T_PROTECTED","protected",161],["T_WHITESPACE"," ",161],["T_STATIC","static",161],["T_WHITESPACE"," ",161],["T_VARIABLE","$_urlModel",161],";",["T_WHITESPACE","\n\n    ",161],["T_DOC_COMMENT","\/**\n     * @var Varien_Object\n     *\/",163],["T_WHITESPACE","\n    ",165],["T_PRIVATE","private",166],["T_WHITESPACE"," ",166],["T_STATIC","static",166],["T_WHITESPACE"," ",166],["T_VARIABLE","$_transportObject",166],";",["T_WHITESPACE","\n\n    ",166],["T_DOC_COMMENT","\/**\n     * Array of block sort priority instructions\n     *\n     * @var array\n     *\/",168],["T_WHITESPACE","\n    ",172],["T_PROTECTED","protected",173],["T_WHITESPACE"," ",173],["T_VARIABLE","$_sortInstructions",173],["T_WHITESPACE"," ",173],"=",["T_WHITESPACE"," ",173],["T_ARRAY","array",173],"(",")",";",["T_WHITESPACE","\n\n    ",173],["T_DOC_COMMENT","\/**\n     * Factory instance\n     *\n     * @var Mage_Core_Model_Factory\n     *\/",175],["T_WHITESPACE","\n    ",179],["T_PROTECTED","protected",180],["T_WHITESPACE"," ",180],["T_VARIABLE","$_factory",180],";",["T_WHITESPACE","\n\n    ",180],["T_DOC_COMMENT","\/**\n     * Application instance\n     *\n     * @var Mage_Core_Model_App\n     *\/",182],["T_WHITESPACE","\n    ",186],["T_PROTECTED","protected",187],["T_WHITESPACE"," ",187],["T_VARIABLE","$_app",187],";",["T_WHITESPACE","\n\n    ",187],["T_DOC_COMMENT","\/**\n     * Initialize factory instance\n     *\n     * @param array $args\n     *\/",189],["T_WHITESPACE","\n    ",193],["T_PUBLIC","public",194],["T_WHITESPACE"," ",194],["T_FUNCTION","function",194],["T_WHITESPACE"," ",194],["T_STRING","__construct",194],"(",["T_ARRAY","array",194],["T_WHITESPACE"," ",194],["T_VARIABLE","$args",194],["T_WHITESPACE"," ",194],"=",["T_WHITESPACE"," ",194],["T_ARRAY","array",194],"(",")",")",["T_WHITESPACE","\n    ",194],"{",["T_WHITESPACE","\n        ",195],["T_IF","if",196],["T_WHITESPACE"," ",196],"(","!",["T_EMPTY","empty",196],"(",["T_VARIABLE","$args",196],"[",["T_CONSTANT_ENCAPSED_STRING","'core_factory'",196],"]",")",["T_WHITESPACE"," ",196],["T_BOOLEAN_AND","&&",196],["T_WHITESPACE"," ",196],"(",["T_VARIABLE","$args",196],"[",["T_CONSTANT_ENCAPSED_STRING","'core_factory'",196],"]",["T_WHITESPACE"," ",196],["T_INSTANCEOF","instanceof",196],["T_WHITESPACE"," ",196],["T_STRING","Mage_Core_Model_Factory",196],")",")",["T_WHITESPACE"," ",196],"{",["T_WHITESPACE","\n            ",196],["T_VARIABLE","$this",197],["T_OBJECT_OPERATOR","->",197],["T_STRING","_factory",197],["T_WHITESPACE"," ",197],"=",["T_WHITESPACE"," ",197],["T_VARIABLE","$args",197],"[",["T_CONSTANT_ENCAPSED_STRING","'core_factory'",197],"]",";",["T_WHITESPACE","\n        ",197],"}",["T_WHITESPACE","\n        ",198],["T_IF","if",199],["T_WHITESPACE"," ",199],"(","!",["T_EMPTY","empty",199],"(",["T_VARIABLE","$args",199],"[",["T_CONSTANT_ENCAPSED_STRING","'app'",199],"]",")",["T_WHITESPACE"," ",199],["T_BOOLEAN_AND","&&",199],["T_WHITESPACE"," ",199],"(",["T_VARIABLE","$args",199],"[",["T_CONSTANT_ENCAPSED_STRING","'app'",199],"]",["T_WHITESPACE"," ",199],["T_INSTANCEOF","instanceof",199],["T_WHITESPACE"," ",199],["T_STRING","Mage_Core_Model_App",199],")",")",["T_WHITESPACE"," ",199],"{",["T_WHITESPACE","\n            ",199],["T_VARIABLE","$this",200],["T_OBJECT_OPERATOR","->",200],["T_STRING","_app",200],["T_WHITESPACE"," ",200],"=",["T_WHITESPACE"," ",200],["T_VARIABLE","$args",200],"[",["T_CONSTANT_ENCAPSED_STRING","'app'",200],"]",";",["T_WHITESPACE","\n        ",200],"}",["T_WHITESPACE","\n        ",201],["T_STRING","parent",202],["T_DOUBLE_COLON","::",202],["T_STRING","__construct",202],"(",["T_VARIABLE","$args",202],")",";",["T_WHITESPACE","\n    ",202],"}",["T_WHITESPACE","\n\n    ",203],["T_DOC_COMMENT","\/**\n     * Internal constructor, that is called from real constructor\n     *\n     * Please override this one instead of overriding real __construct constructor\n     *\n     *\/",205],["T_WHITESPACE","\n    ",210],["T_PROTECTED","protected",211],["T_WHITESPACE"," ",211],["T_FUNCTION","function",211],["T_WHITESPACE"," ",211],["T_STRING","_construct",211],"(",")",["T_WHITESPACE","\n    ",211],"{",["T_WHITESPACE","\n        ",212],["T_DOC_COMMENT","\/**\n         * Please override this one instead of overriding real __construct constructor\n         *\/",213],["T_WHITESPACE","\n    ",215],"}",["T_WHITESPACE","\n\n    ",216],["T_DOC_COMMENT","\/**\n     * Retrieve factory instance\n     *\n     * @return Mage_Core_Model_Factory\n     *\/",218],["T_WHITESPACE","\n    ",222],["T_PROTECTED","protected",223],["T_WHITESPACE"," ",223],["T_FUNCTION","function",223],["T_WHITESPACE"," ",223],["T_STRING","_getFactory",223],"(",")",["T_WHITESPACE","\n    ",223],"{",["T_WHITESPACE","\n        ",224],["T_RETURN","return",225],["T_WHITESPACE"," ",225],["T_STRING","is_null",225],"(",["T_VARIABLE","$this",225],["T_OBJECT_OPERATOR","->",225],["T_STRING","_factory",225],")",["T_WHITESPACE"," ",225],"?",["T_WHITESPACE"," ",225],["T_STRING","Mage",225],["T_DOUBLE_COLON","::",225],["T_STRING","getSingleton",225],"(",["T_CONSTANT_ENCAPSED_STRING","'core\/factory'",225],")",["T_WHITESPACE"," ",225],":",["T_WHITESPACE"," ",225],["T_VARIABLE","$this",225],["T_OBJECT_OPERATOR","->",225],["T_STRING","_factory",225],";",["T_WHITESPACE","\n    ",225],"}",["T_WHITESPACE","\n\n    ",226],["T_DOC_COMMENT","\/**\n     * Retrieve application instance\n     *\n     * @return Mage_Core_Model_App\n     *\/",228],["T_WHITESPACE","\n    ",232],["T_PROTECTED","protected",233],["T_WHITESPACE"," ",233],["T_FUNCTION","function",233],["T_WHITESPACE"," ",233],["T_STRING","_getApp",233],"(",")",["T_WHITESPACE","\n    ",233],"{",["T_WHITESPACE","\n        ",234],["T_RETURN","return",235],["T_WHITESPACE"," ",235],["T_STRING","is_null",235],"(",["T_VARIABLE","$this",235],["T_OBJECT_OPERATOR","->",235],["T_STRING","_app",235],")",["T_WHITESPACE"," ",235],"?",["T_WHITESPACE"," ",235],["T_STRING","Mage",235],["T_DOUBLE_COLON","::",235],["T_STRING","app",235],"(",")",["T_WHITESPACE"," ",235],":",["T_WHITESPACE"," ",235],["T_VARIABLE","$this",235],["T_OBJECT_OPERATOR","->",235],["T_STRING","_app",235],";",["T_WHITESPACE","\n    ",235],"}",["T_WHITESPACE","\n\n    ",236],["T_DOC_COMMENT","\/**\n     * Retrieve request object\n     *\n     * @return Mage_Core_Controller_Request_Http\n     * @throws Exception\n     *\/",238],["T_WHITESPACE","\n    ",243],["T_PUBLIC","public",244],["T_WHITESPACE"," ",244],["T_FUNCTION","function",244],["T_WHITESPACE"," ",244],["T_STRING","getRequest",244],"(",")",["T_WHITESPACE","\n    ",244],"{",["T_WHITESPACE","\n        ",245],["T_VARIABLE","$controller",246],["T_WHITESPACE"," ",246],"=",["T_WHITESPACE"," ",246],["T_VARIABLE","$this",246],["T_OBJECT_OPERATOR","->",246],["T_STRING","_getApp",246],"(",")",["T_OBJECT_OPERATOR","->",246],["T_STRING","getFrontController",246],"(",")",";",["T_WHITESPACE","\n        ",246],["T_IF","if",247],["T_WHITESPACE"," ",247],"(",["T_VARIABLE","$controller",247],")",["T_WHITESPACE"," ",247],"{",["T_WHITESPACE","\n            ",247],["T_VARIABLE","$this",248],["T_OBJECT_OPERATOR","->",248],["T_STRING","_request",248],["T_WHITESPACE"," ",248],"=",["T_WHITESPACE"," ",248],["T_VARIABLE","$controller",248],["T_OBJECT_OPERATOR","->",248],["T_STRING","getRequest",248],"(",")",";",["T_WHITESPACE","\n        ",248],"}",["T_WHITESPACE"," ",249],["T_ELSE","else",249],["T_WHITESPACE"," ",249],"{",["T_WHITESPACE","\n            ",249],["T_THROW","throw",250],["T_WHITESPACE"," ",250],["T_NEW","new",250],["T_WHITESPACE"," ",250],["T_STRING","Exception",250],"(",["T_STRING","Mage",250],["T_DOUBLE_COLON","::",250],["T_STRING","helper",250],"(",["T_CONSTANT_ENCAPSED_STRING","'core'",250],")",["T_OBJECT_OPERATOR","->",250],["T_STRING","__",250],"(",["T_CONSTANT_ENCAPSED_STRING","\"Can't retrieve request object\"",250],")",")",";",["T_WHITESPACE","\n        ",250],"}",["T_WHITESPACE","\n        ",251],["T_RETURN","return",252],["T_WHITESPACE"," ",252],["T_VARIABLE","$this",252],["T_OBJECT_OPERATOR","->",252],["T_STRING","_request",252],";",["T_WHITESPACE","\n    ",252],"}",["T_WHITESPACE","\n\n    ",253],["T_DOC_COMMENT","\/**\n     * Retrieve parent block\n     *\n     * @return Mage_Core_Block_Abstract\n     *\/",255],["T_WHITESPACE","\n    ",259],["T_PUBLIC","public",260],["T_WHITESPACE"," ",260],["T_FUNCTION","function",260],["T_WHITESPACE"," ",260],["T_STRING","getParentBlock",260],"(",")",["T_WHITESPACE","\n    ",260],"{",["T_WHITESPACE","\n        ",261],["T_RETURN","return",262],["T_WHITESPACE"," ",262],["T_VARIABLE","$this",262],["T_OBJECT_OPERATOR","->",262],["T_STRING","_parentBlock",262],";",["T_WHITESPACE","\n    ",262],"}",["T_WHITESPACE","\n\n    ",263],["T_DOC_COMMENT","\/**\n     * Set parent block\n     *\n     * @param   Mage_Core_Block_Abstract $block\n     * @return  Mage_Core_Block_Abstract\n     *\/",265],["T_WHITESPACE","\n    ",270],["T_PUBLIC","public",271],["T_WHITESPACE"," ",271],["T_FUNCTION","function",271],["T_WHITESPACE"," ",271],["T_STRING","setParentBlock",271],"(",["T_STRING","Mage_Core_Block_Abstract",271],["T_WHITESPACE"," ",271],["T_VARIABLE","$block",271],")",["T_WHITESPACE","\n    ",271],"{",["T_WHITESPACE","\n        ",272],["T_VARIABLE","$this",273],["T_OBJECT_OPERATOR","->",273],["T_STRING","_parentBlock",273],["T_WHITESPACE"," ",273],"=",["T_WHITESPACE"," ",273],["T_VARIABLE","$block",273],";",["T_WHITESPACE","\n        ",273],["T_RETURN","return",274],["T_WHITESPACE"," ",274],["T_VARIABLE","$this",274],";",["T_WHITESPACE","\n    ",274],"}",["T_WHITESPACE","\n\n    ",275],["T_DOC_COMMENT","\/**\n     * Retrieve current action object\n     *\n     * @return Mage_Core_Controller_Varien_Action\n     *\/",277],["T_WHITESPACE","\n    ",281],["T_PUBLIC","public",282],["T_WHITESPACE"," ",282],["T_FUNCTION","function",282],["T_WHITESPACE"," ",282],["T_STRING","getAction",282],"(",")",["T_WHITESPACE","\n    ",282],"{",["T_WHITESPACE","\n        ",283],["T_RETURN","return",284],["T_WHITESPACE"," ",284],["T_VARIABLE","$this",284],["T_OBJECT_OPERATOR","->",284],["T_STRING","_getApp",284],"(",")",["T_OBJECT_OPERATOR","->",284],["T_STRING","getFrontController",284],"(",")",["T_OBJECT_OPERATOR","->",284],["T_STRING","getAction",284],"(",")",";",["T_WHITESPACE","\n    ",284],"}",["T_WHITESPACE","\n\n    ",285],["T_DOC_COMMENT","\/**\n     * Set layout object\n     *\n     * @param   Mage_Core_Model_Layout $layout\n     * @return  Mage_Core_Block_Abstract\n     *\/",287],["T_WHITESPACE","\n    ",292],["T_PUBLIC","public",293],["T_WHITESPACE"," ",293],["T_FUNCTION","function",293],["T_WHITESPACE"," ",293],["T_STRING","setLayout",293],"(",["T_STRING","Mage_Core_Model_Layout",293],["T_WHITESPACE"," ",293],["T_VARIABLE","$layout",293],")",["T_WHITESPACE","\n    ",293],"{",["T_WHITESPACE","\n        ",294],["T_VARIABLE","$this",295],["T_OBJECT_OPERATOR","->",295],["T_STRING","_layout",295],["T_WHITESPACE"," ",295],"=",["T_WHITESPACE"," ",295],["T_VARIABLE","$layout",295],";",["T_WHITESPACE","\n        ",295],["T_STRING","Mage",296],["T_DOUBLE_COLON","::",296],["T_STRING","dispatchEvent",296],"(",["T_CONSTANT_ENCAPSED_STRING","'core_block_abstract_prepare_layout_before'",296],",",["T_WHITESPACE"," ",296],["T_ARRAY","array",296],"(",["T_CONSTANT_ENCAPSED_STRING","'block'",296],["T_WHITESPACE"," ",296],["T_DOUBLE_ARROW","=>",296],["T_WHITESPACE"," ",296],["T_VARIABLE","$this",296],")",")",";",["T_WHITESPACE","\n        ",296],["T_VARIABLE","$this",297],["T_OBJECT_OPERATOR","->",297],["T_STRING","_prepareLayout",297],"(",")",";",["T_WHITESPACE","\n        ",297],["T_STRING","Mage",298],["T_DOUBLE_COLON","::",298],["T_STRING","dispatchEvent",298],"(",["T_CONSTANT_ENCAPSED_STRING","'core_block_abstract_prepare_layout_after'",298],",",["T_WHITESPACE"," ",298],["T_ARRAY","array",298],"(",["T_CONSTANT_ENCAPSED_STRING","'block'",298],["T_WHITESPACE"," ",298],["T_DOUBLE_ARROW","=>",298],["T_WHITESPACE"," ",298],["T_VARIABLE","$this",298],")",")",";",["T_WHITESPACE","\n        ",298],["T_RETURN","return",299],["T_WHITESPACE"," ",299],["T_VARIABLE","$this",299],";",["T_WHITESPACE","\n    ",299],"}",["T_WHITESPACE","\n\n    ",300],["T_DOC_COMMENT","\/**\n     * Preparing global layout\n     *\n     * You can redefine this method in child classes for changing layout\n     *\n     * @return Mage_Core_Block_Abstract\n     *\/",302],["T_WHITESPACE","\n    ",308],["T_PROTECTED","protected",309],["T_WHITESPACE"," ",309],["T_FUNCTION","function",309],["T_WHITESPACE"," ",309],["T_STRING","_prepareLayout",309],"(",")",["T_WHITESPACE","\n    ",309],"{",["T_WHITESPACE","\n        ",310],["T_RETURN","return",311],["T_WHITESPACE"," ",311],["T_VARIABLE","$this",311],";",["T_WHITESPACE","\n    ",311],"}",["T_WHITESPACE","\n\n    ",312],["T_DOC_COMMENT","\/**\n     * Retrieve layout object\n     *\n     * @return Mage_Core_Model_Layout\n     *\/",314],["T_WHITESPACE","\n    ",318],["T_PUBLIC","public",319],["T_WHITESPACE"," ",319],["T_FUNCTION","function",319],["T_WHITESPACE"," ",319],["T_STRING","getLayout",319],"(",")",["T_WHITESPACE","\n    ",319],"{",["T_WHITESPACE","\n        ",320],["T_RETURN","return",321],["T_WHITESPACE"," ",321],["T_VARIABLE","$this",321],["T_OBJECT_OPERATOR","->",321],["T_STRING","_layout",321],";",["T_WHITESPACE","\n    ",321],"}",["T_WHITESPACE","\n\n    ",322],["T_DOC_COMMENT","\/**\n     * Check if block is using auto generated (Anonymous) name\n     * @return bool\n     *\/",324],["T_WHITESPACE","\n    ",327],["T_PUBLIC","public",328],["T_WHITESPACE"," ",328],["T_FUNCTION","function",328],["T_WHITESPACE"," ",328],["T_STRING","getIsAnonymous",328],"(",")",["T_WHITESPACE","\n    ",328],"{",["T_WHITESPACE","\n        ",329],["T_RETURN","return",330],["T_WHITESPACE"," ",330],["T_VARIABLE","$this",330],["T_OBJECT_OPERATOR","->",330],["T_STRING","_isAnonymous",330],";",["T_WHITESPACE","\n    ",330],"}",["T_WHITESPACE","\n\n    ",331],["T_DOC_COMMENT","\/**\n     * Set the anonymous flag\n     *\n     * @param  bool $flag\n     * @return Mage_Core_Block_Abstract\n     *\/",333],["T_WHITESPACE","\n    ",338],["T_PUBLIC","public",339],["T_WHITESPACE"," ",339],["T_FUNCTION","function",339],["T_WHITESPACE"," ",339],["T_STRING","setIsAnonymous",339],"(",["T_VARIABLE","$flag",339],")",["T_WHITESPACE","\n    ",339],"{",["T_WHITESPACE","\n        ",340],["T_VARIABLE","$this",341],["T_OBJECT_OPERATOR","->",341],["T_STRING","_isAnonymous",341],["T_WHITESPACE"," ",341],"=",["T_WHITESPACE"," ",341],["T_BOOL_CAST","(bool)",341],["T_VARIABLE","$flag",341],";",["T_WHITESPACE","\n        ",341],["T_RETURN","return",342],["T_WHITESPACE"," ",342],["T_VARIABLE","$this",342],";",["T_WHITESPACE","\n    ",342],"}",["T_WHITESPACE","\n\n    ",343],["T_DOC_COMMENT","\/**\n     * Returns anonymous block suffix\n     *\n     * @return string\n     *\/",345],["T_WHITESPACE","\n    ",349],["T_PUBLIC","public",350],["T_WHITESPACE"," ",350],["T_FUNCTION","function",350],["T_WHITESPACE"," ",350],["T_STRING","getAnonSuffix",350],"(",")",["T_WHITESPACE","\n    ",350],"{",["T_WHITESPACE","\n        ",351],["T_RETURN","return",352],["T_WHITESPACE"," ",352],["T_VARIABLE","$this",352],["T_OBJECT_OPERATOR","->",352],["T_STRING","_anonSuffix",352],";",["T_WHITESPACE","\n    ",352],"}",["T_WHITESPACE","\n\n    ",353],["T_DOC_COMMENT","\/**\n     * Set anonymous suffix for current block\n     *\n     * @param string $suffix\n     * @return Mage_Core_Block_Abstract\n     *\/",355],["T_WHITESPACE","\n    ",360],["T_PUBLIC","public",361],["T_WHITESPACE"," ",361],["T_FUNCTION","function",361],["T_WHITESPACE"," ",361],["T_STRING","setAnonSuffix",361],"(",["T_VARIABLE","$suffix",361],")",["T_WHITESPACE","\n    ",361],"{",["T_WHITESPACE","\n        ",362],["T_VARIABLE","$this",363],["T_OBJECT_OPERATOR","->",363],["T_STRING","_anonSuffix",363],["T_WHITESPACE"," ",363],"=",["T_WHITESPACE"," ",363],["T_VARIABLE","$suffix",363],";",["T_WHITESPACE","\n        ",363],["T_RETURN","return",364],["T_WHITESPACE"," ",364],["T_VARIABLE","$this",364],";",["T_WHITESPACE","\n    ",364],"}",["T_WHITESPACE","\n\n    ",365],["T_DOC_COMMENT","\/**\n     * Returns block alias\n     *\n     * @return string\n     *\/",367],["T_WHITESPACE","\n    ",371],["T_PUBLIC","public",372],["T_WHITESPACE"," ",372],["T_FUNCTION","function",372],["T_WHITESPACE"," ",372],["T_STRING","getBlockAlias",372],"(",")",["T_WHITESPACE","\n    ",372],"{",["T_WHITESPACE","\n        ",373],["T_RETURN","return",374],["T_WHITESPACE"," ",374],["T_VARIABLE","$this",374],["T_OBJECT_OPERATOR","->",374],["T_STRING","_alias",374],";",["T_WHITESPACE","\n    ",374],"}",["T_WHITESPACE","\n\n    ",375],["T_DOC_COMMENT","\/**\n     * Set block alias\n     *\n     * @param string $alias\n     * @return Mage_Core_Block_Abstract\n     *\/",377],["T_WHITESPACE","\n    ",382],["T_PUBLIC","public",383],["T_WHITESPACE"," ",383],["T_FUNCTION","function",383],["T_WHITESPACE"," ",383],["T_STRING","setBlockAlias",383],"(",["T_VARIABLE","$alias",383],")",["T_WHITESPACE","\n    ",383],"{",["T_WHITESPACE","\n        ",384],["T_VARIABLE","$this",385],["T_OBJECT_OPERATOR","->",385],["T_STRING","_alias",385],["T_WHITESPACE"," ",385],"=",["T_WHITESPACE"," ",385],["T_VARIABLE","$alias",385],";",["T_WHITESPACE","\n        ",385],["T_RETURN","return",386],["T_WHITESPACE"," ",386],["T_VARIABLE","$this",386],";",["T_WHITESPACE","\n    ",386],"}",["T_WHITESPACE","\n\n    ",387],["T_DOC_COMMENT","\/**\n     * Set block's name in layout and unsets previous link if such exists.\n     *\n     * @param string $name\n     * @return Mage_Core_Block_Abstract\n     *\/",389],["T_WHITESPACE","\n    ",394],["T_PUBLIC","public",395],["T_WHITESPACE"," ",395],["T_FUNCTION","function",395],["T_WHITESPACE"," ",395],["T_STRING","setNameInLayout",395],"(",["T_VARIABLE","$name",395],")",["T_WHITESPACE","\n    ",395],"{",["T_WHITESPACE","\n        ",396],["T_IF","if",397],["T_WHITESPACE"," ",397],"(","!",["T_EMPTY","empty",397],"(",["T_VARIABLE","$this",397],["T_OBJECT_OPERATOR","->",397],["T_STRING","_nameInLayout",397],")",["T_WHITESPACE"," ",397],["T_BOOLEAN_AND","&&",397],["T_WHITESPACE"," ",397],["T_VARIABLE","$this",397],["T_OBJECT_OPERATOR","->",397],["T_STRING","getLayout",397],"(",")",")",["T_WHITESPACE"," ",397],"{",["T_WHITESPACE","\n            ",397],["T_VARIABLE","$this",398],["T_OBJECT_OPERATOR","->",398],["T_STRING","getLayout",398],"(",")",["T_OBJECT_OPERATOR","->",398],["T_STRING","unsetBlock",398],"(",["T_VARIABLE","$this",398],["T_OBJECT_OPERATOR","->",398],["T_STRING","_nameInLayout",398],")",["T_WHITESPACE","\n                ",398],["T_OBJECT_OPERATOR","->",399],["T_STRING","setBlock",399],"(",["T_VARIABLE","$name",399],",",["T_WHITESPACE"," ",399],["T_VARIABLE","$this",399],")",";",["T_WHITESPACE","\n        ",399],"}",["T_WHITESPACE","\n        ",400],["T_VARIABLE","$this",401],["T_OBJECT_OPERATOR","->",401],["T_STRING","_nameInLayout",401],["T_WHITESPACE"," ",401],"=",["T_WHITESPACE"," ",401],["T_VARIABLE","$name",401],";",["T_WHITESPACE","\n        ",401],["T_RETURN","return",402],["T_WHITESPACE"," ",402],["T_VARIABLE","$this",402],";",["T_WHITESPACE","\n    ",402],"}",["T_WHITESPACE","\n\n    ",403],["T_DOC_COMMENT","\/**\n     * Retrieve sorted list of children.\n     *\n     * @return array\n     *\/",405],["T_WHITESPACE","\n    ",409],["T_PUBLIC","public",410],["T_WHITESPACE"," ",410],["T_FUNCTION","function",410],["T_WHITESPACE"," ",410],["T_STRING","getSortedChildren",410],"(",")",["T_WHITESPACE","\n    ",410],"{",["T_WHITESPACE","\n        ",411],["T_VARIABLE","$this",412],["T_OBJECT_OPERATOR","->",412],["T_STRING","sortChildren",412],"(",")",";",["T_WHITESPACE","\n        ",412],["T_RETURN","return",413],["T_WHITESPACE"," ",413],["T_VARIABLE","$this",413],["T_OBJECT_OPERATOR","->",413],["T_STRING","_sortedChildren",413],";",["T_WHITESPACE","\n    ",413],"}",["T_WHITESPACE","\n\n    ",414],["T_DOC_COMMENT","\/**\n     * Set block attribute value\n     *\n     * Wrapper for method \"setData\"\n     *\n     * @param   string $name\n     * @param   mixed $value\n     * @return  Mage_Core_Block_Abstract\n     *\/",416],["T_WHITESPACE","\n    ",424],["T_PUBLIC","public",425],["T_WHITESPACE"," ",425],["T_FUNCTION","function",425],["T_WHITESPACE"," ",425],["T_STRING","setAttribute",425],"(",["T_VARIABLE","$name",425],",",["T_WHITESPACE"," ",425],["T_VARIABLE","$value",425],["T_WHITESPACE"," ",425],"=",["T_WHITESPACE"," ",425],["T_STRING","null",425],")",["T_WHITESPACE","\n    ",425],"{",["T_WHITESPACE","\n        ",426],["T_RETURN","return",427],["T_WHITESPACE"," ",427],["T_VARIABLE","$this",427],["T_OBJECT_OPERATOR","->",427],["T_STRING","setData",427],"(",["T_VARIABLE","$name",427],",",["T_WHITESPACE"," ",427],["T_VARIABLE","$value",427],")",";",["T_WHITESPACE","\n    ",427],"}",["T_WHITESPACE","\n\n    ",428],["T_DOC_COMMENT","\/**\n     * Set child block\n     *\n     * @param   string $alias\n     * @param   Mage_Core_Block_Abstract $block\n     * @return  Mage_Core_Block_Abstract\n     *\/",430],["T_WHITESPACE","\n    ",436],["T_PUBLIC","public",437],["T_WHITESPACE"," ",437],["T_FUNCTION","function",437],["T_WHITESPACE"," ",437],["T_STRING","setChild",437],"(",["T_VARIABLE","$alias",437],",",["T_WHITESPACE"," ",437],["T_VARIABLE","$block",437],")",["T_WHITESPACE","\n    ",437],"{",["T_WHITESPACE","\n        ",438],["T_IF","if",439],["T_WHITESPACE"," ",439],"(",["T_STRING","is_string",439],"(",["T_VARIABLE","$block",439],")",")",["T_WHITESPACE"," ",439],"{",["T_WHITESPACE","\n            ",439],["T_VARIABLE","$block",440],["T_WHITESPACE"," ",440],"=",["T_WHITESPACE"," ",440],["T_VARIABLE","$this",440],["T_OBJECT_OPERATOR","->",440],["T_STRING","getLayout",440],"(",")",["T_OBJECT_OPERATOR","->",440],["T_STRING","getBlock",440],"(",["T_VARIABLE","$block",440],")",";",["T_WHITESPACE","\n        ",440],"}",["T_WHITESPACE","\n        ",441],["T_IF","if",442],["T_WHITESPACE"," ",442],"(","!",["T_VARIABLE","$block",442],")",["T_WHITESPACE"," ",442],"{",["T_WHITESPACE","\n            ",442],["T_RETURN","return",443],["T_WHITESPACE"," ",443],["T_VARIABLE","$this",443],";",["T_WHITESPACE","\n        ",443],"}",["T_WHITESPACE","\n\n        ",444],["T_IF","if",446],["T_WHITESPACE"," ",446],"(",["T_VARIABLE","$block",446],["T_OBJECT_OPERATOR","->",446],["T_STRING","getIsAnonymous",446],"(",")",")",["T_WHITESPACE"," ",446],"{",["T_WHITESPACE","\n            ",446],["T_VARIABLE","$suffix",447],["T_WHITESPACE"," ",447],"=",["T_WHITESPACE"," ",447],["T_VARIABLE","$block",447],["T_OBJECT_OPERATOR","->",447],["T_STRING","getAnonSuffix",447],"(",")",";",["T_WHITESPACE","\n            ",447],["T_IF","if",448],["T_WHITESPACE"," ",448],"(",["T_EMPTY","empty",448],"(",["T_VARIABLE","$suffix",448],")",")",["T_WHITESPACE"," ",448],"{",["T_WHITESPACE","\n                ",448],["T_VARIABLE","$suffix",449],["T_WHITESPACE"," ",449],"=",["T_WHITESPACE"," ",449],["T_CONSTANT_ENCAPSED_STRING","'child'",449],["T_WHITESPACE"," ",449],".",["T_WHITESPACE"," ",449],["T_STRING","sizeof",449],"(",["T_VARIABLE","$this",449],["T_OBJECT_OPERATOR","->",449],["T_STRING","_children",449],")",";",["T_WHITESPACE","\n            ",449],"}",["T_WHITESPACE","\n            ",450],["T_VARIABLE","$blockName",451],["T_WHITESPACE"," ",451],"=",["T_WHITESPACE"," ",451],["T_VARIABLE","$this",451],["T_OBJECT_OPERATOR","->",451],["T_STRING","getNameInLayout",451],"(",")",["T_WHITESPACE"," ",451],".",["T_WHITESPACE"," ",451],["T_CONSTANT_ENCAPSED_STRING","'.'",451],["T_WHITESPACE"," ",451],".",["T_WHITESPACE"," ",451],["T_VARIABLE","$suffix",451],";",["T_WHITESPACE","\n\n            ",451],["T_IF","if",453],["T_WHITESPACE"," ",453],"(",["T_VARIABLE","$this",453],["T_OBJECT_OPERATOR","->",453],["T_STRING","getLayout",453],"(",")",")",["T_WHITESPACE"," ",453],"{",["T_WHITESPACE","\n                ",453],["T_VARIABLE","$this",454],["T_OBJECT_OPERATOR","->",454],["T_STRING","getLayout",454],"(",")",["T_OBJECT_OPERATOR","->",454],["T_STRING","unsetBlock",454],"(",["T_VARIABLE","$block",454],["T_OBJECT_OPERATOR","->",454],["T_STRING","getNameInLayout",454],"(",")",")",["T_WHITESPACE","\n                    ",454],["T_OBJECT_OPERATOR","->",455],["T_STRING","setBlock",455],"(",["T_VARIABLE","$blockName",455],",",["T_WHITESPACE"," ",455],["T_VARIABLE","$block",455],")",";",["T_WHITESPACE","\n            ",455],"}",["T_WHITESPACE","\n\n            ",456],["T_VARIABLE","$block",458],["T_OBJECT_OPERATOR","->",458],["T_STRING","setNameInLayout",458],"(",["T_VARIABLE","$blockName",458],")",";",["T_WHITESPACE","\n            ",458],["T_VARIABLE","$block",459],["T_OBJECT_OPERATOR","->",459],["T_STRING","setIsAnonymous",459],"(",["T_STRING","false",459],")",";",["T_WHITESPACE","\n\n            ",459],["T_IF","if",461],["T_WHITESPACE"," ",461],"(",["T_EMPTY","empty",461],"(",["T_VARIABLE","$alias",461],")",")",["T_WHITESPACE"," ",461],"{",["T_WHITESPACE","\n                ",461],["T_VARIABLE","$alias",462],["T_WHITESPACE"," ",462],"=",["T_WHITESPACE"," ",462],["T_VARIABLE","$blockName",462],";",["T_WHITESPACE","\n            ",462],"}",["T_WHITESPACE","\n        ",463],"}",["T_WHITESPACE","\n\n        ",464],["T_VARIABLE","$block",466],["T_OBJECT_OPERATOR","->",466],["T_STRING","setParentBlock",466],"(",["T_VARIABLE","$this",466],")",";",["T_WHITESPACE","\n        ",466],["T_VARIABLE","$block",467],["T_OBJECT_OPERATOR","->",467],["T_STRING","setBlockAlias",467],"(",["T_VARIABLE","$alias",467],")",";",["T_WHITESPACE","\n        ",467],["T_VARIABLE","$this",468],["T_OBJECT_OPERATOR","->",468],["T_STRING","_children",468],"[",["T_VARIABLE","$alias",468],"]",["T_WHITESPACE"," ",468],"=",["T_WHITESPACE"," ",468],["T_VARIABLE","$block",468],";",["T_WHITESPACE","\n        ",468],["T_RETURN","return",469],["T_WHITESPACE"," ",469],["T_VARIABLE","$this",469],";",["T_WHITESPACE","\n    ",469],"}",["T_WHITESPACE","\n\n    ",470],["T_DOC_COMMENT","\/**\n     * Unset child block\n     *\n     * @param  string $alias\n     * @return Mage_Core_Block_Abstract\n     *\/",472],["T_WHITESPACE","\n    ",477],["T_PUBLIC","public",478],["T_WHITESPACE"," ",478],["T_FUNCTION","function",478],["T_WHITESPACE"," ",478],["T_STRING","unsetChild",478],"(",["T_VARIABLE","$alias",478],")",["T_WHITESPACE","\n    ",478],"{",["T_WHITESPACE","\n        ",479],["T_IF","if",480],["T_WHITESPACE"," ",480],"(",["T_ISSET","isset",480],"(",["T_VARIABLE","$this",480],["T_OBJECT_OPERATOR","->",480],["T_STRING","_children",480],"[",["T_VARIABLE","$alias",480],"]",")",")",["T_WHITESPACE"," ",480],"{",["T_WHITESPACE","\n            ",480],["T_DOC_COMMENT","\/** @var Mage_Core_Block_Abstract $block *\/",481],["T_WHITESPACE","\n            ",481],["T_VARIABLE","$block",482],["T_WHITESPACE"," ",482],"=",["T_WHITESPACE"," ",482],["T_VARIABLE","$this",482],["T_OBJECT_OPERATOR","->",482],["T_STRING","_children",482],"[",["T_VARIABLE","$alias",482],"]",";",["T_WHITESPACE","\n            ",482],["T_VARIABLE","$name",483],["T_WHITESPACE"," ",483],"=",["T_WHITESPACE"," ",483],["T_VARIABLE","$block",483],["T_OBJECT_OPERATOR","->",483],["T_STRING","getNameInLayout",483],"(",")",";",["T_WHITESPACE","\n            ",483],["T_UNSET","unset",484],"(",["T_VARIABLE","$this",484],["T_OBJECT_OPERATOR","->",484],["T_STRING","_children",484],"[",["T_VARIABLE","$alias",484],"]",")",";",["T_WHITESPACE","\n            ",484],["T_VARIABLE","$key",485],["T_WHITESPACE"," ",485],"=",["T_WHITESPACE"," ",485],["T_STRING","array_search",485],"(",["T_VARIABLE","$name",485],",",["T_WHITESPACE"," ",485],["T_VARIABLE","$this",485],["T_OBJECT_OPERATOR","->",485],["T_STRING","_sortedChildren",485],")",";",["T_WHITESPACE","\n            ",485],["T_IF","if",486],["T_WHITESPACE"," ",486],"(",["T_VARIABLE","$key",486],["T_WHITESPACE"," ",486],["T_IS_NOT_IDENTICAL","!==",486],["T_WHITESPACE"," ",486],["T_STRING","false",486],")",["T_WHITESPACE"," ",486],"{",["T_WHITESPACE","\n                ",486],["T_UNSET","unset",487],"(",["T_VARIABLE","$this",487],["T_OBJECT_OPERATOR","->",487],["T_STRING","_sortedChildren",487],"[",["T_VARIABLE","$key",487],"]",")",";",["T_WHITESPACE","\n            ",487],"}",["T_WHITESPACE","\n        ",488],"}",["T_WHITESPACE","\n\n        ",489],["T_RETURN","return",491],["T_WHITESPACE"," ",491],["T_VARIABLE","$this",491],";",["T_WHITESPACE","\n    ",491],"}",["T_WHITESPACE","\n\n    ",492],["T_DOC_COMMENT","\/**\n     * Call a child and unset it, if callback matched result\n     *\n     * $params will pass to child callback\n     * $params may be array, if called from layout with elements with same name, for example:\n     * ...<foo>value_1<\/foo><foo>value_2<\/foo><foo>value_3<\/foo>\n     *\n     * Or, if called like this:\n     * ...<foo>value_1<\/foo><bar>value_2<\/bar><baz>value_3<\/baz>\n     * - then it will be $params1, $params2, $params3\n     *\n     * It is no difference anyway, because they will be transformed in appropriate way.\n     *\n     * @param string $alias\n     * @param string $callback\n     * @param mixed $result\n     * @param array $params\n     * @return Mage_Core_Block_Abstract\n     *\/",494],["T_WHITESPACE","\n    ",512],["T_PUBLIC","public",513],["T_WHITESPACE"," ",513],["T_FUNCTION","function",513],["T_WHITESPACE"," ",513],["T_STRING","unsetCallChild",513],"(",["T_VARIABLE","$alias",513],",",["T_WHITESPACE"," ",513],["T_VARIABLE","$callback",513],",",["T_WHITESPACE"," ",513],["T_VARIABLE","$result",513],",",["T_WHITESPACE"," ",513],["T_VARIABLE","$params",513],")",["T_WHITESPACE","\n    ",513],"{",["T_WHITESPACE","\n        ",514],["T_VARIABLE","$child",515],["T_WHITESPACE"," ",515],"=",["T_WHITESPACE"," ",515],["T_VARIABLE","$this",515],["T_OBJECT_OPERATOR","->",515],["T_STRING","getChild",515],"(",["T_VARIABLE","$alias",515],")",";",["T_WHITESPACE","\n        ",515],["T_IF","if",516],["T_WHITESPACE"," ",516],"(",["T_VARIABLE","$child",516],")",["T_WHITESPACE"," ",516],"{",["T_WHITESPACE","\n            ",516],["T_VARIABLE","$args",517],["T_WHITESPACE"," ",517],"=",["T_WHITESPACE"," ",517],["T_STRING","func_get_args",517],"(",")",";",["T_WHITESPACE","\n            ",517],["T_VARIABLE","$alias",518],["T_WHITESPACE"," ",518],"=",["T_WHITESPACE"," ",518],["T_STRING","array_shift",518],"(",["T_VARIABLE","$args",518],")",";",["T_WHITESPACE","\n            ",518],["T_VARIABLE","$callback",519],["T_WHITESPACE"," ",519],"=",["T_WHITESPACE"," ",519],["T_STRING","array_shift",519],"(",["T_VARIABLE","$args",519],")",";",["T_WHITESPACE","\n            ",519],["T_VARIABLE","$result",520],["T_WHITESPACE"," ",520],"=",["T_WHITESPACE"," ",520],["T_STRING_CAST","(string)",520],["T_STRING","array_shift",520],"(",["T_VARIABLE","$args",520],")",";",["T_WHITESPACE","\n            ",520],["T_IF","if",521],["T_WHITESPACE"," ",521],"(","!",["T_STRING","is_array",521],"(",["T_VARIABLE","$params",521],")",")",["T_WHITESPACE"," ",521],"{",["T_WHITESPACE","\n                ",521],["T_VARIABLE","$params",522],["T_WHITESPACE"," ",522],"=",["T_WHITESPACE"," ",522],["T_VARIABLE","$args",522],";",["T_WHITESPACE","\n            ",522],"}",["T_WHITESPACE","\n\n            ",523],["T_IF","if",525],["T_WHITESPACE"," ",525],"(",["T_VARIABLE","$result",525],["T_WHITESPACE"," ",525],["T_IS_EQUAL","==",525],["T_WHITESPACE"," ",525],["T_STRING","call_user_func_array",525],"(",["T_ARRAY","array",525],"(","&",["T_VARIABLE","$child",525],",",["T_WHITESPACE"," ",525],["T_VARIABLE","$callback",525],")",",",["T_WHITESPACE"," ",525],["T_VARIABLE","$params",525],")",")",["T_WHITESPACE"," ",525],"{",["T_WHITESPACE","\n                ",525],["T_VARIABLE","$this",526],["T_OBJECT_OPERATOR","->",526],["T_STRING","unsetChild",526],"(",["T_VARIABLE","$alias",526],")",";",["T_WHITESPACE","\n            ",526],"}",["T_WHITESPACE","\n        ",527],"}",["T_WHITESPACE","\n        ",528],["T_RETURN","return",529],["T_WHITESPACE"," ",529],["T_VARIABLE","$this",529],";",["T_WHITESPACE","\n    ",529],"}",["T_WHITESPACE","\n\n    ",530],["T_DOC_COMMENT","\/**\n     * Unset all children blocks\n     *\n     * @return Mage_Core_Block_Abstract\n     *\/",532],["T_WHITESPACE","\n    ",536],["T_PUBLIC","public",537],["T_WHITESPACE"," ",537],["T_FUNCTION","function",537],["T_WHITESPACE"," ",537],["T_STRING","unsetChildren",537],"(",")",["T_WHITESPACE","\n    ",537],"{",["T_WHITESPACE","\n        ",538],["T_VARIABLE","$this",539],["T_OBJECT_OPERATOR","->",539],["T_STRING","_children",539],["T_WHITESPACE"," ",539],"=",["T_WHITESPACE"," ",539],["T_ARRAY","array",539],"(",")",";",["T_WHITESPACE","\n        ",539],["T_VARIABLE","$this",540],["T_OBJECT_OPERATOR","->",540],["T_STRING","_sortedChildren",540],["T_WHITESPACE"," ",540],"=",["T_WHITESPACE"," ",540],["T_ARRAY","array",540],"(",")",";",["T_WHITESPACE","\n        ",540],["T_RETURN","return",541],["T_WHITESPACE"," ",541],["T_VARIABLE","$this",541],";",["T_WHITESPACE","\n    ",541],"}",["T_WHITESPACE","\n\n    ",542],["T_DOC_COMMENT","\/**\n     * Retrieve child block by name\n     *\n     * @param  string $name\n     * @return mixed\n     *\/",544],["T_WHITESPACE","\n    ",549],["T_PUBLIC","public",550],["T_WHITESPACE"," ",550],["T_FUNCTION","function",550],["T_WHITESPACE"," ",550],["T_STRING","getChild",550],"(",["T_VARIABLE","$name",550],["T_WHITESPACE"," ",550],"=",["T_WHITESPACE"," ",550],["T_CONSTANT_ENCAPSED_STRING","''",550],")",["T_WHITESPACE","\n    ",550],"{",["T_WHITESPACE","\n        ",551],["T_IF","if",552],["T_WHITESPACE"," ",552],"(",["T_VARIABLE","$name",552],["T_WHITESPACE"," ",552],["T_IS_IDENTICAL","===",552],["T_WHITESPACE"," ",552],["T_CONSTANT_ENCAPSED_STRING","''",552],")",["T_WHITESPACE"," ",552],"{",["T_WHITESPACE","\n            ",552],["T_RETURN","return",553],["T_WHITESPACE"," ",553],["T_VARIABLE","$this",553],["T_OBJECT_OPERATOR","->",553],["T_STRING","_children",553],";",["T_WHITESPACE","\n        ",553],"}",["T_WHITESPACE"," ",554],["T_ELSEIF","elseif",554],["T_WHITESPACE"," ",554],"(",["T_ISSET","isset",554],"(",["T_VARIABLE","$this",554],["T_OBJECT_OPERATOR","->",554],["T_STRING","_children",554],"[",["T_VARIABLE","$name",554],"]",")",")",["T_WHITESPACE"," ",554],"{",["T_WHITESPACE","\n            ",554],["T_RETURN","return",555],["T_WHITESPACE"," ",555],["T_VARIABLE","$this",555],["T_OBJECT_OPERATOR","->",555],["T_STRING","_children",555],"[",["T_VARIABLE","$name",555],"]",";",["T_WHITESPACE","\n        ",555],"}",["T_WHITESPACE","\n        ",556],["T_RETURN","return",557],["T_WHITESPACE"," ",557],["T_STRING","false",557],";",["T_WHITESPACE","\n    ",557],"}",["T_WHITESPACE","\n\n    ",558],["T_DOC_COMMENT","\/**\n     * Retrieve child block HTML\n     *\n     * @param   string $name\n     * @param   boolean $useCache\n     * @param   boolean $sorted\n     * @return  string\n     *\/",560],["T_WHITESPACE","\n    ",567],["T_PUBLIC","public",568],["T_WHITESPACE"," ",568],["T_FUNCTION","function",568],["T_WHITESPACE"," ",568],["T_STRING","getChildHtml",568],"(",["T_VARIABLE","$name",568],["T_WHITESPACE"," ",568],"=",["T_WHITESPACE"," ",568],["T_CONSTANT_ENCAPSED_STRING","''",568],",",["T_WHITESPACE"," ",568],["T_VARIABLE","$useCache",568],["T_WHITESPACE"," ",568],"=",["T_WHITESPACE"," ",568],["T_STRING","true",568],",",["T_WHITESPACE"," ",568],["T_VARIABLE","$sorted",568],["T_WHITESPACE"," ",568],"=",["T_WHITESPACE"," ",568],["T_STRING","false",568],")",["T_WHITESPACE","\n    ",568],"{",["T_WHITESPACE","\n        ",569],["T_IF","if",570],["T_WHITESPACE"," ",570],"(",["T_VARIABLE","$name",570],["T_WHITESPACE"," ",570],["T_IS_IDENTICAL","===",570],["T_WHITESPACE"," ",570],["T_CONSTANT_ENCAPSED_STRING","''",570],")",["T_WHITESPACE"," ",570],"{",["T_WHITESPACE","\n            ",570],["T_IF","if",571],["T_WHITESPACE"," ",571],"(",["T_VARIABLE","$sorted",571],")",["T_WHITESPACE"," ",571],"{",["T_WHITESPACE","\n                ",571],["T_VARIABLE","$children",572],["T_WHITESPACE"," ",572],"=",["T_WHITESPACE"," ",572],["T_ARRAY","array",572],"(",")",";",["T_WHITESPACE","\n                ",572],["T_FOREACH","foreach",573],["T_WHITESPACE"," ",573],"(",["T_VARIABLE","$this",573],["T_OBJECT_OPERATOR","->",573],["T_STRING","getSortedChildren",573],"(",")",["T_WHITESPACE"," ",573],["T_AS","as",573],["T_WHITESPACE"," ",573],["T_VARIABLE","$childName",573],")",["T_WHITESPACE"," ",573],"{",["T_WHITESPACE","\n                    ",573],["T_VARIABLE","$children",574],"[",["T_VARIABLE","$childName",574],"]",["T_WHITESPACE"," ",574],"=",["T_WHITESPACE"," ",574],["T_VARIABLE","$this",574],["T_OBJECT_OPERATOR","->",574],["T_STRING","getLayout",574],"(",")",["T_OBJECT_OPERATOR","->",574],["T_STRING","getBlock",574],"(",["T_VARIABLE","$childName",574],")",";",["T_WHITESPACE","\n                ",574],"}",["T_WHITESPACE","\n            ",575],"}",["T_WHITESPACE"," ",576],["T_ELSE","else",576],["T_WHITESPACE"," ",576],"{",["T_WHITESPACE","\n                ",576],["T_VARIABLE","$children",577],["T_WHITESPACE"," ",577],"=",["T_WHITESPACE"," ",577],["T_VARIABLE","$this",577],["T_OBJECT_OPERATOR","->",577],["T_STRING","getChild",577],"(",")",";",["T_WHITESPACE","\n            ",577],"}",["T_WHITESPACE","\n            ",578],["T_VARIABLE","$out",579],["T_WHITESPACE"," ",579],"=",["T_WHITESPACE"," ",579],["T_CONSTANT_ENCAPSED_STRING","''",579],";",["T_WHITESPACE","\n            ",579],["T_FOREACH","foreach",580],["T_WHITESPACE"," ",580],"(",["T_VARIABLE","$children",580],["T_WHITESPACE"," ",580],["T_AS","as",580],["T_WHITESPACE"," ",580],["T_VARIABLE","$child",580],")",["T_WHITESPACE"," ",580],"{",["T_WHITESPACE","\n                ",580],["T_VARIABLE","$out",581],["T_WHITESPACE"," ",581],["T_CONCAT_EQUAL",".=",581],["T_WHITESPACE"," ",581],["T_VARIABLE","$this",581],["T_OBJECT_OPERATOR","->",581],["T_STRING","_getChildHtml",581],"(",["T_VARIABLE","$child",581],["T_OBJECT_OPERATOR","->",581],["T_STRING","getBlockAlias",581],"(",")",",",["T_WHITESPACE"," ",581],["T_VARIABLE","$useCache",581],")",";",["T_WHITESPACE","\n            ",581],"}",["T_WHITESPACE","\n            ",582],["T_RETURN","return",583],["T_WHITESPACE"," ",583],["T_VARIABLE","$out",583],";",["T_WHITESPACE","\n        ",583],"}",["T_WHITESPACE"," ",584],["T_ELSE","else",584],["T_WHITESPACE"," ",584],"{",["T_WHITESPACE","\n            ",584],["T_RETURN","return",585],["T_WHITESPACE"," ",585],["T_VARIABLE","$this",585],["T_OBJECT_OPERATOR","->",585],["T_STRING","_getChildHtml",585],"(",["T_VARIABLE","$name",585],",",["T_WHITESPACE"," ",585],["T_VARIABLE","$useCache",585],")",";",["T_WHITESPACE","\n        ",585],"}",["T_WHITESPACE","\n    ",586],"}",["T_WHITESPACE","\n\n    ",587],["T_DOC_COMMENT","\/**\n     * @param string $name          Parent block name\n     * @param string $childName     OPTIONAL Child block name\n     * @param bool $useCache        OPTIONAL Use cache flag\n     * @param bool $sorted          OPTIONAL @see getChildHtml()\n     * @return string\n     *\/",589],["T_WHITESPACE","\n    ",595],["T_PUBLIC","public",596],["T_WHITESPACE"," ",596],["T_FUNCTION","function",596],["T_WHITESPACE"," ",596],["T_STRING","getChildChildHtml",596],"(",["T_VARIABLE","$name",596],",",["T_WHITESPACE"," ",596],["T_VARIABLE","$childName",596],["T_WHITESPACE"," ",596],"=",["T_WHITESPACE"," ",596],["T_CONSTANT_ENCAPSED_STRING","''",596],",",["T_WHITESPACE"," ",596],["T_VARIABLE","$useCache",596],["T_WHITESPACE"," ",596],"=",["T_WHITESPACE"," ",596],["T_STRING","true",596],",",["T_WHITESPACE"," ",596],["T_VARIABLE","$sorted",596],["T_WHITESPACE"," ",596],"=",["T_WHITESPACE"," ",596],["T_STRING","false",596],")",["T_WHITESPACE","\n    ",596],"{",["T_WHITESPACE","\n        ",597],["T_IF","if",598],["T_WHITESPACE"," ",598],"(",["T_EMPTY","empty",598],"(",["T_VARIABLE","$name",598],")",")",["T_WHITESPACE"," ",598],"{",["T_WHITESPACE","\n            ",598],["T_RETURN","return",599],["T_WHITESPACE"," ",599],["T_CONSTANT_ENCAPSED_STRING","''",599],";",["T_WHITESPACE","\n        ",599],"}",["T_WHITESPACE","\n        ",600],["T_VARIABLE","$child",601],["T_WHITESPACE"," ",601],"=",["T_WHITESPACE"," ",601],["T_VARIABLE","$this",601],["T_OBJECT_OPERATOR","->",601],["T_STRING","getChild",601],"(",["T_VARIABLE","$name",601],")",";",["T_WHITESPACE","\n        ",601],["T_IF","if",602],["T_WHITESPACE"," ",602],"(","!",["T_VARIABLE","$child",602],")",["T_WHITESPACE"," ",602],"{",["T_WHITESPACE","\n            ",602],["T_RETURN","return",603],["T_WHITESPACE"," ",603],["T_CONSTANT_ENCAPSED_STRING","''",603],";",["T_WHITESPACE","\n        ",603],"}",["T_WHITESPACE","\n        ",604],["T_RETURN","return",605],["T_WHITESPACE"," ",605],["T_VARIABLE","$child",605],["T_OBJECT_OPERATOR","->",605],["T_STRING","getChildHtml",605],"(",["T_VARIABLE","$childName",605],",",["T_WHITESPACE"," ",605],["T_VARIABLE","$useCache",605],",",["T_WHITESPACE"," ",605],["T_VARIABLE","$sorted",605],")",";",["T_WHITESPACE","\n    ",605],"}",["T_WHITESPACE","\n\n    ",606],["T_DOC_COMMENT","\/**\n     * Obtain sorted child blocks\n     *\n     * @return array\n     *\/",608],["T_WHITESPACE","\n    ",612],["T_PUBLIC","public",613],["T_WHITESPACE"," ",613],["T_FUNCTION","function",613],["T_WHITESPACE"," ",613],["T_STRING","getSortedChildBlocks",613],"(",")",["T_WHITESPACE","\n    ",613],"{",["T_WHITESPACE","\n        ",614],["T_VARIABLE","$children",615],["T_WHITESPACE"," ",615],"=",["T_WHITESPACE"," ",615],["T_ARRAY","array",615],"(",")",";",["T_WHITESPACE","\n        ",615],["T_FOREACH","foreach",616],["T_WHITESPACE"," ",616],"(",["T_VARIABLE","$this",616],["T_OBJECT_OPERATOR","->",616],["T_STRING","getSortedChildren",616],"(",")",["T_WHITESPACE"," ",616],["T_AS","as",616],["T_WHITESPACE"," ",616],["T_VARIABLE","$childName",616],")",["T_WHITESPACE"," ",616],"{",["T_WHITESPACE","\n            ",616],["T_VARIABLE","$children",617],"[",["T_VARIABLE","$childName",617],"]",["T_WHITESPACE"," ",617],"=",["T_WHITESPACE"," ",617],["T_VARIABLE","$this",617],["T_OBJECT_OPERATOR","->",617],["T_STRING","getLayout",617],"(",")",["T_OBJECT_OPERATOR","->",617],["T_STRING","getBlock",617],"(",["T_VARIABLE","$childName",617],")",";",["T_WHITESPACE","\n        ",617],"}",["T_WHITESPACE","\n        ",618],["T_RETURN","return",619],["T_WHITESPACE"," ",619],["T_VARIABLE","$children",619],";",["T_WHITESPACE","\n    ",619],"}",["T_WHITESPACE","\n\n    ",620],["T_DOC_COMMENT","\/**\n     * Retrieve child block HTML\n     *\n     * @param   string $name\n     * @param   boolean $useCache\n     * @return  string\n     *\/",622],["T_WHITESPACE","\n    ",628],["T_PROTECTED","protected",629],["T_WHITESPACE"," ",629],["T_FUNCTION","function",629],["T_WHITESPACE"," ",629],["T_STRING","_getChildHtml",629],"(",["T_VARIABLE","$name",629],",",["T_WHITESPACE"," ",629],["T_VARIABLE","$useCache",629],["T_WHITESPACE"," ",629],"=",["T_WHITESPACE"," ",629],["T_STRING","true",629],")",["T_WHITESPACE","\n    ",629],"{",["T_WHITESPACE","\n        ",630],["T_IF","if",631],["T_WHITESPACE"," ",631],"(",["T_VARIABLE","$useCache",631],["T_WHITESPACE"," ",631],["T_BOOLEAN_AND","&&",631],["T_WHITESPACE"," ",631],["T_ISSET","isset",631],"(",["T_VARIABLE","$this",631],["T_OBJECT_OPERATOR","->",631],["T_STRING","_childrenHtmlCache",631],"[",["T_VARIABLE","$name",631],"]",")",")",["T_WHITESPACE"," ",631],"{",["T_WHITESPACE","\n            ",631],["T_RETURN","return",632],["T_WHITESPACE"," ",632],["T_VARIABLE","$this",632],["T_OBJECT_OPERATOR","->",632],["T_STRING","_childrenHtmlCache",632],"[",["T_VARIABLE","$name",632],"]",";",["T_WHITESPACE","\n        ",632],"}",["T_WHITESPACE","\n\n        ",633],["T_VARIABLE","$child",635],["T_WHITESPACE"," ",635],"=",["T_WHITESPACE"," ",635],["T_VARIABLE","$this",635],["T_OBJECT_OPERATOR","->",635],["T_STRING","getChild",635],"(",["T_VARIABLE","$name",635],")",";",["T_WHITESPACE","\n\n        ",635],["T_IF","if",637],["T_WHITESPACE"," ",637],"(","!",["T_VARIABLE","$child",637],")",["T_WHITESPACE"," ",637],"{",["T_WHITESPACE","\n            ",637],["T_VARIABLE","$html",638],["T_WHITESPACE"," ",638],"=",["T_WHITESPACE"," ",638],["T_CONSTANT_ENCAPSED_STRING","''",638],";",["T_WHITESPACE","\n        ",638],"}",["T_WHITESPACE"," ",639],["T_ELSE","else",639],["T_WHITESPACE"," ",639],"{",["T_WHITESPACE","\n            ",639],["T_VARIABLE","$this",640],["T_OBJECT_OPERATOR","->",640],["T_STRING","_beforeChildToHtml",640],"(",["T_VARIABLE","$name",640],",",["T_WHITESPACE"," ",640],["T_VARIABLE","$child",640],")",";",["T_WHITESPACE","\n            ",640],["T_VARIABLE","$html",641],["T_WHITESPACE"," ",641],"=",["T_WHITESPACE"," ",641],["T_VARIABLE","$child",641],["T_OBJECT_OPERATOR","->",641],["T_STRING","toHtml",641],"(",")",";",["T_WHITESPACE","\n        ",641],"}",["T_WHITESPACE","\n\n        ",642],["T_VARIABLE","$this",644],["T_OBJECT_OPERATOR","->",644],["T_STRING","_childrenHtmlCache",644],"[",["T_VARIABLE","$name",644],"]",["T_WHITESPACE"," ",644],"=",["T_WHITESPACE"," ",644],["T_VARIABLE","$html",644],";",["T_WHITESPACE","\n        ",644],["T_RETURN","return",645],["T_WHITESPACE"," ",645],["T_VARIABLE","$html",645],";",["T_WHITESPACE","\n    ",645],"}",["T_WHITESPACE","\n\n    ",646],["T_DOC_COMMENT","\/**\n     * Prepare child block before generate html\n     *\n     * @param   string $name\n     * @param   Mage_Core_Block_Abstract $child\n     *\/",648],["T_WHITESPACE","\n    ",653],["T_PROTECTED","protected",654],["T_WHITESPACE"," ",654],["T_FUNCTION","function",654],["T_WHITESPACE"," ",654],["T_STRING","_beforeChildToHtml",654],"(",["T_VARIABLE","$name",654],",",["T_WHITESPACE"," ",654],["T_VARIABLE","$child",654],")",["T_WHITESPACE","\n    ",654],"{",["T_WHITESPACE","\n    ",655],"}",["T_WHITESPACE","\n\n    ",656],["T_DOC_COMMENT","\/**\n     * Retrieve block html\n     *\n     * @param   string $name\n     * @return  string\n     *\/",658],["T_WHITESPACE","\n    ",663],["T_PUBLIC","public",664],["T_WHITESPACE"," ",664],["T_FUNCTION","function",664],["T_WHITESPACE"," ",664],["T_STRING","getBlockHtml",664],"(",["T_VARIABLE","$name",664],")",["T_WHITESPACE","\n    ",664],"{",["T_WHITESPACE","\n        ",665],["T_IF","if",666],["T_WHITESPACE"," ",666],"(","!","(",["T_VARIABLE","$layout",666],["T_WHITESPACE"," ",666],"=",["T_WHITESPACE"," ",666],["T_VARIABLE","$this",666],["T_OBJECT_OPERATOR","->",666],["T_STRING","getLayout",666],"(",")",")",["T_WHITESPACE"," ",666],["T_BOOLEAN_AND","&&",666],["T_WHITESPACE"," ",666],"!","(",["T_VARIABLE","$layout",666],["T_WHITESPACE"," ",666],"=",["T_WHITESPACE"," ",666],["T_VARIABLE","$this",666],["T_OBJECT_OPERATOR","->",666],["T_STRING","getAction",666],"(",")",["T_OBJECT_OPERATOR","->",666],["T_STRING","getLayout",666],"(",")",")",")",["T_WHITESPACE"," ",666],"{",["T_WHITESPACE","\n            ",666],["T_RETURN","return",667],["T_WHITESPACE"," ",667],["T_CONSTANT_ENCAPSED_STRING","''",667],";",["T_WHITESPACE","\n        ",667],"}",["T_WHITESPACE","\n        ",668],["T_IF","if",669],["T_WHITESPACE"," ",669],"(","!","(",["T_VARIABLE","$block",669],["T_WHITESPACE"," ",669],"=",["T_WHITESPACE"," ",669],["T_VARIABLE","$layout",669],["T_OBJECT_OPERATOR","->",669],["T_STRING","getBlock",669],"(",["T_VARIABLE","$name",669],")",")",")",["T_WHITESPACE"," ",669],"{",["T_WHITESPACE","\n            ",669],["T_RETURN","return",670],["T_WHITESPACE"," ",670],["T_CONSTANT_ENCAPSED_STRING","''",670],";",["T_WHITESPACE","\n        ",670],"}",["T_WHITESPACE","\n        ",671],["T_RETURN","return",672],["T_WHITESPACE"," ",672],["T_VARIABLE","$block",672],["T_OBJECT_OPERATOR","->",672],["T_STRING","toHtml",672],"(",")",";",["T_WHITESPACE","\n    ",672],"}",["T_WHITESPACE","\n\n    ",673],["T_DOC_COMMENT","\/**\n     * Insert child block\n     *\n     * @param   Mage_Core_Block_Abstract|string $block\n     * @param   string $siblingName\n     * @param   boolean $after\n     * @param   string $alias\n     * @return  object $this\n     *\/",675],["T_WHITESPACE","\n    ",683],["T_PUBLIC","public",684],["T_WHITESPACE"," ",684],["T_FUNCTION","function",684],["T_WHITESPACE"," ",684],["T_STRING","insert",684],"(",["T_VARIABLE","$block",684],",",["T_WHITESPACE"," ",684],["T_VARIABLE","$siblingName",684],["T_WHITESPACE"," ",684],"=",["T_WHITESPACE"," ",684],["T_CONSTANT_ENCAPSED_STRING","''",684],",",["T_WHITESPACE"," ",684],["T_VARIABLE","$after",684],["T_WHITESPACE"," ",684],"=",["T_WHITESPACE"," ",684],["T_STRING","false",684],",",["T_WHITESPACE"," ",684],["T_VARIABLE","$alias",684],["T_WHITESPACE"," ",684],"=",["T_WHITESPACE"," ",684],["T_CONSTANT_ENCAPSED_STRING","''",684],")",["T_WHITESPACE","\n    ",684],"{",["T_WHITESPACE","\n        ",685],["T_IF","if",686],["T_WHITESPACE"," ",686],"(",["T_STRING","is_string",686],"(",["T_VARIABLE","$block",686],")",")",["T_WHITESPACE"," ",686],"{",["T_WHITESPACE","\n            ",686],["T_VARIABLE","$block",687],["T_WHITESPACE"," ",687],"=",["T_WHITESPACE"," ",687],["T_VARIABLE","$this",687],["T_OBJECT_OPERATOR","->",687],["T_STRING","getLayout",687],"(",")",["T_OBJECT_OPERATOR","->",687],["T_STRING","getBlock",687],"(",["T_VARIABLE","$block",687],")",";",["T_WHITESPACE","\n        ",687],"}",["T_WHITESPACE","\n        ",688],["T_IF","if",689],["T_WHITESPACE"," ",689],"(","!",["T_VARIABLE","$block",689],")",["T_WHITESPACE"," ",689],"{",["T_WHITESPACE","\n            ",689],["T_COMMENT","\/*\n             * if we don't have block - don't throw exception because\n             * block can simply removed using layout method remove\n             *\/",690],["T_WHITESPACE","\n            ",693],["T_COMMENT","\/\/Mage::throwException(Mage::helper('core')\n",694],["T_WHITESPACE","            ",695],["T_COMMENT","\/\/ ->__('Invalid block name to set child %s: %s', $alias, $block));\n",695],["T_WHITESPACE","            ",696],["T_RETURN","return",696],["T_WHITESPACE"," ",696],["T_VARIABLE","$this",696],";",["T_WHITESPACE","\n        ",696],"}",["T_WHITESPACE","\n        ",697],["T_IF","if",698],["T_WHITESPACE"," ",698],"(",["T_VARIABLE","$block",698],["T_OBJECT_OPERATOR","->",698],["T_STRING","getIsAnonymous",698],"(",")",")",["T_WHITESPACE"," ",698],"{",["T_WHITESPACE","\n            ",698],["T_VARIABLE","$this",699],["T_OBJECT_OPERATOR","->",699],["T_STRING","setChild",699],"(",["T_CONSTANT_ENCAPSED_STRING","''",699],",",["T_WHITESPACE"," ",699],["T_VARIABLE","$block",699],")",";",["T_WHITESPACE","\n            ",699],["T_VARIABLE","$name",700],["T_WHITESPACE"," ",700],"=",["T_WHITESPACE"," ",700],["T_VARIABLE","$block",700],["T_OBJECT_OPERATOR","->",700],["T_STRING","getNameInLayout",700],"(",")",";",["T_WHITESPACE","\n        ",700],"}",["T_WHITESPACE"," ",701],["T_ELSEIF","elseif",701],["T_WHITESPACE"," ",701],"(",["T_CONSTANT_ENCAPSED_STRING","''",701],["T_WHITESPACE"," ",701],["T_IS_NOT_EQUAL","!=",701],["T_WHITESPACE"," ",701],["T_VARIABLE","$alias",701],")",["T_WHITESPACE"," ",701],"{",["T_WHITESPACE","\n            ",701],["T_VARIABLE","$this",702],["T_OBJECT_OPERATOR","->",702],["T_STRING","setChild",702],"(",["T_VARIABLE","$alias",702],",",["T_WHITESPACE"," ",702],["T_VARIABLE","$block",702],")",";",["T_WHITESPACE","\n            ",702],["T_VARIABLE","$name",703],["T_WHITESPACE"," ",703],"=",["T_WHITESPACE"," ",703],["T_VARIABLE","$block",703],["T_OBJECT_OPERATOR","->",703],["T_STRING","getNameInLayout",703],"(",")",";",["T_WHITESPACE","\n        ",703],"}",["T_WHITESPACE"," ",704],["T_ELSE","else",704],["T_WHITESPACE"," ",704],"{",["T_WHITESPACE","\n            ",704],["T_VARIABLE","$name",705],["T_WHITESPACE"," ",705],"=",["T_WHITESPACE"," ",705],["T_VARIABLE","$block",705],["T_OBJECT_OPERATOR","->",705],["T_STRING","getNameInLayout",705],"(",")",";",["T_WHITESPACE","\n            ",705],["T_VARIABLE","$this",706],["T_OBJECT_OPERATOR","->",706],["T_STRING","setChild",706],"(",["T_VARIABLE","$name",706],",",["T_WHITESPACE"," ",706],["T_VARIABLE","$block",706],")",";",["T_WHITESPACE","\n        ",706],"}",["T_WHITESPACE","\n\n        ",707],["T_IF","if",709],["T_WHITESPACE"," ",709],"(",["T_VARIABLE","$siblingName",709],["T_WHITESPACE"," ",709],["T_IS_IDENTICAL","===",709],["T_WHITESPACE"," ",709],["T_CONSTANT_ENCAPSED_STRING","''",709],")",["T_WHITESPACE"," ",709],"{",["T_WHITESPACE","\n            ",709],["T_IF","if",710],["T_WHITESPACE"," ",710],"(",["T_VARIABLE","$after",710],")",["T_WHITESPACE"," ",710],"{",["T_WHITESPACE","\n                ",710],["T_STRING","array_push",711],"(",["T_VARIABLE","$this",711],["T_OBJECT_OPERATOR","->",711],["T_STRING","_sortedChildren",711],",",["T_WHITESPACE"," ",711],["T_VARIABLE","$name",711],")",";",["T_WHITESPACE","\n            ",711],"}",["T_WHITESPACE"," ",712],["T_ELSE","else",712],["T_WHITESPACE"," ",712],"{",["T_WHITESPACE","\n                ",712],["T_STRING","array_unshift",713],"(",["T_VARIABLE","$this",713],["T_OBJECT_OPERATOR","->",713],["T_STRING","_sortedChildren",713],",",["T_WHITESPACE"," ",713],["T_VARIABLE","$name",713],")",";",["T_WHITESPACE","\n            ",713],"}",["T_WHITESPACE","\n        ",714],"}",["T_WHITESPACE"," ",715],["T_ELSE","else",715],["T_WHITESPACE"," ",715],"{",["T_WHITESPACE","\n            ",715],["T_VARIABLE","$key",716],["T_WHITESPACE"," ",716],"=",["T_WHITESPACE"," ",716],["T_STRING","array_search",716],"(",["T_VARIABLE","$siblingName",716],",",["T_WHITESPACE"," ",716],["T_VARIABLE","$this",716],["T_OBJECT_OPERATOR","->",716],["T_STRING","_sortedChildren",716],")",";",["T_WHITESPACE","\n            ",716],["T_IF","if",717],["T_WHITESPACE"," ",717],"(",["T_STRING","false",717],["T_WHITESPACE"," ",717],["T_IS_NOT_IDENTICAL","!==",717],["T_WHITESPACE"," ",717],["T_VARIABLE","$key",717],")",["T_WHITESPACE"," ",717],"{",["T_WHITESPACE","\n                ",717],["T_IF","if",718],["T_WHITESPACE"," ",718],"(",["T_VARIABLE","$after",718],")",["T_WHITESPACE"," ",718],"{",["T_WHITESPACE","\n                    ",718],["T_VARIABLE","$key",719],["T_INC","++",719],";",["T_WHITESPACE","\n                ",719],"}",["T_WHITESPACE","\n                ",720],["T_STRING","array_splice",721],"(",["T_VARIABLE","$this",721],["T_OBJECT_OPERATOR","->",721],["T_STRING","_sortedChildren",721],",",["T_WHITESPACE"," ",721],["T_VARIABLE","$key",721],",",["T_WHITESPACE"," ",721],["T_LNUMBER","0",721],",",["T_WHITESPACE"," ",721],["T_VARIABLE","$name",721],")",";",["T_WHITESPACE","\n            ",721],"}",["T_WHITESPACE"," ",722],["T_ELSE","else",722],["T_WHITESPACE"," ",722],"{",["T_WHITESPACE","\n                ",722],["T_IF","if",723],["T_WHITESPACE"," ",723],"(",["T_VARIABLE","$after",723],")",["T_WHITESPACE"," ",723],"{",["T_WHITESPACE","\n                    ",723],["T_STRING","array_push",724],"(",["T_VARIABLE","$this",724],["T_OBJECT_OPERATOR","->",724],["T_STRING","_sortedChildren",724],",",["T_WHITESPACE"," ",724],["T_VARIABLE","$name",724],")",";",["T_WHITESPACE","\n                ",724],"}",["T_WHITESPACE"," ",725],["T_ELSE","else",725],["T_WHITESPACE"," ",725],"{",["T_WHITESPACE","\n                    ",725],["T_STRING","array_unshift",726],"(",["T_VARIABLE","$this",726],["T_OBJECT_OPERATOR","->",726],["T_STRING","_sortedChildren",726],",",["T_WHITESPACE"," ",726],["T_VARIABLE","$name",726],")",";",["T_WHITESPACE","\n                ",726],"}",["T_WHITESPACE","\n            ",727],"}",["T_WHITESPACE","\n\n            ",728],["T_VARIABLE","$this",730],["T_OBJECT_OPERATOR","->",730],["T_STRING","_sortInstructions",730],"[",["T_VARIABLE","$name",730],"]",["T_WHITESPACE"," ",730],"=",["T_WHITESPACE"," ",730],["T_ARRAY","array",730],"(",["T_VARIABLE","$siblingName",730],",",["T_WHITESPACE"," ",730],["T_BOOL_CAST","(bool)",730],["T_VARIABLE","$after",730],",",["T_WHITESPACE"," ",730],["T_STRING","false",730],["T_WHITESPACE"," ",730],["T_IS_NOT_IDENTICAL","!==",730],["T_WHITESPACE"," ",730],["T_VARIABLE","$key",730],")",";",["T_WHITESPACE","\n        ",730],"}",["T_WHITESPACE","\n\n        ",731],["T_RETURN","return",733],["T_WHITESPACE"," ",733],["T_VARIABLE","$this",733],";",["T_WHITESPACE","\n    ",733],"}",["T_WHITESPACE","\n\n    ",734],["T_DOC_COMMENT","\/**\n     * Sort block's children\n     *\n     * @param boolean $force force re-sort all children\n     * @return Mage_Core_Block_Abstract\n     *\/",736],["T_WHITESPACE","\n    ",741],["T_PUBLIC","public",742],["T_WHITESPACE"," ",742],["T_FUNCTION","function",742],["T_WHITESPACE"," ",742],["T_STRING","sortChildren",742],"(",["T_VARIABLE","$force",742],["T_WHITESPACE"," ",742],"=",["T_WHITESPACE"," ",742],["T_STRING","false",742],")",["T_WHITESPACE","\n    ",742],"{",["T_WHITESPACE","\n        ",743],["T_FOREACH","foreach",744],["T_WHITESPACE"," ",744],"(",["T_VARIABLE","$this",744],["T_OBJECT_OPERATOR","->",744],["T_STRING","_sortInstructions",744],["T_WHITESPACE"," ",744],["T_AS","as",744],["T_WHITESPACE"," ",744],["T_VARIABLE","$name",744],["T_WHITESPACE"," ",744],["T_DOUBLE_ARROW","=>",744],["T_WHITESPACE"," ",744],["T_VARIABLE","$list",744],")",["T_WHITESPACE"," ",744],"{",["T_WHITESPACE","\n            ",744],["T_LIST","list",745],"(",["T_VARIABLE","$siblingName",745],",",["T_WHITESPACE"," ",745],["T_VARIABLE","$after",745],",",["T_WHITESPACE"," ",745],["T_VARIABLE","$exists",745],")",["T_WHITESPACE"," ",745],"=",["T_WHITESPACE"," ",745],["T_VARIABLE","$list",745],";",["T_WHITESPACE","\n            ",745],["T_IF","if",746],["T_WHITESPACE"," ",746],"(",["T_VARIABLE","$exists",746],["T_WHITESPACE"," ",746],["T_BOOLEAN_AND","&&",746],["T_WHITESPACE"," ",746],"!",["T_VARIABLE","$force",746],")",["T_WHITESPACE"," ",746],"{",["T_WHITESPACE","\n                ",746],["T_CONTINUE","continue",747],";",["T_WHITESPACE","\n            ",747],"}",["T_WHITESPACE","\n            ",748],["T_VARIABLE","$this",749],["T_OBJECT_OPERATOR","->",749],["T_STRING","_sortInstructions",749],"[",["T_VARIABLE","$name",749],"]","[",["T_LNUMBER","2",749],"]",["T_WHITESPACE"," ",749],"=",["T_WHITESPACE"," ",749],["T_STRING","true",749],";",["T_WHITESPACE","\n\n            ",749],["T_VARIABLE","$index",751],["T_WHITESPACE"," ",751],"=",["T_WHITESPACE"," ",751],["T_STRING","array_search",751],"(",["T_VARIABLE","$name",751],",",["T_WHITESPACE"," ",751],["T_VARIABLE","$this",751],["T_OBJECT_OPERATOR","->",751],["T_STRING","_sortedChildren",751],")",";",["T_WHITESPACE","\n            ",751],["T_VARIABLE","$siblingKey",752],["T_WHITESPACE"," ",752],"=",["T_WHITESPACE"," ",752],["T_STRING","array_search",752],"(",["T_VARIABLE","$siblingName",752],",",["T_WHITESPACE"," ",752],["T_VARIABLE","$this",752],["T_OBJECT_OPERATOR","->",752],["T_STRING","_sortedChildren",752],")",";",["T_WHITESPACE","\n\n            ",752],["T_IF","if",754],["T_WHITESPACE"," ",754],"(",["T_VARIABLE","$index",754],["T_WHITESPACE"," ",754],["T_IS_IDENTICAL","===",754],["T_WHITESPACE"," ",754],["T_STRING","false",754],["T_WHITESPACE"," ",754],["T_BOOLEAN_OR","||",754],["T_WHITESPACE"," ",754],["T_VARIABLE","$siblingKey",754],["T_WHITESPACE"," ",754],["T_IS_IDENTICAL","===",754],["T_WHITESPACE"," ",754],["T_STRING","false",754],")",["T_WHITESPACE"," ",754],"{",["T_WHITESPACE","\n                ",754],["T_CONTINUE","continue",755],";",["T_WHITESPACE","\n            ",755],"}",["T_WHITESPACE","\n\n            ",756],["T_IF","if",758],["T_WHITESPACE"," ",758],"(",["T_VARIABLE","$after",758],")",["T_WHITESPACE"," ",758],"{",["T_WHITESPACE","\n                ",758],["T_COMMENT","\/\/ insert after block\n",759],["T_WHITESPACE","                ",760],["T_IF","if",760],["T_WHITESPACE"," ",760],"(",["T_VARIABLE","$index",760],["T_WHITESPACE"," ",760],["T_IS_EQUAL","==",760],["T_WHITESPACE"," ",760],["T_VARIABLE","$siblingKey",760],["T_WHITESPACE"," ",760],"+",["T_WHITESPACE"," ",760],["T_LNUMBER","1",760],")",["T_WHITESPACE"," ",760],"{",["T_WHITESPACE","\n                    ",760],["T_CONTINUE","continue",761],";",["T_WHITESPACE","\n                ",761],"}",["T_WHITESPACE","\n                ",762],["T_COMMENT","\/\/ remove sibling from array\n",763],["T_WHITESPACE","                ",764],["T_STRING","array_splice",764],"(",["T_VARIABLE","$this",764],["T_OBJECT_OPERATOR","->",764],["T_STRING","_sortedChildren",764],",",["T_WHITESPACE"," ",764],["T_VARIABLE","$index",764],",",["T_WHITESPACE"," ",764],["T_LNUMBER","1",764],",",["T_WHITESPACE"," ",764],["T_ARRAY","array",764],"(",")",")",";",["T_WHITESPACE","\n                ",764],["T_COMMENT","\/\/ insert sibling after\n",765],["T_WHITESPACE","                ",766],["T_STRING","array_splice",766],"(",["T_VARIABLE","$this",766],["T_OBJECT_OPERATOR","->",766],["T_STRING","_sortedChildren",766],",",["T_WHITESPACE"," ",766],["T_VARIABLE","$siblingKey",766],["T_WHITESPACE"," ",766],"+",["T_WHITESPACE"," ",766],["T_LNUMBER","1",766],",",["T_WHITESPACE"," ",766],["T_LNUMBER","0",766],",",["T_WHITESPACE"," ",766],["T_ARRAY","array",766],"(",["T_VARIABLE","$name",766],")",")",";",["T_WHITESPACE","\n            ",766],"}",["T_WHITESPACE"," ",767],["T_ELSE","else",767],["T_WHITESPACE"," ",767],"{",["T_WHITESPACE","\n                ",767],["T_COMMENT","\/\/ insert before block\n",768],["T_WHITESPACE","                ",769],["T_IF","if",769],["T_WHITESPACE"," ",769],"(",["T_VARIABLE","$index",769],["T_WHITESPACE"," ",769],["T_IS_EQUAL","==",769],["T_WHITESPACE"," ",769],["T_VARIABLE","$siblingKey",769],["T_WHITESPACE"," ",769],"-",["T_WHITESPACE"," ",769],["T_LNUMBER","1",769],")",["T_WHITESPACE"," ",769],"{",["T_WHITESPACE","\n                    ",769],["T_CONTINUE","continue",770],";",["T_WHITESPACE","\n                ",770],"}",["T_WHITESPACE","\n                ",771],["T_COMMENT","\/\/ remove sibling from array\n",772],["T_WHITESPACE","                ",773],["T_STRING","array_splice",773],"(",["T_VARIABLE","$this",773],["T_OBJECT_OPERATOR","->",773],["T_STRING","_sortedChildren",773],",",["T_WHITESPACE"," ",773],["T_VARIABLE","$index",773],",",["T_WHITESPACE"," ",773],["T_LNUMBER","1",773],",",["T_WHITESPACE"," ",773],["T_ARRAY","array",773],"(",")",")",";",["T_WHITESPACE","\n                ",773],["T_COMMENT","\/\/ insert sibling after\n",774],["T_WHITESPACE","                ",775],["T_STRING","array_splice",775],"(",["T_VARIABLE","$this",775],["T_OBJECT_OPERATOR","->",775],["T_STRING","_sortedChildren",775],",",["T_WHITESPACE"," ",775],["T_VARIABLE","$siblingKey",775],",",["T_WHITESPACE"," ",775],["T_LNUMBER","0",775],",",["T_WHITESPACE"," ",775],["T_ARRAY","array",775],"(",["T_VARIABLE","$name",775],")",")",";",["T_WHITESPACE","\n            ",775],"}",["T_WHITESPACE","\n        ",776],"}",["T_WHITESPACE","\n\n        ",777],["T_RETURN","return",779],["T_WHITESPACE"," ",779],["T_VARIABLE","$this",779],";",["T_WHITESPACE","\n    ",779],"}",["T_WHITESPACE","\n\n    ",780],["T_DOC_COMMENT","\/**\n     * Append child block\n     *\n     * @param   Mage_Core_Block_Abstract|string $block\n     * @param   string $alias\n     * @return  Mage_Core_Block_Abstract\n     *\/",782],["T_WHITESPACE","\n    ",788],["T_PUBLIC","public",789],["T_WHITESPACE"," ",789],["T_FUNCTION","function",789],["T_WHITESPACE"," ",789],["T_STRING","append",789],"(",["T_VARIABLE","$block",789],",",["T_WHITESPACE"," ",789],["T_VARIABLE","$alias",789],["T_WHITESPACE"," ",789],"=",["T_WHITESPACE"," ",789],["T_CONSTANT_ENCAPSED_STRING","''",789],")",["T_WHITESPACE","\n    ",789],"{",["T_WHITESPACE","\n        ",790],["T_VARIABLE","$this",791],["T_OBJECT_OPERATOR","->",791],["T_STRING","insert",791],"(",["T_VARIABLE","$block",791],",",["T_WHITESPACE"," ",791],["T_CONSTANT_ENCAPSED_STRING","''",791],",",["T_WHITESPACE"," ",791],["T_STRING","true",791],",",["T_WHITESPACE"," ",791],["T_VARIABLE","$alias",791],")",";",["T_WHITESPACE","\n        ",791],["T_RETURN","return",792],["T_WHITESPACE"," ",792],["T_VARIABLE","$this",792],";",["T_WHITESPACE","\n    ",792],"}",["T_WHITESPACE","\n\n    ",793],["T_DOC_COMMENT","\/**\n     * Make sure specified block will be registered in the specified child groups\n     *\n     * @param string $groupName\n     * @param Mage_Core_Block_Abstract $child\n     *\/",795],["T_WHITESPACE","\n    ",800],["T_PUBLIC","public",801],["T_WHITESPACE"," ",801],["T_FUNCTION","function",801],["T_WHITESPACE"," ",801],["T_STRING","addToChildGroup",801],"(",["T_VARIABLE","$groupName",801],",",["T_WHITESPACE"," ",801],["T_STRING","Mage_Core_Block_Abstract",801],["T_WHITESPACE"," ",801],["T_VARIABLE","$child",801],")",["T_WHITESPACE","\n    ",801],"{",["T_WHITESPACE","\n        ",802],["T_IF","if",803],["T_WHITESPACE"," ",803],"(","!",["T_ISSET","isset",803],"(",["T_VARIABLE","$this",803],["T_OBJECT_OPERATOR","->",803],["T_STRING","_childGroups",803],"[",["T_VARIABLE","$groupName",803],"]",")",")",["T_WHITESPACE"," ",803],"{",["T_WHITESPACE","\n            ",803],["T_VARIABLE","$this",804],["T_OBJECT_OPERATOR","->",804],["T_STRING","_childGroups",804],"[",["T_VARIABLE","$groupName",804],"]",["T_WHITESPACE"," ",804],"=",["T_WHITESPACE"," ",804],["T_ARRAY","array",804],"(",")",";",["T_WHITESPACE","\n        ",804],"}",["T_WHITESPACE","\n        ",805],["T_IF","if",806],["T_WHITESPACE"," ",806],"(","!",["T_STRING","in_array",806],"(",["T_VARIABLE","$child",806],["T_OBJECT_OPERATOR","->",806],["T_STRING","getBlockAlias",806],"(",")",",",["T_WHITESPACE"," ",806],["T_VARIABLE","$this",806],["T_OBJECT_OPERATOR","->",806],["T_STRING","_childGroups",806],"[",["T_VARIABLE","$groupName",806],"]",")",")",["T_WHITESPACE"," ",806],"{",["T_WHITESPACE","\n            ",806],["T_VARIABLE","$this",807],["T_OBJECT_OPERATOR","->",807],["T_STRING","_childGroups",807],"[",["T_VARIABLE","$groupName",807],"]","[","]",["T_WHITESPACE"," ",807],"=",["T_WHITESPACE"," ",807],["T_VARIABLE","$child",807],["T_OBJECT_OPERATOR","->",807],["T_STRING","getBlockAlias",807],"(",")",";",["T_WHITESPACE","\n        ",807],"}",["T_WHITESPACE","\n    ",808],"}",["T_WHITESPACE","\n\n    ",809],["T_DOC_COMMENT","\/**\n     * Add self to the specified group of parent block\n     *\n     * @param string $groupName\n     * @return Mage_Core_Block_Abstract\n     *\/",811],["T_WHITESPACE","\n    ",816],["T_PUBLIC","public",817],["T_WHITESPACE"," ",817],["T_FUNCTION","function",817],["T_WHITESPACE"," ",817],["T_STRING","addToParentGroup",817],"(",["T_VARIABLE","$groupName",817],")",["T_WHITESPACE","\n    ",817],"{",["T_WHITESPACE","\n        ",818],["T_VARIABLE","$this",819],["T_OBJECT_OPERATOR","->",819],["T_STRING","getParentBlock",819],"(",")",["T_OBJECT_OPERATOR","->",819],["T_STRING","addToChildGroup",819],"(",["T_VARIABLE","$groupName",819],",",["T_WHITESPACE"," ",819],["T_VARIABLE","$this",819],")",";",["T_WHITESPACE","\n        ",819],["T_RETURN","return",820],["T_WHITESPACE"," ",820],["T_VARIABLE","$this",820],";",["T_WHITESPACE","\n    ",820],"}",["T_WHITESPACE","\n\n    ",821],["T_DOC_COMMENT","\/**\n     * Get a group of child blocks\n     *\n     * Returns an array of <alias> => <block>\n     * or an array of <alias> => <callback_result>\n     * The callback currently supports only $this methods and passes the alias as parameter\n     *\n     * @param string $groupName\n     * @param string $callback\n     * @param bool $skipEmptyResults\n     * @return array\n     *\/",823],["T_WHITESPACE","\n    ",834],["T_PUBLIC","public",835],["T_WHITESPACE"," ",835],["T_FUNCTION","function",835],["T_WHITESPACE"," ",835],["T_STRING","getChildGroup",835],"(",["T_VARIABLE","$groupName",835],",",["T_WHITESPACE"," ",835],["T_VARIABLE","$callback",835],["T_WHITESPACE"," ",835],"=",["T_WHITESPACE"," ",835],["T_STRING","null",835],",",["T_WHITESPACE"," ",835],["T_VARIABLE","$skipEmptyResults",835],["T_WHITESPACE"," ",835],"=",["T_WHITESPACE"," ",835],["T_STRING","true",835],")",["T_WHITESPACE","\n    ",835],"{",["T_WHITESPACE","\n        ",836],["T_VARIABLE","$result",837],["T_WHITESPACE"," ",837],"=",["T_WHITESPACE"," ",837],["T_ARRAY","array",837],"(",")",";",["T_WHITESPACE","\n        ",837],["T_IF","if",838],["T_WHITESPACE"," ",838],"(","!",["T_ISSET","isset",838],"(",["T_VARIABLE","$this",838],["T_OBJECT_OPERATOR","->",838],["T_STRING","_childGroups",838],"[",["T_VARIABLE","$groupName",838],"]",")",")",["T_WHITESPACE"," ",838],"{",["T_WHITESPACE","\n            ",838],["T_RETURN","return",839],["T_WHITESPACE"," ",839],["T_VARIABLE","$result",839],";",["T_WHITESPACE","\n        ",839],"}",["T_WHITESPACE","\n        ",840],["T_FOREACH","foreach",841],["T_WHITESPACE"," ",841],"(",["T_VARIABLE","$this",841],["T_OBJECT_OPERATOR","->",841],["T_STRING","getSortedChildBlocks",841],"(",")",["T_WHITESPACE"," ",841],["T_AS","as",841],["T_WHITESPACE"," ",841],["T_VARIABLE","$block",841],")",["T_WHITESPACE"," ",841],"{",["T_WHITESPACE","\n            ",841],["T_VARIABLE","$alias",842],["T_WHITESPACE"," ",842],"=",["T_WHITESPACE"," ",842],["T_VARIABLE","$block",842],["T_OBJECT_OPERATOR","->",842],["T_STRING","getBlockAlias",842],"(",")",";",["T_WHITESPACE","\n            ",842],["T_IF","if",843],["T_WHITESPACE"," ",843],"(",["T_STRING","in_array",843],"(",["T_VARIABLE","$alias",843],",",["T_WHITESPACE"," ",843],["T_VARIABLE","$this",843],["T_OBJECT_OPERATOR","->",843],["T_STRING","_childGroups",843],"[",["T_VARIABLE","$groupName",843],"]",")",")",["T_WHITESPACE"," ",843],"{",["T_WHITESPACE","\n                ",843],["T_IF","if",844],["T_WHITESPACE"," ",844],"(",["T_VARIABLE","$callback",844],")",["T_WHITESPACE"," ",844],"{",["T_WHITESPACE","\n                    ",844],["T_VARIABLE","$row",845],["T_WHITESPACE"," ",845],"=",["T_WHITESPACE"," ",845],["T_VARIABLE","$this",845],["T_OBJECT_OPERATOR","->",845],["T_VARIABLE","$callback",845],"(",["T_VARIABLE","$alias",845],")",";",["T_WHITESPACE","\n                    ",845],["T_IF","if",846],["T_WHITESPACE"," ",846],"(","!",["T_VARIABLE","$skipEmptyResults",846],["T_WHITESPACE"," ",846],["T_BOOLEAN_OR","||",846],["T_WHITESPACE"," ",846],["T_VARIABLE","$row",846],")",["T_WHITESPACE"," ",846],"{",["T_WHITESPACE","\n                        ",846],["T_VARIABLE","$result",847],"[",["T_VARIABLE","$alias",847],"]",["T_WHITESPACE"," ",847],"=",["T_WHITESPACE"," ",847],["T_VARIABLE","$row",847],";",["T_WHITESPACE","\n                    ",847],"}",["T_WHITESPACE","\n                ",848],"}",["T_WHITESPACE"," ",849],["T_ELSE","else",849],["T_WHITESPACE"," ",849],"{",["T_WHITESPACE","\n                    ",849],["T_VARIABLE","$result",850],"[",["T_VARIABLE","$alias",850],"]",["T_WHITESPACE"," ",850],"=",["T_WHITESPACE"," ",850],["T_VARIABLE","$block",850],";",["T_WHITESPACE","\n                ",850],"}",["T_WHITESPACE","\n\n            ",851],"}",["T_WHITESPACE","\n        ",853],"}",["T_WHITESPACE","\n        ",854],["T_RETURN","return",855],["T_WHITESPACE"," ",855],["T_VARIABLE","$result",855],";",["T_WHITESPACE","\n    ",855],"}",["T_WHITESPACE","\n\n    ",856],["T_DOC_COMMENT","\/**\n     * Get a value from child block by specified key\n     *\n     * @param string $alias\n     * @param string $key\n     * @return mixed\n     *\/",858],["T_WHITESPACE","\n    ",864],["T_PUBLIC","public",865],["T_WHITESPACE"," ",865],["T_FUNCTION","function",865],["T_WHITESPACE"," ",865],["T_STRING","getChildData",865],"(",["T_VARIABLE","$alias",865],",",["T_WHITESPACE"," ",865],["T_VARIABLE","$key",865],["T_WHITESPACE"," ",865],"=",["T_WHITESPACE"," ",865],["T_CONSTANT_ENCAPSED_STRING","''",865],")",["T_WHITESPACE","\n    ",865],"{",["T_WHITESPACE","\n        ",866],["T_VARIABLE","$child",867],["T_WHITESPACE"," ",867],"=",["T_WHITESPACE"," ",867],["T_VARIABLE","$this",867],["T_OBJECT_OPERATOR","->",867],["T_STRING","getChild",867],"(",["T_VARIABLE","$alias",867],")",";",["T_WHITESPACE","\n        ",867],["T_IF","if",868],["T_WHITESPACE"," ",868],"(",["T_VARIABLE","$child",868],")",["T_WHITESPACE"," ",868],"{",["T_WHITESPACE","\n            ",868],["T_RETURN","return",869],["T_WHITESPACE"," ",869],["T_VARIABLE","$child",869],["T_OBJECT_OPERATOR","->",869],["T_STRING","getData",869],"(",["T_VARIABLE","$key",869],")",";",["T_WHITESPACE","\n        ",869],"}",["T_WHITESPACE","\n    ",870],"}",["T_WHITESPACE","\n\n    ",871],["T_DOC_COMMENT","\/**\n     * Before rendering html, but after trying to load cache\n     *\n     * @return Mage_Core_Block_Abstract\n     *\/",873],["T_WHITESPACE","\n    ",877],["T_PROTECTED","protected",878],["T_WHITESPACE"," ",878],["T_FUNCTION","function",878],["T_WHITESPACE"," ",878],["T_STRING","_beforeToHtml",878],"(",")",["T_WHITESPACE","\n    ",878],"{",["T_WHITESPACE","\n        ",879],["T_RETURN","return",880],["T_WHITESPACE"," ",880],["T_VARIABLE","$this",880],";",["T_WHITESPACE","\n    ",880],"}",["T_WHITESPACE","\n\n    ",881],["T_DOC_COMMENT","\/**\n     * Specify block output frame tags\n     *\n     * @param $openTag\n     * @param $closeTag\n     * @return Mage_Core_Block_Abstract\n     *\/",883],["T_WHITESPACE","\n    ",889],["T_PUBLIC","public",890],["T_WHITESPACE"," ",890],["T_FUNCTION","function",890],["T_WHITESPACE"," ",890],["T_STRING","setFrameTags",890],"(",["T_VARIABLE","$openTag",890],",",["T_WHITESPACE"," ",890],["T_VARIABLE","$closeTag",890],["T_WHITESPACE"," ",890],"=",["T_WHITESPACE"," ",890],["T_STRING","null",890],")",["T_WHITESPACE","\n    ",890],"{",["T_WHITESPACE","\n        ",891],["T_VARIABLE","$this",892],["T_OBJECT_OPERATOR","->",892],["T_STRING","_frameOpenTag",892],["T_WHITESPACE"," ",892],"=",["T_WHITESPACE"," ",892],["T_VARIABLE","$openTag",892],";",["T_WHITESPACE","\n        ",892],["T_IF","if",893],["T_WHITESPACE"," ",893],"(",["T_VARIABLE","$closeTag",893],")",["T_WHITESPACE"," ",893],"{",["T_WHITESPACE","\n            ",893],["T_VARIABLE","$this",894],["T_OBJECT_OPERATOR","->",894],["T_STRING","_frameCloseTag",894],["T_WHITESPACE"," ",894],"=",["T_WHITESPACE"," ",894],["T_VARIABLE","$closeTag",894],";",["T_WHITESPACE","\n        ",894],"}",["T_WHITESPACE"," ",895],["T_ELSE","else",895],["T_WHITESPACE"," ",895],"{",["T_WHITESPACE","\n            ",895],["T_VARIABLE","$this",896],["T_OBJECT_OPERATOR","->",896],["T_STRING","_frameCloseTag",896],["T_WHITESPACE"," ",896],"=",["T_WHITESPACE"," ",896],["T_CONSTANT_ENCAPSED_STRING","'\/'",896],["T_WHITESPACE"," ",896],".",["T_WHITESPACE"," ",896],["T_VARIABLE","$openTag",896],";",["T_WHITESPACE","\n        ",896],"}",["T_WHITESPACE","\n        ",897],["T_RETURN","return",898],["T_WHITESPACE"," ",898],["T_VARIABLE","$this",898],";",["T_WHITESPACE","\n    ",898],"}",["T_WHITESPACE","\n\n    ",899],["T_DOC_COMMENT","\/**\n     * Produce and return block's html output\n     *\n     * It is a final method, but you can override _toHtml() method in descendants if needed.\n     *\n     * @return string\n     *\/",901],["T_WHITESPACE","\n    ",907],["T_FINAL","final",908],["T_WHITESPACE"," ",908],["T_PUBLIC","public",908],["T_WHITESPACE"," ",908],["T_FUNCTION","function",908],["T_WHITESPACE"," ",908],["T_STRING","toHtml",908],"(",")",["T_WHITESPACE","\n    ",908],"{",["T_WHITESPACE","\n        ",909],["T_STRING","Mage",910],["T_DOUBLE_COLON","::",910],["T_STRING","dispatchEvent",910],"(",["T_CONSTANT_ENCAPSED_STRING","'core_block_abstract_to_html_before'",910],",",["T_WHITESPACE"," ",910],["T_ARRAY","array",910],"(",["T_CONSTANT_ENCAPSED_STRING","'block'",910],["T_WHITESPACE"," ",910],["T_DOUBLE_ARROW","=>",910],["T_WHITESPACE"," ",910],["T_VARIABLE","$this",910],")",")",";",["T_WHITESPACE","\n        ",910],["T_IF","if",911],["T_WHITESPACE"," ",911],"(",["T_STRING","Mage",911],["T_DOUBLE_COLON","::",911],["T_STRING","getStoreConfig",911],"(",["T_CONSTANT_ENCAPSED_STRING","'advanced\/modules_disable_output\/'",911],["T_WHITESPACE"," ",911],".",["T_WHITESPACE"," ",911],["T_VARIABLE","$this",911],["T_OBJECT_OPERATOR","->",911],["T_STRING","getModuleName",911],"(",")",")",")",["T_WHITESPACE"," ",911],"{",["T_WHITESPACE","\n            ",911],["T_RETURN","return",912],["T_WHITESPACE"," ",912],["T_CONSTANT_ENCAPSED_STRING","''",912],";",["T_WHITESPACE","\n        ",912],"}",["T_WHITESPACE","\n        ",913],["T_VARIABLE","$html",914],["T_WHITESPACE"," ",914],"=",["T_WHITESPACE"," ",914],["T_VARIABLE","$this",914],["T_OBJECT_OPERATOR","->",914],["T_STRING","_loadCache",914],"(",")",";",["T_WHITESPACE","\n        ",914],["T_IF","if",915],["T_WHITESPACE"," ",915],"(",["T_VARIABLE","$html",915],["T_WHITESPACE"," ",915],["T_IS_IDENTICAL","===",915],["T_WHITESPACE"," ",915],["T_STRING","false",915],")",["T_WHITESPACE"," ",915],"{",["T_WHITESPACE","\n            ",915],["T_VARIABLE","$translate",916],["T_WHITESPACE"," ",916],"=",["T_WHITESPACE"," ",916],["T_STRING","Mage",916],["T_DOUBLE_COLON","::",916],["T_STRING","getSingleton",916],"(",["T_CONSTANT_ENCAPSED_STRING","'core\/translate'",916],")",";",["T_WHITESPACE","\n            ",916],["T_DOC_COMMENT","\/** @var $translate Mage_Core_Model_Translate *\/",917],["T_WHITESPACE","\n            ",917],["T_IF","if",918],["T_WHITESPACE"," ",918],"(",["T_VARIABLE","$this",918],["T_OBJECT_OPERATOR","->",918],["T_STRING","hasData",918],"(",["T_CONSTANT_ENCAPSED_STRING","'translate_inline'",918],")",")",["T_WHITESPACE"," ",918],"{",["T_WHITESPACE","\n                ",918],["T_VARIABLE","$translate",919],["T_OBJECT_OPERATOR","->",919],["T_STRING","setTranslateInline",919],"(",["T_VARIABLE","$this",919],["T_OBJECT_OPERATOR","->",919],["T_STRING","getData",919],"(",["T_CONSTANT_ENCAPSED_STRING","'translate_inline'",919],")",")",";",["T_WHITESPACE","\n            ",919],"}",["T_WHITESPACE","\n\n            ",920],["T_VARIABLE","$this",922],["T_OBJECT_OPERATOR","->",922],["T_STRING","_beforeToHtml",922],"(",")",";",["T_WHITESPACE","\n            ",922],["T_VARIABLE","$html",923],["T_WHITESPACE"," ",923],"=",["T_WHITESPACE"," ",923],["T_VARIABLE","$this",923],["T_OBJECT_OPERATOR","->",923],["T_STRING","_toHtml",923],"(",")",";",["T_WHITESPACE","\n            ",923],["T_VARIABLE","$this",924],["T_OBJECT_OPERATOR","->",924],["T_STRING","_saveCache",924],"(",["T_VARIABLE","$html",924],")",";",["T_WHITESPACE","\n\n            ",924],["T_IF","if",926],["T_WHITESPACE"," ",926],"(",["T_VARIABLE","$this",926],["T_OBJECT_OPERATOR","->",926],["T_STRING","hasData",926],"(",["T_CONSTANT_ENCAPSED_STRING","'translate_inline'",926],")",")",["T_WHITESPACE"," ",926],"{",["T_WHITESPACE","\n                ",926],["T_VARIABLE","$translate",927],["T_OBJECT_OPERATOR","->",927],["T_STRING","setTranslateInline",927],"(",["T_STRING","true",927],")",";",["T_WHITESPACE","\n            ",927],"}",["T_WHITESPACE","\n        ",928],"}",["T_WHITESPACE","\n        ",929],["T_VARIABLE","$html",930],["T_WHITESPACE"," ",930],"=",["T_WHITESPACE"," ",930],["T_VARIABLE","$this",930],["T_OBJECT_OPERATOR","->",930],["T_STRING","_afterToHtml",930],"(",["T_VARIABLE","$html",930],")",";",["T_WHITESPACE","\n\n        ",930],["T_DOC_COMMENT","\/**\n         * Check framing options\n         *\/",932],["T_WHITESPACE","\n        ",934],["T_IF","if",935],["T_WHITESPACE"," ",935],"(",["T_VARIABLE","$this",935],["T_OBJECT_OPERATOR","->",935],["T_STRING","_frameOpenTag",935],")",["T_WHITESPACE"," ",935],"{",["T_WHITESPACE","\n            ",935],["T_VARIABLE","$html",936],["T_WHITESPACE"," ",936],"=",["T_WHITESPACE"," ",936],["T_CONSTANT_ENCAPSED_STRING","'<'",936],["T_WHITESPACE"," ",936],".",["T_WHITESPACE"," ",936],["T_VARIABLE","$this",936],["T_OBJECT_OPERATOR","->",936],["T_STRING","_frameOpenTag",936],["T_WHITESPACE"," ",936],".",["T_WHITESPACE"," ",936],["T_CONSTANT_ENCAPSED_STRING","'>'",936],["T_WHITESPACE"," ",936],".",["T_WHITESPACE"," ",936],["T_VARIABLE","$html",936],["T_WHITESPACE"," ",936],".",["T_WHITESPACE"," ",936],["T_CONSTANT_ENCAPSED_STRING","'<'",936],["T_WHITESPACE"," ",936],".",["T_WHITESPACE"," ",936],["T_VARIABLE","$this",936],["T_OBJECT_OPERATOR","->",936],["T_STRING","_frameCloseTag",936],["T_WHITESPACE"," ",936],".",["T_WHITESPACE"," ",936],["T_CONSTANT_ENCAPSED_STRING","'>'",936],";",["T_WHITESPACE","\n        ",936],"}",["T_WHITESPACE","\n\n        ",937],["T_DOC_COMMENT","\/**\n         * Use single transport object instance for all blocks\n         *\/",939],["T_WHITESPACE","\n        ",941],["T_IF","if",942],["T_WHITESPACE"," ",942],"(",["T_STRING","self",942],["T_DOUBLE_COLON","::",942],["T_VARIABLE","$_transportObject",942],["T_WHITESPACE"," ",942],["T_IS_IDENTICAL","===",942],["T_WHITESPACE"," ",942],["T_STRING","null",942],")",["T_WHITESPACE"," ",942],"{",["T_WHITESPACE","\n            ",942],["T_STRING","self",943],["T_DOUBLE_COLON","::",943],["T_VARIABLE","$_transportObject",943],["T_WHITESPACE"," ",943],"=",["T_WHITESPACE"," ",943],["T_NEW","new",943],["T_WHITESPACE"," ",943],["T_STRING","Varien_Object",943],";",["T_WHITESPACE","\n        ",943],"}",["T_WHITESPACE","\n        ",944],["T_STRING","self",945],["T_DOUBLE_COLON","::",945],["T_VARIABLE","$_transportObject",945],["T_OBJECT_OPERATOR","->",945],["T_STRING","setHtml",945],"(",["T_VARIABLE","$html",945],")",";",["T_WHITESPACE","\n        ",945],["T_STRING","Mage",946],["T_DOUBLE_COLON","::",946],["T_STRING","dispatchEvent",946],"(",["T_CONSTANT_ENCAPSED_STRING","'core_block_abstract_to_html_after'",946],",",["T_WHITESPACE","\n            ",946],["T_ARRAY","array",947],"(",["T_CONSTANT_ENCAPSED_STRING","'block'",947],["T_WHITESPACE"," ",947],["T_DOUBLE_ARROW","=>",947],["T_WHITESPACE"," ",947],["T_VARIABLE","$this",947],",",["T_WHITESPACE"," ",947],["T_CONSTANT_ENCAPSED_STRING","'transport'",947],["T_WHITESPACE"," ",947],["T_DOUBLE_ARROW","=>",947],["T_WHITESPACE"," ",947],["T_STRING","self",947],["T_DOUBLE_COLON","::",947],["T_VARIABLE","$_transportObject",947],")",")",";",["T_WHITESPACE","\n        ",947],["T_VARIABLE","$html",948],["T_WHITESPACE"," ",948],"=",["T_WHITESPACE"," ",948],["T_STRING","self",948],["T_DOUBLE_COLON","::",948],["T_VARIABLE","$_transportObject",948],["T_OBJECT_OPERATOR","->",948],["T_STRING","getHtml",948],"(",")",";",["T_WHITESPACE","\n\n        ",948],["T_RETURN","return",950],["T_WHITESPACE"," ",950],["T_VARIABLE","$html",950],";",["T_WHITESPACE","\n    ",950],"}",["T_WHITESPACE","\n\n    ",951],["T_DOC_COMMENT","\/**\n     * Processing block html after rendering\n     *\n     * @param   string $html\n     * @return  string\n     *\/",953],["T_WHITESPACE","\n    ",958],["T_PROTECTED","protected",959],["T_WHITESPACE"," ",959],["T_FUNCTION","function",959],["T_WHITESPACE"," ",959],["T_STRING","_afterToHtml",959],"(",["T_VARIABLE","$html",959],")",["T_WHITESPACE","\n    ",959],"{",["T_WHITESPACE","\n        ",960],["T_RETURN","return",961],["T_WHITESPACE"," ",961],["T_VARIABLE","$html",961],";",["T_WHITESPACE","\n    ",961],"}",["T_WHITESPACE","\n\n    ",962],["T_DOC_COMMENT","\/**\n     * Override this method in descendants to produce html\n     *\n     * @return string\n     *\/",964],["T_WHITESPACE","\n    ",968],["T_PROTECTED","protected",969],["T_WHITESPACE"," ",969],["T_FUNCTION","function",969],["T_WHITESPACE"," ",969],["T_STRING","_toHtml",969],"(",")",["T_WHITESPACE","\n    ",969],"{",["T_WHITESPACE","\n        ",970],["T_RETURN","return",971],["T_WHITESPACE"," ",971],["T_CONSTANT_ENCAPSED_STRING","''",971],";",["T_WHITESPACE","\n    ",971],"}",["T_WHITESPACE","\n\n    ",972],["T_DOC_COMMENT","\/**\n     * Returns url model class name\n     *\n     * @return string\n     *\/",974],["T_WHITESPACE","\n    ",978],["T_PROTECTED","protected",979],["T_WHITESPACE"," ",979],["T_FUNCTION","function",979],["T_WHITESPACE"," ",979],["T_STRING","_getUrlModelClass",979],"(",")",["T_WHITESPACE","\n    ",979],"{",["T_WHITESPACE","\n        ",980],["T_RETURN","return",981],["T_WHITESPACE"," ",981],["T_CONSTANT_ENCAPSED_STRING","'core\/url'",981],";",["T_WHITESPACE","\n    ",981],"}",["T_WHITESPACE","\n\n    ",982],["T_DOC_COMMENT","\/**\n     * Create and return url object\n     *\n     * @return Mage_Core_Model_Url\n     *\/",984],["T_WHITESPACE","\n    ",988],["T_PROTECTED","protected",989],["T_WHITESPACE"," ",989],["T_FUNCTION","function",989],["T_WHITESPACE"," ",989],["T_STRING","_getUrlModel",989],"(",")",["T_WHITESPACE","\n    ",989],"{",["T_WHITESPACE","\n        ",990],["T_RETURN","return",991],["T_WHITESPACE"," ",991],["T_STRING","Mage",991],["T_DOUBLE_COLON","::",991],["T_STRING","getModel",991],"(",["T_VARIABLE","$this",991],["T_OBJECT_OPERATOR","->",991],["T_STRING","_getUrlModelClass",991],"(",")",")",";",["T_WHITESPACE","\n    ",991],"}",["T_WHITESPACE","\n\n    ",992],["T_DOC_COMMENT","\/**\n     * Generate url by route and parameters\n     *\n     * @param   string $route\n     * @param   array $params\n     * @return  string\n     *\/",994],["T_WHITESPACE","\n    ",1000],["T_PUBLIC","public",1001],["T_WHITESPACE"," ",1001],["T_FUNCTION","function",1001],["T_WHITESPACE"," ",1001],["T_STRING","getUrl",1001],"(",["T_VARIABLE","$route",1001],["T_WHITESPACE"," ",1001],"=",["T_WHITESPACE"," ",1001],["T_CONSTANT_ENCAPSED_STRING","''",1001],",",["T_WHITESPACE"," ",1001],["T_VARIABLE","$params",1001],["T_WHITESPACE"," ",1001],"=",["T_WHITESPACE"," ",1001],["T_ARRAY","array",1001],"(",")",")",["T_WHITESPACE","\n    ",1001],"{",["T_WHITESPACE","\n        ",1002],["T_RETURN","return",1003],["T_WHITESPACE"," ",1003],["T_VARIABLE","$this",1003],["T_OBJECT_OPERATOR","->",1003],["T_STRING","_getUrlModel",1003],"(",")",["T_OBJECT_OPERATOR","->",1003],["T_STRING","getUrl",1003],"(",["T_VARIABLE","$route",1003],",",["T_WHITESPACE"," ",1003],["T_VARIABLE","$params",1003],")",";",["T_WHITESPACE","\n    ",1003],"}",["T_WHITESPACE","\n\n    ",1004],["T_DOC_COMMENT","\/**\n     * Generate base64-encoded url by route and parameters\n     *\n     * @param   string $route\n     * @param   array $params\n     * @return  string\n     *\/",1006],["T_WHITESPACE","\n    ",1012],["T_PUBLIC","public",1013],["T_WHITESPACE"," ",1013],["T_FUNCTION","function",1013],["T_WHITESPACE"," ",1013],["T_STRING","getUrlBase64",1013],"(",["T_VARIABLE","$route",1013],["T_WHITESPACE"," ",1013],"=",["T_WHITESPACE"," ",1013],["T_CONSTANT_ENCAPSED_STRING","''",1013],",",["T_WHITESPACE"," ",1013],["T_VARIABLE","$params",1013],["T_WHITESPACE"," ",1013],"=",["T_WHITESPACE"," ",1013],["T_ARRAY","array",1013],"(",")",")",["T_WHITESPACE","\n    ",1013],"{",["T_WHITESPACE","\n        ",1014],["T_RETURN","return",1015],["T_WHITESPACE"," ",1015],["T_STRING","Mage",1015],["T_DOUBLE_COLON","::",1015],["T_STRING","helper",1015],"(",["T_CONSTANT_ENCAPSED_STRING","'core'",1015],")",["T_OBJECT_OPERATOR","->",1015],["T_STRING","urlEncode",1015],"(",["T_VARIABLE","$this",1015],["T_OBJECT_OPERATOR","->",1015],["T_STRING","getUrl",1015],"(",["T_VARIABLE","$route",1015],",",["T_WHITESPACE"," ",1015],["T_VARIABLE","$params",1015],")",")",";",["T_WHITESPACE","\n    ",1015],"}",["T_WHITESPACE","\n\n    ",1016],["T_DOC_COMMENT","\/**\n     * Generate url-encoded url by route and parameters\n     *\n     * @param   string $route\n     * @param   array $params\n     * @return  string\n     *\/",1018],["T_WHITESPACE","\n    ",1024],["T_PUBLIC","public",1025],["T_WHITESPACE"," ",1025],["T_FUNCTION","function",1025],["T_WHITESPACE"," ",1025],["T_STRING","getUrlEncoded",1025],"(",["T_VARIABLE","$route",1025],["T_WHITESPACE"," ",1025],"=",["T_WHITESPACE"," ",1025],["T_CONSTANT_ENCAPSED_STRING","''",1025],",",["T_WHITESPACE"," ",1025],["T_VARIABLE","$params",1025],["T_WHITESPACE"," ",1025],"=",["T_WHITESPACE"," ",1025],["T_ARRAY","array",1025],"(",")",")",["T_WHITESPACE","\n    ",1025],"{",["T_WHITESPACE","\n        ",1026],["T_RETURN","return",1027],["T_WHITESPACE"," ",1027],["T_STRING","Mage",1027],["T_DOUBLE_COLON","::",1027],["T_STRING","helper",1027],"(",["T_CONSTANT_ENCAPSED_STRING","'core'",1027],")",["T_OBJECT_OPERATOR","->",1027],["T_STRING","urlEncode",1027],"(",["T_VARIABLE","$this",1027],["T_OBJECT_OPERATOR","->",1027],["T_STRING","getUrl",1027],"(",["T_VARIABLE","$route",1027],",",["T_WHITESPACE"," ",1027],["T_VARIABLE","$params",1027],")",")",";",["T_WHITESPACE","\n    ",1027],"}",["T_WHITESPACE","\n\n    ",1028],["T_DOC_COMMENT","\/**\n     * Retrieve url of skins file\n     *\n     * @param   string $file path to file in skin\n     * @param   array $params\n     * @return  string\n     *\/",1030],["T_WHITESPACE","\n    ",1036],["T_PUBLIC","public",1037],["T_WHITESPACE"," ",1037],["T_FUNCTION","function",1037],["T_WHITESPACE"," ",1037],["T_STRING","getSkinUrl",1037],"(",["T_VARIABLE","$file",1037],["T_WHITESPACE"," ",1037],"=",["T_WHITESPACE"," ",1037],["T_STRING","null",1037],",",["T_WHITESPACE"," ",1037],["T_ARRAY","array",1037],["T_WHITESPACE"," ",1037],["T_VARIABLE","$params",1037],["T_WHITESPACE"," ",1037],"=",["T_WHITESPACE"," ",1037],["T_ARRAY","array",1037],"(",")",")",["T_WHITESPACE","\n    ",1037],"{",["T_WHITESPACE","\n        ",1038],["T_RETURN","return",1039],["T_WHITESPACE"," ",1039],["T_STRING","Mage",1039],["T_DOUBLE_COLON","::",1039],["T_STRING","getDesign",1039],"(",")",["T_OBJECT_OPERATOR","->",1039],["T_STRING","getSkinUrl",1039],"(",["T_VARIABLE","$file",1039],",",["T_WHITESPACE"," ",1039],["T_VARIABLE","$params",1039],")",";",["T_WHITESPACE","\n    ",1039],"}",["T_WHITESPACE","\n\n    ",1040],["T_DOC_COMMENT","\/**\n     * Retrieve messages block\n     *\n     * @return Mage_Core_Block_Messages\n     *\/",1042],["T_WHITESPACE","\n    ",1046],["T_PUBLIC","public",1047],["T_WHITESPACE"," ",1047],["T_FUNCTION","function",1047],["T_WHITESPACE"," ",1047],["T_STRING","getMessagesBlock",1047],"(",")",["T_WHITESPACE","\n    ",1047],"{",["T_WHITESPACE","\n        ",1048],["T_IF","if",1049],["T_WHITESPACE"," ",1049],"(",["T_STRING","is_null",1049],"(",["T_VARIABLE","$this",1049],["T_OBJECT_OPERATOR","->",1049],["T_STRING","_messagesBlock",1049],")",")",["T_WHITESPACE"," ",1049],"{",["T_WHITESPACE","\n            ",1049],["T_RETURN","return",1050],["T_WHITESPACE"," ",1050],["T_VARIABLE","$this",1050],["T_OBJECT_OPERATOR","->",1050],["T_STRING","getLayout",1050],"(",")",["T_OBJECT_OPERATOR","->",1050],["T_STRING","getMessagesBlock",1050],"(",")",";",["T_WHITESPACE","\n        ",1050],"}",["T_WHITESPACE","\n        ",1051],["T_RETURN","return",1052],["T_WHITESPACE"," ",1052],["T_VARIABLE","$this",1052],["T_OBJECT_OPERATOR","->",1052],["T_STRING","_messagesBlock",1052],";",["T_WHITESPACE","\n    ",1052],"}",["T_WHITESPACE","\n\n    ",1053],["T_DOC_COMMENT","\/**\n     * Set messages block\n     *\n     * @param   Mage_Core_Block_Messages $block\n     * @return  Mage_Core_Block_Abstract\n     *\/",1055],["T_WHITESPACE","\n    ",1060],["T_PUBLIC","public",1061],["T_WHITESPACE"," ",1061],["T_FUNCTION","function",1061],["T_WHITESPACE"," ",1061],["T_STRING","setMessagesBlock",1061],"(",["T_STRING","Mage_Core_Block_Messages",1061],["T_WHITESPACE"," ",1061],["T_VARIABLE","$block",1061],")",["T_WHITESPACE","\n    ",1061],"{",["T_WHITESPACE","\n        ",1062],["T_VARIABLE","$this",1063],["T_OBJECT_OPERATOR","->",1063],["T_STRING","_messagesBlock",1063],["T_WHITESPACE"," ",1063],"=",["T_WHITESPACE"," ",1063],["T_VARIABLE","$block",1063],";",["T_WHITESPACE","\n        ",1063],["T_RETURN","return",1064],["T_WHITESPACE"," ",1064],["T_VARIABLE","$this",1064],";",["T_WHITESPACE","\n    ",1064],"}",["T_WHITESPACE","\n\n    ",1065],["T_DOC_COMMENT","\/**\n     * Return block helper\n     *\n     * @param string $type\n     * @return Mage_Core_Block_Abstract\n     *\/",1067],["T_WHITESPACE","\n    ",1072],["T_PUBLIC","public",1073],["T_WHITESPACE"," ",1073],["T_FUNCTION","function",1073],["T_WHITESPACE"," ",1073],["T_STRING","getHelper",1073],"(",["T_VARIABLE","$type",1073],")",["T_WHITESPACE","\n    ",1073],"{",["T_WHITESPACE","\n        ",1074],["T_RETURN","return",1075],["T_WHITESPACE"," ",1075],["T_VARIABLE","$this",1075],["T_OBJECT_OPERATOR","->",1075],["T_STRING","getLayout",1075],"(",")",["T_OBJECT_OPERATOR","->",1075],["T_STRING","getBlockSingleton",1075],"(",["T_VARIABLE","$type",1075],")",";",["T_WHITESPACE","\n    ",1075],"}",["T_WHITESPACE","\n\n    ",1076],["T_DOC_COMMENT","\/**\n     * Returns helper object\n     *\n     * @param string $name\n     * @return Mage_Core_Block_Abstract\n     *\/",1078],["T_WHITESPACE","\n    ",1083],["T_PUBLIC","public",1084],["T_WHITESPACE"," ",1084],["T_FUNCTION","function",1084],["T_WHITESPACE"," ",1084],["T_STRING","helper",1084],"(",["T_VARIABLE","$name",1084],")",["T_WHITESPACE","\n    ",1084],"{",["T_WHITESPACE","\n        ",1085],["T_IF","if",1086],["T_WHITESPACE"," ",1086],"(",["T_VARIABLE","$this",1086],["T_OBJECT_OPERATOR","->",1086],["T_STRING","getLayout",1086],"(",")",")",["T_WHITESPACE"," ",1086],"{",["T_WHITESPACE","\n            ",1086],["T_RETURN","return",1087],["T_WHITESPACE"," ",1087],["T_VARIABLE","$this",1087],["T_OBJECT_OPERATOR","->",1087],["T_STRING","getLayout",1087],"(",")",["T_OBJECT_OPERATOR","->",1087],["T_STRING","helper",1087],"(",["T_VARIABLE","$name",1087],")",";",["T_WHITESPACE","\n        ",1087],"}",["T_WHITESPACE","\n        ",1088],["T_RETURN","return",1089],["T_WHITESPACE"," ",1089],["T_STRING","Mage",1089],["T_DOUBLE_COLON","::",1089],["T_STRING","helper",1089],"(",["T_VARIABLE","$name",1089],")",";",["T_WHITESPACE","\n    ",1089],"}",["T_WHITESPACE","\n\n    ",1090],["T_DOC_COMMENT","\/**\n     * Retrieve formatting date\n     *\n     * @param   string $date\n     * @param   string $format\n     * @param   bool $showTime\n     * @return  string\n     *\/",1092],["T_WHITESPACE","\n    ",1099],["T_PUBLIC","public",1100],["T_WHITESPACE"," ",1100],["T_FUNCTION","function",1100],["T_WHITESPACE"," ",1100],["T_STRING","formatDate",1100],"(",["T_VARIABLE","$date",1100],["T_WHITESPACE"," ",1100],"=",["T_WHITESPACE"," ",1100],["T_STRING","null",1100],",",["T_WHITESPACE"," ",1100],["T_VARIABLE","$format",1100],["T_WHITESPACE"," ",1100],"=",["T_WHITESPACE"," ",1100],["T_STRING","Mage_Core_Model_Locale",1100],["T_DOUBLE_COLON","::",1100],["T_STRING","FORMAT_TYPE_SHORT",1100],",",["T_WHITESPACE"," ",1100],["T_VARIABLE","$showTime",1100],["T_WHITESPACE"," ",1100],"=",["T_WHITESPACE"," ",1100],["T_STRING","false",1100],")",["T_WHITESPACE","\n    ",1100],"{",["T_WHITESPACE","\n        ",1101],["T_RETURN","return",1102],["T_WHITESPACE"," ",1102],["T_VARIABLE","$this",1102],["T_OBJECT_OPERATOR","->",1102],["T_STRING","helper",1102],"(",["T_CONSTANT_ENCAPSED_STRING","'core'",1102],")",["T_OBJECT_OPERATOR","->",1102],["T_STRING","formatDate",1102],"(",["T_VARIABLE","$date",1102],",",["T_WHITESPACE"," ",1102],["T_VARIABLE","$format",1102],",",["T_WHITESPACE"," ",1102],["T_VARIABLE","$showTime",1102],")",";",["T_WHITESPACE","\n    ",1102],"}",["T_WHITESPACE","\n\n    ",1103],["T_DOC_COMMENT","\/**\n     * Retrieve formatting time\n     *\n     * @param   string $time\n     * @param   string $format\n     * @param   bool $showDate\n     * @return  string\n     *\/",1105],["T_WHITESPACE","\n    ",1112],["T_PUBLIC","public",1113],["T_WHITESPACE"," ",1113],["T_FUNCTION","function",1113],["T_WHITESPACE"," ",1113],["T_STRING","formatTime",1113],"(",["T_VARIABLE","$time",1113],["T_WHITESPACE"," ",1113],"=",["T_WHITESPACE"," ",1113],["T_STRING","null",1113],",",["T_WHITESPACE"," ",1113],["T_VARIABLE","$format",1113],["T_WHITESPACE"," ",1113],"=",["T_WHITESPACE"," ",1113],["T_STRING","Mage_Core_Model_Locale",1113],["T_DOUBLE_COLON","::",1113],["T_STRING","FORMAT_TYPE_SHORT",1113],",",["T_WHITESPACE"," ",1113],["T_VARIABLE","$showDate",1113],["T_WHITESPACE"," ",1113],"=",["T_WHITESPACE"," ",1113],["T_STRING","false",1113],")",["T_WHITESPACE","\n    ",1113],"{",["T_WHITESPACE","\n        ",1114],["T_RETURN","return",1115],["T_WHITESPACE"," ",1115],["T_VARIABLE","$this",1115],["T_OBJECT_OPERATOR","->",1115],["T_STRING","helper",1115],"(",["T_CONSTANT_ENCAPSED_STRING","'core'",1115],")",["T_OBJECT_OPERATOR","->",1115],["T_STRING","formatTime",1115],"(",["T_VARIABLE","$time",1115],",",["T_WHITESPACE"," ",1115],["T_VARIABLE","$format",1115],",",["T_WHITESPACE"," ",1115],["T_VARIABLE","$showDate",1115],")",";",["T_WHITESPACE","\n    ",1115],"}",["T_WHITESPACE","\n\n    ",1116],["T_DOC_COMMENT","\/**\n     * Retrieve module name of block\n     *\n     * @return string\n     *\/",1118],["T_WHITESPACE","\n    ",1122],["T_PUBLIC","public",1123],["T_WHITESPACE"," ",1123],["T_FUNCTION","function",1123],["T_WHITESPACE"," ",1123],["T_STRING","getModuleName",1123],"(",")",["T_WHITESPACE","\n    ",1123],"{",["T_WHITESPACE","\n        ",1124],["T_VARIABLE","$module",1125],["T_WHITESPACE"," ",1125],"=",["T_WHITESPACE"," ",1125],["T_VARIABLE","$this",1125],["T_OBJECT_OPERATOR","->",1125],["T_STRING","getData",1125],"(",["T_CONSTANT_ENCAPSED_STRING","'module_name'",1125],")",";",["T_WHITESPACE","\n        ",1125],["T_IF","if",1126],["T_WHITESPACE"," ",1126],"(",["T_STRING","is_null",1126],"(",["T_VARIABLE","$module",1126],")",")",["T_WHITESPACE"," ",1126],"{",["T_WHITESPACE","\n            ",1126],["T_VARIABLE","$class",1127],["T_WHITESPACE"," ",1127],"=",["T_WHITESPACE"," ",1127],["T_STRING","get_class",1127],"(",["T_VARIABLE","$this",1127],")",";",["T_WHITESPACE","\n            ",1127],["T_VARIABLE","$module",1128],["T_WHITESPACE"," ",1128],"=",["T_WHITESPACE"," ",1128],["T_STRING","substr",1128],"(",["T_VARIABLE","$class",1128],",",["T_WHITESPACE"," ",1128],["T_LNUMBER","0",1128],",",["T_WHITESPACE"," ",1128],["T_STRING","strpos",1128],"(",["T_VARIABLE","$class",1128],",",["T_WHITESPACE"," ",1128],["T_CONSTANT_ENCAPSED_STRING","'_Block'",1128],")",")",";",["T_WHITESPACE","\n            ",1128],["T_VARIABLE","$this",1129],["T_OBJECT_OPERATOR","->",1129],["T_STRING","setData",1129],"(",["T_CONSTANT_ENCAPSED_STRING","'module_name'",1129],",",["T_WHITESPACE"," ",1129],["T_VARIABLE","$module",1129],")",";",["T_WHITESPACE","\n        ",1129],"}",["T_WHITESPACE","\n        ",1130],["T_RETURN","return",1131],["T_WHITESPACE"," ",1131],["T_VARIABLE","$module",1131],";",["T_WHITESPACE","\n    ",1131],"}",["T_WHITESPACE","\n\n    ",1132],["T_DOC_COMMENT","\/**\n     * Translate block sentence\n     *\n     * @return string\n     *\/",1134],["T_WHITESPACE","\n    ",1138],["T_PUBLIC","public",1139],["T_WHITESPACE"," ",1139],["T_FUNCTION","function",1139],["T_WHITESPACE"," ",1139],["T_STRING","__",1139],"(",")",["T_WHITESPACE","\n    ",1139],"{",["T_WHITESPACE","\n        ",1140],["T_VARIABLE","$args",1141],["T_WHITESPACE"," ",1141],"=",["T_WHITESPACE"," ",1141],["T_STRING","func_get_args",1141],"(",")",";",["T_WHITESPACE","\n        ",1141],["T_VARIABLE","$expr",1142],["T_WHITESPACE"," ",1142],"=",["T_WHITESPACE"," ",1142],["T_NEW","new",1142],["T_WHITESPACE"," ",1142],["T_STRING","Mage_Core_Model_Translate_Expr",1142],"(",["T_STRING","array_shift",1142],"(",["T_VARIABLE","$args",1142],")",",",["T_WHITESPACE"," ",1142],["T_VARIABLE","$this",1142],["T_OBJECT_OPERATOR","->",1142],["T_STRING","getModuleName",1142],"(",")",")",";",["T_WHITESPACE","\n        ",1142],["T_STRING","array_unshift",1143],"(",["T_VARIABLE","$args",1143],",",["T_WHITESPACE"," ",1143],["T_VARIABLE","$expr",1143],")",";",["T_WHITESPACE","\n        ",1143],["T_RETURN","return",1144],["T_WHITESPACE"," ",1144],["T_VARIABLE","$this",1144],["T_OBJECT_OPERATOR","->",1144],["T_STRING","_getApp",1144],"(",")",["T_OBJECT_OPERATOR","->",1144],["T_STRING","getTranslator",1144],"(",")",["T_OBJECT_OPERATOR","->",1144],["T_STRING","translate",1144],"(",["T_VARIABLE","$args",1144],")",";",["T_WHITESPACE","\n    ",1144],"}",["T_WHITESPACE","\n\n    ",1145],["T_DOC_COMMENT","\/**\n     * @deprecated after 1.4.0.0-rc1\n     * @see self::escapeHtml()\n     *\/",1147],["T_WHITESPACE","\n    ",1150],["T_PUBLIC","public",1151],["T_WHITESPACE"," ",1151],["T_FUNCTION","function",1151],["T_WHITESPACE"," ",1151],["T_STRING","htmlEscape",1151],"(",["T_VARIABLE","$data",1151],",",["T_WHITESPACE"," ",1151],["T_VARIABLE","$allowedTags",1151],["T_WHITESPACE"," ",1151],"=",["T_WHITESPACE"," ",1151],["T_STRING","null",1151],")",["T_WHITESPACE","\n    ",1151],"{",["T_WHITESPACE","\n        ",1152],["T_RETURN","return",1153],["T_WHITESPACE"," ",1153],["T_VARIABLE","$this",1153],["T_OBJECT_OPERATOR","->",1153],["T_STRING","escapeHtml",1153],"(",["T_VARIABLE","$data",1153],",",["T_WHITESPACE"," ",1153],["T_VARIABLE","$allowedTags",1153],")",";",["T_WHITESPACE","\n    ",1153],"}",["T_WHITESPACE","\n\n    ",1154],["T_DOC_COMMENT","\/**\n     * Escape html entities\n     *\n     * @param   mixed $data\n     * @param   array $allowedTags\n     * @return  string\n     *\/",1156],["T_WHITESPACE","\n    ",1162],["T_PUBLIC","public",1163],["T_WHITESPACE"," ",1163],["T_FUNCTION","function",1163],["T_WHITESPACE"," ",1163],["T_STRING","escapeHtml",1163],"(",["T_VARIABLE","$data",1163],",",["T_WHITESPACE"," ",1163],["T_VARIABLE","$allowedTags",1163],["T_WHITESPACE"," ",1163],"=",["T_WHITESPACE"," ",1163],["T_STRING","null",1163],")",["T_WHITESPACE","\n    ",1163],"{",["T_WHITESPACE","\n        ",1164],["T_RETURN","return",1165],["T_WHITESPACE"," ",1165],["T_VARIABLE","$this",1165],["T_OBJECT_OPERATOR","->",1165],["T_STRING","helper",1165],"(",["T_CONSTANT_ENCAPSED_STRING","'core'",1165],")",["T_OBJECT_OPERATOR","->",1165],["T_STRING","escapeHtml",1165],"(",["T_VARIABLE","$data",1165],",",["T_WHITESPACE"," ",1165],["T_VARIABLE","$allowedTags",1165],")",";",["T_WHITESPACE","\n    ",1165],"}",["T_WHITESPACE","\n\n    ",1166],["T_DOC_COMMENT","\/**\n     * Wrapper for standard strip_tags() function with extra functionality for html entities\n     *\n     * @param string $data\n     * @param string $allowableTags\n     * @param bool $allowHtmlEntities\n     * @return string\n     *\/",1168],["T_WHITESPACE","\n    ",1175],["T_PUBLIC","public",1176],["T_WHITESPACE"," ",1176],["T_FUNCTION","function",1176],["T_WHITESPACE"," ",1176],["T_STRING","stripTags",1176],"(",["T_VARIABLE","$data",1176],",",["T_WHITESPACE"," ",1176],["T_VARIABLE","$allowableTags",1176],["T_WHITESPACE"," ",1176],"=",["T_WHITESPACE"," ",1176],["T_STRING","null",1176],",",["T_WHITESPACE"," ",1176],["T_VARIABLE","$allowHtmlEntities",1176],["T_WHITESPACE"," ",1176],"=",["T_WHITESPACE"," ",1176],["T_STRING","false",1176],")",["T_WHITESPACE","\n    ",1176],"{",["T_WHITESPACE","\n        ",1177],["T_RETURN","return",1178],["T_WHITESPACE"," ",1178],["T_VARIABLE","$this",1178],["T_OBJECT_OPERATOR","->",1178],["T_STRING","helper",1178],"(",["T_CONSTANT_ENCAPSED_STRING","'core'",1178],")",["T_OBJECT_OPERATOR","->",1178],["T_STRING","stripTags",1178],"(",["T_VARIABLE","$data",1178],",",["T_WHITESPACE"," ",1178],["T_VARIABLE","$allowableTags",1178],",",["T_WHITESPACE"," ",1178],["T_VARIABLE","$allowHtmlEntities",1178],")",";",["T_WHITESPACE","\n    ",1178],"}",["T_WHITESPACE","\n\n    ",1179],["T_DOC_COMMENT","\/**\n     * @deprecated after 1.4.0.0-rc1\n     * @see self::escapeUrl()\n     *\/",1181],["T_WHITESPACE","\n    ",1184],["T_PUBLIC","public",1185],["T_WHITESPACE"," ",1185],["T_FUNCTION","function",1185],["T_WHITESPACE"," ",1185],["T_STRING","urlEscape",1185],"(",["T_VARIABLE","$data",1185],")",["T_WHITESPACE","\n    ",1185],"{",["T_WHITESPACE","\n        ",1186],["T_RETURN","return",1187],["T_WHITESPACE"," ",1187],["T_VARIABLE","$this",1187],["T_OBJECT_OPERATOR","->",1187],["T_STRING","escapeUrl",1187],"(",["T_VARIABLE","$data",1187],")",";",["T_WHITESPACE","\n    ",1187],"}",["T_WHITESPACE","\n\n    ",1188],["T_DOC_COMMENT","\/**\n     * Escape html entities in url\n     *\n     * @param string $data\n     * @return string\n     *\/",1190],["T_WHITESPACE","\n    ",1195],["T_PUBLIC","public",1196],["T_WHITESPACE"," ",1196],["T_FUNCTION","function",1196],["T_WHITESPACE"," ",1196],["T_STRING","escapeUrl",1196],"(",["T_VARIABLE","$data",1196],")",["T_WHITESPACE","\n    ",1196],"{",["T_WHITESPACE","\n        ",1197],["T_RETURN","return",1198],["T_WHITESPACE"," ",1198],["T_VARIABLE","$this",1198],["T_OBJECT_OPERATOR","->",1198],["T_STRING","helper",1198],"(",["T_CONSTANT_ENCAPSED_STRING","'core'",1198],")",["T_OBJECT_OPERATOR","->",1198],["T_STRING","escapeUrl",1198],"(",["T_VARIABLE","$data",1198],")",";",["T_WHITESPACE","\n    ",1198],"}",["T_WHITESPACE","\n\n    ",1199],["T_DOC_COMMENT","\/**\n     * Escape quotes inside html attributes\n     * Use $addSlashes = false for escaping js that inside html attribute (onClick, onSubmit etc)\n     *\n     * @param  string $data\n     * @param  bool $addSlashes\n     * @return string\n     *\/",1201],["T_WHITESPACE","\n    ",1208],["T_PUBLIC","public",1209],["T_WHITESPACE"," ",1209],["T_FUNCTION","function",1209],["T_WHITESPACE"," ",1209],["T_STRING","quoteEscape",1209],"(",["T_VARIABLE","$data",1209],",",["T_WHITESPACE"," ",1209],["T_VARIABLE","$addSlashes",1209],["T_WHITESPACE"," ",1209],"=",["T_WHITESPACE"," ",1209],["T_STRING","false",1209],")",["T_WHITESPACE","\n    ",1209],"{",["T_WHITESPACE","\n        ",1210],["T_RETURN","return",1211],["T_WHITESPACE"," ",1211],["T_VARIABLE","$this",1211],["T_OBJECT_OPERATOR","->",1211],["T_STRING","helper",1211],"(",["T_CONSTANT_ENCAPSED_STRING","'core'",1211],")",["T_OBJECT_OPERATOR","->",1211],["T_STRING","quoteEscape",1211],"(",["T_VARIABLE","$data",1211],",",["T_WHITESPACE"," ",1211],["T_VARIABLE","$addSlashes",1211],")",";",["T_WHITESPACE","\n    ",1211],"}",["T_WHITESPACE","\n\n    ",1212],["T_DOC_COMMENT","\/**\n     * Escape quotes in java scripts\n     *\n     * @param mixed $data\n     * @param string $quote\n     * @return mixed\n     *\/",1214],["T_WHITESPACE","\n    ",1220],["T_PUBLIC","public",1221],["T_WHITESPACE"," ",1221],["T_FUNCTION","function",1221],["T_WHITESPACE"," ",1221],["T_STRING","jsQuoteEscape",1221],"(",["T_VARIABLE","$data",1221],",",["T_WHITESPACE"," ",1221],["T_VARIABLE","$quote",1221],["T_WHITESPACE"," ",1221],"=",["T_WHITESPACE"," ",1221],["T_CONSTANT_ENCAPSED_STRING","'\\''",1221],")",["T_WHITESPACE","\n    ",1221],"{",["T_WHITESPACE","\n        ",1222],["T_RETURN","return",1223],["T_WHITESPACE"," ",1223],["T_VARIABLE","$this",1223],["T_OBJECT_OPERATOR","->",1223],["T_STRING","helper",1223],"(",["T_CONSTANT_ENCAPSED_STRING","'core'",1223],")",["T_OBJECT_OPERATOR","->",1223],["T_STRING","jsQuoteEscape",1223],"(",["T_VARIABLE","$data",1223],",",["T_WHITESPACE"," ",1223],["T_VARIABLE","$quote",1223],")",";",["T_WHITESPACE","\n    ",1223],"}",["T_WHITESPACE","\n\n    ",1224],["T_DOC_COMMENT","\/**\n     * Alias for getName method.\n     *\n     * @return string\n     *\/",1226],["T_WHITESPACE","\n    ",1230],["T_PUBLIC","public",1231],["T_WHITESPACE"," ",1231],["T_FUNCTION","function",1231],["T_WHITESPACE"," ",1231],["T_STRING","getNameInLayout",1231],"(",")",["T_WHITESPACE","\n    ",1231],"{",["T_WHITESPACE","\n        ",1232],["T_RETURN","return",1233],["T_WHITESPACE"," ",1233],["T_VARIABLE","$this",1233],["T_OBJECT_OPERATOR","->",1233],["T_STRING","_nameInLayout",1233],";",["T_WHITESPACE","\n    ",1233],"}",["T_WHITESPACE","\n\n    ",1234],["T_DOC_COMMENT","\/**\n     * Get chilren blocks count\n     * @return int\n     *\/",1236],["T_WHITESPACE","\n    ",1239],["T_PUBLIC","public",1240],["T_WHITESPACE"," ",1240],["T_FUNCTION","function",1240],["T_WHITESPACE"," ",1240],["T_STRING","countChildren",1240],"(",")",["T_WHITESPACE","\n    ",1240],"{",["T_WHITESPACE","\n        ",1241],["T_RETURN","return",1242],["T_WHITESPACE"," ",1242],["T_STRING","count",1242],"(",["T_VARIABLE","$this",1242],["T_OBJECT_OPERATOR","->",1242],["T_STRING","_children",1242],")",";",["T_WHITESPACE","\n    ",1242],"}",["T_WHITESPACE","\n\n    ",1243],["T_DOC_COMMENT","\/**\n     * Prepare url for save to cache\n     *\n     * @return Mage_Core_Block_Abstract\n     *\/",1245],["T_WHITESPACE","\n    ",1249],["T_PROTECTED","protected",1250],["T_WHITESPACE"," ",1250],["T_FUNCTION","function",1250],["T_WHITESPACE"," ",1250],["T_STRING","_beforeCacheUrl",1250],"(",")",["T_WHITESPACE","\n    ",1250],"{",["T_WHITESPACE","\n        ",1251],["T_IF","if",1252],["T_WHITESPACE"," ",1252],"(",["T_VARIABLE","$this",1252],["T_OBJECT_OPERATOR","->",1252],["T_STRING","_getApp",1252],"(",")",["T_OBJECT_OPERATOR","->",1252],["T_STRING","useCache",1252],"(",["T_STRING","self",1252],["T_DOUBLE_COLON","::",1252],["T_STRING","CACHE_GROUP",1252],")",")",["T_WHITESPACE"," ",1252],"{",["T_WHITESPACE","\n            ",1252],["T_VARIABLE","$this",1253],["T_OBJECT_OPERATOR","->",1253],["T_STRING","_getApp",1253],"(",")",["T_OBJECT_OPERATOR","->",1253],["T_STRING","setUseSessionVar",1253],"(",["T_STRING","true",1253],")",";",["T_WHITESPACE","\n        ",1253],"}",["T_WHITESPACE","\n        ",1254],["T_RETURN","return",1255],["T_WHITESPACE"," ",1255],["T_VARIABLE","$this",1255],";",["T_WHITESPACE","\n    ",1255],"}",["T_WHITESPACE","\n\n    ",1256],["T_DOC_COMMENT","\/**\n     * Replace URLs from cache\n     *\n     * @param string $html\n     * @return string\n     *\/",1258],["T_WHITESPACE","\n    ",1263],["T_PROTECTED","protected",1264],["T_WHITESPACE"," ",1264],["T_FUNCTION","function",1264],["T_WHITESPACE"," ",1264],["T_STRING","_afterCacheUrl",1264],"(",["T_VARIABLE","$html",1264],")",["T_WHITESPACE","\n    ",1264],"{",["T_WHITESPACE","\n        ",1265],["T_IF","if",1266],["T_WHITESPACE"," ",1266],"(",["T_VARIABLE","$this",1266],["T_OBJECT_OPERATOR","->",1266],["T_STRING","_getApp",1266],"(",")",["T_OBJECT_OPERATOR","->",1266],["T_STRING","useCache",1266],"(",["T_STRING","self",1266],["T_DOUBLE_COLON","::",1266],["T_STRING","CACHE_GROUP",1266],")",")",["T_WHITESPACE"," ",1266],"{",["T_WHITESPACE","\n            ",1266],["T_VARIABLE","$this",1267],["T_OBJECT_OPERATOR","->",1267],["T_STRING","_getApp",1267],"(",")",["T_OBJECT_OPERATOR","->",1267],["T_STRING","setUseSessionVar",1267],"(",["T_STRING","false",1267],")",";",["T_WHITESPACE","\n            ",1267],["T_STRING","Varien_Profiler",1268],["T_DOUBLE_COLON","::",1268],["T_STRING","start",1268],"(",["T_CONSTANT_ENCAPSED_STRING","'CACHE_URL'",1268],")",";",["T_WHITESPACE","\n            ",1268],["T_VARIABLE","$html",1269],["T_WHITESPACE"," ",1269],"=",["T_WHITESPACE"," ",1269],["T_STRING","Mage",1269],["T_DOUBLE_COLON","::",1269],["T_STRING","getSingleton",1269],"(",["T_VARIABLE","$this",1269],["T_OBJECT_OPERATOR","->",1269],["T_STRING","_getUrlModelClass",1269],"(",")",")",["T_OBJECT_OPERATOR","->",1269],["T_STRING","sessionUrlVar",1269],"(",["T_VARIABLE","$html",1269],")",";",["T_WHITESPACE","\n            ",1269],["T_STRING","Varien_Profiler",1270],["T_DOUBLE_COLON","::",1270],["T_STRING","stop",1270],"(",["T_CONSTANT_ENCAPSED_STRING","'CACHE_URL'",1270],")",";",["T_WHITESPACE","\n        ",1270],"}",["T_WHITESPACE","\n        ",1271],["T_RETURN","return",1272],["T_WHITESPACE"," ",1272],["T_VARIABLE","$html",1272],";",["T_WHITESPACE","\n    ",1272],"}",["T_WHITESPACE","\n\n    ",1273],["T_DOC_COMMENT","\/**\n     * Get cache key informative items\n     * Provide string array key to share specific info item with FPC placeholder\n     *\n     * @return array\n     *\/",1275],["T_WHITESPACE","\n    ",1280],["T_PUBLIC","public",1281],["T_WHITESPACE"," ",1281],["T_FUNCTION","function",1281],["T_WHITESPACE"," ",1281],["T_STRING","getCacheKeyInfo",1281],"(",")",["T_WHITESPACE","\n    ",1281],"{",["T_WHITESPACE","\n        ",1282],["T_RETURN","return",1283],["T_WHITESPACE"," ",1283],["T_ARRAY","array",1283],"(",["T_WHITESPACE","\n            ",1283],["T_VARIABLE","$this",1284],["T_OBJECT_OPERATOR","->",1284],["T_STRING","getNameInLayout",1284],"(",")",["T_WHITESPACE","\n        ",1284],")",";",["T_WHITESPACE","\n    ",1285],"}",["T_WHITESPACE","\n\n    ",1286],["T_DOC_COMMENT","\/**\n     * Get Key for caching block content\n     *\n     * @return string\n     *\/",1288],["T_WHITESPACE","\n    ",1292],["T_PUBLIC","public",1293],["T_WHITESPACE"," ",1293],["T_FUNCTION","function",1293],["T_WHITESPACE"," ",1293],["T_STRING","getCacheKey",1293],"(",")",["T_WHITESPACE","\n    ",1293],"{",["T_WHITESPACE","\n        ",1294],["T_IF","if",1295],["T_WHITESPACE"," ",1295],"(",["T_VARIABLE","$this",1295],["T_OBJECT_OPERATOR","->",1295],["T_STRING","hasData",1295],"(",["T_CONSTANT_ENCAPSED_STRING","'cache_key'",1295],")",")",["T_WHITESPACE"," ",1295],"{",["T_WHITESPACE","\n            ",1295],["T_VARIABLE","$cacheKey",1296],["T_WHITESPACE"," ",1296],"=",["T_WHITESPACE"," ",1296],["T_VARIABLE","$this",1296],["T_OBJECT_OPERATOR","->",1296],["T_STRING","getData",1296],"(",["T_CONSTANT_ENCAPSED_STRING","'cache_key'",1296],")",";",["T_WHITESPACE","\n            ",1296],["T_IF","if",1297],["T_WHITESPACE"," ",1297],"(",["T_STRING","strpos",1297],"(",["T_VARIABLE","$cacheKey",1297],",",["T_WHITESPACE"," ",1297],["T_STRING","self",1297],["T_DOUBLE_COLON","::",1297],["T_STRING","CACHE_KEY_PREFIX",1297],")",["T_WHITESPACE"," ",1297],["T_IS_NOT_IDENTICAL","!==",1297],["T_WHITESPACE"," ",1297],["T_LNUMBER","0",1297],")",["T_WHITESPACE"," ",1297],"{",["T_WHITESPACE","\n                ",1297],["T_VARIABLE","$cacheKey",1298],["T_WHITESPACE"," ",1298],"=",["T_WHITESPACE"," ",1298],["T_STRING","self",1298],["T_DOUBLE_COLON","::",1298],["T_STRING","CACHE_KEY_PREFIX",1298],["T_WHITESPACE"," ",1298],".",["T_WHITESPACE"," ",1298],["T_VARIABLE","$cacheKey",1298],";",["T_WHITESPACE","\n                ",1298],["T_VARIABLE","$this",1299],["T_OBJECT_OPERATOR","->",1299],["T_STRING","setData",1299],"(",["T_CONSTANT_ENCAPSED_STRING","'cache_key'",1299],",",["T_WHITESPACE"," ",1299],["T_VARIABLE","$cacheKey",1299],")",";",["T_WHITESPACE","\n            ",1299],"}",["T_WHITESPACE","\n\n            ",1300],["T_RETURN","return",1302],["T_WHITESPACE"," ",1302],["T_VARIABLE","$cacheKey",1302],";",["T_WHITESPACE","\n        ",1302],"}",["T_WHITESPACE","\n        ",1303],["T_DOC_COMMENT","\/**\n         * don't prevent recalculation by saving generated cache key\n         * because of ability to render single block instance with different data\n         *\/",1304],["T_WHITESPACE","\n        ",1307],["T_VARIABLE","$key",1308],["T_WHITESPACE"," ",1308],"=",["T_WHITESPACE"," ",1308],["T_VARIABLE","$this",1308],["T_OBJECT_OPERATOR","->",1308],["T_STRING","getCacheKeyInfo",1308],"(",")",";",["T_WHITESPACE","\n        ",1308],["T_COMMENT","\/\/ksort($key);  \/\/ ignore order\n",1309],["T_WHITESPACE","        ",1310],["T_VARIABLE","$key",1310],["T_WHITESPACE"," ",1310],"=",["T_WHITESPACE"," ",1310],["T_STRING","array_values",1310],"(",["T_VARIABLE","$key",1310],")",";",["T_WHITESPACE"," ",1310],["T_COMMENT","\/\/ ignore array keys\n",1310],["T_WHITESPACE","        ",1311],["T_VARIABLE","$key",1311],["T_WHITESPACE"," ",1311],"=",["T_WHITESPACE"," ",1311],["T_STRING","implode",1311],"(",["T_CONSTANT_ENCAPSED_STRING","'|'",1311],",",["T_WHITESPACE"," ",1311],["T_VARIABLE","$key",1311],")",";",["T_WHITESPACE","\n        ",1311],["T_VARIABLE","$key",1312],["T_WHITESPACE"," ",1312],"=",["T_WHITESPACE"," ",1312],["T_STRING","sha1",1312],"(",["T_VARIABLE","$key",1312],")",";",["T_WHITESPACE","\n        ",1312],["T_RETURN","return",1313],["T_WHITESPACE"," ",1313],["T_VARIABLE","$key",1313],";",["T_WHITESPACE","\n    ",1313],"}",["T_WHITESPACE","\n\n    ",1314],["T_DOC_COMMENT","\/**\n     * Get tags array for saving cache\n     *\n     * @return array\n     *\/",1316],["T_WHITESPACE","\n    ",1320],["T_PUBLIC","public",1321],["T_WHITESPACE"," ",1321],["T_FUNCTION","function",1321],["T_WHITESPACE"," ",1321],["T_STRING","getCacheTags",1321],"(",")",["T_WHITESPACE","\n    ",1321],"{",["T_WHITESPACE","\n        ",1322],["T_VARIABLE","$tagsCache",1323],["T_WHITESPACE"," ",1323],"=",["T_WHITESPACE"," ",1323],["T_VARIABLE","$this",1323],["T_OBJECT_OPERATOR","->",1323],["T_STRING","_getApp",1323],"(",")",["T_OBJECT_OPERATOR","->",1323],["T_STRING","loadCache",1323],"(",["T_VARIABLE","$this",1323],["T_OBJECT_OPERATOR","->",1323],["T_STRING","_getTagsCacheKey",1323],"(",")",")",";",["T_WHITESPACE","\n        ",1323],["T_IF","if",1324],["T_WHITESPACE"," ",1324],"(",["T_VARIABLE","$tagsCache",1324],")",["T_WHITESPACE"," ",1324],"{",["T_WHITESPACE","\n            ",1324],["T_VARIABLE","$tags",1325],["T_WHITESPACE"," ",1325],"=",["T_WHITESPACE"," ",1325],["T_STRING","json_decode",1325],"(",["T_VARIABLE","$tagsCache",1325],")",";",["T_WHITESPACE","\n        ",1325],"}",["T_WHITESPACE","\n        ",1326],["T_IF","if",1327],["T_WHITESPACE"," ",1327],"(","!",["T_ISSET","isset",1327],"(",["T_VARIABLE","$tags",1327],")",["T_WHITESPACE"," ",1327],["T_BOOLEAN_OR","||",1327],["T_WHITESPACE"," ",1327],"!",["T_STRING","is_array",1327],"(",["T_VARIABLE","$tags",1327],")",["T_WHITESPACE"," ",1327],["T_BOOLEAN_OR","||",1327],["T_WHITESPACE"," ",1327],["T_EMPTY","empty",1327],"(",["T_VARIABLE","$tags",1327],")",")",["T_WHITESPACE"," ",1327],"{",["T_WHITESPACE","\n            ",1327],["T_VARIABLE","$tags",1328],["T_WHITESPACE"," ",1328],"=",["T_WHITESPACE"," ",1328],"!",["T_VARIABLE","$this",1328],["T_OBJECT_OPERATOR","->",1328],["T_STRING","hasData",1328],"(",["T_STRING","self",1328],["T_DOUBLE_COLON","::",1328],["T_STRING","CACHE_TAGS_DATA_KEY",1328],")",["T_WHITESPACE"," ",1328],"?",["T_WHITESPACE"," ",1328],["T_ARRAY","array",1328],"(",")",["T_WHITESPACE"," ",1328],":",["T_WHITESPACE"," ",1328],["T_VARIABLE","$this",1328],["T_OBJECT_OPERATOR","->",1328],["T_STRING","getData",1328],"(",["T_STRING","self",1328],["T_DOUBLE_COLON","::",1328],["T_STRING","CACHE_TAGS_DATA_KEY",1328],")",";",["T_WHITESPACE","\n            ",1328],["T_IF","if",1329],["T_WHITESPACE"," ",1329],"(","!",["T_STRING","in_array",1329],"(",["T_STRING","self",1329],["T_DOUBLE_COLON","::",1329],["T_STRING","CACHE_GROUP",1329],",",["T_WHITESPACE"," ",1329],["T_VARIABLE","$tags",1329],")",")",["T_WHITESPACE"," ",1329],"{",["T_WHITESPACE","\n                ",1329],["T_VARIABLE","$tags",1330],"[","]",["T_WHITESPACE"," ",1330],"=",["T_WHITESPACE"," ",1330],["T_STRING","self",1330],["T_DOUBLE_COLON","::",1330],["T_STRING","CACHE_GROUP",1330],";",["T_WHITESPACE","\n            ",1330],"}",["T_WHITESPACE","\n        ",1331],"}",["T_WHITESPACE","\n        ",1332],["T_RETURN","return",1333],["T_WHITESPACE"," ",1333],["T_STRING","array_unique",1333],"(",["T_VARIABLE","$tags",1333],")",";",["T_WHITESPACE","\n    ",1333],"}",["T_WHITESPACE","\n\n    ",1334],["T_DOC_COMMENT","\/**\n     * Add tag to block\n     *\n     * @param string|array $tag\n     * @return Mage_Core_Block_Abstract\n     *\/",1336],["T_WHITESPACE","\n    ",1341],["T_PUBLIC","public",1342],["T_WHITESPACE"," ",1342],["T_FUNCTION","function",1342],["T_WHITESPACE"," ",1342],["T_STRING","addCacheTag",1342],"(",["T_VARIABLE","$tag",1342],")",["T_WHITESPACE","\n    ",1342],"{",["T_WHITESPACE","\n        ",1343],["T_VARIABLE","$tag",1344],["T_WHITESPACE"," ",1344],"=",["T_WHITESPACE"," ",1344],["T_STRING","is_array",1344],"(",["T_VARIABLE","$tag",1344],")",["T_WHITESPACE"," ",1344],"?",["T_WHITESPACE"," ",1344],["T_VARIABLE","$tag",1344],["T_WHITESPACE"," ",1344],":",["T_WHITESPACE"," ",1344],["T_ARRAY","array",1344],"(",["T_VARIABLE","$tag",1344],")",";",["T_WHITESPACE","\n        ",1344],["T_VARIABLE","$tags",1345],["T_WHITESPACE"," ",1345],"=",["T_WHITESPACE"," ",1345],"!",["T_VARIABLE","$this",1345],["T_OBJECT_OPERATOR","->",1345],["T_STRING","hasData",1345],"(",["T_STRING","self",1345],["T_DOUBLE_COLON","::",1345],["T_STRING","CACHE_TAGS_DATA_KEY",1345],")",["T_WHITESPACE"," ",1345],"?",["T_WHITESPACE","\n            ",1345],["T_VARIABLE","$tag",1346],["T_WHITESPACE"," ",1346],":",["T_WHITESPACE"," ",1346],["T_STRING","array_merge",1346],"(",["T_VARIABLE","$this",1346],["T_OBJECT_OPERATOR","->",1346],["T_STRING","getData",1346],"(",["T_STRING","self",1346],["T_DOUBLE_COLON","::",1346],["T_STRING","CACHE_TAGS_DATA_KEY",1346],")",",",["T_WHITESPACE"," ",1346],["T_VARIABLE","$tag",1346],")",";",["T_WHITESPACE","\n        ",1346],["T_VARIABLE","$this",1347],["T_OBJECT_OPERATOR","->",1347],["T_STRING","setData",1347],"(",["T_STRING","self",1347],["T_DOUBLE_COLON","::",1347],["T_STRING","CACHE_TAGS_DATA_KEY",1347],",",["T_WHITESPACE"," ",1347],["T_VARIABLE","$tags",1347],")",";",["T_WHITESPACE","\n        ",1347],["T_RETURN","return",1348],["T_WHITESPACE"," ",1348],["T_VARIABLE","$this",1348],";",["T_WHITESPACE","\n    ",1348],"}",["T_WHITESPACE","\n\n    ",1349],["T_DOC_COMMENT","\/**\n     * Add tags from specified model to current block\n     *\n     * @param Mage_Core_Model_Abstract $model\n     * @return Mage_Core_Block_Abstract\n     *\/",1351],["T_WHITESPACE","\n    ",1356],["T_PUBLIC","public",1357],["T_WHITESPACE"," ",1357],["T_FUNCTION","function",1357],["T_WHITESPACE"," ",1357],["T_STRING","addModelTags",1357],"(",["T_STRING","Mage_Core_Model_Abstract",1357],["T_WHITESPACE"," ",1357],["T_VARIABLE","$model",1357],")",["T_WHITESPACE","\n    ",1357],"{",["T_WHITESPACE","\n        ",1358],["T_VARIABLE","$cacheTags",1359],["T_WHITESPACE"," ",1359],"=",["T_WHITESPACE"," ",1359],["T_VARIABLE","$model",1359],["T_OBJECT_OPERATOR","->",1359],["T_STRING","getCacheIdTags",1359],"(",")",";",["T_WHITESPACE","\n        ",1359],["T_IF","if",1360],["T_WHITESPACE"," ",1360],"(",["T_STRING","false",1360],["T_WHITESPACE"," ",1360],["T_IS_NOT_IDENTICAL","!==",1360],["T_WHITESPACE"," ",1360],["T_VARIABLE","$cacheTags",1360],")",["T_WHITESPACE"," ",1360],"{",["T_WHITESPACE","\n            ",1360],["T_VARIABLE","$this",1361],["T_OBJECT_OPERATOR","->",1361],["T_STRING","addCacheTag",1361],"(",["T_VARIABLE","$cacheTags",1361],")",";",["T_WHITESPACE","\n        ",1361],"}",["T_WHITESPACE","\n        ",1362],["T_RETURN","return",1363],["T_WHITESPACE"," ",1363],["T_VARIABLE","$this",1363],";",["T_WHITESPACE","\n    ",1363],"}",["T_WHITESPACE","\n\n\n    ",1364],["T_DOC_COMMENT","\/**\n     * Get block cache life time\n     *\n     * @return int\n     *\/",1367],["T_WHITESPACE","\n    ",1371],["T_PUBLIC","public",1372],["T_WHITESPACE"," ",1372],["T_FUNCTION","function",1372],["T_WHITESPACE"," ",1372],["T_STRING","getCacheLifetime",1372],"(",")",["T_WHITESPACE","\n    ",1372],"{",["T_WHITESPACE","\n        ",1373],["T_IF","if",1374],["T_WHITESPACE"," ",1374],"(","!",["T_VARIABLE","$this",1374],["T_OBJECT_OPERATOR","->",1374],["T_STRING","hasData",1374],"(",["T_CONSTANT_ENCAPSED_STRING","'cache_lifetime'",1374],")",")",["T_WHITESPACE"," ",1374],"{",["T_WHITESPACE","\n            ",1374],["T_RETURN","return",1375],["T_WHITESPACE"," ",1375],["T_STRING","null",1375],";",["T_WHITESPACE","\n        ",1375],"}",["T_WHITESPACE","\n        ",1376],["T_RETURN","return",1377],["T_WHITESPACE"," ",1377],["T_VARIABLE","$this",1377],["T_OBJECT_OPERATOR","->",1377],["T_STRING","getData",1377],"(",["T_CONSTANT_ENCAPSED_STRING","'cache_lifetime'",1377],")",";",["T_WHITESPACE","\n    ",1377],"}",["T_WHITESPACE","\n\n    ",1378],["T_DOC_COMMENT","\/**\n     * Load block html from cache storage\n     *\n     * @return string | false\n     *\/",1380],["T_WHITESPACE","\n    ",1384],["T_PROTECTED","protected",1385],["T_WHITESPACE"," ",1385],["T_FUNCTION","function",1385],["T_WHITESPACE"," ",1385],["T_STRING","_loadCache",1385],"(",")",["T_WHITESPACE","\n    ",1385],"{",["T_WHITESPACE","\n        ",1386],["T_IF","if",1387],["T_WHITESPACE"," ",1387],"(",["T_STRING","is_null",1387],"(",["T_VARIABLE","$this",1387],["T_OBJECT_OPERATOR","->",1387],["T_STRING","getCacheLifetime",1387],"(",")",")",["T_WHITESPACE"," ",1387],["T_BOOLEAN_OR","||",1387],["T_WHITESPACE"," ",1387],"!",["T_VARIABLE","$this",1387],["T_OBJECT_OPERATOR","->",1387],["T_STRING","_getApp",1387],"(",")",["T_OBJECT_OPERATOR","->",1387],["T_STRING","useCache",1387],"(",["T_STRING","self",1387],["T_DOUBLE_COLON","::",1387],["T_STRING","CACHE_GROUP",1387],")",")",["T_WHITESPACE"," ",1387],"{",["T_WHITESPACE","\n            ",1387],["T_RETURN","return",1388],["T_WHITESPACE"," ",1388],["T_STRING","false",1388],";",["T_WHITESPACE","\n        ",1388],"}",["T_WHITESPACE","\n        ",1389],["T_VARIABLE","$cacheKey",1390],["T_WHITESPACE"," ",1390],"=",["T_WHITESPACE"," ",1390],["T_VARIABLE","$this",1390],["T_OBJECT_OPERATOR","->",1390],["T_STRING","getCacheKey",1390],"(",")",";",["T_WHITESPACE","\n        ",1390],["T_DOC_COMMENT","\/** @var $session Mage_Core_Model_Session *\/",1391],["T_WHITESPACE","\n        ",1391],["T_VARIABLE","$session",1392],["T_WHITESPACE"," ",1392],"=",["T_WHITESPACE"," ",1392],["T_STRING","Mage",1392],["T_DOUBLE_COLON","::",1392],["T_STRING","getSingleton",1392],"(",["T_CONSTANT_ENCAPSED_STRING","'core\/session'",1392],")",";",["T_WHITESPACE","\n        ",1392],["T_VARIABLE","$cacheData",1393],["T_WHITESPACE"," ",1393],"=",["T_WHITESPACE"," ",1393],["T_VARIABLE","$this",1393],["T_OBJECT_OPERATOR","->",1393],["T_STRING","_getApp",1393],"(",")",["T_OBJECT_OPERATOR","->",1393],["T_STRING","loadCache",1393],"(",["T_VARIABLE","$cacheKey",1393],")",";",["T_WHITESPACE","\n        ",1393],["T_IF","if",1394],["T_WHITESPACE"," ",1394],"(",["T_VARIABLE","$cacheData",1394],")",["T_WHITESPACE"," ",1394],"{",["T_WHITESPACE","\n            ",1394],["T_VARIABLE","$cacheData",1395],["T_WHITESPACE"," ",1395],"=",["T_WHITESPACE"," ",1395],["T_STRING","str_replace",1395],"(",["T_WHITESPACE","\n                ",1395],["T_VARIABLE","$this",1396],["T_OBJECT_OPERATOR","->",1396],["T_STRING","_getSidPlaceholder",1396],"(",["T_VARIABLE","$cacheKey",1396],")",",",["T_WHITESPACE","\n                ",1396],["T_VARIABLE","$session",1397],["T_OBJECT_OPERATOR","->",1397],["T_STRING","getSessionIdQueryParam",1397],"(",")",["T_WHITESPACE"," ",1397],".",["T_WHITESPACE"," ",1397],["T_CONSTANT_ENCAPSED_STRING","'='",1397],["T_WHITESPACE"," ",1397],".",["T_WHITESPACE"," ",1397],["T_VARIABLE","$session",1397],["T_OBJECT_OPERATOR","->",1397],["T_STRING","getEncryptedSessionId",1397],"(",")",",",["T_WHITESPACE","\n                ",1397],["T_VARIABLE","$cacheData",1398],["T_WHITESPACE","\n            ",1398],")",";",["T_WHITESPACE","\n        ",1399],"}",["T_WHITESPACE","\n        ",1400],["T_RETURN","return",1401],["T_WHITESPACE"," ",1401],["T_VARIABLE","$cacheData",1401],";",["T_WHITESPACE","\n    ",1401],"}",["T_WHITESPACE","\n\n    ",1402],["T_DOC_COMMENT","\/**\n     * Save block content to cache storage\n     *\n     * @param string $data\n     * @return Mage_Core_Block_Abstract\n     *\/",1404],["T_WHITESPACE","\n    ",1409],["T_PROTECTED","protected",1410],["T_WHITESPACE"," ",1410],["T_FUNCTION","function",1410],["T_WHITESPACE"," ",1410],["T_STRING","_saveCache",1410],"(",["T_VARIABLE","$data",1410],")",["T_WHITESPACE","\n    ",1410],"{",["T_WHITESPACE","\n        ",1411],["T_IF","if",1412],["T_WHITESPACE"," ",1412],"(",["T_STRING","is_null",1412],"(",["T_VARIABLE","$this",1412],["T_OBJECT_OPERATOR","->",1412],["T_STRING","getCacheLifetime",1412],"(",")",")",["T_WHITESPACE"," ",1412],["T_BOOLEAN_OR","||",1412],["T_WHITESPACE"," ",1412],"!",["T_VARIABLE","$this",1412],["T_OBJECT_OPERATOR","->",1412],["T_STRING","_getApp",1412],"(",")",["T_OBJECT_OPERATOR","->",1412],["T_STRING","useCache",1412],"(",["T_STRING","self",1412],["T_DOUBLE_COLON","::",1412],["T_STRING","CACHE_GROUP",1412],")",")",["T_WHITESPACE"," ",1412],"{",["T_WHITESPACE","\n            ",1412],["T_RETURN","return",1413],["T_WHITESPACE"," ",1413],["T_STRING","false",1413],";",["T_WHITESPACE","\n        ",1413],"}",["T_WHITESPACE","\n        ",1414],["T_VARIABLE","$cacheKey",1415],["T_WHITESPACE"," ",1415],"=",["T_WHITESPACE"," ",1415],["T_VARIABLE","$this",1415],["T_OBJECT_OPERATOR","->",1415],["T_STRING","getCacheKey",1415],"(",")",";",["T_WHITESPACE","\n        ",1415],["T_DOC_COMMENT","\/** @var $session Mage_Core_Model_Session *\/",1416],["T_WHITESPACE","\n        ",1416],["T_VARIABLE","$session",1417],["T_WHITESPACE"," ",1417],"=",["T_WHITESPACE"," ",1417],["T_STRING","Mage",1417],["T_DOUBLE_COLON","::",1417],["T_STRING","getSingleton",1417],"(",["T_CONSTANT_ENCAPSED_STRING","'core\/session'",1417],")",";",["T_WHITESPACE","\n        ",1417],["T_VARIABLE","$data",1418],["T_WHITESPACE"," ",1418],"=",["T_WHITESPACE"," ",1418],["T_STRING","str_replace",1418],"(",["T_WHITESPACE","\n            ",1418],["T_VARIABLE","$session",1419],["T_OBJECT_OPERATOR","->",1419],["T_STRING","getSessionIdQueryParam",1419],"(",")",["T_WHITESPACE"," ",1419],".",["T_WHITESPACE"," ",1419],["T_CONSTANT_ENCAPSED_STRING","'='",1419],["T_WHITESPACE"," ",1419],".",["T_WHITESPACE"," ",1419],["T_VARIABLE","$session",1419],["T_OBJECT_OPERATOR","->",1419],["T_STRING","getEncryptedSessionId",1419],"(",")",",",["T_WHITESPACE","\n            ",1419],["T_VARIABLE","$this",1420],["T_OBJECT_OPERATOR","->",1420],["T_STRING","_getSidPlaceholder",1420],"(",["T_VARIABLE","$cacheKey",1420],")",",",["T_WHITESPACE","\n            ",1420],["T_VARIABLE","$data",1421],["T_WHITESPACE","\n        ",1421],")",";",["T_WHITESPACE","\n\n        ",1422],["T_VARIABLE","$tags",1424],["T_WHITESPACE"," ",1424],"=",["T_WHITESPACE"," ",1424],["T_VARIABLE","$this",1424],["T_OBJECT_OPERATOR","->",1424],["T_STRING","getCacheTags",1424],"(",")",";",["T_WHITESPACE","\n\n        ",1424],["T_VARIABLE","$this",1426],["T_OBJECT_OPERATOR","->",1426],["T_STRING","_getApp",1426],"(",")",["T_OBJECT_OPERATOR","->",1426],["T_STRING","saveCache",1426],"(",["T_VARIABLE","$data",1426],",",["T_WHITESPACE"," ",1426],["T_VARIABLE","$cacheKey",1426],",",["T_WHITESPACE"," ",1426],["T_VARIABLE","$tags",1426],",",["T_WHITESPACE"," ",1426],["T_VARIABLE","$this",1426],["T_OBJECT_OPERATOR","->",1426],["T_STRING","getCacheLifetime",1426],"(",")",")",";",["T_WHITESPACE","\n        ",1426],["T_VARIABLE","$this",1427],["T_OBJECT_OPERATOR","->",1427],["T_STRING","_getApp",1427],"(",")",["T_OBJECT_OPERATOR","->",1427],["T_STRING","saveCache",1427],"(",["T_WHITESPACE","\n            ",1427],["T_STRING","json_encode",1428],"(",["T_VARIABLE","$tags",1428],")",",",["T_WHITESPACE","\n            ",1428],["T_VARIABLE","$this",1429],["T_OBJECT_OPERATOR","->",1429],["T_STRING","_getTagsCacheKey",1429],"(",["T_VARIABLE","$cacheKey",1429],")",",",["T_WHITESPACE","\n            ",1429],["T_VARIABLE","$tags",1430],",",["T_WHITESPACE","\n            ",1430],["T_VARIABLE","$this",1431],["T_OBJECT_OPERATOR","->",1431],["T_STRING","getCacheLifetime",1431],"(",")",["T_WHITESPACE","\n        ",1431],")",";",["T_WHITESPACE","\n        ",1432],["T_RETURN","return",1433],["T_WHITESPACE"," ",1433],["T_VARIABLE","$this",1433],";",["T_WHITESPACE","\n    ",1433],"}",["T_WHITESPACE","\n\n    ",1434],["T_DOC_COMMENT","\/**\n     * Get cache key for tags\n     *\n     * @param string $cacheKey\n     * @return string\n     *\/",1436],["T_WHITESPACE","\n    ",1441],["T_PROTECTED","protected",1442],["T_WHITESPACE"," ",1442],["T_FUNCTION","function",1442],["T_WHITESPACE"," ",1442],["T_STRING","_getTagsCacheKey",1442],"(",["T_VARIABLE","$cacheKey",1442],["T_WHITESPACE"," ",1442],"=",["T_WHITESPACE"," ",1442],["T_STRING","null",1442],")",["T_WHITESPACE","\n    ",1442],"{",["T_WHITESPACE","\n        ",1443],["T_VARIABLE","$cacheKey",1444],["T_WHITESPACE"," ",1444],"=",["T_WHITESPACE"," ",1444],"!",["T_EMPTY","empty",1444],"(",["T_VARIABLE","$cacheKey",1444],")",["T_WHITESPACE"," ",1444],"?",["T_WHITESPACE"," ",1444],["T_VARIABLE","$cacheKey",1444],["T_WHITESPACE"," ",1444],":",["T_WHITESPACE"," ",1444],["T_VARIABLE","$this",1444],["T_OBJECT_OPERATOR","->",1444],["T_STRING","getCacheKey",1444],"(",")",";",["T_WHITESPACE","\n        ",1444],["T_VARIABLE","$cacheKey",1445],["T_WHITESPACE"," ",1445],"=",["T_WHITESPACE"," ",1445],["T_STRING","md5",1445],"(",["T_VARIABLE","$cacheKey",1445],["T_WHITESPACE"," ",1445],".",["T_WHITESPACE"," ",1445],["T_CONSTANT_ENCAPSED_STRING","'_tags'",1445],")",";",["T_WHITESPACE","\n        ",1445],["T_RETURN","return",1446],["T_WHITESPACE"," ",1446],["T_VARIABLE","$cacheKey",1446],";",["T_WHITESPACE","\n    ",1446],"}",["T_WHITESPACE","\n\n    ",1447],["T_DOC_COMMENT","\/**\n     * Get SID placeholder for cache\n     *\n     * @param null|string $cacheKey\n     * @return string\n     *\/",1449],["T_WHITESPACE","\n    ",1454],["T_PROTECTED","protected",1455],["T_WHITESPACE"," ",1455],["T_FUNCTION","function",1455],["T_WHITESPACE"," ",1455],["T_STRING","_getSidPlaceholder",1455],"(",["T_VARIABLE","$cacheKey",1455],["T_WHITESPACE"," ",1455],"=",["T_WHITESPACE"," ",1455],["T_STRING","null",1455],")",["T_WHITESPACE","\n    ",1455],"{",["T_WHITESPACE","\n        ",1456],["T_IF","if",1457],["T_WHITESPACE"," ",1457],"(",["T_STRING","is_null",1457],"(",["T_VARIABLE","$cacheKey",1457],")",")",["T_WHITESPACE"," ",1457],"{",["T_WHITESPACE","\n            ",1457],["T_VARIABLE","$cacheKey",1458],["T_WHITESPACE"," ",1458],"=",["T_WHITESPACE"," ",1458],["T_VARIABLE","$this",1458],["T_OBJECT_OPERATOR","->",1458],["T_STRING","getCacheKey",1458],"(",")",";",["T_WHITESPACE","\n        ",1458],"}",["T_WHITESPACE","\n\n        ",1459],["T_RETURN","return",1461],["T_WHITESPACE"," ",1461],["T_CONSTANT_ENCAPSED_STRING","'<!--SID='",1461],["T_WHITESPACE"," ",1461],".",["T_WHITESPACE"," ",1461],["T_VARIABLE","$cacheKey",1461],["T_WHITESPACE"," ",1461],".",["T_WHITESPACE"," ",1461],["T_CONSTANT_ENCAPSED_STRING","'-->'",1461],";",["T_WHITESPACE","\n    ",1461],"}",["T_WHITESPACE","\n\n    ",1462],["T_DOC_COMMENT","\/**\n     * Collect and retrieve items tags.\n     * Item should implements Mage_Core_Model_Abstract::getCacheIdTags method\n     *\n     * @param array|Varien_Data_Collection $items\n     * @return array\n     *\/",1464],["T_WHITESPACE","\n    ",1470],["T_PUBLIC","public",1471],["T_WHITESPACE"," ",1471],["T_FUNCTION","function",1471],["T_WHITESPACE"," ",1471],["T_STRING","getItemsTags",1471],"(",["T_VARIABLE","$items",1471],")",["T_WHITESPACE","\n    ",1471],"{",["T_WHITESPACE","\n        ",1472],["T_VARIABLE","$tags",1473],["T_WHITESPACE"," ",1473],"=",["T_WHITESPACE"," ",1473],["T_ARRAY","array",1473],"(",")",";",["T_WHITESPACE","\n        ",1473],["T_DOC_COMMENT","\/** @var $item Mage_Core_Model_Abstract *\/",1474],["T_WHITESPACE","\n        ",1474],["T_FOREACH","foreach",1475],["T_WHITESPACE"," ",1475],"(",["T_VARIABLE","$items",1475],["T_WHITESPACE"," ",1475],["T_AS","as",1475],["T_WHITESPACE"," ",1475],["T_VARIABLE","$item",1475],")",["T_WHITESPACE"," ",1475],"{",["T_WHITESPACE","\n            ",1475],["T_VARIABLE","$itemTags",1476],["T_WHITESPACE"," ",1476],"=",["T_WHITESPACE"," ",1476],["T_VARIABLE","$item",1476],["T_OBJECT_OPERATOR","->",1476],["T_STRING","getCacheIdTags",1476],"(",")",";",["T_WHITESPACE","\n            ",1476],["T_IF","if",1477],["T_WHITESPACE"," ",1477],"(",["T_STRING","false",1477],["T_WHITESPACE"," ",1477],["T_IS_IDENTICAL","===",1477],["T_WHITESPACE"," ",1477],["T_VARIABLE","$itemTags",1477],")",["T_WHITESPACE"," ",1477],"{",["T_WHITESPACE","\n                ",1477],["T_CONTINUE","continue",1478],";",["T_WHITESPACE","\n            ",1478],"}",["T_WHITESPACE","\n            ",1479],["T_VARIABLE","$tags",1480],["T_WHITESPACE"," ",1480],"=",["T_WHITESPACE"," ",1480],["T_STRING","array_merge",1480],"(",["T_VARIABLE","$tags",1480],",",["T_WHITESPACE"," ",1480],["T_VARIABLE","$itemTags",1480],")",";",["T_WHITESPACE","\n        ",1480],"}",["T_WHITESPACE","\n        ",1481],["T_RETURN","return",1482],["T_WHITESPACE"," ",1482],["T_VARIABLE","$tags",1482],";",["T_WHITESPACE","\n    ",1482],"}",["T_WHITESPACE","\n\n    ",1483],["T_DOC_COMMENT","\/**\n     * Checks is request Url is secure\n     *\n     * @return bool\n     *\/",1485],["T_WHITESPACE","\n    ",1489],["T_PROTECTED","protected",1490],["T_WHITESPACE"," ",1490],["T_FUNCTION","function",1490],["T_WHITESPACE"," ",1490],["T_STRING","_isSecure",1490],"(",")",["T_WHITESPACE","\n    ",1490],"{",["T_WHITESPACE","\n        ",1491],["T_RETURN","return",1492],["T_WHITESPACE"," ",1492],["T_VARIABLE","$this",1492],["T_OBJECT_OPERATOR","->",1492],["T_STRING","_getApp",1492],"(",")",["T_OBJECT_OPERATOR","->",1492],["T_STRING","getFrontController",1492],"(",")",["T_OBJECT_OPERATOR","->",1492],["T_STRING","getRequest",1492],"(",")",["T_OBJECT_OPERATOR","->",1492],["T_STRING","isSecure",1492],"(",")",";",["T_WHITESPACE","\n    ",1492],"}",["T_WHITESPACE","\n",1493],"}",["T_WHITESPACE","\n",1494]]