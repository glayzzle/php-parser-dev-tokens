[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Magento\n *\n * NOTICE OF LICENSE\n *\n * This source file is subject to the Open Software License (OSL 3.0)\n * that is bundled with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/opensource.org\/licenses\/osl-3.0.php\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@magento.com so we can send you a copy immediately.\n *\n * DISCLAIMER\n *\n * Do not edit or add to this file if you wish to upgrade Magento to newer\n * versions in the future. If you wish to customize Magento for your\n * needs please refer to http:\/\/www.magento.com for more information.\n *\n * @category    Mage\n * @package     Mage_Core\n * @copyright  Copyright (c) 2006-2016 X.commerce, Inc. and affiliates (http:\/\/www.magento.com)\n * @license    http:\/\/opensource.org\/licenses\/osl-3.0.php  Open Software License (OSL 3.0)\n *\/",2],["T_WHITESPACE","\n\n\n",25],["T_DOC_COMMENT","\/**\n * Core configuration class\n *\n * @category    Mage\n * @package     Mage_Core\n * @author      Magento Core Team <core@magentocommerce.com>\n *\/",28],["T_WHITESPACE","\n",34],["T_CLASS","class",35],["T_WHITESPACE"," ",35],["T_STRING","Mage_Core_Model_Config",35],["T_WHITESPACE"," ",35],["T_EXTENDS","extends",35],["T_WHITESPACE"," ",35],["T_STRING","Mage_Core_Model_Config_Base",35],["T_WHITESPACE","\n",35],"{",["T_WHITESPACE","\n    ",36],["T_CONST","const",37],["T_WHITESPACE"," ",37],["T_STRING","CACHE_TAG",37],["T_WHITESPACE","         ",37],"=",["T_WHITESPACE"," ",37],["T_CONSTANT_ENCAPSED_STRING","'CONFIG'",37],";",["T_WHITESPACE","\n\n    ",37],["T_DOC_COMMENT","\/**\n     * Flag which allow use cache logic\n     *\n     * @var bool\n     *\/",39],["T_WHITESPACE","\n    ",43],["T_PROTECTED","protected",44],["T_WHITESPACE"," ",44],["T_VARIABLE","$_useCache",44],["T_WHITESPACE"," ",44],"=",["T_WHITESPACE"," ",44],["T_STRING","false",44],";",["T_WHITESPACE","\n\n    ",44],["T_DOC_COMMENT","\/**\n     * Instructions for spitting config cache\n     * array(\n     *      $sectionName => $recursionLevel\n     * )\n     * Recursion level provide availability cache subnodes separatly\n     *\n     * @var array\n     *\/",46],["T_WHITESPACE","\n    ",54],["T_PROTECTED","protected",55],["T_WHITESPACE"," ",55],["T_VARIABLE","$_cacheSections",55],["T_WHITESPACE"," ",55],"=",["T_WHITESPACE"," ",55],["T_ARRAY","array",55],"(",["T_WHITESPACE","\n        ",55],["T_CONSTANT_ENCAPSED_STRING","'admin'",56],["T_WHITESPACE","     ",56],["T_DOUBLE_ARROW","=>",56],["T_WHITESPACE"," ",56],["T_LNUMBER","0",56],",",["T_WHITESPACE","\n        ",56],["T_CONSTANT_ENCAPSED_STRING","'adminhtml'",57],["T_WHITESPACE"," ",57],["T_DOUBLE_ARROW","=>",57],["T_WHITESPACE"," ",57],["T_LNUMBER","0",57],",",["T_WHITESPACE","\n        ",57],["T_CONSTANT_ENCAPSED_STRING","'crontab'",58],["T_WHITESPACE","   ",58],["T_DOUBLE_ARROW","=>",58],["T_WHITESPACE"," ",58],["T_LNUMBER","0",58],",",["T_WHITESPACE","\n        ",58],["T_CONSTANT_ENCAPSED_STRING","'install'",59],["T_WHITESPACE","   ",59],["T_DOUBLE_ARROW","=>",59],["T_WHITESPACE"," ",59],["T_LNUMBER","0",59],",",["T_WHITESPACE","\n        ",59],["T_CONSTANT_ENCAPSED_STRING","'stores'",60],["T_WHITESPACE","    ",60],["T_DOUBLE_ARROW","=>",60],["T_WHITESPACE"," ",60],["T_LNUMBER","1",60],",",["T_WHITESPACE","\n        ",60],["T_CONSTANT_ENCAPSED_STRING","'websites'",61],["T_WHITESPACE","  ",61],["T_DOUBLE_ARROW","=>",61],["T_WHITESPACE"," ",61],["T_LNUMBER","0",61],["T_WHITESPACE","\n    ",61],")",";",["T_WHITESPACE","\n\n    ",62],["T_DOC_COMMENT","\/**\n     * Loaded Configuration by cached sections\n     *\n     * @var array\n     *\/",64],["T_WHITESPACE","\n    ",68],["T_PROTECTED","protected",69],["T_WHITESPACE"," ",69],["T_VARIABLE","$_cacheLoadedSections",69],["T_WHITESPACE"," ",69],"=",["T_WHITESPACE"," ",69],["T_ARRAY","array",69],"(",")",";",["T_WHITESPACE","\n\n    ",69],["T_DOC_COMMENT","\/**\n     * Configuration options\n     *\n     * @var Mage_Core_Model_Config_Options\n     *\/",71],["T_WHITESPACE","\n    ",75],["T_PROTECTED","protected",76],["T_WHITESPACE"," ",76],["T_VARIABLE","$_options",76],";",["T_WHITESPACE","\n\n    ",76],["T_DOC_COMMENT","\/**\n     * Storage for generated class names\n     *\n     * @var array\n     *\/",78],["T_WHITESPACE","\n    ",82],["T_PROTECTED","protected",83],["T_WHITESPACE"," ",83],["T_VARIABLE","$_classNameCache",83],["T_WHITESPACE"," ",83],"=",["T_WHITESPACE"," ",83],["T_ARRAY","array",83],"(",")",";",["T_WHITESPACE","\n\n    ",83],["T_DOC_COMMENT","\/**\n     * Storage for generated block class names\n     *\n     * @var unknown_type\n     *\/",85],["T_WHITESPACE","\n    ",89],["T_PROTECTED","protected",90],["T_WHITESPACE"," ",90],["T_VARIABLE","$_blockClassNameCache",90],["T_WHITESPACE"," ",90],"=",["T_WHITESPACE"," ",90],["T_ARRAY","array",90],"(",")",";",["T_WHITESPACE","\n\n    ",90],["T_DOC_COMMENT","\/**\n     * Storage of validated secure urls\n     *\n     * @var array\n     *\/",92],["T_WHITESPACE","\n    ",96],["T_PROTECTED","protected",97],["T_WHITESPACE"," ",97],["T_VARIABLE","$_secureUrlCache",97],["T_WHITESPACE"," ",97],"=",["T_WHITESPACE"," ",97],["T_ARRAY","array",97],"(",")",";",["T_WHITESPACE","\n\n    ",97],["T_DOC_COMMENT","\/**\n     * System environment server variables\n     *\n     * @var array\n     *\/",99],["T_WHITESPACE","\n    ",103],["T_PROTECTED","protected",104],["T_WHITESPACE"," ",104],["T_VARIABLE","$_distroServerVars",104],";",["T_WHITESPACE","\n\n    ",104],["T_DOC_COMMENT","\/**\n     * Array which is using for replace placeholders of server variables\n     *\n     * @var array\n     *\/",106],["T_WHITESPACE","\n    ",110],["T_PROTECTED","protected",111],["T_WHITESPACE"," ",111],["T_VARIABLE","$_substServerVars",111],";",["T_WHITESPACE","\n\n    ",111],["T_DOC_COMMENT","\/**\n     * Resource model\n     * Used for operations with DB\n     *\n     * @var Mage_Core_Model_Mysql4_Config\n     *\/",113],["T_WHITESPACE","\n    ",118],["T_PROTECTED","protected",119],["T_WHITESPACE"," ",119],["T_VARIABLE","$_resourceModel",119],";",["T_WHITESPACE","\n\n    ",119],["T_DOC_COMMENT","\/**\n     * Configuration for events by area\n     *\n     * @var array\n     *\/",121],["T_WHITESPACE","\n    ",125],["T_PROTECTED","protected",126],["T_WHITESPACE"," ",126],["T_VARIABLE","$_eventAreas",126],";",["T_WHITESPACE","\n\n    ",126],["T_DOC_COMMENT","\/**\n     * Flag cache for existing or already created directories\n     *\n     * @var array\n     *\/",128],["T_WHITESPACE","\n    ",132],["T_PROTECTED","protected",133],["T_WHITESPACE"," ",133],["T_VARIABLE","$_dirExists",133],["T_WHITESPACE"," ",133],"=",["T_WHITESPACE"," ",133],["T_ARRAY","array",133],"(",")",";",["T_WHITESPACE","\n\n    ",133],["T_DOC_COMMENT","\/**\n     * Flach which allow using cache for config initialization\n     *\n     * @var bool\n     *\/",135],["T_WHITESPACE","\n    ",139],["T_PROTECTED","protected",140],["T_WHITESPACE"," ",140],["T_VARIABLE","$_allowCacheForInit",140],["T_WHITESPACE"," ",140],"=",["T_WHITESPACE"," ",140],["T_STRING","true",140],";",["T_WHITESPACE","\n\n    ",140],["T_DOC_COMMENT","\/**\n     * Property used during cache save process\n     *\n     * @var array\n     *\/",142],["T_WHITESPACE","\n    ",146],["T_PROTECTED","protected",147],["T_WHITESPACE"," ",147],["T_VARIABLE","$_cachePartsForSave",147],["T_WHITESPACE"," ",147],"=",["T_WHITESPACE"," ",147],["T_ARRAY","array",147],"(",")",";",["T_WHITESPACE","\n\n    ",147],["T_DOC_COMMENT","\/**\n     * Empty configuration object for loading and megring configuration parts\n     *\n     * @var Mage_Core_Model_Config_Base\n     *\/",149],["T_WHITESPACE","\n    ",153],["T_PROTECTED","protected",154],["T_WHITESPACE"," ",154],["T_VARIABLE","$_prototype",154],";",["T_WHITESPACE","\n\n    ",154],["T_DOC_COMMENT","\/**\n     * Flag which identify what local configuration is loaded\n     *\n     * @var bool\n     *\/",156],["T_WHITESPACE","\n    ",160],["T_PROTECTED","protected",161],["T_WHITESPACE"," ",161],["T_VARIABLE","$_isLocalConfigLoaded",161],["T_WHITESPACE"," ",161],"=",["T_WHITESPACE"," ",161],["T_STRING","false",161],";",["T_WHITESPACE","\n\n    ",161],["T_DOC_COMMENT","\/**\n     * Depricated properties\n     *\n     * @deprecated\n     *\/",163],["T_WHITESPACE","\n    ",167],["T_PROTECTED","protected",168],["T_WHITESPACE"," ",168],["T_VARIABLE","$_baseDirCache",168],["T_WHITESPACE"," ",168],"=",["T_WHITESPACE"," ",168],["T_ARRAY","array",168],"(",")",";",["T_WHITESPACE","\n    ",168],["T_PROTECTED","protected",169],["T_WHITESPACE"," ",169],["T_VARIABLE","$_customEtcDir",169],["T_WHITESPACE"," ",169],"=",["T_WHITESPACE"," ",169],["T_STRING","null",169],";",["T_WHITESPACE","\n\n    ",169],["T_DOC_COMMENT","\/**\n     * Flag which allow to use modules from local code pool\n     *\n     * @var bool\n     *\/",171],["T_WHITESPACE","\n    ",175],["T_PROTECTED","protected",176],["T_WHITESPACE"," ",176],["T_VARIABLE","$_canUseLocalModules",176],["T_WHITESPACE"," ",176],"=",["T_WHITESPACE"," ",176],["T_STRING","null",176],";",["T_WHITESPACE","\n\n    ",176],["T_DOC_COMMENT","\/**\n     * Active modules array per namespace\n     * @var array\n     *\/",178],["T_WHITESPACE","\n    ",181],["T_PRIVATE","private",182],["T_WHITESPACE"," ",182],["T_VARIABLE","$_moduleNamespaces",182],["T_WHITESPACE"," ",182],"=",["T_WHITESPACE"," ",182],["T_STRING","null",182],";",["T_WHITESPACE","\n\n    ",182],["T_DOC_COMMENT","\/**\n     * Modules allowed to load\n     * If empty - all modules are allowed\n     *\n     * @var array\n     *\/",184],["T_WHITESPACE","\n    ",189],["T_PROTECTED","protected",190],["T_WHITESPACE"," ",190],["T_VARIABLE","$_allowedModules",190],["T_WHITESPACE"," ",190],"=",["T_WHITESPACE"," ",190],["T_ARRAY","array",190],"(",")",";",["T_WHITESPACE","\n\n    ",190],["T_DOC_COMMENT","\/**\n     * Class construct\n     *\n     * @param mixed $sourceData\n     *\/",192],["T_WHITESPACE","\n    ",196],["T_PUBLIC","public",197],["T_WHITESPACE"," ",197],["T_FUNCTION","function",197],["T_WHITESPACE"," ",197],["T_STRING","__construct",197],"(",["T_VARIABLE","$sourceData",197],"=",["T_STRING","null",197],")",["T_WHITESPACE","\n    ",197],"{",["T_WHITESPACE","\n        ",198],["T_VARIABLE","$this",199],["T_OBJECT_OPERATOR","->",199],["T_STRING","setCacheId",199],"(",["T_CONSTANT_ENCAPSED_STRING","'config_global'",199],")",";",["T_WHITESPACE","\n        ",199],["T_VARIABLE","$this",200],["T_OBJECT_OPERATOR","->",200],["T_STRING","_options",200],["T_WHITESPACE","         ",200],"=",["T_WHITESPACE"," ",200],["T_NEW","new",200],["T_WHITESPACE"," ",200],["T_STRING","Mage_Core_Model_Config_Options",200],"(",["T_VARIABLE","$sourceData",200],")",";",["T_WHITESPACE","\n        ",200],["T_VARIABLE","$this",201],["T_OBJECT_OPERATOR","->",201],["T_STRING","_prototype",201],["T_WHITESPACE","       ",201],"=",["T_WHITESPACE"," ",201],["T_NEW","new",201],["T_WHITESPACE"," ",201],["T_STRING","Mage_Core_Model_Config_Base",201],"(",")",";",["T_WHITESPACE","\n        ",201],["T_VARIABLE","$this",202],["T_OBJECT_OPERATOR","->",202],["T_STRING","_cacheChecksum",202],["T_WHITESPACE","   ",202],"=",["T_WHITESPACE"," ",202],["T_STRING","null",202],";",["T_WHITESPACE","\n        ",202],["T_STRING","parent",203],["T_DOUBLE_COLON","::",203],["T_STRING","__construct",203],"(",["T_VARIABLE","$sourceData",203],")",";",["T_WHITESPACE","\n    ",203],"}",["T_WHITESPACE","\n\n    ",204],["T_DOC_COMMENT","\/**\n     * Get config resource model\n     *\n     * @return Mage_Core_Store_Mysql4_Config\n     *\/",206],["T_WHITESPACE","\n    ",210],["T_PUBLIC","public",211],["T_WHITESPACE"," ",211],["T_FUNCTION","function",211],["T_WHITESPACE"," ",211],["T_STRING","getResourceModel",211],"(",")",["T_WHITESPACE","\n    ",211],"{",["T_WHITESPACE","\n        ",212],["T_IF","if",213],["T_WHITESPACE"," ",213],"(",["T_STRING","is_null",213],"(",["T_VARIABLE","$this",213],["T_OBJECT_OPERATOR","->",213],["T_STRING","_resourceModel",213],")",")",["T_WHITESPACE"," ",213],"{",["T_WHITESPACE","\n            ",213],["T_VARIABLE","$this",214],["T_OBJECT_OPERATOR","->",214],["T_STRING","_resourceModel",214],["T_WHITESPACE"," ",214],"=",["T_WHITESPACE"," ",214],["T_STRING","Mage",214],["T_DOUBLE_COLON","::",214],["T_STRING","getResourceModel",214],"(",["T_CONSTANT_ENCAPSED_STRING","'core\/config'",214],")",";",["T_WHITESPACE","\n        ",214],"}",["T_WHITESPACE","\n        ",215],["T_RETURN","return",216],["T_WHITESPACE"," ",216],["T_VARIABLE","$this",216],["T_OBJECT_OPERATOR","->",216],["T_STRING","_resourceModel",216],";",["T_WHITESPACE","\n    ",216],"}",["T_WHITESPACE","\n\n    ",217],["T_DOC_COMMENT","\/**\n     * Get configuration options object\n     *\n     * @return Mage_Core_Model_Config_Options\n     *\/",219],["T_WHITESPACE","\n    ",223],["T_PUBLIC","public",224],["T_WHITESPACE"," ",224],["T_FUNCTION","function",224],["T_WHITESPACE"," ",224],["T_STRING","getOptions",224],"(",")",["T_WHITESPACE","\n    ",224],"{",["T_WHITESPACE","\n        ",225],["T_RETURN","return",226],["T_WHITESPACE"," ",226],["T_VARIABLE","$this",226],["T_OBJECT_OPERATOR","->",226],["T_STRING","_options",226],";",["T_WHITESPACE","\n    ",226],"}",["T_WHITESPACE","\n\n    ",227],["T_DOC_COMMENT","\/**\n     * Set configuration options\n     *\n     * @param array $options\n     * @return Mage_Core_Model_Config\n     *\/",229],["T_WHITESPACE","\n    ",234],["T_PUBLIC","public",235],["T_WHITESPACE"," ",235],["T_FUNCTION","function",235],["T_WHITESPACE"," ",235],["T_STRING","setOptions",235],"(",["T_VARIABLE","$options",235],")",["T_WHITESPACE","\n    ",235],"{",["T_WHITESPACE","\n        ",236],["T_IF","if",237],["T_WHITESPACE"," ",237],"(",["T_STRING","is_array",237],"(",["T_VARIABLE","$options",237],")",")",["T_WHITESPACE"," ",237],"{",["T_WHITESPACE","\n            ",237],["T_VARIABLE","$this",238],["T_OBJECT_OPERATOR","->",238],["T_STRING","getOptions",238],"(",")",["T_OBJECT_OPERATOR","->",238],["T_STRING","addData",238],"(",["T_VARIABLE","$options",238],")",";",["T_WHITESPACE","\n        ",238],"}",["T_WHITESPACE","\n        ",239],["T_RETURN","return",240],["T_WHITESPACE"," ",240],["T_VARIABLE","$this",240],";",["T_WHITESPACE","\n    ",240],"}",["T_WHITESPACE","\n\n    ",241],["T_DOC_COMMENT","\/**\n     * Initialization of core configuration\n     *\n     * @return Mage_Core_Model_Config\n     *\/",243],["T_WHITESPACE","\n    ",247],["T_PUBLIC","public",248],["T_WHITESPACE"," ",248],["T_FUNCTION","function",248],["T_WHITESPACE"," ",248],["T_STRING","init",248],"(",["T_VARIABLE","$options",248],"=",["T_ARRAY","array",248],"(",")",")",["T_WHITESPACE","\n    ",248],"{",["T_WHITESPACE","\n        ",249],["T_VARIABLE","$this",250],["T_OBJECT_OPERATOR","->",250],["T_STRING","setCacheChecksum",250],"(",["T_STRING","null",250],")",";",["T_WHITESPACE","\n        ",250],["T_VARIABLE","$this",251],["T_OBJECT_OPERATOR","->",251],["T_STRING","_cacheLoadedSections",251],["T_WHITESPACE"," ",251],"=",["T_WHITESPACE"," ",251],["T_ARRAY","array",251],"(",")",";",["T_WHITESPACE","\n        ",251],["T_VARIABLE","$this",252],["T_OBJECT_OPERATOR","->",252],["T_STRING","setOptions",252],"(",["T_VARIABLE","$options",252],")",";",["T_WHITESPACE","\n        ",252],["T_VARIABLE","$this",253],["T_OBJECT_OPERATOR","->",253],["T_STRING","loadBase",253],"(",")",";",["T_WHITESPACE","\n\n        ",253],["T_VARIABLE","$cacheLoad",255],["T_WHITESPACE"," ",255],"=",["T_WHITESPACE"," ",255],["T_VARIABLE","$this",255],["T_OBJECT_OPERATOR","->",255],["T_STRING","loadModulesCache",255],"(",")",";",["T_WHITESPACE","\n        ",255],["T_IF","if",256],["T_WHITESPACE"," ",256],"(",["T_VARIABLE","$cacheLoad",256],")",["T_WHITESPACE"," ",256],"{",["T_WHITESPACE","\n            ",256],["T_RETURN","return",257],["T_WHITESPACE"," ",257],["T_VARIABLE","$this",257],";",["T_WHITESPACE","\n        ",257],"}",["T_WHITESPACE","\n\n        ",258],["T_VARIABLE","$this",260],["T_OBJECT_OPERATOR","->",260],["T_STRING","_useCache",260],["T_WHITESPACE"," ",260],"=",["T_WHITESPACE"," ",260],["T_STRING","false",260],";",["T_WHITESPACE","\n\n        ",260],["T_VARIABLE","$this",262],["T_OBJECT_OPERATOR","->",262],["T_STRING","loadModules",262],"(",")",";",["T_WHITESPACE","\n        ",262],["T_VARIABLE","$this",263],["T_OBJECT_OPERATOR","->",263],["T_STRING","loadDb",263],"(",")",";",["T_WHITESPACE","\n        ",263],["T_VARIABLE","$this",264],["T_OBJECT_OPERATOR","->",264],["T_STRING","saveCache",264],"(",")",";",["T_WHITESPACE","\n        ",264],["T_RETURN","return",265],["T_WHITESPACE"," ",265],["T_VARIABLE","$this",265],";",["T_WHITESPACE","\n    ",265],"}",["T_WHITESPACE","\n\n    ",266],["T_DOC_COMMENT","\/**\n     * Load base system configuration (config.xml and local.xml files)\n     *\n     * @return Mage_Core_Model_Config\n     *\/",268],["T_WHITESPACE","\n    ",272],["T_PUBLIC","public",273],["T_WHITESPACE"," ",273],["T_FUNCTION","function",273],["T_WHITESPACE"," ",273],["T_STRING","loadBase",273],"(",")",["T_WHITESPACE","\n    ",273],"{",["T_WHITESPACE","\n        ",274],["T_VARIABLE","$etcDir",275],["T_WHITESPACE"," ",275],"=",["T_WHITESPACE"," ",275],["T_VARIABLE","$this",275],["T_OBJECT_OPERATOR","->",275],["T_STRING","getOptions",275],"(",")",["T_OBJECT_OPERATOR","->",275],["T_STRING","getEtcDir",275],"(",")",";",["T_WHITESPACE","\n        ",275],["T_VARIABLE","$files",276],["T_WHITESPACE"," ",276],"=",["T_WHITESPACE"," ",276],["T_STRING","glob",276],"(",["T_VARIABLE","$etcDir",276],".",["T_STRING","DS",276],".",["T_CONSTANT_ENCAPSED_STRING","'*.xml'",276],")",";",["T_WHITESPACE","\n        ",276],["T_VARIABLE","$this",277],["T_OBJECT_OPERATOR","->",277],["T_STRING","loadFile",277],"(",["T_STRING","current",277],"(",["T_VARIABLE","$files",277],")",")",";",["T_WHITESPACE","\n        ",277],["T_WHILE","while",278],["T_WHITESPACE"," ",278],"(",["T_VARIABLE","$file",278],["T_WHITESPACE"," ",278],"=",["T_WHITESPACE"," ",278],["T_STRING","next",278],"(",["T_VARIABLE","$files",278],")",")",["T_WHITESPACE"," ",278],"{",["T_WHITESPACE","\n            ",278],["T_VARIABLE","$merge",279],["T_WHITESPACE"," ",279],"=",["T_WHITESPACE"," ",279],["T_CLONE","clone",279],["T_WHITESPACE"," ",279],["T_VARIABLE","$this",279],["T_OBJECT_OPERATOR","->",279],["T_STRING","_prototype",279],";",["T_WHITESPACE","\n            ",279],["T_VARIABLE","$merge",280],["T_OBJECT_OPERATOR","->",280],["T_STRING","loadFile",280],"(",["T_VARIABLE","$file",280],")",";",["T_WHITESPACE","\n            ",280],["T_VARIABLE","$this",281],["T_OBJECT_OPERATOR","->",281],["T_STRING","extend",281],"(",["T_VARIABLE","$merge",281],")",";",["T_WHITESPACE","\n        ",281],"}",["T_WHITESPACE","\n        ",282],["T_IF","if",283],["T_WHITESPACE"," ",283],"(",["T_STRING","in_array",283],"(",["T_VARIABLE","$etcDir",283],".",["T_STRING","DS",283],".",["T_CONSTANT_ENCAPSED_STRING","'local.xml'",283],",",["T_WHITESPACE"," ",283],["T_VARIABLE","$files",283],")",")",["T_WHITESPACE"," ",283],"{",["T_WHITESPACE","\n            ",283],["T_VARIABLE","$this",284],["T_OBJECT_OPERATOR","->",284],["T_STRING","_isLocalConfigLoaded",284],["T_WHITESPACE"," ",284],"=",["T_WHITESPACE"," ",284],["T_STRING","true",284],";",["T_WHITESPACE","\n        ",284],"}",["T_WHITESPACE","\n        ",285],["T_RETURN","return",286],["T_WHITESPACE"," ",286],["T_VARIABLE","$this",286],";",["T_WHITESPACE","\n    ",286],"}",["T_WHITESPACE","\n\n    ",287],["T_DOC_COMMENT","\/**\n     * Load cached modules configuration\n     *\n     * @return bool\n     *\/",289],["T_WHITESPACE","\n    ",293],["T_PUBLIC","public",294],["T_WHITESPACE"," ",294],["T_FUNCTION","function",294],["T_WHITESPACE"," ",294],["T_STRING","loadModulesCache",294],"(",")",["T_WHITESPACE","\n    ",294],"{",["T_WHITESPACE","\n        ",295],["T_IF","if",296],["T_WHITESPACE"," ",296],"(",["T_STRING","Mage",296],["T_DOUBLE_COLON","::",296],["T_STRING","isInstalled",296],"(",["T_ARRAY","array",296],"(",["T_CONSTANT_ENCAPSED_STRING","'etc_dir'",296],["T_WHITESPACE"," ",296],["T_DOUBLE_ARROW","=>",296],["T_WHITESPACE"," ",296],["T_VARIABLE","$this",296],["T_OBJECT_OPERATOR","->",296],["T_STRING","getOptions",296],"(",")",["T_OBJECT_OPERATOR","->",296],["T_STRING","getEtcDir",296],"(",")",")",")",")",["T_WHITESPACE"," ",296],"{",["T_WHITESPACE","\n            ",296],["T_IF","if",297],["T_WHITESPACE"," ",297],"(",["T_VARIABLE","$this",297],["T_OBJECT_OPERATOR","->",297],["T_STRING","_canUseCacheForInit",297],"(",")",")",["T_WHITESPACE"," ",297],"{",["T_WHITESPACE","\n                ",297],["T_STRING","Varien_Profiler",298],["T_DOUBLE_COLON","::",298],["T_STRING","start",298],"(",["T_CONSTANT_ENCAPSED_STRING","'mage::app::init::config::load_cache'",298],")",";",["T_WHITESPACE","\n                ",298],["T_VARIABLE","$loaded",299],["T_WHITESPACE"," ",299],"=",["T_WHITESPACE"," ",299],["T_VARIABLE","$this",299],["T_OBJECT_OPERATOR","->",299],["T_STRING","loadCache",299],"(",")",";",["T_WHITESPACE","\n                ",299],["T_STRING","Varien_Profiler",300],["T_DOUBLE_COLON","::",300],["T_STRING","stop",300],"(",["T_CONSTANT_ENCAPSED_STRING","'mage::app::init::config::load_cache'",300],")",";",["T_WHITESPACE","\n                ",300],["T_IF","if",301],["T_WHITESPACE"," ",301],"(",["T_VARIABLE","$loaded",301],")",["T_WHITESPACE"," ",301],"{",["T_WHITESPACE","\n                    ",301],["T_VARIABLE","$this",302],["T_OBJECT_OPERATOR","->",302],["T_STRING","_useCache",302],["T_WHITESPACE"," ",302],"=",["T_WHITESPACE"," ",302],["T_STRING","true",302],";",["T_WHITESPACE","\n                    ",302],["T_RETURN","return",303],["T_WHITESPACE"," ",303],["T_STRING","true",303],";",["T_WHITESPACE","\n                ",303],"}",["T_WHITESPACE","\n            ",304],"}",["T_WHITESPACE","\n        ",305],"}",["T_WHITESPACE","\n        ",306],["T_RETURN","return",307],["T_WHITESPACE"," ",307],["T_STRING","false",307],";",["T_WHITESPACE","\n    ",307],"}",["T_WHITESPACE","\n\n    ",308],["T_DOC_COMMENT","\/**\n     * Load modules configuration\n     *\n     * @return Mage_Core_Model_Config\n     *\/",310],["T_WHITESPACE","\n    ",314],["T_PUBLIC","public",315],["T_WHITESPACE"," ",315],["T_FUNCTION","function",315],["T_WHITESPACE"," ",315],["T_STRING","loadModules",315],"(",")",["T_WHITESPACE","\n    ",315],"{",["T_WHITESPACE","\n        ",316],["T_STRING","Varien_Profiler",317],["T_DOUBLE_COLON","::",317],["T_STRING","start",317],"(",["T_CONSTANT_ENCAPSED_STRING","'config\/load-modules'",317],")",";",["T_WHITESPACE","\n        ",317],["T_VARIABLE","$this",318],["T_OBJECT_OPERATOR","->",318],["T_STRING","_loadDeclaredModules",318],"(",")",";",["T_WHITESPACE","\n\n        ",318],["T_VARIABLE","$resourceConfig",320],["T_WHITESPACE"," ",320],"=",["T_WHITESPACE"," ",320],["T_STRING","sprintf",320],"(",["T_CONSTANT_ENCAPSED_STRING","'config.%s.xml'",320],",",["T_WHITESPACE"," ",320],["T_VARIABLE","$this",320],["T_OBJECT_OPERATOR","->",320],["T_STRING","_getResourceConnectionModel",320],"(",["T_CONSTANT_ENCAPSED_STRING","'core'",320],")",")",";",["T_WHITESPACE","\n        ",320],["T_VARIABLE","$this",321],["T_OBJECT_OPERATOR","->",321],["T_STRING","loadModulesConfiguration",321],"(",["T_ARRAY","array",321],"(",["T_CONSTANT_ENCAPSED_STRING","'config.xml'",321],",",["T_VARIABLE","$resourceConfig",321],")",",",["T_WHITESPACE"," ",321],["T_VARIABLE","$this",321],")",";",["T_WHITESPACE","\n\n        ",321],["T_DOC_COMMENT","\/**\n         * Prevent local.xml directives overwriting\n         *\/",323],["T_WHITESPACE","\n        ",325],["T_VARIABLE","$mergeConfig",326],["T_WHITESPACE"," ",326],"=",["T_WHITESPACE"," ",326],["T_CLONE","clone",326],["T_WHITESPACE"," ",326],["T_VARIABLE","$this",326],["T_OBJECT_OPERATOR","->",326],["T_STRING","_prototype",326],";",["T_WHITESPACE","\n        ",326],["T_VARIABLE","$this",327],["T_OBJECT_OPERATOR","->",327],["T_STRING","_isLocalConfigLoaded",327],["T_WHITESPACE"," ",327],"=",["T_WHITESPACE"," ",327],["T_VARIABLE","$mergeConfig",327],["T_OBJECT_OPERATOR","->",327],["T_STRING","loadFile",327],"(",["T_VARIABLE","$this",327],["T_OBJECT_OPERATOR","->",327],["T_STRING","getOptions",327],"(",")",["T_OBJECT_OPERATOR","->",327],["T_STRING","getEtcDir",327],"(",")",".",["T_STRING","DS",327],".",["T_CONSTANT_ENCAPSED_STRING","'local.xml'",327],")",";",["T_WHITESPACE","\n        ",327],["T_IF","if",328],["T_WHITESPACE"," ",328],"(",["T_VARIABLE","$this",328],["T_OBJECT_OPERATOR","->",328],["T_STRING","_isLocalConfigLoaded",328],")",["T_WHITESPACE"," ",328],"{",["T_WHITESPACE","\n            ",328],["T_VARIABLE","$this",329],["T_OBJECT_OPERATOR","->",329],["T_STRING","extend",329],"(",["T_VARIABLE","$mergeConfig",329],")",";",["T_WHITESPACE","\n        ",329],"}",["T_WHITESPACE","\n\n        ",330],["T_VARIABLE","$this",332],["T_OBJECT_OPERATOR","->",332],["T_STRING","applyExtends",332],"(",")",";",["T_WHITESPACE","\n        ",332],["T_STRING","Varien_Profiler",333],["T_DOUBLE_COLON","::",333],["T_STRING","stop",333],"(",["T_CONSTANT_ENCAPSED_STRING","'config\/load-modules'",333],")",";",["T_WHITESPACE","\n        ",333],["T_RETURN","return",334],["T_WHITESPACE"," ",334],["T_VARIABLE","$this",334],";",["T_WHITESPACE","\n    ",334],"}",["T_WHITESPACE","\n\n    ",335],["T_DOC_COMMENT","\/**\n     * Check if local configuration (DB connection, etc) is loaded\n     *\n     * @return bool\n     *\/",337],["T_WHITESPACE","\n    ",341],["T_PUBLIC","public",342],["T_WHITESPACE"," ",342],["T_FUNCTION","function",342],["T_WHITESPACE"," ",342],["T_STRING","isLocalConfigLoaded",342],"(",")",["T_WHITESPACE","\n    ",342],"{",["T_WHITESPACE","\n        ",343],["T_RETURN","return",344],["T_WHITESPACE"," ",344],["T_VARIABLE","$this",344],["T_OBJECT_OPERATOR","->",344],["T_STRING","_isLocalConfigLoaded",344],";",["T_WHITESPACE","\n    ",344],"}",["T_WHITESPACE","\n\n    ",345],["T_DOC_COMMENT","\/**\n     * Load config data from DB\n     *\n     * @return Mage_Core_Model_Config\n     *\/",347],["T_WHITESPACE","\n    ",351],["T_PUBLIC","public",352],["T_WHITESPACE"," ",352],["T_FUNCTION","function",352],["T_WHITESPACE"," ",352],["T_STRING","loadDb",352],"(",")",["T_WHITESPACE","\n    ",352],"{",["T_WHITESPACE","\n        ",353],["T_IF","if",354],["T_WHITESPACE"," ",354],"(",["T_VARIABLE","$this",354],["T_OBJECT_OPERATOR","->",354],["T_STRING","_isLocalConfigLoaded",354],["T_WHITESPACE"," ",354],["T_BOOLEAN_AND","&&",354],["T_WHITESPACE"," ",354],["T_STRING","Mage",354],["T_DOUBLE_COLON","::",354],["T_STRING","isInstalled",354],"(",")",")",["T_WHITESPACE"," ",354],"{",["T_WHITESPACE","\n            ",354],["T_STRING","Varien_Profiler",355],["T_DOUBLE_COLON","::",355],["T_STRING","start",355],"(",["T_CONSTANT_ENCAPSED_STRING","'config\/load-db'",355],")",";",["T_WHITESPACE","\n            ",355],["T_VARIABLE","$dbConf",356],["T_WHITESPACE"," ",356],"=",["T_WHITESPACE"," ",356],["T_VARIABLE","$this",356],["T_OBJECT_OPERATOR","->",356],["T_STRING","getResourceModel",356],"(",")",";",["T_WHITESPACE","\n            ",356],["T_VARIABLE","$dbConf",357],["T_OBJECT_OPERATOR","->",357],["T_STRING","loadToXml",357],"(",["T_VARIABLE","$this",357],")",";",["T_WHITESPACE","\n            ",357],["T_STRING","Varien_Profiler",358],["T_DOUBLE_COLON","::",358],["T_STRING","stop",358],"(",["T_CONSTANT_ENCAPSED_STRING","'config\/load-db'",358],")",";",["T_WHITESPACE","\n        ",358],"}",["T_WHITESPACE","\n        ",359],["T_RETURN","return",360],["T_WHITESPACE"," ",360],["T_VARIABLE","$this",360],";",["T_WHITESPACE","\n    ",360],"}",["T_WHITESPACE","\n\n    ",361],["T_DOC_COMMENT","\/**\n     * Reinitialize configuration\n     *\n     * @param   array $options\n     * @return  Mage_Core_Model_Config\n     *\/",363],["T_WHITESPACE","\n    ",368],["T_PUBLIC","public",369],["T_WHITESPACE"," ",369],["T_FUNCTION","function",369],["T_WHITESPACE"," ",369],["T_STRING","reinit",369],"(",["T_VARIABLE","$options",369],["T_WHITESPACE"," ",369],"=",["T_WHITESPACE"," ",369],["T_ARRAY","array",369],"(",")",")",["T_WHITESPACE","\n    ",369],"{",["T_WHITESPACE","\n        ",370],["T_VARIABLE","$this",371],["T_OBJECT_OPERATOR","->",371],["T_STRING","_allowCacheForInit",371],["T_WHITESPACE"," ",371],"=",["T_WHITESPACE"," ",371],["T_STRING","false",371],";",["T_WHITESPACE","\n        ",371],["T_VARIABLE","$this",372],["T_OBJECT_OPERATOR","->",372],["T_STRING","_useCache",372],["T_WHITESPACE"," ",372],"=",["T_WHITESPACE"," ",372],["T_STRING","false",372],";",["T_WHITESPACE","\n        ",372],["T_RETURN","return",373],["T_WHITESPACE"," ",373],["T_VARIABLE","$this",373],["T_OBJECT_OPERATOR","->",373],["T_STRING","init",373],"(",["T_VARIABLE","$options",373],")",";",["T_WHITESPACE","\n    ",373],"}",["T_WHITESPACE","\n\n    ",374],["T_DOC_COMMENT","\/**\n     * Check local modules enable\/disable flag\n     * If local modules are disbled remove local modules path from include dirs\n     *\n     * return true if local modules enabled and false if disabled\n     *\n     * @return bool\n     *\/",376],["T_WHITESPACE","\n    ",383],["T_PROTECTED","protected",384],["T_WHITESPACE"," ",384],["T_FUNCTION","function",384],["T_WHITESPACE"," ",384],["T_STRING","_canUseLocalModules",384],"(",")",["T_WHITESPACE","\n    ",384],"{",["T_WHITESPACE","\n        ",385],["T_IF","if",386],["T_WHITESPACE"," ",386],"(",["T_VARIABLE","$this",386],["T_OBJECT_OPERATOR","->",386],["T_STRING","_canUseLocalModules",386],["T_WHITESPACE"," ",386],["T_IS_NOT_IDENTICAL","!==",386],["T_WHITESPACE"," ",386],["T_STRING","null",386],")",["T_WHITESPACE"," ",386],"{",["T_WHITESPACE","\n            ",386],["T_RETURN","return",387],["T_WHITESPACE"," ",387],["T_VARIABLE","$this",387],["T_OBJECT_OPERATOR","->",387],["T_STRING","_canUseLocalModules",387],";",["T_WHITESPACE","\n        ",387],"}",["T_WHITESPACE","\n\n        ",388],["T_VARIABLE","$disableLocalModules",390],["T_WHITESPACE"," ",390],"=",["T_WHITESPACE"," ",390],["T_STRING_CAST","(string)",390],["T_VARIABLE","$this",390],["T_OBJECT_OPERATOR","->",390],["T_STRING","getNode",390],"(",["T_CONSTANT_ENCAPSED_STRING","'global\/disable_local_modules'",390],")",";",["T_WHITESPACE","\n        ",390],["T_IF","if",391],["T_WHITESPACE"," ",391],"(","!",["T_EMPTY","empty",391],"(",["T_VARIABLE","$disableLocalModules",391],")",")",["T_WHITESPACE"," ",391],"{",["T_WHITESPACE","\n            ",391],["T_VARIABLE","$disableLocalModules",392],["T_WHITESPACE"," ",392],"=",["T_WHITESPACE"," ",392],"(","(",["T_CONSTANT_ENCAPSED_STRING","'true'",392],["T_WHITESPACE"," ",392],["T_IS_IDENTICAL","===",392],["T_WHITESPACE"," ",392],["T_VARIABLE","$disableLocalModules",392],")",["T_WHITESPACE"," ",392],["T_BOOLEAN_OR","||",392],["T_WHITESPACE"," ",392],"(",["T_CONSTANT_ENCAPSED_STRING","'1'",392],["T_WHITESPACE"," ",392],["T_IS_IDENTICAL","===",392],["T_WHITESPACE"," ",392],["T_VARIABLE","$disableLocalModules",392],")",")",";",["T_WHITESPACE","\n        ",392],"}",["T_WHITESPACE"," ",393],["T_ELSE","else",393],["T_WHITESPACE"," ",393],"{",["T_WHITESPACE","\n            ",393],["T_VARIABLE","$disableLocalModules",394],["T_WHITESPACE"," ",394],"=",["T_WHITESPACE"," ",394],["T_STRING","false",394],";",["T_WHITESPACE","\n        ",394],"}",["T_WHITESPACE","\n\n        ",395],["T_IF","if",397],["T_WHITESPACE"," ",397],"(",["T_VARIABLE","$disableLocalModules",397],["T_WHITESPACE"," ",397],["T_BOOLEAN_AND","&&",397],["T_WHITESPACE"," ",397],"!",["T_STRING","defined",397],"(",["T_CONSTANT_ENCAPSED_STRING","'COMPILER_INCLUDE_PATH'",397],")",")",["T_WHITESPACE"," ",397],"{",["T_WHITESPACE","\n            ",397],["T_STRING","set_include_path",398],"(",["T_WHITESPACE","\n                ",398],["T_COMMENT","\/\/ excluded '\/app\/code\/local'\n",399],["T_WHITESPACE","                ",400],["T_STRING","BP",400],["T_WHITESPACE"," ",400],".",["T_WHITESPACE"," ",400],["T_STRING","DS",400],["T_WHITESPACE"," ",400],".",["T_WHITESPACE"," ",400],["T_CONSTANT_ENCAPSED_STRING","'app'",400],["T_WHITESPACE"," ",400],".",["T_WHITESPACE"," ",400],["T_STRING","DS",400],["T_WHITESPACE"," ",400],".",["T_WHITESPACE"," ",400],["T_CONSTANT_ENCAPSED_STRING","'code'",400],["T_WHITESPACE"," ",400],".",["T_WHITESPACE"," ",400],["T_STRING","DS",400],["T_WHITESPACE"," ",400],".",["T_WHITESPACE"," ",400],["T_CONSTANT_ENCAPSED_STRING","'community'",400],["T_WHITESPACE"," ",400],".",["T_WHITESPACE"," ",400],["T_STRING","PS",400],["T_WHITESPACE"," ",400],".",["T_WHITESPACE","\n                ",400],["T_STRING","BP",401],["T_WHITESPACE"," ",401],".",["T_WHITESPACE"," ",401],["T_STRING","DS",401],["T_WHITESPACE"," ",401],".",["T_WHITESPACE"," ",401],["T_CONSTANT_ENCAPSED_STRING","'app'",401],["T_WHITESPACE"," ",401],".",["T_WHITESPACE"," ",401],["T_STRING","DS",401],["T_WHITESPACE"," ",401],".",["T_WHITESPACE"," ",401],["T_CONSTANT_ENCAPSED_STRING","'code'",401],["T_WHITESPACE"," ",401],".",["T_WHITESPACE"," ",401],["T_STRING","DS",401],["T_WHITESPACE"," ",401],".",["T_WHITESPACE"," ",401],["T_CONSTANT_ENCAPSED_STRING","'core'",401],["T_WHITESPACE"," ",401],".",["T_WHITESPACE"," ",401],["T_STRING","PS",401],["T_WHITESPACE"," ",401],".",["T_WHITESPACE","\n                ",401],["T_STRING","BP",402],["T_WHITESPACE"," ",402],".",["T_WHITESPACE"," ",402],["T_STRING","DS",402],["T_WHITESPACE"," ",402],".",["T_WHITESPACE"," ",402],["T_CONSTANT_ENCAPSED_STRING","'lib'",402],["T_WHITESPACE"," ",402],".",["T_WHITESPACE"," ",402],["T_STRING","PS",402],["T_WHITESPACE"," ",402],".",["T_WHITESPACE","\n                ",402],["T_STRING","Mage",403],["T_DOUBLE_COLON","::",403],["T_STRING","registry",403],"(",["T_CONSTANT_ENCAPSED_STRING","'original_include_path'",403],")",["T_WHITESPACE","\n            ",403],")",";",["T_WHITESPACE","\n        ",404],"}",["T_WHITESPACE","\n        ",405],["T_VARIABLE","$this",406],["T_OBJECT_OPERATOR","->",406],["T_STRING","_canUseLocalModules",406],["T_WHITESPACE"," ",406],"=",["T_WHITESPACE"," ",406],"!",["T_VARIABLE","$disableLocalModules",406],";",["T_WHITESPACE","\n        ",406],["T_RETURN","return",407],["T_WHITESPACE"," ",407],["T_VARIABLE","$this",407],["T_OBJECT_OPERATOR","->",407],["T_STRING","_canUseLocalModules",407],";",["T_WHITESPACE","\n    ",407],"}",["T_WHITESPACE","\n\n    ",408],["T_DOC_COMMENT","\/**\n     * Check if cache can be used for config initialization\n     *\n     * @return bool\n     *\/",410],["T_WHITESPACE","\n    ",414],["T_PROTECTED","protected",415],["T_WHITESPACE"," ",415],["T_FUNCTION","function",415],["T_WHITESPACE"," ",415],["T_STRING","_canUseCacheForInit",415],"(",")",["T_WHITESPACE","\n    ",415],"{",["T_WHITESPACE","\n        ",416],["T_RETURN","return",417],["T_WHITESPACE"," ",417],["T_STRING","Mage",417],["T_DOUBLE_COLON","::",417],["T_STRING","app",417],"(",")",["T_OBJECT_OPERATOR","->",417],["T_STRING","useCache",417],"(",["T_CONSTANT_ENCAPSED_STRING","'config'",417],")",["T_WHITESPACE"," ",417],["T_BOOLEAN_AND","&&",417],["T_WHITESPACE"," ",417],["T_VARIABLE","$this",417],["T_OBJECT_OPERATOR","->",417],["T_STRING","_allowCacheForInit",417],["T_WHITESPACE","\n            ",417],["T_BOOLEAN_AND","&&",418],["T_WHITESPACE"," ",418],"!",["T_VARIABLE","$this",418],["T_OBJECT_OPERATOR","->",418],["T_STRING","_loadCache",418],"(",["T_VARIABLE","$this",418],["T_OBJECT_OPERATOR","->",418],["T_STRING","_getCacheLockId",418],"(",")",")",";",["T_WHITESPACE","\n    ",418],"}",["T_WHITESPACE","\n\n    ",419],["T_DOC_COMMENT","\/**\n     * Retrieve cache object\n     *\n     * @return Zend_Cache_Frontend_File\n     *\/",421],["T_WHITESPACE","\n    ",425],["T_PUBLIC","public",426],["T_WHITESPACE"," ",426],["T_FUNCTION","function",426],["T_WHITESPACE"," ",426],["T_STRING","getCache",426],"(",")",["T_WHITESPACE","\n    ",426],"{",["T_WHITESPACE","\n        ",427],["T_RETURN","return",428],["T_WHITESPACE"," ",428],["T_STRING","Mage",428],["T_DOUBLE_COLON","::",428],["T_STRING","app",428],"(",")",["T_OBJECT_OPERATOR","->",428],["T_STRING","getCache",428],"(",")",";",["T_WHITESPACE","\n    ",428],"}",["T_WHITESPACE","\n\n    ",429],["T_DOC_COMMENT","\/**\n     * Get lock flag cache identifier\n     *\n     * @return string\n     *\/",431],["T_WHITESPACE","\n    ",435],["T_PROTECTED","protected",436],["T_WHITESPACE"," ",436],["T_FUNCTION","function",436],["T_WHITESPACE"," ",436],["T_STRING","_getCacheLockId",436],"(",")",["T_WHITESPACE","\n    ",436],"{",["T_WHITESPACE","\n        ",437],["T_RETURN","return",438],["T_WHITESPACE"," ",438],["T_VARIABLE","$this",438],["T_OBJECT_OPERATOR","->",438],["T_STRING","getCacheId",438],"(",")",".",["T_CONSTANT_ENCAPSED_STRING","'.lock'",438],";",["T_WHITESPACE","\n    ",438],"}",["T_WHITESPACE","\n\n    ",439],["T_DOC_COMMENT","\/**\n     * Save configuration cache\n     *\n     * @param   array $tags cache tags\n     * @return  Mage_Core_Model_Config\n     *\/",441],["T_WHITESPACE","\n    ",446],["T_PUBLIC","public",447],["T_WHITESPACE"," ",447],["T_FUNCTION","function",447],["T_WHITESPACE"," ",447],["T_STRING","saveCache",447],"(",["T_VARIABLE","$tags",447],"=",["T_ARRAY","array",447],"(",")",")",["T_WHITESPACE","\n    ",447],"{",["T_WHITESPACE","\n        ",448],["T_IF","if",449],["T_WHITESPACE"," ",449],"(","!",["T_STRING","Mage",449],["T_DOUBLE_COLON","::",449],["T_STRING","app",449],"(",")",["T_OBJECT_OPERATOR","->",449],["T_STRING","useCache",449],"(",["T_CONSTANT_ENCAPSED_STRING","'config'",449],")",")",["T_WHITESPACE"," ",449],"{",["T_WHITESPACE","\n            ",449],["T_RETURN","return",450],["T_WHITESPACE"," ",450],["T_VARIABLE","$this",450],";",["T_WHITESPACE","\n        ",450],"}",["T_WHITESPACE","\n        ",451],["T_IF","if",452],["T_WHITESPACE"," ",452],"(","!",["T_STRING","in_array",452],"(",["T_STRING","self",452],["T_DOUBLE_COLON","::",452],["T_STRING","CACHE_TAG",452],",",["T_WHITESPACE"," ",452],["T_VARIABLE","$tags",452],")",")",["T_WHITESPACE"," ",452],"{",["T_WHITESPACE","\n            ",452],["T_VARIABLE","$tags",453],"[","]",["T_WHITESPACE"," ",453],"=",["T_WHITESPACE"," ",453],["T_STRING","self",453],["T_DOUBLE_COLON","::",453],["T_STRING","CACHE_TAG",453],";",["T_WHITESPACE","\n        ",453],"}",["T_WHITESPACE","\n        ",454],["T_VARIABLE","$cacheLockId",455],["T_WHITESPACE"," ",455],"=",["T_WHITESPACE"," ",455],["T_VARIABLE","$this",455],["T_OBJECT_OPERATOR","->",455],["T_STRING","_getCacheLockId",455],"(",")",";",["T_WHITESPACE","\n        ",455],["T_IF","if",456],["T_WHITESPACE"," ",456],"(",["T_VARIABLE","$this",456],["T_OBJECT_OPERATOR","->",456],["T_STRING","_loadCache",456],"(",["T_VARIABLE","$cacheLockId",456],")",")",["T_WHITESPACE"," ",456],"{",["T_WHITESPACE","\n            ",456],["T_RETURN","return",457],["T_WHITESPACE"," ",457],["T_VARIABLE","$this",457],";",["T_WHITESPACE","\n        ",457],"}",["T_WHITESPACE","\n\n        ",458],["T_IF","if",460],["T_WHITESPACE"," ",460],"(","!",["T_EMPTY","empty",460],"(",["T_VARIABLE","$this",460],["T_OBJECT_OPERATOR","->",460],["T_STRING","_cacheSections",460],")",")",["T_WHITESPACE"," ",460],"{",["T_WHITESPACE","\n            ",460],["T_VARIABLE","$xml",461],["T_WHITESPACE"," ",461],"=",["T_WHITESPACE"," ",461],["T_CLONE","clone",461],["T_WHITESPACE"," ",461],["T_VARIABLE","$this",461],["T_OBJECT_OPERATOR","->",461],["T_STRING","_xml",461],";",["T_WHITESPACE","\n            ",461],["T_FOREACH","foreach",462],["T_WHITESPACE"," ",462],"(",["T_VARIABLE","$this",462],["T_OBJECT_OPERATOR","->",462],["T_STRING","_cacheSections",462],["T_WHITESPACE"," ",462],["T_AS","as",462],["T_WHITESPACE"," ",462],["T_VARIABLE","$sectionName",462],["T_WHITESPACE"," ",462],["T_DOUBLE_ARROW","=>",462],["T_WHITESPACE"," ",462],["T_VARIABLE","$level",462],")",["T_WHITESPACE"," ",462],"{",["T_WHITESPACE","\n                ",462],["T_VARIABLE","$this",463],["T_OBJECT_OPERATOR","->",463],["T_STRING","_saveSectionCache",463],"(",["T_VARIABLE","$this",463],["T_OBJECT_OPERATOR","->",463],["T_STRING","getCacheId",463],"(",")",",",["T_WHITESPACE"," ",463],["T_VARIABLE","$sectionName",463],",",["T_WHITESPACE"," ",463],["T_VARIABLE","$xml",463],",",["T_WHITESPACE"," ",463],["T_VARIABLE","$level",463],",",["T_WHITESPACE"," ",463],["T_VARIABLE","$tags",463],")",";",["T_WHITESPACE","\n                ",463],["T_UNSET","unset",464],"(",["T_VARIABLE","$xml",464],["T_OBJECT_OPERATOR","->",464],["T_VARIABLE","$sectionName",464],")",";",["T_WHITESPACE","\n            ",464],"}",["T_WHITESPACE","\n            ",465],["T_VARIABLE","$this",466],["T_OBJECT_OPERATOR","->",466],["T_STRING","_cachePartsForSave",466],"[",["T_VARIABLE","$this",466],["T_OBJECT_OPERATOR","->",466],["T_STRING","getCacheId",466],"(",")","]",["T_WHITESPACE"," ",466],"=",["T_WHITESPACE"," ",466],["T_VARIABLE","$xml",466],["T_OBJECT_OPERATOR","->",466],["T_STRING","asNiceXml",466],"(",["T_CONSTANT_ENCAPSED_STRING","''",466],",",["T_WHITESPACE"," ",466],["T_STRING","false",466],")",";",["T_WHITESPACE","\n        ",466],"}",["T_WHITESPACE"," ",467],["T_ELSE","else",467],["T_WHITESPACE"," ",467],"{",["T_WHITESPACE","\n            ",467],["T_RETURN","return",468],["T_WHITESPACE"," ",468],["T_STRING","parent",468],["T_DOUBLE_COLON","::",468],["T_STRING","saveCache",468],"(",["T_VARIABLE","$tags",468],")",";",["T_WHITESPACE","\n        ",468],"}",["T_WHITESPACE","\n\n        ",469],["T_VARIABLE","$this",471],["T_OBJECT_OPERATOR","->",471],["T_STRING","_saveCache",471],"(",["T_STRING","time",471],"(",")",",",["T_WHITESPACE"," ",471],["T_VARIABLE","$cacheLockId",471],",",["T_WHITESPACE"," ",471],["T_ARRAY","array",471],"(",")",",",["T_WHITESPACE"," ",471],["T_LNUMBER","60",471],")",";",["T_WHITESPACE","\n        ",471],["T_VARIABLE","$this",472],["T_OBJECT_OPERATOR","->",472],["T_STRING","removeCache",472],"(",")",";",["T_WHITESPACE","\n        ",472],["T_FOREACH","foreach",473],["T_WHITESPACE"," ",473],"(",["T_VARIABLE","$this",473],["T_OBJECT_OPERATOR","->",473],["T_STRING","_cachePartsForSave",473],["T_WHITESPACE"," ",473],["T_AS","as",473],["T_WHITESPACE"," ",473],["T_VARIABLE","$cacheId",473],["T_WHITESPACE"," ",473],["T_DOUBLE_ARROW","=>",473],["T_WHITESPACE"," ",473],["T_VARIABLE","$cacheData",473],")",["T_WHITESPACE"," ",473],"{",["T_WHITESPACE","\n            ",473],["T_VARIABLE","$this",474],["T_OBJECT_OPERATOR","->",474],["T_STRING","_saveCache",474],"(",["T_VARIABLE","$cacheData",474],",",["T_WHITESPACE"," ",474],["T_VARIABLE","$cacheId",474],",",["T_WHITESPACE"," ",474],["T_VARIABLE","$tags",474],",",["T_WHITESPACE"," ",474],["T_VARIABLE","$this",474],["T_OBJECT_OPERATOR","->",474],["T_STRING","getCacheLifetime",474],"(",")",")",";",["T_WHITESPACE","\n        ",474],"}",["T_WHITESPACE","\n        ",475],["T_UNSET","unset",476],"(",["T_VARIABLE","$this",476],["T_OBJECT_OPERATOR","->",476],["T_STRING","_cachePartsForSave",476],")",";",["T_WHITESPACE","\n        ",476],["T_VARIABLE","$this",477],["T_OBJECT_OPERATOR","->",477],["T_STRING","_removeCache",477],"(",["T_VARIABLE","$cacheLockId",477],")",";",["T_WHITESPACE","\n        ",477],["T_RETURN","return",478],["T_WHITESPACE"," ",478],["T_VARIABLE","$this",478],";",["T_WHITESPACE","\n    ",478],"}",["T_WHITESPACE","\n\n    ",479],["T_DOC_COMMENT","\/**\n     * Save cache of specified\n     *\n     * @param   string $idPrefix cache id prefix\n     * @param   string $sectionName\n     * @param   Varien_Simplexml_Element $source\n     * @param   int $recursionLevel\n     * @return  Mage_Core_Model_Config\n     *\/",481],["T_WHITESPACE","\n    ",489],["T_PROTECTED","protected",490],["T_WHITESPACE"," ",490],["T_FUNCTION","function",490],["T_WHITESPACE"," ",490],["T_STRING","_saveSectionCache",490],"(",["T_VARIABLE","$idPrefix",490],",",["T_WHITESPACE"," ",490],["T_VARIABLE","$sectionName",490],",",["T_WHITESPACE"," ",490],["T_VARIABLE","$source",490],",",["T_WHITESPACE"," ",490],["T_VARIABLE","$recursionLevel",490],"=",["T_LNUMBER","0",490],",",["T_WHITESPACE"," ",490],["T_VARIABLE","$tags",490],"=",["T_ARRAY","array",490],"(",")",")",["T_WHITESPACE","\n    ",490],"{",["T_WHITESPACE","\n        ",491],["T_IF","if",492],["T_WHITESPACE"," ",492],"(",["T_VARIABLE","$source",492],["T_WHITESPACE"," ",492],["T_BOOLEAN_AND","&&",492],["T_WHITESPACE"," ",492],["T_VARIABLE","$source",492],["T_OBJECT_OPERATOR","->",492],["T_VARIABLE","$sectionName",492],")",["T_WHITESPACE"," ",492],"{",["T_WHITESPACE","\n            ",492],["T_VARIABLE","$cacheId",493],["T_WHITESPACE"," ",493],"=",["T_WHITESPACE"," ",493],["T_VARIABLE","$idPrefix",493],["T_WHITESPACE"," ",493],".",["T_WHITESPACE"," ",493],["T_CONSTANT_ENCAPSED_STRING","'_'",493],["T_WHITESPACE"," ",493],".",["T_WHITESPACE"," ",493],["T_VARIABLE","$sectionName",493],";",["T_WHITESPACE","\n            ",493],["T_IF","if",494],["T_WHITESPACE"," ",494],"(",["T_VARIABLE","$recursionLevel",494],["T_WHITESPACE"," ",494],">",["T_WHITESPACE"," ",494],["T_LNUMBER","0",494],")",["T_WHITESPACE"," ",494],"{",["T_WHITESPACE","\n                ",494],["T_FOREACH","foreach",495],["T_WHITESPACE"," ",495],"(",["T_VARIABLE","$source",495],["T_OBJECT_OPERATOR","->",495],["T_VARIABLE","$sectionName",495],["T_OBJECT_OPERATOR","->",495],["T_STRING","children",495],"(",")",["T_WHITESPACE"," ",495],["T_AS","as",495],["T_WHITESPACE"," ",495],["T_VARIABLE","$subSectionName",495],["T_WHITESPACE"," ",495],["T_DOUBLE_ARROW","=>",495],["T_WHITESPACE"," ",495],["T_VARIABLE","$node",495],")",["T_WHITESPACE"," ",495],"{",["T_WHITESPACE","\n                    ",495],["T_VARIABLE","$this",496],["T_OBJECT_OPERATOR","->",496],["T_STRING","_saveSectionCache",496],"(",["T_WHITESPACE","\n                        ",496],["T_VARIABLE","$cacheId",497],",",["T_WHITESPACE"," ",497],["T_VARIABLE","$subSectionName",497],",",["T_WHITESPACE"," ",497],["T_VARIABLE","$source",497],["T_OBJECT_OPERATOR","->",497],["T_VARIABLE","$sectionName",497],",",["T_WHITESPACE"," ",497],["T_VARIABLE","$recursionLevel",497],"-",["T_LNUMBER","1",497],",",["T_WHITESPACE"," ",497],["T_VARIABLE","$tags",497],["T_WHITESPACE","\n                    ",497],")",";",["T_WHITESPACE","\n                ",498],"}",["T_WHITESPACE","\n            ",499],"}",["T_WHITESPACE","\n            ",500],["T_VARIABLE","$this",501],["T_OBJECT_OPERATOR","->",501],["T_STRING","_cachePartsForSave",501],"[",["T_VARIABLE","$cacheId",501],"]",["T_WHITESPACE"," ",501],"=",["T_WHITESPACE"," ",501],["T_VARIABLE","$source",501],["T_OBJECT_OPERATOR","->",501],["T_VARIABLE","$sectionName",501],["T_OBJECT_OPERATOR","->",501],["T_STRING","asNiceXml",501],"(",["T_CONSTANT_ENCAPSED_STRING","''",501],",",["T_WHITESPACE"," ",501],["T_STRING","false",501],")",";",["T_WHITESPACE","\n        ",501],"}",["T_WHITESPACE","\n        ",502],["T_RETURN","return",503],["T_WHITESPACE"," ",503],["T_VARIABLE","$this",503],";",["T_WHITESPACE","\n    ",503],"}",["T_WHITESPACE","\n\n    ",504],["T_DOC_COMMENT","\/**\n     * Load config section cached data\n     *\n     * @param   string $sectionName\n     * @return  Varien_Simplexml_Element\n     *\/",506],["T_WHITESPACE","\n    ",511],["T_PROTECTED","protected",512],["T_WHITESPACE"," ",512],["T_FUNCTION","function",512],["T_WHITESPACE"," ",512],["T_STRING","_loadSectionCache",512],"(",["T_VARIABLE","$sectionName",512],")",["T_WHITESPACE","\n    ",512],"{",["T_WHITESPACE","\n        ",513],["T_VARIABLE","$cacheId",514],["T_WHITESPACE"," ",514],"=",["T_WHITESPACE"," ",514],["T_VARIABLE","$this",514],["T_OBJECT_OPERATOR","->",514],["T_STRING","getCacheId",514],"(",")",["T_WHITESPACE"," ",514],".",["T_WHITESPACE"," ",514],["T_CONSTANT_ENCAPSED_STRING","'_'",514],["T_WHITESPACE"," ",514],".",["T_WHITESPACE"," ",514],["T_VARIABLE","$sectionName",514],";",["T_WHITESPACE","\n        ",514],["T_VARIABLE","$xmlString",515],["T_WHITESPACE"," ",515],"=",["T_WHITESPACE"," ",515],["T_VARIABLE","$this",515],["T_OBJECT_OPERATOR","->",515],["T_STRING","_loadCache",515],"(",["T_VARIABLE","$cacheId",515],")",";",["T_WHITESPACE","\n\n        ",515],["T_DOC_COMMENT","\/**\n         * If we can't load section cache (problems with cache storage)\n         *\/",517],["T_WHITESPACE","\n        ",519],["T_IF","if",520],["T_WHITESPACE"," ",520],"(","!",["T_VARIABLE","$xmlString",520],")",["T_WHITESPACE"," ",520],"{",["T_WHITESPACE","\n            ",520],["T_VARIABLE","$this",521],["T_OBJECT_OPERATOR","->",521],["T_STRING","_useCache",521],["T_WHITESPACE"," ",521],"=",["T_WHITESPACE"," ",521],["T_STRING","false",521],";",["T_WHITESPACE","\n            ",521],["T_VARIABLE","$this",522],["T_OBJECT_OPERATOR","->",522],["T_STRING","reinit",522],"(",["T_VARIABLE","$this",522],["T_OBJECT_OPERATOR","->",522],["T_STRING","_options",522],")",";",["T_WHITESPACE","\n            ",522],["T_RETURN","return",523],["T_WHITESPACE"," ",523],["T_STRING","false",523],";",["T_WHITESPACE","\n        ",523],"}",["T_WHITESPACE"," ",524],["T_ELSE","else",524],["T_WHITESPACE"," ",524],"{",["T_WHITESPACE","\n            ",524],["T_VARIABLE","$xml",525],["T_WHITESPACE"," ",525],"=",["T_WHITESPACE"," ",525],["T_STRING","simplexml_load_string",525],"(",["T_VARIABLE","$xmlString",525],",",["T_WHITESPACE"," ",525],["T_VARIABLE","$this",525],["T_OBJECT_OPERATOR","->",525],["T_STRING","_elementClass",525],")",";",["T_WHITESPACE","\n            ",525],["T_RETURN","return",526],["T_WHITESPACE"," ",526],["T_VARIABLE","$xml",526],";",["T_WHITESPACE","\n        ",526],"}",["T_WHITESPACE","\n    ",527],"}",["T_WHITESPACE","\n\n    ",528],["T_DOC_COMMENT","\/**\n     * Load cached data by identifier\n     *\n     * @param   string $id\n     * @return  string\n     *\/",530],["T_WHITESPACE","\n    ",535],["T_PROTECTED","protected",536],["T_WHITESPACE"," ",536],["T_FUNCTION","function",536],["T_WHITESPACE"," ",536],["T_STRING","_loadCache",536],"(",["T_VARIABLE","$id",536],")",["T_WHITESPACE","\n    ",536],"{",["T_WHITESPACE","\n        ",537],["T_RETURN","return",538],["T_WHITESPACE"," ",538],["T_STRING","Mage",538],["T_DOUBLE_COLON","::",538],["T_STRING","app",538],"(",")",["T_OBJECT_OPERATOR","->",538],["T_STRING","loadCache",538],"(",["T_VARIABLE","$id",538],")",";",["T_WHITESPACE","\n    ",538],"}",["T_WHITESPACE","\n\n    ",539],["T_DOC_COMMENT","\/**\n     * Save cache data\n     *\n     * @param   string $data\n     * @param   string $id\n     * @param   array $tags\n     * @param   false|int $lifetime\n     * @return  Mage_Core_Model_Config\n     *\/",541],["T_WHITESPACE","\n    ",549],["T_PROTECTED","protected",550],["T_WHITESPACE"," ",550],["T_FUNCTION","function",550],["T_WHITESPACE"," ",550],["T_STRING","_saveCache",550],"(",["T_VARIABLE","$data",550],",",["T_WHITESPACE"," ",550],["T_VARIABLE","$id",550],",",["T_WHITESPACE"," ",550],["T_VARIABLE","$tags",550],"=",["T_ARRAY","array",550],"(",")",",",["T_WHITESPACE"," ",550],["T_VARIABLE","$lifetime",550],"=",["T_STRING","false",550],")",["T_WHITESPACE","\n    ",550],"{",["T_WHITESPACE","\n        ",551],["T_RETURN","return",552],["T_WHITESPACE"," ",552],["T_STRING","Mage",552],["T_DOUBLE_COLON","::",552],["T_STRING","app",552],"(",")",["T_OBJECT_OPERATOR","->",552],["T_STRING","saveCache",552],"(",["T_VARIABLE","$data",552],",",["T_WHITESPACE"," ",552],["T_VARIABLE","$id",552],",",["T_WHITESPACE"," ",552],["T_VARIABLE","$tags",552],",",["T_WHITESPACE"," ",552],["T_VARIABLE","$lifetime",552],")",";",["T_WHITESPACE","\n    ",552],"}",["T_WHITESPACE","\n\n    ",553],["T_DOC_COMMENT","\/**\n     * Clear cache data by id\n     *\n     * @param   string $id\n     * @return  Mage_Core_Model_Config\n     *\/",555],["T_WHITESPACE","\n    ",560],["T_PROTECTED","protected",561],["T_WHITESPACE"," ",561],["T_FUNCTION","function",561],["T_WHITESPACE"," ",561],["T_STRING","_removeCache",561],"(",["T_VARIABLE","$id",561],")",["T_WHITESPACE","\n    ",561],"{",["T_WHITESPACE","\n        ",562],["T_RETURN","return",563],["T_WHITESPACE"," ",563],["T_STRING","Mage",563],["T_DOUBLE_COLON","::",563],["T_STRING","app",563],"(",")",["T_OBJECT_OPERATOR","->",563],["T_STRING","removeCache",563],"(",["T_VARIABLE","$id",563],")",";",["T_WHITESPACE","\n    ",563],"}",["T_WHITESPACE","\n\n    ",564],["T_DOC_COMMENT","\/**\n     * Remove configuration cache\n     *\n     * @return Mage_Core_Model_Config\n     *\/",566],["T_WHITESPACE","\n    ",570],["T_PUBLIC","public",571],["T_WHITESPACE"," ",571],["T_FUNCTION","function",571],["T_WHITESPACE"," ",571],["T_STRING","removeCache",571],"(",")",["T_WHITESPACE","\n    ",571],"{",["T_WHITESPACE","\n        ",572],["T_STRING","Mage",573],["T_DOUBLE_COLON","::",573],["T_STRING","app",573],"(",")",["T_OBJECT_OPERATOR","->",573],["T_STRING","cleanCache",573],"(",["T_ARRAY","array",573],"(",["T_STRING","self",573],["T_DOUBLE_COLON","::",573],["T_STRING","CACHE_TAG",573],")",")",";",["T_WHITESPACE","\n        ",573],["T_RETURN","return",574],["T_WHITESPACE"," ",574],["T_STRING","parent",574],["T_DOUBLE_COLON","::",574],["T_STRING","removeCache",574],"(",")",";",["T_WHITESPACE","\n    ",574],"}",["T_WHITESPACE","\n\n    ",575],["T_DOC_COMMENT","\/**\n     * Configuration cache clean process\n     *\n     * @return Mage_Core_Model_Config\n     *\/",577],["T_WHITESPACE","\n    ",581],["T_PUBLIC","public",582],["T_WHITESPACE"," ",582],["T_FUNCTION","function",582],["T_WHITESPACE"," ",582],["T_STRING","cleanCache",582],"(",")",["T_WHITESPACE","\n    ",582],"{",["T_WHITESPACE","\n        ",583],["T_RETURN","return",584],["T_WHITESPACE"," ",584],["T_VARIABLE","$this",584],["T_OBJECT_OPERATOR","->",584],["T_STRING","reinit",584],"(",")",";",["T_WHITESPACE","\n    ",584],"}",["T_WHITESPACE","\n\n    ",585],["T_DOC_COMMENT","\/**\n     * Getter for section configuration object\n     *\n     * @param array $path\n     * @return Mage_Core_Model_Config_Element\n     *\/",587],["T_WHITESPACE","\n    ",592],["T_PROTECTED","protected",593],["T_WHITESPACE"," ",593],["T_FUNCTION","function",593],["T_WHITESPACE"," ",593],["T_STRING","_getSectionConfig",593],"(",["T_VARIABLE","$path",593],")",["T_WHITESPACE","\n    ",593],"{",["T_WHITESPACE","\n        ",594],["T_VARIABLE","$section",595],["T_WHITESPACE"," ",595],"=",["T_WHITESPACE"," ",595],["T_VARIABLE","$path",595],"[",["T_LNUMBER","0",595],"]",";",["T_WHITESPACE","\n        ",595],["T_IF","if",596],["T_WHITESPACE"," ",596],"(","!",["T_ISSET","isset",596],"(",["T_VARIABLE","$this",596],["T_OBJECT_OPERATOR","->",596],["T_STRING","_cacheSections",596],"[",["T_VARIABLE","$section",596],"]",")",")",["T_WHITESPACE"," ",596],"{",["T_WHITESPACE","\n            ",596],["T_RETURN","return",597],["T_WHITESPACE"," ",597],["T_STRING","false",597],";",["T_WHITESPACE","\n        ",597],"}",["T_WHITESPACE","\n        ",598],["T_VARIABLE","$sectionPath",599],["T_WHITESPACE"," ",599],"=",["T_WHITESPACE"," ",599],["T_STRING","array_slice",599],"(",["T_VARIABLE","$path",599],",",["T_WHITESPACE"," ",599],["T_LNUMBER","0",599],",",["T_WHITESPACE"," ",599],["T_VARIABLE","$this",599],["T_OBJECT_OPERATOR","->",599],["T_STRING","_cacheSections",599],"[",["T_VARIABLE","$section",599],"]","+",["T_LNUMBER","1",599],")",";",["T_WHITESPACE","\n        ",599],["T_VARIABLE","$sectionKey",600],["T_WHITESPACE"," ",600],"=",["T_WHITESPACE"," ",600],["T_STRING","implode",600],"(",["T_CONSTANT_ENCAPSED_STRING","'_'",600],",",["T_WHITESPACE"," ",600],["T_VARIABLE","$sectionPath",600],")",";",["T_WHITESPACE","\n\n        ",600],["T_IF","if",602],["T_WHITESPACE"," ",602],"(","!",["T_ISSET","isset",602],"(",["T_VARIABLE","$this",602],["T_OBJECT_OPERATOR","->",602],["T_STRING","_cacheLoadedSections",602],"[",["T_VARIABLE","$sectionKey",602],"]",")",")",["T_WHITESPACE"," ",602],"{",["T_WHITESPACE","\n            ",602],["T_STRING","Varien_Profiler",603],["T_DOUBLE_COLON","::",603],["T_STRING","start",603],"(",["T_CONSTANT_ENCAPSED_STRING","'init_config_section:'",603],["T_WHITESPACE"," ",603],".",["T_WHITESPACE"," ",603],["T_VARIABLE","$sectionKey",603],")",";",["T_WHITESPACE","\n            ",603],["T_VARIABLE","$this",604],["T_OBJECT_OPERATOR","->",604],["T_STRING","_cacheLoadedSections",604],"[",["T_VARIABLE","$sectionKey",604],"]",["T_WHITESPACE"," ",604],"=",["T_WHITESPACE"," ",604],["T_VARIABLE","$this",604],["T_OBJECT_OPERATOR","->",604],["T_STRING","_loadSectionCache",604],"(",["T_VARIABLE","$sectionKey",604],")",";",["T_WHITESPACE","\n            ",604],["T_STRING","Varien_Profiler",605],["T_DOUBLE_COLON","::",605],["T_STRING","stop",605],"(",["T_CONSTANT_ENCAPSED_STRING","'init_config_section:'",605],["T_WHITESPACE"," ",605],".",["T_WHITESPACE"," ",605],["T_VARIABLE","$sectionKey",605],")",";",["T_WHITESPACE","\n        ",605],"}",["T_WHITESPACE","\n\n        ",606],["T_IF","if",608],["T_WHITESPACE"," ",608],"(",["T_VARIABLE","$this",608],["T_OBJECT_OPERATOR","->",608],["T_STRING","_cacheLoadedSections",608],"[",["T_VARIABLE","$sectionKey",608],"]",["T_WHITESPACE"," ",608],["T_IS_IDENTICAL","===",608],["T_WHITESPACE"," ",608],["T_STRING","false",608],")",["T_WHITESPACE"," ",608],"{",["T_WHITESPACE","\n            ",608],["T_RETURN","return",609],["T_WHITESPACE"," ",609],["T_STRING","false",609],";",["T_WHITESPACE","\n        ",609],"}",["T_WHITESPACE","\n        ",610],["T_RETURN","return",611],["T_WHITESPACE"," ",611],["T_VARIABLE","$this",611],["T_OBJECT_OPERATOR","->",611],["T_STRING","_cacheLoadedSections",611],"[",["T_VARIABLE","$sectionKey",611],"]",";",["T_WHITESPACE","\n    ",611],"}",["T_WHITESPACE","\n\n    ",612],["T_DOC_COMMENT","\/**\n     * Get node value from cached section data\n     *\n     * @param   array $path\n     * @return  Mage_Core_Model_Config\n     *\/",614],["T_WHITESPACE","\n    ",619],["T_PUBLIC","public",620],["T_WHITESPACE"," ",620],["T_FUNCTION","function",620],["T_WHITESPACE"," ",620],["T_STRING","getSectionNode",620],"(",["T_VARIABLE","$path",620],")",["T_WHITESPACE","\n    ",620],"{",["T_WHITESPACE","\n        ",621],["T_VARIABLE","$section",622],["T_WHITESPACE","    ",622],"=",["T_WHITESPACE"," ",622],["T_VARIABLE","$path",622],"[",["T_LNUMBER","0",622],"]",";",["T_WHITESPACE","\n        ",622],["T_VARIABLE","$config",623],["T_WHITESPACE","     ",623],"=",["T_WHITESPACE"," ",623],["T_VARIABLE","$this",623],["T_OBJECT_OPERATOR","->",623],["T_STRING","_getSectionConfig",623],"(",["T_VARIABLE","$path",623],")",";",["T_WHITESPACE","\n        ",623],["T_VARIABLE","$path",624],["T_WHITESPACE","       ",624],"=",["T_WHITESPACE"," ",624],["T_STRING","array_slice",624],"(",["T_VARIABLE","$path",624],",",["T_WHITESPACE"," ",624],["T_VARIABLE","$this",624],["T_OBJECT_OPERATOR","->",624],["T_STRING","_cacheSections",624],"[",["T_VARIABLE","$section",624],"]",["T_WHITESPACE"," ",624],"+",["T_WHITESPACE"," ",624],["T_LNUMBER","1",624],")",";",["T_WHITESPACE","\n        ",624],["T_IF","if",625],["T_WHITESPACE"," ",625],"(",["T_VARIABLE","$config",625],")",["T_WHITESPACE"," ",625],"{",["T_WHITESPACE","\n            ",625],["T_RETURN","return",626],["T_WHITESPACE"," ",626],["T_VARIABLE","$config",626],["T_OBJECT_OPERATOR","->",626],["T_STRING","descend",626],"(",["T_VARIABLE","$path",626],")",";",["T_WHITESPACE","\n        ",626],"}",["T_WHITESPACE","\n        ",627],["T_RETURN","return",628],["T_WHITESPACE"," ",628],["T_STRING","false",628],";",["T_WHITESPACE","\n    ",628],"}",["T_WHITESPACE","\n\n    ",629],["T_DOC_COMMENT","\/**\n     * Returns node found by the $path and scope info\n     *\n     * @param   string $path\n     * @param   string $scope\n     * @param   string|int $scopeCode\n     * @return Mage_Core_Model_Config_Element\n     *\/",631],["T_WHITESPACE","\n    ",638],["T_PUBLIC","public",639],["T_WHITESPACE"," ",639],["T_FUNCTION","function",639],["T_WHITESPACE"," ",639],["T_STRING","getNode",639],"(",["T_VARIABLE","$path",639],"=",["T_STRING","null",639],",",["T_WHITESPACE"," ",639],["T_VARIABLE","$scope",639],"=",["T_CONSTANT_ENCAPSED_STRING","''",639],",",["T_WHITESPACE"," ",639],["T_VARIABLE","$scopeCode",639],"=",["T_STRING","null",639],")",["T_WHITESPACE","\n    ",639],"{",["T_WHITESPACE","\n        ",640],["T_IF","if",641],["T_WHITESPACE"," ",641],"(",["T_VARIABLE","$scope",641],["T_WHITESPACE"," ",641],["T_IS_NOT_IDENTICAL","!==",641],["T_WHITESPACE"," ",641],["T_CONSTANT_ENCAPSED_STRING","''",641],")",["T_WHITESPACE"," ",641],"{",["T_WHITESPACE","\n            ",641],["T_IF","if",642],["T_WHITESPACE"," ",642],"(","(",["T_CONSTANT_ENCAPSED_STRING","'store'",642],["T_WHITESPACE"," ",642],["T_IS_IDENTICAL","===",642],["T_WHITESPACE"," ",642],["T_VARIABLE","$scope",642],")",["T_WHITESPACE"," ",642],["T_BOOLEAN_OR","||",642],["T_WHITESPACE"," ",642],"(",["T_CONSTANT_ENCAPSED_STRING","'website'",642],["T_WHITESPACE"," ",642],["T_IS_IDENTICAL","===",642],["T_WHITESPACE"," ",642],["T_VARIABLE","$scope",642],")",")",["T_WHITESPACE"," ",642],"{",["T_WHITESPACE","\n                ",642],["T_VARIABLE","$scope",643],["T_WHITESPACE"," ",643],["T_CONCAT_EQUAL",".=",643],["T_WHITESPACE"," ",643],["T_CONSTANT_ENCAPSED_STRING","'s'",643],";",["T_WHITESPACE","\n            ",643],"}",["T_WHITESPACE","\n            ",644],["T_IF","if",645],["T_WHITESPACE"," ",645],"(","(",["T_CONSTANT_ENCAPSED_STRING","'default'",645],["T_WHITESPACE"," ",645],["T_IS_NOT_IDENTICAL","!==",645],["T_WHITESPACE"," ",645],["T_VARIABLE","$scope",645],")",["T_WHITESPACE"," ",645],["T_BOOLEAN_AND","&&",645],["T_WHITESPACE"," ",645],["T_STRING","is_int",645],"(",["T_VARIABLE","$scopeCode",645],")",")",["T_WHITESPACE"," ",645],"{",["T_WHITESPACE","\n                ",645],["T_IF","if",646],["T_WHITESPACE"," ",646],"(",["T_CONSTANT_ENCAPSED_STRING","'stores'",646],["T_WHITESPACE"," ",646],["T_IS_EQUAL","==",646],["T_WHITESPACE"," ",646],["T_VARIABLE","$scope",646],")",["T_WHITESPACE"," ",646],"{",["T_WHITESPACE","\n                    ",646],["T_VARIABLE","$scopeCode",647],["T_WHITESPACE"," ",647],"=",["T_WHITESPACE"," ",647],["T_STRING","Mage",647],["T_DOUBLE_COLON","::",647],["T_STRING","app",647],"(",")",["T_OBJECT_OPERATOR","->",647],["T_STRING","getStore",647],"(",["T_VARIABLE","$scopeCode",647],")",["T_OBJECT_OPERATOR","->",647],["T_STRING","getCode",647],"(",")",";",["T_WHITESPACE","\n                ",647],"}",["T_WHITESPACE"," ",648],["T_ELSEIF","elseif",648],["T_WHITESPACE"," ",648],"(",["T_CONSTANT_ENCAPSED_STRING","'websites'",648],["T_WHITESPACE"," ",648],["T_IS_EQUAL","==",648],["T_WHITESPACE"," ",648],["T_VARIABLE","$scope",648],")",["T_WHITESPACE"," ",648],"{",["T_WHITESPACE","\n                    ",648],["T_VARIABLE","$scopeCode",649],["T_WHITESPACE"," ",649],"=",["T_WHITESPACE"," ",649],["T_STRING","Mage",649],["T_DOUBLE_COLON","::",649],["T_STRING","app",649],"(",")",["T_OBJECT_OPERATOR","->",649],["T_STRING","getWebsite",649],"(",["T_VARIABLE","$scopeCode",649],")",["T_OBJECT_OPERATOR","->",649],["T_STRING","getCode",649],"(",")",";",["T_WHITESPACE","\n                ",649],"}",["T_WHITESPACE"," ",650],["T_ELSE","else",650],["T_WHITESPACE"," ",650],"{",["T_WHITESPACE","\n                    ",650],["T_STRING","Mage",651],["T_DOUBLE_COLON","::",651],["T_STRING","throwException",651],"(",["T_STRING","Mage",651],["T_DOUBLE_COLON","::",651],["T_STRING","helper",651],"(",["T_CONSTANT_ENCAPSED_STRING","'core'",651],")",["T_OBJECT_OPERATOR","->",651],["T_STRING","__",651],"(",["T_CONSTANT_ENCAPSED_STRING","'Unknown scope \"%s\".'",651],",",["T_WHITESPACE"," ",651],["T_VARIABLE","$scope",651],")",")",";",["T_WHITESPACE","\n                ",651],"}",["T_WHITESPACE","\n            ",652],"}",["T_WHITESPACE","\n            ",653],["T_VARIABLE","$path",654],["T_WHITESPACE"," ",654],"=",["T_WHITESPACE"," ",654],["T_VARIABLE","$scope",654],["T_WHITESPACE"," ",654],".",["T_WHITESPACE"," ",654],"(",["T_VARIABLE","$scopeCode",654],["T_WHITESPACE"," ",654],"?",["T_WHITESPACE"," ",654],["T_CONSTANT_ENCAPSED_STRING","'\/'",654],["T_WHITESPACE"," ",654],".",["T_WHITESPACE"," ",654],["T_VARIABLE","$scopeCode",654],["T_WHITESPACE"," ",654],":",["T_WHITESPACE"," ",654],["T_CONSTANT_ENCAPSED_STRING","''",654],["T_WHITESPACE"," ",654],")",["T_WHITESPACE"," ",654],".",["T_WHITESPACE"," ",654],"(",["T_EMPTY","empty",654],"(",["T_VARIABLE","$path",654],")",["T_WHITESPACE"," ",654],"?",["T_WHITESPACE"," ",654],["T_CONSTANT_ENCAPSED_STRING","''",654],["T_WHITESPACE"," ",654],":",["T_WHITESPACE"," ",654],["T_CONSTANT_ENCAPSED_STRING","'\/'",654],["T_WHITESPACE"," ",654],".",["T_WHITESPACE"," ",654],["T_VARIABLE","$path",654],")",";",["T_WHITESPACE","\n        ",654],"}",["T_WHITESPACE","\n\n        ",655],["T_DOC_COMMENT","\/**\n         * Check path cache loading\n         *\/",657],["T_WHITESPACE","\n        ",659],["T_IF","if",660],["T_WHITESPACE"," ",660],"(",["T_VARIABLE","$this",660],["T_OBJECT_OPERATOR","->",660],["T_STRING","_useCache",660],["T_WHITESPACE"," ",660],["T_BOOLEAN_AND","&&",660],["T_WHITESPACE"," ",660],"(",["T_VARIABLE","$path",660],["T_WHITESPACE"," ",660],["T_IS_NOT_IDENTICAL","!==",660],["T_WHITESPACE"," ",660],["T_STRING","null",660],")",")",["T_WHITESPACE"," ",660],"{",["T_WHITESPACE","\n            ",660],["T_VARIABLE","$path",661],["T_WHITESPACE","   ",661],"=",["T_WHITESPACE"," ",661],["T_STRING","explode",661],"(",["T_CONSTANT_ENCAPSED_STRING","'\/'",661],",",["T_WHITESPACE"," ",661],["T_VARIABLE","$path",661],")",";",["T_WHITESPACE","\n            ",661],["T_VARIABLE","$section",662],"=",["T_WHITESPACE"," ",662],["T_VARIABLE","$path",662],"[",["T_LNUMBER","0",662],"]",";",["T_WHITESPACE","\n            ",662],["T_IF","if",663],["T_WHITESPACE"," ",663],"(",["T_ISSET","isset",663],"(",["T_VARIABLE","$this",663],["T_OBJECT_OPERATOR","->",663],["T_STRING","_cacheSections",663],"[",["T_VARIABLE","$section",663],"]",")",")",["T_WHITESPACE"," ",663],"{",["T_WHITESPACE","\n                ",663],["T_VARIABLE","$res",664],["T_WHITESPACE"," ",664],"=",["T_WHITESPACE"," ",664],["T_VARIABLE","$this",664],["T_OBJECT_OPERATOR","->",664],["T_STRING","getSectionNode",664],"(",["T_VARIABLE","$path",664],")",";",["T_WHITESPACE","\n                ",664],["T_IF","if",665],["T_WHITESPACE"," ",665],"(",["T_VARIABLE","$res",665],["T_WHITESPACE"," ",665],["T_IS_NOT_IDENTICAL","!==",665],["T_WHITESPACE"," ",665],["T_STRING","false",665],")",["T_WHITESPACE"," ",665],"{",["T_WHITESPACE","\n                    ",665],["T_RETURN","return",666],["T_WHITESPACE"," ",666],["T_VARIABLE","$res",666],";",["T_WHITESPACE","\n                ",666],"}",["T_WHITESPACE","\n            ",667],"}",["T_WHITESPACE","\n        ",668],"}",["T_WHITESPACE","\n        ",669],["T_RETURN","return",670],["T_WHITESPACE","  ",670],["T_STRING","parent",670],["T_DOUBLE_COLON","::",670],["T_STRING","getNode",670],"(",["T_VARIABLE","$path",670],")",";",["T_WHITESPACE","\n    ",670],"}",["T_WHITESPACE","\n\n    ",671],["T_DOC_COMMENT","\/**\n     * Create node by $path and set its value.\n     *\n     * @param string $path separated by slashes\n     * @param string $value\n     * @param bool $overwrite\n     * @return Varien_Simplexml_Config\n     *\/",673],["T_WHITESPACE","\n    ",680],["T_PUBLIC","public",681],["T_WHITESPACE"," ",681],["T_FUNCTION","function",681],["T_WHITESPACE"," ",681],["T_STRING","setNode",681],"(",["T_VARIABLE","$path",681],",",["T_WHITESPACE"," ",681],["T_VARIABLE","$value",681],",",["T_WHITESPACE"," ",681],["T_VARIABLE","$overwrite",681],["T_WHITESPACE"," ",681],"=",["T_WHITESPACE"," ",681],["T_STRING","true",681],")",["T_WHITESPACE","\n    ",681],"{",["T_WHITESPACE","\n        ",682],["T_IF","if",683],["T_WHITESPACE"," ",683],"(",["T_VARIABLE","$this",683],["T_OBJECT_OPERATOR","->",683],["T_STRING","_useCache",683],["T_WHITESPACE"," ",683],["T_BOOLEAN_AND","&&",683],["T_WHITESPACE"," ",683],"(",["T_VARIABLE","$path",683],["T_WHITESPACE"," ",683],["T_IS_NOT_IDENTICAL","!==",683],["T_WHITESPACE"," ",683],["T_STRING","null",683],")",")",["T_WHITESPACE"," ",683],"{",["T_WHITESPACE","\n            ",683],["T_VARIABLE","$sectionPath",684],["T_WHITESPACE"," ",684],"=",["T_WHITESPACE"," ",684],["T_STRING","explode",684],"(",["T_CONSTANT_ENCAPSED_STRING","'\/'",684],",",["T_WHITESPACE"," ",684],["T_VARIABLE","$path",684],")",";",["T_WHITESPACE","\n            ",684],["T_VARIABLE","$config",685],["T_WHITESPACE"," ",685],"=",["T_WHITESPACE"," ",685],["T_VARIABLE","$this",685],["T_OBJECT_OPERATOR","->",685],["T_STRING","_getSectionConfig",685],"(",["T_VARIABLE","$sectionPath",685],")",";",["T_WHITESPACE","\n            ",685],["T_IF","if",686],["T_WHITESPACE"," ",686],"(",["T_VARIABLE","$config",686],")",["T_WHITESPACE"," ",686],"{",["T_WHITESPACE","\n                ",686],["T_VARIABLE","$sectionPath",687],["T_WHITESPACE"," ",687],"=",["T_WHITESPACE"," ",687],["T_STRING","array_slice",687],"(",["T_VARIABLE","$sectionPath",687],",",["T_WHITESPACE"," ",687],["T_VARIABLE","$this",687],["T_OBJECT_OPERATOR","->",687],["T_STRING","_cacheSections",687],"[",["T_VARIABLE","$sectionPath",687],"[",["T_LNUMBER","0",687],"]","]","+",["T_LNUMBER","1",687],")",";",["T_WHITESPACE","\n                ",687],["T_VARIABLE","$sectionPath",688],["T_WHITESPACE"," ",688],"=",["T_WHITESPACE"," ",688],["T_STRING","implode",688],"(",["T_CONSTANT_ENCAPSED_STRING","'\/'",688],",",["T_WHITESPACE"," ",688],["T_VARIABLE","$sectionPath",688],")",";",["T_WHITESPACE","\n                ",688],["T_VARIABLE","$config",689],["T_OBJECT_OPERATOR","->",689],["T_STRING","setNode",689],"(",["T_VARIABLE","$sectionPath",689],",",["T_WHITESPACE"," ",689],["T_VARIABLE","$value",689],",",["T_WHITESPACE"," ",689],["T_VARIABLE","$overwrite",689],")",";",["T_WHITESPACE","\n            ",689],"}",["T_WHITESPACE","\n        ",690],"}",["T_WHITESPACE","\n        ",691],["T_RETURN","return",692],["T_WHITESPACE"," ",692],["T_STRING","parent",692],["T_DOUBLE_COLON","::",692],["T_STRING","setNode",692],"(",["T_VARIABLE","$path",692],",",["T_WHITESPACE"," ",692],["T_VARIABLE","$value",692],",",["T_WHITESPACE"," ",692],["T_VARIABLE","$overwrite",692],")",";",["T_WHITESPACE","\n    ",692],"}",["T_WHITESPACE","\n\n\n    ",693],["T_DOC_COMMENT","\/**\n     * Retrive Declared Module file list\n     *\n     * @return array\n     *\/",696],["T_WHITESPACE","\n    ",700],["T_PROTECTED","protected",701],["T_WHITESPACE"," ",701],["T_FUNCTION","function",701],["T_WHITESPACE"," ",701],["T_STRING","_getDeclaredModuleFiles",701],"(",")",["T_WHITESPACE","\n    ",701],"{",["T_WHITESPACE","\n        ",702],["T_VARIABLE","$etcDir",703],["T_WHITESPACE"," ",703],"=",["T_WHITESPACE"," ",703],["T_VARIABLE","$this",703],["T_OBJECT_OPERATOR","->",703],["T_STRING","getOptions",703],"(",")",["T_OBJECT_OPERATOR","->",703],["T_STRING","getEtcDir",703],"(",")",";",["T_WHITESPACE","\n        ",703],["T_VARIABLE","$moduleFiles",704],["T_WHITESPACE"," ",704],"=",["T_WHITESPACE"," ",704],["T_STRING","glob",704],"(",["T_VARIABLE","$etcDir",704],["T_WHITESPACE"," ",704],".",["T_WHITESPACE"," ",704],["T_STRING","DS",704],["T_WHITESPACE"," ",704],".",["T_WHITESPACE"," ",704],["T_CONSTANT_ENCAPSED_STRING","'modules'",704],["T_WHITESPACE"," ",704],".",["T_WHITESPACE"," ",704],["T_STRING","DS",704],["T_WHITESPACE"," ",704],".",["T_WHITESPACE"," ",704],["T_CONSTANT_ENCAPSED_STRING","'*.xml'",704],")",";",["T_WHITESPACE","\n\n        ",704],["T_IF","if",706],["T_WHITESPACE"," ",706],"(","!",["T_VARIABLE","$moduleFiles",706],")",["T_WHITESPACE"," ",706],"{",["T_WHITESPACE","\n            ",706],["T_RETURN","return",707],["T_WHITESPACE"," ",707],["T_STRING","false",707],";",["T_WHITESPACE","\n        ",707],"}",["T_WHITESPACE","\n\n        ",708],["T_VARIABLE","$collectModuleFiles",710],["T_WHITESPACE"," ",710],"=",["T_WHITESPACE"," ",710],["T_ARRAY","array",710],"(",["T_WHITESPACE","\n            ",710],["T_CONSTANT_ENCAPSED_STRING","'base'",711],["T_WHITESPACE","   ",711],["T_DOUBLE_ARROW","=>",711],["T_WHITESPACE"," ",711],["T_ARRAY","array",711],"(",")",",",["T_WHITESPACE","\n            ",711],["T_CONSTANT_ENCAPSED_STRING","'mage'",712],["T_WHITESPACE","   ",712],["T_DOUBLE_ARROW","=>",712],["T_WHITESPACE"," ",712],["T_ARRAY","array",712],"(",")",",",["T_WHITESPACE","\n            ",712],["T_CONSTANT_ENCAPSED_STRING","'custom'",713],["T_WHITESPACE"," ",713],["T_DOUBLE_ARROW","=>",713],["T_WHITESPACE"," ",713],["T_ARRAY","array",713],"(",")",["T_WHITESPACE","\n        ",713],")",";",["T_WHITESPACE","\n\n        ",714],["T_FOREACH","foreach",716],["T_WHITESPACE"," ",716],"(",["T_VARIABLE","$moduleFiles",716],["T_WHITESPACE"," ",716],["T_AS","as",716],["T_WHITESPACE"," ",716],["T_VARIABLE","$v",716],")",["T_WHITESPACE"," ",716],"{",["T_WHITESPACE","\n            ",716],["T_VARIABLE","$name",717],["T_WHITESPACE"," ",717],"=",["T_WHITESPACE"," ",717],["T_STRING","explode",717],"(",["T_STRING","DIRECTORY_SEPARATOR",717],",",["T_WHITESPACE"," ",717],["T_VARIABLE","$v",717],")",";",["T_WHITESPACE","\n            ",717],["T_VARIABLE","$name",718],["T_WHITESPACE"," ",718],"=",["T_WHITESPACE"," ",718],["T_STRING","substr",718],"(",["T_VARIABLE","$name",718],"[",["T_STRING","count",718],"(",["T_VARIABLE","$name",718],")",["T_WHITESPACE"," ",718],"-",["T_WHITESPACE"," ",718],["T_LNUMBER","1",718],"]",",",["T_WHITESPACE"," ",718],["T_LNUMBER","0",718],",",["T_WHITESPACE"," ",718],"-",["T_LNUMBER","4",718],")",";",["T_WHITESPACE","\n\n            ",718],["T_IF","if",720],["T_WHITESPACE"," ",720],"(",["T_VARIABLE","$name",720],["T_WHITESPACE"," ",720],["T_IS_EQUAL","==",720],["T_WHITESPACE"," ",720],["T_CONSTANT_ENCAPSED_STRING","'Mage_All'",720],")",["T_WHITESPACE"," ",720],"{",["T_WHITESPACE","\n                ",720],["T_VARIABLE","$collectModuleFiles",721],"[",["T_CONSTANT_ENCAPSED_STRING","'base'",721],"]","[","]",["T_WHITESPACE"," ",721],"=",["T_WHITESPACE"," ",721],["T_VARIABLE","$v",721],";",["T_WHITESPACE","\n            ",721],"}",["T_WHITESPACE"," ",722],["T_ELSE","else",722],["T_WHITESPACE"," ",722],["T_IF","if",722],["T_WHITESPACE"," ",722],"(",["T_STRING","substr",722],"(",["T_VARIABLE","$name",722],",",["T_WHITESPACE"," ",722],["T_LNUMBER","0",722],",",["T_WHITESPACE"," ",722],["T_LNUMBER","5",722],")",["T_WHITESPACE"," ",722],["T_IS_EQUAL","==",722],["T_WHITESPACE"," ",722],["T_CONSTANT_ENCAPSED_STRING","'Mage_'",722],")",["T_WHITESPACE"," ",722],"{",["T_WHITESPACE","\n                ",722],["T_VARIABLE","$collectModuleFiles",723],"[",["T_CONSTANT_ENCAPSED_STRING","'mage'",723],"]","[","]",["T_WHITESPACE"," ",723],"=",["T_WHITESPACE"," ",723],["T_VARIABLE","$v",723],";",["T_WHITESPACE","\n            ",723],"}",["T_WHITESPACE"," ",724],["T_ELSE","else",724],["T_WHITESPACE"," ",724],"{",["T_WHITESPACE","\n                ",724],["T_VARIABLE","$collectModuleFiles",725],"[",["T_CONSTANT_ENCAPSED_STRING","'custom'",725],"]","[","]",["T_WHITESPACE"," ",725],"=",["T_WHITESPACE"," ",725],["T_VARIABLE","$v",725],";",["T_WHITESPACE","\n            ",725],"}",["T_WHITESPACE","\n        ",726],"}",["T_WHITESPACE","\n\n        ",727],["T_RETURN","return",729],["T_WHITESPACE"," ",729],["T_STRING","array_merge",729],"(",["T_WHITESPACE","\n            ",729],["T_VARIABLE","$collectModuleFiles",730],"[",["T_CONSTANT_ENCAPSED_STRING","'base'",730],"]",",",["T_WHITESPACE","\n            ",730],["T_VARIABLE","$collectModuleFiles",731],"[",["T_CONSTANT_ENCAPSED_STRING","'mage'",731],"]",",",["T_WHITESPACE","\n            ",731],["T_VARIABLE","$collectModuleFiles",732],"[",["T_CONSTANT_ENCAPSED_STRING","'custom'",732],"]",["T_WHITESPACE","\n        ",732],")",";",["T_WHITESPACE","\n    ",733],"}",["T_WHITESPACE","\n\n    ",734],["T_DOC_COMMENT","\/**\n     * Add module(s) to allowed list\n     *\n     * @param  strung|array $module\n     * @return Mage_Core_Model_Config\n     *\/",736],["T_WHITESPACE","\n    ",741],["T_PUBLIC","public",742],["T_WHITESPACE"," ",742],["T_FUNCTION","function",742],["T_WHITESPACE"," ",742],["T_STRING","addAllowedModules",742],"(",["T_VARIABLE","$module",742],")",["T_WHITESPACE","\n    ",742],"{",["T_WHITESPACE","\n        ",743],["T_IF","if",744],["T_WHITESPACE"," ",744],"(",["T_STRING","is_array",744],"(",["T_VARIABLE","$module",744],")",")",["T_WHITESPACE"," ",744],"{",["T_WHITESPACE","\n            ",744],["T_FOREACH","foreach",745],["T_WHITESPACE"," ",745],"(",["T_VARIABLE","$module",745],["T_WHITESPACE"," ",745],["T_AS","as",745],["T_WHITESPACE"," ",745],["T_VARIABLE","$moduleName",745],")",["T_WHITESPACE"," ",745],"{",["T_WHITESPACE","\n                ",745],["T_VARIABLE","$this",746],["T_OBJECT_OPERATOR","->",746],["T_STRING","addAllowedModules",746],"(",["T_VARIABLE","$moduleName",746],")",";",["T_WHITESPACE","\n            ",746],"}",["T_WHITESPACE","\n        ",747],"}",["T_WHITESPACE"," ",748],["T_ELSEIF","elseif",748],["T_WHITESPACE"," ",748],"(","!",["T_STRING","in_array",748],"(",["T_VARIABLE","$module",748],",",["T_WHITESPACE"," ",748],["T_VARIABLE","$this",748],["T_OBJECT_OPERATOR","->",748],["T_STRING","_allowedModules",748],")",")",["T_WHITESPACE"," ",748],"{",["T_WHITESPACE","\n            ",748],["T_VARIABLE","$this",749],["T_OBJECT_OPERATOR","->",749],["T_STRING","_allowedModules",749],"[","]",["T_WHITESPACE"," ",749],"=",["T_WHITESPACE"," ",749],["T_VARIABLE","$module",749],";",["T_WHITESPACE","\n        ",749],"}",["T_WHITESPACE","\n\n        ",750],["T_RETURN","return",752],["T_WHITESPACE"," ",752],["T_VARIABLE","$this",752],";",["T_WHITESPACE","\n    ",752],"}",["T_WHITESPACE","\n\n    ",753],["T_DOC_COMMENT","\/**\n     * Define if module is allowed\n     *\n     * @param  string $moduleName\n     * @return bool\n     *\/",755],["T_WHITESPACE","\n    ",760],["T_PROTECTED","protected",761],["T_WHITESPACE"," ",761],["T_FUNCTION","function",761],["T_WHITESPACE"," ",761],["T_STRING","_isAllowedModule",761],"(",["T_VARIABLE","$moduleName",761],")",["T_WHITESPACE","\n    ",761],"{",["T_WHITESPACE","\n        ",762],["T_IF","if",763],["T_WHITESPACE"," ",763],"(",["T_EMPTY","empty",763],"(",["T_VARIABLE","$this",763],["T_OBJECT_OPERATOR","->",763],["T_STRING","_allowedModules",763],")",")",["T_WHITESPACE"," ",763],"{",["T_WHITESPACE","\n            ",763],["T_RETURN","return",764],["T_WHITESPACE"," ",764],["T_STRING","true",764],";",["T_WHITESPACE","\n        ",764],"}",["T_WHITESPACE"," ",765],["T_ELSE","else",765],["T_WHITESPACE"," ",765],"{",["T_WHITESPACE","\n            ",765],["T_RETURN","return",766],["T_WHITESPACE"," ",766],["T_STRING","in_array",766],"(",["T_VARIABLE","$moduleName",766],",",["T_WHITESPACE"," ",766],["T_VARIABLE","$this",766],["T_OBJECT_OPERATOR","->",766],["T_STRING","_allowedModules",766],")",";",["T_WHITESPACE","\n        ",766],"}",["T_WHITESPACE","\n    ",767],"}",["T_WHITESPACE","\n\n    ",768],["T_DOC_COMMENT","\/**\n     * Load declared modules configuration\n     *\n     * @param   null $mergeConfig depricated\n     * @return  Mage_Core_Model_Config\n     *\/",770],["T_WHITESPACE","\n    ",775],["T_PROTECTED","protected",776],["T_WHITESPACE"," ",776],["T_FUNCTION","function",776],["T_WHITESPACE"," ",776],["T_STRING","_loadDeclaredModules",776],"(",["T_VARIABLE","$mergeConfig",776],["T_WHITESPACE"," ",776],"=",["T_WHITESPACE"," ",776],["T_STRING","null",776],")",["T_WHITESPACE","\n    ",776],"{",["T_WHITESPACE","\n        ",777],["T_VARIABLE","$moduleFiles",778],["T_WHITESPACE"," ",778],"=",["T_WHITESPACE"," ",778],["T_VARIABLE","$this",778],["T_OBJECT_OPERATOR","->",778],["T_STRING","_getDeclaredModuleFiles",778],"(",")",";",["T_WHITESPACE","\n        ",778],["T_IF","if",779],["T_WHITESPACE"," ",779],"(","!",["T_VARIABLE","$moduleFiles",779],")",["T_WHITESPACE"," ",779],"{",["T_WHITESPACE","\n            ",779],["T_RETURN","return",780],["T_WHITESPACE"," ",780],";",["T_WHITESPACE","\n        ",780],"}",["T_WHITESPACE","\n\n        ",781],["T_STRING","Varien_Profiler",783],["T_DOUBLE_COLON","::",783],["T_STRING","start",783],"(",["T_CONSTANT_ENCAPSED_STRING","'config\/load-modules-declaration'",783],")",";",["T_WHITESPACE","\n\n        ",783],["T_VARIABLE","$unsortedConfig",785],["T_WHITESPACE"," ",785],"=",["T_WHITESPACE"," ",785],["T_NEW","new",785],["T_WHITESPACE"," ",785],["T_STRING","Mage_Core_Model_Config_Base",785],"(",")",";",["T_WHITESPACE","\n        ",785],["T_VARIABLE","$unsortedConfig",786],["T_OBJECT_OPERATOR","->",786],["T_STRING","loadString",786],"(",["T_CONSTANT_ENCAPSED_STRING","'<config\/>'",786],")",";",["T_WHITESPACE","\n        ",786],["T_VARIABLE","$fileConfig",787],["T_WHITESPACE"," ",787],"=",["T_WHITESPACE"," ",787],["T_NEW","new",787],["T_WHITESPACE"," ",787],["T_STRING","Mage_Core_Model_Config_Base",787],"(",")",";",["T_WHITESPACE","\n\n        ",787],["T_COMMENT","\/\/ load modules declarations\n",789],["T_WHITESPACE","        ",790],["T_FOREACH","foreach",790],["T_WHITESPACE"," ",790],"(",["T_VARIABLE","$moduleFiles",790],["T_WHITESPACE"," ",790],["T_AS","as",790],["T_WHITESPACE"," ",790],["T_VARIABLE","$file",790],")",["T_WHITESPACE"," ",790],"{",["T_WHITESPACE","\n            ",790],["T_VARIABLE","$fileConfig",791],["T_OBJECT_OPERATOR","->",791],["T_STRING","loadFile",791],"(",["T_VARIABLE","$file",791],")",";",["T_WHITESPACE","\n            ",791],["T_VARIABLE","$unsortedConfig",792],["T_OBJECT_OPERATOR","->",792],["T_STRING","extend",792],"(",["T_VARIABLE","$fileConfig",792],")",";",["T_WHITESPACE","\n        ",792],"}",["T_WHITESPACE","\n\n        ",793],["T_VARIABLE","$moduleDepends",795],["T_WHITESPACE"," ",795],"=",["T_WHITESPACE"," ",795],["T_ARRAY","array",795],"(",")",";",["T_WHITESPACE","\n        ",795],["T_FOREACH","foreach",796],["T_WHITESPACE"," ",796],"(",["T_VARIABLE","$unsortedConfig",796],["T_OBJECT_OPERATOR","->",796],["T_STRING","getNode",796],"(",["T_CONSTANT_ENCAPSED_STRING","'modules'",796],")",["T_OBJECT_OPERATOR","->",796],["T_STRING","children",796],"(",")",["T_WHITESPACE"," ",796],["T_AS","as",796],["T_WHITESPACE"," ",796],["T_VARIABLE","$moduleName",796],["T_WHITESPACE"," ",796],["T_DOUBLE_ARROW","=>",796],["T_WHITESPACE"," ",796],["T_VARIABLE","$moduleNode",796],")",["T_WHITESPACE"," ",796],"{",["T_WHITESPACE","\n            ",796],["T_IF","if",797],["T_WHITESPACE"," ",797],"(","!",["T_VARIABLE","$this",797],["T_OBJECT_OPERATOR","->",797],["T_STRING","_isAllowedModule",797],"(",["T_VARIABLE","$moduleName",797],")",")",["T_WHITESPACE"," ",797],"{",["T_WHITESPACE","\n                ",797],["T_CONTINUE","continue",798],";",["T_WHITESPACE","\n            ",798],"}",["T_WHITESPACE","\n\n            ",799],["T_VARIABLE","$depends",801],["T_WHITESPACE"," ",801],"=",["T_WHITESPACE"," ",801],["T_ARRAY","array",801],"(",")",";",["T_WHITESPACE","\n            ",801],["T_IF","if",802],["T_WHITESPACE"," ",802],"(",["T_VARIABLE","$moduleNode",802],["T_OBJECT_OPERATOR","->",802],["T_STRING","depends",802],")",["T_WHITESPACE"," ",802],"{",["T_WHITESPACE","\n                ",802],["T_FOREACH","foreach",803],["T_WHITESPACE"," ",803],"(",["T_VARIABLE","$moduleNode",803],["T_OBJECT_OPERATOR","->",803],["T_STRING","depends",803],["T_OBJECT_OPERATOR","->",803],["T_STRING","children",803],"(",")",["T_WHITESPACE"," ",803],["T_AS","as",803],["T_WHITESPACE"," ",803],["T_VARIABLE","$depend",803],")",["T_WHITESPACE"," ",803],"{",["T_WHITESPACE","\n                    ",803],["T_VARIABLE","$depends",804],"[",["T_VARIABLE","$depend",804],["T_OBJECT_OPERATOR","->",804],["T_STRING","getName",804],"(",")","]",["T_WHITESPACE"," ",804],"=",["T_WHITESPACE"," ",804],["T_STRING","true",804],";",["T_WHITESPACE","\n                ",804],"}",["T_WHITESPACE","\n            ",805],"}",["T_WHITESPACE","\n            ",806],["T_VARIABLE","$moduleDepends",807],"[",["T_VARIABLE","$moduleName",807],"]",["T_WHITESPACE"," ",807],"=",["T_WHITESPACE"," ",807],["T_ARRAY","array",807],"(",["T_WHITESPACE","\n                ",807],["T_CONSTANT_ENCAPSED_STRING","'module'",808],["T_WHITESPACE","    ",808],["T_DOUBLE_ARROW","=>",808],["T_WHITESPACE"," ",808],["T_VARIABLE","$moduleName",808],",",["T_WHITESPACE","\n                ",808],["T_CONSTANT_ENCAPSED_STRING","'depends'",809],["T_WHITESPACE","   ",809],["T_DOUBLE_ARROW","=>",809],["T_WHITESPACE"," ",809],["T_VARIABLE","$depends",809],",",["T_WHITESPACE","\n                ",809],["T_CONSTANT_ENCAPSED_STRING","'active'",810],["T_WHITESPACE","    ",810],["T_DOUBLE_ARROW","=>",810],["T_WHITESPACE"," ",810],"(",["T_CONSTANT_ENCAPSED_STRING","'true'",810],["T_WHITESPACE"," ",810],["T_IS_IDENTICAL","===",810],["T_WHITESPACE"," ",810],["T_STRING_CAST","(string)",810],["T_VARIABLE","$moduleNode",810],["T_OBJECT_OPERATOR","->",810],["T_STRING","active",810],["T_WHITESPACE"," ",810],"?",["T_WHITESPACE"," ",810],["T_STRING","true",810],["T_WHITESPACE"," ",810],":",["T_WHITESPACE"," ",810],["T_STRING","false",810],")",",",["T_WHITESPACE","\n            ",810],")",";",["T_WHITESPACE","\n        ",811],"}",["T_WHITESPACE","\n\n        ",812],["T_COMMENT","\/\/ check and sort module dependence\n",814],["T_WHITESPACE","        ",815],["T_VARIABLE","$moduleDepends",815],["T_WHITESPACE"," ",815],"=",["T_WHITESPACE"," ",815],["T_VARIABLE","$this",815],["T_OBJECT_OPERATOR","->",815],["T_STRING","_sortModuleDepends",815],"(",["T_VARIABLE","$moduleDepends",815],")",";",["T_WHITESPACE","\n\n        ",815],["T_COMMENT","\/\/ create sorted config\n",817],["T_WHITESPACE","        ",818],["T_VARIABLE","$sortedConfig",818],["T_WHITESPACE"," ",818],"=",["T_WHITESPACE"," ",818],["T_NEW","new",818],["T_WHITESPACE"," ",818],["T_STRING","Mage_Core_Model_Config_Base",818],"(",")",";",["T_WHITESPACE","\n        ",818],["T_VARIABLE","$sortedConfig",819],["T_OBJECT_OPERATOR","->",819],["T_STRING","loadString",819],"(",["T_CONSTANT_ENCAPSED_STRING","'<config><modules\/><\/config>'",819],")",";",["T_WHITESPACE","\n\n        ",819],["T_FOREACH","foreach",821],["T_WHITESPACE"," ",821],"(",["T_VARIABLE","$unsortedConfig",821],["T_OBJECT_OPERATOR","->",821],["T_STRING","getNode",821],"(",")",["T_OBJECT_OPERATOR","->",821],["T_STRING","children",821],"(",")",["T_WHITESPACE"," ",821],["T_AS","as",821],["T_WHITESPACE"," ",821],["T_VARIABLE","$nodeName",821],["T_WHITESPACE"," ",821],["T_DOUBLE_ARROW","=>",821],["T_WHITESPACE"," ",821],["T_VARIABLE","$node",821],")",["T_WHITESPACE"," ",821],"{",["T_WHITESPACE","\n            ",821],["T_IF","if",822],["T_WHITESPACE"," ",822],"(",["T_VARIABLE","$nodeName",822],["T_WHITESPACE"," ",822],["T_IS_NOT_EQUAL","!=",822],["T_WHITESPACE"," ",822],["T_CONSTANT_ENCAPSED_STRING","'modules'",822],")",["T_WHITESPACE"," ",822],"{",["T_WHITESPACE","\n                ",822],["T_VARIABLE","$sortedConfig",823],["T_OBJECT_OPERATOR","->",823],["T_STRING","getNode",823],"(",")",["T_OBJECT_OPERATOR","->",823],["T_STRING","appendChild",823],"(",["T_VARIABLE","$node",823],")",";",["T_WHITESPACE","\n            ",823],"}",["T_WHITESPACE","\n        ",824],"}",["T_WHITESPACE","\n\n        ",825],["T_FOREACH","foreach",827],["T_WHITESPACE"," ",827],"(",["T_VARIABLE","$moduleDepends",827],["T_WHITESPACE"," ",827],["T_AS","as",827],["T_WHITESPACE"," ",827],["T_VARIABLE","$moduleProp",827],")",["T_WHITESPACE"," ",827],"{",["T_WHITESPACE","\n            ",827],["T_VARIABLE","$node",828],["T_WHITESPACE"," ",828],"=",["T_WHITESPACE"," ",828],["T_VARIABLE","$unsortedConfig",828],["T_OBJECT_OPERATOR","->",828],["T_STRING","getNode",828],"(",["T_CONSTANT_ENCAPSED_STRING","'modules\/'",828],".",["T_VARIABLE","$moduleProp",828],"[",["T_CONSTANT_ENCAPSED_STRING","'module'",828],"]",")",";",["T_WHITESPACE","\n            ",828],["T_VARIABLE","$sortedConfig",829],["T_OBJECT_OPERATOR","->",829],["T_STRING","getNode",829],"(",["T_CONSTANT_ENCAPSED_STRING","'modules'",829],")",["T_OBJECT_OPERATOR","->",829],["T_STRING","appendChild",829],"(",["T_VARIABLE","$node",829],")",";",["T_WHITESPACE","\n        ",829],"}",["T_WHITESPACE","\n\n        ",830],["T_VARIABLE","$this",832],["T_OBJECT_OPERATOR","->",832],["T_STRING","extend",832],"(",["T_VARIABLE","$sortedConfig",832],")",";",["T_WHITESPACE","\n\n        ",832],["T_STRING","Varien_Profiler",834],["T_DOUBLE_COLON","::",834],["T_STRING","stop",834],"(",["T_CONSTANT_ENCAPSED_STRING","'config\/load-modules-declaration'",834],")",";",["T_WHITESPACE","\n        ",834],["T_RETURN","return",835],["T_WHITESPACE"," ",835],["T_VARIABLE","$this",835],";",["T_WHITESPACE","\n    ",835],"}",["T_WHITESPACE","\n\n    ",836],["T_DOC_COMMENT","\/**\n     * Sort modules and check depends\n     *\n     * @param array $modules\n     * @return array\n     *\/",838],["T_WHITESPACE","\n    ",843],["T_PROTECTED","protected",844],["T_WHITESPACE"," ",844],["T_FUNCTION","function",844],["T_WHITESPACE"," ",844],["T_STRING","_sortModuleDepends",844],"(",["T_VARIABLE","$modules",844],")",["T_WHITESPACE","\n    ",844],"{",["T_WHITESPACE","\n        ",845],["T_FOREACH","foreach",846],["T_WHITESPACE"," ",846],"(",["T_VARIABLE","$modules",846],["T_WHITESPACE"," ",846],["T_AS","as",846],["T_WHITESPACE"," ",846],["T_VARIABLE","$moduleName",846],["T_WHITESPACE"," ",846],["T_DOUBLE_ARROW","=>",846],["T_WHITESPACE"," ",846],["T_VARIABLE","$moduleProps",846],")",["T_WHITESPACE"," ",846],"{",["T_WHITESPACE","\n            ",846],["T_VARIABLE","$depends",847],["T_WHITESPACE"," ",847],"=",["T_WHITESPACE"," ",847],["T_VARIABLE","$moduleProps",847],"[",["T_CONSTANT_ENCAPSED_STRING","'depends'",847],"]",";",["T_WHITESPACE","\n            ",847],["T_FOREACH","foreach",848],["T_WHITESPACE"," ",848],"(",["T_VARIABLE","$moduleProps",848],"[",["T_CONSTANT_ENCAPSED_STRING","'depends'",848],"]",["T_WHITESPACE"," ",848],["T_AS","as",848],["T_WHITESPACE"," ",848],["T_VARIABLE","$depend",848],["T_WHITESPACE"," ",848],["T_DOUBLE_ARROW","=>",848],["T_WHITESPACE"," ",848],["T_VARIABLE","$true",848],")",["T_WHITESPACE"," ",848],"{",["T_WHITESPACE","\n                ",848],["T_IF","if",849],["T_WHITESPACE"," ",849],"(",["T_VARIABLE","$moduleProps",849],"[",["T_CONSTANT_ENCAPSED_STRING","'active'",849],"]",["T_WHITESPACE"," ",849],["T_BOOLEAN_AND","&&",849],["T_WHITESPACE"," ",849],"(","(","!",["T_ISSET","isset",849],"(",["T_VARIABLE","$modules",849],"[",["T_VARIABLE","$depend",849],"]",")",")",["T_WHITESPACE"," ",849],["T_BOOLEAN_OR","||",849],["T_WHITESPACE"," ",849],["T_EMPTY","empty",849],"(",["T_VARIABLE","$modules",849],"[",["T_VARIABLE","$depend",849],"]","[",["T_CONSTANT_ENCAPSED_STRING","'active'",849],"]",")",")",")",["T_WHITESPACE"," ",849],"{",["T_WHITESPACE","\n                    ",849],["T_STRING","Mage",850],["T_DOUBLE_COLON","::",850],["T_STRING","throwException",850],"(",["T_WHITESPACE","\n                        ",850],["T_STRING","Mage",851],["T_DOUBLE_COLON","::",851],["T_STRING","helper",851],"(",["T_CONSTANT_ENCAPSED_STRING","'core'",851],")",["T_OBJECT_OPERATOR","->",851],["T_STRING","__",851],"(",["T_CONSTANT_ENCAPSED_STRING","'Module \"%1$s\" requires module \"%2$s\".'",851],",",["T_WHITESPACE"," ",851],["T_VARIABLE","$moduleName",851],",",["T_WHITESPACE"," ",851],["T_VARIABLE","$depend",851],")",["T_WHITESPACE","\n                    ",851],")",";",["T_WHITESPACE","\n                ",852],"}",["T_WHITESPACE","\n                ",853],["T_VARIABLE","$depends",854],["T_WHITESPACE"," ",854],"=",["T_WHITESPACE"," ",854],["T_STRING","array_merge",854],"(",["T_VARIABLE","$depends",854],",",["T_WHITESPACE"," ",854],["T_VARIABLE","$modules",854],"[",["T_VARIABLE","$depend",854],"]","[",["T_CONSTANT_ENCAPSED_STRING","'depends'",854],"]",")",";",["T_WHITESPACE","\n            ",854],"}",["T_WHITESPACE","\n            ",855],["T_VARIABLE","$modules",856],"[",["T_VARIABLE","$moduleName",856],"]","[",["T_CONSTANT_ENCAPSED_STRING","'depends'",856],"]",["T_WHITESPACE"," ",856],"=",["T_WHITESPACE"," ",856],["T_VARIABLE","$depends",856],";",["T_WHITESPACE","\n        ",856],"}",["T_WHITESPACE","\n        ",857],["T_VARIABLE","$modules",858],["T_WHITESPACE"," ",858],"=",["T_WHITESPACE"," ",858],["T_STRING","array_values",858],"(",["T_VARIABLE","$modules",858],")",";",["T_WHITESPACE","\n\n        ",858],["T_VARIABLE","$size",860],["T_WHITESPACE"," ",860],"=",["T_WHITESPACE"," ",860],["T_STRING","count",860],"(",["T_VARIABLE","$modules",860],")",["T_WHITESPACE"," ",860],"-",["T_WHITESPACE"," ",860],["T_LNUMBER","1",860],";",["T_WHITESPACE","\n        ",860],["T_FOR","for",861],["T_WHITESPACE"," ",861],"(",["T_VARIABLE","$i",861],["T_WHITESPACE"," ",861],"=",["T_WHITESPACE"," ",861],["T_VARIABLE","$size",861],";",["T_WHITESPACE"," ",861],["T_VARIABLE","$i",861],["T_WHITESPACE"," ",861],["T_IS_GREATER_OR_EQUAL",">=",861],["T_WHITESPACE"," ",861],["T_LNUMBER","0",861],";",["T_WHITESPACE"," ",861],["T_VARIABLE","$i",861],["T_DEC","--",861],")",["T_WHITESPACE"," ",861],"{",["T_WHITESPACE","\n            ",861],["T_FOR","for",862],["T_WHITESPACE"," ",862],"(",["T_VARIABLE","$j",862],["T_WHITESPACE"," ",862],"=",["T_WHITESPACE"," ",862],["T_VARIABLE","$size",862],";",["T_WHITESPACE"," ",862],["T_VARIABLE","$i",862],["T_WHITESPACE"," ",862],"<",["T_WHITESPACE"," ",862],["T_VARIABLE","$j",862],";",["T_WHITESPACE"," ",862],["T_VARIABLE","$j",862],["T_DEC","--",862],")",["T_WHITESPACE"," ",862],"{",["T_WHITESPACE","\n                ",862],["T_IF","if",863],["T_WHITESPACE"," ",863],"(",["T_ISSET","isset",863],"(",["T_VARIABLE","$modules",863],"[",["T_VARIABLE","$i",863],"]","[",["T_CONSTANT_ENCAPSED_STRING","'depends'",863],"]","[",["T_VARIABLE","$modules",863],"[",["T_VARIABLE","$j",863],"]","[",["T_CONSTANT_ENCAPSED_STRING","'module'",863],"]","]",")",")",["T_WHITESPACE"," ",863],"{",["T_WHITESPACE","\n                    ",863],["T_VARIABLE","$value",864],["T_WHITESPACE","       ",864],"=",["T_WHITESPACE"," ",864],["T_VARIABLE","$modules",864],"[",["T_VARIABLE","$i",864],"]",";",["T_WHITESPACE","\n                    ",864],["T_VARIABLE","$modules",865],"[",["T_VARIABLE","$i",865],"]",["T_WHITESPACE"," ",865],"=",["T_WHITESPACE"," ",865],["T_VARIABLE","$modules",865],"[",["T_VARIABLE","$j",865],"]",";",["T_WHITESPACE","\n                    ",865],["T_VARIABLE","$modules",866],"[",["T_VARIABLE","$j",866],"]",["T_WHITESPACE"," ",866],"=",["T_WHITESPACE"," ",866],["T_VARIABLE","$value",866],";",["T_WHITESPACE","\n                ",866],"}",["T_WHITESPACE","\n            ",867],"}",["T_WHITESPACE","\n        ",868],"}",["T_WHITESPACE","\n\n        ",869],["T_VARIABLE","$definedModules",871],["T_WHITESPACE"," ",871],"=",["T_WHITESPACE"," ",871],["T_ARRAY","array",871],"(",")",";",["T_WHITESPACE","\n        ",871],["T_FOREACH","foreach",872],["T_WHITESPACE"," ",872],"(",["T_VARIABLE","$modules",872],["T_WHITESPACE"," ",872],["T_AS","as",872],["T_WHITESPACE"," ",872],["T_VARIABLE","$moduleProp",872],")",["T_WHITESPACE"," ",872],"{",["T_WHITESPACE","\n            ",872],["T_FOREACH","foreach",873],["T_WHITESPACE"," ",873],"(",["T_VARIABLE","$moduleProp",873],"[",["T_CONSTANT_ENCAPSED_STRING","'depends'",873],"]",["T_WHITESPACE"," ",873],["T_AS","as",873],["T_WHITESPACE"," ",873],["T_VARIABLE","$dependModule",873],["T_WHITESPACE"," ",873],["T_DOUBLE_ARROW","=>",873],["T_WHITESPACE"," ",873],["T_VARIABLE","$true",873],")",["T_WHITESPACE"," ",873],"{",["T_WHITESPACE","\n                ",873],["T_IF","if",874],["T_WHITESPACE"," ",874],"(","!",["T_ISSET","isset",874],"(",["T_VARIABLE","$definedModules",874],"[",["T_VARIABLE","$dependModule",874],"]",")",")",["T_WHITESPACE"," ",874],"{",["T_WHITESPACE","\n                    ",874],["T_STRING","Mage",875],["T_DOUBLE_COLON","::",875],["T_STRING","throwException",875],"(",["T_WHITESPACE","\n                        ",875],["T_STRING","Mage",876],["T_DOUBLE_COLON","::",876],["T_STRING","helper",876],"(",["T_CONSTANT_ENCAPSED_STRING","'core'",876],")",["T_OBJECT_OPERATOR","->",876],["T_STRING","__",876],"(",["T_CONSTANT_ENCAPSED_STRING","'Module \"%1$s\" cannot depend on \"%2$s\".'",876],",",["T_WHITESPACE"," ",876],["T_VARIABLE","$moduleProp",876],"[",["T_CONSTANT_ENCAPSED_STRING","'module'",876],"]",",",["T_WHITESPACE"," ",876],["T_VARIABLE","$dependModule",876],")",["T_WHITESPACE","\n                    ",876],")",";",["T_WHITESPACE","\n                ",877],"}",["T_WHITESPACE","\n            ",878],"}",["T_WHITESPACE","\n            ",879],["T_VARIABLE","$definedModules",880],"[",["T_VARIABLE","$moduleProp",880],"[",["T_CONSTANT_ENCAPSED_STRING","'module'",880],"]","]",["T_WHITESPACE"," ",880],"=",["T_WHITESPACE"," ",880],["T_STRING","true",880],";",["T_WHITESPACE","\n        ",880],"}",["T_WHITESPACE","\n\n        ",881],["T_RETURN","return",883],["T_WHITESPACE"," ",883],["T_VARIABLE","$modules",883],";",["T_WHITESPACE","\n    ",883],"}",["T_WHITESPACE","\n\n    ",884],["T_DOC_COMMENT","\/**\n     * Determine whether provided name begins from any available modules, according to namespaces priority\n     * If matched, returns as the matched module \"factory\" name or a fully qualified module name\n     *\n     * @param string $name\n     * @param bool $asFullModuleName\n     * @return string\n     *\/",886],["T_WHITESPACE","\n    ",893],["T_PUBLIC","public",894],["T_WHITESPACE"," ",894],["T_FUNCTION","function",894],["T_WHITESPACE"," ",894],["T_STRING","determineOmittedNamespace",894],"(",["T_VARIABLE","$name",894],",",["T_WHITESPACE"," ",894],["T_VARIABLE","$asFullModuleName",894],["T_WHITESPACE"," ",894],"=",["T_WHITESPACE"," ",894],["T_STRING","false",894],")",["T_WHITESPACE","\n    ",894],"{",["T_WHITESPACE","\n        ",895],["T_IF","if",896],["T_WHITESPACE"," ",896],"(",["T_STRING","null",896],["T_WHITESPACE"," ",896],["T_IS_IDENTICAL","===",896],["T_WHITESPACE"," ",896],["T_VARIABLE","$this",896],["T_OBJECT_OPERATOR","->",896],["T_STRING","_moduleNamespaces",896],")",["T_WHITESPACE"," ",896],"{",["T_WHITESPACE","\n            ",896],["T_VARIABLE","$this",897],["T_OBJECT_OPERATOR","->",897],["T_STRING","_moduleNamespaces",897],["T_WHITESPACE"," ",897],"=",["T_WHITESPACE"," ",897],["T_ARRAY","array",897],"(",")",";",["T_WHITESPACE","\n            ",897],["T_FOREACH","foreach",898],["T_WHITESPACE"," ",898],"(",["T_VARIABLE","$this",898],["T_OBJECT_OPERATOR","->",898],["T_STRING","_xml",898],["T_OBJECT_OPERATOR","->",898],["T_STRING","xpath",898],"(",["T_CONSTANT_ENCAPSED_STRING","'modules\/*'",898],")",["T_WHITESPACE"," ",898],["T_AS","as",898],["T_WHITESPACE"," ",898],["T_VARIABLE","$m",898],")",["T_WHITESPACE"," ",898],"{",["T_WHITESPACE","\n                ",898],["T_IF","if",899],["T_WHITESPACE"," ",899],"(",["T_STRING_CAST","(string)",899],["T_VARIABLE","$m",899],["T_OBJECT_OPERATOR","->",899],["T_STRING","active",899],["T_WHITESPACE"," ",899],["T_IS_EQUAL","==",899],["T_WHITESPACE"," ",899],["T_CONSTANT_ENCAPSED_STRING","'true'",899],")",["T_WHITESPACE"," ",899],"{",["T_WHITESPACE","\n                    ",899],["T_VARIABLE","$moduleName",900],["T_WHITESPACE"," ",900],"=",["T_WHITESPACE"," ",900],["T_VARIABLE","$m",900],["T_OBJECT_OPERATOR","->",900],["T_STRING","getName",900],"(",")",";",["T_WHITESPACE","\n                    ",900],["T_VARIABLE","$module",901],["T_WHITESPACE"," ",901],"=",["T_WHITESPACE"," ",901],["T_STRING","strtolower",901],"(",["T_VARIABLE","$moduleName",901],")",";",["T_WHITESPACE","\n                    ",901],["T_VARIABLE","$this",902],["T_OBJECT_OPERATOR","->",902],["T_STRING","_moduleNamespaces",902],"[",["T_STRING","substr",902],"(",["T_VARIABLE","$module",902],",",["T_WHITESPACE"," ",902],["T_LNUMBER","0",902],",",["T_WHITESPACE"," ",902],["T_STRING","strpos",902],"(",["T_VARIABLE","$module",902],",",["T_WHITESPACE"," ",902],["T_CONSTANT_ENCAPSED_STRING","'_'",902],")",")","]","[",["T_VARIABLE","$module",902],"]",["T_WHITESPACE"," ",902],"=",["T_WHITESPACE"," ",902],["T_VARIABLE","$moduleName",902],";",["T_WHITESPACE","\n                ",902],"}",["T_WHITESPACE","\n            ",903],"}",["T_WHITESPACE","\n        ",904],"}",["T_WHITESPACE","\n\n        ",905],["T_VARIABLE","$name",907],["T_WHITESPACE"," ",907],"=",["T_WHITESPACE"," ",907],["T_STRING","explode",907],"(",["T_CONSTANT_ENCAPSED_STRING","'_'",907],",",["T_WHITESPACE"," ",907],["T_STRING","strtolower",907],"(",["T_VARIABLE","$name",907],")",")",";",["T_WHITESPACE","\n        ",907],["T_VARIABLE","$partsNum",908],["T_WHITESPACE"," ",908],"=",["T_WHITESPACE"," ",908],["T_STRING","count",908],"(",["T_VARIABLE","$name",908],")",";",["T_WHITESPACE","\n        ",908],["T_VARIABLE","$defaultNamespaceFlag",909],["T_WHITESPACE"," ",909],"=",["T_WHITESPACE"," ",909],["T_STRING","false",909],";",["T_WHITESPACE","\n        ",909],["T_FOREACH","foreach",910],["T_WHITESPACE"," ",910],"(",["T_VARIABLE","$this",910],["T_OBJECT_OPERATOR","->",910],["T_STRING","_moduleNamespaces",910],["T_WHITESPACE"," ",910],["T_AS","as",910],["T_WHITESPACE"," ",910],["T_VARIABLE","$namespaceName",910],["T_WHITESPACE"," ",910],["T_DOUBLE_ARROW","=>",910],["T_WHITESPACE"," ",910],["T_VARIABLE","$namespace",910],")",["T_WHITESPACE"," ",910],"{",["T_WHITESPACE","\n            ",910],["T_COMMENT","\/\/ assume the namespace is omitted (default namespace only, which comes first)\n",911],["T_WHITESPACE","            ",912],["T_IF","if",912],["T_WHITESPACE"," ",912],"(",["T_VARIABLE","$defaultNamespaceFlag",912],["T_WHITESPACE"," ",912],["T_IS_IDENTICAL","===",912],["T_WHITESPACE"," ",912],["T_STRING","false",912],")",["T_WHITESPACE"," ",912],"{",["T_WHITESPACE","\n                ",912],["T_VARIABLE","$defaultNamespaceFlag",913],["T_WHITESPACE"," ",913],"=",["T_WHITESPACE"," ",913],["T_STRING","true",913],";",["T_WHITESPACE","\n                ",913],["T_VARIABLE","$defaultNS",914],["T_WHITESPACE"," ",914],"=",["T_WHITESPACE"," ",914],["T_VARIABLE","$namespaceName",914],["T_WHITESPACE"," ",914],".",["T_WHITESPACE"," ",914],["T_CONSTANT_ENCAPSED_STRING","'_'",914],["T_WHITESPACE"," ",914],".",["T_WHITESPACE"," ",914],["T_VARIABLE","$name",914],"[",["T_LNUMBER","0",914],"]",";",["T_WHITESPACE","\n                ",914],["T_IF","if",915],["T_WHITESPACE"," ",915],"(",["T_ISSET","isset",915],"(",["T_VARIABLE","$namespace",915],"[",["T_VARIABLE","$defaultNS",915],"]",")",")",["T_WHITESPACE"," ",915],"{",["T_WHITESPACE","\n                    ",915],["T_RETURN","return",916],["T_WHITESPACE"," ",916],["T_VARIABLE","$asFullModuleName",916],["T_WHITESPACE"," ",916],"?",["T_WHITESPACE"," ",916],["T_VARIABLE","$namespace",916],"[",["T_VARIABLE","$defaultNS",916],"]",["T_WHITESPACE"," ",916],":",["T_WHITESPACE"," ",916],["T_VARIABLE","$name",916],"[",["T_LNUMBER","0",916],"]",";",["T_WHITESPACE"," ",916],["T_COMMENT","\/\/ return omitted as well\n",916],["T_WHITESPACE","                ",917],"}",["T_WHITESPACE","\n            ",917],"}",["T_WHITESPACE","\n            ",918],["T_COMMENT","\/\/ assume namespace is qualified\n",919],["T_WHITESPACE","            ",920],["T_IF","if",920],"(",["T_ISSET","isset",920],"(",["T_VARIABLE","$name",920],"[",["T_LNUMBER","1",920],"]",")",")",["T_WHITESPACE"," ",920],"{",["T_WHITESPACE","\n                ",920],["T_VARIABLE","$fullNS",921],["T_WHITESPACE"," ",921],"=",["T_WHITESPACE"," ",921],["T_VARIABLE","$name",921],"[",["T_LNUMBER","0",921],"]",["T_WHITESPACE"," ",921],".",["T_WHITESPACE"," ",921],["T_CONSTANT_ENCAPSED_STRING","'_'",921],["T_WHITESPACE"," ",921],".",["T_WHITESPACE"," ",921],["T_VARIABLE","$name",921],"[",["T_LNUMBER","1",921],"]",";",["T_WHITESPACE","\n                ",921],["T_IF","if",922],["T_WHITESPACE"," ",922],"(",["T_LNUMBER","2",922],["T_WHITESPACE"," ",922],["T_IS_SMALLER_OR_EQUAL","<=",922],["T_WHITESPACE"," ",922],["T_VARIABLE","$partsNum",922],["T_WHITESPACE"," ",922],["T_BOOLEAN_AND","&&",922],["T_WHITESPACE"," ",922],["T_ISSET","isset",922],"(",["T_VARIABLE","$namespace",922],"[",["T_VARIABLE","$fullNS",922],"]",")",")",["T_WHITESPACE"," ",922],"{",["T_WHITESPACE","\n                    ",922],["T_RETURN","return",923],["T_WHITESPACE"," ",923],["T_VARIABLE","$asFullModuleName",923],["T_WHITESPACE"," ",923],"?",["T_WHITESPACE"," ",923],["T_VARIABLE","$namespace",923],"[",["T_VARIABLE","$fullNS",923],"]",["T_WHITESPACE"," ",923],":",["T_WHITESPACE"," ",923],["T_VARIABLE","$fullNS",923],";",["T_WHITESPACE","\n                ",923],"}",["T_WHITESPACE","\n            ",924],"}",["T_WHITESPACE","\n        ",925],"}",["T_WHITESPACE","\n        ",926],["T_RETURN","return",927],["T_WHITESPACE"," ",927],["T_CONSTANT_ENCAPSED_STRING","''",927],";",["T_WHITESPACE","\n    ",927],"}",["T_WHITESPACE","\n\n    ",928],["T_DOC_COMMENT","\/**\n     * Iterate all active modules \"etc\" folders and combine data from\n     * specidied xml file name to one object\n     *\n     * @param   string $fileName\n     * @param   null|Mage_Core_Model_Config_Base $mergeToObject\n     * @return  Mage_Core_Model_Config_Base\n     *\/",930],["T_WHITESPACE","\n    ",937],["T_PUBLIC","public",938],["T_WHITESPACE"," ",938],["T_FUNCTION","function",938],["T_WHITESPACE"," ",938],["T_STRING","loadModulesConfiguration",938],"(",["T_VARIABLE","$fileName",938],",",["T_WHITESPACE"," ",938],["T_VARIABLE","$mergeToObject",938],["T_WHITESPACE"," ",938],"=",["T_WHITESPACE"," ",938],["T_STRING","null",938],",",["T_WHITESPACE"," ",938],["T_VARIABLE","$mergeModel",938],"=",["T_STRING","null",938],")",["T_WHITESPACE","\n    ",938],"{",["T_WHITESPACE","\n        ",939],["T_VARIABLE","$disableLocalModules",940],["T_WHITESPACE"," ",940],"=",["T_WHITESPACE"," ",940],"!",["T_VARIABLE","$this",940],["T_OBJECT_OPERATOR","->",940],["T_STRING","_canUseLocalModules",940],"(",")",";",["T_WHITESPACE","\n\n        ",940],["T_IF","if",942],["T_WHITESPACE"," ",942],"(",["T_VARIABLE","$mergeToObject",942],["T_WHITESPACE"," ",942],["T_IS_IDENTICAL","===",942],["T_WHITESPACE"," ",942],["T_STRING","null",942],")",["T_WHITESPACE"," ",942],"{",["T_WHITESPACE","\n            ",942],["T_VARIABLE","$mergeToObject",943],["T_WHITESPACE"," ",943],"=",["T_WHITESPACE"," ",943],["T_CLONE","clone",943],["T_WHITESPACE"," ",943],["T_VARIABLE","$this",943],["T_OBJECT_OPERATOR","->",943],["T_STRING","_prototype",943],";",["T_WHITESPACE","\n            ",943],["T_VARIABLE","$mergeToObject",944],["T_OBJECT_OPERATOR","->",944],["T_STRING","loadString",944],"(",["T_CONSTANT_ENCAPSED_STRING","'<config\/>'",944],")",";",["T_WHITESPACE","\n        ",944],"}",["T_WHITESPACE","\n        ",945],["T_IF","if",946],["T_WHITESPACE"," ",946],"(",["T_VARIABLE","$mergeModel",946],["T_WHITESPACE"," ",946],["T_IS_IDENTICAL","===",946],["T_WHITESPACE"," ",946],["T_STRING","null",946],")",["T_WHITESPACE"," ",946],"{",["T_WHITESPACE","\n            ",946],["T_VARIABLE","$mergeModel",947],["T_WHITESPACE"," ",947],"=",["T_WHITESPACE"," ",947],["T_CLONE","clone",947],["T_WHITESPACE"," ",947],["T_VARIABLE","$this",947],["T_OBJECT_OPERATOR","->",947],["T_STRING","_prototype",947],";",["T_WHITESPACE","\n        ",947],"}",["T_WHITESPACE","\n        ",948],["T_VARIABLE","$modules",949],["T_WHITESPACE"," ",949],"=",["T_WHITESPACE"," ",949],["T_VARIABLE","$this",949],["T_OBJECT_OPERATOR","->",949],["T_STRING","getNode",949],"(",["T_CONSTANT_ENCAPSED_STRING","'modules'",949],")",["T_OBJECT_OPERATOR","->",949],["T_STRING","children",949],"(",")",";",["T_WHITESPACE","\n        ",949],["T_FOREACH","foreach",950],["T_WHITESPACE"," ",950],"(",["T_VARIABLE","$modules",950],["T_WHITESPACE"," ",950],["T_AS","as",950],["T_WHITESPACE"," ",950],["T_VARIABLE","$modName",950],["T_DOUBLE_ARROW","=>",950],["T_VARIABLE","$module",950],")",["T_WHITESPACE"," ",950],"{",["T_WHITESPACE","\n            ",950],["T_IF","if",951],["T_WHITESPACE"," ",951],"(",["T_VARIABLE","$module",951],["T_OBJECT_OPERATOR","->",951],["T_STRING","is",951],"(",["T_CONSTANT_ENCAPSED_STRING","'active'",951],")",")",["T_WHITESPACE"," ",951],"{",["T_WHITESPACE","\n                ",951],["T_IF","if",952],["T_WHITESPACE"," ",952],"(",["T_VARIABLE","$disableLocalModules",952],["T_WHITESPACE"," ",952],["T_BOOLEAN_AND","&&",952],["T_WHITESPACE"," ",952],"(",["T_CONSTANT_ENCAPSED_STRING","'local'",952],["T_WHITESPACE"," ",952],["T_IS_IDENTICAL","===",952],["T_WHITESPACE"," ",952],["T_STRING_CAST","(string)",952],["T_VARIABLE","$module",952],["T_OBJECT_OPERATOR","->",952],["T_STRING","codePool",952],")",")",["T_WHITESPACE"," ",952],"{",["T_WHITESPACE","\n                    ",952],["T_CONTINUE","continue",953],";",["T_WHITESPACE","\n                ",953],"}",["T_WHITESPACE","\n                ",954],["T_IF","if",955],["T_WHITESPACE"," ",955],"(","!",["T_STRING","is_array",955],"(",["T_VARIABLE","$fileName",955],")",")",["T_WHITESPACE"," ",955],"{",["T_WHITESPACE","\n                    ",955],["T_VARIABLE","$fileName",956],["T_WHITESPACE"," ",956],"=",["T_WHITESPACE"," ",956],["T_ARRAY","array",956],"(",["T_VARIABLE","$fileName",956],")",";",["T_WHITESPACE","\n                ",956],"}",["T_WHITESPACE","\n\n                ",957],["T_FOREACH","foreach",959],["T_WHITESPACE"," ",959],"(",["T_VARIABLE","$fileName",959],["T_WHITESPACE"," ",959],["T_AS","as",959],["T_WHITESPACE"," ",959],["T_VARIABLE","$configFile",959],")",["T_WHITESPACE"," ",959],"{",["T_WHITESPACE","\n                    ",959],["T_VARIABLE","$configFile",960],["T_WHITESPACE"," ",960],"=",["T_WHITESPACE"," ",960],["T_VARIABLE","$this",960],["T_OBJECT_OPERATOR","->",960],["T_STRING","getModuleDir",960],"(",["T_CONSTANT_ENCAPSED_STRING","'etc'",960],",",["T_WHITESPACE"," ",960],["T_VARIABLE","$modName",960],")",".",["T_STRING","DS",960],".",["T_VARIABLE","$configFile",960],";",["T_WHITESPACE","\n                    ",960],["T_IF","if",961],["T_WHITESPACE"," ",961],"(",["T_VARIABLE","$mergeModel",961],["T_OBJECT_OPERATOR","->",961],["T_STRING","loadFile",961],"(",["T_VARIABLE","$configFile",961],")",")",["T_WHITESPACE"," ",961],"{",["T_WHITESPACE","\n\n                        ",961],["T_VARIABLE","$this",963],["T_OBJECT_OPERATOR","->",963],["T_STRING","_makeEventsLowerCase",963],"(",["T_STRING","Mage_Core_Model_App_Area",963],["T_DOUBLE_COLON","::",963],["T_STRING","AREA_GLOBAL",963],",",["T_WHITESPACE"," ",963],["T_VARIABLE","$mergeModel",963],")",";",["T_WHITESPACE","\n                        ",963],["T_VARIABLE","$this",964],["T_OBJECT_OPERATOR","->",964],["T_STRING","_makeEventsLowerCase",964],"(",["T_STRING","Mage_Core_Model_App_Area",964],["T_DOUBLE_COLON","::",964],["T_STRING","AREA_FRONTEND",964],",",["T_WHITESPACE"," ",964],["T_VARIABLE","$mergeModel",964],")",";",["T_WHITESPACE","\n                        ",964],["T_VARIABLE","$this",965],["T_OBJECT_OPERATOR","->",965],["T_STRING","_makeEventsLowerCase",965],"(",["T_STRING","Mage_Core_Model_App_Area",965],["T_DOUBLE_COLON","::",965],["T_STRING","AREA_ADMIN",965],",",["T_WHITESPACE"," ",965],["T_VARIABLE","$mergeModel",965],")",";",["T_WHITESPACE","\n                        ",965],["T_VARIABLE","$this",966],["T_OBJECT_OPERATOR","->",966],["T_STRING","_makeEventsLowerCase",966],"(",["T_STRING","Mage_Core_Model_App_Area",966],["T_DOUBLE_COLON","::",966],["T_STRING","AREA_ADMINHTML",966],",",["T_WHITESPACE"," ",966],["T_VARIABLE","$mergeModel",966],")",";",["T_WHITESPACE","\n\n                        ",966],["T_VARIABLE","$mergeToObject",968],["T_OBJECT_OPERATOR","->",968],["T_STRING","extend",968],"(",["T_VARIABLE","$mergeModel",968],",",["T_WHITESPACE"," ",968],["T_STRING","true",968],")",";",["T_WHITESPACE","\n                    ",968],"}",["T_WHITESPACE","\n                ",969],"}",["T_WHITESPACE","\n            ",970],"}",["T_WHITESPACE","\n        ",971],"}",["T_WHITESPACE","\n        ",972],["T_RETURN","return",973],["T_WHITESPACE"," ",973],["T_VARIABLE","$mergeToObject",973],";",["T_WHITESPACE","\n    ",973],"}",["T_WHITESPACE","\n\n    ",974],["T_DOC_COMMENT","\/**\n     * Retrieve temporary directory path\n     *\n     * @return string\n     *\/",976],["T_WHITESPACE","\n    ",980],["T_PUBLIC","public",981],["T_WHITESPACE"," ",981],["T_FUNCTION","function",981],["T_WHITESPACE"," ",981],["T_STRING","getTempVarDir",981],"(",")",["T_WHITESPACE","\n    ",981],"{",["T_WHITESPACE","\n        ",982],["T_RETURN","return",983],["T_WHITESPACE"," ",983],["T_VARIABLE","$this",983],["T_OBJECT_OPERATOR","->",983],["T_STRING","getOptions",983],"(",")",["T_OBJECT_OPERATOR","->",983],["T_STRING","getVarDir",983],"(",")",";",["T_WHITESPACE","\n    ",983],"}",["T_WHITESPACE","\n\n    ",984],["T_DOC_COMMENT","\/**\n     * Get default server variables values\n     *\n     * @return array\n     *\/",986],["T_WHITESPACE","\n    ",990],["T_PUBLIC","public",991],["T_WHITESPACE"," ",991],["T_FUNCTION","function",991],["T_WHITESPACE"," ",991],["T_STRING","getDistroServerVars",991],"(",")",["T_WHITESPACE","\n    ",991],"{",["T_WHITESPACE","\n        ",992],["T_IF","if",993],["T_WHITESPACE"," ",993],"(","!",["T_VARIABLE","$this",993],["T_OBJECT_OPERATOR","->",993],["T_STRING","_distroServerVars",993],")",["T_WHITESPACE"," ",993],"{",["T_WHITESPACE","\n\n            ",993],["T_IF","if",995],["T_WHITESPACE"," ",995],"(",["T_ISSET","isset",995],"(",["T_VARIABLE","$_SERVER",995],"[",["T_CONSTANT_ENCAPSED_STRING","'SCRIPT_NAME'",995],"]",")",["T_WHITESPACE"," ",995],["T_BOOLEAN_AND","&&",995],["T_WHITESPACE"," ",995],["T_ISSET","isset",995],"(",["T_VARIABLE","$_SERVER",995],"[",["T_CONSTANT_ENCAPSED_STRING","'HTTP_HOST'",995],"]",")",")",["T_WHITESPACE"," ",995],"{",["T_WHITESPACE","\n                ",995],["T_VARIABLE","$secure",996],["T_WHITESPACE"," ",996],"=",["T_WHITESPACE"," ",996],"(","!",["T_EMPTY","empty",996],"(",["T_VARIABLE","$_SERVER",996],"[",["T_CONSTANT_ENCAPSED_STRING","'HTTPS'",996],"]",")",["T_WHITESPACE"," ",996],["T_BOOLEAN_AND","&&",996],["T_WHITESPACE"," ",996],"(",["T_VARIABLE","$_SERVER",996],"[",["T_CONSTANT_ENCAPSED_STRING","'HTTPS'",996],"]",["T_IS_NOT_EQUAL","!=",996],["T_CONSTANT_ENCAPSED_STRING","'off'",996],")",")",["T_WHITESPACE"," ",996],["T_BOOLEAN_OR","||",996],["T_WHITESPACE"," ",996],["T_VARIABLE","$_SERVER",996],"[",["T_CONSTANT_ENCAPSED_STRING","'SERVER_PORT'",996],"]",["T_IS_EQUAL","==",996],["T_CONSTANT_ENCAPSED_STRING","'443'",996],";",["T_WHITESPACE","\n                ",996],["T_VARIABLE","$scheme",997],["T_WHITESPACE"," ",997],"=",["T_WHITESPACE"," ",997],"(",["T_VARIABLE","$secure",997],["T_WHITESPACE"," ",997],"?",["T_WHITESPACE"," ",997],["T_CONSTANT_ENCAPSED_STRING","'https'",997],["T_WHITESPACE"," ",997],":",["T_WHITESPACE"," ",997],["T_CONSTANT_ENCAPSED_STRING","'http'",997],")",["T_WHITESPACE"," ",997],".",["T_WHITESPACE"," ",997],["T_CONSTANT_ENCAPSED_STRING","':\/\/'",997],["T_WHITESPACE"," ",997],";",["T_WHITESPACE","\n\n                ",997],["T_VARIABLE","$hostArr",999],["T_WHITESPACE"," ",999],"=",["T_WHITESPACE"," ",999],["T_STRING","explode",999],"(",["T_CONSTANT_ENCAPSED_STRING","':'",999],",",["T_WHITESPACE"," ",999],["T_VARIABLE","$_SERVER",999],"[",["T_CONSTANT_ENCAPSED_STRING","'HTTP_HOST'",999],"]",")",";",["T_WHITESPACE","\n                ",999],["T_VARIABLE","$host",1000],["T_WHITESPACE"," ",1000],"=",["T_WHITESPACE"," ",1000],["T_VARIABLE","$hostArr",1000],"[",["T_LNUMBER","0",1000],"]",";",["T_WHITESPACE","\n                ",1000],["T_VARIABLE","$port",1001],["T_WHITESPACE"," ",1001],"=",["T_WHITESPACE"," ",1001],["T_ISSET","isset",1001],"(",["T_WHITESPACE","\n                    ",1001],["T_VARIABLE","$hostArr",1002],"[",["T_LNUMBER","1",1002],"]",")",["T_WHITESPACE"," ",1002],["T_BOOLEAN_AND","&&",1002],["T_WHITESPACE"," ",1002],"(","!",["T_VARIABLE","$secure",1002],["T_WHITESPACE"," ",1002],["T_BOOLEAN_AND","&&",1002],["T_WHITESPACE"," ",1002],["T_VARIABLE","$hostArr",1002],"[",["T_LNUMBER","1",1002],"]",["T_IS_NOT_EQUAL","!=",1002],["T_LNUMBER","80",1002],["T_WHITESPACE"," ",1002],["T_BOOLEAN_OR","||",1002],["T_WHITESPACE"," ",1002],["T_VARIABLE","$secure",1002],["T_WHITESPACE"," ",1002],["T_BOOLEAN_AND","&&",1002],["T_WHITESPACE"," ",1002],["T_VARIABLE","$hostArr",1002],"[",["T_LNUMBER","1",1002],"]",["T_IS_NOT_EQUAL","!=",1002],["T_LNUMBER","443",1002],["T_WHITESPACE","\n                ",1002],")",["T_WHITESPACE"," ",1003],"?",["T_WHITESPACE"," ",1003],["T_CONSTANT_ENCAPSED_STRING","':'",1003],".",["T_VARIABLE","$hostArr",1003],"[",["T_LNUMBER","1",1003],"]",["T_WHITESPACE"," ",1003],":",["T_WHITESPACE"," ",1003],["T_CONSTANT_ENCAPSED_STRING","''",1003],";",["T_WHITESPACE","\n                ",1003],["T_VARIABLE","$path",1004],["T_WHITESPACE"," ",1004],"=",["T_WHITESPACE"," ",1004],["T_STRING","Mage",1004],["T_DOUBLE_COLON","::",1004],["T_STRING","app",1004],"(",")",["T_OBJECT_OPERATOR","->",1004],["T_STRING","getRequest",1004],"(",")",["T_OBJECT_OPERATOR","->",1004],["T_STRING","getBasePath",1004],"(",")",";",["T_WHITESPACE","\n\n                ",1004],["T_VARIABLE","$baseUrl",1006],["T_WHITESPACE"," ",1006],"=",["T_WHITESPACE"," ",1006],["T_VARIABLE","$scheme",1006],".",["T_VARIABLE","$host",1006],".",["T_VARIABLE","$port",1006],".",["T_STRING","rtrim",1006],"(",["T_VARIABLE","$path",1006],",",["T_WHITESPACE"," ",1006],["T_CONSTANT_ENCAPSED_STRING","'\/'",1006],")",".",["T_CONSTANT_ENCAPSED_STRING","'\/'",1006],";",["T_WHITESPACE","\n            ",1006],"}",["T_WHITESPACE"," ",1007],["T_ELSE","else",1007],["T_WHITESPACE"," ",1007],"{",["T_WHITESPACE","\n                ",1007],["T_VARIABLE","$baseUrl",1008],["T_WHITESPACE"," ",1008],"=",["T_WHITESPACE"," ",1008],["T_CONSTANT_ENCAPSED_STRING","'http:\/\/localhost\/'",1008],";",["T_WHITESPACE","\n            ",1008],"}",["T_WHITESPACE","\n\n            ",1009],["T_VARIABLE","$options",1011],["T_WHITESPACE"," ",1011],"=",["T_WHITESPACE"," ",1011],["T_VARIABLE","$this",1011],["T_OBJECT_OPERATOR","->",1011],["T_STRING","getOptions",1011],"(",")",";",["T_WHITESPACE","\n            ",1011],["T_VARIABLE","$this",1012],["T_OBJECT_OPERATOR","->",1012],["T_STRING","_distroServerVars",1012],["T_WHITESPACE"," ",1012],"=",["T_WHITESPACE"," ",1012],["T_ARRAY","array",1012],"(",["T_WHITESPACE","\n                ",1012],["T_CONSTANT_ENCAPSED_STRING","'root_dir'",1013],["T_WHITESPACE","  ",1013],["T_DOUBLE_ARROW","=>",1013],["T_WHITESPACE"," ",1013],["T_VARIABLE","$options",1013],["T_OBJECT_OPERATOR","->",1013],["T_STRING","getBaseDir",1013],"(",")",",",["T_WHITESPACE","\n                ",1013],["T_CONSTANT_ENCAPSED_STRING","'app_dir'",1014],["T_WHITESPACE","   ",1014],["T_DOUBLE_ARROW","=>",1014],["T_WHITESPACE"," ",1014],["T_VARIABLE","$options",1014],["T_OBJECT_OPERATOR","->",1014],["T_STRING","getAppDir",1014],"(",")",",",["T_WHITESPACE","\n                ",1014],["T_CONSTANT_ENCAPSED_STRING","'var_dir'",1015],["T_WHITESPACE","   ",1015],["T_DOUBLE_ARROW","=>",1015],["T_WHITESPACE"," ",1015],["T_VARIABLE","$options",1015],["T_OBJECT_OPERATOR","->",1015],["T_STRING","getVarDir",1015],"(",")",",",["T_WHITESPACE","\n                ",1015],["T_CONSTANT_ENCAPSED_STRING","'base_url'",1016],["T_WHITESPACE","  ",1016],["T_DOUBLE_ARROW","=>",1016],["T_WHITESPACE"," ",1016],["T_VARIABLE","$baseUrl",1016],",",["T_WHITESPACE","\n            ",1016],")",";",["T_WHITESPACE","\n\n            ",1017],["T_FOREACH","foreach",1019],["T_WHITESPACE"," ",1019],"(",["T_VARIABLE","$this",1019],["T_OBJECT_OPERATOR","->",1019],["T_STRING","_distroServerVars",1019],["T_WHITESPACE"," ",1019],["T_AS","as",1019],["T_WHITESPACE"," ",1019],["T_VARIABLE","$k",1019],["T_DOUBLE_ARROW","=>",1019],["T_VARIABLE","$v",1019],")",["T_WHITESPACE"," ",1019],"{",["T_WHITESPACE","\n                ",1019],["T_VARIABLE","$this",1020],["T_OBJECT_OPERATOR","->",1020],["T_STRING","_substServerVars",1020],"[",["T_CONSTANT_ENCAPSED_STRING","'{{'",1020],".",["T_VARIABLE","$k",1020],".",["T_CONSTANT_ENCAPSED_STRING","'}}'",1020],"]",["T_WHITESPACE"," ",1020],"=",["T_WHITESPACE"," ",1020],["T_VARIABLE","$v",1020],";",["T_WHITESPACE","\n            ",1020],"}",["T_WHITESPACE","\n        ",1021],"}",["T_WHITESPACE","\n        ",1022],["T_RETURN","return",1023],["T_WHITESPACE"," ",1023],["T_VARIABLE","$this",1023],["T_OBJECT_OPERATOR","->",1023],["T_STRING","_distroServerVars",1023],";",["T_WHITESPACE","\n    ",1023],"}",["T_WHITESPACE","\n\n    ",1024],["T_PUBLIC","public",1026],["T_WHITESPACE"," ",1026],["T_FUNCTION","function",1026],["T_WHITESPACE"," ",1026],["T_STRING","substDistroServerVars",1026],"(",["T_VARIABLE","$data",1026],")",["T_WHITESPACE","\n    ",1026],"{",["T_WHITESPACE","\n        ",1027],["T_VARIABLE","$this",1028],["T_OBJECT_OPERATOR","->",1028],["T_STRING","getDistroServerVars",1028],"(",")",";",["T_WHITESPACE","\n        ",1028],["T_RETURN","return",1029],["T_WHITESPACE"," ",1029],["T_STRING","str_replace",1029],"(",["T_WHITESPACE","\n            ",1029],["T_STRING","array_keys",1030],"(",["T_VARIABLE","$this",1030],["T_OBJECT_OPERATOR","->",1030],["T_STRING","_substServerVars",1030],")",",",["T_WHITESPACE","\n            ",1030],["T_STRING","array_values",1031],"(",["T_VARIABLE","$this",1031],["T_OBJECT_OPERATOR","->",1031],["T_STRING","_substServerVars",1031],")",",",["T_WHITESPACE","\n            ",1031],["T_VARIABLE","$data",1032],["T_WHITESPACE","\n        ",1032],")",";",["T_WHITESPACE","\n    ",1033],"}",["T_WHITESPACE","\n\n    ",1034],["T_DOC_COMMENT","\/**\n     * Get module config node\n     *\n     * @param string $moduleName\n     * @return Varien_Simplexml_Object\n     *\/",1036],["T_WHITESPACE","\n    ",1041],["T_FUNCTION","function",1042],["T_WHITESPACE"," ",1042],["T_STRING","getModuleConfig",1042],"(",["T_VARIABLE","$moduleName",1042],"=",["T_CONSTANT_ENCAPSED_STRING","''",1042],")",["T_WHITESPACE","\n    ",1042],"{",["T_WHITESPACE","\n        ",1043],["T_VARIABLE","$modules",1044],["T_WHITESPACE"," ",1044],"=",["T_WHITESPACE"," ",1044],["T_VARIABLE","$this",1044],["T_OBJECT_OPERATOR","->",1044],["T_STRING","getNode",1044],"(",["T_CONSTANT_ENCAPSED_STRING","'modules'",1044],")",";",["T_WHITESPACE","\n        ",1044],["T_IF","if",1045],["T_WHITESPACE"," ",1045],"(",["T_CONSTANT_ENCAPSED_STRING","''",1045],["T_IS_IDENTICAL","===",1045],["T_VARIABLE","$moduleName",1045],")",["T_WHITESPACE"," ",1045],"{",["T_WHITESPACE","\n            ",1045],["T_RETURN","return",1046],["T_WHITESPACE"," ",1046],["T_VARIABLE","$modules",1046],";",["T_WHITESPACE","\n        ",1046],"}",["T_WHITESPACE"," ",1047],["T_ELSE","else",1047],["T_WHITESPACE"," ",1047],"{",["T_WHITESPACE","\n            ",1047],["T_RETURN","return",1048],["T_WHITESPACE"," ",1048],["T_VARIABLE","$modules",1048],["T_OBJECT_OPERATOR","->",1048],["T_VARIABLE","$moduleName",1048],";",["T_WHITESPACE","\n        ",1048],"}",["T_WHITESPACE","\n    ",1049],"}",["T_WHITESPACE","\n\n    ",1050],["T_DOC_COMMENT","\/**\n     * Get module setup class instance.\n     *\n     * Defaults to Mage_Core_Setup\n     *\n     * @param string|Varien_Simplexml_Object $module\n     * @return object\n     *\/",1052],["T_WHITESPACE","\n    ",1059],["T_FUNCTION","function",1060],["T_WHITESPACE"," ",1060],["T_STRING","getModuleSetup",1060],"(",["T_VARIABLE","$module",1060],"=",["T_CONSTANT_ENCAPSED_STRING","''",1060],")",["T_WHITESPACE","\n    ",1060],"{",["T_WHITESPACE","\n        ",1061],["T_VARIABLE","$className",1062],["T_WHITESPACE"," ",1062],"=",["T_WHITESPACE"," ",1062],["T_CONSTANT_ENCAPSED_STRING","'Mage_Core_Setup'",1062],";",["T_WHITESPACE","\n        ",1062],["T_IF","if",1063],["T_WHITESPACE"," ",1063],"(",["T_CONSTANT_ENCAPSED_STRING","''",1063],["T_IS_NOT_IDENTICAL","!==",1063],["T_VARIABLE","$module",1063],")",["T_WHITESPACE"," ",1063],"{",["T_WHITESPACE","\n            ",1063],["T_IF","if",1064],["T_WHITESPACE"," ",1064],"(",["T_STRING","is_string",1064],"(",["T_VARIABLE","$module",1064],")",")",["T_WHITESPACE"," ",1064],"{",["T_WHITESPACE","\n                ",1064],["T_VARIABLE","$module",1065],["T_WHITESPACE"," ",1065],"=",["T_WHITESPACE"," ",1065],["T_VARIABLE","$this",1065],["T_OBJECT_OPERATOR","->",1065],["T_STRING","getModuleConfig",1065],"(",["T_VARIABLE","$module",1065],")",";",["T_WHITESPACE","\n            ",1065],"}",["T_WHITESPACE","\n            ",1066],["T_IF","if",1067],["T_WHITESPACE"," ",1067],"(",["T_ISSET","isset",1067],"(",["T_VARIABLE","$module",1067],["T_OBJECT_OPERATOR","->",1067],["T_STRING","setup",1067],")",")",["T_WHITESPACE"," ",1067],"{",["T_WHITESPACE","\n                ",1067],["T_VARIABLE","$moduleClassName",1068],["T_WHITESPACE"," ",1068],"=",["T_WHITESPACE"," ",1068],["T_VARIABLE","$module",1068],["T_OBJECT_OPERATOR","->",1068],["T_STRING","setup",1068],["T_OBJECT_OPERATOR","->",1068],["T_STRING","getClassName",1068],"(",")",";",["T_WHITESPACE","\n                ",1068],["T_IF","if",1069],["T_WHITESPACE"," ",1069],"(","!",["T_EMPTY","empty",1069],"(",["T_VARIABLE","$moduleClassName",1069],")",")",["T_WHITESPACE"," ",1069],"{",["T_WHITESPACE","\n                    ",1069],["T_VARIABLE","$className",1070],["T_WHITESPACE"," ",1070],"=",["T_WHITESPACE"," ",1070],["T_VARIABLE","$moduleClassName",1070],";",["T_WHITESPACE","\n                ",1070],"}",["T_WHITESPACE","\n            ",1071],"}",["T_WHITESPACE","\n        ",1072],"}",["T_WHITESPACE","\n        ",1073],["T_RETURN","return",1074],["T_WHITESPACE"," ",1074],["T_NEW","new",1074],["T_WHITESPACE"," ",1074],["T_VARIABLE","$className",1074],"(",["T_VARIABLE","$module",1074],")",";",["T_WHITESPACE","\n    ",1074],"}",["T_WHITESPACE","\n\n    ",1075],["T_DOC_COMMENT","\/**\n     * Get base filesystem directory. depends on $type\n     *\n     * If $moduleName is specified retrieves specific value for the module.\n     *\n     * @deprecated in favor of Mage_Core_Model_Config_Options\n     * @todo get global dir config\n     * @param string $type\n     * @return string\n     *\/",1077],["T_WHITESPACE","\n    ",1086],["T_PUBLIC","public",1087],["T_WHITESPACE"," ",1087],["T_FUNCTION","function",1087],["T_WHITESPACE"," ",1087],["T_STRING","getBaseDir",1087],"(",["T_VARIABLE","$type",1087],"=",["T_CONSTANT_ENCAPSED_STRING","'base'",1087],")",["T_WHITESPACE","\n    ",1087],"{",["T_WHITESPACE","\n        ",1088],["T_RETURN","return",1089],["T_WHITESPACE"," ",1089],["T_VARIABLE","$this",1089],["T_OBJECT_OPERATOR","->",1089],["T_STRING","getOptions",1089],"(",")",["T_OBJECT_OPERATOR","->",1089],["T_STRING","getDir",1089],"(",["T_VARIABLE","$type",1089],")",";",["T_WHITESPACE","\n    ",1089],"}",["T_WHITESPACE","\n\n    ",1090],["T_DOC_COMMENT","\/**\n     * Get temporary data directory name\n     *\n     * @param   string $path\n     * @param   string $type\n     * @return  string\n     *\/",1092],["T_WHITESPACE","\n    ",1098],["T_PUBLIC","public",1099],["T_WHITESPACE"," ",1099],["T_FUNCTION","function",1099],["T_WHITESPACE"," ",1099],["T_STRING","getVarDir",1099],"(",["T_VARIABLE","$path",1099],"=",["T_STRING","null",1099],",",["T_WHITESPACE"," ",1099],["T_VARIABLE","$type",1099],"=",["T_CONSTANT_ENCAPSED_STRING","'var'",1099],")",["T_WHITESPACE","\n    ",1099],"{",["T_WHITESPACE","\n        ",1100],["T_VARIABLE","$dir",1101],["T_WHITESPACE"," ",1101],"=",["T_WHITESPACE"," ",1101],["T_STRING","Mage",1101],["T_DOUBLE_COLON","::",1101],["T_STRING","getBaseDir",1101],"(",["T_VARIABLE","$type",1101],")",".","(",["T_VARIABLE","$path",1101],["T_IS_NOT_IDENTICAL","!==",1101],["T_STRING","null",1101],["T_WHITESPACE"," ",1101],"?",["T_WHITESPACE"," ",1101],["T_STRING","DS",1101],".",["T_VARIABLE","$path",1101],["T_WHITESPACE"," ",1101],":",["T_WHITESPACE"," ",1101],["T_CONSTANT_ENCAPSED_STRING","''",1101],")",";",["T_WHITESPACE","\n        ",1101],["T_IF","if",1102],["T_WHITESPACE"," ",1102],"(","!",["T_VARIABLE","$this",1102],["T_OBJECT_OPERATOR","->",1102],["T_STRING","createDirIfNotExists",1102],"(",["T_VARIABLE","$dir",1102],")",")",["T_WHITESPACE"," ",1102],"{",["T_WHITESPACE","\n            ",1102],["T_RETURN","return",1103],["T_WHITESPACE"," ",1103],["T_STRING","false",1103],";",["T_WHITESPACE","\n        ",1103],"}",["T_WHITESPACE","\n        ",1104],["T_RETURN","return",1105],["T_WHITESPACE"," ",1105],["T_VARIABLE","$dir",1105],";",["T_WHITESPACE","\n    ",1105],"}",["T_WHITESPACE","\n\n    ",1106],["T_PUBLIC","public",1108],["T_WHITESPACE"," ",1108],["T_FUNCTION","function",1108],["T_WHITESPACE"," ",1108],["T_STRING","createDirIfNotExists",1108],"(",["T_VARIABLE","$dir",1108],")",["T_WHITESPACE","\n    ",1108],"{",["T_WHITESPACE","\n        ",1109],["T_RETURN","return",1110],["T_WHITESPACE"," ",1110],["T_VARIABLE","$this",1110],["T_OBJECT_OPERATOR","->",1110],["T_STRING","getOptions",1110],"(",")",["T_OBJECT_OPERATOR","->",1110],["T_STRING","createDirIfNotExists",1110],"(",["T_VARIABLE","$dir",1110],")",";",["T_WHITESPACE","\n    ",1110],"}",["T_WHITESPACE","\n\n    ",1111],["T_DOC_COMMENT","\/**\n     * Get module directory by directory type\n     *\n     * @param   string $type\n     * @param   string $moduleName\n     * @return  string\n     *\/",1113],["T_WHITESPACE","\n    ",1119],["T_PUBLIC","public",1120],["T_WHITESPACE"," ",1120],["T_FUNCTION","function",1120],["T_WHITESPACE"," ",1120],["T_STRING","getModuleDir",1120],"(",["T_VARIABLE","$type",1120],",",["T_WHITESPACE"," ",1120],["T_VARIABLE","$moduleName",1120],")",["T_WHITESPACE","\n    ",1120],"{",["T_WHITESPACE","\n        ",1121],["T_VARIABLE","$codePool",1122],["T_WHITESPACE"," ",1122],"=",["T_WHITESPACE"," ",1122],["T_STRING_CAST","(string)",1122],["T_VARIABLE","$this",1122],["T_OBJECT_OPERATOR","->",1122],["T_STRING","getModuleConfig",1122],"(",["T_VARIABLE","$moduleName",1122],")",["T_OBJECT_OPERATOR","->",1122],["T_STRING","codePool",1122],";",["T_WHITESPACE","\n        ",1122],["T_VARIABLE","$dir",1123],["T_WHITESPACE"," ",1123],"=",["T_WHITESPACE"," ",1123],["T_VARIABLE","$this",1123],["T_OBJECT_OPERATOR","->",1123],["T_STRING","getOptions",1123],"(",")",["T_OBJECT_OPERATOR","->",1123],["T_STRING","getCodeDir",1123],"(",")",".",["T_STRING","DS",1123],".",["T_VARIABLE","$codePool",1123],".",["T_STRING","DS",1123],".",["T_STRING","uc_words",1123],"(",["T_VARIABLE","$moduleName",1123],",",["T_WHITESPACE"," ",1123],["T_STRING","DS",1123],")",";",["T_WHITESPACE","\n\n        ",1123],["T_SWITCH","switch",1125],["T_WHITESPACE"," ",1125],"(",["T_VARIABLE","$type",1125],")",["T_WHITESPACE"," ",1125],"{",["T_WHITESPACE","\n            ",1125],["T_CASE","case",1126],["T_WHITESPACE"," ",1126],["T_CONSTANT_ENCAPSED_STRING","'etc'",1126],":",["T_WHITESPACE","\n                ",1126],["T_VARIABLE","$dir",1127],["T_WHITESPACE"," ",1127],["T_CONCAT_EQUAL",".=",1127],["T_WHITESPACE"," ",1127],["T_STRING","DS",1127],".",["T_CONSTANT_ENCAPSED_STRING","'etc'",1127],";",["T_WHITESPACE","\n                ",1127],["T_BREAK","break",1128],";",["T_WHITESPACE","\n\n            ",1128],["T_CASE","case",1130],["T_WHITESPACE"," ",1130],["T_CONSTANT_ENCAPSED_STRING","'controllers'",1130],":",["T_WHITESPACE","\n                ",1130],["T_VARIABLE","$dir",1131],["T_WHITESPACE"," ",1131],["T_CONCAT_EQUAL",".=",1131],["T_WHITESPACE"," ",1131],["T_STRING","DS",1131],".",["T_CONSTANT_ENCAPSED_STRING","'controllers'",1131],";",["T_WHITESPACE","\n                ",1131],["T_BREAK","break",1132],";",["T_WHITESPACE","\n\n            ",1132],["T_CASE","case",1134],["T_WHITESPACE"," ",1134],["T_CONSTANT_ENCAPSED_STRING","'sql'",1134],":",["T_WHITESPACE","\n                ",1134],["T_VARIABLE","$dir",1135],["T_WHITESPACE"," ",1135],["T_CONCAT_EQUAL",".=",1135],["T_WHITESPACE"," ",1135],["T_STRING","DS",1135],".",["T_CONSTANT_ENCAPSED_STRING","'sql'",1135],";",["T_WHITESPACE","\n                ",1135],["T_BREAK","break",1136],";",["T_WHITESPACE","\n            ",1136],["T_CASE","case",1137],["T_WHITESPACE"," ",1137],["T_CONSTANT_ENCAPSED_STRING","'data'",1137],":",["T_WHITESPACE","\n                ",1137],["T_VARIABLE","$dir",1138],["T_WHITESPACE"," ",1138],["T_CONCAT_EQUAL",".=",1138],["T_WHITESPACE"," ",1138],["T_STRING","DS",1138],".",["T_CONSTANT_ENCAPSED_STRING","'data'",1138],";",["T_WHITESPACE","\n                ",1138],["T_BREAK","break",1139],";",["T_WHITESPACE","\n\n            ",1139],["T_CASE","case",1141],["T_WHITESPACE"," ",1141],["T_CONSTANT_ENCAPSED_STRING","'locale'",1141],":",["T_WHITESPACE","\n                ",1141],["T_VARIABLE","$dir",1142],["T_WHITESPACE"," ",1142],["T_CONCAT_EQUAL",".=",1142],["T_WHITESPACE"," ",1142],["T_STRING","DS",1142],".",["T_CONSTANT_ENCAPSED_STRING","'locale'",1142],";",["T_WHITESPACE","\n                ",1142],["T_BREAK","break",1143],";",["T_WHITESPACE","\n        ",1143],"}",["T_WHITESPACE","\n\n        ",1144],["T_VARIABLE","$dir",1146],["T_WHITESPACE"," ",1146],"=",["T_WHITESPACE"," ",1146],["T_STRING","str_replace",1146],"(",["T_CONSTANT_ENCAPSED_STRING","'\/'",1146],",",["T_WHITESPACE"," ",1146],["T_STRING","DS",1146],",",["T_WHITESPACE"," ",1146],["T_VARIABLE","$dir",1146],")",";",["T_WHITESPACE","\n        ",1146],["T_RETURN","return",1147],["T_WHITESPACE"," ",1147],["T_VARIABLE","$dir",1147],";",["T_WHITESPACE","\n    ",1147],"}",["T_WHITESPACE","\n\n    ",1148],["T_DOC_COMMENT","\/**\n     * Load event observers for an area (front, admin)\n     *\n     * @param   string $area\n     * @return  boolean\n     *\/",1150],["T_WHITESPACE","\n    ",1155],["T_PUBLIC","public",1156],["T_WHITESPACE"," ",1156],["T_FUNCTION","function",1156],["T_WHITESPACE"," ",1156],["T_STRING","loadEventObservers",1156],"(",["T_VARIABLE","$area",1156],")",["T_WHITESPACE","\n    ",1156],"{",["T_WHITESPACE","\n        ",1157],["T_VARIABLE","$events",1158],["T_WHITESPACE"," ",1158],"=",["T_WHITESPACE"," ",1158],["T_VARIABLE","$this",1158],["T_OBJECT_OPERATOR","->",1158],["T_STRING","getNode",1158],"(","\"",["T_VARIABLE","$area",1158],["T_ENCAPSED_AND_WHITESPACE","\/events",1158],"\"",")",";",["T_WHITESPACE","\n        ",1158],["T_IF","if",1159],["T_WHITESPACE"," ",1159],"(",["T_VARIABLE","$events",1159],")",["T_WHITESPACE"," ",1159],"{",["T_WHITESPACE","\n            ",1159],["T_VARIABLE","$events",1160],["T_WHITESPACE"," ",1160],"=",["T_WHITESPACE"," ",1160],["T_VARIABLE","$events",1160],["T_OBJECT_OPERATOR","->",1160],["T_STRING","children",1160],"(",")",";",["T_WHITESPACE","\n        ",1160],"}",["T_WHITESPACE"," ",1161],["T_ELSE","else",1161],["T_WHITESPACE"," ",1161],"{",["T_WHITESPACE","\n            ",1161],["T_RETURN","return",1162],["T_WHITESPACE"," ",1162],["T_STRING","false",1162],";",["T_WHITESPACE","\n        ",1162],"}",["T_WHITESPACE","\n\n        ",1163],["T_FOREACH","foreach",1165],["T_WHITESPACE"," ",1165],"(",["T_VARIABLE","$events",1165],["T_WHITESPACE"," ",1165],["T_AS","as",1165],["T_WHITESPACE"," ",1165],["T_VARIABLE","$event",1165],")",["T_WHITESPACE"," ",1165],"{",["T_WHITESPACE","\n            ",1165],["T_VARIABLE","$eventName",1166],["T_WHITESPACE"," ",1166],"=",["T_WHITESPACE"," ",1166],["T_STRING","strtolower",1166],"(",["T_VARIABLE","$event",1166],["T_OBJECT_OPERATOR","->",1166],["T_STRING","getName",1166],"(",")",")",";",["T_WHITESPACE","\n            ",1166],["T_VARIABLE","$observers",1167],["T_WHITESPACE"," ",1167],"=",["T_WHITESPACE"," ",1167],["T_VARIABLE","$event",1167],["T_OBJECT_OPERATOR","->",1167],["T_STRING","observers",1167],["T_OBJECT_OPERATOR","->",1167],["T_STRING","children",1167],"(",")",";",["T_WHITESPACE","\n            ",1167],["T_FOREACH","foreach",1168],["T_WHITESPACE"," ",1168],"(",["T_VARIABLE","$observers",1168],["T_WHITESPACE"," ",1168],["T_AS","as",1168],["T_WHITESPACE"," ",1168],["T_VARIABLE","$observer",1168],")",["T_WHITESPACE"," ",1168],"{",["T_WHITESPACE","\n                ",1168],["T_SWITCH","switch",1169],["T_WHITESPACE"," ",1169],"(",["T_STRING_CAST","(string)",1169],["T_VARIABLE","$observer",1169],["T_OBJECT_OPERATOR","->",1169],["T_STRING","type",1169],")",["T_WHITESPACE"," ",1169],"{",["T_WHITESPACE","\n                    ",1169],["T_CASE","case",1170],["T_WHITESPACE"," ",1170],["T_CONSTANT_ENCAPSED_STRING","'singleton'",1170],":",["T_WHITESPACE","\n                        ",1170],["T_VARIABLE","$callback",1171],["T_WHITESPACE"," ",1171],"=",["T_WHITESPACE"," ",1171],["T_ARRAY","array",1171],"(",["T_WHITESPACE","\n                            ",1171],["T_STRING","Mage",1172],["T_DOUBLE_COLON","::",1172],["T_STRING","getSingleton",1172],"(",["T_STRING_CAST","(string)",1172],["T_VARIABLE","$observer",1172],["T_OBJECT_OPERATOR","->",1172],["T_STRING","class",1172],")",",",["T_WHITESPACE","\n                            ",1172],["T_STRING_CAST","(string)",1173],["T_VARIABLE","$observer",1173],["T_OBJECT_OPERATOR","->",1173],["T_STRING","method",1173],["T_WHITESPACE","\n                        ",1173],")",";",["T_WHITESPACE","\n                        ",1174],["T_BREAK","break",1175],";",["T_WHITESPACE","\n                    ",1175],["T_CASE","case",1176],["T_WHITESPACE"," ",1176],["T_CONSTANT_ENCAPSED_STRING","'object'",1176],":",["T_WHITESPACE","\n                    ",1176],["T_CASE","case",1177],["T_WHITESPACE"," ",1177],["T_CONSTANT_ENCAPSED_STRING","'model'",1177],":",["T_WHITESPACE","\n                        ",1177],["T_VARIABLE","$callback",1178],["T_WHITESPACE"," ",1178],"=",["T_WHITESPACE"," ",1178],["T_ARRAY","array",1178],"(",["T_WHITESPACE","\n                            ",1178],["T_STRING","Mage",1179],["T_DOUBLE_COLON","::",1179],["T_STRING","getModel",1179],"(",["T_STRING_CAST","(string)",1179],["T_VARIABLE","$observer",1179],["T_OBJECT_OPERATOR","->",1179],["T_STRING","class",1179],")",",",["T_WHITESPACE","\n                            ",1179],["T_STRING_CAST","(string)",1180],["T_VARIABLE","$observer",1180],["T_OBJECT_OPERATOR","->",1180],["T_STRING","method",1180],["T_WHITESPACE","\n                        ",1180],")",";",["T_WHITESPACE","\n                        ",1181],["T_BREAK","break",1182],";",["T_WHITESPACE","\n                    ",1182],["T_DEFAULT","default",1183],":",["T_WHITESPACE","\n                        ",1183],["T_VARIABLE","$callback",1184],["T_WHITESPACE"," ",1184],"=",["T_WHITESPACE"," ",1184],["T_ARRAY","array",1184],"(",["T_VARIABLE","$observer",1184],["T_OBJECT_OPERATOR","->",1184],["T_STRING","getClassName",1184],"(",")",",",["T_WHITESPACE"," ",1184],["T_STRING_CAST","(string)",1184],["T_VARIABLE","$observer",1184],["T_OBJECT_OPERATOR","->",1184],["T_STRING","method",1184],")",";",["T_WHITESPACE","\n                        ",1184],["T_BREAK","break",1185],";",["T_WHITESPACE","\n                ",1185],"}",["T_WHITESPACE","\n\n                ",1186],["T_VARIABLE","$args",1188],["T_WHITESPACE"," ",1188],"=",["T_WHITESPACE"," ",1188],["T_ARRAY_CAST","(array)",1188],["T_VARIABLE","$observer",1188],["T_OBJECT_OPERATOR","->",1188],["T_STRING","args",1188],";",["T_WHITESPACE","\n                ",1188],["T_VARIABLE","$observerClass",1189],["T_WHITESPACE"," ",1189],"=",["T_WHITESPACE"," ",1189],["T_VARIABLE","$observer",1189],["T_OBJECT_OPERATOR","->",1189],["T_STRING","observer_class",1189],["T_WHITESPACE"," ",1189],"?",["T_WHITESPACE"," ",1189],["T_STRING_CAST","(string)",1189],["T_VARIABLE","$observer",1189],["T_OBJECT_OPERATOR","->",1189],["T_STRING","observer_class",1189],["T_WHITESPACE"," ",1189],":",["T_WHITESPACE"," ",1189],["T_CONSTANT_ENCAPSED_STRING","''",1189],";",["T_WHITESPACE","\n                ",1189],["T_STRING","Mage",1190],["T_DOUBLE_COLON","::",1190],["T_STRING","addObserver",1190],"(",["T_VARIABLE","$eventName",1190],",",["T_WHITESPACE"," ",1190],["T_VARIABLE","$callback",1190],",",["T_WHITESPACE"," ",1190],["T_VARIABLE","$args",1190],",",["T_WHITESPACE"," ",1190],["T_VARIABLE","$observer",1190],["T_OBJECT_OPERATOR","->",1190],["T_STRING","getName",1190],"(",")",",",["T_WHITESPACE"," ",1190],["T_VARIABLE","$observerClass",1190],")",";",["T_WHITESPACE","\n            ",1190],"}",["T_WHITESPACE","\n        ",1191],"}",["T_WHITESPACE","\n        ",1192],["T_RETURN","return",1193],["T_WHITESPACE"," ",1193],["T_STRING","true",1193],";",["T_WHITESPACE","\n    ",1193],"}",["T_WHITESPACE","\n\n    ",1194],["T_DOC_COMMENT","\/**\n     * Get standard path variables.\n     *\n     * To be used in blocks, templates, etc.\n     *\n     * @param array|string $args Module name if string\n     * @return array\n     *\/",1196],["T_WHITESPACE","\n    ",1203],["T_PUBLIC","public",1204],["T_WHITESPACE"," ",1204],["T_FUNCTION","function",1204],["T_WHITESPACE"," ",1204],["T_STRING","getPathVars",1204],"(",["T_VARIABLE","$args",1204],"=",["T_STRING","null",1204],")",["T_WHITESPACE","\n    ",1204],"{",["T_WHITESPACE","\n        ",1205],["T_VARIABLE","$path",1206],["T_WHITESPACE"," ",1206],"=",["T_WHITESPACE"," ",1206],["T_ARRAY","array",1206],"(",")",";",["T_WHITESPACE","\n\n        ",1206],["T_VARIABLE","$path",1208],"[",["T_CONSTANT_ENCAPSED_STRING","'baseUrl'",1208],"]",["T_WHITESPACE"," ",1208],"=",["T_WHITESPACE"," ",1208],["T_STRING","Mage",1208],["T_DOUBLE_COLON","::",1208],["T_STRING","getBaseUrl",1208],"(",")",";",["T_WHITESPACE","\n        ",1208],["T_VARIABLE","$path",1209],"[",["T_CONSTANT_ENCAPSED_STRING","'baseSecureUrl'",1209],"]",["T_WHITESPACE"," ",1209],"=",["T_WHITESPACE"," ",1209],["T_STRING","Mage",1209],["T_DOUBLE_COLON","::",1209],["T_STRING","getBaseUrl",1209],"(",["T_CONSTANT_ENCAPSED_STRING","'link'",1209],",",["T_WHITESPACE"," ",1209],["T_STRING","true",1209],")",";",["T_WHITESPACE","\n\n        ",1209],["T_RETURN","return",1211],["T_WHITESPACE"," ",1211],["T_VARIABLE","$path",1211],";",["T_WHITESPACE","\n    ",1211],"}",["T_WHITESPACE","\n\n    ",1212],["T_DOC_COMMENT","\/**\n     * Retrieve class name by class group\n     *\n     * @param   string $groupType currently supported model, block, helper\n     * @param   string $classId slash separated class identifier, ex. group\/class\n     * @param   string $groupRootNode optional config path for group config\n     * @return  string\n     *\/",1214],["T_WHITESPACE","\n    ",1221],["T_PUBLIC","public",1222],["T_WHITESPACE"," ",1222],["T_FUNCTION","function",1222],["T_WHITESPACE"," ",1222],["T_STRING","getGroupedClassName",1222],"(",["T_VARIABLE","$groupType",1222],",",["T_WHITESPACE"," ",1222],["T_VARIABLE","$classId",1222],",",["T_WHITESPACE"," ",1222],["T_VARIABLE","$groupRootNode",1222],"=",["T_STRING","null",1222],")",["T_WHITESPACE","\n    ",1222],"{",["T_WHITESPACE","\n        ",1223],["T_IF","if",1224],["T_WHITESPACE"," ",1224],"(",["T_EMPTY","empty",1224],"(",["T_VARIABLE","$groupRootNode",1224],")",")",["T_WHITESPACE"," ",1224],"{",["T_WHITESPACE","\n            ",1224],["T_VARIABLE","$groupRootNode",1225],["T_WHITESPACE"," ",1225],"=",["T_WHITESPACE"," ",1225],["T_CONSTANT_ENCAPSED_STRING","'global\/'",1225],".",["T_VARIABLE","$groupType",1225],".",["T_CONSTANT_ENCAPSED_STRING","'s'",1225],";",["T_WHITESPACE","\n        ",1225],"}",["T_WHITESPACE","\n\n        ",1226],["T_VARIABLE","$classArr",1228],["T_WHITESPACE"," ",1228],"=",["T_WHITESPACE"," ",1228],["T_STRING","explode",1228],"(",["T_CONSTANT_ENCAPSED_STRING","'\/'",1228],",",["T_WHITESPACE"," ",1228],["T_STRING","trim",1228],"(",["T_VARIABLE","$classId",1228],")",")",";",["T_WHITESPACE","\n        ",1228],["T_VARIABLE","$group",1229],["T_WHITESPACE"," ",1229],"=",["T_WHITESPACE"," ",1229],["T_VARIABLE","$classArr",1229],"[",["T_LNUMBER","0",1229],"]",";",["T_WHITESPACE","\n        ",1229],["T_VARIABLE","$class",1230],["T_WHITESPACE"," ",1230],"=",["T_WHITESPACE"," ",1230],"!",["T_EMPTY","empty",1230],"(",["T_VARIABLE","$classArr",1230],"[",["T_LNUMBER","1",1230],"]",")",["T_WHITESPACE"," ",1230],"?",["T_WHITESPACE"," ",1230],["T_VARIABLE","$classArr",1230],"[",["T_LNUMBER","1",1230],"]",["T_WHITESPACE"," ",1230],":",["T_WHITESPACE"," ",1230],["T_STRING","null",1230],";",["T_WHITESPACE","\n\n        ",1230],["T_IF","if",1232],["T_WHITESPACE"," ",1232],"(",["T_ISSET","isset",1232],"(",["T_VARIABLE","$this",1232],["T_OBJECT_OPERATOR","->",1232],["T_STRING","_classNameCache",1232],"[",["T_VARIABLE","$groupRootNode",1232],"]","[",["T_VARIABLE","$group",1232],"]","[",["T_VARIABLE","$class",1232],"]",")",")",["T_WHITESPACE"," ",1232],"{",["T_WHITESPACE","\n            ",1232],["T_RETURN","return",1233],["T_WHITESPACE"," ",1233],["T_VARIABLE","$this",1233],["T_OBJECT_OPERATOR","->",1233],["T_STRING","_classNameCache",1233],"[",["T_VARIABLE","$groupRootNode",1233],"]","[",["T_VARIABLE","$group",1233],"]","[",["T_VARIABLE","$class",1233],"]",";",["T_WHITESPACE","\n        ",1233],"}",["T_WHITESPACE","\n\n        ",1234],["T_VARIABLE","$config",1236],["T_WHITESPACE"," ",1236],"=",["T_WHITESPACE"," ",1236],["T_VARIABLE","$this",1236],["T_OBJECT_OPERATOR","->",1236],["T_STRING","_xml",1236],["T_OBJECT_OPERATOR","->",1236],["T_STRING","global",1236],["T_OBJECT_OPERATOR","->",1236],"{",["T_VARIABLE","$groupType",1236],".",["T_CONSTANT_ENCAPSED_STRING","'s'",1236],"}",["T_OBJECT_OPERATOR","->",1236],"{",["T_VARIABLE","$group",1236],"}",";",["T_WHITESPACE","\n\n        ",1236],["T_COMMENT","\/\/ First - check maybe the entity class was rewritten\n",1238],["T_WHITESPACE","        ",1239],["T_VARIABLE","$className",1239],["T_WHITESPACE"," ",1239],"=",["T_WHITESPACE"," ",1239],["T_STRING","null",1239],";",["T_WHITESPACE","\n        ",1239],["T_IF","if",1240],["T_WHITESPACE"," ",1240],"(",["T_ISSET","isset",1240],"(",["T_VARIABLE","$config",1240],["T_OBJECT_OPERATOR","->",1240],["T_STRING","rewrite",1240],["T_OBJECT_OPERATOR","->",1240],["T_VARIABLE","$class",1240],")",")",["T_WHITESPACE"," ",1240],"{",["T_WHITESPACE","\n            ",1240],["T_VARIABLE","$className",1241],["T_WHITESPACE"," ",1241],"=",["T_WHITESPACE"," ",1241],["T_STRING_CAST","(string)",1241],["T_VARIABLE","$config",1241],["T_OBJECT_OPERATOR","->",1241],["T_STRING","rewrite",1241],["T_OBJECT_OPERATOR","->",1241],["T_VARIABLE","$class",1241],";",["T_WHITESPACE","\n        ",1241],"}",["T_WHITESPACE"," ",1242],["T_ELSE","else",1242],["T_WHITESPACE"," ",1242],"{",["T_WHITESPACE","\n            ",1242],["T_DOC_COMMENT","\/**\n             * Backwards compatibility for pre-MMDB extensions.\n             * In MMDB release resource nodes <..._mysql4> were renamed to <..._resource>. So <deprecatedNode> is left\n             * to keep name of previously used nodes, that still may be used by non-updated extensions.\n             *\/",1243],["T_WHITESPACE","\n            ",1247],["T_IF","if",1248],["T_WHITESPACE"," ",1248],"(",["T_ISSET","isset",1248],"(",["T_VARIABLE","$config",1248],["T_OBJECT_OPERATOR","->",1248],["T_STRING","deprecatedNode",1248],")",")",["T_WHITESPACE"," ",1248],"{",["T_WHITESPACE","\n                ",1248],["T_VARIABLE","$deprecatedNode",1249],["T_WHITESPACE"," ",1249],"=",["T_WHITESPACE"," ",1249],["T_VARIABLE","$config",1249],["T_OBJECT_OPERATOR","->",1249],["T_STRING","deprecatedNode",1249],";",["T_WHITESPACE","\n                ",1249],["T_VARIABLE","$configOld",1250],["T_WHITESPACE"," ",1250],"=",["T_WHITESPACE"," ",1250],["T_VARIABLE","$this",1250],["T_OBJECT_OPERATOR","->",1250],["T_STRING","_xml",1250],["T_OBJECT_OPERATOR","->",1250],["T_STRING","global",1250],["T_OBJECT_OPERATOR","->",1250],"{",["T_VARIABLE","$groupType",1250],".",["T_CONSTANT_ENCAPSED_STRING","'s'",1250],"}",["T_OBJECT_OPERATOR","->",1250],["T_VARIABLE","$deprecatedNode",1250],";",["T_WHITESPACE","\n                ",1250],["T_IF","if",1251],["T_WHITESPACE"," ",1251],"(",["T_ISSET","isset",1251],"(",["T_VARIABLE","$configOld",1251],["T_OBJECT_OPERATOR","->",1251],["T_STRING","rewrite",1251],["T_OBJECT_OPERATOR","->",1251],["T_VARIABLE","$class",1251],")",")",["T_WHITESPACE"," ",1251],"{",["T_WHITESPACE","\n                    ",1251],["T_VARIABLE","$className",1252],["T_WHITESPACE"," ",1252],"=",["T_WHITESPACE"," ",1252],["T_STRING_CAST","(string)",1252],["T_WHITESPACE"," ",1252],["T_VARIABLE","$configOld",1252],["T_OBJECT_OPERATOR","->",1252],["T_STRING","rewrite",1252],["T_OBJECT_OPERATOR","->",1252],["T_VARIABLE","$class",1252],";",["T_WHITESPACE","\n                ",1252],"}",["T_WHITESPACE","\n            ",1253],"}",["T_WHITESPACE","\n        ",1254],"}",["T_WHITESPACE","\n\n        ",1255],["T_COMMENT","\/\/ Second - if entity is not rewritten then use class prefix to form class name\n",1257],["T_WHITESPACE","        ",1258],["T_IF","if",1258],["T_WHITESPACE"," ",1258],"(",["T_EMPTY","empty",1258],"(",["T_VARIABLE","$className",1258],")",")",["T_WHITESPACE"," ",1258],"{",["T_WHITESPACE","\n            ",1258],["T_IF","if",1259],["T_WHITESPACE"," ",1259],"(","!",["T_EMPTY","empty",1259],"(",["T_VARIABLE","$config",1259],")",")",["T_WHITESPACE"," ",1259],"{",["T_WHITESPACE","\n                ",1259],["T_VARIABLE","$className",1260],["T_WHITESPACE"," ",1260],"=",["T_WHITESPACE"," ",1260],["T_VARIABLE","$config",1260],["T_OBJECT_OPERATOR","->",1260],["T_STRING","getClassName",1260],"(",")",";",["T_WHITESPACE","\n            ",1260],"}",["T_WHITESPACE","\n            ",1261],["T_IF","if",1262],["T_WHITESPACE"," ",1262],"(",["T_EMPTY","empty",1262],"(",["T_VARIABLE","$className",1262],")",")",["T_WHITESPACE"," ",1262],"{",["T_WHITESPACE","\n                ",1262],["T_VARIABLE","$className",1263],["T_WHITESPACE"," ",1263],"=",["T_WHITESPACE"," ",1263],["T_CONSTANT_ENCAPSED_STRING","'mage_'",1263],".",["T_VARIABLE","$group",1263],".",["T_CONSTANT_ENCAPSED_STRING","'_'",1263],".",["T_VARIABLE","$groupType",1263],";",["T_WHITESPACE","\n            ",1263],"}",["T_WHITESPACE","\n            ",1264],["T_IF","if",1265],["T_WHITESPACE"," ",1265],"(","!",["T_EMPTY","empty",1265],"(",["T_VARIABLE","$class",1265],")",")",["T_WHITESPACE"," ",1265],"{",["T_WHITESPACE","\n                ",1265],["T_VARIABLE","$className",1266],["T_WHITESPACE"," ",1266],["T_CONCAT_EQUAL",".=",1266],["T_WHITESPACE"," ",1266],["T_CONSTANT_ENCAPSED_STRING","'_'",1266],".",["T_VARIABLE","$class",1266],";",["T_WHITESPACE","\n            ",1266],"}",["T_WHITESPACE","\n            ",1267],["T_VARIABLE","$className",1268],["T_WHITESPACE"," ",1268],"=",["T_WHITESPACE"," ",1268],["T_STRING","uc_words",1268],"(",["T_VARIABLE","$className",1268],")",";",["T_WHITESPACE","\n        ",1268],"}",["T_WHITESPACE","\n\n        ",1269],["T_VARIABLE","$this",1271],["T_OBJECT_OPERATOR","->",1271],["T_STRING","_classNameCache",1271],"[",["T_VARIABLE","$groupRootNode",1271],"]","[",["T_VARIABLE","$group",1271],"]","[",["T_VARIABLE","$class",1271],"]",["T_WHITESPACE"," ",1271],"=",["T_WHITESPACE"," ",1271],["T_VARIABLE","$className",1271],";",["T_WHITESPACE","\n        ",1271],["T_RETURN","return",1272],["T_WHITESPACE"," ",1272],["T_VARIABLE","$className",1272],";",["T_WHITESPACE","\n    ",1272],"}",["T_WHITESPACE","\n\n    ",1273],["T_DOC_COMMENT","\/**\n     * Retrieve block class name\n     *\n     * @param   string $blockType\n     * @return  string\n     *\/",1275],["T_WHITESPACE","\n    ",1280],["T_PUBLIC","public",1281],["T_WHITESPACE"," ",1281],["T_FUNCTION","function",1281],["T_WHITESPACE"," ",1281],["T_STRING","getBlockClassName",1281],"(",["T_VARIABLE","$blockType",1281],")",["T_WHITESPACE","\n    ",1281],"{",["T_WHITESPACE","\n        ",1282],["T_IF","if",1283],["T_WHITESPACE"," ",1283],"(",["T_STRING","strpos",1283],"(",["T_VARIABLE","$blockType",1283],",",["T_WHITESPACE"," ",1283],["T_CONSTANT_ENCAPSED_STRING","'\/'",1283],")",["T_IS_IDENTICAL","===",1283],["T_STRING","false",1283],")",["T_WHITESPACE"," ",1283],"{",["T_WHITESPACE","\n            ",1283],["T_RETURN","return",1284],["T_WHITESPACE"," ",1284],["T_VARIABLE","$blockType",1284],";",["T_WHITESPACE","\n        ",1284],"}",["T_WHITESPACE","\n        ",1285],["T_RETURN","return",1286],["T_WHITESPACE"," ",1286],["T_VARIABLE","$this",1286],["T_OBJECT_OPERATOR","->",1286],["T_STRING","getGroupedClassName",1286],"(",["T_CONSTANT_ENCAPSED_STRING","'block'",1286],",",["T_WHITESPACE"," ",1286],["T_VARIABLE","$blockType",1286],")",";",["T_WHITESPACE","\n    ",1286],"}",["T_WHITESPACE","\n\n    ",1287],["T_DOC_COMMENT","\/**\n     * Retrieve helper class name\n     *\n     * @param   string $name\n     * @return  string\n     *\/",1289],["T_WHITESPACE","\n    ",1294],["T_PUBLIC","public",1295],["T_WHITESPACE"," ",1295],["T_FUNCTION","function",1295],["T_WHITESPACE"," ",1295],["T_STRING","getHelperClassName",1295],"(",["T_VARIABLE","$helperName",1295],")",["T_WHITESPACE","\n    ",1295],"{",["T_WHITESPACE","\n        ",1296],["T_IF","if",1297],["T_WHITESPACE"," ",1297],"(",["T_STRING","strpos",1297],"(",["T_VARIABLE","$helperName",1297],",",["T_WHITESPACE"," ",1297],["T_CONSTANT_ENCAPSED_STRING","'\/'",1297],")",["T_WHITESPACE"," ",1297],["T_IS_IDENTICAL","===",1297],["T_WHITESPACE"," ",1297],["T_STRING","false",1297],")",["T_WHITESPACE"," ",1297],"{",["T_WHITESPACE","\n            ",1297],["T_VARIABLE","$helperName",1298],["T_WHITESPACE"," ",1298],["T_CONCAT_EQUAL",".=",1298],["T_WHITESPACE"," ",1298],["T_CONSTANT_ENCAPSED_STRING","'\/data'",1298],";",["T_WHITESPACE","\n        ",1298],"}",["T_WHITESPACE","\n        ",1299],["T_RETURN","return",1300],["T_WHITESPACE"," ",1300],["T_VARIABLE","$this",1300],["T_OBJECT_OPERATOR","->",1300],["T_STRING","getGroupedClassName",1300],"(",["T_CONSTANT_ENCAPSED_STRING","'helper'",1300],",",["T_WHITESPACE"," ",1300],["T_VARIABLE","$helperName",1300],")",";",["T_WHITESPACE","\n    ",1300],"}",["T_WHITESPACE","\n\n    ",1301],["T_DOC_COMMENT","\/**\n     * Retreive resource helper instance\n     *\n     * Example:\n     * $config->getResourceHelper('cms')\n     * will instantiate Mage_Cms_Model_Resource_Helper_<db_adapter_name>\n     *\n     * @param string $moduleName\n     * @return Mage_Core_Model_Resource_Helper_Abstract|false\n     *\/",1303],["T_WHITESPACE","\n    ",1312],["T_PUBLIC","public",1313],["T_WHITESPACE"," ",1313],["T_FUNCTION","function",1313],["T_WHITESPACE"," ",1313],["T_STRING","getResourceHelper",1313],"(",["T_VARIABLE","$moduleName",1313],")",["T_WHITESPACE","\n    ",1313],"{",["T_WHITESPACE","\n        ",1314],["T_VARIABLE","$connectionModel",1315],["T_WHITESPACE"," ",1315],"=",["T_WHITESPACE"," ",1315],["T_VARIABLE","$this",1315],["T_OBJECT_OPERATOR","->",1315],["T_STRING","_getResourceConnectionModel",1315],"(",["T_VARIABLE","$moduleName",1315],")",";",["T_WHITESPACE","\n        ",1315],["T_VARIABLE","$helperClass",1316],["T_WHITESPACE","     ",1316],"=",["T_WHITESPACE"," ",1316],["T_STRING","sprintf",1316],"(",["T_CONSTANT_ENCAPSED_STRING","'%s\/helper_%s'",1316],",",["T_WHITESPACE"," ",1316],["T_VARIABLE","$moduleName",1316],",",["T_WHITESPACE"," ",1316],["T_VARIABLE","$connectionModel",1316],")",";",["T_WHITESPACE","\n        ",1316],["T_VARIABLE","$helperClassName",1317],["T_WHITESPACE"," ",1317],"=",["T_WHITESPACE"," ",1317],["T_VARIABLE","$this",1317],["T_OBJECT_OPERATOR","->",1317],["T_STRING","_getResourceModelFactoryClassName",1317],"(",["T_VARIABLE","$helperClass",1317],")",";",["T_WHITESPACE","\n        ",1317],["T_IF","if",1318],["T_WHITESPACE"," ",1318],"(",["T_VARIABLE","$helperClassName",1318],")",["T_WHITESPACE"," ",1318],"{",["T_WHITESPACE","\n            ",1318],["T_RETURN","return",1319],["T_WHITESPACE"," ",1319],["T_VARIABLE","$this",1319],["T_OBJECT_OPERATOR","->",1319],["T_STRING","getModelInstance",1319],"(",["T_VARIABLE","$helperClassName",1319],",",["T_WHITESPACE"," ",1319],["T_VARIABLE","$moduleName",1319],")",";",["T_WHITESPACE","\n        ",1319],"}",["T_WHITESPACE","\n\n        ",1320],["T_RETURN","return",1322],["T_WHITESPACE"," ",1322],["T_STRING","false",1322],";",["T_WHITESPACE","\n    ",1322],"}",["T_WHITESPACE","\n\n    ",1323],["T_DOC_COMMENT","\/**\n     * Retrieve module class name\n     *\n     * @param   sting $modelClass\n     * @return  string\n     *\/",1325],["T_WHITESPACE","\n    ",1330],["T_PUBLIC","public",1331],["T_WHITESPACE"," ",1331],["T_FUNCTION","function",1331],["T_WHITESPACE"," ",1331],["T_STRING","getModelClassName",1331],"(",["T_VARIABLE","$modelClass",1331],")",["T_WHITESPACE","\n    ",1331],"{",["T_WHITESPACE","\n        ",1332],["T_VARIABLE","$modelClass",1333],["T_WHITESPACE"," ",1333],"=",["T_WHITESPACE"," ",1333],["T_STRING","trim",1333],"(",["T_VARIABLE","$modelClass",1333],")",";",["T_WHITESPACE","\n        ",1333],["T_IF","if",1334],["T_WHITESPACE"," ",1334],"(",["T_STRING","strpos",1334],"(",["T_VARIABLE","$modelClass",1334],",",["T_WHITESPACE"," ",1334],["T_CONSTANT_ENCAPSED_STRING","'\/'",1334],")",["T_IS_IDENTICAL","===",1334],["T_STRING","false",1334],")",["T_WHITESPACE"," ",1334],"{",["T_WHITESPACE","\n            ",1334],["T_RETURN","return",1335],["T_WHITESPACE"," ",1335],["T_VARIABLE","$modelClass",1335],";",["T_WHITESPACE","\n        ",1335],"}",["T_WHITESPACE","\n        ",1336],["T_RETURN","return",1337],["T_WHITESPACE"," ",1337],["T_VARIABLE","$this",1337],["T_OBJECT_OPERATOR","->",1337],["T_STRING","getGroupedClassName",1337],"(",["T_CONSTANT_ENCAPSED_STRING","'model'",1337],",",["T_WHITESPACE"," ",1337],["T_VARIABLE","$modelClass",1337],")",";",["T_WHITESPACE","\n    ",1337],"}",["T_WHITESPACE","\n\n    ",1338],["T_DOC_COMMENT","\/**\n     * Get model class instance.\n     *\n     * Example:\n     * $config->getModelInstance('catalog\/product')\n     *\n     * Will instantiate Mage_Catalog_Model_Mysql4_Product\n     *\n     * @param string $modelClass\n     * @param array|object $constructArguments\n     * @return Mage_Core_Model_Abstract|false\n     *\/",1340],["T_WHITESPACE","\n    ",1351],["T_PUBLIC","public",1352],["T_WHITESPACE"," ",1352],["T_FUNCTION","function",1352],["T_WHITESPACE"," ",1352],["T_STRING","getModelInstance",1352],"(",["T_VARIABLE","$modelClass",1352],"=",["T_CONSTANT_ENCAPSED_STRING","''",1352],",",["T_WHITESPACE"," ",1352],["T_VARIABLE","$constructArguments",1352],"=",["T_ARRAY","array",1352],"(",")",")",["T_WHITESPACE","\n    ",1352],"{",["T_WHITESPACE","\n        ",1353],["T_VARIABLE","$className",1354],["T_WHITESPACE"," ",1354],"=",["T_WHITESPACE"," ",1354],["T_VARIABLE","$this",1354],["T_OBJECT_OPERATOR","->",1354],["T_STRING","getModelClassName",1354],"(",["T_VARIABLE","$modelClass",1354],")",";",["T_WHITESPACE","\n        ",1354],["T_IF","if",1355],["T_WHITESPACE"," ",1355],"(",["T_STRING","class_exists",1355],"(",["T_VARIABLE","$className",1355],")",")",["T_WHITESPACE"," ",1355],"{",["T_WHITESPACE","\n            ",1355],["T_STRING","Varien_Profiler",1356],["T_DOUBLE_COLON","::",1356],["T_STRING","start",1356],"(",["T_CONSTANT_ENCAPSED_STRING","'CORE::create_object_of::'",1356],".",["T_VARIABLE","$className",1356],")",";",["T_WHITESPACE","\n            ",1356],["T_VARIABLE","$obj",1357],["T_WHITESPACE"," ",1357],"=",["T_WHITESPACE"," ",1357],["T_NEW","new",1357],["T_WHITESPACE"," ",1357],["T_VARIABLE","$className",1357],"(",["T_VARIABLE","$constructArguments",1357],")",";",["T_WHITESPACE","\n            ",1357],["T_STRING","Varien_Profiler",1358],["T_DOUBLE_COLON","::",1358],["T_STRING","stop",1358],"(",["T_CONSTANT_ENCAPSED_STRING","'CORE::create_object_of::'",1358],".",["T_VARIABLE","$className",1358],")",";",["T_WHITESPACE","\n            ",1358],["T_RETURN","return",1359],["T_WHITESPACE"," ",1359],["T_VARIABLE","$obj",1359],";",["T_WHITESPACE","\n        ",1359],"}",["T_WHITESPACE"," ",1360],["T_ELSE","else",1360],["T_WHITESPACE"," ",1360],"{",["T_WHITESPACE","\n            ",1360],["T_RETURN","return",1361],["T_WHITESPACE"," ",1361],["T_STRING","false",1361],";",["T_WHITESPACE","\n        ",1361],"}",["T_WHITESPACE","\n    ",1362],"}",["T_WHITESPACE","\n\n    ",1363],["T_PUBLIC","public",1365],["T_WHITESPACE"," ",1365],["T_FUNCTION","function",1365],["T_WHITESPACE"," ",1365],["T_STRING","getNodeClassInstance",1365],"(",["T_VARIABLE","$path",1365],")",["T_WHITESPACE","\n    ",1365],"{",["T_WHITESPACE","\n        ",1366],["T_VARIABLE","$config",1367],["T_WHITESPACE"," ",1367],"=",["T_WHITESPACE"," ",1367],["T_STRING","Mage",1367],["T_DOUBLE_COLON","::",1367],["T_STRING","getConfig",1367],"(",")",["T_OBJECT_OPERATOR","->",1367],["T_STRING","getNode",1367],"(",["T_VARIABLE","$path",1367],")",";",["T_WHITESPACE","\n        ",1367],["T_IF","if",1368],["T_WHITESPACE"," ",1368],"(","!",["T_VARIABLE","$config",1368],")",["T_WHITESPACE"," ",1368],"{",["T_WHITESPACE","\n            ",1368],["T_RETURN","return",1369],["T_WHITESPACE"," ",1369],["T_STRING","false",1369],";",["T_WHITESPACE","\n        ",1369],"}",["T_WHITESPACE"," ",1370],["T_ELSE","else",1370],["T_WHITESPACE"," ",1370],"{",["T_WHITESPACE","\n            ",1370],["T_VARIABLE","$className",1371],["T_WHITESPACE"," ",1371],"=",["T_WHITESPACE"," ",1371],["T_VARIABLE","$config",1371],["T_OBJECT_OPERATOR","->",1371],["T_STRING","getClassName",1371],"(",")",";",["T_WHITESPACE","\n            ",1371],["T_RETURN","return",1372],["T_WHITESPACE"," ",1372],["T_NEW","new",1372],["T_WHITESPACE"," ",1372],["T_VARIABLE","$className",1372],"(",")",";",["T_WHITESPACE","\n        ",1372],"}",["T_WHITESPACE","\n    ",1373],"}",["T_WHITESPACE","\n\n    ",1374],["T_DOC_COMMENT","\/**\n     * Get resource model object by alias\n     *\n     * @param   string $modelClass\n     * @param   array $constructArguments\n     * @return  object\n     *\/",1376],["T_WHITESPACE","\n    ",1382],["T_PUBLIC","public",1383],["T_WHITESPACE"," ",1383],["T_FUNCTION","function",1383],["T_WHITESPACE"," ",1383],["T_STRING","getResourceModelInstance",1383],"(",["T_VARIABLE","$modelClass",1383],"=",["T_CONSTANT_ENCAPSED_STRING","''",1383],",",["T_WHITESPACE"," ",1383],["T_VARIABLE","$constructArguments",1383],"=",["T_ARRAY","array",1383],"(",")",")",["T_WHITESPACE","\n    ",1383],"{",["T_WHITESPACE","\n        ",1384],["T_VARIABLE","$factoryName",1385],["T_WHITESPACE"," ",1385],"=",["T_WHITESPACE"," ",1385],["T_VARIABLE","$this",1385],["T_OBJECT_OPERATOR","->",1385],["T_STRING","_getResourceModelFactoryClassName",1385],"(",["T_VARIABLE","$modelClass",1385],")",";",["T_WHITESPACE","\n        ",1385],["T_IF","if",1386],["T_WHITESPACE"," ",1386],"(","!",["T_VARIABLE","$factoryName",1386],")",["T_WHITESPACE"," ",1386],"{",["T_WHITESPACE","\n            ",1386],["T_RETURN","return",1387],["T_WHITESPACE"," ",1387],["T_STRING","false",1387],";",["T_WHITESPACE","\n        ",1387],"}",["T_WHITESPACE","\n        ",1388],["T_RETURN","return",1389],["T_WHITESPACE"," ",1389],["T_VARIABLE","$this",1389],["T_OBJECT_OPERATOR","->",1389],["T_STRING","getModelInstance",1389],"(",["T_VARIABLE","$factoryName",1389],",",["T_WHITESPACE"," ",1389],["T_VARIABLE","$constructArguments",1389],")",";",["T_WHITESPACE","\n    ",1389],"}",["T_WHITESPACE","\n\n    ",1390],["T_DOC_COMMENT","\/**\n     * Get resource configuration for resource name\n     *\n     * @param string $name\n     * @return Varien_Simplexml_Object\n     *\/",1392],["T_WHITESPACE","\n    ",1397],["T_PUBLIC","public",1398],["T_WHITESPACE"," ",1398],["T_FUNCTION","function",1398],["T_WHITESPACE"," ",1398],["T_STRING","getResourceConfig",1398],"(",["T_VARIABLE","$name",1398],")",["T_WHITESPACE","\n    ",1398],"{",["T_WHITESPACE","\n        ",1399],["T_RETURN","return",1400],["T_WHITESPACE"," ",1400],["T_VARIABLE","$this",1400],["T_OBJECT_OPERATOR","->",1400],["T_STRING","_xml",1400],["T_OBJECT_OPERATOR","->",1400],["T_STRING","global",1400],["T_OBJECT_OPERATOR","->",1400],["T_STRING","resources",1400],["T_OBJECT_OPERATOR","->",1400],"{",["T_VARIABLE","$name",1400],"}",";",["T_WHITESPACE","\n    ",1400],"}",["T_WHITESPACE","\n\n    ",1401],["T_DOC_COMMENT","\/**\n     * Get connection configuration\n     *\n     * @param   string $name\n     * @return  Varien_Simplexml_Element\n     *\/",1403],["T_WHITESPACE","\n    ",1408],["T_PUBLIC","public",1409],["T_WHITESPACE"," ",1409],["T_FUNCTION","function",1409],["T_WHITESPACE"," ",1409],["T_STRING","getResourceConnectionConfig",1409],"(",["T_VARIABLE","$name",1409],")",["T_WHITESPACE","\n    ",1409],"{",["T_WHITESPACE","\n        ",1410],["T_VARIABLE","$config",1411],["T_WHITESPACE"," ",1411],"=",["T_WHITESPACE"," ",1411],["T_VARIABLE","$this",1411],["T_OBJECT_OPERATOR","->",1411],["T_STRING","getResourceConfig",1411],"(",["T_VARIABLE","$name",1411],")",";",["T_WHITESPACE","\n        ",1411],["T_IF","if",1412],["T_WHITESPACE"," ",1412],"(",["T_VARIABLE","$config",1412],")",["T_WHITESPACE"," ",1412],"{",["T_WHITESPACE","\n            ",1412],["T_VARIABLE","$conn",1413],["T_WHITESPACE"," ",1413],"=",["T_WHITESPACE"," ",1413],["T_VARIABLE","$config",1413],["T_OBJECT_OPERATOR","->",1413],["T_STRING","connection",1413],";",["T_WHITESPACE","\n            ",1413],["T_IF","if",1414],["T_WHITESPACE"," ",1414],"(",["T_VARIABLE","$conn",1414],")",["T_WHITESPACE"," ",1414],"{",["T_WHITESPACE","\n                ",1414],["T_IF","if",1415],["T_WHITESPACE"," ",1415],"(","!",["T_EMPTY","empty",1415],"(",["T_VARIABLE","$conn",1415],["T_OBJECT_OPERATOR","->",1415],["T_STRING","use",1415],")",")",["T_WHITESPACE"," ",1415],"{",["T_WHITESPACE","\n                    ",1415],["T_RETURN","return",1416],["T_WHITESPACE"," ",1416],["T_VARIABLE","$this",1416],["T_OBJECT_OPERATOR","->",1416],["T_STRING","getResourceConnectionConfig",1416],"(",["T_STRING_CAST","(string)",1416],["T_VARIABLE","$conn",1416],["T_OBJECT_OPERATOR","->",1416],["T_STRING","use",1416],")",";",["T_WHITESPACE","\n                ",1416],"}",["T_WHITESPACE"," ",1417],["T_ELSE","else",1417],["T_WHITESPACE"," ",1417],"{",["T_WHITESPACE","\n                    ",1417],["T_RETURN","return",1418],["T_WHITESPACE"," ",1418],["T_VARIABLE","$conn",1418],";",["T_WHITESPACE","\n                ",1418],"}",["T_WHITESPACE","\n            ",1419],"}",["T_WHITESPACE","\n        ",1420],"}",["T_WHITESPACE","\n        ",1421],["T_RETURN","return",1422],["T_WHITESPACE"," ",1422],["T_STRING","false",1422],";",["T_WHITESPACE","\n    ",1422],"}",["T_WHITESPACE","\n\n    ",1423],["T_DOC_COMMENT","\/**\n     * Retrieve resource type configuration for resource name\n     *\n     * @param string $type\n     * @return Varien_Simplexml_Object\n     *\/",1425],["T_WHITESPACE","\n    ",1430],["T_PUBLIC","public",1431],["T_WHITESPACE"," ",1431],["T_FUNCTION","function",1431],["T_WHITESPACE"," ",1431],["T_STRING","getResourceTypeConfig",1431],"(",["T_VARIABLE","$type",1431],")",["T_WHITESPACE","\n    ",1431],"{",["T_WHITESPACE","\n        ",1432],["T_RETURN","return",1433],["T_WHITESPACE"," ",1433],["T_VARIABLE","$this",1433],["T_OBJECT_OPERATOR","->",1433],["T_STRING","_xml",1433],["T_OBJECT_OPERATOR","->",1433],["T_STRING","global",1433],["T_OBJECT_OPERATOR","->",1433],["T_STRING","resource",1433],["T_OBJECT_OPERATOR","->",1433],["T_STRING","connection",1433],["T_OBJECT_OPERATOR","->",1433],["T_STRING","types",1433],["T_OBJECT_OPERATOR","->",1433],"{",["T_VARIABLE","$type",1433],"}",";",["T_WHITESPACE","\n    ",1433],"}",["T_WHITESPACE","\n\n    ",1434],["T_DOC_COMMENT","\/**\n     * Retrieve store Ids for $path with checking\n     *\n     * if empty $allowValues then retrieve all stores values\n     *\n     * return array($storeId=>$pathValue)\n     *\n     * @param   string $path\n     * @param   array  $allowValues\n     * @return  array\n     *\/",1436],["T_WHITESPACE","\n    ",1446],["T_PUBLIC","public",1447],["T_WHITESPACE"," ",1447],["T_FUNCTION","function",1447],["T_WHITESPACE"," ",1447],["T_STRING","getStoresConfigByPath",1447],"(",["T_VARIABLE","$path",1447],",",["T_WHITESPACE"," ",1447],["T_VARIABLE","$allowValues",1447],["T_WHITESPACE"," ",1447],"=",["T_WHITESPACE"," ",1447],["T_ARRAY","array",1447],"(",")",",",["T_WHITESPACE"," ",1447],["T_VARIABLE","$useAsKey",1447],["T_WHITESPACE"," ",1447],"=",["T_WHITESPACE"," ",1447],["T_CONSTANT_ENCAPSED_STRING","'id'",1447],")",["T_WHITESPACE","\n    ",1447],"{",["T_WHITESPACE","\n        ",1448],["T_VARIABLE","$storeValues",1449],["T_WHITESPACE"," ",1449],"=",["T_WHITESPACE"," ",1449],["T_ARRAY","array",1449],"(",")",";",["T_WHITESPACE","\n        ",1449],["T_VARIABLE","$stores",1450],["T_WHITESPACE"," ",1450],"=",["T_WHITESPACE"," ",1450],["T_VARIABLE","$this",1450],["T_OBJECT_OPERATOR","->",1450],["T_STRING","getNode",1450],"(",["T_CONSTANT_ENCAPSED_STRING","'stores'",1450],")",";",["T_WHITESPACE","\n        ",1450],["T_FOREACH","foreach",1451],["T_WHITESPACE"," ",1451],"(",["T_VARIABLE","$stores",1451],["T_OBJECT_OPERATOR","->",1451],["T_STRING","children",1451],"(",")",["T_WHITESPACE"," ",1451],["T_AS","as",1451],["T_WHITESPACE"," ",1451],["T_VARIABLE","$code",1451],["T_WHITESPACE"," ",1451],["T_DOUBLE_ARROW","=>",1451],["T_WHITESPACE"," ",1451],["T_VARIABLE","$store",1451],")",["T_WHITESPACE"," ",1451],"{",["T_WHITESPACE","\n            ",1451],["T_SWITCH","switch",1452],["T_WHITESPACE"," ",1452],"(",["T_VARIABLE","$useAsKey",1452],")",["T_WHITESPACE"," ",1452],"{",["T_WHITESPACE","\n                ",1452],["T_CASE","case",1453],["T_WHITESPACE"," ",1453],["T_CONSTANT_ENCAPSED_STRING","'id'",1453],":",["T_WHITESPACE","\n                    ",1453],["T_VARIABLE","$key",1454],["T_WHITESPACE"," ",1454],"=",["T_WHITESPACE"," ",1454],["T_INT_CAST","(int)",1454],["T_WHITESPACE"," ",1454],["T_VARIABLE","$store",1454],["T_OBJECT_OPERATOR","->",1454],["T_STRING","descend",1454],"(",["T_CONSTANT_ENCAPSED_STRING","'system\/store\/id'",1454],")",";",["T_WHITESPACE","\n                    ",1454],["T_BREAK","break",1455],";",["T_WHITESPACE","\n\n                ",1455],["T_CASE","case",1457],["T_WHITESPACE"," ",1457],["T_CONSTANT_ENCAPSED_STRING","'code'",1457],":",["T_WHITESPACE","\n                    ",1457],["T_VARIABLE","$key",1458],["T_WHITESPACE"," ",1458],"=",["T_WHITESPACE"," ",1458],["T_VARIABLE","$code",1458],";",["T_WHITESPACE","\n                    ",1458],["T_BREAK","break",1459],";",["T_WHITESPACE","\n\n                ",1459],["T_CASE","case",1461],["T_WHITESPACE"," ",1461],["T_CONSTANT_ENCAPSED_STRING","'name'",1461],":",["T_WHITESPACE","\n                    ",1461],["T_VARIABLE","$key",1462],["T_WHITESPACE"," ",1462],"=",["T_WHITESPACE"," ",1462],["T_STRING_CAST","(string)",1462],["T_WHITESPACE"," ",1462],["T_VARIABLE","$store",1462],["T_OBJECT_OPERATOR","->",1462],["T_STRING","descend",1462],"(",["T_CONSTANT_ENCAPSED_STRING","'system\/store\/name'",1462],")",";",["T_WHITESPACE","\n            ",1462],"}",["T_WHITESPACE","\n            ",1463],["T_IF","if",1464],["T_WHITESPACE"," ",1464],"(",["T_VARIABLE","$key",1464],["T_WHITESPACE"," ",1464],["T_IS_IDENTICAL","===",1464],["T_WHITESPACE"," ",1464],["T_STRING","false",1464],")",["T_WHITESPACE"," ",1464],"{",["T_WHITESPACE","\n                ",1464],["T_CONTINUE","continue",1465],";",["T_WHITESPACE","\n            ",1465],"}",["T_WHITESPACE","\n\n            ",1466],["T_VARIABLE","$pathValue",1468],["T_WHITESPACE"," ",1468],"=",["T_WHITESPACE"," ",1468],["T_STRING_CAST","(string)",1468],["T_WHITESPACE"," ",1468],["T_VARIABLE","$store",1468],["T_OBJECT_OPERATOR","->",1468],["T_STRING","descend",1468],"(",["T_VARIABLE","$path",1468],")",";",["T_WHITESPACE","\n\n            ",1468],["T_IF","if",1470],["T_WHITESPACE"," ",1470],"(",["T_EMPTY","empty",1470],"(",["T_VARIABLE","$allowValues",1470],")",")",["T_WHITESPACE"," ",1470],"{",["T_WHITESPACE","\n                ",1470],["T_VARIABLE","$storeValues",1471],"[",["T_VARIABLE","$key",1471],"]",["T_WHITESPACE"," ",1471],"=",["T_WHITESPACE"," ",1471],["T_VARIABLE","$pathValue",1471],";",["T_WHITESPACE","\n            ",1471],"}",["T_WHITESPACE"," ",1472],["T_ELSE","else",1472],["T_WHITESPACE"," ",1472],["T_IF","if",1472],["T_WHITESPACE"," ",1472],"(",["T_STRING","in_array",1472],"(",["T_VARIABLE","$pathValue",1472],",",["T_WHITESPACE"," ",1472],["T_VARIABLE","$allowValues",1472],")",")",["T_WHITESPACE"," ",1472],"{",["T_WHITESPACE","\n                ",1472],["T_VARIABLE","$storeValues",1473],"[",["T_VARIABLE","$key",1473],"]",["T_WHITESPACE"," ",1473],"=",["T_WHITESPACE"," ",1473],["T_VARIABLE","$pathValue",1473],";",["T_WHITESPACE","\n            ",1473],"}",["T_WHITESPACE","\n        ",1474],"}",["T_WHITESPACE","\n        ",1475],["T_RETURN","return",1476],["T_WHITESPACE"," ",1476],["T_VARIABLE","$storeValues",1476],";",["T_WHITESPACE","\n    ",1476],"}",["T_WHITESPACE","\n\n    ",1477],["T_DOC_COMMENT","\/**\n     * Check whether given path should be secure according to configuration security requirements for URL\n     * \"Secure\" should not be confused with https protocol, it is about web\/secure\/*_url settings usage only\n     *\n     * @param string $url\n     * @return bool\n     *\/",1479],["T_WHITESPACE","\n    ",1485],["T_PUBLIC","public",1486],["T_WHITESPACE"," ",1486],["T_FUNCTION","function",1486],["T_WHITESPACE"," ",1486],["T_STRING","shouldUrlBeSecure",1486],"(",["T_VARIABLE","$url",1486],")",["T_WHITESPACE","\n    ",1486],"{",["T_WHITESPACE","\n        ",1487],["T_IF","if",1488],["T_WHITESPACE"," ",1488],"(","!",["T_STRING","Mage",1488],["T_DOUBLE_COLON","::",1488],["T_STRING","getStoreConfigFlag",1488],"(",["T_STRING","Mage_Core_Model_Store",1488],["T_DOUBLE_COLON","::",1488],["T_STRING","XML_PATH_SECURE_IN_FRONTEND",1488],")",")",["T_WHITESPACE"," ",1488],"{",["T_WHITESPACE","\n            ",1488],["T_RETURN","return",1489],["T_WHITESPACE"," ",1489],["T_STRING","false",1489],";",["T_WHITESPACE","\n        ",1489],"}",["T_WHITESPACE","\n\n        ",1490],["T_IF","if",1492],["T_WHITESPACE"," ",1492],"(","!",["T_ISSET","isset",1492],"(",["T_VARIABLE","$this",1492],["T_OBJECT_OPERATOR","->",1492],["T_STRING","_secureUrlCache",1492],"[",["T_VARIABLE","$url",1492],"]",")",")",["T_WHITESPACE"," ",1492],"{",["T_WHITESPACE","\n            ",1492],["T_VARIABLE","$this",1493],["T_OBJECT_OPERATOR","->",1493],["T_STRING","_secureUrlCache",1493],"[",["T_VARIABLE","$url",1493],"]",["T_WHITESPACE"," ",1493],"=",["T_WHITESPACE"," ",1493],["T_STRING","false",1493],";",["T_WHITESPACE","\n            ",1493],["T_VARIABLE","$secureUrls",1494],["T_WHITESPACE"," ",1494],"=",["T_WHITESPACE"," ",1494],["T_VARIABLE","$this",1494],["T_OBJECT_OPERATOR","->",1494],["T_STRING","getNode",1494],"(",["T_CONSTANT_ENCAPSED_STRING","'frontend\/secure_url'",1494],")",";",["T_WHITESPACE","\n            ",1494],["T_FOREACH","foreach",1495],["T_WHITESPACE"," ",1495],"(",["T_VARIABLE","$secureUrls",1495],["T_OBJECT_OPERATOR","->",1495],["T_STRING","children",1495],"(",")",["T_WHITESPACE"," ",1495],["T_AS","as",1495],["T_WHITESPACE"," ",1495],["T_VARIABLE","$match",1495],")",["T_WHITESPACE"," ",1495],"{",["T_WHITESPACE","\n                ",1495],["T_IF","if",1496],["T_WHITESPACE"," ",1496],"(",["T_STRING","strpos",1496],"(",["T_VARIABLE","$url",1496],",",["T_WHITESPACE"," ",1496],["T_STRING_CAST","(string)",1496],["T_VARIABLE","$match",1496],")",["T_WHITESPACE"," ",1496],["T_IS_IDENTICAL","===",1496],["T_WHITESPACE"," ",1496],["T_LNUMBER","0",1496],")",["T_WHITESPACE"," ",1496],"{",["T_WHITESPACE","\n                    ",1496],["T_VARIABLE","$this",1497],["T_OBJECT_OPERATOR","->",1497],["T_STRING","_secureUrlCache",1497],"[",["T_VARIABLE","$url",1497],"]",["T_WHITESPACE"," ",1497],"=",["T_WHITESPACE"," ",1497],["T_STRING","true",1497],";",["T_WHITESPACE","\n                    ",1497],["T_BREAK","break",1498],";",["T_WHITESPACE","\n                ",1498],"}",["T_WHITESPACE","\n            ",1499],"}",["T_WHITESPACE","\n        ",1500],"}",["T_WHITESPACE","\n\n        ",1501],["T_RETURN","return",1503],["T_WHITESPACE"," ",1503],["T_VARIABLE","$this",1503],["T_OBJECT_OPERATOR","->",1503],["T_STRING","_secureUrlCache",1503],"[",["T_VARIABLE","$url",1503],"]",";",["T_WHITESPACE","\n    ",1503],"}",["T_WHITESPACE","\n\n    ",1504],["T_DOC_COMMENT","\/**\n     * Get DB table names prefix\n     *\n     * @return string\n     *\/",1506],["T_WHITESPACE","\n    ",1510],["T_PUBLIC","public",1511],["T_WHITESPACE"," ",1511],["T_FUNCTION","function",1511],["T_WHITESPACE"," ",1511],["T_STRING","getTablePrefix",1511],"(",")",["T_WHITESPACE","\n    ",1511],"{",["T_WHITESPACE","\n        ",1512],["T_RETURN","return",1513],["T_WHITESPACE"," ",1513],["T_VARIABLE","$this",1513],["T_OBJECT_OPERATOR","->",1513],["T_STRING","_xml",1513],["T_OBJECT_OPERATOR","->",1513],["T_STRING","global",1513],["T_OBJECT_OPERATOR","->",1513],["T_STRING","resources",1513],["T_OBJECT_OPERATOR","->",1513],["T_STRING","db",1513],["T_OBJECT_OPERATOR","->",1513],["T_STRING","table_prefix",1513],";",["T_WHITESPACE","\n    ",1513],"}",["T_WHITESPACE","\n\n    ",1514],["T_DOC_COMMENT","\/**\n     * Get events configuration\n     *\n     * @param   string $area event area\n     * @param   string $eventName event name\n     * @return  Mage_Core_Model_Config_Element\n     *\/",1516],["T_WHITESPACE","\n    ",1522],["T_PUBLIC","public",1523],["T_WHITESPACE"," ",1523],["T_FUNCTION","function",1523],["T_WHITESPACE"," ",1523],["T_STRING","getEventConfig",1523],"(",["T_VARIABLE","$area",1523],",",["T_WHITESPACE"," ",1523],["T_VARIABLE","$eventName",1523],")",["T_WHITESPACE","\n    ",1523],"{",["T_WHITESPACE","\n        ",1524],["T_COMMENT","\/\/return $this->getNode($area)->events->{$eventName};\n",1525],["T_WHITESPACE","        ",1526],["T_IF","if",1526],["T_WHITESPACE"," ",1526],"(","!",["T_ISSET","isset",1526],"(",["T_VARIABLE","$this",1526],["T_OBJECT_OPERATOR","->",1526],["T_STRING","_eventAreas",1526],"[",["T_VARIABLE","$area",1526],"]",")",")",["T_WHITESPACE"," ",1526],"{",["T_WHITESPACE","\n            ",1526],["T_VARIABLE","$this",1527],["T_OBJECT_OPERATOR","->",1527],["T_STRING","_eventAreas",1527],"[",["T_VARIABLE","$area",1527],"]",["T_WHITESPACE"," ",1527],"=",["T_WHITESPACE"," ",1527],["T_VARIABLE","$this",1527],["T_OBJECT_OPERATOR","->",1527],["T_STRING","getNode",1527],"(",["T_VARIABLE","$area",1527],")",["T_OBJECT_OPERATOR","->",1527],["T_STRING","events",1527],";",["T_WHITESPACE","\n        ",1527],"}",["T_WHITESPACE","\n        ",1528],["T_RETURN","return",1529],["T_WHITESPACE"," ",1529],["T_VARIABLE","$this",1529],["T_OBJECT_OPERATOR","->",1529],["T_STRING","_eventAreas",1529],"[",["T_VARIABLE","$area",1529],"]",["T_OBJECT_OPERATOR","->",1529],"{",["T_VARIABLE","$eventName",1529],"}",";",["T_WHITESPACE","\n    ",1529],"}",["T_WHITESPACE","\n\n    ",1530],["T_DOC_COMMENT","\/**\n     * Save config value to DB\n     *\n     * @param string $path\n     * @param string $value\n     * @param string $scope\n     * @param int $scopeId\n     * @return Mage_Core_Store_Config\n     *\/",1532],["T_WHITESPACE","\n    ",1540],["T_PUBLIC","public",1541],["T_WHITESPACE"," ",1541],["T_FUNCTION","function",1541],["T_WHITESPACE"," ",1541],["T_STRING","saveConfig",1541],"(",["T_VARIABLE","$path",1541],",",["T_WHITESPACE"," ",1541],["T_VARIABLE","$value",1541],",",["T_WHITESPACE"," ",1541],["T_VARIABLE","$scope",1541],["T_WHITESPACE"," ",1541],"=",["T_WHITESPACE"," ",1541],["T_CONSTANT_ENCAPSED_STRING","'default'",1541],",",["T_WHITESPACE"," ",1541],["T_VARIABLE","$scopeId",1541],["T_WHITESPACE"," ",1541],"=",["T_WHITESPACE"," ",1541],["T_LNUMBER","0",1541],")",["T_WHITESPACE","\n    ",1541],"{",["T_WHITESPACE","\n        ",1542],["T_VARIABLE","$resource",1543],["T_WHITESPACE"," ",1543],"=",["T_WHITESPACE"," ",1543],["T_VARIABLE","$this",1543],["T_OBJECT_OPERATOR","->",1543],["T_STRING","getResourceModel",1543],"(",")",";",["T_WHITESPACE","\n        ",1543],["T_VARIABLE","$resource",1544],["T_OBJECT_OPERATOR","->",1544],["T_STRING","saveConfig",1544],"(",["T_STRING","rtrim",1544],"(",["T_VARIABLE","$path",1544],",",["T_WHITESPACE"," ",1544],["T_CONSTANT_ENCAPSED_STRING","'\/'",1544],")",",",["T_WHITESPACE"," ",1544],["T_VARIABLE","$value",1544],",",["T_WHITESPACE"," ",1544],["T_VARIABLE","$scope",1544],",",["T_WHITESPACE"," ",1544],["T_VARIABLE","$scopeId",1544],")",";",["T_WHITESPACE","\n\n        ",1544],["T_RETURN","return",1546],["T_WHITESPACE"," ",1546],["T_VARIABLE","$this",1546],";",["T_WHITESPACE","\n    ",1546],"}",["T_WHITESPACE","\n\n    ",1547],["T_DOC_COMMENT","\/**\n     * Delete config value from DB\n     *\n     * @param   string $path\n     * @param   string $scope\n     * @param   int $scopeId\n     * @return  Mage_Core_Model_Config\n     *\/",1549],["T_WHITESPACE","\n    ",1556],["T_PUBLIC","public",1557],["T_WHITESPACE"," ",1557],["T_FUNCTION","function",1557],["T_WHITESPACE"," ",1557],["T_STRING","deleteConfig",1557],"(",["T_VARIABLE","$path",1557],",",["T_WHITESPACE"," ",1557],["T_VARIABLE","$scope",1557],["T_WHITESPACE"," ",1557],"=",["T_WHITESPACE"," ",1557],["T_CONSTANT_ENCAPSED_STRING","'default'",1557],",",["T_WHITESPACE"," ",1557],["T_VARIABLE","$scopeId",1557],["T_WHITESPACE"," ",1557],"=",["T_WHITESPACE"," ",1557],["T_LNUMBER","0",1557],")",["T_WHITESPACE","\n    ",1557],"{",["T_WHITESPACE","\n        ",1558],["T_VARIABLE","$resource",1559],["T_WHITESPACE"," ",1559],"=",["T_WHITESPACE"," ",1559],["T_VARIABLE","$this",1559],["T_OBJECT_OPERATOR","->",1559],["T_STRING","getResourceModel",1559],"(",")",";",["T_WHITESPACE","\n        ",1559],["T_VARIABLE","$resource",1560],["T_OBJECT_OPERATOR","->",1560],["T_STRING","deleteConfig",1560],"(",["T_STRING","rtrim",1560],"(",["T_VARIABLE","$path",1560],",",["T_WHITESPACE"," ",1560],["T_CONSTANT_ENCAPSED_STRING","'\/'",1560],")",",",["T_WHITESPACE"," ",1560],["T_VARIABLE","$scope",1560],",",["T_WHITESPACE"," ",1560],["T_VARIABLE","$scopeId",1560],")",";",["T_WHITESPACE","\n\n        ",1560],["T_RETURN","return",1562],["T_WHITESPACE"," ",1562],["T_VARIABLE","$this",1562],";",["T_WHITESPACE","\n    ",1562],"}",["T_WHITESPACE","\n\n    ",1563],["T_DOC_COMMENT","\/**\n     * Get fieldset from configuration\n     *\n     * @param string $name fieldset name\n     * @param string $root fieldset area, could be 'admin'\n     * @return null|array\n     *\/",1565],["T_WHITESPACE","\n    ",1571],["T_PUBLIC","public",1572],["T_WHITESPACE"," ",1572],["T_FUNCTION","function",1572],["T_WHITESPACE"," ",1572],["T_STRING","getFieldset",1572],"(",["T_VARIABLE","$name",1572],",",["T_WHITESPACE"," ",1572],["T_VARIABLE","$root",1572],["T_WHITESPACE"," ",1572],"=",["T_WHITESPACE"," ",1572],["T_CONSTANT_ENCAPSED_STRING","'global'",1572],")",["T_WHITESPACE","\n    ",1572],"{",["T_WHITESPACE","\n        ",1573],["T_VARIABLE","$rootNode",1574],["T_WHITESPACE"," ",1574],"=",["T_WHITESPACE"," ",1574],["T_VARIABLE","$this",1574],["T_OBJECT_OPERATOR","->",1574],["T_STRING","getNode",1574],"(",["T_VARIABLE","$root",1574],".",["T_CONSTANT_ENCAPSED_STRING","'\/fieldsets'",1574],")",";",["T_WHITESPACE","\n        ",1574],["T_IF","if",1575],["T_WHITESPACE"," ",1575],"(","!",["T_VARIABLE","$rootNode",1575],")",["T_WHITESPACE"," ",1575],"{",["T_WHITESPACE","\n            ",1575],["T_RETURN","return",1576],["T_WHITESPACE"," ",1576],["T_STRING","null",1576],";",["T_WHITESPACE","\n        ",1576],"}",["T_WHITESPACE","\n        ",1577],["T_RETURN","return",1578],["T_WHITESPACE"," ",1578],["T_VARIABLE","$rootNode",1578],["T_OBJECT_OPERATOR","->",1578],["T_VARIABLE","$name",1578],["T_WHITESPACE"," ",1578],"?",["T_WHITESPACE"," ",1578],["T_VARIABLE","$rootNode",1578],["T_OBJECT_OPERATOR","->",1578],["T_VARIABLE","$name",1578],["T_OBJECT_OPERATOR","->",1578],["T_STRING","children",1578],"(",")",["T_WHITESPACE"," ",1578],":",["T_WHITESPACE"," ",1578],["T_STRING","null",1578],";",["T_WHITESPACE","\n    ",1578],"}",["T_WHITESPACE","\n\n    ",1579],["T_DOC_COMMENT","\/**\n     * Retrieve resource connection model name\n     *\n     * @param string $moduleName\n     * @return string\n     *\/",1581],["T_WHITESPACE","\n    ",1586],["T_PROTECTED","protected",1587],["T_WHITESPACE"," ",1587],["T_FUNCTION","function",1587],["T_WHITESPACE"," ",1587],["T_STRING","_getResourceConnectionModel",1587],"(",["T_VARIABLE","$moduleName",1587],["T_WHITESPACE"," ",1587],"=",["T_WHITESPACE"," ",1587],["T_STRING","null",1587],")",["T_WHITESPACE","\n    ",1587],"{",["T_WHITESPACE","\n        ",1588],["T_VARIABLE","$config",1589],["T_WHITESPACE"," ",1589],"=",["T_WHITESPACE"," ",1589],["T_STRING","null",1589],";",["T_WHITESPACE","\n        ",1589],["T_IF","if",1590],["T_WHITESPACE"," ",1590],"(","!",["T_STRING","is_null",1590],"(",["T_VARIABLE","$moduleName",1590],")",")",["T_WHITESPACE"," ",1590],"{",["T_WHITESPACE","\n            ",1590],["T_VARIABLE","$setupResource",1591],["T_WHITESPACE"," ",1591],"=",["T_WHITESPACE"," ",1591],["T_VARIABLE","$moduleName",1591],["T_WHITESPACE"," ",1591],".",["T_WHITESPACE"," ",1591],["T_CONSTANT_ENCAPSED_STRING","'_setup'",1591],";",["T_WHITESPACE","\n            ",1591],["T_VARIABLE","$config",1592],["T_WHITESPACE","        ",1592],"=",["T_WHITESPACE"," ",1592],["T_VARIABLE","$this",1592],["T_OBJECT_OPERATOR","->",1592],["T_STRING","getResourceConnectionConfig",1592],"(",["T_VARIABLE","$setupResource",1592],")",";",["T_WHITESPACE","\n        ",1592],"}",["T_WHITESPACE","\n        ",1593],["T_IF","if",1594],["T_WHITESPACE"," ",1594],"(","!",["T_VARIABLE","$config",1594],")",["T_WHITESPACE"," ",1594],"{",["T_WHITESPACE","\n            ",1594],["T_VARIABLE","$config",1595],["T_WHITESPACE"," ",1595],"=",["T_WHITESPACE"," ",1595],["T_VARIABLE","$this",1595],["T_OBJECT_OPERATOR","->",1595],["T_STRING","getResourceConnectionConfig",1595],"(",["T_STRING","Mage_Core_Model_Resource",1595],["T_DOUBLE_COLON","::",1595],["T_STRING","DEFAULT_SETUP_RESOURCE",1595],")",";",["T_WHITESPACE","\n        ",1595],"}",["T_WHITESPACE","\n\n        ",1596],["T_RETURN","return",1598],["T_WHITESPACE"," ",1598],["T_STRING_CAST","(string)",1598],["T_VARIABLE","$config",1598],["T_OBJECT_OPERATOR","->",1598],["T_STRING","model",1598],";",["T_WHITESPACE","\n    ",1598],"}",["T_WHITESPACE","\n\n    ",1599],["T_DOC_COMMENT","\/**\n     * Get factory class name for a resource\n     *\n     * @param string $modelClass\n     * @return string|false\n     *\/",1601],["T_WHITESPACE","\n    ",1606],["T_PROTECTED","protected",1607],["T_WHITESPACE"," ",1607],["T_FUNCTION","function",1607],["T_WHITESPACE"," ",1607],["T_STRING","_getResourceModelFactoryClassName",1607],"(",["T_VARIABLE","$modelClass",1607],")",["T_WHITESPACE","\n    ",1607],"{",["T_WHITESPACE","\n        ",1608],["T_VARIABLE","$classArray",1609],["T_WHITESPACE"," ",1609],"=",["T_WHITESPACE"," ",1609],["T_STRING","explode",1609],"(",["T_CONSTANT_ENCAPSED_STRING","'\/'",1609],",",["T_WHITESPACE"," ",1609],["T_VARIABLE","$modelClass",1609],")",";",["T_WHITESPACE","\n        ",1609],["T_IF","if",1610],["T_WHITESPACE"," ",1610],"(",["T_STRING","count",1610],"(",["T_VARIABLE","$classArray",1610],")",["T_WHITESPACE"," ",1610],["T_IS_NOT_EQUAL","!=",1610],["T_WHITESPACE"," ",1610],["T_LNUMBER","2",1610],")",["T_WHITESPACE"," ",1610],"{",["T_WHITESPACE","\n            ",1610],["T_RETURN","return",1611],["T_WHITESPACE"," ",1611],["T_STRING","false",1611],";",["T_WHITESPACE","\n        ",1611],"}",["T_WHITESPACE","\n\n        ",1612],["T_LIST","list",1614],"(",["T_VARIABLE","$module",1614],",",["T_WHITESPACE"," ",1614],["T_VARIABLE","$model",1614],")",["T_WHITESPACE"," ",1614],"=",["T_WHITESPACE"," ",1614],["T_VARIABLE","$classArray",1614],";",["T_WHITESPACE","\n        ",1614],["T_IF","if",1615],["T_WHITESPACE"," ",1615],"(","!",["T_ISSET","isset",1615],"(",["T_VARIABLE","$this",1615],["T_OBJECT_OPERATOR","->",1615],["T_STRING","_xml",1615],["T_OBJECT_OPERATOR","->",1615],["T_STRING","global",1615],["T_OBJECT_OPERATOR","->",1615],["T_STRING","models",1615],["T_OBJECT_OPERATOR","->",1615],"{",["T_VARIABLE","$module",1615],"}",")",")",["T_WHITESPACE"," ",1615],"{",["T_WHITESPACE","\n            ",1615],["T_RETURN","return",1616],["T_WHITESPACE"," ",1616],["T_STRING","false",1616],";",["T_WHITESPACE","\n        ",1616],"}",["T_WHITESPACE","\n\n        ",1617],["T_VARIABLE","$moduleNode",1619],["T_WHITESPACE"," ",1619],"=",["T_WHITESPACE"," ",1619],["T_VARIABLE","$this",1619],["T_OBJECT_OPERATOR","->",1619],["T_STRING","_xml",1619],["T_OBJECT_OPERATOR","->",1619],["T_STRING","global",1619],["T_OBJECT_OPERATOR","->",1619],["T_STRING","models",1619],["T_OBJECT_OPERATOR","->",1619],"{",["T_VARIABLE","$module",1619],"}",";",["T_WHITESPACE","\n        ",1619],["T_IF","if",1620],["T_WHITESPACE"," ",1620],"(","!",["T_EMPTY","empty",1620],"(",["T_VARIABLE","$moduleNode",1620],["T_OBJECT_OPERATOR","->",1620],["T_STRING","resourceModel",1620],")",")",["T_WHITESPACE"," ",1620],"{",["T_WHITESPACE","\n            ",1620],["T_VARIABLE","$resourceModel",1621],["T_WHITESPACE"," ",1621],"=",["T_WHITESPACE"," ",1621],["T_STRING_CAST","(string)",1621],["T_VARIABLE","$moduleNode",1621],["T_OBJECT_OPERATOR","->",1621],["T_STRING","resourceModel",1621],";",["T_WHITESPACE","\n        ",1621],"}",["T_WHITESPACE"," ",1622],["T_ELSE","else",1622],["T_WHITESPACE"," ",1622],"{",["T_WHITESPACE","\n            ",1622],["T_RETURN","return",1623],["T_WHITESPACE"," ",1623],["T_STRING","false",1623],";",["T_WHITESPACE","\n        ",1623],"}",["T_WHITESPACE","\n\n        ",1624],["T_RETURN","return",1626],["T_WHITESPACE"," ",1626],["T_VARIABLE","$resourceModel",1626],["T_WHITESPACE"," ",1626],".",["T_WHITESPACE"," ",1626],["T_CONSTANT_ENCAPSED_STRING","'\/'",1626],["T_WHITESPACE"," ",1626],".",["T_WHITESPACE"," ",1626],["T_VARIABLE","$model",1626],";",["T_WHITESPACE","\n    ",1626],"}",["T_WHITESPACE","\n\n    ",1627],["T_DOC_COMMENT","\/**\n     * Get a resource model class name\n     *\n     * @param string $modelClass\n     * @return string|false\n     *\/",1629],["T_WHITESPACE","\n    ",1634],["T_PUBLIC","public",1635],["T_WHITESPACE"," ",1635],["T_FUNCTION","function",1635],["T_WHITESPACE"," ",1635],["T_STRING","getResourceModelClassName",1635],"(",["T_VARIABLE","$modelClass",1635],")",["T_WHITESPACE","\n    ",1635],"{",["T_WHITESPACE","\n        ",1636],["T_VARIABLE","$factoryName",1637],["T_WHITESPACE"," ",1637],"=",["T_WHITESPACE"," ",1637],["T_VARIABLE","$this",1637],["T_OBJECT_OPERATOR","->",1637],["T_STRING","_getResourceModelFactoryClassName",1637],"(",["T_VARIABLE","$modelClass",1637],")",";",["T_WHITESPACE","\n        ",1637],["T_IF","if",1638],["T_WHITESPACE"," ",1638],"(",["T_VARIABLE","$factoryName",1638],")",["T_WHITESPACE"," ",1638],"{",["T_WHITESPACE","\n            ",1638],["T_RETURN","return",1639],["T_WHITESPACE"," ",1639],["T_VARIABLE","$this",1639],["T_OBJECT_OPERATOR","->",1639],["T_STRING","getModelClassName",1639],"(",["T_VARIABLE","$factoryName",1639],")",";",["T_WHITESPACE","\n        ",1639],"}",["T_WHITESPACE","\n        ",1640],["T_RETURN","return",1641],["T_WHITESPACE"," ",1641],["T_STRING","false",1641],";",["T_WHITESPACE","\n    ",1641],"}",["T_WHITESPACE","\n\n    ",1642],["T_DOC_COMMENT","\/**\n     * Makes all events to lower-case\n     *\n     * @param string $area\n     * @param Varien_Simplexml_Config $mergeModel\n     *\/",1644],["T_WHITESPACE","\n    ",1649],["T_PROTECTED","protected",1650],["T_WHITESPACE"," ",1650],["T_FUNCTION","function",1650],["T_WHITESPACE"," ",1650],["T_STRING","_makeEventsLowerCase",1650],"(",["T_VARIABLE","$area",1650],",",["T_WHITESPACE"," ",1650],["T_STRING","Varien_Simplexml_Config",1650],["T_WHITESPACE"," ",1650],["T_VARIABLE","$mergeModel",1650],")",["T_WHITESPACE","\n    ",1650],"{",["T_WHITESPACE","\n        ",1651],["T_VARIABLE","$events",1652],["T_WHITESPACE"," ",1652],"=",["T_WHITESPACE"," ",1652],["T_VARIABLE","$mergeModel",1652],["T_OBJECT_OPERATOR","->",1652],["T_STRING","getNode",1652],"(",["T_VARIABLE","$area",1652],["T_WHITESPACE"," ",1652],".",["T_WHITESPACE"," ",1652],["T_CONSTANT_ENCAPSED_STRING","\"\/\"",1652],["T_WHITESPACE"," ",1652],".",["T_WHITESPACE"," ",1652],["T_STRING","Mage_Core_Model_App_Area",1652],["T_DOUBLE_COLON","::",1652],["T_STRING","PART_EVENTS",1652],")",";",["T_WHITESPACE","\n        ",1652],["T_IF","if",1653],["T_WHITESPACE"," ",1653],"(",["T_VARIABLE","$events",1653],["T_WHITESPACE"," ",1653],["T_IS_NOT_IDENTICAL","!==",1653],["T_WHITESPACE"," ",1653],["T_STRING","false",1653],")",["T_WHITESPACE"," ",1653],"{",["T_WHITESPACE","\n            ",1653],["T_VARIABLE","$children",1654],["T_WHITESPACE"," ",1654],"=",["T_WHITESPACE"," ",1654],["T_CLONE","clone",1654],["T_WHITESPACE"," ",1654],["T_VARIABLE","$events",1654],["T_OBJECT_OPERATOR","->",1654],["T_STRING","children",1654],"(",")",";",["T_WHITESPACE","\n            ",1654],["T_DOC_COMMENT","\/** @var Mage_Core_Model_Config_Element $event *\/",1655],["T_WHITESPACE","\n            ",1655],["T_FOREACH","foreach",1656],["T_WHITESPACE"," ",1656],"(",["T_VARIABLE","$children",1656],["T_WHITESPACE"," ",1656],["T_AS","as",1656],["T_WHITESPACE"," ",1656],["T_VARIABLE","$event",1656],")",["T_WHITESPACE"," ",1656],"{",["T_WHITESPACE","\n                ",1656],["T_IF","if",1657],["T_WHITESPACE"," ",1657],"(",["T_VARIABLE","$this",1657],["T_OBJECT_OPERATOR","->",1657],["T_STRING","_isNodeNameHasUpperCase",1657],"(",["T_VARIABLE","$event",1657],")",")",["T_WHITESPACE"," ",1657],"{",["T_WHITESPACE","\n                    ",1657],["T_VARIABLE","$oldName",1658],["T_WHITESPACE"," ",1658],"=",["T_WHITESPACE"," ",1658],["T_VARIABLE","$event",1658],["T_OBJECT_OPERATOR","->",1658],["T_STRING","getName",1658],"(",")",";",["T_WHITESPACE","\n                    ",1658],["T_VARIABLE","$newEventName",1659],["T_WHITESPACE"," ",1659],"=",["T_WHITESPACE"," ",1659],["T_STRING","strtolower",1659],"(",["T_VARIABLE","$oldName",1659],")",";",["T_WHITESPACE","\n                    ",1659],["T_IF","if",1660],["T_WHITESPACE"," ",1660],"(","!",["T_ISSET","isset",1660],"(",["T_VARIABLE","$events",1660],["T_OBJECT_OPERATOR","->",1660],["T_VARIABLE","$newEventName",1660],")",")",["T_WHITESPACE"," ",1660],"{",["T_WHITESPACE","\n                        ",1660],["T_DOC_COMMENT","\/** @var Mage_Core_Model_Config_Element $newNode *\/",1661],["T_WHITESPACE","\n                        ",1661],["T_VARIABLE","$newNode",1662],["T_WHITESPACE"," ",1662],"=",["T_WHITESPACE"," ",1662],["T_VARIABLE","$events",1662],["T_OBJECT_OPERATOR","->",1662],["T_STRING","addChild",1662],"(",["T_VARIABLE","$newEventName",1662],",",["T_WHITESPACE"," ",1662],["T_VARIABLE","$event",1662],")",";",["T_WHITESPACE","\n                        ",1662],["T_VARIABLE","$newNode",1663],["T_OBJECT_OPERATOR","->",1663],["T_STRING","extend",1663],"(",["T_VARIABLE","$event",1663],")",";",["T_WHITESPACE","\n                    ",1663],"}",["T_WHITESPACE","\n                    ",1664],["T_UNSET","unset",1665],"(",["T_VARIABLE","$events",1665],["T_OBJECT_OPERATOR","->",1665],["T_VARIABLE","$oldName",1665],")",";",["T_WHITESPACE","\n                ",1665],"}",["T_WHITESPACE","\n            ",1666],"}",["T_WHITESPACE","\n        ",1667],"}",["T_WHITESPACE","\n    ",1668],"}",["T_WHITESPACE","\n\n    ",1669],["T_DOC_COMMENT","\/**\n     * Checks is event name has upper-case letters\n     *\n     * @param Mage_Core_Model_Config_Element $event\n     * @return bool\n     *\/",1671],["T_WHITESPACE","\n    ",1676],["T_PROTECTED","protected",1677],["T_WHITESPACE"," ",1677],["T_FUNCTION","function",1677],["T_WHITESPACE"," ",1677],["T_STRING","_isNodeNameHasUpperCase",1677],"(",["T_STRING","Mage_Core_Model_Config_Element",1677],["T_WHITESPACE"," ",1677],["T_VARIABLE","$event",1677],")",["T_WHITESPACE","\n    ",1677],"{",["T_WHITESPACE","\n        ",1678],["T_RETURN","return",1679],["T_WHITESPACE"," ",1679],"(",["T_STRING","strtolower",1679],"(",["T_VARIABLE","$event",1679],["T_OBJECT_OPERATOR","->",1679],["T_STRING","getName",1679],"(",")",")",["T_WHITESPACE"," ",1679],["T_IS_NOT_IDENTICAL","!==",1679],["T_WHITESPACE"," ",1679],["T_STRING_CAST","(string)",1679],["T_VARIABLE","$event",1679],["T_OBJECT_OPERATOR","->",1679],["T_STRING","getName",1679],"(",")",")",";",["T_WHITESPACE","\n    ",1679],"}",["T_WHITESPACE","\n",1680],"}",["T_WHITESPACE","\n",1681]]