[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Magento\n *\n * NOTICE OF LICENSE\n *\n * This source file is subject to the Open Software License (OSL 3.0)\n * that is bundled with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/opensource.org\/licenses\/osl-3.0.php\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@magento.com so we can send you a copy immediately.\n *\n * DISCLAIMER\n *\n * Do not edit or add to this file if you wish to upgrade Magento to newer\n * versions in the future. If you wish to customize Magento for your\n * needs please refer to http:\/\/www.magento.com for more information.\n *\n * @category    Mage\n * @package     Mage_Core\n * @copyright  Copyright (c) 2006-2016 X.commerce, Inc. and affiliates (http:\/\/www.magento.com)\n * @license    http:\/\/opensource.org\/licenses\/osl-3.0.php  Open Software License (OSL 3.0)\n *\/",2],["T_WHITESPACE","\n\n",25],["T_DOC_COMMENT","\/**\n * Core URL helper\n *\n * @category    Mage\n * @package     Mage_Core\n * @author      Magento Core Team <core@magentocommerce.com>\n *\/",27],["T_WHITESPACE","\n",33],["T_CLASS","class",34],["T_WHITESPACE"," ",34],["T_STRING","Mage_Core_Helper_Url",34],["T_WHITESPACE"," ",34],["T_EXTENDS","extends",34],["T_WHITESPACE"," ",34],["T_STRING","Mage_Core_Helper_Abstract",34],["T_WHITESPACE","\n",34],"{",["T_WHITESPACE","\n\n    ",35],["T_DOC_COMMENT","\/**\n     * Retrieve current url\n     *\n     * @return string\n     *\/",37],["T_WHITESPACE","\n    ",41],["T_PUBLIC","public",42],["T_WHITESPACE"," ",42],["T_FUNCTION","function",42],["T_WHITESPACE"," ",42],["T_STRING","getCurrentUrl",42],"(",")",["T_WHITESPACE","\n    ",42],"{",["T_WHITESPACE","\n        ",43],["T_VARIABLE","$request",44],["T_WHITESPACE"," ",44],"=",["T_WHITESPACE"," ",44],["T_STRING","Mage",44],["T_DOUBLE_COLON","::",44],["T_STRING","app",44],"(",")",["T_OBJECT_OPERATOR","->",44],["T_STRING","getRequest",44],"(",")",";",["T_WHITESPACE","\n        ",44],["T_VARIABLE","$port",45],["T_WHITESPACE"," ",45],"=",["T_WHITESPACE"," ",45],["T_VARIABLE","$request",45],["T_OBJECT_OPERATOR","->",45],["T_STRING","getServer",45],"(",["T_CONSTANT_ENCAPSED_STRING","'SERVER_PORT'",45],")",";",["T_WHITESPACE","\n        ",45],["T_IF","if",46],["T_WHITESPACE"," ",46],"(",["T_VARIABLE","$port",46],")",["T_WHITESPACE"," ",46],"{",["T_WHITESPACE","\n            ",46],["T_VARIABLE","$defaultPorts",47],["T_WHITESPACE"," ",47],"=",["T_WHITESPACE"," ",47],["T_ARRAY","array",47],"(",["T_WHITESPACE","\n                ",47],["T_STRING","Mage_Core_Controller_Request_Http",48],["T_DOUBLE_COLON","::",48],["T_STRING","DEFAULT_HTTP_PORT",48],",",["T_WHITESPACE","\n                ",48],["T_STRING","Mage_Core_Controller_Request_Http",49],["T_DOUBLE_COLON","::",49],["T_STRING","DEFAULT_HTTPS_PORT",49],["T_WHITESPACE","\n            ",49],")",";",["T_WHITESPACE","\n            ",50],["T_VARIABLE","$port",51],["T_WHITESPACE"," ",51],"=",["T_WHITESPACE"," ",51],"(",["T_STRING","in_array",51],"(",["T_VARIABLE","$port",51],",",["T_WHITESPACE"," ",51],["T_VARIABLE","$defaultPorts",51],")",")",["T_WHITESPACE"," ",51],"?",["T_WHITESPACE"," ",51],["T_CONSTANT_ENCAPSED_STRING","''",51],["T_WHITESPACE"," ",51],":",["T_WHITESPACE"," ",51],["T_CONSTANT_ENCAPSED_STRING","':'",51],["T_WHITESPACE"," ",51],".",["T_WHITESPACE"," ",51],["T_VARIABLE","$port",51],";",["T_WHITESPACE","\n        ",51],"}",["T_WHITESPACE","\n        ",52],["T_VARIABLE","$url",53],["T_WHITESPACE"," ",53],"=",["T_WHITESPACE"," ",53],["T_VARIABLE","$request",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","getScheme",53],"(",")",["T_WHITESPACE"," ",53],".",["T_WHITESPACE"," ",53],["T_CONSTANT_ENCAPSED_STRING","':\/\/'",53],["T_WHITESPACE"," ",53],".",["T_WHITESPACE"," ",53],["T_VARIABLE","$request",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","getHttpHost",53],"(",")",["T_WHITESPACE"," ",53],".",["T_WHITESPACE"," ",53],["T_VARIABLE","$port",53],["T_WHITESPACE"," ",53],".",["T_WHITESPACE"," ",53],["T_VARIABLE","$request",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","getServer",53],"(",["T_CONSTANT_ENCAPSED_STRING","'REQUEST_URI'",53],")",";",["T_WHITESPACE","\n        ",53],["T_RETURN","return",54],["T_WHITESPACE"," ",54],["T_VARIABLE","$this",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","escapeUrl",54],"(",["T_VARIABLE","$url",54],")",";",["T_WHITESPACE","\n",54],["T_COMMENT","\/\/        return $this->_getUrl('*\/*\/*', array('_current' => true, '_use_rewrite' => true));\n",55],["T_WHITESPACE","    ",56],"}",["T_WHITESPACE","\n\n    ",56],["T_DOC_COMMENT","\/**\n     * Retrieve current url in base64 encoding\n     *\n     * @return string\n     *\/",58],["T_WHITESPACE","\n    ",62],["T_PUBLIC","public",63],["T_WHITESPACE"," ",63],["T_FUNCTION","function",63],["T_WHITESPACE"," ",63],["T_STRING","getCurrentBase64Url",63],"(",")",["T_WHITESPACE","\n    ",63],"{",["T_WHITESPACE","\n        ",64],["T_RETURN","return",65],["T_WHITESPACE"," ",65],["T_VARIABLE","$this",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","urlEncode",65],"(",["T_VARIABLE","$this",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","getCurrentUrl",65],"(",")",")",";",["T_WHITESPACE","\n    ",65],"}",["T_WHITESPACE","\n\n    ",66],["T_DOC_COMMENT","\/**\n     * Return encoded url\n     *\n     * @param null|string $url\n     * @return string\n     *\/",68],["T_WHITESPACE","\n    ",73],["T_PUBLIC","public",74],["T_WHITESPACE"," ",74],["T_FUNCTION","function",74],["T_WHITESPACE"," ",74],["T_STRING","getEncodedUrl",74],"(",["T_VARIABLE","$url",74],["T_WHITESPACE"," ",74],"=",["T_WHITESPACE"," ",74],["T_STRING","null",74],")",["T_WHITESPACE","\n    ",74],"{",["T_WHITESPACE","\n        ",75],["T_IF","if",76],["T_WHITESPACE"," ",76],"(","!",["T_VARIABLE","$url",76],")",["T_WHITESPACE"," ",76],"{",["T_WHITESPACE","\n            ",76],["T_VARIABLE","$url",77],["T_WHITESPACE"," ",77],"=",["T_WHITESPACE"," ",77],["T_VARIABLE","$this",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","getCurrentUrl",77],"(",")",";",["T_WHITESPACE","\n        ",77],"}",["T_WHITESPACE","\n        ",78],["T_RETURN","return",79],["T_WHITESPACE"," ",79],["T_VARIABLE","$this",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","urlEncode",79],"(",["T_VARIABLE","$url",79],")",";",["T_WHITESPACE","\n    ",79],"}",["T_WHITESPACE","\n\n    ",80],["T_DOC_COMMENT","\/**\n     * Retrieve homepage url\n     *\n     * @return string\n     *\/",82],["T_WHITESPACE","\n    ",86],["T_PUBLIC","public",87],["T_WHITESPACE"," ",87],["T_FUNCTION","function",87],["T_WHITESPACE"," ",87],["T_STRING","getHomeUrl",87],"(",")",["T_WHITESPACE","\n    ",87],"{",["T_WHITESPACE","\n        ",88],["T_RETURN","return",89],["T_WHITESPACE"," ",89],["T_STRING","Mage",89],["T_DOUBLE_COLON","::",89],["T_STRING","getBaseUrl",89],"(",")",";",["T_WHITESPACE","\n    ",89],"}",["T_WHITESPACE","\n\n    ",90],["T_DOC_COMMENT","\/**\n     * Formatting string\n     *\n     * @param string $string\n     * @return string\n     *\/",92],["T_WHITESPACE","\n    ",97],["T_PROTECTED","protected",98],["T_WHITESPACE"," ",98],["T_FUNCTION","function",98],["T_WHITESPACE"," ",98],["T_STRING","_prepareString",98],"(",["T_VARIABLE","$string",98],")",["T_WHITESPACE","\n    ",98],"{",["T_WHITESPACE","\n        ",99],["T_VARIABLE","$string",100],["T_WHITESPACE"," ",100],"=",["T_WHITESPACE"," ",100],["T_STRING","preg_replace",100],"(",["T_CONSTANT_ENCAPSED_STRING","'#[^0-9a-z]+#i'",100],",",["T_WHITESPACE"," ",100],["T_CONSTANT_ENCAPSED_STRING","'-'",100],",",["T_WHITESPACE"," ",100],["T_VARIABLE","$string",100],")",";",["T_WHITESPACE","\n        ",100],["T_VARIABLE","$string",101],["T_WHITESPACE"," ",101],"=",["T_WHITESPACE"," ",101],["T_STRING","strtolower",101],"(",["T_VARIABLE","$string",101],")",";",["T_WHITESPACE","\n        ",101],["T_VARIABLE","$string",102],["T_WHITESPACE"," ",102],"=",["T_WHITESPACE"," ",102],["T_STRING","trim",102],"(",["T_VARIABLE","$string",102],",",["T_WHITESPACE"," ",102],["T_CONSTANT_ENCAPSED_STRING","'-'",102],")",";",["T_WHITESPACE","\n\n        ",102],["T_RETURN","return",104],["T_WHITESPACE"," ",104],["T_VARIABLE","$string",104],";",["T_WHITESPACE","\n    ",104],"}",["T_WHITESPACE","\n\n    ",105],["T_DOC_COMMENT","\/**\n     * Add request parameter into url\n     *\n     * @param  $url string\n     * @param  $param array( 'key' => value )\n     * @return string\n     *\/",107],["T_WHITESPACE","\n    ",113],["T_PUBLIC","public",114],["T_WHITESPACE"," ",114],["T_FUNCTION","function",114],["T_WHITESPACE"," ",114],["T_STRING","addRequestParam",114],"(",["T_VARIABLE","$url",114],",",["T_WHITESPACE"," ",114],["T_VARIABLE","$param",114],")",["T_WHITESPACE","\n    ",114],"{",["T_WHITESPACE","\n        ",115],["T_VARIABLE","$startDelimiter",116],["T_WHITESPACE"," ",116],"=",["T_WHITESPACE"," ",116],"(",["T_STRING","false",116],["T_WHITESPACE"," ",116],["T_IS_IDENTICAL","===",116],["T_WHITESPACE"," ",116],["T_STRING","strpos",116],"(",["T_VARIABLE","$url",116],",",["T_CONSTANT_ENCAPSED_STRING","'?'",116],")",")","?",["T_WHITESPACE"," ",116],["T_CONSTANT_ENCAPSED_STRING","'?'",116],["T_WHITESPACE"," ",116],":",["T_WHITESPACE"," ",116],["T_CONSTANT_ENCAPSED_STRING","'&'",116],";",["T_WHITESPACE","\n\n        ",116],["T_VARIABLE","$arrQueryParams",118],["T_WHITESPACE"," ",118],"=",["T_WHITESPACE"," ",118],["T_ARRAY","array",118],"(",")",";",["T_WHITESPACE","\n        ",118],["T_FOREACH","foreach",119],["T_WHITESPACE"," ",119],"(",["T_VARIABLE","$param",119],["T_WHITESPACE"," ",119],["T_AS","as",119],["T_WHITESPACE"," ",119],["T_VARIABLE","$key",119],["T_WHITESPACE"," ",119],["T_DOUBLE_ARROW","=>",119],["T_WHITESPACE"," ",119],["T_VARIABLE","$value",119],")",["T_WHITESPACE"," ",119],"{",["T_WHITESPACE","\n            ",119],["T_IF","if",120],["T_WHITESPACE"," ",120],"(",["T_STRING","is_numeric",120],"(",["T_VARIABLE","$key",120],")",["T_WHITESPACE"," ",120],["T_BOOLEAN_OR","||",120],["T_WHITESPACE"," ",120],["T_STRING","is_object",120],"(",["T_VARIABLE","$value",120],")",")",["T_WHITESPACE"," ",120],"{",["T_WHITESPACE","\n                ",120],["T_CONTINUE","continue",121],";",["T_WHITESPACE","\n            ",121],"}",["T_WHITESPACE","\n\n            ",122],["T_IF","if",124],["T_WHITESPACE"," ",124],"(",["T_STRING","is_array",124],"(",["T_VARIABLE","$value",124],")",")",["T_WHITESPACE"," ",124],"{",["T_WHITESPACE","\n                ",124],["T_COMMENT","\/\/ $key[]=$value1&$key[]=$value2 ...\n",125],["T_WHITESPACE","                ",126],["T_VARIABLE","$arrQueryParams",126],"[","]",["T_WHITESPACE"," ",126],"=",["T_WHITESPACE"," ",126],["T_VARIABLE","$key",126],["T_WHITESPACE"," ",126],".",["T_WHITESPACE"," ",126],["T_CONSTANT_ENCAPSED_STRING","'[]='",126],["T_WHITESPACE"," ",126],".",["T_WHITESPACE"," ",126],["T_STRING","implode",126],"(",["T_CONSTANT_ENCAPSED_STRING","'&'",126],["T_WHITESPACE"," ",126],".",["T_WHITESPACE"," ",126],["T_VARIABLE","$key",126],["T_WHITESPACE"," ",126],".",["T_WHITESPACE"," ",126],["T_CONSTANT_ENCAPSED_STRING","'[]='",126],",",["T_WHITESPACE"," ",126],["T_VARIABLE","$value",126],")",";",["T_WHITESPACE","\n            ",126],"}",["T_WHITESPACE"," ",127],["T_ELSEIF","elseif",127],["T_WHITESPACE"," ",127],"(",["T_STRING","is_null",127],"(",["T_VARIABLE","$value",127],")",")",["T_WHITESPACE"," ",127],"{",["T_WHITESPACE","\n                ",127],["T_VARIABLE","$arrQueryParams",128],"[","]",["T_WHITESPACE"," ",128],"=",["T_WHITESPACE"," ",128],["T_VARIABLE","$key",128],";",["T_WHITESPACE","\n            ",128],"}",["T_WHITESPACE"," ",129],["T_ELSE","else",129],["T_WHITESPACE"," ",129],"{",["T_WHITESPACE","\n                ",129],["T_VARIABLE","$arrQueryParams",130],"[","]",["T_WHITESPACE"," ",130],"=",["T_WHITESPACE"," ",130],["T_VARIABLE","$key",130],["T_WHITESPACE"," ",130],".",["T_WHITESPACE"," ",130],["T_CONSTANT_ENCAPSED_STRING","'='",130],["T_WHITESPACE"," ",130],".",["T_WHITESPACE"," ",130],["T_VARIABLE","$value",130],";",["T_WHITESPACE","\n            ",130],"}",["T_WHITESPACE","\n        ",131],"}",["T_WHITESPACE","\n        ",132],["T_VARIABLE","$url",133],["T_WHITESPACE"," ",133],["T_CONCAT_EQUAL",".=",133],["T_WHITESPACE"," ",133],["T_VARIABLE","$startDelimiter",133],["T_WHITESPACE"," ",133],".",["T_WHITESPACE"," ",133],["T_STRING","implode",133],"(",["T_CONSTANT_ENCAPSED_STRING","'&'",133],",",["T_WHITESPACE"," ",133],["T_VARIABLE","$arrQueryParams",133],")",";",["T_WHITESPACE","\n\n        ",133],["T_RETURN","return",135],["T_WHITESPACE"," ",135],["T_VARIABLE","$url",135],";",["T_WHITESPACE","\n    ",135],"}",["T_WHITESPACE","\n\n    ",136],["T_DOC_COMMENT","\/**\n     * Remove request parameter from url\n     *\n     * @param string $url\n     * @param string $paramKey\n     * @param boolean $caseSensitive\n     * @return string\n     *\/",138],["T_WHITESPACE","\n    ",145],["T_PUBLIC","public",146],["T_WHITESPACE"," ",146],["T_FUNCTION","function",146],["T_WHITESPACE"," ",146],["T_STRING","removeRequestParam",146],"(",["T_VARIABLE","$url",146],",",["T_WHITESPACE"," ",146],["T_VARIABLE","$paramKey",146],",",["T_WHITESPACE"," ",146],["T_VARIABLE","$caseSensitive",146],["T_WHITESPACE"," ",146],"=",["T_WHITESPACE"," ",146],["T_STRING","false",146],")",["T_WHITESPACE","\n    ",146],"{",["T_WHITESPACE","\n        ",147],["T_VARIABLE","$regExpression",148],["T_WHITESPACE"," ",148],"=",["T_WHITESPACE"," ",148],["T_CONSTANT_ENCAPSED_STRING","'\/\\\\?[^#]*?('",148],["T_WHITESPACE"," ",148],".",["T_WHITESPACE"," ",148],["T_STRING","preg_quote",148],"(",["T_VARIABLE","$paramKey",148],",",["T_WHITESPACE"," ",148],["T_CONSTANT_ENCAPSED_STRING","'\/'",148],")",["T_WHITESPACE"," ",148],".",["T_WHITESPACE"," ",148],["T_CONSTANT_ENCAPSED_STRING","'\\\\=[^#&]*&?)\/'",148],["T_WHITESPACE"," ",148],".",["T_WHITESPACE"," ",148],"(",["T_VARIABLE","$caseSensitive",148],["T_WHITESPACE"," ",148],"?",["T_WHITESPACE"," ",148],["T_CONSTANT_ENCAPSED_STRING","''",148],["T_WHITESPACE"," ",148],":",["T_WHITESPACE"," ",148],["T_CONSTANT_ENCAPSED_STRING","'i'",148],")",";",["T_WHITESPACE","\n        ",148],["T_WHILE","while",149],["T_WHITESPACE"," ",149],"(",["T_STRING","preg_match",149],"(",["T_VARIABLE","$regExpression",149],",",["T_WHITESPACE"," ",149],["T_VARIABLE","$url",149],",",["T_WHITESPACE"," ",149],["T_VARIABLE","$mathes",149],")",["T_WHITESPACE"," ",149],["T_IS_NOT_EQUAL","!=",149],["T_WHITESPACE"," ",149],["T_LNUMBER","0",149],")",["T_WHITESPACE"," ",149],"{",["T_WHITESPACE","\n            ",149],["T_VARIABLE","$paramString",150],["T_WHITESPACE"," ",150],"=",["T_WHITESPACE"," ",150],["T_VARIABLE","$mathes",150],"[",["T_LNUMBER","1",150],"]",";",["T_WHITESPACE","\n            ",150],["T_IF","if",151],["T_WHITESPACE"," ",151],"(",["T_STRING","preg_match",151],"(",["T_CONSTANT_ENCAPSED_STRING","'\/&$\/'",151],",",["T_WHITESPACE"," ",151],["T_VARIABLE","$paramString",151],")",["T_WHITESPACE"," ",151],["T_IS_EQUAL","==",151],["T_WHITESPACE"," ",151],["T_LNUMBER","0",151],")",["T_WHITESPACE"," ",151],"{",["T_WHITESPACE","\n                ",151],["T_VARIABLE","$url",152],["T_WHITESPACE"," ",152],"=",["T_WHITESPACE"," ",152],["T_STRING","preg_replace",152],"(",["T_CONSTANT_ENCAPSED_STRING","'\/(&|\\\\?)?'",152],["T_WHITESPACE"," ",152],".",["T_WHITESPACE"," ",152],["T_STRING","preg_quote",152],"(",["T_VARIABLE","$paramString",152],",",["T_WHITESPACE"," ",152],["T_CONSTANT_ENCAPSED_STRING","'\/'",152],")",["T_WHITESPACE"," ",152],".",["T_WHITESPACE"," ",152],["T_CONSTANT_ENCAPSED_STRING","'\/'",152],",",["T_WHITESPACE"," ",152],["T_CONSTANT_ENCAPSED_STRING","''",152],",",["T_WHITESPACE"," ",152],["T_VARIABLE","$url",152],")",";",["T_WHITESPACE","\n            ",152],"}",["T_WHITESPACE"," ",153],["T_ELSE","else",153],["T_WHITESPACE"," ",153],"{",["T_WHITESPACE","\n                ",153],["T_VARIABLE","$url",154],["T_WHITESPACE"," ",154],"=",["T_WHITESPACE"," ",154],["T_STRING","str_replace",154],"(",["T_VARIABLE","$paramString",154],",",["T_WHITESPACE"," ",154],["T_CONSTANT_ENCAPSED_STRING","''",154],",",["T_WHITESPACE"," ",154],["T_VARIABLE","$url",154],")",";",["T_WHITESPACE","\n            ",154],"}",["T_WHITESPACE","\n        ",155],"}",["T_WHITESPACE","\n        ",156],["T_RETURN","return",157],["T_WHITESPACE"," ",157],["T_VARIABLE","$url",157],";",["T_WHITESPACE","\n    ",157],"}",["T_WHITESPACE","\n\n    ",158],["T_DOC_COMMENT","\/**\n     * Return singleton model instance\n     *\n     * @param string $name\n     * @param array $arguments\n     * @return Mage_Core_Model_Abstract\n     *\/",160],["T_WHITESPACE","\n    ",166],["T_PROTECTED","protected",167],["T_WHITESPACE"," ",167],["T_FUNCTION","function",167],["T_WHITESPACE"," ",167],["T_STRING","_getSingletonModel",167],"(",["T_VARIABLE","$name",167],",",["T_WHITESPACE"," ",167],["T_VARIABLE","$arguments",167],["T_WHITESPACE"," ",167],"=",["T_WHITESPACE"," ",167],["T_ARRAY","array",167],"(",")",")",["T_WHITESPACE","\n    ",167],"{",["T_WHITESPACE","\n        ",168],["T_RETURN","return",169],["T_WHITESPACE"," ",169],["T_STRING","Mage",169],["T_DOUBLE_COLON","::",169],["T_STRING","getSingleton",169],"(",["T_VARIABLE","$name",169],",",["T_WHITESPACE"," ",169],["T_VARIABLE","$arguments",169],")",";",["T_WHITESPACE","\n    ",169],"}",["T_WHITESPACE","\n\n    ",170],["T_DOC_COMMENT","\/**\n     * Retrieve encoding domain name in punycode\n     *\n     * @param string $url encode url to Punycode\n     * @return string\n     *\/",172],["T_WHITESPACE","\n    ",177],["T_PUBLIC","public",178],["T_WHITESPACE"," ",178],["T_FUNCTION","function",178],["T_WHITESPACE"," ",178],["T_STRING","encodePunycode",178],"(",["T_VARIABLE","$url",178],")",["T_WHITESPACE","\n    ",178],"{",["T_WHITESPACE","\n        ",179],["T_VARIABLE","$parsedUrl",180],["T_WHITESPACE"," ",180],"=",["T_WHITESPACE"," ",180],["T_STRING","parse_url",180],"(",["T_VARIABLE","$url",180],")",";",["T_WHITESPACE","\n        ",180],["T_IF","if",181],["T_WHITESPACE"," ",181],"(","!",["T_VARIABLE","$this",181],["T_OBJECT_OPERATOR","->",181],["T_STRING","_isPunycode",181],"(",["T_VARIABLE","$parsedUrl",181],"[",["T_CONSTANT_ENCAPSED_STRING","'host'",181],"]",")",")",["T_WHITESPACE"," ",181],"{",["T_WHITESPACE","\n            ",181],["T_IF","if",182],["T_WHITESPACE"," ",182],"(",["T_STRING","function_exists",182],"(",["T_CONSTANT_ENCAPSED_STRING","'idn_to_ascii'",182],")",")",["T_WHITESPACE"," ",182],"{",["T_WHITESPACE","\n                ",182],["T_VARIABLE","$host",183],["T_WHITESPACE"," ",183],"=",["T_WHITESPACE"," ",183],["T_STRING","idn_to_ascii",183],"(",["T_VARIABLE","$parsedUrl",183],"[",["T_CONSTANT_ENCAPSED_STRING","'host'",183],"]",")",";",["T_WHITESPACE","\n            ",183],"}",["T_WHITESPACE"," ",184],["T_ELSE","else",184],["T_WHITESPACE"," ",184],"{",["T_WHITESPACE","\n                ",184],["T_VARIABLE","$idn",185],["T_WHITESPACE"," ",185],"=",["T_WHITESPACE"," ",185],["T_NEW","new",185],["T_WHITESPACE"," ",185],["T_STRING","Net_IDNA2",185],"(",")",";",["T_WHITESPACE","\n                ",185],["T_VARIABLE","$host",186],["T_WHITESPACE"," ",186],"=",["T_WHITESPACE"," ",186],["T_VARIABLE","$idn",186],["T_OBJECT_OPERATOR","->",186],["T_STRING","encode",186],"(",["T_VARIABLE","$parsedUrl",186],"[",["T_CONSTANT_ENCAPSED_STRING","'host'",186],"]",")",";",["T_WHITESPACE","\n            ",186],"}",["T_WHITESPACE","\n            ",187],["T_RETURN","return",188],["T_WHITESPACE"," ",188],["T_STRING","str_replace",188],"(",["T_VARIABLE","$parsedUrl",188],"[",["T_CONSTANT_ENCAPSED_STRING","'host'",188],"]",",",["T_WHITESPACE"," ",188],["T_VARIABLE","$host",188],",",["T_WHITESPACE"," ",188],["T_VARIABLE","$url",188],")",";",["T_WHITESPACE","\n        ",188],"}",["T_WHITESPACE"," ",189],["T_ELSE","else",189],["T_WHITESPACE"," ",189],"{",["T_WHITESPACE","\n            ",189],["T_RETURN","return",190],["T_WHITESPACE"," ",190],["T_VARIABLE","$url",190],";",["T_WHITESPACE","\n        ",190],"}",["T_WHITESPACE","\n    ",191],"}",["T_WHITESPACE","\n\n    ",192],["T_DOC_COMMENT","\/**\n     * Retrieve decoding domain name from punycode\n     *\n     * @param string $url decode url from Punycode\n     * @return string\n     *\/",194],["T_WHITESPACE","\n    ",199],["T_PUBLIC","public",200],["T_WHITESPACE"," ",200],["T_FUNCTION","function",200],["T_WHITESPACE"," ",200],["T_STRING","decodePunycode",200],"(",["T_VARIABLE","$url",200],")",["T_WHITESPACE","\n    ",200],"{",["T_WHITESPACE","\n        ",201],["T_VARIABLE","$parsedUrl",202],["T_WHITESPACE"," ",202],"=",["T_WHITESPACE"," ",202],["T_STRING","parse_url",202],"(",["T_VARIABLE","$url",202],")",";",["T_WHITESPACE","\n        ",202],["T_IF","if",203],["T_WHITESPACE"," ",203],"(",["T_VARIABLE","$this",203],["T_OBJECT_OPERATOR","->",203],["T_STRING","_isPunycode",203],"(",["T_VARIABLE","$parsedUrl",203],"[",["T_CONSTANT_ENCAPSED_STRING","'host'",203],"]",")",")",["T_WHITESPACE"," ",203],"{",["T_WHITESPACE","\n            ",203],["T_IF","if",204],["T_WHITESPACE"," ",204],"(",["T_STRING","function_exists",204],"(",["T_CONSTANT_ENCAPSED_STRING","'idn_to_utf8'",204],")",")",["T_WHITESPACE"," ",204],"{",["T_WHITESPACE","\n                ",204],["T_VARIABLE","$host",205],["T_WHITESPACE"," ",205],"=",["T_WHITESPACE"," ",205],["T_STRING","idn_to_utf8",205],"(",["T_VARIABLE","$parsedUrl",205],"[",["T_CONSTANT_ENCAPSED_STRING","'host'",205],"]",")",";",["T_WHITESPACE","\n            ",205],"}",["T_WHITESPACE"," ",206],["T_ELSE","else",206],["T_WHITESPACE"," ",206],"{",["T_WHITESPACE","\n                ",206],["T_VARIABLE","$idn",207],["T_WHITESPACE"," ",207],"=",["T_WHITESPACE"," ",207],["T_NEW","new",207],["T_WHITESPACE"," ",207],["T_STRING","Net_IDNA2",207],"(",")",";",["T_WHITESPACE","\n                ",207],["T_VARIABLE","$host",208],["T_WHITESPACE"," ",208],"=",["T_WHITESPACE"," ",208],["T_VARIABLE","$idn",208],["T_OBJECT_OPERATOR","->",208],["T_STRING","decode",208],"(",["T_VARIABLE","$parsedUrl",208],"[",["T_CONSTANT_ENCAPSED_STRING","'host'",208],"]",")",";",["T_WHITESPACE","\n            ",208],"}",["T_WHITESPACE","\n            ",209],["T_RETURN","return",210],["T_WHITESPACE"," ",210],["T_STRING","str_replace",210],"(",["T_VARIABLE","$parsedUrl",210],"[",["T_CONSTANT_ENCAPSED_STRING","'host'",210],"]",",",["T_WHITESPACE"," ",210],["T_VARIABLE","$host",210],",",["T_WHITESPACE"," ",210],["T_VARIABLE","$url",210],")",";",["T_WHITESPACE","\n        ",210],"}",["T_WHITESPACE"," ",211],["T_ELSE","else",211],["T_WHITESPACE"," ",211],"{",["T_WHITESPACE","\n            ",211],["T_RETURN","return",212],["T_WHITESPACE"," ",212],["T_VARIABLE","$url",212],";",["T_WHITESPACE","\n        ",212],"}",["T_WHITESPACE","\n    ",213],"}",["T_WHITESPACE","\n\n    ",214],["T_DOC_COMMENT","\/**\n     * Check domain name for IDN using ACE prefix http:\/\/tools.ietf.org\/html\/rfc3490#section-5\n     *\n     * @param string $host domain name\n     * @return boolean\n     *\/",216],["T_WHITESPACE","\n    ",221],["T_PRIVATE","private",222],["T_WHITESPACE"," ",222],["T_FUNCTION","function",222],["T_WHITESPACE"," ",222],["T_STRING","_isPunycode",222],"(",["T_VARIABLE","$host",222],")",["T_WHITESPACE","\n    ",222],"{",["T_WHITESPACE","\n        ",223],["T_IF","if",224],["T_WHITESPACE"," ",224],"(",["T_STRING","strpos",224],"(",["T_VARIABLE","$host",224],",",["T_WHITESPACE"," ",224],["T_CONSTANT_ENCAPSED_STRING","'xn--'",224],")",["T_WHITESPACE"," ",224],["T_IS_IDENTICAL","===",224],["T_WHITESPACE"," ",224],["T_LNUMBER","0",224],["T_WHITESPACE"," ",224],["T_BOOLEAN_OR","||",224],["T_WHITESPACE"," ",224],["T_STRING","strpos",224],"(",["T_VARIABLE","$host",224],",",["T_WHITESPACE"," ",224],["T_CONSTANT_ENCAPSED_STRING","'.xn--'",224],")",["T_WHITESPACE"," ",224],["T_IS_NOT_IDENTICAL","!==",224],["T_WHITESPACE"," ",224],["T_STRING","false",224],["T_WHITESPACE","\n            ",224],["T_BOOLEAN_OR","||",225],["T_WHITESPACE"," ",225],["T_STRING","strpos",225],"(",["T_VARIABLE","$host",225],",",["T_WHITESPACE"," ",225],["T_CONSTANT_ENCAPSED_STRING","'XN--'",225],")",["T_WHITESPACE"," ",225],["T_IS_IDENTICAL","===",225],["T_WHITESPACE"," ",225],["T_LNUMBER","0",225],["T_WHITESPACE"," ",225],["T_BOOLEAN_OR","||",225],["T_WHITESPACE"," ",225],["T_STRING","strpos",225],"(",["T_VARIABLE","$host",225],",",["T_WHITESPACE"," ",225],["T_CONSTANT_ENCAPSED_STRING","'.XN--'",225],")",["T_WHITESPACE"," ",225],["T_IS_NOT_IDENTICAL","!==",225],["T_WHITESPACE"," ",225],["T_STRING","false",225],["T_WHITESPACE","\n        ",225],")",["T_WHITESPACE"," ",226],"{",["T_WHITESPACE","\n            ",226],["T_RETURN","return",227],["T_WHITESPACE"," ",227],["T_STRING","true",227],";",["T_WHITESPACE","\n        ",227],"}",["T_WHITESPACE","\n        ",228],["T_RETURN","return",229],["T_WHITESPACE"," ",229],["T_STRING","false",229],";",["T_WHITESPACE","\n    ",229],"}",["T_WHITESPACE","\n",230],"}",["T_WHITESPACE","\n",231]]