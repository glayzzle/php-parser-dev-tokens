[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Magento\n *\n * NOTICE OF LICENSE\n *\n * This source file is subject to the Open Software License (OSL 3.0)\n * that is bundled with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/opensource.org\/licenses\/osl-3.0.php\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@magento.com so we can send you a copy immediately.\n *\n * DISCLAIMER\n *\n * Do not edit or add to this file if you wish to upgrade Magento to newer\n * versions in the future. If you wish to customize Magento for your\n * needs please refer to http:\/\/www.magento.com for more information.\n *\n * @category    Mage\n * @package     Mage_Core\n * @copyright  Copyright (c) 2006-2016 X.commerce, Inc. and affiliates (http:\/\/www.magento.com)\n * @license    http:\/\/opensource.org\/licenses\/osl-3.0.php  Open Software License (OSL 3.0)\n *\/",2],["T_WHITESPACE","\n\n\n",25],["T_DOC_COMMENT","\/**\n * Mysql4 session save handler\n *\n * @category    Mage\n * @package     Mage_Core\n * @author      Magento Core Team <core@magentocommerce.com>\n *\/",28],["T_WHITESPACE","\n",34],["T_CLASS","class",35],["T_WHITESPACE"," ",35],["T_STRING","Mage_Core_Model_Resource_Session",35],["T_WHITESPACE"," ",35],["T_IMPLEMENTS","implements",35],["T_WHITESPACE"," ",35],["T_STRING","Zend_Session_SaveHandler_Interface",35],["T_WHITESPACE","\n",35],"{",["T_WHITESPACE","\n    ",36],["T_DOC_COMMENT","\/**\n     * Session maximum cookie lifetime\n     *\/",37],["T_WHITESPACE","\n    ",39],["T_CONST","const",40],["T_WHITESPACE"," ",40],["T_STRING","SEESION_MAX_COOKIE_LIFETIME",40],["T_WHITESPACE"," ",40],"=",["T_WHITESPACE"," ",40],["T_LNUMBER","3155692600",40],";",["T_WHITESPACE","\n\n    ",40],["T_DOC_COMMENT","\/**\n     * Session lifetime\n     *\n     * @var integer\n     *\/",42],["T_WHITESPACE","\n    ",46],["T_PROTECTED","protected",47],["T_WHITESPACE"," ",47],["T_VARIABLE","$_lifeTime",47],";",["T_WHITESPACE","\n\n    ",47],["T_DOC_COMMENT","\/**\n     * Session data table name\n     *\n     * @var string\n     *\/",49],["T_WHITESPACE","\n    ",53],["T_PROTECTED","protected",54],["T_WHITESPACE"," ",54],["T_VARIABLE","$_sessionTable",54],";",["T_WHITESPACE","\n\n    ",54],["T_DOC_COMMENT","\/**\n     * Database read connection\n     *\n     * @var Varien_Db_Adapter_Interface\n     *\/",56],["T_WHITESPACE","\n    ",60],["T_PROTECTED","protected",61],["T_WHITESPACE"," ",61],["T_VARIABLE","$_read",61],";",["T_WHITESPACE","\n\n    ",61],["T_DOC_COMMENT","\/**\n     * Database write connection\n     *\n     * @var Varien_Db_Adapter_Interface\n     *\/",63],["T_WHITESPACE","\n    ",67],["T_PROTECTED","protected",68],["T_WHITESPACE"," ",68],["T_VARIABLE","$_write",68],";",["T_WHITESPACE","\n\n    ",68],["T_DOC_COMMENT","\/**\n     * Automatic cleaning factor of expired sessions\n     * value zero means no automatic cleaning, one means automatic cleaning each time a session is closed, and x>1 means\n     * cleaning once in x calls\n     *\n     * @var int\n     *\/",70],["T_WHITESPACE","\n    ",76],["T_PROTECTED","protected",77],["T_WHITESPACE"," ",77],["T_VARIABLE","$_automaticCleaningFactor",77],["T_WHITESPACE","    ",77],"=",["T_WHITESPACE"," ",77],["T_LNUMBER","50",77],";",["T_WHITESPACE","\n\n    ",77],["T_DOC_COMMENT","\/**\n     * Constructor\n     *\n     *\/",79],["T_WHITESPACE","\n    ",82],["T_PUBLIC","public",83],["T_WHITESPACE"," ",83],["T_FUNCTION","function",83],["T_WHITESPACE"," ",83],["T_STRING","__construct",83],"(",")",["T_WHITESPACE","\n    ",83],"{",["T_WHITESPACE","\n        ",84],["T_VARIABLE","$resource",85],["T_WHITESPACE"," ",85],"=",["T_WHITESPACE"," ",85],["T_STRING","Mage",85],["T_DOUBLE_COLON","::",85],["T_STRING","getSingleton",85],"(",["T_CONSTANT_ENCAPSED_STRING","'core\/resource'",85],")",";",["T_WHITESPACE","\n        ",85],["T_VARIABLE","$this",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","_sessionTable",86],["T_WHITESPACE"," ",86],"=",["T_WHITESPACE"," ",86],["T_VARIABLE","$resource",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","getTableName",86],"(",["T_CONSTANT_ENCAPSED_STRING","'core\/session'",86],")",";",["T_WHITESPACE","\n        ",86],["T_VARIABLE","$this",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","_read",87],["T_WHITESPACE","         ",87],"=",["T_WHITESPACE"," ",87],["T_VARIABLE","$resource",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","getConnection",87],"(",["T_CONSTANT_ENCAPSED_STRING","'core_read'",87],")",";",["T_WHITESPACE","\n        ",87],["T_VARIABLE","$this",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","_write",88],["T_WHITESPACE","        ",88],"=",["T_WHITESPACE"," ",88],["T_VARIABLE","$resource",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","getConnection",88],"(",["T_CONSTANT_ENCAPSED_STRING","'core_write'",88],")",";",["T_WHITESPACE","\n    ",88],"}",["T_WHITESPACE","\n\n    ",89],["T_DOC_COMMENT","\/**\n     * Destrucor\n     *\n     *\/",91],["T_WHITESPACE","\n    ",94],["T_PUBLIC","public",95],["T_WHITESPACE"," ",95],["T_FUNCTION","function",95],["T_WHITESPACE"," ",95],["T_STRING","__destruct",95],"(",")",["T_WHITESPACE","\n    ",95],"{",["T_WHITESPACE","\n        ",96],["T_STRING","session_write_close",97],"(",")",";",["T_WHITESPACE","\n    ",97],"}",["T_WHITESPACE","\n\n    ",98],["T_DOC_COMMENT","\/**\n     * Retrieve session life time\n     *\n     * @return int\n     *\/",100],["T_WHITESPACE","\n    ",104],["T_PUBLIC","public",105],["T_WHITESPACE"," ",105],["T_FUNCTION","function",105],["T_WHITESPACE"," ",105],["T_STRING","getLifeTime",105],"(",")",["T_WHITESPACE","\n    ",105],"{",["T_WHITESPACE","\n        ",106],["T_IF","if",107],["T_WHITESPACE"," ",107],"(",["T_STRING","is_null",107],"(",["T_VARIABLE","$this",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","_lifeTime",107],")",")",["T_WHITESPACE"," ",107],"{",["T_WHITESPACE","\n            ",107],["T_VARIABLE","$configNode",108],["T_WHITESPACE"," ",108],"=",["T_WHITESPACE"," ",108],["T_STRING","Mage",108],["T_DOUBLE_COLON","::",108],["T_STRING","app",108],"(",")",["T_OBJECT_OPERATOR","->",108],["T_STRING","getStore",108],"(",")",["T_OBJECT_OPERATOR","->",108],["T_STRING","isAdmin",108],"(",")",["T_WHITESPACE"," ",108],"?",["T_WHITESPACE","\n                    ",108],["T_CONSTANT_ENCAPSED_STRING","'admin\/security\/session_cookie_lifetime'",109],["T_WHITESPACE"," ",109],":",["T_WHITESPACE"," ",109],["T_CONSTANT_ENCAPSED_STRING","'web\/cookie\/cookie_lifetime'",109],";",["T_WHITESPACE","\n            ",109],["T_VARIABLE","$this",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","_lifeTime",110],["T_WHITESPACE"," ",110],"=",["T_WHITESPACE"," ",110],["T_INT_CAST","(int)",110],["T_WHITESPACE"," ",110],["T_STRING","Mage",110],["T_DOUBLE_COLON","::",110],["T_STRING","getStoreConfig",110],"(",["T_VARIABLE","$configNode",110],")",";",["T_WHITESPACE","\n\n            ",110],["T_IF","if",112],["T_WHITESPACE"," ",112],"(",["T_VARIABLE","$this",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","_lifeTime",112],["T_WHITESPACE"," ",112],"<",["T_WHITESPACE"," ",112],["T_LNUMBER","60",112],")",["T_WHITESPACE"," ",112],"{",["T_WHITESPACE","\n                ",112],["T_VARIABLE","$this",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","_lifeTime",113],["T_WHITESPACE"," ",113],"=",["T_WHITESPACE"," ",113],["T_STRING","ini_get",113],"(",["T_CONSTANT_ENCAPSED_STRING","'session.gc_maxlifetime'",113],")",";",["T_WHITESPACE","\n            ",113],"}",["T_WHITESPACE","\n\n            ",114],["T_IF","if",116],["T_WHITESPACE"," ",116],"(",["T_VARIABLE","$this",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","_lifeTime",116],["T_WHITESPACE"," ",116],"<",["T_WHITESPACE"," ",116],["T_LNUMBER","60",116],")",["T_WHITESPACE"," ",116],"{",["T_WHITESPACE","\n                ",116],["T_VARIABLE","$this",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","_lifeTime",117],["T_WHITESPACE"," ",117],"=",["T_WHITESPACE"," ",117],["T_LNUMBER","3600",117],";",["T_WHITESPACE"," ",117],["T_COMMENT","\/\/one hour\n",117],["T_WHITESPACE","            ",118],"}",["T_WHITESPACE","\n\n            ",118],["T_IF","if",120],["T_WHITESPACE"," ",120],"(",["T_VARIABLE","$this",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","_lifeTime",120],["T_WHITESPACE"," ",120],">",["T_WHITESPACE"," ",120],["T_STRING","self",120],["T_DOUBLE_COLON","::",120],["T_STRING","SEESION_MAX_COOKIE_LIFETIME",120],")",["T_WHITESPACE"," ",120],"{",["T_WHITESPACE","\n                ",120],["T_VARIABLE","$this",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","_lifeTime",121],["T_WHITESPACE"," ",121],"=",["T_WHITESPACE"," ",121],["T_STRING","self",121],["T_DOUBLE_COLON","::",121],["T_STRING","SEESION_MAX_COOKIE_LIFETIME",121],";",["T_WHITESPACE"," ",121],["T_COMMENT","\/\/ 100 years\n",121],["T_WHITESPACE","            ",122],"}",["T_WHITESPACE","\n        ",122],"}",["T_WHITESPACE","\n        ",123],["T_RETURN","return",124],["T_WHITESPACE"," ",124],["T_VARIABLE","$this",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","_lifeTime",124],";",["T_WHITESPACE","\n    ",124],"}",["T_WHITESPACE","\n\n    ",125],["T_DOC_COMMENT","\/**\n     * Check DB connection\n     *\n     * @return bool\n     *\/",127],["T_WHITESPACE","\n    ",131],["T_PUBLIC","public",132],["T_WHITESPACE"," ",132],["T_FUNCTION","function",132],["T_WHITESPACE"," ",132],["T_STRING","hasConnection",132],"(",")",["T_WHITESPACE","\n    ",132],"{",["T_WHITESPACE","\n        ",133],["T_IF","if",134],["T_WHITESPACE"," ",134],"(","!",["T_VARIABLE","$this",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","_read",134],")",["T_WHITESPACE"," ",134],"{",["T_WHITESPACE","\n            ",134],["T_RETURN","return",135],["T_WHITESPACE"," ",135],["T_STRING","false",135],";",["T_WHITESPACE","\n        ",135],"}",["T_WHITESPACE","\n        ",136],["T_IF","if",137],["T_WHITESPACE"," ",137],"(","!",["T_VARIABLE","$this",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","_read",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","isTableExists",137],"(",["T_VARIABLE","$this",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","_sessionTable",137],")",")",["T_WHITESPACE"," ",137],"{",["T_WHITESPACE","\n            ",137],["T_RETURN","return",138],["T_WHITESPACE"," ",138],["T_STRING","false",138],";",["T_WHITESPACE","\n        ",138],"}",["T_WHITESPACE","\n\n        ",139],["T_RETURN","return",141],["T_WHITESPACE"," ",141],["T_STRING","true",141],";",["T_WHITESPACE","\n    ",141],"}",["T_WHITESPACE","\n\n    ",142],["T_DOC_COMMENT","\/**\n     * Setup save handler\n     *\n     * @return Mage_Core_Model_Resource_Session\n     *\/",144],["T_WHITESPACE","\n    ",148],["T_PUBLIC","public",149],["T_WHITESPACE"," ",149],["T_FUNCTION","function",149],["T_WHITESPACE"," ",149],["T_STRING","setSaveHandler",149],"(",")",["T_WHITESPACE","\n    ",149],"{",["T_WHITESPACE","\n        ",150],["T_IF","if",151],["T_WHITESPACE"," ",151],"(",["T_VARIABLE","$this",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","hasConnection",151],"(",")",")",["T_WHITESPACE"," ",151],"{",["T_WHITESPACE","\n            ",151],["T_STRING","session_set_save_handler",152],"(",["T_WHITESPACE","\n                ",152],["T_ARRAY","array",153],"(",["T_VARIABLE","$this",153],",",["T_WHITESPACE"," ",153],["T_CONSTANT_ENCAPSED_STRING","'open'",153],")",",",["T_WHITESPACE","\n                ",153],["T_ARRAY","array",154],"(",["T_VARIABLE","$this",154],",",["T_WHITESPACE"," ",154],["T_CONSTANT_ENCAPSED_STRING","'close'",154],")",",",["T_WHITESPACE","\n                ",154],["T_ARRAY","array",155],"(",["T_VARIABLE","$this",155],",",["T_WHITESPACE"," ",155],["T_CONSTANT_ENCAPSED_STRING","'read'",155],")",",",["T_WHITESPACE","\n                ",155],["T_ARRAY","array",156],"(",["T_VARIABLE","$this",156],",",["T_WHITESPACE"," ",156],["T_CONSTANT_ENCAPSED_STRING","'write'",156],")",",",["T_WHITESPACE","\n                ",156],["T_ARRAY","array",157],"(",["T_VARIABLE","$this",157],",",["T_WHITESPACE"," ",157],["T_CONSTANT_ENCAPSED_STRING","'destroy'",157],")",",",["T_WHITESPACE","\n                ",157],["T_ARRAY","array",158],"(",["T_VARIABLE","$this",158],",",["T_WHITESPACE"," ",158],["T_CONSTANT_ENCAPSED_STRING","'gc'",158],")",["T_WHITESPACE","\n            ",158],")",";",["T_WHITESPACE","\n        ",159],"}",["T_WHITESPACE"," ",160],["T_ELSE","else",160],["T_WHITESPACE"," ",160],"{",["T_WHITESPACE","\n            ",160],["T_STRING","session_save_path",161],"(",["T_STRING","Mage",161],["T_DOUBLE_COLON","::",161],["T_STRING","getBaseDir",161],"(",["T_CONSTANT_ENCAPSED_STRING","'session'",161],")",")",";",["T_WHITESPACE","\n        ",161],"}",["T_WHITESPACE","\n        ",162],["T_RETURN","return",163],["T_WHITESPACE"," ",163],["T_VARIABLE","$this",163],";",["T_WHITESPACE","\n    ",163],"}",["T_WHITESPACE","\n\n    ",164],["T_DOC_COMMENT","\/**\n     * Adds session handler via static call\n     *\/",166],["T_WHITESPACE","\n    ",168],["T_PUBLIC","public",169],["T_WHITESPACE"," ",169],["T_STATIC","static",169],["T_WHITESPACE"," ",169],["T_FUNCTION","function",169],["T_WHITESPACE"," ",169],["T_STRING","setStaticSaveHandler",169],"(",")",["T_WHITESPACE","\n    ",169],"{",["T_WHITESPACE","\n        ",170],["T_VARIABLE","$handler",171],["T_WHITESPACE"," ",171],"=",["T_WHITESPACE"," ",171],["T_NEW","new",171],["T_WHITESPACE"," ",171],["T_STRING","self",171],";",["T_WHITESPACE","\n        ",171],["T_VARIABLE","$handler",172],["T_OBJECT_OPERATOR","->",172],["T_STRING","setSaveHandler",172],"(",")",";",["T_WHITESPACE","\n    ",172],"}",["T_WHITESPACE","\n\n    ",173],["T_DOC_COMMENT","\/**\n     * Open session\n     *\n     * @param string $savePath ignored\n     * @param string $sessName ignored\n     * @return boolean\n     *\/",175],["T_WHITESPACE","\n    ",181],["T_PUBLIC","public",182],["T_WHITESPACE"," ",182],["T_FUNCTION","function",182],["T_WHITESPACE"," ",182],["T_STRING","open",182],"(",["T_VARIABLE","$savePath",182],",",["T_WHITESPACE"," ",182],["T_VARIABLE","$sessName",182],")",["T_WHITESPACE","\n    ",182],"{",["T_WHITESPACE","\n        ",183],["T_RETURN","return",184],["T_WHITESPACE"," ",184],["T_STRING","true",184],";",["T_WHITESPACE","\n    ",184],"}",["T_WHITESPACE","\n\n    ",185],["T_DOC_COMMENT","\/**\n     * Close session\n     *\n     * @return boolean\n     *\/",187],["T_WHITESPACE","\n    ",191],["T_PUBLIC","public",192],["T_WHITESPACE"," ",192],["T_FUNCTION","function",192],["T_WHITESPACE"," ",192],["T_STRING","close",192],"(",")",["T_WHITESPACE","\n    ",192],"{",["T_WHITESPACE","\n        ",193],["T_VARIABLE","$this",194],["T_OBJECT_OPERATOR","->",194],["T_STRING","gc",194],"(",["T_VARIABLE","$this",194],["T_OBJECT_OPERATOR","->",194],["T_STRING","getLifeTime",194],"(",")",")",";",["T_WHITESPACE","\n\n        ",194],["T_RETURN","return",196],["T_WHITESPACE"," ",196],["T_STRING","true",196],";",["T_WHITESPACE","\n    ",196],"}",["T_WHITESPACE","\n\n    ",197],["T_DOC_COMMENT","\/**\n     * Fetch session data\n     *\n     * @param string $sessId\n     * @return string\n     *\/",199],["T_WHITESPACE","\n    ",204],["T_PUBLIC","public",205],["T_WHITESPACE"," ",205],["T_FUNCTION","function",205],["T_WHITESPACE"," ",205],["T_STRING","read",205],"(",["T_VARIABLE","$sessId",205],")",["T_WHITESPACE","\n    ",205],"{",["T_WHITESPACE","\n        ",206],["T_VARIABLE","$select",207],["T_WHITESPACE"," ",207],"=",["T_WHITESPACE"," ",207],["T_VARIABLE","$this",207],["T_OBJECT_OPERATOR","->",207],["T_STRING","_read",207],["T_OBJECT_OPERATOR","->",207],["T_STRING","select",207],"(",")",["T_WHITESPACE","\n                ",207],["T_OBJECT_OPERATOR","->",208],["T_STRING","from",208],"(",["T_VARIABLE","$this",208],["T_OBJECT_OPERATOR","->",208],["T_STRING","_sessionTable",208],",",["T_WHITESPACE"," ",208],["T_ARRAY","array",208],"(",["T_CONSTANT_ENCAPSED_STRING","'session_data'",208],")",")",["T_WHITESPACE","\n                ",208],["T_OBJECT_OPERATOR","->",209],["T_STRING","where",209],"(",["T_CONSTANT_ENCAPSED_STRING","'session_id = :session_id'",209],")",["T_WHITESPACE","\n                ",209],["T_OBJECT_OPERATOR","->",210],["T_STRING","where",210],"(",["T_CONSTANT_ENCAPSED_STRING","'session_expires > :session_expires'",210],")",";",["T_WHITESPACE","\n        ",210],["T_VARIABLE","$bind",211],["T_WHITESPACE"," ",211],"=",["T_WHITESPACE"," ",211],["T_ARRAY","array",211],"(",["T_WHITESPACE","\n            ",211],["T_CONSTANT_ENCAPSED_STRING","'session_id'",212],["T_WHITESPACE","      ",212],["T_DOUBLE_ARROW","=>",212],["T_WHITESPACE"," ",212],["T_VARIABLE","$sessId",212],",",["T_WHITESPACE","\n            ",212],["T_CONSTANT_ENCAPSED_STRING","'session_expires'",213],["T_WHITESPACE"," ",213],["T_DOUBLE_ARROW","=>",213],["T_WHITESPACE"," ",213],["T_STRING","Varien_Date",213],["T_DOUBLE_COLON","::",213],["T_STRING","toTimestamp",213],"(",["T_STRING","true",213],")",["T_WHITESPACE","\n        ",213],")",";",["T_WHITESPACE","\n\n        ",214],["T_VARIABLE","$data",216],["T_WHITESPACE"," ",216],"=",["T_WHITESPACE"," ",216],["T_VARIABLE","$this",216],["T_OBJECT_OPERATOR","->",216],["T_STRING","_read",216],["T_OBJECT_OPERATOR","->",216],["T_STRING","fetchOne",216],"(",["T_VARIABLE","$select",216],",",["T_WHITESPACE"," ",216],["T_VARIABLE","$bind",216],")",";",["T_WHITESPACE","\n\n        ",216],["T_RETURN","return",218],["T_WHITESPACE"," ",218],["T_VARIABLE","$data",218],";",["T_WHITESPACE","\n    ",218],"}",["T_WHITESPACE","\n\n    ",219],["T_DOC_COMMENT","\/**\n     * Update session\n     *\n     * @param string $sessId\n     * @param string $sessData\n     * @return boolean\n     *\/",221],["T_WHITESPACE","\n    ",227],["T_PUBLIC","public",228],["T_WHITESPACE"," ",228],["T_FUNCTION","function",228],["T_WHITESPACE"," ",228],["T_STRING","write",228],"(",["T_VARIABLE","$sessId",228],",",["T_WHITESPACE"," ",228],["T_VARIABLE","$sessData",228],")",["T_WHITESPACE","\n    ",228],"{",["T_WHITESPACE","\n        ",229],["T_VARIABLE","$bindValues",230],["T_WHITESPACE"," ",230],"=",["T_WHITESPACE"," ",230],["T_ARRAY","array",230],"(",["T_WHITESPACE","\n            ",230],["T_CONSTANT_ENCAPSED_STRING","'session_id'",231],["T_WHITESPACE","      ",231],["T_DOUBLE_ARROW","=>",231],["T_WHITESPACE"," ",231],["T_VARIABLE","$sessId",231],["T_WHITESPACE","\n        ",231],")",";",["T_WHITESPACE","\n        ",232],["T_VARIABLE","$select",233],["T_WHITESPACE"," ",233],"=",["T_WHITESPACE"," ",233],["T_VARIABLE","$this",233],["T_OBJECT_OPERATOR","->",233],["T_STRING","_write",233],["T_OBJECT_OPERATOR","->",233],["T_STRING","select",233],"(",")",["T_WHITESPACE","\n                ",233],["T_OBJECT_OPERATOR","->",234],["T_STRING","from",234],"(",["T_VARIABLE","$this",234],["T_OBJECT_OPERATOR","->",234],["T_STRING","_sessionTable",234],")",["T_WHITESPACE","\n                ",234],["T_OBJECT_OPERATOR","->",235],["T_STRING","where",235],"(",["T_CONSTANT_ENCAPSED_STRING","'session_id = :session_id'",235],")",";",["T_WHITESPACE","\n        ",235],["T_VARIABLE","$exists",236],["T_WHITESPACE"," ",236],"=",["T_WHITESPACE"," ",236],["T_VARIABLE","$this",236],["T_OBJECT_OPERATOR","->",236],["T_STRING","_read",236],["T_OBJECT_OPERATOR","->",236],["T_STRING","fetchOne",236],"(",["T_VARIABLE","$select",236],",",["T_WHITESPACE"," ",236],["T_VARIABLE","$bindValues",236],")",";",["T_WHITESPACE","\n\n        ",236],["T_VARIABLE","$bind",238],["T_WHITESPACE"," ",238],"=",["T_WHITESPACE"," ",238],["T_ARRAY","array",238],"(",["T_WHITESPACE","\n            ",238],["T_CONSTANT_ENCAPSED_STRING","'session_expires'",239],["T_WHITESPACE"," ",239],["T_DOUBLE_ARROW","=>",239],["T_WHITESPACE"," ",239],["T_STRING","Varien_Date",239],["T_DOUBLE_COLON","::",239],["T_STRING","toTimestamp",239],"(",["T_STRING","true",239],")",["T_WHITESPACE"," ",239],"+",["T_WHITESPACE"," ",239],["T_VARIABLE","$this",239],["T_OBJECT_OPERATOR","->",239],["T_STRING","getLifeTime",239],"(",")",",",["T_WHITESPACE","\n            ",239],["T_CONSTANT_ENCAPSED_STRING","'session_data'",240],["T_WHITESPACE"," ",240],["T_DOUBLE_ARROW","=>",240],["T_WHITESPACE"," ",240],["T_VARIABLE","$sessData",240],["T_WHITESPACE","\n        ",240],")",";",["T_WHITESPACE","\n        ",241],["T_IF","if",242],["T_WHITESPACE"," ",242],"(",["T_VARIABLE","$exists",242],")",["T_WHITESPACE"," ",242],"{",["T_WHITESPACE","\n            ",242],["T_VARIABLE","$where",243],["T_WHITESPACE"," ",243],"=",["T_WHITESPACE"," ",243],["T_ARRAY","array",243],"(",["T_WHITESPACE","\n                ",243],["T_CONSTANT_ENCAPSED_STRING","'session_id=?'",244],["T_WHITESPACE"," ",244],["T_DOUBLE_ARROW","=>",244],["T_WHITESPACE"," ",244],["T_VARIABLE","$sessId",244],["T_WHITESPACE","\n            ",244],")",";",["T_WHITESPACE","\n            ",245],["T_VARIABLE","$this",246],["T_OBJECT_OPERATOR","->",246],["T_STRING","_write",246],["T_OBJECT_OPERATOR","->",246],["T_STRING","update",246],"(",["T_VARIABLE","$this",246],["T_OBJECT_OPERATOR","->",246],["T_STRING","_sessionTable",246],",",["T_WHITESPACE"," ",246],["T_VARIABLE","$bind",246],",",["T_WHITESPACE"," ",246],["T_VARIABLE","$where",246],")",";",["T_WHITESPACE","\n        ",246],"}",["T_WHITESPACE"," ",247],["T_ELSE","else",247],["T_WHITESPACE"," ",247],"{",["T_WHITESPACE","\n            ",247],["T_VARIABLE","$bind",248],"[",["T_CONSTANT_ENCAPSED_STRING","'session_id'",248],"]",["T_WHITESPACE"," ",248],"=",["T_WHITESPACE"," ",248],["T_VARIABLE","$sessId",248],";",["T_WHITESPACE","\n            ",248],["T_VARIABLE","$this",249],["T_OBJECT_OPERATOR","->",249],["T_STRING","_write",249],["T_OBJECT_OPERATOR","->",249],["T_STRING","insert",249],"(",["T_VARIABLE","$this",249],["T_OBJECT_OPERATOR","->",249],["T_STRING","_sessionTable",249],",",["T_WHITESPACE"," ",249],["T_VARIABLE","$bind",249],")",";",["T_WHITESPACE","\n        ",249],"}",["T_WHITESPACE","\n\n        ",250],["T_RETURN","return",252],["T_WHITESPACE"," ",252],["T_STRING","true",252],";",["T_WHITESPACE","\n    ",252],"}",["T_WHITESPACE","\n\n    ",253],["T_DOC_COMMENT","\/**\n     * Destroy session\n     *\n     * @param string $sessId\n     * @return boolean\n     *\/",255],["T_WHITESPACE","\n    ",260],["T_PUBLIC","public",261],["T_WHITESPACE"," ",261],["T_FUNCTION","function",261],["T_WHITESPACE"," ",261],["T_STRING","destroy",261],"(",["T_VARIABLE","$sessId",261],")",["T_WHITESPACE","\n    ",261],"{",["T_WHITESPACE","\n        ",262],["T_VARIABLE","$where",263],["T_WHITESPACE"," ",263],"=",["T_WHITESPACE"," ",263],["T_ARRAY","array",263],"(",["T_CONSTANT_ENCAPSED_STRING","'session_id = ?'",263],["T_WHITESPACE"," ",263],["T_DOUBLE_ARROW","=>",263],["T_WHITESPACE"," ",263],["T_VARIABLE","$sessId",263],")",";",["T_WHITESPACE","\n        ",263],["T_VARIABLE","$this",264],["T_OBJECT_OPERATOR","->",264],["T_STRING","_write",264],["T_OBJECT_OPERATOR","->",264],["T_STRING","delete",264],"(",["T_VARIABLE","$this",264],["T_OBJECT_OPERATOR","->",264],["T_STRING","_sessionTable",264],",",["T_WHITESPACE"," ",264],["T_VARIABLE","$where",264],")",";",["T_WHITESPACE","\n        ",264],["T_RETURN","return",265],["T_WHITESPACE"," ",265],["T_STRING","true",265],";",["T_WHITESPACE","\n    ",265],"}",["T_WHITESPACE","\n\n    ",266],["T_DOC_COMMENT","\/**\n     * Garbage collection\n     *\n     * @param int $sessMaxLifeTime ignored\n     * @return boolean\n     *\/",268],["T_WHITESPACE","\n    ",273],["T_PUBLIC","public",274],["T_WHITESPACE"," ",274],["T_FUNCTION","function",274],["T_WHITESPACE"," ",274],["T_STRING","gc",274],"(",["T_VARIABLE","$sessMaxLifeTime",274],")",["T_WHITESPACE","\n    ",274],"{",["T_WHITESPACE","\n        ",275],["T_IF","if",276],["T_WHITESPACE"," ",276],"(",["T_VARIABLE","$this",276],["T_OBJECT_OPERATOR","->",276],["T_STRING","_automaticCleaningFactor",276],["T_WHITESPACE"," ",276],">",["T_WHITESPACE"," ",276],["T_LNUMBER","0",276],")",["T_WHITESPACE"," ",276],"{",["T_WHITESPACE","\n            ",276],["T_IF","if",277],["T_WHITESPACE"," ",277],"(",["T_VARIABLE","$this",277],["T_OBJECT_OPERATOR","->",277],["T_STRING","_automaticCleaningFactor",277],["T_WHITESPACE"," ",277],["T_IS_EQUAL","==",277],["T_WHITESPACE"," ",277],["T_LNUMBER","1",277],["T_WHITESPACE"," ",277],["T_BOOLEAN_OR","||",277],["T_WHITESPACE","\n                ",277],["T_STRING","rand",278],"(",["T_LNUMBER","1",278],",",["T_WHITESPACE"," ",278],["T_VARIABLE","$this",278],["T_OBJECT_OPERATOR","->",278],["T_STRING","_automaticCleaningFactor",278],")",["T_WHITESPACE"," ",278],["T_IS_EQUAL","==",278],["T_WHITESPACE"," ",278],["T_LNUMBER","1",278],")",["T_WHITESPACE"," ",278],"{",["T_WHITESPACE","\n                ",278],["T_VARIABLE","$where",279],["T_WHITESPACE"," ",279],"=",["T_WHITESPACE"," ",279],["T_ARRAY","array",279],"(",["T_CONSTANT_ENCAPSED_STRING","'session_expires < ?'",279],["T_WHITESPACE"," ",279],["T_DOUBLE_ARROW","=>",279],["T_WHITESPACE"," ",279],["T_STRING","Varien_Date",279],["T_DOUBLE_COLON","::",279],["T_STRING","toTimestamp",279],"(",["T_STRING","true",279],")",")",";",["T_WHITESPACE","\n                ",279],["T_VARIABLE","$this",280],["T_OBJECT_OPERATOR","->",280],["T_STRING","_write",280],["T_OBJECT_OPERATOR","->",280],["T_STRING","delete",280],"(",["T_VARIABLE","$this",280],["T_OBJECT_OPERATOR","->",280],["T_STRING","_sessionTable",280],",",["T_WHITESPACE"," ",280],["T_VARIABLE","$where",280],")",";",["T_WHITESPACE","\n            ",280],"}",["T_WHITESPACE","\n        ",281],"}",["T_WHITESPACE","\n        ",282],["T_RETURN","return",283],["T_WHITESPACE"," ",283],["T_STRING","true",283],";",["T_WHITESPACE","\n    ",283],"}",["T_WHITESPACE","\n",284],"}",["T_WHITESPACE","\n",285]]