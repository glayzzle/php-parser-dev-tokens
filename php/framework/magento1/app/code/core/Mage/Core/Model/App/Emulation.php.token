[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Magento\n *\n * NOTICE OF LICENSE\n *\n * This source file is subject to the Open Software License (OSL 3.0)\n * that is bundled with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/opensource.org\/licenses\/osl-3.0.php\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@magento.com so we can send you a copy immediately.\n *\n * DISCLAIMER\n *\n * Do not edit or add to this file if you wish to upgrade Magento to newer\n * versions in the future. If you wish to customize Magento for your\n * needs please refer to http:\/\/www.magento.com for more information.\n *\n * @category    Mage\n * @package     Mage_Core\n * @copyright  Copyright (c) 2006-2016 X.commerce, Inc. and affiliates (http:\/\/www.magento.com)\n * @license    http:\/\/opensource.org\/licenses\/osl-3.0.php  Open Software License (OSL 3.0)\n *\/",2],["T_WHITESPACE","\n\n",25],["T_DOC_COMMENT","\/**\n * Emulation model\n *\n * @category    Mage\n * @package     Mage_Core\n * @author      Magento Core Team <core@magentocommerce.com>\n *\/",27],["T_WHITESPACE","\n",33],["T_CLASS","class",34],["T_WHITESPACE"," ",34],["T_STRING","Mage_Core_Model_App_Emulation",34],["T_WHITESPACE"," ",34],["T_EXTENDS","extends",34],["T_WHITESPACE"," ",34],["T_STRING","Varien_Object",34],["T_WHITESPACE","\n",34],"{",["T_WHITESPACE","\n    ",35],["T_DOC_COMMENT","\/**\n     * Factory instance\n     *\n     * @var Mage_Core_Model_Factory\n     *\/",36],["T_WHITESPACE","\n    ",40],["T_PROTECTED","protected",41],["T_WHITESPACE"," ",41],["T_VARIABLE","$_factory",41],";",["T_WHITESPACE","\n\n    ",41],["T_DOC_COMMENT","\/**\n     * Application instance\n     *\n     * @var Mage_Core_Model_App\n     *\/",43],["T_WHITESPACE","\n    ",47],["T_PROTECTED","protected",48],["T_WHITESPACE"," ",48],["T_VARIABLE","$_app",48],";",["T_WHITESPACE","\n\n    ",48],["T_DOC_COMMENT","\/**\n     * Constructor\n     *\n     * @param array $args\n     *\/",50],["T_WHITESPACE","\n    ",54],["T_PUBLIC","public",55],["T_WHITESPACE"," ",55],["T_FUNCTION","function",55],["T_WHITESPACE"," ",55],["T_STRING","__construct",55],"(",["T_ARRAY","array",55],["T_WHITESPACE"," ",55],["T_VARIABLE","$args",55],["T_WHITESPACE"," ",55],"=",["T_WHITESPACE"," ",55],["T_ARRAY","array",55],"(",")",")",["T_WHITESPACE","\n    ",55],"{",["T_WHITESPACE","\n        ",56],["T_VARIABLE","$this",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","_factory",57],["T_WHITESPACE"," ",57],"=",["T_WHITESPACE"," ",57],"!",["T_EMPTY","empty",57],"(",["T_VARIABLE","$args",57],"[",["T_CONSTANT_ENCAPSED_STRING","'factory'",57],"]",")",["T_WHITESPACE"," ",57],"?",["T_WHITESPACE"," ",57],["T_VARIABLE","$args",57],"[",["T_CONSTANT_ENCAPSED_STRING","'factory'",57],"]",["T_WHITESPACE"," ",57],":",["T_WHITESPACE"," ",57],["T_STRING","Mage",57],["T_DOUBLE_COLON","::",57],["T_STRING","getSingleton",57],"(",["T_CONSTANT_ENCAPSED_STRING","'core\/factory'",57],")",";",["T_WHITESPACE","\n        ",57],["T_VARIABLE","$this",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","_app",58],["T_WHITESPACE"," ",58],"=",["T_WHITESPACE"," ",58],"!",["T_EMPTY","empty",58],"(",["T_VARIABLE","$args",58],"[",["T_CONSTANT_ENCAPSED_STRING","'app'",58],"]",")",["T_WHITESPACE"," ",58],"?",["T_WHITESPACE"," ",58],["T_VARIABLE","$args",58],"[",["T_CONSTANT_ENCAPSED_STRING","'app'",58],"]",["T_WHITESPACE"," ",58],":",["T_WHITESPACE"," ",58],["T_STRING","Mage",58],["T_DOUBLE_COLON","::",58],["T_STRING","app",58],"(",")",";",["T_WHITESPACE","\n        ",58],["T_UNSET","unset",59],"(",["T_VARIABLE","$args",59],"[",["T_CONSTANT_ENCAPSED_STRING","'factory'",59],"]",",",["T_WHITESPACE"," ",59],["T_VARIABLE","$args",59],"[",["T_CONSTANT_ENCAPSED_STRING","'app'",59],"]",")",";",["T_WHITESPACE","\n        ",59],["T_STRING","parent",60],["T_DOUBLE_COLON","::",60],["T_STRING","__construct",60],"(",["T_VARIABLE","$args",60],")",";",["T_WHITESPACE","\n    ",60],"}",["T_WHITESPACE","\n\n    ",61],["T_DOC_COMMENT","\/**\n     * Start environment emulation of the specified store\n     *\n     * Function returns information about initial store environment and emulates environment of another store\n     *\n     * @param integer $storeId\n     * @param string $area\n     * @param boolean $emulateStoreInlineTranslation emulate inline translation of the specified store or just disable it\n     *\n     * @return Varien_Object information about environment of the initial store\n     *\/",63],["T_WHITESPACE","\n    ",73],["T_PUBLIC","public",74],["T_WHITESPACE"," ",74],["T_FUNCTION","function",74],["T_WHITESPACE"," ",74],["T_STRING","startEnvironmentEmulation",74],"(",["T_VARIABLE","$storeId",74],",",["T_WHITESPACE"," ",74],["T_VARIABLE","$area",74],["T_WHITESPACE"," ",74],"=",["T_WHITESPACE"," ",74],["T_STRING","Mage_Core_Model_App_Area",74],["T_DOUBLE_COLON","::",74],["T_STRING","AREA_FRONTEND",74],",",["T_WHITESPACE","\n                                              ",74],["T_VARIABLE","$emulateStoreInlineTranslation",75],["T_WHITESPACE"," ",75],"=",["T_WHITESPACE"," ",75],["T_STRING","false",75],")",["T_WHITESPACE","\n    ",75],"{",["T_WHITESPACE","\n        ",76],["T_IF","if",77],["T_WHITESPACE"," ",77],"(",["T_STRING","is_null",77],"(",["T_VARIABLE","$area",77],")",")",["T_WHITESPACE"," ",77],"{",["T_WHITESPACE","\n            ",77],["T_VARIABLE","$area",78],["T_WHITESPACE"," ",78],"=",["T_WHITESPACE"," ",78],["T_STRING","Mage_Core_Model_App_Area",78],["T_DOUBLE_COLON","::",78],["T_STRING","AREA_FRONTEND",78],";",["T_WHITESPACE","\n        ",78],"}",["T_WHITESPACE","\n        ",79],["T_IF","if",80],["T_WHITESPACE"," ",80],"(",["T_VARIABLE","$emulateStoreInlineTranslation",80],")",["T_WHITESPACE"," ",80],"{",["T_WHITESPACE","\n            ",80],["T_VARIABLE","$initialTranslateInline",81],["T_WHITESPACE"," ",81],"=",["T_WHITESPACE"," ",81],["T_VARIABLE","$this",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","_emulateInlineTranslation",81],"(",["T_VARIABLE","$storeId",81],",",["T_WHITESPACE"," ",81],["T_VARIABLE","$area",81],")",";",["T_WHITESPACE","\n        ",81],"}",["T_WHITESPACE"," ",82],["T_ELSE","else",82],["T_WHITESPACE"," ",82],"{",["T_WHITESPACE","\n            ",82],["T_VARIABLE","$initialTranslateInline",83],["T_WHITESPACE"," ",83],"=",["T_WHITESPACE"," ",83],["T_VARIABLE","$this",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","_emulateInlineTranslation",83],"(",")",";",["T_WHITESPACE","\n        ",83],"}",["T_WHITESPACE","\n        ",84],["T_VARIABLE","$initialDesign",85],["T_WHITESPACE"," ",85],"=",["T_WHITESPACE"," ",85],["T_VARIABLE","$this",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","_emulateDesign",85],"(",["T_VARIABLE","$storeId",85],",",["T_WHITESPACE"," ",85],["T_VARIABLE","$area",85],")",";",["T_WHITESPACE","\n        ",85],["T_COMMENT","\/\/ Current store needs to be changed right before locale change and after design change\n",86],["T_WHITESPACE","        ",87],["T_VARIABLE","$this",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","_app",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","setCurrentStore",87],"(",["T_VARIABLE","$storeId",87],")",";",["T_WHITESPACE","\n        ",87],["T_VARIABLE","$initialLocaleCode",88],["T_WHITESPACE"," ",88],"=",["T_WHITESPACE"," ",88],["T_VARIABLE","$this",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","_emulateLocale",88],"(",["T_VARIABLE","$storeId",88],",",["T_WHITESPACE"," ",88],["T_VARIABLE","$area",88],")",";",["T_WHITESPACE","\n\n        ",88],["T_VARIABLE","$initialEnvironmentInfo",90],["T_WHITESPACE"," ",90],"=",["T_WHITESPACE"," ",90],["T_NEW","new",90],["T_WHITESPACE"," ",90],["T_STRING","Varien_Object",90],"(",")",";",["T_WHITESPACE","\n        ",90],["T_VARIABLE","$initialEnvironmentInfo",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","setInitialTranslateInline",91],"(",["T_VARIABLE","$initialTranslateInline",91],")",["T_WHITESPACE","\n            ",91],["T_OBJECT_OPERATOR","->",92],["T_STRING","setInitialDesign",92],"(",["T_VARIABLE","$initialDesign",92],")",["T_WHITESPACE","\n            ",92],["T_OBJECT_OPERATOR","->",93],["T_STRING","setInitialLocaleCode",93],"(",["T_VARIABLE","$initialLocaleCode",93],")",";",["T_WHITESPACE","\n\n        ",93],["T_RETURN","return",95],["T_WHITESPACE"," ",95],["T_VARIABLE","$initialEnvironmentInfo",95],";",["T_WHITESPACE","\n    ",95],"}",["T_WHITESPACE","\n\n    ",96],["T_DOC_COMMENT","\/**\n     * Stop enviromment emulation\n     *\n     * Function restores initial store environment\n     *\n     * @param Varien_Object $initialEnvironmentInfo information about environment of the initial store\n     *\n     * @return Mage_Core_Model_App_Emulation\n     *\/",98],["T_WHITESPACE","\n    ",106],["T_PUBLIC","public",107],["T_WHITESPACE"," ",107],["T_FUNCTION","function",107],["T_WHITESPACE"," ",107],["T_STRING","stopEnvironmentEmulation",107],"(",["T_STRING","Varien_Object",107],["T_WHITESPACE"," ",107],["T_VARIABLE","$initialEnvironmentInfo",107],")",["T_WHITESPACE","\n    ",107],"{",["T_WHITESPACE","\n        ",108],["T_VARIABLE","$this",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","_restoreInitialInlineTranslation",109],"(",["T_VARIABLE","$initialEnvironmentInfo",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","getInitialTranslateInline",109],"(",")",")",";",["T_WHITESPACE","\n        ",109],["T_VARIABLE","$initialDesign",110],["T_WHITESPACE"," ",110],"=",["T_WHITESPACE"," ",110],["T_VARIABLE","$initialEnvironmentInfo",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","getInitialDesign",110],"(",")",";",["T_WHITESPACE","\n        ",110],["T_VARIABLE","$this",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","_restoreInitialDesign",111],"(",["T_VARIABLE","$initialDesign",111],")",";",["T_WHITESPACE","\n        ",111],["T_COMMENT","\/\/ Current store needs to be changed right before locale change and after design change\n",112],["T_WHITESPACE","        ",113],["T_VARIABLE","$this",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","_app",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","setCurrentStore",113],"(",["T_VARIABLE","$initialDesign",113],"[",["T_CONSTANT_ENCAPSED_STRING","'store'",113],"]",")",";",["T_WHITESPACE","\n        ",113],["T_VARIABLE","$this",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","_restoreInitialLocale",114],"(",["T_VARIABLE","$initialEnvironmentInfo",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","getInitialLocaleCode",114],"(",")",",",["T_WHITESPACE"," ",114],["T_VARIABLE","$initialDesign",114],"[",["T_CONSTANT_ENCAPSED_STRING","'area'",114],"]",")",";",["T_WHITESPACE","\n        ",114],["T_RETURN","return",115],["T_WHITESPACE"," ",115],["T_VARIABLE","$this",115],";",["T_WHITESPACE","\n    ",115],"}",["T_WHITESPACE","\n\n    ",116],["T_DOC_COMMENT","\/**\n     * Emulate inline translation of the specified store\n     *\n     * Function disables inline translation if $storeId is null\n     *\n     * @param integer|null $storeId\n     * @param string $area\n     *\n     * @return boolean initial inline translation state\n     *\/",118],["T_WHITESPACE","\n    ",127],["T_PROTECTED","protected",128],["T_WHITESPACE"," ",128],["T_FUNCTION","function",128],["T_WHITESPACE"," ",128],["T_STRING","_emulateInlineTranslation",128],"(",["T_VARIABLE","$storeId",128],["T_WHITESPACE"," ",128],"=",["T_WHITESPACE"," ",128],["T_STRING","null",128],",",["T_WHITESPACE"," ",128],["T_VARIABLE","$area",128],["T_WHITESPACE"," ",128],"=",["T_WHITESPACE"," ",128],["T_STRING","Mage_Core_Model_App_Area",128],["T_DOUBLE_COLON","::",128],["T_STRING","AREA_FRONTEND",128],")",["T_WHITESPACE","\n    ",128],"{",["T_WHITESPACE","\n        ",129],["T_IF","if",130],["T_WHITESPACE"," ",130],"(",["T_STRING","is_null",130],"(",["T_VARIABLE","$storeId",130],")",")",["T_WHITESPACE"," ",130],"{",["T_WHITESPACE","\n            ",130],["T_VARIABLE","$newTranslateInline",131],["T_WHITESPACE"," ",131],"=",["T_WHITESPACE"," ",131],["T_STRING","false",131],";",["T_WHITESPACE","\n        ",131],"}",["T_WHITESPACE"," ",132],["T_ELSE","else",132],["T_WHITESPACE"," ",132],"{",["T_WHITESPACE","\n            ",132],["T_IF","if",133],["T_WHITESPACE"," ",133],"(",["T_VARIABLE","$area",133],["T_WHITESPACE"," ",133],["T_IS_EQUAL","==",133],["T_WHITESPACE"," ",133],["T_STRING","Mage_Core_Model_App_Area",133],["T_DOUBLE_COLON","::",133],["T_STRING","AREA_ADMINHTML",133],")",["T_WHITESPACE"," ",133],"{",["T_WHITESPACE","\n                ",133],["T_VARIABLE","$newTranslateInline",134],["T_WHITESPACE"," ",134],"=",["T_WHITESPACE"," ",134],["T_STRING","Mage",134],["T_DOUBLE_COLON","::",134],["T_STRING","getStoreConfigFlag",134],"(",["T_CONSTANT_ENCAPSED_STRING","'dev\/translate_inline\/active_admin'",134],",",["T_WHITESPACE"," ",134],["T_VARIABLE","$storeId",134],")",";",["T_WHITESPACE","\n            ",134],"}",["T_WHITESPACE"," ",135],["T_ELSE","else",135],["T_WHITESPACE"," ",135],"{",["T_WHITESPACE","\n                ",135],["T_VARIABLE","$newTranslateInline",136],["T_WHITESPACE"," ",136],"=",["T_WHITESPACE"," ",136],["T_STRING","Mage",136],["T_DOUBLE_COLON","::",136],["T_STRING","getStoreConfigFlag",136],"(",["T_CONSTANT_ENCAPSED_STRING","'dev\/translate_inline\/active'",136],",",["T_WHITESPACE"," ",136],["T_VARIABLE","$storeId",136],")",";",["T_WHITESPACE","\n            ",136],"}",["T_WHITESPACE","\n        ",137],"}",["T_WHITESPACE","\n        ",138],["T_VARIABLE","$translateModel",139],["T_WHITESPACE"," ",139],"=",["T_WHITESPACE"," ",139],["T_STRING","Mage",139],["T_DOUBLE_COLON","::",139],["T_STRING","getSingleton",139],"(",["T_CONSTANT_ENCAPSED_STRING","'core\/translate'",139],")",";",["T_WHITESPACE","\n        ",139],["T_VARIABLE","$initialTranslateInline",140],["T_WHITESPACE"," ",140],"=",["T_WHITESPACE"," ",140],["T_VARIABLE","$translateModel",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","getTranslateInline",140],"(",")",";",["T_WHITESPACE","\n        ",140],["T_VARIABLE","$translateModel",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","setTranslateInline",141],"(",["T_VARIABLE","$newTranslateInline",141],")",";",["T_WHITESPACE","\n        ",141],["T_RETURN","return",142],["T_WHITESPACE"," ",142],["T_VARIABLE","$initialTranslateInline",142],";",["T_WHITESPACE","\n    ",142],"}",["T_WHITESPACE","\n\n    ",143],["T_DOC_COMMENT","\/**\n     * Apply design of the specified store\n     *\n     * @param integer $storeId\n     * @param string $area\n     *\n     * @return array initial design parameters(package, store, area)\n     *\/",145],["T_WHITESPACE","\n    ",152],["T_PROTECTED","protected",153],["T_WHITESPACE"," ",153],["T_FUNCTION","function",153],["T_WHITESPACE"," ",153],["T_STRING","_emulateDesign",153],"(",["T_VARIABLE","$storeId",153],",",["T_WHITESPACE"," ",153],["T_VARIABLE","$area",153],["T_WHITESPACE"," ",153],"=",["T_WHITESPACE"," ",153],["T_STRING","Mage_Core_Model_App_Area",153],["T_DOUBLE_COLON","::",153],["T_STRING","AREA_FRONTEND",153],")",["T_WHITESPACE","\n    ",153],"{",["T_WHITESPACE","\n        ",154],["T_VARIABLE","$initialDesign",155],["T_WHITESPACE"," ",155],"=",["T_WHITESPACE"," ",155],["T_STRING","Mage",155],["T_DOUBLE_COLON","::",155],["T_STRING","getDesign",155],"(",")",["T_OBJECT_OPERATOR","->",155],["T_STRING","setAllGetOld",155],"(",["T_ARRAY","array",155],"(",["T_WHITESPACE","\n            ",155],["T_CONSTANT_ENCAPSED_STRING","'package'",156],["T_WHITESPACE"," ",156],["T_DOUBLE_ARROW","=>",156],["T_WHITESPACE"," ",156],["T_VARIABLE","$this",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","_getStoreConfig",156],"(",["T_CONSTANT_ENCAPSED_STRING","'design\/package\/name'",156],",",["T_WHITESPACE"," ",156],["T_VARIABLE","$storeId",156],")",",",["T_WHITESPACE","\n            ",156],["T_CONSTANT_ENCAPSED_STRING","'store'",157],["T_WHITESPACE","   ",157],["T_DOUBLE_ARROW","=>",157],["T_WHITESPACE"," ",157],["T_VARIABLE","$storeId",157],",",["T_WHITESPACE","\n            ",157],["T_CONSTANT_ENCAPSED_STRING","'area'",158],["T_WHITESPACE","    ",158],["T_DOUBLE_ARROW","=>",158],["T_WHITESPACE"," ",158],["T_VARIABLE","$area",158],["T_WHITESPACE","\n        ",158],")",")",";",["T_WHITESPACE","\n        ",159],["T_STRING","Mage",160],["T_DOUBLE_COLON","::",160],["T_STRING","getDesign",160],"(",")",["T_OBJECT_OPERATOR","->",160],["T_STRING","setTheme",160],"(",["T_CONSTANT_ENCAPSED_STRING","''",160],")",";",["T_WHITESPACE","\n        ",160],["T_STRING","Mage",161],["T_DOUBLE_COLON","::",161],["T_STRING","getDesign",161],"(",")",["T_OBJECT_OPERATOR","->",161],["T_STRING","setPackageName",161],"(",["T_CONSTANT_ENCAPSED_STRING","''",161],")",";",["T_WHITESPACE","\n        ",161],["T_RETURN","return",162],["T_WHITESPACE"," ",162],["T_VARIABLE","$initialDesign",162],";",["T_WHITESPACE","\n    ",162],"}",["T_WHITESPACE","\n\n    ",163],["T_DOC_COMMENT","\/**\n     * Apply locale of the specified store\n     *\n     * @param integer $storeId\n     * @param string $area\n     *\n     * @return string initial locale code\n     *\/",165],["T_WHITESPACE","\n    ",172],["T_PROTECTED","protected",173],["T_WHITESPACE"," ",173],["T_FUNCTION","function",173],["T_WHITESPACE"," ",173],["T_STRING","_emulateLocale",173],"(",["T_VARIABLE","$storeId",173],",",["T_WHITESPACE"," ",173],["T_VARIABLE","$area",173],["T_WHITESPACE"," ",173],"=",["T_WHITESPACE"," ",173],["T_STRING","Mage_Core_Model_App_Area",173],["T_DOUBLE_COLON","::",173],["T_STRING","AREA_FRONTEND",173],")",["T_WHITESPACE","\n    ",173],"{",["T_WHITESPACE","\n        ",174],["T_VARIABLE","$initialLocaleCode",175],["T_WHITESPACE"," ",175],"=",["T_WHITESPACE"," ",175],["T_VARIABLE","$this",175],["T_OBJECT_OPERATOR","->",175],["T_STRING","_app",175],["T_OBJECT_OPERATOR","->",175],["T_STRING","getLocale",175],"(",")",["T_OBJECT_OPERATOR","->",175],["T_STRING","getLocaleCode",175],"(",")",";",["T_WHITESPACE","\n        ",175],["T_VARIABLE","$newLocaleCode",176],["T_WHITESPACE"," ",176],"=",["T_WHITESPACE"," ",176],["T_VARIABLE","$this",176],["T_OBJECT_OPERATOR","->",176],["T_STRING","_getStoreConfig",176],"(",["T_STRING","Mage_Core_Model_Locale",176],["T_DOUBLE_COLON","::",176],["T_STRING","XML_PATH_DEFAULT_LOCALE",176],",",["T_WHITESPACE"," ",176],["T_VARIABLE","$storeId",176],")",";",["T_WHITESPACE","\n        ",176],["T_IF","if",177],["T_WHITESPACE"," ",177],"(",["T_VARIABLE","$initialLocaleCode",177],["T_WHITESPACE"," ",177],["T_IS_NOT_EQUAL","!=",177],["T_WHITESPACE"," ",177],["T_VARIABLE","$newLocaleCode",177],")",["T_WHITESPACE"," ",177],"{",["T_WHITESPACE","\n            ",177],["T_VARIABLE","$this",178],["T_OBJECT_OPERATOR","->",178],["T_STRING","_app",178],["T_OBJECT_OPERATOR","->",178],["T_STRING","getLocale",178],"(",")",["T_OBJECT_OPERATOR","->",178],["T_STRING","setLocaleCode",178],"(",["T_VARIABLE","$newLocaleCode",178],")",";",["T_WHITESPACE","\n            ",178],["T_VARIABLE","$this",179],["T_OBJECT_OPERATOR","->",179],["T_STRING","_factory",179],["T_OBJECT_OPERATOR","->",179],["T_STRING","getSingleton",179],"(",["T_CONSTANT_ENCAPSED_STRING","'core\/translate'",179],")",["T_OBJECT_OPERATOR","->",179],["T_STRING","setLocale",179],"(",["T_VARIABLE","$newLocaleCode",179],")",["T_OBJECT_OPERATOR","->",179],["T_STRING","init",179],"(",["T_VARIABLE","$area",179],",",["T_WHITESPACE"," ",179],["T_STRING","true",179],")",";",["T_WHITESPACE","\n        ",179],"}",["T_WHITESPACE","\n        ",180],["T_RETURN","return",181],["T_WHITESPACE"," ",181],["T_VARIABLE","$initialLocaleCode",181],";",["T_WHITESPACE","\n    ",181],"}",["T_WHITESPACE","\n\n    ",182],["T_DOC_COMMENT","\/**\n     * Retrieve config value for store by path\n     *\n     * @param string $path\n     * @param mixed $store\n     * @return mixed\n     *\/",184],["T_WHITESPACE","\n    ",190],["T_PROTECTED","protected",191],["T_WHITESPACE"," ",191],["T_FUNCTION","function",191],["T_WHITESPACE"," ",191],["T_STRING","_getStoreConfig",191],"(",["T_VARIABLE","$path",191],",",["T_WHITESPACE"," ",191],["T_VARIABLE","$store",191],["T_WHITESPACE"," ",191],"=",["T_WHITESPACE"," ",191],["T_STRING","null",191],")",["T_WHITESPACE","\n    ",191],"{",["T_WHITESPACE","\n        ",192],["T_RETURN","return",193],["T_WHITESPACE"," ",193],["T_STRING","Mage",193],["T_DOUBLE_COLON","::",193],["T_STRING","getStoreConfig",193],"(",["T_VARIABLE","$path",193],",",["T_WHITESPACE"," ",193],["T_VARIABLE","$store",193],")",";",["T_WHITESPACE","\n    ",193],"}",["T_WHITESPACE","\n\n    ",194],["T_DOC_COMMENT","\/**\n     * Restore initial inline translation state\n     *\n     * @param boolean $initialTranslateInline\n     *\n     * @return Mage_Core_Model_App_Emulation\n     *\/",196],["T_WHITESPACE","\n    ",202],["T_PROTECTED","protected",203],["T_WHITESPACE"," ",203],["T_FUNCTION","function",203],["T_WHITESPACE"," ",203],["T_STRING","_restoreInitialInlineTranslation",203],"(",["T_VARIABLE","$initialTranslateInline",203],")",["T_WHITESPACE","\n    ",203],"{",["T_WHITESPACE","\n        ",204],["T_VARIABLE","$translateModel",205],["T_WHITESPACE"," ",205],"=",["T_WHITESPACE"," ",205],["T_STRING","Mage",205],["T_DOUBLE_COLON","::",205],["T_STRING","getSingleton",205],"(",["T_CONSTANT_ENCAPSED_STRING","'core\/translate'",205],")",";",["T_WHITESPACE","\n        ",205],["T_VARIABLE","$translateModel",206],["T_OBJECT_OPERATOR","->",206],["T_STRING","setTranslateInline",206],"(",["T_VARIABLE","$initialTranslateInline",206],")",";",["T_WHITESPACE","\n        ",206],["T_RETURN","return",207],["T_WHITESPACE"," ",207],["T_VARIABLE","$this",207],";",["T_WHITESPACE","\n    ",207],"}",["T_WHITESPACE","\n\n    ",208],["T_DOC_COMMENT","\/**\n     * Restore design of the initial store\n     *\n     * @param array $initialDesign\n     *\n     * @return Mage_Core_Model_App_Emulation\n     *\/",210],["T_WHITESPACE","\n    ",216],["T_PROTECTED","protected",217],["T_WHITESPACE"," ",217],["T_FUNCTION","function",217],["T_WHITESPACE"," ",217],["T_STRING","_restoreInitialDesign",217],"(",["T_ARRAY","array",217],["T_WHITESPACE"," ",217],["T_VARIABLE","$initialDesign",217],")",["T_WHITESPACE","\n    ",217],"{",["T_WHITESPACE","\n        ",218],["T_STRING","Mage",219],["T_DOUBLE_COLON","::",219],["T_STRING","getDesign",219],"(",")",["T_OBJECT_OPERATOR","->",219],["T_STRING","setAllGetOld",219],"(",["T_VARIABLE","$initialDesign",219],")",";",["T_WHITESPACE","\n        ",219],["T_STRING","Mage",220],["T_DOUBLE_COLON","::",220],["T_STRING","getDesign",220],"(",")",["T_OBJECT_OPERATOR","->",220],["T_STRING","setTheme",220],"(",["T_CONSTANT_ENCAPSED_STRING","''",220],")",";",["T_WHITESPACE","\n        ",220],["T_STRING","Mage",221],["T_DOUBLE_COLON","::",221],["T_STRING","getDesign",221],"(",")",["T_OBJECT_OPERATOR","->",221],["T_STRING","setPackageName",221],"(",["T_CONSTANT_ENCAPSED_STRING","''",221],")",";",["T_WHITESPACE","\n        ",221],["T_RETURN","return",222],["T_WHITESPACE"," ",222],["T_VARIABLE","$this",222],";",["T_WHITESPACE","\n    ",222],"}",["T_WHITESPACE","\n\n    ",223],["T_DOC_COMMENT","\/**\n     * Restore locale of the initial store\n     *\n     * @param string $initialLocaleCode\n     * @param string $initialArea\n     *\n     * @return Mage_Core_Model_App_Emulation\n     *\/",225],["T_WHITESPACE","\n    ",232],["T_PROTECTED","protected",233],["T_WHITESPACE"," ",233],["T_FUNCTION","function",233],["T_WHITESPACE"," ",233],["T_STRING","_restoreInitialLocale",233],"(",["T_VARIABLE","$initialLocaleCode",233],",",["T_WHITESPACE","\n                                             ",233],["T_VARIABLE","$initialArea",234],["T_WHITESPACE"," ",234],"=",["T_WHITESPACE"," ",234],["T_STRING","Mage_Core_Model_App_Area",234],["T_DOUBLE_COLON","::",234],["T_STRING","AREA_ADMINHTML",234],")",["T_WHITESPACE","\n    ",234],"{",["T_WHITESPACE","\n        ",235],["T_VARIABLE","$currentLocaleCode",236],["T_WHITESPACE"," ",236],"=",["T_WHITESPACE"," ",236],["T_VARIABLE","$this",236],["T_OBJECT_OPERATOR","->",236],["T_STRING","_app",236],["T_OBJECT_OPERATOR","->",236],["T_STRING","getLocale",236],"(",")",["T_OBJECT_OPERATOR","->",236],["T_STRING","getLocaleCode",236],"(",")",";",["T_WHITESPACE","\n        ",236],["T_IF","if",237],["T_WHITESPACE"," ",237],"(",["T_VARIABLE","$currentLocaleCode",237],["T_WHITESPACE"," ",237],["T_IS_NOT_EQUAL","!=",237],["T_WHITESPACE"," ",237],["T_VARIABLE","$initialLocaleCode",237],")",["T_WHITESPACE"," ",237],"{",["T_WHITESPACE","\n            ",237],["T_VARIABLE","$this",238],["T_OBJECT_OPERATOR","->",238],["T_STRING","_app",238],["T_OBJECT_OPERATOR","->",238],["T_STRING","getLocale",238],"(",")",["T_OBJECT_OPERATOR","->",238],["T_STRING","setLocaleCode",238],"(",["T_VARIABLE","$initialLocaleCode",238],")",";",["T_WHITESPACE","\n            ",238],["T_VARIABLE","$this",239],["T_OBJECT_OPERATOR","->",239],["T_STRING","_factory",239],["T_OBJECT_OPERATOR","->",239],["T_STRING","getSingleton",239],"(",["T_CONSTANT_ENCAPSED_STRING","'core\/translate'",239],")",["T_OBJECT_OPERATOR","->",239],["T_STRING","setLocale",239],"(",["T_VARIABLE","$initialLocaleCode",239],")",["T_OBJECT_OPERATOR","->",239],["T_STRING","init",239],"(",["T_VARIABLE","$initialArea",239],",",["T_WHITESPACE"," ",239],["T_STRING","true",239],")",";",["T_WHITESPACE","\n        ",239],"}",["T_WHITESPACE","\n        ",240],["T_RETURN","return",241],["T_WHITESPACE"," ",241],["T_VARIABLE","$this",241],";",["T_WHITESPACE","\n    ",241],"}",["T_WHITESPACE","\n",242],"}",["T_WHITESPACE","\n",243]]