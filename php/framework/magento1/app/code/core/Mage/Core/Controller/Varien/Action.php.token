[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Magento\n *\n * NOTICE OF LICENSE\n *\n * This source file is subject to the Open Software License (OSL 3.0)\n * that is bundled with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/opensource.org\/licenses\/osl-3.0.php\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@magento.com so we can send you a copy immediately.\n *\n * DISCLAIMER\n *\n * Do not edit or add to this file if you wish to upgrade Magento to newer\n * versions in the future. If you wish to customize Magento for your\n * needs please refer to http:\/\/www.magento.com for more information.\n *\n * @category    Mage\n * @package     Mage_Core\n * @copyright  Copyright (c) 2006-2016 X.commerce, Inc. and affiliates (http:\/\/www.magento.com)\n * @license    http:\/\/opensource.org\/licenses\/osl-3.0.php  Open Software License (OSL 3.0)\n *\/",2],["T_WHITESPACE","\n\n\n",25],["T_DOC_COMMENT","\/**\n * Custom Zend_Controller_Action class (formally)\n *\n * Allows dispatching before and after events for each controller action\n *\n * @category   Mage\n * @package    Mage_Core\n * @author     Magento Core Team <core@magentocommerce.com>\n *\/",28],["T_WHITESPACE","\n",36],["T_ABSTRACT","abstract",37],["T_WHITESPACE"," ",37],["T_CLASS","class",37],["T_WHITESPACE"," ",37],["T_STRING","Mage_Core_Controller_Varien_Action",37],["T_WHITESPACE","\n",37],"{",["T_WHITESPACE","\n    ",38],["T_CONST","const",39],["T_WHITESPACE"," ",39],["T_STRING","FLAG_NO_CHECK_INSTALLATION",39],["T_WHITESPACE","    ",39],"=",["T_WHITESPACE"," ",39],["T_CONSTANT_ENCAPSED_STRING","'no-install-check'",39],";",["T_WHITESPACE","\n    ",39],["T_CONST","const",40],["T_WHITESPACE"," ",40],["T_STRING","FLAG_NO_DISPATCH",40],["T_WHITESPACE","              ",40],"=",["T_WHITESPACE"," ",40],["T_CONSTANT_ENCAPSED_STRING","'no-dispatch'",40],";",["T_WHITESPACE","\n    ",40],["T_CONST","const",41],["T_WHITESPACE"," ",41],["T_STRING","FLAG_NO_PRE_DISPATCH",41],["T_WHITESPACE","          ",41],"=",["T_WHITESPACE"," ",41],["T_CONSTANT_ENCAPSED_STRING","'no-preDispatch'",41],";",["T_WHITESPACE","\n    ",41],["T_CONST","const",42],["T_WHITESPACE"," ",42],["T_STRING","FLAG_NO_POST_DISPATCH",42],["T_WHITESPACE","         ",42],"=",["T_WHITESPACE"," ",42],["T_CONSTANT_ENCAPSED_STRING","'no-postDispatch'",42],";",["T_WHITESPACE","\n    ",42],["T_CONST","const",43],["T_WHITESPACE"," ",43],["T_STRING","FLAG_NO_START_SESSION",43],["T_WHITESPACE","         ",43],"=",["T_WHITESPACE"," ",43],["T_CONSTANT_ENCAPSED_STRING","'no-startSession'",43],";",["T_WHITESPACE","\n    ",43],["T_CONST","const",44],["T_WHITESPACE"," ",44],["T_STRING","FLAG_NO_DISPATCH_BLOCK_EVENT",44],["T_WHITESPACE","  ",44],"=",["T_WHITESPACE"," ",44],["T_CONSTANT_ENCAPSED_STRING","'no-beforeGenerateLayoutBlocksDispatch'",44],";",["T_WHITESPACE","\n    ",44],["T_CONST","const",45],["T_WHITESPACE"," ",45],["T_STRING","FLAG_NO_COOKIES_REDIRECT",45],["T_WHITESPACE","      ",45],"=",["T_WHITESPACE"," ",45],["T_CONSTANT_ENCAPSED_STRING","'no-cookies-redirect'",45],";",["T_WHITESPACE","\n\n    ",45],["T_CONST","const",47],["T_WHITESPACE"," ",47],["T_STRING","PARAM_NAME_SUCCESS_URL",47],["T_WHITESPACE","        ",47],"=",["T_WHITESPACE"," ",47],["T_CONSTANT_ENCAPSED_STRING","'success_url'",47],";",["T_WHITESPACE","\n    ",47],["T_CONST","const",48],["T_WHITESPACE"," ",48],["T_STRING","PARAM_NAME_ERROR_URL",48],["T_WHITESPACE","          ",48],"=",["T_WHITESPACE"," ",48],["T_CONSTANT_ENCAPSED_STRING","'error_url'",48],";",["T_WHITESPACE","\n    ",48],["T_CONST","const",49],["T_WHITESPACE"," ",49],["T_STRING","PARAM_NAME_REFERER_URL",49],["T_WHITESPACE","        ",49],"=",["T_WHITESPACE"," ",49],["T_CONSTANT_ENCAPSED_STRING","'referer_url'",49],";",["T_WHITESPACE","\n    ",49],["T_CONST","const",50],["T_WHITESPACE"," ",50],["T_STRING","PARAM_NAME_BASE64_URL",50],["T_WHITESPACE","         ",50],"=",["T_WHITESPACE"," ",50],["T_CONSTANT_ENCAPSED_STRING","'r64'",50],";",["T_WHITESPACE","\n    ",50],["T_CONST","const",51],["T_WHITESPACE"," ",51],["T_STRING","PARAM_NAME_URL_ENCODED",51],["T_WHITESPACE","        ",51],"=",["T_WHITESPACE"," ",51],["T_CONSTANT_ENCAPSED_STRING","'uenc'",51],";",["T_WHITESPACE","\n\n    ",51],["T_CONST","const",53],["T_WHITESPACE"," ",53],["T_STRING","PROFILER_KEY",53],["T_WHITESPACE","                  ",53],"=",["T_WHITESPACE"," ",53],["T_CONSTANT_ENCAPSED_STRING","'mage::dispatch::controller::action'",53],";",["T_WHITESPACE","\n\n    ",53],["T_DOC_COMMENT","\/**\n     * Request object\n     *\n     * @var Zend_Controller_Request_Abstract\n     *\/",55],["T_WHITESPACE","\n    ",59],["T_PROTECTED","protected",60],["T_WHITESPACE"," ",60],["T_VARIABLE","$_request",60],";",["T_WHITESPACE","\n\n    ",60],["T_DOC_COMMENT","\/**\n     * Response object\n     *\n     * @var Zend_Controller_Response_Abstract\n     *\/",62],["T_WHITESPACE","\n    ",66],["T_PROTECTED","protected",67],["T_WHITESPACE"," ",67],["T_VARIABLE","$_response",67],";",["T_WHITESPACE","\n\n    ",67],["T_DOC_COMMENT","\/**\n     * Real module name (like 'Mage_Module')\n     *\n     * @var string\n     *\/",69],["T_WHITESPACE","\n    ",73],["T_PROTECTED","protected",74],["T_WHITESPACE"," ",74],["T_VARIABLE","$_realModuleName",74],";",["T_WHITESPACE","\n\n    ",74],["T_DOC_COMMENT","\/**\n     * Action flags\n     *\n     * for example used to disable rendering default layout\n     *\n     * @var array\n     *\/",76],["T_WHITESPACE","\n    ",82],["T_PROTECTED","protected",83],["T_WHITESPACE"," ",83],["T_VARIABLE","$_flags",83],["T_WHITESPACE"," ",83],"=",["T_WHITESPACE"," ",83],["T_ARRAY","array",83],"(",")",";",["T_WHITESPACE","\n\n    ",83],["T_DOC_COMMENT","\/**\n     * Action list where need check enabled cookie\n     *\n     * @var array\n     *\/",85],["T_WHITESPACE","\n    ",89],["T_PROTECTED","protected",90],["T_WHITESPACE"," ",90],["T_VARIABLE","$_cookieCheckActions",90],["T_WHITESPACE"," ",90],"=",["T_WHITESPACE"," ",90],["T_ARRAY","array",90],"(",")",";",["T_WHITESPACE","\n\n    ",90],["T_DOC_COMMENT","\/**\n     * Currently used area\n     *\n     * @var string\n     *\/",92],["T_WHITESPACE","\n    ",96],["T_PROTECTED","protected",97],["T_WHITESPACE"," ",97],["T_VARIABLE","$_currentArea",97],";",["T_WHITESPACE","\n\n    ",97],["T_DOC_COMMENT","\/**\n     * Namespace for session.\n     * Should be defined for proper working session.\n     *\n     * @var string\n     *\/",99],["T_WHITESPACE","\n    ",104],["T_PROTECTED","protected",105],["T_WHITESPACE"," ",105],["T_VARIABLE","$_sessionNamespace",105],";",["T_WHITESPACE","\n\n    ",105],["T_DOC_COMMENT","\/**\n     * Whether layout is loaded\n     *\n     * @see self::loadLayout()\n     * @var bool\n     *\/",107],["T_WHITESPACE","\n    ",112],["T_PROTECTED","protected",113],["T_WHITESPACE"," ",113],["T_VARIABLE","$_isLayoutLoaded",113],["T_WHITESPACE"," ",113],"=",["T_WHITESPACE"," ",113],["T_STRING","false",113],";",["T_WHITESPACE","\n\n    ",113],["T_DOC_COMMENT","\/**\n     * Title parts to be rendered in the page head title\n     *\n     * @see self::_title()\n     * @var array\n     *\/",115],["T_WHITESPACE","\n    ",120],["T_PROTECTED","protected",121],["T_WHITESPACE"," ",121],["T_VARIABLE","$_titles",121],["T_WHITESPACE"," ",121],"=",["T_WHITESPACE"," ",121],["T_ARRAY","array",121],"(",")",";",["T_WHITESPACE","\n\n    ",121],["T_DOC_COMMENT","\/**\n     * Whether the default title should be removed\n     *\n     * @see self::_title()\n     * @var bool\n     *\/",123],["T_WHITESPACE","\n    ",128],["T_PROTECTED","protected",129],["T_WHITESPACE"," ",129],["T_VARIABLE","$_removeDefaultTitle",129],["T_WHITESPACE"," ",129],"=",["T_WHITESPACE"," ",129],["T_STRING","false",129],";",["T_WHITESPACE","\n\n    ",129],["T_DOC_COMMENT","\/**\n     * Constructor\n     *\n     * @param Zend_Controller_Request_Abstract $request\n     * @param Zend_Controller_Response_Abstract $response\n     * @param array $invokeArgs\n     *\/",131],["T_WHITESPACE","\n    ",137],["T_PUBLIC","public",138],["T_WHITESPACE"," ",138],["T_FUNCTION","function",138],["T_WHITESPACE"," ",138],["T_STRING","__construct",138],"(",["T_STRING","Zend_Controller_Request_Abstract",138],["T_WHITESPACE"," ",138],["T_VARIABLE","$request",138],",",["T_WHITESPACE"," ",138],["T_STRING","Zend_Controller_Response_Abstract",138],["T_WHITESPACE"," ",138],["T_VARIABLE","$response",138],",",["T_WHITESPACE"," ",138],["T_ARRAY","array",138],["T_WHITESPACE"," ",138],["T_VARIABLE","$invokeArgs",138],["T_WHITESPACE"," ",138],"=",["T_WHITESPACE"," ",138],["T_ARRAY","array",138],"(",")",")",["T_WHITESPACE","\n    ",138],"{",["T_WHITESPACE","\n        ",139],["T_VARIABLE","$this",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","_request",140],["T_WHITESPACE"," ",140],"=",["T_WHITESPACE"," ",140],["T_VARIABLE","$request",140],";",["T_WHITESPACE","\n        ",140],["T_VARIABLE","$this",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","_response",141],"=",["T_WHITESPACE"," ",141],["T_VARIABLE","$response",141],";",["T_WHITESPACE","\n\n        ",141],["T_STRING","Mage",143],["T_DOUBLE_COLON","::",143],["T_STRING","app",143],"(",")",["T_OBJECT_OPERATOR","->",143],["T_STRING","getFrontController",143],"(",")",["T_OBJECT_OPERATOR","->",143],["T_STRING","setAction",143],"(",["T_VARIABLE","$this",143],")",";",["T_WHITESPACE","\n\n        ",143],["T_VARIABLE","$this",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","_construct",145],"(",")",";",["T_WHITESPACE","\n    ",145],"}",["T_WHITESPACE","\n\n    ",146],["T_PROTECTED","protected",148],["T_WHITESPACE"," ",148],["T_FUNCTION","function",148],["T_WHITESPACE"," ",148],["T_STRING","_construct",148],"(",")",["T_WHITESPACE","\n    ",148],"{",["T_WHITESPACE","\n    ",149],"}",["T_WHITESPACE","\n\n    ",150],["T_PUBLIC","public",152],["T_WHITESPACE"," ",152],["T_FUNCTION","function",152],["T_WHITESPACE"," ",152],["T_STRING","hasAction",152],"(",["T_VARIABLE","$action",152],")",["T_WHITESPACE","\n    ",152],"{",["T_WHITESPACE","\n        ",153],["T_RETURN","return",154],["T_WHITESPACE"," ",154],["T_STRING","method_exists",154],"(",["T_VARIABLE","$this",154],",",["T_WHITESPACE"," ",154],["T_VARIABLE","$this",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","getActionMethodName",154],"(",["T_VARIABLE","$action",154],")",")",";",["T_WHITESPACE","\n    ",154],"}",["T_WHITESPACE","\n\n    ",155],["T_DOC_COMMENT","\/**\n     * Retrieve request object\n     *\n     * @return Mage_Core_Controller_Request_Http\n     *\/",157],["T_WHITESPACE","\n    ",161],["T_PUBLIC","public",162],["T_WHITESPACE"," ",162],["T_FUNCTION","function",162],["T_WHITESPACE"," ",162],["T_STRING","getRequest",162],"(",")",["T_WHITESPACE","\n    ",162],"{",["T_WHITESPACE","\n        ",163],["T_RETURN","return",164],["T_WHITESPACE"," ",164],["T_VARIABLE","$this",164],["T_OBJECT_OPERATOR","->",164],["T_STRING","_request",164],";",["T_WHITESPACE","\n    ",164],"}",["T_WHITESPACE","\n\n    ",165],["T_DOC_COMMENT","\/**\n     * Retrieve response object\n     *\n     * @return Mage_Core_Controller_Response_Http\n     *\/",167],["T_WHITESPACE","\n    ",171],["T_PUBLIC","public",172],["T_WHITESPACE"," ",172],["T_FUNCTION","function",172],["T_WHITESPACE"," ",172],["T_STRING","getResponse",172],"(",")",["T_WHITESPACE","\n    ",172],"{",["T_WHITESPACE","\n        ",173],["T_RETURN","return",174],["T_WHITESPACE"," ",174],["T_VARIABLE","$this",174],["T_OBJECT_OPERATOR","->",174],["T_STRING","_response",174],";",["T_WHITESPACE","\n    ",174],"}",["T_WHITESPACE","\n\n    ",175],["T_DOC_COMMENT","\/**\n     * Retrieve flag value\n     *\n     * @param   string $action\n     * @param   string $flag\n     * @return  bool\n     *\/",177],["T_WHITESPACE","\n    ",183],["T_PUBLIC","public",184],["T_WHITESPACE"," ",184],["T_FUNCTION","function",184],["T_WHITESPACE"," ",184],["T_STRING","getFlag",184],"(",["T_VARIABLE","$action",184],",",["T_WHITESPACE"," ",184],["T_VARIABLE","$flag",184],"=",["T_CONSTANT_ENCAPSED_STRING","''",184],")",["T_WHITESPACE","\n    ",184],"{",["T_WHITESPACE","\n        ",185],["T_IF","if",186],["T_WHITESPACE"," ",186],"(",["T_CONSTANT_ENCAPSED_STRING","''",186],["T_IS_IDENTICAL","===",186],["T_VARIABLE","$action",186],")",["T_WHITESPACE"," ",186],"{",["T_WHITESPACE","\n            ",186],["T_VARIABLE","$action",187],["T_WHITESPACE"," ",187],"=",["T_WHITESPACE"," ",187],["T_VARIABLE","$this",187],["T_OBJECT_OPERATOR","->",187],["T_STRING","getRequest",187],"(",")",["T_OBJECT_OPERATOR","->",187],["T_STRING","getActionName",187],"(",")",";",["T_WHITESPACE","\n        ",187],"}",["T_WHITESPACE","\n        ",188],["T_IF","if",189],["T_WHITESPACE"," ",189],"(",["T_CONSTANT_ENCAPSED_STRING","''",189],["T_IS_IDENTICAL","===",189],["T_VARIABLE","$flag",189],")",["T_WHITESPACE"," ",189],"{",["T_WHITESPACE","\n            ",189],["T_RETURN","return",190],["T_WHITESPACE"," ",190],["T_VARIABLE","$this",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","_flags",190],";",["T_WHITESPACE","\n        ",190],"}",["T_WHITESPACE","\n        ",191],["T_ELSEIF","elseif",192],["T_WHITESPACE"," ",192],"(",["T_ISSET","isset",192],"(",["T_VARIABLE","$this",192],["T_OBJECT_OPERATOR","->",192],["T_STRING","_flags",192],"[",["T_VARIABLE","$action",192],"]","[",["T_VARIABLE","$flag",192],"]",")",")",["T_WHITESPACE"," ",192],"{",["T_WHITESPACE","\n            ",192],["T_RETURN","return",193],["T_WHITESPACE"," ",193],["T_VARIABLE","$this",193],["T_OBJECT_OPERATOR","->",193],["T_STRING","_flags",193],"[",["T_VARIABLE","$action",193],"]","[",["T_VARIABLE","$flag",193],"]",";",["T_WHITESPACE","\n        ",193],"}",["T_WHITESPACE","\n        ",194],["T_ELSE","else",195],["T_WHITESPACE"," ",195],"{",["T_WHITESPACE","\n            ",195],["T_RETURN","return",196],["T_WHITESPACE"," ",196],["T_STRING","false",196],";",["T_WHITESPACE","\n        ",196],"}",["T_WHITESPACE","\n    ",197],"}",["T_WHITESPACE","\n\n    ",198],["T_DOC_COMMENT","\/**\n     * Setting flag value\n     *\n     * @param   string $action\n     * @param   string $flag\n     * @param   string $value\n     * @return  Mage_Core_Controller_Varien_Action\n     *\/",200],["T_WHITESPACE","\n    ",207],["T_PUBLIC","public",208],["T_WHITESPACE"," ",208],["T_FUNCTION","function",208],["T_WHITESPACE"," ",208],["T_STRING","setFlag",208],"(",["T_VARIABLE","$action",208],",",["T_WHITESPACE"," ",208],["T_VARIABLE","$flag",208],",",["T_WHITESPACE"," ",208],["T_VARIABLE","$value",208],")",["T_WHITESPACE","\n    ",208],"{",["T_WHITESPACE","\n        ",209],["T_IF","if",210],["T_WHITESPACE"," ",210],"(",["T_CONSTANT_ENCAPSED_STRING","''",210],["T_IS_IDENTICAL","===",210],["T_VARIABLE","$action",210],")",["T_WHITESPACE"," ",210],"{",["T_WHITESPACE","\n            ",210],["T_VARIABLE","$action",211],["T_WHITESPACE"," ",211],"=",["T_WHITESPACE"," ",211],["T_VARIABLE","$this",211],["T_OBJECT_OPERATOR","->",211],["T_STRING","getRequest",211],"(",")",["T_OBJECT_OPERATOR","->",211],["T_STRING","getActionName",211],"(",")",";",["T_WHITESPACE","\n        ",211],"}",["T_WHITESPACE","\n        ",212],["T_VARIABLE","$this",213],["T_OBJECT_OPERATOR","->",213],["T_STRING","_flags",213],"[",["T_VARIABLE","$action",213],"]","[",["T_VARIABLE","$flag",213],"]",["T_WHITESPACE"," ",213],"=",["T_WHITESPACE"," ",213],["T_VARIABLE","$value",213],";",["T_WHITESPACE","\n        ",213],["T_RETURN","return",214],["T_WHITESPACE"," ",214],["T_VARIABLE","$this",214],";",["T_WHITESPACE","\n    ",214],"}",["T_WHITESPACE","\n\n    ",215],["T_DOC_COMMENT","\/**\n     * Retrieve full bane of current action current controller and\n     * current module\n     *\n     * @param   string $delimiter\n     * @return  string\n     *\/",217],["T_WHITESPACE","\n    ",223],["T_PUBLIC","public",224],["T_WHITESPACE"," ",224],["T_FUNCTION","function",224],["T_WHITESPACE"," ",224],["T_STRING","getFullActionName",224],"(",["T_VARIABLE","$delimiter",224],"=",["T_CONSTANT_ENCAPSED_STRING","'_'",224],")",["T_WHITESPACE","\n    ",224],"{",["T_WHITESPACE","\n        ",225],["T_RETURN","return",226],["T_WHITESPACE"," ",226],["T_VARIABLE","$this",226],["T_OBJECT_OPERATOR","->",226],["T_STRING","getRequest",226],"(",")",["T_OBJECT_OPERATOR","->",226],["T_STRING","getRequestedRouteName",226],"(",")",".",["T_VARIABLE","$delimiter",226],".",["T_WHITESPACE","\n            ",226],["T_VARIABLE","$this",227],["T_OBJECT_OPERATOR","->",227],["T_STRING","getRequest",227],"(",")",["T_OBJECT_OPERATOR","->",227],["T_STRING","getRequestedControllerName",227],"(",")",".",["T_VARIABLE","$delimiter",227],".",["T_WHITESPACE","\n            ",227],["T_VARIABLE","$this",228],["T_OBJECT_OPERATOR","->",228],["T_STRING","getRequest",228],"(",")",["T_OBJECT_OPERATOR","->",228],["T_STRING","getRequestedActionName",228],"(",")",";",["T_WHITESPACE","\n    ",228],"}",["T_WHITESPACE","\n\n    ",229],["T_DOC_COMMENT","\/**\n     * Retrieve current layout object\n     *\n     * @return Mage_Core_Model_Layout\n     *\/",231],["T_WHITESPACE","\n    ",235],["T_PUBLIC","public",236],["T_WHITESPACE"," ",236],["T_FUNCTION","function",236],["T_WHITESPACE"," ",236],["T_STRING","getLayout",236],"(",")",["T_WHITESPACE","\n    ",236],"{",["T_WHITESPACE","\n        ",237],["T_RETURN","return",238],["T_WHITESPACE"," ",238],["T_STRING","Mage",238],["T_DOUBLE_COLON","::",238],["T_STRING","getSingleton",238],"(",["T_CONSTANT_ENCAPSED_STRING","'core\/layout'",238],")",";",["T_WHITESPACE","\n    ",238],"}",["T_WHITESPACE","\n\n    ",239],["T_DOC_COMMENT","\/**\n     * Load layout by handles(s)\n     *\n     * @param   string|null|bool $handles\n     * @param   bool $generateBlocks\n     * @param   bool $generateXml\n     * @return  Mage_Core_Controller_Varien_Action\n     *\/",241],["T_WHITESPACE","\n    ",248],["T_PUBLIC","public",249],["T_WHITESPACE"," ",249],["T_FUNCTION","function",249],["T_WHITESPACE"," ",249],["T_STRING","loadLayout",249],"(",["T_VARIABLE","$handles",249],["T_WHITESPACE"," ",249],"=",["T_WHITESPACE"," ",249],["T_STRING","null",249],",",["T_WHITESPACE"," ",249],["T_VARIABLE","$generateBlocks",249],["T_WHITESPACE"," ",249],"=",["T_WHITESPACE"," ",249],["T_STRING","true",249],",",["T_WHITESPACE"," ",249],["T_VARIABLE","$generateXml",249],["T_WHITESPACE"," ",249],"=",["T_WHITESPACE"," ",249],["T_STRING","true",249],")",["T_WHITESPACE","\n    ",249],"{",["T_WHITESPACE","\n        ",250],["T_COMMENT","\/\/ if handles were specified in arguments load them first\n",251],["T_WHITESPACE","        ",252],["T_IF","if",252],["T_WHITESPACE"," ",252],"(",["T_STRING","false",252],["T_IS_NOT_IDENTICAL","!==",252],["T_VARIABLE","$handles",252],["T_WHITESPACE"," ",252],["T_BOOLEAN_AND","&&",252],["T_WHITESPACE"," ",252],["T_CONSTANT_ENCAPSED_STRING","''",252],["T_IS_NOT_IDENTICAL","!==",252],["T_VARIABLE","$handles",252],")",["T_WHITESPACE"," ",252],"{",["T_WHITESPACE","\n            ",252],["T_VARIABLE","$this",253],["T_OBJECT_OPERATOR","->",253],["T_STRING","getLayout",253],"(",")",["T_OBJECT_OPERATOR","->",253],["T_STRING","getUpdate",253],"(",")",["T_OBJECT_OPERATOR","->",253],["T_STRING","addHandle",253],"(",["T_VARIABLE","$handles",253],["T_WHITESPACE"," ",253],"?",["T_WHITESPACE"," ",253],["T_VARIABLE","$handles",253],["T_WHITESPACE"," ",253],":",["T_WHITESPACE"," ",253],["T_CONSTANT_ENCAPSED_STRING","'default'",253],")",";",["T_WHITESPACE","\n        ",253],"}",["T_WHITESPACE","\n\n        ",254],["T_COMMENT","\/\/ add default layout handles for this action\n",256],["T_WHITESPACE","        ",257],["T_VARIABLE","$this",257],["T_OBJECT_OPERATOR","->",257],["T_STRING","addActionLayoutHandles",257],"(",")",";",["T_WHITESPACE","\n\n        ",257],["T_VARIABLE","$this",259],["T_OBJECT_OPERATOR","->",259],["T_STRING","loadLayoutUpdates",259],"(",")",";",["T_WHITESPACE","\n\n        ",259],["T_IF","if",261],["T_WHITESPACE"," ",261],"(","!",["T_VARIABLE","$generateXml",261],")",["T_WHITESPACE"," ",261],"{",["T_WHITESPACE","\n            ",261],["T_RETURN","return",262],["T_WHITESPACE"," ",262],["T_VARIABLE","$this",262],";",["T_WHITESPACE","\n        ",262],"}",["T_WHITESPACE","\n        ",263],["T_VARIABLE","$this",264],["T_OBJECT_OPERATOR","->",264],["T_STRING","generateLayoutXml",264],"(",")",";",["T_WHITESPACE","\n\n        ",264],["T_IF","if",266],["T_WHITESPACE"," ",266],"(","!",["T_VARIABLE","$generateBlocks",266],")",["T_WHITESPACE"," ",266],"{",["T_WHITESPACE","\n            ",266],["T_RETURN","return",267],["T_WHITESPACE"," ",267],["T_VARIABLE","$this",267],";",["T_WHITESPACE","\n        ",267],"}",["T_WHITESPACE","\n        ",268],["T_VARIABLE","$this",269],["T_OBJECT_OPERATOR","->",269],["T_STRING","generateLayoutBlocks",269],"(",")",";",["T_WHITESPACE","\n        ",269],["T_VARIABLE","$this",270],["T_OBJECT_OPERATOR","->",270],["T_STRING","_isLayoutLoaded",270],["T_WHITESPACE"," ",270],"=",["T_WHITESPACE"," ",270],["T_STRING","true",270],";",["T_WHITESPACE","\n\n        ",270],["T_RETURN","return",272],["T_WHITESPACE"," ",272],["T_VARIABLE","$this",272],";",["T_WHITESPACE","\n    ",272],"}",["T_WHITESPACE","\n\n    ",273],["T_PUBLIC","public",275],["T_WHITESPACE"," ",275],["T_FUNCTION","function",275],["T_WHITESPACE"," ",275],["T_STRING","addActionLayoutHandles",275],"(",")",["T_WHITESPACE","\n    ",275],"{",["T_WHITESPACE","\n        ",276],["T_VARIABLE","$update",277],["T_WHITESPACE"," ",277],"=",["T_WHITESPACE"," ",277],["T_VARIABLE","$this",277],["T_OBJECT_OPERATOR","->",277],["T_STRING","getLayout",277],"(",")",["T_OBJECT_OPERATOR","->",277],["T_STRING","getUpdate",277],"(",")",";",["T_WHITESPACE","\n\n        ",277],["T_COMMENT","\/\/ load store handle\n",279],["T_WHITESPACE","        ",280],["T_VARIABLE","$update",280],["T_OBJECT_OPERATOR","->",280],["T_STRING","addHandle",280],"(",["T_CONSTANT_ENCAPSED_STRING","'STORE_'",280],".",["T_STRING","Mage",280],["T_DOUBLE_COLON","::",280],["T_STRING","app",280],"(",")",["T_OBJECT_OPERATOR","->",280],["T_STRING","getStore",280],"(",")",["T_OBJECT_OPERATOR","->",280],["T_STRING","getCode",280],"(",")",")",";",["T_WHITESPACE","\n\n        ",280],["T_COMMENT","\/\/ load theme handle\n",282],["T_WHITESPACE","        ",283],["T_VARIABLE","$package",283],["T_WHITESPACE"," ",283],"=",["T_WHITESPACE"," ",283],["T_STRING","Mage",283],["T_DOUBLE_COLON","::",283],["T_STRING","getSingleton",283],"(",["T_CONSTANT_ENCAPSED_STRING","'core\/design_package'",283],")",";",["T_WHITESPACE","\n        ",283],["T_VARIABLE","$update",284],["T_OBJECT_OPERATOR","->",284],["T_STRING","addHandle",284],"(",["T_WHITESPACE","\n            ",284],["T_CONSTANT_ENCAPSED_STRING","'THEME_'",285],".",["T_VARIABLE","$package",285],["T_OBJECT_OPERATOR","->",285],["T_STRING","getArea",285],"(",")",".",["T_CONSTANT_ENCAPSED_STRING","'_'",285],".",["T_VARIABLE","$package",285],["T_OBJECT_OPERATOR","->",285],["T_STRING","getPackageName",285],"(",")",".",["T_CONSTANT_ENCAPSED_STRING","'_'",285],".",["T_VARIABLE","$package",285],["T_OBJECT_OPERATOR","->",285],["T_STRING","getTheme",285],"(",["T_CONSTANT_ENCAPSED_STRING","'layout'",285],")",["T_WHITESPACE","\n        ",285],")",";",["T_WHITESPACE","\n\n        ",286],["T_COMMENT","\/\/ load action handle\n",288],["T_WHITESPACE","        ",289],["T_VARIABLE","$update",289],["T_OBJECT_OPERATOR","->",289],["T_STRING","addHandle",289],"(",["T_STRING","strtolower",289],"(",["T_VARIABLE","$this",289],["T_OBJECT_OPERATOR","->",289],["T_STRING","getFullActionName",289],"(",")",")",")",";",["T_WHITESPACE","\n\n        ",289],["T_RETURN","return",291],["T_WHITESPACE"," ",291],["T_VARIABLE","$this",291],";",["T_WHITESPACE","\n    ",291],"}",["T_WHITESPACE","\n\n    ",292],["T_PUBLIC","public",294],["T_WHITESPACE"," ",294],["T_FUNCTION","function",294],["T_WHITESPACE"," ",294],["T_STRING","loadLayoutUpdates",294],"(",")",["T_WHITESPACE","\n    ",294],"{",["T_WHITESPACE","\n        ",295],["T_VARIABLE","$_profilerKey",296],["T_WHITESPACE"," ",296],"=",["T_WHITESPACE"," ",296],["T_STRING","self",296],["T_DOUBLE_COLON","::",296],["T_STRING","PROFILER_KEY",296],["T_WHITESPACE"," ",296],".",["T_WHITESPACE"," ",296],["T_CONSTANT_ENCAPSED_STRING","'::'",296],["T_WHITESPACE"," ",296],".",["T_VARIABLE","$this",296],["T_OBJECT_OPERATOR","->",296],["T_STRING","getFullActionName",296],"(",")",";",["T_WHITESPACE","\n\n        ",296],["T_COMMENT","\/\/ dispatch event for adding handles to layout update\n",298],["T_WHITESPACE","        ",299],["T_STRING","Mage",299],["T_DOUBLE_COLON","::",299],["T_STRING","dispatchEvent",299],"(",["T_WHITESPACE","\n            ",299],["T_CONSTANT_ENCAPSED_STRING","'controller_action_layout_load_before'",300],",",["T_WHITESPACE","\n            ",300],["T_ARRAY","array",301],"(",["T_CONSTANT_ENCAPSED_STRING","'action'",301],["T_DOUBLE_ARROW","=>",301],["T_VARIABLE","$this",301],",",["T_WHITESPACE"," ",301],["T_CONSTANT_ENCAPSED_STRING","'layout'",301],["T_DOUBLE_ARROW","=>",301],["T_VARIABLE","$this",301],["T_OBJECT_OPERATOR","->",301],["T_STRING","getLayout",301],"(",")",")",["T_WHITESPACE","\n        ",301],")",";",["T_WHITESPACE","\n\n        ",302],["T_COMMENT","\/\/ load layout updates by specified handles\n",304],["T_WHITESPACE","        ",305],["T_STRING","Varien_Profiler",305],["T_DOUBLE_COLON","::",305],["T_STRING","start",305],"(","\"",["T_VARIABLE","$_profilerKey",305],["T_ENCAPSED_AND_WHITESPACE","::layout_load",305],"\"",")",";",["T_WHITESPACE","\n        ",305],["T_VARIABLE","$this",306],["T_OBJECT_OPERATOR","->",306],["T_STRING","getLayout",306],"(",")",["T_OBJECT_OPERATOR","->",306],["T_STRING","getUpdate",306],"(",")",["T_OBJECT_OPERATOR","->",306],["T_STRING","load",306],"(",")",";",["T_WHITESPACE","\n        ",306],["T_STRING","Varien_Profiler",307],["T_DOUBLE_COLON","::",307],["T_STRING","stop",307],"(","\"",["T_VARIABLE","$_profilerKey",307],["T_ENCAPSED_AND_WHITESPACE","::layout_load",307],"\"",")",";",["T_WHITESPACE","\n\n        ",307],["T_RETURN","return",309],["T_WHITESPACE"," ",309],["T_VARIABLE","$this",309],";",["T_WHITESPACE","\n    ",309],"}",["T_WHITESPACE","\n\n    ",310],["T_PUBLIC","public",312],["T_WHITESPACE"," ",312],["T_FUNCTION","function",312],["T_WHITESPACE"," ",312],["T_STRING","generateLayoutXml",312],"(",")",["T_WHITESPACE","\n    ",312],"{",["T_WHITESPACE","\n        ",313],["T_VARIABLE","$_profilerKey",314],["T_WHITESPACE"," ",314],"=",["T_WHITESPACE"," ",314],["T_STRING","self",314],["T_DOUBLE_COLON","::",314],["T_STRING","PROFILER_KEY",314],["T_WHITESPACE"," ",314],".",["T_WHITESPACE"," ",314],["T_CONSTANT_ENCAPSED_STRING","'::'",314],["T_WHITESPACE"," ",314],".",["T_WHITESPACE"," ",314],["T_VARIABLE","$this",314],["T_OBJECT_OPERATOR","->",314],["T_STRING","getFullActionName",314],"(",")",";",["T_WHITESPACE","\n        ",314],["T_COMMENT","\/\/ dispatch event for adding text layouts\n",315],["T_WHITESPACE","        ",316],["T_IF","if",316],"(","!",["T_VARIABLE","$this",316],["T_OBJECT_OPERATOR","->",316],["T_STRING","getFlag",316],"(",["T_CONSTANT_ENCAPSED_STRING","''",316],",",["T_WHITESPACE"," ",316],["T_STRING","self",316],["T_DOUBLE_COLON","::",316],["T_STRING","FLAG_NO_DISPATCH_BLOCK_EVENT",316],")",")",["T_WHITESPACE"," ",316],"{",["T_WHITESPACE","\n            ",316],["T_STRING","Mage",317],["T_DOUBLE_COLON","::",317],["T_STRING","dispatchEvent",317],"(",["T_WHITESPACE","\n                ",317],["T_CONSTANT_ENCAPSED_STRING","'controller_action_layout_generate_xml_before'",318],",",["T_WHITESPACE","\n                ",318],["T_ARRAY","array",319],"(",["T_CONSTANT_ENCAPSED_STRING","'action'",319],["T_DOUBLE_ARROW","=>",319],["T_VARIABLE","$this",319],",",["T_WHITESPACE"," ",319],["T_CONSTANT_ENCAPSED_STRING","'layout'",319],["T_DOUBLE_ARROW","=>",319],["T_VARIABLE","$this",319],["T_OBJECT_OPERATOR","->",319],["T_STRING","getLayout",319],"(",")",")",["T_WHITESPACE","\n            ",319],")",";",["T_WHITESPACE","\n        ",320],"}",["T_WHITESPACE","\n\n        ",321],["T_COMMENT","\/\/ generate xml from collected text updates\n",323],["T_WHITESPACE","        ",324],["T_STRING","Varien_Profiler",324],["T_DOUBLE_COLON","::",324],["T_STRING","start",324],"(","\"",["T_VARIABLE","$_profilerKey",324],["T_ENCAPSED_AND_WHITESPACE","::layout_generate_xml",324],"\"",")",";",["T_WHITESPACE","\n        ",324],["T_VARIABLE","$this",325],["T_OBJECT_OPERATOR","->",325],["T_STRING","getLayout",325],"(",")",["T_OBJECT_OPERATOR","->",325],["T_STRING","generateXml",325],"(",")",";",["T_WHITESPACE","\n        ",325],["T_STRING","Varien_Profiler",326],["T_DOUBLE_COLON","::",326],["T_STRING","stop",326],"(","\"",["T_VARIABLE","$_profilerKey",326],["T_ENCAPSED_AND_WHITESPACE","::layout_generate_xml",326],"\"",")",";",["T_WHITESPACE","\n\n        ",326],["T_RETURN","return",328],["T_WHITESPACE"," ",328],["T_VARIABLE","$this",328],";",["T_WHITESPACE","\n    ",328],"}",["T_WHITESPACE","\n\n    ",329],["T_PUBLIC","public",331],["T_WHITESPACE"," ",331],["T_FUNCTION","function",331],["T_WHITESPACE"," ",331],["T_STRING","generateLayoutBlocks",331],"(",")",["T_WHITESPACE","\n    ",331],"{",["T_WHITESPACE","\n        ",332],["T_VARIABLE","$_profilerKey",333],["T_WHITESPACE"," ",333],"=",["T_WHITESPACE"," ",333],["T_STRING","self",333],["T_DOUBLE_COLON","::",333],["T_STRING","PROFILER_KEY",333],["T_WHITESPACE"," ",333],".",["T_WHITESPACE"," ",333],["T_CONSTANT_ENCAPSED_STRING","'::'",333],["T_WHITESPACE"," ",333],".",["T_WHITESPACE"," ",333],["T_VARIABLE","$this",333],["T_OBJECT_OPERATOR","->",333],["T_STRING","getFullActionName",333],"(",")",";",["T_WHITESPACE","\n        ",333],["T_COMMENT","\/\/ dispatch event for adding xml layout elements\n",334],["T_WHITESPACE","        ",335],["T_IF","if",335],"(","!",["T_VARIABLE","$this",335],["T_OBJECT_OPERATOR","->",335],["T_STRING","getFlag",335],"(",["T_CONSTANT_ENCAPSED_STRING","''",335],",",["T_WHITESPACE"," ",335],["T_STRING","self",335],["T_DOUBLE_COLON","::",335],["T_STRING","FLAG_NO_DISPATCH_BLOCK_EVENT",335],")",")",["T_WHITESPACE"," ",335],"{",["T_WHITESPACE","\n            ",335],["T_STRING","Mage",336],["T_DOUBLE_COLON","::",336],["T_STRING","dispatchEvent",336],"(",["T_WHITESPACE","\n                ",336],["T_CONSTANT_ENCAPSED_STRING","'controller_action_layout_generate_blocks_before'",337],",",["T_WHITESPACE","\n                ",337],["T_ARRAY","array",338],"(",["T_CONSTANT_ENCAPSED_STRING","'action'",338],["T_DOUBLE_ARROW","=>",338],["T_VARIABLE","$this",338],",",["T_WHITESPACE"," ",338],["T_CONSTANT_ENCAPSED_STRING","'layout'",338],["T_DOUBLE_ARROW","=>",338],["T_VARIABLE","$this",338],["T_OBJECT_OPERATOR","->",338],["T_STRING","getLayout",338],"(",")",")",["T_WHITESPACE","\n            ",338],")",";",["T_WHITESPACE","\n        ",339],"}",["T_WHITESPACE","\n\n        ",340],["T_COMMENT","\/\/ generate blocks from xml layout\n",342],["T_WHITESPACE","        ",343],["T_STRING","Varien_Profiler",343],["T_DOUBLE_COLON","::",343],["T_STRING","start",343],"(","\"",["T_VARIABLE","$_profilerKey",343],["T_ENCAPSED_AND_WHITESPACE","::layout_generate_blocks",343],"\"",")",";",["T_WHITESPACE","\n        ",343],["T_VARIABLE","$this",344],["T_OBJECT_OPERATOR","->",344],["T_STRING","getLayout",344],"(",")",["T_OBJECT_OPERATOR","->",344],["T_STRING","generateBlocks",344],"(",")",";",["T_WHITESPACE","\n        ",344],["T_STRING","Varien_Profiler",345],["T_DOUBLE_COLON","::",345],["T_STRING","stop",345],"(","\"",["T_VARIABLE","$_profilerKey",345],["T_ENCAPSED_AND_WHITESPACE","::layout_generate_blocks",345],"\"",")",";",["T_WHITESPACE","\n\n        ",345],["T_IF","if",347],"(","!",["T_VARIABLE","$this",347],["T_OBJECT_OPERATOR","->",347],["T_STRING","getFlag",347],"(",["T_CONSTANT_ENCAPSED_STRING","''",347],",",["T_WHITESPACE"," ",347],["T_STRING","self",347],["T_DOUBLE_COLON","::",347],["T_STRING","FLAG_NO_DISPATCH_BLOCK_EVENT",347],")",")",["T_WHITESPACE"," ",347],"{",["T_WHITESPACE","\n            ",347],["T_STRING","Mage",348],["T_DOUBLE_COLON","::",348],["T_STRING","dispatchEvent",348],"(",["T_WHITESPACE","\n                ",348],["T_CONSTANT_ENCAPSED_STRING","'controller_action_layout_generate_blocks_after'",349],",",["T_WHITESPACE","\n                ",349],["T_ARRAY","array",350],"(",["T_CONSTANT_ENCAPSED_STRING","'action'",350],["T_DOUBLE_ARROW","=>",350],["T_VARIABLE","$this",350],",",["T_WHITESPACE"," ",350],["T_CONSTANT_ENCAPSED_STRING","'layout'",350],["T_DOUBLE_ARROW","=>",350],["T_VARIABLE","$this",350],["T_OBJECT_OPERATOR","->",350],["T_STRING","getLayout",350],"(",")",")",["T_WHITESPACE","\n            ",350],")",";",["T_WHITESPACE","\n        ",351],"}",["T_WHITESPACE","\n\n        ",352],["T_RETURN","return",354],["T_WHITESPACE"," ",354],["T_VARIABLE","$this",354],";",["T_WHITESPACE","\n    ",354],"}",["T_WHITESPACE","\n\n    ",355],["T_DOC_COMMENT","\/**\n     * Rendering layout\n     *\n     * @param   string $output\n     * @return  Mage_Core_Controller_Varien_Action\n     *\/",357],["T_WHITESPACE","\n    ",362],["T_PUBLIC","public",363],["T_WHITESPACE"," ",363],["T_FUNCTION","function",363],["T_WHITESPACE"," ",363],["T_STRING","renderLayout",363],"(",["T_VARIABLE","$output",363],"=",["T_CONSTANT_ENCAPSED_STRING","''",363],")",["T_WHITESPACE","\n    ",363],"{",["T_WHITESPACE","\n        ",364],["T_VARIABLE","$_profilerKey",365],["T_WHITESPACE"," ",365],"=",["T_WHITESPACE"," ",365],["T_STRING","self",365],["T_DOUBLE_COLON","::",365],["T_STRING","PROFILER_KEY",365],["T_WHITESPACE"," ",365],".",["T_WHITESPACE"," ",365],["T_CONSTANT_ENCAPSED_STRING","'::'",365],["T_WHITESPACE"," ",365],".",["T_WHITESPACE"," ",365],["T_VARIABLE","$this",365],["T_OBJECT_OPERATOR","->",365],["T_STRING","getFullActionName",365],"(",")",";",["T_WHITESPACE","\n\n        ",365],["T_IF","if",367],["T_WHITESPACE"," ",367],"(",["T_VARIABLE","$this",367],["T_OBJECT_OPERATOR","->",367],["T_STRING","getFlag",367],"(",["T_CONSTANT_ENCAPSED_STRING","''",367],",",["T_WHITESPACE"," ",367],["T_CONSTANT_ENCAPSED_STRING","'no-renderLayout'",367],")",")",["T_WHITESPACE"," ",367],"{",["T_WHITESPACE","\n            ",367],["T_RETURN","return",368],";",["T_WHITESPACE","\n        ",368],"}",["T_WHITESPACE","\n\n        ",369],["T_IF","if",371],["T_WHITESPACE"," ",371],"(",["T_STRING","Mage",371],["T_DOUBLE_COLON","::",371],["T_STRING","app",371],"(",")",["T_OBJECT_OPERATOR","->",371],["T_STRING","getFrontController",371],"(",")",["T_OBJECT_OPERATOR","->",371],["T_STRING","getNoRender",371],"(",")",")",["T_WHITESPACE"," ",371],"{",["T_WHITESPACE","\n            ",371],["T_RETURN","return",372],";",["T_WHITESPACE","\n        ",372],"}",["T_WHITESPACE","\n\n        ",373],["T_VARIABLE","$this",375],["T_OBJECT_OPERATOR","->",375],["T_STRING","_renderTitles",375],"(",")",";",["T_WHITESPACE","\n\n        ",375],["T_STRING","Varien_Profiler",377],["T_DOUBLE_COLON","::",377],["T_STRING","start",377],"(","\"",["T_VARIABLE","$_profilerKey",377],["T_ENCAPSED_AND_WHITESPACE","::layout_render",377],"\"",")",";",["T_WHITESPACE","\n\n\n        ",377],["T_IF","if",380],["T_WHITESPACE"," ",380],"(",["T_CONSTANT_ENCAPSED_STRING","''",380],["T_IS_NOT_IDENTICAL","!==",380],["T_VARIABLE","$output",380],")",["T_WHITESPACE"," ",380],"{",["T_WHITESPACE","\n            ",380],["T_VARIABLE","$this",381],["T_OBJECT_OPERATOR","->",381],["T_STRING","getLayout",381],"(",")",["T_OBJECT_OPERATOR","->",381],["T_STRING","addOutputBlock",381],"(",["T_VARIABLE","$output",381],")",";",["T_WHITESPACE","\n        ",381],"}",["T_WHITESPACE","\n\n        ",382],["T_STRING","Mage",384],["T_DOUBLE_COLON","::",384],["T_STRING","dispatchEvent",384],"(",["T_CONSTANT_ENCAPSED_STRING","'controller_action_layout_render_before'",384],")",";",["T_WHITESPACE","\n        ",384],["T_STRING","Mage",385],["T_DOUBLE_COLON","::",385],["T_STRING","dispatchEvent",385],"(",["T_CONSTANT_ENCAPSED_STRING","'controller_action_layout_render_before_'",385],".",["T_VARIABLE","$this",385],["T_OBJECT_OPERATOR","->",385],["T_STRING","getFullActionName",385],"(",")",")",";",["T_WHITESPACE","\n\n        ",385],["T_COMMENT","#ob_implicit_flush();\n",387],["T_WHITESPACE","        ",388],["T_VARIABLE","$this",388],["T_OBJECT_OPERATOR","->",388],["T_STRING","getLayout",388],"(",")",["T_OBJECT_OPERATOR","->",388],["T_STRING","setDirectOutput",388],"(",["T_STRING","false",388],")",";",["T_WHITESPACE","\n\n        ",388],["T_VARIABLE","$output",390],["T_WHITESPACE"," ",390],"=",["T_WHITESPACE"," ",390],["T_VARIABLE","$this",390],["T_OBJECT_OPERATOR","->",390],["T_STRING","getLayout",390],"(",")",["T_OBJECT_OPERATOR","->",390],["T_STRING","getOutput",390],"(",")",";",["T_WHITESPACE","\n        ",390],["T_STRING","Mage",391],["T_DOUBLE_COLON","::",391],["T_STRING","getSingleton",391],"(",["T_CONSTANT_ENCAPSED_STRING","'core\/translate_inline'",391],")",["T_OBJECT_OPERATOR","->",391],["T_STRING","processResponseBody",391],"(",["T_VARIABLE","$output",391],")",";",["T_WHITESPACE","\n        ",391],["T_VARIABLE","$this",392],["T_OBJECT_OPERATOR","->",392],["T_STRING","getResponse",392],"(",")",["T_OBJECT_OPERATOR","->",392],["T_STRING","appendBody",392],"(",["T_VARIABLE","$output",392],")",";",["T_WHITESPACE","\n        ",392],["T_STRING","Varien_Profiler",393],["T_DOUBLE_COLON","::",393],["T_STRING","stop",393],"(","\"",["T_VARIABLE","$_profilerKey",393],["T_ENCAPSED_AND_WHITESPACE","::layout_render",393],"\"",")",";",["T_WHITESPACE","\n\n        ",393],["T_RETURN","return",395],["T_WHITESPACE"," ",395],["T_VARIABLE","$this",395],";",["T_WHITESPACE","\n    ",395],"}",["T_WHITESPACE","\n\n    ",396],["T_PUBLIC","public",398],["T_WHITESPACE"," ",398],["T_FUNCTION","function",398],["T_WHITESPACE"," ",398],["T_STRING","dispatch",398],"(",["T_VARIABLE","$action",398],")",["T_WHITESPACE","\n    ",398],"{",["T_WHITESPACE","\n        ",399],["T_TRY","try",400],["T_WHITESPACE"," ",400],"{",["T_WHITESPACE","\n            ",400],["T_VARIABLE","$actionMethodName",401],["T_WHITESPACE"," ",401],"=",["T_WHITESPACE"," ",401],["T_VARIABLE","$this",401],["T_OBJECT_OPERATOR","->",401],["T_STRING","getActionMethodName",401],"(",["T_VARIABLE","$action",401],")",";",["T_WHITESPACE","\n            ",401],["T_IF","if",402],["T_WHITESPACE"," ",402],"(","!",["T_STRING","method_exists",402],"(",["T_VARIABLE","$this",402],",",["T_WHITESPACE"," ",402],["T_VARIABLE","$actionMethodName",402],")",")",["T_WHITESPACE"," ",402],"{",["T_WHITESPACE","\n                ",402],["T_VARIABLE","$actionMethodName",403],["T_WHITESPACE"," ",403],"=",["T_WHITESPACE"," ",403],["T_CONSTANT_ENCAPSED_STRING","'norouteAction'",403],";",["T_WHITESPACE","\n            ",403],"}",["T_WHITESPACE","\n\n            ",404],["T_STRING","Varien_Profiler",406],["T_DOUBLE_COLON","::",406],["T_STRING","start",406],"(",["T_STRING","self",406],["T_DOUBLE_COLON","::",406],["T_STRING","PROFILER_KEY",406],".",["T_CONSTANT_ENCAPSED_STRING","'::predispatch'",406],")",";",["T_WHITESPACE","\n            ",406],["T_VARIABLE","$this",407],["T_OBJECT_OPERATOR","->",407],["T_STRING","preDispatch",407],"(",")",";",["T_WHITESPACE","\n            ",407],["T_STRING","Varien_Profiler",408],["T_DOUBLE_COLON","::",408],["T_STRING","stop",408],"(",["T_STRING","self",408],["T_DOUBLE_COLON","::",408],["T_STRING","PROFILER_KEY",408],".",["T_CONSTANT_ENCAPSED_STRING","'::predispatch'",408],")",";",["T_WHITESPACE","\n\n            ",408],["T_IF","if",410],["T_WHITESPACE"," ",410],"(",["T_VARIABLE","$this",410],["T_OBJECT_OPERATOR","->",410],["T_STRING","getRequest",410],"(",")",["T_OBJECT_OPERATOR","->",410],["T_STRING","isDispatched",410],"(",")",")",["T_WHITESPACE"," ",410],"{",["T_WHITESPACE","\n                ",410],["T_DOC_COMMENT","\/**\n                 * preDispatch() didn't change the action, so we can continue\n                 *\/",411],["T_WHITESPACE","\n                ",413],["T_IF","if",414],["T_WHITESPACE"," ",414],"(","!",["T_VARIABLE","$this",414],["T_OBJECT_OPERATOR","->",414],["T_STRING","getFlag",414],"(",["T_CONSTANT_ENCAPSED_STRING","''",414],",",["T_WHITESPACE"," ",414],["T_STRING","self",414],["T_DOUBLE_COLON","::",414],["T_STRING","FLAG_NO_DISPATCH",414],")",")",["T_WHITESPACE"," ",414],"{",["T_WHITESPACE","\n                    ",414],["T_VARIABLE","$_profilerKey",415],["T_WHITESPACE"," ",415],"=",["T_WHITESPACE"," ",415],["T_STRING","self",415],["T_DOUBLE_COLON","::",415],["T_STRING","PROFILER_KEY",415],".",["T_CONSTANT_ENCAPSED_STRING","'::'",415],".",["T_VARIABLE","$this",415],["T_OBJECT_OPERATOR","->",415],["T_STRING","getFullActionName",415],"(",")",";",["T_WHITESPACE","\n\n                    ",415],["T_STRING","Varien_Profiler",417],["T_DOUBLE_COLON","::",417],["T_STRING","start",417],"(",["T_VARIABLE","$_profilerKey",417],")",";",["T_WHITESPACE","\n                    ",417],["T_VARIABLE","$this",418],["T_OBJECT_OPERATOR","->",418],["T_VARIABLE","$actionMethodName",418],"(",")",";",["T_WHITESPACE","\n                    ",418],["T_STRING","Varien_Profiler",419],["T_DOUBLE_COLON","::",419],["T_STRING","stop",419],"(",["T_VARIABLE","$_profilerKey",419],")",";",["T_WHITESPACE","\n\n                    ",419],["T_STRING","Varien_Profiler",421],["T_DOUBLE_COLON","::",421],["T_STRING","start",421],"(",["T_STRING","self",421],["T_DOUBLE_COLON","::",421],["T_STRING","PROFILER_KEY",421],".",["T_CONSTANT_ENCAPSED_STRING","'::postdispatch'",421],")",";",["T_WHITESPACE","\n                    ",421],["T_VARIABLE","$this",422],["T_OBJECT_OPERATOR","->",422],["T_STRING","postDispatch",422],"(",")",";",["T_WHITESPACE","\n                    ",422],["T_STRING","Varien_Profiler",423],["T_DOUBLE_COLON","::",423],["T_STRING","stop",423],"(",["T_STRING","self",423],["T_DOUBLE_COLON","::",423],["T_STRING","PROFILER_KEY",423],".",["T_CONSTANT_ENCAPSED_STRING","'::postdispatch'",423],")",";",["T_WHITESPACE","\n                ",423],"}",["T_WHITESPACE","\n            ",424],"}",["T_WHITESPACE","\n        ",425],"}",["T_WHITESPACE","\n        ",426],["T_CATCH","catch",427],["T_WHITESPACE"," ",427],"(",["T_STRING","Mage_Core_Controller_Varien_Exception",427],["T_WHITESPACE"," ",427],["T_VARIABLE","$e",427],")",["T_WHITESPACE"," ",427],"{",["T_WHITESPACE","\n            ",427],["T_COMMENT","\/\/ set prepared flags\n",428],["T_WHITESPACE","            ",429],["T_FOREACH","foreach",429],["T_WHITESPACE"," ",429],"(",["T_VARIABLE","$e",429],["T_OBJECT_OPERATOR","->",429],["T_STRING","getResultFlags",429],"(",")",["T_WHITESPACE"," ",429],["T_AS","as",429],["T_WHITESPACE"," ",429],["T_VARIABLE","$flagData",429],")",["T_WHITESPACE"," ",429],"{",["T_WHITESPACE","\n                ",429],["T_LIST","list",430],"(",["T_VARIABLE","$action",430],",",["T_WHITESPACE"," ",430],["T_VARIABLE","$flag",430],",",["T_WHITESPACE"," ",430],["T_VARIABLE","$value",430],")",["T_WHITESPACE"," ",430],"=",["T_WHITESPACE"," ",430],["T_VARIABLE","$flagData",430],";",["T_WHITESPACE","\n                ",430],["T_VARIABLE","$this",431],["T_OBJECT_OPERATOR","->",431],["T_STRING","setFlag",431],"(",["T_VARIABLE","$action",431],",",["T_WHITESPACE"," ",431],["T_VARIABLE","$flag",431],",",["T_WHITESPACE"," ",431],["T_VARIABLE","$value",431],")",";",["T_WHITESPACE","\n            ",431],"}",["T_WHITESPACE","\n            ",432],["T_COMMENT","\/\/ call forward, redirect or an action\n",433],["T_WHITESPACE","            ",434],["T_LIST","list",434],"(",["T_VARIABLE","$method",434],",",["T_WHITESPACE"," ",434],["T_VARIABLE","$parameters",434],")",["T_WHITESPACE"," ",434],"=",["T_WHITESPACE"," ",434],["T_VARIABLE","$e",434],["T_OBJECT_OPERATOR","->",434],["T_STRING","getResultCallback",434],"(",")",";",["T_WHITESPACE","\n            ",434],["T_SWITCH","switch",435],["T_WHITESPACE"," ",435],"(",["T_VARIABLE","$method",435],")",["T_WHITESPACE"," ",435],"{",["T_WHITESPACE","\n                ",435],["T_CASE","case",436],["T_WHITESPACE"," ",436],["T_STRING","Mage_Core_Controller_Varien_Exception",436],["T_DOUBLE_COLON","::",436],["T_STRING","RESULT_REDIRECT",436],":",["T_WHITESPACE","\n                    ",436],["T_LIST","list",437],"(",["T_VARIABLE","$path",437],",",["T_WHITESPACE"," ",437],["T_VARIABLE","$arguments",437],")",["T_WHITESPACE"," ",437],"=",["T_WHITESPACE"," ",437],["T_VARIABLE","$parameters",437],";",["T_WHITESPACE","\n                    ",437],["T_VARIABLE","$this",438],["T_OBJECT_OPERATOR","->",438],["T_STRING","_redirect",438],"(",["T_VARIABLE","$path",438],",",["T_WHITESPACE"," ",438],["T_VARIABLE","$arguments",438],")",";",["T_WHITESPACE","\n                    ",438],["T_BREAK","break",439],";",["T_WHITESPACE","\n                ",439],["T_CASE","case",440],["T_WHITESPACE"," ",440],["T_STRING","Mage_Core_Controller_Varien_Exception",440],["T_DOUBLE_COLON","::",440],["T_STRING","RESULT_FORWARD",440],":",["T_WHITESPACE","\n                    ",440],["T_LIST","list",441],"(",["T_VARIABLE","$action",441],",",["T_WHITESPACE"," ",441],["T_VARIABLE","$controller",441],",",["T_WHITESPACE"," ",441],["T_VARIABLE","$module",441],",",["T_WHITESPACE"," ",441],["T_VARIABLE","$params",441],")",["T_WHITESPACE"," ",441],"=",["T_WHITESPACE"," ",441],["T_VARIABLE","$parameters",441],";",["T_WHITESPACE","\n                    ",441],["T_VARIABLE","$this",442],["T_OBJECT_OPERATOR","->",442],["T_STRING","_forward",442],"(",["T_VARIABLE","$action",442],",",["T_WHITESPACE"," ",442],["T_VARIABLE","$controller",442],",",["T_WHITESPACE"," ",442],["T_VARIABLE","$module",442],",",["T_WHITESPACE"," ",442],["T_VARIABLE","$params",442],")",";",["T_WHITESPACE","\n                    ",442],["T_BREAK","break",443],";",["T_WHITESPACE","\n                ",443],["T_DEFAULT","default",444],":",["T_WHITESPACE","\n                    ",444],["T_VARIABLE","$actionMethodName",445],["T_WHITESPACE"," ",445],"=",["T_WHITESPACE"," ",445],["T_VARIABLE","$this",445],["T_OBJECT_OPERATOR","->",445],["T_STRING","getActionMethodName",445],"(",["T_VARIABLE","$method",445],")",";",["T_WHITESPACE","\n                    ",445],["T_VARIABLE","$this",446],["T_OBJECT_OPERATOR","->",446],["T_STRING","getRequest",446],"(",")",["T_OBJECT_OPERATOR","->",446],["T_STRING","setActionName",446],"(",["T_VARIABLE","$method",446],")",";",["T_WHITESPACE","\n                    ",446],["T_VARIABLE","$this",447],["T_OBJECT_OPERATOR","->",447],["T_VARIABLE","$actionMethodName",447],"(",["T_VARIABLE","$method",447],")",";",["T_WHITESPACE","\n                    ",447],["T_BREAK","break",448],";",["T_WHITESPACE","\n            ",448],"}",["T_WHITESPACE","\n        ",449],"}",["T_WHITESPACE","\n    ",450],"}",["T_WHITESPACE","\n\n    ",451],["T_DOC_COMMENT","\/**\n     * Retrieve action method name\n     *\n     * @param string $action\n     * @return string\n     *\/",453],["T_WHITESPACE","\n    ",458],["T_PUBLIC","public",459],["T_WHITESPACE"," ",459],["T_FUNCTION","function",459],["T_WHITESPACE"," ",459],["T_STRING","getActionMethodName",459],"(",["T_VARIABLE","$action",459],")",["T_WHITESPACE","\n    ",459],"{",["T_WHITESPACE","\n        ",460],["T_RETURN","return",461],["T_WHITESPACE"," ",461],["T_VARIABLE","$action",461],["T_WHITESPACE"," ",461],".",["T_WHITESPACE"," ",461],["T_CONSTANT_ENCAPSED_STRING","'Action'",461],";",["T_WHITESPACE","\n    ",461],"}",["T_WHITESPACE","\n\n    ",462],["T_DOC_COMMENT","\/**\n     * Dispatch event before action\n     *\n     * @return void\n     *\/",464],["T_WHITESPACE","\n    ",468],["T_PUBLIC","public",469],["T_WHITESPACE"," ",469],["T_FUNCTION","function",469],["T_WHITESPACE"," ",469],["T_STRING","preDispatch",469],"(",")",["T_WHITESPACE","\n    ",469],"{",["T_WHITESPACE","\n        ",470],["T_IF","if",471],["T_WHITESPACE"," ",471],"(","!",["T_VARIABLE","$this",471],["T_OBJECT_OPERATOR","->",471],["T_STRING","getFlag",471],"(",["T_CONSTANT_ENCAPSED_STRING","''",471],",",["T_WHITESPACE"," ",471],["T_STRING","self",471],["T_DOUBLE_COLON","::",471],["T_STRING","FLAG_NO_CHECK_INSTALLATION",471],")",")",["T_WHITESPACE"," ",471],"{",["T_WHITESPACE","\n            ",471],["T_IF","if",472],["T_WHITESPACE"," ",472],"(","!",["T_STRING","Mage",472],["T_DOUBLE_COLON","::",472],["T_STRING","isInstalled",472],"(",")",")",["T_WHITESPACE"," ",472],"{",["T_WHITESPACE","\n                ",472],["T_VARIABLE","$this",473],["T_OBJECT_OPERATOR","->",473],["T_STRING","setFlag",473],"(",["T_CONSTANT_ENCAPSED_STRING","''",473],",",["T_WHITESPACE"," ",473],["T_STRING","self",473],["T_DOUBLE_COLON","::",473],["T_STRING","FLAG_NO_DISPATCH",473],",",["T_WHITESPACE"," ",473],["T_STRING","true",473],")",";",["T_WHITESPACE","\n                ",473],["T_VARIABLE","$this",474],["T_OBJECT_OPERATOR","->",474],["T_STRING","_redirect",474],"(",["T_CONSTANT_ENCAPSED_STRING","'install'",474],")",";",["T_WHITESPACE","\n                ",474],["T_RETURN","return",475],";",["T_WHITESPACE","\n            ",475],"}",["T_WHITESPACE","\n        ",476],"}",["T_WHITESPACE","\n\n        ",477],["T_COMMENT","\/\/ Prohibit disabled store actions\n",479],["T_WHITESPACE","        ",480],["T_IF","if",480],["T_WHITESPACE"," ",480],"(",["T_STRING","Mage",480],["T_DOUBLE_COLON","::",480],["T_STRING","isInstalled",480],"(",")",["T_WHITESPACE"," ",480],["T_BOOLEAN_AND","&&",480],["T_WHITESPACE"," ",480],"!",["T_STRING","Mage",480],["T_DOUBLE_COLON","::",480],["T_STRING","app",480],"(",")",["T_OBJECT_OPERATOR","->",480],["T_STRING","getStore",480],"(",")",["T_OBJECT_OPERATOR","->",480],["T_STRING","getIsActive",480],"(",")",")",["T_WHITESPACE"," ",480],"{",["T_WHITESPACE","\n            ",480],["T_STRING","Mage",481],["T_DOUBLE_COLON","::",481],["T_STRING","app",481],"(",")",["T_OBJECT_OPERATOR","->",481],["T_STRING","throwStoreException",481],"(",")",";",["T_WHITESPACE","\n        ",481],"}",["T_WHITESPACE","\n\n        ",482],["T_IF","if",484],["T_WHITESPACE"," ",484],"(",["T_VARIABLE","$this",484],["T_OBJECT_OPERATOR","->",484],["T_STRING","_rewrite",484],"(",")",")",["T_WHITESPACE"," ",484],"{",["T_WHITESPACE","\n            ",484],["T_RETURN","return",485],";",["T_WHITESPACE","\n        ",485],"}",["T_WHITESPACE","\n\n        ",486],["T_IF","if",488],["T_WHITESPACE"," ",488],"(","!",["T_VARIABLE","$this",488],["T_OBJECT_OPERATOR","->",488],["T_STRING","getFlag",488],"(",["T_CONSTANT_ENCAPSED_STRING","''",488],",",["T_WHITESPACE"," ",488],["T_STRING","self",488],["T_DOUBLE_COLON","::",488],["T_STRING","FLAG_NO_START_SESSION",488],")",")",["T_WHITESPACE"," ",488],"{",["T_WHITESPACE","\n            ",488],["T_VARIABLE","$checkCookie",489],["T_WHITESPACE"," ",489],"=",["T_WHITESPACE"," ",489],["T_STRING","in_array",489],"(",["T_VARIABLE","$this",489],["T_OBJECT_OPERATOR","->",489],["T_STRING","getRequest",489],"(",")",["T_OBJECT_OPERATOR","->",489],["T_STRING","getActionName",489],"(",")",",",["T_WHITESPACE"," ",489],["T_VARIABLE","$this",489],["T_OBJECT_OPERATOR","->",489],["T_STRING","_cookieCheckActions",489],")",["T_WHITESPACE","\n                ",489],["T_BOOLEAN_AND","&&",490],["T_WHITESPACE"," ",490],"!",["T_VARIABLE","$this",490],["T_OBJECT_OPERATOR","->",490],["T_STRING","getRequest",490],"(",")",["T_OBJECT_OPERATOR","->",490],["T_STRING","getParam",490],"(",["T_CONSTANT_ENCAPSED_STRING","'nocookie'",490],",",["T_WHITESPACE"," ",490],["T_STRING","false",490],")",";",["T_WHITESPACE","\n            ",490],["T_VARIABLE","$cookies",491],["T_WHITESPACE"," ",491],"=",["T_WHITESPACE"," ",491],["T_STRING","Mage",491],["T_DOUBLE_COLON","::",491],["T_STRING","getSingleton",491],"(",["T_CONSTANT_ENCAPSED_STRING","'core\/cookie'",491],")",["T_OBJECT_OPERATOR","->",491],["T_STRING","get",491],"(",")",";",["T_WHITESPACE","\n            ",491],["T_DOC_COMMENT","\/** @var $session Mage_Core_Model_Session *\/",492],["T_WHITESPACE","\n            ",492],["T_VARIABLE","$session",493],["T_WHITESPACE"," ",493],"=",["T_WHITESPACE"," ",493],["T_STRING","Mage",493],["T_DOUBLE_COLON","::",493],["T_STRING","getSingleton",493],"(",["T_CONSTANT_ENCAPSED_STRING","'core\/session'",493],",",["T_WHITESPACE"," ",493],["T_ARRAY","array",493],"(",["T_CONSTANT_ENCAPSED_STRING","'name'",493],["T_WHITESPACE"," ",493],["T_DOUBLE_ARROW","=>",493],["T_WHITESPACE"," ",493],["T_VARIABLE","$this",493],["T_OBJECT_OPERATOR","->",493],["T_STRING","_sessionNamespace",493],")",")",["T_OBJECT_OPERATOR","->",493],["T_STRING","start",493],"(",")",";",["T_WHITESPACE","\n\n            ",493],["T_IF","if",495],["T_WHITESPACE"," ",495],"(",["T_EMPTY","empty",495],"(",["T_VARIABLE","$cookies",495],")",")",["T_WHITESPACE"," ",495],"{",["T_WHITESPACE","\n                ",495],["T_IF","if",496],["T_WHITESPACE"," ",496],"(",["T_VARIABLE","$session",496],["T_OBJECT_OPERATOR","->",496],["T_STRING","getCookieShouldBeReceived",496],"(",")",")",["T_WHITESPACE"," ",496],"{",["T_WHITESPACE","\n                    ",496],["T_VARIABLE","$this",497],["T_OBJECT_OPERATOR","->",497],["T_STRING","setFlag",497],"(",["T_CONSTANT_ENCAPSED_STRING","''",497],",",["T_WHITESPACE"," ",497],["T_STRING","self",497],["T_DOUBLE_COLON","::",497],["T_STRING","FLAG_NO_COOKIES_REDIRECT",497],",",["T_WHITESPACE"," ",497],["T_STRING","true",497],")",";",["T_WHITESPACE","\n                    ",497],["T_VARIABLE","$session",498],["T_OBJECT_OPERATOR","->",498],["T_STRING","unsCookieShouldBeReceived",498],"(",")",";",["T_WHITESPACE","\n                    ",498],["T_VARIABLE","$session",499],["T_OBJECT_OPERATOR","->",499],["T_STRING","setSkipSessionIdFlag",499],"(",["T_STRING","true",499],")",";",["T_WHITESPACE","\n                ",499],"}",["T_WHITESPACE"," ",500],["T_ELSEIF","elseif",500],["T_WHITESPACE"," ",500],"(",["T_VARIABLE","$checkCookie",500],")",["T_WHITESPACE"," ",500],"{",["T_WHITESPACE","\n                    ",500],["T_IF","if",501],["T_WHITESPACE"," ",501],"(",["T_ISSET","isset",501],"(",["T_VARIABLE","$_GET",501],"[",["T_VARIABLE","$session",501],["T_OBJECT_OPERATOR","->",501],["T_STRING","getSessionIdQueryParam",501],"(",")","]",")",["T_WHITESPACE"," ",501],["T_BOOLEAN_AND","&&",501],["T_WHITESPACE"," ",501],["T_STRING","Mage",501],["T_DOUBLE_COLON","::",501],["T_STRING","app",501],"(",")",["T_OBJECT_OPERATOR","->",501],["T_STRING","getUseSessionInUrl",501],"(",")",["T_WHITESPACE","\n                        ",501],["T_BOOLEAN_AND","&&",502],["T_WHITESPACE"," ",502],["T_VARIABLE","$this",502],["T_OBJECT_OPERATOR","->",502],["T_STRING","_sessionNamespace",502],["T_WHITESPACE"," ",502],["T_IS_NOT_EQUAL","!=",502],["T_WHITESPACE"," ",502],["T_STRING","Mage_Adminhtml_Controller_Action",502],["T_DOUBLE_COLON","::",502],["T_STRING","SESSION_NAMESPACE",502],["T_WHITESPACE","\n                    ",502],")",["T_WHITESPACE"," ",503],"{",["T_WHITESPACE","\n                        ",503],["T_VARIABLE","$session",504],["T_OBJECT_OPERATOR","->",504],["T_STRING","setCookieShouldBeReceived",504],"(",["T_STRING","true",504],")",";",["T_WHITESPACE","\n                    ",504],"}",["T_WHITESPACE"," ",505],["T_ELSE","else",505],["T_WHITESPACE"," ",505],"{",["T_WHITESPACE","\n                        ",505],["T_VARIABLE","$this",506],["T_OBJECT_OPERATOR","->",506],["T_STRING","setFlag",506],"(",["T_CONSTANT_ENCAPSED_STRING","''",506],",",["T_WHITESPACE"," ",506],["T_STRING","self",506],["T_DOUBLE_COLON","::",506],["T_STRING","FLAG_NO_COOKIES_REDIRECT",506],",",["T_WHITESPACE"," ",506],["T_STRING","true",506],")",";",["T_WHITESPACE","\n                    ",506],"}",["T_WHITESPACE","\n                ",507],"}",["T_WHITESPACE","\n            ",508],"}",["T_WHITESPACE","\n        ",509],"}",["T_WHITESPACE","\n\n        ",510],["T_STRING","Mage",512],["T_DOUBLE_COLON","::",512],["T_STRING","app",512],"(",")",["T_OBJECT_OPERATOR","->",512],["T_STRING","loadArea",512],"(",["T_VARIABLE","$this",512],["T_OBJECT_OPERATOR","->",512],["T_STRING","getLayout",512],"(",")",["T_OBJECT_OPERATOR","->",512],["T_STRING","getArea",512],"(",")",")",";",["T_WHITESPACE","\n\n        ",512],["T_IF","if",514],["T_WHITESPACE"," ",514],"(",["T_VARIABLE","$this",514],["T_OBJECT_OPERATOR","->",514],["T_STRING","getFlag",514],"(",["T_CONSTANT_ENCAPSED_STRING","''",514],",",["T_WHITESPACE"," ",514],["T_STRING","self",514],["T_DOUBLE_COLON","::",514],["T_STRING","FLAG_NO_COOKIES_REDIRECT",514],")",["T_WHITESPACE","\n            ",514],["T_BOOLEAN_AND","&&",515],["T_WHITESPACE"," ",515],["T_STRING","Mage",515],["T_DOUBLE_COLON","::",515],["T_STRING","getStoreConfig",515],"(",["T_CONSTANT_ENCAPSED_STRING","'web\/browser_capabilities\/cookies'",515],")",["T_WHITESPACE","\n        ",515],")",["T_WHITESPACE"," ",516],"{",["T_WHITESPACE","\n            ",516],["T_VARIABLE","$this",517],["T_OBJECT_OPERATOR","->",517],["T_STRING","_forward",517],"(",["T_CONSTANT_ENCAPSED_STRING","'noCookies'",517],",",["T_WHITESPACE"," ",517],["T_CONSTANT_ENCAPSED_STRING","'index'",517],",",["T_WHITESPACE"," ",517],["T_CONSTANT_ENCAPSED_STRING","'core'",517],")",";",["T_WHITESPACE","\n            ",517],["T_RETURN","return",518],";",["T_WHITESPACE","\n        ",518],"}",["T_WHITESPACE","\n\n        ",519],["T_IF","if",521],["T_WHITESPACE"," ",521],"(",["T_VARIABLE","$this",521],["T_OBJECT_OPERATOR","->",521],["T_STRING","getFlag",521],"(",["T_CONSTANT_ENCAPSED_STRING","''",521],",",["T_WHITESPACE"," ",521],["T_STRING","self",521],["T_DOUBLE_COLON","::",521],["T_STRING","FLAG_NO_PRE_DISPATCH",521],")",")",["T_WHITESPACE"," ",521],"{",["T_WHITESPACE","\n            ",521],["T_RETURN","return",522],";",["T_WHITESPACE","\n        ",522],"}",["T_WHITESPACE","\n\n        ",523],["T_STRING","Varien_Autoload",525],["T_DOUBLE_COLON","::",525],["T_STRING","registerScope",525],"(",["T_VARIABLE","$this",525],["T_OBJECT_OPERATOR","->",525],["T_STRING","getRequest",525],"(",")",["T_OBJECT_OPERATOR","->",525],["T_STRING","getRouteName",525],"(",")",")",";",["T_WHITESPACE","\n\n        ",525],["T_STRING","Mage",527],["T_DOUBLE_COLON","::",527],["T_STRING","dispatchEvent",527],"(",["T_CONSTANT_ENCAPSED_STRING","'controller_action_predispatch'",527],",",["T_WHITESPACE"," ",527],["T_ARRAY","array",527],"(",["T_CONSTANT_ENCAPSED_STRING","'controller_action'",527],["T_WHITESPACE"," ",527],["T_DOUBLE_ARROW","=>",527],["T_WHITESPACE"," ",527],["T_VARIABLE","$this",527],")",")",";",["T_WHITESPACE","\n        ",527],["T_STRING","Mage",528],["T_DOUBLE_COLON","::",528],["T_STRING","dispatchEvent",528],"(",["T_CONSTANT_ENCAPSED_STRING","'controller_action_predispatch_'",528],["T_WHITESPACE"," ",528],".",["T_WHITESPACE"," ",528],["T_VARIABLE","$this",528],["T_OBJECT_OPERATOR","->",528],["T_STRING","getRequest",528],"(",")",["T_OBJECT_OPERATOR","->",528],["T_STRING","getRouteName",528],"(",")",",",["T_WHITESPACE","\n            ",528],["T_ARRAY","array",529],"(",["T_CONSTANT_ENCAPSED_STRING","'controller_action'",529],["T_WHITESPACE"," ",529],["T_DOUBLE_ARROW","=>",529],["T_WHITESPACE"," ",529],["T_VARIABLE","$this",529],")",")",";",["T_WHITESPACE","\n        ",529],["T_STRING","Mage",530],["T_DOUBLE_COLON","::",530],["T_STRING","dispatchEvent",530],"(",["T_CONSTANT_ENCAPSED_STRING","'controller_action_predispatch_'",530],["T_WHITESPACE"," ",530],".",["T_WHITESPACE"," ",530],["T_VARIABLE","$this",530],["T_OBJECT_OPERATOR","->",530],["T_STRING","getFullActionName",530],"(",")",",",["T_WHITESPACE","\n            ",530],["T_ARRAY","array",531],"(",["T_CONSTANT_ENCAPSED_STRING","'controller_action'",531],["T_WHITESPACE"," ",531],["T_DOUBLE_ARROW","=>",531],["T_WHITESPACE"," ",531],["T_VARIABLE","$this",531],")",")",";",["T_WHITESPACE","\n    ",531],"}",["T_WHITESPACE","\n\n    ",532],["T_DOC_COMMENT","\/**\n     * Dispatches event after action\n     *\/",534],["T_WHITESPACE","\n    ",536],["T_PUBLIC","public",537],["T_WHITESPACE"," ",537],["T_FUNCTION","function",537],["T_WHITESPACE"," ",537],["T_STRING","postDispatch",537],"(",")",["T_WHITESPACE","\n    ",537],"{",["T_WHITESPACE","\n        ",538],["T_IF","if",539],["T_WHITESPACE"," ",539],"(",["T_VARIABLE","$this",539],["T_OBJECT_OPERATOR","->",539],["T_STRING","getFlag",539],"(",["T_CONSTANT_ENCAPSED_STRING","''",539],",",["T_WHITESPACE"," ",539],["T_STRING","self",539],["T_DOUBLE_COLON","::",539],["T_STRING","FLAG_NO_POST_DISPATCH",539],")",")",["T_WHITESPACE"," ",539],"{",["T_WHITESPACE","\n            ",539],["T_RETURN","return",540],";",["T_WHITESPACE","\n        ",540],"}",["T_WHITESPACE","\n\n        ",541],["T_STRING","Mage",543],["T_DOUBLE_COLON","::",543],["T_STRING","dispatchEvent",543],"(",["T_WHITESPACE","\n            ",543],["T_CONSTANT_ENCAPSED_STRING","'controller_action_postdispatch_'",544],".",["T_VARIABLE","$this",544],["T_OBJECT_OPERATOR","->",544],["T_STRING","getFullActionName",544],"(",")",",",["T_WHITESPACE","\n            ",544],["T_ARRAY","array",545],"(",["T_CONSTANT_ENCAPSED_STRING","'controller_action'",545],["T_DOUBLE_ARROW","=>",545],["T_VARIABLE","$this",545],")",["T_WHITESPACE","\n        ",545],")",";",["T_WHITESPACE","\n        ",546],["T_STRING","Mage",547],["T_DOUBLE_COLON","::",547],["T_STRING","dispatchEvent",547],"(",["T_WHITESPACE","\n            ",547],["T_CONSTANT_ENCAPSED_STRING","'controller_action_postdispatch_'",548],".",["T_VARIABLE","$this",548],["T_OBJECT_OPERATOR","->",548],["T_STRING","getRequest",548],"(",")",["T_OBJECT_OPERATOR","->",548],["T_STRING","getRouteName",548],"(",")",",",["T_WHITESPACE","\n            ",548],["T_ARRAY","array",549],"(",["T_CONSTANT_ENCAPSED_STRING","'controller_action'",549],["T_DOUBLE_ARROW","=>",549],["T_VARIABLE","$this",549],")",["T_WHITESPACE","\n        ",549],")",";",["T_WHITESPACE","\n        ",550],["T_STRING","Mage",551],["T_DOUBLE_COLON","::",551],["T_STRING","dispatchEvent",551],"(",["T_CONSTANT_ENCAPSED_STRING","'controller_action_postdispatch'",551],",",["T_WHITESPACE"," ",551],["T_ARRAY","array",551],"(",["T_CONSTANT_ENCAPSED_STRING","'controller_action'",551],["T_DOUBLE_ARROW","=>",551],["T_VARIABLE","$this",551],")",")",";",["T_WHITESPACE","\n    ",551],"}",["T_WHITESPACE","\n\n    ",552],["T_PUBLIC","public",554],["T_WHITESPACE"," ",554],["T_FUNCTION","function",554],["T_WHITESPACE"," ",554],["T_STRING","norouteAction",554],"(",["T_VARIABLE","$coreRoute",554],["T_WHITESPACE"," ",554],"=",["T_WHITESPACE"," ",554],["T_STRING","null",554],")",["T_WHITESPACE","\n    ",554],"{",["T_WHITESPACE","\n        ",555],["T_VARIABLE","$status",556],["T_WHITESPACE"," ",556],"=",["T_WHITESPACE"," ",556],"(",["T_WHITESPACE"," ",556],["T_VARIABLE","$this",556],["T_OBJECT_OPERATOR","->",556],["T_STRING","getRequest",556],"(",")",["T_OBJECT_OPERATOR","->",556],["T_STRING","getParam",556],"(",["T_CONSTANT_ENCAPSED_STRING","'__status__'",556],")",["T_WHITESPACE"," ",556],")",["T_WHITESPACE","\n            ",556],"?",["T_WHITESPACE"," ",557],["T_VARIABLE","$this",557],["T_OBJECT_OPERATOR","->",557],["T_STRING","getRequest",557],"(",")",["T_OBJECT_OPERATOR","->",557],["T_STRING","getParam",557],"(",["T_CONSTANT_ENCAPSED_STRING","'__status__'",557],")",["T_WHITESPACE","\n            ",557],":",["T_WHITESPACE"," ",558],["T_NEW","new",558],["T_WHITESPACE"," ",558],["T_STRING","Varien_Object",558],"(",")",";",["T_WHITESPACE","\n\n        ",558],["T_STRING","Mage",560],["T_DOUBLE_COLON","::",560],["T_STRING","dispatchEvent",560],"(",["T_CONSTANT_ENCAPSED_STRING","'controller_action_noroute'",560],",",["T_WHITESPACE"," ",560],["T_ARRAY","array",560],"(",["T_CONSTANT_ENCAPSED_STRING","'action'",560],["T_DOUBLE_ARROW","=>",560],["T_VARIABLE","$this",560],",",["T_WHITESPACE"," ",560],["T_CONSTANT_ENCAPSED_STRING","'status'",560],["T_DOUBLE_ARROW","=>",560],["T_VARIABLE","$status",560],")",")",";",["T_WHITESPACE","\n        ",560],["T_IF","if",561],["T_WHITESPACE"," ",561],"(",["T_VARIABLE","$status",561],["T_OBJECT_OPERATOR","->",561],["T_STRING","getLoaded",561],"(",")",["T_WHITESPACE"," ",561],["T_IS_NOT_IDENTICAL","!==",561],["T_WHITESPACE"," ",561],["T_STRING","true",561],["T_WHITESPACE","\n            ",561],["T_BOOLEAN_OR","||",562],["T_WHITESPACE"," ",562],["T_VARIABLE","$status",562],["T_OBJECT_OPERATOR","->",562],["T_STRING","getForwarded",562],"(",")",["T_WHITESPACE"," ",562],["T_IS_IDENTICAL","===",562],["T_WHITESPACE"," ",562],["T_STRING","true",562],["T_WHITESPACE","\n            ",562],["T_BOOLEAN_OR","||",563],["T_WHITESPACE"," ",563],"!",["T_STRING","is_null",563],"(",["T_VARIABLE","$coreRoute",563],")",["T_WHITESPACE"," ",563],")",["T_WHITESPACE"," ",563],"{",["T_WHITESPACE","\n            ",563],["T_VARIABLE","$this",564],["T_OBJECT_OPERATOR","->",564],["T_STRING","loadLayout",564],"(",["T_ARRAY","array",564],"(",["T_CONSTANT_ENCAPSED_STRING","'default'",564],",",["T_WHITESPACE"," ",564],["T_CONSTANT_ENCAPSED_STRING","'noRoute'",564],")",")",";",["T_WHITESPACE","\n            ",564],["T_VARIABLE","$this",565],["T_OBJECT_OPERATOR","->",565],["T_STRING","renderLayout",565],"(",")",";",["T_WHITESPACE","\n        ",565],"}",["T_WHITESPACE"," ",566],["T_ELSE","else",566],["T_WHITESPACE"," ",566],"{",["T_WHITESPACE","\n            ",566],["T_VARIABLE","$status",567],["T_OBJECT_OPERATOR","->",567],["T_STRING","setForwarded",567],"(",["T_STRING","true",567],")",";",["T_WHITESPACE","\n            ",567],["T_VARIABLE","$this",568],["T_OBJECT_OPERATOR","->",568],["T_STRING","_forward",568],"(",["T_WHITESPACE","\n                ",568],["T_VARIABLE","$status",569],["T_OBJECT_OPERATOR","->",569],["T_STRING","getForwardAction",569],"(",")",",",["T_WHITESPACE","\n                ",569],["T_VARIABLE","$status",570],["T_OBJECT_OPERATOR","->",570],["T_STRING","getForwardController",570],"(",")",",",["T_WHITESPACE","\n                ",570],["T_VARIABLE","$status",571],["T_OBJECT_OPERATOR","->",571],["T_STRING","getForwardModule",571],"(",")",",",["T_WHITESPACE","\n                ",571],["T_ARRAY","array",572],"(",["T_CONSTANT_ENCAPSED_STRING","'__status__'",572],["T_WHITESPACE"," ",572],["T_DOUBLE_ARROW","=>",572],["T_WHITESPACE"," ",572],["T_VARIABLE","$status",572],")",")",";",["T_WHITESPACE","\n        ",572],"}",["T_WHITESPACE","\n    ",573],"}",["T_WHITESPACE","\n\n    ",574],["T_PUBLIC","public",576],["T_WHITESPACE"," ",576],["T_FUNCTION","function",576],["T_WHITESPACE"," ",576],["T_STRING","noCookiesAction",576],"(",")",["T_WHITESPACE","\n    ",576],"{",["T_WHITESPACE","\n        ",577],["T_VARIABLE","$redirect",578],["T_WHITESPACE"," ",578],"=",["T_WHITESPACE"," ",578],["T_NEW","new",578],["T_WHITESPACE"," ",578],["T_STRING","Varien_Object",578],"(",")",";",["T_WHITESPACE","\n        ",578],["T_STRING","Mage",579],["T_DOUBLE_COLON","::",579],["T_STRING","dispatchEvent",579],"(",["T_CONSTANT_ENCAPSED_STRING","'controller_action_nocookies'",579],",",["T_WHITESPACE"," ",579],["T_ARRAY","array",579],"(",["T_WHITESPACE","\n            ",579],["T_CONSTANT_ENCAPSED_STRING","'action'",580],["T_WHITESPACE","    ",580],["T_DOUBLE_ARROW","=>",580],["T_WHITESPACE"," ",580],["T_VARIABLE","$this",580],",",["T_WHITESPACE","\n            ",580],["T_CONSTANT_ENCAPSED_STRING","'redirect'",581],["T_WHITESPACE","  ",581],["T_DOUBLE_ARROW","=>",581],["T_WHITESPACE"," ",581],["T_VARIABLE","$redirect",581],["T_WHITESPACE","\n        ",581],")",")",";",["T_WHITESPACE","\n\n        ",582],["T_IF","if",584],["T_WHITESPACE"," ",584],"(",["T_VARIABLE","$url",584],["T_WHITESPACE"," ",584],"=",["T_WHITESPACE"," ",584],["T_VARIABLE","$redirect",584],["T_OBJECT_OPERATOR","->",584],["T_STRING","getRedirectUrl",584],"(",")",")",["T_WHITESPACE"," ",584],"{",["T_WHITESPACE","\n            ",584],["T_VARIABLE","$this",585],["T_OBJECT_OPERATOR","->",585],["T_STRING","_redirectUrl",585],"(",["T_VARIABLE","$url",585],")",";",["T_WHITESPACE","\n        ",585],"}",["T_WHITESPACE","\n        ",586],["T_ELSEIF","elseif",587],["T_WHITESPACE"," ",587],"(",["T_VARIABLE","$redirect",587],["T_OBJECT_OPERATOR","->",587],["T_STRING","getRedirect",587],"(",")",")",["T_WHITESPACE"," ",587],"{",["T_WHITESPACE","\n            ",587],["T_VARIABLE","$this",588],["T_OBJECT_OPERATOR","->",588],["T_STRING","_redirect",588],"(",["T_VARIABLE","$redirect",588],["T_OBJECT_OPERATOR","->",588],["T_STRING","getPath",588],"(",")",",",["T_WHITESPACE"," ",588],["T_VARIABLE","$redirect",588],["T_OBJECT_OPERATOR","->",588],["T_STRING","getArguments",588],"(",")",")",";",["T_WHITESPACE","\n        ",588],"}",["T_WHITESPACE","\n        ",589],["T_ELSE","else",590],["T_WHITESPACE"," ",590],"{",["T_WHITESPACE","\n            ",590],["T_VARIABLE","$this",591],["T_OBJECT_OPERATOR","->",591],["T_STRING","loadLayout",591],"(",["T_ARRAY","array",591],"(",["T_CONSTANT_ENCAPSED_STRING","'default'",591],",",["T_WHITESPACE"," ",591],["T_CONSTANT_ENCAPSED_STRING","'noCookie'",591],")",")",";",["T_WHITESPACE","\n            ",591],["T_VARIABLE","$this",592],["T_OBJECT_OPERATOR","->",592],["T_STRING","renderLayout",592],"(",")",";",["T_WHITESPACE","\n        ",592],"}",["T_WHITESPACE","\n\n        ",593],["T_VARIABLE","$this",595],["T_OBJECT_OPERATOR","->",595],["T_STRING","getRequest",595],"(",")",["T_OBJECT_OPERATOR","->",595],["T_STRING","setDispatched",595],"(",["T_STRING","true",595],")",";",["T_WHITESPACE","\n    ",595],"}",["T_WHITESPACE","\n\n    ",596],["T_DOC_COMMENT","\/**\n     * Throw control to different action (control and module if was specified).\n     *\n     * @param string $action\n     * @param string|null $controller\n     * @param string|null $module\n     * @param array|null $params\n     *\/",598],["T_WHITESPACE","\n    ",605],["T_PROTECTED","protected",606],["T_WHITESPACE"," ",606],["T_FUNCTION","function",606],["T_WHITESPACE"," ",606],["T_STRING","_forward",606],"(",["T_VARIABLE","$action",606],",",["T_WHITESPACE"," ",606],["T_VARIABLE","$controller",606],["T_WHITESPACE"," ",606],"=",["T_WHITESPACE"," ",606],["T_STRING","null",606],",",["T_WHITESPACE"," ",606],["T_VARIABLE","$module",606],["T_WHITESPACE"," ",606],"=",["T_WHITESPACE"," ",606],["T_STRING","null",606],",",["T_WHITESPACE"," ",606],["T_ARRAY","array",606],["T_WHITESPACE"," ",606],["T_VARIABLE","$params",606],["T_WHITESPACE"," ",606],"=",["T_WHITESPACE"," ",606],["T_STRING","null",606],")",["T_WHITESPACE","\n    ",606],"{",["T_WHITESPACE","\n        ",607],["T_VARIABLE","$request",608],["T_WHITESPACE"," ",608],"=",["T_WHITESPACE"," ",608],["T_VARIABLE","$this",608],["T_OBJECT_OPERATOR","->",608],["T_STRING","getRequest",608],"(",")",";",["T_WHITESPACE","\n\n        ",608],["T_VARIABLE","$request",610],["T_OBJECT_OPERATOR","->",610],["T_STRING","initForward",610],"(",")",";",["T_WHITESPACE","\n\n        ",610],["T_IF","if",612],["T_WHITESPACE"," ",612],"(",["T_ISSET","isset",612],"(",["T_VARIABLE","$params",612],")",")",["T_WHITESPACE"," ",612],"{",["T_WHITESPACE","\n            ",612],["T_VARIABLE","$request",613],["T_OBJECT_OPERATOR","->",613],["T_STRING","setParams",613],"(",["T_VARIABLE","$params",613],")",";",["T_WHITESPACE","\n        ",613],"}",["T_WHITESPACE","\n\n        ",614],["T_IF","if",616],["T_WHITESPACE"," ",616],"(",["T_ISSET","isset",616],"(",["T_VARIABLE","$controller",616],")",")",["T_WHITESPACE"," ",616],"{",["T_WHITESPACE","\n            ",616],["T_VARIABLE","$request",617],["T_OBJECT_OPERATOR","->",617],["T_STRING","setControllerName",617],"(",["T_VARIABLE","$controller",617],")",";",["T_WHITESPACE","\n\n            ",617],["T_COMMENT","\/\/ Module should only be reset if controller has been specified\n",619],["T_WHITESPACE","            ",620],["T_IF","if",620],["T_WHITESPACE"," ",620],"(",["T_ISSET","isset",620],"(",["T_VARIABLE","$module",620],")",")",["T_WHITESPACE"," ",620],"{",["T_WHITESPACE","\n                ",620],["T_VARIABLE","$request",621],["T_OBJECT_OPERATOR","->",621],["T_STRING","setModuleName",621],"(",["T_VARIABLE","$module",621],")",";",["T_WHITESPACE","\n            ",621],"}",["T_WHITESPACE","\n        ",622],"}",["T_WHITESPACE","\n\n        ",623],["T_VARIABLE","$request",625],["T_OBJECT_OPERATOR","->",625],["T_STRING","setActionName",625],"(",["T_VARIABLE","$action",625],")",["T_WHITESPACE","\n            ",625],["T_OBJECT_OPERATOR","->",626],["T_STRING","setDispatched",626],"(",["T_STRING","false",626],")",";",["T_WHITESPACE","\n    ",626],"}",["T_WHITESPACE","\n\n    ",627],["T_DOC_COMMENT","\/**\n     * Initializing layout messages by message storage(s), loading and adding messages to layout messages block\n     *\n     * @param string|array $messagesStorage\n     * @return Mage_Core_Controller_Varien_Action\n     *\/",629],["T_WHITESPACE","\n    ",634],["T_PROTECTED","protected",635],["T_WHITESPACE"," ",635],["T_FUNCTION","function",635],["T_WHITESPACE"," ",635],["T_STRING","_initLayoutMessages",635],"(",["T_VARIABLE","$messagesStorage",635],")",["T_WHITESPACE","\n    ",635],"{",["T_WHITESPACE","\n        ",636],["T_IF","if",637],["T_WHITESPACE"," ",637],"(","!",["T_STRING","is_array",637],"(",["T_VARIABLE","$messagesStorage",637],")",")",["T_WHITESPACE"," ",637],"{",["T_WHITESPACE","\n            ",637],["T_VARIABLE","$messagesStorage",638],["T_WHITESPACE"," ",638],"=",["T_WHITESPACE"," ",638],["T_ARRAY","array",638],"(",["T_VARIABLE","$messagesStorage",638],")",";",["T_WHITESPACE","\n        ",638],"}",["T_WHITESPACE","\n        ",639],["T_FOREACH","foreach",640],["T_WHITESPACE"," ",640],"(",["T_VARIABLE","$messagesStorage",640],["T_WHITESPACE"," ",640],["T_AS","as",640],["T_WHITESPACE"," ",640],["T_VARIABLE","$storageName",640],")",["T_WHITESPACE"," ",640],"{",["T_WHITESPACE","\n            ",640],["T_VARIABLE","$storage",641],["T_WHITESPACE"," ",641],"=",["T_WHITESPACE"," ",641],["T_STRING","Mage",641],["T_DOUBLE_COLON","::",641],["T_STRING","getSingleton",641],"(",["T_VARIABLE","$storageName",641],")",";",["T_WHITESPACE","\n            ",641],["T_IF","if",642],["T_WHITESPACE"," ",642],"(",["T_VARIABLE","$storage",642],")",["T_WHITESPACE"," ",642],"{",["T_WHITESPACE","\n                ",642],["T_VARIABLE","$block",643],["T_WHITESPACE"," ",643],"=",["T_WHITESPACE"," ",643],["T_VARIABLE","$this",643],["T_OBJECT_OPERATOR","->",643],["T_STRING","getLayout",643],"(",")",["T_OBJECT_OPERATOR","->",643],["T_STRING","getMessagesBlock",643],"(",")",";",["T_WHITESPACE","\n                ",643],["T_VARIABLE","$block",644],["T_OBJECT_OPERATOR","->",644],["T_STRING","addMessages",644],"(",["T_VARIABLE","$storage",644],["T_OBJECT_OPERATOR","->",644],["T_STRING","getMessages",644],"(",["T_STRING","true",644],")",")",";",["T_WHITESPACE","\n                ",644],["T_VARIABLE","$block",645],["T_OBJECT_OPERATOR","->",645],["T_STRING","setEscapeMessageFlag",645],"(",["T_VARIABLE","$storage",645],["T_OBJECT_OPERATOR","->",645],["T_STRING","getEscapeMessages",645],"(",["T_STRING","true",645],")",")",";",["T_WHITESPACE","\n                ",645],["T_VARIABLE","$block",646],["T_OBJECT_OPERATOR","->",646],["T_STRING","addStorageType",646],"(",["T_VARIABLE","$storageName",646],")",";",["T_WHITESPACE","\n            ",646],"}",["T_WHITESPACE","\n            ",647],["T_ELSE","else",648],["T_WHITESPACE"," ",648],"{",["T_WHITESPACE","\n                ",648],["T_STRING","Mage",649],["T_DOUBLE_COLON","::",649],["T_STRING","throwException",649],"(",["T_WHITESPACE","\n                     ",649],["T_STRING","Mage",650],["T_DOUBLE_COLON","::",650],["T_STRING","helper",650],"(",["T_CONSTANT_ENCAPSED_STRING","'core'",650],")",["T_OBJECT_OPERATOR","->",650],["T_STRING","__",650],"(",["T_CONSTANT_ENCAPSED_STRING","'Invalid messages storage \"%s\" for layout messages initialization'",650],",",["T_WHITESPACE"," ",650],["T_STRING_CAST","(string)",650],["T_WHITESPACE"," ",650],["T_VARIABLE","$storageName",650],")",["T_WHITESPACE","\n                ",650],")",";",["T_WHITESPACE","\n            ",651],"}",["T_WHITESPACE","\n        ",652],"}",["T_WHITESPACE","\n        ",653],["T_RETURN","return",654],["T_WHITESPACE"," ",654],["T_VARIABLE","$this",654],";",["T_WHITESPACE","\n    ",654],"}",["T_WHITESPACE","\n\n    ",655],["T_DOC_COMMENT","\/**\n     * Initializing layout messages by message storage(s), loading and adding messages to layout messages block\n     *\n     * @param string|array $messagesStorage\n     * @return Mage_Core_Controller_Varien_Action\n     *\/",657],["T_WHITESPACE","\n    ",662],["T_PUBLIC","public",663],["T_WHITESPACE"," ",663],["T_FUNCTION","function",663],["T_WHITESPACE"," ",663],["T_STRING","initLayoutMessages",663],"(",["T_VARIABLE","$messagesStorage",663],")",["T_WHITESPACE","\n    ",663],"{",["T_WHITESPACE","\n        ",664],["T_RETURN","return",665],["T_WHITESPACE"," ",665],["T_VARIABLE","$this",665],["T_OBJECT_OPERATOR","->",665],["T_STRING","_initLayoutMessages",665],"(",["T_VARIABLE","$messagesStorage",665],")",";",["T_WHITESPACE","\n    ",665],"}",["T_WHITESPACE","\n\n    ",666],["T_DOC_COMMENT","\/**\n     * Set redirect url into response\n     *\n     * @param   string $url\n     * @return  Mage_Core_Controller_Varien_Action\n     *\/",668],["T_WHITESPACE","\n    ",673],["T_PROTECTED","protected",674],["T_WHITESPACE"," ",674],["T_FUNCTION","function",674],["T_WHITESPACE"," ",674],["T_STRING","_redirectUrl",674],"(",["T_VARIABLE","$url",674],")",["T_WHITESPACE","\n    ",674],"{",["T_WHITESPACE","\n        ",675],["T_VARIABLE","$this",676],["T_OBJECT_OPERATOR","->",676],["T_STRING","getResponse",676],"(",")",["T_OBJECT_OPERATOR","->",676],["T_STRING","setRedirect",676],"(",["T_VARIABLE","$url",676],")",";",["T_WHITESPACE","\n        ",676],["T_RETURN","return",677],["T_WHITESPACE"," ",677],["T_VARIABLE","$this",677],";",["T_WHITESPACE","\n    ",677],"}",["T_WHITESPACE","\n\n    ",678],["T_DOC_COMMENT","\/**\n     * Set redirect into response\n     *\n     * @param   string $path\n     * @param   array $arguments\n     * @return  Mage_Core_Controller_Varien_Action\n     *\/",680],["T_WHITESPACE","\n    ",686],["T_PROTECTED","protected",687],["T_WHITESPACE"," ",687],["T_FUNCTION","function",687],["T_WHITESPACE"," ",687],["T_STRING","_redirect",687],"(",["T_VARIABLE","$path",687],",",["T_WHITESPACE"," ",687],["T_VARIABLE","$arguments",687],["T_WHITESPACE"," ",687],"=",["T_WHITESPACE"," ",687],["T_ARRAY","array",687],"(",")",")",["T_WHITESPACE","\n    ",687],"{",["T_WHITESPACE","\n        ",688],["T_RETURN","return",689],["T_WHITESPACE"," ",689],["T_VARIABLE","$this",689],["T_OBJECT_OPERATOR","->",689],["T_STRING","setRedirectWithCookieCheck",689],"(",["T_VARIABLE","$path",689],",",["T_WHITESPACE"," ",689],["T_VARIABLE","$arguments",689],")",";",["T_WHITESPACE","\n    ",689],"}",["T_WHITESPACE","\n\n    ",690],["T_DOC_COMMENT","\/**\n     * Set redirect into response with session id in URL if it is enabled.\n     * It allows to distinguish primordial request from browser with cookies disabled.\n     *\n     * @param   string $path\n     * @param   array $arguments\n     * @return  Mage_Core_Controller_Varien_Action\n     *\/",692],["T_WHITESPACE","\n    ",699],["T_PUBLIC","public",700],["T_WHITESPACE"," ",700],["T_FUNCTION","function",700],["T_WHITESPACE"," ",700],["T_STRING","setRedirectWithCookieCheck",700],"(",["T_VARIABLE","$path",700],",",["T_WHITESPACE"," ",700],["T_ARRAY","array",700],["T_WHITESPACE"," ",700],["T_VARIABLE","$arguments",700],["T_WHITESPACE"," ",700],"=",["T_WHITESPACE"," ",700],["T_ARRAY","array",700],"(",")",")",["T_WHITESPACE","\n    ",700],"{",["T_WHITESPACE","\n        ",701],["T_DOC_COMMENT","\/** @var $session Mage_Core_Model_Session *\/",702],["T_WHITESPACE","\n        ",702],["T_VARIABLE","$session",703],["T_WHITESPACE"," ",703],"=",["T_WHITESPACE"," ",703],["T_STRING","Mage",703],["T_DOUBLE_COLON","::",703],["T_STRING","getSingleton",703],"(",["T_CONSTANT_ENCAPSED_STRING","'core\/session'",703],",",["T_WHITESPACE"," ",703],["T_ARRAY","array",703],"(",["T_CONSTANT_ENCAPSED_STRING","'name'",703],["T_WHITESPACE"," ",703],["T_DOUBLE_ARROW","=>",703],["T_WHITESPACE"," ",703],["T_VARIABLE","$this",703],["T_OBJECT_OPERATOR","->",703],["T_STRING","_sessionNamespace",703],")",")",";",["T_WHITESPACE","\n        ",703],["T_IF","if",704],["T_WHITESPACE"," ",704],"(",["T_VARIABLE","$session",704],["T_OBJECT_OPERATOR","->",704],["T_STRING","getCookieShouldBeReceived",704],"(",")",["T_WHITESPACE"," ",704],["T_BOOLEAN_AND","&&",704],["T_WHITESPACE"," ",704],["T_STRING","Mage",704],["T_DOUBLE_COLON","::",704],["T_STRING","app",704],"(",")",["T_OBJECT_OPERATOR","->",704],["T_STRING","getUseSessionInUrl",704],"(",")",["T_WHITESPACE","\n            ",704],["T_BOOLEAN_AND","&&",705],["T_WHITESPACE"," ",705],["T_VARIABLE","$this",705],["T_OBJECT_OPERATOR","->",705],["T_STRING","_sessionNamespace",705],["T_WHITESPACE"," ",705],["T_IS_NOT_EQUAL","!=",705],["T_WHITESPACE"," ",705],["T_STRING","Mage_Adminhtml_Controller_Action",705],["T_DOUBLE_COLON","::",705],["T_STRING","SESSION_NAMESPACE",705],["T_WHITESPACE","\n        ",705],")",["T_WHITESPACE"," ",706],"{",["T_WHITESPACE","\n            ",706],["T_VARIABLE","$arguments",707],["T_WHITESPACE"," ",707],["T_PLUS_EQUAL","+=",707],["T_WHITESPACE"," ",707],["T_ARRAY","array",707],"(",["T_CONSTANT_ENCAPSED_STRING","'_query'",707],["T_WHITESPACE"," ",707],["T_DOUBLE_ARROW","=>",707],["T_WHITESPACE"," ",707],["T_ARRAY","array",707],"(",["T_WHITESPACE","\n                ",707],["T_VARIABLE","$session",708],["T_OBJECT_OPERATOR","->",708],["T_STRING","getSessionIdQueryParam",708],"(",")",["T_WHITESPACE"," ",708],["T_DOUBLE_ARROW","=>",708],["T_WHITESPACE"," ",708],["T_VARIABLE","$session",708],["T_OBJECT_OPERATOR","->",708],["T_STRING","getSessionId",708],"(",")",["T_WHITESPACE","\n            ",708],")",")",";",["T_WHITESPACE","\n        ",709],"}",["T_WHITESPACE","\n        ",710],["T_VARIABLE","$this",711],["T_OBJECT_OPERATOR","->",711],["T_STRING","getResponse",711],"(",")",["T_OBJECT_OPERATOR","->",711],["T_STRING","setRedirect",711],"(",["T_STRING","Mage",711],["T_DOUBLE_COLON","::",711],["T_STRING","getUrl",711],"(",["T_VARIABLE","$path",711],",",["T_WHITESPACE"," ",711],["T_VARIABLE","$arguments",711],")",")",";",["T_WHITESPACE","\n        ",711],["T_RETURN","return",712],["T_WHITESPACE"," ",712],["T_VARIABLE","$this",712],";",["T_WHITESPACE","\n    ",712],"}",["T_WHITESPACE","\n\n\n    ",713],["T_DOC_COMMENT","\/**\n     * Redirect to success page\n     *\n     * @param string $defaultUrl\n     * @return Mage_Core_Controller_Varien_Action\n     *\/",716],["T_WHITESPACE","\n    ",721],["T_PROTECTED","protected",722],["T_WHITESPACE"," ",722],["T_FUNCTION","function",722],["T_WHITESPACE"," ",722],["T_STRING","_redirectSuccess",722],"(",["T_VARIABLE","$defaultUrl",722],")",["T_WHITESPACE","\n    ",722],"{",["T_WHITESPACE","\n        ",723],["T_VARIABLE","$successUrl",724],["T_WHITESPACE"," ",724],"=",["T_WHITESPACE"," ",724],["T_VARIABLE","$this",724],["T_OBJECT_OPERATOR","->",724],["T_STRING","getRequest",724],"(",")",["T_OBJECT_OPERATOR","->",724],["T_STRING","getParam",724],"(",["T_STRING","self",724],["T_DOUBLE_COLON","::",724],["T_STRING","PARAM_NAME_SUCCESS_URL",724],")",";",["T_WHITESPACE","\n        ",724],["T_IF","if",725],["T_WHITESPACE"," ",725],"(",["T_EMPTY","empty",725],"(",["T_VARIABLE","$successUrl",725],")",")",["T_WHITESPACE"," ",725],"{",["T_WHITESPACE","\n            ",725],["T_VARIABLE","$successUrl",726],["T_WHITESPACE"," ",726],"=",["T_WHITESPACE"," ",726],["T_VARIABLE","$defaultUrl",726],";",["T_WHITESPACE","\n        ",726],"}",["T_WHITESPACE","\n        ",727],["T_IF","if",728],["T_WHITESPACE"," ",728],"(","!",["T_VARIABLE","$this",728],["T_OBJECT_OPERATOR","->",728],["T_STRING","_isUrlInternal",728],"(",["T_VARIABLE","$successUrl",728],")",")",["T_WHITESPACE"," ",728],"{",["T_WHITESPACE","\n            ",728],["T_VARIABLE","$successUrl",729],["T_WHITESPACE"," ",729],"=",["T_WHITESPACE"," ",729],["T_STRING","Mage",729],["T_DOUBLE_COLON","::",729],["T_STRING","app",729],"(",")",["T_OBJECT_OPERATOR","->",729],["T_STRING","getStore",729],"(",")",["T_OBJECT_OPERATOR","->",729],["T_STRING","getBaseUrl",729],"(",")",";",["T_WHITESPACE","\n        ",729],"}",["T_WHITESPACE","\n        ",730],["T_VARIABLE","$this",731],["T_OBJECT_OPERATOR","->",731],["T_STRING","getResponse",731],"(",")",["T_OBJECT_OPERATOR","->",731],["T_STRING","setRedirect",731],"(",["T_VARIABLE","$successUrl",731],")",";",["T_WHITESPACE","\n        ",731],["T_RETURN","return",732],["T_WHITESPACE"," ",732],["T_VARIABLE","$this",732],";",["T_WHITESPACE","\n    ",732],"}",["T_WHITESPACE","\n\n    ",733],["T_DOC_COMMENT","\/**\n     * Redirect to error page\n     *\n     * @param string $defaultUrl\n     * @return  Mage_Core_Controller_Varien_Action\n     *\/",735],["T_WHITESPACE","\n    ",740],["T_PROTECTED","protected",741],["T_WHITESPACE"," ",741],["T_FUNCTION","function",741],["T_WHITESPACE"," ",741],["T_STRING","_redirectError",741],"(",["T_VARIABLE","$defaultUrl",741],")",["T_WHITESPACE","\n    ",741],"{",["T_WHITESPACE","\n        ",742],["T_VARIABLE","$errorUrl",743],["T_WHITESPACE"," ",743],"=",["T_WHITESPACE"," ",743],["T_VARIABLE","$this",743],["T_OBJECT_OPERATOR","->",743],["T_STRING","getRequest",743],"(",")",["T_OBJECT_OPERATOR","->",743],["T_STRING","getParam",743],"(",["T_STRING","self",743],["T_DOUBLE_COLON","::",743],["T_STRING","PARAM_NAME_ERROR_URL",743],")",";",["T_WHITESPACE","\n        ",743],["T_IF","if",744],["T_WHITESPACE"," ",744],"(",["T_EMPTY","empty",744],"(",["T_VARIABLE","$errorUrl",744],")",")",["T_WHITESPACE"," ",744],"{",["T_WHITESPACE","\n            ",744],["T_VARIABLE","$errorUrl",745],["T_WHITESPACE"," ",745],"=",["T_WHITESPACE"," ",745],["T_VARIABLE","$defaultUrl",745],";",["T_WHITESPACE","\n        ",745],"}",["T_WHITESPACE","\n        ",746],["T_IF","if",747],["T_WHITESPACE"," ",747],"(","!",["T_VARIABLE","$this",747],["T_OBJECT_OPERATOR","->",747],["T_STRING","_isUrlInternal",747],"(",["T_VARIABLE","$errorUrl",747],")",")",["T_WHITESPACE"," ",747],"{",["T_WHITESPACE","\n            ",747],["T_VARIABLE","$errorUrl",748],["T_WHITESPACE"," ",748],"=",["T_WHITESPACE"," ",748],["T_STRING","Mage",748],["T_DOUBLE_COLON","::",748],["T_STRING","app",748],"(",")",["T_OBJECT_OPERATOR","->",748],["T_STRING","getStore",748],"(",")",["T_OBJECT_OPERATOR","->",748],["T_STRING","getBaseUrl",748],"(",")",";",["T_WHITESPACE","\n        ",748],"}",["T_WHITESPACE","\n        ",749],["T_VARIABLE","$this",750],["T_OBJECT_OPERATOR","->",750],["T_STRING","getResponse",750],"(",")",["T_OBJECT_OPERATOR","->",750],["T_STRING","setRedirect",750],"(",["T_VARIABLE","$errorUrl",750],")",";",["T_WHITESPACE","\n        ",750],["T_RETURN","return",751],["T_WHITESPACE"," ",751],["T_VARIABLE","$this",751],";",["T_WHITESPACE","\n    ",751],"}",["T_WHITESPACE","\n\n    ",752],["T_DOC_COMMENT","\/**\n     * Set referer url for redirect in response\n     *\n     * @param   string $defaultUrl\n     * @return  Mage_Core_Controller_Varien_Action\n     *\/",754],["T_WHITESPACE","\n    ",759],["T_PROTECTED","protected",760],["T_WHITESPACE"," ",760],["T_FUNCTION","function",760],["T_WHITESPACE"," ",760],["T_STRING","_redirectReferer",760],"(",["T_VARIABLE","$defaultUrl",760],"=",["T_STRING","null",760],")",["T_WHITESPACE","\n    ",760],"{",["T_WHITESPACE","\n\n        ",761],["T_VARIABLE","$refererUrl",763],["T_WHITESPACE"," ",763],"=",["T_WHITESPACE"," ",763],["T_VARIABLE","$this",763],["T_OBJECT_OPERATOR","->",763],["T_STRING","_getRefererUrl",763],"(",")",";",["T_WHITESPACE","\n        ",763],["T_IF","if",764],["T_WHITESPACE"," ",764],"(",["T_EMPTY","empty",764],"(",["T_VARIABLE","$refererUrl",764],")",")",["T_WHITESPACE"," ",764],"{",["T_WHITESPACE","\n            ",764],["T_VARIABLE","$refererUrl",765],["T_WHITESPACE"," ",765],"=",["T_WHITESPACE"," ",765],["T_EMPTY","empty",765],"(",["T_VARIABLE","$defaultUrl",765],")",["T_WHITESPACE"," ",765],"?",["T_WHITESPACE"," ",765],["T_STRING","Mage",765],["T_DOUBLE_COLON","::",765],["T_STRING","getBaseUrl",765],"(",")",["T_WHITESPACE"," ",765],":",["T_WHITESPACE"," ",765],["T_VARIABLE","$defaultUrl",765],";",["T_WHITESPACE","\n        ",765],"}",["T_WHITESPACE","\n\n        ",766],["T_VARIABLE","$this",768],["T_OBJECT_OPERATOR","->",768],["T_STRING","getResponse",768],"(",")",["T_OBJECT_OPERATOR","->",768],["T_STRING","setRedirect",768],"(",["T_VARIABLE","$refererUrl",768],")",";",["T_WHITESPACE","\n        ",768],["T_RETURN","return",769],["T_WHITESPACE"," ",769],["T_VARIABLE","$this",769],";",["T_WHITESPACE","\n    ",769],"}",["T_WHITESPACE","\n\n    ",770],["T_DOC_COMMENT","\/**\n     * Identify referer url via all accepted methods (HTTP_REFERER, regular or base64-encoded request param)\n     *\n     * @return string\n     *\/",772],["T_WHITESPACE","\n    ",776],["T_PROTECTED","protected",777],["T_WHITESPACE"," ",777],["T_FUNCTION","function",777],["T_WHITESPACE"," ",777],["T_STRING","_getRefererUrl",777],"(",")",["T_WHITESPACE","\n    ",777],"{",["T_WHITESPACE","\n        ",778],["T_VARIABLE","$refererUrl",779],["T_WHITESPACE"," ",779],"=",["T_WHITESPACE"," ",779],["T_VARIABLE","$this",779],["T_OBJECT_OPERATOR","->",779],["T_STRING","getRequest",779],"(",")",["T_OBJECT_OPERATOR","->",779],["T_STRING","getServer",779],"(",["T_CONSTANT_ENCAPSED_STRING","'HTTP_REFERER'",779],")",";",["T_WHITESPACE","\n        ",779],["T_IF","if",780],["T_WHITESPACE"," ",780],"(",["T_VARIABLE","$url",780],["T_WHITESPACE"," ",780],"=",["T_WHITESPACE"," ",780],["T_VARIABLE","$this",780],["T_OBJECT_OPERATOR","->",780],["T_STRING","getRequest",780],"(",")",["T_OBJECT_OPERATOR","->",780],["T_STRING","getParam",780],"(",["T_STRING","self",780],["T_DOUBLE_COLON","::",780],["T_STRING","PARAM_NAME_REFERER_URL",780],")",")",["T_WHITESPACE"," ",780],"{",["T_WHITESPACE","\n            ",780],["T_VARIABLE","$refererUrl",781],["T_WHITESPACE"," ",781],"=",["T_WHITESPACE"," ",781],["T_VARIABLE","$url",781],";",["T_WHITESPACE","\n        ",781],"}",["T_WHITESPACE","\n        ",782],["T_IF","if",783],["T_WHITESPACE"," ",783],"(",["T_VARIABLE","$url",783],["T_WHITESPACE"," ",783],"=",["T_WHITESPACE"," ",783],["T_VARIABLE","$this",783],["T_OBJECT_OPERATOR","->",783],["T_STRING","getRequest",783],"(",")",["T_OBJECT_OPERATOR","->",783],["T_STRING","getParam",783],"(",["T_STRING","self",783],["T_DOUBLE_COLON","::",783],["T_STRING","PARAM_NAME_BASE64_URL",783],")",")",["T_WHITESPACE"," ",783],"{",["T_WHITESPACE","\n            ",783],["T_VARIABLE","$refererUrl",784],["T_WHITESPACE"," ",784],"=",["T_WHITESPACE"," ",784],["T_STRING","Mage",784],["T_DOUBLE_COLON","::",784],["T_STRING","helper",784],"(",["T_CONSTANT_ENCAPSED_STRING","'core'",784],")",["T_OBJECT_OPERATOR","->",784],["T_STRING","urlDecodeAndEscape",784],"(",["T_VARIABLE","$url",784],")",";",["T_WHITESPACE","\n        ",784],"}",["T_WHITESPACE","\n        ",785],["T_IF","if",786],["T_WHITESPACE"," ",786],"(",["T_VARIABLE","$url",786],["T_WHITESPACE"," ",786],"=",["T_WHITESPACE"," ",786],["T_VARIABLE","$this",786],["T_OBJECT_OPERATOR","->",786],["T_STRING","getRequest",786],"(",")",["T_OBJECT_OPERATOR","->",786],["T_STRING","getParam",786],"(",["T_STRING","self",786],["T_DOUBLE_COLON","::",786],["T_STRING","PARAM_NAME_URL_ENCODED",786],")",")",["T_WHITESPACE"," ",786],"{",["T_WHITESPACE","\n            ",786],["T_VARIABLE","$refererUrl",787],["T_WHITESPACE"," ",787],"=",["T_WHITESPACE"," ",787],["T_STRING","Mage",787],["T_DOUBLE_COLON","::",787],["T_STRING","helper",787],"(",["T_CONSTANT_ENCAPSED_STRING","'core'",787],")",["T_OBJECT_OPERATOR","->",787],["T_STRING","urlDecodeAndEscape",787],"(",["T_VARIABLE","$url",787],")",";",["T_WHITESPACE","\n        ",787],"}",["T_WHITESPACE","\n\n        ",788],["T_IF","if",790],["T_WHITESPACE"," ",790],"(","!",["T_VARIABLE","$this",790],["T_OBJECT_OPERATOR","->",790],["T_STRING","_isUrlInternal",790],"(",["T_VARIABLE","$refererUrl",790],")",")",["T_WHITESPACE"," ",790],"{",["T_WHITESPACE","\n            ",790],["T_VARIABLE","$refererUrl",791],["T_WHITESPACE"," ",791],"=",["T_WHITESPACE"," ",791],["T_STRING","Mage",791],["T_DOUBLE_COLON","::",791],["T_STRING","app",791],"(",")",["T_OBJECT_OPERATOR","->",791],["T_STRING","getStore",791],"(",")",["T_OBJECT_OPERATOR","->",791],["T_STRING","getBaseUrl",791],"(",")",";",["T_WHITESPACE","\n        ",791],"}",["T_WHITESPACE","\n        ",792],["T_RETURN","return",793],["T_WHITESPACE"," ",793],["T_VARIABLE","$refererUrl",793],";",["T_WHITESPACE","\n    ",793],"}",["T_WHITESPACE","\n\n    ",794],["T_DOC_COMMENT","\/**\n     * Check url to be used as internal\n     *\n     * @param   string $url\n     * @return  bool\n     *\/",796],["T_WHITESPACE","\n    ",801],["T_PROTECTED","protected",802],["T_WHITESPACE"," ",802],["T_FUNCTION","function",802],["T_WHITESPACE"," ",802],["T_STRING","_isUrlInternal",802],"(",["T_VARIABLE","$url",802],")",["T_WHITESPACE","\n    ",802],"{",["T_WHITESPACE","\n        ",803],["T_IF","if",804],["T_WHITESPACE"," ",804],"(",["T_STRING","strpos",804],"(",["T_VARIABLE","$url",804],",",["T_WHITESPACE"," ",804],["T_CONSTANT_ENCAPSED_STRING","'http'",804],")",["T_WHITESPACE"," ",804],["T_IS_NOT_IDENTICAL","!==",804],["T_WHITESPACE"," ",804],["T_STRING","false",804],")",["T_WHITESPACE"," ",804],"{",["T_WHITESPACE","\n            ",804],["T_DOC_COMMENT","\/**\n             * Url must start from base secure or base unsecure url\n             *\/",805],["T_WHITESPACE","\n            ",807],["T_IF","if",808],["T_WHITESPACE"," ",808],"(","(",["T_STRING","strpos",808],"(",["T_VARIABLE","$url",808],",",["T_WHITESPACE"," ",808],["T_STRING","Mage",808],["T_DOUBLE_COLON","::",808],["T_STRING","app",808],"(",")",["T_OBJECT_OPERATOR","->",808],["T_STRING","getStore",808],"(",")",["T_OBJECT_OPERATOR","->",808],["T_STRING","getBaseUrl",808],"(",")",")",["T_WHITESPACE"," ",808],["T_IS_IDENTICAL","===",808],["T_WHITESPACE"," ",808],["T_LNUMBER","0",808],")",["T_WHITESPACE","\n                ",808],["T_BOOLEAN_OR","||",809],["T_WHITESPACE"," ",809],"(",["T_STRING","strpos",809],"(",["T_VARIABLE","$url",809],",",["T_WHITESPACE"," ",809],["T_STRING","Mage",809],["T_DOUBLE_COLON","::",809],["T_STRING","app",809],"(",")",["T_OBJECT_OPERATOR","->",809],["T_STRING","getStore",809],"(",")",["T_OBJECT_OPERATOR","->",809],["T_STRING","getBaseUrl",809],"(",["T_STRING","Mage_Core_Model_Store",809],["T_DOUBLE_COLON","::",809],["T_STRING","URL_TYPE_LINK",809],",",["T_WHITESPACE"," ",809],["T_STRING","true",809],")",")",["T_WHITESPACE"," ",809],["T_IS_IDENTICAL","===",809],["T_WHITESPACE"," ",809],["T_LNUMBER","0",809],")",["T_WHITESPACE","\n            ",809],")",["T_WHITESPACE"," ",810],"{",["T_WHITESPACE","\n                ",810],["T_RETURN","return",811],["T_WHITESPACE"," ",811],["T_STRING","true",811],";",["T_WHITESPACE","\n            ",811],"}",["T_WHITESPACE","\n        ",812],"}",["T_WHITESPACE","\n        ",813],["T_RETURN","return",814],["T_WHITESPACE"," ",814],["T_STRING","false",814],";",["T_WHITESPACE","\n    ",814],"}",["T_WHITESPACE","\n\n    ",815],["T_DOC_COMMENT","\/**\n     * Get real module name (like 'Mage_Module')\n     *\n     * @return  string\n     *\/",817],["T_WHITESPACE","\n    ",821],["T_PROTECTED","protected",822],["T_WHITESPACE"," ",822],["T_FUNCTION","function",822],["T_WHITESPACE"," ",822],["T_STRING","_getRealModuleName",822],"(",")",["T_WHITESPACE","\n    ",822],"{",["T_WHITESPACE","\n        ",823],["T_IF","if",824],["T_WHITESPACE"," ",824],"(",["T_EMPTY","empty",824],"(",["T_VARIABLE","$this",824],["T_OBJECT_OPERATOR","->",824],["T_STRING","_realModuleName",824],")",")",["T_WHITESPACE"," ",824],"{",["T_WHITESPACE","\n            ",824],["T_VARIABLE","$class",825],["T_WHITESPACE"," ",825],"=",["T_WHITESPACE"," ",825],["T_STRING","get_class",825],"(",["T_VARIABLE","$this",825],")",";",["T_WHITESPACE","\n            ",825],["T_VARIABLE","$this",826],["T_OBJECT_OPERATOR","->",826],["T_STRING","_realModuleName",826],["T_WHITESPACE"," ",826],"=",["T_WHITESPACE"," ",826],["T_STRING","substr",826],"(",["T_WHITESPACE","\n                ",826],["T_VARIABLE","$class",827],",",["T_WHITESPACE","\n                ",827],["T_LNUMBER","0",828],",",["T_WHITESPACE","\n                ",828],["T_STRING","strpos",829],"(",["T_STRING","strtolower",829],"(",["T_VARIABLE","$class",829],")",",",["T_WHITESPACE"," ",829],["T_CONSTANT_ENCAPSED_STRING","'_'",829],["T_WHITESPACE"," ",829],".",["T_WHITESPACE"," ",829],["T_STRING","strtolower",829],"(",["T_VARIABLE","$this",829],["T_OBJECT_OPERATOR","->",829],["T_STRING","getRequest",829],"(",")",["T_OBJECT_OPERATOR","->",829],["T_STRING","getControllerName",829],"(",")",["T_WHITESPACE"," ",829],".",["T_WHITESPACE"," ",829],["T_CONSTANT_ENCAPSED_STRING","'Controller'",829],")",")",["T_WHITESPACE","\n            ",829],")",";",["T_WHITESPACE","\n        ",830],"}",["T_WHITESPACE","\n        ",831],["T_RETURN","return",832],["T_WHITESPACE"," ",832],["T_VARIABLE","$this",832],["T_OBJECT_OPERATOR","->",832],["T_STRING","_realModuleName",832],";",["T_WHITESPACE","\n    ",832],"}",["T_WHITESPACE","\n\n    ",833],["T_DOC_COMMENT","\/**\n     * Support for controllers rewrites\n     *\n     * Example of configuration:\n     * <global>\n     *   <routers>\n     *     <core_module>\n     *       <rewrite>\n     *         <core_controller>\n     *           <to>new_route\/new_controller<\/to>\n     *           <override_actions>true<\/override_actions>\n     *           <actions>\n     *             <core_action><to>new_module\/new_controller\/new_action<\/core_action>\n     *           <\/actions>\n     *         <core_controller>\n     *       <\/rewrite>\n     *     <\/core_module>\n     *   <\/routers>\n     * <\/global>\n     *\n     * This will override:\n     * 1. core_module\/core_controller\/core_action to new_module\/new_controller\/new_action\n     * 2. all other actions of core_module\/core_controller to new_module\/new_controller\n     *\n     * @return boolean true if rewrite happened\n     *\/",835],["T_WHITESPACE","\n    ",860],["T_PROTECTED","protected",861],["T_WHITESPACE"," ",861],["T_FUNCTION","function",861],["T_WHITESPACE"," ",861],["T_STRING","_rewrite",861],"(",")",["T_WHITESPACE","\n    ",861],"{",["T_WHITESPACE","\n        ",862],["T_VARIABLE","$route",863],["T_WHITESPACE"," ",863],"=",["T_WHITESPACE"," ",863],["T_VARIABLE","$this",863],["T_OBJECT_OPERATOR","->",863],["T_STRING","getRequest",863],"(",")",["T_OBJECT_OPERATOR","->",863],["T_STRING","getRouteName",863],"(",")",";",["T_WHITESPACE","\n        ",863],["T_VARIABLE","$controller",864],["T_WHITESPACE"," ",864],"=",["T_WHITESPACE"," ",864],["T_VARIABLE","$this",864],["T_OBJECT_OPERATOR","->",864],["T_STRING","getRequest",864],"(",")",["T_OBJECT_OPERATOR","->",864],["T_STRING","getControllerName",864],"(",")",";",["T_WHITESPACE","\n        ",864],["T_VARIABLE","$action",865],["T_WHITESPACE"," ",865],"=",["T_WHITESPACE"," ",865],["T_VARIABLE","$this",865],["T_OBJECT_OPERATOR","->",865],["T_STRING","getRequest",865],"(",")",["T_OBJECT_OPERATOR","->",865],["T_STRING","getActionName",865],"(",")",";",["T_WHITESPACE","\n\n        ",865],["T_VARIABLE","$rewrite",867],["T_WHITESPACE"," ",867],"=",["T_WHITESPACE"," ",867],["T_STRING","Mage",867],["T_DOUBLE_COLON","::",867],["T_STRING","getConfig",867],"(",")",["T_OBJECT_OPERATOR","->",867],["T_STRING","getNode",867],"(",["T_CONSTANT_ENCAPSED_STRING","'global\/routers\/'",867],".",["T_VARIABLE","$route",867],".",["T_CONSTANT_ENCAPSED_STRING","'\/rewrite\/'",867],".",["T_VARIABLE","$controller",867],")",";",["T_WHITESPACE","\n        ",867],["T_IF","if",868],["T_WHITESPACE"," ",868],"(","!",["T_VARIABLE","$rewrite",868],")",["T_WHITESPACE"," ",868],"{",["T_WHITESPACE","\n            ",868],["T_RETURN","return",869],["T_WHITESPACE"," ",869],["T_STRING","false",869],";",["T_WHITESPACE","\n        ",869],"}",["T_WHITESPACE","\n\n        ",870],["T_IF","if",872],["T_WHITESPACE"," ",872],"(","!","(",["T_VARIABLE","$rewrite",872],["T_OBJECT_OPERATOR","->",872],["T_STRING","actions",872],["T_WHITESPACE"," ",872],["T_BOOLEAN_AND","&&",872],["T_WHITESPACE"," ",872],["T_VARIABLE","$rewrite",872],["T_OBJECT_OPERATOR","->",872],["T_STRING","actions",872],["T_OBJECT_OPERATOR","->",872],["T_VARIABLE","$action",872],")",["T_WHITESPACE"," ",872],["T_BOOLEAN_OR","||",872],["T_WHITESPACE"," ",872],["T_VARIABLE","$rewrite",872],["T_OBJECT_OPERATOR","->",872],["T_STRING","is",872],"(",["T_CONSTANT_ENCAPSED_STRING","'override_actions'",872],")",")",["T_WHITESPACE"," ",872],"{",["T_WHITESPACE","\n            ",872],["T_VARIABLE","$t",873],["T_WHITESPACE"," ",873],"=",["T_WHITESPACE"," ",873],["T_STRING","explode",873],"(",["T_CONSTANT_ENCAPSED_STRING","'\/'",873],",",["T_WHITESPACE"," ",873],["T_STRING_CAST","(string)",873],["T_VARIABLE","$rewrite",873],["T_OBJECT_OPERATOR","->",873],["T_STRING","to",873],")",";",["T_WHITESPACE","\n            ",873],["T_IF","if",874],["T_WHITESPACE"," ",874],"(",["T_STRING","sizeof",874],"(",["T_VARIABLE","$t",874],")",["T_IS_NOT_IDENTICAL","!==",874],["T_LNUMBER","2",874],["T_WHITESPACE"," ",874],["T_BOOLEAN_OR","||",874],["T_WHITESPACE"," ",874],["T_EMPTY","empty",874],"(",["T_VARIABLE","$t",874],"[",["T_LNUMBER","0",874],"]",")",["T_WHITESPACE"," ",874],["T_BOOLEAN_OR","||",874],["T_WHITESPACE"," ",874],["T_EMPTY","empty",874],"(",["T_VARIABLE","$t",874],"[",["T_LNUMBER","1",874],"]",")",")",["T_WHITESPACE"," ",874],"{",["T_WHITESPACE","\n                ",874],["T_RETURN","return",875],["T_WHITESPACE"," ",875],["T_STRING","false",875],";",["T_WHITESPACE","\n            ",875],"}",["T_WHITESPACE","\n            ",876],["T_VARIABLE","$t",877],"[",["T_LNUMBER","2",877],"]",["T_WHITESPACE"," ",877],"=",["T_WHITESPACE"," ",877],["T_VARIABLE","$action",877],";",["T_WHITESPACE","\n        ",877],"}",["T_WHITESPACE"," ",878],["T_ELSE","else",878],["T_WHITESPACE"," ",878],"{",["T_WHITESPACE","\n            ",878],["T_VARIABLE","$t",879],["T_WHITESPACE"," ",879],"=",["T_WHITESPACE"," ",879],["T_STRING","explode",879],"(",["T_CONSTANT_ENCAPSED_STRING","'\/'",879],",",["T_WHITESPACE"," ",879],["T_STRING_CAST","(string)",879],["T_VARIABLE","$rewrite",879],["T_OBJECT_OPERATOR","->",879],["T_STRING","actions",879],["T_OBJECT_OPERATOR","->",879],["T_VARIABLE","$action",879],["T_OBJECT_OPERATOR","->",879],["T_STRING","to",879],")",";",["T_WHITESPACE","\n            ",879],["T_IF","if",880],["T_WHITESPACE"," ",880],"(",["T_STRING","sizeof",880],"(",["T_VARIABLE","$t",880],")",["T_IS_NOT_IDENTICAL","!==",880],["T_LNUMBER","3",880],["T_WHITESPACE"," ",880],["T_BOOLEAN_OR","||",880],["T_WHITESPACE"," ",880],["T_EMPTY","empty",880],"(",["T_VARIABLE","$t",880],"[",["T_LNUMBER","0",880],"]",")",["T_WHITESPACE"," ",880],["T_BOOLEAN_OR","||",880],["T_WHITESPACE"," ",880],["T_EMPTY","empty",880],"(",["T_VARIABLE","$t",880],"[",["T_LNUMBER","1",880],"]",")",["T_WHITESPACE"," ",880],["T_BOOLEAN_OR","||",880],["T_WHITESPACE"," ",880],["T_EMPTY","empty",880],"(",["T_VARIABLE","$t",880],"[",["T_LNUMBER","2",880],"]",")",")",["T_WHITESPACE"," ",880],"{",["T_WHITESPACE","\n                ",880],["T_RETURN","return",881],["T_WHITESPACE"," ",881],["T_STRING","false",881],";",["T_WHITESPACE","\n            ",881],"}",["T_WHITESPACE","\n        ",882],"}",["T_WHITESPACE","\n\n        ",883],["T_VARIABLE","$this",885],["T_OBJECT_OPERATOR","->",885],["T_STRING","_forward",885],"(",["T_WHITESPACE","\n            ",885],["T_VARIABLE","$t",886],"[",["T_LNUMBER","2",886],"]",["T_IS_IDENTICAL","===",886],["T_CONSTANT_ENCAPSED_STRING","'*'",886],["T_WHITESPACE"," ",886],"?",["T_WHITESPACE"," ",886],["T_VARIABLE","$action",886],["T_WHITESPACE"," ",886],":",["T_WHITESPACE"," ",886],["T_VARIABLE","$t",886],"[",["T_LNUMBER","2",886],"]",",",["T_WHITESPACE","\n            ",886],["T_VARIABLE","$t",887],"[",["T_LNUMBER","1",887],"]",["T_IS_IDENTICAL","===",887],["T_CONSTANT_ENCAPSED_STRING","'*'",887],["T_WHITESPACE"," ",887],"?",["T_WHITESPACE"," ",887],["T_VARIABLE","$controller",887],["T_WHITESPACE"," ",887],":",["T_WHITESPACE"," ",887],["T_VARIABLE","$t",887],"[",["T_LNUMBER","1",887],"]",",",["T_WHITESPACE","\n            ",887],["T_VARIABLE","$t",888],"[",["T_LNUMBER","0",888],"]",["T_IS_IDENTICAL","===",888],["T_CONSTANT_ENCAPSED_STRING","'*'",888],["T_WHITESPACE"," ",888],"?",["T_WHITESPACE"," ",888],["T_VARIABLE","$route",888],["T_WHITESPACE"," ",888],":",["T_WHITESPACE"," ",888],["T_VARIABLE","$t",888],"[",["T_LNUMBER","0",888],"]",["T_WHITESPACE","\n        ",888],")",";",["T_WHITESPACE","\n\n        ",889],["T_RETURN","return",891],["T_WHITESPACE"," ",891],["T_STRING","true",891],";",["T_WHITESPACE","\n    ",891],"}",["T_WHITESPACE","\n\n    ",892],["T_DOC_COMMENT","\/**\n     * Validate Form Key\n     *\n     * @return bool\n     *\/",894],["T_WHITESPACE","\n    ",898],["T_PROTECTED","protected",899],["T_WHITESPACE"," ",899],["T_FUNCTION","function",899],["T_WHITESPACE"," ",899],["T_STRING","_validateFormKey",899],"(",")",["T_WHITESPACE","\n    ",899],"{",["T_WHITESPACE","\n        ",900],["T_IF","if",901],["T_WHITESPACE"," ",901],"(","!","(",["T_VARIABLE","$formKey",901],["T_WHITESPACE"," ",901],"=",["T_WHITESPACE"," ",901],["T_VARIABLE","$this",901],["T_OBJECT_OPERATOR","->",901],["T_STRING","getRequest",901],"(",")",["T_OBJECT_OPERATOR","->",901],["T_STRING","getParam",901],"(",["T_CONSTANT_ENCAPSED_STRING","'form_key'",901],",",["T_WHITESPACE"," ",901],["T_STRING","null",901],")",")",["T_WHITESPACE","\n            ",901],["T_BOOLEAN_OR","||",902],["T_WHITESPACE"," ",902],["T_VARIABLE","$formKey",902],["T_WHITESPACE"," ",902],["T_IS_NOT_EQUAL","!=",902],["T_WHITESPACE"," ",902],["T_STRING","Mage",902],["T_DOUBLE_COLON","::",902],["T_STRING","getSingleton",902],"(",["T_CONSTANT_ENCAPSED_STRING","'core\/session'",902],")",["T_OBJECT_OPERATOR","->",902],["T_STRING","getFormKey",902],"(",")",")",["T_WHITESPACE"," ",902],"{",["T_WHITESPACE","\n            ",902],["T_RETURN","return",903],["T_WHITESPACE"," ",903],["T_STRING","false",903],";",["T_WHITESPACE","\n        ",903],"}",["T_WHITESPACE","\n        ",904],["T_RETURN","return",905],["T_WHITESPACE"," ",905],["T_STRING","true",905],";",["T_WHITESPACE","\n    ",905],"}",["T_WHITESPACE","\n\n    ",906],["T_DOC_COMMENT","\/**\n     * Add an extra title to the end or one from the end, or remove all\n     *\n     * Usage examples:\n     * $this->_title('foo')->_title('bar');\n     * => bar \/ foo \/ <default title>\n     *\n     * $this->_title()->_title('foo')->_title('bar');\n     * => bar \/ foo\n     *\n     * $this->_title('foo')->_title(false)->_title('bar');\n     * bar \/ <default title>\n     *\n     * @see self::_renderTitles()\n     * @param string|false|-1|null $text\n     * @param bool $resetIfExists\n     * @return Mage_Core_Controller_Varien_Action\n     *\/",908],["T_WHITESPACE","\n    ",925],["T_PROTECTED","protected",926],["T_WHITESPACE"," ",926],["T_FUNCTION","function",926],["T_WHITESPACE"," ",926],["T_STRING","_title",926],"(",["T_VARIABLE","$text",926],["T_WHITESPACE"," ",926],"=",["T_WHITESPACE"," ",926],["T_STRING","null",926],",",["T_WHITESPACE"," ",926],["T_VARIABLE","$resetIfExists",926],["T_WHITESPACE"," ",926],"=",["T_WHITESPACE"," ",926],["T_STRING","true",926],")",["T_WHITESPACE","\n    ",926],"{",["T_WHITESPACE","\n        ",927],["T_IF","if",928],["T_WHITESPACE"," ",928],"(",["T_STRING","is_string",928],"(",["T_VARIABLE","$text",928],")",")",["T_WHITESPACE"," ",928],"{",["T_WHITESPACE","\n            ",928],["T_VARIABLE","$this",929],["T_OBJECT_OPERATOR","->",929],["T_STRING","_titles",929],"[","]",["T_WHITESPACE"," ",929],"=",["T_WHITESPACE"," ",929],["T_VARIABLE","$text",929],";",["T_WHITESPACE","\n        ",929],"}",["T_WHITESPACE"," ",930],["T_ELSEIF","elseif",930],["T_WHITESPACE"," ",930],"(","-",["T_LNUMBER","1",930],["T_WHITESPACE"," ",930],["T_IS_IDENTICAL","===",930],["T_WHITESPACE"," ",930],["T_VARIABLE","$text",930],")",["T_WHITESPACE"," ",930],"{",["T_WHITESPACE","\n            ",930],["T_IF","if",931],["T_WHITESPACE"," ",931],"(",["T_EMPTY","empty",931],"(",["T_VARIABLE","$this",931],["T_OBJECT_OPERATOR","->",931],["T_STRING","_titles",931],")",")",["T_WHITESPACE"," ",931],"{",["T_WHITESPACE","\n                ",931],["T_VARIABLE","$this",932],["T_OBJECT_OPERATOR","->",932],["T_STRING","_removeDefaultTitle",932],["T_WHITESPACE"," ",932],"=",["T_WHITESPACE"," ",932],["T_STRING","true",932],";",["T_WHITESPACE","\n            ",932],"}",["T_WHITESPACE"," ",933],["T_ELSE","else",933],["T_WHITESPACE"," ",933],"{",["T_WHITESPACE","\n                ",933],["T_STRING","array_pop",934],"(",["T_VARIABLE","$this",934],["T_OBJECT_OPERATOR","->",934],["T_STRING","_titles",934],")",";",["T_WHITESPACE","\n            ",934],"}",["T_WHITESPACE","\n        ",935],"}",["T_WHITESPACE"," ",936],["T_ELSEIF","elseif",936],["T_WHITESPACE"," ",936],"(",["T_EMPTY","empty",936],"(",["T_VARIABLE","$this",936],["T_OBJECT_OPERATOR","->",936],["T_STRING","_titles",936],")",["T_WHITESPACE"," ",936],["T_BOOLEAN_OR","||",936],["T_WHITESPACE"," ",936],["T_VARIABLE","$resetIfExists",936],")",["T_WHITESPACE"," ",936],"{",["T_WHITESPACE","\n            ",936],["T_IF","if",937],["T_WHITESPACE"," ",937],"(",["T_STRING","false",937],["T_WHITESPACE"," ",937],["T_IS_IDENTICAL","===",937],["T_WHITESPACE"," ",937],["T_VARIABLE","$text",937],")",["T_WHITESPACE"," ",937],"{",["T_WHITESPACE","\n                ",937],["T_VARIABLE","$this",938],["T_OBJECT_OPERATOR","->",938],["T_STRING","_removeDefaultTitle",938],["T_WHITESPACE"," ",938],"=",["T_WHITESPACE"," ",938],["T_STRING","false",938],";",["T_WHITESPACE","\n                ",938],["T_VARIABLE","$this",939],["T_OBJECT_OPERATOR","->",939],["T_STRING","_titles",939],["T_WHITESPACE"," ",939],"=",["T_WHITESPACE"," ",939],["T_ARRAY","array",939],"(",")",";",["T_WHITESPACE","\n            ",939],"}",["T_WHITESPACE"," ",940],["T_ELSEIF","elseif",940],["T_WHITESPACE"," ",940],"(",["T_STRING","null",940],["T_WHITESPACE"," ",940],["T_IS_IDENTICAL","===",940],["T_WHITESPACE"," ",940],["T_VARIABLE","$text",940],")",["T_WHITESPACE"," ",940],"{",["T_WHITESPACE","\n                ",940],["T_VARIABLE","$this",941],["T_OBJECT_OPERATOR","->",941],["T_STRING","_removeDefaultTitle",941],["T_WHITESPACE"," ",941],"=",["T_WHITESPACE"," ",941],["T_STRING","true",941],";",["T_WHITESPACE","\n                ",941],["T_VARIABLE","$this",942],["T_OBJECT_OPERATOR","->",942],["T_STRING","_titles",942],["T_WHITESPACE"," ",942],"=",["T_WHITESPACE"," ",942],["T_ARRAY","array",942],"(",")",";",["T_WHITESPACE","\n            ",942],"}",["T_WHITESPACE","\n        ",943],"}",["T_WHITESPACE","\n        ",944],["T_RETURN","return",945],["T_WHITESPACE"," ",945],["T_VARIABLE","$this",945],";",["T_WHITESPACE","\n    ",945],"}",["T_WHITESPACE","\n\n    ",946],["T_DOC_COMMENT","\/**\n     * Prepare titles in the 'head' layout block\n     * Supposed to work only in actions where layout is rendered\n     * Falls back to the default logic if there are no titles eventually\n     *\n     * @see self::loadLayout()\n     * @see self::renderLayout()\n     *\/",948],["T_WHITESPACE","\n    ",955],["T_PROTECTED","protected",956],["T_WHITESPACE"," ",956],["T_FUNCTION","function",956],["T_WHITESPACE"," ",956],["T_STRING","_renderTitles",956],"(",")",["T_WHITESPACE","\n    ",956],"{",["T_WHITESPACE","\n        ",957],["T_IF","if",958],["T_WHITESPACE"," ",958],"(",["T_VARIABLE","$this",958],["T_OBJECT_OPERATOR","->",958],["T_STRING","_isLayoutLoaded",958],["T_WHITESPACE"," ",958],["T_BOOLEAN_AND","&&",958],["T_WHITESPACE"," ",958],["T_VARIABLE","$this",958],["T_OBJECT_OPERATOR","->",958],["T_STRING","_titles",958],")",["T_WHITESPACE"," ",958],"{",["T_WHITESPACE","\n            ",958],["T_VARIABLE","$titleBlock",959],["T_WHITESPACE"," ",959],"=",["T_WHITESPACE"," ",959],["T_VARIABLE","$this",959],["T_OBJECT_OPERATOR","->",959],["T_STRING","getLayout",959],"(",")",["T_OBJECT_OPERATOR","->",959],["T_STRING","getBlock",959],"(",["T_CONSTANT_ENCAPSED_STRING","'head'",959],")",";",["T_WHITESPACE","\n            ",959],["T_IF","if",960],["T_WHITESPACE"," ",960],"(",["T_VARIABLE","$titleBlock",960],")",["T_WHITESPACE"," ",960],"{",["T_WHITESPACE","\n                ",960],["T_IF","if",961],["T_WHITESPACE"," ",961],"(","!",["T_VARIABLE","$this",961],["T_OBJECT_OPERATOR","->",961],["T_STRING","_removeDefaultTitle",961],")",["T_WHITESPACE"," ",961],"{",["T_WHITESPACE","\n                    ",961],["T_VARIABLE","$title",962],["T_WHITESPACE"," ",962],"=",["T_WHITESPACE"," ",962],["T_STRING","trim",962],"(",["T_VARIABLE","$titleBlock",962],["T_OBJECT_OPERATOR","->",962],["T_STRING","getTitle",962],"(",")",")",";",["T_WHITESPACE","\n                    ",962],["T_IF","if",963],["T_WHITESPACE"," ",963],"(",["T_VARIABLE","$title",963],")",["T_WHITESPACE"," ",963],"{",["T_WHITESPACE","\n                        ",963],["T_STRING","array_unshift",964],"(",["T_VARIABLE","$this",964],["T_OBJECT_OPERATOR","->",964],["T_STRING","_titles",964],",",["T_WHITESPACE"," ",964],["T_VARIABLE","$title",964],")",";",["T_WHITESPACE","\n                    ",964],"}",["T_WHITESPACE","\n                ",965],"}",["T_WHITESPACE","\n                ",966],["T_VARIABLE","$titleBlock",967],["T_OBJECT_OPERATOR","->",967],["T_STRING","setTitle",967],"(",["T_STRING","implode",967],"(",["T_CONSTANT_ENCAPSED_STRING","' \/ '",967],",",["T_WHITESPACE"," ",967],["T_STRING","array_reverse",967],"(",["T_VARIABLE","$this",967],["T_OBJECT_OPERATOR","->",967],["T_STRING","_titles",967],")",")",")",";",["T_WHITESPACE","\n            ",967],"}",["T_WHITESPACE","\n        ",968],"}",["T_WHITESPACE","\n    ",969],"}",["T_WHITESPACE","\n\n    ",970],["T_DOC_COMMENT","\/**\n     * Convert dates in array from localized to internal format\n     *\n     * @param   array $array\n     * @param   array $dateFields\n     * @return  array\n     *\/",972],["T_WHITESPACE","\n    ",978],["T_PROTECTED","protected",979],["T_WHITESPACE"," ",979],["T_FUNCTION","function",979],["T_WHITESPACE"," ",979],["T_STRING","_filterDates",979],"(",["T_VARIABLE","$array",979],",",["T_WHITESPACE"," ",979],["T_VARIABLE","$dateFields",979],")",["T_WHITESPACE","\n    ",979],"{",["T_WHITESPACE","\n        ",980],["T_IF","if",981],["T_WHITESPACE"," ",981],"(",["T_EMPTY","empty",981],"(",["T_VARIABLE","$dateFields",981],")",")",["T_WHITESPACE"," ",981],"{",["T_WHITESPACE","\n            ",981],["T_RETURN","return",982],["T_WHITESPACE"," ",982],["T_VARIABLE","$array",982],";",["T_WHITESPACE","\n        ",982],"}",["T_WHITESPACE","\n        ",983],["T_VARIABLE","$filterInput",984],["T_WHITESPACE"," ",984],"=",["T_WHITESPACE"," ",984],["T_NEW","new",984],["T_WHITESPACE"," ",984],["T_STRING","Zend_Filter_LocalizedToNormalized",984],"(",["T_ARRAY","array",984],"(",["T_WHITESPACE","\n            ",984],["T_CONSTANT_ENCAPSED_STRING","'date_format'",985],["T_WHITESPACE"," ",985],["T_DOUBLE_ARROW","=>",985],["T_WHITESPACE"," ",985],["T_STRING","Mage",985],["T_DOUBLE_COLON","::",985],["T_STRING","app",985],"(",")",["T_OBJECT_OPERATOR","->",985],["T_STRING","getLocale",985],"(",")",["T_OBJECT_OPERATOR","->",985],["T_STRING","getDateFormat",985],"(",["T_STRING","Mage_Core_Model_Locale",985],["T_DOUBLE_COLON","::",985],["T_STRING","FORMAT_TYPE_SHORT",985],")",["T_WHITESPACE","\n        ",985],")",")",";",["T_WHITESPACE","\n        ",986],["T_VARIABLE","$filterInternal",987],["T_WHITESPACE"," ",987],"=",["T_WHITESPACE"," ",987],["T_NEW","new",987],["T_WHITESPACE"," ",987],["T_STRING","Zend_Filter_NormalizedToLocalized",987],"(",["T_ARRAY","array",987],"(",["T_WHITESPACE","\n            ",987],["T_CONSTANT_ENCAPSED_STRING","'date_format'",988],["T_WHITESPACE"," ",988],["T_DOUBLE_ARROW","=>",988],["T_WHITESPACE"," ",988],["T_STRING","Varien_Date",988],["T_DOUBLE_COLON","::",988],["T_STRING","DATE_INTERNAL_FORMAT",988],["T_WHITESPACE","\n        ",988],")",")",";",["T_WHITESPACE","\n\n        ",989],["T_FOREACH","foreach",991],["T_WHITESPACE"," ",991],"(",["T_VARIABLE","$dateFields",991],["T_WHITESPACE"," ",991],["T_AS","as",991],["T_WHITESPACE"," ",991],["T_VARIABLE","$dateField",991],")",["T_WHITESPACE"," ",991],"{",["T_WHITESPACE","\n            ",991],["T_IF","if",992],["T_WHITESPACE"," ",992],"(",["T_STRING","array_key_exists",992],"(",["T_VARIABLE","$dateField",992],",",["T_WHITESPACE"," ",992],["T_VARIABLE","$array",992],")",["T_WHITESPACE"," ",992],["T_BOOLEAN_AND","&&",992],["T_WHITESPACE"," ",992],"!",["T_EMPTY","empty",992],"(",["T_VARIABLE","$dateField",992],")",")",["T_WHITESPACE"," ",992],"{",["T_WHITESPACE","\n                ",992],["T_VARIABLE","$array",993],"[",["T_VARIABLE","$dateField",993],"]",["T_WHITESPACE"," ",993],"=",["T_WHITESPACE"," ",993],["T_VARIABLE","$filterInput",993],["T_OBJECT_OPERATOR","->",993],["T_STRING","filter",993],"(",["T_VARIABLE","$array",993],"[",["T_VARIABLE","$dateField",993],"]",")",";",["T_WHITESPACE","\n                ",993],["T_VARIABLE","$array",994],"[",["T_VARIABLE","$dateField",994],"]",["T_WHITESPACE"," ",994],"=",["T_WHITESPACE"," ",994],["T_VARIABLE","$filterInternal",994],["T_OBJECT_OPERATOR","->",994],["T_STRING","filter",994],"(",["T_VARIABLE","$array",994],"[",["T_VARIABLE","$dateField",994],"]",")",";",["T_WHITESPACE","\n            ",994],"}",["T_WHITESPACE","\n        ",995],"}",["T_WHITESPACE","\n        ",996],["T_RETURN","return",997],["T_WHITESPACE"," ",997],["T_VARIABLE","$array",997],";",["T_WHITESPACE","\n    ",997],"}",["T_WHITESPACE","\n\n    ",998],["T_DOC_COMMENT","\/**\n     * Convert dates with time in array from localized to internal format\n     *\n     * @param   array $array\n     * @param   array $dateFields\n     * @return  array\n     *\/",1000],["T_WHITESPACE","\n    ",1006],["T_PROTECTED","protected",1007],["T_WHITESPACE"," ",1007],["T_FUNCTION","function",1007],["T_WHITESPACE"," ",1007],["T_STRING","_filterDateTime",1007],"(",["T_VARIABLE","$array",1007],",",["T_WHITESPACE"," ",1007],["T_VARIABLE","$dateFields",1007],")",["T_WHITESPACE","\n    ",1007],"{",["T_WHITESPACE","\n        ",1008],["T_IF","if",1009],["T_WHITESPACE"," ",1009],"(",["T_EMPTY","empty",1009],"(",["T_VARIABLE","$dateFields",1009],")",")",["T_WHITESPACE"," ",1009],"{",["T_WHITESPACE","\n            ",1009],["T_RETURN","return",1010],["T_WHITESPACE"," ",1010],["T_VARIABLE","$array",1010],";",["T_WHITESPACE","\n        ",1010],"}",["T_WHITESPACE","\n        ",1011],["T_VARIABLE","$filterInput",1012],["T_WHITESPACE"," ",1012],"=",["T_WHITESPACE"," ",1012],["T_NEW","new",1012],["T_WHITESPACE"," ",1012],["T_STRING","Zend_Filter_LocalizedToNormalized",1012],"(",["T_ARRAY","array",1012],"(",["T_WHITESPACE","\n            ",1012],["T_CONSTANT_ENCAPSED_STRING","'date_format'",1013],["T_WHITESPACE"," ",1013],["T_DOUBLE_ARROW","=>",1013],["T_WHITESPACE"," ",1013],["T_STRING","Mage",1013],["T_DOUBLE_COLON","::",1013],["T_STRING","app",1013],"(",")",["T_OBJECT_OPERATOR","->",1013],["T_STRING","getLocale",1013],"(",")",["T_OBJECT_OPERATOR","->",1013],["T_STRING","getDateTimeFormat",1013],"(",["T_STRING","Mage_Core_Model_Locale",1013],["T_DOUBLE_COLON","::",1013],["T_STRING","FORMAT_TYPE_SHORT",1013],")",["T_WHITESPACE","\n        ",1013],")",")",";",["T_WHITESPACE","\n        ",1014],["T_VARIABLE","$filterInternal",1015],["T_WHITESPACE"," ",1015],"=",["T_WHITESPACE"," ",1015],["T_NEW","new",1015],["T_WHITESPACE"," ",1015],["T_STRING","Zend_Filter_NormalizedToLocalized",1015],"(",["T_ARRAY","array",1015],"(",["T_WHITESPACE","\n            ",1015],["T_CONSTANT_ENCAPSED_STRING","'date_format'",1016],["T_WHITESPACE"," ",1016],["T_DOUBLE_ARROW","=>",1016],["T_WHITESPACE"," ",1016],["T_STRING","Varien_Date",1016],["T_DOUBLE_COLON","::",1016],["T_STRING","DATETIME_INTERNAL_FORMAT",1016],["T_WHITESPACE","\n        ",1016],")",")",";",["T_WHITESPACE","\n\n        ",1017],["T_FOREACH","foreach",1019],["T_WHITESPACE"," ",1019],"(",["T_VARIABLE","$dateFields",1019],["T_WHITESPACE"," ",1019],["T_AS","as",1019],["T_WHITESPACE"," ",1019],["T_VARIABLE","$dateField",1019],")",["T_WHITESPACE"," ",1019],"{",["T_WHITESPACE","\n            ",1019],["T_IF","if",1020],["T_WHITESPACE"," ",1020],"(",["T_STRING","array_key_exists",1020],"(",["T_VARIABLE","$dateField",1020],",",["T_WHITESPACE"," ",1020],["T_VARIABLE","$array",1020],")",["T_WHITESPACE"," ",1020],["T_BOOLEAN_AND","&&",1020],["T_WHITESPACE"," ",1020],"!",["T_EMPTY","empty",1020],"(",["T_VARIABLE","$dateField",1020],")",")",["T_WHITESPACE"," ",1020],"{",["T_WHITESPACE","\n                ",1020],["T_VARIABLE","$array",1021],"[",["T_VARIABLE","$dateField",1021],"]",["T_WHITESPACE"," ",1021],"=",["T_WHITESPACE"," ",1021],["T_VARIABLE","$filterInput",1021],["T_OBJECT_OPERATOR","->",1021],["T_STRING","filter",1021],"(",["T_VARIABLE","$array",1021],"[",["T_VARIABLE","$dateField",1021],"]",")",";",["T_WHITESPACE","\n                ",1021],["T_VARIABLE","$array",1022],"[",["T_VARIABLE","$dateField",1022],"]",["T_WHITESPACE"," ",1022],"=",["T_WHITESPACE"," ",1022],["T_VARIABLE","$filterInternal",1022],["T_OBJECT_OPERATOR","->",1022],["T_STRING","filter",1022],"(",["T_VARIABLE","$array",1022],"[",["T_VARIABLE","$dateField",1022],"]",")",";",["T_WHITESPACE","\n            ",1022],"}",["T_WHITESPACE","\n        ",1023],"}",["T_WHITESPACE","\n        ",1024],["T_RETURN","return",1025],["T_WHITESPACE"," ",1025],["T_VARIABLE","$array",1025],";",["T_WHITESPACE","\n    ",1025],"}",["T_WHITESPACE","\n\n    ",1026],["T_DOC_COMMENT","\/**\n     * Declare headers and content file in response for file download\n     *\n     * @param string $fileName\n     * @param string|array $content set to null to avoid starting output, $contentLength should be set explicitly in\n     *                              that case\n     * @param string $contentType\n     * @param int $contentLength    explicit content length, if strlen($content) isn't applicable\n     * @return Mage_Core_Controller_Varien_Action\n     *\/",1028],["T_WHITESPACE","\n    ",1037],["T_PROTECTED","protected",1038],["T_WHITESPACE"," ",1038],["T_FUNCTION","function",1038],["T_WHITESPACE"," ",1038],["T_STRING","_prepareDownloadResponse",1038],"(",["T_WHITESPACE","\n        ",1038],["T_VARIABLE","$fileName",1039],",",["T_WHITESPACE","\n        ",1039],["T_VARIABLE","$content",1040],",",["T_WHITESPACE","\n        ",1040],["T_VARIABLE","$contentType",1041],["T_WHITESPACE"," ",1041],"=",["T_WHITESPACE"," ",1041],["T_CONSTANT_ENCAPSED_STRING","'application\/octet-stream'",1041],",",["T_WHITESPACE","\n        ",1041],["T_VARIABLE","$contentLength",1042],["T_WHITESPACE"," ",1042],"=",["T_WHITESPACE"," ",1042],["T_STRING","null",1042],")",["T_WHITESPACE","\n    ",1042],"{",["T_WHITESPACE","\n        ",1043],["T_VARIABLE","$session",1044],["T_WHITESPACE"," ",1044],"=",["T_WHITESPACE"," ",1044],["T_STRING","Mage",1044],["T_DOUBLE_COLON","::",1044],["T_STRING","getSingleton",1044],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/session'",1044],")",";",["T_WHITESPACE","\n        ",1044],["T_IF","if",1045],["T_WHITESPACE"," ",1045],"(",["T_VARIABLE","$session",1045],["T_OBJECT_OPERATOR","->",1045],["T_STRING","isFirstPageAfterLogin",1045],"(",")",")",["T_WHITESPACE"," ",1045],"{",["T_WHITESPACE","\n            ",1045],["T_VARIABLE","$this",1046],["T_OBJECT_OPERATOR","->",1046],["T_STRING","_redirect",1046],"(",["T_VARIABLE","$session",1046],["T_OBJECT_OPERATOR","->",1046],["T_STRING","getUser",1046],"(",")",["T_OBJECT_OPERATOR","->",1046],["T_STRING","getStartupPageUrl",1046],"(",")",")",";",["T_WHITESPACE","\n            ",1046],["T_RETURN","return",1047],["T_WHITESPACE"," ",1047],["T_VARIABLE","$this",1047],";",["T_WHITESPACE","\n        ",1047],"}",["T_WHITESPACE","\n\n        ",1048],["T_VARIABLE","$isFile",1050],["T_WHITESPACE"," ",1050],"=",["T_WHITESPACE"," ",1050],["T_STRING","false",1050],";",["T_WHITESPACE","\n        ",1050],["T_VARIABLE","$file",1051],["T_WHITESPACE","   ",1051],"=",["T_WHITESPACE"," ",1051],["T_STRING","null",1051],";",["T_WHITESPACE","\n        ",1051],["T_IF","if",1052],["T_WHITESPACE"," ",1052],"(",["T_STRING","is_array",1052],"(",["T_VARIABLE","$content",1052],")",")",["T_WHITESPACE"," ",1052],"{",["T_WHITESPACE","\n            ",1052],["T_IF","if",1053],["T_WHITESPACE"," ",1053],"(","!",["T_ISSET","isset",1053],"(",["T_VARIABLE","$content",1053],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",1053],"]",")",["T_WHITESPACE"," ",1053],["T_BOOLEAN_OR","||",1053],["T_WHITESPACE"," ",1053],"!",["T_ISSET","isset",1053],"(",["T_VARIABLE","$content",1053],"[",["T_CONSTANT_ENCAPSED_STRING","'value'",1053],"]",")",")",["T_WHITESPACE"," ",1053],"{",["T_WHITESPACE","\n                ",1053],["T_RETURN","return",1054],["T_WHITESPACE"," ",1054],["T_VARIABLE","$this",1054],";",["T_WHITESPACE","\n            ",1054],"}",["T_WHITESPACE","\n            ",1055],["T_IF","if",1056],["T_WHITESPACE"," ",1056],"(",["T_VARIABLE","$content",1056],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",1056],"]",["T_WHITESPACE"," ",1056],["T_IS_EQUAL","==",1056],["T_WHITESPACE"," ",1056],["T_CONSTANT_ENCAPSED_STRING","'filename'",1056],")",["T_WHITESPACE"," ",1056],"{",["T_WHITESPACE","\n                ",1056],["T_STRING","clearstatcache",1057],"(",")",";",["T_WHITESPACE","\n                ",1057],["T_VARIABLE","$isFile",1058],["T_WHITESPACE","         ",1058],"=",["T_WHITESPACE"," ",1058],["T_STRING","true",1058],";",["T_WHITESPACE","\n                ",1058],["T_VARIABLE","$file",1059],["T_WHITESPACE","           ",1059],"=",["T_WHITESPACE"," ",1059],["T_VARIABLE","$content",1059],"[",["T_CONSTANT_ENCAPSED_STRING","'value'",1059],"]",";",["T_WHITESPACE","\n                ",1059],["T_VARIABLE","$contentLength",1060],["T_WHITESPACE","  ",1060],"=",["T_WHITESPACE"," ",1060],["T_STRING","filesize",1060],"(",["T_VARIABLE","$file",1060],")",";",["T_WHITESPACE","\n            ",1060],"}",["T_WHITESPACE","\n        ",1061],"}",["T_WHITESPACE","\n\n        ",1062],["T_VARIABLE","$this",1064],["T_OBJECT_OPERATOR","->",1064],["T_STRING","getResponse",1064],"(",")",["T_WHITESPACE","\n            ",1064],["T_OBJECT_OPERATOR","->",1065],["T_STRING","setHttpResponseCode",1065],"(",["T_LNUMBER","200",1065],")",["T_WHITESPACE","\n            ",1065],["T_OBJECT_OPERATOR","->",1066],["T_STRING","setHeader",1066],"(",["T_CONSTANT_ENCAPSED_STRING","'Pragma'",1066],",",["T_WHITESPACE"," ",1066],["T_CONSTANT_ENCAPSED_STRING","'public'",1066],",",["T_WHITESPACE"," ",1066],["T_STRING","true",1066],")",["T_WHITESPACE","\n            ",1066],["T_OBJECT_OPERATOR","->",1067],["T_STRING","setHeader",1067],"(",["T_CONSTANT_ENCAPSED_STRING","'Cache-Control'",1067],",",["T_WHITESPACE"," ",1067],["T_CONSTANT_ENCAPSED_STRING","'must-revalidate, post-check=0, pre-check=0'",1067],",",["T_WHITESPACE"," ",1067],["T_STRING","true",1067],")",["T_WHITESPACE","\n            ",1067],["T_OBJECT_OPERATOR","->",1068],["T_STRING","setHeader",1068],"(",["T_CONSTANT_ENCAPSED_STRING","'Content-type'",1068],",",["T_WHITESPACE"," ",1068],["T_VARIABLE","$contentType",1068],",",["T_WHITESPACE"," ",1068],["T_STRING","true",1068],")",["T_WHITESPACE","\n            ",1068],["T_OBJECT_OPERATOR","->",1069],["T_STRING","setHeader",1069],"(",["T_CONSTANT_ENCAPSED_STRING","'Content-Length'",1069],",",["T_WHITESPACE"," ",1069],["T_STRING","is_null",1069],"(",["T_VARIABLE","$contentLength",1069],")",["T_WHITESPACE"," ",1069],"?",["T_WHITESPACE"," ",1069],["T_STRING","strlen",1069],"(",["T_VARIABLE","$content",1069],")",["T_WHITESPACE"," ",1069],":",["T_WHITESPACE"," ",1069],["T_VARIABLE","$contentLength",1069],",",["T_WHITESPACE"," ",1069],["T_STRING","true",1069],")",["T_WHITESPACE","\n            ",1069],["T_OBJECT_OPERATOR","->",1070],["T_STRING","setHeader",1070],"(",["T_CONSTANT_ENCAPSED_STRING","'Content-Disposition'",1070],",",["T_WHITESPACE"," ",1070],["T_CONSTANT_ENCAPSED_STRING","'attachment; filename=\"'",1070],".",["T_VARIABLE","$fileName",1070],".",["T_CONSTANT_ENCAPSED_STRING","'\"'",1070],",",["T_WHITESPACE"," ",1070],["T_STRING","true",1070],")",["T_WHITESPACE","\n            ",1070],["T_OBJECT_OPERATOR","->",1071],["T_STRING","setHeader",1071],"(",["T_CONSTANT_ENCAPSED_STRING","'Last-Modified'",1071],",",["T_WHITESPACE"," ",1071],["T_STRING","date",1071],"(",["T_CONSTANT_ENCAPSED_STRING","'r'",1071],")",",",["T_WHITESPACE"," ",1071],["T_STRING","true",1071],")",";",["T_WHITESPACE","\n\n        ",1071],["T_IF","if",1073],["T_WHITESPACE"," ",1073],"(","!",["T_STRING","is_null",1073],"(",["T_VARIABLE","$content",1073],")",")",["T_WHITESPACE"," ",1073],"{",["T_WHITESPACE","\n            ",1073],["T_IF","if",1074],["T_WHITESPACE"," ",1074],"(",["T_VARIABLE","$isFile",1074],")",["T_WHITESPACE"," ",1074],"{",["T_WHITESPACE","\n                ",1074],["T_VARIABLE","$this",1075],["T_OBJECT_OPERATOR","->",1075],["T_STRING","getResponse",1075],"(",")",["T_OBJECT_OPERATOR","->",1075],["T_STRING","clearBody",1075],"(",")",";",["T_WHITESPACE","\n                ",1075],["T_VARIABLE","$this",1076],["T_OBJECT_OPERATOR","->",1076],["T_STRING","getResponse",1076],"(",")",["T_OBJECT_OPERATOR","->",1076],["T_STRING","sendHeaders",1076],"(",")",";",["T_WHITESPACE","\n\n                ",1076],["T_VARIABLE","$ioAdapter",1078],["T_WHITESPACE"," ",1078],"=",["T_WHITESPACE"," ",1078],["T_NEW","new",1078],["T_WHITESPACE"," ",1078],["T_STRING","Varien_Io_File",1078],"(",")",";",["T_WHITESPACE","\n                ",1078],["T_VARIABLE","$ioAdapter",1079],["T_OBJECT_OPERATOR","->",1079],["T_STRING","open",1079],"(",["T_ARRAY","array",1079],"(",["T_CONSTANT_ENCAPSED_STRING","'path'",1079],["T_WHITESPACE"," ",1079],["T_DOUBLE_ARROW","=>",1079],["T_WHITESPACE"," ",1079],["T_VARIABLE","$ioAdapter",1079],["T_OBJECT_OPERATOR","->",1079],["T_STRING","dirname",1079],"(",["T_VARIABLE","$file",1079],")",")",")",";",["T_WHITESPACE","\n                ",1079],["T_VARIABLE","$ioAdapter",1080],["T_OBJECT_OPERATOR","->",1080],["T_STRING","streamOpen",1080],"(",["T_VARIABLE","$file",1080],",",["T_WHITESPACE"," ",1080],["T_CONSTANT_ENCAPSED_STRING","'r'",1080],")",";",["T_WHITESPACE","\n                ",1080],["T_WHILE","while",1081],["T_WHITESPACE"," ",1081],"(",["T_VARIABLE","$buffer",1081],["T_WHITESPACE"," ",1081],"=",["T_WHITESPACE"," ",1081],["T_VARIABLE","$ioAdapter",1081],["T_OBJECT_OPERATOR","->",1081],["T_STRING","streamRead",1081],"(",")",")",["T_WHITESPACE"," ",1081],"{",["T_WHITESPACE","\n                    ",1081],["T_PRINT","print",1082],["T_WHITESPACE"," ",1082],["T_VARIABLE","$buffer",1082],";",["T_WHITESPACE","\n                ",1082],"}",["T_WHITESPACE","\n                ",1083],["T_VARIABLE","$ioAdapter",1084],["T_OBJECT_OPERATOR","->",1084],["T_STRING","streamClose",1084],"(",")",";",["T_WHITESPACE","\n                ",1084],["T_IF","if",1085],["T_WHITESPACE"," ",1085],"(","!",["T_EMPTY","empty",1085],"(",["T_VARIABLE","$content",1085],"[",["T_CONSTANT_ENCAPSED_STRING","'rm'",1085],"]",")",")",["T_WHITESPACE"," ",1085],"{",["T_WHITESPACE","\n                    ",1085],["T_VARIABLE","$ioAdapter",1086],["T_OBJECT_OPERATOR","->",1086],["T_STRING","rm",1086],"(",["T_VARIABLE","$file",1086],")",";",["T_WHITESPACE","\n                ",1086],"}",["T_WHITESPACE","\n\n                ",1087],["T_EXIT","exit",1089],"(",["T_LNUMBER","0",1089],")",";",["T_WHITESPACE","\n            ",1089],"}",["T_WHITESPACE"," ",1090],["T_ELSE","else",1090],["T_WHITESPACE"," ",1090],"{",["T_WHITESPACE","\n                ",1090],["T_VARIABLE","$this",1091],["T_OBJECT_OPERATOR","->",1091],["T_STRING","getResponse",1091],"(",")",["T_OBJECT_OPERATOR","->",1091],["T_STRING","setBody",1091],"(",["T_VARIABLE","$content",1091],")",";",["T_WHITESPACE","\n            ",1091],"}",["T_WHITESPACE","\n        ",1092],"}",["T_WHITESPACE","\n        ",1093],["T_RETURN","return",1094],["T_WHITESPACE"," ",1094],["T_VARIABLE","$this",1094],";",["T_WHITESPACE","\n    ",1094],"}",["T_WHITESPACE","\n",1095],"}",["T_WHITESPACE","\n",1096]]