[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Magento\n *\n * NOTICE OF LICENSE\n *\n * This source file is subject to the Open Software License (OSL 3.0)\n * that is bundled with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/opensource.org\/licenses\/osl-3.0.php\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@magento.com so we can send you a copy immediately.\n *\n * DISCLAIMER\n *\n * Do not edit or add to this file if you wish to upgrade Magento to newer\n * versions in the future. If you wish to customize Magento for your\n * needs please refer to http:\/\/www.magento.com for more information.\n *\n * @category    Mage\n * @package     Mage_Core\n * @copyright  Copyright (c) 2006-2016 X.commerce, Inc. and affiliates (http:\/\/www.magento.com)\n * @license    http:\/\/opensource.org\/licenses\/osl-3.0.php  Open Software License (OSL 3.0)\n *\/",2],["T_WHITESPACE","\n\n",25],["T_DOC_COMMENT","\/**\n * JavaScript helper\n *\n * @author      Magento Core Team <core@magentocommerce.com>\n *\/",27],["T_WHITESPACE","\n",31],["T_CLASS","class",32],["T_WHITESPACE"," ",32],["T_STRING","Mage_Core_Helper_Js",32],["T_WHITESPACE"," ",32],["T_EXTENDS","extends",32],["T_WHITESPACE"," ",32],["T_STRING","Mage_Core_Helper_Abstract",32],["T_WHITESPACE","\n",32],"{",["T_WHITESPACE","\n    ",33],["T_DOC_COMMENT","\/**\n     * Key for cache\n     *\/",34],["T_WHITESPACE","\n    ",36],["T_CONST","const",37],["T_WHITESPACE"," ",37],["T_STRING","JAVASCRIPT_TRANSLATE_CONFIG_KEY",37],["T_WHITESPACE"," ",37],"=",["T_WHITESPACE"," ",37],["T_CONSTANT_ENCAPSED_STRING","'javascript_translate_config'",37],";",["T_WHITESPACE","\n\n    ",37],["T_DOC_COMMENT","\/**\n     * Translate file name\n     *\/",39],["T_WHITESPACE","\n    ",41],["T_CONST","const",42],["T_WHITESPACE"," ",42],["T_STRING","JAVASCRIPT_TRANSLATE_CONFIG_FILENAME",42],["T_WHITESPACE"," ",42],"=",["T_WHITESPACE"," ",42],["T_CONSTANT_ENCAPSED_STRING","'jstranslator.xml'",42],";",["T_WHITESPACE","\n\n    ",42],["T_DOC_COMMENT","\/**\n     * Array of senteces of JS translations\n     *\n     * @var array\n     *\/",44],["T_WHITESPACE","\n    ",48],["T_PROTECTED","protected",49],["T_WHITESPACE"," ",49],["T_VARIABLE","$_translateData",49],["T_WHITESPACE"," ",49],"=",["T_WHITESPACE"," ",49],["T_STRING","null",49],";",["T_WHITESPACE","\n\n    ",49],["T_DOC_COMMENT","\/**\n     * Translate config\n     *\n     * @var Varien_Simplexml_Config\n     *\/",51],["T_WHITESPACE","\n    ",55],["T_PROTECTED","protected",56],["T_WHITESPACE"," ",56],["T_VARIABLE","$_config",56],["T_WHITESPACE"," ",56],"=",["T_WHITESPACE"," ",56],["T_STRING","null",56],";",["T_WHITESPACE","\n\n    ",56],["T_DOC_COMMENT","\/**\n     * Retrieve JSON of JS sentences translation\n     *\n     * @return string\n     *\/",58],["T_WHITESPACE","\n    ",62],["T_PUBLIC","public",63],["T_WHITESPACE"," ",63],["T_FUNCTION","function",63],["T_WHITESPACE"," ",63],["T_STRING","getTranslateJson",63],"(",")",["T_WHITESPACE","\n    ",63],"{",["T_WHITESPACE","\n        ",64],["T_RETURN","return",65],["T_WHITESPACE"," ",65],["T_STRING","Mage",65],["T_DOUBLE_COLON","::",65],["T_STRING","helper",65],"(",["T_CONSTANT_ENCAPSED_STRING","'core'",65],")",["T_OBJECT_OPERATOR","->",65],["T_STRING","jsonEncode",65],"(",["T_VARIABLE","$this",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","_getTranslateData",65],"(",")",")",";",["T_WHITESPACE","\n    ",65],"}",["T_WHITESPACE","\n\n    ",66],["T_DOC_COMMENT","\/**\n     * Retrieve JS translator initialization javascript\n     *\n     * @return string\n     *\/",68],["T_WHITESPACE","\n    ",72],["T_PUBLIC","public",73],["T_WHITESPACE"," ",73],["T_FUNCTION","function",73],["T_WHITESPACE"," ",73],["T_STRING","getTranslatorScript",73],"(",")",["T_WHITESPACE","\n    ",73],"{",["T_WHITESPACE","\n        ",74],["T_VARIABLE","$script",75],["T_WHITESPACE"," ",75],"=",["T_WHITESPACE"," ",75],["T_CONSTANT_ENCAPSED_STRING","'var Translator = new Translate('",75],".",["T_VARIABLE","$this",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","getTranslateJson",75],"(",")",".",["T_CONSTANT_ENCAPSED_STRING","');'",75],";",["T_WHITESPACE","\n        ",75],["T_RETURN","return",76],["T_WHITESPACE"," ",76],["T_VARIABLE","$this",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","getScript",76],"(",["T_VARIABLE","$script",76],")",";",["T_WHITESPACE","\n    ",76],"}",["T_WHITESPACE","\n\n    ",77],["T_DOC_COMMENT","\/**\n     * Retrieve framed javascript\n     *\n     * @param   string $script\n     * @return  script\n     *\/",79],["T_WHITESPACE","\n    ",84],["T_PUBLIC","public",85],["T_WHITESPACE"," ",85],["T_FUNCTION","function",85],["T_WHITESPACE"," ",85],["T_STRING","getScript",85],"(",["T_VARIABLE","$script",85],")",["T_WHITESPACE","\n    ",85],"{",["T_WHITESPACE","\n        ",86],["T_RETURN","return",87],["T_WHITESPACE"," ",87],["T_CONSTANT_ENCAPSED_STRING","'<script type=\"text\/javascript\">\/\/<![CDATA[\n        '",87],".",["T_VARIABLE","$script",88],".",["T_CONSTANT_ENCAPSED_STRING","'\n        \/\/]]><\/script>'",88],";",["T_WHITESPACE","\n    ",89],"}",["T_WHITESPACE","\n\n    ",90],["T_DOC_COMMENT","\/**\n     * Retrieve javascript include code\n     *\n     * @param   string $file\n     * @return  string\n     *\/",92],["T_WHITESPACE","\n    ",97],["T_PUBLIC","public",98],["T_WHITESPACE"," ",98],["T_FUNCTION","function",98],["T_WHITESPACE"," ",98],["T_STRING","includeScript",98],"(",["T_VARIABLE","$file",98],")",["T_WHITESPACE","\n    ",98],"{",["T_WHITESPACE","\n        ",99],["T_RETURN","return",100],["T_WHITESPACE"," ",100],["T_CONSTANT_ENCAPSED_STRING","'<script type=\"text\/javascript\" src=\"'",100],".",["T_VARIABLE","$this",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","getJsUrl",100],"(",["T_VARIABLE","$file",100],")",".",["T_CONSTANT_ENCAPSED_STRING","'\"><\/script>'",100],".",["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",100],";",["T_WHITESPACE","\n    ",100],"}",["T_WHITESPACE","\n\n    ",101],["T_DOC_COMMENT","\/**\n     * Retrieve\n     *\n     * @param   string $file\n     * @return  string\n     *\/",103],["T_WHITESPACE","\n    ",108],["T_PUBLIC","public",109],["T_WHITESPACE"," ",109],["T_FUNCTION","function",109],["T_WHITESPACE"," ",109],["T_STRING","includeSkinScript",109],"(",["T_VARIABLE","$file",109],")",["T_WHITESPACE","\n    ",109],"{",["T_WHITESPACE","\n        ",110],["T_RETURN","return",111],["T_WHITESPACE"," ",111],["T_CONSTANT_ENCAPSED_STRING","'<script type=\"text\/javascript\" src=\"'",111],".",["T_VARIABLE","$this",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","getJsSkinUrl",111],"(",["T_VARIABLE","$file",111],")",".",["T_CONSTANT_ENCAPSED_STRING","'\"><\/script>'",111],";",["T_WHITESPACE","\n    ",111],"}",["T_WHITESPACE","\n\n    ",112],["T_DOC_COMMENT","\/**\n     * Retrieve JS file url\n     *\n     * @param   string $file\n     * @return  string\n     *\/",114],["T_WHITESPACE","\n    ",119],["T_PUBLIC","public",120],["T_WHITESPACE"," ",120],["T_FUNCTION","function",120],["T_WHITESPACE"," ",120],["T_STRING","getJsUrl",120],"(",["T_VARIABLE","$file",120],")",["T_WHITESPACE","\n    ",120],"{",["T_WHITESPACE","\n        ",121],["T_RETURN","return",122],["T_WHITESPACE"," ",122],["T_STRING","Mage",122],["T_DOUBLE_COLON","::",122],["T_STRING","getBaseUrl",122],"(",["T_CONSTANT_ENCAPSED_STRING","'js'",122],")",".",["T_VARIABLE","$file",122],";",["T_WHITESPACE","\n    ",122],"}",["T_WHITESPACE","\n\n    ",123],["T_DOC_COMMENT","\/**\n     * Retrieve skin JS file url\n     *\n     * @param   string $file\n     * @return  string\n     *\/",125],["T_WHITESPACE","\n    ",130],["T_PUBLIC","public",131],["T_WHITESPACE"," ",131],["T_FUNCTION","function",131],["T_WHITESPACE"," ",131],["T_STRING","getJsSkinUrl",131],"(",["T_VARIABLE","$file",131],")",["T_WHITESPACE","\n    ",131],"{",["T_WHITESPACE","\n        ",132],["T_RETURN","return",133],["T_WHITESPACE"," ",133],["T_STRING","Mage",133],["T_DOUBLE_COLON","::",133],["T_STRING","getDesign",133],"(",")",["T_OBJECT_OPERATOR","->",133],["T_STRING","getSkinUrl",133],"(",["T_VARIABLE","$file",133],",",["T_WHITESPACE"," ",133],["T_ARRAY","array",133],"(",")",")",";",["T_WHITESPACE","\n    ",133],"}",["T_WHITESPACE","\n\n    ",134],["T_DOC_COMMENT","\/**\n     * Retrieve JS translation array\n     *\n     * @return array\n     *\/",136],["T_WHITESPACE","\n    ",140],["T_PROTECTED","protected",141],["T_WHITESPACE"," ",141],["T_FUNCTION","function",141],["T_WHITESPACE"," ",141],["T_STRING","_getTranslateData",141],"(",")",["T_WHITESPACE","\n    ",141],"{",["T_WHITESPACE","\n        ",142],["T_IF","if",143],["T_WHITESPACE"," ",143],"(",["T_VARIABLE","$this",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","_translateData",143],["T_WHITESPACE"," ",143],["T_IS_IDENTICAL","===",143],["T_WHITESPACE"," ",143],["T_STRING","null",143],")",["T_WHITESPACE"," ",143],"{",["T_WHITESPACE","\n            ",143],["T_VARIABLE","$this",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","_translateData",144],["T_WHITESPACE"," ",144],"=",["T_WHITESPACE"," ",144],["T_ARRAY","array",144],"(",")",";",["T_WHITESPACE","\n            ",144],["T_VARIABLE","$messages",145],["T_WHITESPACE"," ",145],"=",["T_WHITESPACE"," ",145],["T_VARIABLE","$this",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","_getXmlConfig",145],"(",")",["T_OBJECT_OPERATOR","->",145],["T_STRING","getXpath",145],"(",["T_CONSTANT_ENCAPSED_STRING","'*\/message'",145],")",";",["T_WHITESPACE","\n            ",145],["T_IF","if",146],["T_WHITESPACE"," ",146],"(","!",["T_EMPTY","empty",146],"(",["T_VARIABLE","$messages",146],")",")",["T_WHITESPACE"," ",146],"{",["T_WHITESPACE","\n                ",146],["T_FOREACH","foreach",147],["T_WHITESPACE"," ",147],"(",["T_VARIABLE","$messages",147],["T_WHITESPACE"," ",147],["T_AS","as",147],["T_WHITESPACE"," ",147],["T_VARIABLE","$message",147],")",["T_WHITESPACE"," ",147],"{",["T_WHITESPACE","\n                    ",147],["T_VARIABLE","$messageText",148],["T_WHITESPACE"," ",148],"=",["T_WHITESPACE"," ",148],["T_STRING_CAST","(string)",148],["T_VARIABLE","$message",148],";",["T_WHITESPACE","\n                    ",148],["T_VARIABLE","$module",149],["T_WHITESPACE"," ",149],"=",["T_WHITESPACE"," ",149],["T_VARIABLE","$message",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","getParent",149],"(",")",["T_OBJECT_OPERATOR","->",149],["T_STRING","getAttribute",149],"(",["T_CONSTANT_ENCAPSED_STRING","\"module\"",149],")",";",["T_WHITESPACE","\n                    ",149],["T_VARIABLE","$this",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","_translateData",150],"[",["T_VARIABLE","$messageText",150],"]",["T_WHITESPACE"," ",150],"=",["T_WHITESPACE"," ",150],["T_STRING","Mage",150],["T_DOUBLE_COLON","::",150],["T_STRING","helper",150],"(",["T_EMPTY","empty",150],"(",["T_VARIABLE","$module",150],")",["T_WHITESPACE"," ",150],"?",["T_WHITESPACE"," ",150],["T_CONSTANT_ENCAPSED_STRING","'core'",150],["T_WHITESPACE"," ",150],":",["T_WHITESPACE"," ",150],["T_VARIABLE","$module",150],["T_WHITESPACE","\n                    ",150],")",["T_OBJECT_OPERATOR","->",151],["T_STRING","__",151],"(",["T_VARIABLE","$messageText",151],")",";",["T_WHITESPACE","\n                ",151],"}",["T_WHITESPACE","\n            ",152],"}",["T_WHITESPACE","\n\n            ",153],["T_FOREACH","foreach",155],["T_WHITESPACE"," ",155],"(",["T_VARIABLE","$this",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","_translateData",155],["T_WHITESPACE"," ",155],["T_AS","as",155],["T_WHITESPACE"," ",155],["T_VARIABLE","$key",155],["T_WHITESPACE"," ",155],["T_DOUBLE_ARROW","=>",155],["T_WHITESPACE"," ",155],["T_VARIABLE","$value",155],")",["T_WHITESPACE"," ",155],"{",["T_WHITESPACE","\n                ",155],["T_IF","if",156],["T_WHITESPACE"," ",156],"(",["T_VARIABLE","$key",156],["T_WHITESPACE"," ",156],["T_IS_EQUAL","==",156],["T_WHITESPACE"," ",156],["T_VARIABLE","$value",156],")",["T_WHITESPACE"," ",156],"{",["T_WHITESPACE","\n                    ",156],["T_UNSET","unset",157],"(",["T_VARIABLE","$this",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","_translateData",157],"[",["T_VARIABLE","$key",157],"]",")",";",["T_WHITESPACE","\n                ",157],"}",["T_WHITESPACE","\n            ",158],"}",["T_WHITESPACE","\n        ",159],"}",["T_WHITESPACE","\n        ",160],["T_RETURN","return",161],["T_WHITESPACE"," ",161],["T_VARIABLE","$this",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","_translateData",161],";",["T_WHITESPACE","\n    ",161],"}",["T_WHITESPACE","\n\n    ",162],["T_DOC_COMMENT","\/**\n     * Load config from files and try to cache it\n     *\n     * @return Varien_Simplexml_Config\n     *\/",164],["T_WHITESPACE","\n    ",168],["T_PROTECTED","protected",169],["T_WHITESPACE"," ",169],["T_FUNCTION","function",169],["T_WHITESPACE"," ",169],["T_STRING","_getXmlConfig",169],"(",")",["T_WHITESPACE","\n    ",169],"{",["T_WHITESPACE","\n        ",170],["T_IF","if",171],["T_WHITESPACE"," ",171],"(",["T_STRING","is_null",171],"(",["T_VARIABLE","$this",171],["T_OBJECT_OPERATOR","->",171],["T_STRING","_config",171],")",")",["T_WHITESPACE"," ",171],"{",["T_WHITESPACE","\n            ",171],["T_VARIABLE","$canUsaCache",172],["T_WHITESPACE"," ",172],"=",["T_WHITESPACE"," ",172],["T_STRING","Mage",172],["T_DOUBLE_COLON","::",172],["T_STRING","app",172],"(",")",["T_OBJECT_OPERATOR","->",172],["T_STRING","useCache",172],"(",["T_CONSTANT_ENCAPSED_STRING","'config'",172],")",";",["T_WHITESPACE","\n            ",172],["T_VARIABLE","$cachedXml",173],["T_WHITESPACE"," ",173],"=",["T_WHITESPACE"," ",173],["T_STRING","Mage",173],["T_DOUBLE_COLON","::",173],["T_STRING","app",173],"(",")",["T_OBJECT_OPERATOR","->",173],["T_STRING","loadCache",173],"(",["T_STRING","self",173],["T_DOUBLE_COLON","::",173],["T_STRING","JAVASCRIPT_TRANSLATE_CONFIG_KEY",173],")",";",["T_WHITESPACE","\n            ",173],["T_IF","if",174],["T_WHITESPACE"," ",174],"(",["T_VARIABLE","$canUsaCache",174],["T_WHITESPACE"," ",174],["T_BOOLEAN_AND","&&",174],["T_WHITESPACE"," ",174],["T_VARIABLE","$cachedXml",174],")",["T_WHITESPACE"," ",174],"{",["T_WHITESPACE","\n                ",174],["T_VARIABLE","$xmlConfig",175],["T_WHITESPACE"," ",175],"=",["T_WHITESPACE"," ",175],["T_NEW","new",175],["T_WHITESPACE"," ",175],["T_STRING","Varien_Simplexml_Config",175],"(",["T_VARIABLE","$cachedXml",175],")",";",["T_WHITESPACE","\n            ",175],"}",["T_WHITESPACE"," ",176],["T_ELSE","else",176],["T_WHITESPACE"," ",176],"{",["T_WHITESPACE","\n                ",176],["T_VARIABLE","$xmlConfig",177],["T_WHITESPACE"," ",177],"=",["T_WHITESPACE"," ",177],["T_NEW","new",177],["T_WHITESPACE"," ",177],["T_STRING","Varien_Simplexml_Config",177],"(",")",";",["T_WHITESPACE","\n                ",177],["T_VARIABLE","$xmlConfig",178],["T_OBJECT_OPERATOR","->",178],["T_STRING","loadString",178],"(",["T_CONSTANT_ENCAPSED_STRING","'<?xml version=\"1.0\"?><jstranslator><\/jstranslator>'",178],")",";",["T_WHITESPACE","\n                ",178],["T_STRING","Mage",179],["T_DOUBLE_COLON","::",179],["T_STRING","getConfig",179],"(",")",["T_OBJECT_OPERATOR","->",179],["T_STRING","loadModulesConfiguration",179],"(",["T_STRING","self",179],["T_DOUBLE_COLON","::",179],["T_STRING","JAVASCRIPT_TRANSLATE_CONFIG_FILENAME",179],",",["T_WHITESPACE"," ",179],["T_VARIABLE","$xmlConfig",179],")",";",["T_WHITESPACE","\n\n                ",179],["T_IF","if",181],["T_WHITESPACE"," ",181],"(",["T_VARIABLE","$canUsaCache",181],")",["T_WHITESPACE"," ",181],"{",["T_WHITESPACE","\n                    ",181],["T_STRING","Mage",182],["T_DOUBLE_COLON","::",182],["T_STRING","app",182],"(",")",["T_OBJECT_OPERATOR","->",182],["T_STRING","saveCache",182],"(",["T_VARIABLE","$xmlConfig",182],["T_OBJECT_OPERATOR","->",182],["T_STRING","getXmlString",182],"(",")",",",["T_WHITESPACE"," ",182],["T_STRING","self",182],["T_DOUBLE_COLON","::",182],["T_STRING","JAVASCRIPT_TRANSLATE_CONFIG_KEY",182],",",["T_WHITESPACE","\n                        ",182],["T_ARRAY","array",183],"(",["T_STRING","Mage_Core_Model_Config",183],["T_DOUBLE_COLON","::",183],["T_STRING","CACHE_TAG",183],")",")",";",["T_WHITESPACE","\n                ",183],"}",["T_WHITESPACE","\n            ",184],"}",["T_WHITESPACE","\n            ",185],["T_VARIABLE","$this",186],["T_OBJECT_OPERATOR","->",186],["T_STRING","_config",186],["T_WHITESPACE"," ",186],"=",["T_WHITESPACE"," ",186],["T_VARIABLE","$xmlConfig",186],";",["T_WHITESPACE","\n        ",186],"}",["T_WHITESPACE","\n        ",187],["T_RETURN","return",188],["T_WHITESPACE"," ",188],["T_VARIABLE","$this",188],["T_OBJECT_OPERATOR","->",188],["T_STRING","_config",188],";",["T_WHITESPACE","\n    ",188],"}",["T_WHITESPACE","\n",189],"}",["T_WHITESPACE","\n",190]]