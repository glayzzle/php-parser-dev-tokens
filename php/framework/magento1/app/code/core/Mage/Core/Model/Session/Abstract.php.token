[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Magento\n *\n * NOTICE OF LICENSE\n *\n * This source file is subject to the Open Software License (OSL 3.0)\n * that is bundled with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/opensource.org\/licenses\/osl-3.0.php\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@magento.com so we can send you a copy immediately.\n *\n * DISCLAIMER\n *\n * Do not edit or add to this file if you wish to upgrade Magento to newer\n * versions in the future. If you wish to customize Magento for your\n * needs please refer to http:\/\/www.magento.com for more information.\n *\n * @category    Mage\n * @package     Mage_Core\n * @copyright  Copyright (c) 2006-2016 X.commerce, Inc. and affiliates (http:\/\/www.magento.com)\n * @license    http:\/\/opensource.org\/licenses\/osl-3.0.php  Open Software License (OSL 3.0)\n *\/",2],["T_WHITESPACE","\n\n\n",25],["T_DOC_COMMENT","\/**\n * Core Session Abstract model\n *\n * @category   Mage\n * @package    Mage_Core\n * @author     Magento Core Team <core@magentocommerce.com>\n *\/",28],["T_WHITESPACE","\n",34],["T_CLASS","class",35],["T_WHITESPACE"," ",35],["T_STRING","Mage_Core_Model_Session_Abstract",35],["T_WHITESPACE"," ",35],["T_EXTENDS","extends",35],["T_WHITESPACE"," ",35],["T_STRING","Mage_Core_Model_Session_Abstract_Varien",35],["T_WHITESPACE","\n",35],"{",["T_WHITESPACE","\n    ",36],["T_CONST","const",37],["T_WHITESPACE"," ",37],["T_STRING","XML_PATH_COOKIE_DOMAIN",37],["T_WHITESPACE","        ",37],"=",["T_WHITESPACE"," ",37],["T_CONSTANT_ENCAPSED_STRING","'web\/cookie\/cookie_domain'",37],";",["T_WHITESPACE","\n    ",37],["T_CONST","const",38],["T_WHITESPACE"," ",38],["T_STRING","XML_PATH_COOKIE_PATH",38],["T_WHITESPACE","          ",38],"=",["T_WHITESPACE"," ",38],["T_CONSTANT_ENCAPSED_STRING","'web\/cookie\/cookie_path'",38],";",["T_WHITESPACE","\n    ",38],["T_CONST","const",39],["T_WHITESPACE"," ",39],["T_STRING","XML_PATH_COOKIE_LIFETIME",39],["T_WHITESPACE","      ",39],"=",["T_WHITESPACE"," ",39],["T_CONSTANT_ENCAPSED_STRING","'web\/cookie\/cookie_lifetime'",39],";",["T_WHITESPACE","\n    ",39],["T_CONST","const",40],["T_WHITESPACE"," ",40],["T_STRING","XML_NODE_SESSION_SAVE",40],["T_WHITESPACE","         ",40],"=",["T_WHITESPACE"," ",40],["T_CONSTANT_ENCAPSED_STRING","'global\/session_save'",40],";",["T_WHITESPACE","\n    ",40],["T_CONST","const",41],["T_WHITESPACE"," ",41],["T_STRING","XML_NODE_SESSION_SAVE_PATH",41],["T_WHITESPACE","    ",41],"=",["T_WHITESPACE"," ",41],["T_CONSTANT_ENCAPSED_STRING","'global\/session_save_path'",41],";",["T_WHITESPACE","\n\n    ",41],["T_CONST","const",43],["T_WHITESPACE"," ",43],["T_STRING","XML_PATH_USE_REMOTE_ADDR",43],["T_WHITESPACE","      ",43],"=",["T_WHITESPACE"," ",43],["T_CONSTANT_ENCAPSED_STRING","'web\/session\/use_remote_addr'",43],";",["T_WHITESPACE","\n    ",43],["T_CONST","const",44],["T_WHITESPACE"," ",44],["T_STRING","XML_PATH_USE_HTTP_VIA",44],["T_WHITESPACE","         ",44],"=",["T_WHITESPACE"," ",44],["T_CONSTANT_ENCAPSED_STRING","'web\/session\/use_http_via'",44],";",["T_WHITESPACE","\n    ",44],["T_CONST","const",45],["T_WHITESPACE"," ",45],["T_STRING","XML_PATH_USE_X_FORWARDED",45],["T_WHITESPACE","      ",45],"=",["T_WHITESPACE"," ",45],["T_CONSTANT_ENCAPSED_STRING","'web\/session\/use_http_x_forwarded_for'",45],";",["T_WHITESPACE","\n    ",45],["T_CONST","const",46],["T_WHITESPACE"," ",46],["T_STRING","XML_PATH_USE_USER_AGENT",46],["T_WHITESPACE","       ",46],"=",["T_WHITESPACE"," ",46],["T_CONSTANT_ENCAPSED_STRING","'web\/session\/use_http_user_agent'",46],";",["T_WHITESPACE","\n    ",46],["T_CONST","const",47],["T_WHITESPACE"," ",47],["T_STRING","XML_PATH_USE_FRONTEND_SID",47],["T_WHITESPACE","     ",47],"=",["T_WHITESPACE"," ",47],["T_CONSTANT_ENCAPSED_STRING","'web\/session\/use_frontend_sid'",47],";",["T_WHITESPACE","\n\n    ",47],["T_CONST","const",49],["T_WHITESPACE"," ",49],["T_STRING","XML_NODE_USET_AGENT_SKIP",49],["T_WHITESPACE","      ",49],"=",["T_WHITESPACE"," ",49],["T_CONSTANT_ENCAPSED_STRING","'global\/session\/validation\/http_user_agent_skip'",49],";",["T_WHITESPACE","\n    ",49],["T_CONST","const",50],["T_WHITESPACE"," ",50],["T_STRING","XML_PATH_LOG_EXCEPTION_FILE",50],["T_WHITESPACE","   ",50],"=",["T_WHITESPACE"," ",50],["T_CONSTANT_ENCAPSED_STRING","'dev\/log\/exception_file'",50],";",["T_WHITESPACE","\n\n    ",50],["T_CONST","const",52],["T_WHITESPACE"," ",52],["T_STRING","SESSION_ID_QUERY_PARAM",52],["T_WHITESPACE","        ",52],"=",["T_WHITESPACE"," ",52],["T_CONSTANT_ENCAPSED_STRING","'SID'",52],";",["T_WHITESPACE","\n\n    ",52],["T_DOC_COMMENT","\/**\n     * URL host cache\n     *\n     * @var array\n     *\/",54],["T_WHITESPACE","\n    ",58],["T_PROTECTED","protected",59],["T_WHITESPACE"," ",59],["T_STATIC","static",59],["T_WHITESPACE"," ",59],["T_VARIABLE","$_urlHostCache",59],["T_WHITESPACE"," ",59],"=",["T_WHITESPACE"," ",59],["T_ARRAY","array",59],"(",")",";",["T_WHITESPACE","\n\n    ",59],["T_DOC_COMMENT","\/**\n     * Encrypted session id cache\n     *\n     * @var string\n     *\/",61],["T_WHITESPACE","\n    ",65],["T_PROTECTED","protected",66],["T_WHITESPACE"," ",66],["T_STATIC","static",66],["T_WHITESPACE"," ",66],["T_VARIABLE","$_encryptedSessionId",66],";",["T_WHITESPACE","\n\n    ",66],["T_DOC_COMMENT","\/**\n     * Skip session id flag\n     *\n     * @var bool\n     *\/",68],["T_WHITESPACE","\n    ",72],["T_PROTECTED","protected",73],["T_WHITESPACE"," ",73],["T_VARIABLE","$_skipSessionIdFlag",73],["T_WHITESPACE","   ",73],"=",["T_WHITESPACE"," ",73],["T_STRING","false",73],";",["T_WHITESPACE","\n\n    ",73],["T_DOC_COMMENT","\/**\n     * Init session\n     *\n     * @param string $namespace\n     * @param string $sessionName\n     * @return Mage_Core_Model_Session_Abstract\n     *\/",75],["T_WHITESPACE","\n    ",81],["T_PUBLIC","public",82],["T_WHITESPACE"," ",82],["T_FUNCTION","function",82],["T_WHITESPACE"," ",82],["T_STRING","init",82],"(",["T_VARIABLE","$namespace",82],",",["T_WHITESPACE"," ",82],["T_VARIABLE","$sessionName",82],"=",["T_STRING","null",82],")",["T_WHITESPACE","\n    ",82],"{",["T_WHITESPACE","\n        ",83],["T_STRING","parent",84],["T_DOUBLE_COLON","::",84],["T_STRING","init",84],"(",["T_VARIABLE","$namespace",84],",",["T_WHITESPACE"," ",84],["T_VARIABLE","$sessionName",84],")",";",["T_WHITESPACE","\n        ",84],["T_VARIABLE","$this",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","addHost",85],"(",["T_STRING","true",85],")",";",["T_WHITESPACE","\n        ",85],["T_RETURN","return",86],["T_WHITESPACE"," ",86],["T_VARIABLE","$this",86],";",["T_WHITESPACE","\n    ",86],"}",["T_WHITESPACE","\n\n    ",87],["T_DOC_COMMENT","\/**\n     * Retrieve Cookie domain\n     *\n     * @return string\n     *\/",89],["T_WHITESPACE","\n    ",93],["T_PUBLIC","public",94],["T_WHITESPACE"," ",94],["T_FUNCTION","function",94],["T_WHITESPACE"," ",94],["T_STRING","getCookieDomain",94],"(",")",["T_WHITESPACE","\n    ",94],"{",["T_WHITESPACE","\n        ",95],["T_RETURN","return",96],["T_WHITESPACE"," ",96],["T_VARIABLE","$this",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","getCookie",96],"(",")",["T_OBJECT_OPERATOR","->",96],["T_STRING","getDomain",96],"(",")",";",["T_WHITESPACE","\n    ",96],"}",["T_WHITESPACE","\n\n    ",97],["T_DOC_COMMENT","\/**\n     * Retrieve cookie path\n     *\n     * @return string\n     *\/",99],["T_WHITESPACE","\n    ",103],["T_PUBLIC","public",104],["T_WHITESPACE"," ",104],["T_FUNCTION","function",104],["T_WHITESPACE"," ",104],["T_STRING","getCookiePath",104],"(",")",["T_WHITESPACE","\n    ",104],"{",["T_WHITESPACE","\n        ",105],["T_RETURN","return",106],["T_WHITESPACE"," ",106],["T_VARIABLE","$this",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","getCookie",106],"(",")",["T_OBJECT_OPERATOR","->",106],["T_STRING","getPath",106],"(",")",";",["T_WHITESPACE","\n    ",106],"}",["T_WHITESPACE","\n\n    ",107],["T_DOC_COMMENT","\/**\n     * Retrieve cookie lifetime\n     *\n     * @return int\n     *\/",109],["T_WHITESPACE","\n    ",113],["T_PUBLIC","public",114],["T_WHITESPACE"," ",114],["T_FUNCTION","function",114],["T_WHITESPACE"," ",114],["T_STRING","getCookieLifetime",114],"(",")",["T_WHITESPACE","\n    ",114],"{",["T_WHITESPACE","\n        ",115],["T_RETURN","return",116],["T_WHITESPACE"," ",116],["T_VARIABLE","$this",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","getCookie",116],"(",")",["T_OBJECT_OPERATOR","->",116],["T_STRING","getLifetime",116],"(",")",";",["T_WHITESPACE","\n    ",116],"}",["T_WHITESPACE","\n\n    ",117],["T_DOC_COMMENT","\/**\n     * Use REMOTE_ADDR in validator key\n     *\n     * @return bool\n     *\/",119],["T_WHITESPACE","\n    ",123],["T_PUBLIC","public",124],["T_WHITESPACE"," ",124],["T_FUNCTION","function",124],["T_WHITESPACE"," ",124],["T_STRING","useValidateRemoteAddr",124],"(",")",["T_WHITESPACE","\n    ",124],"{",["T_WHITESPACE","\n        ",125],["T_VARIABLE","$use",126],["T_WHITESPACE"," ",126],"=",["T_WHITESPACE"," ",126],["T_STRING","Mage",126],["T_DOUBLE_COLON","::",126],["T_STRING","getStoreConfig",126],"(",["T_STRING","self",126],["T_DOUBLE_COLON","::",126],["T_STRING","XML_PATH_USE_REMOTE_ADDR",126],")",";",["T_WHITESPACE","\n        ",126],["T_IF","if",127],["T_WHITESPACE"," ",127],"(",["T_STRING","is_null",127],"(",["T_VARIABLE","$use",127],")",")",["T_WHITESPACE"," ",127],"{",["T_WHITESPACE","\n            ",127],["T_RETURN","return",128],["T_WHITESPACE"," ",128],["T_STRING","parent",128],["T_DOUBLE_COLON","::",128],["T_STRING","useValidateRemoteAddr",128],"(",")",";",["T_WHITESPACE","\n        ",128],"}",["T_WHITESPACE","\n        ",129],["T_RETURN","return",130],["T_WHITESPACE"," ",130],["T_BOOL_CAST","(bool)",130],["T_VARIABLE","$use",130],";",["T_WHITESPACE","\n    ",130],"}",["T_WHITESPACE","\n\n    ",131],["T_DOC_COMMENT","\/**\n     * Use HTTP_VIA in validator key\n     *\n     * @return bool\n     *\/",133],["T_WHITESPACE","\n    ",137],["T_PUBLIC","public",138],["T_WHITESPACE"," ",138],["T_FUNCTION","function",138],["T_WHITESPACE"," ",138],["T_STRING","useValidateHttpVia",138],"(",")",["T_WHITESPACE","\n    ",138],"{",["T_WHITESPACE","\n        ",139],["T_VARIABLE","$use",140],["T_WHITESPACE"," ",140],"=",["T_WHITESPACE"," ",140],["T_STRING","Mage",140],["T_DOUBLE_COLON","::",140],["T_STRING","getStoreConfig",140],"(",["T_STRING","self",140],["T_DOUBLE_COLON","::",140],["T_STRING","XML_PATH_USE_HTTP_VIA",140],")",";",["T_WHITESPACE","\n        ",140],["T_IF","if",141],["T_WHITESPACE"," ",141],"(",["T_STRING","is_null",141],"(",["T_VARIABLE","$use",141],")",")",["T_WHITESPACE"," ",141],"{",["T_WHITESPACE","\n            ",141],["T_RETURN","return",142],["T_WHITESPACE"," ",142],["T_STRING","parent",142],["T_DOUBLE_COLON","::",142],["T_STRING","useValidateHttpVia",142],"(",")",";",["T_WHITESPACE","\n        ",142],"}",["T_WHITESPACE","\n        ",143],["T_RETURN","return",144],["T_WHITESPACE"," ",144],["T_BOOL_CAST","(bool)",144],["T_VARIABLE","$use",144],";",["T_WHITESPACE","\n    ",144],"}",["T_WHITESPACE","\n\n    ",145],["T_DOC_COMMENT","\/**\n     * Use HTTP_X_FORWARDED_FOR in validator key\n     *\n     * @return bool\n     *\/",147],["T_WHITESPACE","\n    ",151],["T_PUBLIC","public",152],["T_WHITESPACE"," ",152],["T_FUNCTION","function",152],["T_WHITESPACE"," ",152],["T_STRING","useValidateHttpXForwardedFor",152],"(",")",["T_WHITESPACE","\n    ",152],"{",["T_WHITESPACE","\n        ",153],["T_VARIABLE","$use",154],["T_WHITESPACE"," ",154],"=",["T_WHITESPACE"," ",154],["T_STRING","Mage",154],["T_DOUBLE_COLON","::",154],["T_STRING","getStoreConfig",154],"(",["T_STRING","self",154],["T_DOUBLE_COLON","::",154],["T_STRING","XML_PATH_USE_X_FORWARDED",154],")",";",["T_WHITESPACE","\n        ",154],["T_IF","if",155],["T_WHITESPACE"," ",155],"(",["T_STRING","is_null",155],"(",["T_VARIABLE","$use",155],")",")",["T_WHITESPACE"," ",155],"{",["T_WHITESPACE","\n            ",155],["T_RETURN","return",156],["T_WHITESPACE"," ",156],["T_STRING","parent",156],["T_DOUBLE_COLON","::",156],["T_STRING","useValidateHttpXForwardedFor",156],"(",")",";",["T_WHITESPACE","\n        ",156],"}",["T_WHITESPACE","\n        ",157],["T_RETURN","return",158],["T_WHITESPACE"," ",158],["T_BOOL_CAST","(bool)",158],["T_VARIABLE","$use",158],";",["T_WHITESPACE","\n    ",158],"}",["T_WHITESPACE","\n\n    ",159],["T_DOC_COMMENT","\/**\n     * Use HTTP_USER_AGENT in validator key\n     *\n     * @return bool\n     *\/",161],["T_WHITESPACE","\n    ",165],["T_PUBLIC","public",166],["T_WHITESPACE"," ",166],["T_FUNCTION","function",166],["T_WHITESPACE"," ",166],["T_STRING","useValidateHttpUserAgent",166],"(",")",["T_WHITESPACE","\n    ",166],"{",["T_WHITESPACE","\n        ",167],["T_VARIABLE","$use",168],["T_WHITESPACE"," ",168],"=",["T_WHITESPACE"," ",168],["T_STRING","Mage",168],["T_DOUBLE_COLON","::",168],["T_STRING","getStoreConfig",168],"(",["T_STRING","self",168],["T_DOUBLE_COLON","::",168],["T_STRING","XML_PATH_USE_USER_AGENT",168],")",";",["T_WHITESPACE","\n        ",168],["T_IF","if",169],["T_WHITESPACE"," ",169],"(",["T_STRING","is_null",169],"(",["T_VARIABLE","$use",169],")",")",["T_WHITESPACE"," ",169],"{",["T_WHITESPACE","\n            ",169],["T_RETURN","return",170],["T_WHITESPACE"," ",170],["T_STRING","parent",170],["T_DOUBLE_COLON","::",170],["T_STRING","useValidateHttpUserAgent",170],"(",")",";",["T_WHITESPACE","\n        ",170],"}",["T_WHITESPACE","\n        ",171],["T_RETURN","return",172],["T_WHITESPACE"," ",172],["T_BOOL_CAST","(bool)",172],["T_VARIABLE","$use",172],";",["T_WHITESPACE","\n    ",172],"}",["T_WHITESPACE","\n\n    ",173],["T_DOC_COMMENT","\/**\n     * Check whether SID can be used for session initialization\n     * Admin area will always have this feature enabled\n     *\n     * @return bool\n     *\/",175],["T_WHITESPACE","\n    ",180],["T_PUBLIC","public",181],["T_WHITESPACE"," ",181],["T_FUNCTION","function",181],["T_WHITESPACE"," ",181],["T_STRING","useSid",181],"(",")",["T_WHITESPACE","\n    ",181],"{",["T_WHITESPACE","\n        ",182],["T_RETURN","return",183],["T_WHITESPACE"," ",183],["T_STRING","Mage",183],["T_DOUBLE_COLON","::",183],["T_STRING","app",183],"(",")",["T_OBJECT_OPERATOR","->",183],["T_STRING","getStore",183],"(",")",["T_OBJECT_OPERATOR","->",183],["T_STRING","isAdmin",183],"(",")",["T_WHITESPACE"," ",183],["T_BOOLEAN_OR","||",183],["T_WHITESPACE"," ",183],["T_STRING","Mage",183],["T_DOUBLE_COLON","::",183],["T_STRING","getStoreConfig",183],"(",["T_STRING","self",183],["T_DOUBLE_COLON","::",183],["T_STRING","XML_PATH_USE_FRONTEND_SID",183],")",";",["T_WHITESPACE","\n    ",183],"}",["T_WHITESPACE","\n\n    ",184],["T_DOC_COMMENT","\/**\n     * Retrieve skip User Agent validation strings (Flash etc)\n     *\n     * @return array\n     *\/",186],["T_WHITESPACE","\n    ",190],["T_PUBLIC","public",191],["T_WHITESPACE"," ",191],["T_FUNCTION","function",191],["T_WHITESPACE"," ",191],["T_STRING","getValidateHttpUserAgentSkip",191],"(",")",["T_WHITESPACE","\n    ",191],"{",["T_WHITESPACE","\n        ",192],["T_VARIABLE","$userAgents",193],["T_WHITESPACE"," ",193],"=",["T_WHITESPACE"," ",193],["T_ARRAY","array",193],"(",")",";",["T_WHITESPACE","\n        ",193],["T_VARIABLE","$skip",194],["T_WHITESPACE"," ",194],"=",["T_WHITESPACE"," ",194],["T_STRING","Mage",194],["T_DOUBLE_COLON","::",194],["T_STRING","getConfig",194],"(",")",["T_OBJECT_OPERATOR","->",194],["T_STRING","getNode",194],"(",["T_STRING","self",194],["T_DOUBLE_COLON","::",194],["T_STRING","XML_NODE_USET_AGENT_SKIP",194],")",";",["T_WHITESPACE","\n        ",194],["T_FOREACH","foreach",195],["T_WHITESPACE"," ",195],"(",["T_VARIABLE","$skip",195],["T_OBJECT_OPERATOR","->",195],["T_STRING","children",195],"(",")",["T_WHITESPACE"," ",195],["T_AS","as",195],["T_WHITESPACE"," ",195],["T_VARIABLE","$userAgent",195],")",["T_WHITESPACE"," ",195],"{",["T_WHITESPACE","\n            ",195],["T_VARIABLE","$userAgents",196],"[","]",["T_WHITESPACE"," ",196],"=",["T_WHITESPACE"," ",196],["T_STRING_CAST","(string)",196],["T_VARIABLE","$userAgent",196],";",["T_WHITESPACE","\n        ",196],"}",["T_WHITESPACE","\n        ",197],["T_RETURN","return",198],["T_WHITESPACE"," ",198],["T_VARIABLE","$userAgents",198],";",["T_WHITESPACE","\n    ",198],"}",["T_WHITESPACE","\n\n    ",199],["T_DOC_COMMENT","\/**\n     * Retrieve messages from session\n     *\n     * @param   bool $clear\n     * @return  Mage_Core_Model_Message_Collection\n     *\/",201],["T_WHITESPACE","\n    ",206],["T_PUBLIC","public",207],["T_WHITESPACE"," ",207],["T_FUNCTION","function",207],["T_WHITESPACE"," ",207],["T_STRING","getMessages",207],"(",["T_VARIABLE","$clear",207],"=",["T_STRING","false",207],")",["T_WHITESPACE","\n    ",207],"{",["T_WHITESPACE","\n        ",208],["T_IF","if",209],["T_WHITESPACE"," ",209],"(","!",["T_VARIABLE","$this",209],["T_OBJECT_OPERATOR","->",209],["T_STRING","getData",209],"(",["T_CONSTANT_ENCAPSED_STRING","'messages'",209],")",")",["T_WHITESPACE"," ",209],"{",["T_WHITESPACE","\n            ",209],["T_VARIABLE","$this",210],["T_OBJECT_OPERATOR","->",210],["T_STRING","setMessages",210],"(",["T_STRING","Mage",210],["T_DOUBLE_COLON","::",210],["T_STRING","getModel",210],"(",["T_CONSTANT_ENCAPSED_STRING","'core\/message_collection'",210],")",")",";",["T_WHITESPACE","\n        ",210],"}",["T_WHITESPACE","\n\n        ",211],["T_IF","if",213],["T_WHITESPACE"," ",213],"(",["T_VARIABLE","$clear",213],")",["T_WHITESPACE"," ",213],"{",["T_WHITESPACE","\n            ",213],["T_VARIABLE","$messages",214],["T_WHITESPACE"," ",214],"=",["T_WHITESPACE"," ",214],["T_CLONE","clone",214],["T_WHITESPACE"," ",214],["T_VARIABLE","$this",214],["T_OBJECT_OPERATOR","->",214],["T_STRING","getData",214],"(",["T_CONSTANT_ENCAPSED_STRING","'messages'",214],")",";",["T_WHITESPACE","\n            ",214],["T_VARIABLE","$this",215],["T_OBJECT_OPERATOR","->",215],["T_STRING","getData",215],"(",["T_CONSTANT_ENCAPSED_STRING","'messages'",215],")",["T_OBJECT_OPERATOR","->",215],["T_STRING","clear",215],"(",")",";",["T_WHITESPACE","\n            ",215],["T_STRING","Mage",216],["T_DOUBLE_COLON","::",216],["T_STRING","dispatchEvent",216],"(",["T_CONSTANT_ENCAPSED_STRING","'core_session_abstract_clear_messages'",216],")",";",["T_WHITESPACE","\n            ",216],["T_RETURN","return",217],["T_WHITESPACE"," ",217],["T_VARIABLE","$messages",217],";",["T_WHITESPACE","\n        ",217],"}",["T_WHITESPACE","\n        ",218],["T_RETURN","return",219],["T_WHITESPACE"," ",219],["T_VARIABLE","$this",219],["T_OBJECT_OPERATOR","->",219],["T_STRING","getData",219],"(",["T_CONSTANT_ENCAPSED_STRING","'messages'",219],")",";",["T_WHITESPACE","\n    ",219],"}",["T_WHITESPACE","\n\n    ",220],["T_DOC_COMMENT","\/**\n     * Not Mage exception handling\n     *\n     * @param   Exception $exception\n     * @param   string $alternativeText\n     * @return  Mage_Core_Model_Session_Abstract\n     *\/",222],["T_WHITESPACE","\n    ",228],["T_PUBLIC","public",229],["T_WHITESPACE"," ",229],["T_FUNCTION","function",229],["T_WHITESPACE"," ",229],["T_STRING","addException",229],"(",["T_STRING","Exception",229],["T_WHITESPACE"," ",229],["T_VARIABLE","$exception",229],",",["T_WHITESPACE"," ",229],["T_VARIABLE","$alternativeText",229],")",["T_WHITESPACE","\n    ",229],"{",["T_WHITESPACE","\n        ",230],["T_COMMENT","\/\/ log exception to exceptions log\n",231],["T_WHITESPACE","        ",232],["T_VARIABLE","$message",232],["T_WHITESPACE"," ",232],"=",["T_WHITESPACE"," ",232],["T_STRING","sprintf",232],"(",["T_CONSTANT_ENCAPSED_STRING","'Exception message: %s%sTrace: %s'",232],",",["T_WHITESPACE","\n            ",232],["T_VARIABLE","$exception",233],["T_OBJECT_OPERATOR","->",233],["T_STRING","getMessage",233],"(",")",",",["T_WHITESPACE","\n            ",233],["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",234],",",["T_WHITESPACE","\n            ",234],["T_VARIABLE","$exception",235],["T_OBJECT_OPERATOR","->",235],["T_STRING","getTraceAsString",235],"(",")",")",";",["T_WHITESPACE","\n        ",235],["T_VARIABLE","$file",236],["T_WHITESPACE","    ",236],"=",["T_WHITESPACE"," ",236],["T_STRING","Mage",236],["T_DOUBLE_COLON","::",236],["T_STRING","getStoreConfig",236],"(",["T_STRING","self",236],["T_DOUBLE_COLON","::",236],["T_STRING","XML_PATH_LOG_EXCEPTION_FILE",236],")",";",["T_WHITESPACE","\n        ",236],["T_STRING","Mage",237],["T_DOUBLE_COLON","::",237],["T_STRING","log",237],"(",["T_VARIABLE","$message",237],",",["T_WHITESPACE"," ",237],["T_STRING","Zend_Log",237],["T_DOUBLE_COLON","::",237],["T_STRING","DEBUG",237],",",["T_WHITESPACE"," ",237],["T_VARIABLE","$file",237],")",";",["T_WHITESPACE","\n\n        ",237],["T_VARIABLE","$this",239],["T_OBJECT_OPERATOR","->",239],["T_STRING","addMessage",239],"(",["T_STRING","Mage",239],["T_DOUBLE_COLON","::",239],["T_STRING","getSingleton",239],"(",["T_CONSTANT_ENCAPSED_STRING","'core\/message'",239],")",["T_OBJECT_OPERATOR","->",239],["T_STRING","error",239],"(",["T_VARIABLE","$alternativeText",239],")",")",";",["T_WHITESPACE","\n        ",239],["T_RETURN","return",240],["T_WHITESPACE"," ",240],["T_VARIABLE","$this",240],";",["T_WHITESPACE","\n    ",240],"}",["T_WHITESPACE","\n\n    ",241],["T_DOC_COMMENT","\/**\n     * Adding new message to message collection\n     *\n     * @param   Mage_Core_Model_Message_Abstract $message\n     * @return  Mage_Core_Model_Session_Abstract\n     *\/",243],["T_WHITESPACE","\n    ",248],["T_PUBLIC","public",249],["T_WHITESPACE"," ",249],["T_FUNCTION","function",249],["T_WHITESPACE"," ",249],["T_STRING","addMessage",249],"(",["T_STRING","Mage_Core_Model_Message_Abstract",249],["T_WHITESPACE"," ",249],["T_VARIABLE","$message",249],")",["T_WHITESPACE","\n    ",249],"{",["T_WHITESPACE","\n        ",250],["T_VARIABLE","$this",251],["T_OBJECT_OPERATOR","->",251],["T_STRING","getMessages",251],"(",")",["T_OBJECT_OPERATOR","->",251],["T_STRING","add",251],"(",["T_VARIABLE","$message",251],")",";",["T_WHITESPACE","\n        ",251],["T_STRING","Mage",252],["T_DOUBLE_COLON","::",252],["T_STRING","dispatchEvent",252],"(",["T_CONSTANT_ENCAPSED_STRING","'core_session_abstract_add_message'",252],")",";",["T_WHITESPACE","\n        ",252],["T_RETURN","return",253],["T_WHITESPACE"," ",253],["T_VARIABLE","$this",253],";",["T_WHITESPACE","\n    ",253],"}",["T_WHITESPACE","\n\n    ",254],["T_DOC_COMMENT","\/**\n     * Adding new error message\n     *\n     * @param   string $message\n     * @return  Mage_Core_Model_Session_Abstract\n     *\/",256],["T_WHITESPACE","\n    ",261],["T_PUBLIC","public",262],["T_WHITESPACE"," ",262],["T_FUNCTION","function",262],["T_WHITESPACE"," ",262],["T_STRING","addError",262],"(",["T_VARIABLE","$message",262],")",["T_WHITESPACE","\n    ",262],"{",["T_WHITESPACE","\n        ",263],["T_VARIABLE","$this",264],["T_OBJECT_OPERATOR","->",264],["T_STRING","addMessage",264],"(",["T_STRING","Mage",264],["T_DOUBLE_COLON","::",264],["T_STRING","getSingleton",264],"(",["T_CONSTANT_ENCAPSED_STRING","'core\/message'",264],")",["T_OBJECT_OPERATOR","->",264],["T_STRING","error",264],"(",["T_VARIABLE","$message",264],")",")",";",["T_WHITESPACE","\n        ",264],["T_RETURN","return",265],["T_WHITESPACE"," ",265],["T_VARIABLE","$this",265],";",["T_WHITESPACE","\n    ",265],"}",["T_WHITESPACE","\n\n    ",266],["T_DOC_COMMENT","\/**\n     * Adding new warning message\n     *\n     * @param   string $message\n     * @return  Mage_Core_Model_Session_Abstract\n     *\/",268],["T_WHITESPACE","\n    ",273],["T_PUBLIC","public",274],["T_WHITESPACE"," ",274],["T_FUNCTION","function",274],["T_WHITESPACE"," ",274],["T_STRING","addWarning",274],"(",["T_VARIABLE","$message",274],")",["T_WHITESPACE","\n    ",274],"{",["T_WHITESPACE","\n        ",275],["T_VARIABLE","$this",276],["T_OBJECT_OPERATOR","->",276],["T_STRING","addMessage",276],"(",["T_STRING","Mage",276],["T_DOUBLE_COLON","::",276],["T_STRING","getSingleton",276],"(",["T_CONSTANT_ENCAPSED_STRING","'core\/message'",276],")",["T_OBJECT_OPERATOR","->",276],["T_STRING","warning",276],"(",["T_VARIABLE","$message",276],")",")",";",["T_WHITESPACE","\n        ",276],["T_RETURN","return",277],["T_WHITESPACE"," ",277],["T_VARIABLE","$this",277],";",["T_WHITESPACE","\n    ",277],"}",["T_WHITESPACE","\n\n    ",278],["T_DOC_COMMENT","\/**\n     * Adding new notice message\n     *\n     * @param   string $message\n     * @return  Mage_Core_Model_Session_Abstract\n     *\/",280],["T_WHITESPACE","\n    ",285],["T_PUBLIC","public",286],["T_WHITESPACE"," ",286],["T_FUNCTION","function",286],["T_WHITESPACE"," ",286],["T_STRING","addNotice",286],"(",["T_VARIABLE","$message",286],")",["T_WHITESPACE","\n    ",286],"{",["T_WHITESPACE","\n        ",287],["T_VARIABLE","$this",288],["T_OBJECT_OPERATOR","->",288],["T_STRING","addMessage",288],"(",["T_STRING","Mage",288],["T_DOUBLE_COLON","::",288],["T_STRING","getSingleton",288],"(",["T_CONSTANT_ENCAPSED_STRING","'core\/message'",288],")",["T_OBJECT_OPERATOR","->",288],["T_STRING","notice",288],"(",["T_VARIABLE","$message",288],")",")",";",["T_WHITESPACE","\n        ",288],["T_RETURN","return",289],["T_WHITESPACE"," ",289],["T_VARIABLE","$this",289],";",["T_WHITESPACE","\n    ",289],"}",["T_WHITESPACE","\n\n    ",290],["T_DOC_COMMENT","\/**\n     * Adding new success message\n     *\n     * @param   string $message\n     * @return  Mage_Core_Model_Session_Abstract\n     *\/",292],["T_WHITESPACE","\n    ",297],["T_PUBLIC","public",298],["T_WHITESPACE"," ",298],["T_FUNCTION","function",298],["T_WHITESPACE"," ",298],["T_STRING","addSuccess",298],"(",["T_VARIABLE","$message",298],")",["T_WHITESPACE","\n    ",298],"{",["T_WHITESPACE","\n        ",299],["T_VARIABLE","$this",300],["T_OBJECT_OPERATOR","->",300],["T_STRING","addMessage",300],"(",["T_STRING","Mage",300],["T_DOUBLE_COLON","::",300],["T_STRING","getSingleton",300],"(",["T_CONSTANT_ENCAPSED_STRING","'core\/message'",300],")",["T_OBJECT_OPERATOR","->",300],["T_STRING","success",300],"(",["T_VARIABLE","$message",300],")",")",";",["T_WHITESPACE","\n        ",300],["T_RETURN","return",301],["T_WHITESPACE"," ",301],["T_VARIABLE","$this",301],";",["T_WHITESPACE","\n    ",301],"}",["T_WHITESPACE","\n\n    ",302],["T_DOC_COMMENT","\/**\n     * Adding messages array to message collection\n     *\n     * @param   array $messages\n     * @return  Mage_Core_Model_Session_Abstract\n     *\/",304],["T_WHITESPACE","\n    ",309],["T_PUBLIC","public",310],["T_WHITESPACE"," ",310],["T_FUNCTION","function",310],["T_WHITESPACE"," ",310],["T_STRING","addMessages",310],"(",["T_VARIABLE","$messages",310],")",["T_WHITESPACE","\n    ",310],"{",["T_WHITESPACE","\n        ",311],["T_IF","if",312],["T_WHITESPACE"," ",312],"(",["T_STRING","is_array",312],"(",["T_VARIABLE","$messages",312],")",")",["T_WHITESPACE"," ",312],"{",["T_WHITESPACE","\n            ",312],["T_FOREACH","foreach",313],["T_WHITESPACE"," ",313],"(",["T_VARIABLE","$messages",313],["T_WHITESPACE"," ",313],["T_AS","as",313],["T_WHITESPACE"," ",313],["T_VARIABLE","$message",313],")",["T_WHITESPACE"," ",313],"{",["T_WHITESPACE","\n                ",313],["T_VARIABLE","$this",314],["T_OBJECT_OPERATOR","->",314],["T_STRING","addMessage",314],"(",["T_VARIABLE","$message",314],")",";",["T_WHITESPACE","\n            ",314],"}",["T_WHITESPACE","\n        ",315],"}",["T_WHITESPACE","\n        ",316],["T_RETURN","return",317],["T_WHITESPACE"," ",317],["T_VARIABLE","$this",317],";",["T_WHITESPACE","\n    ",317],"}",["T_WHITESPACE","\n\n    ",318],["T_DOC_COMMENT","\/**\n     * Adds messages array to message collection, but doesn't add duplicates to it\n     *\n     * @param   array|string|Mage_Core_Model_Message_Abstract $messages\n     * @return  Mage_Core_Model_Session_Abstract\n     *\/",320],["T_WHITESPACE","\n    ",325],["T_PUBLIC","public",326],["T_WHITESPACE"," ",326],["T_FUNCTION","function",326],["T_WHITESPACE"," ",326],["T_STRING","addUniqueMessages",326],"(",["T_VARIABLE","$messages",326],")",["T_WHITESPACE","\n    ",326],"{",["T_WHITESPACE","\n        ",327],["T_IF","if",328],["T_WHITESPACE"," ",328],"(","!",["T_STRING","is_array",328],"(",["T_VARIABLE","$messages",328],")",")",["T_WHITESPACE"," ",328],"{",["T_WHITESPACE","\n            ",328],["T_VARIABLE","$messages",329],["T_WHITESPACE"," ",329],"=",["T_WHITESPACE"," ",329],["T_ARRAY","array",329],"(",["T_VARIABLE","$messages",329],")",";",["T_WHITESPACE","\n        ",329],"}",["T_WHITESPACE","\n        ",330],["T_IF","if",331],["T_WHITESPACE"," ",331],"(","!",["T_VARIABLE","$messages",331],")",["T_WHITESPACE"," ",331],"{",["T_WHITESPACE","\n            ",331],["T_RETURN","return",332],["T_WHITESPACE"," ",332],["T_VARIABLE","$this",332],";",["T_WHITESPACE","\n        ",332],"}",["T_WHITESPACE","\n\n        ",333],["T_VARIABLE","$messagesAlready",335],["T_WHITESPACE"," ",335],"=",["T_WHITESPACE"," ",335],["T_ARRAY","array",335],"(",")",";",["T_WHITESPACE","\n        ",335],["T_VARIABLE","$items",336],["T_WHITESPACE"," ",336],"=",["T_WHITESPACE"," ",336],["T_VARIABLE","$this",336],["T_OBJECT_OPERATOR","->",336],["T_STRING","getMessages",336],"(",")",["T_OBJECT_OPERATOR","->",336],["T_STRING","getItems",336],"(",")",";",["T_WHITESPACE","\n        ",336],["T_FOREACH","foreach",337],["T_WHITESPACE"," ",337],"(",["T_VARIABLE","$items",337],["T_WHITESPACE"," ",337],["T_AS","as",337],["T_WHITESPACE"," ",337],["T_VARIABLE","$item",337],")",["T_WHITESPACE"," ",337],"{",["T_WHITESPACE","\n            ",337],["T_IF","if",338],["T_WHITESPACE"," ",338],"(",["T_VARIABLE","$item",338],["T_WHITESPACE"," ",338],["T_INSTANCEOF","instanceof",338],["T_WHITESPACE"," ",338],["T_STRING","Mage_Core_Model_Message_Abstract",338],")",["T_WHITESPACE"," ",338],"{",["T_WHITESPACE","\n                ",338],["T_VARIABLE","$text",339],["T_WHITESPACE"," ",339],"=",["T_WHITESPACE"," ",339],["T_VARIABLE","$item",339],["T_OBJECT_OPERATOR","->",339],["T_STRING","getText",339],"(",")",";",["T_WHITESPACE","\n            ",339],"}",["T_WHITESPACE"," ",340],["T_ELSE","else",340],["T_WHITESPACE"," ",340],["T_IF","if",340],["T_WHITESPACE"," ",340],"(",["T_STRING","is_string",340],"(",["T_VARIABLE","$item",340],")",")",["T_WHITESPACE"," ",340],"{",["T_WHITESPACE","\n                ",340],["T_VARIABLE","$text",341],["T_WHITESPACE"," ",341],"=",["T_WHITESPACE"," ",341],["T_VARIABLE","$item",341],";",["T_WHITESPACE","\n            ",341],"}",["T_WHITESPACE"," ",342],["T_ELSE","else",342],["T_WHITESPACE"," ",342],"{",["T_WHITESPACE","\n                ",342],["T_CONTINUE","continue",343],";",["T_WHITESPACE"," ",343],["T_COMMENT","\/\/ Some unknown object, do not put it in already existing messages\n",343],["T_WHITESPACE","            ",344],"}",["T_WHITESPACE","\n            ",344],["T_VARIABLE","$messagesAlready",345],"[",["T_VARIABLE","$text",345],"]",["T_WHITESPACE"," ",345],"=",["T_WHITESPACE"," ",345],["T_STRING","true",345],";",["T_WHITESPACE","\n        ",345],"}",["T_WHITESPACE","\n\n        ",346],["T_FOREACH","foreach",348],["T_WHITESPACE"," ",348],"(",["T_VARIABLE","$messages",348],["T_WHITESPACE"," ",348],["T_AS","as",348],["T_WHITESPACE"," ",348],["T_VARIABLE","$message",348],")",["T_WHITESPACE"," ",348],"{",["T_WHITESPACE","\n            ",348],["T_IF","if",349],["T_WHITESPACE"," ",349],"(",["T_VARIABLE","$message",349],["T_WHITESPACE"," ",349],["T_INSTANCEOF","instanceof",349],["T_WHITESPACE"," ",349],["T_STRING","Mage_Core_Model_Message_Abstract",349],")",["T_WHITESPACE"," ",349],"{",["T_WHITESPACE","\n                ",349],["T_VARIABLE","$text",350],["T_WHITESPACE"," ",350],"=",["T_WHITESPACE"," ",350],["T_VARIABLE","$message",350],["T_OBJECT_OPERATOR","->",350],["T_STRING","getText",350],"(",")",";",["T_WHITESPACE","\n            ",350],"}",["T_WHITESPACE"," ",351],["T_ELSE","else",351],["T_WHITESPACE"," ",351],["T_IF","if",351],["T_WHITESPACE"," ",351],"(",["T_STRING","is_string",351],"(",["T_VARIABLE","$message",351],")",")",["T_WHITESPACE"," ",351],"{",["T_WHITESPACE","\n                ",351],["T_VARIABLE","$text",352],["T_WHITESPACE"," ",352],"=",["T_WHITESPACE"," ",352],["T_VARIABLE","$message",352],";",["T_WHITESPACE","\n            ",352],"}",["T_WHITESPACE"," ",353],["T_ELSE","else",353],["T_WHITESPACE"," ",353],"{",["T_WHITESPACE","\n                ",353],["T_VARIABLE","$text",354],["T_WHITESPACE"," ",354],"=",["T_WHITESPACE"," ",354],["T_STRING","null",354],";",["T_WHITESPACE"," ",354],["T_COMMENT","\/\/ Some unknown object, add it anyway\n",354],["T_WHITESPACE","            ",355],"}",["T_WHITESPACE","\n\n            ",355],["T_COMMENT","\/\/ Check for duplication\n",357],["T_WHITESPACE","            ",358],["T_IF","if",358],["T_WHITESPACE"," ",358],"(",["T_VARIABLE","$text",358],["T_WHITESPACE"," ",358],["T_IS_NOT_IDENTICAL","!==",358],["T_WHITESPACE"," ",358],["T_STRING","null",358],")",["T_WHITESPACE"," ",358],"{",["T_WHITESPACE","\n                ",358],["T_IF","if",359],["T_WHITESPACE"," ",359],"(",["T_ISSET","isset",359],"(",["T_VARIABLE","$messagesAlready",359],"[",["T_VARIABLE","$text",359],"]",")",")",["T_WHITESPACE"," ",359],"{",["T_WHITESPACE","\n                    ",359],["T_CONTINUE","continue",360],";",["T_WHITESPACE","\n                ",360],"}",["T_WHITESPACE","\n                ",361],["T_VARIABLE","$messagesAlready",362],"[",["T_VARIABLE","$text",362],"]",["T_WHITESPACE"," ",362],"=",["T_WHITESPACE"," ",362],["T_STRING","true",362],";",["T_WHITESPACE","\n            ",362],"}",["T_WHITESPACE","\n            ",363],["T_VARIABLE","$this",364],["T_OBJECT_OPERATOR","->",364],["T_STRING","addMessage",364],"(",["T_VARIABLE","$message",364],")",";",["T_WHITESPACE","\n        ",364],"}",["T_WHITESPACE","\n\n        ",365],["T_RETURN","return",367],["T_WHITESPACE"," ",367],["T_VARIABLE","$this",367],";",["T_WHITESPACE","\n    ",367],"}",["T_WHITESPACE","\n\n    ",368],["T_DOC_COMMENT","\/**\n     * Specify session identifier\n     *\n     * @param   string|null $id\n     * @return  Mage_Core_Model_Session_Abstract\n     *\/",370],["T_WHITESPACE","\n    ",375],["T_PUBLIC","public",376],["T_WHITESPACE"," ",376],["T_FUNCTION","function",376],["T_WHITESPACE"," ",376],["T_STRING","setSessionId",376],"(",["T_VARIABLE","$id",376],"=",["T_STRING","null",376],")",["T_WHITESPACE","\n    ",376],"{",["T_WHITESPACE","\n        ",377],["T_IF","if",378],["T_WHITESPACE"," ",378],"(",["T_STRING","is_null",378],"(",["T_VARIABLE","$id",378],")",["T_WHITESPACE"," ",378],["T_BOOLEAN_AND","&&",378],["T_WHITESPACE"," ",378],["T_VARIABLE","$this",378],["T_OBJECT_OPERATOR","->",378],["T_STRING","useSid",378],"(",")",")",["T_WHITESPACE"," ",378],"{",["T_WHITESPACE","\n            ",378],["T_VARIABLE","$_queryParam",379],["T_WHITESPACE"," ",379],"=",["T_WHITESPACE"," ",379],["T_VARIABLE","$this",379],["T_OBJECT_OPERATOR","->",379],["T_STRING","getSessionIdQueryParam",379],"(",")",";",["T_WHITESPACE","\n            ",379],["T_IF","if",380],["T_WHITESPACE"," ",380],"(",["T_ISSET","isset",380],"(",["T_VARIABLE","$_GET",380],"[",["T_VARIABLE","$_queryParam",380],"]",")",["T_WHITESPACE"," ",380],["T_BOOLEAN_AND","&&",380],["T_WHITESPACE"," ",380],["T_STRING","Mage",380],["T_DOUBLE_COLON","::",380],["T_STRING","getSingleton",380],"(",["T_CONSTANT_ENCAPSED_STRING","'core\/url'",380],")",["T_OBJECT_OPERATOR","->",380],["T_STRING","isOwnOriginUrl",380],"(",")",")",["T_WHITESPACE"," ",380],"{",["T_WHITESPACE","\n                ",380],["T_VARIABLE","$id",381],["T_WHITESPACE"," ",381],"=",["T_WHITESPACE"," ",381],["T_VARIABLE","$_GET",381],"[",["T_VARIABLE","$_queryParam",381],"]",";",["T_WHITESPACE","\n            ",381],"}",["T_WHITESPACE","\n        ",382],"}",["T_WHITESPACE","\n\n        ",383],["T_VARIABLE","$this",385],["T_OBJECT_OPERATOR","->",385],["T_STRING","addHost",385],"(",["T_STRING","true",385],")",";",["T_WHITESPACE","\n        ",385],["T_RETURN","return",386],["T_WHITESPACE"," ",386],["T_STRING","parent",386],["T_DOUBLE_COLON","::",386],["T_STRING","setSessionId",386],"(",["T_VARIABLE","$id",386],")",";",["T_WHITESPACE","\n    ",386],"}",["T_WHITESPACE","\n\n    ",387],["T_DOC_COMMENT","\/**\n     * Get encrypted session identifier.\n     * No reason use crypt key for session id encryption, we can use session identifier as is.\n     *\n     * @return string\n     *\/",389],["T_WHITESPACE","\n    ",394],["T_PUBLIC","public",395],["T_WHITESPACE"," ",395],["T_FUNCTION","function",395],["T_WHITESPACE"," ",395],["T_STRING","getEncryptedSessionId",395],"(",")",["T_WHITESPACE","\n    ",395],"{",["T_WHITESPACE","\n        ",396],["T_IF","if",397],["T_WHITESPACE"," ",397],"(","!",["T_STRING","self",397],["T_DOUBLE_COLON","::",397],["T_VARIABLE","$_encryptedSessionId",397],")",["T_WHITESPACE"," ",397],"{",["T_WHITESPACE","\n            ",397],["T_STRING","self",398],["T_DOUBLE_COLON","::",398],["T_VARIABLE","$_encryptedSessionId",398],["T_WHITESPACE"," ",398],"=",["T_WHITESPACE"," ",398],["T_VARIABLE","$this",398],["T_OBJECT_OPERATOR","->",398],["T_STRING","getSessionId",398],"(",")",";",["T_WHITESPACE","\n        ",398],"}",["T_WHITESPACE","\n        ",399],["T_RETURN","return",400],["T_WHITESPACE"," ",400],["T_STRING","self",400],["T_DOUBLE_COLON","::",400],["T_VARIABLE","$_encryptedSessionId",400],";",["T_WHITESPACE","\n    ",400],"}",["T_WHITESPACE","\n\n    ",401],["T_PUBLIC","public",403],["T_WHITESPACE"," ",403],["T_FUNCTION","function",403],["T_WHITESPACE"," ",403],["T_STRING","getSessionIdQueryParam",403],"(",")",["T_WHITESPACE","\n    ",403],"{",["T_WHITESPACE","\n        ",404],["T_VARIABLE","$_sessionName",405],["T_WHITESPACE"," ",405],"=",["T_WHITESPACE"," ",405],["T_VARIABLE","$this",405],["T_OBJECT_OPERATOR","->",405],["T_STRING","getSessionName",405],"(",")",";",["T_WHITESPACE","\n        ",405],["T_IF","if",406],["T_WHITESPACE"," ",406],"(",["T_VARIABLE","$_sessionName",406],["T_WHITESPACE"," ",406],["T_BOOLEAN_AND","&&",406],["T_WHITESPACE"," ",406],["T_VARIABLE","$queryParam",406],["T_WHITESPACE"," ",406],"=",["T_WHITESPACE"," ",406],["T_STRING_CAST","(string)",406],["T_STRING","Mage",406],["T_DOUBLE_COLON","::",406],["T_STRING","getConfig",406],"(",")",["T_OBJECT_OPERATOR","->",406],["T_STRING","getNode",406],"(",["T_VARIABLE","$_sessionName",406],["T_WHITESPACE"," ",406],".",["T_WHITESPACE"," ",406],["T_CONSTANT_ENCAPSED_STRING","'\/session\/query_param'",406],")",")",["T_WHITESPACE"," ",406],"{",["T_WHITESPACE","\n            ",406],["T_RETURN","return",407],["T_WHITESPACE"," ",407],["T_VARIABLE","$queryParam",407],";",["T_WHITESPACE","\n        ",407],"}",["T_WHITESPACE","\n        ",408],["T_RETURN","return",409],["T_WHITESPACE"," ",409],["T_STRING","self",409],["T_DOUBLE_COLON","::",409],["T_STRING","SESSION_ID_QUERY_PARAM",409],";",["T_WHITESPACE","\n    ",409],"}",["T_WHITESPACE","\n\n    ",410],["T_DOC_COMMENT","\/**\n     * Set skip flag if need skip generating of _GET session_id_key param\n     *\n     * @param bool $flag\n     * @return Mage_Core_Model_Session_Abstract\n     *\/",412],["T_WHITESPACE","\n    ",417],["T_PUBLIC","public",418],["T_WHITESPACE"," ",418],["T_FUNCTION","function",418],["T_WHITESPACE"," ",418],["T_STRING","setSkipSessionIdFlag",418],"(",["T_VARIABLE","$flag",418],")",["T_WHITESPACE","\n    ",418],"{",["T_WHITESPACE","\n        ",419],["T_VARIABLE","$this",420],["T_OBJECT_OPERATOR","->",420],["T_STRING","_skipSessionIdFlag",420],["T_WHITESPACE"," ",420],"=",["T_WHITESPACE"," ",420],["T_VARIABLE","$flag",420],";",["T_WHITESPACE","\n        ",420],["T_RETURN","return",421],["T_WHITESPACE"," ",421],["T_VARIABLE","$this",421],";",["T_WHITESPACE","\n    ",421],"}",["T_WHITESPACE","\n\n    ",422],["T_DOC_COMMENT","\/**\n     * Retrieve session id skip flag\n     *\n     * @return bool\n     *\/",424],["T_WHITESPACE","\n    ",428],["T_PUBLIC","public",429],["T_WHITESPACE"," ",429],["T_FUNCTION","function",429],["T_WHITESPACE"," ",429],["T_STRING","getSkipSessionIdFlag",429],"(",")",["T_WHITESPACE","\n    ",429],"{",["T_WHITESPACE","\n        ",430],["T_RETURN","return",431],["T_WHITESPACE"," ",431],["T_VARIABLE","$this",431],["T_OBJECT_OPERATOR","->",431],["T_STRING","_skipSessionIdFlag",431],";",["T_WHITESPACE","\n    ",431],"}",["T_WHITESPACE","\n\n    ",432],["T_DOC_COMMENT","\/**\n     * If session cookie is not applicable due to host or path mismatch - add session id to query\n     *\n     * @param string $urlHost can be host or url\n     * @return string {session_id_key}={session_id_encrypted}\n     *\/",434],["T_WHITESPACE","\n    ",439],["T_PUBLIC","public",440],["T_WHITESPACE"," ",440],["T_FUNCTION","function",440],["T_WHITESPACE"," ",440],["T_STRING","getSessionIdForHost",440],"(",["T_VARIABLE","$urlHost",440],")",["T_WHITESPACE","\n    ",440],"{",["T_WHITESPACE","\n        ",441],["T_IF","if",442],["T_WHITESPACE"," ",442],"(",["T_VARIABLE","$this",442],["T_OBJECT_OPERATOR","->",442],["T_STRING","getSkipSessionIdFlag",442],"(",")",["T_WHITESPACE"," ",442],["T_IS_IDENTICAL","===",442],["T_WHITESPACE"," ",442],["T_STRING","true",442],")",["T_WHITESPACE"," ",442],"{",["T_WHITESPACE","\n            ",442],["T_RETURN","return",443],["T_WHITESPACE"," ",443],["T_CONSTANT_ENCAPSED_STRING","''",443],";",["T_WHITESPACE","\n        ",443],"}",["T_WHITESPACE","\n\n        ",444],["T_VARIABLE","$httpHost",446],["T_WHITESPACE"," ",446],"=",["T_WHITESPACE"," ",446],["T_STRING","Mage",446],["T_DOUBLE_COLON","::",446],["T_STRING","app",446],"(",")",["T_OBJECT_OPERATOR","->",446],["T_STRING","getFrontController",446],"(",")",["T_OBJECT_OPERATOR","->",446],["T_STRING","getRequest",446],"(",")",["T_OBJECT_OPERATOR","->",446],["T_STRING","getHttpHost",446],"(",")",";",["T_WHITESPACE","\n        ",446],["T_IF","if",447],["T_WHITESPACE"," ",447],"(","!",["T_VARIABLE","$httpHost",447],")",["T_WHITESPACE"," ",447],"{",["T_WHITESPACE","\n            ",447],["T_RETURN","return",448],["T_WHITESPACE"," ",448],["T_CONSTANT_ENCAPSED_STRING","''",448],";",["T_WHITESPACE","\n        ",448],"}",["T_WHITESPACE","\n\n        ",449],["T_VARIABLE","$urlHostArr",451],["T_WHITESPACE"," ",451],"=",["T_WHITESPACE"," ",451],["T_STRING","explode",451],"(",["T_CONSTANT_ENCAPSED_STRING","'\/'",451],",",["T_WHITESPACE"," ",451],["T_VARIABLE","$urlHost",451],",",["T_WHITESPACE"," ",451],["T_LNUMBER","4",451],")",";",["T_WHITESPACE","\n        ",451],["T_IF","if",452],["T_WHITESPACE"," ",452],"(","!",["T_EMPTY","empty",452],"(",["T_VARIABLE","$urlHostArr",452],"[",["T_LNUMBER","2",452],"]",")",")",["T_WHITESPACE"," ",452],"{",["T_WHITESPACE","\n            ",452],["T_VARIABLE","$urlHost",453],["T_WHITESPACE"," ",453],"=",["T_WHITESPACE"," ",453],["T_VARIABLE","$urlHostArr",453],"[",["T_LNUMBER","2",453],"]",";",["T_WHITESPACE","\n        ",453],"}",["T_WHITESPACE","\n        ",454],["T_VARIABLE","$urlPath",455],["T_WHITESPACE"," ",455],"=",["T_WHITESPACE"," ",455],["T_EMPTY","empty",455],"(",["T_VARIABLE","$urlHostArr",455],"[",["T_LNUMBER","3",455],"]",")",["T_WHITESPACE"," ",455],"?",["T_WHITESPACE"," ",455],["T_CONSTANT_ENCAPSED_STRING","''",455],["T_WHITESPACE"," ",455],":",["T_WHITESPACE"," ",455],["T_VARIABLE","$urlHostArr",455],"[",["T_LNUMBER","3",455],"]",";",["T_WHITESPACE","\n\n        ",455],["T_IF","if",457],["T_WHITESPACE"," ",457],"(","!",["T_ISSET","isset",457],"(",["T_STRING","self",457],["T_DOUBLE_COLON","::",457],["T_VARIABLE","$_urlHostCache",457],"[",["T_VARIABLE","$urlHost",457],"]",")",")",["T_WHITESPACE"," ",457],"{",["T_WHITESPACE","\n            ",457],["T_VARIABLE","$urlHostArr",458],["T_WHITESPACE"," ",458],"=",["T_WHITESPACE"," ",458],["T_STRING","explode",458],"(",["T_CONSTANT_ENCAPSED_STRING","':'",458],",",["T_WHITESPACE"," ",458],["T_VARIABLE","$urlHost",458],")",";",["T_WHITESPACE","\n            ",458],["T_VARIABLE","$urlHost",459],["T_WHITESPACE"," ",459],"=",["T_WHITESPACE"," ",459],["T_VARIABLE","$urlHostArr",459],"[",["T_LNUMBER","0",459],"]",";",["T_WHITESPACE","\n            ",459],["T_VARIABLE","$sessionId",460],["T_WHITESPACE"," ",460],"=",["T_WHITESPACE"," ",460],["T_VARIABLE","$httpHost",460],["T_WHITESPACE"," ",460],["T_IS_NOT_IDENTICAL","!==",460],["T_WHITESPACE"," ",460],["T_VARIABLE","$urlHost",460],["T_WHITESPACE"," ",460],["T_BOOLEAN_AND","&&",460],["T_WHITESPACE"," ",460],"!",["T_VARIABLE","$this",460],["T_OBJECT_OPERATOR","->",460],["T_STRING","isValidForHost",460],"(",["T_VARIABLE","$urlHost",460],")",["T_WHITESPACE","\n                ",460],"?",["T_WHITESPACE"," ",461],["T_VARIABLE","$this",461],["T_OBJECT_OPERATOR","->",461],["T_STRING","getEncryptedSessionId",461],"(",")",["T_WHITESPACE"," ",461],":",["T_WHITESPACE"," ",461],["T_CONSTANT_ENCAPSED_STRING","''",461],";",["T_WHITESPACE","\n            ",461],["T_STRING","self",462],["T_DOUBLE_COLON","::",462],["T_VARIABLE","$_urlHostCache",462],"[",["T_VARIABLE","$urlHost",462],"]",["T_WHITESPACE"," ",462],"=",["T_WHITESPACE"," ",462],["T_VARIABLE","$sessionId",462],";",["T_WHITESPACE","\n        ",462],"}",["T_WHITESPACE","\n\n        ",463],["T_RETURN","return",465],["T_WHITESPACE"," ",465],["T_STRING","Mage",465],["T_DOUBLE_COLON","::",465],["T_STRING","app",465],"(",")",["T_OBJECT_OPERATOR","->",465],["T_STRING","getStore",465],"(",")",["T_OBJECT_OPERATOR","->",465],["T_STRING","isAdmin",465],"(",")",["T_WHITESPACE"," ",465],["T_BOOLEAN_OR","||",465],["T_WHITESPACE"," ",465],["T_VARIABLE","$this",465],["T_OBJECT_OPERATOR","->",465],["T_STRING","isValidForPath",465],"(",["T_VARIABLE","$urlPath",465],")",["T_WHITESPACE"," ",465],"?",["T_WHITESPACE"," ",465],["T_STRING","self",465],["T_DOUBLE_COLON","::",465],["T_VARIABLE","$_urlHostCache",465],"[",["T_VARIABLE","$urlHost",465],"]",["T_WHITESPACE","\n            ",465],":",["T_WHITESPACE"," ",466],["T_VARIABLE","$this",466],["T_OBJECT_OPERATOR","->",466],["T_STRING","getEncryptedSessionId",466],"(",")",";",["T_WHITESPACE","\n    ",466],"}",["T_WHITESPACE","\n\n    ",467],["T_DOC_COMMENT","\/**\n     * Check if session is valid for given hostname\n     *\n     * @param string $host\n     * @return bool\n     *\/",469],["T_WHITESPACE","\n    ",474],["T_PUBLIC","public",475],["T_WHITESPACE"," ",475],["T_FUNCTION","function",475],["T_WHITESPACE"," ",475],["T_STRING","isValidForHost",475],"(",["T_VARIABLE","$host",475],")",["T_WHITESPACE","\n    ",475],"{",["T_WHITESPACE","\n        ",476],["T_VARIABLE","$hostArr",477],["T_WHITESPACE"," ",477],"=",["T_WHITESPACE"," ",477],["T_STRING","explode",477],"(",["T_CONSTANT_ENCAPSED_STRING","':'",477],",",["T_WHITESPACE"," ",477],["T_VARIABLE","$host",477],")",";",["T_WHITESPACE","\n        ",477],["T_VARIABLE","$hosts",478],["T_WHITESPACE"," ",478],"=",["T_WHITESPACE"," ",478],["T_VARIABLE","$this",478],["T_OBJECT_OPERATOR","->",478],["T_STRING","getSessionHosts",478],"(",")",";",["T_WHITESPACE","\n        ",478],["T_RETURN","return",479],["T_WHITESPACE"," ",479],"!",["T_EMPTY","empty",479],"(",["T_VARIABLE","$hosts",479],"[",["T_VARIABLE","$hostArr",479],"[",["T_LNUMBER","0",479],"]","]",")",";",["T_WHITESPACE","\n    ",479],"}",["T_WHITESPACE","\n\n    ",480],["T_DOC_COMMENT","\/**\n     * Check if session is valid for given path\n     *\n     * @param string $path\n     * @return bool\n     *\/",482],["T_WHITESPACE","\n    ",487],["T_PUBLIC","public",488],["T_WHITESPACE"," ",488],["T_FUNCTION","function",488],["T_WHITESPACE"," ",488],["T_STRING","isValidForPath",488],"(",["T_VARIABLE","$path",488],")",["T_WHITESPACE","\n    ",488],"{",["T_WHITESPACE","\n        ",489],["T_VARIABLE","$cookiePath",490],["T_WHITESPACE"," ",490],"=",["T_WHITESPACE"," ",490],["T_STRING","trim",490],"(",["T_VARIABLE","$this",490],["T_OBJECT_OPERATOR","->",490],["T_STRING","getCookiePath",490],"(",")",",",["T_WHITESPACE"," ",490],["T_CONSTANT_ENCAPSED_STRING","'\/'",490],")",["T_WHITESPACE"," ",490],".",["T_WHITESPACE"," ",490],["T_CONSTANT_ENCAPSED_STRING","'\/'",490],";",["T_WHITESPACE","\n        ",490],["T_IF","if",491],["T_WHITESPACE"," ",491],"(",["T_VARIABLE","$cookiePath",491],["T_WHITESPACE"," ",491],["T_IS_EQUAL","==",491],["T_WHITESPACE"," ",491],["T_CONSTANT_ENCAPSED_STRING","'\/'",491],")",["T_WHITESPACE"," ",491],"{",["T_WHITESPACE","\n            ",491],["T_RETURN","return",492],["T_WHITESPACE"," ",492],["T_STRING","true",492],";",["T_WHITESPACE","\n        ",492],"}",["T_WHITESPACE","\n\n        ",493],["T_VARIABLE","$urlPath",495],["T_WHITESPACE"," ",495],"=",["T_WHITESPACE"," ",495],["T_STRING","trim",495],"(",["T_VARIABLE","$path",495],",",["T_WHITESPACE"," ",495],["T_CONSTANT_ENCAPSED_STRING","'\/'",495],")",["T_WHITESPACE"," ",495],".",["T_WHITESPACE"," ",495],["T_CONSTANT_ENCAPSED_STRING","'\/'",495],";",["T_WHITESPACE","\n\n        ",495],["T_RETURN","return",497],["T_WHITESPACE"," ",497],["T_STRING","strpos",497],"(",["T_VARIABLE","$urlPath",497],",",["T_WHITESPACE"," ",497],["T_VARIABLE","$cookiePath",497],")",["T_WHITESPACE"," ",497],["T_IS_IDENTICAL","===",497],["T_WHITESPACE"," ",497],["T_LNUMBER","0",497],";",["T_WHITESPACE","\n    ",497],"}",["T_WHITESPACE","\n\n    ",498],["T_DOC_COMMENT","\/**\n     * Add hostname to session\n     *\n     * @param string $host\n     * @return Mage_Core_Model_Session_Abstract\n     *\/",500],["T_WHITESPACE","\n    ",505],["T_PUBLIC","public",506],["T_WHITESPACE"," ",506],["T_FUNCTION","function",506],["T_WHITESPACE"," ",506],["T_STRING","addHost",506],"(",["T_VARIABLE","$host",506],")",["T_WHITESPACE","\n    ",506],"{",["T_WHITESPACE","\n        ",507],["T_IF","if",508],["T_WHITESPACE"," ",508],"(",["T_VARIABLE","$host",508],["T_WHITESPACE"," ",508],["T_IS_IDENTICAL","===",508],["T_WHITESPACE"," ",508],["T_STRING","true",508],")",["T_WHITESPACE"," ",508],"{",["T_WHITESPACE","\n            ",508],["T_IF","if",509],["T_WHITESPACE"," ",509],"(","!",["T_VARIABLE","$host",509],["T_WHITESPACE"," ",509],"=",["T_WHITESPACE"," ",509],["T_STRING","Mage",509],["T_DOUBLE_COLON","::",509],["T_STRING","app",509],"(",")",["T_OBJECT_OPERATOR","->",509],["T_STRING","getFrontController",509],"(",")",["T_OBJECT_OPERATOR","->",509],["T_STRING","getRequest",509],"(",")",["T_OBJECT_OPERATOR","->",509],["T_STRING","getHttpHost",509],"(",")",")",["T_WHITESPACE"," ",509],"{",["T_WHITESPACE","\n                ",509],["T_RETURN","return",510],["T_WHITESPACE"," ",510],["T_VARIABLE","$this",510],";",["T_WHITESPACE","\n            ",510],"}",["T_WHITESPACE","\n        ",511],"}",["T_WHITESPACE","\n\n        ",512],["T_IF","if",514],["T_WHITESPACE"," ",514],"(","!",["T_VARIABLE","$host",514],")",["T_WHITESPACE"," ",514],"{",["T_WHITESPACE","\n            ",514],["T_RETURN","return",515],["T_WHITESPACE"," ",515],["T_VARIABLE","$this",515],";",["T_WHITESPACE","\n        ",515],"}",["T_WHITESPACE","\n\n        ",516],["T_VARIABLE","$hosts",518],["T_WHITESPACE"," ",518],"=",["T_WHITESPACE"," ",518],["T_VARIABLE","$this",518],["T_OBJECT_OPERATOR","->",518],["T_STRING","getSessionHosts",518],"(",")",";",["T_WHITESPACE","\n        ",518],["T_VARIABLE","$hosts",519],"[",["T_VARIABLE","$host",519],"]",["T_WHITESPACE"," ",519],"=",["T_WHITESPACE"," ",519],["T_STRING","true",519],";",["T_WHITESPACE","\n        ",519],["T_VARIABLE","$this",520],["T_OBJECT_OPERATOR","->",520],["T_STRING","setSessionHosts",520],"(",["T_VARIABLE","$hosts",520],")",";",["T_WHITESPACE","\n        ",520],["T_RETURN","return",521],["T_WHITESPACE"," ",521],["T_VARIABLE","$this",521],";",["T_WHITESPACE","\n    ",521],"}",["T_WHITESPACE","\n\n    ",522],["T_DOC_COMMENT","\/**\n     * Retrieve session hostnames\n     *\n     * @return array\n     *\/",524],["T_WHITESPACE","\n    ",528],["T_PUBLIC","public",529],["T_WHITESPACE"," ",529],["T_FUNCTION","function",529],["T_WHITESPACE"," ",529],["T_STRING","getSessionHosts",529],"(",")",["T_WHITESPACE","\n    ",529],"{",["T_WHITESPACE","\n        ",530],["T_RETURN","return",531],["T_WHITESPACE"," ",531],["T_STRING","parent",531],["T_DOUBLE_COLON","::",531],["T_STRING","getSessionHosts",531],"(",")",";",["T_WHITESPACE","\n    ",531],"}",["T_WHITESPACE","\n\n    ",532],["T_DOC_COMMENT","\/**\n     * Retrieve session save method\n     *\n     * @return string\n     *\/",534],["T_WHITESPACE","\n    ",538],["T_PUBLIC","public",539],["T_WHITESPACE"," ",539],["T_FUNCTION","function",539],["T_WHITESPACE"," ",539],["T_STRING","getSessionSaveMethod",539],"(",")",["T_WHITESPACE","\n    ",539],"{",["T_WHITESPACE","\n        ",540],["T_IF","if",541],["T_WHITESPACE"," ",541],"(",["T_STRING","Mage",541],["T_DOUBLE_COLON","::",541],["T_STRING","isInstalled",541],"(",")",["T_WHITESPACE"," ",541],["T_BOOLEAN_AND","&&",541],["T_WHITESPACE"," ",541],["T_VARIABLE","$sessionSave",541],["T_WHITESPACE"," ",541],"=",["T_WHITESPACE"," ",541],["T_STRING","Mage",541],["T_DOUBLE_COLON","::",541],["T_STRING","getConfig",541],"(",")",["T_OBJECT_OPERATOR","->",541],["T_STRING","getNode",541],"(",["T_STRING","self",541],["T_DOUBLE_COLON","::",541],["T_STRING","XML_NODE_SESSION_SAVE",541],")",")",["T_WHITESPACE"," ",541],"{",["T_WHITESPACE","\n            ",541],["T_RETURN","return",542],["T_WHITESPACE"," ",542],["T_VARIABLE","$sessionSave",542],";",["T_WHITESPACE","\n        ",542],"}",["T_WHITESPACE","\n        ",543],["T_RETURN","return",544],["T_WHITESPACE"," ",544],["T_STRING","parent",544],["T_DOUBLE_COLON","::",544],["T_STRING","getSessionSaveMethod",544],"(",")",";",["T_WHITESPACE","\n    ",544],"}",["T_WHITESPACE","\n\n    ",545],["T_DOC_COMMENT","\/**\n     * Get session save path\n     *\n     * @return string\n     *\/",547],["T_WHITESPACE","\n    ",551],["T_PUBLIC","public",552],["T_WHITESPACE"," ",552],["T_FUNCTION","function",552],["T_WHITESPACE"," ",552],["T_STRING","getSessionSavePath",552],"(",")",["T_WHITESPACE","\n    ",552],"{",["T_WHITESPACE","\n        ",553],["T_IF","if",554],["T_WHITESPACE"," ",554],"(",["T_STRING","Mage",554],["T_DOUBLE_COLON","::",554],["T_STRING","isInstalled",554],"(",")",["T_WHITESPACE"," ",554],["T_BOOLEAN_AND","&&",554],["T_WHITESPACE"," ",554],["T_VARIABLE","$sessionSavePath",554],["T_WHITESPACE"," ",554],"=",["T_WHITESPACE"," ",554],["T_STRING","Mage",554],["T_DOUBLE_COLON","::",554],["T_STRING","getConfig",554],"(",")",["T_OBJECT_OPERATOR","->",554],["T_STRING","getNode",554],"(",["T_STRING","self",554],["T_DOUBLE_COLON","::",554],["T_STRING","XML_NODE_SESSION_SAVE_PATH",554],")",")",["T_WHITESPACE"," ",554],"{",["T_WHITESPACE","\n            ",554],["T_RETURN","return",555],["T_WHITESPACE"," ",555],["T_VARIABLE","$sessionSavePath",555],";",["T_WHITESPACE","\n        ",555],"}",["T_WHITESPACE","\n        ",556],["T_RETURN","return",557],["T_WHITESPACE"," ",557],["T_STRING","parent",557],["T_DOUBLE_COLON","::",557],["T_STRING","getSessionSavePath",557],"(",")",";",["T_WHITESPACE","\n    ",557],"}",["T_WHITESPACE","\n\n    ",558],["T_DOC_COMMENT","\/**\n     * Renew session id and update session cookie\n     *\n     * @return Mage_Core_Model_Session_Abstract\n     *\/",560],["T_WHITESPACE","\n    ",564],["T_PUBLIC","public",565],["T_WHITESPACE"," ",565],["T_FUNCTION","function",565],["T_WHITESPACE"," ",565],["T_STRING","renewSession",565],"(",")",["T_WHITESPACE","\n    ",565],"{",["T_WHITESPACE","\n        ",566],["T_VARIABLE","$this",567],["T_OBJECT_OPERATOR","->",567],["T_STRING","getCookie",567],"(",")",["T_OBJECT_OPERATOR","->",567],["T_STRING","delete",567],"(",["T_VARIABLE","$this",567],["T_OBJECT_OPERATOR","->",567],["T_STRING","getSessionName",567],"(",")",")",";",["T_WHITESPACE","\n        ",567],["T_VARIABLE","$this",568],["T_OBJECT_OPERATOR","->",568],["T_STRING","regenerateSessionId",568],"(",")",";",["T_WHITESPACE","\n\n        ",568],["T_VARIABLE","$sessionHosts",570],["T_WHITESPACE"," ",570],"=",["T_WHITESPACE"," ",570],["T_VARIABLE","$this",570],["T_OBJECT_OPERATOR","->",570],["T_STRING","getSessionHosts",570],"(",")",";",["T_WHITESPACE","\n        ",570],["T_VARIABLE","$currentCookieDomain",571],["T_WHITESPACE"," ",571],"=",["T_WHITESPACE"," ",571],["T_VARIABLE","$this",571],["T_OBJECT_OPERATOR","->",571],["T_STRING","getCookie",571],"(",")",["T_OBJECT_OPERATOR","->",571],["T_STRING","getDomain",571],"(",")",";",["T_WHITESPACE","\n        ",571],["T_IF","if",572],["T_WHITESPACE"," ",572],"(",["T_STRING","is_array",572],"(",["T_VARIABLE","$sessionHosts",572],")",")",["T_WHITESPACE"," ",572],"{",["T_WHITESPACE","\n            ",572],["T_FOREACH","foreach",573],["T_WHITESPACE"," ",573],"(",["T_STRING","array_keys",573],"(",["T_VARIABLE","$sessionHosts",573],")",["T_WHITESPACE"," ",573],["T_AS","as",573],["T_WHITESPACE"," ",573],["T_VARIABLE","$host",573],")",["T_WHITESPACE"," ",573],"{",["T_WHITESPACE","\n                ",573],["T_COMMENT","\/\/ Delete cookies with the same name for parent domains\n",574],["T_WHITESPACE","                ",575],["T_IF","if",575],["T_WHITESPACE"," ",575],"(",["T_STRING","strpos",575],"(",["T_VARIABLE","$currentCookieDomain",575],",",["T_WHITESPACE"," ",575],["T_VARIABLE","$host",575],")",["T_WHITESPACE"," ",575],">",["T_WHITESPACE"," ",575],["T_LNUMBER","0",575],")",["T_WHITESPACE"," ",575],"{",["T_WHITESPACE","\n                    ",575],["T_VARIABLE","$this",576],["T_OBJECT_OPERATOR","->",576],["T_STRING","getCookie",576],"(",")",["T_OBJECT_OPERATOR","->",576],["T_STRING","delete",576],"(",["T_VARIABLE","$this",576],["T_OBJECT_OPERATOR","->",576],["T_STRING","getSessionName",576],"(",")",",",["T_WHITESPACE"," ",576],["T_STRING","null",576],",",["T_WHITESPACE"," ",576],["T_VARIABLE","$host",576],")",";",["T_WHITESPACE","\n                ",576],"}",["T_WHITESPACE","\n            ",577],"}",["T_WHITESPACE","\n        ",578],"}",["T_WHITESPACE","\n\n        ",579],["T_RETURN","return",581],["T_WHITESPACE"," ",581],["T_VARIABLE","$this",581],";",["T_WHITESPACE","\n    ",581],"}",["T_WHITESPACE","\n",582],"}",["T_WHITESPACE","\n",583]]