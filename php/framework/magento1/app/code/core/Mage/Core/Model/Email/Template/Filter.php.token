[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Magento\n *\n * NOTICE OF LICENSE\n *\n * This source file is subject to the Open Software License (OSL 3.0)\n * that is bundled with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/opensource.org\/licenses\/osl-3.0.php\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@magento.com so we can send you a copy immediately.\n *\n * DISCLAIMER\n *\n * Do not edit or add to this file if you wish to upgrade Magento to newer\n * versions in the future. If you wish to customize Magento for your\n * needs please refer to http:\/\/www.magento.com for more information.\n *\n * @category    Mage\n * @package     Mage_Core\n * @copyright  Copyright (c) 2006-2016 X.commerce, Inc. and affiliates (http:\/\/www.magento.com)\n * @license    http:\/\/opensource.org\/licenses\/osl-3.0.php  Open Software License (OSL 3.0)\n *\/",2],["T_WHITESPACE","\n\n\n",25],["T_DOC_COMMENT","\/**\n * Core Email Template Filter Model\n *\n * @category   Mage\n * @package    Mage_Core\n * @author     Magento Core Team <core@magentocommerce.com>\n *\/",28],["T_WHITESPACE","\n",34],["T_CLASS","class",35],["T_WHITESPACE"," ",35],["T_STRING","Mage_Core_Model_Email_Template_Filter",35],["T_WHITESPACE"," ",35],["T_EXTENDS","extends",35],["T_WHITESPACE"," ",35],["T_STRING","Varien_Filter_Template",35],["T_WHITESPACE","\n",35],"{",["T_WHITESPACE","\n    ",36],["T_DOC_COMMENT","\/**\n     * Use absolute links flag\n     *\n     * @var bool\n     *\/",37],["T_WHITESPACE","\n    ",41],["T_PROTECTED","protected",42],["T_WHITESPACE"," ",42],["T_VARIABLE","$_useAbsoluteLinks",42],["T_WHITESPACE"," ",42],"=",["T_WHITESPACE"," ",42],["T_STRING","false",42],";",["T_WHITESPACE","\n\n    ",42],["T_DOC_COMMENT","\/**\n     * Whether to allow SID in store directive: NO\n     *\n     * @var bool\n     *\/",44],["T_WHITESPACE","\n    ",48],["T_PROTECTED","protected",49],["T_WHITESPACE"," ",49],["T_VARIABLE","$_useSessionInUrl",49],["T_WHITESPACE"," ",49],"=",["T_WHITESPACE"," ",49],["T_STRING","false",49],";",["T_WHITESPACE","\n\n    ",49],["T_DOC_COMMENT","\/**\n     * @deprecated after 1.4.0.0-alpha2\n     * @var Mage_Core_Model_Url\n     *\/",51],["T_WHITESPACE","\n    ",54],["T_PROTECTED","protected",55],["T_WHITESPACE"," ",55],["T_STATIC","static",55],["T_WHITESPACE"," ",55],["T_VARIABLE","$_urlInstance",55],";",["T_WHITESPACE","\n\n    ",55],["T_DOC_COMMENT","\/**\n     * Modifier Callbacks\n     *\n     * @var array\n     *\/",57],["T_WHITESPACE","\n    ",61],["T_PROTECTED","protected",62],["T_WHITESPACE"," ",62],["T_VARIABLE","$_modifiers",62],["T_WHITESPACE"," ",62],"=",["T_WHITESPACE"," ",62],["T_ARRAY","array",62],"(",["T_CONSTANT_ENCAPSED_STRING","'nl2br'",62],["T_WHITESPACE","  ",62],["T_DOUBLE_ARROW","=>",62],["T_WHITESPACE"," ",62],["T_CONSTANT_ENCAPSED_STRING","''",62],")",";",["T_WHITESPACE","\n\n    ",62],["T_PROTECTED","protected",64],["T_WHITESPACE"," ",64],["T_VARIABLE","$_storeId",64],["T_WHITESPACE"," ",64],"=",["T_WHITESPACE"," ",64],["T_STRING","null",64],";",["T_WHITESPACE","\n\n    ",64],["T_PROTECTED","protected",66],["T_WHITESPACE"," ",66],["T_VARIABLE","$_plainTemplateMode",66],["T_WHITESPACE"," ",66],"=",["T_WHITESPACE"," ",66],["T_STRING","false",66],";",["T_WHITESPACE","\n\n    ",66],["T_DOC_COMMENT","\/**\n     * @var bool|string\n     *\/",68],["T_WHITESPACE","\n    ",70],["T_PROTECTED","protected",71],["T_WHITESPACE"," ",71],["T_VARIABLE","$_inlineCssFile",71],["T_WHITESPACE"," ",71],"=",["T_WHITESPACE"," ",71],["T_STRING","false",71],";",["T_WHITESPACE","\n\n    ",71],["T_DOC_COMMENT","\/** @var Mage_Admin_Model_Variable  *\/",73],["T_WHITESPACE","\n    ",73],["T_PROTECTED","protected",74],["T_WHITESPACE"," ",74],["T_VARIABLE","$_permissionVariable",74],";",["T_WHITESPACE","\n\n    ",74],["T_DOC_COMMENT","\/** @var Mage_Admin_Model_Block  *\/",76],["T_WHITESPACE","\n    ",76],["T_PROTECTED","protected",77],["T_WHITESPACE"," ",77],["T_VARIABLE","$_permissionBlock",77],";",["T_WHITESPACE","\n\n    ",77],["T_DOC_COMMENT","\/**\n     * Setup callbacks for filters\n     *\n     *\/",79],["T_WHITESPACE","\n    ",82],["T_PUBLIC","public",83],["T_WHITESPACE"," ",83],["T_FUNCTION","function",83],["T_WHITESPACE"," ",83],["T_STRING","__construct",83],"(",")",["T_WHITESPACE","\n    ",83],"{",["T_WHITESPACE","\n        ",84],["T_VARIABLE","$this",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","_modifiers",85],"[",["T_CONSTANT_ENCAPSED_STRING","'escape'",85],"]",["T_WHITESPACE"," ",85],"=",["T_WHITESPACE"," ",85],["T_ARRAY","array",85],"(",["T_VARIABLE","$this",85],",",["T_WHITESPACE"," ",85],["T_CONSTANT_ENCAPSED_STRING","'modifierEscape'",85],")",";",["T_WHITESPACE","\n        ",85],["T_VARIABLE","$this",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","_permissionVariable",86],["T_WHITESPACE"," ",86],"=",["T_WHITESPACE"," ",86],["T_STRING","Mage",86],["T_DOUBLE_COLON","::",86],["T_STRING","getModel",86],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/variable'",86],")",";",["T_WHITESPACE","\n        ",86],["T_VARIABLE","$this",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","_permissionBlock",87],["T_WHITESPACE"," ",87],"=",["T_WHITESPACE"," ",87],["T_STRING","Mage",87],["T_DOUBLE_COLON","::",87],["T_STRING","getModel",87],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/block'",87],")",";",["T_WHITESPACE","\n    ",87],"}",["T_WHITESPACE","\n\n    ",88],["T_DOC_COMMENT","\/**\n     * Set use absolute links flag\n     *\n     * @param bool $flag\n     * @return Mage_Core_Model_Email_Template_Filter\n     *\/",90],["T_WHITESPACE","\n    ",95],["T_PUBLIC","public",96],["T_WHITESPACE"," ",96],["T_FUNCTION","function",96],["T_WHITESPACE"," ",96],["T_STRING","setUseAbsoluteLinks",96],"(",["T_VARIABLE","$flag",96],")",["T_WHITESPACE","\n    ",96],"{",["T_WHITESPACE","\n        ",97],["T_VARIABLE","$this",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","_useAbsoluteLinks",98],["T_WHITESPACE"," ",98],"=",["T_WHITESPACE"," ",98],["T_VARIABLE","$flag",98],";",["T_WHITESPACE","\n        ",98],["T_RETURN","return",99],["T_WHITESPACE"," ",99],["T_VARIABLE","$this",99],";",["T_WHITESPACE","\n    ",99],"}",["T_WHITESPACE","\n\n    ",100],["T_DOC_COMMENT","\/**\n     * Setter whether SID is allowed in store directive\n     * Doesn't set anything intentionally, since SID is not allowed in any kind of emails\n     *\n     * @param bool $flag\n     * @return Mage_Core_Model_Email_Template_Filter\n     *\/",102],["T_WHITESPACE","\n    ",108],["T_PUBLIC","public",109],["T_WHITESPACE"," ",109],["T_FUNCTION","function",109],["T_WHITESPACE"," ",109],["T_STRING","setUseSessionInUrl",109],"(",["T_VARIABLE","$flag",109],")",["T_WHITESPACE","\n    ",109],"{",["T_WHITESPACE","\n        ",110],["T_VARIABLE","$this",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","_useSessionInUrl",111],["T_WHITESPACE"," ",111],"=",["T_WHITESPACE"," ",111],["T_VARIABLE","$flag",111],";",["T_WHITESPACE","\n        ",111],["T_RETURN","return",112],["T_WHITESPACE"," ",112],["T_VARIABLE","$this",112],";",["T_WHITESPACE","\n    ",112],"}",["T_WHITESPACE","\n\n    ",113],["T_DOC_COMMENT","\/**\n     * Setter\n     *\n     * @param boolean $plainTemplateMode\n     * @return Mage_Core_Model_Email_Template_Filter\n     *\/",115],["T_WHITESPACE","\n    ",120],["T_PUBLIC","public",121],["T_WHITESPACE"," ",121],["T_FUNCTION","function",121],["T_WHITESPACE"," ",121],["T_STRING","setPlainTemplateMode",121],"(",["T_VARIABLE","$plainTemplateMode",121],")",["T_WHITESPACE","\n    ",121],"{",["T_WHITESPACE","\n        ",122],["T_VARIABLE","$this",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","_plainTemplateMode",123],["T_WHITESPACE"," ",123],"=",["T_WHITESPACE"," ",123],["T_BOOL_CAST","(bool)",123],["T_VARIABLE","$plainTemplateMode",123],";",["T_WHITESPACE","\n        ",123],["T_RETURN","return",124],["T_WHITESPACE"," ",124],["T_VARIABLE","$this",124],";",["T_WHITESPACE","\n    ",124],"}",["T_WHITESPACE","\n\n    ",125],["T_DOC_COMMENT","\/**\n     * Getter\n     *\n     * @return boolean\n     *\/",127],["T_WHITESPACE","\n    ",131],["T_PUBLIC","public",132],["T_WHITESPACE"," ",132],["T_FUNCTION","function",132],["T_WHITESPACE"," ",132],["T_STRING","getPlainTemplateMode",132],"(",")",["T_WHITESPACE","\n    ",132],"{",["T_WHITESPACE","\n        ",133],["T_RETURN","return",134],["T_WHITESPACE"," ",134],["T_VARIABLE","$this",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","_plainTemplateMode",134],";",["T_WHITESPACE","\n    ",134],"}",["T_WHITESPACE","\n\n    ",135],["T_DOC_COMMENT","\/**\n     * Setter\n     *\n     * @param integer $storeId\n     * @return Mage_Core_Model_Email_Template_Filter\n     *\/",137],["T_WHITESPACE","\n    ",142],["T_PUBLIC","public",143],["T_WHITESPACE"," ",143],["T_FUNCTION","function",143],["T_WHITESPACE"," ",143],["T_STRING","setStoreId",143],"(",["T_VARIABLE","$storeId",143],")",["T_WHITESPACE","\n    ",143],"{",["T_WHITESPACE","\n        ",144],["T_VARIABLE","$this",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","_storeId",145],["T_WHITESPACE"," ",145],"=",["T_WHITESPACE"," ",145],["T_VARIABLE","$storeId",145],";",["T_WHITESPACE","\n        ",145],["T_RETURN","return",146],["T_WHITESPACE"," ",146],["T_VARIABLE","$this",146],";",["T_WHITESPACE","\n    ",146],"}",["T_WHITESPACE","\n\n    ",147],["T_DOC_COMMENT","\/**\n     * Getter\n     * if $_storeId is null return Design store id\n     *\n     * @return integer\n     *\/",149],["T_WHITESPACE","\n    ",154],["T_PUBLIC","public",155],["T_WHITESPACE"," ",155],["T_FUNCTION","function",155],["T_WHITESPACE"," ",155],["T_STRING","getStoreId",155],"(",")",["T_WHITESPACE","\n    ",155],"{",["T_WHITESPACE","\n        ",156],["T_IF","if",157],["T_WHITESPACE"," ",157],"(",["T_STRING","null",157],["T_WHITESPACE"," ",157],["T_IS_IDENTICAL","===",157],["T_WHITESPACE"," ",157],["T_VARIABLE","$this",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","_storeId",157],")",["T_WHITESPACE"," ",157],"{",["T_WHITESPACE","\n            ",157],["T_VARIABLE","$this",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","_storeId",158],["T_WHITESPACE"," ",158],"=",["T_WHITESPACE"," ",158],["T_STRING","Mage",158],["T_DOUBLE_COLON","::",158],["T_STRING","app",158],"(",")",["T_OBJECT_OPERATOR","->",158],["T_STRING","getStore",158],"(",")",["T_OBJECT_OPERATOR","->",158],["T_STRING","getId",158],"(",")",";",["T_WHITESPACE","\n        ",158],"}",["T_WHITESPACE","\n        ",159],["T_RETURN","return",160],["T_WHITESPACE"," ",160],["T_VARIABLE","$this",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","_storeId",160],";",["T_WHITESPACE","\n    ",160],"}",["T_WHITESPACE","\n\n    ",161],["T_DOC_COMMENT","\/**\n     * Retrieve Block html directive\n     *\n     * @param array $construction\n     * @return string\n     *\/",163],["T_WHITESPACE","\n    ",168],["T_PUBLIC","public",169],["T_WHITESPACE"," ",169],["T_FUNCTION","function",169],["T_WHITESPACE"," ",169],["T_STRING","blockDirective",169],"(",["T_VARIABLE","$construction",169],")",["T_WHITESPACE","\n    ",169],"{",["T_WHITESPACE","\n        ",170],["T_VARIABLE","$skipParams",171],["T_WHITESPACE"," ",171],"=",["T_WHITESPACE"," ",171],["T_ARRAY","array",171],"(",["T_CONSTANT_ENCAPSED_STRING","'type'",171],",",["T_WHITESPACE"," ",171],["T_CONSTANT_ENCAPSED_STRING","'id'",171],",",["T_WHITESPACE"," ",171],["T_CONSTANT_ENCAPSED_STRING","'output'",171],")",";",["T_WHITESPACE","\n        ",171],["T_VARIABLE","$blockParameters",172],["T_WHITESPACE"," ",172],"=",["T_WHITESPACE"," ",172],["T_VARIABLE","$this",172],["T_OBJECT_OPERATOR","->",172],["T_STRING","_getIncludeParameters",172],"(",["T_VARIABLE","$construction",172],"[",["T_LNUMBER","2",172],"]",")",";",["T_WHITESPACE","\n        ",172],["T_VARIABLE","$layout",173],["T_WHITESPACE"," ",173],"=",["T_WHITESPACE"," ",173],["T_STRING","Mage",173],["T_DOUBLE_COLON","::",173],["T_STRING","app",173],"(",")",["T_OBJECT_OPERATOR","->",173],["T_STRING","getLayout",173],"(",")",";",["T_WHITESPACE","\n        ",173],["T_VARIABLE","$block",174],["T_WHITESPACE"," ",174],"=",["T_WHITESPACE"," ",174],["T_STRING","null",174],";",["T_WHITESPACE","\n\n        ",174],["T_IF","if",176],["T_WHITESPACE"," ",176],"(",["T_ISSET","isset",176],"(",["T_VARIABLE","$blockParameters",176],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",176],"]",")",")",["T_WHITESPACE"," ",176],"{",["T_WHITESPACE","\n            ",176],["T_IF","if",177],["T_WHITESPACE"," ",177],"(",["T_VARIABLE","$this",177],["T_OBJECT_OPERATOR","->",177],["T_STRING","_permissionBlock",177],["T_OBJECT_OPERATOR","->",177],["T_STRING","isTypeAllowed",177],"(",["T_VARIABLE","$blockParameters",177],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",177],"]",")",")",["T_WHITESPACE"," ",177],"{",["T_WHITESPACE","\n                ",177],["T_VARIABLE","$type",178],["T_WHITESPACE"," ",178],"=",["T_WHITESPACE"," ",178],["T_VARIABLE","$blockParameters",178],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",178],"]",";",["T_WHITESPACE","\n                ",178],["T_VARIABLE","$block",179],["T_WHITESPACE"," ",179],"=",["T_WHITESPACE"," ",179],["T_VARIABLE","$layout",179],["T_OBJECT_OPERATOR","->",179],["T_STRING","createBlock",179],"(",["T_VARIABLE","$type",179],",",["T_WHITESPACE"," ",179],["T_STRING","null",179],",",["T_WHITESPACE"," ",179],["T_VARIABLE","$blockParameters",179],")",";",["T_WHITESPACE","\n            ",179],"}",["T_WHITESPACE"," ",180],["T_ELSE","else",180],["T_WHITESPACE"," ",180],"{",["T_WHITESPACE","\n                ",180],["T_STRING","Mage",181],["T_DOUBLE_COLON","::",181],["T_STRING","log",181],"(",["T_CONSTANT_ENCAPSED_STRING","'Security problem: '",181],["T_WHITESPACE"," ",181],".",["T_WHITESPACE"," ",181],["T_VARIABLE","$blockParameters",181],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",181],"]",["T_WHITESPACE"," ",181],".",["T_WHITESPACE"," ",181],["T_CONSTANT_ENCAPSED_STRING","' has not been whitelisted.'",181],")",";",["T_WHITESPACE","\n            ",181],"}",["T_WHITESPACE","\n        ",182],"}",["T_WHITESPACE"," ",183],["T_ELSEIF","elseif",183],["T_WHITESPACE"," ",183],"(",["T_ISSET","isset",183],"(",["T_VARIABLE","$blockParameters",183],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",183],"]",")",")",["T_WHITESPACE"," ",183],"{",["T_WHITESPACE","\n            ",183],["T_VARIABLE","$block",184],["T_WHITESPACE"," ",184],"=",["T_WHITESPACE"," ",184],["T_VARIABLE","$layout",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","createBlock",184],"(",["T_CONSTANT_ENCAPSED_STRING","'cms\/block'",184],")",";",["T_WHITESPACE","\n            ",184],["T_IF","if",185],["T_WHITESPACE"," ",185],"(",["T_VARIABLE","$block",185],")",["T_WHITESPACE"," ",185],"{",["T_WHITESPACE","\n                ",185],["T_VARIABLE","$block",186],["T_OBJECT_OPERATOR","->",186],["T_STRING","setBlockId",186],"(",["T_VARIABLE","$blockParameters",186],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",186],"]",")",";",["T_WHITESPACE","\n            ",186],"}",["T_WHITESPACE","\n        ",187],"}",["T_WHITESPACE","\n\n        ",188],["T_IF","if",190],["T_WHITESPACE"," ",190],"(",["T_VARIABLE","$block",190],")",["T_WHITESPACE"," ",190],"{",["T_WHITESPACE","\n            ",190],["T_VARIABLE","$block",191],["T_OBJECT_OPERATOR","->",191],["T_STRING","setBlockParams",191],"(",["T_VARIABLE","$blockParameters",191],")",";",["T_WHITESPACE","\n            ",191],["T_FOREACH","foreach",192],["T_WHITESPACE"," ",192],"(",["T_VARIABLE","$blockParameters",192],["T_WHITESPACE"," ",192],["T_AS","as",192],["T_WHITESPACE"," ",192],["T_VARIABLE","$k",192],["T_WHITESPACE"," ",192],["T_DOUBLE_ARROW","=>",192],["T_WHITESPACE"," ",192],["T_VARIABLE","$v",192],")",["T_WHITESPACE"," ",192],"{",["T_WHITESPACE","\n                ",192],["T_IF","if",193],["T_WHITESPACE"," ",193],"(",["T_STRING","in_array",193],"(",["T_VARIABLE","$k",193],",",["T_WHITESPACE"," ",193],["T_VARIABLE","$skipParams",193],")",")",["T_WHITESPACE"," ",193],"{",["T_WHITESPACE","\n                    ",193],["T_CONTINUE","continue",194],";",["T_WHITESPACE","\n                ",194],"}",["T_WHITESPACE","\n                ",195],["T_VARIABLE","$block",196],["T_OBJECT_OPERATOR","->",196],["T_STRING","setDataUsingMethod",196],"(",["T_VARIABLE","$k",196],",",["T_WHITESPACE"," ",196],["T_VARIABLE","$v",196],")",";",["T_WHITESPACE","\n            ",196],"}",["T_WHITESPACE","\n        ",197],"}",["T_WHITESPACE"," ",198],["T_ELSE","else",198],["T_WHITESPACE"," ",198],"{",["T_WHITESPACE","\n            ",198],["T_RETURN","return",199],["T_WHITESPACE"," ",199],["T_CONSTANT_ENCAPSED_STRING","''",199],";",["T_WHITESPACE","\n        ",199],"}",["T_WHITESPACE","\n\n        ",200],["T_IF","if",202],["T_WHITESPACE"," ",202],"(",["T_ISSET","isset",202],"(",["T_VARIABLE","$blockParameters",202],"[",["T_CONSTANT_ENCAPSED_STRING","'output'",202],"]",")",")",["T_WHITESPACE"," ",202],"{",["T_WHITESPACE","\n            ",202],["T_VARIABLE","$method",203],["T_WHITESPACE"," ",203],"=",["T_WHITESPACE"," ",203],["T_VARIABLE","$blockParameters",203],"[",["T_CONSTANT_ENCAPSED_STRING","'output'",203],"]",";",["T_WHITESPACE","\n        ",203],"}",["T_WHITESPACE","\n        ",204],["T_IF","if",205],["T_WHITESPACE"," ",205],"(","!",["T_ISSET","isset",205],"(",["T_VARIABLE","$method",205],")",["T_WHITESPACE"," ",205],["T_BOOLEAN_OR","||",205],["T_WHITESPACE"," ",205],"!",["T_STRING","is_string",205],"(",["T_VARIABLE","$method",205],")",["T_WHITESPACE"," ",205],["T_BOOLEAN_OR","||",205],["T_WHITESPACE"," ",205],"!",["T_STRING","method_exists",205],"(",["T_VARIABLE","$block",205],",",["T_WHITESPACE"," ",205],["T_VARIABLE","$method",205],")",")",["T_WHITESPACE"," ",205],"{",["T_WHITESPACE","\n            ",205],["T_VARIABLE","$method",206],["T_WHITESPACE"," ",206],"=",["T_WHITESPACE"," ",206],["T_CONSTANT_ENCAPSED_STRING","'toHtml'",206],";",["T_WHITESPACE","\n        ",206],"}",["T_WHITESPACE","\n        ",207],["T_RETURN","return",208],["T_WHITESPACE"," ",208],["T_VARIABLE","$block",208],["T_OBJECT_OPERATOR","->",208],["T_VARIABLE","$method",208],"(",")",";",["T_WHITESPACE","\n    ",208],"}",["T_WHITESPACE","\n\n    ",209],["T_DOC_COMMENT","\/**\n     * Retrieve layout html directive\n     *\n     * @param array $construction\n     * @return string\n     *\/",211],["T_WHITESPACE","\n    ",216],["T_PUBLIC","public",217],["T_WHITESPACE"," ",217],["T_FUNCTION","function",217],["T_WHITESPACE"," ",217],["T_STRING","layoutDirective",217],"(",["T_VARIABLE","$construction",217],")",["T_WHITESPACE","\n    ",217],"{",["T_WHITESPACE","\n        ",218],["T_VARIABLE","$skipParams",219],["T_WHITESPACE"," ",219],"=",["T_WHITESPACE"," ",219],["T_ARRAY","array",219],"(",["T_CONSTANT_ENCAPSED_STRING","'handle'",219],",",["T_WHITESPACE"," ",219],["T_CONSTANT_ENCAPSED_STRING","'area'",219],")",";",["T_WHITESPACE","\n\n        ",219],["T_VARIABLE","$params",221],["T_WHITESPACE"," ",221],"=",["T_WHITESPACE"," ",221],["T_VARIABLE","$this",221],["T_OBJECT_OPERATOR","->",221],["T_STRING","_getIncludeParameters",221],"(",["T_VARIABLE","$construction",221],"[",["T_LNUMBER","2",221],"]",")",";",["T_WHITESPACE","\n        ",221],["T_VARIABLE","$layout",222],["T_WHITESPACE"," ",222],"=",["T_WHITESPACE"," ",222],["T_STRING","Mage",222],["T_DOUBLE_COLON","::",222],["T_STRING","getModel",222],"(",["T_CONSTANT_ENCAPSED_STRING","'core\/layout'",222],")",";",["T_WHITESPACE","\n        ",222],["T_COMMENT","\/* @var $layout Mage_Core_Model_Layout *\/",223],["T_WHITESPACE","\n        ",223],["T_IF","if",224],["T_WHITESPACE"," ",224],"(",["T_ISSET","isset",224],"(",["T_VARIABLE","$params",224],"[",["T_CONSTANT_ENCAPSED_STRING","'area'",224],"]",")",")",["T_WHITESPACE"," ",224],"{",["T_WHITESPACE","\n            ",224],["T_VARIABLE","$layout",225],["T_OBJECT_OPERATOR","->",225],["T_STRING","setArea",225],"(",["T_VARIABLE","$params",225],"[",["T_CONSTANT_ENCAPSED_STRING","'area'",225],"]",")",";",["T_WHITESPACE","\n        ",225],"}",["T_WHITESPACE","\n        ",226],["T_ELSE","else",227],["T_WHITESPACE"," ",227],"{",["T_WHITESPACE","\n            ",227],["T_VARIABLE","$layout",228],["T_OBJECT_OPERATOR","->",228],["T_STRING","setArea",228],"(",["T_STRING","Mage",228],["T_DOUBLE_COLON","::",228],["T_STRING","app",228],"(",")",["T_OBJECT_OPERATOR","->",228],["T_STRING","getLayout",228],"(",")",["T_OBJECT_OPERATOR","->",228],["T_STRING","getArea",228],"(",")",")",";",["T_WHITESPACE","\n        ",228],"}",["T_WHITESPACE","\n\n        ",229],["T_VARIABLE","$layout",231],["T_OBJECT_OPERATOR","->",231],["T_STRING","getUpdate",231],"(",")",["T_OBJECT_OPERATOR","->",231],["T_STRING","addHandle",231],"(",["T_VARIABLE","$params",231],"[",["T_CONSTANT_ENCAPSED_STRING","'handle'",231],"]",")",";",["T_WHITESPACE","\n        ",231],["T_VARIABLE","$layout",232],["T_OBJECT_OPERATOR","->",232],["T_STRING","getUpdate",232],"(",")",["T_OBJECT_OPERATOR","->",232],["T_STRING","load",232],"(",")",";",["T_WHITESPACE","\n\n        ",232],["T_VARIABLE","$layout",234],["T_OBJECT_OPERATOR","->",234],["T_STRING","generateXml",234],"(",")",";",["T_WHITESPACE","\n        ",234],["T_VARIABLE","$layout",235],["T_OBJECT_OPERATOR","->",235],["T_STRING","generateBlocks",235],"(",")",";",["T_WHITESPACE","\n\n        ",235],["T_FOREACH","foreach",237],["T_WHITESPACE"," ",237],"(",["T_VARIABLE","$layout",237],["T_OBJECT_OPERATOR","->",237],["T_STRING","getAllBlocks",237],"(",")",["T_WHITESPACE"," ",237],["T_AS","as",237],["T_WHITESPACE"," ",237],["T_VARIABLE","$blockName",237],["T_WHITESPACE"," ",237],["T_DOUBLE_ARROW","=>",237],["T_WHITESPACE"," ",237],["T_VARIABLE","$block",237],")",["T_WHITESPACE"," ",237],"{",["T_WHITESPACE","\n            ",237],["T_COMMENT","\/* @var $block Mage_Core_Block_Abstract *\/",238],["T_WHITESPACE","\n            ",238],["T_FOREACH","foreach",239],["T_WHITESPACE"," ",239],"(",["T_VARIABLE","$params",239],["T_WHITESPACE"," ",239],["T_AS","as",239],["T_WHITESPACE"," ",239],["T_VARIABLE","$k",239],["T_WHITESPACE"," ",239],["T_DOUBLE_ARROW","=>",239],["T_WHITESPACE"," ",239],["T_VARIABLE","$v",239],")",["T_WHITESPACE"," ",239],"{",["T_WHITESPACE","\n                ",239],["T_IF","if",240],["T_WHITESPACE"," ",240],"(",["T_STRING","in_array",240],"(",["T_VARIABLE","$k",240],",",["T_WHITESPACE"," ",240],["T_VARIABLE","$skipParams",240],")",")",["T_WHITESPACE"," ",240],"{",["T_WHITESPACE","\n                    ",240],["T_CONTINUE","continue",241],";",["T_WHITESPACE","\n                ",241],"}",["T_WHITESPACE","\n\n                ",242],["T_VARIABLE","$block",244],["T_OBJECT_OPERATOR","->",244],["T_STRING","setDataUsingMethod",244],"(",["T_VARIABLE","$k",244],",",["T_WHITESPACE"," ",244],["T_VARIABLE","$v",244],")",";",["T_WHITESPACE","\n            ",244],"}",["T_WHITESPACE","\n        ",245],"}",["T_WHITESPACE","\n\n        ",246],["T_DOC_COMMENT","\/**\n         * Add output method for first block\n         *\/",248],["T_WHITESPACE","\n        ",250],["T_VARIABLE","$allBlocks",251],["T_WHITESPACE"," ",251],"=",["T_WHITESPACE"," ",251],["T_VARIABLE","$layout",251],["T_OBJECT_OPERATOR","->",251],["T_STRING","getAllBlocks",251],"(",")",";",["T_WHITESPACE","\n        ",251],["T_VARIABLE","$firstBlock",252],["T_WHITESPACE"," ",252],"=",["T_WHITESPACE"," ",252],["T_STRING","reset",252],"(",["T_VARIABLE","$allBlocks",252],")",";",["T_WHITESPACE","\n        ",252],["T_IF","if",253],["T_WHITESPACE"," ",253],"(",["T_VARIABLE","$firstBlock",253],")",["T_WHITESPACE"," ",253],"{",["T_WHITESPACE","\n            ",253],["T_VARIABLE","$layout",254],["T_OBJECT_OPERATOR","->",254],["T_STRING","addOutputBlock",254],"(",["T_VARIABLE","$firstBlock",254],["T_OBJECT_OPERATOR","->",254],["T_STRING","getNameInLayout",254],"(",")",")",";",["T_WHITESPACE","\n        ",254],"}",["T_WHITESPACE","\n\n        ",255],["T_VARIABLE","$layout",257],["T_OBJECT_OPERATOR","->",257],["T_STRING","setDirectOutput",257],"(",["T_STRING","false",257],")",";",["T_WHITESPACE","\n        ",257],["T_RETURN","return",258],["T_WHITESPACE"," ",258],["T_VARIABLE","$layout",258],["T_OBJECT_OPERATOR","->",258],["T_STRING","getOutput",258],"(",")",";",["T_WHITESPACE","\n    ",258],"}",["T_WHITESPACE","\n\n    ",259],["T_DOC_COMMENT","\/**\n     * Retrieve block parameters\n     *\n     * @param mixed $value\n     * @return array\n     *\/",261],["T_WHITESPACE","\n    ",266],["T_PROTECTED","protected",267],["T_WHITESPACE"," ",267],["T_FUNCTION","function",267],["T_WHITESPACE"," ",267],["T_STRING","_getBlockParameters",267],"(",["T_VARIABLE","$value",267],")",["T_WHITESPACE","\n    ",267],"{",["T_WHITESPACE","\n        ",268],["T_VARIABLE","$tokenizer",269],["T_WHITESPACE"," ",269],"=",["T_WHITESPACE"," ",269],["T_NEW","new",269],["T_WHITESPACE"," ",269],["T_STRING","Varien_Filter_Template_Tokenizer_Parameter",269],"(",")",";",["T_WHITESPACE","\n        ",269],["T_VARIABLE","$tokenizer",270],["T_OBJECT_OPERATOR","->",270],["T_STRING","setString",270],"(",["T_VARIABLE","$value",270],")",";",["T_WHITESPACE","\n\n        ",270],["T_RETURN","return",272],["T_WHITESPACE"," ",272],["T_VARIABLE","$tokenizer",272],["T_OBJECT_OPERATOR","->",272],["T_STRING","tokenize",272],"(",")",";",["T_WHITESPACE","\n    ",272],"}",["T_WHITESPACE","\n\n    ",273],["T_DOC_COMMENT","\/**\n     * Retrieve Skin URL directive\n     *\n     * @param array $construction\n     * @return string\n     *\/",275],["T_WHITESPACE","\n    ",280],["T_PUBLIC","public",281],["T_WHITESPACE"," ",281],["T_FUNCTION","function",281],["T_WHITESPACE"," ",281],["T_STRING","skinDirective",281],"(",["T_VARIABLE","$construction",281],")",["T_WHITESPACE","\n    ",281],"{",["T_WHITESPACE","\n        ",282],["T_VARIABLE","$params",283],["T_WHITESPACE"," ",283],"=",["T_WHITESPACE"," ",283],["T_VARIABLE","$this",283],["T_OBJECT_OPERATOR","->",283],["T_STRING","_getIncludeParameters",283],"(",["T_VARIABLE","$construction",283],"[",["T_LNUMBER","2",283],"]",")",";",["T_WHITESPACE","\n        ",283],["T_VARIABLE","$params",284],"[",["T_CONSTANT_ENCAPSED_STRING","'_absolute'",284],"]",["T_WHITESPACE"," ",284],"=",["T_WHITESPACE"," ",284],["T_VARIABLE","$this",284],["T_OBJECT_OPERATOR","->",284],["T_STRING","_useAbsoluteLinks",284],";",["T_WHITESPACE","\n\n        ",284],["T_VARIABLE","$url",286],["T_WHITESPACE"," ",286],"=",["T_WHITESPACE"," ",286],["T_STRING","Mage",286],["T_DOUBLE_COLON","::",286],["T_STRING","getDesign",286],"(",")",["T_OBJECT_OPERATOR","->",286],["T_STRING","getSkinUrl",286],"(",["T_VARIABLE","$params",286],"[",["T_CONSTANT_ENCAPSED_STRING","'url'",286],"]",",",["T_WHITESPACE"," ",286],["T_VARIABLE","$params",286],")",";",["T_WHITESPACE","\n\n        ",286],["T_RETURN","return",288],["T_WHITESPACE"," ",288],["T_VARIABLE","$url",288],";",["T_WHITESPACE","\n    ",288],"}",["T_WHITESPACE","\n\n    ",289],["T_DOC_COMMENT","\/**\n     * Retrieve media file URL directive\n     *\n     * @param array $construction\n     * @return string\n     *\/",291],["T_WHITESPACE","\n    ",296],["T_PUBLIC","public",297],["T_WHITESPACE"," ",297],["T_FUNCTION","function",297],["T_WHITESPACE"," ",297],["T_STRING","mediaDirective",297],"(",["T_VARIABLE","$construction",297],")",["T_WHITESPACE","\n    ",297],"{",["T_WHITESPACE","\n        ",298],["T_VARIABLE","$params",299],["T_WHITESPACE"," ",299],"=",["T_WHITESPACE"," ",299],["T_VARIABLE","$this",299],["T_OBJECT_OPERATOR","->",299],["T_STRING","_getIncludeParameters",299],"(",["T_VARIABLE","$construction",299],"[",["T_LNUMBER","2",299],"]",")",";",["T_WHITESPACE","\n        ",299],["T_RETURN","return",300],["T_WHITESPACE"," ",300],["T_STRING","Mage",300],["T_DOUBLE_COLON","::",300],["T_STRING","getBaseUrl",300],"(",["T_CONSTANT_ENCAPSED_STRING","'media'",300],")",["T_WHITESPACE"," ",300],".",["T_WHITESPACE"," ",300],["T_VARIABLE","$params",300],"[",["T_CONSTANT_ENCAPSED_STRING","'url'",300],"]",";",["T_WHITESPACE","\n    ",300],"}",["T_WHITESPACE","\n\n    ",301],["T_DOC_COMMENT","\/**\n     * Retrieve store URL directive\n     * Support url and direct_url properties\n     *\n     * @param array $construction\n     * @return string\n     *\/",303],["T_WHITESPACE","\n    ",309],["T_PUBLIC","public",310],["T_WHITESPACE"," ",310],["T_FUNCTION","function",310],["T_WHITESPACE"," ",310],["T_STRING","storeDirective",310],"(",["T_VARIABLE","$construction",310],")",["T_WHITESPACE","\n    ",310],"{",["T_WHITESPACE","\n        ",311],["T_VARIABLE","$params",312],["T_WHITESPACE"," ",312],"=",["T_WHITESPACE"," ",312],["T_VARIABLE","$this",312],["T_OBJECT_OPERATOR","->",312],["T_STRING","_getIncludeParameters",312],"(",["T_VARIABLE","$construction",312],"[",["T_LNUMBER","2",312],"]",")",";",["T_WHITESPACE","\n        ",312],["T_IF","if",313],["T_WHITESPACE"," ",313],"(","!",["T_ISSET","isset",313],"(",["T_VARIABLE","$params",313],"[",["T_CONSTANT_ENCAPSED_STRING","'_query'",313],"]",")",")",["T_WHITESPACE"," ",313],"{",["T_WHITESPACE","\n            ",313],["T_VARIABLE","$params",314],"[",["T_CONSTANT_ENCAPSED_STRING","'_query'",314],"]",["T_WHITESPACE"," ",314],"=",["T_WHITESPACE"," ",314],["T_ARRAY","array",314],"(",")",";",["T_WHITESPACE","\n        ",314],"}",["T_WHITESPACE","\n        ",315],["T_FOREACH","foreach",316],["T_WHITESPACE"," ",316],"(",["T_VARIABLE","$params",316],["T_WHITESPACE"," ",316],["T_AS","as",316],["T_WHITESPACE"," ",316],["T_VARIABLE","$k",316],["T_WHITESPACE"," ",316],["T_DOUBLE_ARROW","=>",316],["T_WHITESPACE"," ",316],["T_VARIABLE","$v",316],")",["T_WHITESPACE"," ",316],"{",["T_WHITESPACE","\n            ",316],["T_IF","if",317],["T_WHITESPACE"," ",317],"(",["T_STRING","strpos",317],"(",["T_VARIABLE","$k",317],",",["T_WHITESPACE"," ",317],["T_CONSTANT_ENCAPSED_STRING","'_query_'",317],")",["T_WHITESPACE"," ",317],["T_IS_IDENTICAL","===",317],["T_WHITESPACE"," ",317],["T_LNUMBER","0",317],")",["T_WHITESPACE"," ",317],"{",["T_WHITESPACE","\n                ",317],["T_VARIABLE","$params",318],"[",["T_CONSTANT_ENCAPSED_STRING","'_query'",318],"]","[",["T_STRING","substr",318],"(",["T_VARIABLE","$k",318],",",["T_WHITESPACE"," ",318],["T_LNUMBER","7",318],")","]",["T_WHITESPACE"," ",318],"=",["T_WHITESPACE"," ",318],["T_VARIABLE","$v",318],";",["T_WHITESPACE","\n                ",318],["T_UNSET","unset",319],"(",["T_VARIABLE","$params",319],"[",["T_VARIABLE","$k",319],"]",")",";",["T_WHITESPACE","\n            ",319],"}",["T_WHITESPACE","\n        ",320],"}",["T_WHITESPACE","\n        ",321],["T_VARIABLE","$params",322],"[",["T_CONSTANT_ENCAPSED_STRING","'_absolute'",322],"]",["T_WHITESPACE"," ",322],"=",["T_WHITESPACE"," ",322],["T_VARIABLE","$this",322],["T_OBJECT_OPERATOR","->",322],["T_STRING","_useAbsoluteLinks",322],";",["T_WHITESPACE","\n\n        ",322],["T_IF","if",324],["T_WHITESPACE"," ",324],"(",["T_VARIABLE","$this",324],["T_OBJECT_OPERATOR","->",324],["T_STRING","_useSessionInUrl",324],["T_WHITESPACE"," ",324],["T_IS_IDENTICAL","===",324],["T_WHITESPACE"," ",324],["T_STRING","false",324],")",["T_WHITESPACE"," ",324],"{",["T_WHITESPACE","\n            ",324],["T_VARIABLE","$params",325],"[",["T_CONSTANT_ENCAPSED_STRING","'_nosid'",325],"]",["T_WHITESPACE"," ",325],"=",["T_WHITESPACE"," ",325],["T_STRING","true",325],";",["T_WHITESPACE","\n        ",325],"}",["T_WHITESPACE","\n\n        ",326],["T_IF","if",328],["T_WHITESPACE"," ",328],"(",["T_ISSET","isset",328],"(",["T_VARIABLE","$params",328],"[",["T_CONSTANT_ENCAPSED_STRING","'direct_url'",328],"]",")",")",["T_WHITESPACE"," ",328],"{",["T_WHITESPACE","\n            ",328],["T_VARIABLE","$path",329],["T_WHITESPACE"," ",329],"=",["T_WHITESPACE"," ",329],["T_CONSTANT_ENCAPSED_STRING","''",329],";",["T_WHITESPACE","\n            ",329],["T_VARIABLE","$params",330],"[",["T_CONSTANT_ENCAPSED_STRING","'_direct'",330],"]",["T_WHITESPACE"," ",330],"=",["T_WHITESPACE"," ",330],["T_VARIABLE","$params",330],"[",["T_CONSTANT_ENCAPSED_STRING","'direct_url'",330],"]",";",["T_WHITESPACE","\n            ",330],["T_UNSET","unset",331],"(",["T_VARIABLE","$params",331],"[",["T_CONSTANT_ENCAPSED_STRING","'direct_url'",331],"]",")",";",["T_WHITESPACE","\n        ",331],"}",["T_WHITESPACE","\n        ",332],["T_ELSE","else",333],["T_WHITESPACE"," ",333],"{",["T_WHITESPACE","\n            ",333],["T_VARIABLE","$path",334],["T_WHITESPACE"," ",334],"=",["T_WHITESPACE"," ",334],["T_ISSET","isset",334],"(",["T_VARIABLE","$params",334],"[",["T_CONSTANT_ENCAPSED_STRING","'url'",334],"]",")",["T_WHITESPACE"," ",334],"?",["T_WHITESPACE"," ",334],["T_VARIABLE","$params",334],"[",["T_CONSTANT_ENCAPSED_STRING","'url'",334],"]",["T_WHITESPACE"," ",334],":",["T_WHITESPACE"," ",334],["T_CONSTANT_ENCAPSED_STRING","''",334],";",["T_WHITESPACE","\n            ",334],["T_UNSET","unset",335],"(",["T_VARIABLE","$params",335],"[",["T_CONSTANT_ENCAPSED_STRING","'url'",335],"]",")",";",["T_WHITESPACE","\n        ",335],"}",["T_WHITESPACE","\n\n        ",336],["T_RETURN","return",338],["T_WHITESPACE"," ",338],["T_STRING","Mage",338],["T_DOUBLE_COLON","::",338],["T_STRING","app",338],"(",")",["T_OBJECT_OPERATOR","->",338],["T_STRING","getStore",338],"(",["T_STRING","Mage",338],["T_DOUBLE_COLON","::",338],["T_STRING","getDesign",338],"(",")",["T_OBJECT_OPERATOR","->",338],["T_STRING","getStore",338],"(",")",")",["T_OBJECT_OPERATOR","->",338],["T_STRING","getUrl",338],"(",["T_VARIABLE","$path",338],",",["T_WHITESPACE"," ",338],["T_VARIABLE","$params",338],")",";",["T_WHITESPACE","\n    ",338],"}",["T_WHITESPACE","\n\n    ",339],["T_DOC_COMMENT","\/**\n     * Directive for converting special characters to HTML entities\n     * Supported options:\n     *     allowed_tags - Comma separated html tags that have not to be converted\n     *\n     * @param array $construction\n     * @return string\n     *\/",341],["T_WHITESPACE","\n    ",348],["T_PUBLIC","public",349],["T_WHITESPACE"," ",349],["T_FUNCTION","function",349],["T_WHITESPACE"," ",349],["T_STRING","htmlescapeDirective",349],"(",["T_VARIABLE","$construction",349],")",["T_WHITESPACE","\n    ",349],"{",["T_WHITESPACE","\n        ",350],["T_VARIABLE","$params",351],["T_WHITESPACE"," ",351],"=",["T_WHITESPACE"," ",351],["T_VARIABLE","$this",351],["T_OBJECT_OPERATOR","->",351],["T_STRING","_getIncludeParameters",351],"(",["T_VARIABLE","$construction",351],"[",["T_LNUMBER","2",351],"]",")",";",["T_WHITESPACE","\n        ",351],["T_IF","if",352],["T_WHITESPACE"," ",352],"(","!",["T_ISSET","isset",352],"(",["T_VARIABLE","$params",352],"[",["T_CONSTANT_ENCAPSED_STRING","'var'",352],"]",")",")",["T_WHITESPACE"," ",352],"{",["T_WHITESPACE","\n            ",352],["T_RETURN","return",353],["T_WHITESPACE"," ",353],["T_CONSTANT_ENCAPSED_STRING","''",353],";",["T_WHITESPACE","\n        ",353],"}",["T_WHITESPACE","\n\n        ",354],["T_VARIABLE","$allowedTags",356],["T_WHITESPACE"," ",356],"=",["T_WHITESPACE"," ",356],["T_STRING","null",356],";",["T_WHITESPACE","\n        ",356],["T_IF","if",357],["T_WHITESPACE"," ",357],"(",["T_ISSET","isset",357],"(",["T_VARIABLE","$params",357],"[",["T_CONSTANT_ENCAPSED_STRING","'allowed_tags'",357],"]",")",")",["T_WHITESPACE"," ",357],"{",["T_WHITESPACE","\n            ",357],["T_VARIABLE","$allowedTags",358],["T_WHITESPACE"," ",358],"=",["T_WHITESPACE"," ",358],["T_STRING","preg_split",358],"(",["T_CONSTANT_ENCAPSED_STRING","'\/\\s*\\,\\s*\/'",358],",",["T_WHITESPACE"," ",358],["T_VARIABLE","$params",358],"[",["T_CONSTANT_ENCAPSED_STRING","'allowed_tags'",358],"]",",",["T_WHITESPACE"," ",358],["T_LNUMBER","0",358],",",["T_WHITESPACE"," ",358],["T_STRING","PREG_SPLIT_NO_EMPTY",358],")",";",["T_WHITESPACE","\n        ",358],"}",["T_WHITESPACE","\n\n        ",359],["T_RETURN","return",361],["T_WHITESPACE"," ",361],["T_STRING","Mage",361],["T_DOUBLE_COLON","::",361],["T_STRING","helper",361],"(",["T_CONSTANT_ENCAPSED_STRING","'core'",361],")",["T_OBJECT_OPERATOR","->",361],["T_STRING","escapeHtml",361],"(",["T_VARIABLE","$params",361],"[",["T_CONSTANT_ENCAPSED_STRING","'var'",361],"]",",",["T_WHITESPACE"," ",361],["T_VARIABLE","$allowedTags",361],")",";",["T_WHITESPACE","\n    ",361],"}",["T_WHITESPACE","\n\n    ",362],["T_DOC_COMMENT","\/**\n     * Var directive with modifiers support\n     *\n     * @param array $construction\n     * @return string\n     *\/",364],["T_WHITESPACE","\n    ",369],["T_PUBLIC","public",370],["T_WHITESPACE"," ",370],["T_FUNCTION","function",370],["T_WHITESPACE"," ",370],["T_STRING","varDirective",370],"(",["T_VARIABLE","$construction",370],")",["T_WHITESPACE","\n    ",370],"{",["T_WHITESPACE","\n        ",371],["T_IF","if",372],["T_WHITESPACE"," ",372],"(",["T_STRING","count",372],"(",["T_VARIABLE","$this",372],["T_OBJECT_OPERATOR","->",372],["T_STRING","_templateVars",372],")",["T_IS_EQUAL","==",372],["T_LNUMBER","0",372],")",["T_WHITESPACE"," ",372],"{",["T_WHITESPACE","\n            ",372],["T_COMMENT","\/\/ If template preprocessing\n",373],["T_WHITESPACE","            ",374],["T_RETURN","return",374],["T_WHITESPACE"," ",374],["T_VARIABLE","$construction",374],"[",["T_LNUMBER","0",374],"]",";",["T_WHITESPACE","\n        ",374],"}",["T_WHITESPACE","\n\n        ",375],["T_VARIABLE","$parts",377],["T_WHITESPACE"," ",377],"=",["T_WHITESPACE"," ",377],["T_STRING","explode",377],"(",["T_CONSTANT_ENCAPSED_STRING","'|'",377],",",["T_WHITESPACE"," ",377],["T_VARIABLE","$construction",377],"[",["T_LNUMBER","2",377],"]",",",["T_WHITESPACE"," ",377],["T_LNUMBER","2",377],")",";",["T_WHITESPACE","\n        ",377],["T_IF","if",378],["T_WHITESPACE"," ",378],"(",["T_LNUMBER","2",378],["T_WHITESPACE"," ",378],["T_IS_IDENTICAL","===",378],["T_WHITESPACE"," ",378],["T_STRING","count",378],"(",["T_VARIABLE","$parts",378],")",")",["T_WHITESPACE"," ",378],"{",["T_WHITESPACE","\n            ",378],["T_LIST","list",379],"(",["T_VARIABLE","$variableName",379],",",["T_WHITESPACE"," ",379],["T_VARIABLE","$modifiersString",379],")",["T_WHITESPACE"," ",379],"=",["T_WHITESPACE"," ",379],["T_VARIABLE","$parts",379],";",["T_WHITESPACE","\n            ",379],["T_RETURN","return",380],["T_WHITESPACE"," ",380],["T_VARIABLE","$this",380],["T_OBJECT_OPERATOR","->",380],["T_STRING","_amplifyModifiers",380],"(",["T_VARIABLE","$this",380],["T_OBJECT_OPERATOR","->",380],["T_STRING","_getVariable",380],"(",["T_VARIABLE","$variableName",380],",",["T_WHITESPACE"," ",380],["T_CONSTANT_ENCAPSED_STRING","''",380],")",",",["T_WHITESPACE"," ",380],["T_VARIABLE","$modifiersString",380],")",";",["T_WHITESPACE","\n        ",380],"}",["T_WHITESPACE","\n        ",381],["T_RETURN","return",382],["T_WHITESPACE"," ",382],["T_VARIABLE","$this",382],["T_OBJECT_OPERATOR","->",382],["T_STRING","_getVariable",382],"(",["T_VARIABLE","$construction",382],"[",["T_LNUMBER","2",382],"]",",",["T_WHITESPACE"," ",382],["T_CONSTANT_ENCAPSED_STRING","''",382],")",";",["T_WHITESPACE","\n    ",382],"}",["T_WHITESPACE","\n\n    ",383],["T_DOC_COMMENT","\/**\n     * Apply modifiers one by one, with specified params\n     *\n     * Modifier syntax: modifier1[:param1:param2:...][|modifier2:...]\n     *\n     * @param string $value\n     * @param string $modifiers\n     * @return string\n     *\/",385],["T_WHITESPACE","\n    ",393],["T_PROTECTED","protected",394],["T_WHITESPACE"," ",394],["T_FUNCTION","function",394],["T_WHITESPACE"," ",394],["T_STRING","_amplifyModifiers",394],"(",["T_VARIABLE","$value",394],",",["T_WHITESPACE"," ",394],["T_VARIABLE","$modifiers",394],")",["T_WHITESPACE","\n    ",394],"{",["T_WHITESPACE","\n        ",395],["T_FOREACH","foreach",396],["T_WHITESPACE"," ",396],"(",["T_STRING","explode",396],"(",["T_CONSTANT_ENCAPSED_STRING","'|'",396],",",["T_WHITESPACE"," ",396],["T_VARIABLE","$modifiers",396],")",["T_WHITESPACE"," ",396],["T_AS","as",396],["T_WHITESPACE"," ",396],["T_VARIABLE","$part",396],")",["T_WHITESPACE"," ",396],"{",["T_WHITESPACE","\n            ",396],["T_IF","if",397],["T_WHITESPACE"," ",397],"(",["T_EMPTY","empty",397],"(",["T_VARIABLE","$part",397],")",")",["T_WHITESPACE"," ",397],"{",["T_WHITESPACE","\n                ",397],["T_CONTINUE","continue",398],";",["T_WHITESPACE","\n            ",398],"}",["T_WHITESPACE","\n            ",399],["T_VARIABLE","$params",400],["T_WHITESPACE","   ",400],"=",["T_WHITESPACE"," ",400],["T_STRING","explode",400],"(",["T_CONSTANT_ENCAPSED_STRING","':'",400],",",["T_WHITESPACE"," ",400],["T_VARIABLE","$part",400],")",";",["T_WHITESPACE","\n            ",400],["T_VARIABLE","$modifier",401],["T_WHITESPACE"," ",401],"=",["T_WHITESPACE"," ",401],["T_STRING","array_shift",401],"(",["T_VARIABLE","$params",401],")",";",["T_WHITESPACE","\n            ",401],["T_IF","if",402],["T_WHITESPACE"," ",402],"(",["T_ISSET","isset",402],"(",["T_VARIABLE","$this",402],["T_OBJECT_OPERATOR","->",402],["T_STRING","_modifiers",402],"[",["T_VARIABLE","$modifier",402],"]",")",")",["T_WHITESPACE"," ",402],"{",["T_WHITESPACE","\n                ",402],["T_VARIABLE","$callback",403],["T_WHITESPACE"," ",403],"=",["T_WHITESPACE"," ",403],["T_VARIABLE","$this",403],["T_OBJECT_OPERATOR","->",403],["T_STRING","_modifiers",403],"[",["T_VARIABLE","$modifier",403],"]",";",["T_WHITESPACE","\n                ",403],["T_IF","if",404],["T_WHITESPACE"," ",404],"(","!",["T_VARIABLE","$callback",404],")",["T_WHITESPACE"," ",404],"{",["T_WHITESPACE","\n                    ",404],["T_VARIABLE","$callback",405],["T_WHITESPACE"," ",405],"=",["T_WHITESPACE"," ",405],["T_VARIABLE","$modifier",405],";",["T_WHITESPACE","\n                ",405],"}",["T_WHITESPACE","\n                ",406],["T_STRING","array_unshift",407],"(",["T_VARIABLE","$params",407],",",["T_WHITESPACE"," ",407],["T_VARIABLE","$value",407],")",";",["T_WHITESPACE","\n                ",407],["T_VARIABLE","$value",408],["T_WHITESPACE"," ",408],"=",["T_WHITESPACE"," ",408],["T_STRING","call_user_func_array",408],"(",["T_VARIABLE","$callback",408],",",["T_WHITESPACE"," ",408],["T_VARIABLE","$params",408],")",";",["T_WHITESPACE","\n            ",408],"}",["T_WHITESPACE","\n        ",409],"}",["T_WHITESPACE","\n        ",410],["T_RETURN","return",411],["T_WHITESPACE"," ",411],["T_VARIABLE","$value",411],";",["T_WHITESPACE","\n    ",411],"}",["T_WHITESPACE","\n\n    ",412],["T_DOC_COMMENT","\/**\n     * Escape specified string\n     *\n     * @param string $value\n     * @param string $type\n     * @return string\n     *\/",414],["T_WHITESPACE","\n    ",420],["T_PUBLIC","public",421],["T_WHITESPACE"," ",421],["T_FUNCTION","function",421],["T_WHITESPACE"," ",421],["T_STRING","modifierEscape",421],"(",["T_VARIABLE","$value",421],",",["T_WHITESPACE"," ",421],["T_VARIABLE","$type",421],["T_WHITESPACE"," ",421],"=",["T_WHITESPACE"," ",421],["T_CONSTANT_ENCAPSED_STRING","'html'",421],")",["T_WHITESPACE","\n    ",421],"{",["T_WHITESPACE","\n        ",422],["T_SWITCH","switch",423],["T_WHITESPACE"," ",423],"(",["T_VARIABLE","$type",423],")",["T_WHITESPACE"," ",423],"{",["T_WHITESPACE","\n            ",423],["T_CASE","case",424],["T_WHITESPACE"," ",424],["T_CONSTANT_ENCAPSED_STRING","'html'",424],":",["T_WHITESPACE","\n                ",424],["T_RETURN","return",425],["T_WHITESPACE"," ",425],["T_STRING","htmlspecialchars",425],"(",["T_VARIABLE","$value",425],",",["T_WHITESPACE"," ",425],["T_STRING","ENT_QUOTES",425],")",";",["T_WHITESPACE","\n\n            ",425],["T_CASE","case",427],["T_WHITESPACE"," ",427],["T_CONSTANT_ENCAPSED_STRING","'htmlentities'",427],":",["T_WHITESPACE","\n                ",427],["T_RETURN","return",428],["T_WHITESPACE"," ",428],["T_STRING","htmlentities",428],"(",["T_VARIABLE","$value",428],",",["T_WHITESPACE"," ",428],["T_STRING","ENT_QUOTES",428],")",";",["T_WHITESPACE","\n\n            ",428],["T_CASE","case",430],["T_WHITESPACE"," ",430],["T_CONSTANT_ENCAPSED_STRING","'url'",430],":",["T_WHITESPACE","\n                ",430],["T_RETURN","return",431],["T_WHITESPACE"," ",431],["T_STRING","rawurlencode",431],"(",["T_VARIABLE","$value",431],")",";",["T_WHITESPACE","\n        ",431],"}",["T_WHITESPACE","\n        ",432],["T_RETURN","return",433],["T_WHITESPACE"," ",433],["T_VARIABLE","$value",433],";",["T_WHITESPACE","\n    ",433],"}",["T_WHITESPACE","\n\n    ",434],["T_DOC_COMMENT","\/**\n     * HTTP Protocol directive\n     *\n     * Using:\n     * {{protocol}} - current protocol http or https\n     * {{protocol url=\"www.domain.com\/\"}} domain URL with current protocol\n     * {{protocol http=\"http:\/\/url\" https=\"https:\/\/url\"}\n     * also allow additional parameter \"store\"\n     *\n     * @param array $construction\n     * @return string\n     *\/",436],["T_WHITESPACE","\n    ",447],["T_PUBLIC","public",448],["T_WHITESPACE"," ",448],["T_FUNCTION","function",448],["T_WHITESPACE"," ",448],["T_STRING","protocolDirective",448],"(",["T_VARIABLE","$construction",448],")",["T_WHITESPACE","\n    ",448],"{",["T_WHITESPACE","\n        ",449],["T_VARIABLE","$params",450],["T_WHITESPACE"," ",450],"=",["T_WHITESPACE"," ",450],["T_VARIABLE","$this",450],["T_OBJECT_OPERATOR","->",450],["T_STRING","_getIncludeParameters",450],"(",["T_VARIABLE","$construction",450],"[",["T_LNUMBER","2",450],"]",")",";",["T_WHITESPACE","\n        ",450],["T_VARIABLE","$store",451],["T_WHITESPACE"," ",451],"=",["T_WHITESPACE"," ",451],["T_STRING","null",451],";",["T_WHITESPACE","\n        ",451],["T_IF","if",452],["T_WHITESPACE"," ",452],"(",["T_ISSET","isset",452],"(",["T_VARIABLE","$params",452],"[",["T_CONSTANT_ENCAPSED_STRING","'store'",452],"]",")",")",["T_WHITESPACE"," ",452],"{",["T_WHITESPACE","\n            ",452],["T_VARIABLE","$store",453],["T_WHITESPACE"," ",453],"=",["T_WHITESPACE"," ",453],["T_STRING","Mage",453],["T_DOUBLE_COLON","::",453],["T_STRING","app",453],"(",")",["T_OBJECT_OPERATOR","->",453],["T_STRING","getSafeStore",453],"(",["T_VARIABLE","$params",453],"[",["T_CONSTANT_ENCAPSED_STRING","'store'",453],"]",")",";",["T_WHITESPACE","\n        ",453],"}",["T_WHITESPACE","\n        ",454],["T_VARIABLE","$isSecure",455],["T_WHITESPACE"," ",455],"=",["T_WHITESPACE"," ",455],["T_STRING","Mage",455],["T_DOUBLE_COLON","::",455],["T_STRING","app",455],"(",")",["T_OBJECT_OPERATOR","->",455],["T_STRING","getStore",455],"(",["T_VARIABLE","$store",455],")",["T_OBJECT_OPERATOR","->",455],["T_STRING","isCurrentlySecure",455],"(",")",";",["T_WHITESPACE","\n        ",455],["T_VARIABLE","$protocol",456],["T_WHITESPACE"," ",456],"=",["T_WHITESPACE"," ",456],["T_VARIABLE","$isSecure",456],["T_WHITESPACE"," ",456],"?",["T_WHITESPACE"," ",456],["T_CONSTANT_ENCAPSED_STRING","'https'",456],["T_WHITESPACE"," ",456],":",["T_WHITESPACE"," ",456],["T_CONSTANT_ENCAPSED_STRING","'http'",456],";",["T_WHITESPACE","\n        ",456],["T_IF","if",457],["T_WHITESPACE"," ",457],"(",["T_ISSET","isset",457],"(",["T_VARIABLE","$params",457],"[",["T_CONSTANT_ENCAPSED_STRING","'url'",457],"]",")",")",["T_WHITESPACE"," ",457],"{",["T_WHITESPACE","\n            ",457],["T_RETURN","return",458],["T_WHITESPACE"," ",458],["T_VARIABLE","$protocol",458],["T_WHITESPACE"," ",458],".",["T_WHITESPACE"," ",458],["T_CONSTANT_ENCAPSED_STRING","':\/\/'",458],["T_WHITESPACE"," ",458],".",["T_WHITESPACE"," ",458],["T_VARIABLE","$params",458],"[",["T_CONSTANT_ENCAPSED_STRING","'url'",458],"]",";",["T_WHITESPACE","\n        ",458],"}",["T_WHITESPACE","\n        ",459],["T_ELSEIF","elseif",460],["T_WHITESPACE"," ",460],"(",["T_ISSET","isset",460],"(",["T_VARIABLE","$params",460],"[",["T_CONSTANT_ENCAPSED_STRING","'http'",460],"]",")",["T_WHITESPACE"," ",460],["T_BOOLEAN_AND","&&",460],["T_WHITESPACE"," ",460],["T_ISSET","isset",460],"(",["T_VARIABLE","$params",460],"[",["T_CONSTANT_ENCAPSED_STRING","'https'",460],"]",")",")",["T_WHITESPACE"," ",460],"{",["T_WHITESPACE","\n            ",460],["T_IF","if",461],["T_WHITESPACE"," ",461],"(",["T_VARIABLE","$isSecure",461],")",["T_WHITESPACE"," ",461],"{",["T_WHITESPACE","\n                ",461],["T_RETURN","return",462],["T_WHITESPACE"," ",462],["T_VARIABLE","$params",462],"[",["T_CONSTANT_ENCAPSED_STRING","'https'",462],"]",";",["T_WHITESPACE","\n            ",462],"}",["T_WHITESPACE","\n            ",463],["T_RETURN","return",464],["T_WHITESPACE"," ",464],["T_VARIABLE","$params",464],"[",["T_CONSTANT_ENCAPSED_STRING","'http'",464],"]",";",["T_WHITESPACE","\n        ",464],"}",["T_WHITESPACE","\n\n        ",465],["T_RETURN","return",467],["T_WHITESPACE"," ",467],["T_VARIABLE","$protocol",467],";",["T_WHITESPACE","\n    ",467],"}",["T_WHITESPACE","\n\n    ",468],["T_DOC_COMMENT","\/**\n     * Store config directive\n     *\n     * @param array $construction\n     * @return string\n     *\/",470],["T_WHITESPACE","\n    ",475],["T_PUBLIC","public",476],["T_WHITESPACE"," ",476],["T_FUNCTION","function",476],["T_WHITESPACE"," ",476],["T_STRING","configDirective",476],"(",["T_VARIABLE","$construction",476],")",["T_WHITESPACE","\n    ",476],"{",["T_WHITESPACE","\n        ",477],["T_VARIABLE","$configValue",478],["T_WHITESPACE"," ",478],"=",["T_WHITESPACE"," ",478],["T_CONSTANT_ENCAPSED_STRING","''",478],";",["T_WHITESPACE","\n        ",478],["T_VARIABLE","$params",479],["T_WHITESPACE"," ",479],"=",["T_WHITESPACE"," ",479],["T_VARIABLE","$this",479],["T_OBJECT_OPERATOR","->",479],["T_STRING","_getIncludeParameters",479],"(",["T_VARIABLE","$construction",479],"[",["T_LNUMBER","2",479],"]",")",";",["T_WHITESPACE","\n        ",479],["T_VARIABLE","$storeId",480],["T_WHITESPACE"," ",480],"=",["T_WHITESPACE"," ",480],["T_VARIABLE","$this",480],["T_OBJECT_OPERATOR","->",480],["T_STRING","getStoreId",480],"(",")",";",["T_WHITESPACE","\n        ",480],["T_IF","if",481],["T_WHITESPACE"," ",481],"(",["T_ISSET","isset",481],"(",["T_VARIABLE","$params",481],"[",["T_CONSTANT_ENCAPSED_STRING","'path'",481],"]",")",["T_WHITESPACE"," ",481],["T_BOOLEAN_AND","&&",481],["T_WHITESPACE"," ",481],["T_VARIABLE","$this",481],["T_OBJECT_OPERATOR","->",481],["T_STRING","_permissionVariable",481],["T_OBJECT_OPERATOR","->",481],["T_STRING","isPathAllowed",481],"(",["T_VARIABLE","$params",481],"[",["T_CONSTANT_ENCAPSED_STRING","'path'",481],"]",")",")",["T_WHITESPACE"," ",481],"{",["T_WHITESPACE","\n            ",481],["T_VARIABLE","$configValue",482],["T_WHITESPACE"," ",482],"=",["T_WHITESPACE"," ",482],["T_STRING","Mage",482],["T_DOUBLE_COLON","::",482],["T_STRING","getStoreConfig",482],"(",["T_VARIABLE","$params",482],"[",["T_CONSTANT_ENCAPSED_STRING","'path'",482],"]",",",["T_WHITESPACE"," ",482],["T_VARIABLE","$storeId",482],")",";",["T_WHITESPACE","\n        ",482],"}",["T_WHITESPACE","\n        ",483],["T_RETURN","return",484],["T_WHITESPACE"," ",484],["T_VARIABLE","$configValue",484],";",["T_WHITESPACE","\n    ",484],"}",["T_WHITESPACE","\n\n    ",485],["T_DOC_COMMENT","\/**\n     * Custom Variable directive\n     *\n     * @param array $construction\n     * @return string\n     *\/",487],["T_WHITESPACE","\n    ",492],["T_PUBLIC","public",493],["T_WHITESPACE"," ",493],["T_FUNCTION","function",493],["T_WHITESPACE"," ",493],["T_STRING","customvarDirective",493],"(",["T_VARIABLE","$construction",493],")",["T_WHITESPACE","\n    ",493],"{",["T_WHITESPACE","\n        ",494],["T_VARIABLE","$customVarValue",495],["T_WHITESPACE"," ",495],"=",["T_WHITESPACE"," ",495],["T_CONSTANT_ENCAPSED_STRING","''",495],";",["T_WHITESPACE","\n        ",495],["T_VARIABLE","$params",496],["T_WHITESPACE"," ",496],"=",["T_WHITESPACE"," ",496],["T_VARIABLE","$this",496],["T_OBJECT_OPERATOR","->",496],["T_STRING","_getIncludeParameters",496],"(",["T_VARIABLE","$construction",496],"[",["T_LNUMBER","2",496],"]",")",";",["T_WHITESPACE","\n        ",496],["T_IF","if",497],["T_WHITESPACE"," ",497],"(",["T_ISSET","isset",497],"(",["T_VARIABLE","$params",497],"[",["T_CONSTANT_ENCAPSED_STRING","'code'",497],"]",")",")",["T_WHITESPACE"," ",497],"{",["T_WHITESPACE","\n            ",497],["T_VARIABLE","$variable",498],["T_WHITESPACE"," ",498],"=",["T_WHITESPACE"," ",498],["T_STRING","Mage",498],["T_DOUBLE_COLON","::",498],["T_STRING","getModel",498],"(",["T_CONSTANT_ENCAPSED_STRING","'core\/variable'",498],")",["T_WHITESPACE","\n                ",498],["T_OBJECT_OPERATOR","->",499],["T_STRING","setStoreId",499],"(",["T_VARIABLE","$this",499],["T_OBJECT_OPERATOR","->",499],["T_STRING","getStoreId",499],"(",")",")",["T_WHITESPACE","\n                ",499],["T_OBJECT_OPERATOR","->",500],["T_STRING","loadByCode",500],"(",["T_VARIABLE","$params",500],"[",["T_CONSTANT_ENCAPSED_STRING","'code'",500],"]",")",";",["T_WHITESPACE","\n            ",500],["T_VARIABLE","$mode",501],["T_WHITESPACE"," ",501],"=",["T_WHITESPACE"," ",501],["T_VARIABLE","$this",501],["T_OBJECT_OPERATOR","->",501],["T_STRING","getPlainTemplateMode",501],"(",")",["T_WHITESPACE","\n                ",501],"?",["T_WHITESPACE"," ",502],["T_STRING","Mage_Core_Model_Variable",502],["T_DOUBLE_COLON","::",502],["T_STRING","TYPE_TEXT",502],["T_WHITESPACE","\n                ",502],":",["T_WHITESPACE"," ",503],["T_STRING","Mage_Core_Model_Variable",503],["T_DOUBLE_COLON","::",503],["T_STRING","TYPE_HTML",503],";",["T_WHITESPACE","\n            ",503],["T_IF","if",504],["T_WHITESPACE"," ",504],"(",["T_VARIABLE","$value",504],["T_WHITESPACE"," ",504],"=",["T_WHITESPACE"," ",504],["T_VARIABLE","$variable",504],["T_OBJECT_OPERATOR","->",504],["T_STRING","getValue",504],"(",["T_VARIABLE","$mode",504],")",")",["T_WHITESPACE"," ",504],"{",["T_WHITESPACE","\n                ",504],["T_VARIABLE","$customVarValue",505],["T_WHITESPACE"," ",505],"=",["T_WHITESPACE"," ",505],["T_VARIABLE","$value",505],";",["T_WHITESPACE","\n            ",505],"}",["T_WHITESPACE","\n        ",506],"}",["T_WHITESPACE","\n        ",507],["T_RETURN","return",508],["T_WHITESPACE"," ",508],["T_VARIABLE","$customVarValue",508],";",["T_WHITESPACE","\n    ",508],"}",["T_WHITESPACE","\n\n    ",509],["T_DOC_COMMENT","\/**\n     * This directive will allow CSS files to be applied inline to the HTML in the email template.\n     * Syntax: {{inlinecss file=\"\"}}  If this directive is used, the file will be stored on this object so that\n     * it can be retrieved later\n     *\n     * @param $construction\n     * @return string\n     *\/",511],["T_WHITESPACE","\n    ",518],["T_PUBLIC","public",519],["T_WHITESPACE"," ",519],["T_FUNCTION","function",519],["T_WHITESPACE"," ",519],["T_STRING","inlinecssDirective",519],"(",["T_VARIABLE","$construction",519],")",["T_WHITESPACE","\n    ",519],"{",["T_WHITESPACE","\n        ",520],["T_VARIABLE","$params",521],["T_WHITESPACE"," ",521],"=",["T_WHITESPACE"," ",521],["T_VARIABLE","$this",521],["T_OBJECT_OPERATOR","->",521],["T_STRING","_getIncludeParameters",521],"(",["T_VARIABLE","$construction",521],"[",["T_LNUMBER","2",521],"]",")",";",["T_WHITESPACE","\n        ",521],["T_IF","if",522],["T_WHITESPACE"," ",522],"(",["T_ISSET","isset",522],"(",["T_VARIABLE","$params",522],"[",["T_CONSTANT_ENCAPSED_STRING","'file'",522],"]",")",")",["T_WHITESPACE"," ",522],"{",["T_WHITESPACE","\n            ",522],["T_VARIABLE","$this",523],["T_OBJECT_OPERATOR","->",523],["T_STRING","_setInlineCssFile",523],"(",["T_VARIABLE","$params",523],"[",["T_CONSTANT_ENCAPSED_STRING","'file'",523],"]",")",";",["T_WHITESPACE","\n        ",523],"}",["T_WHITESPACE","\n        ",524],["T_RETURN","return",525],["T_WHITESPACE"," ",525],["T_CONSTANT_ENCAPSED_STRING","''",525],";",["T_WHITESPACE","\n    ",525],"}",["T_WHITESPACE","\n\n    ",526],["T_DOC_COMMENT","\/**\n     * Set filename of CSS file to inline\n     *\n     * @param $filename\n     * @return $this\n     *\/",528],["T_WHITESPACE","\n    ",533],["T_PROTECTED","protected",534],["T_WHITESPACE"," ",534],["T_FUNCTION","function",534],["T_WHITESPACE"," ",534],["T_STRING","_setInlineCssFile",534],"(",["T_VARIABLE","$filename",534],")",["T_WHITESPACE","\n    ",534],"{",["T_WHITESPACE","\n        ",535],["T_VARIABLE","$this",536],["T_OBJECT_OPERATOR","->",536],["T_STRING","_inlineCssFile",536],["T_WHITESPACE"," ",536],"=",["T_WHITESPACE"," ",536],["T_VARIABLE","$filename",536],";",["T_WHITESPACE","\n        ",536],["T_RETURN","return",537],["T_WHITESPACE"," ",537],["T_VARIABLE","$this",537],";",["T_WHITESPACE","\n    ",537],"}",["T_WHITESPACE","\n\n    ",538],["T_DOC_COMMENT","\/**\n     * Get filename of CSS file to inline\n     *\n     * @return bool|string\n     *\/",540],["T_WHITESPACE","\n    ",544],["T_PUBLIC","public",545],["T_WHITESPACE"," ",545],["T_FUNCTION","function",545],["T_WHITESPACE"," ",545],["T_STRING","getInlineCssFile",545],"(",")",["T_WHITESPACE","\n    ",545],"{",["T_WHITESPACE","\n        ",546],["T_RETURN","return",547],["T_WHITESPACE"," ",547],["T_VARIABLE","$this",547],["T_OBJECT_OPERATOR","->",547],["T_STRING","_inlineCssFile",547],";",["T_WHITESPACE","\n    ",547],"}",["T_WHITESPACE","\n\n    ",548],["T_DOC_COMMENT","\/**\n     * Filter the string as template.\n     * Rewrited for logging exceptions\n     *\n     * @param string $value\n     * @return string\n     *\/",550],["T_WHITESPACE","\n    ",556],["T_PUBLIC","public",557],["T_WHITESPACE"," ",557],["T_FUNCTION","function",557],["T_WHITESPACE"," ",557],["T_STRING","filter",557],"(",["T_VARIABLE","$value",557],")",["T_WHITESPACE","\n    ",557],"{",["T_WHITESPACE","\n        ",558],["T_TRY","try",559],["T_WHITESPACE"," ",559],"{",["T_WHITESPACE","\n            ",559],["T_VARIABLE","$value",560],["T_WHITESPACE"," ",560],"=",["T_WHITESPACE"," ",560],["T_STRING","parent",560],["T_DOUBLE_COLON","::",560],["T_STRING","filter",560],"(",["T_VARIABLE","$value",560],")",";",["T_WHITESPACE","\n        ",560],"}",["T_WHITESPACE"," ",561],["T_CATCH","catch",561],["T_WHITESPACE"," ",561],"(",["T_STRING","Exception",561],["T_WHITESPACE"," ",561],["T_VARIABLE","$e",561],")",["T_WHITESPACE"," ",561],"{",["T_WHITESPACE","\n            ",561],["T_VARIABLE","$value",562],["T_WHITESPACE"," ",562],"=",["T_WHITESPACE"," ",562],["T_CONSTANT_ENCAPSED_STRING","''",562],";",["T_WHITESPACE","\n            ",562],["T_STRING","Mage",563],["T_DOUBLE_COLON","::",563],["T_STRING","logException",563],"(",["T_VARIABLE","$e",563],")",";",["T_WHITESPACE","\n        ",563],"}",["T_WHITESPACE","\n        ",564],["T_RETURN","return",565],["T_WHITESPACE"," ",565],["T_VARIABLE","$value",565],";",["T_WHITESPACE","\n    ",565],"}",["T_WHITESPACE","\n",566],"}",["T_WHITESPACE","\n",567]]