[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Magento\n *\n * NOTICE OF LICENSE\n *\n * This source file is subject to the Open Software License (OSL 3.0)\n * that is bundled with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/opensource.org\/licenses\/osl-3.0.php\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@magento.com so we can send you a copy immediately.\n *\n * DISCLAIMER\n *\n * Do not edit or add to this file if you wish to upgrade Magento to newer\n * versions in the future. If you wish to customize Magento for your\n * needs please refer to http:\/\/www.magento.com for more information.\n *\n * @category    Mage\n * @package     Mage_Core\n * @copyright  Copyright (c) 2006-2016 X.commerce, Inc. and affiliates (http:\/\/www.magento.com)\n * @license    http:\/\/opensource.org\/licenses\/osl-3.0.php  Open Software License (OSL 3.0)\n *\/",2],["T_WHITESPACE","\n\n\n",25],["T_DOC_COMMENT","\/**\n * Abstract resource model class\n *\n * @category    Mage\n * @package     Mage_Core\n * @author      Magento Core Team <core@magentocommerce.com>\n *\/",28],["T_WHITESPACE","\n",34],["T_ABSTRACT","abstract",35],["T_WHITESPACE"," ",35],["T_CLASS","class",35],["T_WHITESPACE"," ",35],["T_STRING","Mage_Core_Model_Resource_Db_Abstract",35],["T_WHITESPACE"," ",35],["T_EXTENDS","extends",35],["T_WHITESPACE"," ",35],["T_STRING","Mage_Core_Model_Resource_Abstract",35],["T_WHITESPACE","\n",35],"{",["T_WHITESPACE","\n    ",36],["T_DOC_COMMENT","\/**\n     * @deprecated since 1.5.0.0\n     *\/",37],["T_WHITESPACE","\n    ",39],["T_CONST","const",40],["T_WHITESPACE"," ",40],["T_STRING","CHECKSUM_KEY_NAME",40],"=",["T_WHITESPACE"," ",40],["T_CONSTANT_ENCAPSED_STRING","'Checksum'",40],";",["T_WHITESPACE","\n\n    ",40],["T_DOC_COMMENT","\/**\n     * Cached resources singleton\n     *\n     * @var Mage_Core_Model_Resource\n     *\/",42],["T_WHITESPACE","\n    ",46],["T_PROTECTED","protected",47],["T_WHITESPACE"," ",47],["T_VARIABLE","$_resources",47],";",["T_WHITESPACE","\n\n    ",47],["T_DOC_COMMENT","\/**\n     * Prefix for resources that will be used in this resource model\n     *\n     * @var string\n     *\/",49],["T_WHITESPACE","\n    ",53],["T_PROTECTED","protected",54],["T_WHITESPACE"," ",54],["T_VARIABLE","$_resourcePrefix",54],";",["T_WHITESPACE","\n\n    ",54],["T_DOC_COMMENT","\/**\n     * Connections cache for this resource model\n     *\n     * @var array\n     *\/",56],["T_WHITESPACE","\n    ",60],["T_PROTECTED","protected",61],["T_WHITESPACE"," ",61],["T_VARIABLE","$_connections",61],["T_WHITESPACE","          ",61],"=",["T_WHITESPACE"," ",61],["T_ARRAY","array",61],"(",")",";",["T_WHITESPACE","\n\n    ",61],["T_DOC_COMMENT","\/**\n     * Resource model name that contains entities (names of tables)\n     *\n     * @var string\n     *\/",63],["T_WHITESPACE","\n    ",67],["T_PROTECTED","protected",68],["T_WHITESPACE"," ",68],["T_VARIABLE","$_resourceModel",68],";",["T_WHITESPACE","\n\n    ",68],["T_DOC_COMMENT","\/**\n     * Tables used in this resource model\n     *\n     * @var array\n     *\/",70],["T_WHITESPACE","\n    ",74],["T_PROTECTED","protected",75],["T_WHITESPACE"," ",75],["T_VARIABLE","$_tables",75],["T_WHITESPACE","               ",75],"=",["T_WHITESPACE"," ",75],["T_ARRAY","array",75],"(",")",";",["T_WHITESPACE","\n\n    ",75],["T_DOC_COMMENT","\/**\n     * Main table name\n     *\n     * @var string\n     *\/",77],["T_WHITESPACE","\n    ",81],["T_PROTECTED","protected",82],["T_WHITESPACE"," ",82],["T_VARIABLE","$_mainTable",82],";",["T_WHITESPACE","\n\n    ",82],["T_DOC_COMMENT","\/**\n     * Main table primary key field name\n     *\n     * @var string\n     *\/",84],["T_WHITESPACE","\n    ",88],["T_PROTECTED","protected",89],["T_WHITESPACE"," ",89],["T_VARIABLE","$_idFieldName",89],";",["T_WHITESPACE","\n\n    ",89],["T_DOC_COMMENT","\/**\n     * Primery key auto increment flag\n     *\n     * @var bool\n     *\/",91],["T_WHITESPACE","\n    ",95],["T_PROTECTED","protected",96],["T_WHITESPACE"," ",96],["T_VARIABLE","$_isPkAutoIncrement",96],["T_WHITESPACE","    ",96],"=",["T_WHITESPACE"," ",96],["T_STRING","true",96],";",["T_WHITESPACE","\n\n    ",96],["T_DOC_COMMENT","\/**\n     * Use is object new method for save of object\n     *\n     * @var boolean\n     *\/",98],["T_WHITESPACE","\n    ",102],["T_PROTECTED","protected",103],["T_WHITESPACE"," ",103],["T_VARIABLE","$_useIsObjectNew",103],["T_WHITESPACE","       ",103],"=",["T_WHITESPACE"," ",103],["T_STRING","false",103],";",["T_WHITESPACE","\n\n    ",103],["T_DOC_COMMENT","\/**\n     * Fields List for update in forsedSave\n     *\n     * @var array\n     *\/",105],["T_WHITESPACE","\n    ",109],["T_PROTECTED","protected",110],["T_WHITESPACE"," ",110],["T_VARIABLE","$_fieldsForUpdate",110],["T_WHITESPACE","      ",110],"=",["T_WHITESPACE"," ",110],["T_ARRAY","array",110],"(",")",";",["T_WHITESPACE","\n\n    ",110],["T_DOC_COMMENT","\/**\n     * Fields of main table\n     *\n     * @var array\n     *\/",112],["T_WHITESPACE","\n    ",116],["T_PROTECTED","protected",117],["T_WHITESPACE"," ",117],["T_VARIABLE","$_mainTableFields",117],";",["T_WHITESPACE","\n\n    ",117],["T_DOC_COMMENT","\/**\n     * Main table unique keys field names\n     * could array(\n     *   array('field' => 'db_field_name1', 'title' => 'Field 1 should be unique')\n     *   array('field' => 'db_field_name2', 'title' => 'Field 2 should be unique')\n     *   array(\n     *      'field' => array('db_field_name3', 'db_field_name3'),\n     *      'title' => 'Field 3 and Field 4 combination should be unique'\n     *   )\n     * )\n     * or string 'my_field_name' - will be autoconverted to\n     *      array( array( 'field' => 'my_field_name', 'title' => 'my_field_name' ) )\n     *\n     * @var array\n     *\/",119],["T_WHITESPACE","\n    ",133],["T_PROTECTED","protected",134],["T_WHITESPACE"," ",134],["T_VARIABLE","$_uniqueFields",134],["T_WHITESPACE","         ",134],"=",["T_WHITESPACE"," ",134],["T_STRING","null",134],";",["T_WHITESPACE","\n\n    ",134],["T_DOC_COMMENT","\/**\n     * Serializable fields declaration\n     * Structure: array(\n     *     <field_name> => array(\n     *         <default_value_for_serialization>,\n     *         <default_for_unserialization>,\n     *         <whether_to_unset_empty_when serializing> \/\/ optional parameter\n     *     ),\n     * )\n     *\n     * @var array\n     *\/",136],["T_WHITESPACE","\n    ",147],["T_PROTECTED","protected",148],["T_WHITESPACE"," ",148],["T_VARIABLE","$_serializableFields",148],["T_WHITESPACE","   ",148],"=",["T_WHITESPACE"," ",148],["T_ARRAY","array",148],"(",")",";",["T_WHITESPACE","\n\n    ",148],["T_DOC_COMMENT","\/**\n     * Standard resource model initialization\n     *\n     * @param string $mainTable\n     * @param string $idFieldName\n     * @return Mage_Core_Model_Resource_Abstract\n     *\/",150],["T_WHITESPACE","\n    ",156],["T_PROTECTED","protected",157],["T_WHITESPACE"," ",157],["T_FUNCTION","function",157],["T_WHITESPACE"," ",157],["T_STRING","_init",157],"(",["T_VARIABLE","$mainTable",157],",",["T_WHITESPACE"," ",157],["T_VARIABLE","$idFieldName",157],")",["T_WHITESPACE","\n    ",157],"{",["T_WHITESPACE","\n        ",158],["T_VARIABLE","$this",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","_setMainTable",159],"(",["T_VARIABLE","$mainTable",159],",",["T_WHITESPACE"," ",159],["T_VARIABLE","$idFieldName",159],")",";",["T_WHITESPACE","\n    ",159],"}",["T_WHITESPACE","\n\n    ",160],["T_DOC_COMMENT","\/**\n     * Initialize connections and tables for this resource model\n     * If one or both arguments are string, will be used as prefix\n     * If $tables is null and $connections is string, $tables will be the same\n     *\n     * @param string|array $connections\n     * @param string|array|null $tables\n     * @return Mage_Core_Model_Resource_Abstract\n     *\/",162],["T_WHITESPACE","\n    ",170],["T_PROTECTED","protected",171],["T_WHITESPACE"," ",171],["T_FUNCTION","function",171],["T_WHITESPACE"," ",171],["T_STRING","_setResource",171],"(",["T_VARIABLE","$connections",171],",",["T_WHITESPACE"," ",171],["T_VARIABLE","$tables",171],["T_WHITESPACE"," ",171],"=",["T_WHITESPACE"," ",171],["T_STRING","null",171],")",["T_WHITESPACE","\n    ",171],"{",["T_WHITESPACE","\n        ",172],["T_VARIABLE","$this",173],["T_OBJECT_OPERATOR","->",173],["T_STRING","_resources",173],["T_WHITESPACE"," ",173],"=",["T_WHITESPACE"," ",173],["T_STRING","Mage",173],["T_DOUBLE_COLON","::",173],["T_STRING","getSingleton",173],"(",["T_CONSTANT_ENCAPSED_STRING","'core\/resource'",173],")",";",["T_WHITESPACE","\n\n        ",173],["T_IF","if",175],["T_WHITESPACE"," ",175],"(",["T_STRING","is_array",175],"(",["T_VARIABLE","$connections",175],")",")",["T_WHITESPACE"," ",175],"{",["T_WHITESPACE","\n            ",175],["T_FOREACH","foreach",176],["T_WHITESPACE"," ",176],"(",["T_VARIABLE","$connections",176],["T_WHITESPACE"," ",176],["T_AS","as",176],["T_WHITESPACE"," ",176],["T_VARIABLE","$k",176],["T_DOUBLE_ARROW","=>",176],["T_VARIABLE","$v",176],")",["T_WHITESPACE"," ",176],"{",["T_WHITESPACE","\n                ",176],["T_VARIABLE","$this",177],["T_OBJECT_OPERATOR","->",177],["T_STRING","_connections",177],"[",["T_VARIABLE","$k",177],"]",["T_WHITESPACE"," ",177],"=",["T_WHITESPACE"," ",177],["T_VARIABLE","$this",177],["T_OBJECT_OPERATOR","->",177],["T_STRING","_resources",177],["T_OBJECT_OPERATOR","->",177],["T_STRING","getConnection",177],"(",["T_VARIABLE","$v",177],")",";",["T_WHITESPACE","\n            ",177],"}",["T_WHITESPACE","\n        ",178],"}",["T_WHITESPACE"," ",179],["T_ELSE","else",179],["T_WHITESPACE"," ",179],["T_IF","if",179],["T_WHITESPACE"," ",179],"(",["T_STRING","is_string",179],"(",["T_VARIABLE","$connections",179],")",")",["T_WHITESPACE"," ",179],"{",["T_WHITESPACE","\n            ",179],["T_VARIABLE","$this",180],["T_OBJECT_OPERATOR","->",180],["T_STRING","_resourcePrefix",180],["T_WHITESPACE"," ",180],"=",["T_WHITESPACE"," ",180],["T_VARIABLE","$connections",180],";",["T_WHITESPACE","\n        ",180],"}",["T_WHITESPACE","\n\n        ",181],["T_IF","if",183],["T_WHITESPACE"," ",183],"(",["T_STRING","is_null",183],"(",["T_VARIABLE","$tables",183],")",["T_WHITESPACE"," ",183],["T_BOOLEAN_AND","&&",183],["T_WHITESPACE"," ",183],["T_STRING","is_string",183],"(",["T_VARIABLE","$connections",183],")",")",["T_WHITESPACE"," ",183],"{",["T_WHITESPACE","\n            ",183],["T_VARIABLE","$this",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","_resourceModel",184],["T_WHITESPACE"," ",184],"=",["T_WHITESPACE"," ",184],["T_VARIABLE","$this",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","_resourcePrefix",184],";",["T_WHITESPACE","\n        ",184],"}",["T_WHITESPACE"," ",185],["T_ELSE","else",185],["T_WHITESPACE"," ",185],["T_IF","if",185],["T_WHITESPACE"," ",185],"(",["T_STRING","is_array",185],"(",["T_VARIABLE","$tables",185],")",")",["T_WHITESPACE"," ",185],"{",["T_WHITESPACE","\n            ",185],["T_FOREACH","foreach",186],["T_WHITESPACE"," ",186],"(",["T_VARIABLE","$tables",186],["T_WHITESPACE"," ",186],["T_AS","as",186],["T_WHITESPACE"," ",186],["T_VARIABLE","$k",186],["T_WHITESPACE"," ",186],["T_DOUBLE_ARROW","=>",186],["T_WHITESPACE"," ",186],["T_VARIABLE","$v",186],")",["T_WHITESPACE"," ",186],"{",["T_WHITESPACE","\n                ",186],["T_VARIABLE","$this",187],["T_OBJECT_OPERATOR","->",187],["T_STRING","_tables",187],"[",["T_VARIABLE","$k",187],"]",["T_WHITESPACE"," ",187],"=",["T_WHITESPACE"," ",187],["T_VARIABLE","$this",187],["T_OBJECT_OPERATOR","->",187],["T_STRING","_resources",187],["T_OBJECT_OPERATOR","->",187],["T_STRING","getTableName",187],"(",["T_VARIABLE","$v",187],")",";",["T_WHITESPACE","\n            ",187],"}",["T_WHITESPACE","\n        ",188],"}",["T_WHITESPACE"," ",189],["T_ELSE","else",189],["T_WHITESPACE"," ",189],["T_IF","if",189],["T_WHITESPACE"," ",189],"(",["T_STRING","is_string",189],"(",["T_VARIABLE","$tables",189],")",")",["T_WHITESPACE"," ",189],"{",["T_WHITESPACE","\n            ",189],["T_VARIABLE","$this",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","_resourceModel",190],["T_WHITESPACE"," ",190],"=",["T_WHITESPACE"," ",190],["T_VARIABLE","$tables",190],";",["T_WHITESPACE","\n        ",190],"}",["T_WHITESPACE","\n        ",191],["T_RETURN","return",192],["T_WHITESPACE"," ",192],["T_VARIABLE","$this",192],";",["T_WHITESPACE","\n    ",192],"}",["T_WHITESPACE","\n\n    ",193],["T_DOC_COMMENT","\/**\n     * Set main entity table name and primary key field name\n     * If field name is ommited {table_name}_id will be used\n     *\n     * @param string $mainTable\n     * @param string|null $idFieldName\n     * @return Mage_Core_Model_Resource_Db_Abstract\n     *\/",195],["T_WHITESPACE","\n    ",202],["T_PROTECTED","protected",203],["T_WHITESPACE"," ",203],["T_FUNCTION","function",203],["T_WHITESPACE"," ",203],["T_STRING","_setMainTable",203],"(",["T_VARIABLE","$mainTable",203],",",["T_WHITESPACE"," ",203],["T_VARIABLE","$idFieldName",203],["T_WHITESPACE"," ",203],"=",["T_WHITESPACE"," ",203],["T_STRING","null",203],")",["T_WHITESPACE","\n    ",203],"{",["T_WHITESPACE","\n        ",204],["T_VARIABLE","$mainTableArr",205],["T_WHITESPACE"," ",205],"=",["T_WHITESPACE"," ",205],["T_STRING","explode",205],"(",["T_CONSTANT_ENCAPSED_STRING","'\/'",205],",",["T_WHITESPACE"," ",205],["T_VARIABLE","$mainTable",205],")",";",["T_WHITESPACE","\n\n        ",205],["T_IF","if",207],["T_WHITESPACE"," ",207],"(","!",["T_EMPTY","empty",207],"(",["T_VARIABLE","$mainTableArr",207],"[",["T_LNUMBER","1",207],"]",")",")",["T_WHITESPACE"," ",207],"{",["T_WHITESPACE","\n            ",207],["T_IF","if",208],["T_WHITESPACE"," ",208],"(",["T_EMPTY","empty",208],"(",["T_VARIABLE","$this",208],["T_OBJECT_OPERATOR","->",208],["T_STRING","_resourceModel",208],")",")",["T_WHITESPACE"," ",208],"{",["T_WHITESPACE","\n                ",208],["T_VARIABLE","$this",209],["T_OBJECT_OPERATOR","->",209],["T_STRING","_setResource",209],"(",["T_VARIABLE","$mainTableArr",209],"[",["T_LNUMBER","0",209],"]",")",";",["T_WHITESPACE","\n            ",209],"}",["T_WHITESPACE","\n            ",210],["T_VARIABLE","$this",211],["T_OBJECT_OPERATOR","->",211],["T_STRING","_setMainTable",211],"(",["T_VARIABLE","$mainTableArr",211],"[",["T_LNUMBER","1",211],"]",",",["T_WHITESPACE"," ",211],["T_VARIABLE","$idFieldName",211],")",";",["T_WHITESPACE","\n        ",211],"}",["T_WHITESPACE"," ",212],["T_ELSE","else",212],["T_WHITESPACE"," ",212],"{",["T_WHITESPACE","\n            ",212],["T_VARIABLE","$this",213],["T_OBJECT_OPERATOR","->",213],["T_STRING","_mainTable",213],["T_WHITESPACE"," ",213],"=",["T_WHITESPACE"," ",213],["T_VARIABLE","$mainTable",213],";",["T_WHITESPACE","\n            ",213],["T_IF","if",214],["T_WHITESPACE"," ",214],"(",["T_STRING","is_null",214],"(",["T_VARIABLE","$idFieldName",214],")",")",["T_WHITESPACE"," ",214],"{",["T_WHITESPACE","\n                ",214],["T_VARIABLE","$idFieldName",215],["T_WHITESPACE"," ",215],"=",["T_WHITESPACE"," ",215],["T_VARIABLE","$mainTable",215],["T_WHITESPACE"," ",215],".",["T_WHITESPACE"," ",215],["T_CONSTANT_ENCAPSED_STRING","'_id'",215],";",["T_WHITESPACE","\n            ",215],"}",["T_WHITESPACE","\n            ",216],["T_VARIABLE","$this",217],["T_OBJECT_OPERATOR","->",217],["T_STRING","_idFieldName",217],["T_WHITESPACE"," ",217],"=",["T_WHITESPACE"," ",217],["T_VARIABLE","$idFieldName",217],";",["T_WHITESPACE","\n        ",217],"}",["T_WHITESPACE","\n\n        ",218],["T_RETURN","return",220],["T_WHITESPACE"," ",220],["T_VARIABLE","$this",220],";",["T_WHITESPACE","\n    ",220],"}",["T_WHITESPACE","\n\n    ",221],["T_DOC_COMMENT","\/**\n     * Get primary key field name\n     *\n     * @return string\n     *\/",223],["T_WHITESPACE","\n    ",227],["T_PUBLIC","public",228],["T_WHITESPACE"," ",228],["T_FUNCTION","function",228],["T_WHITESPACE"," ",228],["T_STRING","getIdFieldName",228],"(",")",["T_WHITESPACE","\n    ",228],"{",["T_WHITESPACE","\n        ",229],["T_IF","if",230],["T_WHITESPACE"," ",230],"(",["T_EMPTY","empty",230],"(",["T_VARIABLE","$this",230],["T_OBJECT_OPERATOR","->",230],["T_STRING","_idFieldName",230],")",")",["T_WHITESPACE"," ",230],"{",["T_WHITESPACE","\n            ",230],["T_STRING","Mage",231],["T_DOUBLE_COLON","::",231],["T_STRING","throwException",231],"(",["T_STRING","Mage",231],["T_DOUBLE_COLON","::",231],["T_STRING","helper",231],"(",["T_CONSTANT_ENCAPSED_STRING","'core'",231],")",["T_OBJECT_OPERATOR","->",231],["T_STRING","__",231],"(",["T_CONSTANT_ENCAPSED_STRING","'Empty identifier field name'",231],")",")",";",["T_WHITESPACE","\n        ",231],"}",["T_WHITESPACE","\n        ",232],["T_RETURN","return",233],["T_WHITESPACE"," ",233],["T_VARIABLE","$this",233],["T_OBJECT_OPERATOR","->",233],["T_STRING","_idFieldName",233],";",["T_WHITESPACE","\n    ",233],"}",["T_WHITESPACE","\n\n    ",234],["T_DOC_COMMENT","\/**\n     * Returns main table name - extracted from \"module\/table\" style and\n     * validated by db adapter\n     *\n     * @return string\n     *\/",236],["T_WHITESPACE","\n    ",241],["T_PUBLIC","public",242],["T_WHITESPACE"," ",242],["T_FUNCTION","function",242],["T_WHITESPACE"," ",242],["T_STRING","getMainTable",242],"(",")",["T_WHITESPACE","\n    ",242],"{",["T_WHITESPACE","\n        ",243],["T_IF","if",244],["T_WHITESPACE"," ",244],"(",["T_EMPTY","empty",244],"(",["T_VARIABLE","$this",244],["T_OBJECT_OPERATOR","->",244],["T_STRING","_mainTable",244],")",")",["T_WHITESPACE"," ",244],"{",["T_WHITESPACE","\n            ",244],["T_STRING","Mage",245],["T_DOUBLE_COLON","::",245],["T_STRING","throwException",245],"(",["T_STRING","Mage",245],["T_DOUBLE_COLON","::",245],["T_STRING","helper",245],"(",["T_CONSTANT_ENCAPSED_STRING","'core'",245],")",["T_OBJECT_OPERATOR","->",245],["T_STRING","__",245],"(",["T_CONSTANT_ENCAPSED_STRING","'Empty main table name'",245],")",")",";",["T_WHITESPACE","\n        ",245],"}",["T_WHITESPACE","\n        ",246],["T_RETURN","return",247],["T_WHITESPACE"," ",247],["T_VARIABLE","$this",247],["T_OBJECT_OPERATOR","->",247],["T_STRING","getTable",247],"(",["T_VARIABLE","$this",247],["T_OBJECT_OPERATOR","->",247],["T_STRING","_mainTable",247],")",";",["T_WHITESPACE","\n    ",247],"}",["T_WHITESPACE","\n\n    ",248],["T_DOC_COMMENT","\/**\n     * Get table name for the entity, validated by db adapter\n     *\n     * @param string $entityName\n     * @return string\n     *\/",250],["T_WHITESPACE","\n    ",255],["T_PUBLIC","public",256],["T_WHITESPACE"," ",256],["T_FUNCTION","function",256],["T_WHITESPACE"," ",256],["T_STRING","getTable",256],"(",["T_VARIABLE","$entityName",256],")",["T_WHITESPACE","\n    ",256],"{",["T_WHITESPACE","\n        ",257],["T_IF","if",258],["T_WHITESPACE"," ",258],"(",["T_STRING","is_array",258],"(",["T_VARIABLE","$entityName",258],")",")",["T_WHITESPACE"," ",258],"{",["T_WHITESPACE","\n            ",258],["T_VARIABLE","$cacheName",259],["T_WHITESPACE","    ",259],"=",["T_WHITESPACE"," ",259],["T_STRING","join",259],"(",["T_CONSTANT_ENCAPSED_STRING","'@'",259],",",["T_WHITESPACE"," ",259],["T_VARIABLE","$entityName",259],")",";",["T_WHITESPACE","\n            ",259],["T_LIST","list",260],"(",["T_VARIABLE","$entityName",260],",",["T_WHITESPACE"," ",260],["T_VARIABLE","$entitySuffix",260],")",["T_WHITESPACE"," ",260],"=",["T_WHITESPACE"," ",260],["T_VARIABLE","$entityName",260],";",["T_WHITESPACE","\n        ",260],"}",["T_WHITESPACE"," ",261],["T_ELSE","else",261],["T_WHITESPACE"," ",261],"{",["T_WHITESPACE","\n            ",261],["T_VARIABLE","$cacheName",262],["T_WHITESPACE","    ",262],"=",["T_WHITESPACE"," ",262],["T_VARIABLE","$entityName",262],";",["T_WHITESPACE","\n            ",262],["T_VARIABLE","$entitySuffix",263],["T_WHITESPACE"," ",263],"=",["T_WHITESPACE"," ",263],["T_STRING","null",263],";",["T_WHITESPACE","\n        ",263],"}",["T_WHITESPACE","\n\n        ",264],["T_IF","if",266],["T_WHITESPACE"," ",266],"(",["T_ISSET","isset",266],"(",["T_VARIABLE","$this",266],["T_OBJECT_OPERATOR","->",266],["T_STRING","_tables",266],"[",["T_VARIABLE","$cacheName",266],"]",")",")",["T_WHITESPACE"," ",266],"{",["T_WHITESPACE","\n            ",266],["T_RETURN","return",267],["T_WHITESPACE"," ",267],["T_VARIABLE","$this",267],["T_OBJECT_OPERATOR","->",267],["T_STRING","_tables",267],"[",["T_VARIABLE","$cacheName",267],"]",";",["T_WHITESPACE","\n        ",267],"}",["T_WHITESPACE","\n\n        ",268],["T_IF","if",270],["T_WHITESPACE"," ",270],"(",["T_STRING","strpos",270],"(",["T_VARIABLE","$entityName",270],",",["T_WHITESPACE"," ",270],["T_CONSTANT_ENCAPSED_STRING","'\/'",270],")",")",["T_WHITESPACE"," ",270],"{",["T_WHITESPACE","\n            ",270],["T_IF","if",271],["T_WHITESPACE"," ",271],"(","!",["T_STRING","is_null",271],"(",["T_VARIABLE","$entitySuffix",271],")",")",["T_WHITESPACE"," ",271],"{",["T_WHITESPACE","\n                ",271],["T_VARIABLE","$modelEntity",272],["T_WHITESPACE"," ",272],"=",["T_WHITESPACE"," ",272],["T_ARRAY","array",272],"(",["T_VARIABLE","$entityName",272],",",["T_WHITESPACE"," ",272],["T_VARIABLE","$entitySuffix",272],")",";",["T_WHITESPACE","\n            ",272],"}",["T_WHITESPACE"," ",273],["T_ELSE","else",273],["T_WHITESPACE"," ",273],"{",["T_WHITESPACE","\n                ",273],["T_VARIABLE","$modelEntity",274],["T_WHITESPACE"," ",274],"=",["T_WHITESPACE"," ",274],["T_VARIABLE","$entityName",274],";",["T_WHITESPACE","\n            ",274],"}",["T_WHITESPACE","\n            ",275],["T_VARIABLE","$this",276],["T_OBJECT_OPERATOR","->",276],["T_STRING","_tables",276],"[",["T_VARIABLE","$cacheName",276],"]",["T_WHITESPACE"," ",276],"=",["T_WHITESPACE"," ",276],["T_VARIABLE","$this",276],["T_OBJECT_OPERATOR","->",276],["T_STRING","_resources",276],["T_OBJECT_OPERATOR","->",276],["T_STRING","getTableName",276],"(",["T_VARIABLE","$modelEntity",276],")",";",["T_WHITESPACE","\n        ",276],"}",["T_WHITESPACE"," ",277],["T_ELSE","else",277],["T_WHITESPACE"," ",277],["T_IF","if",277],["T_WHITESPACE"," ",277],"(","!",["T_EMPTY","empty",277],"(",["T_VARIABLE","$this",277],["T_OBJECT_OPERATOR","->",277],["T_STRING","_resourceModel",277],")",")",["T_WHITESPACE"," ",277],"{",["T_WHITESPACE","\n            ",277],["T_VARIABLE","$entityName",278],["T_WHITESPACE"," ",278],"=",["T_WHITESPACE"," ",278],["T_STRING","sprintf",278],"(",["T_CONSTANT_ENCAPSED_STRING","'%s\/%s'",278],",",["T_WHITESPACE"," ",278],["T_VARIABLE","$this",278],["T_OBJECT_OPERATOR","->",278],["T_STRING","_resourceModel",278],",",["T_WHITESPACE"," ",278],["T_VARIABLE","$entityName",278],")",";",["T_WHITESPACE","\n            ",278],["T_IF","if",279],["T_WHITESPACE"," ",279],"(","!",["T_STRING","is_null",279],"(",["T_VARIABLE","$entitySuffix",279],")",")",["T_WHITESPACE"," ",279],"{",["T_WHITESPACE","\n                ",279],["T_VARIABLE","$modelEntity",280],["T_WHITESPACE"," ",280],"=",["T_WHITESPACE"," ",280],["T_ARRAY","array",280],"(",["T_VARIABLE","$entityName",280],",",["T_WHITESPACE"," ",280],["T_VARIABLE","$entitySuffix",280],")",";",["T_WHITESPACE","\n            ",280],"}",["T_WHITESPACE"," ",281],["T_ELSE","else",281],["T_WHITESPACE"," ",281],"{",["T_WHITESPACE","\n                ",281],["T_VARIABLE","$modelEntity",282],["T_WHITESPACE"," ",282],"=",["T_WHITESPACE"," ",282],["T_VARIABLE","$entityName",282],";",["T_WHITESPACE","\n            ",282],"}",["T_WHITESPACE","\n            ",283],["T_VARIABLE","$this",284],["T_OBJECT_OPERATOR","->",284],["T_STRING","_tables",284],"[",["T_VARIABLE","$cacheName",284],"]",["T_WHITESPACE"," ",284],"=",["T_WHITESPACE"," ",284],["T_VARIABLE","$this",284],["T_OBJECT_OPERATOR","->",284],["T_STRING","_resources",284],["T_OBJECT_OPERATOR","->",284],["T_STRING","getTableName",284],"(",["T_VARIABLE","$modelEntity",284],")",";",["T_WHITESPACE","\n        ",284],"}",["T_WHITESPACE"," ",285],["T_ELSE","else",285],["T_WHITESPACE"," ",285],"{",["T_WHITESPACE","\n            ",285],["T_IF","if",286],["T_WHITESPACE"," ",286],"(","!",["T_STRING","is_null",286],"(",["T_VARIABLE","$entitySuffix",286],")",")",["T_WHITESPACE"," ",286],"{",["T_WHITESPACE","\n                ",286],["T_VARIABLE","$entityName",287],["T_WHITESPACE"," ",287],["T_CONCAT_EQUAL",".=",287],["T_WHITESPACE"," ",287],["T_CONSTANT_ENCAPSED_STRING","'_'",287],["T_WHITESPACE"," ",287],".",["T_WHITESPACE"," ",287],["T_VARIABLE","$entitySuffix",287],";",["T_WHITESPACE","\n            ",287],"}",["T_WHITESPACE","\n            ",288],["T_VARIABLE","$this",289],["T_OBJECT_OPERATOR","->",289],["T_STRING","_tables",289],"[",["T_VARIABLE","$cacheName",289],"]",["T_WHITESPACE"," ",289],"=",["T_WHITESPACE"," ",289],["T_VARIABLE","$entityName",289],";",["T_WHITESPACE","\n        ",289],"}",["T_WHITESPACE","\n        ",290],["T_RETURN","return",291],["T_WHITESPACE"," ",291],["T_VARIABLE","$this",291],["T_OBJECT_OPERATOR","->",291],["T_STRING","_tables",291],"[",["T_VARIABLE","$cacheName",291],"]",";",["T_WHITESPACE","\n    ",291],"}",["T_WHITESPACE","\n\n\n    ",292],["T_DOC_COMMENT","\/**\n     * Retrieve table name for the entity separated value\n     *\n     * @param string $entityName\n     * @param string $valueType\n     * @return string\n     *\/",295],["T_WHITESPACE","\n    ",301],["T_PUBLIC","public",302],["T_WHITESPACE"," ",302],["T_FUNCTION","function",302],["T_WHITESPACE"," ",302],["T_STRING","getValueTable",302],"(",["T_VARIABLE","$entityName",302],",",["T_WHITESPACE"," ",302],["T_VARIABLE","$valueType",302],")",["T_WHITESPACE","\n    ",302],"{",["T_WHITESPACE","\n        ",303],["T_RETURN","return",304],["T_WHITESPACE"," ",304],["T_VARIABLE","$this",304],["T_OBJECT_OPERATOR","->",304],["T_STRING","getTable",304],"(",["T_ARRAY","array",304],"(",["T_VARIABLE","$entityName",304],",",["T_WHITESPACE"," ",304],["T_VARIABLE","$valueType",304],")",")",";",["T_WHITESPACE","\n    ",304],"}",["T_WHITESPACE","\n\n    ",305],["T_DOC_COMMENT","\/**\n     * Get connection by name or type\n     *\n     * @param string $connectionName\n     * @return Zend_Db_Adapter_Abstract\n     *\/",307],["T_WHITESPACE","\n    ",312],["T_PROTECTED","protected",313],["T_WHITESPACE"," ",313],["T_FUNCTION","function",313],["T_WHITESPACE"," ",313],["T_STRING","_getConnection",313],"(",["T_VARIABLE","$connectionName",313],")",["T_WHITESPACE","\n    ",313],"{",["T_WHITESPACE","\n        ",314],["T_IF","if",315],["T_WHITESPACE"," ",315],"(",["T_ISSET","isset",315],"(",["T_VARIABLE","$this",315],["T_OBJECT_OPERATOR","->",315],["T_STRING","_connections",315],"[",["T_VARIABLE","$connectionName",315],"]",")",")",["T_WHITESPACE"," ",315],"{",["T_WHITESPACE","\n            ",315],["T_RETURN","return",316],["T_WHITESPACE"," ",316],["T_VARIABLE","$this",316],["T_OBJECT_OPERATOR","->",316],["T_STRING","_connections",316],"[",["T_VARIABLE","$connectionName",316],"]",";",["T_WHITESPACE","\n        ",316],"}",["T_WHITESPACE","\n        ",317],["T_IF","if",318],["T_WHITESPACE"," ",318],"(","!",["T_EMPTY","empty",318],"(",["T_VARIABLE","$this",318],["T_OBJECT_OPERATOR","->",318],["T_STRING","_resourcePrefix",318],")",")",["T_WHITESPACE"," ",318],"{",["T_WHITESPACE","\n            ",318],["T_VARIABLE","$this",319],["T_OBJECT_OPERATOR","->",319],["T_STRING","_connections",319],"[",["T_VARIABLE","$connectionName",319],"]",["T_WHITESPACE"," ",319],"=",["T_WHITESPACE"," ",319],["T_VARIABLE","$this",319],["T_OBJECT_OPERATOR","->",319],["T_STRING","_resources",319],["T_OBJECT_OPERATOR","->",319],["T_STRING","getConnection",319],"(",["T_WHITESPACE","\n                ",319],["T_VARIABLE","$this",320],["T_OBJECT_OPERATOR","->",320],["T_STRING","_resourcePrefix",320],["T_WHITESPACE"," ",320],".",["T_WHITESPACE"," ",320],["T_CONSTANT_ENCAPSED_STRING","'_'",320],["T_WHITESPACE"," ",320],".",["T_WHITESPACE"," ",320],["T_VARIABLE","$connectionName",320],")",";",["T_WHITESPACE","\n        ",320],"}",["T_WHITESPACE"," ",321],["T_ELSE","else",321],["T_WHITESPACE"," ",321],"{",["T_WHITESPACE","\n            ",321],["T_VARIABLE","$this",322],["T_OBJECT_OPERATOR","->",322],["T_STRING","_connections",322],"[",["T_VARIABLE","$connectionName",322],"]",["T_WHITESPACE"," ",322],"=",["T_WHITESPACE"," ",322],["T_VARIABLE","$this",322],["T_OBJECT_OPERATOR","->",322],["T_STRING","_resources",322],["T_OBJECT_OPERATOR","->",322],["T_STRING","getConnection",322],"(",["T_VARIABLE","$connectionName",322],")",";",["T_WHITESPACE","\n        ",322],"}",["T_WHITESPACE","\n\n        ",323],["T_RETURN","return",325],["T_WHITESPACE"," ",325],["T_VARIABLE","$this",325],["T_OBJECT_OPERATOR","->",325],["T_STRING","_connections",325],"[",["T_VARIABLE","$connectionName",325],"]",";",["T_WHITESPACE","\n    ",325],"}",["T_WHITESPACE","\n\n    ",326],["T_DOC_COMMENT","\/**\n     * Retrieve connection for read data\n     *\n     * @return Varien_Db_Adapter_Interface\n     *\/",328],["T_WHITESPACE","\n    ",332],["T_PROTECTED","protected",333],["T_WHITESPACE"," ",333],["T_FUNCTION","function",333],["T_WHITESPACE"," ",333],["T_STRING","_getReadAdapter",333],"(",")",["T_WHITESPACE","\n    ",333],"{",["T_WHITESPACE","\n        ",334],["T_VARIABLE","$writeAdapter",335],["T_WHITESPACE"," ",335],"=",["T_WHITESPACE"," ",335],["T_VARIABLE","$this",335],["T_OBJECT_OPERATOR","->",335],["T_STRING","_getWriteAdapter",335],"(",")",";",["T_WHITESPACE","\n        ",335],["T_IF","if",336],["T_WHITESPACE"," ",336],"(",["T_VARIABLE","$writeAdapter",336],["T_WHITESPACE"," ",336],["T_BOOLEAN_AND","&&",336],["T_WHITESPACE"," ",336],["T_VARIABLE","$writeAdapter",336],["T_OBJECT_OPERATOR","->",336],["T_STRING","getTransactionLevel",336],"(",")",["T_WHITESPACE"," ",336],">",["T_WHITESPACE"," ",336],["T_LNUMBER","0",336],")",["T_WHITESPACE"," ",336],"{",["T_WHITESPACE","\n            ",336],["T_COMMENT","\/\/ if transaction is started we should use write connection for reading\n",337],["T_WHITESPACE","            ",338],["T_RETURN","return",338],["T_WHITESPACE"," ",338],["T_VARIABLE","$writeAdapter",338],";",["T_WHITESPACE","\n        ",338],"}",["T_WHITESPACE","\n        ",339],["T_RETURN","return",340],["T_WHITESPACE"," ",340],["T_VARIABLE","$this",340],["T_OBJECT_OPERATOR","->",340],["T_STRING","_getConnection",340],"(",["T_CONSTANT_ENCAPSED_STRING","'read'",340],")",";",["T_WHITESPACE","\n    ",340],"}",["T_WHITESPACE","\n\n    ",341],["T_DOC_COMMENT","\/**\n     * Retrieve connection for write data\n     *\n     * @return Varien_Db_Adapter_Interface\n     *\/",343],["T_WHITESPACE","\n    ",347],["T_PROTECTED","protected",348],["T_WHITESPACE"," ",348],["T_FUNCTION","function",348],["T_WHITESPACE"," ",348],["T_STRING","_getWriteAdapter",348],"(",")",["T_WHITESPACE","\n    ",348],"{",["T_WHITESPACE","\n        ",349],["T_RETURN","return",350],["T_WHITESPACE"," ",350],["T_VARIABLE","$this",350],["T_OBJECT_OPERATOR","->",350],["T_STRING","_getConnection",350],"(",["T_CONSTANT_ENCAPSED_STRING","'write'",350],")",";",["T_WHITESPACE","\n    ",350],"}",["T_WHITESPACE","\n\n    ",351],["T_DOC_COMMENT","\/**\n     * Temporary resolving collection compatibility\n     *\n     * @return Varien_Db_Adapter_Interface\n     *\/",353],["T_WHITESPACE","\n    ",357],["T_PUBLIC","public",358],["T_WHITESPACE"," ",358],["T_FUNCTION","function",358],["T_WHITESPACE"," ",358],["T_STRING","getReadConnection",358],"(",")",["T_WHITESPACE","\n    ",358],"{",["T_WHITESPACE","\n        ",359],["T_RETURN","return",360],["T_WHITESPACE"," ",360],["T_VARIABLE","$this",360],["T_OBJECT_OPERATOR","->",360],["T_STRING","_getReadAdapter",360],"(",")",";",["T_WHITESPACE","\n    ",360],"}",["T_WHITESPACE","\n\n    ",361],["T_DOC_COMMENT","\/**\n     * Load an object\n     *\n     * @param Mage_Core_Model_Abstract $object\n     * @param mixed $value\n     * @param string $field field to load by (defaults to model id)\n     * @return Mage_Core_Model_Resource_Db_Abstract\n     *\/",363],["T_WHITESPACE","\n    ",370],["T_PUBLIC","public",371],["T_WHITESPACE"," ",371],["T_FUNCTION","function",371],["T_WHITESPACE"," ",371],["T_STRING","load",371],"(",["T_STRING","Mage_Core_Model_Abstract",371],["T_WHITESPACE"," ",371],["T_VARIABLE","$object",371],",",["T_WHITESPACE"," ",371],["T_VARIABLE","$value",371],",",["T_WHITESPACE"," ",371],["T_VARIABLE","$field",371],["T_WHITESPACE"," ",371],"=",["T_WHITESPACE"," ",371],["T_STRING","null",371],")",["T_WHITESPACE","\n    ",371],"{",["T_WHITESPACE","\n        ",372],["T_IF","if",373],["T_WHITESPACE"," ",373],"(",["T_STRING","is_null",373],"(",["T_VARIABLE","$field",373],")",")",["T_WHITESPACE"," ",373],"{",["T_WHITESPACE","\n            ",373],["T_VARIABLE","$field",374],["T_WHITESPACE"," ",374],"=",["T_WHITESPACE"," ",374],["T_VARIABLE","$this",374],["T_OBJECT_OPERATOR","->",374],["T_STRING","getIdFieldName",374],"(",")",";",["T_WHITESPACE","\n        ",374],"}",["T_WHITESPACE","\n\n        ",375],["T_VARIABLE","$read",377],["T_WHITESPACE"," ",377],"=",["T_WHITESPACE"," ",377],["T_VARIABLE","$this",377],["T_OBJECT_OPERATOR","->",377],["T_STRING","_getReadAdapter",377],"(",")",";",["T_WHITESPACE","\n        ",377],["T_IF","if",378],["T_WHITESPACE"," ",378],"(",["T_VARIABLE","$read",378],["T_WHITESPACE"," ",378],["T_BOOLEAN_AND","&&",378],["T_WHITESPACE"," ",378],"!",["T_STRING","is_null",378],"(",["T_VARIABLE","$value",378],")",")",["T_WHITESPACE"," ",378],"{",["T_WHITESPACE","\n            ",378],["T_VARIABLE","$select",379],["T_WHITESPACE"," ",379],"=",["T_WHITESPACE"," ",379],["T_VARIABLE","$this",379],["T_OBJECT_OPERATOR","->",379],["T_STRING","_getLoadSelect",379],"(",["T_VARIABLE","$field",379],",",["T_WHITESPACE"," ",379],["T_VARIABLE","$value",379],",",["T_WHITESPACE"," ",379],["T_VARIABLE","$object",379],")",";",["T_WHITESPACE","\n            ",379],["T_VARIABLE","$data",380],["T_WHITESPACE"," ",380],"=",["T_WHITESPACE"," ",380],["T_VARIABLE","$read",380],["T_OBJECT_OPERATOR","->",380],["T_STRING","fetchRow",380],"(",["T_VARIABLE","$select",380],")",";",["T_WHITESPACE","\n\n            ",380],["T_IF","if",382],["T_WHITESPACE"," ",382],"(",["T_VARIABLE","$data",382],")",["T_WHITESPACE"," ",382],"{",["T_WHITESPACE","\n                ",382],["T_VARIABLE","$object",383],["T_OBJECT_OPERATOR","->",383],["T_STRING","setData",383],"(",["T_VARIABLE","$data",383],")",";",["T_WHITESPACE","\n            ",383],"}",["T_WHITESPACE","\n        ",384],"}",["T_WHITESPACE","\n\n        ",385],["T_VARIABLE","$this",387],["T_OBJECT_OPERATOR","->",387],["T_STRING","unserializeFields",387],"(",["T_VARIABLE","$object",387],")",";",["T_WHITESPACE","\n        ",387],["T_VARIABLE","$this",388],["T_OBJECT_OPERATOR","->",388],["T_STRING","_afterLoad",388],"(",["T_VARIABLE","$object",388],")",";",["T_WHITESPACE","\n\n        ",388],["T_RETURN","return",390],["T_WHITESPACE"," ",390],["T_VARIABLE","$this",390],";",["T_WHITESPACE","\n    ",390],"}",["T_WHITESPACE","\n\n    ",391],["T_DOC_COMMENT","\/**\n     * Retrieve select object for load object data\n     *\n     * @param string $field\n     * @param mixed $value\n     * @param Mage_Core_Model_Abstract $object\n     * @return Zend_Db_Select\n     *\/",393],["T_WHITESPACE","\n    ",400],["T_PROTECTED","protected",401],["T_WHITESPACE"," ",401],["T_FUNCTION","function",401],["T_WHITESPACE"," ",401],["T_STRING","_getLoadSelect",401],"(",["T_VARIABLE","$field",401],",",["T_WHITESPACE"," ",401],["T_VARIABLE","$value",401],",",["T_WHITESPACE"," ",401],["T_VARIABLE","$object",401],")",["T_WHITESPACE","\n    ",401],"{",["T_WHITESPACE","\n        ",402],["T_VARIABLE","$field",403],["T_WHITESPACE","  ",403],"=",["T_WHITESPACE"," ",403],["T_VARIABLE","$this",403],["T_OBJECT_OPERATOR","->",403],["T_STRING","_getReadAdapter",403],"(",")",["T_OBJECT_OPERATOR","->",403],["T_STRING","quoteIdentifier",403],"(",["T_STRING","sprintf",403],"(",["T_CONSTANT_ENCAPSED_STRING","'%s.%s'",403],",",["T_WHITESPACE"," ",403],["T_VARIABLE","$this",403],["T_OBJECT_OPERATOR","->",403],["T_STRING","getMainTable",403],"(",")",",",["T_WHITESPACE"," ",403],["T_VARIABLE","$field",403],")",")",";",["T_WHITESPACE","\n        ",403],["T_VARIABLE","$select",404],["T_WHITESPACE"," ",404],"=",["T_WHITESPACE"," ",404],["T_VARIABLE","$this",404],["T_OBJECT_OPERATOR","->",404],["T_STRING","_getReadAdapter",404],"(",")",["T_OBJECT_OPERATOR","->",404],["T_STRING","select",404],"(",")",["T_WHITESPACE","\n            ",404],["T_OBJECT_OPERATOR","->",405],["T_STRING","from",405],"(",["T_VARIABLE","$this",405],["T_OBJECT_OPERATOR","->",405],["T_STRING","getMainTable",405],"(",")",")",["T_WHITESPACE","\n            ",405],["T_OBJECT_OPERATOR","->",406],["T_STRING","where",406],"(",["T_VARIABLE","$field",406],["T_WHITESPACE"," ",406],".",["T_WHITESPACE"," ",406],["T_CONSTANT_ENCAPSED_STRING","'=?'",406],",",["T_WHITESPACE"," ",406],["T_VARIABLE","$value",406],")",";",["T_WHITESPACE","\n        ",406],["T_RETURN","return",407],["T_WHITESPACE"," ",407],["T_VARIABLE","$select",407],";",["T_WHITESPACE","\n    ",407],"}",["T_WHITESPACE","\n\n    ",408],["T_DOC_COMMENT","\/**\n     * Save object object data\n     *\n     * @param Mage_Core_Model_Abstract $object\n     * @return Mage_Core_Model_Resource_Db_Abstract\n     *\/",410],["T_WHITESPACE","\n    ",415],["T_PUBLIC","public",416],["T_WHITESPACE"," ",416],["T_FUNCTION","function",416],["T_WHITESPACE"," ",416],["T_STRING","save",416],"(",["T_STRING","Mage_Core_Model_Abstract",416],["T_WHITESPACE"," ",416],["T_VARIABLE","$object",416],")",["T_WHITESPACE","\n    ",416],"{",["T_WHITESPACE","\n        ",417],["T_IF","if",418],["T_WHITESPACE"," ",418],"(",["T_VARIABLE","$object",418],["T_OBJECT_OPERATOR","->",418],["T_STRING","isDeleted",418],"(",")",")",["T_WHITESPACE"," ",418],"{",["T_WHITESPACE","\n            ",418],["T_RETURN","return",419],["T_WHITESPACE"," ",419],["T_VARIABLE","$this",419],["T_OBJECT_OPERATOR","->",419],["T_STRING","delete",419],"(",["T_VARIABLE","$object",419],")",";",["T_WHITESPACE","\n        ",419],"}",["T_WHITESPACE","\n\n        ",420],["T_VARIABLE","$this",422],["T_OBJECT_OPERATOR","->",422],["T_STRING","_serializeFields",422],"(",["T_VARIABLE","$object",422],")",";",["T_WHITESPACE","\n        ",422],["T_VARIABLE","$this",423],["T_OBJECT_OPERATOR","->",423],["T_STRING","_beforeSave",423],"(",["T_VARIABLE","$object",423],")",";",["T_WHITESPACE","\n        ",423],["T_VARIABLE","$this",424],["T_OBJECT_OPERATOR","->",424],["T_STRING","_checkUnique",424],"(",["T_VARIABLE","$object",424],")",";",["T_WHITESPACE","\n        ",424],["T_IF","if",425],["T_WHITESPACE"," ",425],"(","!",["T_STRING","is_null",425],"(",["T_VARIABLE","$object",425],["T_OBJECT_OPERATOR","->",425],["T_STRING","getId",425],"(",")",")",["T_WHITESPACE"," ",425],["T_BOOLEAN_AND","&&",425],["T_WHITESPACE"," ",425],"(","!",["T_VARIABLE","$this",425],["T_OBJECT_OPERATOR","->",425],["T_STRING","_useIsObjectNew",425],["T_WHITESPACE"," ",425],["T_BOOLEAN_OR","||",425],["T_WHITESPACE"," ",425],"!",["T_VARIABLE","$object",425],["T_OBJECT_OPERATOR","->",425],["T_STRING","isObjectNew",425],"(",")",")",")",["T_WHITESPACE"," ",425],"{",["T_WHITESPACE","\n            ",425],["T_VARIABLE","$condition",426],["T_WHITESPACE"," ",426],"=",["T_WHITESPACE"," ",426],["T_VARIABLE","$this",426],["T_OBJECT_OPERATOR","->",426],["T_STRING","_getWriteAdapter",426],"(",")",["T_OBJECT_OPERATOR","->",426],["T_STRING","quoteInto",426],"(",["T_VARIABLE","$this",426],["T_OBJECT_OPERATOR","->",426],["T_STRING","getIdFieldName",426],"(",")",".",["T_CONSTANT_ENCAPSED_STRING","'=?'",426],",",["T_WHITESPACE"," ",426],["T_VARIABLE","$object",426],["T_OBJECT_OPERATOR","->",426],["T_STRING","getId",426],"(",")",")",";",["T_WHITESPACE","\n            ",426],["T_DOC_COMMENT","\/**\n             * Not auto increment primary key support\n             *\/",427],["T_WHITESPACE","\n            ",429],["T_IF","if",430],["T_WHITESPACE"," ",430],"(",["T_VARIABLE","$this",430],["T_OBJECT_OPERATOR","->",430],["T_STRING","_isPkAutoIncrement",430],")",["T_WHITESPACE"," ",430],"{",["T_WHITESPACE","\n                ",430],["T_VARIABLE","$data",431],["T_WHITESPACE"," ",431],"=",["T_WHITESPACE"," ",431],["T_VARIABLE","$this",431],["T_OBJECT_OPERATOR","->",431],["T_STRING","_prepareDataForSave",431],"(",["T_VARIABLE","$object",431],")",";",["T_WHITESPACE","\n                ",431],["T_UNSET","unset",432],"(",["T_VARIABLE","$data",432],"[",["T_VARIABLE","$this",432],["T_OBJECT_OPERATOR","->",432],["T_STRING","getIdFieldName",432],"(",")","]",")",";",["T_WHITESPACE","\n                ",432],["T_VARIABLE","$this",433],["T_OBJECT_OPERATOR","->",433],["T_STRING","_getWriteAdapter",433],"(",")",["T_OBJECT_OPERATOR","->",433],["T_STRING","update",433],"(",["T_VARIABLE","$this",433],["T_OBJECT_OPERATOR","->",433],["T_STRING","getMainTable",433],"(",")",",",["T_WHITESPACE"," ",433],["T_VARIABLE","$data",433],",",["T_WHITESPACE"," ",433],["T_VARIABLE","$condition",433],")",";",["T_WHITESPACE","\n            ",433],"}",["T_WHITESPACE"," ",434],["T_ELSE","else",434],["T_WHITESPACE"," ",434],"{",["T_WHITESPACE","\n                ",434],["T_VARIABLE","$select",435],["T_WHITESPACE"," ",435],"=",["T_WHITESPACE"," ",435],["T_VARIABLE","$this",435],["T_OBJECT_OPERATOR","->",435],["T_STRING","_getWriteAdapter",435],"(",")",["T_OBJECT_OPERATOR","->",435],["T_STRING","select",435],"(",")",["T_WHITESPACE","\n                    ",435],["T_OBJECT_OPERATOR","->",436],["T_STRING","from",436],"(",["T_VARIABLE","$this",436],["T_OBJECT_OPERATOR","->",436],["T_STRING","getMainTable",436],"(",")",",",["T_WHITESPACE"," ",436],["T_ARRAY","array",436],"(",["T_VARIABLE","$this",436],["T_OBJECT_OPERATOR","->",436],["T_STRING","getIdFieldName",436],"(",")",")",")",["T_WHITESPACE","\n                    ",436],["T_OBJECT_OPERATOR","->",437],["T_STRING","where",437],"(",["T_VARIABLE","$condition",437],")",";",["T_WHITESPACE","\n                ",437],["T_IF","if",438],["T_WHITESPACE"," ",438],"(",["T_VARIABLE","$this",438],["T_OBJECT_OPERATOR","->",438],["T_STRING","_getWriteAdapter",438],"(",")",["T_OBJECT_OPERATOR","->",438],["T_STRING","fetchOne",438],"(",["T_VARIABLE","$select",438],")",["T_WHITESPACE"," ",438],["T_IS_NOT_IDENTICAL","!==",438],["T_WHITESPACE"," ",438],["T_STRING","false",438],")",["T_WHITESPACE"," ",438],"{",["T_WHITESPACE","\n                    ",438],["T_VARIABLE","$data",439],["T_WHITESPACE"," ",439],"=",["T_WHITESPACE"," ",439],["T_VARIABLE","$this",439],["T_OBJECT_OPERATOR","->",439],["T_STRING","_prepareDataForSave",439],"(",["T_VARIABLE","$object",439],")",";",["T_WHITESPACE","\n                    ",439],["T_UNSET","unset",440],"(",["T_VARIABLE","$data",440],"[",["T_VARIABLE","$this",440],["T_OBJECT_OPERATOR","->",440],["T_STRING","getIdFieldName",440],"(",")","]",")",";",["T_WHITESPACE","\n                    ",440],["T_IF","if",441],["T_WHITESPACE"," ",441],"(","!",["T_EMPTY","empty",441],"(",["T_VARIABLE","$data",441],")",")",["T_WHITESPACE"," ",441],"{",["T_WHITESPACE","\n                        ",441],["T_VARIABLE","$this",442],["T_OBJECT_OPERATOR","->",442],["T_STRING","_getWriteAdapter",442],"(",")",["T_OBJECT_OPERATOR","->",442],["T_STRING","update",442],"(",["T_VARIABLE","$this",442],["T_OBJECT_OPERATOR","->",442],["T_STRING","getMainTable",442],"(",")",",",["T_WHITESPACE"," ",442],["T_VARIABLE","$data",442],",",["T_WHITESPACE"," ",442],["T_VARIABLE","$condition",442],")",";",["T_WHITESPACE","\n                    ",442],"}",["T_WHITESPACE","\n                ",443],"}",["T_WHITESPACE"," ",444],["T_ELSE","else",444],["T_WHITESPACE"," ",444],"{",["T_WHITESPACE","\n                    ",444],["T_VARIABLE","$this",445],["T_OBJECT_OPERATOR","->",445],["T_STRING","_getWriteAdapter",445],"(",")",["T_OBJECT_OPERATOR","->",445],["T_STRING","insert",445],"(",["T_VARIABLE","$this",445],["T_OBJECT_OPERATOR","->",445],["T_STRING","getMainTable",445],"(",")",",",["T_WHITESPACE"," ",445],["T_VARIABLE","$this",445],["T_OBJECT_OPERATOR","->",445],["T_STRING","_prepareDataForSave",445],"(",["T_VARIABLE","$object",445],")",")",";",["T_WHITESPACE","\n                ",445],"}",["T_WHITESPACE","\n            ",446],"}",["T_WHITESPACE","\n        ",447],"}",["T_WHITESPACE"," ",448],["T_ELSE","else",448],["T_WHITESPACE"," ",448],"{",["T_WHITESPACE","\n            ",448],["T_VARIABLE","$bind",449],["T_WHITESPACE"," ",449],"=",["T_WHITESPACE"," ",449],["T_VARIABLE","$this",449],["T_OBJECT_OPERATOR","->",449],["T_STRING","_prepareDataForSave",449],"(",["T_VARIABLE","$object",449],")",";",["T_WHITESPACE","\n            ",449],["T_IF","if",450],["T_WHITESPACE"," ",450],"(",["T_VARIABLE","$this",450],["T_OBJECT_OPERATOR","->",450],["T_STRING","_isPkAutoIncrement",450],")",["T_WHITESPACE"," ",450],"{",["T_WHITESPACE","\n                ",450],["T_UNSET","unset",451],"(",["T_VARIABLE","$bind",451],"[",["T_VARIABLE","$this",451],["T_OBJECT_OPERATOR","->",451],["T_STRING","getIdFieldName",451],"(",")","]",")",";",["T_WHITESPACE","\n            ",451],"}",["T_WHITESPACE","\n            ",452],["T_VARIABLE","$this",453],["T_OBJECT_OPERATOR","->",453],["T_STRING","_getWriteAdapter",453],"(",")",["T_OBJECT_OPERATOR","->",453],["T_STRING","insert",453],"(",["T_VARIABLE","$this",453],["T_OBJECT_OPERATOR","->",453],["T_STRING","getMainTable",453],"(",")",",",["T_WHITESPACE"," ",453],["T_VARIABLE","$bind",453],")",";",["T_WHITESPACE","\n\n            ",453],["T_VARIABLE","$object",455],["T_OBJECT_OPERATOR","->",455],["T_STRING","setId",455],"(",["T_VARIABLE","$this",455],["T_OBJECT_OPERATOR","->",455],["T_STRING","_getWriteAdapter",455],"(",")",["T_OBJECT_OPERATOR","->",455],["T_STRING","lastInsertId",455],"(",["T_VARIABLE","$this",455],["T_OBJECT_OPERATOR","->",455],["T_STRING","getMainTable",455],"(",")",")",")",";",["T_WHITESPACE","\n\n            ",455],["T_IF","if",457],["T_WHITESPACE"," ",457],"(",["T_VARIABLE","$this",457],["T_OBJECT_OPERATOR","->",457],["T_STRING","_useIsObjectNew",457],")",["T_WHITESPACE"," ",457],"{",["T_WHITESPACE","\n                ",457],["T_VARIABLE","$object",458],["T_OBJECT_OPERATOR","->",458],["T_STRING","isObjectNew",458],"(",["T_STRING","false",458],")",";",["T_WHITESPACE","\n            ",458],"}",["T_WHITESPACE","\n        ",459],"}",["T_WHITESPACE","\n\n        ",460],["T_VARIABLE","$this",462],["T_OBJECT_OPERATOR","->",462],["T_STRING","unserializeFields",462],"(",["T_VARIABLE","$object",462],")",";",["T_WHITESPACE","\n        ",462],["T_VARIABLE","$this",463],["T_OBJECT_OPERATOR","->",463],["T_STRING","_afterSave",463],"(",["T_VARIABLE","$object",463],")",";",["T_WHITESPACE","\n\n        ",463],["T_RETURN","return",465],["T_WHITESPACE"," ",465],["T_VARIABLE","$this",465],";",["T_WHITESPACE","\n    ",465],"}",["T_WHITESPACE","\n\n    ",466],["T_DOC_COMMENT","\/**\n     * Forsed save object data\n     * forsed update If duplicate unique key data\n     *\n     * @deprecated\n     * @param Mage_Core_Model_Abstract $object\n     * @return Mage_Core_Model_Resource_Db_Abstract\n     *\/",468],["T_WHITESPACE","\n    ",475],["T_PUBLIC","public",476],["T_WHITESPACE"," ",476],["T_FUNCTION","function",476],["T_WHITESPACE"," ",476],["T_STRING","forsedSave",476],"(",["T_STRING","Mage_Core_Model_Abstract",476],["T_WHITESPACE"," ",476],["T_VARIABLE","$object",476],")",["T_WHITESPACE","\n    ",476],"{",["T_WHITESPACE","\n        ",477],["T_VARIABLE","$this",478],["T_OBJECT_OPERATOR","->",478],["T_STRING","_beforeSave",478],"(",["T_VARIABLE","$object",478],")",";",["T_WHITESPACE","\n        ",478],["T_VARIABLE","$bind",479],["T_WHITESPACE"," ",479],"=",["T_WHITESPACE"," ",479],["T_VARIABLE","$this",479],["T_OBJECT_OPERATOR","->",479],["T_STRING","_prepareDataForSave",479],"(",["T_VARIABLE","$object",479],")",";",["T_WHITESPACE","\n        ",479],["T_VARIABLE","$adapter",480],["T_WHITESPACE"," ",480],"=",["T_WHITESPACE"," ",480],["T_VARIABLE","$this",480],["T_OBJECT_OPERATOR","->",480],["T_STRING","_getWriteAdapter",480],"(",")",";",["T_WHITESPACE","\n        ",480],["T_COMMENT","\/\/ update\n",481],["T_WHITESPACE","        ",482],["T_IF","if",482],["T_WHITESPACE"," ",482],"(","!",["T_STRING","is_null",482],"(",["T_VARIABLE","$object",482],["T_OBJECT_OPERATOR","->",482],["T_STRING","getId",482],"(",")",")",["T_WHITESPACE"," ",482],["T_BOOLEAN_AND","&&",482],["T_WHITESPACE"," ",482],["T_VARIABLE","$this",482],["T_OBJECT_OPERATOR","->",482],["T_STRING","_isPkAutoIncrement",482],")",["T_WHITESPACE"," ",482],"{",["T_WHITESPACE","\n            ",482],["T_UNSET","unset",483],"(",["T_VARIABLE","$bind",483],"[",["T_VARIABLE","$this",483],["T_OBJECT_OPERATOR","->",483],["T_STRING","getIdFieldName",483],"(",")","]",")",";",["T_WHITESPACE","\n            ",483],["T_VARIABLE","$condition",484],["T_WHITESPACE"," ",484],"=",["T_WHITESPACE"," ",484],["T_VARIABLE","$adapter",484],["T_OBJECT_OPERATOR","->",484],["T_STRING","quoteInto",484],"(",["T_VARIABLE","$this",484],["T_OBJECT_OPERATOR","->",484],["T_STRING","getIdFieldName",484],"(",")",".",["T_CONSTANT_ENCAPSED_STRING","'=?'",484],",",["T_WHITESPACE"," ",484],["T_VARIABLE","$object",484],["T_OBJECT_OPERATOR","->",484],["T_STRING","getId",484],"(",")",")",";",["T_WHITESPACE","\n            ",484],["T_VARIABLE","$adapter",485],["T_OBJECT_OPERATOR","->",485],["T_STRING","update",485],"(",["T_VARIABLE","$this",485],["T_OBJECT_OPERATOR","->",485],["T_STRING","getMainTable",485],"(",")",",",["T_WHITESPACE"," ",485],["T_VARIABLE","$bind",485],",",["T_WHITESPACE"," ",485],["T_VARIABLE","$condition",485],")",";",["T_WHITESPACE","\n        ",485],"}",["T_WHITESPACE"," ",486],["T_ELSE","else",486],["T_WHITESPACE"," ",486],"{",["T_WHITESPACE","\n            ",486],["T_VARIABLE","$adapter",487],["T_OBJECT_OPERATOR","->",487],["T_STRING","insertOnDuplicate",487],"(",["T_VARIABLE","$this",487],["T_OBJECT_OPERATOR","->",487],["T_STRING","getMainTable",487],"(",")",",",["T_WHITESPACE"," ",487],["T_VARIABLE","$bind",487],",",["T_WHITESPACE"," ",487],["T_VARIABLE","$this",487],["T_OBJECT_OPERATOR","->",487],["T_STRING","_fieldsForUpdate",487],")",";",["T_WHITESPACE","\n            ",487],["T_VARIABLE","$object",488],["T_OBJECT_OPERATOR","->",488],["T_STRING","setId",488],"(",["T_VARIABLE","$adapter",488],["T_OBJECT_OPERATOR","->",488],["T_STRING","lastInsertId",488],"(",["T_VARIABLE","$this",488],["T_OBJECT_OPERATOR","->",488],["T_STRING","getMainTable",488],"(",")",")",")",";",["T_WHITESPACE","\n        ",488],"}",["T_WHITESPACE","\n\n        ",489],["T_VARIABLE","$this",491],["T_OBJECT_OPERATOR","->",491],["T_STRING","_afterSave",491],"(",["T_VARIABLE","$object",491],")",";",["T_WHITESPACE","\n\n        ",491],["T_RETURN","return",493],["T_WHITESPACE"," ",493],["T_VARIABLE","$this",493],";",["T_WHITESPACE","\n    ",493],"}",["T_WHITESPACE","\n\n    ",494],["T_DOC_COMMENT","\/**\n     * Delete the object\n     *\n     * @param Varien_Object $object\n     * @return Mage_Core_Model_Resource_Db_Abstract\n     *\/",496],["T_WHITESPACE","\n    ",501],["T_PUBLIC","public",502],["T_WHITESPACE"," ",502],["T_FUNCTION","function",502],["T_WHITESPACE"," ",502],["T_STRING","delete",502],"(",["T_STRING","Mage_Core_Model_Abstract",502],["T_WHITESPACE"," ",502],["T_VARIABLE","$object",502],")",["T_WHITESPACE","\n    ",502],"{",["T_WHITESPACE","\n        ",503],["T_VARIABLE","$this",504],["T_OBJECT_OPERATOR","->",504],["T_STRING","_beforeDelete",504],"(",["T_VARIABLE","$object",504],")",";",["T_WHITESPACE","\n        ",504],["T_VARIABLE","$this",505],["T_OBJECT_OPERATOR","->",505],["T_STRING","_getWriteAdapter",505],"(",")",["T_OBJECT_OPERATOR","->",505],["T_STRING","delete",505],"(",["T_WHITESPACE","\n            ",505],["T_VARIABLE","$this",506],["T_OBJECT_OPERATOR","->",506],["T_STRING","getMainTable",506],"(",")",",",["T_WHITESPACE","\n            ",506],["T_VARIABLE","$this",507],["T_OBJECT_OPERATOR","->",507],["T_STRING","_getWriteAdapter",507],"(",")",["T_OBJECT_OPERATOR","->",507],["T_STRING","quoteInto",507],"(",["T_VARIABLE","$this",507],["T_OBJECT_OPERATOR","->",507],["T_STRING","getIdFieldName",507],"(",")",["T_WHITESPACE"," ",507],".",["T_WHITESPACE"," ",507],["T_CONSTANT_ENCAPSED_STRING","'=?'",507],",",["T_WHITESPACE"," ",507],["T_VARIABLE","$object",507],["T_OBJECT_OPERATOR","->",507],["T_STRING","getId",507],"(",")",")",["T_WHITESPACE","\n        ",507],")",";",["T_WHITESPACE","\n        ",508],["T_VARIABLE","$this",509],["T_OBJECT_OPERATOR","->",509],["T_STRING","_afterDelete",509],"(",["T_VARIABLE","$object",509],")",";",["T_WHITESPACE","\n        ",509],["T_RETURN","return",510],["T_WHITESPACE"," ",510],["T_VARIABLE","$this",510],";",["T_WHITESPACE","\n    ",510],"}",["T_WHITESPACE","\n\n    ",511],["T_DOC_COMMENT","\/**\n     * Add unique field restriction\n     *\n     * @param array|string $field\n     * @return Mage_Core_Model_Resource_Db_Abstract\n     *\/",513],["T_WHITESPACE","\n    ",518],["T_PUBLIC","public",519],["T_WHITESPACE"," ",519],["T_FUNCTION","function",519],["T_WHITESPACE"," ",519],["T_STRING","addUniqueField",519],"(",["T_VARIABLE","$field",519],")",["T_WHITESPACE","\n    ",519],"{",["T_WHITESPACE","\n        ",520],["T_IF","if",521],["T_WHITESPACE"," ",521],"(",["T_STRING","is_null",521],"(",["T_VARIABLE","$this",521],["T_OBJECT_OPERATOR","->",521],["T_STRING","_uniqueFields",521],")",")",["T_WHITESPACE"," ",521],"{",["T_WHITESPACE","\n            ",521],["T_VARIABLE","$this",522],["T_OBJECT_OPERATOR","->",522],["T_STRING","_initUniqueFields",522],"(",")",";",["T_WHITESPACE","\n        ",522],"}",["T_WHITESPACE","\n        ",523],["T_IF","if",524],["T_WHITESPACE"," ",524],"(",["T_STRING","is_array",524],"(",["T_VARIABLE","$this",524],["T_OBJECT_OPERATOR","->",524],["T_STRING","_uniqueFields",524],")",["T_WHITESPACE"," ",524],")",["T_WHITESPACE"," ",524],"{",["T_WHITESPACE","\n            ",524],["T_VARIABLE","$this",525],["T_OBJECT_OPERATOR","->",525],["T_STRING","_uniqueFields",525],"[","]",["T_WHITESPACE"," ",525],"=",["T_WHITESPACE"," ",525],["T_VARIABLE","$field",525],";",["T_WHITESPACE","\n        ",525],"}",["T_WHITESPACE","\n        ",526],["T_RETURN","return",527],["T_WHITESPACE"," ",527],["T_VARIABLE","$this",527],";",["T_WHITESPACE","\n    ",527],"}",["T_WHITESPACE","\n\n    ",528],["T_DOC_COMMENT","\/**\n     * Reset unique fields restrictions\n     *\n     * @return Mage_Core_Model_Resource_Db_Abstract\n     *\/",530],["T_WHITESPACE","\n    ",534],["T_PUBLIC","public",535],["T_WHITESPACE"," ",535],["T_FUNCTION","function",535],["T_WHITESPACE"," ",535],["T_STRING","resetUniqueField",535],"(",")",["T_WHITESPACE","\n    ",535],"{",["T_WHITESPACE","\n        ",536],["T_VARIABLE","$this",537],["T_OBJECT_OPERATOR","->",537],["T_STRING","_uniqueFields",537],["T_WHITESPACE"," ",537],"=",["T_WHITESPACE"," ",537],["T_ARRAY","array",537],"(",")",";",["T_WHITESPACE","\n         ",537],["T_RETURN","return",538],["T_WHITESPACE"," ",538],["T_VARIABLE","$this",538],";",["T_WHITESPACE","\n    ",538],"}",["T_WHITESPACE","\n\n    ",539],["T_DOC_COMMENT","\/**\n     * Unserialize serializeable object fields\n     *\n     * @param Mage_Core_Model_Abstract $object\n     *\/",541],["T_WHITESPACE","\n    ",545],["T_PUBLIC","public",546],["T_WHITESPACE"," ",546],["T_FUNCTION","function",546],["T_WHITESPACE"," ",546],["T_STRING","unserializeFields",546],"(",["T_STRING","Mage_Core_Model_Abstract",546],["T_WHITESPACE"," ",546],["T_VARIABLE","$object",546],")",["T_WHITESPACE","\n    ",546],"{",["T_WHITESPACE","\n        ",547],["T_FOREACH","foreach",548],["T_WHITESPACE"," ",548],"(",["T_VARIABLE","$this",548],["T_OBJECT_OPERATOR","->",548],["T_STRING","_serializableFields",548],["T_WHITESPACE"," ",548],["T_AS","as",548],["T_WHITESPACE"," ",548],["T_VARIABLE","$field",548],["T_WHITESPACE"," ",548],["T_DOUBLE_ARROW","=>",548],["T_WHITESPACE"," ",548],["T_VARIABLE","$parameters",548],")",["T_WHITESPACE"," ",548],"{",["T_WHITESPACE","\n            ",548],["T_LIST","list",549],"(",["T_VARIABLE","$serializeDefault",549],",",["T_WHITESPACE"," ",549],["T_VARIABLE","$unserializeDefault",549],")",["T_WHITESPACE"," ",549],"=",["T_WHITESPACE"," ",549],["T_VARIABLE","$parameters",549],";",["T_WHITESPACE","\n            ",549],["T_VARIABLE","$this",550],["T_OBJECT_OPERATOR","->",550],["T_STRING","_unserializeField",550],"(",["T_VARIABLE","$object",550],",",["T_WHITESPACE"," ",550],["T_VARIABLE","$field",550],",",["T_WHITESPACE"," ",550],["T_VARIABLE","$unserializeDefault",550],")",";",["T_WHITESPACE","\n        ",550],"}",["T_WHITESPACE","\n    ",551],"}",["T_WHITESPACE","\n\n    ",552],["T_DOC_COMMENT","\/**\n     * Initialize unique fields\n     *\n     * @return Mage_Core_Model_Resource_Db_Abstract\n     *\/",554],["T_WHITESPACE","\n    ",558],["T_PROTECTED","protected",559],["T_WHITESPACE"," ",559],["T_FUNCTION","function",559],["T_WHITESPACE"," ",559],["T_STRING","_initUniqueFields",559],"(",")",["T_WHITESPACE","\n    ",559],"{",["T_WHITESPACE","\n        ",560],["T_VARIABLE","$this",561],["T_OBJECT_OPERATOR","->",561],["T_STRING","_uniqueFields",561],["T_WHITESPACE"," ",561],"=",["T_WHITESPACE"," ",561],["T_ARRAY","array",561],"(",")",";",["T_WHITESPACE","\n        ",561],["T_RETURN","return",562],["T_WHITESPACE"," ",562],["T_VARIABLE","$this",562],";",["T_WHITESPACE","\n    ",562],"}",["T_WHITESPACE","\n\n    ",563],["T_DOC_COMMENT","\/**\n     * Get configuration of all unique fields\n     *\n     * @return array\n     *\/",565],["T_WHITESPACE","\n    ",569],["T_PUBLIC","public",570],["T_WHITESPACE"," ",570],["T_FUNCTION","function",570],["T_WHITESPACE"," ",570],["T_STRING","getUniqueFields",570],"(",")",["T_WHITESPACE","\n    ",570],"{",["T_WHITESPACE","\n        ",571],["T_IF","if",572],["T_WHITESPACE"," ",572],"(",["T_STRING","is_null",572],"(",["T_VARIABLE","$this",572],["T_OBJECT_OPERATOR","->",572],["T_STRING","_uniqueFields",572],")",")",["T_WHITESPACE"," ",572],"{",["T_WHITESPACE","\n            ",572],["T_VARIABLE","$this",573],["T_OBJECT_OPERATOR","->",573],["T_STRING","_initUniqueFields",573],"(",")",";",["T_WHITESPACE","\n        ",573],"}",["T_WHITESPACE","\n        ",574],["T_RETURN","return",575],["T_WHITESPACE"," ",575],["T_VARIABLE","$this",575],["T_OBJECT_OPERATOR","->",575],["T_STRING","_uniqueFields",575],";",["T_WHITESPACE","\n    ",575],"}",["T_WHITESPACE","\n\n    ",576],["T_DOC_COMMENT","\/**\n     * Prepare data for save\n     *\n     * @param Mage_Core_Model_Abstract $object\n     * @return array\n     *\/",578],["T_WHITESPACE","\n    ",583],["T_PROTECTED","protected",584],["T_WHITESPACE"," ",584],["T_FUNCTION","function",584],["T_WHITESPACE"," ",584],["T_STRING","_prepareDataForSave",584],"(",["T_STRING","Mage_Core_Model_Abstract",584],["T_WHITESPACE"," ",584],["T_VARIABLE","$object",584],")",["T_WHITESPACE","\n    ",584],"{",["T_WHITESPACE","\n        ",585],["T_RETURN","return",586],["T_WHITESPACE"," ",586],["T_VARIABLE","$this",586],["T_OBJECT_OPERATOR","->",586],["T_STRING","_prepareDataForTable",586],"(",["T_VARIABLE","$object",586],",",["T_WHITESPACE"," ",586],["T_VARIABLE","$this",586],["T_OBJECT_OPERATOR","->",586],["T_STRING","getMainTable",586],"(",")",")",";",["T_WHITESPACE","\n    ",586],"}",["T_WHITESPACE","\n\n    ",587],["T_DOC_COMMENT","\/**\n     * Check that model data fields that can be saved\n     * has really changed comparing with origData\n     *\n     * @param Mage_Core_Model_Abstract $object\n     * @return boolean\n     *\/",589],["T_WHITESPACE","\n    ",595],["T_PUBLIC","public",596],["T_WHITESPACE"," ",596],["T_FUNCTION","function",596],["T_WHITESPACE"," ",596],["T_STRING","hasDataChanged",596],"(",["T_VARIABLE","$object",596],")",["T_WHITESPACE","\n    ",596],"{",["T_WHITESPACE","\n        ",597],["T_IF","if",598],["T_WHITESPACE"," ",598],"(","!",["T_VARIABLE","$object",598],["T_OBJECT_OPERATOR","->",598],["T_STRING","getOrigData",598],"(",")",")",["T_WHITESPACE"," ",598],"{",["T_WHITESPACE","\n            ",598],["T_RETURN","return",599],["T_WHITESPACE"," ",599],["T_STRING","true",599],";",["T_WHITESPACE","\n        ",599],"}",["T_WHITESPACE","\n\n        ",600],["T_VARIABLE","$fields",602],["T_WHITESPACE"," ",602],"=",["T_WHITESPACE"," ",602],["T_VARIABLE","$this",602],["T_OBJECT_OPERATOR","->",602],["T_STRING","_getWriteAdapter",602],"(",")",["T_OBJECT_OPERATOR","->",602],["T_STRING","describeTable",602],"(",["T_VARIABLE","$this",602],["T_OBJECT_OPERATOR","->",602],["T_STRING","getMainTable",602],"(",")",")",";",["T_WHITESPACE","\n        ",602],["T_FOREACH","foreach",603],["T_WHITESPACE"," ",603],"(",["T_STRING","array_keys",603],"(",["T_VARIABLE","$fields",603],")",["T_WHITESPACE"," ",603],["T_AS","as",603],["T_WHITESPACE"," ",603],["T_VARIABLE","$field",603],")",["T_WHITESPACE"," ",603],"{",["T_WHITESPACE","\n            ",603],["T_IF","if",604],["T_WHITESPACE"," ",604],"(",["T_VARIABLE","$object",604],["T_OBJECT_OPERATOR","->",604],["T_STRING","getOrigData",604],"(",["T_VARIABLE","$field",604],")",["T_WHITESPACE"," ",604],["T_IS_NOT_EQUAL","!=",604],["T_WHITESPACE"," ",604],["T_VARIABLE","$object",604],["T_OBJECT_OPERATOR","->",604],["T_STRING","getData",604],"(",["T_VARIABLE","$field",604],")",")",["T_WHITESPACE"," ",604],"{",["T_WHITESPACE","\n                ",604],["T_RETURN","return",605],["T_WHITESPACE"," ",605],["T_STRING","true",605],";",["T_WHITESPACE","\n            ",605],"}",["T_WHITESPACE","\n        ",606],"}",["T_WHITESPACE","\n\n        ",607],["T_RETURN","return",609],["T_WHITESPACE"," ",609],["T_STRING","false",609],";",["T_WHITESPACE","\n    ",609],"}",["T_WHITESPACE","\n\n    ",610],["T_DOC_COMMENT","\/**\n     * Prepare value for save\n     *\n     * @param mixed $value\n     * @param string $type\n     * @return mixed\n     *\/",612],["T_WHITESPACE","\n    ",618],["T_PROTECTED","protected",619],["T_WHITESPACE"," ",619],["T_FUNCTION","function",619],["T_WHITESPACE"," ",619],["T_STRING","_prepareValueForSave",619],"(",["T_VARIABLE","$value",619],",",["T_WHITESPACE"," ",619],["T_VARIABLE","$type",619],")",["T_WHITESPACE","\n    ",619],"{",["T_WHITESPACE","\n        ",620],["T_RETURN","return",621],["T_WHITESPACE"," ",621],["T_VARIABLE","$this",621],["T_OBJECT_OPERATOR","->",621],["T_STRING","_prepareTableValueForSave",621],"(",["T_VARIABLE","$value",621],",",["T_WHITESPACE"," ",621],["T_VARIABLE","$type",621],")",";",["T_WHITESPACE","\n    ",621],"}",["T_WHITESPACE","\n\n    ",622],["T_DOC_COMMENT","\/**\n     * Check for unique values existence\n     *\n     * @param Mage_Core_Model_Abstract $object\n     * @return Mage_Core_Model_Resource_Db_Abstract\n     * @throws Mage_Core_Exception\n     *\/",624],["T_WHITESPACE","\n    ",630],["T_PROTECTED","protected",631],["T_WHITESPACE"," ",631],["T_FUNCTION","function",631],["T_WHITESPACE"," ",631],["T_STRING","_checkUnique",631],"(",["T_STRING","Mage_Core_Model_Abstract",631],["T_WHITESPACE"," ",631],["T_VARIABLE","$object",631],")",["T_WHITESPACE","\n    ",631],"{",["T_WHITESPACE","\n        ",632],["T_VARIABLE","$existent",633],["T_WHITESPACE"," ",633],"=",["T_WHITESPACE"," ",633],["T_ARRAY","array",633],"(",")",";",["T_WHITESPACE","\n        ",633],["T_VARIABLE","$fields",634],["T_WHITESPACE"," ",634],"=",["T_WHITESPACE"," ",634],["T_VARIABLE","$this",634],["T_OBJECT_OPERATOR","->",634],["T_STRING","getUniqueFields",634],"(",")",";",["T_WHITESPACE","\n        ",634],["T_IF","if",635],["T_WHITESPACE"," ",635],"(","!",["T_EMPTY","empty",635],"(",["T_VARIABLE","$fields",635],")",")",["T_WHITESPACE"," ",635],"{",["T_WHITESPACE","\n            ",635],["T_IF","if",636],["T_WHITESPACE"," ",636],"(","!",["T_STRING","is_array",636],"(",["T_VARIABLE","$fields",636],")",")",["T_WHITESPACE"," ",636],"{",["T_WHITESPACE","\n                ",636],["T_VARIABLE","$this",637],["T_OBJECT_OPERATOR","->",637],["T_STRING","_uniqueFields",637],["T_WHITESPACE"," ",637],"=",["T_WHITESPACE"," ",637],["T_ARRAY","array",637],"(",["T_WHITESPACE","\n                    ",637],["T_ARRAY","array",638],"(",["T_WHITESPACE","\n                        ",638],["T_CONSTANT_ENCAPSED_STRING","'field'",639],["T_WHITESPACE"," ",639],["T_DOUBLE_ARROW","=>",639],["T_WHITESPACE"," ",639],["T_VARIABLE","$fields",639],",",["T_WHITESPACE","\n                        ",639],["T_CONSTANT_ENCAPSED_STRING","'title'",640],["T_WHITESPACE"," ",640],["T_DOUBLE_ARROW","=>",640],["T_WHITESPACE"," ",640],["T_VARIABLE","$fields",640],["T_WHITESPACE","\n                ",640],")",")",";",["T_WHITESPACE","\n            ",641],"}",["T_WHITESPACE","\n\n            ",642],["T_VARIABLE","$data",644],["T_WHITESPACE"," ",644],"=",["T_WHITESPACE"," ",644],["T_NEW","new",644],["T_WHITESPACE"," ",644],["T_STRING","Varien_Object",644],"(",["T_VARIABLE","$this",644],["T_OBJECT_OPERATOR","->",644],["T_STRING","_prepareDataForSave",644],"(",["T_VARIABLE","$object",644],")",")",";",["T_WHITESPACE","\n            ",644],["T_VARIABLE","$select",645],["T_WHITESPACE"," ",645],"=",["T_WHITESPACE"," ",645],["T_VARIABLE","$this",645],["T_OBJECT_OPERATOR","->",645],["T_STRING","_getWriteAdapter",645],"(",")",["T_OBJECT_OPERATOR","->",645],["T_STRING","select",645],"(",")",["T_WHITESPACE","\n                ",645],["T_OBJECT_OPERATOR","->",646],["T_STRING","from",646],"(",["T_VARIABLE","$this",646],["T_OBJECT_OPERATOR","->",646],["T_STRING","getMainTable",646],"(",")",")",";",["T_WHITESPACE","\n\n            ",646],["T_FOREACH","foreach",648],["T_WHITESPACE"," ",648],"(",["T_VARIABLE","$fields",648],["T_WHITESPACE"," ",648],["T_AS","as",648],["T_WHITESPACE"," ",648],["T_VARIABLE","$unique",648],")",["T_WHITESPACE"," ",648],"{",["T_WHITESPACE","\n                ",648],["T_VARIABLE","$select",649],["T_OBJECT_OPERATOR","->",649],["T_STRING","reset",649],"(",["T_STRING","Zend_Db_Select",649],["T_DOUBLE_COLON","::",649],["T_STRING","WHERE",649],")",";",["T_WHITESPACE","\n\n                ",649],["T_IF","if",651],["T_WHITESPACE"," ",651],"(",["T_STRING","is_array",651],"(",["T_VARIABLE","$unique",651],"[",["T_CONSTANT_ENCAPSED_STRING","'field'",651],"]",")",")",["T_WHITESPACE"," ",651],"{",["T_WHITESPACE","\n                    ",651],["T_FOREACH","foreach",652],["T_WHITESPACE"," ",652],"(",["T_VARIABLE","$unique",652],"[",["T_CONSTANT_ENCAPSED_STRING","'field'",652],"]",["T_WHITESPACE"," ",652],["T_AS","as",652],["T_WHITESPACE"," ",652],["T_VARIABLE","$field",652],")",["T_WHITESPACE"," ",652],"{",["T_WHITESPACE","\n                        ",652],["T_VARIABLE","$select",653],["T_OBJECT_OPERATOR","->",653],["T_STRING","where",653],"(",["T_VARIABLE","$field",653],["T_WHITESPACE"," ",653],".",["T_WHITESPACE"," ",653],["T_CONSTANT_ENCAPSED_STRING","'=?'",653],",",["T_WHITESPACE"," ",653],["T_STRING","trim",653],"(",["T_VARIABLE","$data",653],["T_OBJECT_OPERATOR","->",653],["T_STRING","getData",653],"(",["T_VARIABLE","$field",653],")",")",")",";",["T_WHITESPACE","\n                    ",653],"}",["T_WHITESPACE","\n                ",654],"}",["T_WHITESPACE"," ",655],["T_ELSE","else",655],["T_WHITESPACE"," ",655],"{",["T_WHITESPACE","\n                    ",655],["T_VARIABLE","$select",656],["T_OBJECT_OPERATOR","->",656],["T_STRING","where",656],"(",["T_VARIABLE","$unique",656],"[",["T_CONSTANT_ENCAPSED_STRING","'field'",656],"]",["T_WHITESPACE"," ",656],".",["T_WHITESPACE"," ",656],["T_CONSTANT_ENCAPSED_STRING","'=?'",656],",",["T_WHITESPACE"," ",656],["T_STRING","trim",656],"(",["T_VARIABLE","$data",656],["T_OBJECT_OPERATOR","->",656],["T_STRING","getData",656],"(",["T_VARIABLE","$unique",656],"[",["T_CONSTANT_ENCAPSED_STRING","'field'",656],"]",")",")",")",";",["T_WHITESPACE","\n                ",656],"}",["T_WHITESPACE","\n\n                ",657],["T_IF","if",659],["T_WHITESPACE"," ",659],"(",["T_VARIABLE","$object",659],["T_OBJECT_OPERATOR","->",659],["T_STRING","getId",659],"(",")",["T_WHITESPACE"," ",659],["T_BOOLEAN_OR","||",659],["T_WHITESPACE"," ",659],["T_VARIABLE","$object",659],["T_OBJECT_OPERATOR","->",659],["T_STRING","getId",659],"(",")",["T_WHITESPACE"," ",659],["T_IS_IDENTICAL","===",659],["T_WHITESPACE"," ",659],["T_CONSTANT_ENCAPSED_STRING","'0'",659],")",["T_WHITESPACE"," ",659],"{",["T_WHITESPACE","\n                    ",659],["T_VARIABLE","$select",660],["T_OBJECT_OPERATOR","->",660],["T_STRING","where",660],"(",["T_VARIABLE","$this",660],["T_OBJECT_OPERATOR","->",660],["T_STRING","getIdFieldName",660],"(",")",["T_WHITESPACE"," ",660],".",["T_WHITESPACE"," ",660],["T_CONSTANT_ENCAPSED_STRING","'!=?'",660],",",["T_WHITESPACE"," ",660],["T_VARIABLE","$object",660],["T_OBJECT_OPERATOR","->",660],["T_STRING","getId",660],"(",")",")",";",["T_WHITESPACE","\n                ",660],"}",["T_WHITESPACE","\n\n                ",661],["T_VARIABLE","$test",663],["T_WHITESPACE"," ",663],"=",["T_WHITESPACE"," ",663],["T_VARIABLE","$this",663],["T_OBJECT_OPERATOR","->",663],["T_STRING","_getWriteAdapter",663],"(",")",["T_OBJECT_OPERATOR","->",663],["T_STRING","fetchRow",663],"(",["T_VARIABLE","$select",663],")",";",["T_WHITESPACE","\n                ",663],["T_IF","if",664],["T_WHITESPACE"," ",664],"(",["T_VARIABLE","$test",664],")",["T_WHITESPACE"," ",664],"{",["T_WHITESPACE","\n                    ",664],["T_VARIABLE","$existent",665],"[","]",["T_WHITESPACE"," ",665],"=",["T_WHITESPACE"," ",665],["T_VARIABLE","$unique",665],"[",["T_CONSTANT_ENCAPSED_STRING","'title'",665],"]",";",["T_WHITESPACE","\n                ",665],"}",["T_WHITESPACE","\n            ",666],"}",["T_WHITESPACE","\n        ",667],"}",["T_WHITESPACE","\n\n        ",668],["T_IF","if",670],["T_WHITESPACE"," ",670],"(","!",["T_EMPTY","empty",670],"(",["T_VARIABLE","$existent",670],")",")",["T_WHITESPACE"," ",670],"{",["T_WHITESPACE","\n            ",670],["T_IF","if",671],["T_WHITESPACE"," ",671],"(",["T_STRING","count",671],"(",["T_VARIABLE","$existent",671],")",["T_WHITESPACE"," ",671],["T_IS_EQUAL","==",671],["T_WHITESPACE"," ",671],["T_LNUMBER","1",671],["T_WHITESPACE"," ",671],")",["T_WHITESPACE"," ",671],"{",["T_WHITESPACE","\n                ",671],["T_VARIABLE","$error",672],["T_WHITESPACE"," ",672],"=",["T_WHITESPACE"," ",672],["T_STRING","Mage",672],["T_DOUBLE_COLON","::",672],["T_STRING","helper",672],"(",["T_CONSTANT_ENCAPSED_STRING","'core'",672],")",["T_OBJECT_OPERATOR","->",672],["T_STRING","__",672],"(",["T_CONSTANT_ENCAPSED_STRING","'%s already exists.'",672],",",["T_WHITESPACE"," ",672],["T_VARIABLE","$existent",672],"[",["T_LNUMBER","0",672],"]",")",";",["T_WHITESPACE","\n            ",672],"}",["T_WHITESPACE"," ",673],["T_ELSE","else",673],["T_WHITESPACE"," ",673],"{",["T_WHITESPACE","\n                ",673],["T_VARIABLE","$error",674],["T_WHITESPACE"," ",674],"=",["T_WHITESPACE"," ",674],["T_STRING","Mage",674],["T_DOUBLE_COLON","::",674],["T_STRING","helper",674],"(",["T_CONSTANT_ENCAPSED_STRING","'core'",674],")",["T_OBJECT_OPERATOR","->",674],["T_STRING","__",674],"(",["T_CONSTANT_ENCAPSED_STRING","'%s already exist.'",674],",",["T_WHITESPACE"," ",674],["T_STRING","implode",674],"(",["T_CONSTANT_ENCAPSED_STRING","', '",674],",",["T_WHITESPACE"," ",674],["T_VARIABLE","$existent",674],")",")",";",["T_WHITESPACE","\n            ",674],"}",["T_WHITESPACE","\n            ",675],["T_STRING","Mage",676],["T_DOUBLE_COLON","::",676],["T_STRING","throwException",676],"(",["T_VARIABLE","$error",676],")",";",["T_WHITESPACE","\n        ",676],"}",["T_WHITESPACE","\n        ",677],["T_RETURN","return",678],["T_WHITESPACE"," ",678],["T_VARIABLE","$this",678],";",["T_WHITESPACE","\n    ",678],"}",["T_WHITESPACE","\n\n    ",679],["T_DOC_COMMENT","\/**\n     * After load\n     *\n     * @param Mage_Core_Model_Abstract $object\n     *\/",681],["T_WHITESPACE","\n    ",685],["T_PUBLIC","public",686],["T_WHITESPACE"," ",686],["T_FUNCTION","function",686],["T_WHITESPACE"," ",686],["T_STRING","afterLoad",686],"(",["T_STRING","Mage_Core_Model_Abstract",686],["T_WHITESPACE"," ",686],["T_VARIABLE","$object",686],")",["T_WHITESPACE","\n    ",686],"{",["T_WHITESPACE","\n        ",687],["T_VARIABLE","$this",688],["T_OBJECT_OPERATOR","->",688],["T_STRING","_afterLoad",688],"(",["T_VARIABLE","$object",688],")",";",["T_WHITESPACE","\n    ",688],"}",["T_WHITESPACE","\n\n    ",689],["T_DOC_COMMENT","\/**\n     * Perform actions after object load\n     *\n     * @param Varien_Object $object\n     * @return Mage_Core_Model_Resource_Db_Abstract\n     *\/",691],["T_WHITESPACE","\n    ",696],["T_PROTECTED","protected",697],["T_WHITESPACE"," ",697],["T_FUNCTION","function",697],["T_WHITESPACE"," ",697],["T_STRING","_afterLoad",697],"(",["T_STRING","Mage_Core_Model_Abstract",697],["T_WHITESPACE"," ",697],["T_VARIABLE","$object",697],")",["T_WHITESPACE","\n    ",697],"{",["T_WHITESPACE","\n        ",698],["T_RETURN","return",699],["T_WHITESPACE"," ",699],["T_VARIABLE","$this",699],";",["T_WHITESPACE","\n    ",699],"}",["T_WHITESPACE","\n\n    ",700],["T_DOC_COMMENT","\/**\n     * Perform actions before object save\n     *\n     * @param Varien_Object $object\n     * @return Mage_Core_Model_Resource_Db_Abstract\n     *\/",702],["T_WHITESPACE","\n    ",707],["T_PROTECTED","protected",708],["T_WHITESPACE"," ",708],["T_FUNCTION","function",708],["T_WHITESPACE"," ",708],["T_STRING","_beforeSave",708],"(",["T_STRING","Mage_Core_Model_Abstract",708],["T_WHITESPACE"," ",708],["T_VARIABLE","$object",708],")",["T_WHITESPACE","\n    ",708],"{",["T_WHITESPACE","\n        ",709],["T_RETURN","return",710],["T_WHITESPACE"," ",710],["T_VARIABLE","$this",710],";",["T_WHITESPACE","\n    ",710],"}",["T_WHITESPACE","\n\n    ",711],["T_DOC_COMMENT","\/**\n     * Perform actions after object save\n     *\n     * @param Varien_Object $object\n     * @return Mage_Core_Model_Resource_Db_Abstract\n     *\/",713],["T_WHITESPACE","\n    ",718],["T_PROTECTED","protected",719],["T_WHITESPACE"," ",719],["T_FUNCTION","function",719],["T_WHITESPACE"," ",719],["T_STRING","_afterSave",719],"(",["T_STRING","Mage_Core_Model_Abstract",719],["T_WHITESPACE"," ",719],["T_VARIABLE","$object",719],")",["T_WHITESPACE","\n    ",719],"{",["T_WHITESPACE","\n        ",720],["T_RETURN","return",721],["T_WHITESPACE"," ",721],["T_VARIABLE","$this",721],";",["T_WHITESPACE","\n    ",721],"}",["T_WHITESPACE","\n\n    ",722],["T_DOC_COMMENT","\/**\n     * Perform actions before object delete\n     *\n     * @param Varien_Object $object\n     * @return Mage_Core_Model_Resource_Db_Abstract\n     *\/",724],["T_WHITESPACE","\n    ",729],["T_PROTECTED","protected",730],["T_WHITESPACE"," ",730],["T_FUNCTION","function",730],["T_WHITESPACE"," ",730],["T_STRING","_beforeDelete",730],"(",["T_STRING","Mage_Core_Model_Abstract",730],["T_WHITESPACE"," ",730],["T_VARIABLE","$object",730],")",["T_WHITESPACE","\n    ",730],"{",["T_WHITESPACE","\n        ",731],["T_RETURN","return",732],["T_WHITESPACE"," ",732],["T_VARIABLE","$this",732],";",["T_WHITESPACE","\n    ",732],"}",["T_WHITESPACE","\n\n    ",733],["T_DOC_COMMENT","\/**\n     * Perform actions after object delete\n     *\n     * @param Varien_Object $object\n     * @return Mage_Core_Model_Resource_Db_Abstract\n     *\/",735],["T_WHITESPACE","\n    ",740],["T_PROTECTED","protected",741],["T_WHITESPACE"," ",741],["T_FUNCTION","function",741],["T_WHITESPACE"," ",741],["T_STRING","_afterDelete",741],"(",["T_STRING","Mage_Core_Model_Abstract",741],["T_WHITESPACE"," ",741],["T_VARIABLE","$object",741],")",["T_WHITESPACE","\n    ",741],"{",["T_WHITESPACE","\n        ",742],["T_RETURN","return",743],["T_WHITESPACE"," ",743],["T_VARIABLE","$this",743],";",["T_WHITESPACE","\n    ",743],"}",["T_WHITESPACE","\n\n    ",744],["T_DOC_COMMENT","\/**\n     * Serialize serializeable fields of the object\n     *\n     * @param Mage_Core_Model_Abstract $object\n     *\/",746],["T_WHITESPACE","\n    ",750],["T_PROTECTED","protected",751],["T_WHITESPACE"," ",751],["T_FUNCTION","function",751],["T_WHITESPACE"," ",751],["T_STRING","_serializeFields",751],"(",["T_STRING","Mage_Core_Model_Abstract",751],["T_WHITESPACE"," ",751],["T_VARIABLE","$object",751],")",["T_WHITESPACE","\n    ",751],"{",["T_WHITESPACE","\n        ",752],["T_FOREACH","foreach",753],["T_WHITESPACE"," ",753],"(",["T_VARIABLE","$this",753],["T_OBJECT_OPERATOR","->",753],["T_STRING","_serializableFields",753],["T_WHITESPACE"," ",753],["T_AS","as",753],["T_WHITESPACE"," ",753],["T_VARIABLE","$field",753],["T_WHITESPACE"," ",753],["T_DOUBLE_ARROW","=>",753],["T_WHITESPACE"," ",753],["T_VARIABLE","$parameters",753],")",["T_WHITESPACE"," ",753],"{",["T_WHITESPACE","\n            ",753],["T_LIST","list",754],"(",["T_VARIABLE","$serializeDefault",754],",",["T_WHITESPACE"," ",754],["T_VARIABLE","$unserializeDefault",754],")",["T_WHITESPACE"," ",754],"=",["T_WHITESPACE"," ",754],["T_VARIABLE","$parameters",754],";",["T_WHITESPACE","\n            ",754],["T_VARIABLE","$this",755],["T_OBJECT_OPERATOR","->",755],["T_STRING","_serializeField",755],"(",["T_VARIABLE","$object",755],",",["T_WHITESPACE"," ",755],["T_VARIABLE","$field",755],",",["T_WHITESPACE"," ",755],["T_VARIABLE","$serializeDefault",755],",",["T_WHITESPACE"," ",755],["T_ISSET","isset",755],"(",["T_VARIABLE","$parameters",755],"[",["T_LNUMBER","2",755],"]",")",")",";",["T_WHITESPACE","\n        ",755],"}",["T_WHITESPACE","\n    ",756],"}",["T_WHITESPACE","\n\n    ",757],["T_DOC_COMMENT","\/**\n     * Retrieve table checksum\n     *\n     * @param string|array $table\n     * @return int|array\n     *\/",759],["T_WHITESPACE","\n    ",764],["T_PUBLIC","public",765],["T_WHITESPACE"," ",765],["T_FUNCTION","function",765],["T_WHITESPACE"," ",765],["T_STRING","getChecksum",765],"(",["T_VARIABLE","$table",765],")",["T_WHITESPACE","\n    ",765],"{",["T_WHITESPACE","\n        ",766],["T_IF","if",767],["T_WHITESPACE"," ",767],"(","!",["T_VARIABLE","$this",767],["T_OBJECT_OPERATOR","->",767],["T_STRING","_getReadAdapter",767],"(",")",")",["T_WHITESPACE"," ",767],"{",["T_WHITESPACE","\n            ",767],["T_RETURN","return",768],["T_WHITESPACE"," ",768],["T_STRING","false",768],";",["T_WHITESPACE","\n        ",768],"}",["T_WHITESPACE","\n        ",769],["T_VARIABLE","$checksum",770],["T_WHITESPACE"," ",770],"=",["T_WHITESPACE"," ",770],["T_VARIABLE","$this",770],["T_OBJECT_OPERATOR","->",770],["T_STRING","_getReadAdapter",770],"(",")",["T_OBJECT_OPERATOR","->",770],["T_STRING","getTablesChecksum",770],"(",["T_VARIABLE","$table",770],")",";",["T_WHITESPACE","\n        ",770],["T_IF","if",771],["T_WHITESPACE"," ",771],"(",["T_STRING","count",771],"(",["T_VARIABLE","$checksum",771],")",["T_WHITESPACE"," ",771],["T_IS_EQUAL","==",771],["T_WHITESPACE"," ",771],["T_LNUMBER","1",771],")",["T_WHITESPACE"," ",771],"{",["T_WHITESPACE","\n            ",771],["T_RETURN","return",772],["T_WHITESPACE"," ",772],["T_VARIABLE","$checksum",772],"[",["T_VARIABLE","$table",772],"]",";",["T_WHITESPACE","\n        ",772],"}",["T_WHITESPACE","\n        ",773],["T_RETURN","return",774],["T_WHITESPACE"," ",774],["T_VARIABLE","$checksum",774],";",["T_WHITESPACE","\n    ",774],"}",["T_WHITESPACE","\n",775],"}",["T_WHITESPACE","\n",776]]