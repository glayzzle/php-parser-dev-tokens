[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Magento\n *\n * NOTICE OF LICENSE\n *\n * This source file is subject to the Open Software License (OSL 3.0)\n * that is bundled with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/opensource.org\/licenses\/osl-3.0.php\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@magento.com so we can send you a copy immediately.\n *\n * DISCLAIMER\n *\n * Do not edit or add to this file if you wish to upgrade Magento to newer\n * versions in the future. If you wish to customize Magento for your\n * needs please refer to http:\/\/www.magento.com for more information.\n *\n * @category    Mage\n * @package     Mage_Core\n * @copyright  Copyright (c) 2006-2016 X.commerce, Inc. and affiliates (http:\/\/www.magento.com)\n * @license    http:\/\/opensource.org\/licenses\/osl-3.0.php  Open Software License (OSL 3.0)\n *\/",2],["T_WHITESPACE","\n\n",25],["T_DOC_COMMENT","\/**\n * Abstract resource helper class\n *\n * @category    Mage\n * @package     Mage_Core\n * @author      Magento Core Team <core@magentocommerce.com>\n *\/",27],["T_WHITESPACE","\n",33],["T_ABSTRACT","abstract",34],["T_WHITESPACE"," ",34],["T_CLASS","class",34],["T_WHITESPACE"," ",34],["T_STRING","Mage_Core_Model_Resource_Helper_Abstract",34],["T_WHITESPACE","\n",34],"{",["T_WHITESPACE","\n    ",35],["T_DOC_COMMENT","\/**\n     * Read adapter instance\n     *\n     * @var Varien_Db_Adapter_Interface\n     *\/",36],["T_WHITESPACE","\n    ",40],["T_PROTECTED","protected",41],["T_WHITESPACE"," ",41],["T_VARIABLE","$_readAdapter",41],";",["T_WHITESPACE","\n\n    ",41],["T_DOC_COMMENT","\/**\n     * Write adapter instance\n     *\n     * @var Varien_Db_Adapter_Interface\n     *\/",43],["T_WHITESPACE","\n    ",47],["T_PROTECTED","protected",48],["T_WHITESPACE"," ",48],["T_VARIABLE","$_writeAdapter",48],";",["T_WHITESPACE","\n\n    ",48],["T_DOC_COMMENT","\/**\n     * Resource helper module prefix\n     *\n     * @var string\n     *\/",50],["T_WHITESPACE","\n    ",54],["T_PROTECTED","protected",55],["T_WHITESPACE"," ",55],["T_VARIABLE","$_modulePrefix",55],";",["T_WHITESPACE","\n\n    ",55],["T_DOC_COMMENT","\/**\n     * Initialize resource helper instance\n     *\n     * @param string $module\n     *\/",57],["T_WHITESPACE","\n    ",61],["T_PUBLIC","public",62],["T_WHITESPACE"," ",62],["T_FUNCTION","function",62],["T_WHITESPACE"," ",62],["T_STRING","__construct",62],"(",["T_VARIABLE","$module",62],")",["T_WHITESPACE","\n    ",62],"{",["T_WHITESPACE","\n        ",63],["T_VARIABLE","$this",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","_modulePrefix",64],["T_WHITESPACE"," ",64],"=",["T_WHITESPACE"," ",64],["T_STRING_CAST","(string)",64],["T_VARIABLE","$module",64],";",["T_WHITESPACE","\n    ",64],"}",["T_WHITESPACE","\n\n    ",65],["T_DOC_COMMENT","\/**\n     * Retrieve connection for read data\n     *\n     * @return Varien_Db_Adapter_Interface\n     *\/",67],["T_WHITESPACE","\n    ",71],["T_PROTECTED","protected",72],["T_WHITESPACE"," ",72],["T_FUNCTION","function",72],["T_WHITESPACE"," ",72],["T_STRING","_getReadAdapter",72],"(",")",["T_WHITESPACE","\n    ",72],"{",["T_WHITESPACE","\n        ",73],["T_IF","if",74],["T_WHITESPACE"," ",74],"(",["T_VARIABLE","$this",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","_readAdapter",74],["T_WHITESPACE"," ",74],["T_IS_IDENTICAL","===",74],["T_WHITESPACE"," ",74],["T_STRING","null",74],")",["T_WHITESPACE"," ",74],"{",["T_WHITESPACE","\n            ",74],["T_VARIABLE","$this",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","_readAdapter",75],["T_WHITESPACE"," ",75],"=",["T_WHITESPACE"," ",75],["T_VARIABLE","$this",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","_getConnection",75],"(",["T_CONSTANT_ENCAPSED_STRING","'read'",75],")",";",["T_WHITESPACE","\n        ",75],"}",["T_WHITESPACE","\n\n        ",76],["T_RETURN","return",78],["T_WHITESPACE"," ",78],["T_VARIABLE","$this",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","_readAdapter",78],";",["T_WHITESPACE","\n    ",78],"}",["T_WHITESPACE","\n\n    ",79],["T_DOC_COMMENT","\/**\n     * Retrieve connection for write data\n     *\n     * @return Varien_Db_Adapter_Interface\n     *\/",81],["T_WHITESPACE","\n    ",85],["T_PROTECTED","protected",86],["T_WHITESPACE"," ",86],["T_FUNCTION","function",86],["T_WHITESPACE"," ",86],["T_STRING","_getWriteAdapter",86],"(",")",["T_WHITESPACE","\n    ",86],"{",["T_WHITESPACE","\n        ",87],["T_IF","if",88],["T_WHITESPACE"," ",88],"(",["T_VARIABLE","$this",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","_writeAdapter",88],["T_WHITESPACE"," ",88],["T_IS_IDENTICAL","===",88],["T_WHITESPACE"," ",88],["T_STRING","null",88],")",["T_WHITESPACE"," ",88],"{",["T_WHITESPACE","\n            ",88],["T_VARIABLE","$this",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","_writeAdapter",89],["T_WHITESPACE"," ",89],"=",["T_WHITESPACE"," ",89],["T_VARIABLE","$this",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","_getConnection",89],"(",["T_CONSTANT_ENCAPSED_STRING","'write'",89],")",";",["T_WHITESPACE","\n        ",89],"}",["T_WHITESPACE","\n\n        ",90],["T_RETURN","return",92],["T_WHITESPACE"," ",92],["T_VARIABLE","$this",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","_writeAdapter",92],";",["T_WHITESPACE","\n    ",92],"}",["T_WHITESPACE","\n\n    ",93],["T_DOC_COMMENT","\/**\n     * Retrieves connection to the resource\n     *\n     * @param string $name\n     * @return Varien_Db_Adapter_Interface\n     *\/",95],["T_WHITESPACE","\n    ",100],["T_PROTECTED","protected",101],["T_WHITESPACE"," ",101],["T_FUNCTION","function",101],["T_WHITESPACE"," ",101],["T_STRING","_getConnection",101],"(",["T_VARIABLE","$name",101],")",["T_WHITESPACE","\n    ",101],"{",["T_WHITESPACE","\n        ",102],["T_VARIABLE","$connection",103],["T_WHITESPACE"," ",103],"=",["T_WHITESPACE"," ",103],["T_STRING","sprintf",103],"(",["T_CONSTANT_ENCAPSED_STRING","'%s_%s'",103],",",["T_WHITESPACE"," ",103],["T_VARIABLE","$this",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","_modulePrefix",103],",",["T_WHITESPACE"," ",103],["T_VARIABLE","$name",103],")",";",["T_WHITESPACE","\n        ",103],["T_DOC_COMMENT","\/** @var $resource Mage_Core_Model_Resource *\/",104],["T_WHITESPACE","\n        ",104],["T_VARIABLE","$resource",105],["T_WHITESPACE","   ",105],"=",["T_WHITESPACE"," ",105],["T_STRING","Mage",105],["T_DOUBLE_COLON","::",105],["T_STRING","getSingleton",105],"(",["T_CONSTANT_ENCAPSED_STRING","'core\/resource'",105],")",";",["T_WHITESPACE","\n\n        ",105],["T_RETURN","return",107],["T_WHITESPACE"," ",107],["T_VARIABLE","$resource",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","getConnection",107],"(",["T_VARIABLE","$connection",107],")",";",["T_WHITESPACE","\n    ",107],"}",["T_WHITESPACE","\n\n    ",108],["T_DOC_COMMENT","\/**\n     * Escapes value, that participates in LIKE, with '\\' symbol.\n     * Note: this func cannot be used on its own, because different RDMBS may use different default escape symbols,\n     * so you should either use addLikeEscape() to produce LIKE construction, or add escape symbol on your own.\n     *\n     * By default escapes '_', '%' and '\\' symbols. If some masking symbols must not be escaped, then you can set\n     * appropriate options in $options.\n     *\n     * $options can contain following flags:\n     * - 'allow_symbol_mask' - the '_' symbol will not be escaped\n     * - 'allow_string_mask' - the '%' symbol will not be escaped\n     * - 'position' ('any', 'start', 'end') - expression will be formed so that $value will be found at position within string,\n     *     by default when nothing set - string must be fully matched with $value\n     *\n     * @param string $value\n     * @param array $options\n     * @return string\n     *\/",110],["T_WHITESPACE","\n    ",127],["T_PUBLIC","public",128],["T_WHITESPACE"," ",128],["T_FUNCTION","function",128],["T_WHITESPACE"," ",128],["T_STRING","escapeLikeValue",128],"(",["T_VARIABLE","$value",128],",",["T_WHITESPACE"," ",128],["T_VARIABLE","$options",128],["T_WHITESPACE"," ",128],"=",["T_WHITESPACE"," ",128],["T_ARRAY","array",128],"(",")",")",["T_WHITESPACE","\n    ",128],"{",["T_WHITESPACE","\n        ",129],["T_VARIABLE","$value",130],["T_WHITESPACE"," ",130],"=",["T_WHITESPACE"," ",130],["T_STRING","str_replace",130],"(",["T_CONSTANT_ENCAPSED_STRING","'\\\\'",130],",",["T_WHITESPACE"," ",130],["T_CONSTANT_ENCAPSED_STRING","'\\\\\\\\'",130],",",["T_WHITESPACE"," ",130],["T_VARIABLE","$value",130],")",";",["T_WHITESPACE","\n\n        ",130],["T_VARIABLE","$from",132],["T_WHITESPACE"," ",132],"=",["T_WHITESPACE"," ",132],["T_ARRAY","array",132],"(",")",";",["T_WHITESPACE","\n        ",132],["T_VARIABLE","$to",133],["T_WHITESPACE"," ",133],"=",["T_WHITESPACE"," ",133],["T_ARRAY","array",133],"(",")",";",["T_WHITESPACE","\n        ",133],["T_IF","if",134],["T_WHITESPACE"," ",134],"(",["T_EMPTY","empty",134],"(",["T_VARIABLE","$options",134],"[",["T_CONSTANT_ENCAPSED_STRING","'allow_symbol_mask'",134],"]",")",")",["T_WHITESPACE"," ",134],"{",["T_WHITESPACE","\n            ",134],["T_VARIABLE","$from",135],"[","]",["T_WHITESPACE"," ",135],"=",["T_WHITESPACE"," ",135],["T_CONSTANT_ENCAPSED_STRING","'_'",135],";",["T_WHITESPACE","\n            ",135],["T_VARIABLE","$to",136],"[","]",["T_WHITESPACE"," ",136],"=",["T_WHITESPACE"," ",136],["T_CONSTANT_ENCAPSED_STRING","'\\_'",136],";",["T_WHITESPACE","\n        ",136],"}",["T_WHITESPACE","\n        ",137],["T_IF","if",138],["T_WHITESPACE"," ",138],"(",["T_EMPTY","empty",138],"(",["T_VARIABLE","$options",138],"[",["T_CONSTANT_ENCAPSED_STRING","'allow_string_mask'",138],"]",")",")",["T_WHITESPACE"," ",138],"{",["T_WHITESPACE","\n            ",138],["T_VARIABLE","$from",139],"[","]",["T_WHITESPACE"," ",139],"=",["T_WHITESPACE"," ",139],["T_CONSTANT_ENCAPSED_STRING","'%'",139],";",["T_WHITESPACE","\n            ",139],["T_VARIABLE","$to",140],"[","]",["T_WHITESPACE"," ",140],"=",["T_WHITESPACE"," ",140],["T_CONSTANT_ENCAPSED_STRING","'\\%'",140],";",["T_WHITESPACE","\n        ",140],"}",["T_WHITESPACE","\n        ",141],["T_IF","if",142],["T_WHITESPACE"," ",142],"(",["T_VARIABLE","$from",142],")",["T_WHITESPACE"," ",142],"{",["T_WHITESPACE","\n            ",142],["T_VARIABLE","$value",143],["T_WHITESPACE"," ",143],"=",["T_WHITESPACE"," ",143],["T_STRING","str_replace",143],"(",["T_VARIABLE","$from",143],",",["T_WHITESPACE"," ",143],["T_VARIABLE","$to",143],",",["T_WHITESPACE"," ",143],["T_VARIABLE","$value",143],")",";",["T_WHITESPACE","\n        ",143],"}",["T_WHITESPACE","\n\n        ",144],["T_IF","if",146],["T_WHITESPACE"," ",146],"(",["T_ISSET","isset",146],"(",["T_VARIABLE","$options",146],"[",["T_CONSTANT_ENCAPSED_STRING","'position'",146],"]",")",")",["T_WHITESPACE"," ",146],"{",["T_WHITESPACE","\n            ",146],["T_SWITCH","switch",147],["T_WHITESPACE"," ",147],"(",["T_VARIABLE","$options",147],"[",["T_CONSTANT_ENCAPSED_STRING","'position'",147],"]",")",["T_WHITESPACE"," ",147],"{",["T_WHITESPACE","\n                ",147],["T_CASE","case",148],["T_WHITESPACE"," ",148],["T_CONSTANT_ENCAPSED_STRING","'any'",148],":",["T_WHITESPACE","\n                    ",148],["T_VARIABLE","$value",149],["T_WHITESPACE"," ",149],"=",["T_WHITESPACE"," ",149],["T_CONSTANT_ENCAPSED_STRING","'%'",149],["T_WHITESPACE"," ",149],".",["T_WHITESPACE"," ",149],["T_VARIABLE","$value",149],["T_WHITESPACE"," ",149],".",["T_WHITESPACE"," ",149],["T_CONSTANT_ENCAPSED_STRING","'%'",149],";",["T_WHITESPACE","\n                    ",149],["T_BREAK","break",150],";",["T_WHITESPACE","\n                ",150],["T_CASE","case",151],["T_WHITESPACE"," ",151],["T_CONSTANT_ENCAPSED_STRING","'start'",151],":",["T_WHITESPACE","\n                    ",151],["T_VARIABLE","$value",152],["T_WHITESPACE"," ",152],"=",["T_WHITESPACE"," ",152],["T_VARIABLE","$value",152],["T_WHITESPACE"," ",152],".",["T_WHITESPACE"," ",152],["T_CONSTANT_ENCAPSED_STRING","'%'",152],";",["T_WHITESPACE","\n                    ",152],["T_BREAK","break",153],";",["T_WHITESPACE","\n                ",153],["T_CASE","case",154],["T_WHITESPACE"," ",154],["T_CONSTANT_ENCAPSED_STRING","'end'",154],":",["T_WHITESPACE","\n                    ",154],["T_VARIABLE","$value",155],["T_WHITESPACE"," ",155],"=",["T_WHITESPACE"," ",155],["T_CONSTANT_ENCAPSED_STRING","'%'",155],["T_WHITESPACE"," ",155],".",["T_WHITESPACE"," ",155],["T_VARIABLE","$value",155],";",["T_WHITESPACE","\n                    ",155],["T_BREAK","break",156],";",["T_WHITESPACE","\n            ",156],"}",["T_WHITESPACE","\n        ",157],"}",["T_WHITESPACE","\n\n        ",158],["T_RETURN","return",160],["T_WHITESPACE"," ",160],["T_VARIABLE","$value",160],";",["T_WHITESPACE","\n    ",160],"}",["T_WHITESPACE","\n\n    ",161],["T_DOC_COMMENT","\/**\n     * Escapes, quotes and adds escape symbol to LIKE expression.\n     * For options and escaping see escapeLikeValue().\n     *\n     * @param string $value\n     * @param array $options\n     * @return Zend_Db_Expr\n     *\n     * @see escapeLikeValue()\n     *\/",163],["T_WHITESPACE","\n    ",172],["T_ABSTRACT","abstract",173],["T_WHITESPACE"," ",173],["T_PUBLIC","public",173],["T_WHITESPACE"," ",173],["T_FUNCTION","function",173],["T_WHITESPACE"," ",173],["T_STRING","addLikeEscape",173],"(",["T_VARIABLE","$value",173],",",["T_WHITESPACE"," ",173],["T_VARIABLE","$options",173],["T_WHITESPACE"," ",173],"=",["T_WHITESPACE"," ",173],["T_ARRAY","array",173],"(",")",")",";",["T_WHITESPACE","\n\n    ",173],["T_DOC_COMMENT","\/**\n     * Returns case insensitive LIKE construction.\n     * For options and escaping see escapeLikeValue().\n     *\n     * @param string $field\n     * @param string $value\n     * @param array $options\n     * @return Zend_Db_Expr\n     *\n     * @see escapeLikeValue()\n     *\/",175],["T_WHITESPACE","\n    ",185],["T_PUBLIC","public",186],["T_WHITESPACE"," ",186],["T_FUNCTION","function",186],["T_WHITESPACE"," ",186],["T_STRING","getCILike",186],"(",["T_VARIABLE","$field",186],",",["T_WHITESPACE"," ",186],["T_VARIABLE","$value",186],",",["T_WHITESPACE"," ",186],["T_VARIABLE","$options",186],["T_WHITESPACE"," ",186],"=",["T_WHITESPACE"," ",186],["T_ARRAY","array",186],"(",")",")",["T_WHITESPACE","\n    ",186],"{",["T_WHITESPACE","\n        ",187],["T_VARIABLE","$quotedField",188],["T_WHITESPACE"," ",188],"=",["T_WHITESPACE"," ",188],["T_VARIABLE","$this",188],["T_OBJECT_OPERATOR","->",188],["T_STRING","_getReadAdapter",188],"(",")",["T_OBJECT_OPERATOR","->",188],["T_STRING","quoteIdentifier",188],"(",["T_VARIABLE","$field",188],")",";",["T_WHITESPACE","\n        ",188],["T_RETURN","return",189],["T_WHITESPACE"," ",189],["T_NEW","new",189],["T_WHITESPACE"," ",189],["T_STRING","Zend_Db_Expr",189],"(",["T_VARIABLE","$quotedField",189],["T_WHITESPACE"," ",189],".",["T_WHITESPACE"," ",189],["T_CONSTANT_ENCAPSED_STRING","' LIKE '",189],["T_WHITESPACE"," ",189],".",["T_WHITESPACE"," ",189],["T_VARIABLE","$this",189],["T_OBJECT_OPERATOR","->",189],["T_STRING","addLikeEscape",189],"(",["T_VARIABLE","$value",189],",",["T_WHITESPACE"," ",189],["T_VARIABLE","$options",189],")",")",";",["T_WHITESPACE","\n    ",189],"}",["T_WHITESPACE","\n\n    ",190],["T_DOC_COMMENT","\/**\n     * Converts old pre-MMDB column definition for MySQL to new cross-db column DDL definition.\n     * Used to convert data from 3rd party extensions that hasn't been updated to MMDB style yet.\n     *\n     * E.g. Converts type 'varchar(255)' to array('type' => Varien_Db_Ddl_Table::TYPE_TEXT, 'length' => 255)\n     *\n     * @param array $column\n     * @return array\n     *\/",192],["T_WHITESPACE","\n    ",200],["T_PUBLIC","public",201],["T_WHITESPACE"," ",201],["T_FUNCTION","function",201],["T_WHITESPACE"," ",201],["T_STRING","convertOldColumnDefinition",201],"(",["T_VARIABLE","$column",201],")",["T_WHITESPACE","\n    ",201],"{",["T_WHITESPACE","\n        ",202],["T_COMMENT","\/\/ Match type and size - e.g. varchar(100) or decimal(12,4) or int\n",203],["T_WHITESPACE","        ",204],["T_VARIABLE","$matches",204],["T_WHITESPACE","    ",204],"=",["T_WHITESPACE"," ",204],["T_ARRAY","array",204],"(",")",";",["T_WHITESPACE","\n        ",204],["T_VARIABLE","$definition",205],["T_WHITESPACE"," ",205],"=",["T_WHITESPACE"," ",205],["T_STRING","trim",205],"(",["T_VARIABLE","$column",205],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",205],"]",")",";",["T_WHITESPACE","\n        ",205],["T_IF","if",206],["T_WHITESPACE"," ",206],"(","!",["T_STRING","preg_match",206],"(",["T_CONSTANT_ENCAPSED_STRING","'\/([^(]*)(\\\\((.*)\\\\))?\/'",206],",",["T_WHITESPACE"," ",206],["T_VARIABLE","$definition",206],",",["T_WHITESPACE"," ",206],["T_VARIABLE","$matches",206],")",")",["T_WHITESPACE"," ",206],"{",["T_WHITESPACE","\n            ",206],["T_THROW","throw",207],["T_WHITESPACE"," ",207],["T_STRING","Mage",207],["T_DOUBLE_COLON","::",207],["T_STRING","exception",207],"(",["T_WHITESPACE","\n                ",207],["T_CONSTANT_ENCAPSED_STRING","'Mage_Core'",208],",",["T_WHITESPACE","\n                ",208],["T_STRING","Mage",209],["T_DOUBLE_COLON","::",209],["T_STRING","helper",209],"(",["T_CONSTANT_ENCAPSED_STRING","'core'",209],")",["T_OBJECT_OPERATOR","->",209],["T_STRING","__",209],"(","\"",["T_ENCAPSED_AND_WHITESPACE","Wrong old style column type definition: ",209],["T_CURLY_OPEN","{",209],["T_VARIABLE","$definition",209],"}",["T_ENCAPSED_AND_WHITESPACE",".",209],"\"",")",["T_WHITESPACE","\n            ",209],")",";",["T_WHITESPACE","\n        ",210],"}",["T_WHITESPACE","\n\n        ",211],["T_VARIABLE","$length",213],["T_WHITESPACE"," ",213],"=",["T_WHITESPACE"," ",213],["T_STRING","null",213],";",["T_WHITESPACE","\n        ",213],["T_VARIABLE","$proposedLength",214],["T_WHITESPACE"," ",214],"=",["T_WHITESPACE"," ",214],"(",["T_ISSET","isset",214],"(",["T_VARIABLE","$matches",214],"[",["T_LNUMBER","3",214],"]",")",["T_WHITESPACE"," ",214],["T_BOOLEAN_AND","&&",214],["T_WHITESPACE"," ",214],["T_STRING","strlen",214],"(",["T_VARIABLE","$matches",214],"[",["T_LNUMBER","3",214],"]",")",")",["T_WHITESPACE"," ",214],"?",["T_WHITESPACE"," ",214],["T_VARIABLE","$matches",214],"[",["T_LNUMBER","3",214],"]",["T_WHITESPACE"," ",214],":",["T_WHITESPACE"," ",214],["T_STRING","null",214],";",["T_WHITESPACE","\n        ",214],["T_SWITCH","switch",215],["T_WHITESPACE"," ",215],"(",["T_STRING","strtolower",215],"(",["T_VARIABLE","$matches",215],"[",["T_LNUMBER","1",215],"]",")",")",["T_WHITESPACE"," ",215],"{",["T_WHITESPACE","\n            ",215],["T_CASE","case",216],["T_WHITESPACE"," ",216],["T_CONSTANT_ENCAPSED_STRING","'bool'",216],":",["T_WHITESPACE","\n                ",216],["T_VARIABLE","$length",217],["T_WHITESPACE"," ",217],"=",["T_WHITESPACE"," ",217],["T_STRING","null",217],";",["T_WHITESPACE","\n                ",217],["T_VARIABLE","$type",218],["T_WHITESPACE"," ",218],"=",["T_WHITESPACE"," ",218],["T_STRING","Varien_Db_Ddl_Table",218],["T_DOUBLE_COLON","::",218],["T_STRING","TYPE_BOOLEAN",218],";",["T_WHITESPACE","\n                ",218],["T_BREAK","break",219],";",["T_WHITESPACE","\n            ",219],["T_CASE","case",220],["T_WHITESPACE"," ",220],["T_CONSTANT_ENCAPSED_STRING","'char'",220],":",["T_WHITESPACE","\n            ",220],["T_CASE","case",221],["T_WHITESPACE"," ",221],["T_CONSTANT_ENCAPSED_STRING","'varchar'",221],":",["T_WHITESPACE","\n            ",221],["T_CASE","case",222],["T_WHITESPACE"," ",222],["T_CONSTANT_ENCAPSED_STRING","'tinytext'",222],":",["T_WHITESPACE","\n                ",222],["T_VARIABLE","$length",223],["T_WHITESPACE"," ",223],"=",["T_WHITESPACE"," ",223],["T_VARIABLE","$proposedLength",223],";",["T_WHITESPACE","\n                ",223],["T_IF","if",224],["T_WHITESPACE"," ",224],"(","!",["T_VARIABLE","$length",224],")",["T_WHITESPACE"," ",224],"{",["T_WHITESPACE","\n                    ",224],["T_VARIABLE","$length",225],["T_WHITESPACE"," ",225],"=",["T_WHITESPACE"," ",225],["T_LNUMBER","255",225],";",["T_WHITESPACE","\n                ",225],"}",["T_WHITESPACE","\n                ",226],["T_VARIABLE","$type",227],["T_WHITESPACE"," ",227],"=",["T_WHITESPACE"," ",227],["T_STRING","Varien_Db_Ddl_Table",227],["T_DOUBLE_COLON","::",227],["T_STRING","TYPE_TEXT",227],";",["T_WHITESPACE","\n                ",227],["T_BREAK","break",228],";",["T_WHITESPACE","\n            ",228],["T_CASE","case",229],["T_WHITESPACE"," ",229],["T_CONSTANT_ENCAPSED_STRING","'text'",229],":",["T_WHITESPACE","\n                ",229],["T_VARIABLE","$length",230],["T_WHITESPACE"," ",230],"=",["T_WHITESPACE"," ",230],["T_VARIABLE","$proposedLength",230],";",["T_WHITESPACE","\n                ",230],["T_IF","if",231],["T_WHITESPACE"," ",231],"(","!",["T_VARIABLE","$length",231],")",["T_WHITESPACE"," ",231],"{",["T_WHITESPACE","\n                    ",231],["T_VARIABLE","$length",232],["T_WHITESPACE"," ",232],"=",["T_WHITESPACE"," ",232],["T_CONSTANT_ENCAPSED_STRING","'64k'",232],";",["T_WHITESPACE","\n                ",232],"}",["T_WHITESPACE","\n                ",233],["T_VARIABLE","$type",234],["T_WHITESPACE"," ",234],"=",["T_WHITESPACE"," ",234],["T_STRING","Varien_Db_Ddl_Table",234],["T_DOUBLE_COLON","::",234],["T_STRING","TYPE_TEXT",234],";",["T_WHITESPACE","\n                ",234],["T_BREAK","break",235],";",["T_WHITESPACE","\n            ",235],["T_CASE","case",236],["T_WHITESPACE"," ",236],["T_CONSTANT_ENCAPSED_STRING","'mediumtext'",236],":",["T_WHITESPACE","\n                ",236],["T_VARIABLE","$length",237],["T_WHITESPACE"," ",237],"=",["T_WHITESPACE"," ",237],["T_VARIABLE","$proposedLength",237],";",["T_WHITESPACE","\n                ",237],["T_IF","if",238],["T_WHITESPACE"," ",238],"(","!",["T_VARIABLE","$length",238],")",["T_WHITESPACE"," ",238],"{",["T_WHITESPACE","\n                    ",238],["T_VARIABLE","$length",239],["T_WHITESPACE"," ",239],"=",["T_WHITESPACE"," ",239],["T_CONSTANT_ENCAPSED_STRING","'16M'",239],";",["T_WHITESPACE","\n                ",239],"}",["T_WHITESPACE","\n                ",240],["T_VARIABLE","$type",241],["T_WHITESPACE"," ",241],"=",["T_WHITESPACE"," ",241],["T_STRING","Varien_Db_Ddl_Table",241],["T_DOUBLE_COLON","::",241],["T_STRING","TYPE_TEXT",241],";",["T_WHITESPACE","\n                ",241],["T_BREAK","break",242],";",["T_WHITESPACE","\n            ",242],["T_CASE","case",243],["T_WHITESPACE"," ",243],["T_CONSTANT_ENCAPSED_STRING","'longtext'",243],":",["T_WHITESPACE","\n                ",243],["T_VARIABLE","$length",244],["T_WHITESPACE"," ",244],"=",["T_WHITESPACE"," ",244],["T_VARIABLE","$proposedLength",244],";",["T_WHITESPACE","\n                ",244],["T_IF","if",245],["T_WHITESPACE"," ",245],"(","!",["T_VARIABLE","$length",245],")",["T_WHITESPACE"," ",245],"{",["T_WHITESPACE","\n                    ",245],["T_VARIABLE","$length",246],["T_WHITESPACE"," ",246],"=",["T_WHITESPACE"," ",246],["T_CONSTANT_ENCAPSED_STRING","'4G'",246],";",["T_WHITESPACE","\n                ",246],"}",["T_WHITESPACE","\n                ",247],["T_VARIABLE","$type",248],["T_WHITESPACE"," ",248],"=",["T_WHITESPACE"," ",248],["T_STRING","Varien_Db_Ddl_Table",248],["T_DOUBLE_COLON","::",248],["T_STRING","TYPE_TEXT",248],";",["T_WHITESPACE","\n                ",248],["T_BREAK","break",249],";",["T_WHITESPACE","\n            ",249],["T_CASE","case",250],["T_WHITESPACE"," ",250],["T_CONSTANT_ENCAPSED_STRING","'blob'",250],":",["T_WHITESPACE","\n                ",250],["T_VARIABLE","$length",251],["T_WHITESPACE"," ",251],"=",["T_WHITESPACE"," ",251],["T_VARIABLE","$proposedLength",251],";",["T_WHITESPACE","\n                ",251],["T_IF","if",252],["T_WHITESPACE"," ",252],"(","!",["T_VARIABLE","$length",252],")",["T_WHITESPACE"," ",252],"{",["T_WHITESPACE","\n                    ",252],["T_VARIABLE","$length",253],["T_WHITESPACE"," ",253],"=",["T_WHITESPACE"," ",253],["T_CONSTANT_ENCAPSED_STRING","'64k'",253],";",["T_WHITESPACE","\n                ",253],"}",["T_WHITESPACE","\n                ",254],["T_VARIABLE","$type",255],["T_WHITESPACE"," ",255],"=",["T_WHITESPACE"," ",255],["T_STRING","Varien_Db_Ddl_Table",255],["T_DOUBLE_COLON","::",255],["T_STRING","TYPE_BLOB",255],";",["T_WHITESPACE","\n                ",255],["T_BREAK","break",256],";",["T_WHITESPACE","\n            ",256],["T_CASE","case",257],["T_WHITESPACE"," ",257],["T_CONSTANT_ENCAPSED_STRING","'mediumblob'",257],":",["T_WHITESPACE","\n                ",257],["T_VARIABLE","$length",258],["T_WHITESPACE"," ",258],"=",["T_WHITESPACE"," ",258],["T_VARIABLE","$proposedLength",258],";",["T_WHITESPACE","\n                ",258],["T_IF","if",259],["T_WHITESPACE"," ",259],"(","!",["T_VARIABLE","$length",259],")",["T_WHITESPACE"," ",259],"{",["T_WHITESPACE","\n                    ",259],["T_VARIABLE","$length",260],["T_WHITESPACE"," ",260],"=",["T_WHITESPACE"," ",260],["T_CONSTANT_ENCAPSED_STRING","'16M'",260],";",["T_WHITESPACE","\n                ",260],"}",["T_WHITESPACE","\n                ",261],["T_VARIABLE","$type",262],["T_WHITESPACE"," ",262],"=",["T_WHITESPACE"," ",262],["T_STRING","Varien_Db_Ddl_Table",262],["T_DOUBLE_COLON","::",262],["T_STRING","TYPE_BLOB",262],";",["T_WHITESPACE","\n                ",262],["T_BREAK","break",263],";",["T_WHITESPACE","\n            ",263],["T_CASE","case",264],["T_WHITESPACE"," ",264],["T_CONSTANT_ENCAPSED_STRING","'longblob'",264],":",["T_WHITESPACE","\n                ",264],["T_VARIABLE","$length",265],["T_WHITESPACE"," ",265],"=",["T_WHITESPACE"," ",265],["T_VARIABLE","$proposedLength",265],";",["T_WHITESPACE","\n                ",265],["T_IF","if",266],["T_WHITESPACE"," ",266],"(","!",["T_VARIABLE","$length",266],")",["T_WHITESPACE"," ",266],"{",["T_WHITESPACE","\n                    ",266],["T_VARIABLE","$length",267],["T_WHITESPACE"," ",267],"=",["T_WHITESPACE"," ",267],["T_CONSTANT_ENCAPSED_STRING","'4G'",267],";",["T_WHITESPACE","\n                ",267],"}",["T_WHITESPACE","\n                ",268],["T_VARIABLE","$type",269],["T_WHITESPACE"," ",269],"=",["T_WHITESPACE"," ",269],["T_STRING","Varien_Db_Ddl_Table",269],["T_DOUBLE_COLON","::",269],["T_STRING","TYPE_BLOB",269],";",["T_WHITESPACE","\n                ",269],["T_BREAK","break",270],";",["T_WHITESPACE","\n            ",270],["T_CASE","case",271],["T_WHITESPACE"," ",271],["T_CONSTANT_ENCAPSED_STRING","'tinyint'",271],":",["T_WHITESPACE","\n            ",271],["T_CASE","case",272],["T_WHITESPACE"," ",272],["T_CONSTANT_ENCAPSED_STRING","'smallint'",272],":",["T_WHITESPACE","\n                ",272],["T_VARIABLE","$type",273],["T_WHITESPACE"," ",273],"=",["T_WHITESPACE"," ",273],["T_STRING","Varien_Db_Ddl_Table",273],["T_DOUBLE_COLON","::",273],["T_STRING","TYPE_SMALLINT",273],";",["T_WHITESPACE","\n                ",273],["T_BREAK","break",274],";",["T_WHITESPACE","\n            ",274],["T_CASE","case",275],["T_WHITESPACE"," ",275],["T_CONSTANT_ENCAPSED_STRING","'mediumint'",275],":",["T_WHITESPACE","\n            ",275],["T_CASE","case",276],["T_WHITESPACE"," ",276],["T_CONSTANT_ENCAPSED_STRING","'int'",276],":",["T_WHITESPACE","\n                ",276],["T_VARIABLE","$type",277],["T_WHITESPACE"," ",277],"=",["T_WHITESPACE"," ",277],["T_STRING","Varien_Db_Ddl_Table",277],["T_DOUBLE_COLON","::",277],["T_STRING","TYPE_INTEGER",277],";",["T_WHITESPACE","\n                ",277],["T_BREAK","break",278],";",["T_WHITESPACE","\n            ",278],["T_CASE","case",279],["T_WHITESPACE"," ",279],["T_CONSTANT_ENCAPSED_STRING","'bigint'",279],":",["T_WHITESPACE","\n                ",279],["T_VARIABLE","$type",280],["T_WHITESPACE"," ",280],"=",["T_WHITESPACE"," ",280],["T_STRING","Varien_Db_Ddl_Table",280],["T_DOUBLE_COLON","::",280],["T_STRING","TYPE_BIGINT",280],";",["T_WHITESPACE","\n                ",280],["T_BREAK","break",281],";",["T_WHITESPACE","\n            ",281],["T_CASE","case",282],["T_WHITESPACE"," ",282],["T_CONSTANT_ENCAPSED_STRING","'float'",282],":",["T_WHITESPACE","\n                ",282],["T_VARIABLE","$type",283],["T_WHITESPACE"," ",283],"=",["T_WHITESPACE"," ",283],["T_STRING","Varien_Db_Ddl_Table",283],["T_DOUBLE_COLON","::",283],["T_STRING","TYPE_FLOAT",283],";",["T_WHITESPACE","\n                ",283],["T_BREAK","break",284],";",["T_WHITESPACE","\n            ",284],["T_CASE","case",285],["T_WHITESPACE"," ",285],["T_CONSTANT_ENCAPSED_STRING","'decimal'",285],":",["T_WHITESPACE","\n            ",285],["T_CASE","case",286],["T_WHITESPACE"," ",286],["T_CONSTANT_ENCAPSED_STRING","'numeric'",286],":",["T_WHITESPACE","\n                ",286],["T_VARIABLE","$length",287],["T_WHITESPACE"," ",287],"=",["T_WHITESPACE"," ",287],["T_VARIABLE","$proposedLength",287],";",["T_WHITESPACE","\n                ",287],["T_VARIABLE","$type",288],["T_WHITESPACE"," ",288],"=",["T_WHITESPACE"," ",288],["T_STRING","Varien_Db_Ddl_Table",288],["T_DOUBLE_COLON","::",288],["T_STRING","TYPE_DECIMAL",288],";",["T_WHITESPACE","\n                ",288],["T_BREAK","break",289],";",["T_WHITESPACE","\n            ",289],["T_CASE","case",290],["T_WHITESPACE"," ",290],["T_CONSTANT_ENCAPSED_STRING","'datetime'",290],":",["T_WHITESPACE","\n                ",290],["T_VARIABLE","$type",291],["T_WHITESPACE"," ",291],"=",["T_WHITESPACE"," ",291],["T_STRING","Varien_Db_Ddl_Table",291],["T_DOUBLE_COLON","::",291],["T_STRING","TYPE_DATETIME",291],";",["T_WHITESPACE","\n                ",291],["T_BREAK","break",292],";",["T_WHITESPACE","\n            ",292],["T_CASE","case",293],["T_WHITESPACE"," ",293],["T_CONSTANT_ENCAPSED_STRING","'timestamp'",293],":",["T_WHITESPACE","\n            ",293],["T_CASE","case",294],["T_WHITESPACE"," ",294],["T_CONSTANT_ENCAPSED_STRING","'time'",294],":",["T_WHITESPACE","\n                ",294],["T_VARIABLE","$type",295],["T_WHITESPACE"," ",295],"=",["T_WHITESPACE"," ",295],["T_STRING","Varien_Db_Ddl_Table",295],["T_DOUBLE_COLON","::",295],["T_STRING","TYPE_TIMESTAMP",295],";",["T_WHITESPACE","\n                ",295],["T_BREAK","break",296],";",["T_WHITESPACE","\n            ",296],["T_CASE","case",297],["T_WHITESPACE"," ",297],["T_CONSTANT_ENCAPSED_STRING","'date'",297],":",["T_WHITESPACE","\n                ",297],["T_VARIABLE","$type",298],["T_WHITESPACE"," ",298],"=",["T_WHITESPACE"," ",298],["T_STRING","Varien_Db_Ddl_Table",298],["T_DOUBLE_COLON","::",298],["T_STRING","TYPE_DATE",298],";",["T_WHITESPACE","\n                ",298],["T_BREAK","break",299],";",["T_WHITESPACE","\n            ",299],["T_DEFAULT","default",300],":",["T_WHITESPACE","\n                ",300],["T_THROW","throw",301],["T_WHITESPACE"," ",301],["T_STRING","Mage",301],["T_DOUBLE_COLON","::",301],["T_STRING","exception",301],"(",["T_WHITESPACE","\n                    ",301],["T_CONSTANT_ENCAPSED_STRING","'Mage_Core'",302],",",["T_WHITESPACE","\n                    ",302],["T_STRING","Mage",303],["T_DOUBLE_COLON","::",303],["T_STRING","helper",303],"(",["T_CONSTANT_ENCAPSED_STRING","'core'",303],")",["T_OBJECT_OPERATOR","->",303],["T_STRING","__",303],"(","\"",["T_ENCAPSED_AND_WHITESPACE","Unknown old style column type definition: ",303],["T_CURLY_OPEN","{",303],["T_VARIABLE","$definition",303],"}",["T_ENCAPSED_AND_WHITESPACE",".",303],"\"",")",["T_WHITESPACE","\n                ",303],")",";",["T_WHITESPACE","\n        ",304],"}",["T_WHITESPACE","\n\n        ",305],["T_VARIABLE","$result",307],["T_WHITESPACE"," ",307],"=",["T_WHITESPACE"," ",307],["T_ARRAY","array",307],"(",["T_WHITESPACE","\n            ",307],["T_CONSTANT_ENCAPSED_STRING","'type'",308],["T_WHITESPACE","     ",308],["T_DOUBLE_ARROW","=>",308],["T_WHITESPACE"," ",308],["T_VARIABLE","$type",308],",",["T_WHITESPACE","\n            ",308],["T_CONSTANT_ENCAPSED_STRING","'length'",309],["T_WHITESPACE","   ",309],["T_DOUBLE_ARROW","=>",309],["T_WHITESPACE"," ",309],["T_VARIABLE","$length",309],",",["T_WHITESPACE","\n            ",309],["T_CONSTANT_ENCAPSED_STRING","'unsigned'",310],["T_WHITESPACE"," ",310],["T_DOUBLE_ARROW","=>",310],["T_WHITESPACE"," ",310],["T_VARIABLE","$column",310],"[",["T_CONSTANT_ENCAPSED_STRING","'unsigned'",310],"]",",",["T_WHITESPACE","\n            ",310],["T_CONSTANT_ENCAPSED_STRING","'nullable'",311],["T_WHITESPACE"," ",311],["T_DOUBLE_ARROW","=>",311],["T_WHITESPACE"," ",311],["T_VARIABLE","$column",311],"[",["T_CONSTANT_ENCAPSED_STRING","'is_null'",311],"]",",",["T_WHITESPACE","\n            ",311],["T_CONSTANT_ENCAPSED_STRING","'default'",312],["T_WHITESPACE","  ",312],["T_DOUBLE_ARROW","=>",312],["T_WHITESPACE"," ",312],["T_VARIABLE","$column",312],"[",["T_CONSTANT_ENCAPSED_STRING","'default'",312],"]",",",["T_WHITESPACE","\n            ",312],["T_CONSTANT_ENCAPSED_STRING","'identity'",313],["T_WHITESPACE"," ",313],["T_DOUBLE_ARROW","=>",313],["T_WHITESPACE"," ",313],["T_STRING","stripos",313],"(",["T_VARIABLE","$column",313],"[",["T_CONSTANT_ENCAPSED_STRING","'extra'",313],"]",",",["T_WHITESPACE"," ",313],["T_CONSTANT_ENCAPSED_STRING","'auto_increment'",313],")",["T_WHITESPACE"," ",313],["T_IS_NOT_IDENTICAL","!==",313],["T_WHITESPACE"," ",313],["T_STRING","false",313],["T_WHITESPACE","\n        ",313],")",";",["T_WHITESPACE","\n\n        ",314],["T_DOC_COMMENT","\/**\n         * Process the case when 'is_null' prohibits null value, and 'default' proposed to be null.\n         * It just means that default value not specified, and we must remove it from column definition.\n         *\/",316],["T_WHITESPACE","\n        ",319],["T_IF","if",320],["T_WHITESPACE"," ",320],"(",["T_STRING","false",320],["T_WHITESPACE"," ",320],["T_IS_IDENTICAL","===",320],["T_WHITESPACE"," ",320],["T_VARIABLE","$column",320],"[",["T_CONSTANT_ENCAPSED_STRING","'is_null'",320],"]",["T_WHITESPACE"," ",320],["T_BOOLEAN_AND","&&",320],["T_WHITESPACE"," ",320],["T_STRING","null",320],["T_WHITESPACE"," ",320],["T_IS_IDENTICAL","===",320],["T_WHITESPACE"," ",320],["T_VARIABLE","$column",320],"[",["T_CONSTANT_ENCAPSED_STRING","'default'",320],"]",")",["T_WHITESPACE"," ",320],"{",["T_WHITESPACE","\n            ",320],["T_UNSET","unset",321],"(",["T_VARIABLE","$result",321],"[",["T_CONSTANT_ENCAPSED_STRING","'default'",321],"]",")",";",["T_WHITESPACE","\n        ",321],"}",["T_WHITESPACE","\n\n        ",322],["T_RETURN","return",324],["T_WHITESPACE"," ",324],["T_VARIABLE","$result",324],";",["T_WHITESPACE","\n    ",324],"}",["T_WHITESPACE","\n",325],"}",["T_WHITESPACE","\n",326]]