[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Magento\n *\n * NOTICE OF LICENSE\n *\n * This source file is subject to the Open Software License (OSL 3.0)\n * that is bundled with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/opensource.org\/licenses\/osl-3.0.php\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@magento.com so we can send you a copy immediately.\n *\n * DISCLAIMER\n *\n * Do not edit or add to this file if you wish to upgrade Magento to newer\n * versions in the future. If you wish to customize Magento for your\n * needs please refer to http:\/\/www.magento.com for more information.\n *\n * @category    Mage\n * @package     Mage_Core\n * @copyright  Copyright (c) 2006-2016 X.commerce, Inc. and affiliates (http:\/\/www.magento.com)\n * @license    http:\/\/opensource.org\/licenses\/osl-3.0.php  Open Software License (OSL 3.0)\n *\/",2],["T_WHITESPACE","\n\n\n",25],["T_DOC_COMMENT","\/**\n * Abstract model class\n *\n * @category    Mage\n * @package     Mage_Core\n * @author      Magento Core Team <core@magentocommerce.com>\n *\/",28],["T_WHITESPACE","\n",34],["T_ABSTRACT","abstract",35],["T_WHITESPACE"," ",35],["T_CLASS","class",35],["T_WHITESPACE"," ",35],["T_STRING","Mage_Core_Model_Abstract",35],["T_WHITESPACE"," ",35],["T_EXTENDS","extends",35],["T_WHITESPACE"," ",35],["T_STRING","Varien_Object",35],["T_WHITESPACE","\n",35],"{",["T_WHITESPACE","\n    ",36],["T_DOC_COMMENT","\/**\n     * Prefix of model events names\n     *\n     * @var string\n     *\/",37],["T_WHITESPACE","\n    ",41],["T_PROTECTED","protected",42],["T_WHITESPACE"," ",42],["T_VARIABLE","$_eventPrefix",42],["T_WHITESPACE"," ",42],"=",["T_WHITESPACE"," ",42],["T_CONSTANT_ENCAPSED_STRING","'core_abstract'",42],";",["T_WHITESPACE","\n\n    ",42],["T_DOC_COMMENT","\/**\n     * Parameter name in event\n     *\n     * In observe method you can use $observer->getEvent()->getObject() in this case\n     *\n     * @var string\n     *\/",44],["T_WHITESPACE","\n    ",50],["T_PROTECTED","protected",51],["T_WHITESPACE"," ",51],["T_VARIABLE","$_eventObject",51],["T_WHITESPACE"," ",51],"=",["T_WHITESPACE"," ",51],["T_CONSTANT_ENCAPSED_STRING","'object'",51],";",["T_WHITESPACE","\n\n    ",51],["T_DOC_COMMENT","\/**\n     * Name of the resource model\n     *\n     * @var string\n     *\/",53],["T_WHITESPACE","\n    ",57],["T_PROTECTED","protected",58],["T_WHITESPACE"," ",58],["T_VARIABLE","$_resourceName",58],";",["T_WHITESPACE","\n\n    ",58],["T_DOC_COMMENT","\/**\n     * Resource model instance\n     *\n     * @var Mage_Core_Model_Mysql4_Abstract\n     *\/",60],["T_WHITESPACE","\n    ",64],["T_PROTECTED","protected",65],["T_WHITESPACE"," ",65],["T_VARIABLE","$_resource",65],";",["T_WHITESPACE","\n\n    ",65],["T_DOC_COMMENT","\/**\n     * Name of the resource collection model\n     *\n     * @var string\n     *\/",67],["T_WHITESPACE","\n    ",71],["T_PROTECTED","protected",72],["T_WHITESPACE"," ",72],["T_VARIABLE","$_resourceCollectionName",72],";",["T_WHITESPACE","\n\n    ",72],["T_DOC_COMMENT","\/**\n     * Model cache tag for clear cache in after save and after delete\n     *\n     * When you use true - all cache will be clean\n     *\n     * @var string || true\n     *\/",74],["T_WHITESPACE","\n    ",80],["T_PROTECTED","protected",81],["T_WHITESPACE"," ",81],["T_VARIABLE","$_cacheTag",81],["T_WHITESPACE","    ",81],"=",["T_WHITESPACE"," ",81],["T_STRING","false",81],";",["T_WHITESPACE","\n\n    ",81],["T_DOC_COMMENT","\/**\n     * Flag which can stop data saving after before save\n     * Can be used for next sequence: we check data in _beforeSave, if data are\n     * not valid - we can set this flag to false value and save process will be stopped\n     *\n     * @var bool\n     *\/",83],["T_WHITESPACE","\n    ",89],["T_PROTECTED","protected",90],["T_WHITESPACE"," ",90],["T_VARIABLE","$_dataSaveAllowed",90],["T_WHITESPACE"," ",90],"=",["T_WHITESPACE"," ",90],["T_STRING","true",90],";",["T_WHITESPACE","\n\n    ",90],["T_DOC_COMMENT","\/**\n     * Flag which allow detect object state: is it new object (without id) or existing one (with id)\n     *\n     * @var bool\n     *\/",92],["T_WHITESPACE","\n    ",96],["T_PROTECTED","protected",97],["T_WHITESPACE"," ",97],["T_VARIABLE","$_isObjectNew",97],["T_WHITESPACE","     ",97],"=",["T_WHITESPACE"," ",97],["T_STRING","null",97],";",["T_WHITESPACE","\n\n    ",97],["T_DOC_COMMENT","\/**\n     * Standard model initialization\n     *\n     * @param string $resourceModel\n     * @param string $idFieldName\n     * @return Mage_Core_Model_Abstract\n     *\/",99],["T_WHITESPACE","\n    ",105],["T_PROTECTED","protected",106],["T_WHITESPACE"," ",106],["T_FUNCTION","function",106],["T_WHITESPACE"," ",106],["T_STRING","_init",106],"(",["T_VARIABLE","$resourceModel",106],")",["T_WHITESPACE","\n    ",106],"{",["T_WHITESPACE","\n        ",107],["T_VARIABLE","$this",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","_setResourceModel",108],"(",["T_VARIABLE","$resourceModel",108],")",";",["T_WHITESPACE","\n    ",108],"}",["T_WHITESPACE","\n\n    ",109],["T_DOC_COMMENT","\/**\n     * Set resource names\n     *\n     * If collection name is ommited, resource name will be used with _collection appended\n     *\n     * @param string $resourceName\n     * @param string|null $resourceCollectionName\n     *\/",111],["T_WHITESPACE","\n    ",118],["T_PROTECTED","protected",119],["T_WHITESPACE"," ",119],["T_FUNCTION","function",119],["T_WHITESPACE"," ",119],["T_STRING","_setResourceModel",119],"(",["T_VARIABLE","$resourceName",119],",",["T_WHITESPACE"," ",119],["T_VARIABLE","$resourceCollectionName",119],"=",["T_STRING","null",119],")",["T_WHITESPACE","\n    ",119],"{",["T_WHITESPACE","\n        ",120],["T_VARIABLE","$this",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","_resourceName",121],["T_WHITESPACE"," ",121],"=",["T_WHITESPACE"," ",121],["T_VARIABLE","$resourceName",121],";",["T_WHITESPACE","\n        ",121],["T_IF","if",122],["T_WHITESPACE"," ",122],"(",["T_STRING","is_null",122],"(",["T_VARIABLE","$resourceCollectionName",122],")",")",["T_WHITESPACE"," ",122],"{",["T_WHITESPACE","\n            ",122],["T_VARIABLE","$resourceCollectionName",123],["T_WHITESPACE"," ",123],"=",["T_WHITESPACE"," ",123],["T_VARIABLE","$resourceName",123],".",["T_CONSTANT_ENCAPSED_STRING","'_collection'",123],";",["T_WHITESPACE","\n        ",123],"}",["T_WHITESPACE","\n        ",124],["T_VARIABLE","$this",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","_resourceCollectionName",125],["T_WHITESPACE"," ",125],"=",["T_WHITESPACE"," ",125],["T_VARIABLE","$resourceCollectionName",125],";",["T_WHITESPACE","\n    ",125],"}",["T_WHITESPACE","\n\n    ",126],["T_DOC_COMMENT","\/**\n     * Get resource instance\n     *\n     * @return Mage_Core_Model_Mysql4_Abstract\n     *\/",128],["T_WHITESPACE","\n    ",132],["T_PROTECTED","protected",133],["T_WHITESPACE"," ",133],["T_FUNCTION","function",133],["T_WHITESPACE"," ",133],["T_STRING","_getResource",133],"(",")",["T_WHITESPACE","\n    ",133],"{",["T_WHITESPACE","\n        ",134],["T_IF","if",135],["T_WHITESPACE"," ",135],"(",["T_EMPTY","empty",135],"(",["T_VARIABLE","$this",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","_resourceName",135],")",")",["T_WHITESPACE"," ",135],"{",["T_WHITESPACE","\n            ",135],["T_STRING","Mage",136],["T_DOUBLE_COLON","::",136],["T_STRING","throwException",136],"(",["T_STRING","Mage",136],["T_DOUBLE_COLON","::",136],["T_STRING","helper",136],"(",["T_CONSTANT_ENCAPSED_STRING","'core'",136],")",["T_OBJECT_OPERATOR","->",136],["T_STRING","__",136],"(",["T_CONSTANT_ENCAPSED_STRING","'Resource is not set.'",136],")",")",";",["T_WHITESPACE","\n        ",136],"}",["T_WHITESPACE","\n\n        ",137],["T_RETURN","return",139],["T_WHITESPACE"," ",139],["T_STRING","Mage",139],["T_DOUBLE_COLON","::",139],["T_STRING","getResourceSingleton",139],"(",["T_VARIABLE","$this",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","_resourceName",139],")",";",["T_WHITESPACE","\n    ",139],"}",["T_WHITESPACE","\n\n\n    ",140],["T_DOC_COMMENT","\/**\n     * Retrieve identifier field name for model\n     *\n     * @return string\n     *\/",143],["T_WHITESPACE","\n    ",147],["T_PUBLIC","public",148],["T_WHITESPACE"," ",148],["T_FUNCTION","function",148],["T_WHITESPACE"," ",148],["T_STRING","getIdFieldName",148],"(",")",["T_WHITESPACE","\n    ",148],"{",["T_WHITESPACE","\n        ",149],["T_IF","if",150],["T_WHITESPACE"," ",150],"(","!","(",["T_VARIABLE","$fieldName",150],["T_WHITESPACE"," ",150],"=",["T_WHITESPACE"," ",150],["T_STRING","parent",150],["T_DOUBLE_COLON","::",150],["T_STRING","getIdFieldName",150],"(",")",")",")",["T_WHITESPACE"," ",150],"{",["T_WHITESPACE","\n            ",150],["T_VARIABLE","$fieldName",151],["T_WHITESPACE"," ",151],"=",["T_WHITESPACE"," ",151],["T_VARIABLE","$this",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","_getResource",151],"(",")",["T_OBJECT_OPERATOR","->",151],["T_STRING","getIdFieldName",151],"(",")",";",["T_WHITESPACE","\n            ",151],["T_VARIABLE","$this",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","setIdFieldName",152],"(",["T_VARIABLE","$fieldName",152],")",";",["T_WHITESPACE","\n        ",152],"}",["T_WHITESPACE","\n        ",153],["T_RETURN","return",154],["T_WHITESPACE"," ",154],["T_VARIABLE","$fieldName",154],";",["T_WHITESPACE","\n    ",154],"}",["T_WHITESPACE","\n\n    ",155],["T_DOC_COMMENT","\/**\n     * Retrieve model object identifier\n     *\n     * @return mixed\n     *\/",157],["T_WHITESPACE","\n    ",161],["T_PUBLIC","public",162],["T_WHITESPACE"," ",162],["T_FUNCTION","function",162],["T_WHITESPACE"," ",162],["T_STRING","getId",162],"(",")",["T_WHITESPACE","\n    ",162],"{",["T_WHITESPACE","\n        ",163],["T_VARIABLE","$fieldName",164],["T_WHITESPACE"," ",164],"=",["T_WHITESPACE"," ",164],["T_VARIABLE","$this",164],["T_OBJECT_OPERATOR","->",164],["T_STRING","getIdFieldName",164],"(",")",";",["T_WHITESPACE","\n        ",164],["T_IF","if",165],["T_WHITESPACE"," ",165],"(",["T_VARIABLE","$fieldName",165],")",["T_WHITESPACE"," ",165],"{",["T_WHITESPACE","\n            ",165],["T_RETURN","return",166],["T_WHITESPACE"," ",166],["T_VARIABLE","$this",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","_getData",166],"(",["T_VARIABLE","$fieldName",166],")",";",["T_WHITESPACE","\n        ",166],"}",["T_WHITESPACE"," ",167],["T_ELSE","else",167],["T_WHITESPACE"," ",167],"{",["T_WHITESPACE","\n            ",167],["T_RETURN","return",168],["T_WHITESPACE"," ",168],["T_VARIABLE","$this",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","_getData",168],"(",["T_CONSTANT_ENCAPSED_STRING","'id'",168],")",";",["T_WHITESPACE","\n        ",168],"}",["T_WHITESPACE","\n    ",169],"}",["T_WHITESPACE","\n\n    ",170],["T_DOC_COMMENT","\/**\n     * Declare model object identifier value\n     *\n     * @param   mixed $id\n     * @return  Mage_Core_Model_Abstract\n     *\/",172],["T_WHITESPACE","\n    ",177],["T_PUBLIC","public",178],["T_WHITESPACE"," ",178],["T_FUNCTION","function",178],["T_WHITESPACE"," ",178],["T_STRING","setId",178],"(",["T_VARIABLE","$id",178],")",["T_WHITESPACE","\n    ",178],"{",["T_WHITESPACE","\n        ",179],["T_IF","if",180],["T_WHITESPACE"," ",180],"(",["T_VARIABLE","$this",180],["T_OBJECT_OPERATOR","->",180],["T_STRING","getIdFieldName",180],"(",")",")",["T_WHITESPACE"," ",180],"{",["T_WHITESPACE","\n            ",180],["T_VARIABLE","$this",181],["T_OBJECT_OPERATOR","->",181],["T_STRING","setData",181],"(",["T_VARIABLE","$this",181],["T_OBJECT_OPERATOR","->",181],["T_STRING","getIdFieldName",181],"(",")",",",["T_WHITESPACE"," ",181],["T_VARIABLE","$id",181],")",";",["T_WHITESPACE","\n        ",181],"}",["T_WHITESPACE"," ",182],["T_ELSE","else",182],["T_WHITESPACE"," ",182],"{",["T_WHITESPACE","\n            ",182],["T_VARIABLE","$this",183],["T_OBJECT_OPERATOR","->",183],["T_STRING","setData",183],"(",["T_CONSTANT_ENCAPSED_STRING","'id'",183],",",["T_WHITESPACE"," ",183],["T_VARIABLE","$id",183],")",";",["T_WHITESPACE","\n        ",183],"}",["T_WHITESPACE","\n        ",184],["T_RETURN","return",185],["T_WHITESPACE"," ",185],["T_VARIABLE","$this",185],";",["T_WHITESPACE","\n    ",185],"}",["T_WHITESPACE","\n\n    ",186],["T_DOC_COMMENT","\/**\n     * Retrieve model resource name\n     *\n     * @return string\n     *\/",188],["T_WHITESPACE","\n    ",192],["T_PUBLIC","public",193],["T_WHITESPACE"," ",193],["T_FUNCTION","function",193],["T_WHITESPACE"," ",193],["T_STRING","getResourceName",193],"(",")",["T_WHITESPACE","\n    ",193],"{",["T_WHITESPACE","\n        ",194],["T_RETURN","return",195],["T_WHITESPACE"," ",195],["T_VARIABLE","$this",195],["T_OBJECT_OPERATOR","->",195],["T_STRING","_resourceName",195],";",["T_WHITESPACE","\n    ",195],"}",["T_WHITESPACE","\n\n    ",196],["T_DOC_COMMENT","\/**\n     * Get collection instance\n     *\n     * @return object\n     *\/",198],["T_WHITESPACE","\n    ",202],["T_PUBLIC","public",203],["T_WHITESPACE"," ",203],["T_FUNCTION","function",203],["T_WHITESPACE"," ",203],["T_STRING","getResourceCollection",203],"(",")",["T_WHITESPACE","\n    ",203],"{",["T_WHITESPACE","\n        ",204],["T_IF","if",205],["T_WHITESPACE"," ",205],"(",["T_EMPTY","empty",205],"(",["T_VARIABLE","$this",205],["T_OBJECT_OPERATOR","->",205],["T_STRING","_resourceCollectionName",205],")",")",["T_WHITESPACE"," ",205],"{",["T_WHITESPACE","\n            ",205],["T_STRING","Mage",206],["T_DOUBLE_COLON","::",206],["T_STRING","throwException",206],"(",["T_STRING","Mage",206],["T_DOUBLE_COLON","::",206],["T_STRING","helper",206],"(",["T_CONSTANT_ENCAPSED_STRING","'core'",206],")",["T_OBJECT_OPERATOR","->",206],["T_STRING","__",206],"(",["T_CONSTANT_ENCAPSED_STRING","'Model collection resource name is not defined.'",206],")",")",";",["T_WHITESPACE","\n        ",206],"}",["T_WHITESPACE","\n        ",207],["T_RETURN","return",208],["T_WHITESPACE"," ",208],["T_STRING","Mage",208],["T_DOUBLE_COLON","::",208],["T_STRING","getResourceModel",208],"(",["T_VARIABLE","$this",208],["T_OBJECT_OPERATOR","->",208],["T_STRING","_resourceCollectionName",208],",",["T_WHITESPACE"," ",208],["T_VARIABLE","$this",208],["T_OBJECT_OPERATOR","->",208],["T_STRING","_getResource",208],"(",")",")",";",["T_WHITESPACE","\n    ",208],"}",["T_WHITESPACE","\n\n    ",209],["T_PUBLIC","public",211],["T_WHITESPACE"," ",211],["T_FUNCTION","function",211],["T_WHITESPACE"," ",211],["T_STRING","getCollection",211],"(",")",["T_WHITESPACE","\n    ",211],"{",["T_WHITESPACE","\n        ",212],["T_RETURN","return",213],["T_WHITESPACE"," ",213],["T_VARIABLE","$this",213],["T_OBJECT_OPERATOR","->",213],["T_STRING","getResourceCollection",213],"(",")",";",["T_WHITESPACE","\n    ",213],"}",["T_WHITESPACE","\n\n    ",214],["T_DOC_COMMENT","\/**\n     * Load object data\n     *\n     * @param   integer $id\n     * @return  Mage_Core_Model_Abstract\n     *\/",216],["T_WHITESPACE","\n    ",221],["T_PUBLIC","public",222],["T_WHITESPACE"," ",222],["T_FUNCTION","function",222],["T_WHITESPACE"," ",222],["T_STRING","load",222],"(",["T_VARIABLE","$id",222],",",["T_WHITESPACE"," ",222],["T_VARIABLE","$field",222],"=",["T_STRING","null",222],")",["T_WHITESPACE","\n    ",222],"{",["T_WHITESPACE","\n        ",223],["T_VARIABLE","$this",224],["T_OBJECT_OPERATOR","->",224],["T_STRING","_beforeLoad",224],"(",["T_VARIABLE","$id",224],",",["T_WHITESPACE"," ",224],["T_VARIABLE","$field",224],")",";",["T_WHITESPACE","\n        ",224],["T_VARIABLE","$this",225],["T_OBJECT_OPERATOR","->",225],["T_STRING","_getResource",225],"(",")",["T_OBJECT_OPERATOR","->",225],["T_STRING","load",225],"(",["T_VARIABLE","$this",225],",",["T_WHITESPACE"," ",225],["T_VARIABLE","$id",225],",",["T_WHITESPACE"," ",225],["T_VARIABLE","$field",225],")",";",["T_WHITESPACE","\n        ",225],["T_VARIABLE","$this",226],["T_OBJECT_OPERATOR","->",226],["T_STRING","_afterLoad",226],"(",")",";",["T_WHITESPACE","\n        ",226],["T_VARIABLE","$this",227],["T_OBJECT_OPERATOR","->",227],["T_STRING","setOrigData",227],"(",")",";",["T_WHITESPACE","\n        ",227],["T_VARIABLE","$this",228],["T_OBJECT_OPERATOR","->",228],["T_STRING","_hasDataChanges",228],["T_WHITESPACE"," ",228],"=",["T_WHITESPACE"," ",228],["T_STRING","false",228],";",["T_WHITESPACE","\n        ",228],["T_RETURN","return",229],["T_WHITESPACE"," ",229],["T_VARIABLE","$this",229],";",["T_WHITESPACE","\n    ",229],"}",["T_WHITESPACE","\n\n    ",230],["T_DOC_COMMENT","\/**\n     * Get array of objects transfered to default events processing\n     *\n     * @return array\n     *\/",232],["T_WHITESPACE","\n    ",236],["T_PROTECTED","protected",237],["T_WHITESPACE"," ",237],["T_FUNCTION","function",237],["T_WHITESPACE"," ",237],["T_STRING","_getEventData",237],"(",")",["T_WHITESPACE","\n    ",237],"{",["T_WHITESPACE","\n        ",238],["T_RETURN","return",239],["T_WHITESPACE"," ",239],["T_ARRAY","array",239],"(",["T_WHITESPACE","\n            ",239],["T_CONSTANT_ENCAPSED_STRING","'data_object'",240],["T_WHITESPACE","       ",240],["T_DOUBLE_ARROW","=>",240],["T_WHITESPACE"," ",240],["T_VARIABLE","$this",240],",",["T_WHITESPACE","\n            ",240],["T_VARIABLE","$this",241],["T_OBJECT_OPERATOR","->",241],["T_STRING","_eventObject",241],["T_WHITESPACE"," ",241],["T_DOUBLE_ARROW","=>",241],["T_WHITESPACE"," ",241],["T_VARIABLE","$this",241],",",["T_WHITESPACE","\n        ",241],")",";",["T_WHITESPACE","\n    ",242],"}",["T_WHITESPACE","\n\n    ",243],["T_DOC_COMMENT","\/**\n     * Processing object before load data\n     *\n     * @return Mage_Core_Model_Abstract\n     *\/",245],["T_WHITESPACE","\n    ",249],["T_PROTECTED","protected",250],["T_WHITESPACE"," ",250],["T_FUNCTION","function",250],["T_WHITESPACE"," ",250],["T_STRING","_beforeLoad",250],"(",["T_VARIABLE","$id",250],",",["T_WHITESPACE"," ",250],["T_VARIABLE","$field",250],["T_WHITESPACE"," ",250],"=",["T_WHITESPACE"," ",250],["T_STRING","null",250],")",["T_WHITESPACE","\n    ",250],"{",["T_WHITESPACE","\n        ",251],["T_VARIABLE","$params",252],["T_WHITESPACE"," ",252],"=",["T_WHITESPACE"," ",252],["T_ARRAY","array",252],"(",["T_CONSTANT_ENCAPSED_STRING","'object'",252],["T_WHITESPACE"," ",252],["T_DOUBLE_ARROW","=>",252],["T_WHITESPACE"," ",252],["T_VARIABLE","$this",252],",",["T_WHITESPACE"," ",252],["T_CONSTANT_ENCAPSED_STRING","'field'",252],["T_WHITESPACE"," ",252],["T_DOUBLE_ARROW","=>",252],["T_WHITESPACE"," ",252],["T_VARIABLE","$field",252],",",["T_WHITESPACE"," ",252],["T_CONSTANT_ENCAPSED_STRING","'value'",252],["T_DOUBLE_ARROW","=>",252],["T_WHITESPACE"," ",252],["T_VARIABLE","$id",252],")",";",["T_WHITESPACE","\n        ",252],["T_STRING","Mage",253],["T_DOUBLE_COLON","::",253],["T_STRING","dispatchEvent",253],"(",["T_CONSTANT_ENCAPSED_STRING","'model_load_before'",253],",",["T_WHITESPACE"," ",253],["T_VARIABLE","$params",253],")",";",["T_WHITESPACE","\n        ",253],["T_VARIABLE","$params",254],["T_WHITESPACE"," ",254],"=",["T_WHITESPACE"," ",254],["T_STRING","array_merge",254],"(",["T_VARIABLE","$params",254],",",["T_WHITESPACE"," ",254],["T_VARIABLE","$this",254],["T_OBJECT_OPERATOR","->",254],["T_STRING","_getEventData",254],"(",")",")",";",["T_WHITESPACE","\n        ",254],["T_STRING","Mage",255],["T_DOUBLE_COLON","::",255],["T_STRING","dispatchEvent",255],"(",["T_VARIABLE","$this",255],["T_OBJECT_OPERATOR","->",255],["T_STRING","_eventPrefix",255],".",["T_CONSTANT_ENCAPSED_STRING","'_load_before'",255],",",["T_WHITESPACE"," ",255],["T_VARIABLE","$params",255],")",";",["T_WHITESPACE","\n        ",255],["T_RETURN","return",256],["T_WHITESPACE"," ",256],["T_VARIABLE","$this",256],";",["T_WHITESPACE","\n    ",256],"}",["T_WHITESPACE","\n\n    ",257],["T_DOC_COMMENT","\/**\n     * Processing object after load data\n     *\n     * @return Mage_Core_Model_Abstract\n     *\/",259],["T_WHITESPACE","\n    ",263],["T_PROTECTED","protected",264],["T_WHITESPACE"," ",264],["T_FUNCTION","function",264],["T_WHITESPACE"," ",264],["T_STRING","_afterLoad",264],"(",")",["T_WHITESPACE","\n    ",264],"{",["T_WHITESPACE","\n        ",265],["T_STRING","Mage",266],["T_DOUBLE_COLON","::",266],["T_STRING","dispatchEvent",266],"(",["T_CONSTANT_ENCAPSED_STRING","'model_load_after'",266],",",["T_WHITESPACE"," ",266],["T_ARRAY","array",266],"(",["T_CONSTANT_ENCAPSED_STRING","'object'",266],["T_DOUBLE_ARROW","=>",266],["T_VARIABLE","$this",266],")",")",";",["T_WHITESPACE","\n        ",266],["T_STRING","Mage",267],["T_DOUBLE_COLON","::",267],["T_STRING","dispatchEvent",267],"(",["T_VARIABLE","$this",267],["T_OBJECT_OPERATOR","->",267],["T_STRING","_eventPrefix",267],".",["T_CONSTANT_ENCAPSED_STRING","'_load_after'",267],",",["T_WHITESPACE"," ",267],["T_VARIABLE","$this",267],["T_OBJECT_OPERATOR","->",267],["T_STRING","_getEventData",267],"(",")",")",";",["T_WHITESPACE","\n        ",267],["T_RETURN","return",268],["T_WHITESPACE"," ",268],["T_VARIABLE","$this",268],";",["T_WHITESPACE","\n    ",268],"}",["T_WHITESPACE","\n\n\n\n    ",269],["T_DOC_COMMENT","\/**\n     * Object after load processing. Implemented as public interface for supporting objects after load in collections\n     *\n     * @return Mage_Core_Model_Abstract\n     *\/",273],["T_WHITESPACE","\n    ",277],["T_PUBLIC","public",278],["T_WHITESPACE"," ",278],["T_FUNCTION","function",278],["T_WHITESPACE"," ",278],["T_STRING","afterLoad",278],"(",")",["T_WHITESPACE","\n    ",278],"{",["T_WHITESPACE","\n        ",279],["T_VARIABLE","$this",280],["T_OBJECT_OPERATOR","->",280],["T_STRING","getResource",280],"(",")",["T_OBJECT_OPERATOR","->",280],["T_STRING","afterLoad",280],"(",["T_VARIABLE","$this",280],")",";",["T_WHITESPACE","\n        ",280],["T_VARIABLE","$this",281],["T_OBJECT_OPERATOR","->",281],["T_STRING","_afterLoad",281],"(",")",";",["T_WHITESPACE","\n        ",281],["T_RETURN","return",282],["T_WHITESPACE"," ",282],["T_VARIABLE","$this",282],";",["T_WHITESPACE","\n    ",282],"}",["T_WHITESPACE","\n\n    ",283],["T_DOC_COMMENT","\/**\n     * Check whether model has changed data.\n     * Can be overloaded in child classes to perform advanced check whether model needs to be saved\n     * e.g. usign resouceModel->hasDataChanged() or any other technique\n     *\n     * @return boolean\n     *\/",285],["T_WHITESPACE","\n    ",291],["T_PROTECTED","protected",292],["T_WHITESPACE"," ",292],["T_FUNCTION","function",292],["T_WHITESPACE"," ",292],["T_STRING","_hasModelChanged",292],"(",")",["T_WHITESPACE","\n    ",292],"{",["T_WHITESPACE","\n        ",293],["T_RETURN","return",294],["T_WHITESPACE"," ",294],["T_VARIABLE","$this",294],["T_OBJECT_OPERATOR","->",294],["T_STRING","hasDataChanges",294],"(",")",";",["T_WHITESPACE","\n    ",294],"}",["T_WHITESPACE","\n\n    ",295],["T_DOC_COMMENT","\/**\n     * Save object data\n     *\n     * @return Mage_Core_Model_Abstract\n     *\/",297],["T_WHITESPACE","\n    ",301],["T_PUBLIC","public",302],["T_WHITESPACE"," ",302],["T_FUNCTION","function",302],["T_WHITESPACE"," ",302],["T_STRING","save",302],"(",")",["T_WHITESPACE","\n    ",302],"{",["T_WHITESPACE","\n        ",303],["T_DOC_COMMENT","\/**\n         * Direct deleted items to delete method\n         *\/",304],["T_WHITESPACE","\n        ",306],["T_IF","if",307],["T_WHITESPACE"," ",307],"(",["T_VARIABLE","$this",307],["T_OBJECT_OPERATOR","->",307],["T_STRING","isDeleted",307],"(",")",")",["T_WHITESPACE"," ",307],"{",["T_WHITESPACE","\n            ",307],["T_RETURN","return",308],["T_WHITESPACE"," ",308],["T_VARIABLE","$this",308],["T_OBJECT_OPERATOR","->",308],["T_STRING","delete",308],"(",")",";",["T_WHITESPACE","\n        ",308],"}",["T_WHITESPACE","\n        ",309],["T_IF","if",310],["T_WHITESPACE"," ",310],"(","!",["T_VARIABLE","$this",310],["T_OBJECT_OPERATOR","->",310],["T_STRING","_hasModelChanged",310],"(",")",")",["T_WHITESPACE"," ",310],"{",["T_WHITESPACE","\n            ",310],["T_RETURN","return",311],["T_WHITESPACE"," ",311],["T_VARIABLE","$this",311],";",["T_WHITESPACE","\n        ",311],"}",["T_WHITESPACE","\n        ",312],["T_VARIABLE","$this",313],["T_OBJECT_OPERATOR","->",313],["T_STRING","_getResource",313],"(",")",["T_OBJECT_OPERATOR","->",313],["T_STRING","beginTransaction",313],"(",")",";",["T_WHITESPACE","\n        ",313],["T_VARIABLE","$dataCommited",314],["T_WHITESPACE"," ",314],"=",["T_WHITESPACE"," ",314],["T_STRING","false",314],";",["T_WHITESPACE","\n        ",314],["T_TRY","try",315],["T_WHITESPACE"," ",315],"{",["T_WHITESPACE","\n            ",315],["T_VARIABLE","$this",316],["T_OBJECT_OPERATOR","->",316],["T_STRING","_beforeSave",316],"(",")",";",["T_WHITESPACE","\n            ",316],["T_IF","if",317],["T_WHITESPACE"," ",317],"(",["T_VARIABLE","$this",317],["T_OBJECT_OPERATOR","->",317],["T_STRING","_dataSaveAllowed",317],")",["T_WHITESPACE"," ",317],"{",["T_WHITESPACE","\n                ",317],["T_VARIABLE","$this",318],["T_OBJECT_OPERATOR","->",318],["T_STRING","_getResource",318],"(",")",["T_OBJECT_OPERATOR","->",318],["T_STRING","save",318],"(",["T_VARIABLE","$this",318],")",";",["T_WHITESPACE","\n                ",318],["T_VARIABLE","$this",319],["T_OBJECT_OPERATOR","->",319],["T_STRING","_afterSave",319],"(",")",";",["T_WHITESPACE","\n            ",319],"}",["T_WHITESPACE","\n            ",320],["T_VARIABLE","$this",321],["T_OBJECT_OPERATOR","->",321],["T_STRING","_getResource",321],"(",")",["T_OBJECT_OPERATOR","->",321],["T_STRING","addCommitCallback",321],"(",["T_ARRAY","array",321],"(",["T_VARIABLE","$this",321],",",["T_WHITESPACE"," ",321],["T_CONSTANT_ENCAPSED_STRING","'afterCommitCallback'",321],")",")",["T_WHITESPACE","\n                ",321],["T_OBJECT_OPERATOR","->",322],["T_STRING","commit",322],"(",")",";",["T_WHITESPACE","\n            ",322],["T_VARIABLE","$this",323],["T_OBJECT_OPERATOR","->",323],["T_STRING","_hasDataChanges",323],["T_WHITESPACE"," ",323],"=",["T_WHITESPACE"," ",323],["T_STRING","false",323],";",["T_WHITESPACE","\n            ",323],["T_VARIABLE","$dataCommited",324],["T_WHITESPACE"," ",324],"=",["T_WHITESPACE"," ",324],["T_STRING","true",324],";",["T_WHITESPACE","\n        ",324],"}",["T_WHITESPACE"," ",325],["T_CATCH","catch",325],["T_WHITESPACE"," ",325],"(",["T_STRING","Exception",325],["T_WHITESPACE"," ",325],["T_VARIABLE","$e",325],")",["T_WHITESPACE"," ",325],"{",["T_WHITESPACE","\n            ",325],["T_VARIABLE","$this",326],["T_OBJECT_OPERATOR","->",326],["T_STRING","_getResource",326],"(",")",["T_OBJECT_OPERATOR","->",326],["T_STRING","rollBack",326],"(",")",";",["T_WHITESPACE","\n            ",326],["T_VARIABLE","$this",327],["T_OBJECT_OPERATOR","->",327],["T_STRING","_hasDataChanges",327],["T_WHITESPACE"," ",327],"=",["T_WHITESPACE"," ",327],["T_STRING","true",327],";",["T_WHITESPACE","\n            ",327],["T_THROW","throw",328],["T_WHITESPACE"," ",328],["T_VARIABLE","$e",328],";",["T_WHITESPACE","\n        ",328],"}",["T_WHITESPACE","\n        ",329],["T_IF","if",330],["T_WHITESPACE"," ",330],"(",["T_VARIABLE","$dataCommited",330],")",["T_WHITESPACE"," ",330],"{",["T_WHITESPACE","\n            ",330],["T_VARIABLE","$this",331],["T_OBJECT_OPERATOR","->",331],["T_STRING","_afterSaveCommit",331],"(",")",";",["T_WHITESPACE","\n        ",331],"}",["T_WHITESPACE","\n        ",332],["T_RETURN","return",333],["T_WHITESPACE"," ",333],["T_VARIABLE","$this",333],";",["T_WHITESPACE","\n    ",333],"}",["T_WHITESPACE","\n\n    ",334],["T_DOC_COMMENT","\/**\n     * Callback function which called after transaction commit in resource model\n     *\n     * @return Mage_Core_Model_Abstract\n     *\/",336],["T_WHITESPACE","\n    ",340],["T_PUBLIC","public",341],["T_WHITESPACE"," ",341],["T_FUNCTION","function",341],["T_WHITESPACE"," ",341],["T_STRING","afterCommitCallback",341],"(",")",["T_WHITESPACE","\n    ",341],"{",["T_WHITESPACE","\n        ",342],["T_STRING","Mage",343],["T_DOUBLE_COLON","::",343],["T_STRING","dispatchEvent",343],"(",["T_CONSTANT_ENCAPSED_STRING","'model_save_commit_after'",343],",",["T_WHITESPACE"," ",343],["T_ARRAY","array",343],"(",["T_CONSTANT_ENCAPSED_STRING","'object'",343],["T_DOUBLE_ARROW","=>",343],["T_VARIABLE","$this",343],")",")",";",["T_WHITESPACE","\n        ",343],["T_STRING","Mage",344],["T_DOUBLE_COLON","::",344],["T_STRING","dispatchEvent",344],"(",["T_VARIABLE","$this",344],["T_OBJECT_OPERATOR","->",344],["T_STRING","_eventPrefix",344],".",["T_CONSTANT_ENCAPSED_STRING","'_save_commit_after'",344],",",["T_WHITESPACE"," ",344],["T_VARIABLE","$this",344],["T_OBJECT_OPERATOR","->",344],["T_STRING","_getEventData",344],"(",")",")",";",["T_WHITESPACE","\n        ",344],["T_RETURN","return",345],["T_WHITESPACE"," ",345],["T_VARIABLE","$this",345],";",["T_WHITESPACE","\n    ",345],"}",["T_WHITESPACE","\n\n    ",346],["T_DOC_COMMENT","\/**\n     * Processing data save after transaction commit.\n     * When method is called we don't have garantee what transaction was really commited\n     *\n     * @deprecated after 1.4.0.0 - please use afterCommitCallback instead\n     * @return Mage_Core_Model_Abstract\n     *\/",348],["T_WHITESPACE","\n    ",354],["T_PROTECTED","protected",355],["T_WHITESPACE"," ",355],["T_FUNCTION","function",355],["T_WHITESPACE"," ",355],["T_STRING","_afterSaveCommit",355],"(",")",["T_WHITESPACE","\n    ",355],"{",["T_WHITESPACE","\n        ",356],["T_RETURN","return",357],["T_WHITESPACE"," ",357],["T_VARIABLE","$this",357],";",["T_WHITESPACE","\n    ",357],"}",["T_WHITESPACE","\n\n    ",358],["T_DOC_COMMENT","\/**\n     * Check object state (true - if it is object without id on object just created)\n     * This method can help detect if object just created in _afterSave method\n     * problem is what in after save onject has id and we can't detect what object was\n     * created in this transaction\n     *\n     * @param bool $flag\n     * @return bool\n     *\/",360],["T_WHITESPACE","\n    ",368],["T_PUBLIC","public",369],["T_WHITESPACE"," ",369],["T_FUNCTION","function",369],["T_WHITESPACE"," ",369],["T_STRING","isObjectNew",369],"(",["T_VARIABLE","$flag",369],"=",["T_STRING","null",369],")",["T_WHITESPACE","\n    ",369],"{",["T_WHITESPACE","\n        ",370],["T_IF","if",371],["T_WHITESPACE"," ",371],"(",["T_VARIABLE","$flag",371],["T_WHITESPACE"," ",371],["T_IS_NOT_IDENTICAL","!==",371],["T_WHITESPACE"," ",371],["T_STRING","null",371],")",["T_WHITESPACE"," ",371],"{",["T_WHITESPACE","\n            ",371],["T_VARIABLE","$this",372],["T_OBJECT_OPERATOR","->",372],["T_STRING","_isObjectNew",372],["T_WHITESPACE"," ",372],"=",["T_WHITESPACE"," ",372],["T_VARIABLE","$flag",372],";",["T_WHITESPACE","\n        ",372],"}",["T_WHITESPACE","\n        ",373],["T_IF","if",374],["T_WHITESPACE"," ",374],"(",["T_VARIABLE","$this",374],["T_OBJECT_OPERATOR","->",374],["T_STRING","_isObjectNew",374],["T_WHITESPACE"," ",374],["T_IS_NOT_IDENTICAL","!==",374],["T_WHITESPACE"," ",374],["T_STRING","null",374],")",["T_WHITESPACE"," ",374],"{",["T_WHITESPACE","\n            ",374],["T_RETURN","return",375],["T_WHITESPACE"," ",375],["T_VARIABLE","$this",375],["T_OBJECT_OPERATOR","->",375],["T_STRING","_isObjectNew",375],";",["T_WHITESPACE","\n        ",375],"}",["T_WHITESPACE","\n        ",376],["T_RETURN","return",377],["T_WHITESPACE"," ",377],"!",["T_BOOL_CAST","(bool)",377],["T_VARIABLE","$this",377],["T_OBJECT_OPERATOR","->",377],["T_STRING","getId",377],"(",")",";",["T_WHITESPACE","\n    ",377],"}",["T_WHITESPACE","\n\n    ",378],["T_DOC_COMMENT","\/**\n     * Processing object before save data\n     *\n     * @return Mage_Core_Model_Abstract\n     *\/",380],["T_WHITESPACE","\n    ",384],["T_PROTECTED","protected",385],["T_WHITESPACE"," ",385],["T_FUNCTION","function",385],["T_WHITESPACE"," ",385],["T_STRING","_beforeSave",385],"(",")",["T_WHITESPACE","\n    ",385],"{",["T_WHITESPACE","\n        ",386],["T_IF","if",387],["T_WHITESPACE"," ",387],"(","!",["T_VARIABLE","$this",387],["T_OBJECT_OPERATOR","->",387],["T_STRING","getId",387],"(",")",")",["T_WHITESPACE"," ",387],"{",["T_WHITESPACE","\n            ",387],["T_VARIABLE","$this",388],["T_OBJECT_OPERATOR","->",388],["T_STRING","isObjectNew",388],"(",["T_STRING","true",388],")",";",["T_WHITESPACE","\n        ",388],"}",["T_WHITESPACE","\n        ",389],["T_STRING","Mage",390],["T_DOUBLE_COLON","::",390],["T_STRING","dispatchEvent",390],"(",["T_CONSTANT_ENCAPSED_STRING","'model_save_before'",390],",",["T_WHITESPACE"," ",390],["T_ARRAY","array",390],"(",["T_CONSTANT_ENCAPSED_STRING","'object'",390],["T_DOUBLE_ARROW","=>",390],["T_VARIABLE","$this",390],")",")",";",["T_WHITESPACE","\n        ",390],["T_STRING","Mage",391],["T_DOUBLE_COLON","::",391],["T_STRING","dispatchEvent",391],"(",["T_VARIABLE","$this",391],["T_OBJECT_OPERATOR","->",391],["T_STRING","_eventPrefix",391],".",["T_CONSTANT_ENCAPSED_STRING","'_save_before'",391],",",["T_WHITESPACE"," ",391],["T_VARIABLE","$this",391],["T_OBJECT_OPERATOR","->",391],["T_STRING","_getEventData",391],"(",")",")",";",["T_WHITESPACE","\n        ",391],["T_RETURN","return",392],["T_WHITESPACE"," ",392],["T_VARIABLE","$this",392],";",["T_WHITESPACE","\n    ",392],"}",["T_WHITESPACE","\n\n    ",393],["T_DOC_COMMENT","\/**\n     * Get list of cache tags applied to model object.\n     * Return false if cache tags are not supported by model\n     *\n     * @return array | false\n     *\/",395],["T_WHITESPACE","\n    ",400],["T_PUBLIC","public",401],["T_WHITESPACE"," ",401],["T_FUNCTION","function",401],["T_WHITESPACE"," ",401],["T_STRING","getCacheTags",401],"(",")",["T_WHITESPACE","\n    ",401],"{",["T_WHITESPACE","\n        ",402],["T_VARIABLE","$tags",403],["T_WHITESPACE"," ",403],"=",["T_WHITESPACE"," ",403],["T_STRING","false",403],";",["T_WHITESPACE","\n        ",403],["T_IF","if",404],["T_WHITESPACE"," ",404],"(",["T_VARIABLE","$this",404],["T_OBJECT_OPERATOR","->",404],["T_STRING","_cacheTag",404],")",["T_WHITESPACE"," ",404],"{",["T_WHITESPACE","\n            ",404],["T_IF","if",405],["T_WHITESPACE"," ",405],"(",["T_VARIABLE","$this",405],["T_OBJECT_OPERATOR","->",405],["T_STRING","_cacheTag",405],["T_WHITESPACE"," ",405],["T_IS_IDENTICAL","===",405],["T_WHITESPACE"," ",405],["T_STRING","true",405],")",["T_WHITESPACE"," ",405],"{",["T_WHITESPACE","\n                ",405],["T_VARIABLE","$tags",406],["T_WHITESPACE"," ",406],"=",["T_WHITESPACE"," ",406],["T_ARRAY","array",406],"(",")",";",["T_WHITESPACE","\n            ",406],"}",["T_WHITESPACE"," ",407],["T_ELSE","else",407],["T_WHITESPACE"," ",407],"{",["T_WHITESPACE","\n                ",407],["T_IF","if",408],["T_WHITESPACE"," ",408],"(",["T_STRING","is_array",408],"(",["T_VARIABLE","$this",408],["T_OBJECT_OPERATOR","->",408],["T_STRING","_cacheTag",408],")",")",["T_WHITESPACE"," ",408],"{",["T_WHITESPACE","\n                    ",408],["T_VARIABLE","$tags",409],["T_WHITESPACE"," ",409],"=",["T_WHITESPACE"," ",409],["T_VARIABLE","$this",409],["T_OBJECT_OPERATOR","->",409],["T_STRING","_cacheTag",409],";",["T_WHITESPACE","\n                ",409],"}",["T_WHITESPACE"," ",410],["T_ELSE","else",410],["T_WHITESPACE"," ",410],"{",["T_WHITESPACE","\n                    ",410],["T_VARIABLE","$tags",411],["T_WHITESPACE"," ",411],"=",["T_WHITESPACE"," ",411],["T_ARRAY","array",411],"(",["T_VARIABLE","$this",411],["T_OBJECT_OPERATOR","->",411],["T_STRING","_cacheTag",411],")",";",["T_WHITESPACE","\n                ",411],"}",["T_WHITESPACE","\n                ",412],["T_VARIABLE","$idTags",413],["T_WHITESPACE"," ",413],"=",["T_WHITESPACE"," ",413],["T_VARIABLE","$this",413],["T_OBJECT_OPERATOR","->",413],["T_STRING","getCacheIdTags",413],"(",")",";",["T_WHITESPACE","\n                ",413],["T_IF","if",414],["T_WHITESPACE"," ",414],"(",["T_VARIABLE","$idTags",414],")",["T_WHITESPACE"," ",414],"{",["T_WHITESPACE","\n                    ",414],["T_VARIABLE","$tags",415],["T_WHITESPACE"," ",415],"=",["T_WHITESPACE"," ",415],["T_STRING","array_merge",415],"(",["T_VARIABLE","$tags",415],",",["T_WHITESPACE"," ",415],["T_VARIABLE","$idTags",415],")",";",["T_WHITESPACE","\n                ",415],"}",["T_WHITESPACE","\n            ",416],"}",["T_WHITESPACE","\n        ",417],"}",["T_WHITESPACE","\n        ",418],["T_RETURN","return",419],["T_WHITESPACE"," ",419],["T_VARIABLE","$tags",419],";",["T_WHITESPACE","\n    ",419],"}",["T_WHITESPACE","\n\n    ",420],["T_DOC_COMMENT","\/**\n     * Get cahce tags associated with object id\n     *\n     * @return array|bool\n     *\/",422],["T_WHITESPACE","\n    ",426],["T_PUBLIC","public",427],["T_WHITESPACE"," ",427],["T_FUNCTION","function",427],["T_WHITESPACE"," ",427],["T_STRING","getCacheIdTags",427],"(",")",["T_WHITESPACE","\n    ",427],"{",["T_WHITESPACE","\n        ",428],["T_VARIABLE","$tags",429],["T_WHITESPACE"," ",429],"=",["T_WHITESPACE"," ",429],["T_STRING","false",429],";",["T_WHITESPACE","\n        ",429],["T_IF","if",430],["T_WHITESPACE"," ",430],"(",["T_VARIABLE","$this",430],["T_OBJECT_OPERATOR","->",430],["T_STRING","getId",430],"(",")",["T_WHITESPACE"," ",430],["T_BOOLEAN_AND","&&",430],["T_WHITESPACE"," ",430],["T_VARIABLE","$this",430],["T_OBJECT_OPERATOR","->",430],["T_STRING","_cacheTag",430],")",["T_WHITESPACE"," ",430],"{",["T_WHITESPACE","\n            ",430],["T_VARIABLE","$tags",431],["T_WHITESPACE"," ",431],"=",["T_WHITESPACE"," ",431],["T_ARRAY","array",431],"(",")",";",["T_WHITESPACE","\n            ",431],["T_IF","if",432],["T_WHITESPACE"," ",432],"(",["T_STRING","is_array",432],"(",["T_VARIABLE","$this",432],["T_OBJECT_OPERATOR","->",432],["T_STRING","_cacheTag",432],")",")",["T_WHITESPACE"," ",432],"{",["T_WHITESPACE","\n                ",432],["T_FOREACH","foreach",433],["T_WHITESPACE"," ",433],"(",["T_VARIABLE","$this",433],["T_OBJECT_OPERATOR","->",433],["T_STRING","_cacheTag",433],["T_WHITESPACE"," ",433],["T_AS","as",433],["T_WHITESPACE"," ",433],["T_VARIABLE","$_tag",433],")",["T_WHITESPACE"," ",433],"{",["T_WHITESPACE","\n                    ",433],["T_VARIABLE","$tags",434],"[","]",["T_WHITESPACE"," ",434],"=",["T_WHITESPACE"," ",434],["T_VARIABLE","$_tag",434],".",["T_CONSTANT_ENCAPSED_STRING","'_'",434],".",["T_VARIABLE","$this",434],["T_OBJECT_OPERATOR","->",434],["T_STRING","getId",434],"(",")",";",["T_WHITESPACE","\n                ",434],"}",["T_WHITESPACE","\n            ",435],"}",["T_WHITESPACE"," ",436],["T_ELSE","else",436],["T_WHITESPACE"," ",436],"{",["T_WHITESPACE","\n                ",436],["T_VARIABLE","$tags",437],"[","]",["T_WHITESPACE"," ",437],"=",["T_WHITESPACE"," ",437],["T_VARIABLE","$this",437],["T_OBJECT_OPERATOR","->",437],["T_STRING","_cacheTag",437],".",["T_CONSTANT_ENCAPSED_STRING","'_'",437],".",["T_VARIABLE","$this",437],["T_OBJECT_OPERATOR","->",437],["T_STRING","getId",437],"(",")",";",["T_WHITESPACE","\n            ",437],"}",["T_WHITESPACE","\n        ",438],"}",["T_WHITESPACE","\n        ",439],["T_RETURN","return",440],["T_WHITESPACE"," ",440],["T_VARIABLE","$tags",440],";",["T_WHITESPACE","\n    ",440],"}",["T_WHITESPACE","\n\n    ",441],["T_DOC_COMMENT","\/**\n     * Remove model onject related cache\n     *\n     * @return Mage_Core_Model_Abstract\n     *\/",443],["T_WHITESPACE","\n    ",447],["T_PUBLIC","public",448],["T_WHITESPACE"," ",448],["T_FUNCTION","function",448],["T_WHITESPACE"," ",448],["T_STRING","cleanModelCache",448],"(",")",["T_WHITESPACE","\n    ",448],"{",["T_WHITESPACE","\n        ",449],["T_VARIABLE","$tags",450],["T_WHITESPACE"," ",450],"=",["T_WHITESPACE"," ",450],["T_VARIABLE","$this",450],["T_OBJECT_OPERATOR","->",450],["T_STRING","getCacheTags",450],"(",")",";",["T_WHITESPACE","\n        ",450],["T_IF","if",451],["T_WHITESPACE"," ",451],"(",["T_VARIABLE","$tags",451],["T_WHITESPACE"," ",451],["T_IS_NOT_IDENTICAL","!==",451],["T_WHITESPACE"," ",451],["T_STRING","false",451],")",["T_WHITESPACE"," ",451],"{",["T_WHITESPACE","\n            ",451],["T_STRING","Mage",452],["T_DOUBLE_COLON","::",452],["T_STRING","app",452],"(",")",["T_OBJECT_OPERATOR","->",452],["T_STRING","cleanCache",452],"(",["T_VARIABLE","$tags",452],")",";",["T_WHITESPACE","\n        ",452],"}",["T_WHITESPACE","\n        ",453],["T_RETURN","return",454],["T_WHITESPACE"," ",454],["T_VARIABLE","$this",454],";",["T_WHITESPACE","\n    ",454],"}",["T_WHITESPACE","\n\n    ",455],["T_DOC_COMMENT","\/**\n     * Processing object after save data\n     *\n     * @return Mage_Core_Model_Abstract\n     *\/",457],["T_WHITESPACE","\n    ",461],["T_PROTECTED","protected",462],["T_WHITESPACE"," ",462],["T_FUNCTION","function",462],["T_WHITESPACE"," ",462],["T_STRING","_afterSave",462],"(",")",["T_WHITESPACE","\n    ",462],"{",["T_WHITESPACE","\n        ",463],["T_VARIABLE","$this",464],["T_OBJECT_OPERATOR","->",464],["T_STRING","cleanModelCache",464],"(",")",";",["T_WHITESPACE","\n        ",464],["T_STRING","Mage",465],["T_DOUBLE_COLON","::",465],["T_STRING","dispatchEvent",465],"(",["T_CONSTANT_ENCAPSED_STRING","'model_save_after'",465],",",["T_WHITESPACE"," ",465],["T_ARRAY","array",465],"(",["T_CONSTANT_ENCAPSED_STRING","'object'",465],["T_DOUBLE_ARROW","=>",465],["T_VARIABLE","$this",465],")",")",";",["T_WHITESPACE","\n        ",465],["T_STRING","Mage",466],["T_DOUBLE_COLON","::",466],["T_STRING","dispatchEvent",466],"(",["T_VARIABLE","$this",466],["T_OBJECT_OPERATOR","->",466],["T_STRING","_eventPrefix",466],".",["T_CONSTANT_ENCAPSED_STRING","'_save_after'",466],",",["T_WHITESPACE"," ",466],["T_VARIABLE","$this",466],["T_OBJECT_OPERATOR","->",466],["T_STRING","_getEventData",466],"(",")",")",";",["T_WHITESPACE","\n        ",466],["T_RETURN","return",467],["T_WHITESPACE"," ",467],["T_VARIABLE","$this",467],";",["T_WHITESPACE","\n    ",467],"}",["T_WHITESPACE","\n\n    ",468],["T_DOC_COMMENT","\/**\n     * Delete object from database\n     *\n     * @return Mage_Core_Model_Abstract\n     *\/",470],["T_WHITESPACE","\n    ",474],["T_PUBLIC","public",475],["T_WHITESPACE"," ",475],["T_FUNCTION","function",475],["T_WHITESPACE"," ",475],["T_STRING","delete",475],"(",")",["T_WHITESPACE","\n    ",475],"{",["T_WHITESPACE","\n        ",476],["T_VARIABLE","$this",477],["T_OBJECT_OPERATOR","->",477],["T_STRING","_getResource",477],"(",")",["T_OBJECT_OPERATOR","->",477],["T_STRING","beginTransaction",477],"(",")",";",["T_WHITESPACE","\n        ",477],["T_TRY","try",478],["T_WHITESPACE"," ",478],"{",["T_WHITESPACE","\n            ",478],["T_VARIABLE","$this",479],["T_OBJECT_OPERATOR","->",479],["T_STRING","_beforeDelete",479],"(",")",";",["T_WHITESPACE","\n            ",479],["T_VARIABLE","$this",480],["T_OBJECT_OPERATOR","->",480],["T_STRING","_getResource",480],"(",")",["T_OBJECT_OPERATOR","->",480],["T_STRING","delete",480],"(",["T_VARIABLE","$this",480],")",";",["T_WHITESPACE","\n            ",480],["T_VARIABLE","$this",481],["T_OBJECT_OPERATOR","->",481],["T_STRING","_afterDelete",481],"(",")",";",["T_WHITESPACE","\n\n            ",481],["T_VARIABLE","$this",483],["T_OBJECT_OPERATOR","->",483],["T_STRING","_getResource",483],"(",")",["T_OBJECT_OPERATOR","->",483],["T_STRING","commit",483],"(",")",";",["T_WHITESPACE","\n            ",483],["T_VARIABLE","$this",484],["T_OBJECT_OPERATOR","->",484],["T_STRING","_afterDeleteCommit",484],"(",")",";",["T_WHITESPACE","\n        ",484],"}",["T_WHITESPACE","\n        ",485],["T_CATCH","catch",486],["T_WHITESPACE"," ",486],"(",["T_STRING","Exception",486],["T_WHITESPACE"," ",486],["T_VARIABLE","$e",486],")","{",["T_WHITESPACE","\n            ",486],["T_VARIABLE","$this",487],["T_OBJECT_OPERATOR","->",487],["T_STRING","_getResource",487],"(",")",["T_OBJECT_OPERATOR","->",487],["T_STRING","rollBack",487],"(",")",";",["T_WHITESPACE","\n            ",487],["T_THROW","throw",488],["T_WHITESPACE"," ",488],["T_VARIABLE","$e",488],";",["T_WHITESPACE","\n        ",488],"}",["T_WHITESPACE","\n        ",489],["T_RETURN","return",490],["T_WHITESPACE"," ",490],["T_VARIABLE","$this",490],";",["T_WHITESPACE","\n    ",490],"}",["T_WHITESPACE","\n\n    ",491],["T_DOC_COMMENT","\/**\n     * Processing object before delete data\n     *\n     * @return Mage_Core_Model_Abstract\n     *\/",493],["T_WHITESPACE","\n    ",497],["T_PROTECTED","protected",498],["T_WHITESPACE"," ",498],["T_FUNCTION","function",498],["T_WHITESPACE"," ",498],["T_STRING","_beforeDelete",498],"(",")",["T_WHITESPACE","\n    ",498],"{",["T_WHITESPACE","\n        ",499],["T_STRING","Mage",500],["T_DOUBLE_COLON","::",500],["T_STRING","dispatchEvent",500],"(",["T_CONSTANT_ENCAPSED_STRING","'model_delete_before'",500],",",["T_WHITESPACE"," ",500],["T_ARRAY","array",500],"(",["T_CONSTANT_ENCAPSED_STRING","'object'",500],["T_DOUBLE_ARROW","=>",500],["T_VARIABLE","$this",500],")",")",";",["T_WHITESPACE","\n        ",500],["T_STRING","Mage",501],["T_DOUBLE_COLON","::",501],["T_STRING","dispatchEvent",501],"(",["T_VARIABLE","$this",501],["T_OBJECT_OPERATOR","->",501],["T_STRING","_eventPrefix",501],".",["T_CONSTANT_ENCAPSED_STRING","'_delete_before'",501],",",["T_WHITESPACE"," ",501],["T_VARIABLE","$this",501],["T_OBJECT_OPERATOR","->",501],["T_STRING","_getEventData",501],"(",")",")",";",["T_WHITESPACE","\n        ",501],["T_VARIABLE","$this",502],["T_OBJECT_OPERATOR","->",502],["T_STRING","cleanModelCache",502],"(",")",";",["T_WHITESPACE","\n        ",502],["T_RETURN","return",503],["T_WHITESPACE"," ",503],["T_VARIABLE","$this",503],";",["T_WHITESPACE","\n    ",503],"}",["T_WHITESPACE","\n\n    ",504],["T_DOC_COMMENT","\/**\n     * Safeguard func that will check, if we are in admin area\n     *\n     * @throws Mage_Core_Exception\n     *\/",506],["T_WHITESPACE","\n    ",510],["T_PROTECTED","protected",511],["T_WHITESPACE"," ",511],["T_FUNCTION","function",511],["T_WHITESPACE"," ",511],["T_STRING","_protectFromNonAdmin",511],"(",")",["T_WHITESPACE","\n    ",511],"{",["T_WHITESPACE","\n        ",512],["T_IF","if",513],["T_WHITESPACE"," ",513],"(",["T_STRING","Mage",513],["T_DOUBLE_COLON","::",513],["T_STRING","registry",513],"(",["T_CONSTANT_ENCAPSED_STRING","'isSecureArea'",513],")",")",["T_WHITESPACE"," ",513],"{",["T_WHITESPACE","\n            ",513],["T_RETURN","return",514],";",["T_WHITESPACE","\n        ",514],"}",["T_WHITESPACE","\n        ",515],["T_IF","if",516],["T_WHITESPACE"," ",516],"(","!",["T_STRING","Mage",516],["T_DOUBLE_COLON","::",516],["T_STRING","app",516],"(",")",["T_OBJECT_OPERATOR","->",516],["T_STRING","getStore",516],"(",")",["T_OBJECT_OPERATOR","->",516],["T_STRING","isAdmin",516],"(",")",")",["T_WHITESPACE"," ",516],"{",["T_WHITESPACE","\n            ",516],["T_STRING","Mage",517],["T_DOUBLE_COLON","::",517],["T_STRING","throwException",517],"(",["T_STRING","Mage",517],["T_DOUBLE_COLON","::",517],["T_STRING","helper",517],"(",["T_CONSTANT_ENCAPSED_STRING","'core'",517],")",["T_OBJECT_OPERATOR","->",517],["T_STRING","__",517],"(",["T_CONSTANT_ENCAPSED_STRING","'Cannot complete this operation from non-admin area.'",517],")",")",";",["T_WHITESPACE","\n        ",517],"}",["T_WHITESPACE","\n    ",518],"}",["T_WHITESPACE","\n\n    ",519],["T_DOC_COMMENT","\/**\n     * Processing object after delete data\n     *\n     * @return Mage_Core_Model_Abstract\n     *\/",521],["T_WHITESPACE","\n    ",525],["T_PROTECTED","protected",526],["T_WHITESPACE"," ",526],["T_FUNCTION","function",526],["T_WHITESPACE"," ",526],["T_STRING","_afterDelete",526],"(",")",["T_WHITESPACE","\n    ",526],"{",["T_WHITESPACE","\n        ",527],["T_STRING","Mage",528],["T_DOUBLE_COLON","::",528],["T_STRING","dispatchEvent",528],"(",["T_CONSTANT_ENCAPSED_STRING","'model_delete_after'",528],",",["T_WHITESPACE"," ",528],["T_ARRAY","array",528],"(",["T_CONSTANT_ENCAPSED_STRING","'object'",528],["T_DOUBLE_ARROW","=>",528],["T_VARIABLE","$this",528],")",")",";",["T_WHITESPACE","\n        ",528],["T_STRING","Mage",529],["T_DOUBLE_COLON","::",529],["T_STRING","dispatchEvent",529],"(",["T_VARIABLE","$this",529],["T_OBJECT_OPERATOR","->",529],["T_STRING","_eventPrefix",529],".",["T_CONSTANT_ENCAPSED_STRING","'_delete_after'",529],",",["T_WHITESPACE"," ",529],["T_VARIABLE","$this",529],["T_OBJECT_OPERATOR","->",529],["T_STRING","_getEventData",529],"(",")",")",";",["T_WHITESPACE","\n        ",529],["T_RETURN","return",530],["T_WHITESPACE"," ",530],["T_VARIABLE","$this",530],";",["T_WHITESPACE","\n    ",530],"}",["T_WHITESPACE","\n\n    ",531],["T_DOC_COMMENT","\/**\n     * Processing manipulation after main transaction commit\n     *\n     * @return Mage_Core_Model_Abstract\n     *\/",533],["T_WHITESPACE","\n    ",537],["T_PROTECTED","protected",538],["T_WHITESPACE"," ",538],["T_FUNCTION","function",538],["T_WHITESPACE"," ",538],["T_STRING","_afterDeleteCommit",538],"(",")",["T_WHITESPACE","\n    ",538],"{",["T_WHITESPACE","\n        ",539],["T_STRING","Mage",540],["T_DOUBLE_COLON","::",540],["T_STRING","dispatchEvent",540],"(",["T_CONSTANT_ENCAPSED_STRING","'model_delete_commit_after'",540],",",["T_WHITESPACE"," ",540],["T_ARRAY","array",540],"(",["T_CONSTANT_ENCAPSED_STRING","'object'",540],["T_DOUBLE_ARROW","=>",540],["T_VARIABLE","$this",540],")",")",";",["T_WHITESPACE","\n        ",540],["T_STRING","Mage",541],["T_DOUBLE_COLON","::",541],["T_STRING","dispatchEvent",541],"(",["T_VARIABLE","$this",541],["T_OBJECT_OPERATOR","->",541],["T_STRING","_eventPrefix",541],".",["T_CONSTANT_ENCAPSED_STRING","'_delete_commit_after'",541],",",["T_WHITESPACE"," ",541],["T_VARIABLE","$this",541],["T_OBJECT_OPERATOR","->",541],["T_STRING","_getEventData",541],"(",")",")",";",["T_WHITESPACE","\n         ",541],["T_RETURN","return",542],["T_WHITESPACE"," ",542],["T_VARIABLE","$this",542],";",["T_WHITESPACE","\n    ",542],"}",["T_WHITESPACE","\n\n    ",543],["T_DOC_COMMENT","\/**\n     * Retrieve model resource\n     *\n     * @return Mage_Core_Model_Mysql4_Abstract\n     *\/",545],["T_WHITESPACE","\n    ",549],["T_PUBLIC","public",550],["T_WHITESPACE"," ",550],["T_FUNCTION","function",550],["T_WHITESPACE"," ",550],["T_STRING","getResource",550],"(",")",["T_WHITESPACE","\n    ",550],"{",["T_WHITESPACE","\n        ",551],["T_RETURN","return",552],["T_WHITESPACE"," ",552],["T_VARIABLE","$this",552],["T_OBJECT_OPERATOR","->",552],["T_STRING","_getResource",552],"(",")",";",["T_WHITESPACE","\n    ",552],"}",["T_WHITESPACE","\n\n    ",553],["T_PUBLIC","public",555],["T_WHITESPACE"," ",555],["T_FUNCTION","function",555],["T_WHITESPACE"," ",555],["T_STRING","getEntityId",555],"(",")",["T_WHITESPACE","\n    ",555],"{",["T_WHITESPACE","\n        ",556],["T_RETURN","return",557],["T_WHITESPACE"," ",557],["T_VARIABLE","$this",557],["T_OBJECT_OPERATOR","->",557],["T_STRING","_getData",557],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_id'",557],")",";",["T_WHITESPACE","\n    ",557],"}",["T_WHITESPACE","\n\n    ",558],["T_DOC_COMMENT","\/**\n     * Clearing object for correct deleting by garbage collector\n     *\n     * @return Mage_Core_Model_Abstract\n     *\/",560],["T_WHITESPACE","\n    ",564],["T_FINAL","final",565],["T_WHITESPACE"," ",565],["T_PUBLIC","public",565],["T_WHITESPACE"," ",565],["T_FUNCTION","function",565],["T_WHITESPACE"," ",565],["T_STRING","clearInstance",565],"(",")",["T_WHITESPACE","\n    ",565],"{",["T_WHITESPACE","\n        ",566],["T_VARIABLE","$this",567],["T_OBJECT_OPERATOR","->",567],["T_STRING","_clearReferences",567],"(",")",";",["T_WHITESPACE","\n        ",567],["T_STRING","Mage",568],["T_DOUBLE_COLON","::",568],["T_STRING","dispatchEvent",568],"(",["T_VARIABLE","$this",568],["T_OBJECT_OPERATOR","->",568],["T_STRING","_eventPrefix",568],".",["T_CONSTANT_ENCAPSED_STRING","'_clear'",568],",",["T_WHITESPACE"," ",568],["T_VARIABLE","$this",568],["T_OBJECT_OPERATOR","->",568],["T_STRING","_getEventData",568],"(",")",")",";",["T_WHITESPACE","\n        ",568],["T_VARIABLE","$this",569],["T_OBJECT_OPERATOR","->",569],["T_STRING","_clearData",569],"(",")",";",["T_WHITESPACE","\n        ",569],["T_RETURN","return",570],["T_WHITESPACE"," ",570],["T_VARIABLE","$this",570],";",["T_WHITESPACE","\n    ",570],"}",["T_WHITESPACE","\n\n    ",571],["T_DOC_COMMENT","\/**\n     * Clearing cyclic references\n     *\n     * @return Mage_Core_Model_Abstract\n     *\/",573],["T_WHITESPACE","\n    ",577],["T_PROTECTED","protected",578],["T_WHITESPACE"," ",578],["T_FUNCTION","function",578],["T_WHITESPACE"," ",578],["T_STRING","_clearReferences",578],"(",")",["T_WHITESPACE","\n    ",578],"{",["T_WHITESPACE","\n        ",579],["T_RETURN","return",580],["T_WHITESPACE"," ",580],["T_VARIABLE","$this",580],";",["T_WHITESPACE","\n    ",580],"}",["T_WHITESPACE","\n\n    ",581],["T_DOC_COMMENT","\/**\n     * Clearing object's data\n     *\n     * @return Mage_Core_Model_Abstract\n     *\/",583],["T_WHITESPACE","\n    ",587],["T_PROTECTED","protected",588],["T_WHITESPACE"," ",588],["T_FUNCTION","function",588],["T_WHITESPACE"," ",588],["T_STRING","_clearData",588],"(",")",["T_WHITESPACE","\n    ",588],"{",["T_WHITESPACE","\n        ",589],["T_RETURN","return",590],["T_WHITESPACE"," ",590],["T_VARIABLE","$this",590],";",["T_WHITESPACE","\n    ",590],"}",["T_WHITESPACE","\n\n",591],"}",["T_WHITESPACE","\n",593]]