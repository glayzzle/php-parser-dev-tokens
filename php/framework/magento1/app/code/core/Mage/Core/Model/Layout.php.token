[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Magento\n *\n * NOTICE OF LICENSE\n *\n * This source file is subject to the Open Software License (OSL 3.0)\n * that is bundled with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/opensource.org\/licenses\/osl-3.0.php\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@magento.com so we can send you a copy immediately.\n *\n * DISCLAIMER\n *\n * Do not edit or add to this file if you wish to upgrade Magento to newer\n * versions in the future. If you wish to customize Magento for your\n * needs please refer to http:\/\/www.magento.com for more information.\n *\n * @category    Mage\n * @package     Mage_Core\n * @copyright  Copyright (c) 2006-2016 X.commerce, Inc. and affiliates (http:\/\/www.magento.com)\n * @license    http:\/\/opensource.org\/licenses\/osl-3.0.php  Open Software License (OSL 3.0)\n *\/",2],["T_WHITESPACE","\n\n\n",25],["T_DOC_COMMENT","\/**\n * Layout model\n *\n * @category   Mage\n * @package    Mage_Core\n *\/",28],["T_WHITESPACE","\n",33],["T_CLASS","class",34],["T_WHITESPACE"," ",34],["T_STRING","Mage_Core_Model_Layout",34],["T_WHITESPACE"," ",34],["T_EXTENDS","extends",34],["T_WHITESPACE"," ",34],["T_STRING","Varien_Simplexml_Config",34],["T_WHITESPACE","\n",34],"{",["T_WHITESPACE","\n\n    ",35],["T_DOC_COMMENT","\/**\n     * Layout Update module\n     *\n     * @var Mage_Core_Model_Layout_Update\n     *\/",37],["T_WHITESPACE","\n    ",41],["T_PROTECTED","protected",42],["T_WHITESPACE"," ",42],["T_VARIABLE","$_update",42],";",["T_WHITESPACE","\n\n    ",42],["T_DOC_COMMENT","\/**\n     * Blocks registry\n     *\n     * @var array\n     *\/",44],["T_WHITESPACE","\n    ",48],["T_PROTECTED","protected",49],["T_WHITESPACE"," ",49],["T_VARIABLE","$_blocks",49],["T_WHITESPACE"," ",49],"=",["T_WHITESPACE"," ",49],["T_ARRAY","array",49],"(",")",";",["T_WHITESPACE","\n\n    ",49],["T_DOC_COMMENT","\/**\n     * Cache of block callbacks to output during rendering\n     *\n     * @var array\n     *\/",51],["T_WHITESPACE","\n    ",55],["T_PROTECTED","protected",56],["T_WHITESPACE"," ",56],["T_VARIABLE","$_output",56],["T_WHITESPACE"," ",56],"=",["T_WHITESPACE"," ",56],["T_ARRAY","array",56],"(",")",";",["T_WHITESPACE","\n\n    ",56],["T_DOC_COMMENT","\/**\n     * Layout area (f.e. admin, frontend)\n     *\n     * @var string\n     *\/",58],["T_WHITESPACE","\n    ",62],["T_PROTECTED","protected",63],["T_WHITESPACE"," ",63],["T_VARIABLE","$_area",63],";",["T_WHITESPACE","\n\n    ",63],["T_DOC_COMMENT","\/**\n     * Helper blocks cache for this layout\n     *\n     * @var array\n     *\/",65],["T_WHITESPACE","\n    ",69],["T_PROTECTED","protected",70],["T_WHITESPACE"," ",70],["T_VARIABLE","$_helpers",70],["T_WHITESPACE"," ",70],"=",["T_WHITESPACE"," ",70],["T_ARRAY","array",70],"(",")",";",["T_WHITESPACE","\n\n    ",70],["T_DOC_COMMENT","\/**\n     * Flag to have blocks' output go directly to browser as oppose to return result\n     *\n     * @var boolean\n     *\/",72],["T_WHITESPACE","\n    ",76],["T_PROTECTED","protected",77],["T_WHITESPACE"," ",77],["T_VARIABLE","$_directOutput",77],["T_WHITESPACE"," ",77],"=",["T_WHITESPACE"," ",77],["T_STRING","false",77],";",["T_WHITESPACE","\n\n    ",77],["T_DOC_COMMENT","\/**\n     * Class constructor\n     *\n     * @param array $data\n     *\/",79],["T_WHITESPACE","\n    ",83],["T_PUBLIC","public",84],["T_WHITESPACE"," ",84],["T_FUNCTION","function",84],["T_WHITESPACE"," ",84],["T_STRING","__construct",84],"(",["T_VARIABLE","$data",84],"=",["T_ARRAY","array",84],"(",")",")",["T_WHITESPACE","\n    ",84],"{",["T_WHITESPACE","\n        ",85],["T_VARIABLE","$this",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","_elementClass",86],["T_WHITESPACE"," ",86],"=",["T_WHITESPACE"," ",86],["T_STRING","Mage",86],["T_DOUBLE_COLON","::",86],["T_STRING","getConfig",86],"(",")",["T_OBJECT_OPERATOR","->",86],["T_STRING","getModelClassName",86],"(",["T_CONSTANT_ENCAPSED_STRING","'core\/layout_element'",86],")",";",["T_WHITESPACE","\n        ",86],["T_VARIABLE","$this",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","setXml",87],"(",["T_STRING","simplexml_load_string",87],"(",["T_CONSTANT_ENCAPSED_STRING","'<layout\/>'",87],",",["T_WHITESPACE"," ",87],["T_VARIABLE","$this",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","_elementClass",87],")",")",";",["T_WHITESPACE","\n        ",87],["T_VARIABLE","$this",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","_update",88],["T_WHITESPACE"," ",88],"=",["T_WHITESPACE"," ",88],["T_STRING","Mage",88],["T_DOUBLE_COLON","::",88],["T_STRING","getModel",88],"(",["T_CONSTANT_ENCAPSED_STRING","'core\/layout_update'",88],")",";",["T_WHITESPACE","\n        ",88],["T_STRING","parent",89],["T_DOUBLE_COLON","::",89],["T_STRING","__construct",89],"(",["T_VARIABLE","$data",89],")",";",["T_WHITESPACE","\n    ",89],"}",["T_WHITESPACE","\n\n    ",90],["T_DOC_COMMENT","\/**\n     * Layout update instance\n     *\n     * @return Mage_Core_Model_Layout_Update\n     *\/",92],["T_WHITESPACE","\n    ",96],["T_PUBLIC","public",97],["T_WHITESPACE"," ",97],["T_FUNCTION","function",97],["T_WHITESPACE"," ",97],["T_STRING","getUpdate",97],"(",")",["T_WHITESPACE","\n    ",97],"{",["T_WHITESPACE","\n        ",98],["T_RETURN","return",99],["T_WHITESPACE"," ",99],["T_VARIABLE","$this",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","_update",99],";",["T_WHITESPACE","\n    ",99],"}",["T_WHITESPACE","\n\n    ",100],["T_DOC_COMMENT","\/**\n     * Set layout area\n     *\n     * @param   string $area\n     * @return  Mage_Core_Model_Layout\n     *\/",102],["T_WHITESPACE","\n    ",107],["T_PUBLIC","public",108],["T_WHITESPACE"," ",108],["T_FUNCTION","function",108],["T_WHITESPACE"," ",108],["T_STRING","setArea",108],"(",["T_VARIABLE","$area",108],")",["T_WHITESPACE","\n    ",108],"{",["T_WHITESPACE","\n        ",109],["T_VARIABLE","$this",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","_area",110],["T_WHITESPACE"," ",110],"=",["T_WHITESPACE"," ",110],["T_VARIABLE","$area",110],";",["T_WHITESPACE","\n        ",110],["T_RETURN","return",111],["T_WHITESPACE"," ",111],["T_VARIABLE","$this",111],";",["T_WHITESPACE","\n    ",111],"}",["T_WHITESPACE","\n\n    ",112],["T_DOC_COMMENT","\/**\n     * Retrieve layout area\n     *\n     * @return string\n     *\/",114],["T_WHITESPACE","\n    ",118],["T_PUBLIC","public",119],["T_WHITESPACE"," ",119],["T_FUNCTION","function",119],["T_WHITESPACE"," ",119],["T_STRING","getArea",119],"(",")",["T_WHITESPACE","\n    ",119],"{",["T_WHITESPACE","\n        ",120],["T_RETURN","return",121],["T_WHITESPACE"," ",121],["T_VARIABLE","$this",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","_area",121],";",["T_WHITESPACE","\n    ",121],"}",["T_WHITESPACE","\n\n    ",122],["T_DOC_COMMENT","\/**\n     * Declaring layout direct output flag\n     *\n     * @param   bool $flag\n     * @return  Mage_Core_Model_Layout\n     *\/",124],["T_WHITESPACE","\n    ",129],["T_PUBLIC","public",130],["T_WHITESPACE"," ",130],["T_FUNCTION","function",130],["T_WHITESPACE"," ",130],["T_STRING","setDirectOutput",130],"(",["T_VARIABLE","$flag",130],")",["T_WHITESPACE","\n    ",130],"{",["T_WHITESPACE","\n        ",131],["T_VARIABLE","$this",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","_directOutput",132],["T_WHITESPACE"," ",132],"=",["T_WHITESPACE"," ",132],["T_VARIABLE","$flag",132],";",["T_WHITESPACE","\n        ",132],["T_RETURN","return",133],["T_WHITESPACE"," ",133],["T_VARIABLE","$this",133],";",["T_WHITESPACE","\n    ",133],"}",["T_WHITESPACE","\n\n    ",134],["T_DOC_COMMENT","\/**\n     * Retrieve derect output flag\n     *\n     * @return bool\n     *\/",136],["T_WHITESPACE","\n    ",140],["T_PUBLIC","public",141],["T_WHITESPACE"," ",141],["T_FUNCTION","function",141],["T_WHITESPACE"," ",141],["T_STRING","getDirectOutput",141],"(",")",["T_WHITESPACE","\n    ",141],"{",["T_WHITESPACE","\n        ",142],["T_RETURN","return",143],["T_WHITESPACE"," ",143],["T_VARIABLE","$this",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","_directOutput",143],";",["T_WHITESPACE","\n    ",143],"}",["T_WHITESPACE","\n\n    ",144],["T_DOC_COMMENT","\/**\n     * Loyout xml generation\n     *\n     * @return Mage_Core_Model_Layout\n     *\/",146],["T_WHITESPACE","\n    ",150],["T_PUBLIC","public",151],["T_WHITESPACE"," ",151],["T_FUNCTION","function",151],["T_WHITESPACE"," ",151],["T_STRING","generateXml",151],"(",")",["T_WHITESPACE","\n    ",151],"{",["T_WHITESPACE","\n        ",152],["T_VARIABLE","$xml",153],["T_WHITESPACE"," ",153],"=",["T_WHITESPACE"," ",153],["T_VARIABLE","$this",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","getUpdate",153],"(",")",["T_OBJECT_OPERATOR","->",153],["T_STRING","asSimplexml",153],"(",")",";",["T_WHITESPACE","\n        ",153],["T_VARIABLE","$removeInstructions",154],["T_WHITESPACE"," ",154],"=",["T_WHITESPACE"," ",154],["T_VARIABLE","$xml",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","xpath",154],"(",["T_CONSTANT_ENCAPSED_STRING","\"\/\/remove\"",154],")",";",["T_WHITESPACE","\n        ",154],["T_IF","if",155],["T_WHITESPACE"," ",155],"(",["T_STRING","is_array",155],"(",["T_VARIABLE","$removeInstructions",155],")",")",["T_WHITESPACE"," ",155],"{",["T_WHITESPACE","\n            ",155],["T_FOREACH","foreach",156],["T_WHITESPACE"," ",156],"(",["T_VARIABLE","$removeInstructions",156],["T_WHITESPACE"," ",156],["T_AS","as",156],["T_WHITESPACE"," ",156],["T_VARIABLE","$infoNode",156],")",["T_WHITESPACE"," ",156],"{",["T_WHITESPACE","\n                ",156],["T_VARIABLE","$attributes",157],["T_WHITESPACE"," ",157],"=",["T_WHITESPACE"," ",157],["T_VARIABLE","$infoNode",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","attributes",157],"(",")",";",["T_WHITESPACE","\n                ",157],["T_VARIABLE","$blockName",158],["T_WHITESPACE"," ",158],"=",["T_WHITESPACE"," ",158],["T_STRING_CAST","(string)",158],["T_VARIABLE","$attributes",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","name",158],";",["T_WHITESPACE","\n                ",158],["T_IF","if",159],["T_WHITESPACE"," ",159],"(",["T_VARIABLE","$blockName",159],")",["T_WHITESPACE"," ",159],"{",["T_WHITESPACE","\n                    ",159],["T_VARIABLE","$ignoreNodes",160],["T_WHITESPACE"," ",160],"=",["T_WHITESPACE"," ",160],["T_VARIABLE","$xml",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","xpath",160],"(",["T_CONSTANT_ENCAPSED_STRING","\"\/\/block[@name='\"",160],".",["T_VARIABLE","$blockName",160],".",["T_CONSTANT_ENCAPSED_STRING","\"']\"",160],")",";",["T_WHITESPACE","\n                    ",160],["T_IF","if",161],["T_WHITESPACE"," ",161],"(","!",["T_STRING","is_array",161],"(",["T_VARIABLE","$ignoreNodes",161],")",")",["T_WHITESPACE"," ",161],"{",["T_WHITESPACE","\n                        ",161],["T_CONTINUE","continue",162],";",["T_WHITESPACE","\n                    ",162],"}",["T_WHITESPACE","\n                    ",163],["T_VARIABLE","$ignoreReferences",164],["T_WHITESPACE"," ",164],"=",["T_WHITESPACE"," ",164],["T_VARIABLE","$xml",164],["T_OBJECT_OPERATOR","->",164],["T_STRING","xpath",164],"(",["T_CONSTANT_ENCAPSED_STRING","\"\/\/reference[@name='\"",164],".",["T_VARIABLE","$blockName",164],".",["T_CONSTANT_ENCAPSED_STRING","\"']\"",164],")",";",["T_WHITESPACE","\n                    ",164],["T_IF","if",165],["T_WHITESPACE"," ",165],"(",["T_STRING","is_array",165],"(",["T_VARIABLE","$ignoreReferences",165],")",")",["T_WHITESPACE"," ",165],"{",["T_WHITESPACE","\n                        ",165],["T_VARIABLE","$ignoreNodes",166],["T_WHITESPACE"," ",166],"=",["T_WHITESPACE"," ",166],["T_STRING","array_merge",166],"(",["T_VARIABLE","$ignoreNodes",166],",",["T_WHITESPACE"," ",166],["T_VARIABLE","$ignoreReferences",166],")",";",["T_WHITESPACE","\n                    ",166],"}",["T_WHITESPACE","\n\n                    ",167],["T_FOREACH","foreach",169],["T_WHITESPACE"," ",169],"(",["T_VARIABLE","$ignoreNodes",169],["T_WHITESPACE"," ",169],["T_AS","as",169],["T_WHITESPACE"," ",169],["T_VARIABLE","$block",169],")",["T_WHITESPACE"," ",169],"{",["T_WHITESPACE","\n                        ",169],["T_IF","if",170],["T_WHITESPACE"," ",170],"(",["T_VARIABLE","$block",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","getAttribute",170],"(",["T_CONSTANT_ENCAPSED_STRING","'ignore'",170],")",["T_WHITESPACE"," ",170],["T_IS_NOT_IDENTICAL","!==",170],["T_WHITESPACE"," ",170],["T_STRING","null",170],")",["T_WHITESPACE"," ",170],"{",["T_WHITESPACE","\n                            ",170],["T_CONTINUE","continue",171],";",["T_WHITESPACE","\n                        ",171],"}",["T_WHITESPACE","\n                        ",172],["T_VARIABLE","$acl",173],["T_WHITESPACE"," ",173],"=",["T_WHITESPACE"," ",173],["T_STRING_CAST","(string)",173],["T_VARIABLE","$attributes",173],["T_OBJECT_OPERATOR","->",173],["T_STRING","acl",173],";",["T_WHITESPACE","\n                        ",173],["T_IF","if",174],["T_WHITESPACE"," ",174],"(",["T_VARIABLE","$acl",174],["T_WHITESPACE"," ",174],["T_BOOLEAN_AND","&&",174],["T_WHITESPACE"," ",174],["T_STRING","Mage",174],["T_DOUBLE_COLON","::",174],["T_STRING","getSingleton",174],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/session'",174],")",["T_OBJECT_OPERATOR","->",174],["T_STRING","isAllowed",174],"(",["T_VARIABLE","$acl",174],")",")",["T_WHITESPACE"," ",174],"{",["T_WHITESPACE","\n                            ",174],["T_CONTINUE","continue",175],";",["T_WHITESPACE","\n                        ",175],"}",["T_WHITESPACE","\n                        ",176],["T_IF","if",177],["T_WHITESPACE"," ",177],"(","!",["T_ISSET","isset",177],"(",["T_VARIABLE","$block",177],["T_OBJECT_OPERATOR","->",177],["T_STRING","attributes",177],"(",")",["T_OBJECT_OPERATOR","->",177],["T_STRING","ignore",177],")",")",["T_WHITESPACE"," ",177],"{",["T_WHITESPACE","\n                            ",177],["T_VARIABLE","$block",178],["T_OBJECT_OPERATOR","->",178],["T_STRING","addAttribute",178],"(",["T_CONSTANT_ENCAPSED_STRING","'ignore'",178],",",["T_WHITESPACE"," ",178],["T_STRING","true",178],")",";",["T_WHITESPACE","\n                        ",178],"}",["T_WHITESPACE","\n                    ",179],"}",["T_WHITESPACE","\n                ",180],"}",["T_WHITESPACE","\n            ",181],"}",["T_WHITESPACE","\n        ",182],"}",["T_WHITESPACE","\n        ",183],["T_VARIABLE","$this",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","setXml",184],"(",["T_VARIABLE","$xml",184],")",";",["T_WHITESPACE","\n        ",184],["T_RETURN","return",185],["T_WHITESPACE"," ",185],["T_VARIABLE","$this",185],";",["T_WHITESPACE","\n    ",185],"}",["T_WHITESPACE","\n\n    ",186],["T_DOC_COMMENT","\/**\n     * Create layout blocks hierarchy from layout xml configuration\n     *\n     * @param Mage_Core_Layout_Element|null $parent\n     *\/",188],["T_WHITESPACE","\n    ",192],["T_PUBLIC","public",193],["T_WHITESPACE"," ",193],["T_FUNCTION","function",193],["T_WHITESPACE"," ",193],["T_STRING","generateBlocks",193],"(",["T_VARIABLE","$parent",193],"=",["T_STRING","null",193],")",["T_WHITESPACE","\n    ",193],"{",["T_WHITESPACE","\n        ",194],["T_IF","if",195],["T_WHITESPACE"," ",195],"(",["T_EMPTY","empty",195],"(",["T_VARIABLE","$parent",195],")",")",["T_WHITESPACE"," ",195],"{",["T_WHITESPACE","\n            ",195],["T_VARIABLE","$parent",196],["T_WHITESPACE"," ",196],"=",["T_WHITESPACE"," ",196],["T_VARIABLE","$this",196],["T_OBJECT_OPERATOR","->",196],["T_STRING","getNode",196],"(",")",";",["T_WHITESPACE","\n        ",196],"}",["T_WHITESPACE","\n        ",197],["T_FOREACH","foreach",198],["T_WHITESPACE"," ",198],"(",["T_VARIABLE","$parent",198],["T_WHITESPACE"," ",198],["T_AS","as",198],["T_WHITESPACE"," ",198],["T_VARIABLE","$node",198],")",["T_WHITESPACE"," ",198],"{",["T_WHITESPACE","\n            ",198],["T_VARIABLE","$attributes",199],["T_WHITESPACE"," ",199],"=",["T_WHITESPACE"," ",199],["T_VARIABLE","$node",199],["T_OBJECT_OPERATOR","->",199],["T_STRING","attributes",199],"(",")",";",["T_WHITESPACE","\n            ",199],["T_IF","if",200],["T_WHITESPACE"," ",200],"(",["T_BOOL_CAST","(bool)",200],["T_VARIABLE","$attributes",200],["T_OBJECT_OPERATOR","->",200],["T_STRING","ignore",200],")",["T_WHITESPACE"," ",200],"{",["T_WHITESPACE","\n                ",200],["T_CONTINUE","continue",201],";",["T_WHITESPACE","\n            ",201],"}",["T_WHITESPACE","\n            ",202],["T_SWITCH","switch",203],["T_WHITESPACE"," ",203],"(",["T_VARIABLE","$node",203],["T_OBJECT_OPERATOR","->",203],["T_STRING","getName",203],"(",")",")",["T_WHITESPACE"," ",203],"{",["T_WHITESPACE","\n                ",203],["T_CASE","case",204],["T_WHITESPACE"," ",204],["T_CONSTANT_ENCAPSED_STRING","'block'",204],":",["T_WHITESPACE","\n                    ",204],["T_VARIABLE","$this",205],["T_OBJECT_OPERATOR","->",205],["T_STRING","_generateBlock",205],"(",["T_VARIABLE","$node",205],",",["T_WHITESPACE"," ",205],["T_VARIABLE","$parent",205],")",";",["T_WHITESPACE","\n                    ",205],["T_VARIABLE","$this",206],["T_OBJECT_OPERATOR","->",206],["T_STRING","generateBlocks",206],"(",["T_VARIABLE","$node",206],")",";",["T_WHITESPACE","\n                    ",206],["T_BREAK","break",207],";",["T_WHITESPACE","\n\n                ",207],["T_CASE","case",209],["T_WHITESPACE"," ",209],["T_CONSTANT_ENCAPSED_STRING","'reference'",209],":",["T_WHITESPACE","\n                    ",209],["T_VARIABLE","$this",210],["T_OBJECT_OPERATOR","->",210],["T_STRING","generateBlocks",210],"(",["T_VARIABLE","$node",210],")",";",["T_WHITESPACE","\n                    ",210],["T_BREAK","break",211],";",["T_WHITESPACE","\n\n                ",211],["T_CASE","case",213],["T_WHITESPACE"," ",213],["T_CONSTANT_ENCAPSED_STRING","'action'",213],":",["T_WHITESPACE","\n                    ",213],["T_VARIABLE","$this",214],["T_OBJECT_OPERATOR","->",214],["T_STRING","_generateAction",214],"(",["T_VARIABLE","$node",214],",",["T_WHITESPACE"," ",214],["T_VARIABLE","$parent",214],")",";",["T_WHITESPACE","\n                    ",214],["T_BREAK","break",215],";",["T_WHITESPACE","\n            ",215],"}",["T_WHITESPACE","\n        ",216],"}",["T_WHITESPACE","\n    ",217],"}",["T_WHITESPACE","\n\n    ",218],["T_DOC_COMMENT","\/**\n     * Add block object to layout based on xml node data\n     *\n     * @param Varien_Simplexml_Element $node\n     * @param Varien_Simplexml_Element $parent\n     * @return Mage_Core_Model_Layout\n     *\/",220],["T_WHITESPACE","\n    ",226],["T_PROTECTED","protected",227],["T_WHITESPACE"," ",227],["T_FUNCTION","function",227],["T_WHITESPACE"," ",227],["T_STRING","_generateBlock",227],"(",["T_VARIABLE","$node",227],",",["T_WHITESPACE"," ",227],["T_VARIABLE","$parent",227],")",["T_WHITESPACE","\n    ",227],"{",["T_WHITESPACE","\n        ",228],["T_IF","if",229],["T_WHITESPACE"," ",229],"(","!",["T_EMPTY","empty",229],"(",["T_VARIABLE","$node",229],"[",["T_CONSTANT_ENCAPSED_STRING","'class'",229],"]",")",")",["T_WHITESPACE"," ",229],"{",["T_WHITESPACE","\n            ",229],["T_VARIABLE","$className",230],["T_WHITESPACE"," ",230],"=",["T_WHITESPACE"," ",230],["T_STRING_CAST","(string)",230],["T_VARIABLE","$node",230],"[",["T_CONSTANT_ENCAPSED_STRING","'class'",230],"]",";",["T_WHITESPACE","\n        ",230],"}",["T_WHITESPACE"," ",231],["T_ELSE","else",231],["T_WHITESPACE"," ",231],"{",["T_WHITESPACE","\n            ",231],["T_VARIABLE","$className",232],["T_WHITESPACE"," ",232],"=",["T_WHITESPACE"," ",232],["T_STRING_CAST","(string)",232],["T_VARIABLE","$node",232],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",232],"]",";",["T_WHITESPACE","\n        ",232],"}",["T_WHITESPACE","\n\n        ",233],["T_VARIABLE","$blockName",235],["T_WHITESPACE"," ",235],"=",["T_WHITESPACE"," ",235],["T_STRING_CAST","(string)",235],["T_VARIABLE","$node",235],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",235],"]",";",["T_WHITESPACE","\n        ",235],["T_VARIABLE","$_profilerKey",236],["T_WHITESPACE"," ",236],"=",["T_WHITESPACE"," ",236],["T_CONSTANT_ENCAPSED_STRING","'BLOCK: '",236],".",["T_VARIABLE","$blockName",236],";",["T_WHITESPACE","\n        ",236],["T_STRING","Varien_Profiler",237],["T_DOUBLE_COLON","::",237],["T_STRING","start",237],"(",["T_VARIABLE","$_profilerKey",237],")",";",["T_WHITESPACE","\n\n        ",237],["T_VARIABLE","$block",239],["T_WHITESPACE"," ",239],"=",["T_WHITESPACE"," ",239],["T_VARIABLE","$this",239],["T_OBJECT_OPERATOR","->",239],["T_STRING","addBlock",239],"(",["T_VARIABLE","$className",239],",",["T_WHITESPACE"," ",239],["T_VARIABLE","$blockName",239],")",";",["T_WHITESPACE","\n        ",239],["T_IF","if",240],["T_WHITESPACE"," ",240],"(","!",["T_VARIABLE","$block",240],")",["T_WHITESPACE"," ",240],"{",["T_WHITESPACE","\n            ",240],["T_RETURN","return",241],["T_WHITESPACE"," ",241],["T_VARIABLE","$this",241],";",["T_WHITESPACE","\n        ",241],"}",["T_WHITESPACE","\n\n        ",242],["T_IF","if",244],["T_WHITESPACE"," ",244],"(","!",["T_EMPTY","empty",244],"(",["T_VARIABLE","$node",244],"[",["T_CONSTANT_ENCAPSED_STRING","'parent'",244],"]",")",")",["T_WHITESPACE"," ",244],"{",["T_WHITESPACE","\n            ",244],["T_VARIABLE","$parentBlock",245],["T_WHITESPACE"," ",245],"=",["T_WHITESPACE"," ",245],["T_VARIABLE","$this",245],["T_OBJECT_OPERATOR","->",245],["T_STRING","getBlock",245],"(",["T_STRING_CAST","(string)",245],["T_VARIABLE","$node",245],"[",["T_CONSTANT_ENCAPSED_STRING","'parent'",245],"]",")",";",["T_WHITESPACE","\n        ",245],"}",["T_WHITESPACE"," ",246],["T_ELSE","else",246],["T_WHITESPACE"," ",246],"{",["T_WHITESPACE","\n            ",246],["T_VARIABLE","$parentName",247],["T_WHITESPACE"," ",247],"=",["T_WHITESPACE"," ",247],["T_VARIABLE","$parent",247],["T_OBJECT_OPERATOR","->",247],["T_STRING","getBlockName",247],"(",")",";",["T_WHITESPACE","\n            ",247],["T_IF","if",248],["T_WHITESPACE"," ",248],"(","!",["T_EMPTY","empty",248],"(",["T_VARIABLE","$parentName",248],")",")",["T_WHITESPACE"," ",248],"{",["T_WHITESPACE","\n                ",248],["T_VARIABLE","$parentBlock",249],["T_WHITESPACE"," ",249],"=",["T_WHITESPACE"," ",249],["T_VARIABLE","$this",249],["T_OBJECT_OPERATOR","->",249],["T_STRING","getBlock",249],"(",["T_VARIABLE","$parentName",249],")",";",["T_WHITESPACE","\n            ",249],"}",["T_WHITESPACE","\n        ",250],"}",["T_WHITESPACE","\n        ",251],["T_IF","if",252],["T_WHITESPACE"," ",252],"(","!",["T_EMPTY","empty",252],"(",["T_VARIABLE","$parentBlock",252],")",")",["T_WHITESPACE"," ",252],"{",["T_WHITESPACE","\n            ",252],["T_VARIABLE","$alias",253],["T_WHITESPACE"," ",253],"=",["T_WHITESPACE"," ",253],["T_ISSET","isset",253],"(",["T_VARIABLE","$node",253],"[",["T_CONSTANT_ENCAPSED_STRING","'as'",253],"]",")",["T_WHITESPACE"," ",253],"?",["T_WHITESPACE"," ",253],["T_STRING_CAST","(string)",253],["T_VARIABLE","$node",253],"[",["T_CONSTANT_ENCAPSED_STRING","'as'",253],"]",["T_WHITESPACE"," ",253],":",["T_WHITESPACE"," ",253],["T_CONSTANT_ENCAPSED_STRING","''",253],";",["T_WHITESPACE","\n            ",253],["T_IF","if",254],["T_WHITESPACE"," ",254],"(",["T_ISSET","isset",254],"(",["T_VARIABLE","$node",254],"[",["T_CONSTANT_ENCAPSED_STRING","'before'",254],"]",")",")",["T_WHITESPACE"," ",254],"{",["T_WHITESPACE","\n                ",254],["T_VARIABLE","$sibling",255],["T_WHITESPACE"," ",255],"=",["T_WHITESPACE"," ",255],["T_STRING_CAST","(string)",255],["T_VARIABLE","$node",255],"[",["T_CONSTANT_ENCAPSED_STRING","'before'",255],"]",";",["T_WHITESPACE","\n                ",255],["T_IF","if",256],["T_WHITESPACE"," ",256],"(",["T_CONSTANT_ENCAPSED_STRING","'-'",256],["T_IS_IDENTICAL","===",256],["T_VARIABLE","$sibling",256],")",["T_WHITESPACE"," ",256],"{",["T_WHITESPACE","\n                    ",256],["T_VARIABLE","$sibling",257],["T_WHITESPACE"," ",257],"=",["T_WHITESPACE"," ",257],["T_CONSTANT_ENCAPSED_STRING","''",257],";",["T_WHITESPACE","\n                ",257],"}",["T_WHITESPACE","\n                ",258],["T_VARIABLE","$parentBlock",259],["T_OBJECT_OPERATOR","->",259],["T_STRING","insert",259],"(",["T_VARIABLE","$block",259],",",["T_WHITESPACE"," ",259],["T_VARIABLE","$sibling",259],",",["T_WHITESPACE"," ",259],["T_STRING","false",259],",",["T_WHITESPACE"," ",259],["T_VARIABLE","$alias",259],")",";",["T_WHITESPACE","\n            ",259],"}",["T_WHITESPACE"," ",260],["T_ELSEIF","elseif",260],["T_WHITESPACE"," ",260],"(",["T_ISSET","isset",260],"(",["T_VARIABLE","$node",260],"[",["T_CONSTANT_ENCAPSED_STRING","'after'",260],"]",")",")",["T_WHITESPACE"," ",260],"{",["T_WHITESPACE","\n                ",260],["T_VARIABLE","$sibling",261],["T_WHITESPACE"," ",261],"=",["T_WHITESPACE"," ",261],["T_STRING_CAST","(string)",261],["T_VARIABLE","$node",261],"[",["T_CONSTANT_ENCAPSED_STRING","'after'",261],"]",";",["T_WHITESPACE","\n                ",261],["T_IF","if",262],["T_WHITESPACE"," ",262],"(",["T_CONSTANT_ENCAPSED_STRING","'-'",262],["T_IS_IDENTICAL","===",262],["T_VARIABLE","$sibling",262],")",["T_WHITESPACE"," ",262],"{",["T_WHITESPACE","\n                    ",262],["T_VARIABLE","$sibling",263],["T_WHITESPACE"," ",263],"=",["T_WHITESPACE"," ",263],["T_CONSTANT_ENCAPSED_STRING","''",263],";",["T_WHITESPACE","\n                ",263],"}",["T_WHITESPACE","\n                ",264],["T_VARIABLE","$parentBlock",265],["T_OBJECT_OPERATOR","->",265],["T_STRING","insert",265],"(",["T_VARIABLE","$block",265],",",["T_WHITESPACE"," ",265],["T_VARIABLE","$sibling",265],",",["T_WHITESPACE"," ",265],["T_STRING","true",265],",",["T_WHITESPACE"," ",265],["T_VARIABLE","$alias",265],")",";",["T_WHITESPACE","\n            ",265],"}",["T_WHITESPACE"," ",266],["T_ELSE","else",266],["T_WHITESPACE"," ",266],"{",["T_WHITESPACE","\n                ",266],["T_VARIABLE","$parentBlock",267],["T_OBJECT_OPERATOR","->",267],["T_STRING","append",267],"(",["T_VARIABLE","$block",267],",",["T_WHITESPACE"," ",267],["T_VARIABLE","$alias",267],")",";",["T_WHITESPACE","\n            ",267],"}",["T_WHITESPACE","\n        ",268],"}",["T_WHITESPACE","\n        ",269],["T_IF","if",270],["T_WHITESPACE"," ",270],"(","!",["T_EMPTY","empty",270],"(",["T_VARIABLE","$node",270],"[",["T_CONSTANT_ENCAPSED_STRING","'template'",270],"]",")",")",["T_WHITESPACE"," ",270],"{",["T_WHITESPACE","\n            ",270],["T_VARIABLE","$block",271],["T_OBJECT_OPERATOR","->",271],["T_STRING","setTemplate",271],"(",["T_STRING_CAST","(string)",271],["T_VARIABLE","$node",271],"[",["T_CONSTANT_ENCAPSED_STRING","'template'",271],"]",")",";",["T_WHITESPACE","\n        ",271],"}",["T_WHITESPACE","\n\n        ",272],["T_IF","if",274],["T_WHITESPACE"," ",274],"(","!",["T_EMPTY","empty",274],"(",["T_VARIABLE","$node",274],"[",["T_CONSTANT_ENCAPSED_STRING","'output'",274],"]",")",")",["T_WHITESPACE"," ",274],"{",["T_WHITESPACE","\n            ",274],["T_VARIABLE","$method",275],["T_WHITESPACE"," ",275],"=",["T_WHITESPACE"," ",275],["T_STRING_CAST","(string)",275],["T_VARIABLE","$node",275],"[",["T_CONSTANT_ENCAPSED_STRING","'output'",275],"]",";",["T_WHITESPACE","\n            ",275],["T_VARIABLE","$this",276],["T_OBJECT_OPERATOR","->",276],["T_STRING","addOutputBlock",276],"(",["T_VARIABLE","$blockName",276],",",["T_WHITESPACE"," ",276],["T_VARIABLE","$method",276],")",";",["T_WHITESPACE","\n        ",276],"}",["T_WHITESPACE","\n        ",277],["T_STRING","Varien_Profiler",278],["T_DOUBLE_COLON","::",278],["T_STRING","stop",278],"(",["T_VARIABLE","$_profilerKey",278],")",";",["T_WHITESPACE","\n\n        ",278],["T_RETURN","return",280],["T_WHITESPACE"," ",280],["T_VARIABLE","$this",280],";",["T_WHITESPACE","\n    ",280],"}",["T_WHITESPACE","\n\n    ",281],["T_DOC_COMMENT","\/**\n     * Enter description here...\n     *\n     * @param Varien_Simplexml_Element $node\n     * @param Varien_Simplexml_Element $parent\n     * @return Mage_Core_Model_Layout\n     *\/",283],["T_WHITESPACE","\n    ",289],["T_PROTECTED","protected",290],["T_WHITESPACE"," ",290],["T_FUNCTION","function",290],["T_WHITESPACE"," ",290],["T_STRING","_generateAction",290],"(",["T_VARIABLE","$node",290],",",["T_WHITESPACE"," ",290],["T_VARIABLE","$parent",290],")",["T_WHITESPACE","\n    ",290],"{",["T_WHITESPACE","\n        ",291],["T_IF","if",292],["T_WHITESPACE"," ",292],"(",["T_ISSET","isset",292],"(",["T_VARIABLE","$node",292],"[",["T_CONSTANT_ENCAPSED_STRING","'ifconfig'",292],"]",")",["T_WHITESPACE"," ",292],["T_BOOLEAN_AND","&&",292],["T_WHITESPACE"," ",292],"(",["T_VARIABLE","$configPath",292],["T_WHITESPACE"," ",292],"=",["T_WHITESPACE"," ",292],["T_STRING_CAST","(string)",292],["T_VARIABLE","$node",292],"[",["T_CONSTANT_ENCAPSED_STRING","'ifconfig'",292],"]",")",")",["T_WHITESPACE"," ",292],"{",["T_WHITESPACE","\n            ",292],["T_IF","if",293],["T_WHITESPACE"," ",293],"(","!",["T_STRING","Mage",293],["T_DOUBLE_COLON","::",293],["T_STRING","getStoreConfigFlag",293],"(",["T_VARIABLE","$configPath",293],")",")",["T_WHITESPACE"," ",293],"{",["T_WHITESPACE","\n                ",293],["T_RETURN","return",294],["T_WHITESPACE"," ",294],["T_VARIABLE","$this",294],";",["T_WHITESPACE","\n            ",294],"}",["T_WHITESPACE","\n        ",295],"}",["T_WHITESPACE","\n\n        ",296],["T_VARIABLE","$method",298],["T_WHITESPACE"," ",298],"=",["T_WHITESPACE"," ",298],["T_STRING_CAST","(string)",298],["T_VARIABLE","$node",298],"[",["T_CONSTANT_ENCAPSED_STRING","'method'",298],"]",";",["T_WHITESPACE","\n        ",298],["T_IF","if",299],["T_WHITESPACE"," ",299],"(","!",["T_EMPTY","empty",299],"(",["T_VARIABLE","$node",299],"[",["T_CONSTANT_ENCAPSED_STRING","'block'",299],"]",")",")",["T_WHITESPACE"," ",299],"{",["T_WHITESPACE","\n            ",299],["T_VARIABLE","$parentName",300],["T_WHITESPACE"," ",300],"=",["T_WHITESPACE"," ",300],["T_STRING_CAST","(string)",300],["T_VARIABLE","$node",300],"[",["T_CONSTANT_ENCAPSED_STRING","'block'",300],"]",";",["T_WHITESPACE","\n        ",300],"}",["T_WHITESPACE"," ",301],["T_ELSE","else",301],["T_WHITESPACE"," ",301],"{",["T_WHITESPACE","\n            ",301],["T_VARIABLE","$parentName",302],["T_WHITESPACE"," ",302],"=",["T_WHITESPACE"," ",302],["T_VARIABLE","$parent",302],["T_OBJECT_OPERATOR","->",302],["T_STRING","getBlockName",302],"(",")",";",["T_WHITESPACE","\n        ",302],"}",["T_WHITESPACE","\n\n        ",303],["T_VARIABLE","$_profilerKey",305],["T_WHITESPACE"," ",305],"=",["T_WHITESPACE"," ",305],["T_CONSTANT_ENCAPSED_STRING","'BLOCK ACTION: '",305],".",["T_VARIABLE","$parentName",305],".",["T_CONSTANT_ENCAPSED_STRING","' -> '",305],".",["T_VARIABLE","$method",305],";",["T_WHITESPACE","\n        ",305],["T_STRING","Varien_Profiler",306],["T_DOUBLE_COLON","::",306],["T_STRING","start",306],"(",["T_VARIABLE","$_profilerKey",306],")",";",["T_WHITESPACE","\n\n        ",306],["T_IF","if",308],["T_WHITESPACE"," ",308],"(","!",["T_EMPTY","empty",308],"(",["T_VARIABLE","$parentName",308],")",")",["T_WHITESPACE"," ",308],"{",["T_WHITESPACE","\n            ",308],["T_VARIABLE","$block",309],["T_WHITESPACE"," ",309],"=",["T_WHITESPACE"," ",309],["T_VARIABLE","$this",309],["T_OBJECT_OPERATOR","->",309],["T_STRING","getBlock",309],"(",["T_VARIABLE","$parentName",309],")",";",["T_WHITESPACE","\n        ",309],"}",["T_WHITESPACE","\n        ",310],["T_IF","if",311],["T_WHITESPACE"," ",311],"(","!",["T_EMPTY","empty",311],"(",["T_VARIABLE","$block",311],")",")",["T_WHITESPACE"," ",311],"{",["T_WHITESPACE","\n\n            ",311],["T_VARIABLE","$args",313],["T_WHITESPACE"," ",313],"=",["T_WHITESPACE"," ",313],["T_ARRAY_CAST","(array)",313],["T_VARIABLE","$node",313],["T_OBJECT_OPERATOR","->",313],["T_STRING","children",313],"(",")",";",["T_WHITESPACE","\n            ",313],["T_UNSET","unset",314],"(",["T_VARIABLE","$args",314],"[",["T_CONSTANT_ENCAPSED_STRING","'@attributes'",314],"]",")",";",["T_WHITESPACE","\n\n            ",314],["T_FOREACH","foreach",316],["T_WHITESPACE"," ",316],"(",["T_VARIABLE","$args",316],["T_WHITESPACE"," ",316],["T_AS","as",316],["T_WHITESPACE"," ",316],["T_VARIABLE","$key",316],["T_WHITESPACE"," ",316],["T_DOUBLE_ARROW","=>",316],["T_WHITESPACE"," ",316],["T_VARIABLE","$arg",316],")",["T_WHITESPACE"," ",316],"{",["T_WHITESPACE","\n                ",316],["T_IF","if",317],["T_WHITESPACE"," ",317],"(","(",["T_VARIABLE","$arg",317],["T_WHITESPACE"," ",317],["T_INSTANCEOF","instanceof",317],["T_WHITESPACE"," ",317],["T_STRING","Mage_Core_Model_Layout_Element",317],")",")",["T_WHITESPACE"," ",317],"{",["T_WHITESPACE","\n                    ",317],["T_IF","if",318],["T_WHITESPACE"," ",318],"(",["T_ISSET","isset",318],"(",["T_VARIABLE","$arg",318],"[",["T_CONSTANT_ENCAPSED_STRING","'helper'",318],"]",")",")",["T_WHITESPACE"," ",318],"{",["T_WHITESPACE","\n                        ",318],["T_VARIABLE","$helperName",319],["T_WHITESPACE"," ",319],"=",["T_WHITESPACE"," ",319],["T_STRING","explode",319],"(",["T_CONSTANT_ENCAPSED_STRING","'\/'",319],",",["T_WHITESPACE"," ",319],["T_STRING_CAST","(string)",319],["T_VARIABLE","$arg",319],"[",["T_CONSTANT_ENCAPSED_STRING","'helper'",319],"]",")",";",["T_WHITESPACE","\n                        ",319],["T_VARIABLE","$helperMethod",320],["T_WHITESPACE"," ",320],"=",["T_WHITESPACE"," ",320],["T_STRING","array_pop",320],"(",["T_VARIABLE","$helperName",320],")",";",["T_WHITESPACE","\n                        ",320],["T_VARIABLE","$helperName",321],["T_WHITESPACE"," ",321],"=",["T_WHITESPACE"," ",321],["T_STRING","implode",321],"(",["T_CONSTANT_ENCAPSED_STRING","'\/'",321],",",["T_WHITESPACE"," ",321],["T_VARIABLE","$helperName",321],")",";",["T_WHITESPACE","\n                        ",321],["T_VARIABLE","$arg",322],["T_WHITESPACE"," ",322],"=",["T_WHITESPACE"," ",322],["T_VARIABLE","$arg",322],["T_OBJECT_OPERATOR","->",322],["T_STRING","asArray",322],"(",")",";",["T_WHITESPACE","\n                        ",322],["T_UNSET","unset",323],"(",["T_VARIABLE","$arg",323],"[",["T_CONSTANT_ENCAPSED_STRING","'@'",323],"]",")",";",["T_WHITESPACE","\n                        ",323],["T_VARIABLE","$args",324],"[",["T_VARIABLE","$key",324],"]",["T_WHITESPACE"," ",324],"=",["T_WHITESPACE"," ",324],["T_STRING","call_user_func_array",324],"(",["T_ARRAY","array",324],"(",["T_STRING","Mage",324],["T_DOUBLE_COLON","::",324],["T_STRING","helper",324],"(",["T_VARIABLE","$helperName",324],")",",",["T_WHITESPACE"," ",324],["T_VARIABLE","$helperMethod",324],")",",",["T_WHITESPACE"," ",324],["T_VARIABLE","$arg",324],")",";",["T_WHITESPACE","\n                    ",324],"}",["T_WHITESPACE"," ",325],["T_ELSE","else",325],["T_WHITESPACE"," ",325],"{",["T_WHITESPACE","\n                        ",325],["T_DOC_COMMENT","\/**\n                         * if there is no helper we hope that this is assoc array\n                         *\/",326],["T_WHITESPACE","\n                        ",328],["T_VARIABLE","$arr",329],["T_WHITESPACE"," ",329],"=",["T_WHITESPACE"," ",329],["T_ARRAY","array",329],"(",")",";",["T_WHITESPACE","\n                        ",329],["T_FOREACH","foreach",330],"(",["T_VARIABLE","$arg",330],["T_WHITESPACE"," ",330],["T_AS","as",330],["T_WHITESPACE"," ",330],["T_VARIABLE","$subkey",330],["T_WHITESPACE"," ",330],["T_DOUBLE_ARROW","=>",330],["T_WHITESPACE"," ",330],["T_VARIABLE","$value",330],")",["T_WHITESPACE"," ",330],"{",["T_WHITESPACE","\n                            ",330],["T_VARIABLE","$arr",331],"[",["T_STRING_CAST","(string)",331],["T_VARIABLE","$subkey",331],"]",["T_WHITESPACE"," ",331],"=",["T_WHITESPACE"," ",331],["T_VARIABLE","$value",331],["T_OBJECT_OPERATOR","->",331],["T_STRING","asArray",331],"(",")",";",["T_WHITESPACE","\n                        ",331],"}",["T_WHITESPACE","\n                        ",332],["T_IF","if",333],["T_WHITESPACE"," ",333],"(","!",["T_EMPTY","empty",333],"(",["T_VARIABLE","$arr",333],")",")",["T_WHITESPACE"," ",333],"{",["T_WHITESPACE","\n                            ",333],["T_VARIABLE","$args",334],"[",["T_VARIABLE","$key",334],"]",["T_WHITESPACE"," ",334],"=",["T_WHITESPACE"," ",334],["T_VARIABLE","$arr",334],";",["T_WHITESPACE","\n                        ",334],"}",["T_WHITESPACE","\n                    ",335],"}",["T_WHITESPACE","\n                ",336],"}",["T_WHITESPACE","\n            ",337],"}",["T_WHITESPACE","\n\n            ",338],["T_IF","if",340],["T_WHITESPACE"," ",340],"(",["T_ISSET","isset",340],"(",["T_VARIABLE","$node",340],"[",["T_CONSTANT_ENCAPSED_STRING","'json'",340],"]",")",")",["T_WHITESPACE"," ",340],"{",["T_WHITESPACE","\n                ",340],["T_VARIABLE","$json",341],["T_WHITESPACE"," ",341],"=",["T_WHITESPACE"," ",341],["T_STRING","explode",341],"(",["T_CONSTANT_ENCAPSED_STRING","' '",341],",",["T_WHITESPACE"," ",341],["T_STRING_CAST","(string)",341],["T_VARIABLE","$node",341],"[",["T_CONSTANT_ENCAPSED_STRING","'json'",341],"]",")",";",["T_WHITESPACE","\n                ",341],["T_FOREACH","foreach",342],["T_WHITESPACE"," ",342],"(",["T_VARIABLE","$json",342],["T_WHITESPACE"," ",342],["T_AS","as",342],["T_WHITESPACE"," ",342],["T_VARIABLE","$arg",342],")",["T_WHITESPACE"," ",342],"{",["T_WHITESPACE","\n                    ",342],["T_VARIABLE","$args",343],"[",["T_VARIABLE","$arg",343],"]",["T_WHITESPACE"," ",343],"=",["T_WHITESPACE"," ",343],["T_STRING","Mage",343],["T_DOUBLE_COLON","::",343],["T_STRING","helper",343],"(",["T_CONSTANT_ENCAPSED_STRING","'core'",343],")",["T_OBJECT_OPERATOR","->",343],["T_STRING","jsonDecode",343],"(",["T_VARIABLE","$args",343],"[",["T_VARIABLE","$arg",343],"]",")",";",["T_WHITESPACE","\n                ",343],"}",["T_WHITESPACE","\n            ",344],"}",["T_WHITESPACE","\n\n            ",345],["T_VARIABLE","$this",347],["T_OBJECT_OPERATOR","->",347],["T_STRING","_translateLayoutNode",347],"(",["T_VARIABLE","$node",347],",",["T_WHITESPACE"," ",347],["T_VARIABLE","$args",347],")",";",["T_WHITESPACE","\n            ",347],["T_STRING","call_user_func_array",348],"(",["T_ARRAY","array",348],"(",["T_VARIABLE","$block",348],",",["T_WHITESPACE"," ",348],["T_VARIABLE","$method",348],")",",",["T_WHITESPACE"," ",348],["T_VARIABLE","$args",348],")",";",["T_WHITESPACE","\n        ",348],"}",["T_WHITESPACE","\n\n        ",349],["T_STRING","Varien_Profiler",351],["T_DOUBLE_COLON","::",351],["T_STRING","stop",351],"(",["T_VARIABLE","$_profilerKey",351],")",";",["T_WHITESPACE","\n\n        ",351],["T_RETURN","return",353],["T_WHITESPACE"," ",353],["T_VARIABLE","$this",353],";",["T_WHITESPACE","\n    ",353],"}",["T_WHITESPACE","\n\n    ",354],["T_DOC_COMMENT","\/**\n     * Translate layout node\n     *\n     * @param Varien_Simplexml_Element $node\n     * @param array $args\n     **\/",356],["T_WHITESPACE","\n    ",361],["T_PROTECTED","protected",362],["T_WHITESPACE"," ",362],["T_FUNCTION","function",362],["T_WHITESPACE"," ",362],["T_STRING","_translateLayoutNode",362],"(",["T_VARIABLE","$node",362],",",["T_WHITESPACE"," ",362],"&",["T_VARIABLE","$args",362],")",["T_WHITESPACE","\n    ",362],"{",["T_WHITESPACE","\n        ",363],["T_IF","if",364],["T_WHITESPACE"," ",364],"(",["T_ISSET","isset",364],"(",["T_VARIABLE","$node",364],"[",["T_CONSTANT_ENCAPSED_STRING","'translate'",364],"]",")",")",["T_WHITESPACE"," ",364],"{",["T_WHITESPACE","\n            ",364],["T_COMMENT","\/\/ Translate value by core module if module attribute was not set\n",365],["T_WHITESPACE","            ",366],["T_VARIABLE","$moduleName",366],["T_WHITESPACE"," ",366],"=",["T_WHITESPACE"," ",366],"(",["T_ISSET","isset",366],"(",["T_VARIABLE","$node",366],"[",["T_CONSTANT_ENCAPSED_STRING","'module'",366],"]",")",")",["T_WHITESPACE"," ",366],"?",["T_WHITESPACE"," ",366],["T_STRING_CAST","(string)",366],["T_VARIABLE","$node",366],"[",["T_CONSTANT_ENCAPSED_STRING","'module'",366],"]",["T_WHITESPACE"," ",366],":",["T_WHITESPACE"," ",366],["T_CONSTANT_ENCAPSED_STRING","'core'",366],";",["T_WHITESPACE","\n\n            ",366],["T_COMMENT","\/\/ Handle translations in arrays if needed\n",368],["T_WHITESPACE","            ",369],["T_VARIABLE","$translatableArguments",369],["T_WHITESPACE"," ",369],"=",["T_WHITESPACE"," ",369],["T_STRING","explode",369],"(",["T_CONSTANT_ENCAPSED_STRING","' '",369],",",["T_WHITESPACE"," ",369],["T_STRING_CAST","(string)",369],["T_VARIABLE","$node",369],"[",["T_CONSTANT_ENCAPSED_STRING","'translate'",369],"]",")",";",["T_WHITESPACE","\n            ",369],["T_FOREACH","foreach",370],["T_WHITESPACE"," ",370],"(",["T_VARIABLE","$translatableArguments",370],["T_WHITESPACE"," ",370],["T_AS","as",370],["T_WHITESPACE"," ",370],["T_VARIABLE","$translatableArgumentName",370],")",["T_WHITESPACE"," ",370],"{",["T_WHITESPACE","\n                ",370],["T_COMMENT","\/*\n                 * .(dot) character is used as a path separator in nodes hierarchy\n                 * e.g. info.title means that Magento needs to translate value of <title> node\n                 * that is a child of <info> node\n                 *\/",371],["T_WHITESPACE","\n                ",375],["T_COMMENT","\/\/ @var $argumentHierarhy array - path to translatable item in $args array\n",376],["T_WHITESPACE","                ",377],["T_VARIABLE","$argumentHierarchy",377],["T_WHITESPACE"," ",377],"=",["T_WHITESPACE"," ",377],["T_STRING","explode",377],"(",["T_CONSTANT_ENCAPSED_STRING","'.'",377],",",["T_WHITESPACE"," ",377],["T_VARIABLE","$translatableArgumentName",377],")",";",["T_WHITESPACE","\n                ",377],["T_VARIABLE","$argumentStack",378],["T_WHITESPACE"," ",378],"=",["T_WHITESPACE"," ",378],"&",["T_VARIABLE","$args",378],";",["T_WHITESPACE","\n                ",378],["T_VARIABLE","$canTranslate",379],["T_WHITESPACE"," ",379],"=",["T_WHITESPACE"," ",379],["T_STRING","true",379],";",["T_WHITESPACE","\n                ",379],["T_WHILE","while",380],["T_WHITESPACE"," ",380],"(",["T_STRING","is_array",380],"(",["T_VARIABLE","$argumentStack",380],")",["T_WHITESPACE"," ",380],["T_BOOLEAN_AND","&&",380],["T_WHITESPACE"," ",380],["T_STRING","count",380],"(",["T_VARIABLE","$argumentStack",380],")",["T_WHITESPACE"," ",380],">",["T_WHITESPACE"," ",380],["T_LNUMBER","0",380],")",["T_WHITESPACE"," ",380],"{",["T_WHITESPACE","\n                    ",380],["T_VARIABLE","$argumentName",381],["T_WHITESPACE"," ",381],"=",["T_WHITESPACE"," ",381],["T_STRING","array_shift",381],"(",["T_VARIABLE","$argumentHierarchy",381],")",";",["T_WHITESPACE","\n                    ",381],["T_IF","if",382],["T_WHITESPACE"," ",382],"(",["T_ISSET","isset",382],"(",["T_VARIABLE","$argumentStack",382],"[",["T_VARIABLE","$argumentName",382],"]",")",")",["T_WHITESPACE"," ",382],"{",["T_WHITESPACE","\n                        ",382],["T_COMMENT","\/*\n                         * Move to the next element in arguments hieracrhy\n                         * in order to find target translatable argument\n                         *\/",383],["T_WHITESPACE","\n                        ",386],["T_VARIABLE","$argumentStack",387],["T_WHITESPACE"," ",387],"=",["T_WHITESPACE"," ",387],"&",["T_VARIABLE","$argumentStack",387],"[",["T_VARIABLE","$argumentName",387],"]",";",["T_WHITESPACE","\n                    ",387],"}",["T_WHITESPACE"," ",388],["T_ELSE","else",388],["T_WHITESPACE"," ",388],"{",["T_WHITESPACE","\n                        ",388],["T_COMMENT","\/\/ Target argument cannot be found\n",389],["T_WHITESPACE","                        ",390],["T_VARIABLE","$canTranslate",390],["T_WHITESPACE"," ",390],"=",["T_WHITESPACE"," ",390],["T_STRING","false",390],";",["T_WHITESPACE","\n                        ",390],["T_BREAK","break",391],";",["T_WHITESPACE","\n                    ",391],"}",["T_WHITESPACE","\n                ",392],"}",["T_WHITESPACE","\n                ",393],["T_IF","if",394],["T_WHITESPACE"," ",394],"(",["T_VARIABLE","$canTranslate",394],["T_WHITESPACE"," ",394],["T_BOOLEAN_AND","&&",394],["T_WHITESPACE"," ",394],["T_STRING","is_string",394],"(",["T_VARIABLE","$argumentStack",394],")",")",["T_WHITESPACE"," ",394],"{",["T_WHITESPACE","\n                    ",394],["T_COMMENT","\/\/ $argumentStack is now a reference to target translatable argument so it can be translated\n",395],["T_WHITESPACE","                    ",396],["T_VARIABLE","$argumentStack",396],["T_WHITESPACE"," ",396],"=",["T_WHITESPACE"," ",396],["T_STRING","Mage",396],["T_DOUBLE_COLON","::",396],["T_STRING","helper",396],"(",["T_VARIABLE","$moduleName",396],")",["T_OBJECT_OPERATOR","->",396],["T_STRING","__",396],"(",["T_VARIABLE","$argumentStack",396],")",";",["T_WHITESPACE","\n                ",396],"}",["T_WHITESPACE","\n            ",397],"}",["T_WHITESPACE","\n        ",398],"}",["T_WHITESPACE","\n    ",399],"}",["T_WHITESPACE","\n\n    ",400],["T_DOC_COMMENT","\/**\n     * Save block in blocks registry\n     *\n     * @param string $name\n     * @param Mage_Core_Model_Layout $block\n     *\/",402],["T_WHITESPACE","\n    ",407],["T_PUBLIC","public",408],["T_WHITESPACE"," ",408],["T_FUNCTION","function",408],["T_WHITESPACE"," ",408],["T_STRING","setBlock",408],"(",["T_VARIABLE","$name",408],",",["T_WHITESPACE"," ",408],["T_VARIABLE","$block",408],")",["T_WHITESPACE","\n    ",408],"{",["T_WHITESPACE","\n        ",409],["T_VARIABLE","$this",410],["T_OBJECT_OPERATOR","->",410],["T_STRING","_blocks",410],"[",["T_VARIABLE","$name",410],"]",["T_WHITESPACE"," ",410],"=",["T_WHITESPACE"," ",410],["T_VARIABLE","$block",410],";",["T_WHITESPACE","\n        ",410],["T_RETURN","return",411],["T_WHITESPACE"," ",411],["T_VARIABLE","$this",411],";",["T_WHITESPACE","\n    ",411],"}",["T_WHITESPACE","\n\n    ",412],["T_DOC_COMMENT","\/**\n     * Remove block from registry\n     *\n     * @param string $name\n     *\/",414],["T_WHITESPACE","\n    ",418],["T_PUBLIC","public",419],["T_WHITESPACE"," ",419],["T_FUNCTION","function",419],["T_WHITESPACE"," ",419],["T_STRING","unsetBlock",419],"(",["T_VARIABLE","$name",419],")",["T_WHITESPACE","\n    ",419],"{",["T_WHITESPACE","\n        ",420],["T_VARIABLE","$this",421],["T_OBJECT_OPERATOR","->",421],["T_STRING","_blocks",421],"[",["T_VARIABLE","$name",421],"]",["T_WHITESPACE"," ",421],"=",["T_WHITESPACE"," ",421],["T_STRING","null",421],";",["T_WHITESPACE","\n        ",421],["T_UNSET","unset",422],"(",["T_VARIABLE","$this",422],["T_OBJECT_OPERATOR","->",422],["T_STRING","_blocks",422],"[",["T_VARIABLE","$name",422],"]",")",";",["T_WHITESPACE","\n        ",422],["T_RETURN","return",423],["T_WHITESPACE"," ",423],["T_VARIABLE","$this",423],";",["T_WHITESPACE","\n    ",423],"}",["T_WHITESPACE","\n\n    ",424],["T_DOC_COMMENT","\/**\n     * Block Factory\n     *\n     * @param     string $type\n     * @param     string $name\n     * @param     array $attributes\n     * @return    Mage_Core_Block_Abstract\n     *\/",426],["T_WHITESPACE","\n    ",433],["T_PUBLIC","public",434],["T_WHITESPACE"," ",434],["T_FUNCTION","function",434],["T_WHITESPACE"," ",434],["T_STRING","createBlock",434],"(",["T_VARIABLE","$type",434],",",["T_WHITESPACE"," ",434],["T_VARIABLE","$name",434],"=",["T_CONSTANT_ENCAPSED_STRING","''",434],",",["T_WHITESPACE"," ",434],["T_ARRAY","array",434],["T_WHITESPACE"," ",434],["T_VARIABLE","$attributes",434],["T_WHITESPACE"," ",434],"=",["T_WHITESPACE"," ",434],["T_ARRAY","array",434],"(",")",")",["T_WHITESPACE","\n    ",434],"{",["T_WHITESPACE","\n        ",435],["T_TRY","try",436],["T_WHITESPACE"," ",436],"{",["T_WHITESPACE","\n            ",436],["T_VARIABLE","$block",437],["T_WHITESPACE"," ",437],"=",["T_WHITESPACE"," ",437],["T_VARIABLE","$this",437],["T_OBJECT_OPERATOR","->",437],["T_STRING","_getBlockInstance",437],"(",["T_VARIABLE","$type",437],",",["T_WHITESPACE"," ",437],["T_VARIABLE","$attributes",437],")",";",["T_WHITESPACE","\n        ",437],"}",["T_WHITESPACE"," ",438],["T_CATCH","catch",438],["T_WHITESPACE"," ",438],"(",["T_STRING","Exception",438],["T_WHITESPACE"," ",438],["T_VARIABLE","$e",438],")",["T_WHITESPACE"," ",438],"{",["T_WHITESPACE","\n            ",438],["T_STRING","Mage",439],["T_DOUBLE_COLON","::",439],["T_STRING","logException",439],"(",["T_VARIABLE","$e",439],")",";",["T_WHITESPACE","\n            ",439],["T_RETURN","return",440],["T_WHITESPACE"," ",440],["T_STRING","false",440],";",["T_WHITESPACE","\n        ",440],"}",["T_WHITESPACE","\n\n        ",441],["T_IF","if",443],["T_WHITESPACE"," ",443],"(",["T_EMPTY","empty",443],"(",["T_VARIABLE","$name",443],")",["T_WHITESPACE"," ",443],["T_BOOLEAN_OR","||",443],["T_WHITESPACE"," ",443],["T_CONSTANT_ENCAPSED_STRING","'.'",443],["T_IS_IDENTICAL","===",443],["T_VARIABLE","$name",443],"{",["T_LNUMBER","0",443],"}",")",["T_WHITESPACE"," ",443],"{",["T_WHITESPACE","\n            ",443],["T_VARIABLE","$block",444],["T_OBJECT_OPERATOR","->",444],["T_STRING","setIsAnonymous",444],"(",["T_STRING","true",444],")",";",["T_WHITESPACE","\n            ",444],["T_IF","if",445],["T_WHITESPACE"," ",445],"(","!",["T_EMPTY","empty",445],"(",["T_VARIABLE","$name",445],")",")",["T_WHITESPACE"," ",445],"{",["T_WHITESPACE","\n                ",445],["T_VARIABLE","$block",446],["T_OBJECT_OPERATOR","->",446],["T_STRING","setAnonSuffix",446],"(",["T_STRING","substr",446],"(",["T_VARIABLE","$name",446],",",["T_WHITESPACE"," ",446],["T_LNUMBER","1",446],")",")",";",["T_WHITESPACE","\n            ",446],"}",["T_WHITESPACE","\n            ",447],["T_VARIABLE","$name",448],["T_WHITESPACE"," ",448],"=",["T_WHITESPACE"," ",448],["T_CONSTANT_ENCAPSED_STRING","'ANONYMOUS_'",448],".",["T_STRING","sizeof",448],"(",["T_VARIABLE","$this",448],["T_OBJECT_OPERATOR","->",448],["T_STRING","_blocks",448],")",";",["T_WHITESPACE","\n        ",448],"}",["T_WHITESPACE"," ",449],["T_ELSEIF","elseif",449],["T_WHITESPACE"," ",449],"(",["T_ISSET","isset",449],"(",["T_VARIABLE","$this",449],["T_OBJECT_OPERATOR","->",449],["T_STRING","_blocks",449],"[",["T_VARIABLE","$name",449],"]",")",["T_WHITESPACE"," ",449],["T_BOOLEAN_AND","&&",449],["T_WHITESPACE"," ",449],["T_STRING","Mage",449],["T_DOUBLE_COLON","::",449],["T_STRING","getIsDeveloperMode",449],"(",")",")",["T_WHITESPACE"," ",449],"{",["T_WHITESPACE","\n            ",449],["T_COMMENT","\/\/Mage::throwException(Mage::helper('core')->__('Block with name \"%s\" already exists', $name));\n",450],["T_WHITESPACE","        ",451],"}",["T_WHITESPACE","\n\n        ",451],["T_VARIABLE","$block",453],["T_OBJECT_OPERATOR","->",453],["T_STRING","setType",453],"(",["T_VARIABLE","$type",453],")",";",["T_WHITESPACE","\n        ",453],["T_VARIABLE","$block",454],["T_OBJECT_OPERATOR","->",454],["T_STRING","setNameInLayout",454],"(",["T_VARIABLE","$name",454],")",";",["T_WHITESPACE","\n        ",454],["T_VARIABLE","$block",455],["T_OBJECT_OPERATOR","->",455],["T_STRING","addData",455],"(",["T_VARIABLE","$attributes",455],")",";",["T_WHITESPACE","\n        ",455],["T_VARIABLE","$block",456],["T_OBJECT_OPERATOR","->",456],["T_STRING","setLayout",456],"(",["T_VARIABLE","$this",456],")",";",["T_WHITESPACE","\n\n        ",456],["T_VARIABLE","$this",458],["T_OBJECT_OPERATOR","->",458],["T_STRING","_blocks",458],"[",["T_VARIABLE","$name",458],"]",["T_WHITESPACE"," ",458],"=",["T_WHITESPACE"," ",458],["T_VARIABLE","$block",458],";",["T_WHITESPACE","\n        ",458],["T_STRING","Mage",459],["T_DOUBLE_COLON","::",459],["T_STRING","dispatchEvent",459],"(",["T_CONSTANT_ENCAPSED_STRING","'core_layout_block_create_after'",459],",",["T_WHITESPACE"," ",459],["T_ARRAY","array",459],"(",["T_CONSTANT_ENCAPSED_STRING","'block'",459],["T_DOUBLE_ARROW","=>",459],["T_VARIABLE","$block",459],")",")",";",["T_WHITESPACE","\n        ",459],["T_RETURN","return",460],["T_WHITESPACE"," ",460],["T_VARIABLE","$this",460],["T_OBJECT_OPERATOR","->",460],["T_STRING","_blocks",460],"[",["T_VARIABLE","$name",460],"]",";",["T_WHITESPACE","\n    ",460],"}",["T_WHITESPACE","\n\n    ",461],["T_DOC_COMMENT","\/**\n     * Add a block to registry, create new object if needed\n     *\n     * @param string|Mage_Core_Block_Abstract $blockClass\n     * @param string $blockName\n     * @return Mage_Core_Block_Abstract\n     *\/",463],["T_WHITESPACE","\n    ",469],["T_PUBLIC","public",470],["T_WHITESPACE"," ",470],["T_FUNCTION","function",470],["T_WHITESPACE"," ",470],["T_STRING","addBlock",470],"(",["T_VARIABLE","$block",470],",",["T_WHITESPACE"," ",470],["T_VARIABLE","$blockName",470],")",["T_WHITESPACE","\n    ",470],"{",["T_WHITESPACE","\n        ",471],["T_RETURN","return",472],["T_WHITESPACE"," ",472],["T_VARIABLE","$this",472],["T_OBJECT_OPERATOR","->",472],["T_STRING","createBlock",472],"(",["T_VARIABLE","$block",472],",",["T_WHITESPACE"," ",472],["T_VARIABLE","$blockName",472],")",";",["T_WHITESPACE","\n    ",472],"}",["T_WHITESPACE","\n\n    ",473],["T_DOC_COMMENT","\/**\n     * Create block object instance based on block type\n     *\n     * @param string $block\n     * @param array $attributes\n     * @return Mage_Core_Block_Abstract\n     *\/",475],["T_WHITESPACE","\n    ",481],["T_PROTECTED","protected",482],["T_WHITESPACE"," ",482],["T_FUNCTION","function",482],["T_WHITESPACE"," ",482],["T_STRING","_getBlockInstance",482],"(",["T_VARIABLE","$block",482],",",["T_WHITESPACE"," ",482],["T_ARRAY","array",482],["T_WHITESPACE"," ",482],["T_VARIABLE","$attributes",482],"=",["T_ARRAY","array",482],"(",")",")",["T_WHITESPACE","\n    ",482],"{",["T_WHITESPACE","\n        ",483],["T_IF","if",484],["T_WHITESPACE"," ",484],"(",["T_STRING","is_string",484],"(",["T_VARIABLE","$block",484],")",")",["T_WHITESPACE"," ",484],"{",["T_WHITESPACE","\n            ",484],["T_IF","if",485],["T_WHITESPACE"," ",485],"(",["T_STRING","strpos",485],"(",["T_VARIABLE","$block",485],",",["T_WHITESPACE"," ",485],["T_CONSTANT_ENCAPSED_STRING","'\/'",485],")",["T_IS_NOT_IDENTICAL","!==",485],["T_STRING","false",485],")",["T_WHITESPACE"," ",485],"{",["T_WHITESPACE","\n                ",485],["T_IF","if",486],["T_WHITESPACE"," ",486],"(","!",["T_VARIABLE","$block",486],["T_WHITESPACE"," ",486],"=",["T_WHITESPACE"," ",486],["T_STRING","Mage",486],["T_DOUBLE_COLON","::",486],["T_STRING","getConfig",486],"(",")",["T_OBJECT_OPERATOR","->",486],["T_STRING","getBlockClassName",486],"(",["T_VARIABLE","$block",486],")",")",["T_WHITESPACE"," ",486],"{",["T_WHITESPACE","\n                    ",486],["T_STRING","Mage",487],["T_DOUBLE_COLON","::",487],["T_STRING","throwException",487],"(",["T_STRING","Mage",487],["T_DOUBLE_COLON","::",487],["T_STRING","helper",487],"(",["T_CONSTANT_ENCAPSED_STRING","'core'",487],")",["T_OBJECT_OPERATOR","->",487],["T_STRING","__",487],"(",["T_CONSTANT_ENCAPSED_STRING","'Invalid block type: %s'",487],",",["T_WHITESPACE"," ",487],["T_VARIABLE","$block",487],")",")",";",["T_WHITESPACE","\n                ",487],"}",["T_WHITESPACE","\n            ",488],"}",["T_WHITESPACE","\n            ",489],["T_IF","if",490],["T_WHITESPACE"," ",490],"(",["T_STRING","class_exists",490],"(",["T_VARIABLE","$block",490],",",["T_WHITESPACE"," ",490],["T_STRING","false",490],")",["T_WHITESPACE"," ",490],["T_BOOLEAN_OR","||",490],["T_WHITESPACE"," ",490],["T_STRING","mageFindClassFile",490],"(",["T_VARIABLE","$block",490],")",")",["T_WHITESPACE"," ",490],"{",["T_WHITESPACE","\n                ",490],["T_VARIABLE","$block",491],["T_WHITESPACE"," ",491],"=",["T_WHITESPACE"," ",491],["T_NEW","new",491],["T_WHITESPACE"," ",491],["T_VARIABLE","$block",491],"(",["T_VARIABLE","$attributes",491],")",";",["T_WHITESPACE","\n            ",491],"}",["T_WHITESPACE","\n        ",492],"}",["T_WHITESPACE","\n        ",493],["T_IF","if",494],["T_WHITESPACE"," ",494],"(","!",["T_VARIABLE","$block",494],["T_WHITESPACE"," ",494],["T_INSTANCEOF","instanceof",494],["T_WHITESPACE"," ",494],["T_STRING","Mage_Core_Block_Abstract",494],")",["T_WHITESPACE"," ",494],"{",["T_WHITESPACE","\n            ",494],["T_STRING","Mage",495],["T_DOUBLE_COLON","::",495],["T_STRING","throwException",495],"(",["T_STRING","Mage",495],["T_DOUBLE_COLON","::",495],["T_STRING","helper",495],"(",["T_CONSTANT_ENCAPSED_STRING","'core'",495],")",["T_OBJECT_OPERATOR","->",495],["T_STRING","__",495],"(",["T_CONSTANT_ENCAPSED_STRING","'Invalid block type: %s'",495],",",["T_WHITESPACE"," ",495],["T_VARIABLE","$block",495],")",")",";",["T_WHITESPACE","\n        ",495],"}",["T_WHITESPACE","\n        ",496],["T_RETURN","return",497],["T_WHITESPACE"," ",497],["T_VARIABLE","$block",497],";",["T_WHITESPACE","\n    ",497],"}",["T_WHITESPACE","\n\n\n    ",498],["T_DOC_COMMENT","\/**\n     * Retrieve all blocks from registry as array\n     *\n     * @return array\n     *\/",501],["T_WHITESPACE","\n    ",505],["T_PUBLIC","public",506],["T_WHITESPACE"," ",506],["T_FUNCTION","function",506],["T_WHITESPACE"," ",506],["T_STRING","getAllBlocks",506],"(",")",["T_WHITESPACE","\n    ",506],"{",["T_WHITESPACE","\n        ",507],["T_RETURN","return",508],["T_WHITESPACE"," ",508],["T_VARIABLE","$this",508],["T_OBJECT_OPERATOR","->",508],["T_STRING","_blocks",508],";",["T_WHITESPACE","\n    ",508],"}",["T_WHITESPACE","\n\n    ",509],["T_DOC_COMMENT","\/**\n     * Get block object by name\n     *\n     * @param string $name\n     * @return Mage_Core_Block_Abstract\n     *\/",511],["T_WHITESPACE","\n    ",516],["T_PUBLIC","public",517],["T_WHITESPACE"," ",517],["T_FUNCTION","function",517],["T_WHITESPACE"," ",517],["T_STRING","getBlock",517],"(",["T_VARIABLE","$name",517],")",["T_WHITESPACE","\n    ",517],"{",["T_WHITESPACE","\n        ",518],["T_IF","if",519],["T_WHITESPACE"," ",519],"(",["T_ISSET","isset",519],"(",["T_VARIABLE","$this",519],["T_OBJECT_OPERATOR","->",519],["T_STRING","_blocks",519],"[",["T_VARIABLE","$name",519],"]",")",")",["T_WHITESPACE"," ",519],"{",["T_WHITESPACE","\n            ",519],["T_RETURN","return",520],["T_WHITESPACE"," ",520],["T_VARIABLE","$this",520],["T_OBJECT_OPERATOR","->",520],["T_STRING","_blocks",520],"[",["T_VARIABLE","$name",520],"]",";",["T_WHITESPACE","\n        ",520],"}",["T_WHITESPACE"," ",521],["T_ELSE","else",521],["T_WHITESPACE"," ",521],"{",["T_WHITESPACE","\n            ",521],["T_RETURN","return",522],["T_WHITESPACE"," ",522],["T_STRING","false",522],";",["T_WHITESPACE","\n        ",522],"}",["T_WHITESPACE","\n    ",523],"}",["T_WHITESPACE","\n\n    ",524],["T_DOC_COMMENT","\/**\n     * Add a block to output\n     *\n     * @param string $blockName\n     * @param string $method\n     *\/",526],["T_WHITESPACE","\n    ",531],["T_PUBLIC","public",532],["T_WHITESPACE"," ",532],["T_FUNCTION","function",532],["T_WHITESPACE"," ",532],["T_STRING","addOutputBlock",532],"(",["T_VARIABLE","$blockName",532],",",["T_WHITESPACE"," ",532],["T_VARIABLE","$method",532],"=",["T_CONSTANT_ENCAPSED_STRING","'toHtml'",532],")",["T_WHITESPACE","\n    ",532],"{",["T_WHITESPACE","\n        ",533],["T_COMMENT","\/\/$this->_output[] = array($blockName, $method);\n",534],["T_WHITESPACE","        ",535],["T_VARIABLE","$this",535],["T_OBJECT_OPERATOR","->",535],["T_STRING","_output",535],"[",["T_VARIABLE","$blockName",535],"]",["T_WHITESPACE"," ",535],"=",["T_WHITESPACE"," ",535],["T_ARRAY","array",535],"(",["T_VARIABLE","$blockName",535],",",["T_WHITESPACE"," ",535],["T_VARIABLE","$method",535],")",";",["T_WHITESPACE","\n        ",535],["T_RETURN","return",536],["T_WHITESPACE"," ",536],["T_VARIABLE","$this",536],";",["T_WHITESPACE","\n    ",536],"}",["T_WHITESPACE","\n\n    ",537],["T_PUBLIC","public",539],["T_WHITESPACE"," ",539],["T_FUNCTION","function",539],["T_WHITESPACE"," ",539],["T_STRING","removeOutputBlock",539],"(",["T_VARIABLE","$blockName",539],")",["T_WHITESPACE","\n    ",539],"{",["T_WHITESPACE","\n        ",540],["T_UNSET","unset",541],"(",["T_VARIABLE","$this",541],["T_OBJECT_OPERATOR","->",541],["T_STRING","_output",541],"[",["T_VARIABLE","$blockName",541],"]",")",";",["T_WHITESPACE","\n        ",541],["T_RETURN","return",542],["T_WHITESPACE"," ",542],["T_VARIABLE","$this",542],";",["T_WHITESPACE","\n    ",542],"}",["T_WHITESPACE","\n\n    ",543],["T_DOC_COMMENT","\/**\n     * Get all blocks marked for output\n     *\n     * @return string\n     *\/",545],["T_WHITESPACE","\n    ",549],["T_PUBLIC","public",550],["T_WHITESPACE"," ",550],["T_FUNCTION","function",550],["T_WHITESPACE"," ",550],["T_STRING","getOutput",550],"(",")",["T_WHITESPACE","\n    ",550],"{",["T_WHITESPACE","\n        ",551],["T_VARIABLE","$out",552],["T_WHITESPACE"," ",552],"=",["T_WHITESPACE"," ",552],["T_CONSTANT_ENCAPSED_STRING","''",552],";",["T_WHITESPACE","\n        ",552],["T_IF","if",553],["T_WHITESPACE"," ",553],"(","!",["T_EMPTY","empty",553],"(",["T_VARIABLE","$this",553],["T_OBJECT_OPERATOR","->",553],["T_STRING","_output",553],")",")",["T_WHITESPACE"," ",553],"{",["T_WHITESPACE","\n            ",553],["T_FOREACH","foreach",554],["T_WHITESPACE"," ",554],"(",["T_VARIABLE","$this",554],["T_OBJECT_OPERATOR","->",554],["T_STRING","_output",554],["T_WHITESPACE"," ",554],["T_AS","as",554],["T_WHITESPACE"," ",554],["T_VARIABLE","$callback",554],")",["T_WHITESPACE"," ",554],"{",["T_WHITESPACE","\n                ",554],["T_VARIABLE","$out",555],["T_WHITESPACE"," ",555],["T_CONCAT_EQUAL",".=",555],["T_WHITESPACE"," ",555],["T_VARIABLE","$this",555],["T_OBJECT_OPERATOR","->",555],["T_STRING","getBlock",555],"(",["T_VARIABLE","$callback",555],"[",["T_LNUMBER","0",555],"]",")",["T_OBJECT_OPERATOR","->",555],"{",["T_VARIABLE","$callback",555],"[",["T_LNUMBER","1",555],"]","}","(",")",";",["T_WHITESPACE","\n            ",555],"}",["T_WHITESPACE","\n        ",556],"}",["T_WHITESPACE","\n\n        ",557],["T_RETURN","return",559],["T_WHITESPACE"," ",559],["T_VARIABLE","$out",559],";",["T_WHITESPACE","\n    ",559],"}",["T_WHITESPACE","\n\n    ",560],["T_DOC_COMMENT","\/**\n     * Retrieve messages block\n     *\n     * @return Mage_Core_Block_Messages\n     *\/",562],["T_WHITESPACE","\n    ",566],["T_PUBLIC","public",567],["T_WHITESPACE"," ",567],["T_FUNCTION","function",567],["T_WHITESPACE"," ",567],["T_STRING","getMessagesBlock",567],"(",")",["T_WHITESPACE","\n    ",567],"{",["T_WHITESPACE","\n        ",568],["T_VARIABLE","$block",569],["T_WHITESPACE"," ",569],"=",["T_WHITESPACE"," ",569],["T_VARIABLE","$this",569],["T_OBJECT_OPERATOR","->",569],["T_STRING","getBlock",569],"(",["T_CONSTANT_ENCAPSED_STRING","'messages'",569],")",";",["T_WHITESPACE","\n        ",569],["T_IF","if",570],["T_WHITESPACE"," ",570],"(",["T_VARIABLE","$block",570],")",["T_WHITESPACE"," ",570],"{",["T_WHITESPACE","\n            ",570],["T_RETURN","return",571],["T_WHITESPACE"," ",571],["T_VARIABLE","$block",571],";",["T_WHITESPACE","\n        ",571],"}",["T_WHITESPACE","\n        ",572],["T_RETURN","return",573],["T_WHITESPACE"," ",573],["T_VARIABLE","$this",573],["T_OBJECT_OPERATOR","->",573],["T_STRING","createBlock",573],"(",["T_CONSTANT_ENCAPSED_STRING","'core\/messages'",573],",",["T_WHITESPACE"," ",573],["T_CONSTANT_ENCAPSED_STRING","'messages'",573],")",";",["T_WHITESPACE","\n    ",573],"}",["T_WHITESPACE","\n\n    ",574],["T_DOC_COMMENT","\/**\n     * Enter description here...\n     *\n     * @param string $type\n     * @return Mage_Core_Helper_Abstract\n     *\/",576],["T_WHITESPACE","\n    ",581],["T_PUBLIC","public",582],["T_WHITESPACE"," ",582],["T_FUNCTION","function",582],["T_WHITESPACE"," ",582],["T_STRING","getBlockSingleton",582],"(",["T_VARIABLE","$type",582],")",["T_WHITESPACE","\n    ",582],"{",["T_WHITESPACE","\n        ",583],["T_IF","if",584],["T_WHITESPACE"," ",584],"(","!",["T_ISSET","isset",584],"(",["T_VARIABLE","$this",584],["T_OBJECT_OPERATOR","->",584],["T_STRING","_helpers",584],"[",["T_VARIABLE","$type",584],"]",")",")",["T_WHITESPACE"," ",584],"{",["T_WHITESPACE","\n            ",584],["T_VARIABLE","$className",585],["T_WHITESPACE"," ",585],"=",["T_WHITESPACE"," ",585],["T_STRING","Mage",585],["T_DOUBLE_COLON","::",585],["T_STRING","getConfig",585],"(",")",["T_OBJECT_OPERATOR","->",585],["T_STRING","getBlockClassName",585],"(",["T_VARIABLE","$type",585],")",";",["T_WHITESPACE","\n            ",585],["T_IF","if",586],["T_WHITESPACE"," ",586],"(","!",["T_VARIABLE","$className",586],")",["T_WHITESPACE"," ",586],"{",["T_WHITESPACE","\n                ",586],["T_STRING","Mage",587],["T_DOUBLE_COLON","::",587],["T_STRING","throwException",587],"(",["T_STRING","Mage",587],["T_DOUBLE_COLON","::",587],["T_STRING","helper",587],"(",["T_CONSTANT_ENCAPSED_STRING","'core'",587],")",["T_OBJECT_OPERATOR","->",587],["T_STRING","__",587],"(",["T_CONSTANT_ENCAPSED_STRING","'Invalid block type: %s'",587],",",["T_WHITESPACE"," ",587],["T_VARIABLE","$type",587],")",")",";",["T_WHITESPACE","\n            ",587],"}",["T_WHITESPACE","\n\n            ",588],["T_VARIABLE","$helper",590],["T_WHITESPACE"," ",590],"=",["T_WHITESPACE"," ",590],["T_NEW","new",590],["T_WHITESPACE"," ",590],["T_VARIABLE","$className",590],"(",")",";",["T_WHITESPACE","\n            ",590],["T_IF","if",591],["T_WHITESPACE"," ",591],"(",["T_VARIABLE","$helper",591],")",["T_WHITESPACE"," ",591],"{",["T_WHITESPACE","\n                ",591],["T_IF","if",592],["T_WHITESPACE"," ",592],"(",["T_VARIABLE","$helper",592],["T_WHITESPACE"," ",592],["T_INSTANCEOF","instanceof",592],["T_WHITESPACE"," ",592],["T_STRING","Mage_Core_Block_Abstract",592],")",["T_WHITESPACE"," ",592],"{",["T_WHITESPACE","\n                    ",592],["T_VARIABLE","$helper",593],["T_OBJECT_OPERATOR","->",593],["T_STRING","setLayout",593],"(",["T_VARIABLE","$this",593],")",";",["T_WHITESPACE","\n                ",593],"}",["T_WHITESPACE","\n                ",594],["T_VARIABLE","$this",595],["T_OBJECT_OPERATOR","->",595],["T_STRING","_helpers",595],"[",["T_VARIABLE","$type",595],"]",["T_WHITESPACE"," ",595],"=",["T_WHITESPACE"," ",595],["T_VARIABLE","$helper",595],";",["T_WHITESPACE","\n            ",595],"}",["T_WHITESPACE","\n        ",596],"}",["T_WHITESPACE","\n        ",597],["T_RETURN","return",598],["T_WHITESPACE"," ",598],["T_VARIABLE","$this",598],["T_OBJECT_OPERATOR","->",598],["T_STRING","_helpers",598],"[",["T_VARIABLE","$type",598],"]",";",["T_WHITESPACE","\n    ",598],"}",["T_WHITESPACE","\n\n    ",599],["T_DOC_COMMENT","\/**\n     * Retrieve helper object\n     *\n     * @param   string $name\n     * @return  Mage_Core_Helper_Abstract\n     *\/",601],["T_WHITESPACE","\n    ",606],["T_PUBLIC","public",607],["T_WHITESPACE"," ",607],["T_FUNCTION","function",607],["T_WHITESPACE"," ",607],["T_STRING","helper",607],"(",["T_VARIABLE","$name",607],")",["T_WHITESPACE","\n    ",607],"{",["T_WHITESPACE","\n        ",608],["T_VARIABLE","$helper",609],["T_WHITESPACE"," ",609],"=",["T_WHITESPACE"," ",609],["T_STRING","Mage",609],["T_DOUBLE_COLON","::",609],["T_STRING","helper",609],"(",["T_VARIABLE","$name",609],")",";",["T_WHITESPACE","\n        ",609],["T_IF","if",610],["T_WHITESPACE"," ",610],"(","!",["T_VARIABLE","$helper",610],")",["T_WHITESPACE"," ",610],"{",["T_WHITESPACE","\n            ",610],["T_RETURN","return",611],["T_WHITESPACE"," ",611],["T_STRING","false",611],";",["T_WHITESPACE","\n        ",611],"}",["T_WHITESPACE","\n        ",612],["T_RETURN","return",613],["T_WHITESPACE"," ",613],["T_VARIABLE","$helper",613],["T_OBJECT_OPERATOR","->",613],["T_STRING","setLayout",613],"(",["T_VARIABLE","$this",613],")",";",["T_WHITESPACE","\n    ",613],"}",["T_WHITESPACE","\n\n    ",614],["T_DOC_COMMENT","\/**\n     * Lookup module name for translation from current specified layout node\n     *\n     * Priorities:\n     * 1) \"module\" attribute in the element\n     * 2) \"module\" attribute in any ancestor element\n     * 3) layout handle name - first 1 or 2 parts (namespace is determined automatically)\n     *\n     * @param Varien_Simplexml_Element $node\n     * @return string\n     *\/",616],["T_WHITESPACE","\n    ",626],["T_PUBLIC","public",627],["T_WHITESPACE"," ",627],["T_STATIC","static",627],["T_WHITESPACE"," ",627],["T_FUNCTION","function",627],["T_WHITESPACE"," ",627],["T_STRING","findTranslationModuleName",627],"(",["T_STRING","Varien_Simplexml_Element",627],["T_WHITESPACE"," ",627],["T_VARIABLE","$node",627],")",["T_WHITESPACE","\n    ",627],"{",["T_WHITESPACE","\n        ",628],["T_VARIABLE","$result",629],["T_WHITESPACE"," ",629],"=",["T_WHITESPACE"," ",629],["T_VARIABLE","$node",629],["T_OBJECT_OPERATOR","->",629],["T_STRING","getAttribute",629],"(",["T_CONSTANT_ENCAPSED_STRING","'module'",629],")",";",["T_WHITESPACE","\n        ",629],["T_IF","if",630],["T_WHITESPACE"," ",630],"(",["T_VARIABLE","$result",630],")",["T_WHITESPACE"," ",630],"{",["T_WHITESPACE","\n            ",630],["T_RETURN","return",631],["T_WHITESPACE"," ",631],["T_STRING_CAST","(string)",631],["T_VARIABLE","$result",631],";",["T_WHITESPACE","\n        ",631],"}",["T_WHITESPACE","\n        ",632],["T_FOREACH","foreach",633],["T_WHITESPACE"," ",633],"(",["T_STRING","array_reverse",633],"(",["T_VARIABLE","$node",633],["T_OBJECT_OPERATOR","->",633],["T_STRING","xpath",633],"(",["T_CONSTANT_ENCAPSED_STRING","'ancestor::*[@module]'",633],")",")",["T_WHITESPACE"," ",633],["T_AS","as",633],["T_WHITESPACE"," ",633],["T_VARIABLE","$element",633],")",["T_WHITESPACE"," ",633],"{",["T_WHITESPACE","\n            ",633],["T_VARIABLE","$result",634],["T_WHITESPACE"," ",634],"=",["T_WHITESPACE"," ",634],["T_VARIABLE","$element",634],["T_OBJECT_OPERATOR","->",634],["T_STRING","getAttribute",634],"(",["T_CONSTANT_ENCAPSED_STRING","'module'",634],")",";",["T_WHITESPACE","\n            ",634],["T_IF","if",635],["T_WHITESPACE"," ",635],"(",["T_VARIABLE","$result",635],")",["T_WHITESPACE"," ",635],"{",["T_WHITESPACE","\n                ",635],["T_RETURN","return",636],["T_WHITESPACE"," ",636],["T_STRING_CAST","(string)",636],["T_VARIABLE","$result",636],";",["T_WHITESPACE","\n            ",636],"}",["T_WHITESPACE","\n        ",637],"}",["T_WHITESPACE","\n        ",638],["T_FOREACH","foreach",639],["T_WHITESPACE"," ",639],"(",["T_VARIABLE","$node",639],["T_OBJECT_OPERATOR","->",639],["T_STRING","xpath",639],"(",["T_CONSTANT_ENCAPSED_STRING","'ancestor-or-self::*[last()-1]'",639],")",["T_WHITESPACE"," ",639],["T_AS","as",639],["T_WHITESPACE"," ",639],["T_VARIABLE","$handle",639],")",["T_WHITESPACE"," ",639],"{",["T_WHITESPACE","\n            ",639],["T_VARIABLE","$name",640],["T_WHITESPACE"," ",640],"=",["T_WHITESPACE"," ",640],["T_STRING","Mage",640],["T_DOUBLE_COLON","::",640],["T_STRING","getConfig",640],"(",")",["T_OBJECT_OPERATOR","->",640],["T_STRING","determineOmittedNamespace",640],"(",["T_VARIABLE","$handle",640],["T_OBJECT_OPERATOR","->",640],["T_STRING","getName",640],"(",")",")",";",["T_WHITESPACE","\n            ",640],["T_IF","if",641],["T_WHITESPACE"," ",641],"(",["T_VARIABLE","$name",641],")",["T_WHITESPACE"," ",641],"{",["T_WHITESPACE","\n                ",641],["T_RETURN","return",642],["T_WHITESPACE"," ",642],["T_VARIABLE","$name",642],";",["T_WHITESPACE","\n            ",642],"}",["T_WHITESPACE","\n        ",643],"}",["T_WHITESPACE","\n        ",644],["T_RETURN","return",645],["T_WHITESPACE"," ",645],["T_CONSTANT_ENCAPSED_STRING","'core'",645],";",["T_WHITESPACE","\n    ",645],"}",["T_WHITESPACE","\n",646],"}",["T_WHITESPACE","\n",647]]