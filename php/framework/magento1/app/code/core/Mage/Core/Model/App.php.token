[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Magento\n *\n * NOTICE OF LICENSE\n *\n * This source file is subject to the Open Software License (OSL 3.0)\n * that is bundled with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/opensource.org\/licenses\/osl-3.0.php\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@magento.com so we can send you a copy immediately.\n *\n * DISCLAIMER\n *\n * Do not edit or add to this file if you wish to upgrade Magento to newer\n * versions in the future. If you wish to customize Magento for your\n * needs please refer to http:\/\/www.magento.com for more information.\n *\n * @category    Mage\n * @package     Mage_Core\n * @copyright  Copyright (c) 2006-2016 X.commerce, Inc. and affiliates (http:\/\/www.magento.com)\n * @license    http:\/\/opensource.org\/licenses\/osl-3.0.php  Open Software License (OSL 3.0)\n *\/",2],["T_WHITESPACE","\n\n",25],["T_DOC_COMMENT","\/**\n * Application model\n *\n * Application should have: areas, store, locale, translator, design package\n *\n * @category    Mage\n * @package     Mage_Core\n * @author      Magento Core Team <core@magentocommerce.com>\n *\/",27],["T_WHITESPACE","\n",35],["T_CLASS","class",36],["T_WHITESPACE"," ",36],["T_STRING","Mage_Core_Model_App",36],["T_WHITESPACE","\n",36],"{",["T_WHITESPACE","\n\n    ",37],["T_CONST","const",39],["T_WHITESPACE"," ",39],["T_STRING","XML_PATH_INSTALL_DATE",39],["T_WHITESPACE"," ",39],"=",["T_WHITESPACE"," ",39],["T_CONSTANT_ENCAPSED_STRING","'global\/install\/date'",39],";",["T_WHITESPACE","\n\n    ",39],["T_CONST","const",41],["T_WHITESPACE"," ",41],["T_STRING","XML_PATH_SKIP_PROCESS_MODULES_UPDATES",41],["T_WHITESPACE"," ",41],"=",["T_WHITESPACE"," ",41],["T_CONSTANT_ENCAPSED_STRING","'global\/skip_process_modules_updates'",41],";",["T_WHITESPACE","\n\n    ",41],["T_DOC_COMMENT","\/**\n     * if this node set to true, we will ignore Developer Mode for applying updates\n     *\/",43],["T_WHITESPACE","\n    ",45],["T_CONST","const",46],["T_WHITESPACE"," ",46],["T_STRING","XML_PATH_IGNORE_DEV_MODE",46],["T_WHITESPACE"," ",46],"=",["T_WHITESPACE"," ",46],["T_CONSTANT_ENCAPSED_STRING","'global\/skip_process_modules_updates_ignore_dev_mode'",46],";",["T_WHITESPACE","\n\n    ",46],["T_CONST","const",48],["T_WHITESPACE"," ",48],["T_STRING","DEFAULT_ERROR_HANDLER",48],["T_WHITESPACE"," ",48],"=",["T_WHITESPACE"," ",48],["T_CONSTANT_ENCAPSED_STRING","'mageCoreErrorHandler'",48],";",["T_WHITESPACE","\n\n    ",48],["T_CONST","const",50],["T_WHITESPACE"," ",50],["T_STRING","DISTRO_LOCALE_CODE",50],["T_WHITESPACE"," ",50],"=",["T_WHITESPACE"," ",50],["T_CONSTANT_ENCAPSED_STRING","'en_US'",50],";",["T_WHITESPACE","\n\n    ",50],["T_DOC_COMMENT","\/**\n     * Cache tag for all cache data exclude config cache\n     *\n     *\/",52],["T_WHITESPACE","\n    ",55],["T_CONST","const",56],["T_WHITESPACE"," ",56],["T_STRING","CACHE_TAG",56],["T_WHITESPACE"," ",56],"=",["T_WHITESPACE"," ",56],["T_CONSTANT_ENCAPSED_STRING","'MAGE'",56],";",["T_WHITESPACE","\n\n    ",56],["T_DOC_COMMENT","\/**\n     * Default store Id (for install)\n     *\/",58],["T_WHITESPACE","\n    ",60],["T_CONST","const",61],["T_WHITESPACE"," ",61],["T_STRING","DISTRO_STORE_ID",61],["T_WHITESPACE","       ",61],"=",["T_WHITESPACE"," ",61],["T_LNUMBER","1",61],";",["T_WHITESPACE","\n\n    ",61],["T_DOC_COMMENT","\/**\n     * Default store code (for install)\n     *\n     *\/",63],["T_WHITESPACE","\n    ",66],["T_CONST","const",67],["T_WHITESPACE"," ",67],["T_STRING","DISTRO_STORE_CODE",67],["T_WHITESPACE","     ",67],"=",["T_WHITESPACE"," ",67],["T_CONSTANT_ENCAPSED_STRING","'default'",67],";",["T_WHITESPACE","\n\n    ",67],["T_DOC_COMMENT","\/**\n     * Admin store Id\n     *\n     *\/",69],["T_WHITESPACE","\n    ",72],["T_CONST","const",73],["T_WHITESPACE"," ",73],["T_STRING","ADMIN_STORE_ID",73],["T_WHITESPACE"," ",73],"=",["T_WHITESPACE"," ",73],["T_LNUMBER","0",73],";",["T_WHITESPACE","\n\n    ",73],["T_DOC_COMMENT","\/**\n     * Application loaded areas array\n     *\n     * @var array\n     *\/",75],["T_WHITESPACE","\n    ",79],["T_PROTECTED","protected",80],["T_WHITESPACE"," ",80],["T_VARIABLE","$_areas",80],["T_WHITESPACE"," ",80],"=",["T_WHITESPACE"," ",80],["T_ARRAY","array",80],"(",")",";",["T_WHITESPACE","\n\n    ",80],["T_DOC_COMMENT","\/**\n     * Application store object\n     *\n     * @var Mage_Core_Model_Store\n     *\/",82],["T_WHITESPACE","\n    ",86],["T_PROTECTED","protected",87],["T_WHITESPACE"," ",87],["T_VARIABLE","$_store",87],";",["T_WHITESPACE","\n\n    ",87],["T_DOC_COMMENT","\/**\n     * Application website object\n     *\n     * @var Mage_Core_Model_Website\n     *\/",89],["T_WHITESPACE","\n    ",93],["T_PROTECTED","protected",94],["T_WHITESPACE"," ",94],["T_VARIABLE","$_website",94],";",["T_WHITESPACE","\n\n    ",94],["T_DOC_COMMENT","\/**\n     * Application location object\n     *\n     * @var Mage_Core_Model_Locale\n     *\/",96],["T_WHITESPACE","\n    ",100],["T_PROTECTED","protected",101],["T_WHITESPACE"," ",101],["T_VARIABLE","$_locale",101],";",["T_WHITESPACE","\n\n    ",101],["T_DOC_COMMENT","\/**\n     * Application translate object\n     *\n     * @var Mage_Core_Model_Translate\n     *\/",103],["T_WHITESPACE","\n    ",107],["T_PROTECTED","protected",108],["T_WHITESPACE"," ",108],["T_VARIABLE","$_translator",108],";",["T_WHITESPACE","\n\n    ",108],["T_DOC_COMMENT","\/**\n     * Application design package object\n     *\n     * @var Mage_Core_Model_Design_Package\n     *\/",110],["T_WHITESPACE","\n    ",114],["T_PROTECTED","protected",115],["T_WHITESPACE"," ",115],["T_VARIABLE","$_design",115],";",["T_WHITESPACE","\n\n    ",115],["T_DOC_COMMENT","\/**\n     * Application layout object\n     *\n     * @var Mage_Core_Model_Layout\n     *\/",117],["T_WHITESPACE","\n    ",121],["T_PROTECTED","protected",122],["T_WHITESPACE"," ",122],["T_VARIABLE","$_layout",122],";",["T_WHITESPACE","\n\n    ",122],["T_DOC_COMMENT","\/**\n     * Application configuration object\n     *\n     * @var Mage_Core_Model_Config\n     *\/",124],["T_WHITESPACE","\n    ",128],["T_PROTECTED","protected",129],["T_WHITESPACE"," ",129],["T_VARIABLE","$_config",129],";",["T_WHITESPACE","\n\n    ",129],["T_DOC_COMMENT","\/**\n     * Application front controller\n     *\n     * @var Mage_Core_Controller_Varien_Front\n     *\/",131],["T_WHITESPACE","\n    ",135],["T_PROTECTED","protected",136],["T_WHITESPACE"," ",136],["T_VARIABLE","$_frontController",136],";",["T_WHITESPACE","\n\n    ",136],["T_DOC_COMMENT","\/**\n     * Cache object\n     *\n     * @var Zend_Cache_Core\n     *\/",138],["T_WHITESPACE","\n    ",142],["T_PROTECTED","protected",143],["T_WHITESPACE"," ",143],["T_VARIABLE","$_cache",143],";",["T_WHITESPACE","\n\n    ",143],["T_DOC_COMMENT","\/**\n    * Use Cache\n    *\n    * @var array\n    *\/",145],["T_WHITESPACE","\n    ",149],["T_PROTECTED","protected",150],["T_WHITESPACE"," ",150],["T_VARIABLE","$_useCache",150],";",["T_WHITESPACE","\n\n    ",150],["T_DOC_COMMENT","\/**\n     * Websites cache\n     *\n     * @var array\n     *\/",152],["T_WHITESPACE","\n    ",156],["T_PROTECTED","protected",157],["T_WHITESPACE"," ",157],["T_VARIABLE","$_websites",157],["T_WHITESPACE"," ",157],"=",["T_WHITESPACE"," ",157],["T_ARRAY","array",157],"(",")",";",["T_WHITESPACE","\n\n    ",157],["T_DOC_COMMENT","\/**\n     * Groups cache\n     *\n     * @var array\n     *\/",159],["T_WHITESPACE","\n    ",163],["T_PROTECTED","protected",164],["T_WHITESPACE"," ",164],["T_VARIABLE","$_groups",164],["T_WHITESPACE"," ",164],"=",["T_WHITESPACE"," ",164],["T_ARRAY","array",164],"(",")",";",["T_WHITESPACE","\n\n    ",164],["T_DOC_COMMENT","\/**\n     * Stores cache\n     *\n     * @var array\n     *\/",166],["T_WHITESPACE","\n    ",170],["T_PROTECTED","protected",171],["T_WHITESPACE"," ",171],["T_VARIABLE","$_stores",171],["T_WHITESPACE"," ",171],"=",["T_WHITESPACE"," ",171],["T_ARRAY","array",171],"(",")",";",["T_WHITESPACE","\n\n    ",171],["T_DOC_COMMENT","\/**\n     * is a single store mode\n     *\n     * @var bool\n     *\/",173],["T_WHITESPACE","\n    ",177],["T_PROTECTED","protected",178],["T_WHITESPACE"," ",178],["T_VARIABLE","$_isSingleStore",178],";",["T_WHITESPACE","\n\n    ",178],["T_DOC_COMMENT","\/**\n     * @var bool\n     *\/",180],["T_WHITESPACE","\n    ",182],["T_PROTECTED","protected",183],["T_WHITESPACE"," ",183],["T_VARIABLE","$_isSingleStoreAllowed",183],["T_WHITESPACE"," ",183],"=",["T_WHITESPACE"," ",183],["T_STRING","true",183],";",["T_WHITESPACE","\n\n    ",183],["T_DOC_COMMENT","\/**\n     * Default store code\n     *\n     * @var string\n     *\/",185],["T_WHITESPACE","\n    ",189],["T_PROTECTED","protected",190],["T_WHITESPACE"," ",190],["T_VARIABLE","$_currentStore",190],";",["T_WHITESPACE","\n\n    ",190],["T_DOC_COMMENT","\/**\n     * Request object\n     *\n     * @var Zend_Controller_Request_Http\n     *\/",192],["T_WHITESPACE","\n    ",196],["T_PROTECTED","protected",197],["T_WHITESPACE"," ",197],["T_VARIABLE","$_request",197],";",["T_WHITESPACE","\n\n    ",197],["T_DOC_COMMENT","\/**\n     * Response object\n     *\n     * @var Zend_Controller_Response_Http\n     *\/",199],["T_WHITESPACE","\n    ",203],["T_PROTECTED","protected",204],["T_WHITESPACE"," ",204],["T_VARIABLE","$_response",204],";",["T_WHITESPACE","\n\n\n    ",204],["T_DOC_COMMENT","\/**\n     * Events cache\n     *\n     * @var array\n     *\/",207],["T_WHITESPACE","\n    ",211],["T_PROTECTED","protected",212],["T_WHITESPACE"," ",212],["T_VARIABLE","$_events",212],["T_WHITESPACE"," ",212],"=",["T_WHITESPACE"," ",212],["T_ARRAY","array",212],"(",")",";",["T_WHITESPACE","\n\n    ",212],["T_DOC_COMMENT","\/**\n     * Update process run flag\n     *\n     * @var bool\n     *\/",214],["T_WHITESPACE","\n    ",218],["T_PROTECTED","protected",219],["T_WHITESPACE"," ",219],["T_VARIABLE","$_updateMode",219],["T_WHITESPACE"," ",219],"=",["T_WHITESPACE"," ",219],["T_STRING","false",219],";",["T_WHITESPACE","\n\n    ",219],["T_DOC_COMMENT","\/**\n     * Use session in URL flag\n     *\n     * @see Mage_Core_Model_Url\n     * @var bool\n     *\/",221],["T_WHITESPACE","\n    ",226],["T_PROTECTED","protected",227],["T_WHITESPACE"," ",227],["T_VARIABLE","$_useSessionInUrl",227],["T_WHITESPACE"," ",227],"=",["T_WHITESPACE"," ",227],["T_STRING","true",227],";",["T_WHITESPACE","\n\n    ",227],["T_DOC_COMMENT","\/**\n     * Use session var instead of SID for session in URL\n     *\n     * @var bool\n     *\/",229],["T_WHITESPACE","\n    ",233],["T_PROTECTED","protected",234],["T_WHITESPACE"," ",234],["T_VARIABLE","$_useSessionVar",234],["T_WHITESPACE"," ",234],"=",["T_WHITESPACE"," ",234],["T_STRING","false",234],";",["T_WHITESPACE","\n\n    ",234],["T_DOC_COMMENT","\/**\n     * Cache locked flag\n     *\n     * @var null|bool\n     *\/",236],["T_WHITESPACE","\n    ",240],["T_PROTECTED","protected",241],["T_WHITESPACE"," ",241],["T_VARIABLE","$_isCacheLocked",241],["T_WHITESPACE"," ",241],"=",["T_WHITESPACE"," ",241],["T_STRING","null",241],";",["T_WHITESPACE","\n\n    ",241],["T_DOC_COMMENT","\/**\n     * Flag for Magento installation status\n     *\n     * @var null|bool\n     *\/",243],["T_WHITESPACE","\n    ",247],["T_PROTECTED","protected",248],["T_WHITESPACE"," ",248],["T_VARIABLE","$_isInstalled",248],["T_WHITESPACE"," ",248],"=",["T_WHITESPACE"," ",248],["T_STRING","null",248],";",["T_WHITESPACE","\n\n    ",248],["T_DOC_COMMENT","\/**\n     * Constructor\n     *\/",250],["T_WHITESPACE","\n    ",252],["T_PUBLIC","public",253],["T_WHITESPACE"," ",253],["T_FUNCTION","function",253],["T_WHITESPACE"," ",253],["T_STRING","__construct",253],"(",")",["T_WHITESPACE","\n    ",253],"{",["T_WHITESPACE","\n    ",254],"}",["T_WHITESPACE","\n\n    ",255],["T_DOC_COMMENT","\/**\n     * Initialize application without request processing\n     *\n     * @param  string|array $code\n     * @param  string $type\n     * @param  string|array $options\n     * @return Mage_Core_Model_App\n     *\/",257],["T_WHITESPACE","\n    ",264],["T_PUBLIC","public",265],["T_WHITESPACE"," ",265],["T_FUNCTION","function",265],["T_WHITESPACE"," ",265],["T_STRING","init",265],"(",["T_VARIABLE","$code",265],",",["T_WHITESPACE"," ",265],["T_VARIABLE","$type",265],["T_WHITESPACE"," ",265],"=",["T_WHITESPACE"," ",265],["T_STRING","null",265],",",["T_WHITESPACE"," ",265],["T_VARIABLE","$options",265],["T_WHITESPACE"," ",265],"=",["T_WHITESPACE"," ",265],["T_ARRAY","array",265],"(",")",")",["T_WHITESPACE","\n    ",265],"{",["T_WHITESPACE","\n        ",266],["T_VARIABLE","$this",267],["T_OBJECT_OPERATOR","->",267],["T_STRING","_initEnvironment",267],"(",")",";",["T_WHITESPACE","\n        ",267],["T_IF","if",268],["T_WHITESPACE"," ",268],"(",["T_STRING","is_string",268],"(",["T_VARIABLE","$options",268],")",")",["T_WHITESPACE"," ",268],"{",["T_WHITESPACE","\n            ",268],["T_VARIABLE","$options",269],["T_WHITESPACE"," ",269],"=",["T_WHITESPACE"," ",269],["T_ARRAY","array",269],"(",["T_CONSTANT_ENCAPSED_STRING","'etc_dir'",269],["T_DOUBLE_ARROW","=>",269],["T_VARIABLE","$options",269],")",";",["T_WHITESPACE","\n        ",269],"}",["T_WHITESPACE","\n\n        ",270],["T_STRING","Varien_Profiler",272],["T_DOUBLE_COLON","::",272],["T_STRING","start",272],"(",["T_CONSTANT_ENCAPSED_STRING","'mage::app::init::config'",272],")",";",["T_WHITESPACE","\n        ",272],["T_VARIABLE","$this",273],["T_OBJECT_OPERATOR","->",273],["T_STRING","_config",273],["T_WHITESPACE"," ",273],"=",["T_WHITESPACE"," ",273],["T_STRING","Mage",273],["T_DOUBLE_COLON","::",273],["T_STRING","getConfig",273],"(",")",";",["T_WHITESPACE","\n        ",273],["T_VARIABLE","$this",274],["T_OBJECT_OPERATOR","->",274],["T_STRING","_config",274],["T_OBJECT_OPERATOR","->",274],["T_STRING","setOptions",274],"(",["T_VARIABLE","$options",274],")",";",["T_WHITESPACE","\n        ",274],["T_VARIABLE","$this",275],["T_OBJECT_OPERATOR","->",275],["T_STRING","_initBaseConfig",275],"(",")",";",["T_WHITESPACE","\n        ",275],["T_VARIABLE","$this",276],["T_OBJECT_OPERATOR","->",276],["T_STRING","_initCache",276],"(",")",";",["T_WHITESPACE","\n        ",276],["T_VARIABLE","$this",277],["T_OBJECT_OPERATOR","->",277],["T_STRING","_config",277],["T_OBJECT_OPERATOR","->",277],["T_STRING","init",277],"(",["T_VARIABLE","$options",277],")",";",["T_WHITESPACE","\n        ",277],["T_STRING","Varien_Profiler",278],["T_DOUBLE_COLON","::",278],["T_STRING","stop",278],"(",["T_CONSTANT_ENCAPSED_STRING","'mage::app::init::config'",278],")",";",["T_WHITESPACE","\n\n        ",278],["T_IF","if",280],["T_WHITESPACE"," ",280],"(",["T_VARIABLE","$this",280],["T_OBJECT_OPERATOR","->",280],["T_STRING","_isInstalled",280],["T_WHITESPACE"," ",280],["T_IS_IDENTICAL","===",280],["T_WHITESPACE"," ",280],["T_STRING","null",280],")",["T_WHITESPACE"," ",280],"{",["T_WHITESPACE","\n            ",280],["T_VARIABLE","$this",281],["T_OBJECT_OPERATOR","->",281],["T_STRING","_isInstalled",281],["T_WHITESPACE"," ",281],"=",["T_WHITESPACE"," ",281],["T_STRING","Mage",281],["T_DOUBLE_COLON","::",281],["T_STRING","isInstalled",281],"(",["T_VARIABLE","$options",281],")",";",["T_WHITESPACE","\n        ",281],"}",["T_WHITESPACE","\n\n        ",282],["T_IF","if",284],["T_WHITESPACE"," ",284],"(",["T_VARIABLE","$this",284],["T_OBJECT_OPERATOR","->",284],["T_STRING","_isInstalled",284],")",["T_WHITESPACE"," ",284],"{",["T_WHITESPACE","\n            ",284],["T_VARIABLE","$this",285],["T_OBJECT_OPERATOR","->",285],["T_STRING","_initCurrentStore",285],"(",["T_VARIABLE","$code",285],",",["T_WHITESPACE"," ",285],["T_VARIABLE","$type",285],")",";",["T_WHITESPACE","\n            ",285],["T_VARIABLE","$this",286],["T_OBJECT_OPERATOR","->",286],["T_STRING","_initRequest",286],"(",")",";",["T_WHITESPACE","\n        ",286],"}",["T_WHITESPACE","\n        ",287],["T_RETURN","return",288],["T_WHITESPACE"," ",288],["T_VARIABLE","$this",288],";",["T_WHITESPACE","\n    ",288],"}",["T_WHITESPACE","\n\n    ",289],["T_DOC_COMMENT","\/**\n     * Common logic for all run types\n     *\n     * @param  string|array $options\n     * @return Mage_Core_Model_App\n     *\/",291],["T_WHITESPACE","\n    ",296],["T_PUBLIC","public",297],["T_WHITESPACE"," ",297],["T_FUNCTION","function",297],["T_WHITESPACE"," ",297],["T_STRING","baseInit",297],"(",["T_VARIABLE","$options",297],")",["T_WHITESPACE","\n    ",297],"{",["T_WHITESPACE","\n        ",298],["T_VARIABLE","$this",299],["T_OBJECT_OPERATOR","->",299],["T_STRING","_initEnvironment",299],"(",")",";",["T_WHITESPACE","\n\n        ",299],["T_VARIABLE","$this",301],["T_OBJECT_OPERATOR","->",301],["T_STRING","_config",301],["T_WHITESPACE"," ",301],"=",["T_WHITESPACE"," ",301],["T_STRING","Mage",301],["T_DOUBLE_COLON","::",301],["T_STRING","getConfig",301],"(",")",";",["T_WHITESPACE","\n        ",301],["T_VARIABLE","$this",302],["T_OBJECT_OPERATOR","->",302],["T_STRING","_config",302],["T_OBJECT_OPERATOR","->",302],["T_STRING","setOptions",302],"(",["T_VARIABLE","$options",302],")",";",["T_WHITESPACE","\n\n        ",302],["T_VARIABLE","$this",304],["T_OBJECT_OPERATOR","->",304],["T_STRING","_initBaseConfig",304],"(",")",";",["T_WHITESPACE","\n        ",304],["T_VARIABLE","$cacheInitOptions",305],["T_WHITESPACE"," ",305],"=",["T_WHITESPACE"," ",305],["T_STRING","is_array",305],"(",["T_VARIABLE","$options",305],")",["T_WHITESPACE"," ",305],["T_BOOLEAN_AND","&&",305],["T_WHITESPACE"," ",305],["T_STRING","array_key_exists",305],"(",["T_CONSTANT_ENCAPSED_STRING","'cache'",305],",",["T_WHITESPACE"," ",305],["T_VARIABLE","$options",305],")",["T_WHITESPACE"," ",305],"?",["T_WHITESPACE"," ",305],["T_VARIABLE","$options",305],"[",["T_CONSTANT_ENCAPSED_STRING","'cache'",305],"]",["T_WHITESPACE"," ",305],":",["T_WHITESPACE"," ",305],["T_ARRAY","array",305],"(",")",";",["T_WHITESPACE","\n        ",305],["T_VARIABLE","$this",306],["T_OBJECT_OPERATOR","->",306],["T_STRING","_initCache",306],"(",["T_VARIABLE","$cacheInitOptions",306],")",";",["T_WHITESPACE","\n\n        ",306],["T_RETURN","return",308],["T_WHITESPACE"," ",308],["T_VARIABLE","$this",308],";",["T_WHITESPACE","\n    ",308],"}",["T_WHITESPACE","\n\n    ",309],["T_DOC_COMMENT","\/**\n     * Run light version of application with specified modules support\n     *\n     * @see Mage_Core_Model_App->run()\n     *\n     * @param  string|array $scopeCode\n     * @param  string $scopeType\n     * @param  string|array $options\n     * @param  string|array $modules\n     * @return Mage_Core_Model_App\n     *\/",311],["T_WHITESPACE","\n    ",321],["T_PUBLIC","public",322],["T_WHITESPACE"," ",322],["T_FUNCTION","function",322],["T_WHITESPACE"," ",322],["T_STRING","initSpecified",322],"(",["T_VARIABLE","$scopeCode",322],",",["T_WHITESPACE"," ",322],["T_VARIABLE","$scopeType",322],["T_WHITESPACE"," ",322],"=",["T_WHITESPACE"," ",322],["T_STRING","null",322],",",["T_WHITESPACE"," ",322],["T_VARIABLE","$options",322],["T_WHITESPACE"," ",322],"=",["T_WHITESPACE"," ",322],["T_ARRAY","array",322],"(",")",",",["T_WHITESPACE"," ",322],["T_VARIABLE","$modules",322],["T_WHITESPACE"," ",322],"=",["T_WHITESPACE"," ",322],["T_ARRAY","array",322],"(",")",")",["T_WHITESPACE","\n    ",322],"{",["T_WHITESPACE","\n        ",323],["T_VARIABLE","$this",324],["T_OBJECT_OPERATOR","->",324],["T_STRING","baseInit",324],"(",["T_VARIABLE","$options",324],")",";",["T_WHITESPACE","\n\n        ",324],["T_IF","if",326],["T_WHITESPACE"," ",326],"(","!",["T_EMPTY","empty",326],"(",["T_VARIABLE","$modules",326],")",")",["T_WHITESPACE"," ",326],"{",["T_WHITESPACE","\n            ",326],["T_VARIABLE","$this",327],["T_OBJECT_OPERATOR","->",327],["T_STRING","_config",327],["T_OBJECT_OPERATOR","->",327],["T_STRING","addAllowedModules",327],"(",["T_VARIABLE","$modules",327],")",";",["T_WHITESPACE","\n        ",327],"}",["T_WHITESPACE","\n        ",328],["T_VARIABLE","$this",329],["T_OBJECT_OPERATOR","->",329],["T_STRING","_initModules",329],"(",")",";",["T_WHITESPACE","\n        ",329],["T_VARIABLE","$this",330],["T_OBJECT_OPERATOR","->",330],["T_STRING","_initCurrentStore",330],"(",["T_VARIABLE","$scopeCode",330],",",["T_WHITESPACE"," ",330],["T_VARIABLE","$scopeType",330],")",";",["T_WHITESPACE","\n\n        ",330],["T_RETURN","return",332],["T_WHITESPACE"," ",332],["T_VARIABLE","$this",332],";",["T_WHITESPACE","\n    ",332],"}",["T_WHITESPACE","\n\n    ",333],["T_DOC_COMMENT","\/**\n     * Run application. Run process responsible for request processing and sending response.\n     * List of supported parameters:\n     *  scope_code - code of default scope (website\/store_group\/store code)\n     *  scope_type - type of default scope (website\/group\/store)\n     *  options    - configuration options\n     *\n     * @param  array $params application run parameters\n     * @return Mage_Core_Model_App\n     *\/",335],["T_WHITESPACE","\n    ",344],["T_PUBLIC","public",345],["T_WHITESPACE"," ",345],["T_FUNCTION","function",345],["T_WHITESPACE"," ",345],["T_STRING","run",345],"(",["T_VARIABLE","$params",345],")",["T_WHITESPACE","\n    ",345],"{",["T_WHITESPACE","\n        ",346],["T_VARIABLE","$options",347],["T_WHITESPACE"," ",347],"=",["T_WHITESPACE"," ",347],["T_ISSET","isset",347],"(",["T_VARIABLE","$params",347],"[",["T_CONSTANT_ENCAPSED_STRING","'options'",347],"]",")",["T_WHITESPACE"," ",347],"?",["T_WHITESPACE"," ",347],["T_VARIABLE","$params",347],"[",["T_CONSTANT_ENCAPSED_STRING","'options'",347],"]",["T_WHITESPACE"," ",347],":",["T_WHITESPACE"," ",347],["T_ARRAY","array",347],"(",")",";",["T_WHITESPACE","\n        ",347],["T_VARIABLE","$this",348],["T_OBJECT_OPERATOR","->",348],["T_STRING","baseInit",348],"(",["T_VARIABLE","$options",348],")",";",["T_WHITESPACE","\n        ",348],["T_STRING","Mage",349],["T_DOUBLE_COLON","::",349],["T_STRING","register",349],"(",["T_CONSTANT_ENCAPSED_STRING","'application_params'",349],",",["T_WHITESPACE"," ",349],["T_VARIABLE","$params",349],")",";",["T_WHITESPACE","\n\n        ",349],["T_IF","if",351],["T_WHITESPACE"," ",351],"(",["T_VARIABLE","$this",351],["T_OBJECT_OPERATOR","->",351],["T_STRING","_cache",351],["T_OBJECT_OPERATOR","->",351],["T_STRING","processRequest",351],"(",")",")",["T_WHITESPACE"," ",351],"{",["T_WHITESPACE","\n            ",351],["T_VARIABLE","$this",352],["T_OBJECT_OPERATOR","->",352],["T_STRING","getResponse",352],"(",")",["T_OBJECT_OPERATOR","->",352],["T_STRING","sendResponse",352],"(",")",";",["T_WHITESPACE","\n        ",352],"}",["T_WHITESPACE"," ",353],["T_ELSE","else",353],["T_WHITESPACE"," ",353],"{",["T_WHITESPACE","\n            ",353],["T_VARIABLE","$this",354],["T_OBJECT_OPERATOR","->",354],["T_STRING","_initModules",354],"(",")",";",["T_WHITESPACE","\n            ",354],["T_VARIABLE","$this",355],["T_OBJECT_OPERATOR","->",355],["T_STRING","loadAreaPart",355],"(",["T_STRING","Mage_Core_Model_App_Area",355],["T_DOUBLE_COLON","::",355],["T_STRING","AREA_GLOBAL",355],",",["T_WHITESPACE"," ",355],["T_STRING","Mage_Core_Model_App_Area",355],["T_DOUBLE_COLON","::",355],["T_STRING","PART_EVENTS",355],")",";",["T_WHITESPACE","\n\n            ",355],["T_IF","if",357],["T_WHITESPACE"," ",357],"(",["T_VARIABLE","$this",357],["T_OBJECT_OPERATOR","->",357],["T_STRING","_config",357],["T_OBJECT_OPERATOR","->",357],["T_STRING","isLocalConfigLoaded",357],"(",")",")",["T_WHITESPACE"," ",357],"{",["T_WHITESPACE","\n                ",357],["T_VARIABLE","$scopeCode",358],["T_WHITESPACE"," ",358],"=",["T_WHITESPACE"," ",358],["T_ISSET","isset",358],"(",["T_VARIABLE","$params",358],"[",["T_CONSTANT_ENCAPSED_STRING","'scope_code'",358],"]",")",["T_WHITESPACE"," ",358],"?",["T_WHITESPACE"," ",358],["T_VARIABLE","$params",358],"[",["T_CONSTANT_ENCAPSED_STRING","'scope_code'",358],"]",["T_WHITESPACE"," ",358],":",["T_WHITESPACE"," ",358],["T_CONSTANT_ENCAPSED_STRING","''",358],";",["T_WHITESPACE","\n                ",358],["T_VARIABLE","$scopeType",359],["T_WHITESPACE"," ",359],"=",["T_WHITESPACE"," ",359],["T_ISSET","isset",359],"(",["T_VARIABLE","$params",359],"[",["T_CONSTANT_ENCAPSED_STRING","'scope_type'",359],"]",")",["T_WHITESPACE"," ",359],"?",["T_WHITESPACE"," ",359],["T_VARIABLE","$params",359],"[",["T_CONSTANT_ENCAPSED_STRING","'scope_type'",359],"]",["T_WHITESPACE"," ",359],":",["T_WHITESPACE"," ",359],["T_CONSTANT_ENCAPSED_STRING","'store'",359],";",["T_WHITESPACE","\n                ",359],["T_VARIABLE","$this",360],["T_OBJECT_OPERATOR","->",360],["T_STRING","_initCurrentStore",360],"(",["T_VARIABLE","$scopeCode",360],",",["T_WHITESPACE"," ",360],["T_VARIABLE","$scopeType",360],")",";",["T_WHITESPACE","\n                ",360],["T_VARIABLE","$this",361],["T_OBJECT_OPERATOR","->",361],["T_STRING","_initRequest",361],"(",")",";",["T_WHITESPACE","\n                ",361],["T_STRING","Mage_Core_Model_Resource_Setup",362],["T_DOUBLE_COLON","::",362],["T_STRING","applyAllDataUpdates",362],"(",")",";",["T_WHITESPACE","\n            ",362],"}",["T_WHITESPACE","\n\n            ",363],["T_VARIABLE","$this",365],["T_OBJECT_OPERATOR","->",365],["T_STRING","getFrontController",365],"(",")",["T_OBJECT_OPERATOR","->",365],["T_STRING","dispatch",365],"(",")",";",["T_WHITESPACE","\n        ",365],"}",["T_WHITESPACE","\n        ",366],["T_RETURN","return",367],["T_WHITESPACE"," ",367],["T_VARIABLE","$this",367],";",["T_WHITESPACE","\n    ",367],"}",["T_WHITESPACE","\n\n    ",368],["T_DOC_COMMENT","\/**\n     * Initialize PHP environment\n     *\n     * @return Mage_Core_Model_App\n     *\/",370],["T_WHITESPACE","\n    ",374],["T_PROTECTED","protected",375],["T_WHITESPACE"," ",375],["T_FUNCTION","function",375],["T_WHITESPACE"," ",375],["T_STRING","_initEnvironment",375],"(",")",["T_WHITESPACE","\n    ",375],"{",["T_WHITESPACE","\n        ",376],["T_VARIABLE","$this",377],["T_OBJECT_OPERATOR","->",377],["T_STRING","setErrorHandler",377],"(",["T_STRING","self",377],["T_DOUBLE_COLON","::",377],["T_STRING","DEFAULT_ERROR_HANDLER",377],")",";",["T_WHITESPACE","\n        ",377],["T_STRING","date_default_timezone_set",378],"(",["T_STRING","Mage_Core_Model_Locale",378],["T_DOUBLE_COLON","::",378],["T_STRING","DEFAULT_TIMEZONE",378],")",";",["T_WHITESPACE","\n        ",378],["T_RETURN","return",379],["T_WHITESPACE"," ",379],["T_VARIABLE","$this",379],";",["T_WHITESPACE","\n    ",379],"}",["T_WHITESPACE","\n\n    ",380],["T_DOC_COMMENT","\/**\n     * Initialize base system configuration (local.xml and config.xml files).\n     * Base configuration provide ability initialize DB connection and cache backend\n     *\n     * @return Mage_Core_Model_App\n     *\/",382],["T_WHITESPACE","\n    ",387],["T_PROTECTED","protected",388],["T_WHITESPACE"," ",388],["T_FUNCTION","function",388],["T_WHITESPACE"," ",388],["T_STRING","_initBaseConfig",388],"(",")",["T_WHITESPACE","\n    ",388],"{",["T_WHITESPACE","\n        ",389],["T_STRING","Varien_Profiler",390],["T_DOUBLE_COLON","::",390],["T_STRING","start",390],"(",["T_CONSTANT_ENCAPSED_STRING","'mage::app::init::system_config'",390],")",";",["T_WHITESPACE","\n        ",390],["T_VARIABLE","$this",391],["T_OBJECT_OPERATOR","->",391],["T_STRING","_config",391],["T_OBJECT_OPERATOR","->",391],["T_STRING","loadBase",391],"(",")",";",["T_WHITESPACE","\n        ",391],["T_STRING","Varien_Profiler",392],["T_DOUBLE_COLON","::",392],["T_STRING","stop",392],"(",["T_CONSTANT_ENCAPSED_STRING","'mage::app::init::system_config'",392],")",";",["T_WHITESPACE","\n        ",392],["T_RETURN","return",393],["T_WHITESPACE"," ",393],["T_VARIABLE","$this",393],";",["T_WHITESPACE","\n    ",393],"}",["T_WHITESPACE","\n\n    ",394],["T_DOC_COMMENT","\/**\n     * Initialize application cache instance\n     *\n     * @param array $cacheInitOptions\n     * @return Mage_Core_Model_App\n     *\/",396],["T_WHITESPACE","\n    ",401],["T_PROTECTED","protected",402],["T_WHITESPACE"," ",402],["T_FUNCTION","function",402],["T_WHITESPACE"," ",402],["T_STRING","_initCache",402],"(",["T_ARRAY","array",402],["T_WHITESPACE"," ",402],["T_VARIABLE","$cacheInitOptions",402],["T_WHITESPACE"," ",402],"=",["T_WHITESPACE"," ",402],["T_ARRAY","array",402],"(",")",")",["T_WHITESPACE","\n    ",402],"{",["T_WHITESPACE","\n        ",403],["T_VARIABLE","$this",404],["T_OBJECT_OPERATOR","->",404],["T_STRING","_isCacheLocked",404],["T_WHITESPACE"," ",404],"=",["T_WHITESPACE"," ",404],["T_STRING","true",404],";",["T_WHITESPACE","\n        ",404],["T_VARIABLE","$options",405],["T_WHITESPACE"," ",405],"=",["T_WHITESPACE"," ",405],["T_VARIABLE","$this",405],["T_OBJECT_OPERATOR","->",405],["T_STRING","_config",405],["T_OBJECT_OPERATOR","->",405],["T_STRING","getNode",405],"(",["T_CONSTANT_ENCAPSED_STRING","'global\/cache'",405],")",";",["T_WHITESPACE","\n        ",405],["T_IF","if",406],["T_WHITESPACE"," ",406],"(",["T_VARIABLE","$options",406],")",["T_WHITESPACE"," ",406],"{",["T_WHITESPACE","\n            ",406],["T_VARIABLE","$options",407],["T_WHITESPACE"," ",407],"=",["T_WHITESPACE"," ",407],["T_VARIABLE","$options",407],["T_OBJECT_OPERATOR","->",407],["T_STRING","asArray",407],"(",")",";",["T_WHITESPACE","\n        ",407],"}",["T_WHITESPACE"," ",408],["T_ELSE","else",408],["T_WHITESPACE"," ",408],"{",["T_WHITESPACE","\n            ",408],["T_VARIABLE","$options",409],["T_WHITESPACE"," ",409],"=",["T_WHITESPACE"," ",409],["T_ARRAY","array",409],"(",")",";",["T_WHITESPACE","\n        ",409],"}",["T_WHITESPACE","\n        ",410],["T_VARIABLE","$options",411],["T_WHITESPACE"," ",411],"=",["T_WHITESPACE"," ",411],["T_STRING","array_merge",411],"(",["T_VARIABLE","$options",411],",",["T_WHITESPACE"," ",411],["T_VARIABLE","$cacheInitOptions",411],")",";",["T_WHITESPACE","\n        ",411],["T_VARIABLE","$this",412],["T_OBJECT_OPERATOR","->",412],["T_STRING","_cache",412],["T_WHITESPACE"," ",412],"=",["T_WHITESPACE"," ",412],["T_STRING","Mage",412],["T_DOUBLE_COLON","::",412],["T_STRING","getModel",412],"(",["T_CONSTANT_ENCAPSED_STRING","'core\/cache'",412],",",["T_WHITESPACE"," ",412],["T_VARIABLE","$options",412],")",";",["T_WHITESPACE","\n        ",412],["T_VARIABLE","$this",413],["T_OBJECT_OPERATOR","->",413],["T_STRING","_isCacheLocked",413],["T_WHITESPACE"," ",413],"=",["T_WHITESPACE"," ",413],["T_STRING","false",413],";",["T_WHITESPACE","\n        ",413],["T_RETURN","return",414],["T_WHITESPACE"," ",414],["T_VARIABLE","$this",414],";",["T_WHITESPACE","\n    ",414],"}",["T_WHITESPACE","\n\n    ",415],["T_DOC_COMMENT","\/**\n     * Initialize active modules configuration and data\n     *\n     * @return Mage_Core_Model_App\n     *\/",417],["T_WHITESPACE","\n    ",421],["T_PROTECTED","protected",422],["T_WHITESPACE"," ",422],["T_FUNCTION","function",422],["T_WHITESPACE"," ",422],["T_STRING","_initModules",422],"(",")",["T_WHITESPACE","\n    ",422],"{",["T_WHITESPACE","\n        ",423],["T_IF","if",424],["T_WHITESPACE"," ",424],"(","!",["T_VARIABLE","$this",424],["T_OBJECT_OPERATOR","->",424],["T_STRING","_config",424],["T_OBJECT_OPERATOR","->",424],["T_STRING","loadModulesCache",424],"(",")",")",["T_WHITESPACE"," ",424],"{",["T_WHITESPACE","\n            ",424],["T_VARIABLE","$this",425],["T_OBJECT_OPERATOR","->",425],["T_STRING","_config",425],["T_OBJECT_OPERATOR","->",425],["T_STRING","loadModules",425],"(",")",";",["T_WHITESPACE","\n            ",425],["T_IF","if",426],["T_WHITESPACE"," ",426],"(",["T_VARIABLE","$this",426],["T_OBJECT_OPERATOR","->",426],["T_STRING","_config",426],["T_OBJECT_OPERATOR","->",426],["T_STRING","isLocalConfigLoaded",426],"(",")",["T_WHITESPACE"," ",426],["T_BOOLEAN_AND","&&",426],["T_WHITESPACE"," ",426],"!",["T_VARIABLE","$this",426],["T_OBJECT_OPERATOR","->",426],["T_STRING","_shouldSkipProcessModulesUpdates",426],"(",")",")",["T_WHITESPACE"," ",426],"{",["T_WHITESPACE","\n                ",426],["T_STRING","Varien_Profiler",427],["T_DOUBLE_COLON","::",427],["T_STRING","start",427],"(",["T_CONSTANT_ENCAPSED_STRING","'mage::app::init::apply_db_schema_updates'",427],")",";",["T_WHITESPACE","\n                ",427],["T_STRING","Mage_Core_Model_Resource_Setup",428],["T_DOUBLE_COLON","::",428],["T_STRING","applyAllUpdates",428],"(",")",";",["T_WHITESPACE","\n                ",428],["T_STRING","Varien_Profiler",429],["T_DOUBLE_COLON","::",429],["T_STRING","stop",429],"(",["T_CONSTANT_ENCAPSED_STRING","'mage::app::init::apply_db_schema_updates'",429],")",";",["T_WHITESPACE","\n            ",429],"}",["T_WHITESPACE","\n            ",430],["T_VARIABLE","$this",431],["T_OBJECT_OPERATOR","->",431],["T_STRING","_config",431],["T_OBJECT_OPERATOR","->",431],["T_STRING","loadDb",431],"(",")",";",["T_WHITESPACE","\n            ",431],["T_VARIABLE","$this",432],["T_OBJECT_OPERATOR","->",432],["T_STRING","_config",432],["T_OBJECT_OPERATOR","->",432],["T_STRING","saveCache",432],"(",")",";",["T_WHITESPACE","\n        ",432],"}",["T_WHITESPACE","\n        ",433],["T_RETURN","return",434],["T_WHITESPACE"," ",434],["T_VARIABLE","$this",434],";",["T_WHITESPACE","\n    ",434],"}",["T_WHITESPACE","\n\n    ",435],["T_DOC_COMMENT","\/**\n     * Check whether modules updates processing should be skipped\n     *\n     * @return bool\n     *\/",437],["T_WHITESPACE","\n    ",441],["T_PROTECTED","protected",442],["T_WHITESPACE"," ",442],["T_FUNCTION","function",442],["T_WHITESPACE"," ",442],["T_STRING","_shouldSkipProcessModulesUpdates",442],"(",")",["T_WHITESPACE","\n    ",442],"{",["T_WHITESPACE","\n        ",443],["T_IF","if",444],["T_WHITESPACE"," ",444],"(","!",["T_STRING","Mage",444],["T_DOUBLE_COLON","::",444],["T_STRING","isInstalled",444],"(",")",")",["T_WHITESPACE"," ",444],"{",["T_WHITESPACE","\n            ",444],["T_RETURN","return",445],["T_WHITESPACE"," ",445],["T_STRING","false",445],";",["T_WHITESPACE","\n        ",445],"}",["T_WHITESPACE","\n\n        ",446],["T_VARIABLE","$ignoreDevelopmentMode",448],["T_WHITESPACE"," ",448],"=",["T_WHITESPACE"," ",448],["T_BOOL_CAST","(bool)",448],["T_STRING_CAST","(string)",448],["T_VARIABLE","$this",448],["T_OBJECT_OPERATOR","->",448],["T_STRING","_config",448],["T_OBJECT_OPERATOR","->",448],["T_STRING","getNode",448],"(",["T_STRING","self",448],["T_DOUBLE_COLON","::",448],["T_STRING","XML_PATH_IGNORE_DEV_MODE",448],")",";",["T_WHITESPACE","\n        ",448],["T_IF","if",449],["T_WHITESPACE"," ",449],"(",["T_STRING","Mage",449],["T_DOUBLE_COLON","::",449],["T_STRING","getIsDeveloperMode",449],"(",")",["T_WHITESPACE"," ",449],["T_BOOLEAN_AND","&&",449],["T_WHITESPACE"," ",449],"!",["T_VARIABLE","$ignoreDevelopmentMode",449],")",["T_WHITESPACE"," ",449],"{",["T_WHITESPACE","\n            ",449],["T_RETURN","return",450],["T_WHITESPACE"," ",450],["T_STRING","false",450],";",["T_WHITESPACE","\n        ",450],"}",["T_WHITESPACE","\n\n        ",451],["T_RETURN","return",453],["T_WHITESPACE"," ",453],["T_BOOL_CAST","(bool)",453],["T_STRING_CAST","(string)",453],["T_VARIABLE","$this",453],["T_OBJECT_OPERATOR","->",453],["T_STRING","_config",453],["T_OBJECT_OPERATOR","->",453],["T_STRING","getNode",453],"(",["T_STRING","self",453],["T_DOUBLE_COLON","::",453],["T_STRING","XML_PATH_SKIP_PROCESS_MODULES_UPDATES",453],")",";",["T_WHITESPACE","\n    ",453],"}",["T_WHITESPACE","\n\n    ",454],["T_DOC_COMMENT","\/**\n     * Init request object\n     *\n     * @return Mage_Core_Model_App\n     *\/",456],["T_WHITESPACE","\n    ",460],["T_PROTECTED","protected",461],["T_WHITESPACE"," ",461],["T_FUNCTION","function",461],["T_WHITESPACE"," ",461],["T_STRING","_initRequest",461],"(",")",["T_WHITESPACE","\n    ",461],"{",["T_WHITESPACE","\n        ",462],["T_VARIABLE","$this",463],["T_OBJECT_OPERATOR","->",463],["T_STRING","getRequest",463],"(",")",["T_OBJECT_OPERATOR","->",463],["T_STRING","setPathInfo",463],"(",")",";",["T_WHITESPACE","\n        ",463],["T_RETURN","return",464],["T_WHITESPACE"," ",464],["T_VARIABLE","$this",464],";",["T_WHITESPACE","\n    ",464],"}",["T_WHITESPACE","\n\n    ",465],["T_DOC_COMMENT","\/**\n     * Initialize currently ran store\n     *\n     * @param string $scopeCode code of default scope (website\/store_group\/store code)\n     * @param string $scopeType type of default scope (website\/group\/store)\n     * @return unknown_type\n     *\/",467],["T_WHITESPACE","\n    ",473],["T_PROTECTED","protected",474],["T_WHITESPACE"," ",474],["T_FUNCTION","function",474],["T_WHITESPACE"," ",474],["T_STRING","_initCurrentStore",474],"(",["T_VARIABLE","$scopeCode",474],",",["T_WHITESPACE"," ",474],["T_VARIABLE","$scopeType",474],")",["T_WHITESPACE","\n    ",474],"{",["T_WHITESPACE","\n        ",475],["T_STRING","Varien_Profiler",476],["T_DOUBLE_COLON","::",476],["T_STRING","start",476],"(",["T_CONSTANT_ENCAPSED_STRING","'mage::app::init::stores'",476],")",";",["T_WHITESPACE","\n        ",476],["T_VARIABLE","$this",477],["T_OBJECT_OPERATOR","->",477],["T_STRING","_initStores",477],"(",")",";",["T_WHITESPACE","\n        ",477],["T_STRING","Varien_Profiler",478],["T_DOUBLE_COLON","::",478],["T_STRING","stop",478],"(",["T_CONSTANT_ENCAPSED_STRING","'mage::app::init::stores'",478],")",";",["T_WHITESPACE","\n\n        ",478],["T_IF","if",480],["T_WHITESPACE"," ",480],"(",["T_EMPTY","empty",480],"(",["T_VARIABLE","$scopeCode",480],")",["T_WHITESPACE"," ",480],["T_BOOLEAN_AND","&&",480],["T_WHITESPACE"," ",480],"!",["T_STRING","is_null",480],"(",["T_VARIABLE","$this",480],["T_OBJECT_OPERATOR","->",480],["T_STRING","_website",480],")",")",["T_WHITESPACE"," ",480],"{",["T_WHITESPACE","\n            ",480],["T_VARIABLE","$scopeCode",481],["T_WHITESPACE"," ",481],"=",["T_WHITESPACE"," ",481],["T_VARIABLE","$this",481],["T_OBJECT_OPERATOR","->",481],["T_STRING","_website",481],["T_OBJECT_OPERATOR","->",481],["T_STRING","getCode",481],"(",")",";",["T_WHITESPACE","\n            ",481],["T_VARIABLE","$scopeType",482],["T_WHITESPACE"," ",482],"=",["T_WHITESPACE"," ",482],["T_CONSTANT_ENCAPSED_STRING","'website'",482],";",["T_WHITESPACE","\n        ",482],"}",["T_WHITESPACE","\n        ",483],["T_SWITCH","switch",484],["T_WHITESPACE"," ",484],"(",["T_VARIABLE","$scopeType",484],")",["T_WHITESPACE"," ",484],"{",["T_WHITESPACE","\n            ",484],["T_CASE","case",485],["T_WHITESPACE"," ",485],["T_CONSTANT_ENCAPSED_STRING","'store'",485],":",["T_WHITESPACE","\n                ",485],["T_VARIABLE","$this",486],["T_OBJECT_OPERATOR","->",486],["T_STRING","_currentStore",486],["T_WHITESPACE"," ",486],"=",["T_WHITESPACE"," ",486],["T_VARIABLE","$scopeCode",486],";",["T_WHITESPACE","\n                ",486],["T_BREAK","break",487],";",["T_WHITESPACE","\n            ",487],["T_CASE","case",488],["T_WHITESPACE"," ",488],["T_CONSTANT_ENCAPSED_STRING","'group'",488],":",["T_WHITESPACE","\n                ",488],["T_VARIABLE","$this",489],["T_OBJECT_OPERATOR","->",489],["T_STRING","_currentStore",489],["T_WHITESPACE"," ",489],"=",["T_WHITESPACE"," ",489],["T_VARIABLE","$this",489],["T_OBJECT_OPERATOR","->",489],["T_STRING","_getStoreByGroup",489],"(",["T_VARIABLE","$scopeCode",489],")",";",["T_WHITESPACE","\n                ",489],["T_BREAK","break",490],";",["T_WHITESPACE","\n            ",490],["T_CASE","case",491],["T_WHITESPACE"," ",491],["T_CONSTANT_ENCAPSED_STRING","'website'",491],":",["T_WHITESPACE","\n                ",491],["T_VARIABLE","$this",492],["T_OBJECT_OPERATOR","->",492],["T_STRING","_currentStore",492],["T_WHITESPACE"," ",492],"=",["T_WHITESPACE"," ",492],["T_VARIABLE","$this",492],["T_OBJECT_OPERATOR","->",492],["T_STRING","_getStoreByWebsite",492],"(",["T_VARIABLE","$scopeCode",492],")",";",["T_WHITESPACE","\n                ",492],["T_BREAK","break",493],";",["T_WHITESPACE","\n            ",493],["T_DEFAULT","default",494],":",["T_WHITESPACE","\n                ",494],["T_VARIABLE","$this",495],["T_OBJECT_OPERATOR","->",495],["T_STRING","throwStoreException",495],"(",")",";",["T_WHITESPACE","\n        ",495],"}",["T_WHITESPACE","\n\n        ",496],["T_IF","if",498],["T_WHITESPACE"," ",498],"(","!",["T_EMPTY","empty",498],"(",["T_VARIABLE","$this",498],["T_OBJECT_OPERATOR","->",498],["T_STRING","_currentStore",498],")",")",["T_WHITESPACE"," ",498],"{",["T_WHITESPACE","\n            ",498],["T_VARIABLE","$this",499],["T_OBJECT_OPERATOR","->",499],["T_STRING","_checkCookieStore",499],"(",["T_VARIABLE","$scopeType",499],")",";",["T_WHITESPACE","\n            ",499],["T_VARIABLE","$this",500],["T_OBJECT_OPERATOR","->",500],["T_STRING","_checkGetStore",500],"(",["T_VARIABLE","$scopeType",500],")",";",["T_WHITESPACE","\n        ",500],"}",["T_WHITESPACE","\n        ",501],["T_VARIABLE","$this",502],["T_OBJECT_OPERATOR","->",502],["T_STRING","_useSessionInUrl",502],["T_WHITESPACE"," ",502],"=",["T_WHITESPACE"," ",502],["T_VARIABLE","$this",502],["T_OBJECT_OPERATOR","->",502],["T_STRING","getStore",502],"(",")",["T_OBJECT_OPERATOR","->",502],["T_STRING","getConfig",502],"(",["T_WHITESPACE","\n            ",502],["T_STRING","Mage_Core_Model_Session_Abstract",503],["T_DOUBLE_COLON","::",503],["T_STRING","XML_PATH_USE_FRONTEND_SID",503],")",";",["T_WHITESPACE","\n        ",503],["T_RETURN","return",504],["T_WHITESPACE"," ",504],["T_VARIABLE","$this",504],";",["T_WHITESPACE","\n    ",504],"}",["T_WHITESPACE","\n\n    ",505],["T_DOC_COMMENT","\/**\n     * Retrieve cookie object\n     *\n     * @return Mage_Core_Model_Cookie\n     *\/",507],["T_WHITESPACE","\n    ",511],["T_PUBLIC","public",512],["T_WHITESPACE"," ",512],["T_FUNCTION","function",512],["T_WHITESPACE"," ",512],["T_STRING","getCookie",512],"(",")",["T_WHITESPACE","\n    ",512],"{",["T_WHITESPACE","\n        ",513],["T_RETURN","return",514],["T_WHITESPACE"," ",514],["T_STRING","Mage",514],["T_DOUBLE_COLON","::",514],["T_STRING","getSingleton",514],"(",["T_CONSTANT_ENCAPSED_STRING","'core\/cookie'",514],")",";",["T_WHITESPACE","\n    ",514],"}",["T_WHITESPACE","\n\n    ",515],["T_DOC_COMMENT","\/**\n     * Check get store\n     *\n     * @return Mage_Core_Model_App\n     *\/",517],["T_WHITESPACE","\n    ",521],["T_PROTECTED","protected",522],["T_WHITESPACE"," ",522],["T_FUNCTION","function",522],["T_WHITESPACE"," ",522],["T_STRING","_checkGetStore",522],"(",["T_VARIABLE","$type",522],")",["T_WHITESPACE","\n    ",522],"{",["T_WHITESPACE","\n        ",523],["T_IF","if",524],["T_WHITESPACE"," ",524],"(",["T_EMPTY","empty",524],"(",["T_VARIABLE","$_GET",524],")",")",["T_WHITESPACE"," ",524],"{",["T_WHITESPACE","\n            ",524],["T_RETURN","return",525],["T_WHITESPACE"," ",525],["T_VARIABLE","$this",525],";",["T_WHITESPACE","\n        ",525],"}",["T_WHITESPACE","\n\n        ",526],["T_DOC_COMMENT","\/**\n         * @todo check XML_PATH_STORE_IN_URL\n         *\/",528],["T_WHITESPACE","\n        ",530],["T_IF","if",531],["T_WHITESPACE"," ",531],"(","!",["T_ISSET","isset",531],"(",["T_VARIABLE","$_GET",531],"[",["T_CONSTANT_ENCAPSED_STRING","'___store'",531],"]",")",")",["T_WHITESPACE"," ",531],"{",["T_WHITESPACE","\n            ",531],["T_RETURN","return",532],["T_WHITESPACE"," ",532],["T_VARIABLE","$this",532],";",["T_WHITESPACE","\n        ",532],"}",["T_WHITESPACE","\n\n        ",533],["T_VARIABLE","$store",535],["T_WHITESPACE"," ",535],"=",["T_WHITESPACE"," ",535],["T_VARIABLE","$_GET",535],"[",["T_CONSTANT_ENCAPSED_STRING","'___store'",535],"]",";",["T_WHITESPACE","\n        ",535],["T_IF","if",536],["T_WHITESPACE"," ",536],"(","!",["T_ISSET","isset",536],"(",["T_VARIABLE","$this",536],["T_OBJECT_OPERATOR","->",536],["T_STRING","_stores",536],"[",["T_VARIABLE","$store",536],"]",")",")",["T_WHITESPACE"," ",536],"{",["T_WHITESPACE","\n            ",536],["T_RETURN","return",537],["T_WHITESPACE"," ",537],["T_VARIABLE","$this",537],";",["T_WHITESPACE","\n        ",537],"}",["T_WHITESPACE","\n\n        ",538],["T_VARIABLE","$storeObj",540],["T_WHITESPACE"," ",540],"=",["T_WHITESPACE"," ",540],["T_VARIABLE","$this",540],["T_OBJECT_OPERATOR","->",540],["T_STRING","_stores",540],"[",["T_VARIABLE","$store",540],"]",";",["T_WHITESPACE","\n        ",540],["T_IF","if",541],["T_WHITESPACE"," ",541],"(","!",["T_VARIABLE","$storeObj",541],["T_OBJECT_OPERATOR","->",541],["T_STRING","getId",541],"(",")",["T_WHITESPACE"," ",541],["T_BOOLEAN_OR","||",541],["T_WHITESPACE"," ",541],"!",["T_VARIABLE","$storeObj",541],["T_OBJECT_OPERATOR","->",541],["T_STRING","getIsActive",541],"(",")",")",["T_WHITESPACE"," ",541],"{",["T_WHITESPACE","\n            ",541],["T_RETURN","return",542],["T_WHITESPACE"," ",542],["T_VARIABLE","$this",542],";",["T_WHITESPACE","\n        ",542],"}",["T_WHITESPACE","\n\n        ",543],["T_DOC_COMMENT","\/**\n         * prevent running a store from another website or store group,\n         * if website or store group was specified explicitly in Mage::run()\n         *\/",545],["T_WHITESPACE","\n        ",548],["T_VARIABLE","$curStoreObj",549],["T_WHITESPACE"," ",549],"=",["T_WHITESPACE"," ",549],["T_VARIABLE","$this",549],["T_OBJECT_OPERATOR","->",549],["T_STRING","_stores",549],"[",["T_VARIABLE","$this",549],["T_OBJECT_OPERATOR","->",549],["T_STRING","_currentStore",549],"]",";",["T_WHITESPACE","\n        ",549],["T_IF","if",550],["T_WHITESPACE"," ",550],"(",["T_VARIABLE","$type",550],["T_WHITESPACE"," ",550],["T_IS_EQUAL","==",550],["T_WHITESPACE"," ",550],["T_CONSTANT_ENCAPSED_STRING","'website'",550],["T_WHITESPACE"," ",550],["T_BOOLEAN_AND","&&",550],["T_WHITESPACE"," ",550],["T_VARIABLE","$storeObj",550],["T_OBJECT_OPERATOR","->",550],["T_STRING","getWebsiteId",550],"(",")",["T_WHITESPACE"," ",550],["T_IS_EQUAL","==",550],["T_WHITESPACE"," ",550],["T_VARIABLE","$curStoreObj",550],["T_OBJECT_OPERATOR","->",550],["T_STRING","getWebsiteId",550],"(",")",")",["T_WHITESPACE"," ",550],"{",["T_WHITESPACE","\n            ",550],["T_VARIABLE","$this",551],["T_OBJECT_OPERATOR","->",551],["T_STRING","_currentStore",551],["T_WHITESPACE"," ",551],"=",["T_WHITESPACE"," ",551],["T_VARIABLE","$store",551],";",["T_WHITESPACE","\n        ",551],"}",["T_WHITESPACE","\n        ",552],["T_ELSEIF","elseif",553],["T_WHITESPACE"," ",553],"(",["T_VARIABLE","$type",553],["T_WHITESPACE"," ",553],["T_IS_EQUAL","==",553],["T_WHITESPACE"," ",553],["T_CONSTANT_ENCAPSED_STRING","'group'",553],["T_WHITESPACE"," ",553],["T_BOOLEAN_AND","&&",553],["T_WHITESPACE"," ",553],["T_VARIABLE","$storeObj",553],["T_OBJECT_OPERATOR","->",553],["T_STRING","getGroupId",553],"(",")",["T_WHITESPACE"," ",553],["T_IS_EQUAL","==",553],["T_WHITESPACE"," ",553],["T_VARIABLE","$curStoreObj",553],["T_OBJECT_OPERATOR","->",553],["T_STRING","getGroupId",553],"(",")",")",["T_WHITESPACE"," ",553],"{",["T_WHITESPACE","\n            ",553],["T_VARIABLE","$this",554],["T_OBJECT_OPERATOR","->",554],["T_STRING","_currentStore",554],["T_WHITESPACE"," ",554],"=",["T_WHITESPACE"," ",554],["T_VARIABLE","$store",554],";",["T_WHITESPACE","\n        ",554],"}",["T_WHITESPACE","\n        ",555],["T_ELSEIF","elseif",556],["T_WHITESPACE"," ",556],"(",["T_VARIABLE","$type",556],["T_WHITESPACE"," ",556],["T_IS_EQUAL","==",556],["T_WHITESPACE"," ",556],["T_CONSTANT_ENCAPSED_STRING","'store'",556],")",["T_WHITESPACE"," ",556],"{",["T_WHITESPACE","\n            ",556],["T_VARIABLE","$this",557],["T_OBJECT_OPERATOR","->",557],["T_STRING","_currentStore",557],["T_WHITESPACE"," ",557],"=",["T_WHITESPACE"," ",557],["T_VARIABLE","$store",557],";",["T_WHITESPACE","\n        ",557],"}",["T_WHITESPACE","\n\n        ",558],["T_IF","if",560],["T_WHITESPACE"," ",560],"(",["T_VARIABLE","$this",560],["T_OBJECT_OPERATOR","->",560],["T_STRING","_currentStore",560],["T_WHITESPACE"," ",560],["T_IS_EQUAL","==",560],["T_WHITESPACE"," ",560],["T_VARIABLE","$store",560],")",["T_WHITESPACE"," ",560],"{",["T_WHITESPACE","\n            ",560],["T_VARIABLE","$store",561],["T_WHITESPACE"," ",561],"=",["T_WHITESPACE"," ",561],["T_VARIABLE","$this",561],["T_OBJECT_OPERATOR","->",561],["T_STRING","getStore",561],"(",["T_VARIABLE","$store",561],")",";",["T_WHITESPACE","\n            ",561],["T_IF","if",562],["T_WHITESPACE"," ",562],"(",["T_VARIABLE","$store",562],["T_OBJECT_OPERATOR","->",562],["T_STRING","getWebsite",562],"(",")",["T_OBJECT_OPERATOR","->",562],["T_STRING","getDefaultStore",562],"(",")",["T_OBJECT_OPERATOR","->",562],["T_STRING","getId",562],"(",")",["T_WHITESPACE"," ",562],["T_IS_EQUAL","==",562],["T_WHITESPACE"," ",562],["T_VARIABLE","$store",562],["T_OBJECT_OPERATOR","->",562],["T_STRING","getId",562],"(",")",")",["T_WHITESPACE"," ",562],"{",["T_WHITESPACE","\n                ",562],["T_VARIABLE","$this",563],["T_OBJECT_OPERATOR","->",563],["T_STRING","getCookie",563],"(",")",["T_OBJECT_OPERATOR","->",563],["T_STRING","delete",563],"(",["T_STRING","Mage_Core_Model_Store",563],["T_DOUBLE_COLON","::",563],["T_STRING","COOKIE_NAME",563],")",";",["T_WHITESPACE","\n            ",563],"}",["T_WHITESPACE"," ",564],["T_ELSE","else",564],["T_WHITESPACE"," ",564],"{",["T_WHITESPACE","\n                ",564],["T_VARIABLE","$this",565],["T_OBJECT_OPERATOR","->",565],["T_STRING","getCookie",565],"(",")",["T_OBJECT_OPERATOR","->",565],["T_STRING","set",565],"(",["T_STRING","Mage_Core_Model_Store",565],["T_DOUBLE_COLON","::",565],["T_STRING","COOKIE_NAME",565],",",["T_WHITESPACE"," ",565],["T_VARIABLE","$this",565],["T_OBJECT_OPERATOR","->",565],["T_STRING","_currentStore",565],",",["T_WHITESPACE"," ",565],["T_STRING","true",565],")",";",["T_WHITESPACE","\n            ",565],"}",["T_WHITESPACE","\n        ",566],"}",["T_WHITESPACE","\n        ",567],["T_RETURN","return",568],["T_WHITESPACE"," ",568],["T_VARIABLE","$this",568],";",["T_WHITESPACE","\n    ",568],"}",["T_WHITESPACE","\n\n    ",569],["T_DOC_COMMENT","\/**\n     * Check cookie store\n     *\n     * @param string $type\n     * @return Mage_Core_Model_App\n     *\/",571],["T_WHITESPACE","\n    ",576],["T_PROTECTED","protected",577],["T_WHITESPACE"," ",577],["T_FUNCTION","function",577],["T_WHITESPACE"," ",577],["T_STRING","_checkCookieStore",577],"(",["T_VARIABLE","$type",577],")",["T_WHITESPACE","\n    ",577],"{",["T_WHITESPACE","\n        ",578],["T_IF","if",579],["T_WHITESPACE"," ",579],"(","!",["T_VARIABLE","$this",579],["T_OBJECT_OPERATOR","->",579],["T_STRING","getCookie",579],"(",")",["T_OBJECT_OPERATOR","->",579],["T_STRING","get",579],"(",")",")",["T_WHITESPACE"," ",579],"{",["T_WHITESPACE","\n            ",579],["T_RETURN","return",580],["T_WHITESPACE"," ",580],["T_VARIABLE","$this",580],";",["T_WHITESPACE","\n        ",580],"}",["T_WHITESPACE","\n\n        ",581],["T_VARIABLE","$store",583],["T_WHITESPACE"," ",583],"=",["T_WHITESPACE"," ",583],["T_VARIABLE","$this",583],["T_OBJECT_OPERATOR","->",583],["T_STRING","getCookie",583],"(",")",["T_OBJECT_OPERATOR","->",583],["T_STRING","get",583],"(",["T_STRING","Mage_Core_Model_Store",583],["T_DOUBLE_COLON","::",583],["T_STRING","COOKIE_NAME",583],")",";",["T_WHITESPACE","\n        ",583],["T_IF","if",584],["T_WHITESPACE"," ",584],"(",["T_VARIABLE","$store",584],["T_WHITESPACE"," ",584],["T_BOOLEAN_AND","&&",584],["T_WHITESPACE"," ",584],["T_ISSET","isset",584],"(",["T_VARIABLE","$this",584],["T_OBJECT_OPERATOR","->",584],["T_STRING","_stores",584],"[",["T_VARIABLE","$store",584],"]",")",["T_WHITESPACE","\n            ",584],["T_BOOLEAN_AND","&&",585],["T_WHITESPACE"," ",585],["T_VARIABLE","$this",585],["T_OBJECT_OPERATOR","->",585],["T_STRING","_stores",585],"[",["T_VARIABLE","$store",585],"]",["T_OBJECT_OPERATOR","->",585],["T_STRING","getId",585],"(",")",["T_WHITESPACE","\n            ",585],["T_BOOLEAN_AND","&&",586],["T_WHITESPACE"," ",586],["T_VARIABLE","$this",586],["T_OBJECT_OPERATOR","->",586],["T_STRING","_stores",586],"[",["T_VARIABLE","$store",586],"]",["T_OBJECT_OPERATOR","->",586],["T_STRING","getIsActive",586],"(",")",")",["T_WHITESPACE"," ",586],"{",["T_WHITESPACE","\n            ",586],["T_IF","if",587],["T_WHITESPACE"," ",587],"(",["T_VARIABLE","$type",587],["T_WHITESPACE"," ",587],["T_IS_EQUAL","==",587],["T_WHITESPACE"," ",587],["T_CONSTANT_ENCAPSED_STRING","'website'",587],["T_WHITESPACE","\n                ",587],["T_BOOLEAN_AND","&&",588],["T_WHITESPACE"," ",588],["T_VARIABLE","$this",588],["T_OBJECT_OPERATOR","->",588],["T_STRING","_stores",588],"[",["T_VARIABLE","$store",588],"]",["T_OBJECT_OPERATOR","->",588],["T_STRING","getWebsiteId",588],"(",")",["T_WHITESPACE"," ",588],["T_IS_EQUAL","==",588],["T_WHITESPACE"," ",588],["T_VARIABLE","$this",588],["T_OBJECT_OPERATOR","->",588],["T_STRING","_stores",588],"[",["T_VARIABLE","$this",588],["T_OBJECT_OPERATOR","->",588],["T_STRING","_currentStore",588],"]",["T_OBJECT_OPERATOR","->",588],["T_STRING","getWebsiteId",588],"(",")",")",["T_WHITESPACE"," ",588],"{",["T_WHITESPACE","\n                ",588],["T_VARIABLE","$this",589],["T_OBJECT_OPERATOR","->",589],["T_STRING","_currentStore",589],["T_WHITESPACE"," ",589],"=",["T_WHITESPACE"," ",589],["T_VARIABLE","$store",589],";",["T_WHITESPACE","\n            ",589],"}",["T_WHITESPACE","\n            ",590],["T_IF","if",591],["T_WHITESPACE"," ",591],"(",["T_VARIABLE","$type",591],["T_WHITESPACE"," ",591],["T_IS_EQUAL","==",591],["T_WHITESPACE"," ",591],["T_CONSTANT_ENCAPSED_STRING","'group'",591],["T_WHITESPACE","\n                ",591],["T_BOOLEAN_AND","&&",592],["T_WHITESPACE"," ",592],["T_VARIABLE","$this",592],["T_OBJECT_OPERATOR","->",592],["T_STRING","_stores",592],"[",["T_VARIABLE","$store",592],"]",["T_OBJECT_OPERATOR","->",592],["T_STRING","getGroupId",592],"(",")",["T_WHITESPACE"," ",592],["T_IS_EQUAL","==",592],["T_WHITESPACE"," ",592],["T_VARIABLE","$this",592],["T_OBJECT_OPERATOR","->",592],["T_STRING","_stores",592],"[",["T_VARIABLE","$this",592],["T_OBJECT_OPERATOR","->",592],["T_STRING","_currentStore",592],"]",["T_OBJECT_OPERATOR","->",592],["T_STRING","getGroupId",592],"(",")",")",["T_WHITESPACE"," ",592],"{",["T_WHITESPACE","\n                ",592],["T_VARIABLE","$this",593],["T_OBJECT_OPERATOR","->",593],["T_STRING","_currentStore",593],["T_WHITESPACE"," ",593],"=",["T_WHITESPACE"," ",593],["T_VARIABLE","$store",593],";",["T_WHITESPACE","\n            ",593],"}",["T_WHITESPACE","\n            ",594],["T_IF","if",595],["T_WHITESPACE"," ",595],"(",["T_VARIABLE","$type",595],["T_WHITESPACE"," ",595],["T_IS_EQUAL","==",595],["T_WHITESPACE"," ",595],["T_CONSTANT_ENCAPSED_STRING","'store'",595],")",["T_WHITESPACE"," ",595],"{",["T_WHITESPACE","\n                ",595],["T_VARIABLE","$this",596],["T_OBJECT_OPERATOR","->",596],["T_STRING","_currentStore",596],["T_WHITESPACE"," ",596],"=",["T_WHITESPACE"," ",596],["T_VARIABLE","$store",596],";",["T_WHITESPACE","\n            ",596],"}",["T_WHITESPACE","\n        ",597],"}",["T_WHITESPACE","\n        ",598],["T_RETURN","return",599],["T_WHITESPACE"," ",599],["T_VARIABLE","$this",599],";",["T_WHITESPACE","\n    ",599],"}",["T_WHITESPACE","\n\n    ",600],["T_PUBLIC","public",602],["T_WHITESPACE"," ",602],["T_FUNCTION","function",602],["T_WHITESPACE"," ",602],["T_STRING","reinitStores",602],"(",")",["T_WHITESPACE","\n    ",602],"{",["T_WHITESPACE","\n        ",603],["T_RETURN","return",604],["T_WHITESPACE"," ",604],["T_VARIABLE","$this",604],["T_OBJECT_OPERATOR","->",604],["T_STRING","_initStores",604],"(",")",";",["T_WHITESPACE","\n    ",604],"}",["T_WHITESPACE","\n\n    ",605],["T_DOC_COMMENT","\/**\n     * Init store, group and website collections\n     *\n     *\/",607],["T_WHITESPACE","\n    ",610],["T_PROTECTED","protected",611],["T_WHITESPACE"," ",611],["T_FUNCTION","function",611],["T_WHITESPACE"," ",611],["T_STRING","_initStores",611],"(",")",["T_WHITESPACE","\n    ",611],"{",["T_WHITESPACE","\n        ",612],["T_VARIABLE","$this",613],["T_OBJECT_OPERATOR","->",613],["T_STRING","_stores",613],["T_WHITESPACE","   ",613],"=",["T_WHITESPACE"," ",613],["T_ARRAY","array",613],"(",")",";",["T_WHITESPACE","\n        ",613],["T_VARIABLE","$this",614],["T_OBJECT_OPERATOR","->",614],["T_STRING","_groups",614],["T_WHITESPACE","   ",614],"=",["T_WHITESPACE"," ",614],["T_ARRAY","array",614],"(",")",";",["T_WHITESPACE","\n        ",614],["T_VARIABLE","$this",615],["T_OBJECT_OPERATOR","->",615],["T_STRING","_website",615],["T_WHITESPACE","  ",615],"=",["T_WHITESPACE"," ",615],["T_STRING","null",615],";",["T_WHITESPACE","\n        ",615],["T_VARIABLE","$this",616],["T_OBJECT_OPERATOR","->",616],["T_STRING","_websites",616],["T_WHITESPACE"," ",616],"=",["T_WHITESPACE"," ",616],["T_ARRAY","array",616],"(",")",";",["T_WHITESPACE","\n\n        ",616],["T_DOC_COMMENT","\/** @var $websiteCollection Mage_Core_Model_Website *\/",618],["T_WHITESPACE","\n        ",618],["T_VARIABLE","$websiteCollection",619],["T_WHITESPACE"," ",619],"=",["T_WHITESPACE"," ",619],["T_STRING","Mage",619],["T_DOUBLE_COLON","::",619],["T_STRING","getModel",619],"(",["T_CONSTANT_ENCAPSED_STRING","'core\/website'",619],")",["T_OBJECT_OPERATOR","->",619],["T_STRING","getCollection",619],"(",")",["T_WHITESPACE","\n                ",619],["T_OBJECT_OPERATOR","->",620],["T_STRING","initCache",620],"(",["T_VARIABLE","$this",620],["T_OBJECT_OPERATOR","->",620],["T_STRING","getCache",620],"(",")",",",["T_WHITESPACE"," ",620],["T_CONSTANT_ENCAPSED_STRING","'app'",620],",",["T_WHITESPACE"," ",620],["T_ARRAY","array",620],"(",["T_STRING","Mage_Core_Model_Website",620],["T_DOUBLE_COLON","::",620],["T_STRING","CACHE_TAG",620],")",")",["T_WHITESPACE","\n                ",620],["T_OBJECT_OPERATOR","->",621],["T_STRING","setLoadDefault",621],"(",["T_STRING","true",621],")",";",["T_WHITESPACE","\n\n        ",621],["T_DOC_COMMENT","\/** @var $websiteCollection Mage_Core_Model_Store_Group *\/",623],["T_WHITESPACE","\n        ",623],["T_VARIABLE","$groupCollection",624],["T_WHITESPACE"," ",624],"=",["T_WHITESPACE"," ",624],["T_STRING","Mage",624],["T_DOUBLE_COLON","::",624],["T_STRING","getModel",624],"(",["T_CONSTANT_ENCAPSED_STRING","'core\/store_group'",624],")",["T_OBJECT_OPERATOR","->",624],["T_STRING","getCollection",624],"(",")",["T_WHITESPACE","\n                ",624],["T_OBJECT_OPERATOR","->",625],["T_STRING","initCache",625],"(",["T_VARIABLE","$this",625],["T_OBJECT_OPERATOR","->",625],["T_STRING","getCache",625],"(",")",",",["T_WHITESPACE"," ",625],["T_CONSTANT_ENCAPSED_STRING","'app'",625],",",["T_WHITESPACE"," ",625],["T_ARRAY","array",625],"(",["T_STRING","Mage_Core_Model_Store_Group",625],["T_DOUBLE_COLON","::",625],["T_STRING","CACHE_TAG",625],")",")",["T_WHITESPACE","\n                ",625],["T_OBJECT_OPERATOR","->",626],["T_STRING","setLoadDefault",626],"(",["T_STRING","true",626],")",";",["T_WHITESPACE","\n\n        ",626],["T_DOC_COMMENT","\/** @var $websiteCollection Mage_Core_Model_Store *\/",628],["T_WHITESPACE","\n        ",628],["T_VARIABLE","$storeCollection",629],["T_WHITESPACE"," ",629],"=",["T_WHITESPACE"," ",629],["T_STRING","Mage",629],["T_DOUBLE_COLON","::",629],["T_STRING","getModel",629],"(",["T_CONSTANT_ENCAPSED_STRING","'core\/store'",629],")",["T_OBJECT_OPERATOR","->",629],["T_STRING","getCollection",629],"(",")",["T_WHITESPACE","\n            ",629],["T_OBJECT_OPERATOR","->",630],["T_STRING","initCache",630],"(",["T_VARIABLE","$this",630],["T_OBJECT_OPERATOR","->",630],["T_STRING","getCache",630],"(",")",",",["T_WHITESPACE"," ",630],["T_CONSTANT_ENCAPSED_STRING","'app'",630],",",["T_WHITESPACE"," ",630],["T_ARRAY","array",630],"(",["T_STRING","Mage_Core_Model_Store",630],["T_DOUBLE_COLON","::",630],["T_STRING","CACHE_TAG",630],")",")",["T_WHITESPACE","\n            ",630],["T_OBJECT_OPERATOR","->",631],["T_STRING","setLoadDefault",631],"(",["T_STRING","true",631],")",";",["T_WHITESPACE","\n\n        ",631],["T_VARIABLE","$this",633],["T_OBJECT_OPERATOR","->",633],["T_STRING","_isSingleStore",633],["T_WHITESPACE"," ",633],"=",["T_WHITESPACE"," ",633],["T_STRING","false",633],";",["T_WHITESPACE","\n        ",633],["T_IF","if",634],["T_WHITESPACE"," ",634],"(",["T_VARIABLE","$this",634],["T_OBJECT_OPERATOR","->",634],["T_STRING","_isSingleStoreAllowed",634],")",["T_WHITESPACE"," ",634],"{",["T_WHITESPACE","\n            ",634],["T_VARIABLE","$this",635],["T_OBJECT_OPERATOR","->",635],["T_STRING","_isSingleStore",635],["T_WHITESPACE"," ",635],"=",["T_WHITESPACE"," ",635],["T_VARIABLE","$storeCollection",635],["T_OBJECT_OPERATOR","->",635],["T_STRING","count",635],"(",")",["T_WHITESPACE"," ",635],"<",["T_WHITESPACE"," ",635],["T_LNUMBER","3",635],";",["T_WHITESPACE","\n        ",635],"}",["T_WHITESPACE","\n\n        ",636],["T_VARIABLE","$websiteStores",638],["T_WHITESPACE"," ",638],"=",["T_WHITESPACE"," ",638],["T_ARRAY","array",638],"(",")",";",["T_WHITESPACE","\n        ",638],["T_VARIABLE","$websiteGroups",639],["T_WHITESPACE"," ",639],"=",["T_WHITESPACE"," ",639],["T_ARRAY","array",639],"(",")",";",["T_WHITESPACE","\n        ",639],["T_VARIABLE","$groupStores",640],["T_WHITESPACE","   ",640],"=",["T_WHITESPACE"," ",640],["T_ARRAY","array",640],"(",")",";",["T_WHITESPACE","\n\n        ",640],["T_FOREACH","foreach",642],["T_WHITESPACE"," ",642],"(",["T_VARIABLE","$storeCollection",642],["T_WHITESPACE"," ",642],["T_AS","as",642],["T_WHITESPACE"," ",642],["T_VARIABLE","$store",642],")",["T_WHITESPACE"," ",642],"{",["T_WHITESPACE","\n            ",642],["T_DOC_COMMENT","\/** @var $store Mage_Core_Model_Store *\/",643],["T_WHITESPACE","\n            ",643],["T_VARIABLE","$store",644],["T_OBJECT_OPERATOR","->",644],["T_STRING","initConfigCache",644],"(",")",";",["T_WHITESPACE","\n            ",644],["T_VARIABLE","$store",645],["T_OBJECT_OPERATOR","->",645],["T_STRING","setWebsite",645],"(",["T_VARIABLE","$websiteCollection",645],["T_OBJECT_OPERATOR","->",645],["T_STRING","getItemById",645],"(",["T_VARIABLE","$store",645],["T_OBJECT_OPERATOR","->",645],["T_STRING","getWebsiteId",645],"(",")",")",")",";",["T_WHITESPACE","\n            ",645],["T_VARIABLE","$store",646],["T_OBJECT_OPERATOR","->",646],["T_STRING","setGroup",646],"(",["T_VARIABLE","$groupCollection",646],["T_OBJECT_OPERATOR","->",646],["T_STRING","getItemById",646],"(",["T_VARIABLE","$store",646],["T_OBJECT_OPERATOR","->",646],["T_STRING","getGroupId",646],"(",")",")",")",";",["T_WHITESPACE","\n\n            ",646],["T_VARIABLE","$this",648],["T_OBJECT_OPERATOR","->",648],["T_STRING","_stores",648],"[",["T_VARIABLE","$store",648],["T_OBJECT_OPERATOR","->",648],["T_STRING","getId",648],"(",")","]",["T_WHITESPACE"," ",648],"=",["T_WHITESPACE"," ",648],["T_VARIABLE","$store",648],";",["T_WHITESPACE","\n            ",648],["T_VARIABLE","$this",649],["T_OBJECT_OPERATOR","->",649],["T_STRING","_stores",649],"[",["T_VARIABLE","$store",649],["T_OBJECT_OPERATOR","->",649],["T_STRING","getCode",649],"(",")","]",["T_WHITESPACE"," ",649],"=",["T_WHITESPACE"," ",649],["T_VARIABLE","$store",649],";",["T_WHITESPACE","\n\n            ",649],["T_VARIABLE","$websiteStores",651],"[",["T_VARIABLE","$store",651],["T_OBJECT_OPERATOR","->",651],["T_STRING","getWebsiteId",651],"(",")","]","[",["T_VARIABLE","$store",651],["T_OBJECT_OPERATOR","->",651],["T_STRING","getId",651],"(",")","]",["T_WHITESPACE"," ",651],"=",["T_WHITESPACE"," ",651],["T_VARIABLE","$store",651],";",["T_WHITESPACE","\n            ",651],["T_VARIABLE","$groupStores",652],"[",["T_VARIABLE","$store",652],["T_OBJECT_OPERATOR","->",652],["T_STRING","getGroupId",652],"(",")","]","[",["T_VARIABLE","$store",652],["T_OBJECT_OPERATOR","->",652],["T_STRING","getId",652],"(",")","]",["T_WHITESPACE"," ",652],"=",["T_WHITESPACE"," ",652],["T_VARIABLE","$store",652],";",["T_WHITESPACE","\n\n            ",652],["T_IF","if",654],["T_WHITESPACE"," ",654],"(",["T_STRING","is_null",654],"(",["T_VARIABLE","$this",654],["T_OBJECT_OPERATOR","->",654],["T_STRING","_store",654],")",["T_WHITESPACE"," ",654],["T_BOOLEAN_AND","&&",654],["T_WHITESPACE"," ",654],["T_VARIABLE","$store",654],["T_OBJECT_OPERATOR","->",654],["T_STRING","getId",654],"(",")",")",["T_WHITESPACE"," ",654],"{",["T_WHITESPACE","\n                ",654],["T_VARIABLE","$this",655],["T_OBJECT_OPERATOR","->",655],["T_STRING","_store",655],["T_WHITESPACE"," ",655],"=",["T_WHITESPACE"," ",655],["T_VARIABLE","$store",655],";",["T_WHITESPACE","\n            ",655],"}",["T_WHITESPACE","\n        ",656],"}",["T_WHITESPACE","\n\n        ",657],["T_FOREACH","foreach",659],["T_WHITESPACE"," ",659],"(",["T_VARIABLE","$groupCollection",659],["T_WHITESPACE"," ",659],["T_AS","as",659],["T_WHITESPACE"," ",659],["T_VARIABLE","$group",659],")",["T_WHITESPACE"," ",659],"{",["T_WHITESPACE","\n            ",659],["T_COMMENT","\/* @var $group Mage_Core_Model_Store_Group *\/",660],["T_WHITESPACE","\n            ",660],["T_IF","if",661],["T_WHITESPACE"," ",661],"(","!",["T_ISSET","isset",661],"(",["T_VARIABLE","$groupStores",661],"[",["T_VARIABLE","$group",661],["T_OBJECT_OPERATOR","->",661],["T_STRING","getId",661],"(",")","]",")",")",["T_WHITESPACE"," ",661],"{",["T_WHITESPACE","\n                ",661],["T_VARIABLE","$groupStores",662],"[",["T_VARIABLE","$group",662],["T_OBJECT_OPERATOR","->",662],["T_STRING","getId",662],"(",")","]",["T_WHITESPACE"," ",662],"=",["T_WHITESPACE"," ",662],["T_ARRAY","array",662],"(",")",";",["T_WHITESPACE","\n            ",662],"}",["T_WHITESPACE","\n            ",663],["T_VARIABLE","$group",664],["T_OBJECT_OPERATOR","->",664],["T_STRING","setStores",664],"(",["T_VARIABLE","$groupStores",664],"[",["T_VARIABLE","$group",664],["T_OBJECT_OPERATOR","->",664],["T_STRING","getId",664],"(",")","]",")",";",["T_WHITESPACE","\n            ",664],["T_VARIABLE","$group",665],["T_OBJECT_OPERATOR","->",665],["T_STRING","setWebsite",665],"(",["T_VARIABLE","$websiteCollection",665],["T_OBJECT_OPERATOR","->",665],["T_STRING","getItemById",665],"(",["T_VARIABLE","$group",665],["T_OBJECT_OPERATOR","->",665],["T_STRING","getWebsiteId",665],"(",")",")",")",";",["T_WHITESPACE","\n\n            ",665],["T_VARIABLE","$websiteGroups",667],"[",["T_VARIABLE","$group",667],["T_OBJECT_OPERATOR","->",667],["T_STRING","getWebsiteId",667],"(",")","]","[",["T_VARIABLE","$group",667],["T_OBJECT_OPERATOR","->",667],["T_STRING","getId",667],"(",")","]",["T_WHITESPACE"," ",667],"=",["T_WHITESPACE"," ",667],["T_VARIABLE","$group",667],";",["T_WHITESPACE","\n\n            ",667],["T_VARIABLE","$this",669],["T_OBJECT_OPERATOR","->",669],["T_STRING","_groups",669],"[",["T_VARIABLE","$group",669],["T_OBJECT_OPERATOR","->",669],["T_STRING","getId",669],"(",")","]",["T_WHITESPACE"," ",669],"=",["T_WHITESPACE"," ",669],["T_VARIABLE","$group",669],";",["T_WHITESPACE","\n        ",669],"}",["T_WHITESPACE","\n\n        ",670],["T_FOREACH","foreach",672],["T_WHITESPACE"," ",672],"(",["T_VARIABLE","$websiteCollection",672],["T_WHITESPACE"," ",672],["T_AS","as",672],["T_WHITESPACE"," ",672],["T_VARIABLE","$website",672],")",["T_WHITESPACE"," ",672],"{",["T_WHITESPACE","\n            ",672],["T_COMMENT","\/* @var $website Mage_Core_Model_Website *\/",673],["T_WHITESPACE","\n            ",673],["T_IF","if",674],["T_WHITESPACE"," ",674],"(","!",["T_ISSET","isset",674],"(",["T_VARIABLE","$websiteGroups",674],"[",["T_VARIABLE","$website",674],["T_OBJECT_OPERATOR","->",674],["T_STRING","getId",674],"(",")","]",")",")",["T_WHITESPACE"," ",674],"{",["T_WHITESPACE","\n                ",674],["T_VARIABLE","$websiteGroups",675],"[",["T_VARIABLE","$website",675],["T_OBJECT_OPERATOR","->",675],["T_STRING","getId",675],"(",")","]",["T_WHITESPACE"," ",675],"=",["T_WHITESPACE"," ",675],["T_ARRAY","array",675],"(",")",";",["T_WHITESPACE","\n            ",675],"}",["T_WHITESPACE","\n            ",676],["T_IF","if",677],["T_WHITESPACE"," ",677],"(","!",["T_ISSET","isset",677],"(",["T_VARIABLE","$websiteStores",677],"[",["T_VARIABLE","$website",677],["T_OBJECT_OPERATOR","->",677],["T_STRING","getId",677],"(",")","]",")",")",["T_WHITESPACE"," ",677],"{",["T_WHITESPACE","\n                ",677],["T_VARIABLE","$websiteStores",678],"[",["T_VARIABLE","$website",678],["T_OBJECT_OPERATOR","->",678],["T_STRING","getId",678],"(",")","]",["T_WHITESPACE"," ",678],"=",["T_WHITESPACE"," ",678],["T_ARRAY","array",678],"(",")",";",["T_WHITESPACE","\n            ",678],"}",["T_WHITESPACE","\n            ",679],["T_IF","if",680],["T_WHITESPACE"," ",680],"(",["T_VARIABLE","$website",680],["T_OBJECT_OPERATOR","->",680],["T_STRING","getIsDefault",680],"(",")",")",["T_WHITESPACE"," ",680],"{",["T_WHITESPACE","\n                ",680],["T_VARIABLE","$this",681],["T_OBJECT_OPERATOR","->",681],["T_STRING","_website",681],["T_WHITESPACE"," ",681],"=",["T_WHITESPACE"," ",681],["T_VARIABLE","$website",681],";",["T_WHITESPACE","\n            ",681],"}",["T_WHITESPACE","\n            ",682],["T_VARIABLE","$website",683],["T_OBJECT_OPERATOR","->",683],["T_STRING","setGroups",683],"(",["T_VARIABLE","$websiteGroups",683],"[",["T_VARIABLE","$website",683],["T_OBJECT_OPERATOR","->",683],["T_STRING","getId",683],"(",")","]",")",";",["T_WHITESPACE","\n            ",683],["T_VARIABLE","$website",684],["T_OBJECT_OPERATOR","->",684],["T_STRING","setStores",684],"(",["T_VARIABLE","$websiteStores",684],"[",["T_VARIABLE","$website",684],["T_OBJECT_OPERATOR","->",684],["T_STRING","getId",684],"(",")","]",")",";",["T_WHITESPACE","\n\n            ",684],["T_VARIABLE","$this",686],["T_OBJECT_OPERATOR","->",686],["T_STRING","_websites",686],"[",["T_VARIABLE","$website",686],["T_OBJECT_OPERATOR","->",686],["T_STRING","getId",686],"(",")","]",["T_WHITESPACE"," ",686],"=",["T_WHITESPACE"," ",686],["T_VARIABLE","$website",686],";",["T_WHITESPACE","\n            ",686],["T_VARIABLE","$this",687],["T_OBJECT_OPERATOR","->",687],["T_STRING","_websites",687],"[",["T_VARIABLE","$website",687],["T_OBJECT_OPERATOR","->",687],["T_STRING","getCode",687],"(",")","]",["T_WHITESPACE"," ",687],"=",["T_WHITESPACE"," ",687],["T_VARIABLE","$website",687],";",["T_WHITESPACE","\n        ",687],"}",["T_WHITESPACE","\n    ",688],"}",["T_WHITESPACE","\n\n    ",689],["T_DOC_COMMENT","\/**\n     * Is single Store mode (only one store without default)\n     *\n     * @return bool\n     *\/",691],["T_WHITESPACE","\n    ",695],["T_PUBLIC","public",696],["T_WHITESPACE"," ",696],["T_FUNCTION","function",696],["T_WHITESPACE"," ",696],["T_STRING","isSingleStoreMode",696],"(",")",["T_WHITESPACE","\n    ",696],"{",["T_WHITESPACE","\n        ",697],["T_IF","if",698],["T_WHITESPACE"," ",698],"(",["T_VARIABLE","$this",698],["T_OBJECT_OPERATOR","->",698],["T_STRING","_isInstalled",698],["T_WHITESPACE"," ",698],["T_IS_IDENTICAL","===",698],["T_WHITESPACE"," ",698],["T_STRING","null",698],")",["T_WHITESPACE"," ",698],"{",["T_WHITESPACE","\n            ",698],["T_VARIABLE","$this",699],["T_OBJECT_OPERATOR","->",699],["T_STRING","_isInstalled",699],["T_WHITESPACE"," ",699],"=",["T_WHITESPACE"," ",699],["T_STRING","Mage",699],["T_DOUBLE_COLON","::",699],["T_STRING","isInstalled",699],"(",")",";",["T_WHITESPACE","\n        ",699],"}",["T_WHITESPACE","\n\n        ",700],["T_IF","if",702],["T_WHITESPACE"," ",702],"(","!",["T_VARIABLE","$this",702],["T_OBJECT_OPERATOR","->",702],["T_STRING","_isInstalled",702],")",["T_WHITESPACE"," ",702],"{",["T_WHITESPACE","\n            ",702],["T_RETURN","return",703],["T_WHITESPACE"," ",703],["T_STRING","false",703],";",["T_WHITESPACE","\n        ",703],"}",["T_WHITESPACE","\n        ",704],["T_RETURN","return",705],["T_WHITESPACE"," ",705],["T_VARIABLE","$this",705],["T_OBJECT_OPERATOR","->",705],["T_STRING","_isSingleStore",705],";",["T_WHITESPACE","\n    ",705],"}",["T_WHITESPACE","\n\n    ",706],["T_DOC_COMMENT","\/**\n     * Retrieve store code or null by store group\n     *\n     * @param int $group\n     * @return string|null\n     *\/",708],["T_WHITESPACE","\n    ",713],["T_PROTECTED","protected",714],["T_WHITESPACE"," ",714],["T_FUNCTION","function",714],["T_WHITESPACE"," ",714],["T_STRING","_getStoreByGroup",714],"(",["T_VARIABLE","$group",714],")",["T_WHITESPACE","\n    ",714],"{",["T_WHITESPACE","\n        ",715],["T_IF","if",716],["T_WHITESPACE"," ",716],"(","!",["T_ISSET","isset",716],"(",["T_VARIABLE","$this",716],["T_OBJECT_OPERATOR","->",716],["T_STRING","_groups",716],"[",["T_VARIABLE","$group",716],"]",")",")",["T_WHITESPACE"," ",716],"{",["T_WHITESPACE","\n            ",716],["T_RETURN","return",717],["T_WHITESPACE"," ",717],["T_STRING","null",717],";",["T_WHITESPACE","\n        ",717],"}",["T_WHITESPACE","\n        ",718],["T_IF","if",719],["T_WHITESPACE"," ",719],"(","!",["T_VARIABLE","$this",719],["T_OBJECT_OPERATOR","->",719],["T_STRING","_groups",719],"[",["T_VARIABLE","$group",719],"]",["T_OBJECT_OPERATOR","->",719],["T_STRING","getDefaultStoreId",719],"(",")",")",["T_WHITESPACE"," ",719],"{",["T_WHITESPACE","\n            ",719],["T_RETURN","return",720],["T_WHITESPACE"," ",720],["T_STRING","null",720],";",["T_WHITESPACE","\n        ",720],"}",["T_WHITESPACE","\n        ",721],["T_RETURN","return",722],["T_WHITESPACE"," ",722],["T_VARIABLE","$this",722],["T_OBJECT_OPERATOR","->",722],["T_STRING","_stores",722],"[",["T_VARIABLE","$this",722],["T_OBJECT_OPERATOR","->",722],["T_STRING","_groups",722],"[",["T_VARIABLE","$group",722],"]",["T_OBJECT_OPERATOR","->",722],["T_STRING","getDefaultStoreId",722],"(",")","]",["T_OBJECT_OPERATOR","->",722],["T_STRING","getCode",722],"(",")",";",["T_WHITESPACE","\n    ",722],"}",["T_WHITESPACE","\n\n    ",723],["T_DOC_COMMENT","\/**\n     * Retrieve store code or null by website\n     *\n     * @param int|string $website\n     * @return string|null\n     *\/",725],["T_WHITESPACE","\n    ",730],["T_PROTECTED","protected",731],["T_WHITESPACE"," ",731],["T_FUNCTION","function",731],["T_WHITESPACE"," ",731],["T_STRING","_getStoreByWebsite",731],"(",["T_VARIABLE","$website",731],")",["T_WHITESPACE","\n    ",731],"{",["T_WHITESPACE","\n        ",732],["T_IF","if",733],["T_WHITESPACE"," ",733],"(","!",["T_ISSET","isset",733],"(",["T_VARIABLE","$this",733],["T_OBJECT_OPERATOR","->",733],["T_STRING","_websites",733],"[",["T_VARIABLE","$website",733],"]",")",")",["T_WHITESPACE"," ",733],"{",["T_WHITESPACE","\n            ",733],["T_RETURN","return",734],["T_WHITESPACE"," ",734],["T_STRING","null",734],";",["T_WHITESPACE","\n        ",734],"}",["T_WHITESPACE","\n        ",735],["T_IF","if",736],["T_WHITESPACE"," ",736],"(","!",["T_VARIABLE","$this",736],["T_OBJECT_OPERATOR","->",736],["T_STRING","_websites",736],"[",["T_VARIABLE","$website",736],"]",["T_OBJECT_OPERATOR","->",736],["T_STRING","getDefaultGroupId",736],"(",")",")",["T_WHITESPACE"," ",736],"{",["T_WHITESPACE","\n            ",736],["T_RETURN","return",737],["T_WHITESPACE"," ",737],["T_STRING","null",737],";",["T_WHITESPACE","\n        ",737],"}",["T_WHITESPACE","\n        ",738],["T_RETURN","return",739],["T_WHITESPACE"," ",739],["T_VARIABLE","$this",739],["T_OBJECT_OPERATOR","->",739],["T_STRING","_getStoreByGroup",739],"(",["T_VARIABLE","$this",739],["T_OBJECT_OPERATOR","->",739],["T_STRING","_websites",739],"[",["T_VARIABLE","$website",739],"]",["T_OBJECT_OPERATOR","->",739],["T_STRING","getDefaultGroupId",739],"(",")",")",";",["T_WHITESPACE","\n    ",739],"}",["T_WHITESPACE","\n\n    ",740],["T_DOC_COMMENT","\/**\n     * Set current default store\n     *\n     * @param string $store\n     * @return Mage_Core_Model_App\n     *\/",742],["T_WHITESPACE","\n    ",747],["T_PUBLIC","public",748],["T_WHITESPACE"," ",748],["T_FUNCTION","function",748],["T_WHITESPACE"," ",748],["T_STRING","setCurrentStore",748],"(",["T_VARIABLE","$store",748],")",["T_WHITESPACE","\n    ",748],"{",["T_WHITESPACE","\n        ",749],["T_VARIABLE","$this",750],["T_OBJECT_OPERATOR","->",750],["T_STRING","_currentStore",750],["T_WHITESPACE"," ",750],"=",["T_WHITESPACE"," ",750],["T_VARIABLE","$store",750],";",["T_WHITESPACE","\n        ",750],["T_RETURN","return",751],["T_WHITESPACE"," ",751],["T_VARIABLE","$this",751],";",["T_WHITESPACE","\n    ",751],"}",["T_WHITESPACE","\n\n    ",752],["T_DOC_COMMENT","\/**\n     * Initialize application front controller\n     *\n     * @return Mage_Core_Model_App\n     *\/",754],["T_WHITESPACE","\n    ",758],["T_PROTECTED","protected",759],["T_WHITESPACE"," ",759],["T_FUNCTION","function",759],["T_WHITESPACE"," ",759],["T_STRING","_initFrontController",759],"(",")",["T_WHITESPACE","\n    ",759],"{",["T_WHITESPACE","\n        ",760],["T_VARIABLE","$this",761],["T_OBJECT_OPERATOR","->",761],["T_STRING","_frontController",761],["T_WHITESPACE"," ",761],"=",["T_WHITESPACE"," ",761],["T_NEW","new",761],["T_WHITESPACE"," ",761],["T_STRING","Mage_Core_Controller_Varien_Front",761],"(",")",";",["T_WHITESPACE","\n        ",761],["T_STRING","Mage",762],["T_DOUBLE_COLON","::",762],["T_STRING","register",762],"(",["T_CONSTANT_ENCAPSED_STRING","'controller'",762],",",["T_WHITESPACE"," ",762],["T_VARIABLE","$this",762],["T_OBJECT_OPERATOR","->",762],["T_STRING","_frontController",762],")",";",["T_WHITESPACE","\n        ",762],["T_STRING","Varien_Profiler",763],["T_DOUBLE_COLON","::",763],["T_STRING","start",763],"(",["T_CONSTANT_ENCAPSED_STRING","'mage::app::init_front_controller'",763],")",";",["T_WHITESPACE","\n        ",763],["T_VARIABLE","$this",764],["T_OBJECT_OPERATOR","->",764],["T_STRING","_frontController",764],["T_OBJECT_OPERATOR","->",764],["T_STRING","init",764],"(",")",";",["T_WHITESPACE","\n        ",764],["T_STRING","Varien_Profiler",765],["T_DOUBLE_COLON","::",765],["T_STRING","stop",765],"(",["T_CONSTANT_ENCAPSED_STRING","'mage::app::init_front_controller'",765],")",";",["T_WHITESPACE","\n        ",765],["T_RETURN","return",766],["T_WHITESPACE"," ",766],["T_VARIABLE","$this",766],";",["T_WHITESPACE","\n    ",766],"}",["T_WHITESPACE","\n\n    ",767],["T_DOC_COMMENT","\/**\n     * Redeclare custom error handler\n     *\n     * @param   string $handler\n     * @return  Mage_Core_Model_App\n     *\/",769],["T_WHITESPACE","\n    ",774],["T_PUBLIC","public",775],["T_WHITESPACE"," ",775],["T_FUNCTION","function",775],["T_WHITESPACE"," ",775],["T_STRING","setErrorHandler",775],"(",["T_VARIABLE","$handler",775],")",["T_WHITESPACE","\n    ",775],"{",["T_WHITESPACE","\n        ",776],["T_STRING","set_error_handler",777],"(",["T_VARIABLE","$handler",777],")",";",["T_WHITESPACE","\n        ",777],["T_RETURN","return",778],["T_WHITESPACE"," ",778],["T_VARIABLE","$this",778],";",["T_WHITESPACE","\n    ",778],"}",["T_WHITESPACE","\n\n    ",779],["T_DOC_COMMENT","\/**\n     * Loading application area\n     *\n     * @param   string $code\n     * @return  Mage_Core_Model_App\n     *\/",781],["T_WHITESPACE","\n    ",786],["T_PUBLIC","public",787],["T_WHITESPACE"," ",787],["T_FUNCTION","function",787],["T_WHITESPACE"," ",787],["T_STRING","loadArea",787],"(",["T_VARIABLE","$code",787],")",["T_WHITESPACE","\n    ",787],"{",["T_WHITESPACE","\n        ",788],["T_VARIABLE","$this",789],["T_OBJECT_OPERATOR","->",789],["T_STRING","getArea",789],"(",["T_VARIABLE","$code",789],")",["T_OBJECT_OPERATOR","->",789],["T_STRING","load",789],"(",")",";",["T_WHITESPACE","\n        ",789],["T_RETURN","return",790],["T_WHITESPACE"," ",790],["T_VARIABLE","$this",790],";",["T_WHITESPACE","\n    ",790],"}",["T_WHITESPACE","\n\n    ",791],["T_DOC_COMMENT","\/**\n     * Loding part of area data\n     *\n     * @param   string $area\n     * @param   string $part\n     * @return  Mage_Core_Model_App\n     *\/",793],["T_WHITESPACE","\n    ",799],["T_PUBLIC","public",800],["T_WHITESPACE"," ",800],["T_FUNCTION","function",800],["T_WHITESPACE"," ",800],["T_STRING","loadAreaPart",800],"(",["T_VARIABLE","$area",800],",",["T_WHITESPACE"," ",800],["T_VARIABLE","$part",800],")",["T_WHITESPACE","\n    ",800],"{",["T_WHITESPACE","\n        ",801],["T_VARIABLE","$this",802],["T_OBJECT_OPERATOR","->",802],["T_STRING","getArea",802],"(",["T_VARIABLE","$area",802],")",["T_OBJECT_OPERATOR","->",802],["T_STRING","load",802],"(",["T_VARIABLE","$part",802],")",";",["T_WHITESPACE","\n        ",802],["T_RETURN","return",803],["T_WHITESPACE"," ",803],["T_VARIABLE","$this",803],";",["T_WHITESPACE","\n    ",803],"}",["T_WHITESPACE","\n\n    ",804],["T_DOC_COMMENT","\/**\n     * Retrieve application area\n     *\n     * @param   string $code\n     * @return  Mage_Core_Model_App_Area\n     *\/",806],["T_WHITESPACE","\n    ",811],["T_PUBLIC","public",812],["T_WHITESPACE"," ",812],["T_FUNCTION","function",812],["T_WHITESPACE"," ",812],["T_STRING","getArea",812],"(",["T_VARIABLE","$code",812],")",["T_WHITESPACE","\n    ",812],"{",["T_WHITESPACE","\n        ",813],["T_IF","if",814],["T_WHITESPACE"," ",814],"(","!",["T_ISSET","isset",814],"(",["T_VARIABLE","$this",814],["T_OBJECT_OPERATOR","->",814],["T_STRING","_areas",814],"[",["T_VARIABLE","$code",814],"]",")",")",["T_WHITESPACE"," ",814],"{",["T_WHITESPACE","\n            ",814],["T_VARIABLE","$this",815],["T_OBJECT_OPERATOR","->",815],["T_STRING","_areas",815],"[",["T_VARIABLE","$code",815],"]",["T_WHITESPACE"," ",815],"=",["T_WHITESPACE"," ",815],["T_NEW","new",815],["T_WHITESPACE"," ",815],["T_STRING","Mage_Core_Model_App_Area",815],"(",["T_VARIABLE","$code",815],",",["T_WHITESPACE"," ",815],["T_VARIABLE","$this",815],")",";",["T_WHITESPACE","\n        ",815],"}",["T_WHITESPACE","\n        ",816],["T_RETURN","return",817],["T_WHITESPACE"," ",817],["T_VARIABLE","$this",817],["T_OBJECT_OPERATOR","->",817],["T_STRING","_areas",817],"[",["T_VARIABLE","$code",817],"]",";",["T_WHITESPACE","\n    ",817],"}",["T_WHITESPACE","\n\n    ",818],["T_DOC_COMMENT","\/**\n     * Retrieve application store object\n     *\n     * @param null|string|bool|int|Mage_Core_Model_Store $id\n     * @return Mage_Core_Model_Store\n     * @throws Mage_Core_Model_Store_Exception\n     *\/",820],["T_WHITESPACE","\n    ",826],["T_PUBLIC","public",827],["T_WHITESPACE"," ",827],["T_FUNCTION","function",827],["T_WHITESPACE"," ",827],["T_STRING","getStore",827],"(",["T_VARIABLE","$id",827],["T_WHITESPACE"," ",827],"=",["T_WHITESPACE"," ",827],["T_STRING","null",827],")",["T_WHITESPACE","\n    ",827],"{",["T_WHITESPACE","\n        ",828],["T_IF","if",829],["T_WHITESPACE"," ",829],"(",["T_VARIABLE","$this",829],["T_OBJECT_OPERATOR","->",829],["T_STRING","_isInstalled",829],["T_WHITESPACE"," ",829],["T_IS_IDENTICAL","===",829],["T_WHITESPACE"," ",829],["T_STRING","null",829],")",["T_WHITESPACE"," ",829],"{",["T_WHITESPACE","\n            ",829],["T_VARIABLE","$this",830],["T_OBJECT_OPERATOR","->",830],["T_STRING","_isInstalled",830],["T_WHITESPACE"," ",830],"=",["T_WHITESPACE"," ",830],["T_STRING","Mage",830],["T_DOUBLE_COLON","::",830],["T_STRING","isInstalled",830],"(",")",";",["T_WHITESPACE","\n        ",830],"}",["T_WHITESPACE","\n\n        ",831],["T_IF","if",833],["T_WHITESPACE"," ",833],"(","!",["T_VARIABLE","$this",833],["T_OBJECT_OPERATOR","->",833],["T_STRING","_isInstalled",833],["T_WHITESPACE"," ",833],["T_BOOLEAN_OR","||",833],["T_WHITESPACE"," ",833],["T_VARIABLE","$this",833],["T_OBJECT_OPERATOR","->",833],["T_STRING","getUpdateMode",833],"(",")",")",["T_WHITESPACE"," ",833],"{",["T_WHITESPACE","\n            ",833],["T_RETURN","return",834],["T_WHITESPACE"," ",834],["T_VARIABLE","$this",834],["T_OBJECT_OPERATOR","->",834],["T_STRING","_getDefaultStore",834],"(",")",";",["T_WHITESPACE","\n        ",834],"}",["T_WHITESPACE","\n\n        ",835],["T_IF","if",837],["T_WHITESPACE"," ",837],"(",["T_VARIABLE","$id",837],["T_WHITESPACE"," ",837],["T_IS_IDENTICAL","===",837],["T_WHITESPACE"," ",837],["T_STRING","true",837],["T_WHITESPACE"," ",837],["T_BOOLEAN_AND","&&",837],["T_WHITESPACE"," ",837],["T_VARIABLE","$this",837],["T_OBJECT_OPERATOR","->",837],["T_STRING","isSingleStoreMode",837],"(",")",")",["T_WHITESPACE"," ",837],"{",["T_WHITESPACE","\n            ",837],["T_RETURN","return",838],["T_WHITESPACE"," ",838],["T_VARIABLE","$this",838],["T_OBJECT_OPERATOR","->",838],["T_STRING","_store",838],";",["T_WHITESPACE","\n        ",838],"}",["T_WHITESPACE","\n\n        ",839],["T_IF","if",841],["T_WHITESPACE"," ",841],"(","!",["T_ISSET","isset",841],"(",["T_VARIABLE","$id",841],")",["T_WHITESPACE"," ",841],["T_BOOLEAN_OR","||",841],["T_WHITESPACE"," ",841],["T_CONSTANT_ENCAPSED_STRING","''",841],["T_IS_IDENTICAL","===",841],["T_VARIABLE","$id",841],["T_WHITESPACE"," ",841],["T_BOOLEAN_OR","||",841],["T_WHITESPACE"," ",841],["T_VARIABLE","$id",841],["T_WHITESPACE"," ",841],["T_IS_IDENTICAL","===",841],["T_WHITESPACE"," ",841],["T_STRING","true",841],")",["T_WHITESPACE"," ",841],"{",["T_WHITESPACE","\n            ",841],["T_VARIABLE","$id",842],["T_WHITESPACE"," ",842],"=",["T_WHITESPACE"," ",842],["T_VARIABLE","$this",842],["T_OBJECT_OPERATOR","->",842],["T_STRING","_currentStore",842],";",["T_WHITESPACE","\n        ",842],"}",["T_WHITESPACE","\n        ",843],["T_IF","if",844],["T_WHITESPACE"," ",844],"(",["T_VARIABLE","$id",844],["T_WHITESPACE"," ",844],["T_INSTANCEOF","instanceof",844],["T_WHITESPACE"," ",844],["T_STRING","Mage_Core_Model_Store",844],")",["T_WHITESPACE"," ",844],"{",["T_WHITESPACE","\n            ",844],["T_RETURN","return",845],["T_WHITESPACE"," ",845],["T_VARIABLE","$id",845],";",["T_WHITESPACE","\n        ",845],"}",["T_WHITESPACE","\n        ",846],["T_IF","if",847],["T_WHITESPACE"," ",847],"(","!",["T_ISSET","isset",847],"(",["T_VARIABLE","$id",847],")",")",["T_WHITESPACE"," ",847],"{",["T_WHITESPACE","\n            ",847],["T_VARIABLE","$this",848],["T_OBJECT_OPERATOR","->",848],["T_STRING","throwStoreException",848],"(",")",";",["T_WHITESPACE","\n        ",848],"}",["T_WHITESPACE","\n\n        ",849],["T_IF","if",851],["T_WHITESPACE"," ",851],"(",["T_EMPTY","empty",851],"(",["T_VARIABLE","$this",851],["T_OBJECT_OPERATOR","->",851],["T_STRING","_stores",851],"[",["T_VARIABLE","$id",851],"]",")",")",["T_WHITESPACE"," ",851],"{",["T_WHITESPACE","\n            ",851],["T_VARIABLE","$store",852],["T_WHITESPACE"," ",852],"=",["T_WHITESPACE"," ",852],["T_STRING","Mage",852],["T_DOUBLE_COLON","::",852],["T_STRING","getModel",852],"(",["T_CONSTANT_ENCAPSED_STRING","'core\/store'",852],")",";",["T_WHITESPACE","\n            ",852],["T_COMMENT","\/* @var $store Mage_Core_Model_Store *\/",853],["T_WHITESPACE","\n            ",853],["T_IF","if",854],["T_WHITESPACE"," ",854],"(",["T_STRING","is_numeric",854],"(",["T_VARIABLE","$id",854],")",")",["T_WHITESPACE"," ",854],"{",["T_WHITESPACE","\n                ",854],["T_VARIABLE","$store",855],["T_OBJECT_OPERATOR","->",855],["T_STRING","load",855],"(",["T_VARIABLE","$id",855],")",";",["T_WHITESPACE","\n            ",855],"}",["T_WHITESPACE"," ",856],["T_ELSEIF","elseif",856],["T_WHITESPACE"," ",856],"(",["T_STRING","is_string",856],"(",["T_VARIABLE","$id",856],")",")",["T_WHITESPACE"," ",856],"{",["T_WHITESPACE","\n                ",856],["T_VARIABLE","$store",857],["T_OBJECT_OPERATOR","->",857],["T_STRING","load",857],"(",["T_VARIABLE","$id",857],",",["T_WHITESPACE"," ",857],["T_CONSTANT_ENCAPSED_STRING","'code'",857],")",";",["T_WHITESPACE","\n            ",857],"}",["T_WHITESPACE","\n\n            ",858],["T_IF","if",860],["T_WHITESPACE"," ",860],"(","!",["T_VARIABLE","$store",860],["T_OBJECT_OPERATOR","->",860],["T_STRING","getCode",860],"(",")",")",["T_WHITESPACE"," ",860],"{",["T_WHITESPACE","\n                ",860],["T_VARIABLE","$this",861],["T_OBJECT_OPERATOR","->",861],["T_STRING","throwStoreException",861],"(",")",";",["T_WHITESPACE","\n            ",861],"}",["T_WHITESPACE","\n            ",862],["T_VARIABLE","$this",863],["T_OBJECT_OPERATOR","->",863],["T_STRING","_stores",863],"[",["T_VARIABLE","$store",863],["T_OBJECT_OPERATOR","->",863],["T_STRING","getStoreId",863],"(",")","]",["T_WHITESPACE"," ",863],"=",["T_WHITESPACE"," ",863],["T_VARIABLE","$store",863],";",["T_WHITESPACE","\n            ",863],["T_VARIABLE","$this",864],["T_OBJECT_OPERATOR","->",864],["T_STRING","_stores",864],"[",["T_VARIABLE","$store",864],["T_OBJECT_OPERATOR","->",864],["T_STRING","getCode",864],"(",")","]",["T_WHITESPACE"," ",864],"=",["T_WHITESPACE"," ",864],["T_VARIABLE","$store",864],";",["T_WHITESPACE","\n        ",864],"}",["T_WHITESPACE","\n        ",865],["T_RETURN","return",866],["T_WHITESPACE"," ",866],["T_VARIABLE","$this",866],["T_OBJECT_OPERATOR","->",866],["T_STRING","_stores",866],"[",["T_VARIABLE","$id",866],"]",";",["T_WHITESPACE","\n    ",866],"}",["T_WHITESPACE","\n\n    ",867],["T_DOC_COMMENT","\/**\n     * Retrieve application store object without Store_Exception\n     *\n     * @param string|int|Mage_Core_Model_Store $id\n     * @return Mage_Core_Model_Store\n     *\/",869],["T_WHITESPACE","\n    ",874],["T_PUBLIC","public",875],["T_WHITESPACE"," ",875],["T_FUNCTION","function",875],["T_WHITESPACE"," ",875],["T_STRING","getSafeStore",875],"(",["T_VARIABLE","$id",875],["T_WHITESPACE"," ",875],"=",["T_WHITESPACE"," ",875],["T_STRING","null",875],")",["T_WHITESPACE","\n    ",875],"{",["T_WHITESPACE","\n        ",876],["T_TRY","try",877],["T_WHITESPACE"," ",877],"{",["T_WHITESPACE","\n            ",877],["T_RETURN","return",878],["T_WHITESPACE"," ",878],["T_VARIABLE","$this",878],["T_OBJECT_OPERATOR","->",878],["T_STRING","getStore",878],"(",["T_VARIABLE","$id",878],")",";",["T_WHITESPACE","\n        ",878],"}",["T_WHITESPACE","\n        ",879],["T_CATCH","catch",880],["T_WHITESPACE"," ",880],"(",["T_STRING","Exception",880],["T_WHITESPACE"," ",880],["T_VARIABLE","$e",880],")",["T_WHITESPACE"," ",880],"{",["T_WHITESPACE","\n            ",880],["T_IF","if",881],["T_WHITESPACE"," ",881],"(",["T_VARIABLE","$this",881],["T_OBJECT_OPERATOR","->",881],["T_STRING","_currentStore",881],")",["T_WHITESPACE"," ",881],"{",["T_WHITESPACE","\n                ",881],["T_VARIABLE","$this",882],["T_OBJECT_OPERATOR","->",882],["T_STRING","getRequest",882],"(",")",["T_OBJECT_OPERATOR","->",882],["T_STRING","setActionName",882],"(",["T_CONSTANT_ENCAPSED_STRING","'noRoute'",882],")",";",["T_WHITESPACE","\n                ",882],["T_RETURN","return",883],["T_WHITESPACE"," ",883],["T_NEW","new",883],["T_WHITESPACE"," ",883],["T_STRING","Varien_Object",883],"(",")",";",["T_WHITESPACE","\n            ",883],"}",["T_WHITESPACE","\n            ",884],["T_ELSE","else",885],["T_WHITESPACE"," ",885],"{",["T_WHITESPACE","\n                ",885],["T_STRING","Mage",886],["T_DOUBLE_COLON","::",886],["T_STRING","throwException",886],"(",["T_STRING","Mage",886],["T_DOUBLE_COLON","::",886],["T_STRING","helper",886],"(",["T_CONSTANT_ENCAPSED_STRING","'core'",886],")",["T_OBJECT_OPERATOR","->",886],["T_STRING","__",886],"(",["T_CONSTANT_ENCAPSED_STRING","'Requested invalid store \"%s\"'",886],",",["T_WHITESPACE"," ",886],["T_VARIABLE","$id",886],")",")",";",["T_WHITESPACE","\n            ",886],"}",["T_WHITESPACE","\n        ",887],"}",["T_WHITESPACE","\n    ",888],"}",["T_WHITESPACE","\n\n    ",889],["T_DOC_COMMENT","\/**\n     * Retrieve stores array\n     *\n     * @param bool $withDefault\n     * @param bool $codeKey\n     * @return array\n     *\/",891],["T_WHITESPACE","\n    ",897],["T_PUBLIC","public",898],["T_WHITESPACE"," ",898],["T_FUNCTION","function",898],["T_WHITESPACE"," ",898],["T_STRING","getStores",898],"(",["T_VARIABLE","$withDefault",898],["T_WHITESPACE"," ",898],"=",["T_WHITESPACE"," ",898],["T_STRING","false",898],",",["T_WHITESPACE"," ",898],["T_VARIABLE","$codeKey",898],["T_WHITESPACE"," ",898],"=",["T_WHITESPACE"," ",898],["T_STRING","false",898],")",["T_WHITESPACE","\n    ",898],"{",["T_WHITESPACE","\n        ",899],["T_VARIABLE","$stores",900],["T_WHITESPACE"," ",900],"=",["T_WHITESPACE"," ",900],["T_ARRAY","array",900],"(",")",";",["T_WHITESPACE","\n        ",900],["T_FOREACH","foreach",901],["T_WHITESPACE"," ",901],"(",["T_VARIABLE","$this",901],["T_OBJECT_OPERATOR","->",901],["T_STRING","_stores",901],["T_WHITESPACE"," ",901],["T_AS","as",901],["T_WHITESPACE"," ",901],["T_VARIABLE","$store",901],")",["T_WHITESPACE"," ",901],"{",["T_WHITESPACE","\n            ",901],["T_IF","if",902],["T_WHITESPACE"," ",902],"(","!",["T_VARIABLE","$withDefault",902],["T_WHITESPACE"," ",902],["T_BOOLEAN_AND","&&",902],["T_WHITESPACE"," ",902],["T_VARIABLE","$store",902],["T_OBJECT_OPERATOR","->",902],["T_STRING","getId",902],"(",")",["T_WHITESPACE"," ",902],["T_IS_EQUAL","==",902],["T_WHITESPACE"," ",902],["T_LNUMBER","0",902],")",["T_WHITESPACE"," ",902],"{",["T_WHITESPACE","\n                ",902],["T_CONTINUE","continue",903],";",["T_WHITESPACE","\n            ",903],"}",["T_WHITESPACE","\n            ",904],["T_IF","if",905],["T_WHITESPACE"," ",905],"(",["T_VARIABLE","$codeKey",905],")",["T_WHITESPACE"," ",905],"{",["T_WHITESPACE","\n                ",905],["T_VARIABLE","$stores",906],"[",["T_VARIABLE","$store",906],["T_OBJECT_OPERATOR","->",906],["T_STRING","getCode",906],"(",")","]",["T_WHITESPACE"," ",906],"=",["T_WHITESPACE"," ",906],["T_VARIABLE","$store",906],";",["T_WHITESPACE","\n            ",906],"}",["T_WHITESPACE","\n            ",907],["T_ELSE","else",908],["T_WHITESPACE"," ",908],"{",["T_WHITESPACE","\n                ",908],["T_VARIABLE","$stores",909],"[",["T_VARIABLE","$store",909],["T_OBJECT_OPERATOR","->",909],["T_STRING","getId",909],"(",")","]",["T_WHITESPACE"," ",909],"=",["T_WHITESPACE"," ",909],["T_VARIABLE","$store",909],";",["T_WHITESPACE","\n            ",909],"}",["T_WHITESPACE","\n        ",910],"}",["T_WHITESPACE","\n\n        ",911],["T_RETURN","return",913],["T_WHITESPACE"," ",913],["T_VARIABLE","$stores",913],";",["T_WHITESPACE","\n    ",913],"}",["T_WHITESPACE","\n\n    ",914],["T_PROTECTED","protected",916],["T_WHITESPACE"," ",916],["T_FUNCTION","function",916],["T_WHITESPACE"," ",916],["T_STRING","_getDefaultStore",916],"(",")",["T_WHITESPACE","\n    ",916],"{",["T_WHITESPACE","\n        ",917],["T_IF","if",918],["T_WHITESPACE"," ",918],"(",["T_EMPTY","empty",918],"(",["T_VARIABLE","$this",918],["T_OBJECT_OPERATOR","->",918],["T_STRING","_store",918],")",")",["T_WHITESPACE"," ",918],"{",["T_WHITESPACE","\n            ",918],["T_VARIABLE","$this",919],["T_OBJECT_OPERATOR","->",919],["T_STRING","_store",919],["T_WHITESPACE"," ",919],"=",["T_WHITESPACE"," ",919],["T_STRING","Mage",919],["T_DOUBLE_COLON","::",919],["T_STRING","getModel",919],"(",["T_CONSTANT_ENCAPSED_STRING","'core\/store'",919],")",["T_WHITESPACE","\n                ",919],["T_OBJECT_OPERATOR","->",920],["T_STRING","setId",920],"(",["T_STRING","self",920],["T_DOUBLE_COLON","::",920],["T_STRING","DISTRO_STORE_ID",920],")",["T_WHITESPACE","\n                ",920],["T_OBJECT_OPERATOR","->",921],["T_STRING","setCode",921],"(",["T_STRING","self",921],["T_DOUBLE_COLON","::",921],["T_STRING","DISTRO_STORE_CODE",921],")",";",["T_WHITESPACE","\n        ",921],"}",["T_WHITESPACE","\n        ",922],["T_RETURN","return",923],["T_WHITESPACE"," ",923],["T_VARIABLE","$this",923],["T_OBJECT_OPERATOR","->",923],["T_STRING","_store",923],";",["T_WHITESPACE","\n    ",923],"}",["T_WHITESPACE","\n\n    ",924],["T_DOC_COMMENT","\/**\n     * Retrieve default store for default group and website\n     *\n     * @return Mage_Core_Model_Store\n     *\/",926],["T_WHITESPACE","\n    ",930],["T_PUBLIC","public",931],["T_WHITESPACE"," ",931],["T_FUNCTION","function",931],["T_WHITESPACE"," ",931],["T_STRING","getDefaultStoreView",931],"(",")",["T_WHITESPACE","\n    ",931],"{",["T_WHITESPACE","\n        ",932],["T_FOREACH","foreach",933],["T_WHITESPACE"," ",933],"(",["T_VARIABLE","$this",933],["T_OBJECT_OPERATOR","->",933],["T_STRING","getWebsites",933],"(",")",["T_WHITESPACE"," ",933],["T_AS","as",933],["T_WHITESPACE"," ",933],["T_VARIABLE","$_website",933],")",["T_WHITESPACE"," ",933],"{",["T_WHITESPACE","\n            ",933],["T_IF","if",934],["T_WHITESPACE"," ",934],"(",["T_VARIABLE","$_website",934],["T_OBJECT_OPERATOR","->",934],["T_STRING","getIsDefault",934],"(",")",")",["T_WHITESPACE"," ",934],"{",["T_WHITESPACE","\n                ",934],["T_VARIABLE","$_defaultStore",935],["T_WHITESPACE"," ",935],"=",["T_WHITESPACE"," ",935],["T_VARIABLE","$this",935],["T_OBJECT_OPERATOR","->",935],["T_STRING","getGroup",935],"(",["T_VARIABLE","$_website",935],["T_OBJECT_OPERATOR","->",935],["T_STRING","getDefaultGroupId",935],"(",")",")",["T_OBJECT_OPERATOR","->",935],["T_STRING","getDefaultStore",935],"(",")",";",["T_WHITESPACE","\n                ",935],["T_IF","if",936],["T_WHITESPACE"," ",936],"(",["T_VARIABLE","$_defaultStore",936],")",["T_WHITESPACE"," ",936],"{",["T_WHITESPACE","\n                    ",936],["T_RETURN","return",937],["T_WHITESPACE"," ",937],["T_VARIABLE","$_defaultStore",937],";",["T_WHITESPACE","\n                ",937],"}",["T_WHITESPACE","\n            ",938],"}",["T_WHITESPACE","\n        ",939],"}",["T_WHITESPACE","\n        ",940],["T_RETURN","return",941],["T_WHITESPACE"," ",941],["T_STRING","null",941],";",["T_WHITESPACE","\n    ",941],"}",["T_WHITESPACE","\n\n    ",942],["T_PUBLIC","public",944],["T_WHITESPACE"," ",944],["T_FUNCTION","function",944],["T_WHITESPACE"," ",944],["T_STRING","getDistroLocaleCode",944],"(",")",["T_WHITESPACE","\n    ",944],"{",["T_WHITESPACE","\n        ",945],["T_RETURN","return",946],["T_WHITESPACE"," ",946],["T_STRING","self",946],["T_DOUBLE_COLON","::",946],["T_STRING","DISTRO_LOCALE_CODE",946],";",["T_WHITESPACE","\n    ",946],"}",["T_WHITESPACE","\n\n    ",947],["T_DOC_COMMENT","\/**\n     * Retrieve application website object\n     *\n     * @return Mage_Core_Model_Website\n     *\/",949],["T_WHITESPACE","\n    ",953],["T_PUBLIC","public",954],["T_WHITESPACE"," ",954],["T_FUNCTION","function",954],["T_WHITESPACE"," ",954],["T_STRING","getWebsite",954],"(",["T_VARIABLE","$id",954],"=",["T_STRING","null",954],")",["T_WHITESPACE","\n    ",954],"{",["T_WHITESPACE","\n        ",955],["T_IF","if",956],["T_WHITESPACE"," ",956],"(",["T_STRING","is_null",956],"(",["T_VARIABLE","$id",956],")",")",["T_WHITESPACE"," ",956],"{",["T_WHITESPACE","\n            ",956],["T_VARIABLE","$id",957],["T_WHITESPACE"," ",957],"=",["T_WHITESPACE"," ",957],["T_VARIABLE","$this",957],["T_OBJECT_OPERATOR","->",957],["T_STRING","getStore",957],"(",")",["T_OBJECT_OPERATOR","->",957],["T_STRING","getWebsiteId",957],"(",")",";",["T_WHITESPACE","\n        ",957],"}",["T_WHITESPACE"," ",958],["T_ELSEIF","elseif",958],["T_WHITESPACE"," ",958],"(",["T_VARIABLE","$id",958],["T_WHITESPACE"," ",958],["T_INSTANCEOF","instanceof",958],["T_WHITESPACE"," ",958],["T_STRING","Mage_Core_Model_Website",958],")",["T_WHITESPACE"," ",958],"{",["T_WHITESPACE","\n            ",958],["T_RETURN","return",959],["T_WHITESPACE"," ",959],["T_VARIABLE","$id",959],";",["T_WHITESPACE","\n        ",959],"}",["T_WHITESPACE"," ",960],["T_ELSEIF","elseif",960],["T_WHITESPACE"," ",960],"(",["T_VARIABLE","$id",960],["T_WHITESPACE"," ",960],["T_IS_IDENTICAL","===",960],["T_WHITESPACE"," ",960],["T_STRING","true",960],")",["T_WHITESPACE"," ",960],"{",["T_WHITESPACE","\n            ",960],["T_RETURN","return",961],["T_WHITESPACE"," ",961],["T_VARIABLE","$this",961],["T_OBJECT_OPERATOR","->",961],["T_STRING","_website",961],";",["T_WHITESPACE","\n        ",961],"}",["T_WHITESPACE","\n\n        ",962],["T_IF","if",964],["T_WHITESPACE"," ",964],"(",["T_EMPTY","empty",964],"(",["T_VARIABLE","$this",964],["T_OBJECT_OPERATOR","->",964],["T_STRING","_websites",964],"[",["T_VARIABLE","$id",964],"]",")",")",["T_WHITESPACE"," ",964],"{",["T_WHITESPACE","\n            ",964],["T_VARIABLE","$website",965],["T_WHITESPACE"," ",965],"=",["T_WHITESPACE"," ",965],["T_STRING","Mage",965],["T_DOUBLE_COLON","::",965],["T_STRING","getModel",965],"(",["T_CONSTANT_ENCAPSED_STRING","'core\/website'",965],")",";",["T_WHITESPACE","\n            ",965],["T_IF","if",966],["T_WHITESPACE"," ",966],"(",["T_STRING","is_numeric",966],"(",["T_VARIABLE","$id",966],")",")",["T_WHITESPACE"," ",966],"{",["T_WHITESPACE","\n                ",966],["T_VARIABLE","$website",967],["T_OBJECT_OPERATOR","->",967],["T_STRING","load",967],"(",["T_VARIABLE","$id",967],")",";",["T_WHITESPACE","\n                ",967],["T_IF","if",968],["T_WHITESPACE"," ",968],"(","!",["T_VARIABLE","$website",968],["T_OBJECT_OPERATOR","->",968],["T_STRING","hasWebsiteId",968],"(",")",")",["T_WHITESPACE"," ",968],"{",["T_WHITESPACE","\n                    ",968],["T_THROW","throw",969],["T_WHITESPACE"," ",969],["T_STRING","Mage",969],["T_DOUBLE_COLON","::",969],["T_STRING","exception",969],"(",["T_CONSTANT_ENCAPSED_STRING","'Mage_Core'",969],",",["T_WHITESPACE"," ",969],["T_CONSTANT_ENCAPSED_STRING","'Invalid website id requested.'",969],")",";",["T_WHITESPACE","\n                ",969],"}",["T_WHITESPACE","\n            ",970],"}",["T_WHITESPACE"," ",971],["T_ELSEIF","elseif",971],["T_WHITESPACE"," ",971],"(",["T_STRING","is_string",971],"(",["T_VARIABLE","$id",971],")",")",["T_WHITESPACE"," ",971],"{",["T_WHITESPACE","\n                ",971],["T_VARIABLE","$websiteConfig",972],["T_WHITESPACE"," ",972],"=",["T_WHITESPACE"," ",972],["T_VARIABLE","$this",972],["T_OBJECT_OPERATOR","->",972],["T_STRING","_config",972],["T_OBJECT_OPERATOR","->",972],["T_STRING","getNode",972],"(",["T_CONSTANT_ENCAPSED_STRING","'websites\/'",972],".",["T_VARIABLE","$id",972],")",";",["T_WHITESPACE","\n                ",972],["T_IF","if",973],["T_WHITESPACE"," ",973],"(","!",["T_VARIABLE","$websiteConfig",973],")",["T_WHITESPACE"," ",973],"{",["T_WHITESPACE","\n                    ",973],["T_THROW","throw",974],["T_WHITESPACE"," ",974],["T_STRING","Mage",974],["T_DOUBLE_COLON","::",974],["T_STRING","exception",974],"(",["T_CONSTANT_ENCAPSED_STRING","'Mage_Core'",974],",",["T_WHITESPACE"," ",974],["T_CONSTANT_ENCAPSED_STRING","'Invalid website code requested: '",974],".",["T_VARIABLE","$id",974],")",";",["T_WHITESPACE","\n                ",974],"}",["T_WHITESPACE","\n                ",975],["T_VARIABLE","$website",976],["T_OBJECT_OPERATOR","->",976],["T_STRING","loadConfig",976],"(",["T_VARIABLE","$id",976],")",";",["T_WHITESPACE","\n            ",976],"}",["T_WHITESPACE","\n            ",977],["T_VARIABLE","$this",978],["T_OBJECT_OPERATOR","->",978],["T_STRING","_websites",978],"[",["T_VARIABLE","$website",978],["T_OBJECT_OPERATOR","->",978],["T_STRING","getWebsiteId",978],"(",")","]",["T_WHITESPACE"," ",978],"=",["T_WHITESPACE"," ",978],["T_VARIABLE","$website",978],";",["T_WHITESPACE","\n            ",978],["T_VARIABLE","$this",979],["T_OBJECT_OPERATOR","->",979],["T_STRING","_websites",979],"[",["T_VARIABLE","$website",979],["T_OBJECT_OPERATOR","->",979],["T_STRING","getCode",979],"(",")","]",["T_WHITESPACE"," ",979],"=",["T_WHITESPACE"," ",979],["T_VARIABLE","$website",979],";",["T_WHITESPACE","\n        ",979],"}",["T_WHITESPACE","\n        ",980],["T_RETURN","return",981],["T_WHITESPACE"," ",981],["T_VARIABLE","$this",981],["T_OBJECT_OPERATOR","->",981],["T_STRING","_websites",981],"[",["T_VARIABLE","$id",981],"]",";",["T_WHITESPACE","\n    ",981],"}",["T_WHITESPACE","\n\n    ",982],["T_PUBLIC","public",984],["T_WHITESPACE"," ",984],["T_FUNCTION","function",984],["T_WHITESPACE"," ",984],["T_STRING","getWebsites",984],"(",["T_VARIABLE","$withDefault",984],["T_WHITESPACE"," ",984],"=",["T_WHITESPACE"," ",984],["T_STRING","false",984],",",["T_WHITESPACE"," ",984],["T_VARIABLE","$codeKey",984],["T_WHITESPACE"," ",984],"=",["T_WHITESPACE"," ",984],["T_STRING","false",984],")",["T_WHITESPACE","\n    ",984],"{",["T_WHITESPACE","\n        ",985],["T_VARIABLE","$websites",986],["T_WHITESPACE"," ",986],"=",["T_WHITESPACE"," ",986],["T_ARRAY","array",986],"(",")",";",["T_WHITESPACE","\n        ",986],["T_IF","if",987],["T_WHITESPACE"," ",987],"(",["T_STRING","is_array",987],"(",["T_VARIABLE","$this",987],["T_OBJECT_OPERATOR","->",987],["T_STRING","_websites",987],")",")",["T_WHITESPACE"," ",987],"{",["T_WHITESPACE","\n            ",987],["T_FOREACH","foreach",988],["T_WHITESPACE"," ",988],"(",["T_VARIABLE","$this",988],["T_OBJECT_OPERATOR","->",988],["T_STRING","_websites",988],["T_WHITESPACE"," ",988],["T_AS","as",988],["T_WHITESPACE"," ",988],["T_VARIABLE","$website",988],")",["T_WHITESPACE"," ",988],"{",["T_WHITESPACE","\n                ",988],["T_IF","if",989],["T_WHITESPACE"," ",989],"(","!",["T_VARIABLE","$withDefault",989],["T_WHITESPACE"," ",989],["T_BOOLEAN_AND","&&",989],["T_WHITESPACE"," ",989],["T_VARIABLE","$website",989],["T_OBJECT_OPERATOR","->",989],["T_STRING","getId",989],"(",")",["T_WHITESPACE"," ",989],["T_IS_EQUAL","==",989],["T_WHITESPACE"," ",989],["T_LNUMBER","0",989],")",["T_WHITESPACE"," ",989],"{",["T_WHITESPACE","\n                    ",989],["T_CONTINUE","continue",990],";",["T_WHITESPACE","\n                ",990],"}",["T_WHITESPACE","\n                ",991],["T_IF","if",992],["T_WHITESPACE"," ",992],"(",["T_VARIABLE","$codeKey",992],")",["T_WHITESPACE"," ",992],"{",["T_WHITESPACE","\n                    ",992],["T_VARIABLE","$websites",993],"[",["T_VARIABLE","$website",993],["T_OBJECT_OPERATOR","->",993],["T_STRING","getCode",993],"(",")","]",["T_WHITESPACE"," ",993],"=",["T_WHITESPACE"," ",993],["T_VARIABLE","$website",993],";",["T_WHITESPACE","\n                ",993],"}",["T_WHITESPACE","\n                ",994],["T_ELSE","else",995],["T_WHITESPACE"," ",995],"{",["T_WHITESPACE","\n                    ",995],["T_VARIABLE","$websites",996],"[",["T_VARIABLE","$website",996],["T_OBJECT_OPERATOR","->",996],["T_STRING","getId",996],"(",")","]",["T_WHITESPACE"," ",996],"=",["T_WHITESPACE"," ",996],["T_VARIABLE","$website",996],";",["T_WHITESPACE","\n                ",996],"}",["T_WHITESPACE","\n            ",997],"}",["T_WHITESPACE","\n        ",998],"}",["T_WHITESPACE","\n\n        ",999],["T_RETURN","return",1001],["T_WHITESPACE"," ",1001],["T_VARIABLE","$websites",1001],";",["T_WHITESPACE","\n    ",1001],"}",["T_WHITESPACE","\n\n    ",1002],["T_DOC_COMMENT","\/**\n     * Retrieve application store group object\n     *\n     * @return Mage_Core_Model_Store_Group\n     *\/",1004],["T_WHITESPACE","\n    ",1008],["T_PUBLIC","public",1009],["T_WHITESPACE"," ",1009],["T_FUNCTION","function",1009],["T_WHITESPACE"," ",1009],["T_STRING","getGroup",1009],"(",["T_VARIABLE","$id",1009],"=",["T_STRING","null",1009],")",["T_WHITESPACE","\n    ",1009],"{",["T_WHITESPACE","\n        ",1010],["T_IF","if",1011],["T_WHITESPACE"," ",1011],"(",["T_STRING","is_null",1011],"(",["T_VARIABLE","$id",1011],")",")",["T_WHITESPACE"," ",1011],"{",["T_WHITESPACE","\n            ",1011],["T_VARIABLE","$id",1012],["T_WHITESPACE"," ",1012],"=",["T_WHITESPACE"," ",1012],["T_VARIABLE","$this",1012],["T_OBJECT_OPERATOR","->",1012],["T_STRING","getStore",1012],"(",")",["T_OBJECT_OPERATOR","->",1012],["T_STRING","getGroup",1012],"(",")",["T_OBJECT_OPERATOR","->",1012],["T_STRING","getId",1012],"(",")",";",["T_WHITESPACE","\n        ",1012],"}",["T_WHITESPACE"," ",1013],["T_ELSEIF","elseif",1013],["T_WHITESPACE"," ",1013],"(",["T_VARIABLE","$id",1013],["T_WHITESPACE"," ",1013],["T_INSTANCEOF","instanceof",1013],["T_WHITESPACE"," ",1013],["T_STRING","Mage_Core_Model_Store_Group",1013],")",["T_WHITESPACE"," ",1013],"{",["T_WHITESPACE","\n            ",1013],["T_RETURN","return",1014],["T_WHITESPACE"," ",1014],["T_VARIABLE","$id",1014],";",["T_WHITESPACE","\n        ",1014],"}",["T_WHITESPACE","\n        ",1015],["T_IF","if",1016],["T_WHITESPACE"," ",1016],"(",["T_EMPTY","empty",1016],"(",["T_VARIABLE","$this",1016],["T_OBJECT_OPERATOR","->",1016],["T_STRING","_groups",1016],"[",["T_VARIABLE","$id",1016],"]",")",")",["T_WHITESPACE"," ",1016],"{",["T_WHITESPACE","\n            ",1016],["T_VARIABLE","$group",1017],["T_WHITESPACE"," ",1017],"=",["T_WHITESPACE"," ",1017],["T_STRING","Mage",1017],["T_DOUBLE_COLON","::",1017],["T_STRING","getModel",1017],"(",["T_CONSTANT_ENCAPSED_STRING","'core\/store_group'",1017],")",";",["T_WHITESPACE","\n            ",1017],["T_IF","if",1018],["T_WHITESPACE"," ",1018],"(",["T_STRING","is_numeric",1018],"(",["T_VARIABLE","$id",1018],")",")",["T_WHITESPACE"," ",1018],"{",["T_WHITESPACE","\n                ",1018],["T_VARIABLE","$group",1019],["T_OBJECT_OPERATOR","->",1019],["T_STRING","load",1019],"(",["T_VARIABLE","$id",1019],")",";",["T_WHITESPACE","\n                ",1019],["T_IF","if",1020],["T_WHITESPACE"," ",1020],"(","!",["T_VARIABLE","$group",1020],["T_OBJECT_OPERATOR","->",1020],["T_STRING","hasGroupId",1020],"(",")",")",["T_WHITESPACE"," ",1020],"{",["T_WHITESPACE","\n                    ",1020],["T_THROW","throw",1021],["T_WHITESPACE"," ",1021],["T_STRING","Mage",1021],["T_DOUBLE_COLON","::",1021],["T_STRING","exception",1021],"(",["T_CONSTANT_ENCAPSED_STRING","'Mage_Core'",1021],",",["T_WHITESPACE"," ",1021],["T_CONSTANT_ENCAPSED_STRING","'Invalid store group id requested.'",1021],")",";",["T_WHITESPACE","\n                ",1021],"}",["T_WHITESPACE","\n            ",1022],"}",["T_WHITESPACE","\n            ",1023],["T_VARIABLE","$this",1024],["T_OBJECT_OPERATOR","->",1024],["T_STRING","_groups",1024],"[",["T_VARIABLE","$group",1024],["T_OBJECT_OPERATOR","->",1024],["T_STRING","getGroupId",1024],"(",")","]",["T_WHITESPACE"," ",1024],"=",["T_WHITESPACE"," ",1024],["T_VARIABLE","$group",1024],";",["T_WHITESPACE","\n        ",1024],"}",["T_WHITESPACE","\n        ",1025],["T_RETURN","return",1026],["T_WHITESPACE"," ",1026],["T_VARIABLE","$this",1026],["T_OBJECT_OPERATOR","->",1026],["T_STRING","_groups",1026],"[",["T_VARIABLE","$id",1026],"]",";",["T_WHITESPACE","\n    ",1026],"}",["T_WHITESPACE","\n\n    ",1027],["T_DOC_COMMENT","\/**\n     * Retrieve application locale object\n     *\n     * @return Mage_Core_Model_Locale\n     *\/",1029],["T_WHITESPACE","\n    ",1033],["T_PUBLIC","public",1034],["T_WHITESPACE"," ",1034],["T_FUNCTION","function",1034],["T_WHITESPACE"," ",1034],["T_STRING","getLocale",1034],"(",")",["T_WHITESPACE","\n    ",1034],"{",["T_WHITESPACE","\n        ",1035],["T_IF","if",1036],["T_WHITESPACE"," ",1036],"(","!",["T_VARIABLE","$this",1036],["T_OBJECT_OPERATOR","->",1036],["T_STRING","_locale",1036],")",["T_WHITESPACE"," ",1036],"{",["T_WHITESPACE","\n            ",1036],["T_VARIABLE","$this",1037],["T_OBJECT_OPERATOR","->",1037],["T_STRING","_locale",1037],["T_WHITESPACE"," ",1037],"=",["T_WHITESPACE"," ",1037],["T_STRING","Mage",1037],["T_DOUBLE_COLON","::",1037],["T_STRING","getSingleton",1037],"(",["T_CONSTANT_ENCAPSED_STRING","'core\/locale'",1037],")",";",["T_WHITESPACE","\n        ",1037],"}",["T_WHITESPACE","\n        ",1038],["T_RETURN","return",1039],["T_WHITESPACE"," ",1039],["T_VARIABLE","$this",1039],["T_OBJECT_OPERATOR","->",1039],["T_STRING","_locale",1039],";",["T_WHITESPACE","\n    ",1039],"}",["T_WHITESPACE","\n\n    ",1040],["T_DOC_COMMENT","\/**\n     * Retrive layout object\n     *\n     * @return Mage_Core_Model_Layout\n     *\/",1042],["T_WHITESPACE","\n    ",1046],["T_PUBLIC","public",1047],["T_WHITESPACE"," ",1047],["T_FUNCTION","function",1047],["T_WHITESPACE"," ",1047],["T_STRING","getLayout",1047],"(",")",["T_WHITESPACE","\n    ",1047],"{",["T_WHITESPACE","\n        ",1048],["T_IF","if",1049],["T_WHITESPACE"," ",1049],"(","!",["T_VARIABLE","$this",1049],["T_OBJECT_OPERATOR","->",1049],["T_STRING","_layout",1049],")",["T_WHITESPACE"," ",1049],"{",["T_WHITESPACE","\n            ",1049],["T_IF","if",1050],["T_WHITESPACE"," ",1050],"(",["T_VARIABLE","$this",1050],["T_OBJECT_OPERATOR","->",1050],["T_STRING","getFrontController",1050],"(",")",["T_OBJECT_OPERATOR","->",1050],["T_STRING","getAction",1050],"(",")",")",["T_WHITESPACE"," ",1050],"{",["T_WHITESPACE","\n                ",1050],["T_VARIABLE","$this",1051],["T_OBJECT_OPERATOR","->",1051],["T_STRING","_layout",1051],["T_WHITESPACE"," ",1051],"=",["T_WHITESPACE"," ",1051],["T_VARIABLE","$this",1051],["T_OBJECT_OPERATOR","->",1051],["T_STRING","getFrontController",1051],"(",")",["T_OBJECT_OPERATOR","->",1051],["T_STRING","getAction",1051],"(",")",["T_OBJECT_OPERATOR","->",1051],["T_STRING","getLayout",1051],"(",")",";",["T_WHITESPACE","\n            ",1051],"}",["T_WHITESPACE"," ",1052],["T_ELSE","else",1052],["T_WHITESPACE"," ",1052],"{",["T_WHITESPACE","\n                ",1052],["T_VARIABLE","$this",1053],["T_OBJECT_OPERATOR","->",1053],["T_STRING","_layout",1053],["T_WHITESPACE"," ",1053],"=",["T_WHITESPACE"," ",1053],["T_STRING","Mage",1053],["T_DOUBLE_COLON","::",1053],["T_STRING","getSingleton",1053],"(",["T_CONSTANT_ENCAPSED_STRING","'core\/layout'",1053],")",";",["T_WHITESPACE","\n            ",1053],"}",["T_WHITESPACE","\n        ",1054],"}",["T_WHITESPACE","\n        ",1055],["T_RETURN","return",1056],["T_WHITESPACE"," ",1056],["T_VARIABLE","$this",1056],["T_OBJECT_OPERATOR","->",1056],["T_STRING","_layout",1056],";",["T_WHITESPACE","\n    ",1056],"}",["T_WHITESPACE","\n\n    ",1057],["T_DOC_COMMENT","\/**\n     * Retrieve translate object\n     *\n     * @return Mage_Core_Model_Translate\n     *\/",1059],["T_WHITESPACE","\n    ",1063],["T_PUBLIC","public",1064],["T_WHITESPACE"," ",1064],["T_FUNCTION","function",1064],["T_WHITESPACE"," ",1064],["T_STRING","getTranslator",1064],"(",")",["T_WHITESPACE","\n    ",1064],"{",["T_WHITESPACE","\n        ",1065],["T_IF","if",1066],["T_WHITESPACE"," ",1066],"(","!",["T_VARIABLE","$this",1066],["T_OBJECT_OPERATOR","->",1066],["T_STRING","_translator",1066],")",["T_WHITESPACE"," ",1066],"{",["T_WHITESPACE","\n            ",1066],["T_VARIABLE","$this",1067],["T_OBJECT_OPERATOR","->",1067],["T_STRING","_translator",1067],["T_WHITESPACE"," ",1067],"=",["T_WHITESPACE"," ",1067],["T_STRING","Mage",1067],["T_DOUBLE_COLON","::",1067],["T_STRING","getSingleton",1067],"(",["T_CONSTANT_ENCAPSED_STRING","'core\/translate'",1067],")",";",["T_WHITESPACE","\n        ",1067],"}",["T_WHITESPACE","\n        ",1068],["T_RETURN","return",1069],["T_WHITESPACE"," ",1069],["T_VARIABLE","$this",1069],["T_OBJECT_OPERATOR","->",1069],["T_STRING","_translator",1069],";",["T_WHITESPACE","\n    ",1069],"}",["T_WHITESPACE","\n\n    ",1070],["T_DOC_COMMENT","\/**\n     * Retrieve helper object\n     *\n     * @param string $name\n     * @return Mage_Core_Helper_Abstract\n     *\/",1072],["T_WHITESPACE","\n    ",1077],["T_PUBLIC","public",1078],["T_WHITESPACE"," ",1078],["T_FUNCTION","function",1078],["T_WHITESPACE"," ",1078],["T_STRING","getHelper",1078],"(",["T_VARIABLE","$name",1078],")",["T_WHITESPACE","\n    ",1078],"{",["T_WHITESPACE","\n        ",1079],["T_RETURN","return",1080],["T_WHITESPACE"," ",1080],["T_STRING","Mage",1080],["T_DOUBLE_COLON","::",1080],["T_STRING","helper",1080],"(",["T_VARIABLE","$name",1080],")",";",["T_WHITESPACE","\n    ",1080],"}",["T_WHITESPACE","\n\n    ",1081],["T_DOC_COMMENT","\/**\n     * Retrieve application base currency code\n     *\n     * @return string\n     *\/",1083],["T_WHITESPACE","\n    ",1087],["T_PUBLIC","public",1088],["T_WHITESPACE"," ",1088],["T_FUNCTION","function",1088],["T_WHITESPACE"," ",1088],["T_STRING","getBaseCurrencyCode",1088],"(",")",["T_WHITESPACE","\n    ",1088],"{",["T_WHITESPACE","\n        ",1089],["T_COMMENT","\/\/return Mage::getStoreConfig(Mage_Directory_Model_Currency::XML_PATH_CURRENCY_BASE, 0);\n",1090],["T_WHITESPACE","        ",1091],["T_RETURN","return",1091],["T_WHITESPACE"," ",1091],["T_STRING_CAST","(string)",1091],["T_WHITESPACE"," ",1091],["T_STRING","Mage",1091],["T_DOUBLE_COLON","::",1091],["T_STRING","app",1091],"(",")",["T_OBJECT_OPERATOR","->",1091],["T_STRING","getConfig",1091],"(",")",["T_WHITESPACE","\n            ",1091],["T_OBJECT_OPERATOR","->",1092],["T_STRING","getNode",1092],"(",["T_CONSTANT_ENCAPSED_STRING","'default\/'",1092],["T_WHITESPACE"," ",1092],".",["T_WHITESPACE"," ",1092],["T_STRING","Mage_Directory_Model_Currency",1092],["T_DOUBLE_COLON","::",1092],["T_STRING","XML_PATH_CURRENCY_BASE",1092],")",";",["T_WHITESPACE","\n    ",1092],"}",["T_WHITESPACE","\n\n    ",1093],["T_DOC_COMMENT","\/**\n     * Retrieve configuration object\n     *\n     * @return Mage_Core_Model_Config\n     *\/",1095],["T_WHITESPACE","\n    ",1099],["T_PUBLIC","public",1100],["T_WHITESPACE"," ",1100],["T_FUNCTION","function",1100],["T_WHITESPACE"," ",1100],["T_STRING","getConfig",1100],"(",")",["T_WHITESPACE","\n    ",1100],"{",["T_WHITESPACE","\n        ",1101],["T_RETURN","return",1102],["T_WHITESPACE"," ",1102],["T_VARIABLE","$this",1102],["T_OBJECT_OPERATOR","->",1102],["T_STRING","_config",1102],";",["T_WHITESPACE","\n    ",1102],"}",["T_WHITESPACE","\n\n    ",1103],["T_DOC_COMMENT","\/**\n     * Retrieve front controller object\n     *\n     * @return Mage_Core_Controller_Varien_Front\n     *\/",1105],["T_WHITESPACE","\n    ",1109],["T_PUBLIC","public",1110],["T_WHITESPACE"," ",1110],["T_FUNCTION","function",1110],["T_WHITESPACE"," ",1110],["T_STRING","getFrontController",1110],"(",")",["T_WHITESPACE","\n    ",1110],"{",["T_WHITESPACE","\n        ",1111],["T_IF","if",1112],["T_WHITESPACE"," ",1112],"(","!",["T_VARIABLE","$this",1112],["T_OBJECT_OPERATOR","->",1112],["T_STRING","_frontController",1112],")",["T_WHITESPACE"," ",1112],"{",["T_WHITESPACE","\n            ",1112],["T_VARIABLE","$this",1113],["T_OBJECT_OPERATOR","->",1113],["T_STRING","_initFrontController",1113],"(",")",";",["T_WHITESPACE","\n        ",1113],"}",["T_WHITESPACE","\n\n        ",1114],["T_RETURN","return",1116],["T_WHITESPACE"," ",1116],["T_VARIABLE","$this",1116],["T_OBJECT_OPERATOR","->",1116],["T_STRING","_frontController",1116],";",["T_WHITESPACE","\n    ",1116],"}",["T_WHITESPACE","\n\n    ",1117],["T_DOC_COMMENT","\/**\n     * Get core cache model\n     *\n     * @return Mage_Core_Model_Cache\n     *\/",1119],["T_WHITESPACE","\n    ",1123],["T_PUBLIC","public",1124],["T_WHITESPACE"," ",1124],["T_FUNCTION","function",1124],["T_WHITESPACE"," ",1124],["T_STRING","getCacheInstance",1124],"(",")",["T_WHITESPACE","\n    ",1124],"{",["T_WHITESPACE","\n        ",1125],["T_IF","if",1126],["T_WHITESPACE"," ",1126],"(","!",["T_VARIABLE","$this",1126],["T_OBJECT_OPERATOR","->",1126],["T_STRING","_cache",1126],")",["T_WHITESPACE"," ",1126],"{",["T_WHITESPACE","\n            ",1126],["T_VARIABLE","$this",1127],["T_OBJECT_OPERATOR","->",1127],["T_STRING","_initCache",1127],"(",")",";",["T_WHITESPACE","\n        ",1127],"}",["T_WHITESPACE","\n        ",1128],["T_RETURN","return",1129],["T_WHITESPACE"," ",1129],["T_VARIABLE","$this",1129],["T_OBJECT_OPERATOR","->",1129],["T_STRING","_cache",1129],";",["T_WHITESPACE","\n    ",1129],"}",["T_WHITESPACE","\n\n    ",1130],["T_DOC_COMMENT","\/**\n     * Retrieve cache object\n     *\n     * @return Zend_Cache_Core\n     *\/",1132],["T_WHITESPACE","\n    ",1136],["T_PUBLIC","public",1137],["T_WHITESPACE"," ",1137],["T_FUNCTION","function",1137],["T_WHITESPACE"," ",1137],["T_STRING","getCache",1137],"(",")",["T_WHITESPACE","\n    ",1137],"{",["T_WHITESPACE","\n        ",1138],["T_IF","if",1139],["T_WHITESPACE"," ",1139],"(","!",["T_VARIABLE","$this",1139],["T_OBJECT_OPERATOR","->",1139],["T_STRING","_cache",1139],")",["T_WHITESPACE"," ",1139],"{",["T_WHITESPACE","\n            ",1139],["T_VARIABLE","$this",1140],["T_OBJECT_OPERATOR","->",1140],["T_STRING","_initCache",1140],"(",")",";",["T_WHITESPACE","\n        ",1140],"}",["T_WHITESPACE","\n        ",1141],["T_RETURN","return",1142],["T_WHITESPACE"," ",1142],["T_VARIABLE","$this",1142],["T_OBJECT_OPERATOR","->",1142],["T_STRING","_cache",1142],["T_OBJECT_OPERATOR","->",1142],["T_STRING","getFrontend",1142],"(",")",";",["T_WHITESPACE","\n    ",1142],"}",["T_WHITESPACE","\n\n    ",1143],["T_DOC_COMMENT","\/**\n     * Loading cache data\n     *\n     * @param   string $id\n     * @return  mixed\n     *\/",1145],["T_WHITESPACE","\n    ",1150],["T_PUBLIC","public",1151],["T_WHITESPACE"," ",1151],["T_FUNCTION","function",1151],["T_WHITESPACE"," ",1151],["T_STRING","loadCache",1151],"(",["T_VARIABLE","$id",1151],")",["T_WHITESPACE","\n    ",1151],"{",["T_WHITESPACE","\n        ",1152],["T_RETURN","return",1153],["T_WHITESPACE"," ",1153],["T_VARIABLE","$this",1153],["T_OBJECT_OPERATOR","->",1153],["T_STRING","_cache",1153],["T_OBJECT_OPERATOR","->",1153],["T_STRING","load",1153],"(",["T_VARIABLE","$id",1153],")",";",["T_WHITESPACE","\n    ",1153],"}",["T_WHITESPACE","\n\n    ",1154],["T_DOC_COMMENT","\/**\n     * Saving cache data\n     *\n     * @param   mixed $data\n     * @param   string $id\n     * @param   array $tags\n     * @return  Mage_Core_Model_App\n     *\/",1156],["T_WHITESPACE","\n    ",1163],["T_PUBLIC","public",1164],["T_WHITESPACE"," ",1164],["T_FUNCTION","function",1164],["T_WHITESPACE"," ",1164],["T_STRING","saveCache",1164],"(",["T_VARIABLE","$data",1164],",",["T_WHITESPACE"," ",1164],["T_VARIABLE","$id",1164],",",["T_WHITESPACE"," ",1164],["T_VARIABLE","$tags",1164],"=",["T_ARRAY","array",1164],"(",")",",",["T_WHITESPACE"," ",1164],["T_VARIABLE","$lifeTime",1164],"=",["T_STRING","false",1164],")",["T_WHITESPACE","\n    ",1164],"{",["T_WHITESPACE","\n        ",1165],["T_VARIABLE","$this",1166],["T_OBJECT_OPERATOR","->",1166],["T_STRING","_cache",1166],["T_OBJECT_OPERATOR","->",1166],["T_STRING","save",1166],"(",["T_VARIABLE","$data",1166],",",["T_WHITESPACE"," ",1166],["T_VARIABLE","$id",1166],",",["T_WHITESPACE"," ",1166],["T_VARIABLE","$tags",1166],",",["T_WHITESPACE"," ",1166],["T_VARIABLE","$lifeTime",1166],")",";",["T_WHITESPACE","\n        ",1166],["T_RETURN","return",1167],["T_WHITESPACE"," ",1167],["T_VARIABLE","$this",1167],";",["T_WHITESPACE","\n    ",1167],"}",["T_WHITESPACE","\n\n    ",1168],["T_DOC_COMMENT","\/**\n     * Remove cache\n     *\n     * @param   string $id\n     * @return  Mage_Core_Model_App\n     *\/",1170],["T_WHITESPACE","\n    ",1175],["T_PUBLIC","public",1176],["T_WHITESPACE"," ",1176],["T_FUNCTION","function",1176],["T_WHITESPACE"," ",1176],["T_STRING","removeCache",1176],"(",["T_VARIABLE","$id",1176],")",["T_WHITESPACE","\n    ",1176],"{",["T_WHITESPACE","\n        ",1177],["T_VARIABLE","$this",1178],["T_OBJECT_OPERATOR","->",1178],["T_STRING","_cache",1178],["T_OBJECT_OPERATOR","->",1178],["T_STRING","remove",1178],"(",["T_VARIABLE","$id",1178],")",";",["T_WHITESPACE","\n        ",1178],["T_RETURN","return",1179],["T_WHITESPACE"," ",1179],["T_VARIABLE","$this",1179],";",["T_WHITESPACE","\n    ",1179],"}",["T_WHITESPACE","\n\n    ",1180],["T_DOC_COMMENT","\/**\n     * Cleaning cache\n     *\n     * @param   array $tags\n     * @return  Mage_Core_Model_App\n     *\/",1182],["T_WHITESPACE","\n    ",1187],["T_PUBLIC","public",1188],["T_WHITESPACE"," ",1188],["T_FUNCTION","function",1188],["T_WHITESPACE"," ",1188],["T_STRING","cleanCache",1188],"(",["T_VARIABLE","$tags",1188],"=",["T_ARRAY","array",1188],"(",")",")",["T_WHITESPACE","\n    ",1188],"{",["T_WHITESPACE","\n        ",1189],["T_VARIABLE","$this",1190],["T_OBJECT_OPERATOR","->",1190],["T_STRING","_cache",1190],["T_OBJECT_OPERATOR","->",1190],["T_STRING","clean",1190],"(",["T_VARIABLE","$tags",1190],")",";",["T_WHITESPACE","\n        ",1190],["T_STRING","Mage",1191],["T_DOUBLE_COLON","::",1191],["T_STRING","dispatchEvent",1191],"(",["T_CONSTANT_ENCAPSED_STRING","'application_clean_cache'",1191],",",["T_WHITESPACE"," ",1191],["T_ARRAY","array",1191],"(",["T_CONSTANT_ENCAPSED_STRING","'tags'",1191],["T_WHITESPACE"," ",1191],["T_DOUBLE_ARROW","=>",1191],["T_WHITESPACE"," ",1191],["T_VARIABLE","$tags",1191],")",")",";",["T_WHITESPACE","\n        ",1191],["T_RETURN","return",1192],["T_WHITESPACE"," ",1192],["T_VARIABLE","$this",1192],";",["T_WHITESPACE","\n    ",1192],"}",["T_WHITESPACE","\n\n    ",1193],["T_DOC_COMMENT","\/**\n    * Check whether to use cache for specific component\n    *\n    * @return boolean\n    *\/",1195],["T_WHITESPACE","\n    ",1199],["T_PUBLIC","public",1200],["T_WHITESPACE"," ",1200],["T_FUNCTION","function",1200],["T_WHITESPACE"," ",1200],["T_STRING","useCache",1200],"(",["T_VARIABLE","$type",1200],"=",["T_STRING","null",1200],")",["T_WHITESPACE","\n    ",1200],"{",["T_WHITESPACE","\n        ",1201],["T_RETURN","return",1202],["T_WHITESPACE"," ",1202],["T_VARIABLE","$this",1202],["T_OBJECT_OPERATOR","->",1202],["T_STRING","_cache",1202],["T_OBJECT_OPERATOR","->",1202],["T_STRING","canUse",1202],"(",["T_VARIABLE","$type",1202],")",";",["T_WHITESPACE","\n    ",1202],"}",["T_WHITESPACE","\n\n    ",1203],["T_DOC_COMMENT","\/**\n     * Save cache usage settings\n     *\n     * @param array $data\n     * @return Mage_Core_Model_App\n     *\/",1205],["T_WHITESPACE","\n    ",1210],["T_PUBLIC","public",1211],["T_WHITESPACE"," ",1211],["T_FUNCTION","function",1211],["T_WHITESPACE"," ",1211],["T_STRING","saveUseCache",1211],"(",["T_VARIABLE","$data",1211],")",["T_WHITESPACE","\n    ",1211],"{",["T_WHITESPACE","\n        ",1212],["T_VARIABLE","$this",1213],["T_OBJECT_OPERATOR","->",1213],["T_STRING","_cache",1213],["T_OBJECT_OPERATOR","->",1213],["T_STRING","saveOptions",1213],"(",["T_VARIABLE","$data",1213],")",";",["T_WHITESPACE","\n        ",1213],["T_RETURN","return",1214],["T_WHITESPACE"," ",1214],["T_VARIABLE","$this",1214],";",["T_WHITESPACE","\n    ",1214],"}",["T_WHITESPACE","\n\n    ",1215],["T_DOC_COMMENT","\/**\n     * Deletes all session files\n     *\n     *\/",1217],["T_WHITESPACE","\n    ",1220],["T_PUBLIC","public",1221],["T_WHITESPACE"," ",1221],["T_FUNCTION","function",1221],["T_WHITESPACE"," ",1221],["T_STRING","cleanAllSessions",1221],"(",")",["T_WHITESPACE","\n    ",1221],"{",["T_WHITESPACE","\n        ",1222],["T_IF","if",1223],["T_WHITESPACE"," ",1223],"(",["T_STRING","session_module_name",1223],"(",")",["T_IS_EQUAL","==",1223],["T_CONSTANT_ENCAPSED_STRING","'files'",1223],")",["T_WHITESPACE"," ",1223],"{",["T_WHITESPACE","\n            ",1223],["T_VARIABLE","$dir",1224],["T_WHITESPACE"," ",1224],"=",["T_WHITESPACE"," ",1224],["T_STRING","session_save_path",1224],"(",")",";",["T_WHITESPACE","\n            ",1224],["T_STRING","mageDelTree",1225],"(",["T_VARIABLE","$dir",1225],")",";",["T_WHITESPACE","\n        ",1225],"}",["T_WHITESPACE","\n        ",1226],["T_RETURN","return",1227],["T_WHITESPACE"," ",1227],["T_VARIABLE","$this",1227],";",["T_WHITESPACE","\n    ",1227],"}",["T_WHITESPACE","\n\n    ",1228],["T_DOC_COMMENT","\/**\n     * Retrieve request object\n     *\n     * @return Mage_Core_Controller_Request_Http\n     *\/",1230],["T_WHITESPACE","\n    ",1234],["T_PUBLIC","public",1235],["T_WHITESPACE"," ",1235],["T_FUNCTION","function",1235],["T_WHITESPACE"," ",1235],["T_STRING","getRequest",1235],"(",")",["T_WHITESPACE","\n    ",1235],"{",["T_WHITESPACE","\n        ",1236],["T_IF","if",1237],["T_WHITESPACE"," ",1237],"(",["T_EMPTY","empty",1237],"(",["T_VARIABLE","$this",1237],["T_OBJECT_OPERATOR","->",1237],["T_STRING","_request",1237],")",")",["T_WHITESPACE"," ",1237],"{",["T_WHITESPACE","\n            ",1237],["T_VARIABLE","$this",1238],["T_OBJECT_OPERATOR","->",1238],["T_STRING","_request",1238],["T_WHITESPACE"," ",1238],"=",["T_WHITESPACE"," ",1238],["T_NEW","new",1238],["T_WHITESPACE"," ",1238],["T_STRING","Mage_Core_Controller_Request_Http",1238],"(",")",";",["T_WHITESPACE","\n        ",1238],"}",["T_WHITESPACE","\n        ",1239],["T_RETURN","return",1240],["T_WHITESPACE"," ",1240],["T_VARIABLE","$this",1240],["T_OBJECT_OPERATOR","->",1240],["T_STRING","_request",1240],";",["T_WHITESPACE","\n    ",1240],"}",["T_WHITESPACE","\n\n    ",1241],["T_DOC_COMMENT","\/**\n     * Request setter\n     *\n     * @param Mage_Core_Controller_Request_Http $request\n     * @return Mage_Core_Model_App\n     *\/",1243],["T_WHITESPACE","\n    ",1248],["T_PUBLIC","public",1249],["T_WHITESPACE"," ",1249],["T_FUNCTION","function",1249],["T_WHITESPACE"," ",1249],["T_STRING","setRequest",1249],"(",["T_STRING","Mage_Core_Controller_Request_Http",1249],["T_WHITESPACE"," ",1249],["T_VARIABLE","$request",1249],")",["T_WHITESPACE","\n    ",1249],"{",["T_WHITESPACE","\n        ",1250],["T_VARIABLE","$this",1251],["T_OBJECT_OPERATOR","->",1251],["T_STRING","_request",1251],["T_WHITESPACE"," ",1251],"=",["T_WHITESPACE"," ",1251],["T_VARIABLE","$request",1251],";",["T_WHITESPACE","\n        ",1251],["T_RETURN","return",1252],["T_WHITESPACE"," ",1252],["T_VARIABLE","$this",1252],";",["T_WHITESPACE","\n    ",1252],"}",["T_WHITESPACE","\n\n    ",1253],["T_DOC_COMMENT","\/**\n     * Retrieve response object\n     *\n     * @return Zend_Controller_Response_Http\n     *\/",1255],["T_WHITESPACE","\n    ",1259],["T_PUBLIC","public",1260],["T_WHITESPACE"," ",1260],["T_FUNCTION","function",1260],["T_WHITESPACE"," ",1260],["T_STRING","getResponse",1260],"(",")",["T_WHITESPACE","\n    ",1260],"{",["T_WHITESPACE","\n        ",1261],["T_IF","if",1262],["T_WHITESPACE"," ",1262],"(",["T_EMPTY","empty",1262],"(",["T_VARIABLE","$this",1262],["T_OBJECT_OPERATOR","->",1262],["T_STRING","_response",1262],")",")",["T_WHITESPACE"," ",1262],"{",["T_WHITESPACE","\n            ",1262],["T_VARIABLE","$this",1263],["T_OBJECT_OPERATOR","->",1263],["T_STRING","_response",1263],["T_WHITESPACE"," ",1263],"=",["T_WHITESPACE"," ",1263],["T_NEW","new",1263],["T_WHITESPACE"," ",1263],["T_STRING","Mage_Core_Controller_Response_Http",1263],"(",")",";",["T_WHITESPACE","\n            ",1263],["T_VARIABLE","$this",1264],["T_OBJECT_OPERATOR","->",1264],["T_STRING","_response",1264],["T_OBJECT_OPERATOR","->",1264],["T_STRING","headersSentThrowsException",1264],["T_WHITESPACE"," ",1264],"=",["T_WHITESPACE"," ",1264],["T_STRING","Mage",1264],["T_DOUBLE_COLON","::",1264],["T_VARIABLE","$headersSentThrowsException",1264],";",["T_WHITESPACE","\n            ",1264],["T_VARIABLE","$this",1265],["T_OBJECT_OPERATOR","->",1265],["T_STRING","_response",1265],["T_OBJECT_OPERATOR","->",1265],["T_STRING","setHeader",1265],"(",["T_CONSTANT_ENCAPSED_STRING","\"Content-Type\"",1265],",",["T_WHITESPACE"," ",1265],["T_CONSTANT_ENCAPSED_STRING","\"text\/html; charset=UTF-8\"",1265],")",";",["T_WHITESPACE","\n        ",1265],"}",["T_WHITESPACE","\n        ",1266],["T_RETURN","return",1267],["T_WHITESPACE"," ",1267],["T_VARIABLE","$this",1267],["T_OBJECT_OPERATOR","->",1267],["T_STRING","_response",1267],";",["T_WHITESPACE","\n    ",1267],"}",["T_WHITESPACE","\n\n    ",1268],["T_DOC_COMMENT","\/**\n     * Response setter\n     *\n     * @param Mage_Core_Controller_Response_Http $response\n     * @return Mage_Core_Model_App\n     *\/",1270],["T_WHITESPACE","\n    ",1275],["T_PUBLIC","public",1276],["T_WHITESPACE"," ",1276],["T_FUNCTION","function",1276],["T_WHITESPACE"," ",1276],["T_STRING","setResponse",1276],"(",["T_STRING","Mage_Core_Controller_Response_Http",1276],["T_WHITESPACE"," ",1276],["T_VARIABLE","$response",1276],")",["T_WHITESPACE","\n    ",1276],"{",["T_WHITESPACE","\n        ",1277],["T_VARIABLE","$this",1278],["T_OBJECT_OPERATOR","->",1278],["T_STRING","_response",1278],["T_WHITESPACE"," ",1278],"=",["T_WHITESPACE"," ",1278],["T_VARIABLE","$response",1278],";",["T_WHITESPACE","\n        ",1278],["T_RETURN","return",1279],["T_WHITESPACE"," ",1279],["T_VARIABLE","$this",1279],";",["T_WHITESPACE","\n    ",1279],"}",["T_WHITESPACE","\n\n    ",1280],["T_PUBLIC","public",1282],["T_WHITESPACE"," ",1282],["T_FUNCTION","function",1282],["T_WHITESPACE"," ",1282],["T_STRING","addEventArea",1282],"(",["T_VARIABLE","$area",1282],")",["T_WHITESPACE","\n    ",1282],"{",["T_WHITESPACE","\n        ",1283],["T_IF","if",1284],["T_WHITESPACE"," ",1284],"(","!",["T_ISSET","isset",1284],"(",["T_VARIABLE","$this",1284],["T_OBJECT_OPERATOR","->",1284],["T_STRING","_events",1284],"[",["T_VARIABLE","$area",1284],"]",")",")",["T_WHITESPACE"," ",1284],"{",["T_WHITESPACE","\n            ",1284],["T_VARIABLE","$this",1285],["T_OBJECT_OPERATOR","->",1285],["T_STRING","_events",1285],"[",["T_VARIABLE","$area",1285],"]",["T_WHITESPACE"," ",1285],"=",["T_WHITESPACE"," ",1285],["T_ARRAY","array",1285],"(",")",";",["T_WHITESPACE","\n        ",1285],"}",["T_WHITESPACE","\n        ",1286],["T_RETURN","return",1287],["T_WHITESPACE"," ",1287],["T_VARIABLE","$this",1287],";",["T_WHITESPACE","\n    ",1287],"}",["T_WHITESPACE","\n\n    ",1288],["T_PUBLIC","public",1290],["T_WHITESPACE"," ",1290],["T_FUNCTION","function",1290],["T_WHITESPACE"," ",1290],["T_STRING","dispatchEvent",1290],"(",["T_VARIABLE","$eventName",1290],",",["T_WHITESPACE"," ",1290],["T_VARIABLE","$args",1290],")",["T_WHITESPACE","\n    ",1290],"{",["T_WHITESPACE","\n        ",1291],["T_VARIABLE","$eventName",1292],["T_WHITESPACE"," ",1292],"=",["T_WHITESPACE"," ",1292],["T_STRING","strtolower",1292],"(",["T_VARIABLE","$eventName",1292],")",";",["T_WHITESPACE","\n        ",1292],["T_FOREACH","foreach",1293],["T_WHITESPACE"," ",1293],"(",["T_VARIABLE","$this",1293],["T_OBJECT_OPERATOR","->",1293],["T_STRING","_events",1293],["T_WHITESPACE"," ",1293],["T_AS","as",1293],["T_WHITESPACE"," ",1293],["T_VARIABLE","$area",1293],["T_DOUBLE_ARROW","=>",1293],["T_VARIABLE","$events",1293],")",["T_WHITESPACE"," ",1293],"{",["T_WHITESPACE","\n            ",1293],["T_IF","if",1294],["T_WHITESPACE"," ",1294],"(","!",["T_ISSET","isset",1294],"(",["T_VARIABLE","$events",1294],"[",["T_VARIABLE","$eventName",1294],"]",")",")",["T_WHITESPACE"," ",1294],"{",["T_WHITESPACE","\n                ",1294],["T_VARIABLE","$eventConfig",1295],["T_WHITESPACE"," ",1295],"=",["T_WHITESPACE"," ",1295],["T_VARIABLE","$this",1295],["T_OBJECT_OPERATOR","->",1295],["T_STRING","getConfig",1295],"(",")",["T_OBJECT_OPERATOR","->",1295],["T_STRING","getEventConfig",1295],"(",["T_VARIABLE","$area",1295],",",["T_WHITESPACE"," ",1295],["T_VARIABLE","$eventName",1295],")",";",["T_WHITESPACE","\n                ",1295],["T_IF","if",1296],["T_WHITESPACE"," ",1296],"(","!",["T_VARIABLE","$eventConfig",1296],")",["T_WHITESPACE"," ",1296],"{",["T_WHITESPACE","\n                    ",1296],["T_VARIABLE","$this",1297],["T_OBJECT_OPERATOR","->",1297],["T_STRING","_events",1297],"[",["T_VARIABLE","$area",1297],"]","[",["T_VARIABLE","$eventName",1297],"]",["T_WHITESPACE"," ",1297],"=",["T_WHITESPACE"," ",1297],["T_STRING","false",1297],";",["T_WHITESPACE","\n                    ",1297],["T_CONTINUE","continue",1298],";",["T_WHITESPACE","\n                ",1298],"}",["T_WHITESPACE","\n                ",1299],["T_VARIABLE","$observers",1300],["T_WHITESPACE"," ",1300],"=",["T_WHITESPACE"," ",1300],["T_ARRAY","array",1300],"(",")",";",["T_WHITESPACE","\n                ",1300],["T_FOREACH","foreach",1301],["T_WHITESPACE"," ",1301],"(",["T_VARIABLE","$eventConfig",1301],["T_OBJECT_OPERATOR","->",1301],["T_STRING","observers",1301],["T_OBJECT_OPERATOR","->",1301],["T_STRING","children",1301],"(",")",["T_WHITESPACE"," ",1301],["T_AS","as",1301],["T_WHITESPACE"," ",1301],["T_VARIABLE","$obsName",1301],["T_DOUBLE_ARROW","=>",1301],["T_VARIABLE","$obsConfig",1301],")",["T_WHITESPACE"," ",1301],"{",["T_WHITESPACE","\n                    ",1301],["T_VARIABLE","$observers",1302],"[",["T_VARIABLE","$obsName",1302],"]",["T_WHITESPACE"," ",1302],"=",["T_WHITESPACE"," ",1302],["T_ARRAY","array",1302],"(",["T_WHITESPACE","\n                        ",1302],["T_CONSTANT_ENCAPSED_STRING","'type'",1303],["T_WHITESPACE","  ",1303],["T_DOUBLE_ARROW","=>",1303],["T_WHITESPACE"," ",1303],["T_STRING_CAST","(string)",1303],["T_VARIABLE","$obsConfig",1303],["T_OBJECT_OPERATOR","->",1303],["T_STRING","type",1303],",",["T_WHITESPACE","\n                        ",1303],["T_CONSTANT_ENCAPSED_STRING","'model'",1304],["T_WHITESPACE"," ",1304],["T_DOUBLE_ARROW","=>",1304],["T_WHITESPACE"," ",1304],["T_VARIABLE","$obsConfig",1304],["T_OBJECT_OPERATOR","->",1304],["T_STRING","class",1304],["T_WHITESPACE"," ",1304],"?",["T_WHITESPACE"," ",1304],["T_STRING_CAST","(string)",1304],["T_VARIABLE","$obsConfig",1304],["T_OBJECT_OPERATOR","->",1304],["T_STRING","class",1304],["T_WHITESPACE"," ",1304],":",["T_WHITESPACE"," ",1304],["T_VARIABLE","$obsConfig",1304],["T_OBJECT_OPERATOR","->",1304],["T_STRING","getClassName",1304],"(",")",",",["T_WHITESPACE","\n                        ",1304],["T_CONSTANT_ENCAPSED_STRING","'method'",1305],["T_DOUBLE_ARROW","=>",1305],["T_WHITESPACE"," ",1305],["T_STRING_CAST","(string)",1305],["T_VARIABLE","$obsConfig",1305],["T_OBJECT_OPERATOR","->",1305],["T_STRING","method",1305],",",["T_WHITESPACE","\n                        ",1305],["T_CONSTANT_ENCAPSED_STRING","'args'",1306],["T_WHITESPACE","  ",1306],["T_DOUBLE_ARROW","=>",1306],["T_WHITESPACE"," ",1306],["T_ARRAY_CAST","(array)",1306],["T_VARIABLE","$obsConfig",1306],["T_OBJECT_OPERATOR","->",1306],["T_STRING","args",1306],",",["T_WHITESPACE","\n                    ",1306],")",";",["T_WHITESPACE","\n                ",1307],"}",["T_WHITESPACE","\n                ",1308],["T_VARIABLE","$events",1309],"[",["T_VARIABLE","$eventName",1309],"]","[",["T_CONSTANT_ENCAPSED_STRING","'observers'",1309],"]",["T_WHITESPACE"," ",1309],"=",["T_WHITESPACE"," ",1309],["T_VARIABLE","$observers",1309],";",["T_WHITESPACE","\n                ",1309],["T_VARIABLE","$this",1310],["T_OBJECT_OPERATOR","->",1310],["T_STRING","_events",1310],"[",["T_VARIABLE","$area",1310],"]","[",["T_VARIABLE","$eventName",1310],"]","[",["T_CONSTANT_ENCAPSED_STRING","'observers'",1310],"]",["T_WHITESPACE"," ",1310],"=",["T_WHITESPACE"," ",1310],["T_VARIABLE","$observers",1310],";",["T_WHITESPACE","\n            ",1310],"}",["T_WHITESPACE","\n            ",1311],["T_IF","if",1312],["T_WHITESPACE"," ",1312],"(",["T_STRING","false",1312],["T_IS_IDENTICAL","===",1312],["T_VARIABLE","$events",1312],"[",["T_VARIABLE","$eventName",1312],"]",")",["T_WHITESPACE"," ",1312],"{",["T_WHITESPACE","\n                ",1312],["T_CONTINUE","continue",1313],";",["T_WHITESPACE","\n            ",1313],"}",["T_WHITESPACE"," ",1314],["T_ELSE","else",1314],["T_WHITESPACE"," ",1314],"{",["T_WHITESPACE","\n                ",1314],["T_VARIABLE","$event",1315],["T_WHITESPACE"," ",1315],"=",["T_WHITESPACE"," ",1315],["T_NEW","new",1315],["T_WHITESPACE"," ",1315],["T_STRING","Varien_Event",1315],"(",["T_VARIABLE","$args",1315],")",";",["T_WHITESPACE","\n                ",1315],["T_VARIABLE","$event",1316],["T_OBJECT_OPERATOR","->",1316],["T_STRING","setName",1316],"(",["T_VARIABLE","$eventName",1316],")",";",["T_WHITESPACE","\n                ",1316],["T_VARIABLE","$observer",1317],["T_WHITESPACE"," ",1317],"=",["T_WHITESPACE"," ",1317],["T_NEW","new",1317],["T_WHITESPACE"," ",1317],["T_STRING","Varien_Event_Observer",1317],"(",")",";",["T_WHITESPACE","\n            ",1317],"}",["T_WHITESPACE","\n\n            ",1318],["T_FOREACH","foreach",1320],["T_WHITESPACE"," ",1320],"(",["T_VARIABLE","$events",1320],"[",["T_VARIABLE","$eventName",1320],"]","[",["T_CONSTANT_ENCAPSED_STRING","'observers'",1320],"]",["T_WHITESPACE"," ",1320],["T_AS","as",1320],["T_WHITESPACE"," ",1320],["T_VARIABLE","$obsName",1320],["T_DOUBLE_ARROW","=>",1320],["T_VARIABLE","$obs",1320],")",["T_WHITESPACE"," ",1320],"{",["T_WHITESPACE","\n                ",1320],["T_VARIABLE","$observer",1321],["T_OBJECT_OPERATOR","->",1321],["T_STRING","setData",1321],"(",["T_ARRAY","array",1321],"(",["T_CONSTANT_ENCAPSED_STRING","'event'",1321],["T_DOUBLE_ARROW","=>",1321],["T_VARIABLE","$event",1321],")",")",";",["T_WHITESPACE","\n                ",1321],["T_STRING","Varien_Profiler",1322],["T_DOUBLE_COLON","::",1322],["T_STRING","start",1322],"(",["T_CONSTANT_ENCAPSED_STRING","'OBSERVER: '",1322],".",["T_VARIABLE","$obsName",1322],")",";",["T_WHITESPACE","\n                ",1322],["T_SWITCH","switch",1323],["T_WHITESPACE"," ",1323],"(",["T_VARIABLE","$obs",1323],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",1323],"]",")",["T_WHITESPACE"," ",1323],"{",["T_WHITESPACE","\n                    ",1323],["T_CASE","case",1324],["T_WHITESPACE"," ",1324],["T_CONSTANT_ENCAPSED_STRING","'disabled'",1324],":",["T_WHITESPACE","\n                        ",1324],["T_BREAK","break",1325],";",["T_WHITESPACE","\n                    ",1325],["T_CASE","case",1326],["T_WHITESPACE"," ",1326],["T_CONSTANT_ENCAPSED_STRING","'object'",1326],":",["T_WHITESPACE","\n                    ",1326],["T_CASE","case",1327],["T_WHITESPACE"," ",1327],["T_CONSTANT_ENCAPSED_STRING","'model'",1327],":",["T_WHITESPACE","\n                        ",1327],["T_VARIABLE","$method",1328],["T_WHITESPACE"," ",1328],"=",["T_WHITESPACE"," ",1328],["T_VARIABLE","$obs",1328],"[",["T_CONSTANT_ENCAPSED_STRING","'method'",1328],"]",";",["T_WHITESPACE","\n                        ",1328],["T_VARIABLE","$observer",1329],["T_OBJECT_OPERATOR","->",1329],["T_STRING","addData",1329],"(",["T_VARIABLE","$args",1329],")",";",["T_WHITESPACE","\n                        ",1329],["T_VARIABLE","$object",1330],["T_WHITESPACE"," ",1330],"=",["T_WHITESPACE"," ",1330],["T_STRING","Mage",1330],["T_DOUBLE_COLON","::",1330],["T_STRING","getModel",1330],"(",["T_VARIABLE","$obs",1330],"[",["T_CONSTANT_ENCAPSED_STRING","'model'",1330],"]",")",";",["T_WHITESPACE","\n                        ",1330],["T_VARIABLE","$this",1331],["T_OBJECT_OPERATOR","->",1331],["T_STRING","_callObserverMethod",1331],"(",["T_VARIABLE","$object",1331],",",["T_WHITESPACE"," ",1331],["T_VARIABLE","$method",1331],",",["T_WHITESPACE"," ",1331],["T_VARIABLE","$observer",1331],")",";",["T_WHITESPACE","\n                        ",1331],["T_BREAK","break",1332],";",["T_WHITESPACE","\n                    ",1332],["T_DEFAULT","default",1333],":",["T_WHITESPACE","\n                        ",1333],["T_VARIABLE","$method",1334],["T_WHITESPACE"," ",1334],"=",["T_WHITESPACE"," ",1334],["T_VARIABLE","$obs",1334],"[",["T_CONSTANT_ENCAPSED_STRING","'method'",1334],"]",";",["T_WHITESPACE","\n                        ",1334],["T_VARIABLE","$observer",1335],["T_OBJECT_OPERATOR","->",1335],["T_STRING","addData",1335],"(",["T_VARIABLE","$args",1335],")",";",["T_WHITESPACE","\n                        ",1335],["T_VARIABLE","$object",1336],["T_WHITESPACE"," ",1336],"=",["T_WHITESPACE"," ",1336],["T_STRING","Mage",1336],["T_DOUBLE_COLON","::",1336],["T_STRING","getSingleton",1336],"(",["T_VARIABLE","$obs",1336],"[",["T_CONSTANT_ENCAPSED_STRING","'model'",1336],"]",")",";",["T_WHITESPACE","\n                        ",1336],["T_VARIABLE","$this",1337],["T_OBJECT_OPERATOR","->",1337],["T_STRING","_callObserverMethod",1337],"(",["T_VARIABLE","$object",1337],",",["T_WHITESPACE"," ",1337],["T_VARIABLE","$method",1337],",",["T_WHITESPACE"," ",1337],["T_VARIABLE","$observer",1337],")",";",["T_WHITESPACE","\n                        ",1337],["T_BREAK","break",1338],";",["T_WHITESPACE","\n                ",1338],"}",["T_WHITESPACE","\n                ",1339],["T_STRING","Varien_Profiler",1340],["T_DOUBLE_COLON","::",1340],["T_STRING","stop",1340],"(",["T_CONSTANT_ENCAPSED_STRING","'OBSERVER: '",1340],".",["T_VARIABLE","$obsName",1340],")",";",["T_WHITESPACE","\n            ",1340],"}",["T_WHITESPACE","\n        ",1341],"}",["T_WHITESPACE","\n        ",1342],["T_RETURN","return",1343],["T_WHITESPACE"," ",1343],["T_VARIABLE","$this",1343],";",["T_WHITESPACE","\n    ",1343],"}",["T_WHITESPACE","\n\n    ",1344],["T_DOC_COMMENT","\/**\n     * Performs non-existent observer method calls protection\n     *\n     * @param object $object\n     * @param string $method\n     * @param Varien_Event_Observer $observer\n     * @return Mage_Core_Model_App\n     * @throws Mage_Core_Exception\n     *\/",1346],["T_WHITESPACE","\n    ",1354],["T_PROTECTED","protected",1355],["T_WHITESPACE"," ",1355],["T_FUNCTION","function",1355],["T_WHITESPACE"," ",1355],["T_STRING","_callObserverMethod",1355],"(",["T_VARIABLE","$object",1355],",",["T_WHITESPACE"," ",1355],["T_VARIABLE","$method",1355],",",["T_WHITESPACE"," ",1355],["T_VARIABLE","$observer",1355],")",["T_WHITESPACE","\n    ",1355],"{",["T_WHITESPACE","\n        ",1356],["T_IF","if",1357],["T_WHITESPACE"," ",1357],"(",["T_STRING","method_exists",1357],"(",["T_VARIABLE","$object",1357],",",["T_WHITESPACE"," ",1357],["T_VARIABLE","$method",1357],")",")",["T_WHITESPACE"," ",1357],"{",["T_WHITESPACE","\n            ",1357],["T_VARIABLE","$object",1358],["T_OBJECT_OPERATOR","->",1358],["T_VARIABLE","$method",1358],"(",["T_VARIABLE","$observer",1358],")",";",["T_WHITESPACE","\n        ",1358],"}",["T_WHITESPACE"," ",1359],["T_ELSEIF","elseif",1359],["T_WHITESPACE"," ",1359],"(",["T_STRING","Mage",1359],["T_DOUBLE_COLON","::",1359],["T_STRING","getIsDeveloperMode",1359],"(",")",")",["T_WHITESPACE"," ",1359],"{",["T_WHITESPACE","\n            ",1359],["T_STRING","Mage",1360],["T_DOUBLE_COLON","::",1360],["T_STRING","throwException",1360],"(",["T_CONSTANT_ENCAPSED_STRING","'Method \"'",1360],".",["T_VARIABLE","$method",1360],".",["T_CONSTANT_ENCAPSED_STRING","'\" is not defined in \"'",1360],".",["T_STRING","get_class",1360],"(",["T_VARIABLE","$object",1360],")",".",["T_CONSTANT_ENCAPSED_STRING","'\"'",1360],")",";",["T_WHITESPACE","\n        ",1360],"}",["T_WHITESPACE","\n        ",1361],["T_RETURN","return",1362],["T_WHITESPACE"," ",1362],["T_VARIABLE","$this",1362],";",["T_WHITESPACE","\n    ",1362],"}",["T_WHITESPACE","\n\n    ",1363],["T_PUBLIC","public",1365],["T_WHITESPACE"," ",1365],["T_FUNCTION","function",1365],["T_WHITESPACE"," ",1365],["T_STRING","setUpdateMode",1365],"(",["T_VARIABLE","$value",1365],")",["T_WHITESPACE","\n    ",1365],"{",["T_WHITESPACE","\n        ",1366],["T_VARIABLE","$this",1367],["T_OBJECT_OPERATOR","->",1367],["T_STRING","_updateMode",1367],["T_WHITESPACE"," ",1367],"=",["T_WHITESPACE"," ",1367],["T_VARIABLE","$value",1367],";",["T_WHITESPACE","\n    ",1367],"}",["T_WHITESPACE","\n\n    ",1368],["T_PUBLIC","public",1370],["T_WHITESPACE"," ",1370],["T_FUNCTION","function",1370],["T_WHITESPACE"," ",1370],["T_STRING","getUpdateMode",1370],"(",")",["T_WHITESPACE","\n    ",1370],"{",["T_WHITESPACE","\n        ",1371],["T_RETURN","return",1372],["T_WHITESPACE"," ",1372],["T_VARIABLE","$this",1372],["T_OBJECT_OPERATOR","->",1372],["T_STRING","_updateMode",1372],";",["T_WHITESPACE","\n    ",1372],"}",["T_WHITESPACE","\n\n    ",1373],["T_PUBLIC","public",1375],["T_WHITESPACE"," ",1375],["T_FUNCTION","function",1375],["T_WHITESPACE"," ",1375],["T_STRING","throwStoreException",1375],"(",")",["T_WHITESPACE","\n    ",1375],"{",["T_WHITESPACE","\n        ",1376],["T_THROW","throw",1377],["T_WHITESPACE"," ",1377],["T_NEW","new",1377],["T_WHITESPACE"," ",1377],["T_STRING","Mage_Core_Model_Store_Exception",1377],"(",["T_CONSTANT_ENCAPSED_STRING","''",1377],")",";",["T_WHITESPACE","\n    ",1377],"}",["T_WHITESPACE","\n\n    ",1378],["T_DOC_COMMENT","\/**\n     * Set use session var instead of SID for URL\n     *\n     * @param bool $var\n     * @return Mage_Core_Model_App\n     *\/",1380],["T_WHITESPACE","\n    ",1385],["T_PUBLIC","public",1386],["T_WHITESPACE"," ",1386],["T_FUNCTION","function",1386],["T_WHITESPACE"," ",1386],["T_STRING","setUseSessionVar",1386],"(",["T_VARIABLE","$var",1386],")",["T_WHITESPACE","\n    ",1386],"{",["T_WHITESPACE","\n        ",1387],["T_VARIABLE","$this",1388],["T_OBJECT_OPERATOR","->",1388],["T_STRING","_useSessionVar",1388],["T_WHITESPACE"," ",1388],"=",["T_WHITESPACE"," ",1388],["T_BOOL_CAST","(bool)",1388],["T_VARIABLE","$var",1388],";",["T_WHITESPACE","\n        ",1388],["T_RETURN","return",1389],["T_WHITESPACE"," ",1389],["T_VARIABLE","$this",1389],";",["T_WHITESPACE","\n    ",1389],"}",["T_WHITESPACE","\n\n    ",1390],["T_DOC_COMMENT","\/**\n     * Retrieve use flag session var instead of SID for URL\n     *\n     * @return bool\n     *\/",1392],["T_WHITESPACE","\n    ",1396],["T_PUBLIC","public",1397],["T_WHITESPACE"," ",1397],["T_FUNCTION","function",1397],["T_WHITESPACE"," ",1397],["T_STRING","getUseSessionVar",1397],"(",")",["T_WHITESPACE","\n    ",1397],"{",["T_WHITESPACE","\n        ",1398],["T_RETURN","return",1399],["T_WHITESPACE"," ",1399],["T_VARIABLE","$this",1399],["T_OBJECT_OPERATOR","->",1399],["T_STRING","_useSessionVar",1399],";",["T_WHITESPACE","\n    ",1399],"}",["T_WHITESPACE","\n\n    ",1400],["T_DOC_COMMENT","\/**\n     * Get either default or any store view\n     *\n     * @return Mage_Core_Model_Store\n     *\/",1402],["T_WHITESPACE","\n    ",1406],["T_PUBLIC","public",1407],["T_WHITESPACE"," ",1407],["T_FUNCTION","function",1407],["T_WHITESPACE"," ",1407],["T_STRING","getAnyStoreView",1407],"(",")",["T_WHITESPACE","\n    ",1407],"{",["T_WHITESPACE","\n        ",1408],["T_VARIABLE","$store",1409],["T_WHITESPACE"," ",1409],"=",["T_WHITESPACE"," ",1409],["T_VARIABLE","$this",1409],["T_OBJECT_OPERATOR","->",1409],["T_STRING","getDefaultStoreView",1409],"(",")",";",["T_WHITESPACE","\n        ",1409],["T_IF","if",1410],["T_WHITESPACE"," ",1410],"(",["T_VARIABLE","$store",1410],")",["T_WHITESPACE"," ",1410],"{",["T_WHITESPACE","\n            ",1410],["T_RETURN","return",1411],["T_WHITESPACE"," ",1411],["T_VARIABLE","$store",1411],";",["T_WHITESPACE","\n        ",1411],"}",["T_WHITESPACE","\n        ",1412],["T_FOREACH","foreach",1413],["T_WHITESPACE"," ",1413],"(",["T_VARIABLE","$this",1413],["T_OBJECT_OPERATOR","->",1413],["T_STRING","getStores",1413],"(",")",["T_WHITESPACE"," ",1413],["T_AS","as",1413],["T_WHITESPACE"," ",1413],["T_VARIABLE","$store",1413],")",["T_WHITESPACE"," ",1413],"{",["T_WHITESPACE","\n            ",1413],["T_RETURN","return",1414],["T_WHITESPACE"," ",1414],["T_VARIABLE","$store",1414],";",["T_WHITESPACE","\n        ",1414],"}",["T_WHITESPACE","\n    ",1415],"}",["T_WHITESPACE","\n\n    ",1416],["T_DOC_COMMENT","\/**\n     * Set Use session in URL flag\n     *\n     * @param bool $flag\n     * @return Mage_Core_Model_App\n     *\/",1418],["T_WHITESPACE","\n    ",1423],["T_PUBLIC","public",1424],["T_WHITESPACE"," ",1424],["T_FUNCTION","function",1424],["T_WHITESPACE"," ",1424],["T_STRING","setUseSessionInUrl",1424],"(",["T_VARIABLE","$flag",1424],["T_WHITESPACE"," ",1424],"=",["T_WHITESPACE"," ",1424],["T_STRING","true",1424],")",["T_WHITESPACE","\n    ",1424],"{",["T_WHITESPACE","\n        ",1425],["T_VARIABLE","$this",1426],["T_OBJECT_OPERATOR","->",1426],["T_STRING","_useSessionInUrl",1426],["T_WHITESPACE"," ",1426],"=",["T_WHITESPACE"," ",1426],["T_BOOL_CAST","(bool)",1426],["T_VARIABLE","$flag",1426],";",["T_WHITESPACE","\n        ",1426],["T_RETURN","return",1427],["T_WHITESPACE"," ",1427],["T_VARIABLE","$this",1427],";",["T_WHITESPACE","\n    ",1427],"}",["T_WHITESPACE","\n\n    ",1428],["T_DOC_COMMENT","\/**\n     * Retrieve use session in URL flag\n     *\n     * @return bool\n     *\/",1430],["T_WHITESPACE","\n    ",1434],["T_PUBLIC","public",1435],["T_WHITESPACE"," ",1435],["T_FUNCTION","function",1435],["T_WHITESPACE"," ",1435],["T_STRING","getUseSessionInUrl",1435],"(",")",["T_WHITESPACE","\n    ",1435],"{",["T_WHITESPACE","\n        ",1436],["T_RETURN","return",1437],["T_WHITESPACE"," ",1437],["T_VARIABLE","$this",1437],["T_OBJECT_OPERATOR","->",1437],["T_STRING","_useSessionInUrl",1437],";",["T_WHITESPACE","\n    ",1437],"}",["T_WHITESPACE","\n\n    ",1438],["T_DOC_COMMENT","\/**\n     * Allow or disallow single store mode\n     *\n     * @param bool $value\n     * @return Mage_Core_Model_App\n     *\/",1440],["T_WHITESPACE","\n    ",1445],["T_PUBLIC","public",1446],["T_WHITESPACE"," ",1446],["T_FUNCTION","function",1446],["T_WHITESPACE"," ",1446],["T_STRING","setIsSingleStoreModeAllowed",1446],"(",["T_VARIABLE","$value",1446],")",["T_WHITESPACE","\n    ",1446],"{",["T_WHITESPACE","\n        ",1447],["T_VARIABLE","$this",1448],["T_OBJECT_OPERATOR","->",1448],["T_STRING","_isSingleStoreAllowed",1448],["T_WHITESPACE"," ",1448],"=",["T_WHITESPACE"," ",1448],["T_BOOL_CAST","(bool)",1448],["T_VARIABLE","$value",1448],";",["T_WHITESPACE","\n        ",1448],["T_RETURN","return",1449],["T_WHITESPACE"," ",1449],["T_VARIABLE","$this",1449],";",["T_WHITESPACE","\n    ",1449],"}",["T_WHITESPACE","\n\n    ",1450],["T_DOC_COMMENT","\/**\n     * Prepare array of store groups\n     * can be filtered to contain default store group or not by $withDefault flag\n     * depending on flag $codeKey array keys can be group id or group code\n     *\n     * @param bool $withDefault\n     * @param bool $codeKey\n     * @return array\n     *\/",1452],["T_WHITESPACE","\n    ",1460],["T_PUBLIC","public",1461],["T_WHITESPACE"," ",1461],["T_FUNCTION","function",1461],["T_WHITESPACE"," ",1461],["T_STRING","getGroups",1461],"(",["T_VARIABLE","$withDefault",1461],["T_WHITESPACE"," ",1461],"=",["T_WHITESPACE"," ",1461],["T_STRING","false",1461],",",["T_WHITESPACE"," ",1461],["T_VARIABLE","$codeKey",1461],["T_WHITESPACE"," ",1461],"=",["T_WHITESPACE"," ",1461],["T_STRING","false",1461],")",["T_WHITESPACE","\n    ",1461],"{",["T_WHITESPACE","\n        ",1462],["T_VARIABLE","$groups",1463],["T_WHITESPACE"," ",1463],"=",["T_WHITESPACE"," ",1463],["T_ARRAY","array",1463],"(",")",";",["T_WHITESPACE","\n        ",1463],["T_IF","if",1464],["T_WHITESPACE"," ",1464],"(",["T_STRING","is_array",1464],"(",["T_VARIABLE","$this",1464],["T_OBJECT_OPERATOR","->",1464],["T_STRING","_groups",1464],")",")",["T_WHITESPACE"," ",1464],"{",["T_WHITESPACE","\n            ",1464],["T_FOREACH","foreach",1465],["T_WHITESPACE"," ",1465],"(",["T_VARIABLE","$this",1465],["T_OBJECT_OPERATOR","->",1465],["T_STRING","_groups",1465],["T_WHITESPACE"," ",1465],["T_AS","as",1465],["T_WHITESPACE"," ",1465],["T_VARIABLE","$group",1465],")",["T_WHITESPACE"," ",1465],"{",["T_WHITESPACE","\n                ",1465],["T_IF","if",1466],["T_WHITESPACE"," ",1466],"(","!",["T_VARIABLE","$withDefault",1466],["T_WHITESPACE"," ",1466],["T_BOOLEAN_AND","&&",1466],["T_WHITESPACE"," ",1466],["T_VARIABLE","$group",1466],["T_OBJECT_OPERATOR","->",1466],["T_STRING","getId",1466],"(",")",["T_WHITESPACE"," ",1466],["T_IS_EQUAL","==",1466],["T_WHITESPACE"," ",1466],["T_LNUMBER","0",1466],")",["T_WHITESPACE"," ",1466],"{",["T_WHITESPACE","\n                    ",1466],["T_CONTINUE","continue",1467],";",["T_WHITESPACE","\n                ",1467],"}",["T_WHITESPACE","\n                ",1468],["T_IF","if",1469],["T_WHITESPACE"," ",1469],"(",["T_VARIABLE","$codeKey",1469],")",["T_WHITESPACE"," ",1469],"{",["T_WHITESPACE","\n                    ",1469],["T_VARIABLE","$groups",1470],"[",["T_VARIABLE","$group",1470],["T_OBJECT_OPERATOR","->",1470],["T_STRING","getCode",1470],"(",")","]",["T_WHITESPACE"," ",1470],"=",["T_WHITESPACE"," ",1470],["T_VARIABLE","$group",1470],";",["T_WHITESPACE","\n                ",1470],"}",["T_WHITESPACE","\n                ",1471],["T_ELSE","else",1472],["T_WHITESPACE"," ",1472],"{",["T_WHITESPACE","\n                    ",1472],["T_VARIABLE","$groups",1473],"[",["T_VARIABLE","$group",1473],["T_OBJECT_OPERATOR","->",1473],["T_STRING","getId",1473],"(",")","]",["T_WHITESPACE"," ",1473],"=",["T_WHITESPACE"," ",1473],["T_VARIABLE","$group",1473],";",["T_WHITESPACE","\n                ",1473],"}",["T_WHITESPACE","\n            ",1474],"}",["T_WHITESPACE","\n        ",1475],"}",["T_WHITESPACE","\n\n        ",1476],["T_RETURN","return",1478],["T_WHITESPACE"," ",1478],["T_VARIABLE","$groups",1478],";",["T_WHITESPACE","\n    ",1478],"}",["T_WHITESPACE","\n\n    ",1479],["T_DOC_COMMENT","\/**\n     * Retrieve application installation flag\n     *\n     * @deprecated since 1.2\n     * @return bool\n     *\/",1481],["T_WHITESPACE","\n    ",1486],["T_PUBLIC","public",1487],["T_WHITESPACE"," ",1487],["T_FUNCTION","function",1487],["T_WHITESPACE"," ",1487],["T_STRING","isInstalled",1487],"(",")",["T_WHITESPACE","\n    ",1487],"{",["T_WHITESPACE","\n        ",1488],["T_RETURN","return",1489],["T_WHITESPACE"," ",1489],["T_STRING","Mage",1489],["T_DOUBLE_COLON","::",1489],["T_STRING","isInstalled",1489],"(",")",";",["T_WHITESPACE","\n    ",1489],"}",["T_WHITESPACE","\n\n    ",1490],["T_DOC_COMMENT","\/**\n     * Generate cache tags from cache id\n     *\n     * @deprecated after 1.4.0.0-alpha3, functionality implemented in Mage_Core_Model_Cache\n     * @param   string $id\n     * @param   array $tags\n     * @return  array\n     *\/",1492],["T_WHITESPACE","\n    ",1499],["T_PROTECTED","protected",1500],["T_WHITESPACE"," ",1500],["T_FUNCTION","function",1500],["T_WHITESPACE"," ",1500],["T_STRING","_getCacheTags",1500],"(",["T_VARIABLE","$tags",1500],"=",["T_ARRAY","array",1500],"(",")",")",["T_WHITESPACE","\n    ",1500],"{",["T_WHITESPACE","\n        ",1501],["T_FOREACH","foreach",1502],["T_WHITESPACE"," ",1502],"(",["T_VARIABLE","$tags",1502],["T_WHITESPACE"," ",1502],["T_AS","as",1502],["T_WHITESPACE"," ",1502],["T_VARIABLE","$index",1502],["T_DOUBLE_ARROW","=>",1502],["T_VARIABLE","$value",1502],")",["T_WHITESPACE"," ",1502],"{",["T_WHITESPACE","\n            ",1502],["T_VARIABLE","$tags",1503],"[",["T_VARIABLE","$index",1503],"]",["T_WHITESPACE"," ",1503],"=",["T_WHITESPACE"," ",1503],["T_VARIABLE","$this",1503],["T_OBJECT_OPERATOR","->",1503],["T_STRING","_getCacheId",1503],"(",["T_VARIABLE","$value",1503],")",";",["T_WHITESPACE","\n        ",1503],"}",["T_WHITESPACE","\n        ",1504],["T_RETURN","return",1505],["T_WHITESPACE"," ",1505],["T_VARIABLE","$tags",1505],";",["T_WHITESPACE","\n    ",1505],"}",["T_WHITESPACE","\n\n    ",1506],["T_DOC_COMMENT","\/**\n     * Get file name with cache configuration settings\n     *\n     * @deprecated after 1.4.0.0-alpha3, functionality implemented in Mage_Core_Model_Cache\n     * @return string\n     *\/",1508],["T_WHITESPACE","\n    ",1513],["T_PUBLIC","public",1514],["T_WHITESPACE"," ",1514],["T_FUNCTION","function",1514],["T_WHITESPACE"," ",1514],["T_STRING","getUseCacheFilename",1514],"(",")",["T_WHITESPACE","\n    ",1514],"{",["T_WHITESPACE","\n        ",1515],["T_RETURN","return",1516],["T_WHITESPACE"," ",1516],["T_VARIABLE","$this",1516],["T_OBJECT_OPERATOR","->",1516],["T_STRING","_config",1516],["T_OBJECT_OPERATOR","->",1516],["T_STRING","getOptions",1516],"(",")",["T_OBJECT_OPERATOR","->",1516],["T_STRING","getEtcDir",1516],"(",")",".",["T_STRING","DS",1516],".",["T_CONSTANT_ENCAPSED_STRING","'use_cache.ser'",1516],";",["T_WHITESPACE","\n    ",1516],"}",["T_WHITESPACE","\n\n    ",1517],["T_DOC_COMMENT","\/**\n     * Generate cache id with application specific data\n     *\n     * @deprecated after 1.4.0.0-alpha3, functionality implemented in Mage_Core_Model_Cache\n     * @param   string $id\n     * @return  string\n     *\/",1519],["T_WHITESPACE","\n    ",1525],["T_PROTECTED","protected",1526],["T_WHITESPACE"," ",1526],["T_FUNCTION","function",1526],["T_WHITESPACE"," ",1526],["T_STRING","_getCacheId",1526],"(",["T_VARIABLE","$id",1526],"=",["T_STRING","null",1526],")",["T_WHITESPACE","\n    ",1526],"{",["T_WHITESPACE","\n        ",1527],["T_IF","if",1528],["T_WHITESPACE"," ",1528],"(",["T_VARIABLE","$id",1528],")",["T_WHITESPACE"," ",1528],"{",["T_WHITESPACE","\n            ",1528],["T_VARIABLE","$id",1529],["T_WHITESPACE"," ",1529],"=",["T_WHITESPACE"," ",1529],["T_VARIABLE","$this",1529],["T_OBJECT_OPERATOR","->",1529],["T_STRING","prepareCacheId",1529],"(",["T_VARIABLE","$id",1529],")",";",["T_WHITESPACE","\n        ",1529],"}",["T_WHITESPACE","\n        ",1530],["T_RETURN","return",1531],["T_WHITESPACE"," ",1531],["T_VARIABLE","$id",1531],";",["T_WHITESPACE","\n    ",1531],"}",["T_WHITESPACE","\n\n    ",1532],["T_DOC_COMMENT","\/**\n     * Prepare identifier which can be used as cache id or cache tag\n     *\n     * @deprecated after 1.4.0.0-alpha3, functionality implemented in Mage_Core_Model_Cache\n     * @param   string $id\n     * @return  string\n     *\/",1534],["T_WHITESPACE","\n    ",1540],["T_PUBLIC","public",1541],["T_WHITESPACE"," ",1541],["T_FUNCTION","function",1541],["T_WHITESPACE"," ",1541],["T_STRING","prepareCacheId",1541],"(",["T_VARIABLE","$id",1541],")",["T_WHITESPACE","\n    ",1541],"{",["T_WHITESPACE","\n        ",1542],["T_VARIABLE","$id",1543],["T_WHITESPACE"," ",1543],"=",["T_WHITESPACE"," ",1543],["T_STRING","strtoupper",1543],"(",["T_VARIABLE","$id",1543],")",";",["T_WHITESPACE","\n        ",1543],["T_VARIABLE","$id",1544],["T_WHITESPACE"," ",1544],"=",["T_WHITESPACE"," ",1544],["T_STRING","preg_replace",1544],"(",["T_CONSTANT_ENCAPSED_STRING","'\/([^a-zA-Z0-9_]{1,1})\/'",1544],",",["T_WHITESPACE"," ",1544],["T_CONSTANT_ENCAPSED_STRING","'_'",1544],",",["T_WHITESPACE"," ",1544],["T_VARIABLE","$id",1544],")",";",["T_WHITESPACE","\n        ",1544],["T_RETURN","return",1545],["T_WHITESPACE"," ",1545],["T_VARIABLE","$id",1545],";",["T_WHITESPACE","\n    ",1545],"}",["T_WHITESPACE","\n\n    ",1546],["T_DOC_COMMENT","\/**\n     * Get is cache locked\n     *\n     * @return bool\n     *\/",1548],["T_WHITESPACE","\n    ",1552],["T_PUBLIC","public",1553],["T_WHITESPACE"," ",1553],["T_FUNCTION","function",1553],["T_WHITESPACE"," ",1553],["T_STRING","getIsCacheLocked",1553],"(",")",["T_WHITESPACE","\n    ",1553],"{",["T_WHITESPACE","\n        ",1554],["T_RETURN","return",1555],["T_WHITESPACE"," ",1555],["T_BOOL_CAST","(bool)",1555],["T_VARIABLE","$this",1555],["T_OBJECT_OPERATOR","->",1555],["T_STRING","_isCacheLocked",1555],";",["T_WHITESPACE","\n    ",1555],"}",["T_WHITESPACE","\n\n    ",1556],["T_DOC_COMMENT","\/**\n     *  Unset website by id from app cache\n     *\n     * @param null|bool|int|string|Mage_Core_Model_Website $id\n     * @return void\n     *\/",1558],["T_WHITESPACE","\n    ",1563],["T_PUBLIC","public",1564],["T_WHITESPACE"," ",1564],["T_FUNCTION","function",1564],["T_WHITESPACE"," ",1564],["T_STRING","clearWebsiteCache",1564],"(",["T_VARIABLE","$id",1564],["T_WHITESPACE"," ",1564],"=",["T_WHITESPACE"," ",1564],["T_STRING","null",1564],")",["T_WHITESPACE","\n    ",1564],"{",["T_WHITESPACE","\n        ",1565],["T_IF","if",1566],["T_WHITESPACE"," ",1566],"(",["T_STRING","is_null",1566],"(",["T_VARIABLE","$id",1566],")",")",["T_WHITESPACE"," ",1566],"{",["T_WHITESPACE","\n            ",1566],["T_VARIABLE","$id",1567],["T_WHITESPACE"," ",1567],"=",["T_WHITESPACE"," ",1567],["T_VARIABLE","$this",1567],["T_OBJECT_OPERATOR","->",1567],["T_STRING","getStore",1567],"(",")",["T_OBJECT_OPERATOR","->",1567],["T_STRING","getWebsiteId",1567],"(",")",";",["T_WHITESPACE","\n        ",1567],"}",["T_WHITESPACE"," ",1568],["T_ELSEIF","elseif",1568],["T_WHITESPACE"," ",1568],"(",["T_VARIABLE","$id",1568],["T_WHITESPACE"," ",1568],["T_INSTANCEOF","instanceof",1568],["T_WHITESPACE"," ",1568],["T_STRING","Mage_Core_Model_Website",1568],")",["T_WHITESPACE"," ",1568],"{",["T_WHITESPACE","\n            ",1568],["T_VARIABLE","$id",1569],["T_WHITESPACE"," ",1569],"=",["T_WHITESPACE"," ",1569],["T_VARIABLE","$id",1569],["T_OBJECT_OPERATOR","->",1569],["T_STRING","getId",1569],"(",")",";",["T_WHITESPACE","\n        ",1569],"}",["T_WHITESPACE"," ",1570],["T_ELSEIF","elseif",1570],["T_WHITESPACE"," ",1570],"(",["T_VARIABLE","$id",1570],["T_WHITESPACE"," ",1570],["T_IS_IDENTICAL","===",1570],["T_WHITESPACE"," ",1570],["T_STRING","true",1570],")",["T_WHITESPACE"," ",1570],"{",["T_WHITESPACE","\n            ",1570],["T_VARIABLE","$id",1571],["T_WHITESPACE"," ",1571],"=",["T_WHITESPACE"," ",1571],["T_VARIABLE","$this",1571],["T_OBJECT_OPERATOR","->",1571],["T_STRING","_website",1571],["T_OBJECT_OPERATOR","->",1571],["T_STRING","getId",1571],"(",")",";",["T_WHITESPACE","\n        ",1571],"}",["T_WHITESPACE","\n\n        ",1572],["T_IF","if",1574],["T_WHITESPACE"," ",1574],"(","!",["T_EMPTY","empty",1574],"(",["T_VARIABLE","$this",1574],["T_OBJECT_OPERATOR","->",1574],["T_STRING","_websites",1574],"[",["T_VARIABLE","$id",1574],"]",")",")",["T_WHITESPACE"," ",1574],"{",["T_WHITESPACE","\n            ",1574],["T_VARIABLE","$website",1575],["T_WHITESPACE"," ",1575],"=",["T_WHITESPACE"," ",1575],["T_VARIABLE","$this",1575],["T_OBJECT_OPERATOR","->",1575],["T_STRING","_websites",1575],"[",["T_VARIABLE","$id",1575],"]",";",["T_WHITESPACE","\n\n            ",1575],["T_UNSET","unset",1577],"(",["T_VARIABLE","$this",1577],["T_OBJECT_OPERATOR","->",1577],["T_STRING","_websites",1577],"[",["T_VARIABLE","$website",1577],["T_OBJECT_OPERATOR","->",1577],["T_STRING","getWebsiteId",1577],"(",")","]",")",";",["T_WHITESPACE","\n            ",1577],["T_UNSET","unset",1578],"(",["T_VARIABLE","$this",1578],["T_OBJECT_OPERATOR","->",1578],["T_STRING","_websites",1578],"[",["T_VARIABLE","$website",1578],["T_OBJECT_OPERATOR","->",1578],["T_STRING","getCode",1578],"(",")","]",")",";",["T_WHITESPACE","\n        ",1578],"}",["T_WHITESPACE","\n    ",1579],"}",["T_WHITESPACE","\n",1580],"}",["T_WHITESPACE","\n",1581]]