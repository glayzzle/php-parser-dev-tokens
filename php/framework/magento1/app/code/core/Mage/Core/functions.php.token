[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Magento\n *\n * NOTICE OF LICENSE\n *\n * This source file is subject to the Open Software License (OSL 3.0)\n * that is bundled with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/opensource.org\/licenses\/osl-3.0.php\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@magento.com so we can send you a copy immediately.\n *\n * DISCLAIMER\n *\n * Do not edit or add to this file if you wish to upgrade Magento to newer\n * versions in the future. If you wish to customize Magento for your\n * needs please refer to http:\/\/www.magento.com for more information.\n *\n * @category    Mage\n * @package     Mage_Core\n * @copyright  Copyright (c) 2006-2016 X.commerce, Inc. and affiliates (http:\/\/www.magento.com)\n * @license    http:\/\/opensource.org\/licenses\/osl-3.0.php  Open Software License (OSL 3.0)\n *\/",2],["T_WHITESPACE","\n\n",25],["T_DOC_COMMENT","\/**\n * Disable magic quotes in runtime if needed\n *\n * @link http:\/\/us3.php.net\/manual\/en\/security.magicquotes.disabling.php\n *\/",27],["T_WHITESPACE","\n",31],["T_IF","if",32],["T_WHITESPACE"," ",32],"(",["T_STRING","get_magic_quotes_gpc",32],"(",")",")",["T_WHITESPACE"," ",32],"{",["T_WHITESPACE","\n    ",32],["T_FUNCTION","function",33],["T_WHITESPACE"," ",33],["T_STRING","mageUndoMagicQuotes",33],"(",["T_VARIABLE","$array",33],",",["T_WHITESPACE"," ",33],["T_VARIABLE","$topLevel",33],"=",["T_STRING","true",33],")",["T_WHITESPACE"," ",33],"{",["T_WHITESPACE","\n        ",33],["T_VARIABLE","$newArray",34],["T_WHITESPACE"," ",34],"=",["T_WHITESPACE"," ",34],["T_ARRAY","array",34],"(",")",";",["T_WHITESPACE","\n        ",34],["T_FOREACH","foreach",35],"(",["T_VARIABLE","$array",35],["T_WHITESPACE"," ",35],["T_AS","as",35],["T_WHITESPACE"," ",35],["T_VARIABLE","$key",35],["T_WHITESPACE"," ",35],["T_DOUBLE_ARROW","=>",35],["T_WHITESPACE"," ",35],["T_VARIABLE","$value",35],")",["T_WHITESPACE"," ",35],"{",["T_WHITESPACE","\n            ",35],["T_IF","if",36],["T_WHITESPACE"," ",36],"(","!",["T_VARIABLE","$topLevel",36],")",["T_WHITESPACE"," ",36],"{",["T_WHITESPACE","\n                ",36],["T_VARIABLE","$newKey",37],["T_WHITESPACE"," ",37],"=",["T_WHITESPACE"," ",37],["T_STRING","stripslashes",37],"(",["T_VARIABLE","$key",37],")",";",["T_WHITESPACE","\n                ",37],["T_IF","if",38],["T_WHITESPACE"," ",38],"(",["T_VARIABLE","$newKey",38],["T_IS_NOT_IDENTICAL","!==",38],["T_VARIABLE","$key",38],")",["T_WHITESPACE"," ",38],"{",["T_WHITESPACE","\n                    ",38],["T_UNSET","unset",39],"(",["T_VARIABLE","$array",39],"[",["T_VARIABLE","$key",39],"]",")",";",["T_WHITESPACE","\n                ",39],"}",["T_WHITESPACE","\n                ",40],["T_VARIABLE","$key",41],["T_WHITESPACE"," ",41],"=",["T_WHITESPACE"," ",41],["T_VARIABLE","$newKey",41],";",["T_WHITESPACE","\n            ",41],"}",["T_WHITESPACE","\n            ",42],["T_VARIABLE","$newArray",43],"[",["T_VARIABLE","$key",43],"]",["T_WHITESPACE"," ",43],"=",["T_WHITESPACE"," ",43],["T_STRING","is_array",43],"(",["T_VARIABLE","$value",43],")",["T_WHITESPACE"," ",43],"?",["T_WHITESPACE"," ",43],["T_STRING","mageUndoMagicQuotes",43],"(",["T_VARIABLE","$value",43],",",["T_WHITESPACE"," ",43],["T_STRING","false",43],")",["T_WHITESPACE"," ",43],":",["T_WHITESPACE"," ",43],["T_STRING","stripslashes",43],"(",["T_VARIABLE","$value",43],")",";",["T_WHITESPACE","\n        ",43],"}",["T_WHITESPACE","\n        ",44],["T_RETURN","return",45],["T_WHITESPACE"," ",45],["T_VARIABLE","$newArray",45],";",["T_WHITESPACE","\n    ",45],"}",["T_WHITESPACE","\n    ",46],["T_VARIABLE","$_GET",47],["T_WHITESPACE"," ",47],"=",["T_WHITESPACE"," ",47],["T_STRING","mageUndoMagicQuotes",47],"(",["T_VARIABLE","$_GET",47],")",";",["T_WHITESPACE","\n    ",47],["T_VARIABLE","$_POST",48],["T_WHITESPACE"," ",48],"=",["T_WHITESPACE"," ",48],["T_STRING","mageUndoMagicQuotes",48],"(",["T_VARIABLE","$_POST",48],")",";",["T_WHITESPACE","\n    ",48],["T_VARIABLE","$_COOKIE",49],["T_WHITESPACE"," ",49],"=",["T_WHITESPACE"," ",49],["T_STRING","mageUndoMagicQuotes",49],"(",["T_VARIABLE","$_COOKIE",49],")",";",["T_WHITESPACE","\n    ",49],["T_VARIABLE","$_REQUEST",50],["T_WHITESPACE"," ",50],"=",["T_WHITESPACE"," ",50],["T_STRING","mageUndoMagicQuotes",50],"(",["T_VARIABLE","$_REQUEST",50],")",";",["T_WHITESPACE","\n",50],"}",["T_WHITESPACE","\n\n",51],["T_DOC_COMMENT","\/**\n * Class autoload\n *\n * @todo change to spl_autoload_register\n * @deprecated\n * @param string $class\n *\/",53],["T_WHITESPACE","\n",59],["T_FUNCTION","function",60],["T_WHITESPACE"," ",60],["T_STRING","__autoload",60],"(",["T_VARIABLE","$class",60],")",["T_WHITESPACE","\n",60],"{",["T_WHITESPACE","\n    ",61],["T_IF","if",62],["T_WHITESPACE"," ",62],"(",["T_STRING","defined",62],"(",["T_CONSTANT_ENCAPSED_STRING","'COMPILER_INCLUDE_PATH'",62],")",")",["T_WHITESPACE"," ",62],"{",["T_WHITESPACE","\n        ",62],["T_VARIABLE","$classFile",63],["T_WHITESPACE"," ",63],"=",["T_WHITESPACE"," ",63],["T_VARIABLE","$class",63],".",["T_CONSTANT_ENCAPSED_STRING","'.php'",63],";",["T_WHITESPACE","\n    ",63],"}",["T_WHITESPACE"," ",64],["T_ELSE","else",64],["T_WHITESPACE"," ",64],"{",["T_WHITESPACE","\n        ",64],["T_VARIABLE","$classFile",65],["T_WHITESPACE"," ",65],"=",["T_WHITESPACE"," ",65],["T_STRING","uc_words",65],"(",["T_VARIABLE","$class",65],",",["T_WHITESPACE"," ",65],["T_STRING","DIRECTORY_SEPARATOR",65],")",".",["T_CONSTANT_ENCAPSED_STRING","'.php'",65],";",["T_WHITESPACE","\n    ",65],"}",["T_WHITESPACE","\n\n    ",66],["T_INCLUDE","include",68],"(",["T_VARIABLE","$classFile",68],")",";",["T_WHITESPACE","\n",68],"}",["T_WHITESPACE","\n\n",69],["T_DOC_COMMENT","\/**\n * Object destructor\n *\n * @param mixed $object\n *\/",71],["T_WHITESPACE","\n",75],["T_FUNCTION","function",76],["T_WHITESPACE"," ",76],["T_STRING","destruct",76],"(",["T_VARIABLE","$object",76],")",["T_WHITESPACE","\n",76],"{",["T_WHITESPACE","\n    ",77],["T_IF","if",78],["T_WHITESPACE"," ",78],"(",["T_STRING","is_array",78],"(",["T_VARIABLE","$object",78],")",")",["T_WHITESPACE"," ",78],"{",["T_WHITESPACE","\n        ",78],["T_FOREACH","foreach",79],["T_WHITESPACE"," ",79],"(",["T_VARIABLE","$object",79],["T_WHITESPACE"," ",79],["T_AS","as",79],["T_WHITESPACE"," ",79],["T_VARIABLE","$obj",79],")",["T_WHITESPACE"," ",79],"{",["T_WHITESPACE","\n            ",79],["T_STRING","destruct",80],"(",["T_VARIABLE","$obj",80],")",";",["T_WHITESPACE","\n        ",80],"}",["T_WHITESPACE","\n    ",81],"}",["T_WHITESPACE","\n    ",82],["T_UNSET","unset",83],"(",["T_VARIABLE","$object",83],")",";",["T_WHITESPACE","\n",83],"}",["T_WHITESPACE","\n\n",84],["T_DOC_COMMENT","\/**\n * Translator function\n *\n * @deprecated 1.3\n * @param string $text the text to translate\n * @param mixed optional parameters to use in sprintf\n *\/",86],["T_WHITESPACE","\n",92],["T_FUNCTION","function",93],["T_WHITESPACE"," ",93],["T_STRING","__",93],"(",")",["T_WHITESPACE","\n",93],"{",["T_WHITESPACE","\n    ",94],["T_RETURN","return",95],["T_WHITESPACE"," ",95],["T_STRING","Mage",95],["T_DOUBLE_COLON","::",95],["T_STRING","app",95],"(",")",["T_OBJECT_OPERATOR","->",95],["T_STRING","getTranslator",95],"(",")",["T_OBJECT_OPERATOR","->",95],["T_STRING","translate",95],"(",["T_STRING","func_get_args",95],"(",")",")",";",["T_WHITESPACE","\n",95],"}",["T_WHITESPACE","\n\n",96],["T_DOC_COMMENT","\/**\n * Tiny function to enhance functionality of ucwords\n *\n * Will capitalize first letters and convert separators if needed\n *\n * @param string $str\n * @param string $destSep\n * @param string $srcSep\n * @return string\n *\/",98],["T_WHITESPACE","\n",107],["T_FUNCTION","function",108],["T_WHITESPACE"," ",108],["T_STRING","uc_words",108],"(",["T_VARIABLE","$str",108],",",["T_WHITESPACE"," ",108],["T_VARIABLE","$destSep",108],"=",["T_CONSTANT_ENCAPSED_STRING","'_'",108],",",["T_WHITESPACE"," ",108],["T_VARIABLE","$srcSep",108],"=",["T_CONSTANT_ENCAPSED_STRING","'_'",108],")",["T_WHITESPACE","\n",108],"{",["T_WHITESPACE","\n    ",109],["T_RETURN","return",110],["T_WHITESPACE"," ",110],["T_STRING","str_replace",110],"(",["T_CONSTANT_ENCAPSED_STRING","' '",110],",",["T_WHITESPACE"," ",110],["T_VARIABLE","$destSep",110],",",["T_WHITESPACE"," ",110],["T_STRING","ucwords",110],"(",["T_STRING","str_replace",110],"(",["T_VARIABLE","$srcSep",110],",",["T_WHITESPACE"," ",110],["T_CONSTANT_ENCAPSED_STRING","' '",110],",",["T_WHITESPACE"," ",110],["T_VARIABLE","$str",110],")",")",")",";",["T_WHITESPACE","\n",110],"}",["T_WHITESPACE","\n\n",111],["T_DOC_COMMENT","\/**\n * Simple sql format date\n *\n * @param string $format\n * @return string\n *\/",113],["T_WHITESPACE","\n",118],["T_FUNCTION","function",119],["T_WHITESPACE"," ",119],["T_STRING","now",119],"(",["T_VARIABLE","$dayOnly",119],"=",["T_STRING","false",119],")",["T_WHITESPACE","\n",119],"{",["T_WHITESPACE","\n    ",120],["T_RETURN","return",121],["T_WHITESPACE"," ",121],["T_STRING","date",121],"(",["T_VARIABLE","$dayOnly",121],["T_WHITESPACE"," ",121],"?",["T_WHITESPACE"," ",121],["T_CONSTANT_ENCAPSED_STRING","'Y-m-d'",121],["T_WHITESPACE"," ",121],":",["T_WHITESPACE"," ",121],["T_CONSTANT_ENCAPSED_STRING","'Y-m-d H:i:s'",121],")",";",["T_WHITESPACE","\n",121],"}",["T_WHITESPACE","\n\n",122],["T_DOC_COMMENT","\/**\n * Check whether sql date is empty\n *\n * @param string $date\n * @return boolean\n *\/",124],["T_WHITESPACE","\n",129],["T_FUNCTION","function",130],["T_WHITESPACE"," ",130],["T_STRING","is_empty_date",130],"(",["T_VARIABLE","$date",130],")",["T_WHITESPACE","\n",130],"{",["T_WHITESPACE","\n    ",131],["T_RETURN","return",132],["T_WHITESPACE"," ",132],["T_STRING","preg_replace",132],"(",["T_CONSTANT_ENCAPSED_STRING","'#[ 0:-]#'",132],",",["T_WHITESPACE"," ",132],["T_CONSTANT_ENCAPSED_STRING","''",132],",",["T_WHITESPACE"," ",132],["T_VARIABLE","$date",132],")",["T_IS_IDENTICAL","===",132],["T_CONSTANT_ENCAPSED_STRING","''",132],";",["T_WHITESPACE","\n",132],"}",["T_WHITESPACE","\n\n",133],["T_FUNCTION","function",135],["T_WHITESPACE"," ",135],["T_STRING","mageFindClassFile",135],"(",["T_VARIABLE","$class",135],")",["T_WHITESPACE","\n",135],"{",["T_WHITESPACE","\n    ",136],["T_IF","if",137],["T_WHITESPACE"," ",137],"(",["T_STRING","defined",137],"(",["T_CONSTANT_ENCAPSED_STRING","'COMPILER_INCLUDE_PATH'",137],")",")",["T_WHITESPACE"," ",137],"{",["T_WHITESPACE","\n        ",137],["T_VARIABLE","$classFile",138],["T_WHITESPACE"," ",138],"=",["T_WHITESPACE"," ",138],["T_VARIABLE","$class",138],".",["T_CONSTANT_ENCAPSED_STRING","'.php'",138],";",["T_WHITESPACE","\n    ",138],"}",["T_WHITESPACE"," ",139],["T_ELSE","else",139],["T_WHITESPACE"," ",139],"{",["T_WHITESPACE","\n        ",139],["T_VARIABLE","$classFile",140],["T_WHITESPACE"," ",140],"=",["T_WHITESPACE"," ",140],["T_STRING","uc_words",140],"(",["T_VARIABLE","$class",140],",",["T_WHITESPACE"," ",140],["T_STRING","DIRECTORY_SEPARATOR",140],")",".",["T_CONSTANT_ENCAPSED_STRING","'.php'",140],";",["T_WHITESPACE","\n    ",140],"}",["T_WHITESPACE","\n    ",141],["T_VARIABLE","$found",142],["T_WHITESPACE"," ",142],"=",["T_WHITESPACE"," ",142],["T_STRING","false",142],";",["T_WHITESPACE","\n    ",142],["T_FOREACH","foreach",143],["T_WHITESPACE"," ",143],"(",["T_STRING","explode",143],"(",["T_STRING","PS",143],",",["T_WHITESPACE"," ",143],["T_STRING","get_include_path",143],"(",")",")",["T_WHITESPACE"," ",143],["T_AS","as",143],["T_WHITESPACE"," ",143],["T_VARIABLE","$path",143],")",["T_WHITESPACE"," ",143],"{",["T_WHITESPACE","\n        ",143],["T_VARIABLE","$fileName",144],["T_WHITESPACE"," ",144],"=",["T_WHITESPACE"," ",144],["T_VARIABLE","$path",144],".",["T_STRING","DS",144],".",["T_VARIABLE","$classFile",144],";",["T_WHITESPACE","\n        ",144],["T_IF","if",145],["T_WHITESPACE"," ",145],"(",["T_STRING","file_exists",145],"(",["T_VARIABLE","$fileName",145],")",")",["T_WHITESPACE"," ",145],"{",["T_WHITESPACE","\n            ",145],["T_VARIABLE","$found",146],["T_WHITESPACE"," ",146],"=",["T_WHITESPACE"," ",146],["T_VARIABLE","$fileName",146],";",["T_WHITESPACE","\n            ",146],["T_BREAK","break",147],";",["T_WHITESPACE","\n        ",147],"}",["T_WHITESPACE","\n    ",148],"}",["T_WHITESPACE","\n    ",149],["T_RETURN","return",150],["T_WHITESPACE"," ",150],["T_VARIABLE","$found",150],";",["T_WHITESPACE","\n",150],"}",["T_WHITESPACE","\n\n",151],["T_DOC_COMMENT","\/**\n * Custom error handler\n *\n * @param integer $errno\n * @param string $errstr\n * @param string $errfile\n * @param integer $errline\n *\/",153],["T_WHITESPACE","\n",160],["T_FUNCTION","function",161],["T_WHITESPACE"," ",161],["T_STRING","mageCoreErrorHandler",161],"(",["T_VARIABLE","$errno",161],",",["T_WHITESPACE"," ",161],["T_VARIABLE","$errstr",161],",",["T_WHITESPACE"," ",161],["T_VARIABLE","$errfile",161],",",["T_WHITESPACE"," ",161],["T_VARIABLE","$errline",161],")","{",["T_WHITESPACE","\n    ",161],["T_IF","if",162],["T_WHITESPACE"," ",162],"(",["T_STRING","strpos",162],"(",["T_VARIABLE","$errstr",162],",",["T_WHITESPACE"," ",162],["T_CONSTANT_ENCAPSED_STRING","'DateTimeZone::__construct'",162],")",["T_IS_NOT_IDENTICAL","!==",162],["T_STRING","false",162],")",["T_WHITESPACE"," ",162],"{",["T_WHITESPACE","\n        ",162],["T_COMMENT","\/\/ there's no way to distinguish between caught system exceptions and warnings\n",163],["T_WHITESPACE","        ",164],["T_RETURN","return",164],["T_WHITESPACE"," ",164],["T_STRING","false",164],";",["T_WHITESPACE","\n    ",164],"}",["T_WHITESPACE","\n\n    ",165],["T_VARIABLE","$errno",167],["T_WHITESPACE"," ",167],"=",["T_WHITESPACE"," ",167],["T_VARIABLE","$errno",167],["T_WHITESPACE"," ",167],"&",["T_WHITESPACE"," ",167],["T_STRING","error_reporting",167],"(",")",";",["T_WHITESPACE","\n    ",167],["T_IF","if",168],["T_WHITESPACE"," ",168],"(",["T_VARIABLE","$errno",168],["T_WHITESPACE"," ",168],["T_IS_EQUAL","==",168],["T_WHITESPACE"," ",168],["T_LNUMBER","0",168],")",["T_WHITESPACE"," ",168],"{",["T_WHITESPACE","\n        ",168],["T_RETURN","return",169],["T_WHITESPACE"," ",169],["T_STRING","false",169],";",["T_WHITESPACE","\n    ",169],"}",["T_WHITESPACE","\n    ",170],["T_IF","if",171],["T_WHITESPACE"," ",171],"(","!",["T_STRING","defined",171],"(",["T_CONSTANT_ENCAPSED_STRING","'E_STRICT'",171],")",")",["T_WHITESPACE"," ",171],"{",["T_WHITESPACE","\n        ",171],["T_STRING","define",172],"(",["T_CONSTANT_ENCAPSED_STRING","'E_STRICT'",172],",",["T_WHITESPACE"," ",172],["T_LNUMBER","2048",172],")",";",["T_WHITESPACE","\n    ",172],"}",["T_WHITESPACE","\n    ",173],["T_IF","if",174],["T_WHITESPACE"," ",174],"(","!",["T_STRING","defined",174],"(",["T_CONSTANT_ENCAPSED_STRING","'E_RECOVERABLE_ERROR'",174],")",")",["T_WHITESPACE"," ",174],"{",["T_WHITESPACE","\n        ",174],["T_STRING","define",175],"(",["T_CONSTANT_ENCAPSED_STRING","'E_RECOVERABLE_ERROR'",175],",",["T_WHITESPACE"," ",175],["T_LNUMBER","4096",175],")",";",["T_WHITESPACE","\n    ",175],"}",["T_WHITESPACE","\n    ",176],["T_IF","if",177],["T_WHITESPACE"," ",177],"(","!",["T_STRING","defined",177],"(",["T_CONSTANT_ENCAPSED_STRING","'E_DEPRECATED'",177],")",")",["T_WHITESPACE"," ",177],"{",["T_WHITESPACE","\n        ",177],["T_STRING","define",178],"(",["T_CONSTANT_ENCAPSED_STRING","'E_DEPRECATED'",178],",",["T_WHITESPACE"," ",178],["T_LNUMBER","8192",178],")",";",["T_WHITESPACE","\n    ",178],"}",["T_WHITESPACE","\n\n    ",179],["T_COMMENT","\/\/ PEAR specific message handling\n",181],["T_WHITESPACE","    ",182],["T_IF","if",182],["T_WHITESPACE"," ",182],"(",["T_STRING","stripos",182],"(",["T_VARIABLE","$errfile",182],".",["T_VARIABLE","$errstr",182],",",["T_WHITESPACE"," ",182],["T_CONSTANT_ENCAPSED_STRING","'pear'",182],")",["T_WHITESPACE"," ",182],["T_IS_NOT_IDENTICAL","!==",182],["T_WHITESPACE"," ",182],["T_STRING","false",182],")",["T_WHITESPACE"," ",182],"{",["T_WHITESPACE","\n         ",182],["T_COMMENT","\/\/ ignore strict and deprecated notices\n",183],["T_WHITESPACE","        ",184],["T_IF","if",184],["T_WHITESPACE"," ",184],"(","(",["T_VARIABLE","$errno",184],["T_WHITESPACE"," ",184],["T_IS_EQUAL","==",184],["T_WHITESPACE"," ",184],["T_STRING","E_STRICT",184],")",["T_WHITESPACE"," ",184],["T_BOOLEAN_OR","||",184],["T_WHITESPACE"," ",184],"(",["T_VARIABLE","$errno",184],["T_WHITESPACE"," ",184],["T_IS_EQUAL","==",184],["T_WHITESPACE"," ",184],["T_STRING","E_DEPRECATED",184],")",")",["T_WHITESPACE"," ",184],"{",["T_WHITESPACE","\n            ",184],["T_RETURN","return",185],["T_WHITESPACE"," ",185],["T_STRING","true",185],";",["T_WHITESPACE","\n        ",185],"}",["T_WHITESPACE","\n        ",186],["T_COMMENT","\/\/ ignore attempts to read system files when open_basedir is set\n",187],["T_WHITESPACE","        ",188],["T_IF","if",188],["T_WHITESPACE"," ",188],"(",["T_VARIABLE","$errno",188],["T_WHITESPACE"," ",188],["T_IS_EQUAL","==",188],["T_WHITESPACE"," ",188],["T_STRING","E_WARNING",188],["T_WHITESPACE"," ",188],["T_BOOLEAN_AND","&&",188],["T_WHITESPACE"," ",188],["T_STRING","stripos",188],"(",["T_VARIABLE","$errstr",188],",",["T_WHITESPACE"," ",188],["T_CONSTANT_ENCAPSED_STRING","'open_basedir'",188],")",["T_WHITESPACE"," ",188],["T_IS_NOT_IDENTICAL","!==",188],["T_WHITESPACE"," ",188],["T_STRING","false",188],")",["T_WHITESPACE"," ",188],"{",["T_WHITESPACE","\n            ",188],["T_RETURN","return",189],["T_WHITESPACE"," ",189],["T_STRING","true",189],";",["T_WHITESPACE","\n        ",189],"}",["T_WHITESPACE","\n    ",190],"}",["T_WHITESPACE","\n\n    ",191],["T_VARIABLE","$errorMessage",193],["T_WHITESPACE"," ",193],"=",["T_WHITESPACE"," ",193],["T_CONSTANT_ENCAPSED_STRING","''",193],";",["T_WHITESPACE","\n\n    ",193],["T_SWITCH","switch",195],"(",["T_VARIABLE","$errno",195],")","{",["T_WHITESPACE","\n        ",195],["T_CASE","case",196],["T_WHITESPACE"," ",196],["T_STRING","E_ERROR",196],":",["T_WHITESPACE","\n            ",196],["T_VARIABLE","$errorMessage",197],["T_WHITESPACE"," ",197],["T_CONCAT_EQUAL",".=",197],["T_WHITESPACE"," ",197],["T_CONSTANT_ENCAPSED_STRING","\"Error\"",197],";",["T_WHITESPACE","\n            ",197],["T_BREAK","break",198],";",["T_WHITESPACE","\n        ",198],["T_CASE","case",199],["T_WHITESPACE"," ",199],["T_STRING","E_WARNING",199],":",["T_WHITESPACE","\n            ",199],["T_VARIABLE","$errorMessage",200],["T_WHITESPACE"," ",200],["T_CONCAT_EQUAL",".=",200],["T_WHITESPACE"," ",200],["T_CONSTANT_ENCAPSED_STRING","\"Warning\"",200],";",["T_WHITESPACE","\n            ",200],["T_BREAK","break",201],";",["T_WHITESPACE","\n        ",201],["T_CASE","case",202],["T_WHITESPACE"," ",202],["T_STRING","E_PARSE",202],":",["T_WHITESPACE","\n            ",202],["T_VARIABLE","$errorMessage",203],["T_WHITESPACE"," ",203],["T_CONCAT_EQUAL",".=",203],["T_WHITESPACE"," ",203],["T_CONSTANT_ENCAPSED_STRING","\"Parse Error\"",203],";",["T_WHITESPACE","\n            ",203],["T_BREAK","break",204],";",["T_WHITESPACE","\n        ",204],["T_CASE","case",205],["T_WHITESPACE"," ",205],["T_STRING","E_NOTICE",205],":",["T_WHITESPACE","\n            ",205],["T_VARIABLE","$errorMessage",206],["T_WHITESPACE"," ",206],["T_CONCAT_EQUAL",".=",206],["T_WHITESPACE"," ",206],["T_CONSTANT_ENCAPSED_STRING","\"Notice\"",206],";",["T_WHITESPACE","\n            ",206],["T_BREAK","break",207],";",["T_WHITESPACE","\n        ",207],["T_CASE","case",208],["T_WHITESPACE"," ",208],["T_STRING","E_CORE_ERROR",208],":",["T_WHITESPACE","\n            ",208],["T_VARIABLE","$errorMessage",209],["T_WHITESPACE"," ",209],["T_CONCAT_EQUAL",".=",209],["T_WHITESPACE"," ",209],["T_CONSTANT_ENCAPSED_STRING","\"Core Error\"",209],";",["T_WHITESPACE","\n            ",209],["T_BREAK","break",210],";",["T_WHITESPACE","\n        ",210],["T_CASE","case",211],["T_WHITESPACE"," ",211],["T_STRING","E_CORE_WARNING",211],":",["T_WHITESPACE","\n            ",211],["T_VARIABLE","$errorMessage",212],["T_WHITESPACE"," ",212],["T_CONCAT_EQUAL",".=",212],["T_WHITESPACE"," ",212],["T_CONSTANT_ENCAPSED_STRING","\"Core Warning\"",212],";",["T_WHITESPACE","\n            ",212],["T_BREAK","break",213],";",["T_WHITESPACE","\n        ",213],["T_CASE","case",214],["T_WHITESPACE"," ",214],["T_STRING","E_COMPILE_ERROR",214],":",["T_WHITESPACE","\n            ",214],["T_VARIABLE","$errorMessage",215],["T_WHITESPACE"," ",215],["T_CONCAT_EQUAL",".=",215],["T_WHITESPACE"," ",215],["T_CONSTANT_ENCAPSED_STRING","\"Compile Error\"",215],";",["T_WHITESPACE","\n            ",215],["T_BREAK","break",216],";",["T_WHITESPACE","\n        ",216],["T_CASE","case",217],["T_WHITESPACE"," ",217],["T_STRING","E_COMPILE_WARNING",217],":",["T_WHITESPACE","\n            ",217],["T_VARIABLE","$errorMessage",218],["T_WHITESPACE"," ",218],["T_CONCAT_EQUAL",".=",218],["T_WHITESPACE"," ",218],["T_CONSTANT_ENCAPSED_STRING","\"Compile Warning\"",218],";",["T_WHITESPACE","\n            ",218],["T_BREAK","break",219],";",["T_WHITESPACE","\n        ",219],["T_CASE","case",220],["T_WHITESPACE"," ",220],["T_STRING","E_USER_ERROR",220],":",["T_WHITESPACE","\n            ",220],["T_VARIABLE","$errorMessage",221],["T_WHITESPACE"," ",221],["T_CONCAT_EQUAL",".=",221],["T_WHITESPACE"," ",221],["T_CONSTANT_ENCAPSED_STRING","\"User Error\"",221],";",["T_WHITESPACE","\n            ",221],["T_BREAK","break",222],";",["T_WHITESPACE","\n        ",222],["T_CASE","case",223],["T_WHITESPACE"," ",223],["T_STRING","E_USER_WARNING",223],":",["T_WHITESPACE","\n            ",223],["T_VARIABLE","$errorMessage",224],["T_WHITESPACE"," ",224],["T_CONCAT_EQUAL",".=",224],["T_WHITESPACE"," ",224],["T_CONSTANT_ENCAPSED_STRING","\"User Warning\"",224],";",["T_WHITESPACE","\n            ",224],["T_BREAK","break",225],";",["T_WHITESPACE","\n        ",225],["T_CASE","case",226],["T_WHITESPACE"," ",226],["T_STRING","E_USER_NOTICE",226],":",["T_WHITESPACE","\n            ",226],["T_VARIABLE","$errorMessage",227],["T_WHITESPACE"," ",227],["T_CONCAT_EQUAL",".=",227],["T_WHITESPACE"," ",227],["T_CONSTANT_ENCAPSED_STRING","\"User Notice\"",227],";",["T_WHITESPACE","\n            ",227],["T_BREAK","break",228],";",["T_WHITESPACE","\n        ",228],["T_CASE","case",229],["T_WHITESPACE"," ",229],["T_STRING","E_STRICT",229],":",["T_WHITESPACE","\n            ",229],["T_VARIABLE","$errorMessage",230],["T_WHITESPACE"," ",230],["T_CONCAT_EQUAL",".=",230],["T_WHITESPACE"," ",230],["T_CONSTANT_ENCAPSED_STRING","\"Strict Notice\"",230],";",["T_WHITESPACE","\n            ",230],["T_BREAK","break",231],";",["T_WHITESPACE","\n        ",231],["T_CASE","case",232],["T_WHITESPACE"," ",232],["T_STRING","E_RECOVERABLE_ERROR",232],":",["T_WHITESPACE","\n            ",232],["T_VARIABLE","$errorMessage",233],["T_WHITESPACE"," ",233],["T_CONCAT_EQUAL",".=",233],["T_WHITESPACE"," ",233],["T_CONSTANT_ENCAPSED_STRING","\"Recoverable Error\"",233],";",["T_WHITESPACE","\n            ",233],["T_BREAK","break",234],";",["T_WHITESPACE","\n        ",234],["T_CASE","case",235],["T_WHITESPACE"," ",235],["T_STRING","E_DEPRECATED",235],":",["T_WHITESPACE","\n            ",235],["T_VARIABLE","$errorMessage",236],["T_WHITESPACE"," ",236],["T_CONCAT_EQUAL",".=",236],["T_WHITESPACE"," ",236],["T_CONSTANT_ENCAPSED_STRING","\"Deprecated functionality\"",236],";",["T_WHITESPACE","\n            ",236],["T_BREAK","break",237],";",["T_WHITESPACE","\n        ",237],["T_DEFAULT","default",238],":",["T_WHITESPACE","\n            ",238],["T_VARIABLE","$errorMessage",239],["T_WHITESPACE"," ",239],["T_CONCAT_EQUAL",".=",239],["T_WHITESPACE"," ",239],"\"",["T_ENCAPSED_AND_WHITESPACE","Unknown error (",239],["T_VARIABLE","$errno",239],["T_ENCAPSED_AND_WHITESPACE",")",239],"\"",";",["T_WHITESPACE","\n            ",239],["T_BREAK","break",240],";",["T_WHITESPACE","\n    ",240],"}",["T_WHITESPACE","\n\n    ",241],["T_VARIABLE","$errorMessage",243],["T_WHITESPACE"," ",243],["T_CONCAT_EQUAL",".=",243],["T_WHITESPACE"," ",243],"\"",["T_ENCAPSED_AND_WHITESPACE",": ",243],["T_CURLY_OPEN","{",243],["T_VARIABLE","$errstr",243],"}",["T_ENCAPSED_AND_WHITESPACE","  in ",243],["T_CURLY_OPEN","{",243],["T_VARIABLE","$errfile",243],"}",["T_ENCAPSED_AND_WHITESPACE"," on line ",243],["T_CURLY_OPEN","{",243],["T_VARIABLE","$errline",243],"}","\"",";",["T_WHITESPACE","\n    ",243],["T_IF","if",244],["T_WHITESPACE"," ",244],"(",["T_STRING","Mage",244],["T_DOUBLE_COLON","::",244],["T_STRING","getIsDeveloperMode",244],"(",")",")",["T_WHITESPACE"," ",244],"{",["T_WHITESPACE","\n        ",244],["T_THROW","throw",245],["T_WHITESPACE"," ",245],["T_NEW","new",245],["T_WHITESPACE"," ",245],["T_STRING","Exception",245],"(",["T_VARIABLE","$errorMessage",245],")",";",["T_WHITESPACE","\n    ",245],"}",["T_WHITESPACE"," ",246],["T_ELSE","else",246],["T_WHITESPACE"," ",246],"{",["T_WHITESPACE","\n        ",246],["T_STRING","Mage",247],["T_DOUBLE_COLON","::",247],["T_STRING","log",247],"(",["T_VARIABLE","$errorMessage",247],",",["T_WHITESPACE"," ",247],["T_STRING","Zend_Log",247],["T_DOUBLE_COLON","::",247],["T_STRING","ERR",247],")",";",["T_WHITESPACE","\n    ",247],"}",["T_WHITESPACE","\n",248],"}",["T_WHITESPACE","\n\n",249],["T_FUNCTION","function",251],["T_WHITESPACE"," ",251],["T_STRING","mageDebugBacktrace",251],"(",["T_VARIABLE","$return",251],"=",["T_STRING","false",251],",",["T_WHITESPACE"," ",251],["T_VARIABLE","$html",251],"=",["T_STRING","true",251],",",["T_WHITESPACE"," ",251],["T_VARIABLE","$showFirst",251],"=",["T_STRING","false",251],")",["T_WHITESPACE","\n",251],"{",["T_WHITESPACE","\n    ",252],["T_VARIABLE","$d",253],["T_WHITESPACE"," ",253],"=",["T_WHITESPACE"," ",253],["T_STRING","debug_backtrace",253],"(",")",";",["T_WHITESPACE","\n    ",253],["T_VARIABLE","$out",254],["T_WHITESPACE"," ",254],"=",["T_WHITESPACE"," ",254],["T_CONSTANT_ENCAPSED_STRING","''",254],";",["T_WHITESPACE","\n    ",254],["T_IF","if",255],["T_WHITESPACE"," ",255],"(",["T_VARIABLE","$html",255],")",["T_WHITESPACE"," ",255],["T_VARIABLE","$out",255],["T_WHITESPACE"," ",255],["T_CONCAT_EQUAL",".=",255],["T_WHITESPACE"," ",255],["T_CONSTANT_ENCAPSED_STRING","\"<pre>\"",255],";",["T_WHITESPACE","\n    ",255],["T_FOREACH","foreach",256],["T_WHITESPACE"," ",256],"(",["T_VARIABLE","$d",256],["T_WHITESPACE"," ",256],["T_AS","as",256],["T_WHITESPACE"," ",256],["T_VARIABLE","$i",256],["T_DOUBLE_ARROW","=>",256],["T_VARIABLE","$r",256],")",["T_WHITESPACE"," ",256],"{",["T_WHITESPACE","\n        ",256],["T_IF","if",257],["T_WHITESPACE"," ",257],"(","!",["T_VARIABLE","$showFirst",257],["T_WHITESPACE"," ",257],["T_BOOLEAN_AND","&&",257],["T_WHITESPACE"," ",257],["T_VARIABLE","$i",257],["T_IS_EQUAL","==",257],["T_LNUMBER","0",257],")",["T_WHITESPACE"," ",257],"{",["T_WHITESPACE","\n            ",257],["T_CONTINUE","continue",258],";",["T_WHITESPACE","\n        ",258],"}",["T_WHITESPACE","\n        ",259],["T_COMMENT","\/\/ sometimes there is undefined index 'file'\n",260],["T_WHITESPACE","        ",261],"@",["T_VARIABLE","$out",261],["T_WHITESPACE"," ",261],["T_CONCAT_EQUAL",".=",261],["T_WHITESPACE"," ",261],"\"",["T_ENCAPSED_AND_WHITESPACE","[",261],["T_VARIABLE","$i",261],["T_ENCAPSED_AND_WHITESPACE","] ",261],["T_CURLY_OPEN","{",261],["T_VARIABLE","$r",261],"[",["T_CONSTANT_ENCAPSED_STRING","'file'",261],"]","}",["T_ENCAPSED_AND_WHITESPACE",":",261],["T_CURLY_OPEN","{",261],["T_VARIABLE","$r",261],"[",["T_CONSTANT_ENCAPSED_STRING","'line'",261],"]","}",["T_ENCAPSED_AND_WHITESPACE","\\n",261],"\"",";",["T_WHITESPACE","\n    ",261],"}",["T_WHITESPACE","\n    ",262],["T_IF","if",263],["T_WHITESPACE"," ",263],"(",["T_VARIABLE","$html",263],")",["T_WHITESPACE"," ",263],["T_VARIABLE","$out",263],["T_WHITESPACE"," ",263],["T_CONCAT_EQUAL",".=",263],["T_WHITESPACE"," ",263],["T_CONSTANT_ENCAPSED_STRING","\"<\/pre>\"",263],";",["T_WHITESPACE","\n    ",263],["T_IF","if",264],["T_WHITESPACE"," ",264],"(",["T_VARIABLE","$return",264],")",["T_WHITESPACE"," ",264],"{",["T_WHITESPACE","\n        ",264],["T_RETURN","return",265],["T_WHITESPACE"," ",265],["T_VARIABLE","$out",265],";",["T_WHITESPACE","\n    ",265],"}",["T_WHITESPACE"," ",266],["T_ELSE","else",266],["T_WHITESPACE"," ",266],"{",["T_WHITESPACE","\n        ",266],["T_ECHO","echo",267],["T_WHITESPACE"," ",267],["T_VARIABLE","$out",267],";",["T_WHITESPACE","\n    ",267],"}",["T_WHITESPACE","\n",268],"}",["T_WHITESPACE","\n\n",269],["T_FUNCTION","function",271],["T_WHITESPACE"," ",271],["T_STRING","mageSendErrorHeader",271],"(",")",["T_WHITESPACE","\n",271],"{",["T_WHITESPACE","\n    ",272],["T_RETURN","return",273],";",["T_WHITESPACE","\n    ",273],["T_IF","if",274],["T_WHITESPACE"," ",274],"(","!",["T_ISSET","isset",274],"(",["T_VARIABLE","$_SERVER",274],"[",["T_CONSTANT_ENCAPSED_STRING","'SCRIPT_NAME'",274],"]",")",")",["T_WHITESPACE"," ",274],"{",["T_WHITESPACE","\n        ",274],["T_RETURN","return",275],";",["T_WHITESPACE","\n    ",275],"}",["T_WHITESPACE","\n    ",276],["T_VARIABLE","$action",277],["T_WHITESPACE"," ",277],"=",["T_WHITESPACE"," ",277],["T_STRING","Mage",277],["T_DOUBLE_COLON","::",277],["T_STRING","app",277],"(",")",["T_OBJECT_OPERATOR","->",277],["T_STRING","getRequest",277],"(",")",["T_OBJECT_OPERATOR","->",277],["T_STRING","getBasePath",277],"(",")",".",["T_CONSTANT_ENCAPSED_STRING","\"bugreport.php\"",277],";",["T_WHITESPACE","\n    ",277],["T_ECHO","echo",278],["T_WHITESPACE"," ",278],["T_CONSTANT_ENCAPSED_STRING","'<form id=\"error_report\" method=\"post\" style=\"display:none\" action=\"'",278],".",["T_VARIABLE","$action",278],".",["T_CONSTANT_ENCAPSED_STRING","'\"><textarea name=\"error\">'",278],";",["T_WHITESPACE","\n",278],"}",["T_WHITESPACE","\n\n",279],["T_FUNCTION","function",281],["T_WHITESPACE"," ",281],["T_STRING","mageSendErrorFooter",281],"(",")",["T_WHITESPACE","\n",281],"{",["T_WHITESPACE","\n    ",282],["T_RETURN","return",283],";",["T_WHITESPACE","\n    ",283],["T_IF","if",284],["T_WHITESPACE"," ",284],"(","!",["T_ISSET","isset",284],"(",["T_VARIABLE","$_SERVER",284],"[",["T_CONSTANT_ENCAPSED_STRING","'SCRIPT_NAME'",284],"]",")",")",["T_WHITESPACE"," ",284],"{",["T_WHITESPACE","\n        ",284],["T_RETURN","return",285],";",["T_WHITESPACE","\n    ",285],"}",["T_WHITESPACE","\n    ",286],["T_ECHO","echo",287],["T_WHITESPACE"," ",287],["T_CONSTANT_ENCAPSED_STRING","'<\/textarea><\/form><script type=\"text\/javascript\">document.getElementById(\"error_report\").submit()<\/script>'",287],";",["T_WHITESPACE","\n    ",287],["T_EXIT","exit",288],";",["T_WHITESPACE","\n",288],"}",["T_WHITESPACE","\n\n",289],["T_FUNCTION","function",291],["T_WHITESPACE"," ",291],["T_STRING","mageDelTree",291],"(",["T_VARIABLE","$path",291],")",["T_WHITESPACE"," ",291],"{",["T_WHITESPACE","\n    ",291],["T_IF","if",292],["T_WHITESPACE"," ",292],"(",["T_STRING","is_dir",292],"(",["T_VARIABLE","$path",292],")",")",["T_WHITESPACE"," ",292],"{",["T_WHITESPACE","\n        ",292],["T_VARIABLE","$entries",293],["T_WHITESPACE"," ",293],"=",["T_WHITESPACE"," ",293],["T_STRING","scandir",293],"(",["T_VARIABLE","$path",293],")",";",["T_WHITESPACE","\n        ",293],["T_FOREACH","foreach",294],["T_WHITESPACE"," ",294],"(",["T_VARIABLE","$entries",294],["T_WHITESPACE"," ",294],["T_AS","as",294],["T_WHITESPACE"," ",294],["T_VARIABLE","$entry",294],")",["T_WHITESPACE"," ",294],"{",["T_WHITESPACE","\n            ",294],["T_IF","if",295],["T_WHITESPACE"," ",295],"(",["T_VARIABLE","$entry",295],["T_WHITESPACE"," ",295],["T_IS_NOT_EQUAL","!=",295],["T_WHITESPACE"," ",295],["T_CONSTANT_ENCAPSED_STRING","'.'",295],["T_WHITESPACE"," ",295],["T_BOOLEAN_AND","&&",295],["T_WHITESPACE"," ",295],["T_VARIABLE","$entry",295],["T_WHITESPACE"," ",295],["T_IS_NOT_EQUAL","!=",295],["T_WHITESPACE"," ",295],["T_CONSTANT_ENCAPSED_STRING","'..'",295],")",["T_WHITESPACE"," ",295],"{",["T_WHITESPACE","\n                ",295],["T_STRING","mageDelTree",296],"(",["T_VARIABLE","$path",296],".",["T_STRING","DS",296],".",["T_VARIABLE","$entry",296],")",";",["T_WHITESPACE","\n            ",296],"}",["T_WHITESPACE","\n        ",297],"}",["T_WHITESPACE","\n        ",298],"@",["T_STRING","rmdir",299],"(",["T_VARIABLE","$path",299],")",";",["T_WHITESPACE","\n    ",299],"}",["T_WHITESPACE"," ",300],["T_ELSE","else",300],["T_WHITESPACE"," ",300],"{",["T_WHITESPACE","\n        ",300],"@",["T_STRING","unlink",301],"(",["T_VARIABLE","$path",301],")",";",["T_WHITESPACE","\n    ",301],"}",["T_WHITESPACE","\n",302],"}",["T_WHITESPACE","\n\n",303],["T_FUNCTION","function",305],["T_WHITESPACE"," ",305],["T_STRING","mageParseCsv",305],"(",["T_VARIABLE","$string",305],",",["T_WHITESPACE"," ",305],["T_VARIABLE","$delimiter",305],"=",["T_CONSTANT_ENCAPSED_STRING","\",\"",305],",",["T_WHITESPACE"," ",305],["T_VARIABLE","$enclosure",305],"=",["T_CONSTANT_ENCAPSED_STRING","'\"'",305],",",["T_WHITESPACE"," ",305],["T_VARIABLE","$escape",305],"=",["T_CONSTANT_ENCAPSED_STRING","'\\\\'",305],")",["T_WHITESPACE","\n",305],"{",["T_WHITESPACE","\n    ",306],["T_VARIABLE","$elements",307],["T_WHITESPACE"," ",307],"=",["T_WHITESPACE"," ",307],["T_STRING","explode",307],"(",["T_VARIABLE","$delimiter",307],",",["T_WHITESPACE"," ",307],["T_VARIABLE","$string",307],")",";",["T_WHITESPACE","\n    ",307],["T_FOR","for",308],["T_WHITESPACE"," ",308],"(",["T_VARIABLE","$i",308],["T_WHITESPACE"," ",308],"=",["T_WHITESPACE"," ",308],["T_LNUMBER","0",308],";",["T_WHITESPACE"," ",308],["T_VARIABLE","$i",308],["T_WHITESPACE"," ",308],"<",["T_WHITESPACE"," ",308],["T_STRING","count",308],"(",["T_VARIABLE","$elements",308],")",";",["T_WHITESPACE"," ",308],["T_VARIABLE","$i",308],["T_INC","++",308],")",["T_WHITESPACE"," ",308],"{",["T_WHITESPACE","\n        ",308],["T_VARIABLE","$nquotes",309],["T_WHITESPACE"," ",309],"=",["T_WHITESPACE"," ",309],["T_STRING","substr_count",309],"(",["T_VARIABLE","$elements",309],"[",["T_VARIABLE","$i",309],"]",",",["T_WHITESPACE"," ",309],["T_VARIABLE","$enclosure",309],")",";",["T_WHITESPACE","\n        ",309],["T_IF","if",310],["T_WHITESPACE"," ",310],"(",["T_VARIABLE","$nquotes",310],["T_WHITESPACE"," ",310],"%",["T_LNUMBER","2",310],["T_WHITESPACE"," ",310],["T_IS_EQUAL","==",310],["T_WHITESPACE"," ",310],["T_LNUMBER","1",310],")",["T_WHITESPACE"," ",310],"{",["T_WHITESPACE","\n            ",310],["T_FOR","for",311],["T_WHITESPACE"," ",311],"(",["T_VARIABLE","$j",311],["T_WHITESPACE"," ",311],"=",["T_WHITESPACE"," ",311],["T_VARIABLE","$i",311],"+",["T_LNUMBER","1",311],";",["T_WHITESPACE"," ",311],["T_VARIABLE","$j",311],["T_WHITESPACE"," ",311],"<",["T_WHITESPACE"," ",311],["T_STRING","count",311],"(",["T_VARIABLE","$elements",311],")",";",["T_WHITESPACE"," ",311],["T_VARIABLE","$j",311],["T_INC","++",311],")",["T_WHITESPACE"," ",311],"{",["T_WHITESPACE","\n                ",311],["T_IF","if",312],["T_WHITESPACE"," ",312],"(",["T_STRING","substr_count",312],"(",["T_VARIABLE","$elements",312],"[",["T_VARIABLE","$j",312],"]",",",["T_WHITESPACE"," ",312],["T_VARIABLE","$enclosure",312],")",["T_WHITESPACE"," ",312],">",["T_WHITESPACE"," ",312],["T_LNUMBER","0",312],")",["T_WHITESPACE"," ",312],"{",["T_WHITESPACE","\n                    ",312],["T_COMMENT","\/\/ Put the quoted string's pieces back together again\n",313],["T_WHITESPACE","                    ",314],["T_STRING","array_splice",314],"(",["T_VARIABLE","$elements",314],",",["T_WHITESPACE"," ",314],["T_VARIABLE","$i",314],",",["T_WHITESPACE"," ",314],["T_VARIABLE","$j",314],"-",["T_VARIABLE","$i",314],"+",["T_LNUMBER","1",314],",",["T_WHITESPACE","\n                        ",314],["T_STRING","implode",315],"(",["T_VARIABLE","$delimiter",315],",",["T_WHITESPACE"," ",315],["T_STRING","array_slice",315],"(",["T_VARIABLE","$elements",315],",",["T_WHITESPACE"," ",315],["T_VARIABLE","$i",315],",",["T_WHITESPACE"," ",315],["T_VARIABLE","$j",315],"-",["T_VARIABLE","$i",315],"+",["T_LNUMBER","1",315],")",")",")",";",["T_WHITESPACE","\n                    ",315],["T_BREAK","break",316],";",["T_WHITESPACE","\n                ",316],"}",["T_WHITESPACE","\n            ",317],"}",["T_WHITESPACE","\n        ",318],"}",["T_WHITESPACE","\n        ",319],["T_IF","if",320],["T_WHITESPACE"," ",320],"(",["T_VARIABLE","$nquotes",320],["T_WHITESPACE"," ",320],">",["T_WHITESPACE"," ",320],["T_LNUMBER","0",320],")",["T_WHITESPACE"," ",320],"{",["T_WHITESPACE","\n            ",320],["T_COMMENT","\/\/ Remove first and last quotes, then merge pairs of quotes\n",321],["T_WHITESPACE","            ",322],["T_VARIABLE","$qstr",322],["T_WHITESPACE"," ",322],"=","&",["T_WHITESPACE"," ",322],["T_VARIABLE","$elements",322],"[",["T_VARIABLE","$i",322],"]",";",["T_WHITESPACE","\n            ",322],["T_VARIABLE","$qstr",323],["T_WHITESPACE"," ",323],"=",["T_WHITESPACE"," ",323],["T_STRING","substr_replace",323],"(",["T_VARIABLE","$qstr",323],",",["T_WHITESPACE"," ",323],["T_CONSTANT_ENCAPSED_STRING","''",323],",",["T_WHITESPACE"," ",323],["T_STRING","strpos",323],"(",["T_VARIABLE","$qstr",323],",",["T_WHITESPACE"," ",323],["T_VARIABLE","$enclosure",323],")",",",["T_WHITESPACE"," ",323],["T_LNUMBER","1",323],")",";",["T_WHITESPACE","\n            ",323],["T_VARIABLE","$qstr",324],["T_WHITESPACE"," ",324],"=",["T_WHITESPACE"," ",324],["T_STRING","substr_replace",324],"(",["T_VARIABLE","$qstr",324],",",["T_WHITESPACE"," ",324],["T_CONSTANT_ENCAPSED_STRING","''",324],",",["T_WHITESPACE"," ",324],["T_STRING","strrpos",324],"(",["T_VARIABLE","$qstr",324],",",["T_WHITESPACE"," ",324],["T_VARIABLE","$enclosure",324],")",",",["T_WHITESPACE"," ",324],["T_LNUMBER","1",324],")",";",["T_WHITESPACE","\n            ",324],["T_VARIABLE","$qstr",325],["T_WHITESPACE"," ",325],"=",["T_WHITESPACE"," ",325],["T_STRING","str_replace",325],"(",["T_VARIABLE","$enclosure",325],".",["T_VARIABLE","$enclosure",325],",",["T_WHITESPACE"," ",325],["T_VARIABLE","$enclosure",325],",",["T_WHITESPACE"," ",325],["T_VARIABLE","$qstr",325],")",";",["T_WHITESPACE","\n        ",325],"}",["T_WHITESPACE","\n    ",326],"}",["T_WHITESPACE","\n    ",327],["T_RETURN","return",328],["T_WHITESPACE"," ",328],["T_VARIABLE","$elements",328],";",["T_WHITESPACE","\n",328],"}",["T_WHITESPACE","\n\n",329],["T_FUNCTION","function",331],["T_WHITESPACE"," ",331],["T_STRING","is_dir_writeable",331],"(",["T_VARIABLE","$dir",331],")",["T_WHITESPACE","\n",331],"{",["T_WHITESPACE","\n    ",332],["T_IF","if",333],["T_WHITESPACE"," ",333],"(",["T_STRING","is_dir",333],"(",["T_VARIABLE","$dir",333],")",["T_WHITESPACE"," ",333],["T_BOOLEAN_AND","&&",333],["T_WHITESPACE"," ",333],["T_STRING","is_writable",333],"(",["T_VARIABLE","$dir",333],")",")",["T_WHITESPACE"," ",333],"{",["T_WHITESPACE","\n        ",333],["T_IF","if",334],["T_WHITESPACE"," ",334],"(",["T_STRING","stripos",334],"(",["T_STRING","PHP_OS",334],",",["T_WHITESPACE"," ",334],["T_CONSTANT_ENCAPSED_STRING","'win'",334],")",["T_WHITESPACE"," ",334],["T_IS_IDENTICAL","===",334],["T_WHITESPACE"," ",334],["T_LNUMBER","0",334],")",["T_WHITESPACE"," ",334],"{",["T_WHITESPACE","\n            ",334],["T_VARIABLE","$dir",335],["T_WHITESPACE","    ",335],"=",["T_WHITESPACE"," ",335],["T_STRING","ltrim",335],"(",["T_VARIABLE","$dir",335],",",["T_WHITESPACE"," ",335],["T_STRING","DIRECTORY_SEPARATOR",335],")",";",["T_WHITESPACE","\n            ",335],["T_VARIABLE","$file",336],["T_WHITESPACE","   ",336],"=",["T_WHITESPACE"," ",336],["T_VARIABLE","$dir",336],["T_WHITESPACE"," ",336],".",["T_WHITESPACE"," ",336],["T_STRING","DIRECTORY_SEPARATOR",336],["T_WHITESPACE"," ",336],".",["T_WHITESPACE"," ",336],["T_STRING","uniqid",336],"(",["T_STRING","mt_rand",336],"(",")",")",".",["T_CONSTANT_ENCAPSED_STRING","'.tmp'",336],";",["T_WHITESPACE","\n            ",336],["T_VARIABLE","$exist",337],["T_WHITESPACE","  ",337],"=",["T_WHITESPACE"," ",337],["T_STRING","file_exists",337],"(",["T_VARIABLE","$file",337],")",";",["T_WHITESPACE","\n            ",337],["T_VARIABLE","$fp",338],["T_WHITESPACE","     ",338],"=",["T_WHITESPACE"," ",338],"@",["T_STRING","fopen",338],"(",["T_VARIABLE","$file",338],",",["T_WHITESPACE"," ",338],["T_CONSTANT_ENCAPSED_STRING","'a'",338],")",";",["T_WHITESPACE","\n            ",338],["T_IF","if",339],["T_WHITESPACE"," ",339],"(",["T_VARIABLE","$fp",339],["T_WHITESPACE"," ",339],["T_IS_IDENTICAL","===",339],["T_WHITESPACE"," ",339],["T_STRING","false",339],")",["T_WHITESPACE"," ",339],"{",["T_WHITESPACE","\n                ",339],["T_RETURN","return",340],["T_WHITESPACE"," ",340],["T_STRING","false",340],";",["T_WHITESPACE","\n            ",340],"}",["T_WHITESPACE","\n            ",341],["T_STRING","fclose",342],"(",["T_VARIABLE","$fp",342],")",";",["T_WHITESPACE","\n            ",342],["T_IF","if",343],["T_WHITESPACE"," ",343],"(","!",["T_VARIABLE","$exist",343],")",["T_WHITESPACE"," ",343],"{",["T_WHITESPACE","\n                ",343],["T_STRING","unlink",344],"(",["T_VARIABLE","$file",344],")",";",["T_WHITESPACE","\n            ",344],"}",["T_WHITESPACE","\n        ",345],"}",["T_WHITESPACE","\n        ",346],["T_RETURN","return",347],["T_WHITESPACE"," ",347],["T_STRING","true",347],";",["T_WHITESPACE","\n    ",347],"}",["T_WHITESPACE","\n    ",348],["T_RETURN","return",349],["T_WHITESPACE"," ",349],["T_STRING","false",349],";",["T_WHITESPACE","\n",349],"}",["T_WHITESPACE","\n\n",350],["T_IF","if",352],["T_WHITESPACE"," ",352],"(",["T_WHITESPACE"," ",352],"!",["T_STRING","function_exists",352],"(",["T_CONSTANT_ENCAPSED_STRING","'sys_get_temp_dir'",352],")",["T_WHITESPACE"," ",352],")",["T_WHITESPACE"," ",352],"{",["T_WHITESPACE","\n    ",352],["T_COMMENT","\/\/ Based on http:\/\/www.phpit.net\/\n",353],["T_WHITESPACE","    ",354],["T_COMMENT","\/\/ article\/creating-zip-tar-archives-dynamically-php\/2\/\n",354],["T_WHITESPACE","    ",355],["T_FUNCTION","function",355],["T_WHITESPACE"," ",355],["T_STRING","sys_get_temp_dir",355],"(",")",["T_WHITESPACE","\n    ",355],"{",["T_WHITESPACE","\n        ",356],["T_COMMENT","\/\/ Try to get from environment variable\n",357],["T_WHITESPACE","        ",358],["T_IF","if",358],["T_WHITESPACE"," ",358],"(",["T_WHITESPACE"," ",358],"!",["T_EMPTY","empty",358],"(",["T_VARIABLE","$_ENV",358],"[",["T_CONSTANT_ENCAPSED_STRING","'TMP'",358],"]",")",["T_WHITESPACE"," ",358],")",["T_WHITESPACE"," ",358],"{",["T_WHITESPACE","\n            ",358],["T_RETURN","return",359],["T_WHITESPACE"," ",359],["T_STRING","realpath",359],"(",["T_WHITESPACE"," ",359],["T_VARIABLE","$_ENV",359],"[",["T_CONSTANT_ENCAPSED_STRING","'TMP'",359],"]",["T_WHITESPACE"," ",359],")",";",["T_WHITESPACE","\n        ",359],"}",["T_WHITESPACE"," ",360],["T_ELSE","else",360],["T_WHITESPACE"," ",360],["T_IF","if",360],["T_WHITESPACE"," ",360],"(",["T_WHITESPACE"," ",360],"!",["T_EMPTY","empty",360],"(",["T_VARIABLE","$_ENV",360],"[",["T_CONSTANT_ENCAPSED_STRING","'TMPDIR'",360],"]",")",["T_WHITESPACE"," ",360],")",["T_WHITESPACE"," ",360],"{",["T_WHITESPACE","\n            ",360],["T_RETURN","return",361],["T_WHITESPACE"," ",361],["T_STRING","realpath",361],"(",["T_WHITESPACE"," ",361],["T_VARIABLE","$_ENV",361],"[",["T_CONSTANT_ENCAPSED_STRING","'TMPDIR'",361],"]",["T_WHITESPACE"," ",361],")",";",["T_WHITESPACE","\n        ",361],"}",["T_WHITESPACE"," ",362],["T_ELSE","else",362],["T_WHITESPACE"," ",362],["T_IF","if",362],["T_WHITESPACE"," ",362],"(",["T_WHITESPACE"," ",362],"!",["T_EMPTY","empty",362],"(",["T_VARIABLE","$_ENV",362],"[",["T_CONSTANT_ENCAPSED_STRING","'TEMP'",362],"]",")",["T_WHITESPACE"," ",362],")",["T_WHITESPACE"," ",362],"{",["T_WHITESPACE","\n            ",362],["T_RETURN","return",363],["T_WHITESPACE"," ",363],["T_STRING","realpath",363],"(",["T_WHITESPACE"," ",363],["T_VARIABLE","$_ENV",363],"[",["T_CONSTANT_ENCAPSED_STRING","'TEMP'",363],"]",["T_WHITESPACE"," ",363],")",";",["T_WHITESPACE","\n        ",363],"}",["T_WHITESPACE"," ",364],["T_ELSE","else",364],["T_WHITESPACE"," ",364],"{",["T_WHITESPACE","\n            ",364],["T_COMMENT","\/\/ Try to use system's temporary directory\n",365],["T_WHITESPACE","            ",366],["T_COMMENT","\/\/ as random name shouldn't exist\n",366],["T_WHITESPACE","            ",367],["T_VARIABLE","$temp_file",367],["T_WHITESPACE"," ",367],"=",["T_WHITESPACE"," ",367],["T_STRING","tempnam",367],"(",["T_WHITESPACE"," ",367],["T_STRING","md5",367],"(",["T_STRING","uniqid",367],"(",["T_STRING","rand",367],"(",")",",",["T_WHITESPACE"," ",367],["T_STRING","TRUE",367],")",")",",",["T_WHITESPACE"," ",367],["T_CONSTANT_ENCAPSED_STRING","''",367],["T_WHITESPACE"," ",367],")",";",["T_WHITESPACE","\n            ",367],["T_IF","if",368],["T_WHITESPACE"," ",368],"(",["T_WHITESPACE"," ",368],["T_VARIABLE","$temp_file",368],["T_WHITESPACE"," ",368],")",["T_WHITESPACE"," ",368],"{",["T_WHITESPACE","\n                ",368],["T_VARIABLE","$temp_dir",369],["T_WHITESPACE"," ",369],"=",["T_WHITESPACE"," ",369],["T_STRING","realpath",369],"(",["T_WHITESPACE"," ",369],["T_STRING","dirname",369],"(",["T_VARIABLE","$temp_file",369],")",["T_WHITESPACE"," ",369],")",";",["T_WHITESPACE","\n                ",369],["T_STRING","unlink",370],"(",["T_WHITESPACE"," ",370],["T_VARIABLE","$temp_file",370],["T_WHITESPACE"," ",370],")",";",["T_WHITESPACE","\n                ",370],["T_RETURN","return",371],["T_WHITESPACE"," ",371],["T_VARIABLE","$temp_dir",371],";",["T_WHITESPACE","\n            ",371],"}",["T_WHITESPACE"," ",372],["T_ELSE","else",372],["T_WHITESPACE"," ",372],"{",["T_WHITESPACE","\n                ",372],["T_RETURN","return",373],["T_WHITESPACE"," ",373],["T_STRING","FALSE",373],";",["T_WHITESPACE","\n            ",373],"}",["T_WHITESPACE","\n        ",374],"}",["T_WHITESPACE","\n    ",375],"}",["T_WHITESPACE","\n",376],"}",["T_WHITESPACE","\n\n",377],["T_IF","if",379],["T_WHITESPACE"," ",379],"(","!",["T_STRING","function_exists",379],"(",["T_CONSTANT_ENCAPSED_STRING","'hash_equals'",379],")",")",["T_WHITESPACE"," ",379],"{",["T_WHITESPACE","\n    ",379],["T_DOC_COMMENT","\/**\n     * Compares two strings using the same time whether they're equal or not.\n     * A difference in length will leak\n     *\n     * @param string $known_string\n     * @param string $user_string\n     * @return boolean Returns true when the two strings are equal, false otherwise.\n     *\/",380],["T_WHITESPACE","\n    ",387],["T_FUNCTION","function",388],["T_WHITESPACE"," ",388],["T_STRING","hash_equals",388],"(",["T_VARIABLE","$known_string",388],",",["T_WHITESPACE"," ",388],["T_VARIABLE","$user_string",388],")",["T_WHITESPACE","\n    ",388],"{",["T_WHITESPACE","\n        ",389],["T_VARIABLE","$result",390],["T_WHITESPACE"," ",390],"=",["T_WHITESPACE"," ",390],["T_LNUMBER","0",390],";",["T_WHITESPACE","\n\n        ",390],["T_IF","if",392],["T_WHITESPACE"," ",392],"(","!",["T_STRING","is_string",392],"(",["T_VARIABLE","$known_string",392],")",")",["T_WHITESPACE"," ",392],"{",["T_WHITESPACE","\n            ",392],["T_STRING","trigger_error",393],"(",["T_CONSTANT_ENCAPSED_STRING","\"hash_equals(): Expected known_string to be a string\"",393],",",["T_WHITESPACE"," ",393],["T_STRING","E_USER_WARNING",393],")",";",["T_WHITESPACE","\n            ",393],["T_RETURN","return",394],["T_WHITESPACE"," ",394],["T_STRING","false",394],";",["T_WHITESPACE","\n        ",394],"}",["T_WHITESPACE","\n\n        ",395],["T_IF","if",397],["T_WHITESPACE"," ",397],"(","!",["T_STRING","is_string",397],"(",["T_VARIABLE","$user_string",397],")",")",["T_WHITESPACE"," ",397],"{",["T_WHITESPACE","\n            ",397],["T_STRING","trigger_error",398],"(",["T_CONSTANT_ENCAPSED_STRING","\"hash_equals(): Expected user_string to be a string\"",398],",",["T_WHITESPACE"," ",398],["T_STRING","E_USER_WARNING",398],")",";",["T_WHITESPACE","\n            ",398],["T_RETURN","return",399],["T_WHITESPACE"," ",399],["T_STRING","false",399],";",["T_WHITESPACE","\n        ",399],"}",["T_WHITESPACE","\n\n        ",400],["T_IF","if",402],["T_WHITESPACE"," ",402],"(",["T_STRING","strlen",402],"(",["T_VARIABLE","$known_string",402],")",["T_WHITESPACE"," ",402],["T_IS_NOT_EQUAL","!=",402],["T_WHITESPACE"," ",402],["T_STRING","strlen",402],"(",["T_VARIABLE","$user_string",402],")",")",["T_WHITESPACE"," ",402],"{",["T_WHITESPACE","\n            ",402],["T_RETURN","return",403],["T_WHITESPACE"," ",403],["T_STRING","false",403],";",["T_WHITESPACE","\n        ",403],"}",["T_WHITESPACE","\n\n        ",404],["T_FOR","for",406],["T_WHITESPACE"," ",406],"(",["T_VARIABLE","$i",406],["T_WHITESPACE"," ",406],"=",["T_WHITESPACE"," ",406],["T_LNUMBER","0",406],";",["T_WHITESPACE"," ",406],["T_VARIABLE","$i",406],["T_WHITESPACE"," ",406],"<",["T_WHITESPACE"," ",406],["T_STRING","strlen",406],"(",["T_VARIABLE","$known_string",406],")",";",["T_WHITESPACE"," ",406],["T_VARIABLE","$i",406],["T_INC","++",406],")",["T_WHITESPACE"," ",406],"{",["T_WHITESPACE","\n            ",406],["T_VARIABLE","$result",407],["T_WHITESPACE"," ",407],["T_OR_EQUAL","|=",407],["T_WHITESPACE"," ",407],"(",["T_STRING","ord",407],"(",["T_VARIABLE","$known_string",407],"[",["T_VARIABLE","$i",407],"]",")",["T_WHITESPACE"," ",407],"^",["T_WHITESPACE"," ",407],["T_STRING","ord",407],"(",["T_VARIABLE","$user_string",407],"[",["T_VARIABLE","$i",407],"]",")",")",";",["T_WHITESPACE","\n        ",407],"}",["T_WHITESPACE","\n\n        ",408],["T_RETURN","return",410],["T_WHITESPACE"," ",410],["T_LNUMBER","0",410],["T_WHITESPACE"," ",410],["T_IS_IDENTICAL","===",410],["T_WHITESPACE"," ",410],["T_VARIABLE","$result",410],";",["T_WHITESPACE","\n    ",410],"}",["T_WHITESPACE","\n",411],"}",["T_WHITESPACE","\n",412]]