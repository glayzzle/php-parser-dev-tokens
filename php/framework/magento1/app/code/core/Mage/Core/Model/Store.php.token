[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Magento\n *\n * NOTICE OF LICENSE\n *\n * This source file is subject to the Open Software License (OSL 3.0)\n * that is bundled with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/opensource.org\/licenses\/osl-3.0.php\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@magento.com so we can send you a copy immediately.\n *\n * DISCLAIMER\n *\n * Do not edit or add to this file if you wish to upgrade Magento to newer\n * versions in the future. If you wish to customize Magento for your\n * needs please refer to http:\/\/www.magento.com for more information.\n *\n * @category    Mage\n * @package     Mage_Core\n * @copyright  Copyright (c) 2006-2016 X.commerce, Inc. and affiliates (http:\/\/www.magento.com)\n * @license    http:\/\/opensource.org\/licenses\/osl-3.0.php  Open Software License (OSL 3.0)\n *\/",2],["T_WHITESPACE","\n\n",25],["T_DOC_COMMENT","\/**\n * Store model\n *\n * @method Mage_Core_Model_Resource_Store _getResource()\n * @method Mage_Core_Model_Resource_Store getResource()\n * @method Mage_Core_Model_Store setCode(string $value)\n * @method Mage_Core_Model_Store setWebsiteId(int $value)\n * @method Mage_Core_Model_Store setGroupId(int $value)\n * @method Mage_Core_Model_Store setName(string $value)\n * @method int getSortOrder()\n * @method Mage_Core_Model_Store setSortOrder(int $value)\n * @method Mage_Core_Model_Store setIsActive(int $value)\n *\n * @category    Mage\n * @package     Mage_Core\n * @author      Magento Core Team <core@magentocommerce.com>\n *\/",27],["T_WHITESPACE","\n",43],["T_CLASS","class",44],["T_WHITESPACE"," ",44],["T_STRING","Mage_Core_Model_Store",44],["T_WHITESPACE"," ",44],["T_EXTENDS","extends",44],["T_WHITESPACE"," ",44],["T_STRING","Mage_Core_Model_Abstract",44],["T_WHITESPACE","\n",44],"{",["T_WHITESPACE","\n    ",45],["T_DOC_COMMENT","\/**\n     * Entity name\n     *\/",46],["T_WHITESPACE","\n    ",48],["T_CONST","const",49],["T_WHITESPACE"," ",49],["T_STRING","ENTITY",49],["T_WHITESPACE"," ",49],"=",["T_WHITESPACE"," ",49],["T_CONSTANT_ENCAPSED_STRING","'core_store'",49],";",["T_WHITESPACE","\n\n    ",49],["T_DOC_COMMENT","\/**\n     * Configuration pathes\n     *\/",51],["T_WHITESPACE","\n    ",53],["T_CONST","const",54],["T_WHITESPACE"," ",54],["T_STRING","XML_PATH_STORE_STORE_NAME",54],["T_WHITESPACE","       ",54],"=",["T_WHITESPACE"," ",54],["T_CONSTANT_ENCAPSED_STRING","'general\/store_information\/name'",54],";",["T_WHITESPACE","\n    ",54],["T_DOC_COMMENT","\/**\n     *\n     *\/",55],["T_WHITESPACE","\n    ",57],["T_CONST","const",58],["T_WHITESPACE"," ",58],["T_STRING","XML_PATH_STORE_STORE_PHONE",58],["T_WHITESPACE","      ",58],"=",["T_WHITESPACE"," ",58],["T_CONSTANT_ENCAPSED_STRING","'general\/store_information\/phone'",58],";",["T_WHITESPACE","\n    ",58],["T_DOC_COMMENT","\/**\n     *\n     *\/",59],["T_WHITESPACE","\n    ",61],["T_CONST","const",62],["T_WHITESPACE"," ",62],["T_STRING","XML_PATH_STORE_STORE_HOURS",62],["T_WHITESPACE","      ",62],"=",["T_WHITESPACE"," ",62],["T_CONSTANT_ENCAPSED_STRING","'general\/store_information\/hours'",62],";",["T_WHITESPACE","\n    ",62],["T_DOC_COMMENT","\/**\n     *\n     *\/",63],["T_WHITESPACE","\n    ",65],["T_CONST","const",66],["T_WHITESPACE"," ",66],["T_STRING","XML_PATH_STORE_IN_URL",66],["T_WHITESPACE","           ",66],"=",["T_WHITESPACE"," ",66],["T_CONSTANT_ENCAPSED_STRING","'web\/url\/use_store'",66],";",["T_WHITESPACE","\n    ",66],["T_DOC_COMMENT","\/**\n     *\n     *\/",67],["T_WHITESPACE","\n    ",69],["T_CONST","const",70],["T_WHITESPACE"," ",70],["T_STRING","XML_PATH_USE_REWRITES",70],["T_WHITESPACE","           ",70],"=",["T_WHITESPACE"," ",70],["T_CONSTANT_ENCAPSED_STRING","'web\/seo\/use_rewrites'",70],";",["T_WHITESPACE","\n    ",70],["T_DOC_COMMENT","\/**\n     *\n     *\/",71],["T_WHITESPACE","\n    ",73],["T_CONST","const",74],["T_WHITESPACE"," ",74],["T_STRING","XML_PATH_UNSECURE_BASE_URL",74],["T_WHITESPACE","      ",74],"=",["T_WHITESPACE"," ",74],["T_CONSTANT_ENCAPSED_STRING","'web\/unsecure\/base_url'",74],";",["T_WHITESPACE","\n    ",74],["T_DOC_COMMENT","\/**\n     *\n     *\/",75],["T_WHITESPACE","\n    ",77],["T_CONST","const",78],["T_WHITESPACE"," ",78],["T_STRING","XML_PATH_SECURE_BASE_URL",78],["T_WHITESPACE","        ",78],"=",["T_WHITESPACE"," ",78],["T_CONSTANT_ENCAPSED_STRING","'web\/secure\/base_url'",78],";",["T_WHITESPACE","\n    ",78],["T_DOC_COMMENT","\/**\n     *\n     *\/",79],["T_WHITESPACE","\n    ",81],["T_CONST","const",82],["T_WHITESPACE"," ",82],["T_STRING","XML_PATH_SECURE_IN_FRONTEND",82],["T_WHITESPACE","     ",82],"=",["T_WHITESPACE"," ",82],["T_CONSTANT_ENCAPSED_STRING","'web\/secure\/use_in_frontend'",82],";",["T_WHITESPACE","\n    ",82],["T_DOC_COMMENT","\/**\n     *\n     *\/",83],["T_WHITESPACE","\n    ",85],["T_CONST","const",86],["T_WHITESPACE"," ",86],["T_STRING","XML_PATH_SECURE_IN_ADMINHTML",86],["T_WHITESPACE","    ",86],"=",["T_WHITESPACE"," ",86],["T_CONSTANT_ENCAPSED_STRING","'web\/secure\/use_in_adminhtml'",86],";",["T_WHITESPACE","\n    ",86],["T_DOC_COMMENT","\/**\n     *\n     *\/",87],["T_WHITESPACE","\n    ",89],["T_CONST","const",90],["T_WHITESPACE"," ",90],["T_STRING","XML_PATH_SECURE_BASE_LINK_URL",90],["T_WHITESPACE","   ",90],"=",["T_WHITESPACE"," ",90],["T_CONSTANT_ENCAPSED_STRING","'web\/secure\/base_link_url'",90],";",["T_WHITESPACE","\n    ",90],["T_DOC_COMMENT","\/**\n     *\n     *\/",91],["T_WHITESPACE","\n    ",93],["T_CONST","const",94],["T_WHITESPACE"," ",94],["T_STRING","XML_PATH_UNSECURE_BASE_LINK_URL",94],["T_WHITESPACE"," ",94],"=",["T_WHITESPACE"," ",94],["T_CONSTANT_ENCAPSED_STRING","'web\/unsecure\/base_link_url'",94],";",["T_WHITESPACE","\n    ",94],["T_DOC_COMMENT","\/**\n     *\n     *\/",95],["T_WHITESPACE","\n    ",97],["T_CONST","const",98],["T_WHITESPACE"," ",98],["T_STRING","XML_PATH_OFFLOADER_HEADER",98],["T_WHITESPACE","       ",98],"=",["T_WHITESPACE"," ",98],["T_CONSTANT_ENCAPSED_STRING","'web\/secure\/offloader_header'",98],";",["T_WHITESPACE","\n    ",98],["T_DOC_COMMENT","\/**\n     *\n     *\/",99],["T_WHITESPACE","\n    ",101],["T_CONST","const",102],["T_WHITESPACE"," ",102],["T_STRING","XML_PATH_PRICE_SCOPE",102],["T_WHITESPACE","            ",102],"=",["T_WHITESPACE"," ",102],["T_CONSTANT_ENCAPSED_STRING","'catalog\/price\/scope'",102],";",["T_WHITESPACE","\n\n    ",102],["T_DOC_COMMENT","\/**\n     * Price scope constants\n     *\/",104],["T_WHITESPACE","\n    ",106],["T_CONST","const",107],["T_WHITESPACE"," ",107],["T_STRING","PRICE_SCOPE_GLOBAL",107],["T_WHITESPACE","              ",107],"=",["T_WHITESPACE"," ",107],["T_LNUMBER","0",107],";",["T_WHITESPACE","\n    ",107],["T_DOC_COMMENT","\/**\n     *\n     *\/",108],["T_WHITESPACE","\n    ",110],["T_CONST","const",111],["T_WHITESPACE"," ",111],["T_STRING","PRICE_SCOPE_WEBSITE",111],["T_WHITESPACE","             ",111],"=",["T_WHITESPACE"," ",111],["T_LNUMBER","1",111],";",["T_WHITESPACE","\n\n    ",111],["T_DOC_COMMENT","\/**\n     * Possible URL types\n     *\/",113],["T_WHITESPACE","\n    ",115],["T_CONST","const",116],["T_WHITESPACE"," ",116],["T_STRING","URL_TYPE_LINK",116],["T_WHITESPACE","                   ",116],"=",["T_WHITESPACE"," ",116],["T_CONSTANT_ENCAPSED_STRING","'link'",116],";",["T_WHITESPACE","\n    ",116],["T_DOC_COMMENT","\/**\n     *\n     *\/",117],["T_WHITESPACE","\n    ",119],["T_CONST","const",120],["T_WHITESPACE"," ",120],["T_STRING","URL_TYPE_DIRECT_LINK",120],["T_WHITESPACE","            ",120],"=",["T_WHITESPACE"," ",120],["T_CONSTANT_ENCAPSED_STRING","'direct_link'",120],";",["T_WHITESPACE","\n    ",120],["T_DOC_COMMENT","\/**\n     *\n     *\/",121],["T_WHITESPACE","\n    ",123],["T_CONST","const",124],["T_WHITESPACE"," ",124],["T_STRING","URL_TYPE_WEB",124],["T_WHITESPACE","                    ",124],"=",["T_WHITESPACE"," ",124],["T_CONSTANT_ENCAPSED_STRING","'web'",124],";",["T_WHITESPACE","\n    ",124],["T_DOC_COMMENT","\/**\n     *\n     *\/",125],["T_WHITESPACE","\n    ",127],["T_CONST","const",128],["T_WHITESPACE"," ",128],["T_STRING","URL_TYPE_SKIN",128],["T_WHITESPACE","                   ",128],"=",["T_WHITESPACE"," ",128],["T_CONSTANT_ENCAPSED_STRING","'skin'",128],";",["T_WHITESPACE","\n    ",128],["T_DOC_COMMENT","\/**\n     *\n     *\/",129],["T_WHITESPACE","\n    ",131],["T_CONST","const",132],["T_WHITESPACE"," ",132],["T_STRING","URL_TYPE_JS",132],["T_WHITESPACE","                     ",132],"=",["T_WHITESPACE"," ",132],["T_CONSTANT_ENCAPSED_STRING","'js'",132],";",["T_WHITESPACE","\n    ",132],["T_DOC_COMMENT","\/**\n     *\n     *\/",133],["T_WHITESPACE","\n    ",135],["T_CONST","const",136],["T_WHITESPACE"," ",136],["T_STRING","URL_TYPE_MEDIA",136],["T_WHITESPACE","                  ",136],"=",["T_WHITESPACE"," ",136],["T_CONSTANT_ENCAPSED_STRING","'media'",136],";",["T_WHITESPACE","\n\n    ",136],["T_DOC_COMMENT","\/**\n     * Code constants\n     *\/",138],["T_WHITESPACE","\n    ",140],["T_CONST","const",141],["T_WHITESPACE"," ",141],["T_STRING","DEFAULT_CODE",141],["T_WHITESPACE","                    ",141],"=",["T_WHITESPACE"," ",141],["T_CONSTANT_ENCAPSED_STRING","'default'",141],";",["T_WHITESPACE","\n    ",141],["T_DOC_COMMENT","\/**\n     *\n     *\/",142],["T_WHITESPACE","\n    ",144],["T_CONST","const",145],["T_WHITESPACE"," ",145],["T_STRING","ADMIN_CODE",145],["T_WHITESPACE","                      ",145],"=",["T_WHITESPACE"," ",145],["T_CONSTANT_ENCAPSED_STRING","'admin'",145],";",["T_WHITESPACE","\n\n    ",145],["T_DOC_COMMENT","\/**\n     * Cache tag\n     *\/",147],["T_WHITESPACE","\n    ",149],["T_CONST","const",150],["T_WHITESPACE"," ",150],["T_STRING","CACHE_TAG",150],["T_WHITESPACE","                       ",150],"=",["T_WHITESPACE"," ",150],["T_CONSTANT_ENCAPSED_STRING","'store'",150],";",["T_WHITESPACE","\n\n    ",150],["T_DOC_COMMENT","\/**\n     * Cookie name\n     *\/",152],["T_WHITESPACE","\n    ",154],["T_CONST","const",155],["T_WHITESPACE"," ",155],["T_STRING","COOKIE_NAME",155],["T_WHITESPACE","                     ",155],"=",["T_WHITESPACE"," ",155],["T_CONSTANT_ENCAPSED_STRING","'store'",155],";",["T_WHITESPACE","\n\n    ",155],["T_DOC_COMMENT","\/**\n     * Cookie currency key\n     *\/",157],["T_WHITESPACE","\n    ",159],["T_CONST","const",160],["T_WHITESPACE"," ",160],["T_STRING","COOKIE_CURRENCY",160],["T_WHITESPACE","                 ",160],"=",["T_WHITESPACE"," ",160],["T_CONSTANT_ENCAPSED_STRING","'currency'",160],";",["T_WHITESPACE","\n\n    ",160],["T_DOC_COMMENT","\/**\n     * Script name, which returns all the images\n     *\/",162],["T_WHITESPACE","\n    ",164],["T_CONST","const",165],["T_WHITESPACE"," ",165],["T_STRING","MEDIA_REWRITE_SCRIPT",165],["T_WHITESPACE","            ",165],"=",["T_WHITESPACE"," ",165],["T_CONSTANT_ENCAPSED_STRING","'get.php\/'",165],";",["T_WHITESPACE","\n\n    ",165],["T_DOC_COMMENT","\/**\n     * Cache flag\n     *\n     * @var boolean\n     *\/",167],["T_WHITESPACE","\n    ",171],["T_PROTECTED","protected",172],["T_WHITESPACE"," ",172],["T_VARIABLE","$_cacheTag",172],["T_WHITESPACE","    ",172],"=",["T_WHITESPACE"," ",172],["T_STRING","true",172],";",["T_WHITESPACE","\n\n    ",172],["T_DOC_COMMENT","\/**\n     * Event prefix for model events\n     *\n     * @var string\n     *\/",174],["T_WHITESPACE","\n    ",178],["T_PROTECTED","protected",179],["T_WHITESPACE"," ",179],["T_VARIABLE","$_eventPrefix",179],["T_WHITESPACE"," ",179],"=",["T_WHITESPACE"," ",179],["T_CONSTANT_ENCAPSED_STRING","'store'",179],";",["T_WHITESPACE","\n\n    ",179],["T_DOC_COMMENT","\/**\n     * Event object name\n     *\n     * @var string\n     *\/",181],["T_WHITESPACE","\n    ",185],["T_PROTECTED","protected",186],["T_WHITESPACE"," ",186],["T_VARIABLE","$_eventObject",186],["T_WHITESPACE"," ",186],"=",["T_WHITESPACE"," ",186],["T_CONSTANT_ENCAPSED_STRING","'store'",186],";",["T_WHITESPACE","\n\n    ",186],["T_DOC_COMMENT","\/**\n     * Price filter\n     *\n     * @var Mage_Directory_Model_Currency_Filter\n     *\/",188],["T_WHITESPACE","\n    ",192],["T_PROTECTED","protected",193],["T_WHITESPACE"," ",193],["T_VARIABLE","$_priceFilter",193],";",["T_WHITESPACE","\n\n    ",193],["T_DOC_COMMENT","\/**\n     * Website model\n     *\n     * @var Mage_Core_Model_Website\n     *\/",195],["T_WHITESPACE","\n    ",199],["T_PROTECTED","protected",200],["T_WHITESPACE"," ",200],["T_VARIABLE","$_website",200],";",["T_WHITESPACE","\n\n    ",200],["T_DOC_COMMENT","\/**\n     * Group model\n     *\n     * @var Mage_Core_Model_Store_Group\n     *\/",202],["T_WHITESPACE","\n    ",206],["T_PROTECTED","protected",207],["T_WHITESPACE"," ",207],["T_VARIABLE","$_group",207],";",["T_WHITESPACE","\n\n    ",207],["T_DOC_COMMENT","\/**\n     * Store configuration cache\n     *\n     * @var array|null\n     *\/",209],["T_WHITESPACE","\n    ",213],["T_PROTECTED","protected",214],["T_WHITESPACE"," ",214],["T_VARIABLE","$_configCache",214],["T_WHITESPACE"," ",214],"=",["T_WHITESPACE"," ",214],["T_STRING","null",214],";",["T_WHITESPACE","\n\n    ",214],["T_DOC_COMMENT","\/**\n     * Base nodes of store configuration cache\n     *\n     * @var array\n     *\/",216],["T_WHITESPACE","\n    ",220],["T_PROTECTED","protected",221],["T_WHITESPACE"," ",221],["T_VARIABLE","$_configCacheBaseNodes",221],["T_WHITESPACE"," ",221],"=",["T_WHITESPACE"," ",221],["T_ARRAY","array",221],"(",")",";",["T_WHITESPACE","\n\n    ",221],["T_DOC_COMMENT","\/**\n     * Directory cache\n     *\n     * @var array\n     *\/",223],["T_WHITESPACE","\n    ",227],["T_PROTECTED","protected",228],["T_WHITESPACE"," ",228],["T_VARIABLE","$_dirCache",228],["T_WHITESPACE"," ",228],"=",["T_WHITESPACE"," ",228],["T_ARRAY","array",228],"(",")",";",["T_WHITESPACE","\n\n    ",228],["T_DOC_COMMENT","\/**\n     * URL cache\n     *\n     * @var array\n     *\/",230],["T_WHITESPACE","\n    ",234],["T_PROTECTED","protected",235],["T_WHITESPACE"," ",235],["T_VARIABLE","$_urlCache",235],["T_WHITESPACE"," ",235],"=",["T_WHITESPACE"," ",235],["T_ARRAY","array",235],"(",")",";",["T_WHITESPACE","\n\n    ",235],["T_DOC_COMMENT","\/**\n     * Base URL cache\n     *\n     * @var array\n     *\/",237],["T_WHITESPACE","\n    ",241],["T_PROTECTED","protected",242],["T_WHITESPACE"," ",242],["T_VARIABLE","$_baseUrlCache",242],["T_WHITESPACE"," ",242],"=",["T_WHITESPACE"," ",242],["T_ARRAY","array",242],"(",")",";",["T_WHITESPACE","\n\n    ",242],["T_DOC_COMMENT","\/**\n     * Session entity\n     *\n     * @var Mage_Core_Model_Session_Abstract\n     *\/",244],["T_WHITESPACE","\n    ",248],["T_PROTECTED","protected",249],["T_WHITESPACE"," ",249],["T_VARIABLE","$_session",249],";",["T_WHITESPACE","\n\n    ",249],["T_DOC_COMMENT","\/**\n     * Flag that shows that backend URLs are secure\n     *\n     * @var boolean|null\n     *\/",251],["T_WHITESPACE","\n    ",255],["T_PROTECTED","protected",256],["T_WHITESPACE"," ",256],["T_VARIABLE","$_isAdminSecure",256],["T_WHITESPACE"," ",256],"=",["T_WHITESPACE"," ",256],["T_STRING","null",256],";",["T_WHITESPACE","\n\n    ",256],["T_DOC_COMMENT","\/**\n     * Flag that shows that frontend URLs are secure\n     *\n     * @var boolean|null\n     *\/",258],["T_WHITESPACE","\n    ",262],["T_PROTECTED","protected",263],["T_WHITESPACE"," ",263],["T_VARIABLE","$_isFrontSecure",263],["T_WHITESPACE"," ",263],"=",["T_WHITESPACE"," ",263],["T_STRING","null",263],";",["T_WHITESPACE","\n\n    ",263],["T_DOC_COMMENT","\/**\n     * Store frontend name\n     *\n     * @var string|null\n     *\/",265],["T_WHITESPACE","\n    ",269],["T_PROTECTED","protected",270],["T_WHITESPACE"," ",270],["T_VARIABLE","$_frontendName",270],["T_WHITESPACE"," ",270],"=",["T_WHITESPACE"," ",270],["T_STRING","null",270],";",["T_WHITESPACE","\n\n    ",270],["T_DOC_COMMENT","\/**\n     * Readonly flag\n     *\n     * @var bool\n     *\/",272],["T_WHITESPACE","\n    ",276],["T_PRIVATE","private",277],["T_WHITESPACE"," ",277],["T_VARIABLE","$_isReadOnly",277],["T_WHITESPACE"," ",277],"=",["T_WHITESPACE"," ",277],["T_STRING","false",277],";",["T_WHITESPACE","\n\n    ",277],["T_DOC_COMMENT","\/**\n     * Initialize object\n     *\/",279],["T_WHITESPACE","\n    ",281],["T_PROTECTED","protected",282],["T_WHITESPACE"," ",282],["T_FUNCTION","function",282],["T_WHITESPACE"," ",282],["T_STRING","_construct",282],"(",")",["T_WHITESPACE","\n    ",282],"{",["T_WHITESPACE","\n        ",283],["T_VARIABLE","$this",284],["T_OBJECT_OPERATOR","->",284],["T_STRING","_init",284],"(",["T_CONSTANT_ENCAPSED_STRING","'core\/store'",284],")",";",["T_WHITESPACE","\n        ",284],["T_VARIABLE","$this",285],["T_OBJECT_OPERATOR","->",285],["T_STRING","_configCacheBaseNodes",285],["T_WHITESPACE"," ",285],"=",["T_WHITESPACE"," ",285],["T_ARRAY","array",285],"(",["T_WHITESPACE","\n            ",285],["T_STRING","self",286],["T_DOUBLE_COLON","::",286],["T_STRING","XML_PATH_PRICE_SCOPE",286],",",["T_WHITESPACE","\n            ",286],["T_STRING","self",287],["T_DOUBLE_COLON","::",287],["T_STRING","XML_PATH_SECURE_BASE_URL",287],",",["T_WHITESPACE","\n            ",287],["T_STRING","self",288],["T_DOUBLE_COLON","::",288],["T_STRING","XML_PATH_SECURE_IN_ADMINHTML",288],",",["T_WHITESPACE","\n            ",288],["T_STRING","self",289],["T_DOUBLE_COLON","::",289],["T_STRING","XML_PATH_SECURE_IN_FRONTEND",289],",",["T_WHITESPACE","\n            ",289],["T_STRING","self",290],["T_DOUBLE_COLON","::",290],["T_STRING","XML_PATH_STORE_IN_URL",290],",",["T_WHITESPACE","\n            ",290],["T_STRING","self",291],["T_DOUBLE_COLON","::",291],["T_STRING","XML_PATH_UNSECURE_BASE_URL",291],",",["T_WHITESPACE","\n            ",291],["T_STRING","self",292],["T_DOUBLE_COLON","::",292],["T_STRING","XML_PATH_USE_REWRITES",292],",",["T_WHITESPACE","\n            ",292],["T_STRING","self",293],["T_DOUBLE_COLON","::",293],["T_STRING","XML_PATH_UNSECURE_BASE_LINK_URL",293],",",["T_WHITESPACE","\n            ",293],["T_STRING","self",294],["T_DOUBLE_COLON","::",294],["T_STRING","XML_PATH_SECURE_BASE_LINK_URL",294],",",["T_WHITESPACE","\n            ",294],["T_CONSTANT_ENCAPSED_STRING","'general\/locale\/code'",295],["T_WHITESPACE","\n        ",295],")",";",["T_WHITESPACE","\n    ",296],"}",["T_WHITESPACE","\n\n    ",297],["T_DOC_COMMENT","\/**\n     * Retrieve store session object\n     *\n     * @return Mage_Core_Model_Session_Abstract\n     *\/",299],["T_WHITESPACE","\n    ",303],["T_PROTECTED","protected",304],["T_WHITESPACE"," ",304],["T_FUNCTION","function",304],["T_WHITESPACE"," ",304],["T_STRING","_getSession",304],"(",")",["T_WHITESPACE","\n    ",304],"{",["T_WHITESPACE","\n        ",305],["T_IF","if",306],["T_WHITESPACE"," ",306],"(","!",["T_VARIABLE","$this",306],["T_OBJECT_OPERATOR","->",306],["T_STRING","_session",306],")",["T_WHITESPACE"," ",306],"{",["T_WHITESPACE","\n            ",306],["T_VARIABLE","$this",307],["T_OBJECT_OPERATOR","->",307],["T_STRING","_session",307],["T_WHITESPACE"," ",307],"=",["T_WHITESPACE"," ",307],["T_STRING","Mage",307],["T_DOUBLE_COLON","::",307],["T_STRING","getModel",307],"(",["T_CONSTANT_ENCAPSED_STRING","'core\/session'",307],")",["T_WHITESPACE","\n                ",307],["T_OBJECT_OPERATOR","->",308],["T_STRING","init",308],"(",["T_CONSTANT_ENCAPSED_STRING","'store_'",308],".",["T_VARIABLE","$this",308],["T_OBJECT_OPERATOR","->",308],["T_STRING","getCode",308],"(",")",")",";",["T_WHITESPACE","\n        ",308],"}",["T_WHITESPACE","\n        ",309],["T_RETURN","return",310],["T_WHITESPACE"," ",310],["T_VARIABLE","$this",310],["T_OBJECT_OPERATOR","->",310],["T_STRING","_session",310],";",["T_WHITESPACE","\n    ",310],"}",["T_WHITESPACE","\n\n    ",311],["T_DOC_COMMENT","\/**\n     * Loading store data\n     *\n     * @param   mixed $id\n     * @param   string $field\n     * @return  Mage_Core_Model_Store\n     *\/",313],["T_WHITESPACE","\n    ",319],["T_PUBLIC","public",320],["T_WHITESPACE"," ",320],["T_FUNCTION","function",320],["T_WHITESPACE"," ",320],["T_STRING","load",320],"(",["T_VARIABLE","$id",320],",",["T_WHITESPACE"," ",320],["T_VARIABLE","$field",320],["T_WHITESPACE"," ",320],"=",["T_WHITESPACE"," ",320],["T_STRING","null",320],")",["T_WHITESPACE","\n    ",320],"{",["T_WHITESPACE","\n        ",321],["T_IF","if",322],["T_WHITESPACE"," ",322],"(","!",["T_STRING","is_numeric",322],"(",["T_VARIABLE","$id",322],")",["T_WHITESPACE"," ",322],["T_BOOLEAN_AND","&&",322],["T_WHITESPACE"," ",322],["T_STRING","is_null",322],"(",["T_VARIABLE","$field",322],")",")",["T_WHITESPACE"," ",322],"{",["T_WHITESPACE","\n            ",322],["T_VARIABLE","$this",323],["T_OBJECT_OPERATOR","->",323],["T_STRING","_getResource",323],"(",")",["T_OBJECT_OPERATOR","->",323],["T_STRING","load",323],"(",["T_VARIABLE","$this",323],",",["T_WHITESPACE"," ",323],["T_VARIABLE","$id",323],",",["T_WHITESPACE"," ",323],["T_CONSTANT_ENCAPSED_STRING","'code'",323],")",";",["T_WHITESPACE","\n            ",323],["T_RETURN","return",324],["T_WHITESPACE"," ",324],["T_VARIABLE","$this",324],";",["T_WHITESPACE","\n        ",324],"}",["T_WHITESPACE","\n        ",325],["T_RETURN","return",326],["T_WHITESPACE"," ",326],["T_STRING","parent",326],["T_DOUBLE_COLON","::",326],["T_STRING","load",326],"(",["T_VARIABLE","$id",326],",",["T_WHITESPACE"," ",326],["T_VARIABLE","$field",326],")",";",["T_WHITESPACE","\n    ",326],"}",["T_WHITESPACE","\n\n    ",327],["T_DOC_COMMENT","\/**\n     * Loading store configuration data\n     *\n     * @param   string $code\n     * @return  Mage_Core_Model_Store\n     *\/",329],["T_WHITESPACE","\n    ",334],["T_PUBLIC","public",335],["T_WHITESPACE"," ",335],["T_FUNCTION","function",335],["T_WHITESPACE"," ",335],["T_STRING","loadConfig",335],"(",["T_VARIABLE","$code",335],")",["T_WHITESPACE","\n    ",335],"{",["T_WHITESPACE","\n        ",336],["T_IF","if",337],["T_WHITESPACE"," ",337],"(",["T_STRING","is_numeric",337],"(",["T_VARIABLE","$code",337],")",")",["T_WHITESPACE"," ",337],"{",["T_WHITESPACE","\n            ",337],["T_FOREACH","foreach",338],["T_WHITESPACE"," ",338],"(",["T_STRING","Mage",338],["T_DOUBLE_COLON","::",338],["T_STRING","getConfig",338],"(",")",["T_OBJECT_OPERATOR","->",338],["T_STRING","getNode",338],"(",")",["T_OBJECT_OPERATOR","->",338],["T_STRING","stores",338],["T_OBJECT_OPERATOR","->",338],["T_STRING","children",338],"(",")",["T_WHITESPACE"," ",338],["T_AS","as",338],["T_WHITESPACE"," ",338],["T_VARIABLE","$storeCode",338],["T_WHITESPACE"," ",338],["T_DOUBLE_ARROW","=>",338],["T_WHITESPACE"," ",338],["T_VARIABLE","$store",338],")",["T_WHITESPACE"," ",338],"{",["T_WHITESPACE","\n                ",338],["T_IF","if",339],["T_WHITESPACE"," ",339],"(",["T_INT_CAST","(int)",339],["T_WHITESPACE"," ",339],["T_VARIABLE","$store",339],["T_OBJECT_OPERATOR","->",339],["T_STRING","system",339],["T_OBJECT_OPERATOR","->",339],["T_STRING","store",339],["T_OBJECT_OPERATOR","->",339],["T_STRING","id",339],["T_WHITESPACE"," ",339],["T_IS_EQUAL","==",339],["T_WHITESPACE"," ",339],["T_VARIABLE","$code",339],")",["T_WHITESPACE"," ",339],"{",["T_WHITESPACE","\n                    ",339],["T_VARIABLE","$code",340],["T_WHITESPACE"," ",340],"=",["T_WHITESPACE"," ",340],["T_VARIABLE","$storeCode",340],";",["T_WHITESPACE","\n                    ",340],["T_BREAK","break",341],";",["T_WHITESPACE","\n                ",341],"}",["T_WHITESPACE","\n            ",342],"}",["T_WHITESPACE","\n        ",343],"}",["T_WHITESPACE"," ",344],["T_ELSE","else",344],["T_WHITESPACE"," ",344],"{",["T_WHITESPACE","\n            ",344],["T_VARIABLE","$store",345],["T_WHITESPACE"," ",345],"=",["T_WHITESPACE"," ",345],["T_STRING","Mage",345],["T_DOUBLE_COLON","::",345],["T_STRING","getConfig",345],"(",")",["T_OBJECT_OPERATOR","->",345],["T_STRING","getNode",345],"(",")",["T_OBJECT_OPERATOR","->",345],["T_STRING","stores",345],["T_OBJECT_OPERATOR","->",345],"{",["T_VARIABLE","$code",345],"}",";",["T_WHITESPACE","\n        ",345],"}",["T_WHITESPACE","\n        ",346],["T_IF","if",347],["T_WHITESPACE"," ",347],"(","!",["T_EMPTY","empty",347],"(",["T_VARIABLE","$store",347],")",")",["T_WHITESPACE"," ",347],"{",["T_WHITESPACE","\n            ",347],["T_VARIABLE","$this",348],["T_OBJECT_OPERATOR","->",348],["T_STRING","setCode",348],"(",["T_VARIABLE","$code",348],")",";",["T_WHITESPACE","\n            ",348],["T_VARIABLE","$id",349],["T_WHITESPACE"," ",349],"=",["T_WHITESPACE"," ",349],["T_INT_CAST","(int)",349],["T_WHITESPACE"," ",349],["T_VARIABLE","$store",349],["T_OBJECT_OPERATOR","->",349],["T_STRING","system",349],["T_OBJECT_OPERATOR","->",349],["T_STRING","store",349],["T_OBJECT_OPERATOR","->",349],["T_STRING","id",349],";",["T_WHITESPACE","\n            ",349],["T_VARIABLE","$this",350],["T_OBJECT_OPERATOR","->",350],["T_STRING","setId",350],"(",["T_VARIABLE","$id",350],")",["T_OBJECT_OPERATOR","->",350],["T_STRING","setStoreId",350],"(",["T_VARIABLE","$id",350],")",";",["T_WHITESPACE","\n            ",350],["T_VARIABLE","$this",351],["T_OBJECT_OPERATOR","->",351],["T_STRING","setWebsiteId",351],"(",["T_INT_CAST","(int)",351],["T_WHITESPACE"," ",351],["T_VARIABLE","$store",351],["T_OBJECT_OPERATOR","->",351],["T_STRING","system",351],["T_OBJECT_OPERATOR","->",351],["T_STRING","website",351],["T_OBJECT_OPERATOR","->",351],["T_STRING","id",351],")",";",["T_WHITESPACE","\n        ",351],"}",["T_WHITESPACE","\n        ",352],["T_RETURN","return",353],["T_WHITESPACE"," ",353],["T_VARIABLE","$this",353],";",["T_WHITESPACE","\n    ",353],"}",["T_WHITESPACE","\n\n    ",354],["T_DOC_COMMENT","\/**\n     * Retrieve Store code\n     *\n     * @return string\n     *\/",356],["T_WHITESPACE","\n    ",360],["T_PUBLIC","public",361],["T_WHITESPACE"," ",361],["T_FUNCTION","function",361],["T_WHITESPACE"," ",361],["T_STRING","getCode",361],"(",")",["T_WHITESPACE","\n    ",361],"{",["T_WHITESPACE","\n        ",362],["T_RETURN","return",363],["T_WHITESPACE"," ",363],["T_VARIABLE","$this",363],["T_OBJECT_OPERATOR","->",363],["T_STRING","_getData",363],"(",["T_CONSTANT_ENCAPSED_STRING","'code'",363],")",";",["T_WHITESPACE","\n    ",363],"}",["T_WHITESPACE","\n\n    ",364],["T_DOC_COMMENT","\/**\n     * Retrieve store configuration data\n     *\n     * @param   string $path\n     * @return  string|null\n     *\/",366],["T_WHITESPACE","\n    ",371],["T_PUBLIC","public",372],["T_WHITESPACE"," ",372],["T_FUNCTION","function",372],["T_WHITESPACE"," ",372],["T_STRING","getConfig",372],"(",["T_VARIABLE","$path",372],")",["T_WHITESPACE","\n    ",372],"{",["T_WHITESPACE","\n        ",373],["T_IF","if",374],["T_WHITESPACE"," ",374],"(",["T_ISSET","isset",374],"(",["T_VARIABLE","$this",374],["T_OBJECT_OPERATOR","->",374],["T_STRING","_configCache",374],"[",["T_VARIABLE","$path",374],"]",")",")",["T_WHITESPACE"," ",374],"{",["T_WHITESPACE","\n            ",374],["T_RETURN","return",375],["T_WHITESPACE"," ",375],["T_VARIABLE","$this",375],["T_OBJECT_OPERATOR","->",375],["T_STRING","_configCache",375],"[",["T_VARIABLE","$path",375],"]",";",["T_WHITESPACE","\n        ",375],"}",["T_WHITESPACE","\n\n        ",376],["T_VARIABLE","$config",378],["T_WHITESPACE"," ",378],"=",["T_WHITESPACE"," ",378],["T_STRING","Mage",378],["T_DOUBLE_COLON","::",378],["T_STRING","getConfig",378],"(",")",";",["T_WHITESPACE","\n\n        ",378],["T_VARIABLE","$fullPath",380],["T_WHITESPACE"," ",380],"=",["T_WHITESPACE"," ",380],["T_CONSTANT_ENCAPSED_STRING","'stores\/'",380],["T_WHITESPACE"," ",380],".",["T_WHITESPACE"," ",380],["T_VARIABLE","$this",380],["T_OBJECT_OPERATOR","->",380],["T_STRING","getCode",380],"(",")",["T_WHITESPACE"," ",380],".",["T_WHITESPACE"," ",380],["T_CONSTANT_ENCAPSED_STRING","'\/'",380],["T_WHITESPACE"," ",380],".",["T_WHITESPACE"," ",380],["T_VARIABLE","$path",380],";",["T_WHITESPACE","\n        ",380],["T_VARIABLE","$data",381],["T_WHITESPACE"," ",381],"=",["T_WHITESPACE"," ",381],["T_VARIABLE","$config",381],["T_OBJECT_OPERATOR","->",381],["T_STRING","getNode",381],"(",["T_VARIABLE","$fullPath",381],")",";",["T_WHITESPACE","\n        ",381],["T_IF","if",382],["T_WHITESPACE"," ",382],"(","!",["T_VARIABLE","$data",382],["T_WHITESPACE"," ",382],["T_BOOLEAN_AND","&&",382],["T_WHITESPACE"," ",382],"!",["T_STRING","Mage",382],["T_DOUBLE_COLON","::",382],["T_STRING","isInstalled",382],"(",")",")",["T_WHITESPACE"," ",382],"{",["T_WHITESPACE","\n            ",382],["T_VARIABLE","$data",383],["T_WHITESPACE"," ",383],"=",["T_WHITESPACE"," ",383],["T_VARIABLE","$config",383],["T_OBJECT_OPERATOR","->",383],["T_STRING","getNode",383],"(",["T_CONSTANT_ENCAPSED_STRING","'default\/'",383],["T_WHITESPACE"," ",383],".",["T_WHITESPACE"," ",383],["T_VARIABLE","$path",383],")",";",["T_WHITESPACE","\n        ",383],"}",["T_WHITESPACE","\n        ",384],["T_IF","if",385],["T_WHITESPACE"," ",385],"(","!",["T_VARIABLE","$data",385],")",["T_WHITESPACE"," ",385],"{",["T_WHITESPACE","\n            ",385],["T_RETURN","return",386],["T_WHITESPACE"," ",386],["T_STRING","null",386],";",["T_WHITESPACE","\n        ",386],"}",["T_WHITESPACE","\n        ",387],["T_RETURN","return",388],["T_WHITESPACE"," ",388],["T_VARIABLE","$this",388],["T_OBJECT_OPERATOR","->",388],["T_STRING","_processConfigValue",388],"(",["T_VARIABLE","$fullPath",388],",",["T_WHITESPACE"," ",388],["T_VARIABLE","$path",388],",",["T_WHITESPACE"," ",388],["T_VARIABLE","$data",388],")",";",["T_WHITESPACE","\n    ",388],"}",["T_WHITESPACE","\n\n    ",389],["T_DOC_COMMENT","\/**\n     * Initialize base store configuration data\n     *\n     * Method provide cache configuration data without loading store config XML\n     *\n     * @return Mage_Core_Model_Config\n     *\/",391],["T_WHITESPACE","\n    ",397],["T_PUBLIC","public",398],["T_WHITESPACE"," ",398],["T_FUNCTION","function",398],["T_WHITESPACE"," ",398],["T_STRING","initConfigCache",398],"(",")",["T_WHITESPACE","\n    ",398],"{",["T_WHITESPACE","\n        ",399],["T_DOC_COMMENT","\/**\n         * Funtionality related with config separation\n         *\/",400],["T_WHITESPACE","\n        ",402],["T_IF","if",403],["T_WHITESPACE"," ",403],"(",["T_VARIABLE","$this",403],["T_OBJECT_OPERATOR","->",403],["T_STRING","_configCache",403],["T_WHITESPACE"," ",403],["T_IS_IDENTICAL","===",403],["T_WHITESPACE"," ",403],["T_STRING","null",403],")",["T_WHITESPACE"," ",403],"{",["T_WHITESPACE","\n            ",403],["T_VARIABLE","$code",404],["T_WHITESPACE"," ",404],"=",["T_WHITESPACE"," ",404],["T_VARIABLE","$this",404],["T_OBJECT_OPERATOR","->",404],["T_STRING","getCode",404],"(",")",";",["T_WHITESPACE","\n            ",404],["T_IF","if",405],["T_WHITESPACE"," ",405],"(",["T_VARIABLE","$code",405],")",["T_WHITESPACE"," ",405],"{",["T_WHITESPACE","\n                ",405],["T_IF","if",406],["T_WHITESPACE"," ",406],"(",["T_STRING","Mage",406],["T_DOUBLE_COLON","::",406],["T_STRING","app",406],"(",")",["T_OBJECT_OPERATOR","->",406],["T_STRING","useCache",406],"(",["T_CONSTANT_ENCAPSED_STRING","'config'",406],")",")",["T_WHITESPACE"," ",406],"{",["T_WHITESPACE","\n                    ",406],["T_VARIABLE","$cacheId",407],["T_WHITESPACE"," ",407],"=",["T_WHITESPACE"," ",407],["T_CONSTANT_ENCAPSED_STRING","'store_'",407],["T_WHITESPACE"," ",407],".",["T_WHITESPACE"," ",407],["T_VARIABLE","$code",407],["T_WHITESPACE"," ",407],".",["T_WHITESPACE"," ",407],["T_CONSTANT_ENCAPSED_STRING","'_config_cache'",407],";",["T_WHITESPACE","\n                    ",407],["T_VARIABLE","$data",408],["T_WHITESPACE"," ",408],"=",["T_WHITESPACE"," ",408],["T_STRING","Mage",408],["T_DOUBLE_COLON","::",408],["T_STRING","app",408],"(",")",["T_OBJECT_OPERATOR","->",408],["T_STRING","loadCache",408],"(",["T_VARIABLE","$cacheId",408],")",";",["T_WHITESPACE","\n                    ",408],["T_IF","if",409],["T_WHITESPACE"," ",409],"(",["T_VARIABLE","$data",409],")",["T_WHITESPACE"," ",409],"{",["T_WHITESPACE","\n                        ",409],["T_VARIABLE","$data",410],["T_WHITESPACE"," ",410],"=",["T_WHITESPACE"," ",410],["T_STRING","unserialize",410],"(",["T_VARIABLE","$data",410],")",";",["T_WHITESPACE","\n                    ",410],"}",["T_WHITESPACE"," ",411],["T_ELSE","else",411],["T_WHITESPACE"," ",411],"{",["T_WHITESPACE","\n                        ",411],["T_VARIABLE","$data",412],["T_WHITESPACE"," ",412],"=",["T_WHITESPACE"," ",412],["T_ARRAY","array",412],"(",")",";",["T_WHITESPACE","\n                        ",412],["T_FOREACH","foreach",413],["T_WHITESPACE"," ",413],"(",["T_VARIABLE","$this",413],["T_OBJECT_OPERATOR","->",413],["T_STRING","_configCacheBaseNodes",413],["T_WHITESPACE"," ",413],["T_AS","as",413],["T_WHITESPACE"," ",413],["T_VARIABLE","$node",413],")",["T_WHITESPACE"," ",413],"{",["T_WHITESPACE","\n                            ",413],["T_VARIABLE","$data",414],"[",["T_VARIABLE","$node",414],"]",["T_WHITESPACE"," ",414],"=",["T_WHITESPACE"," ",414],["T_VARIABLE","$this",414],["T_OBJECT_OPERATOR","->",414],["T_STRING","getConfig",414],"(",["T_VARIABLE","$node",414],")",";",["T_WHITESPACE","\n                        ",414],"}",["T_WHITESPACE","\n                        ",415],["T_STRING","Mage",416],["T_DOUBLE_COLON","::",416],["T_STRING","app",416],"(",")",["T_OBJECT_OPERATOR","->",416],["T_STRING","saveCache",416],"(",["T_STRING","serialize",416],"(",["T_VARIABLE","$data",416],")",",",["T_WHITESPACE"," ",416],["T_VARIABLE","$cacheId",416],",",["T_WHITESPACE"," ",416],["T_ARRAY","array",416],"(",["T_WHITESPACE","\n                            ",416],["T_STRING","self",417],["T_DOUBLE_COLON","::",417],["T_STRING","CACHE_TAG",417],",",["T_WHITESPACE","\n                            ",417],["T_STRING","Mage_Core_Model_Config",418],["T_DOUBLE_COLON","::",418],["T_STRING","CACHE_TAG",418],["T_WHITESPACE","\n                        ",418],")",")",";",["T_WHITESPACE","\n                    ",419],"}",["T_WHITESPACE","\n                    ",420],["T_VARIABLE","$this",421],["T_OBJECT_OPERATOR","->",421],["T_STRING","_configCache",421],["T_WHITESPACE"," ",421],"=",["T_WHITESPACE"," ",421],["T_VARIABLE","$data",421],";",["T_WHITESPACE","\n                ",421],"}",["T_WHITESPACE","\n            ",422],"}",["T_WHITESPACE","\n        ",423],"}",["T_WHITESPACE","\n        ",424],["T_RETURN","return",425],["T_WHITESPACE"," ",425],["T_VARIABLE","$this",425],";",["T_WHITESPACE","\n    ",425],"}",["T_WHITESPACE","\n\n    ",426],["T_DOC_COMMENT","\/**\n     * Set config value for CURRENT model\n     *\n     * This value don't save in config\n     *\n     * @param string $path\n     * @param mixed $value\n     * @return Mage_Core_Model_Store\n     *\/",428],["T_WHITESPACE","\n    ",436],["T_PUBLIC","public",437],["T_WHITESPACE"," ",437],["T_FUNCTION","function",437],["T_WHITESPACE"," ",437],["T_STRING","setConfig",437],"(",["T_VARIABLE","$path",437],",",["T_WHITESPACE"," ",437],["T_VARIABLE","$value",437],")",["T_WHITESPACE","\n    ",437],"{",["T_WHITESPACE","\n        ",438],["T_IF","if",439],["T_WHITESPACE"," ",439],"(",["T_ISSET","isset",439],"(",["T_VARIABLE","$this",439],["T_OBJECT_OPERATOR","->",439],["T_STRING","_configCache",439],"[",["T_VARIABLE","$path",439],"]",")",")",["T_WHITESPACE"," ",439],"{",["T_WHITESPACE","\n            ",439],["T_VARIABLE","$this",440],["T_OBJECT_OPERATOR","->",440],["T_STRING","_configCache",440],"[",["T_VARIABLE","$path",440],"]",["T_WHITESPACE"," ",440],"=",["T_WHITESPACE"," ",440],["T_VARIABLE","$value",440],";",["T_WHITESPACE","\n        ",440],"}",["T_WHITESPACE","\n        ",441],["T_VARIABLE","$fullPath",442],["T_WHITESPACE"," ",442],"=",["T_WHITESPACE"," ",442],["T_CONSTANT_ENCAPSED_STRING","'stores\/'",442],["T_WHITESPACE"," ",442],".",["T_WHITESPACE"," ",442],["T_VARIABLE","$this",442],["T_OBJECT_OPERATOR","->",442],["T_STRING","getCode",442],"(",")",["T_WHITESPACE"," ",442],".",["T_WHITESPACE"," ",442],["T_CONSTANT_ENCAPSED_STRING","'\/'",442],["T_WHITESPACE"," ",442],".",["T_WHITESPACE"," ",442],["T_VARIABLE","$path",442],";",["T_WHITESPACE","\n        ",442],["T_STRING","Mage",443],["T_DOUBLE_COLON","::",443],["T_STRING","getConfig",443],"(",")",["T_OBJECT_OPERATOR","->",443],["T_STRING","setNode",443],"(",["T_VARIABLE","$fullPath",443],",",["T_WHITESPACE"," ",443],["T_VARIABLE","$value",443],")",";",["T_WHITESPACE","\n\n        ",443],["T_RETURN","return",445],["T_WHITESPACE"," ",445],["T_VARIABLE","$this",445],";",["T_WHITESPACE","\n    ",445],"}",["T_WHITESPACE","\n\n    ",446],["T_DOC_COMMENT","\/**\n     * Set website model\n     *\n     * @param Mage_Core_Model_Website $website\n     *\/",448],["T_WHITESPACE","\n    ",452],["T_PUBLIC","public",453],["T_WHITESPACE"," ",453],["T_FUNCTION","function",453],["T_WHITESPACE"," ",453],["T_STRING","setWebsite",453],"(",["T_STRING","Mage_Core_Model_Website",453],["T_WHITESPACE"," ",453],["T_VARIABLE","$website",453],")",["T_WHITESPACE","\n    ",453],"{",["T_WHITESPACE","\n        ",454],["T_VARIABLE","$this",455],["T_OBJECT_OPERATOR","->",455],["T_STRING","_website",455],["T_WHITESPACE"," ",455],"=",["T_WHITESPACE"," ",455],["T_VARIABLE","$website",455],";",["T_WHITESPACE","\n    ",455],"}",["T_WHITESPACE","\n\n    ",456],["T_DOC_COMMENT","\/**\n     * Retrieve store website\n     *\n     * @return Mage_Core_Model_Website\n     *\/",458],["T_WHITESPACE","\n    ",462],["T_PUBLIC","public",463],["T_WHITESPACE"," ",463],["T_FUNCTION","function",463],["T_WHITESPACE"," ",463],["T_STRING","getWebsite",463],"(",")",["T_WHITESPACE","\n    ",463],"{",["T_WHITESPACE","\n        ",464],["T_IF","if",465],["T_WHITESPACE"," ",465],"(",["T_STRING","is_null",465],"(",["T_VARIABLE","$this",465],["T_OBJECT_OPERATOR","->",465],["T_STRING","getWebsiteId",465],"(",")",")",")",["T_WHITESPACE"," ",465],"{",["T_WHITESPACE","\n            ",465],["T_RETURN","return",466],["T_WHITESPACE"," ",466],["T_STRING","false",466],";",["T_WHITESPACE","\n        ",466],"}",["T_WHITESPACE","\n        ",467],["T_IF","if",468],["T_WHITESPACE"," ",468],"(",["T_STRING","is_null",468],"(",["T_VARIABLE","$this",468],["T_OBJECT_OPERATOR","->",468],["T_STRING","_website",468],")",")",["T_WHITESPACE"," ",468],"{",["T_WHITESPACE","\n            ",468],["T_VARIABLE","$this",469],["T_OBJECT_OPERATOR","->",469],["T_STRING","_website",469],["T_WHITESPACE"," ",469],"=",["T_WHITESPACE"," ",469],["T_STRING","Mage",469],["T_DOUBLE_COLON","::",469],["T_STRING","app",469],"(",")",["T_OBJECT_OPERATOR","->",469],["T_STRING","getWebsite",469],"(",["T_VARIABLE","$this",469],["T_OBJECT_OPERATOR","->",469],["T_STRING","getWebsiteId",469],"(",")",")",";",["T_WHITESPACE","\n        ",469],"}",["T_WHITESPACE","\n        ",470],["T_RETURN","return",471],["T_WHITESPACE"," ",471],["T_VARIABLE","$this",471],["T_OBJECT_OPERATOR","->",471],["T_STRING","_website",471],";",["T_WHITESPACE","\n    ",471],"}",["T_WHITESPACE","\n\n    ",472],["T_DOC_COMMENT","\/**\n     * Process config value\n     *\n     * @param string $fullPath\n     * @param string $path\n     * @param Varien_Simplexml_Element $node\n     * @return string\n     *\/",474],["T_WHITESPACE","\n    ",481],["T_PROTECTED","protected",482],["T_WHITESPACE"," ",482],["T_FUNCTION","function",482],["T_WHITESPACE"," ",482],["T_STRING","_processConfigValue",482],"(",["T_VARIABLE","$fullPath",482],",",["T_WHITESPACE"," ",482],["T_VARIABLE","$path",482],",",["T_WHITESPACE"," ",482],["T_VARIABLE","$node",482],")",["T_WHITESPACE","\n    ",482],"{",["T_WHITESPACE","\n        ",483],["T_IF","if",484],["T_WHITESPACE"," ",484],"(",["T_ISSET","isset",484],"(",["T_VARIABLE","$this",484],["T_OBJECT_OPERATOR","->",484],["T_STRING","_configCache",484],"[",["T_VARIABLE","$path",484],"]",")",")",["T_WHITESPACE"," ",484],"{",["T_WHITESPACE","\n            ",484],["T_RETURN","return",485],["T_WHITESPACE"," ",485],["T_VARIABLE","$this",485],["T_OBJECT_OPERATOR","->",485],["T_STRING","_configCache",485],"[",["T_VARIABLE","$path",485],"]",";",["T_WHITESPACE","\n        ",485],"}",["T_WHITESPACE","\n\n        ",486],["T_IF","if",488],["T_WHITESPACE"," ",488],"(",["T_VARIABLE","$node",488],["T_OBJECT_OPERATOR","->",488],["T_STRING","hasChildren",488],"(",")",")",["T_WHITESPACE"," ",488],"{",["T_WHITESPACE","\n            ",488],["T_VARIABLE","$aValue",489],["T_WHITESPACE"," ",489],"=",["T_WHITESPACE"," ",489],["T_ARRAY","array",489],"(",")",";",["T_WHITESPACE","\n            ",489],["T_FOREACH","foreach",490],["T_WHITESPACE"," ",490],"(",["T_VARIABLE","$node",490],["T_OBJECT_OPERATOR","->",490],["T_STRING","children",490],"(",")",["T_WHITESPACE"," ",490],["T_AS","as",490],["T_WHITESPACE"," ",490],["T_VARIABLE","$k",490],["T_WHITESPACE"," ",490],["T_DOUBLE_ARROW","=>",490],["T_WHITESPACE"," ",490],["T_VARIABLE","$v",490],")",["T_WHITESPACE"," ",490],"{",["T_WHITESPACE","\n                ",490],["T_VARIABLE","$aValue",491],"[",["T_VARIABLE","$k",491],"]",["T_WHITESPACE"," ",491],"=",["T_WHITESPACE"," ",491],["T_VARIABLE","$this",491],["T_OBJECT_OPERATOR","->",491],["T_STRING","_processConfigValue",491],"(",["T_VARIABLE","$fullPath",491],["T_WHITESPACE"," ",491],".",["T_WHITESPACE"," ",491],["T_CONSTANT_ENCAPSED_STRING","'\/'",491],["T_WHITESPACE"," ",491],".",["T_WHITESPACE"," ",491],["T_VARIABLE","$k",491],",",["T_WHITESPACE"," ",491],["T_VARIABLE","$path",491],["T_WHITESPACE"," ",491],".",["T_WHITESPACE"," ",491],["T_CONSTANT_ENCAPSED_STRING","'\/'",491],["T_WHITESPACE"," ",491],".",["T_WHITESPACE"," ",491],["T_VARIABLE","$k",491],",",["T_WHITESPACE"," ",491],["T_VARIABLE","$v",491],")",";",["T_WHITESPACE","\n            ",491],"}",["T_WHITESPACE","\n            ",492],["T_VARIABLE","$this",493],["T_OBJECT_OPERATOR","->",493],["T_STRING","_configCache",493],"[",["T_VARIABLE","$path",493],"]",["T_WHITESPACE"," ",493],"=",["T_WHITESPACE"," ",493],["T_VARIABLE","$aValue",493],";",["T_WHITESPACE","\n            ",493],["T_RETURN","return",494],["T_WHITESPACE"," ",494],["T_VARIABLE","$aValue",494],";",["T_WHITESPACE","\n        ",494],"}",["T_WHITESPACE","\n\n        ",495],["T_VARIABLE","$sValue",497],["T_WHITESPACE"," ",497],"=",["T_WHITESPACE"," ",497],["T_STRING_CAST","(string)",497],["T_WHITESPACE"," ",497],["T_VARIABLE","$node",497],";",["T_WHITESPACE","\n        ",497],["T_IF","if",498],["T_WHITESPACE"," ",498],"(","!",["T_EMPTY","empty",498],"(",["T_VARIABLE","$node",498],"[",["T_CONSTANT_ENCAPSED_STRING","'backend_model'",498],"]",")",["T_WHITESPACE"," ",498],["T_BOOLEAN_AND","&&",498],["T_WHITESPACE"," ",498],"!",["T_EMPTY","empty",498],"(",["T_VARIABLE","$sValue",498],")",")",["T_WHITESPACE"," ",498],"{",["T_WHITESPACE","\n            ",498],["T_VARIABLE","$backend",499],["T_WHITESPACE"," ",499],"=",["T_WHITESPACE"," ",499],["T_STRING","Mage",499],["T_DOUBLE_COLON","::",499],["T_STRING","getModel",499],"(",["T_STRING_CAST","(string)",499],["T_WHITESPACE"," ",499],["T_VARIABLE","$node",499],"[",["T_CONSTANT_ENCAPSED_STRING","'backend_model'",499],"]",")",";",["T_WHITESPACE","\n            ",499],["T_VARIABLE","$backend",500],["T_OBJECT_OPERATOR","->",500],["T_STRING","setPath",500],"(",["T_VARIABLE","$path",500],")",["T_OBJECT_OPERATOR","->",500],["T_STRING","setValue",500],"(",["T_VARIABLE","$sValue",500],")",["T_OBJECT_OPERATOR","->",500],["T_STRING","afterLoad",500],"(",")",";",["T_WHITESPACE","\n            ",500],["T_VARIABLE","$sValue",501],["T_WHITESPACE"," ",501],"=",["T_WHITESPACE"," ",501],["T_VARIABLE","$backend",501],["T_OBJECT_OPERATOR","->",501],["T_STRING","getValue",501],"(",")",";",["T_WHITESPACE","\n        ",501],"}",["T_WHITESPACE","\n\n        ",502],["T_IF","if",504],["T_WHITESPACE"," ",504],"(",["T_STRING","is_string",504],"(",["T_VARIABLE","$sValue",504],")",["T_WHITESPACE"," ",504],["T_BOOLEAN_AND","&&",504],["T_WHITESPACE"," ",504],["T_STRING","strpos",504],"(",["T_VARIABLE","$sValue",504],",",["T_WHITESPACE"," ",504],["T_CONSTANT_ENCAPSED_STRING","'{{'",504],")",["T_WHITESPACE"," ",504],["T_IS_NOT_IDENTICAL","!==",504],["T_WHITESPACE"," ",504],["T_STRING","false",504],")",["T_WHITESPACE"," ",504],"{",["T_WHITESPACE","\n            ",504],["T_IF","if",505],["T_WHITESPACE"," ",505],"(",["T_STRING","strpos",505],"(",["T_VARIABLE","$sValue",505],",",["T_WHITESPACE"," ",505],["T_CONSTANT_ENCAPSED_STRING","'{{unsecure_base_url}}'",505],")",["T_WHITESPACE"," ",505],["T_IS_NOT_IDENTICAL","!==",505],["T_WHITESPACE"," ",505],["T_STRING","false",505],")",["T_WHITESPACE"," ",505],"{",["T_WHITESPACE","\n                ",505],["T_VARIABLE","$unsecureBaseUrl",506],["T_WHITESPACE"," ",506],"=",["T_WHITESPACE"," ",506],["T_VARIABLE","$this",506],["T_OBJECT_OPERATOR","->",506],["T_STRING","getConfig",506],"(",["T_STRING","self",506],["T_DOUBLE_COLON","::",506],["T_STRING","XML_PATH_UNSECURE_BASE_URL",506],")",";",["T_WHITESPACE","\n                ",506],["T_VARIABLE","$sValue",507],["T_WHITESPACE"," ",507],"=",["T_WHITESPACE"," ",507],["T_STRING","str_replace",507],"(",["T_CONSTANT_ENCAPSED_STRING","'{{unsecure_base_url}}'",507],",",["T_WHITESPACE"," ",507],["T_VARIABLE","$unsecureBaseUrl",507],",",["T_WHITESPACE"," ",507],["T_VARIABLE","$sValue",507],")",";",["T_WHITESPACE","\n            ",507],"}",["T_WHITESPACE"," ",508],["T_ELSEIF","elseif",508],["T_WHITESPACE"," ",508],"(",["T_STRING","strpos",508],"(",["T_VARIABLE","$sValue",508],",",["T_WHITESPACE"," ",508],["T_CONSTANT_ENCAPSED_STRING","'{{secure_base_url}}'",508],")",["T_WHITESPACE"," ",508],["T_IS_NOT_IDENTICAL","!==",508],["T_WHITESPACE"," ",508],["T_STRING","false",508],")",["T_WHITESPACE"," ",508],"{",["T_WHITESPACE","\n                ",508],["T_VARIABLE","$secureBaseUrl",509],["T_WHITESPACE"," ",509],"=",["T_WHITESPACE"," ",509],["T_VARIABLE","$this",509],["T_OBJECT_OPERATOR","->",509],["T_STRING","getConfig",509],"(",["T_STRING","self",509],["T_DOUBLE_COLON","::",509],["T_STRING","XML_PATH_SECURE_BASE_URL",509],")",";",["T_WHITESPACE","\n                ",509],["T_VARIABLE","$sValue",510],["T_WHITESPACE"," ",510],"=",["T_WHITESPACE"," ",510],["T_STRING","str_replace",510],"(",["T_CONSTANT_ENCAPSED_STRING","'{{secure_base_url}}'",510],",",["T_WHITESPACE"," ",510],["T_VARIABLE","$secureBaseUrl",510],",",["T_WHITESPACE"," ",510],["T_VARIABLE","$sValue",510],")",";",["T_WHITESPACE","\n            ",510],"}",["T_WHITESPACE"," ",511],["T_ELSEIF","elseif",511],["T_WHITESPACE"," ",511],"(",["T_STRING","strpos",511],"(",["T_VARIABLE","$sValue",511],",",["T_WHITESPACE"," ",511],["T_CONSTANT_ENCAPSED_STRING","'{{base_url}}'",511],")",["T_WHITESPACE"," ",511],["T_IS_NOT_IDENTICAL","!==",511],["T_WHITESPACE"," ",511],["T_STRING","false",511],")",["T_WHITESPACE"," ",511],"{",["T_WHITESPACE","\n                ",511],["T_VARIABLE","$sValue",512],["T_WHITESPACE"," ",512],"=",["T_WHITESPACE"," ",512],["T_STRING","Mage",512],["T_DOUBLE_COLON","::",512],["T_STRING","getConfig",512],"(",")",["T_OBJECT_OPERATOR","->",512],["T_STRING","substDistroServerVars",512],"(",["T_VARIABLE","$sValue",512],")",";",["T_WHITESPACE","\n            ",512],"}",["T_WHITESPACE","\n        ",513],"}",["T_WHITESPACE","\n\n        ",514],["T_VARIABLE","$this",516],["T_OBJECT_OPERATOR","->",516],["T_STRING","_configCache",516],"[",["T_VARIABLE","$path",516],"]",["T_WHITESPACE"," ",516],"=",["T_WHITESPACE"," ",516],["T_VARIABLE","$sValue",516],";",["T_WHITESPACE","\n\n        ",516],["T_RETURN","return",518],["T_WHITESPACE"," ",518],["T_VARIABLE","$sValue",518],";",["T_WHITESPACE","\n    ",518],"}",["T_WHITESPACE","\n\n    ",519],["T_DOC_COMMENT","\/**\n     * Convert config values for url pathes\n     *\n     * @deprecated after 1.4.2.0\n     * @param string $value\n     * @return string\n     *\/",521],["T_WHITESPACE","\n    ",527],["T_PUBLIC","public",528],["T_WHITESPACE"," ",528],["T_FUNCTION","function",528],["T_WHITESPACE"," ",528],["T_STRING","processSubst",528],"(",["T_VARIABLE","$value",528],")",["T_WHITESPACE","\n    ",528],"{",["T_WHITESPACE","\n        ",529],["T_IF","if",530],["T_WHITESPACE"," ",530],"(","!",["T_STRING","is_string",530],"(",["T_VARIABLE","$value",530],")",")",["T_WHITESPACE"," ",530],"{",["T_WHITESPACE","\n            ",530],["T_RETURN","return",531],["T_WHITESPACE"," ",531],["T_VARIABLE","$value",531],";",["T_WHITESPACE","\n        ",531],"}",["T_WHITESPACE","\n\n        ",532],["T_IF","if",534],["T_WHITESPACE"," ",534],"(",["T_STRING","strpos",534],"(",["T_VARIABLE","$value",534],",",["T_WHITESPACE"," ",534],["T_CONSTANT_ENCAPSED_STRING","'{{unsecure_base_url}}'",534],")",["T_WHITESPACE"," ",534],["T_IS_NOT_IDENTICAL","!==",534],["T_WHITESPACE"," ",534],["T_STRING","false",534],")",["T_WHITESPACE"," ",534],"{",["T_WHITESPACE","\n            ",534],["T_VARIABLE","$unsecureBaseUrl",535],["T_WHITESPACE"," ",535],"=",["T_WHITESPACE"," ",535],["T_VARIABLE","$this",535],["T_OBJECT_OPERATOR","->",535],["T_STRING","getConfig",535],"(",["T_STRING","self",535],["T_DOUBLE_COLON","::",535],["T_STRING","XML_PATH_UNSECURE_BASE_URL",535],")",";",["T_WHITESPACE","\n            ",535],["T_VARIABLE","$value",536],["T_WHITESPACE"," ",536],"=",["T_WHITESPACE"," ",536],["T_STRING","str_replace",536],"(",["T_CONSTANT_ENCAPSED_STRING","'{{unsecure_base_url}}'",536],",",["T_WHITESPACE"," ",536],["T_VARIABLE","$unsecureBaseUrl",536],",",["T_WHITESPACE"," ",536],["T_VARIABLE","$value",536],")",";",["T_WHITESPACE","\n\n        ",536],"}",["T_WHITESPACE"," ",538],["T_ELSEIF","elseif",538],["T_WHITESPACE"," ",538],"(",["T_STRING","strpos",538],"(",["T_VARIABLE","$value",538],",",["T_WHITESPACE"," ",538],["T_CONSTANT_ENCAPSED_STRING","'{{secure_base_url}}'",538],")",["T_WHITESPACE"," ",538],["T_IS_NOT_IDENTICAL","!==",538],["T_WHITESPACE"," ",538],["T_STRING","false",538],")",["T_WHITESPACE"," ",538],"{",["T_WHITESPACE","\n            ",538],["T_VARIABLE","$secureBaseUrl",539],["T_WHITESPACE"," ",539],"=",["T_WHITESPACE"," ",539],["T_VARIABLE","$this",539],["T_OBJECT_OPERATOR","->",539],["T_STRING","getConfig",539],"(",["T_STRING","self",539],["T_DOUBLE_COLON","::",539],["T_STRING","XML_PATH_SECURE_BASE_URL",539],")",";",["T_WHITESPACE","\n            ",539],["T_VARIABLE","$value",540],["T_WHITESPACE"," ",540],"=",["T_WHITESPACE"," ",540],["T_STRING","str_replace",540],"(",["T_CONSTANT_ENCAPSED_STRING","'{{secure_base_url}}'",540],",",["T_WHITESPACE"," ",540],["T_VARIABLE","$secureBaseUrl",540],",",["T_WHITESPACE"," ",540],["T_VARIABLE","$value",540],")",";",["T_WHITESPACE","\n        ",540],"}",["T_WHITESPACE"," ",541],["T_ELSEIF","elseif",541],["T_WHITESPACE"," ",541],"(",["T_STRING","strpos",541],"(",["T_VARIABLE","$value",541],",",["T_WHITESPACE"," ",541],["T_CONSTANT_ENCAPSED_STRING","'{{'",541],")",["T_WHITESPACE"," ",541],["T_IS_NOT_IDENTICAL","!==",541],["T_WHITESPACE"," ",541],["T_STRING","false",541],["T_WHITESPACE"," ",541],["T_BOOLEAN_AND","&&",541],["T_WHITESPACE"," ",541],["T_STRING","strpos",541],"(",["T_VARIABLE","$value",541],",",["T_WHITESPACE"," ",541],["T_CONSTANT_ENCAPSED_STRING","'{{base_url}}'",541],")",["T_WHITESPACE"," ",541],["T_IS_IDENTICAL","===",541],["T_WHITESPACE"," ",541],["T_STRING","false",541],")",["T_WHITESPACE"," ",541],"{",["T_WHITESPACE","\n            ",541],["T_VARIABLE","$value",542],["T_WHITESPACE"," ",542],"=",["T_WHITESPACE"," ",542],["T_STRING","Mage",542],["T_DOUBLE_COLON","::",542],["T_STRING","getConfig",542],"(",")",["T_OBJECT_OPERATOR","->",542],["T_STRING","substDistroServerVars",542],"(",["T_VARIABLE","$value",542],")",";",["T_WHITESPACE","\n        ",542],"}",["T_WHITESPACE","\n        ",543],["T_RETURN","return",544],["T_WHITESPACE"," ",544],["T_VARIABLE","$value",544],";",["T_WHITESPACE","\n    ",544],"}",["T_WHITESPACE","\n\n    ",545],["T_DOC_COMMENT","\/**\n     * Retrieve default base path\n     *\n     * @return string\n     *\/",547],["T_WHITESPACE","\n    ",551],["T_PUBLIC","public",552],["T_WHITESPACE"," ",552],["T_FUNCTION","function",552],["T_WHITESPACE"," ",552],["T_STRING","getDefaultBasePath",552],"(",")",["T_WHITESPACE","\n    ",552],"{",["T_WHITESPACE","\n        ",553],["T_IF","if",554],["T_WHITESPACE"," ",554],"(","!",["T_ISSET","isset",554],"(",["T_VARIABLE","$_SERVER",554],"[",["T_CONSTANT_ENCAPSED_STRING","'SCRIPT_NAME'",554],"]",")",")",["T_WHITESPACE"," ",554],"{",["T_WHITESPACE","\n            ",554],["T_RETURN","return",555],["T_WHITESPACE"," ",555],["T_CONSTANT_ENCAPSED_STRING","'\/'",555],";",["T_WHITESPACE","\n        ",555],"}",["T_WHITESPACE","\n        ",556],["T_RETURN","return",557],["T_WHITESPACE"," ",557],["T_STRING","rtrim",557],"(",["T_STRING","Mage",557],["T_DOUBLE_COLON","::",557],["T_STRING","app",557],"(",")",["T_OBJECT_OPERATOR","->",557],["T_STRING","getRequest",557],"(",")",["T_OBJECT_OPERATOR","->",557],["T_STRING","getBasePath",557],"(",")",["T_WHITESPACE"," ",557],".",["T_WHITESPACE"," ",557],["T_CONSTANT_ENCAPSED_STRING","'\/'",557],")",["T_WHITESPACE"," ",557],".",["T_WHITESPACE"," ",557],["T_CONSTANT_ENCAPSED_STRING","'\/'",557],";",["T_WHITESPACE","\n    ",557],"}",["T_WHITESPACE","\n\n    ",558],["T_DOC_COMMENT","\/**\n     * Retrieve url using store configuration specific\n     *\n     * @param   string $route\n     * @param   array $params\n     * @return  string\n     *\/",560],["T_WHITESPACE","\n    ",566],["T_PUBLIC","public",567],["T_WHITESPACE"," ",567],["T_FUNCTION","function",567],["T_WHITESPACE"," ",567],["T_STRING","getUrl",567],"(",["T_VARIABLE","$route",567],["T_WHITESPACE"," ",567],"=",["T_WHITESPACE"," ",567],["T_CONSTANT_ENCAPSED_STRING","''",567],",",["T_WHITESPACE"," ",567],["T_VARIABLE","$params",567],["T_WHITESPACE"," ",567],"=",["T_WHITESPACE"," ",567],["T_ARRAY","array",567],"(",")",")",["T_WHITESPACE","\n    ",567],"{",["T_WHITESPACE","\n        ",568],["T_DOC_COMMENT","\/** @var $url Mage_Core_Model_Url *\/",569],["T_WHITESPACE","\n        ",569],["T_VARIABLE","$url",570],["T_WHITESPACE"," ",570],"=",["T_WHITESPACE"," ",570],["T_STRING","Mage",570],["T_DOUBLE_COLON","::",570],["T_STRING","getModel",570],"(",["T_CONSTANT_ENCAPSED_STRING","'core\/url'",570],")",["T_WHITESPACE","\n            ",570],["T_OBJECT_OPERATOR","->",571],["T_STRING","setStore",571],"(",["T_VARIABLE","$this",571],")",";",["T_WHITESPACE","\n        ",571],["T_IF","if",572],["T_WHITESPACE"," ",572],"(",["T_STRING","Mage",572],["T_DOUBLE_COLON","::",572],["T_STRING","app",572],"(",")",["T_OBJECT_OPERATOR","->",572],["T_STRING","getStore",572],"(",")",["T_OBJECT_OPERATOR","->",572],["T_STRING","getId",572],"(",")",["T_WHITESPACE"," ",572],["T_IS_NOT_EQUAL","!=",572],["T_WHITESPACE"," ",572],["T_VARIABLE","$this",572],["T_OBJECT_OPERATOR","->",572],["T_STRING","getId",572],"(",")",")",["T_WHITESPACE"," ",572],"{",["T_WHITESPACE","\n            ",572],["T_VARIABLE","$params",573],"[",["T_CONSTANT_ENCAPSED_STRING","'_store_to_url'",573],"]",["T_WHITESPACE"," ",573],"=",["T_WHITESPACE"," ",573],["T_STRING","true",573],";",["T_WHITESPACE","\n        ",573],"}",["T_WHITESPACE","\n\n        ",574],["T_RETURN","return",576],["T_WHITESPACE"," ",576],["T_VARIABLE","$url",576],["T_OBJECT_OPERATOR","->",576],["T_STRING","getUrl",576],"(",["T_VARIABLE","$route",576],",",["T_WHITESPACE"," ",576],["T_VARIABLE","$params",576],")",";",["T_WHITESPACE","\n    ",576],"}",["T_WHITESPACE","\n\n    ",577],["T_DOC_COMMENT","\/**\n     * Retrieve base URL\n     *\n     * @param string $type\n     * @param boolean|null $secure\n     * @return string\n     *\/",579],["T_WHITESPACE","\n    ",585],["T_PUBLIC","public",586],["T_WHITESPACE"," ",586],["T_FUNCTION","function",586],["T_WHITESPACE"," ",586],["T_STRING","getBaseUrl",586],"(",["T_VARIABLE","$type",586],["T_WHITESPACE"," ",586],"=",["T_WHITESPACE"," ",586],["T_STRING","self",586],["T_DOUBLE_COLON","::",586],["T_STRING","URL_TYPE_LINK",586],",",["T_WHITESPACE"," ",586],["T_VARIABLE","$secure",586],["T_WHITESPACE"," ",586],"=",["T_WHITESPACE"," ",586],["T_STRING","null",586],")",["T_WHITESPACE","\n    ",586],"{",["T_WHITESPACE","\n        ",587],["T_VARIABLE","$cacheKey",588],["T_WHITESPACE"," ",588],"=",["T_WHITESPACE"," ",588],["T_VARIABLE","$type",588],["T_WHITESPACE"," ",588],".",["T_WHITESPACE"," ",588],["T_CONSTANT_ENCAPSED_STRING","'\/'",588],["T_WHITESPACE"," ",588],".",["T_WHITESPACE"," ",588],"(",["T_STRING","is_null",588],"(",["T_VARIABLE","$secure",588],")",["T_WHITESPACE"," ",588],"?",["T_WHITESPACE"," ",588],["T_CONSTANT_ENCAPSED_STRING","'null'",588],["T_WHITESPACE"," ",588],":",["T_WHITESPACE"," ",588],"(",["T_VARIABLE","$secure",588],["T_WHITESPACE"," ",588],"?",["T_WHITESPACE"," ",588],["T_CONSTANT_ENCAPSED_STRING","'true'",588],["T_WHITESPACE"," ",588],":",["T_WHITESPACE"," ",588],["T_CONSTANT_ENCAPSED_STRING","'false'",588],")",")",";",["T_WHITESPACE","\n        ",588],["T_IF","if",589],["T_WHITESPACE"," ",589],"(","!",["T_ISSET","isset",589],"(",["T_VARIABLE","$this",589],["T_OBJECT_OPERATOR","->",589],["T_STRING","_baseUrlCache",589],"[",["T_VARIABLE","$cacheKey",589],"]",")",")",["T_WHITESPACE"," ",589],"{",["T_WHITESPACE","\n            ",589],["T_SWITCH","switch",590],["T_WHITESPACE"," ",590],"(",["T_VARIABLE","$type",590],")",["T_WHITESPACE"," ",590],"{",["T_WHITESPACE","\n                ",590],["T_CASE","case",591],["T_WHITESPACE"," ",591],["T_STRING","self",591],["T_DOUBLE_COLON","::",591],["T_STRING","URL_TYPE_WEB",591],":",["T_WHITESPACE","\n                    ",591],["T_VARIABLE","$secure",592],["T_WHITESPACE"," ",592],"=",["T_WHITESPACE"," ",592],["T_STRING","is_null",592],"(",["T_VARIABLE","$secure",592],")",["T_WHITESPACE"," ",592],"?",["T_WHITESPACE"," ",592],["T_VARIABLE","$this",592],["T_OBJECT_OPERATOR","->",592],["T_STRING","isCurrentlySecure",592],"(",")",["T_WHITESPACE"," ",592],":",["T_WHITESPACE"," ",592],["T_BOOL_CAST","(bool)",592],["T_VARIABLE","$secure",592],";",["T_WHITESPACE","\n                    ",592],["T_VARIABLE","$url",593],["T_WHITESPACE"," ",593],"=",["T_WHITESPACE"," ",593],["T_VARIABLE","$this",593],["T_OBJECT_OPERATOR","->",593],["T_STRING","getConfig",593],"(",["T_CONSTANT_ENCAPSED_STRING","'web\/'",593],["T_WHITESPACE"," ",593],".",["T_WHITESPACE"," ",593],"(",["T_VARIABLE","$secure",593],["T_WHITESPACE"," ",593],"?",["T_WHITESPACE"," ",593],["T_CONSTANT_ENCAPSED_STRING","'secure'",593],["T_WHITESPACE"," ",593],":",["T_WHITESPACE"," ",593],["T_CONSTANT_ENCAPSED_STRING","'unsecure'",593],")",["T_WHITESPACE"," ",593],".",["T_WHITESPACE"," ",593],["T_CONSTANT_ENCAPSED_STRING","'\/base_url'",593],")",";",["T_WHITESPACE","\n                    ",593],["T_BREAK","break",594],";",["T_WHITESPACE","\n\n                ",594],["T_CASE","case",596],["T_WHITESPACE"," ",596],["T_STRING","self",596],["T_DOUBLE_COLON","::",596],["T_STRING","URL_TYPE_LINK",596],":",["T_WHITESPACE","\n                    ",596],["T_VARIABLE","$secure",597],["T_WHITESPACE"," ",597],"=",["T_WHITESPACE"," ",597],["T_BOOL_CAST","(bool)",597],["T_WHITESPACE"," ",597],["T_VARIABLE","$secure",597],";",["T_WHITESPACE","\n                    ",597],["T_VARIABLE","$url",598],["T_WHITESPACE"," ",598],"=",["T_WHITESPACE"," ",598],["T_VARIABLE","$this",598],["T_OBJECT_OPERATOR","->",598],["T_STRING","getConfig",598],"(",["T_CONSTANT_ENCAPSED_STRING","'web\/'",598],["T_WHITESPACE"," ",598],".",["T_WHITESPACE"," ",598],"(",["T_VARIABLE","$secure",598],["T_WHITESPACE"," ",598],"?",["T_WHITESPACE"," ",598],["T_CONSTANT_ENCAPSED_STRING","'secure'",598],["T_WHITESPACE"," ",598],":",["T_WHITESPACE"," ",598],["T_CONSTANT_ENCAPSED_STRING","'unsecure'",598],")",["T_WHITESPACE"," ",598],".",["T_WHITESPACE"," ",598],["T_CONSTANT_ENCAPSED_STRING","'\/base_link_url'",598],")",";",["T_WHITESPACE","\n                    ",598],["T_VARIABLE","$url",599],["T_WHITESPACE"," ",599],"=",["T_WHITESPACE"," ",599],["T_VARIABLE","$this",599],["T_OBJECT_OPERATOR","->",599],["T_STRING","_updatePathUseRewrites",599],"(",["T_VARIABLE","$url",599],")",";",["T_WHITESPACE","\n                    ",599],["T_VARIABLE","$url",600],["T_WHITESPACE"," ",600],"=",["T_WHITESPACE"," ",600],["T_VARIABLE","$this",600],["T_OBJECT_OPERATOR","->",600],["T_STRING","_updatePathUseStoreView",600],"(",["T_VARIABLE","$url",600],")",";",["T_WHITESPACE","\n                    ",600],["T_BREAK","break",601],";",["T_WHITESPACE","\n\n                ",601],["T_CASE","case",603],["T_WHITESPACE"," ",603],["T_STRING","self",603],["T_DOUBLE_COLON","::",603],["T_STRING","URL_TYPE_DIRECT_LINK",603],":",["T_WHITESPACE","\n                    ",603],["T_VARIABLE","$secure",604],["T_WHITESPACE"," ",604],"=",["T_WHITESPACE"," ",604],["T_BOOL_CAST","(bool)",604],["T_WHITESPACE"," ",604],["T_VARIABLE","$secure",604],";",["T_WHITESPACE","\n                    ",604],["T_VARIABLE","$url",605],["T_WHITESPACE"," ",605],"=",["T_WHITESPACE"," ",605],["T_VARIABLE","$this",605],["T_OBJECT_OPERATOR","->",605],["T_STRING","getConfig",605],"(",["T_CONSTANT_ENCAPSED_STRING","'web\/'",605],["T_WHITESPACE"," ",605],".",["T_WHITESPACE"," ",605],"(",["T_VARIABLE","$secure",605],["T_WHITESPACE"," ",605],"?",["T_WHITESPACE"," ",605],["T_CONSTANT_ENCAPSED_STRING","'secure'",605],["T_WHITESPACE"," ",605],":",["T_WHITESPACE"," ",605],["T_CONSTANT_ENCAPSED_STRING","'unsecure'",605],")",["T_WHITESPACE"," ",605],".",["T_WHITESPACE"," ",605],["T_CONSTANT_ENCAPSED_STRING","'\/base_link_url'",605],")",";",["T_WHITESPACE","\n                    ",605],["T_VARIABLE","$url",606],["T_WHITESPACE"," ",606],"=",["T_WHITESPACE"," ",606],["T_VARIABLE","$this",606],["T_OBJECT_OPERATOR","->",606],["T_STRING","_updatePathUseRewrites",606],"(",["T_VARIABLE","$url",606],")",";",["T_WHITESPACE","\n                    ",606],["T_BREAK","break",607],";",["T_WHITESPACE","\n\n                ",607],["T_CASE","case",609],["T_WHITESPACE"," ",609],["T_STRING","self",609],["T_DOUBLE_COLON","::",609],["T_STRING","URL_TYPE_SKIN",609],":",["T_WHITESPACE","\n                ",609],["T_CASE","case",610],["T_WHITESPACE"," ",610],["T_STRING","self",610],["T_DOUBLE_COLON","::",610],["T_STRING","URL_TYPE_JS",610],":",["T_WHITESPACE","\n                    ",610],["T_VARIABLE","$secure",611],["T_WHITESPACE"," ",611],"=",["T_WHITESPACE"," ",611],["T_STRING","is_null",611],"(",["T_VARIABLE","$secure",611],")",["T_WHITESPACE"," ",611],"?",["T_WHITESPACE"," ",611],["T_VARIABLE","$this",611],["T_OBJECT_OPERATOR","->",611],["T_STRING","isCurrentlySecure",611],"(",")",["T_WHITESPACE"," ",611],":",["T_WHITESPACE"," ",611],["T_BOOL_CAST","(bool)",611],["T_WHITESPACE"," ",611],["T_VARIABLE","$secure",611],";",["T_WHITESPACE","\n                    ",611],["T_VARIABLE","$url",612],["T_WHITESPACE"," ",612],"=",["T_WHITESPACE"," ",612],["T_VARIABLE","$this",612],["T_OBJECT_OPERATOR","->",612],["T_STRING","getConfig",612],"(",["T_CONSTANT_ENCAPSED_STRING","'web\/'",612],["T_WHITESPACE"," ",612],".",["T_WHITESPACE"," ",612],"(",["T_VARIABLE","$secure",612],["T_WHITESPACE"," ",612],"?",["T_WHITESPACE"," ",612],["T_CONSTANT_ENCAPSED_STRING","'secure'",612],["T_WHITESPACE"," ",612],":",["T_WHITESPACE"," ",612],["T_CONSTANT_ENCAPSED_STRING","'unsecure'",612],")",["T_WHITESPACE"," ",612],".",["T_WHITESPACE"," ",612],["T_CONSTANT_ENCAPSED_STRING","'\/base_'",612],["T_WHITESPACE"," ",612],".",["T_WHITESPACE"," ",612],["T_VARIABLE","$type",612],["T_WHITESPACE"," ",612],".",["T_WHITESPACE"," ",612],["T_CONSTANT_ENCAPSED_STRING","'_url'",612],")",";",["T_WHITESPACE","\n                    ",612],["T_BREAK","break",613],";",["T_WHITESPACE","\n\n                ",613],["T_CASE","case",615],["T_WHITESPACE"," ",615],["T_STRING","self",615],["T_DOUBLE_COLON","::",615],["T_STRING","URL_TYPE_MEDIA",615],":",["T_WHITESPACE","\n                    ",615],["T_VARIABLE","$url",616],["T_WHITESPACE"," ",616],"=",["T_WHITESPACE"," ",616],["T_VARIABLE","$this",616],["T_OBJECT_OPERATOR","->",616],["T_STRING","_updateMediaPathUseRewrites",616],"(",["T_VARIABLE","$secure",616],")",";",["T_WHITESPACE","\n                    ",616],["T_BREAK","break",617],";",["T_WHITESPACE","\n\n                ",617],["T_DEFAULT","default",619],":",["T_WHITESPACE","\n                    ",619],["T_THROW","throw",620],["T_WHITESPACE"," ",620],["T_STRING","Mage",620],["T_DOUBLE_COLON","::",620],["T_STRING","exception",620],"(",["T_CONSTANT_ENCAPSED_STRING","'Mage_Core'",620],",",["T_WHITESPACE"," ",620],["T_STRING","Mage",620],["T_DOUBLE_COLON","::",620],["T_STRING","helper",620],"(",["T_CONSTANT_ENCAPSED_STRING","'core'",620],")",["T_OBJECT_OPERATOR","->",620],["T_STRING","__",620],"(",["T_CONSTANT_ENCAPSED_STRING","'Invalid base url type'",620],")",")",";",["T_WHITESPACE","\n            ",620],"}",["T_WHITESPACE","\n\n            ",621],["T_IF","if",623],["T_WHITESPACE"," ",623],"(",["T_STRING","false",623],["T_WHITESPACE"," ",623],["T_IS_NOT_IDENTICAL","!==",623],["T_WHITESPACE"," ",623],["T_STRING","strpos",623],"(",["T_VARIABLE","$url",623],",",["T_WHITESPACE"," ",623],["T_CONSTANT_ENCAPSED_STRING","'{{base_url}}'",623],")",")",["T_WHITESPACE"," ",623],"{",["T_WHITESPACE","\n                ",623],["T_VARIABLE","$baseUrl",624],["T_WHITESPACE"," ",624],"=",["T_WHITESPACE"," ",624],["T_STRING","Mage",624],["T_DOUBLE_COLON","::",624],["T_STRING","getConfig",624],"(",")",["T_OBJECT_OPERATOR","->",624],["T_STRING","substDistroServerVars",624],"(",["T_CONSTANT_ENCAPSED_STRING","'{{base_url}}'",624],")",";",["T_WHITESPACE","\n                ",624],["T_VARIABLE","$url",625],["T_WHITESPACE"," ",625],"=",["T_WHITESPACE"," ",625],["T_STRING","str_replace",625],"(",["T_CONSTANT_ENCAPSED_STRING","'{{base_url}}'",625],",",["T_WHITESPACE"," ",625],["T_VARIABLE","$baseUrl",625],",",["T_WHITESPACE"," ",625],["T_VARIABLE","$url",625],")",";",["T_WHITESPACE","\n            ",625],"}",["T_WHITESPACE","\n\n            ",626],["T_VARIABLE","$this",628],["T_OBJECT_OPERATOR","->",628],["T_STRING","_baseUrlCache",628],"[",["T_VARIABLE","$cacheKey",628],"]",["T_WHITESPACE"," ",628],"=",["T_WHITESPACE"," ",628],["T_STRING","rtrim",628],"(",["T_VARIABLE","$url",628],",",["T_WHITESPACE"," ",628],["T_CONSTANT_ENCAPSED_STRING","'\/'",628],")",["T_WHITESPACE"," ",628],".",["T_WHITESPACE"," ",628],["T_CONSTANT_ENCAPSED_STRING","'\/'",628],";",["T_WHITESPACE","\n        ",628],"}",["T_WHITESPACE","\n\n        ",629],["T_RETURN","return",631],["T_WHITESPACE"," ",631],["T_VARIABLE","$this",631],["T_OBJECT_OPERATOR","->",631],["T_STRING","_baseUrlCache",631],"[",["T_VARIABLE","$cacheKey",631],"]",";",["T_WHITESPACE","\n    ",631],"}",["T_WHITESPACE","\n\n    ",632],["T_DOC_COMMENT","\/**\n     * Remove script file name from url in case when server rewrites are enabled\n     *\n     * @param   string $url\n     * @return  string\n     *\/",634],["T_WHITESPACE","\n    ",639],["T_PROTECTED","protected",640],["T_WHITESPACE"," ",640],["T_FUNCTION","function",640],["T_WHITESPACE"," ",640],["T_STRING","_updatePathUseRewrites",640],"(",["T_VARIABLE","$url",640],")",["T_WHITESPACE","\n    ",640],"{",["T_WHITESPACE","\n        ",641],["T_IF","if",642],["T_WHITESPACE"," ",642],"(",["T_VARIABLE","$this",642],["T_OBJECT_OPERATOR","->",642],["T_STRING","isAdmin",642],"(",")",["T_WHITESPACE"," ",642],["T_BOOLEAN_OR","||",642],["T_WHITESPACE"," ",642],"!",["T_VARIABLE","$this",642],["T_OBJECT_OPERATOR","->",642],["T_STRING","getConfig",642],"(",["T_STRING","self",642],["T_DOUBLE_COLON","::",642],["T_STRING","XML_PATH_USE_REWRITES",642],")",["T_WHITESPACE"," ",642],["T_BOOLEAN_OR","||",642],["T_WHITESPACE"," ",642],"!",["T_STRING","Mage",642],["T_DOUBLE_COLON","::",642],["T_STRING","isInstalled",642],"(",")",")",["T_WHITESPACE"," ",642],"{",["T_WHITESPACE","\n            ",642],["T_VARIABLE","$indexFileName",643],["T_WHITESPACE"," ",643],"=",["T_WHITESPACE"," ",643],["T_VARIABLE","$this",643],["T_OBJECT_OPERATOR","->",643],["T_STRING","_isCustomEntryPoint",643],"(",")",["T_WHITESPACE"," ",643],"?",["T_WHITESPACE"," ",643],["T_CONSTANT_ENCAPSED_STRING","'index.php'",643],["T_WHITESPACE"," ",643],":",["T_WHITESPACE"," ",643],["T_STRING","basename",643],"(",["T_VARIABLE","$_SERVER",643],"[",["T_CONSTANT_ENCAPSED_STRING","'SCRIPT_FILENAME'",643],"]",")",";",["T_WHITESPACE","\n            ",643],["T_VARIABLE","$url",644],["T_WHITESPACE"," ",644],["T_CONCAT_EQUAL",".=",644],["T_WHITESPACE"," ",644],["T_VARIABLE","$indexFileName",644],["T_WHITESPACE"," ",644],".",["T_WHITESPACE"," ",644],["T_CONSTANT_ENCAPSED_STRING","'\/'",644],";",["T_WHITESPACE","\n        ",644],"}",["T_WHITESPACE","\n        ",645],["T_RETURN","return",646],["T_WHITESPACE"," ",646],["T_VARIABLE","$url",646],";",["T_WHITESPACE","\n    ",646],"}",["T_WHITESPACE","\n\n    ",647],["T_DOC_COMMENT","\/**\n     * Check if used entry point is custom\n     *\n     * @return bool\n     *\/",649],["T_WHITESPACE","\n    ",653],["T_PROTECTED","protected",654],["T_WHITESPACE"," ",654],["T_FUNCTION","function",654],["T_WHITESPACE"," ",654],["T_STRING","_isCustomEntryPoint",654],"(",")",["T_WHITESPACE","\n    ",654],"{",["T_WHITESPACE","\n        ",655],["T_RETURN","return",656],["T_WHITESPACE"," ",656],["T_BOOL_CAST","(bool)",656],["T_STRING","Mage",656],["T_DOUBLE_COLON","::",656],["T_STRING","registry",656],"(",["T_CONSTANT_ENCAPSED_STRING","'custom_entry_point'",656],")",";",["T_WHITESPACE","\n    ",656],"}",["T_WHITESPACE","\n\n    ",657],["T_DOC_COMMENT","\/**\n     * Retrieve URL for media catalog\n     *\n     * If we use Database file storage and server doesn't support rewrites (.htaccess in media folder)\n     * we have to put name of fetching media script exactly into URL\n     *\n     * @param null|boolean $secure\n     * @param string $type\n     * @return string\n     *\/",659],["T_WHITESPACE","\n    ",668],["T_PROTECTED","protected",669],["T_WHITESPACE"," ",669],["T_FUNCTION","function",669],["T_WHITESPACE"," ",669],["T_STRING","_updateMediaPathUseRewrites",669],"(",["T_VARIABLE","$secure",669],["T_WHITESPACE"," ",669],"=",["T_WHITESPACE"," ",669],["T_STRING","null",669],",",["T_WHITESPACE"," ",669],["T_VARIABLE","$type",669],["T_WHITESPACE"," ",669],"=",["T_WHITESPACE"," ",669],["T_STRING","self",669],["T_DOUBLE_COLON","::",669],["T_STRING","URL_TYPE_MEDIA",669],")",["T_WHITESPACE","\n    ",669],"{",["T_WHITESPACE","\n        ",670],["T_VARIABLE","$secure",671],["T_WHITESPACE"," ",671],"=",["T_WHITESPACE"," ",671],["T_STRING","is_null",671],"(",["T_VARIABLE","$secure",671],")",["T_WHITESPACE"," ",671],"?",["T_WHITESPACE"," ",671],["T_VARIABLE","$this",671],["T_OBJECT_OPERATOR","->",671],["T_STRING","isCurrentlySecure",671],"(",")",["T_WHITESPACE"," ",671],":",["T_WHITESPACE"," ",671],["T_BOOL_CAST","(bool)",671],["T_WHITESPACE"," ",671],["T_VARIABLE","$secure",671],";",["T_WHITESPACE","\n        ",671],["T_VARIABLE","$secureStringFlag",672],["T_WHITESPACE"," ",672],"=",["T_WHITESPACE"," ",672],["T_VARIABLE","$secure",672],["T_WHITESPACE"," ",672],"?",["T_WHITESPACE"," ",672],["T_CONSTANT_ENCAPSED_STRING","'secure'",672],["T_WHITESPACE"," ",672],":",["T_WHITESPACE"," ",672],["T_CONSTANT_ENCAPSED_STRING","'unsecure'",672],";",["T_WHITESPACE","\n        ",672],["T_VARIABLE","$url",673],["T_WHITESPACE"," ",673],"=",["T_WHITESPACE"," ",673],["T_VARIABLE","$this",673],["T_OBJECT_OPERATOR","->",673],["T_STRING","getConfig",673],"(",["T_CONSTANT_ENCAPSED_STRING","'web\/'",673],["T_WHITESPACE"," ",673],".",["T_WHITESPACE"," ",673],["T_VARIABLE","$secureStringFlag",673],["T_WHITESPACE"," ",673],".",["T_WHITESPACE"," ",673],["T_CONSTANT_ENCAPSED_STRING","'\/base_'",673],["T_WHITESPACE"," ",673],".",["T_WHITESPACE"," ",673],["T_VARIABLE","$type",673],["T_WHITESPACE"," ",673],".",["T_WHITESPACE"," ",673],["T_CONSTANT_ENCAPSED_STRING","'_url'",673],")",";",["T_WHITESPACE","\n        ",673],["T_IF","if",674],["T_WHITESPACE"," ",674],"(","!",["T_VARIABLE","$this",674],["T_OBJECT_OPERATOR","->",674],["T_STRING","getConfig",674],"(",["T_STRING","self",674],["T_DOUBLE_COLON","::",674],["T_STRING","XML_PATH_USE_REWRITES",674],")",["T_WHITESPACE","\n            ",674],["T_BOOLEAN_AND","&&",675],["T_WHITESPACE"," ",675],["T_STRING","Mage",675],["T_DOUBLE_COLON","::",675],["T_STRING","helper",675],"(",["T_CONSTANT_ENCAPSED_STRING","'core\/file_storage_database'",675],")",["T_OBJECT_OPERATOR","->",675],["T_STRING","checkDbUsage",675],"(",")",["T_WHITESPACE","\n        ",675],")",["T_WHITESPACE"," ",676],"{",["T_WHITESPACE","\n            ",676],["T_VARIABLE","$urlStart",677],["T_WHITESPACE"," ",677],"=",["T_WHITESPACE"," ",677],["T_VARIABLE","$this",677],["T_OBJECT_OPERATOR","->",677],["T_STRING","getConfig",677],"(",["T_CONSTANT_ENCAPSED_STRING","'web\/'",677],["T_WHITESPACE"," ",677],".",["T_WHITESPACE"," ",677],["T_VARIABLE","$secureStringFlag",677],["T_WHITESPACE"," ",677],".",["T_WHITESPACE"," ",677],["T_CONSTANT_ENCAPSED_STRING","'\/base_url'",677],")",";",["T_WHITESPACE","\n            ",677],["T_VARIABLE","$url",678],["T_WHITESPACE"," ",678],"=",["T_WHITESPACE"," ",678],["T_STRING","str_replace",678],"(",["T_VARIABLE","$urlStart",678],",",["T_WHITESPACE"," ",678],["T_VARIABLE","$urlStart",678],["T_WHITESPACE"," ",678],".",["T_WHITESPACE"," ",678],["T_STRING","self",678],["T_DOUBLE_COLON","::",678],["T_STRING","MEDIA_REWRITE_SCRIPT",678],",",["T_WHITESPACE"," ",678],["T_VARIABLE","$url",678],")",";",["T_WHITESPACE","\n        ",678],"}",["T_WHITESPACE","\n        ",679],["T_RETURN","return",680],["T_WHITESPACE"," ",680],["T_VARIABLE","$url",680],";",["T_WHITESPACE","\n    ",680],"}",["T_WHITESPACE","\n\n    ",681],["T_DOC_COMMENT","\/**\n     * Add store code to url in case if it is enabled in configuration\n     *\n     * @param   string $url\n     * @return  string\n     *\/",683],["T_WHITESPACE","\n    ",688],["T_PROTECTED","protected",689],["T_WHITESPACE"," ",689],["T_FUNCTION","function",689],["T_WHITESPACE"," ",689],["T_STRING","_updatePathUseStoreView",689],"(",["T_VARIABLE","$url",689],")",["T_WHITESPACE","\n    ",689],"{",["T_WHITESPACE","\n        ",690],["T_IF","if",691],["T_WHITESPACE"," ",691],"(",["T_VARIABLE","$this",691],["T_OBJECT_OPERATOR","->",691],["T_STRING","getStoreInUrl",691],"(",")",")",["T_WHITESPACE"," ",691],"{",["T_WHITESPACE","\n            ",691],["T_VARIABLE","$url",692],["T_WHITESPACE"," ",692],["T_CONCAT_EQUAL",".=",692],["T_WHITESPACE"," ",692],["T_VARIABLE","$this",692],["T_OBJECT_OPERATOR","->",692],["T_STRING","getCode",692],"(",")",["T_WHITESPACE"," ",692],".",["T_WHITESPACE"," ",692],["T_CONSTANT_ENCAPSED_STRING","'\/'",692],";",["T_WHITESPACE","\n        ",692],"}",["T_WHITESPACE","\n        ",693],["T_RETURN","return",694],["T_WHITESPACE"," ",694],["T_VARIABLE","$url",694],";",["T_WHITESPACE","\n    ",694],"}",["T_WHITESPACE","\n\n    ",695],["T_DOC_COMMENT","\/**\n     * Returns whether url forming scheme prepends url path with store view code\n     *\n     * @return bool\n     *\/",697],["T_WHITESPACE","\n    ",701],["T_PUBLIC","public",702],["T_WHITESPACE"," ",702],["T_FUNCTION","function",702],["T_WHITESPACE"," ",702],["T_STRING","getStoreInUrl",702],"(",")",["T_WHITESPACE","\n    ",702],"{",["T_WHITESPACE","\n        ",703],["T_RETURN","return",704],["T_WHITESPACE"," ",704],["T_STRING","Mage",704],["T_DOUBLE_COLON","::",704],["T_STRING","isInstalled",704],"(",")",["T_WHITESPACE"," ",704],["T_BOOLEAN_AND","&&",704],["T_WHITESPACE"," ",704],["T_VARIABLE","$this",704],["T_OBJECT_OPERATOR","->",704],["T_STRING","getConfig",704],"(",["T_STRING","self",704],["T_DOUBLE_COLON","::",704],["T_STRING","XML_PATH_STORE_IN_URL",704],")",";",["T_WHITESPACE","\n    ",704],"}",["T_WHITESPACE","\n\n    ",705],["T_DOC_COMMENT","\/**\n     * Get store identifier\n     *\n     * @return  int\n     *\/",707],["T_WHITESPACE","\n    ",711],["T_PUBLIC","public",712],["T_WHITESPACE"," ",712],["T_FUNCTION","function",712],["T_WHITESPACE"," ",712],["T_STRING","getId",712],"(",")",["T_WHITESPACE","\n    ",712],"{",["T_WHITESPACE","\n        ",713],["T_RETURN","return",714],["T_WHITESPACE"," ",714],["T_VARIABLE","$this",714],["T_OBJECT_OPERATOR","->",714],["T_STRING","_getData",714],"(",["T_CONSTANT_ENCAPSED_STRING","'store_id'",714],")",";",["T_WHITESPACE","\n    ",714],"}",["T_WHITESPACE","\n\n    ",715],["T_DOC_COMMENT","\/**\n     * Check if store is admin store\n     *\n     * @return unknown\n     *\/",717],["T_WHITESPACE","\n    ",721],["T_PUBLIC","public",722],["T_WHITESPACE"," ",722],["T_FUNCTION","function",722],["T_WHITESPACE"," ",722],["T_STRING","isAdmin",722],"(",")",["T_WHITESPACE","\n    ",722],"{",["T_WHITESPACE","\n        ",723],["T_RETURN","return",724],["T_WHITESPACE"," ",724],["T_VARIABLE","$this",724],["T_OBJECT_OPERATOR","->",724],["T_STRING","getId",724],"(",")",["T_WHITESPACE"," ",724],["T_IS_EQUAL","==",724],["T_WHITESPACE"," ",724],["T_STRING","Mage_Core_Model_App",724],["T_DOUBLE_COLON","::",724],["T_STRING","ADMIN_STORE_ID",724],";",["T_WHITESPACE","\n    ",724],"}",["T_WHITESPACE","\n\n\n    ",725],["T_DOC_COMMENT","\/**\n     * Check if backend URLs should be secure\n     *\n     * @return boolean\n     *\/",728],["T_WHITESPACE","\n    ",732],["T_PUBLIC","public",733],["T_WHITESPACE"," ",733],["T_FUNCTION","function",733],["T_WHITESPACE"," ",733],["T_STRING","isAdminUrlSecure",733],"(",")",["T_WHITESPACE","\n    ",733],"{",["T_WHITESPACE","\n        ",734],["T_IF","if",735],["T_WHITESPACE"," ",735],"(",["T_VARIABLE","$this",735],["T_OBJECT_OPERATOR","->",735],["T_STRING","_isAdminSecure",735],["T_WHITESPACE"," ",735],["T_IS_IDENTICAL","===",735],["T_WHITESPACE"," ",735],["T_STRING","null",735],")",["T_WHITESPACE"," ",735],"{",["T_WHITESPACE","\n            ",735],["T_VARIABLE","$this",736],["T_OBJECT_OPERATOR","->",736],["T_STRING","_isAdminSecure",736],["T_WHITESPACE"," ",736],"=",["T_WHITESPACE"," ",736],["T_BOOL_CAST","(boolean)",736],["T_WHITESPACE"," ",736],["T_INT_CAST","(int)",736],["T_WHITESPACE"," ",736],["T_STRING_CAST","(string)",736],["T_WHITESPACE"," ",736],["T_STRING","Mage",736],["T_DOUBLE_COLON","::",736],["T_STRING","getConfig",736],"(",")",["T_WHITESPACE","\n                ",736],["T_OBJECT_OPERATOR","->",737],["T_STRING","getNode",737],"(",["T_STRING","Mage_Core_Model_Url",737],["T_DOUBLE_COLON","::",737],["T_STRING","XML_PATH_SECURE_IN_ADMIN",737],")",";",["T_WHITESPACE","\n        ",737],"}",["T_WHITESPACE","\n        ",738],["T_RETURN","return",739],["T_WHITESPACE"," ",739],["T_VARIABLE","$this",739],["T_OBJECT_OPERATOR","->",739],["T_STRING","_isAdminSecure",739],";",["T_WHITESPACE","\n    ",739],"}",["T_WHITESPACE","\n\n    ",740],["T_DOC_COMMENT","\/**\n     * Check if frontend URLs should be secure\n     *\n     * @return boolean\n     *\/",742],["T_WHITESPACE","\n    ",746],["T_PUBLIC","public",747],["T_WHITESPACE"," ",747],["T_FUNCTION","function",747],["T_WHITESPACE"," ",747],["T_STRING","isFrontUrlSecure",747],"(",")",["T_WHITESPACE","\n    ",747],"{",["T_WHITESPACE","\n        ",748],["T_IF","if",749],["T_WHITESPACE"," ",749],"(",["T_VARIABLE","$this",749],["T_OBJECT_OPERATOR","->",749],["T_STRING","_isFrontSecure",749],["T_WHITESPACE"," ",749],["T_IS_IDENTICAL","===",749],["T_WHITESPACE"," ",749],["T_STRING","null",749],")",["T_WHITESPACE"," ",749],"{",["T_WHITESPACE","\n            ",749],["T_VARIABLE","$this",750],["T_OBJECT_OPERATOR","->",750],["T_STRING","_isFrontSecure",750],["T_WHITESPACE"," ",750],"=",["T_WHITESPACE"," ",750],["T_STRING","Mage",750],["T_DOUBLE_COLON","::",750],["T_STRING","getStoreConfigFlag",750],"(",["T_STRING","Mage_Core_Model_Url",750],["T_DOUBLE_COLON","::",750],["T_STRING","XML_PATH_SECURE_IN_FRONT",750],",",["T_WHITESPACE","\n                ",750],["T_VARIABLE","$this",751],["T_OBJECT_OPERATOR","->",751],["T_STRING","getId",751],"(",")",")",";",["T_WHITESPACE","\n        ",751],"}",["T_WHITESPACE","\n        ",752],["T_RETURN","return",753],["T_WHITESPACE"," ",753],["T_VARIABLE","$this",753],["T_OBJECT_OPERATOR","->",753],["T_STRING","_isFrontSecure",753],";",["T_WHITESPACE","\n    ",753],"}",["T_WHITESPACE","\n\n    ",754],["T_DOC_COMMENT","\/**\n     * Check if request was secure\n     *\n     * @return boolean\n     *\/",756],["T_WHITESPACE","\n    ",760],["T_PUBLIC","public",761],["T_WHITESPACE"," ",761],["T_FUNCTION","function",761],["T_WHITESPACE"," ",761],["T_STRING","isCurrentlySecure",761],"(",")",["T_WHITESPACE","\n    ",761],"{",["T_WHITESPACE","\n        ",762],["T_VARIABLE","$standardRule",763],["T_WHITESPACE"," ",763],"=",["T_WHITESPACE"," ",763],"!",["T_EMPTY","empty",763],"(",["T_VARIABLE","$_SERVER",763],"[",["T_CONSTANT_ENCAPSED_STRING","'HTTPS'",763],"]",")",["T_WHITESPACE"," ",763],["T_BOOLEAN_AND","&&",763],["T_WHITESPACE"," ",763],"(",["T_CONSTANT_ENCAPSED_STRING","'off'",763],["T_WHITESPACE"," ",763],["T_IS_NOT_EQUAL","!=",763],["T_WHITESPACE"," ",763],["T_VARIABLE","$_SERVER",763],"[",["T_CONSTANT_ENCAPSED_STRING","'HTTPS'",763],"]",")",";",["T_WHITESPACE","\n        ",763],["T_VARIABLE","$offloaderHeader",764],["T_WHITESPACE"," ",764],"=",["T_WHITESPACE"," ",764],["T_STRING","trim",764],"(",["T_STRING_CAST","(string)",764],["T_WHITESPACE"," ",764],["T_STRING","Mage",764],["T_DOUBLE_COLON","::",764],["T_STRING","getConfig",764],"(",")",["T_OBJECT_OPERATOR","->",764],["T_STRING","getNode",764],"(",["T_STRING","self",764],["T_DOUBLE_COLON","::",764],["T_STRING","XML_PATH_OFFLOADER_HEADER",764],",",["T_WHITESPACE"," ",764],["T_CONSTANT_ENCAPSED_STRING","'default'",764],")",")",";",["T_WHITESPACE","\n\n        ",764],["T_IF","if",766],["T_WHITESPACE"," ",766],"(","(","!",["T_EMPTY","empty",766],"(",["T_VARIABLE","$offloaderHeader",766],")",["T_WHITESPACE"," ",766],["T_BOOLEAN_AND","&&",766],["T_WHITESPACE"," ",766],"!",["T_EMPTY","empty",766],"(",["T_VARIABLE","$_SERVER",766],"[",["T_VARIABLE","$offloaderHeader",766],"]",")",")",["T_WHITESPACE"," ",766],["T_BOOLEAN_OR","||",766],["T_WHITESPACE"," ",766],["T_VARIABLE","$standardRule",766],")",["T_WHITESPACE"," ",766],"{",["T_WHITESPACE","\n            ",766],["T_RETURN","return",767],["T_WHITESPACE"," ",767],["T_STRING","true",767],";",["T_WHITESPACE","\n        ",767],"}",["T_WHITESPACE","\n\n        ",768],["T_IF","if",770],["T_WHITESPACE"," ",770],"(",["T_STRING","Mage",770],["T_DOUBLE_COLON","::",770],["T_STRING","isInstalled",770],"(",")",")",["T_WHITESPACE"," ",770],"{",["T_WHITESPACE","\n            ",770],["T_VARIABLE","$secureBaseUrl",771],["T_WHITESPACE"," ",771],"=",["T_WHITESPACE"," ",771],["T_STRING","Mage",771],["T_DOUBLE_COLON","::",771],["T_STRING","getStoreConfig",771],"(",["T_STRING","Mage_Core_Model_Url",771],["T_DOUBLE_COLON","::",771],["T_STRING","XML_PATH_SECURE_URL",771],")",";",["T_WHITESPACE","\n\n            ",771],["T_IF","if",773],["T_WHITESPACE"," ",773],"(","!",["T_VARIABLE","$secureBaseUrl",773],")",["T_WHITESPACE"," ",773],"{",["T_WHITESPACE","\n                ",773],["T_RETURN","return",774],["T_WHITESPACE"," ",774],["T_STRING","false",774],";",["T_WHITESPACE","\n            ",774],"}",["T_WHITESPACE","\n            ",775],["T_VARIABLE","$urlParts",776],["T_WHITESPACE"," ",776],"=",["T_WHITESPACE"," ",776],["T_STRING","parse_url",776],"(",["T_VARIABLE","$secureBaseUrl",776],")",";",["T_WHITESPACE","\n            ",776],["T_VARIABLE","$scheme",777],["T_WHITESPACE","   ",777],"=",["T_WHITESPACE"," ",777],["T_ISSET","isset",777],"(",["T_VARIABLE","$urlParts",777],"[",["T_CONSTANT_ENCAPSED_STRING","'scheme'",777],"]",")",["T_WHITESPACE"," ",777],"?",["T_WHITESPACE"," ",777],["T_CONSTANT_ENCAPSED_STRING","':'",777],["T_WHITESPACE"," ",777],".",["T_WHITESPACE"," ",777],["T_VARIABLE","$urlParts",777],"[",["T_CONSTANT_ENCAPSED_STRING","'scheme'",777],"]",["T_WHITESPACE"," ",777],":",["T_WHITESPACE"," ",777],["T_CONSTANT_ENCAPSED_STRING","''",777],";",["T_WHITESPACE","\n            ",777],["T_VARIABLE","$port",778],["T_WHITESPACE","     ",778],"=",["T_WHITESPACE"," ",778],["T_ISSET","isset",778],"(",["T_VARIABLE","$urlParts",778],"[",["T_CONSTANT_ENCAPSED_STRING","'port'",778],"]",")",["T_WHITESPACE"," ",778],"?",["T_WHITESPACE"," ",778],["T_CONSTANT_ENCAPSED_STRING","':'",778],["T_WHITESPACE"," ",778],".",["T_WHITESPACE"," ",778],["T_VARIABLE","$urlParts",778],"[",["T_CONSTANT_ENCAPSED_STRING","'port'",778],"]",["T_WHITESPACE"," ",778],":",["T_WHITESPACE"," ",778],["T_CONSTANT_ENCAPSED_STRING","''",778],";",["T_WHITESPACE","\n            ",778],["T_VARIABLE","$isSecure",779],["T_WHITESPACE"," ",779],"=",["T_WHITESPACE"," ",779],"(",["T_VARIABLE","$scheme",779],["T_WHITESPACE"," ",779],["T_IS_EQUAL","==",779],["T_WHITESPACE"," ",779],["T_CONSTANT_ENCAPSED_STRING","'https'",779],")",["T_WHITESPACE","\n                ",779],["T_BOOLEAN_AND","&&",780],["T_WHITESPACE"," ",780],["T_ISSET","isset",780],"(",["T_VARIABLE","$_SERVER",780],"[",["T_CONSTANT_ENCAPSED_STRING","'SERVER_PORT'",780],"]",")",["T_WHITESPACE","\n                ",780],["T_BOOLEAN_AND","&&",781],["T_WHITESPACE"," ",781],"(",["T_VARIABLE","$port",781],["T_WHITESPACE"," ",781],["T_IS_EQUAL","==",781],["T_WHITESPACE"," ",781],["T_VARIABLE","$_SERVER",781],"[",["T_CONSTANT_ENCAPSED_STRING","'SERVER_PORT'",781],"]",")",";",["T_WHITESPACE","\n            ",781],["T_RETURN","return",782],["T_WHITESPACE"," ",782],["T_VARIABLE","$isSecure",782],";",["T_WHITESPACE","\n        ",782],"}",["T_WHITESPACE"," ",783],["T_ELSE","else",783],["T_WHITESPACE"," ",783],"{",["T_WHITESPACE","\n            ",783],["T_VARIABLE","$isSecure",784],["T_WHITESPACE"," ",784],"=",["T_WHITESPACE"," ",784],["T_ISSET","isset",784],"(",["T_VARIABLE","$_SERVER",784],"[",["T_CONSTANT_ENCAPSED_STRING","'SERVER_PORT'",784],"]",")",["T_WHITESPACE"," ",784],["T_BOOLEAN_AND","&&",784],["T_WHITESPACE"," ",784],"(",["T_LNUMBER","443",784],["T_WHITESPACE"," ",784],["T_IS_EQUAL","==",784],["T_WHITESPACE"," ",784],["T_VARIABLE","$_SERVER",784],"[",["T_CONSTANT_ENCAPSED_STRING","'SERVER_PORT'",784],"]",")",";",["T_WHITESPACE","\n            ",784],["T_RETURN","return",785],["T_WHITESPACE"," ",785],["T_VARIABLE","$isSecure",785],";",["T_WHITESPACE","\n        ",785],"}",["T_WHITESPACE","\n    ",786],"}",["T_WHITESPACE","\n\n    ",787],["T_COMMENT","\/*************************************************************************************\n     * Store currency interface\n     *\/",789],["T_WHITESPACE","\n\n    ",791],["T_DOC_COMMENT","\/**\n     * Retrieve store base currency code\n     *\n     * @return string\n     *\/",793],["T_WHITESPACE","\n    ",797],["T_PUBLIC","public",798],["T_WHITESPACE"," ",798],["T_FUNCTION","function",798],["T_WHITESPACE"," ",798],["T_STRING","getBaseCurrencyCode",798],"(",")",["T_WHITESPACE","\n    ",798],"{",["T_WHITESPACE","\n        ",799],["T_VARIABLE","$configValue",800],["T_WHITESPACE"," ",800],"=",["T_WHITESPACE"," ",800],["T_VARIABLE","$this",800],["T_OBJECT_OPERATOR","->",800],["T_STRING","getConfig",800],"(",["T_STRING","Mage_Core_Model_Store",800],["T_DOUBLE_COLON","::",800],["T_STRING","XML_PATH_PRICE_SCOPE",800],")",";",["T_WHITESPACE","\n        ",800],["T_IF","if",801],["T_WHITESPACE"," ",801],"(",["T_VARIABLE","$configValue",801],["T_WHITESPACE"," ",801],["T_IS_EQUAL","==",801],["T_WHITESPACE"," ",801],["T_STRING","Mage_Core_Model_Store",801],["T_DOUBLE_COLON","::",801],["T_STRING","PRICE_SCOPE_GLOBAL",801],")",["T_WHITESPACE"," ",801],"{",["T_WHITESPACE","\n            ",801],["T_RETURN","return",802],["T_WHITESPACE"," ",802],["T_STRING","Mage",802],["T_DOUBLE_COLON","::",802],["T_STRING","app",802],"(",")",["T_OBJECT_OPERATOR","->",802],["T_STRING","getBaseCurrencyCode",802],"(",")",";",["T_WHITESPACE","\n        ",802],"}",["T_WHITESPACE"," ",803],["T_ELSE","else",803],["T_WHITESPACE"," ",803],"{",["T_WHITESPACE","\n            ",803],["T_RETURN","return",804],["T_WHITESPACE"," ",804],["T_VARIABLE","$this",804],["T_OBJECT_OPERATOR","->",804],["T_STRING","getConfig",804],"(",["T_STRING","Mage_Directory_Model_Currency",804],["T_DOUBLE_COLON","::",804],["T_STRING","XML_PATH_CURRENCY_BASE",804],")",";",["T_WHITESPACE","\n        ",804],"}",["T_WHITESPACE","\n    ",805],"}",["T_WHITESPACE","\n\n    ",806],["T_DOC_COMMENT","\/**\n     * Retrieve store base currency\n     *\n     * @return Mage_Directory_Model_Currency\n     *\/",808],["T_WHITESPACE","\n    ",812],["T_PUBLIC","public",813],["T_WHITESPACE"," ",813],["T_FUNCTION","function",813],["T_WHITESPACE"," ",813],["T_STRING","getBaseCurrency",813],"(",")",["T_WHITESPACE","\n    ",813],"{",["T_WHITESPACE","\n        ",814],["T_VARIABLE","$currency",815],["T_WHITESPACE"," ",815],"=",["T_WHITESPACE"," ",815],["T_VARIABLE","$this",815],["T_OBJECT_OPERATOR","->",815],["T_STRING","getData",815],"(",["T_CONSTANT_ENCAPSED_STRING","'base_currency'",815],")",";",["T_WHITESPACE","\n        ",815],["T_IF","if",816],["T_WHITESPACE"," ",816],"(",["T_STRING","is_null",816],"(",["T_VARIABLE","$currency",816],")",")",["T_WHITESPACE"," ",816],"{",["T_WHITESPACE","\n            ",816],["T_VARIABLE","$currency",817],["T_WHITESPACE"," ",817],"=",["T_WHITESPACE"," ",817],["T_STRING","Mage",817],["T_DOUBLE_COLON","::",817],["T_STRING","getModel",817],"(",["T_CONSTANT_ENCAPSED_STRING","'directory\/currency'",817],")",["T_OBJECT_OPERATOR","->",817],["T_STRING","load",817],"(",["T_VARIABLE","$this",817],["T_OBJECT_OPERATOR","->",817],["T_STRING","getBaseCurrencyCode",817],"(",")",")",";",["T_WHITESPACE","\n            ",817],["T_VARIABLE","$this",818],["T_OBJECT_OPERATOR","->",818],["T_STRING","setData",818],"(",["T_CONSTANT_ENCAPSED_STRING","'base_currency'",818],",",["T_WHITESPACE"," ",818],["T_VARIABLE","$currency",818],")",";",["T_WHITESPACE","\n        ",818],"}",["T_WHITESPACE","\n        ",819],["T_RETURN","return",820],["T_WHITESPACE"," ",820],["T_VARIABLE","$currency",820],";",["T_WHITESPACE","\n    ",820],"}",["T_WHITESPACE","\n\n    ",821],["T_DOC_COMMENT","\/**\n     * Get default store currency code\n     *\n     * @return string\n     *\/",823],["T_WHITESPACE","\n    ",827],["T_PUBLIC","public",828],["T_WHITESPACE"," ",828],["T_FUNCTION","function",828],["T_WHITESPACE"," ",828],["T_STRING","getDefaultCurrencyCode",828],"(",")",["T_WHITESPACE","\n    ",828],"{",["T_WHITESPACE","\n        ",829],["T_VARIABLE","$result",830],["T_WHITESPACE"," ",830],"=",["T_WHITESPACE"," ",830],["T_VARIABLE","$this",830],["T_OBJECT_OPERATOR","->",830],["T_STRING","getConfig",830],"(",["T_STRING","Mage_Directory_Model_Currency",830],["T_DOUBLE_COLON","::",830],["T_STRING","XML_PATH_CURRENCY_DEFAULT",830],")",";",["T_WHITESPACE","\n        ",830],["T_RETURN","return",831],["T_WHITESPACE"," ",831],["T_VARIABLE","$result",831],";",["T_WHITESPACE","\n    ",831],"}",["T_WHITESPACE","\n\n    ",832],["T_DOC_COMMENT","\/**\n     * Retrieve store default currency\n     *\n     * @return Mage_Directory_Model_Currency\n     *\/",834],["T_WHITESPACE","\n    ",838],["T_PUBLIC","public",839],["T_WHITESPACE"," ",839],["T_FUNCTION","function",839],["T_WHITESPACE"," ",839],["T_STRING","getDefaultCurrency",839],"(",")",["T_WHITESPACE","\n    ",839],"{",["T_WHITESPACE","\n        ",840],["T_VARIABLE","$currency",841],["T_WHITESPACE"," ",841],"=",["T_WHITESPACE"," ",841],["T_VARIABLE","$this",841],["T_OBJECT_OPERATOR","->",841],["T_STRING","getData",841],"(",["T_CONSTANT_ENCAPSED_STRING","'default_currency'",841],")",";",["T_WHITESPACE","\n        ",841],["T_IF","if",842],["T_WHITESPACE"," ",842],"(",["T_STRING","is_null",842],"(",["T_VARIABLE","$currency",842],")",")",["T_WHITESPACE"," ",842],"{",["T_WHITESPACE","\n            ",842],["T_VARIABLE","$currency",843],["T_WHITESPACE"," ",843],"=",["T_WHITESPACE"," ",843],["T_STRING","Mage",843],["T_DOUBLE_COLON","::",843],["T_STRING","getModel",843],"(",["T_CONSTANT_ENCAPSED_STRING","'directory\/currency'",843],")",["T_OBJECT_OPERATOR","->",843],["T_STRING","load",843],"(",["T_VARIABLE","$this",843],["T_OBJECT_OPERATOR","->",843],["T_STRING","getDefaultCurrencyCode",843],"(",")",")",";",["T_WHITESPACE","\n            ",843],["T_VARIABLE","$this",844],["T_OBJECT_OPERATOR","->",844],["T_STRING","setData",844],"(",["T_CONSTANT_ENCAPSED_STRING","'default_currency'",844],",",["T_WHITESPACE"," ",844],["T_VARIABLE","$currency",844],")",";",["T_WHITESPACE","\n        ",844],"}",["T_WHITESPACE","\n        ",845],["T_RETURN","return",846],["T_WHITESPACE"," ",846],["T_VARIABLE","$currency",846],";",["T_WHITESPACE","\n    ",846],"}",["T_WHITESPACE","\n\n    ",847],["T_DOC_COMMENT","\/**\n     * Set current store currency code\n     *\n     * @param   string $code\n     * @return  string\n     *\/",849],["T_WHITESPACE","\n    ",854],["T_PUBLIC","public",855],["T_WHITESPACE"," ",855],["T_FUNCTION","function",855],["T_WHITESPACE"," ",855],["T_STRING","setCurrentCurrencyCode",855],"(",["T_VARIABLE","$code",855],")",["T_WHITESPACE","\n    ",855],"{",["T_WHITESPACE","\n        ",856],["T_VARIABLE","$code",857],["T_WHITESPACE"," ",857],"=",["T_WHITESPACE"," ",857],["T_STRING","strtoupper",857],"(",["T_VARIABLE","$code",857],")",";",["T_WHITESPACE","\n        ",857],["T_IF","if",858],["T_WHITESPACE"," ",858],"(",["T_STRING","in_array",858],"(",["T_VARIABLE","$code",858],",",["T_WHITESPACE"," ",858],["T_VARIABLE","$this",858],["T_OBJECT_OPERATOR","->",858],["T_STRING","getAvailableCurrencyCodes",858],"(",")",")",")",["T_WHITESPACE"," ",858],"{",["T_WHITESPACE","\n            ",858],["T_VARIABLE","$this",859],["T_OBJECT_OPERATOR","->",859],["T_STRING","_getSession",859],"(",")",["T_OBJECT_OPERATOR","->",859],["T_STRING","setCurrencyCode",859],"(",["T_VARIABLE","$code",859],")",";",["T_WHITESPACE","\n            ",859],["T_IF","if",860],["T_WHITESPACE"," ",860],"(",["T_VARIABLE","$code",860],["T_WHITESPACE"," ",860],["T_IS_EQUAL","==",860],["T_WHITESPACE"," ",860],["T_VARIABLE","$this",860],["T_OBJECT_OPERATOR","->",860],["T_STRING","getDefaultCurrency",860],"(",")",")",["T_WHITESPACE"," ",860],"{",["T_WHITESPACE","\n                ",860],["T_STRING","Mage",861],["T_DOUBLE_COLON","::",861],["T_STRING","app",861],"(",")",["T_OBJECT_OPERATOR","->",861],["T_STRING","getCookie",861],"(",")",["T_OBJECT_OPERATOR","->",861],["T_STRING","delete",861],"(",["T_STRING","self",861],["T_DOUBLE_COLON","::",861],["T_STRING","COOKIE_CURRENCY",861],",",["T_WHITESPACE"," ",861],["T_VARIABLE","$code",861],")",";",["T_WHITESPACE","\n            ",861],"}",["T_WHITESPACE"," ",862],["T_ELSE","else",862],["T_WHITESPACE"," ",862],"{",["T_WHITESPACE","\n                ",862],["T_STRING","Mage",863],["T_DOUBLE_COLON","::",863],["T_STRING","app",863],"(",")",["T_OBJECT_OPERATOR","->",863],["T_STRING","getCookie",863],"(",")",["T_OBJECT_OPERATOR","->",863],["T_STRING","set",863],"(",["T_STRING","self",863],["T_DOUBLE_COLON","::",863],["T_STRING","COOKIE_CURRENCY",863],",",["T_WHITESPACE"," ",863],["T_VARIABLE","$code",863],")",";",["T_WHITESPACE","\n            ",863],"}",["T_WHITESPACE","\n        ",864],"}",["T_WHITESPACE","\n        ",865],["T_RETURN","return",866],["T_WHITESPACE"," ",866],["T_VARIABLE","$this",866],";",["T_WHITESPACE","\n    ",866],"}",["T_WHITESPACE","\n\n    ",867],["T_DOC_COMMENT","\/**\n     * Get current store currency code\n     *\n     * @return string\n     *\/",869],["T_WHITESPACE","\n    ",873],["T_PUBLIC","public",874],["T_WHITESPACE"," ",874],["T_FUNCTION","function",874],["T_WHITESPACE"," ",874],["T_STRING","getCurrentCurrencyCode",874],"(",")",["T_WHITESPACE","\n    ",874],"{",["T_WHITESPACE","\n        ",875],["T_COMMENT","\/\/ try to get currently set code among allowed\n",876],["T_WHITESPACE","        ",877],["T_VARIABLE","$code",877],["T_WHITESPACE"," ",877],"=",["T_WHITESPACE"," ",877],["T_VARIABLE","$this",877],["T_OBJECT_OPERATOR","->",877],["T_STRING","_getSession",877],"(",")",["T_OBJECT_OPERATOR","->",877],["T_STRING","getCurrencyCode",877],"(",")",";",["T_WHITESPACE","\n        ",877],["T_IF","if",878],["T_WHITESPACE"," ",878],"(",["T_EMPTY","empty",878],"(",["T_VARIABLE","$code",878],")",")",["T_WHITESPACE"," ",878],"{",["T_WHITESPACE","\n            ",878],["T_VARIABLE","$code",879],["T_WHITESPACE"," ",879],"=",["T_WHITESPACE"," ",879],["T_VARIABLE","$this",879],["T_OBJECT_OPERATOR","->",879],["T_STRING","getDefaultCurrencyCode",879],"(",")",";",["T_WHITESPACE","\n        ",879],"}",["T_WHITESPACE","\n        ",880],["T_IF","if",881],["T_WHITESPACE"," ",881],"(",["T_STRING","in_array",881],"(",["T_VARIABLE","$code",881],",",["T_WHITESPACE"," ",881],["T_VARIABLE","$this",881],["T_OBJECT_OPERATOR","->",881],["T_STRING","getAvailableCurrencyCodes",881],"(",["T_STRING","true",881],")",")",")",["T_WHITESPACE"," ",881],"{",["T_WHITESPACE","\n            ",881],["T_RETURN","return",882],["T_WHITESPACE"," ",882],["T_VARIABLE","$code",882],";",["T_WHITESPACE","\n        ",882],"}",["T_WHITESPACE","\n\n        ",883],["T_COMMENT","\/\/ take first one of allowed codes\n",885],["T_WHITESPACE","        ",886],["T_VARIABLE","$codes",886],["T_WHITESPACE"," ",886],"=",["T_WHITESPACE"," ",886],["T_STRING","array_values",886],"(",["T_VARIABLE","$this",886],["T_OBJECT_OPERATOR","->",886],["T_STRING","getAvailableCurrencyCodes",886],"(",["T_STRING","true",886],")",")",";",["T_WHITESPACE","\n        ",886],["T_IF","if",887],["T_WHITESPACE"," ",887],"(",["T_EMPTY","empty",887],"(",["T_VARIABLE","$codes",887],")",")",["T_WHITESPACE"," ",887],"{",["T_WHITESPACE","\n            ",887],["T_COMMENT","\/\/ return default code, if no codes specified at all\n",888],["T_WHITESPACE","            ",889],["T_RETURN","return",889],["T_WHITESPACE"," ",889],["T_VARIABLE","$this",889],["T_OBJECT_OPERATOR","->",889],["T_STRING","getDefaultCurrencyCode",889],"(",")",";",["T_WHITESPACE","\n        ",889],"}",["T_WHITESPACE","\n        ",890],["T_RETURN","return",891],["T_WHITESPACE"," ",891],["T_STRING","array_shift",891],"(",["T_VARIABLE","$codes",891],")",";",["T_WHITESPACE","\n    ",891],"}",["T_WHITESPACE","\n\n    ",892],["T_DOC_COMMENT","\/**\n     * Get allowed store currency codes\n     *\n     * If base currency is not allowed in current website config scope,\n     * then it can be disabled with $skipBaseNotAllowed\n     *\n     * @param bool $skipBaseNotAllowed\n     * @return array\n     *\/",894],["T_WHITESPACE","\n    ",902],["T_PUBLIC","public",903],["T_WHITESPACE"," ",903],["T_FUNCTION","function",903],["T_WHITESPACE"," ",903],["T_STRING","getAvailableCurrencyCodes",903],"(",["T_VARIABLE","$skipBaseNotAllowed",903],["T_WHITESPACE"," ",903],"=",["T_WHITESPACE"," ",903],["T_STRING","false",903],")",["T_WHITESPACE","\n    ",903],"{",["T_WHITESPACE","\n        ",904],["T_VARIABLE","$codes",905],["T_WHITESPACE"," ",905],"=",["T_WHITESPACE"," ",905],["T_VARIABLE","$this",905],["T_OBJECT_OPERATOR","->",905],["T_STRING","getData",905],"(",["T_CONSTANT_ENCAPSED_STRING","'available_currency_codes'",905],")",";",["T_WHITESPACE","\n        ",905],["T_IF","if",906],["T_WHITESPACE"," ",906],"(",["T_STRING","is_null",906],"(",["T_VARIABLE","$codes",906],")",")",["T_WHITESPACE"," ",906],"{",["T_WHITESPACE","\n            ",906],["T_VARIABLE","$codes",907],["T_WHITESPACE"," ",907],"=",["T_WHITESPACE"," ",907],["T_STRING","explode",907],"(",["T_CONSTANT_ENCAPSED_STRING","','",907],",",["T_WHITESPACE"," ",907],["T_VARIABLE","$this",907],["T_OBJECT_OPERATOR","->",907],["T_STRING","getConfig",907],"(",["T_STRING","Mage_Directory_Model_Currency",907],["T_DOUBLE_COLON","::",907],["T_STRING","XML_PATH_CURRENCY_ALLOW",907],")",")",";",["T_WHITESPACE","\n            ",907],["T_COMMENT","\/\/ add base currency, if it is not in allowed currencies\n",908],["T_WHITESPACE","            ",909],["T_VARIABLE","$baseCurrencyCode",909],["T_WHITESPACE"," ",909],"=",["T_WHITESPACE"," ",909],["T_VARIABLE","$this",909],["T_OBJECT_OPERATOR","->",909],["T_STRING","getBaseCurrencyCode",909],"(",")",";",["T_WHITESPACE","\n            ",909],["T_IF","if",910],["T_WHITESPACE"," ",910],"(","!",["T_STRING","in_array",910],"(",["T_VARIABLE","$baseCurrencyCode",910],",",["T_WHITESPACE"," ",910],["T_VARIABLE","$codes",910],")",")",["T_WHITESPACE"," ",910],"{",["T_WHITESPACE","\n                ",910],["T_VARIABLE","$codes",911],"[","]",["T_WHITESPACE"," ",911],"=",["T_WHITESPACE"," ",911],["T_VARIABLE","$baseCurrencyCode",911],";",["T_WHITESPACE","\n\n                ",911],["T_COMMENT","\/\/ save base currency code index for further usage\n",913],["T_WHITESPACE","                ",914],["T_VARIABLE","$disallowedBaseCodeIndex",914],["T_WHITESPACE"," ",914],"=",["T_WHITESPACE"," ",914],["T_STRING","array_keys",914],"(",["T_VARIABLE","$codes",914],")",";",["T_WHITESPACE","\n                ",914],["T_VARIABLE","$disallowedBaseCodeIndex",915],["T_WHITESPACE"," ",915],"=",["T_WHITESPACE"," ",915],["T_STRING","array_pop",915],"(",["T_VARIABLE","$disallowedBaseCodeIndex",915],")",";",["T_WHITESPACE","\n                ",915],["T_VARIABLE","$this",916],["T_OBJECT_OPERATOR","->",916],["T_STRING","setData",916],"(",["T_CONSTANT_ENCAPSED_STRING","'disallowed_base_currency_code_index'",916],",",["T_WHITESPACE"," ",916],["T_VARIABLE","$disallowedBaseCodeIndex",916],")",";",["T_WHITESPACE","\n            ",916],"}",["T_WHITESPACE","\n            ",917],["T_VARIABLE","$this",918],["T_OBJECT_OPERATOR","->",918],["T_STRING","setData",918],"(",["T_CONSTANT_ENCAPSED_STRING","'available_currency_codes'",918],",",["T_WHITESPACE"," ",918],["T_VARIABLE","$codes",918],")",";",["T_WHITESPACE","\n        ",918],"}",["T_WHITESPACE","\n\n        ",919],["T_COMMENT","\/\/ remove base currency code, if it is not allowed by config (optional)\n",921],["T_WHITESPACE","        ",922],["T_IF","if",922],["T_WHITESPACE"," ",922],"(",["T_VARIABLE","$skipBaseNotAllowed",922],")",["T_WHITESPACE"," ",922],"{",["T_WHITESPACE","\n            ",922],["T_VARIABLE","$disallowedBaseCodeIndex",923],["T_WHITESPACE"," ",923],"=",["T_WHITESPACE"," ",923],["T_VARIABLE","$this",923],["T_OBJECT_OPERATOR","->",923],["T_STRING","getData",923],"(",["T_CONSTANT_ENCAPSED_STRING","'disallowed_base_currency_code_index'",923],")",";",["T_WHITESPACE","\n            ",923],["T_IF","if",924],["T_WHITESPACE"," ",924],"(",["T_STRING","null",924],["T_WHITESPACE"," ",924],["T_IS_NOT_IDENTICAL","!==",924],["T_WHITESPACE"," ",924],["T_VARIABLE","$disallowedBaseCodeIndex",924],")",["T_WHITESPACE"," ",924],"{",["T_WHITESPACE","\n                ",924],["T_UNSET","unset",925],"(",["T_VARIABLE","$codes",925],"[",["T_VARIABLE","$disallowedBaseCodeIndex",925],"]",")",";",["T_WHITESPACE","\n            ",925],"}",["T_WHITESPACE","\n        ",926],"}",["T_WHITESPACE","\n        ",927],["T_RETURN","return",928],["T_WHITESPACE"," ",928],["T_VARIABLE","$codes",928],";",["T_WHITESPACE","\n    ",928],"}",["T_WHITESPACE","\n\n    ",929],["T_DOC_COMMENT","\/**\n     * Retrieve store current currency\n     *\n     * @return Mage_Directory_Model_Currency\n     *\/",931],["T_WHITESPACE","\n    ",935],["T_PUBLIC","public",936],["T_WHITESPACE"," ",936],["T_FUNCTION","function",936],["T_WHITESPACE"," ",936],["T_STRING","getCurrentCurrency",936],"(",")",["T_WHITESPACE","\n    ",936],"{",["T_WHITESPACE","\n        ",937],["T_VARIABLE","$currency",938],["T_WHITESPACE"," ",938],"=",["T_WHITESPACE"," ",938],["T_VARIABLE","$this",938],["T_OBJECT_OPERATOR","->",938],["T_STRING","getData",938],"(",["T_CONSTANT_ENCAPSED_STRING","'current_currency'",938],")",";",["T_WHITESPACE","\n\n        ",938],["T_IF","if",940],["T_WHITESPACE"," ",940],"(",["T_STRING","is_null",940],"(",["T_VARIABLE","$currency",940],")",")",["T_WHITESPACE"," ",940],"{",["T_WHITESPACE","\n            ",940],["T_VARIABLE","$currency",941],["T_WHITESPACE","     ",941],"=",["T_WHITESPACE"," ",941],["T_STRING","Mage",941],["T_DOUBLE_COLON","::",941],["T_STRING","getModel",941],"(",["T_CONSTANT_ENCAPSED_STRING","'directory\/currency'",941],")",["T_OBJECT_OPERATOR","->",941],["T_STRING","load",941],"(",["T_VARIABLE","$this",941],["T_OBJECT_OPERATOR","->",941],["T_STRING","getCurrentCurrencyCode",941],"(",")",")",";",["T_WHITESPACE","\n            ",941],["T_VARIABLE","$baseCurrency",942],["T_WHITESPACE"," ",942],"=",["T_WHITESPACE"," ",942],["T_VARIABLE","$this",942],["T_OBJECT_OPERATOR","->",942],["T_STRING","getBaseCurrency",942],"(",")",";",["T_WHITESPACE","\n\n            ",942],["T_IF","if",944],["T_WHITESPACE"," ",944],"(","!",["T_WHITESPACE"," ",944],["T_VARIABLE","$baseCurrency",944],["T_OBJECT_OPERATOR","->",944],["T_STRING","getRate",944],"(",["T_VARIABLE","$currency",944],")",")",["T_WHITESPACE"," ",944],"{",["T_WHITESPACE","\n                ",944],["T_VARIABLE","$currency",945],["T_WHITESPACE"," ",945],"=",["T_WHITESPACE"," ",945],["T_VARIABLE","$baseCurrency",945],";",["T_WHITESPACE","\n                ",945],["T_VARIABLE","$this",946],["T_OBJECT_OPERATOR","->",946],["T_STRING","setCurrentCurrencyCode",946],"(",["T_VARIABLE","$baseCurrency",946],["T_OBJECT_OPERATOR","->",946],["T_STRING","getCode",946],"(",")",")",";",["T_WHITESPACE","\n            ",946],"}",["T_WHITESPACE","\n\n            ",947],["T_VARIABLE","$this",949],["T_OBJECT_OPERATOR","->",949],["T_STRING","setData",949],"(",["T_CONSTANT_ENCAPSED_STRING","'current_currency'",949],",",["T_WHITESPACE"," ",949],["T_VARIABLE","$currency",949],")",";",["T_WHITESPACE","\n        ",949],"}",["T_WHITESPACE","\n\n        ",950],["T_RETURN","return",952],["T_WHITESPACE"," ",952],["T_VARIABLE","$currency",952],";",["T_WHITESPACE","\n    ",952],"}",["T_WHITESPACE","\n\n    ",953],["T_DOC_COMMENT","\/**\n     * Retrieve current currency rate\n     *\n     * @return float\n     *\/",955],["T_WHITESPACE","\n    ",959],["T_PUBLIC","public",960],["T_WHITESPACE"," ",960],["T_FUNCTION","function",960],["T_WHITESPACE"," ",960],["T_STRING","getCurrentCurrencyRate",960],"(",")",["T_WHITESPACE","\n    ",960],"{",["T_WHITESPACE","\n        ",961],["T_RETURN","return",962],["T_WHITESPACE"," ",962],["T_VARIABLE","$this",962],["T_OBJECT_OPERATOR","->",962],["T_STRING","getBaseCurrency",962],"(",")",["T_OBJECT_OPERATOR","->",962],["T_STRING","getRate",962],"(",["T_VARIABLE","$this",962],["T_OBJECT_OPERATOR","->",962],["T_STRING","getCurrentCurrency",962],"(",")",")",";",["T_WHITESPACE","\n    ",962],"}",["T_WHITESPACE","\n\n    ",963],["T_DOC_COMMENT","\/**\n     * Convert price from default currency to current currency\n     *\n     * @param   double $price\n     * @param   boolean $format             Format price to currency format\n     * @param   boolean $includeContainer   Enclose into <span class=\"price\"><span>\n     * @return  double\n     *\/",965],["T_WHITESPACE","\n    ",972],["T_PUBLIC","public",973],["T_WHITESPACE"," ",973],["T_FUNCTION","function",973],["T_WHITESPACE"," ",973],["T_STRING","convertPrice",973],"(",["T_VARIABLE","$price",973],",",["T_WHITESPACE"," ",973],["T_VARIABLE","$format",973],["T_WHITESPACE"," ",973],"=",["T_WHITESPACE"," ",973],["T_STRING","false",973],",",["T_WHITESPACE"," ",973],["T_VARIABLE","$includeContainer",973],["T_WHITESPACE"," ",973],"=",["T_WHITESPACE"," ",973],["T_STRING","true",973],")",["T_WHITESPACE","\n    ",973],"{",["T_WHITESPACE","\n        ",974],["T_IF","if",975],["T_WHITESPACE"," ",975],"(",["T_VARIABLE","$this",975],["T_OBJECT_OPERATOR","->",975],["T_STRING","getCurrentCurrency",975],"(",")",["T_WHITESPACE"," ",975],["T_BOOLEAN_AND","&&",975],["T_WHITESPACE"," ",975],["T_VARIABLE","$this",975],["T_OBJECT_OPERATOR","->",975],["T_STRING","getBaseCurrency",975],"(",")",")",["T_WHITESPACE"," ",975],"{",["T_WHITESPACE","\n            ",975],["T_VARIABLE","$value",976],["T_WHITESPACE"," ",976],"=",["T_WHITESPACE"," ",976],["T_VARIABLE","$this",976],["T_OBJECT_OPERATOR","->",976],["T_STRING","getBaseCurrency",976],"(",")",["T_OBJECT_OPERATOR","->",976],["T_STRING","convert",976],"(",["T_VARIABLE","$price",976],",",["T_WHITESPACE"," ",976],["T_VARIABLE","$this",976],["T_OBJECT_OPERATOR","->",976],["T_STRING","getCurrentCurrency",976],"(",")",")",";",["T_WHITESPACE","\n        ",976],"}",["T_WHITESPACE"," ",977],["T_ELSE","else",977],["T_WHITESPACE"," ",977],"{",["T_WHITESPACE","\n            ",977],["T_VARIABLE","$value",978],["T_WHITESPACE"," ",978],"=",["T_WHITESPACE"," ",978],["T_VARIABLE","$price",978],";",["T_WHITESPACE","\n        ",978],"}",["T_WHITESPACE","\n\n        ",979],["T_IF","if",981],["T_WHITESPACE"," ",981],"(",["T_VARIABLE","$this",981],["T_OBJECT_OPERATOR","->",981],["T_STRING","getCurrentCurrency",981],"(",")",["T_WHITESPACE"," ",981],["T_BOOLEAN_AND","&&",981],["T_WHITESPACE"," ",981],["T_VARIABLE","$format",981],")",["T_WHITESPACE"," ",981],"{",["T_WHITESPACE","\n            ",981],["T_VARIABLE","$value",982],["T_WHITESPACE"," ",982],"=",["T_WHITESPACE"," ",982],["T_VARIABLE","$this",982],["T_OBJECT_OPERATOR","->",982],["T_STRING","formatPrice",982],"(",["T_VARIABLE","$value",982],",",["T_WHITESPACE"," ",982],["T_VARIABLE","$includeContainer",982],")",";",["T_WHITESPACE","\n        ",982],"}",["T_WHITESPACE","\n        ",983],["T_RETURN","return",984],["T_WHITESPACE"," ",984],["T_VARIABLE","$value",984],";",["T_WHITESPACE","\n    ",984],"}",["T_WHITESPACE","\n\n    ",985],["T_DOC_COMMENT","\/**\n     * Round price\n     *\n     * @param mixed $price\n     * @return double\n     *\/",987],["T_WHITESPACE","\n    ",992],["T_PUBLIC","public",993],["T_WHITESPACE"," ",993],["T_FUNCTION","function",993],["T_WHITESPACE"," ",993],["T_STRING","roundPrice",993],"(",["T_VARIABLE","$price",993],")",["T_WHITESPACE","\n    ",993],"{",["T_WHITESPACE","\n        ",994],["T_RETURN","return",995],["T_WHITESPACE"," ",995],["T_STRING","round",995],"(",["T_VARIABLE","$price",995],",",["T_WHITESPACE"," ",995],["T_LNUMBER","2",995],")",";",["T_WHITESPACE","\n    ",995],"}",["T_WHITESPACE","\n\n    ",996],["T_DOC_COMMENT","\/**\n     * Format price with currency filter (taking rate into consideration)\n     *\n     * @param   double $price\n     * @param   bool $includeContainer\n     * @return  string\n     *\/",998],["T_WHITESPACE","\n    ",1004],["T_PUBLIC","public",1005],["T_WHITESPACE"," ",1005],["T_FUNCTION","function",1005],["T_WHITESPACE"," ",1005],["T_STRING","formatPrice",1005],"(",["T_VARIABLE","$price",1005],",",["T_WHITESPACE"," ",1005],["T_VARIABLE","$includeContainer",1005],["T_WHITESPACE"," ",1005],"=",["T_WHITESPACE"," ",1005],["T_STRING","true",1005],")",["T_WHITESPACE","\n    ",1005],"{",["T_WHITESPACE","\n        ",1006],["T_IF","if",1007],["T_WHITESPACE"," ",1007],"(",["T_VARIABLE","$this",1007],["T_OBJECT_OPERATOR","->",1007],["T_STRING","getCurrentCurrency",1007],"(",")",")",["T_WHITESPACE"," ",1007],"{",["T_WHITESPACE","\n            ",1007],["T_RETURN","return",1008],["T_WHITESPACE"," ",1008],["T_VARIABLE","$this",1008],["T_OBJECT_OPERATOR","->",1008],["T_STRING","getCurrentCurrency",1008],"(",")",["T_OBJECT_OPERATOR","->",1008],["T_STRING","format",1008],"(",["T_VARIABLE","$price",1008],",",["T_WHITESPACE"," ",1008],["T_ARRAY","array",1008],"(",")",",",["T_WHITESPACE"," ",1008],["T_VARIABLE","$includeContainer",1008],")",";",["T_WHITESPACE","\n        ",1008],"}",["T_WHITESPACE","\n        ",1009],["T_RETURN","return",1010],["T_WHITESPACE"," ",1010],["T_VARIABLE","$price",1010],";",["T_WHITESPACE","\n    ",1010],"}",["T_WHITESPACE","\n\n    ",1011],["T_DOC_COMMENT","\/**\n     * Get store price filter\n     *\n     * @return Varien_Filter_Sprintf\n     *\/",1013],["T_WHITESPACE","\n    ",1017],["T_PUBLIC","public",1018],["T_WHITESPACE"," ",1018],["T_FUNCTION","function",1018],["T_WHITESPACE"," ",1018],["T_STRING","getPriceFilter",1018],"(",")",["T_WHITESPACE","\n    ",1018],"{",["T_WHITESPACE","\n        ",1019],["T_IF","if",1020],["T_WHITESPACE"," ",1020],"(","!",["T_VARIABLE","$this",1020],["T_OBJECT_OPERATOR","->",1020],["T_STRING","_priceFilter",1020],")",["T_WHITESPACE"," ",1020],"{",["T_WHITESPACE","\n            ",1020],["T_IF","if",1021],["T_WHITESPACE"," ",1021],"(",["T_VARIABLE","$this",1021],["T_OBJECT_OPERATOR","->",1021],["T_STRING","getBaseCurrency",1021],"(",")",["T_WHITESPACE"," ",1021],["T_BOOLEAN_AND","&&",1021],["T_WHITESPACE"," ",1021],["T_VARIABLE","$this",1021],["T_OBJECT_OPERATOR","->",1021],["T_STRING","getCurrentCurrency",1021],"(",")",")",["T_WHITESPACE"," ",1021],"{",["T_WHITESPACE","\n                ",1021],["T_VARIABLE","$this",1022],["T_OBJECT_OPERATOR","->",1022],["T_STRING","_priceFilter",1022],["T_WHITESPACE"," ",1022],"=",["T_WHITESPACE"," ",1022],["T_VARIABLE","$this",1022],["T_OBJECT_OPERATOR","->",1022],["T_STRING","getCurrentCurrency",1022],"(",")",["T_OBJECT_OPERATOR","->",1022],["T_STRING","getFilter",1022],"(",")",";",["T_WHITESPACE","\n                ",1022],["T_VARIABLE","$this",1023],["T_OBJECT_OPERATOR","->",1023],["T_STRING","_priceFilter",1023],["T_OBJECT_OPERATOR","->",1023],["T_STRING","setRate",1023],"(",["T_VARIABLE","$this",1023],["T_OBJECT_OPERATOR","->",1023],["T_STRING","getBaseCurrency",1023],"(",")",["T_OBJECT_OPERATOR","->",1023],["T_STRING","getRate",1023],"(",["T_VARIABLE","$this",1023],["T_OBJECT_OPERATOR","->",1023],["T_STRING","getCurrentCurrency",1023],"(",")",")",")",";",["T_WHITESPACE","\n            ",1023],"}",["T_WHITESPACE","\n            ",1024],"}",["T_WHITESPACE"," ",1025],["T_ELSEIF","elseif",1025],["T_WHITESPACE"," ",1025],"(",["T_VARIABLE","$this",1025],["T_OBJECT_OPERATOR","->",1025],["T_STRING","getDefaultCurrency",1025],"(",")",")",["T_WHITESPACE"," ",1025],"{",["T_WHITESPACE","\n                ",1025],["T_VARIABLE","$this",1026],["T_OBJECT_OPERATOR","->",1026],["T_STRING","_priceFilter",1026],["T_WHITESPACE"," ",1026],"=",["T_WHITESPACE"," ",1026],["T_VARIABLE","$this",1026],["T_OBJECT_OPERATOR","->",1026],["T_STRING","getDefaultCurrency",1026],"(",")",["T_OBJECT_OPERATOR","->",1026],["T_STRING","getFilter",1026],"(",")",";",["T_WHITESPACE","\n            ",1026],"}",["T_WHITESPACE"," ",1027],["T_ELSE","else",1027],["T_WHITESPACE"," ",1027],"{",["T_WHITESPACE","\n                ",1027],["T_VARIABLE","$this",1028],["T_OBJECT_OPERATOR","->",1028],["T_STRING","_priceFilter",1028],["T_WHITESPACE"," ",1028],"=",["T_WHITESPACE"," ",1028],["T_NEW","new",1028],["T_WHITESPACE"," ",1028],["T_STRING","Varien_Filter_Sprintf",1028],"(",["T_CONSTANT_ENCAPSED_STRING","'%s'",1028],",",["T_WHITESPACE"," ",1028],["T_LNUMBER","2",1028],")",";",["T_WHITESPACE","\n            ",1028],"}",["T_WHITESPACE","\n        ",1029],["T_RETURN","return",1030],["T_WHITESPACE"," ",1030],["T_VARIABLE","$this",1030],["T_OBJECT_OPERATOR","->",1030],["T_STRING","_priceFilter",1030],";",["T_WHITESPACE","\n    ",1030],"}",["T_WHITESPACE","\n\n    ",1031],["T_DOC_COMMENT","\/**\n     * Retrieve root category identifier\n     *\n     * @return int\n     *\/",1033],["T_WHITESPACE","\n    ",1037],["T_PUBLIC","public",1038],["T_WHITESPACE"," ",1038],["T_FUNCTION","function",1038],["T_WHITESPACE"," ",1038],["T_STRING","getRootCategoryId",1038],"(",")",["T_WHITESPACE","\n    ",1038],"{",["T_WHITESPACE","\n        ",1039],["T_IF","if",1040],["T_WHITESPACE"," ",1040],"(","!",["T_VARIABLE","$this",1040],["T_OBJECT_OPERATOR","->",1040],["T_STRING","getGroup",1040],"(",")",")",["T_WHITESPACE"," ",1040],"{",["T_WHITESPACE","\n            ",1040],["T_RETURN","return",1041],["T_WHITESPACE"," ",1041],["T_LNUMBER","0",1041],";",["T_WHITESPACE","\n        ",1041],"}",["T_WHITESPACE","\n        ",1042],["T_RETURN","return",1043],["T_WHITESPACE"," ",1043],["T_VARIABLE","$this",1043],["T_OBJECT_OPERATOR","->",1043],["T_STRING","getGroup",1043],"(",")",["T_OBJECT_OPERATOR","->",1043],["T_STRING","getRootCategoryId",1043],"(",")",";",["T_WHITESPACE","\n    ",1043],"}",["T_WHITESPACE","\n\n    ",1044],["T_DOC_COMMENT","\/**\n     * Set group model for store\n     *\n     * @param Mage_Core_Model_Store_Group $group\n     *\/",1046],["T_WHITESPACE","\n    ",1050],["T_PUBLIC","public",1051],["T_WHITESPACE"," ",1051],["T_FUNCTION","function",1051],["T_WHITESPACE"," ",1051],["T_STRING","setGroup",1051],"(",["T_VARIABLE","$group",1051],")",["T_WHITESPACE","\n    ",1051],"{",["T_WHITESPACE","\n        ",1052],["T_VARIABLE","$this",1053],["T_OBJECT_OPERATOR","->",1053],["T_STRING","_group",1053],["T_WHITESPACE"," ",1053],"=",["T_WHITESPACE"," ",1053],["T_VARIABLE","$group",1053],";",["T_WHITESPACE","\n    ",1053],"}",["T_WHITESPACE","\n\n    ",1054],["T_DOC_COMMENT","\/**\n     * Retrieve group model\n     *\n     * @return Mage_Core_Model_Store_Group\n     *\/",1056],["T_WHITESPACE","\n    ",1060],["T_PUBLIC","public",1061],["T_WHITESPACE"," ",1061],["T_FUNCTION","function",1061],["T_WHITESPACE"," ",1061],["T_STRING","getGroup",1061],"(",")",["T_WHITESPACE","\n    ",1061],"{",["T_WHITESPACE","\n        ",1062],["T_IF","if",1063],["T_WHITESPACE"," ",1063],"(",["T_STRING","is_null",1063],"(",["T_VARIABLE","$this",1063],["T_OBJECT_OPERATOR","->",1063],["T_STRING","getGroupId",1063],"(",")",")",")",["T_WHITESPACE"," ",1063],"{",["T_WHITESPACE","\n            ",1063],["T_RETURN","return",1064],["T_WHITESPACE"," ",1064],["T_STRING","false",1064],";",["T_WHITESPACE","\n        ",1064],"}",["T_WHITESPACE","\n        ",1065],["T_IF","if",1066],["T_WHITESPACE"," ",1066],"(",["T_STRING","is_null",1066],"(",["T_VARIABLE","$this",1066],["T_OBJECT_OPERATOR","->",1066],["T_STRING","_group",1066],")",")",["T_WHITESPACE"," ",1066],"{",["T_WHITESPACE","\n            ",1066],["T_VARIABLE","$this",1067],["T_OBJECT_OPERATOR","->",1067],["T_STRING","_group",1067],["T_WHITESPACE"," ",1067],"=",["T_WHITESPACE"," ",1067],["T_STRING","Mage",1067],["T_DOUBLE_COLON","::",1067],["T_STRING","getModel",1067],"(",["T_CONSTANT_ENCAPSED_STRING","'core\/store_group'",1067],")",["T_OBJECT_OPERATOR","->",1067],["T_STRING","load",1067],"(",["T_VARIABLE","$this",1067],["T_OBJECT_OPERATOR","->",1067],["T_STRING","getGroupId",1067],"(",")",")",";",["T_WHITESPACE","\n        ",1067],"}",["T_WHITESPACE","\n        ",1068],["T_RETURN","return",1069],["T_WHITESPACE"," ",1069],["T_VARIABLE","$this",1069],["T_OBJECT_OPERATOR","->",1069],["T_STRING","_group",1069],";",["T_WHITESPACE","\n    ",1069],"}",["T_WHITESPACE","\n\n    ",1070],["T_DOC_COMMENT","\/**\n     * Retrieve website identifier\n     *\n     * @return string|int|null\n     *\/",1072],["T_WHITESPACE","\n    ",1076],["T_PUBLIC","public",1077],["T_WHITESPACE"," ",1077],["T_FUNCTION","function",1077],["T_WHITESPACE"," ",1077],["T_STRING","getWebsiteId",1077],"(",")",["T_WHITESPACE","\n    ",1077],"{",["T_WHITESPACE","\n        ",1078],["T_RETURN","return",1079],["T_WHITESPACE"," ",1079],["T_VARIABLE","$this",1079],["T_OBJECT_OPERATOR","->",1079],["T_STRING","_getData",1079],"(",["T_CONSTANT_ENCAPSED_STRING","'website_id'",1079],")",";",["T_WHITESPACE","\n    ",1079],"}",["T_WHITESPACE","\n\n    ",1080],["T_DOC_COMMENT","\/**\n     * Retrieve group identifier\n     *\n     * @return string|int|null\n     *\/",1082],["T_WHITESPACE","\n    ",1086],["T_PUBLIC","public",1087],["T_WHITESPACE"," ",1087],["T_FUNCTION","function",1087],["T_WHITESPACE"," ",1087],["T_STRING","getGroupId",1087],"(",")",["T_WHITESPACE","\n    ",1087],"{",["T_WHITESPACE","\n        ",1088],["T_RETURN","return",1089],["T_WHITESPACE"," ",1089],["T_VARIABLE","$this",1089],["T_OBJECT_OPERATOR","->",1089],["T_STRING","_getData",1089],"(",["T_CONSTANT_ENCAPSED_STRING","'group_id'",1089],")",";",["T_WHITESPACE","\n    ",1089],"}",["T_WHITESPACE","\n\n    ",1090],["T_DOC_COMMENT","\/**\n     * Retrieve default group identifier\n     *\n     * @return string|int|null\n     *\/",1092],["T_WHITESPACE","\n    ",1096],["T_PUBLIC","public",1097],["T_WHITESPACE"," ",1097],["T_FUNCTION","function",1097],["T_WHITESPACE"," ",1097],["T_STRING","getDefaultGroupId",1097],"(",")",["T_WHITESPACE","\n    ",1097],"{",["T_WHITESPACE","\n        ",1098],["T_RETURN","return",1099],["T_WHITESPACE"," ",1099],["T_VARIABLE","$this",1099],["T_OBJECT_OPERATOR","->",1099],["T_STRING","_getData",1099],"(",["T_CONSTANT_ENCAPSED_STRING","'default_group_id'",1099],")",";",["T_WHITESPACE","\n    ",1099],"}",["T_WHITESPACE","\n\n    ",1100],["T_DOC_COMMENT","\/**\n     * Check if store can be deleted\n     *\n     * @return boolean\n     *\/",1102],["T_WHITESPACE","\n    ",1106],["T_PUBLIC","public",1107],["T_WHITESPACE"," ",1107],["T_FUNCTION","function",1107],["T_WHITESPACE"," ",1107],["T_STRING","isCanDelete",1107],"(",")",["T_WHITESPACE","\n    ",1107],"{",["T_WHITESPACE","\n        ",1108],["T_IF","if",1109],["T_WHITESPACE"," ",1109],"(","!",["T_VARIABLE","$this",1109],["T_OBJECT_OPERATOR","->",1109],["T_STRING","getId",1109],"(",")",")",["T_WHITESPACE"," ",1109],"{",["T_WHITESPACE","\n            ",1109],["T_RETURN","return",1110],["T_WHITESPACE"," ",1110],["T_STRING","false",1110],";",["T_WHITESPACE","\n        ",1110],"}",["T_WHITESPACE","\n\n        ",1111],["T_RETURN","return",1113],["T_WHITESPACE"," ",1113],["T_VARIABLE","$this",1113],["T_OBJECT_OPERATOR","->",1113],["T_STRING","getGroup",1113],"(",")",["T_OBJECT_OPERATOR","->",1113],["T_STRING","getDefaultStoreId",1113],"(",")",["T_WHITESPACE"," ",1113],["T_IS_NOT_EQUAL","!=",1113],["T_WHITESPACE"," ",1113],["T_VARIABLE","$this",1113],["T_OBJECT_OPERATOR","->",1113],["T_STRING","getId",1113],"(",")",";",["T_WHITESPACE","\n    ",1113],"}",["T_WHITESPACE","\n\n    ",1114],["T_DOC_COMMENT","\/**\n     * Retrieve current url for store\n     *\n     * @param bool|string $fromStore\n     * @return string\n     *\/",1116],["T_WHITESPACE","\n    ",1121],["T_PUBLIC","public",1122],["T_WHITESPACE"," ",1122],["T_FUNCTION","function",1122],["T_WHITESPACE"," ",1122],["T_STRING","getCurrentUrl",1122],"(",["T_VARIABLE","$fromStore",1122],["T_WHITESPACE"," ",1122],"=",["T_WHITESPACE"," ",1122],["T_STRING","true",1122],")",["T_WHITESPACE","\n    ",1122],"{",["T_WHITESPACE","\n        ",1123],["T_VARIABLE","$sidQueryParam",1124],["T_WHITESPACE"," ",1124],"=",["T_WHITESPACE"," ",1124],["T_VARIABLE","$this",1124],["T_OBJECT_OPERATOR","->",1124],["T_STRING","_getSession",1124],"(",")",["T_OBJECT_OPERATOR","->",1124],["T_STRING","getSessionIdQueryParam",1124],"(",")",";",["T_WHITESPACE","\n        ",1124],["T_VARIABLE","$requestString",1125],["T_WHITESPACE"," ",1125],"=",["T_WHITESPACE"," ",1125],["T_STRING","Mage",1125],["T_DOUBLE_COLON","::",1125],["T_STRING","getSingleton",1125],"(",["T_CONSTANT_ENCAPSED_STRING","'core\/url'",1125],")",["T_OBJECT_OPERATOR","->",1125],["T_STRING","escape",1125],"(",["T_WHITESPACE","\n            ",1125],["T_STRING","ltrim",1126],"(",["T_STRING","Mage",1126],["T_DOUBLE_COLON","::",1126],["T_STRING","app",1126],"(",")",["T_OBJECT_OPERATOR","->",1126],["T_STRING","getRequest",1126],"(",")",["T_OBJECT_OPERATOR","->",1126],["T_STRING","getRequestString",1126],"(",")",",",["T_WHITESPACE"," ",1126],["T_CONSTANT_ENCAPSED_STRING","'\/'",1126],")",")",";",["T_WHITESPACE","\n\n        ",1126],["T_VARIABLE","$storeUrl",1128],["T_WHITESPACE"," ",1128],"=",["T_WHITESPACE"," ",1128],["T_STRING","Mage",1128],["T_DOUBLE_COLON","::",1128],["T_STRING","app",1128],"(",")",["T_OBJECT_OPERATOR","->",1128],["T_STRING","getStore",1128],"(",")",["T_OBJECT_OPERATOR","->",1128],["T_STRING","isCurrentlySecure",1128],"(",")",["T_WHITESPACE","\n            ",1128],"?",["T_WHITESPACE"," ",1129],["T_VARIABLE","$this",1129],["T_OBJECT_OPERATOR","->",1129],["T_STRING","getUrl",1129],"(",["T_CONSTANT_ENCAPSED_STRING","''",1129],",",["T_WHITESPACE"," ",1129],["T_ARRAY","array",1129],"(",["T_CONSTANT_ENCAPSED_STRING","'_secure'",1129],["T_WHITESPACE"," ",1129],["T_DOUBLE_ARROW","=>",1129],["T_WHITESPACE"," ",1129],["T_STRING","true",1129],")",")",["T_WHITESPACE","\n            ",1129],":",["T_WHITESPACE"," ",1130],["T_VARIABLE","$this",1130],["T_OBJECT_OPERATOR","->",1130],["T_STRING","getUrl",1130],"(",["T_CONSTANT_ENCAPSED_STRING","''",1130],")",";",["T_WHITESPACE","\n        ",1130],["T_VARIABLE","$storeParsedUrl",1131],["T_WHITESPACE"," ",1131],"=",["T_WHITESPACE"," ",1131],["T_STRING","parse_url",1131],"(",["T_VARIABLE","$storeUrl",1131],")",";",["T_WHITESPACE","\n\n        ",1131],["T_VARIABLE","$storeParsedQuery",1133],["T_WHITESPACE"," ",1133],"=",["T_WHITESPACE"," ",1133],["T_ARRAY","array",1133],"(",")",";",["T_WHITESPACE","\n        ",1133],["T_IF","if",1134],["T_WHITESPACE"," ",1134],"(",["T_ISSET","isset",1134],"(",["T_VARIABLE","$storeParsedUrl",1134],"[",["T_CONSTANT_ENCAPSED_STRING","'query'",1134],"]",")",")",["T_WHITESPACE"," ",1134],"{",["T_WHITESPACE","\n            ",1134],["T_STRING","parse_str",1135],"(",["T_VARIABLE","$storeParsedUrl",1135],"[",["T_CONSTANT_ENCAPSED_STRING","'query'",1135],"]",",",["T_WHITESPACE"," ",1135],["T_VARIABLE","$storeParsedQuery",1135],")",";",["T_WHITESPACE","\n        ",1135],"}",["T_WHITESPACE","\n\n        ",1136],["T_VARIABLE","$currQuery",1138],["T_WHITESPACE"," ",1138],"=",["T_WHITESPACE"," ",1138],["T_STRING","Mage",1138],["T_DOUBLE_COLON","::",1138],["T_STRING","app",1138],"(",")",["T_OBJECT_OPERATOR","->",1138],["T_STRING","getRequest",1138],"(",")",["T_OBJECT_OPERATOR","->",1138],["T_STRING","getQuery",1138],"(",")",";",["T_WHITESPACE","\n        ",1138],["T_IF","if",1139],["T_WHITESPACE"," ",1139],"(",["T_ISSET","isset",1139],"(",["T_VARIABLE","$currQuery",1139],"[",["T_VARIABLE","$sidQueryParam",1139],"]",")",["T_WHITESPACE"," ",1139],["T_BOOLEAN_AND","&&",1139],["T_WHITESPACE"," ",1139],"!",["T_EMPTY","empty",1139],"(",["T_VARIABLE","$currQuery",1139],"[",["T_VARIABLE","$sidQueryParam",1139],"]",")",["T_WHITESPACE","\n            ",1139],["T_BOOLEAN_AND","&&",1140],["T_WHITESPACE"," ",1140],["T_VARIABLE","$this",1140],["T_OBJECT_OPERATOR","->",1140],["T_STRING","_getSession",1140],"(",")",["T_OBJECT_OPERATOR","->",1140],["T_STRING","getSessionIdForHost",1140],"(",["T_VARIABLE","$storeUrl",1140],")",["T_WHITESPACE"," ",1140],["T_IS_NOT_EQUAL","!=",1140],["T_WHITESPACE"," ",1140],["T_VARIABLE","$currQuery",1140],"[",["T_VARIABLE","$sidQueryParam",1140],"]",["T_WHITESPACE","\n        ",1140],")",["T_WHITESPACE"," ",1141],"{",["T_WHITESPACE","\n            ",1141],["T_UNSET","unset",1142],"(",["T_VARIABLE","$currQuery",1142],"[",["T_VARIABLE","$sidQueryParam",1142],"]",")",";",["T_WHITESPACE","\n        ",1142],"}",["T_WHITESPACE","\n\n        ",1143],["T_FOREACH","foreach",1145],["T_WHITESPACE"," ",1145],"(",["T_VARIABLE","$currQuery",1145],["T_WHITESPACE"," ",1145],["T_AS","as",1145],["T_WHITESPACE"," ",1145],["T_VARIABLE","$k",1145],["T_WHITESPACE"," ",1145],["T_DOUBLE_ARROW","=>",1145],["T_WHITESPACE"," ",1145],["T_VARIABLE","$v",1145],")",["T_WHITESPACE"," ",1145],"{",["T_WHITESPACE","\n            ",1145],["T_VARIABLE","$storeParsedQuery",1146],"[",["T_VARIABLE","$k",1146],"]",["T_WHITESPACE"," ",1146],"=",["T_WHITESPACE"," ",1146],["T_VARIABLE","$v",1146],";",["T_WHITESPACE","\n        ",1146],"}",["T_WHITESPACE","\n\n        ",1147],["T_IF","if",1149],["T_WHITESPACE"," ",1149],"(","!",["T_STRING","Mage",1149],["T_DOUBLE_COLON","::",1149],["T_STRING","getStoreConfigFlag",1149],"(",["T_STRING","Mage_Core_Model_Store",1149],["T_DOUBLE_COLON","::",1149],["T_STRING","XML_PATH_STORE_IN_URL",1149],",",["T_WHITESPACE"," ",1149],["T_VARIABLE","$this",1149],["T_OBJECT_OPERATOR","->",1149],["T_STRING","getCode",1149],"(",")",")",")",["T_WHITESPACE"," ",1149],"{",["T_WHITESPACE","\n            ",1149],["T_VARIABLE","$storeParsedQuery",1150],"[",["T_CONSTANT_ENCAPSED_STRING","'___store'",1150],"]",["T_WHITESPACE"," ",1150],"=",["T_WHITESPACE"," ",1150],["T_VARIABLE","$this",1150],["T_OBJECT_OPERATOR","->",1150],["T_STRING","getCode",1150],"(",")",";",["T_WHITESPACE","\n        ",1150],"}",["T_WHITESPACE","\n        ",1151],["T_IF","if",1152],["T_WHITESPACE"," ",1152],"(",["T_VARIABLE","$fromStore",1152],["T_WHITESPACE"," ",1152],["T_IS_NOT_IDENTICAL","!==",1152],["T_WHITESPACE"," ",1152],["T_STRING","false",1152],")",["T_WHITESPACE"," ",1152],"{",["T_WHITESPACE","\n            ",1152],["T_VARIABLE","$storeParsedQuery",1153],"[",["T_CONSTANT_ENCAPSED_STRING","'___from_store'",1153],"]",["T_WHITESPACE"," ",1153],"=",["T_WHITESPACE"," ",1153],["T_VARIABLE","$fromStore",1153],["T_WHITESPACE"," ",1153],["T_IS_IDENTICAL","===",1153],["T_WHITESPACE"," ",1153],["T_STRING","true",1153],["T_WHITESPACE"," ",1153],"?",["T_WHITESPACE"," ",1153],["T_STRING","Mage",1153],["T_DOUBLE_COLON","::",1153],["T_STRING","app",1153],"(",")",["T_OBJECT_OPERATOR","->",1153],["T_STRING","getStore",1153],"(",")",["T_OBJECT_OPERATOR","->",1153],["T_STRING","getCode",1153],"(",")",["T_WHITESPACE"," ",1153],":",["T_WHITESPACE"," ",1153],["T_VARIABLE","$fromStore",1153],";",["T_WHITESPACE","\n        ",1153],"}",["T_WHITESPACE","\n\n        ",1154],["T_RETURN","return",1156],["T_WHITESPACE"," ",1156],["T_VARIABLE","$storeParsedUrl",1156],"[",["T_CONSTANT_ENCAPSED_STRING","'scheme'",1156],"]",["T_WHITESPACE"," ",1156],".",["T_WHITESPACE"," ",1156],["T_CONSTANT_ENCAPSED_STRING","':\/\/'",1156],["T_WHITESPACE"," ",1156],".",["T_WHITESPACE"," ",1156],["T_VARIABLE","$storeParsedUrl",1156],"[",["T_CONSTANT_ENCAPSED_STRING","'host'",1156],"]",["T_WHITESPACE","\n            ",1156],".",["T_WHITESPACE"," ",1157],"(",["T_ISSET","isset",1157],"(",["T_VARIABLE","$storeParsedUrl",1157],"[",["T_CONSTANT_ENCAPSED_STRING","'port'",1157],"]",")",["T_WHITESPACE"," ",1157],"?",["T_WHITESPACE"," ",1157],["T_CONSTANT_ENCAPSED_STRING","':'",1157],["T_WHITESPACE"," ",1157],".",["T_WHITESPACE"," ",1157],["T_VARIABLE","$storeParsedUrl",1157],"[",["T_CONSTANT_ENCAPSED_STRING","'port'",1157],"]",["T_WHITESPACE"," ",1157],":",["T_WHITESPACE"," ",1157],["T_CONSTANT_ENCAPSED_STRING","''",1157],")",["T_WHITESPACE","\n            ",1157],".",["T_WHITESPACE"," ",1158],["T_VARIABLE","$storeParsedUrl",1158],"[",["T_CONSTANT_ENCAPSED_STRING","'path'",1158],"]",["T_WHITESPACE"," ",1158],".",["T_WHITESPACE"," ",1158],["T_VARIABLE","$requestString",1158],["T_WHITESPACE","\n            ",1158],".",["T_WHITESPACE"," ",1159],"(",["T_VARIABLE","$storeParsedQuery",1159],["T_WHITESPACE"," ",1159],"?",["T_WHITESPACE"," ",1159],["T_CONSTANT_ENCAPSED_STRING","'?'",1159],".",["T_STRING","http_build_query",1159],"(",["T_VARIABLE","$storeParsedQuery",1159],",",["T_WHITESPACE"," ",1159],["T_CONSTANT_ENCAPSED_STRING","''",1159],",",["T_WHITESPACE"," ",1159],["T_CONSTANT_ENCAPSED_STRING","'&amp;'",1159],")",["T_WHITESPACE"," ",1159],":",["T_WHITESPACE"," ",1159],["T_CONSTANT_ENCAPSED_STRING","''",1159],")",";",["T_WHITESPACE","\n    ",1159],"}",["T_WHITESPACE","\n\n    ",1160],["T_DOC_COMMENT","\/**\n     * Check if store is active\n     *\n     * @return boolean|null\n     *\/",1162],["T_WHITESPACE","\n    ",1166],["T_PUBLIC","public",1167],["T_WHITESPACE"," ",1167],["T_FUNCTION","function",1167],["T_WHITESPACE"," ",1167],["T_STRING","getIsActive",1167],"(",")",["T_WHITESPACE","\n    ",1167],"{",["T_WHITESPACE","\n        ",1168],["T_RETURN","return",1169],["T_WHITESPACE"," ",1169],["T_VARIABLE","$this",1169],["T_OBJECT_OPERATOR","->",1169],["T_STRING","_getData",1169],"(",["T_CONSTANT_ENCAPSED_STRING","'is_active'",1169],")",";",["T_WHITESPACE","\n    ",1169],"}",["T_WHITESPACE","\n\n    ",1170],["T_DOC_COMMENT","\/**\n     * Retrieve store name\n     *\n     * @return string|null\n     *\/",1172],["T_WHITESPACE","\n    ",1176],["T_PUBLIC","public",1177],["T_WHITESPACE"," ",1177],["T_FUNCTION","function",1177],["T_WHITESPACE"," ",1177],["T_STRING","getName",1177],"(",")",["T_WHITESPACE","\n    ",1177],"{",["T_WHITESPACE","\n        ",1178],["T_RETURN","return",1179],["T_WHITESPACE"," ",1179],["T_VARIABLE","$this",1179],["T_OBJECT_OPERATOR","->",1179],["T_STRING","_getData",1179],"(",["T_CONSTANT_ENCAPSED_STRING","'name'",1179],")",";",["T_WHITESPACE","\n    ",1179],"}",["T_WHITESPACE","\n\n    ",1180],["T_DOC_COMMENT","\/**\n     * Protect delete from non admin area\n     *\n     * Register indexing event before delete store\n     *\n     * @return Mage_Core_Model_Store\n     *\/",1182],["T_WHITESPACE","\n    ",1188],["T_PROTECTED","protected",1189],["T_WHITESPACE"," ",1189],["T_FUNCTION","function",1189],["T_WHITESPACE"," ",1189],["T_STRING","_beforeDelete",1189],"(",")",["T_WHITESPACE","\n    ",1189],"{",["T_WHITESPACE","\n        ",1190],["T_VARIABLE","$this",1191],["T_OBJECT_OPERATOR","->",1191],["T_STRING","_protectFromNonAdmin",1191],"(",")",";",["T_WHITESPACE","\n        ",1191],["T_STRING","Mage",1192],["T_DOUBLE_COLON","::",1192],["T_STRING","getSingleton",1192],"(",["T_CONSTANT_ENCAPSED_STRING","'index\/indexer'",1192],")",["T_OBJECT_OPERATOR","->",1192],["T_STRING","logEvent",1192],"(",["T_VARIABLE","$this",1192],",",["T_WHITESPACE"," ",1192],["T_STRING","self",1192],["T_DOUBLE_COLON","::",1192],["T_STRING","ENTITY",1192],",",["T_WHITESPACE"," ",1192],["T_STRING","Mage_Index_Model_Event",1192],["T_DOUBLE_COLON","::",1192],["T_STRING","TYPE_DELETE",1192],")",";",["T_WHITESPACE","\n        ",1192],["T_RETURN","return",1193],["T_WHITESPACE"," ",1193],["T_STRING","parent",1193],["T_DOUBLE_COLON","::",1193],["T_STRING","_beforeDelete",1193],"(",")",";",["T_WHITESPACE","\n    ",1193],"}",["T_WHITESPACE","\n\n    ",1194],["T_DOC_COMMENT","\/**\n     * rewrite in order to clear configuration cache\n     *\n     * @return Mage_Core_Model_Store\n     *\/",1196],["T_WHITESPACE","\n    ",1200],["T_PROTECTED","protected",1201],["T_WHITESPACE"," ",1201],["T_FUNCTION","function",1201],["T_WHITESPACE"," ",1201],["T_STRING","_afterDelete",1201],"(",")",["T_WHITESPACE","\n    ",1201],"{",["T_WHITESPACE","\n        ",1202],["T_STRING","parent",1203],["T_DOUBLE_COLON","::",1203],["T_STRING","_afterDelete",1203],"(",")",";",["T_WHITESPACE","\n        ",1203],["T_STRING","Mage",1204],["T_DOUBLE_COLON","::",1204],["T_STRING","getConfig",1204],"(",")",["T_OBJECT_OPERATOR","->",1204],["T_STRING","removeCache",1204],"(",")",";",["T_WHITESPACE","\n        ",1204],["T_RETURN","return",1205],["T_WHITESPACE"," ",1205],["T_VARIABLE","$this",1205],";",["T_WHITESPACE","\n    ",1205],"}",["T_WHITESPACE","\n\n    ",1206],["T_DOC_COMMENT","\/**\n     * Init indexing process after store delete commit\n     *\n     * @return Mage_Core_Model_Store\n     *\/",1208],["T_WHITESPACE","\n    ",1212],["T_PROTECTED","protected",1213],["T_WHITESPACE"," ",1213],["T_FUNCTION","function",1213],["T_WHITESPACE"," ",1213],["T_STRING","_afterDeleteCommit",1213],"(",")",["T_WHITESPACE","\n    ",1213],"{",["T_WHITESPACE","\n        ",1214],["T_STRING","parent",1215],["T_DOUBLE_COLON","::",1215],["T_STRING","_afterDeleteCommit",1215],"(",")",";",["T_WHITESPACE","\n        ",1215],["T_STRING","Mage",1216],["T_DOUBLE_COLON","::",1216],["T_STRING","getSingleton",1216],"(",["T_CONSTANT_ENCAPSED_STRING","'index\/indexer'",1216],")",["T_OBJECT_OPERATOR","->",1216],["T_STRING","indexEvents",1216],"(",["T_STRING","self",1216],["T_DOUBLE_COLON","::",1216],["T_STRING","ENTITY",1216],",",["T_WHITESPACE"," ",1216],["T_STRING","Mage_Index_Model_Event",1216],["T_DOUBLE_COLON","::",1216],["T_STRING","TYPE_DELETE",1216],")",";",["T_WHITESPACE","\n        ",1216],["T_RETURN","return",1217],["T_WHITESPACE"," ",1217],["T_VARIABLE","$this",1217],";",["T_WHITESPACE","\n    ",1217],"}",["T_WHITESPACE","\n\n    ",1218],["T_DOC_COMMENT","\/**\n     * Reinit and reset Config Data\n     *\n     * @return Mage_Core_Model_Store\n     *\/",1220],["T_WHITESPACE","\n    ",1224],["T_PUBLIC","public",1225],["T_WHITESPACE"," ",1225],["T_FUNCTION","function",1225],["T_WHITESPACE"," ",1225],["T_STRING","resetConfig",1225],"(",")",["T_WHITESPACE","\n    ",1225],"{",["T_WHITESPACE","\n        ",1226],["T_STRING","Mage",1227],["T_DOUBLE_COLON","::",1227],["T_STRING","getConfig",1227],"(",")",["T_OBJECT_OPERATOR","->",1227],["T_STRING","reinit",1227],"(",")",";",["T_WHITESPACE","\n        ",1227],["T_VARIABLE","$this",1228],["T_OBJECT_OPERATOR","->",1228],["T_STRING","_dirCache",1228],["T_WHITESPACE","        ",1228],"=",["T_WHITESPACE"," ",1228],["T_ARRAY","array",1228],"(",")",";",["T_WHITESPACE","\n        ",1228],["T_VARIABLE","$this",1229],["T_OBJECT_OPERATOR","->",1229],["T_STRING","_configCache",1229],["T_WHITESPACE","     ",1229],"=",["T_WHITESPACE"," ",1229],["T_ARRAY","array",1229],"(",")",";",["T_WHITESPACE","\n        ",1229],["T_VARIABLE","$this",1230],["T_OBJECT_OPERATOR","->",1230],["T_STRING","_baseUrlCache",1230],["T_WHITESPACE","    ",1230],"=",["T_WHITESPACE"," ",1230],["T_ARRAY","array",1230],"(",")",";",["T_WHITESPACE","\n        ",1230],["T_VARIABLE","$this",1231],["T_OBJECT_OPERATOR","->",1231],["T_STRING","_urlCache",1231],["T_WHITESPACE","        ",1231],"=",["T_WHITESPACE"," ",1231],["T_ARRAY","array",1231],"(",")",";",["T_WHITESPACE","\n\n        ",1231],["T_RETURN","return",1233],["T_WHITESPACE"," ",1233],["T_VARIABLE","$this",1233],";",["T_WHITESPACE","\n    ",1233],"}",["T_WHITESPACE","\n\n    ",1234],["T_DOC_COMMENT","\/**\n     * Get\/Set isReadOnly flag\n     *\n     * @param bool $value\n     * @return bool\n     *\/",1236],["T_WHITESPACE","\n    ",1241],["T_PUBLIC","public",1242],["T_WHITESPACE"," ",1242],["T_FUNCTION","function",1242],["T_WHITESPACE"," ",1242],["T_STRING","isReadOnly",1242],"(",["T_VARIABLE","$value",1242],["T_WHITESPACE"," ",1242],"=",["T_WHITESPACE"," ",1242],["T_STRING","null",1242],")",["T_WHITESPACE","\n    ",1242],"{",["T_WHITESPACE","\n        ",1243],["T_IF","if",1244],["T_WHITESPACE"," ",1244],"(",["T_STRING","null",1244],["T_WHITESPACE"," ",1244],["T_IS_NOT_IDENTICAL","!==",1244],["T_WHITESPACE"," ",1244],["T_VARIABLE","$value",1244],")",["T_WHITESPACE"," ",1244],"{",["T_WHITESPACE","\n            ",1244],["T_VARIABLE","$this",1245],["T_OBJECT_OPERATOR","->",1245],["T_STRING","_isReadOnly",1245],["T_WHITESPACE"," ",1245],"=",["T_WHITESPACE"," ",1245],["T_BOOL_CAST","(bool)",1245],["T_WHITESPACE"," ",1245],["T_VARIABLE","$value",1245],";",["T_WHITESPACE","\n        ",1245],"}",["T_WHITESPACE","\n        ",1246],["T_RETURN","return",1247],["T_WHITESPACE"," ",1247],["T_VARIABLE","$this",1247],["T_OBJECT_OPERATOR","->",1247],["T_STRING","_isReadOnly",1247],";",["T_WHITESPACE","\n    ",1247],"}",["T_WHITESPACE","\n\n    ",1248],["T_DOC_COMMENT","\/**\n     * Retrieve storegroup name\n     *\n     * @return string\n     *\/",1250],["T_WHITESPACE","\n    ",1254],["T_PUBLIC","public",1255],["T_WHITESPACE"," ",1255],["T_FUNCTION","function",1255],["T_WHITESPACE"," ",1255],["T_STRING","getFrontendName",1255],"(",")",["T_WHITESPACE","\n    ",1255],"{",["T_WHITESPACE","\n        ",1256],["T_IF","if",1257],["T_WHITESPACE"," ",1257],"(",["T_STRING","is_null",1257],"(",["T_VARIABLE","$this",1257],["T_OBJECT_OPERATOR","->",1257],["T_STRING","_frontendName",1257],")",")",["T_WHITESPACE"," ",1257],"{",["T_WHITESPACE","\n            ",1257],["T_VARIABLE","$storeGroupName",1258],["T_WHITESPACE"," ",1258],"=",["T_WHITESPACE"," ",1258],["T_STRING_CAST","(string)",1258],["T_WHITESPACE"," ",1258],["T_STRING","Mage",1258],["T_DOUBLE_COLON","::",1258],["T_STRING","getStoreConfig",1258],"(",["T_CONSTANT_ENCAPSED_STRING","'general\/store_information\/name'",1258],",",["T_WHITESPACE"," ",1258],["T_VARIABLE","$this",1258],")",";",["T_WHITESPACE","\n            ",1258],["T_VARIABLE","$this",1259],["T_OBJECT_OPERATOR","->",1259],["T_STRING","_frontendName",1259],["T_WHITESPACE"," ",1259],"=",["T_WHITESPACE"," ",1259],"(","!",["T_EMPTY","empty",1259],"(",["T_VARIABLE","$storeGroupName",1259],")",")",["T_WHITESPACE"," ",1259],"?",["T_WHITESPACE"," ",1259],["T_VARIABLE","$storeGroupName",1259],["T_WHITESPACE"," ",1259],":",["T_WHITESPACE"," ",1259],["T_VARIABLE","$this",1259],["T_OBJECT_OPERATOR","->",1259],["T_STRING","getGroup",1259],"(",")",["T_OBJECT_OPERATOR","->",1259],["T_STRING","getName",1259],"(",")",";",["T_WHITESPACE","\n        ",1259],"}",["T_WHITESPACE","\n        ",1260],["T_RETURN","return",1261],["T_WHITESPACE"," ",1261],["T_VARIABLE","$this",1261],["T_OBJECT_OPERATOR","->",1261],["T_STRING","_frontendName",1261],";",["T_WHITESPACE","\n    ",1261],"}",["T_WHITESPACE","\n",1262],"}",["T_WHITESPACE","\n",1263]]