[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Magento\n *\n * NOTICE OF LICENSE\n *\n * This source file is subject to the Open Software License (OSL 3.0)\n * that is bundled with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/opensource.org\/licenses\/osl-3.0.php\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@magento.com so we can send you a copy immediately.\n *\n * DISCLAIMER\n *\n * Do not edit or add to this file if you wish to upgrade Magento to newer\n * versions in the future. If you wish to customize Magento for your\n * needs please refer to http:\/\/www.magento.com for more information.\n *\n * @category    Mage\n * @package     Mage_Core\n * @copyright  Copyright (c) 2006-2016 X.commerce, Inc. and affiliates (http:\/\/www.magento.com)\n * @license    http:\/\/opensource.org\/licenses\/osl-3.0.php  Open Software License (OSL 3.0)\n *\/",2],["T_WHITESPACE","\n\n",25],["T_DOC_COMMENT","\/**\n * Email Template Mailer Model\n *\n * @method Mage_Core_Model_Email_Template_Mailer setQueue(Mage_Core_Model_Abstract $value)\n * @method Mage_Core_Model_Email_Queue getQueue()\n *\n * @category    Mage\n * @package     Mage_Core\n * @author      Magento Core Team <core@magentocommerce.com>\n *\/",27],["T_WHITESPACE","\n",36],["T_CLASS","class",37],["T_WHITESPACE"," ",37],["T_STRING","Mage_Core_Model_Email_Template_Mailer",37],["T_WHITESPACE"," ",37],["T_EXTENDS","extends",37],["T_WHITESPACE"," ",37],["T_STRING","Varien_Object",37],["T_WHITESPACE","\n",37],"{",["T_WHITESPACE","\n    ",38],["T_DOC_COMMENT","\/**\n     * List of email infos\n     * @see Mage_Core_Model_Email_Info\n     *\n     * @var array\n     *\/",39],["T_WHITESPACE","\n    ",44],["T_PROTECTED","protected",45],["T_WHITESPACE"," ",45],["T_VARIABLE","$_emailInfos",45],["T_WHITESPACE"," ",45],"=",["T_WHITESPACE"," ",45],["T_ARRAY","array",45],"(",")",";",["T_WHITESPACE","\n\n    ",45],["T_DOC_COMMENT","\/**\n     * Add new email info to corresponding list\n     *\n     * @param Mage_Core_Model_Email_Info $emailInfo\n     * @return Mage_Core_Model_Email_Template_Mailer\n     *\/",47],["T_WHITESPACE","\n    ",52],["T_PUBLIC","public",53],["T_WHITESPACE"," ",53],["T_FUNCTION","function",53],["T_WHITESPACE"," ",53],["T_STRING","addEmailInfo",53],"(",["T_STRING","Mage_Core_Model_Email_Info",53],["T_WHITESPACE"," ",53],["T_VARIABLE","$emailInfo",53],")",["T_WHITESPACE","\n    ",53],"{",["T_WHITESPACE","\n        ",54],["T_STRING","array_push",55],"(",["T_VARIABLE","$this",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","_emailInfos",55],",",["T_WHITESPACE"," ",55],["T_VARIABLE","$emailInfo",55],")",";",["T_WHITESPACE","\n        ",55],["T_RETURN","return",56],["T_WHITESPACE"," ",56],["T_VARIABLE","$this",56],";",["T_WHITESPACE","\n    ",56],"}",["T_WHITESPACE","\n\n    ",57],["T_DOC_COMMENT","\/**\n     * Send all emails from email list\n     * @see self::$_emailInfos\n     *\n     * @return Mage_Core_Model_Email_Template_Mailer\n     *\/",59],["T_WHITESPACE","\n    ",64],["T_PUBLIC","public",65],["T_WHITESPACE"," ",65],["T_FUNCTION","function",65],["T_WHITESPACE"," ",65],["T_STRING","send",65],"(",")",["T_WHITESPACE","\n    ",65],"{",["T_WHITESPACE","\n        ",66],["T_DOC_COMMENT","\/** @var $emailTemplate Mage_Core_Model_Email_Template *\/",67],["T_WHITESPACE","\n        ",67],["T_VARIABLE","$emailTemplate",68],["T_WHITESPACE"," ",68],"=",["T_WHITESPACE"," ",68],["T_STRING","Mage",68],["T_DOUBLE_COLON","::",68],["T_STRING","getModel",68],"(",["T_CONSTANT_ENCAPSED_STRING","'core\/email_template'",68],")",";",["T_WHITESPACE","\n        ",68],["T_COMMENT","\/\/ Send all emails from corresponding list\n",69],["T_WHITESPACE","        ",70],["T_WHILE","while",70],["T_WHITESPACE"," ",70],"(","!",["T_EMPTY","empty",70],"(",["T_VARIABLE","$this",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","_emailInfos",70],")",")",["T_WHITESPACE"," ",70],"{",["T_WHITESPACE","\n            ",70],["T_VARIABLE","$emailInfo",71],["T_WHITESPACE"," ",71],"=",["T_WHITESPACE"," ",71],["T_STRING","array_pop",71],"(",["T_VARIABLE","$this",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","_emailInfos",71],")",";",["T_WHITESPACE","\n            ",71],["T_COMMENT","\/\/ Handle \"Bcc\" recipients of the current email\n",72],["T_WHITESPACE","            ",73],["T_VARIABLE","$emailTemplate",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","addBcc",73],"(",["T_VARIABLE","$emailInfo",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","getBccEmails",73],"(",")",")",";",["T_WHITESPACE","\n            ",73],["T_COMMENT","\/\/ Set required design parameters and delegate email sending to Mage_Core_Model_Email_Template\n",74],["T_WHITESPACE","            ",75],["T_VARIABLE","$emailTemplate",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","setDesignConfig",75],"(",["T_ARRAY","array",75],"(",["T_CONSTANT_ENCAPSED_STRING","'area'",75],["T_WHITESPACE"," ",75],["T_DOUBLE_ARROW","=>",75],["T_WHITESPACE"," ",75],["T_CONSTANT_ENCAPSED_STRING","'frontend'",75],",",["T_WHITESPACE"," ",75],["T_CONSTANT_ENCAPSED_STRING","'store'",75],["T_WHITESPACE"," ",75],["T_DOUBLE_ARROW","=>",75],["T_WHITESPACE"," ",75],["T_VARIABLE","$this",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","getStoreId",75],"(",")",")",")",["T_WHITESPACE","\n                ",75],["T_OBJECT_OPERATOR","->",76],["T_STRING","setQueue",76],"(",["T_VARIABLE","$this",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","getQueue",76],"(",")",")",["T_WHITESPACE","\n                ",76],["T_OBJECT_OPERATOR","->",77],["T_STRING","sendTransactional",77],"(",["T_WHITESPACE","\n                    ",77],["T_VARIABLE","$this",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","getTemplateId",78],"(",")",",",["T_WHITESPACE","\n                    ",78],["T_VARIABLE","$this",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","getSender",79],"(",")",",",["T_WHITESPACE","\n                    ",79],["T_VARIABLE","$emailInfo",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","getToEmails",80],"(",")",",",["T_WHITESPACE","\n                    ",80],["T_VARIABLE","$emailInfo",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","getToNames",81],"(",")",",",["T_WHITESPACE","\n                    ",81],["T_VARIABLE","$this",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","getTemplateParams",82],"(",")",",",["T_WHITESPACE","\n                    ",82],["T_VARIABLE","$this",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","getStoreId",83],"(",")",["T_WHITESPACE","\n            ",83],")",";",["T_WHITESPACE","\n        ",84],"}",["T_WHITESPACE","\n        ",85],["T_RETURN","return",86],["T_WHITESPACE"," ",86],["T_VARIABLE","$this",86],";",["T_WHITESPACE","\n    ",86],"}",["T_WHITESPACE","\n\n    ",87],["T_DOC_COMMENT","\/**\n     * Set email sender\n     *\n     * @param string|array $sender\n     * @return Mage_Core_Model_Email_Template_Mailer\n     *\/",89],["T_WHITESPACE","\n    ",94],["T_PUBLIC","public",95],["T_WHITESPACE"," ",95],["T_FUNCTION","function",95],["T_WHITESPACE"," ",95],["T_STRING","setSender",95],"(",["T_VARIABLE","$sender",95],")",["T_WHITESPACE","\n    ",95],"{",["T_WHITESPACE","\n        ",96],["T_RETURN","return",97],["T_WHITESPACE"," ",97],["T_VARIABLE","$this",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","setData",97],"(",["T_CONSTANT_ENCAPSED_STRING","'sender'",97],",",["T_WHITESPACE"," ",97],["T_VARIABLE","$sender",97],")",";",["T_WHITESPACE","\n    ",97],"}",["T_WHITESPACE","\n\n    ",98],["T_DOC_COMMENT","\/**\n     * Get email sender\n     *\n     * @return string|array|null\n     *\/",100],["T_WHITESPACE","\n    ",104],["T_PUBLIC","public",105],["T_WHITESPACE"," ",105],["T_FUNCTION","function",105],["T_WHITESPACE"," ",105],["T_STRING","getSender",105],"(",")",["T_WHITESPACE","\n    ",105],"{",["T_WHITESPACE","\n        ",106],["T_RETURN","return",107],["T_WHITESPACE"," ",107],["T_VARIABLE","$this",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","_getData",107],"(",["T_CONSTANT_ENCAPSED_STRING","'sender'",107],")",";",["T_WHITESPACE","\n    ",107],"}",["T_WHITESPACE","\n\n    ",108],["T_DOC_COMMENT","\/**\n     * Set store id\n     *\n     * @param int $storeId\n     * @return Mage_Core_Model_Email_Template_Mailer\n     *\/",110],["T_WHITESPACE","\n    ",115],["T_PUBLIC","public",116],["T_WHITESPACE"," ",116],["T_FUNCTION","function",116],["T_WHITESPACE"," ",116],["T_STRING","setStoreId",116],"(",["T_VARIABLE","$storeId",116],")",["T_WHITESPACE","\n    ",116],"{",["T_WHITESPACE","\n        ",117],["T_RETURN","return",118],["T_WHITESPACE"," ",118],["T_VARIABLE","$this",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","setData",118],"(",["T_CONSTANT_ENCAPSED_STRING","'store_id'",118],",",["T_WHITESPACE"," ",118],["T_VARIABLE","$storeId",118],")",";",["T_WHITESPACE","\n    ",118],"}",["T_WHITESPACE","\n\n    ",119],["T_DOC_COMMENT","\/**\n     * Get store id\n     *\n     * @return int|null\n     *\/",121],["T_WHITESPACE","\n    ",125],["T_PUBLIC","public",126],["T_WHITESPACE"," ",126],["T_FUNCTION","function",126],["T_WHITESPACE"," ",126],["T_STRING","getStoreId",126],"(",")",["T_WHITESPACE","\n    ",126],"{",["T_WHITESPACE","\n        ",127],["T_RETURN","return",128],["T_WHITESPACE"," ",128],["T_VARIABLE","$this",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","_getData",128],"(",["T_CONSTANT_ENCAPSED_STRING","'store_id'",128],")",";",["T_WHITESPACE","\n    ",128],"}",["T_WHITESPACE","\n\n    ",129],["T_DOC_COMMENT","\/**\n     * Set template id\n     *\n     * @param int $templateId\n     * @return Mage_Core_Model_Email_Template_Mailer\n     *\/",131],["T_WHITESPACE","\n    ",136],["T_PUBLIC","public",137],["T_WHITESPACE"," ",137],["T_FUNCTION","function",137],["T_WHITESPACE"," ",137],["T_STRING","setTemplateId",137],"(",["T_VARIABLE","$templateId",137],")",["T_WHITESPACE","\n    ",137],"{",["T_WHITESPACE","\n        ",138],["T_RETURN","return",139],["T_WHITESPACE"," ",139],["T_VARIABLE","$this",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","setData",139],"(",["T_CONSTANT_ENCAPSED_STRING","'template_id'",139],",",["T_WHITESPACE"," ",139],["T_VARIABLE","$templateId",139],")",";",["T_WHITESPACE","\n    ",139],"}",["T_WHITESPACE","\n\n    ",140],["T_DOC_COMMENT","\/**\n     * Get template id\n     *\n     * @return int|null\n     *\/",142],["T_WHITESPACE","\n    ",146],["T_PUBLIC","public",147],["T_WHITESPACE"," ",147],["T_FUNCTION","function",147],["T_WHITESPACE"," ",147],["T_STRING","getTemplateId",147],"(",")",["T_WHITESPACE","\n    ",147],"{",["T_WHITESPACE","\n        ",148],["T_RETURN","return",149],["T_WHITESPACE"," ",149],["T_VARIABLE","$this",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","_getData",149],"(",["T_CONSTANT_ENCAPSED_STRING","'template_id'",149],")",";",["T_WHITESPACE","\n    ",149],"}",["T_WHITESPACE","\n\n    ",150],["T_DOC_COMMENT","\/**\n     * Set tempate parameters\n     *\n     * @param array $templateParams\n     * @return Mage_Core_Model_Email_Template_Mailer\n     *\/",152],["T_WHITESPACE","\n    ",157],["T_PUBLIC","public",158],["T_WHITESPACE"," ",158],["T_FUNCTION","function",158],["T_WHITESPACE"," ",158],["T_STRING","setTemplateParams",158],"(",["T_ARRAY","array",158],["T_WHITESPACE"," ",158],["T_VARIABLE","$templateParams",158],")",["T_WHITESPACE","\n    ",158],"{",["T_WHITESPACE","\n        ",159],["T_RETURN","return",160],["T_WHITESPACE"," ",160],["T_VARIABLE","$this",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","setData",160],"(",["T_CONSTANT_ENCAPSED_STRING","'template_params'",160],",",["T_WHITESPACE"," ",160],["T_VARIABLE","$templateParams",160],")",";",["T_WHITESPACE","\n    ",160],"}",["T_WHITESPACE","\n\n    ",161],["T_DOC_COMMENT","\/**\n     * Get template parameters\n     *\n     * @return array|null\n     *\/",163],["T_WHITESPACE","\n    ",167],["T_PUBLIC","public",168],["T_WHITESPACE"," ",168],["T_FUNCTION","function",168],["T_WHITESPACE"," ",168],["T_STRING","getTemplateParams",168],"(",")",["T_WHITESPACE","\n    ",168],"{",["T_WHITESPACE","\n        ",169],["T_RETURN","return",170],["T_WHITESPACE"," ",170],["T_VARIABLE","$this",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","_getData",170],"(",["T_CONSTANT_ENCAPSED_STRING","'template_params'",170],")",";",["T_WHITESPACE","\n    ",170],"}",["T_WHITESPACE","\n",171],"}",["T_WHITESPACE","\n",172]]