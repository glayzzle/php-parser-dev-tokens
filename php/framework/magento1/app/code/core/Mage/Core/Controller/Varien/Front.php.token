[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Magento\n *\n * NOTICE OF LICENSE\n *\n * This source file is subject to the Open Software License (OSL 3.0)\n * that is bundled with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/opensource.org\/licenses\/osl-3.0.php\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@magento.com so we can send you a copy immediately.\n *\n * DISCLAIMER\n *\n * Do not edit or add to this file if you wish to upgrade Magento to newer\n * versions in the future. If you wish to customize Magento for your\n * needs please refer to http:\/\/www.magento.com for more information.\n *\n * @category    Mage\n * @package     Mage_Core\n * @copyright  Copyright (c) 2006-2016 X.commerce, Inc. and affiliates (http:\/\/www.magento.com)\n * @license    http:\/\/opensource.org\/licenses\/osl-3.0.php  Open Software License (OSL 3.0)\n *\/",2],["T_WHITESPACE","\n\n\n",25],["T_CLASS","class",28],["T_WHITESPACE"," ",28],["T_STRING","Mage_Core_Controller_Varien_Front",28],["T_WHITESPACE"," ",28],["T_EXTENDS","extends",28],["T_WHITESPACE"," ",28],["T_STRING","Varien_Object",28],["T_WHITESPACE","\n",28],"{",["T_WHITESPACE","\n    ",29],["T_PROTECTED","protected",30],["T_WHITESPACE"," ",30],["T_VARIABLE","$_defaults",30],["T_WHITESPACE"," ",30],"=",["T_WHITESPACE"," ",30],["T_ARRAY","array",30],"(",")",";",["T_WHITESPACE","\n\n    ",30],["T_DOC_COMMENT","\/**\n     * Available routers array\n     *\n     * @var array\n     *\/",32],["T_WHITESPACE","\n    ",36],["T_PROTECTED","protected",37],["T_WHITESPACE"," ",37],["T_VARIABLE","$_routers",37],["T_WHITESPACE"," ",37],"=",["T_WHITESPACE"," ",37],["T_ARRAY","array",37],"(",")",";",["T_WHITESPACE","\n\n    ",37],["T_PROTECTED","protected",39],["T_WHITESPACE"," ",39],["T_VARIABLE","$_urlCache",39],["T_WHITESPACE"," ",39],"=",["T_WHITESPACE"," ",39],["T_ARRAY","array",39],"(",")",";",["T_WHITESPACE","\n\n    ",39],["T_CONST","const",41],["T_WHITESPACE"," ",41],["T_STRING","XML_STORE_ROUTERS_PATH",41],["T_WHITESPACE"," ",41],"=",["T_WHITESPACE"," ",41],["T_CONSTANT_ENCAPSED_STRING","'web\/routers'",41],";",["T_WHITESPACE","\n\n    ",41],["T_PUBLIC","public",43],["T_WHITESPACE"," ",43],["T_FUNCTION","function",43],["T_WHITESPACE"," ",43],["T_STRING","setDefault",43],"(",["T_VARIABLE","$key",43],",",["T_WHITESPACE"," ",43],["T_VARIABLE","$value",43],"=",["T_STRING","null",43],")",["T_WHITESPACE","\n    ",43],"{",["T_WHITESPACE","\n        ",44],["T_IF","if",45],["T_WHITESPACE"," ",45],"(",["T_STRING","is_array",45],"(",["T_VARIABLE","$key",45],")",")",["T_WHITESPACE"," ",45],"{",["T_WHITESPACE","\n            ",45],["T_VARIABLE","$this",46],["T_OBJECT_OPERATOR","->",46],["T_STRING","_defaults",46],["T_WHITESPACE"," ",46],"=",["T_WHITESPACE"," ",46],["T_VARIABLE","$key",46],";",["T_WHITESPACE","\n        ",46],"}",["T_WHITESPACE"," ",47],["T_ELSE","else",47],["T_WHITESPACE"," ",47],"{",["T_WHITESPACE","\n            ",47],["T_VARIABLE","$this",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","_defaults",48],"[",["T_VARIABLE","$key",48],"]",["T_WHITESPACE"," ",48],"=",["T_WHITESPACE"," ",48],["T_VARIABLE","$value",48],";",["T_WHITESPACE","\n        ",48],"}",["T_WHITESPACE","\n        ",49],["T_RETURN","return",50],["T_WHITESPACE"," ",50],["T_VARIABLE","$this",50],";",["T_WHITESPACE","\n    ",50],"}",["T_WHITESPACE","\n\n    ",51],["T_PUBLIC","public",53],["T_WHITESPACE"," ",53],["T_FUNCTION","function",53],["T_WHITESPACE"," ",53],["T_STRING","getDefault",53],"(",["T_VARIABLE","$key",53],"=",["T_STRING","null",53],")",["T_WHITESPACE","\n    ",53],"{",["T_WHITESPACE","\n        ",54],["T_IF","if",55],["T_WHITESPACE"," ",55],"(",["T_STRING","is_null",55],"(",["T_VARIABLE","$key",55],")",")",["T_WHITESPACE"," ",55],"{",["T_WHITESPACE","\n            ",55],["T_RETURN","return",56],["T_WHITESPACE"," ",56],["T_VARIABLE","$this",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","_defaults",56],";",["T_WHITESPACE","\n        ",56],"}",["T_WHITESPACE"," ",57],["T_ELSEIF","elseif",57],["T_WHITESPACE"," ",57],"(",["T_ISSET","isset",57],"(",["T_VARIABLE","$this",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","_defaults",57],"[",["T_VARIABLE","$key",57],"]",")",")",["T_WHITESPACE"," ",57],"{",["T_WHITESPACE","\n            ",57],["T_RETURN","return",58],["T_WHITESPACE"," ",58],["T_VARIABLE","$this",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","_defaults",58],"[",["T_VARIABLE","$key",58],"]",";",["T_WHITESPACE","\n        ",58],"}",["T_WHITESPACE","\n        ",59],["T_RETURN","return",60],["T_WHITESPACE"," ",60],["T_STRING","false",60],";",["T_WHITESPACE","\n    ",60],"}",["T_WHITESPACE","\n\n    ",61],["T_DOC_COMMENT","\/**\n     * Retrieve request object\n     *\n     * @return Mage_Core_Controller_Request_Http\n     *\/",63],["T_WHITESPACE","\n    ",67],["T_PUBLIC","public",68],["T_WHITESPACE"," ",68],["T_FUNCTION","function",68],["T_WHITESPACE"," ",68],["T_STRING","getRequest",68],"(",")",["T_WHITESPACE","\n    ",68],"{",["T_WHITESPACE","\n        ",69],["T_RETURN","return",70],["T_WHITESPACE"," ",70],["T_STRING","Mage",70],["T_DOUBLE_COLON","::",70],["T_STRING","app",70],"(",")",["T_OBJECT_OPERATOR","->",70],["T_STRING","getRequest",70],"(",")",";",["T_WHITESPACE","\n    ",70],"}",["T_WHITESPACE","\n\n    ",71],["T_DOC_COMMENT","\/**\n     * Retrieve response object\n     *\n     * @return Zend_Controller_Response_Http\n     *\/",73],["T_WHITESPACE","\n    ",77],["T_PUBLIC","public",78],["T_WHITESPACE"," ",78],["T_FUNCTION","function",78],["T_WHITESPACE"," ",78],["T_STRING","getResponse",78],"(",")",["T_WHITESPACE","\n    ",78],"{",["T_WHITESPACE","\n        ",79],["T_RETURN","return",80],["T_WHITESPACE"," ",80],["T_STRING","Mage",80],["T_DOUBLE_COLON","::",80],["T_STRING","app",80],"(",")",["T_OBJECT_OPERATOR","->",80],["T_STRING","getResponse",80],"(",")",";",["T_WHITESPACE","\n    ",80],"}",["T_WHITESPACE","\n\n    ",81],["T_DOC_COMMENT","\/**\n     * Adding new router\n     *\n     * @param   string $name\n     * @param   Mage_Core_Controller_Varien_Router_Abstract $router\n     * @return  Mage_Core_Controller_Varien_Front\n     *\/",83],["T_WHITESPACE","\n    ",89],["T_PUBLIC","public",90],["T_WHITESPACE"," ",90],["T_FUNCTION","function",90],["T_WHITESPACE"," ",90],["T_STRING","addRouter",90],"(",["T_VARIABLE","$name",90],",",["T_WHITESPACE"," ",90],["T_STRING","Mage_Core_Controller_Varien_Router_Abstract",90],["T_WHITESPACE"," ",90],["T_VARIABLE","$router",90],")",["T_WHITESPACE","\n    ",90],"{",["T_WHITESPACE","\n        ",91],["T_VARIABLE","$router",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","setFront",92],"(",["T_VARIABLE","$this",92],")",";",["T_WHITESPACE","\n        ",92],["T_VARIABLE","$this",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","_routers",93],"[",["T_VARIABLE","$name",93],"]",["T_WHITESPACE"," ",93],"=",["T_WHITESPACE"," ",93],["T_VARIABLE","$router",93],";",["T_WHITESPACE","\n        ",93],["T_RETURN","return",94],["T_WHITESPACE"," ",94],["T_VARIABLE","$this",94],";",["T_WHITESPACE","\n    ",94],"}",["T_WHITESPACE","\n\n    ",95],["T_DOC_COMMENT","\/**\n     * Retrieve router by name\n     *\n     * @param   string $name\n     * @return  Mage_Core_Controller_Varien_Router_Abstract\n     *\/",97],["T_WHITESPACE","\n    ",102],["T_PUBLIC","public",103],["T_WHITESPACE"," ",103],["T_FUNCTION","function",103],["T_WHITESPACE"," ",103],["T_STRING","getRouter",103],"(",["T_VARIABLE","$name",103],")",["T_WHITESPACE","\n    ",103],"{",["T_WHITESPACE","\n        ",104],["T_IF","if",105],["T_WHITESPACE"," ",105],"(",["T_ISSET","isset",105],"(",["T_VARIABLE","$this",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","_routers",105],"[",["T_VARIABLE","$name",105],"]",")",")",["T_WHITESPACE"," ",105],"{",["T_WHITESPACE","\n            ",105],["T_RETURN","return",106],["T_WHITESPACE"," ",106],["T_VARIABLE","$this",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","_routers",106],"[",["T_VARIABLE","$name",106],"]",";",["T_WHITESPACE","\n        ",106],"}",["T_WHITESPACE","\n        ",107],["T_RETURN","return",108],["T_WHITESPACE"," ",108],["T_STRING","false",108],";",["T_WHITESPACE","\n    ",108],"}",["T_WHITESPACE","\n\n    ",109],["T_DOC_COMMENT","\/**\n     * Retrieve routers collection\n     *\n     * @return array\n     *\/",111],["T_WHITESPACE","\n    ",115],["T_PUBLIC","public",116],["T_WHITESPACE"," ",116],["T_FUNCTION","function",116],["T_WHITESPACE"," ",116],["T_STRING","getRouters",116],"(",")",["T_WHITESPACE","\n    ",116],"{",["T_WHITESPACE","\n        ",117],["T_RETURN","return",118],["T_WHITESPACE"," ",118],["T_VARIABLE","$this",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","_routers",118],";",["T_WHITESPACE","\n    ",118],"}",["T_WHITESPACE","\n\n    ",119],["T_DOC_COMMENT","\/**\n     * Init Front Controller\n     *\n     * @return Mage_Core_Controller_Varien_Front\n     *\/",121],["T_WHITESPACE","\n    ",125],["T_PUBLIC","public",126],["T_WHITESPACE"," ",126],["T_FUNCTION","function",126],["T_WHITESPACE"," ",126],["T_STRING","init",126],"(",")",["T_WHITESPACE","\n    ",126],"{",["T_WHITESPACE","\n        ",127],["T_STRING","Mage",128],["T_DOUBLE_COLON","::",128],["T_STRING","dispatchEvent",128],"(",["T_CONSTANT_ENCAPSED_STRING","'controller_front_init_before'",128],",",["T_WHITESPACE"," ",128],["T_ARRAY","array",128],"(",["T_CONSTANT_ENCAPSED_STRING","'front'",128],["T_DOUBLE_ARROW","=>",128],["T_VARIABLE","$this",128],")",")",";",["T_WHITESPACE","\n\n        ",128],["T_VARIABLE","$routersInfo",130],["T_WHITESPACE"," ",130],"=",["T_WHITESPACE"," ",130],["T_STRING","Mage",130],["T_DOUBLE_COLON","::",130],["T_STRING","app",130],"(",")",["T_OBJECT_OPERATOR","->",130],["T_STRING","getStore",130],"(",")",["T_OBJECT_OPERATOR","->",130],["T_STRING","getConfig",130],"(",["T_STRING","self",130],["T_DOUBLE_COLON","::",130],["T_STRING","XML_STORE_ROUTERS_PATH",130],")",";",["T_WHITESPACE","\n\n        ",130],["T_STRING","Varien_Profiler",132],["T_DOUBLE_COLON","::",132],["T_STRING","start",132],"(",["T_CONSTANT_ENCAPSED_STRING","'mage::app::init_front_controller::collect_routers'",132],")",";",["T_WHITESPACE","\n        ",132],["T_FOREACH","foreach",133],["T_WHITESPACE"," ",133],"(",["T_VARIABLE","$routersInfo",133],["T_WHITESPACE"," ",133],["T_AS","as",133],["T_WHITESPACE"," ",133],["T_VARIABLE","$routerCode",133],["T_WHITESPACE"," ",133],["T_DOUBLE_ARROW","=>",133],["T_WHITESPACE"," ",133],["T_VARIABLE","$routerInfo",133],")",["T_WHITESPACE"," ",133],"{",["T_WHITESPACE","\n            ",133],["T_IF","if",134],["T_WHITESPACE"," ",134],"(",["T_ISSET","isset",134],"(",["T_VARIABLE","$routerInfo",134],"[",["T_CONSTANT_ENCAPSED_STRING","'disabled'",134],"]",")",["T_WHITESPACE"," ",134],["T_BOOLEAN_AND","&&",134],["T_WHITESPACE"," ",134],["T_VARIABLE","$routerInfo",134],"[",["T_CONSTANT_ENCAPSED_STRING","'disabled'",134],"]",")",["T_WHITESPACE"," ",134],"{",["T_WHITESPACE","\n                ",134],["T_CONTINUE","continue",135],";",["T_WHITESPACE","\n            ",135],"}",["T_WHITESPACE","\n            ",136],["T_IF","if",137],["T_WHITESPACE"," ",137],"(",["T_ISSET","isset",137],"(",["T_VARIABLE","$routerInfo",137],"[",["T_CONSTANT_ENCAPSED_STRING","'class'",137],"]",")",")",["T_WHITESPACE"," ",137],"{",["T_WHITESPACE","\n                ",137],["T_VARIABLE","$router",138],["T_WHITESPACE"," ",138],"=",["T_WHITESPACE"," ",138],["T_NEW","new",138],["T_WHITESPACE"," ",138],["T_VARIABLE","$routerInfo",138],"[",["T_CONSTANT_ENCAPSED_STRING","'class'",138],"]",";",["T_WHITESPACE","\n                ",138],["T_IF","if",139],["T_WHITESPACE"," ",139],"(",["T_ISSET","isset",139],"(",["T_VARIABLE","$routerInfo",139],"[",["T_CONSTANT_ENCAPSED_STRING","'area'",139],"]",")",")",["T_WHITESPACE"," ",139],"{",["T_WHITESPACE","\n                    ",139],["T_VARIABLE","$router",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","collectRoutes",140],"(",["T_VARIABLE","$routerInfo",140],"[",["T_CONSTANT_ENCAPSED_STRING","'area'",140],"]",",",["T_WHITESPACE"," ",140],["T_VARIABLE","$routerCode",140],")",";",["T_WHITESPACE","\n                ",140],"}",["T_WHITESPACE","\n                ",141],["T_VARIABLE","$this",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","addRouter",142],"(",["T_VARIABLE","$routerCode",142],",",["T_WHITESPACE"," ",142],["T_VARIABLE","$router",142],")",";",["T_WHITESPACE","\n            ",142],"}",["T_WHITESPACE","\n        ",143],"}",["T_WHITESPACE","\n        ",144],["T_STRING","Varien_Profiler",145],["T_DOUBLE_COLON","::",145],["T_STRING","stop",145],"(",["T_CONSTANT_ENCAPSED_STRING","'mage::app::init_front_controller::collect_routers'",145],")",";",["T_WHITESPACE","\n\n        ",145],["T_STRING","Mage",147],["T_DOUBLE_COLON","::",147],["T_STRING","dispatchEvent",147],"(",["T_CONSTANT_ENCAPSED_STRING","'controller_front_init_routers'",147],",",["T_WHITESPACE"," ",147],["T_ARRAY","array",147],"(",["T_CONSTANT_ENCAPSED_STRING","'front'",147],["T_DOUBLE_ARROW","=>",147],["T_VARIABLE","$this",147],")",")",";",["T_WHITESPACE","\n\n        ",147],["T_COMMENT","\/\/ Add default router at the last\n",149],["T_WHITESPACE","        ",150],["T_VARIABLE","$default",150],["T_WHITESPACE"," ",150],"=",["T_WHITESPACE"," ",150],["T_NEW","new",150],["T_WHITESPACE"," ",150],["T_STRING","Mage_Core_Controller_Varien_Router_Default",150],"(",")",";",["T_WHITESPACE","\n        ",150],["T_VARIABLE","$this",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","addRouter",151],"(",["T_CONSTANT_ENCAPSED_STRING","'default'",151],",",["T_WHITESPACE"," ",151],["T_VARIABLE","$default",151],")",";",["T_WHITESPACE","\n\n        ",151],["T_RETURN","return",153],["T_WHITESPACE"," ",153],["T_VARIABLE","$this",153],";",["T_WHITESPACE","\n    ",153],"}",["T_WHITESPACE","\n\n    ",154],["T_PUBLIC","public",156],["T_WHITESPACE"," ",156],["T_FUNCTION","function",156],["T_WHITESPACE"," ",156],["T_STRING","dispatch",156],"(",")",["T_WHITESPACE","\n    ",156],"{",["T_WHITESPACE","\n        ",157],["T_VARIABLE","$request",158],["T_WHITESPACE"," ",158],"=",["T_WHITESPACE"," ",158],["T_VARIABLE","$this",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","getRequest",158],"(",")",";",["T_WHITESPACE","\n\n        ",158],["T_COMMENT","\/\/ If pre-configured, check equality of base URL and requested URL\n",160],["T_WHITESPACE","        ",161],["T_VARIABLE","$this",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","_checkBaseUrl",161],"(",["T_VARIABLE","$request",161],")",";",["T_WHITESPACE","\n\n        ",161],["T_VARIABLE","$request",163],["T_OBJECT_OPERATOR","->",163],["T_STRING","setPathInfo",163],"(",")",["T_OBJECT_OPERATOR","->",163],["T_STRING","setDispatched",163],"(",["T_STRING","false",163],")",";",["T_WHITESPACE","\n\n        ",163],["T_VARIABLE","$this",165],["T_OBJECT_OPERATOR","->",165],["T_STRING","_getRequestRewriteController",165],"(",")",["T_OBJECT_OPERATOR","->",165],["T_STRING","rewrite",165],"(",")",";",["T_WHITESPACE","\n\n        ",165],["T_STRING","Varien_Profiler",167],["T_DOUBLE_COLON","::",167],["T_STRING","start",167],"(",["T_CONSTANT_ENCAPSED_STRING","'mage::dispatch::routers_match'",167],")",";",["T_WHITESPACE","\n        ",167],["T_VARIABLE","$i",168],["T_WHITESPACE"," ",168],"=",["T_WHITESPACE"," ",168],["T_LNUMBER","0",168],";",["T_WHITESPACE","\n        ",168],["T_WHILE","while",169],["T_WHITESPACE"," ",169],"(","!",["T_VARIABLE","$request",169],["T_OBJECT_OPERATOR","->",169],["T_STRING","isDispatched",169],"(",")",["T_WHITESPACE"," ",169],["T_BOOLEAN_AND","&&",169],["T_WHITESPACE"," ",169],["T_VARIABLE","$i",169],["T_INC","++",169],["T_WHITESPACE"," ",169],"<",["T_WHITESPACE"," ",169],["T_LNUMBER","100",169],")",["T_WHITESPACE"," ",169],"{",["T_WHITESPACE","\n            ",169],["T_FOREACH","foreach",170],["T_WHITESPACE"," ",170],"(",["T_VARIABLE","$this",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","_routers",170],["T_WHITESPACE"," ",170],["T_AS","as",170],["T_WHITESPACE"," ",170],["T_VARIABLE","$router",170],")",["T_WHITESPACE"," ",170],"{",["T_WHITESPACE","\n                ",170],["T_DOC_COMMENT","\/** @var $router Mage_Core_Controller_Varien_Router_Abstract *\/",171],["T_WHITESPACE","\n                ",171],["T_IF","if",172],["T_WHITESPACE"," ",172],"(",["T_VARIABLE","$router",172],["T_OBJECT_OPERATOR","->",172],["T_STRING","match",172],"(",["T_VARIABLE","$request",172],")",")",["T_WHITESPACE"," ",172],"{",["T_WHITESPACE","\n                    ",172],["T_BREAK","break",173],";",["T_WHITESPACE","\n                ",173],"}",["T_WHITESPACE","\n            ",174],"}",["T_WHITESPACE","\n        ",175],"}",["T_WHITESPACE","\n        ",176],["T_STRING","Varien_Profiler",177],["T_DOUBLE_COLON","::",177],["T_STRING","stop",177],"(",["T_CONSTANT_ENCAPSED_STRING","'mage::dispatch::routers_match'",177],")",";",["T_WHITESPACE","\n        ",177],["T_IF","if",178],["T_WHITESPACE"," ",178],"(",["T_VARIABLE","$i",178],">",["T_LNUMBER","100",178],")",["T_WHITESPACE"," ",178],"{",["T_WHITESPACE","\n            ",178],["T_STRING","Mage",179],["T_DOUBLE_COLON","::",179],["T_STRING","throwException",179],"(",["T_CONSTANT_ENCAPSED_STRING","'Front controller reached 100 router match iterations'",179],")",";",["T_WHITESPACE","\n        ",179],"}",["T_WHITESPACE","\n        ",180],["T_COMMENT","\/\/ This event gives possibility to launch something before sending output (allow cookie setting)\n",181],["T_WHITESPACE","        ",182],["T_STRING","Mage",182],["T_DOUBLE_COLON","::",182],["T_STRING","dispatchEvent",182],"(",["T_CONSTANT_ENCAPSED_STRING","'controller_front_send_response_before'",182],",",["T_WHITESPACE"," ",182],["T_ARRAY","array",182],"(",["T_CONSTANT_ENCAPSED_STRING","'front'",182],["T_DOUBLE_ARROW","=>",182],["T_VARIABLE","$this",182],")",")",";",["T_WHITESPACE","\n        ",182],["T_STRING","Varien_Profiler",183],["T_DOUBLE_COLON","::",183],["T_STRING","start",183],"(",["T_CONSTANT_ENCAPSED_STRING","'mage::app::dispatch::send_response'",183],")",";",["T_WHITESPACE","\n        ",183],["T_VARIABLE","$this",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","getResponse",184],"(",")",["T_OBJECT_OPERATOR","->",184],["T_STRING","sendResponse",184],"(",")",";",["T_WHITESPACE","\n        ",184],["T_STRING","Varien_Profiler",185],["T_DOUBLE_COLON","::",185],["T_STRING","stop",185],"(",["T_CONSTANT_ENCAPSED_STRING","'mage::app::dispatch::send_response'",185],")",";",["T_WHITESPACE","\n        ",185],["T_STRING","Mage",186],["T_DOUBLE_COLON","::",186],["T_STRING","dispatchEvent",186],"(",["T_CONSTANT_ENCAPSED_STRING","'controller_front_send_response_after'",186],",",["T_WHITESPACE"," ",186],["T_ARRAY","array",186],"(",["T_CONSTANT_ENCAPSED_STRING","'front'",186],["T_DOUBLE_ARROW","=>",186],["T_VARIABLE","$this",186],")",")",";",["T_WHITESPACE","\n        ",186],["T_RETURN","return",187],["T_WHITESPACE"," ",187],["T_VARIABLE","$this",187],";",["T_WHITESPACE","\n    ",187],"}",["T_WHITESPACE","\n\n    ",188],["T_DOC_COMMENT","\/**\n     * Returns request rewrite instance.\n     * Class name alias is declared in the configuration\n     *\n     * @return Mage_Core_Model_Url_Rewrite_Request\n     *\/",190],["T_WHITESPACE","\n    ",195],["T_PROTECTED","protected",196],["T_WHITESPACE"," ",196],["T_FUNCTION","function",196],["T_WHITESPACE"," ",196],["T_STRING","_getRequestRewriteController",196],"(",")",["T_WHITESPACE","\n    ",196],"{",["T_WHITESPACE","\n        ",197],["T_VARIABLE","$className",198],["T_WHITESPACE"," ",198],"=",["T_WHITESPACE"," ",198],["T_STRING_CAST","(string)",198],["T_STRING","Mage",198],["T_DOUBLE_COLON","::",198],["T_STRING","getConfig",198],"(",")",["T_OBJECT_OPERATOR","->",198],["T_STRING","getNode",198],"(",["T_CONSTANT_ENCAPSED_STRING","'global\/request_rewrite\/model'",198],")",";",["T_WHITESPACE","\n\n        ",198],["T_RETURN","return",200],["T_WHITESPACE"," ",200],["T_STRING","Mage",200],["T_DOUBLE_COLON","::",200],["T_STRING","getSingleton",200],"(",["T_CONSTANT_ENCAPSED_STRING","'core\/factory'",200],")",["T_OBJECT_OPERATOR","->",200],["T_STRING","getModel",200],"(",["T_VARIABLE","$className",200],",",["T_WHITESPACE"," ",200],["T_ARRAY","array",200],"(",["T_WHITESPACE","\n            ",200],["T_CONSTANT_ENCAPSED_STRING","'routers'",201],["T_WHITESPACE"," ",201],["T_DOUBLE_ARROW","=>",201],["T_WHITESPACE"," ",201],["T_VARIABLE","$this",201],["T_OBJECT_OPERATOR","->",201],["T_STRING","getRouters",201],"(",")",",",["T_WHITESPACE","\n        ",201],")",")",";",["T_WHITESPACE","\n    ",202],"}",["T_WHITESPACE","\n\n    ",203],["T_DOC_COMMENT","\/**\n     * Returns router instance by route name\n     *\n     * @param string $routeName\n     * @return Mage_Core_Controller_Varien_Router_Abstract\n     *\/",205],["T_WHITESPACE","\n    ",210],["T_PUBLIC","public",211],["T_WHITESPACE"," ",211],["T_FUNCTION","function",211],["T_WHITESPACE"," ",211],["T_STRING","getRouterByRoute",211],"(",["T_VARIABLE","$routeName",211],")",["T_WHITESPACE","\n    ",211],"{",["T_WHITESPACE","\n        ",212],["T_COMMENT","\/\/ empty route supplied - return base url\n",213],["T_WHITESPACE","        ",214],["T_IF","if",214],["T_WHITESPACE"," ",214],"(",["T_EMPTY","empty",214],"(",["T_VARIABLE","$routeName",214],")",")",["T_WHITESPACE"," ",214],"{",["T_WHITESPACE","\n            ",214],["T_VARIABLE","$router",215],["T_WHITESPACE"," ",215],"=",["T_WHITESPACE"," ",215],["T_VARIABLE","$this",215],["T_OBJECT_OPERATOR","->",215],["T_STRING","getRouter",215],"(",["T_CONSTANT_ENCAPSED_STRING","'standard'",215],")",";",["T_WHITESPACE","\n        ",215],"}",["T_WHITESPACE"," ",216],["T_ELSEIF","elseif",216],["T_WHITESPACE"," ",216],"(",["T_VARIABLE","$this",216],["T_OBJECT_OPERATOR","->",216],["T_STRING","getRouter",216],"(",["T_CONSTANT_ENCAPSED_STRING","'admin'",216],")",["T_OBJECT_OPERATOR","->",216],["T_STRING","getFrontNameByRoute",216],"(",["T_VARIABLE","$routeName",216],")",")",["T_WHITESPACE"," ",216],"{",["T_WHITESPACE","\n            ",216],["T_COMMENT","\/\/ try standard router url assembly\n",217],["T_WHITESPACE","            ",218],["T_VARIABLE","$router",218],["T_WHITESPACE"," ",218],"=",["T_WHITESPACE"," ",218],["T_VARIABLE","$this",218],["T_OBJECT_OPERATOR","->",218],["T_STRING","getRouter",218],"(",["T_CONSTANT_ENCAPSED_STRING","'admin'",218],")",";",["T_WHITESPACE","\n        ",218],"}",["T_WHITESPACE"," ",219],["T_ELSEIF","elseif",219],["T_WHITESPACE"," ",219],"(",["T_VARIABLE","$this",219],["T_OBJECT_OPERATOR","->",219],["T_STRING","getRouter",219],"(",["T_CONSTANT_ENCAPSED_STRING","'standard'",219],")",["T_OBJECT_OPERATOR","->",219],["T_STRING","getFrontNameByRoute",219],"(",["T_VARIABLE","$routeName",219],")",")",["T_WHITESPACE"," ",219],"{",["T_WHITESPACE","\n            ",219],["T_COMMENT","\/\/ try standard router url assembly\n",220],["T_WHITESPACE","            ",221],["T_VARIABLE","$router",221],["T_WHITESPACE"," ",221],"=",["T_WHITESPACE"," ",221],["T_VARIABLE","$this",221],["T_OBJECT_OPERATOR","->",221],["T_STRING","getRouter",221],"(",["T_CONSTANT_ENCAPSED_STRING","'standard'",221],")",";",["T_WHITESPACE","\n        ",221],"}",["T_WHITESPACE"," ",222],["T_ELSEIF","elseif",222],["T_WHITESPACE"," ",222],"(",["T_VARIABLE","$router",222],["T_WHITESPACE"," ",222],"=",["T_WHITESPACE"," ",222],["T_VARIABLE","$this",222],["T_OBJECT_OPERATOR","->",222],["T_STRING","getRouter",222],"(",["T_VARIABLE","$routeName",222],")",")",["T_WHITESPACE"," ",222],"{",["T_WHITESPACE","\n            ",222],["T_COMMENT","\/\/ try custom router url assembly\n",223],["T_WHITESPACE","        ",224],"}",["T_WHITESPACE"," ",224],["T_ELSE","else",224],["T_WHITESPACE"," ",224],"{",["T_WHITESPACE","\n            ",224],["T_COMMENT","\/\/ get default router url\n",225],["T_WHITESPACE","            ",226],["T_VARIABLE","$router",226],["T_WHITESPACE"," ",226],"=",["T_WHITESPACE"," ",226],["T_VARIABLE","$this",226],["T_OBJECT_OPERATOR","->",226],["T_STRING","getRouter",226],"(",["T_CONSTANT_ENCAPSED_STRING","'default'",226],")",";",["T_WHITESPACE","\n        ",226],"}",["T_WHITESPACE","\n\n        ",227],["T_RETURN","return",229],["T_WHITESPACE"," ",229],["T_VARIABLE","$router",229],";",["T_WHITESPACE","\n    ",229],"}",["T_WHITESPACE","\n\n    ",230],["T_PUBLIC","public",232],["T_WHITESPACE"," ",232],["T_FUNCTION","function",232],["T_WHITESPACE"," ",232],["T_STRING","getRouterByFrontName",232],"(",["T_VARIABLE","$frontName",232],")",["T_WHITESPACE","\n    ",232],"{",["T_WHITESPACE","\n        ",233],["T_COMMENT","\/\/ empty route supplied - return base url\n",234],["T_WHITESPACE","        ",235],["T_IF","if",235],["T_WHITESPACE"," ",235],"(",["T_EMPTY","empty",235],"(",["T_VARIABLE","$frontName",235],")",")",["T_WHITESPACE"," ",235],"{",["T_WHITESPACE","\n            ",235],["T_VARIABLE","$router",236],["T_WHITESPACE"," ",236],"=",["T_WHITESPACE"," ",236],["T_VARIABLE","$this",236],["T_OBJECT_OPERATOR","->",236],["T_STRING","getRouter",236],"(",["T_CONSTANT_ENCAPSED_STRING","'standard'",236],")",";",["T_WHITESPACE","\n        ",236],"}",["T_WHITESPACE"," ",237],["T_ELSEIF","elseif",237],["T_WHITESPACE"," ",237],"(",["T_VARIABLE","$this",237],["T_OBJECT_OPERATOR","->",237],["T_STRING","getRouter",237],"(",["T_CONSTANT_ENCAPSED_STRING","'admin'",237],")",["T_OBJECT_OPERATOR","->",237],["T_STRING","getRouteByFrontName",237],"(",["T_VARIABLE","$frontName",237],")",")",["T_WHITESPACE"," ",237],"{",["T_WHITESPACE","\n            ",237],["T_COMMENT","\/\/ try standard router url assembly\n",238],["T_WHITESPACE","            ",239],["T_VARIABLE","$router",239],["T_WHITESPACE"," ",239],"=",["T_WHITESPACE"," ",239],["T_VARIABLE","$this",239],["T_OBJECT_OPERATOR","->",239],["T_STRING","getRouter",239],"(",["T_CONSTANT_ENCAPSED_STRING","'admin'",239],")",";",["T_WHITESPACE","\n        ",239],"}",["T_WHITESPACE"," ",240],["T_ELSEIF","elseif",240],["T_WHITESPACE"," ",240],"(",["T_VARIABLE","$this",240],["T_OBJECT_OPERATOR","->",240],["T_STRING","getRouter",240],"(",["T_CONSTANT_ENCAPSED_STRING","'standard'",240],")",["T_OBJECT_OPERATOR","->",240],["T_STRING","getRouteByFrontName",240],"(",["T_VARIABLE","$frontName",240],")",")",["T_WHITESPACE"," ",240],"{",["T_WHITESPACE","\n            ",240],["T_COMMENT","\/\/ try standard router url assembly\n",241],["T_WHITESPACE","            ",242],["T_VARIABLE","$router",242],["T_WHITESPACE"," ",242],"=",["T_WHITESPACE"," ",242],["T_VARIABLE","$this",242],["T_OBJECT_OPERATOR","->",242],["T_STRING","getRouter",242],"(",["T_CONSTANT_ENCAPSED_STRING","'standard'",242],")",";",["T_WHITESPACE","\n        ",242],"}",["T_WHITESPACE"," ",243],["T_ELSEIF","elseif",243],["T_WHITESPACE"," ",243],"(",["T_VARIABLE","$router",243],["T_WHITESPACE"," ",243],"=",["T_WHITESPACE"," ",243],["T_VARIABLE","$this",243],["T_OBJECT_OPERATOR","->",243],["T_STRING","getRouter",243],"(",["T_VARIABLE","$frontName",243],")",")",["T_WHITESPACE"," ",243],"{",["T_WHITESPACE","\n            ",243],["T_COMMENT","\/\/ try custom router url assembly\n",244],["T_WHITESPACE","        ",245],"}",["T_WHITESPACE"," ",245],["T_ELSE","else",245],["T_WHITESPACE"," ",245],"{",["T_WHITESPACE","\n            ",245],["T_COMMENT","\/\/ get default router url\n",246],["T_WHITESPACE","            ",247],["T_VARIABLE","$router",247],["T_WHITESPACE"," ",247],"=",["T_WHITESPACE"," ",247],["T_VARIABLE","$this",247],["T_OBJECT_OPERATOR","->",247],["T_STRING","getRouter",247],"(",["T_CONSTANT_ENCAPSED_STRING","'default'",247],")",";",["T_WHITESPACE","\n        ",247],"}",["T_WHITESPACE","\n\n        ",248],["T_RETURN","return",250],["T_WHITESPACE"," ",250],["T_VARIABLE","$router",250],";",["T_WHITESPACE","\n    ",250],"}",["T_WHITESPACE","\n\n    ",251],["T_DOC_COMMENT","\/**\n     * Apply configuration rewrites to current url\n     *\n     * @return Mage_Core_Controller_Varien_Front\n     * @deprecated since 1.7.0.2. Refactored and moved to Mage_Core_Controller_Request_Rewrite\n     *\/",253],["T_WHITESPACE","\n    ",258],["T_PUBLIC","public",259],["T_WHITESPACE"," ",259],["T_FUNCTION","function",259],["T_WHITESPACE"," ",259],["T_STRING","rewrite",259],"(",")",["T_WHITESPACE","\n    ",259],"{",["T_WHITESPACE","\n        ",260],["T_VARIABLE","$request",261],["T_WHITESPACE"," ",261],"=",["T_WHITESPACE"," ",261],["T_VARIABLE","$this",261],["T_OBJECT_OPERATOR","->",261],["T_STRING","getRequest",261],"(",")",";",["T_WHITESPACE","\n        ",261],["T_VARIABLE","$config",262],["T_WHITESPACE"," ",262],"=",["T_WHITESPACE"," ",262],["T_STRING","Mage",262],["T_DOUBLE_COLON","::",262],["T_STRING","getConfig",262],"(",")",["T_OBJECT_OPERATOR","->",262],["T_STRING","getNode",262],"(",["T_CONSTANT_ENCAPSED_STRING","'global\/rewrite'",262],")",";",["T_WHITESPACE","\n        ",262],["T_IF","if",263],["T_WHITESPACE"," ",263],"(","!",["T_VARIABLE","$config",263],")",["T_WHITESPACE"," ",263],"{",["T_WHITESPACE","\n            ",263],["T_RETURN","return",264],";",["T_WHITESPACE","\n        ",264],"}",["T_WHITESPACE","\n        ",265],["T_FOREACH","foreach",266],["T_WHITESPACE"," ",266],"(",["T_VARIABLE","$config",266],["T_OBJECT_OPERATOR","->",266],["T_STRING","children",266],"(",")",["T_WHITESPACE"," ",266],["T_AS","as",266],["T_WHITESPACE"," ",266],["T_VARIABLE","$rewrite",266],")",["T_WHITESPACE"," ",266],"{",["T_WHITESPACE","\n            ",266],["T_VARIABLE","$from",267],["T_WHITESPACE"," ",267],"=",["T_WHITESPACE"," ",267],["T_STRING_CAST","(string)",267],["T_VARIABLE","$rewrite",267],["T_OBJECT_OPERATOR","->",267],["T_STRING","from",267],";",["T_WHITESPACE","\n            ",267],["T_VARIABLE","$to",268],["T_WHITESPACE"," ",268],"=",["T_WHITESPACE"," ",268],["T_STRING_CAST","(string)",268],["T_VARIABLE","$rewrite",268],["T_OBJECT_OPERATOR","->",268],["T_STRING","to",268],";",["T_WHITESPACE","\n            ",268],["T_IF","if",269],["T_WHITESPACE"," ",269],"(",["T_EMPTY","empty",269],"(",["T_VARIABLE","$from",269],")",["T_WHITESPACE"," ",269],["T_BOOLEAN_OR","||",269],["T_WHITESPACE"," ",269],["T_EMPTY","empty",269],"(",["T_VARIABLE","$to",269],")",")",["T_WHITESPACE"," ",269],"{",["T_WHITESPACE","\n                ",269],["T_CONTINUE","continue",270],";",["T_WHITESPACE","\n            ",270],"}",["T_WHITESPACE","\n            ",271],["T_VARIABLE","$from",272],["T_WHITESPACE"," ",272],"=",["T_WHITESPACE"," ",272],["T_VARIABLE","$this",272],["T_OBJECT_OPERATOR","->",272],["T_STRING","_processRewriteUrl",272],"(",["T_VARIABLE","$from",272],")",";",["T_WHITESPACE","\n            ",272],["T_VARIABLE","$to",273],["T_WHITESPACE","   ",273],"=",["T_WHITESPACE"," ",273],["T_VARIABLE","$this",273],["T_OBJECT_OPERATOR","->",273],["T_STRING","_processRewriteUrl",273],"(",["T_VARIABLE","$to",273],")",";",["T_WHITESPACE","\n\n            ",273],["T_VARIABLE","$pathInfo",275],["T_WHITESPACE"," ",275],"=",["T_WHITESPACE"," ",275],["T_STRING","preg_replace",275],"(",["T_VARIABLE","$from",275],",",["T_WHITESPACE"," ",275],["T_VARIABLE","$to",275],",",["T_WHITESPACE"," ",275],["T_VARIABLE","$request",275],["T_OBJECT_OPERATOR","->",275],["T_STRING","getPathInfo",275],"(",")",")",";",["T_WHITESPACE","\n\n            ",275],["T_IF","if",277],["T_WHITESPACE"," ",277],"(",["T_ISSET","isset",277],"(",["T_VARIABLE","$rewrite",277],["T_OBJECT_OPERATOR","->",277],["T_STRING","complete",277],")",")",["T_WHITESPACE"," ",277],"{",["T_WHITESPACE","\n                ",277],["T_VARIABLE","$request",278],["T_OBJECT_OPERATOR","->",278],["T_STRING","setPathInfo",278],"(",["T_VARIABLE","$pathInfo",278],")",";",["T_WHITESPACE","\n            ",278],"}",["T_WHITESPACE"," ",279],["T_ELSE","else",279],["T_WHITESPACE"," ",279],"{",["T_WHITESPACE","\n                ",279],["T_VARIABLE","$request",280],["T_OBJECT_OPERATOR","->",280],["T_STRING","rewritePathInfo",280],"(",["T_VARIABLE","$pathInfo",280],")",";",["T_WHITESPACE","\n            ",280],"}",["T_WHITESPACE","\n        ",281],"}",["T_WHITESPACE","\n    ",282],"}",["T_WHITESPACE","\n\n    ",283],["T_DOC_COMMENT","\/**\n     * Replace route name placeholders in url to front name\n     *\n     * @param   string $url\n     * @return  string\n     * @deprecated since 1.7.0.2. Refactored and moved to Mage_Core_Controller_Request_Rewrite\n     *\/",285],["T_WHITESPACE","\n    ",291],["T_PROTECTED","protected",292],["T_WHITESPACE"," ",292],["T_FUNCTION","function",292],["T_WHITESPACE"," ",292],["T_STRING","_processRewriteUrl",292],"(",["T_VARIABLE","$url",292],")",["T_WHITESPACE","\n    ",292],"{",["T_WHITESPACE","\n        ",293],["T_VARIABLE","$startPos",294],["T_WHITESPACE"," ",294],"=",["T_WHITESPACE"," ",294],["T_STRING","strpos",294],"(",["T_VARIABLE","$url",294],",",["T_WHITESPACE"," ",294],["T_CONSTANT_ENCAPSED_STRING","'{'",294],")",";",["T_WHITESPACE","\n        ",294],["T_IF","if",295],["T_WHITESPACE"," ",295],"(",["T_VARIABLE","$startPos",295],["T_IS_NOT_IDENTICAL","!==",295],["T_STRING","false",295],")",["T_WHITESPACE"," ",295],"{",["T_WHITESPACE","\n            ",295],["T_VARIABLE","$endPos",296],["T_WHITESPACE"," ",296],"=",["T_WHITESPACE"," ",296],["T_STRING","strpos",296],"(",["T_VARIABLE","$url",296],",",["T_WHITESPACE"," ",296],["T_CONSTANT_ENCAPSED_STRING","'}'",296],")",";",["T_WHITESPACE","\n            ",296],["T_VARIABLE","$routeName",297],["T_WHITESPACE"," ",297],"=",["T_WHITESPACE"," ",297],["T_STRING","substr",297],"(",["T_VARIABLE","$url",297],",",["T_WHITESPACE"," ",297],["T_VARIABLE","$startPos",297],"+",["T_LNUMBER","1",297],",",["T_WHITESPACE"," ",297],["T_VARIABLE","$endPos",297],"-",["T_VARIABLE","$startPos",297],"-",["T_LNUMBER","1",297],")",";",["T_WHITESPACE","\n            ",297],["T_VARIABLE","$router",298],["T_WHITESPACE"," ",298],"=",["T_WHITESPACE"," ",298],["T_VARIABLE","$this",298],["T_OBJECT_OPERATOR","->",298],["T_STRING","getRouterByRoute",298],"(",["T_VARIABLE","$routeName",298],")",";",["T_WHITESPACE","\n            ",298],["T_IF","if",299],["T_WHITESPACE"," ",299],"(",["T_VARIABLE","$router",299],")",["T_WHITESPACE"," ",299],"{",["T_WHITESPACE","\n                ",299],["T_VARIABLE","$fronName",300],["T_WHITESPACE"," ",300],"=",["T_WHITESPACE"," ",300],["T_VARIABLE","$router",300],["T_OBJECT_OPERATOR","->",300],["T_STRING","getFrontNameByRoute",300],"(",["T_VARIABLE","$routeName",300],")",";",["T_WHITESPACE","\n                ",300],["T_VARIABLE","$url",301],["T_WHITESPACE"," ",301],"=",["T_WHITESPACE"," ",301],["T_STRING","str_replace",301],"(",["T_CONSTANT_ENCAPSED_STRING","'{'",301],".",["T_VARIABLE","$routeName",301],".",["T_CONSTANT_ENCAPSED_STRING","'}'",301],",",["T_WHITESPACE"," ",301],["T_VARIABLE","$fronName",301],",",["T_WHITESPACE"," ",301],["T_VARIABLE","$url",301],")",";",["T_WHITESPACE","\n            ",301],"}",["T_WHITESPACE","\n        ",302],"}",["T_WHITESPACE","\n        ",303],["T_RETURN","return",304],["T_WHITESPACE"," ",304],["T_VARIABLE","$url",304],";",["T_WHITESPACE","\n    ",304],"}",["T_WHITESPACE","\n\n    ",305],["T_DOC_COMMENT","\/**\n     * Auto-redirect to base url (without SID) if the requested url doesn't match it.\n     * By default this feature is enabled in configuration.\n     *\n     * @param Zend_Controller_Request_Http $request\n     *\/",307],["T_WHITESPACE","\n    ",312],["T_PROTECTED","protected",313],["T_WHITESPACE"," ",313],["T_FUNCTION","function",313],["T_WHITESPACE"," ",313],["T_STRING","_checkBaseUrl",313],"(",["T_VARIABLE","$request",313],")",["T_WHITESPACE","\n    ",313],"{",["T_WHITESPACE","\n        ",314],["T_IF","if",315],["T_WHITESPACE"," ",315],"(","!",["T_STRING","Mage",315],["T_DOUBLE_COLON","::",315],["T_STRING","isInstalled",315],"(",")",["T_WHITESPACE"," ",315],["T_BOOLEAN_OR","||",315],["T_WHITESPACE"," ",315],["T_VARIABLE","$request",315],["T_OBJECT_OPERATOR","->",315],["T_STRING","getPost",315],"(",")",["T_WHITESPACE"," ",315],["T_BOOLEAN_OR","||",315],["T_WHITESPACE"," ",315],["T_STRING","strtolower",315],"(",["T_VARIABLE","$request",315],["T_OBJECT_OPERATOR","->",315],["T_STRING","getMethod",315],"(",")",")",["T_WHITESPACE"," ",315],["T_IS_EQUAL","==",315],["T_WHITESPACE"," ",315],["T_CONSTANT_ENCAPSED_STRING","'post'",315],")",["T_WHITESPACE"," ",315],"{",["T_WHITESPACE","\n            ",315],["T_RETURN","return",316],";",["T_WHITESPACE","\n        ",316],"}",["T_WHITESPACE","\n\n        ",317],["T_VARIABLE","$redirectCode",319],["T_WHITESPACE"," ",319],"=",["T_WHITESPACE"," ",319],["T_INT_CAST","(int)",319],["T_STRING","Mage",319],["T_DOUBLE_COLON","::",319],["T_STRING","getStoreConfig",319],"(",["T_CONSTANT_ENCAPSED_STRING","'web\/url\/redirect_to_base'",319],")",";",["T_WHITESPACE","\n        ",319],["T_IF","if",320],["T_WHITESPACE"," ",320],"(","!",["T_VARIABLE","$redirectCode",320],")",["T_WHITESPACE"," ",320],"{",["T_WHITESPACE","\n            ",320],["T_RETURN","return",321],";",["T_WHITESPACE","\n        ",321],"}",["T_WHITESPACE"," ",322],["T_ELSEIF","elseif",322],["T_WHITESPACE"," ",322],"(",["T_VARIABLE","$redirectCode",322],["T_WHITESPACE"," ",322],["T_IS_NOT_EQUAL","!=",322],["T_WHITESPACE"," ",322],["T_LNUMBER","301",322],")",["T_WHITESPACE"," ",322],"{",["T_WHITESPACE","\n            ",322],["T_VARIABLE","$redirectCode",323],["T_WHITESPACE"," ",323],"=",["T_WHITESPACE"," ",323],["T_LNUMBER","302",323],";",["T_WHITESPACE","\n        ",323],"}",["T_WHITESPACE","\n\n        ",324],["T_IF","if",326],["T_WHITESPACE"," ",326],"(",["T_VARIABLE","$this",326],["T_OBJECT_OPERATOR","->",326],["T_STRING","_isAdminFrontNameMatched",326],"(",["T_VARIABLE","$request",326],")",")",["T_WHITESPACE"," ",326],"{",["T_WHITESPACE","\n            ",326],["T_RETURN","return",327],";",["T_WHITESPACE","\n        ",327],"}",["T_WHITESPACE","\n\n        ",328],["T_VARIABLE","$baseUrl",330],["T_WHITESPACE"," ",330],"=",["T_WHITESPACE"," ",330],["T_STRING","Mage",330],["T_DOUBLE_COLON","::",330],["T_STRING","getBaseUrl",330],"(",["T_WHITESPACE","\n            ",330],["T_STRING","Mage_Core_Model_Store",331],["T_DOUBLE_COLON","::",331],["T_STRING","URL_TYPE_WEB",331],",",["T_WHITESPACE","\n            ",331],["T_STRING","Mage",332],["T_DOUBLE_COLON","::",332],["T_STRING","app",332],"(",")",["T_OBJECT_OPERATOR","->",332],["T_STRING","getStore",332],"(",")",["T_OBJECT_OPERATOR","->",332],["T_STRING","isCurrentlySecure",332],"(",")",["T_WHITESPACE","\n        ",332],")",";",["T_WHITESPACE","\n        ",333],["T_IF","if",334],["T_WHITESPACE"," ",334],"(","!",["T_VARIABLE","$baseUrl",334],")",["T_WHITESPACE"," ",334],"{",["T_WHITESPACE","\n            ",334],["T_RETURN","return",335],";",["T_WHITESPACE","\n        ",335],"}",["T_WHITESPACE","\n\n        ",336],["T_VARIABLE","$uri",338],["T_WHITESPACE"," ",338],"=",["T_WHITESPACE"," ",338],"@",["T_STRING","parse_url",338],"(",["T_VARIABLE","$baseUrl",338],")",";",["T_WHITESPACE","\n        ",338],["T_VARIABLE","$requestUri",339],["T_WHITESPACE"," ",339],"=",["T_WHITESPACE"," ",339],["T_VARIABLE","$request",339],["T_OBJECT_OPERATOR","->",339],["T_STRING","getRequestUri",339],"(",")",["T_WHITESPACE"," ",339],"?",["T_WHITESPACE"," ",339],["T_VARIABLE","$request",339],["T_OBJECT_OPERATOR","->",339],["T_STRING","getRequestUri",339],"(",")",["T_WHITESPACE"," ",339],":",["T_WHITESPACE"," ",339],["T_CONSTANT_ENCAPSED_STRING","'\/'",339],";",["T_WHITESPACE","\n        ",339],["T_IF","if",340],["T_WHITESPACE"," ",340],"(",["T_ISSET","isset",340],"(",["T_VARIABLE","$uri",340],"[",["T_CONSTANT_ENCAPSED_STRING","'scheme'",340],"]",")",["T_WHITESPACE"," ",340],["T_BOOLEAN_AND","&&",340],["T_WHITESPACE"," ",340],["T_VARIABLE","$uri",340],"[",["T_CONSTANT_ENCAPSED_STRING","'scheme'",340],"]",["T_WHITESPACE"," ",340],["T_IS_NOT_EQUAL","!=",340],["T_WHITESPACE"," ",340],["T_VARIABLE","$request",340],["T_OBJECT_OPERATOR","->",340],["T_STRING","getScheme",340],"(",")",["T_WHITESPACE","\n            ",340],["T_BOOLEAN_OR","||",341],["T_WHITESPACE"," ",341],["T_ISSET","isset",341],"(",["T_VARIABLE","$uri",341],"[",["T_CONSTANT_ENCAPSED_STRING","'host'",341],"]",")",["T_WHITESPACE"," ",341],["T_BOOLEAN_AND","&&",341],["T_WHITESPACE"," ",341],["T_VARIABLE","$uri",341],"[",["T_CONSTANT_ENCAPSED_STRING","'host'",341],"]",["T_WHITESPACE"," ",341],["T_IS_NOT_EQUAL","!=",341],["T_WHITESPACE"," ",341],["T_VARIABLE","$request",341],["T_OBJECT_OPERATOR","->",341],["T_STRING","getHttpHost",341],"(",")",["T_WHITESPACE","\n            ",341],["T_BOOLEAN_OR","||",342],["T_WHITESPACE"," ",342],["T_ISSET","isset",342],"(",["T_VARIABLE","$uri",342],"[",["T_CONSTANT_ENCAPSED_STRING","'path'",342],"]",")",["T_WHITESPACE"," ",342],["T_BOOLEAN_AND","&&",342],["T_WHITESPACE"," ",342],["T_STRING","strpos",342],"(",["T_VARIABLE","$requestUri",342],",",["T_WHITESPACE"," ",342],["T_VARIABLE","$uri",342],"[",["T_CONSTANT_ENCAPSED_STRING","'path'",342],"]",")",["T_WHITESPACE"," ",342],["T_IS_IDENTICAL","===",342],["T_WHITESPACE"," ",342],["T_STRING","false",342],["T_WHITESPACE","\n        ",342],")",["T_WHITESPACE"," ",343],"{",["T_WHITESPACE","\n            ",343],["T_STRING","Mage",344],["T_DOUBLE_COLON","::",344],["T_STRING","app",344],"(",")",["T_OBJECT_OPERATOR","->",344],["T_STRING","getFrontController",344],"(",")",["T_OBJECT_OPERATOR","->",344],["T_STRING","getResponse",344],"(",")",["T_WHITESPACE","\n                ",344],["T_OBJECT_OPERATOR","->",345],["T_STRING","setRedirect",345],"(",["T_VARIABLE","$baseUrl",345],",",["T_WHITESPACE"," ",345],["T_VARIABLE","$redirectCode",345],")",["T_WHITESPACE","\n                ",345],["T_OBJECT_OPERATOR","->",346],["T_STRING","sendResponse",346],"(",")",";",["T_WHITESPACE","\n            ",346],["T_EXIT","exit",347],";",["T_WHITESPACE","\n        ",347],"}",["T_WHITESPACE","\n    ",348],"}",["T_WHITESPACE","\n\n    ",349],["T_DOC_COMMENT","\/**\n     * Check if requested path starts with one of the admin front names\n     *\n     * @param Zend_Controller_Request_Http $request\n     * @return boolean\n     *\/",351],["T_WHITESPACE","\n    ",356],["T_PROTECTED","protected",357],["T_WHITESPACE"," ",357],["T_FUNCTION","function",357],["T_WHITESPACE"," ",357],["T_STRING","_isAdminFrontNameMatched",357],"(",["T_VARIABLE","$request",357],")",["T_WHITESPACE","\n    ",357],"{",["T_WHITESPACE","\n        ",358],["T_VARIABLE","$useCustomAdminPath",359],["T_WHITESPACE"," ",359],"=",["T_WHITESPACE"," ",359],["T_BOOL_CAST","(bool)",359],["T_STRING_CAST","(string)",359],["T_STRING","Mage",359],["T_DOUBLE_COLON","::",359],["T_STRING","getConfig",359],"(",")",["T_WHITESPACE","\n            ",359],["T_OBJECT_OPERATOR","->",360],["T_STRING","getNode",360],"(",["T_STRING","Mage_Adminhtml_Helper_Data",360],["T_DOUBLE_COLON","::",360],["T_STRING","XML_PATH_USE_CUSTOM_ADMIN_PATH",360],")",";",["T_WHITESPACE","\n        ",360],["T_VARIABLE","$customAdminPath",361],["T_WHITESPACE"," ",361],"=",["T_WHITESPACE"," ",361],["T_STRING_CAST","(string)",361],["T_STRING","Mage",361],["T_DOUBLE_COLON","::",361],["T_STRING","getConfig",361],"(",")",["T_OBJECT_OPERATOR","->",361],["T_STRING","getNode",361],"(",["T_STRING","Mage_Adminhtml_Helper_Data",361],["T_DOUBLE_COLON","::",361],["T_STRING","XML_PATH_CUSTOM_ADMIN_PATH",361],")",";",["T_WHITESPACE","\n        ",361],["T_VARIABLE","$adminPath",362],["T_WHITESPACE"," ",362],"=",["T_WHITESPACE"," ",362],"(",["T_VARIABLE","$useCustomAdminPath",362],")",["T_WHITESPACE"," ",362],"?",["T_WHITESPACE"," ",362],["T_VARIABLE","$customAdminPath",362],["T_WHITESPACE"," ",362],":",["T_WHITESPACE"," ",362],["T_STRING","null",362],";",["T_WHITESPACE","\n\n        ",362],["T_IF","if",364],["T_WHITESPACE"," ",364],"(","!",["T_VARIABLE","$adminPath",364],")",["T_WHITESPACE"," ",364],"{",["T_WHITESPACE","\n            ",364],["T_VARIABLE","$adminPath",365],["T_WHITESPACE"," ",365],"=",["T_WHITESPACE"," ",365],["T_STRING_CAST","(string)",365],["T_STRING","Mage",365],["T_DOUBLE_COLON","::",365],["T_STRING","getConfig",365],"(",")",["T_WHITESPACE","\n                ",365],["T_OBJECT_OPERATOR","->",366],["T_STRING","getNode",366],"(",["T_STRING","Mage_Adminhtml_Helper_Data",366],["T_DOUBLE_COLON","::",366],["T_STRING","XML_PATH_ADMINHTML_ROUTER_FRONTNAME",366],")",";",["T_WHITESPACE","\n        ",366],"}",["T_WHITESPACE","\n        ",367],["T_VARIABLE","$adminFrontNames",368],["T_WHITESPACE"," ",368],"=",["T_WHITESPACE"," ",368],["T_ARRAY","array",368],"(",["T_VARIABLE","$adminPath",368],")",";",["T_WHITESPACE","\n\n        ",368],["T_COMMENT","\/\/ Check for other modules that can use admin router (a lot of Magento extensions do that)\n",370],["T_WHITESPACE","        ",371],["T_VARIABLE","$adminFrontNameNodes",371],["T_WHITESPACE"," ",371],"=",["T_WHITESPACE"," ",371],["T_STRING","Mage",371],["T_DOUBLE_COLON","::",371],["T_STRING","getConfig",371],"(",")",["T_OBJECT_OPERATOR","->",371],["T_STRING","getNode",371],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/routers'",371],")",["T_WHITESPACE","\n            ",371],["T_OBJECT_OPERATOR","->",372],["T_STRING","xpath",372],"(",["T_CONSTANT_ENCAPSED_STRING","'*[not(self::adminhtml) and use = \"admin\"]\/args\/frontName'",372],")",";",["T_WHITESPACE","\n\n        ",372],["T_IF","if",374],["T_WHITESPACE"," ",374],"(",["T_STRING","is_array",374],"(",["T_VARIABLE","$adminFrontNameNodes",374],")",")",["T_WHITESPACE"," ",374],"{",["T_WHITESPACE","\n            ",374],["T_FOREACH","foreach",375],["T_WHITESPACE"," ",375],"(",["T_VARIABLE","$adminFrontNameNodes",375],["T_WHITESPACE"," ",375],["T_AS","as",375],["T_WHITESPACE"," ",375],["T_VARIABLE","$frontNameNode",375],")",["T_WHITESPACE"," ",375],"{",["T_WHITESPACE","\n                ",375],["T_DOC_COMMENT","\/** @var $frontNameNode SimpleXMLElement *\/",376],["T_WHITESPACE","\n                ",376],["T_STRING","array_push",377],"(",["T_VARIABLE","$adminFrontNames",377],",",["T_WHITESPACE"," ",377],["T_STRING_CAST","(string)",377],["T_VARIABLE","$frontNameNode",377],")",";",["T_WHITESPACE","\n            ",377],"}",["T_WHITESPACE","\n        ",378],"}",["T_WHITESPACE","\n\n        ",379],["T_VARIABLE","$pathPrefix",381],["T_WHITESPACE"," ",381],"=",["T_WHITESPACE"," ",381],["T_STRING","ltrim",381],"(",["T_VARIABLE","$request",381],["T_OBJECT_OPERATOR","->",381],["T_STRING","getPathInfo",381],"(",")",",",["T_WHITESPACE"," ",381],["T_CONSTANT_ENCAPSED_STRING","'\/'",381],")",";",["T_WHITESPACE","\n        ",381],["T_VARIABLE","$urlDelimiterPos",382],["T_WHITESPACE"," ",382],"=",["T_WHITESPACE"," ",382],["T_STRING","strpos",382],"(",["T_VARIABLE","$pathPrefix",382],",",["T_WHITESPACE"," ",382],["T_CONSTANT_ENCAPSED_STRING","'\/'",382],")",";",["T_WHITESPACE","\n        ",382],["T_IF","if",383],["T_WHITESPACE"," ",383],"(",["T_VARIABLE","$urlDelimiterPos",383],")",["T_WHITESPACE"," ",383],"{",["T_WHITESPACE","\n            ",383],["T_VARIABLE","$pathPrefix",384],["T_WHITESPACE"," ",384],"=",["T_WHITESPACE"," ",384],["T_STRING","substr",384],"(",["T_VARIABLE","$pathPrefix",384],",",["T_WHITESPACE"," ",384],["T_LNUMBER","0",384],",",["T_WHITESPACE"," ",384],["T_VARIABLE","$urlDelimiterPos",384],")",";",["T_WHITESPACE","\n        ",384],"}",["T_WHITESPACE","\n\n        ",385],["T_RETURN","return",387],["T_WHITESPACE"," ",387],["T_STRING","in_array",387],"(",["T_VARIABLE","$pathPrefix",387],",",["T_WHITESPACE"," ",387],["T_VARIABLE","$adminFrontNames",387],")",";",["T_WHITESPACE","\n    ",387],"}",["T_WHITESPACE","\n",388],"}",["T_WHITESPACE","\n",389]]