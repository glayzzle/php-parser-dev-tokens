[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Magento\n *\n * NOTICE OF LICENSE\n *\n * This source file is subject to the Open Software License (OSL 3.0)\n * that is bundled with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/opensource.org\/licenses\/osl-3.0.php\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@magento.com so we can send you a copy immediately.\n *\n * DISCLAIMER\n *\n * Do not edit or add to this file if you wish to upgrade Magento to newer\n * versions in the future. If you wish to customize Magento for your\n * needs please refer to http:\/\/www.magento.com for more information.\n *\n * @category    Mage\n * @package     Mage_Core\n * @copyright  Copyright (c) 2006-2016 X.commerce, Inc. and affiliates (http:\/\/www.magento.com)\n * @license    http:\/\/opensource.org\/licenses\/osl-3.0.php  Open Software License (OSL 3.0)\n *\/",2],["T_WHITESPACE","\n\n\n",25],["T_CLASS","class",28],["T_WHITESPACE"," ",28],["T_STRING","Mage_Core_Controller_Varien_Router_Admin",28],["T_WHITESPACE"," ",28],["T_EXTENDS","extends",28],["T_WHITESPACE"," ",28],["T_STRING","Mage_Core_Controller_Varien_Router_Standard",28],["T_WHITESPACE","\n",28],"{",["T_WHITESPACE","\n    ",29],["T_DOC_COMMENT","\/**\n     * Fetch default path\n     *\/",30],["T_WHITESPACE","\n    ",32],["T_PUBLIC","public",33],["T_WHITESPACE"," ",33],["T_FUNCTION","function",33],["T_WHITESPACE"," ",33],["T_STRING","fetchDefault",33],"(",")",["T_WHITESPACE","\n    ",33],"{",["T_WHITESPACE","\n        ",34],["T_COMMENT","\/\/ set defaults\n",35],["T_WHITESPACE","        ",36],["T_VARIABLE","$d",36],["T_WHITESPACE"," ",36],"=",["T_WHITESPACE"," ",36],["T_STRING","explode",36],"(",["T_CONSTANT_ENCAPSED_STRING","'\/'",36],",",["T_WHITESPACE"," ",36],["T_VARIABLE","$this",36],["T_OBJECT_OPERATOR","->",36],["T_STRING","_getDefaultPath",36],"(",")",")",";",["T_WHITESPACE","\n        ",36],["T_VARIABLE","$this",37],["T_OBJECT_OPERATOR","->",37],["T_STRING","getFront",37],"(",")",["T_OBJECT_OPERATOR","->",37],["T_STRING","setDefault",37],"(",["T_ARRAY","array",37],"(",["T_WHITESPACE","\n            ",37],["T_CONSTANT_ENCAPSED_STRING","'module'",38],["T_WHITESPACE","     ",38],["T_DOUBLE_ARROW","=>",38],["T_WHITESPACE"," ",38],"!",["T_EMPTY","empty",38],"(",["T_VARIABLE","$d",38],"[",["T_LNUMBER","0",38],"]",")",["T_WHITESPACE"," ",38],"?",["T_WHITESPACE"," ",38],["T_VARIABLE","$d",38],"[",["T_LNUMBER","0",38],"]",["T_WHITESPACE"," ",38],":",["T_WHITESPACE"," ",38],["T_CONSTANT_ENCAPSED_STRING","''",38],",",["T_WHITESPACE","\n            ",38],["T_CONSTANT_ENCAPSED_STRING","'controller'",39],["T_WHITESPACE"," ",39],["T_DOUBLE_ARROW","=>",39],["T_WHITESPACE"," ",39],"!",["T_EMPTY","empty",39],"(",["T_VARIABLE","$d",39],"[",["T_LNUMBER","1",39],"]",")",["T_WHITESPACE"," ",39],"?",["T_WHITESPACE"," ",39],["T_VARIABLE","$d",39],"[",["T_LNUMBER","1",39],"]",["T_WHITESPACE"," ",39],":",["T_WHITESPACE"," ",39],["T_CONSTANT_ENCAPSED_STRING","'index'",39],",",["T_WHITESPACE","\n            ",39],["T_CONSTANT_ENCAPSED_STRING","'action'",40],["T_WHITESPACE","     ",40],["T_DOUBLE_ARROW","=>",40],["T_WHITESPACE"," ",40],"!",["T_EMPTY","empty",40],"(",["T_VARIABLE","$d",40],"[",["T_LNUMBER","2",40],"]",")",["T_WHITESPACE"," ",40],"?",["T_WHITESPACE"," ",40],["T_VARIABLE","$d",40],"[",["T_LNUMBER","2",40],"]",["T_WHITESPACE"," ",40],":",["T_WHITESPACE"," ",40],["T_CONSTANT_ENCAPSED_STRING","'index'",40],["T_WHITESPACE","\n        ",40],")",")",";",["T_WHITESPACE","\n    ",41],"}",["T_WHITESPACE","\n\n    ",42],["T_DOC_COMMENT","\/**\n     * Get router default request path\n     * @return string\n     *\/",44],["T_WHITESPACE","\n    ",47],["T_PROTECTED","protected",48],["T_WHITESPACE"," ",48],["T_FUNCTION","function",48],["T_WHITESPACE"," ",48],["T_STRING","_getDefaultPath",48],"(",")",["T_WHITESPACE","\n    ",48],"{",["T_WHITESPACE","\n        ",49],["T_RETURN","return",50],["T_WHITESPACE"," ",50],["T_STRING_CAST","(string)",50],["T_STRING","Mage",50],["T_DOUBLE_COLON","::",50],["T_STRING","getConfig",50],"(",")",["T_OBJECT_OPERATOR","->",50],["T_STRING","getNode",50],"(",["T_CONSTANT_ENCAPSED_STRING","'default\/web\/default\/admin'",50],")",";",["T_WHITESPACE","\n    ",50],"}",["T_WHITESPACE","\n\n    ",51],["T_DOC_COMMENT","\/**\n     * dummy call to pass through checking\n     *\n     * @return unknown\n     *\/",53],["T_WHITESPACE","\n    ",57],["T_PROTECTED","protected",58],["T_WHITESPACE"," ",58],["T_FUNCTION","function",58],["T_WHITESPACE"," ",58],["T_STRING","_beforeModuleMatch",58],"(",")",["T_WHITESPACE","\n    ",58],"{",["T_WHITESPACE","\n        ",59],["T_RETURN","return",60],["T_WHITESPACE"," ",60],["T_STRING","true",60],";",["T_WHITESPACE","\n    ",60],"}",["T_WHITESPACE","\n\n    ",61],["T_DOC_COMMENT","\/**\n     * checking if we installed or not and doing redirect\n     *\n     * @return bool\n     *\/",63],["T_WHITESPACE","\n    ",67],["T_PROTECTED","protected",68],["T_WHITESPACE"," ",68],["T_FUNCTION","function",68],["T_WHITESPACE"," ",68],["T_STRING","_afterModuleMatch",68],"(",")",["T_WHITESPACE","\n    ",68],"{",["T_WHITESPACE","\n        ",69],["T_IF","if",70],["T_WHITESPACE"," ",70],"(","!",["T_STRING","Mage",70],["T_DOUBLE_COLON","::",70],["T_STRING","isInstalled",70],"(",")",")",["T_WHITESPACE"," ",70],"{",["T_WHITESPACE","\n            ",70],["T_STRING","Mage",71],["T_DOUBLE_COLON","::",71],["T_STRING","app",71],"(",")",["T_OBJECT_OPERATOR","->",71],["T_STRING","getFrontController",71],"(",")",["T_OBJECT_OPERATOR","->",71],["T_STRING","getResponse",71],"(",")",["T_WHITESPACE","\n                ",71],["T_OBJECT_OPERATOR","->",72],["T_STRING","setRedirect",72],"(",["T_STRING","Mage",72],["T_DOUBLE_COLON","::",72],["T_STRING","getUrl",72],"(",["T_CONSTANT_ENCAPSED_STRING","'install'",72],")",")",["T_WHITESPACE","\n                ",72],["T_OBJECT_OPERATOR","->",73],["T_STRING","sendResponse",73],"(",")",";",["T_WHITESPACE","\n            ",73],["T_EXIT","exit",74],";",["T_WHITESPACE","\n        ",74],"}",["T_WHITESPACE","\n        ",75],["T_RETURN","return",76],["T_WHITESPACE"," ",76],["T_STRING","true",76],";",["T_WHITESPACE","\n    ",76],"}",["T_WHITESPACE","\n\n    ",77],["T_DOC_COMMENT","\/**\n     * We need to have noroute action in this router\n     * not to pass dispatching to next routers\n     *\n     * @return bool\n     *\/",79],["T_WHITESPACE","\n    ",84],["T_PROTECTED","protected",85],["T_WHITESPACE"," ",85],["T_FUNCTION","function",85],["T_WHITESPACE"," ",85],["T_STRING","_noRouteShouldBeApplied",85],"(",")",["T_WHITESPACE","\n    ",85],"{",["T_WHITESPACE","\n        ",86],["T_RETURN","return",87],["T_WHITESPACE"," ",87],["T_STRING","true",87],";",["T_WHITESPACE","\n    ",87],"}",["T_WHITESPACE","\n\n    ",88],["T_DOC_COMMENT","\/**\n     * Check whether URL for corresponding path should use https protocol\n     *\n     * @param string $path\n     * @return bool\n     *\/",90],["T_WHITESPACE","\n    ",95],["T_PROTECTED","protected",96],["T_WHITESPACE"," ",96],["T_FUNCTION","function",96],["T_WHITESPACE"," ",96],["T_STRING","_shouldBeSecure",96],"(",["T_VARIABLE","$path",96],")",["T_WHITESPACE","\n    ",96],"{",["T_WHITESPACE","\n        ",97],["T_RETURN","return",98],["T_WHITESPACE"," ",98],["T_STRING","substr",98],"(",["T_STRING_CAST","(string)",98],["T_STRING","Mage",98],["T_DOUBLE_COLON","::",98],["T_STRING","getConfig",98],"(",")",["T_OBJECT_OPERATOR","->",98],["T_STRING","getNode",98],"(",["T_CONSTANT_ENCAPSED_STRING","'default\/web\/unsecure\/base_url'",98],")",",",["T_WHITESPACE"," ",98],["T_LNUMBER","0",98],",",["T_WHITESPACE"," ",98],["T_LNUMBER","5",98],")",["T_WHITESPACE"," ",98],["T_IS_IDENTICAL","===",98],["T_WHITESPACE"," ",98],["T_CONSTANT_ENCAPSED_STRING","'https'",98],["T_WHITESPACE","\n            ",98],["T_BOOLEAN_OR","||",99],["T_WHITESPACE"," ",99],["T_STRING","Mage",99],["T_DOUBLE_COLON","::",99],["T_STRING","getStoreConfigFlag",99],"(",["T_CONSTANT_ENCAPSED_STRING","'web\/secure\/use_in_adminhtml'",99],",",["T_WHITESPACE"," ",99],["T_STRING","Mage_Core_Model_App",99],["T_DOUBLE_COLON","::",99],["T_STRING","ADMIN_STORE_ID",99],")",["T_WHITESPACE","\n                ",99],["T_BOOLEAN_AND","&&",100],["T_WHITESPACE"," ",100],["T_STRING","substr",100],"(",["T_STRING_CAST","(string)",100],["T_STRING","Mage",100],["T_DOUBLE_COLON","::",100],["T_STRING","getConfig",100],"(",")",["T_OBJECT_OPERATOR","->",100],["T_STRING","getNode",100],"(",["T_CONSTANT_ENCAPSED_STRING","'default\/web\/secure\/base_url'",100],")",",",["T_WHITESPACE"," ",100],["T_LNUMBER","0",100],",",["T_WHITESPACE"," ",100],["T_LNUMBER","5",100],")",["T_WHITESPACE"," ",100],["T_IS_IDENTICAL","===",100],["T_WHITESPACE"," ",100],["T_CONSTANT_ENCAPSED_STRING","'https'",100],";",["T_WHITESPACE","\n    ",100],"}",["T_WHITESPACE","\n\n    ",101],["T_DOC_COMMENT","\/**\n     * Retrieve current secure url\n     *\n     * @param Mage_Core_Controller_Request_Http $request\n     * @return string\n     *\/",103],["T_WHITESPACE","\n    ",108],["T_PROTECTED","protected",109],["T_WHITESPACE"," ",109],["T_FUNCTION","function",109],["T_WHITESPACE"," ",109],["T_STRING","_getCurrentSecureUrl",109],"(",["T_VARIABLE","$request",109],")",["T_WHITESPACE","\n    ",109],"{",["T_WHITESPACE","\n        ",110],["T_RETURN","return",111],["T_WHITESPACE"," ",111],["T_STRING","Mage",111],["T_DOUBLE_COLON","::",111],["T_STRING","app",111],"(",")",["T_OBJECT_OPERATOR","->",111],["T_STRING","getStore",111],"(",["T_STRING","Mage_Core_Model_App",111],["T_DOUBLE_COLON","::",111],["T_STRING","ADMIN_STORE_ID",111],")",["T_WHITESPACE","\n            ",111],["T_OBJECT_OPERATOR","->",112],["T_STRING","getBaseUrl",112],"(",["T_CONSTANT_ENCAPSED_STRING","'link'",112],",",["T_WHITESPACE"," ",112],["T_STRING","true",112],")",["T_WHITESPACE"," ",112],".",["T_WHITESPACE"," ",112],["T_STRING","ltrim",112],"(",["T_VARIABLE","$request",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","getPathInfo",112],"(",")",",",["T_WHITESPACE"," ",112],["T_CONSTANT_ENCAPSED_STRING","'\/'",112],")",";",["T_WHITESPACE","\n    ",112],"}",["T_WHITESPACE","\n\n    ",113],["T_DOC_COMMENT","\/**\n     * Emulate custom admin url\n     *\n     * @param string $configArea\n     * @param bool $useRouterName\n     *\/",115],["T_WHITESPACE","\n    ",120],["T_PUBLIC","public",121],["T_WHITESPACE"," ",121],["T_FUNCTION","function",121],["T_WHITESPACE"," ",121],["T_STRING","collectRoutes",121],"(",["T_VARIABLE","$configArea",121],",",["T_WHITESPACE"," ",121],["T_VARIABLE","$useRouterName",121],")",["T_WHITESPACE","\n    ",121],"{",["T_WHITESPACE","\n        ",122],["T_IF","if",123],["T_WHITESPACE"," ",123],"(",["T_STRING_CAST","(string)",123],["T_STRING","Mage",123],["T_DOUBLE_COLON","::",123],["T_STRING","getConfig",123],"(",")",["T_OBJECT_OPERATOR","->",123],["T_STRING","getNode",123],"(",["T_STRING","Mage_Adminhtml_Helper_Data",123],["T_DOUBLE_COLON","::",123],["T_STRING","XML_PATH_USE_CUSTOM_ADMIN_PATH",123],")",")",["T_WHITESPACE"," ",123],"{",["T_WHITESPACE","\n            ",123],["T_VARIABLE","$customUrl",124],["T_WHITESPACE"," ",124],"=",["T_WHITESPACE"," ",124],["T_STRING_CAST","(string)",124],["T_STRING","Mage",124],["T_DOUBLE_COLON","::",124],["T_STRING","getConfig",124],"(",")",["T_OBJECT_OPERATOR","->",124],["T_STRING","getNode",124],"(",["T_STRING","Mage_Adminhtml_Helper_Data",124],["T_DOUBLE_COLON","::",124],["T_STRING","XML_PATH_CUSTOM_ADMIN_PATH",124],")",";",["T_WHITESPACE","\n            ",124],["T_VARIABLE","$xmlPath",125],["T_WHITESPACE"," ",125],"=",["T_WHITESPACE"," ",125],["T_STRING","Mage_Adminhtml_Helper_Data",125],["T_DOUBLE_COLON","::",125],["T_STRING","XML_PATH_ADMINHTML_ROUTER_FRONTNAME",125],";",["T_WHITESPACE","\n            ",125],["T_IF","if",126],["T_WHITESPACE"," ",126],"(",["T_STRING_CAST","(string)",126],["T_STRING","Mage",126],["T_DOUBLE_COLON","::",126],["T_STRING","getConfig",126],"(",")",["T_OBJECT_OPERATOR","->",126],["T_STRING","getNode",126],"(",["T_VARIABLE","$xmlPath",126],")",["T_WHITESPACE"," ",126],["T_IS_NOT_EQUAL","!=",126],["T_WHITESPACE"," ",126],["T_VARIABLE","$customUrl",126],")",["T_WHITESPACE"," ",126],"{",["T_WHITESPACE","\n                ",126],["T_STRING","Mage",127],["T_DOUBLE_COLON","::",127],["T_STRING","getConfig",127],"(",")",["T_OBJECT_OPERATOR","->",127],["T_STRING","setNode",127],"(",["T_VARIABLE","$xmlPath",127],",",["T_WHITESPACE"," ",127],["T_VARIABLE","$customUrl",127],",",["T_WHITESPACE"," ",127],["T_STRING","true",127],")",";",["T_WHITESPACE","\n            ",127],"}",["T_WHITESPACE","\n        ",128],"}",["T_WHITESPACE","\n        ",129],["T_STRING","parent",130],["T_DOUBLE_COLON","::",130],["T_STRING","collectRoutes",130],"(",["T_VARIABLE","$configArea",130],",",["T_WHITESPACE"," ",130],["T_VARIABLE","$useRouterName",130],")",";",["T_WHITESPACE","\n    ",130],"}",["T_WHITESPACE","\n\n    ",131],["T_DOC_COMMENT","\/**\n     * Add module definition to routes.\n     *\n     * @param string $frontName\n     * @param mixed $moduleName\n     * @param string $routeName\n     * @return $this\n     *\/",133],["T_WHITESPACE","\n    ",140],["T_PUBLIC","public",141],["T_WHITESPACE"," ",141],["T_FUNCTION","function",141],["T_WHITESPACE"," ",141],["T_STRING","addModule",141],"(",["T_VARIABLE","$frontName",141],",",["T_WHITESPACE"," ",141],["T_VARIABLE","$moduleName",141],",",["T_WHITESPACE"," ",141],["T_VARIABLE","$routeName",141],")",["T_WHITESPACE","\n    ",141],"{",["T_WHITESPACE","\n        ",142],["T_VARIABLE","$isExtensionsCompatibilityMode",143],["T_WHITESPACE"," ",143],"=",["T_WHITESPACE"," ",143],["T_BOOL_CAST","(bool)",143],["T_STRING_CAST","(string)",143],["T_STRING","Mage",143],["T_DOUBLE_COLON","::",143],["T_STRING","getConfig",143],"(",")",["T_OBJECT_OPERATOR","->",143],["T_STRING","getNode",143],"(",["T_WHITESPACE","\n            ",143],["T_CONSTANT_ENCAPSED_STRING","'default\/admin\/security\/extensions_compatibility_mode'",144],["T_WHITESPACE","\n        ",144],")",";",["T_WHITESPACE","\n        ",145],["T_VARIABLE","$configRouterFrontName",146],["T_WHITESPACE"," ",146],"=",["T_WHITESPACE"," ",146],["T_STRING_CAST","(string)",146],["T_STRING","Mage",146],["T_DOUBLE_COLON","::",146],["T_STRING","getConfig",146],"(",")",["T_OBJECT_OPERATOR","->",146],["T_STRING","getNode",146],"(",["T_WHITESPACE","\n            ",146],["T_STRING","Mage_Adminhtml_Helper_Data",147],["T_DOUBLE_COLON","::",147],["T_STRING","XML_PATH_ADMINHTML_ROUTER_FRONTNAME",147],["T_WHITESPACE","\n        ",147],")",";",["T_WHITESPACE","\n        ",148],["T_IF","if",149],["T_WHITESPACE"," ",149],"(",["T_VARIABLE","$isExtensionsCompatibilityMode",149],["T_WHITESPACE"," ",149],["T_BOOLEAN_OR","||",149],["T_WHITESPACE"," ",149],"(",["T_VARIABLE","$frontName",149],["T_WHITESPACE"," ",149],["T_IS_EQUAL","==",149],["T_WHITESPACE"," ",149],["T_VARIABLE","$configRouterFrontName",149],")",")",["T_WHITESPACE"," ",149],"{",["T_WHITESPACE","\n            ",149],["T_RETURN","return",150],["T_WHITESPACE"," ",150],["T_STRING","parent",150],["T_DOUBLE_COLON","::",150],["T_STRING","addModule",150],"(",["T_VARIABLE","$frontName",150],",",["T_WHITESPACE"," ",150],["T_VARIABLE","$moduleName",150],",",["T_WHITESPACE"," ",150],["T_VARIABLE","$routeName",150],")",";",["T_WHITESPACE","\n        ",150],"}",["T_WHITESPACE"," ",151],["T_ELSE","else",151],["T_WHITESPACE"," ",151],"{",["T_WHITESPACE","\n            ",151],["T_RETURN","return",152],["T_WHITESPACE"," ",152],["T_VARIABLE","$this",152],";",["T_WHITESPACE","\n        ",152],"}",["T_WHITESPACE","\n    ",153],"}",["T_WHITESPACE","\n\n    ",154],["T_DOC_COMMENT","\/**\n     * Check if current controller instance is allowed in current router.\n     *\n     * @param Mage_Core_Controller_Varien_Action $controllerInstance\n     * @return boolean\n     *\/",156],["T_WHITESPACE","\n    ",161],["T_PROTECTED","protected",162],["T_WHITESPACE"," ",162],["T_FUNCTION","function",162],["T_WHITESPACE"," ",162],["T_STRING","_validateControllerInstance",162],"(",["T_VARIABLE","$controllerInstance",162],")",["T_WHITESPACE","\n    ",162],"{",["T_WHITESPACE","\n        ",163],["T_RETURN","return",164],["T_WHITESPACE"," ",164],["T_STRING","true",164],";",["T_WHITESPACE","\n    ",164],"}",["T_WHITESPACE","\n",165],"}",["T_WHITESPACE","\n",166]]