[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Magento\n *\n * NOTICE OF LICENSE\n *\n * This source file is subject to the Open Software License (OSL 3.0)\n * that is bundled with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/opensource.org\/licenses\/osl-3.0.php\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@magento.com so we can send you a copy immediately.\n *\n * DISCLAIMER\n *\n * Do not edit or add to this file if you wish to upgrade Magento to newer\n * versions in the future. If you wish to customize Magento for your\n * needs please refer to http:\/\/www.magento.com for more information.\n *\n * @category    Mage\n * @package     Mage_Rule\n * @copyright  Copyright (c) 2006-2016 X.commerce, Inc. and affiliates (http:\/\/www.magento.com)\n * @license    http:\/\/opensource.org\/licenses\/osl-3.0.php  Open Software License (OSL 3.0)\n *\/",2],["T_WHITESPACE","\n\n\n",25],["T_DOC_COMMENT","\/**\n * Abstract Rule condition data model\n *\n * @category Mage\n * @package Mage_Rule\n * @author Magento Core Team <core@magentocommerce.com>\n *\/",28],["T_WHITESPACE","\n",34],["T_ABSTRACT","abstract",35],["T_WHITESPACE"," ",35],["T_CLASS","class",35],["T_WHITESPACE"," ",35],["T_STRING","Mage_Rule_Model_Condition_Abstract",35],["T_WHITESPACE","\n    ",35],["T_EXTENDS","extends",36],["T_WHITESPACE"," ",36],["T_STRING","Varien_Object",36],["T_WHITESPACE","\n    ",36],["T_IMPLEMENTS","implements",37],["T_WHITESPACE"," ",37],["T_STRING","Mage_Rule_Model_Condition_Interface",37],["T_WHITESPACE","\n",37],"{",["T_WHITESPACE","\n    ",38],["T_DOC_COMMENT","\/**\n     * Defines which operators will be available for this condition\n     *\n     * @var string\n     *\/",39],["T_WHITESPACE","\n    ",43],["T_PROTECTED","protected",44],["T_WHITESPACE"," ",44],["T_VARIABLE","$_inputType",44],["T_WHITESPACE"," ",44],"=",["T_WHITESPACE"," ",44],["T_STRING","null",44],";",["T_WHITESPACE","\n\n    ",44],["T_DOC_COMMENT","\/**\n     * Default values for possible operator options\n     * @var array\n     *\/",46],["T_WHITESPACE","\n    ",49],["T_PROTECTED","protected",50],["T_WHITESPACE"," ",50],["T_VARIABLE","$_defaultOperatorOptions",50],["T_WHITESPACE"," ",50],"=",["T_WHITESPACE"," ",50],["T_STRING","null",50],";",["T_WHITESPACE","\n\n    ",50],["T_DOC_COMMENT","\/**\n     * Default combinations of operator options, depending on input type\n     * @var array\n     *\/",52],["T_WHITESPACE","\n    ",55],["T_PROTECTED","protected",56],["T_WHITESPACE"," ",56],["T_VARIABLE","$_defaultOperatorInputByType",56],["T_WHITESPACE"," ",56],"=",["T_WHITESPACE"," ",56],["T_STRING","null",56],";",["T_WHITESPACE","\n\n    ",56],["T_DOC_COMMENT","\/**\n     * List of input types for values which should be array\n     * @var array\n     *\/",58],["T_WHITESPACE","\n    ",61],["T_PROTECTED","protected",62],["T_WHITESPACE"," ",62],["T_VARIABLE","$_arrayInputTypes",62],["T_WHITESPACE"," ",62],"=",["T_WHITESPACE"," ",62],["T_ARRAY","array",62],"(",")",";",["T_WHITESPACE","\n\n    ",62],["T_PUBLIC","public",64],["T_WHITESPACE"," ",64],["T_FUNCTION","function",64],["T_WHITESPACE"," ",64],["T_STRING","__construct",64],"(",")",["T_WHITESPACE","\n    ",64],"{",["T_WHITESPACE","\n        ",65],["T_STRING","parent",66],["T_DOUBLE_COLON","::",66],["T_STRING","__construct",66],"(",")",";",["T_WHITESPACE","\n\n        ",66],["T_VARIABLE","$this",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","loadAttributeOptions",68],"(",")",["T_OBJECT_OPERATOR","->",68],["T_STRING","loadOperatorOptions",68],"(",")",["T_OBJECT_OPERATOR","->",68],["T_STRING","loadValueOptions",68],"(",")",";",["T_WHITESPACE","\n\n        ",68],["T_IF","if",70],["T_WHITESPACE"," ",70],"(",["T_VARIABLE","$options",70],["T_WHITESPACE"," ",70],"=",["T_WHITESPACE"," ",70],["T_VARIABLE","$this",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","getAttributeOptions",70],"(",")",")",["T_WHITESPACE"," ",70],"{",["T_WHITESPACE","\n            ",70],["T_FOREACH","foreach",71],["T_WHITESPACE"," ",71],"(",["T_VARIABLE","$options",71],["T_WHITESPACE"," ",71],["T_AS","as",71],["T_WHITESPACE"," ",71],["T_VARIABLE","$attr",71],["T_DOUBLE_ARROW","=>",71],["T_VARIABLE","$dummy",71],")",["T_WHITESPACE"," ",71],"{",["T_WHITESPACE"," ",71],["T_VARIABLE","$this",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","setAttribute",71],"(",["T_VARIABLE","$attr",71],")",";",["T_WHITESPACE"," ",71],["T_BREAK","break",71],";",["T_WHITESPACE"," ",71],"}",["T_WHITESPACE","\n        ",71],"}",["T_WHITESPACE","\n        ",72],["T_IF","if",73],["T_WHITESPACE"," ",73],"(",["T_VARIABLE","$options",73],["T_WHITESPACE"," ",73],"=",["T_WHITESPACE"," ",73],["T_VARIABLE","$this",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","getOperatorOptions",73],"(",")",")",["T_WHITESPACE"," ",73],"{",["T_WHITESPACE","\n            ",73],["T_FOREACH","foreach",74],["T_WHITESPACE"," ",74],"(",["T_VARIABLE","$options",74],["T_WHITESPACE"," ",74],["T_AS","as",74],["T_WHITESPACE"," ",74],["T_VARIABLE","$operator",74],["T_DOUBLE_ARROW","=>",74],["T_VARIABLE","$dummy",74],")",["T_WHITESPACE"," ",74],"{",["T_WHITESPACE"," ",74],["T_VARIABLE","$this",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","setOperator",74],"(",["T_VARIABLE","$operator",74],")",";",["T_WHITESPACE"," ",74],["T_BREAK","break",74],";",["T_WHITESPACE"," ",74],"}",["T_WHITESPACE","\n        ",74],"}",["T_WHITESPACE","\n    ",75],"}",["T_WHITESPACE","\n\n    ",76],["T_DOC_COMMENT","\/**\n     * Prepare sql where by condition\n     *\n     * @return string\n     *\/",78],["T_WHITESPACE","\n    ",82],["T_PUBLIC","public",83],["T_WHITESPACE"," ",83],["T_FUNCTION","function",83],["T_WHITESPACE"," ",83],["T_STRING","prepareConditionSql",83],"(",")",["T_WHITESPACE","\n    ",83],"{",["T_WHITESPACE","\n        ",84],["T_RETURN","return",85],["T_WHITESPACE"," ",85],["T_CONSTANT_ENCAPSED_STRING","''",85],";",["T_WHITESPACE","\n    ",85],"}",["T_WHITESPACE","\n\n    ",86],["T_DOC_COMMENT","\/**\n     * Default operator input by type map getter\n     *\n     * @return array\n     *\/",88],["T_WHITESPACE","\n    ",92],["T_PUBLIC","public",93],["T_WHITESPACE"," ",93],["T_FUNCTION","function",93],["T_WHITESPACE"," ",93],["T_STRING","getDefaultOperatorInputByType",93],"(",")",["T_WHITESPACE","\n    ",93],"{",["T_WHITESPACE","\n        ",94],["T_IF","if",95],["T_WHITESPACE"," ",95],"(",["T_STRING","null",95],["T_WHITESPACE"," ",95],["T_IS_IDENTICAL","===",95],["T_WHITESPACE"," ",95],["T_VARIABLE","$this",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","_defaultOperatorInputByType",95],")",["T_WHITESPACE"," ",95],"{",["T_WHITESPACE","\n            ",95],["T_VARIABLE","$this",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","_defaultOperatorInputByType",96],["T_WHITESPACE"," ",96],"=",["T_WHITESPACE"," ",96],["T_ARRAY","array",96],"(",["T_WHITESPACE","\n                ",96],["T_CONSTANT_ENCAPSED_STRING","'string'",97],["T_WHITESPACE","      ",97],["T_DOUBLE_ARROW","=>",97],["T_WHITESPACE"," ",97],["T_ARRAY","array",97],"(",["T_CONSTANT_ENCAPSED_STRING","'=='",97],",",["T_WHITESPACE"," ",97],["T_CONSTANT_ENCAPSED_STRING","'!='",97],",",["T_WHITESPACE"," ",97],["T_CONSTANT_ENCAPSED_STRING","'>='",97],",",["T_WHITESPACE"," ",97],["T_CONSTANT_ENCAPSED_STRING","'>'",97],",",["T_WHITESPACE"," ",97],["T_CONSTANT_ENCAPSED_STRING","'<='",97],",",["T_WHITESPACE"," ",97],["T_CONSTANT_ENCAPSED_STRING","'<'",97],",",["T_WHITESPACE"," ",97],["T_CONSTANT_ENCAPSED_STRING","'{}'",97],",",["T_WHITESPACE"," ",97],["T_CONSTANT_ENCAPSED_STRING","'!{}'",97],",",["T_WHITESPACE"," ",97],["T_CONSTANT_ENCAPSED_STRING","'()'",97],",",["T_WHITESPACE"," ",97],["T_CONSTANT_ENCAPSED_STRING","'!()'",97],")",",",["T_WHITESPACE","\n                ",97],["T_CONSTANT_ENCAPSED_STRING","'numeric'",98],["T_WHITESPACE","     ",98],["T_DOUBLE_ARROW","=>",98],["T_WHITESPACE"," ",98],["T_ARRAY","array",98],"(",["T_CONSTANT_ENCAPSED_STRING","'=='",98],",",["T_WHITESPACE"," ",98],["T_CONSTANT_ENCAPSED_STRING","'!='",98],",",["T_WHITESPACE"," ",98],["T_CONSTANT_ENCAPSED_STRING","'>='",98],",",["T_WHITESPACE"," ",98],["T_CONSTANT_ENCAPSED_STRING","'>'",98],",",["T_WHITESPACE"," ",98],["T_CONSTANT_ENCAPSED_STRING","'<='",98],",",["T_WHITESPACE"," ",98],["T_CONSTANT_ENCAPSED_STRING","'<'",98],",",["T_WHITESPACE"," ",98],["T_CONSTANT_ENCAPSED_STRING","'()'",98],",",["T_WHITESPACE"," ",98],["T_CONSTANT_ENCAPSED_STRING","'!()'",98],")",",",["T_WHITESPACE","\n                ",98],["T_CONSTANT_ENCAPSED_STRING","'date'",99],["T_WHITESPACE","        ",99],["T_DOUBLE_ARROW","=>",99],["T_WHITESPACE"," ",99],["T_ARRAY","array",99],"(",["T_CONSTANT_ENCAPSED_STRING","'=='",99],",",["T_WHITESPACE"," ",99],["T_CONSTANT_ENCAPSED_STRING","'>='",99],",",["T_WHITESPACE"," ",99],["T_CONSTANT_ENCAPSED_STRING","'<='",99],")",",",["T_WHITESPACE","\n                ",99],["T_CONSTANT_ENCAPSED_STRING","'datetime'",100],["T_WHITESPACE","    ",100],["T_DOUBLE_ARROW","=>",100],["T_WHITESPACE"," ",100],["T_ARRAY","array",100],"(",["T_CONSTANT_ENCAPSED_STRING","'=='",100],",",["T_WHITESPACE"," ",100],["T_CONSTANT_ENCAPSED_STRING","'>='",100],",",["T_WHITESPACE"," ",100],["T_CONSTANT_ENCAPSED_STRING","'<='",100],")",",",["T_WHITESPACE","\n                ",100],["T_CONSTANT_ENCAPSED_STRING","'select'",101],["T_WHITESPACE","      ",101],["T_DOUBLE_ARROW","=>",101],["T_WHITESPACE"," ",101],["T_ARRAY","array",101],"(",["T_CONSTANT_ENCAPSED_STRING","'=='",101],",",["T_WHITESPACE"," ",101],["T_CONSTANT_ENCAPSED_STRING","'!='",101],")",",",["T_WHITESPACE","\n                ",101],["T_CONSTANT_ENCAPSED_STRING","'boolean'",102],["T_WHITESPACE","     ",102],["T_DOUBLE_ARROW","=>",102],["T_WHITESPACE"," ",102],["T_ARRAY","array",102],"(",["T_CONSTANT_ENCAPSED_STRING","'=='",102],",",["T_WHITESPACE"," ",102],["T_CONSTANT_ENCAPSED_STRING","'!='",102],")",",",["T_WHITESPACE","\n                ",102],["T_CONSTANT_ENCAPSED_STRING","'multiselect'",103],["T_WHITESPACE"," ",103],["T_DOUBLE_ARROW","=>",103],["T_WHITESPACE"," ",103],["T_ARRAY","array",103],"(",["T_CONSTANT_ENCAPSED_STRING","'[]'",103],",",["T_WHITESPACE"," ",103],["T_CONSTANT_ENCAPSED_STRING","'![]'",103],",",["T_WHITESPACE"," ",103],["T_CONSTANT_ENCAPSED_STRING","'()'",103],",",["T_WHITESPACE"," ",103],["T_CONSTANT_ENCAPSED_STRING","'!()'",103],")",",",["T_WHITESPACE","\n                ",103],["T_CONSTANT_ENCAPSED_STRING","'grid'",104],["T_WHITESPACE","        ",104],["T_DOUBLE_ARROW","=>",104],["T_WHITESPACE"," ",104],["T_ARRAY","array",104],"(",["T_CONSTANT_ENCAPSED_STRING","'()'",104],",",["T_WHITESPACE"," ",104],["T_CONSTANT_ENCAPSED_STRING","'!()'",104],")",",",["T_WHITESPACE","\n            ",104],")",";",["T_WHITESPACE","\n            ",105],["T_VARIABLE","$this",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","_arrayInputTypes",106],["T_WHITESPACE"," ",106],"=",["T_WHITESPACE"," ",106],["T_ARRAY","array",106],"(",["T_CONSTANT_ENCAPSED_STRING","'multiselect'",106],",",["T_WHITESPACE"," ",106],["T_CONSTANT_ENCAPSED_STRING","'grid'",106],")",";",["T_WHITESPACE","\n        ",106],"}",["T_WHITESPACE","\n        ",107],["T_RETURN","return",108],["T_WHITESPACE"," ",108],["T_VARIABLE","$this",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","_defaultOperatorInputByType",108],";",["T_WHITESPACE","\n    ",108],"}",["T_WHITESPACE","\n\n    ",109],["T_DOC_COMMENT","\/**\n     * Default operator options getter\n     * Provides all possible operator options\n     *\n     * @return array\n     *\/",111],["T_WHITESPACE","\n    ",116],["T_PUBLIC","public",117],["T_WHITESPACE"," ",117],["T_FUNCTION","function",117],["T_WHITESPACE"," ",117],["T_STRING","getDefaultOperatorOptions",117],"(",")",["T_WHITESPACE","\n    ",117],"{",["T_WHITESPACE","\n        ",118],["T_IF","if",119],["T_WHITESPACE"," ",119],"(",["T_STRING","null",119],["T_WHITESPACE"," ",119],["T_IS_IDENTICAL","===",119],["T_WHITESPACE"," ",119],["T_VARIABLE","$this",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","_defaultOperatorOptions",119],")",["T_WHITESPACE"," ",119],"{",["T_WHITESPACE","\n            ",119],["T_VARIABLE","$this",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","_defaultOperatorOptions",120],["T_WHITESPACE"," ",120],"=",["T_WHITESPACE"," ",120],["T_ARRAY","array",120],"(",["T_WHITESPACE","\n                ",120],["T_CONSTANT_ENCAPSED_STRING","'=='",121],["T_WHITESPACE","  ",121],["T_DOUBLE_ARROW","=>",121],["T_WHITESPACE"," ",121],["T_STRING","Mage",121],["T_DOUBLE_COLON","::",121],["T_STRING","helper",121],"(",["T_CONSTANT_ENCAPSED_STRING","'rule'",121],")",["T_OBJECT_OPERATOR","->",121],["T_STRING","__",121],"(",["T_CONSTANT_ENCAPSED_STRING","'is'",121],")",",",["T_WHITESPACE","\n                ",121],["T_CONSTANT_ENCAPSED_STRING","'!='",122],["T_WHITESPACE","  ",122],["T_DOUBLE_ARROW","=>",122],["T_WHITESPACE"," ",122],["T_STRING","Mage",122],["T_DOUBLE_COLON","::",122],["T_STRING","helper",122],"(",["T_CONSTANT_ENCAPSED_STRING","'rule'",122],")",["T_OBJECT_OPERATOR","->",122],["T_STRING","__",122],"(",["T_CONSTANT_ENCAPSED_STRING","'is not'",122],")",",",["T_WHITESPACE","\n                ",122],["T_CONSTANT_ENCAPSED_STRING","'>='",123],["T_WHITESPACE","  ",123],["T_DOUBLE_ARROW","=>",123],["T_WHITESPACE"," ",123],["T_STRING","Mage",123],["T_DOUBLE_COLON","::",123],["T_STRING","helper",123],"(",["T_CONSTANT_ENCAPSED_STRING","'rule'",123],")",["T_OBJECT_OPERATOR","->",123],["T_STRING","__",123],"(",["T_CONSTANT_ENCAPSED_STRING","'equals or greater than'",123],")",",",["T_WHITESPACE","\n                ",123],["T_CONSTANT_ENCAPSED_STRING","'<='",124],["T_WHITESPACE","  ",124],["T_DOUBLE_ARROW","=>",124],["T_WHITESPACE"," ",124],["T_STRING","Mage",124],["T_DOUBLE_COLON","::",124],["T_STRING","helper",124],"(",["T_CONSTANT_ENCAPSED_STRING","'rule'",124],")",["T_OBJECT_OPERATOR","->",124],["T_STRING","__",124],"(",["T_CONSTANT_ENCAPSED_STRING","'equals or less than'",124],")",",",["T_WHITESPACE","\n                ",124],["T_CONSTANT_ENCAPSED_STRING","'>'",125],["T_WHITESPACE","   ",125],["T_DOUBLE_ARROW","=>",125],["T_WHITESPACE"," ",125],["T_STRING","Mage",125],["T_DOUBLE_COLON","::",125],["T_STRING","helper",125],"(",["T_CONSTANT_ENCAPSED_STRING","'rule'",125],")",["T_OBJECT_OPERATOR","->",125],["T_STRING","__",125],"(",["T_CONSTANT_ENCAPSED_STRING","'greater than'",125],")",",",["T_WHITESPACE","\n                ",125],["T_CONSTANT_ENCAPSED_STRING","'<'",126],["T_WHITESPACE","   ",126],["T_DOUBLE_ARROW","=>",126],["T_WHITESPACE"," ",126],["T_STRING","Mage",126],["T_DOUBLE_COLON","::",126],["T_STRING","helper",126],"(",["T_CONSTANT_ENCAPSED_STRING","'rule'",126],")",["T_OBJECT_OPERATOR","->",126],["T_STRING","__",126],"(",["T_CONSTANT_ENCAPSED_STRING","'less than'",126],")",",",["T_WHITESPACE","\n                ",126],["T_CONSTANT_ENCAPSED_STRING","'{}'",127],["T_WHITESPACE","  ",127],["T_DOUBLE_ARROW","=>",127],["T_WHITESPACE"," ",127],["T_STRING","Mage",127],["T_DOUBLE_COLON","::",127],["T_STRING","helper",127],"(",["T_CONSTANT_ENCAPSED_STRING","'rule'",127],")",["T_OBJECT_OPERATOR","->",127],["T_STRING","__",127],"(",["T_CONSTANT_ENCAPSED_STRING","'contains'",127],")",",",["T_WHITESPACE","\n                ",127],["T_CONSTANT_ENCAPSED_STRING","'!{}'",128],["T_WHITESPACE"," ",128],["T_DOUBLE_ARROW","=>",128],["T_WHITESPACE"," ",128],["T_STRING","Mage",128],["T_DOUBLE_COLON","::",128],["T_STRING","helper",128],"(",["T_CONSTANT_ENCAPSED_STRING","'rule'",128],")",["T_OBJECT_OPERATOR","->",128],["T_STRING","__",128],"(",["T_CONSTANT_ENCAPSED_STRING","'does not contain'",128],")",",",["T_WHITESPACE","\n                ",128],["T_CONSTANT_ENCAPSED_STRING","'[]'",129],["T_WHITESPACE","  ",129],["T_DOUBLE_ARROW","=>",129],["T_WHITESPACE"," ",129],["T_STRING","Mage",129],["T_DOUBLE_COLON","::",129],["T_STRING","helper",129],"(",["T_CONSTANT_ENCAPSED_STRING","'rule'",129],")",["T_OBJECT_OPERATOR","->",129],["T_STRING","__",129],"(",["T_CONSTANT_ENCAPSED_STRING","'contains'",129],")",",",["T_WHITESPACE","\n                ",129],["T_CONSTANT_ENCAPSED_STRING","'![]'",130],["T_WHITESPACE"," ",130],["T_DOUBLE_ARROW","=>",130],["T_WHITESPACE"," ",130],["T_STRING","Mage",130],["T_DOUBLE_COLON","::",130],["T_STRING","helper",130],"(",["T_CONSTANT_ENCAPSED_STRING","'rule'",130],")",["T_OBJECT_OPERATOR","->",130],["T_STRING","__",130],"(",["T_CONSTANT_ENCAPSED_STRING","'does not contain'",130],")",",",["T_WHITESPACE","\n                ",130],["T_CONSTANT_ENCAPSED_STRING","'()'",131],["T_WHITESPACE","  ",131],["T_DOUBLE_ARROW","=>",131],["T_WHITESPACE"," ",131],["T_STRING","Mage",131],["T_DOUBLE_COLON","::",131],["T_STRING","helper",131],"(",["T_CONSTANT_ENCAPSED_STRING","'rule'",131],")",["T_OBJECT_OPERATOR","->",131],["T_STRING","__",131],"(",["T_CONSTANT_ENCAPSED_STRING","'is one of'",131],")",",",["T_WHITESPACE","\n                ",131],["T_CONSTANT_ENCAPSED_STRING","'!()'",132],["T_WHITESPACE"," ",132],["T_DOUBLE_ARROW","=>",132],["T_WHITESPACE"," ",132],["T_STRING","Mage",132],["T_DOUBLE_COLON","::",132],["T_STRING","helper",132],"(",["T_CONSTANT_ENCAPSED_STRING","'rule'",132],")",["T_OBJECT_OPERATOR","->",132],["T_STRING","__",132],"(",["T_CONSTANT_ENCAPSED_STRING","'is not one of'",132],")",["T_WHITESPACE","\n            ",132],")",";",["T_WHITESPACE","\n        ",133],"}",["T_WHITESPACE","\n        ",134],["T_RETURN","return",135],["T_WHITESPACE"," ",135],["T_VARIABLE","$this",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","_defaultOperatorOptions",135],";",["T_WHITESPACE","\n    ",135],"}",["T_WHITESPACE","\n\n    ",136],["T_PUBLIC","public",138],["T_WHITESPACE"," ",138],["T_FUNCTION","function",138],["T_WHITESPACE"," ",138],["T_STRING","getForm",138],"(",")",["T_WHITESPACE","\n    ",138],"{",["T_WHITESPACE","\n        ",139],["T_RETURN","return",140],["T_WHITESPACE"," ",140],["T_VARIABLE","$this",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","getRule",140],"(",")",["T_OBJECT_OPERATOR","->",140],["T_STRING","getForm",140],"(",")",";",["T_WHITESPACE","\n    ",140],"}",["T_WHITESPACE","\n\n    ",141],["T_PUBLIC","public",143],["T_WHITESPACE"," ",143],["T_FUNCTION","function",143],["T_WHITESPACE"," ",143],["T_STRING","asArray",143],"(",["T_ARRAY","array",143],["T_WHITESPACE"," ",143],["T_VARIABLE","$arrAttributes",143],["T_WHITESPACE"," ",143],"=",["T_WHITESPACE"," ",143],["T_ARRAY","array",143],"(",")",")",["T_WHITESPACE","\n    ",143],"{",["T_WHITESPACE","\n        ",144],["T_VARIABLE","$out",145],["T_WHITESPACE"," ",145],"=",["T_WHITESPACE"," ",145],["T_ARRAY","array",145],"(",["T_WHITESPACE","\n            ",145],["T_CONSTANT_ENCAPSED_STRING","'type'",146],["T_WHITESPACE","               ",146],["T_DOUBLE_ARROW","=>",146],["T_WHITESPACE"," ",146],["T_VARIABLE","$this",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","getType",146],"(",")",",",["T_WHITESPACE","\n            ",146],["T_CONSTANT_ENCAPSED_STRING","'attribute'",147],["T_WHITESPACE","          ",147],["T_DOUBLE_ARROW","=>",147],["T_WHITESPACE"," ",147],["T_VARIABLE","$this",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","getAttribute",147],"(",")",",",["T_WHITESPACE","\n            ",147],["T_CONSTANT_ENCAPSED_STRING","'operator'",148],["T_WHITESPACE","           ",148],["T_DOUBLE_ARROW","=>",148],["T_WHITESPACE"," ",148],["T_VARIABLE","$this",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","getOperator",148],"(",")",",",["T_WHITESPACE","\n            ",148],["T_CONSTANT_ENCAPSED_STRING","'value'",149],["T_WHITESPACE","              ",149],["T_DOUBLE_ARROW","=>",149],["T_WHITESPACE"," ",149],["T_VARIABLE","$this",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","getValue",149],"(",")",",",["T_WHITESPACE","\n            ",149],["T_CONSTANT_ENCAPSED_STRING","'is_value_processed'",150],["T_WHITESPACE"," ",150],["T_DOUBLE_ARROW","=>",150],["T_WHITESPACE"," ",150],["T_VARIABLE","$this",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","getIsValueParsed",150],"(",")",",",["T_WHITESPACE","\n        ",150],")",";",["T_WHITESPACE","\n        ",151],["T_RETURN","return",152],["T_WHITESPACE"," ",152],["T_VARIABLE","$out",152],";",["T_WHITESPACE","\n    ",152],"}",["T_WHITESPACE","\n\n    ",153],["T_PUBLIC","public",155],["T_WHITESPACE"," ",155],["T_FUNCTION","function",155],["T_WHITESPACE"," ",155],["T_STRING","asXml",155],"(",")",["T_WHITESPACE","\n    ",155],"{",["T_WHITESPACE","\n        ",156],["T_VARIABLE","$xml",157],["T_WHITESPACE"," ",157],"=",["T_WHITESPACE"," ",157],["T_CONSTANT_ENCAPSED_STRING","'<type>'",157],["T_WHITESPACE"," ",157],".",["T_WHITESPACE"," ",157],["T_VARIABLE","$this",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","getType",157],"(",")",["T_WHITESPACE"," ",157],".",["T_WHITESPACE"," ",157],["T_CONSTANT_ENCAPSED_STRING","'<\/type>'",157],["T_WHITESPACE","\n            ",157],".",["T_WHITESPACE"," ",158],["T_CONSTANT_ENCAPSED_STRING","'<attribute>'",158],["T_WHITESPACE"," ",158],".",["T_WHITESPACE"," ",158],["T_VARIABLE","$this",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","getAttribute",158],"(",")",["T_WHITESPACE"," ",158],".",["T_WHITESPACE"," ",158],["T_CONSTANT_ENCAPSED_STRING","'<\/attribute>'",158],["T_WHITESPACE","\n            ",158],".",["T_WHITESPACE"," ",159],["T_CONSTANT_ENCAPSED_STRING","'<operator>'",159],["T_WHITESPACE"," ",159],".",["T_WHITESPACE"," ",159],["T_VARIABLE","$this",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","getOperator",159],"(",")",["T_WHITESPACE"," ",159],".",["T_WHITESPACE"," ",159],["T_CONSTANT_ENCAPSED_STRING","'<\/operator>'",159],["T_WHITESPACE","\n            ",159],".",["T_WHITESPACE"," ",160],["T_CONSTANT_ENCAPSED_STRING","'<value>'",160],["T_WHITESPACE"," ",160],".",["T_WHITESPACE"," ",160],["T_VARIABLE","$this",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","getValue",160],"(",")",["T_WHITESPACE"," ",160],".",["T_WHITESPACE"," ",160],["T_CONSTANT_ENCAPSED_STRING","'<\/value>'",160],";",["T_WHITESPACE","\n        ",160],["T_RETURN","return",161],["T_WHITESPACE"," ",161],["T_VARIABLE","$xml",161],";",["T_WHITESPACE","\n    ",161],"}",["T_WHITESPACE","\n\n    ",162],["T_PUBLIC","public",164],["T_WHITESPACE"," ",164],["T_FUNCTION","function",164],["T_WHITESPACE"," ",164],["T_STRING","loadArray",164],"(",["T_VARIABLE","$arr",164],")",["T_WHITESPACE","\n    ",164],"{",["T_WHITESPACE","\n        ",165],["T_VARIABLE","$this",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","setType",166],"(",["T_VARIABLE","$arr",166],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",166],"]",")",";",["T_WHITESPACE","\n        ",166],["T_VARIABLE","$this",167],["T_OBJECT_OPERATOR","->",167],["T_STRING","setAttribute",167],"(",["T_ISSET","isset",167],"(",["T_VARIABLE","$arr",167],"[",["T_CONSTANT_ENCAPSED_STRING","'attribute'",167],"]",")",["T_WHITESPACE"," ",167],"?",["T_WHITESPACE"," ",167],["T_VARIABLE","$arr",167],"[",["T_CONSTANT_ENCAPSED_STRING","'attribute'",167],"]",["T_WHITESPACE"," ",167],":",["T_WHITESPACE"," ",167],["T_STRING","false",167],")",";",["T_WHITESPACE","\n        ",167],["T_VARIABLE","$this",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","setOperator",168],"(",["T_ISSET","isset",168],"(",["T_VARIABLE","$arr",168],"[",["T_CONSTANT_ENCAPSED_STRING","'operator'",168],"]",")",["T_WHITESPACE"," ",168],"?",["T_WHITESPACE"," ",168],["T_VARIABLE","$arr",168],"[",["T_CONSTANT_ENCAPSED_STRING","'operator'",168],"]",["T_WHITESPACE"," ",168],":",["T_WHITESPACE"," ",168],["T_STRING","false",168],")",";",["T_WHITESPACE","\n        ",168],["T_VARIABLE","$this",169],["T_OBJECT_OPERATOR","->",169],["T_STRING","setValue",169],"(",["T_ISSET","isset",169],"(",["T_VARIABLE","$arr",169],"[",["T_CONSTANT_ENCAPSED_STRING","'value'",169],"]",")",["T_WHITESPACE"," ",169],"?",["T_WHITESPACE"," ",169],["T_VARIABLE","$arr",169],"[",["T_CONSTANT_ENCAPSED_STRING","'value'",169],"]",["T_WHITESPACE"," ",169],":",["T_WHITESPACE"," ",169],["T_STRING","false",169],")",";",["T_WHITESPACE","\n        ",169],["T_VARIABLE","$this",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","setIsValueParsed",170],"(",["T_ISSET","isset",170],"(",["T_VARIABLE","$arr",170],"[",["T_CONSTANT_ENCAPSED_STRING","'is_value_parsed'",170],"]",")",["T_WHITESPACE"," ",170],"?",["T_WHITESPACE"," ",170],["T_VARIABLE","$arr",170],"[",["T_CONSTANT_ENCAPSED_STRING","'is_value_parsed'",170],"]",["T_WHITESPACE"," ",170],":",["T_WHITESPACE"," ",170],["T_STRING","false",170],")",";",["T_WHITESPACE","\n\n",170],["T_COMMENT","\/\/        $this->loadAttributeOptions();\n",172],["T_COMMENT","\/\/        $this->loadOperatorOptions();\n",173],["T_COMMENT","\/\/        $this->loadValueOptions();\n",174],["T_WHITESPACE","        ",175],["T_RETURN","return",175],["T_WHITESPACE"," ",175],["T_VARIABLE","$this",175],";",["T_WHITESPACE","\n    ",175],"}",["T_WHITESPACE","\n\n    ",176],["T_PUBLIC","public",178],["T_WHITESPACE"," ",178],["T_FUNCTION","function",178],["T_WHITESPACE"," ",178],["T_STRING","loadXml",178],"(",["T_VARIABLE","$xml",178],")",["T_WHITESPACE","\n    ",178],"{",["T_WHITESPACE","\n        ",179],["T_IF","if",180],["T_WHITESPACE"," ",180],"(",["T_STRING","is_string",180],"(",["T_VARIABLE","$xml",180],")",")",["T_WHITESPACE"," ",180],"{",["T_WHITESPACE","\n            ",180],["T_VARIABLE","$xml",181],["T_WHITESPACE"," ",181],"=",["T_WHITESPACE"," ",181],["T_STRING","simplexml_load_string",181],"(",["T_VARIABLE","$xml",181],")",";",["T_WHITESPACE","\n        ",181],"}",["T_WHITESPACE","\n        ",182],["T_VARIABLE","$arr",183],["T_WHITESPACE"," ",183],"=",["T_WHITESPACE"," ",183],["T_ARRAY_CAST","(array)",183],["T_VARIABLE","$xml",183],";",["T_WHITESPACE","\n        ",183],["T_VARIABLE","$this",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","loadArray",184],"(",["T_VARIABLE","$arr",184],")",";",["T_WHITESPACE","\n        ",184],["T_RETURN","return",185],["T_WHITESPACE"," ",185],["T_VARIABLE","$this",185],";",["T_WHITESPACE","\n    ",185],"}",["T_WHITESPACE","\n\n    ",186],["T_PUBLIC","public",188],["T_WHITESPACE"," ",188],["T_FUNCTION","function",188],["T_WHITESPACE"," ",188],["T_STRING","loadAttributeOptions",188],"(",")",["T_WHITESPACE","\n    ",188],"{",["T_WHITESPACE","\n        ",189],["T_RETURN","return",190],["T_WHITESPACE"," ",190],["T_VARIABLE","$this",190],";",["T_WHITESPACE","\n    ",190],"}",["T_WHITESPACE","\n\n    ",191],["T_PUBLIC","public",193],["T_WHITESPACE"," ",193],["T_FUNCTION","function",193],["T_WHITESPACE"," ",193],["T_STRING","getAttributeOptions",193],"(",")",["T_WHITESPACE","\n    ",193],"{",["T_WHITESPACE","\n        ",194],["T_RETURN","return",195],["T_WHITESPACE"," ",195],["T_ARRAY","array",195],"(",")",";",["T_WHITESPACE","\n    ",195],"}",["T_WHITESPACE","\n\n    ",196],["T_PUBLIC","public",198],["T_WHITESPACE"," ",198],["T_FUNCTION","function",198],["T_WHITESPACE"," ",198],["T_STRING","getAttributeSelectOptions",198],"(",")",["T_WHITESPACE","\n    ",198],"{",["T_WHITESPACE","\n        ",199],["T_VARIABLE","$opt",200],["T_WHITESPACE"," ",200],"=",["T_WHITESPACE"," ",200],["T_ARRAY","array",200],"(",")",";",["T_WHITESPACE","\n        ",200],["T_FOREACH","foreach",201],["T_WHITESPACE"," ",201],"(",["T_VARIABLE","$this",201],["T_OBJECT_OPERATOR","->",201],["T_STRING","getAttributeOption",201],"(",")",["T_WHITESPACE"," ",201],["T_AS","as",201],["T_WHITESPACE"," ",201],["T_VARIABLE","$k",201],["T_WHITESPACE"," ",201],["T_DOUBLE_ARROW","=>",201],["T_WHITESPACE"," ",201],["T_VARIABLE","$v",201],")",["T_WHITESPACE"," ",201],"{",["T_WHITESPACE","\n            ",201],["T_VARIABLE","$opt",202],"[","]",["T_WHITESPACE"," ",202],"=",["T_WHITESPACE"," ",202],["T_ARRAY","array",202],"(",["T_CONSTANT_ENCAPSED_STRING","'value'",202],["T_WHITESPACE"," ",202],["T_DOUBLE_ARROW","=>",202],["T_WHITESPACE"," ",202],["T_VARIABLE","$k",202],",",["T_WHITESPACE"," ",202],["T_CONSTANT_ENCAPSED_STRING","'label'",202],["T_WHITESPACE"," ",202],["T_DOUBLE_ARROW","=>",202],["T_WHITESPACE"," ",202],["T_VARIABLE","$v",202],")",";",["T_WHITESPACE","\n        ",202],"}",["T_WHITESPACE","\n        ",203],["T_RETURN","return",204],["T_WHITESPACE"," ",204],["T_VARIABLE","$opt",204],";",["T_WHITESPACE","\n    ",204],"}",["T_WHITESPACE","\n\n    ",205],["T_PUBLIC","public",207],["T_WHITESPACE"," ",207],["T_FUNCTION","function",207],["T_WHITESPACE"," ",207],["T_STRING","getAttributeName",207],"(",")",["T_WHITESPACE","\n    ",207],"{",["T_WHITESPACE","\n        ",208],["T_RETURN","return",209],["T_WHITESPACE"," ",209],["T_VARIABLE","$this",209],["T_OBJECT_OPERATOR","->",209],["T_STRING","getAttributeOption",209],"(",["T_VARIABLE","$this",209],["T_OBJECT_OPERATOR","->",209],["T_STRING","getAttribute",209],"(",")",")",";",["T_WHITESPACE","\n    ",209],"}",["T_WHITESPACE","\n\n    ",210],["T_PUBLIC","public",212],["T_WHITESPACE"," ",212],["T_FUNCTION","function",212],["T_WHITESPACE"," ",212],["T_STRING","loadOperatorOptions",212],"(",")",["T_WHITESPACE","\n    ",212],"{",["T_WHITESPACE","\n        ",213],["T_VARIABLE","$this",214],["T_OBJECT_OPERATOR","->",214],["T_STRING","setOperatorOption",214],"(",["T_VARIABLE","$this",214],["T_OBJECT_OPERATOR","->",214],["T_STRING","getDefaultOperatorOptions",214],"(",")",")",";",["T_WHITESPACE","\n        ",214],["T_VARIABLE","$this",215],["T_OBJECT_OPERATOR","->",215],["T_STRING","setOperatorByInputType",215],"(",["T_VARIABLE","$this",215],["T_OBJECT_OPERATOR","->",215],["T_STRING","getDefaultOperatorInputByType",215],"(",")",")",";",["T_WHITESPACE","\n        ",215],["T_RETURN","return",216],["T_WHITESPACE"," ",216],["T_VARIABLE","$this",216],";",["T_WHITESPACE","\n    ",216],"}",["T_WHITESPACE","\n\n    ",217],["T_DOC_COMMENT","\/**\n     * This value will define which operators will be available for this condition.\n     *\n     * Possible values are: string, numeric, date, select, multiselect, grid, boolean\n     *\n     * @return string\n     *\/",219],["T_WHITESPACE","\n    ",225],["T_PUBLIC","public",226],["T_WHITESPACE"," ",226],["T_FUNCTION","function",226],["T_WHITESPACE"," ",226],["T_STRING","getInputType",226],"(",")",["T_WHITESPACE","\n    ",226],"{",["T_WHITESPACE","\n        ",227],["T_IF","if",228],["T_WHITESPACE"," ",228],"(",["T_STRING","null",228],["T_WHITESPACE"," ",228],["T_IS_IDENTICAL","===",228],["T_WHITESPACE"," ",228],["T_VARIABLE","$this",228],["T_OBJECT_OPERATOR","->",228],["T_STRING","_inputType",228],")",["T_WHITESPACE"," ",228],"{",["T_WHITESPACE","\n            ",228],["T_RETURN","return",229],["T_WHITESPACE"," ",229],["T_CONSTANT_ENCAPSED_STRING","'string'",229],";",["T_WHITESPACE","\n        ",229],"}",["T_WHITESPACE","\n        ",230],["T_RETURN","return",231],["T_WHITESPACE"," ",231],["T_VARIABLE","$this",231],["T_OBJECT_OPERATOR","->",231],["T_STRING","_inputType",231],";",["T_WHITESPACE","\n    ",231],"}",["T_WHITESPACE","\n\n    ",232],["T_PUBLIC","public",234],["T_WHITESPACE"," ",234],["T_FUNCTION","function",234],["T_WHITESPACE"," ",234],["T_STRING","getOperatorSelectOptions",234],"(",")",["T_WHITESPACE","\n    ",234],"{",["T_WHITESPACE","\n        ",235],["T_VARIABLE","$type",236],["T_WHITESPACE"," ",236],"=",["T_WHITESPACE"," ",236],["T_VARIABLE","$this",236],["T_OBJECT_OPERATOR","->",236],["T_STRING","getInputType",236],"(",")",";",["T_WHITESPACE","\n        ",236],["T_VARIABLE","$opt",237],["T_WHITESPACE"," ",237],"=",["T_WHITESPACE"," ",237],["T_ARRAY","array",237],"(",")",";",["T_WHITESPACE","\n        ",237],["T_VARIABLE","$operatorByType",238],["T_WHITESPACE"," ",238],"=",["T_WHITESPACE"," ",238],["T_VARIABLE","$this",238],["T_OBJECT_OPERATOR","->",238],["T_STRING","getOperatorByInputType",238],"(",")",";",["T_WHITESPACE","\n        ",238],["T_FOREACH","foreach",239],["T_WHITESPACE"," ",239],"(",["T_VARIABLE","$this",239],["T_OBJECT_OPERATOR","->",239],["T_STRING","getOperatorOption",239],"(",")",["T_WHITESPACE"," ",239],["T_AS","as",239],["T_WHITESPACE"," ",239],["T_VARIABLE","$k",239],["T_WHITESPACE"," ",239],["T_DOUBLE_ARROW","=>",239],["T_WHITESPACE"," ",239],["T_VARIABLE","$v",239],")",["T_WHITESPACE"," ",239],"{",["T_WHITESPACE","\n            ",239],["T_IF","if",240],["T_WHITESPACE"," ",240],"(","!",["T_VARIABLE","$operatorByType",240],["T_WHITESPACE"," ",240],["T_BOOLEAN_OR","||",240],["T_WHITESPACE"," ",240],["T_STRING","in_array",240],"(",["T_VARIABLE","$k",240],",",["T_WHITESPACE"," ",240],["T_VARIABLE","$operatorByType",240],"[",["T_VARIABLE","$type",240],"]",")",")",["T_WHITESPACE"," ",240],"{",["T_WHITESPACE","\n                ",240],["T_VARIABLE","$opt",241],"[","]",["T_WHITESPACE"," ",241],"=",["T_WHITESPACE"," ",241],["T_ARRAY","array",241],"(",["T_CONSTANT_ENCAPSED_STRING","'value'",241],["T_WHITESPACE"," ",241],["T_DOUBLE_ARROW","=>",241],["T_WHITESPACE"," ",241],["T_VARIABLE","$k",241],",",["T_WHITESPACE"," ",241],["T_CONSTANT_ENCAPSED_STRING","'label'",241],["T_WHITESPACE"," ",241],["T_DOUBLE_ARROW","=>",241],["T_WHITESPACE"," ",241],["T_VARIABLE","$v",241],")",";",["T_WHITESPACE","\n            ",241],"}",["T_WHITESPACE","\n        ",242],"}",["T_WHITESPACE","\n        ",243],["T_RETURN","return",244],["T_WHITESPACE"," ",244],["T_VARIABLE","$opt",244],";",["T_WHITESPACE","\n    ",244],"}",["T_WHITESPACE","\n\n    ",245],["T_PUBLIC","public",247],["T_WHITESPACE"," ",247],["T_FUNCTION","function",247],["T_WHITESPACE"," ",247],["T_STRING","getOperatorName",247],"(",")",["T_WHITESPACE","\n    ",247],"{",["T_WHITESPACE","\n        ",248],["T_RETURN","return",249],["T_WHITESPACE"," ",249],["T_VARIABLE","$this",249],["T_OBJECT_OPERATOR","->",249],["T_STRING","getOperatorOption",249],"(",["T_VARIABLE","$this",249],["T_OBJECT_OPERATOR","->",249],["T_STRING","getOperator",249],"(",")",")",";",["T_WHITESPACE","\n    ",249],"}",["T_WHITESPACE","\n\n    ",250],["T_PUBLIC","public",252],["T_WHITESPACE"," ",252],["T_FUNCTION","function",252],["T_WHITESPACE"," ",252],["T_STRING","loadValueOptions",252],"(",")",["T_WHITESPACE","\n    ",252],"{",["T_WHITESPACE","\n",253],["T_COMMENT","\/\/        $this->setValueOption(array(\n",254],["T_COMMENT","\/\/            true  => Mage::helper('rule')->__('TRUE'),\n",255],["T_COMMENT","\/\/            false => Mage::helper('rule')->__('FALSE'),\n",256],["T_COMMENT","\/\/        ));\n",257],["T_WHITESPACE","        ",258],["T_VARIABLE","$this",258],["T_OBJECT_OPERATOR","->",258],["T_STRING","setValueOption",258],"(",["T_ARRAY","array",258],"(",")",")",";",["T_WHITESPACE","\n        ",258],["T_RETURN","return",259],["T_WHITESPACE"," ",259],["T_VARIABLE","$this",259],";",["T_WHITESPACE","\n    ",259],"}",["T_WHITESPACE","\n\n    ",260],["T_PUBLIC","public",262],["T_WHITESPACE"," ",262],["T_FUNCTION","function",262],["T_WHITESPACE"," ",262],["T_STRING","getValueSelectOptions",262],"(",")",["T_WHITESPACE","\n    ",262],"{",["T_WHITESPACE","\n        ",263],["T_VARIABLE","$valueOption",264],["T_WHITESPACE"," ",264],"=",["T_WHITESPACE"," ",264],["T_VARIABLE","$opt",264],["T_WHITESPACE"," ",264],"=",["T_WHITESPACE"," ",264],["T_ARRAY","array",264],"(",")",";",["T_WHITESPACE","\n        ",264],["T_IF","if",265],["T_WHITESPACE"," ",265],"(",["T_VARIABLE","$this",265],["T_OBJECT_OPERATOR","->",265],["T_STRING","hasValueOption",265],"(",")",")",["T_WHITESPACE"," ",265],"{",["T_WHITESPACE","\n            ",265],["T_VARIABLE","$valueOption",266],["T_WHITESPACE"," ",266],"=",["T_WHITESPACE"," ",266],["T_ARRAY_CAST","(array)",266],["T_WHITESPACE"," ",266],["T_VARIABLE","$this",266],["T_OBJECT_OPERATOR","->",266],["T_STRING","getValueOption",266],"(",")",";",["T_WHITESPACE","\n        ",266],"}",["T_WHITESPACE","\n        ",267],["T_FOREACH","foreach",268],["T_WHITESPACE"," ",268],"(",["T_VARIABLE","$valueOption",268],["T_WHITESPACE"," ",268],["T_AS","as",268],["T_WHITESPACE"," ",268],["T_VARIABLE","$k",268],["T_WHITESPACE"," ",268],["T_DOUBLE_ARROW","=>",268],["T_WHITESPACE"," ",268],["T_VARIABLE","$v",268],")",["T_WHITESPACE"," ",268],"{",["T_WHITESPACE","\n            ",268],["T_VARIABLE","$opt",269],"[","]",["T_WHITESPACE"," ",269],"=",["T_WHITESPACE"," ",269],["T_ARRAY","array",269],"(",["T_CONSTANT_ENCAPSED_STRING","'value'",269],["T_WHITESPACE"," ",269],["T_DOUBLE_ARROW","=>",269],["T_WHITESPACE"," ",269],["T_VARIABLE","$k",269],",",["T_WHITESPACE"," ",269],["T_CONSTANT_ENCAPSED_STRING","'label'",269],["T_WHITESPACE"," ",269],["T_DOUBLE_ARROW","=>",269],["T_WHITESPACE"," ",269],["T_VARIABLE","$v",269],")",";",["T_WHITESPACE","\n        ",269],"}",["T_WHITESPACE","\n        ",270],["T_RETURN","return",271],["T_WHITESPACE"," ",271],["T_VARIABLE","$opt",271],";",["T_WHITESPACE","\n    ",271],"}",["T_WHITESPACE","\n\n    ",272],["T_DOC_COMMENT","\/**\n     * Retrieve parsed value\n     *\n     * @return array|string|int|float\n     *\/",274],["T_WHITESPACE","\n    ",278],["T_PUBLIC","public",279],["T_WHITESPACE"," ",279],["T_FUNCTION","function",279],["T_WHITESPACE"," ",279],["T_STRING","getValueParsed",279],"(",")",["T_WHITESPACE","\n    ",279],"{",["T_WHITESPACE","\n        ",280],["T_IF","if",281],["T_WHITESPACE"," ",281],"(","!",["T_VARIABLE","$this",281],["T_OBJECT_OPERATOR","->",281],["T_STRING","hasValueParsed",281],"(",")",")",["T_WHITESPACE"," ",281],"{",["T_WHITESPACE","\n            ",281],["T_VARIABLE","$value",282],["T_WHITESPACE"," ",282],"=",["T_WHITESPACE"," ",282],["T_VARIABLE","$this",282],["T_OBJECT_OPERATOR","->",282],["T_STRING","getData",282],"(",["T_CONSTANT_ENCAPSED_STRING","'value'",282],")",";",["T_WHITESPACE","\n            ",282],["T_IF","if",283],["T_WHITESPACE"," ",283],"(",["T_VARIABLE","$this",283],["T_OBJECT_OPERATOR","->",283],["T_STRING","isArrayOperatorType",283],"(",")",["T_WHITESPACE"," ",283],["T_BOOLEAN_AND","&&",283],["T_WHITESPACE"," ",283],["T_STRING","is_string",283],"(",["T_VARIABLE","$value",283],")",")",["T_WHITESPACE"," ",283],"{",["T_WHITESPACE","\n                ",283],["T_VARIABLE","$value",284],["T_WHITESPACE"," ",284],"=",["T_WHITESPACE"," ",284],["T_STRING","preg_split",284],"(",["T_CONSTANT_ENCAPSED_STRING","'#\\s*[,;]\\s*#'",284],",",["T_WHITESPACE"," ",284],["T_VARIABLE","$value",284],",",["T_WHITESPACE"," ",284],["T_STRING","null",284],",",["T_WHITESPACE"," ",284],["T_STRING","PREG_SPLIT_NO_EMPTY",284],")",";",["T_WHITESPACE","\n            ",284],"}",["T_WHITESPACE","\n            ",285],["T_VARIABLE","$this",286],["T_OBJECT_OPERATOR","->",286],["T_STRING","setValueParsed",286],"(",["T_VARIABLE","$value",286],")",";",["T_WHITESPACE","\n        ",286],"}",["T_WHITESPACE","\n        ",287],["T_RETURN","return",288],["T_WHITESPACE"," ",288],["T_VARIABLE","$this",288],["T_OBJECT_OPERATOR","->",288],["T_STRING","getData",288],"(",["T_CONSTANT_ENCAPSED_STRING","'value_parsed'",288],")",";",["T_WHITESPACE","\n    ",288],"}",["T_WHITESPACE","\n\n    ",289],["T_DOC_COMMENT","\/**\n     * Check if value should be array\n     *\n     * Depends on operator input type\n     *\n     * @return bool\n     *\/",291],["T_WHITESPACE","\n    ",297],["T_PUBLIC","public",298],["T_WHITESPACE"," ",298],["T_FUNCTION","function",298],["T_WHITESPACE"," ",298],["T_STRING","isArrayOperatorType",298],"(",")",["T_WHITESPACE","\n    ",298],"{",["T_WHITESPACE","\n        ",299],["T_VARIABLE","$op",300],["T_WHITESPACE"," ",300],"=",["T_WHITESPACE"," ",300],["T_VARIABLE","$this",300],["T_OBJECT_OPERATOR","->",300],["T_STRING","getOperator",300],"(",")",";",["T_WHITESPACE","\n        ",300],["T_RETURN","return",301],["T_WHITESPACE"," ",301],["T_VARIABLE","$op",301],["T_WHITESPACE"," ",301],["T_IS_IDENTICAL","===",301],["T_WHITESPACE"," ",301],["T_CONSTANT_ENCAPSED_STRING","'()'",301],["T_WHITESPACE"," ",301],["T_BOOLEAN_OR","||",301],["T_WHITESPACE"," ",301],["T_VARIABLE","$op",301],["T_WHITESPACE"," ",301],["T_IS_IDENTICAL","===",301],["T_WHITESPACE"," ",301],["T_CONSTANT_ENCAPSED_STRING","'!()'",301],["T_WHITESPACE"," ",301],["T_BOOLEAN_OR","||",301],["T_WHITESPACE"," ",301],["T_STRING","in_array",301],"(",["T_VARIABLE","$this",301],["T_OBJECT_OPERATOR","->",301],["T_STRING","getInputType",301],"(",")",",",["T_WHITESPACE"," ",301],["T_VARIABLE","$this",301],["T_OBJECT_OPERATOR","->",301],["T_STRING","_arrayInputTypes",301],")",";",["T_WHITESPACE","\n    ",301],"}",["T_WHITESPACE","\n\n    ",302],["T_PUBLIC","public",304],["T_WHITESPACE"," ",304],["T_FUNCTION","function",304],["T_WHITESPACE"," ",304],["T_STRING","getValue",304],"(",")",["T_WHITESPACE","\n    ",304],"{",["T_WHITESPACE","\n        ",305],["T_IF","if",306],["T_WHITESPACE"," ",306],"(","!",["T_VARIABLE","$this",306],["T_OBJECT_OPERATOR","->",306],["T_STRING","getIsValueParsed",306],"(",")",")",["T_WHITESPACE"," ",306],"{",["T_WHITESPACE","\n            ",306],["T_COMMENT","\/\/ date format intentionally hard-coded\n",307],["T_WHITESPACE","            ",308],["T_VARIABLE","$format",308],["T_WHITESPACE"," ",308],"=",["T_WHITESPACE"," ",308],["T_STRING","null",308],";",["T_WHITESPACE","\n            ",308],["T_SWITCH","switch",309],["T_WHITESPACE"," ",309],"(",["T_VARIABLE","$this",309],["T_OBJECT_OPERATOR","->",309],["T_STRING","getInputType",309],"(",")",")",["T_WHITESPACE"," ",309],"{",["T_WHITESPACE","\n                ",309],["T_CASE","case",310],["T_WHITESPACE"," ",310],["T_CONSTANT_ENCAPSED_STRING","'date'",310],":",["T_WHITESPACE","\n                    ",310],["T_VARIABLE","$format",311],["T_WHITESPACE"," ",311],"=",["T_WHITESPACE"," ",311],["T_STRING","Varien_Date",311],["T_DOUBLE_COLON","::",311],["T_STRING","DATE_INTERNAL_FORMAT",311],";",["T_WHITESPACE","\n                    ",311],["T_BREAK","break",312],";",["T_WHITESPACE","\n\n                ",312],["T_CASE","case",314],["T_WHITESPACE"," ",314],["T_CONSTANT_ENCAPSED_STRING","'datetime'",314],":",["T_WHITESPACE","\n                    ",314],["T_VARIABLE","$format",315],["T_WHITESPACE"," ",315],"=",["T_WHITESPACE"," ",315],["T_STRING","Varien_Date",315],["T_DOUBLE_COLON","::",315],["T_STRING","DATETIME_INTERNAL_FORMAT",315],";",["T_WHITESPACE","\n                    ",315],["T_BREAK","break",316],";",["T_WHITESPACE","\n            ",316],"}",["T_WHITESPACE","\n\n            ",317],["T_IF","if",319],["T_WHITESPACE"," ",319],"(",["T_VARIABLE","$format",319],["T_WHITESPACE"," ",319],["T_IS_NOT_IDENTICAL","!==",319],["T_WHITESPACE"," ",319],["T_STRING","null",319],")",["T_WHITESPACE"," ",319],"{",["T_WHITESPACE","\n                ",319],["T_VARIABLE","$this",320],["T_OBJECT_OPERATOR","->",320],["T_STRING","setValue",320],"(",["T_WHITESPACE","\n                    ",320],["T_STRING","Mage",321],["T_DOUBLE_COLON","::",321],["T_STRING","app",321],"(",")",["T_OBJECT_OPERATOR","->",321],["T_STRING","getLocale",321],"(",")",["T_OBJECT_OPERATOR","->",321],["T_STRING","date",321],"(",["T_VARIABLE","$this",321],["T_OBJECT_OPERATOR","->",321],["T_STRING","getData",321],"(",["T_CONSTANT_ENCAPSED_STRING","'value'",321],")",",",["T_WHITESPACE","\n                        ",321],["T_VARIABLE","$format",322],",",["T_WHITESPACE"," ",322],["T_STRING","null",322],",",["T_WHITESPACE"," ",322],["T_STRING","false",322],")",["T_OBJECT_OPERATOR","->",322],["T_STRING","toString",322],"(",["T_VARIABLE","$format",322],")",["T_WHITESPACE","\n                ",322],")",";",["T_WHITESPACE","\n                ",323],["T_VARIABLE","$this",324],["T_OBJECT_OPERATOR","->",324],["T_STRING","setIsValueParsed",324],"(",["T_STRING","true",324],")",";",["T_WHITESPACE","\n            ",324],"}",["T_WHITESPACE","\n        ",325],"}",["T_WHITESPACE","\n        ",326],["T_RETURN","return",327],["T_WHITESPACE"," ",327],["T_VARIABLE","$this",327],["T_OBJECT_OPERATOR","->",327],["T_STRING","getData",327],"(",["T_CONSTANT_ENCAPSED_STRING","'value'",327],")",";",["T_WHITESPACE","\n    ",327],"}",["T_WHITESPACE","\n\n    ",328],["T_PUBLIC","public",330],["T_WHITESPACE"," ",330],["T_FUNCTION","function",330],["T_WHITESPACE"," ",330],["T_STRING","getValueName",330],"(",")",["T_WHITESPACE","\n    ",330],"{",["T_WHITESPACE","\n        ",331],["T_VARIABLE","$value",332],["T_WHITESPACE"," ",332],"=",["T_WHITESPACE"," ",332],["T_VARIABLE","$this",332],["T_OBJECT_OPERATOR","->",332],["T_STRING","getValue",332],"(",")",";",["T_WHITESPACE","\n        ",332],["T_IF","if",333],["T_WHITESPACE"," ",333],"(",["T_STRING","is_null",333],"(",["T_VARIABLE","$value",333],")",["T_WHITESPACE"," ",333],["T_BOOLEAN_OR","||",333],["T_WHITESPACE"," ",333],["T_CONSTANT_ENCAPSED_STRING","''",333],["T_WHITESPACE"," ",333],["T_IS_IDENTICAL","===",333],["T_WHITESPACE"," ",333],["T_VARIABLE","$value",333],")",["T_WHITESPACE"," ",333],"{",["T_WHITESPACE","\n            ",333],["T_RETURN","return",334],["T_WHITESPACE"," ",334],["T_CONSTANT_ENCAPSED_STRING","'...'",334],";",["T_WHITESPACE","\n        ",334],"}",["T_WHITESPACE","\n\n        ",335],["T_VARIABLE","$options",337],["T_WHITESPACE"," ",337],"=",["T_WHITESPACE"," ",337],["T_VARIABLE","$this",337],["T_OBJECT_OPERATOR","->",337],["T_STRING","getValueSelectOptions",337],"(",")",";",["T_WHITESPACE","\n        ",337],["T_VARIABLE","$valueArr",338],["T_WHITESPACE"," ",338],"=",["T_WHITESPACE"," ",338],["T_ARRAY","array",338],"(",")",";",["T_WHITESPACE","\n        ",338],["T_IF","if",339],["T_WHITESPACE"," ",339],"(","!",["T_EMPTY","empty",339],"(",["T_VARIABLE","$options",339],")",")",["T_WHITESPACE"," ",339],"{",["T_WHITESPACE","\n            ",339],["T_FOREACH","foreach",340],["T_WHITESPACE"," ",340],"(",["T_VARIABLE","$options",340],["T_WHITESPACE"," ",340],["T_AS","as",340],["T_WHITESPACE"," ",340],["T_VARIABLE","$o",340],")",["T_WHITESPACE"," ",340],"{",["T_WHITESPACE","\n                ",340],["T_IF","if",341],["T_WHITESPACE"," ",341],"(",["T_STRING","is_array",341],"(",["T_VARIABLE","$value",341],")",")",["T_WHITESPACE"," ",341],"{",["T_WHITESPACE","\n                    ",341],["T_IF","if",342],["T_WHITESPACE"," ",342],"(",["T_STRING","in_array",342],"(",["T_VARIABLE","$o",342],"[",["T_CONSTANT_ENCAPSED_STRING","'value'",342],"]",",",["T_WHITESPACE"," ",342],["T_VARIABLE","$value",342],")",")",["T_WHITESPACE"," ",342],"{",["T_WHITESPACE","\n                        ",342],["T_VARIABLE","$valueArr",343],"[","]",["T_WHITESPACE"," ",343],"=",["T_WHITESPACE"," ",343],["T_VARIABLE","$o",343],"[",["T_CONSTANT_ENCAPSED_STRING","'label'",343],"]",";",["T_WHITESPACE","\n                    ",343],"}",["T_WHITESPACE","\n                ",344],"}",["T_WHITESPACE"," ",345],["T_ELSE","else",345],["T_WHITESPACE"," ",345],"{",["T_WHITESPACE","\n                    ",345],["T_IF","if",346],["T_WHITESPACE"," ",346],"(",["T_STRING","is_array",346],"(",["T_VARIABLE","$o",346],"[",["T_CONSTANT_ENCAPSED_STRING","'value'",346],"]",")",")",["T_WHITESPACE"," ",346],"{",["T_WHITESPACE","\n                        ",346],["T_FOREACH","foreach",347],["T_WHITESPACE"," ",347],"(",["T_VARIABLE","$o",347],"[",["T_CONSTANT_ENCAPSED_STRING","'value'",347],"]",["T_WHITESPACE"," ",347],["T_AS","as",347],["T_WHITESPACE"," ",347],["T_VARIABLE","$v",347],")",["T_WHITESPACE"," ",347],"{",["T_WHITESPACE","\n                            ",347],["T_IF","if",348],["T_WHITESPACE"," ",348],"(",["T_VARIABLE","$v",348],"[",["T_CONSTANT_ENCAPSED_STRING","'value'",348],"]",["T_IS_EQUAL","==",348],["T_VARIABLE","$value",348],")",["T_WHITESPACE"," ",348],"{",["T_WHITESPACE","\n                                ",348],["T_RETURN","return",349],["T_WHITESPACE"," ",349],["T_VARIABLE","$v",349],"[",["T_CONSTANT_ENCAPSED_STRING","'label'",349],"]",";",["T_WHITESPACE","\n                            ",349],"}",["T_WHITESPACE","\n                        ",350],"}",["T_WHITESPACE","\n                    ",351],"}",["T_WHITESPACE","\n                    ",352],["T_IF","if",353],["T_WHITESPACE"," ",353],"(",["T_VARIABLE","$o",353],"[",["T_CONSTANT_ENCAPSED_STRING","'value'",353],"]",["T_WHITESPACE"," ",353],["T_IS_EQUAL","==",353],["T_WHITESPACE"," ",353],["T_VARIABLE","$value",353],")",["T_WHITESPACE"," ",353],"{",["T_WHITESPACE","\n                        ",353],["T_RETURN","return",354],["T_WHITESPACE"," ",354],["T_VARIABLE","$o",354],"[",["T_CONSTANT_ENCAPSED_STRING","'label'",354],"]",";",["T_WHITESPACE","\n                    ",354],"}",["T_WHITESPACE","\n                ",355],"}",["T_WHITESPACE","\n            ",356],"}",["T_WHITESPACE","\n        ",357],"}",["T_WHITESPACE","\n        ",358],["T_IF","if",359],["T_WHITESPACE"," ",359],"(","!",["T_EMPTY","empty",359],"(",["T_VARIABLE","$valueArr",359],")",")",["T_WHITESPACE"," ",359],"{",["T_WHITESPACE","\n            ",359],["T_VARIABLE","$value",360],["T_WHITESPACE"," ",360],"=",["T_WHITESPACE"," ",360],["T_STRING","implode",360],"(",["T_CONSTANT_ENCAPSED_STRING","', '",360],",",["T_WHITESPACE"," ",360],["T_VARIABLE","$valueArr",360],")",";",["T_WHITESPACE","\n        ",360],"}",["T_WHITESPACE","\n        ",361],["T_RETURN","return",362],["T_WHITESPACE"," ",362],["T_VARIABLE","$value",362],";",["T_WHITESPACE","\n    ",362],"}",["T_WHITESPACE","\n\n    ",363],["T_DOC_COMMENT","\/**\n     * Get inherited conditions selectors\n     *\n     * @return array\n     *\/",365],["T_WHITESPACE","\n    ",369],["T_PUBLIC","public",370],["T_WHITESPACE"," ",370],["T_FUNCTION","function",370],["T_WHITESPACE"," ",370],["T_STRING","getNewChildSelectOptions",370],"(",")",["T_WHITESPACE","\n    ",370],"{",["T_WHITESPACE","\n        ",371],["T_RETURN","return",372],["T_WHITESPACE"," ",372],["T_ARRAY","array",372],"(",["T_WHITESPACE","\n            ",372],["T_ARRAY","array",373],"(",["T_CONSTANT_ENCAPSED_STRING","'value'",373],["T_WHITESPACE"," ",373],["T_DOUBLE_ARROW","=>",373],["T_WHITESPACE"," ",373],["T_CONSTANT_ENCAPSED_STRING","''",373],",",["T_WHITESPACE"," ",373],["T_CONSTANT_ENCAPSED_STRING","'label'",373],["T_WHITESPACE"," ",373],["T_DOUBLE_ARROW","=>",373],["T_WHITESPACE"," ",373],["T_STRING","Mage",373],["T_DOUBLE_COLON","::",373],["T_STRING","helper",373],"(",["T_CONSTANT_ENCAPSED_STRING","'rule'",373],")",["T_OBJECT_OPERATOR","->",373],["T_STRING","__",373],"(",["T_CONSTANT_ENCAPSED_STRING","'Please choose a condition to add...'",373],")",")",",",["T_WHITESPACE","\n        ",373],")",";",["T_WHITESPACE","\n    ",374],"}",["T_WHITESPACE","\n\n    ",375],["T_PUBLIC","public",377],["T_WHITESPACE"," ",377],["T_FUNCTION","function",377],["T_WHITESPACE"," ",377],["T_STRING","getNewChildName",377],"(",")",["T_WHITESPACE","\n    ",377],"{",["T_WHITESPACE","\n        ",378],["T_RETURN","return",379],["T_WHITESPACE"," ",379],["T_VARIABLE","$this",379],["T_OBJECT_OPERATOR","->",379],["T_STRING","getAddLinkHtml",379],"(",")",";",["T_WHITESPACE","\n    ",379],"}",["T_WHITESPACE","\n\n    ",380],["T_PUBLIC","public",382],["T_WHITESPACE"," ",382],["T_FUNCTION","function",382],["T_WHITESPACE"," ",382],["T_STRING","asHtml",382],"(",")",["T_WHITESPACE","\n    ",382],"{",["T_WHITESPACE","\n        ",383],["T_VARIABLE","$html",384],["T_WHITESPACE"," ",384],"=",["T_WHITESPACE"," ",384],["T_VARIABLE","$this",384],["T_OBJECT_OPERATOR","->",384],["T_STRING","getTypeElementHtml",384],"(",")",["T_WHITESPACE","\n           ",384],".",["T_VARIABLE","$this",385],["T_OBJECT_OPERATOR","->",385],["T_STRING","getAttributeElementHtml",385],"(",")",["T_WHITESPACE","\n           ",385],".",["T_VARIABLE","$this",386],["T_OBJECT_OPERATOR","->",386],["T_STRING","getOperatorElementHtml",386],"(",")",["T_WHITESPACE","\n           ",386],".",["T_VARIABLE","$this",387],["T_OBJECT_OPERATOR","->",387],["T_STRING","getValueElementHtml",387],"(",")",["T_WHITESPACE","\n           ",387],".",["T_VARIABLE","$this",388],["T_OBJECT_OPERATOR","->",388],["T_STRING","getRemoveLinkHtml",388],"(",")",["T_WHITESPACE","\n           ",388],".",["T_VARIABLE","$this",389],["T_OBJECT_OPERATOR","->",389],["T_STRING","getChooserContainerHtml",389],"(",")",";",["T_WHITESPACE","\n        ",389],["T_RETURN","return",390],["T_WHITESPACE"," ",390],["T_VARIABLE","$html",390],";",["T_WHITESPACE","\n    ",390],"}",["T_WHITESPACE","\n\n    ",391],["T_PUBLIC","public",393],["T_WHITESPACE"," ",393],["T_FUNCTION","function",393],["T_WHITESPACE"," ",393],["T_STRING","asHtmlRecursive",393],"(",")",["T_WHITESPACE","\n    ",393],"{",["T_WHITESPACE","\n        ",394],["T_VARIABLE","$html",395],["T_WHITESPACE"," ",395],"=",["T_WHITESPACE"," ",395],["T_VARIABLE","$this",395],["T_OBJECT_OPERATOR","->",395],["T_STRING","asHtml",395],"(",")",";",["T_WHITESPACE","\n        ",395],["T_RETURN","return",396],["T_WHITESPACE"," ",396],["T_VARIABLE","$html",396],";",["T_WHITESPACE","\n    ",396],"}",["T_WHITESPACE","\n\n    ",397],["T_PUBLIC","public",399],["T_WHITESPACE"," ",399],["T_FUNCTION","function",399],["T_WHITESPACE"," ",399],["T_STRING","getTypeElement",399],"(",")",["T_WHITESPACE","\n    ",399],"{",["T_WHITESPACE","\n        ",400],["T_RETURN","return",401],["T_WHITESPACE"," ",401],["T_VARIABLE","$this",401],["T_OBJECT_OPERATOR","->",401],["T_STRING","getForm",401],"(",")",["T_OBJECT_OPERATOR","->",401],["T_STRING","addField",401],"(",["T_VARIABLE","$this",401],["T_OBJECT_OPERATOR","->",401],["T_STRING","getPrefix",401],"(",")",["T_WHITESPACE"," ",401],".",["T_WHITESPACE"," ",401],["T_CONSTANT_ENCAPSED_STRING","'__'",401],["T_WHITESPACE"," ",401],".",["T_WHITESPACE"," ",401],["T_VARIABLE","$this",401],["T_OBJECT_OPERATOR","->",401],["T_STRING","getId",401],"(",")",["T_WHITESPACE"," ",401],".",["T_WHITESPACE"," ",401],["T_CONSTANT_ENCAPSED_STRING","'__type'",401],",",["T_WHITESPACE"," ",401],["T_CONSTANT_ENCAPSED_STRING","'hidden'",401],",",["T_WHITESPACE"," ",401],["T_ARRAY","array",401],"(",["T_WHITESPACE","\n            ",401],["T_CONSTANT_ENCAPSED_STRING","'name'",402],["T_WHITESPACE","    ",402],["T_DOUBLE_ARROW","=>",402],["T_WHITESPACE"," ",402],["T_CONSTANT_ENCAPSED_STRING","'rule['",402],["T_WHITESPACE"," ",402],".",["T_WHITESPACE"," ",402],["T_VARIABLE","$this",402],["T_OBJECT_OPERATOR","->",402],["T_STRING","getPrefix",402],"(",")",["T_WHITESPACE"," ",402],".",["T_WHITESPACE"," ",402],["T_CONSTANT_ENCAPSED_STRING","']['",402],["T_WHITESPACE"," ",402],".",["T_WHITESPACE"," ",402],["T_VARIABLE","$this",402],["T_OBJECT_OPERATOR","->",402],["T_STRING","getId",402],"(",")",["T_WHITESPACE"," ",402],".",["T_WHITESPACE"," ",402],["T_CONSTANT_ENCAPSED_STRING","'][type]'",402],",",["T_WHITESPACE","\n            ",402],["T_CONSTANT_ENCAPSED_STRING","'value'",403],["T_WHITESPACE","   ",403],["T_DOUBLE_ARROW","=>",403],["T_WHITESPACE"," ",403],["T_VARIABLE","$this",403],["T_OBJECT_OPERATOR","->",403],["T_STRING","getType",403],"(",")",",",["T_WHITESPACE","\n            ",403],["T_CONSTANT_ENCAPSED_STRING","'no_span'",404],["T_WHITESPACE"," ",404],["T_DOUBLE_ARROW","=>",404],["T_WHITESPACE"," ",404],["T_STRING","true",404],",",["T_WHITESPACE","\n            ",404],["T_CONSTANT_ENCAPSED_STRING","'class'",405],["T_WHITESPACE","   ",405],["T_DOUBLE_ARROW","=>",405],["T_WHITESPACE"," ",405],["T_CONSTANT_ENCAPSED_STRING","'hidden'",405],",",["T_WHITESPACE","\n        ",405],")",")",";",["T_WHITESPACE","\n    ",406],"}",["T_WHITESPACE","\n\n    ",407],["T_PUBLIC","public",409],["T_WHITESPACE"," ",409],["T_FUNCTION","function",409],["T_WHITESPACE"," ",409],["T_STRING","getTypeElementHtml",409],"(",")",["T_WHITESPACE","\n    ",409],"{",["T_WHITESPACE","\n        ",410],["T_RETURN","return",411],["T_WHITESPACE"," ",411],["T_VARIABLE","$this",411],["T_OBJECT_OPERATOR","->",411],["T_STRING","getTypeElement",411],"(",")",["T_OBJECT_OPERATOR","->",411],["T_STRING","getHtml",411],"(",")",";",["T_WHITESPACE","\n    ",411],"}",["T_WHITESPACE","\n\n    ",412],["T_PUBLIC","public",414],["T_WHITESPACE"," ",414],["T_FUNCTION","function",414],["T_WHITESPACE"," ",414],["T_STRING","getAttributeElement",414],"(",")",["T_WHITESPACE","\n    ",414],"{",["T_WHITESPACE","\n        ",415],["T_IF","if",416],["T_WHITESPACE"," ",416],"(",["T_STRING","is_null",416],"(",["T_VARIABLE","$this",416],["T_OBJECT_OPERATOR","->",416],["T_STRING","getAttribute",416],"(",")",")",")",["T_WHITESPACE"," ",416],"{",["T_WHITESPACE","\n            ",416],["T_FOREACH","foreach",417],["T_WHITESPACE"," ",417],"(",["T_VARIABLE","$this",417],["T_OBJECT_OPERATOR","->",417],["T_STRING","getAttributeOption",417],"(",")",["T_WHITESPACE"," ",417],["T_AS","as",417],["T_WHITESPACE"," ",417],["T_VARIABLE","$k",417],["T_WHITESPACE"," ",417],["T_DOUBLE_ARROW","=>",417],["T_WHITESPACE"," ",417],["T_VARIABLE","$v",417],")",["T_WHITESPACE"," ",417],"{",["T_WHITESPACE","\n                ",417],["T_VARIABLE","$this",418],["T_OBJECT_OPERATOR","->",418],["T_STRING","setAttribute",418],"(",["T_VARIABLE","$k",418],")",";",["T_WHITESPACE","\n                ",418],["T_BREAK","break",419],";",["T_WHITESPACE","\n            ",419],"}",["T_WHITESPACE","\n        ",420],"}",["T_WHITESPACE","\n        ",421],["T_RETURN","return",422],["T_WHITESPACE"," ",422],["T_VARIABLE","$this",422],["T_OBJECT_OPERATOR","->",422],["T_STRING","getForm",422],"(",")",["T_OBJECT_OPERATOR","->",422],["T_STRING","addField",422],"(",["T_VARIABLE","$this",422],["T_OBJECT_OPERATOR","->",422],["T_STRING","getPrefix",422],"(",")",["T_WHITESPACE"," ",422],".",["T_WHITESPACE"," ",422],["T_CONSTANT_ENCAPSED_STRING","'__'",422],["T_WHITESPACE"," ",422],".",["T_WHITESPACE"," ",422],["T_VARIABLE","$this",422],["T_OBJECT_OPERATOR","->",422],["T_STRING","getId",422],"(",")",["T_WHITESPACE"," ",422],".",["T_WHITESPACE"," ",422],["T_CONSTANT_ENCAPSED_STRING","'__attribute'",422],",",["T_WHITESPACE"," ",422],["T_CONSTANT_ENCAPSED_STRING","'select'",422],",",["T_WHITESPACE"," ",422],["T_ARRAY","array",422],"(",["T_WHITESPACE","\n            ",422],["T_CONSTANT_ENCAPSED_STRING","'name'",423],["T_WHITESPACE","       ",423],["T_DOUBLE_ARROW","=>",423],["T_WHITESPACE"," ",423],["T_CONSTANT_ENCAPSED_STRING","'rule['",423],["T_WHITESPACE"," ",423],".",["T_WHITESPACE"," ",423],["T_VARIABLE","$this",423],["T_OBJECT_OPERATOR","->",423],["T_STRING","getPrefix",423],"(",")",["T_WHITESPACE"," ",423],".",["T_WHITESPACE"," ",423],["T_CONSTANT_ENCAPSED_STRING","']['",423],["T_WHITESPACE"," ",423],".",["T_WHITESPACE"," ",423],["T_VARIABLE","$this",423],["T_OBJECT_OPERATOR","->",423],["T_STRING","getId",423],"(",")",["T_WHITESPACE"," ",423],".",["T_WHITESPACE"," ",423],["T_CONSTANT_ENCAPSED_STRING","'][attribute]'",423],",",["T_WHITESPACE","\n            ",423],["T_CONSTANT_ENCAPSED_STRING","'values'",424],["T_WHITESPACE","     ",424],["T_DOUBLE_ARROW","=>",424],["T_WHITESPACE"," ",424],["T_VARIABLE","$this",424],["T_OBJECT_OPERATOR","->",424],["T_STRING","getAttributeSelectOptions",424],"(",")",",",["T_WHITESPACE","\n            ",424],["T_CONSTANT_ENCAPSED_STRING","'value'",425],["T_WHITESPACE","      ",425],["T_DOUBLE_ARROW","=>",425],["T_WHITESPACE"," ",425],["T_VARIABLE","$this",425],["T_OBJECT_OPERATOR","->",425],["T_STRING","getAttribute",425],"(",")",",",["T_WHITESPACE","\n            ",425],["T_CONSTANT_ENCAPSED_STRING","'value_name'",426],["T_WHITESPACE"," ",426],["T_DOUBLE_ARROW","=>",426],["T_WHITESPACE"," ",426],["T_VARIABLE","$this",426],["T_OBJECT_OPERATOR","->",426],["T_STRING","getAttributeName",426],"(",")",",",["T_WHITESPACE","\n        ",426],")",")",["T_OBJECT_OPERATOR","->",427],["T_STRING","setRenderer",427],"(",["T_STRING","Mage",427],["T_DOUBLE_COLON","::",427],["T_STRING","getBlockSingleton",427],"(",["T_CONSTANT_ENCAPSED_STRING","'rule\/editable'",427],")",")",";",["T_WHITESPACE","\n    ",427],"}",["T_WHITESPACE","\n\n    ",428],["T_PUBLIC","public",430],["T_WHITESPACE"," ",430],["T_FUNCTION","function",430],["T_WHITESPACE"," ",430],["T_STRING","getAttributeElementHtml",430],"(",")",["T_WHITESPACE","\n    ",430],"{",["T_WHITESPACE","\n        ",431],["T_RETURN","return",432],["T_WHITESPACE"," ",432],["T_VARIABLE","$this",432],["T_OBJECT_OPERATOR","->",432],["T_STRING","getAttributeElement",432],"(",")",["T_OBJECT_OPERATOR","->",432],["T_STRING","getHtml",432],"(",")",";",["T_WHITESPACE","\n    ",432],"}",["T_WHITESPACE","\n\n    ",433],["T_DOC_COMMENT","\/**\n     * Retrieve Condition Operator element Instance\n     * If the operator value is empty - define first available operator value as default\n     *\n     * @return Varien_Data_Form_Element_Select\n     *\/",435],["T_WHITESPACE","\n    ",440],["T_PUBLIC","public",441],["T_WHITESPACE"," ",441],["T_FUNCTION","function",441],["T_WHITESPACE"," ",441],["T_STRING","getOperatorElement",441],"(",")",["T_WHITESPACE","\n    ",441],"{",["T_WHITESPACE","\n        ",442],["T_VARIABLE","$options",443],["T_WHITESPACE"," ",443],"=",["T_WHITESPACE"," ",443],["T_VARIABLE","$this",443],["T_OBJECT_OPERATOR","->",443],["T_STRING","getOperatorSelectOptions",443],"(",")",";",["T_WHITESPACE","\n        ",443],["T_IF","if",444],["T_WHITESPACE"," ",444],"(",["T_STRING","is_null",444],"(",["T_VARIABLE","$this",444],["T_OBJECT_OPERATOR","->",444],["T_STRING","getOperator",444],"(",")",")",")",["T_WHITESPACE"," ",444],"{",["T_WHITESPACE","\n            ",444],["T_FOREACH","foreach",445],["T_WHITESPACE"," ",445],"(",["T_VARIABLE","$options",445],["T_WHITESPACE"," ",445],["T_AS","as",445],["T_WHITESPACE"," ",445],["T_VARIABLE","$option",445],")",["T_WHITESPACE"," ",445],"{",["T_WHITESPACE","\n                ",445],["T_VARIABLE","$this",446],["T_OBJECT_OPERATOR","->",446],["T_STRING","setOperator",446],"(",["T_VARIABLE","$option",446],"[",["T_CONSTANT_ENCAPSED_STRING","'value'",446],"]",")",";",["T_WHITESPACE","\n                ",446],["T_BREAK","break",447],";",["T_WHITESPACE","\n            ",447],"}",["T_WHITESPACE","\n        ",448],"}",["T_WHITESPACE","\n\n        ",449],["T_VARIABLE","$elementId",451],["T_WHITESPACE","   ",451],"=",["T_WHITESPACE"," ",451],["T_STRING","sprintf",451],"(",["T_CONSTANT_ENCAPSED_STRING","'%s__%s__operator'",451],",",["T_WHITESPACE"," ",451],["T_VARIABLE","$this",451],["T_OBJECT_OPERATOR","->",451],["T_STRING","getPrefix",451],"(",")",",",["T_WHITESPACE"," ",451],["T_VARIABLE","$this",451],["T_OBJECT_OPERATOR","->",451],["T_STRING","getId",451],"(",")",")",";",["T_WHITESPACE","\n        ",451],["T_VARIABLE","$elementName",452],["T_WHITESPACE"," ",452],"=",["T_WHITESPACE"," ",452],["T_STRING","sprintf",452],"(",["T_CONSTANT_ENCAPSED_STRING","'rule[%s][%s][operator]'",452],",",["T_WHITESPACE"," ",452],["T_VARIABLE","$this",452],["T_OBJECT_OPERATOR","->",452],["T_STRING","getPrefix",452],"(",")",",",["T_WHITESPACE"," ",452],["T_VARIABLE","$this",452],["T_OBJECT_OPERATOR","->",452],["T_STRING","getId",452],"(",")",")",";",["T_WHITESPACE","\n        ",452],["T_VARIABLE","$element",453],["T_WHITESPACE","     ",453],"=",["T_WHITESPACE"," ",453],["T_VARIABLE","$this",453],["T_OBJECT_OPERATOR","->",453],["T_STRING","getForm",453],"(",")",["T_OBJECT_OPERATOR","->",453],["T_STRING","addField",453],"(",["T_VARIABLE","$elementId",453],",",["T_WHITESPACE"," ",453],["T_CONSTANT_ENCAPSED_STRING","'select'",453],",",["T_WHITESPACE"," ",453],["T_ARRAY","array",453],"(",["T_WHITESPACE","\n            ",453],["T_CONSTANT_ENCAPSED_STRING","'name'",454],["T_WHITESPACE","          ",454],["T_DOUBLE_ARROW","=>",454],["T_WHITESPACE"," ",454],["T_VARIABLE","$elementName",454],",",["T_WHITESPACE","\n            ",454],["T_CONSTANT_ENCAPSED_STRING","'values'",455],["T_WHITESPACE","        ",455],["T_DOUBLE_ARROW","=>",455],["T_WHITESPACE"," ",455],["T_VARIABLE","$options",455],",",["T_WHITESPACE","\n            ",455],["T_CONSTANT_ENCAPSED_STRING","'value'",456],["T_WHITESPACE","         ",456],["T_DOUBLE_ARROW","=>",456],["T_WHITESPACE"," ",456],["T_VARIABLE","$this",456],["T_OBJECT_OPERATOR","->",456],["T_STRING","getOperator",456],"(",")",",",["T_WHITESPACE","\n            ",456],["T_CONSTANT_ENCAPSED_STRING","'value_name'",457],["T_WHITESPACE","    ",457],["T_DOUBLE_ARROW","=>",457],["T_WHITESPACE"," ",457],["T_VARIABLE","$this",457],["T_OBJECT_OPERATOR","->",457],["T_STRING","getOperatorName",457],"(",")",",",["T_WHITESPACE","\n        ",457],")",")",";",["T_WHITESPACE","\n        ",458],["T_VARIABLE","$element",459],["T_OBJECT_OPERATOR","->",459],["T_STRING","setRenderer",459],"(",["T_STRING","Mage",459],["T_DOUBLE_COLON","::",459],["T_STRING","getBlockSingleton",459],"(",["T_CONSTANT_ENCAPSED_STRING","'rule\/editable'",459],")",")",";",["T_WHITESPACE","\n\n        ",459],["T_RETURN","return",461],["T_WHITESPACE"," ",461],["T_VARIABLE","$element",461],";",["T_WHITESPACE","\n    ",461],"}",["T_WHITESPACE","\n\n    ",462],["T_PUBLIC","public",464],["T_WHITESPACE"," ",464],["T_FUNCTION","function",464],["T_WHITESPACE"," ",464],["T_STRING","getOperatorElementHtml",464],"(",")",["T_WHITESPACE","\n    ",464],"{",["T_WHITESPACE","\n        ",465],["T_RETURN","return",466],["T_WHITESPACE"," ",466],["T_VARIABLE","$this",466],["T_OBJECT_OPERATOR","->",466],["T_STRING","getOperatorElement",466],"(",")",["T_OBJECT_OPERATOR","->",466],["T_STRING","getHtml",466],"(",")",";",["T_WHITESPACE","\n    ",466],"}",["T_WHITESPACE","\n\n    ",467],["T_DOC_COMMENT","\/**\n     * Value element type will define renderer for condition value element\n     *\n     * @see Varien_Data_Form_Element\n     * @return string\n     *\/",469],["T_WHITESPACE","\n    ",474],["T_PUBLIC","public",475],["T_WHITESPACE"," ",475],["T_FUNCTION","function",475],["T_WHITESPACE"," ",475],["T_STRING","getValueElementType",475],"(",")",["T_WHITESPACE","\n    ",475],"{",["T_WHITESPACE","\n        ",476],["T_RETURN","return",477],["T_WHITESPACE"," ",477],["T_CONSTANT_ENCAPSED_STRING","'text'",477],";",["T_WHITESPACE","\n    ",477],"}",["T_WHITESPACE","\n\n    ",478],["T_PUBLIC","public",480],["T_WHITESPACE"," ",480],["T_FUNCTION","function",480],["T_WHITESPACE"," ",480],["T_STRING","getValueElementRenderer",480],"(",")",["T_WHITESPACE","\n    ",480],"{",["T_WHITESPACE","\n        ",481],["T_IF","if",482],["T_WHITESPACE"," ",482],"(",["T_STRING","strpos",482],"(",["T_VARIABLE","$this",482],["T_OBJECT_OPERATOR","->",482],["T_STRING","getValueElementType",482],"(",")",",",["T_WHITESPACE"," ",482],["T_CONSTANT_ENCAPSED_STRING","'\/'",482],")",["T_IS_NOT_IDENTICAL","!==",482],["T_STRING","false",482],")",["T_WHITESPACE"," ",482],"{",["T_WHITESPACE","\n            ",482],["T_RETURN","return",483],["T_WHITESPACE"," ",483],["T_STRING","Mage",483],["T_DOUBLE_COLON","::",483],["T_STRING","getBlockSingleton",483],"(",["T_VARIABLE","$this",483],["T_OBJECT_OPERATOR","->",483],["T_STRING","getValueElementType",483],"(",")",")",";",["T_WHITESPACE","\n        ",483],"}",["T_WHITESPACE","\n        ",484],["T_RETURN","return",485],["T_WHITESPACE"," ",485],["T_STRING","Mage",485],["T_DOUBLE_COLON","::",485],["T_STRING","getBlockSingleton",485],"(",["T_CONSTANT_ENCAPSED_STRING","'rule\/editable'",485],")",";",["T_WHITESPACE","\n    ",485],"}",["T_WHITESPACE","\n\n    ",486],["T_PUBLIC","public",488],["T_WHITESPACE"," ",488],["T_FUNCTION","function",488],["T_WHITESPACE"," ",488],["T_STRING","getValueElement",488],"(",")",["T_WHITESPACE","\n    ",488],"{",["T_WHITESPACE","\n        ",489],["T_VARIABLE","$elementParams",490],["T_WHITESPACE"," ",490],"=",["T_WHITESPACE"," ",490],["T_ARRAY","array",490],"(",["T_WHITESPACE","\n            ",490],["T_CONSTANT_ENCAPSED_STRING","'name'",491],["T_WHITESPACE","               ",491],["T_DOUBLE_ARROW","=>",491],["T_WHITESPACE"," ",491],["T_CONSTANT_ENCAPSED_STRING","'rule['",491],["T_WHITESPACE"," ",491],".",["T_WHITESPACE"," ",491],["T_VARIABLE","$this",491],["T_OBJECT_OPERATOR","->",491],["T_STRING","getPrefix",491],"(",")",["T_WHITESPACE"," ",491],".",["T_WHITESPACE"," ",491],["T_CONSTANT_ENCAPSED_STRING","']['",491],["T_WHITESPACE"," ",491],".",["T_WHITESPACE"," ",491],["T_VARIABLE","$this",491],["T_OBJECT_OPERATOR","->",491],["T_STRING","getId",491],"(",")",["T_WHITESPACE"," ",491],".",["T_WHITESPACE"," ",491],["T_CONSTANT_ENCAPSED_STRING","'][value]'",491],",",["T_WHITESPACE","\n            ",491],["T_CONSTANT_ENCAPSED_STRING","'value'",492],["T_WHITESPACE","              ",492],["T_DOUBLE_ARROW","=>",492],["T_WHITESPACE"," ",492],["T_VARIABLE","$this",492],["T_OBJECT_OPERATOR","->",492],["T_STRING","getValue",492],"(",")",",",["T_WHITESPACE","\n            ",492],["T_CONSTANT_ENCAPSED_STRING","'values'",493],["T_WHITESPACE","             ",493],["T_DOUBLE_ARROW","=>",493],["T_WHITESPACE"," ",493],["T_VARIABLE","$this",493],["T_OBJECT_OPERATOR","->",493],["T_STRING","getValueSelectOptions",493],"(",")",",",["T_WHITESPACE","\n            ",493],["T_CONSTANT_ENCAPSED_STRING","'value_name'",494],["T_WHITESPACE","         ",494],["T_DOUBLE_ARROW","=>",494],["T_WHITESPACE"," ",494],["T_VARIABLE","$this",494],["T_OBJECT_OPERATOR","->",494],["T_STRING","getValueName",494],"(",")",",",["T_WHITESPACE","\n            ",494],["T_CONSTANT_ENCAPSED_STRING","'after_element_html'",495],["T_WHITESPACE"," ",495],["T_DOUBLE_ARROW","=>",495],["T_WHITESPACE"," ",495],["T_VARIABLE","$this",495],["T_OBJECT_OPERATOR","->",495],["T_STRING","getValueAfterElementHtml",495],"(",")",",",["T_WHITESPACE","\n            ",495],["T_CONSTANT_ENCAPSED_STRING","'explicit_apply'",496],["T_WHITESPACE","     ",496],["T_DOUBLE_ARROW","=>",496],["T_WHITESPACE"," ",496],["T_VARIABLE","$this",496],["T_OBJECT_OPERATOR","->",496],["T_STRING","getExplicitApply",496],"(",")",",",["T_WHITESPACE","\n        ",496],")",";",["T_WHITESPACE","\n\n        ",497],["T_SWITCH","switch",499],["T_WHITESPACE"," ",499],"(",["T_VARIABLE","$this",499],["T_OBJECT_OPERATOR","->",499],["T_STRING","getInputType",499],"(",")",")",["T_WHITESPACE"," ",499],"{",["T_WHITESPACE","\n            ",499],["T_CASE","case",500],["T_WHITESPACE"," ",500],["T_CONSTANT_ENCAPSED_STRING","'date'",500],":",["T_WHITESPACE","\n                ",500],["T_VARIABLE","$elementParams",501],"[",["T_CONSTANT_ENCAPSED_STRING","'input_format'",501],"]",["T_WHITESPACE"," ",501],"=",["T_WHITESPACE"," ",501],["T_STRING","Varien_Date",501],["T_DOUBLE_COLON","::",501],["T_STRING","DATE_INTERNAL_FORMAT",501],";",["T_WHITESPACE","\n                ",501],["T_VARIABLE","$elementParams",502],"[",["T_CONSTANT_ENCAPSED_STRING","'format'",502],"]",["T_WHITESPACE","       ",502],"=",["T_WHITESPACE"," ",502],["T_STRING","Varien_Date",502],["T_DOUBLE_COLON","::",502],["T_STRING","DATE_INTERNAL_FORMAT",502],";",["T_WHITESPACE","\n                ",502],["T_BREAK","break",503],";",["T_WHITESPACE","\n\n            ",503],["T_CASE","case",505],["T_WHITESPACE"," ",505],["T_CONSTANT_ENCAPSED_STRING","'datetime'",505],":",["T_WHITESPACE","\n                ",505],["T_VARIABLE","$elementParams",506],"[",["T_CONSTANT_ENCAPSED_STRING","'input_format'",506],"]",["T_WHITESPACE"," ",506],"=",["T_WHITESPACE"," ",506],["T_STRING","Varien_Date",506],["T_DOUBLE_COLON","::",506],["T_STRING","DATETIME_INTERNAL_FORMAT",506],";",["T_WHITESPACE","\n                ",506],["T_VARIABLE","$elementParams",507],"[",["T_CONSTANT_ENCAPSED_STRING","'format'",507],"]",["T_WHITESPACE","       ",507],"=",["T_WHITESPACE"," ",507],["T_STRING","Varien_Date",507],["T_DOUBLE_COLON","::",507],["T_STRING","DATETIME_INTERNAL_FORMAT",507],";",["T_WHITESPACE","\n                ",507],["T_VARIABLE","$elementParams",508],"[",["T_CONSTANT_ENCAPSED_STRING","'time'",508],"]",["T_WHITESPACE","         ",508],"=",["T_WHITESPACE"," ",508],["T_STRING","true",508],";",["T_WHITESPACE","\n                ",508],["T_BREAK","break",509],";",["T_WHITESPACE","\n        ",509],"}",["T_WHITESPACE","\n\n        ",510],["T_RETURN","return",512],["T_WHITESPACE"," ",512],["T_VARIABLE","$this",512],["T_OBJECT_OPERATOR","->",512],["T_STRING","getForm",512],"(",")",["T_OBJECT_OPERATOR","->",512],["T_STRING","addField",512],"(",["T_VARIABLE","$this",512],["T_OBJECT_OPERATOR","->",512],["T_STRING","getPrefix",512],"(",")",["T_WHITESPACE"," ",512],".",["T_WHITESPACE"," ",512],["T_CONSTANT_ENCAPSED_STRING","'__'",512],["T_WHITESPACE"," ",512],".",["T_WHITESPACE"," ",512],["T_VARIABLE","$this",512],["T_OBJECT_OPERATOR","->",512],["T_STRING","getId",512],"(",")",["T_WHITESPACE"," ",512],".",["T_WHITESPACE"," ",512],["T_CONSTANT_ENCAPSED_STRING","'__value'",512],",",["T_WHITESPACE","\n            ",512],["T_VARIABLE","$this",513],["T_OBJECT_OPERATOR","->",513],["T_STRING","getValueElementType",513],"(",")",",",["T_WHITESPACE","\n            ",513],["T_VARIABLE","$elementParams",514],["T_WHITESPACE","\n        ",514],")",["T_OBJECT_OPERATOR","->",515],["T_STRING","setRenderer",515],"(",["T_VARIABLE","$this",515],["T_OBJECT_OPERATOR","->",515],["T_STRING","getValueElementRenderer",515],"(",")",")",";",["T_WHITESPACE","\n    ",515],"}",["T_WHITESPACE","\n\n    ",516],["T_PUBLIC","public",518],["T_WHITESPACE"," ",518],["T_FUNCTION","function",518],["T_WHITESPACE"," ",518],["T_STRING","getValueElementHtml",518],"(",")",["T_WHITESPACE","\n    ",518],"{",["T_WHITESPACE","\n        ",519],["T_RETURN","return",520],["T_WHITESPACE"," ",520],["T_VARIABLE","$this",520],["T_OBJECT_OPERATOR","->",520],["T_STRING","getValueElement",520],"(",")",["T_OBJECT_OPERATOR","->",520],["T_STRING","getHtml",520],"(",")",";",["T_WHITESPACE","\n    ",520],"}",["T_WHITESPACE","\n\n    ",521],["T_PUBLIC","public",523],["T_WHITESPACE"," ",523],["T_FUNCTION","function",523],["T_WHITESPACE"," ",523],["T_STRING","getAddLinkHtml",523],"(",")",["T_WHITESPACE","\n    ",523],"{",["T_WHITESPACE","\n        ",524],["T_VARIABLE","$src",525],["T_WHITESPACE"," ",525],"=",["T_WHITESPACE"," ",525],["T_STRING","Mage",525],["T_DOUBLE_COLON","::",525],["T_STRING","getDesign",525],"(",")",["T_OBJECT_OPERATOR","->",525],["T_STRING","getSkinUrl",525],"(",["T_CONSTANT_ENCAPSED_STRING","'images\/rule_component_add.gif'",525],")",";",["T_WHITESPACE","\n        ",525],["T_VARIABLE","$html",526],["T_WHITESPACE"," ",526],"=",["T_WHITESPACE"," ",526],["T_CONSTANT_ENCAPSED_STRING","'<img src=\"'",526],["T_WHITESPACE"," ",526],".",["T_WHITESPACE"," ",526],["T_VARIABLE","$src",526],["T_WHITESPACE"," ",526],".",["T_WHITESPACE"," ",526],["T_CONSTANT_ENCAPSED_STRING","'\" class=\"rule-param-add v-middle\" alt=\"\" title=\"'",526],["T_WHITESPACE","\n            ",526],".",["T_WHITESPACE"," ",527],["T_STRING","Mage",527],["T_DOUBLE_COLON","::",527],["T_STRING","helper",527],"(",["T_CONSTANT_ENCAPSED_STRING","'core'",527],")",["T_OBJECT_OPERATOR","->",527],["T_STRING","quoteEscape",527],"(",["T_STRING","Mage",527],["T_DOUBLE_COLON","::",527],["T_STRING","helper",527],"(",["T_CONSTANT_ENCAPSED_STRING","'rule'",527],")",["T_OBJECT_OPERATOR","->",527],["T_STRING","__",527],"(",["T_CONSTANT_ENCAPSED_STRING","'Add'",527],")",")",["T_WHITESPACE","\n            ",527],".",["T_WHITESPACE"," ",528],["T_CONSTANT_ENCAPSED_STRING","'\"\/>'",528],";",["T_WHITESPACE","\n        ",528],["T_RETURN","return",529],["T_WHITESPACE"," ",529],["T_VARIABLE","$html",529],";",["T_WHITESPACE","\n    ",529],"}",["T_WHITESPACE","\n\n    ",530],["T_PUBLIC","public",532],["T_WHITESPACE"," ",532],["T_FUNCTION","function",532],["T_WHITESPACE"," ",532],["T_STRING","getRemoveLinkHtml",532],"(",")",["T_WHITESPACE","\n    ",532],"{",["T_WHITESPACE","\n        ",533],["T_VARIABLE","$src",534],["T_WHITESPACE"," ",534],"=",["T_WHITESPACE"," ",534],["T_STRING","Mage",534],["T_DOUBLE_COLON","::",534],["T_STRING","getDesign",534],"(",")",["T_OBJECT_OPERATOR","->",534],["T_STRING","getSkinUrl",534],"(",["T_CONSTANT_ENCAPSED_STRING","'images\/rule_component_remove.gif'",534],")",";",["T_WHITESPACE","\n        ",534],["T_VARIABLE","$html",535],["T_WHITESPACE"," ",535],"=",["T_WHITESPACE"," ",535],["T_CONSTANT_ENCAPSED_STRING","' <span class=\"rule-param\"><a href=\"javascript:void(0)\" class=\"rule-param-remove\" title=\"'",535],["T_WHITESPACE","\n            ",535],".",["T_WHITESPACE"," ",536],["T_STRING","Mage",536],["T_DOUBLE_COLON","::",536],["T_STRING","helper",536],"(",["T_CONSTANT_ENCAPSED_STRING","'core'",536],")",["T_OBJECT_OPERATOR","->",536],["T_STRING","quoteEscape",536],"(",["T_STRING","Mage",536],["T_DOUBLE_COLON","::",536],["T_STRING","helper",536],"(",["T_CONSTANT_ENCAPSED_STRING","'rule'",536],")",["T_OBJECT_OPERATOR","->",536],["T_STRING","__",536],"(",["T_CONSTANT_ENCAPSED_STRING","'Remove'",536],")",")",["T_WHITESPACE","\n            ",536],".",["T_WHITESPACE"," ",537],["T_CONSTANT_ENCAPSED_STRING","'\"><img src=\"'",537],["T_WHITESPACE"," ",537],".",["T_WHITESPACE"," ",537],["T_VARIABLE","$src",537],["T_WHITESPACE"," ",537],".",["T_WHITESPACE"," ",537],["T_CONSTANT_ENCAPSED_STRING","'\"  alt=\"\" class=\"v-middle\" \/><\/a><\/span>'",537],";",["T_WHITESPACE","\n        ",537],["T_RETURN","return",538],["T_WHITESPACE"," ",538],["T_VARIABLE","$html",538],";",["T_WHITESPACE","\n    ",538],"}",["T_WHITESPACE","\n\n    ",539],["T_PUBLIC","public",541],["T_WHITESPACE"," ",541],["T_FUNCTION","function",541],["T_WHITESPACE"," ",541],["T_STRING","getChooserContainerHtml",541],"(",")",["T_WHITESPACE","\n    ",541],"{",["T_WHITESPACE","\n        ",542],["T_VARIABLE","$url",543],["T_WHITESPACE"," ",543],"=",["T_WHITESPACE"," ",543],["T_VARIABLE","$this",543],["T_OBJECT_OPERATOR","->",543],["T_STRING","getValueElementChooserUrl",543],"(",")",";",["T_WHITESPACE","\n        ",543],["T_VARIABLE","$html",544],["T_WHITESPACE"," ",544],"=",["T_WHITESPACE"," ",544],["T_CONSTANT_ENCAPSED_STRING","''",544],";",["T_WHITESPACE","\n        ",544],["T_IF","if",545],["T_WHITESPACE"," ",545],"(",["T_VARIABLE","$url",545],")",["T_WHITESPACE"," ",545],"{",["T_WHITESPACE","\n            ",545],["T_VARIABLE","$html",546],["T_WHITESPACE"," ",546],"=",["T_WHITESPACE"," ",546],["T_CONSTANT_ENCAPSED_STRING","'<div class=\"rule-chooser\" url=\"'",546],["T_WHITESPACE"," ",546],".",["T_WHITESPACE"," ",546],["T_VARIABLE","$url",546],["T_WHITESPACE"," ",546],".",["T_WHITESPACE"," ",546],["T_CONSTANT_ENCAPSED_STRING","'\"><\/div>'",546],";",["T_WHITESPACE","\n        ",546],"}",["T_WHITESPACE","\n        ",547],["T_RETURN","return",548],["T_WHITESPACE"," ",548],["T_VARIABLE","$html",548],";",["T_WHITESPACE","\n    ",548],"}",["T_WHITESPACE","\n\n    ",549],["T_PUBLIC","public",551],["T_WHITESPACE"," ",551],["T_FUNCTION","function",551],["T_WHITESPACE"," ",551],["T_STRING","asString",551],"(",["T_VARIABLE","$format",551],["T_WHITESPACE"," ",551],"=",["T_WHITESPACE"," ",551],["T_CONSTANT_ENCAPSED_STRING","''",551],")",["T_WHITESPACE","\n    ",551],"{",["T_WHITESPACE","\n        ",552],["T_VARIABLE","$str",553],["T_WHITESPACE"," ",553],"=",["T_WHITESPACE"," ",553],["T_VARIABLE","$this",553],["T_OBJECT_OPERATOR","->",553],["T_STRING","getAttributeName",553],"(",")",["T_WHITESPACE"," ",553],".",["T_WHITESPACE"," ",553],["T_CONSTANT_ENCAPSED_STRING","' '",553],["T_WHITESPACE"," ",553],".",["T_WHITESPACE"," ",553],["T_VARIABLE","$this",553],["T_OBJECT_OPERATOR","->",553],["T_STRING","getOperatorName",553],"(",")",["T_WHITESPACE"," ",553],".",["T_WHITESPACE"," ",553],["T_CONSTANT_ENCAPSED_STRING","' '",553],["T_WHITESPACE"," ",553],".",["T_WHITESPACE"," ",553],["T_VARIABLE","$this",553],["T_OBJECT_OPERATOR","->",553],["T_STRING","getValueName",553],"(",")",";",["T_WHITESPACE","\n        ",553],["T_RETURN","return",554],["T_WHITESPACE"," ",554],["T_VARIABLE","$str",554],";",["T_WHITESPACE","\n    ",554],"}",["T_WHITESPACE","\n\n    ",555],["T_PUBLIC","public",557],["T_WHITESPACE"," ",557],["T_FUNCTION","function",557],["T_WHITESPACE"," ",557],["T_STRING","asStringRecursive",557],"(",["T_VARIABLE","$level",557],"=",["T_LNUMBER","0",557],")",["T_WHITESPACE","\n    ",557],"{",["T_WHITESPACE","\n        ",558],["T_VARIABLE","$str",559],["T_WHITESPACE"," ",559],"=",["T_WHITESPACE"," ",559],["T_STRING","str_pad",559],"(",["T_CONSTANT_ENCAPSED_STRING","''",559],",",["T_WHITESPACE"," ",559],["T_VARIABLE","$level",559],["T_WHITESPACE"," ",559],"*",["T_WHITESPACE"," ",559],["T_LNUMBER","3",559],",",["T_WHITESPACE"," ",559],["T_CONSTANT_ENCAPSED_STRING","' '",559],",",["T_WHITESPACE"," ",559],["T_STRING","STR_PAD_LEFT",559],")",["T_WHITESPACE"," ",559],".",["T_WHITESPACE"," ",559],["T_VARIABLE","$this",559],["T_OBJECT_OPERATOR","->",559],["T_STRING","asString",559],"(",")",";",["T_WHITESPACE","\n        ",559],["T_RETURN","return",560],["T_WHITESPACE"," ",560],["T_VARIABLE","$str",560],";",["T_WHITESPACE","\n    ",560],"}",["T_WHITESPACE","\n\n    ",561],["T_DOC_COMMENT","\/**\n     * Validate product attribute value for condition\n     *\n     * @param   mixed $validatedValue product attribute value\n     * @return  bool\n     *\/",563],["T_WHITESPACE","\n    ",568],["T_PUBLIC","public",569],["T_WHITESPACE"," ",569],["T_FUNCTION","function",569],["T_WHITESPACE"," ",569],["T_STRING","validateAttribute",569],"(",["T_VARIABLE","$validatedValue",569],")",["T_WHITESPACE","\n    ",569],"{",["T_WHITESPACE","\n        ",570],["T_IF","if",571],["T_WHITESPACE"," ",571],"(",["T_STRING","is_object",571],"(",["T_VARIABLE","$validatedValue",571],")",")",["T_WHITESPACE"," ",571],"{",["T_WHITESPACE","\n            ",571],["T_RETURN","return",572],["T_WHITESPACE"," ",572],["T_STRING","false",572],";",["T_WHITESPACE","\n        ",572],"}",["T_WHITESPACE","\n\n        ",573],["T_DOC_COMMENT","\/**\n         * Condition attribute value\n         *\/",575],["T_WHITESPACE","\n        ",577],["T_VARIABLE","$value",578],["T_WHITESPACE"," ",578],"=",["T_WHITESPACE"," ",578],["T_VARIABLE","$this",578],["T_OBJECT_OPERATOR","->",578],["T_STRING","getValueParsed",578],"(",")",";",["T_WHITESPACE","\n\n        ",578],["T_DOC_COMMENT","\/**\n         * Comparison operator\n         *\/",580],["T_WHITESPACE","\n        ",582],["T_VARIABLE","$op",583],["T_WHITESPACE"," ",583],"=",["T_WHITESPACE"," ",583],["T_VARIABLE","$this",583],["T_OBJECT_OPERATOR","->",583],["T_STRING","getOperatorForValidate",583],"(",")",";",["T_WHITESPACE","\n\n        ",583],["T_COMMENT","\/\/ if operator requires array and it is not, or on opposite, return false\n",585],["T_WHITESPACE","        ",586],["T_IF","if",586],["T_WHITESPACE"," ",586],"(",["T_VARIABLE","$this",586],["T_OBJECT_OPERATOR","->",586],["T_STRING","isArrayOperatorType",586],"(",")",["T_WHITESPACE"," ",586],["T_LOGICAL_XOR","xor",586],["T_WHITESPACE"," ",586],["T_STRING","is_array",586],"(",["T_VARIABLE","$value",586],")",")",["T_WHITESPACE"," ",586],"{",["T_WHITESPACE","\n            ",586],["T_RETURN","return",587],["T_WHITESPACE"," ",587],["T_STRING","false",587],";",["T_WHITESPACE","\n        ",587],"}",["T_WHITESPACE","\n\n        ",588],["T_VARIABLE","$result",590],["T_WHITESPACE"," ",590],"=",["T_WHITESPACE"," ",590],["T_STRING","false",590],";",["T_WHITESPACE","\n\n        ",590],["T_SWITCH","switch",592],["T_WHITESPACE"," ",592],"(",["T_VARIABLE","$op",592],")",["T_WHITESPACE"," ",592],"{",["T_WHITESPACE","\n            ",592],["T_CASE","case",593],["T_WHITESPACE"," ",593],["T_CONSTANT_ENCAPSED_STRING","'=='",593],":",["T_WHITESPACE"," ",593],["T_CASE","case",593],["T_WHITESPACE"," ",593],["T_CONSTANT_ENCAPSED_STRING","'!='",593],":",["T_WHITESPACE","\n                ",593],["T_IF","if",594],["T_WHITESPACE"," ",594],"(",["T_STRING","is_array",594],"(",["T_VARIABLE","$value",594],")",")",["T_WHITESPACE"," ",594],"{",["T_WHITESPACE","\n                    ",594],["T_IF","if",595],["T_WHITESPACE"," ",595],"(",["T_STRING","is_array",595],"(",["T_VARIABLE","$validatedValue",595],")",")",["T_WHITESPACE"," ",595],"{",["T_WHITESPACE","\n                        ",595],["T_VARIABLE","$result",596],["T_WHITESPACE"," ",596],"=",["T_WHITESPACE"," ",596],["T_STRING","array_intersect",596],"(",["T_VARIABLE","$value",596],",",["T_WHITESPACE"," ",596],["T_VARIABLE","$validatedValue",596],")",";",["T_WHITESPACE","\n                        ",596],["T_VARIABLE","$result",597],["T_WHITESPACE"," ",597],"=",["T_WHITESPACE"," ",597],"!",["T_EMPTY","empty",597],"(",["T_VARIABLE","$result",597],")",";",["T_WHITESPACE","\n                    ",597],"}",["T_WHITESPACE"," ",598],["T_ELSE","else",598],["T_WHITESPACE"," ",598],"{",["T_WHITESPACE","\n                        ",598],["T_RETURN","return",599],["T_WHITESPACE"," ",599],["T_STRING","false",599],";",["T_WHITESPACE","\n                    ",599],"}",["T_WHITESPACE","\n                ",600],"}",["T_WHITESPACE"," ",601],["T_ELSE","else",601],["T_WHITESPACE"," ",601],"{",["T_WHITESPACE","\n                    ",601],["T_IF","if",602],["T_WHITESPACE"," ",602],"(",["T_STRING","is_array",602],"(",["T_VARIABLE","$validatedValue",602],")",")",["T_WHITESPACE"," ",602],"{",["T_WHITESPACE","\n                        ",602],["T_VARIABLE","$result",603],["T_WHITESPACE"," ",603],"=",["T_WHITESPACE"," ",603],["T_STRING","count",603],"(",["T_VARIABLE","$validatedValue",603],")",["T_WHITESPACE"," ",603],["T_IS_EQUAL","==",603],["T_WHITESPACE"," ",603],["T_LNUMBER","1",603],["T_WHITESPACE"," ",603],["T_BOOLEAN_AND","&&",603],["T_WHITESPACE"," ",603],["T_STRING","array_shift",603],"(",["T_VARIABLE","$validatedValue",603],")",["T_WHITESPACE"," ",603],["T_IS_EQUAL","==",603],["T_WHITESPACE"," ",603],["T_VARIABLE","$value",603],";",["T_WHITESPACE","\n                    ",603],"}",["T_WHITESPACE"," ",604],["T_ELSE","else",604],["T_WHITESPACE"," ",604],"{",["T_WHITESPACE","\n                        ",604],["T_VARIABLE","$result",605],["T_WHITESPACE"," ",605],"=",["T_WHITESPACE"," ",605],["T_VARIABLE","$this",605],["T_OBJECT_OPERATOR","->",605],["T_STRING","_compareValues",605],"(",["T_VARIABLE","$validatedValue",605],",",["T_WHITESPACE"," ",605],["T_VARIABLE","$value",605],")",";",["T_WHITESPACE","\n                    ",605],"}",["T_WHITESPACE","\n                ",606],"}",["T_WHITESPACE","\n                ",607],["T_BREAK","break",608],";",["T_WHITESPACE","\n\n            ",608],["T_CASE","case",610],["T_WHITESPACE"," ",610],["T_CONSTANT_ENCAPSED_STRING","'<='",610],":",["T_WHITESPACE"," ",610],["T_CASE","case",610],["T_WHITESPACE"," ",610],["T_CONSTANT_ENCAPSED_STRING","'>'",610],":",["T_WHITESPACE","\n                ",610],["T_IF","if",611],["T_WHITESPACE"," ",611],"(","!",["T_STRING","is_scalar",611],"(",["T_VARIABLE","$validatedValue",611],")",")",["T_WHITESPACE"," ",611],"{",["T_WHITESPACE","\n                    ",611],["T_RETURN","return",612],["T_WHITESPACE"," ",612],["T_STRING","false",612],";",["T_WHITESPACE","\n                ",612],"}",["T_WHITESPACE"," ",613],["T_ELSE","else",613],["T_WHITESPACE"," ",613],"{",["T_WHITESPACE","\n                    ",613],["T_VARIABLE","$result",614],["T_WHITESPACE"," ",614],"=",["T_WHITESPACE"," ",614],["T_VARIABLE","$validatedValue",614],["T_WHITESPACE"," ",614],["T_IS_SMALLER_OR_EQUAL","<=",614],["T_WHITESPACE"," ",614],["T_VARIABLE","$value",614],";",["T_WHITESPACE","\n                ",614],"}",["T_WHITESPACE","\n                ",615],["T_BREAK","break",616],";",["T_WHITESPACE","\n\n            ",616],["T_CASE","case",618],["T_WHITESPACE"," ",618],["T_CONSTANT_ENCAPSED_STRING","'>='",618],":",["T_WHITESPACE"," ",618],["T_CASE","case",618],["T_WHITESPACE"," ",618],["T_CONSTANT_ENCAPSED_STRING","'<'",618],":",["T_WHITESPACE","\n                ",618],["T_IF","if",619],["T_WHITESPACE"," ",619],"(","!",["T_STRING","is_scalar",619],"(",["T_VARIABLE","$validatedValue",619],")",")",["T_WHITESPACE"," ",619],"{",["T_WHITESPACE","\n                    ",619],["T_RETURN","return",620],["T_WHITESPACE"," ",620],["T_STRING","false",620],";",["T_WHITESPACE","\n                ",620],"}",["T_WHITESPACE"," ",621],["T_ELSE","else",621],["T_WHITESPACE"," ",621],"{",["T_WHITESPACE","\n                    ",621],["T_VARIABLE","$result",622],["T_WHITESPACE"," ",622],"=",["T_WHITESPACE"," ",622],["T_VARIABLE","$validatedValue",622],["T_WHITESPACE"," ",622],["T_IS_GREATER_OR_EQUAL",">=",622],["T_WHITESPACE"," ",622],["T_VARIABLE","$value",622],";",["T_WHITESPACE","\n                ",622],"}",["T_WHITESPACE","\n                ",623],["T_BREAK","break",624],";",["T_WHITESPACE","\n\n            ",624],["T_CASE","case",626],["T_WHITESPACE"," ",626],["T_CONSTANT_ENCAPSED_STRING","'{}'",626],":",["T_WHITESPACE"," ",626],["T_CASE","case",626],["T_WHITESPACE"," ",626],["T_CONSTANT_ENCAPSED_STRING","'!{}'",626],":",["T_WHITESPACE","\n                ",626],["T_IF","if",627],["T_WHITESPACE"," ",627],"(",["T_STRING","is_scalar",627],"(",["T_VARIABLE","$validatedValue",627],")",["T_WHITESPACE"," ",627],["T_BOOLEAN_AND","&&",627],["T_WHITESPACE"," ",627],["T_STRING","is_array",627],"(",["T_VARIABLE","$value",627],")",")",["T_WHITESPACE"," ",627],"{",["T_WHITESPACE","\n                    ",627],["T_FOREACH","foreach",628],["T_WHITESPACE"," ",628],"(",["T_VARIABLE","$value",628],["T_WHITESPACE"," ",628],["T_AS","as",628],["T_WHITESPACE"," ",628],["T_VARIABLE","$item",628],")",["T_WHITESPACE"," ",628],"{",["T_WHITESPACE","\n                        ",628],["T_IF","if",629],["T_WHITESPACE"," ",629],"(",["T_STRING","stripos",629],"(",["T_VARIABLE","$validatedValue",629],",",["T_VARIABLE","$item",629],")",["T_IS_NOT_IDENTICAL","!==",629],["T_STRING","false",629],")",["T_WHITESPACE"," ",629],"{",["T_WHITESPACE","\n                            ",629],["T_VARIABLE","$result",630],["T_WHITESPACE"," ",630],"=",["T_WHITESPACE"," ",630],["T_STRING","true",630],";",["T_WHITESPACE","\n                            ",630],["T_BREAK","break",631],";",["T_WHITESPACE","\n                        ",631],"}",["T_WHITESPACE","\n                    ",632],"}",["T_WHITESPACE","\n                ",633],"}",["T_WHITESPACE"," ",634],["T_ELSEIF","elseif",634],["T_WHITESPACE"," ",634],"(",["T_STRING","is_array",634],"(",["T_VARIABLE","$value",634],")",")",["T_WHITESPACE"," ",634],"{",["T_WHITESPACE","\n                    ",634],["T_IF","if",635],["T_WHITESPACE"," ",635],"(",["T_STRING","is_array",635],"(",["T_VARIABLE","$validatedValue",635],")",")",["T_WHITESPACE"," ",635],"{",["T_WHITESPACE","\n                        ",635],["T_VARIABLE","$result",636],["T_WHITESPACE"," ",636],"=",["T_WHITESPACE"," ",636],["T_STRING","array_intersect",636],"(",["T_VARIABLE","$value",636],",",["T_WHITESPACE"," ",636],["T_VARIABLE","$validatedValue",636],")",";",["T_WHITESPACE","\n                        ",636],["T_VARIABLE","$result",637],["T_WHITESPACE"," ",637],"=",["T_WHITESPACE"," ",637],"!",["T_EMPTY","empty",637],"(",["T_VARIABLE","$result",637],")",";",["T_WHITESPACE","\n                    ",637],"}",["T_WHITESPACE"," ",638],["T_ELSE","else",638],["T_WHITESPACE"," ",638],"{",["T_WHITESPACE","\n                        ",638],["T_RETURN","return",639],["T_WHITESPACE"," ",639],["T_STRING","false",639],";",["T_WHITESPACE","\n                    ",639],"}",["T_WHITESPACE","\n                ",640],"}",["T_WHITESPACE"," ",641],["T_ELSE","else",641],["T_WHITESPACE"," ",641],"{",["T_WHITESPACE","\n                    ",641],["T_IF","if",642],["T_WHITESPACE"," ",642],"(",["T_STRING","is_array",642],"(",["T_VARIABLE","$validatedValue",642],")",")",["T_WHITESPACE"," ",642],"{",["T_WHITESPACE","\n                        ",642],["T_VARIABLE","$result",643],["T_WHITESPACE"," ",643],"=",["T_WHITESPACE"," ",643],["T_STRING","in_array",643],"(",["T_VARIABLE","$value",643],",",["T_WHITESPACE"," ",643],["T_VARIABLE","$validatedValue",643],")",";",["T_WHITESPACE","\n                    ",643],"}",["T_WHITESPACE"," ",644],["T_ELSE","else",644],["T_WHITESPACE"," ",644],"{",["T_WHITESPACE","\n                        ",644],["T_VARIABLE","$result",645],["T_WHITESPACE"," ",645],"=",["T_WHITESPACE"," ",645],["T_VARIABLE","$this",645],["T_OBJECT_OPERATOR","->",645],["T_STRING","_compareValues",645],"(",["T_VARIABLE","$value",645],",",["T_WHITESPACE"," ",645],["T_VARIABLE","$validatedValue",645],",",["T_WHITESPACE"," ",645],["T_STRING","false",645],")",";",["T_WHITESPACE","\n                    ",645],"}",["T_WHITESPACE","\n                ",646],"}",["T_WHITESPACE","\n                ",647],["T_BREAK","break",648],";",["T_WHITESPACE","\n\n            ",648],["T_CASE","case",650],["T_WHITESPACE"," ",650],["T_CONSTANT_ENCAPSED_STRING","'()'",650],":",["T_WHITESPACE"," ",650],["T_CASE","case",650],["T_WHITESPACE"," ",650],["T_CONSTANT_ENCAPSED_STRING","'!()'",650],":",["T_WHITESPACE"," ",650],["T_CASE","case",650],["T_WHITESPACE"," ",650],["T_CONSTANT_ENCAPSED_STRING","'[]'",650],":",["T_WHITESPACE"," ",650],["T_CASE","case",650],["T_WHITESPACE"," ",650],["T_CONSTANT_ENCAPSED_STRING","'![]'",650],":",["T_WHITESPACE","\n                ",650],["T_IF","if",651],["T_WHITESPACE"," ",651],"(",["T_STRING","is_array",651],"(",["T_VARIABLE","$validatedValue",651],")",")",["T_WHITESPACE"," ",651],"{",["T_WHITESPACE","\n                    ",651],["T_VARIABLE","$value",652],["T_WHITESPACE"," ",652],"=",["T_WHITESPACE"," ",652],["T_ARRAY_CAST","(array)",652],["T_VARIABLE","$value",652],";",["T_WHITESPACE","\n                    ",652],["T_VARIABLE","$match",653],["T_WHITESPACE"," ",653],"=",["T_WHITESPACE"," ",653],["T_STRING","count",653],"(",["T_STRING","array_intersect",653],"(",["T_VARIABLE","$validatedValue",653],",",["T_WHITESPACE"," ",653],["T_VARIABLE","$value",653],")",")",";",["T_WHITESPACE","\n\n                    ",653],["T_IF","if",655],["T_WHITESPACE"," ",655],"(",["T_STRING","in_array",655],"(",["T_VARIABLE","$op",655],",",["T_WHITESPACE"," ",655],["T_ARRAY","array",655],"(",["T_CONSTANT_ENCAPSED_STRING","'[]'",655],",",["T_WHITESPACE"," ",655],["T_CONSTANT_ENCAPSED_STRING","'![]'",655],")",")",")",["T_WHITESPACE"," ",655],"{",["T_WHITESPACE","\n                        ",655],["T_VARIABLE","$result",656],["T_WHITESPACE"," ",656],"=",["T_WHITESPACE"," ",656],["T_VARIABLE","$match",656],["T_WHITESPACE"," ",656],["T_IS_EQUAL","==",656],["T_WHITESPACE"," ",656],["T_STRING","count",656],"(",["T_VARIABLE","$value",656],")",";",["T_WHITESPACE","\n                    ",656],"}",["T_WHITESPACE"," ",657],["T_ELSE","else",657],["T_WHITESPACE"," ",657],"{",["T_WHITESPACE","\n                        ",657],["T_VARIABLE","$result",658],["T_WHITESPACE"," ",658],"=",["T_WHITESPACE"," ",658],["T_VARIABLE","$match",658],["T_WHITESPACE"," ",658],">",["T_WHITESPACE"," ",658],["T_LNUMBER","0",658],";",["T_WHITESPACE","\n                    ",658],"}",["T_WHITESPACE","\n                ",659],"}",["T_WHITESPACE"," ",660],["T_ELSE","else",660],["T_WHITESPACE"," ",660],"{",["T_WHITESPACE","\n                    ",660],["T_VARIABLE","$value",661],["T_WHITESPACE"," ",661],"=",["T_WHITESPACE"," ",661],["T_ARRAY_CAST","(array)",661],["T_VARIABLE","$value",661],";",["T_WHITESPACE","\n                    ",661],["T_FOREACH","foreach",662],["T_WHITESPACE"," ",662],"(",["T_VARIABLE","$value",662],["T_WHITESPACE"," ",662],["T_AS","as",662],["T_WHITESPACE"," ",662],["T_VARIABLE","$item",662],")",["T_WHITESPACE"," ",662],"{",["T_WHITESPACE","\n                        ",662],["T_IF","if",663],["T_WHITESPACE"," ",663],"(",["T_VARIABLE","$this",663],["T_OBJECT_OPERATOR","->",663],["T_STRING","_compareValues",663],"(",["T_VARIABLE","$validatedValue",663],",",["T_WHITESPACE"," ",663],["T_VARIABLE","$item",663],")",")",["T_WHITESPACE"," ",663],"{",["T_WHITESPACE","\n                            ",663],["T_VARIABLE","$result",664],["T_WHITESPACE"," ",664],"=",["T_WHITESPACE"," ",664],["T_STRING","true",664],";",["T_WHITESPACE","\n                            ",664],["T_BREAK","break",665],";",["T_WHITESPACE","\n                        ",665],"}",["T_WHITESPACE","\n                    ",666],"}",["T_WHITESPACE","\n                ",667],"}",["T_WHITESPACE","\n                ",668],["T_BREAK","break",669],";",["T_WHITESPACE","\n        ",669],"}",["T_WHITESPACE","\n\n        ",670],["T_IF","if",672],["T_WHITESPACE"," ",672],"(",["T_CONSTANT_ENCAPSED_STRING","'!='",672],["T_WHITESPACE"," ",672],["T_IS_EQUAL","==",672],["T_WHITESPACE"," ",672],["T_VARIABLE","$op",672],["T_WHITESPACE"," ",672],["T_BOOLEAN_OR","||",672],["T_WHITESPACE"," ",672],["T_CONSTANT_ENCAPSED_STRING","'>'",672],["T_WHITESPACE"," ",672],["T_IS_EQUAL","==",672],["T_WHITESPACE"," ",672],["T_VARIABLE","$op",672],["T_WHITESPACE"," ",672],["T_BOOLEAN_OR","||",672],["T_WHITESPACE"," ",672],["T_CONSTANT_ENCAPSED_STRING","'<'",672],["T_WHITESPACE"," ",672],["T_IS_EQUAL","==",672],["T_WHITESPACE"," ",672],["T_VARIABLE","$op",672],["T_WHITESPACE"," ",672],["T_BOOLEAN_OR","||",672],["T_WHITESPACE"," ",672],["T_CONSTANT_ENCAPSED_STRING","'!{}'",672],["T_WHITESPACE"," ",672],["T_IS_EQUAL","==",672],["T_WHITESPACE"," ",672],["T_VARIABLE","$op",672],["T_WHITESPACE"," ",672],["T_BOOLEAN_OR","||",672],["T_WHITESPACE"," ",672],["T_CONSTANT_ENCAPSED_STRING","'!()'",672],["T_WHITESPACE"," ",672],["T_IS_EQUAL","==",672],["T_WHITESPACE"," ",672],["T_VARIABLE","$op",672],["T_WHITESPACE"," ",672],["T_BOOLEAN_OR","||",672],["T_WHITESPACE"," ",672],["T_CONSTANT_ENCAPSED_STRING","'![]'",672],["T_WHITESPACE"," ",672],["T_IS_EQUAL","==",672],["T_WHITESPACE"," ",672],["T_VARIABLE","$op",672],")",["T_WHITESPACE"," ",672],"{",["T_WHITESPACE","\n            ",672],["T_VARIABLE","$result",673],["T_WHITESPACE"," ",673],"=",["T_WHITESPACE"," ",673],"!",["T_VARIABLE","$result",673],";",["T_WHITESPACE","\n        ",673],"}",["T_WHITESPACE","\n\n        ",674],["T_RETURN","return",676],["T_WHITESPACE"," ",676],["T_VARIABLE","$result",676],";",["T_WHITESPACE","\n    ",676],"}",["T_WHITESPACE","\n\n    ",677],["T_DOC_COMMENT","\/**\n     * Case and type insensitive comparison of values\n     *\n     * @param  string|int|float $validatedValue\n     * @param  string|int|float $value\n     * @return bool\n     *\/",679],["T_WHITESPACE","\n    ",685],["T_PROTECTED","protected",686],["T_WHITESPACE"," ",686],["T_FUNCTION","function",686],["T_WHITESPACE"," ",686],["T_STRING","_compareValues",686],"(",["T_VARIABLE","$validatedValue",686],",",["T_WHITESPACE"," ",686],["T_VARIABLE","$value",686],",",["T_WHITESPACE"," ",686],["T_VARIABLE","$strict",686],["T_WHITESPACE"," ",686],"=",["T_WHITESPACE"," ",686],["T_STRING","true",686],")",["T_WHITESPACE","\n    ",686],"{",["T_WHITESPACE","\n        ",687],["T_IF","if",688],["T_WHITESPACE"," ",688],"(",["T_VARIABLE","$strict",688],["T_WHITESPACE"," ",688],["T_BOOLEAN_AND","&&",688],["T_WHITESPACE"," ",688],["T_STRING","is_numeric",688],"(",["T_VARIABLE","$validatedValue",688],")",["T_WHITESPACE"," ",688],["T_BOOLEAN_AND","&&",688],["T_WHITESPACE"," ",688],["T_STRING","is_numeric",688],"(",["T_VARIABLE","$value",688],")",")",["T_WHITESPACE"," ",688],"{",["T_WHITESPACE","\n            ",688],["T_RETURN","return",689],["T_WHITESPACE"," ",689],["T_VARIABLE","$validatedValue",689],["T_WHITESPACE"," ",689],["T_IS_EQUAL","==",689],["T_WHITESPACE"," ",689],["T_VARIABLE","$value",689],";",["T_WHITESPACE","\n        ",689],"}",["T_WHITESPACE"," ",690],["T_ELSE","else",690],["T_WHITESPACE"," ",690],"{",["T_WHITESPACE","\n            ",690],["T_VARIABLE","$validatePattern",691],["T_WHITESPACE"," ",691],"=",["T_WHITESPACE"," ",691],["T_STRING","preg_quote",691],"(",["T_VARIABLE","$validatedValue",691],",",["T_WHITESPACE"," ",691],["T_CONSTANT_ENCAPSED_STRING","'~'",691],")",";",["T_WHITESPACE","\n            ",691],["T_IF","if",692],["T_WHITESPACE"," ",692],"(",["T_VARIABLE","$strict",692],")",["T_WHITESPACE"," ",692],"{",["T_WHITESPACE","\n                ",692],["T_VARIABLE","$validatePattern",693],["T_WHITESPACE"," ",693],"=",["T_WHITESPACE"," ",693],["T_CONSTANT_ENCAPSED_STRING","'^'",693],["T_WHITESPACE"," ",693],".",["T_WHITESPACE"," ",693],["T_VARIABLE","$validatePattern",693],["T_WHITESPACE"," ",693],".",["T_WHITESPACE"," ",693],["T_CONSTANT_ENCAPSED_STRING","'$'",693],";",["T_WHITESPACE","\n            ",693],"}",["T_WHITESPACE","\n            ",694],["T_RETURN","return",695],["T_WHITESPACE"," ",695],["T_BOOL_CAST","(bool)",695],["T_STRING","preg_match",695],"(",["T_CONSTANT_ENCAPSED_STRING","'~'",695],["T_WHITESPACE"," ",695],".",["T_WHITESPACE"," ",695],["T_VARIABLE","$validatePattern",695],["T_WHITESPACE"," ",695],".",["T_WHITESPACE"," ",695],["T_CONSTANT_ENCAPSED_STRING","'~iu'",695],",",["T_WHITESPACE"," ",695],["T_VARIABLE","$value",695],")",";",["T_WHITESPACE","\n        ",695],"}",["T_WHITESPACE","\n    ",696],"}",["T_WHITESPACE","\n\n    ",697],["T_PUBLIC","public",699],["T_WHITESPACE"," ",699],["T_FUNCTION","function",699],["T_WHITESPACE"," ",699],["T_STRING","validate",699],"(",["T_STRING","Varien_Object",699],["T_WHITESPACE"," ",699],["T_VARIABLE","$object",699],")",["T_WHITESPACE","\n    ",699],"{",["T_WHITESPACE","\n        ",700],["T_RETURN","return",701],["T_WHITESPACE"," ",701],["T_VARIABLE","$this",701],["T_OBJECT_OPERATOR","->",701],["T_STRING","validateAttribute",701],"(",["T_VARIABLE","$object",701],["T_OBJECT_OPERATOR","->",701],["T_STRING","getData",701],"(",["T_VARIABLE","$this",701],["T_OBJECT_OPERATOR","->",701],["T_STRING","getAttribute",701],"(",")",")",")",";",["T_WHITESPACE","\n    ",701],"}",["T_WHITESPACE","\n\n    ",702],["T_DOC_COMMENT","\/**\n     * Retrieve operator for php validation\n     *\n     * @return string\n     *\/",704],["T_WHITESPACE","\n    ",708],["T_PUBLIC","public",709],["T_WHITESPACE"," ",709],["T_FUNCTION","function",709],["T_WHITESPACE"," ",709],["T_STRING","getOperatorForValidate",709],"(",")",["T_WHITESPACE","\n    ",709],"{",["T_WHITESPACE","\n        ",710],["T_RETURN","return",711],["T_WHITESPACE"," ",711],["T_VARIABLE","$this",711],["T_OBJECT_OPERATOR","->",711],["T_STRING","getOperator",711],"(",")",";",["T_WHITESPACE","\n    ",711],"}",["T_WHITESPACE","\n",712],"}",["T_WHITESPACE","\n",713]]