[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Magento\n *\n * NOTICE OF LICENSE\n *\n * This source file is subject to the Open Software License (OSL 3.0)\n * that is bundled with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/opensource.org\/licenses\/osl-3.0.php\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@magento.com so we can send you a copy immediately.\n *\n * DISCLAIMER\n *\n * Do not edit or add to this file if you wish to upgrade Magento to newer\n * versions in the future. If you wish to customize Magento for your\n * needs please refer to http:\/\/www.magento.com for more information.\n *\n * @category    Mage\n * @package     Mage_Rule\n * @copyright  Copyright (c) 2006-2016 X.commerce, Inc. and affiliates (http:\/\/www.magento.com)\n * @license    http:\/\/opensource.org\/licenses\/osl-3.0.php  Open Software License (OSL 3.0)\n *\/",2],["T_WHITESPACE","\n\n\n",25],["T_DOC_COMMENT","\/**\n * Quote rule action abstract\n *\n * @category   Mage\n * @package    Mage_Rule\n * @author      Magento Core Team <core@magentocommerce.com>\n *\/",28],["T_WHITESPACE","\n",34],["T_ABSTRACT","abstract",35],["T_WHITESPACE"," ",35],["T_CLASS","class",35],["T_WHITESPACE"," ",35],["T_STRING","Mage_Rule_Model_Action_Abstract",35],["T_WHITESPACE"," ",35],["T_EXTENDS","extends",35],["T_WHITESPACE"," ",35],["T_STRING","Varien_Object",35],["T_WHITESPACE"," ",35],["T_IMPLEMENTS","implements",35],["T_WHITESPACE"," ",35],["T_STRING","Mage_Rule_Model_Action_Interface",35],["T_WHITESPACE","\n",35],"{",["T_WHITESPACE","\n    ",36],["T_PUBLIC","public",37],["T_WHITESPACE"," ",37],["T_FUNCTION","function",37],["T_WHITESPACE"," ",37],["T_STRING","__construct",37],"(",")",["T_WHITESPACE","\n    ",37],"{",["T_WHITESPACE","\n        ",38],["T_STRING","parent",39],["T_DOUBLE_COLON","::",39],["T_STRING","__construct",39],"(",")",";",["T_WHITESPACE","\n        ",39],["T_VARIABLE","$this",40],["T_OBJECT_OPERATOR","->",40],["T_STRING","loadAttributeOptions",40],"(",")",["T_OBJECT_OPERATOR","->",40],["T_STRING","loadOperatorOptions",40],"(",")",["T_OBJECT_OPERATOR","->",40],["T_STRING","loadValueOptions",40],"(",")",";",["T_WHITESPACE","\n\n        ",40],["T_FOREACH","foreach",42],["T_WHITESPACE"," ",42],"(",["T_VARIABLE","$this",42],["T_OBJECT_OPERATOR","->",42],["T_STRING","getAttributeOption",42],"(",")",["T_WHITESPACE"," ",42],["T_AS","as",42],["T_WHITESPACE"," ",42],["T_VARIABLE","$attr",42],["T_DOUBLE_ARROW","=>",42],["T_VARIABLE","$dummy",42],")",["T_WHITESPACE"," ",42],"{",["T_WHITESPACE"," ",42],["T_VARIABLE","$this",42],["T_OBJECT_OPERATOR","->",42],["T_STRING","setAttribute",42],"(",["T_VARIABLE","$attr",42],")",";",["T_WHITESPACE"," ",42],["T_BREAK","break",42],";",["T_WHITESPACE"," ",42],"}",["T_WHITESPACE","\n        ",42],["T_FOREACH","foreach",43],["T_WHITESPACE"," ",43],"(",["T_VARIABLE","$this",43],["T_OBJECT_OPERATOR","->",43],["T_STRING","getOperatorOption",43],"(",")",["T_WHITESPACE"," ",43],["T_AS","as",43],["T_WHITESPACE"," ",43],["T_VARIABLE","$operator",43],["T_DOUBLE_ARROW","=>",43],["T_VARIABLE","$dummy",43],")",["T_WHITESPACE"," ",43],"{",["T_WHITESPACE"," ",43],["T_VARIABLE","$this",43],["T_OBJECT_OPERATOR","->",43],["T_STRING","setOperator",43],"(",["T_VARIABLE","$operator",43],")",";",["T_WHITESPACE"," ",43],["T_BREAK","break",43],";",["T_WHITESPACE"," ",43],"}",["T_WHITESPACE","\n    ",43],"}",["T_WHITESPACE","\n\n    ",44],["T_PUBLIC","public",46],["T_WHITESPACE"," ",46],["T_FUNCTION","function",46],["T_WHITESPACE"," ",46],["T_STRING","getForm",46],"(",")",["T_WHITESPACE","\n    ",46],"{",["T_WHITESPACE","\n        ",47],["T_RETURN","return",48],["T_WHITESPACE"," ",48],["T_VARIABLE","$this",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","getRule",48],"(",")",["T_OBJECT_OPERATOR","->",48],["T_STRING","getForm",48],"(",")",";",["T_WHITESPACE","\n    ",48],"}",["T_WHITESPACE","\n\n    ",49],["T_PUBLIC","public",51],["T_WHITESPACE"," ",51],["T_FUNCTION","function",51],["T_WHITESPACE"," ",51],["T_STRING","asArray",51],"(",["T_ARRAY","array",51],["T_WHITESPACE"," ",51],["T_VARIABLE","$arrAttributes",51],["T_WHITESPACE"," ",51],"=",["T_WHITESPACE"," ",51],["T_ARRAY","array",51],"(",")",")",["T_WHITESPACE","\n    ",51],"{",["T_WHITESPACE","\n        ",52],["T_VARIABLE","$out",53],["T_WHITESPACE"," ",53],"=",["T_WHITESPACE"," ",53],["T_ARRAY","array",53],"(",["T_WHITESPACE","\n            ",53],["T_CONSTANT_ENCAPSED_STRING","'type'",54],["T_DOUBLE_ARROW","=>",54],["T_VARIABLE","$this",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","getType",54],"(",")",",",["T_WHITESPACE","\n            ",54],["T_CONSTANT_ENCAPSED_STRING","'attribute'",55],["T_DOUBLE_ARROW","=>",55],["T_VARIABLE","$this",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","getAttribute",55],"(",")",",",["T_WHITESPACE","\n            ",55],["T_CONSTANT_ENCAPSED_STRING","'operator'",56],["T_DOUBLE_ARROW","=>",56],["T_VARIABLE","$this",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","getOperator",56],"(",")",",",["T_WHITESPACE","\n            ",56],["T_CONSTANT_ENCAPSED_STRING","'value'",57],["T_DOUBLE_ARROW","=>",57],["T_VARIABLE","$this",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","getValue",57],"(",")",",",["T_WHITESPACE","\n        ",57],")",";",["T_WHITESPACE","\n        ",58],["T_RETURN","return",59],["T_WHITESPACE"," ",59],["T_VARIABLE","$out",59],";",["T_WHITESPACE","\n    ",59],"}",["T_WHITESPACE","\n\n    ",60],["T_PUBLIC","public",62],["T_WHITESPACE"," ",62],["T_FUNCTION","function",62],["T_WHITESPACE"," ",62],["T_STRING","asXml",62],"(",")",["T_WHITESPACE","\n    ",62],"{",["T_WHITESPACE","\n        ",63],["T_VARIABLE","$xml",64],["T_WHITESPACE"," ",64],"=",["T_WHITESPACE"," ",64],["T_CONSTANT_ENCAPSED_STRING","\"<type>\"",64],".",["T_VARIABLE","$this",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","getType",64],"(",")",".",["T_CONSTANT_ENCAPSED_STRING","\"<\/type>\"",64],["T_WHITESPACE","\n            ",64],".",["T_CONSTANT_ENCAPSED_STRING","\"<attribute>\"",65],".",["T_VARIABLE","$this",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","getAttribute",65],"(",")",".",["T_CONSTANT_ENCAPSED_STRING","\"<\/attribute>\"",65],["T_WHITESPACE","\n            ",65],".",["T_CONSTANT_ENCAPSED_STRING","\"<operator>\"",66],".",["T_VARIABLE","$this",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","getOperator",66],"(",")",".",["T_CONSTANT_ENCAPSED_STRING","\"<\/operator>\"",66],["T_WHITESPACE","\n            ",66],".",["T_CONSTANT_ENCAPSED_STRING","\"<value>\"",67],".",["T_VARIABLE","$this",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","getValue",67],"(",")",".",["T_CONSTANT_ENCAPSED_STRING","\"<\/value>\"",67],";",["T_WHITESPACE","\n        ",67],["T_RETURN","return",68],["T_WHITESPACE"," ",68],["T_VARIABLE","$xml",68],";",["T_WHITESPACE","\n    ",68],"}",["T_WHITESPACE","\n\n    ",69],["T_PUBLIC","public",71],["T_WHITESPACE"," ",71],["T_FUNCTION","function",71],["T_WHITESPACE"," ",71],["T_STRING","loadArray",71],"(",["T_ARRAY","array",71],["T_WHITESPACE"," ",71],["T_VARIABLE","$arr",71],")",["T_WHITESPACE","\n    ",71],"{",["T_WHITESPACE","\n        ",72],["T_VARIABLE","$this",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","addData",73],"(",["T_ARRAY","array",73],"(",["T_WHITESPACE","\n            ",73],["T_CONSTANT_ENCAPSED_STRING","'type'",74],["T_DOUBLE_ARROW","=>",74],["T_VARIABLE","$arr",74],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",74],"]",",",["T_WHITESPACE","\n            ",74],["T_CONSTANT_ENCAPSED_STRING","'attribute'",75],["T_DOUBLE_ARROW","=>",75],["T_VARIABLE","$arr",75],"[",["T_CONSTANT_ENCAPSED_STRING","'attribute'",75],"]",",",["T_WHITESPACE","\n            ",75],["T_CONSTANT_ENCAPSED_STRING","'operator'",76],["T_DOUBLE_ARROW","=>",76],["T_VARIABLE","$arr",76],"[",["T_CONSTANT_ENCAPSED_STRING","'operator'",76],"]",",",["T_WHITESPACE","\n            ",76],["T_CONSTANT_ENCAPSED_STRING","'value'",77],["T_DOUBLE_ARROW","=>",77],["T_VARIABLE","$arr",77],"[",["T_CONSTANT_ENCAPSED_STRING","'value'",77],"]",",",["T_WHITESPACE","\n        ",77],")",")",";",["T_WHITESPACE","\n        ",78],["T_VARIABLE","$this",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","loadAttributeOptions",79],"(",")",";",["T_WHITESPACE","\n        ",79],["T_VARIABLE","$this",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","loadOperatorOptions",80],"(",")",";",["T_WHITESPACE","\n        ",80],["T_VARIABLE","$this",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","loadValueOptions",81],"(",")",";",["T_WHITESPACE","\n        ",81],["T_RETURN","return",82],["T_WHITESPACE"," ",82],["T_VARIABLE","$this",82],";",["T_WHITESPACE","\n    ",82],"}",["T_WHITESPACE","\n\n    ",83],["T_PUBLIC","public",85],["T_WHITESPACE"," ",85],["T_FUNCTION","function",85],["T_WHITESPACE"," ",85],["T_STRING","loadAttributeOptions",85],"(",")",["T_WHITESPACE","\n    ",85],"{",["T_WHITESPACE","\n        ",86],["T_VARIABLE","$this",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","setAttributeOption",87],"(",["T_ARRAY","array",87],"(",")",")",";",["T_WHITESPACE","\n        ",87],["T_RETURN","return",88],["T_WHITESPACE"," ",88],["T_VARIABLE","$this",88],";",["T_WHITESPACE","\n    ",88],"}",["T_WHITESPACE","\n\n    ",89],["T_PUBLIC","public",91],["T_WHITESPACE"," ",91],["T_FUNCTION","function",91],["T_WHITESPACE"," ",91],["T_STRING","getAttributeSelectOptions",91],"(",")",["T_WHITESPACE","\n    ",91],"{",["T_WHITESPACE","\n        ",92],["T_VARIABLE","$opt",93],["T_WHITESPACE"," ",93],"=",["T_WHITESPACE"," ",93],["T_ARRAY","array",93],"(",")",";",["T_WHITESPACE","\n        ",93],["T_FOREACH","foreach",94],["T_WHITESPACE"," ",94],"(",["T_VARIABLE","$this",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","getAttributeOption",94],"(",")",["T_WHITESPACE"," ",94],["T_AS","as",94],["T_WHITESPACE"," ",94],["T_VARIABLE","$k",94],["T_DOUBLE_ARROW","=>",94],["T_VARIABLE","$v",94],")",["T_WHITESPACE"," ",94],"{",["T_WHITESPACE","\n            ",94],["T_VARIABLE","$opt",95],"[","]",["T_WHITESPACE"," ",95],"=",["T_WHITESPACE"," ",95],["T_ARRAY","array",95],"(",["T_CONSTANT_ENCAPSED_STRING","'value'",95],["T_DOUBLE_ARROW","=>",95],["T_VARIABLE","$k",95],",",["T_WHITESPACE"," ",95],["T_CONSTANT_ENCAPSED_STRING","'label'",95],["T_DOUBLE_ARROW","=>",95],["T_VARIABLE","$v",95],")",";",["T_WHITESPACE","\n        ",95],"}",["T_WHITESPACE","\n        ",96],["T_RETURN","return",97],["T_WHITESPACE"," ",97],["T_VARIABLE","$opt",97],";",["T_WHITESPACE","\n    ",97],"}",["T_WHITESPACE","\n\n    ",98],["T_PUBLIC","public",100],["T_WHITESPACE"," ",100],["T_FUNCTION","function",100],["T_WHITESPACE"," ",100],["T_STRING","getAttributeName",100],"(",")",["T_WHITESPACE","\n    ",100],"{",["T_WHITESPACE","\n        ",101],["T_RETURN","return",102],["T_WHITESPACE"," ",102],["T_VARIABLE","$this",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","getAttributeOption",102],"(",["T_VARIABLE","$this",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","getAttribute",102],"(",")",")",";",["T_WHITESPACE","\n    ",102],"}",["T_WHITESPACE","\n\n    ",103],["T_PUBLIC","public",105],["T_WHITESPACE"," ",105],["T_FUNCTION","function",105],["T_WHITESPACE"," ",105],["T_STRING","loadOperatorOptions",105],"(",")",["T_WHITESPACE","\n    ",105],"{",["T_WHITESPACE","\n        ",106],["T_VARIABLE","$this",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","setOperatorOption",107],"(",["T_ARRAY","array",107],"(",["T_WHITESPACE","\n            ",107],["T_CONSTANT_ENCAPSED_STRING","'='",108],["T_WHITESPACE"," ",108],["T_DOUBLE_ARROW","=>",108],["T_WHITESPACE"," ",108],["T_STRING","Mage",108],["T_DOUBLE_COLON","::",108],["T_STRING","helper",108],"(",["T_CONSTANT_ENCAPSED_STRING","'rule'",108],")",["T_OBJECT_OPERATOR","->",108],["T_STRING","__",108],"(",["T_CONSTANT_ENCAPSED_STRING","'to'",108],")",",",["T_WHITESPACE","\n            ",108],["T_CONSTANT_ENCAPSED_STRING","'+='",109],["T_WHITESPACE"," ",109],["T_DOUBLE_ARROW","=>",109],["T_WHITESPACE"," ",109],["T_STRING","Mage",109],["T_DOUBLE_COLON","::",109],["T_STRING","helper",109],"(",["T_CONSTANT_ENCAPSED_STRING","'rule'",109],")",["T_OBJECT_OPERATOR","->",109],["T_STRING","__",109],"(",["T_CONSTANT_ENCAPSED_STRING","'by'",109],")",",",["T_WHITESPACE","\n        ",109],")",")",";",["T_WHITESPACE","\n        ",110],["T_RETURN","return",111],["T_WHITESPACE"," ",111],["T_VARIABLE","$this",111],";",["T_WHITESPACE","\n    ",111],"}",["T_WHITESPACE","\n\n    ",112],["T_PUBLIC","public",114],["T_WHITESPACE"," ",114],["T_FUNCTION","function",114],["T_WHITESPACE"," ",114],["T_STRING","getOperatorSelectOptions",114],"(",")",["T_WHITESPACE","\n    ",114],"{",["T_WHITESPACE","\n        ",115],["T_VARIABLE","$opt",116],["T_WHITESPACE"," ",116],"=",["T_WHITESPACE"," ",116],["T_ARRAY","array",116],"(",")",";",["T_WHITESPACE","\n        ",116],["T_FOREACH","foreach",117],["T_WHITESPACE"," ",117],"(",["T_VARIABLE","$this",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","getOperatorOption",117],"(",")",["T_WHITESPACE"," ",117],["T_AS","as",117],["T_WHITESPACE"," ",117],["T_VARIABLE","$k",117],["T_DOUBLE_ARROW","=>",117],["T_VARIABLE","$v",117],")",["T_WHITESPACE"," ",117],"{",["T_WHITESPACE","\n            ",117],["T_VARIABLE","$opt",118],"[","]",["T_WHITESPACE"," ",118],"=",["T_WHITESPACE"," ",118],["T_ARRAY","array",118],"(",["T_CONSTANT_ENCAPSED_STRING","'value'",118],["T_DOUBLE_ARROW","=>",118],["T_VARIABLE","$k",118],",",["T_WHITESPACE"," ",118],["T_CONSTANT_ENCAPSED_STRING","'label'",118],["T_DOUBLE_ARROW","=>",118],["T_VARIABLE","$v",118],")",";",["T_WHITESPACE","\n        ",118],"}",["T_WHITESPACE","\n        ",119],["T_RETURN","return",120],["T_WHITESPACE"," ",120],["T_VARIABLE","$opt",120],";",["T_WHITESPACE","\n    ",120],"}",["T_WHITESPACE","\n\n    ",121],["T_PUBLIC","public",123],["T_WHITESPACE"," ",123],["T_FUNCTION","function",123],["T_WHITESPACE"," ",123],["T_STRING","getOperatorName",123],"(",")",["T_WHITESPACE","\n    ",123],"{",["T_WHITESPACE","\n        ",124],["T_RETURN","return",125],["T_WHITESPACE"," ",125],["T_VARIABLE","$this",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","getOperatorOption",125],"(",["T_VARIABLE","$this",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","getOperator",125],"(",")",")",";",["T_WHITESPACE","\n    ",125],"}",["T_WHITESPACE","\n\n    ",126],["T_PUBLIC","public",128],["T_WHITESPACE"," ",128],["T_FUNCTION","function",128],["T_WHITESPACE"," ",128],["T_STRING","loadValueOptions",128],"(",")",["T_WHITESPACE","\n    ",128],"{",["T_WHITESPACE","\n        ",129],["T_VARIABLE","$this",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","setValueOption",130],"(",["T_ARRAY","array",130],"(",")",")",";",["T_WHITESPACE","\n        ",130],["T_RETURN","return",131],["T_WHITESPACE"," ",131],["T_VARIABLE","$this",131],";",["T_WHITESPACE","\n    ",131],"}",["T_WHITESPACE","\n\n    ",132],["T_PUBLIC","public",134],["T_WHITESPACE"," ",134],["T_FUNCTION","function",134],["T_WHITESPACE"," ",134],["T_STRING","getValueSelectOptions",134],"(",")",["T_WHITESPACE","\n    ",134],"{",["T_WHITESPACE","\n        ",135],["T_VARIABLE","$opt",136],["T_WHITESPACE"," ",136],"=",["T_WHITESPACE"," ",136],["T_ARRAY","array",136],"(",")",";",["T_WHITESPACE","\n        ",136],["T_FOREACH","foreach",137],["T_WHITESPACE"," ",137],"(",["T_VARIABLE","$this",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","getValueOption",137],"(",")",["T_WHITESPACE"," ",137],["T_AS","as",137],["T_WHITESPACE"," ",137],["T_VARIABLE","$k",137],["T_DOUBLE_ARROW","=>",137],["T_VARIABLE","$v",137],")",["T_WHITESPACE"," ",137],"{",["T_WHITESPACE","\n            ",137],["T_VARIABLE","$opt",138],"[","]",["T_WHITESPACE"," ",138],"=",["T_WHITESPACE"," ",138],["T_ARRAY","array",138],"(",["T_CONSTANT_ENCAPSED_STRING","'value'",138],["T_DOUBLE_ARROW","=>",138],["T_VARIABLE","$k",138],",",["T_WHITESPACE"," ",138],["T_CONSTANT_ENCAPSED_STRING","'label'",138],["T_DOUBLE_ARROW","=>",138],["T_VARIABLE","$v",138],")",";",["T_WHITESPACE","\n        ",138],"}",["T_WHITESPACE","\n        ",139],["T_RETURN","return",140],["T_WHITESPACE"," ",140],["T_VARIABLE","$opt",140],";",["T_WHITESPACE","\n    ",140],"}",["T_WHITESPACE","\n\n    ",141],["T_PUBLIC","public",143],["T_WHITESPACE"," ",143],["T_FUNCTION","function",143],["T_WHITESPACE"," ",143],["T_STRING","getValueName",143],"(",")",["T_WHITESPACE","\n    ",143],"{",["T_WHITESPACE","\n        ",144],["T_VARIABLE","$value",145],["T_WHITESPACE"," ",145],"=",["T_WHITESPACE"," ",145],["T_VARIABLE","$this",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","getValue",145],"(",")",";",["T_WHITESPACE","\n        ",145],["T_RETURN","return",146],["T_WHITESPACE"," ",146],"!",["T_EMPTY","empty",146],"(",["T_VARIABLE","$value",146],")",["T_WHITESPACE"," ",146],["T_BOOLEAN_OR","||",146],["T_WHITESPACE"," ",146],["T_LNUMBER","0",146],["T_IS_IDENTICAL","===",146],["T_VARIABLE","$value",146],["T_WHITESPACE"," ",146],"?",["T_WHITESPACE"," ",146],["T_VARIABLE","$value",146],["T_WHITESPACE"," ",146],":",["T_WHITESPACE"," ",146],["T_CONSTANT_ENCAPSED_STRING","'...'",146],";",";",["T_WHITESPACE","\n    ",146],"}",["T_WHITESPACE","\n\n    ",147],["T_PUBLIC","public",149],["T_WHITESPACE"," ",149],["T_FUNCTION","function",149],["T_WHITESPACE"," ",149],["T_STRING","getNewChildSelectOptions",149],"(",")",["T_WHITESPACE","\n    ",149],"{",["T_WHITESPACE","\n        ",150],["T_RETURN","return",151],["T_WHITESPACE"," ",151],["T_ARRAY","array",151],"(",["T_WHITESPACE","\n            ",151],["T_ARRAY","array",152],"(",["T_CONSTANT_ENCAPSED_STRING","'value'",152],["T_DOUBLE_ARROW","=>",152],["T_CONSTANT_ENCAPSED_STRING","''",152],",",["T_WHITESPACE"," ",152],["T_CONSTANT_ENCAPSED_STRING","'label'",152],["T_DOUBLE_ARROW","=>",152],["T_STRING","Mage",152],["T_DOUBLE_COLON","::",152],["T_STRING","helper",152],"(",["T_CONSTANT_ENCAPSED_STRING","'rule'",152],")",["T_OBJECT_OPERATOR","->",152],["T_STRING","__",152],"(",["T_CONSTANT_ENCAPSED_STRING","'Please choose an action to add...'",152],")",")",",",["T_WHITESPACE","\n        ",152],")",";",["T_WHITESPACE","\n    ",153],"}",["T_WHITESPACE","\n\n    ",154],["T_PUBLIC","public",156],["T_WHITESPACE"," ",156],["T_FUNCTION","function",156],["T_WHITESPACE"," ",156],["T_STRING","getNewChildName",156],"(",")",["T_WHITESPACE","\n    ",156],"{",["T_WHITESPACE","\n        ",157],["T_RETURN","return",158],["T_WHITESPACE"," ",158],["T_VARIABLE","$this",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","getAddLinkHtml",158],"(",")",";",["T_WHITESPACE","\n    ",158],"}",["T_WHITESPACE","\n\n    ",159],["T_PUBLIC","public",161],["T_WHITESPACE"," ",161],["T_FUNCTION","function",161],["T_WHITESPACE"," ",161],["T_STRING","asHtml",161],"(",")",["T_WHITESPACE","\n    ",161],"{",["T_WHITESPACE","\n        ",162],["T_RETURN","return",163],["T_WHITESPACE"," ",163],["T_CONSTANT_ENCAPSED_STRING","''",163],";",["T_WHITESPACE","\n    ",163],"}",["T_WHITESPACE","\n\n    ",164],["T_PUBLIC","public",166],["T_WHITESPACE"," ",166],["T_FUNCTION","function",166],["T_WHITESPACE"," ",166],["T_STRING","asHtmlRecursive",166],"(",")",["T_WHITESPACE","\n    ",166],"{",["T_WHITESPACE","\n        ",167],["T_VARIABLE","$str",168],["T_WHITESPACE"," ",168],"=",["T_WHITESPACE"," ",168],["T_VARIABLE","$this",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","asHtml",168],"(",")",";",["T_WHITESPACE","\n        ",168],["T_RETURN","return",169],["T_WHITESPACE"," ",169],["T_VARIABLE","$str",169],";",["T_WHITESPACE","\n    ",169],"}",["T_WHITESPACE","\n\n    ",170],["T_PUBLIC","public",172],["T_WHITESPACE"," ",172],["T_FUNCTION","function",172],["T_WHITESPACE"," ",172],["T_STRING","getTypeElement",172],"(",")",["T_WHITESPACE","\n    ",172],"{",["T_WHITESPACE","\n        ",173],["T_RETURN","return",174],["T_WHITESPACE"," ",174],["T_VARIABLE","$this",174],["T_OBJECT_OPERATOR","->",174],["T_STRING","getForm",174],"(",")",["T_OBJECT_OPERATOR","->",174],["T_STRING","addField",174],"(",["T_CONSTANT_ENCAPSED_STRING","'action:'",174],".",["T_VARIABLE","$this",174],["T_OBJECT_OPERATOR","->",174],["T_STRING","getId",174],"(",")",".",["T_CONSTANT_ENCAPSED_STRING","':type'",174],",",["T_WHITESPACE"," ",174],["T_CONSTANT_ENCAPSED_STRING","'hidden'",174],",",["T_WHITESPACE"," ",174],["T_ARRAY","array",174],"(",["T_WHITESPACE","\n            ",174],["T_CONSTANT_ENCAPSED_STRING","'name'",175],["T_DOUBLE_ARROW","=>",175],["T_CONSTANT_ENCAPSED_STRING","'rule[actions]['",175],".",["T_VARIABLE","$this",175],["T_OBJECT_OPERATOR","->",175],["T_STRING","getId",175],"(",")",".",["T_CONSTANT_ENCAPSED_STRING","'][type]'",175],",",["T_WHITESPACE","\n            ",175],["T_CONSTANT_ENCAPSED_STRING","'value'",176],["T_DOUBLE_ARROW","=>",176],["T_VARIABLE","$this",176],["T_OBJECT_OPERATOR","->",176],["T_STRING","getType",176],"(",")",",",["T_WHITESPACE","\n            ",176],["T_CONSTANT_ENCAPSED_STRING","'no_span'",177],["T_DOUBLE_ARROW","=>",177],["T_STRING","true",177],",",["T_WHITESPACE","\n        ",177],")",")",";",["T_WHITESPACE","\n    ",178],"}",["T_WHITESPACE","\n\n    ",179],["T_PUBLIC","public",181],["T_WHITESPACE"," ",181],["T_FUNCTION","function",181],["T_WHITESPACE"," ",181],["T_STRING","getAttributeElement",181],"(",")",["T_WHITESPACE","\n    ",181],"{",["T_WHITESPACE","\n        ",182],["T_RETURN","return",183],["T_WHITESPACE"," ",183],["T_VARIABLE","$this",183],["T_OBJECT_OPERATOR","->",183],["T_STRING","getForm",183],"(",")",["T_OBJECT_OPERATOR","->",183],["T_STRING","addField",183],"(",["T_CONSTANT_ENCAPSED_STRING","'action:'",183],".",["T_VARIABLE","$this",183],["T_OBJECT_OPERATOR","->",183],["T_STRING","getId",183],"(",")",".",["T_CONSTANT_ENCAPSED_STRING","':attribute'",183],",",["T_WHITESPACE"," ",183],["T_CONSTANT_ENCAPSED_STRING","'select'",183],",",["T_WHITESPACE"," ",183],["T_ARRAY","array",183],"(",["T_WHITESPACE","\n            ",183],["T_CONSTANT_ENCAPSED_STRING","'name'",184],["T_DOUBLE_ARROW","=>",184],["T_CONSTANT_ENCAPSED_STRING","'rule[actions]['",184],".",["T_VARIABLE","$this",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","getId",184],"(",")",".",["T_CONSTANT_ENCAPSED_STRING","'][attribute]'",184],",",["T_WHITESPACE","\n            ",184],["T_CONSTANT_ENCAPSED_STRING","'values'",185],["T_DOUBLE_ARROW","=>",185],["T_VARIABLE","$this",185],["T_OBJECT_OPERATOR","->",185],["T_STRING","getAttributeSelectOptions",185],"(",")",",",["T_WHITESPACE","\n            ",185],["T_CONSTANT_ENCAPSED_STRING","'value'",186],["T_DOUBLE_ARROW","=>",186],["T_VARIABLE","$this",186],["T_OBJECT_OPERATOR","->",186],["T_STRING","getAttribute",186],"(",")",",",["T_WHITESPACE","\n            ",186],["T_CONSTANT_ENCAPSED_STRING","'value_name'",187],["T_DOUBLE_ARROW","=>",187],["T_VARIABLE","$this",187],["T_OBJECT_OPERATOR","->",187],["T_STRING","getAttributeName",187],"(",")",",",["T_WHITESPACE","\n        ",187],")",")",["T_OBJECT_OPERATOR","->",188],["T_STRING","setRenderer",188],"(",["T_STRING","Mage",188],["T_DOUBLE_COLON","::",188],["T_STRING","getBlockSingleton",188],"(",["T_CONSTANT_ENCAPSED_STRING","'rule\/editable'",188],")",")",";",["T_WHITESPACE","\n    ",188],"}",["T_WHITESPACE","\n\n    ",189],["T_PUBLIC","public",191],["T_WHITESPACE"," ",191],["T_FUNCTION","function",191],["T_WHITESPACE"," ",191],["T_STRING","getOperatorElement",191],"(",")",["T_WHITESPACE","\n    ",191],"{",["T_WHITESPACE","\n        ",192],["T_RETURN","return",193],["T_WHITESPACE"," ",193],["T_VARIABLE","$this",193],["T_OBJECT_OPERATOR","->",193],["T_STRING","getForm",193],"(",")",["T_OBJECT_OPERATOR","->",193],["T_STRING","addField",193],"(",["T_CONSTANT_ENCAPSED_STRING","'action:'",193],".",["T_VARIABLE","$this",193],["T_OBJECT_OPERATOR","->",193],["T_STRING","getId",193],"(",")",".",["T_CONSTANT_ENCAPSED_STRING","':operator'",193],",",["T_WHITESPACE"," ",193],["T_CONSTANT_ENCAPSED_STRING","'select'",193],",",["T_WHITESPACE"," ",193],["T_ARRAY","array",193],"(",["T_WHITESPACE","\n            ",193],["T_CONSTANT_ENCAPSED_STRING","'name'",194],["T_DOUBLE_ARROW","=>",194],["T_CONSTANT_ENCAPSED_STRING","'rule[actions]['",194],".",["T_VARIABLE","$this",194],["T_OBJECT_OPERATOR","->",194],["T_STRING","getId",194],"(",")",".",["T_CONSTANT_ENCAPSED_STRING","'][operator]'",194],",",["T_WHITESPACE","\n            ",194],["T_CONSTANT_ENCAPSED_STRING","'values'",195],["T_DOUBLE_ARROW","=>",195],["T_VARIABLE","$this",195],["T_OBJECT_OPERATOR","->",195],["T_STRING","getOperatorSelectOptions",195],"(",")",",",["T_WHITESPACE","\n            ",195],["T_CONSTANT_ENCAPSED_STRING","'value'",196],["T_DOUBLE_ARROW","=>",196],["T_VARIABLE","$this",196],["T_OBJECT_OPERATOR","->",196],["T_STRING","getOperator",196],"(",")",",",["T_WHITESPACE","\n            ",196],["T_CONSTANT_ENCAPSED_STRING","'value_name'",197],["T_DOUBLE_ARROW","=>",197],["T_VARIABLE","$this",197],["T_OBJECT_OPERATOR","->",197],["T_STRING","getOperatorName",197],"(",")",",",["T_WHITESPACE","\n        ",197],")",")",["T_OBJECT_OPERATOR","->",198],["T_STRING","setRenderer",198],"(",["T_STRING","Mage",198],["T_DOUBLE_COLON","::",198],["T_STRING","getBlockSingleton",198],"(",["T_CONSTANT_ENCAPSED_STRING","'rule\/editable'",198],")",")",";",["T_WHITESPACE","\n    ",198],"}",["T_WHITESPACE","\n\n    ",199],["T_PUBLIC","public",201],["T_WHITESPACE"," ",201],["T_FUNCTION","function",201],["T_WHITESPACE"," ",201],["T_STRING","getValueElement",201],"(",")",["T_WHITESPACE","\n    ",201],"{",["T_WHITESPACE","\n        ",202],["T_RETURN","return",203],["T_WHITESPACE"," ",203],["T_VARIABLE","$this",203],["T_OBJECT_OPERATOR","->",203],["T_STRING","getForm",203],"(",")",["T_OBJECT_OPERATOR","->",203],["T_STRING","addField",203],"(",["T_CONSTANT_ENCAPSED_STRING","'action:'",203],".",["T_VARIABLE","$this",203],["T_OBJECT_OPERATOR","->",203],["T_STRING","getId",203],"(",")",".",["T_CONSTANT_ENCAPSED_STRING","':value'",203],",",["T_WHITESPACE"," ",203],["T_CONSTANT_ENCAPSED_STRING","'text'",203],",",["T_WHITESPACE"," ",203],["T_ARRAY","array",203],"(",["T_WHITESPACE","\n            ",203],["T_CONSTANT_ENCAPSED_STRING","'name'",204],["T_DOUBLE_ARROW","=>",204],["T_CONSTANT_ENCAPSED_STRING","'rule[actions]['",204],".",["T_VARIABLE","$this",204],["T_OBJECT_OPERATOR","->",204],["T_STRING","getId",204],"(",")",".",["T_CONSTANT_ENCAPSED_STRING","'][value]'",204],",",["T_WHITESPACE","\n            ",204],["T_CONSTANT_ENCAPSED_STRING","'value'",205],["T_DOUBLE_ARROW","=>",205],["T_VARIABLE","$this",205],["T_OBJECT_OPERATOR","->",205],["T_STRING","getValue",205],"(",")",",",["T_WHITESPACE","\n            ",205],["T_CONSTANT_ENCAPSED_STRING","'value_name'",206],["T_DOUBLE_ARROW","=>",206],["T_VARIABLE","$this",206],["T_OBJECT_OPERATOR","->",206],["T_STRING","getValueName",206],"(",")",",",["T_WHITESPACE","\n        ",206],")",")",["T_OBJECT_OPERATOR","->",207],["T_STRING","setRenderer",207],"(",["T_STRING","Mage",207],["T_DOUBLE_COLON","::",207],["T_STRING","getBlockSingleton",207],"(",["T_CONSTANT_ENCAPSED_STRING","'rule\/editable'",207],")",")",";",["T_WHITESPACE","\n    ",207],"}",["T_WHITESPACE","\n\n    ",208],["T_PUBLIC","public",210],["T_WHITESPACE"," ",210],["T_FUNCTION","function",210],["T_WHITESPACE"," ",210],["T_STRING","getAddLinkHtml",210],"(",")",["T_WHITESPACE","\n    ",210],"{",["T_WHITESPACE","\n        ",211],["T_VARIABLE","$src",212],["T_WHITESPACE"," ",212],"=",["T_WHITESPACE"," ",212],["T_STRING","Mage",212],["T_DOUBLE_COLON","::",212],["T_STRING","getDesign",212],"(",")",["T_OBJECT_OPERATOR","->",212],["T_STRING","getSkinUrl",212],"(",["T_CONSTANT_ENCAPSED_STRING","'images\/rule_component_add.gif'",212],")",";",["T_WHITESPACE","\n        ",212],["T_VARIABLE","$html",213],["T_WHITESPACE"," ",213],"=",["T_WHITESPACE"," ",213],["T_CONSTANT_ENCAPSED_STRING","'<img src=\"'",213],".",["T_VARIABLE","$src",213],".",["T_CONSTANT_ENCAPSED_STRING","'\" alt=\"\" class=\"rule-param-add v-middle\" \/>'",213],";",["T_WHITESPACE","\n        ",213],["T_RETURN","return",214],["T_WHITESPACE"," ",214],["T_VARIABLE","$html",214],";",["T_WHITESPACE","\n    ",214],"}",["T_WHITESPACE","\n\n\n    ",215],["T_PUBLIC","public",218],["T_WHITESPACE"," ",218],["T_FUNCTION","function",218],["T_WHITESPACE"," ",218],["T_STRING","getRemoveLinkHtml",218],"(",")",["T_WHITESPACE","\n    ",218],"{",["T_WHITESPACE","\n        ",219],["T_VARIABLE","$src",220],["T_WHITESPACE"," ",220],"=",["T_WHITESPACE"," ",220],["T_STRING","Mage",220],["T_DOUBLE_COLON","::",220],["T_STRING","getDesign",220],"(",")",["T_OBJECT_OPERATOR","->",220],["T_STRING","getSkinUrl",220],"(",["T_CONSTANT_ENCAPSED_STRING","'images\/rule_component_remove.gif'",220],")",";",["T_WHITESPACE","\n        ",220],["T_VARIABLE","$html",221],["T_WHITESPACE"," ",221],"=",["T_WHITESPACE"," ",221],["T_CONSTANT_ENCAPSED_STRING","'<span class=\"rule-param\"><a href=\"javascript:void(0)\" class=\"rule-param-remove\"><img src=\"'",221],["T_WHITESPACE","\n            ",221],".",["T_WHITESPACE"," ",222],["T_VARIABLE","$src",222],["T_WHITESPACE"," ",222],".",["T_WHITESPACE"," ",222],["T_CONSTANT_ENCAPSED_STRING","'\" alt=\"\" class=\"v-middle\" \/><\/a><\/span>'",222],";",["T_WHITESPACE","\n        ",222],["T_RETURN","return",223],["T_WHITESPACE"," ",223],["T_VARIABLE","$html",223],";",["T_WHITESPACE","\n    ",223],"}",["T_WHITESPACE","\n\n    ",224],["T_PUBLIC","public",226],["T_WHITESPACE"," ",226],["T_FUNCTION","function",226],["T_WHITESPACE"," ",226],["T_STRING","asString",226],"(",["T_VARIABLE","$format",226],"=",["T_CONSTANT_ENCAPSED_STRING","''",226],")",["T_WHITESPACE","\n    ",226],"{",["T_WHITESPACE","\n        ",227],["T_RETURN","return",228],["T_WHITESPACE"," ",228],["T_CONSTANT_ENCAPSED_STRING","\"\"",228],";",["T_WHITESPACE","\n    ",228],"}",["T_WHITESPACE","\n\n    ",229],["T_PUBLIC","public",231],["T_WHITESPACE"," ",231],["T_FUNCTION","function",231],["T_WHITESPACE"," ",231],["T_STRING","asStringRecursive",231],"(",["T_VARIABLE","$level",231],"=",["T_LNUMBER","0",231],")",["T_WHITESPACE","\n    ",231],"{",["T_WHITESPACE","\n        ",232],["T_VARIABLE","$str",233],["T_WHITESPACE"," ",233],"=",["T_WHITESPACE"," ",233],["T_STRING","str_pad",233],"(",["T_CONSTANT_ENCAPSED_STRING","''",233],",",["T_WHITESPACE"," ",233],["T_VARIABLE","$level",233],"*",["T_LNUMBER","3",233],",",["T_WHITESPACE"," ",233],["T_CONSTANT_ENCAPSED_STRING","' '",233],",",["T_WHITESPACE"," ",233],["T_STRING","STR_PAD_LEFT",233],")",".",["T_VARIABLE","$this",233],["T_OBJECT_OPERATOR","->",233],["T_STRING","asString",233],"(",")",";",["T_WHITESPACE","\n        ",233],["T_RETURN","return",234],["T_WHITESPACE"," ",234],["T_VARIABLE","$str",234],";",["T_WHITESPACE","\n    ",234],"}",["T_WHITESPACE","\n\n    ",235],["T_PUBLIC","public",237],["T_WHITESPACE"," ",237],["T_FUNCTION","function",237],["T_WHITESPACE"," ",237],["T_STRING","process",237],"(",")",["T_WHITESPACE","\n    ",237],"{",["T_WHITESPACE","\n        ",238],["T_RETURN","return",239],["T_WHITESPACE"," ",239],["T_VARIABLE","$this",239],";",["T_WHITESPACE","\n    ",239],"}",["T_WHITESPACE","\n",240],"}",["T_WHITESPACE","\n",241]]