[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Magento\n *\n * NOTICE OF LICENSE\n *\n * This source file is subject to the Open Software License (OSL 3.0)\n * that is bundled with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/opensource.org\/licenses\/osl-3.0.php\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@magento.com so we can send you a copy immediately.\n *\n * DISCLAIMER\n *\n * Do not edit or add to this file if you wish to upgrade Magento to newer\n * versions in the future. If you wish to customize Magento for your\n * needs please refer to http:\/\/www.magento.com for more information.\n *\n * @category    Mage\n * @package     Mage_Rule\n * @copyright  Copyright (c) 2006-2016 X.commerce, Inc. and affiliates (http:\/\/www.magento.com)\n * @license    http:\/\/opensource.org\/licenses\/osl-3.0.php  Open Software License (OSL 3.0)\n *\/",2],["T_WHITESPACE","\n\n\n",25],["T_CLASS","class",28],["T_WHITESPACE"," ",28],["T_STRING","Mage_Rule_Model_Action_Collection",28],["T_WHITESPACE"," ",28],["T_EXTENDS","extends",28],["T_WHITESPACE"," ",28],["T_STRING","Mage_Rule_Model_Action_Abstract",28],["T_WHITESPACE","\n",28],"{",["T_WHITESPACE","\n    ",29],["T_PUBLIC","public",30],["T_WHITESPACE"," ",30],["T_FUNCTION","function",30],["T_WHITESPACE"," ",30],["T_STRING","__construct",30],"(",")",["T_WHITESPACE","\n    ",30],"{",["T_WHITESPACE","\n        ",31],["T_STRING","parent",32],["T_DOUBLE_COLON","::",32],["T_STRING","__construct",32],"(",")",";",["T_WHITESPACE","\n        ",32],["T_VARIABLE","$this",33],["T_OBJECT_OPERATOR","->",33],["T_STRING","setActions",33],"(",["T_ARRAY","array",33],"(",")",")",";",["T_WHITESPACE","\n        ",33],["T_VARIABLE","$this",34],["T_OBJECT_OPERATOR","->",34],["T_STRING","setType",34],"(",["T_CONSTANT_ENCAPSED_STRING","'rule\/action_collection'",34],")",";",["T_WHITESPACE","\n    ",34],"}",["T_WHITESPACE","\n\n    ",35],["T_DOC_COMMENT","\/**\n     * Returns array containing actions in the collection\n     *\n     * Output example:\n     * array(\n     *   {action::asArray},\n     *   {action::asArray}\n     * )\n     *\n     * @return array\n     *\/",37],["T_WHITESPACE","\n    ",47],["T_PUBLIC","public",48],["T_WHITESPACE"," ",48],["T_FUNCTION","function",48],["T_WHITESPACE"," ",48],["T_STRING","asArray",48],"(",["T_ARRAY","array",48],["T_WHITESPACE"," ",48],["T_VARIABLE","$arrAttributes",48],["T_WHITESPACE"," ",48],"=",["T_WHITESPACE"," ",48],["T_ARRAY","array",48],"(",")",")",["T_WHITESPACE","\n    ",48],"{",["T_WHITESPACE","\n        ",49],["T_VARIABLE","$out",50],["T_WHITESPACE"," ",50],"=",["T_WHITESPACE"," ",50],["T_STRING","parent",50],["T_DOUBLE_COLON","::",50],["T_STRING","asArray",50],"(",")",";",["T_WHITESPACE","\n\n        ",50],["T_FOREACH","foreach",52],["T_WHITESPACE"," ",52],"(",["T_VARIABLE","$this",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","getActions",52],"(",")",["T_WHITESPACE"," ",52],["T_AS","as",52],["T_WHITESPACE"," ",52],["T_VARIABLE","$item",52],")",["T_WHITESPACE"," ",52],"{",["T_WHITESPACE","\n            ",52],["T_VARIABLE","$out",53],"[",["T_CONSTANT_ENCAPSED_STRING","'actions'",53],"]","[","]",["T_WHITESPACE"," ",53],"=",["T_WHITESPACE"," ",53],["T_VARIABLE","$item",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","asArray",53],"(",")",";",["T_WHITESPACE","\n        ",53],"}",["T_WHITESPACE","\n        ",54],["T_RETURN","return",55],["T_WHITESPACE"," ",55],["T_VARIABLE","$out",55],";",["T_WHITESPACE","\n    ",55],"}",["T_WHITESPACE","\n\n    ",56],["T_PUBLIC","public",58],["T_WHITESPACE"," ",58],["T_FUNCTION","function",58],["T_WHITESPACE"," ",58],["T_STRING","loadArray",58],"(",["T_ARRAY","array",58],["T_WHITESPACE"," ",58],["T_VARIABLE","$arr",58],")",["T_WHITESPACE","\n    ",58],"{",["T_WHITESPACE","\n        ",59],["T_IF","if",60],["T_WHITESPACE"," ",60],"(","!",["T_EMPTY","empty",60],"(",["T_VARIABLE","$arr",60],"[",["T_CONSTANT_ENCAPSED_STRING","'actions'",60],"]",")",["T_WHITESPACE"," ",60],["T_BOOLEAN_AND","&&",60],["T_WHITESPACE"," ",60],["T_STRING","is_array",60],"(",["T_VARIABLE","$arr",60],"[",["T_CONSTANT_ENCAPSED_STRING","'actions'",60],"]",")",")",["T_WHITESPACE"," ",60],"{",["T_WHITESPACE","\n            ",60],["T_FOREACH","foreach",61],["T_WHITESPACE"," ",61],"(",["T_VARIABLE","$arr",61],"[",["T_CONSTANT_ENCAPSED_STRING","'actions'",61],"]",["T_WHITESPACE"," ",61],["T_AS","as",61],["T_WHITESPACE"," ",61],["T_VARIABLE","$actArr",61],")",["T_WHITESPACE"," ",61],"{",["T_WHITESPACE","\n                ",61],["T_IF","if",62],["T_WHITESPACE"," ",62],"(",["T_EMPTY","empty",62],"(",["T_VARIABLE","$actArr",62],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",62],"]",")",")",["T_WHITESPACE"," ",62],"{",["T_WHITESPACE","\n                    ",62],["T_CONTINUE","continue",63],";",["T_WHITESPACE","\n                ",63],"}",["T_WHITESPACE","\n                ",64],["T_VARIABLE","$action",65],["T_WHITESPACE"," ",65],"=",["T_WHITESPACE"," ",65],["T_STRING","Mage",65],["T_DOUBLE_COLON","::",65],["T_STRING","getModel",65],"(",["T_VARIABLE","$actArr",65],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",65],"]",")",";",["T_WHITESPACE","\n                ",65],["T_VARIABLE","$action",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","loadArray",66],"(",["T_VARIABLE","$actArr",66],")",";",["T_WHITESPACE","\n                ",66],["T_VARIABLE","$this",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","addAction",67],"(",["T_VARIABLE","$action",67],")",";",["T_WHITESPACE","\n            ",67],"}",["T_WHITESPACE","\n        ",68],"}",["T_WHITESPACE","\n        ",69],["T_RETURN","return",70],["T_WHITESPACE"," ",70],["T_VARIABLE","$this",70],";",["T_WHITESPACE","\n    ",70],"}",["T_WHITESPACE","\n\n    ",71],["T_PUBLIC","public",73],["T_WHITESPACE"," ",73],["T_FUNCTION","function",73],["T_WHITESPACE"," ",73],["T_STRING","addAction",73],"(",["T_STRING","Mage_Rule_Model_Action_Interface",73],["T_WHITESPACE"," ",73],["T_VARIABLE","$action",73],")",["T_WHITESPACE","\n    ",73],"{",["T_WHITESPACE","\n        ",74],["T_VARIABLE","$actions",75],["T_WHITESPACE"," ",75],"=",["T_WHITESPACE"," ",75],["T_VARIABLE","$this",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","getActions",75],"(",")",";",["T_WHITESPACE","\n\n        ",75],["T_VARIABLE","$action",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","setRule",77],"(",["T_VARIABLE","$this",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","getRule",77],"(",")",")",";",["T_WHITESPACE","\n\n        ",77],["T_VARIABLE","$actions",79],"[","]",["T_WHITESPACE"," ",79],"=",["T_WHITESPACE"," ",79],["T_VARIABLE","$action",79],";",["T_WHITESPACE","\n        ",79],["T_IF","if",80],["T_WHITESPACE"," ",80],"(","!",["T_VARIABLE","$action",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","getId",80],"(",")",")",["T_WHITESPACE"," ",80],"{",["T_WHITESPACE","\n            ",80],["T_VARIABLE","$action",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","setId",81],"(",["T_VARIABLE","$this",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","getId",81],"(",")",".",["T_CONSTANT_ENCAPSED_STRING","'.'",81],".",["T_STRING","sizeof",81],"(",["T_VARIABLE","$actions",81],")",")",";",["T_WHITESPACE","\n        ",81],"}",["T_WHITESPACE","\n\n        ",82],["T_VARIABLE","$this",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","setActions",84],"(",["T_VARIABLE","$actions",84],")",";",["T_WHITESPACE","\n        ",84],["T_RETURN","return",85],["T_WHITESPACE"," ",85],["T_VARIABLE","$this",85],";",["T_WHITESPACE","\n    ",85],"}",["T_WHITESPACE","\n\n    ",86],["T_PUBLIC","public",88],["T_WHITESPACE"," ",88],["T_FUNCTION","function",88],["T_WHITESPACE"," ",88],["T_STRING","asHtml",88],"(",")",["T_WHITESPACE","\n    ",88],"{",["T_WHITESPACE","\n        ",89],["T_VARIABLE","$html",90],["T_WHITESPACE"," ",90],"=",["T_WHITESPACE"," ",90],["T_VARIABLE","$this",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","getTypeElement",90],"(",")",["T_OBJECT_OPERATOR","->",90],["T_STRING","toHtml",90],"(",")",".",["T_CONSTANT_ENCAPSED_STRING","'Perform following actions: '",90],";",["T_WHITESPACE","\n        ",90],["T_IF","if",91],["T_WHITESPACE"," ",91],"(",["T_VARIABLE","$this",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","getId",91],"(",")",["T_IS_NOT_EQUAL","!=",91],["T_CONSTANT_ENCAPSED_STRING","'1'",91],")",["T_WHITESPACE"," ",91],"{",["T_WHITESPACE","\n            ",91],["T_VARIABLE","$html",92],["T_CONCAT_EQUAL",".=",92],["T_WHITESPACE"," ",92],["T_VARIABLE","$this",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","getRemoveLinkHtml",92],"(",")",";",["T_WHITESPACE","\n        ",92],"}",["T_WHITESPACE","\n        ",93],["T_RETURN","return",94],["T_WHITESPACE"," ",94],["T_VARIABLE","$html",94],";",["T_WHITESPACE","\n    ",94],"}",["T_WHITESPACE","\n   ",95],["T_PUBLIC","public",96],["T_WHITESPACE"," ",96],["T_FUNCTION","function",96],["T_WHITESPACE"," ",96],["T_STRING","getNewChildElement",96],"(",")",["T_WHITESPACE","\n   ",96],"{",["T_WHITESPACE","\n       ",97],["T_RETURN","return",98],["T_WHITESPACE"," ",98],["T_VARIABLE","$this",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","getForm",98],"(",")",["T_OBJECT_OPERATOR","->",98],["T_STRING","addField",98],"(",["T_CONSTANT_ENCAPSED_STRING","'action:'",98],".",["T_VARIABLE","$this",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","getId",98],"(",")",".",["T_CONSTANT_ENCAPSED_STRING","':new_child'",98],",",["T_WHITESPACE"," ",98],["T_CONSTANT_ENCAPSED_STRING","'select'",98],",",["T_WHITESPACE"," ",98],["T_ARRAY","array",98],"(",["T_WHITESPACE","\n           ",98],["T_CONSTANT_ENCAPSED_STRING","'name'",99],["T_DOUBLE_ARROW","=>",99],["T_CONSTANT_ENCAPSED_STRING","'rule[actions]['",99],".",["T_VARIABLE","$this",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","getId",99],"(",")",".",["T_CONSTANT_ENCAPSED_STRING","'][new_child]'",99],",",["T_WHITESPACE","\n           ",99],["T_CONSTANT_ENCAPSED_STRING","'values'",100],["T_DOUBLE_ARROW","=>",100],["T_VARIABLE","$this",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","getNewChildSelectOptions",100],"(",")",",",["T_WHITESPACE","\n           ",100],["T_CONSTANT_ENCAPSED_STRING","'value_name'",101],["T_DOUBLE_ARROW","=>",101],["T_VARIABLE","$this",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","getNewChildName",101],"(",")",",",["T_WHITESPACE","\n       ",101],")",")",["T_OBJECT_OPERATOR","->",102],["T_STRING","setRenderer",102],"(",["T_STRING","Mage",102],["T_DOUBLE_COLON","::",102],["T_STRING","getBlockSingleton",102],"(",["T_CONSTANT_ENCAPSED_STRING","'rule\/newchild'",102],")",")",";",["T_WHITESPACE","\n    ",102],"}",["T_WHITESPACE","\n\n    ",103],["T_PUBLIC","public",105],["T_WHITESPACE"," ",105],["T_FUNCTION","function",105],["T_WHITESPACE"," ",105],["T_STRING","asHtmlRecursive",105],"(",")",["T_WHITESPACE","\n    ",105],"{",["T_WHITESPACE","\n        ",106],["T_VARIABLE","$html",107],["T_WHITESPACE"," ",107],"=",["T_WHITESPACE"," ",107],["T_VARIABLE","$this",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","asHtml",107],"(",")",".",["T_CONSTANT_ENCAPSED_STRING","'<ul id=\"action:'",107],".",["T_VARIABLE","$this",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","getId",107],"(",")",".",["T_CONSTANT_ENCAPSED_STRING","':children\">'",107],";",["T_WHITESPACE","\n        ",107],["T_FOREACH","foreach",108],["T_WHITESPACE"," ",108],"(",["T_VARIABLE","$this",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","getActions",108],"(",")",["T_WHITESPACE"," ",108],["T_AS","as",108],["T_WHITESPACE"," ",108],["T_VARIABLE","$cond",108],")",["T_WHITESPACE"," ",108],"{",["T_WHITESPACE","\n            ",108],["T_VARIABLE","$html",109],["T_WHITESPACE"," ",109],["T_CONCAT_EQUAL",".=",109],["T_WHITESPACE"," ",109],["T_CONSTANT_ENCAPSED_STRING","'<li>'",109],".",["T_VARIABLE","$cond",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","asHtmlRecursive",109],"(",")",".",["T_CONSTANT_ENCAPSED_STRING","'<\/li>'",109],";",["T_WHITESPACE","\n        ",109],"}",["T_WHITESPACE","\n        ",110],["T_VARIABLE","$html",111],["T_WHITESPACE"," ",111],["T_CONCAT_EQUAL",".=",111],["T_WHITESPACE"," ",111],["T_CONSTANT_ENCAPSED_STRING","'<li>'",111],".",["T_VARIABLE","$this",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","getNewChildElement",111],"(",")",["T_OBJECT_OPERATOR","->",111],["T_STRING","getHtml",111],"(",")",".",["T_CONSTANT_ENCAPSED_STRING","'<\/li><\/ul>'",111],";",["T_WHITESPACE","\n        ",111],["T_RETURN","return",112],["T_WHITESPACE"," ",112],["T_VARIABLE","$html",112],";",["T_WHITESPACE","\n    ",112],"}",["T_WHITESPACE","\n\n    ",113],["T_PUBLIC","public",115],["T_WHITESPACE"," ",115],["T_FUNCTION","function",115],["T_WHITESPACE"," ",115],["T_STRING","asString",115],"(",["T_VARIABLE","$format",115],"=",["T_CONSTANT_ENCAPSED_STRING","''",115],")",["T_WHITESPACE","\n    ",115],"{",["T_WHITESPACE","\n        ",116],["T_VARIABLE","$str",117],["T_WHITESPACE"," ",117],"=",["T_WHITESPACE"," ",117],["T_STRING","Mage",117],["T_DOUBLE_COLON","::",117],["T_STRING","helper",117],"(",["T_CONSTANT_ENCAPSED_STRING","'rule'",117],")",["T_OBJECT_OPERATOR","->",117],["T_STRING","__",117],"(",["T_CONSTANT_ENCAPSED_STRING","\"Perform following actions\"",117],")",";",["T_WHITESPACE","\n        ",117],["T_RETURN","return",118],["T_WHITESPACE"," ",118],["T_VARIABLE","$str",118],";",["T_WHITESPACE","\n    ",118],"}",["T_WHITESPACE","\n\n    ",119],["T_PUBLIC","public",121],["T_WHITESPACE"," ",121],["T_FUNCTION","function",121],["T_WHITESPACE"," ",121],["T_STRING","asStringRecursive",121],"(",["T_VARIABLE","$level",121],"=",["T_LNUMBER","0",121],")",["T_WHITESPACE","\n    ",121],"{",["T_WHITESPACE","\n        ",122],["T_VARIABLE","$str",123],["T_WHITESPACE"," ",123],"=",["T_WHITESPACE"," ",123],["T_VARIABLE","$this",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","asString",123],"(",")",";",["T_WHITESPACE","\n        ",123],["T_FOREACH","foreach",124],["T_WHITESPACE"," ",124],"(",["T_VARIABLE","$this",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","getActions",124],"(",")",["T_WHITESPACE"," ",124],["T_AS","as",124],["T_WHITESPACE"," ",124],["T_VARIABLE","$action",124],")",["T_WHITESPACE"," ",124],"{",["T_WHITESPACE","\n            ",124],["T_VARIABLE","$str",125],["T_WHITESPACE"," ",125],["T_CONCAT_EQUAL",".=",125],["T_WHITESPACE"," ",125],["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",125],".",["T_VARIABLE","$action",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","asStringRecursive",125],"(",["T_VARIABLE","$level",125],"+",["T_LNUMBER","1",125],")",";",["T_WHITESPACE","\n        ",125],"}",["T_WHITESPACE","\n        ",126],["T_RETURN","return",127],["T_WHITESPACE"," ",127],["T_VARIABLE","$str",127],";",["T_WHITESPACE","\n    ",127],"}",["T_WHITESPACE","\n\n    ",128],["T_PUBLIC","public",130],["T_WHITESPACE"," ",130],["T_FUNCTION","function",130],["T_WHITESPACE"," ",130],["T_STRING","process",130],"(",")",["T_WHITESPACE","\n    ",130],"{",["T_WHITESPACE","\n        ",131],["T_FOREACH","foreach",132],["T_WHITESPACE"," ",132],"(",["T_VARIABLE","$this",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","getActions",132],"(",")",["T_WHITESPACE"," ",132],["T_AS","as",132],["T_WHITESPACE"," ",132],["T_VARIABLE","$action",132],")",["T_WHITESPACE"," ",132],"{",["T_WHITESPACE","\n            ",132],["T_VARIABLE","$action",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","process",133],"(",")",";",["T_WHITESPACE","\n        ",133],"}",["T_WHITESPACE","\n        ",134],["T_RETURN","return",135],["T_WHITESPACE"," ",135],["T_VARIABLE","$this",135],";",["T_WHITESPACE","\n    ",135],"}",["T_WHITESPACE","\n",136],"}",["T_WHITESPACE","\n",137]]