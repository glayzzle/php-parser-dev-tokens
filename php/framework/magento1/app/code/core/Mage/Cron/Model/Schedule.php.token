[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Magento\n *\n * NOTICE OF LICENSE\n *\n * This source file is subject to the Open Software License (OSL 3.0)\n * that is bundled with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/opensource.org\/licenses\/osl-3.0.php\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@magento.com so we can send you a copy immediately.\n *\n * DISCLAIMER\n *\n * Do not edit or add to this file if you wish to upgrade Magento to newer\n * versions in the future. If you wish to customize Magento for your\n * needs please refer to http:\/\/www.magento.com for more information.\n *\n * @category    Mage\n * @package     Mage_Cron\n * @copyright  Copyright (c) 2006-2016 X.commerce, Inc. and affiliates (http:\/\/www.magento.com)\n * @license    http:\/\/opensource.org\/licenses\/osl-3.0.php  Open Software License (OSL 3.0)\n *\/",2],["T_WHITESPACE","\n\n",25],["T_DOC_COMMENT","\/**\n * Crontab schedule model\n *\n * @method Mage_Cron_Model_Resource_Schedule _getResource()\n * @method Mage_Cron_Model_Resource_Schedule getResource()\n * @method string getJobCode()\n * @method Mage_Cron_Model_Schedule setJobCode(string $value)\n * @method string getStatus()\n * @method Mage_Cron_Model_Schedule setStatus(string $value)\n * @method string getMessages()\n * @method Mage_Cron_Model_Schedule setMessages(string $value)\n * @method string getCreatedAt()\n * @method Mage_Cron_Model_Schedule setCreatedAt(string $value)\n * @method string getScheduledAt()\n * @method Mage_Cron_Model_Schedule setScheduledAt(string $value)\n * @method string getExecutedAt()\n * @method Mage_Cron_Model_Schedule setExecutedAt(string $value)\n * @method string getFinishedAt()\n * @method Mage_Cron_Model_Schedule setFinishedAt(string $value)\n *\n * @category    Mage\n * @package     Mage_Cron\n * @author      Magento Core Team <core@magentocommerce.com>\n *\/",27],["T_WHITESPACE","\n",50],["T_CLASS","class",51],["T_WHITESPACE"," ",51],["T_STRING","Mage_Cron_Model_Schedule",51],["T_WHITESPACE"," ",51],["T_EXTENDS","extends",51],["T_WHITESPACE"," ",51],["T_STRING","Mage_Core_Model_Abstract",51],["T_WHITESPACE","\n",51],"{",["T_WHITESPACE","\n    ",52],["T_CONST","const",53],["T_WHITESPACE"," ",53],["T_STRING","STATUS_PENDING",53],["T_WHITESPACE"," ",53],"=",["T_WHITESPACE"," ",53],["T_CONSTANT_ENCAPSED_STRING","'pending'",53],";",["T_WHITESPACE","\n    ",53],["T_CONST","const",54],["T_WHITESPACE"," ",54],["T_STRING","STATUS_RUNNING",54],["T_WHITESPACE"," ",54],"=",["T_WHITESPACE"," ",54],["T_CONSTANT_ENCAPSED_STRING","'running'",54],";",["T_WHITESPACE","\n    ",54],["T_CONST","const",55],["T_WHITESPACE"," ",55],["T_STRING","STATUS_SUCCESS",55],["T_WHITESPACE"," ",55],"=",["T_WHITESPACE"," ",55],["T_CONSTANT_ENCAPSED_STRING","'success'",55],";",["T_WHITESPACE","\n    ",55],["T_CONST","const",56],["T_WHITESPACE"," ",56],["T_STRING","STATUS_MISSED",56],["T_WHITESPACE"," ",56],"=",["T_WHITESPACE"," ",56],["T_CONSTANT_ENCAPSED_STRING","'missed'",56],";",["T_WHITESPACE","\n    ",56],["T_CONST","const",57],["T_WHITESPACE"," ",57],["T_STRING","STATUS_ERROR",57],["T_WHITESPACE"," ",57],"=",["T_WHITESPACE"," ",57],["T_CONSTANT_ENCAPSED_STRING","'error'",57],";",["T_WHITESPACE","\n\n    ",57],["T_PUBLIC","public",59],["T_WHITESPACE"," ",59],["T_FUNCTION","function",59],["T_WHITESPACE"," ",59],["T_STRING","_construct",59],"(",")",["T_WHITESPACE","\n    ",59],"{",["T_WHITESPACE","\n        ",60],["T_VARIABLE","$this",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","_init",61],"(",["T_CONSTANT_ENCAPSED_STRING","'cron\/schedule'",61],")",";",["T_WHITESPACE","\n    ",61],"}",["T_WHITESPACE","\n\n    ",62],["T_PUBLIC","public",64],["T_WHITESPACE"," ",64],["T_FUNCTION","function",64],["T_WHITESPACE"," ",64],["T_STRING","setCronExpr",64],"(",["T_VARIABLE","$expr",64],")",["T_WHITESPACE","\n    ",64],"{",["T_WHITESPACE","\n        ",65],["T_VARIABLE","$e",66],["T_WHITESPACE"," ",66],"=",["T_WHITESPACE"," ",66],["T_STRING","preg_split",66],"(",["T_CONSTANT_ENCAPSED_STRING","'#\\s+#'",66],",",["T_WHITESPACE"," ",66],["T_VARIABLE","$expr",66],",",["T_WHITESPACE"," ",66],["T_STRING","null",66],",",["T_WHITESPACE"," ",66],["T_STRING","PREG_SPLIT_NO_EMPTY",66],")",";",["T_WHITESPACE","\n        ",66],["T_IF","if",67],["T_WHITESPACE"," ",67],"(",["T_STRING","sizeof",67],"(",["T_VARIABLE","$e",67],")","<",["T_LNUMBER","5",67],["T_WHITESPACE"," ",67],["T_BOOLEAN_OR","||",67],["T_WHITESPACE"," ",67],["T_STRING","sizeof",67],"(",["T_VARIABLE","$e",67],")",">",["T_LNUMBER","6",67],")",["T_WHITESPACE"," ",67],"{",["T_WHITESPACE","\n            ",67],["T_THROW","throw",68],["T_WHITESPACE"," ",68],["T_STRING","Mage",68],["T_DOUBLE_COLON","::",68],["T_STRING","exception",68],"(",["T_CONSTANT_ENCAPSED_STRING","'Mage_Cron'",68],",",["T_WHITESPACE"," ",68],["T_CONSTANT_ENCAPSED_STRING","'Invalid cron expression: '",68],".",["T_VARIABLE","$expr",68],")",";",["T_WHITESPACE","\n        ",68],"}",["T_WHITESPACE","\n\n        ",69],["T_VARIABLE","$this",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","setCronExprArr",71],"(",["T_VARIABLE","$e",71],")",";",["T_WHITESPACE","\n        ",71],["T_RETURN","return",72],["T_WHITESPACE"," ",72],["T_VARIABLE","$this",72],";",["T_WHITESPACE","\n    ",72],"}",["T_WHITESPACE","\n\n    ",73],["T_DOC_COMMENT","\/**\n     * Checks the observer's cron expression against time\n     *\n     * Supports $this->setCronExpr('* 0-5,10-59\/5 2-10,15-25 january-june\/2 mon-fri')\n     *\n     * @param Varien_Event $event\n     * @return boolean\n     *\/",75],["T_WHITESPACE","\n    ",82],["T_PUBLIC","public",83],["T_WHITESPACE"," ",83],["T_FUNCTION","function",83],["T_WHITESPACE"," ",83],["T_STRING","trySchedule",83],"(",["T_VARIABLE","$time",83],")",["T_WHITESPACE","\n    ",83],"{",["T_WHITESPACE","\n        ",84],["T_VARIABLE","$e",85],["T_WHITESPACE"," ",85],"=",["T_WHITESPACE"," ",85],["T_VARIABLE","$this",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","getCronExprArr",85],"(",")",";",["T_WHITESPACE","\n        ",85],["T_IF","if",86],["T_WHITESPACE"," ",86],"(","!",["T_VARIABLE","$e",86],["T_WHITESPACE"," ",86],["T_BOOLEAN_OR","||",86],["T_WHITESPACE"," ",86],"!",["T_VARIABLE","$time",86],")",["T_WHITESPACE"," ",86],"{",["T_WHITESPACE","\n            ",86],["T_RETURN","return",87],["T_WHITESPACE"," ",87],["T_STRING","false",87],";",["T_WHITESPACE","\n        ",87],"}",["T_WHITESPACE","\n        ",88],["T_IF","if",89],["T_WHITESPACE"," ",89],"(","!",["T_STRING","is_numeric",89],"(",["T_VARIABLE","$time",89],")",")",["T_WHITESPACE"," ",89],"{",["T_WHITESPACE","\n            ",89],["T_VARIABLE","$time",90],["T_WHITESPACE"," ",90],"=",["T_WHITESPACE"," ",90],["T_STRING","strtotime",90],"(",["T_VARIABLE","$time",90],")",";",["T_WHITESPACE","\n        ",90],"}",["T_WHITESPACE","\n\n        ",91],["T_VARIABLE","$d",93],["T_WHITESPACE"," ",93],"=",["T_WHITESPACE"," ",93],["T_STRING","getdate",93],"(",["T_STRING","Mage",93],["T_DOUBLE_COLON","::",93],["T_STRING","getSingleton",93],"(",["T_CONSTANT_ENCAPSED_STRING","'core\/date'",93],")",["T_OBJECT_OPERATOR","->",93],["T_STRING","timestamp",93],"(",["T_VARIABLE","$time",93],")",")",";",["T_WHITESPACE","\n\n        ",93],["T_VARIABLE","$match",95],["T_WHITESPACE"," ",95],"=",["T_WHITESPACE"," ",95],["T_VARIABLE","$this",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","matchCronExpression",95],"(",["T_VARIABLE","$e",95],"[",["T_LNUMBER","0",95],"]",",",["T_WHITESPACE"," ",95],["T_VARIABLE","$d",95],"[",["T_CONSTANT_ENCAPSED_STRING","'minutes'",95],"]",")",["T_WHITESPACE","\n            ",95],["T_BOOLEAN_AND","&&",96],["T_WHITESPACE"," ",96],["T_VARIABLE","$this",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","matchCronExpression",96],"(",["T_VARIABLE","$e",96],"[",["T_LNUMBER","1",96],"]",",",["T_WHITESPACE"," ",96],["T_VARIABLE","$d",96],"[",["T_CONSTANT_ENCAPSED_STRING","'hours'",96],"]",")",["T_WHITESPACE","\n            ",96],["T_BOOLEAN_AND","&&",97],["T_WHITESPACE"," ",97],["T_VARIABLE","$this",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","matchCronExpression",97],"(",["T_VARIABLE","$e",97],"[",["T_LNUMBER","2",97],"]",",",["T_WHITESPACE"," ",97],["T_VARIABLE","$d",97],"[",["T_CONSTANT_ENCAPSED_STRING","'mday'",97],"]",")",["T_WHITESPACE","\n            ",97],["T_BOOLEAN_AND","&&",98],["T_WHITESPACE"," ",98],["T_VARIABLE","$this",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","matchCronExpression",98],"(",["T_VARIABLE","$e",98],"[",["T_LNUMBER","3",98],"]",",",["T_WHITESPACE"," ",98],["T_VARIABLE","$d",98],"[",["T_CONSTANT_ENCAPSED_STRING","'mon'",98],"]",")",["T_WHITESPACE","\n            ",98],["T_BOOLEAN_AND","&&",99],["T_WHITESPACE"," ",99],["T_VARIABLE","$this",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","matchCronExpression",99],"(",["T_VARIABLE","$e",99],"[",["T_LNUMBER","4",99],"]",",",["T_WHITESPACE"," ",99],["T_VARIABLE","$d",99],"[",["T_CONSTANT_ENCAPSED_STRING","'wday'",99],"]",")",";",["T_WHITESPACE","\n\n        ",99],["T_IF","if",101],["T_WHITESPACE"," ",101],"(",["T_VARIABLE","$match",101],")",["T_WHITESPACE"," ",101],"{",["T_WHITESPACE","\n            ",101],["T_VARIABLE","$this",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","setCreatedAt",102],"(",["T_STRING","strftime",102],"(",["T_CONSTANT_ENCAPSED_STRING","'%Y-%m-%d %H:%M:%S'",102],",",["T_WHITESPACE"," ",102],["T_STRING","time",102],"(",")",")",")",";",["T_WHITESPACE","\n            ",102],["T_VARIABLE","$this",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","setScheduledAt",103],"(",["T_STRING","strftime",103],"(",["T_CONSTANT_ENCAPSED_STRING","'%Y-%m-%d %H:%M'",103],",",["T_WHITESPACE"," ",103],["T_VARIABLE","$time",103],")",")",";",["T_WHITESPACE","\n        ",103],"}",["T_WHITESPACE","\n        ",104],["T_RETURN","return",105],["T_WHITESPACE"," ",105],["T_VARIABLE","$match",105],";",["T_WHITESPACE","\n    ",105],"}",["T_WHITESPACE","\n\n    ",106],["T_PUBLIC","public",108],["T_WHITESPACE"," ",108],["T_FUNCTION","function",108],["T_WHITESPACE"," ",108],["T_STRING","matchCronExpression",108],"(",["T_VARIABLE","$expr",108],",",["T_WHITESPACE"," ",108],["T_VARIABLE","$num",108],")",["T_WHITESPACE","\n    ",108],"{",["T_WHITESPACE","\n        ",109],["T_COMMENT","\/\/ handle ALL match\n",110],["T_WHITESPACE","        ",111],["T_IF","if",111],["T_WHITESPACE"," ",111],"(",["T_VARIABLE","$expr",111],["T_IS_IDENTICAL","===",111],["T_CONSTANT_ENCAPSED_STRING","'*'",111],")",["T_WHITESPACE"," ",111],"{",["T_WHITESPACE","\n            ",111],["T_RETURN","return",112],["T_WHITESPACE"," ",112],["T_STRING","true",112],";",["T_WHITESPACE","\n        ",112],"}",["T_WHITESPACE","\n\n        ",113],["T_COMMENT","\/\/ handle multiple options\n",115],["T_WHITESPACE","        ",116],["T_IF","if",116],["T_WHITESPACE"," ",116],"(",["T_STRING","strpos",116],"(",["T_VARIABLE","$expr",116],",",["T_CONSTANT_ENCAPSED_STRING","','",116],")",["T_IS_NOT_IDENTICAL","!==",116],["T_STRING","false",116],")",["T_WHITESPACE"," ",116],"{",["T_WHITESPACE","\n            ",116],["T_FOREACH","foreach",117],["T_WHITESPACE"," ",117],"(",["T_STRING","explode",117],"(",["T_CONSTANT_ENCAPSED_STRING","','",117],",",["T_VARIABLE","$expr",117],")",["T_WHITESPACE"," ",117],["T_AS","as",117],["T_WHITESPACE"," ",117],["T_VARIABLE","$e",117],")",["T_WHITESPACE"," ",117],"{",["T_WHITESPACE","\n                ",117],["T_IF","if",118],["T_WHITESPACE"," ",118],"(",["T_VARIABLE","$this",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","matchCronExpression",118],"(",["T_VARIABLE","$e",118],",",["T_WHITESPACE"," ",118],["T_VARIABLE","$num",118],")",")",["T_WHITESPACE"," ",118],"{",["T_WHITESPACE","\n                    ",118],["T_RETURN","return",119],["T_WHITESPACE"," ",119],["T_STRING","true",119],";",["T_WHITESPACE","\n                ",119],"}",["T_WHITESPACE","\n            ",120],"}",["T_WHITESPACE","\n            ",121],["T_RETURN","return",122],["T_WHITESPACE"," ",122],["T_STRING","false",122],";",["T_WHITESPACE","\n        ",122],"}",["T_WHITESPACE","\n\n        ",123],["T_COMMENT","\/\/ handle modulus\n",125],["T_WHITESPACE","        ",126],["T_IF","if",126],["T_WHITESPACE"," ",126],"(",["T_STRING","strpos",126],"(",["T_VARIABLE","$expr",126],",",["T_CONSTANT_ENCAPSED_STRING","'\/'",126],")",["T_IS_NOT_IDENTICAL","!==",126],["T_STRING","false",126],")",["T_WHITESPACE"," ",126],"{",["T_WHITESPACE","\n            ",126],["T_VARIABLE","$e",127],["T_WHITESPACE"," ",127],"=",["T_WHITESPACE"," ",127],["T_STRING","explode",127],"(",["T_CONSTANT_ENCAPSED_STRING","'\/'",127],",",["T_WHITESPACE"," ",127],["T_VARIABLE","$expr",127],")",";",["T_WHITESPACE","\n            ",127],["T_IF","if",128],["T_WHITESPACE"," ",128],"(",["T_STRING","sizeof",128],"(",["T_VARIABLE","$e",128],")",["T_IS_NOT_IDENTICAL","!==",128],["T_LNUMBER","2",128],")",["T_WHITESPACE"," ",128],"{",["T_WHITESPACE","\n                ",128],["T_THROW","throw",129],["T_WHITESPACE"," ",129],["T_STRING","Mage",129],["T_DOUBLE_COLON","::",129],["T_STRING","exception",129],"(",["T_CONSTANT_ENCAPSED_STRING","'Mage_Cron'",129],",",["T_WHITESPACE"," ",129],["T_CONSTANT_ENCAPSED_STRING","\"Invalid cron expression, expecting 'match\/modulus': \"",129],".",["T_VARIABLE","$expr",129],")",";",["T_WHITESPACE","\n            ",129],"}",["T_WHITESPACE","\n            ",130],["T_IF","if",131],["T_WHITESPACE"," ",131],"(","!",["T_STRING","is_numeric",131],"(",["T_VARIABLE","$e",131],"[",["T_LNUMBER","1",131],"]",")",")",["T_WHITESPACE"," ",131],"{",["T_WHITESPACE","\n                ",131],["T_THROW","throw",132],["T_WHITESPACE"," ",132],["T_STRING","Mage",132],["T_DOUBLE_COLON","::",132],["T_STRING","exception",132],"(",["T_CONSTANT_ENCAPSED_STRING","'Mage_Cron'",132],",",["T_WHITESPACE"," ",132],["T_CONSTANT_ENCAPSED_STRING","\"Invalid cron expression, expecting numeric modulus: \"",132],".",["T_VARIABLE","$expr",132],")",";",["T_WHITESPACE","\n            ",132],"}",["T_WHITESPACE","\n            ",133],["T_VARIABLE","$expr",134],["T_WHITESPACE"," ",134],"=",["T_WHITESPACE"," ",134],["T_VARIABLE","$e",134],"[",["T_LNUMBER","0",134],"]",";",["T_WHITESPACE","\n            ",134],["T_VARIABLE","$mod",135],["T_WHITESPACE"," ",135],"=",["T_WHITESPACE"," ",135],["T_VARIABLE","$e",135],"[",["T_LNUMBER","1",135],"]",";",["T_WHITESPACE","\n        ",135],"}",["T_WHITESPACE"," ",136],["T_ELSE","else",136],["T_WHITESPACE"," ",136],"{",["T_WHITESPACE","\n            ",136],["T_VARIABLE","$mod",137],["T_WHITESPACE"," ",137],"=",["T_WHITESPACE"," ",137],["T_LNUMBER","1",137],";",["T_WHITESPACE","\n        ",137],"}",["T_WHITESPACE","\n\n        ",138],["T_COMMENT","\/\/ handle all match by modulus\n",140],["T_WHITESPACE","        ",141],["T_IF","if",141],["T_WHITESPACE"," ",141],"(",["T_VARIABLE","$expr",141],["T_IS_IDENTICAL","===",141],["T_CONSTANT_ENCAPSED_STRING","'*'",141],")",["T_WHITESPACE"," ",141],"{",["T_WHITESPACE","\n            ",141],["T_VARIABLE","$from",142],["T_WHITESPACE"," ",142],"=",["T_WHITESPACE"," ",142],["T_LNUMBER","0",142],";",["T_WHITESPACE","\n            ",142],["T_VARIABLE","$to",143],["T_WHITESPACE"," ",143],"=",["T_WHITESPACE"," ",143],["T_LNUMBER","60",143],";",["T_WHITESPACE","\n        ",143],"}",["T_WHITESPACE","\n        ",144],["T_COMMENT","\/\/ handle range\n",145],["T_WHITESPACE","        ",146],["T_ELSEIF","elseif",146],["T_WHITESPACE"," ",146],"(",["T_STRING","strpos",146],"(",["T_VARIABLE","$expr",146],",",["T_CONSTANT_ENCAPSED_STRING","'-'",146],")",["T_IS_NOT_IDENTICAL","!==",146],["T_STRING","false",146],")",["T_WHITESPACE"," ",146],"{",["T_WHITESPACE","\n            ",146],["T_VARIABLE","$e",147],["T_WHITESPACE"," ",147],"=",["T_WHITESPACE"," ",147],["T_STRING","explode",147],"(",["T_CONSTANT_ENCAPSED_STRING","'-'",147],",",["T_WHITESPACE"," ",147],["T_VARIABLE","$expr",147],")",";",["T_WHITESPACE","\n            ",147],["T_IF","if",148],["T_WHITESPACE"," ",148],"(",["T_STRING","sizeof",148],"(",["T_VARIABLE","$e",148],")",["T_IS_NOT_IDENTICAL","!==",148],["T_LNUMBER","2",148],")",["T_WHITESPACE"," ",148],"{",["T_WHITESPACE","\n                ",148],["T_THROW","throw",149],["T_WHITESPACE"," ",149],["T_STRING","Mage",149],["T_DOUBLE_COLON","::",149],["T_STRING","exception",149],"(",["T_CONSTANT_ENCAPSED_STRING","'Mage_Cron'",149],",",["T_WHITESPACE"," ",149],["T_CONSTANT_ENCAPSED_STRING","\"Invalid cron expression, expecting 'from-to' structure: \"",149],".",["T_VARIABLE","$expr",149],")",";",["T_WHITESPACE","\n            ",149],"}",["T_WHITESPACE","\n\n            ",150],["T_VARIABLE","$from",152],["T_WHITESPACE"," ",152],"=",["T_WHITESPACE"," ",152],["T_VARIABLE","$this",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","getNumeric",152],"(",["T_VARIABLE","$e",152],"[",["T_LNUMBER","0",152],"]",")",";",["T_WHITESPACE","\n            ",152],["T_VARIABLE","$to",153],["T_WHITESPACE"," ",153],"=",["T_WHITESPACE"," ",153],["T_VARIABLE","$this",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","getNumeric",153],"(",["T_VARIABLE","$e",153],"[",["T_LNUMBER","1",153],"]",")",";",["T_WHITESPACE","\n        ",153],"}",["T_WHITESPACE","\n        ",154],["T_COMMENT","\/\/ handle regular token\n",155],["T_WHITESPACE","        ",156],["T_ELSE","else",156],["T_WHITESPACE"," ",156],"{",["T_WHITESPACE","\n            ",156],["T_VARIABLE","$from",157],["T_WHITESPACE"," ",157],"=",["T_WHITESPACE"," ",157],["T_VARIABLE","$this",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","getNumeric",157],"(",["T_VARIABLE","$expr",157],")",";",["T_WHITESPACE","\n            ",157],["T_VARIABLE","$to",158],["T_WHITESPACE"," ",158],"=",["T_WHITESPACE"," ",158],["T_VARIABLE","$from",158],";",["T_WHITESPACE","\n        ",158],"}",["T_WHITESPACE","\n\n        ",159],["T_IF","if",161],["T_WHITESPACE"," ",161],"(",["T_VARIABLE","$from",161],["T_IS_IDENTICAL","===",161],["T_STRING","false",161],["T_WHITESPACE"," ",161],["T_BOOLEAN_OR","||",161],["T_WHITESPACE"," ",161],["T_VARIABLE","$to",161],["T_IS_IDENTICAL","===",161],["T_STRING","false",161],")",["T_WHITESPACE"," ",161],"{",["T_WHITESPACE","\n            ",161],["T_THROW","throw",162],["T_WHITESPACE"," ",162],["T_STRING","Mage",162],["T_DOUBLE_COLON","::",162],["T_STRING","exception",162],"(",["T_CONSTANT_ENCAPSED_STRING","'Mage_Cron'",162],",",["T_WHITESPACE"," ",162],["T_CONSTANT_ENCAPSED_STRING","\"Invalid cron expression: \"",162],".",["T_VARIABLE","$expr",162],")",";",["T_WHITESPACE","\n        ",162],"}",["T_WHITESPACE","\n\n        ",163],["T_RETURN","return",165],["T_WHITESPACE"," ",165],"(",["T_VARIABLE","$num",165],["T_IS_GREATER_OR_EQUAL",">=",165],["T_VARIABLE","$from",165],")",["T_WHITESPACE"," ",165],["T_BOOLEAN_AND","&&",165],["T_WHITESPACE"," ",165],"(",["T_VARIABLE","$num",165],["T_IS_SMALLER_OR_EQUAL","<=",165],["T_VARIABLE","$to",165],")",["T_WHITESPACE"," ",165],["T_BOOLEAN_AND","&&",165],["T_WHITESPACE"," ",165],"(",["T_VARIABLE","$num",165],"%",["T_VARIABLE","$mod",165],["T_IS_IDENTICAL","===",165],["T_LNUMBER","0",165],")",";",["T_WHITESPACE","\n    ",165],"}",["T_WHITESPACE","\n\n    ",166],["T_PUBLIC","public",168],["T_WHITESPACE"," ",168],["T_FUNCTION","function",168],["T_WHITESPACE"," ",168],["T_STRING","getNumeric",168],"(",["T_VARIABLE","$value",168],")",["T_WHITESPACE","\n    ",168],"{",["T_WHITESPACE","\n        ",169],["T_STATIC","static",170],["T_WHITESPACE"," ",170],["T_VARIABLE","$data",170],["T_WHITESPACE"," ",170],"=",["T_WHITESPACE"," ",170],["T_ARRAY","array",170],"(",["T_WHITESPACE","\n            ",170],["T_CONSTANT_ENCAPSED_STRING","'jan'",171],["T_DOUBLE_ARROW","=>",171],["T_LNUMBER","1",171],",",["T_WHITESPACE","\n            ",171],["T_CONSTANT_ENCAPSED_STRING","'feb'",172],["T_DOUBLE_ARROW","=>",172],["T_LNUMBER","2",172],",",["T_WHITESPACE","\n            ",172],["T_CONSTANT_ENCAPSED_STRING","'mar'",173],["T_DOUBLE_ARROW","=>",173],["T_LNUMBER","3",173],",",["T_WHITESPACE","\n            ",173],["T_CONSTANT_ENCAPSED_STRING","'apr'",174],["T_DOUBLE_ARROW","=>",174],["T_LNUMBER","4",174],",",["T_WHITESPACE","\n            ",174],["T_CONSTANT_ENCAPSED_STRING","'may'",175],["T_DOUBLE_ARROW","=>",175],["T_LNUMBER","5",175],",",["T_WHITESPACE","\n            ",175],["T_CONSTANT_ENCAPSED_STRING","'jun'",176],["T_DOUBLE_ARROW","=>",176],["T_LNUMBER","6",176],",",["T_WHITESPACE","\n            ",176],["T_CONSTANT_ENCAPSED_STRING","'jul'",177],["T_DOUBLE_ARROW","=>",177],["T_LNUMBER","7",177],",",["T_WHITESPACE","\n            ",177],["T_CONSTANT_ENCAPSED_STRING","'aug'",178],["T_DOUBLE_ARROW","=>",178],["T_LNUMBER","8",178],",",["T_WHITESPACE","\n            ",178],["T_CONSTANT_ENCAPSED_STRING","'sep'",179],["T_DOUBLE_ARROW","=>",179],["T_LNUMBER","9",179],",",["T_WHITESPACE","\n            ",179],["T_CONSTANT_ENCAPSED_STRING","'oct'",180],["T_DOUBLE_ARROW","=>",180],["T_LNUMBER","10",180],",",["T_WHITESPACE","\n            ",180],["T_CONSTANT_ENCAPSED_STRING","'nov'",181],["T_DOUBLE_ARROW","=>",181],["T_LNUMBER","11",181],",",["T_WHITESPACE","\n            ",181],["T_CONSTANT_ENCAPSED_STRING","'dec'",182],["T_DOUBLE_ARROW","=>",182],["T_LNUMBER","12",182],",",["T_WHITESPACE","\n\n            ",182],["T_CONSTANT_ENCAPSED_STRING","'sun'",184],["T_DOUBLE_ARROW","=>",184],["T_LNUMBER","0",184],",",["T_WHITESPACE","\n            ",184],["T_CONSTANT_ENCAPSED_STRING","'mon'",185],["T_DOUBLE_ARROW","=>",185],["T_LNUMBER","1",185],",",["T_WHITESPACE","\n            ",185],["T_CONSTANT_ENCAPSED_STRING","'tue'",186],["T_DOUBLE_ARROW","=>",186],["T_LNUMBER","2",186],",",["T_WHITESPACE","\n            ",186],["T_CONSTANT_ENCAPSED_STRING","'wed'",187],["T_DOUBLE_ARROW","=>",187],["T_LNUMBER","3",187],",",["T_WHITESPACE","\n            ",187],["T_CONSTANT_ENCAPSED_STRING","'thu'",188],["T_DOUBLE_ARROW","=>",188],["T_LNUMBER","4",188],",",["T_WHITESPACE","\n            ",188],["T_CONSTANT_ENCAPSED_STRING","'fri'",189],["T_DOUBLE_ARROW","=>",189],["T_LNUMBER","5",189],",",["T_WHITESPACE","\n            ",189],["T_CONSTANT_ENCAPSED_STRING","'sat'",190],["T_DOUBLE_ARROW","=>",190],["T_LNUMBER","6",190],",",["T_WHITESPACE","\n        ",190],")",";",["T_WHITESPACE","\n\n        ",191],["T_IF","if",193],["T_WHITESPACE"," ",193],"(",["T_STRING","is_numeric",193],"(",["T_VARIABLE","$value",193],")",")",["T_WHITESPACE"," ",193],"{",["T_WHITESPACE","\n            ",193],["T_RETURN","return",194],["T_WHITESPACE"," ",194],["T_VARIABLE","$value",194],";",["T_WHITESPACE","\n        ",194],"}",["T_WHITESPACE","\n\n        ",195],["T_IF","if",197],["T_WHITESPACE"," ",197],"(",["T_STRING","is_string",197],"(",["T_VARIABLE","$value",197],")",")",["T_WHITESPACE"," ",197],"{",["T_WHITESPACE","\n            ",197],["T_VARIABLE","$value",198],["T_WHITESPACE"," ",198],"=",["T_WHITESPACE"," ",198],["T_STRING","strtolower",198],"(",["T_STRING","substr",198],"(",["T_VARIABLE","$value",198],",",["T_LNUMBER","0",198],",",["T_LNUMBER","3",198],")",")",";",["T_WHITESPACE","\n            ",198],["T_IF","if",199],["T_WHITESPACE"," ",199],"(",["T_ISSET","isset",199],"(",["T_VARIABLE","$data",199],"[",["T_VARIABLE","$value",199],"]",")",")",["T_WHITESPACE"," ",199],"{",["T_WHITESPACE","\n                ",199],["T_RETURN","return",200],["T_WHITESPACE"," ",200],["T_VARIABLE","$data",200],"[",["T_VARIABLE","$value",200],"]",";",["T_WHITESPACE","\n            ",200],"}",["T_WHITESPACE","\n        ",201],"}",["T_WHITESPACE","\n\n        ",202],["T_RETURN","return",204],["T_WHITESPACE"," ",204],["T_STRING","false",204],";",["T_WHITESPACE","\n    ",204],"}",["T_WHITESPACE","\n\n    ",205],["T_DOC_COMMENT","\/**\n     * Sets a job to STATUS_RUNNING only if it is currently in STATUS_PENDING.\n     * Returns true if status was changed and false otherwise.\n     *\n     * @param $oldStatus\n     * This is used to implement locking for cron jobs.\n     *\n     * @return boolean\n     *\/",207],["T_WHITESPACE","\n    ",215],["T_PUBLIC","public",216],["T_WHITESPACE"," ",216],["T_FUNCTION","function",216],["T_WHITESPACE"," ",216],["T_STRING","tryLockJob",216],"(",["T_VARIABLE","$oldStatus",216],["T_WHITESPACE"," ",216],"=",["T_WHITESPACE"," ",216],["T_STRING","self",216],["T_DOUBLE_COLON","::",216],["T_STRING","STATUS_PENDING",216],")",["T_WHITESPACE","\n    ",216],"{",["T_WHITESPACE","\n        ",217],["T_VARIABLE","$result",218],["T_WHITESPACE"," ",218],"=",["T_WHITESPACE"," ",218],["T_VARIABLE","$this",218],["T_OBJECT_OPERATOR","->",218],["T_STRING","_getResource",218],"(",")",["T_OBJECT_OPERATOR","->",218],["T_STRING","trySetJobStatusAtomic",218],"(",["T_VARIABLE","$this",218],["T_OBJECT_OPERATOR","->",218],["T_STRING","getId",218],"(",")",",",["T_WHITESPACE"," ",218],["T_STRING","self",218],["T_DOUBLE_COLON","::",218],["T_STRING","STATUS_RUNNING",218],",",["T_WHITESPACE"," ",218],["T_VARIABLE","$oldStatus",218],")",";",["T_WHITESPACE","\n        ",218],["T_IF","if",219],["T_WHITESPACE"," ",219],"(",["T_VARIABLE","$result",219],")",["T_WHITESPACE"," ",219],"{",["T_WHITESPACE","\n            ",219],["T_VARIABLE","$this",220],["T_OBJECT_OPERATOR","->",220],["T_STRING","setStatus",220],"(",["T_STRING","self",220],["T_DOUBLE_COLON","::",220],["T_STRING","STATUS_RUNNING",220],")",";",["T_WHITESPACE","\n        ",220],"}",["T_WHITESPACE","\n        ",221],["T_RETURN","return",222],["T_WHITESPACE"," ",222],["T_VARIABLE","$result",222],";",["T_WHITESPACE","\n    ",222],"}",["T_WHITESPACE","\n",223],"}",["T_WHITESPACE","\n",224]]