[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Magento\n *\n * NOTICE OF LICENSE\n *\n * This source file is subject to the Open Software License (OSL 3.0)\n * that is bundled with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/opensource.org\/licenses\/osl-3.0.php\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@magento.com so we can send you a copy immediately.\n *\n * DISCLAIMER\n *\n * Do not edit or add to this file if you wish to upgrade Magento to newer\n * versions in the future. If you wish to customize Magento for your\n * needs please refer to http:\/\/www.magento.com for more information.\n *\n * @category    Mage\n * @package     Mage_Adminhtml\n * @copyright  Copyright (c) 2006-2016 X.commerce, Inc. and affiliates (http:\/\/www.magento.com)\n * @license    http:\/\/opensource.org\/licenses\/osl-3.0.php  Open Software License (OSL 3.0)\n *\/",2],["T_WHITESPACE","\n\n",25],["T_DOC_COMMENT","\/**\n * CMS block chooser for Wysiwyg CMS widget\n *\n * @category   Mage\n * @package    Mage_Adminhtml\n * @author     Magento Core Team <core@magentocommerce.com>\n *\/",27],["T_WHITESPACE","\n",33],["T_CLASS","class",34],["T_WHITESPACE"," ",34],["T_STRING","Mage_Adminhtml_Block_Cms_Block_Widget_Chooser",34],["T_WHITESPACE"," ",34],["T_EXTENDS","extends",34],["T_WHITESPACE"," ",34],["T_STRING","Mage_Adminhtml_Block_Widget_Grid",34],["T_WHITESPACE","\n",34],"{",["T_WHITESPACE","\n    ",35],["T_DOC_COMMENT","\/**\n     * Block construction, prepare grid params\n     *\n     * @param array $arguments Object data\n     *\/",36],["T_WHITESPACE","\n    ",40],["T_PUBLIC","public",41],["T_WHITESPACE"," ",41],["T_FUNCTION","function",41],["T_WHITESPACE"," ",41],["T_STRING","__construct",41],"(",["T_VARIABLE","$arguments",41],"=",["T_ARRAY","array",41],"(",")",")",["T_WHITESPACE","\n    ",41],"{",["T_WHITESPACE","\n        ",42],["T_STRING","parent",43],["T_DOUBLE_COLON","::",43],["T_STRING","__construct",43],"(",["T_VARIABLE","$arguments",43],")",";",["T_WHITESPACE","\n        ",43],["T_VARIABLE","$this",44],["T_OBJECT_OPERATOR","->",44],["T_STRING","setDefaultSort",44],"(",["T_CONSTANT_ENCAPSED_STRING","'block_identifier'",44],")",";",["T_WHITESPACE","\n        ",44],["T_VARIABLE","$this",45],["T_OBJECT_OPERATOR","->",45],["T_STRING","setDefaultDir",45],"(",["T_CONSTANT_ENCAPSED_STRING","'ASC'",45],")",";",["T_WHITESPACE","\n        ",45],["T_VARIABLE","$this",46],["T_OBJECT_OPERATOR","->",46],["T_STRING","setUseAjax",46],"(",["T_STRING","true",46],")",";",["T_WHITESPACE","\n        ",46],["T_VARIABLE","$this",47],["T_OBJECT_OPERATOR","->",47],["T_STRING","setDefaultFilter",47],"(",["T_ARRAY","array",47],"(",["T_CONSTANT_ENCAPSED_STRING","'chooser_is_active'",47],["T_WHITESPACE"," ",47],["T_DOUBLE_ARROW","=>",47],["T_WHITESPACE"," ",47],["T_CONSTANT_ENCAPSED_STRING","'1'",47],")",")",";",["T_WHITESPACE","\n    ",47],"}",["T_WHITESPACE","\n\n    ",48],["T_DOC_COMMENT","\/**\n     * Prepare chooser element HTML\n     *\n     * @param Varien_Data_Form_Element_Abstract $element Form Element\n     * @return Varien_Data_Form_Element_Abstract\n     *\/",50],["T_WHITESPACE","\n    ",55],["T_PUBLIC","public",56],["T_WHITESPACE"," ",56],["T_FUNCTION","function",56],["T_WHITESPACE"," ",56],["T_STRING","prepareElementHtml",56],"(",["T_STRING","Varien_Data_Form_Element_Abstract",56],["T_WHITESPACE"," ",56],["T_VARIABLE","$element",56],")",["T_WHITESPACE","\n    ",56],"{",["T_WHITESPACE","\n        ",57],["T_VARIABLE","$uniqId",58],["T_WHITESPACE"," ",58],"=",["T_WHITESPACE"," ",58],["T_STRING","Mage",58],["T_DOUBLE_COLON","::",58],["T_STRING","helper",58],"(",["T_CONSTANT_ENCAPSED_STRING","'core'",58],")",["T_OBJECT_OPERATOR","->",58],["T_STRING","uniqHash",58],"(",["T_VARIABLE","$element",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","getId",58],"(",")",")",";",["T_WHITESPACE","\n        ",58],["T_VARIABLE","$sourceUrl",59],["T_WHITESPACE"," ",59],"=",["T_WHITESPACE"," ",59],["T_VARIABLE","$this",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","getUrl",59],"(",["T_CONSTANT_ENCAPSED_STRING","'*\/cms_block_widget\/chooser'",59],",",["T_WHITESPACE"," ",59],["T_ARRAY","array",59],"(",["T_CONSTANT_ENCAPSED_STRING","'uniq_id'",59],["T_WHITESPACE"," ",59],["T_DOUBLE_ARROW","=>",59],["T_WHITESPACE"," ",59],["T_VARIABLE","$uniqId",59],")",")",";",["T_WHITESPACE","\n\n        ",59],["T_VARIABLE","$chooser",61],["T_WHITESPACE"," ",61],"=",["T_WHITESPACE"," ",61],["T_VARIABLE","$this",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","getLayout",61],"(",")",["T_OBJECT_OPERATOR","->",61],["T_STRING","createBlock",61],"(",["T_CONSTANT_ENCAPSED_STRING","'widget\/adminhtml_widget_chooser'",61],")",["T_WHITESPACE","\n            ",61],["T_OBJECT_OPERATOR","->",62],["T_STRING","setElement",62],"(",["T_VARIABLE","$element",62],")",["T_WHITESPACE","\n            ",62],["T_OBJECT_OPERATOR","->",63],["T_STRING","setTranslationHelper",63],"(",["T_VARIABLE","$this",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","getTranslationHelper",63],"(",")",")",["T_WHITESPACE","\n            ",63],["T_OBJECT_OPERATOR","->",64],["T_STRING","setConfig",64],"(",["T_VARIABLE","$this",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","getConfig",64],"(",")",")",["T_WHITESPACE","\n            ",64],["T_OBJECT_OPERATOR","->",65],["T_STRING","setFieldsetId",65],"(",["T_VARIABLE","$this",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","getFieldsetId",65],"(",")",")",["T_WHITESPACE","\n            ",65],["T_OBJECT_OPERATOR","->",66],["T_STRING","setSourceUrl",66],"(",["T_VARIABLE","$sourceUrl",66],")",["T_WHITESPACE","\n            ",66],["T_OBJECT_OPERATOR","->",67],["T_STRING","setUniqId",67],"(",["T_VARIABLE","$uniqId",67],")",";",["T_WHITESPACE","\n\n\n        ",67],["T_IF","if",70],["T_WHITESPACE"," ",70],"(",["T_VARIABLE","$element",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","getValue",70],"(",")",")",["T_WHITESPACE"," ",70],"{",["T_WHITESPACE","\n            ",70],["T_VARIABLE","$block",71],["T_WHITESPACE"," ",71],"=",["T_WHITESPACE"," ",71],["T_STRING","Mage",71],["T_DOUBLE_COLON","::",71],["T_STRING","getModel",71],"(",["T_CONSTANT_ENCAPSED_STRING","'cms\/block'",71],")",["T_OBJECT_OPERATOR","->",71],["T_STRING","load",71],"(",["T_VARIABLE","$element",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","getValue",71],"(",")",")",";",["T_WHITESPACE","\n            ",71],["T_IF","if",72],["T_WHITESPACE"," ",72],"(",["T_VARIABLE","$block",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","getId",72],"(",")",")",["T_WHITESPACE"," ",72],"{",["T_WHITESPACE","\n                ",72],["T_VARIABLE","$chooser",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","setLabel",73],"(",["T_VARIABLE","$block",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","getTitle",73],"(",")",")",";",["T_WHITESPACE","\n            ",73],"}",["T_WHITESPACE","\n        ",74],"}",["T_WHITESPACE","\n\n        ",75],["T_VARIABLE","$element",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","setData",77],"(",["T_CONSTANT_ENCAPSED_STRING","'after_element_html'",77],",",["T_WHITESPACE"," ",77],["T_VARIABLE","$chooser",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","toHtml",77],"(",")",")",";",["T_WHITESPACE","\n        ",77],["T_RETURN","return",78],["T_WHITESPACE"," ",78],["T_VARIABLE","$element",78],";",["T_WHITESPACE","\n    ",78],"}",["T_WHITESPACE","\n\n    ",79],["T_DOC_COMMENT","\/**\n     * Grid Row JS Callback\n     *\n     * @return string\n     *\/",81],["T_WHITESPACE","\n    ",85],["T_PUBLIC","public",86],["T_WHITESPACE"," ",86],["T_FUNCTION","function",86],["T_WHITESPACE"," ",86],["T_STRING","getRowClickCallback",86],"(",")",["T_WHITESPACE","\n    ",86],"{",["T_WHITESPACE","\n        ",87],["T_VARIABLE","$chooserJsObject",88],["T_WHITESPACE"," ",88],"=",["T_WHITESPACE"," ",88],["T_VARIABLE","$this",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","getId",88],"(",")",";",["T_WHITESPACE","\n        ",88],["T_VARIABLE","$js",89],["T_WHITESPACE"," ",89],"=",["T_WHITESPACE"," ",89],["T_CONSTANT_ENCAPSED_STRING","'\n            function (grid, event) {\n                var trElement = Event.findElement(event, \"tr\");\n                var blockId = trElement.down(\"td\").innerHTML.replace(\/^\\s+|\\s+$\/g,\"\");\n                var blockTitle = trElement.down(\"td\").next().innerHTML;\n                '",89],".",["T_VARIABLE","$chooserJsObject",94],".",["T_CONSTANT_ENCAPSED_STRING","'.setElementValue(blockId);\n                '",94],".",["T_VARIABLE","$chooserJsObject",95],".",["T_CONSTANT_ENCAPSED_STRING","'.setElementLabel(blockTitle);\n                '",95],".",["T_VARIABLE","$chooserJsObject",96],".",["T_CONSTANT_ENCAPSED_STRING","'.close();\n            }\n        '",96],";",["T_WHITESPACE","\n        ",98],["T_RETURN","return",99],["T_WHITESPACE"," ",99],["T_VARIABLE","$js",99],";",["T_WHITESPACE","\n    ",99],"}",["T_WHITESPACE","\n\n    ",100],["T_DOC_COMMENT","\/**\n     * Prepare Cms static blocks collection\n     *\n     * @return Mage_Adminhtml_Block_Widget_Grid\n     *\/",102],["T_WHITESPACE","\n    ",106],["T_PROTECTED","protected",107],["T_WHITESPACE"," ",107],["T_FUNCTION","function",107],["T_WHITESPACE"," ",107],["T_STRING","_prepareCollection",107],"(",")",["T_WHITESPACE","\n    ",107],"{",["T_WHITESPACE","\n        ",108],["T_VARIABLE","$collection",109],["T_WHITESPACE"," ",109],"=",["T_WHITESPACE"," ",109],["T_STRING","Mage",109],["T_DOUBLE_COLON","::",109],["T_STRING","getModel",109],"(",["T_CONSTANT_ENCAPSED_STRING","'cms\/block'",109],")",["T_OBJECT_OPERATOR","->",109],["T_STRING","getCollection",109],"(",")",";",["T_WHITESPACE","\n        ",109],["T_COMMENT","\/* @var $collection Mage_Cms_Model_Mysql4_Block_Collection *\/",110],["T_WHITESPACE","\n        ",110],["T_VARIABLE","$this",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","setCollection",111],"(",["T_VARIABLE","$collection",111],")",";",["T_WHITESPACE","\n        ",111],["T_RETURN","return",112],["T_WHITESPACE"," ",112],["T_STRING","parent",112],["T_DOUBLE_COLON","::",112],["T_STRING","_prepareCollection",112],"(",")",";",["T_WHITESPACE","\n    ",112],"}",["T_WHITESPACE","\n\n    ",113],["T_DOC_COMMENT","\/**\n     * Prepare columns for Cms blocks grid\n     *\n     * @return Mage_Adminhtml_Block_Widget_Grid\n     *\/",115],["T_WHITESPACE","\n    ",119],["T_PROTECTED","protected",120],["T_WHITESPACE"," ",120],["T_FUNCTION","function",120],["T_WHITESPACE"," ",120],["T_STRING","_prepareColumns",120],"(",")",["T_WHITESPACE","\n    ",120],"{",["T_WHITESPACE","\n        ",121],["T_VARIABLE","$this",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","addColumn",122],"(",["T_CONSTANT_ENCAPSED_STRING","'chooser_id'",122],",",["T_WHITESPACE"," ",122],["T_ARRAY","array",122],"(",["T_WHITESPACE","\n            ",122],["T_CONSTANT_ENCAPSED_STRING","'header'",123],["T_WHITESPACE","    ",123],["T_DOUBLE_ARROW","=>",123],["T_WHITESPACE"," ",123],["T_STRING","Mage",123],["T_DOUBLE_COLON","::",123],["T_STRING","helper",123],"(",["T_CONSTANT_ENCAPSED_STRING","'cms'",123],")",["T_OBJECT_OPERATOR","->",123],["T_STRING","__",123],"(",["T_CONSTANT_ENCAPSED_STRING","'ID'",123],")",",",["T_WHITESPACE","\n            ",123],["T_CONSTANT_ENCAPSED_STRING","'align'",124],["T_WHITESPACE","     ",124],["T_DOUBLE_ARROW","=>",124],["T_WHITESPACE"," ",124],["T_CONSTANT_ENCAPSED_STRING","'right'",124],",",["T_WHITESPACE","\n            ",124],["T_CONSTANT_ENCAPSED_STRING","'index'",125],["T_WHITESPACE","     ",125],["T_DOUBLE_ARROW","=>",125],["T_WHITESPACE"," ",125],["T_CONSTANT_ENCAPSED_STRING","'block_id'",125],",",["T_WHITESPACE","\n            ",125],["T_CONSTANT_ENCAPSED_STRING","'width'",126],["T_WHITESPACE","     ",126],["T_DOUBLE_ARROW","=>",126],["T_WHITESPACE"," ",126],["T_LNUMBER","50",126],["T_WHITESPACE","\n        ",126],")",")",";",["T_WHITESPACE","\n\n        ",127],["T_VARIABLE","$this",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","addColumn",129],"(",["T_CONSTANT_ENCAPSED_STRING","'chooser_title'",129],",",["T_WHITESPACE"," ",129],["T_ARRAY","array",129],"(",["T_WHITESPACE","\n            ",129],["T_CONSTANT_ENCAPSED_STRING","'header'",130],["T_WHITESPACE","    ",130],["T_DOUBLE_ARROW","=>",130],["T_WHITESPACE"," ",130],["T_STRING","Mage",130],["T_DOUBLE_COLON","::",130],["T_STRING","helper",130],"(",["T_CONSTANT_ENCAPSED_STRING","'cms'",130],")",["T_OBJECT_OPERATOR","->",130],["T_STRING","__",130],"(",["T_CONSTANT_ENCAPSED_STRING","'Title'",130],")",",",["T_WHITESPACE","\n            ",130],["T_CONSTANT_ENCAPSED_STRING","'align'",131],["T_WHITESPACE","     ",131],["T_DOUBLE_ARROW","=>",131],["T_WHITESPACE"," ",131],["T_CONSTANT_ENCAPSED_STRING","'left'",131],",",["T_WHITESPACE","\n            ",131],["T_CONSTANT_ENCAPSED_STRING","'index'",132],["T_WHITESPACE","     ",132],["T_DOUBLE_ARROW","=>",132],["T_WHITESPACE"," ",132],["T_CONSTANT_ENCAPSED_STRING","'title'",132],",",["T_WHITESPACE","\n        ",132],")",")",";",["T_WHITESPACE","\n\n        ",133],["T_VARIABLE","$this",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","addColumn",135],"(",["T_CONSTANT_ENCAPSED_STRING","'chooser_identifier'",135],",",["T_WHITESPACE"," ",135],["T_ARRAY","array",135],"(",["T_WHITESPACE","\n            ",135],["T_CONSTANT_ENCAPSED_STRING","'header'",136],["T_WHITESPACE","    ",136],["T_DOUBLE_ARROW","=>",136],["T_WHITESPACE"," ",136],["T_STRING","Mage",136],["T_DOUBLE_COLON","::",136],["T_STRING","helper",136],"(",["T_CONSTANT_ENCAPSED_STRING","'cms'",136],")",["T_OBJECT_OPERATOR","->",136],["T_STRING","__",136],"(",["T_CONSTANT_ENCAPSED_STRING","'Identifier'",136],")",",",["T_WHITESPACE","\n            ",136],["T_CONSTANT_ENCAPSED_STRING","'align'",137],["T_WHITESPACE","     ",137],["T_DOUBLE_ARROW","=>",137],["T_WHITESPACE"," ",137],["T_CONSTANT_ENCAPSED_STRING","'left'",137],",",["T_WHITESPACE","\n            ",137],["T_CONSTANT_ENCAPSED_STRING","'index'",138],["T_WHITESPACE","     ",138],["T_DOUBLE_ARROW","=>",138],["T_WHITESPACE"," ",138],["T_CONSTANT_ENCAPSED_STRING","'identifier'",138],["T_WHITESPACE","\n        ",138],")",")",";",["T_WHITESPACE","\n\n\n        ",139],["T_VARIABLE","$this",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","addColumn",142],"(",["T_CONSTANT_ENCAPSED_STRING","'chooser_is_active'",142],",",["T_WHITESPACE"," ",142],["T_ARRAY","array",142],"(",["T_WHITESPACE","\n            ",142],["T_CONSTANT_ENCAPSED_STRING","'header'",143],["T_WHITESPACE","    ",143],["T_DOUBLE_ARROW","=>",143],["T_WHITESPACE"," ",143],["T_STRING","Mage",143],["T_DOUBLE_COLON","::",143],["T_STRING","helper",143],"(",["T_CONSTANT_ENCAPSED_STRING","'cms'",143],")",["T_OBJECT_OPERATOR","->",143],["T_STRING","__",143],"(",["T_CONSTANT_ENCAPSED_STRING","'Status'",143],")",",",["T_WHITESPACE","\n            ",143],["T_CONSTANT_ENCAPSED_STRING","'index'",144],["T_WHITESPACE","     ",144],["T_DOUBLE_ARROW","=>",144],["T_WHITESPACE"," ",144],["T_CONSTANT_ENCAPSED_STRING","'is_active'",144],",",["T_WHITESPACE","\n            ",144],["T_CONSTANT_ENCAPSED_STRING","'type'",145],["T_WHITESPACE","      ",145],["T_DOUBLE_ARROW","=>",145],["T_WHITESPACE"," ",145],["T_CONSTANT_ENCAPSED_STRING","'options'",145],",",["T_WHITESPACE","\n            ",145],["T_CONSTANT_ENCAPSED_STRING","'options'",146],["T_WHITESPACE","   ",146],["T_DOUBLE_ARROW","=>",146],["T_WHITESPACE"," ",146],["T_ARRAY","array",146],"(",["T_WHITESPACE","\n                ",146],["T_LNUMBER","0",147],["T_WHITESPACE"," ",147],["T_DOUBLE_ARROW","=>",147],["T_WHITESPACE"," ",147],["T_STRING","Mage",147],["T_DOUBLE_COLON","::",147],["T_STRING","helper",147],"(",["T_CONSTANT_ENCAPSED_STRING","'cms'",147],")",["T_OBJECT_OPERATOR","->",147],["T_STRING","__",147],"(",["T_CONSTANT_ENCAPSED_STRING","'Disabled'",147],")",",",["T_WHITESPACE","\n                ",147],["T_LNUMBER","1",148],["T_WHITESPACE"," ",148],["T_DOUBLE_ARROW","=>",148],["T_WHITESPACE"," ",148],["T_STRING","Mage",148],["T_DOUBLE_COLON","::",148],["T_STRING","helper",148],"(",["T_CONSTANT_ENCAPSED_STRING","'cms'",148],")",["T_OBJECT_OPERATOR","->",148],["T_STRING","__",148],"(",["T_CONSTANT_ENCAPSED_STRING","'Enabled'",148],")",["T_WHITESPACE","\n            ",148],")",",",["T_WHITESPACE","\n        ",149],")",")",";",["T_WHITESPACE","\n\n        ",150],["T_RETURN","return",152],["T_WHITESPACE"," ",152],["T_STRING","parent",152],["T_DOUBLE_COLON","::",152],["T_STRING","_prepareColumns",152],"(",")",";",["T_WHITESPACE","\n    ",152],"}",["T_WHITESPACE","\n\n    ",153],["T_PUBLIC","public",155],["T_WHITESPACE"," ",155],["T_FUNCTION","function",155],["T_WHITESPACE"," ",155],["T_STRING","getGridUrl",155],"(",")",["T_WHITESPACE","\n    ",155],"{",["T_WHITESPACE","\n        ",156],["T_RETURN","return",157],["T_WHITESPACE"," ",157],["T_VARIABLE","$this",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","getUrl",157],"(",["T_CONSTANT_ENCAPSED_STRING","'*\/cms_block_widget\/chooser'",157],",",["T_WHITESPACE"," ",157],["T_ARRAY","array",157],"(",["T_CONSTANT_ENCAPSED_STRING","'_current'",157],["T_WHITESPACE"," ",157],["T_DOUBLE_ARROW","=>",157],["T_WHITESPACE"," ",157],["T_STRING","true",157],")",")",";",["T_WHITESPACE","\n    ",157],"}",["T_WHITESPACE","\n",158],"}",["T_WHITESPACE","\n",159]]