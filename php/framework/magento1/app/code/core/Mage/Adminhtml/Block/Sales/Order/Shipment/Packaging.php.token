[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Magento\n *\n * NOTICE OF LICENSE\n *\n * This source file is subject to the Open Software License (OSL 3.0)\n * that is bundled with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/opensource.org\/licenses\/osl-3.0.php\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@magento.com so we can send you a copy immediately.\n *\n * DISCLAIMER\n *\n * Do not edit or add to this file if you wish to upgrade Magento to newer\n * versions in the future. If you wish to customize Magento for your\n * needs please refer to http:\/\/www.magento.com for more information.\n *\n * @category    Mage\n * @package     Mage_Adminhtml\n * @copyright  Copyright (c) 2006-2016 X.commerce, Inc. and affiliates (http:\/\/www.magento.com)\n * @license    http:\/\/opensource.org\/licenses\/osl-3.0.php  Open Software License (OSL 3.0)\n *\/",2],["T_WHITESPACE","\n\n",25],["T_DOC_COMMENT","\/**\n * Adminhtml shipment packaging\n *\n * @category   Mage\n * @package    Mage_Adminhtml\n * @author      Magento Core Team <core@magentocommerce.com>\n *\/",27],["T_WHITESPACE","\n\n",33],["T_CLASS","class",35],["T_WHITESPACE"," ",35],["T_STRING","Mage_Adminhtml_Block_Sales_Order_Shipment_Packaging",35],["T_WHITESPACE"," ",35],["T_EXTENDS","extends",35],["T_WHITESPACE"," ",35],["T_STRING","Mage_Adminhtml_Block_Template",35],["T_WHITESPACE","\n",35],"{",["T_WHITESPACE","\n    ",36],["T_DOC_COMMENT","\/**\n     * Retrieve shipment model instance\n     *\n     * @return Mage_Sales_Model_Order_Shipment\n     *\/",37],["T_WHITESPACE","\n    ",41],["T_PUBLIC","public",42],["T_WHITESPACE"," ",42],["T_FUNCTION","function",42],["T_WHITESPACE"," ",42],["T_STRING","getShipment",42],"(",")",["T_WHITESPACE","\n    ",42],"{",["T_WHITESPACE","\n        ",43],["T_RETURN","return",44],["T_WHITESPACE"," ",44],["T_STRING","Mage",44],["T_DOUBLE_COLON","::",44],["T_STRING","registry",44],"(",["T_CONSTANT_ENCAPSED_STRING","'current_shipment'",44],")",";",["T_WHITESPACE","\n    ",44],"}",["T_WHITESPACE","\n\n    ",45],["T_DOC_COMMENT","\/**\n     * Configuration for popup window for packaging\n     *\n     * @return string\n     *\/",47],["T_WHITESPACE","\n    ",51],["T_PUBLIC","public",52],["T_WHITESPACE"," ",52],["T_FUNCTION","function",52],["T_WHITESPACE"," ",52],["T_STRING","getConfigDataJson",52],"(",")",["T_WHITESPACE","\n    ",52],"{",["T_WHITESPACE","\n        ",53],["T_VARIABLE","$shipmentId",54],["T_WHITESPACE"," ",54],"=",["T_WHITESPACE"," ",54],["T_VARIABLE","$this",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","getShipment",54],"(",")",["T_OBJECT_OPERATOR","->",54],["T_STRING","getId",54],"(",")",";",["T_WHITESPACE","\n        ",54],["T_VARIABLE","$orderId",55],["T_WHITESPACE"," ",55],"=",["T_WHITESPACE"," ",55],["T_VARIABLE","$this",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","getRequest",55],"(",")",["T_OBJECT_OPERATOR","->",55],["T_STRING","getParam",55],"(",["T_CONSTANT_ENCAPSED_STRING","'order_id'",55],")",";",["T_WHITESPACE","\n        ",55],["T_VARIABLE","$urlParams",56],["T_WHITESPACE"," ",56],"=",["T_WHITESPACE"," ",56],["T_ARRAY","array",56],"(",")",";",["T_WHITESPACE","\n\n        ",56],["T_VARIABLE","$itemsQty",58],["T_WHITESPACE","       ",58],"=",["T_WHITESPACE"," ",58],["T_ARRAY","array",58],"(",")",";",["T_WHITESPACE","\n        ",58],["T_VARIABLE","$itemsPrice",59],["T_WHITESPACE","     ",59],"=",["T_WHITESPACE"," ",59],["T_ARRAY","array",59],"(",")",";",["T_WHITESPACE","\n        ",59],["T_VARIABLE","$itemsName",60],["T_WHITESPACE","      ",60],"=",["T_WHITESPACE"," ",60],["T_ARRAY","array",60],"(",")",";",["T_WHITESPACE","\n        ",60],["T_VARIABLE","$itemsWeight",61],["T_WHITESPACE","    ",61],"=",["T_WHITESPACE"," ",61],["T_ARRAY","array",61],"(",")",";",["T_WHITESPACE","\n        ",61],["T_VARIABLE","$itemsProductId",62],["T_WHITESPACE"," ",62],"=",["T_WHITESPACE"," ",62],["T_ARRAY","array",62],"(",")",";",["T_WHITESPACE","\n\n        ",62],["T_IF","if",64],["T_WHITESPACE"," ",64],"(",["T_VARIABLE","$shipmentId",64],")",["T_WHITESPACE"," ",64],"{",["T_WHITESPACE","\n            ",64],["T_VARIABLE","$urlParams",65],"[",["T_CONSTANT_ENCAPSED_STRING","'shipment_id'",65],"]",["T_WHITESPACE"," ",65],"=",["T_WHITESPACE"," ",65],["T_VARIABLE","$shipmentId",65],";",["T_WHITESPACE","\n            ",65],["T_VARIABLE","$createLabelUrl",66],["T_WHITESPACE"," ",66],"=",["T_WHITESPACE"," ",66],["T_VARIABLE","$this",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","getUrl",66],"(",["T_CONSTANT_ENCAPSED_STRING","'*\/sales_order_shipment\/createLabel'",66],",",["T_WHITESPACE"," ",66],["T_VARIABLE","$urlParams",66],")",";",["T_WHITESPACE","\n            ",66],["T_VARIABLE","$itemsGridUrl",67],["T_WHITESPACE"," ",67],"=",["T_WHITESPACE"," ",67],["T_VARIABLE","$this",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","getUrl",67],"(",["T_CONSTANT_ENCAPSED_STRING","'*\/sales_order_shipment\/getShippingItemsGrid'",67],",",["T_WHITESPACE"," ",67],["T_VARIABLE","$urlParams",67],")",";",["T_WHITESPACE","\n            ",67],["T_FOREACH","foreach",68],["T_WHITESPACE"," ",68],"(",["T_VARIABLE","$this",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","getShipment",68],"(",")",["T_OBJECT_OPERATOR","->",68],["T_STRING","getAllItems",68],"(",")",["T_WHITESPACE"," ",68],["T_AS","as",68],["T_WHITESPACE"," ",68],["T_VARIABLE","$item",68],")",["T_WHITESPACE"," ",68],"{",["T_WHITESPACE","\n                ",68],["T_VARIABLE","$itemsQty",69],"[",["T_VARIABLE","$item",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","getId",69],"(",")","]",["T_WHITESPACE","           ",69],"=",["T_WHITESPACE"," ",69],["T_VARIABLE","$item",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","getQty",69],"(",")",";",["T_WHITESPACE","\n                ",69],["T_VARIABLE","$itemsPrice",70],"[",["T_VARIABLE","$item",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","getId",70],"(",")","]",["T_WHITESPACE","         ",70],"=",["T_WHITESPACE"," ",70],["T_VARIABLE","$item",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","getPrice",70],"(",")",";",["T_WHITESPACE","\n                ",70],["T_VARIABLE","$itemsName",71],"[",["T_VARIABLE","$item",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","getId",71],"(",")","]",["T_WHITESPACE","          ",71],"=",["T_WHITESPACE"," ",71],["T_VARIABLE","$item",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","getName",71],"(",")",";",["T_WHITESPACE","\n                ",71],["T_VARIABLE","$itemsWeight",72],"[",["T_VARIABLE","$item",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","getId",72],"(",")","]",["T_WHITESPACE","        ",72],"=",["T_WHITESPACE"," ",72],["T_VARIABLE","$item",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","getWeight",72],"(",")",";",["T_WHITESPACE","\n                ",72],["T_VARIABLE","$itemsProductId",73],"[",["T_VARIABLE","$item",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","getId",73],"(",")","]",["T_WHITESPACE","     ",73],"=",["T_WHITESPACE"," ",73],["T_VARIABLE","$item",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","getProductId",73],"(",")",";",["T_WHITESPACE","\n                ",73],["T_VARIABLE","$itemsOrderItemId",74],"[",["T_VARIABLE","$item",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","getId",74],"(",")","]",["T_WHITESPACE","   ",74],"=",["T_WHITESPACE"," ",74],["T_VARIABLE","$item",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","getOrderItemId",74],"(",")",";",["T_WHITESPACE","\n            ",74],"}",["T_WHITESPACE","\n        ",75],"}",["T_WHITESPACE"," ",76],["T_ELSE","else",76],["T_WHITESPACE"," ",76],["T_IF","if",76],["T_WHITESPACE"," ",76],"(",["T_VARIABLE","$orderId",76],")",["T_WHITESPACE"," ",76],"{",["T_WHITESPACE","\n            ",76],["T_VARIABLE","$urlParams",77],"[",["T_CONSTANT_ENCAPSED_STRING","'order_id'",77],"]",["T_WHITESPACE"," ",77],"=",["T_WHITESPACE"," ",77],["T_VARIABLE","$orderId",77],";",["T_WHITESPACE","\n            ",77],["T_VARIABLE","$createLabelUrl",78],["T_WHITESPACE"," ",78],"=",["T_WHITESPACE"," ",78],["T_VARIABLE","$this",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","getUrl",78],"(",["T_CONSTANT_ENCAPSED_STRING","'*\/sales_order_shipment\/save'",78],",",["T_WHITESPACE"," ",78],["T_VARIABLE","$urlParams",78],")",";",["T_WHITESPACE","\n            ",78],["T_VARIABLE","$itemsGridUrl",79],["T_WHITESPACE"," ",79],"=",["T_WHITESPACE"," ",79],["T_VARIABLE","$this",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","getUrl",79],"(",["T_CONSTANT_ENCAPSED_STRING","'*\/sales_order_shipment\/getShippingItemsGrid'",79],",",["T_WHITESPACE"," ",79],["T_VARIABLE","$urlParams",79],")",";",["T_WHITESPACE","\n\n            ",79],["T_FOREACH","foreach",81],["T_WHITESPACE"," ",81],"(",["T_VARIABLE","$this",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","getShipment",81],"(",")",["T_OBJECT_OPERATOR","->",81],["T_STRING","getAllItems",81],"(",")",["T_WHITESPACE"," ",81],["T_AS","as",81],["T_WHITESPACE"," ",81],["T_VARIABLE","$item",81],")",["T_WHITESPACE"," ",81],"{",["T_WHITESPACE","\n                ",81],["T_VARIABLE","$itemsQty",82],"[",["T_VARIABLE","$item",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","getOrderItemId",82],"(",")","]",["T_WHITESPACE","          ",82],"=",["T_WHITESPACE"," ",82],["T_VARIABLE","$item",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","getQty",82],"(",")","*",["T_LNUMBER","1",82],";",["T_WHITESPACE","\n                ",82],["T_VARIABLE","$itemsPrice",83],"[",["T_VARIABLE","$item",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","getOrderItemId",83],"(",")","]",["T_WHITESPACE","        ",83],"=",["T_WHITESPACE"," ",83],["T_VARIABLE","$item",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","getPrice",83],"(",")",";",["T_WHITESPACE","\n                ",83],["T_VARIABLE","$itemsName",84],"[",["T_VARIABLE","$item",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","getOrderItemId",84],"(",")","]",["T_WHITESPACE","         ",84],"=",["T_WHITESPACE"," ",84],["T_VARIABLE","$item",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","getName",84],"(",")",";",["T_WHITESPACE","\n                ",84],["T_VARIABLE","$itemsWeight",85],"[",["T_VARIABLE","$item",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","getOrderItemId",85],"(",")","]",["T_WHITESPACE","       ",85],"=",["T_WHITESPACE"," ",85],["T_VARIABLE","$item",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","getWeight",85],"(",")",";",["T_WHITESPACE","\n                ",85],["T_VARIABLE","$itemsProductId",86],"[",["T_VARIABLE","$item",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","getOrderItemId",86],"(",")","]",["T_WHITESPACE","    ",86],"=",["T_WHITESPACE"," ",86],["T_VARIABLE","$item",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","getProductId",86],"(",")",";",["T_WHITESPACE","\n                ",86],["T_VARIABLE","$itemsOrderItemId",87],"[",["T_VARIABLE","$item",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","getOrderItemId",87],"(",")","]",["T_WHITESPACE","  ",87],"=",["T_WHITESPACE"," ",87],["T_VARIABLE","$item",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","getOrderItemId",87],"(",")",";",["T_WHITESPACE","\n            ",87],"}",["T_WHITESPACE","\n        ",88],"}",["T_WHITESPACE","\n        ",89],["T_VARIABLE","$data",90],["T_WHITESPACE"," ",90],"=",["T_WHITESPACE"," ",90],["T_ARRAY","array",90],"(",["T_WHITESPACE","\n            ",90],["T_CONSTANT_ENCAPSED_STRING","'createLabelUrl'",91],["T_WHITESPACE","            ",91],["T_DOUBLE_ARROW","=>",91],["T_WHITESPACE"," ",91],["T_VARIABLE","$createLabelUrl",91],",",["T_WHITESPACE","\n            ",91],["T_CONSTANT_ENCAPSED_STRING","'itemsGridUrl'",92],["T_WHITESPACE","              ",92],["T_DOUBLE_ARROW","=>",92],["T_WHITESPACE"," ",92],["T_VARIABLE","$itemsGridUrl",92],",",["T_WHITESPACE","\n            ",92],["T_CONSTANT_ENCAPSED_STRING","'errorQtyOverLimit'",93],["T_WHITESPACE","         ",93],["T_DOUBLE_ARROW","=>",93],["T_WHITESPACE"," ",93],["T_STRING","Mage",93],["T_DOUBLE_COLON","::",93],["T_STRING","helper",93],"(",["T_CONSTANT_ENCAPSED_STRING","'sales'",93],")",["T_OBJECT_OPERATOR","->",93],["T_STRING","__",93],"(",["T_CONSTANT_ENCAPSED_STRING","'The quantity you want to add exceeds the total shipped quantity for some of selected Product(s)'",93],")",",",["T_WHITESPACE","\n            ",93],["T_CONSTANT_ENCAPSED_STRING","'titleDisabledSaveBtn'",94],["T_WHITESPACE","      ",94],["T_DOUBLE_ARROW","=>",94],["T_WHITESPACE"," ",94],["T_STRING","Mage",94],["T_DOUBLE_COLON","::",94],["T_STRING","helper",94],"(",["T_CONSTANT_ENCAPSED_STRING","'sales'",94],")",["T_OBJECT_OPERATOR","->",94],["T_STRING","__",94],"(",["T_CONSTANT_ENCAPSED_STRING","'Products should be added to package(s)'",94],")",",",["T_WHITESPACE","\n            ",94],["T_CONSTANT_ENCAPSED_STRING","'validationErrorMsg'",95],["T_WHITESPACE","        ",95],["T_DOUBLE_ARROW","=>",95],["T_WHITESPACE"," ",95],["T_STRING","Mage",95],["T_DOUBLE_COLON","::",95],["T_STRING","helper",95],"(",["T_CONSTANT_ENCAPSED_STRING","'sales'",95],")",["T_OBJECT_OPERATOR","->",95],["T_STRING","__",95],"(",["T_CONSTANT_ENCAPSED_STRING","'The value that you entered is not valid.'",95],")",",",["T_WHITESPACE","\n            ",95],["T_CONSTANT_ENCAPSED_STRING","'shipmentItemsQty'",96],["T_WHITESPACE","          ",96],["T_DOUBLE_ARROW","=>",96],["T_WHITESPACE"," ",96],["T_VARIABLE","$itemsQty",96],",",["T_WHITESPACE","\n            ",96],["T_CONSTANT_ENCAPSED_STRING","'shipmentItemsPrice'",97],["T_WHITESPACE","        ",97],["T_DOUBLE_ARROW","=>",97],["T_WHITESPACE"," ",97],["T_VARIABLE","$itemsPrice",97],",",["T_WHITESPACE","\n            ",97],["T_CONSTANT_ENCAPSED_STRING","'shipmentItemsName'",98],["T_WHITESPACE","         ",98],["T_DOUBLE_ARROW","=>",98],["T_WHITESPACE"," ",98],["T_VARIABLE","$itemsName",98],",",["T_WHITESPACE","\n            ",98],["T_CONSTANT_ENCAPSED_STRING","'shipmentItemsWeight'",99],["T_WHITESPACE","       ",99],["T_DOUBLE_ARROW","=>",99],["T_WHITESPACE"," ",99],["T_VARIABLE","$itemsWeight",99],",",["T_WHITESPACE","\n            ",99],["T_CONSTANT_ENCAPSED_STRING","'shipmentItemsProductId'",100],["T_WHITESPACE","    ",100],["T_DOUBLE_ARROW","=>",100],["T_WHITESPACE"," ",100],["T_VARIABLE","$itemsProductId",100],",",["T_WHITESPACE","\n            ",100],["T_CONSTANT_ENCAPSED_STRING","'shipmentItemsOrderItemId'",101],["T_WHITESPACE","  ",101],["T_DOUBLE_ARROW","=>",101],["T_WHITESPACE"," ",101],["T_VARIABLE","$itemsOrderItemId",101],",",["T_WHITESPACE","\n            ",101],["T_CONSTANT_ENCAPSED_STRING","'customizable'",102],["T_WHITESPACE","              ",102],["T_DOUBLE_ARROW","=>",102],["T_WHITESPACE"," ",102],["T_VARIABLE","$this",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","_getCustomizableContainers",102],"(",")",",",["T_WHITESPACE","\n        ",102],")",";",["T_WHITESPACE","\n        ",103],["T_RETURN","return",104],["T_WHITESPACE"," ",104],["T_STRING","Mage",104],["T_DOUBLE_COLON","::",104],["T_STRING","helper",104],"(",["T_CONSTANT_ENCAPSED_STRING","'core'",104],")",["T_OBJECT_OPERATOR","->",104],["T_STRING","jsonEncode",104],"(",["T_VARIABLE","$data",104],")",";",["T_WHITESPACE","\n    ",104],"}",["T_WHITESPACE","\n\n    ",105],["T_DOC_COMMENT","\/**\n     * Return container types of carrier\n     *\n     * @return array\n     *\/",107],["T_WHITESPACE","\n    ",111],["T_PUBLIC","public",112],["T_WHITESPACE"," ",112],["T_FUNCTION","function",112],["T_WHITESPACE"," ",112],["T_STRING","getContainers",112],"(",")",["T_WHITESPACE","\n    ",112],"{",["T_WHITESPACE","\n        ",113],["T_VARIABLE","$order",114],["T_WHITESPACE"," ",114],"=",["T_WHITESPACE"," ",114],["T_VARIABLE","$this",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","getShipment",114],"(",")",["T_OBJECT_OPERATOR","->",114],["T_STRING","getOrder",114],"(",")",";",["T_WHITESPACE","\n        ",114],["T_VARIABLE","$storeId",115],["T_WHITESPACE"," ",115],"=",["T_WHITESPACE"," ",115],["T_VARIABLE","$this",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","getShipment",115],"(",")",["T_OBJECT_OPERATOR","->",115],["T_STRING","getStoreId",115],"(",")",";",["T_WHITESPACE","\n        ",115],["T_VARIABLE","$address",116],["T_WHITESPACE"," ",116],"=",["T_WHITESPACE"," ",116],["T_VARIABLE","$order",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","getShippingAddress",116],"(",")",";",["T_WHITESPACE","\n        ",116],["T_VARIABLE","$carrier",117],["T_WHITESPACE"," ",117],"=",["T_WHITESPACE"," ",117],["T_VARIABLE","$order",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","getShippingCarrier",117],"(",")",";",["T_WHITESPACE","\n        ",117],["T_VARIABLE","$countryShipper",118],["T_WHITESPACE"," ",118],"=",["T_WHITESPACE"," ",118],["T_STRING","Mage",118],["T_DOUBLE_COLON","::",118],["T_STRING","getStoreConfig",118],"(",["T_STRING","Mage_Shipping_Model_Shipping",118],["T_DOUBLE_COLON","::",118],["T_STRING","XML_PATH_STORE_COUNTRY_ID",118],",",["T_WHITESPACE"," ",118],["T_VARIABLE","$storeId",118],")",";",["T_WHITESPACE","\n        ",118],["T_IF","if",119],["T_WHITESPACE"," ",119],"(",["T_VARIABLE","$carrier",119],")",["T_WHITESPACE"," ",119],"{",["T_WHITESPACE","\n            ",119],["T_VARIABLE","$params",120],["T_WHITESPACE"," ",120],"=",["T_WHITESPACE"," ",120],["T_NEW","new",120],["T_WHITESPACE"," ",120],["T_STRING","Varien_Object",120],"(",["T_ARRAY","array",120],"(",["T_WHITESPACE","\n                ",120],["T_CONSTANT_ENCAPSED_STRING","'method'",121],["T_WHITESPACE"," ",121],["T_DOUBLE_ARROW","=>",121],["T_WHITESPACE"," ",121],["T_VARIABLE","$order",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","getShippingMethod",121],"(",["T_STRING","true",121],")",["T_OBJECT_OPERATOR","->",121],["T_STRING","getMethod",121],"(",")",",",["T_WHITESPACE","\n                ",121],["T_CONSTANT_ENCAPSED_STRING","'country_shipper'",122],["T_WHITESPACE"," ",122],["T_DOUBLE_ARROW","=>",122],["T_WHITESPACE"," ",122],["T_VARIABLE","$countryShipper",122],",",["T_WHITESPACE","\n                ",122],["T_CONSTANT_ENCAPSED_STRING","'country_recipient'",123],["T_WHITESPACE"," ",123],["T_DOUBLE_ARROW","=>",123],["T_WHITESPACE"," ",123],["T_VARIABLE","$address",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","getCountryId",123],"(",")",",",["T_WHITESPACE","\n            ",123],")",")",";",["T_WHITESPACE","\n            ",124],["T_RETURN","return",125],["T_WHITESPACE"," ",125],["T_VARIABLE","$carrier",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","getContainerTypes",125],"(",["T_VARIABLE","$params",125],")",";",["T_WHITESPACE","\n        ",125],"}",["T_WHITESPACE","\n        ",126],["T_RETURN","return",127],["T_WHITESPACE"," ",127],["T_ARRAY","array",127],"(",")",";",["T_WHITESPACE","\n    ",127],"}",["T_WHITESPACE","\n\n    ",128],["T_DOC_COMMENT","\/**\n     * Get codes of customizable container types of carrier\n     *\n     * @return array\n     *\/",130],["T_WHITESPACE","\n    ",134],["T_PROTECTED","protected",135],["T_WHITESPACE"," ",135],["T_FUNCTION","function",135],["T_WHITESPACE"," ",135],["T_STRING","_getCustomizableContainers",135],"(",")",["T_WHITESPACE","\n    ",135],"{",["T_WHITESPACE","\n        ",136],["T_VARIABLE","$carrier",137],["T_WHITESPACE"," ",137],"=",["T_WHITESPACE"," ",137],["T_VARIABLE","$this",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","getShipment",137],"(",")",["T_OBJECT_OPERATOR","->",137],["T_STRING","getOrder",137],"(",")",["T_OBJECT_OPERATOR","->",137],["T_STRING","getShippingCarrier",137],"(",")",";",["T_WHITESPACE","\n        ",137],["T_IF","if",138],["T_WHITESPACE"," ",138],"(",["T_VARIABLE","$carrier",138],")",["T_WHITESPACE"," ",138],"{",["T_WHITESPACE","\n            ",138],["T_RETURN","return",139],["T_WHITESPACE"," ",139],["T_VARIABLE","$carrier",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","getCustomizableContainerTypes",139],"(",")",";",["T_WHITESPACE","\n        ",139],"}",["T_WHITESPACE","\n        ",140],["T_RETURN","return",141],["T_WHITESPACE"," ",141],["T_ARRAY","array",141],"(",")",";",["T_WHITESPACE","\n    ",141],"}",["T_WHITESPACE","\n\n    ",142],["T_DOC_COMMENT","\/**\n     * Return name of container type by its code\n     *\n     * @param string $code\n     * @return string\n     *\/",144],["T_WHITESPACE","\n    ",149],["T_PUBLIC","public",150],["T_WHITESPACE"," ",150],["T_FUNCTION","function",150],["T_WHITESPACE"," ",150],["T_STRING","getContainerTypeByCode",150],"(",["T_VARIABLE","$code",150],")",["T_WHITESPACE","\n    ",150],"{",["T_WHITESPACE","\n        ",151],["T_VARIABLE","$carrier",152],["T_WHITESPACE"," ",152],"=",["T_WHITESPACE"," ",152],["T_VARIABLE","$this",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","getShipment",152],"(",")",["T_OBJECT_OPERATOR","->",152],["T_STRING","getOrder",152],"(",")",["T_OBJECT_OPERATOR","->",152],["T_STRING","getShippingCarrier",152],"(",")",";",["T_WHITESPACE","\n        ",152],["T_IF","if",153],["T_WHITESPACE"," ",153],"(",["T_VARIABLE","$carrier",153],")",["T_WHITESPACE"," ",153],"{",["T_WHITESPACE","\n            ",153],["T_VARIABLE","$containerTypes",154],["T_WHITESPACE"," ",154],"=",["T_WHITESPACE"," ",154],["T_VARIABLE","$carrier",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","getContainerTypes",154],"(",")",";",["T_WHITESPACE","\n            ",154],["T_VARIABLE","$containerType",155],["T_WHITESPACE"," ",155],"=",["T_WHITESPACE"," ",155],"!",["T_EMPTY","empty",155],"(",["T_VARIABLE","$containerTypes",155],"[",["T_VARIABLE","$code",155],"]",")",["T_WHITESPACE"," ",155],"?",["T_WHITESPACE"," ",155],["T_VARIABLE","$containerTypes",155],"[",["T_VARIABLE","$code",155],"]",["T_WHITESPACE"," ",155],":",["T_WHITESPACE"," ",155],["T_CONSTANT_ENCAPSED_STRING","''",155],";",["T_WHITESPACE","\n            ",155],["T_RETURN","return",156],["T_WHITESPACE"," ",156],["T_VARIABLE","$containerType",156],";",["T_WHITESPACE","\n        ",156],"}",["T_WHITESPACE","\n        ",157],["T_RETURN","return",158],["T_WHITESPACE"," ",158],["T_CONSTANT_ENCAPSED_STRING","''",158],";",["T_WHITESPACE","\n    ",158],"}",["T_WHITESPACE","\n\n    ",159],["T_DOC_COMMENT","\/**\n     * Return name of delivery confirmation type by its code\n     *\n     * @param string $code\n     * @return string\n     *\/",161],["T_WHITESPACE","\n    ",166],["T_PUBLIC","public",167],["T_WHITESPACE"," ",167],["T_FUNCTION","function",167],["T_WHITESPACE"," ",167],["T_STRING","getDeliveryConfirmationTypeByCode",167],"(",["T_VARIABLE","$code",167],")",["T_WHITESPACE","\n    ",167],"{",["T_WHITESPACE","\n        ",168],["T_VARIABLE","$countryId",169],["T_WHITESPACE"," ",169],"=",["T_WHITESPACE"," ",169],["T_VARIABLE","$this",169],["T_OBJECT_OPERATOR","->",169],["T_STRING","getShipment",169],"(",")",["T_OBJECT_OPERATOR","->",169],["T_STRING","getOrder",169],"(",")",["T_OBJECT_OPERATOR","->",169],["T_STRING","getShippingAddress",169],"(",")",["T_OBJECT_OPERATOR","->",169],["T_STRING","getCountryId",169],"(",")",";",["T_WHITESPACE","\n        ",169],["T_VARIABLE","$carrier",170],["T_WHITESPACE"," ",170],"=",["T_WHITESPACE"," ",170],["T_VARIABLE","$this",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","getShipment",170],"(",")",["T_OBJECT_OPERATOR","->",170],["T_STRING","getOrder",170],"(",")",["T_OBJECT_OPERATOR","->",170],["T_STRING","getShippingCarrier",170],"(",")",";",["T_WHITESPACE","\n        ",170],["T_IF","if",171],["T_WHITESPACE"," ",171],"(",["T_VARIABLE","$carrier",171],")",["T_WHITESPACE"," ",171],"{",["T_WHITESPACE","\n            ",171],["T_VARIABLE","$params",172],["T_WHITESPACE"," ",172],"=",["T_WHITESPACE"," ",172],["T_NEW","new",172],["T_WHITESPACE"," ",172],["T_STRING","Varien_Object",172],"(",["T_ARRAY","array",172],"(",["T_CONSTANT_ENCAPSED_STRING","'country_recipient'",172],["T_WHITESPACE"," ",172],["T_DOUBLE_ARROW","=>",172],["T_WHITESPACE"," ",172],["T_VARIABLE","$countryId",172],")",")",";",["T_WHITESPACE","\n            ",172],["T_VARIABLE","$confirmationTypes",173],["T_WHITESPACE"," ",173],"=",["T_WHITESPACE"," ",173],["T_VARIABLE","$carrier",173],["T_OBJECT_OPERATOR","->",173],["T_STRING","getDeliveryConfirmationTypes",173],"(",["T_VARIABLE","$params",173],")",";",["T_WHITESPACE","\n            ",173],["T_VARIABLE","$confirmationType",174],["T_WHITESPACE"," ",174],"=",["T_WHITESPACE"," ",174],"!",["T_EMPTY","empty",174],"(",["T_VARIABLE","$confirmationTypes",174],"[",["T_VARIABLE","$code",174],"]",")",["T_WHITESPACE"," ",174],"?",["T_WHITESPACE"," ",174],["T_VARIABLE","$confirmationTypes",174],"[",["T_VARIABLE","$code",174],"]",["T_WHITESPACE"," ",174],":",["T_WHITESPACE"," ",174],["T_CONSTANT_ENCAPSED_STRING","''",174],";",["T_WHITESPACE","\n            ",174],["T_RETURN","return",175],["T_WHITESPACE"," ",175],["T_VARIABLE","$confirmationType",175],";",["T_WHITESPACE","\n        ",175],"}",["T_WHITESPACE","\n        ",176],["T_RETURN","return",177],["T_WHITESPACE"," ",177],["T_CONSTANT_ENCAPSED_STRING","''",177],";",["T_WHITESPACE","\n    ",177],"}",["T_WHITESPACE","\n\n    ",178],["T_DOC_COMMENT","\/**\n     * Return name of content type by its code\n     *\n     * @param string $code\n     * @return string\n     *\/",180],["T_WHITESPACE","\n    ",185],["T_PUBLIC","public",186],["T_WHITESPACE"," ",186],["T_FUNCTION","function",186],["T_WHITESPACE"," ",186],["T_STRING","getContentTypeByCode",186],"(",["T_VARIABLE","$code",186],")",["T_WHITESPACE","\n    ",186],"{",["T_WHITESPACE","\n        ",187],["T_VARIABLE","$contentTypes",188],["T_WHITESPACE"," ",188],"=",["T_WHITESPACE"," ",188],["T_VARIABLE","$this",188],["T_OBJECT_OPERATOR","->",188],["T_STRING","getContentTypes",188],"(",")",";",["T_WHITESPACE","\n        ",188],["T_IF","if",189],["T_WHITESPACE"," ",189],"(","!",["T_EMPTY","empty",189],"(",["T_VARIABLE","$contentTypes",189],"[",["T_VARIABLE","$code",189],"]",")",")",["T_WHITESPACE"," ",189],"{",["T_WHITESPACE","\n            ",189],["T_RETURN","return",190],["T_WHITESPACE"," ",190],["T_VARIABLE","$contentTypes",190],"[",["T_VARIABLE","$code",190],"]",";",["T_WHITESPACE","\n        ",190],"}",["T_WHITESPACE","\n        ",191],["T_RETURN","return",192],["T_WHITESPACE"," ",192],["T_CONSTANT_ENCAPSED_STRING","''",192],";",["T_WHITESPACE","\n    ",192],"}",["T_WHITESPACE","\n\n    ",193],["T_DOC_COMMENT","\/**\n     * Get packed products in packages\n     *\n     * @return array\n     *\/",195],["T_WHITESPACE","\n    ",199],["T_PUBLIC","public",200],["T_WHITESPACE"," ",200],["T_FUNCTION","function",200],["T_WHITESPACE"," ",200],["T_STRING","getPackages",200],"(",")",["T_WHITESPACE","\n    ",200],"{",["T_WHITESPACE","\n        ",201],["T_VARIABLE","$packages",202],["T_WHITESPACE"," ",202],"=",["T_WHITESPACE"," ",202],["T_VARIABLE","$this",202],["T_OBJECT_OPERATOR","->",202],["T_STRING","getShipment",202],"(",")",["T_OBJECT_OPERATOR","->",202],["T_STRING","getPackages",202],"(",")",";",["T_WHITESPACE","\n        ",202],["T_IF","if",203],["T_WHITESPACE"," ",203],"(",["T_VARIABLE","$packages",203],")",["T_WHITESPACE"," ",203],"{",["T_WHITESPACE","\n            ",203],["T_VARIABLE","$packages",204],["T_WHITESPACE"," ",204],"=",["T_WHITESPACE"," ",204],["T_STRING","unserialize",204],"(",["T_VARIABLE","$packages",204],")",";",["T_WHITESPACE","\n        ",204],"}",["T_WHITESPACE"," ",205],["T_ELSE","else",205],["T_WHITESPACE"," ",205],"{",["T_WHITESPACE","\n            ",205],["T_VARIABLE","$packages",206],["T_WHITESPACE"," ",206],"=",["T_WHITESPACE"," ",206],["T_ARRAY","array",206],"(",")",";",["T_WHITESPACE","\n        ",206],"}",["T_WHITESPACE","\n        ",207],["T_RETURN","return",208],["T_WHITESPACE"," ",208],["T_VARIABLE","$packages",208],";",["T_WHITESPACE","\n    ",208],"}",["T_WHITESPACE","\n\n    ",209],["T_DOC_COMMENT","\/**\n     * Get item of shipment by its id\n     *\n     * @param  $itemId\n     * @param  $itemsOf\n     * @return Varien_Object\n     *\/",211],["T_WHITESPACE","\n    ",217],["T_PUBLIC","public",218],["T_WHITESPACE"," ",218],["T_FUNCTION","function",218],["T_WHITESPACE"," ",218],["T_STRING","getShipmentItem",218],"(",["T_VARIABLE","$itemId",218],",",["T_WHITESPACE"," ",218],["T_VARIABLE","$itemsOf",218],")",["T_WHITESPACE","\n    ",218],"{",["T_WHITESPACE","\n        ",219],["T_VARIABLE","$items",220],["T_WHITESPACE"," ",220],"=",["T_WHITESPACE"," ",220],["T_VARIABLE","$this",220],["T_OBJECT_OPERATOR","->",220],["T_STRING","getShipment",220],"(",")",["T_OBJECT_OPERATOR","->",220],["T_STRING","getAllItems",220],"(",")",";",["T_WHITESPACE","\n        ",220],["T_FOREACH","foreach",221],["T_WHITESPACE"," ",221],"(",["T_VARIABLE","$items",221],["T_WHITESPACE"," ",221],["T_AS","as",221],["T_WHITESPACE"," ",221],["T_VARIABLE","$item",221],")",["T_WHITESPACE"," ",221],"{",["T_WHITESPACE","\n            ",221],["T_IF","if",222],["T_WHITESPACE"," ",222],"(",["T_VARIABLE","$itemsOf",222],["T_WHITESPACE"," ",222],["T_IS_EQUAL","==",222],["T_WHITESPACE"," ",222],["T_CONSTANT_ENCAPSED_STRING","'order'",222],["T_WHITESPACE"," ",222],["T_BOOLEAN_AND","&&",222],["T_WHITESPACE"," ",222],["T_VARIABLE","$item",222],["T_OBJECT_OPERATOR","->",222],["T_STRING","getOrderItemId",222],"(",")",["T_WHITESPACE"," ",222],["T_IS_EQUAL","==",222],["T_WHITESPACE"," ",222],["T_VARIABLE","$itemId",222],")",["T_WHITESPACE"," ",222],"{",["T_WHITESPACE","\n                ",222],["T_RETURN","return",223],["T_WHITESPACE"," ",223],["T_VARIABLE","$item",223],";",["T_WHITESPACE","\n            ",223],"}",["T_WHITESPACE"," ",224],["T_ELSE","else",224],["T_WHITESPACE"," ",224],["T_IF","if",224],["T_WHITESPACE"," ",224],"(",["T_VARIABLE","$itemsOf",224],["T_WHITESPACE"," ",224],["T_IS_EQUAL","==",224],["T_WHITESPACE"," ",224],["T_CONSTANT_ENCAPSED_STRING","'shipment'",224],["T_WHITESPACE"," ",224],["T_BOOLEAN_AND","&&",224],["T_WHITESPACE"," ",224],["T_VARIABLE","$item",224],["T_OBJECT_OPERATOR","->",224],["T_STRING","getId",224],"(",")",["T_WHITESPACE"," ",224],["T_IS_EQUAL","==",224],["T_WHITESPACE"," ",224],["T_VARIABLE","$itemId",224],")",["T_WHITESPACE"," ",224],"{",["T_WHITESPACE","\n                ",224],["T_RETURN","return",225],["T_WHITESPACE"," ",225],["T_VARIABLE","$item",225],";",["T_WHITESPACE","\n            ",225],"}",["T_WHITESPACE","\n        ",226],"}",["T_WHITESPACE","\n        ",227],["T_RETURN","return",228],["T_WHITESPACE"," ",228],["T_NEW","new",228],["T_WHITESPACE"," ",228],["T_STRING","Varien_Object",228],"(",")",";",["T_WHITESPACE","\n    ",228],"}",["T_WHITESPACE","\n\n    ",229],["T_DOC_COMMENT","\/**\n     * Can display customs value\n     *\n     * @return bool\n     *\/",231],["T_WHITESPACE","\n    ",235],["T_PUBLIC","public",236],["T_WHITESPACE"," ",236],["T_FUNCTION","function",236],["T_WHITESPACE"," ",236],["T_STRING","displayCustomsValue",236],"(",")",["T_WHITESPACE","\n    ",236],"{",["T_WHITESPACE","\n        ",237],["T_VARIABLE","$storeId",238],["T_WHITESPACE"," ",238],"=",["T_WHITESPACE"," ",238],["T_VARIABLE","$this",238],["T_OBJECT_OPERATOR","->",238],["T_STRING","getShipment",238],"(",")",["T_OBJECT_OPERATOR","->",238],["T_STRING","getStoreId",238],"(",")",";",["T_WHITESPACE","\n        ",238],["T_VARIABLE","$order",239],["T_WHITESPACE"," ",239],"=",["T_WHITESPACE"," ",239],["T_VARIABLE","$this",239],["T_OBJECT_OPERATOR","->",239],["T_STRING","getShipment",239],"(",")",["T_OBJECT_OPERATOR","->",239],["T_STRING","getOrder",239],"(",")",";",["T_WHITESPACE","\n        ",239],["T_VARIABLE","$address",240],["T_WHITESPACE"," ",240],"=",["T_WHITESPACE"," ",240],["T_VARIABLE","$order",240],["T_OBJECT_OPERATOR","->",240],["T_STRING","getShippingAddress",240],"(",")",";",["T_WHITESPACE","\n        ",240],["T_VARIABLE","$shipperAddressCountryCode",241],["T_WHITESPACE"," ",241],"=",["T_WHITESPACE"," ",241],["T_STRING","Mage",241],["T_DOUBLE_COLON","::",241],["T_STRING","getStoreConfig",241],"(",["T_WHITESPACE","\n            ",241],["T_STRING","Mage_Shipping_Model_Shipping",242],["T_DOUBLE_COLON","::",242],["T_STRING","XML_PATH_STORE_COUNTRY_ID",242],",",["T_WHITESPACE","\n            ",242],["T_VARIABLE","$storeId",243],["T_WHITESPACE","\n        ",243],")",";",["T_WHITESPACE","\n        ",244],["T_VARIABLE","$recipientAddressCountryCode",245],["T_WHITESPACE"," ",245],"=",["T_WHITESPACE"," ",245],["T_VARIABLE","$address",245],["T_OBJECT_OPERATOR","->",245],["T_STRING","getCountryId",245],"(",")",";",["T_WHITESPACE","\n        ",245],["T_IF","if",246],["T_WHITESPACE"," ",246],"(",["T_VARIABLE","$shipperAddressCountryCode",246],["T_WHITESPACE"," ",246],["T_IS_NOT_EQUAL","!=",246],["T_WHITESPACE"," ",246],["T_VARIABLE","$recipientAddressCountryCode",246],")",["T_WHITESPACE"," ",246],"{",["T_WHITESPACE","\n            ",246],["T_RETURN","return",247],["T_WHITESPACE"," ",247],["T_STRING","true",247],";",["T_WHITESPACE","\n        ",247],"}",["T_WHITESPACE","\n        ",248],["T_RETURN","return",249],["T_WHITESPACE"," ",249],["T_STRING","false",249],";",["T_WHITESPACE","\n    ",249],"}",["T_WHITESPACE","\n\n    ",250],["T_DOC_COMMENT","\/**\n     * Return delivery confirmation types of current carrier\n     *\n     * @return array\n     *\/",252],["T_WHITESPACE","\n    ",256],["T_PUBLIC","public",257],["T_WHITESPACE"," ",257],["T_FUNCTION","function",257],["T_WHITESPACE"," ",257],["T_STRING","getDeliveryConfirmationTypes",257],"(",")",["T_WHITESPACE","\n    ",257],"{",["T_WHITESPACE","\n        ",258],["T_VARIABLE","$countryId",259],["T_WHITESPACE"," ",259],"=",["T_WHITESPACE"," ",259],["T_VARIABLE","$this",259],["T_OBJECT_OPERATOR","->",259],["T_STRING","getShipment",259],"(",")",["T_OBJECT_OPERATOR","->",259],["T_STRING","getOrder",259],"(",")",["T_OBJECT_OPERATOR","->",259],["T_STRING","getShippingAddress",259],"(",")",["T_OBJECT_OPERATOR","->",259],["T_STRING","getCountryId",259],"(",")",";",["T_WHITESPACE","\n        ",259],["T_VARIABLE","$carrier",260],["T_WHITESPACE"," ",260],"=",["T_WHITESPACE"," ",260],["T_VARIABLE","$this",260],["T_OBJECT_OPERATOR","->",260],["T_STRING","getShipment",260],"(",")",["T_OBJECT_OPERATOR","->",260],["T_STRING","getOrder",260],"(",")",["T_OBJECT_OPERATOR","->",260],["T_STRING","getShippingCarrier",260],"(",")",";",["T_WHITESPACE","\n        ",260],["T_VARIABLE","$params",261],["T_WHITESPACE"," ",261],"=",["T_WHITESPACE"," ",261],["T_NEW","new",261],["T_WHITESPACE"," ",261],["T_STRING","Varien_Object",261],"(",["T_ARRAY","array",261],"(",["T_CONSTANT_ENCAPSED_STRING","'country_recipient'",261],["T_WHITESPACE"," ",261],["T_DOUBLE_ARROW","=>",261],["T_WHITESPACE"," ",261],["T_VARIABLE","$countryId",261],")",")",";",["T_WHITESPACE","\n        ",261],["T_IF","if",262],["T_WHITESPACE"," ",262],"(",["T_VARIABLE","$carrier",262],["T_WHITESPACE"," ",262],["T_BOOLEAN_AND","&&",262],["T_WHITESPACE"," ",262],["T_STRING","is_array",262],"(",["T_VARIABLE","$carrier",262],["T_OBJECT_OPERATOR","->",262],["T_STRING","getDeliveryConfirmationTypes",262],"(",["T_VARIABLE","$params",262],")",")",")",["T_WHITESPACE"," ",262],"{",["T_WHITESPACE","\n            ",262],["T_RETURN","return",263],["T_WHITESPACE"," ",263],["T_VARIABLE","$carrier",263],["T_OBJECT_OPERATOR","->",263],["T_STRING","getDeliveryConfirmationTypes",263],"(",["T_VARIABLE","$params",263],")",";",["T_WHITESPACE","\n        ",263],"}",["T_WHITESPACE","\n        ",264],["T_RETURN","return",265],["T_WHITESPACE"," ",265],["T_ARRAY","array",265],"(",")",";",["T_WHITESPACE","\n    ",265],"}",["T_WHITESPACE","\n\n    ",266],["T_DOC_COMMENT","\/**\n     * Print button for creating pdf\n     *\n     * @return string\n     *\/",268],["T_WHITESPACE","\n    ",272],["T_PUBLIC","public",273],["T_WHITESPACE"," ",273],["T_FUNCTION","function",273],["T_WHITESPACE"," ",273],["T_STRING","getPrintButton",273],"(",")",["T_WHITESPACE","\n    ",273],"{",["T_WHITESPACE","\n        ",274],["T_VARIABLE","$data",275],"[",["T_CONSTANT_ENCAPSED_STRING","'shipment_id'",275],"]",["T_WHITESPACE"," ",275],"=",["T_WHITESPACE"," ",275],["T_VARIABLE","$this",275],["T_OBJECT_OPERATOR","->",275],["T_STRING","getShipment",275],"(",")",["T_OBJECT_OPERATOR","->",275],["T_STRING","getId",275],"(",")",";",["T_WHITESPACE","\n        ",275],["T_VARIABLE","$url",276],["T_WHITESPACE"," ",276],"=",["T_WHITESPACE"," ",276],["T_VARIABLE","$this",276],["T_OBJECT_OPERATOR","->",276],["T_STRING","getUrl",276],"(",["T_CONSTANT_ENCAPSED_STRING","'*\/sales_order_shipment\/printPackage'",276],",",["T_WHITESPACE"," ",276],["T_VARIABLE","$data",276],")",";",["T_WHITESPACE","\n        ",276],["T_RETURN","return",277],["T_WHITESPACE"," ",277],["T_VARIABLE","$this",277],["T_OBJECT_OPERATOR","->",277],["T_STRING","getLayout",277],"(",")",["T_WHITESPACE","\n            ",277],["T_OBJECT_OPERATOR","->",278],["T_STRING","createBlock",278],"(",["T_CONSTANT_ENCAPSED_STRING","'adminhtml\/widget_button'",278],")",["T_WHITESPACE","\n            ",278],["T_OBJECT_OPERATOR","->",279],["T_STRING","setData",279],"(",["T_ARRAY","array",279],"(",["T_WHITESPACE","\n                ",279],["T_CONSTANT_ENCAPSED_STRING","'label'",280],["T_WHITESPACE","   ",280],["T_DOUBLE_ARROW","=>",280],["T_WHITESPACE"," ",280],["T_STRING","Mage",280],["T_DOUBLE_COLON","::",280],["T_STRING","helper",280],"(",["T_CONSTANT_ENCAPSED_STRING","'sales'",280],")",["T_OBJECT_OPERATOR","->",280],["T_STRING","__",280],"(",["T_CONSTANT_ENCAPSED_STRING","'Print'",280],")",",",["T_WHITESPACE","\n                ",280],["T_CONSTANT_ENCAPSED_STRING","'onclick'",281],["T_WHITESPACE"," ",281],["T_DOUBLE_ARROW","=>",281],["T_WHITESPACE"," ",281],["T_CONSTANT_ENCAPSED_STRING","'setLocation(\\''",281],["T_WHITESPACE"," ",281],".",["T_WHITESPACE"," ",281],["T_VARIABLE","$url",281],["T_WHITESPACE"," ",281],".",["T_WHITESPACE"," ",281],["T_CONSTANT_ENCAPSED_STRING","'\\')'",281],["T_WHITESPACE","\n            ",281],")",")",["T_WHITESPACE","\n            ",282],["T_OBJECT_OPERATOR","->",283],["T_STRING","toHtml",283],"(",")",";",["T_WHITESPACE","\n    ",283],"}",["T_WHITESPACE","\n\n    ",284],["T_DOC_COMMENT","\/**\n     * Check whether girth is allowed for current carrier\n     *\n     * @return void\n     *\/",286],["T_WHITESPACE","\n    ",290],["T_PUBLIC","public",291],["T_WHITESPACE"," ",291],["T_FUNCTION","function",291],["T_WHITESPACE"," ",291],["T_STRING","isGirthAllowed",291],"(",")",["T_WHITESPACE","\n    ",291],"{",["T_WHITESPACE","\n        ",292],["T_RETURN","return",293],["T_WHITESPACE"," ",293],["T_VARIABLE","$this",293],["T_WHITESPACE","\n            ",293],["T_OBJECT_OPERATOR","->",294],["T_STRING","getShipment",294],"(",")",["T_WHITESPACE","\n            ",294],["T_OBJECT_OPERATOR","->",295],["T_STRING","getOrder",295],"(",")",["T_WHITESPACE","\n            ",295],["T_OBJECT_OPERATOR","->",296],["T_STRING","getShippingCarrier",296],"(",")",["T_WHITESPACE","\n            ",296],["T_OBJECT_OPERATOR","->",297],["T_STRING","isGirthAllowed",297],"(",["T_VARIABLE","$this",297],["T_OBJECT_OPERATOR","->",297],["T_STRING","getShipment",297],"(",")",["T_OBJECT_OPERATOR","->",297],["T_STRING","getOrder",297],"(",")",["T_OBJECT_OPERATOR","->",297],["T_STRING","getShippingAddress",297],"(",")",["T_OBJECT_OPERATOR","->",297],["T_STRING","getCountryId",297],"(",")",")",";",["T_WHITESPACE","\n    ",297],"}",["T_WHITESPACE","\n\n    ",298],["T_DOC_COMMENT","\/**\n     * Return content types of package\n     *\n     * @return array\n     *\/",300],["T_WHITESPACE","\n    ",304],["T_PUBLIC","public",305],["T_WHITESPACE"," ",305],["T_FUNCTION","function",305],["T_WHITESPACE"," ",305],["T_STRING","getContentTypes",305],"(",")",["T_WHITESPACE","\n    ",305],"{",["T_WHITESPACE","\n        ",306],["T_VARIABLE","$order",307],["T_WHITESPACE"," ",307],"=",["T_WHITESPACE"," ",307],["T_VARIABLE","$this",307],["T_OBJECT_OPERATOR","->",307],["T_STRING","getShipment",307],"(",")",["T_OBJECT_OPERATOR","->",307],["T_STRING","getOrder",307],"(",")",";",["T_WHITESPACE","\n        ",307],["T_VARIABLE","$storeId",308],["T_WHITESPACE"," ",308],"=",["T_WHITESPACE"," ",308],["T_VARIABLE","$this",308],["T_OBJECT_OPERATOR","->",308],["T_STRING","getShipment",308],"(",")",["T_OBJECT_OPERATOR","->",308],["T_STRING","getStoreId",308],"(",")",";",["T_WHITESPACE","\n        ",308],["T_VARIABLE","$address",309],["T_WHITESPACE"," ",309],"=",["T_WHITESPACE"," ",309],["T_VARIABLE","$order",309],["T_OBJECT_OPERATOR","->",309],["T_STRING","getShippingAddress",309],"(",")",";",["T_WHITESPACE","\n        ",309],["T_VARIABLE","$carrier",310],["T_WHITESPACE"," ",310],"=",["T_WHITESPACE"," ",310],["T_VARIABLE","$order",310],["T_OBJECT_OPERATOR","->",310],["T_STRING","getShippingCarrier",310],"(",")",";",["T_WHITESPACE","\n        ",310],["T_VARIABLE","$countryShipper",311],["T_WHITESPACE"," ",311],"=",["T_WHITESPACE"," ",311],["T_STRING","Mage",311],["T_DOUBLE_COLON","::",311],["T_STRING","getStoreConfig",311],"(",["T_STRING","Mage_Shipping_Model_Shipping",311],["T_DOUBLE_COLON","::",311],["T_STRING","XML_PATH_STORE_COUNTRY_ID",311],",",["T_WHITESPACE"," ",311],["T_VARIABLE","$storeId",311],")",";",["T_WHITESPACE","\n        ",311],["T_IF","if",312],["T_WHITESPACE"," ",312],"(",["T_VARIABLE","$carrier",312],")",["T_WHITESPACE"," ",312],"{",["T_WHITESPACE","\n            ",312],["T_VARIABLE","$params",313],["T_WHITESPACE"," ",313],"=",["T_WHITESPACE"," ",313],["T_NEW","new",313],["T_WHITESPACE"," ",313],["T_STRING","Varien_Object",313],"(",["T_ARRAY","array",313],"(",["T_WHITESPACE","\n                ",313],["T_CONSTANT_ENCAPSED_STRING","'method'",314],["T_WHITESPACE"," ",314],["T_DOUBLE_ARROW","=>",314],["T_WHITESPACE"," ",314],["T_VARIABLE","$order",314],["T_OBJECT_OPERATOR","->",314],["T_STRING","getShippingMethod",314],"(",["T_STRING","true",314],")",["T_OBJECT_OPERATOR","->",314],["T_STRING","getMethod",314],"(",")",",",["T_WHITESPACE","\n                ",314],["T_CONSTANT_ENCAPSED_STRING","'country_shipper'",315],["T_WHITESPACE"," ",315],["T_DOUBLE_ARROW","=>",315],["T_WHITESPACE"," ",315],["T_VARIABLE","$countryShipper",315],",",["T_WHITESPACE","\n                ",315],["T_CONSTANT_ENCAPSED_STRING","'country_recipient'",316],["T_WHITESPACE"," ",316],["T_DOUBLE_ARROW","=>",316],["T_WHITESPACE"," ",316],["T_VARIABLE","$address",316],["T_OBJECT_OPERATOR","->",316],["T_STRING","getCountryId",316],"(",")",",",["T_WHITESPACE","\n            ",316],")",")",";",["T_WHITESPACE","\n            ",317],["T_RETURN","return",318],["T_WHITESPACE"," ",318],["T_VARIABLE","$carrier",318],["T_OBJECT_OPERATOR","->",318],["T_STRING","getContentTypes",318],"(",["T_VARIABLE","$params",318],")",";",["T_WHITESPACE","\n        ",318],"}",["T_WHITESPACE","\n        ",319],["T_RETURN","return",320],["T_WHITESPACE"," ",320],["T_ARRAY","array",320],"(",")",";",["T_WHITESPACE","\n    ",320],"}",["T_WHITESPACE","\n\n    ",321],["T_DOC_COMMENT","\/**\n     * Get Currency Code for Custom Value\n     *\n     * @return string\n     *\/",323],["T_WHITESPACE","\n    ",327],["T_PUBLIC","public",328],["T_WHITESPACE"," ",328],["T_FUNCTION","function",328],["T_WHITESPACE"," ",328],["T_STRING","getCustomValueCurrencyCode",328],"(",")",["T_WHITESPACE","\n    ",328],"{",["T_WHITESPACE","\n        ",329],["T_VARIABLE","$orderInfo",330],["T_WHITESPACE"," ",330],"=",["T_WHITESPACE"," ",330],["T_VARIABLE","$this",330],["T_OBJECT_OPERATOR","->",330],["T_STRING","getShipment",330],"(",")",["T_OBJECT_OPERATOR","->",330],["T_STRING","getOrder",330],"(",")",";",["T_WHITESPACE","\n        ",330],["T_RETURN","return",331],["T_WHITESPACE"," ",331],["T_VARIABLE","$orderInfo",331],["T_OBJECT_OPERATOR","->",331],["T_STRING","getBaseCurrency",331],"(",")",["T_OBJECT_OPERATOR","->",331],["T_STRING","getCurrencyCode",331],"(",")",";",["T_WHITESPACE","\n    ",331],"}",["T_WHITESPACE","\n\n    ",332],["T_DOC_COMMENT","\/**\n     * Display formatted price\n     *\n     * @param float $price\n     * @return string\n     *\/",334],["T_WHITESPACE","\n    ",339],["T_PUBLIC","public",340],["T_WHITESPACE"," ",340],["T_FUNCTION","function",340],["T_WHITESPACE"," ",340],["T_STRING","displayPrice",340],"(",["T_VARIABLE","$price",340],")",["T_WHITESPACE","\n    ",340],"{",["T_WHITESPACE","\n        ",341],["T_RETURN","return",342],["T_WHITESPACE"," ",342],["T_VARIABLE","$this",342],["T_OBJECT_OPERATOR","->",342],["T_STRING","getShipment",342],"(",")",["T_OBJECT_OPERATOR","->",342],["T_STRING","getOrder",342],"(",")",["T_OBJECT_OPERATOR","->",342],["T_STRING","formatPriceTxt",342],"(",["T_VARIABLE","$price",342],")",";",["T_WHITESPACE","\n    ",342],"}",["T_WHITESPACE","\n\n    ",343],["T_DOC_COMMENT","\/**\n     * Display formatted customs price\n     *\n     * @param float $price\n     * @return string\n     *\/",345],["T_WHITESPACE","\n    ",350],["T_PUBLIC","public",351],["T_WHITESPACE"," ",351],["T_FUNCTION","function",351],["T_WHITESPACE"," ",351],["T_STRING","displayCustomsPrice",351],"(",["T_VARIABLE","$price",351],")",["T_WHITESPACE","\n    ",351],"{",["T_WHITESPACE","\n        ",352],["T_VARIABLE","$orderInfo",353],["T_WHITESPACE"," ",353],"=",["T_WHITESPACE"," ",353],["T_VARIABLE","$this",353],["T_OBJECT_OPERATOR","->",353],["T_STRING","getShipment",353],"(",")",["T_OBJECT_OPERATOR","->",353],["T_STRING","getOrder",353],"(",")",";",["T_WHITESPACE","\n        ",353],["T_RETURN","return",354],["T_WHITESPACE"," ",354],["T_VARIABLE","$orderInfo",354],["T_OBJECT_OPERATOR","->",354],["T_STRING","getBaseCurrency",354],"(",")",["T_OBJECT_OPERATOR","->",354],["T_STRING","formatTxt",354],"(",["T_VARIABLE","$price",354],")",";",["T_WHITESPACE","\n    ",354],"}",["T_WHITESPACE","\n\n    ",355],["T_DOC_COMMENT","\/**\n     * Get ordered qty of item\n     *\n     * @param int $itemId\n     * @return int|null\n     *\/",357],["T_WHITESPACE","\n    ",362],["T_PUBLIC","public",363],["T_WHITESPACE"," ",363],["T_FUNCTION","function",363],["T_WHITESPACE"," ",363],["T_STRING","getQtyOrderedItem",363],"(",["T_VARIABLE","$itemId",363],")",["T_WHITESPACE","\n    ",363],"{",["T_WHITESPACE","\n        ",364],["T_IF","if",365],["T_WHITESPACE"," ",365],"(",["T_VARIABLE","$itemId",365],")",["T_WHITESPACE"," ",365],"{",["T_WHITESPACE","\n            ",365],["T_RETURN","return",366],["T_WHITESPACE"," ",366],["T_VARIABLE","$this",366],["T_OBJECT_OPERATOR","->",366],["T_STRING","getShipment",366],"(",")",["T_OBJECT_OPERATOR","->",366],["T_STRING","getOrder",366],"(",")",["T_OBJECT_OPERATOR","->",366],["T_STRING","getItemById",366],"(",["T_VARIABLE","$itemId",366],")",["T_OBJECT_OPERATOR","->",366],["T_STRING","getQtyOrdered",366],"(",")","*",["T_LNUMBER","1",366],";",["T_WHITESPACE","\n        ",366],"}",["T_WHITESPACE"," ",367],["T_ELSE","else",367],["T_WHITESPACE"," ",367],"{",["T_WHITESPACE","\n            ",367],["T_RETURN","return",368],";",["T_WHITESPACE","\n        ",368],"}",["T_WHITESPACE","\n    ",369],"}",["T_WHITESPACE","\n",370],"}",["T_WHITESPACE","\n",371]]