[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Magento\n *\n * NOTICE OF LICENSE\n *\n * This source file is subject to the Open Software License (OSL 3.0)\n * that is bundled with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/opensource.org\/licenses\/osl-3.0.php\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@magento.com so we can send you a copy immediately.\n *\n * DISCLAIMER\n *\n * Do not edit or add to this file if you wish to upgrade Magento to newer\n * versions in the future. If you wish to customize Magento for your\n * needs please refer to http:\/\/www.magento.com for more information.\n *\n * @category    Mage\n * @package     Mage_Adminhtml\n * @copyright  Copyright (c) 2006-2016 X.commerce, Inc. and affiliates (http:\/\/www.magento.com)\n * @license    http:\/\/opensource.org\/licenses\/osl-3.0.php  Open Software License (OSL 3.0)\n *\/",2],["T_WHITESPACE","\n\n",25],["T_DOC_COMMENT","\/**\n * Category abstract block\n *\n * @category   Mage\n * @package    Mage_Adminhtml\n * @author     Magento Core Team <core@magentocommerce.com>\n *\/",27],["T_WHITESPACE","\n",33],["T_CLASS","class",34],["T_WHITESPACE"," ",34],["T_STRING","Mage_Adminhtml_Block_Catalog_Category_Abstract",34],["T_WHITESPACE"," ",34],["T_EXTENDS","extends",34],["T_WHITESPACE"," ",34],["T_STRING","Mage_Adminhtml_Block_Template",34],["T_WHITESPACE","\n",34],"{",["T_WHITESPACE","\n\n    ",35],["T_PUBLIC","public",37],["T_WHITESPACE"," ",37],["T_FUNCTION","function",37],["T_WHITESPACE"," ",37],["T_STRING","__construct",37],"(",")",["T_WHITESPACE","\n    ",37],"{",["T_WHITESPACE","\n        ",38],["T_STRING","parent",39],["T_DOUBLE_COLON","::",39],["T_STRING","__construct",39],"(",")",";",["T_WHITESPACE","\n    ",39],"}",["T_WHITESPACE","\n\n    ",40],["T_DOC_COMMENT","\/**\n     * Retrieve current category instance\n     *\n     * @return Mage_Catalog_Model_Category\n     *\/",42],["T_WHITESPACE","\n    ",46],["T_PUBLIC","public",47],["T_WHITESPACE"," ",47],["T_FUNCTION","function",47],["T_WHITESPACE"," ",47],["T_STRING","getCategory",47],"(",")",["T_WHITESPACE","\n    ",47],"{",["T_WHITESPACE","\n        ",48],["T_RETURN","return",49],["T_WHITESPACE"," ",49],["T_STRING","Mage",49],["T_DOUBLE_COLON","::",49],["T_STRING","registry",49],"(",["T_CONSTANT_ENCAPSED_STRING","'category'",49],")",";",["T_WHITESPACE","\n    ",49],"}",["T_WHITESPACE","\n\n    ",50],["T_PUBLIC","public",52],["T_WHITESPACE"," ",52],["T_FUNCTION","function",52],["T_WHITESPACE"," ",52],["T_STRING","getCategoryId",52],"(",")",["T_WHITESPACE","\n    ",52],"{",["T_WHITESPACE","\n        ",53],["T_IF","if",54],["T_WHITESPACE"," ",54],"(",["T_VARIABLE","$this",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","getCategory",54],"(",")",")",["T_WHITESPACE"," ",54],"{",["T_WHITESPACE","\n            ",54],["T_RETURN","return",55],["T_WHITESPACE"," ",55],["T_VARIABLE","$this",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","getCategory",55],"(",")",["T_OBJECT_OPERATOR","->",55],["T_STRING","getId",55],"(",")",";",["T_WHITESPACE","\n        ",55],"}",["T_WHITESPACE","\n        ",56],["T_RETURN","return",57],["T_WHITESPACE"," ",57],["T_STRING","Mage_Catalog_Model_Category",57],["T_DOUBLE_COLON","::",57],["T_STRING","TREE_ROOT_ID",57],";",["T_WHITESPACE","\n    ",57],"}",["T_WHITESPACE","\n\n    ",58],["T_PUBLIC","public",60],["T_WHITESPACE"," ",60],["T_FUNCTION","function",60],["T_WHITESPACE"," ",60],["T_STRING","getCategoryName",60],"(",")",["T_WHITESPACE","\n    ",60],"{",["T_WHITESPACE","\n        ",61],["T_RETURN","return",62],["T_WHITESPACE"," ",62],["T_VARIABLE","$this",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","getCategory",62],"(",")",["T_OBJECT_OPERATOR","->",62],["T_STRING","getName",62],"(",")",";",["T_WHITESPACE","\n    ",62],"}",["T_WHITESPACE","\n\n    ",63],["T_PUBLIC","public",65],["T_WHITESPACE"," ",65],["T_FUNCTION","function",65],["T_WHITESPACE"," ",65],["T_STRING","getCategoryPath",65],"(",")",["T_WHITESPACE","\n    ",65],"{",["T_WHITESPACE","\n        ",66],["T_IF","if",67],["T_WHITESPACE"," ",67],"(",["T_VARIABLE","$this",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","getCategory",67],"(",")",")",["T_WHITESPACE"," ",67],"{",["T_WHITESPACE","\n            ",67],["T_RETURN","return",68],["T_WHITESPACE"," ",68],["T_VARIABLE","$this",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","getCategory",68],"(",")",["T_OBJECT_OPERATOR","->",68],["T_STRING","getPath",68],"(",")",";",["T_WHITESPACE","\n        ",68],"}",["T_WHITESPACE","\n        ",69],["T_RETURN","return",70],["T_WHITESPACE"," ",70],["T_STRING","Mage_Catalog_Model_Category",70],["T_DOUBLE_COLON","::",70],["T_STRING","TREE_ROOT_ID",70],";",["T_WHITESPACE","\n    ",70],"}",["T_WHITESPACE","\n\n    ",71],["T_PUBLIC","public",73],["T_WHITESPACE"," ",73],["T_FUNCTION","function",73],["T_WHITESPACE"," ",73],["T_STRING","hasStoreRootCategory",73],"(",")",["T_WHITESPACE","\n    ",73],"{",["T_WHITESPACE","\n        ",74],["T_VARIABLE","$root",75],["T_WHITESPACE"," ",75],"=",["T_WHITESPACE"," ",75],["T_VARIABLE","$this",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","getRoot",75],"(",")",";",["T_WHITESPACE","\n        ",75],["T_IF","if",76],["T_WHITESPACE"," ",76],"(",["T_VARIABLE","$root",76],["T_WHITESPACE"," ",76],["T_BOOLEAN_AND","&&",76],["T_WHITESPACE"," ",76],["T_VARIABLE","$root",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","getId",76],"(",")",")",["T_WHITESPACE"," ",76],"{",["T_WHITESPACE","\n            ",76],["T_RETURN","return",77],["T_WHITESPACE"," ",77],["T_STRING","true",77],";",["T_WHITESPACE","\n        ",77],"}",["T_WHITESPACE","\n        ",78],["T_RETURN","return",79],["T_WHITESPACE"," ",79],["T_STRING","false",79],";",["T_WHITESPACE","\n    ",79],"}",["T_WHITESPACE","\n\n    ",80],["T_PUBLIC","public",82],["T_WHITESPACE"," ",82],["T_FUNCTION","function",82],["T_WHITESPACE"," ",82],["T_STRING","getStore",82],"(",")",["T_WHITESPACE","\n    ",82],"{",["T_WHITESPACE","\n        ",83],["T_VARIABLE","$storeId",84],["T_WHITESPACE"," ",84],"=",["T_WHITESPACE"," ",84],["T_INT_CAST","(int)",84],["T_WHITESPACE"," ",84],["T_VARIABLE","$this",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","getRequest",84],"(",")",["T_OBJECT_OPERATOR","->",84],["T_STRING","getParam",84],"(",["T_CONSTANT_ENCAPSED_STRING","'store'",84],")",";",["T_WHITESPACE","\n        ",84],["T_RETURN","return",85],["T_WHITESPACE"," ",85],["T_STRING","Mage",85],["T_DOUBLE_COLON","::",85],["T_STRING","app",85],"(",")",["T_OBJECT_OPERATOR","->",85],["T_STRING","getStore",85],"(",["T_VARIABLE","$storeId",85],")",";",["T_WHITESPACE","\n    ",85],"}",["T_WHITESPACE","\n\n    ",86],["T_PUBLIC","public",88],["T_WHITESPACE"," ",88],["T_FUNCTION","function",88],["T_WHITESPACE"," ",88],["T_STRING","getRoot",88],"(",["T_VARIABLE","$parentNodeCategory",88],"=",["T_STRING","null",88],",",["T_WHITESPACE"," ",88],["T_VARIABLE","$recursionLevel",88],"=",["T_LNUMBER","3",88],")",["T_WHITESPACE","\n    ",88],"{",["T_WHITESPACE","\n        ",89],["T_IF","if",90],["T_WHITESPACE"," ",90],"(","!",["T_STRING","is_null",90],"(",["T_VARIABLE","$parentNodeCategory",90],")",["T_WHITESPACE"," ",90],["T_BOOLEAN_AND","&&",90],["T_WHITESPACE"," ",90],["T_VARIABLE","$parentNodeCategory",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","getId",90],"(",")",")",["T_WHITESPACE"," ",90],"{",["T_WHITESPACE","\n            ",90],["T_RETURN","return",91],["T_WHITESPACE"," ",91],["T_VARIABLE","$this",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","getNode",91],"(",["T_VARIABLE","$parentNodeCategory",91],",",["T_WHITESPACE"," ",91],["T_VARIABLE","$recursionLevel",91],")",";",["T_WHITESPACE","\n        ",91],"}",["T_WHITESPACE","\n        ",92],["T_VARIABLE","$root",93],["T_WHITESPACE"," ",93],"=",["T_WHITESPACE"," ",93],["T_STRING","Mage",93],["T_DOUBLE_COLON","::",93],["T_STRING","registry",93],"(",["T_CONSTANT_ENCAPSED_STRING","'root'",93],")",";",["T_WHITESPACE","\n        ",93],["T_IF","if",94],["T_WHITESPACE"," ",94],"(",["T_STRING","is_null",94],"(",["T_VARIABLE","$root",94],")",")",["T_WHITESPACE"," ",94],"{",["T_WHITESPACE","\n            ",94],["T_VARIABLE","$storeId",95],["T_WHITESPACE"," ",95],"=",["T_WHITESPACE"," ",95],["T_INT_CAST","(int)",95],["T_WHITESPACE"," ",95],["T_VARIABLE","$this",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","getRequest",95],"(",")",["T_OBJECT_OPERATOR","->",95],["T_STRING","getParam",95],"(",["T_CONSTANT_ENCAPSED_STRING","'store'",95],")",";",["T_WHITESPACE","\n\n            ",95],["T_IF","if",97],["T_WHITESPACE"," ",97],"(",["T_VARIABLE","$storeId",97],")",["T_WHITESPACE"," ",97],"{",["T_WHITESPACE","\n                ",97],["T_VARIABLE","$store",98],["T_WHITESPACE"," ",98],"=",["T_WHITESPACE"," ",98],["T_STRING","Mage",98],["T_DOUBLE_COLON","::",98],["T_STRING","app",98],"(",")",["T_OBJECT_OPERATOR","->",98],["T_STRING","getStore",98],"(",["T_VARIABLE","$storeId",98],")",";",["T_WHITESPACE","\n                ",98],["T_VARIABLE","$rootId",99],["T_WHITESPACE"," ",99],"=",["T_WHITESPACE"," ",99],["T_VARIABLE","$store",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","getRootCategoryId",99],"(",")",";",["T_WHITESPACE","\n            ",99],"}",["T_WHITESPACE","\n            ",100],["T_ELSE","else",101],["T_WHITESPACE"," ",101],"{",["T_WHITESPACE","\n                ",101],["T_VARIABLE","$rootId",102],["T_WHITESPACE"," ",102],"=",["T_WHITESPACE"," ",102],["T_STRING","Mage_Catalog_Model_Category",102],["T_DOUBLE_COLON","::",102],["T_STRING","TREE_ROOT_ID",102],";",["T_WHITESPACE","\n            ",102],"}",["T_WHITESPACE","\n\n            ",103],["T_VARIABLE","$tree",105],["T_WHITESPACE"," ",105],"=",["T_WHITESPACE"," ",105],["T_STRING","Mage",105],["T_DOUBLE_COLON","::",105],["T_STRING","getResourceSingleton",105],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog\/category_tree'",105],")",["T_WHITESPACE","\n                ",105],["T_OBJECT_OPERATOR","->",106],["T_STRING","load",106],"(",["T_STRING","null",106],",",["T_WHITESPACE"," ",106],["T_VARIABLE","$recursionLevel",106],")",";",["T_WHITESPACE","\n\n            ",106],["T_IF","if",108],["T_WHITESPACE"," ",108],"(",["T_VARIABLE","$this",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","getCategory",108],"(",")",")",["T_WHITESPACE"," ",108],"{",["T_WHITESPACE","\n                ",108],["T_VARIABLE","$tree",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","loadEnsuredNodes",109],"(",["T_VARIABLE","$this",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","getCategory",109],"(",")",",",["T_WHITESPACE"," ",109],["T_VARIABLE","$tree",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","getNodeById",109],"(",["T_VARIABLE","$rootId",109],")",")",";",["T_WHITESPACE","\n            ",109],"}",["T_WHITESPACE","\n\n            ",110],["T_VARIABLE","$tree",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","addCollectionData",112],"(",["T_VARIABLE","$this",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","getCategoryCollection",112],"(",")",")",";",["T_WHITESPACE","\n\n            ",112],["T_VARIABLE","$root",114],["T_WHITESPACE"," ",114],"=",["T_WHITESPACE"," ",114],["T_VARIABLE","$tree",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","getNodeById",114],"(",["T_VARIABLE","$rootId",114],")",";",["T_WHITESPACE","\n\n            ",114],["T_IF","if",116],["T_WHITESPACE"," ",116],"(",["T_VARIABLE","$root",116],["T_WHITESPACE"," ",116],["T_BOOLEAN_AND","&&",116],["T_WHITESPACE"," ",116],["T_VARIABLE","$rootId",116],["T_WHITESPACE"," ",116],["T_IS_NOT_EQUAL","!=",116],["T_WHITESPACE"," ",116],["T_STRING","Mage_Catalog_Model_Category",116],["T_DOUBLE_COLON","::",116],["T_STRING","TREE_ROOT_ID",116],")",["T_WHITESPACE"," ",116],"{",["T_WHITESPACE","\n                ",116],["T_VARIABLE","$root",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","setIsVisible",117],"(",["T_STRING","true",117],")",";",["T_WHITESPACE","\n            ",117],"}",["T_WHITESPACE","\n            ",118],["T_ELSEIF","elseif",119],"(",["T_VARIABLE","$root",119],["T_WHITESPACE"," ",119],["T_BOOLEAN_AND","&&",119],["T_WHITESPACE"," ",119],["T_VARIABLE","$root",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","getId",119],"(",")",["T_WHITESPACE"," ",119],["T_IS_EQUAL","==",119],["T_WHITESPACE"," ",119],["T_STRING","Mage_Catalog_Model_Category",119],["T_DOUBLE_COLON","::",119],["T_STRING","TREE_ROOT_ID",119],")",["T_WHITESPACE"," ",119],"{",["T_WHITESPACE","\n                ",119],["T_VARIABLE","$root",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","setName",120],"(",["T_STRING","Mage",120],["T_DOUBLE_COLON","::",120],["T_STRING","helper",120],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog'",120],")",["T_OBJECT_OPERATOR","->",120],["T_STRING","__",120],"(",["T_CONSTANT_ENCAPSED_STRING","'Root'",120],")",")",";",["T_WHITESPACE","\n            ",120],"}",["T_WHITESPACE","\n\n            ",121],["T_STRING","Mage",123],["T_DOUBLE_COLON","::",123],["T_STRING","register",123],"(",["T_CONSTANT_ENCAPSED_STRING","'root'",123],",",["T_WHITESPACE"," ",123],["T_VARIABLE","$root",123],")",";",["T_WHITESPACE","\n        ",123],"}",["T_WHITESPACE","\n\n        ",124],["T_RETURN","return",126],["T_WHITESPACE"," ",126],["T_VARIABLE","$root",126],";",["T_WHITESPACE","\n    ",126],"}",["T_WHITESPACE","\n\n    ",127],["T_DOC_COMMENT","\/**\n     * Get and register categories root by specified categories IDs\n     *\n     * IDs can be arbitrary set of any categories ids.\n     * Tree with minimal required nodes (all parents and neighbours) will be built.\n     * If ids are empty, default tree with depth = 2 will be returned.\n     *\n     * @param array $ids\n     *\/",129],["T_WHITESPACE","\n    ",137],["T_PUBLIC","public",138],["T_WHITESPACE"," ",138],["T_FUNCTION","function",138],["T_WHITESPACE"," ",138],["T_STRING","getRootByIds",138],"(",["T_VARIABLE","$ids",138],")",["T_WHITESPACE","\n    ",138],"{",["T_WHITESPACE","\n        ",139],["T_VARIABLE","$root",140],["T_WHITESPACE"," ",140],"=",["T_WHITESPACE"," ",140],["T_STRING","Mage",140],["T_DOUBLE_COLON","::",140],["T_STRING","registry",140],"(",["T_CONSTANT_ENCAPSED_STRING","'root'",140],")",";",["T_WHITESPACE","\n        ",140],["T_IF","if",141],["T_WHITESPACE"," ",141],"(",["T_STRING","null",141],["T_WHITESPACE"," ",141],["T_IS_IDENTICAL","===",141],["T_WHITESPACE"," ",141],["T_VARIABLE","$root",141],")",["T_WHITESPACE"," ",141],"{",["T_WHITESPACE","\n            ",141],["T_VARIABLE","$categoryTreeResource",142],["T_WHITESPACE"," ",142],"=",["T_WHITESPACE"," ",142],["T_STRING","Mage",142],["T_DOUBLE_COLON","::",142],["T_STRING","getResourceSingleton",142],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog\/category_tree'",142],")",";",["T_WHITESPACE","\n            ",142],["T_VARIABLE","$ids",143],["T_WHITESPACE","    ",143],"=",["T_WHITESPACE"," ",143],["T_VARIABLE","$categoryTreeResource",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","getExistingCategoryIdsBySpecifiedIds",143],"(",["T_VARIABLE","$ids",143],")",";",["T_WHITESPACE","\n            ",143],["T_VARIABLE","$tree",144],["T_WHITESPACE","   ",144],"=",["T_WHITESPACE"," ",144],["T_VARIABLE","$categoryTreeResource",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","loadByIds",144],"(",["T_VARIABLE","$ids",144],")",";",["T_WHITESPACE","\n            ",144],["T_VARIABLE","$rootId",145],["T_WHITESPACE"," ",145],"=",["T_WHITESPACE"," ",145],["T_STRING","Mage_Catalog_Model_Category",145],["T_DOUBLE_COLON","::",145],["T_STRING","TREE_ROOT_ID",145],";",["T_WHITESPACE","\n            ",145],["T_VARIABLE","$root",146],["T_WHITESPACE","   ",146],"=",["T_WHITESPACE"," ",146],["T_VARIABLE","$tree",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","getNodeById",146],"(",["T_VARIABLE","$rootId",146],")",";",["T_WHITESPACE","\n            ",146],["T_IF","if",147],["T_WHITESPACE"," ",147],"(",["T_VARIABLE","$root",147],["T_WHITESPACE"," ",147],["T_BOOLEAN_AND","&&",147],["T_WHITESPACE"," ",147],["T_VARIABLE","$rootId",147],["T_WHITESPACE"," ",147],["T_IS_NOT_EQUAL","!=",147],["T_WHITESPACE"," ",147],["T_STRING","Mage_Catalog_Model_Category",147],["T_DOUBLE_COLON","::",147],["T_STRING","TREE_ROOT_ID",147],")",["T_WHITESPACE"," ",147],"{",["T_WHITESPACE","\n                ",147],["T_VARIABLE","$root",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","setIsVisible",148],"(",["T_STRING","true",148],")",";",["T_WHITESPACE","\n            ",148],"}",["T_WHITESPACE"," ",149],["T_ELSE","else",149],["T_WHITESPACE"," ",149],["T_IF","if",149],"(",["T_VARIABLE","$root",149],["T_WHITESPACE"," ",149],["T_BOOLEAN_AND","&&",149],["T_WHITESPACE"," ",149],["T_VARIABLE","$root",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","getId",149],"(",")",["T_WHITESPACE"," ",149],["T_IS_EQUAL","==",149],["T_WHITESPACE"," ",149],["T_STRING","Mage_Catalog_Model_Category",149],["T_DOUBLE_COLON","::",149],["T_STRING","TREE_ROOT_ID",149],")",["T_WHITESPACE"," ",149],"{",["T_WHITESPACE","\n                ",149],["T_VARIABLE","$root",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","setName",150],"(",["T_STRING","Mage",150],["T_DOUBLE_COLON","::",150],["T_STRING","helper",150],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog'",150],")",["T_OBJECT_OPERATOR","->",150],["T_STRING","__",150],"(",["T_CONSTANT_ENCAPSED_STRING","'Root'",150],")",")",";",["T_WHITESPACE","\n            ",150],"}",["T_WHITESPACE","\n\n            ",151],["T_VARIABLE","$tree",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","addCollectionData",153],"(",["T_VARIABLE","$this",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","getCategoryCollection",153],"(",")",")",";",["T_WHITESPACE","\n            ",153],["T_STRING","Mage",154],["T_DOUBLE_COLON","::",154],["T_STRING","register",154],"(",["T_CONSTANT_ENCAPSED_STRING","'root'",154],",",["T_WHITESPACE"," ",154],["T_VARIABLE","$root",154],")",";",["T_WHITESPACE","\n        ",154],"}",["T_WHITESPACE","\n        ",155],["T_RETURN","return",156],["T_WHITESPACE"," ",156],["T_VARIABLE","$root",156],";",["T_WHITESPACE","\n    ",156],"}",["T_WHITESPACE","\n\n    ",157],["T_PUBLIC","public",159],["T_WHITESPACE"," ",159],["T_FUNCTION","function",159],["T_WHITESPACE"," ",159],["T_STRING","getNode",159],"(",["T_VARIABLE","$parentNodeCategory",159],",",["T_WHITESPACE"," ",159],["T_VARIABLE","$recursionLevel",159],"=",["T_LNUMBER","2",159],")",["T_WHITESPACE","\n    ",159],"{",["T_WHITESPACE","\n        ",160],["T_VARIABLE","$tree",161],["T_WHITESPACE"," ",161],"=",["T_WHITESPACE"," ",161],["T_STRING","Mage",161],["T_DOUBLE_COLON","::",161],["T_STRING","getResourceModel",161],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog\/category_tree'",161],")",";",["T_WHITESPACE","\n\n        ",161],["T_VARIABLE","$nodeId",163],["T_WHITESPACE","     ",163],"=",["T_WHITESPACE"," ",163],["T_VARIABLE","$parentNodeCategory",163],["T_OBJECT_OPERATOR","->",163],["T_STRING","getId",163],"(",")",";",["T_WHITESPACE","\n        ",163],["T_VARIABLE","$parentId",164],["T_WHITESPACE","   ",164],"=",["T_WHITESPACE"," ",164],["T_VARIABLE","$parentNodeCategory",164],["T_OBJECT_OPERATOR","->",164],["T_STRING","getParentId",164],"(",")",";",["T_WHITESPACE","\n\n        ",164],["T_VARIABLE","$node",166],["T_WHITESPACE"," ",166],"=",["T_WHITESPACE"," ",166],["T_VARIABLE","$tree",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","loadNode",166],"(",["T_VARIABLE","$nodeId",166],")",";",["T_WHITESPACE","\n        ",166],["T_VARIABLE","$node",167],["T_OBJECT_OPERATOR","->",167],["T_STRING","loadChildren",167],"(",["T_VARIABLE","$recursionLevel",167],")",";",["T_WHITESPACE","\n\n        ",167],["T_IF","if",169],["T_WHITESPACE"," ",169],"(",["T_VARIABLE","$node",169],["T_WHITESPACE"," ",169],["T_BOOLEAN_AND","&&",169],["T_WHITESPACE"," ",169],["T_VARIABLE","$nodeId",169],["T_WHITESPACE"," ",169],["T_IS_NOT_EQUAL","!=",169],["T_WHITESPACE"," ",169],["T_STRING","Mage_Catalog_Model_Category",169],["T_DOUBLE_COLON","::",169],["T_STRING","TREE_ROOT_ID",169],")",["T_WHITESPACE"," ",169],"{",["T_WHITESPACE","\n            ",169],["T_VARIABLE","$node",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","setIsVisible",170],"(",["T_STRING","true",170],")",";",["T_WHITESPACE","\n        ",170],"}",["T_WHITESPACE"," ",171],["T_ELSEIF","elseif",171],"(",["T_VARIABLE","$node",171],["T_WHITESPACE"," ",171],["T_BOOLEAN_AND","&&",171],["T_WHITESPACE"," ",171],["T_VARIABLE","$node",171],["T_OBJECT_OPERATOR","->",171],["T_STRING","getId",171],"(",")",["T_WHITESPACE"," ",171],["T_IS_EQUAL","==",171],["T_WHITESPACE"," ",171],["T_STRING","Mage_Catalog_Model_Category",171],["T_DOUBLE_COLON","::",171],["T_STRING","TREE_ROOT_ID",171],")",["T_WHITESPACE"," ",171],"{",["T_WHITESPACE","\n            ",171],["T_VARIABLE","$node",172],["T_OBJECT_OPERATOR","->",172],["T_STRING","setName",172],"(",["T_STRING","Mage",172],["T_DOUBLE_COLON","::",172],["T_STRING","helper",172],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog'",172],")",["T_OBJECT_OPERATOR","->",172],["T_STRING","__",172],"(",["T_CONSTANT_ENCAPSED_STRING","'Root'",172],")",")",";",["T_WHITESPACE","\n        ",172],"}",["T_WHITESPACE","\n\n        ",173],["T_VARIABLE","$tree",175],["T_OBJECT_OPERATOR","->",175],["T_STRING","addCollectionData",175],"(",["T_VARIABLE","$this",175],["T_OBJECT_OPERATOR","->",175],["T_STRING","getCategoryCollection",175],"(",")",")",";",["T_WHITESPACE","\n\n        ",175],["T_RETURN","return",177],["T_WHITESPACE"," ",177],["T_VARIABLE","$node",177],";",["T_WHITESPACE","\n    ",177],"}",["T_WHITESPACE","\n\n    ",178],["T_PUBLIC","public",180],["T_WHITESPACE"," ",180],["T_FUNCTION","function",180],["T_WHITESPACE"," ",180],["T_STRING","getSaveUrl",180],"(",["T_ARRAY","array",180],["T_WHITESPACE"," ",180],["T_VARIABLE","$args",180],["T_WHITESPACE"," ",180],"=",["T_WHITESPACE"," ",180],["T_ARRAY","array",180],"(",")",")",["T_WHITESPACE","\n    ",180],"{",["T_WHITESPACE","\n        ",181],["T_VARIABLE","$params",182],["T_WHITESPACE"," ",182],"=",["T_WHITESPACE"," ",182],["T_ARRAY","array",182],"(",["T_CONSTANT_ENCAPSED_STRING","'_current'",182],["T_DOUBLE_ARROW","=>",182],["T_STRING","true",182],")",";",["T_WHITESPACE","\n        ",182],["T_VARIABLE","$params",183],["T_WHITESPACE"," ",183],"=",["T_WHITESPACE"," ",183],["T_STRING","array_merge",183],"(",["T_VARIABLE","$params",183],",",["T_WHITESPACE"," ",183],["T_VARIABLE","$args",183],")",";",["T_WHITESPACE","\n        ",183],["T_RETURN","return",184],["T_WHITESPACE"," ",184],["T_VARIABLE","$this",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","getUrl",184],"(",["T_CONSTANT_ENCAPSED_STRING","'*\/*\/save'",184],",",["T_WHITESPACE"," ",184],["T_VARIABLE","$params",184],")",";",["T_WHITESPACE","\n    ",184],"}",["T_WHITESPACE","\n\n    ",185],["T_PUBLIC","public",187],["T_WHITESPACE"," ",187],["T_FUNCTION","function",187],["T_WHITESPACE"," ",187],["T_STRING","getEditUrl",187],"(",")",["T_WHITESPACE","\n    ",187],"{",["T_WHITESPACE","\n        ",188],["T_RETURN","return",189],["T_WHITESPACE"," ",189],["T_VARIABLE","$this",189],["T_OBJECT_OPERATOR","->",189],["T_STRING","getUrl",189],"(",["T_CONSTANT_ENCAPSED_STRING","\"*\/catalog_category\/edit\"",189],",",["T_WHITESPACE"," ",189],["T_ARRAY","array",189],"(",["T_CONSTANT_ENCAPSED_STRING","'_current'",189],["T_DOUBLE_ARROW","=>",189],["T_STRING","true",189],",",["T_WHITESPACE"," ",189],["T_CONSTANT_ENCAPSED_STRING","'store'",189],["T_DOUBLE_ARROW","=>",189],["T_STRING","null",189],",",["T_WHITESPACE"," ",189],["T_CONSTANT_ENCAPSED_STRING","'_query'",189],["T_DOUBLE_ARROW","=>",189],["T_STRING","false",189],",",["T_WHITESPACE"," ",189],["T_CONSTANT_ENCAPSED_STRING","'id'",189],["T_DOUBLE_ARROW","=>",189],["T_STRING","null",189],",",["T_WHITESPACE"," ",189],["T_CONSTANT_ENCAPSED_STRING","'parent'",189],["T_DOUBLE_ARROW","=>",189],["T_STRING","null",189],")",")",";",["T_WHITESPACE","\n    ",189],"}",["T_WHITESPACE","\n\n    ",190],["T_DOC_COMMENT","\/**\n     * Return ids of root categories as array\n     *\n     * @return array\n     *\/",192],["T_WHITESPACE","\n    ",196],["T_PUBLIC","public",197],["T_WHITESPACE"," ",197],["T_FUNCTION","function",197],["T_WHITESPACE"," ",197],["T_STRING","getRootIds",197],"(",")",["T_WHITESPACE","\n    ",197],"{",["T_WHITESPACE","\n        ",198],["T_VARIABLE","$ids",199],["T_WHITESPACE"," ",199],"=",["T_WHITESPACE"," ",199],["T_VARIABLE","$this",199],["T_OBJECT_OPERATOR","->",199],["T_STRING","getData",199],"(",["T_CONSTANT_ENCAPSED_STRING","'root_ids'",199],")",";",["T_WHITESPACE","\n        ",199],["T_IF","if",200],["T_WHITESPACE"," ",200],"(",["T_STRING","is_null",200],"(",["T_VARIABLE","$ids",200],")",")",["T_WHITESPACE"," ",200],"{",["T_WHITESPACE","\n            ",200],["T_VARIABLE","$ids",201],["T_WHITESPACE"," ",201],"=",["T_WHITESPACE"," ",201],["T_ARRAY","array",201],"(",")",";",["T_WHITESPACE","\n            ",201],["T_FOREACH","foreach",202],["T_WHITESPACE"," ",202],"(",["T_STRING","Mage",202],["T_DOUBLE_COLON","::",202],["T_STRING","app",202],"(",")",["T_OBJECT_OPERATOR","->",202],["T_STRING","getGroups",202],"(",")",["T_WHITESPACE"," ",202],["T_AS","as",202],["T_WHITESPACE"," ",202],["T_VARIABLE","$store",202],")",["T_WHITESPACE"," ",202],"{",["T_WHITESPACE","\n                ",202],["T_VARIABLE","$ids",203],"[","]",["T_WHITESPACE"," ",203],"=",["T_WHITESPACE"," ",203],["T_VARIABLE","$store",203],["T_OBJECT_OPERATOR","->",203],["T_STRING","getRootCategoryId",203],"(",")",";",["T_WHITESPACE","\n            ",203],"}",["T_WHITESPACE","\n            ",204],["T_VARIABLE","$this",205],["T_OBJECT_OPERATOR","->",205],["T_STRING","setData",205],"(",["T_CONSTANT_ENCAPSED_STRING","'root_ids'",205],",",["T_WHITESPACE"," ",205],["T_VARIABLE","$ids",205],")",";",["T_WHITESPACE","\n        ",205],"}",["T_WHITESPACE","\n        ",206],["T_RETURN","return",207],["T_WHITESPACE"," ",207],["T_VARIABLE","$ids",207],";",["T_WHITESPACE","\n    ",207],"}",["T_WHITESPACE","\n",208],"}",["T_WHITESPACE","\n",209]]