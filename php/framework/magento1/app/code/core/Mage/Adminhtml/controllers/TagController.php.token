[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Magento\n *\n * NOTICE OF LICENSE\n *\n * This source file is subject to the Open Software License (OSL 3.0)\n * that is bundled with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/opensource.org\/licenses\/osl-3.0.php\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@magento.com so we can send you a copy immediately.\n *\n * DISCLAIMER\n *\n * Do not edit or add to this file if you wish to upgrade Magento to newer\n * versions in the future. If you wish to customize Magento for your\n * needs please refer to http:\/\/www.magento.com for more information.\n *\n * @category    Mage\n * @package     Mage_Adminhtml\n * @copyright  Copyright (c) 2006-2016 X.commerce, Inc. and affiliates (http:\/\/www.magento.com)\n * @license    http:\/\/opensource.org\/licenses\/osl-3.0.php  Open Software License (OSL 3.0)\n *\/",2],["T_WHITESPACE","\n\n",25],["T_DOC_COMMENT","\/**\n * Product tags admin controller\n *\n * @category   Mage\n * @package    Mage_Adminhtml\n * @author      Magento Core Team <core@magentocommerce.com>\n *\/",27],["T_WHITESPACE","\n",33],["T_CLASS","class",34],["T_WHITESPACE"," ",34],["T_STRING","Mage_Adminhtml_TagController",34],["T_WHITESPACE"," ",34],["T_EXTENDS","extends",34],["T_WHITESPACE"," ",34],["T_STRING","Mage_Adminhtml_Controller_Action",34],["T_WHITESPACE","\n",34],"{",["T_WHITESPACE","\n\n    ",35],["T_PROTECTED","protected",37],["T_WHITESPACE"," ",37],["T_FUNCTION","function",37],["T_WHITESPACE"," ",37],["T_STRING","_initAction",37],"(",")",["T_WHITESPACE","\n    ",37],"{",["T_WHITESPACE","\n        ",38],["T_VARIABLE","$this",39],["T_OBJECT_OPERATOR","->",39],["T_STRING","loadLayout",39],"(",")",["T_WHITESPACE","\n            ",39],["T_OBJECT_OPERATOR","->",40],["T_STRING","_setActiveMenu",40],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog\/tag'",40],")",["T_WHITESPACE","\n            ",40],["T_OBJECT_OPERATOR","->",41],["T_STRING","_addBreadcrumb",41],"(",["T_STRING","Mage",41],["T_DOUBLE_COLON","::",41],["T_STRING","helper",41],"(",["T_CONSTANT_ENCAPSED_STRING","'adminhtml'",41],")",["T_OBJECT_OPERATOR","->",41],["T_STRING","__",41],"(",["T_CONSTANT_ENCAPSED_STRING","'Catalog'",41],")",",",["T_WHITESPACE"," ",41],["T_STRING","Mage",41],["T_DOUBLE_COLON","::",41],["T_STRING","helper",41],"(",["T_CONSTANT_ENCAPSED_STRING","'adminhtml'",41],")",["T_OBJECT_OPERATOR","->",41],["T_STRING","__",41],"(",["T_CONSTANT_ENCAPSED_STRING","'Catalog'",41],")",")",["T_WHITESPACE","\n            ",41],["T_OBJECT_OPERATOR","->",42],["T_STRING","_addBreadcrumb",42],"(",["T_STRING","Mage",42],["T_DOUBLE_COLON","::",42],["T_STRING","helper",42],"(",["T_CONSTANT_ENCAPSED_STRING","'adminhtml'",42],")",["T_OBJECT_OPERATOR","->",42],["T_STRING","__",42],"(",["T_CONSTANT_ENCAPSED_STRING","'Tags'",42],")",",",["T_WHITESPACE"," ",42],["T_STRING","Mage",42],["T_DOUBLE_COLON","::",42],["T_STRING","helper",42],"(",["T_CONSTANT_ENCAPSED_STRING","'adminhtml'",42],")",["T_OBJECT_OPERATOR","->",42],["T_STRING","__",42],"(",["T_CONSTANT_ENCAPSED_STRING","'Tags'",42],")",")",";",["T_WHITESPACE","\n\n        ",42],["T_RETURN","return",44],["T_WHITESPACE"," ",44],["T_VARIABLE","$this",44],";",["T_WHITESPACE","\n    ",44],"}",["T_WHITESPACE","\n\n    ",45],["T_DOC_COMMENT","\/**\n     * Prepare tag model for manipulation\n     *\n     * @return Mage_Tag_Model_Tag | false\n     *\/",47],["T_WHITESPACE","\n    ",51],["T_PROTECTED","protected",52],["T_WHITESPACE"," ",52],["T_FUNCTION","function",52],["T_WHITESPACE"," ",52],["T_STRING","_initTag",52],"(",")",["T_WHITESPACE","\n    ",52],"{",["T_WHITESPACE","\n        ",53],["T_VARIABLE","$model",54],["T_WHITESPACE"," ",54],"=",["T_WHITESPACE"," ",54],["T_STRING","Mage",54],["T_DOUBLE_COLON","::",54],["T_STRING","getModel",54],"(",["T_CONSTANT_ENCAPSED_STRING","'tag\/tag'",54],")",";",["T_WHITESPACE","\n        ",54],["T_VARIABLE","$storeId",55],["T_WHITESPACE"," ",55],"=",["T_WHITESPACE"," ",55],["T_VARIABLE","$this",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","getRequest",55],"(",")",["T_OBJECT_OPERATOR","->",55],["T_STRING","getParam",55],"(",["T_CONSTANT_ENCAPSED_STRING","'store'",55],")",";",["T_WHITESPACE","\n        ",55],["T_VARIABLE","$model",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","setStoreId",56],"(",["T_VARIABLE","$storeId",56],")",";",["T_WHITESPACE","\n\n        ",56],["T_IF","if",58],["T_WHITESPACE"," ",58],"(","(",["T_VARIABLE","$id",58],["T_WHITESPACE"," ",58],"=",["T_WHITESPACE"," ",58],["T_VARIABLE","$this",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","getRequest",58],"(",")",["T_OBJECT_OPERATOR","->",58],["T_STRING","getParam",58],"(",["T_CONSTANT_ENCAPSED_STRING","'tag_id'",58],")",")",")",["T_WHITESPACE"," ",58],"{",["T_WHITESPACE","\n            ",58],["T_VARIABLE","$model",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","setAddBasePopularity",59],"(",")",";",["T_WHITESPACE","\n            ",59],["T_VARIABLE","$model",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","load",60],"(",["T_VARIABLE","$id",60],")",";",["T_WHITESPACE","\n            ",60],["T_VARIABLE","$model",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","setStoreId",61],"(",["T_VARIABLE","$storeId",61],")",";",["T_WHITESPACE","\n\n            ",61],["T_IF","if",63],["T_WHITESPACE"," ",63],"(","!",["T_VARIABLE","$model",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","getId",63],"(",")",")",["T_WHITESPACE"," ",63],"{",["T_WHITESPACE","\n                ",63],["T_RETURN","return",64],["T_WHITESPACE"," ",64],["T_STRING","false",64],";",["T_WHITESPACE","\n            ",64],"}",["T_WHITESPACE","\n        ",65],"}",["T_WHITESPACE","\n\n        ",66],["T_STRING","Mage",68],["T_DOUBLE_COLON","::",68],["T_STRING","register",68],"(",["T_CONSTANT_ENCAPSED_STRING","'current_tag'",68],",",["T_WHITESPACE"," ",68],["T_VARIABLE","$model",68],")",";",["T_WHITESPACE","\n        ",68],["T_RETURN","return",69],["T_WHITESPACE"," ",69],["T_VARIABLE","$model",69],";",["T_WHITESPACE","\n    ",69],"}",["T_WHITESPACE","\n\n    ",70],["T_DOC_COMMENT","\/**\n     * Show grid action\n     *\n     *\/",72],["T_WHITESPACE","\n    ",75],["T_PUBLIC","public",76],["T_WHITESPACE"," ",76],["T_FUNCTION","function",76],["T_WHITESPACE"," ",76],["T_STRING","indexAction",76],"(",")",["T_WHITESPACE","\n    ",76],"{",["T_WHITESPACE","\n        ",77],["T_VARIABLE","$this",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","_title",78],"(",["T_VARIABLE","$this",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","__",78],"(",["T_CONSTANT_ENCAPSED_STRING","'Catalog'",78],")",")",["T_WHITESPACE","\n             ",78],["T_OBJECT_OPERATOR","->",79],["T_STRING","_title",79],"(",["T_VARIABLE","$this",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","__",79],"(",["T_CONSTANT_ENCAPSED_STRING","'Tags'",79],")",")",["T_WHITESPACE","\n             ",79],["T_OBJECT_OPERATOR","->",80],["T_STRING","_title",80],"(",["T_VARIABLE","$this",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","__",80],"(",["T_CONSTANT_ENCAPSED_STRING","'All Tags'",80],")",")",";",["T_WHITESPACE","\n\n        ",80],["T_VARIABLE","$this",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","_initAction",82],"(",")",["T_WHITESPACE","\n            ",82],["T_OBJECT_OPERATOR","->",83],["T_STRING","_addBreadcrumb",83],"(",["T_STRING","Mage",83],["T_DOUBLE_COLON","::",83],["T_STRING","helper",83],"(",["T_CONSTANT_ENCAPSED_STRING","'adminhtml'",83],")",["T_OBJECT_OPERATOR","->",83],["T_STRING","__",83],"(",["T_CONSTANT_ENCAPSED_STRING","'All Tags'",83],")",",",["T_WHITESPACE"," ",83],["T_STRING","Mage",83],["T_DOUBLE_COLON","::",83],["T_STRING","helper",83],"(",["T_CONSTANT_ENCAPSED_STRING","'adminhtml'",83],")",["T_OBJECT_OPERATOR","->",83],["T_STRING","__",83],"(",["T_CONSTANT_ENCAPSED_STRING","'All Tags'",83],")",")",["T_WHITESPACE","\n            ",83],["T_OBJECT_OPERATOR","->",84],["T_STRING","_setActiveMenu",84],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog\/tag\/all'",84],")",["T_WHITESPACE","\n            ",84],["T_OBJECT_OPERATOR","->",85],["T_STRING","renderLayout",85],"(",")",";",["T_WHITESPACE","\n    ",85],"}",["T_WHITESPACE","\n\n    ",86],["T_DOC_COMMENT","\/**\n     * Action to draw grid loaded by ajax\n     *\n     *\/",88],["T_WHITESPACE","\n    ",91],["T_PUBLIC","public",92],["T_WHITESPACE"," ",92],["T_FUNCTION","function",92],["T_WHITESPACE"," ",92],["T_STRING","ajaxGridAction",92],"(",")",["T_WHITESPACE","\n    ",92],"{",["T_WHITESPACE","\n        ",93],["T_VARIABLE","$this",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","loadLayout",94],"(",")",";",["T_WHITESPACE","\n        ",94],["T_VARIABLE","$this",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","renderLayout",95],"(",")",";",["T_WHITESPACE","\n    ",95],"}",["T_WHITESPACE","\n\n    ",96],["T_DOC_COMMENT","\/**\n     * Action to draw pending tags grid loaded by ajax\n     *\n     *\/",98],["T_WHITESPACE","\n    ",101],["T_PUBLIC","public",102],["T_WHITESPACE"," ",102],["T_FUNCTION","function",102],["T_WHITESPACE"," ",102],["T_STRING","ajaxPendingGridAction",102],"(",")",["T_WHITESPACE","\n    ",102],"{",["T_WHITESPACE","\n        ",103],["T_VARIABLE","$this",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","loadLayout",104],"(",")",";",["T_WHITESPACE","\n        ",104],["T_VARIABLE","$this",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","renderLayout",105],"(",")",";",["T_WHITESPACE","\n    ",105],"}",["T_WHITESPACE","\n\n    ",106],["T_DOC_COMMENT","\/**\n     * New tag action\n     *\n     *\/",108],["T_WHITESPACE","\n    ",111],["T_PUBLIC","public",112],["T_WHITESPACE"," ",112],["T_FUNCTION","function",112],["T_WHITESPACE"," ",112],["T_STRING","newAction",112],"(",")",["T_WHITESPACE","\n    ",112],"{",["T_WHITESPACE","\n        ",113],["T_VARIABLE","$this",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","_forward",114],"(",["T_CONSTANT_ENCAPSED_STRING","'edit'",114],")",";",["T_WHITESPACE","\n    ",114],"}",["T_WHITESPACE","\n\n    ",115],["T_DOC_COMMENT","\/**\n     * Edit tag action\n     *\n     *\/",117],["T_WHITESPACE","\n    ",120],["T_PUBLIC","public",121],["T_WHITESPACE"," ",121],["T_FUNCTION","function",121],["T_WHITESPACE"," ",121],["T_STRING","editAction",121],"(",")",["T_WHITESPACE","\n    ",121],"{",["T_WHITESPACE","\n        ",122],["T_VARIABLE","$this",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","_title",123],"(",["T_VARIABLE","$this",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","__",123],"(",["T_CONSTANT_ENCAPSED_STRING","'Catalog'",123],")",")",["T_WHITESPACE","\n             ",123],["T_OBJECT_OPERATOR","->",124],["T_STRING","_title",124],"(",["T_VARIABLE","$this",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","__",124],"(",["T_CONSTANT_ENCAPSED_STRING","'Tags'",124],")",")",";",["T_WHITESPACE","\n\n        ",124],["T_IF","if",126],["T_WHITESPACE"," ",126],"(","!",["T_WHITESPACE"," ",126],["T_INT_CAST","(int)",126],["T_WHITESPACE"," ",126],["T_VARIABLE","$this",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","getRequest",126],"(",")",["T_OBJECT_OPERATOR","->",126],["T_STRING","getParam",126],"(",["T_CONSTANT_ENCAPSED_STRING","'store'",126],")",")",["T_WHITESPACE"," ",126],"{",["T_WHITESPACE","\n            ",126],["T_RETURN","return",127],["T_WHITESPACE"," ",127],["T_VARIABLE","$this",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","_redirect",127],"(",["T_CONSTANT_ENCAPSED_STRING","'*\/*\/*\/'",127],",",["T_WHITESPACE"," ",127],["T_ARRAY","array",127],"(",["T_CONSTANT_ENCAPSED_STRING","'store'",127],["T_WHITESPACE"," ",127],["T_DOUBLE_ARROW","=>",127],["T_WHITESPACE"," ",127],["T_STRING","Mage",127],["T_DOUBLE_COLON","::",127],["T_STRING","app",127],"(",")",["T_OBJECT_OPERATOR","->",127],["T_STRING","getAnyStoreView",127],"(",")",["T_OBJECT_OPERATOR","->",127],["T_STRING","getId",127],"(",")",",",["T_WHITESPACE"," ",127],["T_CONSTANT_ENCAPSED_STRING","'_current'",127],["T_WHITESPACE"," ",127],["T_DOUBLE_ARROW","=>",127],["T_WHITESPACE"," ",127],["T_STRING","true",127],")",")",";",["T_WHITESPACE","\n        ",127],"}",["T_WHITESPACE","\n\n        ",128],["T_IF","if",130],["T_WHITESPACE"," ",130],"(","!",["T_WHITESPACE"," ",130],"(",["T_VARIABLE","$model",130],["T_WHITESPACE"," ",130],"=",["T_WHITESPACE"," ",130],["T_VARIABLE","$this",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","_initTag",130],"(",")",")",")",["T_WHITESPACE"," ",130],"{",["T_WHITESPACE","\n            ",130],["T_STRING","Mage",131],["T_DOUBLE_COLON","::",131],["T_STRING","getSingleton",131],"(",["T_CONSTANT_ENCAPSED_STRING","'adminhtml\/session'",131],")",["T_OBJECT_OPERATOR","->",131],["T_STRING","addError",131],"(",["T_STRING","Mage",131],["T_DOUBLE_COLON","::",131],["T_STRING","helper",131],"(",["T_CONSTANT_ENCAPSED_STRING","'adminhtml'",131],")",["T_OBJECT_OPERATOR","->",131],["T_STRING","__",131],"(",["T_CONSTANT_ENCAPSED_STRING","'Wrong tag was specified.'",131],")",")",";",["T_WHITESPACE","\n            ",131],["T_RETURN","return",132],["T_WHITESPACE"," ",132],["T_VARIABLE","$this",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","_redirect",132],"(",["T_CONSTANT_ENCAPSED_STRING","'*\/*\/index'",132],",",["T_WHITESPACE"," ",132],["T_ARRAY","array",132],"(",["T_CONSTANT_ENCAPSED_STRING","'store'",132],["T_WHITESPACE"," ",132],["T_DOUBLE_ARROW","=>",132],["T_WHITESPACE"," ",132],["T_VARIABLE","$this",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","getRequest",132],"(",")",["T_OBJECT_OPERATOR","->",132],["T_STRING","getParam",132],"(",["T_CONSTANT_ENCAPSED_STRING","'store'",132],")",")",")",";",["T_WHITESPACE","\n        ",132],"}",["T_WHITESPACE","\n\n        ",133],["T_COMMENT","\/\/ set entered data if was error when we do save\n",135],["T_WHITESPACE","        ",136],["T_VARIABLE","$data",136],["T_WHITESPACE"," ",136],"=",["T_WHITESPACE"," ",136],["T_STRING","Mage",136],["T_DOUBLE_COLON","::",136],["T_STRING","getSingleton",136],"(",["T_CONSTANT_ENCAPSED_STRING","'adminhtml\/session'",136],")",["T_OBJECT_OPERATOR","->",136],["T_STRING","getTagData",136],"(",["T_STRING","true",136],")",";",["T_WHITESPACE","\n        ",136],["T_IF","if",137],["T_WHITESPACE"," ",137],"(","!",["T_WHITESPACE"," ",137],["T_EMPTY","empty",137],"(",["T_VARIABLE","$data",137],")",")",["T_WHITESPACE"," ",137],"{",["T_WHITESPACE","\n            ",137],["T_VARIABLE","$model",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","addData",138],"(",["T_VARIABLE","$data",138],")",";",["T_WHITESPACE","\n        ",138],"}",["T_WHITESPACE","\n\n        ",139],["T_VARIABLE","$this",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","_title",141],"(",["T_VARIABLE","$model",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","getId",141],"(",")",["T_WHITESPACE"," ",141],"?",["T_WHITESPACE"," ",141],["T_VARIABLE","$model",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","getName",141],"(",")",["T_WHITESPACE"," ",141],":",["T_WHITESPACE"," ",141],["T_VARIABLE","$this",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","__",141],"(",["T_CONSTANT_ENCAPSED_STRING","'New Tag'",141],")",")",";",["T_WHITESPACE","\n\n        ",141],["T_STRING","Mage",143],["T_DOUBLE_COLON","::",143],["T_STRING","register",143],"(",["T_CONSTANT_ENCAPSED_STRING","'tag_tag'",143],",",["T_WHITESPACE"," ",143],["T_VARIABLE","$model",143],")",";",["T_WHITESPACE","\n\n        ",143],["T_VARIABLE","$this",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","_initAction",145],"(",")",["T_OBJECT_OPERATOR","->",145],["T_STRING","renderLayout",145],"(",")",";",["T_WHITESPACE","\n    ",145],"}",["T_WHITESPACE","\n\n    ",146],["T_DOC_COMMENT","\/**\n     * Save tag action\n     *\n     *\/",148],["T_WHITESPACE","\n    ",151],["T_PUBLIC","public",152],["T_WHITESPACE"," ",152],["T_FUNCTION","function",152],["T_WHITESPACE"," ",152],["T_STRING","saveAction",152],"(",")",["T_WHITESPACE","\n    ",152],"{",["T_WHITESPACE","\n        ",153],["T_IF","if",154],["T_WHITESPACE"," ",154],"(",["T_VARIABLE","$postData",154],["T_WHITESPACE"," ",154],"=",["T_WHITESPACE"," ",154],["T_VARIABLE","$this",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","getRequest",154],"(",")",["T_OBJECT_OPERATOR","->",154],["T_STRING","getPost",154],"(",")",")",["T_WHITESPACE"," ",154],"{",["T_WHITESPACE","\n            ",154],["T_IF","if",155],["T_WHITESPACE"," ",155],"(",["T_ISSET","isset",155],"(",["T_VARIABLE","$postData",155],"[",["T_CONSTANT_ENCAPSED_STRING","'tag_id'",155],"]",")",")",["T_WHITESPACE"," ",155],"{",["T_WHITESPACE","\n                ",155],["T_VARIABLE","$data",156],"[",["T_CONSTANT_ENCAPSED_STRING","'tag_id'",156],"]",["T_WHITESPACE"," ",156],"=",["T_WHITESPACE"," ",156],["T_VARIABLE","$postData",156],"[",["T_CONSTANT_ENCAPSED_STRING","'tag_id'",156],"]",";",["T_WHITESPACE","\n            ",156],"}",["T_WHITESPACE","\n\n            ",157],["T_VARIABLE","$data",159],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",159],"]",["T_WHITESPACE","               ",159],"=",["T_WHITESPACE"," ",159],["T_STRING","trim",159],"(",["T_VARIABLE","$postData",159],"[",["T_CONSTANT_ENCAPSED_STRING","'tag_name'",159],"]",")",";",["T_WHITESPACE","\n            ",159],["T_VARIABLE","$data",160],"[",["T_CONSTANT_ENCAPSED_STRING","'status'",160],"]",["T_WHITESPACE","             ",160],"=",["T_WHITESPACE"," ",160],["T_VARIABLE","$postData",160],"[",["T_CONSTANT_ENCAPSED_STRING","'tag_status'",160],"]",";",["T_WHITESPACE","\n            ",160],["T_VARIABLE","$data",161],"[",["T_CONSTANT_ENCAPSED_STRING","'base_popularity'",161],"]",["T_WHITESPACE","    ",161],"=",["T_WHITESPACE"," ",161],"(",["T_ISSET","isset",161],"(",["T_VARIABLE","$postData",161],"[",["T_CONSTANT_ENCAPSED_STRING","'base_popularity'",161],"]",")",")",["T_WHITESPACE"," ",161],"?",["T_WHITESPACE"," ",161],["T_VARIABLE","$postData",161],"[",["T_CONSTANT_ENCAPSED_STRING","'base_popularity'",161],"]",["T_WHITESPACE"," ",161],":",["T_WHITESPACE"," ",161],["T_LNUMBER","0",161],";",["T_WHITESPACE","\n            ",161],["T_VARIABLE","$data",162],"[",["T_CONSTANT_ENCAPSED_STRING","'store'",162],"]",["T_WHITESPACE","              ",162],"=",["T_WHITESPACE"," ",162],["T_VARIABLE","$postData",162],"[",["T_CONSTANT_ENCAPSED_STRING","'store_id'",162],"]",";",["T_WHITESPACE","\n\n            ",162],["T_IF","if",164],["T_WHITESPACE"," ",164],"(","!",["T_VARIABLE","$model",164],["T_WHITESPACE"," ",164],"=",["T_WHITESPACE"," ",164],["T_VARIABLE","$this",164],["T_OBJECT_OPERATOR","->",164],["T_STRING","_initTag",164],"(",")",")",["T_WHITESPACE"," ",164],"{",["T_WHITESPACE","\n                ",164],["T_STRING","Mage",165],["T_DOUBLE_COLON","::",165],["T_STRING","getSingleton",165],"(",["T_CONSTANT_ENCAPSED_STRING","'adminhtml\/session'",165],")",["T_OBJECT_OPERATOR","->",165],["T_STRING","addError",165],"(",["T_STRING","Mage",165],["T_DOUBLE_COLON","::",165],["T_STRING","helper",165],"(",["T_CONSTANT_ENCAPSED_STRING","'adminhtml'",165],")",["T_OBJECT_OPERATOR","->",165],["T_STRING","__",165],"(",["T_CONSTANT_ENCAPSED_STRING","'Wrong tag was specified.'",165],")",")",";",["T_WHITESPACE","\n                ",165],["T_RETURN","return",166],["T_WHITESPACE"," ",166],["T_VARIABLE","$this",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","_redirect",166],"(",["T_CONSTANT_ENCAPSED_STRING","'*\/*\/index'",166],",",["T_WHITESPACE"," ",166],["T_ARRAY","array",166],"(",["T_CONSTANT_ENCAPSED_STRING","'store'",166],["T_WHITESPACE"," ",166],["T_DOUBLE_ARROW","=>",166],["T_WHITESPACE"," ",166],["T_VARIABLE","$data",166],"[",["T_CONSTANT_ENCAPSED_STRING","'store'",166],"]",")",")",";",["T_WHITESPACE","\n            ",166],"}",["T_WHITESPACE","\n\n            ",167],["T_VARIABLE","$model",169],["T_OBJECT_OPERATOR","->",169],["T_STRING","addData",169],"(",["T_VARIABLE","$data",169],")",";",["T_WHITESPACE","\n\n            ",169],["T_IF","if",171],["T_WHITESPACE"," ",171],"(",["T_ISSET","isset",171],"(",["T_VARIABLE","$postData",171],"[",["T_CONSTANT_ENCAPSED_STRING","'tag_assigned_products'",171],"]",")",")",["T_WHITESPACE"," ",171],"{",["T_WHITESPACE","\n                ",171],["T_VARIABLE","$productIds",172],["T_WHITESPACE"," ",172],"=",["T_WHITESPACE"," ",172],["T_STRING","Mage",172],["T_DOUBLE_COLON","::",172],["T_STRING","helper",172],"(",["T_CONSTANT_ENCAPSED_STRING","'adminhtml\/js'",172],")",["T_OBJECT_OPERATOR","->",172],["T_STRING","decodeGridSerializedInput",172],"(",["T_WHITESPACE","\n                    ",172],["T_VARIABLE","$postData",173],"[",["T_CONSTANT_ENCAPSED_STRING","'tag_assigned_products'",173],"]",["T_WHITESPACE","\n                ",173],")",";",["T_WHITESPACE","\n                ",174],["T_VARIABLE","$model",175],["T_OBJECT_OPERATOR","->",175],["T_STRING","setData",175],"(",["T_CONSTANT_ENCAPSED_STRING","'tag_assigned_products'",175],",",["T_WHITESPACE"," ",175],["T_VARIABLE","$productIds",175],")",";",["T_WHITESPACE","\n            ",175],"}",["T_WHITESPACE","\n\n            ",176],["T_TRY","try",178],["T_WHITESPACE"," ",178],"{",["T_WHITESPACE","\n                ",178],["T_VARIABLE","$model",179],["T_OBJECT_OPERATOR","->",179],["T_STRING","save",179],"(",")",";",["T_WHITESPACE","\n\n                ",179],["T_STRING","Mage",181],["T_DOUBLE_COLON","::",181],["T_STRING","getSingleton",181],"(",["T_CONSTANT_ENCAPSED_STRING","'adminhtml\/session'",181],")",["T_OBJECT_OPERATOR","->",181],["T_STRING","addSuccess",181],"(",["T_STRING","Mage",181],["T_DOUBLE_COLON","::",181],["T_STRING","helper",181],"(",["T_CONSTANT_ENCAPSED_STRING","'adminhtml'",181],")",["T_OBJECT_OPERATOR","->",181],["T_STRING","__",181],"(",["T_CONSTANT_ENCAPSED_STRING","'The tag has been saved.'",181],")",")",";",["T_WHITESPACE","\n                ",181],["T_STRING","Mage",182],["T_DOUBLE_COLON","::",182],["T_STRING","getSingleton",182],"(",["T_CONSTANT_ENCAPSED_STRING","'adminhtml\/session'",182],")",["T_OBJECT_OPERATOR","->",182],["T_STRING","setTagData",182],"(",["T_STRING","false",182],")",";",["T_WHITESPACE","\n\n                ",182],["T_IF","if",184],["T_WHITESPACE"," ",184],"(","(",["T_VARIABLE","$continue",184],["T_WHITESPACE"," ",184],"=",["T_WHITESPACE"," ",184],["T_VARIABLE","$this",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","getRequest",184],"(",")",["T_OBJECT_OPERATOR","->",184],["T_STRING","getParam",184],"(",["T_CONSTANT_ENCAPSED_STRING","'continue'",184],")",")",")",["T_WHITESPACE"," ",184],"{",["T_WHITESPACE","\n                    ",184],["T_RETURN","return",185],["T_WHITESPACE"," ",185],["T_VARIABLE","$this",185],["T_OBJECT_OPERATOR","->",185],["T_STRING","_redirect",185],"(",["T_CONSTANT_ENCAPSED_STRING","'*\/tag\/edit'",185],",",["T_WHITESPACE"," ",185],["T_ARRAY","array",185],"(",["T_CONSTANT_ENCAPSED_STRING","'tag_id'",185],["T_WHITESPACE"," ",185],["T_DOUBLE_ARROW","=>",185],["T_WHITESPACE"," ",185],["T_VARIABLE","$model",185],["T_OBJECT_OPERATOR","->",185],["T_STRING","getId",185],"(",")",",",["T_WHITESPACE"," ",185],["T_CONSTANT_ENCAPSED_STRING","'store'",185],["T_WHITESPACE"," ",185],["T_DOUBLE_ARROW","=>",185],["T_WHITESPACE"," ",185],["T_VARIABLE","$model",185],["T_OBJECT_OPERATOR","->",185],["T_STRING","getStoreId",185],"(",")",",",["T_WHITESPACE"," ",185],["T_CONSTANT_ENCAPSED_STRING","'ret'",185],["T_WHITESPACE"," ",185],["T_DOUBLE_ARROW","=>",185],["T_WHITESPACE"," ",185],["T_VARIABLE","$continue",185],")",")",";",["T_WHITESPACE","\n                ",185],"}",["T_WHITESPACE"," ",186],["T_ELSE","else",186],["T_WHITESPACE"," ",186],"{",["T_WHITESPACE","\n                    ",186],["T_RETURN","return",187],["T_WHITESPACE"," ",187],["T_VARIABLE","$this",187],["T_OBJECT_OPERATOR","->",187],["T_STRING","_redirect",187],"(",["T_CONSTANT_ENCAPSED_STRING","'*\/tag\/'",187],["T_WHITESPACE"," ",187],".",["T_WHITESPACE"," ",187],["T_VARIABLE","$this",187],["T_OBJECT_OPERATOR","->",187],["T_STRING","getRequest",187],"(",")",["T_OBJECT_OPERATOR","->",187],["T_STRING","getParam",187],"(",["T_CONSTANT_ENCAPSED_STRING","'ret'",187],",",["T_WHITESPACE"," ",187],["T_CONSTANT_ENCAPSED_STRING","'index'",187],")",")",";",["T_WHITESPACE","\n                ",187],"}",["T_WHITESPACE","\n            ",188],"}",["T_WHITESPACE"," ",189],["T_CATCH","catch",189],["T_WHITESPACE"," ",189],"(",["T_STRING","Exception",189],["T_WHITESPACE"," ",189],["T_VARIABLE","$e",189],")",["T_WHITESPACE"," ",189],"{",["T_WHITESPACE","\n                ",189],["T_STRING","Mage",190],["T_DOUBLE_COLON","::",190],["T_STRING","getSingleton",190],"(",["T_CONSTANT_ENCAPSED_STRING","'adminhtml\/session'",190],")",["T_OBJECT_OPERATOR","->",190],["T_STRING","addError",190],"(",["T_VARIABLE","$e",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","getMessage",190],"(",")",")",";",["T_WHITESPACE","\n                ",190],["T_STRING","Mage",191],["T_DOUBLE_COLON","::",191],["T_STRING","getSingleton",191],"(",["T_CONSTANT_ENCAPSED_STRING","'adminhtml\/session'",191],")",["T_OBJECT_OPERATOR","->",191],["T_STRING","setTagData",191],"(",["T_VARIABLE","$data",191],")",";",["T_WHITESPACE","\n\n                ",191],["T_RETURN","return",193],["T_WHITESPACE"," ",193],["T_VARIABLE","$this",193],["T_OBJECT_OPERATOR","->",193],["T_STRING","_redirect",193],"(",["T_CONSTANT_ENCAPSED_STRING","'*\/*\/edit'",193],",",["T_WHITESPACE"," ",193],["T_ARRAY","array",193],"(",["T_CONSTANT_ENCAPSED_STRING","'tag_id'",193],["T_WHITESPACE"," ",193],["T_DOUBLE_ARROW","=>",193],["T_WHITESPACE"," ",193],["T_VARIABLE","$model",193],["T_OBJECT_OPERATOR","->",193],["T_STRING","getId",193],"(",")",",",["T_WHITESPACE"," ",193],["T_CONSTANT_ENCAPSED_STRING","'store'",193],["T_WHITESPACE"," ",193],["T_DOUBLE_ARROW","=>",193],["T_WHITESPACE"," ",193],["T_VARIABLE","$model",193],["T_OBJECT_OPERATOR","->",193],["T_STRING","getStoreId",193],"(",")",")",")",";",["T_WHITESPACE","\n            ",193],"}",["T_WHITESPACE","\n        ",194],"}",["T_WHITESPACE","\n\n        ",195],["T_RETURN","return",197],["T_WHITESPACE"," ",197],["T_VARIABLE","$this",197],["T_OBJECT_OPERATOR","->",197],["T_STRING","_redirect",197],"(",["T_CONSTANT_ENCAPSED_STRING","'*\/tag\/index'",197],",",["T_WHITESPACE"," ",197],["T_ARRAY","array",197],"(",["T_CONSTANT_ENCAPSED_STRING","'_current'",197],["T_WHITESPACE"," ",197],["T_DOUBLE_ARROW","=>",197],["T_WHITESPACE"," ",197],["T_STRING","true",197],")",")",";",["T_WHITESPACE","\n    ",197],"}",["T_WHITESPACE","\n\n    ",198],["T_DOC_COMMENT","\/**\n     * Delete tag action\n     *\n     * @return void\n     *\/",200],["T_WHITESPACE","\n    ",204],["T_PUBLIC","public",205],["T_WHITESPACE"," ",205],["T_FUNCTION","function",205],["T_WHITESPACE"," ",205],["T_STRING","deleteAction",205],"(",")",["T_WHITESPACE","\n    ",205],"{",["T_WHITESPACE","\n        ",206],["T_VARIABLE","$model",207],["T_WHITESPACE","   ",207],"=",["T_WHITESPACE"," ",207],["T_VARIABLE","$this",207],["T_OBJECT_OPERATOR","->",207],["T_STRING","_initTag",207],"(",")",";",["T_WHITESPACE","\n        ",207],["T_VARIABLE","$session",208],["T_WHITESPACE"," ",208],"=",["T_WHITESPACE"," ",208],["T_STRING","Mage",208],["T_DOUBLE_COLON","::",208],["T_STRING","getSingleton",208],"(",["T_CONSTANT_ENCAPSED_STRING","'adminhtml\/session'",208],")",";",["T_WHITESPACE","\n\n        ",208],["T_IF","if",210],["T_WHITESPACE"," ",210],"(",["T_VARIABLE","$model",210],["T_WHITESPACE"," ",210],["T_BOOLEAN_AND","&&",210],["T_WHITESPACE"," ",210],["T_VARIABLE","$model",210],["T_OBJECT_OPERATOR","->",210],["T_STRING","getId",210],"(",")",")",["T_WHITESPACE"," ",210],"{",["T_WHITESPACE","\n            ",210],["T_TRY","try",211],["T_WHITESPACE"," ",211],"{",["T_WHITESPACE","\n                ",211],["T_VARIABLE","$model",212],["T_OBJECT_OPERATOR","->",212],["T_STRING","delete",212],"(",")",";",["T_WHITESPACE","\n                ",212],["T_VARIABLE","$session",213],["T_OBJECT_OPERATOR","->",213],["T_STRING","addSuccess",213],"(",["T_STRING","Mage",213],["T_DOUBLE_COLON","::",213],["T_STRING","helper",213],"(",["T_CONSTANT_ENCAPSED_STRING","'adminhtml'",213],")",["T_OBJECT_OPERATOR","->",213],["T_STRING","__",213],"(",["T_CONSTANT_ENCAPSED_STRING","'The tag has been deleted.'",213],")",")",";",["T_WHITESPACE","\n            ",213],"}",["T_WHITESPACE"," ",214],["T_CATCH","catch",214],["T_WHITESPACE"," ",214],"(",["T_STRING","Exception",214],["T_WHITESPACE"," ",214],["T_VARIABLE","$e",214],")",["T_WHITESPACE"," ",214],"{",["T_WHITESPACE","\n                ",214],["T_VARIABLE","$session",215],["T_OBJECT_OPERATOR","->",215],["T_STRING","addError",215],"(",["T_VARIABLE","$e",215],["T_OBJECT_OPERATOR","->",215],["T_STRING","getMessage",215],"(",")",")",";",["T_WHITESPACE","\n            ",215],"}",["T_WHITESPACE","\n        ",216],"}",["T_WHITESPACE"," ",217],["T_ELSE","else",217],["T_WHITESPACE"," ",217],"{",["T_WHITESPACE","\n            ",217],["T_VARIABLE","$session",218],["T_OBJECT_OPERATOR","->",218],["T_STRING","addError",218],"(",["T_STRING","Mage",218],["T_DOUBLE_COLON","::",218],["T_STRING","helper",218],"(",["T_CONSTANT_ENCAPSED_STRING","'adminhtml'",218],")",["T_OBJECT_OPERATOR","->",218],["T_STRING","__",218],"(",["T_CONSTANT_ENCAPSED_STRING","'Unable to find a tag to delete.'",218],")",")",";",["T_WHITESPACE","\n        ",218],"}",["T_WHITESPACE","\n\n        ",219],["T_VARIABLE","$this",221],["T_OBJECT_OPERATOR","->",221],["T_STRING","getResponse",221],"(",")",["T_OBJECT_OPERATOR","->",221],["T_STRING","setRedirect",221],"(",["T_VARIABLE","$this",221],["T_OBJECT_OPERATOR","->",221],["T_STRING","getUrl",221],"(",["T_CONSTANT_ENCAPSED_STRING","'*\/tag\/'",221],["T_WHITESPACE"," ",221],".",["T_WHITESPACE"," ",221],["T_VARIABLE","$this",221],["T_OBJECT_OPERATOR","->",221],["T_STRING","getRequest",221],"(",")",["T_OBJECT_OPERATOR","->",221],["T_STRING","getParam",221],"(",["T_CONSTANT_ENCAPSED_STRING","'ret'",221],",",["T_WHITESPACE"," ",221],["T_CONSTANT_ENCAPSED_STRING","'index'",221],")",")",")",";",["T_WHITESPACE","\n    ",221],"}",["T_WHITESPACE","\n\n    ",222],["T_DOC_COMMENT","\/**\n     * Pending tags\n     *\n     *\/",224],["T_WHITESPACE","\n    ",227],["T_PUBLIC","public",228],["T_WHITESPACE"," ",228],["T_FUNCTION","function",228],["T_WHITESPACE"," ",228],["T_STRING","pendingAction",228],"(",")",["T_WHITESPACE","\n    ",228],"{",["T_WHITESPACE","\n        ",229],["T_VARIABLE","$this",230],["T_OBJECT_OPERATOR","->",230],["T_STRING","_title",230],"(",["T_VARIABLE","$this",230],["T_OBJECT_OPERATOR","->",230],["T_STRING","__",230],"(",["T_CONSTANT_ENCAPSED_STRING","'Catalog'",230],")",")",["T_WHITESPACE","\n             ",230],["T_OBJECT_OPERATOR","->",231],["T_STRING","_title",231],"(",["T_VARIABLE","$this",231],["T_OBJECT_OPERATOR","->",231],["T_STRING","__",231],"(",["T_CONSTANT_ENCAPSED_STRING","'Tags'",231],")",")",["T_WHITESPACE","\n             ",231],["T_OBJECT_OPERATOR","->",232],["T_STRING","_title",232],"(",["T_VARIABLE","$this",232],["T_OBJECT_OPERATOR","->",232],["T_STRING","__",232],"(",["T_CONSTANT_ENCAPSED_STRING","'Pending Tags'",232],")",")",";",["T_WHITESPACE","\n\n        ",232],["T_VARIABLE","$this",234],["T_OBJECT_OPERATOR","->",234],["T_STRING","_initAction",234],"(",")",["T_WHITESPACE","\n            ",234],["T_OBJECT_OPERATOR","->",235],["T_STRING","_addBreadcrumb",235],"(",["T_STRING","Mage",235],["T_DOUBLE_COLON","::",235],["T_STRING","helper",235],"(",["T_CONSTANT_ENCAPSED_STRING","'adminhtml'",235],")",["T_OBJECT_OPERATOR","->",235],["T_STRING","__",235],"(",["T_CONSTANT_ENCAPSED_STRING","'Pending Tags'",235],")",",",["T_WHITESPACE"," ",235],["T_STRING","Mage",235],["T_DOUBLE_COLON","::",235],["T_STRING","helper",235],"(",["T_CONSTANT_ENCAPSED_STRING","'adminhtml'",235],")",["T_OBJECT_OPERATOR","->",235],["T_STRING","__",235],"(",["T_CONSTANT_ENCAPSED_STRING","'Pending Tags'",235],")",")",["T_WHITESPACE","\n            ",235],["T_OBJECT_OPERATOR","->",236],["T_STRING","_setActiveMenu",236],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog\/tag\/pending'",236],")",["T_WHITESPACE","\n            ",236],["T_OBJECT_OPERATOR","->",237],["T_STRING","renderLayout",237],"(",")",";",["T_WHITESPACE","\n    ",237],"}",["T_WHITESPACE","\n\n    ",238],["T_DOC_COMMENT","\/**\n     * Assigned products (with serializer block)\n     *\n     *\/",240],["T_WHITESPACE","\n    ",243],["T_PUBLIC","public",244],["T_WHITESPACE"," ",244],["T_FUNCTION","function",244],["T_WHITESPACE"," ",244],["T_STRING","assignedAction",244],"(",")",["T_WHITESPACE","\n    ",244],"{",["T_WHITESPACE","\n        ",245],["T_VARIABLE","$this",246],["T_OBJECT_OPERATOR","->",246],["T_STRING","_title",246],"(",["T_VARIABLE","$this",246],["T_OBJECT_OPERATOR","->",246],["T_STRING","__",246],"(",["T_CONSTANT_ENCAPSED_STRING","'Tags'",246],")",")",["T_OBJECT_OPERATOR","->",246],["T_STRING","_title",246],"(",["T_VARIABLE","$this",246],["T_OBJECT_OPERATOR","->",246],["T_STRING","__",246],"(",["T_CONSTANT_ENCAPSED_STRING","'Assigned'",246],")",")",";",["T_WHITESPACE","\n\n        ",246],["T_VARIABLE","$this",248],["T_OBJECT_OPERATOR","->",248],["T_STRING","_initTag",248],"(",")",";",["T_WHITESPACE","\n        ",248],["T_VARIABLE","$this",249],["T_OBJECT_OPERATOR","->",249],["T_STRING","loadLayout",249],"(",")",";",["T_WHITESPACE","\n        ",249],["T_VARIABLE","$this",250],["T_OBJECT_OPERATOR","->",250],["T_STRING","renderLayout",250],"(",")",";",["T_WHITESPACE","\n    ",250],"}",["T_WHITESPACE","\n\n    ",251],["T_DOC_COMMENT","\/**\n     * Assigned products grid\n     *\n     *\/",253],["T_WHITESPACE","\n    ",256],["T_PUBLIC","public",257],["T_WHITESPACE"," ",257],["T_FUNCTION","function",257],["T_WHITESPACE"," ",257],["T_STRING","assignedGridOnlyAction",257],"(",")",["T_WHITESPACE","\n    ",257],"{",["T_WHITESPACE","\n        ",258],["T_VARIABLE","$this",259],["T_OBJECT_OPERATOR","->",259],["T_STRING","_initTag",259],"(",")",";",["T_WHITESPACE","\n        ",259],["T_VARIABLE","$this",260],["T_OBJECT_OPERATOR","->",260],["T_STRING","loadLayout",260],"(",")",";",["T_WHITESPACE","\n        ",260],["T_VARIABLE","$this",261],["T_OBJECT_OPERATOR","->",261],["T_STRING","renderLayout",261],"(",")",";",["T_WHITESPACE","\n    ",261],"}",["T_WHITESPACE","\n\n    ",262],["T_DOC_COMMENT","\/**\n     * Tagged products\n     *\n     *\/",264],["T_WHITESPACE","\n    ",267],["T_PUBLIC","public",268],["T_WHITESPACE"," ",268],["T_FUNCTION","function",268],["T_WHITESPACE"," ",268],["T_STRING","productAction",268],"(",")",["T_WHITESPACE","\n    ",268],"{",["T_WHITESPACE","\n        ",269],["T_VARIABLE","$this",270],["T_OBJECT_OPERATOR","->",270],["T_STRING","_initTag",270],"(",")",";",["T_WHITESPACE","\n        ",270],["T_VARIABLE","$this",271],["T_OBJECT_OPERATOR","->",271],["T_STRING","loadLayout",271],"(",")",";",["T_WHITESPACE","\n        ",271],["T_VARIABLE","$this",272],["T_OBJECT_OPERATOR","->",272],["T_STRING","renderLayout",272],"(",")",";",["T_WHITESPACE","\n    ",272],"}",["T_WHITESPACE","\n\n    ",273],["T_DOC_COMMENT","\/**\n     * Customers\n     *\n     *\/",275],["T_WHITESPACE","\n    ",278],["T_PUBLIC","public",279],["T_WHITESPACE"," ",279],["T_FUNCTION","function",279],["T_WHITESPACE"," ",279],["T_STRING","customerAction",279],"(",")",["T_WHITESPACE","\n    ",279],"{",["T_WHITESPACE","\n        ",280],["T_VARIABLE","$this",281],["T_OBJECT_OPERATOR","->",281],["T_STRING","_initTag",281],"(",")",";",["T_WHITESPACE","\n        ",281],["T_VARIABLE","$this",282],["T_OBJECT_OPERATOR","->",282],["T_STRING","loadLayout",282],"(",")",";",["T_WHITESPACE","\n        ",282],["T_VARIABLE","$this",283],["T_OBJECT_OPERATOR","->",283],["T_STRING","renderLayout",283],"(",")",";",["T_WHITESPACE","\n    ",283],"}",["T_WHITESPACE","\n\n    ",284],["T_DOC_COMMENT","\/**\n     * Massaction for removing tags\n     *\n     *\/",286],["T_WHITESPACE","\n    ",289],["T_PUBLIC","public",290],["T_WHITESPACE"," ",290],["T_FUNCTION","function",290],["T_WHITESPACE"," ",290],["T_STRING","massDeleteAction",290],"(",")",["T_WHITESPACE","\n    ",290],"{",["T_WHITESPACE","\n        ",291],["T_VARIABLE","$tagIds",292],["T_WHITESPACE"," ",292],"=",["T_WHITESPACE"," ",292],["T_VARIABLE","$this",292],["T_OBJECT_OPERATOR","->",292],["T_STRING","getRequest",292],"(",")",["T_OBJECT_OPERATOR","->",292],["T_STRING","getParam",292],"(",["T_CONSTANT_ENCAPSED_STRING","'tag'",292],")",";",["T_WHITESPACE","\n        ",292],["T_IF","if",293],"(","!",["T_STRING","is_array",293],"(",["T_VARIABLE","$tagIds",293],")",")",["T_WHITESPACE"," ",293],"{",["T_WHITESPACE","\n             ",293],["T_STRING","Mage",294],["T_DOUBLE_COLON","::",294],["T_STRING","getSingleton",294],"(",["T_CONSTANT_ENCAPSED_STRING","'adminhtml\/session'",294],")",["T_OBJECT_OPERATOR","->",294],["T_STRING","addError",294],"(",["T_VARIABLE","$this",294],["T_OBJECT_OPERATOR","->",294],["T_STRING","__",294],"(",["T_CONSTANT_ENCAPSED_STRING","'Please select tag(s).'",294],")",")",";",["T_WHITESPACE","\n        ",294],"}",["T_WHITESPACE"," ",295],["T_ELSE","else",295],["T_WHITESPACE"," ",295],"{",["T_WHITESPACE","\n            ",295],["T_TRY","try",296],["T_WHITESPACE"," ",296],"{",["T_WHITESPACE","\n                ",296],["T_FOREACH","foreach",297],["T_WHITESPACE"," ",297],"(",["T_VARIABLE","$tagIds",297],["T_WHITESPACE"," ",297],["T_AS","as",297],["T_WHITESPACE"," ",297],["T_VARIABLE","$tagId",297],")",["T_WHITESPACE"," ",297],"{",["T_WHITESPACE","\n                    ",297],["T_VARIABLE","$tag",298],["T_WHITESPACE"," ",298],"=",["T_WHITESPACE"," ",298],["T_STRING","Mage",298],["T_DOUBLE_COLON","::",298],["T_STRING","getModel",298],"(",["T_CONSTANT_ENCAPSED_STRING","'tag\/tag'",298],")",["T_OBJECT_OPERATOR","->",298],["T_STRING","load",298],"(",["T_VARIABLE","$tagId",298],")",";",["T_WHITESPACE","\n                    ",298],["T_VARIABLE","$tag",299],["T_OBJECT_OPERATOR","->",299],["T_STRING","delete",299],"(",")",";",["T_WHITESPACE","\n                ",299],"}",["T_WHITESPACE","\n                ",300],["T_STRING","Mage",301],["T_DOUBLE_COLON","::",301],["T_STRING","getSingleton",301],"(",["T_CONSTANT_ENCAPSED_STRING","'adminhtml\/session'",301],")",["T_OBJECT_OPERATOR","->",301],["T_STRING","addSuccess",301],"(",["T_WHITESPACE","\n                    ",301],["T_VARIABLE","$this",302],["T_OBJECT_OPERATOR","->",302],["T_STRING","__",302],"(",["T_CONSTANT_ENCAPSED_STRING","'Total of %d record(s) have been deleted.'",302],",",["T_WHITESPACE"," ",302],["T_STRING","count",302],"(",["T_VARIABLE","$tagIds",302],")",")",["T_WHITESPACE","\n                ",302],")",";",["T_WHITESPACE","\n            ",303],"}",["T_WHITESPACE"," ",304],["T_CATCH","catch",304],["T_WHITESPACE"," ",304],"(",["T_STRING","Exception",304],["T_WHITESPACE"," ",304],["T_VARIABLE","$e",304],")",["T_WHITESPACE"," ",304],"{",["T_WHITESPACE","\n                ",304],["T_STRING","Mage",305],["T_DOUBLE_COLON","::",305],["T_STRING","getSingleton",305],"(",["T_CONSTANT_ENCAPSED_STRING","'adminhtml\/session'",305],")",["T_OBJECT_OPERATOR","->",305],["T_STRING","addError",305],"(",["T_VARIABLE","$e",305],["T_OBJECT_OPERATOR","->",305],["T_STRING","getMessage",305],"(",")",")",";",["T_WHITESPACE","\n            ",305],"}",["T_WHITESPACE","\n        ",306],"}",["T_WHITESPACE","\n\n        ",307],["T_VARIABLE","$this",309],["T_OBJECT_OPERATOR","->",309],["T_STRING","_redirect",309],"(",["T_CONSTANT_ENCAPSED_STRING","'*\/*\/'",309],["T_WHITESPACE"," ",309],".",["T_WHITESPACE"," ",309],["T_VARIABLE","$this",309],["T_OBJECT_OPERATOR","->",309],["T_STRING","getRequest",309],"(",")",["T_OBJECT_OPERATOR","->",309],["T_STRING","getParam",309],"(",["T_CONSTANT_ENCAPSED_STRING","'ret'",309],",",["T_WHITESPACE"," ",309],["T_CONSTANT_ENCAPSED_STRING","'index'",309],")",")",";",["T_WHITESPACE","\n    ",309],"}",["T_WHITESPACE","\n\n    ",310],["T_DOC_COMMENT","\/**\n     * Massaction for changing status of selected tags\n     *\n     *\/",312],["T_WHITESPACE","\n    ",315],["T_PUBLIC","public",316],["T_WHITESPACE"," ",316],["T_FUNCTION","function",316],["T_WHITESPACE"," ",316],["T_STRING","massStatusAction",316],"(",")",["T_WHITESPACE","\n    ",316],"{",["T_WHITESPACE","\n        ",317],["T_VARIABLE","$tagIds",318],["T_WHITESPACE"," ",318],"=",["T_WHITESPACE"," ",318],["T_VARIABLE","$this",318],["T_OBJECT_OPERATOR","->",318],["T_STRING","getRequest",318],"(",")",["T_OBJECT_OPERATOR","->",318],["T_STRING","getParam",318],"(",["T_CONSTANT_ENCAPSED_STRING","'tag'",318],")",";",["T_WHITESPACE","\n        ",318],["T_VARIABLE","$storeId",319],["T_WHITESPACE"," ",319],"=",["T_WHITESPACE"," ",319],["T_INT_CAST","(int)",319],["T_VARIABLE","$this",319],["T_OBJECT_OPERATOR","->",319],["T_STRING","getRequest",319],"(",")",["T_OBJECT_OPERATOR","->",319],["T_STRING","getParam",319],"(",["T_CONSTANT_ENCAPSED_STRING","'store'",319],",",["T_WHITESPACE"," ",319],["T_LNUMBER","0",319],")",";",["T_WHITESPACE","\n        ",319],["T_IF","if",320],"(","!",["T_STRING","is_array",320],"(",["T_VARIABLE","$tagIds",320],")",")",["T_WHITESPACE"," ",320],"{",["T_WHITESPACE","\n            ",320],["T_COMMENT","\/\/ No products selected\n",321],["T_WHITESPACE","            ",322],["T_STRING","Mage",322],["T_DOUBLE_COLON","::",322],["T_STRING","getSingleton",322],"(",["T_CONSTANT_ENCAPSED_STRING","'adminhtml\/session'",322],")",["T_OBJECT_OPERATOR","->",322],["T_STRING","addError",322],"(",["T_VARIABLE","$this",322],["T_OBJECT_OPERATOR","->",322],["T_STRING","__",322],"(",["T_CONSTANT_ENCAPSED_STRING","'Please select tag(s).'",322],")",")",";",["T_WHITESPACE","\n        ",322],"}",["T_WHITESPACE"," ",323],["T_ELSE","else",323],["T_WHITESPACE"," ",323],"{",["T_WHITESPACE","\n            ",323],["T_TRY","try",324],["T_WHITESPACE"," ",324],"{",["T_WHITESPACE","\n                ",324],["T_FOREACH","foreach",325],["T_WHITESPACE"," ",325],"(",["T_VARIABLE","$tagIds",325],["T_WHITESPACE"," ",325],["T_AS","as",325],["T_WHITESPACE"," ",325],["T_VARIABLE","$tagId",325],")",["T_WHITESPACE"," ",325],"{",["T_WHITESPACE","\n                    ",325],["T_VARIABLE","$tag",326],["T_WHITESPACE"," ",326],"=",["T_WHITESPACE"," ",326],["T_STRING","Mage",326],["T_DOUBLE_COLON","::",326],["T_STRING","getModel",326],"(",["T_CONSTANT_ENCAPSED_STRING","'tag\/tag'",326],")",["T_WHITESPACE","\n                        ",326],["T_OBJECT_OPERATOR","->",327],["T_STRING","load",327],"(",["T_VARIABLE","$tagId",327],")",["T_WHITESPACE","\n                        ",327],["T_OBJECT_OPERATOR","->",328],["T_STRING","setStatus",328],"(",["T_VARIABLE","$this",328],["T_OBJECT_OPERATOR","->",328],["T_STRING","getRequest",328],"(",")",["T_OBJECT_OPERATOR","->",328],["T_STRING","getParam",328],"(",["T_CONSTANT_ENCAPSED_STRING","'status'",328],")",")",";",["T_WHITESPACE","\n                     ",328],["T_VARIABLE","$tag",329],["T_OBJECT_OPERATOR","->",329],["T_STRING","save",329],"(",")",";",["T_WHITESPACE","\n                ",329],"}",["T_WHITESPACE","\n                ",330],["T_STRING","Mage",331],["T_DOUBLE_COLON","::",331],["T_STRING","getSingleton",331],"(",["T_CONSTANT_ENCAPSED_STRING","'adminhtml\/session'",331],")",["T_OBJECT_OPERATOR","->",331],["T_STRING","addSuccess",331],"(",["T_WHITESPACE","\n                    ",331],["T_VARIABLE","$this",332],["T_OBJECT_OPERATOR","->",332],["T_STRING","__",332],"(",["T_CONSTANT_ENCAPSED_STRING","'Total of %d record(s) have been updated.'",332],",",["T_WHITESPACE"," ",332],["T_STRING","count",332],"(",["T_VARIABLE","$tagIds",332],")",")",["T_WHITESPACE","\n                ",332],")",";",["T_WHITESPACE","\n            ",333],"}",["T_WHITESPACE"," ",334],["T_CATCH","catch",334],["T_WHITESPACE"," ",334],"(",["T_STRING","Exception",334],["T_WHITESPACE"," ",334],["T_VARIABLE","$e",334],")",["T_WHITESPACE"," ",334],"{",["T_WHITESPACE","\n                ",334],["T_STRING","Mage",335],["T_DOUBLE_COLON","::",335],["T_STRING","getSingleton",335],"(",["T_CONSTANT_ENCAPSED_STRING","'adminhtml\/session'",335],")",["T_OBJECT_OPERATOR","->",335],["T_STRING","addError",335],"(",["T_VARIABLE","$e",335],["T_OBJECT_OPERATOR","->",335],["T_STRING","getMessage",335],"(",")",")",";",["T_WHITESPACE","\n            ",335],"}",["T_WHITESPACE","\n        ",336],"}",["T_WHITESPACE","\n        ",337],["T_VARIABLE","$ret",338],["T_WHITESPACE"," ",338],"=",["T_WHITESPACE"," ",338],["T_VARIABLE","$this",338],["T_OBJECT_OPERATOR","->",338],["T_STRING","getRequest",338],"(",")",["T_OBJECT_OPERATOR","->",338],["T_STRING","getParam",338],"(",["T_CONSTANT_ENCAPSED_STRING","'ret'",338],")",["T_WHITESPACE"," ",338],"?",["T_WHITESPACE"," ",338],["T_VARIABLE","$this",338],["T_OBJECT_OPERATOR","->",338],["T_STRING","getRequest",338],"(",")",["T_OBJECT_OPERATOR","->",338],["T_STRING","getParam",338],"(",["T_CONSTANT_ENCAPSED_STRING","'ret'",338],")",["T_WHITESPACE"," ",338],":",["T_WHITESPACE"," ",338],["T_CONSTANT_ENCAPSED_STRING","'index'",338],";",["T_WHITESPACE","\n        ",338],["T_VARIABLE","$this",339],["T_OBJECT_OPERATOR","->",339],["T_STRING","_redirect",339],"(",["T_CONSTANT_ENCAPSED_STRING","'*\/*\/'",339],".",["T_VARIABLE","$ret",339],")",";",["T_WHITESPACE","\n    ",339],"}",["T_WHITESPACE","\n\n    ",340],["T_DOC_COMMENT","\/**\n     * Check currently called action by permissions for current user\n     *\n     *\/",342],["T_WHITESPACE","\n    ",345],["T_PROTECTED","protected",346],["T_WHITESPACE"," ",346],["T_FUNCTION","function",346],["T_WHITESPACE"," ",346],["T_STRING","_isAllowed",346],"(",")",["T_WHITESPACE","\n    ",346],"{",["T_WHITESPACE","\n        ",347],["T_VARIABLE","$action",348],["T_WHITESPACE"," ",348],"=",["T_WHITESPACE"," ",348],["T_STRING","strtolower",348],"(",["T_VARIABLE","$this",348],["T_OBJECT_OPERATOR","->",348],["T_STRING","getRequest",348],"(",")",["T_OBJECT_OPERATOR","->",348],["T_STRING","getActionName",348],"(",")",")",";",["T_WHITESPACE","\n        ",348],["T_SWITCH","switch",349],["T_WHITESPACE"," ",349],"(",["T_VARIABLE","$action",349],")",["T_WHITESPACE"," ",349],"{",["T_WHITESPACE","\n            ",349],["T_CASE","case",350],["T_WHITESPACE"," ",350],["T_CONSTANT_ENCAPSED_STRING","'pending'",350],":",["T_WHITESPACE","\n                ",350],["T_RETURN","return",351],["T_WHITESPACE"," ",351],["T_STRING","Mage",351],["T_DOUBLE_COLON","::",351],["T_STRING","getSingleton",351],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/session'",351],")",["T_OBJECT_OPERATOR","->",351],["T_STRING","isAllowed",351],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog\/tag\/pending'",351],")",";",["T_WHITESPACE","\n                ",351],["T_BREAK","break",352],";",["T_WHITESPACE","\n            ",352],["T_CASE","case",353],["T_WHITESPACE"," ",353],["T_CONSTANT_ENCAPSED_STRING","'all'",353],":",["T_WHITESPACE","\n                ",353],["T_RETURN","return",354],["T_WHITESPACE"," ",354],["T_STRING","Mage",354],["T_DOUBLE_COLON","::",354],["T_STRING","getSingleton",354],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/session'",354],")",["T_OBJECT_OPERATOR","->",354],["T_STRING","isAllowed",354],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog\/tag\/all'",354],")",";",["T_WHITESPACE","\n                ",354],["T_BREAK","break",355],";",["T_WHITESPACE","\n            ",355],["T_DEFAULT","default",356],":",["T_WHITESPACE","\n                ",356],["T_RETURN","return",357],["T_WHITESPACE"," ",357],["T_STRING","Mage",357],["T_DOUBLE_COLON","::",357],["T_STRING","getSingleton",357],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/session'",357],")",["T_OBJECT_OPERATOR","->",357],["T_STRING","isAllowed",357],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog\/tag'",357],")",";",["T_WHITESPACE","\n                ",357],["T_BREAK","break",358],";",["T_WHITESPACE","\n        ",358],"}",["T_WHITESPACE","\n    ",359],"}",["T_WHITESPACE","\n",360],"}",["T_WHITESPACE","\n",361]]