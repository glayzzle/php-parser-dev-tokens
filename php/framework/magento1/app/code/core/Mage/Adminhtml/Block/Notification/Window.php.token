[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Magento\n *\n * NOTICE OF LICENSE\n *\n * This source file is subject to the Open Software License (OSL 3.0)\n * that is bundled with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/opensource.org\/licenses\/osl-3.0.php\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@magento.com so we can send you a copy immediately.\n *\n * DISCLAIMER\n *\n * Do not edit or add to this file if you wish to upgrade Magento to newer\n * versions in the future. If you wish to customize Magento for your\n * needs please refer to http:\/\/www.magento.com for more information.\n *\n * @category    Mage\n * @package     Mage_Adminhtml\n * @copyright  Copyright (c) 2006-2016 X.commerce, Inc. and affiliates (http:\/\/www.magento.com)\n * @license    http:\/\/opensource.org\/licenses\/osl-3.0.php  Open Software License (OSL 3.0)\n *\/",2],["T_WHITESPACE","\n\n",25],["T_CLASS","class",27],["T_WHITESPACE"," ",27],["T_STRING","Mage_Adminhtml_Block_Notification_Window",27],["T_WHITESPACE"," ",27],["T_EXTENDS","extends",27],["T_WHITESPACE"," ",27],["T_STRING","Mage_Adminhtml_Block_Notification_Toolbar",27],["T_WHITESPACE","\n",27],"{",["T_WHITESPACE","\n    ",28],["T_DOC_COMMENT","\/**\n     * XML path of Severity icons url\n     *\/",29],["T_WHITESPACE","\n    ",31],["T_CONST","const",32],["T_WHITESPACE"," ",32],["T_STRING","XML_SEVERITY_ICONS_URL_PATH",32],["T_WHITESPACE","  ",32],"=",["T_WHITESPACE"," ",32],["T_CONSTANT_ENCAPSED_STRING","'system\/adminnotification\/severity_icons_url'",32],";",["T_WHITESPACE","\n\n    ",32],["T_DOC_COMMENT","\/**\n     * Severity icons url\n     *\n     * @var string\n     *\/",34],["T_WHITESPACE","\n    ",38],["T_PROTECTED","protected",39],["T_WHITESPACE"," ",39],["T_VARIABLE","$_severityIconsUrl",39],";",["T_WHITESPACE","\n\n    ",39],["T_DOC_COMMENT","\/**\n     * Is available flag\n     *\n     * @var bool\n     *\/",41],["T_WHITESPACE","\n    ",45],["T_PROTECTED","protected",46],["T_WHITESPACE"," ",46],["T_VARIABLE","$_available",46],["T_WHITESPACE"," ",46],"=",["T_WHITESPACE"," ",46],["T_STRING","null",46],";",["T_WHITESPACE","\n\n    ",46],["T_DOC_COMMENT","\/**\n     * Initialize block window\n     *\n     *\/",48],["T_WHITESPACE","\n    ",51],["T_PROTECTED","protected",52],["T_WHITESPACE"," ",52],["T_FUNCTION","function",52],["T_WHITESPACE"," ",52],["T_STRING","_construct",52],"(",")",["T_WHITESPACE","\n    ",52],"{",["T_WHITESPACE","\n        ",53],["T_STRING","parent",54],["T_DOUBLE_COLON","::",54],["T_STRING","_construct",54],"(",")",";",["T_WHITESPACE","\n\n        ",54],["T_VARIABLE","$this",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","setHeaderText",56],"(",["T_VARIABLE","$this",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","escapeHtml",56],"(",["T_VARIABLE","$this",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","__",56],"(",["T_CONSTANT_ENCAPSED_STRING","'Incoming Message'",56],")",")",")",";",["T_WHITESPACE","\n        ",56],["T_VARIABLE","$this",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","setCloseText",57],"(",["T_VARIABLE","$this",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","escapeHtml",57],"(",["T_VARIABLE","$this",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","__",57],"(",["T_CONSTANT_ENCAPSED_STRING","'close'",57],")",")",")",";",["T_WHITESPACE","\n        ",57],["T_VARIABLE","$this",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","setReadDetailsText",58],"(",["T_VARIABLE","$this",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","escapeHtml",58],"(",["T_VARIABLE","$this",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","__",58],"(",["T_CONSTANT_ENCAPSED_STRING","'Read details'",58],")",")",")",";",["T_WHITESPACE","\n        ",58],["T_VARIABLE","$this",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","setNoticeText",59],"(",["T_VARIABLE","$this",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","escapeHtml",59],"(",["T_VARIABLE","$this",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","__",59],"(",["T_CONSTANT_ENCAPSED_STRING","'NOTICE'",59],")",")",")",";",["T_WHITESPACE","\n        ",59],["T_VARIABLE","$this",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","setMinorText",60],"(",["T_VARIABLE","$this",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","escapeHtml",60],"(",["T_VARIABLE","$this",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","__",60],"(",["T_CONSTANT_ENCAPSED_STRING","'MINOR'",60],")",")",")",";",["T_WHITESPACE","\n        ",60],["T_VARIABLE","$this",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","setMajorText",61],"(",["T_VARIABLE","$this",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","escapeHtml",61],"(",["T_VARIABLE","$this",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","__",61],"(",["T_CONSTANT_ENCAPSED_STRING","'MAJOR'",61],")",")",")",";",["T_WHITESPACE","\n        ",61],["T_VARIABLE","$this",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","setCriticalText",62],"(",["T_VARIABLE","$this",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","escapeHtml",62],"(",["T_VARIABLE","$this",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","__",62],"(",["T_CONSTANT_ENCAPSED_STRING","'CRITICAL'",62],")",")",")",";",["T_WHITESPACE","\n\n\n        ",62],["T_VARIABLE","$this",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","setNoticeMessageText",65],"(",["T_VARIABLE","$this",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","escapeHtml",65],"(",["T_VARIABLE","$this",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","getLastNotice",65],"(",")",["T_OBJECT_OPERATOR","->",65],["T_STRING","getTitle",65],"(",")",")",")",";",["T_WHITESPACE","\n        ",65],["T_VARIABLE","$this",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","setNoticeMessageUrl",66],"(",["T_VARIABLE","$this",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","escapeUrl",66],"(",["T_VARIABLE","$this",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","getLastNotice",66],"(",")",["T_OBJECT_OPERATOR","->",66],["T_STRING","getUrl",66],"(",")",")",")",";",["T_WHITESPACE","\n\n        ",66],["T_SWITCH","switch",68],["T_WHITESPACE"," ",68],"(",["T_VARIABLE","$this",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","getLastNotice",68],"(",")",["T_OBJECT_OPERATOR","->",68],["T_STRING","getSeverity",68],"(",")",")",["T_WHITESPACE"," ",68],"{",["T_WHITESPACE","\n            ",68],["T_DEFAULT","default",69],":",["T_WHITESPACE","\n            ",69],["T_CASE","case",70],["T_WHITESPACE"," ",70],["T_STRING","Mage_AdminNotification_Model_Inbox",70],["T_DOUBLE_COLON","::",70],["T_STRING","SEVERITY_NOTICE",70],":",["T_WHITESPACE","\n                ",70],["T_VARIABLE","$severity",71],["T_WHITESPACE"," ",71],"=",["T_WHITESPACE"," ",71],["T_CONSTANT_ENCAPSED_STRING","'SEVERITY_NOTICE'",71],";",["T_WHITESPACE","\n                ",71],["T_BREAK","break",72],";",["T_WHITESPACE","\n            ",72],["T_CASE","case",73],["T_WHITESPACE"," ",73],["T_STRING","Mage_AdminNotification_Model_Inbox",73],["T_DOUBLE_COLON","::",73],["T_STRING","SEVERITY_MINOR",73],":",["T_WHITESPACE","\n                ",73],["T_VARIABLE","$severity",74],["T_WHITESPACE"," ",74],"=",["T_WHITESPACE"," ",74],["T_CONSTANT_ENCAPSED_STRING","'SEVERITY_MINOR'",74],";",["T_WHITESPACE","\n                ",74],["T_BREAK","break",75],";",["T_WHITESPACE","\n            ",75],["T_CASE","case",76],["T_WHITESPACE"," ",76],["T_STRING","Mage_AdminNotification_Model_Inbox",76],["T_DOUBLE_COLON","::",76],["T_STRING","SEVERITY_MAJOR",76],":",["T_WHITESPACE","\n                ",76],["T_VARIABLE","$severity",77],["T_WHITESPACE"," ",77],"=",["T_WHITESPACE"," ",77],["T_CONSTANT_ENCAPSED_STRING","'SEVERITY_MAJOR'",77],";",["T_WHITESPACE","\n                ",77],["T_BREAK","break",78],";",["T_WHITESPACE","\n            ",78],["T_CASE","case",79],["T_WHITESPACE"," ",79],["T_STRING","Mage_AdminNotification_Model_Inbox",79],["T_DOUBLE_COLON","::",79],["T_STRING","SEVERITY_CRITICAL",79],":",["T_WHITESPACE","\n                ",79],["T_VARIABLE","$severity",80],["T_WHITESPACE"," ",80],"=",["T_WHITESPACE"," ",80],["T_CONSTANT_ENCAPSED_STRING","'SEVERITY_CRITICAL'",80],";",["T_WHITESPACE","\n                ",80],["T_BREAK","break",81],";",["T_WHITESPACE","\n        ",81],"}",["T_WHITESPACE","\n\n        ",82],["T_VARIABLE","$this",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","setNoticeSeverity",84],"(",["T_VARIABLE","$severity",84],")",";",["T_WHITESPACE","\n    ",84],"}",["T_WHITESPACE","\n\n    ",85],["T_DOC_COMMENT","\/**\n     * Can we show notification window\n     *\n     * @return bool\n     *\/",87],["T_WHITESPACE","\n    ",91],["T_PUBLIC","public",92],["T_WHITESPACE"," ",92],["T_FUNCTION","function",92],["T_WHITESPACE"," ",92],["T_STRING","canShow",92],"(",")",["T_WHITESPACE","\n    ",92],"{",["T_WHITESPACE","\n        ",93],["T_IF","if",94],["T_WHITESPACE"," ",94],"(","!",["T_STRING","is_null",94],"(",["T_VARIABLE","$this",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","_available",94],")",")",["T_WHITESPACE"," ",94],"{",["T_WHITESPACE","\n            ",94],["T_RETURN","return",95],["T_WHITESPACE"," ",95],["T_VARIABLE","$this",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","_available",95],";",["T_WHITESPACE","\n        ",95],"}",["T_WHITESPACE","\n\n        ",96],["T_IF","if",98],["T_WHITESPACE"," ",98],"(","!",["T_STRING","Mage",98],["T_DOUBLE_COLON","::",98],["T_STRING","getSingleton",98],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/session'",98],")",["T_OBJECT_OPERATOR","->",98],["T_STRING","isFirstPageAfterLogin",98],"(",")",")",["T_WHITESPACE"," ",98],"{",["T_WHITESPACE","\n            ",98],["T_VARIABLE","$this",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","_available",99],["T_WHITESPACE"," ",99],"=",["T_WHITESPACE"," ",99],["T_STRING","false",99],";",["T_WHITESPACE","\n            ",99],["T_RETURN","return",100],["T_WHITESPACE"," ",100],["T_STRING","false",100],";",["T_WHITESPACE","\n        ",100],"}",["T_WHITESPACE","\n\n        ",101],["T_IF","if",103],["T_WHITESPACE"," ",103],"(","!",["T_VARIABLE","$this",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","isOutputEnabled",103],"(",["T_CONSTANT_ENCAPSED_STRING","'Mage_AdminNotification'",103],")",")",["T_WHITESPACE"," ",103],"{",["T_WHITESPACE","\n            ",103],["T_VARIABLE","$this",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","_available",104],["T_WHITESPACE"," ",104],"=",["T_WHITESPACE"," ",104],["T_STRING","false",104],";",["T_WHITESPACE","\n            ",104],["T_RETURN","return",105],["T_WHITESPACE"," ",105],["T_STRING","false",105],";",["T_WHITESPACE","\n        ",105],"}",["T_WHITESPACE","\n\n        ",106],["T_IF","if",108],["T_WHITESPACE"," ",108],"(","!",["T_VARIABLE","$this",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","_isAllowed",108],"(",")",")",["T_WHITESPACE"," ",108],"{",["T_WHITESPACE","\n            ",108],["T_VARIABLE","$this",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","_available",109],["T_WHITESPACE"," ",109],"=",["T_WHITESPACE"," ",109],["T_STRING","false",109],";",["T_WHITESPACE","\n            ",109],["T_RETURN","return",110],["T_WHITESPACE"," ",110],["T_STRING","false",110],";",["T_WHITESPACE","\n        ",110],"}",["T_WHITESPACE","\n\n        ",111],["T_IF","if",113],["T_WHITESPACE"," ",113],"(",["T_STRING","is_null",113],"(",["T_VARIABLE","$this",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","_available",113],")",")",["T_WHITESPACE"," ",113],"{",["T_WHITESPACE","\n            ",113],["T_VARIABLE","$this",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","_available",114],["T_WHITESPACE"," ",114],"=",["T_WHITESPACE"," ",114],["T_VARIABLE","$this",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","isShow",114],"(",")",";",["T_WHITESPACE","\n        ",114],"}",["T_WHITESPACE","\n        ",115],["T_RETURN","return",116],["T_WHITESPACE"," ",116],["T_VARIABLE","$this",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","_available",116],";",["T_WHITESPACE","\n    ",116],"}",["T_WHITESPACE","\n\n\n    ",117],["T_DOC_COMMENT","\/**\n     * Return swf object url\n     *\n     * @return string\n     *\/",120],["T_WHITESPACE","\n    ",124],["T_PUBLIC","public",125],["T_WHITESPACE"," ",125],["T_FUNCTION","function",125],["T_WHITESPACE"," ",125],["T_STRING","getObjectUrl",125],"(",")",["T_WHITESPACE","\n    ",125],"{",["T_WHITESPACE","\n        ",126],["T_RETURN","return",127],["T_WHITESPACE"," ",127],["T_VARIABLE","$this",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","_getHelper",127],"(",")",["T_OBJECT_OPERATOR","->",127],["T_STRING","getPopupObjectUrl",127],"(",")",";",["T_WHITESPACE","\n    ",127],"}",["T_WHITESPACE","\n\n    ",128],["T_DOC_COMMENT","\/**\n     * Retrieve Last Notice object\n     *\n     * @return Mage_AdminNotification_Model_Inbox\n     *\/",130],["T_WHITESPACE","\n    ",134],["T_PUBLIC","public",135],["T_WHITESPACE"," ",135],["T_FUNCTION","function",135],["T_WHITESPACE"," ",135],["T_STRING","getLastNotice",135],"(",")",["T_WHITESPACE","\n    ",135],"{",["T_WHITESPACE","\n        ",136],["T_RETURN","return",137],["T_WHITESPACE"," ",137],["T_VARIABLE","$this",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","_getHelper",137],"(",")",["T_OBJECT_OPERATOR","->",137],["T_STRING","getLatestNotice",137],"(",")",";",["T_WHITESPACE","\n    ",137],"}",["T_WHITESPACE","\n\n    ",138],["T_DOC_COMMENT","\/**\n     * Retrieve severity icons url\n     *\n     * @return string\n     *\/",140],["T_WHITESPACE","\n    ",144],["T_PUBLIC","public",145],["T_WHITESPACE"," ",145],["T_FUNCTION","function",145],["T_WHITESPACE"," ",145],["T_STRING","getSeverityIconsUrl",145],"(",")",["T_WHITESPACE","\n    ",145],"{",["T_WHITESPACE","\n        ",146],["T_IF","if",147],["T_WHITESPACE"," ",147],"(",["T_STRING","is_null",147],"(",["T_VARIABLE","$this",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","_severityIconsUrl",147],")",")",["T_WHITESPACE"," ",147],"{",["T_WHITESPACE","\n            ",147],["T_VARIABLE","$this",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","_severityIconsUrl",148],["T_WHITESPACE"," ",148],"=",["T_WHITESPACE","\n                ",148],"(",["T_STRING","Mage",149],["T_DOUBLE_COLON","::",149],["T_STRING","app",149],"(",")",["T_OBJECT_OPERATOR","->",149],["T_STRING","getFrontController",149],"(",")",["T_OBJECT_OPERATOR","->",149],["T_STRING","getRequest",149],"(",")",["T_OBJECT_OPERATOR","->",149],["T_STRING","isSecure",149],"(",")",["T_WHITESPACE"," ",149],"?",["T_WHITESPACE"," ",149],["T_CONSTANT_ENCAPSED_STRING","'https:\/\/'",149],["T_WHITESPACE"," ",149],":",["T_WHITESPACE"," ",149],["T_CONSTANT_ENCAPSED_STRING","'http:\/\/'",149],")",["T_WHITESPACE","\n                ",149],".",["T_WHITESPACE"," ",150],["T_STRING","sprintf",150],"(",["T_STRING","Mage",150],["T_DOUBLE_COLON","::",150],["T_STRING","getStoreConfig",150],"(",["T_STRING","self",150],["T_DOUBLE_COLON","::",150],["T_STRING","XML_SEVERITY_ICONS_URL_PATH",150],")",",",["T_WHITESPACE"," ",150],["T_STRING","Mage",150],["T_DOUBLE_COLON","::",150],["T_STRING","getVersion",150],"(",")",",",["T_WHITESPACE","\n                    ",150],["T_VARIABLE","$this",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","getNoticeSeverity",151],"(",")",")",["T_WHITESPACE","\n            ",151],";",["T_WHITESPACE","\n        ",152],"}",["T_WHITESPACE","\n        ",153],["T_RETURN","return",154],["T_WHITESPACE"," ",154],["T_VARIABLE","$this",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","_severityIconsUrl",154],";",["T_WHITESPACE","\n    ",154],"}",["T_WHITESPACE","\n\n    ",155],["T_DOC_COMMENT","\/**\n     * Retrieve severity text\n     *\n     * @return string\n     *\/",157],["T_WHITESPACE","\n    ",161],["T_PUBLIC","public",162],["T_WHITESPACE"," ",162],["T_FUNCTION","function",162],["T_WHITESPACE"," ",162],["T_STRING","getSeverityText",162],"(",")",["T_WHITESPACE","\n    ",162],"{",["T_WHITESPACE","\n        ",163],["T_RETURN","return",164],["T_WHITESPACE"," ",164],["T_STRING","strtolower",164],"(",["T_STRING","str_replace",164],"(",["T_CONSTANT_ENCAPSED_STRING","'SEVERITY_'",164],",",["T_WHITESPACE"," ",164],["T_CONSTANT_ENCAPSED_STRING","''",164],",",["T_WHITESPACE"," ",164],["T_VARIABLE","$this",164],["T_OBJECT_OPERATOR","->",164],["T_STRING","getNoticeSeverity",164],"(",")",")",")",";",["T_WHITESPACE","\n    ",164],"}",["T_WHITESPACE","\n\n    ",165],["T_DOC_COMMENT","\/**\n     * Check if current block allowed in ACL\n     *\n     * @param string $resourcePath\n     * @return bool\n     *\/",167],["T_WHITESPACE","\n    ",172],["T_PROTECTED","protected",173],["T_WHITESPACE"," ",173],["T_FUNCTION","function",173],["T_WHITESPACE"," ",173],["T_STRING","_isAllowed",173],"(",")",["T_WHITESPACE","\n    ",173],"{",["T_WHITESPACE","\n        ",174],["T_IF","if",175],["T_WHITESPACE"," ",175],"(","!",["T_STRING","is_null",175],"(",["T_VARIABLE","$this",175],["T_OBJECT_OPERATOR","->",175],["T_STRING","_aclResourcePath",175],")",")",["T_WHITESPACE"," ",175],"{",["T_WHITESPACE","\n            ",175],["T_RETURN","return",176],["T_WHITESPACE"," ",176],["T_STRING","Mage",176],["T_DOUBLE_COLON","::",176],["T_STRING","getSingleton",176],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/session'",176],")",["T_WHITESPACE","\n                ",176],["T_OBJECT_OPERATOR","->",177],["T_STRING","isAllowed",177],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/system\/adminnotification\/show_toolbar'",177],")",";",["T_WHITESPACE","\n        ",177],"}",["T_WHITESPACE","\n        ",178],["T_ELSE","else",179],["T_WHITESPACE"," ",179],"{",["T_WHITESPACE","\n            ",179],["T_RETURN","return",180],["T_WHITESPACE"," ",180],["T_STRING","true",180],";",["T_WHITESPACE","\n        ",180],"}",["T_WHITESPACE","\n    ",181],"}",["T_WHITESPACE","\n",182],"}",["T_WHITESPACE","\n",183]]