[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Magento\n *\n * NOTICE OF LICENSE\n *\n * This source file is subject to the Open Software License (OSL 3.0)\n * that is bundled with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/opensource.org\/licenses\/osl-3.0.php\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@magento.com so we can send you a copy immediately.\n *\n * DISCLAIMER\n *\n * Do not edit or add to this file if you wish to upgrade Magento to newer\n * versions in the future. If you wish to customize Magento for your\n * needs please refer to http:\/\/www.magento.com for more information.\n *\n * @category    Mage\n * @package     Mage_Adminhtml\n * @copyright  Copyright (c) 2006-2016 X.commerce, Inc. and affiliates (http:\/\/www.magento.com)\n * @license    http:\/\/opensource.org\/licenses\/osl-3.0.php  Open Software License (OSL 3.0)\n *\/",2],["T_WHITESPACE","\n\n",25],["T_DOC_COMMENT","\/**\n * Catalog composite product configuration controller\n *\n * @category    Mage\n * @package     Mage_Adminhtml\n * @author      Magento Core Team <core@magentocommerce.com>\n *\/",27],["T_WHITESPACE","\n",33],["T_CLASS","class",34],["T_WHITESPACE"," ",34],["T_STRING","Mage_Adminhtml_Customer_Wishlist_Product_Composite_WishlistController",34],["T_WHITESPACE","\n    ",34],["T_EXTENDS","extends",35],["T_WHITESPACE"," ",35],["T_STRING","Mage_Adminhtml_Controller_Action",35],["T_WHITESPACE","\n",35],"{",["T_WHITESPACE","\n     ",36],["T_DOC_COMMENT","\/**\n     * Wishlist we're working with\n     *\n     * @var Mage_Wishlist_Model_Wishlist\n     *\/",37],["T_WHITESPACE","\n    ",41],["T_PROTECTED","protected",42],["T_WHITESPACE"," ",42],["T_VARIABLE","$_wishlist",42],["T_WHITESPACE"," ",42],"=",["T_WHITESPACE"," ",42],["T_STRING","null",42],";",["T_WHITESPACE","\n\n    ",42],["T_DOC_COMMENT","\/**\n     * Wishlist item we're working with\n     *\n     * @var Mage_Wishlist_Model_Wishlist\n     *\/",44],["T_WHITESPACE","\n    ",48],["T_PROTECTED","protected",49],["T_WHITESPACE"," ",49],["T_VARIABLE","$_wishlistItem",49],["T_WHITESPACE"," ",49],"=",["T_WHITESPACE"," ",49],["T_STRING","null",49],";",["T_WHITESPACE","\n\n    ",49],["T_DOC_COMMENT","\/**\n     * Loads wishlist and wishlist item\n     *\n     * @return Mage_Adminhtml_Customer_Wishlist_Product_Composite_WishlistController\n     *\/",51],["T_WHITESPACE","\n    ",55],["T_PROTECTED","protected",56],["T_WHITESPACE"," ",56],["T_FUNCTION","function",56],["T_WHITESPACE"," ",56],["T_STRING","_initData",56],"(",")",["T_WHITESPACE","\n    ",56],"{",["T_WHITESPACE","\n        ",57],["T_VARIABLE","$wishlistItemId",58],["T_WHITESPACE"," ",58],"=",["T_WHITESPACE"," ",58],["T_INT_CAST","(int)",58],["T_WHITESPACE"," ",58],["T_VARIABLE","$this",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","getRequest",58],"(",")",["T_OBJECT_OPERATOR","->",58],["T_STRING","getParam",58],"(",["T_CONSTANT_ENCAPSED_STRING","'id'",58],")",";",["T_WHITESPACE","\n        ",58],["T_IF","if",59],["T_WHITESPACE"," ",59],"(","!",["T_VARIABLE","$wishlistItemId",59],")",["T_WHITESPACE"," ",59],"{",["T_WHITESPACE","\n            ",59],["T_STRING","Mage",60],["T_DOUBLE_COLON","::",60],["T_STRING","throwException",60],"(",["T_VARIABLE","$this",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","__",60],"(",["T_CONSTANT_ENCAPSED_STRING","'No wishlist item id defined.'",60],")",")",";",["T_WHITESPACE","\n        ",60],"}",["T_WHITESPACE","\n\n        ",61],["T_COMMENT","\/* @var $wishlistItem Mage_Wishlist_Model_Item *\/",63],["T_WHITESPACE","\n        ",63],["T_VARIABLE","$wishlistItem",64],["T_WHITESPACE"," ",64],"=",["T_WHITESPACE"," ",64],["T_STRING","Mage",64],["T_DOUBLE_COLON","::",64],["T_STRING","getModel",64],"(",["T_CONSTANT_ENCAPSED_STRING","'wishlist\/item'",64],")",["T_WHITESPACE","\n            ",64],["T_OBJECT_OPERATOR","->",65],["T_STRING","loadWithOptions",65],"(",["T_VARIABLE","$wishlistItemId",65],")",";",["T_WHITESPACE","\n\n        ",65],["T_IF","if",67],["T_WHITESPACE"," ",67],"(","!",["T_VARIABLE","$wishlistItem",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","getWishlistId",67],"(",")",")",["T_WHITESPACE"," ",67],"{",["T_WHITESPACE","\n            ",67],["T_STRING","Mage",68],["T_DOUBLE_COLON","::",68],["T_STRING","throwException",68],"(",["T_VARIABLE","$this",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","__",68],"(",["T_CONSTANT_ENCAPSED_STRING","'Wishlist item is not loaded.'",68],")",")",";",["T_WHITESPACE","\n        ",68],"}",["T_WHITESPACE","\n\n        ",69],["T_VARIABLE","$this",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","_wishlist",71],["T_WHITESPACE"," ",71],"=",["T_WHITESPACE"," ",71],["T_STRING","Mage",71],["T_DOUBLE_COLON","::",71],["T_STRING","getModel",71],"(",["T_CONSTANT_ENCAPSED_STRING","'wishlist\/wishlist'",71],")",["T_WHITESPACE","\n            ",71],["T_OBJECT_OPERATOR","->",72],["T_STRING","load",72],"(",["T_VARIABLE","$wishlistItem",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","getWishlistId",72],"(",")",")",";",["T_WHITESPACE","\n\n        ",72],["T_VARIABLE","$this",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","_wishlistItem",74],["T_WHITESPACE"," ",74],"=",["T_WHITESPACE"," ",74],["T_VARIABLE","$wishlistItem",74],";",["T_WHITESPACE","\n\n        ",74],["T_RETURN","return",76],["T_WHITESPACE"," ",76],["T_VARIABLE","$this",76],";",["T_WHITESPACE","\n    ",76],"}",["T_WHITESPACE","\n\n    ",77],["T_DOC_COMMENT","\/**\n     * Ajax handler to response configuration fieldset of composite product in customer's wishlist\n     *\n     * @return Mage_Adminhtml_Customer_Wishlist_Product_Composite_WishlistController\n     *\/",79],["T_WHITESPACE","\n    ",83],["T_PUBLIC","public",84],["T_WHITESPACE"," ",84],["T_FUNCTION","function",84],["T_WHITESPACE"," ",84],["T_STRING","configureAction",84],"(",")",["T_WHITESPACE","\n    ",84],"{",["T_WHITESPACE","\n        ",85],["T_VARIABLE","$configureResult",86],["T_WHITESPACE"," ",86],"=",["T_WHITESPACE"," ",86],["T_NEW","new",86],["T_WHITESPACE"," ",86],["T_STRING","Varien_Object",86],"(",")",";",["T_WHITESPACE","\n        ",86],["T_TRY","try",87],["T_WHITESPACE"," ",87],"{",["T_WHITESPACE","\n            ",87],["T_VARIABLE","$this",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","_initData",88],"(",")",";",["T_WHITESPACE","\n\n            ",88],["T_VARIABLE","$configureResult",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","setProductId",90],"(",["T_VARIABLE","$this",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","_wishlistItem",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","getProductId",90],"(",")",")",";",["T_WHITESPACE","\n            ",90],["T_VARIABLE","$configureResult",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","setBuyRequest",91],"(",["T_VARIABLE","$this",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","_wishlistItem",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","getBuyRequest",91],"(",")",")",";",["T_WHITESPACE","\n            ",91],["T_VARIABLE","$configureResult",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","setCurrentStoreId",92],"(",["T_VARIABLE","$this",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","_wishlistItem",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","getStoreId",92],"(",")",")",";",["T_WHITESPACE","\n            ",92],["T_VARIABLE","$configureResult",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","setCurrentCustomerId",93],"(",["T_VARIABLE","$this",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","_wishlist",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","getCustomerId",93],"(",")",")",";",["T_WHITESPACE","\n\n            ",93],["T_VARIABLE","$configureResult",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","setOk",95],"(",["T_STRING","true",95],")",";",["T_WHITESPACE","\n        ",95],"}",["T_WHITESPACE"," ",96],["T_CATCH","catch",96],["T_WHITESPACE"," ",96],"(",["T_STRING","Exception",96],["T_WHITESPACE"," ",96],["T_VARIABLE","$e",96],")",["T_WHITESPACE"," ",96],"{",["T_WHITESPACE","\n            ",96],["T_VARIABLE","$configureResult",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","setError",97],"(",["T_STRING","true",97],")",";",["T_WHITESPACE","\n            ",97],["T_VARIABLE","$configureResult",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","setMessage",98],"(",["T_VARIABLE","$e",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","getMessage",98],"(",")",")",";",["T_WHITESPACE","\n        ",98],"}",["T_WHITESPACE","\n\n        ",99],["T_COMMENT","\/* @var $helper Mage_Adminhtml_Helper_Catalog_Product_Composite *\/",101],["T_WHITESPACE","\n        ",101],["T_VARIABLE","$helper",102],["T_WHITESPACE"," ",102],"=",["T_WHITESPACE"," ",102],["T_STRING","Mage",102],["T_DOUBLE_COLON","::",102],["T_STRING","helper",102],"(",["T_CONSTANT_ENCAPSED_STRING","'adminhtml\/catalog_product_composite'",102],")",";",["T_WHITESPACE","\n        ",102],["T_STRING","Mage",103],["T_DOUBLE_COLON","::",103],["T_STRING","helper",103],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog\/product'",103],")",["T_OBJECT_OPERATOR","->",103],["T_STRING","setSkipSaleableCheck",103],"(",["T_STRING","true",103],")",";",["T_WHITESPACE","\n        ",103],["T_VARIABLE","$helper",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","renderConfigureResult",104],"(",["T_VARIABLE","$this",104],",",["T_WHITESPACE"," ",104],["T_VARIABLE","$configureResult",104],")",";",["T_WHITESPACE","\n\n        ",104],["T_RETURN","return",106],["T_WHITESPACE"," ",106],["T_VARIABLE","$this",106],";",["T_WHITESPACE","\n    ",106],"}",["T_WHITESPACE","\n\n    ",107],["T_DOC_COMMENT","\/**\n     * IFrame handler for submitted configuration for wishlist item\n     *\n     * @return false\n     *\/",109],["T_WHITESPACE","\n    ",113],["T_PUBLIC","public",114],["T_WHITESPACE"," ",114],["T_FUNCTION","function",114],["T_WHITESPACE"," ",114],["T_STRING","updateAction",114],"(",")",["T_WHITESPACE","\n    ",114],"{",["T_WHITESPACE","\n        ",115],["T_COMMENT","\/\/ Update wishlist item\n",116],["T_WHITESPACE","        ",117],["T_VARIABLE","$updateResult",117],["T_WHITESPACE"," ",117],"=",["T_WHITESPACE"," ",117],["T_NEW","new",117],["T_WHITESPACE"," ",117],["T_STRING","Varien_Object",117],"(",")",";",["T_WHITESPACE","\n        ",117],["T_TRY","try",118],["T_WHITESPACE"," ",118],"{",["T_WHITESPACE","\n            ",118],["T_VARIABLE","$this",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","_initData",119],"(",")",";",["T_WHITESPACE","\n\n            ",119],["T_VARIABLE","$buyRequest",121],["T_WHITESPACE"," ",121],"=",["T_WHITESPACE"," ",121],["T_NEW","new",121],["T_WHITESPACE"," ",121],["T_STRING","Varien_Object",121],"(",["T_VARIABLE","$this",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","getRequest",121],"(",")",["T_OBJECT_OPERATOR","->",121],["T_STRING","getParams",121],"(",")",")",";",["T_WHITESPACE","\n\n            ",121],["T_VARIABLE","$this",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","_wishlist",123],["T_WHITESPACE","\n                ",123],["T_OBJECT_OPERATOR","->",124],["T_STRING","updateItem",124],"(",["T_VARIABLE","$this",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","_wishlistItem",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","getId",124],"(",")",",",["T_WHITESPACE"," ",124],["T_VARIABLE","$buyRequest",124],")",["T_WHITESPACE","\n                ",124],["T_OBJECT_OPERATOR","->",125],["T_STRING","save",125],"(",")",";",["T_WHITESPACE","\n\n            ",125],["T_VARIABLE","$updateResult",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","setOk",127],"(",["T_STRING","true",127],")",";",["T_WHITESPACE","\n        ",127],"}",["T_WHITESPACE"," ",128],["T_CATCH","catch",128],["T_WHITESPACE"," ",128],"(",["T_STRING","Exception",128],["T_WHITESPACE"," ",128],["T_VARIABLE","$e",128],")",["T_WHITESPACE"," ",128],"{",["T_WHITESPACE","\n            ",128],["T_VARIABLE","$updateResult",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","setError",129],"(",["T_STRING","true",129],")",";",["T_WHITESPACE","\n            ",129],["T_VARIABLE","$updateResult",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","setMessage",130],"(",["T_VARIABLE","$e",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","getMessage",130],"(",")",")",";",["T_WHITESPACE","\n        ",130],"}",["T_WHITESPACE","\n        ",131],["T_VARIABLE","$updateResult",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","setJsVarName",132],"(",["T_VARIABLE","$this",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","getRequest",132],"(",")",["T_OBJECT_OPERATOR","->",132],["T_STRING","getParam",132],"(",["T_CONSTANT_ENCAPSED_STRING","'as_js_varname'",132],")",")",";",["T_WHITESPACE","\n        ",132],["T_STRING","Mage",133],["T_DOUBLE_COLON","::",133],["T_STRING","getSingleton",133],"(",["T_CONSTANT_ENCAPSED_STRING","'adminhtml\/session'",133],")",["T_OBJECT_OPERATOR","->",133],["T_STRING","setCompositeProductResult",133],"(",["T_VARIABLE","$updateResult",133],")",";",["T_WHITESPACE","\n        ",133],["T_VARIABLE","$this",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","_redirect",134],"(",["T_CONSTANT_ENCAPSED_STRING","'*\/catalog_product\/showUpdateResult'",134],")",";",["T_WHITESPACE","\n\n        ",134],["T_RETURN","return",136],["T_WHITESPACE"," ",136],["T_STRING","false",136],";",["T_WHITESPACE","\n    ",136],"}",["T_WHITESPACE","\n\n    ",137],["T_DOC_COMMENT","\/**\n     * Check the permission to Manage Customers\n     *\n     * @return bool\n     *\/",139],["T_WHITESPACE","\n    ",143],["T_PROTECTED","protected",144],["T_WHITESPACE"," ",144],["T_FUNCTION","function",144],["T_WHITESPACE"," ",144],["T_STRING","_isAllowed",144],"(",")",["T_WHITESPACE","\n    ",144],"{",["T_WHITESPACE","\n        ",145],["T_RETURN","return",146],["T_WHITESPACE"," ",146],["T_STRING","Mage",146],["T_DOUBLE_COLON","::",146],["T_STRING","getSingleton",146],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/session'",146],")",["T_OBJECT_OPERATOR","->",146],["T_STRING","isAllowed",146],"(",["T_CONSTANT_ENCAPSED_STRING","'customer\/manage'",146],")",";",["T_WHITESPACE","\n    ",146],"}",["T_WHITESPACE","\n",147],"}",["T_WHITESPACE","\n",148]]