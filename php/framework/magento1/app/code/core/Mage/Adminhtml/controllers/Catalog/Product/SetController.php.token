[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Magento\n *\n * NOTICE OF LICENSE\n *\n * This source file is subject to the Open Software License (OSL 3.0)\n * that is bundled with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/opensource.org\/licenses\/osl-3.0.php\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@magento.com so we can send you a copy immediately.\n *\n * DISCLAIMER\n *\n * Do not edit or add to this file if you wish to upgrade Magento to newer\n * versions in the future. If you wish to customize Magento for your\n * needs please refer to http:\/\/www.magento.com for more information.\n *\n * @category    Mage\n * @package     Mage_Adminhtml\n * @copyright  Copyright (c) 2006-2016 X.commerce, Inc. and affiliates (http:\/\/www.magento.com)\n * @license    http:\/\/opensource.org\/licenses\/osl-3.0.php  Open Software License (OSL 3.0)\n *\/",2],["T_WHITESPACE","\n\n",25],["T_DOC_COMMENT","\/**\n * Adminhtml entity sets controller\n *\n * @category   Mage\n * @package    Mage_Adminhtml\n * @author      Magento Core Team <core@magentocommerce.com>\n *\/",27],["T_WHITESPACE","\n\n",33],["T_CLASS","class",35],["T_WHITESPACE"," ",35],["T_STRING","Mage_Adminhtml_Catalog_Product_SetController",35],["T_WHITESPACE"," ",35],["T_EXTENDS","extends",35],["T_WHITESPACE"," ",35],["T_STRING","Mage_Adminhtml_Controller_Action",35],["T_WHITESPACE","\n",35],"{",["T_WHITESPACE","\n    ",36],["T_PUBLIC","public",37],["T_WHITESPACE"," ",37],["T_FUNCTION","function",37],["T_WHITESPACE"," ",37],["T_STRING","indexAction",37],"(",")",["T_WHITESPACE","\n    ",37],"{",["T_WHITESPACE","\n        ",38],["T_VARIABLE","$this",39],["T_OBJECT_OPERATOR","->",39],["T_STRING","_title",39],"(",["T_VARIABLE","$this",39],["T_OBJECT_OPERATOR","->",39],["T_STRING","__",39],"(",["T_CONSTANT_ENCAPSED_STRING","'Catalog'",39],")",")",["T_WHITESPACE","\n             ",39],["T_OBJECT_OPERATOR","->",40],["T_STRING","_title",40],"(",["T_VARIABLE","$this",40],["T_OBJECT_OPERATOR","->",40],["T_STRING","__",40],"(",["T_CONSTANT_ENCAPSED_STRING","'Attributes'",40],")",")",["T_WHITESPACE","\n             ",40],["T_OBJECT_OPERATOR","->",41],["T_STRING","_title",41],"(",["T_VARIABLE","$this",41],["T_OBJECT_OPERATOR","->",41],["T_STRING","__",41],"(",["T_CONSTANT_ENCAPSED_STRING","'Manage Attribute Sets'",41],")",")",";",["T_WHITESPACE","\n\n        ",41],["T_VARIABLE","$this",43],["T_OBJECT_OPERATOR","->",43],["T_STRING","_setTypeId",43],"(",")",";",["T_WHITESPACE","\n\n        ",43],["T_VARIABLE","$this",45],["T_OBJECT_OPERATOR","->",45],["T_STRING","loadLayout",45],"(",")",";",["T_WHITESPACE","\n        ",45],["T_VARIABLE","$this",46],["T_OBJECT_OPERATOR","->",46],["T_STRING","_setActiveMenu",46],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog\/sets'",46],")",";",["T_WHITESPACE","\n\n        ",46],["T_VARIABLE","$this",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","_addBreadcrumb",48],"(",["T_STRING","Mage",48],["T_DOUBLE_COLON","::",48],["T_STRING","helper",48],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog'",48],")",["T_OBJECT_OPERATOR","->",48],["T_STRING","__",48],"(",["T_CONSTANT_ENCAPSED_STRING","'Catalog'",48],")",",",["T_WHITESPACE"," ",48],["T_STRING","Mage",48],["T_DOUBLE_COLON","::",48],["T_STRING","helper",48],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog'",48],")",["T_OBJECT_OPERATOR","->",48],["T_STRING","__",48],"(",["T_CONSTANT_ENCAPSED_STRING","'Catalog'",48],")",")",";",["T_WHITESPACE","\n        ",48],["T_VARIABLE","$this",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","_addBreadcrumb",49],"(",["T_WHITESPACE","\n            ",49],["T_STRING","Mage",50],["T_DOUBLE_COLON","::",50],["T_STRING","helper",50],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog'",50],")",["T_OBJECT_OPERATOR","->",50],["T_STRING","__",50],"(",["T_CONSTANT_ENCAPSED_STRING","'Manage Attribute Sets'",50],")",",",["T_WHITESPACE","\n            ",50],["T_STRING","Mage",51],["T_DOUBLE_COLON","::",51],["T_STRING","helper",51],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog'",51],")",["T_OBJECT_OPERATOR","->",51],["T_STRING","__",51],"(",["T_CONSTANT_ENCAPSED_STRING","'Manage Attribute Sets'",51],")",")",";",["T_WHITESPACE","\n\n        ",51],["T_VARIABLE","$this",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","_addContent",53],"(",["T_VARIABLE","$this",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","getLayout",53],"(",")",["T_OBJECT_OPERATOR","->",53],["T_STRING","createBlock",53],"(",["T_CONSTANT_ENCAPSED_STRING","'adminhtml\/catalog_product_attribute_set_toolbar_main'",53],")",")",";",["T_WHITESPACE","\n        ",53],["T_VARIABLE","$this",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","_addContent",54],"(",["T_VARIABLE","$this",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","getLayout",54],"(",")",["T_OBJECT_OPERATOR","->",54],["T_STRING","createBlock",54],"(",["T_CONSTANT_ENCAPSED_STRING","'adminhtml\/catalog_product_attribute_set_grid'",54],")",")",";",["T_WHITESPACE","\n\n        ",54],["T_VARIABLE","$this",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","renderLayout",56],"(",")",";",["T_WHITESPACE","\n    ",56],"}",["T_WHITESPACE","\n\n    ",57],["T_PUBLIC","public",59],["T_WHITESPACE"," ",59],["T_FUNCTION","function",59],["T_WHITESPACE"," ",59],["T_STRING","editAction",59],"(",")",["T_WHITESPACE","\n    ",59],"{",["T_WHITESPACE","\n        ",60],["T_VARIABLE","$this",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","_title",61],"(",["T_VARIABLE","$this",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","__",61],"(",["T_CONSTANT_ENCAPSED_STRING","'Catalog'",61],")",")",["T_WHITESPACE","\n             ",61],["T_OBJECT_OPERATOR","->",62],["T_STRING","_title",62],"(",["T_VARIABLE","$this",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","__",62],"(",["T_CONSTANT_ENCAPSED_STRING","'Attributes'",62],")",")",["T_WHITESPACE","\n             ",62],["T_OBJECT_OPERATOR","->",63],["T_STRING","_title",63],"(",["T_VARIABLE","$this",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","__",63],"(",["T_CONSTANT_ENCAPSED_STRING","'Manage Attribute Sets'",63],")",")",";",["T_WHITESPACE","\n\n        ",63],["T_VARIABLE","$this",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","_setTypeId",65],"(",")",";",["T_WHITESPACE","\n        ",65],["T_VARIABLE","$attributeSet",66],["T_WHITESPACE"," ",66],"=",["T_WHITESPACE"," ",66],["T_STRING","Mage",66],["T_DOUBLE_COLON","::",66],["T_STRING","getModel",66],"(",["T_CONSTANT_ENCAPSED_STRING","'eav\/entity_attribute_set'",66],")",["T_WHITESPACE","\n            ",66],["T_OBJECT_OPERATOR","->",67],["T_STRING","load",67],"(",["T_VARIABLE","$this",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","getRequest",67],"(",")",["T_OBJECT_OPERATOR","->",67],["T_STRING","getParam",67],"(",["T_CONSTANT_ENCAPSED_STRING","'id'",67],")",")",";",["T_WHITESPACE","\n\n        ",67],["T_IF","if",69],["T_WHITESPACE"," ",69],"(","!",["T_VARIABLE","$attributeSet",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","getId",69],"(",")",")",["T_WHITESPACE"," ",69],"{",["T_WHITESPACE","\n            ",69],["T_VARIABLE","$this",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","_redirect",70],"(",["T_CONSTANT_ENCAPSED_STRING","'*\/*\/index'",70],")",";",["T_WHITESPACE","\n            ",70],["T_RETURN","return",71],";",["T_WHITESPACE","\n        ",71],"}",["T_WHITESPACE","\n\n        ",72],["T_VARIABLE","$this",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","_title",74],"(",["T_VARIABLE","$attributeSet",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","getId",74],"(",")",["T_WHITESPACE"," ",74],"?",["T_WHITESPACE"," ",74],["T_VARIABLE","$attributeSet",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","getAttributeSetName",74],"(",")",["T_WHITESPACE"," ",74],":",["T_WHITESPACE"," ",74],["T_VARIABLE","$this",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","__",74],"(",["T_CONSTANT_ENCAPSED_STRING","'New Set'",74],")",")",";",["T_WHITESPACE","\n\n        ",74],["T_STRING","Mage",76],["T_DOUBLE_COLON","::",76],["T_STRING","register",76],"(",["T_CONSTANT_ENCAPSED_STRING","'current_attribute_set'",76],",",["T_WHITESPACE"," ",76],["T_VARIABLE","$attributeSet",76],")",";",["T_WHITESPACE","\n\n        ",76],["T_VARIABLE","$this",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","loadLayout",78],"(",")",";",["T_WHITESPACE","\n        ",78],["T_VARIABLE","$this",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","_setActiveMenu",79],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog\/sets'",79],")",";",["T_WHITESPACE","\n        ",79],["T_VARIABLE","$this",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","getLayout",80],"(",")",["T_OBJECT_OPERATOR","->",80],["T_STRING","getBlock",80],"(",["T_CONSTANT_ENCAPSED_STRING","'head'",80],")",["T_OBJECT_OPERATOR","->",80],["T_STRING","setCanLoadExtJs",80],"(",["T_STRING","true",80],")",";",["T_WHITESPACE","\n\n        ",80],["T_VARIABLE","$this",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","_addBreadcrumb",82],"(",["T_STRING","Mage",82],["T_DOUBLE_COLON","::",82],["T_STRING","helper",82],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog'",82],")",["T_OBJECT_OPERATOR","->",82],["T_STRING","__",82],"(",["T_CONSTANT_ENCAPSED_STRING","'Catalog'",82],")",",",["T_WHITESPACE"," ",82],["T_STRING","Mage",82],["T_DOUBLE_COLON","::",82],["T_STRING","helper",82],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog'",82],")",["T_OBJECT_OPERATOR","->",82],["T_STRING","__",82],"(",["T_CONSTANT_ENCAPSED_STRING","'Catalog'",82],")",")",";",["T_WHITESPACE","\n        ",82],["T_VARIABLE","$this",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","_addBreadcrumb",83],"(",["T_WHITESPACE","\n            ",83],["T_STRING","Mage",84],["T_DOUBLE_COLON","::",84],["T_STRING","helper",84],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog'",84],")",["T_OBJECT_OPERATOR","->",84],["T_STRING","__",84],"(",["T_CONSTANT_ENCAPSED_STRING","'Manage Product Sets'",84],")",",",["T_WHITESPACE","\n            ",84],["T_STRING","Mage",85],["T_DOUBLE_COLON","::",85],["T_STRING","helper",85],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog'",85],")",["T_OBJECT_OPERATOR","->",85],["T_STRING","__",85],"(",["T_CONSTANT_ENCAPSED_STRING","'Manage Product Sets'",85],")",")",";",["T_WHITESPACE","\n\n        ",85],["T_VARIABLE","$this",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","_addContent",87],"(",["T_VARIABLE","$this",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","getLayout",87],"(",")",["T_OBJECT_OPERATOR","->",87],["T_STRING","createBlock",87],"(",["T_CONSTANT_ENCAPSED_STRING","'adminhtml\/catalog_product_attribute_set_main'",87],")",")",";",["T_WHITESPACE","\n\n        ",87],["T_VARIABLE","$this",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","renderLayout",89],"(",")",";",["T_WHITESPACE","\n    ",89],"}",["T_WHITESPACE","\n\n    ",90],["T_PUBLIC","public",92],["T_WHITESPACE"," ",92],["T_FUNCTION","function",92],["T_WHITESPACE"," ",92],["T_STRING","setGridAction",92],"(",")",["T_WHITESPACE","\n    ",92],"{",["T_WHITESPACE","\n        ",93],["T_VARIABLE","$this",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","_setTypeId",94],"(",")",";",["T_WHITESPACE","\n        ",94],["T_VARIABLE","$this",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","getResponse",95],"(",")",["T_OBJECT_OPERATOR","->",95],["T_STRING","setBody",95],"(",["T_WHITESPACE","\n            ",95],["T_VARIABLE","$this",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","getLayout",96],"(",")",["T_WHITESPACE","\n                ",96],["T_OBJECT_OPERATOR","->",97],["T_STRING","createBlock",97],"(",["T_CONSTANT_ENCAPSED_STRING","'adminhtml\/catalog_product_attribute_set_grid'",97],")",["T_WHITESPACE","\n                ",97],["T_OBJECT_OPERATOR","->",98],["T_STRING","toHtml",98],"(",")",")",";",["T_WHITESPACE","\n    ",98],"}",["T_WHITESPACE","\n\n    ",99],["T_DOC_COMMENT","\/**\n     * Save attribute set action\n     *\n     * [POST] Create attribute set from another set and redirect to edit page\n     * [AJAX] Save attribute set data\n     *\n     *\/",101],["T_WHITESPACE","\n    ",107],["T_PUBLIC","public",108],["T_WHITESPACE"," ",108],["T_FUNCTION","function",108],["T_WHITESPACE"," ",108],["T_STRING","saveAction",108],"(",")",["T_WHITESPACE","\n    ",108],"{",["T_WHITESPACE","\n        ",109],["T_VARIABLE","$entityTypeId",110],["T_WHITESPACE","   ",110],"=",["T_WHITESPACE"," ",110],["T_VARIABLE","$this",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","_getEntityTypeId",110],"(",")",";",["T_WHITESPACE","\n        ",110],["T_VARIABLE","$hasError",111],["T_WHITESPACE","       ",111],"=",["T_WHITESPACE"," ",111],["T_STRING","false",111],";",["T_WHITESPACE","\n        ",111],["T_VARIABLE","$attributeSetId",112],["T_WHITESPACE"," ",112],"=",["T_WHITESPACE"," ",112],["T_VARIABLE","$this",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","getRequest",112],"(",")",["T_OBJECT_OPERATOR","->",112],["T_STRING","getParam",112],"(",["T_CONSTANT_ENCAPSED_STRING","'id'",112],",",["T_WHITESPACE"," ",112],["T_STRING","false",112],")",";",["T_WHITESPACE","\n        ",112],["T_VARIABLE","$isNewSet",113],["T_WHITESPACE","       ",113],"=",["T_WHITESPACE"," ",113],["T_VARIABLE","$this",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","getRequest",113],"(",")",["T_OBJECT_OPERATOR","->",113],["T_STRING","getParam",113],"(",["T_CONSTANT_ENCAPSED_STRING","'gotoEdit'",113],",",["T_WHITESPACE"," ",113],["T_STRING","false",113],")",["T_WHITESPACE"," ",113],["T_IS_EQUAL","==",113],["T_WHITESPACE"," ",113],["T_CONSTANT_ENCAPSED_STRING","'1'",113],";",["T_WHITESPACE","\n\n        ",113],["T_COMMENT","\/* @var $model Mage_Eav_Model_Entity_Attribute_Set *\/",115],["T_WHITESPACE","\n        ",115],["T_VARIABLE","$model",116],["T_WHITESPACE","  ",116],"=",["T_WHITESPACE"," ",116],["T_STRING","Mage",116],["T_DOUBLE_COLON","::",116],["T_STRING","getModel",116],"(",["T_CONSTANT_ENCAPSED_STRING","'eav\/entity_attribute_set'",116],")",["T_WHITESPACE","\n            ",116],["T_OBJECT_OPERATOR","->",117],["T_STRING","setEntityTypeId",117],"(",["T_VARIABLE","$entityTypeId",117],")",";",["T_WHITESPACE","\n\n        ",117],["T_DOC_COMMENT","\/** @var $helper Mage_Adminhtml_Helper_Data *\/",119],["T_WHITESPACE","\n        ",119],["T_VARIABLE","$helper",120],["T_WHITESPACE"," ",120],"=",["T_WHITESPACE"," ",120],["T_STRING","Mage",120],["T_DOUBLE_COLON","::",120],["T_STRING","helper",120],"(",["T_CONSTANT_ENCAPSED_STRING","'adminhtml'",120],")",";",["T_WHITESPACE","\n\n        ",120],["T_TRY","try",122],["T_WHITESPACE"," ",122],"{",["T_WHITESPACE","\n            ",122],["T_IF","if",123],["T_WHITESPACE"," ",123],"(",["T_VARIABLE","$isNewSet",123],")",["T_WHITESPACE"," ",123],"{",["T_WHITESPACE","\n                ",123],["T_COMMENT","\/\/filter html tags\n",124],["T_WHITESPACE","                ",125],["T_VARIABLE","$name",125],["T_WHITESPACE"," ",125],"=",["T_WHITESPACE"," ",125],["T_VARIABLE","$helper",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","stripTags",125],"(",["T_VARIABLE","$this",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","getRequest",125],"(",")",["T_OBJECT_OPERATOR","->",125],["T_STRING","getParam",125],"(",["T_CONSTANT_ENCAPSED_STRING","'attribute_set_name'",125],")",")",";",["T_WHITESPACE","\n                ",125],["T_VARIABLE","$model",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","setAttributeSetName",126],"(",["T_STRING","trim",126],"(",["T_VARIABLE","$name",126],")",")",";",["T_WHITESPACE","\n            ",126],"}",["T_WHITESPACE"," ",127],["T_ELSE","else",127],["T_WHITESPACE"," ",127],"{",["T_WHITESPACE","\n                ",127],["T_IF","if",128],["T_WHITESPACE"," ",128],"(",["T_VARIABLE","$attributeSetId",128],")",["T_WHITESPACE"," ",128],"{",["T_WHITESPACE","\n                    ",128],["T_VARIABLE","$model",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","load",129],"(",["T_VARIABLE","$attributeSetId",129],")",";",["T_WHITESPACE","\n                ",129],"}",["T_WHITESPACE","\n                ",130],["T_IF","if",131],["T_WHITESPACE"," ",131],"(","!",["T_VARIABLE","$model",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","getId",131],"(",")",")",["T_WHITESPACE"," ",131],"{",["T_WHITESPACE","\n                    ",131],["T_STRING","Mage",132],["T_DOUBLE_COLON","::",132],["T_STRING","throwException",132],"(",["T_STRING","Mage",132],["T_DOUBLE_COLON","::",132],["T_STRING","helper",132],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog'",132],")",["T_OBJECT_OPERATOR","->",132],["T_STRING","__",132],"(",["T_CONSTANT_ENCAPSED_STRING","'This attribute set no longer exists.'",132],")",")",";",["T_WHITESPACE","\n                ",132],"}",["T_WHITESPACE","\n                ",133],["T_VARIABLE","$data",134],["T_WHITESPACE"," ",134],"=",["T_WHITESPACE"," ",134],["T_STRING","Mage",134],["T_DOUBLE_COLON","::",134],["T_STRING","helper",134],"(",["T_CONSTANT_ENCAPSED_STRING","'core'",134],")",["T_OBJECT_OPERATOR","->",134],["T_STRING","jsonDecode",134],"(",["T_VARIABLE","$this",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","getRequest",134],"(",")",["T_OBJECT_OPERATOR","->",134],["T_STRING","getPost",134],"(",["T_CONSTANT_ENCAPSED_STRING","'data'",134],")",")",";",["T_WHITESPACE","\n\n                ",134],["T_COMMENT","\/\/filter html tags\n",136],["T_WHITESPACE","                ",137],["T_VARIABLE","$data",137],"[",["T_CONSTANT_ENCAPSED_STRING","'attribute_set_name'",137],"]",["T_WHITESPACE"," ",137],"=",["T_WHITESPACE"," ",137],["T_VARIABLE","$helper",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","stripTags",137],"(",["T_VARIABLE","$data",137],"[",["T_CONSTANT_ENCAPSED_STRING","'attribute_set_name'",137],"]",")",";",["T_WHITESPACE","\n\n                ",137],["T_VARIABLE","$model",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","organizeData",139],"(",["T_VARIABLE","$data",139],")",";",["T_WHITESPACE","\n            ",139],"}",["T_WHITESPACE","\n\n            ",140],["T_VARIABLE","$model",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","validate",142],"(",")",";",["T_WHITESPACE","\n            ",142],["T_IF","if",143],["T_WHITESPACE"," ",143],"(",["T_VARIABLE","$isNewSet",143],")",["T_WHITESPACE"," ",143],"{",["T_WHITESPACE","\n                ",143],["T_VARIABLE","$model",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","save",144],"(",")",";",["T_WHITESPACE","\n                ",144],["T_VARIABLE","$model",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","initFromSkeleton",145],"(",["T_VARIABLE","$this",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","getRequest",145],"(",")",["T_OBJECT_OPERATOR","->",145],["T_STRING","getParam",145],"(",["T_CONSTANT_ENCAPSED_STRING","'skeleton_set'",145],")",")",";",["T_WHITESPACE","\n            ",145],"}",["T_WHITESPACE","\n            ",146],["T_VARIABLE","$model",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","save",147],"(",")",";",["T_WHITESPACE","\n            ",147],["T_VARIABLE","$this",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","_getSession",148],"(",")",["T_OBJECT_OPERATOR","->",148],["T_STRING","addSuccess",148],"(",["T_STRING","Mage",148],["T_DOUBLE_COLON","::",148],["T_STRING","helper",148],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog'",148],")",["T_OBJECT_OPERATOR","->",148],["T_STRING","__",148],"(",["T_CONSTANT_ENCAPSED_STRING","'The attribute set has been saved.'",148],")",")",";",["T_WHITESPACE","\n        ",148],"}",["T_WHITESPACE"," ",149],["T_CATCH","catch",149],["T_WHITESPACE"," ",149],"(",["T_STRING","Mage_Core_Exception",149],["T_WHITESPACE"," ",149],["T_VARIABLE","$e",149],")",["T_WHITESPACE"," ",149],"{",["T_WHITESPACE","\n            ",149],["T_VARIABLE","$this",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","_getSession",150],"(",")",["T_OBJECT_OPERATOR","->",150],["T_STRING","addError",150],"(",["T_VARIABLE","$e",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","getMessage",150],"(",")",")",";",["T_WHITESPACE","\n            ",150],["T_VARIABLE","$hasError",151],["T_WHITESPACE"," ",151],"=",["T_WHITESPACE"," ",151],["T_STRING","true",151],";",["T_WHITESPACE","\n        ",151],"}",["T_WHITESPACE"," ",152],["T_CATCH","catch",152],["T_WHITESPACE"," ",152],"(",["T_STRING","Exception",152],["T_WHITESPACE"," ",152],["T_VARIABLE","$e",152],")",["T_WHITESPACE"," ",152],"{",["T_WHITESPACE","\n            ",152],["T_VARIABLE","$this",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","_getSession",153],"(",")",["T_OBJECT_OPERATOR","->",153],["T_STRING","addException",153],"(",["T_VARIABLE","$e",153],",",["T_WHITESPACE","\n                ",153],["T_STRING","Mage",154],["T_DOUBLE_COLON","::",154],["T_STRING","helper",154],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog'",154],")",["T_OBJECT_OPERATOR","->",154],["T_STRING","__",154],"(",["T_CONSTANT_ENCAPSED_STRING","'An error occurred while saving the attribute set.'",154],")",")",";",["T_WHITESPACE","\n            ",154],["T_VARIABLE","$hasError",155],["T_WHITESPACE"," ",155],"=",["T_WHITESPACE"," ",155],["T_STRING","true",155],";",["T_WHITESPACE","\n        ",155],"}",["T_WHITESPACE","\n\n        ",156],["T_IF","if",158],["T_WHITESPACE"," ",158],"(",["T_VARIABLE","$isNewSet",158],")",["T_WHITESPACE"," ",158],"{",["T_WHITESPACE","\n            ",158],["T_IF","if",159],["T_WHITESPACE"," ",159],"(",["T_VARIABLE","$hasError",159],")",["T_WHITESPACE"," ",159],"{",["T_WHITESPACE","\n                ",159],["T_VARIABLE","$this",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","_redirect",160],"(",["T_CONSTANT_ENCAPSED_STRING","'*\/*\/add'",160],")",";",["T_WHITESPACE","\n            ",160],"}",["T_WHITESPACE"," ",161],["T_ELSE","else",161],["T_WHITESPACE"," ",161],"{",["T_WHITESPACE","\n                ",161],["T_VARIABLE","$this",162],["T_OBJECT_OPERATOR","->",162],["T_STRING","_redirect",162],"(",["T_CONSTANT_ENCAPSED_STRING","'*\/*\/edit'",162],",",["T_WHITESPACE"," ",162],["T_ARRAY","array",162],"(",["T_CONSTANT_ENCAPSED_STRING","'id'",162],["T_WHITESPACE"," ",162],["T_DOUBLE_ARROW","=>",162],["T_WHITESPACE"," ",162],["T_VARIABLE","$model",162],["T_OBJECT_OPERATOR","->",162],["T_STRING","getId",162],"(",")",")",")",";",["T_WHITESPACE","\n            ",162],"}",["T_WHITESPACE","\n        ",163],"}",["T_WHITESPACE"," ",164],["T_ELSE","else",164],["T_WHITESPACE"," ",164],"{",["T_WHITESPACE","\n            ",164],["T_VARIABLE","$response",165],["T_WHITESPACE"," ",165],"=",["T_WHITESPACE"," ",165],["T_ARRAY","array",165],"(",")",";",["T_WHITESPACE","\n            ",165],["T_IF","if",166],["T_WHITESPACE"," ",166],"(",["T_VARIABLE","$hasError",166],")",["T_WHITESPACE"," ",166],"{",["T_WHITESPACE","\n                ",166],["T_VARIABLE","$this",167],["T_OBJECT_OPERATOR","->",167],["T_STRING","_initLayoutMessages",167],"(",["T_CONSTANT_ENCAPSED_STRING","'adminhtml\/session'",167],")",";",["T_WHITESPACE","\n                ",167],["T_VARIABLE","$response",168],"[",["T_CONSTANT_ENCAPSED_STRING","'error'",168],"]",["T_WHITESPACE","   ",168],"=",["T_WHITESPACE"," ",168],["T_LNUMBER","1",168],";",["T_WHITESPACE","\n                ",168],["T_VARIABLE","$response",169],"[",["T_CONSTANT_ENCAPSED_STRING","'message'",169],"]",["T_WHITESPACE"," ",169],"=",["T_WHITESPACE"," ",169],["T_VARIABLE","$this",169],["T_OBJECT_OPERATOR","->",169],["T_STRING","getLayout",169],"(",")",["T_OBJECT_OPERATOR","->",169],["T_STRING","getMessagesBlock",169],"(",")",["T_OBJECT_OPERATOR","->",169],["T_STRING","getGroupedHtml",169],"(",")",";",["T_WHITESPACE","\n            ",169],"}",["T_WHITESPACE"," ",170],["T_ELSE","else",170],["T_WHITESPACE"," ",170],"{",["T_WHITESPACE","\n                ",170],["T_VARIABLE","$response",171],"[",["T_CONSTANT_ENCAPSED_STRING","'error'",171],"]",["T_WHITESPACE","   ",171],"=",["T_WHITESPACE"," ",171],["T_LNUMBER","0",171],";",["T_WHITESPACE","\n                ",171],["T_VARIABLE","$response",172],"[",["T_CONSTANT_ENCAPSED_STRING","'url'",172],"]",["T_WHITESPACE","     ",172],"=",["T_WHITESPACE"," ",172],["T_VARIABLE","$this",172],["T_OBJECT_OPERATOR","->",172],["T_STRING","getUrl",172],"(",["T_CONSTANT_ENCAPSED_STRING","'*\/*\/'",172],")",";",["T_WHITESPACE","\n            ",172],"}",["T_WHITESPACE","\n            ",173],["T_VARIABLE","$this",174],["T_OBJECT_OPERATOR","->",174],["T_STRING","getResponse",174],"(",")",["T_OBJECT_OPERATOR","->",174],["T_STRING","setBody",174],"(",["T_STRING","Mage",174],["T_DOUBLE_COLON","::",174],["T_STRING","helper",174],"(",["T_CONSTANT_ENCAPSED_STRING","'core'",174],")",["T_OBJECT_OPERATOR","->",174],["T_STRING","jsonEncode",174],"(",["T_VARIABLE","$response",174],")",")",";",["T_WHITESPACE","\n        ",174],"}",["T_WHITESPACE","\n    ",175],"}",["T_WHITESPACE","\n\n    ",176],["T_PUBLIC","public",178],["T_WHITESPACE"," ",178],["T_FUNCTION","function",178],["T_WHITESPACE"," ",178],["T_STRING","addAction",178],"(",")",["T_WHITESPACE","\n    ",178],"{",["T_WHITESPACE","\n        ",179],["T_VARIABLE","$this",180],["T_OBJECT_OPERATOR","->",180],["T_STRING","_title",180],"(",["T_VARIABLE","$this",180],["T_OBJECT_OPERATOR","->",180],["T_STRING","__",180],"(",["T_CONSTANT_ENCAPSED_STRING","'Catalog'",180],")",")",["T_WHITESPACE","\n             ",180],["T_OBJECT_OPERATOR","->",181],["T_STRING","_title",181],"(",["T_VARIABLE","$this",181],["T_OBJECT_OPERATOR","->",181],["T_STRING","__",181],"(",["T_CONSTANT_ENCAPSED_STRING","'Attributes'",181],")",")",["T_WHITESPACE","\n             ",181],["T_OBJECT_OPERATOR","->",182],["T_STRING","_title",182],"(",["T_VARIABLE","$this",182],["T_OBJECT_OPERATOR","->",182],["T_STRING","__",182],"(",["T_CONSTANT_ENCAPSED_STRING","'Manage Attribute Sets'",182],")",")",["T_WHITESPACE","\n             ",182],["T_OBJECT_OPERATOR","->",183],["T_STRING","_title",183],"(",["T_VARIABLE","$this",183],["T_OBJECT_OPERATOR","->",183],["T_STRING","__",183],"(",["T_CONSTANT_ENCAPSED_STRING","'New Set'",183],")",")",";",["T_WHITESPACE","\n\n        ",183],["T_VARIABLE","$this",185],["T_OBJECT_OPERATOR","->",185],["T_STRING","_setTypeId",185],"(",")",";",["T_WHITESPACE","\n\n        ",185],["T_VARIABLE","$this",187],["T_OBJECT_OPERATOR","->",187],["T_STRING","loadLayout",187],"(",")",";",["T_WHITESPACE","\n        ",187],["T_VARIABLE","$this",188],["T_OBJECT_OPERATOR","->",188],["T_STRING","_setActiveMenu",188],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog\/sets'",188],")",";",["T_WHITESPACE","\n\n        ",188],["T_VARIABLE","$this",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","_addContent",190],"(",["T_VARIABLE","$this",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","getLayout",190],"(",")",["T_OBJECT_OPERATOR","->",190],["T_STRING","createBlock",190],"(",["T_CONSTANT_ENCAPSED_STRING","'adminhtml\/catalog_product_attribute_set_toolbar_add'",190],")",")",";",["T_WHITESPACE","\n\n        ",190],["T_VARIABLE","$this",192],["T_OBJECT_OPERATOR","->",192],["T_STRING","renderLayout",192],"(",")",";",["T_WHITESPACE","\n    ",192],"}",["T_WHITESPACE","\n\n    ",193],["T_PUBLIC","public",195],["T_WHITESPACE"," ",195],["T_FUNCTION","function",195],["T_WHITESPACE"," ",195],["T_STRING","deleteAction",195],"(",")",["T_WHITESPACE","\n    ",195],"{",["T_WHITESPACE","\n        ",196],["T_VARIABLE","$setId",197],["T_WHITESPACE"," ",197],"=",["T_WHITESPACE"," ",197],["T_VARIABLE","$this",197],["T_OBJECT_OPERATOR","->",197],["T_STRING","getRequest",197],"(",")",["T_OBJECT_OPERATOR","->",197],["T_STRING","getParam",197],"(",["T_CONSTANT_ENCAPSED_STRING","'id'",197],")",";",["T_WHITESPACE","\n        ",197],["T_TRY","try",198],["T_WHITESPACE"," ",198],"{",["T_WHITESPACE","\n            ",198],["T_STRING","Mage",199],["T_DOUBLE_COLON","::",199],["T_STRING","getModel",199],"(",["T_CONSTANT_ENCAPSED_STRING","'eav\/entity_attribute_set'",199],")",["T_WHITESPACE","\n                ",199],["T_OBJECT_OPERATOR","->",200],["T_STRING","setId",200],"(",["T_VARIABLE","$setId",200],")",["T_WHITESPACE","\n                ",200],["T_OBJECT_OPERATOR","->",201],["T_STRING","delete",201],"(",")",";",["T_WHITESPACE","\n\n            ",201],["T_VARIABLE","$this",203],["T_OBJECT_OPERATOR","->",203],["T_STRING","_getSession",203],"(",")",["T_OBJECT_OPERATOR","->",203],["T_STRING","addSuccess",203],"(",["T_VARIABLE","$this",203],["T_OBJECT_OPERATOR","->",203],["T_STRING","__",203],"(",["T_CONSTANT_ENCAPSED_STRING","'The attribute set has been removed.'",203],")",")",";",["T_WHITESPACE","\n            ",203],["T_VARIABLE","$this",204],["T_OBJECT_OPERATOR","->",204],["T_STRING","getResponse",204],"(",")",["T_OBJECT_OPERATOR","->",204],["T_STRING","setRedirect",204],"(",["T_VARIABLE","$this",204],["T_OBJECT_OPERATOR","->",204],["T_STRING","getUrl",204],"(",["T_CONSTANT_ENCAPSED_STRING","'*\/*\/'",204],")",")",";",["T_WHITESPACE","\n        ",204],"}",["T_WHITESPACE"," ",205],["T_CATCH","catch",205],["T_WHITESPACE"," ",205],"(",["T_STRING","Exception",205],["T_WHITESPACE"," ",205],["T_VARIABLE","$e",205],")",["T_WHITESPACE"," ",205],"{",["T_WHITESPACE","\n            ",205],["T_VARIABLE","$this",206],["T_OBJECT_OPERATOR","->",206],["T_STRING","_getSession",206],"(",")",["T_OBJECT_OPERATOR","->",206],["T_STRING","addError",206],"(",["T_VARIABLE","$this",206],["T_OBJECT_OPERATOR","->",206],["T_STRING","__",206],"(",["T_CONSTANT_ENCAPSED_STRING","'An error occurred while deleting this set.'",206],")",")",";",["T_WHITESPACE","\n            ",206],["T_VARIABLE","$this",207],["T_OBJECT_OPERATOR","->",207],["T_STRING","_redirectReferer",207],"(",")",";",["T_WHITESPACE","\n        ",207],"}",["T_WHITESPACE","\n    ",208],"}",["T_WHITESPACE","\n\n    ",209],["T_DOC_COMMENT","\/**\n     * Define in register catalog_product entity type code as entityType\n     *\n     *\/",211],["T_WHITESPACE","\n    ",214],["T_PROTECTED","protected",215],["T_WHITESPACE"," ",215],["T_FUNCTION","function",215],["T_WHITESPACE"," ",215],["T_STRING","_setTypeId",215],"(",")",["T_WHITESPACE","\n    ",215],"{",["T_WHITESPACE","\n        ",216],["T_STRING","Mage",217],["T_DOUBLE_COLON","::",217],["T_STRING","register",217],"(",["T_CONSTANT_ENCAPSED_STRING","'entityType'",217],",",["T_WHITESPACE","\n            ",217],["T_STRING","Mage",218],["T_DOUBLE_COLON","::",218],["T_STRING","getModel",218],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog\/product'",218],")",["T_OBJECT_OPERATOR","->",218],["T_STRING","getResource",218],"(",")",["T_OBJECT_OPERATOR","->",218],["T_STRING","getTypeId",218],"(",")",")",";",["T_WHITESPACE","\n    ",218],"}",["T_WHITESPACE","\n\n    ",219],["T_PROTECTED","protected",221],["T_WHITESPACE"," ",221],["T_FUNCTION","function",221],["T_WHITESPACE"," ",221],["T_STRING","_isAllowed",221],"(",")",["T_WHITESPACE","\n    ",221],"{",["T_WHITESPACE","\n        ",222],["T_RETURN","return",223],["T_WHITESPACE"," ",223],["T_STRING","Mage",223],["T_DOUBLE_COLON","::",223],["T_STRING","getSingleton",223],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/session'",223],")",["T_OBJECT_OPERATOR","->",223],["T_STRING","isAllowed",223],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog\/attributes\/sets'",223],")",";",["T_WHITESPACE","\n    ",223],"}",["T_WHITESPACE","\n\n    ",224],["T_DOC_COMMENT","\/**\n     * Retrieve catalog product entity type id\n     *\n     * @return int\n     *\/",226],["T_WHITESPACE","\n    ",230],["T_PROTECTED","protected",231],["T_WHITESPACE"," ",231],["T_FUNCTION","function",231],["T_WHITESPACE"," ",231],["T_STRING","_getEntityTypeId",231],"(",")",["T_WHITESPACE","\n    ",231],"{",["T_WHITESPACE","\n        ",232],["T_IF","if",233],["T_WHITESPACE"," ",233],"(",["T_STRING","is_null",233],"(",["T_STRING","Mage",233],["T_DOUBLE_COLON","::",233],["T_STRING","registry",233],"(",["T_CONSTANT_ENCAPSED_STRING","'entityType'",233],")",")",")",["T_WHITESPACE"," ",233],"{",["T_WHITESPACE","\n            ",233],["T_VARIABLE","$this",234],["T_OBJECT_OPERATOR","->",234],["T_STRING","_setTypeId",234],"(",")",";",["T_WHITESPACE","\n        ",234],"}",["T_WHITESPACE","\n        ",235],["T_RETURN","return",236],["T_WHITESPACE"," ",236],["T_STRING","Mage",236],["T_DOUBLE_COLON","::",236],["T_STRING","registry",236],"(",["T_CONSTANT_ENCAPSED_STRING","'entityType'",236],")",";",["T_WHITESPACE","\n    ",236],"}",["T_WHITESPACE","\n",237],"}",["T_WHITESPACE","\n",238]]