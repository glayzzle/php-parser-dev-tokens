[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Magento\n *\n * NOTICE OF LICENSE\n *\n * This source file is subject to the Open Software License (OSL 3.0)\n * that is bundled with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/opensource.org\/licenses\/osl-3.0.php\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@magento.com so we can send you a copy immediately.\n *\n * DISCLAIMER\n *\n * Do not edit or add to this file if you wish to upgrade Magento to newer\n * versions in the future. If you wish to customize Magento for your\n * needs please refer to http:\/\/www.magento.com for more information.\n *\n * @category    Mage\n * @package     Mage_Adminhtml\n * @copyright  Copyright (c) 2006-2016 X.commerce, Inc. and affiliates (http:\/\/www.magento.com)\n * @license    http:\/\/opensource.org\/licenses\/osl-3.0.php  Open Software License (OSL 3.0)\n *\/",2],["T_WHITESPACE","\n\n",25],["T_DOC_COMMENT","\/**\n * Base adminhtml controller\n *\n * @category    Mage\n * @package     Mage_Adminhtml\n * @author      Magento Core Team <core@magentocommerce.com>\n *\/",27],["T_WHITESPACE","\n",33],["T_CLASS","class",34],["T_WHITESPACE"," ",34],["T_STRING","Mage_Adminhtml_Controller_Action",34],["T_WHITESPACE"," ",34],["T_EXTENDS","extends",34],["T_WHITESPACE"," ",34],["T_STRING","Mage_Core_Controller_Varien_Action",34],["T_WHITESPACE","\n",34],"{",["T_WHITESPACE","\n    ",35],["T_DOC_COMMENT","\/**\n     * Name of \"is URLs checked\" flag\n     *\/",36],["T_WHITESPACE","\n    ",38],["T_CONST","const",39],["T_WHITESPACE"," ",39],["T_STRING","FLAG_IS_URLS_CHECKED",39],["T_WHITESPACE"," ",39],"=",["T_WHITESPACE"," ",39],["T_CONSTANT_ENCAPSED_STRING","'check_url_settings'",39],";",["T_WHITESPACE","\n\n    ",39],["T_DOC_COMMENT","\/**\n     * Session namespace to refer in other places\n     *\/",41],["T_WHITESPACE","\n    ",43],["T_CONST","const",44],["T_WHITESPACE"," ",44],["T_STRING","SESSION_NAMESPACE",44],["T_WHITESPACE"," ",44],"=",["T_WHITESPACE"," ",44],["T_CONSTANT_ENCAPSED_STRING","'adminhtml'",44],";",["T_WHITESPACE","\n\n    ",44],["T_DOC_COMMENT","\/**\n     * Array of actions which can be processed without secret key validation\n     *\n     * @var array\n     *\/",46],["T_WHITESPACE","\n    ",50],["T_PROTECTED","protected",51],["T_WHITESPACE"," ",51],["T_VARIABLE","$_publicActions",51],["T_WHITESPACE"," ",51],"=",["T_WHITESPACE"," ",51],["T_ARRAY","array",51],"(",")",";",["T_WHITESPACE","\n\n    ",51],["T_DOC_COMMENT","\/**\n     * Used module name in current adminhtml controller\n     *\/",53],["T_WHITESPACE","\n    ",55],["T_PROTECTED","protected",56],["T_WHITESPACE"," ",56],["T_VARIABLE","$_usedModuleName",56],["T_WHITESPACE"," ",56],"=",["T_WHITESPACE"," ",56],["T_CONSTANT_ENCAPSED_STRING","'adminhtml'",56],";",["T_WHITESPACE","\n\n    ",56],["T_DOC_COMMENT","\/**\n     * Currently used area\n     *\n     * @var string\n     *\/",58],["T_WHITESPACE","\n    ",62],["T_PROTECTED","protected",63],["T_WHITESPACE"," ",63],["T_VARIABLE","$_currentArea",63],["T_WHITESPACE"," ",63],"=",["T_WHITESPACE"," ",63],["T_CONSTANT_ENCAPSED_STRING","'adminhtml'",63],";",["T_WHITESPACE","\n\n    ",63],["T_DOC_COMMENT","\/**\n     * Namespace for session.\n     *\n     * @var string\n     *\/",65],["T_WHITESPACE","\n    ",69],["T_PROTECTED","protected",70],["T_WHITESPACE"," ",70],["T_VARIABLE","$_sessionNamespace",70],["T_WHITESPACE"," ",70],"=",["T_WHITESPACE"," ",70],["T_STRING","self",70],["T_DOUBLE_COLON","::",70],["T_STRING","SESSION_NAMESPACE",70],";",["T_WHITESPACE","\n\n    ",70],["T_PROTECTED","protected",72],["T_WHITESPACE"," ",72],["T_FUNCTION","function",72],["T_WHITESPACE"," ",72],["T_STRING","_isAllowed",72],"(",")",["T_WHITESPACE","\n    ",72],"{",["T_WHITESPACE","\n        ",73],["T_RETURN","return",74],["T_WHITESPACE"," ",74],["T_STRING","Mage",74],["T_DOUBLE_COLON","::",74],["T_STRING","getSingleton",74],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/session'",74],")",["T_OBJECT_OPERATOR","->",74],["T_STRING","isAllowed",74],"(",["T_CONSTANT_ENCAPSED_STRING","'admin'",74],")",";",["T_WHITESPACE","\n    ",74],"}",["T_WHITESPACE","\n\n    ",75],["T_DOC_COMMENT","\/**\n     * Retrieve adminhtml session model object\n     *\n     * @return Mage_Adminhtml_Model_Session\n     *\/",77],["T_WHITESPACE","\n    ",81],["T_PROTECTED","protected",82],["T_WHITESPACE"," ",82],["T_FUNCTION","function",82],["T_WHITESPACE"," ",82],["T_STRING","_getSession",82],"(",")",["T_WHITESPACE","\n    ",82],"{",["T_WHITESPACE","\n        ",83],["T_RETURN","return",84],["T_WHITESPACE"," ",84],["T_STRING","Mage",84],["T_DOUBLE_COLON","::",84],["T_STRING","getSingleton",84],"(",["T_CONSTANT_ENCAPSED_STRING","'adminhtml\/session'",84],")",";",["T_WHITESPACE","\n    ",84],"}",["T_WHITESPACE","\n\n    ",85],["T_DOC_COMMENT","\/**\n     * Retrieve base admihtml helper\n     *\n     * @return Mage_Adminhtml_Helper_Data\n     *\/",87],["T_WHITESPACE","\n    ",91],["T_PROTECTED","protected",92],["T_WHITESPACE"," ",92],["T_FUNCTION","function",92],["T_WHITESPACE"," ",92],["T_STRING","_getHelper",92],"(",")",["T_WHITESPACE","\n    ",92],"{",["T_WHITESPACE","\n        ",93],["T_RETURN","return",94],["T_WHITESPACE"," ",94],["T_STRING","Mage",94],["T_DOUBLE_COLON","::",94],["T_STRING","helper",94],"(",["T_CONSTANT_ENCAPSED_STRING","'adminhtml'",94],")",";",["T_WHITESPACE","\n    ",94],"}",["T_WHITESPACE","\n\n    ",95],["T_DOC_COMMENT","\/**\n     * Define active menu item in menu block\n     *\n     * @return Mage_Adminhtml_Controller_Action\n     *\/",97],["T_WHITESPACE","\n    ",101],["T_PROTECTED","protected",102],["T_WHITESPACE"," ",102],["T_FUNCTION","function",102],["T_WHITESPACE"," ",102],["T_STRING","_setActiveMenu",102],"(",["T_VARIABLE","$menuPath",102],")",["T_WHITESPACE","\n    ",102],"{",["T_WHITESPACE","\n        ",103],["T_VARIABLE","$this",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","getLayout",104],"(",")",["T_OBJECT_OPERATOR","->",104],["T_STRING","getBlock",104],"(",["T_CONSTANT_ENCAPSED_STRING","'menu'",104],")",["T_OBJECT_OPERATOR","->",104],["T_STRING","setActive",104],"(",["T_VARIABLE","$menuPath",104],")",";",["T_WHITESPACE","\n        ",104],["T_RETURN","return",105],["T_WHITESPACE"," ",105],["T_VARIABLE","$this",105],";",["T_WHITESPACE","\n    ",105],"}",["T_WHITESPACE","\n\n    ",106],["T_DOC_COMMENT","\/**\n     * @return Mage_Adminhtml_Controller_Action\n     *\/",108],["T_WHITESPACE","\n    ",110],["T_PROTECTED","protected",111],["T_WHITESPACE"," ",111],["T_FUNCTION","function",111],["T_WHITESPACE"," ",111],["T_STRING","_addBreadcrumb",111],"(",["T_VARIABLE","$label",111],",",["T_WHITESPACE"," ",111],["T_VARIABLE","$title",111],",",["T_WHITESPACE"," ",111],["T_VARIABLE","$link",111],"=",["T_STRING","null",111],")",["T_WHITESPACE","\n    ",111],"{",["T_WHITESPACE","\n        ",112],["T_VARIABLE","$this",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","getLayout",113],"(",")",["T_OBJECT_OPERATOR","->",113],["T_STRING","getBlock",113],"(",["T_CONSTANT_ENCAPSED_STRING","'breadcrumbs'",113],")",["T_OBJECT_OPERATOR","->",113],["T_STRING","addLink",113],"(",["T_VARIABLE","$label",113],",",["T_WHITESPACE"," ",113],["T_VARIABLE","$title",113],",",["T_WHITESPACE"," ",113],["T_VARIABLE","$link",113],")",";",["T_WHITESPACE","\n        ",113],["T_RETURN","return",114],["T_WHITESPACE"," ",114],["T_VARIABLE","$this",114],";",["T_WHITESPACE","\n    ",114],"}",["T_WHITESPACE","\n\n    ",115],["T_DOC_COMMENT","\/**\n     * @return Mage_Adminhtml_Controller_Action\n     *\/",117],["T_WHITESPACE","\n    ",119],["T_PROTECTED","protected",120],["T_WHITESPACE"," ",120],["T_FUNCTION","function",120],["T_WHITESPACE"," ",120],["T_STRING","_addContent",120],"(",["T_STRING","Mage_Core_Block_Abstract",120],["T_WHITESPACE"," ",120],["T_VARIABLE","$block",120],")",["T_WHITESPACE","\n    ",120],"{",["T_WHITESPACE","\n        ",121],["T_VARIABLE","$this",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","getLayout",122],"(",")",["T_OBJECT_OPERATOR","->",122],["T_STRING","getBlock",122],"(",["T_CONSTANT_ENCAPSED_STRING","'content'",122],")",["T_OBJECT_OPERATOR","->",122],["T_STRING","append",122],"(",["T_VARIABLE","$block",122],")",";",["T_WHITESPACE","\n        ",122],["T_RETURN","return",123],["T_WHITESPACE"," ",123],["T_VARIABLE","$this",123],";",["T_WHITESPACE","\n    ",123],"}",["T_WHITESPACE","\n\n    ",124],["T_PROTECTED","protected",126],["T_WHITESPACE"," ",126],["T_FUNCTION","function",126],["T_WHITESPACE"," ",126],["T_STRING","_addLeft",126],"(",["T_STRING","Mage_Core_Block_Abstract",126],["T_WHITESPACE"," ",126],["T_VARIABLE","$block",126],")",["T_WHITESPACE","\n    ",126],"{",["T_WHITESPACE","\n        ",127],["T_VARIABLE","$this",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","getLayout",128],"(",")",["T_OBJECT_OPERATOR","->",128],["T_STRING","getBlock",128],"(",["T_CONSTANT_ENCAPSED_STRING","'left'",128],")",["T_OBJECT_OPERATOR","->",128],["T_STRING","append",128],"(",["T_VARIABLE","$block",128],")",";",["T_WHITESPACE","\n        ",128],["T_RETURN","return",129],["T_WHITESPACE"," ",129],["T_VARIABLE","$this",129],";",["T_WHITESPACE","\n    ",129],"}",["T_WHITESPACE","\n\n    ",130],["T_PROTECTED","protected",132],["T_WHITESPACE"," ",132],["T_FUNCTION","function",132],["T_WHITESPACE"," ",132],["T_STRING","_addJs",132],"(",["T_STRING","Mage_Core_Block_Abstract",132],["T_WHITESPACE"," ",132],["T_VARIABLE","$block",132],")",["T_WHITESPACE","\n    ",132],"{",["T_WHITESPACE","\n        ",133],["T_VARIABLE","$this",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","getLayout",134],"(",")",["T_OBJECT_OPERATOR","->",134],["T_STRING","getBlock",134],"(",["T_CONSTANT_ENCAPSED_STRING","'js'",134],")",["T_OBJECT_OPERATOR","->",134],["T_STRING","append",134],"(",["T_VARIABLE","$block",134],")",";",["T_WHITESPACE","\n        ",134],["T_RETURN","return",135],["T_WHITESPACE"," ",135],["T_VARIABLE","$this",135],";",["T_WHITESPACE","\n    ",135],"}",["T_WHITESPACE","\n\n    ",136],["T_DOC_COMMENT","\/**\n     * Controller predispatch method\n     *\n     * @return Mage_Adminhtml_Controller_Action\n     *\/",138],["T_WHITESPACE","\n    ",142],["T_PUBLIC","public",143],["T_WHITESPACE"," ",143],["T_FUNCTION","function",143],["T_WHITESPACE"," ",143],["T_STRING","preDispatch",143],"(",")",["T_WHITESPACE","\n    ",143],"{",["T_WHITESPACE","\n        ",144],["T_COMMENT","\/\/ override admin store design settings via stores section\n",145],["T_WHITESPACE","        ",146],["T_STRING","Mage",146],["T_DOUBLE_COLON","::",146],["T_STRING","getDesign",146],"(",")",["T_WHITESPACE","\n            ",146],["T_OBJECT_OPERATOR","->",147],["T_STRING","setArea",147],"(",["T_VARIABLE","$this",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","_currentArea",147],")",["T_WHITESPACE","\n            ",147],["T_OBJECT_OPERATOR","->",148],["T_STRING","setPackageName",148],"(",["T_STRING_CAST","(string)",148],["T_STRING","Mage",148],["T_DOUBLE_COLON","::",148],["T_STRING","getConfig",148],"(",")",["T_OBJECT_OPERATOR","->",148],["T_STRING","getNode",148],"(",["T_CONSTANT_ENCAPSED_STRING","'stores\/admin\/design\/package\/name'",148],")",")",["T_WHITESPACE","\n            ",148],["T_OBJECT_OPERATOR","->",149],["T_STRING","setTheme",149],"(",["T_STRING_CAST","(string)",149],["T_STRING","Mage",149],["T_DOUBLE_COLON","::",149],["T_STRING","getConfig",149],"(",")",["T_OBJECT_OPERATOR","->",149],["T_STRING","getNode",149],"(",["T_CONSTANT_ENCAPSED_STRING","'stores\/admin\/design\/theme\/default'",149],")",")",["T_WHITESPACE","\n        ",149],";",["T_WHITESPACE","\n        ",150],["T_FOREACH","foreach",151],["T_WHITESPACE"," ",151],"(",["T_ARRAY","array",151],"(",["T_CONSTANT_ENCAPSED_STRING","'layout'",151],",",["T_WHITESPACE"," ",151],["T_CONSTANT_ENCAPSED_STRING","'template'",151],",",["T_WHITESPACE"," ",151],["T_CONSTANT_ENCAPSED_STRING","'skin'",151],",",["T_WHITESPACE"," ",151],["T_CONSTANT_ENCAPSED_STRING","'locale'",151],")",["T_WHITESPACE"," ",151],["T_AS","as",151],["T_WHITESPACE"," ",151],["T_VARIABLE","$type",151],")",["T_WHITESPACE"," ",151],"{",["T_WHITESPACE","\n            ",151],["T_IF","if",152],["T_WHITESPACE"," ",152],"(",["T_VARIABLE","$value",152],["T_WHITESPACE"," ",152],"=",["T_WHITESPACE"," ",152],["T_STRING_CAST","(string)",152],["T_STRING","Mage",152],["T_DOUBLE_COLON","::",152],["T_STRING","getConfig",152],"(",")",["T_OBJECT_OPERATOR","->",152],["T_STRING","getNode",152],"(","\"",["T_ENCAPSED_AND_WHITESPACE","stores\/admin\/design\/theme\/",152],["T_CURLY_OPEN","{",152],["T_VARIABLE","$type",152],"}","\"",")",")",["T_WHITESPACE"," ",152],"{",["T_WHITESPACE","\n                ",152],["T_STRING","Mage",153],["T_DOUBLE_COLON","::",153],["T_STRING","getDesign",153],"(",")",["T_OBJECT_OPERATOR","->",153],["T_STRING","setTheme",153],"(",["T_VARIABLE","$type",153],",",["T_WHITESPACE"," ",153],["T_VARIABLE","$value",153],")",";",["T_WHITESPACE","\n            ",153],"}",["T_WHITESPACE","\n        ",154],"}",["T_WHITESPACE","\n\n        ",155],["T_VARIABLE","$this",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","getLayout",157],"(",")",["T_OBJECT_OPERATOR","->",157],["T_STRING","setArea",157],"(",["T_VARIABLE","$this",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","_currentArea",157],")",";",["T_WHITESPACE","\n\n        ",157],["T_STRING","Mage",159],["T_DOUBLE_COLON","::",159],["T_STRING","dispatchEvent",159],"(",["T_CONSTANT_ENCAPSED_STRING","'adminhtml_controller_action_predispatch_start'",159],",",["T_WHITESPACE"," ",159],["T_ARRAY","array",159],"(",")",")",";",["T_WHITESPACE","\n        ",159],["T_STRING","parent",160],["T_DOUBLE_COLON","::",160],["T_STRING","preDispatch",160],"(",")",";",["T_WHITESPACE","\n        ",160],["T_VARIABLE","$_isValidFormKey",161],["T_WHITESPACE"," ",161],"=",["T_WHITESPACE"," ",161],["T_STRING","true",161],";",["T_WHITESPACE","\n        ",161],["T_VARIABLE","$_isValidSecretKey",162],["T_WHITESPACE"," ",162],"=",["T_WHITESPACE"," ",162],["T_STRING","true",162],";",["T_WHITESPACE","\n        ",162],["T_VARIABLE","$_keyErrorMsg",163],["T_WHITESPACE"," ",163],"=",["T_WHITESPACE"," ",163],["T_CONSTANT_ENCAPSED_STRING","''",163],";",["T_WHITESPACE","\n        ",163],["T_IF","if",164],["T_WHITESPACE"," ",164],"(",["T_STRING","Mage",164],["T_DOUBLE_COLON","::",164],["T_STRING","getSingleton",164],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/session'",164],")",["T_OBJECT_OPERATOR","->",164],["T_STRING","isLoggedIn",164],"(",")",")",["T_WHITESPACE"," ",164],"{",["T_WHITESPACE","\n            ",164],["T_IF","if",165],["T_WHITESPACE"," ",165],"(",["T_VARIABLE","$this",165],["T_OBJECT_OPERATOR","->",165],["T_STRING","getRequest",165],"(",")",["T_OBJECT_OPERATOR","->",165],["T_STRING","isPost",165],"(",")",")",["T_WHITESPACE"," ",165],"{",["T_WHITESPACE","\n                ",165],["T_VARIABLE","$_isValidFormKey",166],["T_WHITESPACE"," ",166],"=",["T_WHITESPACE"," ",166],["T_VARIABLE","$this",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","_validateFormKey",166],"(",")",";",["T_WHITESPACE","\n                ",166],["T_VARIABLE","$_keyErrorMsg",167],["T_WHITESPACE"," ",167],"=",["T_WHITESPACE"," ",167],["T_STRING","Mage",167],["T_DOUBLE_COLON","::",167],["T_STRING","helper",167],"(",["T_CONSTANT_ENCAPSED_STRING","'adminhtml'",167],")",["T_OBJECT_OPERATOR","->",167],["T_STRING","__",167],"(",["T_CONSTANT_ENCAPSED_STRING","'Invalid Form Key. Please refresh the page.'",167],")",";",["T_WHITESPACE","\n            ",167],"}",["T_WHITESPACE"," ",168],["T_ELSEIF","elseif",168],["T_WHITESPACE"," ",168],"(",["T_STRING","Mage",168],["T_DOUBLE_COLON","::",168],["T_STRING","getSingleton",168],"(",["T_CONSTANT_ENCAPSED_STRING","'adminhtml\/url'",168],")",["T_OBJECT_OPERATOR","->",168],["T_STRING","useSecretKey",168],"(",")",")",["T_WHITESPACE"," ",168],"{",["T_WHITESPACE","\n                ",168],["T_VARIABLE","$_isValidSecretKey",169],["T_WHITESPACE"," ",169],"=",["T_WHITESPACE"," ",169],["T_VARIABLE","$this",169],["T_OBJECT_OPERATOR","->",169],["T_STRING","_validateSecretKey",169],"(",")",";",["T_WHITESPACE","\n                ",169],["T_VARIABLE","$_keyErrorMsg",170],["T_WHITESPACE"," ",170],"=",["T_WHITESPACE"," ",170],["T_STRING","Mage",170],["T_DOUBLE_COLON","::",170],["T_STRING","helper",170],"(",["T_CONSTANT_ENCAPSED_STRING","'adminhtml'",170],")",["T_OBJECT_OPERATOR","->",170],["T_STRING","__",170],"(",["T_CONSTANT_ENCAPSED_STRING","'Invalid Secret Key. Please refresh the page.'",170],")",";",["T_WHITESPACE","\n            ",170],"}",["T_WHITESPACE","\n        ",171],"}",["T_WHITESPACE","\n        ",172],["T_IF","if",173],["T_WHITESPACE"," ",173],"(","!",["T_VARIABLE","$_isValidFormKey",173],["T_WHITESPACE"," ",173],["T_BOOLEAN_OR","||",173],["T_WHITESPACE"," ",173],"!",["T_VARIABLE","$_isValidSecretKey",173],")",["T_WHITESPACE"," ",173],"{",["T_WHITESPACE","\n            ",173],["T_VARIABLE","$this",174],["T_OBJECT_OPERATOR","->",174],["T_STRING","setFlag",174],"(",["T_CONSTANT_ENCAPSED_STRING","''",174],",",["T_WHITESPACE"," ",174],["T_STRING","self",174],["T_DOUBLE_COLON","::",174],["T_STRING","FLAG_NO_DISPATCH",174],",",["T_WHITESPACE"," ",174],["T_STRING","true",174],")",";",["T_WHITESPACE","\n            ",174],["T_VARIABLE","$this",175],["T_OBJECT_OPERATOR","->",175],["T_STRING","setFlag",175],"(",["T_CONSTANT_ENCAPSED_STRING","''",175],",",["T_WHITESPACE"," ",175],["T_STRING","self",175],["T_DOUBLE_COLON","::",175],["T_STRING","FLAG_NO_POST_DISPATCH",175],",",["T_WHITESPACE"," ",175],["T_STRING","true",175],")",";",["T_WHITESPACE","\n            ",175],["T_IF","if",176],["T_WHITESPACE"," ",176],"(",["T_VARIABLE","$this",176],["T_OBJECT_OPERATOR","->",176],["T_STRING","getRequest",176],"(",")",["T_OBJECT_OPERATOR","->",176],["T_STRING","getQuery",176],"(",["T_CONSTANT_ENCAPSED_STRING","'isAjax'",176],",",["T_WHITESPACE"," ",176],["T_STRING","false",176],")",["T_WHITESPACE"," ",176],["T_BOOLEAN_OR","||",176],["T_WHITESPACE"," ",176],["T_VARIABLE","$this",176],["T_OBJECT_OPERATOR","->",176],["T_STRING","getRequest",176],"(",")",["T_OBJECT_OPERATOR","->",176],["T_STRING","getQuery",176],"(",["T_CONSTANT_ENCAPSED_STRING","'ajax'",176],",",["T_WHITESPACE"," ",176],["T_STRING","false",176],")",")",["T_WHITESPACE"," ",176],"{",["T_WHITESPACE","\n                ",176],["T_VARIABLE","$this",177],["T_OBJECT_OPERATOR","->",177],["T_STRING","getResponse",177],"(",")",["T_OBJECT_OPERATOR","->",177],["T_STRING","setBody",177],"(",["T_STRING","Mage",177],["T_DOUBLE_COLON","::",177],["T_STRING","helper",177],"(",["T_CONSTANT_ENCAPSED_STRING","'core'",177],")",["T_OBJECT_OPERATOR","->",177],["T_STRING","jsonEncode",177],"(",["T_ARRAY","array",177],"(",["T_WHITESPACE","\n                    ",177],["T_CONSTANT_ENCAPSED_STRING","'error'",178],["T_WHITESPACE"," ",178],["T_DOUBLE_ARROW","=>",178],["T_WHITESPACE"," ",178],["T_STRING","true",178],",",["T_WHITESPACE","\n                    ",178],["T_CONSTANT_ENCAPSED_STRING","'message'",179],["T_WHITESPACE"," ",179],["T_DOUBLE_ARROW","=>",179],["T_WHITESPACE"," ",179],["T_VARIABLE","$_keyErrorMsg",179],["T_WHITESPACE","\n                ",179],")",")",")",";",["T_WHITESPACE","\n            ",180],"}",["T_WHITESPACE"," ",181],["T_ELSE","else",181],["T_WHITESPACE"," ",181],"{",["T_WHITESPACE","\n                ",181],["T_VARIABLE","$this",182],["T_OBJECT_OPERATOR","->",182],["T_STRING","_redirect",182],"(",["T_WHITESPACE"," ",182],["T_STRING","Mage",182],["T_DOUBLE_COLON","::",182],["T_STRING","getSingleton",182],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/session'",182],")",["T_OBJECT_OPERATOR","->",182],["T_STRING","getUser",182],"(",")",["T_OBJECT_OPERATOR","->",182],["T_STRING","getStartupPageUrl",182],"(",")",["T_WHITESPACE"," ",182],")",";",["T_WHITESPACE","\n            ",182],"}",["T_WHITESPACE","\n            ",183],["T_RETURN","return",184],["T_WHITESPACE"," ",184],["T_VARIABLE","$this",184],";",["T_WHITESPACE","\n        ",184],"}",["T_WHITESPACE","\n\n        ",185],["T_IF","if",187],["T_WHITESPACE"," ",187],"(",["T_VARIABLE","$this",187],["T_OBJECT_OPERATOR","->",187],["T_STRING","getRequest",187],"(",")",["T_OBJECT_OPERATOR","->",187],["T_STRING","isDispatched",187],"(",")",["T_WHITESPACE","\n            ",187],["T_BOOLEAN_AND","&&",188],["T_WHITESPACE"," ",188],["T_VARIABLE","$this",188],["T_OBJECT_OPERATOR","->",188],["T_STRING","getRequest",188],"(",")",["T_OBJECT_OPERATOR","->",188],["T_STRING","getActionName",188],"(",")",["T_WHITESPACE"," ",188],["T_IS_NOT_IDENTICAL","!==",188],["T_WHITESPACE"," ",188],["T_CONSTANT_ENCAPSED_STRING","'denied'",188],["T_WHITESPACE","\n            ",188],["T_BOOLEAN_AND","&&",189],["T_WHITESPACE"," ",189],"!",["T_VARIABLE","$this",189],["T_OBJECT_OPERATOR","->",189],["T_STRING","_isAllowed",189],"(",")",")",["T_WHITESPACE"," ",189],"{",["T_WHITESPACE","\n            ",189],["T_VARIABLE","$this",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","_forward",190],"(",["T_CONSTANT_ENCAPSED_STRING","'denied'",190],")",";",["T_WHITESPACE","\n            ",190],["T_VARIABLE","$this",191],["T_OBJECT_OPERATOR","->",191],["T_STRING","setFlag",191],"(",["T_CONSTANT_ENCAPSED_STRING","''",191],",",["T_WHITESPACE"," ",191],["T_STRING","self",191],["T_DOUBLE_COLON","::",191],["T_STRING","FLAG_NO_DISPATCH",191],",",["T_WHITESPACE"," ",191],["T_STRING","true",191],")",";",["T_WHITESPACE","\n            ",191],["T_RETURN","return",192],["T_WHITESPACE"," ",192],["T_VARIABLE","$this",192],";",["T_WHITESPACE","\n        ",192],"}",["T_WHITESPACE","\n\n        ",193],["T_IF","if",195],["T_WHITESPACE"," ",195],"(","!",["T_VARIABLE","$this",195],["T_OBJECT_OPERATOR","->",195],["T_STRING","getFlag",195],"(",["T_CONSTANT_ENCAPSED_STRING","''",195],",",["T_WHITESPACE"," ",195],["T_STRING","self",195],["T_DOUBLE_COLON","::",195],["T_STRING","FLAG_IS_URLS_CHECKED",195],")",["T_WHITESPACE","\n            ",195],["T_BOOLEAN_AND","&&",196],["T_WHITESPACE"," ",196],"!",["T_VARIABLE","$this",196],["T_OBJECT_OPERATOR","->",196],["T_STRING","getRequest",196],"(",")",["T_OBJECT_OPERATOR","->",196],["T_STRING","getParam",196],"(",["T_CONSTANT_ENCAPSED_STRING","'forwarded'",196],")",["T_WHITESPACE","\n            ",196],["T_BOOLEAN_AND","&&",197],["T_WHITESPACE"," ",197],"!",["T_VARIABLE","$this",197],["T_OBJECT_OPERATOR","->",197],["T_STRING","_getSession",197],"(",")",["T_OBJECT_OPERATOR","->",197],["T_STRING","getIsUrlNotice",197],"(",["T_STRING","true",197],")",["T_WHITESPACE","\n            ",197],["T_BOOLEAN_AND","&&",198],["T_WHITESPACE"," ",198],"!",["T_STRING","Mage",198],["T_DOUBLE_COLON","::",198],["T_STRING","getConfig",198],"(",")",["T_OBJECT_OPERATOR","->",198],["T_STRING","getNode",198],"(",["T_CONSTANT_ENCAPSED_STRING","'global\/can_use_base_url'",198],")",")",["T_WHITESPACE"," ",198],"{",["T_WHITESPACE","\n            ",198],["T_COMMENT","\/\/$this->_checkUrlSettings();\n",199],["T_WHITESPACE","            ",200],["T_VARIABLE","$this",200],["T_OBJECT_OPERATOR","->",200],["T_STRING","setFlag",200],"(",["T_CONSTANT_ENCAPSED_STRING","''",200],",",["T_WHITESPACE"," ",200],["T_STRING","self",200],["T_DOUBLE_COLON","::",200],["T_STRING","FLAG_IS_URLS_CHECKED",200],",",["T_WHITESPACE"," ",200],["T_STRING","true",200],")",";",["T_WHITESPACE","\n        ",200],"}",["T_WHITESPACE","\n        ",201],["T_IF","if",202],["T_WHITESPACE"," ",202],"(",["T_STRING","is_null",202],"(",["T_STRING","Mage",202],["T_DOUBLE_COLON","::",202],["T_STRING","getSingleton",202],"(",["T_CONSTANT_ENCAPSED_STRING","'adminhtml\/session'",202],")",["T_OBJECT_OPERATOR","->",202],["T_STRING","getLocale",202],"(",")",")",")",["T_WHITESPACE"," ",202],"{",["T_WHITESPACE","\n            ",202],["T_STRING","Mage",203],["T_DOUBLE_COLON","::",203],["T_STRING","getSingleton",203],"(",["T_CONSTANT_ENCAPSED_STRING","'adminhtml\/session'",203],")",["T_OBJECT_OPERATOR","->",203],["T_STRING","setLocale",203],"(",["T_STRING","Mage",203],["T_DOUBLE_COLON","::",203],["T_STRING","app",203],"(",")",["T_OBJECT_OPERATOR","->",203],["T_STRING","getLocale",203],"(",")",["T_OBJECT_OPERATOR","->",203],["T_STRING","getLocaleCode",203],"(",")",")",";",["T_WHITESPACE","\n        ",203],"}",["T_WHITESPACE","\n\n        ",204],["T_RETURN","return",206],["T_WHITESPACE"," ",206],["T_VARIABLE","$this",206],";",["T_WHITESPACE","\n    ",206],"}",["T_WHITESPACE","\n\n    ",207],["T_DOC_COMMENT","\/**\n     * @deprecated after 1.4.0.0 alpha, logic moved to Mage_Adminhtml_Block_Notification_Baseurl\n     * @return Mage_Adminhtml_Controller_Action\n     *\/",209],["T_WHITESPACE","\n    ",212],["T_PROTECTED","protected",213],["T_WHITESPACE"," ",213],["T_FUNCTION","function",213],["T_WHITESPACE"," ",213],["T_STRING","_checkUrlSettings",213],"(",")",["T_WHITESPACE","\n    ",213],"{",["T_WHITESPACE","\n        ",214],["T_DOC_COMMENT","\/**\n         * Don't check for data saving actions\n         *\/",215],["T_WHITESPACE","\n        ",217],["T_IF","if",218],["T_WHITESPACE"," ",218],"(",["T_VARIABLE","$this",218],["T_OBJECT_OPERATOR","->",218],["T_STRING","getRequest",218],"(",")",["T_OBJECT_OPERATOR","->",218],["T_STRING","getPost",218],"(",")",["T_WHITESPACE"," ",218],["T_BOOLEAN_OR","||",218],["T_WHITESPACE"," ",218],["T_VARIABLE","$this",218],["T_OBJECT_OPERATOR","->",218],["T_STRING","getRequest",218],"(",")",["T_OBJECT_OPERATOR","->",218],["T_STRING","getQuery",218],"(",["T_CONSTANT_ENCAPSED_STRING","'isAjax'",218],")",")",["T_WHITESPACE"," ",218],"{",["T_WHITESPACE","\n            ",218],["T_RETURN","return",219],["T_WHITESPACE"," ",219],["T_VARIABLE","$this",219],";",["T_WHITESPACE","\n        ",219],"}",["T_WHITESPACE","\n\n        ",220],["T_VARIABLE","$configData",222],["T_WHITESPACE"," ",222],"=",["T_WHITESPACE"," ",222],["T_STRING","Mage",222],["T_DOUBLE_COLON","::",222],["T_STRING","getModel",222],"(",["T_CONSTANT_ENCAPSED_STRING","'core\/config_data'",222],")",";",["T_WHITESPACE","\n\n        ",222],["T_VARIABLE","$defaultUnsecure",224],["T_WHITESPACE"," ",224],"=",["T_WHITESPACE"," ",224],["T_STRING_CAST","(string)",224],["T_STRING","Mage",224],["T_DOUBLE_COLON","::",224],["T_STRING","getConfig",224],"(",")",["T_OBJECT_OPERATOR","->",224],["T_STRING","getNode",224],"(",["T_WHITESPACE","\n            ",224],["T_CONSTANT_ENCAPSED_STRING","'default\/'",225],["T_WHITESPACE"," ",225],".",["T_WHITESPACE"," ",225],["T_STRING","Mage_Core_Model_Store",225],["T_DOUBLE_COLON","::",225],["T_STRING","XML_PATH_UNSECURE_BASE_URL",225],["T_WHITESPACE","\n        ",225],")",";",["T_WHITESPACE","\n        ",226],["T_VARIABLE","$defaultSecure",227],["T_WHITESPACE"," ",227],"=",["T_WHITESPACE"," ",227],["T_STRING_CAST","(string)",227],["T_STRING","Mage",227],["T_DOUBLE_COLON","::",227],["T_STRING","getConfig",227],"(",")",["T_OBJECT_OPERATOR","->",227],["T_STRING","getNode",227],"(",["T_WHITESPACE","\n            ",227],["T_CONSTANT_ENCAPSED_STRING","'default\/'",228],["T_WHITESPACE"," ",228],".",["T_WHITESPACE"," ",228],["T_STRING","Mage_Core_Model_Store",228],["T_DOUBLE_COLON","::",228],["T_STRING","XML_PATH_SECURE_BASE_URL",228],["T_WHITESPACE","\n        ",228],")",";",["T_WHITESPACE","\n\n        ",229],["T_IF","if",231],["T_WHITESPACE"," ",231],"(",["T_VARIABLE","$defaultSecure",231],["T_WHITESPACE"," ",231],["T_IS_EQUAL","==",231],["T_WHITESPACE"," ",231],["T_CONSTANT_ENCAPSED_STRING","'{{base_url}}'",231],["T_WHITESPACE"," ",231],["T_BOOLEAN_OR","||",231],["T_WHITESPACE"," ",231],["T_VARIABLE","$defaultUnsecure",231],["T_WHITESPACE"," ",231],["T_IS_EQUAL","==",231],["T_WHITESPACE"," ",231],["T_CONSTANT_ENCAPSED_STRING","'{{base_url}}'",231],")",["T_WHITESPACE"," ",231],"{",["T_WHITESPACE","\n            ",231],["T_VARIABLE","$this",232],["T_OBJECT_OPERATOR","->",232],["T_STRING","_getSession",232],"(",")",["T_OBJECT_OPERATOR","->",232],["T_STRING","addNotice",232],"(",["T_WHITESPACE","\n                ",232],["T_VARIABLE","$this",233],["T_OBJECT_OPERATOR","->",233],["T_STRING","__",233],"(",["T_CONSTANT_ENCAPSED_STRING","'{{base_url}} is not recommended to use in a production environment to declare the Base Unsecure URL \/ Base Secure URL. It is highly recommended to change this value in your Magento <a href=\"%s\">configuration<\/a>.'",233],",",["T_WHITESPACE"," ",233],["T_VARIABLE","$this",233],["T_OBJECT_OPERATOR","->",233],["T_STRING","getUrl",233],"(",["T_CONSTANT_ENCAPSED_STRING","'adminhtml\/system_config\/edit'",233],",",["T_WHITESPACE"," ",233],["T_ARRAY","array",233],"(",["T_CONSTANT_ENCAPSED_STRING","'section'",233],["T_DOUBLE_ARROW","=>",233],["T_CONSTANT_ENCAPSED_STRING","'web'",233],")",")",")",["T_WHITESPACE","\n            ",233],")",";",["T_WHITESPACE","\n            ",234],["T_RETURN","return",235],["T_WHITESPACE"," ",235],["T_VARIABLE","$this",235],";",["T_WHITESPACE","\n        ",235],"}",["T_WHITESPACE","\n\n        ",236],["T_VARIABLE","$dataCollection",238],["T_WHITESPACE"," ",238],"=",["T_WHITESPACE"," ",238],["T_VARIABLE","$configData",238],["T_OBJECT_OPERATOR","->",238],["T_STRING","getCollection",238],"(",")",["T_WHITESPACE","\n            ",238],["T_OBJECT_OPERATOR","->",239],["T_STRING","addValueFilter",239],"(",["T_CONSTANT_ENCAPSED_STRING","'{{base_url}}'",239],")",";",["T_WHITESPACE","\n\n        ",239],["T_VARIABLE","$url",241],["T_WHITESPACE"," ",241],"=",["T_WHITESPACE"," ",241],["T_STRING","false",241],";",["T_WHITESPACE","\n        ",241],["T_FOREACH","foreach",242],["T_WHITESPACE"," ",242],"(",["T_VARIABLE","$dataCollection",242],["T_WHITESPACE"," ",242],["T_AS","as",242],["T_WHITESPACE"," ",242],["T_VARIABLE","$data",242],")",["T_WHITESPACE"," ",242],"{",["T_WHITESPACE","\n            ",242],["T_IF","if",243],["T_WHITESPACE"," ",243],"(",["T_VARIABLE","$data",243],["T_OBJECT_OPERATOR","->",243],["T_STRING","getScope",243],"(",")",["T_WHITESPACE"," ",243],["T_IS_EQUAL","==",243],["T_WHITESPACE"," ",243],["T_CONSTANT_ENCAPSED_STRING","'stores'",243],")",["T_WHITESPACE"," ",243],"{",["T_WHITESPACE","\n                ",243],["T_VARIABLE","$code",244],["T_WHITESPACE"," ",244],"=",["T_WHITESPACE"," ",244],["T_STRING","Mage",244],["T_DOUBLE_COLON","::",244],["T_STRING","app",244],"(",")",["T_OBJECT_OPERATOR","->",244],["T_STRING","getStore",244],"(",["T_VARIABLE","$data",244],["T_OBJECT_OPERATOR","->",244],["T_STRING","getScopeId",244],"(",")",")",["T_OBJECT_OPERATOR","->",244],["T_STRING","getCode",244],"(",")",";",["T_WHITESPACE","\n                ",244],["T_VARIABLE","$url",245],["T_WHITESPACE"," ",245],"=",["T_WHITESPACE"," ",245],["T_VARIABLE","$this",245],["T_OBJECT_OPERATOR","->",245],["T_STRING","getUrl",245],"(",["T_CONSTANT_ENCAPSED_STRING","'adminhtml\/system_config\/edit'",245],",",["T_WHITESPACE"," ",245],["T_ARRAY","array",245],"(",["T_CONSTANT_ENCAPSED_STRING","'section'",245],["T_DOUBLE_ARROW","=>",245],["T_CONSTANT_ENCAPSED_STRING","'web'",245],",",["T_WHITESPACE"," ",245],["T_CONSTANT_ENCAPSED_STRING","'store'",245],["T_DOUBLE_ARROW","=>",245],["T_VARIABLE","$code",245],")",")",";",["T_WHITESPACE","\n            ",245],"}",["T_WHITESPACE","\n            ",246],["T_IF","if",247],["T_WHITESPACE"," ",247],"(",["T_VARIABLE","$data",247],["T_OBJECT_OPERATOR","->",247],["T_STRING","getScope",247],"(",")",["T_WHITESPACE"," ",247],["T_IS_EQUAL","==",247],["T_WHITESPACE"," ",247],["T_CONSTANT_ENCAPSED_STRING","'websites'",247],")",["T_WHITESPACE"," ",247],"{",["T_WHITESPACE","\n                ",247],["T_VARIABLE","$code",248],["T_WHITESPACE"," ",248],"=",["T_WHITESPACE"," ",248],["T_STRING","Mage",248],["T_DOUBLE_COLON","::",248],["T_STRING","app",248],"(",")",["T_OBJECT_OPERATOR","->",248],["T_STRING","getWebsite",248],"(",["T_VARIABLE","$data",248],["T_OBJECT_OPERATOR","->",248],["T_STRING","getScopeId",248],"(",")",")",["T_OBJECT_OPERATOR","->",248],["T_STRING","getCode",248],"(",")",";",["T_WHITESPACE","\n                ",248],["T_VARIABLE","$url",249],["T_WHITESPACE"," ",249],"=",["T_WHITESPACE"," ",249],["T_VARIABLE","$this",249],["T_OBJECT_OPERATOR","->",249],["T_STRING","getUrl",249],"(",["T_CONSTANT_ENCAPSED_STRING","'adminhtml\/system_config\/edit'",249],",",["T_WHITESPACE"," ",249],["T_ARRAY","array",249],"(",["T_CONSTANT_ENCAPSED_STRING","'section'",249],["T_DOUBLE_ARROW","=>",249],["T_CONSTANT_ENCAPSED_STRING","'web'",249],",",["T_WHITESPACE"," ",249],["T_CONSTANT_ENCAPSED_STRING","'website'",249],["T_DOUBLE_ARROW","=>",249],["T_VARIABLE","$code",249],")",")",";",["T_WHITESPACE","\n            ",249],"}",["T_WHITESPACE","\n\n            ",250],["T_IF","if",252],["T_WHITESPACE"," ",252],"(",["T_VARIABLE","$url",252],")",["T_WHITESPACE"," ",252],"{",["T_WHITESPACE","\n                ",252],["T_VARIABLE","$this",253],["T_OBJECT_OPERATOR","->",253],["T_STRING","_getSession",253],"(",")",["T_OBJECT_OPERATOR","->",253],["T_STRING","addNotice",253],"(",["T_WHITESPACE","\n                    ",253],["T_VARIABLE","$this",254],["T_OBJECT_OPERATOR","->",254],["T_STRING","__",254],"(",["T_CONSTANT_ENCAPSED_STRING","'{{base_url}} is not recommended to use in a production environment to declare the Base Unsecure URL \/ Base Secure URL. It is highly recommended to change this value in your Magento <a href=\"%s\">configuration<\/a>.'",254],",",["T_WHITESPACE"," ",254],["T_VARIABLE","$url",254],")",["T_WHITESPACE","\n                ",254],")",";",["T_WHITESPACE","\n                ",255],["T_RETURN","return",256],["T_WHITESPACE"," ",256],["T_VARIABLE","$this",256],";",["T_WHITESPACE","\n            ",256],"}",["T_WHITESPACE","\n        ",257],"}",["T_WHITESPACE","\n        ",258],["T_RETURN","return",259],["T_WHITESPACE"," ",259],["T_VARIABLE","$this",259],";",["T_WHITESPACE","\n    ",259],"}",["T_WHITESPACE","\n\n    ",260],["T_PUBLIC","public",262],["T_WHITESPACE"," ",262],["T_FUNCTION","function",262],["T_WHITESPACE"," ",262],["T_STRING","deniedAction",262],"(",")",["T_WHITESPACE","\n    ",262],"{",["T_WHITESPACE","\n        ",263],["T_VARIABLE","$this",264],["T_OBJECT_OPERATOR","->",264],["T_STRING","getResponse",264],"(",")",["T_OBJECT_OPERATOR","->",264],["T_STRING","setHeader",264],"(",["T_CONSTANT_ENCAPSED_STRING","'HTTP\/1.1'",264],",",["T_CONSTANT_ENCAPSED_STRING","'403 Forbidden'",264],")",";",["T_WHITESPACE","\n        ",264],["T_IF","if",265],["T_WHITESPACE"," ",265],"(","!",["T_STRING","Mage",265],["T_DOUBLE_COLON","::",265],["T_STRING","getSingleton",265],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/session'",265],")",["T_OBJECT_OPERATOR","->",265],["T_STRING","isLoggedIn",265],"(",")",")",["T_WHITESPACE"," ",265],"{",["T_WHITESPACE","\n            ",265],["T_VARIABLE","$this",266],["T_OBJECT_OPERATOR","->",266],["T_STRING","_redirect",266],"(",["T_CONSTANT_ENCAPSED_STRING","'*\/index\/login'",266],")",";",["T_WHITESPACE","\n            ",266],["T_RETURN","return",267],";",["T_WHITESPACE","\n        ",267],"}",["T_WHITESPACE","\n        ",268],["T_VARIABLE","$this",269],["T_OBJECT_OPERATOR","->",269],["T_STRING","loadLayout",269],"(",["T_ARRAY","array",269],"(",["T_CONSTANT_ENCAPSED_STRING","'default'",269],",",["T_WHITESPACE"," ",269],["T_CONSTANT_ENCAPSED_STRING","'adminhtml_denied'",269],")",")",";",["T_WHITESPACE","\n        ",269],["T_VARIABLE","$this",270],["T_OBJECT_OPERATOR","->",270],["T_STRING","renderLayout",270],"(",")",";",["T_WHITESPACE","\n    ",270],"}",["T_WHITESPACE","\n\n    ",271],["T_PUBLIC","public",273],["T_WHITESPACE"," ",273],["T_FUNCTION","function",273],["T_WHITESPACE"," ",273],["T_STRING","loadLayout",273],"(",["T_VARIABLE","$ids",273],"=",["T_STRING","null",273],",",["T_WHITESPACE"," ",273],["T_VARIABLE","$generateBlocks",273],"=",["T_STRING","true",273],",",["T_WHITESPACE"," ",273],["T_VARIABLE","$generateXml",273],"=",["T_STRING","true",273],")",["T_WHITESPACE","\n    ",273],"{",["T_WHITESPACE","\n        ",274],["T_STRING","parent",275],["T_DOUBLE_COLON","::",275],["T_STRING","loadLayout",275],"(",["T_VARIABLE","$ids",275],",",["T_WHITESPACE"," ",275],["T_VARIABLE","$generateBlocks",275],",",["T_WHITESPACE"," ",275],["T_VARIABLE","$generateXml",275],")",";",["T_WHITESPACE","\n        ",275],["T_VARIABLE","$this",276],["T_OBJECT_OPERATOR","->",276],["T_STRING","_initLayoutMessages",276],"(",["T_CONSTANT_ENCAPSED_STRING","'adminhtml\/session'",276],")",";",["T_WHITESPACE","\n        ",276],["T_RETURN","return",277],["T_WHITESPACE"," ",277],["T_VARIABLE","$this",277],";",["T_WHITESPACE","\n    ",277],"}",["T_WHITESPACE","\n\n    ",278],["T_PUBLIC","public",280],["T_WHITESPACE"," ",280],["T_FUNCTION","function",280],["T_WHITESPACE"," ",280],["T_STRING","norouteAction",280],"(",["T_VARIABLE","$coreRoute",280],["T_WHITESPACE"," ",280],"=",["T_WHITESPACE"," ",280],["T_STRING","null",280],")",["T_WHITESPACE","\n    ",280],"{",["T_WHITESPACE","\n        ",281],["T_VARIABLE","$this",282],["T_OBJECT_OPERATOR","->",282],["T_STRING","getResponse",282],"(",")",["T_OBJECT_OPERATOR","->",282],["T_STRING","setHeader",282],"(",["T_CONSTANT_ENCAPSED_STRING","'HTTP\/1.1'",282],",",["T_CONSTANT_ENCAPSED_STRING","'404 Not Found'",282],")",";",["T_WHITESPACE","\n        ",282],["T_VARIABLE","$this",283],["T_OBJECT_OPERATOR","->",283],["T_STRING","getResponse",283],"(",")",["T_OBJECT_OPERATOR","->",283],["T_STRING","setHeader",283],"(",["T_CONSTANT_ENCAPSED_STRING","'Status'",283],",",["T_CONSTANT_ENCAPSED_STRING","'404 File not found'",283],")",";",["T_WHITESPACE","\n        ",283],["T_VARIABLE","$this",284],["T_OBJECT_OPERATOR","->",284],["T_STRING","loadLayout",284],"(",["T_ARRAY","array",284],"(",["T_CONSTANT_ENCAPSED_STRING","'default'",284],",",["T_WHITESPACE"," ",284],["T_CONSTANT_ENCAPSED_STRING","'adminhtml_noroute'",284],")",")",";",["T_WHITESPACE","\n        ",284],["T_VARIABLE","$this",285],["T_OBJECT_OPERATOR","->",285],["T_STRING","renderLayout",285],"(",")",";",["T_WHITESPACE","\n    ",285],"}",["T_WHITESPACE","\n\n\n    ",286],["T_DOC_COMMENT","\/**\n     * Retrieve currently used module name\n     *\n     * @return string\n     *\/",289],["T_WHITESPACE","\n    ",293],["T_PUBLIC","public",294],["T_WHITESPACE"," ",294],["T_FUNCTION","function",294],["T_WHITESPACE"," ",294],["T_STRING","getUsedModuleName",294],"(",")",["T_WHITESPACE","\n    ",294],"{",["T_WHITESPACE","\n        ",295],["T_RETURN","return",296],["T_WHITESPACE"," ",296],["T_VARIABLE","$this",296],["T_OBJECT_OPERATOR","->",296],["T_STRING","_usedModuleName",296],";",["T_WHITESPACE","\n    ",296],"}",["T_WHITESPACE","\n\n    ",297],["T_DOC_COMMENT","\/**\n     * Set currently used module name\n     *\n     * @param string $moduleName\n     * @return Mage_Adminhtml_Controller_Action\n     *\/",299],["T_WHITESPACE","\n    ",304],["T_PUBLIC","public",305],["T_WHITESPACE"," ",305],["T_FUNCTION","function",305],["T_WHITESPACE"," ",305],["T_STRING","setUsedModuleName",305],"(",["T_VARIABLE","$moduleName",305],")",["T_WHITESPACE","\n    ",305],"{",["T_WHITESPACE","\n        ",306],["T_VARIABLE","$this",307],["T_OBJECT_OPERATOR","->",307],["T_STRING","_usedModuleName",307],["T_WHITESPACE"," ",307],"=",["T_WHITESPACE"," ",307],["T_VARIABLE","$moduleName",307],";",["T_WHITESPACE","\n        ",307],["T_RETURN","return",308],["T_WHITESPACE"," ",308],["T_VARIABLE","$this",308],";",["T_WHITESPACE","\n    ",308],"}",["T_WHITESPACE","\n\n    ",309],["T_DOC_COMMENT","\/**\n     * Translate a phrase\n     *\n     * @return string\n     *\/",311],["T_WHITESPACE","\n    ",315],["T_PUBLIC","public",316],["T_WHITESPACE"," ",316],["T_FUNCTION","function",316],["T_WHITESPACE"," ",316],["T_STRING","__",316],"(",")",["T_WHITESPACE","\n    ",316],"{",["T_WHITESPACE","\n        ",317],["T_VARIABLE","$args",318],["T_WHITESPACE"," ",318],"=",["T_WHITESPACE"," ",318],["T_STRING","func_get_args",318],"(",")",";",["T_WHITESPACE","\n        ",318],["T_VARIABLE","$expr",319],["T_WHITESPACE"," ",319],"=",["T_WHITESPACE"," ",319],["T_NEW","new",319],["T_WHITESPACE"," ",319],["T_STRING","Mage_Core_Model_Translate_Expr",319],"(",["T_STRING","array_shift",319],"(",["T_VARIABLE","$args",319],")",",",["T_WHITESPACE"," ",319],["T_VARIABLE","$this",319],["T_OBJECT_OPERATOR","->",319],["T_STRING","getUsedModuleName",319],"(",")",")",";",["T_WHITESPACE","\n        ",319],["T_STRING","array_unshift",320],"(",["T_VARIABLE","$args",320],",",["T_WHITESPACE"," ",320],["T_VARIABLE","$expr",320],")",";",["T_WHITESPACE","\n        ",320],["T_RETURN","return",321],["T_WHITESPACE"," ",321],["T_STRING","Mage",321],["T_DOUBLE_COLON","::",321],["T_STRING","app",321],"(",")",["T_OBJECT_OPERATOR","->",321],["T_STRING","getTranslator",321],"(",")",["T_OBJECT_OPERATOR","->",321],["T_STRING","translate",321],"(",["T_VARIABLE","$args",321],")",";",["T_WHITESPACE","\n    ",321],"}",["T_WHITESPACE","\n\n    ",322],["T_DOC_COMMENT","\/**\n     * Set referer url for redirect in responce\n     *\n     * Is overriden here to set defaultUrl to admin url\n     *\n     * @param   string $defaultUrl\n     * @return  Mage_Adminhtml_Controller_Action\n     *\/",324],["T_WHITESPACE","\n    ",331],["T_PROTECTED","protected",332],["T_WHITESPACE"," ",332],["T_FUNCTION","function",332],["T_WHITESPACE"," ",332],["T_STRING","_redirectReferer",332],"(",["T_VARIABLE","$defaultUrl",332],"=",["T_STRING","null",332],")",["T_WHITESPACE","\n    ",332],"{",["T_WHITESPACE","\n        ",333],["T_VARIABLE","$defaultUrl",334],["T_WHITESPACE"," ",334],"=",["T_WHITESPACE"," ",334],["T_EMPTY","empty",334],"(",["T_VARIABLE","$defaultUrl",334],")",["T_WHITESPACE"," ",334],"?",["T_WHITESPACE"," ",334],["T_VARIABLE","$this",334],["T_OBJECT_OPERATOR","->",334],["T_STRING","getUrl",334],"(",["T_CONSTANT_ENCAPSED_STRING","'*'",334],")",["T_WHITESPACE"," ",334],":",["T_WHITESPACE"," ",334],["T_VARIABLE","$defaultUrl",334],";",["T_WHITESPACE","\n        ",334],["T_STRING","parent",335],["T_DOUBLE_COLON","::",335],["T_STRING","_redirectReferer",335],"(",["T_VARIABLE","$defaultUrl",335],")",";",["T_WHITESPACE","\n        ",335],["T_RETURN","return",336],["T_WHITESPACE"," ",336],["T_VARIABLE","$this",336],";",["T_WHITESPACE","\n    ",336],"}",["T_WHITESPACE","\n\n    ",337],["T_DOC_COMMENT","\/**\n     * Set redirect into responce\n     *\n     * @param   string $path\n     * @param   array $arguments\n     *\/",339],["T_WHITESPACE","\n    ",344],["T_PROTECTED","protected",345],["T_WHITESPACE"," ",345],["T_FUNCTION","function",345],["T_WHITESPACE"," ",345],["T_STRING","_redirect",345],"(",["T_VARIABLE","$path",345],",",["T_WHITESPACE"," ",345],["T_VARIABLE","$arguments",345],"=",["T_ARRAY","array",345],"(",")",")",["T_WHITESPACE","\n    ",345],"{",["T_WHITESPACE","\n        ",346],["T_VARIABLE","$this",347],["T_OBJECT_OPERATOR","->",347],["T_STRING","_getSession",347],"(",")",["T_OBJECT_OPERATOR","->",347],["T_STRING","setIsUrlNotice",347],"(",["T_VARIABLE","$this",347],["T_OBJECT_OPERATOR","->",347],["T_STRING","getFlag",347],"(",["T_CONSTANT_ENCAPSED_STRING","''",347],",",["T_WHITESPACE"," ",347],["T_STRING","self",347],["T_DOUBLE_COLON","::",347],["T_STRING","FLAG_IS_URLS_CHECKED",347],")",")",";",["T_WHITESPACE","\n        ",347],["T_VARIABLE","$this",348],["T_OBJECT_OPERATOR","->",348],["T_STRING","getResponse",348],"(",")",["T_OBJECT_OPERATOR","->",348],["T_STRING","setRedirect",348],"(",["T_VARIABLE","$this",348],["T_OBJECT_OPERATOR","->",348],["T_STRING","getUrl",348],"(",["T_VARIABLE","$path",348],",",["T_WHITESPACE"," ",348],["T_VARIABLE","$arguments",348],")",")",";",["T_WHITESPACE","\n        ",348],["T_RETURN","return",349],["T_WHITESPACE"," ",349],["T_VARIABLE","$this",349],";",["T_WHITESPACE","\n    ",349],"}",["T_WHITESPACE","\n\n    ",350],["T_PROTECTED","protected",352],["T_WHITESPACE"," ",352],["T_FUNCTION","function",352],["T_WHITESPACE"," ",352],["T_STRING","_forward",352],"(",["T_VARIABLE","$action",352],",",["T_WHITESPACE"," ",352],["T_VARIABLE","$controller",352],["T_WHITESPACE"," ",352],"=",["T_WHITESPACE"," ",352],["T_STRING","null",352],",",["T_WHITESPACE"," ",352],["T_VARIABLE","$module",352],["T_WHITESPACE"," ",352],"=",["T_WHITESPACE"," ",352],["T_STRING","null",352],",",["T_WHITESPACE"," ",352],["T_ARRAY","array",352],["T_WHITESPACE"," ",352],["T_VARIABLE","$params",352],["T_WHITESPACE"," ",352],"=",["T_WHITESPACE"," ",352],["T_STRING","null",352],")",["T_WHITESPACE","\n    ",352],"{",["T_WHITESPACE","\n        ",353],["T_VARIABLE","$this",354],["T_OBJECT_OPERATOR","->",354],["T_STRING","_getSession",354],"(",")",["T_OBJECT_OPERATOR","->",354],["T_STRING","setIsUrlNotice",354],"(",["T_VARIABLE","$this",354],["T_OBJECT_OPERATOR","->",354],["T_STRING","getFlag",354],"(",["T_CONSTANT_ENCAPSED_STRING","''",354],",",["T_WHITESPACE"," ",354],["T_STRING","self",354],["T_DOUBLE_COLON","::",354],["T_STRING","FLAG_IS_URLS_CHECKED",354],")",")",";",["T_WHITESPACE","\n        ",354],["T_RETURN","return",355],["T_WHITESPACE"," ",355],["T_STRING","parent",355],["T_DOUBLE_COLON","::",355],["T_STRING","_forward",355],"(",["T_VARIABLE","$action",355],",",["T_WHITESPACE"," ",355],["T_VARIABLE","$controller",355],",",["T_WHITESPACE"," ",355],["T_VARIABLE","$module",355],",",["T_WHITESPACE"," ",355],["T_VARIABLE","$params",355],")",";",["T_WHITESPACE","\n    ",355],"}",["T_WHITESPACE","\n\n    ",356],["T_DOC_COMMENT","\/**\n     * Generate url by route and parameters\n     *\n     * @param   string $route\n     * @param   array $params\n     * @return  string\n     *\/",358],["T_WHITESPACE","\n    ",364],["T_PUBLIC","public",365],["T_WHITESPACE"," ",365],["T_FUNCTION","function",365],["T_WHITESPACE"," ",365],["T_STRING","getUrl",365],"(",["T_VARIABLE","$route",365],"=",["T_CONSTANT_ENCAPSED_STRING","''",365],",",["T_WHITESPACE"," ",365],["T_VARIABLE","$params",365],"=",["T_ARRAY","array",365],"(",")",")",["T_WHITESPACE","\n    ",365],"{",["T_WHITESPACE","\n        ",366],["T_RETURN","return",367],["T_WHITESPACE"," ",367],["T_STRING","Mage",367],["T_DOUBLE_COLON","::",367],["T_STRING","helper",367],"(",["T_CONSTANT_ENCAPSED_STRING","'adminhtml'",367],")",["T_OBJECT_OPERATOR","->",367],["T_STRING","getUrl",367],"(",["T_VARIABLE","$route",367],",",["T_WHITESPACE"," ",367],["T_VARIABLE","$params",367],")",";",["T_WHITESPACE","\n    ",367],"}",["T_WHITESPACE","\n\n    ",368],["T_DOC_COMMENT","\/**\n     * Validate Secret Key\n     *\n     * @return bool\n     *\/",370],["T_WHITESPACE","\n    ",374],["T_PROTECTED","protected",375],["T_WHITESPACE"," ",375],["T_FUNCTION","function",375],["T_WHITESPACE"," ",375],["T_STRING","_validateSecretKey",375],"(",")",["T_WHITESPACE","\n    ",375],"{",["T_WHITESPACE","\n        ",376],["T_IF","if",377],["T_WHITESPACE"," ",377],"(",["T_STRING","is_array",377],"(",["T_VARIABLE","$this",377],["T_OBJECT_OPERATOR","->",377],["T_STRING","_publicActions",377],")",["T_WHITESPACE"," ",377],["T_BOOLEAN_AND","&&",377],["T_WHITESPACE"," ",377],["T_STRING","in_array",377],"(",["T_VARIABLE","$this",377],["T_OBJECT_OPERATOR","->",377],["T_STRING","getRequest",377],"(",")",["T_OBJECT_OPERATOR","->",377],["T_STRING","getActionName",377],"(",")",",",["T_WHITESPACE"," ",377],["T_VARIABLE","$this",377],["T_OBJECT_OPERATOR","->",377],["T_STRING","_publicActions",377],")",")",["T_WHITESPACE"," ",377],"{",["T_WHITESPACE","\n            ",377],["T_RETURN","return",378],["T_WHITESPACE"," ",378],["T_STRING","true",378],";",["T_WHITESPACE","\n        ",378],"}",["T_WHITESPACE","\n\n        ",379],["T_IF","if",381],["T_WHITESPACE"," ",381],"(","!","(",["T_VARIABLE","$secretKey",381],["T_WHITESPACE"," ",381],"=",["T_WHITESPACE"," ",381],["T_VARIABLE","$this",381],["T_OBJECT_OPERATOR","->",381],["T_STRING","getRequest",381],"(",")",["T_OBJECT_OPERATOR","->",381],["T_STRING","getParam",381],"(",["T_STRING","Mage_Adminhtml_Model_Url",381],["T_DOUBLE_COLON","::",381],["T_STRING","SECRET_KEY_PARAM_NAME",381],",",["T_WHITESPACE"," ",381],["T_STRING","null",381],")",")",["T_WHITESPACE","\n            ",381],["T_BOOLEAN_OR","||",382],["T_WHITESPACE"," ",382],["T_VARIABLE","$secretKey",382],["T_WHITESPACE"," ",382],["T_IS_NOT_EQUAL","!=",382],["T_WHITESPACE"," ",382],["T_STRING","Mage",382],["T_DOUBLE_COLON","::",382],["T_STRING","getSingleton",382],"(",["T_CONSTANT_ENCAPSED_STRING","'adminhtml\/url'",382],")",["T_OBJECT_OPERATOR","->",382],["T_STRING","getSecretKey",382],"(",")",")",["T_WHITESPACE"," ",382],"{",["T_WHITESPACE","\n            ",382],["T_RETURN","return",383],["T_WHITESPACE"," ",383],["T_STRING","false",383],";",["T_WHITESPACE","\n        ",383],"}",["T_WHITESPACE","\n        ",384],["T_RETURN","return",385],["T_WHITESPACE"," ",385],["T_STRING","true",385],";",["T_WHITESPACE","\n    ",385],"}",["T_WHITESPACE","\n\n    ",386],["T_DOC_COMMENT","\/**\n     * Validate password for current admin user\n     *\n     * @param string $password - current password\n     *\n     * @return mixed - returns true or array of errors\n     *\/",388],["T_WHITESPACE","\n    ",394],["T_PROTECTED","protected",395],["T_WHITESPACE"," ",395],["T_FUNCTION","function",395],["T_WHITESPACE"," ",395],["T_STRING","_validateCurrentPassword",395],"(",["T_VARIABLE","$password",395],")",["T_WHITESPACE","\n    ",395],"{",["T_WHITESPACE","\n        ",396],["T_VARIABLE","$user",397],["T_WHITESPACE"," ",397],"=",["T_WHITESPACE"," ",397],["T_STRING","Mage",397],["T_DOUBLE_COLON","::",397],["T_STRING","getSingleton",397],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/session'",397],")",["T_OBJECT_OPERATOR","->",397],["T_STRING","getUser",397],"(",")",";",["T_WHITESPACE","\n        ",397],["T_RETURN","return",398],["T_WHITESPACE"," ",398],["T_VARIABLE","$user",398],["T_OBJECT_OPERATOR","->",398],["T_STRING","validateCurrentPassword",398],"(",["T_VARIABLE","$password",398],")",";",["T_WHITESPACE","\n    ",398],"}",["T_WHITESPACE","\n",399],"}",["T_WHITESPACE","\n",400]]