[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Magento\n *\n * NOTICE OF LICENSE\n *\n * This source file is subject to the Open Software License (OSL 3.0)\n * that is bundled with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/opensource.org\/licenses\/osl-3.0.php\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@magento.com so we can send you a copy immediately.\n *\n * DISCLAIMER\n *\n * Do not edit or add to this file if you wish to upgrade Magento to newer\n * versions in the future. If you wish to customize Magento for your\n * needs please refer to http:\/\/www.magento.com for more information.\n *\n * @category    Mage\n * @package     Mage_Adminhtml\n * @copyright  Copyright (c) 2006-2016 X.commerce, Inc. and affiliates (http:\/\/www.magento.com)\n * @license    http:\/\/opensource.org\/licenses\/osl-3.0.php  Open Software License (OSL 3.0)\n *\/",2],["T_WHITESPACE","\n\n",25],["T_DOC_COMMENT","\/**\n * Adminhtml dashboard most active buyers\n *\n * @category   Mage\n * @package    Mage_Adminhtml\n * @author      Magento Core Team <core@magentocommerce.com>\n *\/",27],["T_WHITESPACE","\n\n",33],["T_CLASS","class",35],["T_WHITESPACE"," ",35],["T_STRING","Mage_Adminhtml_Block_Dashboard_Tab_Customers_Most",35],["T_WHITESPACE"," ",35],["T_EXTENDS","extends",35],["T_WHITESPACE"," ",35],["T_STRING","Mage_Adminhtml_Block_Dashboard_Grid",35],["T_WHITESPACE","\n",35],"{",["T_WHITESPACE","\n\n    ",36],["T_PUBLIC","public",38],["T_WHITESPACE"," ",38],["T_FUNCTION","function",38],["T_WHITESPACE"," ",38],["T_STRING","__construct",38],"(",")",["T_WHITESPACE","\n    ",38],"{",["T_WHITESPACE","\n        ",39],["T_STRING","parent",40],["T_DOUBLE_COLON","::",40],["T_STRING","__construct",40],"(",")",";",["T_WHITESPACE","\n        ",40],["T_VARIABLE","$this",41],["T_OBJECT_OPERATOR","->",41],["T_STRING","setId",41],"(",["T_CONSTANT_ENCAPSED_STRING","'customersMostGrid'",41],")",";",["T_WHITESPACE","\n    ",41],"}",["T_WHITESPACE","\n\n    ",42],["T_PROTECTED","protected",44],["T_WHITESPACE"," ",44],["T_FUNCTION","function",44],["T_WHITESPACE"," ",44],["T_STRING","_prepareCollection",44],"(",")",["T_WHITESPACE","\n    ",44],"{",["T_WHITESPACE","\n        ",45],["T_VARIABLE","$collection",46],["T_WHITESPACE"," ",46],"=",["T_WHITESPACE"," ",46],["T_STRING","Mage",46],["T_DOUBLE_COLON","::",46],["T_STRING","getResourceModel",46],"(",["T_CONSTANT_ENCAPSED_STRING","'reports\/order_collection'",46],")",";",["T_WHITESPACE","\n        ",46],["T_COMMENT","\/* @var $collection Mage_Reports_Model_Mysql4_Order_Collection *\/",47],["T_WHITESPACE","\n        ",47],["T_VARIABLE","$collection",48],["T_WHITESPACE","\n            ",48],["T_OBJECT_OPERATOR","->",49],["T_STRING","groupByCustomer",49],"(",")",["T_WHITESPACE","\n            ",49],["T_OBJECT_OPERATOR","->",50],["T_STRING","addOrdersCount",50],"(",")",["T_WHITESPACE","\n            ",50],["T_OBJECT_OPERATOR","->",51],["T_STRING","joinCustomerName",51],"(",")",";",["T_WHITESPACE","\n\n        ",51],["T_VARIABLE","$storeFilter",53],["T_WHITESPACE"," ",53],"=",["T_WHITESPACE"," ",53],["T_LNUMBER","0",53],";",["T_WHITESPACE","\n        ",53],["T_IF","if",54],["T_WHITESPACE"," ",54],"(",["T_VARIABLE","$this",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","getParam",54],"(",["T_CONSTANT_ENCAPSED_STRING","'store'",54],")",")",["T_WHITESPACE"," ",54],"{",["T_WHITESPACE","\n            ",54],["T_VARIABLE","$collection",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","addAttributeToFilter",55],"(",["T_CONSTANT_ENCAPSED_STRING","'store_id'",55],",",["T_WHITESPACE"," ",55],["T_VARIABLE","$this",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","getParam",55],"(",["T_CONSTANT_ENCAPSED_STRING","'store'",55],")",")",";",["T_WHITESPACE","\n            ",55],["T_VARIABLE","$storeFilter",56],["T_WHITESPACE"," ",56],"=",["T_WHITESPACE"," ",56],["T_LNUMBER","1",56],";",["T_WHITESPACE","\n        ",56],"}",["T_WHITESPACE"," ",57],["T_ELSE","else",57],["T_WHITESPACE"," ",57],["T_IF","if",57],["T_WHITESPACE"," ",57],"(",["T_VARIABLE","$this",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","getParam",57],"(",["T_CONSTANT_ENCAPSED_STRING","'website'",57],")",")","{",["T_WHITESPACE","\n            ",57],["T_VARIABLE","$storeIds",58],["T_WHITESPACE"," ",58],"=",["T_WHITESPACE"," ",58],["T_STRING","Mage",58],["T_DOUBLE_COLON","::",58],["T_STRING","app",58],"(",")",["T_OBJECT_OPERATOR","->",58],["T_STRING","getWebsite",58],"(",["T_VARIABLE","$this",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","getParam",58],"(",["T_CONSTANT_ENCAPSED_STRING","'website'",58],")",")",["T_OBJECT_OPERATOR","->",58],["T_STRING","getStoreIds",58],"(",")",";",["T_WHITESPACE","\n            ",58],["T_VARIABLE","$collection",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","addAttributeToFilter",59],"(",["T_CONSTANT_ENCAPSED_STRING","'store_id'",59],",",["T_WHITESPACE"," ",59],["T_ARRAY","array",59],"(",["T_CONSTANT_ENCAPSED_STRING","'in'",59],["T_WHITESPACE"," ",59],["T_DOUBLE_ARROW","=>",59],["T_WHITESPACE"," ",59],["T_VARIABLE","$storeIds",59],")",")",";",["T_WHITESPACE","\n        ",59],"}",["T_WHITESPACE"," ",60],["T_ELSE","else",60],["T_WHITESPACE"," ",60],["T_IF","if",60],["T_WHITESPACE"," ",60],"(",["T_VARIABLE","$this",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","getParam",60],"(",["T_CONSTANT_ENCAPSED_STRING","'group'",60],")",")","{",["T_WHITESPACE","\n            ",60],["T_VARIABLE","$storeIds",61],["T_WHITESPACE"," ",61],"=",["T_WHITESPACE"," ",61],["T_STRING","Mage",61],["T_DOUBLE_COLON","::",61],["T_STRING","app",61],"(",")",["T_OBJECT_OPERATOR","->",61],["T_STRING","getGroup",61],"(",["T_VARIABLE","$this",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","getParam",61],"(",["T_CONSTANT_ENCAPSED_STRING","'group'",61],")",")",["T_OBJECT_OPERATOR","->",61],["T_STRING","getStoreIds",61],"(",")",";",["T_WHITESPACE","\n            ",61],["T_VARIABLE","$collection",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","addAttributeToFilter",62],"(",["T_CONSTANT_ENCAPSED_STRING","'store_id'",62],",",["T_WHITESPACE"," ",62],["T_ARRAY","array",62],"(",["T_CONSTANT_ENCAPSED_STRING","'in'",62],["T_WHITESPACE"," ",62],["T_DOUBLE_ARROW","=>",62],["T_WHITESPACE"," ",62],["T_VARIABLE","$storeIds",62],")",")",";",["T_WHITESPACE","\n        ",62],"}",["T_WHITESPACE","\n\n        ",63],["T_VARIABLE","$collection",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","addSumAvgTotals",65],"(",["T_VARIABLE","$storeFilter",65],")",["T_WHITESPACE","\n            ",65],["T_OBJECT_OPERATOR","->",66],["T_STRING","orderByTotalAmount",66],"(",")",";",["T_WHITESPACE","\n\n        ",66],["T_VARIABLE","$this",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","setCollection",68],"(",["T_VARIABLE","$collection",68],")",";",["T_WHITESPACE","\n\n        ",68],["T_RETURN","return",70],["T_WHITESPACE"," ",70],["T_STRING","parent",70],["T_DOUBLE_COLON","::",70],["T_STRING","_prepareCollection",70],"(",")",";",["T_WHITESPACE","\n    ",70],"}",["T_WHITESPACE","\n\n    ",71],["T_PROTECTED","protected",73],["T_WHITESPACE"," ",73],["T_FUNCTION","function",73],["T_WHITESPACE"," ",73],["T_STRING","_prepareColumns",73],"(",")",["T_WHITESPACE","\n    ",73],"{",["T_WHITESPACE","\n        ",74],["T_VARIABLE","$this",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","addColumn",75],"(",["T_CONSTANT_ENCAPSED_STRING","'name'",75],",",["T_WHITESPACE"," ",75],["T_ARRAY","array",75],"(",["T_WHITESPACE","\n            ",75],["T_CONSTANT_ENCAPSED_STRING","'header'",76],["T_WHITESPACE","    ",76],["T_DOUBLE_ARROW","=>",76],["T_WHITESPACE"," ",76],["T_VARIABLE","$this",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","__",76],"(",["T_CONSTANT_ENCAPSED_STRING","'Customer Name'",76],")",",",["T_WHITESPACE","\n            ",76],["T_CONSTANT_ENCAPSED_STRING","'sortable'",77],["T_WHITESPACE","  ",77],["T_DOUBLE_ARROW","=>",77],["T_WHITESPACE"," ",77],["T_STRING","false",77],",",["T_WHITESPACE","\n            ",77],["T_CONSTANT_ENCAPSED_STRING","'index'",78],["T_WHITESPACE","     ",78],["T_DOUBLE_ARROW","=>",78],["T_WHITESPACE"," ",78],["T_CONSTANT_ENCAPSED_STRING","'name'",78],["T_WHITESPACE","\n        ",78],")",")",";",["T_WHITESPACE","\n\n        ",79],["T_VARIABLE","$this",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","addColumn",81],"(",["T_CONSTANT_ENCAPSED_STRING","'orders_count'",81],",",["T_WHITESPACE"," ",81],["T_ARRAY","array",81],"(",["T_WHITESPACE","\n            ",81],["T_CONSTANT_ENCAPSED_STRING","'header'",82],["T_WHITESPACE","    ",82],["T_DOUBLE_ARROW","=>",82],["T_WHITESPACE"," ",82],["T_VARIABLE","$this",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","__",82],"(",["T_CONSTANT_ENCAPSED_STRING","'Number of Orders'",82],")",",",["T_WHITESPACE","\n            ",82],["T_CONSTANT_ENCAPSED_STRING","'sortable'",83],["T_WHITESPACE","  ",83],["T_DOUBLE_ARROW","=>",83],["T_WHITESPACE"," ",83],["T_STRING","false",83],",",["T_WHITESPACE","\n            ",83],["T_CONSTANT_ENCAPSED_STRING","'index'",84],["T_WHITESPACE","     ",84],["T_DOUBLE_ARROW","=>",84],["T_WHITESPACE"," ",84],["T_CONSTANT_ENCAPSED_STRING","'orders_count'",84],",",["T_WHITESPACE","\n            ",84],["T_CONSTANT_ENCAPSED_STRING","'type'",85],["T_WHITESPACE","      ",85],["T_DOUBLE_ARROW","=>",85],["T_WHITESPACE"," ",85],["T_CONSTANT_ENCAPSED_STRING","'number'",85],["T_WHITESPACE","\n        ",85],")",")",";",["T_WHITESPACE","\n\n        ",86],["T_VARIABLE","$baseCurrencyCode",88],["T_WHITESPACE"," ",88],"=",["T_WHITESPACE"," ",88],["T_STRING_CAST","(string)",88],["T_WHITESPACE"," ",88],["T_STRING","Mage",88],["T_DOUBLE_COLON","::",88],["T_STRING","app",88],"(",")",["T_OBJECT_OPERATOR","->",88],["T_STRING","getStore",88],"(",["T_INT_CAST","(int)",88],["T_VARIABLE","$this",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","getParam",88],"(",["T_CONSTANT_ENCAPSED_STRING","'store'",88],")",")",["T_OBJECT_OPERATOR","->",88],["T_STRING","getBaseCurrencyCode",88],"(",")",";",["T_WHITESPACE","\n\n        ",88],["T_VARIABLE","$this",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","addColumn",90],"(",["T_CONSTANT_ENCAPSED_STRING","'orders_avg_amount'",90],",",["T_WHITESPACE"," ",90],["T_ARRAY","array",90],"(",["T_WHITESPACE","\n            ",90],["T_CONSTANT_ENCAPSED_STRING","'header'",91],["T_WHITESPACE","    ",91],["T_DOUBLE_ARROW","=>",91],["T_WHITESPACE"," ",91],["T_VARIABLE","$this",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","__",91],"(",["T_CONSTANT_ENCAPSED_STRING","'Average Order Amount'",91],")",",",["T_WHITESPACE","\n            ",91],["T_CONSTANT_ENCAPSED_STRING","'align'",92],["T_WHITESPACE","     ",92],["T_DOUBLE_ARROW","=>",92],["T_WHITESPACE"," ",92],["T_CONSTANT_ENCAPSED_STRING","'right'",92],",",["T_WHITESPACE","\n            ",92],["T_CONSTANT_ENCAPSED_STRING","'sortable'",93],["T_WHITESPACE","  ",93],["T_DOUBLE_ARROW","=>",93],["T_WHITESPACE"," ",93],["T_STRING","false",93],",",["T_WHITESPACE","\n            ",93],["T_CONSTANT_ENCAPSED_STRING","'type'",94],["T_WHITESPACE","      ",94],["T_DOUBLE_ARROW","=>",94],["T_WHITESPACE"," ",94],["T_CONSTANT_ENCAPSED_STRING","'currency'",94],",",["T_WHITESPACE","\n            ",94],["T_CONSTANT_ENCAPSED_STRING","'currency_code'",95],["T_WHITESPACE","  ",95],["T_DOUBLE_ARROW","=>",95],["T_WHITESPACE"," ",95],["T_VARIABLE","$baseCurrencyCode",95],",",["T_WHITESPACE","\n            ",95],["T_CONSTANT_ENCAPSED_STRING","'index'",96],["T_WHITESPACE","     ",96],["T_DOUBLE_ARROW","=>",96],["T_WHITESPACE"," ",96],["T_CONSTANT_ENCAPSED_STRING","'orders_avg_amount'",96],["T_WHITESPACE","\n        ",96],")",")",";",["T_WHITESPACE","\n\n        ",97],["T_VARIABLE","$this",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","addColumn",99],"(",["T_CONSTANT_ENCAPSED_STRING","'orders_sum_amount'",99],",",["T_WHITESPACE"," ",99],["T_ARRAY","array",99],"(",["T_WHITESPACE","\n            ",99],["T_CONSTANT_ENCAPSED_STRING","'header'",100],["T_WHITESPACE","    ",100],["T_DOUBLE_ARROW","=>",100],["T_WHITESPACE"," ",100],["T_VARIABLE","$this",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","__",100],"(",["T_CONSTANT_ENCAPSED_STRING","'Total Order Amount'",100],")",",",["T_WHITESPACE","\n            ",100],["T_CONSTANT_ENCAPSED_STRING","'align'",101],["T_WHITESPACE","     ",101],["T_DOUBLE_ARROW","=>",101],["T_WHITESPACE"," ",101],["T_CONSTANT_ENCAPSED_STRING","'right'",101],",",["T_WHITESPACE","\n            ",101],["T_CONSTANT_ENCAPSED_STRING","'sortable'",102],["T_WHITESPACE","  ",102],["T_DOUBLE_ARROW","=>",102],["T_WHITESPACE"," ",102],["T_STRING","false",102],",",["T_WHITESPACE","\n            ",102],["T_CONSTANT_ENCAPSED_STRING","'type'",103],["T_WHITESPACE","      ",103],["T_DOUBLE_ARROW","=>",103],["T_WHITESPACE"," ",103],["T_CONSTANT_ENCAPSED_STRING","'currency'",103],",",["T_WHITESPACE","\n            ",103],["T_CONSTANT_ENCAPSED_STRING","'currency_code'",104],["T_WHITESPACE","  ",104],["T_DOUBLE_ARROW","=>",104],["T_WHITESPACE"," ",104],["T_VARIABLE","$baseCurrencyCode",104],",",["T_WHITESPACE","\n            ",104],["T_CONSTANT_ENCAPSED_STRING","'index'",105],["T_WHITESPACE","     ",105],["T_DOUBLE_ARROW","=>",105],["T_WHITESPACE"," ",105],["T_CONSTANT_ENCAPSED_STRING","'orders_sum_amount'",105],["T_WHITESPACE","\n        ",105],")",")",";",["T_WHITESPACE","\n\n        ",106],["T_VARIABLE","$this",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","setFilterVisibility",108],"(",["T_STRING","false",108],")",";",["T_WHITESPACE","\n        ",108],["T_VARIABLE","$this",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","setPagerVisibility",109],"(",["T_STRING","false",109],")",";",["T_WHITESPACE","\n\n        ",109],["T_RETURN","return",111],["T_WHITESPACE"," ",111],["T_STRING","parent",111],["T_DOUBLE_COLON","::",111],["T_STRING","_prepareColumns",111],"(",")",";",["T_WHITESPACE","\n    ",111],"}",["T_WHITESPACE","\n\n    ",112],["T_PUBLIC","public",114],["T_WHITESPACE"," ",114],["T_FUNCTION","function",114],["T_WHITESPACE"," ",114],["T_STRING","getRowUrl",114],"(",["T_VARIABLE","$row",114],")",["T_WHITESPACE","\n    ",114],"{",["T_WHITESPACE","\n        ",115],["T_RETURN","return",116],["T_WHITESPACE"," ",116],["T_VARIABLE","$this",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","getUrl",116],"(",["T_CONSTANT_ENCAPSED_STRING","'*\/customer\/edit'",116],",",["T_WHITESPACE"," ",116],["T_ARRAY","array",116],"(",["T_CONSTANT_ENCAPSED_STRING","'id'",116],["T_DOUBLE_ARROW","=>",116],["T_VARIABLE","$row",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","getCustomerId",116],"(",")",")",")",";",["T_WHITESPACE","\n    ",116],"}",["T_WHITESPACE","\n",117],"}",["T_WHITESPACE","\n",118]]