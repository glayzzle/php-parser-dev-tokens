[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Magento\n *\n * NOTICE OF LICENSE\n *\n * This source file is subject to the Open Software License (OSL 3.0)\n * that is bundled with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/opensource.org\/licenses\/osl-3.0.php\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@magento.com so we can send you a copy immediately.\n *\n * DISCLAIMER\n *\n * Do not edit or add to this file if you wish to upgrade Magento to newer\n * versions in the future. If you wish to customize Magento for your\n * needs please refer to http:\/\/www.magento.com for more information.\n *\n * @category    Mage\n * @package     Mage_Adminhtml\n * @copyright  Copyright (c) 2006-2016 X.commerce, Inc. and affiliates (http:\/\/www.magento.com)\n * @license    http:\/\/opensource.org\/licenses\/osl-3.0.php  Open Software License (OSL 3.0)\n *\/",2],["T_WHITESPACE","\n\n",25],["T_DOC_COMMENT","\/**\n * Dashboard admin controller\n *\n * @category   Mage\n * @package    Mage_Adminhtml\n * @author      Magento Core Team <core@magentocommerce.com>\n *\/",27],["T_WHITESPACE","\n",33],["T_CLASS","class",34],["T_WHITESPACE"," ",34],["T_STRING","Mage_Adminhtml_DashboardController",34],["T_WHITESPACE"," ",34],["T_EXTENDS","extends",34],["T_WHITESPACE"," ",34],["T_STRING","Mage_Adminhtml_Controller_Action",34],["T_WHITESPACE","\n",34],"{",["T_WHITESPACE","\n    ",35],["T_PUBLIC","public",36],["T_WHITESPACE"," ",36],["T_FUNCTION","function",36],["T_WHITESPACE"," ",36],["T_STRING","indexAction",36],"(",")",["T_WHITESPACE","\n    ",36],"{",["T_WHITESPACE","\n        ",37],["T_VARIABLE","$this",38],["T_OBJECT_OPERATOR","->",38],["T_STRING","_title",38],"(",["T_VARIABLE","$this",38],["T_OBJECT_OPERATOR","->",38],["T_STRING","__",38],"(",["T_CONSTANT_ENCAPSED_STRING","'Dashboard'",38],")",")",";",["T_WHITESPACE","\n\n        ",38],["T_VARIABLE","$this",40],["T_OBJECT_OPERATOR","->",40],["T_STRING","loadLayout",40],"(",")",";",["T_WHITESPACE","\n        ",40],["T_VARIABLE","$this",41],["T_OBJECT_OPERATOR","->",41],["T_STRING","_setActiveMenu",41],"(",["T_CONSTANT_ENCAPSED_STRING","'dashboard'",41],")",";",["T_WHITESPACE","\n        ",41],["T_VARIABLE","$this",42],["T_OBJECT_OPERATOR","->",42],["T_STRING","_addBreadcrumb",42],"(",["T_STRING","Mage",42],["T_DOUBLE_COLON","::",42],["T_STRING","helper",42],"(",["T_CONSTANT_ENCAPSED_STRING","'adminhtml'",42],")",["T_OBJECT_OPERATOR","->",42],["T_STRING","__",42],"(",["T_CONSTANT_ENCAPSED_STRING","'Dashboard'",42],")",",",["T_WHITESPACE"," ",42],["T_STRING","Mage",42],["T_DOUBLE_COLON","::",42],["T_STRING","helper",42],"(",["T_CONSTANT_ENCAPSED_STRING","'adminhtml'",42],")",["T_OBJECT_OPERATOR","->",42],["T_STRING","__",42],"(",["T_CONSTANT_ENCAPSED_STRING","'Dashboard'",42],")",")",";",["T_WHITESPACE","\n        ",42],["T_VARIABLE","$this",43],["T_OBJECT_OPERATOR","->",43],["T_STRING","renderLayout",43],"(",")",";",["T_WHITESPACE","\n    ",43],"}",["T_WHITESPACE","\n\n    ",44],["T_DOC_COMMENT","\/**\n     * Gets most viewed products list\n     *\n     *\/",46],["T_WHITESPACE","\n    ",49],["T_PUBLIC","public",50],["T_WHITESPACE"," ",50],["T_FUNCTION","function",50],["T_WHITESPACE"," ",50],["T_STRING","productsViewedAction",50],"(",")",["T_WHITESPACE","\n    ",50],"{",["T_WHITESPACE","\n        ",51],["T_VARIABLE","$this",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","loadLayout",52],"(",")",";",["T_WHITESPACE","\n        ",52],["T_VARIABLE","$this",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","renderLayout",53],"(",")",";",["T_WHITESPACE","\n    ",53],"}",["T_WHITESPACE","\n\n    ",54],["T_DOC_COMMENT","\/**\n     * Gets latest customers list\n     *\n     *\/",56],["T_WHITESPACE","\n    ",59],["T_PUBLIC","public",60],["T_WHITESPACE"," ",60],["T_FUNCTION","function",60],["T_WHITESPACE"," ",60],["T_STRING","customersNewestAction",60],"(",")",["T_WHITESPACE","\n    ",60],"{",["T_WHITESPACE","\n        ",61],["T_VARIABLE","$this",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","loadLayout",62],"(",")",";",["T_WHITESPACE","\n        ",62],["T_VARIABLE","$this",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","renderLayout",63],"(",")",";",["T_WHITESPACE","\n    ",63],"}",["T_WHITESPACE","\n\n    ",64],["T_DOC_COMMENT","\/**\n     * Gets the list of most active customers\n     *\n     *\/",66],["T_WHITESPACE","\n    ",69],["T_PUBLIC","public",70],["T_WHITESPACE"," ",70],["T_FUNCTION","function",70],["T_WHITESPACE"," ",70],["T_STRING","customersMostAction",70],"(",")",["T_WHITESPACE","\n    ",70],"{",["T_WHITESPACE","\n        ",71],["T_VARIABLE","$this",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","loadLayout",72],"(",")",";",["T_WHITESPACE","\n        ",72],["T_VARIABLE","$this",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","renderLayout",73],"(",")",";",["T_WHITESPACE","\n    ",73],"}",["T_WHITESPACE","\n\n    ",74],["T_PUBLIC","public",76],["T_WHITESPACE"," ",76],["T_FUNCTION","function",76],["T_WHITESPACE"," ",76],["T_STRING","ajaxBlockAction",76],"(",")",["T_WHITESPACE","\n    ",76],"{",["T_WHITESPACE","\n        ",77],["T_VARIABLE","$output",78],["T_WHITESPACE","   ",78],"=",["T_WHITESPACE"," ",78],["T_CONSTANT_ENCAPSED_STRING","''",78],";",["T_WHITESPACE","\n        ",78],["T_VARIABLE","$blockTab",79],["T_WHITESPACE"," ",79],"=",["T_WHITESPACE"," ",79],["T_VARIABLE","$this",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","getRequest",79],"(",")",["T_OBJECT_OPERATOR","->",79],["T_STRING","getParam",79],"(",["T_CONSTANT_ENCAPSED_STRING","'block'",79],")",";",["T_WHITESPACE","\n        ",79],["T_IF","if",80],["T_WHITESPACE"," ",80],"(",["T_STRING","in_array",80],"(",["T_VARIABLE","$blockTab",80],",",["T_WHITESPACE"," ",80],["T_ARRAY","array",80],"(",["T_CONSTANT_ENCAPSED_STRING","'tab_orders'",80],",",["T_WHITESPACE"," ",80],["T_CONSTANT_ENCAPSED_STRING","'tab_amounts'",80],",",["T_WHITESPACE"," ",80],["T_CONSTANT_ENCAPSED_STRING","'totals'",80],")",")",")",["T_WHITESPACE"," ",80],"{",["T_WHITESPACE","\n            ",80],["T_VARIABLE","$output",81],["T_WHITESPACE"," ",81],"=",["T_WHITESPACE"," ",81],["T_VARIABLE","$this",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","getLayout",81],"(",")",["T_OBJECT_OPERATOR","->",81],["T_STRING","createBlock",81],"(",["T_CONSTANT_ENCAPSED_STRING","'adminhtml\/dashboard_'",81],["T_WHITESPACE"," ",81],".",["T_WHITESPACE"," ",81],["T_VARIABLE","$blockTab",81],")",["T_OBJECT_OPERATOR","->",81],["T_STRING","toHtml",81],"(",")",";",["T_WHITESPACE","\n        ",81],"}",["T_WHITESPACE","\n        ",82],["T_VARIABLE","$this",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","getResponse",83],"(",")",["T_OBJECT_OPERATOR","->",83],["T_STRING","setBody",83],"(",["T_VARIABLE","$output",83],")",";",["T_WHITESPACE","\n        ",83],["T_RETURN","return",84],";",["T_WHITESPACE","\n    ",84],"}",["T_WHITESPACE","\n\n    ",85],["T_PUBLIC","public",87],["T_WHITESPACE"," ",87],["T_FUNCTION","function",87],["T_WHITESPACE"," ",87],["T_STRING","tunnelAction",87],"(",")",["T_WHITESPACE","\n    ",87],"{",["T_WHITESPACE","\n        ",88],["T_VARIABLE","$httpClient",89],["T_WHITESPACE"," ",89],"=",["T_WHITESPACE"," ",89],["T_NEW","new",89],["T_WHITESPACE"," ",89],["T_STRING","Varien_Http_Client",89],"(",")",";",["T_WHITESPACE","\n        ",89],["T_VARIABLE","$gaData",90],["T_WHITESPACE"," ",90],"=",["T_WHITESPACE"," ",90],["T_VARIABLE","$this",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","getRequest",90],"(",")",["T_OBJECT_OPERATOR","->",90],["T_STRING","getParam",90],"(",["T_CONSTANT_ENCAPSED_STRING","'ga'",90],")",";",["T_WHITESPACE","\n        ",90],["T_VARIABLE","$gaHash",91],["T_WHITESPACE"," ",91],"=",["T_WHITESPACE"," ",91],["T_VARIABLE","$this",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","getRequest",91],"(",")",["T_OBJECT_OPERATOR","->",91],["T_STRING","getParam",91],"(",["T_CONSTANT_ENCAPSED_STRING","'h'",91],")",";",["T_WHITESPACE","\n        ",91],["T_IF","if",92],["T_WHITESPACE"," ",92],"(",["T_VARIABLE","$gaData",92],["T_WHITESPACE"," ",92],["T_BOOLEAN_AND","&&",92],["T_WHITESPACE"," ",92],["T_VARIABLE","$gaHash",92],")",["T_WHITESPACE"," ",92],"{",["T_WHITESPACE","\n            ",92],["T_VARIABLE","$newHash",93],["T_WHITESPACE"," ",93],"=",["T_WHITESPACE"," ",93],["T_STRING","Mage",93],["T_DOUBLE_COLON","::",93],["T_STRING","helper",93],"(",["T_CONSTANT_ENCAPSED_STRING","'adminhtml\/dashboard_data'",93],")",["T_OBJECT_OPERATOR","->",93],["T_STRING","getChartDataHash",93],"(",["T_VARIABLE","$gaData",93],")",";",["T_WHITESPACE","\n            ",93],["T_IF","if",94],["T_WHITESPACE"," ",94],"(",["T_STRING","hash_equals",94],"(",["T_VARIABLE","$newHash",94],",",["T_WHITESPACE"," ",94],["T_VARIABLE","$gaHash",94],")",")",["T_WHITESPACE"," ",94],"{",["T_WHITESPACE","\n                ",94],["T_VARIABLE","$params",95],["T_WHITESPACE"," ",95],"=",["T_WHITESPACE"," ",95],["T_STRING","json_decode",95],"(",["T_STRING","base64_decode",95],"(",["T_STRING","urldecode",95],"(",["T_VARIABLE","$gaData",95],")",")",",",["T_WHITESPACE"," ",95],["T_STRING","true",95],")",";",["T_WHITESPACE","\n                ",95],["T_IF","if",96],["T_WHITESPACE"," ",96],"(",["T_VARIABLE","$params",96],")",["T_WHITESPACE"," ",96],"{",["T_WHITESPACE","\n                    ",96],["T_VARIABLE","$response",97],["T_WHITESPACE"," ",97],"=",["T_WHITESPACE"," ",97],["T_VARIABLE","$httpClient",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","setUri",97],"(",["T_STRING","Mage_Adminhtml_Block_Dashboard_Graph",97],["T_DOUBLE_COLON","::",97],["T_STRING","API_URL",97],")",["T_WHITESPACE","\n                            ",97],["T_OBJECT_OPERATOR","->",98],["T_STRING","setParameterGet",98],"(",["T_VARIABLE","$params",98],")",["T_WHITESPACE","\n                            ",98],["T_OBJECT_OPERATOR","->",99],["T_STRING","setConfig",99],"(",["T_ARRAY","array",99],"(",["T_CONSTANT_ENCAPSED_STRING","'timeout'",99],["T_WHITESPACE"," ",99],["T_DOUBLE_ARROW","=>",99],["T_WHITESPACE"," ",99],["T_LNUMBER","5",99],")",")",["T_WHITESPACE","\n                            ",99],["T_OBJECT_OPERATOR","->",100],["T_STRING","request",100],"(",["T_CONSTANT_ENCAPSED_STRING","'GET'",100],")",";",["T_WHITESPACE","\n\n                    ",100],["T_VARIABLE","$headers",102],["T_WHITESPACE"," ",102],"=",["T_WHITESPACE"," ",102],["T_VARIABLE","$response",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","getHeaders",102],"(",")",";",["T_WHITESPACE","\n\n                    ",102],["T_VARIABLE","$this",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","getResponse",104],"(",")",["T_WHITESPACE","\n                        ",104],["T_OBJECT_OPERATOR","->",105],["T_STRING","setHeader",105],"(",["T_CONSTANT_ENCAPSED_STRING","'Content-type'",105],",",["T_WHITESPACE"," ",105],["T_VARIABLE","$headers",105],"[",["T_CONSTANT_ENCAPSED_STRING","'Content-type'",105],"]",")",["T_WHITESPACE","\n                        ",105],["T_OBJECT_OPERATOR","->",106],["T_STRING","setBody",106],"(",["T_VARIABLE","$response",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","getBody",106],"(",")",")",";",["T_WHITESPACE","\n                ",106],"}",["T_WHITESPACE","\n            ",107],"}",["T_WHITESPACE","\n        ",108],"}",["T_WHITESPACE","\n    ",109],"}",["T_WHITESPACE","\n\n    ",110],["T_PROTECTED","protected",112],["T_WHITESPACE"," ",112],["T_FUNCTION","function",112],["T_WHITESPACE"," ",112],["T_STRING","_isAllowed",112],"(",")",["T_WHITESPACE","\n    ",112],"{",["T_WHITESPACE","\n        ",113],["T_RETURN","return",114],["T_WHITESPACE"," ",114],["T_STRING","Mage",114],["T_DOUBLE_COLON","::",114],["T_STRING","getSingleton",114],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/session'",114],")",["T_OBJECT_OPERATOR","->",114],["T_STRING","isAllowed",114],"(",["T_CONSTANT_ENCAPSED_STRING","'dashboard'",114],")",";",["T_WHITESPACE","\n    ",114],"}",["T_WHITESPACE","\n",115],"}",["T_WHITESPACE","\n",116]]