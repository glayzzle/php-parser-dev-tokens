[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Magento\n *\n * NOTICE OF LICENSE\n *\n * This source file is subject to the Open Software License (OSL 3.0)\n * that is bundled with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/opensource.org\/licenses\/osl-3.0.php\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@magento.com so we can send you a copy immediately.\n *\n * DISCLAIMER\n *\n * Do not edit or add to this file if you wish to upgrade Magento to newer\n * versions in the future. If you wish to customize Magento for your\n * needs please refer to http:\/\/www.magento.com for more information.\n *\n * @category    Mage\n * @package     Mage_Adminhtml\n * @copyright  Copyright (c) 2006-2016 X.commerce, Inc. and affiliates (http:\/\/www.magento.com)\n * @license    http:\/\/opensource.org\/licenses\/osl-3.0.php  Open Software License (OSL 3.0)\n *\/",2],["T_WHITESPACE","\n\n",25],["T_DOC_COMMENT","\/**\n * Adminhtml invoice items grid\n *\n * @category   Mage\n * @package    Mage_Adminhtml\n * @author      Magento Core Team <core@magentocommerce.com>\n *\/",27],["T_WHITESPACE","\n\n",33],["T_CLASS","class",35],["T_WHITESPACE"," ",35],["T_STRING","Mage_Adminhtml_Block_Sales_Order_Invoice_Create_Items",35],["T_WHITESPACE"," ",35],["T_EXTENDS","extends",35],["T_WHITESPACE"," ",35],["T_STRING","Mage_Adminhtml_Block_Sales_Items_Abstract",35],["T_WHITESPACE","\n",35],"{",["T_WHITESPACE","\n    ",36],["T_PROTECTED","protected",37],["T_WHITESPACE"," ",37],["T_VARIABLE","$_disableSubmitButton",37],["T_WHITESPACE"," ",37],"=",["T_WHITESPACE"," ",37],["T_STRING","false",37],";",["T_WHITESPACE","\n\n    ",37],["T_DOC_COMMENT","\/**\n     * Prepare child blocks\n     *\n     * @return Mage_Adminhtml_Block_Sales_Order_Invoice_Create_Items\n     *\/",39],["T_WHITESPACE","\n    ",43],["T_PROTECTED","protected",44],["T_WHITESPACE"," ",44],["T_FUNCTION","function",44],["T_WHITESPACE"," ",44],["T_STRING","_beforeToHtml",44],"(",")",["T_WHITESPACE","\n    ",44],"{",["T_WHITESPACE","\n        ",45],["T_VARIABLE","$onclick",46],["T_WHITESPACE"," ",46],"=",["T_WHITESPACE"," ",46],["T_CONSTANT_ENCAPSED_STRING","\"submitAndReloadArea($('invoice_item_container'),'\"",46],".",["T_VARIABLE","$this",46],["T_OBJECT_OPERATOR","->",46],["T_STRING","getUpdateUrl",46],"(",")",".",["T_CONSTANT_ENCAPSED_STRING","\"')\"",46],";",["T_WHITESPACE","\n        ",46],["T_VARIABLE","$this",47],["T_OBJECT_OPERATOR","->",47],["T_STRING","setChild",47],"(",["T_WHITESPACE","\n            ",47],["T_CONSTANT_ENCAPSED_STRING","'update_button'",48],",",["T_WHITESPACE","\n            ",48],["T_VARIABLE","$this",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","getLayout",49],"(",")",["T_OBJECT_OPERATOR","->",49],["T_STRING","createBlock",49],"(",["T_CONSTANT_ENCAPSED_STRING","'adminhtml\/widget_button'",49],")",["T_OBJECT_OPERATOR","->",49],["T_STRING","setData",49],"(",["T_ARRAY","array",49],"(",["T_WHITESPACE","\n                ",49],["T_CONSTANT_ENCAPSED_STRING","'class'",50],["T_WHITESPACE","     ",50],["T_DOUBLE_ARROW","=>",50],["T_WHITESPACE"," ",50],["T_CONSTANT_ENCAPSED_STRING","'update-button'",50],",",["T_WHITESPACE","\n                ",50],["T_CONSTANT_ENCAPSED_STRING","'label'",51],["T_WHITESPACE","     ",51],["T_DOUBLE_ARROW","=>",51],["T_WHITESPACE"," ",51],["T_STRING","Mage",51],["T_DOUBLE_COLON","::",51],["T_STRING","helper",51],"(",["T_CONSTANT_ENCAPSED_STRING","'sales'",51],")",["T_OBJECT_OPERATOR","->",51],["T_STRING","__",51],"(",["T_CONSTANT_ENCAPSED_STRING","'Update Qty\\'s'",51],")",",",["T_WHITESPACE","\n                ",51],["T_CONSTANT_ENCAPSED_STRING","'onclick'",52],["T_WHITESPACE","   ",52],["T_DOUBLE_ARROW","=>",52],["T_WHITESPACE"," ",52],["T_VARIABLE","$onclick",52],",",["T_WHITESPACE","\n            ",52],")",")",["T_WHITESPACE","\n        ",53],")",";",["T_WHITESPACE","\n        ",54],["T_VARIABLE","$this",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","_disableSubmitButton",55],["T_WHITESPACE"," ",55],"=",["T_WHITESPACE"," ",55],["T_STRING","true",55],";",["T_WHITESPACE","\n        ",55],["T_VARIABLE","$_submitButtonClass",56],["T_WHITESPACE"," ",56],"=",["T_WHITESPACE"," ",56],["T_CONSTANT_ENCAPSED_STRING","' disabled'",56],";",["T_WHITESPACE","\n        ",56],["T_FOREACH","foreach",57],["T_WHITESPACE"," ",57],"(",["T_VARIABLE","$this",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","getInvoice",57],"(",")",["T_OBJECT_OPERATOR","->",57],["T_STRING","getAllItems",57],"(",")",["T_WHITESPACE"," ",57],["T_AS","as",57],["T_WHITESPACE"," ",57],["T_VARIABLE","$item",57],")",["T_WHITESPACE"," ",57],"{",["T_WHITESPACE","\n            ",57],["T_DOC_COMMENT","\/**\n             * @see bug #14839\n             *\/",58],["T_WHITESPACE","\n            ",60],["T_IF","if",61],["T_WHITESPACE"," ",61],"(",["T_VARIABLE","$item",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","getQty",61],"(",")",["T_COMMENT","\/* || $this->getSource()->getData('base_grand_total')*\/",61],")",["T_WHITESPACE"," ",61],"{",["T_WHITESPACE","\n                ",61],["T_VARIABLE","$this",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","_disableSubmitButton",62],["T_WHITESPACE"," ",62],"=",["T_WHITESPACE"," ",62],["T_STRING","false",62],";",["T_WHITESPACE","\n                ",62],["T_VARIABLE","$_submitButtonClass",63],["T_WHITESPACE"," ",63],"=",["T_WHITESPACE"," ",63],["T_CONSTANT_ENCAPSED_STRING","''",63],";",["T_WHITESPACE","\n                ",63],["T_BREAK","break",64],";",["T_WHITESPACE","\n            ",64],"}",["T_WHITESPACE","\n        ",65],"}",["T_WHITESPACE","\n        ",66],["T_IF","if",67],["T_WHITESPACE"," ",67],"(",["T_VARIABLE","$this",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","getOrder",67],"(",")",["T_OBJECT_OPERATOR","->",67],["T_STRING","getForcedDoShipmentWithInvoice",67],"(",")",")",["T_WHITESPACE"," ",67],"{",["T_WHITESPACE","\n            ",67],["T_VARIABLE","$_submitLabel",68],["T_WHITESPACE"," ",68],"=",["T_WHITESPACE"," ",68],["T_STRING","Mage",68],["T_DOUBLE_COLON","::",68],["T_STRING","helper",68],"(",["T_CONSTANT_ENCAPSED_STRING","'sales'",68],")",["T_OBJECT_OPERATOR","->",68],["T_STRING","__",68],"(",["T_CONSTANT_ENCAPSED_STRING","'Submit Invoice and Shipment'",68],")",";",["T_WHITESPACE","\n        ",68],"}",["T_WHITESPACE"," ",69],["T_ELSE","else",69],["T_WHITESPACE"," ",69],"{",["T_WHITESPACE","\n            ",69],["T_VARIABLE","$_submitLabel",70],["T_WHITESPACE"," ",70],"=",["T_WHITESPACE"," ",70],["T_STRING","Mage",70],["T_DOUBLE_COLON","::",70],["T_STRING","helper",70],"(",["T_CONSTANT_ENCAPSED_STRING","'sales'",70],")",["T_OBJECT_OPERATOR","->",70],["T_STRING","__",70],"(",["T_CONSTANT_ENCAPSED_STRING","'Submit Invoice'",70],")",";",["T_WHITESPACE","\n        ",70],"}",["T_WHITESPACE","\n        ",71],["T_VARIABLE","$this",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","setChild",72],"(",["T_WHITESPACE","\n            ",72],["T_CONSTANT_ENCAPSED_STRING","'submit_button'",73],",",["T_WHITESPACE","\n            ",73],["T_VARIABLE","$this",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","getLayout",74],"(",")",["T_OBJECT_OPERATOR","->",74],["T_STRING","createBlock",74],"(",["T_CONSTANT_ENCAPSED_STRING","'adminhtml\/widget_button'",74],")",["T_OBJECT_OPERATOR","->",74],["T_STRING","setData",74],"(",["T_ARRAY","array",74],"(",["T_WHITESPACE","\n                ",74],["T_CONSTANT_ENCAPSED_STRING","'label'",75],["T_WHITESPACE","     ",75],["T_DOUBLE_ARROW","=>",75],["T_WHITESPACE"," ",75],["T_VARIABLE","$_submitLabel",75],",",["T_WHITESPACE","\n                ",75],["T_CONSTANT_ENCAPSED_STRING","'class'",76],["T_WHITESPACE","     ",76],["T_DOUBLE_ARROW","=>",76],["T_WHITESPACE"," ",76],["T_CONSTANT_ENCAPSED_STRING","'save submit-button'",76],["T_WHITESPACE"," ",76],".",["T_WHITESPACE"," ",76],["T_VARIABLE","$_submitButtonClass",76],",",["T_WHITESPACE","\n                ",76],["T_CONSTANT_ENCAPSED_STRING","'onclick'",77],["T_WHITESPACE","   ",77],["T_DOUBLE_ARROW","=>",77],["T_WHITESPACE"," ",77],["T_CONSTANT_ENCAPSED_STRING","'disableElements(\\'submit-button\\');$(\\'edit_form\\').submit()'",77],",",["T_WHITESPACE","\n                ",77],["T_CONSTANT_ENCAPSED_STRING","'disabled'",78],["T_WHITESPACE","  ",78],["T_DOUBLE_ARROW","=>",78],["T_WHITESPACE"," ",78],["T_VARIABLE","$this",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","_disableSubmitButton",78],["T_WHITESPACE","\n            ",78],")",")",["T_WHITESPACE","\n        ",79],")",";",["T_WHITESPACE","\n\n        ",80],["T_RETURN","return",82],["T_WHITESPACE"," ",82],["T_STRING","parent",82],["T_DOUBLE_COLON","::",82],["T_STRING","_prepareLayout",82],"(",")",";",["T_WHITESPACE","\n    ",82],"}",["T_WHITESPACE","\n\n    ",83],["T_DOC_COMMENT","\/**\n     * Get is submit button disabled or not\n     *\n     * @return boolean\n     *\/",85],["T_WHITESPACE","\n    ",89],["T_PUBLIC","public",90],["T_WHITESPACE"," ",90],["T_FUNCTION","function",90],["T_WHITESPACE"," ",90],["T_STRING","getDisableSubmitButton",90],"(",")",["T_WHITESPACE","\n    ",90],"{",["T_WHITESPACE","\n        ",91],["T_RETURN","return",92],["T_WHITESPACE"," ",92],["T_VARIABLE","$this",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","_disableSubmitButton",92],";",["T_WHITESPACE","\n    ",92],"}",["T_WHITESPACE","\n\n    ",93],["T_DOC_COMMENT","\/**\n     * Retrieve invoice order\n     *\n     * @return Mage_Sales_Model_Order\n     *\/",95],["T_WHITESPACE","\n    ",99],["T_PUBLIC","public",100],["T_WHITESPACE"," ",100],["T_FUNCTION","function",100],["T_WHITESPACE"," ",100],["T_STRING","getOrder",100],"(",")",["T_WHITESPACE","\n    ",100],"{",["T_WHITESPACE","\n        ",101],["T_RETURN","return",102],["T_WHITESPACE"," ",102],["T_VARIABLE","$this",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","getInvoice",102],"(",")",["T_OBJECT_OPERATOR","->",102],["T_STRING","getOrder",102],"(",")",";",["T_WHITESPACE","\n    ",102],"}",["T_WHITESPACE","\n\n    ",103],["T_DOC_COMMENT","\/**\n     * Retrieve source\n     *\n     * @return Mage_Sales_Model_Order_Invoice\n     *\/",105],["T_WHITESPACE","\n    ",109],["T_PUBLIC","public",110],["T_WHITESPACE"," ",110],["T_FUNCTION","function",110],["T_WHITESPACE"," ",110],["T_STRING","getSource",110],"(",")",["T_WHITESPACE","\n    ",110],"{",["T_WHITESPACE","\n        ",111],["T_RETURN","return",112],["T_WHITESPACE"," ",112],["T_VARIABLE","$this",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","getInvoice",112],"(",")",";",["T_WHITESPACE","\n    ",112],"}",["T_WHITESPACE","\n\n    ",113],["T_DOC_COMMENT","\/**\n     * Retrieve invoice model instance\n     *\n     * @return Mage_Sales_Model_Order_Invoice\n     *\/",115],["T_WHITESPACE","\n    ",119],["T_PUBLIC","public",120],["T_WHITESPACE"," ",120],["T_FUNCTION","function",120],["T_WHITESPACE"," ",120],["T_STRING","getInvoice",120],"(",")",["T_WHITESPACE","\n    ",120],"{",["T_WHITESPACE","\n        ",121],["T_RETURN","return",122],["T_WHITESPACE"," ",122],["T_STRING","Mage",122],["T_DOUBLE_COLON","::",122],["T_STRING","registry",122],"(",["T_CONSTANT_ENCAPSED_STRING","'current_invoice'",122],")",";",["T_WHITESPACE","\n    ",122],"}",["T_WHITESPACE","\n\n    ",123],["T_DOC_COMMENT","\/**\n     * Retrieve order totals block settings\n     *\n     * @return array\n     *\/",125],["T_WHITESPACE","\n    ",129],["T_PUBLIC","public",130],["T_WHITESPACE"," ",130],["T_FUNCTION","function",130],["T_WHITESPACE"," ",130],["T_STRING","getOrderTotalData",130],"(",")",["T_WHITESPACE","\n    ",130],"{",["T_WHITESPACE","\n        ",131],["T_RETURN","return",132],["T_WHITESPACE"," ",132],["T_ARRAY","array",132],"(",")",";",["T_WHITESPACE","\n    ",132],"}",["T_WHITESPACE","\n\n    ",133],["T_DOC_COMMENT","\/**\n     * Retrieve order totalbar block data\n     *\n     * @return array\n     *\/",135],["T_WHITESPACE","\n    ",139],["T_PUBLIC","public",140],["T_WHITESPACE"," ",140],["T_FUNCTION","function",140],["T_WHITESPACE"," ",140],["T_STRING","getOrderTotalbarData",140],"(",")",["T_WHITESPACE","\n    ",140],"{",["T_WHITESPACE","\n        ",141],["T_VARIABLE","$totalbarData",142],["T_WHITESPACE"," ",142],"=",["T_WHITESPACE"," ",142],["T_ARRAY","array",142],"(",")",";",["T_WHITESPACE","\n        ",142],["T_VARIABLE","$this",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","setPriceDataObject",143],"(",["T_VARIABLE","$this",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","getInvoice",143],"(",")",["T_OBJECT_OPERATOR","->",143],["T_STRING","getOrder",143],"(",")",")",";",["T_WHITESPACE","\n        ",143],["T_VARIABLE","$totalbarData",144],"[","]",["T_WHITESPACE"," ",144],"=",["T_WHITESPACE"," ",144],["T_ARRAY","array",144],"(",["T_STRING","Mage",144],["T_DOUBLE_COLON","::",144],["T_STRING","helper",144],"(",["T_CONSTANT_ENCAPSED_STRING","'sales'",144],")",["T_OBJECT_OPERATOR","->",144],["T_STRING","__",144],"(",["T_CONSTANT_ENCAPSED_STRING","'Paid Amount'",144],")",",",["T_WHITESPACE"," ",144],["T_VARIABLE","$this",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","displayPriceAttribute",144],"(",["T_CONSTANT_ENCAPSED_STRING","'amount_paid'",144],")",",",["T_WHITESPACE"," ",144],["T_STRING","false",144],")",";",["T_WHITESPACE","\n        ",144],["T_VARIABLE","$totalbarData",145],"[","]",["T_WHITESPACE"," ",145],"=",["T_WHITESPACE"," ",145],["T_ARRAY","array",145],"(",["T_STRING","Mage",145],["T_DOUBLE_COLON","::",145],["T_STRING","helper",145],"(",["T_CONSTANT_ENCAPSED_STRING","'sales'",145],")",["T_OBJECT_OPERATOR","->",145],["T_STRING","__",145],"(",["T_CONSTANT_ENCAPSED_STRING","'Refund Amount'",145],")",",",["T_WHITESPACE"," ",145],["T_VARIABLE","$this",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","displayPriceAttribute",145],"(",["T_CONSTANT_ENCAPSED_STRING","'amount_refunded'",145],")",",",["T_WHITESPACE"," ",145],["T_STRING","false",145],")",";",["T_WHITESPACE","\n        ",145],["T_VARIABLE","$totalbarData",146],"[","]",["T_WHITESPACE"," ",146],"=",["T_WHITESPACE"," ",146],["T_ARRAY","array",146],"(",["T_STRING","Mage",146],["T_DOUBLE_COLON","::",146],["T_STRING","helper",146],"(",["T_CONSTANT_ENCAPSED_STRING","'sales'",146],")",["T_OBJECT_OPERATOR","->",146],["T_STRING","__",146],"(",["T_CONSTANT_ENCAPSED_STRING","'Shipping Amount'",146],")",",",["T_WHITESPACE"," ",146],["T_VARIABLE","$this",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","displayPriceAttribute",146],"(",["T_CONSTANT_ENCAPSED_STRING","'shipping_captured'",146],")",",",["T_WHITESPACE"," ",146],["T_STRING","false",146],")",";",["T_WHITESPACE","\n        ",146],["T_VARIABLE","$totalbarData",147],"[","]",["T_WHITESPACE"," ",147],"=",["T_WHITESPACE"," ",147],["T_ARRAY","array",147],"(",["T_STRING","Mage",147],["T_DOUBLE_COLON","::",147],["T_STRING","helper",147],"(",["T_CONSTANT_ENCAPSED_STRING","'sales'",147],")",["T_OBJECT_OPERATOR","->",147],["T_STRING","__",147],"(",["T_CONSTANT_ENCAPSED_STRING","'Shipping Refund'",147],")",",",["T_WHITESPACE"," ",147],["T_VARIABLE","$this",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","displayPriceAttribute",147],"(",["T_CONSTANT_ENCAPSED_STRING","'shipping_refunded'",147],")",",",["T_WHITESPACE"," ",147],["T_STRING","false",147],")",";",["T_WHITESPACE","\n        ",147],["T_VARIABLE","$totalbarData",148],"[","]",["T_WHITESPACE"," ",148],"=",["T_WHITESPACE"," ",148],["T_ARRAY","array",148],"(",["T_STRING","Mage",148],["T_DOUBLE_COLON","::",148],["T_STRING","helper",148],"(",["T_CONSTANT_ENCAPSED_STRING","'sales'",148],")",["T_OBJECT_OPERATOR","->",148],["T_STRING","__",148],"(",["T_CONSTANT_ENCAPSED_STRING","'Order Grand Total'",148],")",",",["T_WHITESPACE"," ",148],["T_VARIABLE","$this",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","displayPriceAttribute",148],"(",["T_CONSTANT_ENCAPSED_STRING","'grand_total'",148],")",",",["T_WHITESPACE"," ",148],["T_STRING","true",148],")",";",["T_WHITESPACE","\n\n        ",148],["T_RETURN","return",150],["T_WHITESPACE"," ",150],["T_VARIABLE","$totalbarData",150],";",["T_WHITESPACE","\n    ",150],"}",["T_WHITESPACE","\n\n    ",151],["T_PUBLIC","public",153],["T_WHITESPACE"," ",153],["T_FUNCTION","function",153],["T_WHITESPACE"," ",153],["T_STRING","formatPrice",153],"(",["T_VARIABLE","$price",153],")",["T_WHITESPACE","\n    ",153],"{",["T_WHITESPACE","\n        ",154],["T_RETURN","return",155],["T_WHITESPACE"," ",155],["T_VARIABLE","$this",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","getInvoice",155],"(",")",["T_OBJECT_OPERATOR","->",155],["T_STRING","getOrder",155],"(",")",["T_OBJECT_OPERATOR","->",155],["T_STRING","formatPrice",155],"(",["T_VARIABLE","$price",155],")",";",["T_WHITESPACE","\n    ",155],"}",["T_WHITESPACE","\n\n    ",156],["T_PUBLIC","public",158],["T_WHITESPACE"," ",158],["T_FUNCTION","function",158],["T_WHITESPACE"," ",158],["T_STRING","getUpdateButtonHtml",158],"(",")",["T_WHITESPACE","\n    ",158],"{",["T_WHITESPACE","\n        ",159],["T_RETURN","return",160],["T_WHITESPACE"," ",160],["T_VARIABLE","$this",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","getChildHtml",160],"(",["T_CONSTANT_ENCAPSED_STRING","'update_button'",160],")",";",["T_WHITESPACE","\n    ",160],"}",["T_WHITESPACE","\n\n    ",161],["T_PUBLIC","public",163],["T_WHITESPACE"," ",163],["T_FUNCTION","function",163],["T_WHITESPACE"," ",163],["T_STRING","getUpdateUrl",163],"(",")",["T_WHITESPACE","\n    ",163],"{",["T_WHITESPACE","\n        ",164],["T_RETURN","return",165],["T_WHITESPACE"," ",165],["T_VARIABLE","$this",165],["T_OBJECT_OPERATOR","->",165],["T_STRING","getUrl",165],"(",["T_CONSTANT_ENCAPSED_STRING","'*\/*\/updateQty'",165],",",["T_WHITESPACE"," ",165],["T_ARRAY","array",165],"(",["T_CONSTANT_ENCAPSED_STRING","'order_id'",165],["T_DOUBLE_ARROW","=>",165],["T_VARIABLE","$this",165],["T_OBJECT_OPERATOR","->",165],["T_STRING","getInvoice",165],"(",")",["T_OBJECT_OPERATOR","->",165],["T_STRING","getOrderId",165],"(",")",")",")",";",["T_WHITESPACE","\n    ",165],"}",["T_WHITESPACE","\n\n    ",166],["T_DOC_COMMENT","\/**\n     * Check shipment availability for current invoice\n     *\n     * @return bool\n     *\/",168],["T_WHITESPACE","\n    ",172],["T_PUBLIC","public",173],["T_WHITESPACE"," ",173],["T_FUNCTION","function",173],["T_WHITESPACE"," ",173],["T_STRING","canCreateShipment",173],"(",")",["T_WHITESPACE","\n    ",173],"{",["T_WHITESPACE","\n        ",174],["T_FOREACH","foreach",175],["T_WHITESPACE"," ",175],"(",["T_VARIABLE","$this",175],["T_OBJECT_OPERATOR","->",175],["T_STRING","getInvoice",175],"(",")",["T_OBJECT_OPERATOR","->",175],["T_STRING","getAllItems",175],"(",")",["T_WHITESPACE"," ",175],["T_AS","as",175],["T_WHITESPACE"," ",175],["T_VARIABLE","$item",175],")",["T_WHITESPACE"," ",175],"{",["T_WHITESPACE","\n            ",175],["T_IF","if",176],["T_WHITESPACE"," ",176],"(",["T_VARIABLE","$item",176],["T_OBJECT_OPERATOR","->",176],["T_STRING","getOrderItem",176],"(",")",["T_OBJECT_OPERATOR","->",176],["T_STRING","getQtyToShip",176],"(",")",")",["T_WHITESPACE"," ",176],"{",["T_WHITESPACE","\n                ",176],["T_RETURN","return",177],["T_WHITESPACE"," ",177],["T_STRING","true",177],";",["T_WHITESPACE","\n            ",177],"}",["T_WHITESPACE","\n        ",178],"}",["T_WHITESPACE","\n        ",179],["T_RETURN","return",180],["T_WHITESPACE"," ",180],["T_STRING","false",180],";",["T_WHITESPACE","\n    ",180],"}",["T_WHITESPACE","\n\n    ",181],["T_PUBLIC","public",183],["T_WHITESPACE"," ",183],["T_FUNCTION","function",183],["T_WHITESPACE"," ",183],["T_STRING","canEditQty",183],"(",")",["T_WHITESPACE","\n    ",183],"{",["T_WHITESPACE","\n        ",184],["T_IF","if",185],["T_WHITESPACE"," ",185],"(",["T_VARIABLE","$this",185],["T_OBJECT_OPERATOR","->",185],["T_STRING","getInvoice",185],"(",")",["T_OBJECT_OPERATOR","->",185],["T_STRING","getOrder",185],"(",")",["T_OBJECT_OPERATOR","->",185],["T_STRING","getPayment",185],"(",")",["T_OBJECT_OPERATOR","->",185],["T_STRING","canCapture",185],"(",")",")",["T_WHITESPACE"," ",185],"{",["T_WHITESPACE","\n            ",185],["T_RETURN","return",186],["T_WHITESPACE"," ",186],["T_VARIABLE","$this",186],["T_OBJECT_OPERATOR","->",186],["T_STRING","getInvoice",186],"(",")",["T_OBJECT_OPERATOR","->",186],["T_STRING","getOrder",186],"(",")",["T_OBJECT_OPERATOR","->",186],["T_STRING","getPayment",186],"(",")",["T_OBJECT_OPERATOR","->",186],["T_STRING","canCapturePartial",186],"(",")",";",["T_WHITESPACE","\n        ",186],"}",["T_WHITESPACE","\n        ",187],["T_RETURN","return",188],["T_WHITESPACE"," ",188],["T_STRING","true",188],";",["T_WHITESPACE","\n    ",188],"}",["T_WHITESPACE","\n\n    ",189],["T_DOC_COMMENT","\/**\n     * Check if capture operation is allowed in ACL\n     * @return bool\n     *\/",191],["T_WHITESPACE","\n    ",194],["T_PUBLIC","public",195],["T_WHITESPACE"," ",195],["T_FUNCTION","function",195],["T_WHITESPACE"," ",195],["T_STRING","isCaptureAllowed",195],"(",")",["T_WHITESPACE","\n    ",195],"{",["T_WHITESPACE","\n        ",196],["T_RETURN","return",197],["T_WHITESPACE"," ",197],["T_STRING","Mage",197],["T_DOUBLE_COLON","::",197],["T_STRING","getSingleton",197],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/session'",197],")",["T_OBJECT_OPERATOR","->",197],["T_STRING","isAllowed",197],"(",["T_CONSTANT_ENCAPSED_STRING","'sales\/order\/actions\/capture'",197],")",";",["T_WHITESPACE","\n    ",197],"}",["T_WHITESPACE","\n\n    ",198],["T_DOC_COMMENT","\/**\n     * Check if invoice can be captured\n     * @return bool\n     *\/",200],["T_WHITESPACE","\n    ",203],["T_PUBLIC","public",204],["T_WHITESPACE"," ",204],["T_FUNCTION","function",204],["T_WHITESPACE"," ",204],["T_STRING","canCapture",204],"(",")",["T_WHITESPACE","\n    ",204],"{",["T_WHITESPACE","\n        ",205],["T_RETURN","return",206],["T_WHITESPACE"," ",206],["T_VARIABLE","$this",206],["T_OBJECT_OPERATOR","->",206],["T_STRING","getInvoice",206],"(",")",["T_OBJECT_OPERATOR","->",206],["T_STRING","canCapture",206],"(",")",";",["T_WHITESPACE","\n    ",206],"}",["T_WHITESPACE","\n\n    ",207],["T_DOC_COMMENT","\/**\n     * Check if gateway is associated with invoice order\n     * @return bool\n     *\/",209],["T_WHITESPACE","\n    ",212],["T_PUBLIC","public",213],["T_WHITESPACE"," ",213],["T_FUNCTION","function",213],["T_WHITESPACE"," ",213],["T_STRING","isGatewayUsed",213],"(",")",["T_WHITESPACE","\n    ",213],"{",["T_WHITESPACE","\n        ",214],["T_RETURN","return",215],["T_WHITESPACE"," ",215],["T_VARIABLE","$this",215],["T_OBJECT_OPERATOR","->",215],["T_STRING","getInvoice",215],"(",")",["T_OBJECT_OPERATOR","->",215],["T_STRING","getOrder",215],"(",")",["T_OBJECT_OPERATOR","->",215],["T_STRING","getPayment",215],"(",")",["T_OBJECT_OPERATOR","->",215],["T_STRING","getMethodInstance",215],"(",")",["T_OBJECT_OPERATOR","->",215],["T_STRING","isGateway",215],"(",")",";",["T_WHITESPACE","\n    ",215],"}",["T_WHITESPACE","\n\n    ",216],["T_PUBLIC","public",218],["T_WHITESPACE"," ",218],["T_FUNCTION","function",218],["T_WHITESPACE"," ",218],["T_STRING","canSendInvoiceEmail",218],"(",")",["T_WHITESPACE","\n    ",218],"{",["T_WHITESPACE","\n        ",219],["T_RETURN","return",220],["T_WHITESPACE"," ",220],["T_STRING","Mage",220],["T_DOUBLE_COLON","::",220],["T_STRING","helper",220],"(",["T_CONSTANT_ENCAPSED_STRING","'sales'",220],")",["T_OBJECT_OPERATOR","->",220],["T_STRING","canSendNewInvoiceEmail",220],"(",["T_VARIABLE","$this",220],["T_OBJECT_OPERATOR","->",220],["T_STRING","getOrder",220],"(",")",["T_OBJECT_OPERATOR","->",220],["T_STRING","getStore",220],"(",")",["T_OBJECT_OPERATOR","->",220],["T_STRING","getId",220],"(",")",")",";",["T_WHITESPACE","\n    ",220],"}",["T_WHITESPACE","\n",221],"}",["T_WHITESPACE","\n",222]]