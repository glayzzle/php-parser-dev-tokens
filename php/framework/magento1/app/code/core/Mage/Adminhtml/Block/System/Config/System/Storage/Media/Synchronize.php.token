[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Magento\n *\n * NOTICE OF LICENSE\n *\n * This source file is subject to the Open Software License (OSL 3.0)\n * that is bundled with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/opensource.org\/licenses\/osl-3.0.php\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@magento.com so we can send you a copy immediately.\n *\n * DISCLAIMER\n *\n * Do not edit or add to this file if you wish to upgrade Magento to newer\n * versions in the future. If you wish to customize Magento for your\n * needs please refer to http:\/\/www.magento.com for more information.\n *\n * @category    Mage\n * @package     Mage_Adminhtml\n * @copyright  Copyright (c) 2006-2016 X.commerce, Inc. and affiliates (http:\/\/www.magento.com)\n * @license    http:\/\/opensource.org\/licenses\/osl-3.0.php  Open Software License (OSL 3.0)\n *\/",2],["T_WHITESPACE","\n\n\n",25],["T_DOC_COMMENT","\/**\n * Synchronize button renderer\n *\n * @category   Mage\n * @package    Mage_Adminhtml\n * @author     Magento Core Team <core@magentocommerce.com>\n *\/",28],["T_WHITESPACE","\n",34],["T_CLASS","class",35],["T_WHITESPACE"," ",35],["T_STRING","Mage_Adminhtml_Block_System_Config_System_Storage_Media_Synchronize",35],["T_WHITESPACE","\n    ",35],["T_EXTENDS","extends",36],["T_WHITESPACE"," ",36],["T_STRING","Mage_Adminhtml_Block_System_Config_Form_Field",36],["T_WHITESPACE","\n",36],"{",["T_WHITESPACE","\n    ",37],["T_COMMENT","\/*\n     * Set template\n     *\/",38],["T_WHITESPACE","\n    ",40],["T_PROTECTED","protected",41],["T_WHITESPACE"," ",41],["T_FUNCTION","function",41],["T_WHITESPACE"," ",41],["T_STRING","_construct",41],"(",")",["T_WHITESPACE","\n    ",41],"{",["T_WHITESPACE","\n        ",42],["T_STRING","parent",43],["T_DOUBLE_COLON","::",43],["T_STRING","_construct",43],"(",")",";",["T_WHITESPACE","\n        ",43],["T_VARIABLE","$this",44],["T_OBJECT_OPERATOR","->",44],["T_STRING","setTemplate",44],"(",["T_CONSTANT_ENCAPSED_STRING","'system\/config\/system\/storage\/media\/synchronize.phtml'",44],")",";",["T_WHITESPACE","\n    ",44],"}",["T_WHITESPACE","\n\n    ",45],["T_DOC_COMMENT","\/**\n     * Remove scope label\n     *\n     * @param  Varien_Data_Form_Element_Abstract $element\n     * @return string\n     *\/",47],["T_WHITESPACE","\n    ",52],["T_PUBLIC","public",53],["T_WHITESPACE"," ",53],["T_FUNCTION","function",53],["T_WHITESPACE"," ",53],["T_STRING","render",53],"(",["T_STRING","Varien_Data_Form_Element_Abstract",53],["T_WHITESPACE"," ",53],["T_VARIABLE","$element",53],")",["T_WHITESPACE","\n    ",53],"{",["T_WHITESPACE","\n        ",54],["T_VARIABLE","$element",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","unsScope",55],"(",")",["T_OBJECT_OPERATOR","->",55],["T_STRING","unsCanUseWebsiteValue",55],"(",")",["T_OBJECT_OPERATOR","->",55],["T_STRING","unsCanUseDefaultValue",55],"(",")",";",["T_WHITESPACE","\n        ",55],["T_RETURN","return",56],["T_WHITESPACE"," ",56],["T_STRING","parent",56],["T_DOUBLE_COLON","::",56],["T_STRING","render",56],"(",["T_VARIABLE","$element",56],")",";",["T_WHITESPACE","\n    ",56],"}",["T_WHITESPACE","\n\n    ",57],["T_DOC_COMMENT","\/**\n     * Return element html\n     *\n     * @param  Varien_Data_Form_Element_Abstract $element\n     * @return string\n     *\/",59],["T_WHITESPACE","\n    ",64],["T_PROTECTED","protected",65],["T_WHITESPACE"," ",65],["T_FUNCTION","function",65],["T_WHITESPACE"," ",65],["T_STRING","_getElementHtml",65],"(",["T_STRING","Varien_Data_Form_Element_Abstract",65],["T_WHITESPACE"," ",65],["T_VARIABLE","$element",65],")",["T_WHITESPACE","\n    ",65],"{",["T_WHITESPACE","\n        ",66],["T_RETURN","return",67],["T_WHITESPACE"," ",67],["T_VARIABLE","$this",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","_toHtml",67],"(",")",";",["T_WHITESPACE","\n    ",67],"}",["T_WHITESPACE","\n\n    ",68],["T_DOC_COMMENT","\/**\n     * Return ajax url for synchronize button\n     *\n     * @return string\n     *\/",70],["T_WHITESPACE","\n    ",74],["T_PUBLIC","public",75],["T_WHITESPACE"," ",75],["T_FUNCTION","function",75],["T_WHITESPACE"," ",75],["T_STRING","getAjaxSyncUrl",75],"(",")",["T_WHITESPACE","\n    ",75],"{",["T_WHITESPACE","\n        ",76],["T_RETURN","return",77],["T_WHITESPACE"," ",77],["T_STRING","Mage",77],["T_DOUBLE_COLON","::",77],["T_STRING","getSingleton",77],"(",["T_CONSTANT_ENCAPSED_STRING","'adminhtml\/url'",77],")",["T_OBJECT_OPERATOR","->",77],["T_STRING","getUrl",77],"(",["T_CONSTANT_ENCAPSED_STRING","'*\/system_config_system_storage\/synchronize'",77],")",";",["T_WHITESPACE","\n    ",77],"}",["T_WHITESPACE","\n\n    ",78],["T_DOC_COMMENT","\/**\n     * Return ajax url for synchronize button\n     *\n     * @return string\n     *\/",80],["T_WHITESPACE","\n    ",84],["T_PUBLIC","public",85],["T_WHITESPACE"," ",85],["T_FUNCTION","function",85],["T_WHITESPACE"," ",85],["T_STRING","getAjaxStatusUpdateUrl",85],"(",")",["T_WHITESPACE","\n    ",85],"{",["T_WHITESPACE","\n        ",86],["T_RETURN","return",87],["T_WHITESPACE"," ",87],["T_STRING","Mage",87],["T_DOUBLE_COLON","::",87],["T_STRING","getSingleton",87],"(",["T_CONSTANT_ENCAPSED_STRING","'adminhtml\/url'",87],")",["T_OBJECT_OPERATOR","->",87],["T_STRING","getUrl",87],"(",["T_CONSTANT_ENCAPSED_STRING","'*\/system_config_system_storage\/status'",87],")",";",["T_WHITESPACE","\n    ",87],"}",["T_WHITESPACE","\n\n    ",88],["T_DOC_COMMENT","\/**\n     * Generate synchronize button html\n     *\n     * @return string\n     *\/",90],["T_WHITESPACE","\n    ",94],["T_PUBLIC","public",95],["T_WHITESPACE"," ",95],["T_FUNCTION","function",95],["T_WHITESPACE"," ",95],["T_STRING","getButtonHtml",95],"(",")",["T_WHITESPACE","\n    ",95],"{",["T_WHITESPACE","\n        ",96],["T_VARIABLE","$button",97],["T_WHITESPACE"," ",97],"=",["T_WHITESPACE"," ",97],["T_VARIABLE","$this",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","getLayout",97],"(",")",["T_OBJECT_OPERATOR","->",97],["T_STRING","createBlock",97],"(",["T_CONSTANT_ENCAPSED_STRING","'adminhtml\/widget_button'",97],")",["T_WHITESPACE","\n            ",97],["T_OBJECT_OPERATOR","->",98],["T_STRING","setData",98],"(",["T_ARRAY","array",98],"(",["T_WHITESPACE","\n                ",98],["T_CONSTANT_ENCAPSED_STRING","'id'",99],["T_WHITESPACE","        ",99],["T_DOUBLE_ARROW","=>",99],["T_WHITESPACE"," ",99],["T_CONSTANT_ENCAPSED_STRING","'synchronize_button'",99],",",["T_WHITESPACE","\n                ",99],["T_CONSTANT_ENCAPSED_STRING","'label'",100],["T_WHITESPACE","     ",100],["T_DOUBLE_ARROW","=>",100],["T_WHITESPACE"," ",100],["T_VARIABLE","$this",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","helper",100],"(",["T_CONSTANT_ENCAPSED_STRING","'adminhtml'",100],")",["T_OBJECT_OPERATOR","->",100],["T_STRING","__",100],"(",["T_CONSTANT_ENCAPSED_STRING","'Synchronize'",100],")",",",["T_WHITESPACE","\n                ",100],["T_CONSTANT_ENCAPSED_STRING","'onclick'",101],["T_WHITESPACE","   ",101],["T_DOUBLE_ARROW","=>",101],["T_WHITESPACE"," ",101],["T_CONSTANT_ENCAPSED_STRING","'javascript:synchronize(); return false;'",101],["T_WHITESPACE","\n            ",101],")",")",";",["T_WHITESPACE","\n\n        ",102],["T_RETURN","return",104],["T_WHITESPACE"," ",104],["T_VARIABLE","$button",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","toHtml",104],"(",")",";",["T_WHITESPACE","\n    ",104],"}",["T_WHITESPACE","\n\n    ",105],["T_DOC_COMMENT","\/**\n     * Retrieve last sync params settings\n     *\n     * Return array format:\n     * array (\n     *  => storage_type     int,\n     *  => connection_name  string\n     * )\n     *\n     * @return array\n     *\/",107],["T_WHITESPACE","\n    ",117],["T_PUBLIC","public",118],["T_WHITESPACE"," ",118],["T_FUNCTION","function",118],["T_WHITESPACE"," ",118],["T_STRING","getSyncStorageParams",118],"(",")",["T_WHITESPACE","\n    ",118],"{",["T_WHITESPACE","\n        ",119],["T_VARIABLE","$flag",120],["T_WHITESPACE"," ",120],"=",["T_WHITESPACE"," ",120],["T_STRING","Mage",120],["T_DOUBLE_COLON","::",120],["T_STRING","getSingleton",120],"(",["T_CONSTANT_ENCAPSED_STRING","'core\/file_storage'",120],")",["T_OBJECT_OPERATOR","->",120],["T_STRING","getSyncFlag",120],"(",")",";",["T_WHITESPACE","\n        ",120],["T_VARIABLE","$flagData",121],["T_WHITESPACE"," ",121],"=",["T_WHITESPACE"," ",121],["T_VARIABLE","$flag",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","getFlagData",121],"(",")",";",["T_WHITESPACE","\n\n        ",121],["T_IF","if",123],["T_WHITESPACE"," ",123],"(",["T_VARIABLE","$flag",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","getState",123],"(",")",["T_WHITESPACE"," ",123],["T_IS_EQUAL","==",123],["T_WHITESPACE"," ",123],["T_STRING","Mage_Core_Model_File_Storage_Flag",123],["T_DOUBLE_COLON","::",123],["T_STRING","STATE_NOTIFIED",123],["T_WHITESPACE","\n                ",123],["T_BOOLEAN_AND","&&",124],["T_WHITESPACE"," ",124],["T_STRING","is_array",124],"(",["T_VARIABLE","$flagData",124],")",["T_WHITESPACE","\n            ",124],["T_BOOLEAN_AND","&&",125],["T_WHITESPACE"," ",125],["T_ISSET","isset",125],"(",["T_VARIABLE","$flagData",125],"[",["T_CONSTANT_ENCAPSED_STRING","'destination_storage_type'",125],"]",")",["T_WHITESPACE"," ",125],["T_BOOLEAN_AND","&&",125],["T_WHITESPACE"," ",125],["T_VARIABLE","$flagData",125],"[",["T_CONSTANT_ENCAPSED_STRING","'destination_storage_type'",125],"]",["T_WHITESPACE"," ",125],["T_IS_NOT_EQUAL","!=",125],["T_WHITESPACE"," ",125],["T_CONSTANT_ENCAPSED_STRING","''",125],["T_WHITESPACE","\n            ",125],["T_BOOLEAN_AND","&&",126],["T_WHITESPACE"," ",126],["T_ISSET","isset",126],"(",["T_VARIABLE","$flagData",126],"[",["T_CONSTANT_ENCAPSED_STRING","'destination_connection_name'",126],"]",")",["T_WHITESPACE","\n        ",126],")",["T_WHITESPACE"," ",127],"{",["T_WHITESPACE","\n            ",127],["T_VARIABLE","$storageType",128],["T_WHITESPACE","    ",128],"=",["T_WHITESPACE"," ",128],["T_VARIABLE","$flagData",128],"[",["T_CONSTANT_ENCAPSED_STRING","'destination_storage_type'",128],"]",";",["T_WHITESPACE","\n            ",128],["T_VARIABLE","$connectionName",129],["T_WHITESPACE"," ",129],"=",["T_WHITESPACE"," ",129],["T_VARIABLE","$flagData",129],"[",["T_CONSTANT_ENCAPSED_STRING","'destination_connection_name'",129],"]",";",["T_WHITESPACE","\n        ",129],"}",["T_WHITESPACE"," ",130],["T_ELSE","else",130],["T_WHITESPACE"," ",130],"{",["T_WHITESPACE","\n            ",130],["T_VARIABLE","$storageType",131],["T_WHITESPACE","    ",131],"=",["T_WHITESPACE"," ",131],["T_STRING","Mage_Core_Model_File_Storage",131],["T_DOUBLE_COLON","::",131],["T_STRING","STORAGE_MEDIA_FILE_SYSTEM",131],";",["T_WHITESPACE","\n            ",131],["T_VARIABLE","$connectionName",132],["T_WHITESPACE"," ",132],"=",["T_WHITESPACE"," ",132],["T_CONSTANT_ENCAPSED_STRING","''",132],";",["T_WHITESPACE","\n        ",132],"}",["T_WHITESPACE","\n\n        ",133],["T_RETURN","return",135],["T_WHITESPACE"," ",135],["T_ARRAY","array",135],"(",["T_WHITESPACE","\n            ",135],["T_CONSTANT_ENCAPSED_STRING","'storage_type'",136],["T_WHITESPACE","      ",136],["T_DOUBLE_ARROW","=>",136],["T_WHITESPACE"," ",136],["T_VARIABLE","$storageType",136],",",["T_WHITESPACE","\n            ",136],["T_CONSTANT_ENCAPSED_STRING","'connection_name'",137],["T_WHITESPACE","   ",137],["T_DOUBLE_ARROW","=>",137],["T_WHITESPACE"," ",137],["T_VARIABLE","$connectionName",137],["T_WHITESPACE","\n        ",137],")",";",["T_WHITESPACE","\n    ",138],"}",["T_WHITESPACE","\n",139],"}",["T_WHITESPACE","\n",140]]