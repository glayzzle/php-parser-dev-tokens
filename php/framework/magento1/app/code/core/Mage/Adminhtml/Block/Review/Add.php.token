[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Magento\n *\n * NOTICE OF LICENSE\n *\n * This source file is subject to the Open Software License (OSL 3.0)\n * that is bundled with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/opensource.org\/licenses\/osl-3.0.php\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@magento.com so we can send you a copy immediately.\n *\n * DISCLAIMER\n *\n * Do not edit or add to this file if you wish to upgrade Magento to newer\n * versions in the future. If you wish to customize Magento for your\n * needs please refer to http:\/\/www.magento.com for more information.\n *\n * @category    Mage\n * @package     Mage_Adminhtml\n * @copyright  Copyright (c) 2006-2016 X.commerce, Inc. and affiliates (http:\/\/www.magento.com)\n * @license    http:\/\/opensource.org\/licenses\/osl-3.0.php  Open Software License (OSL 3.0)\n *\/",2],["T_WHITESPACE","\n\n",25],["T_DOC_COMMENT","\/**\n * Adminhtml add Review main block\n *\n * @category   Mage\n * @package    Mage_Adminhtml\n * @author      Magento Core Team <core@magentocommerce.com>\n *\/",27],["T_WHITESPACE","\n\n",33],["T_CLASS","class",35],["T_WHITESPACE"," ",35],["T_STRING","Mage_Adminhtml_Block_Review_Add",35],["T_WHITESPACE"," ",35],["T_EXTENDS","extends",35],["T_WHITESPACE"," ",35],["T_STRING","Mage_Adminhtml_Block_Widget_Form_Container",35],["T_WHITESPACE","\n",35],"{",["T_WHITESPACE","\n    ",36],["T_PUBLIC","public",37],["T_WHITESPACE"," ",37],["T_FUNCTION","function",37],["T_WHITESPACE"," ",37],["T_STRING","__construct",37],"(",")",["T_WHITESPACE","\n    ",37],"{",["T_WHITESPACE","\n        ",38],["T_STRING","parent",39],["T_DOUBLE_COLON","::",39],["T_STRING","__construct",39],"(",")",";",["T_WHITESPACE","\n\n        ",39],["T_VARIABLE","$this",41],["T_OBJECT_OPERATOR","->",41],["T_STRING","_controller",41],["T_WHITESPACE"," ",41],"=",["T_WHITESPACE"," ",41],["T_CONSTANT_ENCAPSED_STRING","'review'",41],";",["T_WHITESPACE","\n        ",41],["T_VARIABLE","$this",42],["T_OBJECT_OPERATOR","->",42],["T_STRING","_mode",42],["T_WHITESPACE"," ",42],"=",["T_WHITESPACE"," ",42],["T_CONSTANT_ENCAPSED_STRING","'add'",42],";",["T_WHITESPACE","\n\n        ",42],["T_VARIABLE","$this",44],["T_OBJECT_OPERATOR","->",44],["T_STRING","_updateButton",44],"(",["T_CONSTANT_ENCAPSED_STRING","'save'",44],",",["T_WHITESPACE"," ",44],["T_CONSTANT_ENCAPSED_STRING","'label'",44],",",["T_WHITESPACE"," ",44],["T_STRING","Mage",44],["T_DOUBLE_COLON","::",44],["T_STRING","helper",44],"(",["T_CONSTANT_ENCAPSED_STRING","'review'",44],")",["T_OBJECT_OPERATOR","->",44],["T_STRING","__",44],"(",["T_CONSTANT_ENCAPSED_STRING","'Save Review'",44],")",")",";",["T_WHITESPACE","\n        ",44],["T_VARIABLE","$this",45],["T_OBJECT_OPERATOR","->",45],["T_STRING","_updateButton",45],"(",["T_CONSTANT_ENCAPSED_STRING","'save'",45],",",["T_WHITESPACE"," ",45],["T_CONSTANT_ENCAPSED_STRING","'id'",45],",",["T_WHITESPACE"," ",45],["T_CONSTANT_ENCAPSED_STRING","'save_button'",45],")",";",["T_WHITESPACE","\n\n        ",45],["T_VARIABLE","$this",47],["T_OBJECT_OPERATOR","->",47],["T_STRING","_updateButton",47],"(",["T_CONSTANT_ENCAPSED_STRING","'reset'",47],",",["T_WHITESPACE"," ",47],["T_CONSTANT_ENCAPSED_STRING","'id'",47],",",["T_WHITESPACE"," ",47],["T_CONSTANT_ENCAPSED_STRING","'reset_button'",47],")",";",["T_WHITESPACE","\n\n        ",47],["T_VARIABLE","$this",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","_formScripts",49],"[","]",["T_WHITESPACE"," ",49],"=",["T_WHITESPACE"," ",49],["T_CONSTANT_ENCAPSED_STRING","'\n            toggleParentVis(\"add_review_form\");\n            toggleVis(\"save_button\");\n            toggleVis(\"reset_button\");\n        '",49],";",["T_WHITESPACE","\n\n        ",53],["T_VARIABLE","$this",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","_formInitScripts",55],"[","]",["T_WHITESPACE"," ",55],"=",["T_WHITESPACE"," ",55],["T_CONSTANT_ENCAPSED_STRING","'\n            \/\/<![CDATA[\n            var review = function() {\n                return {\n                    productInfoUrl : null,\n                    formHidden : true,\n\n                    gridRowClick : function(data, click) {\n                        if(Event.findElement(click,\\'TR\\').title){\n                            review.productInfoUrl = Event.findElement(click,\\'TR\\').title;\n                            review.loadProductData();\n                            review.showForm();\n                            review.formHidden = false;\n                        }\n                    },\n\n                    loadProductData : function() {\n                        var con = new Ext.lib.Ajax.request(\\'POST\\', review.productInfoUrl, {success:review.reqSuccess,failure:review.reqFailure}, {form_key:FORM_KEY});\n                    },\n\n                    showForm : function() {\n                        toggleParentVis(\"add_review_form\");\n                        toggleVis(\"productGrid\");\n                        toggleVis(\"save_button\");\n                        toggleVis(\"reset_button\");\n                    },\n\n                    updateRating: function() {\n                        elements = [$(\"select_stores\"), $(\"rating_detail\").getElementsBySelector(\"input[type=\\'radio\\']\")].flatten();\n                        $(\\'save_button\\').disabled = true;\n                        var params = Form.serializeElements(elements);\n                        if (!params.isAjax) {\n                            params.isAjax = \"true\";\n                        }\n                        if (!params.form_key) {\n                            params.form_key = FORM_KEY;\n                        }\n                        new Ajax.Updater(\"rating_detail\", \"'",55],".",["T_VARIABLE","$this",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","getUrl",92],"(",["T_CONSTANT_ENCAPSED_STRING","'*\/*\/ratingItems'",92],")",".",["T_CONSTANT_ENCAPSED_STRING","'\", {parameters:params, evalScripts: true,  onComplete:function(){ $(\\'save_button\\').disabled = false; } });\n                    },\n\n                    reqSuccess :function(o) {\n                        var response = Ext.util.JSON.decode(o.responseText);\n                        if( response.error ) {\n                            alert(response.message);\n                        } else if( response.id ){\n                            $(\"product_id\").value = response.id;\n\n                            $(\"product_name\").innerHTML = \\'<a href=\"'",92],["T_WHITESPACE"," ",102],".",["T_WHITESPACE"," ",102],["T_VARIABLE","$this",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","getUrl",102],"(",["T_CONSTANT_ENCAPSED_STRING","'*\/catalog_product\/edit'",102],")",["T_WHITESPACE"," ",102],".",["T_WHITESPACE"," ",102],["T_CONSTANT_ENCAPSED_STRING","'id\/\\' + response.id + \\'\" target=\"_blank\">\\' + response.name + \\'<\/a>\\';\n                        } else if( response.message ) {\n                            alert(response.message);\n                        }\n                    }\n                }\n            }();\n\n             Event.observe(window, \\'load\\', function(){\n                 if ($(\"select_stores\")) {\n                     Event.observe($(\"select_stores\"), \\'change\\', review.updateRating);\n                 }\n           });\n           \/\/]]>\n        '",102],";",["T_WHITESPACE","\n    ",116],"}",["T_WHITESPACE","\n\n    ",117],["T_PUBLIC","public",119],["T_WHITESPACE"," ",119],["T_FUNCTION","function",119],["T_WHITESPACE"," ",119],["T_STRING","getHeaderText",119],"(",")",["T_WHITESPACE","\n    ",119],"{",["T_WHITESPACE","\n        ",120],["T_RETURN","return",121],["T_WHITESPACE"," ",121],["T_STRING","Mage",121],["T_DOUBLE_COLON","::",121],["T_STRING","helper",121],"(",["T_CONSTANT_ENCAPSED_STRING","'review'",121],")",["T_OBJECT_OPERATOR","->",121],["T_STRING","__",121],"(",["T_CONSTANT_ENCAPSED_STRING","'Add New Review'",121],")",";",["T_WHITESPACE","\n    ",121],"}",["T_WHITESPACE","\n",122],"}",["T_WHITESPACE","\n",123]]