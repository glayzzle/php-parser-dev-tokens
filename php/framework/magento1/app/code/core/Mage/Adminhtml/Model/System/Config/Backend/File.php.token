[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Magento\n *\n * NOTICE OF LICENSE\n *\n * This source file is subject to the Open Software License (OSL 3.0)\n * that is bundled with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/opensource.org\/licenses\/osl-3.0.php\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@magento.com so we can send you a copy immediately.\n *\n * DISCLAIMER\n *\n * Do not edit or add to this file if you wish to upgrade Magento to newer\n * versions in the future. If you wish to customize Magento for your\n * needs please refer to http:\/\/www.magento.com for more information.\n *\n * @category    Mage\n * @package     Mage_Adminhtml\n * @copyright  Copyright (c) 2006-2016 X.commerce, Inc. and affiliates (http:\/\/www.magento.com)\n * @license    http:\/\/opensource.org\/licenses\/osl-3.0.php  Open Software License (OSL 3.0)\n *\/",2],["T_WHITESPACE","\n\n",25],["T_DOC_COMMENT","\/**\n * System config file field backend model\n *\n * @category   Mage\n * @package    Mage_Adminhtml\n * @author     Magento Core Team <core@magentocommerce.com>\n *\/",27],["T_WHITESPACE","\n",33],["T_CLASS","class",34],["T_WHITESPACE"," ",34],["T_STRING","Mage_Adminhtml_Model_System_Config_Backend_File",34],["T_WHITESPACE"," ",34],["T_EXTENDS","extends",34],["T_WHITESPACE"," ",34],["T_STRING","Mage_Core_Model_Config_Data",34],["T_WHITESPACE","\n",34],"{",["T_WHITESPACE","\n    ",35],["T_DOC_COMMENT","\/**\n     * Upload max file size in kilobytes\n     *\n     * @var int\n     *\/",36],["T_WHITESPACE","\n    ",40],["T_PROTECTED","protected",41],["T_WHITESPACE"," ",41],["T_VARIABLE","$_maxFileSize",41],["T_WHITESPACE"," ",41],"=",["T_WHITESPACE"," ",41],["T_LNUMBER","0",41],";",["T_WHITESPACE","\n\n    ",41],["T_DOC_COMMENT","\/**\n     * Save uploaded file before saving config value\n     *\n     * @return Mage_Adminhtml_Model_System_Config_Backend_File\n     *\/",43],["T_WHITESPACE","\n    ",47],["T_PROTECTED","protected",48],["T_WHITESPACE"," ",48],["T_FUNCTION","function",48],["T_WHITESPACE"," ",48],["T_STRING","_beforeSave",48],"(",")",["T_WHITESPACE","\n    ",48],"{",["T_WHITESPACE","\n        ",49],["T_VARIABLE","$value",50],["T_WHITESPACE"," ",50],"=",["T_WHITESPACE"," ",50],["T_VARIABLE","$this",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","getValue",50],"(",")",";",["T_WHITESPACE","\n        ",50],["T_IF","if",51],["T_WHITESPACE"," ",51],"(",["T_VARIABLE","$_FILES",51],"[",["T_CONSTANT_ENCAPSED_STRING","'groups'",51],"]","[",["T_CONSTANT_ENCAPSED_STRING","'tmp_name'",51],"]","[",["T_VARIABLE","$this",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","getGroupId",51],"(",")","]","[",["T_CONSTANT_ENCAPSED_STRING","'fields'",51],"]","[",["T_VARIABLE","$this",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","getField",51],"(",")","]","[",["T_CONSTANT_ENCAPSED_STRING","'value'",51],"]",")",["T_WHITESPACE"," ",51],"{",["T_WHITESPACE","\n\n            ",51],["T_VARIABLE","$uploadDir",53],["T_WHITESPACE"," ",53],"=",["T_WHITESPACE"," ",53],["T_VARIABLE","$this",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","_getUploadDir",53],"(",")",";",["T_WHITESPACE","\n\n            ",53],["T_TRY","try",55],["T_WHITESPACE"," ",55],"{",["T_WHITESPACE","\n                ",55],["T_VARIABLE","$file",56],["T_WHITESPACE"," ",56],"=",["T_WHITESPACE"," ",56],["T_ARRAY","array",56],"(",")",";",["T_WHITESPACE","\n                ",56],["T_VARIABLE","$tmpName",57],["T_WHITESPACE"," ",57],"=",["T_WHITESPACE"," ",57],["T_VARIABLE","$_FILES",57],"[",["T_CONSTANT_ENCAPSED_STRING","'groups'",57],"]","[",["T_CONSTANT_ENCAPSED_STRING","'tmp_name'",57],"]",";",["T_WHITESPACE","\n                ",57],["T_VARIABLE","$file",58],"[",["T_CONSTANT_ENCAPSED_STRING","'tmp_name'",58],"]",["T_WHITESPACE"," ",58],"=",["T_WHITESPACE"," ",58],["T_VARIABLE","$tmpName",58],"[",["T_VARIABLE","$this",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","getGroupId",58],"(",")","]","[",["T_CONSTANT_ENCAPSED_STRING","'fields'",58],"]","[",["T_VARIABLE","$this",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","getField",58],"(",")","]","[",["T_CONSTANT_ENCAPSED_STRING","'value'",58],"]",";",["T_WHITESPACE","\n                ",58],["T_VARIABLE","$name",59],["T_WHITESPACE"," ",59],"=",["T_WHITESPACE"," ",59],["T_VARIABLE","$_FILES",59],"[",["T_CONSTANT_ENCAPSED_STRING","'groups'",59],"]","[",["T_CONSTANT_ENCAPSED_STRING","'name'",59],"]",";",["T_WHITESPACE","\n                ",59],["T_VARIABLE","$file",60],"[",["T_CONSTANT_ENCAPSED_STRING","'name'",60],"]",["T_WHITESPACE"," ",60],"=",["T_WHITESPACE"," ",60],["T_VARIABLE","$name",60],"[",["T_VARIABLE","$this",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","getGroupId",60],"(",")","]","[",["T_CONSTANT_ENCAPSED_STRING","'fields'",60],"]","[",["T_VARIABLE","$this",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","getField",60],"(",")","]","[",["T_CONSTANT_ENCAPSED_STRING","'value'",60],"]",";",["T_WHITESPACE","\n                ",60],["T_VARIABLE","$uploader",61],["T_WHITESPACE"," ",61],"=",["T_WHITESPACE"," ",61],["T_NEW","new",61],["T_WHITESPACE"," ",61],["T_STRING","Mage_Core_Model_File_Uploader",61],"(",["T_VARIABLE","$file",61],")",";",["T_WHITESPACE","\n                ",61],["T_VARIABLE","$uploader",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","setAllowedExtensions",62],"(",["T_VARIABLE","$this",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","_getAllowedExtensions",62],"(",")",")",";",["T_WHITESPACE","\n                ",62],["T_VARIABLE","$uploader",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","setAllowRenameFiles",63],"(",["T_STRING","true",63],")",";",["T_WHITESPACE","\n                ",63],["T_VARIABLE","$this",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","addValidators",64],"(",["T_WHITESPACE"," ",64],["T_VARIABLE","$uploader",64],["T_WHITESPACE"," ",64],")",";",["T_WHITESPACE","\n                ",64],["T_VARIABLE","$result",65],["T_WHITESPACE"," ",65],"=",["T_WHITESPACE"," ",65],["T_VARIABLE","$uploader",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","save",65],"(",["T_VARIABLE","$uploadDir",65],")",";",["T_WHITESPACE","\n\n            ",65],"}",["T_WHITESPACE"," ",67],["T_CATCH","catch",67],["T_WHITESPACE"," ",67],"(",["T_STRING","Exception",67],["T_WHITESPACE"," ",67],["T_VARIABLE","$e",67],")",["T_WHITESPACE"," ",67],"{",["T_WHITESPACE","\n                ",67],["T_STRING","Mage",68],["T_DOUBLE_COLON","::",68],["T_STRING","throwException",68],"(",["T_VARIABLE","$e",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","getMessage",68],"(",")",")",";",["T_WHITESPACE","\n                ",68],["T_RETURN","return",69],["T_WHITESPACE"," ",69],["T_VARIABLE","$this",69],";",["T_WHITESPACE","\n            ",69],"}",["T_WHITESPACE","\n\n            ",70],["T_VARIABLE","$filename",72],["T_WHITESPACE"," ",72],"=",["T_WHITESPACE"," ",72],["T_VARIABLE","$result",72],"[",["T_CONSTANT_ENCAPSED_STRING","'file'",72],"]",";",["T_WHITESPACE","\n            ",72],["T_IF","if",73],["T_WHITESPACE"," ",73],"(",["T_VARIABLE","$filename",73],")",["T_WHITESPACE"," ",73],"{",["T_WHITESPACE","\n                ",73],["T_IF","if",74],["T_WHITESPACE"," ",74],"(",["T_VARIABLE","$this",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","_addWhetherScopeInfo",74],"(",")",")",["T_WHITESPACE"," ",74],"{",["T_WHITESPACE","\n                    ",74],["T_VARIABLE","$filename",75],["T_WHITESPACE"," ",75],"=",["T_WHITESPACE"," ",75],["T_VARIABLE","$this",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","_prependScopeInfo",75],"(",["T_VARIABLE","$filename",75],")",";",["T_WHITESPACE","\n                ",75],"}",["T_WHITESPACE","\n                ",76],["T_VARIABLE","$this",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","setValue",77],"(",["T_VARIABLE","$filename",77],")",";",["T_WHITESPACE","\n            ",77],"}",["T_WHITESPACE","\n        ",78],"}",["T_WHITESPACE"," ",79],["T_ELSE","else",79],["T_WHITESPACE"," ",79],"{",["T_WHITESPACE","\n            ",79],["T_IF","if",80],["T_WHITESPACE"," ",80],"(",["T_STRING","is_array",80],"(",["T_VARIABLE","$value",80],")",["T_WHITESPACE"," ",80],["T_BOOLEAN_AND","&&",80],["T_WHITESPACE"," ",80],"!",["T_EMPTY","empty",80],"(",["T_VARIABLE","$value",80],"[",["T_CONSTANT_ENCAPSED_STRING","'delete'",80],"]",")",")",["T_WHITESPACE"," ",80],"{",["T_WHITESPACE","\n                ",80],["T_COMMENT","\/\/ Delete record before it is saved\n",81],["T_WHITESPACE","                ",82],["T_VARIABLE","$this",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","delete",82],"(",")",";",["T_WHITESPACE","\n                ",82],["T_COMMENT","\/\/ Prevent record from being saved, since it was just deleted\n",83],["T_WHITESPACE","                ",84],["T_VARIABLE","$this",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","_dataSaveAllowed",84],["T_WHITESPACE"," ",84],"=",["T_WHITESPACE"," ",84],["T_STRING","false",84],";",["T_WHITESPACE","\n            ",84],"}",["T_WHITESPACE"," ",85],["T_ELSE","else",85],["T_WHITESPACE"," ",85],"{",["T_WHITESPACE","\n                ",85],["T_VARIABLE","$this",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","unsValue",86],"(",")",";",["T_WHITESPACE","\n            ",86],"}",["T_WHITESPACE","\n        ",87],"}",["T_WHITESPACE","\n\n        ",88],["T_RETURN","return",90],["T_WHITESPACE"," ",90],["T_VARIABLE","$this",90],";",["T_WHITESPACE","\n    ",90],"}",["T_WHITESPACE","\n\n    ",91],["T_DOC_COMMENT","\/**\n     * Validation callback for checking max file size\n     *\n     * @param  string $filePath Path to temporary uploaded file\n     * @throws Mage_Core_Exception\n     *\/",93],["T_WHITESPACE","\n    ",98],["T_PUBLIC","public",99],["T_WHITESPACE"," ",99],["T_FUNCTION","function",99],["T_WHITESPACE"," ",99],["T_STRING","validateMaxSize",99],"(",["T_VARIABLE","$filePath",99],")",["T_WHITESPACE","\n    ",99],"{",["T_WHITESPACE","\n        ",100],["T_IF","if",101],["T_WHITESPACE"," ",101],"(",["T_VARIABLE","$this",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","_maxFileSize",101],["T_WHITESPACE"," ",101],">",["T_WHITESPACE"," ",101],["T_LNUMBER","0",101],["T_WHITESPACE"," ",101],["T_BOOLEAN_AND","&&",101],["T_WHITESPACE"," ",101],["T_STRING","filesize",101],"(",["T_VARIABLE","$filePath",101],")",["T_WHITESPACE"," ",101],">",["T_WHITESPACE"," ",101],"(",["T_VARIABLE","$this",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","_maxFileSize",101],["T_WHITESPACE"," ",101],"*",["T_WHITESPACE"," ",101],["T_LNUMBER","1024",101],")",")",["T_WHITESPACE"," ",101],"{",["T_WHITESPACE","\n            ",101],["T_THROW","throw",102],["T_WHITESPACE"," ",102],["T_STRING","Mage",102],["T_DOUBLE_COLON","::",102],["T_STRING","exception",102],"(",["T_CONSTANT_ENCAPSED_STRING","'Mage_Core'",102],",",["T_WHITESPACE"," ",102],["T_STRING","Mage",102],["T_DOUBLE_COLON","::",102],["T_STRING","helper",102],"(",["T_CONSTANT_ENCAPSED_STRING","'adminhtml'",102],")",["T_OBJECT_OPERATOR","->",102],["T_STRING","__",102],"(",["T_CONSTANT_ENCAPSED_STRING","'Uploaded file is larger than %.2f kilobytes allowed by server'",102],",",["T_WHITESPACE"," ",102],["T_VARIABLE","$this",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","_maxFileSize",102],")",")",";",["T_WHITESPACE","\n        ",102],"}",["T_WHITESPACE","\n    ",103],"}",["T_WHITESPACE","\n\n    ",104],["T_DOC_COMMENT","\/**\n     * Makes a decision about whether to add info about the scope.\n     *\n     * @return boolean\n     *\/",106],["T_WHITESPACE","\n    ",110],["T_PROTECTED","protected",111],["T_WHITESPACE"," ",111],["T_FUNCTION","function",111],["T_WHITESPACE"," ",111],["T_STRING","_addWhetherScopeInfo",111],"(",")",["T_WHITESPACE","\n    ",111],"{",["T_WHITESPACE","\n        ",112],["T_VARIABLE","$fieldConfig",113],["T_WHITESPACE"," ",113],"=",["T_WHITESPACE"," ",113],["T_VARIABLE","$this",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","getFieldConfig",113],"(",")",";",["T_WHITESPACE","\n        ",113],["T_VARIABLE","$el",114],["T_WHITESPACE"," ",114],"=",["T_WHITESPACE"," ",114],["T_VARIABLE","$fieldConfig",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","descend",114],"(",["T_CONSTANT_ENCAPSED_STRING","'upload_dir'",114],")",";",["T_WHITESPACE","\n        ",114],["T_RETURN","return",115],["T_WHITESPACE"," ",115],"(","!",["T_EMPTY","empty",115],"(",["T_VARIABLE","$el",115],"[",["T_CONSTANT_ENCAPSED_STRING","'scope_info'",115],"]",")",")",";",["T_WHITESPACE","\n    ",115],"}",["T_WHITESPACE","\n\n    ",116],["T_DOC_COMMENT","\/**\n     * Return path to directory for upload file\n     *\n     * @return string\n     * @throw Mage_Core_Exception\n     *\/",118],["T_WHITESPACE","\n    ",123],["T_PROTECTED","protected",124],["T_WHITESPACE"," ",124],["T_FUNCTION","function",124],["T_WHITESPACE"," ",124],["T_STRING","_getUploadDir",124],"(",")",["T_WHITESPACE","\n    ",124],"{",["T_WHITESPACE","\n        ",125],["T_VARIABLE","$fieldConfig",126],["T_WHITESPACE"," ",126],"=",["T_WHITESPACE"," ",126],["T_VARIABLE","$this",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","getFieldConfig",126],"(",")",";",["T_WHITESPACE","\n        ",126],["T_COMMENT","\/* @var $fieldConfig Varien_Simplexml_Element *\/",127],["T_WHITESPACE","\n\n        ",127],["T_IF","if",129],["T_WHITESPACE"," ",129],"(",["T_EMPTY","empty",129],"(",["T_VARIABLE","$fieldConfig",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","upload_dir",129],")",")",["T_WHITESPACE"," ",129],"{",["T_WHITESPACE","\n            ",129],["T_STRING","Mage",130],["T_DOUBLE_COLON","::",130],["T_STRING","throwException",130],"(",["T_STRING","Mage",130],["T_DOUBLE_COLON","::",130],["T_STRING","helper",130],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog'",130],")",["T_OBJECT_OPERATOR","->",130],["T_STRING","__",130],"(",["T_CONSTANT_ENCAPSED_STRING","'The base directory to upload file is not specified.'",130],")",")",";",["T_WHITESPACE","\n        ",130],"}",["T_WHITESPACE","\n\n        ",131],["T_VARIABLE","$uploadDir",133],["T_WHITESPACE"," ",133],"=",["T_WHITESPACE"," ",133],["T_STRING_CAST","(string)",133],["T_VARIABLE","$fieldConfig",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","upload_dir",133],";",["T_WHITESPACE","\n\n        ",133],["T_VARIABLE","$el",135],["T_WHITESPACE"," ",135],"=",["T_WHITESPACE"," ",135],["T_VARIABLE","$fieldConfig",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","descend",135],"(",["T_CONSTANT_ENCAPSED_STRING","'upload_dir'",135],")",";",["T_WHITESPACE","\n\n        ",135],["T_DOC_COMMENT","\/**\n         * Add scope info\n         *\/",137],["T_WHITESPACE","\n        ",139],["T_IF","if",140],["T_WHITESPACE"," ",140],"(","!",["T_EMPTY","empty",140],"(",["T_VARIABLE","$el",140],"[",["T_CONSTANT_ENCAPSED_STRING","'scope_info'",140],"]",")",")",["T_WHITESPACE"," ",140],"{",["T_WHITESPACE","\n            ",140],["T_VARIABLE","$uploadDir",141],["T_WHITESPACE"," ",141],"=",["T_WHITESPACE"," ",141],["T_VARIABLE","$this",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","_appendScopeInfo",141],"(",["T_VARIABLE","$uploadDir",141],")",";",["T_WHITESPACE","\n        ",141],"}",["T_WHITESPACE","\n\n        ",142],["T_DOC_COMMENT","\/**\n         * Take root from config\n         *\/",144],["T_WHITESPACE","\n        ",146],["T_IF","if",147],["T_WHITESPACE"," ",147],"(","!",["T_EMPTY","empty",147],"(",["T_VARIABLE","$el",147],"[",["T_CONSTANT_ENCAPSED_STRING","'config'",147],"]",")",")",["T_WHITESPACE"," ",147],"{",["T_WHITESPACE","\n            ",147],["T_VARIABLE","$uploadRoot",148],["T_WHITESPACE"," ",148],"=",["T_WHITESPACE"," ",148],["T_VARIABLE","$this",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","_getUploadRoot",148],"(",["T_STRING_CAST","(string)",148],["T_VARIABLE","$el",148],"[",["T_CONSTANT_ENCAPSED_STRING","'config'",148],"]",")",";",["T_WHITESPACE","\n            ",148],["T_VARIABLE","$uploadDir",149],["T_WHITESPACE"," ",149],"=",["T_WHITESPACE"," ",149],["T_VARIABLE","$uploadRoot",149],["T_WHITESPACE"," ",149],".",["T_WHITESPACE"," ",149],["T_CONSTANT_ENCAPSED_STRING","'\/'",149],["T_WHITESPACE"," ",149],".",["T_WHITESPACE"," ",149],["T_VARIABLE","$uploadDir",149],";",["T_WHITESPACE","\n        ",149],"}",["T_WHITESPACE","\n        ",150],["T_RETURN","return",151],["T_WHITESPACE"," ",151],["T_VARIABLE","$uploadDir",151],";",["T_WHITESPACE","\n    ",151],"}",["T_WHITESPACE","\n\n    ",152],["T_DOC_COMMENT","\/**\n     * Return the root part of directory path for uploading\n     *\n     * @var string\n     * @return string\n     *\/",154],["T_WHITESPACE","\n    ",159],["T_PROTECTED","protected",160],["T_WHITESPACE"," ",160],["T_FUNCTION","function",160],["T_WHITESPACE"," ",160],["T_STRING","_getUploadRoot",160],"(",["T_VARIABLE","$token",160],")",["T_WHITESPACE","\n    ",160],"{",["T_WHITESPACE","\n        ",161],["T_RETURN","return",162],["T_WHITESPACE"," ",162],["T_STRING","Mage",162],["T_DOUBLE_COLON","::",162],["T_STRING","getBaseDir",162],"(",["T_CONSTANT_ENCAPSED_STRING","'media'",162],")",";",["T_WHITESPACE","\n    ",162],"}",["T_WHITESPACE","\n\n    ",163],["T_DOC_COMMENT","\/**\n     * Prepend path with scope info\n     *\n     * E.g. 'stores\/2\/path' , 'websites\/3\/path', 'default\/path'\n     *\n     * @param string $path\n     * @return string\n     *\/",165],["T_WHITESPACE","\n    ",172],["T_PROTECTED","protected",173],["T_WHITESPACE"," ",173],["T_FUNCTION","function",173],["T_WHITESPACE"," ",173],["T_STRING","_prependScopeInfo",173],"(",["T_VARIABLE","$path",173],")",["T_WHITESPACE","\n    ",173],"{",["T_WHITESPACE","\n        ",174],["T_VARIABLE","$scopeInfo",175],["T_WHITESPACE"," ",175],"=",["T_WHITESPACE"," ",175],["T_VARIABLE","$this",175],["T_OBJECT_OPERATOR","->",175],["T_STRING","getScope",175],"(",")",";",["T_WHITESPACE","\n        ",175],["T_IF","if",176],["T_WHITESPACE"," ",176],"(",["T_CONSTANT_ENCAPSED_STRING","'default'",176],["T_WHITESPACE"," ",176],["T_IS_NOT_EQUAL","!=",176],["T_WHITESPACE"," ",176],["T_VARIABLE","$this",176],["T_OBJECT_OPERATOR","->",176],["T_STRING","getScope",176],"(",")",")",["T_WHITESPACE"," ",176],"{",["T_WHITESPACE","\n            ",176],["T_VARIABLE","$scopeInfo",177],["T_WHITESPACE"," ",177],["T_CONCAT_EQUAL",".=",177],["T_WHITESPACE"," ",177],["T_CONSTANT_ENCAPSED_STRING","'\/'",177],["T_WHITESPACE"," ",177],".",["T_WHITESPACE"," ",177],["T_VARIABLE","$this",177],["T_OBJECT_OPERATOR","->",177],["T_STRING","getScopeId",177],"(",")",";",["T_WHITESPACE","\n        ",177],"}",["T_WHITESPACE","\n        ",178],["T_RETURN","return",179],["T_WHITESPACE"," ",179],["T_VARIABLE","$scopeInfo",179],["T_WHITESPACE"," ",179],".",["T_WHITESPACE"," ",179],["T_CONSTANT_ENCAPSED_STRING","'\/'",179],["T_WHITESPACE"," ",179],".",["T_WHITESPACE"," ",179],["T_VARIABLE","$path",179],";",["T_WHITESPACE","\n    ",179],"}",["T_WHITESPACE","\n\n    ",180],["T_DOC_COMMENT","\/**\n     * Add scope info to path\n     *\n     * E.g. 'path\/stores\/2' , 'path\/websites\/3', 'path\/default'\n     *\n     * @param string $path\n     * @return string\n     *\/",182],["T_WHITESPACE","\n    ",189],["T_PROTECTED","protected",190],["T_WHITESPACE"," ",190],["T_FUNCTION","function",190],["T_WHITESPACE"," ",190],["T_STRING","_appendScopeInfo",190],"(",["T_VARIABLE","$path",190],")",["T_WHITESPACE","\n    ",190],"{",["T_WHITESPACE","\n        ",191],["T_VARIABLE","$path",192],["T_WHITESPACE"," ",192],["T_CONCAT_EQUAL",".=",192],["T_WHITESPACE"," ",192],["T_CONSTANT_ENCAPSED_STRING","'\/'",192],["T_WHITESPACE"," ",192],".",["T_WHITESPACE"," ",192],["T_VARIABLE","$this",192],["T_OBJECT_OPERATOR","->",192],["T_STRING","getScope",192],"(",")",";",["T_WHITESPACE","\n        ",192],["T_IF","if",193],["T_WHITESPACE"," ",193],"(",["T_CONSTANT_ENCAPSED_STRING","'default'",193],["T_WHITESPACE"," ",193],["T_IS_NOT_EQUAL","!=",193],["T_WHITESPACE"," ",193],["T_VARIABLE","$this",193],["T_OBJECT_OPERATOR","->",193],["T_STRING","getScope",193],"(",")",")",["T_WHITESPACE"," ",193],"{",["T_WHITESPACE","\n            ",193],["T_VARIABLE","$path",194],["T_WHITESPACE"," ",194],["T_CONCAT_EQUAL",".=",194],["T_WHITESPACE"," ",194],["T_CONSTANT_ENCAPSED_STRING","'\/'",194],["T_WHITESPACE"," ",194],".",["T_WHITESPACE"," ",194],["T_VARIABLE","$this",194],["T_OBJECT_OPERATOR","->",194],["T_STRING","getScopeId",194],"(",")",";",["T_WHITESPACE","\n        ",194],"}",["T_WHITESPACE","\n        ",195],["T_RETURN","return",196],["T_WHITESPACE"," ",196],["T_VARIABLE","$path",196],";",["T_WHITESPACE","\n    ",196],"}",["T_WHITESPACE","\n\n    ",197],["T_DOC_COMMENT","\/**\n     * Getter for allowed extensions of uploaded files\n     *\n     * @return array\n     *\/",199],["T_WHITESPACE","\n    ",203],["T_PROTECTED","protected",204],["T_WHITESPACE"," ",204],["T_FUNCTION","function",204],["T_WHITESPACE"," ",204],["T_STRING","_getAllowedExtensions",204],"(",")",["T_WHITESPACE","\n    ",204],"{",["T_WHITESPACE","\n        ",205],["T_RETURN","return",206],["T_WHITESPACE"," ",206],["T_ARRAY","array",206],"(",")",";",["T_WHITESPACE","\n    ",206],"}",["T_WHITESPACE","\n\n    ",207],["T_DOC_COMMENT","\/**\n     * Add validators for uploading\n     *\n     * @param Mage_Core_Model_File_Uploader $uploader\n     *\/",209],["T_WHITESPACE","\n    ",213],["T_PROTECTED","protected",214],["T_WHITESPACE"," ",214],["T_FUNCTION","function",214],["T_WHITESPACE"," ",214],["T_STRING","addValidators",214],"(",["T_STRING","Mage_Core_Model_File_Uploader",214],["T_WHITESPACE"," ",214],["T_VARIABLE","$uploader",214],")",["T_WHITESPACE","\n    ",214],"{",["T_WHITESPACE","\n        ",215],["T_VARIABLE","$uploader",216],["T_OBJECT_OPERATOR","->",216],["T_STRING","addValidateCallback",216],"(",["T_CONSTANT_ENCAPSED_STRING","'size'",216],",",["T_WHITESPACE"," ",216],["T_VARIABLE","$this",216],",",["T_WHITESPACE"," ",216],["T_CONSTANT_ENCAPSED_STRING","'validateMaxSize'",216],")",";",["T_WHITESPACE","\n    ",216],"}",["T_WHITESPACE","\n",217],"}",["T_WHITESPACE","\n",218]]