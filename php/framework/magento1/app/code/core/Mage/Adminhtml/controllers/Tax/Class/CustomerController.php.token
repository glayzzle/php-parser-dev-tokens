[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Magento\n *\n * NOTICE OF LICENSE\n *\n * This source file is subject to the Open Software License (OSL 3.0)\n * that is bundled with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/opensource.org\/licenses\/osl-3.0.php\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@magento.com so we can send you a copy immediately.\n *\n * DISCLAIMER\n *\n * Do not edit or add to this file if you wish to upgrade Magento to newer\n * versions in the future. If you wish to customize Magento for your\n * needs please refer to http:\/\/www.magento.com for more information.\n *\n * @category    Mage\n * @package     Mage_Adminhtml\n * @copyright  Copyright (c) 2006-2016 X.commerce, Inc. and affiliates (http:\/\/www.magento.com)\n * @license    http:\/\/opensource.org\/licenses\/osl-3.0.php  Open Software License (OSL 3.0)\n *\/",2],["T_WHITESPACE","\n\n",25],["T_DOC_COMMENT","\/**\n * Adminhtml customer tax class controller\n *\n * @category   Mage\n * @package    Mage_Adminhtml\n * @author      Magento Core Team <core@magentocommerce.com>\n *\/",27],["T_WHITESPACE","\n\n",33],["T_CLASS","class",35],["T_WHITESPACE"," ",35],["T_STRING","Mage_Adminhtml_Tax_Class_CustomerController",35],["T_WHITESPACE"," ",35],["T_EXTENDS","extends",35],["T_WHITESPACE"," ",35],["T_STRING","Mage_Adminhtml_Controller_Action",35],["T_WHITESPACE","\n",35],"{",["T_WHITESPACE","\n    ",36],["T_DOC_COMMENT","\/**\n     * grid view\n     *\n     *\/",37],["T_WHITESPACE","\n    ",40],["T_PUBLIC","public",41],["T_WHITESPACE"," ",41],["T_FUNCTION","function",41],["T_WHITESPACE"," ",41],["T_STRING","indexAction",41],"(",")",["T_WHITESPACE","\n    ",41],"{",["T_WHITESPACE","\n        ",42],["T_VARIABLE","$this",43],["T_OBJECT_OPERATOR","->",43],["T_STRING","_title",43],"(",["T_VARIABLE","$this",43],["T_OBJECT_OPERATOR","->",43],["T_STRING","__",43],"(",["T_CONSTANT_ENCAPSED_STRING","'Sales'",43],")",")",["T_WHITESPACE","\n             ",43],["T_OBJECT_OPERATOR","->",44],["T_STRING","_title",44],"(",["T_VARIABLE","$this",44],["T_OBJECT_OPERATOR","->",44],["T_STRING","__",44],"(",["T_CONSTANT_ENCAPSED_STRING","'Tax'",44],")",")",["T_WHITESPACE","\n             ",44],["T_OBJECT_OPERATOR","->",45],["T_STRING","_title",45],"(",["T_VARIABLE","$this",45],["T_OBJECT_OPERATOR","->",45],["T_STRING","__",45],"(",["T_CONSTANT_ENCAPSED_STRING","'Customer Tax Classes'",45],")",")",";",["T_WHITESPACE","\n\n        ",45],["T_VARIABLE","$this",47],["T_OBJECT_OPERATOR","->",47],["T_STRING","_initAction",47],"(",")",["T_WHITESPACE","\n            ",47],["T_OBJECT_OPERATOR","->",48],["T_STRING","_addContent",48],"(",["T_WHITESPACE","\n                ",48],["T_VARIABLE","$this",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","getLayout",49],"(",")",["T_WHITESPACE","\n                    ",49],["T_OBJECT_OPERATOR","->",50],["T_STRING","createBlock",50],"(",["T_CONSTANT_ENCAPSED_STRING","'adminhtml\/tax_class'",50],")",["T_WHITESPACE","\n                    ",50],["T_OBJECT_OPERATOR","->",51],["T_STRING","setClassType",51],"(",["T_STRING","Mage_Tax_Model_Class",51],["T_DOUBLE_COLON","::",51],["T_STRING","TAX_CLASS_TYPE_CUSTOMER",51],")",["T_WHITESPACE","\n            ",51],")",["T_WHITESPACE","\n            ",52],["T_OBJECT_OPERATOR","->",53],["T_STRING","renderLayout",53],"(",")",";",["T_WHITESPACE","\n    ",53],"}",["T_WHITESPACE","\n\n    ",54],["T_DOC_COMMENT","\/**\n     * new class action\n     *\n     *\/",56],["T_WHITESPACE","\n    ",59],["T_PUBLIC","public",60],["T_WHITESPACE"," ",60],["T_FUNCTION","function",60],["T_WHITESPACE"," ",60],["T_STRING","newAction",60],"(",")",["T_WHITESPACE","\n    ",60],"{",["T_WHITESPACE","\n        ",61],["T_VARIABLE","$this",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","_forward",62],"(",["T_CONSTANT_ENCAPSED_STRING","'edit'",62],")",";",["T_WHITESPACE","\n    ",62],"}",["T_WHITESPACE","\n\n    ",63],["T_DOC_COMMENT","\/**\n     * edit class action\n     *\n     *\/",65],["T_WHITESPACE","\n    ",68],["T_PUBLIC","public",69],["T_WHITESPACE"," ",69],["T_FUNCTION","function",69],["T_WHITESPACE"," ",69],["T_STRING","editAction",69],"(",")",["T_WHITESPACE","\n    ",69],"{",["T_WHITESPACE","\n        ",70],["T_VARIABLE","$this",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","_title",71],"(",["T_VARIABLE","$this",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","__",71],"(",["T_CONSTANT_ENCAPSED_STRING","'Sales'",71],")",")",["T_WHITESPACE","\n             ",71],["T_OBJECT_OPERATOR","->",72],["T_STRING","_title",72],"(",["T_VARIABLE","$this",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","__",72],"(",["T_CONSTANT_ENCAPSED_STRING","'Tax'",72],")",")",["T_WHITESPACE","\n             ",72],["T_OBJECT_OPERATOR","->",73],["T_STRING","_title",73],"(",["T_VARIABLE","$this",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","__",73],"(",["T_CONSTANT_ENCAPSED_STRING","'Customer Tax Classes'",73],")",")",";",["T_WHITESPACE","\n\n        ",73],["T_VARIABLE","$classId",75],["T_WHITESPACE","    ",75],"=",["T_WHITESPACE"," ",75],["T_VARIABLE","$this",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","getRequest",75],"(",")",["T_OBJECT_OPERATOR","->",75],["T_STRING","getParam",75],"(",["T_CONSTANT_ENCAPSED_STRING","'id'",75],")",";",["T_WHITESPACE","\n        ",75],["T_VARIABLE","$model",76],["T_WHITESPACE","      ",76],"=",["T_WHITESPACE"," ",76],["T_STRING","Mage",76],["T_DOUBLE_COLON","::",76],["T_STRING","getModel",76],"(",["T_CONSTANT_ENCAPSED_STRING","'tax\/class'",76],")",";",["T_WHITESPACE","\n        ",76],["T_IF","if",77],["T_WHITESPACE"," ",77],"(",["T_VARIABLE","$classId",77],")",["T_WHITESPACE"," ",77],"{",["T_WHITESPACE","\n            ",77],["T_VARIABLE","$model",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","load",78],"(",["T_VARIABLE","$classId",78],")",";",["T_WHITESPACE","\n            ",78],["T_IF","if",79],["T_WHITESPACE"," ",79],"(","!",["T_VARIABLE","$model",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","getId",79],"(",")",["T_WHITESPACE"," ",79],["T_BOOLEAN_OR","||",79],["T_WHITESPACE"," ",79],["T_VARIABLE","$model",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","getClassType",79],"(",")",["T_WHITESPACE"," ",79],["T_IS_NOT_EQUAL","!=",79],["T_WHITESPACE"," ",79],["T_STRING","Mage_Tax_Model_Class",79],["T_DOUBLE_COLON","::",79],["T_STRING","TAX_CLASS_TYPE_CUSTOMER",79],")",["T_WHITESPACE"," ",79],"{",["T_WHITESPACE","\n                ",79],["T_STRING","Mage",80],["T_DOUBLE_COLON","::",80],["T_STRING","getSingleton",80],"(",["T_CONSTANT_ENCAPSED_STRING","'adminhtml\/session'",80],")",["T_OBJECT_OPERATOR","->",80],["T_STRING","addError",80],"(",["T_STRING","Mage",80],["T_DOUBLE_COLON","::",80],["T_STRING","helper",80],"(",["T_CONSTANT_ENCAPSED_STRING","'tax'",80],")",["T_OBJECT_OPERATOR","->",80],["T_STRING","__",80],"(",["T_CONSTANT_ENCAPSED_STRING","'This class no longer exists'",80],")",")",";",["T_WHITESPACE","\n                ",80],["T_VARIABLE","$this",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","_redirect",81],"(",["T_CONSTANT_ENCAPSED_STRING","'*\/*\/'",81],")",";",["T_WHITESPACE","\n                ",81],["T_RETURN","return",82],";",["T_WHITESPACE","\n            ",82],"}",["T_WHITESPACE","\n        ",83],"}",["T_WHITESPACE","\n\n        ",84],["T_VARIABLE","$this",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","_title",86],"(",["T_VARIABLE","$model",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","getId",86],"(",")",["T_WHITESPACE"," ",86],"?",["T_WHITESPACE"," ",86],["T_VARIABLE","$model",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","getClassName",86],"(",")",["T_WHITESPACE"," ",86],":",["T_WHITESPACE"," ",86],["T_VARIABLE","$this",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","__",86],"(",["T_CONSTANT_ENCAPSED_STRING","'New Class'",86],")",")",";",["T_WHITESPACE","\n\n        ",86],["T_VARIABLE","$data",88],["T_WHITESPACE"," ",88],"=",["T_WHITESPACE"," ",88],["T_STRING","Mage",88],["T_DOUBLE_COLON","::",88],["T_STRING","getSingleton",88],"(",["T_CONSTANT_ENCAPSED_STRING","'adminhtml\/session'",88],")",["T_OBJECT_OPERATOR","->",88],["T_STRING","getClassData",88],"(",["T_STRING","true",88],")",";",["T_WHITESPACE","\n        ",88],["T_IF","if",89],["T_WHITESPACE"," ",89],"(","!",["T_EMPTY","empty",89],"(",["T_VARIABLE","$data",89],")",")",["T_WHITESPACE"," ",89],"{",["T_WHITESPACE","\n            ",89],["T_VARIABLE","$model",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","setData",90],"(",["T_VARIABLE","$data",90],")",";",["T_WHITESPACE","\n        ",90],"}",["T_WHITESPACE","\n\n        ",91],["T_STRING","Mage",93],["T_DOUBLE_COLON","::",93],["T_STRING","register",93],"(",["T_CONSTANT_ENCAPSED_STRING","'tax_class'",93],",",["T_WHITESPACE"," ",93],["T_VARIABLE","$model",93],")",";",["T_WHITESPACE","\n\n        ",93],["T_VARIABLE","$this",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","_initAction",95],"(",")",["T_WHITESPACE","\n            ",95],["T_OBJECT_OPERATOR","->",96],["T_STRING","_addBreadcrumb",96],"(",["T_WHITESPACE","\n                ",96],["T_VARIABLE","$classId",97],["T_WHITESPACE"," ",97],"?",["T_WHITESPACE"," ",97],["T_STRING","Mage",97],["T_DOUBLE_COLON","::",97],["T_STRING","helper",97],"(",["T_CONSTANT_ENCAPSED_STRING","'tax'",97],")",["T_OBJECT_OPERATOR","->",97],["T_STRING","__",97],"(",["T_CONSTANT_ENCAPSED_STRING","'Edit Class'",97],")",["T_WHITESPACE"," ",97],":",["T_WHITESPACE","  ",97],["T_STRING","Mage",97],["T_DOUBLE_COLON","::",97],["T_STRING","helper",97],"(",["T_CONSTANT_ENCAPSED_STRING","'tax'",97],")",["T_OBJECT_OPERATOR","->",97],["T_STRING","__",97],"(",["T_CONSTANT_ENCAPSED_STRING","'New Class'",97],")",",",["T_WHITESPACE","\n                ",97],["T_VARIABLE","$classId",98],["T_WHITESPACE"," ",98],"?",["T_WHITESPACE","  ",98],["T_STRING","Mage",98],["T_DOUBLE_COLON","::",98],["T_STRING","helper",98],"(",["T_CONSTANT_ENCAPSED_STRING","'tax'",98],")",["T_OBJECT_OPERATOR","->",98],["T_STRING","__",98],"(",["T_CONSTANT_ENCAPSED_STRING","'Edit Class'",98],")",["T_WHITESPACE"," ",98],":",["T_WHITESPACE","  ",98],["T_STRING","Mage",98],["T_DOUBLE_COLON","::",98],["T_STRING","helper",98],"(",["T_CONSTANT_ENCAPSED_STRING","'tax'",98],")",["T_OBJECT_OPERATOR","->",98],["T_STRING","__",98],"(",["T_CONSTANT_ENCAPSED_STRING","'New Class'",98],")",["T_WHITESPACE","\n            ",98],")",["T_WHITESPACE","\n            ",99],["T_OBJECT_OPERATOR","->",100],["T_STRING","_addContent",100],"(",["T_WHITESPACE","\n                ",100],["T_VARIABLE","$this",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","getLayout",101],"(",")",["T_WHITESPACE","\n                    ",101],["T_OBJECT_OPERATOR","->",102],["T_STRING","createBlock",102],"(",["T_CONSTANT_ENCAPSED_STRING","'adminhtml\/tax_class_edit'",102],")",["T_WHITESPACE","\n                    ",102],["T_OBJECT_OPERATOR","->",103],["T_STRING","setData",103],"(",["T_CONSTANT_ENCAPSED_STRING","'action'",103],",",["T_WHITESPACE"," ",103],["T_VARIABLE","$this",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","getUrl",103],"(",["T_CONSTANT_ENCAPSED_STRING","'*\/tax_class\/save'",103],")",")",["T_WHITESPACE","\n                    ",103],["T_OBJECT_OPERATOR","->",104],["T_STRING","setClassType",104],"(",["T_STRING","Mage_Tax_Model_Class",104],["T_DOUBLE_COLON","::",104],["T_STRING","TAX_CLASS_TYPE_CUSTOMER",104],")",["T_WHITESPACE","\n            ",104],")",["T_WHITESPACE","\n            ",105],["T_OBJECT_OPERATOR","->",106],["T_STRING","renderLayout",106],"(",")",";",["T_WHITESPACE","\n    ",106],"}",["T_WHITESPACE","\n\n    ",107],["T_DOC_COMMENT","\/**\n     * delete class action\n     *\n     *\/",109],["T_WHITESPACE","\n    ",112],["T_PUBLIC","public",113],["T_WHITESPACE"," ",113],["T_FUNCTION","function",113],["T_WHITESPACE"," ",113],["T_STRING","deleteAction",113],"(",")",["T_WHITESPACE","\n    ",113],"{",["T_WHITESPACE","\n        ",114],["T_VARIABLE","$classId",115],["T_WHITESPACE","    ",115],"=",["T_WHITESPACE"," ",115],["T_VARIABLE","$this",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","getRequest",115],"(",")",["T_OBJECT_OPERATOR","->",115],["T_STRING","getParam",115],"(",["T_CONSTANT_ENCAPSED_STRING","'id'",115],")",";",["T_WHITESPACE","\n        ",115],["T_VARIABLE","$session",116],["T_WHITESPACE","    ",116],"=",["T_WHITESPACE"," ",116],["T_STRING","Mage",116],["T_DOUBLE_COLON","::",116],["T_STRING","getSingleton",116],"(",["T_CONSTANT_ENCAPSED_STRING","'adminhtml\/session'",116],")",";",["T_WHITESPACE","\n        ",116],["T_VARIABLE","$classModel",117],["T_WHITESPACE"," ",117],"=",["T_WHITESPACE"," ",117],["T_STRING","Mage",117],["T_DOUBLE_COLON","::",117],["T_STRING","getModel",117],"(",["T_CONSTANT_ENCAPSED_STRING","'tax\/class'",117],")",["T_WHITESPACE","\n            ",117],["T_OBJECT_OPERATOR","->",118],["T_STRING","load",118],"(",["T_VARIABLE","$classId",118],")",";",["T_WHITESPACE","\n\n        ",118],["T_IF","if",120],["T_WHITESPACE"," ",120],"(","!",["T_VARIABLE","$classModel",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","getId",120],"(",")",["T_WHITESPACE"," ",120],["T_BOOLEAN_OR","||",120],["T_WHITESPACE"," ",120],["T_VARIABLE","$classModel",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","getClassType",120],"(",")",["T_WHITESPACE"," ",120],["T_IS_NOT_EQUAL","!=",120],["T_WHITESPACE"," ",120],["T_STRING","Mage_Tax_Model_Class",120],["T_DOUBLE_COLON","::",120],["T_STRING","TAX_CLASS_TYPE_CUSTOMER",120],")",["T_WHITESPACE"," ",120],"{",["T_WHITESPACE","\n            ",120],["T_STRING","Mage",121],["T_DOUBLE_COLON","::",121],["T_STRING","getSingleton",121],"(",["T_CONSTANT_ENCAPSED_STRING","'adminhtml\/session'",121],")",["T_OBJECT_OPERATOR","->",121],["T_STRING","addError",121],"(",["T_STRING","Mage",121],["T_DOUBLE_COLON","::",121],["T_STRING","helper",121],"(",["T_CONSTANT_ENCAPSED_STRING","'tax'",121],")",["T_OBJECT_OPERATOR","->",121],["T_STRING","__",121],"(",["T_CONSTANT_ENCAPSED_STRING","'This class no longer exists'",121],")",")",";",["T_WHITESPACE","\n            ",121],["T_VARIABLE","$this",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","_redirect",122],"(",["T_CONSTANT_ENCAPSED_STRING","'*\/*\/'",122],")",";",["T_WHITESPACE","\n            ",122],["T_RETURN","return",123],";",["T_WHITESPACE","\n        ",123],"}",["T_WHITESPACE","\n\n        ",124],["T_VARIABLE","$ruleCollection",126],["T_WHITESPACE"," ",126],"=",["T_WHITESPACE"," ",126],["T_STRING","Mage",126],["T_DOUBLE_COLON","::",126],["T_STRING","getModel",126],"(",["T_CONSTANT_ENCAPSED_STRING","'tax\/calculation_rule'",126],")",["T_WHITESPACE","\n            ",126],["T_OBJECT_OPERATOR","->",127],["T_STRING","getCollection",127],"(",")",["T_WHITESPACE","\n            ",127],["T_OBJECT_OPERATOR","->",128],["T_STRING","setClassTypeFilter",128],"(",["T_STRING","Mage_Tax_Model_Class",128],["T_DOUBLE_COLON","::",128],["T_STRING","TAX_CLASS_TYPE_CUSTOMER",128],",",["T_WHITESPACE"," ",128],["T_VARIABLE","$classId",128],")",";",["T_WHITESPACE","\n\n        ",128],["T_IF","if",130],["T_WHITESPACE"," ",130],"(",["T_VARIABLE","$ruleCollection",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","getSize",130],"(",")",["T_WHITESPACE"," ",130],">",["T_WHITESPACE"," ",130],["T_LNUMBER","0",130],")",["T_WHITESPACE"," ",130],"{",["T_WHITESPACE","\n            ",130],["T_VARIABLE","$session",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","addError",131],"(",["T_STRING","Mage",131],["T_DOUBLE_COLON","::",131],["T_STRING","helper",131],"(",["T_CONSTANT_ENCAPSED_STRING","'tax'",131],")",["T_OBJECT_OPERATOR","->",131],["T_STRING","__",131],"(",["T_CONSTANT_ENCAPSED_STRING","'You cannot delete this tax class as it is used in Tax Rules. You have to delete the rules it is used in first.'",131],")",")",";",["T_WHITESPACE","\n            ",131],["T_VARIABLE","$this",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","_redirect",132],"(",["T_CONSTANT_ENCAPSED_STRING","'*\/*\/edit\/'",132],",",["T_ARRAY","array",132],"(",["T_CONSTANT_ENCAPSED_STRING","'id'",132],["T_DOUBLE_ARROW","=>",132],["T_VARIABLE","$classId",132],")",")",";",["T_WHITESPACE","\n            ",132],["T_RETURN","return",133],";",["T_WHITESPACE","\n        ",133],"}",["T_WHITESPACE","\n\n        ",134],["T_VARIABLE","$customerGroupCollection",136],["T_WHITESPACE"," ",136],"=",["T_WHITESPACE"," ",136],["T_STRING","Mage",136],["T_DOUBLE_COLON","::",136],["T_STRING","getModel",136],"(",["T_CONSTANT_ENCAPSED_STRING","'customer\/group'",136],")",["T_WHITESPACE","\n            ",136],["T_OBJECT_OPERATOR","->",137],["T_STRING","getCollection",137],"(",")",["T_WHITESPACE","\n            ",137],["T_OBJECT_OPERATOR","->",138],["T_STRING","addFieldToFilter",138],"(",["T_CONSTANT_ENCAPSED_STRING","'tax_class_id'",138],",",["T_WHITESPACE"," ",138],["T_VARIABLE","$classId",138],")",";",["T_WHITESPACE","\n        ",138],["T_VARIABLE","$groupCount",139],["T_WHITESPACE"," ",139],"=",["T_WHITESPACE"," ",139],["T_VARIABLE","$customerGroupCollection",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","getSize",139],"(",")",";",["T_WHITESPACE","\n\n        ",139],["T_IF","if",141],["T_WHITESPACE"," ",141],"(",["T_VARIABLE","$groupCount",141],["T_WHITESPACE"," ",141],">",["T_WHITESPACE"," ",141],["T_LNUMBER","0",141],")",["T_WHITESPACE"," ",141],"{",["T_WHITESPACE","\n            ",141],["T_VARIABLE","$session",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","addError",142],"(",["T_STRING","Mage",142],["T_DOUBLE_COLON","::",142],["T_STRING","helper",142],"(",["T_CONSTANT_ENCAPSED_STRING","'tax'",142],")",["T_OBJECT_OPERATOR","->",142],["T_STRING","__",142],"(",["T_CONSTANT_ENCAPSED_STRING","'You cannot delete this tax class as it is used for %d customer groups.'",142],",",["T_WHITESPACE"," ",142],["T_VARIABLE","$groupCount",142],")",")",";",["T_WHITESPACE","\n            ",142],["T_VARIABLE","$this",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","_redirect",143],"(",["T_CONSTANT_ENCAPSED_STRING","'*\/*\/edit\/'",143],",",["T_ARRAY","array",143],"(",["T_CONSTANT_ENCAPSED_STRING","'id'",143],["T_DOUBLE_ARROW","=>",143],["T_VARIABLE","$classId",143],")",")",";",["T_WHITESPACE","\n            ",143],["T_RETURN","return",144],";",["T_WHITESPACE","\n        ",144],"}",["T_WHITESPACE","\n\n        ",145],["T_TRY","try",147],["T_WHITESPACE"," ",147],"{",["T_WHITESPACE","\n            ",147],["T_VARIABLE","$classModel",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","delete",148],"(",")",";",["T_WHITESPACE","\n\n            ",148],["T_VARIABLE","$session",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","addSuccess",150],"(",["T_STRING","Mage",150],["T_DOUBLE_COLON","::",150],["T_STRING","helper",150],"(",["T_CONSTANT_ENCAPSED_STRING","'tax'",150],")",["T_OBJECT_OPERATOR","->",150],["T_STRING","__",150],"(",["T_CONSTANT_ENCAPSED_STRING","'The tax class has been deleted.'",150],")",")",";",["T_WHITESPACE","\n            ",150],["T_VARIABLE","$this",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","getResponse",151],"(",")",["T_OBJECT_OPERATOR","->",151],["T_STRING","setRedirect",151],"(",["T_VARIABLE","$this",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","getUrl",151],"(",["T_CONSTANT_ENCAPSED_STRING","\"*\/*\/\"",151],")",")",";",["T_WHITESPACE","\n            ",151],["T_RETURN","return",152],["T_WHITESPACE"," ",152],";",["T_WHITESPACE","\n        ",152],"}",["T_WHITESPACE"," ",153],["T_CATCH","catch",153],["T_WHITESPACE"," ",153],"(",["T_STRING","Mage_Core_Exception",153],["T_WHITESPACE"," ",153],["T_VARIABLE","$e",153],")",["T_WHITESPACE"," ",153],"{",["T_WHITESPACE","\n            ",153],["T_VARIABLE","$session",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","addError",154],"(",["T_VARIABLE","$e",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","getMessage",154],"(",")",")",";",["T_WHITESPACE","\n        ",154],"}",["T_WHITESPACE"," ",155],["T_CATCH","catch",155],["T_WHITESPACE"," ",155],"(",["T_STRING","Exception",155],["T_WHITESPACE"," ",155],["T_VARIABLE","$e",155],")",["T_WHITESPACE"," ",155],"{",["T_WHITESPACE","\n            ",155],["T_VARIABLE","$session",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","addException",156],"(",["T_VARIABLE","$e",156],",",["T_WHITESPACE"," ",156],["T_STRING","Mage",156],["T_DOUBLE_COLON","::",156],["T_STRING","helper",156],"(",["T_CONSTANT_ENCAPSED_STRING","'tax'",156],")",["T_OBJECT_OPERATOR","->",156],["T_STRING","__",156],"(",["T_CONSTANT_ENCAPSED_STRING","'An error occurred while deleting this tax class.'",156],")",")",";",["T_WHITESPACE","\n        ",156],"}",["T_WHITESPACE","\n\n        ",157],["T_VARIABLE","$this",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","_redirect",159],"(",["T_CONSTANT_ENCAPSED_STRING","'*\/*\/edit\/'",159],",",["T_ARRAY","array",159],"(",["T_CONSTANT_ENCAPSED_STRING","'id'",159],["T_DOUBLE_ARROW","=>",159],["T_VARIABLE","$classId",159],")",")",";",["T_WHITESPACE","\n    ",159],"}",["T_WHITESPACE","\n\n    ",160],["T_DOC_COMMENT","\/**\n     * Initialize action\n     *\n     * @return Mage_Adminhtml_Controller_Action\n     *\/",162],["T_WHITESPACE","\n    ",166],["T_PROTECTED","protected",167],["T_WHITESPACE"," ",167],["T_FUNCTION","function",167],["T_WHITESPACE"," ",167],["T_STRING","_initAction",167],"(",")",["T_WHITESPACE","\n    ",167],"{",["T_WHITESPACE","\n        ",168],["T_VARIABLE","$this",169],["T_OBJECT_OPERATOR","->",169],["T_STRING","loadLayout",169],"(",")",["T_WHITESPACE","\n            ",169],["T_OBJECT_OPERATOR","->",170],["T_STRING","_setActiveMenu",170],"(",["T_CONSTANT_ENCAPSED_STRING","'sales\/tax\/tax_class_customer'",170],")",["T_WHITESPACE","\n            ",170],["T_OBJECT_OPERATOR","->",171],["T_STRING","_addBreadcrumb",171],"(",["T_STRING","Mage",171],["T_DOUBLE_COLON","::",171],["T_STRING","helper",171],"(",["T_CONSTANT_ENCAPSED_STRING","'tax'",171],")",["T_OBJECT_OPERATOR","->",171],["T_STRING","__",171],"(",["T_CONSTANT_ENCAPSED_STRING","'Sales'",171],")",",",["T_WHITESPACE"," ",171],["T_STRING","Mage",171],["T_DOUBLE_COLON","::",171],["T_STRING","helper",171],"(",["T_CONSTANT_ENCAPSED_STRING","'tax'",171],")",["T_OBJECT_OPERATOR","->",171],["T_STRING","__",171],"(",["T_CONSTANT_ENCAPSED_STRING","'Sales'",171],")",")",["T_WHITESPACE","\n            ",171],["T_OBJECT_OPERATOR","->",172],["T_STRING","_addBreadcrumb",172],"(",["T_STRING","Mage",172],["T_DOUBLE_COLON","::",172],["T_STRING","helper",172],"(",["T_CONSTANT_ENCAPSED_STRING","'tax'",172],")",["T_OBJECT_OPERATOR","->",172],["T_STRING","__",172],"(",["T_CONSTANT_ENCAPSED_STRING","'Tax'",172],")",",",["T_WHITESPACE"," ",172],["T_STRING","Mage",172],["T_DOUBLE_COLON","::",172],["T_STRING","helper",172],"(",["T_CONSTANT_ENCAPSED_STRING","'tax'",172],")",["T_OBJECT_OPERATOR","->",172],["T_STRING","__",172],"(",["T_CONSTANT_ENCAPSED_STRING","'Tax'",172],")",")",["T_WHITESPACE","\n            ",172],["T_OBJECT_OPERATOR","->",173],["T_STRING","_addBreadcrumb",173],"(",["T_STRING","Mage",173],["T_DOUBLE_COLON","::",173],["T_STRING","helper",173],"(",["T_CONSTANT_ENCAPSED_STRING","'tax'",173],")",["T_OBJECT_OPERATOR","->",173],["T_STRING","__",173],"(",["T_CONSTANT_ENCAPSED_STRING","'Manage Customer Tax Classes'",173],")",",",["T_WHITESPACE"," ",173],["T_STRING","Mage",173],["T_DOUBLE_COLON","::",173],["T_STRING","helper",173],"(",["T_CONSTANT_ENCAPSED_STRING","'tax'",173],")",["T_OBJECT_OPERATOR","->",173],["T_STRING","__",173],"(",["T_CONSTANT_ENCAPSED_STRING","'Manage Customer Tax Classes'",173],")",")",["T_WHITESPACE","\n        ",173],";",["T_WHITESPACE","\n        ",174],["T_RETURN","return",175],["T_WHITESPACE"," ",175],["T_VARIABLE","$this",175],";",["T_WHITESPACE","\n    ",175],"}",["T_WHITESPACE","\n\n    ",176],["T_DOC_COMMENT","\/**\n     * Check current user permission on resource and privilege\n     *\n     * @return bool\n     *\/",178],["T_WHITESPACE","\n    ",182],["T_PROTECTED","protected",183],["T_WHITESPACE"," ",183],["T_FUNCTION","function",183],["T_WHITESPACE"," ",183],["T_STRING","_isAllowed",183],"(",")",["T_WHITESPACE","\n    ",183],"{",["T_WHITESPACE","\n        ",184],["T_RETURN","return",185],["T_WHITESPACE"," ",185],["T_STRING","Mage",185],["T_DOUBLE_COLON","::",185],["T_STRING","getSingleton",185],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/session'",185],")",["T_OBJECT_OPERATOR","->",185],["T_STRING","isAllowed",185],"(",["T_CONSTANT_ENCAPSED_STRING","'sales\/tax\/classes_customer'",185],")",";",["T_WHITESPACE","\n    ",185],"}",["T_WHITESPACE","\n",186],"}",["T_WHITESPACE","\n",187]]