[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Magento\n *\n * NOTICE OF LICENSE\n *\n * This source file is subject to the Open Software License (OSL 3.0)\n * that is bundled with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/opensource.org\/licenses\/osl-3.0.php\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@magento.com so we can send you a copy immediately.\n *\n * DISCLAIMER\n *\n * Do not edit or add to this file if you wish to upgrade Magento to newer\n * versions in the future. If you wish to customize Magento for your\n * needs please refer to http:\/\/www.magento.com for more information.\n *\n * @category    Mage\n * @package     Mage_Adminhtml\n * @copyright  Copyright (c) 2006-2016 X.commerce, Inc. and affiliates (http:\/\/www.magento.com)\n * @license    http:\/\/opensource.org\/licenses\/osl-3.0.php  Open Software License (OSL 3.0)\n *\/",2],["T_WHITESPACE","\n\n",25],["T_DOC_COMMENT","\/**\n * Catalog category controller\n *\n * @category   Mage\n * @package    Mage_Adminhtml\n * @author      Magento Core Team <core@magentocommerce.com>\n *\/",27],["T_WHITESPACE","\n",33],["T_CLASS","class",34],["T_WHITESPACE"," ",34],["T_STRING","Mage_Adminhtml_Catalog_CategoryController",34],["T_WHITESPACE"," ",34],["T_EXTENDS","extends",34],["T_WHITESPACE"," ",34],["T_STRING","Mage_Adminhtml_Controller_Action",34],["T_WHITESPACE","\n",34],"{",["T_WHITESPACE","\n    ",35],["T_DOC_COMMENT","\/**\n     * Initialize requested category and put it into registry.\n     * Root category can be returned, if inappropriate store\/category is specified\n     *\n     * @param bool $getRootInstead\n     * @return Mage_Catalog_Model_Category\n     *\/",36],["T_WHITESPACE","\n    ",42],["T_PROTECTED","protected",43],["T_WHITESPACE"," ",43],["T_FUNCTION","function",43],["T_WHITESPACE"," ",43],["T_STRING","_initCategory",43],"(",["T_VARIABLE","$getRootInstead",43],["T_WHITESPACE"," ",43],"=",["T_WHITESPACE"," ",43],["T_STRING","false",43],")",["T_WHITESPACE","\n    ",43],"{",["T_WHITESPACE","\n        ",44],["T_VARIABLE","$this",45],["T_OBJECT_OPERATOR","->",45],["T_STRING","_title",45],"(",["T_VARIABLE","$this",45],["T_OBJECT_OPERATOR","->",45],["T_STRING","__",45],"(",["T_CONSTANT_ENCAPSED_STRING","'Catalog'",45],")",")",["T_WHITESPACE","\n             ",45],["T_OBJECT_OPERATOR","->",46],["T_STRING","_title",46],"(",["T_VARIABLE","$this",46],["T_OBJECT_OPERATOR","->",46],["T_STRING","__",46],"(",["T_CONSTANT_ENCAPSED_STRING","'Categories'",46],")",")",["T_WHITESPACE","\n             ",46],["T_OBJECT_OPERATOR","->",47],["T_STRING","_title",47],"(",["T_VARIABLE","$this",47],["T_OBJECT_OPERATOR","->",47],["T_STRING","__",47],"(",["T_CONSTANT_ENCAPSED_STRING","'Manage Categories'",47],")",")",";",["T_WHITESPACE","\n\n        ",47],["T_VARIABLE","$categoryId",49],["T_WHITESPACE"," ",49],"=",["T_WHITESPACE"," ",49],["T_INT_CAST","(int)",49],["T_WHITESPACE"," ",49],["T_VARIABLE","$this",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","getRequest",49],"(",")",["T_OBJECT_OPERATOR","->",49],["T_STRING","getParam",49],"(",["T_CONSTANT_ENCAPSED_STRING","'id'",49],",",["T_STRING","false",49],")",";",["T_WHITESPACE","\n        ",49],["T_VARIABLE","$storeId",50],["T_WHITESPACE","    ",50],"=",["T_WHITESPACE"," ",50],["T_INT_CAST","(int)",50],["T_WHITESPACE"," ",50],["T_VARIABLE","$this",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","getRequest",50],"(",")",["T_OBJECT_OPERATOR","->",50],["T_STRING","getParam",50],"(",["T_CONSTANT_ENCAPSED_STRING","'store'",50],")",";",["T_WHITESPACE","\n        ",50],["T_VARIABLE","$category",51],["T_WHITESPACE"," ",51],"=",["T_WHITESPACE"," ",51],["T_STRING","Mage",51],["T_DOUBLE_COLON","::",51],["T_STRING","getModel",51],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog\/category'",51],")",";",["T_WHITESPACE","\n        ",51],["T_VARIABLE","$category",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","setStoreId",52],"(",["T_VARIABLE","$storeId",52],")",";",["T_WHITESPACE","\n\n        ",52],["T_IF","if",54],["T_WHITESPACE"," ",54],"(",["T_VARIABLE","$categoryId",54],")",["T_WHITESPACE"," ",54],"{",["T_WHITESPACE","\n            ",54],["T_VARIABLE","$category",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","load",55],"(",["T_VARIABLE","$categoryId",55],")",";",["T_WHITESPACE","\n            ",55],["T_IF","if",56],["T_WHITESPACE"," ",56],"(",["T_VARIABLE","$storeId",56],")",["T_WHITESPACE"," ",56],"{",["T_WHITESPACE","\n                ",56],["T_VARIABLE","$rootId",57],["T_WHITESPACE"," ",57],"=",["T_WHITESPACE"," ",57],["T_STRING","Mage",57],["T_DOUBLE_COLON","::",57],["T_STRING","app",57],"(",")",["T_OBJECT_OPERATOR","->",57],["T_STRING","getStore",57],"(",["T_VARIABLE","$storeId",57],")",["T_OBJECT_OPERATOR","->",57],["T_STRING","getRootCategoryId",57],"(",")",";",["T_WHITESPACE","\n                ",57],["T_IF","if",58],["T_WHITESPACE"," ",58],"(","!",["T_STRING","in_array",58],"(",["T_VARIABLE","$rootId",58],",",["T_WHITESPACE"," ",58],["T_VARIABLE","$category",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","getPathIds",58],"(",")",")",")",["T_WHITESPACE"," ",58],"{",["T_WHITESPACE","\n                    ",58],["T_COMMENT","\/\/ load root category instead wrong one\n",59],["T_WHITESPACE","                    ",60],["T_IF","if",60],["T_WHITESPACE"," ",60],"(",["T_VARIABLE","$getRootInstead",60],")",["T_WHITESPACE"," ",60],"{",["T_WHITESPACE","\n                        ",60],["T_VARIABLE","$category",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","load",61],"(",["T_VARIABLE","$rootId",61],")",";",["T_WHITESPACE","\n                    ",61],"}",["T_WHITESPACE","\n                    ",62],["T_ELSE","else",63],["T_WHITESPACE"," ",63],"{",["T_WHITESPACE","\n                        ",63],["T_VARIABLE","$this",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","_redirect",64],"(",["T_CONSTANT_ENCAPSED_STRING","'*\/*\/'",64],",",["T_WHITESPACE"," ",64],["T_ARRAY","array",64],"(",["T_CONSTANT_ENCAPSED_STRING","'_current'",64],["T_DOUBLE_ARROW","=>",64],["T_STRING","true",64],",",["T_WHITESPACE"," ",64],["T_CONSTANT_ENCAPSED_STRING","'id'",64],["T_DOUBLE_ARROW","=>",64],["T_STRING","null",64],")",")",";",["T_WHITESPACE","\n                        ",64],["T_RETURN","return",65],["T_WHITESPACE"," ",65],["T_STRING","false",65],";",["T_WHITESPACE","\n                    ",65],"}",["T_WHITESPACE","\n                ",66],"}",["T_WHITESPACE","\n            ",67],"}",["T_WHITESPACE","\n        ",68],"}",["T_WHITESPACE","\n\n        ",69],["T_IF","if",71],["T_WHITESPACE"," ",71],"(",["T_VARIABLE","$activeTabId",71],["T_WHITESPACE"," ",71],"=",["T_WHITESPACE"," ",71],["T_STRING_CAST","(string)",71],["T_WHITESPACE"," ",71],["T_VARIABLE","$this",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","getRequest",71],"(",")",["T_OBJECT_OPERATOR","->",71],["T_STRING","getParam",71],"(",["T_CONSTANT_ENCAPSED_STRING","'active_tab_id'",71],")",")",["T_WHITESPACE"," ",71],"{",["T_WHITESPACE","\n            ",71],["T_STRING","Mage",72],["T_DOUBLE_COLON","::",72],["T_STRING","getSingleton",72],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/session'",72],")",["T_OBJECT_OPERATOR","->",72],["T_STRING","setActiveTabId",72],"(",["T_VARIABLE","$activeTabId",72],")",";",["T_WHITESPACE","\n        ",72],"}",["T_WHITESPACE","\n\n        ",73],["T_STRING","Mage",75],["T_DOUBLE_COLON","::",75],["T_STRING","register",75],"(",["T_CONSTANT_ENCAPSED_STRING","'category'",75],",",["T_WHITESPACE"," ",75],["T_VARIABLE","$category",75],")",";",["T_WHITESPACE","\n        ",75],["T_STRING","Mage",76],["T_DOUBLE_COLON","::",76],["T_STRING","register",76],"(",["T_CONSTANT_ENCAPSED_STRING","'current_category'",76],",",["T_WHITESPACE"," ",76],["T_VARIABLE","$category",76],")",";",["T_WHITESPACE","\n        ",76],["T_STRING","Mage",77],["T_DOUBLE_COLON","::",77],["T_STRING","getSingleton",77],"(",["T_CONSTANT_ENCAPSED_STRING","'cms\/wysiwyg_config'",77],")",["T_OBJECT_OPERATOR","->",77],["T_STRING","setStoreId",77],"(",["T_VARIABLE","$this",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","getRequest",77],"(",")",["T_OBJECT_OPERATOR","->",77],["T_STRING","getParam",77],"(",["T_CONSTANT_ENCAPSED_STRING","'store'",77],")",")",";",["T_WHITESPACE","\n        ",77],["T_RETURN","return",78],["T_WHITESPACE"," ",78],["T_VARIABLE","$category",78],";",["T_WHITESPACE","\n    ",78],"}",["T_WHITESPACE","\n    ",79],["T_DOC_COMMENT","\/**\n     * Catalog categories index action\n     *\/",80],["T_WHITESPACE","\n    ",82],["T_PUBLIC","public",83],["T_WHITESPACE"," ",83],["T_FUNCTION","function",83],["T_WHITESPACE"," ",83],["T_STRING","indexAction",83],"(",")",["T_WHITESPACE","\n    ",83],"{",["T_WHITESPACE","\n        ",84],["T_VARIABLE","$this",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","_forward",85],"(",["T_CONSTANT_ENCAPSED_STRING","'edit'",85],")",";",["T_WHITESPACE","\n    ",85],"}",["T_WHITESPACE","\n\n    ",86],["T_DOC_COMMENT","\/**\n     * Add new category form\n     *\/",88],["T_WHITESPACE","\n    ",90],["T_PUBLIC","public",91],["T_WHITESPACE"," ",91],["T_FUNCTION","function",91],["T_WHITESPACE"," ",91],["T_STRING","addAction",91],"(",")",["T_WHITESPACE","\n    ",91],"{",["T_WHITESPACE","\n        ",92],["T_STRING","Mage",93],["T_DOUBLE_COLON","::",93],["T_STRING","getSingleton",93],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/session'",93],")",["T_OBJECT_OPERATOR","->",93],["T_STRING","unsActiveTabId",93],"(",")",";",["T_WHITESPACE","\n        ",93],["T_VARIABLE","$this",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","_forward",94],"(",["T_CONSTANT_ENCAPSED_STRING","'edit'",94],")",";",["T_WHITESPACE","\n    ",94],"}",["T_WHITESPACE","\n\n    ",95],["T_DOC_COMMENT","\/**\n     * Edit category page\n     *\/",97],["T_WHITESPACE","\n    ",99],["T_PUBLIC","public",100],["T_WHITESPACE"," ",100],["T_FUNCTION","function",100],["T_WHITESPACE"," ",100],["T_STRING","editAction",100],"(",")",["T_WHITESPACE","\n    ",100],"{",["T_WHITESPACE","\n        ",101],["T_VARIABLE","$params",102],"[",["T_CONSTANT_ENCAPSED_STRING","'_current'",102],"]",["T_WHITESPACE"," ",102],"=",["T_WHITESPACE"," ",102],["T_STRING","true",102],";",["T_WHITESPACE","\n        ",102],["T_VARIABLE","$redirect",103],["T_WHITESPACE"," ",103],"=",["T_WHITESPACE"," ",103],["T_STRING","false",103],";",["T_WHITESPACE","\n\n        ",103],["T_VARIABLE","$storeId",105],["T_WHITESPACE"," ",105],"=",["T_WHITESPACE"," ",105],["T_INT_CAST","(int)",105],["T_WHITESPACE"," ",105],["T_VARIABLE","$this",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","getRequest",105],"(",")",["T_OBJECT_OPERATOR","->",105],["T_STRING","getParam",105],"(",["T_CONSTANT_ENCAPSED_STRING","'store'",105],")",";",["T_WHITESPACE","\n        ",105],["T_VARIABLE","$parentId",106],["T_WHITESPACE"," ",106],"=",["T_WHITESPACE"," ",106],["T_INT_CAST","(int)",106],["T_WHITESPACE"," ",106],["T_VARIABLE","$this",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","getRequest",106],"(",")",["T_OBJECT_OPERATOR","->",106],["T_STRING","getParam",106],"(",["T_CONSTANT_ENCAPSED_STRING","'parent'",106],")",";",["T_WHITESPACE","\n        ",106],["T_VARIABLE","$_prevStoreId",107],["T_WHITESPACE"," ",107],"=",["T_WHITESPACE"," ",107],["T_STRING","Mage",107],["T_DOUBLE_COLON","::",107],["T_STRING","getSingleton",107],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/session'",107],")",["T_WHITESPACE","\n            ",107],["T_OBJECT_OPERATOR","->",108],["T_STRING","getLastViewedStore",108],"(",["T_STRING","true",108],")",";",["T_WHITESPACE","\n\n        ",108],["T_IF","if",110],["T_WHITESPACE"," ",110],"(","!",["T_EMPTY","empty",110],"(",["T_VARIABLE","$_prevStoreId",110],")",["T_WHITESPACE"," ",110],["T_BOOLEAN_AND","&&",110],["T_WHITESPACE"," ",110],"!",["T_VARIABLE","$this",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","getRequest",110],"(",")",["T_OBJECT_OPERATOR","->",110],["T_STRING","getQuery",110],"(",["T_CONSTANT_ENCAPSED_STRING","'isAjax'",110],")",")",["T_WHITESPACE"," ",110],"{",["T_WHITESPACE","\n            ",110],["T_VARIABLE","$params",111],"[",["T_CONSTANT_ENCAPSED_STRING","'store'",111],"]",["T_WHITESPACE"," ",111],"=",["T_WHITESPACE"," ",111],["T_VARIABLE","$_prevStoreId",111],";",["T_WHITESPACE","\n            ",111],["T_VARIABLE","$redirect",112],["T_WHITESPACE"," ",112],"=",["T_WHITESPACE"," ",112],["T_STRING","true",112],";",["T_WHITESPACE","\n        ",112],"}",["T_WHITESPACE","\n\n        ",113],["T_VARIABLE","$categoryId",115],["T_WHITESPACE"," ",115],"=",["T_WHITESPACE"," ",115],["T_INT_CAST","(int)",115],["T_WHITESPACE"," ",115],["T_VARIABLE","$this",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","getRequest",115],"(",")",["T_OBJECT_OPERATOR","->",115],["T_STRING","getParam",115],"(",["T_CONSTANT_ENCAPSED_STRING","'id'",115],")",";",["T_WHITESPACE","\n        ",115],["T_VARIABLE","$_prevCategoryId",116],["T_WHITESPACE"," ",116],"=",["T_WHITESPACE"," ",116],["T_STRING","Mage",116],["T_DOUBLE_COLON","::",116],["T_STRING","getSingleton",116],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/session'",116],")",["T_WHITESPACE","\n            ",116],["T_OBJECT_OPERATOR","->",117],["T_STRING","getLastEditedCategory",117],"(",["T_STRING","true",117],")",";",["T_WHITESPACE","\n\n\n        ",117],["T_IF","if",120],["T_WHITESPACE"," ",120],"(",["T_VARIABLE","$_prevCategoryId",120],["T_WHITESPACE","\n            ",120],["T_BOOLEAN_AND","&&",121],["T_WHITESPACE"," ",121],"!",["T_VARIABLE","$this",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","getRequest",121],"(",")",["T_OBJECT_OPERATOR","->",121],["T_STRING","getQuery",121],"(",["T_CONSTANT_ENCAPSED_STRING","'isAjax'",121],")",["T_WHITESPACE","\n            ",121],["T_BOOLEAN_AND","&&",122],["T_WHITESPACE"," ",122],"!",["T_VARIABLE","$this",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","getRequest",122],"(",")",["T_OBJECT_OPERATOR","->",122],["T_STRING","getParam",122],"(",["T_CONSTANT_ENCAPSED_STRING","'clear'",122],")",")",["T_WHITESPACE"," ",122],"{",["T_WHITESPACE","\n           ",122],["T_COMMENT","\/\/ $params['id'] = $_prevCategoryId;\n",123],["T_WHITESPACE","             ",124],["T_VARIABLE","$this",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","getRequest",124],"(",")",["T_OBJECT_OPERATOR","->",124],["T_STRING","setParam",124],"(",["T_CONSTANT_ENCAPSED_STRING","'id'",124],",",["T_VARIABLE","$_prevCategoryId",124],")",";",["T_WHITESPACE","\n            ",124],["T_COMMENT","\/\/$redirect = true;\n",125],["T_WHITESPACE","        ",126],"}",["T_WHITESPACE","\n\n         ",126],["T_IF","if",128],["T_WHITESPACE"," ",128],"(",["T_VARIABLE","$redirect",128],")",["T_WHITESPACE"," ",128],"{",["T_WHITESPACE","\n            ",128],["T_VARIABLE","$this",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","_redirect",129],"(",["T_CONSTANT_ENCAPSED_STRING","'*\/*\/edit'",129],",",["T_WHITESPACE"," ",129],["T_VARIABLE","$params",129],")",";",["T_WHITESPACE","\n            ",129],["T_RETURN","return",130],";",["T_WHITESPACE","\n        ",130],"}",["T_WHITESPACE","\n\n        ",131],["T_IF","if",133],["T_WHITESPACE"," ",133],"(",["T_VARIABLE","$storeId",133],["T_WHITESPACE"," ",133],["T_BOOLEAN_AND","&&",133],["T_WHITESPACE"," ",133],"!",["T_VARIABLE","$categoryId",133],["T_WHITESPACE"," ",133],["T_BOOLEAN_AND","&&",133],["T_WHITESPACE"," ",133],"!",["T_VARIABLE","$parentId",133],")",["T_WHITESPACE"," ",133],"{",["T_WHITESPACE","\n            ",133],["T_VARIABLE","$store",134],["T_WHITESPACE"," ",134],"=",["T_WHITESPACE"," ",134],["T_STRING","Mage",134],["T_DOUBLE_COLON","::",134],["T_STRING","app",134],"(",")",["T_OBJECT_OPERATOR","->",134],["T_STRING","getStore",134],"(",["T_VARIABLE","$storeId",134],")",";",["T_WHITESPACE","\n            ",134],["T_VARIABLE","$_prevCategoryId",135],["T_WHITESPACE"," ",135],"=",["T_WHITESPACE"," ",135],["T_INT_CAST","(int)",135],["T_WHITESPACE"," ",135],["T_VARIABLE","$store",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","getRootCategoryId",135],"(",")",";",["T_WHITESPACE","\n            ",135],["T_VARIABLE","$this",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","getRequest",136],"(",")",["T_OBJECT_OPERATOR","->",136],["T_STRING","setParam",136],"(",["T_CONSTANT_ENCAPSED_STRING","'id'",136],",",["T_WHITESPACE"," ",136],["T_VARIABLE","$_prevCategoryId",136],")",";",["T_WHITESPACE","\n        ",136],"}",["T_WHITESPACE","\n\n        ",137],["T_IF","if",139],["T_WHITESPACE"," ",139],"(","!","(",["T_VARIABLE","$category",139],["T_WHITESPACE"," ",139],"=",["T_WHITESPACE"," ",139],["T_VARIABLE","$this",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","_initCategory",139],"(",["T_STRING","true",139],")",")",")",["T_WHITESPACE"," ",139],"{",["T_WHITESPACE","\n            ",139],["T_RETURN","return",140],";",["T_WHITESPACE","\n        ",140],"}",["T_WHITESPACE","\n\n        ",141],["T_VARIABLE","$this",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","_title",143],"(",["T_VARIABLE","$categoryId",143],["T_WHITESPACE"," ",143],"?",["T_WHITESPACE"," ",143],["T_VARIABLE","$category",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","getName",143],"(",")",["T_WHITESPACE"," ",143],":",["T_WHITESPACE"," ",143],["T_VARIABLE","$this",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","__",143],"(",["T_CONSTANT_ENCAPSED_STRING","'New Category'",143],")",")",";",["T_WHITESPACE","\n\n        ",143],["T_DOC_COMMENT","\/**\n         * Check if we have data in session (if duering category save was exceprion)\n         *\/",145],["T_WHITESPACE","\n        ",147],["T_VARIABLE","$data",148],["T_WHITESPACE"," ",148],"=",["T_WHITESPACE"," ",148],["T_STRING","Mage",148],["T_DOUBLE_COLON","::",148],["T_STRING","getSingleton",148],"(",["T_CONSTANT_ENCAPSED_STRING","'adminhtml\/session'",148],")",["T_OBJECT_OPERATOR","->",148],["T_STRING","getCategoryData",148],"(",["T_STRING","true",148],")",";",["T_WHITESPACE","\n        ",148],["T_IF","if",149],["T_WHITESPACE"," ",149],"(",["T_ISSET","isset",149],"(",["T_VARIABLE","$data",149],"[",["T_CONSTANT_ENCAPSED_STRING","'general'",149],"]",")",")",["T_WHITESPACE"," ",149],"{",["T_WHITESPACE","\n            ",149],["T_VARIABLE","$category",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","addData",150],"(",["T_VARIABLE","$data",150],"[",["T_CONSTANT_ENCAPSED_STRING","'general'",150],"]",")",";",["T_WHITESPACE","\n        ",150],"}",["T_WHITESPACE","\n\n        ",151],["T_DOC_COMMENT","\/**\n         * Build response for ajax request\n         *\/",153],["T_WHITESPACE","\n        ",155],["T_IF","if",156],["T_WHITESPACE"," ",156],"(",["T_VARIABLE","$this",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","getRequest",156],"(",")",["T_OBJECT_OPERATOR","->",156],["T_STRING","getQuery",156],"(",["T_CONSTANT_ENCAPSED_STRING","'isAjax'",156],")",")",["T_WHITESPACE"," ",156],"{",["T_WHITESPACE","\n            ",156],["T_COMMENT","\/\/ prepare breadcrumbs of selected category, if any\n",157],["T_WHITESPACE","            ",158],["T_VARIABLE","$breadcrumbsPath",158],["T_WHITESPACE"," ",158],"=",["T_WHITESPACE"," ",158],["T_VARIABLE","$category",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","getPath",158],"(",")",";",["T_WHITESPACE","\n            ",158],["T_IF","if",159],["T_WHITESPACE"," ",159],"(",["T_EMPTY","empty",159],"(",["T_VARIABLE","$breadcrumbsPath",159],")",")",["T_WHITESPACE"," ",159],"{",["T_WHITESPACE","\n                ",159],["T_COMMENT","\/\/ but if no category, and it is deleted - prepare breadcrumbs from path, saved in session\n",160],["T_WHITESPACE","                ",161],["T_VARIABLE","$breadcrumbsPath",161],["T_WHITESPACE"," ",161],"=",["T_WHITESPACE"," ",161],["T_STRING","Mage",161],["T_DOUBLE_COLON","::",161],["T_STRING","getSingleton",161],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/session'",161],")",["T_OBJECT_OPERATOR","->",161],["T_STRING","getDeletedPath",161],"(",["T_STRING","true",161],")",";",["T_WHITESPACE","\n                ",161],["T_IF","if",162],["T_WHITESPACE"," ",162],"(","!",["T_EMPTY","empty",162],"(",["T_VARIABLE","$breadcrumbsPath",162],")",")",["T_WHITESPACE"," ",162],"{",["T_WHITESPACE","\n                    ",162],["T_VARIABLE","$breadcrumbsPath",163],["T_WHITESPACE"," ",163],"=",["T_WHITESPACE"," ",163],["T_STRING","explode",163],"(",["T_CONSTANT_ENCAPSED_STRING","'\/'",163],",",["T_WHITESPACE"," ",163],["T_VARIABLE","$breadcrumbsPath",163],")",";",["T_WHITESPACE","\n                    ",163],["T_COMMENT","\/\/ no need to get parent breadcrumbs if deleting category level 1\n",164],["T_WHITESPACE","                    ",165],["T_IF","if",165],["T_WHITESPACE"," ",165],"(",["T_STRING","count",165],"(",["T_VARIABLE","$breadcrumbsPath",165],")",["T_WHITESPACE"," ",165],["T_IS_SMALLER_OR_EQUAL","<=",165],["T_WHITESPACE"," ",165],["T_LNUMBER","1",165],")",["T_WHITESPACE"," ",165],"{",["T_WHITESPACE","\n                        ",165],["T_VARIABLE","$breadcrumbsPath",166],["T_WHITESPACE"," ",166],"=",["T_WHITESPACE"," ",166],["T_CONSTANT_ENCAPSED_STRING","''",166],";",["T_WHITESPACE","\n                    ",166],"}",["T_WHITESPACE","\n                    ",167],["T_ELSE","else",168],["T_WHITESPACE"," ",168],"{",["T_WHITESPACE","\n                        ",168],["T_STRING","array_pop",169],"(",["T_VARIABLE","$breadcrumbsPath",169],")",";",["T_WHITESPACE","\n                        ",169],["T_VARIABLE","$breadcrumbsPath",170],["T_WHITESPACE"," ",170],"=",["T_WHITESPACE"," ",170],["T_STRING","implode",170],"(",["T_CONSTANT_ENCAPSED_STRING","'\/'",170],",",["T_WHITESPACE"," ",170],["T_VARIABLE","$breadcrumbsPath",170],")",";",["T_WHITESPACE","\n                    ",170],"}",["T_WHITESPACE","\n                ",171],"}",["T_WHITESPACE","\n            ",172],"}",["T_WHITESPACE","\n\n            ",173],["T_STRING","Mage",175],["T_DOUBLE_COLON","::",175],["T_STRING","getSingleton",175],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/session'",175],")",["T_WHITESPACE","\n                ",175],["T_OBJECT_OPERATOR","->",176],["T_STRING","setLastViewedStore",176],"(",["T_VARIABLE","$this",176],["T_OBJECT_OPERATOR","->",176],["T_STRING","getRequest",176],"(",")",["T_OBJECT_OPERATOR","->",176],["T_STRING","getParam",176],"(",["T_CONSTANT_ENCAPSED_STRING","'store'",176],")",")",";",["T_WHITESPACE","\n            ",176],["T_STRING","Mage",177],["T_DOUBLE_COLON","::",177],["T_STRING","getSingleton",177],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/session'",177],")",["T_WHITESPACE","\n                ",177],["T_OBJECT_OPERATOR","->",178],["T_STRING","setLastEditedCategory",178],"(",["T_VARIABLE","$category",178],["T_OBJECT_OPERATOR","->",178],["T_STRING","getId",178],"(",")",")",";",["T_WHITESPACE","\n",178],["T_COMMENT","\/\/            $this->_initLayoutMessages('adminhtml\/session');\n",179],["T_WHITESPACE","            ",180],["T_VARIABLE","$this",180],["T_OBJECT_OPERATOR","->",180],["T_STRING","loadLayout",180],"(",")",";",["T_WHITESPACE","\n\n            ",180],["T_VARIABLE","$eventResponse",182],["T_WHITESPACE"," ",182],"=",["T_WHITESPACE"," ",182],["T_NEW","new",182],["T_WHITESPACE"," ",182],["T_STRING","Varien_Object",182],"(",["T_ARRAY","array",182],"(",["T_WHITESPACE","\n                ",182],["T_CONSTANT_ENCAPSED_STRING","'content'",183],["T_WHITESPACE"," ",183],["T_DOUBLE_ARROW","=>",183],["T_WHITESPACE"," ",183],["T_VARIABLE","$this",183],["T_OBJECT_OPERATOR","->",183],["T_STRING","getLayout",183],"(",")",["T_OBJECT_OPERATOR","->",183],["T_STRING","getBlock",183],"(",["T_CONSTANT_ENCAPSED_STRING","'category.edit'",183],")",["T_OBJECT_OPERATOR","->",183],["T_STRING","getFormHtml",183],"(",")",["T_WHITESPACE","\n                    ",183],".",["T_WHITESPACE"," ",184],["T_VARIABLE","$this",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","getLayout",184],"(",")",["T_OBJECT_OPERATOR","->",184],["T_STRING","getBlock",184],"(",["T_CONSTANT_ENCAPSED_STRING","'category.tree'",184],")",["T_WHITESPACE","\n                    ",184],["T_OBJECT_OPERATOR","->",185],["T_STRING","getBreadcrumbsJavascript",185],"(",["T_VARIABLE","$breadcrumbsPath",185],",",["T_WHITESPACE"," ",185],["T_CONSTANT_ENCAPSED_STRING","'editingCategoryBreadcrumbs'",185],")",",",["T_WHITESPACE","\n                ",185],["T_CONSTANT_ENCAPSED_STRING","'messages'",186],["T_WHITESPACE"," ",186],["T_DOUBLE_ARROW","=>",186],["T_WHITESPACE"," ",186],["T_VARIABLE","$this",186],["T_OBJECT_OPERATOR","->",186],["T_STRING","getLayout",186],"(",")",["T_OBJECT_OPERATOR","->",186],["T_STRING","getMessagesBlock",186],"(",")",["T_OBJECT_OPERATOR","->",186],["T_STRING","getGroupedHtml",186],"(",")",",",["T_WHITESPACE","\n            ",186],")",")",";",["T_WHITESPACE","\n\n            ",187],["T_STRING","Mage",189],["T_DOUBLE_COLON","::",189],["T_STRING","dispatchEvent",189],"(",["T_CONSTANT_ENCAPSED_STRING","'category_prepare_ajax_response'",189],",",["T_WHITESPACE"," ",189],["T_ARRAY","array",189],"(",["T_WHITESPACE","\n                ",189],["T_CONSTANT_ENCAPSED_STRING","'response'",190],["T_WHITESPACE"," ",190],["T_DOUBLE_ARROW","=>",190],["T_WHITESPACE"," ",190],["T_VARIABLE","$eventResponse",190],",",["T_WHITESPACE","\n                ",190],["T_CONSTANT_ENCAPSED_STRING","'controller'",191],["T_WHITESPACE"," ",191],["T_DOUBLE_ARROW","=>",191],["T_WHITESPACE"," ",191],["T_VARIABLE","$this",191],["T_WHITESPACE","\n            ",191],")",")",";",["T_WHITESPACE","\n\n            ",192],["T_VARIABLE","$this",194],["T_OBJECT_OPERATOR","->",194],["T_STRING","getResponse",194],"(",")",["T_OBJECT_OPERATOR","->",194],["T_STRING","setBody",194],"(",["T_WHITESPACE","\n                ",194],["T_STRING","Mage",195],["T_DOUBLE_COLON","::",195],["T_STRING","helper",195],"(",["T_CONSTANT_ENCAPSED_STRING","'core'",195],")",["T_OBJECT_OPERATOR","->",195],["T_STRING","jsonEncode",195],"(",["T_VARIABLE","$eventResponse",195],["T_OBJECT_OPERATOR","->",195],["T_STRING","getData",195],"(",")",")",["T_WHITESPACE","\n            ",195],")",";",["T_WHITESPACE","\n\n            ",196],["T_RETURN","return",198],";",["T_WHITESPACE","\n        ",198],"}",["T_WHITESPACE","\n\n        ",199],["T_VARIABLE","$this",201],["T_OBJECT_OPERATOR","->",201],["T_STRING","loadLayout",201],"(",")",";",["T_WHITESPACE","\n        ",201],["T_VARIABLE","$this",202],["T_OBJECT_OPERATOR","->",202],["T_STRING","_setActiveMenu",202],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog\/categories'",202],")",";",["T_WHITESPACE","\n        ",202],["T_VARIABLE","$this",203],["T_OBJECT_OPERATOR","->",203],["T_STRING","getLayout",203],"(",")",["T_OBJECT_OPERATOR","->",203],["T_STRING","getBlock",203],"(",["T_CONSTANT_ENCAPSED_STRING","'head'",203],")",["T_OBJECT_OPERATOR","->",203],["T_STRING","setCanLoadExtJs",203],"(",["T_STRING","true",203],")",["T_WHITESPACE","\n            ",203],["T_OBJECT_OPERATOR","->",204],["T_STRING","setContainerCssClass",204],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog-categories'",204],")",";",["T_WHITESPACE","\n\n        ",204],["T_VARIABLE","$this",206],["T_OBJECT_OPERATOR","->",206],["T_STRING","_addBreadcrumb",206],"(",["T_STRING","Mage",206],["T_DOUBLE_COLON","::",206],["T_STRING","helper",206],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog'",206],")",["T_OBJECT_OPERATOR","->",206],["T_STRING","__",206],"(",["T_CONSTANT_ENCAPSED_STRING","'Manage Catalog Categories'",206],")",",",["T_WHITESPACE","\n             ",206],["T_STRING","Mage",207],["T_DOUBLE_COLON","::",207],["T_STRING","helper",207],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog'",207],")",["T_OBJECT_OPERATOR","->",207],["T_STRING","__",207],"(",["T_CONSTANT_ENCAPSED_STRING","'Manage Categories'",207],")",["T_WHITESPACE","\n        ",207],")",";",["T_WHITESPACE","\n\n        ",208],["T_VARIABLE","$block",210],["T_WHITESPACE"," ",210],"=",["T_WHITESPACE"," ",210],["T_VARIABLE","$this",210],["T_OBJECT_OPERATOR","->",210],["T_STRING","getLayout",210],"(",")",["T_OBJECT_OPERATOR","->",210],["T_STRING","getBlock",210],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog.wysiwyg.js'",210],")",";",["T_WHITESPACE","\n        ",210],["T_IF","if",211],["T_WHITESPACE"," ",211],"(",["T_VARIABLE","$block",211],")",["T_WHITESPACE"," ",211],"{",["T_WHITESPACE","\n            ",211],["T_VARIABLE","$block",212],["T_OBJECT_OPERATOR","->",212],["T_STRING","setStoreId",212],"(",["T_VARIABLE","$storeId",212],")",";",["T_WHITESPACE","\n        ",212],"}",["T_WHITESPACE","\n\n        ",213],["T_VARIABLE","$this",215],["T_OBJECT_OPERATOR","->",215],["T_STRING","renderLayout",215],"(",")",";",["T_WHITESPACE","\n    ",215],"}",["T_WHITESPACE","\n\n    ",216],["T_DOC_COMMENT","\/**\n     * WYSIWYG editor action for ajax request\n     *\n     *\/",218],["T_WHITESPACE","\n    ",221],["T_PUBLIC","public",222],["T_WHITESPACE"," ",222],["T_FUNCTION","function",222],["T_WHITESPACE"," ",222],["T_STRING","wysiwygAction",222],"(",")",["T_WHITESPACE","\n    ",222],"{",["T_WHITESPACE","\n        ",223],["T_VARIABLE","$elementId",224],["T_WHITESPACE"," ",224],"=",["T_WHITESPACE"," ",224],["T_VARIABLE","$this",224],["T_OBJECT_OPERATOR","->",224],["T_STRING","getRequest",224],"(",")",["T_OBJECT_OPERATOR","->",224],["T_STRING","getParam",224],"(",["T_CONSTANT_ENCAPSED_STRING","'element_id'",224],",",["T_WHITESPACE"," ",224],["T_STRING","md5",224],"(",["T_STRING","microtime",224],"(",")",")",")",";",["T_WHITESPACE","\n        ",224],["T_VARIABLE","$storeId",225],["T_WHITESPACE"," ",225],"=",["T_WHITESPACE"," ",225],["T_VARIABLE","$this",225],["T_OBJECT_OPERATOR","->",225],["T_STRING","getRequest",225],"(",")",["T_OBJECT_OPERATOR","->",225],["T_STRING","getParam",225],"(",["T_CONSTANT_ENCAPSED_STRING","'store_id'",225],",",["T_WHITESPACE"," ",225],["T_LNUMBER","0",225],")",";",["T_WHITESPACE","\n        ",225],["T_VARIABLE","$storeMediaUrl",226],["T_WHITESPACE"," ",226],"=",["T_WHITESPACE"," ",226],["T_STRING","Mage",226],["T_DOUBLE_COLON","::",226],["T_STRING","app",226],"(",")",["T_OBJECT_OPERATOR","->",226],["T_STRING","getStore",226],"(",["T_VARIABLE","$storeId",226],")",["T_OBJECT_OPERATOR","->",226],["T_STRING","getBaseUrl",226],"(",["T_STRING","Mage_Core_Model_Store",226],["T_DOUBLE_COLON","::",226],["T_STRING","URL_TYPE_MEDIA",226],")",";",["T_WHITESPACE","\n\n        ",226],["T_VARIABLE","$content",228],["T_WHITESPACE"," ",228],"=",["T_WHITESPACE"," ",228],["T_VARIABLE","$this",228],["T_OBJECT_OPERATOR","->",228],["T_STRING","getLayout",228],"(",")",["T_OBJECT_OPERATOR","->",228],["T_STRING","createBlock",228],"(",["T_CONSTANT_ENCAPSED_STRING","'adminhtml\/catalog_helper_form_wysiwyg_content'",228],",",["T_WHITESPACE"," ",228],["T_CONSTANT_ENCAPSED_STRING","''",228],",",["T_WHITESPACE"," ",228],["T_ARRAY","array",228],"(",["T_WHITESPACE","\n            ",228],["T_CONSTANT_ENCAPSED_STRING","'editor_element_id'",229],["T_WHITESPACE"," ",229],["T_DOUBLE_ARROW","=>",229],["T_WHITESPACE"," ",229],["T_VARIABLE","$elementId",229],",",["T_WHITESPACE","\n            ",229],["T_CONSTANT_ENCAPSED_STRING","'store_id'",230],["T_WHITESPACE","          ",230],["T_DOUBLE_ARROW","=>",230],["T_WHITESPACE"," ",230],["T_VARIABLE","$storeId",230],",",["T_WHITESPACE","\n            ",230],["T_CONSTANT_ENCAPSED_STRING","'store_media_url'",231],["T_WHITESPACE","   ",231],["T_DOUBLE_ARROW","=>",231],["T_WHITESPACE"," ",231],["T_VARIABLE","$storeMediaUrl",231],",",["T_WHITESPACE","\n        ",231],")",")",";",["T_WHITESPACE","\n\n        ",232],["T_VARIABLE","$this",234],["T_OBJECT_OPERATOR","->",234],["T_STRING","getResponse",234],"(",")",["T_OBJECT_OPERATOR","->",234],["T_STRING","setBody",234],"(",["T_VARIABLE","$content",234],["T_OBJECT_OPERATOR","->",234],["T_STRING","toHtml",234],"(",")",")",";",["T_WHITESPACE","\n    ",234],"}",["T_WHITESPACE","\n\n    ",235],["T_DOC_COMMENT","\/**\n     * Get tree node (Ajax version)\n     *\/",237],["T_WHITESPACE","\n    ",239],["T_PUBLIC","public",240],["T_WHITESPACE"," ",240],["T_FUNCTION","function",240],["T_WHITESPACE"," ",240],["T_STRING","categoriesJsonAction",240],"(",")",["T_WHITESPACE","\n    ",240],"{",["T_WHITESPACE","\n        ",241],["T_IF","if",242],["T_WHITESPACE"," ",242],"(",["T_VARIABLE","$this",242],["T_OBJECT_OPERATOR","->",242],["T_STRING","getRequest",242],"(",")",["T_OBJECT_OPERATOR","->",242],["T_STRING","getParam",242],"(",["T_CONSTANT_ENCAPSED_STRING","'expand_all'",242],")",")",["T_WHITESPACE"," ",242],"{",["T_WHITESPACE","\n            ",242],["T_STRING","Mage",243],["T_DOUBLE_COLON","::",243],["T_STRING","getSingleton",243],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/session'",243],")",["T_OBJECT_OPERATOR","->",243],["T_STRING","setIsTreeWasExpanded",243],"(",["T_STRING","true",243],")",";",["T_WHITESPACE","\n        ",243],"}",["T_WHITESPACE"," ",244],["T_ELSE","else",244],["T_WHITESPACE"," ",244],"{",["T_WHITESPACE","\n            ",244],["T_STRING","Mage",245],["T_DOUBLE_COLON","::",245],["T_STRING","getSingleton",245],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/session'",245],")",["T_OBJECT_OPERATOR","->",245],["T_STRING","setIsTreeWasExpanded",245],"(",["T_STRING","false",245],")",";",["T_WHITESPACE","\n        ",245],"}",["T_WHITESPACE","\n        ",246],["T_IF","if",247],["T_WHITESPACE"," ",247],"(",["T_VARIABLE","$categoryId",247],["T_WHITESPACE"," ",247],"=",["T_WHITESPACE"," ",247],["T_INT_CAST","(int)",247],["T_WHITESPACE"," ",247],["T_VARIABLE","$this",247],["T_OBJECT_OPERATOR","->",247],["T_STRING","getRequest",247],"(",")",["T_OBJECT_OPERATOR","->",247],["T_STRING","getPost",247],"(",["T_CONSTANT_ENCAPSED_STRING","'id'",247],")",")",["T_WHITESPACE"," ",247],"{",["T_WHITESPACE","\n            ",247],["T_VARIABLE","$this",248],["T_OBJECT_OPERATOR","->",248],["T_STRING","getRequest",248],"(",")",["T_OBJECT_OPERATOR","->",248],["T_STRING","setParam",248],"(",["T_CONSTANT_ENCAPSED_STRING","'id'",248],",",["T_WHITESPACE"," ",248],["T_VARIABLE","$categoryId",248],")",";",["T_WHITESPACE","\n\n            ",248],["T_IF","if",250],["T_WHITESPACE"," ",250],"(","!",["T_VARIABLE","$category",250],["T_WHITESPACE"," ",250],"=",["T_WHITESPACE"," ",250],["T_VARIABLE","$this",250],["T_OBJECT_OPERATOR","->",250],["T_STRING","_initCategory",250],"(",")",")",["T_WHITESPACE"," ",250],"{",["T_WHITESPACE","\n                ",250],["T_RETURN","return",251],";",["T_WHITESPACE","\n            ",251],"}",["T_WHITESPACE","\n            ",252],["T_VARIABLE","$this",253],["T_OBJECT_OPERATOR","->",253],["T_STRING","getResponse",253],"(",")",["T_OBJECT_OPERATOR","->",253],["T_STRING","setBody",253],"(",["T_WHITESPACE","\n                ",253],["T_VARIABLE","$this",254],["T_OBJECT_OPERATOR","->",254],["T_STRING","getLayout",254],"(",")",["T_OBJECT_OPERATOR","->",254],["T_STRING","createBlock",254],"(",["T_CONSTANT_ENCAPSED_STRING","'adminhtml\/catalog_category_tree'",254],")",["T_WHITESPACE","\n                    ",254],["T_OBJECT_OPERATOR","->",255],["T_STRING","getTreeJson",255],"(",["T_VARIABLE","$category",255],")",["T_WHITESPACE","\n            ",255],")",";",["T_WHITESPACE","\n        ",256],"}",["T_WHITESPACE","\n    ",257],"}",["T_WHITESPACE","\n\n    ",258],["T_DOC_COMMENT","\/**\n     * Category save\n     *\/",260],["T_WHITESPACE","\n    ",262],["T_PUBLIC","public",263],["T_WHITESPACE"," ",263],["T_FUNCTION","function",263],["T_WHITESPACE"," ",263],["T_STRING","saveAction",263],"(",")",["T_WHITESPACE","\n    ",263],"{",["T_WHITESPACE","\n        ",264],["T_IF","if",265],["T_WHITESPACE"," ",265],"(","!",["T_VARIABLE","$category",265],["T_WHITESPACE"," ",265],"=",["T_WHITESPACE"," ",265],["T_VARIABLE","$this",265],["T_OBJECT_OPERATOR","->",265],["T_STRING","_initCategory",265],"(",")",")",["T_WHITESPACE"," ",265],"{",["T_WHITESPACE","\n            ",265],["T_RETURN","return",266],";",["T_WHITESPACE","\n        ",266],"}",["T_WHITESPACE","\n\n        ",267],["T_VARIABLE","$storeId",269],["T_WHITESPACE"," ",269],"=",["T_WHITESPACE"," ",269],["T_VARIABLE","$this",269],["T_OBJECT_OPERATOR","->",269],["T_STRING","getRequest",269],"(",")",["T_OBJECT_OPERATOR","->",269],["T_STRING","getParam",269],"(",["T_CONSTANT_ENCAPSED_STRING","'store'",269],")",";",["T_WHITESPACE","\n        ",269],["T_VARIABLE","$refreshTree",270],["T_WHITESPACE"," ",270],"=",["T_WHITESPACE"," ",270],["T_CONSTANT_ENCAPSED_STRING","'false'",270],";",["T_WHITESPACE","\n        ",270],["T_IF","if",271],["T_WHITESPACE"," ",271],"(",["T_VARIABLE","$data",271],["T_WHITESPACE"," ",271],"=",["T_WHITESPACE"," ",271],["T_VARIABLE","$this",271],["T_OBJECT_OPERATOR","->",271],["T_STRING","getRequest",271],"(",")",["T_OBJECT_OPERATOR","->",271],["T_STRING","getPost",271],"(",")",")",["T_WHITESPACE"," ",271],"{",["T_WHITESPACE","\n            ",271],["T_VARIABLE","$category",272],["T_OBJECT_OPERATOR","->",272],["T_STRING","addData",272],"(",["T_VARIABLE","$data",272],"[",["T_CONSTANT_ENCAPSED_STRING","'general'",272],"]",")",";",["T_WHITESPACE","\n            ",272],["T_IF","if",273],["T_WHITESPACE"," ",273],"(","!",["T_VARIABLE","$category",273],["T_OBJECT_OPERATOR","->",273],["T_STRING","getId",273],"(",")",")",["T_WHITESPACE"," ",273],"{",["T_WHITESPACE","\n                ",273],["T_VARIABLE","$parentId",274],["T_WHITESPACE"," ",274],"=",["T_WHITESPACE"," ",274],["T_VARIABLE","$this",274],["T_OBJECT_OPERATOR","->",274],["T_STRING","getRequest",274],"(",")",["T_OBJECT_OPERATOR","->",274],["T_STRING","getParam",274],"(",["T_CONSTANT_ENCAPSED_STRING","'parent'",274],")",";",["T_WHITESPACE","\n                ",274],["T_IF","if",275],["T_WHITESPACE"," ",275],"(","!",["T_VARIABLE","$parentId",275],")",["T_WHITESPACE"," ",275],"{",["T_WHITESPACE","\n                    ",275],["T_IF","if",276],["T_WHITESPACE"," ",276],"(",["T_VARIABLE","$storeId",276],")",["T_WHITESPACE"," ",276],"{",["T_WHITESPACE","\n                        ",276],["T_VARIABLE","$parentId",277],["T_WHITESPACE"," ",277],"=",["T_WHITESPACE"," ",277],["T_STRING","Mage",277],["T_DOUBLE_COLON","::",277],["T_STRING","app",277],"(",")",["T_OBJECT_OPERATOR","->",277],["T_STRING","getStore",277],"(",["T_VARIABLE","$storeId",277],")",["T_OBJECT_OPERATOR","->",277],["T_STRING","getRootCategoryId",277],"(",")",";",["T_WHITESPACE","\n                    ",277],"}",["T_WHITESPACE","\n                    ",278],["T_ELSE","else",279],["T_WHITESPACE"," ",279],"{",["T_WHITESPACE","\n                        ",279],["T_VARIABLE","$parentId",280],["T_WHITESPACE"," ",280],"=",["T_WHITESPACE"," ",280],["T_STRING","Mage_Catalog_Model_Category",280],["T_DOUBLE_COLON","::",280],["T_STRING","TREE_ROOT_ID",280],";",["T_WHITESPACE","\n                    ",280],"}",["T_WHITESPACE","\n                ",281],"}",["T_WHITESPACE","\n                ",282],["T_VARIABLE","$parentCategory",283],["T_WHITESPACE"," ",283],"=",["T_WHITESPACE"," ",283],["T_STRING","Mage",283],["T_DOUBLE_COLON","::",283],["T_STRING","getModel",283],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog\/category'",283],")",["T_OBJECT_OPERATOR","->",283],["T_STRING","load",283],"(",["T_VARIABLE","$parentId",283],")",";",["T_WHITESPACE","\n                ",283],["T_VARIABLE","$category",284],["T_OBJECT_OPERATOR","->",284],["T_STRING","setPath",284],"(",["T_VARIABLE","$parentCategory",284],["T_OBJECT_OPERATOR","->",284],["T_STRING","getPath",284],"(",")",")",";",["T_WHITESPACE","\n            ",284],"}",["T_WHITESPACE","\n\n            ",285],["T_DOC_COMMENT","\/**\n             * Check \"Use Default Value\" checkboxes values\n             *\/",287],["T_WHITESPACE","\n            ",289],["T_IF","if",290],["T_WHITESPACE"," ",290],"(",["T_VARIABLE","$useDefaults",290],["T_WHITESPACE"," ",290],"=",["T_WHITESPACE"," ",290],["T_VARIABLE","$this",290],["T_OBJECT_OPERATOR","->",290],["T_STRING","getRequest",290],"(",")",["T_OBJECT_OPERATOR","->",290],["T_STRING","getPost",290],"(",["T_CONSTANT_ENCAPSED_STRING","'use_default'",290],")",")",["T_WHITESPACE"," ",290],"{",["T_WHITESPACE","\n                ",290],["T_FOREACH","foreach",291],["T_WHITESPACE"," ",291],"(",["T_VARIABLE","$useDefaults",291],["T_WHITESPACE"," ",291],["T_AS","as",291],["T_WHITESPACE"," ",291],["T_VARIABLE","$attributeCode",291],")",["T_WHITESPACE"," ",291],"{",["T_WHITESPACE","\n                    ",291],["T_VARIABLE","$category",292],["T_OBJECT_OPERATOR","->",292],["T_STRING","setData",292],"(",["T_VARIABLE","$attributeCode",292],",",["T_WHITESPACE"," ",292],["T_STRING","false",292],")",";",["T_WHITESPACE","\n                ",292],"}",["T_WHITESPACE","\n            ",293],"}",["T_WHITESPACE","\n\n            ",294],["T_DOC_COMMENT","\/**\n             * Process \"Use Config Settings\" checkboxes\n             *\/",296],["T_WHITESPACE","\n            ",298],["T_IF","if",299],["T_WHITESPACE"," ",299],"(",["T_VARIABLE","$useConfig",299],["T_WHITESPACE"," ",299],"=",["T_WHITESPACE"," ",299],["T_VARIABLE","$this",299],["T_OBJECT_OPERATOR","->",299],["T_STRING","getRequest",299],"(",")",["T_OBJECT_OPERATOR","->",299],["T_STRING","getPost",299],"(",["T_CONSTANT_ENCAPSED_STRING","'use_config'",299],")",")",["T_WHITESPACE"," ",299],"{",["T_WHITESPACE","\n                ",299],["T_FOREACH","foreach",300],["T_WHITESPACE"," ",300],"(",["T_VARIABLE","$useConfig",300],["T_WHITESPACE"," ",300],["T_AS","as",300],["T_WHITESPACE"," ",300],["T_VARIABLE","$attributeCode",300],")",["T_WHITESPACE"," ",300],"{",["T_WHITESPACE","\n                    ",300],["T_VARIABLE","$category",301],["T_OBJECT_OPERATOR","->",301],["T_STRING","setData",301],"(",["T_VARIABLE","$attributeCode",301],",",["T_WHITESPACE"," ",301],["T_STRING","null",301],")",";",["T_WHITESPACE","\n                ",301],"}",["T_WHITESPACE","\n            ",302],"}",["T_WHITESPACE","\n\n            ",303],["T_DOC_COMMENT","\/**\n             * Create Permanent Redirect for old URL key\n             *\/",305],["T_WHITESPACE","\n            ",307],["T_IF","if",308],["T_WHITESPACE"," ",308],"(",["T_VARIABLE","$category",308],["T_OBJECT_OPERATOR","->",308],["T_STRING","getId",308],"(",")",["T_WHITESPACE"," ",308],["T_BOOLEAN_AND","&&",308],["T_WHITESPACE"," ",308],["T_ISSET","isset",308],"(",["T_VARIABLE","$data",308],"[",["T_CONSTANT_ENCAPSED_STRING","'general'",308],"]","[",["T_CONSTANT_ENCAPSED_STRING","'url_key_create_redirect'",308],"]",")",")",["T_WHITESPACE","\n            ",308],["T_COMMENT","\/\/ && $category->getOrigData('url_key') != $category->getData('url_key')\n",309],["T_WHITESPACE","            ",310],"{",["T_WHITESPACE","\n                ",310],["T_VARIABLE","$category",311],["T_OBJECT_OPERATOR","->",311],["T_STRING","setData",311],"(",["T_CONSTANT_ENCAPSED_STRING","'save_rewrites_history'",311],",",["T_WHITESPACE"," ",311],["T_BOOL_CAST","(bool)",311],["T_VARIABLE","$data",311],"[",["T_CONSTANT_ENCAPSED_STRING","'general'",311],"]","[",["T_CONSTANT_ENCAPSED_STRING","'url_key_create_redirect'",311],"]",")",";",["T_WHITESPACE","\n            ",311],"}",["T_WHITESPACE","\n\n            ",312],["T_VARIABLE","$category",314],["T_OBJECT_OPERATOR","->",314],["T_STRING","setAttributeSetId",314],"(",["T_VARIABLE","$category",314],["T_OBJECT_OPERATOR","->",314],["T_STRING","getDefaultAttributeSetId",314],"(",")",")",";",["T_WHITESPACE","\n\n            ",314],["T_IF","if",316],["T_WHITESPACE"," ",316],"(",["T_ISSET","isset",316],"(",["T_VARIABLE","$data",316],"[",["T_CONSTANT_ENCAPSED_STRING","'category_products'",316],"]",")",["T_WHITESPACE"," ",316],["T_BOOLEAN_AND","&&",316],["T_WHITESPACE","\n                ",316],"!",["T_VARIABLE","$category",317],["T_OBJECT_OPERATOR","->",317],["T_STRING","getProductsReadonly",317],"(",")",["T_WHITESPACE","\n            ",317],")",["T_WHITESPACE"," ",318],"{",["T_WHITESPACE","\n                ",318],["T_VARIABLE","$products",319],["T_WHITESPACE"," ",319],"=",["T_WHITESPACE"," ",319],["T_STRING","Mage",319],["T_DOUBLE_COLON","::",319],["T_STRING","helper",319],"(",["T_CONSTANT_ENCAPSED_STRING","'core\/string'",319],")",["T_OBJECT_OPERATOR","->",319],["T_STRING","parseQueryStr",319],"(",["T_VARIABLE","$data",319],"[",["T_CONSTANT_ENCAPSED_STRING","'category_products'",319],"]",")",";",["T_WHITESPACE","\n                ",319],["T_VARIABLE","$category",320],["T_OBJECT_OPERATOR","->",320],["T_STRING","setPostedProducts",320],"(",["T_VARIABLE","$products",320],")",";",["T_WHITESPACE","\n            ",320],"}",["T_WHITESPACE","\n\n            ",321],["T_STRING","Mage",323],["T_DOUBLE_COLON","::",323],["T_STRING","dispatchEvent",323],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog_category_prepare_save'",323],",",["T_WHITESPACE"," ",323],["T_ARRAY","array",323],"(",["T_WHITESPACE","\n                ",323],["T_CONSTANT_ENCAPSED_STRING","'category'",324],["T_WHITESPACE"," ",324],["T_DOUBLE_ARROW","=>",324],["T_WHITESPACE"," ",324],["T_VARIABLE","$category",324],",",["T_WHITESPACE","\n                ",324],["T_CONSTANT_ENCAPSED_STRING","'request'",325],["T_WHITESPACE"," ",325],["T_DOUBLE_ARROW","=>",325],["T_WHITESPACE"," ",325],["T_VARIABLE","$this",325],["T_OBJECT_OPERATOR","->",325],["T_STRING","getRequest",325],"(",")",["T_WHITESPACE","\n            ",325],")",")",";",["T_WHITESPACE","\n\n            ",326],["T_DOC_COMMENT","\/**\n             * Proceed with $_POST['use_config']\n             * set into category model for proccessing through validation\n             *\/",328],["T_WHITESPACE","\n            ",331],["T_VARIABLE","$category",332],["T_OBJECT_OPERATOR","->",332],["T_STRING","setData",332],"(",["T_CONSTANT_ENCAPSED_STRING","\"use_post_data_config\"",332],",",["T_WHITESPACE"," ",332],["T_VARIABLE","$this",332],["T_OBJECT_OPERATOR","->",332],["T_STRING","getRequest",332],"(",")",["T_OBJECT_OPERATOR","->",332],["T_STRING","getPost",332],"(",["T_CONSTANT_ENCAPSED_STRING","'use_config'",332],")",")",";",["T_WHITESPACE","\n\n            ",332],["T_TRY","try",334],["T_WHITESPACE"," ",334],"{",["T_WHITESPACE","\n                ",334],["T_VARIABLE","$validate",335],["T_WHITESPACE"," ",335],"=",["T_WHITESPACE"," ",335],["T_VARIABLE","$category",335],["T_OBJECT_OPERATOR","->",335],["T_STRING","validate",335],"(",")",";",["T_WHITESPACE","\n                ",335],["T_IF","if",336],["T_WHITESPACE"," ",336],"(",["T_VARIABLE","$validate",336],["T_WHITESPACE"," ",336],["T_IS_NOT_IDENTICAL","!==",336],["T_WHITESPACE"," ",336],["T_STRING","true",336],")",["T_WHITESPACE"," ",336],"{",["T_WHITESPACE","\n                    ",336],["T_FOREACH","foreach",337],["T_WHITESPACE"," ",337],"(",["T_VARIABLE","$validate",337],["T_WHITESPACE"," ",337],["T_AS","as",337],["T_WHITESPACE"," ",337],["T_VARIABLE","$code",337],["T_WHITESPACE"," ",337],["T_DOUBLE_ARROW","=>",337],["T_WHITESPACE"," ",337],["T_VARIABLE","$error",337],")",["T_WHITESPACE"," ",337],"{",["T_WHITESPACE","\n                        ",337],["T_IF","if",338],["T_WHITESPACE"," ",338],"(",["T_VARIABLE","$error",338],["T_WHITESPACE"," ",338],["T_IS_IDENTICAL","===",338],["T_WHITESPACE"," ",338],["T_STRING","true",338],")",["T_WHITESPACE"," ",338],"{",["T_WHITESPACE","\n                            ",338],["T_STRING","Mage",339],["T_DOUBLE_COLON","::",339],["T_STRING","throwException",339],"(",["T_STRING","Mage",339],["T_DOUBLE_COLON","::",339],["T_STRING","helper",339],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog'",339],")",["T_OBJECT_OPERATOR","->",339],["T_STRING","__",339],"(",["T_CONSTANT_ENCAPSED_STRING","'Attribute \"%s\" is required.'",339],",",["T_WHITESPACE"," ",339],["T_VARIABLE","$category",339],["T_OBJECT_OPERATOR","->",339],["T_STRING","getResource",339],"(",")",["T_OBJECT_OPERATOR","->",339],["T_STRING","getAttribute",339],"(",["T_VARIABLE","$code",339],")",["T_OBJECT_OPERATOR","->",339],["T_STRING","getFrontend",339],"(",")",["T_OBJECT_OPERATOR","->",339],["T_STRING","getLabel",339],"(",")",")",")",";",["T_WHITESPACE","\n                        ",339],"}",["T_WHITESPACE","\n                        ",340],["T_ELSE","else",341],["T_WHITESPACE"," ",341],"{",["T_WHITESPACE","\n                            ",341],["T_STRING","Mage",342],["T_DOUBLE_COLON","::",342],["T_STRING","throwException",342],"(",["T_VARIABLE","$error",342],")",";",["T_WHITESPACE","\n                        ",342],"}",["T_WHITESPACE","\n                    ",343],"}",["T_WHITESPACE","\n                ",344],"}",["T_WHITESPACE","\n\n                ",345],["T_DOC_COMMENT","\/**\n                 * Unset $_POST['use_config'] before save\n                 *\/",347],["T_WHITESPACE","\n                ",349],["T_VARIABLE","$category",350],["T_OBJECT_OPERATOR","->",350],["T_STRING","unsetData",350],"(",["T_CONSTANT_ENCAPSED_STRING","'use_post_data_config'",350],")",";",["T_WHITESPACE","\n\n                ",350],["T_VARIABLE","$category",352],["T_OBJECT_OPERATOR","->",352],["T_STRING","save",352],"(",")",";",["T_WHITESPACE","\n                ",352],["T_STRING","Mage",353],["T_DOUBLE_COLON","::",353],["T_STRING","getSingleton",353],"(",["T_CONSTANT_ENCAPSED_STRING","'adminhtml\/session'",353],")",["T_OBJECT_OPERATOR","->",353],["T_STRING","addSuccess",353],"(",["T_STRING","Mage",353],["T_DOUBLE_COLON","::",353],["T_STRING","helper",353],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog'",353],")",["T_OBJECT_OPERATOR","->",353],["T_STRING","__",353],"(",["T_CONSTANT_ENCAPSED_STRING","'The category has been saved.'",353],")",")",";",["T_WHITESPACE","\n                ",353],["T_VARIABLE","$refreshTree",354],["T_WHITESPACE"," ",354],"=",["T_WHITESPACE"," ",354],["T_CONSTANT_ENCAPSED_STRING","'true'",354],";",["T_WHITESPACE","\n            ",354],"}",["T_WHITESPACE","\n            ",355],["T_CATCH","catch",356],["T_WHITESPACE"," ",356],"(",["T_STRING","Exception",356],["T_WHITESPACE"," ",356],["T_VARIABLE","$e",356],")","{",["T_WHITESPACE","\n                ",356],["T_VARIABLE","$this",357],["T_OBJECT_OPERATOR","->",357],["T_STRING","_getSession",357],"(",")",["T_OBJECT_OPERATOR","->",357],["T_STRING","addError",357],"(",["T_VARIABLE","$e",357],["T_OBJECT_OPERATOR","->",357],["T_STRING","getMessage",357],"(",")",")",["T_WHITESPACE","\n                    ",357],["T_OBJECT_OPERATOR","->",358],["T_STRING","setCategoryData",358],"(",["T_VARIABLE","$data",358],")",";",["T_WHITESPACE","\n                ",358],["T_VARIABLE","$refreshTree",359],["T_WHITESPACE"," ",359],"=",["T_WHITESPACE"," ",359],["T_CONSTANT_ENCAPSED_STRING","'false'",359],";",["T_WHITESPACE","\n            ",359],"}",["T_WHITESPACE","\n        ",360],"}",["T_WHITESPACE","\n        ",361],["T_VARIABLE","$url",362],["T_WHITESPACE"," ",362],"=",["T_WHITESPACE"," ",362],["T_VARIABLE","$this",362],["T_OBJECT_OPERATOR","->",362],["T_STRING","getUrl",362],"(",["T_CONSTANT_ENCAPSED_STRING","'*\/*\/edit'",362],",",["T_WHITESPACE"," ",362],["T_ARRAY","array",362],"(",["T_CONSTANT_ENCAPSED_STRING","'_current'",362],["T_WHITESPACE"," ",362],["T_DOUBLE_ARROW","=>",362],["T_WHITESPACE"," ",362],["T_STRING","true",362],",",["T_WHITESPACE"," ",362],["T_CONSTANT_ENCAPSED_STRING","'id'",362],["T_WHITESPACE"," ",362],["T_DOUBLE_ARROW","=>",362],["T_WHITESPACE"," ",362],["T_VARIABLE","$category",362],["T_OBJECT_OPERATOR","->",362],["T_STRING","getId",362],"(",")",")",")",";",["T_WHITESPACE","\n        ",362],["T_VARIABLE","$this",363],["T_OBJECT_OPERATOR","->",363],["T_STRING","getResponse",363],"(",")",["T_OBJECT_OPERATOR","->",363],["T_STRING","setBody",363],"(",["T_WHITESPACE","\n            ",363],["T_CONSTANT_ENCAPSED_STRING","'<script type=\"text\/javascript\">parent.updateContent(\"'",364],["T_WHITESPACE"," ",364],".",["T_WHITESPACE"," ",364],["T_VARIABLE","$url",364],["T_WHITESPACE"," ",364],".",["T_WHITESPACE"," ",364],["T_CONSTANT_ENCAPSED_STRING","'\", {}, '",364],".",["T_VARIABLE","$refreshTree",364],".",["T_CONSTANT_ENCAPSED_STRING","');<\/script>'",364],["T_WHITESPACE","\n        ",364],")",";",["T_WHITESPACE","\n    ",365],"}",["T_WHITESPACE","\n\n    ",366],["T_DOC_COMMENT","\/**\n     * Move category action\n     *\/",368],["T_WHITESPACE","\n    ",370],["T_PUBLIC","public",371],["T_WHITESPACE"," ",371],["T_FUNCTION","function",371],["T_WHITESPACE"," ",371],["T_STRING","moveAction",371],"(",")",["T_WHITESPACE","\n    ",371],"{",["T_WHITESPACE","\n        ",372],["T_VARIABLE","$category",373],["T_WHITESPACE"," ",373],"=",["T_WHITESPACE"," ",373],["T_VARIABLE","$this",373],["T_OBJECT_OPERATOR","->",373],["T_STRING","_initCategory",373],"(",")",";",["T_WHITESPACE","\n        ",373],["T_IF","if",374],["T_WHITESPACE"," ",374],"(","!",["T_VARIABLE","$category",374],")",["T_WHITESPACE"," ",374],"{",["T_WHITESPACE","\n            ",374],["T_VARIABLE","$this",375],["T_OBJECT_OPERATOR","->",375],["T_STRING","getResponse",375],"(",")",["T_OBJECT_OPERATOR","->",375],["T_STRING","setBody",375],"(",["T_STRING","Mage",375],["T_DOUBLE_COLON","::",375],["T_STRING","helper",375],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog'",375],")",["T_OBJECT_OPERATOR","->",375],["T_STRING","__",375],"(",["T_CONSTANT_ENCAPSED_STRING","'Category move error'",375],")",")",";",["T_WHITESPACE","\n            ",375],["T_RETURN","return",376],";",["T_WHITESPACE","\n        ",376],"}",["T_WHITESPACE","\n        ",377],["T_DOC_COMMENT","\/**\n         * New parent category identifier\n         *\/",378],["T_WHITESPACE","\n        ",380],["T_VARIABLE","$parentNodeId",381],["T_WHITESPACE","   ",381],"=",["T_WHITESPACE"," ",381],["T_VARIABLE","$this",381],["T_OBJECT_OPERATOR","->",381],["T_STRING","getRequest",381],"(",")",["T_OBJECT_OPERATOR","->",381],["T_STRING","getPost",381],"(",["T_CONSTANT_ENCAPSED_STRING","'pid'",381],",",["T_WHITESPACE"," ",381],["T_STRING","false",381],")",";",["T_WHITESPACE","\n        ",381],["T_DOC_COMMENT","\/**\n         * Category id after which we have put our category\n         *\/",382],["T_WHITESPACE","\n        ",384],["T_VARIABLE","$prevNodeId",385],["T_WHITESPACE","     ",385],"=",["T_WHITESPACE"," ",385],["T_VARIABLE","$this",385],["T_OBJECT_OPERATOR","->",385],["T_STRING","getRequest",385],"(",")",["T_OBJECT_OPERATOR","->",385],["T_STRING","getPost",385],"(",["T_CONSTANT_ENCAPSED_STRING","'aid'",385],",",["T_WHITESPACE"," ",385],["T_STRING","false",385],")",";",["T_WHITESPACE","\n        ",385],["T_VARIABLE","$category",386],["T_OBJECT_OPERATOR","->",386],["T_STRING","setData",386],"(",["T_CONSTANT_ENCAPSED_STRING","'save_rewrites_history'",386],",",["T_WHITESPACE"," ",386],["T_STRING","Mage",386],["T_DOUBLE_COLON","::",386],["T_STRING","helper",386],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog'",386],")",["T_OBJECT_OPERATOR","->",386],["T_STRING","shouldSaveUrlRewritesHistory",386],"(",")",")",";",["T_WHITESPACE","\n        ",386],["T_TRY","try",387],["T_WHITESPACE"," ",387],"{",["T_WHITESPACE","\n            ",387],["T_VARIABLE","$category",388],["T_OBJECT_OPERATOR","->",388],["T_STRING","move",388],"(",["T_VARIABLE","$parentNodeId",388],",",["T_WHITESPACE"," ",388],["T_VARIABLE","$prevNodeId",388],")",";",["T_WHITESPACE","\n            ",388],["T_VARIABLE","$this",389],["T_OBJECT_OPERATOR","->",389],["T_STRING","getResponse",389],"(",")",["T_OBJECT_OPERATOR","->",389],["T_STRING","setBody",389],"(",["T_CONSTANT_ENCAPSED_STRING","\"SUCCESS\"",389],")",";",["T_WHITESPACE","\n        ",389],"}",["T_WHITESPACE","\n        ",390],["T_CATCH","catch",391],["T_WHITESPACE"," ",391],"(",["T_STRING","Mage_Core_Exception",391],["T_WHITESPACE"," ",391],["T_VARIABLE","$e",391],")",["T_WHITESPACE"," ",391],"{",["T_WHITESPACE","\n            ",391],["T_VARIABLE","$this",392],["T_OBJECT_OPERATOR","->",392],["T_STRING","getResponse",392],"(",")",["T_OBJECT_OPERATOR","->",392],["T_STRING","setBody",392],"(",["T_VARIABLE","$e",392],["T_OBJECT_OPERATOR","->",392],["T_STRING","getMessage",392],"(",")",")",";",["T_WHITESPACE","\n        ",392],"}",["T_WHITESPACE","\n        ",393],["T_CATCH","catch",394],["T_WHITESPACE"," ",394],"(",["T_STRING","Exception",394],["T_WHITESPACE"," ",394],["T_VARIABLE","$e",394],")","{",["T_WHITESPACE","\n            ",394],["T_VARIABLE","$this",395],["T_OBJECT_OPERATOR","->",395],["T_STRING","getResponse",395],"(",")",["T_OBJECT_OPERATOR","->",395],["T_STRING","setBody",395],"(",["T_STRING","Mage",395],["T_DOUBLE_COLON","::",395],["T_STRING","helper",395],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog'",395],")",["T_OBJECT_OPERATOR","->",395],["T_STRING","__",395],"(",["T_CONSTANT_ENCAPSED_STRING","'Category move error %s'",395],",",["T_WHITESPACE"," ",395],["T_VARIABLE","$e",395],")",")",";",["T_WHITESPACE","\n            ",395],["T_STRING","Mage",396],["T_DOUBLE_COLON","::",396],["T_STRING","logException",396],"(",["T_VARIABLE","$e",396],")",";",["T_WHITESPACE","\n        ",396],"}",["T_WHITESPACE","\n\n    ",397],"}",["T_WHITESPACE","\n\n    ",399],["T_DOC_COMMENT","\/**\n     * Delete category action\n     *\/",401],["T_WHITESPACE","\n    ",403],["T_PUBLIC","public",404],["T_WHITESPACE"," ",404],["T_FUNCTION","function",404],["T_WHITESPACE"," ",404],["T_STRING","deleteAction",404],"(",")",["T_WHITESPACE","\n    ",404],"{",["T_WHITESPACE","\n        ",405],["T_IF","if",406],["T_WHITESPACE"," ",406],"(",["T_VARIABLE","$id",406],["T_WHITESPACE"," ",406],"=",["T_WHITESPACE"," ",406],["T_INT_CAST","(int)",406],["T_WHITESPACE"," ",406],["T_VARIABLE","$this",406],["T_OBJECT_OPERATOR","->",406],["T_STRING","getRequest",406],"(",")",["T_OBJECT_OPERATOR","->",406],["T_STRING","getParam",406],"(",["T_CONSTANT_ENCAPSED_STRING","'id'",406],")",")",["T_WHITESPACE"," ",406],"{",["T_WHITESPACE","\n            ",406],["T_TRY","try",407],["T_WHITESPACE"," ",407],"{",["T_WHITESPACE","\n                ",407],["T_VARIABLE","$category",408],["T_WHITESPACE"," ",408],"=",["T_WHITESPACE"," ",408],["T_STRING","Mage",408],["T_DOUBLE_COLON","::",408],["T_STRING","getModel",408],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog\/category'",408],")",["T_OBJECT_OPERATOR","->",408],["T_STRING","load",408],"(",["T_VARIABLE","$id",408],")",";",["T_WHITESPACE","\n                ",408],["T_STRING","Mage",409],["T_DOUBLE_COLON","::",409],["T_STRING","dispatchEvent",409],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog_controller_category_delete'",409],",",["T_WHITESPACE"," ",409],["T_ARRAY","array",409],"(",["T_CONSTANT_ENCAPSED_STRING","'category'",409],["T_DOUBLE_ARROW","=>",409],["T_VARIABLE","$category",409],")",")",";",["T_WHITESPACE","\n\n                ",409],["T_STRING","Mage",411],["T_DOUBLE_COLON","::",411],["T_STRING","getSingleton",411],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/session'",411],")",["T_OBJECT_OPERATOR","->",411],["T_STRING","setDeletedPath",411],"(",["T_VARIABLE","$category",411],["T_OBJECT_OPERATOR","->",411],["T_STRING","getPath",411],"(",")",")",";",["T_WHITESPACE","\n\n                ",411],["T_VARIABLE","$category",413],["T_OBJECT_OPERATOR","->",413],["T_STRING","delete",413],"(",")",";",["T_WHITESPACE","\n                ",413],["T_STRING","Mage",414],["T_DOUBLE_COLON","::",414],["T_STRING","getSingleton",414],"(",["T_CONSTANT_ENCAPSED_STRING","'adminhtml\/session'",414],")",["T_OBJECT_OPERATOR","->",414],["T_STRING","addSuccess",414],"(",["T_STRING","Mage",414],["T_DOUBLE_COLON","::",414],["T_STRING","helper",414],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog'",414],")",["T_OBJECT_OPERATOR","->",414],["T_STRING","__",414],"(",["T_CONSTANT_ENCAPSED_STRING","'The category has been deleted.'",414],")",")",";",["T_WHITESPACE","\n            ",414],"}",["T_WHITESPACE","\n            ",415],["T_CATCH","catch",416],["T_WHITESPACE"," ",416],"(",["T_STRING","Mage_Core_Exception",416],["T_WHITESPACE"," ",416],["T_VARIABLE","$e",416],")","{",["T_WHITESPACE","\n                ",416],["T_STRING","Mage",417],["T_DOUBLE_COLON","::",417],["T_STRING","getSingleton",417],"(",["T_CONSTANT_ENCAPSED_STRING","'adminhtml\/session'",417],")",["T_OBJECT_OPERATOR","->",417],["T_STRING","addError",417],"(",["T_VARIABLE","$e",417],["T_OBJECT_OPERATOR","->",417],["T_STRING","getMessage",417],"(",")",")",";",["T_WHITESPACE","\n                ",417],["T_VARIABLE","$this",418],["T_OBJECT_OPERATOR","->",418],["T_STRING","getResponse",418],"(",")",["T_OBJECT_OPERATOR","->",418],["T_STRING","setRedirect",418],"(",["T_VARIABLE","$this",418],["T_OBJECT_OPERATOR","->",418],["T_STRING","getUrl",418],"(",["T_CONSTANT_ENCAPSED_STRING","'*\/*\/edit'",418],",",["T_WHITESPACE"," ",418],["T_ARRAY","array",418],"(",["T_CONSTANT_ENCAPSED_STRING","'_current'",418],["T_DOUBLE_ARROW","=>",418],["T_STRING","true",418],")",")",")",";",["T_WHITESPACE","\n                ",418],["T_RETURN","return",419],";",["T_WHITESPACE","\n            ",419],"}",["T_WHITESPACE","\n            ",420],["T_CATCH","catch",421],["T_WHITESPACE"," ",421],"(",["T_STRING","Exception",421],["T_WHITESPACE"," ",421],["T_VARIABLE","$e",421],")","{",["T_WHITESPACE","\n                ",421],["T_STRING","Mage",422],["T_DOUBLE_COLON","::",422],["T_STRING","getSingleton",422],"(",["T_CONSTANT_ENCAPSED_STRING","'adminhtml\/session'",422],")",["T_OBJECT_OPERATOR","->",422],["T_STRING","addError",422],"(",["T_STRING","Mage",422],["T_DOUBLE_COLON","::",422],["T_STRING","helper",422],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog'",422],")",["T_OBJECT_OPERATOR","->",422],["T_STRING","__",422],"(",["T_CONSTANT_ENCAPSED_STRING","'An error occurred while trying to delete the category.'",422],")",")",";",["T_WHITESPACE","\n                ",422],["T_VARIABLE","$this",423],["T_OBJECT_OPERATOR","->",423],["T_STRING","getResponse",423],"(",")",["T_OBJECT_OPERATOR","->",423],["T_STRING","setRedirect",423],"(",["T_VARIABLE","$this",423],["T_OBJECT_OPERATOR","->",423],["T_STRING","getUrl",423],"(",["T_CONSTANT_ENCAPSED_STRING","'*\/*\/edit'",423],",",["T_WHITESPACE"," ",423],["T_ARRAY","array",423],"(",["T_CONSTANT_ENCAPSED_STRING","'_current'",423],["T_DOUBLE_ARROW","=>",423],["T_STRING","true",423],")",")",")",";",["T_WHITESPACE","\n                ",423],["T_RETURN","return",424],";",["T_WHITESPACE","\n            ",424],"}",["T_WHITESPACE","\n        ",425],"}",["T_WHITESPACE","\n        ",426],["T_VARIABLE","$this",427],["T_OBJECT_OPERATOR","->",427],["T_STRING","getResponse",427],"(",")",["T_OBJECT_OPERATOR","->",427],["T_STRING","setRedirect",427],"(",["T_VARIABLE","$this",427],["T_OBJECT_OPERATOR","->",427],["T_STRING","getUrl",427],"(",["T_CONSTANT_ENCAPSED_STRING","'*\/*\/'",427],",",["T_WHITESPACE"," ",427],["T_ARRAY","array",427],"(",["T_CONSTANT_ENCAPSED_STRING","'_current'",427],["T_DOUBLE_ARROW","=>",427],["T_STRING","true",427],",",["T_WHITESPACE"," ",427],["T_CONSTANT_ENCAPSED_STRING","'id'",427],["T_DOUBLE_ARROW","=>",427],["T_STRING","null",427],")",")",")",";",["T_WHITESPACE","\n    ",427],"}",["T_WHITESPACE","\n\n    ",428],["T_DOC_COMMENT","\/**\n     * Grid Action\n     * Display list of products related to current category\n     *\n     * @return void\n     *\/",430],["T_WHITESPACE","\n    ",435],["T_PUBLIC","public",436],["T_WHITESPACE"," ",436],["T_FUNCTION","function",436],["T_WHITESPACE"," ",436],["T_STRING","gridAction",436],"(",")",["T_WHITESPACE","\n    ",436],"{",["T_WHITESPACE","\n        ",437],["T_IF","if",438],["T_WHITESPACE"," ",438],"(","!",["T_VARIABLE","$category",438],["T_WHITESPACE"," ",438],"=",["T_WHITESPACE"," ",438],["T_VARIABLE","$this",438],["T_OBJECT_OPERATOR","->",438],["T_STRING","_initCategory",438],"(",["T_STRING","true",438],")",")",["T_WHITESPACE"," ",438],"{",["T_WHITESPACE","\n            ",438],["T_RETURN","return",439],";",["T_WHITESPACE","\n        ",439],"}",["T_WHITESPACE","\n        ",440],["T_VARIABLE","$this",441],["T_OBJECT_OPERATOR","->",441],["T_STRING","getResponse",441],"(",")",["T_OBJECT_OPERATOR","->",441],["T_STRING","setBody",441],"(",["T_WHITESPACE","\n            ",441],["T_VARIABLE","$this",442],["T_OBJECT_OPERATOR","->",442],["T_STRING","getLayout",442],"(",")",["T_OBJECT_OPERATOR","->",442],["T_STRING","createBlock",442],"(",["T_CONSTANT_ENCAPSED_STRING","'adminhtml\/catalog_category_tab_product'",442],",",["T_WHITESPACE"," ",442],["T_CONSTANT_ENCAPSED_STRING","'category.product.grid'",442],")",["T_WHITESPACE","\n                ",442],["T_OBJECT_OPERATOR","->",443],["T_STRING","toHtml",443],"(",")",["T_WHITESPACE","\n        ",443],")",";",["T_WHITESPACE","\n    ",444],"}",["T_WHITESPACE","\n\n    ",445],["T_DOC_COMMENT","\/**\n     * Tree Action\n     * Retrieve category tree\n     *\n     * @return void\n     *\/",447],["T_WHITESPACE","\n    ",452],["T_PUBLIC","public",453],["T_WHITESPACE"," ",453],["T_FUNCTION","function",453],["T_WHITESPACE"," ",453],["T_STRING","treeAction",453],"(",")",["T_WHITESPACE","\n    ",453],"{",["T_WHITESPACE","\n        ",454],["T_VARIABLE","$storeId",455],["T_WHITESPACE"," ",455],"=",["T_WHITESPACE"," ",455],["T_INT_CAST","(int)",455],["T_WHITESPACE"," ",455],["T_VARIABLE","$this",455],["T_OBJECT_OPERATOR","->",455],["T_STRING","getRequest",455],"(",")",["T_OBJECT_OPERATOR","->",455],["T_STRING","getParam",455],"(",["T_CONSTANT_ENCAPSED_STRING","'store'",455],")",";",["T_WHITESPACE","\n        ",455],["T_VARIABLE","$categoryId",456],["T_WHITESPACE"," ",456],"=",["T_WHITESPACE"," ",456],["T_INT_CAST","(int)",456],["T_WHITESPACE"," ",456],["T_VARIABLE","$this",456],["T_OBJECT_OPERATOR","->",456],["T_STRING","getRequest",456],"(",")",["T_OBJECT_OPERATOR","->",456],["T_STRING","getParam",456],"(",["T_CONSTANT_ENCAPSED_STRING","'id'",456],")",";",["T_WHITESPACE","\n\n        ",456],["T_IF","if",458],["T_WHITESPACE"," ",458],"(",["T_VARIABLE","$storeId",458],")",["T_WHITESPACE"," ",458],"{",["T_WHITESPACE","\n            ",458],["T_IF","if",459],["T_WHITESPACE"," ",459],"(","!",["T_VARIABLE","$categoryId",459],")",["T_WHITESPACE"," ",459],"{",["T_WHITESPACE","\n                ",459],["T_VARIABLE","$store",460],["T_WHITESPACE"," ",460],"=",["T_WHITESPACE"," ",460],["T_STRING","Mage",460],["T_DOUBLE_COLON","::",460],["T_STRING","app",460],"(",")",["T_OBJECT_OPERATOR","->",460],["T_STRING","getStore",460],"(",["T_VARIABLE","$storeId",460],")",";",["T_WHITESPACE","\n                ",460],["T_VARIABLE","$rootId",461],["T_WHITESPACE"," ",461],"=",["T_WHITESPACE"," ",461],["T_VARIABLE","$store",461],["T_OBJECT_OPERATOR","->",461],["T_STRING","getRootCategoryId",461],"(",")",";",["T_WHITESPACE","\n                ",461],["T_VARIABLE","$this",462],["T_OBJECT_OPERATOR","->",462],["T_STRING","getRequest",462],"(",")",["T_OBJECT_OPERATOR","->",462],["T_STRING","setParam",462],"(",["T_CONSTANT_ENCAPSED_STRING","'id'",462],",",["T_WHITESPACE"," ",462],["T_VARIABLE","$rootId",462],")",";",["T_WHITESPACE","\n            ",462],"}",["T_WHITESPACE","\n        ",463],"}",["T_WHITESPACE","\n\n        ",464],["T_VARIABLE","$category",466],["T_WHITESPACE"," ",466],"=",["T_WHITESPACE"," ",466],["T_VARIABLE","$this",466],["T_OBJECT_OPERATOR","->",466],["T_STRING","_initCategory",466],"(",["T_STRING","true",466],")",";",["T_WHITESPACE","\n\n        ",466],["T_VARIABLE","$block",468],["T_WHITESPACE"," ",468],"=",["T_WHITESPACE"," ",468],["T_VARIABLE","$this",468],["T_OBJECT_OPERATOR","->",468],["T_STRING","getLayout",468],"(",")",["T_OBJECT_OPERATOR","->",468],["T_STRING","createBlock",468],"(",["T_CONSTANT_ENCAPSED_STRING","'adminhtml\/catalog_category_tree'",468],")",";",["T_WHITESPACE","\n        ",468],["T_VARIABLE","$root",469],["T_WHITESPACE","  ",469],"=",["T_WHITESPACE"," ",469],["T_VARIABLE","$block",469],["T_OBJECT_OPERATOR","->",469],["T_STRING","getRoot",469],"(",")",";",["T_WHITESPACE","\n        ",469],["T_VARIABLE","$this",470],["T_OBJECT_OPERATOR","->",470],["T_STRING","getResponse",470],"(",")",["T_OBJECT_OPERATOR","->",470],["T_STRING","setBody",470],"(",["T_STRING","Mage",470],["T_DOUBLE_COLON","::",470],["T_STRING","helper",470],"(",["T_CONSTANT_ENCAPSED_STRING","'core'",470],")",["T_OBJECT_OPERATOR","->",470],["T_STRING","jsonEncode",470],"(",["T_ARRAY","array",470],"(",["T_WHITESPACE","\n            ",470],["T_CONSTANT_ENCAPSED_STRING","'data'",471],["T_WHITESPACE"," ",471],["T_DOUBLE_ARROW","=>",471],["T_WHITESPACE"," ",471],["T_VARIABLE","$block",471],["T_OBJECT_OPERATOR","->",471],["T_STRING","getTree",471],"(",")",",",["T_WHITESPACE","\n            ",471],["T_CONSTANT_ENCAPSED_STRING","'parameters'",472],["T_WHITESPACE"," ",472],["T_DOUBLE_ARROW","=>",472],["T_WHITESPACE"," ",472],["T_ARRAY","array",472],"(",["T_WHITESPACE","\n                ",472],["T_CONSTANT_ENCAPSED_STRING","'text'",473],["T_WHITESPACE","        ",473],["T_DOUBLE_ARROW","=>",473],["T_WHITESPACE"," ",473],["T_VARIABLE","$block",473],["T_OBJECT_OPERATOR","->",473],["T_STRING","buildNodeName",473],"(",["T_VARIABLE","$root",473],")",",",["T_WHITESPACE","\n                ",473],["T_CONSTANT_ENCAPSED_STRING","'draggable'",474],["T_WHITESPACE","   ",474],["T_DOUBLE_ARROW","=>",474],["T_WHITESPACE"," ",474],["T_STRING","false",474],",",["T_WHITESPACE","\n                ",474],["T_CONSTANT_ENCAPSED_STRING","'allowDrop'",475],["T_WHITESPACE","   ",475],["T_DOUBLE_ARROW","=>",475],["T_WHITESPACE"," ",475],"(",["T_VARIABLE","$root",475],["T_OBJECT_OPERATOR","->",475],["T_STRING","getIsVisible",475],"(",")",")",["T_WHITESPACE"," ",475],"?",["T_WHITESPACE"," ",475],["T_STRING","true",475],["T_WHITESPACE"," ",475],":",["T_WHITESPACE"," ",475],["T_STRING","false",475],",",["T_WHITESPACE","\n                ",475],["T_CONSTANT_ENCAPSED_STRING","'id'",476],["T_WHITESPACE","          ",476],["T_DOUBLE_ARROW","=>",476],["T_WHITESPACE"," ",476],["T_INT_CAST","(int)",476],["T_WHITESPACE"," ",476],["T_VARIABLE","$root",476],["T_OBJECT_OPERATOR","->",476],["T_STRING","getId",476],"(",")",",",["T_WHITESPACE","\n                ",476],["T_CONSTANT_ENCAPSED_STRING","'expanded'",477],["T_WHITESPACE","    ",477],["T_DOUBLE_ARROW","=>",477],["T_WHITESPACE"," ",477],["T_INT_CAST","(int)",477],["T_WHITESPACE"," ",477],["T_VARIABLE","$block",477],["T_OBJECT_OPERATOR","->",477],["T_STRING","getIsWasExpanded",477],"(",")",",",["T_WHITESPACE","\n                ",477],["T_CONSTANT_ENCAPSED_STRING","'store_id'",478],["T_WHITESPACE","    ",478],["T_DOUBLE_ARROW","=>",478],["T_WHITESPACE"," ",478],["T_INT_CAST","(int)",478],["T_WHITESPACE"," ",478],["T_VARIABLE","$block",478],["T_OBJECT_OPERATOR","->",478],["T_STRING","getStore",478],"(",")",["T_OBJECT_OPERATOR","->",478],["T_STRING","getId",478],"(",")",",",["T_WHITESPACE","\n                ",478],["T_CONSTANT_ENCAPSED_STRING","'category_id'",479],["T_WHITESPACE"," ",479],["T_DOUBLE_ARROW","=>",479],["T_WHITESPACE"," ",479],["T_INT_CAST","(int)",479],["T_WHITESPACE"," ",479],["T_VARIABLE","$category",479],["T_OBJECT_OPERATOR","->",479],["T_STRING","getId",479],"(",")",",",["T_WHITESPACE","\n                ",479],["T_CONSTANT_ENCAPSED_STRING","'root_visible'",480],["T_DOUBLE_ARROW","=>",480],["T_WHITESPACE"," ",480],["T_INT_CAST","(int)",480],["T_WHITESPACE"," ",480],["T_VARIABLE","$root",480],["T_OBJECT_OPERATOR","->",480],["T_STRING","getIsVisible",480],"(",")",["T_WHITESPACE","\n        ",480],")",")",")",")",";",["T_WHITESPACE","\n    ",481],"}",["T_WHITESPACE","\n\n    ",482],["T_DOC_COMMENT","\/**\n    * Build response for refresh input element 'path' in form\n    *\/",484],["T_WHITESPACE","\n    ",486],["T_PUBLIC","public",487],["T_WHITESPACE"," ",487],["T_FUNCTION","function",487],["T_WHITESPACE"," ",487],["T_STRING","refreshPathAction",487],"(",")",["T_WHITESPACE","\n    ",487],"{",["T_WHITESPACE","\n        ",488],["T_IF","if",489],["T_WHITESPACE"," ",489],"(",["T_VARIABLE","$id",489],["T_WHITESPACE"," ",489],"=",["T_WHITESPACE"," ",489],["T_INT_CAST","(int)",489],["T_WHITESPACE"," ",489],["T_VARIABLE","$this",489],["T_OBJECT_OPERATOR","->",489],["T_STRING","getRequest",489],"(",")",["T_OBJECT_OPERATOR","->",489],["T_STRING","getParam",489],"(",["T_CONSTANT_ENCAPSED_STRING","'id'",489],")",")",["T_WHITESPACE"," ",489],"{",["T_WHITESPACE","\n            ",489],["T_VARIABLE","$category",490],["T_WHITESPACE"," ",490],"=",["T_WHITESPACE"," ",490],["T_STRING","Mage",490],["T_DOUBLE_COLON","::",490],["T_STRING","getModel",490],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog\/category'",490],")",["T_OBJECT_OPERATOR","->",490],["T_STRING","load",490],"(",["T_VARIABLE","$id",490],")",";",["T_WHITESPACE","\n            ",490],["T_VARIABLE","$this",491],["T_OBJECT_OPERATOR","->",491],["T_STRING","getResponse",491],"(",")",["T_OBJECT_OPERATOR","->",491],["T_STRING","setBody",491],"(",["T_WHITESPACE","\n                ",491],["T_STRING","Mage",492],["T_DOUBLE_COLON","::",492],["T_STRING","helper",492],"(",["T_CONSTANT_ENCAPSED_STRING","'core'",492],")",["T_OBJECT_OPERATOR","->",492],["T_STRING","jsonEncode",492],"(",["T_ARRAY","array",492],"(",["T_WHITESPACE","\n                   ",492],["T_CONSTANT_ENCAPSED_STRING","'id'",493],["T_WHITESPACE"," ",493],["T_DOUBLE_ARROW","=>",493],["T_WHITESPACE"," ",493],["T_VARIABLE","$id",493],",",["T_WHITESPACE","\n                   ",493],["T_CONSTANT_ENCAPSED_STRING","'path'",494],["T_WHITESPACE"," ",494],["T_DOUBLE_ARROW","=>",494],["T_WHITESPACE"," ",494],["T_VARIABLE","$category",494],["T_OBJECT_OPERATOR","->",494],["T_STRING","getPath",494],"(",")",",",["T_WHITESPACE","\n                ",494],")",")",["T_WHITESPACE","\n            ",495],")",";",["T_WHITESPACE","\n        ",496],"}",["T_WHITESPACE","\n    ",497],"}",["T_WHITESPACE","\n\n    ",498],["T_DOC_COMMENT","\/**\n     * Check if admin has permissions to visit related pages\n     *\n     * @return boolean\n     *\/",500],["T_WHITESPACE","\n    ",504],["T_PROTECTED","protected",505],["T_WHITESPACE"," ",505],["T_FUNCTION","function",505],["T_WHITESPACE"," ",505],["T_STRING","_isAllowed",505],"(",")",["T_WHITESPACE","\n    ",505],"{",["T_WHITESPACE","\n        ",506],["T_RETURN","return",507],["T_WHITESPACE"," ",507],["T_STRING","Mage",507],["T_DOUBLE_COLON","::",507],["T_STRING","getSingleton",507],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/session'",507],")",["T_OBJECT_OPERATOR","->",507],["T_STRING","isAllowed",507],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog\/categories'",507],")",";",["T_WHITESPACE","\n    ",507],"}",["T_WHITESPACE","\n",508],"}",["T_WHITESPACE","\n",509]]