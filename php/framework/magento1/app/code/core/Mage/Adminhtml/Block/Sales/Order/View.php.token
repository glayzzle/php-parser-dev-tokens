[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Magento\n *\n * NOTICE OF LICENSE\n *\n * This source file is subject to the Open Software License (OSL 3.0)\n * that is bundled with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/opensource.org\/licenses\/osl-3.0.php\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@magento.com so we can send you a copy immediately.\n *\n * DISCLAIMER\n *\n * Do not edit or add to this file if you wish to upgrade Magento to newer\n * versions in the future. If you wish to customize Magento for your\n * needs please refer to http:\/\/www.magento.com for more information.\n *\n * @category    Mage\n * @package     Mage_Adminhtml\n * @copyright  Copyright (c) 2006-2016 X.commerce, Inc. and affiliates (http:\/\/www.magento.com)\n * @license    http:\/\/opensource.org\/licenses\/osl-3.0.php  Open Software License (OSL 3.0)\n *\/",2],["T_WHITESPACE","\n\n",25],["T_DOC_COMMENT","\/**\n * Adminhtml sales order view\n *\n * @category    Mage\n * @package     Mage_Adminhtml\n * @author      Magento Core Team <core@magentocommerce.com>\n *\/",27],["T_WHITESPACE","\n",33],["T_CLASS","class",34],["T_WHITESPACE"," ",34],["T_STRING","Mage_Adminhtml_Block_Sales_Order_View",34],["T_WHITESPACE"," ",34],["T_EXTENDS","extends",34],["T_WHITESPACE"," ",34],["T_STRING","Mage_Adminhtml_Block_Widget_Form_Container",34],["T_WHITESPACE","\n",34],"{",["T_WHITESPACE","\n\n    ",35],["T_PUBLIC","public",37],["T_WHITESPACE"," ",37],["T_FUNCTION","function",37],["T_WHITESPACE"," ",37],["T_STRING","__construct",37],"(",")",["T_WHITESPACE","\n    ",37],"{",["T_WHITESPACE","\n        ",38],["T_VARIABLE","$this",39],["T_OBJECT_OPERATOR","->",39],["T_STRING","_objectId",39],["T_WHITESPACE","    ",39],"=",["T_WHITESPACE"," ",39],["T_CONSTANT_ENCAPSED_STRING","'order_id'",39],";",["T_WHITESPACE","\n        ",39],["T_VARIABLE","$this",40],["T_OBJECT_OPERATOR","->",40],["T_STRING","_controller",40],["T_WHITESPACE","  ",40],"=",["T_WHITESPACE"," ",40],["T_CONSTANT_ENCAPSED_STRING","'sales_order'",40],";",["T_WHITESPACE","\n        ",40],["T_VARIABLE","$this",41],["T_OBJECT_OPERATOR","->",41],["T_STRING","_mode",41],["T_WHITESPACE","        ",41],"=",["T_WHITESPACE"," ",41],["T_CONSTANT_ENCAPSED_STRING","'view'",41],";",["T_WHITESPACE","\n\n        ",41],["T_STRING","parent",43],["T_DOUBLE_COLON","::",43],["T_STRING","__construct",43],"(",")",";",["T_WHITESPACE","\n\n        ",43],["T_VARIABLE","$this",45],["T_OBJECT_OPERATOR","->",45],["T_STRING","_removeButton",45],"(",["T_CONSTANT_ENCAPSED_STRING","'delete'",45],")",";",["T_WHITESPACE","\n        ",45],["T_VARIABLE","$this",46],["T_OBJECT_OPERATOR","->",46],["T_STRING","_removeButton",46],"(",["T_CONSTANT_ENCAPSED_STRING","'reset'",46],")",";",["T_WHITESPACE","\n        ",46],["T_VARIABLE","$this",47],["T_OBJECT_OPERATOR","->",47],["T_STRING","_removeButton",47],"(",["T_CONSTANT_ENCAPSED_STRING","'save'",47],")",";",["T_WHITESPACE","\n        ",47],["T_VARIABLE","$this",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","setId",48],"(",["T_CONSTANT_ENCAPSED_STRING","'sales_order_view'",48],")",";",["T_WHITESPACE","\n        ",48],["T_VARIABLE","$order",49],["T_WHITESPACE"," ",49],"=",["T_WHITESPACE"," ",49],["T_VARIABLE","$this",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","getOrder",49],"(",")",";",["T_WHITESPACE","\n        ",49],["T_VARIABLE","$coreHelper",50],["T_WHITESPACE"," ",50],"=",["T_WHITESPACE"," ",50],["T_STRING","Mage",50],["T_DOUBLE_COLON","::",50],["T_STRING","helper",50],"(",["T_CONSTANT_ENCAPSED_STRING","'core'",50],")",";",["T_WHITESPACE","\n\n        ",50],["T_IF","if",52],["T_WHITESPACE"," ",52],"(",["T_VARIABLE","$this",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","_isAllowedAction",52],"(",["T_CONSTANT_ENCAPSED_STRING","'edit'",52],")",["T_WHITESPACE"," ",52],["T_BOOLEAN_AND","&&",52],["T_WHITESPACE"," ",52],["T_VARIABLE","$order",52],["T_OBJECT_OPERATOR","->",52],["T_STRING","canEdit",52],"(",")",")",["T_WHITESPACE"," ",52],"{",["T_WHITESPACE","\n            ",52],["T_VARIABLE","$confirmationMessage",53],["T_WHITESPACE"," ",53],"=",["T_WHITESPACE"," ",53],["T_VARIABLE","$coreHelper",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","jsQuoteEscape",53],"(",["T_WHITESPACE","\n                ",53],["T_STRING","Mage",54],["T_DOUBLE_COLON","::",54],["T_STRING","helper",54],"(",["T_CONSTANT_ENCAPSED_STRING","'sales'",54],")",["T_OBJECT_OPERATOR","->",54],["T_STRING","__",54],"(",["T_CONSTANT_ENCAPSED_STRING","'Are you sure? This order will be canceled and a new one will be created instead'",54],")",["T_WHITESPACE","\n            ",54],")",";",["T_WHITESPACE","\n            ",55],["T_VARIABLE","$onclickJs",56],["T_WHITESPACE"," ",56],"=",["T_WHITESPACE"," ",56],["T_CONSTANT_ENCAPSED_STRING","'deleteConfirm(\\''",56],["T_WHITESPACE"," ",56],".",["T_WHITESPACE"," ",56],["T_VARIABLE","$confirmationMessage",56],["T_WHITESPACE"," ",56],".",["T_WHITESPACE"," ",56],["T_CONSTANT_ENCAPSED_STRING","'\\', \\''",56],["T_WHITESPACE"," ",56],".",["T_WHITESPACE"," ",56],["T_VARIABLE","$this",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","getEditUrl",56],"(",")",["T_WHITESPACE"," ",56],".",["T_WHITESPACE"," ",56],["T_CONSTANT_ENCAPSED_STRING","'\\');'",56],";",["T_WHITESPACE","\n            ",56],["T_VARIABLE","$this",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","_addButton",57],"(",["T_CONSTANT_ENCAPSED_STRING","'order_edit'",57],",",["T_WHITESPACE"," ",57],["T_ARRAY","array",57],"(",["T_WHITESPACE","\n                ",57],["T_CONSTANT_ENCAPSED_STRING","'label'",58],["T_WHITESPACE","    ",58],["T_DOUBLE_ARROW","=>",58],["T_WHITESPACE"," ",58],["T_STRING","Mage",58],["T_DOUBLE_COLON","::",58],["T_STRING","helper",58],"(",["T_CONSTANT_ENCAPSED_STRING","'sales'",58],")",["T_OBJECT_OPERATOR","->",58],["T_STRING","__",58],"(",["T_CONSTANT_ENCAPSED_STRING","'Edit'",58],")",",",["T_WHITESPACE","\n                ",58],["T_CONSTANT_ENCAPSED_STRING","'onclick'",59],["T_WHITESPACE","  ",59],["T_DOUBLE_ARROW","=>",59],["T_WHITESPACE"," ",59],["T_VARIABLE","$onclickJs",59],",",["T_WHITESPACE","\n            ",59],")",")",";",["T_WHITESPACE","\n            ",60],["T_COMMENT","\/\/ see if order has non-editable products as items\n",61],["T_WHITESPACE","            ",62],["T_VARIABLE","$nonEditableTypes",62],["T_WHITESPACE"," ",62],"=",["T_WHITESPACE"," ",62],["T_STRING","array_keys",62],"(",["T_VARIABLE","$this",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","getOrder",62],"(",")",["T_OBJECT_OPERATOR","->",62],["T_STRING","getResource",62],"(",")",["T_OBJECT_OPERATOR","->",62],["T_STRING","aggregateProductsByTypes",62],"(",["T_WHITESPACE","\n                ",62],["T_VARIABLE","$order",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","getId",63],"(",")",",",["T_WHITESPACE","\n                ",63],["T_STRING","array_keys",64],"(",["T_STRING","Mage",64],["T_DOUBLE_COLON","::",64],["T_STRING","getConfig",64],"(",")",["T_WHITESPACE","\n                    ",64],["T_OBJECT_OPERATOR","->",65],["T_STRING","getNode",65],"(",["T_CONSTANT_ENCAPSED_STRING","'adminhtml\/sales\/order\/create\/available_product_types'",65],")",["T_WHITESPACE","\n                    ",65],["T_OBJECT_OPERATOR","->",66],["T_STRING","asArray",66],"(",")",["T_WHITESPACE","\n                ",66],")",",",["T_WHITESPACE","\n                ",67],["T_STRING","false",68],["T_WHITESPACE","\n            ",68],")",")",";",["T_WHITESPACE","\n            ",69],["T_IF","if",70],["T_WHITESPACE"," ",70],"(",["T_VARIABLE","$nonEditableTypes",70],")",["T_WHITESPACE"," ",70],"{",["T_WHITESPACE","\n                ",70],["T_VARIABLE","$confirmationMessage",71],["T_WHITESPACE"," ",71],"=",["T_WHITESPACE"," ",71],["T_VARIABLE","$coreHelper",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","jsQuoteEscape",71],"(",["T_WHITESPACE","\n                    ",71],["T_STRING","Mage",72],["T_DOUBLE_COLON","::",72],["T_STRING","helper",72],"(",["T_CONSTANT_ENCAPSED_STRING","'sales'",72],")",["T_WHITESPACE","\n                        ",72],["T_OBJECT_OPERATOR","->",73],["T_STRING","__",73],"(",["T_CONSTANT_ENCAPSED_STRING","'This order contains (%s) items and therefore cannot be edited through the admin interface at this time, if you wish to continue editing the (%s) items will be removed, the order will be canceled and a new order will be placed.'",73],",",["T_WHITESPACE","\n                        ",73],["T_STRING","implode",74],"(",["T_CONSTANT_ENCAPSED_STRING","', '",74],",",["T_WHITESPACE"," ",74],["T_VARIABLE","$nonEditableTypes",74],")",",",["T_WHITESPACE"," ",74],["T_STRING","implode",74],"(",["T_CONSTANT_ENCAPSED_STRING","', '",74],",",["T_WHITESPACE"," ",74],["T_VARIABLE","$nonEditableTypes",74],")",")",["T_WHITESPACE","\n                ",74],")",";",["T_WHITESPACE","\n                ",75],["T_VARIABLE","$this",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","_updateButton",76],"(",["T_CONSTANT_ENCAPSED_STRING","'order_edit'",76],",",["T_WHITESPACE"," ",76],["T_CONSTANT_ENCAPSED_STRING","'onclick'",76],",",["T_WHITESPACE","\n                    ",76],["T_CONSTANT_ENCAPSED_STRING","'if (!confirm(\\''",77],["T_WHITESPACE"," ",77],".",["T_WHITESPACE"," ",77],["T_VARIABLE","$confirmationMessage",77],["T_WHITESPACE"," ",77],".",["T_WHITESPACE"," ",77],["T_CONSTANT_ENCAPSED_STRING","'\\')) return false;'",77],["T_WHITESPACE"," ",77],".",["T_WHITESPACE"," ",77],["T_VARIABLE","$onclickJs",77],["T_WHITESPACE","\n                ",77],")",";",["T_WHITESPACE","\n            ",78],"}",["T_WHITESPACE","\n        ",79],"}",["T_WHITESPACE","\n\n        ",80],["T_IF","if",82],["T_WHITESPACE"," ",82],"(",["T_VARIABLE","$this",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","_isAllowedAction",82],"(",["T_CONSTANT_ENCAPSED_STRING","'cancel'",82],")",["T_WHITESPACE"," ",82],["T_BOOLEAN_AND","&&",82],["T_WHITESPACE"," ",82],["T_VARIABLE","$order",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","canCancel",82],"(",")",")",["T_WHITESPACE"," ",82],"{",["T_WHITESPACE","\n            ",82],["T_VARIABLE","$confirmationMessage",83],["T_WHITESPACE"," ",83],"=",["T_WHITESPACE"," ",83],["T_VARIABLE","$coreHelper",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","jsQuoteEscape",83],"(",["T_WHITESPACE","\n                ",83],["T_STRING","Mage",84],["T_DOUBLE_COLON","::",84],["T_STRING","helper",84],"(",["T_CONSTANT_ENCAPSED_STRING","'sales'",84],")",["T_OBJECT_OPERATOR","->",84],["T_STRING","__",84],"(",["T_CONSTANT_ENCAPSED_STRING","'Are you sure you want to cancel this order?'",84],")",["T_WHITESPACE","\n            ",84],")",";",["T_WHITESPACE","\n            ",85],["T_VARIABLE","$this",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","_addButton",86],"(",["T_CONSTANT_ENCAPSED_STRING","'order_cancel'",86],",",["T_WHITESPACE"," ",86],["T_ARRAY","array",86],"(",["T_WHITESPACE","\n                ",86],["T_CONSTANT_ENCAPSED_STRING","'label'",87],["T_WHITESPACE","     ",87],["T_DOUBLE_ARROW","=>",87],["T_WHITESPACE"," ",87],["T_STRING","Mage",87],["T_DOUBLE_COLON","::",87],["T_STRING","helper",87],"(",["T_CONSTANT_ENCAPSED_STRING","'sales'",87],")",["T_OBJECT_OPERATOR","->",87],["T_STRING","__",87],"(",["T_CONSTANT_ENCAPSED_STRING","'Cancel'",87],")",",",["T_WHITESPACE","\n                ",87],["T_CONSTANT_ENCAPSED_STRING","'onclick'",88],["T_WHITESPACE","   ",88],["T_DOUBLE_ARROW","=>",88],["T_WHITESPACE"," ",88],["T_CONSTANT_ENCAPSED_STRING","'deleteConfirm(\\''",88],["T_WHITESPACE"," ",88],".",["T_WHITESPACE"," ",88],["T_VARIABLE","$confirmationMessage",88],["T_WHITESPACE"," ",88],".",["T_WHITESPACE"," ",88],["T_CONSTANT_ENCAPSED_STRING","'\\', \\''",88],["T_WHITESPACE"," ",88],".",["T_WHITESPACE"," ",88],["T_VARIABLE","$this",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","getCancelUrl",88],"(",")",["T_WHITESPACE"," ",88],".",["T_WHITESPACE"," ",88],["T_CONSTANT_ENCAPSED_STRING","'\\')'",88],",",["T_WHITESPACE","\n            ",88],")",")",";",["T_WHITESPACE","\n        ",89],"}",["T_WHITESPACE","\n\n        ",90],["T_IF","if",92],["T_WHITESPACE"," ",92],"(",["T_VARIABLE","$this",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","_isAllowedAction",92],"(",["T_CONSTANT_ENCAPSED_STRING","'emails'",92],")",["T_WHITESPACE"," ",92],["T_BOOLEAN_AND","&&",92],["T_WHITESPACE"," ",92],"!",["T_VARIABLE","$order",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","isCanceled",92],"(",")",")",["T_WHITESPACE"," ",92],"{",["T_WHITESPACE","\n            ",92],["T_VARIABLE","$confirmationMessage",93],["T_WHITESPACE"," ",93],"=",["T_WHITESPACE"," ",93],["T_VARIABLE","$coreHelper",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","jsQuoteEscape",93],"(",["T_WHITESPACE","\n                ",93],["T_STRING","Mage",94],["T_DOUBLE_COLON","::",94],["T_STRING","helper",94],"(",["T_CONSTANT_ENCAPSED_STRING","'sales'",94],")",["T_OBJECT_OPERATOR","->",94],["T_STRING","__",94],"(",["T_CONSTANT_ENCAPSED_STRING","'Are you sure you want to send order email to customer?'",94],")",["T_WHITESPACE","\n            ",94],")",";",["T_WHITESPACE","\n            ",95],["T_VARIABLE","$this",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","addButton",96],"(",["T_CONSTANT_ENCAPSED_STRING","'send_notification'",96],",",["T_WHITESPACE"," ",96],["T_ARRAY","array",96],"(",["T_WHITESPACE","\n                ",96],["T_CONSTANT_ENCAPSED_STRING","'label'",97],["T_WHITESPACE","     ",97],["T_DOUBLE_ARROW","=>",97],["T_WHITESPACE"," ",97],["T_STRING","Mage",97],["T_DOUBLE_COLON","::",97],["T_STRING","helper",97],"(",["T_CONSTANT_ENCAPSED_STRING","'sales'",97],")",["T_OBJECT_OPERATOR","->",97],["T_STRING","__",97],"(",["T_CONSTANT_ENCAPSED_STRING","'Send Email'",97],")",",",["T_WHITESPACE","\n                ",97],["T_CONSTANT_ENCAPSED_STRING","'onclick'",98],["T_WHITESPACE","   ",98],["T_DOUBLE_ARROW","=>",98],["T_WHITESPACE"," ",98],"\"",["T_ENCAPSED_AND_WHITESPACE","confirmSetLocation('",98],["T_CURLY_OPEN","{",98],["T_VARIABLE","$confirmationMessage",98],"}",["T_ENCAPSED_AND_WHITESPACE","', '",98],["T_CURLY_OPEN","{",98],["T_VARIABLE","$this",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","getEmailUrl",98],"(",")","}",["T_ENCAPSED_AND_WHITESPACE","')",98],"\"",",",["T_WHITESPACE","\n            ",98],")",")",";",["T_WHITESPACE","\n        ",99],"}",["T_WHITESPACE","\n\n        ",100],["T_IF","if",102],["T_WHITESPACE"," ",102],"(",["T_VARIABLE","$this",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","_isAllowedAction",102],"(",["T_CONSTANT_ENCAPSED_STRING","'creditmemo'",102],")",["T_WHITESPACE"," ",102],["T_BOOLEAN_AND","&&",102],["T_WHITESPACE"," ",102],["T_VARIABLE","$order",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","canCreditmemo",102],"(",")",")",["T_WHITESPACE"," ",102],"{",["T_WHITESPACE","\n            ",102],["T_VARIABLE","$confirmationMessage",103],["T_WHITESPACE"," ",103],"=",["T_WHITESPACE"," ",103],["T_VARIABLE","$coreHelper",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","jsQuoteEscape",103],"(",["T_WHITESPACE","\n                ",103],["T_STRING","Mage",104],["T_DOUBLE_COLON","::",104],["T_STRING","helper",104],"(",["T_CONSTANT_ENCAPSED_STRING","'sales'",104],")",["T_OBJECT_OPERATOR","->",104],["T_STRING","__",104],"(",["T_CONSTANT_ENCAPSED_STRING","'This will create an offline refund. To create an online refund, open an invoice and create credit memo for it. Do you wish to proceed?'",104],")",["T_WHITESPACE","\n            ",104],")",";",["T_WHITESPACE","\n            ",105],["T_VARIABLE","$onClick",106],["T_WHITESPACE"," ",106],"=",["T_WHITESPACE"," ",106],"\"",["T_ENCAPSED_AND_WHITESPACE","setLocation('",106],["T_CURLY_OPEN","{",106],["T_VARIABLE","$this",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","getCreditmemoUrl",106],"(",")","}",["T_ENCAPSED_AND_WHITESPACE","')",106],"\"",";",["T_WHITESPACE","\n            ",106],["T_IF","if",107],["T_WHITESPACE"," ",107],"(",["T_VARIABLE","$order",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","getPayment",107],"(",")",["T_OBJECT_OPERATOR","->",107],["T_STRING","getMethodInstance",107],"(",")",["T_OBJECT_OPERATOR","->",107],["T_STRING","isGateway",107],"(",")",")",["T_WHITESPACE"," ",107],"{",["T_WHITESPACE","\n                ",107],["T_VARIABLE","$onClick",108],["T_WHITESPACE"," ",108],"=",["T_WHITESPACE"," ",108],"\"",["T_ENCAPSED_AND_WHITESPACE","confirmSetLocation('",108],["T_CURLY_OPEN","{",108],["T_VARIABLE","$confirmationMessage",108],"}",["T_ENCAPSED_AND_WHITESPACE","', '",108],["T_CURLY_OPEN","{",108],["T_VARIABLE","$this",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","getCreditmemoUrl",108],"(",")","}",["T_ENCAPSED_AND_WHITESPACE","')",108],"\"",";",["T_WHITESPACE","\n            ",108],"}",["T_WHITESPACE","\n            ",109],["T_VARIABLE","$this",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","_addButton",110],"(",["T_CONSTANT_ENCAPSED_STRING","'order_creditmemo'",110],",",["T_WHITESPACE"," ",110],["T_ARRAY","array",110],"(",["T_WHITESPACE","\n                ",110],["T_CONSTANT_ENCAPSED_STRING","'label'",111],["T_WHITESPACE","     ",111],["T_DOUBLE_ARROW","=>",111],["T_WHITESPACE"," ",111],["T_STRING","Mage",111],["T_DOUBLE_COLON","::",111],["T_STRING","helper",111],"(",["T_CONSTANT_ENCAPSED_STRING","'sales'",111],")",["T_OBJECT_OPERATOR","->",111],["T_STRING","__",111],"(",["T_CONSTANT_ENCAPSED_STRING","'Credit Memo'",111],")",",",["T_WHITESPACE","\n                ",111],["T_CONSTANT_ENCAPSED_STRING","'onclick'",112],["T_WHITESPACE","   ",112],["T_DOUBLE_ARROW","=>",112],["T_WHITESPACE"," ",112],["T_VARIABLE","$onClick",112],",",["T_WHITESPACE","\n                ",112],["T_CONSTANT_ENCAPSED_STRING","'class'",113],["T_WHITESPACE","     ",113],["T_DOUBLE_ARROW","=>",113],["T_WHITESPACE"," ",113],["T_CONSTANT_ENCAPSED_STRING","'go'",113],["T_WHITESPACE","\n            ",113],")",")",";",["T_WHITESPACE","\n        ",114],"}",["T_WHITESPACE","\n\n        ",115],["T_COMMENT","\/\/ invoice action intentionally\n",117],["T_WHITESPACE","        ",118],["T_IF","if",118],["T_WHITESPACE"," ",118],"(",["T_VARIABLE","$this",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","_isAllowedAction",118],"(",["T_CONSTANT_ENCAPSED_STRING","'invoice'",118],")",["T_WHITESPACE"," ",118],["T_BOOLEAN_AND","&&",118],["T_WHITESPACE"," ",118],["T_VARIABLE","$order",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","canVoidPayment",118],"(",")",")",["T_WHITESPACE"," ",118],"{",["T_WHITESPACE","\n            ",118],["T_VARIABLE","$confirmationMessage",119],["T_WHITESPACE"," ",119],"=",["T_WHITESPACE"," ",119],["T_VARIABLE","$coreHelper",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","jsQuoteEscape",119],"(",["T_WHITESPACE","\n                ",119],["T_STRING","Mage",120],["T_DOUBLE_COLON","::",120],["T_STRING","helper",120],"(",["T_CONSTANT_ENCAPSED_STRING","'sales'",120],")",["T_OBJECT_OPERATOR","->",120],["T_STRING","__",120],"(",["T_CONSTANT_ENCAPSED_STRING","'Are you sure you want to void the payment?'",120],")",["T_WHITESPACE","\n            ",120],")",";",["T_WHITESPACE","\n            ",121],["T_VARIABLE","$this",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","addButton",122],"(",["T_CONSTANT_ENCAPSED_STRING","'void_payment'",122],",",["T_WHITESPACE"," ",122],["T_ARRAY","array",122],"(",["T_WHITESPACE","\n                ",122],["T_CONSTANT_ENCAPSED_STRING","'label'",123],["T_WHITESPACE","     ",123],["T_DOUBLE_ARROW","=>",123],["T_WHITESPACE"," ",123],["T_STRING","Mage",123],["T_DOUBLE_COLON","::",123],["T_STRING","helper",123],"(",["T_CONSTANT_ENCAPSED_STRING","'sales'",123],")",["T_OBJECT_OPERATOR","->",123],["T_STRING","__",123],"(",["T_CONSTANT_ENCAPSED_STRING","'Void'",123],")",",",["T_WHITESPACE","\n                ",123],["T_CONSTANT_ENCAPSED_STRING","'onclick'",124],["T_WHITESPACE","   ",124],["T_DOUBLE_ARROW","=>",124],["T_WHITESPACE"," ",124],"\"",["T_ENCAPSED_AND_WHITESPACE","confirmSetLocation('",124],["T_CURLY_OPEN","{",124],["T_VARIABLE","$confirmationMessage",124],"}",["T_ENCAPSED_AND_WHITESPACE","', '",124],["T_CURLY_OPEN","{",124],["T_VARIABLE","$this",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","getVoidPaymentUrl",124],"(",")","}",["T_ENCAPSED_AND_WHITESPACE","')",124],"\"",",",["T_WHITESPACE","\n            ",124],")",")",";",["T_WHITESPACE","\n        ",125],"}",["T_WHITESPACE","\n\n        ",126],["T_IF","if",128],["T_WHITESPACE"," ",128],"(",["T_VARIABLE","$this",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","_isAllowedAction",128],"(",["T_CONSTANT_ENCAPSED_STRING","'hold'",128],")",["T_WHITESPACE"," ",128],["T_BOOLEAN_AND","&&",128],["T_WHITESPACE"," ",128],["T_VARIABLE","$order",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","canHold",128],"(",")",")",["T_WHITESPACE"," ",128],"{",["T_WHITESPACE","\n            ",128],["T_VARIABLE","$this",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","_addButton",129],"(",["T_CONSTANT_ENCAPSED_STRING","'order_hold'",129],",",["T_WHITESPACE"," ",129],["T_ARRAY","array",129],"(",["T_WHITESPACE","\n                ",129],["T_CONSTANT_ENCAPSED_STRING","'label'",130],["T_WHITESPACE","     ",130],["T_DOUBLE_ARROW","=>",130],["T_WHITESPACE"," ",130],["T_STRING","Mage",130],["T_DOUBLE_COLON","::",130],["T_STRING","helper",130],"(",["T_CONSTANT_ENCAPSED_STRING","'sales'",130],")",["T_OBJECT_OPERATOR","->",130],["T_STRING","__",130],"(",["T_CONSTANT_ENCAPSED_STRING","'Hold'",130],")",",",["T_WHITESPACE","\n                ",130],["T_CONSTANT_ENCAPSED_STRING","'onclick'",131],["T_WHITESPACE","   ",131],["T_DOUBLE_ARROW","=>",131],["T_WHITESPACE"," ",131],["T_CONSTANT_ENCAPSED_STRING","'setLocation(\\''",131],["T_WHITESPACE"," ",131],".",["T_WHITESPACE"," ",131],["T_VARIABLE","$this",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","getHoldUrl",131],"(",")",["T_WHITESPACE"," ",131],".",["T_WHITESPACE"," ",131],["T_CONSTANT_ENCAPSED_STRING","'\\')'",131],",",["T_WHITESPACE","\n            ",131],")",")",";",["T_WHITESPACE","\n        ",132],"}",["T_WHITESPACE","\n\n        ",133],["T_IF","if",135],["T_WHITESPACE"," ",135],"(",["T_VARIABLE","$this",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","_isAllowedAction",135],"(",["T_CONSTANT_ENCAPSED_STRING","'unhold'",135],")",["T_WHITESPACE"," ",135],["T_BOOLEAN_AND","&&",135],["T_WHITESPACE"," ",135],["T_VARIABLE","$order",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","canUnhold",135],"(",")",")",["T_WHITESPACE"," ",135],"{",["T_WHITESPACE","\n            ",135],["T_VARIABLE","$this",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","_addButton",136],"(",["T_CONSTANT_ENCAPSED_STRING","'order_unhold'",136],",",["T_WHITESPACE"," ",136],["T_ARRAY","array",136],"(",["T_WHITESPACE","\n                ",136],["T_CONSTANT_ENCAPSED_STRING","'label'",137],["T_WHITESPACE","     ",137],["T_DOUBLE_ARROW","=>",137],["T_WHITESPACE"," ",137],["T_STRING","Mage",137],["T_DOUBLE_COLON","::",137],["T_STRING","helper",137],"(",["T_CONSTANT_ENCAPSED_STRING","'sales'",137],")",["T_OBJECT_OPERATOR","->",137],["T_STRING","__",137],"(",["T_CONSTANT_ENCAPSED_STRING","'Unhold'",137],")",",",["T_WHITESPACE","\n                ",137],["T_CONSTANT_ENCAPSED_STRING","'onclick'",138],["T_WHITESPACE","   ",138],["T_DOUBLE_ARROW","=>",138],["T_WHITESPACE"," ",138],["T_CONSTANT_ENCAPSED_STRING","'setLocation(\\''",138],["T_WHITESPACE"," ",138],".",["T_WHITESPACE"," ",138],["T_VARIABLE","$this",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","getUnholdUrl",138],"(",")",["T_WHITESPACE"," ",138],".",["T_WHITESPACE"," ",138],["T_CONSTANT_ENCAPSED_STRING","'\\')'",138],",",["T_WHITESPACE","\n            ",138],")",")",";",["T_WHITESPACE","\n        ",139],"}",["T_WHITESPACE","\n\n        ",140],["T_IF","if",142],["T_WHITESPACE"," ",142],"(",["T_VARIABLE","$this",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","_isAllowedAction",142],"(",["T_CONSTANT_ENCAPSED_STRING","'review_payment'",142],")",")",["T_WHITESPACE"," ",142],"{",["T_WHITESPACE","\n            ",142],["T_IF","if",143],["T_WHITESPACE"," ",143],"(",["T_VARIABLE","$order",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","canReviewPayment",143],"(",")",")",["T_WHITESPACE"," ",143],"{",["T_WHITESPACE","\n                ",143],["T_VARIABLE","$confirmationMessage",144],["T_WHITESPACE"," ",144],"=",["T_WHITESPACE"," ",144],["T_VARIABLE","$coreHelper",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","jsQuoteEscape",144],"(",["T_WHITESPACE","\n                    ",144],["T_STRING","Mage",145],["T_DOUBLE_COLON","::",145],["T_STRING","helper",145],"(",["T_CONSTANT_ENCAPSED_STRING","'sales'",145],")",["T_OBJECT_OPERATOR","->",145],["T_STRING","__",145],"(",["T_CONSTANT_ENCAPSED_STRING","'Are you sure you want to accept this payment?'",145],")",["T_WHITESPACE","\n                ",145],")",";",["T_WHITESPACE","\n                ",146],["T_VARIABLE","$onClick",147],["T_WHITESPACE"," ",147],"=",["T_WHITESPACE"," ",147],"\"",["T_ENCAPSED_AND_WHITESPACE","confirmSetLocation('",147],["T_CURLY_OPEN","{",147],["T_VARIABLE","$confirmationMessage",147],"}",["T_ENCAPSED_AND_WHITESPACE","', '",147],["T_CURLY_OPEN","{",147],["T_VARIABLE","$this",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","getReviewPaymentUrl",147],"(",["T_CONSTANT_ENCAPSED_STRING","'accept'",147],")","}",["T_ENCAPSED_AND_WHITESPACE","')",147],"\"",";",["T_WHITESPACE","\n                ",147],["T_VARIABLE","$this",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","_addButton",148],"(",["T_CONSTANT_ENCAPSED_STRING","'accept_payment'",148],",",["T_WHITESPACE"," ",148],["T_ARRAY","array",148],"(",["T_WHITESPACE","\n                    ",148],["T_CONSTANT_ENCAPSED_STRING","'label'",149],["T_WHITESPACE","     ",149],["T_DOUBLE_ARROW","=>",149],["T_WHITESPACE"," ",149],["T_STRING","Mage",149],["T_DOUBLE_COLON","::",149],["T_STRING","helper",149],"(",["T_CONSTANT_ENCAPSED_STRING","'sales'",149],")",["T_OBJECT_OPERATOR","->",149],["T_STRING","__",149],"(",["T_CONSTANT_ENCAPSED_STRING","'Accept Payment'",149],")",",",["T_WHITESPACE","\n                    ",149],["T_CONSTANT_ENCAPSED_STRING","'onclick'",150],["T_WHITESPACE","   ",150],["T_DOUBLE_ARROW","=>",150],["T_WHITESPACE"," ",150],["T_VARIABLE","$onClick",150],",",["T_WHITESPACE","\n                ",150],")",")",";",["T_WHITESPACE","\n                ",151],["T_VARIABLE","$confirmationMessage",152],["T_WHITESPACE"," ",152],"=",["T_WHITESPACE"," ",152],["T_VARIABLE","$coreHelper",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","jsQuoteEscape",152],"(",["T_WHITESPACE","\n                    ",152],["T_STRING","Mage",153],["T_DOUBLE_COLON","::",153],["T_STRING","helper",153],"(",["T_CONSTANT_ENCAPSED_STRING","'sales'",153],")",["T_OBJECT_OPERATOR","->",153],["T_STRING","__",153],"(",["T_CONSTANT_ENCAPSED_STRING","'Are you sure you want to deny this payment?'",153],")",["T_WHITESPACE","\n                ",153],")",";",["T_WHITESPACE","\n                ",154],["T_VARIABLE","$onClick",155],["T_WHITESPACE"," ",155],"=",["T_WHITESPACE"," ",155],"\"",["T_ENCAPSED_AND_WHITESPACE","confirmSetLocation('",155],["T_CURLY_OPEN","{",155],["T_VARIABLE","$confirmationMessage",155],"}",["T_ENCAPSED_AND_WHITESPACE","', '",155],["T_CURLY_OPEN","{",155],["T_VARIABLE","$this",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","getReviewPaymentUrl",155],"(",["T_CONSTANT_ENCAPSED_STRING","'deny'",155],")","}",["T_ENCAPSED_AND_WHITESPACE","')",155],"\"",";",["T_WHITESPACE","\n                ",155],["T_VARIABLE","$this",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","_addButton",156],"(",["T_CONSTANT_ENCAPSED_STRING","'deny_payment'",156],",",["T_WHITESPACE"," ",156],["T_ARRAY","array",156],"(",["T_WHITESPACE","\n                    ",156],["T_CONSTANT_ENCAPSED_STRING","'label'",157],["T_WHITESPACE","     ",157],["T_DOUBLE_ARROW","=>",157],["T_WHITESPACE"," ",157],["T_STRING","Mage",157],["T_DOUBLE_COLON","::",157],["T_STRING","helper",157],"(",["T_CONSTANT_ENCAPSED_STRING","'sales'",157],")",["T_OBJECT_OPERATOR","->",157],["T_STRING","__",157],"(",["T_CONSTANT_ENCAPSED_STRING","'Deny Payment'",157],")",",",["T_WHITESPACE","\n                    ",157],["T_CONSTANT_ENCAPSED_STRING","'onclick'",158],["T_WHITESPACE","   ",158],["T_DOUBLE_ARROW","=>",158],["T_WHITESPACE"," ",158],["T_VARIABLE","$onClick",158],",",["T_WHITESPACE","\n                ",158],")",")",";",["T_WHITESPACE","\n            ",159],"}",["T_WHITESPACE","\n            ",160],["T_IF","if",161],["T_WHITESPACE"," ",161],"(",["T_VARIABLE","$order",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","canFetchPaymentReviewUpdate",161],"(",")",")",["T_WHITESPACE"," ",161],"{",["T_WHITESPACE","\n                ",161],["T_VARIABLE","$this",162],["T_OBJECT_OPERATOR","->",162],["T_STRING","_addButton",162],"(",["T_CONSTANT_ENCAPSED_STRING","'get_review_payment_update'",162],",",["T_WHITESPACE"," ",162],["T_ARRAY","array",162],"(",["T_WHITESPACE","\n                    ",162],["T_CONSTANT_ENCAPSED_STRING","'label'",163],["T_WHITESPACE","     ",163],["T_DOUBLE_ARROW","=>",163],["T_WHITESPACE"," ",163],["T_STRING","Mage",163],["T_DOUBLE_COLON","::",163],["T_STRING","helper",163],"(",["T_CONSTANT_ENCAPSED_STRING","'sales'",163],")",["T_OBJECT_OPERATOR","->",163],["T_STRING","__",163],"(",["T_CONSTANT_ENCAPSED_STRING","'Get Payment Update'",163],")",",",["T_WHITESPACE","\n                    ",163],["T_CONSTANT_ENCAPSED_STRING","'onclick'",164],["T_WHITESPACE","   ",164],["T_DOUBLE_ARROW","=>",164],["T_WHITESPACE"," ",164],["T_CONSTANT_ENCAPSED_STRING","'setLocation(\\''",164],["T_WHITESPACE"," ",164],".",["T_WHITESPACE"," ",164],["T_VARIABLE","$this",164],["T_OBJECT_OPERATOR","->",164],["T_STRING","getReviewPaymentUrl",164],"(",["T_CONSTANT_ENCAPSED_STRING","'update'",164],")",["T_WHITESPACE"," ",164],".",["T_WHITESPACE"," ",164],["T_CONSTANT_ENCAPSED_STRING","'\\')'",164],",",["T_WHITESPACE","\n                ",164],")",")",";",["T_WHITESPACE","\n            ",165],"}",["T_WHITESPACE","\n        ",166],"}",["T_WHITESPACE","\n\n        ",167],["T_IF","if",169],["T_WHITESPACE"," ",169],"(",["T_VARIABLE","$this",169],["T_OBJECT_OPERATOR","->",169],["T_STRING","_isAllowedAction",169],"(",["T_CONSTANT_ENCAPSED_STRING","'invoice'",169],")",["T_WHITESPACE"," ",169],["T_BOOLEAN_AND","&&",169],["T_WHITESPACE"," ",169],["T_VARIABLE","$order",169],["T_OBJECT_OPERATOR","->",169],["T_STRING","canInvoice",169],"(",")",")",["T_WHITESPACE"," ",169],"{",["T_WHITESPACE","\n            ",169],["T_VARIABLE","$_label",170],["T_WHITESPACE"," ",170],"=",["T_WHITESPACE"," ",170],["T_VARIABLE","$order",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","getForcedDoShipmentWithInvoice",170],"(",")",["T_WHITESPACE"," ",170],"?",["T_WHITESPACE","\n                ",170],["T_STRING","Mage",171],["T_DOUBLE_COLON","::",171],["T_STRING","helper",171],"(",["T_CONSTANT_ENCAPSED_STRING","'sales'",171],")",["T_OBJECT_OPERATOR","->",171],["T_STRING","__",171],"(",["T_CONSTANT_ENCAPSED_STRING","'Invoice and Ship'",171],")",["T_WHITESPACE"," ",171],":",["T_WHITESPACE","\n                ",171],["T_STRING","Mage",172],["T_DOUBLE_COLON","::",172],["T_STRING","helper",172],"(",["T_CONSTANT_ENCAPSED_STRING","'sales'",172],")",["T_OBJECT_OPERATOR","->",172],["T_STRING","__",172],"(",["T_CONSTANT_ENCAPSED_STRING","'Invoice'",172],")",";",["T_WHITESPACE","\n            ",172],["T_VARIABLE","$this",173],["T_OBJECT_OPERATOR","->",173],["T_STRING","_addButton",173],"(",["T_CONSTANT_ENCAPSED_STRING","'order_invoice'",173],",",["T_WHITESPACE"," ",173],["T_ARRAY","array",173],"(",["T_WHITESPACE","\n                ",173],["T_CONSTANT_ENCAPSED_STRING","'label'",174],["T_WHITESPACE","     ",174],["T_DOUBLE_ARROW","=>",174],["T_WHITESPACE"," ",174],["T_VARIABLE","$_label",174],",",["T_WHITESPACE","\n                ",174],["T_CONSTANT_ENCAPSED_STRING","'onclick'",175],["T_WHITESPACE","   ",175],["T_DOUBLE_ARROW","=>",175],["T_WHITESPACE"," ",175],["T_CONSTANT_ENCAPSED_STRING","'setLocation(\\''",175],["T_WHITESPACE"," ",175],".",["T_WHITESPACE"," ",175],["T_VARIABLE","$this",175],["T_OBJECT_OPERATOR","->",175],["T_STRING","getInvoiceUrl",175],"(",")",["T_WHITESPACE"," ",175],".",["T_WHITESPACE"," ",175],["T_CONSTANT_ENCAPSED_STRING","'\\')'",175],",",["T_WHITESPACE","\n                ",175],["T_CONSTANT_ENCAPSED_STRING","'class'",176],["T_WHITESPACE","     ",176],["T_DOUBLE_ARROW","=>",176],["T_WHITESPACE"," ",176],["T_CONSTANT_ENCAPSED_STRING","'go'",176],["T_WHITESPACE","\n            ",176],")",")",";",["T_WHITESPACE","\n        ",177],"}",["T_WHITESPACE","\n\n        ",178],["T_IF","if",180],["T_WHITESPACE"," ",180],"(",["T_VARIABLE","$this",180],["T_OBJECT_OPERATOR","->",180],["T_STRING","_isAllowedAction",180],"(",["T_CONSTANT_ENCAPSED_STRING","'ship'",180],")",["T_WHITESPACE"," ",180],["T_BOOLEAN_AND","&&",180],["T_WHITESPACE"," ",180],["T_VARIABLE","$order",180],["T_OBJECT_OPERATOR","->",180],["T_STRING","canShip",180],"(",")",["T_WHITESPACE","\n            ",180],["T_BOOLEAN_AND","&&",181],["T_WHITESPACE"," ",181],"!",["T_VARIABLE","$order",181],["T_OBJECT_OPERATOR","->",181],["T_STRING","getForcedDoShipmentWithInvoice",181],"(",")",")",["T_WHITESPACE"," ",181],"{",["T_WHITESPACE","\n            ",181],["T_VARIABLE","$this",182],["T_OBJECT_OPERATOR","->",182],["T_STRING","_addButton",182],"(",["T_CONSTANT_ENCAPSED_STRING","'order_ship'",182],",",["T_WHITESPACE"," ",182],["T_ARRAY","array",182],"(",["T_WHITESPACE","\n                ",182],["T_CONSTANT_ENCAPSED_STRING","'label'",183],["T_WHITESPACE","     ",183],["T_DOUBLE_ARROW","=>",183],["T_WHITESPACE"," ",183],["T_STRING","Mage",183],["T_DOUBLE_COLON","::",183],["T_STRING","helper",183],"(",["T_CONSTANT_ENCAPSED_STRING","'sales'",183],")",["T_OBJECT_OPERATOR","->",183],["T_STRING","__",183],"(",["T_CONSTANT_ENCAPSED_STRING","'Ship'",183],")",",",["T_WHITESPACE","\n                ",183],["T_CONSTANT_ENCAPSED_STRING","'onclick'",184],["T_WHITESPACE","   ",184],["T_DOUBLE_ARROW","=>",184],["T_WHITESPACE"," ",184],["T_CONSTANT_ENCAPSED_STRING","'setLocation(\\''",184],["T_WHITESPACE"," ",184],".",["T_WHITESPACE"," ",184],["T_VARIABLE","$this",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","getShipUrl",184],"(",")",["T_WHITESPACE"," ",184],".",["T_WHITESPACE"," ",184],["T_CONSTANT_ENCAPSED_STRING","'\\')'",184],",",["T_WHITESPACE","\n                ",184],["T_CONSTANT_ENCAPSED_STRING","'class'",185],["T_WHITESPACE","     ",185],["T_DOUBLE_ARROW","=>",185],["T_WHITESPACE"," ",185],["T_CONSTANT_ENCAPSED_STRING","'go'",185],["T_WHITESPACE","\n            ",185],")",")",";",["T_WHITESPACE","\n        ",186],"}",["T_WHITESPACE","\n\n        ",187],["T_IF","if",189],["T_WHITESPACE"," ",189],"(",["T_VARIABLE","$this",189],["T_OBJECT_OPERATOR","->",189],["T_STRING","_isAllowedAction",189],"(",["T_CONSTANT_ENCAPSED_STRING","'reorder'",189],")",["T_WHITESPACE","\n            ",189],["T_BOOLEAN_AND","&&",190],["T_WHITESPACE"," ",190],["T_VARIABLE","$this",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","helper",190],"(",["T_CONSTANT_ENCAPSED_STRING","'sales\/reorder'",190],")",["T_OBJECT_OPERATOR","->",190],["T_STRING","isAllowed",190],"(",["T_VARIABLE","$order",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","getStore",190],"(",")",")",["T_WHITESPACE","\n            ",190],["T_BOOLEAN_AND","&&",191],["T_WHITESPACE"," ",191],["T_VARIABLE","$order",191],["T_OBJECT_OPERATOR","->",191],["T_STRING","canReorderIgnoreSalable",191],"(",")",["T_WHITESPACE","\n        ",191],")",["T_WHITESPACE"," ",192],"{",["T_WHITESPACE","\n            ",192],["T_VARIABLE","$this",193],["T_OBJECT_OPERATOR","->",193],["T_STRING","_addButton",193],"(",["T_CONSTANT_ENCAPSED_STRING","'order_reorder'",193],",",["T_WHITESPACE"," ",193],["T_ARRAY","array",193],"(",["T_WHITESPACE","\n                ",193],["T_CONSTANT_ENCAPSED_STRING","'label'",194],["T_WHITESPACE","     ",194],["T_DOUBLE_ARROW","=>",194],["T_WHITESPACE"," ",194],["T_STRING","Mage",194],["T_DOUBLE_COLON","::",194],["T_STRING","helper",194],"(",["T_CONSTANT_ENCAPSED_STRING","'sales'",194],")",["T_OBJECT_OPERATOR","->",194],["T_STRING","__",194],"(",["T_CONSTANT_ENCAPSED_STRING","'Reorder'",194],")",",",["T_WHITESPACE","\n                ",194],["T_CONSTANT_ENCAPSED_STRING","'onclick'",195],["T_WHITESPACE","   ",195],["T_DOUBLE_ARROW","=>",195],["T_WHITESPACE"," ",195],["T_CONSTANT_ENCAPSED_STRING","'setLocation(\\''",195],["T_WHITESPACE"," ",195],".",["T_WHITESPACE"," ",195],["T_VARIABLE","$this",195],["T_OBJECT_OPERATOR","->",195],["T_STRING","getReorderUrl",195],"(",")",["T_WHITESPACE"," ",195],".",["T_WHITESPACE"," ",195],["T_CONSTANT_ENCAPSED_STRING","'\\')'",195],",",["T_WHITESPACE","\n                ",195],["T_CONSTANT_ENCAPSED_STRING","'class'",196],["T_WHITESPACE","     ",196],["T_DOUBLE_ARROW","=>",196],["T_WHITESPACE"," ",196],["T_CONSTANT_ENCAPSED_STRING","'go'",196],["T_WHITESPACE","\n            ",196],")",")",";",["T_WHITESPACE","\n        ",197],"}",["T_WHITESPACE","\n    ",198],"}",["T_WHITESPACE","\n\n    ",199],["T_DOC_COMMENT","\/**\n     * Retrieve order model object\n     *\n     * @return Mage_Sales_Model_Order\n     *\/",201],["T_WHITESPACE","\n    ",205],["T_PUBLIC","public",206],["T_WHITESPACE"," ",206],["T_FUNCTION","function",206],["T_WHITESPACE"," ",206],["T_STRING","getOrder",206],"(",")",["T_WHITESPACE","\n    ",206],"{",["T_WHITESPACE","\n        ",207],["T_RETURN","return",208],["T_WHITESPACE"," ",208],["T_STRING","Mage",208],["T_DOUBLE_COLON","::",208],["T_STRING","registry",208],"(",["T_CONSTANT_ENCAPSED_STRING","'sales_order'",208],")",";",["T_WHITESPACE","\n    ",208],"}",["T_WHITESPACE","\n\n    ",209],["T_DOC_COMMENT","\/**\n     * Retrieve Order Identifier\n     *\n     * @return int\n     *\/",211],["T_WHITESPACE","\n    ",215],["T_PUBLIC","public",216],["T_WHITESPACE"," ",216],["T_FUNCTION","function",216],["T_WHITESPACE"," ",216],["T_STRING","getOrderId",216],"(",")",["T_WHITESPACE","\n    ",216],"{",["T_WHITESPACE","\n        ",217],["T_RETURN","return",218],["T_WHITESPACE"," ",218],["T_VARIABLE","$this",218],["T_OBJECT_OPERATOR","->",218],["T_STRING","getOrder",218],"(",")",["T_OBJECT_OPERATOR","->",218],["T_STRING","getId",218],"(",")",";",["T_WHITESPACE","\n    ",218],"}",["T_WHITESPACE","\n\n    ",219],["T_PUBLIC","public",221],["T_WHITESPACE"," ",221],["T_FUNCTION","function",221],["T_WHITESPACE"," ",221],["T_STRING","getHeaderText",221],"(",")",["T_WHITESPACE","\n    ",221],"{",["T_WHITESPACE","\n        ",222],["T_IF","if",223],["T_WHITESPACE"," ",223],"(",["T_VARIABLE","$_extOrderId",223],["T_WHITESPACE"," ",223],"=",["T_WHITESPACE"," ",223],["T_VARIABLE","$this",223],["T_OBJECT_OPERATOR","->",223],["T_STRING","getOrder",223],"(",")",["T_OBJECT_OPERATOR","->",223],["T_STRING","getExtOrderId",223],"(",")",")",["T_WHITESPACE"," ",223],"{",["T_WHITESPACE","\n            ",223],["T_VARIABLE","$_extOrderId",224],["T_WHITESPACE"," ",224],"=",["T_WHITESPACE"," ",224],["T_CONSTANT_ENCAPSED_STRING","'['",224],["T_WHITESPACE"," ",224],".",["T_WHITESPACE"," ",224],["T_VARIABLE","$_extOrderId",224],["T_WHITESPACE"," ",224],".",["T_WHITESPACE"," ",224],["T_CONSTANT_ENCAPSED_STRING","'] '",224],";",["T_WHITESPACE","\n        ",224],"}",["T_WHITESPACE"," ",225],["T_ELSE","else",225],["T_WHITESPACE"," ",225],"{",["T_WHITESPACE","\n            ",225],["T_VARIABLE","$_extOrderId",226],["T_WHITESPACE"," ",226],"=",["T_WHITESPACE"," ",226],["T_CONSTANT_ENCAPSED_STRING","''",226],";",["T_WHITESPACE","\n        ",226],"}",["T_WHITESPACE","\n        ",227],["T_RETURN","return",228],["T_WHITESPACE"," ",228],["T_STRING","Mage",228],["T_DOUBLE_COLON","::",228],["T_STRING","helper",228],"(",["T_CONSTANT_ENCAPSED_STRING","'sales'",228],")",["T_OBJECT_OPERATOR","->",228],["T_STRING","__",228],"(",["T_CONSTANT_ENCAPSED_STRING","'Order # %s %s | %s'",228],",",["T_WHITESPACE"," ",228],["T_VARIABLE","$this",228],["T_OBJECT_OPERATOR","->",228],["T_STRING","getOrder",228],"(",")",["T_OBJECT_OPERATOR","->",228],["T_STRING","getRealOrderId",228],"(",")",",",["T_WHITESPACE"," ",228],["T_VARIABLE","$_extOrderId",228],",",["T_WHITESPACE"," ",228],["T_VARIABLE","$this",228],["T_OBJECT_OPERATOR","->",228],["T_STRING","formatDate",228],"(",["T_VARIABLE","$this",228],["T_OBJECT_OPERATOR","->",228],["T_STRING","getOrder",228],"(",")",["T_OBJECT_OPERATOR","->",228],["T_STRING","getCreatedAtDate",228],"(",")",",",["T_WHITESPACE"," ",228],["T_CONSTANT_ENCAPSED_STRING","'medium'",228],",",["T_WHITESPACE"," ",228],["T_STRING","true",228],")",")",";",["T_WHITESPACE","\n    ",228],"}",["T_WHITESPACE","\n\n    ",229],["T_PUBLIC","public",231],["T_WHITESPACE"," ",231],["T_FUNCTION","function",231],["T_WHITESPACE"," ",231],["T_STRING","getUrl",231],"(",["T_VARIABLE","$params",231],"=",["T_CONSTANT_ENCAPSED_STRING","''",231],",",["T_WHITESPACE"," ",231],["T_VARIABLE","$params2",231],"=",["T_ARRAY","array",231],"(",")",")",["T_WHITESPACE","\n    ",231],"{",["T_WHITESPACE","\n        ",232],["T_VARIABLE","$params2",233],"[",["T_CONSTANT_ENCAPSED_STRING","'order_id'",233],"]",["T_WHITESPACE"," ",233],"=",["T_WHITESPACE"," ",233],["T_VARIABLE","$this",233],["T_OBJECT_OPERATOR","->",233],["T_STRING","getOrderId",233],"(",")",";",["T_WHITESPACE","\n        ",233],["T_RETURN","return",234],["T_WHITESPACE"," ",234],["T_STRING","parent",234],["T_DOUBLE_COLON","::",234],["T_STRING","getUrl",234],"(",["T_VARIABLE","$params",234],",",["T_WHITESPACE"," ",234],["T_VARIABLE","$params2",234],")",";",["T_WHITESPACE","\n    ",234],"}",["T_WHITESPACE","\n\n    ",235],["T_PUBLIC","public",237],["T_WHITESPACE"," ",237],["T_FUNCTION","function",237],["T_WHITESPACE"," ",237],["T_STRING","getEditUrl",237],"(",")",["T_WHITESPACE","\n    ",237],"{",["T_WHITESPACE","\n        ",238],["T_RETURN","return",239],["T_WHITESPACE"," ",239],["T_VARIABLE","$this",239],["T_OBJECT_OPERATOR","->",239],["T_STRING","getUrl",239],"(",["T_CONSTANT_ENCAPSED_STRING","'*\/sales_order_edit\/start'",239],")",";",["T_WHITESPACE","\n    ",239],"}",["T_WHITESPACE","\n\n    ",240],["T_PUBLIC","public",242],["T_WHITESPACE"," ",242],["T_FUNCTION","function",242],["T_WHITESPACE"," ",242],["T_STRING","getEmailUrl",242],"(",")",["T_WHITESPACE","\n    ",242],"{",["T_WHITESPACE","\n        ",243],["T_RETURN","return",244],["T_WHITESPACE"," ",244],["T_VARIABLE","$this",244],["T_OBJECT_OPERATOR","->",244],["T_STRING","getUrl",244],"(",["T_CONSTANT_ENCAPSED_STRING","'*\/*\/email'",244],")",";",["T_WHITESPACE","\n    ",244],"}",["T_WHITESPACE","\n\n    ",245],["T_PUBLIC","public",247],["T_WHITESPACE"," ",247],["T_FUNCTION","function",247],["T_WHITESPACE"," ",247],["T_STRING","getCancelUrl",247],"(",")",["T_WHITESPACE","\n    ",247],"{",["T_WHITESPACE","\n        ",248],["T_RETURN","return",249],["T_WHITESPACE"," ",249],["T_VARIABLE","$this",249],["T_OBJECT_OPERATOR","->",249],["T_STRING","getUrl",249],"(",["T_CONSTANT_ENCAPSED_STRING","'*\/*\/cancel'",249],")",";",["T_WHITESPACE","\n    ",249],"}",["T_WHITESPACE","\n\n    ",250],["T_PUBLIC","public",252],["T_WHITESPACE"," ",252],["T_FUNCTION","function",252],["T_WHITESPACE"," ",252],["T_STRING","getInvoiceUrl",252],"(",")",["T_WHITESPACE","\n    ",252],"{",["T_WHITESPACE","\n        ",253],["T_RETURN","return",254],["T_WHITESPACE"," ",254],["T_VARIABLE","$this",254],["T_OBJECT_OPERATOR","->",254],["T_STRING","getUrl",254],"(",["T_CONSTANT_ENCAPSED_STRING","'*\/sales_order_invoice\/start'",254],")",";",["T_WHITESPACE","\n    ",254],"}",["T_WHITESPACE","\n\n    ",255],["T_PUBLIC","public",257],["T_WHITESPACE"," ",257],["T_FUNCTION","function",257],["T_WHITESPACE"," ",257],["T_STRING","getCreditmemoUrl",257],"(",")",["T_WHITESPACE","\n    ",257],"{",["T_WHITESPACE","\n        ",258],["T_RETURN","return",259],["T_WHITESPACE"," ",259],["T_VARIABLE","$this",259],["T_OBJECT_OPERATOR","->",259],["T_STRING","getUrl",259],"(",["T_CONSTANT_ENCAPSED_STRING","'*\/sales_order_creditmemo\/start'",259],")",";",["T_WHITESPACE","\n    ",259],"}",["T_WHITESPACE","\n\n    ",260],["T_PUBLIC","public",262],["T_WHITESPACE"," ",262],["T_FUNCTION","function",262],["T_WHITESPACE"," ",262],["T_STRING","getHoldUrl",262],"(",")",["T_WHITESPACE","\n    ",262],"{",["T_WHITESPACE","\n        ",263],["T_RETURN","return",264],["T_WHITESPACE"," ",264],["T_VARIABLE","$this",264],["T_OBJECT_OPERATOR","->",264],["T_STRING","getUrl",264],"(",["T_CONSTANT_ENCAPSED_STRING","'*\/*\/hold'",264],")",";",["T_WHITESPACE","\n    ",264],"}",["T_WHITESPACE","\n\n    ",265],["T_PUBLIC","public",267],["T_WHITESPACE"," ",267],["T_FUNCTION","function",267],["T_WHITESPACE"," ",267],["T_STRING","getUnholdUrl",267],"(",")",["T_WHITESPACE","\n    ",267],"{",["T_WHITESPACE","\n        ",268],["T_RETURN","return",269],["T_WHITESPACE"," ",269],["T_VARIABLE","$this",269],["T_OBJECT_OPERATOR","->",269],["T_STRING","getUrl",269],"(",["T_CONSTANT_ENCAPSED_STRING","'*\/*\/unhold'",269],")",";",["T_WHITESPACE","\n    ",269],"}",["T_WHITESPACE","\n\n    ",270],["T_PUBLIC","public",272],["T_WHITESPACE"," ",272],["T_FUNCTION","function",272],["T_WHITESPACE"," ",272],["T_STRING","getShipUrl",272],"(",")",["T_WHITESPACE","\n    ",272],"{",["T_WHITESPACE","\n        ",273],["T_RETURN","return",274],["T_WHITESPACE"," ",274],["T_VARIABLE","$this",274],["T_OBJECT_OPERATOR","->",274],["T_STRING","getUrl",274],"(",["T_CONSTANT_ENCAPSED_STRING","'*\/sales_order_shipment\/start'",274],")",";",["T_WHITESPACE","\n    ",274],"}",["T_WHITESPACE","\n\n    ",275],["T_PUBLIC","public",277],["T_WHITESPACE"," ",277],["T_FUNCTION","function",277],["T_WHITESPACE"," ",277],["T_STRING","getCommentUrl",277],"(",")",["T_WHITESPACE","\n    ",277],"{",["T_WHITESPACE","\n        ",278],["T_RETURN","return",279],["T_WHITESPACE"," ",279],["T_VARIABLE","$this",279],["T_OBJECT_OPERATOR","->",279],["T_STRING","getUrl",279],"(",["T_CONSTANT_ENCAPSED_STRING","'*\/*\/comment'",279],")",";",["T_WHITESPACE","\n    ",279],"}",["T_WHITESPACE","\n\n    ",280],["T_PUBLIC","public",282],["T_WHITESPACE"," ",282],["T_FUNCTION","function",282],["T_WHITESPACE"," ",282],["T_STRING","getReorderUrl",282],"(",")",["T_WHITESPACE","\n    ",282],"{",["T_WHITESPACE","\n        ",283],["T_RETURN","return",284],["T_WHITESPACE"," ",284],["T_VARIABLE","$this",284],["T_OBJECT_OPERATOR","->",284],["T_STRING","getUrl",284],"(",["T_CONSTANT_ENCAPSED_STRING","'*\/sales_order_create\/reorder'",284],")",";",["T_WHITESPACE","\n    ",284],"}",["T_WHITESPACE","\n\n    ",285],["T_DOC_COMMENT","\/**\n     * Payment void URL getter\n     *\/",287],["T_WHITESPACE","\n    ",289],["T_PUBLIC","public",290],["T_WHITESPACE"," ",290],["T_FUNCTION","function",290],["T_WHITESPACE"," ",290],["T_STRING","getVoidPaymentUrl",290],"(",")",["T_WHITESPACE","\n    ",290],"{",["T_WHITESPACE","\n        ",291],["T_RETURN","return",292],["T_WHITESPACE"," ",292],["T_VARIABLE","$this",292],["T_OBJECT_OPERATOR","->",292],["T_STRING","getUrl",292],"(",["T_CONSTANT_ENCAPSED_STRING","'*\/*\/voidPayment'",292],")",";",["T_WHITESPACE","\n    ",292],"}",["T_WHITESPACE","\n\n    ",293],["T_PROTECTED","protected",295],["T_WHITESPACE"," ",295],["T_FUNCTION","function",295],["T_WHITESPACE"," ",295],["T_STRING","_isAllowedAction",295],"(",["T_VARIABLE","$action",295],")",["T_WHITESPACE","\n    ",295],"{",["T_WHITESPACE","\n        ",296],["T_RETURN","return",297],["T_WHITESPACE"," ",297],["T_STRING","Mage",297],["T_DOUBLE_COLON","::",297],["T_STRING","getSingleton",297],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/session'",297],")",["T_OBJECT_OPERATOR","->",297],["T_STRING","isAllowed",297],"(",["T_CONSTANT_ENCAPSED_STRING","'sales\/order\/actions\/'",297],["T_WHITESPACE"," ",297],".",["T_WHITESPACE"," ",297],["T_VARIABLE","$action",297],")",";",["T_WHITESPACE","\n    ",297],"}",["T_WHITESPACE","\n\n    ",298],["T_DOC_COMMENT","\/**\n     * Return back url for view grid\n     *\n     * @return string\n     *\/",300],["T_WHITESPACE","\n    ",304],["T_PUBLIC","public",305],["T_WHITESPACE"," ",305],["T_FUNCTION","function",305],["T_WHITESPACE"," ",305],["T_STRING","getBackUrl",305],"(",")",["T_WHITESPACE","\n    ",305],"{",["T_WHITESPACE","\n        ",306],["T_IF","if",307],["T_WHITESPACE"," ",307],"(",["T_VARIABLE","$this",307],["T_OBJECT_OPERATOR","->",307],["T_STRING","getOrder",307],"(",")",["T_OBJECT_OPERATOR","->",307],["T_STRING","getBackUrl",307],"(",")",")",["T_WHITESPACE"," ",307],"{",["T_WHITESPACE","\n            ",307],["T_RETURN","return",308],["T_WHITESPACE"," ",308],["T_VARIABLE","$this",308],["T_OBJECT_OPERATOR","->",308],["T_STRING","getOrder",308],"(",")",["T_OBJECT_OPERATOR","->",308],["T_STRING","getBackUrl",308],"(",")",";",["T_WHITESPACE","\n        ",308],"}",["T_WHITESPACE","\n\n        ",309],["T_RETURN","return",311],["T_WHITESPACE"," ",311],["T_VARIABLE","$this",311],["T_OBJECT_OPERATOR","->",311],["T_STRING","getUrl",311],"(",["T_CONSTANT_ENCAPSED_STRING","'*\/*\/'",311],")",";",["T_WHITESPACE","\n    ",311],"}",["T_WHITESPACE","\n\n    ",312],["T_PUBLIC","public",314],["T_WHITESPACE"," ",314],["T_FUNCTION","function",314],["T_WHITESPACE"," ",314],["T_STRING","getReviewPaymentUrl",314],"(",["T_VARIABLE","$action",314],")",["T_WHITESPACE","\n    ",314],"{",["T_WHITESPACE","\n        ",315],["T_RETURN","return",316],["T_WHITESPACE"," ",316],["T_VARIABLE","$this",316],["T_OBJECT_OPERATOR","->",316],["T_STRING","getUrl",316],"(",["T_CONSTANT_ENCAPSED_STRING","'*\/*\/reviewPayment'",316],",",["T_WHITESPACE"," ",316],["T_ARRAY","array",316],"(",["T_CONSTANT_ENCAPSED_STRING","'action'",316],["T_WHITESPACE"," ",316],["T_DOUBLE_ARROW","=>",316],["T_WHITESPACE"," ",316],["T_VARIABLE","$action",316],")",")",";",["T_WHITESPACE","\n    ",316],"}",["T_WHITESPACE","\n",317],["T_COMMENT","\/\/\n",318],["T_COMMENT","\/\/    \/**\n",319],["T_COMMENT","\/\/     * Return URL for accept payment action\n",320],["T_COMMENT","\/\/     *\n",321],["T_COMMENT","\/\/     * @return string\n",322],["T_COMMENT","\/\/     *\/\n",323],["T_COMMENT","\/\/    public function getAcceptPaymentUrl()\n",324],["T_COMMENT","\/\/    {\n",325],["T_COMMENT","\/\/        return $this->getUrl('*\/*\/reviewPayment', array('action' => 'accept'));\n",326],["T_COMMENT","\/\/    }\n",327],["T_COMMENT","\/\/\n",328],["T_COMMENT","\/\/    \/**\n",329],["T_COMMENT","\/\/     * Return URL for deny payment action\n",330],["T_COMMENT","\/\/     *\n",331],["T_COMMENT","\/\/     * @return string\n",332],["T_COMMENT","\/\/     *\/\n",333],["T_COMMENT","\/\/    public function getDenyPaymentUrl()\n",334],["T_COMMENT","\/\/    {\n",335],["T_COMMENT","\/\/        return $this->getUrl('*\/*\/reviewPayment', array('action' => 'deny'));\n",336],["T_COMMENT","\/\/    }\n",337],["T_COMMENT","\/\/\n",338],["T_COMMENT","\/\/    public function getPaymentReviewUpdateUrl()\n",339],["T_COMMENT","\/\/    {\n",340],["T_COMMENT","\/\/        return $this->getUrl('*\/*\/reviewPaymentUpdate');\n",341],["T_COMMENT","\/\/    }\n",342],"}",["T_WHITESPACE","\n",343]]