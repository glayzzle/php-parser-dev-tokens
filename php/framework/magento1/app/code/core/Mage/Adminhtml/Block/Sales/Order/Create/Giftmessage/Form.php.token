[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Magento\n *\n * NOTICE OF LICENSE\n *\n * This source file is subject to the Open Software License (OSL 3.0)\n * that is bundled with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/opensource.org\/licenses\/osl-3.0.php\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@magento.com so we can send you a copy immediately.\n *\n * DISCLAIMER\n *\n * Do not edit or add to this file if you wish to upgrade Magento to newer\n * versions in the future. If you wish to customize Magento for your\n * needs please refer to http:\/\/www.magento.com for more information.\n *\n * @category    Mage\n * @package     Mage_Adminhtml\n * @copyright  Copyright (c) 2006-2016 X.commerce, Inc. and affiliates (http:\/\/www.magento.com)\n * @license    http:\/\/opensource.org\/licenses\/osl-3.0.php  Open Software License (OSL 3.0)\n *\/",2],["T_WHITESPACE","\n\n\n",25],["T_DOC_COMMENT","\/**\n * Adminhtml order creating gift message item form\n *\n * @category   Mage\n * @package    Mage_Adminhtml\n * @author      Magento Core Team <core@magentocommerce.com>\n *\/",28],["T_WHITESPACE","\n",34],["T_CLASS","class",35],["T_WHITESPACE"," ",35],["T_STRING","Mage_Adminhtml_Block_Sales_Order_Create_Giftmessage_Form",35],["T_WHITESPACE"," ",35],["T_EXTENDS","extends",35],["T_WHITESPACE"," ",35],["T_STRING","Mage_Adminhtml_Block_Widget_Form",35],["T_WHITESPACE","\n",35],"{",["T_WHITESPACE","\n    ",36],["T_DOC_COMMENT","\/**\n     * Entity for editing of gift message\n     *\n     * @var Mage_Eav_Model_Entity_Abstract\n     *\/",37],["T_WHITESPACE","\n    ",41],["T_PROTECTED","protected",42],["T_WHITESPACE"," ",42],["T_VARIABLE","$_entity",42],";",["T_WHITESPACE","\n\n    ",42],["T_DOC_COMMENT","\/**\n     * Giftmessage object\n     *\n     * @var Mage_GiftMessage_Model_Message\n     *\/",44],["T_WHITESPACE","\n    ",48],["T_PROTECTED","protected",49],["T_WHITESPACE"," ",49],["T_VARIABLE","$_giftMessage",49],";",["T_WHITESPACE","\n\n    ",49],["T_DOC_COMMENT","\/**\n     * Set entity for form\n     *\n     * @param Varien_Object $entity\n     * @return Mage_Adminhtml_Block_Sales_Order_Create_Giftmessage_Form\n     *\/",51],["T_WHITESPACE","\n    ",56],["T_PUBLIC","public",57],["T_WHITESPACE"," ",57],["T_FUNCTION","function",57],["T_WHITESPACE"," ",57],["T_STRING","setEntity",57],"(",["T_STRING","Varien_Object",57],["T_WHITESPACE"," ",57],["T_VARIABLE","$entity",57],")",["T_WHITESPACE","\n    ",57],"{",["T_WHITESPACE","\n        ",58],["T_VARIABLE","$this",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","_entity",59],["T_WHITESPACE","  ",59],"=",["T_WHITESPACE"," ",59],["T_VARIABLE","$entity",59],";",["T_WHITESPACE","\n        ",59],["T_RETURN","return",60],["T_WHITESPACE"," ",60],["T_VARIABLE","$this",60],";",["T_WHITESPACE","\n    ",60],"}",["T_WHITESPACE","\n\n    ",61],["T_DOC_COMMENT","\/**\n     * Retrive entity for form\n     *\n     * @return Varien_Object\n     *\/",63],["T_WHITESPACE","\n    ",67],["T_PUBLIC","public",68],["T_WHITESPACE"," ",68],["T_FUNCTION","function",68],["T_WHITESPACE"," ",68],["T_STRING","getEntity",68],"(",")",["T_WHITESPACE","\n    ",68],"{",["T_WHITESPACE","\n        ",69],["T_RETURN","return",70],["T_WHITESPACE"," ",70],["T_VARIABLE","$this",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","_entity",70],";",["T_WHITESPACE","\n    ",70],"}",["T_WHITESPACE","\n\n    ",71],["T_PROTECTED","protected",73],["T_WHITESPACE"," ",73],["T_FUNCTION","function",73],["T_WHITESPACE"," ",73],["T_STRING","_getSession",73],"(",")",["T_WHITESPACE","\n    ",73],"{",["T_WHITESPACE","\n        ",74],["T_RETURN","return",75],["T_WHITESPACE"," ",75],["T_STRING","Mage",75],["T_DOUBLE_COLON","::",75],["T_STRING","getSingleton",75],"(",["T_CONSTANT_ENCAPSED_STRING","'adminhtml\/session_quote'",75],")",";",["T_WHITESPACE","\n    ",75],"}",["T_WHITESPACE","\n\n    ",76],["T_DOC_COMMENT","\/**\n     * Retrieve default value for giftmessage sender\n     *\n     * @return string\n     *\/",78],["T_WHITESPACE","\n    ",82],["T_PUBLIC","public",83],["T_WHITESPACE"," ",83],["T_FUNCTION","function",83],["T_WHITESPACE"," ",83],["T_STRING","getDefaultSender",83],"(",")",["T_WHITESPACE","\n    ",83],"{",["T_WHITESPACE","\n        ",84],["T_IF","if",85],"(","!",["T_VARIABLE","$this",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","getEntity",85],"(",")",")",["T_WHITESPACE"," ",85],"{",["T_WHITESPACE","\n            ",85],["T_RETURN","return",86],["T_WHITESPACE"," ",86],["T_CONSTANT_ENCAPSED_STRING","''",86],";",["T_WHITESPACE","\n        ",86],"}",["T_WHITESPACE","\n\n        ",87],["T_IF","if",89],"(",["T_VARIABLE","$this",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","_getSession",89],"(",")",["T_OBJECT_OPERATOR","->",89],["T_STRING","getCustomer",89],"(",")",["T_OBJECT_OPERATOR","->",89],["T_STRING","getId",89],"(",")",")",["T_WHITESPACE"," ",89],"{",["T_WHITESPACE","\n            ",89],["T_RETURN","return",90],["T_WHITESPACE"," ",90],["T_VARIABLE","$this",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","_getSession",90],"(",")",["T_OBJECT_OPERATOR","->",90],["T_STRING","getCustomer",90],"(",")",["T_OBJECT_OPERATOR","->",90],["T_STRING","getName",90],"(",")",";",["T_WHITESPACE","\n        ",90],"}",["T_WHITESPACE","\n\n        ",91],["T_VARIABLE","$object",93],["T_WHITESPACE"," ",93],"=",["T_WHITESPACE"," ",93],["T_VARIABLE","$this",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","getEntity",93],"(",")",";",["T_WHITESPACE","\n\n        ",93],["T_IF","if",95],["T_WHITESPACE"," ",95],"(",["T_VARIABLE","$this",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","getEntity",95],"(",")",["T_OBJECT_OPERATOR","->",95],["T_STRING","getQuote",95],"(",")",")",["T_WHITESPACE"," ",95],"{",["T_WHITESPACE","\n            ",95],["T_VARIABLE","$object",96],["T_WHITESPACE"," ",96],"=",["T_WHITESPACE"," ",96],["T_VARIABLE","$this",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","getEntity",96],"(",")",["T_OBJECT_OPERATOR","->",96],["T_STRING","getQuote",96],"(",")",";",["T_WHITESPACE","\n        ",96],"}",["T_WHITESPACE","\n\n        ",97],["T_RETURN","return",99],["T_WHITESPACE"," ",99],["T_VARIABLE","$object",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","getBillingAddress",99],"(",")",["T_OBJECT_OPERATOR","->",99],["T_STRING","getName",99],"(",")",";",["T_WHITESPACE","\n    ",99],"}",["T_WHITESPACE","\n\n    ",100],["T_DOC_COMMENT","\/**\n     * Retrieve default value for giftmessage recipient\n     *\n     * @return string\n     *\/",102],["T_WHITESPACE","\n    ",106],["T_PUBLIC","public",107],["T_WHITESPACE"," ",107],["T_FUNCTION","function",107],["T_WHITESPACE"," ",107],["T_STRING","getDefaultRecipient",107],"(",")",["T_WHITESPACE","\n    ",107],"{",["T_WHITESPACE","\n        ",108],["T_IF","if",109],"(","!",["T_VARIABLE","$this",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","getEntity",109],"(",")",")",["T_WHITESPACE"," ",109],"{",["T_WHITESPACE","\n            ",109],["T_RETURN","return",110],["T_WHITESPACE"," ",110],["T_CONSTANT_ENCAPSED_STRING","''",110],";",["T_WHITESPACE","\n        ",110],"}",["T_WHITESPACE","\n\n        ",111],["T_VARIABLE","$object",113],["T_WHITESPACE"," ",113],"=",["T_WHITESPACE"," ",113],["T_VARIABLE","$this",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","getEntity",113],"(",")",";",["T_WHITESPACE","\n\n        ",113],["T_IF","if",115],["T_WHITESPACE"," ",115],"(",["T_VARIABLE","$this",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","getEntity",115],"(",")",["T_OBJECT_OPERATOR","->",115],["T_STRING","getOrder",115],"(",")",")",["T_WHITESPACE"," ",115],"{",["T_WHITESPACE","\n            ",115],["T_VARIABLE","$object",116],["T_WHITESPACE"," ",116],"=",["T_WHITESPACE"," ",116],["T_VARIABLE","$this",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","getEntity",116],"(",")",["T_OBJECT_OPERATOR","->",116],["T_STRING","getOrder",116],"(",")",";",["T_WHITESPACE","\n        ",116],"}",["T_WHITESPACE","\n        ",117],["T_ELSE","else",118],["T_WHITESPACE"," ",118],["T_IF","if",118],["T_WHITESPACE"," ",118],"(",["T_VARIABLE","$this",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","getEntity",118],"(",")",["T_OBJECT_OPERATOR","->",118],["T_STRING","getQuote",118],"(",")",")","{",["T_WHITESPACE","\n            ",118],["T_VARIABLE","$object",119],["T_WHITESPACE"," ",119],"=",["T_WHITESPACE"," ",119],["T_VARIABLE","$this",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","getEntity",119],"(",")",["T_OBJECT_OPERATOR","->",119],["T_STRING","getQuote",119],"(",")",";",["T_WHITESPACE","\n        ",119],"}",["T_WHITESPACE","\n\n        ",120],["T_IF","if",122],["T_WHITESPACE"," ",122],"(",["T_VARIABLE","$object",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","getShippingAddress",122],"(",")",")",["T_WHITESPACE"," ",122],"{",["T_WHITESPACE","\n            ",122],["T_RETURN","return",123],["T_WHITESPACE"," ",123],["T_VARIABLE","$object",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","getShippingAddress",123],"(",")",["T_OBJECT_OPERATOR","->",123],["T_STRING","getName",123],"(",")",";",["T_WHITESPACE","\n        ",123],"}",["T_WHITESPACE","\n        ",124],["T_ELSE","else",125],["T_WHITESPACE"," ",125],["T_IF","if",125],["T_WHITESPACE"," ",125],"(",["T_VARIABLE","$object",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","getBillingAddress",125],"(",")",")",["T_WHITESPACE"," ",125],"{",["T_WHITESPACE","\n            ",125],["T_RETURN","return",126],["T_WHITESPACE"," ",126],["T_VARIABLE","$object",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","getBillingAddress",126],"(",")",["T_OBJECT_OPERATOR","->",126],["T_STRING","getName",126],"(",")",";",["T_WHITESPACE","\n        ",126],"}",["T_WHITESPACE","\n\n        ",127],["T_RETURN","return",129],["T_WHITESPACE"," ",129],["T_CONSTANT_ENCAPSED_STRING","''",129],";",["T_WHITESPACE","\n    ",129],"}",["T_WHITESPACE","\n\n    ",130],["T_DOC_COMMENT","\/**\n     * Prepares form\n     *\n     * @return Mage_Adminhtml_Block_Sales_Order_Create_Giftmessage_Form\n     *\/",132],["T_WHITESPACE","\n    ",136],["T_PUBLIC","public",137],["T_WHITESPACE"," ",137],["T_FUNCTION","function",137],["T_WHITESPACE"," ",137],["T_STRING","_prepareForm",137],"(",")",["T_WHITESPACE","\n    ",137],"{",["T_WHITESPACE","\n        ",138],["T_VARIABLE","$form",139],["T_WHITESPACE"," ",139],"=",["T_WHITESPACE"," ",139],["T_NEW","new",139],["T_WHITESPACE"," ",139],["T_STRING","Varien_Data_Form",139],"(",")",";",["T_WHITESPACE","\n        ",139],["T_VARIABLE","$fieldset",140],["T_WHITESPACE"," ",140],"=",["T_WHITESPACE"," ",140],["T_VARIABLE","$form",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","addFieldset",140],"(",["T_CONSTANT_ENCAPSED_STRING","'main'",140],",",["T_WHITESPACE"," ",140],["T_ARRAY","array",140],"(",["T_CONSTANT_ENCAPSED_STRING","'no_container'",140],["T_DOUBLE_ARROW","=>",140],["T_STRING","true",140],")",")",";",["T_WHITESPACE","\n\n        ",140],["T_VARIABLE","$fieldset",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","addField",142],"(",["T_CONSTANT_ENCAPSED_STRING","'type'",142],",",["T_CONSTANT_ENCAPSED_STRING","'hidden'",142],",",["T_WHITESPACE","\n            ",142],["T_ARRAY","array",143],"(",["T_WHITESPACE","\n                ",143],["T_CONSTANT_ENCAPSED_STRING","'name'",144],["T_WHITESPACE"," ",144],["T_DOUBLE_ARROW","=>",144],["T_WHITESPACE","  ",144],["T_VARIABLE","$this",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","_getFieldName",144],"(",["T_CONSTANT_ENCAPSED_STRING","'type'",144],")",",",["T_WHITESPACE","\n            ",144],")",["T_WHITESPACE","\n        ",145],")",";",["T_WHITESPACE","\n\n        ",146],["T_VARIABLE","$form",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","setHtmlIdPrefix",148],"(",["T_VARIABLE","$this",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","_getFieldIdPrefix",148],"(",")",")",";",["T_WHITESPACE","\n\n        ",148],["T_IF","if",150],["T_WHITESPACE"," ",150],"(",["T_VARIABLE","$this",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","getEntityType",150],"(",")",["T_WHITESPACE"," ",150],["T_IS_EQUAL","==",150],["T_WHITESPACE"," ",150],["T_CONSTANT_ENCAPSED_STRING","'item'",150],")",["T_WHITESPACE"," ",150],"{",["T_WHITESPACE","\n            ",150],["T_VARIABLE","$this",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","_prepareHiddenFields",151],"(",["T_VARIABLE","$fieldset",151],")",";",["T_WHITESPACE","\n        ",151],"}",["T_WHITESPACE"," ",152],["T_ELSE","else",152],["T_WHITESPACE"," ",152],"{",["T_WHITESPACE","\n            ",152],["T_VARIABLE","$this",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","_prepareVisibleFields",153],"(",["T_VARIABLE","$fieldset",153],")",";",["T_WHITESPACE","\n        ",153],"}",["T_WHITESPACE","\n\n        ",154],["T_COMMENT","\/\/ Set default sender and recipient from billing and shipping adresses\n",156],["T_WHITESPACE","        ",157],["T_IF","if",157],"(","!",["T_VARIABLE","$this",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","getMessage",157],"(",")",["T_OBJECT_OPERATOR","->",157],["T_STRING","getSender",157],"(",")",")",["T_WHITESPACE"," ",157],"{",["T_WHITESPACE","\n            ",157],["T_VARIABLE","$this",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","getMessage",158],"(",")",["T_OBJECT_OPERATOR","->",158],["T_STRING","setSender",158],"(",["T_VARIABLE","$this",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","getDefaultSender",158],"(",")",")",";",["T_WHITESPACE","\n        ",158],"}",["T_WHITESPACE","\n\n        ",159],["T_IF","if",161],"(","!",["T_VARIABLE","$this",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","getMessage",161],"(",")",["T_OBJECT_OPERATOR","->",161],["T_STRING","getRecipient",161],"(",")",")",["T_WHITESPACE"," ",161],"{",["T_WHITESPACE","\n            ",161],["T_VARIABLE","$this",162],["T_OBJECT_OPERATOR","->",162],["T_STRING","getMessage",162],"(",")",["T_OBJECT_OPERATOR","->",162],["T_STRING","setRecipient",162],"(",["T_VARIABLE","$this",162],["T_OBJECT_OPERATOR","->",162],["T_STRING","getDefaultRecipient",162],"(",")",")",";",["T_WHITESPACE","\n        ",162],"}",["T_WHITESPACE","\n\n        ",163],["T_VARIABLE","$this",165],["T_OBJECT_OPERATOR","->",165],["T_STRING","getMessage",165],"(",")",["T_OBJECT_OPERATOR","->",165],["T_STRING","setType",165],"(",["T_VARIABLE","$this",165],["T_OBJECT_OPERATOR","->",165],["T_STRING","getEntityType",165],"(",")",")",";",["T_WHITESPACE","\n\n        ",165],["T_COMMENT","\/\/ Overriden default data with edited when block reloads througth Ajax\n",167],["T_WHITESPACE","        ",168],["T_VARIABLE","$this",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","_applyPostData",168],"(",")",";",["T_WHITESPACE","\n\n        ",168],["T_VARIABLE","$form",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","setValues",170],"(",["T_VARIABLE","$this",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","getMessage",170],"(",")",["T_OBJECT_OPERATOR","->",170],["T_STRING","getData",170],"(",")",")",";",["T_WHITESPACE","\n\n        ",170],["T_VARIABLE","$this",172],["T_OBJECT_OPERATOR","->",172],["T_STRING","setForm",172],"(",["T_VARIABLE","$form",172],")",";",["T_WHITESPACE","\n        ",172],["T_RETURN","return",173],["T_WHITESPACE"," ",173],["T_VARIABLE","$this",173],";",["T_WHITESPACE","\n    ",173],"}",["T_WHITESPACE","\n\n    ",174],["T_DOC_COMMENT","\/**\n     * Prepare form fieldset\n     * All fields are hidden\n     *\n     * @param Varien_Data_Form_Element_Fieldset $fieldset\n     *\n     * @return Mage_Adminhtml_Block_Sales_Order_Create_Giftmessage_Form\n     *\/",176],["T_WHITESPACE","\n    ",183],["T_PROTECTED","protected",184],["T_WHITESPACE"," ",184],["T_FUNCTION","function",184],["T_WHITESPACE"," ",184],["T_STRING","_prepareHiddenFields",184],"(",["T_STRING","Varien_Data_Form_Element_Fieldset",184],["T_WHITESPACE"," ",184],["T_VARIABLE","$fieldset",184],")",["T_WHITESPACE","\n    ",184],"{",["T_WHITESPACE","\n        ",185],["T_VARIABLE","$fieldset",186],["T_OBJECT_OPERATOR","->",186],["T_STRING","addField",186],"(",["T_CONSTANT_ENCAPSED_STRING","'sender'",186],",",["T_WHITESPACE"," ",186],["T_CONSTANT_ENCAPSED_STRING","'hidden'",186],",",["T_WHITESPACE","\n            ",186],["T_ARRAY","array",187],"(",["T_WHITESPACE","\n                ",187],["T_CONSTANT_ENCAPSED_STRING","'name'",188],["T_WHITESPACE"," ",188],["T_DOUBLE_ARROW","=>",188],["T_WHITESPACE"," ",188],["T_VARIABLE","$this",188],["T_OBJECT_OPERATOR","->",188],["T_STRING","_getFieldName",188],"(",["T_CONSTANT_ENCAPSED_STRING","'sender'",188],")",["T_WHITESPACE","\n            ",188],")",["T_WHITESPACE","\n        ",189],")",";",["T_WHITESPACE","\n        ",190],["T_VARIABLE","$fieldset",191],["T_OBJECT_OPERATOR","->",191],["T_STRING","addField",191],"(",["T_CONSTANT_ENCAPSED_STRING","'recipient'",191],",",["T_WHITESPACE"," ",191],["T_CONSTANT_ENCAPSED_STRING","'hidden'",191],",",["T_WHITESPACE","\n            ",191],["T_ARRAY","array",192],"(",["T_WHITESPACE","\n                ",192],["T_CONSTANT_ENCAPSED_STRING","'name'",193],["T_WHITESPACE"," ",193],["T_DOUBLE_ARROW","=>",193],["T_WHITESPACE"," ",193],["T_VARIABLE","$this",193],["T_OBJECT_OPERATOR","->",193],["T_STRING","_getFieldName",193],"(",["T_CONSTANT_ENCAPSED_STRING","'recipient'",193],")",["T_WHITESPACE","\n            ",193],")",["T_WHITESPACE","\n        ",194],")",";",["T_WHITESPACE","\n\n        ",195],["T_VARIABLE","$fieldset",197],["T_OBJECT_OPERATOR","->",197],["T_STRING","addField",197],"(",["T_CONSTANT_ENCAPSED_STRING","'message'",197],",",["T_WHITESPACE"," ",197],["T_CONSTANT_ENCAPSED_STRING","'hidden'",197],",",["T_WHITESPACE","\n            ",197],["T_ARRAY","array",198],"(",["T_WHITESPACE","\n                ",198],["T_CONSTANT_ENCAPSED_STRING","'name'",199],["T_WHITESPACE"," ",199],["T_DOUBLE_ARROW","=>",199],["T_WHITESPACE"," ",199],["T_VARIABLE","$this",199],["T_OBJECT_OPERATOR","->",199],["T_STRING","_getFieldName",199],"(",["T_CONSTANT_ENCAPSED_STRING","'message'",199],")",["T_WHITESPACE","\n            ",199],")",["T_WHITESPACE","\n        ",200],")",";",["T_WHITESPACE","\n        ",201],["T_RETURN","return",202],["T_WHITESPACE"," ",202],["T_VARIABLE","$this",202],";",["T_WHITESPACE","\n    ",202],"}",["T_WHITESPACE","\n\n    ",203],["T_DOC_COMMENT","\/**\n     * Prepare form fieldset\n     * All fields are visible\n     *\n     * @param Varien_Data_Form_Element_Fieldset $fieldset\n     *\n     * @return Mage_Adminhtml_Block_Sales_Order_Create_Giftmessage_Form\n     *\/",205],["T_WHITESPACE","\n    ",212],["T_PROTECTED","protected",213],["T_WHITESPACE"," ",213],["T_FUNCTION","function",213],["T_WHITESPACE"," ",213],["T_STRING","_prepareVisibleFields",213],"(",["T_STRING","Varien_Data_Form_Element_Fieldset",213],["T_WHITESPACE"," ",213],["T_VARIABLE","$fieldset",213],")",["T_WHITESPACE","\n    ",213],"{",["T_WHITESPACE","\n        ",214],["T_VARIABLE","$fieldset",215],["T_OBJECT_OPERATOR","->",215],["T_STRING","addField",215],"(",["T_CONSTANT_ENCAPSED_STRING","'sender'",215],",",["T_WHITESPACE"," ",215],["T_CONSTANT_ENCAPSED_STRING","'text'",215],",",["T_WHITESPACE","\n            ",215],["T_ARRAY","array",216],"(",["T_WHITESPACE","\n                ",216],["T_CONSTANT_ENCAPSED_STRING","'name'",217],["T_WHITESPACE","     ",217],["T_DOUBLE_ARROW","=>",217],["T_WHITESPACE"," ",217],["T_VARIABLE","$this",217],["T_OBJECT_OPERATOR","->",217],["T_STRING","_getFieldName",217],"(",["T_CONSTANT_ENCAPSED_STRING","'sender'",217],")",",",["T_WHITESPACE","\n                ",217],["T_CONSTANT_ENCAPSED_STRING","'label'",218],["T_WHITESPACE","    ",218],["T_DOUBLE_ARROW","=>",218],["T_WHITESPACE"," ",218],["T_STRING","Mage",218],["T_DOUBLE_COLON","::",218],["T_STRING","helper",218],"(",["T_CONSTANT_ENCAPSED_STRING","'sales'",218],")",["T_OBJECT_OPERATOR","->",218],["T_STRING","__",218],"(",["T_CONSTANT_ENCAPSED_STRING","'From'",218],")",",",["T_WHITESPACE","\n                ",218],["T_CONSTANT_ENCAPSED_STRING","'required'",219],["T_WHITESPACE"," ",219],["T_DOUBLE_ARROW","=>",219],["T_WHITESPACE"," ",219],["T_VARIABLE","$this",219],["T_OBJECT_OPERATOR","->",219],["T_STRING","getMessage",219],"(",")",["T_OBJECT_OPERATOR","->",219],["T_STRING","getMessage",219],"(",")",["T_WHITESPACE"," ",219],"?",["T_WHITESPACE"," ",219],["T_STRING","true",219],["T_WHITESPACE"," ",219],":",["T_WHITESPACE"," ",219],["T_STRING","false",219],["T_WHITESPACE","\n            ",219],")",["T_WHITESPACE","\n        ",220],")",";",["T_WHITESPACE","\n        ",221],["T_VARIABLE","$fieldset",222],["T_OBJECT_OPERATOR","->",222],["T_STRING","addField",222],"(",["T_CONSTANT_ENCAPSED_STRING","'recipient'",222],",",["T_WHITESPACE"," ",222],["T_CONSTANT_ENCAPSED_STRING","'text'",222],",",["T_WHITESPACE","\n            ",222],["T_ARRAY","array",223],"(",["T_WHITESPACE","\n                ",223],["T_CONSTANT_ENCAPSED_STRING","'name'",224],["T_WHITESPACE","     ",224],["T_DOUBLE_ARROW","=>",224],["T_WHITESPACE"," ",224],["T_VARIABLE","$this",224],["T_OBJECT_OPERATOR","->",224],["T_STRING","_getFieldName",224],"(",["T_CONSTANT_ENCAPSED_STRING","'recipient'",224],")",",",["T_WHITESPACE","\n                ",224],["T_CONSTANT_ENCAPSED_STRING","'label'",225],["T_WHITESPACE","    ",225],["T_DOUBLE_ARROW","=>",225],["T_WHITESPACE"," ",225],["T_STRING","Mage",225],["T_DOUBLE_COLON","::",225],["T_STRING","helper",225],"(",["T_CONSTANT_ENCAPSED_STRING","'sales'",225],")",["T_OBJECT_OPERATOR","->",225],["T_STRING","__",225],"(",["T_CONSTANT_ENCAPSED_STRING","'To'",225],")",",",["T_WHITESPACE","\n                ",225],["T_CONSTANT_ENCAPSED_STRING","'required'",226],["T_WHITESPACE"," ",226],["T_DOUBLE_ARROW","=>",226],["T_WHITESPACE"," ",226],["T_VARIABLE","$this",226],["T_OBJECT_OPERATOR","->",226],["T_STRING","getMessage",226],"(",")",["T_OBJECT_OPERATOR","->",226],["T_STRING","getMessage",226],"(",")",["T_WHITESPACE"," ",226],"?",["T_WHITESPACE"," ",226],["T_STRING","true",226],["T_WHITESPACE"," ",226],":",["T_WHITESPACE"," ",226],["T_STRING","false",226],["T_WHITESPACE","\n            ",226],")",["T_WHITESPACE","\n        ",227],")",";",["T_WHITESPACE","\n\n        ",228],["T_VARIABLE","$fieldset",230],["T_OBJECT_OPERATOR","->",230],["T_STRING","addField",230],"(",["T_CONSTANT_ENCAPSED_STRING","'message'",230],",",["T_WHITESPACE"," ",230],["T_CONSTANT_ENCAPSED_STRING","'textarea'",230],",",["T_WHITESPACE","\n            ",230],["T_ARRAY","array",231],"(",["T_WHITESPACE","\n                ",231],["T_CONSTANT_ENCAPSED_STRING","'name'",232],["T_WHITESPACE","      ",232],["T_DOUBLE_ARROW","=>",232],["T_WHITESPACE"," ",232],["T_VARIABLE","$this",232],["T_OBJECT_OPERATOR","->",232],["T_STRING","_getFieldName",232],"(",["T_CONSTANT_ENCAPSED_STRING","'message'",232],")",",",["T_WHITESPACE","\n                ",232],["T_CONSTANT_ENCAPSED_STRING","'label'",233],["T_WHITESPACE","     ",233],["T_DOUBLE_ARROW","=>",233],["T_WHITESPACE"," ",233],["T_STRING","Mage",233],["T_DOUBLE_COLON","::",233],["T_STRING","helper",233],"(",["T_CONSTANT_ENCAPSED_STRING","'sales'",233],")",["T_OBJECT_OPERATOR","->",233],["T_STRING","__",233],"(",["T_CONSTANT_ENCAPSED_STRING","'Message'",233],")",",",["T_WHITESPACE","\n                ",233],["T_CONSTANT_ENCAPSED_STRING","'rows'",234],["T_WHITESPACE","      ",234],["T_DOUBLE_ARROW","=>",234],["T_WHITESPACE"," ",234],["T_CONSTANT_ENCAPSED_STRING","'5'",234],",",["T_WHITESPACE","\n                ",234],["T_CONSTANT_ENCAPSED_STRING","'cols'",235],["T_WHITESPACE","      ",235],["T_DOUBLE_ARROW","=>",235],["T_WHITESPACE"," ",235],["T_CONSTANT_ENCAPSED_STRING","'20'",235],",",["T_WHITESPACE","\n            ",235],")",["T_WHITESPACE","\n        ",236],")",";",["T_WHITESPACE","\n        ",237],["T_RETURN","return",238],["T_WHITESPACE"," ",238],["T_VARIABLE","$this",238],";",["T_WHITESPACE","\n    ",238],"}",["T_WHITESPACE","\n\n    ",239],["T_DOC_COMMENT","\/**\n     * Initialize gift message for entity\n     *\n     * @return Mage_Adminhtml_Block_Sales_Order_Create_Giftmessage_Form\n     *\/",241],["T_WHITESPACE","\n    ",245],["T_PROTECTED","protected",246],["T_WHITESPACE"," ",246],["T_FUNCTION","function",246],["T_WHITESPACE"," ",246],["T_STRING","_initMessage",246],"(",")",["T_WHITESPACE","\n    ",246],"{",["T_WHITESPACE","\n        ",247],["T_VARIABLE","$this",248],["T_OBJECT_OPERATOR","->",248],["T_STRING","_giftMessage",248],["T_WHITESPACE"," ",248],"=",["T_WHITESPACE"," ",248],["T_VARIABLE","$this",248],["T_OBJECT_OPERATOR","->",248],["T_STRING","helper",248],"(",["T_CONSTANT_ENCAPSED_STRING","'giftmessage\/message'",248],")",["T_OBJECT_OPERATOR","->",248],["T_STRING","getGiftMessage",248],"(",["T_WHITESPACE","\n                                   ",248],["T_VARIABLE","$this",249],["T_OBJECT_OPERATOR","->",249],["T_STRING","getEntity",249],"(",")",["T_OBJECT_OPERATOR","->",249],["T_STRING","getGiftMessageId",249],"(",")",["T_WHITESPACE","\n                              ",249],")",";",["T_WHITESPACE","\n        ",250],["T_RETURN","return",251],["T_WHITESPACE"," ",251],["T_VARIABLE","$this",251],";",["T_WHITESPACE","\n    ",251],"}",["T_WHITESPACE","\n\n    ",252],["T_DOC_COMMENT","\/**\n     * Retrive gift message for entity\n     *\n     * @return Mage_GiftMessage_Model_Message\n     *\/",254],["T_WHITESPACE","\n    ",258],["T_PUBLIC","public",259],["T_WHITESPACE"," ",259],["T_FUNCTION","function",259],["T_WHITESPACE"," ",259],["T_STRING","getMessage",259],"(",")",["T_WHITESPACE","\n    ",259],"{",["T_WHITESPACE","\n        ",260],["T_IF","if",261],"(",["T_STRING","is_null",261],"(",["T_VARIABLE","$this",261],["T_OBJECT_OPERATOR","->",261],["T_STRING","_giftMessage",261],")",")",["T_WHITESPACE"," ",261],"{",["T_WHITESPACE","\n            ",261],["T_VARIABLE","$this",262],["T_OBJECT_OPERATOR","->",262],["T_STRING","_initMessage",262],"(",")",";",["T_WHITESPACE","\n        ",262],"}",["T_WHITESPACE","\n\n        ",263],["T_RETURN","return",265],["T_WHITESPACE"," ",265],["T_VARIABLE","$this",265],["T_OBJECT_OPERATOR","->",265],["T_STRING","_giftMessage",265],";",["T_WHITESPACE","\n    ",265],"}",["T_WHITESPACE","\n\n    ",266],["T_DOC_COMMENT","\/**\n     * Retrive real name for field\n     *\n     * @param string $name\n     * @return string\n     *\/",268],["T_WHITESPACE","\n    ",273],["T_PROTECTED","protected",274],["T_WHITESPACE","  ",274],["T_FUNCTION","function",274],["T_WHITESPACE"," ",274],["T_STRING","_getFieldName",274],"(",["T_VARIABLE","$name",274],")",["T_WHITESPACE","\n    ",274],"{",["T_WHITESPACE","\n        ",275],["T_RETURN","return",276],["T_WHITESPACE"," ",276],["T_CONSTANT_ENCAPSED_STRING","'giftmessage['",276],["T_WHITESPACE"," ",276],".",["T_WHITESPACE"," ",276],["T_VARIABLE","$this",276],["T_OBJECT_OPERATOR","->",276],["T_STRING","getEntity",276],"(",")",["T_OBJECT_OPERATOR","->",276],["T_STRING","getId",276],"(",")",["T_WHITESPACE"," ",276],".",["T_WHITESPACE"," ",276],["T_CONSTANT_ENCAPSED_STRING","']['",276],["T_WHITESPACE"," ",276],".",["T_WHITESPACE"," ",276],["T_VARIABLE","$name",276],["T_WHITESPACE"," ",276],".",["T_WHITESPACE"," ",276],["T_CONSTANT_ENCAPSED_STRING","']'",276],";",["T_WHITESPACE","\n    ",276],"}",["T_WHITESPACE","\n\n    ",277],["T_DOC_COMMENT","\/**\n     * Retrive real html id for field\n     *\n     * @param string $name\n     * @return string\n     *\/",279],["T_WHITESPACE","\n    ",284],["T_PROTECTED","protected",285],["T_WHITESPACE","  ",285],["T_FUNCTION","function",285],["T_WHITESPACE"," ",285],["T_STRING","_getFieldId",285],"(",["T_VARIABLE","$id",285],")",["T_WHITESPACE","\n    ",285],"{",["T_WHITESPACE","\n        ",286],["T_RETURN","return",287],["T_WHITESPACE"," ",287],["T_VARIABLE","$this",287],["T_OBJECT_OPERATOR","->",287],["T_STRING","_getFieldIdPrefix",287],"(",")",["T_WHITESPACE"," ",287],".",["T_WHITESPACE"," ",287],["T_VARIABLE","$id",287],";",["T_WHITESPACE","\n    ",287],"}",["T_WHITESPACE","\n\n    ",288],["T_DOC_COMMENT","\/**\n     * Retrive field html id prefix\n     *\n     * @return unknown\n     *\/",290],["T_WHITESPACE","\n    ",294],["T_PROTECTED","protected",295],["T_WHITESPACE","  ",295],["T_FUNCTION","function",295],["T_WHITESPACE"," ",295],["T_STRING","_getFieldIdPrefix",295],"(",")",["T_WHITESPACE","\n    ",295],"{",["T_WHITESPACE","\n        ",296],["T_RETURN","return",297],["T_WHITESPACE"," ",297],["T_CONSTANT_ENCAPSED_STRING","'giftmessage_'",297],["T_WHITESPACE"," ",297],".",["T_WHITESPACE"," ",297],["T_VARIABLE","$this",297],["T_OBJECT_OPERATOR","->",297],["T_STRING","getEntity",297],"(",")",["T_OBJECT_OPERATOR","->",297],["T_STRING","getId",297],"(",")",["T_WHITESPACE"," ",297],".",["T_WHITESPACE"," ",297],["T_CONSTANT_ENCAPSED_STRING","'_'",297],";",["T_WHITESPACE","\n    ",297],"}",["T_WHITESPACE","\n\n    ",298],["T_DOC_COMMENT","\/**\n     * Aplies posted data to gift message\n     *\n     * @return Mage_Adminhtml_Block_Sales_Order_Create_Giftmessage_Form\n     *\/",300],["T_WHITESPACE","\n    ",304],["T_PROTECTED","protected",305],["T_WHITESPACE"," ",305],["T_FUNCTION","function",305],["T_WHITESPACE"," ",305],["T_STRING","_applyPostData",305],"(",")",["T_WHITESPACE","\n    ",305],"{",["T_WHITESPACE","\n        ",306],["T_IF","if",307],"(",["T_STRING","is_array",307],"(",["T_VARIABLE","$giftmessages",307],["T_WHITESPACE"," ",307],"=",["T_WHITESPACE"," ",307],["T_VARIABLE","$this",307],["T_OBJECT_OPERATOR","->",307],["T_STRING","getRequest",307],"(",")",["T_OBJECT_OPERATOR","->",307],["T_STRING","getParam",307],"(",["T_CONSTANT_ENCAPSED_STRING","'giftmessage'",307],")",")",["T_WHITESPACE","\n           ",307],["T_BOOLEAN_AND","&&",308],["T_WHITESPACE"," ",308],["T_ISSET","isset",308],"(",["T_VARIABLE","$giftmessages",308],"[",["T_VARIABLE","$this",308],["T_OBJECT_OPERATOR","->",308],["T_STRING","getEntity",308],"(",")",["T_OBJECT_OPERATOR","->",308],["T_STRING","getId",308],"(",")","]",")",")",["T_WHITESPACE"," ",308],"{",["T_WHITESPACE","\n            ",308],["T_VARIABLE","$this",309],["T_OBJECT_OPERATOR","->",309],["T_STRING","getMessage",309],"(",")",["T_OBJECT_OPERATOR","->",309],["T_STRING","addData",309],"(",["T_VARIABLE","$giftmessages",309],"[",["T_VARIABLE","$this",309],["T_OBJECT_OPERATOR","->",309],["T_STRING","getEntity",309],"(",")",["T_OBJECT_OPERATOR","->",309],["T_STRING","getId",309],"(",")","]",")",";",["T_WHITESPACE","\n        ",309],"}",["T_WHITESPACE","\n\n        ",310],["T_RETURN","return",312],["T_WHITESPACE"," ",312],["T_VARIABLE","$this",312],";",["T_WHITESPACE","\n    ",312],"}",["T_WHITESPACE","\n\n",313],"}",["T_WHITESPACE","\n",315]]