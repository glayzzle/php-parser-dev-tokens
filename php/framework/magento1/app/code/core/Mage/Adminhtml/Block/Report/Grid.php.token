[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Magento\n *\n * NOTICE OF LICENSE\n *\n * This source file is subject to the Open Software License (OSL 3.0)\n * that is bundled with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/opensource.org\/licenses\/osl-3.0.php\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@magento.com so we can send you a copy immediately.\n *\n * DISCLAIMER\n *\n * Do not edit or add to this file if you wish to upgrade Magento to newer\n * versions in the future. If you wish to customize Magento for your\n * needs please refer to http:\/\/www.magento.com for more information.\n *\n * @category    Mage\n * @package     Mage_Adminhtml\n * @copyright  Copyright (c) 2006-2016 X.commerce, Inc. and affiliates (http:\/\/www.magento.com)\n * @license    http:\/\/opensource.org\/licenses\/osl-3.0.php  Open Software License (OSL 3.0)\n *\/",2],["T_WHITESPACE","\n\n",25],["T_DOC_COMMENT","\/**\n * Adminhtml report grid block\n *\n * @category   Mage\n * @package    Mage_Adminhtml\n * @author      Magento Core Team <core@magentocommerce.com>\n *\/",27],["T_WHITESPACE","\n",33],["T_CLASS","class",34],["T_WHITESPACE"," ",34],["T_STRING","Mage_Adminhtml_Block_Report_Grid",34],["T_WHITESPACE"," ",34],["T_EXTENDS","extends",34],["T_WHITESPACE"," ",34],["T_STRING","Mage_Adminhtml_Block_Widget_Grid",34],["T_WHITESPACE","\n",34],"{",["T_WHITESPACE","\n    ",35],["T_PROTECTED","protected",36],["T_WHITESPACE"," ",36],["T_VARIABLE","$_storeSwitcherVisibility",36],["T_WHITESPACE"," ",36],"=",["T_WHITESPACE"," ",36],["T_STRING","true",36],";",["T_WHITESPACE","\n\n    ",36],["T_PROTECTED","protected",38],["T_WHITESPACE"," ",38],["T_VARIABLE","$_dateFilterVisibility",38],["T_WHITESPACE"," ",38],"=",["T_WHITESPACE"," ",38],["T_STRING","true",38],";",["T_WHITESPACE","\n\n    ",38],["T_PROTECTED","protected",40],["T_WHITESPACE"," ",40],["T_VARIABLE","$_exportVisibility",40],["T_WHITESPACE"," ",40],"=",["T_WHITESPACE"," ",40],["T_STRING","true",40],";",["T_WHITESPACE","\n\n    ",40],["T_PROTECTED","protected",42],["T_WHITESPACE"," ",42],["T_VARIABLE","$_subtotalVisibility",42],["T_WHITESPACE"," ",42],"=",["T_WHITESPACE"," ",42],["T_STRING","false",42],";",["T_WHITESPACE","\n\n    ",42],["T_PROTECTED","protected",44],["T_WHITESPACE"," ",44],["T_VARIABLE","$_filters",44],["T_WHITESPACE"," ",44],"=",["T_WHITESPACE"," ",44],["T_ARRAY","array",44],"(",")",";",["T_WHITESPACE","\n\n    ",44],["T_PROTECTED","protected",46],["T_WHITESPACE"," ",46],["T_VARIABLE","$_defaultFilters",46],["T_WHITESPACE"," ",46],"=",["T_WHITESPACE"," ",46],["T_ARRAY","array",46],"(",["T_WHITESPACE","\n            ",46],["T_CONSTANT_ENCAPSED_STRING","'report_from'",47],["T_WHITESPACE"," ",47],["T_DOUBLE_ARROW","=>",47],["T_WHITESPACE"," ",47],["T_CONSTANT_ENCAPSED_STRING","''",47],",",["T_WHITESPACE","\n            ",47],["T_CONSTANT_ENCAPSED_STRING","'report_to'",48],["T_WHITESPACE"," ",48],["T_DOUBLE_ARROW","=>",48],["T_WHITESPACE"," ",48],["T_CONSTANT_ENCAPSED_STRING","''",48],",",["T_WHITESPACE","\n            ",48],["T_CONSTANT_ENCAPSED_STRING","'report_period'",49],["T_WHITESPACE"," ",49],["T_DOUBLE_ARROW","=>",49],["T_WHITESPACE"," ",49],["T_CONSTANT_ENCAPSED_STRING","'day'",49],["T_WHITESPACE","\n        ",49],")",";",["T_WHITESPACE","\n\n    ",50],["T_PROTECTED","protected",52],["T_WHITESPACE"," ",52],["T_VARIABLE","$_subReportSize",52],["T_WHITESPACE"," ",52],"=",["T_WHITESPACE"," ",52],["T_LNUMBER","5",52],";",["T_WHITESPACE","\n\n    ",52],["T_PROTECTED","protected",54],["T_WHITESPACE"," ",54],["T_VARIABLE","$_grandTotals",54],";",["T_WHITESPACE","\n\n    ",54],["T_PROTECTED","protected",56],["T_WHITESPACE"," ",56],["T_VARIABLE","$_errors",56],["T_WHITESPACE"," ",56],"=",["T_WHITESPACE"," ",56],["T_ARRAY","array",56],"(",")",";",["T_WHITESPACE","\n\n    ",56],["T_DOC_COMMENT","\/**\n     * stores current currency code\n     *\/",58],["T_WHITESPACE","\n    ",60],["T_PROTECTED","protected",61],["T_WHITESPACE"," ",61],["T_VARIABLE","$_currentCurrencyCode",61],["T_WHITESPACE"," ",61],"=",["T_WHITESPACE"," ",61],["T_STRING","null",61],";",["T_WHITESPACE","\n\n    ",61],["T_PUBLIC","public",63],["T_WHITESPACE"," ",63],["T_FUNCTION","function",63],["T_WHITESPACE"," ",63],["T_STRING","__construct",63],"(",")",["T_WHITESPACE","\n    ",63],"{",["T_WHITESPACE","\n        ",64],["T_STRING","parent",65],["T_DOUBLE_COLON","::",65],["T_STRING","__construct",65],"(",")",";",["T_WHITESPACE","\n        ",65],["T_VARIABLE","$this",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","setFilterVisibility",66],"(",["T_STRING","false",66],")",";",["T_WHITESPACE","\n        ",66],["T_VARIABLE","$this",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","setPagerVisibility",67],"(",["T_STRING","false",67],")",";",["T_WHITESPACE","\n        ",67],["T_VARIABLE","$this",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","setTemplate",68],"(",["T_CONSTANT_ENCAPSED_STRING","'report\/grid.phtml'",68],")",";",["T_WHITESPACE","\n        ",68],["T_VARIABLE","$this",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","setUseAjax",69],"(",["T_STRING","false",69],")",";",["T_WHITESPACE","\n        ",69],["T_VARIABLE","$this",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","setCountTotals",70],"(",["T_STRING","true",70],")",";",["T_WHITESPACE","\n    ",70],"}",["T_WHITESPACE","\n\n    ",71],["T_PROTECTED","protected",73],["T_WHITESPACE"," ",73],["T_FUNCTION","function",73],["T_WHITESPACE"," ",73],["T_STRING","_prepareLayout",73],"(",")",["T_WHITESPACE","\n    ",73],"{",["T_WHITESPACE","\n        ",74],["T_VARIABLE","$this",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","setChild",75],"(",["T_CONSTANT_ENCAPSED_STRING","'store_switcher'",75],",",["T_WHITESPACE","\n            ",75],["T_VARIABLE","$this",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","getLayout",76],"(",")",["T_OBJECT_OPERATOR","->",76],["T_STRING","createBlock",76],"(",["T_CONSTANT_ENCAPSED_STRING","'adminhtml\/store_switcher'",76],")",["T_WHITESPACE","\n                ",76],["T_OBJECT_OPERATOR","->",77],["T_STRING","setUseConfirm",77],"(",["T_STRING","false",77],")",["T_WHITESPACE","\n                ",77],["T_OBJECT_OPERATOR","->",78],["T_STRING","setSwitchUrl",78],"(",["T_VARIABLE","$this",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","getUrl",78],"(",["T_CONSTANT_ENCAPSED_STRING","'*\/*\/*'",78],",",["T_WHITESPACE"," ",78],["T_ARRAY","array",78],"(",["T_CONSTANT_ENCAPSED_STRING","'store'",78],["T_DOUBLE_ARROW","=>",78],["T_STRING","null",78],")",")",")",["T_WHITESPACE","\n                ",78],["T_OBJECT_OPERATOR","->",79],["T_STRING","setTemplate",79],"(",["T_CONSTANT_ENCAPSED_STRING","'report\/store\/switcher.phtml'",79],")",["T_WHITESPACE","\n        ",79],")",";",["T_WHITESPACE","\n\n        ",80],["T_VARIABLE","$this",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","setChild",82],"(",["T_CONSTANT_ENCAPSED_STRING","'refresh_button'",82],",",["T_WHITESPACE","\n            ",82],["T_VARIABLE","$this",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","getLayout",83],"(",")",["T_OBJECT_OPERATOR","->",83],["T_STRING","createBlock",83],"(",["T_CONSTANT_ENCAPSED_STRING","'adminhtml\/widget_button'",83],")",["T_WHITESPACE","\n                ",83],["T_OBJECT_OPERATOR","->",84],["T_STRING","setData",84],"(",["T_ARRAY","array",84],"(",["T_WHITESPACE","\n                    ",84],["T_CONSTANT_ENCAPSED_STRING","'label'",85],["T_WHITESPACE","     ",85],["T_DOUBLE_ARROW","=>",85],["T_WHITESPACE"," ",85],["T_STRING","Mage",85],["T_DOUBLE_COLON","::",85],["T_STRING","helper",85],"(",["T_CONSTANT_ENCAPSED_STRING","'adminhtml'",85],")",["T_OBJECT_OPERATOR","->",85],["T_STRING","__",85],"(",["T_CONSTANT_ENCAPSED_STRING","'Refresh'",85],")",",",["T_WHITESPACE","\n                    ",85],["T_CONSTANT_ENCAPSED_STRING","'onclick'",86],["T_WHITESPACE","   ",86],["T_DOUBLE_ARROW","=>",86],["T_WHITESPACE"," ",86],["T_VARIABLE","$this",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","getRefreshButtonCallback",86],"(",")",",",["T_WHITESPACE","\n                    ",86],["T_CONSTANT_ENCAPSED_STRING","'class'",87],["T_WHITESPACE","   ",87],["T_DOUBLE_ARROW","=>",87],["T_WHITESPACE"," ",87],["T_CONSTANT_ENCAPSED_STRING","'task'",87],["T_WHITESPACE","\n                ",87],")",")",["T_WHITESPACE","\n        ",88],")",";",["T_WHITESPACE","\n        ",89],["T_STRING","parent",90],["T_DOUBLE_COLON","::",90],["T_STRING","_prepareLayout",90],"(",")",";",["T_WHITESPACE","\n        ",90],["T_RETURN","return",91],["T_WHITESPACE"," ",91],["T_VARIABLE","$this",91],";",["T_WHITESPACE","\n    ",91],"}",["T_WHITESPACE","\n\n    ",92],["T_PROTECTED","protected",94],["T_WHITESPACE"," ",94],["T_FUNCTION","function",94],["T_WHITESPACE"," ",94],["T_STRING","_prepareColumns",94],"(",")",["T_WHITESPACE","\n    ",94],"{",["T_WHITESPACE","\n        ",95],["T_FOREACH","foreach",96],["T_WHITESPACE"," ",96],"(",["T_VARIABLE","$this",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","_columns",96],["T_WHITESPACE"," ",96],["T_AS","as",96],["T_WHITESPACE"," ",96],["T_VARIABLE","$_column",96],")",["T_WHITESPACE"," ",96],"{",["T_WHITESPACE","\n            ",96],["T_VARIABLE","$_column",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","setSortable",97],"(",["T_STRING","false",97],")",";",["T_WHITESPACE","\n        ",97],"}",["T_WHITESPACE","\n\n        ",98],["T_STRING","parent",100],["T_DOUBLE_COLON","::",100],["T_STRING","_prepareColumns",100],"(",")",";",["T_WHITESPACE","\n    ",100],"}",["T_WHITESPACE","\n\n    ",101],["T_PROTECTED","protected",103],["T_WHITESPACE"," ",103],["T_FUNCTION","function",103],["T_WHITESPACE"," ",103],["T_STRING","_prepareCollection",103],"(",")",["T_WHITESPACE","\n    ",103],"{",["T_WHITESPACE","\n        ",104],["T_VARIABLE","$filter",105],["T_WHITESPACE"," ",105],"=",["T_WHITESPACE"," ",105],["T_VARIABLE","$this",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","getParam",105],"(",["T_VARIABLE","$this",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","getVarNameFilter",105],"(",")",",",["T_WHITESPACE"," ",105],["T_STRING","null",105],")",";",["T_WHITESPACE","\n\n        ",105],["T_IF","if",107],["T_WHITESPACE"," ",107],"(",["T_STRING","is_null",107],"(",["T_VARIABLE","$filter",107],")",")",["T_WHITESPACE"," ",107],"{",["T_WHITESPACE","\n            ",107],["T_VARIABLE","$filter",108],["T_WHITESPACE"," ",108],"=",["T_WHITESPACE"," ",108],["T_VARIABLE","$this",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","_defaultFilter",108],";",["T_WHITESPACE","\n        ",108],"}",["T_WHITESPACE","\n\n        ",109],["T_IF","if",111],["T_WHITESPACE"," ",111],"(",["T_STRING","is_string",111],"(",["T_VARIABLE","$filter",111],")",")",["T_WHITESPACE"," ",111],"{",["T_WHITESPACE","\n            ",111],["T_VARIABLE","$data",112],["T_WHITESPACE"," ",112],"=",["T_WHITESPACE"," ",112],["T_ARRAY","array",112],"(",")",";",["T_WHITESPACE","\n            ",112],["T_VARIABLE","$filter",113],["T_WHITESPACE"," ",113],"=",["T_WHITESPACE"," ",113],["T_STRING","base64_decode",113],"(",["T_VARIABLE","$filter",113],")",";",["T_WHITESPACE","\n            ",113],["T_STRING","parse_str",114],"(",["T_STRING","urldecode",114],"(",["T_VARIABLE","$filter",114],")",",",["T_WHITESPACE"," ",114],["T_VARIABLE","$data",114],")",";",["T_WHITESPACE","\n\n            ",114],["T_IF","if",116],["T_WHITESPACE"," ",116],"(","!",["T_ISSET","isset",116],"(",["T_VARIABLE","$data",116],"[",["T_CONSTANT_ENCAPSED_STRING","'report_from'",116],"]",")",")",["T_WHITESPACE"," ",116],"{",["T_WHITESPACE","\n                ",116],["T_COMMENT","\/\/ getting all reports from 2001 year\n",117],["T_WHITESPACE","                ",118],["T_VARIABLE","$date",118],["T_WHITESPACE"," ",118],"=",["T_WHITESPACE"," ",118],["T_NEW","new",118],["T_WHITESPACE"," ",118],["T_STRING","Zend_Date",118],"(",["T_STRING","mktime",118],"(",["T_LNUMBER","0",118],",",["T_LNUMBER","0",118],",",["T_LNUMBER","0",118],",",["T_LNUMBER","1",118],",",["T_LNUMBER","1",118],",",["T_LNUMBER","2001",118],")",")",";",["T_WHITESPACE","\n                ",118],["T_VARIABLE","$data",119],"[",["T_CONSTANT_ENCAPSED_STRING","'report_from'",119],"]",["T_WHITESPACE"," ",119],"=",["T_WHITESPACE"," ",119],["T_VARIABLE","$date",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","toString",119],"(",["T_VARIABLE","$this",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","getLocale",119],"(",")",["T_OBJECT_OPERATOR","->",119],["T_STRING","getDateFormat",119],"(",["T_CONSTANT_ENCAPSED_STRING","'short'",119],")",")",";",["T_WHITESPACE","\n            ",119],"}",["T_WHITESPACE","\n\n            ",120],["T_IF","if",122],["T_WHITESPACE"," ",122],"(","!",["T_ISSET","isset",122],"(",["T_VARIABLE","$data",122],"[",["T_CONSTANT_ENCAPSED_STRING","'report_to'",122],"]",")",")",["T_WHITESPACE"," ",122],"{",["T_WHITESPACE","\n                ",122],["T_COMMENT","\/\/ getting all reports from 2001 year\n",123],["T_WHITESPACE","                ",124],["T_VARIABLE","$date",124],["T_WHITESPACE"," ",124],"=",["T_WHITESPACE"," ",124],["T_NEW","new",124],["T_WHITESPACE"," ",124],["T_STRING","Zend_Date",124],"(",")",";",["T_WHITESPACE","\n                ",124],["T_VARIABLE","$data",125],"[",["T_CONSTANT_ENCAPSED_STRING","'report_to'",125],"]",["T_WHITESPACE"," ",125],"=",["T_WHITESPACE"," ",125],["T_VARIABLE","$date",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","toString",125],"(",["T_VARIABLE","$this",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","getLocale",125],"(",")",["T_OBJECT_OPERATOR","->",125],["T_STRING","getDateFormat",125],"(",["T_CONSTANT_ENCAPSED_STRING","'short'",125],")",")",";",["T_WHITESPACE","\n            ",125],"}",["T_WHITESPACE","\n\n            ",126],["T_VARIABLE","$this",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","_setFilterValues",128],"(",["T_VARIABLE","$data",128],")",";",["T_WHITESPACE","\n        ",128],"}",["T_WHITESPACE"," ",129],["T_ELSE","else",129],["T_WHITESPACE"," ",129],["T_IF","if",129],["T_WHITESPACE"," ",129],"(",["T_VARIABLE","$filter",129],["T_WHITESPACE"," ",129],["T_BOOLEAN_AND","&&",129],["T_WHITESPACE"," ",129],["T_STRING","is_array",129],"(",["T_VARIABLE","$filter",129],")",")",["T_WHITESPACE"," ",129],"{",["T_WHITESPACE","\n            ",129],["T_VARIABLE","$this",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","_setFilterValues",130],"(",["T_VARIABLE","$filter",130],")",";",["T_WHITESPACE","\n        ",130],"}",["T_WHITESPACE"," ",131],["T_ELSE","else",131],["T_WHITESPACE"," ",131],["T_IF","if",131],"(",["T_LNUMBER","0",131],["T_WHITESPACE"," ",131],["T_IS_NOT_IDENTICAL","!==",131],["T_WHITESPACE"," ",131],["T_STRING","sizeof",131],"(",["T_VARIABLE","$this",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","_defaultFilter",131],")",")",["T_WHITESPACE"," ",131],"{",["T_WHITESPACE","\n            ",131],["T_VARIABLE","$this",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","_setFilterValues",132],"(",["T_VARIABLE","$this",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","_defaultFilter",132],")",";",["T_WHITESPACE","\n        ",132],"}",["T_WHITESPACE","\n        ",133],["T_DOC_COMMENT","\/** @var $collection Mage_Reports_Model_Resource_Report_Collection *\/",134],["T_WHITESPACE","\n        ",134],["T_VARIABLE","$collection",135],["T_WHITESPACE"," ",135],"=",["T_WHITESPACE"," ",135],["T_STRING","Mage",135],["T_DOUBLE_COLON","::",135],["T_STRING","getResourceModel",135],"(",["T_CONSTANT_ENCAPSED_STRING","'reports\/report_collection'",135],")",";",["T_WHITESPACE","\n\n        ",135],["T_VARIABLE","$collection",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","setPeriod",137],"(",["T_VARIABLE","$this",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","getFilter",137],"(",["T_CONSTANT_ENCAPSED_STRING","'report_period'",137],")",")",";",["T_WHITESPACE","\n\n        ",137],["T_IF","if",139],["T_WHITESPACE"," ",139],"(",["T_VARIABLE","$this",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","getFilter",139],"(",["T_CONSTANT_ENCAPSED_STRING","'report_from'",139],")",["T_WHITESPACE"," ",139],["T_BOOLEAN_AND","&&",139],["T_WHITESPACE"," ",139],["T_VARIABLE","$this",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","getFilter",139],"(",["T_CONSTANT_ENCAPSED_STRING","'report_to'",139],")",")",["T_WHITESPACE"," ",139],"{",["T_WHITESPACE","\n            ",139],["T_DOC_COMMENT","\/**\n             * Validate from and to date\n             *\/",140],["T_WHITESPACE","\n            ",142],["T_TRY","try",143],["T_WHITESPACE"," ",143],"{",["T_WHITESPACE","\n                ",143],["T_VARIABLE","$from",144],["T_WHITESPACE"," ",144],"=",["T_WHITESPACE"," ",144],["T_VARIABLE","$this",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","getLocale",144],"(",")",["T_OBJECT_OPERATOR","->",144],["T_STRING","date",144],"(",["T_VARIABLE","$this",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","getFilter",144],"(",["T_CONSTANT_ENCAPSED_STRING","'report_from'",144],")",",",["T_WHITESPACE"," ",144],["T_STRING","Zend_Date",144],["T_DOUBLE_COLON","::",144],["T_STRING","DATE_SHORT",144],",",["T_WHITESPACE"," ",144],["T_STRING","null",144],",",["T_WHITESPACE"," ",144],["T_STRING","false",144],")",";",["T_WHITESPACE","\n                ",144],["T_VARIABLE","$to",145],["T_WHITESPACE","   ",145],"=",["T_WHITESPACE"," ",145],["T_VARIABLE","$this",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","getLocale",145],"(",")",["T_OBJECT_OPERATOR","->",145],["T_STRING","date",145],"(",["T_VARIABLE","$this",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","getFilter",145],"(",["T_CONSTANT_ENCAPSED_STRING","'report_to'",145],")",",",["T_WHITESPACE"," ",145],["T_STRING","Zend_Date",145],["T_DOUBLE_COLON","::",145],["T_STRING","DATE_SHORT",145],",",["T_WHITESPACE"," ",145],["T_STRING","null",145],",",["T_WHITESPACE"," ",145],["T_STRING","false",145],")",";",["T_WHITESPACE","\n\n                ",145],["T_VARIABLE","$collection",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","setInterval",147],"(",["T_VARIABLE","$from",147],",",["T_WHITESPACE"," ",147],["T_VARIABLE","$to",147],")",";",["T_WHITESPACE","\n            ",147],"}",["T_WHITESPACE","\n            ",148],["T_CATCH","catch",149],["T_WHITESPACE"," ",149],"(",["T_STRING","Exception",149],["T_WHITESPACE"," ",149],["T_VARIABLE","$e",149],")",["T_WHITESPACE"," ",149],"{",["T_WHITESPACE","\n                ",149],["T_VARIABLE","$this",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","_errors",150],"[","]",["T_WHITESPACE"," ",150],"=",["T_WHITESPACE"," ",150],["T_STRING","Mage",150],["T_DOUBLE_COLON","::",150],["T_STRING","helper",150],"(",["T_CONSTANT_ENCAPSED_STRING","'reports'",150],")",["T_OBJECT_OPERATOR","->",150],["T_STRING","__",150],"(",["T_CONSTANT_ENCAPSED_STRING","'Invalid date specified.'",150],")",";",["T_WHITESPACE","\n            ",150],"}",["T_WHITESPACE","\n        ",151],"}",["T_WHITESPACE","\n\n        ",152],["T_DOC_COMMENT","\/**\n         * Getting and saving store ids for website & group\n         *\/",154],["T_WHITESPACE","\n        ",156],["T_VARIABLE","$storeIds",157],["T_WHITESPACE"," ",157],"=",["T_WHITESPACE"," ",157],["T_ARRAY","array",157],"(",")",";",["T_WHITESPACE","\n        ",157],["T_IF","if",158],["T_WHITESPACE"," ",158],"(",["T_VARIABLE","$this",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","getRequest",158],"(",")",["T_OBJECT_OPERATOR","->",158],["T_STRING","getParam",158],"(",["T_CONSTANT_ENCAPSED_STRING","'store'",158],")",")",["T_WHITESPACE"," ",158],"{",["T_WHITESPACE","\n            ",158],["T_VARIABLE","$storeIds",159],["T_WHITESPACE"," ",159],"=",["T_WHITESPACE"," ",159],["T_ARRAY","array",159],"(",["T_VARIABLE","$this",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","getParam",159],"(",["T_CONSTANT_ENCAPSED_STRING","'store'",159],")",")",";",["T_WHITESPACE","\n        ",159],"}",["T_WHITESPACE"," ",160],["T_ELSEIF","elseif",160],["T_WHITESPACE"," ",160],"(",["T_VARIABLE","$this",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","getRequest",160],"(",")",["T_OBJECT_OPERATOR","->",160],["T_STRING","getParam",160],"(",["T_CONSTANT_ENCAPSED_STRING","'website'",160],")",")","{",["T_WHITESPACE","\n            ",160],["T_VARIABLE","$storeIds",161],["T_WHITESPACE"," ",161],"=",["T_WHITESPACE"," ",161],["T_STRING","Mage",161],["T_DOUBLE_COLON","::",161],["T_STRING","app",161],"(",")",["T_OBJECT_OPERATOR","->",161],["T_STRING","getWebsite",161],"(",["T_VARIABLE","$this",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","getRequest",161],"(",")",["T_OBJECT_OPERATOR","->",161],["T_STRING","getParam",161],"(",["T_CONSTANT_ENCAPSED_STRING","'website'",161],")",")",["T_OBJECT_OPERATOR","->",161],["T_STRING","getStoreIds",161],"(",")",";",["T_WHITESPACE","\n        ",161],"}",["T_WHITESPACE"," ",162],["T_ELSEIF","elseif",162],["T_WHITESPACE"," ",162],"(",["T_VARIABLE","$this",162],["T_OBJECT_OPERATOR","->",162],["T_STRING","getRequest",162],"(",")",["T_OBJECT_OPERATOR","->",162],["T_STRING","getParam",162],"(",["T_CONSTANT_ENCAPSED_STRING","'group'",162],")",")","{",["T_WHITESPACE","\n            ",162],["T_VARIABLE","$storeIds",163],["T_WHITESPACE"," ",163],"=",["T_WHITESPACE"," ",163],["T_STRING","Mage",163],["T_DOUBLE_COLON","::",163],["T_STRING","app",163],"(",")",["T_OBJECT_OPERATOR","->",163],["T_STRING","getGroup",163],"(",["T_VARIABLE","$this",163],["T_OBJECT_OPERATOR","->",163],["T_STRING","getRequest",163],"(",")",["T_OBJECT_OPERATOR","->",163],["T_STRING","getParam",163],"(",["T_CONSTANT_ENCAPSED_STRING","'group'",163],")",")",["T_OBJECT_OPERATOR","->",163],["T_STRING","getStoreIds",163],"(",")",";",["T_WHITESPACE","\n        ",163],"}",["T_WHITESPACE","\n\n        ",164],["T_COMMENT","\/\/ By default storeIds array contains only allowed stores\n",166],["T_WHITESPACE","        ",167],["T_VARIABLE","$allowedStoreIds",167],["T_WHITESPACE"," ",167],"=",["T_WHITESPACE"," ",167],["T_STRING","array_keys",167],"(",["T_STRING","Mage",167],["T_DOUBLE_COLON","::",167],["T_STRING","app",167],"(",")",["T_OBJECT_OPERATOR","->",167],["T_STRING","getStores",167],"(",")",")",";",["T_WHITESPACE","\n        ",167],["T_COMMENT","\/\/ And then array_intersect with post data for prevent unauthorized stores reports\n",168],["T_WHITESPACE","        ",169],["T_VARIABLE","$storeIds",169],["T_WHITESPACE"," ",169],"=",["T_WHITESPACE"," ",169],["T_STRING","array_intersect",169],"(",["T_VARIABLE","$allowedStoreIds",169],",",["T_WHITESPACE"," ",169],["T_VARIABLE","$storeIds",169],")",";",["T_WHITESPACE","\n        ",169],["T_COMMENT","\/\/ If selected all websites or unauthorized stores use only allowed\n",170],["T_WHITESPACE","        ",171],["T_IF","if",171],["T_WHITESPACE"," ",171],"(",["T_EMPTY","empty",171],"(",["T_VARIABLE","$storeIds",171],")",")",["T_WHITESPACE"," ",171],"{",["T_WHITESPACE","\n            ",171],["T_VARIABLE","$storeIds",172],["T_WHITESPACE"," ",172],"=",["T_WHITESPACE"," ",172],["T_VARIABLE","$allowedStoreIds",172],";",["T_WHITESPACE","\n        ",172],"}",["T_WHITESPACE","\n        ",173],["T_COMMENT","\/\/ reset array keys\n",174],["T_WHITESPACE","        ",175],["T_VARIABLE","$storeIds",175],["T_WHITESPACE"," ",175],"=",["T_WHITESPACE"," ",175],["T_STRING","array_values",175],"(",["T_VARIABLE","$storeIds",175],")",";",["T_WHITESPACE","\n\n\n        ",175],["T_VARIABLE","$collection",178],["T_OBJECT_OPERATOR","->",178],["T_STRING","setStoreIds",178],"(",["T_VARIABLE","$storeIds",178],")",";",["T_WHITESPACE","\n\n        ",178],["T_IF","if",180],["T_WHITESPACE"," ",180],"(",["T_VARIABLE","$this",180],["T_OBJECT_OPERATOR","->",180],["T_STRING","getSubReportSize",180],"(",")",["T_WHITESPACE"," ",180],["T_IS_NOT_IDENTICAL","!==",180],["T_WHITESPACE"," ",180],["T_STRING","null",180],")",["T_WHITESPACE"," ",180],"{",["T_WHITESPACE","\n            ",180],["T_VARIABLE","$collection",181],["T_OBJECT_OPERATOR","->",181],["T_STRING","setPageSize",181],"(",["T_VARIABLE","$this",181],["T_OBJECT_OPERATOR","->",181],["T_STRING","getSubReportSize",181],"(",")",")",";",["T_WHITESPACE","\n        ",181],"}",["T_WHITESPACE","\n\n        ",182],["T_VARIABLE","$this",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","setCollection",184],"(",["T_VARIABLE","$collection",184],")",";",["T_WHITESPACE","\n\n        ",184],["T_STRING","Mage",186],["T_DOUBLE_COLON","::",186],["T_STRING","dispatchEvent",186],"(",["T_CONSTANT_ENCAPSED_STRING","'adminhtml_widget_grid_filter_collection'",186],",",["T_WHITESPACE","\n                ",186],["T_ARRAY","array",187],"(",["T_CONSTANT_ENCAPSED_STRING","'collection'",187],["T_WHITESPACE"," ",187],["T_DOUBLE_ARROW","=>",187],["T_WHITESPACE"," ",187],["T_VARIABLE","$this",187],["T_OBJECT_OPERATOR","->",187],["T_STRING","getCollection",187],"(",")",",",["T_WHITESPACE"," ",187],["T_CONSTANT_ENCAPSED_STRING","'filter_values'",187],["T_WHITESPACE"," ",187],["T_DOUBLE_ARROW","=>",187],["T_WHITESPACE"," ",187],["T_VARIABLE","$this",187],["T_OBJECT_OPERATOR","->",187],["T_STRING","_filterValues",187],")",["T_WHITESPACE","\n        ",187],")",";",["T_WHITESPACE","\n    ",188],"}",["T_WHITESPACE","\n\n    ",189],["T_PROTECTED","protected",191],["T_WHITESPACE"," ",191],["T_FUNCTION","function",191],["T_WHITESPACE"," ",191],["T_STRING","_setFilterValues",191],"(",["T_VARIABLE","$data",191],")",["T_WHITESPACE","\n    ",191],"{",["T_WHITESPACE","\n        ",192],["T_FOREACH","foreach",193],["T_WHITESPACE"," ",193],"(",["T_VARIABLE","$data",193],["T_WHITESPACE"," ",193],["T_AS","as",193],["T_WHITESPACE"," ",193],["T_VARIABLE","$name",193],["T_WHITESPACE"," ",193],["T_DOUBLE_ARROW","=>",193],["T_WHITESPACE"," ",193],["T_VARIABLE","$value",193],")",["T_WHITESPACE"," ",193],"{",["T_WHITESPACE","\n            ",193],["T_COMMENT","\/\/if (isset($data[$name])) {\n",194],["T_WHITESPACE","                ",195],["T_VARIABLE","$this",195],["T_OBJECT_OPERATOR","->",195],["T_STRING","setFilter",195],"(",["T_VARIABLE","$name",195],",",["T_WHITESPACE"," ",195],["T_VARIABLE","$data",195],"[",["T_VARIABLE","$name",195],"]",")",";",["T_WHITESPACE","\n            ",195],["T_COMMENT","\/\/}\n",196],["T_WHITESPACE","        ",197],"}",["T_WHITESPACE","\n        ",197],["T_RETURN","return",198],["T_WHITESPACE"," ",198],["T_VARIABLE","$this",198],";",["T_WHITESPACE","\n    ",198],"}",["T_WHITESPACE","\n\n    ",199],["T_DOC_COMMENT","\/**\n     * Set visibility of store switcher\n     *\n     * @param boolean $visible\n     *\/",201],["T_WHITESPACE","\n    ",205],["T_PUBLIC","public",206],["T_WHITESPACE"," ",206],["T_FUNCTION","function",206],["T_WHITESPACE"," ",206],["T_STRING","setStoreSwitcherVisibility",206],"(",["T_VARIABLE","$visible",206],"=",["T_STRING","true",206],")",["T_WHITESPACE","\n    ",206],"{",["T_WHITESPACE","\n        ",207],["T_VARIABLE","$this",208],["T_OBJECT_OPERATOR","->",208],["T_STRING","_storeSwitcherVisibility",208],["T_WHITESPACE"," ",208],"=",["T_WHITESPACE"," ",208],["T_VARIABLE","$visible",208],";",["T_WHITESPACE","\n    ",208],"}",["T_WHITESPACE","\n\n    ",209],["T_DOC_COMMENT","\/**\n     * Return visibility of store switcher\n     *\n     * @return boolean\n     *\/",211],["T_WHITESPACE","\n    ",215],["T_PUBLIC","public",216],["T_WHITESPACE"," ",216],["T_FUNCTION","function",216],["T_WHITESPACE"," ",216],["T_STRING","getStoreSwitcherVisibility",216],"(",")",["T_WHITESPACE","\n    ",216],"{",["T_WHITESPACE","\n        ",217],["T_RETURN","return",218],["T_WHITESPACE"," ",218],["T_VARIABLE","$this",218],["T_OBJECT_OPERATOR","->",218],["T_STRING","_storeSwitcherVisibility",218],";",["T_WHITESPACE","\n    ",218],"}",["T_WHITESPACE","\n\n    ",219],["T_DOC_COMMENT","\/**\n     * Return store switcher html\n     *\n     * @return string\n     *\/",221],["T_WHITESPACE","\n    ",225],["T_PUBLIC","public",226],["T_WHITESPACE"," ",226],["T_FUNCTION","function",226],["T_WHITESPACE"," ",226],["T_STRING","getStoreSwitcherHtml",226],"(",")",["T_WHITESPACE","\n    ",226],"{",["T_WHITESPACE","\n        ",227],["T_RETURN","return",228],["T_WHITESPACE"," ",228],["T_VARIABLE","$this",228],["T_OBJECT_OPERATOR","->",228],["T_STRING","getChildHtml",228],"(",["T_CONSTANT_ENCAPSED_STRING","'store_switcher'",228],")",";",["T_WHITESPACE","\n    ",228],"}",["T_WHITESPACE","\n\n    ",229],["T_DOC_COMMENT","\/**\n     * Set visibility of date filter\n     *\n     * @param boolean $visible\n     *\/",231],["T_WHITESPACE","\n    ",235],["T_PUBLIC","public",236],["T_WHITESPACE"," ",236],["T_FUNCTION","function",236],["T_WHITESPACE"," ",236],["T_STRING","setDateFilterVisibility",236],"(",["T_VARIABLE","$visible",236],"=",["T_STRING","true",236],")",["T_WHITESPACE","\n    ",236],"{",["T_WHITESPACE","\n        ",237],["T_VARIABLE","$this",238],["T_OBJECT_OPERATOR","->",238],["T_STRING","_dateFilterVisibility",238],["T_WHITESPACE"," ",238],"=",["T_WHITESPACE"," ",238],["T_VARIABLE","$visible",238],";",["T_WHITESPACE","\n    ",238],"}",["T_WHITESPACE","\n\n    ",239],["T_DOC_COMMENT","\/**\n     * Return visibility of date filter\n     *\n     * @return boolean\n     *\/",241],["T_WHITESPACE","\n    ",245],["T_PUBLIC","public",246],["T_WHITESPACE"," ",246],["T_FUNCTION","function",246],["T_WHITESPACE"," ",246],["T_STRING","getDateFilterVisibility",246],"(",")",["T_WHITESPACE","\n    ",246],"{",["T_WHITESPACE","\n        ",247],["T_RETURN","return",248],["T_WHITESPACE"," ",248],["T_VARIABLE","$this",248],["T_OBJECT_OPERATOR","->",248],["T_STRING","_dateFilterVisibility",248],";",["T_WHITESPACE","\n    ",248],"}",["T_WHITESPACE","\n\n    ",249],["T_DOC_COMMENT","\/**\n     * Set visibility of export action\n     *\n     * @param boolean $visible\n     *\/",251],["T_WHITESPACE","\n    ",255],["T_PUBLIC","public",256],["T_WHITESPACE"," ",256],["T_FUNCTION","function",256],["T_WHITESPACE"," ",256],["T_STRING","setExportVisibility",256],"(",["T_VARIABLE","$visible",256],"=",["T_STRING","true",256],")",["T_WHITESPACE","\n    ",256],"{",["T_WHITESPACE","\n        ",257],["T_VARIABLE","$this",258],["T_OBJECT_OPERATOR","->",258],["T_STRING","_exportVisibility",258],["T_WHITESPACE"," ",258],"=",["T_WHITESPACE"," ",258],["T_VARIABLE","$visible",258],";",["T_WHITESPACE","\n    ",258],"}",["T_WHITESPACE","\n\n    ",259],["T_DOC_COMMENT","\/**\n     * Return visibility of export action\n     *\n     * @return boolean\n     *\/",261],["T_WHITESPACE","\n    ",265],["T_PUBLIC","public",266],["T_WHITESPACE"," ",266],["T_FUNCTION","function",266],["T_WHITESPACE"," ",266],["T_STRING","getExportVisibility",266],"(",")",["T_WHITESPACE","\n    ",266],"{",["T_WHITESPACE","\n        ",267],["T_RETURN","return",268],["T_WHITESPACE"," ",268],["T_VARIABLE","$this",268],["T_OBJECT_OPERATOR","->",268],["T_STRING","_exportVisibility",268],";",["T_WHITESPACE","\n    ",268],"}",["T_WHITESPACE","\n\n    ",269],["T_DOC_COMMENT","\/**\n     * Set visibility of subtotals\n     *\n     * @param boolean $visible\n     *\/",271],["T_WHITESPACE","\n    ",275],["T_PUBLIC","public",276],["T_WHITESPACE"," ",276],["T_FUNCTION","function",276],["T_WHITESPACE"," ",276],["T_STRING","setSubtotalVisibility",276],"(",["T_VARIABLE","$visible",276],"=",["T_STRING","true",276],")",["T_WHITESPACE","\n    ",276],"{",["T_WHITESPACE","\n        ",277],["T_VARIABLE","$this",278],["T_OBJECT_OPERATOR","->",278],["T_STRING","_subtotalVisibility",278],["T_WHITESPACE"," ",278],"=",["T_WHITESPACE"," ",278],["T_VARIABLE","$visible",278],";",["T_WHITESPACE","\n    ",278],"}",["T_WHITESPACE","\n\n    ",279],["T_DOC_COMMENT","\/**\n     * Return visibility of subtotals\n     *\n     * @return boolean\n     *\/",281],["T_WHITESPACE","\n    ",285],["T_PUBLIC","public",286],["T_WHITESPACE"," ",286],["T_FUNCTION","function",286],["T_WHITESPACE"," ",286],["T_STRING","getSubtotalVisibility",286],"(",")",["T_WHITESPACE","\n    ",286],"{",["T_WHITESPACE","\n        ",287],["T_RETURN","return",288],["T_WHITESPACE"," ",288],["T_VARIABLE","$this",288],["T_OBJECT_OPERATOR","->",288],["T_STRING","_subtotalVisibility",288],";",["T_WHITESPACE","\n    ",288],"}",["T_WHITESPACE","\n\n    ",289],["T_PUBLIC","public",291],["T_WHITESPACE"," ",291],["T_FUNCTION","function",291],["T_WHITESPACE"," ",291],["T_STRING","getPeriods",291],"(",")",["T_WHITESPACE","\n    ",291],"{",["T_WHITESPACE","\n        ",292],["T_RETURN","return",293],["T_WHITESPACE"," ",293],["T_VARIABLE","$this",293],["T_OBJECT_OPERATOR","->",293],["T_STRING","getCollection",293],"(",")",["T_OBJECT_OPERATOR","->",293],["T_STRING","getPeriods",293],"(",")",";",["T_WHITESPACE","\n    ",293],"}",["T_WHITESPACE","\n\n    ",294],["T_PUBLIC","public",296],["T_WHITESPACE"," ",296],["T_FUNCTION","function",296],["T_WHITESPACE"," ",296],["T_STRING","getDateFormat",296],"(",")",["T_WHITESPACE","\n    ",296],"{",["T_WHITESPACE","\n        ",297],["T_RETURN","return",298],["T_WHITESPACE"," ",298],["T_VARIABLE","$this",298],["T_OBJECT_OPERATOR","->",298],["T_STRING","getLocale",298],"(",")",["T_OBJECT_OPERATOR","->",298],["T_STRING","getDateStrFormat",298],"(",["T_STRING","Mage_Core_Model_Locale",298],["T_DOUBLE_COLON","::",298],["T_STRING","FORMAT_TYPE_SHORT",298],")",";",["T_WHITESPACE","\n    ",298],"}",["T_WHITESPACE","\n\n    ",299],["T_DOC_COMMENT","\/**\n     * Return refresh button html\n     *\/",301],["T_WHITESPACE","\n    ",303],["T_PUBLIC","public",304],["T_WHITESPACE"," ",304],["T_FUNCTION","function",304],["T_WHITESPACE"," ",304],["T_STRING","getRefreshButtonHtml",304],"(",")",["T_WHITESPACE","\n    ",304],"{",["T_WHITESPACE","\n        ",305],["T_RETURN","return",306],["T_WHITESPACE"," ",306],["T_VARIABLE","$this",306],["T_OBJECT_OPERATOR","->",306],["T_STRING","getChildHtml",306],"(",["T_CONSTANT_ENCAPSED_STRING","'refresh_button'",306],")",";",["T_WHITESPACE","\n    ",306],"}",["T_WHITESPACE","\n\n    ",307],["T_PUBLIC","public",309],["T_WHITESPACE"," ",309],["T_FUNCTION","function",309],["T_WHITESPACE"," ",309],["T_STRING","setFilter",309],"(",["T_VARIABLE","$name",309],",",["T_WHITESPACE"," ",309],["T_VARIABLE","$value",309],")",["T_WHITESPACE","\n    ",309],"{",["T_WHITESPACE","\n        ",310],["T_IF","if",311],["T_WHITESPACE"," ",311],"(",["T_VARIABLE","$name",311],")",["T_WHITESPACE"," ",311],"{",["T_WHITESPACE","\n            ",311],["T_VARIABLE","$this",312],["T_OBJECT_OPERATOR","->",312],["T_STRING","_filters",312],"[",["T_VARIABLE","$name",312],"]",["T_WHITESPACE"," ",312],"=",["T_WHITESPACE"," ",312],["T_VARIABLE","$value",312],";",["T_WHITESPACE","\n        ",312],"}",["T_WHITESPACE","\n    ",313],"}",["T_WHITESPACE","\n\n    ",314],["T_PUBLIC","public",316],["T_WHITESPACE"," ",316],["T_FUNCTION","function",316],["T_WHITESPACE"," ",316],["T_STRING","getFilter",316],"(",["T_VARIABLE","$name",316],")",["T_WHITESPACE","\n    ",316],"{",["T_WHITESPACE","\n        ",317],["T_IF","if",318],["T_WHITESPACE"," ",318],"(",["T_ISSET","isset",318],"(",["T_VARIABLE","$this",318],["T_OBJECT_OPERATOR","->",318],["T_STRING","_filters",318],"[",["T_VARIABLE","$name",318],"]",")",")",["T_WHITESPACE"," ",318],"{",["T_WHITESPACE","\n            ",318],["T_RETURN","return",319],["T_WHITESPACE"," ",319],["T_VARIABLE","$this",319],["T_OBJECT_OPERATOR","->",319],["T_STRING","_filters",319],"[",["T_VARIABLE","$name",319],"]",";",["T_WHITESPACE","\n        ",319],"}",["T_WHITESPACE"," ",320],["T_ELSE","else",320],["T_WHITESPACE"," ",320],"{",["T_WHITESPACE","\n            ",320],["T_RETURN","return",321],["T_WHITESPACE"," ",321],"(",["T_VARIABLE","$this",321],["T_OBJECT_OPERATOR","->",321],["T_STRING","getRequest",321],"(",")",["T_OBJECT_OPERATOR","->",321],["T_STRING","getParam",321],"(",["T_VARIABLE","$name",321],")",")",["T_WHITESPACE","\n                    ",321],"?",["T_STRING","htmlspecialchars",322],"(",["T_VARIABLE","$this",322],["T_OBJECT_OPERATOR","->",322],["T_STRING","getRequest",322],"(",")",["T_OBJECT_OPERATOR","->",322],["T_STRING","getParam",322],"(",["T_VARIABLE","$name",322],")",")",":",["T_CONSTANT_ENCAPSED_STRING","''",322],";",["T_WHITESPACE","\n        ",322],"}",["T_WHITESPACE","\n    ",323],"}",["T_WHITESPACE","\n\n    ",324],["T_PUBLIC","public",326],["T_WHITESPACE"," ",326],["T_FUNCTION","function",326],["T_WHITESPACE"," ",326],["T_STRING","setSubReportSize",326],"(",["T_VARIABLE","$size",326],")",["T_WHITESPACE","\n    ",326],"{",["T_WHITESPACE","\n        ",327],["T_VARIABLE","$this",328],["T_OBJECT_OPERATOR","->",328],["T_STRING","_subReportSize",328],["T_WHITESPACE"," ",328],"=",["T_WHITESPACE"," ",328],["T_VARIABLE","$size",328],";",["T_WHITESPACE","\n    ",328],"}",["T_WHITESPACE","\n\n    ",329],["T_PUBLIC","public",331],["T_WHITESPACE"," ",331],["T_FUNCTION","function",331],["T_WHITESPACE"," ",331],["T_STRING","getSubReportSize",331],"(",")",["T_WHITESPACE","\n    ",331],"{",["T_WHITESPACE","\n        ",332],["T_RETURN","return",333],["T_WHITESPACE"," ",333],["T_VARIABLE","$this",333],["T_OBJECT_OPERATOR","->",333],["T_STRING","_subReportSize",333],";",["T_WHITESPACE","\n    ",333],"}",["T_WHITESPACE","\n\n    ",334],["T_DOC_COMMENT","\/**\n     * Retrieve locale\n     *\n     * @return Mage_Core_Model_Locale\n     *\/",336],["T_WHITESPACE","\n    ",340],["T_PUBLIC","public",341],["T_WHITESPACE"," ",341],["T_FUNCTION","function",341],["T_WHITESPACE"," ",341],["T_STRING","getLocale",341],"(",")",["T_WHITESPACE","\n    ",341],"{",["T_WHITESPACE","\n        ",342],["T_IF","if",343],["T_WHITESPACE"," ",343],"(","!",["T_VARIABLE","$this",343],["T_OBJECT_OPERATOR","->",343],["T_STRING","_locale",343],")",["T_WHITESPACE"," ",343],"{",["T_WHITESPACE","\n            ",343],["T_VARIABLE","$this",344],["T_OBJECT_OPERATOR","->",344],["T_STRING","_locale",344],["T_WHITESPACE"," ",344],"=",["T_WHITESPACE"," ",344],["T_STRING","Mage",344],["T_DOUBLE_COLON","::",344],["T_STRING","app",344],"(",")",["T_OBJECT_OPERATOR","->",344],["T_STRING","getLocale",344],"(",")",";",["T_WHITESPACE","\n        ",344],"}",["T_WHITESPACE","\n        ",345],["T_RETURN","return",346],["T_WHITESPACE"," ",346],["T_VARIABLE","$this",346],["T_OBJECT_OPERATOR","->",346],["T_STRING","_locale",346],";",["T_WHITESPACE","\n    ",346],"}",["T_WHITESPACE","\n\n    ",347],["T_DOC_COMMENT","\/**\n     * Add new export type to grid\n     *\n     * @param   string $url\n     * @param   string $label\n     * @return  Mage_Adminhtml_Block_Widget_Grid\n     *\/",349],["T_WHITESPACE","\n    ",355],["T_PUBLIC","public",356],["T_WHITESPACE"," ",356],["T_FUNCTION","function",356],["T_WHITESPACE"," ",356],["T_STRING","addExportType",356],"(",["T_VARIABLE","$url",356],",",["T_WHITESPACE"," ",356],["T_VARIABLE","$label",356],")",["T_WHITESPACE","\n    ",356],"{",["T_WHITESPACE","\n        ",357],["T_VARIABLE","$this",358],["T_OBJECT_OPERATOR","->",358],["T_STRING","_exportTypes",358],"[","]",["T_WHITESPACE"," ",358],"=",["T_WHITESPACE"," ",358],["T_NEW","new",358],["T_WHITESPACE"," ",358],["T_STRING","Varien_Object",358],"(",["T_WHITESPACE","\n            ",358],["T_ARRAY","array",359],"(",["T_WHITESPACE","\n                ",359],["T_CONSTANT_ENCAPSED_STRING","'url'",360],["T_WHITESPACE","   ",360],["T_DOUBLE_ARROW","=>",360],["T_WHITESPACE"," ",360],["T_VARIABLE","$this",360],["T_OBJECT_OPERATOR","->",360],["T_STRING","getUrl",360],"(",["T_VARIABLE","$url",360],",",["T_WHITESPACE","\n                    ",360],["T_ARRAY","array",361],"(",["T_WHITESPACE","\n                        ",361],["T_CONSTANT_ENCAPSED_STRING","'_current'",362],["T_DOUBLE_ARROW","=>",362],["T_STRING","true",362],",",["T_WHITESPACE","\n                        ",362],["T_CONSTANT_ENCAPSED_STRING","'filter'",363],["T_WHITESPACE"," ",363],["T_DOUBLE_ARROW","=>",363],["T_WHITESPACE"," ",363],["T_VARIABLE","$this",363],["T_OBJECT_OPERATOR","->",363],["T_STRING","getParam",363],"(",["T_VARIABLE","$this",363],["T_OBJECT_OPERATOR","->",363],["T_STRING","getVarNameFilter",363],"(",")",",",["T_WHITESPACE"," ",363],["T_STRING","null",363],")",["T_WHITESPACE","\n                        ",363],")",["T_WHITESPACE","\n                    ",364],")",",",["T_WHITESPACE","\n                ",365],["T_CONSTANT_ENCAPSED_STRING","'label'",366],["T_WHITESPACE"," ",366],["T_DOUBLE_ARROW","=>",366],["T_WHITESPACE"," ",366],["T_VARIABLE","$label",366],["T_WHITESPACE","\n            ",366],")",["T_WHITESPACE","\n        ",367],")",";",["T_WHITESPACE","\n        ",368],["T_RETURN","return",369],["T_WHITESPACE"," ",369],["T_VARIABLE","$this",369],";",["T_WHITESPACE","\n    ",369],"}",["T_WHITESPACE","\n\n    ",370],["T_PUBLIC","public",372],["T_WHITESPACE"," ",372],["T_FUNCTION","function",372],["T_WHITESPACE"," ",372],["T_STRING","getReport",372],"(",["T_VARIABLE","$from",372],",",["T_WHITESPACE"," ",372],["T_VARIABLE","$to",372],")",["T_WHITESPACE","\n    ",372],"{",["T_WHITESPACE","\n        ",373],["T_IF","if",374],["T_WHITESPACE"," ",374],"(",["T_VARIABLE","$from",374],["T_WHITESPACE"," ",374],["T_IS_EQUAL","==",374],["T_WHITESPACE"," ",374],["T_CONSTANT_ENCAPSED_STRING","''",374],")",["T_WHITESPACE"," ",374],"{",["T_WHITESPACE","\n            ",374],["T_VARIABLE","$from",375],["T_WHITESPACE"," ",375],"=",["T_WHITESPACE"," ",375],["T_VARIABLE","$this",375],["T_OBJECT_OPERATOR","->",375],["T_STRING","getFilter",375],"(",["T_CONSTANT_ENCAPSED_STRING","'report_from'",375],")",";",["T_WHITESPACE","\n        ",375],"}",["T_WHITESPACE","\n        ",376],["T_IF","if",377],["T_WHITESPACE"," ",377],"(",["T_VARIABLE","$to",377],["T_WHITESPACE"," ",377],["T_IS_EQUAL","==",377],["T_WHITESPACE"," ",377],["T_CONSTANT_ENCAPSED_STRING","''",377],")",["T_WHITESPACE"," ",377],"{",["T_WHITESPACE","\n            ",377],["T_VARIABLE","$to",378],["T_WHITESPACE"," ",378],"=",["T_WHITESPACE"," ",378],["T_VARIABLE","$this",378],["T_OBJECT_OPERATOR","->",378],["T_STRING","getFilter",378],"(",["T_CONSTANT_ENCAPSED_STRING","'report_to'",378],")",";",["T_WHITESPACE","\n        ",378],"}",["T_WHITESPACE","\n        ",379],["T_VARIABLE","$totalObj",380],["T_WHITESPACE"," ",380],"=",["T_WHITESPACE"," ",380],["T_STRING","Mage",380],["T_DOUBLE_COLON","::",380],["T_STRING","getModel",380],"(",["T_CONSTANT_ENCAPSED_STRING","'reports\/totals'",380],")",";",["T_WHITESPACE","\n        ",380],["T_VARIABLE","$this",381],["T_OBJECT_OPERATOR","->",381],["T_STRING","setTotals",381],"(",["T_VARIABLE","$totalObj",381],["T_OBJECT_OPERATOR","->",381],["T_STRING","countTotals",381],"(",["T_VARIABLE","$this",381],",",["T_WHITESPACE"," ",381],["T_VARIABLE","$from",381],",",["T_WHITESPACE"," ",381],["T_VARIABLE","$to",381],")",")",";",["T_WHITESPACE","\n        ",381],["T_VARIABLE","$this",382],["T_OBJECT_OPERATOR","->",382],["T_STRING","addGrandTotals",382],"(",["T_VARIABLE","$this",382],["T_OBJECT_OPERATOR","->",382],["T_STRING","getTotals",382],"(",")",")",";",["T_WHITESPACE","\n        ",382],["T_RETURN","return",383],["T_WHITESPACE"," ",383],["T_VARIABLE","$this",383],["T_OBJECT_OPERATOR","->",383],["T_STRING","getCollection",383],"(",")",["T_OBJECT_OPERATOR","->",383],["T_STRING","getReport",383],"(",["T_VARIABLE","$from",383],",",["T_WHITESPACE"," ",383],["T_VARIABLE","$to",383],")",";",["T_WHITESPACE","\n    ",383],"}",["T_WHITESPACE","\n\n    ",384],["T_PUBLIC","public",386],["T_WHITESPACE"," ",386],["T_FUNCTION","function",386],["T_WHITESPACE"," ",386],["T_STRING","addGrandTotals",386],"(",["T_VARIABLE","$total",386],")",["T_WHITESPACE","\n    ",386],"{",["T_WHITESPACE","\n        ",387],["T_VARIABLE","$totalData",388],["T_WHITESPACE"," ",388],"=",["T_WHITESPACE"," ",388],["T_VARIABLE","$total",388],["T_OBJECT_OPERATOR","->",388],["T_STRING","getData",388],"(",")",";",["T_WHITESPACE","\n        ",388],["T_FOREACH","foreach",389],["T_WHITESPACE"," ",389],"(",["T_VARIABLE","$totalData",389],["T_WHITESPACE"," ",389],["T_AS","as",389],["T_WHITESPACE"," ",389],["T_VARIABLE","$key",389],["T_DOUBLE_ARROW","=>",389],["T_VARIABLE","$value",389],")",["T_WHITESPACE"," ",389],"{",["T_WHITESPACE","\n            ",389],["T_VARIABLE","$_column",390],["T_WHITESPACE"," ",390],"=",["T_WHITESPACE"," ",390],["T_VARIABLE","$this",390],["T_OBJECT_OPERATOR","->",390],["T_STRING","getColumn",390],"(",["T_VARIABLE","$key",390],")",";",["T_WHITESPACE","\n            ",390],["T_IF","if",391],["T_WHITESPACE"," ",391],"(",["T_VARIABLE","$_column",391],["T_OBJECT_OPERATOR","->",391],["T_STRING","getTotal",391],"(",")",["T_WHITESPACE"," ",391],["T_IS_NOT_EQUAL","!=",391],["T_WHITESPACE"," ",391],["T_CONSTANT_ENCAPSED_STRING","''",391],")",["T_WHITESPACE"," ",391],"{",["T_WHITESPACE","\n                ",391],["T_VARIABLE","$this",392],["T_OBJECT_OPERATOR","->",392],["T_STRING","getGrandTotals",392],"(",")",["T_OBJECT_OPERATOR","->",392],["T_STRING","setData",392],"(",["T_VARIABLE","$key",392],",",["T_WHITESPACE"," ",392],["T_VARIABLE","$this",392],["T_OBJECT_OPERATOR","->",392],["T_STRING","getGrandTotals",392],"(",")",["T_OBJECT_OPERATOR","->",392],["T_STRING","getData",392],"(",["T_VARIABLE","$key",392],")","+",["T_VARIABLE","$value",392],")",";",["T_WHITESPACE","\n            ",392],"}",["T_WHITESPACE","\n        ",393],"}",["T_WHITESPACE","\n        ",394],["T_COMMENT","\/*\n         * recalc totals if we have average\n         *\/",395],["T_WHITESPACE","\n        ",397],["T_FOREACH","foreach",398],["T_WHITESPACE"," ",398],"(",["T_VARIABLE","$this",398],["T_OBJECT_OPERATOR","->",398],["T_STRING","getColumns",398],"(",")",["T_WHITESPACE"," ",398],["T_AS","as",398],["T_WHITESPACE"," ",398],["T_VARIABLE","$key",398],["T_DOUBLE_ARROW","=>",398],["T_VARIABLE","$_column",398],")",["T_WHITESPACE"," ",398],"{",["T_WHITESPACE","\n            ",398],["T_IF","if",399],["T_WHITESPACE"," ",399],"(",["T_STRING","strpos",399],"(",["T_VARIABLE","$_column",399],["T_OBJECT_OPERATOR","->",399],["T_STRING","getTotal",399],"(",")",",",["T_WHITESPACE"," ",399],["T_CONSTANT_ENCAPSED_STRING","'\/'",399],")",["T_WHITESPACE"," ",399],["T_IS_NOT_IDENTICAL","!==",399],["T_WHITESPACE"," ",399],["T_STRING","FALSE",399],")",["T_WHITESPACE"," ",399],"{",["T_WHITESPACE","\n                ",399],["T_LIST","list",400],"(",["T_VARIABLE","$t1",400],",",["T_WHITESPACE"," ",400],["T_VARIABLE","$t2",400],")",["T_WHITESPACE"," ",400],"=",["T_WHITESPACE"," ",400],["T_STRING","explode",400],"(",["T_CONSTANT_ENCAPSED_STRING","'\/'",400],",",["T_WHITESPACE"," ",400],["T_VARIABLE","$_column",400],["T_OBJECT_OPERATOR","->",400],["T_STRING","getTotal",400],"(",")",")",";",["T_WHITESPACE","\n                ",400],["T_IF","if",401],["T_WHITESPACE"," ",401],"(",["T_VARIABLE","$this",401],["T_OBJECT_OPERATOR","->",401],["T_STRING","getGrandTotals",401],"(",")",["T_OBJECT_OPERATOR","->",401],["T_STRING","getData",401],"(",["T_VARIABLE","$t2",401],")",["T_WHITESPACE"," ",401],["T_IS_NOT_EQUAL","!=",401],["T_WHITESPACE"," ",401],["T_LNUMBER","0",401],")",["T_WHITESPACE"," ",401],"{",["T_WHITESPACE","\n                    ",401],["T_VARIABLE","$this",402],["T_OBJECT_OPERATOR","->",402],["T_STRING","getGrandTotals",402],"(",")",["T_OBJECT_OPERATOR","->",402],["T_STRING","setData",402],"(",["T_WHITESPACE","\n                        ",402],["T_VARIABLE","$key",403],",",["T_WHITESPACE","\n                        ",403],["T_DOUBLE_CAST","(float)",404],["T_VARIABLE","$this",404],["T_OBJECT_OPERATOR","->",404],["T_STRING","getGrandTotals",404],"(",")",["T_OBJECT_OPERATOR","->",404],["T_STRING","getData",404],"(",["T_VARIABLE","$t1",404],")","\/",["T_VARIABLE","$this",404],["T_OBJECT_OPERATOR","->",404],["T_STRING","getGrandTotals",404],"(",")",["T_OBJECT_OPERATOR","->",404],["T_STRING","getData",404],"(",["T_VARIABLE","$t2",404],")",["T_WHITESPACE","\n                    ",404],")",";",["T_WHITESPACE","\n                ",405],"}",["T_WHITESPACE","\n            ",406],"}",["T_WHITESPACE","\n        ",407],"}",["T_WHITESPACE","\n    ",408],"}",["T_WHITESPACE","\n\n    ",409],["T_PUBLIC","public",411],["T_WHITESPACE"," ",411],["T_FUNCTION","function",411],["T_WHITESPACE"," ",411],["T_STRING","getGrandTotals",411],"(",")",["T_WHITESPACE","\n    ",411],"{",["T_WHITESPACE","\n        ",412],["T_IF","if",413],["T_WHITESPACE"," ",413],"(","!",["T_VARIABLE","$this",413],["T_OBJECT_OPERATOR","->",413],["T_STRING","_grandTotals",413],")",["T_WHITESPACE"," ",413],"{",["T_WHITESPACE","\n            ",413],["T_VARIABLE","$this",414],["T_OBJECT_OPERATOR","->",414],["T_STRING","_grandTotals",414],["T_WHITESPACE"," ",414],"=",["T_WHITESPACE"," ",414],["T_NEW","new",414],["T_WHITESPACE"," ",414],["T_STRING","Varien_Object",414],"(",")",";",["T_WHITESPACE","\n        ",414],"}",["T_WHITESPACE","\n        ",415],["T_RETURN","return",416],["T_WHITESPACE"," ",416],["T_VARIABLE","$this",416],["T_OBJECT_OPERATOR","->",416],["T_STRING","_grandTotals",416],";",["T_WHITESPACE","\n    ",416],"}",["T_WHITESPACE","\n\n    ",417],["T_PUBLIC","public",419],["T_WHITESPACE"," ",419],["T_FUNCTION","function",419],["T_WHITESPACE"," ",419],["T_STRING","getPeriodText",419],"(",")",["T_WHITESPACE","\n    ",419],"{",["T_WHITESPACE","\n        ",420],["T_RETURN","return",421],["T_WHITESPACE"," ",421],["T_VARIABLE","$this",421],["T_OBJECT_OPERATOR","->",421],["T_STRING","__",421],"(",["T_CONSTANT_ENCAPSED_STRING","'Period'",421],")",";",["T_WHITESPACE","\n    ",421],"}",["T_WHITESPACE","\n\n    ",422],["T_DOC_COMMENT","\/**\n     * Retrieve grid as CSV\n     *\n     * @return unknown\n     *\/",424],["T_WHITESPACE","\n    ",428],["T_PUBLIC","public",429],["T_WHITESPACE"," ",429],["T_FUNCTION","function",429],["T_WHITESPACE"," ",429],["T_STRING","getCsv",429],"(",")",["T_WHITESPACE","\n    ",429],"{",["T_WHITESPACE","\n        ",430],["T_VARIABLE","$csv",431],["T_WHITESPACE"," ",431],"=",["T_WHITESPACE"," ",431],["T_CONSTANT_ENCAPSED_STRING","''",431],";",["T_WHITESPACE","\n        ",431],["T_VARIABLE","$this",432],["T_OBJECT_OPERATOR","->",432],["T_STRING","_prepareGrid",432],"(",")",";",["T_WHITESPACE","\n\n        ",432],["T_VARIABLE","$data",434],["T_WHITESPACE"," ",434],"=",["T_WHITESPACE"," ",434],["T_ARRAY","array",434],"(",["T_CONSTANT_ENCAPSED_STRING","'\"'",434],".",["T_VARIABLE","$this",434],["T_OBJECT_OPERATOR","->",434],["T_STRING","__",434],"(",["T_CONSTANT_ENCAPSED_STRING","'Period'",434],")",".",["T_CONSTANT_ENCAPSED_STRING","'\"'",434],")",";",["T_WHITESPACE","\n        ",434],["T_FOREACH","foreach",435],["T_WHITESPACE"," ",435],"(",["T_VARIABLE","$this",435],["T_OBJECT_OPERATOR","->",435],["T_STRING","_columns",435],["T_WHITESPACE"," ",435],["T_AS","as",435],["T_WHITESPACE"," ",435],["T_VARIABLE","$column",435],")",["T_WHITESPACE"," ",435],"{",["T_WHITESPACE","\n            ",435],["T_IF","if",436],["T_WHITESPACE"," ",436],"(","!",["T_VARIABLE","$column",436],["T_OBJECT_OPERATOR","->",436],["T_STRING","getIsSystem",436],"(",")",")",["T_WHITESPACE"," ",436],"{",["T_WHITESPACE","\n                ",436],["T_VARIABLE","$data",437],"[","]",["T_WHITESPACE"," ",437],"=",["T_WHITESPACE"," ",437],["T_CONSTANT_ENCAPSED_STRING","'\"'",437],".",["T_VARIABLE","$column",437],["T_OBJECT_OPERATOR","->",437],["T_STRING","getHeader",437],"(",")",".",["T_CONSTANT_ENCAPSED_STRING","'\"'",437],";",["T_WHITESPACE","\n            ",437],"}",["T_WHITESPACE","\n        ",438],"}",["T_WHITESPACE","\n        ",439],["T_VARIABLE","$csv",440],["T_CONCAT_EQUAL",".=",440],["T_WHITESPACE"," ",440],["T_STRING","implode",440],"(",["T_CONSTANT_ENCAPSED_STRING","','",440],",",["T_WHITESPACE"," ",440],["T_VARIABLE","$data",440],")",".",["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",440],";",["T_WHITESPACE","\n\n        ",440],["T_FOREACH","foreach",442],["T_WHITESPACE"," ",442],"(",["T_VARIABLE","$this",442],["T_OBJECT_OPERATOR","->",442],["T_STRING","getCollection",442],"(",")",["T_OBJECT_OPERATOR","->",442],["T_STRING","getIntervals",442],"(",")",["T_WHITESPACE"," ",442],["T_AS","as",442],["T_WHITESPACE"," ",442],["T_VARIABLE","$_index",442],["T_DOUBLE_ARROW","=>",442],["T_VARIABLE","$_item",442],")",["T_WHITESPACE"," ",442],"{",["T_WHITESPACE","\n            ",442],["T_VARIABLE","$report",443],["T_WHITESPACE"," ",443],"=",["T_WHITESPACE"," ",443],["T_VARIABLE","$this",443],["T_OBJECT_OPERATOR","->",443],["T_STRING","getReport",443],"(",["T_VARIABLE","$_item",443],"[",["T_CONSTANT_ENCAPSED_STRING","'start'",443],"]",",",["T_WHITESPACE"," ",443],["T_VARIABLE","$_item",443],"[",["T_CONSTANT_ENCAPSED_STRING","'end'",443],"]",")",";",["T_WHITESPACE","\n            ",443],["T_FOREACH","foreach",444],["T_WHITESPACE"," ",444],"(",["T_VARIABLE","$report",444],["T_WHITESPACE"," ",444],["T_AS","as",444],["T_WHITESPACE"," ",444],["T_VARIABLE","$_subIndex",444],["T_DOUBLE_ARROW","=>",444],["T_VARIABLE","$_subItem",444],")",["T_WHITESPACE"," ",444],"{",["T_WHITESPACE","\n                ",444],["T_VARIABLE","$data",445],["T_WHITESPACE"," ",445],"=",["T_WHITESPACE"," ",445],["T_ARRAY","array",445],"(",["T_CONSTANT_ENCAPSED_STRING","'\"'",445],".",["T_VARIABLE","$_index",445],".",["T_CONSTANT_ENCAPSED_STRING","'\"'",445],")",";",["T_WHITESPACE","\n                ",445],["T_FOREACH","foreach",446],["T_WHITESPACE"," ",446],"(",["T_VARIABLE","$this",446],["T_OBJECT_OPERATOR","->",446],["T_STRING","_columns",446],["T_WHITESPACE"," ",446],["T_AS","as",446],["T_WHITESPACE"," ",446],["T_VARIABLE","$column",446],")",["T_WHITESPACE"," ",446],"{",["T_WHITESPACE","\n                    ",446],["T_IF","if",447],["T_WHITESPACE"," ",447],"(","!",["T_VARIABLE","$column",447],["T_OBJECT_OPERATOR","->",447],["T_STRING","getIsSystem",447],"(",")",")",["T_WHITESPACE"," ",447],"{",["T_WHITESPACE","\n                        ",447],["T_VARIABLE","$data",448],"[","]",["T_WHITESPACE"," ",448],"=",["T_WHITESPACE"," ",448],["T_CONSTANT_ENCAPSED_STRING","'\"'",448],["T_WHITESPACE"," ",448],".",["T_WHITESPACE"," ",448],["T_STRING","str_replace",448],"(",["T_WHITESPACE","\n                            ",448],["T_ARRAY","array",449],"(",["T_CONSTANT_ENCAPSED_STRING","'\"'",449],",",["T_WHITESPACE"," ",449],["T_CONSTANT_ENCAPSED_STRING","'\\\\'",449],")",",",["T_WHITESPACE","\n                            ",449],["T_ARRAY","array",450],"(",["T_CONSTANT_ENCAPSED_STRING","'\"\"'",450],",",["T_WHITESPACE"," ",450],["T_CONSTANT_ENCAPSED_STRING","'\\\\\\\\'",450],")",",",["T_WHITESPACE","\n                            ",450],["T_VARIABLE","$column",451],["T_OBJECT_OPERATOR","->",451],["T_STRING","getRowField",451],"(",["T_VARIABLE","$_subItem",451],")",["T_WHITESPACE","\n                        ",451],")",["T_WHITESPACE"," ",452],".",["T_WHITESPACE"," ",452],["T_CONSTANT_ENCAPSED_STRING","'\"'",452],";",["T_WHITESPACE","\n                    ",452],"}",["T_WHITESPACE","\n                ",453],"}",["T_WHITESPACE","\n                ",454],["T_VARIABLE","$csv",455],["T_CONCAT_EQUAL",".=",455],["T_WHITESPACE"," ",455],["T_STRING","implode",455],"(",["T_CONSTANT_ENCAPSED_STRING","','",455],",",["T_WHITESPACE"," ",455],["T_VARIABLE","$data",455],")",".",["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",455],";",["T_WHITESPACE","\n            ",455],"}",["T_WHITESPACE","\n            ",456],["T_IF","if",457],["T_WHITESPACE"," ",457],"(",["T_VARIABLE","$this",457],["T_OBJECT_OPERATOR","->",457],["T_STRING","getCountTotals",457],"(",")",["T_WHITESPACE"," ",457],["T_BOOLEAN_AND","&&",457],["T_WHITESPACE"," ",457],["T_VARIABLE","$this",457],["T_OBJECT_OPERATOR","->",457],["T_STRING","getSubtotalVisibility",457],"(",")",")",["T_WHITESPACE","\n            ",457],"{",["T_WHITESPACE","\n                ",458],["T_VARIABLE","$data",459],["T_WHITESPACE"," ",459],"=",["T_WHITESPACE"," ",459],["T_ARRAY","array",459],"(",["T_CONSTANT_ENCAPSED_STRING","'\"'",459],".",["T_VARIABLE","$_index",459],".",["T_CONSTANT_ENCAPSED_STRING","'\"'",459],")",";",["T_WHITESPACE","\n                ",459],["T_VARIABLE","$j",460],["T_WHITESPACE"," ",460],"=",["T_WHITESPACE"," ",460],["T_LNUMBER","0",460],";",["T_WHITESPACE","\n                ",460],["T_FOREACH","foreach",461],["T_WHITESPACE"," ",461],"(",["T_VARIABLE","$this",461],["T_OBJECT_OPERATOR","->",461],["T_STRING","_columns",461],["T_WHITESPACE"," ",461],["T_AS","as",461],["T_WHITESPACE"," ",461],["T_VARIABLE","$column",461],")",["T_WHITESPACE"," ",461],"{",["T_WHITESPACE","\n                    ",461],["T_VARIABLE","$j",462],["T_INC","++",462],";",["T_WHITESPACE","\n                    ",462],["T_IF","if",463],["T_WHITESPACE"," ",463],"(","!",["T_VARIABLE","$column",463],["T_OBJECT_OPERATOR","->",463],["T_STRING","getIsSystem",463],"(",")",")",["T_WHITESPACE"," ",463],"{",["T_WHITESPACE","\n                        ",463],["T_VARIABLE","$data",464],"[","]",["T_WHITESPACE"," ",464],"=",["T_WHITESPACE"," ",464],"(",["T_VARIABLE","$j",464],["T_WHITESPACE"," ",464],["T_IS_EQUAL","==",464],["T_WHITESPACE"," ",464],["T_LNUMBER","1",464],")",["T_WHITESPACE"," ",464],"?",["T_WHITESPACE","\n                                ",464],["T_CONSTANT_ENCAPSED_STRING","'\"'",465],["T_WHITESPACE"," ",465],".",["T_WHITESPACE"," ",465],["T_VARIABLE","$this",465],["T_OBJECT_OPERATOR","->",465],["T_STRING","__",465],"(",["T_CONSTANT_ENCAPSED_STRING","'Subtotal'",465],")",["T_WHITESPACE"," ",465],".",["T_WHITESPACE"," ",465],["T_CONSTANT_ENCAPSED_STRING","'\"'",465],["T_WHITESPACE"," ",465],":",["T_WHITESPACE","\n                                ",465],["T_CONSTANT_ENCAPSED_STRING","'\"'",466],".",["T_STRING","str_replace",466],"(",["T_CONSTANT_ENCAPSED_STRING","'\"'",466],",",["T_WHITESPACE"," ",466],["T_CONSTANT_ENCAPSED_STRING","'\"\"'",466],",",["T_WHITESPACE"," ",466],["T_VARIABLE","$column",466],["T_OBJECT_OPERATOR","->",466],["T_STRING","getRowField",466],"(",["T_VARIABLE","$this",466],["T_OBJECT_OPERATOR","->",466],["T_STRING","getTotals",466],"(",")",")",")",".",["T_CONSTANT_ENCAPSED_STRING","'\"'",466],";",["T_WHITESPACE","\n                    ",466],"}",["T_WHITESPACE","\n                ",467],"}",["T_WHITESPACE","\n                ",468],["T_VARIABLE","$csv",469],["T_CONCAT_EQUAL",".=",469],["T_WHITESPACE"," ",469],["T_STRING","implode",469],"(",["T_CONSTANT_ENCAPSED_STRING","','",469],",",["T_WHITESPACE"," ",469],["T_VARIABLE","$data",469],")",".",["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",469],";",["T_WHITESPACE","\n            ",469],"}",["T_WHITESPACE","\n        ",470],"}",["T_WHITESPACE","\n\n        ",471],["T_IF","if",473],["T_WHITESPACE"," ",473],"(",["T_VARIABLE","$this",473],["T_OBJECT_OPERATOR","->",473],["T_STRING","getCountTotals",473],"(",")",")",["T_WHITESPACE","\n        ",473],"{",["T_WHITESPACE","\n            ",474],["T_VARIABLE","$data",475],["T_WHITESPACE"," ",475],"=",["T_WHITESPACE"," ",475],["T_ARRAY","array",475],"(",["T_CONSTANT_ENCAPSED_STRING","'\"'",475],".",["T_VARIABLE","$this",475],["T_OBJECT_OPERATOR","->",475],["T_STRING","__",475],"(",["T_CONSTANT_ENCAPSED_STRING","'Total'",475],")",".",["T_CONSTANT_ENCAPSED_STRING","'\"'",475],")",";",["T_WHITESPACE","\n            ",475],["T_FOREACH","foreach",476],["T_WHITESPACE"," ",476],"(",["T_VARIABLE","$this",476],["T_OBJECT_OPERATOR","->",476],["T_STRING","_columns",476],["T_WHITESPACE"," ",476],["T_AS","as",476],["T_WHITESPACE"," ",476],["T_VARIABLE","$column",476],")",["T_WHITESPACE"," ",476],"{",["T_WHITESPACE","\n                ",476],["T_IF","if",477],["T_WHITESPACE"," ",477],"(","!",["T_VARIABLE","$column",477],["T_OBJECT_OPERATOR","->",477],["T_STRING","getIsSystem",477],"(",")",")",["T_WHITESPACE"," ",477],"{",["T_WHITESPACE","\n                    ",477],["T_VARIABLE","$data",478],"[","]",["T_WHITESPACE"," ",478],"=",["T_WHITESPACE"," ",478],["T_CONSTANT_ENCAPSED_STRING","'\"'",478],".",["T_STRING","str_replace",478],"(",["T_CONSTANT_ENCAPSED_STRING","'\"'",478],",",["T_WHITESPACE"," ",478],["T_CONSTANT_ENCAPSED_STRING","'\"\"'",478],",",["T_WHITESPACE"," ",478],["T_VARIABLE","$column",478],["T_OBJECT_OPERATOR","->",478],["T_STRING","getRowField",478],"(",["T_VARIABLE","$this",478],["T_OBJECT_OPERATOR","->",478],["T_STRING","getGrandTotals",478],"(",")",")",")",".",["T_CONSTANT_ENCAPSED_STRING","'\"'",478],";",["T_WHITESPACE","\n                ",478],"}",["T_WHITESPACE","\n            ",479],"}",["T_WHITESPACE","\n            ",480],["T_VARIABLE","$csv",481],["T_CONCAT_EQUAL",".=",481],["T_WHITESPACE"," ",481],["T_STRING","implode",481],"(",["T_CONSTANT_ENCAPSED_STRING","','",481],",",["T_WHITESPACE"," ",481],["T_VARIABLE","$data",481],")",".",["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",481],";",["T_WHITESPACE","\n        ",481],"}",["T_WHITESPACE","\n\n        ",482],["T_RETURN","return",484],["T_WHITESPACE"," ",484],["T_VARIABLE","$csv",484],";",["T_WHITESPACE","\n    ",484],"}",["T_WHITESPACE","\n\n    ",485],["T_DOC_COMMENT","\/**\n     * Retrieve grid as Excel Xml\n     *\n     * @return unknown\n     *\/",487],["T_WHITESPACE","\n    ",491],["T_PUBLIC","public",492],["T_WHITESPACE"," ",492],["T_FUNCTION","function",492],["T_WHITESPACE"," ",492],["T_STRING","getExcel",492],"(",["T_VARIABLE","$filename",492],["T_WHITESPACE"," ",492],"=",["T_WHITESPACE"," ",492],["T_CONSTANT_ENCAPSED_STRING","''",492],")",["T_WHITESPACE","\n    ",492],"{",["T_WHITESPACE","\n        ",493],["T_VARIABLE","$this",494],["T_OBJECT_OPERATOR","->",494],["T_STRING","_prepareGrid",494],"(",")",";",["T_WHITESPACE","\n\n        ",494],["T_VARIABLE","$data",496],["T_WHITESPACE"," ",496],"=",["T_WHITESPACE"," ",496],["T_ARRAY","array",496],"(",")",";",["T_WHITESPACE","\n        ",496],["T_VARIABLE","$row",497],["T_WHITESPACE"," ",497],"=",["T_WHITESPACE"," ",497],["T_ARRAY","array",497],"(",["T_VARIABLE","$this",497],["T_OBJECT_OPERATOR","->",497],["T_STRING","__",497],"(",["T_CONSTANT_ENCAPSED_STRING","'Period'",497],")",")",";",["T_WHITESPACE","\n        ",497],["T_FOREACH","foreach",498],["T_WHITESPACE"," ",498],"(",["T_VARIABLE","$this",498],["T_OBJECT_OPERATOR","->",498],["T_STRING","_columns",498],["T_WHITESPACE"," ",498],["T_AS","as",498],["T_WHITESPACE"," ",498],["T_VARIABLE","$column",498],")",["T_WHITESPACE"," ",498],"{",["T_WHITESPACE","\n            ",498],["T_IF","if",499],["T_WHITESPACE"," ",499],"(","!",["T_VARIABLE","$column",499],["T_OBJECT_OPERATOR","->",499],["T_STRING","getIsSystem",499],"(",")",")",["T_WHITESPACE"," ",499],"{",["T_WHITESPACE","\n                ",499],["T_VARIABLE","$row",500],"[","]",["T_WHITESPACE"," ",500],"=",["T_WHITESPACE"," ",500],["T_VARIABLE","$column",500],["T_OBJECT_OPERATOR","->",500],["T_STRING","getHeader",500],"(",")",";",["T_WHITESPACE","\n            ",500],"}",["T_WHITESPACE","\n        ",501],"}",["T_WHITESPACE","\n        ",502],["T_VARIABLE","$data",503],"[","]",["T_WHITESPACE"," ",503],"=",["T_WHITESPACE"," ",503],["T_VARIABLE","$row",503],";",["T_WHITESPACE","\n\n        ",503],["T_FOREACH","foreach",505],["T_WHITESPACE"," ",505],"(",["T_VARIABLE","$this",505],["T_OBJECT_OPERATOR","->",505],["T_STRING","getCollection",505],"(",")",["T_OBJECT_OPERATOR","->",505],["T_STRING","getIntervals",505],"(",")",["T_WHITESPACE"," ",505],["T_AS","as",505],["T_WHITESPACE"," ",505],["T_VARIABLE","$_index",505],["T_DOUBLE_ARROW","=>",505],["T_VARIABLE","$_item",505],")",["T_WHITESPACE"," ",505],"{",["T_WHITESPACE","\n            ",505],["T_VARIABLE","$report",506],["T_WHITESPACE"," ",506],"=",["T_WHITESPACE"," ",506],["T_VARIABLE","$this",506],["T_OBJECT_OPERATOR","->",506],["T_STRING","getReport",506],"(",["T_VARIABLE","$_item",506],"[",["T_CONSTANT_ENCAPSED_STRING","'start'",506],"]",",",["T_WHITESPACE"," ",506],["T_VARIABLE","$_item",506],"[",["T_CONSTANT_ENCAPSED_STRING","'end'",506],"]",")",";",["T_WHITESPACE","\n            ",506],["T_FOREACH","foreach",507],["T_WHITESPACE"," ",507],"(",["T_VARIABLE","$report",507],["T_WHITESPACE"," ",507],["T_AS","as",507],["T_WHITESPACE"," ",507],["T_VARIABLE","$_subIndex",507],["T_DOUBLE_ARROW","=>",507],["T_VARIABLE","$_subItem",507],")",["T_WHITESPACE"," ",507],"{",["T_WHITESPACE","\n                ",507],["T_VARIABLE","$row",508],["T_WHITESPACE"," ",508],"=",["T_WHITESPACE"," ",508],["T_ARRAY","array",508],"(",["T_VARIABLE","$_index",508],")",";",["T_WHITESPACE","\n                ",508],["T_FOREACH","foreach",509],["T_WHITESPACE"," ",509],"(",["T_VARIABLE","$this",509],["T_OBJECT_OPERATOR","->",509],["T_STRING","_columns",509],["T_WHITESPACE"," ",509],["T_AS","as",509],["T_WHITESPACE"," ",509],["T_VARIABLE","$column",509],")",["T_WHITESPACE"," ",509],"{",["T_WHITESPACE","\n                    ",509],["T_IF","if",510],["T_WHITESPACE"," ",510],"(","!",["T_VARIABLE","$column",510],["T_OBJECT_OPERATOR","->",510],["T_STRING","getIsSystem",510],"(",")",")",["T_WHITESPACE"," ",510],"{",["T_WHITESPACE","\n                        ",510],["T_VARIABLE","$row",511],"[","]",["T_WHITESPACE"," ",511],"=",["T_WHITESPACE"," ",511],["T_VARIABLE","$column",511],["T_OBJECT_OPERATOR","->",511],["T_STRING","getRowField",511],"(",["T_VARIABLE","$_subItem",511],")",";",["T_WHITESPACE","\n                    ",511],"}",["T_WHITESPACE","\n                ",512],"}",["T_WHITESPACE","\n                ",513],["T_VARIABLE","$data",514],"[","]",["T_WHITESPACE"," ",514],"=",["T_WHITESPACE"," ",514],["T_VARIABLE","$row",514],";",["T_WHITESPACE","\n            ",514],"}",["T_WHITESPACE","\n            ",515],["T_IF","if",516],["T_WHITESPACE"," ",516],"(",["T_VARIABLE","$this",516],["T_OBJECT_OPERATOR","->",516],["T_STRING","getCountTotals",516],"(",")",["T_WHITESPACE"," ",516],["T_BOOLEAN_AND","&&",516],["T_WHITESPACE"," ",516],["T_VARIABLE","$this",516],["T_OBJECT_OPERATOR","->",516],["T_STRING","getSubtotalVisibility",516],"(",")",")",["T_WHITESPACE","\n            ",516],"{",["T_WHITESPACE","\n                ",517],["T_VARIABLE","$row",518],["T_WHITESPACE"," ",518],"=",["T_WHITESPACE"," ",518],["T_ARRAY","array",518],"(",["T_VARIABLE","$_index",518],")",";",["T_WHITESPACE","\n                ",518],["T_VARIABLE","$j",519],["T_WHITESPACE"," ",519],"=",["T_WHITESPACE"," ",519],["T_LNUMBER","0",519],";",["T_WHITESPACE","\n                ",519],["T_FOREACH","foreach",520],["T_WHITESPACE"," ",520],"(",["T_VARIABLE","$this",520],["T_OBJECT_OPERATOR","->",520],["T_STRING","_columns",520],["T_WHITESPACE"," ",520],["T_AS","as",520],["T_WHITESPACE"," ",520],["T_VARIABLE","$column",520],")",["T_WHITESPACE"," ",520],"{",["T_WHITESPACE","\n                    ",520],["T_VARIABLE","$j",521],["T_INC","++",521],";",["T_WHITESPACE","\n                    ",521],["T_IF","if",522],["T_WHITESPACE"," ",522],"(","!",["T_VARIABLE","$column",522],["T_OBJECT_OPERATOR","->",522],["T_STRING","getIsSystem",522],"(",")",")",["T_WHITESPACE"," ",522],"{",["T_WHITESPACE","\n                        ",522],["T_VARIABLE","$row",523],"[","]",["T_WHITESPACE"," ",523],"=",["T_WHITESPACE"," ",523],"(",["T_VARIABLE","$j",523],["T_IS_EQUAL","==",523],["T_LNUMBER","1",523],")","?",["T_VARIABLE","$this",523],["T_OBJECT_OPERATOR","->",523],["T_STRING","__",523],"(",["T_CONSTANT_ENCAPSED_STRING","'Subtotal'",523],")",":",["T_VARIABLE","$column",523],["T_OBJECT_OPERATOR","->",523],["T_STRING","getRowField",523],"(",["T_VARIABLE","$this",523],["T_OBJECT_OPERATOR","->",523],["T_STRING","getTotals",523],"(",")",")",";",["T_WHITESPACE","\n                    ",523],"}",["T_WHITESPACE","\n                ",524],"}",["T_WHITESPACE","\n                ",525],["T_VARIABLE","$data",526],"[","]",["T_WHITESPACE"," ",526],"=",["T_WHITESPACE"," ",526],["T_VARIABLE","$row",526],";",["T_WHITESPACE","\n            ",526],"}",["T_WHITESPACE","\n        ",527],"}",["T_WHITESPACE","\n\n        ",528],["T_IF","if",530],["T_WHITESPACE"," ",530],"(",["T_VARIABLE","$this",530],["T_OBJECT_OPERATOR","->",530],["T_STRING","getCountTotals",530],"(",")",")",["T_WHITESPACE","\n        ",530],"{",["T_WHITESPACE","\n            ",531],["T_VARIABLE","$row",532],["T_WHITESPACE"," ",532],"=",["T_WHITESPACE"," ",532],["T_ARRAY","array",532],"(",["T_VARIABLE","$this",532],["T_OBJECT_OPERATOR","->",532],["T_STRING","__",532],"(",["T_CONSTANT_ENCAPSED_STRING","'Total'",532],")",")",";",["T_WHITESPACE","\n            ",532],["T_FOREACH","foreach",533],["T_WHITESPACE"," ",533],"(",["T_VARIABLE","$this",533],["T_OBJECT_OPERATOR","->",533],["T_STRING","_columns",533],["T_WHITESPACE"," ",533],["T_AS","as",533],["T_WHITESPACE"," ",533],["T_VARIABLE","$column",533],")",["T_WHITESPACE"," ",533],"{",["T_WHITESPACE","\n                ",533],["T_IF","if",534],["T_WHITESPACE"," ",534],"(","!",["T_VARIABLE","$column",534],["T_OBJECT_OPERATOR","->",534],["T_STRING","getIsSystem",534],"(",")",")",["T_WHITESPACE"," ",534],"{",["T_WHITESPACE","\n                    ",534],["T_VARIABLE","$row",535],"[","]",["T_WHITESPACE"," ",535],"=",["T_WHITESPACE"," ",535],["T_VARIABLE","$column",535],["T_OBJECT_OPERATOR","->",535],["T_STRING","getRowField",535],"(",["T_VARIABLE","$this",535],["T_OBJECT_OPERATOR","->",535],["T_STRING","getGrandTotals",535],"(",")",")",";",["T_WHITESPACE","\n                ",535],"}",["T_WHITESPACE","\n            ",536],"}",["T_WHITESPACE","\n            ",537],["T_VARIABLE","$data",538],"[","]",["T_WHITESPACE"," ",538],"=",["T_WHITESPACE"," ",538],["T_VARIABLE","$row",538],";",["T_WHITESPACE","\n        ",538],"}",["T_WHITESPACE","\n\n        ",539],["T_VARIABLE","$xmlObj",541],["T_WHITESPACE"," ",541],"=",["T_WHITESPACE"," ",541],["T_NEW","new",541],["T_WHITESPACE"," ",541],["T_STRING","Varien_Convert_Parser_Xml_Excel",541],"(",")",";",["T_WHITESPACE","\n        ",541],["T_VARIABLE","$xmlObj",542],["T_OBJECT_OPERATOR","->",542],["T_STRING","setVar",542],"(",["T_CONSTANT_ENCAPSED_STRING","'single_sheet'",542],",",["T_WHITESPACE"," ",542],["T_VARIABLE","$filename",542],")",";",["T_WHITESPACE","\n        ",542],["T_VARIABLE","$xmlObj",543],["T_OBJECT_OPERATOR","->",543],["T_STRING","setData",543],"(",["T_VARIABLE","$data",543],")",";",["T_WHITESPACE","\n        ",543],["T_VARIABLE","$xmlObj",544],["T_OBJECT_OPERATOR","->",544],["T_STRING","unparse",544],"(",")",";",["T_WHITESPACE","\n\n        ",544],["T_RETURN","return",546],["T_WHITESPACE"," ",546],["T_VARIABLE","$xmlObj",546],["T_OBJECT_OPERATOR","->",546],["T_STRING","getData",546],"(",")",";",["T_WHITESPACE","\n    ",546],"}",["T_WHITESPACE","\n\n    ",547],["T_PUBLIC","public",549],["T_WHITESPACE"," ",549],["T_FUNCTION","function",549],["T_WHITESPACE"," ",549],["T_STRING","getSubtotalText",549],"(",")",["T_WHITESPACE","\n    ",549],"{",["T_WHITESPACE","\n        ",550],["T_RETURN","return",551],["T_WHITESPACE"," ",551],["T_VARIABLE","$this",551],["T_OBJECT_OPERATOR","->",551],["T_STRING","__",551],"(",["T_CONSTANT_ENCAPSED_STRING","'Subtotal'",551],")",";",["T_WHITESPACE","\n    ",551],"}",["T_WHITESPACE","\n\n    ",552],["T_PUBLIC","public",554],["T_WHITESPACE"," ",554],["T_FUNCTION","function",554],["T_WHITESPACE"," ",554],["T_STRING","getTotalText",554],"(",")",["T_WHITESPACE","\n    ",554],"{",["T_WHITESPACE","\n        ",555],["T_RETURN","return",556],["T_WHITESPACE"," ",556],["T_VARIABLE","$this",556],["T_OBJECT_OPERATOR","->",556],["T_STRING","__",556],"(",["T_CONSTANT_ENCAPSED_STRING","'Total'",556],")",";",["T_WHITESPACE","\n    ",556],"}",["T_WHITESPACE","\n\n    ",557],["T_PUBLIC","public",559],["T_WHITESPACE"," ",559],["T_FUNCTION","function",559],["T_WHITESPACE"," ",559],["T_STRING","getEmptyText",559],"(",")",["T_WHITESPACE","\n    ",559],"{",["T_WHITESPACE","\n        ",560],["T_RETURN","return",561],["T_WHITESPACE"," ",561],["T_VARIABLE","$this",561],["T_OBJECT_OPERATOR","->",561],["T_STRING","__",561],"(",["T_CONSTANT_ENCAPSED_STRING","'No records found for this period.'",561],")",";",["T_WHITESPACE","\n    ",561],"}",["T_WHITESPACE","\n\n    ",562],["T_PUBLIC","public",564],["T_WHITESPACE"," ",564],["T_FUNCTION","function",564],["T_WHITESPACE"," ",564],["T_STRING","getCountTotals",564],"(",")",["T_WHITESPACE","\n    ",564],"{",["T_WHITESPACE","\n        ",565],["T_VARIABLE","$totals",566],["T_WHITESPACE"," ",566],"=",["T_WHITESPACE"," ",566],["T_VARIABLE","$this",566],["T_OBJECT_OPERATOR","->",566],["T_STRING","getGrandTotals",566],"(",")",["T_OBJECT_OPERATOR","->",566],["T_STRING","getData",566],"(",")",";",["T_WHITESPACE","\n        ",566],["T_IF","if",567],["T_WHITESPACE"," ",567],"(",["T_STRING","parent",567],["T_DOUBLE_COLON","::",567],["T_STRING","getCountTotals",567],"(",")",["T_WHITESPACE"," ",567],["T_BOOLEAN_AND","&&",567],["T_WHITESPACE"," ",567],["T_STRING","count",567],"(",["T_VARIABLE","$totals",567],")",")",["T_WHITESPACE"," ",567],"{",["T_WHITESPACE","\n            ",567],["T_RETURN","return",568],["T_WHITESPACE"," ",568],["T_STRING","true",568],";",["T_WHITESPACE","\n        ",568],"}",["T_WHITESPACE"," ",569],["T_ELSE","else",569],["T_WHITESPACE"," ",569],"{",["T_WHITESPACE","\n            ",569],["T_RETURN","return",570],["T_WHITESPACE"," ",570],["T_STRING","false",570],";",["T_WHITESPACE","\n        ",570],"}",["T_WHITESPACE","\n    ",571],"}",["T_WHITESPACE","\n\n    ",572],["T_DOC_COMMENT","\/**\n     * onlick event for refresh button to show alert if fields are empty\n     *\n     * @return string\n     *\/",574],["T_WHITESPACE","\n    ",578],["T_PUBLIC","public",579],["T_WHITESPACE"," ",579],["T_FUNCTION","function",579],["T_WHITESPACE"," ",579],["T_STRING","getRefreshButtonCallback",579],"(",")",["T_WHITESPACE","\n    ",579],"{",["T_WHITESPACE","\n        ",580],["T_RETURN","return",581],["T_WHITESPACE"," ",581],"\"",["T_CURLY_OPEN","{",581],["T_VARIABLE","$this",581],["T_OBJECT_OPERATOR","->",581],["T_STRING","getJsObjectName",581],"(",")","}",["T_ENCAPSED_AND_WHITESPACE",".doFilter();",581],"\"",";",["T_WHITESPACE","\n    ",581],"}",["T_WHITESPACE","\n\n    ",582],["T_DOC_COMMENT","\/**\n     * Retrieve errors\n     *\n     * @return array\n     *\/",584],["T_WHITESPACE","\n    ",588],["T_PUBLIC","public",589],["T_WHITESPACE"," ",589],["T_FUNCTION","function",589],["T_WHITESPACE"," ",589],["T_STRING","getErrors",589],"(",")",["T_WHITESPACE","\n    ",589],"{",["T_WHITESPACE","\n        ",590],["T_RETURN","return",591],["T_WHITESPACE"," ",591],["T_VARIABLE","$this",591],["T_OBJECT_OPERATOR","->",591],["T_STRING","_errors",591],";",["T_WHITESPACE","\n    ",591],"}",["T_WHITESPACE","\n\n    ",592],["T_DOC_COMMENT","\/**\n     * Retrieve correct currency code for select website, store, group\n     *\n     * @return string\n     *\/",594],["T_WHITESPACE","\n    ",598],["T_PUBLIC","public",599],["T_WHITESPACE"," ",599],["T_FUNCTION","function",599],["T_WHITESPACE"," ",599],["T_STRING","getCurrentCurrencyCode",599],"(",")",["T_WHITESPACE","\n    ",599],"{",["T_WHITESPACE","\n        ",600],["T_IF","if",601],["T_WHITESPACE"," ",601],"(",["T_STRING","is_null",601],"(",["T_VARIABLE","$this",601],["T_OBJECT_OPERATOR","->",601],["T_STRING","_currentCurrencyCode",601],")",")",["T_WHITESPACE"," ",601],"{",["T_WHITESPACE","\n            ",601],["T_IF","if",602],["T_WHITESPACE"," ",602],"(",["T_VARIABLE","$this",602],["T_OBJECT_OPERATOR","->",602],["T_STRING","getRequest",602],"(",")",["T_OBJECT_OPERATOR","->",602],["T_STRING","getParam",602],"(",["T_CONSTANT_ENCAPSED_STRING","'store'",602],")",")",["T_WHITESPACE"," ",602],"{",["T_WHITESPACE","\n                ",602],["T_VARIABLE","$store",603],["T_WHITESPACE"," ",603],"=",["T_WHITESPACE"," ",603],["T_VARIABLE","$this",603],["T_OBJECT_OPERATOR","->",603],["T_STRING","getRequest",603],"(",")",["T_OBJECT_OPERATOR","->",603],["T_STRING","getParam",603],"(",["T_CONSTANT_ENCAPSED_STRING","'store'",603],")",";",["T_WHITESPACE","\n                ",603],["T_VARIABLE","$this",604],["T_OBJECT_OPERATOR","->",604],["T_STRING","_currentCurrencyCode",604],["T_WHITESPACE"," ",604],"=",["T_WHITESPACE"," ",604],["T_STRING","Mage",604],["T_DOUBLE_COLON","::",604],["T_STRING","app",604],"(",")",["T_OBJECT_OPERATOR","->",604],["T_STRING","getStore",604],"(",["T_VARIABLE","$store",604],")",["T_OBJECT_OPERATOR","->",604],["T_STRING","getBaseCurrencyCode",604],"(",")",";",["T_WHITESPACE","\n            ",604],"}",["T_WHITESPACE"," ",605],["T_ELSE","else",605],["T_WHITESPACE"," ",605],["T_IF","if",605],["T_WHITESPACE"," ",605],"(",["T_VARIABLE","$this",605],["T_OBJECT_OPERATOR","->",605],["T_STRING","getRequest",605],"(",")",["T_OBJECT_OPERATOR","->",605],["T_STRING","getParam",605],"(",["T_CONSTANT_ENCAPSED_STRING","'website'",605],")",")","{",["T_WHITESPACE","\n                ",605],["T_VARIABLE","$website",606],["T_WHITESPACE"," ",606],"=",["T_WHITESPACE"," ",606],["T_VARIABLE","$this",606],["T_OBJECT_OPERATOR","->",606],["T_STRING","getRequest",606],"(",")",["T_OBJECT_OPERATOR","->",606],["T_STRING","getParam",606],"(",["T_CONSTANT_ENCAPSED_STRING","'website'",606],")",";",["T_WHITESPACE","\n                ",606],["T_VARIABLE","$this",607],["T_OBJECT_OPERATOR","->",607],["T_STRING","_currentCurrencyCode",607],["T_WHITESPACE"," ",607],"=",["T_WHITESPACE"," ",607],["T_STRING","Mage",607],["T_DOUBLE_COLON","::",607],["T_STRING","app",607],"(",")",["T_OBJECT_OPERATOR","->",607],["T_STRING","getWebsite",607],"(",["T_VARIABLE","$website",607],")",["T_OBJECT_OPERATOR","->",607],["T_STRING","getBaseCurrencyCode",607],"(",")",";",["T_WHITESPACE","\n            ",607],"}",["T_WHITESPACE"," ",608],["T_ELSE","else",608],["T_WHITESPACE"," ",608],["T_IF","if",608],["T_WHITESPACE"," ",608],"(",["T_VARIABLE","$this",608],["T_OBJECT_OPERATOR","->",608],["T_STRING","getRequest",608],"(",")",["T_OBJECT_OPERATOR","->",608],["T_STRING","getParam",608],"(",["T_CONSTANT_ENCAPSED_STRING","'group'",608],")",")","{",["T_WHITESPACE","\n                ",608],["T_VARIABLE","$group",609],["T_WHITESPACE"," ",609],"=",["T_WHITESPACE"," ",609],["T_VARIABLE","$this",609],["T_OBJECT_OPERATOR","->",609],["T_STRING","getRequest",609],"(",")",["T_OBJECT_OPERATOR","->",609],["T_STRING","getParam",609],"(",["T_CONSTANT_ENCAPSED_STRING","'group'",609],")",";",["T_WHITESPACE","\n                ",609],["T_VARIABLE","$this",610],["T_OBJECT_OPERATOR","->",610],["T_STRING","_currentCurrencyCode",610],["T_WHITESPACE"," ",610],"=",["T_WHITESPACE","  ",610],["T_STRING","Mage",610],["T_DOUBLE_COLON","::",610],["T_STRING","app",610],"(",")",["T_OBJECT_OPERATOR","->",610],["T_STRING","getGroup",610],"(",["T_VARIABLE","$group",610],")",["T_OBJECT_OPERATOR","->",610],["T_STRING","getWebsite",610],"(",")",["T_OBJECT_OPERATOR","->",610],["T_STRING","getBaseCurrencyCode",610],"(",")",";",["T_WHITESPACE","\n            ",610],"}",["T_WHITESPACE"," ",611],["T_ELSE","else",611],["T_WHITESPACE"," ",611],"{",["T_WHITESPACE","\n                ",611],["T_VARIABLE","$this",612],["T_OBJECT_OPERATOR","->",612],["T_STRING","_currentCurrencyCode",612],["T_WHITESPACE"," ",612],"=",["T_WHITESPACE"," ",612],["T_STRING","Mage",612],["T_DOUBLE_COLON","::",612],["T_STRING","app",612],"(",")",["T_OBJECT_OPERATOR","->",612],["T_STRING","getStore",612],"(",")",["T_OBJECT_OPERATOR","->",612],["T_STRING","getBaseCurrencyCode",612],"(",")",";",["T_WHITESPACE","\n            ",612],"}",["T_WHITESPACE","\n        ",613],"}",["T_WHITESPACE","\n        ",614],["T_RETURN","return",615],["T_WHITESPACE"," ",615],["T_VARIABLE","$this",615],["T_OBJECT_OPERATOR","->",615],["T_STRING","_currentCurrencyCode",615],";",["T_WHITESPACE","\n    ",615],"}",["T_WHITESPACE","\n    \n    ",616],["T_DOC_COMMENT","\/**\n     * Get currency rate (base to given currency)\n     *\n     * @param string|Mage_Directory_Model_Currency $currencyCode\n     * @return double\n     *\/",618],["T_WHITESPACE","\n    ",623],["T_PUBLIC","public",624],["T_WHITESPACE"," ",624],["T_FUNCTION","function",624],["T_WHITESPACE"," ",624],["T_STRING","getRate",624],"(",["T_VARIABLE","$toCurrency",624],")",["T_WHITESPACE","\n    ",624],"{",["T_WHITESPACE","\n        ",625],["T_RETURN","return",626],["T_WHITESPACE"," ",626],["T_STRING","Mage",626],["T_DOUBLE_COLON","::",626],["T_STRING","app",626],"(",")",["T_OBJECT_OPERATOR","->",626],["T_STRING","getStore",626],"(",")",["T_OBJECT_OPERATOR","->",626],["T_STRING","getBaseCurrency",626],"(",")",["T_OBJECT_OPERATOR","->",626],["T_STRING","getRate",626],"(",["T_VARIABLE","$toCurrency",626],")",";",["T_WHITESPACE","\n    ",626],"}",["T_WHITESPACE","\n",627],"}",["T_WHITESPACE","\n",628]]