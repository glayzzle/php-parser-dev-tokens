[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Magento\n *\n * NOTICE OF LICENSE\n *\n * This source file is subject to the Open Software License (OSL 3.0)\n * that is bundled with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/opensource.org\/licenses\/osl-3.0.php\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@magento.com so we can send you a copy immediately.\n *\n * DISCLAIMER\n *\n * Do not edit or add to this file if you wish to upgrade Magento to newer\n * versions in the future. If you wish to customize Magento for your\n * needs please refer to http:\/\/www.magento.com for more information.\n *\n * @category    Mage\n * @package     Mage_Adminhtml\n * @copyright  Copyright (c) 2006-2016 X.commerce, Inc. and affiliates (http:\/\/www.magento.com)\n * @license    http:\/\/opensource.org\/licenses\/osl-3.0.php  Open Software License (OSL 3.0)\n *\/",2],["T_WHITESPACE","\n\n",25],["T_DOC_COMMENT","\/**\n * Catalog product controller\n *\n * @category   Mage\n * @package    Mage_Adminhtml\n * @author      Magento Core Team <core@magentocommerce.com>\n *\/",27],["T_WHITESPACE","\n",33],["T_CLASS","class",34],["T_WHITESPACE"," ",34],["T_STRING","Mage_Adminhtml_Catalog_ProductController",34],["T_WHITESPACE"," ",34],["T_EXTENDS","extends",34],["T_WHITESPACE"," ",34],["T_STRING","Mage_Adminhtml_Controller_Action",34],["T_WHITESPACE","\n",34],"{",["T_WHITESPACE","\n    ",35],["T_DOC_COMMENT","\/**\n     * The greatest value which could be stored in CatalogInventory Qty field\n     *\/",36],["T_WHITESPACE","\n    ",38],["T_CONST","const",39],["T_WHITESPACE"," ",39],["T_STRING","MAX_QTY_VALUE",39],["T_WHITESPACE"," ",39],"=",["T_WHITESPACE"," ",39],["T_DNUMBER","99999999.9999",39],";",["T_WHITESPACE","\n\n    ",39],["T_DOC_COMMENT","\/**\n     * Array of actions which can be processed without secret key validation\n     *\n     * @var array\n     *\/",41],["T_WHITESPACE","\n    ",45],["T_PROTECTED","protected",46],["T_WHITESPACE"," ",46],["T_VARIABLE","$_publicActions",46],["T_WHITESPACE"," ",46],"=",["T_WHITESPACE"," ",46],["T_ARRAY","array",46],"(",["T_CONSTANT_ENCAPSED_STRING","'edit'",46],")",";",["T_WHITESPACE","\n\n    ",46],["T_PROTECTED","protected",48],["T_WHITESPACE"," ",48],["T_FUNCTION","function",48],["T_WHITESPACE"," ",48],["T_STRING","_construct",48],"(",")",["T_WHITESPACE","\n    ",48],"{",["T_WHITESPACE","\n        ",49],["T_COMMENT","\/\/ Define module dependent translate\n",50],["T_WHITESPACE","        ",51],["T_VARIABLE","$this",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","setUsedModuleName",51],"(",["T_CONSTANT_ENCAPSED_STRING","'Mage_Catalog'",51],")",";",["T_WHITESPACE","\n    ",51],"}",["T_WHITESPACE","\n\n    ",52],["T_DOC_COMMENT","\/**\n     * Initialize product from request parameters\n     *\n     * @return Mage_Catalog_Model_Product\n     *\/",54],["T_WHITESPACE","\n    ",58],["T_PROTECTED","protected",59],["T_WHITESPACE"," ",59],["T_FUNCTION","function",59],["T_WHITESPACE"," ",59],["T_STRING","_initProduct",59],"(",")",["T_WHITESPACE","\n    ",59],"{",["T_WHITESPACE","\n        ",60],["T_VARIABLE","$this",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","_title",61],"(",["T_VARIABLE","$this",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","__",61],"(",["T_CONSTANT_ENCAPSED_STRING","'Catalog'",61],")",")",["T_WHITESPACE","\n             ",61],["T_OBJECT_OPERATOR","->",62],["T_STRING","_title",62],"(",["T_VARIABLE","$this",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","__",62],"(",["T_CONSTANT_ENCAPSED_STRING","'Manage Products'",62],")",")",";",["T_WHITESPACE","\n\n        ",62],["T_VARIABLE","$productId",64],["T_WHITESPACE","  ",64],"=",["T_WHITESPACE"," ",64],["T_INT_CAST","(int)",64],["T_WHITESPACE"," ",64],["T_VARIABLE","$this",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","getRequest",64],"(",")",["T_OBJECT_OPERATOR","->",64],["T_STRING","getParam",64],"(",["T_CONSTANT_ENCAPSED_STRING","'id'",64],")",";",["T_WHITESPACE","\n        ",64],["T_VARIABLE","$product",65],["T_WHITESPACE","    ",65],"=",["T_WHITESPACE"," ",65],["T_STRING","Mage",65],["T_DOUBLE_COLON","::",65],["T_STRING","getModel",65],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog\/product'",65],")",["T_WHITESPACE","\n            ",65],["T_OBJECT_OPERATOR","->",66],["T_STRING","setStoreId",66],"(",["T_VARIABLE","$this",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","getRequest",66],"(",")",["T_OBJECT_OPERATOR","->",66],["T_STRING","getParam",66],"(",["T_CONSTANT_ENCAPSED_STRING","'store'",66],",",["T_WHITESPACE"," ",66],["T_LNUMBER","0",66],")",")",";",["T_WHITESPACE","\n\n        ",66],["T_IF","if",68],["T_WHITESPACE"," ",68],"(","!",["T_VARIABLE","$productId",68],")",["T_WHITESPACE"," ",68],"{",["T_WHITESPACE","\n            ",68],["T_IF","if",69],["T_WHITESPACE"," ",69],"(",["T_VARIABLE","$setId",69],["T_WHITESPACE"," ",69],"=",["T_WHITESPACE"," ",69],["T_INT_CAST","(int)",69],["T_WHITESPACE"," ",69],["T_VARIABLE","$this",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","getRequest",69],"(",")",["T_OBJECT_OPERATOR","->",69],["T_STRING","getParam",69],"(",["T_CONSTANT_ENCAPSED_STRING","'set'",69],")",")",["T_WHITESPACE"," ",69],"{",["T_WHITESPACE","\n                ",69],["T_VARIABLE","$product",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","setAttributeSetId",70],"(",["T_VARIABLE","$setId",70],")",";",["T_WHITESPACE","\n            ",70],"}",["T_WHITESPACE","\n\n            ",71],["T_IF","if",73],["T_WHITESPACE"," ",73],"(",["T_VARIABLE","$typeId",73],["T_WHITESPACE"," ",73],"=",["T_WHITESPACE"," ",73],["T_VARIABLE","$this",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","getRequest",73],"(",")",["T_OBJECT_OPERATOR","->",73],["T_STRING","getParam",73],"(",["T_CONSTANT_ENCAPSED_STRING","'type'",73],")",")",["T_WHITESPACE"," ",73],"{",["T_WHITESPACE","\n                ",73],["T_VARIABLE","$product",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","setTypeId",74],"(",["T_VARIABLE","$typeId",74],")",";",["T_WHITESPACE","\n            ",74],"}",["T_WHITESPACE","\n        ",75],"}",["T_WHITESPACE","\n\n        ",76],["T_VARIABLE","$product",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","setData",78],"(",["T_CONSTANT_ENCAPSED_STRING","'_edit_mode'",78],",",["T_WHITESPACE"," ",78],["T_STRING","true",78],")",";",["T_WHITESPACE","\n        ",78],["T_IF","if",79],["T_WHITESPACE"," ",79],"(",["T_VARIABLE","$productId",79],")",["T_WHITESPACE"," ",79],"{",["T_WHITESPACE","\n            ",79],["T_TRY","try",80],["T_WHITESPACE"," ",80],"{",["T_WHITESPACE","\n                ",80],["T_VARIABLE","$product",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","load",81],"(",["T_VARIABLE","$productId",81],")",";",["T_WHITESPACE","\n            ",81],"}",["T_WHITESPACE"," ",82],["T_CATCH","catch",82],["T_WHITESPACE"," ",82],"(",["T_STRING","Exception",82],["T_WHITESPACE"," ",82],["T_VARIABLE","$e",82],")",["T_WHITESPACE"," ",82],"{",["T_WHITESPACE","\n                ",82],["T_VARIABLE","$product",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","setTypeId",83],"(",["T_STRING","Mage_Catalog_Model_Product_Type",83],["T_DOUBLE_COLON","::",83],["T_STRING","DEFAULT_TYPE",83],")",";",["T_WHITESPACE","\n                ",83],["T_STRING","Mage",84],["T_DOUBLE_COLON","::",84],["T_STRING","logException",84],"(",["T_VARIABLE","$e",84],")",";",["T_WHITESPACE","\n            ",84],"}",["T_WHITESPACE","\n        ",85],"}",["T_WHITESPACE","\n\n        ",86],["T_VARIABLE","$attributes",88],["T_WHITESPACE"," ",88],"=",["T_WHITESPACE"," ",88],["T_VARIABLE","$this",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","getRequest",88],"(",")",["T_OBJECT_OPERATOR","->",88],["T_STRING","getParam",88],"(",["T_CONSTANT_ENCAPSED_STRING","'attributes'",88],")",";",["T_WHITESPACE","\n        ",88],["T_IF","if",89],["T_WHITESPACE"," ",89],"(",["T_VARIABLE","$attributes",89],["T_WHITESPACE"," ",89],["T_BOOLEAN_AND","&&",89],["T_WHITESPACE"," ",89],["T_VARIABLE","$product",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","isConfigurable",89],"(",")",["T_WHITESPACE"," ",89],["T_BOOLEAN_AND","&&",89],["T_WHITESPACE","\n            ",89],"(","!",["T_VARIABLE","$productId",90],["T_WHITESPACE"," ",90],["T_BOOLEAN_OR","||",90],["T_WHITESPACE"," ",90],"!",["T_VARIABLE","$product",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","getTypeInstance",90],"(",")",["T_OBJECT_OPERATOR","->",90],["T_STRING","getUsedProductAttributeIds",90],"(",")",")",")",["T_WHITESPACE"," ",90],"{",["T_WHITESPACE","\n            ",90],["T_VARIABLE","$product",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","getTypeInstance",91],"(",")",["T_OBJECT_OPERATOR","->",91],["T_STRING","setUsedProductAttributeIds",91],"(",["T_WHITESPACE","\n                ",91],["T_STRING","explode",92],"(",["T_CONSTANT_ENCAPSED_STRING","\",\"",92],",",["T_WHITESPACE"," ",92],["T_STRING","base64_decode",92],"(",["T_STRING","urldecode",92],"(",["T_VARIABLE","$attributes",92],")",")",")",["T_WHITESPACE","\n            ",92],")",";",["T_WHITESPACE","\n        ",93],"}",["T_WHITESPACE","\n\n        ",94],["T_COMMENT","\/\/ Required attributes of simple product for configurable creation\n",96],["T_WHITESPACE","        ",97],["T_IF","if",97],["T_WHITESPACE"," ",97],"(",["T_VARIABLE","$this",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","getRequest",97],"(",")",["T_OBJECT_OPERATOR","->",97],["T_STRING","getParam",97],"(",["T_CONSTANT_ENCAPSED_STRING","'popup'",97],")",["T_WHITESPACE","\n            ",97],["T_BOOLEAN_AND","&&",98],["T_WHITESPACE"," ",98],["T_VARIABLE","$requiredAttributes",98],["T_WHITESPACE"," ",98],"=",["T_WHITESPACE"," ",98],["T_VARIABLE","$this",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","getRequest",98],"(",")",["T_OBJECT_OPERATOR","->",98],["T_STRING","getParam",98],"(",["T_CONSTANT_ENCAPSED_STRING","'required'",98],")",")",["T_WHITESPACE"," ",98],"{",["T_WHITESPACE","\n            ",98],["T_VARIABLE","$requiredAttributes",99],["T_WHITESPACE"," ",99],"=",["T_WHITESPACE"," ",99],["T_STRING","explode",99],"(",["T_CONSTANT_ENCAPSED_STRING","\",\"",99],",",["T_WHITESPACE"," ",99],["T_VARIABLE","$requiredAttributes",99],")",";",["T_WHITESPACE","\n            ",99],["T_FOREACH","foreach",100],["T_WHITESPACE"," ",100],"(",["T_VARIABLE","$product",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","getAttributes",100],"(",")",["T_WHITESPACE"," ",100],["T_AS","as",100],["T_WHITESPACE"," ",100],["T_VARIABLE","$attribute",100],")",["T_WHITESPACE"," ",100],"{",["T_WHITESPACE","\n                ",100],["T_IF","if",101],["T_WHITESPACE"," ",101],"(",["T_STRING","in_array",101],"(",["T_VARIABLE","$attribute",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","getId",101],"(",")",",",["T_WHITESPACE"," ",101],["T_VARIABLE","$requiredAttributes",101],")",")",["T_WHITESPACE"," ",101],"{",["T_WHITESPACE","\n                    ",101],["T_VARIABLE","$attribute",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","setIsRequired",102],"(",["T_LNUMBER","1",102],")",";",["T_WHITESPACE","\n                ",102],"}",["T_WHITESPACE","\n            ",103],"}",["T_WHITESPACE","\n        ",104],"}",["T_WHITESPACE","\n\n        ",105],["T_IF","if",107],["T_WHITESPACE"," ",107],"(",["T_VARIABLE","$this",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","getRequest",107],"(",")",["T_OBJECT_OPERATOR","->",107],["T_STRING","getParam",107],"(",["T_CONSTANT_ENCAPSED_STRING","'popup'",107],")",["T_WHITESPACE","\n            ",107],["T_BOOLEAN_AND","&&",108],["T_WHITESPACE"," ",108],["T_VARIABLE","$this",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","getRequest",108],"(",")",["T_OBJECT_OPERATOR","->",108],["T_STRING","getParam",108],"(",["T_CONSTANT_ENCAPSED_STRING","'product'",108],")",["T_WHITESPACE","\n            ",108],["T_BOOLEAN_AND","&&",109],["T_WHITESPACE"," ",109],"!",["T_STRING","is_array",109],"(",["T_VARIABLE","$this",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","getRequest",109],"(",")",["T_OBJECT_OPERATOR","->",109],["T_STRING","getParam",109],"(",["T_CONSTANT_ENCAPSED_STRING","'product'",109],")",")",["T_WHITESPACE","\n            ",109],["T_BOOLEAN_AND","&&",110],["T_WHITESPACE"," ",110],["T_VARIABLE","$this",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","getRequest",110],"(",")",["T_OBJECT_OPERATOR","->",110],["T_STRING","getParam",110],"(",["T_CONSTANT_ENCAPSED_STRING","'id'",110],",",["T_WHITESPACE"," ",110],["T_STRING","false",110],")",["T_WHITESPACE"," ",110],["T_IS_IDENTICAL","===",110],["T_WHITESPACE"," ",110],["T_STRING","false",110],")",["T_WHITESPACE"," ",110],"{",["T_WHITESPACE","\n\n            ",110],["T_VARIABLE","$configProduct",112],["T_WHITESPACE"," ",112],"=",["T_WHITESPACE"," ",112],["T_STRING","Mage",112],["T_DOUBLE_COLON","::",112],["T_STRING","getModel",112],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog\/product'",112],")",["T_WHITESPACE","\n                ",112],["T_OBJECT_OPERATOR","->",113],["T_STRING","setStoreId",113],"(",["T_LNUMBER","0",113],")",["T_WHITESPACE","\n                ",113],["T_OBJECT_OPERATOR","->",114],["T_STRING","load",114],"(",["T_VARIABLE","$this",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","getRequest",114],"(",")",["T_OBJECT_OPERATOR","->",114],["T_STRING","getParam",114],"(",["T_CONSTANT_ENCAPSED_STRING","'product'",114],")",")",["T_WHITESPACE","\n                ",114],["T_OBJECT_OPERATOR","->",115],["T_STRING","setTypeId",115],"(",["T_VARIABLE","$this",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","getRequest",115],"(",")",["T_OBJECT_OPERATOR","->",115],["T_STRING","getParam",115],"(",["T_CONSTANT_ENCAPSED_STRING","'type'",115],")",")",";",["T_WHITESPACE","\n\n            ",115],["T_COMMENT","\/* @var $configProduct Mage_Catalog_Model_Product *\/",117],["T_WHITESPACE","\n            ",117],["T_VARIABLE","$data",118],["T_WHITESPACE"," ",118],"=",["T_WHITESPACE"," ",118],["T_ARRAY","array",118],"(",")",";",["T_WHITESPACE","\n            ",118],["T_FOREACH","foreach",119],["T_WHITESPACE"," ",119],"(",["T_VARIABLE","$configProduct",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","getTypeInstance",119],"(",")",["T_OBJECT_OPERATOR","->",119],["T_STRING","getEditableAttributes",119],"(",")",["T_WHITESPACE"," ",119],["T_AS","as",119],["T_WHITESPACE"," ",119],["T_VARIABLE","$attribute",119],")",["T_WHITESPACE"," ",119],"{",["T_WHITESPACE","\n\n                ",119],["T_COMMENT","\/* @var $attribute Mage_Catalog_Model_Resource_Eav_Attribute *\/",121],["T_WHITESPACE","\n                ",121],["T_IF","if",122],"(","!",["T_VARIABLE","$attribute",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","getIsUnique",122],"(",")",["T_WHITESPACE","\n                    ",122],["T_BOOLEAN_AND","&&",123],["T_WHITESPACE"," ",123],["T_VARIABLE","$attribute",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","getFrontend",123],"(",")",["T_OBJECT_OPERATOR","->",123],["T_STRING","getInputType",123],"(",")",["T_IS_NOT_EQUAL","!=",123],["T_CONSTANT_ENCAPSED_STRING","'gallery'",123],["T_WHITESPACE","\n                    ",123],["T_BOOLEAN_AND","&&",124],["T_WHITESPACE"," ",124],["T_VARIABLE","$attribute",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","getAttributeCode",124],"(",")",["T_WHITESPACE"," ",124],["T_IS_NOT_EQUAL","!=",124],["T_WHITESPACE"," ",124],["T_CONSTANT_ENCAPSED_STRING","'required_options'",124],["T_WHITESPACE","\n                    ",124],["T_BOOLEAN_AND","&&",125],["T_WHITESPACE"," ",125],["T_VARIABLE","$attribute",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","getAttributeCode",125],"(",")",["T_WHITESPACE"," ",125],["T_IS_NOT_EQUAL","!=",125],["T_WHITESPACE"," ",125],["T_CONSTANT_ENCAPSED_STRING","'has_options'",125],["T_WHITESPACE","\n                    ",125],["T_BOOLEAN_AND","&&",126],["T_WHITESPACE"," ",126],["T_VARIABLE","$attribute",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","getAttributeCode",126],"(",")",["T_WHITESPACE"," ",126],["T_IS_NOT_EQUAL","!=",126],["T_WHITESPACE"," ",126],["T_VARIABLE","$configProduct",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","getIdFieldName",126],"(",")",")",["T_WHITESPACE"," ",126],"{",["T_WHITESPACE","\n                    ",126],["T_VARIABLE","$data",127],"[",["T_VARIABLE","$attribute",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","getAttributeCode",127],"(",")","]",["T_WHITESPACE"," ",127],"=",["T_WHITESPACE"," ",127],["T_VARIABLE","$configProduct",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","getData",127],"(",["T_VARIABLE","$attribute",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","getAttributeCode",127],"(",")",")",";",["T_WHITESPACE","\n                ",127],"}",["T_WHITESPACE","\n            ",128],"}",["T_WHITESPACE","\n\n            ",129],["T_VARIABLE","$product",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","addData",131],"(",["T_VARIABLE","$data",131],")",["T_WHITESPACE","\n                ",131],["T_OBJECT_OPERATOR","->",132],["T_STRING","setWebsiteIds",132],"(",["T_VARIABLE","$configProduct",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","getWebsiteIds",132],"(",")",")",";",["T_WHITESPACE","\n        ",132],"}",["T_WHITESPACE","\n\n        ",133],["T_STRING","Mage",135],["T_DOUBLE_COLON","::",135],["T_STRING","register",135],"(",["T_CONSTANT_ENCAPSED_STRING","'product'",135],",",["T_WHITESPACE"," ",135],["T_VARIABLE","$product",135],")",";",["T_WHITESPACE","\n        ",135],["T_STRING","Mage",136],["T_DOUBLE_COLON","::",136],["T_STRING","register",136],"(",["T_CONSTANT_ENCAPSED_STRING","'current_product'",136],",",["T_WHITESPACE"," ",136],["T_VARIABLE","$product",136],")",";",["T_WHITESPACE","\n        ",136],["T_STRING","Mage",137],["T_DOUBLE_COLON","::",137],["T_STRING","getSingleton",137],"(",["T_CONSTANT_ENCAPSED_STRING","'cms\/wysiwyg_config'",137],")",["T_OBJECT_OPERATOR","->",137],["T_STRING","setStoreId",137],"(",["T_VARIABLE","$this",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","getRequest",137],"(",")",["T_OBJECT_OPERATOR","->",137],["T_STRING","getParam",137],"(",["T_CONSTANT_ENCAPSED_STRING","'store'",137],")",")",";",["T_WHITESPACE","\n        ",137],["T_RETURN","return",138],["T_WHITESPACE"," ",138],["T_VARIABLE","$product",138],";",["T_WHITESPACE","\n    ",138],"}",["T_WHITESPACE","\n\n    ",139],["T_DOC_COMMENT","\/**\n     * Create serializer block for a grid\n     *\n     * @param string $inputName\n     * @param Mage_Adminhtml_Block_Widget_Grid $gridBlock\n     * @param array $productsArray\n     * @return Mage_Adminhtml_Block_Catalog_Product_Edit_Tab_Ajax_Serializer\n     *\/",141],["T_WHITESPACE","\n    ",148],["T_PROTECTED","protected",149],["T_WHITESPACE"," ",149],["T_FUNCTION","function",149],["T_WHITESPACE"," ",149],["T_STRING","_createSerializerBlock",149],"(",["T_VARIABLE","$inputName",149],",",["T_WHITESPACE"," ",149],["T_STRING","Mage_Adminhtml_Block_Widget_Grid",149],["T_WHITESPACE"," ",149],["T_VARIABLE","$gridBlock",149],",",["T_WHITESPACE"," ",149],["T_VARIABLE","$productsArray",149],")",["T_WHITESPACE","\n    ",149],"{",["T_WHITESPACE","\n        ",150],["T_RETURN","return",151],["T_WHITESPACE"," ",151],["T_VARIABLE","$this",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","getLayout",151],"(",")",["T_OBJECT_OPERATOR","->",151],["T_STRING","createBlock",151],"(",["T_CONSTANT_ENCAPSED_STRING","'adminhtml\/catalog_product_edit_tab_ajax_serializer'",151],")",["T_WHITESPACE","\n            ",151],["T_OBJECT_OPERATOR","->",152],["T_STRING","setGridBlock",152],"(",["T_VARIABLE","$gridBlock",152],")",["T_WHITESPACE","\n            ",152],["T_OBJECT_OPERATOR","->",153],["T_STRING","setProducts",153],"(",["T_VARIABLE","$productsArray",153],")",["T_WHITESPACE","\n            ",153],["T_OBJECT_OPERATOR","->",154],["T_STRING","setInputElementName",154],"(",["T_VARIABLE","$inputName",154],")",["T_WHITESPACE","\n        ",154],";",["T_WHITESPACE","\n    ",155],"}",["T_WHITESPACE","\n\n    ",156],["T_DOC_COMMENT","\/**\n     * Output specified blocks as a text list\n     *\/",158],["T_WHITESPACE","\n    ",160],["T_PROTECTED","protected",161],["T_WHITESPACE"," ",161],["T_FUNCTION","function",161],["T_WHITESPACE"," ",161],["T_STRING","_outputBlocks",161],"(",")",["T_WHITESPACE","\n    ",161],"{",["T_WHITESPACE","\n        ",162],["T_VARIABLE","$blocks",163],["T_WHITESPACE"," ",163],"=",["T_WHITESPACE"," ",163],["T_STRING","func_get_args",163],"(",")",";",["T_WHITESPACE","\n        ",163],["T_VARIABLE","$output",164],["T_WHITESPACE"," ",164],"=",["T_WHITESPACE"," ",164],["T_VARIABLE","$this",164],["T_OBJECT_OPERATOR","->",164],["T_STRING","getLayout",164],"(",")",["T_OBJECT_OPERATOR","->",164],["T_STRING","createBlock",164],"(",["T_CONSTANT_ENCAPSED_STRING","'adminhtml\/text_list'",164],")",";",["T_WHITESPACE","\n        ",164],["T_FOREACH","foreach",165],["T_WHITESPACE"," ",165],"(",["T_VARIABLE","$blocks",165],["T_WHITESPACE"," ",165],["T_AS","as",165],["T_WHITESPACE"," ",165],["T_VARIABLE","$block",165],")",["T_WHITESPACE"," ",165],"{",["T_WHITESPACE","\n            ",165],["T_VARIABLE","$output",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","insert",166],"(",["T_VARIABLE","$block",166],",",["T_WHITESPACE"," ",166],["T_CONSTANT_ENCAPSED_STRING","''",166],",",["T_WHITESPACE"," ",166],["T_STRING","true",166],")",";",["T_WHITESPACE","\n        ",166],"}",["T_WHITESPACE","\n        ",167],["T_VARIABLE","$this",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","getResponse",168],"(",")",["T_OBJECT_OPERATOR","->",168],["T_STRING","setBody",168],"(",["T_VARIABLE","$output",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","toHtml",168],"(",")",")",";",["T_WHITESPACE","\n    ",168],"}",["T_WHITESPACE","\n\n    ",169],["T_DOC_COMMENT","\/**\n     * Product list page\n     *\/",171],["T_WHITESPACE","\n    ",173],["T_PUBLIC","public",174],["T_WHITESPACE"," ",174],["T_FUNCTION","function",174],["T_WHITESPACE"," ",174],["T_STRING","indexAction",174],"(",")",["T_WHITESPACE","\n    ",174],"{",["T_WHITESPACE","\n        ",175],["T_VARIABLE","$this",176],["T_OBJECT_OPERATOR","->",176],["T_STRING","_title",176],"(",["T_VARIABLE","$this",176],["T_OBJECT_OPERATOR","->",176],["T_STRING","__",176],"(",["T_CONSTANT_ENCAPSED_STRING","'Catalog'",176],")",")",["T_WHITESPACE","\n             ",176],["T_OBJECT_OPERATOR","->",177],["T_STRING","_title",177],"(",["T_VARIABLE","$this",177],["T_OBJECT_OPERATOR","->",177],["T_STRING","__",177],"(",["T_CONSTANT_ENCAPSED_STRING","'Manage Products'",177],")",")",";",["T_WHITESPACE","\n\n        ",177],["T_VARIABLE","$this",179],["T_OBJECT_OPERATOR","->",179],["T_STRING","loadLayout",179],"(",")",";",["T_WHITESPACE","\n        ",179],["T_VARIABLE","$this",180],["T_OBJECT_OPERATOR","->",180],["T_STRING","renderLayout",180],"(",")",";",["T_WHITESPACE","\n    ",180],"}",["T_WHITESPACE","\n\n    ",181],["T_DOC_COMMENT","\/**\n     * Create new product page\n     *\/",183],["T_WHITESPACE","\n    ",185],["T_PUBLIC","public",186],["T_WHITESPACE"," ",186],["T_FUNCTION","function",186],["T_WHITESPACE"," ",186],["T_STRING","newAction",186],"(",")",["T_WHITESPACE","\n    ",186],"{",["T_WHITESPACE","\n        ",187],["T_VARIABLE","$product",188],["T_WHITESPACE"," ",188],"=",["T_WHITESPACE"," ",188],["T_VARIABLE","$this",188],["T_OBJECT_OPERATOR","->",188],["T_STRING","_initProduct",188],"(",")",";",["T_WHITESPACE","\n\n        ",188],["T_VARIABLE","$this",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","_title",190],"(",["T_VARIABLE","$this",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","__",190],"(",["T_CONSTANT_ENCAPSED_STRING","'New Product'",190],")",")",";",["T_WHITESPACE","\n\n        ",190],["T_STRING","Mage",192],["T_DOUBLE_COLON","::",192],["T_STRING","dispatchEvent",192],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog_product_new_action'",192],",",["T_WHITESPACE"," ",192],["T_ARRAY","array",192],"(",["T_CONSTANT_ENCAPSED_STRING","'product'",192],["T_WHITESPACE"," ",192],["T_DOUBLE_ARROW","=>",192],["T_WHITESPACE"," ",192],["T_VARIABLE","$product",192],")",")",";",["T_WHITESPACE","\n\n        ",192],["T_IF","if",194],["T_WHITESPACE"," ",194],"(",["T_VARIABLE","$this",194],["T_OBJECT_OPERATOR","->",194],["T_STRING","getRequest",194],"(",")",["T_OBJECT_OPERATOR","->",194],["T_STRING","getParam",194],"(",["T_CONSTANT_ENCAPSED_STRING","'popup'",194],")",")",["T_WHITESPACE"," ",194],"{",["T_WHITESPACE","\n            ",194],["T_VARIABLE","$this",195],["T_OBJECT_OPERATOR","->",195],["T_STRING","loadLayout",195],"(",["T_CONSTANT_ENCAPSED_STRING","'popup'",195],")",";",["T_WHITESPACE","\n        ",195],"}",["T_WHITESPACE"," ",196],["T_ELSE","else",196],["T_WHITESPACE"," ",196],"{",["T_WHITESPACE","\n            ",196],["T_VARIABLE","$_additionalLayoutPart",197],["T_WHITESPACE"," ",197],"=",["T_WHITESPACE"," ",197],["T_CONSTANT_ENCAPSED_STRING","''",197],";",["T_WHITESPACE","\n            ",197],["T_IF","if",198],["T_WHITESPACE"," ",198],"(",["T_VARIABLE","$product",198],["T_OBJECT_OPERATOR","->",198],["T_STRING","getTypeId",198],"(",")",["T_WHITESPACE"," ",198],["T_IS_EQUAL","==",198],["T_WHITESPACE"," ",198],["T_STRING","Mage_Catalog_Model_Product_Type",198],["T_DOUBLE_COLON","::",198],["T_STRING","TYPE_CONFIGURABLE",198],["T_WHITESPACE","\n                ",198],["T_BOOLEAN_AND","&&",199],["T_WHITESPACE"," ",199],"!","(",["T_VARIABLE","$product",199],["T_OBJECT_OPERATOR","->",199],["T_STRING","getTypeInstance",199],"(",")",["T_OBJECT_OPERATOR","->",199],["T_STRING","getUsedProductAttributeIds",199],"(",")",")",")",["T_WHITESPACE","\n            ",199],"{",["T_WHITESPACE","\n                ",200],["T_VARIABLE","$_additionalLayoutPart",201],["T_WHITESPACE"," ",201],"=",["T_WHITESPACE"," ",201],["T_CONSTANT_ENCAPSED_STRING","'_new'",201],";",["T_WHITESPACE","\n            ",201],"}",["T_WHITESPACE","\n            ",202],["T_VARIABLE","$this",203],["T_OBJECT_OPERATOR","->",203],["T_STRING","loadLayout",203],"(",["T_ARRAY","array",203],"(",["T_WHITESPACE","\n                ",203],["T_CONSTANT_ENCAPSED_STRING","'default'",204],",",["T_WHITESPACE","\n                ",204],["T_STRING","strtolower",205],"(",["T_VARIABLE","$this",205],["T_OBJECT_OPERATOR","->",205],["T_STRING","getFullActionName",205],"(",")",")",",",["T_WHITESPACE","\n                ",205],["T_CONSTANT_ENCAPSED_STRING","'adminhtml_catalog_product_'",206],".",["T_VARIABLE","$product",206],["T_OBJECT_OPERATOR","->",206],["T_STRING","getTypeId",206],"(",")",["T_WHITESPACE"," ",206],".",["T_WHITESPACE"," ",206],["T_VARIABLE","$_additionalLayoutPart",206],["T_WHITESPACE","\n            ",206],")",")",";",["T_WHITESPACE","\n            ",207],["T_VARIABLE","$this",208],["T_OBJECT_OPERATOR","->",208],["T_STRING","_setActiveMenu",208],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog\/products'",208],")",";",["T_WHITESPACE","\n        ",208],"}",["T_WHITESPACE","\n\n        ",209],["T_VARIABLE","$this",211],["T_OBJECT_OPERATOR","->",211],["T_STRING","getLayout",211],"(",")",["T_OBJECT_OPERATOR","->",211],["T_STRING","getBlock",211],"(",["T_CONSTANT_ENCAPSED_STRING","'head'",211],")",["T_OBJECT_OPERATOR","->",211],["T_STRING","setCanLoadExtJs",211],"(",["T_STRING","true",211],")",";",["T_WHITESPACE","\n\n        ",211],["T_VARIABLE","$block",213],["T_WHITESPACE"," ",213],"=",["T_WHITESPACE"," ",213],["T_VARIABLE","$this",213],["T_OBJECT_OPERATOR","->",213],["T_STRING","getLayout",213],"(",")",["T_OBJECT_OPERATOR","->",213],["T_STRING","getBlock",213],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog.wysiwyg.js'",213],")",";",["T_WHITESPACE","\n        ",213],["T_IF","if",214],["T_WHITESPACE"," ",214],"(",["T_VARIABLE","$block",214],")",["T_WHITESPACE"," ",214],"{",["T_WHITESPACE","\n            ",214],["T_VARIABLE","$block",215],["T_OBJECT_OPERATOR","->",215],["T_STRING","setStoreId",215],"(",["T_VARIABLE","$product",215],["T_OBJECT_OPERATOR","->",215],["T_STRING","getStoreId",215],"(",")",")",";",["T_WHITESPACE","\n        ",215],"}",["T_WHITESPACE","\n\n        ",216],["T_VARIABLE","$this",218],["T_OBJECT_OPERATOR","->",218],["T_STRING","renderLayout",218],"(",")",";",["T_WHITESPACE","\n    ",218],"}",["T_WHITESPACE","\n\n    ",219],["T_DOC_COMMENT","\/**\n     * Product edit form\n     *\/",221],["T_WHITESPACE","\n    ",223],["T_PUBLIC","public",224],["T_WHITESPACE"," ",224],["T_FUNCTION","function",224],["T_WHITESPACE"," ",224],["T_STRING","editAction",224],"(",")",["T_WHITESPACE","\n    ",224],"{",["T_WHITESPACE","\n        ",225],["T_VARIABLE","$productId",226],["T_WHITESPACE","  ",226],"=",["T_WHITESPACE"," ",226],["T_INT_CAST","(int)",226],["T_WHITESPACE"," ",226],["T_VARIABLE","$this",226],["T_OBJECT_OPERATOR","->",226],["T_STRING","getRequest",226],"(",")",["T_OBJECT_OPERATOR","->",226],["T_STRING","getParam",226],"(",["T_CONSTANT_ENCAPSED_STRING","'id'",226],")",";",["T_WHITESPACE","\n        ",226],["T_VARIABLE","$product",227],["T_WHITESPACE"," ",227],"=",["T_WHITESPACE"," ",227],["T_VARIABLE","$this",227],["T_OBJECT_OPERATOR","->",227],["T_STRING","_initProduct",227],"(",")",";",["T_WHITESPACE","\n\n        ",227],["T_IF","if",229],["T_WHITESPACE"," ",229],"(",["T_VARIABLE","$productId",229],["T_WHITESPACE"," ",229],["T_BOOLEAN_AND","&&",229],["T_WHITESPACE"," ",229],"!",["T_VARIABLE","$product",229],["T_OBJECT_OPERATOR","->",229],["T_STRING","getId",229],"(",")",")",["T_WHITESPACE"," ",229],"{",["T_WHITESPACE","\n            ",229],["T_VARIABLE","$this",230],["T_OBJECT_OPERATOR","->",230],["T_STRING","_getSession",230],"(",")",["T_OBJECT_OPERATOR","->",230],["T_STRING","addError",230],"(",["T_STRING","Mage",230],["T_DOUBLE_COLON","::",230],["T_STRING","helper",230],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog'",230],")",["T_OBJECT_OPERATOR","->",230],["T_STRING","__",230],"(",["T_CONSTANT_ENCAPSED_STRING","'This product no longer exists.'",230],")",")",";",["T_WHITESPACE","\n            ",230],["T_VARIABLE","$this",231],["T_OBJECT_OPERATOR","->",231],["T_STRING","_redirect",231],"(",["T_CONSTANT_ENCAPSED_STRING","'*\/*\/'",231],")",";",["T_WHITESPACE","\n            ",231],["T_RETURN","return",232],";",["T_WHITESPACE","\n        ",232],"}",["T_WHITESPACE","\n\n        ",233],["T_VARIABLE","$this",235],["T_OBJECT_OPERATOR","->",235],["T_STRING","_title",235],"(",["T_VARIABLE","$product",235],["T_OBJECT_OPERATOR","->",235],["T_STRING","getName",235],"(",")",")",";",["T_WHITESPACE","\n\n        ",235],["T_STRING","Mage",237],["T_DOUBLE_COLON","::",237],["T_STRING","dispatchEvent",237],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog_product_edit_action'",237],",",["T_WHITESPACE"," ",237],["T_ARRAY","array",237],"(",["T_CONSTANT_ENCAPSED_STRING","'product'",237],["T_WHITESPACE"," ",237],["T_DOUBLE_ARROW","=>",237],["T_WHITESPACE"," ",237],["T_VARIABLE","$product",237],")",")",";",["T_WHITESPACE","\n\n        ",237],["T_VARIABLE","$_additionalLayoutPart",239],["T_WHITESPACE"," ",239],"=",["T_WHITESPACE"," ",239],["T_CONSTANT_ENCAPSED_STRING","''",239],";",["T_WHITESPACE","\n        ",239],["T_IF","if",240],["T_WHITESPACE"," ",240],"(",["T_VARIABLE","$product",240],["T_OBJECT_OPERATOR","->",240],["T_STRING","getTypeId",240],"(",")",["T_WHITESPACE"," ",240],["T_IS_EQUAL","==",240],["T_WHITESPACE"," ",240],["T_STRING","Mage_Catalog_Model_Product_Type",240],["T_DOUBLE_COLON","::",240],["T_STRING","TYPE_CONFIGURABLE",240],["T_WHITESPACE","\n            ",240],["T_BOOLEAN_AND","&&",241],["T_WHITESPACE"," ",241],"!","(",["T_VARIABLE","$product",241],["T_OBJECT_OPERATOR","->",241],["T_STRING","getTypeInstance",241],"(",")",["T_OBJECT_OPERATOR","->",241],["T_STRING","getUsedProductAttributeIds",241],"(",")",")",")",["T_WHITESPACE","\n        ",241],"{",["T_WHITESPACE","\n            ",242],["T_VARIABLE","$_additionalLayoutPart",243],["T_WHITESPACE"," ",243],"=",["T_WHITESPACE"," ",243],["T_CONSTANT_ENCAPSED_STRING","'_new'",243],";",["T_WHITESPACE","\n        ",243],"}",["T_WHITESPACE","\n\n        ",244],["T_VARIABLE","$this",246],["T_OBJECT_OPERATOR","->",246],["T_STRING","loadLayout",246],"(",["T_ARRAY","array",246],"(",["T_WHITESPACE","\n            ",246],["T_CONSTANT_ENCAPSED_STRING","'default'",247],",",["T_WHITESPACE","\n            ",247],["T_STRING","strtolower",248],"(",["T_VARIABLE","$this",248],["T_OBJECT_OPERATOR","->",248],["T_STRING","getFullActionName",248],"(",")",")",",",["T_WHITESPACE","\n            ",248],["T_CONSTANT_ENCAPSED_STRING","'adminhtml_catalog_product_'",249],".",["T_VARIABLE","$product",249],["T_OBJECT_OPERATOR","->",249],["T_STRING","getTypeId",249],"(",")",["T_WHITESPACE"," ",249],".",["T_WHITESPACE"," ",249],["T_VARIABLE","$_additionalLayoutPart",249],["T_WHITESPACE","\n        ",249],")",")",";",["T_WHITESPACE","\n\n        ",250],["T_VARIABLE","$this",252],["T_OBJECT_OPERATOR","->",252],["T_STRING","_setActiveMenu",252],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog\/products'",252],")",";",["T_WHITESPACE","\n\n        ",252],["T_IF","if",254],["T_WHITESPACE"," ",254],"(","!",["T_STRING","Mage",254],["T_DOUBLE_COLON","::",254],["T_STRING","app",254],"(",")",["T_OBJECT_OPERATOR","->",254],["T_STRING","isSingleStoreMode",254],"(",")",["T_WHITESPACE"," ",254],["T_BOOLEAN_AND","&&",254],["T_WHITESPACE"," ",254],"(",["T_VARIABLE","$switchBlock",254],["T_WHITESPACE"," ",254],"=",["T_WHITESPACE"," ",254],["T_VARIABLE","$this",254],["T_OBJECT_OPERATOR","->",254],["T_STRING","getLayout",254],"(",")",["T_OBJECT_OPERATOR","->",254],["T_STRING","getBlock",254],"(",["T_CONSTANT_ENCAPSED_STRING","'store_switcher'",254],")",")",")",["T_WHITESPACE"," ",254],"{",["T_WHITESPACE","\n            ",254],["T_VARIABLE","$switchBlock",255],["T_OBJECT_OPERATOR","->",255],["T_STRING","setDefaultStoreName",255],"(",["T_VARIABLE","$this",255],["T_OBJECT_OPERATOR","->",255],["T_STRING","__",255],"(",["T_CONSTANT_ENCAPSED_STRING","'Default Values'",255],")",")",["T_WHITESPACE","\n                ",255],["T_OBJECT_OPERATOR","->",256],["T_STRING","setWebsiteIds",256],"(",["T_VARIABLE","$product",256],["T_OBJECT_OPERATOR","->",256],["T_STRING","getWebsiteIds",256],"(",")",")",["T_WHITESPACE","\n                ",256],["T_OBJECT_OPERATOR","->",257],["T_STRING","setSwitchUrl",257],"(",["T_WHITESPACE","\n                    ",257],["T_VARIABLE","$this",258],["T_OBJECT_OPERATOR","->",258],["T_STRING","getUrl",258],"(",["T_CONSTANT_ENCAPSED_STRING","'*\/*\/*'",258],",",["T_WHITESPACE"," ",258],["T_ARRAY","array",258],"(",["T_CONSTANT_ENCAPSED_STRING","'_current'",258],["T_DOUBLE_ARROW","=>",258],["T_STRING","true",258],",",["T_WHITESPACE"," ",258],["T_CONSTANT_ENCAPSED_STRING","'active_tab'",258],["T_DOUBLE_ARROW","=>",258],["T_STRING","null",258],",",["T_WHITESPACE"," ",258],["T_CONSTANT_ENCAPSED_STRING","'tab'",258],["T_WHITESPACE"," ",258],["T_DOUBLE_ARROW","=>",258],["T_WHITESPACE"," ",258],["T_STRING","null",258],",",["T_WHITESPACE"," ",258],["T_CONSTANT_ENCAPSED_STRING","'store'",258],["T_DOUBLE_ARROW","=>",258],["T_STRING","null",258],")",")",["T_WHITESPACE","\n                ",258],")",";",["T_WHITESPACE","\n        ",259],"}",["T_WHITESPACE","\n\n        ",260],["T_VARIABLE","$this",262],["T_OBJECT_OPERATOR","->",262],["T_STRING","getLayout",262],"(",")",["T_OBJECT_OPERATOR","->",262],["T_STRING","getBlock",262],"(",["T_CONSTANT_ENCAPSED_STRING","'head'",262],")",["T_OBJECT_OPERATOR","->",262],["T_STRING","setCanLoadExtJs",262],"(",["T_STRING","true",262],")",";",["T_WHITESPACE","\n\n        ",262],["T_VARIABLE","$block",264],["T_WHITESPACE"," ",264],"=",["T_WHITESPACE"," ",264],["T_VARIABLE","$this",264],["T_OBJECT_OPERATOR","->",264],["T_STRING","getLayout",264],"(",")",["T_OBJECT_OPERATOR","->",264],["T_STRING","getBlock",264],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog.wysiwyg.js'",264],")",";",["T_WHITESPACE","\n        ",264],["T_IF","if",265],["T_WHITESPACE"," ",265],"(",["T_VARIABLE","$block",265],")",["T_WHITESPACE"," ",265],"{",["T_WHITESPACE","\n            ",265],["T_VARIABLE","$block",266],["T_OBJECT_OPERATOR","->",266],["T_STRING","setStoreId",266],"(",["T_VARIABLE","$product",266],["T_OBJECT_OPERATOR","->",266],["T_STRING","getStoreId",266],"(",")",")",";",["T_WHITESPACE","\n        ",266],"}",["T_WHITESPACE","\n\n        ",267],["T_VARIABLE","$this",269],["T_OBJECT_OPERATOR","->",269],["T_STRING","renderLayout",269],"(",")",";",["T_WHITESPACE","\n    ",269],"}",["T_WHITESPACE","\n\n    ",270],["T_DOC_COMMENT","\/**\n     * WYSIWYG editor action for ajax request\n     *\n     *\/",272],["T_WHITESPACE","\n    ",275],["T_PUBLIC","public",276],["T_WHITESPACE"," ",276],["T_FUNCTION","function",276],["T_WHITESPACE"," ",276],["T_STRING","wysiwygAction",276],"(",")",["T_WHITESPACE","\n    ",276],"{",["T_WHITESPACE","\n        ",277],["T_VARIABLE","$elementId",278],["T_WHITESPACE"," ",278],"=",["T_WHITESPACE"," ",278],["T_VARIABLE","$this",278],["T_OBJECT_OPERATOR","->",278],["T_STRING","getRequest",278],"(",")",["T_OBJECT_OPERATOR","->",278],["T_STRING","getParam",278],"(",["T_CONSTANT_ENCAPSED_STRING","'element_id'",278],",",["T_WHITESPACE"," ",278],["T_STRING","md5",278],"(",["T_STRING","microtime",278],"(",")",")",")",";",["T_WHITESPACE","\n        ",278],["T_VARIABLE","$storeId",279],["T_WHITESPACE"," ",279],"=",["T_WHITESPACE"," ",279],["T_VARIABLE","$this",279],["T_OBJECT_OPERATOR","->",279],["T_STRING","getRequest",279],"(",")",["T_OBJECT_OPERATOR","->",279],["T_STRING","getParam",279],"(",["T_CONSTANT_ENCAPSED_STRING","'store_id'",279],",",["T_WHITESPACE"," ",279],["T_LNUMBER","0",279],")",";",["T_WHITESPACE","\n        ",279],["T_VARIABLE","$storeMediaUrl",280],["T_WHITESPACE"," ",280],"=",["T_WHITESPACE"," ",280],["T_STRING","Mage",280],["T_DOUBLE_COLON","::",280],["T_STRING","app",280],"(",")",["T_OBJECT_OPERATOR","->",280],["T_STRING","getStore",280],"(",["T_VARIABLE","$storeId",280],")",["T_OBJECT_OPERATOR","->",280],["T_STRING","getBaseUrl",280],"(",["T_STRING","Mage_Core_Model_Store",280],["T_DOUBLE_COLON","::",280],["T_STRING","URL_TYPE_MEDIA",280],")",";",["T_WHITESPACE","\n\n        ",280],["T_VARIABLE","$content",282],["T_WHITESPACE"," ",282],"=",["T_WHITESPACE"," ",282],["T_VARIABLE","$this",282],["T_OBJECT_OPERATOR","->",282],["T_STRING","getLayout",282],"(",")",["T_OBJECT_OPERATOR","->",282],["T_STRING","createBlock",282],"(",["T_CONSTANT_ENCAPSED_STRING","'adminhtml\/catalog_helper_form_wysiwyg_content'",282],",",["T_WHITESPACE"," ",282],["T_CONSTANT_ENCAPSED_STRING","''",282],",",["T_WHITESPACE"," ",282],["T_ARRAY","array",282],"(",["T_WHITESPACE","\n            ",282],["T_CONSTANT_ENCAPSED_STRING","'editor_element_id'",283],["T_WHITESPACE"," ",283],["T_DOUBLE_ARROW","=>",283],["T_WHITESPACE"," ",283],["T_VARIABLE","$elementId",283],",",["T_WHITESPACE","\n            ",283],["T_CONSTANT_ENCAPSED_STRING","'store_id'",284],["T_WHITESPACE","          ",284],["T_DOUBLE_ARROW","=>",284],["T_WHITESPACE"," ",284],["T_VARIABLE","$storeId",284],",",["T_WHITESPACE","\n            ",284],["T_CONSTANT_ENCAPSED_STRING","'store_media_url'",285],["T_WHITESPACE","   ",285],["T_DOUBLE_ARROW","=>",285],["T_WHITESPACE"," ",285],["T_VARIABLE","$storeMediaUrl",285],",",["T_WHITESPACE","\n        ",285],")",")",";",["T_WHITESPACE","\n        ",286],["T_VARIABLE","$this",287],["T_OBJECT_OPERATOR","->",287],["T_STRING","getResponse",287],"(",")",["T_OBJECT_OPERATOR","->",287],["T_STRING","setBody",287],"(",["T_VARIABLE","$content",287],["T_OBJECT_OPERATOR","->",287],["T_STRING","toHtml",287],"(",")",")",";",["T_WHITESPACE","\n    ",287],"}",["T_WHITESPACE","\n\n    ",288],["T_DOC_COMMENT","\/**\n     * Product grid for AJAX request\n     *\/",290],["T_WHITESPACE","\n    ",292],["T_PUBLIC","public",293],["T_WHITESPACE"," ",293],["T_FUNCTION","function",293],["T_WHITESPACE"," ",293],["T_STRING","gridAction",293],"(",")",["T_WHITESPACE","\n    ",293],"{",["T_WHITESPACE","\n        ",294],["T_VARIABLE","$this",295],["T_OBJECT_OPERATOR","->",295],["T_STRING","loadLayout",295],"(",")",";",["T_WHITESPACE","\n        ",295],["T_VARIABLE","$this",296],["T_OBJECT_OPERATOR","->",296],["T_STRING","renderLayout",296],"(",")",";",["T_WHITESPACE","\n    ",296],"}",["T_WHITESPACE","\n\n    ",297],["T_DOC_COMMENT","\/**\n     * Get specified tab grid\n     *\/",299],["T_WHITESPACE","\n    ",301],["T_PUBLIC","public",302],["T_WHITESPACE"," ",302],["T_FUNCTION","function",302],["T_WHITESPACE"," ",302],["T_STRING","gridOnlyAction",302],"(",")",["T_WHITESPACE","\n    ",302],"{",["T_WHITESPACE","\n        ",303],["T_VARIABLE","$this",304],["T_OBJECT_OPERATOR","->",304],["T_STRING","_initProduct",304],"(",")",";",["T_WHITESPACE","\n        ",304],["T_VARIABLE","$this",305],["T_OBJECT_OPERATOR","->",305],["T_STRING","loadLayout",305],"(",")",";",["T_WHITESPACE","\n        ",305],["T_VARIABLE","$this",306],["T_OBJECT_OPERATOR","->",306],["T_STRING","getResponse",306],"(",")",["T_OBJECT_OPERATOR","->",306],["T_STRING","setBody",306],"(",["T_WHITESPACE","\n            ",306],["T_VARIABLE","$this",307],["T_OBJECT_OPERATOR","->",307],["T_STRING","getLayout",307],"(",")",["T_WHITESPACE","\n                ",307],["T_OBJECT_OPERATOR","->",308],["T_STRING","createBlock",308],"(",["T_CONSTANT_ENCAPSED_STRING","'adminhtml\/catalog_product_edit_tab_'",308],["T_WHITESPACE"," ",308],".",["T_WHITESPACE"," ",308],["T_VARIABLE","$this",308],["T_OBJECT_OPERATOR","->",308],["T_STRING","getRequest",308],"(",")",["T_OBJECT_OPERATOR","->",308],["T_STRING","getParam",308],"(",["T_CONSTANT_ENCAPSED_STRING","'gridOnlyBlock'",308],")",")",["T_WHITESPACE","\n                ",308],["T_OBJECT_OPERATOR","->",309],["T_STRING","toHtml",309],"(",")",["T_WHITESPACE","\n        ",309],")",";",["T_WHITESPACE","\n    ",310],"}",["T_WHITESPACE","\n\n    ",311],["T_DOC_COMMENT","\/**\n     * Get categories fieldset block\n     *\n     *\/",313],["T_WHITESPACE","\n    ",316],["T_PUBLIC","public",317],["T_WHITESPACE"," ",317],["T_FUNCTION","function",317],["T_WHITESPACE"," ",317],["T_STRING","categoriesAction",317],"(",")",["T_WHITESPACE","\n    ",317],"{",["T_WHITESPACE","\n        ",318],["T_VARIABLE","$this",319],["T_OBJECT_OPERATOR","->",319],["T_STRING","_initProduct",319],"(",")",";",["T_WHITESPACE","\n        ",319],["T_VARIABLE","$this",320],["T_OBJECT_OPERATOR","->",320],["T_STRING","loadLayout",320],"(",")",";",["T_WHITESPACE","\n        ",320],["T_VARIABLE","$this",321],["T_OBJECT_OPERATOR","->",321],["T_STRING","renderLayout",321],"(",")",";",["T_WHITESPACE","\n    ",321],"}",["T_WHITESPACE","\n\n    ",322],["T_DOC_COMMENT","\/**\n     * Get options fieldset block\n     *\n     *\/",324],["T_WHITESPACE","\n    ",327],["T_PUBLIC","public",328],["T_WHITESPACE"," ",328],["T_FUNCTION","function",328],["T_WHITESPACE"," ",328],["T_STRING","optionsAction",328],"(",")",["T_WHITESPACE","\n    ",328],"{",["T_WHITESPACE","\n        ",329],["T_VARIABLE","$this",330],["T_OBJECT_OPERATOR","->",330],["T_STRING","_initProduct",330],"(",")",";",["T_WHITESPACE","\n        ",330],["T_VARIABLE","$this",331],["T_OBJECT_OPERATOR","->",331],["T_STRING","loadLayout",331],"(",")",";",["T_WHITESPACE","\n        ",331],["T_VARIABLE","$this",332],["T_OBJECT_OPERATOR","->",332],["T_STRING","renderLayout",332],"(",")",";",["T_WHITESPACE","\n    ",332],"}",["T_WHITESPACE","\n\n    ",333],["T_DOC_COMMENT","\/**\n     * Get related products grid and serializer block\n     *\/",335],["T_WHITESPACE","\n    ",337],["T_PUBLIC","public",338],["T_WHITESPACE"," ",338],["T_FUNCTION","function",338],["T_WHITESPACE"," ",338],["T_STRING","relatedAction",338],"(",")",["T_WHITESPACE","\n    ",338],"{",["T_WHITESPACE","\n        ",339],["T_VARIABLE","$this",340],["T_OBJECT_OPERATOR","->",340],["T_STRING","_initProduct",340],"(",")",";",["T_WHITESPACE","\n        ",340],["T_VARIABLE","$this",341],["T_OBJECT_OPERATOR","->",341],["T_STRING","loadLayout",341],"(",")",";",["T_WHITESPACE","\n        ",341],["T_VARIABLE","$this",342],["T_OBJECT_OPERATOR","->",342],["T_STRING","getLayout",342],"(",")",["T_OBJECT_OPERATOR","->",342],["T_STRING","getBlock",342],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog.product.edit.tab.related'",342],")",["T_WHITESPACE","\n            ",342],["T_OBJECT_OPERATOR","->",343],["T_STRING","setProductsRelated",343],"(",["T_VARIABLE","$this",343],["T_OBJECT_OPERATOR","->",343],["T_STRING","getRequest",343],"(",")",["T_OBJECT_OPERATOR","->",343],["T_STRING","getPost",343],"(",["T_CONSTANT_ENCAPSED_STRING","'products_related'",343],",",["T_WHITESPACE"," ",343],["T_STRING","null",343],")",")",";",["T_WHITESPACE","\n        ",343],["T_VARIABLE","$this",344],["T_OBJECT_OPERATOR","->",344],["T_STRING","renderLayout",344],"(",")",";",["T_WHITESPACE","\n    ",344],"}",["T_WHITESPACE","\n\n    ",345],["T_DOC_COMMENT","\/**\n     * Get upsell products grid and serializer block\n     *\/",347],["T_WHITESPACE","\n    ",349],["T_PUBLIC","public",350],["T_WHITESPACE"," ",350],["T_FUNCTION","function",350],["T_WHITESPACE"," ",350],["T_STRING","upsellAction",350],"(",")",["T_WHITESPACE","\n    ",350],"{",["T_WHITESPACE","\n        ",351],["T_VARIABLE","$this",352],["T_OBJECT_OPERATOR","->",352],["T_STRING","_initProduct",352],"(",")",";",["T_WHITESPACE","\n        ",352],["T_VARIABLE","$this",353],["T_OBJECT_OPERATOR","->",353],["T_STRING","loadLayout",353],"(",")",";",["T_WHITESPACE","\n        ",353],["T_VARIABLE","$this",354],["T_OBJECT_OPERATOR","->",354],["T_STRING","getLayout",354],"(",")",["T_OBJECT_OPERATOR","->",354],["T_STRING","getBlock",354],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog.product.edit.tab.upsell'",354],")",["T_WHITESPACE","\n            ",354],["T_OBJECT_OPERATOR","->",355],["T_STRING","setProductsUpsell",355],"(",["T_VARIABLE","$this",355],["T_OBJECT_OPERATOR","->",355],["T_STRING","getRequest",355],"(",")",["T_OBJECT_OPERATOR","->",355],["T_STRING","getPost",355],"(",["T_CONSTANT_ENCAPSED_STRING","'products_upsell'",355],",",["T_WHITESPACE"," ",355],["T_STRING","null",355],")",")",";",["T_WHITESPACE","\n        ",355],["T_VARIABLE","$this",356],["T_OBJECT_OPERATOR","->",356],["T_STRING","renderLayout",356],"(",")",";",["T_WHITESPACE","\n    ",356],"}",["T_WHITESPACE","\n\n    ",357],["T_DOC_COMMENT","\/**\n     * Get crosssell products grid and serializer block\n     *\/",359],["T_WHITESPACE","\n    ",361],["T_PUBLIC","public",362],["T_WHITESPACE"," ",362],["T_FUNCTION","function",362],["T_WHITESPACE"," ",362],["T_STRING","crosssellAction",362],"(",")",["T_WHITESPACE","\n    ",362],"{",["T_WHITESPACE","\n        ",363],["T_VARIABLE","$this",364],["T_OBJECT_OPERATOR","->",364],["T_STRING","_initProduct",364],"(",")",";",["T_WHITESPACE","\n        ",364],["T_VARIABLE","$this",365],["T_OBJECT_OPERATOR","->",365],["T_STRING","loadLayout",365],"(",")",";",["T_WHITESPACE","\n        ",365],["T_VARIABLE","$this",366],["T_OBJECT_OPERATOR","->",366],["T_STRING","getLayout",366],"(",")",["T_OBJECT_OPERATOR","->",366],["T_STRING","getBlock",366],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog.product.edit.tab.crosssell'",366],")",["T_WHITESPACE","\n            ",366],["T_OBJECT_OPERATOR","->",367],["T_STRING","setProductsCrossSell",367],"(",["T_VARIABLE","$this",367],["T_OBJECT_OPERATOR","->",367],["T_STRING","getRequest",367],"(",")",["T_OBJECT_OPERATOR","->",367],["T_STRING","getPost",367],"(",["T_CONSTANT_ENCAPSED_STRING","'products_crosssell'",367],",",["T_WHITESPACE"," ",367],["T_STRING","null",367],")",")",";",["T_WHITESPACE","\n        ",367],["T_VARIABLE","$this",368],["T_OBJECT_OPERATOR","->",368],["T_STRING","renderLayout",368],"(",")",";",["T_WHITESPACE","\n    ",368],"}",["T_WHITESPACE","\n\n    ",369],["T_DOC_COMMENT","\/**\n     * Get related products grid\n     *\/",371],["T_WHITESPACE","\n    ",373],["T_PUBLIC","public",374],["T_WHITESPACE"," ",374],["T_FUNCTION","function",374],["T_WHITESPACE"," ",374],["T_STRING","relatedGridAction",374],"(",")",["T_WHITESPACE","\n    ",374],"{",["T_WHITESPACE","\n        ",375],["T_VARIABLE","$this",376],["T_OBJECT_OPERATOR","->",376],["T_STRING","_initProduct",376],"(",")",";",["T_WHITESPACE","\n        ",376],["T_VARIABLE","$this",377],["T_OBJECT_OPERATOR","->",377],["T_STRING","loadLayout",377],"(",")",";",["T_WHITESPACE","\n        ",377],["T_VARIABLE","$this",378],["T_OBJECT_OPERATOR","->",378],["T_STRING","getLayout",378],"(",")",["T_OBJECT_OPERATOR","->",378],["T_STRING","getBlock",378],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog.product.edit.tab.related'",378],")",["T_WHITESPACE","\n            ",378],["T_OBJECT_OPERATOR","->",379],["T_STRING","setProductsRelated",379],"(",["T_VARIABLE","$this",379],["T_OBJECT_OPERATOR","->",379],["T_STRING","getRequest",379],"(",")",["T_OBJECT_OPERATOR","->",379],["T_STRING","getPost",379],"(",["T_CONSTANT_ENCAPSED_STRING","'products_related'",379],",",["T_WHITESPACE"," ",379],["T_STRING","null",379],")",")",";",["T_WHITESPACE","\n        ",379],["T_VARIABLE","$this",380],["T_OBJECT_OPERATOR","->",380],["T_STRING","renderLayout",380],"(",")",";",["T_WHITESPACE","\n    ",380],"}",["T_WHITESPACE","\n\n    ",381],["T_DOC_COMMENT","\/**\n     * Get upsell products grid\n     *\/",383],["T_WHITESPACE","\n    ",385],["T_PUBLIC","public",386],["T_WHITESPACE"," ",386],["T_FUNCTION","function",386],["T_WHITESPACE"," ",386],["T_STRING","upsellGridAction",386],"(",")",["T_WHITESPACE","\n    ",386],"{",["T_WHITESPACE","\n        ",387],["T_VARIABLE","$this",388],["T_OBJECT_OPERATOR","->",388],["T_STRING","_initProduct",388],"(",")",";",["T_WHITESPACE","\n        ",388],["T_VARIABLE","$this",389],["T_OBJECT_OPERATOR","->",389],["T_STRING","loadLayout",389],"(",")",";",["T_WHITESPACE","\n        ",389],["T_VARIABLE","$this",390],["T_OBJECT_OPERATOR","->",390],["T_STRING","getLayout",390],"(",")",["T_OBJECT_OPERATOR","->",390],["T_STRING","getBlock",390],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog.product.edit.tab.upsell'",390],")",["T_WHITESPACE","\n            ",390],["T_OBJECT_OPERATOR","->",391],["T_STRING","setProductsRelated",391],"(",["T_VARIABLE","$this",391],["T_OBJECT_OPERATOR","->",391],["T_STRING","getRequest",391],"(",")",["T_OBJECT_OPERATOR","->",391],["T_STRING","getPost",391],"(",["T_CONSTANT_ENCAPSED_STRING","'products_upsell'",391],",",["T_WHITESPACE"," ",391],["T_STRING","null",391],")",")",";",["T_WHITESPACE","\n        ",391],["T_VARIABLE","$this",392],["T_OBJECT_OPERATOR","->",392],["T_STRING","renderLayout",392],"(",")",";",["T_WHITESPACE","\n    ",392],"}",["T_WHITESPACE","\n\n    ",393],["T_DOC_COMMENT","\/**\n     * Get crosssell products grid\n     *\/",395],["T_WHITESPACE","\n    ",397],["T_PUBLIC","public",398],["T_WHITESPACE"," ",398],["T_FUNCTION","function",398],["T_WHITESPACE"," ",398],["T_STRING","crosssellGridAction",398],"(",")",["T_WHITESPACE","\n    ",398],"{",["T_WHITESPACE","\n        ",399],["T_VARIABLE","$this",400],["T_OBJECT_OPERATOR","->",400],["T_STRING","_initProduct",400],"(",")",";",["T_WHITESPACE","\n        ",400],["T_VARIABLE","$this",401],["T_OBJECT_OPERATOR","->",401],["T_STRING","loadLayout",401],"(",")",";",["T_WHITESPACE","\n        ",401],["T_VARIABLE","$this",402],["T_OBJECT_OPERATOR","->",402],["T_STRING","getLayout",402],"(",")",["T_OBJECT_OPERATOR","->",402],["T_STRING","getBlock",402],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog.product.edit.tab.crosssell'",402],")",["T_WHITESPACE","\n            ",402],["T_OBJECT_OPERATOR","->",403],["T_STRING","setProductsRelated",403],"(",["T_VARIABLE","$this",403],["T_OBJECT_OPERATOR","->",403],["T_STRING","getRequest",403],"(",")",["T_OBJECT_OPERATOR","->",403],["T_STRING","getPost",403],"(",["T_CONSTANT_ENCAPSED_STRING","'products_crosssell'",403],",",["T_WHITESPACE"," ",403],["T_STRING","null",403],")",")",";",["T_WHITESPACE","\n        ",403],["T_VARIABLE","$this",404],["T_OBJECT_OPERATOR","->",404],["T_STRING","renderLayout",404],"(",")",";",["T_WHITESPACE","\n    ",404],"}",["T_WHITESPACE","\n\n    ",405],["T_DOC_COMMENT","\/**\n     * Get associated grouped products grid and serializer block\n     *\/",407],["T_WHITESPACE","\n    ",409],["T_PUBLIC","public",410],["T_WHITESPACE"," ",410],["T_FUNCTION","function",410],["T_WHITESPACE"," ",410],["T_STRING","superGroupAction",410],"(",")",["T_WHITESPACE","\n    ",410],"{",["T_WHITESPACE","\n        ",411],["T_VARIABLE","$this",412],["T_OBJECT_OPERATOR","->",412],["T_STRING","_initProduct",412],"(",")",";",["T_WHITESPACE","\n        ",412],["T_VARIABLE","$this",413],["T_OBJECT_OPERATOR","->",413],["T_STRING","loadLayout",413],"(",")",";",["T_WHITESPACE","\n        ",413],["T_VARIABLE","$this",414],["T_OBJECT_OPERATOR","->",414],["T_STRING","getLayout",414],"(",")",["T_OBJECT_OPERATOR","->",414],["T_STRING","getBlock",414],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog.product.edit.tab.super.group'",414],")",["T_WHITESPACE","\n            ",414],["T_OBJECT_OPERATOR","->",415],["T_STRING","setProductsGrouped",415],"(",["T_VARIABLE","$this",415],["T_OBJECT_OPERATOR","->",415],["T_STRING","getRequest",415],"(",")",["T_OBJECT_OPERATOR","->",415],["T_STRING","getPost",415],"(",["T_CONSTANT_ENCAPSED_STRING","'products_grouped'",415],",",["T_WHITESPACE"," ",415],["T_STRING","null",415],")",")",";",["T_WHITESPACE","\n        ",415],["T_VARIABLE","$this",416],["T_OBJECT_OPERATOR","->",416],["T_STRING","renderLayout",416],"(",")",";",["T_WHITESPACE","\n    ",416],"}",["T_WHITESPACE","\n\n    ",417],["T_DOC_COMMENT","\/**\n     * Get associated grouped products grid only\n     *\n     *\/",419],["T_WHITESPACE","\n    ",422],["T_PUBLIC","public",423],["T_WHITESPACE"," ",423],["T_FUNCTION","function",423],["T_WHITESPACE"," ",423],["T_STRING","superGroupGridOnlyAction",423],"(",")",["T_WHITESPACE","\n    ",423],"{",["T_WHITESPACE","\n        ",424],["T_VARIABLE","$this",425],["T_OBJECT_OPERATOR","->",425],["T_STRING","_initProduct",425],"(",")",";",["T_WHITESPACE","\n        ",425],["T_VARIABLE","$this",426],["T_OBJECT_OPERATOR","->",426],["T_STRING","loadLayout",426],"(",")",";",["T_WHITESPACE","\n        ",426],["T_VARIABLE","$this",427],["T_OBJECT_OPERATOR","->",427],["T_STRING","getLayout",427],"(",")",["T_OBJECT_OPERATOR","->",427],["T_STRING","getBlock",427],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog.product.edit.tab.super.group'",427],")",["T_WHITESPACE","\n            ",427],["T_OBJECT_OPERATOR","->",428],["T_STRING","setProductsGrouped",428],"(",["T_VARIABLE","$this",428],["T_OBJECT_OPERATOR","->",428],["T_STRING","getRequest",428],"(",")",["T_OBJECT_OPERATOR","->",428],["T_STRING","getPost",428],"(",["T_CONSTANT_ENCAPSED_STRING","'products_grouped'",428],",",["T_WHITESPACE"," ",428],["T_STRING","null",428],")",")",";",["T_WHITESPACE","\n        ",428],["T_VARIABLE","$this",429],["T_OBJECT_OPERATOR","->",429],["T_STRING","renderLayout",429],"(",")",";",["T_WHITESPACE","\n    ",429],"}",["T_WHITESPACE","\n\n    ",430],["T_DOC_COMMENT","\/**\n     * Get product reviews grid\n     *\n     *\/",432],["T_WHITESPACE","\n    ",435],["T_PUBLIC","public",436],["T_WHITESPACE"," ",436],["T_FUNCTION","function",436],["T_WHITESPACE"," ",436],["T_STRING","reviewsAction",436],"(",")",["T_WHITESPACE","\n    ",436],"{",["T_WHITESPACE","\n        ",437],["T_VARIABLE","$this",438],["T_OBJECT_OPERATOR","->",438],["T_STRING","_initProduct",438],"(",")",";",["T_WHITESPACE","\n        ",438],["T_VARIABLE","$this",439],["T_OBJECT_OPERATOR","->",439],["T_STRING","loadLayout",439],"(",")",";",["T_WHITESPACE","\n        ",439],["T_VARIABLE","$this",440],["T_OBJECT_OPERATOR","->",440],["T_STRING","getLayout",440],"(",")",["T_OBJECT_OPERATOR","->",440],["T_STRING","getBlock",440],"(",["T_CONSTANT_ENCAPSED_STRING","'admin.product.reviews'",440],")",["T_WHITESPACE","\n                ",440],["T_OBJECT_OPERATOR","->",441],["T_STRING","setProductId",441],"(",["T_STRING","Mage",441],["T_DOUBLE_COLON","::",441],["T_STRING","registry",441],"(",["T_CONSTANT_ENCAPSED_STRING","'product'",441],")",["T_OBJECT_OPERATOR","->",441],["T_STRING","getId",441],"(",")",")",["T_WHITESPACE","\n                ",441],["T_OBJECT_OPERATOR","->",442],["T_STRING","setUseAjax",442],"(",["T_STRING","true",442],")",";",["T_WHITESPACE","\n        ",442],["T_VARIABLE","$this",443],["T_OBJECT_OPERATOR","->",443],["T_STRING","renderLayout",443],"(",")",";",["T_WHITESPACE","\n    ",443],"}",["T_WHITESPACE","\n\n    ",444],["T_DOC_COMMENT","\/**\n     * Get super config grid\n     *\n     *\/",446],["T_WHITESPACE","\n    ",449],["T_PUBLIC","public",450],["T_WHITESPACE"," ",450],["T_FUNCTION","function",450],["T_WHITESPACE"," ",450],["T_STRING","superConfigAction",450],"(",")",["T_WHITESPACE","\n    ",450],"{",["T_WHITESPACE","\n        ",451],["T_VARIABLE","$this",452],["T_OBJECT_OPERATOR","->",452],["T_STRING","_initProduct",452],"(",")",";",["T_WHITESPACE","\n        ",452],["T_VARIABLE","$this",453],["T_OBJECT_OPERATOR","->",453],["T_STRING","loadLayout",453],"(",["T_STRING","false",453],")",";",["T_WHITESPACE","\n        ",453],["T_VARIABLE","$this",454],["T_OBJECT_OPERATOR","->",454],["T_STRING","renderLayout",454],"(",")",";",["T_WHITESPACE","\n    ",454],"}",["T_WHITESPACE","\n\n    ",455],["T_DOC_COMMENT","\/**\n     * Deprecated since 1.2\n     *\n     *\/",457],["T_WHITESPACE","\n    ",460],["T_PUBLIC","public",461],["T_WHITESPACE"," ",461],["T_FUNCTION","function",461],["T_WHITESPACE"," ",461],["T_STRING","bundlesAction",461],"(",")",["T_WHITESPACE","\n    ",461],"{",["T_WHITESPACE","\n        ",462],["T_VARIABLE","$product",463],["T_WHITESPACE"," ",463],"=",["T_WHITESPACE"," ",463],["T_VARIABLE","$this",463],["T_OBJECT_OPERATOR","->",463],["T_STRING","_initProduct",463],"(",")",";",["T_WHITESPACE","\n        ",463],["T_VARIABLE","$this",464],["T_OBJECT_OPERATOR","->",464],["T_STRING","getResponse",464],"(",")",["T_OBJECT_OPERATOR","->",464],["T_STRING","setBody",464],"(",["T_WHITESPACE","\n            ",464],["T_VARIABLE","$this",465],["T_OBJECT_OPERATOR","->",465],["T_STRING","getLayout",465],"(",")",["T_WHITESPACE","\n                ",465],["T_OBJECT_OPERATOR","->",466],["T_STRING","createBlock",466],"(",["T_CONSTANT_ENCAPSED_STRING","'bundle\/adminhtml_catalog_product_edit_tab_bundle'",466],",",["T_WHITESPACE"," ",466],["T_CONSTANT_ENCAPSED_STRING","'admin.product.bundle.items'",466],")",["T_WHITESPACE","\n                ",466],["T_OBJECT_OPERATOR","->",467],["T_STRING","setProductId",467],"(",["T_VARIABLE","$product",467],["T_OBJECT_OPERATOR","->",467],["T_STRING","getId",467],"(",")",")",["T_WHITESPACE","\n                ",467],["T_OBJECT_OPERATOR","->",468],["T_STRING","toHtml",468],"(",")",["T_WHITESPACE","\n        ",468],")",";",["T_WHITESPACE","\n    ",469],"}",["T_WHITESPACE","\n\n    ",470],["T_DOC_COMMENT","\/**\n     * Validate product\n     *\n     *\/",472],["T_WHITESPACE","\n    ",475],["T_PUBLIC","public",476],["T_WHITESPACE"," ",476],["T_FUNCTION","function",476],["T_WHITESPACE"," ",476],["T_STRING","validateAction",476],"(",")",["T_WHITESPACE","\n    ",476],"{",["T_WHITESPACE","\n        ",477],["T_VARIABLE","$response",478],["T_WHITESPACE"," ",478],"=",["T_WHITESPACE"," ",478],["T_NEW","new",478],["T_WHITESPACE"," ",478],["T_STRING","Varien_Object",478],"(",")",";",["T_WHITESPACE","\n        ",478],["T_VARIABLE","$response",479],["T_OBJECT_OPERATOR","->",479],["T_STRING","setError",479],"(",["T_STRING","false",479],")",";",["T_WHITESPACE","\n\n        ",479],["T_TRY","try",481],["T_WHITESPACE"," ",481],"{",["T_WHITESPACE","\n            ",481],["T_VARIABLE","$productData",482],["T_WHITESPACE"," ",482],"=",["T_WHITESPACE"," ",482],["T_VARIABLE","$this",482],["T_OBJECT_OPERATOR","->",482],["T_STRING","getRequest",482],"(",")",["T_OBJECT_OPERATOR","->",482],["T_STRING","getPost",482],"(",["T_CONSTANT_ENCAPSED_STRING","'product'",482],")",";",["T_WHITESPACE","\n\n            ",482],["T_IF","if",484],["T_WHITESPACE"," ",484],"(",["T_VARIABLE","$productData",484],["T_WHITESPACE"," ",484],["T_BOOLEAN_AND","&&",484],["T_WHITESPACE"," ",484],"!",["T_ISSET","isset",484],"(",["T_VARIABLE","$productData",484],"[",["T_CONSTANT_ENCAPSED_STRING","'stock_data'",484],"]","[",["T_CONSTANT_ENCAPSED_STRING","'use_config_manage_stock'",484],"]",")",")",["T_WHITESPACE"," ",484],"{",["T_WHITESPACE","\n                ",484],["T_VARIABLE","$productData",485],"[",["T_CONSTANT_ENCAPSED_STRING","'stock_data'",485],"]","[",["T_CONSTANT_ENCAPSED_STRING","'use_config_manage_stock'",485],"]",["T_WHITESPACE"," ",485],"=",["T_WHITESPACE"," ",485],["T_LNUMBER","0",485],";",["T_WHITESPACE","\n            ",485],"}",["T_WHITESPACE","\n            ",486],["T_COMMENT","\/* @var $product Mage_Catalog_Model_Product *\/",487],["T_WHITESPACE","\n            ",487],["T_VARIABLE","$product",488],["T_WHITESPACE"," ",488],"=",["T_WHITESPACE"," ",488],["T_STRING","Mage",488],["T_DOUBLE_COLON","::",488],["T_STRING","getModel",488],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog\/product'",488],")",";",["T_WHITESPACE","\n            ",488],["T_VARIABLE","$product",489],["T_OBJECT_OPERATOR","->",489],["T_STRING","setData",489],"(",["T_CONSTANT_ENCAPSED_STRING","'_edit_mode'",489],",",["T_WHITESPACE"," ",489],["T_STRING","true",489],")",";",["T_WHITESPACE","\n            ",489],["T_IF","if",490],["T_WHITESPACE"," ",490],"(",["T_VARIABLE","$storeId",490],["T_WHITESPACE"," ",490],"=",["T_WHITESPACE"," ",490],["T_VARIABLE","$this",490],["T_OBJECT_OPERATOR","->",490],["T_STRING","getRequest",490],"(",")",["T_OBJECT_OPERATOR","->",490],["T_STRING","getParam",490],"(",["T_CONSTANT_ENCAPSED_STRING","'store'",490],")",")",["T_WHITESPACE"," ",490],"{",["T_WHITESPACE","\n                ",490],["T_VARIABLE","$product",491],["T_OBJECT_OPERATOR","->",491],["T_STRING","setStoreId",491],"(",["T_VARIABLE","$storeId",491],")",";",["T_WHITESPACE","\n            ",491],"}",["T_WHITESPACE","\n            ",492],["T_IF","if",493],["T_WHITESPACE"," ",493],"(",["T_VARIABLE","$setId",493],["T_WHITESPACE"," ",493],"=",["T_WHITESPACE"," ",493],["T_VARIABLE","$this",493],["T_OBJECT_OPERATOR","->",493],["T_STRING","getRequest",493],"(",")",["T_OBJECT_OPERATOR","->",493],["T_STRING","getParam",493],"(",["T_CONSTANT_ENCAPSED_STRING","'set'",493],")",")",["T_WHITESPACE"," ",493],"{",["T_WHITESPACE","\n                ",493],["T_VARIABLE","$product",494],["T_OBJECT_OPERATOR","->",494],["T_STRING","setAttributeSetId",494],"(",["T_VARIABLE","$setId",494],")",";",["T_WHITESPACE","\n            ",494],"}",["T_WHITESPACE","\n            ",495],["T_IF","if",496],["T_WHITESPACE"," ",496],"(",["T_VARIABLE","$typeId",496],["T_WHITESPACE"," ",496],"=",["T_WHITESPACE"," ",496],["T_VARIABLE","$this",496],["T_OBJECT_OPERATOR","->",496],["T_STRING","getRequest",496],"(",")",["T_OBJECT_OPERATOR","->",496],["T_STRING","getParam",496],"(",["T_CONSTANT_ENCAPSED_STRING","'type'",496],")",")",["T_WHITESPACE"," ",496],"{",["T_WHITESPACE","\n                ",496],["T_VARIABLE","$product",497],["T_OBJECT_OPERATOR","->",497],["T_STRING","setTypeId",497],"(",["T_VARIABLE","$typeId",497],")",";",["T_WHITESPACE","\n            ",497],"}",["T_WHITESPACE","\n            ",498],["T_IF","if",499],["T_WHITESPACE"," ",499],"(",["T_VARIABLE","$productId",499],["T_WHITESPACE"," ",499],"=",["T_WHITESPACE"," ",499],["T_VARIABLE","$this",499],["T_OBJECT_OPERATOR","->",499],["T_STRING","getRequest",499],"(",")",["T_OBJECT_OPERATOR","->",499],["T_STRING","getParam",499],"(",["T_CONSTANT_ENCAPSED_STRING","'id'",499],")",")",["T_WHITESPACE"," ",499],"{",["T_WHITESPACE","\n                ",499],["T_VARIABLE","$product",500],["T_OBJECT_OPERATOR","->",500],["T_STRING","load",500],"(",["T_VARIABLE","$productId",500],")",";",["T_WHITESPACE","\n            ",500],"}",["T_WHITESPACE","\n\n            ",501],["T_VARIABLE","$dateFields",503],["T_WHITESPACE"," ",503],"=",["T_WHITESPACE"," ",503],["T_ARRAY","array",503],"(",")",";",["T_WHITESPACE","\n            ",503],["T_VARIABLE","$attributes",504],["T_WHITESPACE"," ",504],"=",["T_WHITESPACE"," ",504],["T_VARIABLE","$product",504],["T_OBJECT_OPERATOR","->",504],["T_STRING","getAttributes",504],"(",")",";",["T_WHITESPACE","\n            ",504],["T_FOREACH","foreach",505],["T_WHITESPACE"," ",505],"(",["T_VARIABLE","$attributes",505],["T_WHITESPACE"," ",505],["T_AS","as",505],["T_WHITESPACE"," ",505],["T_VARIABLE","$attrKey",505],["T_WHITESPACE"," ",505],["T_DOUBLE_ARROW","=>",505],["T_WHITESPACE"," ",505],["T_VARIABLE","$attribute",505],")",["T_WHITESPACE"," ",505],"{",["T_WHITESPACE","\n                ",505],["T_IF","if",506],["T_WHITESPACE"," ",506],"(",["T_VARIABLE","$attribute",506],["T_OBJECT_OPERATOR","->",506],["T_STRING","getBackend",506],"(",")",["T_OBJECT_OPERATOR","->",506],["T_STRING","getType",506],"(",")",["T_WHITESPACE"," ",506],["T_IS_EQUAL","==",506],["T_WHITESPACE"," ",506],["T_CONSTANT_ENCAPSED_STRING","'datetime'",506],")",["T_WHITESPACE"," ",506],"{",["T_WHITESPACE","\n                    ",506],["T_IF","if",507],["T_WHITESPACE"," ",507],"(",["T_STRING","array_key_exists",507],"(",["T_VARIABLE","$attrKey",507],",",["T_WHITESPACE"," ",507],["T_VARIABLE","$productData",507],")",["T_WHITESPACE"," ",507],["T_BOOLEAN_AND","&&",507],["T_WHITESPACE"," ",507],["T_VARIABLE","$productData",507],"[",["T_VARIABLE","$attrKey",507],"]",["T_WHITESPACE"," ",507],["T_IS_NOT_EQUAL","!=",507],["T_WHITESPACE"," ",507],["T_CONSTANT_ENCAPSED_STRING","''",507],")","{",["T_WHITESPACE","\n                        ",507],["T_VARIABLE","$dateFields",508],"[","]",["T_WHITESPACE"," ",508],"=",["T_WHITESPACE"," ",508],["T_VARIABLE","$attrKey",508],";",["T_WHITESPACE","\n                    ",508],"}",["T_WHITESPACE","\n                ",509],"}",["T_WHITESPACE","\n            ",510],"}",["T_WHITESPACE","\n            ",511],["T_VARIABLE","$productData",512],["T_WHITESPACE"," ",512],"=",["T_WHITESPACE"," ",512],["T_VARIABLE","$this",512],["T_OBJECT_OPERATOR","->",512],["T_STRING","_filterDates",512],"(",["T_VARIABLE","$productData",512],",",["T_WHITESPACE"," ",512],["T_VARIABLE","$dateFields",512],")",";",["T_WHITESPACE","\n            ",512],["T_VARIABLE","$product",513],["T_OBJECT_OPERATOR","->",513],["T_STRING","addData",513],"(",["T_VARIABLE","$productData",513],")",";",["T_WHITESPACE","\n\n            ",513],["T_COMMENT","\/* set restrictions for date ranges *\/",515],["T_WHITESPACE","\n            ",515],["T_VARIABLE","$resource",516],["T_WHITESPACE"," ",516],"=",["T_WHITESPACE"," ",516],["T_VARIABLE","$product",516],["T_OBJECT_OPERATOR","->",516],["T_STRING","getResource",516],"(",")",";",["T_WHITESPACE","\n            ",516],["T_VARIABLE","$resource",517],["T_OBJECT_OPERATOR","->",517],["T_STRING","getAttribute",517],"(",["T_CONSTANT_ENCAPSED_STRING","'special_from_date'",517],")",["T_WHITESPACE","\n                ",517],["T_OBJECT_OPERATOR","->",518],["T_STRING","setMaxValue",518],"(",["T_VARIABLE","$product",518],["T_OBJECT_OPERATOR","->",518],["T_STRING","getSpecialToDate",518],"(",")",")",";",["T_WHITESPACE","\n            ",518],["T_VARIABLE","$resource",519],["T_OBJECT_OPERATOR","->",519],["T_STRING","getAttribute",519],"(",["T_CONSTANT_ENCAPSED_STRING","'news_from_date'",519],")",["T_WHITESPACE","\n                ",519],["T_OBJECT_OPERATOR","->",520],["T_STRING","setMaxValue",520],"(",["T_VARIABLE","$product",520],["T_OBJECT_OPERATOR","->",520],["T_STRING","getNewsToDate",520],"(",")",")",";",["T_WHITESPACE","\n            ",520],["T_VARIABLE","$resource",521],["T_OBJECT_OPERATOR","->",521],["T_STRING","getAttribute",521],"(",["T_CONSTANT_ENCAPSED_STRING","'custom_design_from'",521],")",["T_WHITESPACE","\n                ",521],["T_OBJECT_OPERATOR","->",522],["T_STRING","setMaxValue",522],"(",["T_VARIABLE","$product",522],["T_OBJECT_OPERATOR","->",522],["T_STRING","getCustomDesignTo",522],"(",")",")",";",["T_WHITESPACE","\n\n            ",522],["T_VARIABLE","$product",524],["T_OBJECT_OPERATOR","->",524],["T_STRING","validate",524],"(",")",";",["T_WHITESPACE","\n            ",524],["T_DOC_COMMENT","\/**\n             * @todo implement full validation process with errors returning which are ignoring now\n             *\/",525],["T_WHITESPACE","\n",527],["T_COMMENT","\/\/            if (is_array($errors = $product->validate())) {\n",528],["T_COMMENT","\/\/                foreach ($errors as $code => $error) {\n",529],["T_COMMENT","\/\/                    if ($error === true) {\n",530],["T_COMMENT","\/\/                        Mage::throwException(Mage::helper('catalog')->__('Attribute \"%s\" is invalid.', $product->getResource()->getAttribute($code)->getFrontend()->getLabel()));\n",531],["T_COMMENT","\/\/                    }\n",532],["T_COMMENT","\/\/                    else {\n",533],["T_COMMENT","\/\/                        Mage::throwException($error);\n",534],["T_COMMENT","\/\/                    }\n",535],["T_COMMENT","\/\/                }\n",536],["T_COMMENT","\/\/            }\n",537],["T_WHITESPACE","        ",538],"}",["T_WHITESPACE","\n        ",538],["T_CATCH","catch",539],["T_WHITESPACE"," ",539],"(",["T_STRING","Mage_Eav_Model_Entity_Attribute_Exception",539],["T_WHITESPACE"," ",539],["T_VARIABLE","$e",539],")",["T_WHITESPACE"," ",539],"{",["T_WHITESPACE","\n            ",539],["T_VARIABLE","$response",540],["T_OBJECT_OPERATOR","->",540],["T_STRING","setError",540],"(",["T_STRING","true",540],")",";",["T_WHITESPACE","\n            ",540],["T_VARIABLE","$response",541],["T_OBJECT_OPERATOR","->",541],["T_STRING","setAttribute",541],"(",["T_VARIABLE","$e",541],["T_OBJECT_OPERATOR","->",541],["T_STRING","getAttributeCode",541],"(",")",")",";",["T_WHITESPACE","\n            ",541],["T_VARIABLE","$response",542],["T_OBJECT_OPERATOR","->",542],["T_STRING","setMessage",542],"(",["T_VARIABLE","$e",542],["T_OBJECT_OPERATOR","->",542],["T_STRING","getMessage",542],"(",")",")",";",["T_WHITESPACE","\n        ",542],"}",["T_WHITESPACE"," ",543],["T_CATCH","catch",543],["T_WHITESPACE"," ",543],"(",["T_STRING","Mage_Core_Exception",543],["T_WHITESPACE"," ",543],["T_VARIABLE","$e",543],")",["T_WHITESPACE"," ",543],"{",["T_WHITESPACE","\n            ",543],["T_VARIABLE","$response",544],["T_OBJECT_OPERATOR","->",544],["T_STRING","setError",544],"(",["T_STRING","true",544],")",";",["T_WHITESPACE","\n            ",544],["T_VARIABLE","$response",545],["T_OBJECT_OPERATOR","->",545],["T_STRING","setMessage",545],"(",["T_VARIABLE","$e",545],["T_OBJECT_OPERATOR","->",545],["T_STRING","getMessage",545],"(",")",")",";",["T_WHITESPACE","\n        ",545],"}",["T_WHITESPACE"," ",546],["T_CATCH","catch",546],["T_WHITESPACE"," ",546],"(",["T_STRING","Exception",546],["T_WHITESPACE"," ",546],["T_VARIABLE","$e",546],")",["T_WHITESPACE"," ",546],"{",["T_WHITESPACE","\n            ",546],["T_VARIABLE","$this",547],["T_OBJECT_OPERATOR","->",547],["T_STRING","_getSession",547],"(",")",["T_OBJECT_OPERATOR","->",547],["T_STRING","addError",547],"(",["T_VARIABLE","$e",547],["T_OBJECT_OPERATOR","->",547],["T_STRING","getMessage",547],"(",")",")",";",["T_WHITESPACE","\n            ",547],["T_VARIABLE","$this",548],["T_OBJECT_OPERATOR","->",548],["T_STRING","_initLayoutMessages",548],"(",["T_CONSTANT_ENCAPSED_STRING","'adminhtml\/session'",548],")",";",["T_WHITESPACE","\n            ",548],["T_VARIABLE","$response",549],["T_OBJECT_OPERATOR","->",549],["T_STRING","setError",549],"(",["T_STRING","true",549],")",";",["T_WHITESPACE","\n            ",549],["T_VARIABLE","$response",550],["T_OBJECT_OPERATOR","->",550],["T_STRING","setMessage",550],"(",["T_VARIABLE","$this",550],["T_OBJECT_OPERATOR","->",550],["T_STRING","getLayout",550],"(",")",["T_OBJECT_OPERATOR","->",550],["T_STRING","getMessagesBlock",550],"(",")",["T_OBJECT_OPERATOR","->",550],["T_STRING","getGroupedHtml",550],"(",")",")",";",["T_WHITESPACE","\n        ",550],"}",["T_WHITESPACE","\n\n        ",551],["T_VARIABLE","$this",553],["T_OBJECT_OPERATOR","->",553],["T_STRING","getResponse",553],"(",")",["T_OBJECT_OPERATOR","->",553],["T_STRING","setBody",553],"(",["T_VARIABLE","$response",553],["T_OBJECT_OPERATOR","->",553],["T_STRING","toJson",553],"(",")",")",";",["T_WHITESPACE","\n    ",553],"}",["T_WHITESPACE","\n\n    ",554],["T_DOC_COMMENT","\/**\n     * Initialize product before saving\n     *\/",556],["T_WHITESPACE","\n    ",558],["T_PROTECTED","protected",559],["T_WHITESPACE"," ",559],["T_FUNCTION","function",559],["T_WHITESPACE"," ",559],["T_STRING","_initProductSave",559],"(",")",["T_WHITESPACE","\n    ",559],"{",["T_WHITESPACE","\n        ",560],["T_VARIABLE","$product",561],["T_WHITESPACE","     ",561],"=",["T_WHITESPACE"," ",561],["T_VARIABLE","$this",561],["T_OBJECT_OPERATOR","->",561],["T_STRING","_initProduct",561],"(",")",";",["T_WHITESPACE","\n        ",561],["T_VARIABLE","$productData",562],["T_WHITESPACE"," ",562],"=",["T_WHITESPACE"," ",562],["T_VARIABLE","$this",562],["T_OBJECT_OPERATOR","->",562],["T_STRING","getRequest",562],"(",")",["T_OBJECT_OPERATOR","->",562],["T_STRING","getPost",562],"(",["T_CONSTANT_ENCAPSED_STRING","'product'",562],")",";",["T_WHITESPACE","\n        ",562],["T_IF","if",563],["T_WHITESPACE"," ",563],"(",["T_VARIABLE","$productData",563],")",["T_WHITESPACE"," ",563],"{",["T_WHITESPACE","\n            ",563],["T_VARIABLE","$this",564],["T_OBJECT_OPERATOR","->",564],["T_STRING","_filterStockData",564],"(",["T_VARIABLE","$productData",564],"[",["T_CONSTANT_ENCAPSED_STRING","'stock_data'",564],"]",")",";",["T_WHITESPACE","\n        ",564],"}",["T_WHITESPACE","\n\n        ",565],["T_DOC_COMMENT","\/**\n         * Websites\n         *\/",567],["T_WHITESPACE","\n        ",569],["T_IF","if",570],["T_WHITESPACE"," ",570],"(","!",["T_ISSET","isset",570],"(",["T_VARIABLE","$productData",570],"[",["T_CONSTANT_ENCAPSED_STRING","'website_ids'",570],"]",")",")",["T_WHITESPACE"," ",570],"{",["T_WHITESPACE","\n            ",570],["T_VARIABLE","$productData",571],"[",["T_CONSTANT_ENCAPSED_STRING","'website_ids'",571],"]",["T_WHITESPACE"," ",571],"=",["T_WHITESPACE"," ",571],["T_ARRAY","array",571],"(",")",";",["T_WHITESPACE","\n        ",571],"}",["T_WHITESPACE","\n\n        ",572],["T_VARIABLE","$wasLockedMedia",574],["T_WHITESPACE"," ",574],"=",["T_WHITESPACE"," ",574],["T_STRING","false",574],";",["T_WHITESPACE","\n        ",574],["T_IF","if",575],["T_WHITESPACE"," ",575],"(",["T_VARIABLE","$product",575],["T_OBJECT_OPERATOR","->",575],["T_STRING","isLockedAttribute",575],"(",["T_CONSTANT_ENCAPSED_STRING","'media'",575],")",")",["T_WHITESPACE"," ",575],"{",["T_WHITESPACE","\n            ",575],["T_VARIABLE","$product",576],["T_OBJECT_OPERATOR","->",576],["T_STRING","unlockAttribute",576],"(",["T_CONSTANT_ENCAPSED_STRING","'media'",576],")",";",["T_WHITESPACE","\n            ",576],["T_VARIABLE","$wasLockedMedia",577],["T_WHITESPACE"," ",577],"=",["T_WHITESPACE"," ",577],["T_STRING","true",577],";",["T_WHITESPACE","\n        ",577],"}",["T_WHITESPACE","\n\n        ",578],["T_VARIABLE","$product",580],["T_OBJECT_OPERATOR","->",580],["T_STRING","addData",580],"(",["T_VARIABLE","$productData",580],")",";",["T_WHITESPACE","\n\n        ",580],["T_IF","if",582],["T_WHITESPACE"," ",582],"(",["T_VARIABLE","$wasLockedMedia",582],")",["T_WHITESPACE"," ",582],"{",["T_WHITESPACE","\n            ",582],["T_VARIABLE","$product",583],["T_OBJECT_OPERATOR","->",583],["T_STRING","lockAttribute",583],"(",["T_CONSTANT_ENCAPSED_STRING","'media'",583],")",";",["T_WHITESPACE","\n        ",583],"}",["T_WHITESPACE","\n\n        ",584],["T_IF","if",586],["T_WHITESPACE"," ",586],"(",["T_STRING","Mage",586],["T_DOUBLE_COLON","::",586],["T_STRING","app",586],"(",")",["T_OBJECT_OPERATOR","->",586],["T_STRING","isSingleStoreMode",586],"(",")",")",["T_WHITESPACE"," ",586],"{",["T_WHITESPACE","\n            ",586],["T_VARIABLE","$product",587],["T_OBJECT_OPERATOR","->",587],["T_STRING","setWebsiteIds",587],"(",["T_ARRAY","array",587],"(",["T_STRING","Mage",587],["T_DOUBLE_COLON","::",587],["T_STRING","app",587],"(",")",["T_OBJECT_OPERATOR","->",587],["T_STRING","getStore",587],"(",["T_STRING","true",587],")",["T_OBJECT_OPERATOR","->",587],["T_STRING","getWebsite",587],"(",")",["T_OBJECT_OPERATOR","->",587],["T_STRING","getId",587],"(",")",")",")",";",["T_WHITESPACE","\n        ",587],"}",["T_WHITESPACE","\n\n        ",588],["T_DOC_COMMENT","\/**\n         * Create Permanent Redirect for old URL key\n         *\/",590],["T_WHITESPACE","\n        ",592],["T_IF","if",593],["T_WHITESPACE"," ",593],"(",["T_VARIABLE","$product",593],["T_OBJECT_OPERATOR","->",593],["T_STRING","getId",593],"(",")",["T_WHITESPACE"," ",593],["T_BOOLEAN_AND","&&",593],["T_WHITESPACE"," ",593],["T_ISSET","isset",593],"(",["T_VARIABLE","$productData",593],"[",["T_CONSTANT_ENCAPSED_STRING","'url_key_create_redirect'",593],"]",")",")",["T_WHITESPACE","\n        ",593],["T_COMMENT","\/\/ && $product->getOrigData('url_key') != $product->getData('url_key')\n",594],["T_WHITESPACE","        ",595],"{",["T_WHITESPACE","\n            ",595],["T_VARIABLE","$product",596],["T_OBJECT_OPERATOR","->",596],["T_STRING","setData",596],"(",["T_CONSTANT_ENCAPSED_STRING","'save_rewrites_history'",596],",",["T_WHITESPACE"," ",596],["T_BOOL_CAST","(bool)",596],["T_VARIABLE","$productData",596],"[",["T_CONSTANT_ENCAPSED_STRING","'url_key_create_redirect'",596],"]",")",";",["T_WHITESPACE","\n        ",596],"}",["T_WHITESPACE","\n\n        ",597],["T_DOC_COMMENT","\/**\n         * Check \"Use Default Value\" checkboxes values\n         *\/",599],["T_WHITESPACE","\n        ",601],["T_IF","if",602],["T_WHITESPACE"," ",602],"(",["T_VARIABLE","$useDefaults",602],["T_WHITESPACE"," ",602],"=",["T_WHITESPACE"," ",602],["T_VARIABLE","$this",602],["T_OBJECT_OPERATOR","->",602],["T_STRING","getRequest",602],"(",")",["T_OBJECT_OPERATOR","->",602],["T_STRING","getPost",602],"(",["T_CONSTANT_ENCAPSED_STRING","'use_default'",602],")",")",["T_WHITESPACE"," ",602],"{",["T_WHITESPACE","\n            ",602],["T_FOREACH","foreach",603],["T_WHITESPACE"," ",603],"(",["T_VARIABLE","$useDefaults",603],["T_WHITESPACE"," ",603],["T_AS","as",603],["T_WHITESPACE"," ",603],["T_VARIABLE","$attributeCode",603],")",["T_WHITESPACE"," ",603],"{",["T_WHITESPACE","\n                ",603],["T_VARIABLE","$product",604],["T_OBJECT_OPERATOR","->",604],["T_STRING","setData",604],"(",["T_VARIABLE","$attributeCode",604],",",["T_WHITESPACE"," ",604],["T_STRING","false",604],")",";",["T_WHITESPACE","\n            ",604],"}",["T_WHITESPACE","\n        ",605],"}",["T_WHITESPACE","\n\n        ",606],["T_DOC_COMMENT","\/**\n         * Init product links data (related, upsell, crosssel)\n         *\/",608],["T_WHITESPACE","\n        ",610],["T_VARIABLE","$links",611],["T_WHITESPACE"," ",611],"=",["T_WHITESPACE"," ",611],["T_VARIABLE","$this",611],["T_OBJECT_OPERATOR","->",611],["T_STRING","getRequest",611],"(",")",["T_OBJECT_OPERATOR","->",611],["T_STRING","getPost",611],"(",["T_CONSTANT_ENCAPSED_STRING","'links'",611],")",";",["T_WHITESPACE","\n        ",611],["T_IF","if",612],["T_WHITESPACE"," ",612],"(",["T_ISSET","isset",612],"(",["T_VARIABLE","$links",612],"[",["T_CONSTANT_ENCAPSED_STRING","'related'",612],"]",")",["T_WHITESPACE"," ",612],["T_BOOLEAN_AND","&&",612],["T_WHITESPACE"," ",612],"!",["T_VARIABLE","$product",612],["T_OBJECT_OPERATOR","->",612],["T_STRING","getRelatedReadonly",612],"(",")",")",["T_WHITESPACE"," ",612],"{",["T_WHITESPACE","\n            ",612],["T_VARIABLE","$product",613],["T_OBJECT_OPERATOR","->",613],["T_STRING","setRelatedLinkData",613],"(",["T_STRING","Mage",613],["T_DOUBLE_COLON","::",613],["T_STRING","helper",613],"(",["T_CONSTANT_ENCAPSED_STRING","'adminhtml\/js'",613],")",["T_OBJECT_OPERATOR","->",613],["T_STRING","decodeGridSerializedInput",613],"(",["T_VARIABLE","$links",613],"[",["T_CONSTANT_ENCAPSED_STRING","'related'",613],"]",")",")",";",["T_WHITESPACE","\n        ",613],"}",["T_WHITESPACE","\n        ",614],["T_IF","if",615],["T_WHITESPACE"," ",615],"(",["T_ISSET","isset",615],"(",["T_VARIABLE","$links",615],"[",["T_CONSTANT_ENCAPSED_STRING","'upsell'",615],"]",")",["T_WHITESPACE"," ",615],["T_BOOLEAN_AND","&&",615],["T_WHITESPACE"," ",615],"!",["T_VARIABLE","$product",615],["T_OBJECT_OPERATOR","->",615],["T_STRING","getUpsellReadonly",615],"(",")",")",["T_WHITESPACE"," ",615],"{",["T_WHITESPACE","\n            ",615],["T_VARIABLE","$product",616],["T_OBJECT_OPERATOR","->",616],["T_STRING","setUpSellLinkData",616],"(",["T_STRING","Mage",616],["T_DOUBLE_COLON","::",616],["T_STRING","helper",616],"(",["T_CONSTANT_ENCAPSED_STRING","'adminhtml\/js'",616],")",["T_OBJECT_OPERATOR","->",616],["T_STRING","decodeGridSerializedInput",616],"(",["T_VARIABLE","$links",616],"[",["T_CONSTANT_ENCAPSED_STRING","'upsell'",616],"]",")",")",";",["T_WHITESPACE","\n        ",616],"}",["T_WHITESPACE","\n        ",617],["T_IF","if",618],["T_WHITESPACE"," ",618],"(",["T_ISSET","isset",618],"(",["T_VARIABLE","$links",618],"[",["T_CONSTANT_ENCAPSED_STRING","'crosssell'",618],"]",")",["T_WHITESPACE"," ",618],["T_BOOLEAN_AND","&&",618],["T_WHITESPACE"," ",618],"!",["T_VARIABLE","$product",618],["T_OBJECT_OPERATOR","->",618],["T_STRING","getCrosssellReadonly",618],"(",")",")",["T_WHITESPACE"," ",618],"{",["T_WHITESPACE","\n            ",618],["T_VARIABLE","$product",619],["T_OBJECT_OPERATOR","->",619],["T_STRING","setCrossSellLinkData",619],"(",["T_STRING","Mage",619],["T_DOUBLE_COLON","::",619],["T_STRING","helper",619],"(",["T_CONSTANT_ENCAPSED_STRING","'adminhtml\/js'",619],")",["T_WHITESPACE","\n                ",619],["T_OBJECT_OPERATOR","->",620],["T_STRING","decodeGridSerializedInput",620],"(",["T_VARIABLE","$links",620],"[",["T_CONSTANT_ENCAPSED_STRING","'crosssell'",620],"]",")",")",";",["T_WHITESPACE","\n        ",620],"}",["T_WHITESPACE","\n        ",621],["T_IF","if",622],["T_WHITESPACE"," ",622],"(",["T_ISSET","isset",622],"(",["T_VARIABLE","$links",622],"[",["T_CONSTANT_ENCAPSED_STRING","'grouped'",622],"]",")",["T_WHITESPACE"," ",622],["T_BOOLEAN_AND","&&",622],["T_WHITESPACE"," ",622],"!",["T_VARIABLE","$product",622],["T_OBJECT_OPERATOR","->",622],["T_STRING","getGroupedReadonly",622],"(",")",")",["T_WHITESPACE"," ",622],"{",["T_WHITESPACE","\n            ",622],["T_VARIABLE","$product",623],["T_OBJECT_OPERATOR","->",623],["T_STRING","setGroupedLinkData",623],"(",["T_STRING","Mage",623],["T_DOUBLE_COLON","::",623],["T_STRING","helper",623],"(",["T_CONSTANT_ENCAPSED_STRING","'adminhtml\/js'",623],")",["T_OBJECT_OPERATOR","->",623],["T_STRING","decodeGridSerializedInput",623],"(",["T_VARIABLE","$links",623],"[",["T_CONSTANT_ENCAPSED_STRING","'grouped'",623],"]",")",")",";",["T_WHITESPACE","\n        ",623],"}",["T_WHITESPACE","\n\n        ",624],["T_DOC_COMMENT","\/**\n         * Initialize product categories\n         *\/",626],["T_WHITESPACE","\n        ",628],["T_VARIABLE","$categoryIds",629],["T_WHITESPACE"," ",629],"=",["T_WHITESPACE"," ",629],["T_VARIABLE","$this",629],["T_OBJECT_OPERATOR","->",629],["T_STRING","getRequest",629],"(",")",["T_OBJECT_OPERATOR","->",629],["T_STRING","getPost",629],"(",["T_CONSTANT_ENCAPSED_STRING","'category_ids'",629],")",";",["T_WHITESPACE","\n        ",629],["T_IF","if",630],["T_WHITESPACE"," ",630],"(",["T_STRING","null",630],["T_WHITESPACE"," ",630],["T_IS_NOT_IDENTICAL","!==",630],["T_WHITESPACE"," ",630],["T_VARIABLE","$categoryIds",630],")",["T_WHITESPACE"," ",630],"{",["T_WHITESPACE","\n            ",630],["T_IF","if",631],["T_WHITESPACE"," ",631],"(",["T_EMPTY","empty",631],"(",["T_VARIABLE","$categoryIds",631],")",")",["T_WHITESPACE"," ",631],"{",["T_WHITESPACE","\n                ",631],["T_VARIABLE","$categoryIds",632],["T_WHITESPACE"," ",632],"=",["T_WHITESPACE"," ",632],["T_ARRAY","array",632],"(",")",";",["T_WHITESPACE","\n            ",632],"}",["T_WHITESPACE","\n            ",633],["T_VARIABLE","$product",634],["T_OBJECT_OPERATOR","->",634],["T_STRING","setCategoryIds",634],"(",["T_VARIABLE","$categoryIds",634],")",";",["T_WHITESPACE","\n        ",634],"}",["T_WHITESPACE","\n\n        ",635],["T_DOC_COMMENT","\/**\n         * Initialize data for configurable product\n         *\/",637],["T_WHITESPACE","\n        ",639],["T_IF","if",640],["T_WHITESPACE"," ",640],"(","(",["T_VARIABLE","$data",640],["T_WHITESPACE"," ",640],"=",["T_WHITESPACE"," ",640],["T_VARIABLE","$this",640],["T_OBJECT_OPERATOR","->",640],["T_STRING","getRequest",640],"(",")",["T_OBJECT_OPERATOR","->",640],["T_STRING","getPost",640],"(",["T_CONSTANT_ENCAPSED_STRING","'configurable_products_data'",640],")",")",["T_WHITESPACE","\n            ",640],["T_BOOLEAN_AND","&&",641],["T_WHITESPACE"," ",641],"!",["T_VARIABLE","$product",641],["T_OBJECT_OPERATOR","->",641],["T_STRING","getConfigurableReadonly",641],"(",")",["T_WHITESPACE","\n        ",641],")",["T_WHITESPACE"," ",642],"{",["T_WHITESPACE","\n            ",642],["T_VARIABLE","$product",643],["T_OBJECT_OPERATOR","->",643],["T_STRING","setConfigurableProductsData",643],"(",["T_STRING","Mage",643],["T_DOUBLE_COLON","::",643],["T_STRING","helper",643],"(",["T_CONSTANT_ENCAPSED_STRING","'core'",643],")",["T_OBJECT_OPERATOR","->",643],["T_STRING","jsonDecode",643],"(",["T_VARIABLE","$data",643],")",")",";",["T_WHITESPACE","\n        ",643],"}",["T_WHITESPACE","\n        ",644],["T_IF","if",645],["T_WHITESPACE"," ",645],"(","(",["T_VARIABLE","$data",645],["T_WHITESPACE"," ",645],"=",["T_WHITESPACE"," ",645],["T_VARIABLE","$this",645],["T_OBJECT_OPERATOR","->",645],["T_STRING","getRequest",645],"(",")",["T_OBJECT_OPERATOR","->",645],["T_STRING","getPost",645],"(",["T_CONSTANT_ENCAPSED_STRING","'configurable_attributes_data'",645],")",")",["T_WHITESPACE","\n            ",645],["T_BOOLEAN_AND","&&",646],["T_WHITESPACE"," ",646],"!",["T_VARIABLE","$product",646],["T_OBJECT_OPERATOR","->",646],["T_STRING","getConfigurableReadonly",646],"(",")",["T_WHITESPACE","\n        ",646],")",["T_WHITESPACE"," ",647],"{",["T_WHITESPACE","\n            ",647],["T_VARIABLE","$product",648],["T_OBJECT_OPERATOR","->",648],["T_STRING","setConfigurableAttributesData",648],"(",["T_STRING","Mage",648],["T_DOUBLE_COLON","::",648],["T_STRING","helper",648],"(",["T_CONSTANT_ENCAPSED_STRING","'core'",648],")",["T_OBJECT_OPERATOR","->",648],["T_STRING","jsonDecode",648],"(",["T_VARIABLE","$data",648],")",")",";",["T_WHITESPACE","\n        ",648],"}",["T_WHITESPACE","\n\n        ",649],["T_VARIABLE","$product",651],["T_OBJECT_OPERATOR","->",651],["T_STRING","setCanSaveConfigurableAttributes",651],"(",["T_WHITESPACE","\n            ",651],["T_BOOL_CAST","(bool)",652],["T_WHITESPACE"," ",652],["T_VARIABLE","$this",652],["T_OBJECT_OPERATOR","->",652],["T_STRING","getRequest",652],"(",")",["T_OBJECT_OPERATOR","->",652],["T_STRING","getPost",652],"(",["T_CONSTANT_ENCAPSED_STRING","'affect_configurable_product_attributes'",652],")",["T_WHITESPACE","\n                ",652],["T_BOOLEAN_AND","&&",653],["T_WHITESPACE"," ",653],"!",["T_VARIABLE","$product",653],["T_OBJECT_OPERATOR","->",653],["T_STRING","getConfigurableReadonly",653],"(",")",["T_WHITESPACE","\n        ",653],")",";",["T_WHITESPACE","\n\n        ",654],["T_DOC_COMMENT","\/**\n         * Initialize product options\n         *\/",656],["T_WHITESPACE","\n        ",658],["T_IF","if",659],["T_WHITESPACE"," ",659],"(",["T_ISSET","isset",659],"(",["T_VARIABLE","$productData",659],"[",["T_CONSTANT_ENCAPSED_STRING","'options'",659],"]",")",["T_WHITESPACE"," ",659],["T_BOOLEAN_AND","&&",659],["T_WHITESPACE"," ",659],"!",["T_VARIABLE","$product",659],["T_OBJECT_OPERATOR","->",659],["T_STRING","getOptionsReadonly",659],"(",")",")",["T_WHITESPACE"," ",659],"{",["T_WHITESPACE","\n            ",659],["T_VARIABLE","$product",660],["T_OBJECT_OPERATOR","->",660],["T_STRING","setProductOptions",660],"(",["T_VARIABLE","$productData",660],"[",["T_CONSTANT_ENCAPSED_STRING","'options'",660],"]",")",";",["T_WHITESPACE","\n        ",660],"}",["T_WHITESPACE","\n\n        ",661],["T_VARIABLE","$product",663],["T_OBJECT_OPERATOR","->",663],["T_STRING","setCanSaveCustomOptions",663],"(",["T_WHITESPACE","\n            ",663],["T_BOOL_CAST","(bool)",664],["T_VARIABLE","$this",664],["T_OBJECT_OPERATOR","->",664],["T_STRING","getRequest",664],"(",")",["T_OBJECT_OPERATOR","->",664],["T_STRING","getPost",664],"(",["T_CONSTANT_ENCAPSED_STRING","'affect_product_custom_options'",664],")",["T_WHITESPACE","\n            ",664],["T_BOOLEAN_AND","&&",665],["T_WHITESPACE"," ",665],"!",["T_VARIABLE","$product",665],["T_OBJECT_OPERATOR","->",665],["T_STRING","getOptionsReadonly",665],"(",")",["T_WHITESPACE","\n        ",665],")",";",["T_WHITESPACE","\n\n        ",666],["T_STRING","Mage",668],["T_DOUBLE_COLON","::",668],["T_STRING","dispatchEvent",668],"(",["T_WHITESPACE","\n            ",668],["T_CONSTANT_ENCAPSED_STRING","'catalog_product_prepare_save'",669],",",["T_WHITESPACE","\n            ",669],["T_ARRAY","array",670],"(",["T_CONSTANT_ENCAPSED_STRING","'product'",670],["T_WHITESPACE"," ",670],["T_DOUBLE_ARROW","=>",670],["T_WHITESPACE"," ",670],["T_VARIABLE","$product",670],",",["T_WHITESPACE"," ",670],["T_CONSTANT_ENCAPSED_STRING","'request'",670],["T_WHITESPACE"," ",670],["T_DOUBLE_ARROW","=>",670],["T_WHITESPACE"," ",670],["T_VARIABLE","$this",670],["T_OBJECT_OPERATOR","->",670],["T_STRING","getRequest",670],"(",")",")",["T_WHITESPACE","\n        ",670],")",";",["T_WHITESPACE","\n\n        ",671],["T_RETURN","return",673],["T_WHITESPACE"," ",673],["T_VARIABLE","$product",673],";",["T_WHITESPACE","\n    ",673],"}",["T_WHITESPACE","\n\n    ",674],["T_DOC_COMMENT","\/**\n     * Filter product stock data\n     *\n     * @param array $stockData\n     * @return null\n     *\/",676],["T_WHITESPACE","\n    ",681],["T_PROTECTED","protected",682],["T_WHITESPACE"," ",682],["T_FUNCTION","function",682],["T_WHITESPACE"," ",682],["T_STRING","_filterStockData",682],"(","&",["T_VARIABLE","$stockData",682],")",["T_WHITESPACE","\n    ",682],"{",["T_WHITESPACE","\n        ",683],["T_IF","if",684],["T_WHITESPACE"," ",684],"(",["T_STRING","is_null",684],"(",["T_VARIABLE","$stockData",684],")",")",["T_WHITESPACE"," ",684],"{",["T_WHITESPACE","\n            ",684],["T_RETURN","return",685],";",["T_WHITESPACE","\n        ",685],"}",["T_WHITESPACE","\n        ",686],["T_IF","if",687],["T_WHITESPACE"," ",687],"(","!",["T_ISSET","isset",687],"(",["T_VARIABLE","$stockData",687],"[",["T_CONSTANT_ENCAPSED_STRING","'use_config_manage_stock'",687],"]",")",")",["T_WHITESPACE"," ",687],"{",["T_WHITESPACE","\n            ",687],["T_VARIABLE","$stockData",688],"[",["T_CONSTANT_ENCAPSED_STRING","'use_config_manage_stock'",688],"]",["T_WHITESPACE"," ",688],"=",["T_WHITESPACE"," ",688],["T_LNUMBER","0",688],";",["T_WHITESPACE","\n        ",688],"}",["T_WHITESPACE","\n        ",689],["T_IF","if",690],["T_WHITESPACE"," ",690],"(",["T_ISSET","isset",690],"(",["T_VARIABLE","$stockData",690],"[",["T_CONSTANT_ENCAPSED_STRING","'qty'",690],"]",")",["T_WHITESPACE"," ",690],["T_BOOLEAN_AND","&&",690],["T_WHITESPACE"," ",690],["T_DOUBLE_CAST","(float)",690],["T_VARIABLE","$stockData",690],"[",["T_CONSTANT_ENCAPSED_STRING","'qty'",690],"]",["T_WHITESPACE"," ",690],">",["T_WHITESPACE"," ",690],["T_STRING","self",690],["T_DOUBLE_COLON","::",690],["T_STRING","MAX_QTY_VALUE",690],")",["T_WHITESPACE"," ",690],"{",["T_WHITESPACE","\n            ",690],["T_VARIABLE","$stockData",691],"[",["T_CONSTANT_ENCAPSED_STRING","'qty'",691],"]",["T_WHITESPACE"," ",691],"=",["T_WHITESPACE"," ",691],["T_STRING","self",691],["T_DOUBLE_COLON","::",691],["T_STRING","MAX_QTY_VALUE",691],";",["T_WHITESPACE","\n        ",691],"}",["T_WHITESPACE","\n        ",692],["T_IF","if",693],["T_WHITESPACE"," ",693],"(",["T_ISSET","isset",693],"(",["T_VARIABLE","$stockData",693],"[",["T_CONSTANT_ENCAPSED_STRING","'min_qty'",693],"]",")",["T_WHITESPACE"," ",693],["T_BOOLEAN_AND","&&",693],["T_WHITESPACE"," ",693],["T_INT_CAST","(int)",693],["T_VARIABLE","$stockData",693],"[",["T_CONSTANT_ENCAPSED_STRING","'min_qty'",693],"]",["T_WHITESPACE"," ",693],"<",["T_WHITESPACE"," ",693],["T_LNUMBER","0",693],")",["T_WHITESPACE"," ",693],"{",["T_WHITESPACE","\n            ",693],["T_VARIABLE","$stockData",694],"[",["T_CONSTANT_ENCAPSED_STRING","'min_qty'",694],"]",["T_WHITESPACE"," ",694],"=",["T_WHITESPACE"," ",694],["T_LNUMBER","0",694],";",["T_WHITESPACE","\n        ",694],"}",["T_WHITESPACE","\n        ",695],["T_IF","if",696],["T_WHITESPACE"," ",696],"(","!",["T_ISSET","isset",696],"(",["T_VARIABLE","$stockData",696],"[",["T_CONSTANT_ENCAPSED_STRING","'is_decimal_divided'",696],"]",")",["T_WHITESPACE"," ",696],["T_BOOLEAN_OR","||",696],["T_WHITESPACE"," ",696],["T_VARIABLE","$stockData",696],"[",["T_CONSTANT_ENCAPSED_STRING","'is_qty_decimal'",696],"]",["T_WHITESPACE"," ",696],["T_IS_EQUAL","==",696],["T_WHITESPACE"," ",696],["T_LNUMBER","0",696],")",["T_WHITESPACE"," ",696],"{",["T_WHITESPACE","\n            ",696],["T_VARIABLE","$stockData",697],"[",["T_CONSTANT_ENCAPSED_STRING","'is_decimal_divided'",697],"]",["T_WHITESPACE"," ",697],"=",["T_WHITESPACE"," ",697],["T_LNUMBER","0",697],";",["T_WHITESPACE","\n        ",697],"}",["T_WHITESPACE","\n    ",698],"}",["T_WHITESPACE","\n\n    ",699],["T_PUBLIC","public",701],["T_WHITESPACE"," ",701],["T_FUNCTION","function",701],["T_WHITESPACE"," ",701],["T_STRING","categoriesJsonAction",701],"(",")",["T_WHITESPACE","\n    ",701],"{",["T_WHITESPACE","\n        ",702],["T_VARIABLE","$product",703],["T_WHITESPACE"," ",703],"=",["T_WHITESPACE"," ",703],["T_VARIABLE","$this",703],["T_OBJECT_OPERATOR","->",703],["T_STRING","_initProduct",703],"(",")",";",["T_WHITESPACE","\n\n        ",703],["T_VARIABLE","$this",705],["T_OBJECT_OPERATOR","->",705],["T_STRING","getResponse",705],"(",")",["T_OBJECT_OPERATOR","->",705],["T_STRING","setBody",705],"(",["T_WHITESPACE","\n            ",705],["T_VARIABLE","$this",706],["T_OBJECT_OPERATOR","->",706],["T_STRING","getLayout",706],"(",")",["T_OBJECT_OPERATOR","->",706],["T_STRING","createBlock",706],"(",["T_CONSTANT_ENCAPSED_STRING","'adminhtml\/catalog_product_edit_tab_categories'",706],")",["T_WHITESPACE","\n                ",706],["T_OBJECT_OPERATOR","->",707],["T_STRING","getCategoryChildrenJson",707],"(",["T_VARIABLE","$this",707],["T_OBJECT_OPERATOR","->",707],["T_STRING","getRequest",707],"(",")",["T_OBJECT_OPERATOR","->",707],["T_STRING","getParam",707],"(",["T_CONSTANT_ENCAPSED_STRING","'category'",707],")",")",["T_WHITESPACE","\n        ",707],")",";",["T_WHITESPACE","\n    ",708],"}",["T_WHITESPACE","\n\n    ",709],["T_DOC_COMMENT","\/**\n     * Save product action\n     *\/",711],["T_WHITESPACE","\n    ",713],["T_PUBLIC","public",714],["T_WHITESPACE"," ",714],["T_FUNCTION","function",714],["T_WHITESPACE"," ",714],["T_STRING","saveAction",714],"(",")",["T_WHITESPACE","\n    ",714],"{",["T_WHITESPACE","\n        ",715],["T_VARIABLE","$storeId",716],["T_WHITESPACE","        ",716],"=",["T_WHITESPACE"," ",716],["T_VARIABLE","$this",716],["T_OBJECT_OPERATOR","->",716],["T_STRING","getRequest",716],"(",")",["T_OBJECT_OPERATOR","->",716],["T_STRING","getParam",716],"(",["T_CONSTANT_ENCAPSED_STRING","'store'",716],")",";",["T_WHITESPACE","\n        ",716],["T_VARIABLE","$redirectBack",717],["T_WHITESPACE","   ",717],"=",["T_WHITESPACE"," ",717],["T_VARIABLE","$this",717],["T_OBJECT_OPERATOR","->",717],["T_STRING","getRequest",717],"(",")",["T_OBJECT_OPERATOR","->",717],["T_STRING","getParam",717],"(",["T_CONSTANT_ENCAPSED_STRING","'back'",717],",",["T_WHITESPACE"," ",717],["T_STRING","false",717],")",";",["T_WHITESPACE","\n        ",717],["T_VARIABLE","$productId",718],["T_WHITESPACE","      ",718],"=",["T_WHITESPACE"," ",718],["T_VARIABLE","$this",718],["T_OBJECT_OPERATOR","->",718],["T_STRING","getRequest",718],"(",")",["T_OBJECT_OPERATOR","->",718],["T_STRING","getParam",718],"(",["T_CONSTANT_ENCAPSED_STRING","'id'",718],")",";",["T_WHITESPACE","\n        ",718],["T_VARIABLE","$isEdit",719],["T_WHITESPACE","         ",719],"=",["T_WHITESPACE"," ",719],["T_INT_CAST","(int)",719],"(",["T_VARIABLE","$this",719],["T_OBJECT_OPERATOR","->",719],["T_STRING","getRequest",719],"(",")",["T_OBJECT_OPERATOR","->",719],["T_STRING","getParam",719],"(",["T_CONSTANT_ENCAPSED_STRING","'id'",719],")",["T_WHITESPACE"," ",719],["T_IS_NOT_EQUAL","!=",719],["T_WHITESPACE"," ",719],["T_STRING","null",719],")",";",["T_WHITESPACE","\n\n        ",719],["T_VARIABLE","$data",721],["T_WHITESPACE"," ",721],"=",["T_WHITESPACE"," ",721],["T_VARIABLE","$this",721],["T_OBJECT_OPERATOR","->",721],["T_STRING","getRequest",721],"(",")",["T_OBJECT_OPERATOR","->",721],["T_STRING","getPost",721],"(",")",";",["T_WHITESPACE","\n        ",721],["T_IF","if",722],["T_WHITESPACE"," ",722],"(",["T_VARIABLE","$data",722],")",["T_WHITESPACE"," ",722],"{",["T_WHITESPACE","\n            ",722],["T_VARIABLE","$this",723],["T_OBJECT_OPERATOR","->",723],["T_STRING","_filterStockData",723],"(",["T_VARIABLE","$data",723],"[",["T_CONSTANT_ENCAPSED_STRING","'product'",723],"]","[",["T_CONSTANT_ENCAPSED_STRING","'stock_data'",723],"]",")",";",["T_WHITESPACE","\n\n            ",723],["T_VARIABLE","$product",725],["T_WHITESPACE"," ",725],"=",["T_WHITESPACE"," ",725],["T_VARIABLE","$this",725],["T_OBJECT_OPERATOR","->",725],["T_STRING","_initProductSave",725],"(",")",";",["T_WHITESPACE","\n\n            ",725],["T_TRY","try",727],["T_WHITESPACE"," ",727],"{",["T_WHITESPACE","\n                ",727],["T_VARIABLE","$product",728],["T_OBJECT_OPERATOR","->",728],["T_STRING","save",728],"(",")",";",["T_WHITESPACE","\n                ",728],["T_VARIABLE","$productId",729],["T_WHITESPACE"," ",729],"=",["T_WHITESPACE"," ",729],["T_VARIABLE","$product",729],["T_OBJECT_OPERATOR","->",729],["T_STRING","getId",729],"(",")",";",["T_WHITESPACE","\n\n                ",729],["T_IF","if",731],["T_WHITESPACE"," ",731],"(",["T_ISSET","isset",731],"(",["T_VARIABLE","$data",731],"[",["T_CONSTANT_ENCAPSED_STRING","'copy_to_stores'",731],"]",")",")",["T_WHITESPACE"," ",731],"{",["T_WHITESPACE","\n                   ",731],["T_VARIABLE","$this",732],["T_OBJECT_OPERATOR","->",732],["T_STRING","_copyAttributesBetweenStores",732],"(",["T_VARIABLE","$data",732],"[",["T_CONSTANT_ENCAPSED_STRING","'copy_to_stores'",732],"]",",",["T_WHITESPACE"," ",732],["T_VARIABLE","$product",732],")",";",["T_WHITESPACE","\n                ",732],"}",["T_WHITESPACE","\n\n                ",733],["T_VARIABLE","$this",735],["T_OBJECT_OPERATOR","->",735],["T_STRING","_getSession",735],"(",")",["T_OBJECT_OPERATOR","->",735],["T_STRING","addSuccess",735],"(",["T_VARIABLE","$this",735],["T_OBJECT_OPERATOR","->",735],["T_STRING","__",735],"(",["T_CONSTANT_ENCAPSED_STRING","'The product has been saved.'",735],")",")",";",["T_WHITESPACE","\n            ",735],"}",["T_WHITESPACE"," ",736],["T_CATCH","catch",736],["T_WHITESPACE"," ",736],"(",["T_STRING","Mage_Core_Exception",736],["T_WHITESPACE"," ",736],["T_VARIABLE","$e",736],")",["T_WHITESPACE"," ",736],"{",["T_WHITESPACE","\n                ",736],["T_VARIABLE","$this",737],["T_OBJECT_OPERATOR","->",737],["T_STRING","_getSession",737],"(",")",["T_OBJECT_OPERATOR","->",737],["T_STRING","addError",737],"(",["T_VARIABLE","$e",737],["T_OBJECT_OPERATOR","->",737],["T_STRING","getMessage",737],"(",")",")",["T_WHITESPACE","\n                    ",737],["T_OBJECT_OPERATOR","->",738],["T_STRING","setProductData",738],"(",["T_VARIABLE","$data",738],")",";",["T_WHITESPACE","\n                ",738],["T_VARIABLE","$redirectBack",739],["T_WHITESPACE"," ",739],"=",["T_WHITESPACE"," ",739],["T_STRING","true",739],";",["T_WHITESPACE","\n            ",739],"}",["T_WHITESPACE"," ",740],["T_CATCH","catch",740],["T_WHITESPACE"," ",740],"(",["T_STRING","Exception",740],["T_WHITESPACE"," ",740],["T_VARIABLE","$e",740],")",["T_WHITESPACE"," ",740],"{",["T_WHITESPACE","\n                ",740],["T_STRING","Mage",741],["T_DOUBLE_COLON","::",741],["T_STRING","logException",741],"(",["T_VARIABLE","$e",741],")",";",["T_WHITESPACE","\n                ",741],["T_VARIABLE","$this",742],["T_OBJECT_OPERATOR","->",742],["T_STRING","_getSession",742],"(",")",["T_OBJECT_OPERATOR","->",742],["T_STRING","addError",742],"(",["T_VARIABLE","$e",742],["T_OBJECT_OPERATOR","->",742],["T_STRING","getMessage",742],"(",")",")",";",["T_WHITESPACE","\n                ",742],["T_VARIABLE","$redirectBack",743],["T_WHITESPACE"," ",743],"=",["T_WHITESPACE"," ",743],["T_STRING","true",743],";",["T_WHITESPACE","\n            ",743],"}",["T_WHITESPACE","\n        ",744],"}",["T_WHITESPACE","\n\n        ",745],["T_IF","if",747],["T_WHITESPACE"," ",747],"(",["T_VARIABLE","$redirectBack",747],")",["T_WHITESPACE"," ",747],"{",["T_WHITESPACE","\n            ",747],["T_VARIABLE","$this",748],["T_OBJECT_OPERATOR","->",748],["T_STRING","_redirect",748],"(",["T_CONSTANT_ENCAPSED_STRING","'*\/*\/edit'",748],",",["T_WHITESPACE"," ",748],["T_ARRAY","array",748],"(",["T_WHITESPACE","\n                ",748],["T_CONSTANT_ENCAPSED_STRING","'id'",749],["T_WHITESPACE","    ",749],["T_DOUBLE_ARROW","=>",749],["T_WHITESPACE"," ",749],["T_VARIABLE","$productId",749],",",["T_WHITESPACE","\n                ",749],["T_CONSTANT_ENCAPSED_STRING","'_current'",750],["T_DOUBLE_ARROW","=>",750],["T_STRING","true",750],["T_WHITESPACE","\n            ",750],")",")",";",["T_WHITESPACE","\n        ",751],"}",["T_WHITESPACE"," ",752],["T_ELSEIF","elseif",752],"(",["T_VARIABLE","$this",752],["T_OBJECT_OPERATOR","->",752],["T_STRING","getRequest",752],"(",")",["T_OBJECT_OPERATOR","->",752],["T_STRING","getParam",752],"(",["T_CONSTANT_ENCAPSED_STRING","'popup'",752],")",")",["T_WHITESPACE"," ",752],"{",["T_WHITESPACE","\n            ",752],["T_VARIABLE","$this",753],["T_OBJECT_OPERATOR","->",753],["T_STRING","_redirect",753],"(",["T_CONSTANT_ENCAPSED_STRING","'*\/*\/created'",753],",",["T_WHITESPACE"," ",753],["T_ARRAY","array",753],"(",["T_WHITESPACE","\n                ",753],["T_CONSTANT_ENCAPSED_STRING","'_current'",754],["T_WHITESPACE","   ",754],["T_DOUBLE_ARROW","=>",754],["T_WHITESPACE"," ",754],["T_STRING","true",754],",",["T_WHITESPACE","\n                ",754],["T_CONSTANT_ENCAPSED_STRING","'id'",755],["T_WHITESPACE","         ",755],["T_DOUBLE_ARROW","=>",755],["T_WHITESPACE"," ",755],["T_VARIABLE","$productId",755],",",["T_WHITESPACE","\n                ",755],["T_CONSTANT_ENCAPSED_STRING","'edit'",756],["T_WHITESPACE","       ",756],["T_DOUBLE_ARROW","=>",756],["T_WHITESPACE"," ",756],["T_VARIABLE","$isEdit",756],["T_WHITESPACE","\n            ",756],")",")",";",["T_WHITESPACE","\n        ",757],"}",["T_WHITESPACE"," ",758],["T_ELSE","else",758],["T_WHITESPACE"," ",758],"{",["T_WHITESPACE","\n            ",758],["T_VARIABLE","$this",759],["T_OBJECT_OPERATOR","->",759],["T_STRING","_redirect",759],"(",["T_CONSTANT_ENCAPSED_STRING","'*\/*\/'",759],",",["T_WHITESPACE"," ",759],["T_ARRAY","array",759],"(",["T_CONSTANT_ENCAPSED_STRING","'store'",759],["T_DOUBLE_ARROW","=>",759],["T_VARIABLE","$storeId",759],")",")",";",["T_WHITESPACE","\n        ",759],"}",["T_WHITESPACE","\n    ",760],"}",["T_WHITESPACE","\n\n    ",761],["T_DOC_COMMENT","\/**\n     * Duplicates product attributes between stores.\n     * @param array $stores list of store pairs: array(fromStore => toStore, fromStore => toStore,..)\n     * @param Mage_Catalog_Model_Product $product whose attributes should be copied\n     * @return $this\n     *\/",763],["T_WHITESPACE","\n    ",768],["T_PROTECTED","protected",769],["T_WHITESPACE"," ",769],["T_FUNCTION","function",769],["T_WHITESPACE"," ",769],["T_STRING","_copyAttributesBetweenStores",769],"(",["T_ARRAY","array",769],["T_WHITESPACE"," ",769],["T_VARIABLE","$stores",769],",",["T_WHITESPACE"," ",769],["T_STRING","Mage_Catalog_Model_Product",769],["T_WHITESPACE"," ",769],["T_VARIABLE","$product",769],")",["T_WHITESPACE","\n    ",769],"{",["T_WHITESPACE","\n        ",770],["T_FOREACH","foreach",771],["T_WHITESPACE"," ",771],"(",["T_VARIABLE","$stores",771],["T_WHITESPACE"," ",771],["T_AS","as",771],["T_WHITESPACE"," ",771],["T_VARIABLE","$storeTo",771],["T_WHITESPACE"," ",771],["T_DOUBLE_ARROW","=>",771],["T_WHITESPACE"," ",771],["T_VARIABLE","$storeFrom",771],")",["T_WHITESPACE"," ",771],"{",["T_WHITESPACE","\n            ",771],["T_VARIABLE","$productInStore",772],["T_WHITESPACE"," ",772],"=",["T_WHITESPACE"," ",772],["T_STRING","Mage",772],["T_DOUBLE_COLON","::",772],["T_STRING","getModel",772],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog\/product'",772],")",["T_WHITESPACE","\n                ",772],["T_OBJECT_OPERATOR","->",773],["T_STRING","setStoreId",773],"(",["T_VARIABLE","$storeFrom",773],")",["T_WHITESPACE","\n                ",773],["T_OBJECT_OPERATOR","->",774],["T_STRING","load",774],"(",["T_VARIABLE","$product",774],["T_OBJECT_OPERATOR","->",774],["T_STRING","getId",774],"(",")",")",";",["T_WHITESPACE","\n            ",774],["T_STRING","Mage",775],["T_DOUBLE_COLON","::",775],["T_STRING","dispatchEvent",775],"(",["T_CONSTANT_ENCAPSED_STRING","'product_duplicate_attributes'",775],",",["T_WHITESPACE"," ",775],["T_ARRAY","array",775],"(",["T_WHITESPACE","\n                ",775],["T_CONSTANT_ENCAPSED_STRING","'product'",776],["T_WHITESPACE"," ",776],["T_DOUBLE_ARROW","=>",776],["T_WHITESPACE"," ",776],["T_VARIABLE","$productInStore",776],",",["T_WHITESPACE","\n                ",776],["T_CONSTANT_ENCAPSED_STRING","'storeTo'",777],["T_WHITESPACE"," ",777],["T_DOUBLE_ARROW","=>",777],["T_WHITESPACE"," ",777],["T_VARIABLE","$storeTo",777],",",["T_WHITESPACE","\n                ",777],["T_CONSTANT_ENCAPSED_STRING","'storeFrom'",778],["T_WHITESPACE"," ",778],["T_DOUBLE_ARROW","=>",778],["T_WHITESPACE"," ",778],["T_VARIABLE","$storeFrom",778],",",["T_WHITESPACE","\n            ",778],")",")",";",["T_WHITESPACE","\n            ",779],["T_VARIABLE","$productInStore",780],["T_OBJECT_OPERATOR","->",780],["T_STRING","setStoreId",780],"(",["T_VARIABLE","$storeTo",780],")",["T_OBJECT_OPERATOR","->",780],["T_STRING","save",780],"(",")",";",["T_WHITESPACE","\n        ",780],"}",["T_WHITESPACE","\n        ",781],["T_RETURN","return",782],["T_WHITESPACE"," ",782],["T_VARIABLE","$this",782],";",["T_WHITESPACE","\n    ",782],"}",["T_WHITESPACE","\n\n    ",783],["T_DOC_COMMENT","\/**\n     * Create product duplicate\n     *\/",785],["T_WHITESPACE","\n    ",787],["T_PUBLIC","public",788],["T_WHITESPACE"," ",788],["T_FUNCTION","function",788],["T_WHITESPACE"," ",788],["T_STRING","duplicateAction",788],"(",")",["T_WHITESPACE","\n    ",788],"{",["T_WHITESPACE","\n        ",789],["T_VARIABLE","$product",790],["T_WHITESPACE"," ",790],"=",["T_WHITESPACE"," ",790],["T_VARIABLE","$this",790],["T_OBJECT_OPERATOR","->",790],["T_STRING","_initProduct",790],"(",")",";",["T_WHITESPACE","\n        ",790],["T_TRY","try",791],["T_WHITESPACE"," ",791],"{",["T_WHITESPACE","\n            ",791],["T_VARIABLE","$newProduct",792],["T_WHITESPACE"," ",792],"=",["T_WHITESPACE"," ",792],["T_VARIABLE","$product",792],["T_OBJECT_OPERATOR","->",792],["T_STRING","duplicate",792],"(",")",";",["T_WHITESPACE","\n            ",792],["T_VARIABLE","$this",793],["T_OBJECT_OPERATOR","->",793],["T_STRING","_getSession",793],"(",")",["T_OBJECT_OPERATOR","->",793],["T_STRING","addSuccess",793],"(",["T_VARIABLE","$this",793],["T_OBJECT_OPERATOR","->",793],["T_STRING","__",793],"(",["T_CONSTANT_ENCAPSED_STRING","'The product has been duplicated.'",793],")",")",";",["T_WHITESPACE","\n            ",793],["T_VARIABLE","$this",794],["T_OBJECT_OPERATOR","->",794],["T_STRING","_redirect",794],"(",["T_CONSTANT_ENCAPSED_STRING","'*\/*\/edit'",794],",",["T_WHITESPACE"," ",794],["T_ARRAY","array",794],"(",["T_CONSTANT_ENCAPSED_STRING","'_current'",794],["T_DOUBLE_ARROW","=>",794],["T_STRING","true",794],",",["T_WHITESPACE"," ",794],["T_CONSTANT_ENCAPSED_STRING","'id'",794],["T_DOUBLE_ARROW","=>",794],["T_VARIABLE","$newProduct",794],["T_OBJECT_OPERATOR","->",794],["T_STRING","getId",794],"(",")",")",")",";",["T_WHITESPACE","\n        ",794],"}",["T_WHITESPACE"," ",795],["T_CATCH","catch",795],["T_WHITESPACE"," ",795],"(",["T_STRING","Exception",795],["T_WHITESPACE"," ",795],["T_VARIABLE","$e",795],")",["T_WHITESPACE"," ",795],"{",["T_WHITESPACE","\n            ",795],["T_STRING","Mage",796],["T_DOUBLE_COLON","::",796],["T_STRING","logException",796],"(",["T_VARIABLE","$e",796],")",";",["T_WHITESPACE","\n            ",796],["T_VARIABLE","$this",797],["T_OBJECT_OPERATOR","->",797],["T_STRING","_getSession",797],"(",")",["T_OBJECT_OPERATOR","->",797],["T_STRING","addError",797],"(",["T_VARIABLE","$e",797],["T_OBJECT_OPERATOR","->",797],["T_STRING","getMessage",797],"(",")",")",";",["T_WHITESPACE","\n            ",797],["T_VARIABLE","$this",798],["T_OBJECT_OPERATOR","->",798],["T_STRING","_redirect",798],"(",["T_CONSTANT_ENCAPSED_STRING","'*\/*\/edit'",798],",",["T_WHITESPACE"," ",798],["T_ARRAY","array",798],"(",["T_CONSTANT_ENCAPSED_STRING","'_current'",798],["T_DOUBLE_ARROW","=>",798],["T_STRING","true",798],")",")",";",["T_WHITESPACE","\n        ",798],"}",["T_WHITESPACE","\n    ",799],"}",["T_WHITESPACE","\n\n    ",800],["T_DOC_COMMENT","\/**\n     * @deprecated since 1.4.0.0-alpha2\n     *\/",802],["T_WHITESPACE","\n    ",804],["T_PROTECTED","protected",805],["T_WHITESPACE"," ",805],["T_FUNCTION","function",805],["T_WHITESPACE"," ",805],["T_STRING","_decodeInput",805],"(",["T_VARIABLE","$encoded",805],")",["T_WHITESPACE","\n    ",805],"{",["T_WHITESPACE","\n        ",806],["T_STRING","parse_str",807],"(",["T_VARIABLE","$encoded",807],",",["T_WHITESPACE"," ",807],["T_VARIABLE","$data",807],")",";",["T_WHITESPACE","\n        ",807],["T_FOREACH","foreach",808],"(",["T_VARIABLE","$data",808],["T_WHITESPACE"," ",808],["T_AS","as",808],["T_WHITESPACE"," ",808],["T_VARIABLE","$key",808],["T_DOUBLE_ARROW","=>",808],["T_VARIABLE","$value",808],")",["T_WHITESPACE"," ",808],"{",["T_WHITESPACE","\n            ",808],["T_STRING","parse_str",809],"(",["T_STRING","base64_decode",809],"(",["T_VARIABLE","$value",809],")",",",["T_WHITESPACE"," ",809],["T_VARIABLE","$data",809],"[",["T_VARIABLE","$key",809],"]",")",";",["T_WHITESPACE","\n        ",809],"}",["T_WHITESPACE","\n        ",810],["T_RETURN","return",811],["T_WHITESPACE"," ",811],["T_VARIABLE","$data",811],";",["T_WHITESPACE","\n    ",811],"}",["T_WHITESPACE","\n\n    ",812],["T_DOC_COMMENT","\/**\n     * Delete product action\n     *\/",814],["T_WHITESPACE","\n    ",816],["T_PUBLIC","public",817],["T_WHITESPACE"," ",817],["T_FUNCTION","function",817],["T_WHITESPACE"," ",817],["T_STRING","deleteAction",817],"(",")",["T_WHITESPACE","\n    ",817],"{",["T_WHITESPACE","\n        ",818],["T_IF","if",819],["T_WHITESPACE"," ",819],"(",["T_VARIABLE","$id",819],["T_WHITESPACE"," ",819],"=",["T_WHITESPACE"," ",819],["T_VARIABLE","$this",819],["T_OBJECT_OPERATOR","->",819],["T_STRING","getRequest",819],"(",")",["T_OBJECT_OPERATOR","->",819],["T_STRING","getParam",819],"(",["T_CONSTANT_ENCAPSED_STRING","'id'",819],")",")",["T_WHITESPACE"," ",819],"{",["T_WHITESPACE","\n            ",819],["T_VARIABLE","$product",820],["T_WHITESPACE"," ",820],"=",["T_WHITESPACE"," ",820],["T_STRING","Mage",820],["T_DOUBLE_COLON","::",820],["T_STRING","getModel",820],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog\/product'",820],")",["T_WHITESPACE","\n                ",820],["T_OBJECT_OPERATOR","->",821],["T_STRING","load",821],"(",["T_VARIABLE","$id",821],")",";",["T_WHITESPACE","\n            ",821],["T_VARIABLE","$sku",822],["T_WHITESPACE"," ",822],"=",["T_WHITESPACE"," ",822],["T_VARIABLE","$product",822],["T_OBJECT_OPERATOR","->",822],["T_STRING","getSku",822],"(",")",";",["T_WHITESPACE","\n            ",822],["T_TRY","try",823],["T_WHITESPACE"," ",823],"{",["T_WHITESPACE","\n                ",823],["T_VARIABLE","$product",824],["T_OBJECT_OPERATOR","->",824],["T_STRING","delete",824],"(",")",";",["T_WHITESPACE","\n                ",824],["T_VARIABLE","$this",825],["T_OBJECT_OPERATOR","->",825],["T_STRING","_getSession",825],"(",")",["T_OBJECT_OPERATOR","->",825],["T_STRING","addSuccess",825],"(",["T_VARIABLE","$this",825],["T_OBJECT_OPERATOR","->",825],["T_STRING","__",825],"(",["T_CONSTANT_ENCAPSED_STRING","'The product has been deleted.'",825],")",")",";",["T_WHITESPACE","\n            ",825],"}",["T_WHITESPACE"," ",826],["T_CATCH","catch",826],["T_WHITESPACE"," ",826],"(",["T_STRING","Exception",826],["T_WHITESPACE"," ",826],["T_VARIABLE","$e",826],")",["T_WHITESPACE"," ",826],"{",["T_WHITESPACE","\n                ",826],["T_VARIABLE","$this",827],["T_OBJECT_OPERATOR","->",827],["T_STRING","_getSession",827],"(",")",["T_OBJECT_OPERATOR","->",827],["T_STRING","addError",827],"(",["T_VARIABLE","$e",827],["T_OBJECT_OPERATOR","->",827],["T_STRING","getMessage",827],"(",")",")",";",["T_WHITESPACE","\n            ",827],"}",["T_WHITESPACE","\n        ",828],"}",["T_WHITESPACE","\n        ",829],["T_VARIABLE","$this",830],["T_OBJECT_OPERATOR","->",830],["T_STRING","getResponse",830],"(",")",["T_WHITESPACE","\n            ",830],["T_OBJECT_OPERATOR","->",831],["T_STRING","setRedirect",831],"(",["T_VARIABLE","$this",831],["T_OBJECT_OPERATOR","->",831],["T_STRING","getUrl",831],"(",["T_CONSTANT_ENCAPSED_STRING","'*\/*\/'",831],",",["T_WHITESPACE"," ",831],["T_ARRAY","array",831],"(",["T_CONSTANT_ENCAPSED_STRING","'store'",831],["T_DOUBLE_ARROW","=>",831],["T_VARIABLE","$this",831],["T_OBJECT_OPERATOR","->",831],["T_STRING","getRequest",831],"(",")",["T_OBJECT_OPERATOR","->",831],["T_STRING","getParam",831],"(",["T_CONSTANT_ENCAPSED_STRING","'store'",831],")",")",")",")",";",["T_WHITESPACE","\n    ",831],"}",["T_WHITESPACE","\n\n    ",832],["T_DOC_COMMENT","\/**\n     * Get tag grid\n     *\/",834],["T_WHITESPACE","\n    ",836],["T_PUBLIC","public",837],["T_WHITESPACE"," ",837],["T_FUNCTION","function",837],["T_WHITESPACE"," ",837],["T_STRING","tagGridAction",837],"(",")",["T_WHITESPACE","\n    ",837],"{",["T_WHITESPACE","\n        ",838],["T_VARIABLE","$this",839],["T_OBJECT_OPERATOR","->",839],["T_STRING","loadLayout",839],"(",")",";",["T_WHITESPACE","\n        ",839],["T_VARIABLE","$this",840],["T_OBJECT_OPERATOR","->",840],["T_STRING","getLayout",840],"(",")",["T_OBJECT_OPERATOR","->",840],["T_STRING","getBlock",840],"(",["T_CONSTANT_ENCAPSED_STRING","'admin.product.tags'",840],")",["T_WHITESPACE","\n            ",840],["T_OBJECT_OPERATOR","->",841],["T_STRING","setProductId",841],"(",["T_VARIABLE","$this",841],["T_OBJECT_OPERATOR","->",841],["T_STRING","getRequest",841],"(",")",["T_OBJECT_OPERATOR","->",841],["T_STRING","getParam",841],"(",["T_CONSTANT_ENCAPSED_STRING","'id'",841],")",")",";",["T_WHITESPACE","\n        ",841],["T_VARIABLE","$this",842],["T_OBJECT_OPERATOR","->",842],["T_STRING","renderLayout",842],"(",")",";",["T_WHITESPACE","\n    ",842],"}",["T_WHITESPACE","\n\n    ",843],["T_DOC_COMMENT","\/**\n     * Get alerts price grid\n     *\/",845],["T_WHITESPACE","\n    ",847],["T_PUBLIC","public",848],["T_WHITESPACE"," ",848],["T_FUNCTION","function",848],["T_WHITESPACE"," ",848],["T_STRING","alertsPriceGridAction",848],"(",")",["T_WHITESPACE","\n    ",848],"{",["T_WHITESPACE","\n        ",849],["T_VARIABLE","$this",850],["T_OBJECT_OPERATOR","->",850],["T_STRING","loadLayout",850],"(",["T_STRING","false",850],")",";",["T_WHITESPACE","\n        ",850],["T_VARIABLE","$this",851],["T_OBJECT_OPERATOR","->",851],["T_STRING","renderLayout",851],"(",")",";",["T_WHITESPACE","\n    ",851],"}",["T_WHITESPACE","\n\n    ",852],["T_DOC_COMMENT","\/**\n     * Get alerts stock grid\n     *\/",854],["T_WHITESPACE","\n    ",856],["T_PUBLIC","public",857],["T_WHITESPACE"," ",857],["T_FUNCTION","function",857],["T_WHITESPACE"," ",857],["T_STRING","alertsStockGridAction",857],"(",")",["T_WHITESPACE","\n    ",857],"{",["T_WHITESPACE","\n        ",858],["T_VARIABLE","$this",859],["T_OBJECT_OPERATOR","->",859],["T_STRING","loadLayout",859],"(",["T_STRING","false",859],")",";",["T_WHITESPACE","\n        ",859],["T_VARIABLE","$this",860],["T_OBJECT_OPERATOR","->",860],["T_STRING","renderLayout",860],"(",")",";",["T_WHITESPACE","\n    ",860],"}",["T_WHITESPACE","\n\n    ",861],["T_DOC_COMMENT","\/**\n     * @deprecated since 1.5.0.0\n     * @return Mage_Adminhtml_Catalog_ProductController\n     *\/",863],["T_WHITESPACE","\n    ",866],["T_PUBLIC","public",867],["T_WHITESPACE"," ",867],["T_FUNCTION","function",867],["T_WHITESPACE"," ",867],["T_STRING","addCustomersToAlertQueueAction",867],"(",")",["T_WHITESPACE","\n    ",867],"{",["T_WHITESPACE","\n        ",868],["T_RETURN","return",869],["T_WHITESPACE"," ",869],["T_VARIABLE","$this",869],";",["T_WHITESPACE","\n    ",869],"}",["T_WHITESPACE","\n\n    ",870],["T_PUBLIC","public",872],["T_WHITESPACE"," ",872],["T_FUNCTION","function",872],["T_WHITESPACE"," ",872],["T_STRING","addAttributeAction",872],"(",")",["T_WHITESPACE","\n    ",872],"{",["T_WHITESPACE","\n        ",873],["T_VARIABLE","$this",874],["T_OBJECT_OPERATOR","->",874],["T_STRING","_getSession",874],"(",")",["T_OBJECT_OPERATOR","->",874],["T_STRING","addNotice",874],"(",["T_WHITESPACE","\n            ",874],["T_STRING","Mage",875],["T_DOUBLE_COLON","::",875],["T_STRING","helper",875],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog'",875],")",["T_OBJECT_OPERATOR","->",875],["T_STRING","__",875],"(",["T_CONSTANT_ENCAPSED_STRING","'Please click on the Close Window button if it is not closed automatically.'",875],")",["T_WHITESPACE","\n        ",875],")",";",["T_WHITESPACE","\n        ",876],["T_VARIABLE","$this",877],["T_OBJECT_OPERATOR","->",877],["T_STRING","loadLayout",877],"(",["T_CONSTANT_ENCAPSED_STRING","'popup'",877],")",";",["T_WHITESPACE","\n        ",877],["T_VARIABLE","$this",878],["T_OBJECT_OPERATOR","->",878],["T_STRING","_initProduct",878],"(",")",";",["T_WHITESPACE","\n        ",878],["T_VARIABLE","$this",879],["T_OBJECT_OPERATOR","->",879],["T_STRING","_addContent",879],"(",["T_WHITESPACE","\n            ",879],["T_VARIABLE","$this",880],["T_OBJECT_OPERATOR","->",880],["T_STRING","getLayout",880],"(",")",["T_OBJECT_OPERATOR","->",880],["T_STRING","createBlock",880],"(",["T_CONSTANT_ENCAPSED_STRING","'adminhtml\/catalog_product_attribute_new_product_created'",880],")",["T_WHITESPACE","\n        ",880],")",";",["T_WHITESPACE","\n        ",881],["T_VARIABLE","$this",882],["T_OBJECT_OPERATOR","->",882],["T_STRING","renderLayout",882],"(",")",";",["T_WHITESPACE","\n    ",882],"}",["T_WHITESPACE","\n\n    ",883],["T_PUBLIC","public",885],["T_WHITESPACE"," ",885],["T_FUNCTION","function",885],["T_WHITESPACE"," ",885],["T_STRING","createdAction",885],"(",")",["T_WHITESPACE","\n    ",885],"{",["T_WHITESPACE","\n        ",886],["T_VARIABLE","$this",887],["T_OBJECT_OPERATOR","->",887],["T_STRING","_getSession",887],"(",")",["T_OBJECT_OPERATOR","->",887],["T_STRING","addNotice",887],"(",["T_WHITESPACE","\n            ",887],["T_STRING","Mage",888],["T_DOUBLE_COLON","::",888],["T_STRING","helper",888],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog'",888],")",["T_OBJECT_OPERATOR","->",888],["T_STRING","__",888],"(",["T_CONSTANT_ENCAPSED_STRING","'Please click on the Close Window button if it is not closed automatically.'",888],")",["T_WHITESPACE","\n        ",888],")",";",["T_WHITESPACE","\n        ",889],["T_VARIABLE","$this",890],["T_OBJECT_OPERATOR","->",890],["T_STRING","loadLayout",890],"(",["T_CONSTANT_ENCAPSED_STRING","'popup'",890],")",";",["T_WHITESPACE","\n        ",890],["T_VARIABLE","$this",891],["T_OBJECT_OPERATOR","->",891],["T_STRING","_addContent",891],"(",["T_WHITESPACE","\n            ",891],["T_VARIABLE","$this",892],["T_OBJECT_OPERATOR","->",892],["T_STRING","getLayout",892],"(",")",["T_OBJECT_OPERATOR","->",892],["T_STRING","createBlock",892],"(",["T_CONSTANT_ENCAPSED_STRING","'adminhtml\/catalog_product_created'",892],")",["T_WHITESPACE","\n        ",892],")",";",["T_WHITESPACE","\n        ",893],["T_VARIABLE","$this",894],["T_OBJECT_OPERATOR","->",894],["T_STRING","renderLayout",894],"(",")",";",["T_WHITESPACE","\n    ",894],"}",["T_WHITESPACE","\n\n    ",895],["T_PUBLIC","public",897],["T_WHITESPACE"," ",897],["T_FUNCTION","function",897],["T_WHITESPACE"," ",897],["T_STRING","massDeleteAction",897],"(",")",["T_WHITESPACE","\n    ",897],"{",["T_WHITESPACE","\n        ",898],["T_VARIABLE","$productIds",899],["T_WHITESPACE"," ",899],"=",["T_WHITESPACE"," ",899],["T_VARIABLE","$this",899],["T_OBJECT_OPERATOR","->",899],["T_STRING","getRequest",899],"(",")",["T_OBJECT_OPERATOR","->",899],["T_STRING","getParam",899],"(",["T_CONSTANT_ENCAPSED_STRING","'product'",899],")",";",["T_WHITESPACE","\n        ",899],["T_IF","if",900],["T_WHITESPACE"," ",900],"(","!",["T_STRING","is_array",900],"(",["T_VARIABLE","$productIds",900],")",")",["T_WHITESPACE"," ",900],"{",["T_WHITESPACE","\n            ",900],["T_VARIABLE","$this",901],["T_OBJECT_OPERATOR","->",901],["T_STRING","_getSession",901],"(",")",["T_OBJECT_OPERATOR","->",901],["T_STRING","addError",901],"(",["T_VARIABLE","$this",901],["T_OBJECT_OPERATOR","->",901],["T_STRING","__",901],"(",["T_CONSTANT_ENCAPSED_STRING","'Please select product(s).'",901],")",")",";",["T_WHITESPACE","\n        ",901],"}",["T_WHITESPACE"," ",902],["T_ELSE","else",902],["T_WHITESPACE"," ",902],"{",["T_WHITESPACE","\n            ",902],["T_IF","if",903],["T_WHITESPACE"," ",903],"(","!",["T_EMPTY","empty",903],"(",["T_VARIABLE","$productIds",903],")",")",["T_WHITESPACE"," ",903],"{",["T_WHITESPACE","\n                ",903],["T_TRY","try",904],["T_WHITESPACE"," ",904],"{",["T_WHITESPACE","\n                    ",904],["T_FOREACH","foreach",905],["T_WHITESPACE"," ",905],"(",["T_VARIABLE","$productIds",905],["T_WHITESPACE"," ",905],["T_AS","as",905],["T_WHITESPACE"," ",905],["T_VARIABLE","$productId",905],")",["T_WHITESPACE"," ",905],"{",["T_WHITESPACE","\n                        ",905],["T_VARIABLE","$product",906],["T_WHITESPACE"," ",906],"=",["T_WHITESPACE"," ",906],["T_STRING","Mage",906],["T_DOUBLE_COLON","::",906],["T_STRING","getSingleton",906],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog\/product'",906],")",["T_OBJECT_OPERATOR","->",906],["T_STRING","load",906],"(",["T_VARIABLE","$productId",906],")",";",["T_WHITESPACE","\n                        ",906],["T_STRING","Mage",907],["T_DOUBLE_COLON","::",907],["T_STRING","dispatchEvent",907],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog_controller_product_delete'",907],",",["T_WHITESPACE"," ",907],["T_ARRAY","array",907],"(",["T_CONSTANT_ENCAPSED_STRING","'product'",907],["T_WHITESPACE"," ",907],["T_DOUBLE_ARROW","=>",907],["T_WHITESPACE"," ",907],["T_VARIABLE","$product",907],")",")",";",["T_WHITESPACE","\n                        ",907],["T_VARIABLE","$product",908],["T_OBJECT_OPERATOR","->",908],["T_STRING","delete",908],"(",")",";",["T_WHITESPACE","\n                    ",908],"}",["T_WHITESPACE","\n                    ",909],["T_VARIABLE","$this",910],["T_OBJECT_OPERATOR","->",910],["T_STRING","_getSession",910],"(",")",["T_OBJECT_OPERATOR","->",910],["T_STRING","addSuccess",910],"(",["T_WHITESPACE","\n                        ",910],["T_VARIABLE","$this",911],["T_OBJECT_OPERATOR","->",911],["T_STRING","__",911],"(",["T_CONSTANT_ENCAPSED_STRING","'Total of %d record(s) have been deleted.'",911],",",["T_WHITESPACE"," ",911],["T_STRING","count",911],"(",["T_VARIABLE","$productIds",911],")",")",["T_WHITESPACE","\n                    ",911],")",";",["T_WHITESPACE","\n                ",912],"}",["T_WHITESPACE"," ",913],["T_CATCH","catch",913],["T_WHITESPACE"," ",913],"(",["T_STRING","Exception",913],["T_WHITESPACE"," ",913],["T_VARIABLE","$e",913],")",["T_WHITESPACE"," ",913],"{",["T_WHITESPACE","\n                    ",913],["T_VARIABLE","$this",914],["T_OBJECT_OPERATOR","->",914],["T_STRING","_getSession",914],"(",")",["T_OBJECT_OPERATOR","->",914],["T_STRING","addError",914],"(",["T_VARIABLE","$e",914],["T_OBJECT_OPERATOR","->",914],["T_STRING","getMessage",914],"(",")",")",";",["T_WHITESPACE","\n                ",914],"}",["T_WHITESPACE","\n            ",915],"}",["T_WHITESPACE","\n        ",916],"}",["T_WHITESPACE","\n        ",917],["T_VARIABLE","$this",918],["T_OBJECT_OPERATOR","->",918],["T_STRING","_redirect",918],"(",["T_CONSTANT_ENCAPSED_STRING","'*\/*\/index'",918],")",";",["T_WHITESPACE","\n    ",918],"}",["T_WHITESPACE","\n\n    ",919],["T_DOC_COMMENT","\/**\n     * Update product(s) status action\n     *\n     *\/",921],["T_WHITESPACE","\n    ",924],["T_PUBLIC","public",925],["T_WHITESPACE"," ",925],["T_FUNCTION","function",925],["T_WHITESPACE"," ",925],["T_STRING","massStatusAction",925],"(",")",["T_WHITESPACE","\n    ",925],"{",["T_WHITESPACE","\n        ",926],["T_VARIABLE","$productIds",927],["T_WHITESPACE"," ",927],"=",["T_WHITESPACE"," ",927],["T_ARRAY_CAST","(array)",927],["T_VARIABLE","$this",927],["T_OBJECT_OPERATOR","->",927],["T_STRING","getRequest",927],"(",")",["T_OBJECT_OPERATOR","->",927],["T_STRING","getParam",927],"(",["T_CONSTANT_ENCAPSED_STRING","'product'",927],")",";",["T_WHITESPACE","\n        ",927],["T_VARIABLE","$storeId",928],["T_WHITESPACE","    ",928],"=",["T_WHITESPACE"," ",928],["T_INT_CAST","(int)",928],["T_VARIABLE","$this",928],["T_OBJECT_OPERATOR","->",928],["T_STRING","getRequest",928],"(",")",["T_OBJECT_OPERATOR","->",928],["T_STRING","getParam",928],"(",["T_CONSTANT_ENCAPSED_STRING","'store'",928],",",["T_WHITESPACE"," ",928],["T_LNUMBER","0",928],")",";",["T_WHITESPACE","\n        ",928],["T_VARIABLE","$status",929],["T_WHITESPACE","     ",929],"=",["T_WHITESPACE"," ",929],["T_INT_CAST","(int)",929],["T_VARIABLE","$this",929],["T_OBJECT_OPERATOR","->",929],["T_STRING","getRequest",929],"(",")",["T_OBJECT_OPERATOR","->",929],["T_STRING","getParam",929],"(",["T_CONSTANT_ENCAPSED_STRING","'status'",929],")",";",["T_WHITESPACE","\n\n        ",929],["T_TRY","try",931],["T_WHITESPACE"," ",931],"{",["T_WHITESPACE","\n            ",931],["T_VARIABLE","$this",932],["T_OBJECT_OPERATOR","->",932],["T_STRING","_validateMassStatus",932],"(",["T_VARIABLE","$productIds",932],",",["T_WHITESPACE"," ",932],["T_VARIABLE","$status",932],")",";",["T_WHITESPACE","\n            ",932],["T_STRING","Mage",933],["T_DOUBLE_COLON","::",933],["T_STRING","getSingleton",933],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog\/product_action'",933],")",["T_WHITESPACE","\n                ",933],["T_OBJECT_OPERATOR","->",934],["T_STRING","updateAttributes",934],"(",["T_VARIABLE","$productIds",934],",",["T_WHITESPACE"," ",934],["T_ARRAY","array",934],"(",["T_CONSTANT_ENCAPSED_STRING","'status'",934],["T_WHITESPACE"," ",934],["T_DOUBLE_ARROW","=>",934],["T_WHITESPACE"," ",934],["T_VARIABLE","$status",934],")",",",["T_WHITESPACE"," ",934],["T_VARIABLE","$storeId",934],")",";",["T_WHITESPACE","\n            ",934],["T_STRING","Mage",935],["T_DOUBLE_COLON","::",935],["T_STRING","dispatchEvent",935],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog_controller_product_mass_status'",935],",",["T_WHITESPACE"," ",935],["T_ARRAY","array",935],"(",["T_CONSTANT_ENCAPSED_STRING","'product_ids'",935],["T_WHITESPACE"," ",935],["T_DOUBLE_ARROW","=>",935],["T_WHITESPACE"," ",935],["T_VARIABLE","$productIds",935],")",")",";",["T_WHITESPACE","\n\n            ",935],["T_VARIABLE","$this",937],["T_OBJECT_OPERATOR","->",937],["T_STRING","_getSession",937],"(",")",["T_OBJECT_OPERATOR","->",937],["T_STRING","addSuccess",937],"(",["T_WHITESPACE","\n                ",937],["T_VARIABLE","$this",938],["T_OBJECT_OPERATOR","->",938],["T_STRING","__",938],"(",["T_CONSTANT_ENCAPSED_STRING","'Total of %d record(s) have been updated.'",938],",",["T_WHITESPACE"," ",938],["T_STRING","count",938],"(",["T_VARIABLE","$productIds",938],")",")",["T_WHITESPACE","\n            ",938],")",";",["T_WHITESPACE","\n        ",939],"}",["T_WHITESPACE","\n        ",940],["T_CATCH","catch",941],["T_WHITESPACE"," ",941],"(",["T_STRING","Mage_Core_Model_Exception",941],["T_WHITESPACE"," ",941],["T_VARIABLE","$e",941],")",["T_WHITESPACE"," ",941],"{",["T_WHITESPACE","\n            ",941],["T_VARIABLE","$this",942],["T_OBJECT_OPERATOR","->",942],["T_STRING","_getSession",942],"(",")",["T_OBJECT_OPERATOR","->",942],["T_STRING","addError",942],"(",["T_VARIABLE","$e",942],["T_OBJECT_OPERATOR","->",942],["T_STRING","getMessage",942],"(",")",")",";",["T_WHITESPACE","\n        ",942],"}",["T_WHITESPACE"," ",943],["T_CATCH","catch",943],["T_WHITESPACE"," ",943],"(",["T_STRING","Mage_Core_Exception",943],["T_WHITESPACE"," ",943],["T_VARIABLE","$e",943],")",["T_WHITESPACE"," ",943],"{",["T_WHITESPACE","\n            ",943],["T_VARIABLE","$this",944],["T_OBJECT_OPERATOR","->",944],["T_STRING","_getSession",944],"(",")",["T_OBJECT_OPERATOR","->",944],["T_STRING","addError",944],"(",["T_VARIABLE","$e",944],["T_OBJECT_OPERATOR","->",944],["T_STRING","getMessage",944],"(",")",")",";",["T_WHITESPACE","\n        ",944],"}",["T_WHITESPACE"," ",945],["T_CATCH","catch",945],["T_WHITESPACE"," ",945],"(",["T_STRING","Exception",945],["T_WHITESPACE"," ",945],["T_VARIABLE","$e",945],")",["T_WHITESPACE"," ",945],"{",["T_WHITESPACE","\n            ",945],["T_VARIABLE","$this",946],["T_OBJECT_OPERATOR","->",946],["T_STRING","_getSession",946],"(",")",["T_WHITESPACE","\n                ",946],["T_OBJECT_OPERATOR","->",947],["T_STRING","addException",947],"(",["T_VARIABLE","$e",947],",",["T_WHITESPACE"," ",947],["T_VARIABLE","$this",947],["T_OBJECT_OPERATOR","->",947],["T_STRING","__",947],"(",["T_CONSTANT_ENCAPSED_STRING","'An error occurred while updating the product(s) status.'",947],")",")",";",["T_WHITESPACE","\n        ",947],"}",["T_WHITESPACE","\n\n        ",948],["T_VARIABLE","$this",950],["T_OBJECT_OPERATOR","->",950],["T_STRING","_redirect",950],"(",["T_CONSTANT_ENCAPSED_STRING","'*\/*\/'",950],",",["T_WHITESPACE"," ",950],["T_ARRAY","array",950],"(",["T_CONSTANT_ENCAPSED_STRING","'store'",950],["T_DOUBLE_ARROW","=>",950],["T_WHITESPACE"," ",950],["T_VARIABLE","$storeId",950],")",")",";",["T_WHITESPACE","\n    ",950],"}",["T_WHITESPACE","\n\n    ",951],["T_DOC_COMMENT","\/**\n     * Validate batch of products before theirs status will be set\n     *\n     * @throws Mage_Core_Exception\n     * @param  array $productIds\n     * @param  int $status\n     * @return void\n     *\/",953],["T_WHITESPACE","\n    ",960],["T_PUBLIC","public",961],["T_WHITESPACE"," ",961],["T_FUNCTION","function",961],["T_WHITESPACE"," ",961],["T_STRING","_validateMassStatus",961],"(",["T_ARRAY","array",961],["T_WHITESPACE"," ",961],["T_VARIABLE","$productIds",961],",",["T_WHITESPACE"," ",961],["T_VARIABLE","$status",961],")",["T_WHITESPACE","\n    ",961],"{",["T_WHITESPACE","\n        ",962],["T_IF","if",963],["T_WHITESPACE"," ",963],"(",["T_VARIABLE","$status",963],["T_WHITESPACE"," ",963],["T_IS_EQUAL","==",963],["T_WHITESPACE"," ",963],["T_STRING","Mage_Catalog_Model_Product_Status",963],["T_DOUBLE_COLON","::",963],["T_STRING","STATUS_ENABLED",963],")",["T_WHITESPACE"," ",963],"{",["T_WHITESPACE","\n            ",963],["T_IF","if",964],["T_WHITESPACE"," ",964],"(","!",["T_STRING","Mage",964],["T_DOUBLE_COLON","::",964],["T_STRING","getModel",964],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog\/product'",964],")",["T_OBJECT_OPERATOR","->",964],["T_STRING","isProductsHasSku",964],"(",["T_VARIABLE","$productIds",964],")",")",["T_WHITESPACE"," ",964],"{",["T_WHITESPACE","\n                ",964],["T_THROW","throw",965],["T_WHITESPACE"," ",965],["T_NEW","new",965],["T_WHITESPACE"," ",965],["T_STRING","Mage_Core_Exception",965],"(",["T_WHITESPACE","\n                    ",965],["T_VARIABLE","$this",966],["T_OBJECT_OPERATOR","->",966],["T_STRING","__",966],"(",["T_CONSTANT_ENCAPSED_STRING","'Some of the processed products have no SKU value defined. Please fill it prior to performing operations on these products.'",966],")",["T_WHITESPACE","\n                ",966],")",";",["T_WHITESPACE","\n            ",967],"}",["T_WHITESPACE","\n        ",968],"}",["T_WHITESPACE","\n    ",969],"}",["T_WHITESPACE","\n\n    ",970],["T_DOC_COMMENT","\/**\n     * Get tag customer grid\n     *\n     *\/",972],["T_WHITESPACE","\n    ",975],["T_PUBLIC","public",976],["T_WHITESPACE"," ",976],["T_FUNCTION","function",976],["T_WHITESPACE"," ",976],["T_STRING","tagCustomerGridAction",976],"(",")",["T_WHITESPACE","\n    ",976],"{",["T_WHITESPACE","\n        ",977],["T_VARIABLE","$this",978],["T_OBJECT_OPERATOR","->",978],["T_STRING","loadLayout",978],"(",")",";",["T_WHITESPACE","\n        ",978],["T_VARIABLE","$this",979],["T_OBJECT_OPERATOR","->",979],["T_STRING","getLayout",979],"(",")",["T_OBJECT_OPERATOR","->",979],["T_STRING","getBlock",979],"(",["T_CONSTANT_ENCAPSED_STRING","'admin.product.tags.customers'",979],")",["T_WHITESPACE","\n                ",979],["T_OBJECT_OPERATOR","->",980],["T_STRING","setProductId",980],"(",["T_VARIABLE","$this",980],["T_OBJECT_OPERATOR","->",980],["T_STRING","getRequest",980],"(",")",["T_OBJECT_OPERATOR","->",980],["T_STRING","getParam",980],"(",["T_CONSTANT_ENCAPSED_STRING","'id'",980],")",")",";",["T_WHITESPACE","\n        ",980],["T_VARIABLE","$this",981],["T_OBJECT_OPERATOR","->",981],["T_STRING","renderLayout",981],"(",")",";",["T_WHITESPACE","\n    ",981],"}",["T_WHITESPACE","\n\n    ",982],["T_PUBLIC","public",984],["T_WHITESPACE"," ",984],["T_FUNCTION","function",984],["T_WHITESPACE"," ",984],["T_STRING","quickCreateAction",984],"(",")",["T_WHITESPACE","\n    ",984],"{",["T_WHITESPACE","\n        ",985],["T_VARIABLE","$result",986],["T_WHITESPACE"," ",986],"=",["T_WHITESPACE"," ",986],["T_ARRAY","array",986],"(",")",";",["T_WHITESPACE","\n\n        ",986],["T_COMMENT","\/* @var $configurableProduct Mage_Catalog_Model_Product *\/",988],["T_WHITESPACE","\n        ",988],["T_VARIABLE","$configurableProduct",989],["T_WHITESPACE"," ",989],"=",["T_WHITESPACE"," ",989],["T_STRING","Mage",989],["T_DOUBLE_COLON","::",989],["T_STRING","getModel",989],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog\/product'",989],")",["T_WHITESPACE","\n            ",989],["T_OBJECT_OPERATOR","->",990],["T_STRING","setStoreId",990],"(",["T_STRING","Mage_Core_Model_App",990],["T_DOUBLE_COLON","::",990],["T_STRING","ADMIN_STORE_ID",990],")",["T_WHITESPACE","\n            ",990],["T_OBJECT_OPERATOR","->",991],["T_STRING","load",991],"(",["T_VARIABLE","$this",991],["T_OBJECT_OPERATOR","->",991],["T_STRING","getRequest",991],"(",")",["T_OBJECT_OPERATOR","->",991],["T_STRING","getParam",991],"(",["T_CONSTANT_ENCAPSED_STRING","'product'",991],")",")",";",["T_WHITESPACE","\n\n        ",991],["T_IF","if",993],["T_WHITESPACE"," ",993],"(","!",["T_VARIABLE","$configurableProduct",993],["T_OBJECT_OPERATOR","->",993],["T_STRING","isConfigurable",993],"(",")",")",["T_WHITESPACE"," ",993],"{",["T_WHITESPACE","\n            ",993],["T_COMMENT","\/\/ If invalid parent product\n",994],["T_WHITESPACE","            ",995],["T_VARIABLE","$this",995],["T_OBJECT_OPERATOR","->",995],["T_STRING","_redirect",995],"(",["T_CONSTANT_ENCAPSED_STRING","'*\/*\/'",995],")",";",["T_WHITESPACE","\n            ",995],["T_RETURN","return",996],";",["T_WHITESPACE","\n        ",996],"}",["T_WHITESPACE","\n\n        ",997],["T_COMMENT","\/* @var $product Mage_Catalog_Model_Product *\/",999],["T_WHITESPACE","\n\n        ",999],["T_VARIABLE","$product",1001],["T_WHITESPACE"," ",1001],"=",["T_WHITESPACE"," ",1001],["T_STRING","Mage",1001],["T_DOUBLE_COLON","::",1001],["T_STRING","getModel",1001],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog\/product'",1001],")",["T_WHITESPACE","\n            ",1001],["T_OBJECT_OPERATOR","->",1002],["T_STRING","setStoreId",1002],"(",["T_LNUMBER","0",1002],")",["T_WHITESPACE","\n            ",1002],["T_OBJECT_OPERATOR","->",1003],["T_STRING","setTypeId",1003],"(",["T_STRING","Mage_Catalog_Model_Product_Type",1003],["T_DOUBLE_COLON","::",1003],["T_STRING","TYPE_SIMPLE",1003],")",["T_WHITESPACE","\n            ",1003],["T_OBJECT_OPERATOR","->",1004],["T_STRING","setAttributeSetId",1004],"(",["T_VARIABLE","$configurableProduct",1004],["T_OBJECT_OPERATOR","->",1004],["T_STRING","getAttributeSetId",1004],"(",")",")",";",["T_WHITESPACE","\n\n\n        ",1004],["T_FOREACH","foreach",1007],["T_WHITESPACE"," ",1007],"(",["T_VARIABLE","$product",1007],["T_OBJECT_OPERATOR","->",1007],["T_STRING","getTypeInstance",1007],"(",")",["T_OBJECT_OPERATOR","->",1007],["T_STRING","getEditableAttributes",1007],"(",")",["T_WHITESPACE"," ",1007],["T_AS","as",1007],["T_WHITESPACE"," ",1007],["T_VARIABLE","$attribute",1007],")",["T_WHITESPACE"," ",1007],"{",["T_WHITESPACE","\n            ",1007],["T_IF","if",1008],["T_WHITESPACE"," ",1008],"(",["T_VARIABLE","$attribute",1008],["T_OBJECT_OPERATOR","->",1008],["T_STRING","getIsUnique",1008],"(",")",["T_WHITESPACE","\n                ",1008],["T_BOOLEAN_OR","||",1009],["T_WHITESPACE"," ",1009],["T_VARIABLE","$attribute",1009],["T_OBJECT_OPERATOR","->",1009],["T_STRING","getAttributeCode",1009],"(",")",["T_WHITESPACE"," ",1009],["T_IS_EQUAL","==",1009],["T_WHITESPACE"," ",1009],["T_CONSTANT_ENCAPSED_STRING","'url_key'",1009],["T_WHITESPACE","\n                ",1009],["T_BOOLEAN_OR","||",1010],["T_WHITESPACE"," ",1010],["T_VARIABLE","$attribute",1010],["T_OBJECT_OPERATOR","->",1010],["T_STRING","getFrontend",1010],"(",")",["T_OBJECT_OPERATOR","->",1010],["T_STRING","getInputType",1010],"(",")",["T_WHITESPACE"," ",1010],["T_IS_EQUAL","==",1010],["T_WHITESPACE"," ",1010],["T_CONSTANT_ENCAPSED_STRING","'gallery'",1010],["T_WHITESPACE","\n                ",1010],["T_BOOLEAN_OR","||",1011],["T_WHITESPACE"," ",1011],["T_VARIABLE","$attribute",1011],["T_OBJECT_OPERATOR","->",1011],["T_STRING","getFrontend",1011],"(",")",["T_OBJECT_OPERATOR","->",1011],["T_STRING","getInputType",1011],"(",")",["T_WHITESPACE"," ",1011],["T_IS_EQUAL","==",1011],["T_WHITESPACE"," ",1011],["T_CONSTANT_ENCAPSED_STRING","'media_image'",1011],["T_WHITESPACE","\n                ",1011],["T_BOOLEAN_OR","||",1012],["T_WHITESPACE"," ",1012],"!",["T_VARIABLE","$attribute",1012],["T_OBJECT_OPERATOR","->",1012],["T_STRING","getIsVisible",1012],"(",")",")",["T_WHITESPACE"," ",1012],"{",["T_WHITESPACE","\n                ",1012],["T_CONTINUE","continue",1013],";",["T_WHITESPACE","\n            ",1013],"}",["T_WHITESPACE","\n\n            ",1014],["T_VARIABLE","$product",1016],["T_OBJECT_OPERATOR","->",1016],["T_STRING","setData",1016],"(",["T_WHITESPACE","\n                ",1016],["T_VARIABLE","$attribute",1017],["T_OBJECT_OPERATOR","->",1017],["T_STRING","getAttributeCode",1017],"(",")",",",["T_WHITESPACE","\n                ",1017],["T_VARIABLE","$configurableProduct",1018],["T_OBJECT_OPERATOR","->",1018],["T_STRING","getData",1018],"(",["T_VARIABLE","$attribute",1018],["T_OBJECT_OPERATOR","->",1018],["T_STRING","getAttributeCode",1018],"(",")",")",["T_WHITESPACE","\n            ",1018],")",";",["T_WHITESPACE","\n        ",1019],"}",["T_WHITESPACE","\n\n        ",1020],["T_VARIABLE","$product",1022],["T_OBJECT_OPERATOR","->",1022],["T_STRING","addData",1022],"(",["T_VARIABLE","$this",1022],["T_OBJECT_OPERATOR","->",1022],["T_STRING","getRequest",1022],"(",")",["T_OBJECT_OPERATOR","->",1022],["T_STRING","getParam",1022],"(",["T_CONSTANT_ENCAPSED_STRING","'simple_product'",1022],",",["T_WHITESPACE"," ",1022],["T_ARRAY","array",1022],"(",")",")",")",";",["T_WHITESPACE","\n        ",1022],["T_VARIABLE","$product",1023],["T_OBJECT_OPERATOR","->",1023],["T_STRING","setWebsiteIds",1023],"(",["T_VARIABLE","$configurableProduct",1023],["T_OBJECT_OPERATOR","->",1023],["T_STRING","getWebsiteIds",1023],"(",")",")",";",["T_WHITESPACE","\n\n        ",1023],["T_VARIABLE","$autogenerateOptions",1025],["T_WHITESPACE"," ",1025],"=",["T_WHITESPACE"," ",1025],["T_ARRAY","array",1025],"(",")",";",["T_WHITESPACE","\n        ",1025],["T_VARIABLE","$result",1026],"[",["T_CONSTANT_ENCAPSED_STRING","'attributes'",1026],"]",["T_WHITESPACE"," ",1026],"=",["T_WHITESPACE"," ",1026],["T_ARRAY","array",1026],"(",")",";",["T_WHITESPACE","\n\n        ",1026],["T_FOREACH","foreach",1028],["T_WHITESPACE"," ",1028],"(",["T_VARIABLE","$configurableProduct",1028],["T_OBJECT_OPERATOR","->",1028],["T_STRING","getTypeInstance",1028],"(",")",["T_OBJECT_OPERATOR","->",1028],["T_STRING","getConfigurableAttributes",1028],"(",")",["T_WHITESPACE"," ",1028],["T_AS","as",1028],["T_WHITESPACE"," ",1028],["T_VARIABLE","$attribute",1028],")",["T_WHITESPACE"," ",1028],"{",["T_WHITESPACE","\n            ",1028],["T_VARIABLE","$value",1029],["T_WHITESPACE"," ",1029],"=",["T_WHITESPACE"," ",1029],["T_VARIABLE","$product",1029],["T_OBJECT_OPERATOR","->",1029],["T_STRING","getAttributeText",1029],"(",["T_VARIABLE","$attribute",1029],["T_OBJECT_OPERATOR","->",1029],["T_STRING","getProductAttribute",1029],"(",")",["T_OBJECT_OPERATOR","->",1029],["T_STRING","getAttributeCode",1029],"(",")",")",";",["T_WHITESPACE","\n            ",1029],["T_VARIABLE","$autogenerateOptions",1030],"[","]",["T_WHITESPACE"," ",1030],"=",["T_WHITESPACE"," ",1030],["T_VARIABLE","$value",1030],";",["T_WHITESPACE","\n            ",1030],["T_VARIABLE","$result",1031],"[",["T_CONSTANT_ENCAPSED_STRING","'attributes'",1031],"]","[","]",["T_WHITESPACE"," ",1031],"=",["T_WHITESPACE"," ",1031],["T_ARRAY","array",1031],"(",["T_WHITESPACE","\n                ",1031],["T_CONSTANT_ENCAPSED_STRING","'label'",1032],["T_WHITESPACE","         ",1032],["T_DOUBLE_ARROW","=>",1032],["T_WHITESPACE"," ",1032],["T_VARIABLE","$value",1032],",",["T_WHITESPACE","\n                ",1032],["T_CONSTANT_ENCAPSED_STRING","'value_index'",1033],["T_WHITESPACE","   ",1033],["T_DOUBLE_ARROW","=>",1033],["T_WHITESPACE"," ",1033],["T_VARIABLE","$product",1033],["T_OBJECT_OPERATOR","->",1033],["T_STRING","getData",1033],"(",["T_VARIABLE","$attribute",1033],["T_OBJECT_OPERATOR","->",1033],["T_STRING","getProductAttribute",1033],"(",")",["T_OBJECT_OPERATOR","->",1033],["T_STRING","getAttributeCode",1033],"(",")",")",",",["T_WHITESPACE","\n                ",1033],["T_CONSTANT_ENCAPSED_STRING","'attribute_id'",1034],["T_WHITESPACE","  ",1034],["T_DOUBLE_ARROW","=>",1034],["T_WHITESPACE"," ",1034],["T_VARIABLE","$attribute",1034],["T_OBJECT_OPERATOR","->",1034],["T_STRING","getProductAttribute",1034],"(",")",["T_OBJECT_OPERATOR","->",1034],["T_STRING","getId",1034],"(",")",["T_WHITESPACE","\n            ",1034],")",";",["T_WHITESPACE","\n        ",1035],"}",["T_WHITESPACE","\n\n        ",1036],["T_IF","if",1038],["T_WHITESPACE"," ",1038],"(",["T_VARIABLE","$product",1038],["T_OBJECT_OPERATOR","->",1038],["T_STRING","getNameAutogenerate",1038],"(",")",")",["T_WHITESPACE"," ",1038],"{",["T_WHITESPACE","\n            ",1038],["T_VARIABLE","$product",1039],["T_OBJECT_OPERATOR","->",1039],["T_STRING","setName",1039],"(",["T_VARIABLE","$configurableProduct",1039],["T_OBJECT_OPERATOR","->",1039],["T_STRING","getName",1039],"(",")",["T_WHITESPACE"," ",1039],".",["T_WHITESPACE"," ",1039],["T_CONSTANT_ENCAPSED_STRING","'-'",1039],["T_WHITESPACE"," ",1039],".",["T_WHITESPACE"," ",1039],["T_STRING","implode",1039],"(",["T_CONSTANT_ENCAPSED_STRING","'-'",1039],",",["T_WHITESPACE"," ",1039],["T_VARIABLE","$autogenerateOptions",1039],")",")",";",["T_WHITESPACE","\n        ",1039],"}",["T_WHITESPACE","\n\n        ",1040],["T_IF","if",1042],["T_WHITESPACE"," ",1042],"(",["T_VARIABLE","$product",1042],["T_OBJECT_OPERATOR","->",1042],["T_STRING","getSkuAutogenerate",1042],"(",")",")",["T_WHITESPACE"," ",1042],"{",["T_WHITESPACE","\n            ",1042],["T_VARIABLE","$product",1043],["T_OBJECT_OPERATOR","->",1043],["T_STRING","setSku",1043],"(",["T_VARIABLE","$configurableProduct",1043],["T_OBJECT_OPERATOR","->",1043],["T_STRING","getSku",1043],"(",")",["T_WHITESPACE"," ",1043],".",["T_WHITESPACE"," ",1043],["T_CONSTANT_ENCAPSED_STRING","'-'",1043],["T_WHITESPACE"," ",1043],".",["T_WHITESPACE"," ",1043],["T_STRING","implode",1043],"(",["T_CONSTANT_ENCAPSED_STRING","'-'",1043],",",["T_WHITESPACE"," ",1043],["T_VARIABLE","$autogenerateOptions",1043],")",")",";",["T_WHITESPACE","\n        ",1043],"}",["T_WHITESPACE","\n\n        ",1044],["T_IF","if",1046],["T_WHITESPACE"," ",1046],"(",["T_STRING","is_array",1046],"(",["T_VARIABLE","$product",1046],["T_OBJECT_OPERATOR","->",1046],["T_STRING","getPricing",1046],"(",")",")",")",["T_WHITESPACE"," ",1046],"{",["T_WHITESPACE","\n           ",1046],["T_VARIABLE","$result",1047],"[",["T_CONSTANT_ENCAPSED_STRING","'pricing'",1047],"]",["T_WHITESPACE"," ",1047],"=",["T_WHITESPACE"," ",1047],["T_VARIABLE","$product",1047],["T_OBJECT_OPERATOR","->",1047],["T_STRING","getPricing",1047],"(",")",";",["T_WHITESPACE","\n           ",1047],["T_VARIABLE","$additionalPrice",1048],["T_WHITESPACE"," ",1048],"=",["T_WHITESPACE"," ",1048],["T_LNUMBER","0",1048],";",["T_WHITESPACE","\n           ",1048],["T_FOREACH","foreach",1049],["T_WHITESPACE"," ",1049],"(",["T_VARIABLE","$product",1049],["T_OBJECT_OPERATOR","->",1049],["T_STRING","getPricing",1049],"(",")",["T_WHITESPACE"," ",1049],["T_AS","as",1049],["T_WHITESPACE"," ",1049],["T_VARIABLE","$pricing",1049],")",["T_WHITESPACE"," ",1049],"{",["T_WHITESPACE","\n               ",1049],["T_IF","if",1050],["T_WHITESPACE"," ",1050],"(",["T_EMPTY","empty",1050],"(",["T_VARIABLE","$pricing",1050],"[",["T_CONSTANT_ENCAPSED_STRING","'value'",1050],"]",")",")",["T_WHITESPACE"," ",1050],"{",["T_WHITESPACE","\n                   ",1050],["T_CONTINUE","continue",1051],";",["T_WHITESPACE","\n               ",1051],"}",["T_WHITESPACE","\n\n               ",1052],["T_IF","if",1054],["T_WHITESPACE"," ",1054],"(","!",["T_EMPTY","empty",1054],"(",["T_VARIABLE","$pricing",1054],"[",["T_CONSTANT_ENCAPSED_STRING","'is_percent'",1054],"]",")",")",["T_WHITESPACE"," ",1054],"{",["T_WHITESPACE","\n                   ",1054],["T_VARIABLE","$pricing",1055],"[",["T_CONSTANT_ENCAPSED_STRING","'value'",1055],"]",["T_WHITESPACE"," ",1055],"=",["T_WHITESPACE"," ",1055],"(",["T_VARIABLE","$pricing",1055],"[",["T_CONSTANT_ENCAPSED_STRING","'value'",1055],"]","\/",["T_LNUMBER","100",1055],")","*",["T_VARIABLE","$product",1055],["T_OBJECT_OPERATOR","->",1055],["T_STRING","getPrice",1055],"(",")",";",["T_WHITESPACE","\n               ",1055],"}",["T_WHITESPACE","\n\n               ",1056],["T_VARIABLE","$additionalPrice",1058],["T_WHITESPACE"," ",1058],["T_PLUS_EQUAL","+=",1058],["T_WHITESPACE"," ",1058],["T_VARIABLE","$pricing",1058],"[",["T_CONSTANT_ENCAPSED_STRING","'value'",1058],"]",";",["T_WHITESPACE","\n           ",1058],"}",["T_WHITESPACE","\n\n           ",1059],["T_VARIABLE","$product",1061],["T_OBJECT_OPERATOR","->",1061],["T_STRING","setPrice",1061],"(",["T_VARIABLE","$product",1061],["T_OBJECT_OPERATOR","->",1061],["T_STRING","getPrice",1061],"(",")",["T_WHITESPACE"," ",1061],"+",["T_WHITESPACE"," ",1061],["T_VARIABLE","$additionalPrice",1061],")",";",["T_WHITESPACE","\n           ",1061],["T_VARIABLE","$product",1062],["T_OBJECT_OPERATOR","->",1062],["T_STRING","unsPricing",1062],"(",")",";",["T_WHITESPACE","\n        ",1062],"}",["T_WHITESPACE","\n\n        ",1063],["T_TRY","try",1065],["T_WHITESPACE"," ",1065],"{",["T_WHITESPACE","\n            ",1065],["T_DOC_COMMENT","\/**\n             * @todo implement full validation process with errors returning which are ignoring now\n             *\/",1066],["T_WHITESPACE","\n",1068],["T_COMMENT","\/\/            if (is_array($errors = $product->validate())) {\n",1069],["T_COMMENT","\/\/                $strErrors = array();\n",1070],["T_COMMENT","\/\/                foreach($errors as $code=>$error) {\n",1071],["T_COMMENT","\/\/                    $codeLabel = $product->getResource()->getAttribute($code)->getFrontend()->getLabel();\n",1072],["T_COMMENT","\/\/                    $strErrors[] = ($error === true)? Mage::helper('catalog')->__('Value for \"%s\" is invalid.', $codeLabel) : Mage::helper('catalog')->__('Value for \"%s\" is invalid: %s', $codeLabel, $error);\n",1073],["T_COMMENT","\/\/                }\n",1074],["T_COMMENT","\/\/                Mage::throwException('data_invalid', implode(\"\\n\", $strErrors));\n",1075],["T_COMMENT","\/\/            }\n",1076],["T_WHITESPACE","\n            ",1077],["T_VARIABLE","$product",1078],["T_OBJECT_OPERATOR","->",1078],["T_STRING","validate",1078],"(",")",";",["T_WHITESPACE","\n            ",1078],["T_VARIABLE","$product",1079],["T_OBJECT_OPERATOR","->",1079],["T_STRING","save",1079],"(",")",";",["T_WHITESPACE","\n            ",1079],["T_VARIABLE","$result",1080],"[",["T_CONSTANT_ENCAPSED_STRING","'product_id'",1080],"]",["T_WHITESPACE"," ",1080],"=",["T_WHITESPACE"," ",1080],["T_VARIABLE","$product",1080],["T_OBJECT_OPERATOR","->",1080],["T_STRING","getId",1080],"(",")",";",["T_WHITESPACE","\n            ",1080],["T_VARIABLE","$this",1081],["T_OBJECT_OPERATOR","->",1081],["T_STRING","_getSession",1081],"(",")",["T_OBJECT_OPERATOR","->",1081],["T_STRING","addSuccess",1081],"(",["T_STRING","Mage",1081],["T_DOUBLE_COLON","::",1081],["T_STRING","helper",1081],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog'",1081],")",["T_OBJECT_OPERATOR","->",1081],["T_STRING","__",1081],"(",["T_CONSTANT_ENCAPSED_STRING","'The product has been created.'",1081],")",")",";",["T_WHITESPACE","\n            ",1081],["T_VARIABLE","$this",1082],["T_OBJECT_OPERATOR","->",1082],["T_STRING","_initLayoutMessages",1082],"(",["T_CONSTANT_ENCAPSED_STRING","'adminhtml\/session'",1082],")",";",["T_WHITESPACE","\n            ",1082],["T_VARIABLE","$result",1083],"[",["T_CONSTANT_ENCAPSED_STRING","'messages'",1083],"]",["T_WHITESPACE","  ",1083],"=",["T_WHITESPACE"," ",1083],["T_VARIABLE","$this",1083],["T_OBJECT_OPERATOR","->",1083],["T_STRING","getLayout",1083],"(",")",["T_OBJECT_OPERATOR","->",1083],["T_STRING","getMessagesBlock",1083],"(",")",["T_OBJECT_OPERATOR","->",1083],["T_STRING","getGroupedHtml",1083],"(",")",";",["T_WHITESPACE","\n        ",1083],"}",["T_WHITESPACE"," ",1084],["T_CATCH","catch",1084],["T_WHITESPACE"," ",1084],"(",["T_STRING","Mage_Core_Exception",1084],["T_WHITESPACE"," ",1084],["T_VARIABLE","$e",1084],")",["T_WHITESPACE"," ",1084],"{",["T_WHITESPACE","\n            ",1084],["T_VARIABLE","$result",1085],"[",["T_CONSTANT_ENCAPSED_STRING","'error'",1085],"]",["T_WHITESPACE"," ",1085],"=",["T_WHITESPACE"," ",1085],["T_ARRAY","array",1085],"(",["T_WHITESPACE","\n                ",1085],["T_CONSTANT_ENCAPSED_STRING","'message'",1086],["T_WHITESPACE"," ",1086],["T_DOUBLE_ARROW","=>",1086],["T_WHITESPACE","  ",1086],["T_VARIABLE","$e",1086],["T_OBJECT_OPERATOR","->",1086],["T_STRING","getMessage",1086],"(",")",",",["T_WHITESPACE","\n                ",1086],["T_CONSTANT_ENCAPSED_STRING","'fields'",1087],["T_WHITESPACE","  ",1087],["T_DOUBLE_ARROW","=>",1087],["T_WHITESPACE"," ",1087],["T_ARRAY","array",1087],"(",["T_WHITESPACE","\n                    ",1087],["T_CONSTANT_ENCAPSED_STRING","'sku'",1088],["T_WHITESPACE","  ",1088],["T_DOUBLE_ARROW","=>",1088],["T_WHITESPACE","  ",1088],["T_VARIABLE","$product",1088],["T_OBJECT_OPERATOR","->",1088],["T_STRING","getSku",1088],"(",")",["T_WHITESPACE","\n                ",1088],")",["T_WHITESPACE","\n            ",1089],")",";",["T_WHITESPACE","\n\n        ",1090],"}",["T_WHITESPACE"," ",1092],["T_CATCH","catch",1092],["T_WHITESPACE"," ",1092],"(",["T_STRING","Exception",1092],["T_WHITESPACE"," ",1092],["T_VARIABLE","$e",1092],")",["T_WHITESPACE"," ",1092],"{",["T_WHITESPACE","\n            ",1092],["T_STRING","Mage",1093],["T_DOUBLE_COLON","::",1093],["T_STRING","logException",1093],"(",["T_VARIABLE","$e",1093],")",";",["T_WHITESPACE","\n            ",1093],["T_VARIABLE","$result",1094],"[",["T_CONSTANT_ENCAPSED_STRING","'error'",1094],"]",["T_WHITESPACE"," ",1094],"=",["T_WHITESPACE"," ",1094],["T_ARRAY","array",1094],"(",["T_WHITESPACE","\n                ",1094],["T_CONSTANT_ENCAPSED_STRING","'message'",1095],["T_WHITESPACE","   ",1095],["T_DOUBLE_ARROW","=>",1095],["T_WHITESPACE","  ",1095],["T_VARIABLE","$this",1095],["T_OBJECT_OPERATOR","->",1095],["T_STRING","__",1095],"(",["T_CONSTANT_ENCAPSED_STRING","'An error occurred while saving the product. '",1095],")",["T_WHITESPACE"," ",1095],".",["T_WHITESPACE"," ",1095],["T_VARIABLE","$e",1095],["T_OBJECT_OPERATOR","->",1095],["T_STRING","getMessage",1095],"(",")",["T_WHITESPACE","\n             ",1095],")",";",["T_WHITESPACE","\n        ",1096],"}",["T_WHITESPACE","\n\n        ",1097],["T_VARIABLE","$this",1099],["T_OBJECT_OPERATOR","->",1099],["T_STRING","getResponse",1099],"(",")",["T_OBJECT_OPERATOR","->",1099],["T_STRING","setBody",1099],"(",["T_STRING","Mage",1099],["T_DOUBLE_COLON","::",1099],["T_STRING","helper",1099],"(",["T_CONSTANT_ENCAPSED_STRING","'core'",1099],")",["T_OBJECT_OPERATOR","->",1099],["T_STRING","jsonEncode",1099],"(",["T_VARIABLE","$result",1099],")",")",";",["T_WHITESPACE","\n    ",1099],"}",["T_WHITESPACE","\n\n    ",1100],["T_DOC_COMMENT","\/**\n     * Check for is allowed\n     *\n     * @return boolean\n     *\/",1102],["T_WHITESPACE","\n    ",1106],["T_PROTECTED","protected",1107],["T_WHITESPACE"," ",1107],["T_FUNCTION","function",1107],["T_WHITESPACE"," ",1107],["T_STRING","_isAllowed",1107],"(",")",["T_WHITESPACE","\n    ",1107],"{",["T_WHITESPACE","\n        ",1108],["T_RETURN","return",1109],["T_WHITESPACE"," ",1109],["T_STRING","Mage",1109],["T_DOUBLE_COLON","::",1109],["T_STRING","getSingleton",1109],"(",["T_CONSTANT_ENCAPSED_STRING","'admin\/session'",1109],")",["T_OBJECT_OPERATOR","->",1109],["T_STRING","isAllowed",1109],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog\/products'",1109],")",";",["T_WHITESPACE","\n    ",1109],"}",["T_WHITESPACE","\n\n    ",1110],["T_DOC_COMMENT","\/**\n     * Show item update result from updateAction\n     * in Wishlist and Cart controllers.\n     *\n     *\/",1112],["T_WHITESPACE","\n    ",1116],["T_PUBLIC","public",1117],["T_WHITESPACE"," ",1117],["T_FUNCTION","function",1117],["T_WHITESPACE"," ",1117],["T_STRING","showUpdateResultAction",1117],"(",")",["T_WHITESPACE","\n    ",1117],"{",["T_WHITESPACE","\n        ",1118],["T_VARIABLE","$session",1119],["T_WHITESPACE"," ",1119],"=",["T_WHITESPACE"," ",1119],["T_STRING","Mage",1119],["T_DOUBLE_COLON","::",1119],["T_STRING","getSingleton",1119],"(",["T_CONSTANT_ENCAPSED_STRING","'adminhtml\/session'",1119],")",";",["T_WHITESPACE","\n        ",1119],["T_IF","if",1120],["T_WHITESPACE"," ",1120],"(",["T_VARIABLE","$session",1120],["T_OBJECT_OPERATOR","->",1120],["T_STRING","hasCompositeProductResult",1120],"(",")",["T_WHITESPACE"," ",1120],["T_BOOLEAN_AND","&&",1120],["T_WHITESPACE"," ",1120],["T_VARIABLE","$session",1120],["T_OBJECT_OPERATOR","->",1120],["T_STRING","getCompositeProductResult",1120],"(",")",["T_WHITESPACE"," ",1120],["T_INSTANCEOF","instanceof",1120],["T_WHITESPACE"," ",1120],["T_STRING","Varien_Object",1120],")","{",["T_WHITESPACE","\n            ",1120],["T_COMMENT","\/* @var $helper Mage_Adminhtml_Helper_Catalog_Product_Composite *\/",1121],["T_WHITESPACE","\n            ",1121],["T_VARIABLE","$helper",1122],["T_WHITESPACE"," ",1122],"=",["T_WHITESPACE"," ",1122],["T_STRING","Mage",1122],["T_DOUBLE_COLON","::",1122],["T_STRING","helper",1122],"(",["T_CONSTANT_ENCAPSED_STRING","'adminhtml\/catalog_product_composite'",1122],")",";",["T_WHITESPACE","\n            ",1122],["T_VARIABLE","$helper",1123],["T_OBJECT_OPERATOR","->",1123],["T_STRING","renderUpdateResult",1123],"(",["T_VARIABLE","$this",1123],",",["T_WHITESPACE"," ",1123],["T_VARIABLE","$session",1123],["T_OBJECT_OPERATOR","->",1123],["T_STRING","getCompositeProductResult",1123],"(",")",")",";",["T_WHITESPACE","\n            ",1123],["T_VARIABLE","$session",1124],["T_OBJECT_OPERATOR","->",1124],["T_STRING","unsCompositeProductResult",1124],"(",")",";",["T_WHITESPACE","\n        ",1124],"}",["T_WHITESPACE"," ",1125],["T_ELSE","else",1125],["T_WHITESPACE"," ",1125],"{",["T_WHITESPACE","\n            ",1125],["T_VARIABLE","$session",1126],["T_OBJECT_OPERATOR","->",1126],["T_STRING","unsCompositeProductResult",1126],"(",")",";",["T_WHITESPACE","\n            ",1126],["T_RETURN","return",1127],["T_WHITESPACE"," ",1127],["T_STRING","false",1127],";",["T_WHITESPACE","\n        ",1127],"}",["T_WHITESPACE","\n    ",1128],"}",["T_WHITESPACE","\n",1129],"}",["T_WHITESPACE","\n",1130]]