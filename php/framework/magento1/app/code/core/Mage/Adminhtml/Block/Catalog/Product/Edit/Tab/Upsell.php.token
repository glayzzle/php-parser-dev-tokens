[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Magento\n *\n * NOTICE OF LICENSE\n *\n * This source file is subject to the Open Software License (OSL 3.0)\n * that is bundled with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/opensource.org\/licenses\/osl-3.0.php\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@magento.com so we can send you a copy immediately.\n *\n * DISCLAIMER\n *\n * Do not edit or add to this file if you wish to upgrade Magento to newer\n * versions in the future. If you wish to customize Magento for your\n * needs please refer to http:\/\/www.magento.com for more information.\n *\n * @category    Mage\n * @package     Mage_Adminhtml\n * @copyright  Copyright (c) 2006-2016 X.commerce, Inc. and affiliates (http:\/\/www.magento.com)\n * @license    http:\/\/opensource.org\/licenses\/osl-3.0.php  Open Software License (OSL 3.0)\n *\/",2],["T_WHITESPACE","\n\n",25],["T_DOC_COMMENT","\/**\n * Upsell products admin grid\n *\n * @category   Mage\n * @package    Mage_Adminhtml\n * @author      Magento Core Team <core@magentocommerce.com>\n *\/",27],["T_WHITESPACE","\n",33],["T_CLASS","class",34],["T_WHITESPACE"," ",34],["T_STRING","Mage_Adminhtml_Block_Catalog_Product_Edit_Tab_Upsell",34],["T_WHITESPACE"," ",34],["T_EXTENDS","extends",34],["T_WHITESPACE"," ",34],["T_STRING","Mage_Adminhtml_Block_Widget_Grid",34],["T_WHITESPACE","\n",34],"{",["T_WHITESPACE","\n\n    ",35],["T_DOC_COMMENT","\/**\n     * Set grid params\n     *\n     *\/",37],["T_WHITESPACE","\n    ",40],["T_PUBLIC","public",41],["T_WHITESPACE"," ",41],["T_FUNCTION","function",41],["T_WHITESPACE"," ",41],["T_STRING","__construct",41],"(",")",["T_WHITESPACE","\n    ",41],"{",["T_WHITESPACE","\n        ",42],["T_STRING","parent",43],["T_DOUBLE_COLON","::",43],["T_STRING","__construct",43],"(",")",";",["T_WHITESPACE","\n        ",43],["T_VARIABLE","$this",44],["T_OBJECT_OPERATOR","->",44],["T_STRING","setId",44],"(",["T_CONSTANT_ENCAPSED_STRING","'up_sell_product_grid'",44],")",";",["T_WHITESPACE","\n        ",44],["T_VARIABLE","$this",45],["T_OBJECT_OPERATOR","->",45],["T_STRING","setDefaultSort",45],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_id'",45],")",";",["T_WHITESPACE","\n        ",45],["T_VARIABLE","$this",46],["T_OBJECT_OPERATOR","->",46],["T_STRING","setUseAjax",46],"(",["T_STRING","true",46],")",";",["T_WHITESPACE","\n        ",46],["T_IF","if",47],["T_WHITESPACE"," ",47],"(",["T_VARIABLE","$this",47],["T_OBJECT_OPERATOR","->",47],["T_STRING","_getProduct",47],"(",")",["T_OBJECT_OPERATOR","->",47],["T_STRING","getId",47],"(",")",")",["T_WHITESPACE"," ",47],"{",["T_WHITESPACE","\n            ",47],["T_VARIABLE","$this",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","setDefaultFilter",48],"(",["T_ARRAY","array",48],"(",["T_CONSTANT_ENCAPSED_STRING","'in_products'",48],["T_DOUBLE_ARROW","=>",48],["T_LNUMBER","1",48],")",")",";",["T_WHITESPACE","\n        ",48],"}",["T_WHITESPACE","\n        ",49],["T_IF","if",50],["T_WHITESPACE"," ",50],"(",["T_VARIABLE","$this",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","isReadonly",50],"(",")",")",["T_WHITESPACE"," ",50],"{",["T_WHITESPACE","\n            ",50],["T_VARIABLE","$this",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","setFilterVisibility",51],"(",["T_STRING","false",51],")",";",["T_WHITESPACE","\n        ",51],"}",["T_WHITESPACE","\n    ",52],"}",["T_WHITESPACE","\n\n    ",53],["T_DOC_COMMENT","\/**\n     * Retirve currently edited product model\n     *\n     * @return Mage_Catalog_Model_Product\n     *\/",55],["T_WHITESPACE","\n    ",59],["T_PROTECTED","protected",60],["T_WHITESPACE"," ",60],["T_FUNCTION","function",60],["T_WHITESPACE"," ",60],["T_STRING","_getProduct",60],"(",")",["T_WHITESPACE","\n    ",60],"{",["T_WHITESPACE","\n        ",61],["T_RETURN","return",62],["T_WHITESPACE"," ",62],["T_STRING","Mage",62],["T_DOUBLE_COLON","::",62],["T_STRING","registry",62],"(",["T_CONSTANT_ENCAPSED_STRING","'current_product'",62],")",";",["T_WHITESPACE","\n    ",62],"}",["T_WHITESPACE","\n\n    ",63],["T_DOC_COMMENT","\/**\n     * Add filter\n     *\n     * @param object $column\n     * @return Mage_Adminhtml_Block_Catalog_Product_Edit_Tab_Upsell\n     *\/",65],["T_WHITESPACE","\n    ",70],["T_PROTECTED","protected",71],["T_WHITESPACE"," ",71],["T_FUNCTION","function",71],["T_WHITESPACE"," ",71],["T_STRING","_addColumnFilterToCollection",71],"(",["T_VARIABLE","$column",71],")",["T_WHITESPACE","\n    ",71],"{",["T_WHITESPACE","\n        ",72],["T_COMMENT","\/\/ Set custom filter for in product flag\n",73],["T_WHITESPACE","        ",74],["T_IF","if",74],["T_WHITESPACE"," ",74],"(",["T_VARIABLE","$column",74],["T_OBJECT_OPERATOR","->",74],["T_STRING","getId",74],"(",")",["T_WHITESPACE"," ",74],["T_IS_EQUAL","==",74],["T_WHITESPACE"," ",74],["T_CONSTANT_ENCAPSED_STRING","'in_products'",74],")",["T_WHITESPACE"," ",74],"{",["T_WHITESPACE","\n            ",74],["T_VARIABLE","$productIds",75],["T_WHITESPACE"," ",75],"=",["T_WHITESPACE"," ",75],["T_VARIABLE","$this",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","_getSelectedProducts",75],"(",")",";",["T_WHITESPACE","\n            ",75],["T_IF","if",76],["T_WHITESPACE"," ",76],"(",["T_EMPTY","empty",76],"(",["T_VARIABLE","$productIds",76],")",")",["T_WHITESPACE"," ",76],"{",["T_WHITESPACE","\n                ",76],["T_VARIABLE","$productIds",77],["T_WHITESPACE"," ",77],"=",["T_WHITESPACE"," ",77],["T_LNUMBER","0",77],";",["T_WHITESPACE","\n            ",77],"}",["T_WHITESPACE","\n            ",78],["T_IF","if",79],["T_WHITESPACE"," ",79],"(",["T_VARIABLE","$column",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","getFilter",79],"(",")",["T_OBJECT_OPERATOR","->",79],["T_STRING","getValue",79],"(",")",")",["T_WHITESPACE"," ",79],"{",["T_WHITESPACE","\n                ",79],["T_VARIABLE","$this",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","getCollection",80],"(",")",["T_OBJECT_OPERATOR","->",80],["T_STRING","addFieldToFilter",80],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_id'",80],",",["T_WHITESPACE"," ",80],["T_ARRAY","array",80],"(",["T_CONSTANT_ENCAPSED_STRING","'in'",80],["T_DOUBLE_ARROW","=>",80],["T_VARIABLE","$productIds",80],")",")",";",["T_WHITESPACE","\n            ",80],"}",["T_WHITESPACE"," ",81],["T_ELSE","else",81],["T_WHITESPACE"," ",81],"{",["T_WHITESPACE","\n                ",81],["T_IF","if",82],"(",["T_VARIABLE","$productIds",82],")",["T_WHITESPACE"," ",82],"{",["T_WHITESPACE","\n                    ",82],["T_VARIABLE","$this",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","getCollection",83],"(",")",["T_OBJECT_OPERATOR","->",83],["T_STRING","addFieldToFilter",83],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_id'",83],",",["T_WHITESPACE"," ",83],["T_ARRAY","array",83],"(",["T_CONSTANT_ENCAPSED_STRING","'nin'",83],["T_DOUBLE_ARROW","=>",83],["T_VARIABLE","$productIds",83],")",")",";",["T_WHITESPACE","\n                ",83],"}",["T_WHITESPACE","\n            ",84],"}",["T_WHITESPACE","\n        ",85],"}",["T_WHITESPACE"," ",86],["T_ELSE","else",86],["T_WHITESPACE"," ",86],"{",["T_WHITESPACE","\n            ",86],["T_STRING","parent",87],["T_DOUBLE_COLON","::",87],["T_STRING","_addColumnFilterToCollection",87],"(",["T_VARIABLE","$column",87],")",";",["T_WHITESPACE","\n        ",87],"}",["T_WHITESPACE","\n        ",88],["T_RETURN","return",89],["T_WHITESPACE"," ",89],["T_VARIABLE","$this",89],";",["T_WHITESPACE","\n    ",89],"}",["T_WHITESPACE","\n\n    ",90],["T_DOC_COMMENT","\/**\n     * Checks when this block is readonly\n     *\n     * @return boolean\n     *\/",92],["T_WHITESPACE","\n    ",96],["T_PUBLIC","public",97],["T_WHITESPACE"," ",97],["T_FUNCTION","function",97],["T_WHITESPACE"," ",97],["T_STRING","isReadonly",97],"(",")",["T_WHITESPACE","\n    ",97],"{",["T_WHITESPACE","\n        ",98],["T_RETURN","return",99],["T_WHITESPACE"," ",99],["T_VARIABLE","$this",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","_getProduct",99],"(",")",["T_OBJECT_OPERATOR","->",99],["T_STRING","getUpsellReadonly",99],"(",")",";",["T_WHITESPACE","\n    ",99],"}",["T_WHITESPACE","\n\n    ",100],["T_DOC_COMMENT","\/**\n     * Prepare collection\n     *\n     * @return Mage_Adminhtml_Block_Widget_Grid\n     *\/",102],["T_WHITESPACE","\n    ",106],["T_PROTECTED","protected",107],["T_WHITESPACE"," ",107],["T_FUNCTION","function",107],["T_WHITESPACE"," ",107],["T_STRING","_prepareCollection",107],"(",")",["T_WHITESPACE","\n    ",107],"{",["T_WHITESPACE","\n        ",108],["T_VARIABLE","$collection",109],["T_WHITESPACE"," ",109],"=",["T_WHITESPACE"," ",109],["T_STRING","Mage",109],["T_DOUBLE_COLON","::",109],["T_STRING","getModel",109],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog\/product_link'",109],")",["T_OBJECT_OPERATOR","->",109],["T_STRING","useUpSellLinks",109],"(",")",["T_WHITESPACE","\n            ",109],["T_OBJECT_OPERATOR","->",110],["T_STRING","getProductCollection",110],"(",")",["T_WHITESPACE","\n            ",110],["T_OBJECT_OPERATOR","->",111],["T_STRING","setProduct",111],"(",["T_VARIABLE","$this",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","_getProduct",111],"(",")",")",["T_WHITESPACE","\n            ",111],["T_OBJECT_OPERATOR","->",112],["T_STRING","addAttributeToSelect",112],"(",["T_CONSTANT_ENCAPSED_STRING","'*'",112],")",";",["T_WHITESPACE","\n\n        ",112],["T_IF","if",114],["T_WHITESPACE"," ",114],"(",["T_VARIABLE","$this",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","isReadonly",114],"(",")",")",["T_WHITESPACE"," ",114],"{",["T_WHITESPACE","\n            ",114],["T_VARIABLE","$productIds",115],["T_WHITESPACE"," ",115],"=",["T_WHITESPACE"," ",115],["T_VARIABLE","$this",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","_getSelectedProducts",115],"(",")",";",["T_WHITESPACE","\n            ",115],["T_IF","if",116],["T_WHITESPACE"," ",116],"(",["T_EMPTY","empty",116],"(",["T_VARIABLE","$productIds",116],")",")",["T_WHITESPACE"," ",116],"{",["T_WHITESPACE","\n                ",116],["T_VARIABLE","$productIds",117],["T_WHITESPACE"," ",117],"=",["T_WHITESPACE"," ",117],["T_ARRAY","array",117],"(",["T_LNUMBER","0",117],")",";",["T_WHITESPACE","\n            ",117],"}",["T_WHITESPACE","\n            ",118],["T_VARIABLE","$collection",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","addFieldToFilter",119],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_id'",119],",",["T_WHITESPACE"," ",119],["T_ARRAY","array",119],"(",["T_CONSTANT_ENCAPSED_STRING","'in'",119],["T_DOUBLE_ARROW","=>",119],["T_VARIABLE","$productIds",119],")",")",";",["T_WHITESPACE","\n        ",119],"}",["T_WHITESPACE","\n\n        ",120],["T_VARIABLE","$this",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","setCollection",122],"(",["T_VARIABLE","$collection",122],")",";",["T_WHITESPACE","\n        ",122],["T_RETURN","return",123],["T_WHITESPACE"," ",123],["T_STRING","parent",123],["T_DOUBLE_COLON","::",123],["T_STRING","_prepareCollection",123],"(",")",";",["T_WHITESPACE","\n    ",123],"}",["T_WHITESPACE","\n\n    ",124],["T_DOC_COMMENT","\/**\n     * Add columns to grid\n     *\n     * @return Mage_Adminhtml_Block_Widget_Grid\n     *\/",126],["T_WHITESPACE","\n    ",130],["T_PROTECTED","protected",131],["T_WHITESPACE"," ",131],["T_FUNCTION","function",131],["T_WHITESPACE"," ",131],["T_STRING","_prepareColumns",131],"(",")",["T_WHITESPACE","\n    ",131],"{",["T_WHITESPACE","\n        ",132],["T_IF","if",133],["T_WHITESPACE"," ",133],"(","!",["T_VARIABLE","$this",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","_getProduct",133],"(",")",["T_OBJECT_OPERATOR","->",133],["T_STRING","getUpsellReadonly",133],"(",")",")",["T_WHITESPACE"," ",133],"{",["T_WHITESPACE","\n            ",133],["T_VARIABLE","$this",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","addColumn",134],"(",["T_CONSTANT_ENCAPSED_STRING","'in_products'",134],",",["T_WHITESPACE"," ",134],["T_ARRAY","array",134],"(",["T_WHITESPACE","\n                ",134],["T_CONSTANT_ENCAPSED_STRING","'header_css_class'",135],["T_WHITESPACE"," ",135],["T_DOUBLE_ARROW","=>",135],["T_WHITESPACE"," ",135],["T_CONSTANT_ENCAPSED_STRING","'a-center'",135],",",["T_WHITESPACE","\n                ",135],["T_CONSTANT_ENCAPSED_STRING","'type'",136],["T_WHITESPACE","      ",136],["T_DOUBLE_ARROW","=>",136],["T_WHITESPACE"," ",136],["T_CONSTANT_ENCAPSED_STRING","'checkbox'",136],",",["T_WHITESPACE","\n                ",136],["T_CONSTANT_ENCAPSED_STRING","'name'",137],["T_WHITESPACE","      ",137],["T_DOUBLE_ARROW","=>",137],["T_WHITESPACE"," ",137],["T_CONSTANT_ENCAPSED_STRING","'in_products'",137],",",["T_WHITESPACE","\n                ",137],["T_CONSTANT_ENCAPSED_STRING","'values'",138],["T_WHITESPACE","    ",138],["T_DOUBLE_ARROW","=>",138],["T_WHITESPACE"," ",138],["T_VARIABLE","$this",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","_getSelectedProducts",138],"(",")",",",["T_WHITESPACE","\n                ",138],["T_CONSTANT_ENCAPSED_STRING","'align'",139],["T_WHITESPACE","     ",139],["T_DOUBLE_ARROW","=>",139],["T_WHITESPACE"," ",139],["T_CONSTANT_ENCAPSED_STRING","'center'",139],",",["T_WHITESPACE","\n                ",139],["T_CONSTANT_ENCAPSED_STRING","'index'",140],["T_WHITESPACE","     ",140],["T_DOUBLE_ARROW","=>",140],["T_WHITESPACE"," ",140],["T_CONSTANT_ENCAPSED_STRING","'entity_id'",140],["T_WHITESPACE","\n            ",140],")",")",";",["T_WHITESPACE","\n        ",141],"}",["T_WHITESPACE","\n\n        ",142],["T_VARIABLE","$this",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","addColumn",144],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_id'",144],",",["T_WHITESPACE"," ",144],["T_ARRAY","array",144],"(",["T_WHITESPACE","\n            ",144],["T_CONSTANT_ENCAPSED_STRING","'header'",145],["T_WHITESPACE","    ",145],["T_DOUBLE_ARROW","=>",145],["T_WHITESPACE"," ",145],["T_STRING","Mage",145],["T_DOUBLE_COLON","::",145],["T_STRING","helper",145],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog'",145],")",["T_OBJECT_OPERATOR","->",145],["T_STRING","__",145],"(",["T_CONSTANT_ENCAPSED_STRING","'ID'",145],")",",",["T_WHITESPACE","\n            ",145],["T_CONSTANT_ENCAPSED_STRING","'sortable'",146],["T_WHITESPACE","  ",146],["T_DOUBLE_ARROW","=>",146],["T_WHITESPACE"," ",146],["T_STRING","true",146],",",["T_WHITESPACE","\n            ",146],["T_CONSTANT_ENCAPSED_STRING","'width'",147],["T_WHITESPACE","     ",147],["T_DOUBLE_ARROW","=>",147],["T_WHITESPACE"," ",147],["T_LNUMBER","60",147],",",["T_WHITESPACE","\n            ",147],["T_CONSTANT_ENCAPSED_STRING","'index'",148],["T_WHITESPACE","     ",148],["T_DOUBLE_ARROW","=>",148],["T_WHITESPACE"," ",148],["T_CONSTANT_ENCAPSED_STRING","'entity_id'",148],["T_WHITESPACE","\n        ",148],")",")",";",["T_WHITESPACE","\n        ",149],["T_VARIABLE","$this",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","addColumn",150],"(",["T_CONSTANT_ENCAPSED_STRING","'name'",150],",",["T_WHITESPACE"," ",150],["T_ARRAY","array",150],"(",["T_WHITESPACE","\n            ",150],["T_CONSTANT_ENCAPSED_STRING","'header'",151],["T_WHITESPACE","    ",151],["T_DOUBLE_ARROW","=>",151],["T_WHITESPACE"," ",151],["T_STRING","Mage",151],["T_DOUBLE_COLON","::",151],["T_STRING","helper",151],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog'",151],")",["T_OBJECT_OPERATOR","->",151],["T_STRING","__",151],"(",["T_CONSTANT_ENCAPSED_STRING","'Name'",151],")",",",["T_WHITESPACE","\n            ",151],["T_CONSTANT_ENCAPSED_STRING","'index'",152],["T_WHITESPACE","     ",152],["T_DOUBLE_ARROW","=>",152],["T_WHITESPACE"," ",152],["T_CONSTANT_ENCAPSED_STRING","'name'",152],["T_WHITESPACE","\n        ",152],")",")",";",["T_WHITESPACE","\n\n        ",153],["T_VARIABLE","$this",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","addColumn",155],"(",["T_CONSTANT_ENCAPSED_STRING","'type'",155],",",["T_WHITESPACE"," ",155],["T_ARRAY","array",155],"(",["T_WHITESPACE","\n            ",155],["T_CONSTANT_ENCAPSED_STRING","'header'",156],["T_WHITESPACE","    ",156],["T_DOUBLE_ARROW","=>",156],["T_WHITESPACE"," ",156],["T_STRING","Mage",156],["T_DOUBLE_COLON","::",156],["T_STRING","helper",156],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog'",156],")",["T_OBJECT_OPERATOR","->",156],["T_STRING","__",156],"(",["T_CONSTANT_ENCAPSED_STRING","'Type'",156],")",",",["T_WHITESPACE","\n            ",156],["T_CONSTANT_ENCAPSED_STRING","'width'",157],["T_WHITESPACE","     ",157],["T_DOUBLE_ARROW","=>",157],["T_WHITESPACE"," ",157],["T_LNUMBER","100",157],",",["T_WHITESPACE","\n            ",157],["T_CONSTANT_ENCAPSED_STRING","'index'",158],["T_WHITESPACE","     ",158],["T_DOUBLE_ARROW","=>",158],["T_WHITESPACE"," ",158],["T_CONSTANT_ENCAPSED_STRING","'type_id'",158],",",["T_WHITESPACE","\n            ",158],["T_CONSTANT_ENCAPSED_STRING","'type'",159],["T_WHITESPACE","      ",159],["T_DOUBLE_ARROW","=>",159],["T_WHITESPACE"," ",159],["T_CONSTANT_ENCAPSED_STRING","'options'",159],",",["T_WHITESPACE","\n            ",159],["T_CONSTANT_ENCAPSED_STRING","'options'",160],["T_WHITESPACE","   ",160],["T_DOUBLE_ARROW","=>",160],["T_WHITESPACE"," ",160],["T_STRING","Mage",160],["T_DOUBLE_COLON","::",160],["T_STRING","getSingleton",160],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog\/product_type'",160],")",["T_OBJECT_OPERATOR","->",160],["T_STRING","getOptionArray",160],"(",")",",",["T_WHITESPACE","\n        ",160],")",")",";",["T_WHITESPACE","\n\n        ",161],["T_VARIABLE","$sets",163],["T_WHITESPACE"," ",163],"=",["T_WHITESPACE"," ",163],["T_STRING","Mage",163],["T_DOUBLE_COLON","::",163],["T_STRING","getResourceModel",163],"(",["T_CONSTANT_ENCAPSED_STRING","'eav\/entity_attribute_set_collection'",163],")",["T_WHITESPACE","\n            ",163],["T_OBJECT_OPERATOR","->",164],["T_STRING","setEntityTypeFilter",164],"(",["T_STRING","Mage",164],["T_DOUBLE_COLON","::",164],["T_STRING","getModel",164],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog\/product'",164],")",["T_OBJECT_OPERATOR","->",164],["T_STRING","getResource",164],"(",")",["T_OBJECT_OPERATOR","->",164],["T_STRING","getTypeId",164],"(",")",")",["T_WHITESPACE","\n            ",164],["T_OBJECT_OPERATOR","->",165],["T_STRING","load",165],"(",")",["T_WHITESPACE","\n            ",165],["T_OBJECT_OPERATOR","->",166],["T_STRING","toOptionHash",166],"(",")",";",["T_WHITESPACE","\n\n        ",166],["T_VARIABLE","$this",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","addColumn",168],"(",["T_CONSTANT_ENCAPSED_STRING","'set_name'",168],",",["T_WHITESPACE"," ",168],["T_ARRAY","array",168],"(",["T_WHITESPACE","\n            ",168],["T_CONSTANT_ENCAPSED_STRING","'header'",169],["T_WHITESPACE","    ",169],["T_DOUBLE_ARROW","=>",169],["T_WHITESPACE"," ",169],["T_STRING","Mage",169],["T_DOUBLE_COLON","::",169],["T_STRING","helper",169],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog'",169],")",["T_OBJECT_OPERATOR","->",169],["T_STRING","__",169],"(",["T_CONSTANT_ENCAPSED_STRING","'Attrib. Set Name'",169],")",",",["T_WHITESPACE","\n            ",169],["T_CONSTANT_ENCAPSED_STRING","'width'",170],["T_WHITESPACE","     ",170],["T_DOUBLE_ARROW","=>",170],["T_WHITESPACE"," ",170],["T_LNUMBER","130",170],",",["T_WHITESPACE","\n            ",170],["T_CONSTANT_ENCAPSED_STRING","'index'",171],["T_WHITESPACE","     ",171],["T_DOUBLE_ARROW","=>",171],["T_WHITESPACE"," ",171],["T_CONSTANT_ENCAPSED_STRING","'attribute_set_id'",171],",",["T_WHITESPACE","\n            ",171],["T_CONSTANT_ENCAPSED_STRING","'type'",172],["T_WHITESPACE","      ",172],["T_DOUBLE_ARROW","=>",172],["T_WHITESPACE"," ",172],["T_CONSTANT_ENCAPSED_STRING","'options'",172],",",["T_WHITESPACE","\n            ",172],["T_CONSTANT_ENCAPSED_STRING","'options'",173],["T_WHITESPACE","   ",173],["T_DOUBLE_ARROW","=>",173],["T_WHITESPACE"," ",173],["T_VARIABLE","$sets",173],",",["T_WHITESPACE","\n        ",173],")",")",";",["T_WHITESPACE","\n\n        ",174],["T_VARIABLE","$this",176],["T_OBJECT_OPERATOR","->",176],["T_STRING","addColumn",176],"(",["T_CONSTANT_ENCAPSED_STRING","'status'",176],",",["T_WHITESPACE"," ",176],["T_ARRAY","array",176],"(",["T_WHITESPACE","\n            ",176],["T_CONSTANT_ENCAPSED_STRING","'header'",177],["T_WHITESPACE","    ",177],["T_DOUBLE_ARROW","=>",177],["T_WHITESPACE"," ",177],["T_STRING","Mage",177],["T_DOUBLE_COLON","::",177],["T_STRING","helper",177],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog'",177],")",["T_OBJECT_OPERATOR","->",177],["T_STRING","__",177],"(",["T_CONSTANT_ENCAPSED_STRING","'Status'",177],")",",",["T_WHITESPACE","\n            ",177],["T_CONSTANT_ENCAPSED_STRING","'width'",178],["T_WHITESPACE","     ",178],["T_DOUBLE_ARROW","=>",178],["T_WHITESPACE"," ",178],["T_LNUMBER","90",178],",",["T_WHITESPACE","\n            ",178],["T_CONSTANT_ENCAPSED_STRING","'index'",179],["T_WHITESPACE","     ",179],["T_DOUBLE_ARROW","=>",179],["T_WHITESPACE"," ",179],["T_CONSTANT_ENCAPSED_STRING","'status'",179],",",["T_WHITESPACE","\n            ",179],["T_CONSTANT_ENCAPSED_STRING","'type'",180],["T_WHITESPACE","      ",180],["T_DOUBLE_ARROW","=>",180],["T_WHITESPACE"," ",180],["T_CONSTANT_ENCAPSED_STRING","'options'",180],",",["T_WHITESPACE","\n            ",180],["T_CONSTANT_ENCAPSED_STRING","'options'",181],["T_WHITESPACE","   ",181],["T_DOUBLE_ARROW","=>",181],["T_WHITESPACE"," ",181],["T_STRING","Mage",181],["T_DOUBLE_COLON","::",181],["T_STRING","getSingleton",181],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog\/product_status'",181],")",["T_OBJECT_OPERATOR","->",181],["T_STRING","getOptionArray",181],"(",")",",",["T_WHITESPACE","\n        ",181],")",")",";",["T_WHITESPACE","\n\n        ",182],["T_VARIABLE","$this",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","addColumn",184],"(",["T_CONSTANT_ENCAPSED_STRING","'visibility'",184],",",["T_WHITESPACE"," ",184],["T_ARRAY","array",184],"(",["T_WHITESPACE","\n            ",184],["T_CONSTANT_ENCAPSED_STRING","'header'",185],["T_WHITESPACE","    ",185],["T_DOUBLE_ARROW","=>",185],["T_WHITESPACE"," ",185],["T_STRING","Mage",185],["T_DOUBLE_COLON","::",185],["T_STRING","helper",185],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog'",185],")",["T_OBJECT_OPERATOR","->",185],["T_STRING","__",185],"(",["T_CONSTANT_ENCAPSED_STRING","'Visibility'",185],")",",",["T_WHITESPACE","\n            ",185],["T_CONSTANT_ENCAPSED_STRING","'width'",186],["T_WHITESPACE","     ",186],["T_DOUBLE_ARROW","=>",186],["T_WHITESPACE"," ",186],["T_LNUMBER","90",186],",",["T_WHITESPACE","\n            ",186],["T_CONSTANT_ENCAPSED_STRING","'index'",187],["T_WHITESPACE","     ",187],["T_DOUBLE_ARROW","=>",187],["T_WHITESPACE"," ",187],["T_CONSTANT_ENCAPSED_STRING","'visibility'",187],",",["T_WHITESPACE","\n            ",187],["T_CONSTANT_ENCAPSED_STRING","'type'",188],["T_WHITESPACE","      ",188],["T_DOUBLE_ARROW","=>",188],["T_WHITESPACE"," ",188],["T_CONSTANT_ENCAPSED_STRING","'options'",188],",",["T_WHITESPACE","\n            ",188],["T_CONSTANT_ENCAPSED_STRING","'options'",189],["T_WHITESPACE","   ",189],["T_DOUBLE_ARROW","=>",189],["T_WHITESPACE"," ",189],["T_STRING","Mage",189],["T_DOUBLE_COLON","::",189],["T_STRING","getSingleton",189],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog\/product_visibility'",189],")",["T_OBJECT_OPERATOR","->",189],["T_STRING","getOptionArray",189],"(",")",",",["T_WHITESPACE","\n        ",189],")",")",";",["T_WHITESPACE","\n\n        ",190],["T_VARIABLE","$this",192],["T_OBJECT_OPERATOR","->",192],["T_STRING","addColumn",192],"(",["T_CONSTANT_ENCAPSED_STRING","'sku'",192],",",["T_WHITESPACE"," ",192],["T_ARRAY","array",192],"(",["T_WHITESPACE","\n            ",192],["T_CONSTANT_ENCAPSED_STRING","'header'",193],["T_WHITESPACE","    ",193],["T_DOUBLE_ARROW","=>",193],["T_WHITESPACE"," ",193],["T_STRING","Mage",193],["T_DOUBLE_COLON","::",193],["T_STRING","helper",193],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog'",193],")",["T_OBJECT_OPERATOR","->",193],["T_STRING","__",193],"(",["T_CONSTANT_ENCAPSED_STRING","'SKU'",193],")",",",["T_WHITESPACE","\n            ",193],["T_CONSTANT_ENCAPSED_STRING","'width'",194],["T_WHITESPACE","     ",194],["T_DOUBLE_ARROW","=>",194],["T_WHITESPACE"," ",194],["T_LNUMBER","80",194],",",["T_WHITESPACE","\n            ",194],["T_CONSTANT_ENCAPSED_STRING","'index'",195],["T_WHITESPACE","     ",195],["T_DOUBLE_ARROW","=>",195],["T_WHITESPACE"," ",195],["T_CONSTANT_ENCAPSED_STRING","'sku'",195],["T_WHITESPACE","\n        ",195],")",")",";",["T_WHITESPACE","\n\n        ",196],["T_VARIABLE","$this",198],["T_OBJECT_OPERATOR","->",198],["T_STRING","addColumn",198],"(",["T_CONSTANT_ENCAPSED_STRING","'price'",198],",",["T_WHITESPACE"," ",198],["T_ARRAY","array",198],"(",["T_WHITESPACE","\n            ",198],["T_CONSTANT_ENCAPSED_STRING","'header'",199],["T_WHITESPACE","        ",199],["T_DOUBLE_ARROW","=>",199],["T_WHITESPACE"," ",199],["T_STRING","Mage",199],["T_DOUBLE_COLON","::",199],["T_STRING","helper",199],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog'",199],")",["T_OBJECT_OPERATOR","->",199],["T_STRING","__",199],"(",["T_CONSTANT_ENCAPSED_STRING","'Price'",199],")",",",["T_WHITESPACE","\n            ",199],["T_CONSTANT_ENCAPSED_STRING","'type'",200],["T_WHITESPACE","          ",200],["T_DOUBLE_ARROW","=>",200],["T_WHITESPACE"," ",200],["T_CONSTANT_ENCAPSED_STRING","'currency'",200],",",["T_WHITESPACE","\n            ",200],["T_CONSTANT_ENCAPSED_STRING","'currency_code'",201],["T_WHITESPACE"," ",201],["T_DOUBLE_ARROW","=>",201],["T_WHITESPACE"," ",201],["T_STRING_CAST","(string)",201],["T_WHITESPACE"," ",201],["T_STRING","Mage",201],["T_DOUBLE_COLON","::",201],["T_STRING","getStoreConfig",201],"(",["T_STRING","Mage_Directory_Model_Currency",201],["T_DOUBLE_COLON","::",201],["T_STRING","XML_PATH_CURRENCY_BASE",201],")",",",["T_WHITESPACE","\n            ",201],["T_CONSTANT_ENCAPSED_STRING","'index'",202],["T_WHITESPACE","         ",202],["T_DOUBLE_ARROW","=>",202],["T_WHITESPACE"," ",202],["T_CONSTANT_ENCAPSED_STRING","'price'",202],["T_WHITESPACE","\n        ",202],")",")",";",["T_WHITESPACE","\n\n        ",203],["T_VARIABLE","$this",205],["T_OBJECT_OPERATOR","->",205],["T_STRING","addColumn",205],"(",["T_CONSTANT_ENCAPSED_STRING","'position'",205],",",["T_WHITESPACE"," ",205],["T_ARRAY","array",205],"(",["T_WHITESPACE","\n            ",205],["T_CONSTANT_ENCAPSED_STRING","'header'",206],["T_WHITESPACE","                    ",206],["T_DOUBLE_ARROW","=>",206],["T_WHITESPACE"," ",206],["T_STRING","Mage",206],["T_DOUBLE_COLON","::",206],["T_STRING","helper",206],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog'",206],")",["T_OBJECT_OPERATOR","->",206],["T_STRING","__",206],"(",["T_CONSTANT_ENCAPSED_STRING","'Position'",206],")",",",["T_WHITESPACE","\n            ",206],["T_CONSTANT_ENCAPSED_STRING","'name'",207],["T_WHITESPACE","                      ",207],["T_DOUBLE_ARROW","=>",207],["T_WHITESPACE"," ",207],["T_CONSTANT_ENCAPSED_STRING","'position'",207],",",["T_WHITESPACE","\n            ",207],["T_CONSTANT_ENCAPSED_STRING","'type'",208],["T_WHITESPACE","                      ",208],["T_DOUBLE_ARROW","=>",208],["T_WHITESPACE"," ",208],["T_CONSTANT_ENCAPSED_STRING","'number'",208],",",["T_WHITESPACE","\n            ",208],["T_CONSTANT_ENCAPSED_STRING","'width'",209],["T_WHITESPACE","                     ",209],["T_DOUBLE_ARROW","=>",209],["T_WHITESPACE"," ",209],["T_LNUMBER","60",209],",",["T_WHITESPACE","\n            ",209],["T_CONSTANT_ENCAPSED_STRING","'validate_class'",210],["T_WHITESPACE","            ",210],["T_DOUBLE_ARROW","=>",210],["T_WHITESPACE"," ",210],["T_CONSTANT_ENCAPSED_STRING","'validate-number'",210],",",["T_WHITESPACE","\n            ",210],["T_CONSTANT_ENCAPSED_STRING","'index'",211],["T_WHITESPACE","                     ",211],["T_DOUBLE_ARROW","=>",211],["T_WHITESPACE"," ",211],["T_CONSTANT_ENCAPSED_STRING","'position'",211],",",["T_WHITESPACE","\n            ",211],["T_CONSTANT_ENCAPSED_STRING","'editable'",212],["T_WHITESPACE","                  ",212],["T_DOUBLE_ARROW","=>",212],["T_WHITESPACE"," ",212],"!",["T_VARIABLE","$this",212],["T_OBJECT_OPERATOR","->",212],["T_STRING","_getProduct",212],"(",")",["T_OBJECT_OPERATOR","->",212],["T_STRING","getUpsellReadonly",212],"(",")",",",["T_WHITESPACE","\n            ",212],["T_CONSTANT_ENCAPSED_STRING","'edit_only'",213],["T_WHITESPACE","                 ",213],["T_DOUBLE_ARROW","=>",213],["T_WHITESPACE"," ",213],"!",["T_VARIABLE","$this",213],["T_OBJECT_OPERATOR","->",213],["T_STRING","_getProduct",213],"(",")",["T_OBJECT_OPERATOR","->",213],["T_STRING","getId",213],"(",")",",",["T_WHITESPACE","\n            ",213],["T_CONSTANT_ENCAPSED_STRING","'filter_condition_callback'",214],["T_WHITESPACE"," ",214],["T_DOUBLE_ARROW","=>",214],["T_WHITESPACE"," ",214],["T_ARRAY","array",214],"(",["T_VARIABLE","$this",214],",",["T_WHITESPACE"," ",214],["T_CONSTANT_ENCAPSED_STRING","'_addLinkModelFilterCallback'",214],")",["T_WHITESPACE","\n        ",214],")",")",";",["T_WHITESPACE","\n\n        ",215],["T_RETURN","return",217],["T_WHITESPACE"," ",217],["T_STRING","parent",217],["T_DOUBLE_COLON","::",217],["T_STRING","_prepareColumns",217],"(",")",";",["T_WHITESPACE","\n    ",217],"}",["T_WHITESPACE","\n\n    ",218],["T_DOC_COMMENT","\/**\n     * Rerieve grid URL\n     *\n     * @return string\n     *\/",220],["T_WHITESPACE","\n    ",224],["T_PUBLIC","public",225],["T_WHITESPACE"," ",225],["T_FUNCTION","function",225],["T_WHITESPACE"," ",225],["T_STRING","getGridUrl",225],"(",")",["T_WHITESPACE","\n    ",225],"{",["T_WHITESPACE","\n        ",226],["T_RETURN","return",227],["T_WHITESPACE"," ",227],["T_VARIABLE","$this",227],["T_OBJECT_OPERATOR","->",227],["T_STRING","_getData",227],"(",["T_CONSTANT_ENCAPSED_STRING","'grid_url'",227],")",["T_WHITESPACE"," ",227],"?",["T_WHITESPACE"," ",227],["T_VARIABLE","$this",227],["T_OBJECT_OPERATOR","->",227],["T_STRING","_getData",227],"(",["T_CONSTANT_ENCAPSED_STRING","'grid_url'",227],")",["T_WHITESPACE"," ",227],":",["T_WHITESPACE"," ",227],["T_VARIABLE","$this",227],["T_OBJECT_OPERATOR","->",227],["T_STRING","getUrl",227],"(",["T_CONSTANT_ENCAPSED_STRING","'*\/*\/upsellGrid'",227],",",["T_WHITESPACE"," ",227],["T_ARRAY","array",227],"(",["T_CONSTANT_ENCAPSED_STRING","'_current'",227],["T_DOUBLE_ARROW","=>",227],["T_STRING","true",227],")",")",";",["T_WHITESPACE","\n    ",227],"}",["T_WHITESPACE","\n\n    ",228],["T_DOC_COMMENT","\/**\n     * Retrieve selected upsell products\n     *\n     * @return array\n     *\/",230],["T_WHITESPACE","\n    ",234],["T_PROTECTED","protected",235],["T_WHITESPACE"," ",235],["T_FUNCTION","function",235],["T_WHITESPACE"," ",235],["T_STRING","_getSelectedProducts",235],"(",")",["T_WHITESPACE","\n    ",235],"{",["T_WHITESPACE","\n        ",236],["T_VARIABLE","$products",237],["T_WHITESPACE"," ",237],"=",["T_WHITESPACE"," ",237],["T_VARIABLE","$this",237],["T_OBJECT_OPERATOR","->",237],["T_STRING","getProductsUpsell",237],"(",")",";",["T_WHITESPACE","\n        ",237],["T_IF","if",238],["T_WHITESPACE"," ",238],"(","!",["T_STRING","is_array",238],"(",["T_VARIABLE","$products",238],")",")",["T_WHITESPACE"," ",238],"{",["T_WHITESPACE","\n            ",238],["T_VARIABLE","$products",239],["T_WHITESPACE"," ",239],"=",["T_WHITESPACE"," ",239],["T_STRING","array_keys",239],"(",["T_VARIABLE","$this",239],["T_OBJECT_OPERATOR","->",239],["T_STRING","getSelectedUpsellProducts",239],"(",")",")",";",["T_WHITESPACE","\n        ",239],"}",["T_WHITESPACE","\n        ",240],["T_RETURN","return",241],["T_WHITESPACE"," ",241],["T_VARIABLE","$products",241],";",["T_WHITESPACE","\n    ",241],"}",["T_WHITESPACE","\n\n    ",242],["T_DOC_COMMENT","\/**\n     * Retrieve upsell products\n     *\n     * @return array\n     *\/",244],["T_WHITESPACE","\n    ",248],["T_PUBLIC","public",249],["T_WHITESPACE"," ",249],["T_FUNCTION","function",249],["T_WHITESPACE"," ",249],["T_STRING","getSelectedUpsellProducts",249],"(",")",["T_WHITESPACE","\n    ",249],"{",["T_WHITESPACE","\n        ",250],["T_VARIABLE","$products",251],["T_WHITESPACE"," ",251],"=",["T_WHITESPACE"," ",251],["T_ARRAY","array",251],"(",")",";",["T_WHITESPACE","\n        ",251],["T_FOREACH","foreach",252],["T_WHITESPACE"," ",252],"(",["T_STRING","Mage",252],["T_DOUBLE_COLON","::",252],["T_STRING","registry",252],"(",["T_CONSTANT_ENCAPSED_STRING","'current_product'",252],")",["T_OBJECT_OPERATOR","->",252],["T_STRING","getUpSellProducts",252],"(",")",["T_WHITESPACE"," ",252],["T_AS","as",252],["T_WHITESPACE"," ",252],["T_VARIABLE","$product",252],")",["T_WHITESPACE"," ",252],"{",["T_WHITESPACE","\n            ",252],["T_VARIABLE","$products",253],"[",["T_VARIABLE","$product",253],["T_OBJECT_OPERATOR","->",253],["T_STRING","getId",253],"(",")","]",["T_WHITESPACE"," ",253],"=",["T_WHITESPACE"," ",253],["T_ARRAY","array",253],"(",["T_CONSTANT_ENCAPSED_STRING","'position'",253],["T_WHITESPACE"," ",253],["T_DOUBLE_ARROW","=>",253],["T_WHITESPACE"," ",253],["T_VARIABLE","$product",253],["T_OBJECT_OPERATOR","->",253],["T_STRING","getPosition",253],"(",")",")",";",["T_WHITESPACE","\n        ",253],"}",["T_WHITESPACE","\n        ",254],["T_RETURN","return",255],["T_WHITESPACE"," ",255],["T_VARIABLE","$products",255],";",["T_WHITESPACE","\n    ",255],"}",["T_WHITESPACE","\n\n",256],"}",["T_WHITESPACE","\n",258]]