[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Magento\n *\n * NOTICE OF LICENSE\n *\n * This source file is subject to the Open Software License (OSL 3.0)\n * that is bundled with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/opensource.org\/licenses\/osl-3.0.php\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@magento.com so we can send you a copy immediately.\n *\n * DISCLAIMER\n *\n * Do not edit or add to this file if you wish to upgrade Magento to newer\n * versions in the future. If you wish to customize Magento for your\n * needs please refer to http:\/\/www.magento.com for more information.\n *\n * @category    Mage\n * @package     Mage_Catalog\n * @copyright  Copyright (c) 2006-2016 X.commerce, Inc. and affiliates (http:\/\/www.magento.com)\n * @license    http:\/\/opensource.org\/licenses\/osl-3.0.php  Open Software License (OSL 3.0)\n *\/",2],["T_WHITESPACE","\n\n\n",25],["T_CLASS","class",28],["T_WHITESPACE"," ",28],["T_STRING","Mage_Catalog_Model_Config",28],["T_WHITESPACE"," ",28],["T_EXTENDS","extends",28],["T_WHITESPACE"," ",28],["T_STRING","Mage_Eav_Model_Config",28],["T_WHITESPACE","\n",28],"{",["T_WHITESPACE","\n    ",29],["T_CONST","const",30],["T_WHITESPACE"," ",30],["T_STRING","XML_PATH_LIST_DEFAULT_SORT_BY",30],["T_WHITESPACE","     ",30],"=",["T_WHITESPACE"," ",30],["T_CONSTANT_ENCAPSED_STRING","'catalog\/frontend\/default_sort_by'",30],";",["T_WHITESPACE","\n\n    ",30],["T_PROTECTED","protected",32],["T_WHITESPACE"," ",32],["T_VARIABLE","$_attributeSetsById",32],";",["T_WHITESPACE","\n    ",32],["T_PROTECTED","protected",33],["T_WHITESPACE"," ",33],["T_VARIABLE","$_attributeSetsByName",33],";",["T_WHITESPACE","\n\n    ",33],["T_PROTECTED","protected",35],["T_WHITESPACE"," ",35],["T_VARIABLE","$_attributeGroupsById",35],";",["T_WHITESPACE","\n    ",35],["T_PROTECTED","protected",36],["T_WHITESPACE"," ",36],["T_VARIABLE","$_attributeGroupsByName",36],";",["T_WHITESPACE","\n\n    ",36],["T_PROTECTED","protected",38],["T_WHITESPACE"," ",38],["T_VARIABLE","$_productTypesById",38],";",["T_WHITESPACE","\n\n    ",38],["T_DOC_COMMENT","\/**\n     * Array of attributes codes needed for product load\n     *\n     * @var array\n     *\/",40],["T_WHITESPACE","\n    ",44],["T_PROTECTED","protected",45],["T_WHITESPACE"," ",45],["T_VARIABLE","$_productAttributes",45],";",["T_WHITESPACE","\n\n    ",45],["T_DOC_COMMENT","\/**\n     * Product Attributes used in product listing\n     *\n     * @var array\n     *\/",47],["T_WHITESPACE","\n    ",51],["T_PROTECTED","protected",52],["T_WHITESPACE"," ",52],["T_VARIABLE","$_usedInProductListing",52],";",["T_WHITESPACE","\n\n    ",52],["T_DOC_COMMENT","\/**\n     * Product Attributes For Sort By\n     *\n     * @var array\n     *\/",54],["T_WHITESPACE","\n    ",58],["T_PROTECTED","protected",59],["T_WHITESPACE"," ",59],["T_VARIABLE","$_usedForSortBy",59],";",["T_WHITESPACE","\n\n    ",59],["T_PROTECTED","protected",61],["T_WHITESPACE"," ",61],["T_VARIABLE","$_storeId",61],["T_WHITESPACE"," ",61],"=",["T_WHITESPACE"," ",61],["T_STRING","null",61],";",["T_WHITESPACE","\n\n    ",61],["T_CONST","const",63],["T_WHITESPACE"," ",63],["T_STRING","XML_PATH_PRODUCT_COLLECTION_ATTRIBUTES",63],["T_WHITESPACE"," ",63],"=",["T_WHITESPACE"," ",63],["T_CONSTANT_ENCAPSED_STRING","'frontend\/product\/collection\/attributes'",63],";",["T_WHITESPACE","\n\n    ",63],["T_DOC_COMMENT","\/**\n     * Initialize resource model\n     *\n     *\/",65],["T_WHITESPACE","\n    ",68],["T_PROTECTED","protected",69],["T_WHITESPACE"," ",69],["T_FUNCTION","function",69],["T_WHITESPACE"," ",69],["T_STRING","_construct",69],"(",")",["T_WHITESPACE","\n    ",69],"{",["T_WHITESPACE","\n        ",70],["T_VARIABLE","$this",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","_init",71],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog\/config'",71],")",";",["T_WHITESPACE","\n    ",71],"}",["T_WHITESPACE","\n\n    ",72],["T_DOC_COMMENT","\/**\n     * Set store id\n     *\n     * @param integer $storeId\n     * @return Mage_Catalog_Model_Config\n     *\/",74],["T_WHITESPACE","\n    ",79],["T_PUBLIC","public",80],["T_WHITESPACE"," ",80],["T_FUNCTION","function",80],["T_WHITESPACE"," ",80],["T_STRING","setStoreId",80],"(",["T_VARIABLE","$storeId",80],")",["T_WHITESPACE","\n    ",80],"{",["T_WHITESPACE","\n        ",81],["T_VARIABLE","$this",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","_storeId",82],["T_WHITESPACE"," ",82],"=",["T_WHITESPACE"," ",82],["T_VARIABLE","$storeId",82],";",["T_WHITESPACE","\n        ",82],["T_RETURN","return",83],["T_WHITESPACE"," ",83],["T_VARIABLE","$this",83],";",["T_WHITESPACE","\n    ",83],"}",["T_WHITESPACE","\n\n    ",84],["T_DOC_COMMENT","\/**\n     * Return store id, if is not set return current app store\n     *\n     * @return integer\n     *\/",86],["T_WHITESPACE","\n    ",90],["T_PUBLIC","public",91],["T_WHITESPACE"," ",91],["T_FUNCTION","function",91],["T_WHITESPACE"," ",91],["T_STRING","getStoreId",91],"(",")",["T_WHITESPACE","\n    ",91],"{",["T_WHITESPACE","\n        ",92],["T_IF","if",93],["T_WHITESPACE"," ",93],"(",["T_VARIABLE","$this",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","_storeId",93],["T_WHITESPACE"," ",93],["T_IS_IDENTICAL","===",93],["T_WHITESPACE"," ",93],["T_STRING","null",93],")",["T_WHITESPACE"," ",93],"{",["T_WHITESPACE","\n            ",93],["T_RETURN","return",94],["T_WHITESPACE"," ",94],["T_STRING","Mage",94],["T_DOUBLE_COLON","::",94],["T_STRING","app",94],"(",")",["T_OBJECT_OPERATOR","->",94],["T_STRING","getStore",94],"(",")",["T_OBJECT_OPERATOR","->",94],["T_STRING","getId",94],"(",")",";",["T_WHITESPACE","\n        ",94],"}",["T_WHITESPACE","\n        ",95],["T_RETURN","return",96],["T_WHITESPACE"," ",96],["T_VARIABLE","$this",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","_storeId",96],";",["T_WHITESPACE","\n    ",96],"}",["T_WHITESPACE","\n\n    ",97],["T_PUBLIC","public",99],["T_WHITESPACE"," ",99],["T_FUNCTION","function",99],["T_WHITESPACE"," ",99],["T_STRING","loadAttributeSets",99],"(",")",["T_WHITESPACE","\n    ",99],"{",["T_WHITESPACE","\n        ",100],["T_IF","if",101],["T_WHITESPACE"," ",101],"(",["T_VARIABLE","$this",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","_attributeSetsById",101],")",["T_WHITESPACE"," ",101],"{",["T_WHITESPACE","\n            ",101],["T_RETURN","return",102],["T_WHITESPACE"," ",102],["T_VARIABLE","$this",102],";",["T_WHITESPACE","\n        ",102],"}",["T_WHITESPACE","\n\n        ",103],["T_VARIABLE","$attributeSetCollection",105],["T_WHITESPACE"," ",105],"=",["T_WHITESPACE"," ",105],["T_STRING","Mage",105],["T_DOUBLE_COLON","::",105],["T_STRING","getResourceModel",105],"(",["T_CONSTANT_ENCAPSED_STRING","'eav\/entity_attribute_set_collection'",105],")",["T_WHITESPACE","\n            ",105],["T_OBJECT_OPERATOR","->",106],["T_STRING","load",106],"(",")",";",["T_WHITESPACE","\n\n        ",106],["T_VARIABLE","$this",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","_attributeSetsById",108],["T_WHITESPACE"," ",108],"=",["T_WHITESPACE"," ",108],["T_ARRAY","array",108],"(",")",";",["T_WHITESPACE","\n        ",108],["T_VARIABLE","$this",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","_attributeSetsByName",109],["T_WHITESPACE"," ",109],"=",["T_WHITESPACE"," ",109],["T_ARRAY","array",109],"(",")",";",["T_WHITESPACE","\n        ",109],["T_FOREACH","foreach",110],["T_WHITESPACE"," ",110],"(",["T_VARIABLE","$attributeSetCollection",110],["T_WHITESPACE"," ",110],["T_AS","as",110],["T_WHITESPACE"," ",110],["T_VARIABLE","$id",110],["T_DOUBLE_ARROW","=>",110],["T_VARIABLE","$attributeSet",110],")",["T_WHITESPACE"," ",110],"{",["T_WHITESPACE","\n            ",110],["T_VARIABLE","$entityTypeId",111],["T_WHITESPACE"," ",111],"=",["T_WHITESPACE"," ",111],["T_VARIABLE","$attributeSet",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","getEntityTypeId",111],"(",")",";",["T_WHITESPACE","\n            ",111],["T_VARIABLE","$name",112],["T_WHITESPACE"," ",112],"=",["T_WHITESPACE"," ",112],["T_VARIABLE","$attributeSet",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","getAttributeSetName",112],"(",")",";",["T_WHITESPACE","\n            ",112],["T_VARIABLE","$this",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","_attributeSetsById",113],"[",["T_VARIABLE","$entityTypeId",113],"]","[",["T_VARIABLE","$id",113],"]",["T_WHITESPACE"," ",113],"=",["T_WHITESPACE"," ",113],["T_VARIABLE","$name",113],";",["T_WHITESPACE","\n            ",113],["T_VARIABLE","$this",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","_attributeSetsByName",114],"[",["T_VARIABLE","$entityTypeId",114],"]","[",["T_STRING","strtolower",114],"(",["T_VARIABLE","$name",114],")","]",["T_WHITESPACE"," ",114],"=",["T_WHITESPACE"," ",114],["T_VARIABLE","$id",114],";",["T_WHITESPACE","\n        ",114],"}",["T_WHITESPACE","\n        ",115],["T_RETURN","return",116],["T_WHITESPACE"," ",116],["T_VARIABLE","$this",116],";",["T_WHITESPACE","\n    ",116],"}",["T_WHITESPACE","\n\n    ",117],["T_PUBLIC","public",119],["T_WHITESPACE"," ",119],["T_FUNCTION","function",119],["T_WHITESPACE"," ",119],["T_STRING","getAttributeSetName",119],"(",["T_VARIABLE","$entityTypeId",119],",",["T_WHITESPACE"," ",119],["T_VARIABLE","$id",119],")",["T_WHITESPACE","\n    ",119],"{",["T_WHITESPACE","\n        ",120],["T_IF","if",121],["T_WHITESPACE"," ",121],"(","!",["T_STRING","is_numeric",121],"(",["T_VARIABLE","$id",121],")",")",["T_WHITESPACE"," ",121],"{",["T_WHITESPACE","\n            ",121],["T_RETURN","return",122],["T_WHITESPACE"," ",122],["T_VARIABLE","$id",122],";",["T_WHITESPACE","\n        ",122],"}",["T_WHITESPACE","\n        ",123],["T_VARIABLE","$this",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","loadAttributeSets",124],"(",")",";",["T_WHITESPACE","\n\n        ",124],["T_IF","if",126],["T_WHITESPACE"," ",126],"(","!",["T_STRING","is_numeric",126],"(",["T_VARIABLE","$entityTypeId",126],")",")",["T_WHITESPACE"," ",126],"{",["T_WHITESPACE","\n            ",126],["T_VARIABLE","$entityTypeId",127],["T_WHITESPACE"," ",127],"=",["T_WHITESPACE"," ",127],["T_VARIABLE","$this",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","getEntityType",127],"(",["T_VARIABLE","$entityTypeId",127],")",["T_OBJECT_OPERATOR","->",127],["T_STRING","getId",127],"(",")",";",["T_WHITESPACE","\n        ",127],"}",["T_WHITESPACE","\n        ",128],["T_RETURN","return",129],["T_WHITESPACE"," ",129],["T_ISSET","isset",129],"(",["T_VARIABLE","$this",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","_attributeSetsById",129],"[",["T_VARIABLE","$entityTypeId",129],"]","[",["T_VARIABLE","$id",129],"]",")",["T_WHITESPACE"," ",129],"?",["T_WHITESPACE"," ",129],["T_VARIABLE","$this",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","_attributeSetsById",129],"[",["T_VARIABLE","$entityTypeId",129],"]","[",["T_VARIABLE","$id",129],"]",["T_WHITESPACE"," ",129],":",["T_WHITESPACE"," ",129],["T_STRING","false",129],";",["T_WHITESPACE","\n    ",129],"}",["T_WHITESPACE","\n\n    ",130],["T_PUBLIC","public",132],["T_WHITESPACE"," ",132],["T_FUNCTION","function",132],["T_WHITESPACE"," ",132],["T_STRING","getAttributeSetId",132],"(",["T_VARIABLE","$entityTypeId",132],",",["T_WHITESPACE"," ",132],["T_VARIABLE","$name",132],")",["T_WHITESPACE","\n    ",132],"{",["T_WHITESPACE","\n        ",133],["T_IF","if",134],["T_WHITESPACE"," ",134],"(",["T_STRING","is_numeric",134],"(",["T_VARIABLE","$name",134],")",")",["T_WHITESPACE"," ",134],"{",["T_WHITESPACE","\n            ",134],["T_RETURN","return",135],["T_WHITESPACE"," ",135],["T_VARIABLE","$name",135],";",["T_WHITESPACE","\n        ",135],"}",["T_WHITESPACE","\n        ",136],["T_VARIABLE","$this",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","loadAttributeSets",137],"(",")",";",["T_WHITESPACE","\n\n        ",137],["T_IF","if",139],["T_WHITESPACE"," ",139],"(","!",["T_STRING","is_numeric",139],"(",["T_VARIABLE","$entityTypeId",139],")",")",["T_WHITESPACE"," ",139],"{",["T_WHITESPACE","\n            ",139],["T_VARIABLE","$entityTypeId",140],["T_WHITESPACE"," ",140],"=",["T_WHITESPACE"," ",140],["T_VARIABLE","$this",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","getEntityType",140],"(",["T_VARIABLE","$entityTypeId",140],")",["T_OBJECT_OPERATOR","->",140],["T_STRING","getId",140],"(",")",";",["T_WHITESPACE","\n        ",140],"}",["T_WHITESPACE","\n        ",141],["T_VARIABLE","$name",142],["T_WHITESPACE"," ",142],"=",["T_WHITESPACE"," ",142],["T_STRING","strtolower",142],"(",["T_VARIABLE","$name",142],")",";",["T_WHITESPACE","\n        ",142],["T_RETURN","return",143],["T_WHITESPACE"," ",143],["T_ISSET","isset",143],"(",["T_VARIABLE","$this",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","_attributeSetsByName",143],"[",["T_VARIABLE","$entityTypeId",143],"]","[",["T_VARIABLE","$name",143],"]",")",["T_WHITESPACE"," ",143],"?",["T_WHITESPACE"," ",143],["T_VARIABLE","$this",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","_attributeSetsByName",143],"[",["T_VARIABLE","$entityTypeId",143],"]","[",["T_VARIABLE","$name",143],"]",["T_WHITESPACE"," ",143],":",["T_WHITESPACE"," ",143],["T_STRING","false",143],";",["T_WHITESPACE","\n    ",143],"}",["T_WHITESPACE","\n\n    ",144],["T_PUBLIC","public",146],["T_WHITESPACE"," ",146],["T_FUNCTION","function",146],["T_WHITESPACE"," ",146],["T_STRING","loadAttributeGroups",146],"(",")",["T_WHITESPACE","\n    ",146],"{",["T_WHITESPACE","\n        ",147],["T_IF","if",148],["T_WHITESPACE"," ",148],"(",["T_VARIABLE","$this",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","_attributeGroupsById",148],")",["T_WHITESPACE"," ",148],"{",["T_WHITESPACE","\n            ",148],["T_RETURN","return",149],["T_WHITESPACE"," ",149],["T_VARIABLE","$this",149],";",["T_WHITESPACE","\n        ",149],"}",["T_WHITESPACE","\n\n        ",150],["T_VARIABLE","$attributeSetCollection",152],["T_WHITESPACE"," ",152],"=",["T_WHITESPACE"," ",152],["T_STRING","Mage",152],["T_DOUBLE_COLON","::",152],["T_STRING","getResourceModel",152],"(",["T_CONSTANT_ENCAPSED_STRING","'eav\/entity_attribute_group_collection'",152],")",["T_WHITESPACE","\n            ",152],["T_OBJECT_OPERATOR","->",153],["T_STRING","load",153],"(",")",";",["T_WHITESPACE","\n\n        ",153],["T_VARIABLE","$this",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","_attributeGroupsById",155],["T_WHITESPACE"," ",155],"=",["T_WHITESPACE"," ",155],["T_ARRAY","array",155],"(",")",";",["T_WHITESPACE","\n        ",155],["T_VARIABLE","$this",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","_attributeGroupsByName",156],["T_WHITESPACE"," ",156],"=",["T_WHITESPACE"," ",156],["T_ARRAY","array",156],"(",")",";",["T_WHITESPACE","\n        ",156],["T_FOREACH","foreach",157],["T_WHITESPACE"," ",157],"(",["T_VARIABLE","$attributeSetCollection",157],["T_WHITESPACE"," ",157],["T_AS","as",157],["T_WHITESPACE"," ",157],["T_VARIABLE","$id",157],["T_DOUBLE_ARROW","=>",157],["T_VARIABLE","$attributeGroup",157],")",["T_WHITESPACE"," ",157],"{",["T_WHITESPACE","\n            ",157],["T_VARIABLE","$attributeSetId",158],["T_WHITESPACE"," ",158],"=",["T_WHITESPACE"," ",158],["T_VARIABLE","$attributeGroup",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","getAttributeSetId",158],"(",")",";",["T_WHITESPACE","\n            ",158],["T_VARIABLE","$name",159],["T_WHITESPACE"," ",159],"=",["T_WHITESPACE"," ",159],["T_VARIABLE","$attributeGroup",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","getAttributeGroupName",159],"(",")",";",["T_WHITESPACE","\n            ",159],["T_VARIABLE","$this",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","_attributeGroupsById",160],"[",["T_VARIABLE","$attributeSetId",160],"]","[",["T_VARIABLE","$id",160],"]",["T_WHITESPACE"," ",160],"=",["T_WHITESPACE"," ",160],["T_VARIABLE","$name",160],";",["T_WHITESPACE","\n            ",160],["T_VARIABLE","$this",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","_attributeGroupsByName",161],"[",["T_VARIABLE","$attributeSetId",161],"]","[",["T_STRING","strtolower",161],"(",["T_VARIABLE","$name",161],")","]",["T_WHITESPACE"," ",161],"=",["T_WHITESPACE"," ",161],["T_VARIABLE","$id",161],";",["T_WHITESPACE","\n        ",161],"}",["T_WHITESPACE","\n        ",162],["T_RETURN","return",163],["T_WHITESPACE"," ",163],["T_VARIABLE","$this",163],";",["T_WHITESPACE","\n    ",163],"}",["T_WHITESPACE","\n\n    ",164],["T_PUBLIC","public",166],["T_WHITESPACE"," ",166],["T_FUNCTION","function",166],["T_WHITESPACE"," ",166],["T_STRING","getAttributeGroupName",166],"(",["T_VARIABLE","$attributeSetId",166],",",["T_WHITESPACE"," ",166],["T_VARIABLE","$id",166],")",["T_WHITESPACE","\n    ",166],"{",["T_WHITESPACE","\n        ",167],["T_IF","if",168],["T_WHITESPACE"," ",168],"(","!",["T_STRING","is_numeric",168],"(",["T_VARIABLE","$id",168],")",")",["T_WHITESPACE"," ",168],"{",["T_WHITESPACE","\n            ",168],["T_RETURN","return",169],["T_WHITESPACE"," ",169],["T_VARIABLE","$id",169],";",["T_WHITESPACE","\n        ",169],"}",["T_WHITESPACE","\n\n        ",170],["T_VARIABLE","$this",172],["T_OBJECT_OPERATOR","->",172],["T_STRING","loadAttributeGroups",172],"(",")",";",["T_WHITESPACE","\n\n        ",172],["T_IF","if",174],["T_WHITESPACE"," ",174],"(","!",["T_STRING","is_numeric",174],"(",["T_VARIABLE","$attributeSetId",174],")",")",["T_WHITESPACE"," ",174],"{",["T_WHITESPACE","\n            ",174],["T_VARIABLE","$attributeSetId",175],["T_WHITESPACE"," ",175],"=",["T_WHITESPACE"," ",175],["T_VARIABLE","$this",175],["T_OBJECT_OPERATOR","->",175],["T_STRING","getAttributeSetId",175],"(",["T_VARIABLE","$attributeSetId",175],")",";",["T_WHITESPACE","\n        ",175],"}",["T_WHITESPACE","\n        ",176],["T_RETURN","return",177],["T_WHITESPACE"," ",177],["T_ISSET","isset",177],"(",["T_VARIABLE","$this",177],["T_OBJECT_OPERATOR","->",177],["T_STRING","_attributeGroupsById",177],"[",["T_VARIABLE","$attributeSetId",177],"]","[",["T_VARIABLE","$id",177],"]",")",["T_WHITESPACE"," ",177],"?",["T_WHITESPACE"," ",177],["T_VARIABLE","$this",177],["T_OBJECT_OPERATOR","->",177],["T_STRING","_attributeGroupsById",177],"[",["T_VARIABLE","$attributeSetId",177],"]","[",["T_VARIABLE","$id",177],"]",["T_WHITESPACE"," ",177],":",["T_WHITESPACE"," ",177],["T_STRING","false",177],";",["T_WHITESPACE","\n    ",177],"}",["T_WHITESPACE","\n\n    ",178],["T_PUBLIC","public",180],["T_WHITESPACE"," ",180],["T_FUNCTION","function",180],["T_WHITESPACE"," ",180],["T_STRING","getAttributeGroupId",180],"(",["T_VARIABLE","$attributeSetId",180],",",["T_WHITESPACE"," ",180],["T_VARIABLE","$name",180],")",["T_WHITESPACE","\n    ",180],"{",["T_WHITESPACE","\n        ",181],["T_IF","if",182],["T_WHITESPACE"," ",182],"(",["T_STRING","is_numeric",182],"(",["T_VARIABLE","$name",182],")",")",["T_WHITESPACE"," ",182],"{",["T_WHITESPACE","\n            ",182],["T_RETURN","return",183],["T_WHITESPACE"," ",183],["T_VARIABLE","$name",183],";",["T_WHITESPACE","\n        ",183],"}",["T_WHITESPACE","\n\n        ",184],["T_VARIABLE","$this",186],["T_OBJECT_OPERATOR","->",186],["T_STRING","loadAttributeGroups",186],"(",")",";",["T_WHITESPACE","\n\n        ",186],["T_IF","if",188],["T_WHITESPACE"," ",188],"(","!",["T_STRING","is_numeric",188],"(",["T_VARIABLE","$attributeSetId",188],")",")",["T_WHITESPACE"," ",188],"{",["T_WHITESPACE","\n            ",188],["T_VARIABLE","$attributeSetId",189],["T_WHITESPACE"," ",189],"=",["T_WHITESPACE"," ",189],["T_VARIABLE","$this",189],["T_OBJECT_OPERATOR","->",189],["T_STRING","getAttributeSetId",189],"(",["T_VARIABLE","$attributeSetId",189],")",";",["T_WHITESPACE","\n        ",189],"}",["T_WHITESPACE","\n        ",190],["T_VARIABLE","$name",191],["T_WHITESPACE"," ",191],"=",["T_WHITESPACE"," ",191],["T_STRING","strtolower",191],"(",["T_VARIABLE","$name",191],")",";",["T_WHITESPACE","\n        ",191],["T_RETURN","return",192],["T_WHITESPACE"," ",192],["T_ISSET","isset",192],"(",["T_VARIABLE","$this",192],["T_OBJECT_OPERATOR","->",192],["T_STRING","_attributeGroupsByName",192],"[",["T_VARIABLE","$attributeSetId",192],"]","[",["T_VARIABLE","$name",192],"]",")",["T_WHITESPACE"," ",192],"?",["T_WHITESPACE"," ",192],["T_VARIABLE","$this",192],["T_OBJECT_OPERATOR","->",192],["T_STRING","_attributeGroupsByName",192],"[",["T_VARIABLE","$attributeSetId",192],"]","[",["T_VARIABLE","$name",192],"]",["T_WHITESPACE"," ",192],":",["T_WHITESPACE"," ",192],["T_STRING","false",192],";",["T_WHITESPACE","\n    ",192],"}",["T_WHITESPACE","\n\n    ",193],["T_PUBLIC","public",195],["T_WHITESPACE"," ",195],["T_FUNCTION","function",195],["T_WHITESPACE"," ",195],["T_STRING","loadProductTypes",195],"(",")",["T_WHITESPACE","\n    ",195],"{",["T_WHITESPACE","\n        ",196],["T_IF","if",197],["T_WHITESPACE"," ",197],"(",["T_VARIABLE","$this",197],["T_OBJECT_OPERATOR","->",197],["T_STRING","_productTypesById",197],")",["T_WHITESPACE"," ",197],"{",["T_WHITESPACE","\n            ",197],["T_RETURN","return",198],["T_WHITESPACE"," ",198],["T_VARIABLE","$this",198],";",["T_WHITESPACE","\n        ",198],"}",["T_WHITESPACE","\n\n        ",199],["T_COMMENT","\/*\n        $productTypeCollection = Mage::getResourceModel('catalog\/product_type_collection')\n            ->load();\n        *\/",201],["T_WHITESPACE","\n        ",204],["T_VARIABLE","$productTypeCollection",205],["T_WHITESPACE"," ",205],"=",["T_WHITESPACE"," ",205],["T_STRING","Mage",205],["T_DOUBLE_COLON","::",205],["T_STRING","getModel",205],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog\/product_type'",205],")",["T_WHITESPACE","\n            ",205],["T_OBJECT_OPERATOR","->",206],["T_STRING","getOptionArray",206],"(",")",";",["T_WHITESPACE","\n\n        ",206],["T_VARIABLE","$this",208],["T_OBJECT_OPERATOR","->",208],["T_STRING","_productTypesById",208],["T_WHITESPACE"," ",208],"=",["T_WHITESPACE"," ",208],["T_ARRAY","array",208],"(",")",";",["T_WHITESPACE","\n        ",208],["T_VARIABLE","$this",209],["T_OBJECT_OPERATOR","->",209],["T_STRING","_productTypesByName",209],["T_WHITESPACE"," ",209],"=",["T_WHITESPACE"," ",209],["T_ARRAY","array",209],"(",")",";",["T_WHITESPACE","\n        ",209],["T_FOREACH","foreach",210],["T_WHITESPACE"," ",210],"(",["T_VARIABLE","$productTypeCollection",210],["T_WHITESPACE"," ",210],["T_AS","as",210],["T_WHITESPACE"," ",210],["T_VARIABLE","$id",210],["T_DOUBLE_ARROW","=>",210],["T_VARIABLE","$type",210],")",["T_WHITESPACE"," ",210],"{",["T_WHITESPACE","\n            ",210],["T_COMMENT","\/\/$name = $type->getCode();\n",211],["T_WHITESPACE","            ",212],["T_VARIABLE","$name",212],["T_WHITESPACE"," ",212],"=",["T_WHITESPACE"," ",212],["T_VARIABLE","$type",212],";",["T_WHITESPACE","\n            ",212],["T_VARIABLE","$this",213],["T_OBJECT_OPERATOR","->",213],["T_STRING","_productTypesById",213],"[",["T_VARIABLE","$id",213],"]",["T_WHITESPACE"," ",213],"=",["T_WHITESPACE"," ",213],["T_VARIABLE","$name",213],";",["T_WHITESPACE","\n            ",213],["T_VARIABLE","$this",214],["T_OBJECT_OPERATOR","->",214],["T_STRING","_productTypesByName",214],"[",["T_STRING","strtolower",214],"(",["T_VARIABLE","$name",214],")","]",["T_WHITESPACE"," ",214],"=",["T_WHITESPACE"," ",214],["T_VARIABLE","$id",214],";",["T_WHITESPACE","\n        ",214],"}",["T_WHITESPACE","\n        ",215],["T_RETURN","return",216],["T_WHITESPACE"," ",216],["T_VARIABLE","$this",216],";",["T_WHITESPACE","\n    ",216],"}",["T_WHITESPACE","\n\n    ",217],["T_PUBLIC","public",219],["T_WHITESPACE"," ",219],["T_FUNCTION","function",219],["T_WHITESPACE"," ",219],["T_STRING","getProductTypeId",219],"(",["T_VARIABLE","$name",219],")",["T_WHITESPACE","\n    ",219],"{",["T_WHITESPACE","\n        ",220],["T_IF","if",221],["T_WHITESPACE"," ",221],"(",["T_STRING","is_numeric",221],"(",["T_VARIABLE","$name",221],")",")",["T_WHITESPACE"," ",221],"{",["T_WHITESPACE","\n            ",221],["T_RETURN","return",222],["T_WHITESPACE"," ",222],["T_VARIABLE","$name",222],";",["T_WHITESPACE","\n        ",222],"}",["T_WHITESPACE","\n\n        ",223],["T_VARIABLE","$this",225],["T_OBJECT_OPERATOR","->",225],["T_STRING","loadProductTypes",225],"(",")",";",["T_WHITESPACE","\n\n        ",225],["T_VARIABLE","$name",227],["T_WHITESPACE"," ",227],"=",["T_WHITESPACE"," ",227],["T_STRING","strtolower",227],"(",["T_VARIABLE","$name",227],")",";",["T_WHITESPACE","\n        ",227],["T_RETURN","return",228],["T_WHITESPACE"," ",228],["T_ISSET","isset",228],"(",["T_VARIABLE","$this",228],["T_OBJECT_OPERATOR","->",228],["T_STRING","_productTypesByName",228],"[",["T_VARIABLE","$name",228],"]",")",["T_WHITESPACE"," ",228],"?",["T_WHITESPACE"," ",228],["T_VARIABLE","$this",228],["T_OBJECT_OPERATOR","->",228],["T_STRING","_productTypesByName",228],"[",["T_VARIABLE","$name",228],"]",["T_WHITESPACE"," ",228],":",["T_WHITESPACE"," ",228],["T_STRING","false",228],";",["T_WHITESPACE","\n    ",228],"}",["T_WHITESPACE","\n\n    ",229],["T_PUBLIC","public",231],["T_WHITESPACE"," ",231],["T_FUNCTION","function",231],["T_WHITESPACE"," ",231],["T_STRING","getProductTypeName",231],"(",["T_VARIABLE","$id",231],")",["T_WHITESPACE","\n    ",231],"{",["T_WHITESPACE","\n        ",232],["T_IF","if",233],["T_WHITESPACE"," ",233],"(","!",["T_STRING","is_numeric",233],"(",["T_VARIABLE","$id",233],")",")",["T_WHITESPACE"," ",233],"{",["T_WHITESPACE","\n            ",233],["T_RETURN","return",234],["T_WHITESPACE"," ",234],["T_VARIABLE","$id",234],";",["T_WHITESPACE","\n        ",234],"}",["T_WHITESPACE","\n\n        ",235],["T_VARIABLE","$this",237],["T_OBJECT_OPERATOR","->",237],["T_STRING","loadProductTypes",237],"(",")",";",["T_WHITESPACE","\n\n        ",237],["T_RETURN","return",239],["T_WHITESPACE"," ",239],["T_ISSET","isset",239],"(",["T_VARIABLE","$this",239],["T_OBJECT_OPERATOR","->",239],["T_STRING","_productTypesById",239],"[",["T_VARIABLE","$id",239],"]",")",["T_WHITESPACE"," ",239],"?",["T_WHITESPACE"," ",239],["T_VARIABLE","$this",239],["T_OBJECT_OPERATOR","->",239],["T_STRING","_productTypesById",239],"[",["T_VARIABLE","$id",239],"]",["T_WHITESPACE"," ",239],":",["T_WHITESPACE"," ",239],["T_STRING","false",239],";",["T_WHITESPACE","\n    ",239],"}",["T_WHITESPACE","\n\n    ",240],["T_PUBLIC","public",242],["T_WHITESPACE"," ",242],["T_FUNCTION","function",242],["T_WHITESPACE"," ",242],["T_STRING","getSourceOptionId",242],"(",["T_VARIABLE","$source",242],",",["T_WHITESPACE"," ",242],["T_VARIABLE","$value",242],")",["T_WHITESPACE","\n    ",242],"{",["T_WHITESPACE","\n        ",243],["T_FOREACH","foreach",244],["T_WHITESPACE"," ",244],"(",["T_VARIABLE","$source",244],["T_OBJECT_OPERATOR","->",244],["T_STRING","getAllOptions",244],"(",")",["T_WHITESPACE"," ",244],["T_AS","as",244],["T_WHITESPACE"," ",244],["T_VARIABLE","$option",244],")",["T_WHITESPACE"," ",244],"{",["T_WHITESPACE","\n            ",244],["T_IF","if",245],["T_WHITESPACE"," ",245],"(",["T_STRING","strcasecmp",245],"(",["T_VARIABLE","$option",245],"[",["T_CONSTANT_ENCAPSED_STRING","'label'",245],"]",",",["T_WHITESPACE"," ",245],["T_VARIABLE","$value",245],")",["T_IS_EQUAL","==",245],["T_LNUMBER","0",245],["T_WHITESPACE"," ",245],["T_BOOLEAN_OR","||",245],["T_WHITESPACE"," ",245],["T_VARIABLE","$option",245],"[",["T_CONSTANT_ENCAPSED_STRING","'value'",245],"]",["T_WHITESPACE"," ",245],["T_IS_EQUAL","==",245],["T_WHITESPACE"," ",245],["T_VARIABLE","$value",245],")",["T_WHITESPACE"," ",245],"{",["T_WHITESPACE","\n                ",245],["T_RETURN","return",246],["T_WHITESPACE"," ",246],["T_VARIABLE","$option",246],"[",["T_CONSTANT_ENCAPSED_STRING","'value'",246],"]",";",["T_WHITESPACE","\n            ",246],"}",["T_WHITESPACE","\n        ",247],"}",["T_WHITESPACE","\n        ",248],["T_RETURN","return",249],["T_WHITESPACE"," ",249],["T_STRING","null",249],";",["T_WHITESPACE","\n    ",249],"}",["T_WHITESPACE","\n\n    ",250],["T_DOC_COMMENT","\/**\n     * Load Product attributes\n     *\n     * @return array\n     *\/",252],["T_WHITESPACE","\n    ",256],["T_PUBLIC","public",257],["T_WHITESPACE"," ",257],["T_FUNCTION","function",257],["T_WHITESPACE"," ",257],["T_STRING","getProductAttributes",257],"(",")",["T_WHITESPACE","\n    ",257],"{",["T_WHITESPACE","\n        ",258],["T_IF","if",259],["T_WHITESPACE"," ",259],"(",["T_STRING","is_null",259],"(",["T_VARIABLE","$this",259],["T_OBJECT_OPERATOR","->",259],["T_STRING","_productAttributes",259],")",")",["T_WHITESPACE"," ",259],"{",["T_WHITESPACE","\n            ",259],["T_VARIABLE","$this",260],["T_OBJECT_OPERATOR","->",260],["T_STRING","_productAttributes",260],["T_WHITESPACE"," ",260],"=",["T_WHITESPACE"," ",260],["T_STRING","array_keys",260],"(",["T_VARIABLE","$this",260],["T_OBJECT_OPERATOR","->",260],["T_STRING","getAttributesUsedInProductListing",260],"(",")",")",";",["T_WHITESPACE","\n        ",260],"}",["T_WHITESPACE","\n        ",261],["T_RETURN","return",262],["T_WHITESPACE"," ",262],["T_VARIABLE","$this",262],["T_OBJECT_OPERATOR","->",262],["T_STRING","_productAttributes",262],";",["T_WHITESPACE","\n    ",262],"}",["T_WHITESPACE","\n\n    ",263],["T_DOC_COMMENT","\/**\n     * Retrieve Product Collection Attributes from XML config file\n     * Used only for install\/upgrade\n     *\n     * @return array\n     *\/",265],["T_WHITESPACE","\n    ",270],["T_PUBLIC","public",271],["T_WHITESPACE"," ",271],["T_FUNCTION","function",271],["T_WHITESPACE"," ",271],["T_STRING","getProductCollectionAttributes",271],"(",")",["T_WHITESPACE"," ",271],"{",["T_WHITESPACE","\n        ",271],["T_VARIABLE","$attributes",272],["T_WHITESPACE"," ",272],"=",["T_WHITESPACE"," ",272],["T_STRING","Mage",272],["T_DOUBLE_COLON","::",272],["T_STRING","getConfig",272],"(",")",["T_WHITESPACE","\n            ",272],["T_OBJECT_OPERATOR","->",273],["T_STRING","getNode",273],"(",["T_STRING","self",273],["T_DOUBLE_COLON","::",273],["T_STRING","XML_PATH_PRODUCT_COLLECTION_ATTRIBUTES",273],")",["T_WHITESPACE","\n            ",273],["T_OBJECT_OPERATOR","->",274],["T_STRING","asArray",274],"(",")",";",["T_WHITESPACE","\n        ",274],["T_RETURN","return",275],["T_WHITESPACE"," ",275],["T_STRING","array_keys",275],"(",["T_VARIABLE","$attributes",275],")",";",";",["T_WHITESPACE","\n    ",275],"}",["T_WHITESPACE","\n\n    ",276],["T_DOC_COMMENT","\/**\n     * Retrieve resource model\n     *\n     * @return Mage_Catalog_Model_Resource_Eav_Mysql4_Config\n     *\/",278],["T_WHITESPACE","\n    ",282],["T_PROTECTED","protected",283],["T_WHITESPACE"," ",283],["T_FUNCTION","function",283],["T_WHITESPACE"," ",283],["T_STRING","_getResource",283],"(",")",["T_WHITESPACE","\n    ",283],"{",["T_WHITESPACE","\n        ",284],["T_RETURN","return",285],["T_WHITESPACE"," ",285],["T_STRING","Mage",285],["T_DOUBLE_COLON","::",285],["T_STRING","getResourceModel",285],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog\/config'",285],")",";",["T_WHITESPACE","\n    ",285],"}",["T_WHITESPACE","\n\n    ",286],["T_DOC_COMMENT","\/**\n     * Retrieve Attributes used in product listing\n     *\n     * @return array\n     *\/",288],["T_WHITESPACE","\n    ",292],["T_PUBLIC","public",293],["T_WHITESPACE"," ",293],["T_FUNCTION","function",293],["T_WHITESPACE"," ",293],["T_STRING","getAttributesUsedInProductListing",293],"(",")",["T_WHITESPACE"," ",293],"{",["T_WHITESPACE","\n        ",293],["T_IF","if",294],["T_WHITESPACE"," ",294],"(",["T_STRING","is_null",294],"(",["T_VARIABLE","$this",294],["T_OBJECT_OPERATOR","->",294],["T_STRING","_usedInProductListing",294],")",")",["T_WHITESPACE"," ",294],"{",["T_WHITESPACE","\n            ",294],["T_VARIABLE","$this",295],["T_OBJECT_OPERATOR","->",295],["T_STRING","_usedInProductListing",295],["T_WHITESPACE"," ",295],"=",["T_WHITESPACE"," ",295],["T_ARRAY","array",295],"(",")",";",["T_WHITESPACE","\n            ",295],["T_VARIABLE","$entityType",296],["T_WHITESPACE"," ",296],"=",["T_WHITESPACE"," ",296],["T_STRING","Mage_Catalog_Model_Product",296],["T_DOUBLE_COLON","::",296],["T_STRING","ENTITY",296],";",["T_WHITESPACE","\n            ",296],["T_VARIABLE","$attributesData",297],["T_WHITESPACE"," ",297],"=",["T_WHITESPACE"," ",297],["T_VARIABLE","$this",297],["T_OBJECT_OPERATOR","->",297],["T_STRING","_getResource",297],"(",")",["T_WHITESPACE","\n                ",297],["T_OBJECT_OPERATOR","->",298],["T_STRING","setStoreId",298],"(",["T_VARIABLE","$this",298],["T_OBJECT_OPERATOR","->",298],["T_STRING","getStoreId",298],"(",")",")",["T_WHITESPACE","\n                ",298],["T_OBJECT_OPERATOR","->",299],["T_STRING","getAttributesUsedInListing",299],"(",")",";",["T_WHITESPACE","\n            ",299],["T_STRING","Mage",300],["T_DOUBLE_COLON","::",300],["T_STRING","getSingleton",300],"(",["T_CONSTANT_ENCAPSED_STRING","'eav\/config'",300],")",["T_WHITESPACE","\n                ",300],["T_OBJECT_OPERATOR","->",301],["T_STRING","importAttributesData",301],"(",["T_VARIABLE","$entityType",301],",",["T_WHITESPACE"," ",301],["T_VARIABLE","$attributesData",301],")",";",["T_WHITESPACE","\n            ",301],["T_FOREACH","foreach",302],["T_WHITESPACE"," ",302],"(",["T_VARIABLE","$attributesData",302],["T_WHITESPACE"," ",302],["T_AS","as",302],["T_WHITESPACE"," ",302],["T_VARIABLE","$attributeData",302],")",["T_WHITESPACE"," ",302],"{",["T_WHITESPACE","\n                ",302],["T_VARIABLE","$attributeCode",303],["T_WHITESPACE"," ",303],"=",["T_WHITESPACE"," ",303],["T_VARIABLE","$attributeData",303],"[",["T_CONSTANT_ENCAPSED_STRING","'attribute_code'",303],"]",";",["T_WHITESPACE","\n                ",303],["T_VARIABLE","$this",304],["T_OBJECT_OPERATOR","->",304],["T_STRING","_usedInProductListing",304],"[",["T_VARIABLE","$attributeCode",304],"]",["T_WHITESPACE"," ",304],"=",["T_WHITESPACE"," ",304],["T_STRING","Mage",304],["T_DOUBLE_COLON","::",304],["T_STRING","getSingleton",304],"(",["T_CONSTANT_ENCAPSED_STRING","'eav\/config'",304],")",["T_WHITESPACE","\n                    ",304],["T_OBJECT_OPERATOR","->",305],["T_STRING","getAttribute",305],"(",["T_VARIABLE","$entityType",305],",",["T_WHITESPACE"," ",305],["T_VARIABLE","$attributeCode",305],")",";",["T_WHITESPACE","\n            ",305],"}",["T_WHITESPACE","\n        ",306],"}",["T_WHITESPACE","\n        ",307],["T_RETURN","return",308],["T_WHITESPACE"," ",308],["T_VARIABLE","$this",308],["T_OBJECT_OPERATOR","->",308],["T_STRING","_usedInProductListing",308],";",["T_WHITESPACE","\n    ",308],"}",["T_WHITESPACE","\n\n    ",309],["T_DOC_COMMENT","\/**\n     * Retrieve Attributes array used for sort by\n     *\n     * @return array\n     *\/",311],["T_WHITESPACE","\n    ",315],["T_PUBLIC","public",316],["T_WHITESPACE"," ",316],["T_FUNCTION","function",316],["T_WHITESPACE"," ",316],["T_STRING","getAttributesUsedForSortBy",316],"(",")",["T_WHITESPACE"," ",316],"{",["T_WHITESPACE","\n        ",316],["T_IF","if",317],["T_WHITESPACE"," ",317],"(",["T_STRING","is_null",317],"(",["T_VARIABLE","$this",317],["T_OBJECT_OPERATOR","->",317],["T_STRING","_usedForSortBy",317],")",")",["T_WHITESPACE"," ",317],"{",["T_WHITESPACE","\n            ",317],["T_VARIABLE","$this",318],["T_OBJECT_OPERATOR","->",318],["T_STRING","_usedForSortBy",318],["T_WHITESPACE"," ",318],"=",["T_WHITESPACE"," ",318],["T_ARRAY","array",318],"(",")",";",["T_WHITESPACE","\n            ",318],["T_VARIABLE","$entityType",319],["T_WHITESPACE","     ",319],"=",["T_WHITESPACE"," ",319],["T_STRING","Mage_Catalog_Model_Product",319],["T_DOUBLE_COLON","::",319],["T_STRING","ENTITY",319],";",["T_WHITESPACE","\n            ",319],["T_VARIABLE","$attributesData",320],["T_WHITESPACE"," ",320],"=",["T_WHITESPACE"," ",320],["T_VARIABLE","$this",320],["T_OBJECT_OPERATOR","->",320],["T_STRING","_getResource",320],"(",")",["T_WHITESPACE","\n                ",320],["T_OBJECT_OPERATOR","->",321],["T_STRING","getAttributesUsedForSortBy",321],"(",")",";",["T_WHITESPACE","\n            ",321],["T_STRING","Mage",322],["T_DOUBLE_COLON","::",322],["T_STRING","getSingleton",322],"(",["T_CONSTANT_ENCAPSED_STRING","'eav\/config'",322],")",["T_WHITESPACE","\n                ",322],["T_OBJECT_OPERATOR","->",323],["T_STRING","importAttributesData",323],"(",["T_VARIABLE","$entityType",323],",",["T_WHITESPACE"," ",323],["T_VARIABLE","$attributesData",323],")",";",["T_WHITESPACE","\n            ",323],["T_FOREACH","foreach",324],["T_WHITESPACE"," ",324],"(",["T_VARIABLE","$attributesData",324],["T_WHITESPACE"," ",324],["T_AS","as",324],["T_WHITESPACE"," ",324],["T_VARIABLE","$attributeData",324],")",["T_WHITESPACE"," ",324],"{",["T_WHITESPACE","\n                ",324],["T_VARIABLE","$attributeCode",325],["T_WHITESPACE"," ",325],"=",["T_WHITESPACE"," ",325],["T_VARIABLE","$attributeData",325],"[",["T_CONSTANT_ENCAPSED_STRING","'attribute_code'",325],"]",";",["T_WHITESPACE","\n                ",325],["T_VARIABLE","$this",326],["T_OBJECT_OPERATOR","->",326],["T_STRING","_usedForSortBy",326],"[",["T_VARIABLE","$attributeCode",326],"]",["T_WHITESPACE"," ",326],"=",["T_WHITESPACE"," ",326],["T_STRING","Mage",326],["T_DOUBLE_COLON","::",326],["T_STRING","getSingleton",326],"(",["T_CONSTANT_ENCAPSED_STRING","'eav\/config'",326],")",["T_WHITESPACE","\n                    ",326],["T_OBJECT_OPERATOR","->",327],["T_STRING","getAttribute",327],"(",["T_VARIABLE","$entityType",327],",",["T_WHITESPACE"," ",327],["T_VARIABLE","$attributeCode",327],")",";",["T_WHITESPACE","\n            ",327],"}",["T_WHITESPACE","\n        ",328],"}",["T_WHITESPACE","\n        ",329],["T_RETURN","return",330],["T_WHITESPACE"," ",330],["T_VARIABLE","$this",330],["T_OBJECT_OPERATOR","->",330],["T_STRING","_usedForSortBy",330],";",["T_WHITESPACE","\n    ",330],"}",["T_WHITESPACE","\n\n    ",331],["T_DOC_COMMENT","\/**\n     * Retrieve Attributes Used for Sort by as array\n     * key = code, value = name\n     *\n     * @return array\n     *\/",333],["T_WHITESPACE","\n    ",338],["T_PUBLIC","public",339],["T_WHITESPACE"," ",339],["T_FUNCTION","function",339],["T_WHITESPACE"," ",339],["T_STRING","getAttributeUsedForSortByArray",339],"(",")",["T_WHITESPACE","\n    ",339],"{",["T_WHITESPACE","\n        ",340],["T_VARIABLE","$options",341],["T_WHITESPACE"," ",341],"=",["T_WHITESPACE"," ",341],["T_ARRAY","array",341],"(",["T_WHITESPACE","\n            ",341],["T_CONSTANT_ENCAPSED_STRING","'position'",342],["T_WHITESPACE","  ",342],["T_DOUBLE_ARROW","=>",342],["T_WHITESPACE"," ",342],["T_STRING","Mage",342],["T_DOUBLE_COLON","::",342],["T_STRING","helper",342],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog'",342],")",["T_OBJECT_OPERATOR","->",342],["T_STRING","__",342],"(",["T_CONSTANT_ENCAPSED_STRING","'Position'",342],")",["T_WHITESPACE","\n        ",342],")",";",["T_WHITESPACE","\n        ",343],["T_FOREACH","foreach",344],["T_WHITESPACE"," ",344],"(",["T_VARIABLE","$this",344],["T_OBJECT_OPERATOR","->",344],["T_STRING","getAttributesUsedForSortBy",344],"(",")",["T_WHITESPACE"," ",344],["T_AS","as",344],["T_WHITESPACE"," ",344],["T_VARIABLE","$attribute",344],")",["T_WHITESPACE"," ",344],"{",["T_WHITESPACE","\n            ",344],["T_COMMENT","\/* @var $attribute Mage_Eav_Model_Entity_Attribute_Abstract *\/",345],["T_WHITESPACE","\n            ",345],["T_VARIABLE","$options",346],"[",["T_VARIABLE","$attribute",346],["T_OBJECT_OPERATOR","->",346],["T_STRING","getAttributeCode",346],"(",")","]",["T_WHITESPACE"," ",346],"=",["T_WHITESPACE"," ",346],["T_VARIABLE","$attribute",346],["T_OBJECT_OPERATOR","->",346],["T_STRING","getStoreLabel",346],"(",")",";",["T_WHITESPACE","\n        ",346],"}",["T_WHITESPACE","\n\n        ",347],["T_RETURN","return",349],["T_WHITESPACE"," ",349],["T_VARIABLE","$options",349],";",["T_WHITESPACE","\n    ",349],"}",["T_WHITESPACE","\n\n    ",350],["T_DOC_COMMENT","\/**\n     * Retrieve Product List Default Sort By\n     *\n     * @param mixed $store\n     * @return string\n     *\/",352],["T_WHITESPACE","\n    ",357],["T_PUBLIC","public",358],["T_WHITESPACE"," ",358],["T_FUNCTION","function",358],["T_WHITESPACE"," ",358],["T_STRING","getProductListDefaultSortBy",358],"(",["T_VARIABLE","$store",358],["T_WHITESPACE"," ",358],"=",["T_WHITESPACE"," ",358],["T_STRING","null",358],")",["T_WHITESPACE"," ",358],"{",["T_WHITESPACE","\n        ",358],["T_RETURN","return",359],["T_WHITESPACE"," ",359],["T_STRING","Mage",359],["T_DOUBLE_COLON","::",359],["T_STRING","getStoreConfig",359],"(",["T_STRING","self",359],["T_DOUBLE_COLON","::",359],["T_STRING","XML_PATH_LIST_DEFAULT_SORT_BY",359],",",["T_WHITESPACE"," ",359],["T_VARIABLE","$store",359],")",";",["T_WHITESPACE","\n    ",359],"}",["T_WHITESPACE","\n",360],"}",["T_WHITESPACE","\n",361]]