[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Magento\n *\n * NOTICE OF LICENSE\n *\n * This source file is subject to the Open Software License (OSL 3.0)\n * that is bundled with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/opensource.org\/licenses\/osl-3.0.php\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@magento.com so we can send you a copy immediately.\n *\n * DISCLAIMER\n *\n * Do not edit or add to this file if you wish to upgrade Magento to newer\n * versions in the future. If you wish to customize Magento for your\n * needs please refer to http:\/\/www.magento.com for more information.\n *\n * @category    Mage\n * @package     Mage_Catalog\n * @copyright  Copyright (c) 2006-2016 X.commerce, Inc. and affiliates (http:\/\/www.magento.com)\n * @license    http:\/\/opensource.org\/licenses\/osl-3.0.php  Open Software License (OSL 3.0)\n *\/",2],["T_WHITESPACE","\n\n\n",25],["T_DOC_COMMENT","\/**\n * Catalog data helper\n *\n * @category   Mage\n * @package    Mage_Catalog\n * @author     Magento Core Team <core@magentocommerce.com>\n *\/",28],["T_WHITESPACE","\n",34],["T_CLASS","class",35],["T_WHITESPACE"," ",35],["T_STRING","Mage_Catalog_Helper_Data",35],["T_WHITESPACE"," ",35],["T_EXTENDS","extends",35],["T_WHITESPACE"," ",35],["T_STRING","Mage_Core_Helper_Abstract",35],["T_WHITESPACE","\n",35],"{",["T_WHITESPACE","\n    ",36],["T_CONST","const",37],["T_WHITESPACE"," ",37],["T_STRING","PRICE_SCOPE_GLOBAL",37],["T_WHITESPACE","               ",37],"=",["T_WHITESPACE"," ",37],["T_LNUMBER","0",37],";",["T_WHITESPACE","\n    ",37],["T_CONST","const",38],["T_WHITESPACE"," ",38],["T_STRING","PRICE_SCOPE_WEBSITE",38],["T_WHITESPACE","              ",38],"=",["T_WHITESPACE"," ",38],["T_LNUMBER","1",38],";",["T_WHITESPACE","\n    ",38],["T_CONST","const",39],["T_WHITESPACE"," ",39],["T_STRING","XML_PATH_PRICE_SCOPE",39],["T_WHITESPACE","             ",39],"=",["T_WHITESPACE"," ",39],["T_CONSTANT_ENCAPSED_STRING","'catalog\/price\/scope'",39],";",["T_WHITESPACE","\n    ",39],["T_CONST","const",40],["T_WHITESPACE"," ",40],["T_STRING","XML_PATH_SEO_SAVE_HISTORY",40],["T_WHITESPACE","        ",40],"=",["T_WHITESPACE"," ",40],["T_CONSTANT_ENCAPSED_STRING","'catalog\/seo\/save_rewrites_history'",40],";",["T_WHITESPACE","\n    ",40],["T_CONST","const",41],["T_WHITESPACE"," ",41],["T_STRING","CONFIG_USE_STATIC_URLS",41],["T_WHITESPACE","           ",41],"=",["T_WHITESPACE"," ",41],["T_CONSTANT_ENCAPSED_STRING","'cms\/wysiwyg\/use_static_urls_in_catalog'",41],";",["T_WHITESPACE","\n    ",41],["T_CONST","const",42],["T_WHITESPACE"," ",42],["T_STRING","CONFIG_PARSE_URL_DIRECTIVES",42],["T_WHITESPACE","      ",42],"=",["T_WHITESPACE"," ",42],["T_CONSTANT_ENCAPSED_STRING","'catalog\/frontend\/parse_url_directives'",42],";",["T_WHITESPACE","\n    ",42],["T_CONST","const",43],["T_WHITESPACE"," ",43],["T_STRING","XML_PATH_CONTENT_TEMPLATE_FILTER",43],["T_WHITESPACE"," ",43],"=",["T_WHITESPACE"," ",43],["T_CONSTANT_ENCAPSED_STRING","'global\/catalog\/content\/tempate_filter'",43],";",["T_WHITESPACE","\n    ",43],["T_CONST","const",44],["T_WHITESPACE"," ",44],["T_STRING","XML_PATH_DISPLAY_PRODUCT_COUNT",44],["T_WHITESPACE","   ",44],"=",["T_WHITESPACE"," ",44],["T_CONSTANT_ENCAPSED_STRING","'catalog\/layered_navigation\/display_product_count'",44],";",["T_WHITESPACE","\n\n    ",44],["T_DOC_COMMENT","\/**\n     * Minimum advertise price constants\n     *\/",46],["T_WHITESPACE","\n    ",48],["T_CONST","const",49],["T_WHITESPACE"," ",49],["T_STRING","XML_PATH_MSRP_ENABLED",49],["T_WHITESPACE"," ",49],"=",["T_WHITESPACE"," ",49],["T_CONSTANT_ENCAPSED_STRING","'sales\/msrp\/enabled'",49],";",["T_WHITESPACE","\n    ",49],["T_CONST","const",50],["T_WHITESPACE"," ",50],["T_STRING","XML_PATH_MSRP_DISPLAY_ACTUAL_PRICE_TYPE",50],["T_WHITESPACE"," ",50],"=",["T_WHITESPACE"," ",50],["T_CONSTANT_ENCAPSED_STRING","'sales\/msrp\/display_price_type'",50],";",["T_WHITESPACE","\n    ",50],["T_CONST","const",51],["T_WHITESPACE"," ",51],["T_STRING","XML_PATH_MSRP_APPLY_TO_ALL",51],["T_WHITESPACE"," ",51],"=",["T_WHITESPACE"," ",51],["T_CONSTANT_ENCAPSED_STRING","'sales\/msrp\/apply_for_all'",51],";",["T_WHITESPACE","\n    ",51],["T_CONST","const",52],["T_WHITESPACE"," ",52],["T_STRING","XML_PATH_MSRP_EXPLANATION_MESSAGE",52],["T_WHITESPACE"," ",52],"=",["T_WHITESPACE"," ",52],["T_CONSTANT_ENCAPSED_STRING","'sales\/msrp\/explanation_message'",52],";",["T_WHITESPACE","\n    ",52],["T_CONST","const",53],["T_WHITESPACE"," ",53],["T_STRING","XML_PATH_MSRP_EXPLANATION_MESSAGE_WHATS_THIS",53],["T_WHITESPACE"," ",53],"=",["T_WHITESPACE"," ",53],["T_CONSTANT_ENCAPSED_STRING","'sales\/msrp\/explanation_message_whats_this'",53],";",["T_WHITESPACE","\n\n\n    ",53],["T_DOC_COMMENT","\/**\n     * Breadcrumb Path cache\n     *\n     * @var string\n     *\/",56],["T_WHITESPACE","\n    ",60],["T_PROTECTED","protected",61],["T_WHITESPACE"," ",61],["T_VARIABLE","$_categoryPath",61],";",["T_WHITESPACE","\n\n    ",61],["T_DOC_COMMENT","\/**\n     * Array of product types that MAP enabled\n     *\n     * @var array\n     *\/",63],["T_WHITESPACE","\n    ",67],["T_PROTECTED","protected",68],["T_WHITESPACE"," ",68],["T_VARIABLE","$_mapApplyToProductType",68],["T_WHITESPACE"," ",68],"=",["T_WHITESPACE"," ",68],["T_STRING","null",68],";",["T_WHITESPACE","\n\n    ",68],["T_DOC_COMMENT","\/**\n     * Currenty selected store ID if applicable\n     *\n     * @var int\n     *\/",70],["T_WHITESPACE","\n    ",74],["T_PROTECTED","protected",75],["T_WHITESPACE"," ",75],["T_VARIABLE","$_storeId",75],["T_WHITESPACE"," ",75],"=",["T_WHITESPACE"," ",75],["T_STRING","null",75],";",["T_WHITESPACE","\n\n    ",75],["T_DOC_COMMENT","\/**\n     * Set a specified store ID value\n     *\n     * @param int $store\n     * @return Mage_Catalog_Helper_Data\n     *\/",77],["T_WHITESPACE","\n    ",82],["T_PUBLIC","public",83],["T_WHITESPACE"," ",83],["T_FUNCTION","function",83],["T_WHITESPACE"," ",83],["T_STRING","setStoreId",83],"(",["T_VARIABLE","$store",83],")",["T_WHITESPACE","\n    ",83],"{",["T_WHITESPACE","\n        ",84],["T_VARIABLE","$this",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","_storeId",85],["T_WHITESPACE"," ",85],"=",["T_WHITESPACE"," ",85],["T_VARIABLE","$store",85],";",["T_WHITESPACE","\n        ",85],["T_RETURN","return",86],["T_WHITESPACE"," ",86],["T_VARIABLE","$this",86],";",["T_WHITESPACE","\n    ",86],"}",["T_WHITESPACE","\n\n    ",87],["T_DOC_COMMENT","\/**\n     * Return current category path or get it from current category\n     * and creating array of categories|product paths for breadcrumbs\n     *\n     * @return string\n     *\/",89],["T_WHITESPACE","\n    ",94],["T_PUBLIC","public",95],["T_WHITESPACE"," ",95],["T_FUNCTION","function",95],["T_WHITESPACE"," ",95],["T_STRING","getBreadcrumbPath",95],"(",")",["T_WHITESPACE","\n    ",95],"{",["T_WHITESPACE","\n        ",96],["T_IF","if",97],["T_WHITESPACE"," ",97],"(","!",["T_VARIABLE","$this",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","_categoryPath",97],")",["T_WHITESPACE"," ",97],"{",["T_WHITESPACE","\n\n            ",97],["T_VARIABLE","$path",99],["T_WHITESPACE"," ",99],"=",["T_WHITESPACE"," ",99],["T_ARRAY","array",99],"(",")",";",["T_WHITESPACE","\n            ",99],["T_IF","if",100],["T_WHITESPACE"," ",100],"(",["T_VARIABLE","$category",100],["T_WHITESPACE"," ",100],"=",["T_WHITESPACE"," ",100],["T_VARIABLE","$this",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","getCategory",100],"(",")",")",["T_WHITESPACE"," ",100],"{",["T_WHITESPACE","\n                ",100],["T_VARIABLE","$pathInStore",101],["T_WHITESPACE"," ",101],"=",["T_WHITESPACE"," ",101],["T_VARIABLE","$category",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","getPathInStore",101],"(",")",";",["T_WHITESPACE","\n                ",101],["T_VARIABLE","$pathIds",102],["T_WHITESPACE"," ",102],"=",["T_WHITESPACE"," ",102],["T_STRING","array_reverse",102],"(",["T_STRING","explode",102],"(",["T_CONSTANT_ENCAPSED_STRING","','",102],",",["T_WHITESPACE"," ",102],["T_VARIABLE","$pathInStore",102],")",")",";",["T_WHITESPACE","\n\n                ",102],["T_VARIABLE","$categories",104],["T_WHITESPACE"," ",104],"=",["T_WHITESPACE"," ",104],["T_VARIABLE","$category",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","getParentCategories",104],"(",")",";",["T_WHITESPACE","\n\n                ",104],["T_COMMENT","\/\/ add category path breadcrumb\n",106],["T_WHITESPACE","                ",107],["T_FOREACH","foreach",107],["T_WHITESPACE"," ",107],"(",["T_VARIABLE","$pathIds",107],["T_WHITESPACE"," ",107],["T_AS","as",107],["T_WHITESPACE"," ",107],["T_VARIABLE","$categoryId",107],")",["T_WHITESPACE"," ",107],"{",["T_WHITESPACE","\n                    ",107],["T_IF","if",108],["T_WHITESPACE"," ",108],"(",["T_ISSET","isset",108],"(",["T_VARIABLE","$categories",108],"[",["T_VARIABLE","$categoryId",108],"]",")",["T_WHITESPACE"," ",108],["T_BOOLEAN_AND","&&",108],["T_WHITESPACE"," ",108],["T_VARIABLE","$categories",108],"[",["T_VARIABLE","$categoryId",108],"]",["T_OBJECT_OPERATOR","->",108],["T_STRING","getName",108],"(",")",")",["T_WHITESPACE"," ",108],"{",["T_WHITESPACE","\n                        ",108],["T_VARIABLE","$path",109],"[",["T_CONSTANT_ENCAPSED_STRING","'category'",109],".",["T_VARIABLE","$categoryId",109],"]",["T_WHITESPACE"," ",109],"=",["T_WHITESPACE"," ",109],["T_ARRAY","array",109],"(",["T_WHITESPACE","\n                            ",109],["T_CONSTANT_ENCAPSED_STRING","'label'",110],["T_WHITESPACE"," ",110],["T_DOUBLE_ARROW","=>",110],["T_WHITESPACE"," ",110],["T_VARIABLE","$categories",110],"[",["T_VARIABLE","$categoryId",110],"]",["T_OBJECT_OPERATOR","->",110],["T_STRING","getName",110],"(",")",",",["T_WHITESPACE","\n                            ",110],["T_CONSTANT_ENCAPSED_STRING","'link'",111],["T_WHITESPACE"," ",111],["T_DOUBLE_ARROW","=>",111],["T_WHITESPACE"," ",111],["T_VARIABLE","$this",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","_isCategoryLink",111],"(",["T_VARIABLE","$categoryId",111],")",["T_WHITESPACE"," ",111],"?",["T_WHITESPACE"," ",111],["T_VARIABLE","$categories",111],"[",["T_VARIABLE","$categoryId",111],"]",["T_OBJECT_OPERATOR","->",111],["T_STRING","getUrl",111],"(",")",["T_WHITESPACE"," ",111],":",["T_WHITESPACE"," ",111],["T_CONSTANT_ENCAPSED_STRING","''",111],["T_WHITESPACE","\n                        ",111],")",";",["T_WHITESPACE","\n                    ",112],"}",["T_WHITESPACE","\n                ",113],"}",["T_WHITESPACE","\n            ",114],"}",["T_WHITESPACE","\n\n            ",115],["T_IF","if",117],["T_WHITESPACE"," ",117],"(",["T_VARIABLE","$this",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","getProduct",117],"(",")",")",["T_WHITESPACE"," ",117],"{",["T_WHITESPACE","\n                ",117],["T_VARIABLE","$path",118],"[",["T_CONSTANT_ENCAPSED_STRING","'product'",118],"]",["T_WHITESPACE"," ",118],"=",["T_WHITESPACE"," ",118],["T_ARRAY","array",118],"(",["T_CONSTANT_ENCAPSED_STRING","'label'",118],["T_DOUBLE_ARROW","=>",118],["T_VARIABLE","$this",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","getProduct",118],"(",")",["T_OBJECT_OPERATOR","->",118],["T_STRING","getName",118],"(",")",")",";",["T_WHITESPACE","\n            ",118],"}",["T_WHITESPACE","\n\n            ",119],["T_VARIABLE","$this",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","_categoryPath",121],["T_WHITESPACE"," ",121],"=",["T_WHITESPACE"," ",121],["T_VARIABLE","$path",121],";",["T_WHITESPACE","\n        ",121],"}",["T_WHITESPACE","\n        ",122],["T_RETURN","return",123],["T_WHITESPACE"," ",123],["T_VARIABLE","$this",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","_categoryPath",123],";",["T_WHITESPACE","\n    ",123],"}",["T_WHITESPACE","\n\n    ",124],["T_DOC_COMMENT","\/**\n     * Check is category link\n     *\n     * @param int $categoryId\n     * @return bool\n     *\/",126],["T_WHITESPACE","\n    ",131],["T_PROTECTED","protected",132],["T_WHITESPACE"," ",132],["T_FUNCTION","function",132],["T_WHITESPACE"," ",132],["T_STRING","_isCategoryLink",132],"(",["T_VARIABLE","$categoryId",132],")",["T_WHITESPACE","\n    ",132],"{",["T_WHITESPACE","\n        ",133],["T_IF","if",134],["T_WHITESPACE"," ",134],"(",["T_VARIABLE","$this",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","getProduct",134],"(",")",")",["T_WHITESPACE"," ",134],"{",["T_WHITESPACE","\n            ",134],["T_RETURN","return",135],["T_WHITESPACE"," ",135],["T_STRING","true",135],";",["T_WHITESPACE","\n        ",135],"}",["T_WHITESPACE","\n        ",136],["T_IF","if",137],["T_WHITESPACE"," ",137],"(",["T_VARIABLE","$categoryId",137],["T_WHITESPACE"," ",137],["T_IS_NOT_EQUAL","!=",137],["T_WHITESPACE"," ",137],["T_VARIABLE","$this",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","getCategory",137],"(",")",["T_OBJECT_OPERATOR","->",137],["T_STRING","getId",137],"(",")",")",["T_WHITESPACE"," ",137],"{",["T_WHITESPACE","\n            ",137],["T_RETURN","return",138],["T_WHITESPACE"," ",138],["T_STRING","true",138],";",["T_WHITESPACE","\n        ",138],"}",["T_WHITESPACE","\n        ",139],["T_RETURN","return",140],["T_WHITESPACE"," ",140],["T_STRING","false",140],";",["T_WHITESPACE","\n    ",140],"}",["T_WHITESPACE","\n\n    ",141],["T_DOC_COMMENT","\/**\n     * Return current category object\n     *\n     * @return Mage_Catalog_Model_Category|null\n     *\/",143],["T_WHITESPACE","\n    ",147],["T_PUBLIC","public",148],["T_WHITESPACE"," ",148],["T_FUNCTION","function",148],["T_WHITESPACE"," ",148],["T_STRING","getCategory",148],"(",")",["T_WHITESPACE","\n    ",148],"{",["T_WHITESPACE","\n        ",149],["T_RETURN","return",150],["T_WHITESPACE"," ",150],["T_STRING","Mage",150],["T_DOUBLE_COLON","::",150],["T_STRING","registry",150],"(",["T_CONSTANT_ENCAPSED_STRING","'current_category'",150],")",";",["T_WHITESPACE","\n    ",150],"}",["T_WHITESPACE","\n\n    ",151],["T_DOC_COMMENT","\/**\n     * Retrieve current Product object\n     *\n     * @return Mage_Catalog_Model_Product|null\n     *\/",153],["T_WHITESPACE","\n    ",157],["T_PUBLIC","public",158],["T_WHITESPACE"," ",158],["T_FUNCTION","function",158],["T_WHITESPACE"," ",158],["T_STRING","getProduct",158],"(",")",["T_WHITESPACE","\n    ",158],"{",["T_WHITESPACE","\n        ",159],["T_RETURN","return",160],["T_WHITESPACE"," ",160],["T_STRING","Mage",160],["T_DOUBLE_COLON","::",160],["T_STRING","registry",160],"(",["T_CONSTANT_ENCAPSED_STRING","'current_product'",160],")",";",["T_WHITESPACE","\n    ",160],"}",["T_WHITESPACE","\n\n    ",161],["T_DOC_COMMENT","\/**\n     * Retrieve Visitor\/Customer Last Viewed URL\n     *\n     * @return string\n     *\/",163],["T_WHITESPACE","\n    ",167],["T_PUBLIC","public",168],["T_WHITESPACE"," ",168],["T_FUNCTION","function",168],["T_WHITESPACE"," ",168],["T_STRING","getLastViewedUrl",168],"(",")",["T_WHITESPACE","\n    ",168],"{",["T_WHITESPACE","\n        ",169],["T_IF","if",170],["T_WHITESPACE"," ",170],"(",["T_VARIABLE","$productId",170],["T_WHITESPACE"," ",170],"=",["T_WHITESPACE"," ",170],["T_STRING","Mage",170],["T_DOUBLE_COLON","::",170],["T_STRING","getSingleton",170],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog\/session'",170],")",["T_OBJECT_OPERATOR","->",170],["T_STRING","getLastViewedProductId",170],"(",")",")",["T_WHITESPACE"," ",170],"{",["T_WHITESPACE","\n            ",170],["T_VARIABLE","$product",171],["T_WHITESPACE"," ",171],"=",["T_WHITESPACE"," ",171],["T_STRING","Mage",171],["T_DOUBLE_COLON","::",171],["T_STRING","getModel",171],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog\/product'",171],")",["T_OBJECT_OPERATOR","->",171],["T_STRING","load",171],"(",["T_VARIABLE","$productId",171],")",";",["T_WHITESPACE","\n            ",171],["T_COMMENT","\/* @var $product Mage_Catalog_Model_Product *\/",172],["T_WHITESPACE","\n            ",172],["T_IF","if",173],["T_WHITESPACE"," ",173],"(",["T_STRING","Mage",173],["T_DOUBLE_COLON","::",173],["T_STRING","helper",173],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog\/product'",173],")",["T_OBJECT_OPERATOR","->",173],["T_STRING","canShow",173],"(",["T_VARIABLE","$product",173],",",["T_WHITESPACE"," ",173],["T_CONSTANT_ENCAPSED_STRING","'catalog'",173],")",")",["T_WHITESPACE"," ",173],"{",["T_WHITESPACE","\n                ",173],["T_RETURN","return",174],["T_WHITESPACE"," ",174],["T_VARIABLE","$product",174],["T_OBJECT_OPERATOR","->",174],["T_STRING","getProductUrl",174],"(",")",";",["T_WHITESPACE","\n            ",174],"}",["T_WHITESPACE","\n        ",175],"}",["T_WHITESPACE","\n        ",176],["T_IF","if",177],["T_WHITESPACE"," ",177],"(",["T_VARIABLE","$categoryId",177],["T_WHITESPACE"," ",177],"=",["T_WHITESPACE"," ",177],["T_STRING","Mage",177],["T_DOUBLE_COLON","::",177],["T_STRING","getSingleton",177],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog\/session'",177],")",["T_OBJECT_OPERATOR","->",177],["T_STRING","getLastViewedCategoryId",177],"(",")",")",["T_WHITESPACE"," ",177],"{",["T_WHITESPACE","\n            ",177],["T_VARIABLE","$category",178],["T_WHITESPACE"," ",178],"=",["T_WHITESPACE"," ",178],["T_STRING","Mage",178],["T_DOUBLE_COLON","::",178],["T_STRING","getModel",178],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog\/category'",178],")",["T_OBJECT_OPERATOR","->",178],["T_STRING","load",178],"(",["T_VARIABLE","$categoryId",178],")",";",["T_WHITESPACE","\n            ",178],["T_COMMENT","\/* @var $category Mage_Catalog_Model_Category *\/",179],["T_WHITESPACE","\n            ",179],["T_IF","if",180],["T_WHITESPACE"," ",180],"(","!",["T_STRING","Mage",180],["T_DOUBLE_COLON","::",180],["T_STRING","helper",180],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog\/category'",180],")",["T_OBJECT_OPERATOR","->",180],["T_STRING","canShow",180],"(",["T_VARIABLE","$category",180],")",")",["T_WHITESPACE"," ",180],"{",["T_WHITESPACE","\n                ",180],["T_RETURN","return",181],["T_WHITESPACE"," ",181],["T_CONSTANT_ENCAPSED_STRING","''",181],";",["T_WHITESPACE","\n            ",181],"}",["T_WHITESPACE","\n            ",182],["T_RETURN","return",183],["T_WHITESPACE"," ",183],["T_VARIABLE","$category",183],["T_OBJECT_OPERATOR","->",183],["T_STRING","getCategoryUrl",183],"(",")",";",["T_WHITESPACE","\n        ",183],"}",["T_WHITESPACE","\n        ",184],["T_RETURN","return",185],["T_WHITESPACE"," ",185],["T_CONSTANT_ENCAPSED_STRING","''",185],";",["T_WHITESPACE","\n    ",185],"}",["T_WHITESPACE","\n\n    ",186],["T_DOC_COMMENT","\/**\n     * Split SKU of an item by dashes and spaces\n     * Words will not be broken, unless thir length is greater than $length\n     *\n     * @param string $sku\n     * @param int $length\n     * @return array\n     *\/",188],["T_WHITESPACE","\n    ",195],["T_PUBLIC","public",196],["T_WHITESPACE"," ",196],["T_FUNCTION","function",196],["T_WHITESPACE"," ",196],["T_STRING","splitSku",196],"(",["T_VARIABLE","$sku",196],",",["T_WHITESPACE"," ",196],["T_VARIABLE","$length",196],["T_WHITESPACE"," ",196],"=",["T_WHITESPACE"," ",196],["T_LNUMBER","30",196],")",["T_WHITESPACE","\n    ",196],"{",["T_WHITESPACE","\n        ",197],["T_RETURN","return",198],["T_WHITESPACE"," ",198],["T_STRING","Mage",198],["T_DOUBLE_COLON","::",198],["T_STRING","helper",198],"(",["T_CONSTANT_ENCAPSED_STRING","'core\/string'",198],")",["T_OBJECT_OPERATOR","->",198],["T_STRING","str_split",198],"(",["T_VARIABLE","$sku",198],",",["T_WHITESPACE"," ",198],["T_VARIABLE","$length",198],",",["T_WHITESPACE"," ",198],["T_STRING","true",198],",",["T_WHITESPACE"," ",198],["T_STRING","false",198],",",["T_WHITESPACE"," ",198],["T_CONSTANT_ENCAPSED_STRING","'[\\-\\s]'",198],")",";",["T_WHITESPACE","\n    ",198],"}",["T_WHITESPACE","\n\n    ",199],["T_DOC_COMMENT","\/**\n     * Retrieve attribute hidden fields\n     *\n     * @return array\n     *\/",201],["T_WHITESPACE","\n    ",205],["T_PUBLIC","public",206],["T_WHITESPACE"," ",206],["T_FUNCTION","function",206],["T_WHITESPACE"," ",206],["T_STRING","getAttributeHiddenFields",206],"(",")",["T_WHITESPACE","\n    ",206],"{",["T_WHITESPACE","\n        ",207],["T_IF","if",208],["T_WHITESPACE"," ",208],"(",["T_STRING","Mage",208],["T_DOUBLE_COLON","::",208],["T_STRING","registry",208],"(",["T_CONSTANT_ENCAPSED_STRING","'attribute_type_hidden_fields'",208],")",")",["T_WHITESPACE"," ",208],"{",["T_WHITESPACE","\n            ",208],["T_RETURN","return",209],["T_WHITESPACE"," ",209],["T_STRING","Mage",209],["T_DOUBLE_COLON","::",209],["T_STRING","registry",209],"(",["T_CONSTANT_ENCAPSED_STRING","'attribute_type_hidden_fields'",209],")",";",["T_WHITESPACE","\n        ",209],"}",["T_WHITESPACE"," ",210],["T_ELSE","else",210],["T_WHITESPACE"," ",210],"{",["T_WHITESPACE","\n            ",210],["T_RETURN","return",211],["T_WHITESPACE"," ",211],["T_ARRAY","array",211],"(",")",";",["T_WHITESPACE","\n        ",211],"}",["T_WHITESPACE","\n    ",212],"}",["T_WHITESPACE","\n\n    ",213],["T_DOC_COMMENT","\/**\n     * Retrieve attribute disabled types\n     *\n     * @return array\n     *\/",215],["T_WHITESPACE","\n    ",219],["T_PUBLIC","public",220],["T_WHITESPACE"," ",220],["T_FUNCTION","function",220],["T_WHITESPACE"," ",220],["T_STRING","getAttributeDisabledTypes",220],"(",")",["T_WHITESPACE","\n    ",220],"{",["T_WHITESPACE","\n        ",221],["T_IF","if",222],["T_WHITESPACE"," ",222],"(",["T_STRING","Mage",222],["T_DOUBLE_COLON","::",222],["T_STRING","registry",222],"(",["T_CONSTANT_ENCAPSED_STRING","'attribute_type_disabled_types'",222],")",")",["T_WHITESPACE"," ",222],"{",["T_WHITESPACE","\n            ",222],["T_RETURN","return",223],["T_WHITESPACE"," ",223],["T_STRING","Mage",223],["T_DOUBLE_COLON","::",223],["T_STRING","registry",223],"(",["T_CONSTANT_ENCAPSED_STRING","'attribute_type_disabled_types'",223],")",";",["T_WHITESPACE","\n        ",223],"}",["T_WHITESPACE"," ",224],["T_ELSE","else",224],["T_WHITESPACE"," ",224],"{",["T_WHITESPACE","\n            ",224],["T_RETURN","return",225],["T_WHITESPACE"," ",225],["T_ARRAY","array",225],"(",")",";",["T_WHITESPACE","\n        ",225],"}",["T_WHITESPACE","\n    ",226],"}",["T_WHITESPACE","\n\n    ",227],["T_DOC_COMMENT","\/**\n     * Retrieve Catalog Price Scope\n     *\n     * @return int\n     *\/",229],["T_WHITESPACE","\n    ",233],["T_PUBLIC","public",234],["T_WHITESPACE"," ",234],["T_FUNCTION","function",234],["T_WHITESPACE"," ",234],["T_STRING","getPriceScope",234],"(",")",["T_WHITESPACE","\n    ",234],"{",["T_WHITESPACE","\n        ",235],["T_RETURN","return",236],["T_WHITESPACE"," ",236],["T_STRING","Mage",236],["T_DOUBLE_COLON","::",236],["T_STRING","getStoreConfig",236],"(",["T_STRING","self",236],["T_DOUBLE_COLON","::",236],["T_STRING","XML_PATH_PRICE_SCOPE",236],")",";",["T_WHITESPACE","\n    ",236],"}",["T_WHITESPACE","\n\n    ",237],["T_DOC_COMMENT","\/**\n     * Is Global Price\n     *\n     * @return bool\n     *\/",239],["T_WHITESPACE","\n    ",243],["T_PUBLIC","public",244],["T_WHITESPACE"," ",244],["T_FUNCTION","function",244],["T_WHITESPACE"," ",244],["T_STRING","isPriceGlobal",244],"(",")",["T_WHITESPACE","\n    ",244],"{",["T_WHITESPACE","\n        ",245],["T_RETURN","return",246],["T_WHITESPACE"," ",246],["T_VARIABLE","$this",246],["T_OBJECT_OPERATOR","->",246],["T_STRING","getPriceScope",246],"(",")",["T_WHITESPACE"," ",246],["T_IS_EQUAL","==",246],["T_WHITESPACE"," ",246],["T_STRING","self",246],["T_DOUBLE_COLON","::",246],["T_STRING","PRICE_SCOPE_GLOBAL",246],";",["T_WHITESPACE","\n    ",246],"}",["T_WHITESPACE","\n\n    ",247],["T_DOC_COMMENT","\/**\n     * Indicate whether to save URL Rewrite History or not (create redirects to old URLs)\n     *\n     * @param int $storeId Store View\n     * @return bool\n     *\/",249],["T_WHITESPACE","\n    ",254],["T_PUBLIC","public",255],["T_WHITESPACE"," ",255],["T_FUNCTION","function",255],["T_WHITESPACE"," ",255],["T_STRING","shouldSaveUrlRewritesHistory",255],"(",["T_VARIABLE","$storeId",255],["T_WHITESPACE"," ",255],"=",["T_WHITESPACE"," ",255],["T_STRING","null",255],")",["T_WHITESPACE","\n    ",255],"{",["T_WHITESPACE","\n        ",256],["T_RETURN","return",257],["T_WHITESPACE"," ",257],["T_STRING","Mage",257],["T_DOUBLE_COLON","::",257],["T_STRING","getStoreConfigFlag",257],"(",["T_STRING","self",257],["T_DOUBLE_COLON","::",257],["T_STRING","XML_PATH_SEO_SAVE_HISTORY",257],",",["T_WHITESPACE"," ",257],["T_VARIABLE","$storeId",257],")",";",["T_WHITESPACE","\n    ",257],"}",["T_WHITESPACE","\n\n    ",258],["T_DOC_COMMENT","\/**\n     * Check if the store is configured to use static URLs for media\n     *\n     * @return bool\n     *\/",260],["T_WHITESPACE","\n    ",264],["T_PUBLIC","public",265],["T_WHITESPACE"," ",265],["T_FUNCTION","function",265],["T_WHITESPACE"," ",265],["T_STRING","isUsingStaticUrlsAllowed",265],"(",")",["T_WHITESPACE","\n    ",265],"{",["T_WHITESPACE","\n        ",266],["T_RETURN","return",267],["T_WHITESPACE"," ",267],["T_STRING","Mage",267],["T_DOUBLE_COLON","::",267],["T_STRING","getStoreConfigFlag",267],"(",["T_STRING","self",267],["T_DOUBLE_COLON","::",267],["T_STRING","CONFIG_USE_STATIC_URLS",267],",",["T_WHITESPACE"," ",267],["T_VARIABLE","$this",267],["T_OBJECT_OPERATOR","->",267],["T_STRING","_storeId",267],")",";",["T_WHITESPACE","\n    ",267],"}",["T_WHITESPACE","\n\n    ",268],["T_DOC_COMMENT","\/**\n     * Check if the parsing of URL directives is allowed for the catalog\n     *\n     * @return bool\n     *\/",270],["T_WHITESPACE","\n    ",274],["T_PUBLIC","public",275],["T_WHITESPACE"," ",275],["T_FUNCTION","function",275],["T_WHITESPACE"," ",275],["T_STRING","isUrlDirectivesParsingAllowed",275],"(",")",["T_WHITESPACE","\n    ",275],"{",["T_WHITESPACE","\n        ",276],["T_RETURN","return",277],["T_WHITESPACE"," ",277],["T_STRING","Mage",277],["T_DOUBLE_COLON","::",277],["T_STRING","getStoreConfigFlag",277],"(",["T_STRING","self",277],["T_DOUBLE_COLON","::",277],["T_STRING","CONFIG_PARSE_URL_DIRECTIVES",277],",",["T_WHITESPACE"," ",277],["T_VARIABLE","$this",277],["T_OBJECT_OPERATOR","->",277],["T_STRING","_storeId",277],")",";",["T_WHITESPACE","\n    ",277],"}",["T_WHITESPACE","\n\n    ",278],["T_DOC_COMMENT","\/**\n     * Retrieve template processor for catalog content\n     *\n     * @return Varien_Filter_Template\n     *\/",280],["T_WHITESPACE","\n    ",284],["T_PUBLIC","public",285],["T_WHITESPACE"," ",285],["T_FUNCTION","function",285],["T_WHITESPACE"," ",285],["T_STRING","getPageTemplateProcessor",285],"(",")",["T_WHITESPACE","\n    ",285],"{",["T_WHITESPACE","\n        ",286],["T_VARIABLE","$model",287],["T_WHITESPACE"," ",287],"=",["T_WHITESPACE"," ",287],["T_STRING_CAST","(string)",287],["T_STRING","Mage",287],["T_DOUBLE_COLON","::",287],["T_STRING","getConfig",287],"(",")",["T_OBJECT_OPERATOR","->",287],["T_STRING","getNode",287],"(",["T_STRING","self",287],["T_DOUBLE_COLON","::",287],["T_STRING","XML_PATH_CONTENT_TEMPLATE_FILTER",287],")",";",["T_WHITESPACE","\n        ",287],["T_RETURN","return",288],["T_WHITESPACE"," ",288],["T_STRING","Mage",288],["T_DOUBLE_COLON","::",288],["T_STRING","getModel",288],"(",["T_VARIABLE","$model",288],")",";",["T_WHITESPACE","\n    ",288],"}",["T_WHITESPACE","\n\n    ",289],["T_DOC_COMMENT","\/**\n    * Initialize mapping for old and new field names\n    *\n    * @return array\n    *\/",291],["T_WHITESPACE","\n    ",295],["T_PUBLIC","public",296],["T_WHITESPACE"," ",296],["T_FUNCTION","function",296],["T_WHITESPACE"," ",296],["T_STRING","getOldFieldMap",296],"(",")",["T_WHITESPACE","\n    ",296],"{",["T_WHITESPACE","\n        ",297],["T_VARIABLE","$node",298],["T_WHITESPACE"," ",298],"=",["T_WHITESPACE"," ",298],["T_STRING","Mage",298],["T_DOUBLE_COLON","::",298],["T_STRING","getConfig",298],"(",")",["T_OBJECT_OPERATOR","->",298],["T_STRING","getNode",298],"(",["T_CONSTANT_ENCAPSED_STRING","'global\/catalog_product\/old_fields_map'",298],")",";",["T_WHITESPACE","\n        ",298],["T_IF","if",299],["T_WHITESPACE"," ",299],"(",["T_VARIABLE","$node",299],["T_WHITESPACE"," ",299],["T_IS_IDENTICAL","===",299],["T_WHITESPACE"," ",299],["T_STRING","false",299],")",["T_WHITESPACE"," ",299],"{",["T_WHITESPACE","\n            ",299],["T_RETURN","return",300],["T_WHITESPACE"," ",300],["T_ARRAY","array",300],"(",")",";",["T_WHITESPACE","\n        ",300],"}",["T_WHITESPACE","\n        ",301],["T_RETURN","return",302],["T_WHITESPACE"," ",302],["T_ARRAY_CAST","(array)",302],["T_WHITESPACE"," ",302],["T_VARIABLE","$node",302],";",["T_WHITESPACE","\n    ",302],"}",["T_WHITESPACE","\n    ",303],["T_DOC_COMMENT","\/**\n     * Check if Minimum Advertised Price is enabled\n     *\n     * @return bool\n     *\/",304],["T_WHITESPACE","\n    ",308],["T_PUBLIC","public",309],["T_WHITESPACE"," ",309],["T_FUNCTION","function",309],["T_WHITESPACE"," ",309],["T_STRING","isMsrpEnabled",309],"(",")",["T_WHITESPACE","\n    ",309],"{",["T_WHITESPACE","\n        ",310],["T_RETURN","return",311],["T_WHITESPACE"," ",311],["T_BOOL_CAST","(bool)",311],["T_STRING","Mage",311],["T_DOUBLE_COLON","::",311],["T_STRING","getStoreConfig",311],"(",["T_STRING","self",311],["T_DOUBLE_COLON","::",311],["T_STRING","XML_PATH_MSRP_ENABLED",311],",",["T_WHITESPACE"," ",311],["T_VARIABLE","$this",311],["T_OBJECT_OPERATOR","->",311],["T_STRING","_storeId",311],")",";",["T_WHITESPACE","\n    ",311],"}",["T_WHITESPACE","\n\n    ",312],["T_DOC_COMMENT","\/**\n     * Return MAP display actual type\n     *\n     * @return null|string\n     *\/",314],["T_WHITESPACE","\n    ",318],["T_PUBLIC","public",319],["T_WHITESPACE"," ",319],["T_FUNCTION","function",319],["T_WHITESPACE"," ",319],["T_STRING","getMsrpDisplayActualPriceType",319],"(",")",["T_WHITESPACE","\n    ",319],"{",["T_WHITESPACE","\n        ",320],["T_RETURN","return",321],["T_WHITESPACE"," ",321],["T_STRING","Mage",321],["T_DOUBLE_COLON","::",321],["T_STRING","getStoreConfig",321],"(",["T_STRING","self",321],["T_DOUBLE_COLON","::",321],["T_STRING","XML_PATH_MSRP_DISPLAY_ACTUAL_PRICE_TYPE",321],",",["T_WHITESPACE"," ",321],["T_VARIABLE","$this",321],["T_OBJECT_OPERATOR","->",321],["T_STRING","_storeId",321],")",";",["T_WHITESPACE","\n    ",321],"}",["T_WHITESPACE","\n\n    ",322],["T_DOC_COMMENT","\/**\n     * Check if MAP apply to all products\n     *\n     * @return bool\n     *\/",324],["T_WHITESPACE","\n    ",328],["T_PUBLIC","public",329],["T_WHITESPACE"," ",329],["T_FUNCTION","function",329],["T_WHITESPACE"," ",329],["T_STRING","isMsrpApplyToAll",329],"(",")",["T_WHITESPACE","\n    ",329],"{",["T_WHITESPACE","\n        ",330],["T_RETURN","return",331],["T_WHITESPACE"," ",331],["T_BOOL_CAST","(bool)",331],["T_STRING","Mage",331],["T_DOUBLE_COLON","::",331],["T_STRING","getStoreConfig",331],"(",["T_STRING","self",331],["T_DOUBLE_COLON","::",331],["T_STRING","XML_PATH_MSRP_APPLY_TO_ALL",331],",",["T_WHITESPACE"," ",331],["T_VARIABLE","$this",331],["T_OBJECT_OPERATOR","->",331],["T_STRING","_storeId",331],")",";",["T_WHITESPACE","\n    ",331],"}",["T_WHITESPACE","\n\n    ",332],["T_DOC_COMMENT","\/**\n     * Return MAP explanation message\n     *\n     * @return string\n     *\/",334],["T_WHITESPACE","\n    ",338],["T_PUBLIC","public",339],["T_WHITESPACE"," ",339],["T_FUNCTION","function",339],["T_WHITESPACE"," ",339],["T_STRING","getMsrpExplanationMessage",339],"(",")",["T_WHITESPACE","\n    ",339],"{",["T_WHITESPACE","\n        ",340],["T_RETURN","return",341],["T_WHITESPACE"," ",341],["T_VARIABLE","$this",341],["T_OBJECT_OPERATOR","->",341],["T_STRING","escapeHtml",341],"(",["T_WHITESPACE","\n            ",341],["T_STRING","Mage",342],["T_DOUBLE_COLON","::",342],["T_STRING","getStoreConfig",342],"(",["T_STRING","self",342],["T_DOUBLE_COLON","::",342],["T_STRING","XML_PATH_MSRP_EXPLANATION_MESSAGE",342],",",["T_WHITESPACE"," ",342],["T_VARIABLE","$this",342],["T_OBJECT_OPERATOR","->",342],["T_STRING","_storeId",342],")",",",["T_WHITESPACE","\n            ",342],["T_ARRAY","array",343],"(",["T_CONSTANT_ENCAPSED_STRING","'b'",343],",",["T_CONSTANT_ENCAPSED_STRING","'br'",343],",",["T_CONSTANT_ENCAPSED_STRING","'strong'",343],",",["T_CONSTANT_ENCAPSED_STRING","'i'",343],",",["T_CONSTANT_ENCAPSED_STRING","'u'",343],",",["T_WHITESPACE"," ",343],["T_CONSTANT_ENCAPSED_STRING","'p'",343],",",["T_WHITESPACE"," ",343],["T_CONSTANT_ENCAPSED_STRING","'span'",343],")",["T_WHITESPACE","\n        ",343],")",";",["T_WHITESPACE","\n    ",344],"}",["T_WHITESPACE","\n\n    ",345],["T_DOC_COMMENT","\/**\n     * Return MAP explanation message for \"Whats This\" window\n     *\n     * @return string\n     *\/",347],["T_WHITESPACE","\n    ",351],["T_PUBLIC","public",352],["T_WHITESPACE"," ",352],["T_FUNCTION","function",352],["T_WHITESPACE"," ",352],["T_STRING","getMsrpExplanationMessageWhatsThis",352],"(",")",["T_WHITESPACE","\n    ",352],"{",["T_WHITESPACE","\n        ",353],["T_RETURN","return",354],["T_WHITESPACE"," ",354],["T_VARIABLE","$this",354],["T_OBJECT_OPERATOR","->",354],["T_STRING","escapeHtml",354],"(",["T_WHITESPACE","\n            ",354],["T_STRING","Mage",355],["T_DOUBLE_COLON","::",355],["T_STRING","getStoreConfig",355],"(",["T_STRING","self",355],["T_DOUBLE_COLON","::",355],["T_STRING","XML_PATH_MSRP_EXPLANATION_MESSAGE_WHATS_THIS",355],",",["T_WHITESPACE"," ",355],["T_VARIABLE","$this",355],["T_OBJECT_OPERATOR","->",355],["T_STRING","_storeId",355],")",",",["T_WHITESPACE","\n            ",355],["T_ARRAY","array",356],"(",["T_CONSTANT_ENCAPSED_STRING","'b'",356],",",["T_CONSTANT_ENCAPSED_STRING","'br'",356],",",["T_CONSTANT_ENCAPSED_STRING","'strong'",356],",",["T_CONSTANT_ENCAPSED_STRING","'i'",356],",",["T_CONSTANT_ENCAPSED_STRING","'u'",356],",",["T_WHITESPACE"," ",356],["T_CONSTANT_ENCAPSED_STRING","'p'",356],",",["T_WHITESPACE"," ",356],["T_CONSTANT_ENCAPSED_STRING","'span'",356],")",["T_WHITESPACE","\n        ",356],")",";",["T_WHITESPACE","\n    ",357],"}",["T_WHITESPACE","\n\n    ",358],["T_DOC_COMMENT","\/**\n     * Check if can apply Minimum Advertise price to product\n     * in specific visibility\n     *\n     * @param int|Mage_Catalog_Model_Product $product\n     * @param int $visibility Check displaying price in concrete place (by default generally)\n     * @param bool $checkAssociatedItems\n     * @return bool\n     *\/",360],["T_WHITESPACE","\n    ",368],["T_PUBLIC","public",369],["T_WHITESPACE"," ",369],["T_FUNCTION","function",369],["T_WHITESPACE"," ",369],["T_STRING","canApplyMsrp",369],"(",["T_VARIABLE","$product",369],",",["T_WHITESPACE"," ",369],["T_VARIABLE","$visibility",369],["T_WHITESPACE"," ",369],"=",["T_WHITESPACE"," ",369],["T_STRING","null",369],",",["T_WHITESPACE"," ",369],["T_VARIABLE","$checkAssociatedItems",369],["T_WHITESPACE"," ",369],"=",["T_WHITESPACE"," ",369],["T_STRING","true",369],")",["T_WHITESPACE","\n    ",369],"{",["T_WHITESPACE","\n        ",370],["T_IF","if",371],["T_WHITESPACE"," ",371],"(","!",["T_VARIABLE","$this",371],["T_OBJECT_OPERATOR","->",371],["T_STRING","isMsrpEnabled",371],"(",")",")",["T_WHITESPACE"," ",371],"{",["T_WHITESPACE","\n            ",371],["T_RETURN","return",372],["T_WHITESPACE"," ",372],["T_STRING","false",372],";",["T_WHITESPACE","\n        ",372],"}",["T_WHITESPACE","\n\n        ",373],["T_IF","if",375],["T_WHITESPACE"," ",375],"(",["T_STRING","is_numeric",375],"(",["T_VARIABLE","$product",375],")",")",["T_WHITESPACE"," ",375],"{",["T_WHITESPACE","\n            ",375],["T_VARIABLE","$product",376],["T_WHITESPACE"," ",376],"=",["T_WHITESPACE"," ",376],["T_STRING","Mage",376],["T_DOUBLE_COLON","::",376],["T_STRING","getModel",376],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog\/product'",376],")",["T_WHITESPACE","\n                ",376],["T_OBJECT_OPERATOR","->",377],["T_STRING","setStoreId",377],"(",["T_STRING","Mage",377],["T_DOUBLE_COLON","::",377],["T_STRING","app",377],"(",")",["T_OBJECT_OPERATOR","->",377],["T_STRING","getStore",377],"(",")",["T_OBJECT_OPERATOR","->",377],["T_STRING","getId",377],"(",")",")",["T_WHITESPACE","\n                ",377],["T_OBJECT_OPERATOR","->",378],["T_STRING","load",378],"(",["T_VARIABLE","$product",378],")",";",["T_WHITESPACE","\n        ",378],"}",["T_WHITESPACE","\n\n        ",379],["T_IF","if",381],["T_WHITESPACE"," ",381],"(","!",["T_VARIABLE","$this",381],["T_OBJECT_OPERATOR","->",381],["T_STRING","canApplyMsrpToProductType",381],"(",["T_VARIABLE","$product",381],")",")",["T_WHITESPACE"," ",381],"{",["T_WHITESPACE","\n            ",381],["T_RETURN","return",382],["T_WHITESPACE"," ",382],["T_STRING","false",382],";",["T_WHITESPACE","\n        ",382],"}",["T_WHITESPACE","\n\n        ",383],["T_VARIABLE","$result",385],["T_WHITESPACE"," ",385],"=",["T_WHITESPACE"," ",385],["T_VARIABLE","$product",385],["T_OBJECT_OPERATOR","->",385],["T_STRING","getMsrpEnabled",385],"(",")",";",["T_WHITESPACE","\n        ",385],["T_IF","if",386],["T_WHITESPACE"," ",386],"(",["T_VARIABLE","$result",386],["T_WHITESPACE"," ",386],["T_IS_EQUAL","==",386],["T_WHITESPACE"," ",386],["T_STRING","Mage_Catalog_Model_Product_Attribute_Source_Msrp_Type_Enabled",386],["T_DOUBLE_COLON","::",386],["T_STRING","MSRP_ENABLE_USE_CONFIG",386],")",["T_WHITESPACE"," ",386],"{",["T_WHITESPACE","\n            ",386],["T_VARIABLE","$result",387],["T_WHITESPACE"," ",387],"=",["T_WHITESPACE"," ",387],["T_VARIABLE","$this",387],["T_OBJECT_OPERATOR","->",387],["T_STRING","isMsrpApplyToAll",387],"(",")",";",["T_WHITESPACE","\n        ",387],"}",["T_WHITESPACE","\n\n        ",388],["T_IF","if",390],["T_WHITESPACE"," ",390],"(","!",["T_VARIABLE","$product",390],["T_OBJECT_OPERATOR","->",390],["T_STRING","hasMsrpEnabled",390],"(",")",["T_WHITESPACE"," ",390],["T_BOOLEAN_AND","&&",390],["T_WHITESPACE"," ",390],["T_VARIABLE","$this",390],["T_OBJECT_OPERATOR","->",390],["T_STRING","isMsrpApplyToAll",390],"(",")",")",["T_WHITESPACE"," ",390],"{",["T_WHITESPACE","\n            ",390],["T_VARIABLE","$result",391],["T_WHITESPACE"," ",391],"=",["T_WHITESPACE"," ",391],["T_STRING","true",391],";",["T_WHITESPACE","\n        ",391],"}",["T_WHITESPACE","\n\n        ",392],["T_IF","if",394],["T_WHITESPACE"," ",394],"(",["T_VARIABLE","$result",394],["T_WHITESPACE"," ",394],["T_BOOLEAN_AND","&&",394],["T_WHITESPACE"," ",394],["T_VARIABLE","$visibility",394],["T_WHITESPACE"," ",394],["T_IS_NOT_IDENTICAL","!==",394],["T_WHITESPACE"," ",394],["T_STRING","null",394],")",["T_WHITESPACE"," ",394],"{",["T_WHITESPACE","\n            ",394],["T_VARIABLE","$productVisibility",395],["T_WHITESPACE"," ",395],"=",["T_WHITESPACE"," ",395],["T_VARIABLE","$product",395],["T_OBJECT_OPERATOR","->",395],["T_STRING","getMsrpDisplayActualPriceType",395],"(",")",";",["T_WHITESPACE","\n            ",395],["T_IF","if",396],["T_WHITESPACE"," ",396],"(",["T_VARIABLE","$productVisibility",396],["T_WHITESPACE"," ",396],["T_IS_EQUAL","==",396],["T_WHITESPACE"," ",396],["T_STRING","Mage_Catalog_Model_Product_Attribute_Source_Msrp_Type_Price",396],["T_DOUBLE_COLON","::",396],["T_STRING","TYPE_USE_CONFIG",396],")",["T_WHITESPACE"," ",396],"{",["T_WHITESPACE","\n                ",396],["T_VARIABLE","$productVisibility",397],["T_WHITESPACE"," ",397],"=",["T_WHITESPACE"," ",397],["T_VARIABLE","$this",397],["T_OBJECT_OPERATOR","->",397],["T_STRING","getMsrpDisplayActualPriceType",397],"(",")",";",["T_WHITESPACE","\n            ",397],"}",["T_WHITESPACE","\n            ",398],["T_VARIABLE","$result",399],["T_WHITESPACE"," ",399],"=",["T_WHITESPACE"," ",399],"(",["T_VARIABLE","$productVisibility",399],["T_WHITESPACE"," ",399],["T_IS_EQUAL","==",399],["T_WHITESPACE"," ",399],["T_VARIABLE","$visibility",399],")",";",["T_WHITESPACE","\n        ",399],"}",["T_WHITESPACE","\n\n        ",400],["T_IF","if",402],["T_WHITESPACE"," ",402],"(",["T_VARIABLE","$product",402],["T_OBJECT_OPERATOR","->",402],["T_STRING","getTypeInstance",402],"(",["T_STRING","true",402],")",["T_OBJECT_OPERATOR","->",402],["T_STRING","isComposite",402],"(",["T_VARIABLE","$product",402],")",["T_WHITESPACE","\n            ",402],["T_BOOLEAN_AND","&&",403],["T_WHITESPACE"," ",403],["T_VARIABLE","$checkAssociatedItems",403],["T_WHITESPACE","\n            ",403],["T_BOOLEAN_AND","&&",404],["T_WHITESPACE"," ",404],"(","!",["T_VARIABLE","$result",404],["T_WHITESPACE"," ",404],["T_BOOLEAN_OR","||",404],["T_WHITESPACE"," ",404],["T_VARIABLE","$visibility",404],["T_WHITESPACE"," ",404],["T_IS_NOT_IDENTICAL","!==",404],["T_WHITESPACE"," ",404],["T_STRING","null",404],")",["T_WHITESPACE","\n        ",404],")",["T_WHITESPACE"," ",405],"{",["T_WHITESPACE","\n            ",405],["T_VARIABLE","$resultInOptions",406],["T_WHITESPACE"," ",406],"=",["T_WHITESPACE"," ",406],["T_VARIABLE","$product",406],["T_OBJECT_OPERATOR","->",406],["T_STRING","getTypeInstance",406],"(",["T_STRING","true",406],")",["T_OBJECT_OPERATOR","->",406],["T_STRING","isMapEnabledInOptions",406],"(",["T_VARIABLE","$product",406],",",["T_WHITESPACE"," ",406],["T_VARIABLE","$visibility",406],")",";",["T_WHITESPACE","\n            ",406],["T_IF","if",407],["T_WHITESPACE"," ",407],"(",["T_VARIABLE","$resultInOptions",407],["T_WHITESPACE"," ",407],["T_IS_NOT_IDENTICAL","!==",407],["T_WHITESPACE"," ",407],["T_STRING","null",407],")",["T_WHITESPACE"," ",407],"{",["T_WHITESPACE","\n                ",407],["T_VARIABLE","$result",408],["T_WHITESPACE"," ",408],"=",["T_WHITESPACE"," ",408],["T_VARIABLE","$resultInOptions",408],";",["T_WHITESPACE","\n            ",408],"}",["T_WHITESPACE","\n        ",409],"}",["T_WHITESPACE","\n\n        ",410],["T_RETURN","return",412],["T_WHITESPACE"," ",412],["T_VARIABLE","$result",412],";",["T_WHITESPACE","\n    ",412],"}",["T_WHITESPACE","\n\n    ",413],["T_DOC_COMMENT","\/**\n     * Check whether MAP applied to product Product Type\n     *\n     * @param Mage_Catalog_Model_Product $product\n     * @return bool\n     *\/",415],["T_WHITESPACE","\n    ",420],["T_PUBLIC","public",421],["T_WHITESPACE"," ",421],["T_FUNCTION","function",421],["T_WHITESPACE"," ",421],["T_STRING","canApplyMsrpToProductType",421],"(",["T_VARIABLE","$product",421],")",["T_WHITESPACE","\n    ",421],"{",["T_WHITESPACE","\n        ",422],["T_IF","if",423],"(",["T_VARIABLE","$this",423],["T_OBJECT_OPERATOR","->",423],["T_STRING","_mapApplyToProductType",423],["T_WHITESPACE"," ",423],["T_IS_IDENTICAL","===",423],["T_WHITESPACE"," ",423],["T_STRING","null",423],")",["T_WHITESPACE"," ",423],"{",["T_WHITESPACE","\n            ",423],["T_DOC_COMMENT","\/** @var $attribute Mage_Catalog_Model_Resource_Eav_Attribute *\/",424],["T_WHITESPACE","\n            ",424],["T_VARIABLE","$attribute",425],["T_WHITESPACE"," ",425],"=",["T_WHITESPACE"," ",425],["T_STRING","Mage",425],["T_DOUBLE_COLON","::",425],["T_STRING","getModel",425],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog\/resource_eav_attribute'",425],")",["T_WHITESPACE","\n                ",425],["T_OBJECT_OPERATOR","->",426],["T_STRING","loadByCode",426],"(",["T_STRING","Mage_Catalog_Model_Product",426],["T_DOUBLE_COLON","::",426],["T_STRING","ENTITY",426],",",["T_WHITESPACE"," ",426],["T_CONSTANT_ENCAPSED_STRING","'msrp_enabled'",426],")",";",["T_WHITESPACE","\n            ",426],["T_VARIABLE","$this",427],["T_OBJECT_OPERATOR","->",427],["T_STRING","_mapApplyToProductType",427],["T_WHITESPACE"," ",427],"=",["T_WHITESPACE"," ",427],["T_VARIABLE","$attribute",427],["T_OBJECT_OPERATOR","->",427],["T_STRING","getApplyTo",427],"(",")",";",["T_WHITESPACE","\n        ",427],"}",["T_WHITESPACE","\n        ",428],["T_RETURN","return",429],["T_WHITESPACE"," ",429],["T_EMPTY","empty",429],"(",["T_VARIABLE","$this",429],["T_OBJECT_OPERATOR","->",429],["T_STRING","_mapApplyToProductType",429],")",["T_WHITESPACE"," ",429],["T_BOOLEAN_OR","||",429],["T_WHITESPACE"," ",429],["T_STRING","in_array",429],"(",["T_VARIABLE","$product",429],["T_OBJECT_OPERATOR","->",429],["T_STRING","getTypeId",429],"(",")",",",["T_WHITESPACE"," ",429],["T_VARIABLE","$this",429],["T_OBJECT_OPERATOR","->",429],["T_STRING","_mapApplyToProductType",429],")",";",["T_WHITESPACE","\n    ",429],"}",["T_WHITESPACE","\n\n    ",430],["T_DOC_COMMENT","\/**\n     * Get MAP message for price\n     *\n     * @param Mage_Catalog_Model_Product $product\n     * @return string\n     *\/",432],["T_WHITESPACE","\n    ",437],["T_PUBLIC","public",438],["T_WHITESPACE"," ",438],["T_FUNCTION","function",438],["T_WHITESPACE"," ",438],["T_STRING","getMsrpPriceMessage",438],"(",["T_VARIABLE","$product",438],")",["T_WHITESPACE","\n    ",438],"{",["T_WHITESPACE","\n        ",439],["T_VARIABLE","$message",440],["T_WHITESPACE"," ",440],"=",["T_WHITESPACE"," ",440],["T_CONSTANT_ENCAPSED_STRING","\"\"",440],";",["T_WHITESPACE","\n        ",440],["T_IF","if",441],["T_WHITESPACE"," ",441],"(",["T_VARIABLE","$this",441],["T_OBJECT_OPERATOR","->",441],["T_STRING","canApplyMsrp",441],"(",["T_WHITESPACE","\n            ",441],["T_VARIABLE","$product",442],",",["T_WHITESPACE","\n            ",442],["T_STRING","Mage_Catalog_Model_Product_Attribute_Source_Msrp_Type",443],["T_DOUBLE_COLON","::",443],["T_STRING","TYPE_IN_CART",443],["T_WHITESPACE","\n        ",443],")",")",["T_WHITESPACE"," ",444],"{",["T_WHITESPACE","\n            ",444],["T_VARIABLE","$message",445],["T_WHITESPACE"," ",445],"=",["T_WHITESPACE"," ",445],["T_VARIABLE","$this",445],["T_OBJECT_OPERATOR","->",445],["T_STRING","__",445],"(",["T_CONSTANT_ENCAPSED_STRING","'To see product price, add this item to your cart. You can always remove it later.'",445],")",";",["T_WHITESPACE","\n        ",445],"}",["T_WHITESPACE"," ",446],["T_ELSEIF","elseif",446],["T_WHITESPACE"," ",446],"(",["T_VARIABLE","$this",446],["T_OBJECT_OPERATOR","->",446],["T_STRING","canApplyMsrp",446],"(",["T_WHITESPACE","\n            ",446],["T_VARIABLE","$product",447],",",["T_WHITESPACE","\n            ",447],["T_STRING","Mage_Catalog_Model_Product_Attribute_Source_Msrp_Type",448],["T_DOUBLE_COLON","::",448],["T_STRING","TYPE_BEFORE_ORDER_CONFIRM",448],["T_WHITESPACE","\n        ",448],")",")",["T_WHITESPACE"," ",449],"{",["T_WHITESPACE","\n            ",449],["T_VARIABLE","$message",450],["T_WHITESPACE"," ",450],"=",["T_WHITESPACE"," ",450],["T_VARIABLE","$this",450],["T_OBJECT_OPERATOR","->",450],["T_STRING","__",450],"(",["T_CONSTANT_ENCAPSED_STRING","'See price before order confirmation.'",450],")",";",["T_WHITESPACE","\n        ",450],"}",["T_WHITESPACE","\n        ",451],["T_RETURN","return",452],["T_WHITESPACE"," ",452],["T_VARIABLE","$message",452],";",["T_WHITESPACE","\n    ",452],"}",["T_WHITESPACE","\n\n    ",453],["T_DOC_COMMENT","\/**\n     * Check is product need gesture to show price\n     *\n     * @param Mage_Catalog_Model_Product $product\n     * @return bool\n     *\/",455],["T_WHITESPACE","\n    ",460],["T_PUBLIC","public",461],["T_WHITESPACE"," ",461],["T_FUNCTION","function",461],["T_WHITESPACE"," ",461],["T_STRING","isShowPriceOnGesture",461],"(",["T_VARIABLE","$product",461],")",["T_WHITESPACE","\n    ",461],"{",["T_WHITESPACE","\n        ",462],["T_RETURN","return",463],["T_WHITESPACE"," ",463],["T_VARIABLE","$this",463],["T_OBJECT_OPERATOR","->",463],["T_STRING","canApplyMsrp",463],"(",["T_WHITESPACE","\n            ",463],["T_VARIABLE","$product",464],",",["T_WHITESPACE","\n            ",464],["T_STRING","Mage_Catalog_Model_Product_Attribute_Source_Msrp_Type",465],["T_DOUBLE_COLON","::",465],["T_STRING","TYPE_ON_GESTURE",465],["T_WHITESPACE","\n        ",465],")",";",["T_WHITESPACE","\n    ",466],"}",["T_WHITESPACE","\n\n    ",467],["T_DOC_COMMENT","\/**\n     * Whether to display items count for each filter option\n     * @param int $storeId Store view ID\n     * @return bool\n     *\/",469],["T_WHITESPACE","\n    ",473],["T_PUBLIC","public",474],["T_WHITESPACE"," ",474],["T_FUNCTION","function",474],["T_WHITESPACE"," ",474],["T_STRING","shouldDisplayProductCountOnLayer",474],"(",["T_VARIABLE","$storeId",474],["T_WHITESPACE"," ",474],"=",["T_WHITESPACE"," ",474],["T_STRING","null",474],")",["T_WHITESPACE","\n    ",474],"{",["T_WHITESPACE","\n        ",475],["T_RETURN","return",476],["T_WHITESPACE"," ",476],["T_STRING","Mage",476],["T_DOUBLE_COLON","::",476],["T_STRING","getStoreConfigFlag",476],"(",["T_STRING","self",476],["T_DOUBLE_COLON","::",476],["T_STRING","XML_PATH_DISPLAY_PRODUCT_COUNT",476],",",["T_WHITESPACE"," ",476],["T_VARIABLE","$storeId",476],")",";",["T_WHITESPACE","\n    ",476],"}",["T_WHITESPACE","\n",477],"}",["T_WHITESPACE","\n",478]]