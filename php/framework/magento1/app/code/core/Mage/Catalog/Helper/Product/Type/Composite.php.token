[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Magento\n *\n * NOTICE OF LICENSE\n *\n * This source file is subject to the Open Software License (OSL 3.0)\n * that is bundled with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/opensource.org\/licenses\/osl-3.0.php\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@magento.com so we can send you a copy immediately.\n *\n * DISCLAIMER\n *\n * Do not edit or add to this file if you wish to upgrade Magento to newer\n * versions in the future. If you wish to customize Magento for your\n * needs please refer to http:\/\/www.magento.com for more information.\n *\n * @category    Mage\n * @package     Mage_Catalog\n * @copyright  Copyright (c) 2006-2016 X.commerce, Inc. and affiliates (http:\/\/www.magento.com)\n * @license    http:\/\/opensource.org\/licenses\/osl-3.0.php  Open Software License (OSL 3.0)\n *\/",2],["T_WHITESPACE","\n\n",25],["T_DOC_COMMENT","\/**\n * Helper for preparing properties for configurable product\n *\n * @category   Mage\n * @package    Mage_Catalog\n * @author     Magento Core Team <core@magentocommerce.com>\n *\/",27],["T_WHITESPACE","\n",33],["T_CLASS","class",34],["T_WHITESPACE"," ",34],["T_STRING","Mage_Catalog_Helper_Product_Type_Composite",34],["T_WHITESPACE"," ",34],["T_EXTENDS","extends",34],["T_WHITESPACE"," ",34],["T_STRING","Mage_Core_Helper_Abstract",34],["T_WHITESPACE","\n",34],"{",["T_WHITESPACE","\n    ",35],["T_DOC_COMMENT","\/**\n     * Calculation real price\n     *\n     * @param Mage_Catalog_Model_Product $product\n     * @param float $price\n     * @param bool $isPercent\n     * @param null|int $storeId\n     * @return mixed\n     *\/",36],["T_WHITESPACE","\n    ",44],["T_PUBLIC","public",45],["T_WHITESPACE"," ",45],["T_FUNCTION","function",45],["T_WHITESPACE"," ",45],["T_STRING","preparePrice",45],"(",["T_VARIABLE","$product",45],",",["T_WHITESPACE"," ",45],["T_VARIABLE","$price",45],",",["T_WHITESPACE"," ",45],["T_VARIABLE","$isPercent",45],["T_WHITESPACE"," ",45],"=",["T_WHITESPACE"," ",45],["T_STRING","false",45],",",["T_WHITESPACE"," ",45],["T_VARIABLE","$storeId",45],["T_WHITESPACE"," ",45],"=",["T_WHITESPACE"," ",45],["T_STRING","null",45],")",["T_WHITESPACE","\n    ",45],"{",["T_WHITESPACE","\n        ",46],["T_IF","if",47],["T_WHITESPACE"," ",47],"(",["T_VARIABLE","$isPercent",47],["T_WHITESPACE"," ",47],["T_BOOLEAN_AND","&&",47],["T_WHITESPACE"," ",47],"!",["T_EMPTY","empty",47],"(",["T_VARIABLE","$price",47],")",")",["T_WHITESPACE"," ",47],"{",["T_WHITESPACE","\n            ",47],["T_VARIABLE","$price",48],["T_WHITESPACE"," ",48],"=",["T_WHITESPACE"," ",48],["T_VARIABLE","$product",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","getFinalPrice",48],"(",")",["T_WHITESPACE"," ",48],"*",["T_WHITESPACE"," ",48],["T_VARIABLE","$price",48],["T_WHITESPACE"," ",48],"\/",["T_WHITESPACE"," ",48],["T_LNUMBER","100",48],";",["T_WHITESPACE","\n        ",48],"}",["T_WHITESPACE","\n\n        ",49],["T_RETURN","return",51],["T_WHITESPACE"," ",51],["T_VARIABLE","$this",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","registerJsPrice",51],"(",["T_VARIABLE","$this",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","convertPrice",51],"(",["T_VARIABLE","$price",51],",",["T_WHITESPACE"," ",51],["T_STRING","true",51],",",["T_WHITESPACE"," ",51],["T_VARIABLE","$storeId",51],")",")",";",["T_WHITESPACE","\n    ",51],"}",["T_WHITESPACE","\n\n    ",52],["T_DOC_COMMENT","\/**\n     * Calculation price before special price\n     *\n     * @param Mage_Catalog_Model_Product $product\n     * @param float $price\n     * @param bool $isPercent\n     * @param null|int $storeId\n     * @return mixed\n     *\/",54],["T_WHITESPACE","\n    ",62],["T_PUBLIC","public",63],["T_WHITESPACE"," ",63],["T_FUNCTION","function",63],["T_WHITESPACE"," ",63],["T_STRING","prepareOldPrice",63],"(",["T_VARIABLE","$product",63],",",["T_WHITESPACE"," ",63],["T_VARIABLE","$price",63],",",["T_WHITESPACE"," ",63],["T_VARIABLE","$isPercent",63],["T_WHITESPACE"," ",63],"=",["T_WHITESPACE"," ",63],["T_STRING","false",63],",",["T_WHITESPACE"," ",63],["T_VARIABLE","$storeId",63],["T_WHITESPACE"," ",63],"=",["T_WHITESPACE"," ",63],["T_STRING","null",63],")",["T_WHITESPACE","\n    ",63],"{",["T_WHITESPACE","\n        ",64],["T_IF","if",65],["T_WHITESPACE"," ",65],"(",["T_VARIABLE","$isPercent",65],["T_WHITESPACE"," ",65],["T_BOOLEAN_AND","&&",65],["T_WHITESPACE"," ",65],"!",["T_EMPTY","empty",65],"(",["T_VARIABLE","$price",65],")",")",["T_WHITESPACE"," ",65],"{",["T_WHITESPACE","\n            ",65],["T_VARIABLE","$price",66],["T_WHITESPACE"," ",66],"=",["T_WHITESPACE"," ",66],["T_VARIABLE","$product",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","getPrice",66],"(",")",["T_WHITESPACE"," ",66],"*",["T_WHITESPACE"," ",66],["T_VARIABLE","$price",66],["T_WHITESPACE"," ",66],"\/",["T_WHITESPACE"," ",66],["T_LNUMBER","100",66],";",["T_WHITESPACE","\n        ",66],"}",["T_WHITESPACE","\n\n        ",67],["T_RETURN","return",69],["T_WHITESPACE"," ",69],["T_VARIABLE","$this",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","registerJsPrice",69],"(",["T_VARIABLE","$this",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","convertPrice",69],"(",["T_VARIABLE","$price",69],",",["T_WHITESPACE"," ",69],["T_STRING","true",69],",",["T_WHITESPACE"," ",69],["T_VARIABLE","$storeId",69],")",")",";",["T_WHITESPACE","\n    ",69],"}",["T_WHITESPACE","\n\n    ",70],["T_DOC_COMMENT","\/**\n     * Replace ',' on '.' for js\n     *\n     * @param float $price\n     * @return string\n     *\/",72],["T_WHITESPACE","\n    ",77],["T_PUBLIC","public",78],["T_WHITESPACE"," ",78],["T_FUNCTION","function",78],["T_WHITESPACE"," ",78],["T_STRING","registerJsPrice",78],"(",["T_VARIABLE","$price",78],")",["T_WHITESPACE","\n    ",78],"{",["T_WHITESPACE","\n        ",79],["T_RETURN","return",80],["T_WHITESPACE"," ",80],["T_STRING","str_replace",80],"(",["T_CONSTANT_ENCAPSED_STRING","','",80],",",["T_WHITESPACE"," ",80],["T_CONSTANT_ENCAPSED_STRING","'.'",80],",",["T_WHITESPACE"," ",80],["T_VARIABLE","$price",80],")",";",["T_WHITESPACE","\n    ",80],"}",["T_WHITESPACE","\n\n    ",81],["T_DOC_COMMENT","\/**\n     * Convert price from default currency to current currency\n     *\n     * @param float $price\n     * @param boolean $round\n     * @param null|int $storeId\n     * @return float\n     *\/",83],["T_WHITESPACE","\n    ",90],["T_PUBLIC","public",91],["T_WHITESPACE"," ",91],["T_FUNCTION","function",91],["T_WHITESPACE"," ",91],["T_STRING","convertPrice",91],"(",["T_VARIABLE","$price",91],",",["T_WHITESPACE"," ",91],["T_VARIABLE","$round",91],["T_WHITESPACE"," ",91],"=",["T_WHITESPACE"," ",91],["T_STRING","false",91],",",["T_WHITESPACE"," ",91],["T_VARIABLE","$storeId",91],["T_WHITESPACE"," ",91],"=",["T_WHITESPACE"," ",91],["T_STRING","null",91],")",["T_WHITESPACE","\n    ",91],"{",["T_WHITESPACE","\n        ",92],["T_IF","if",93],["T_WHITESPACE"," ",93],"(",["T_EMPTY","empty",93],"(",["T_VARIABLE","$price",93],")",")",["T_WHITESPACE"," ",93],"{",["T_WHITESPACE","\n            ",93],["T_RETURN","return",94],["T_WHITESPACE"," ",94],["T_LNUMBER","0",94],";",["T_WHITESPACE","\n        ",94],"}",["T_WHITESPACE","\n\n        ",95],["T_VARIABLE","$price",97],["T_WHITESPACE"," ",97],"=",["T_WHITESPACE"," ",97],["T_VARIABLE","$this",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","getCurrentStore",97],"(",["T_VARIABLE","$storeId",97],")",["T_OBJECT_OPERATOR","->",97],["T_STRING","convertPrice",97],"(",["T_VARIABLE","$price",97],")",";",["T_WHITESPACE","\n        ",97],["T_IF","if",98],["T_WHITESPACE"," ",98],"(",["T_VARIABLE","$round",98],")",["T_WHITESPACE"," ",98],"{",["T_WHITESPACE","\n            ",98],["T_VARIABLE","$price",99],["T_WHITESPACE"," ",99],"=",["T_WHITESPACE"," ",99],["T_VARIABLE","$this",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","getCurrentStore",99],"(",["T_VARIABLE","$storeId",99],")",["T_OBJECT_OPERATOR","->",99],["T_STRING","roundPrice",99],"(",["T_VARIABLE","$price",99],")",";",["T_WHITESPACE","\n        ",99],"}",["T_WHITESPACE","\n\n        ",100],["T_RETURN","return",102],["T_WHITESPACE"," ",102],["T_VARIABLE","$price",102],";",["T_WHITESPACE","\n    ",102],"}",["T_WHITESPACE","\n\n    ",103],["T_DOC_COMMENT","\/**\n     * Retrieve current store\n     *\n     * @param null $storeId\n     * @return Mage_Core_Model_Store\n     *\/",105],["T_WHITESPACE","\n    ",110],["T_PUBLIC","public",111],["T_WHITESPACE"," ",111],["T_FUNCTION","function",111],["T_WHITESPACE"," ",111],["T_STRING","getCurrentStore",111],"(",["T_VARIABLE","$storeId",111],["T_WHITESPACE"," ",111],"=",["T_WHITESPACE"," ",111],["T_STRING","null",111],")",["T_WHITESPACE","\n    ",111],"{",["T_WHITESPACE","\n        ",112],["T_RETURN","return",113],["T_WHITESPACE"," ",113],["T_STRING","Mage",113],["T_DOUBLE_COLON","::",113],["T_STRING","app",113],"(",")",["T_OBJECT_OPERATOR","->",113],["T_STRING","getStore",113],"(",["T_VARIABLE","$storeId",113],")",";",["T_WHITESPACE","\n    ",113],"}",["T_WHITESPACE","\n\n    ",114],["T_DOC_COMMENT","\/**\n     * Prepare general params for product to be used in getJsonConfig()\n     * @see Mage_Catalog_Block_Product_View::getJsonConfig()\n     * @see Mage_ConfigurableSwatches_Block_Catalog_Product_List_Price::getJsonConfig()\n     *\n     * @return array\n     *\/",116],["T_WHITESPACE","\n    ",122],["T_PUBLIC","public",123],["T_WHITESPACE"," ",123],["T_FUNCTION","function",123],["T_WHITESPACE"," ",123],["T_STRING","prepareJsonGeneralConfig",123],"(",")",["T_WHITESPACE","\n    ",123],"{",["T_WHITESPACE","\n        ",124],["T_RETURN","return",125],["T_WHITESPACE"," ",125],["T_ARRAY","array",125],"(",["T_WHITESPACE","\n            ",125],["T_CONSTANT_ENCAPSED_STRING","'priceFormat'",126],["T_WHITESPACE","       ",126],["T_DOUBLE_ARROW","=>",126],["T_WHITESPACE"," ",126],["T_STRING","Mage",126],["T_DOUBLE_COLON","::",126],["T_STRING","app",126],"(",")",["T_OBJECT_OPERATOR","->",126],["T_STRING","getLocale",126],"(",")",["T_OBJECT_OPERATOR","->",126],["T_STRING","getJsPriceFormat",126],"(",")",",",["T_WHITESPACE","\n            ",126],["T_CONSTANT_ENCAPSED_STRING","'includeTax'",127],["T_WHITESPACE","        ",127],["T_DOUBLE_ARROW","=>",127],["T_WHITESPACE"," ",127],["T_STRING","Mage",127],["T_DOUBLE_COLON","::",127],["T_STRING","helper",127],"(",["T_CONSTANT_ENCAPSED_STRING","'tax'",127],")",["T_OBJECT_OPERATOR","->",127],["T_STRING","priceIncludesTax",127],"(",")",["T_WHITESPACE"," ",127],"?",["T_WHITESPACE"," ",127],["T_CONSTANT_ENCAPSED_STRING","'true'",127],["T_WHITESPACE"," ",127],":",["T_WHITESPACE"," ",127],["T_CONSTANT_ENCAPSED_STRING","'false'",127],",",["T_WHITESPACE","\n            ",127],["T_CONSTANT_ENCAPSED_STRING","'showIncludeTax'",128],["T_WHITESPACE","    ",128],["T_DOUBLE_ARROW","=>",128],["T_WHITESPACE"," ",128],["T_STRING","Mage",128],["T_DOUBLE_COLON","::",128],["T_STRING","helper",128],"(",["T_CONSTANT_ENCAPSED_STRING","'tax'",128],")",["T_OBJECT_OPERATOR","->",128],["T_STRING","displayPriceIncludingTax",128],"(",")",",",["T_WHITESPACE","\n            ",128],["T_CONSTANT_ENCAPSED_STRING","'showBothPrices'",129],["T_WHITESPACE","    ",129],["T_DOUBLE_ARROW","=>",129],["T_WHITESPACE"," ",129],["T_STRING","Mage",129],["T_DOUBLE_COLON","::",129],["T_STRING","helper",129],"(",["T_CONSTANT_ENCAPSED_STRING","'tax'",129],")",["T_OBJECT_OPERATOR","->",129],["T_STRING","displayBothPrices",129],"(",")",",",["T_WHITESPACE","\n            ",129],["T_CONSTANT_ENCAPSED_STRING","'idSuffix'",130],["T_WHITESPACE","            ",130],["T_DOUBLE_ARROW","=>",130],["T_WHITESPACE"," ",130],["T_CONSTANT_ENCAPSED_STRING","'_clone'",130],",",["T_WHITESPACE","\n            ",130],["T_CONSTANT_ENCAPSED_STRING","'oldPlusDisposition'",131],["T_WHITESPACE","  ",131],["T_DOUBLE_ARROW","=>",131],["T_WHITESPACE"," ",131],["T_LNUMBER","0",131],",",["T_WHITESPACE","\n            ",131],["T_CONSTANT_ENCAPSED_STRING","'plusDisposition'",132],["T_WHITESPACE","     ",132],["T_DOUBLE_ARROW","=>",132],["T_WHITESPACE"," ",132],["T_LNUMBER","0",132],",",["T_WHITESPACE","\n            ",132],["T_CONSTANT_ENCAPSED_STRING","'plusDispositionTax'",133],["T_WHITESPACE","  ",133],["T_DOUBLE_ARROW","=>",133],["T_WHITESPACE"," ",133],["T_LNUMBER","0",133],",",["T_WHITESPACE","\n            ",133],["T_CONSTANT_ENCAPSED_STRING","'oldMinusDisposition'",134],["T_WHITESPACE"," ",134],["T_DOUBLE_ARROW","=>",134],["T_WHITESPACE"," ",134],["T_LNUMBER","0",134],",",["T_WHITESPACE","\n            ",134],["T_CONSTANT_ENCAPSED_STRING","'minusDisposition'",135],["T_WHITESPACE","    ",135],["T_DOUBLE_ARROW","=>",135],["T_WHITESPACE"," ",135],["T_LNUMBER","0",135],",",["T_WHITESPACE","\n        ",135],")",";",["T_WHITESPACE","\n    ",136],"}",["T_WHITESPACE","\n\n\n\n    ",137],["T_DOC_COMMENT","\/**\n     * Prepare product specific params to be used in getJsonConfig()\n     * @see Mage_Catalog_Block_Product_View::getJsonConfig()\n     * @see Mage_ConfigurableSwatches_Block_Catalog_Product_List_Price::getJsonConfig()\n     *\n     * @param Mage_Catalog_Model_Product $product\n     * @return array\n     *\/",141],["T_WHITESPACE","\n    ",148],["T_PUBLIC","public",149],["T_WHITESPACE"," ",149],["T_FUNCTION","function",149],["T_WHITESPACE"," ",149],["T_STRING","prepareJsonProductConfig",149],"(",["T_VARIABLE","$product",149],")",["T_WHITESPACE","\n    ",149],"{",["T_WHITESPACE","\n        ",150],["T_VARIABLE","$_request",151],["T_WHITESPACE"," ",151],"=",["T_WHITESPACE"," ",151],["T_STRING","Mage",151],["T_DOUBLE_COLON","::",151],["T_STRING","getSingleton",151],"(",["T_CONSTANT_ENCAPSED_STRING","'tax\/calculation'",151],")",["T_OBJECT_OPERATOR","->",151],["T_STRING","getDefaultRateRequest",151],"(",")",";",["T_WHITESPACE","\n        ",151],["T_VARIABLE","$_request",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","setProductClassId",152],"(",["T_VARIABLE","$product",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","getTaxClassId",152],"(",")",")",";",["T_WHITESPACE","\n        ",152],["T_VARIABLE","$defaultTax",153],["T_WHITESPACE"," ",153],"=",["T_WHITESPACE"," ",153],["T_STRING","Mage",153],["T_DOUBLE_COLON","::",153],["T_STRING","getSingleton",153],"(",["T_CONSTANT_ENCAPSED_STRING","'tax\/calculation'",153],")",["T_OBJECT_OPERATOR","->",153],["T_STRING","getRate",153],"(",["T_VARIABLE","$_request",153],")",";",["T_WHITESPACE","\n\n        ",153],["T_VARIABLE","$_request",155],["T_WHITESPACE"," ",155],"=",["T_WHITESPACE"," ",155],["T_STRING","Mage",155],["T_DOUBLE_COLON","::",155],["T_STRING","getSingleton",155],"(",["T_CONSTANT_ENCAPSED_STRING","'tax\/calculation'",155],")",["T_OBJECT_OPERATOR","->",155],["T_STRING","getRateRequest",155],"(",")",";",["T_WHITESPACE","\n        ",155],["T_VARIABLE","$_request",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","setProductClassId",156],"(",["T_VARIABLE","$product",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","getTaxClassId",156],"(",")",")",";",["T_WHITESPACE","\n        ",156],["T_VARIABLE","$currentTax",157],["T_WHITESPACE"," ",157],"=",["T_WHITESPACE"," ",157],["T_STRING","Mage",157],["T_DOUBLE_COLON","::",157],["T_STRING","getSingleton",157],"(",["T_CONSTANT_ENCAPSED_STRING","'tax\/calculation'",157],")",["T_OBJECT_OPERATOR","->",157],["T_STRING","getRate",157],"(",["T_VARIABLE","$_request",157],")",";",["T_WHITESPACE","\n\n        ",157],["T_VARIABLE","$_regularPrice",159],["T_WHITESPACE"," ",159],"=",["T_WHITESPACE"," ",159],["T_VARIABLE","$product",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","getPrice",159],"(",")",";",["T_WHITESPACE","\n        ",159],["T_VARIABLE","$_finalPrice",160],["T_WHITESPACE"," ",160],"=",["T_WHITESPACE"," ",160],["T_VARIABLE","$product",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","getFinalPrice",160],"(",")",";",["T_WHITESPACE","\n        ",160],["T_IF","if",161],["T_WHITESPACE"," ",161],"(",["T_VARIABLE","$product",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","getTypeId",161],"(",")",["T_WHITESPACE"," ",161],["T_IS_EQUAL","==",161],["T_WHITESPACE"," ",161],["T_STRING","Mage_Catalog_Model_Product_Type",161],["T_DOUBLE_COLON","::",161],["T_STRING","TYPE_BUNDLE",161],")",["T_WHITESPACE"," ",161],"{",["T_WHITESPACE","\n            ",161],["T_VARIABLE","$_priceInclTax",162],["T_WHITESPACE"," ",162],"=",["T_WHITESPACE"," ",162],["T_STRING","Mage",162],["T_DOUBLE_COLON","::",162],["T_STRING","helper",162],"(",["T_CONSTANT_ENCAPSED_STRING","'tax'",162],")",["T_OBJECT_OPERATOR","->",162],["T_STRING","getPrice",162],"(",["T_VARIABLE","$product",162],",",["T_WHITESPACE"," ",162],["T_VARIABLE","$_finalPrice",162],",",["T_WHITESPACE"," ",162],["T_STRING","true",162],",",["T_WHITESPACE","\n                ",162],["T_STRING","null",163],",",["T_WHITESPACE"," ",163],["T_STRING","null",163],",",["T_WHITESPACE"," ",163],["T_STRING","null",163],",",["T_WHITESPACE"," ",163],["T_STRING","null",163],",",["T_WHITESPACE"," ",163],["T_STRING","null",163],",",["T_WHITESPACE"," ",163],["T_STRING","false",163],")",";",["T_WHITESPACE","\n            ",163],["T_VARIABLE","$_priceExclTax",164],["T_WHITESPACE"," ",164],"=",["T_WHITESPACE"," ",164],["T_STRING","Mage",164],["T_DOUBLE_COLON","::",164],["T_STRING","helper",164],"(",["T_CONSTANT_ENCAPSED_STRING","'tax'",164],")",["T_OBJECT_OPERATOR","->",164],["T_STRING","getPrice",164],"(",["T_VARIABLE","$product",164],",",["T_WHITESPACE"," ",164],["T_VARIABLE","$_finalPrice",164],",",["T_WHITESPACE"," ",164],["T_STRING","false",164],",",["T_WHITESPACE","\n                ",164],["T_STRING","null",165],",",["T_WHITESPACE"," ",165],["T_STRING","null",165],",",["T_WHITESPACE"," ",165],["T_STRING","null",165],",",["T_WHITESPACE"," ",165],["T_STRING","null",165],",",["T_WHITESPACE"," ",165],["T_STRING","null",165],",",["T_WHITESPACE"," ",165],["T_STRING","false",165],")",";",["T_WHITESPACE","\n        ",165],"}",["T_WHITESPACE"," ",166],["T_ELSE","else",166],["T_WHITESPACE"," ",166],"{",["T_WHITESPACE","\n            ",166],["T_VARIABLE","$_priceInclTax",167],["T_WHITESPACE"," ",167],"=",["T_WHITESPACE"," ",167],["T_STRING","Mage",167],["T_DOUBLE_COLON","::",167],["T_STRING","helper",167],"(",["T_CONSTANT_ENCAPSED_STRING","'tax'",167],")",["T_OBJECT_OPERATOR","->",167],["T_STRING","getPrice",167],"(",["T_VARIABLE","$product",167],",",["T_WHITESPACE"," ",167],["T_VARIABLE","$_finalPrice",167],",",["T_WHITESPACE"," ",167],["T_STRING","true",167],")",";",["T_WHITESPACE","\n            ",167],["T_VARIABLE","$_priceExclTax",168],["T_WHITESPACE"," ",168],"=",["T_WHITESPACE"," ",168],["T_STRING","Mage",168],["T_DOUBLE_COLON","::",168],["T_STRING","helper",168],"(",["T_CONSTANT_ENCAPSED_STRING","'tax'",168],")",["T_OBJECT_OPERATOR","->",168],["T_STRING","getPrice",168],"(",["T_VARIABLE","$product",168],",",["T_WHITESPACE"," ",168],["T_VARIABLE","$_finalPrice",168],")",";",["T_WHITESPACE","\n        ",168],"}",["T_WHITESPACE","\n        ",169],["T_VARIABLE","$_tierPrices",170],["T_WHITESPACE"," ",170],"=",["T_WHITESPACE"," ",170],["T_ARRAY","array",170],"(",")",";",["T_WHITESPACE","\n        ",170],["T_VARIABLE","$_tierPricesInclTax",171],["T_WHITESPACE"," ",171],"=",["T_WHITESPACE"," ",171],["T_ARRAY","array",171],"(",")",";",["T_WHITESPACE","\n        ",171],["T_FOREACH","foreach",172],["T_WHITESPACE"," ",172],"(",["T_VARIABLE","$product",172],["T_OBJECT_OPERATOR","->",172],["T_STRING","getTierPrice",172],"(",")",["T_WHITESPACE"," ",172],["T_AS","as",172],["T_WHITESPACE"," ",172],["T_VARIABLE","$tierPrice",172],")",["T_WHITESPACE"," ",172],"{",["T_WHITESPACE","\n            ",172],["T_VARIABLE","$_tierPrices",173],"[","]",["T_WHITESPACE"," ",173],"=",["T_WHITESPACE"," ",173],["T_STRING","Mage",173],["T_DOUBLE_COLON","::",173],["T_STRING","helper",173],"(",["T_CONSTANT_ENCAPSED_STRING","'core'",173],")",["T_OBJECT_OPERATOR","->",173],["T_STRING","currency",173],"(",["T_WHITESPACE","\n                ",173],["T_STRING","Mage",174],["T_DOUBLE_COLON","::",174],["T_STRING","helper",174],"(",["T_CONSTANT_ENCAPSED_STRING","'tax'",174],")",["T_OBJECT_OPERATOR","->",174],["T_STRING","getPrice",174],"(",["T_VARIABLE","$product",174],",",["T_WHITESPACE"," ",174],["T_DOUBLE_CAST","(float)",174],["T_VARIABLE","$tierPrice",174],"[",["T_CONSTANT_ENCAPSED_STRING","'website_price'",174],"]",",",["T_WHITESPACE"," ",174],["T_STRING","false",174],")",["T_WHITESPACE"," ",174],"-",["T_WHITESPACE"," ",174],["T_VARIABLE","$_priceExclTax",174],["T_WHITESPACE","\n                ",174],",",["T_WHITESPACE"," ",175],["T_STRING","false",175],",",["T_WHITESPACE"," ",175],["T_STRING","false",175],")",";",["T_WHITESPACE","\n            ",175],["T_VARIABLE","$_tierPricesInclTax",176],"[","]",["T_WHITESPACE"," ",176],"=",["T_WHITESPACE"," ",176],["T_STRING","Mage",176],["T_DOUBLE_COLON","::",176],["T_STRING","helper",176],"(",["T_CONSTANT_ENCAPSED_STRING","'core'",176],")",["T_OBJECT_OPERATOR","->",176],["T_STRING","currency",176],"(",["T_WHITESPACE","\n                ",176],["T_STRING","Mage",177],["T_DOUBLE_COLON","::",177],["T_STRING","helper",177],"(",["T_CONSTANT_ENCAPSED_STRING","'tax'",177],")",["T_OBJECT_OPERATOR","->",177],["T_STRING","getPrice",177],"(",["T_VARIABLE","$product",177],",",["T_WHITESPACE"," ",177],["T_DOUBLE_CAST","(float)",177],["T_VARIABLE","$tierPrice",177],"[",["T_CONSTANT_ENCAPSED_STRING","'website_price'",177],"]",",",["T_WHITESPACE"," ",177],["T_STRING","true",177],")",["T_WHITESPACE"," ",177],"-",["T_WHITESPACE"," ",177],["T_VARIABLE","$_priceInclTax",177],["T_WHITESPACE","\n                ",177],",",["T_WHITESPACE"," ",178],["T_STRING","false",178],",",["T_WHITESPACE"," ",178],["T_STRING","false",178],")",";",["T_WHITESPACE","\n        ",178],"}",["T_WHITESPACE","\n\n        ",179],["T_RETURN","return",181],["T_WHITESPACE"," ",181],["T_ARRAY","array",181],"(",["T_WHITESPACE","\n            ",181],["T_CONSTANT_ENCAPSED_STRING","'productId'",182],["T_WHITESPACE","           ",182],["T_DOUBLE_ARROW","=>",182],["T_WHITESPACE"," ",182],["T_VARIABLE","$product",182],["T_OBJECT_OPERATOR","->",182],["T_STRING","getId",182],"(",")",",",["T_WHITESPACE","\n            ",182],["T_CONSTANT_ENCAPSED_STRING","'productPrice'",183],["T_WHITESPACE","        ",183],["T_DOUBLE_ARROW","=>",183],["T_WHITESPACE"," ",183],["T_STRING","Mage",183],["T_DOUBLE_COLON","::",183],["T_STRING","helper",183],"(",["T_CONSTANT_ENCAPSED_STRING","'core'",183],")",["T_OBJECT_OPERATOR","->",183],["T_STRING","currency",183],"(",["T_VARIABLE","$_finalPrice",183],",",["T_WHITESPACE"," ",183],["T_STRING","false",183],",",["T_WHITESPACE"," ",183],["T_STRING","false",183],")",",",["T_WHITESPACE","\n            ",183],["T_CONSTANT_ENCAPSED_STRING","'productOldPrice'",184],["T_WHITESPACE","     ",184],["T_DOUBLE_ARROW","=>",184],["T_WHITESPACE"," ",184],["T_STRING","Mage",184],["T_DOUBLE_COLON","::",184],["T_STRING","helper",184],"(",["T_CONSTANT_ENCAPSED_STRING","'core'",184],")",["T_OBJECT_OPERATOR","->",184],["T_STRING","currency",184],"(",["T_VARIABLE","$_regularPrice",184],",",["T_WHITESPACE"," ",184],["T_STRING","false",184],",",["T_WHITESPACE"," ",184],["T_STRING","false",184],")",",",["T_WHITESPACE","\n            ",184],["T_CONSTANT_ENCAPSED_STRING","'priceInclTax'",185],["T_WHITESPACE","        ",185],["T_DOUBLE_ARROW","=>",185],["T_WHITESPACE"," ",185],["T_STRING","Mage",185],["T_DOUBLE_COLON","::",185],["T_STRING","helper",185],"(",["T_CONSTANT_ENCAPSED_STRING","'core'",185],")",["T_OBJECT_OPERATOR","->",185],["T_STRING","currency",185],"(",["T_VARIABLE","$_priceInclTax",185],",",["T_WHITESPACE"," ",185],["T_STRING","false",185],",",["T_WHITESPACE"," ",185],["T_STRING","false",185],")",",",["T_WHITESPACE","\n            ",185],["T_CONSTANT_ENCAPSED_STRING","'priceExclTax'",186],["T_WHITESPACE","        ",186],["T_DOUBLE_ARROW","=>",186],["T_WHITESPACE"," ",186],["T_STRING","Mage",186],["T_DOUBLE_COLON","::",186],["T_STRING","helper",186],"(",["T_CONSTANT_ENCAPSED_STRING","'core'",186],")",["T_OBJECT_OPERATOR","->",186],["T_STRING","currency",186],"(",["T_VARIABLE","$_priceExclTax",186],",",["T_WHITESPACE"," ",186],["T_STRING","false",186],",",["T_WHITESPACE"," ",186],["T_STRING","false",186],")",",",["T_WHITESPACE","\n            ",186],["T_CONSTANT_ENCAPSED_STRING","'skipCalculate'",187],["T_WHITESPACE","       ",187],["T_DOUBLE_ARROW","=>",187],["T_WHITESPACE"," ",187],"(",["T_VARIABLE","$_priceExclTax",187],["T_WHITESPACE"," ",187],["T_IS_NOT_EQUAL","!=",187],["T_WHITESPACE"," ",187],["T_VARIABLE","$_priceInclTax",187],["T_WHITESPACE"," ",187],"?",["T_WHITESPACE"," ",187],["T_LNUMBER","0",187],["T_WHITESPACE"," ",187],":",["T_WHITESPACE"," ",187],["T_LNUMBER","1",187],")",",",["T_WHITESPACE","\n            ",187],["T_CONSTANT_ENCAPSED_STRING","'defaultTax'",188],["T_WHITESPACE","          ",188],["T_DOUBLE_ARROW","=>",188],["T_WHITESPACE"," ",188],["T_VARIABLE","$defaultTax",188],",",["T_WHITESPACE","\n            ",188],["T_CONSTANT_ENCAPSED_STRING","'currentTax'",189],["T_WHITESPACE","          ",189],["T_DOUBLE_ARROW","=>",189],["T_WHITESPACE"," ",189],["T_VARIABLE","$currentTax",189],",",["T_WHITESPACE","\n            ",189],["T_CONSTANT_ENCAPSED_STRING","'tierPrices'",190],["T_WHITESPACE","          ",190],["T_DOUBLE_ARROW","=>",190],["T_WHITESPACE"," ",190],["T_VARIABLE","$_tierPrices",190],",",["T_WHITESPACE","\n            ",190],["T_CONSTANT_ENCAPSED_STRING","'tierPricesInclTax'",191],["T_WHITESPACE","   ",191],["T_DOUBLE_ARROW","=>",191],["T_WHITESPACE"," ",191],["T_VARIABLE","$_tierPricesInclTax",191],",",["T_WHITESPACE","\n            ",191],["T_CONSTANT_ENCAPSED_STRING","'swatchPrices'",192],["T_WHITESPACE","        ",192],["T_DOUBLE_ARROW","=>",192],["T_WHITESPACE"," ",192],["T_VARIABLE","$product",192],["T_OBJECT_OPERATOR","->",192],["T_STRING","getSwatchPrices",192],"(",")",",",["T_WHITESPACE","\n        ",192],")",";",["T_WHITESPACE","\n    ",193],"}",["T_WHITESPACE","\n",194],"}",["T_WHITESPACE","\n",195]]