[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Magento\n *\n * NOTICE OF LICENSE\n *\n * This source file is subject to the Open Software License (OSL 3.0)\n * that is bundled with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/opensource.org\/licenses\/osl-3.0.php\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@magento.com so we can send you a copy immediately.\n *\n * DISCLAIMER\n *\n * Do not edit or add to this file if you wish to upgrade Magento to newer\n * versions in the future. If you wish to customize Magento for your\n * needs please refer to http:\/\/www.magento.com for more information.\n *\n * @category    Mage\n * @package     Mage_Catalog\n * @copyright  Copyright (c) 2006-2016 X.commerce, Inc. and affiliates (http:\/\/www.magento.com)\n * @license    http:\/\/opensource.org\/licenses\/osl-3.0.php  Open Software License (OSL 3.0)\n *\/",2],["T_WHITESPACE","\n\n",25],["T_DOC_COMMENT","\/**\n * API2 catalog_product Validator\n *\n * @category   Mage\n * @package    Mage_Catalog\n * @author     Magento Core Team <core@magentocommerce.com>\n *\/",27],["T_WHITESPACE","\n",33],["T_CLASS","class",34],["T_WHITESPACE"," ",34],["T_STRING","Mage_Catalog_Model_Api2_Product_Validator_Product",34],["T_WHITESPACE"," ",34],["T_EXTENDS","extends",34],["T_WHITESPACE"," ",34],["T_STRING","Mage_Api2_Model_Resource_Validator",34],["T_WHITESPACE","\n",34],"{",["T_WHITESPACE","\n    ",35],["T_DOC_COMMENT","\/**\n     * The greatest decimal value which could be stored. Corresponds to DECIMAL (12,4) SQL type\n     *\/",36],["T_WHITESPACE","\n    ",38],["T_CONST","const",39],["T_WHITESPACE"," ",39],["T_STRING","MAX_DECIMAL_VALUE",39],["T_WHITESPACE"," ",39],"=",["T_WHITESPACE"," ",39],["T_DNUMBER","99999999.9999",39],";",["T_WHITESPACE","\n\n    ",39],["T_DOC_COMMENT","\/**\n     * Validator product\n     *\n     * @var Mage_Catalog_Model_Product\n     *\/",41],["T_WHITESPACE","\n    ",45],["T_PROTECTED","protected",46],["T_WHITESPACE"," ",46],["T_VARIABLE","$_product",46],["T_WHITESPACE"," ",46],"=",["T_WHITESPACE"," ",46],["T_STRING","null",46],";",["T_WHITESPACE","\n\n    ",46],["T_DOC_COMMENT","\/**\n     * Validation operation\n     *\n     * @var string\n     *\/",48],["T_WHITESPACE","\n    ",52],["T_PROTECTED","protected",53],["T_WHITESPACE"," ",53],["T_VARIABLE","$_operation",53],["T_WHITESPACE"," ",53],"=",["T_WHITESPACE"," ",53],["T_STRING","null",53],";",["T_WHITESPACE","\n\n    ",53],["T_PUBLIC","public",55],["T_WHITESPACE"," ",55],["T_FUNCTION","function",55],["T_WHITESPACE"," ",55],["T_STRING","__construct",55],"(",["T_VARIABLE","$options",55],")",["T_WHITESPACE","\n    ",55],"{",["T_WHITESPACE","\n        ",56],["T_IF","if",57],["T_WHITESPACE"," ",57],"(",["T_ISSET","isset",57],"(",["T_VARIABLE","$options",57],"[",["T_CONSTANT_ENCAPSED_STRING","'product'",57],"]",")",")",["T_WHITESPACE"," ",57],"{",["T_WHITESPACE","\n            ",57],["T_IF","if",58],["T_WHITESPACE"," ",58],"(",["T_VARIABLE","$options",58],"[",["T_CONSTANT_ENCAPSED_STRING","'product'",58],"]",["T_WHITESPACE"," ",58],["T_INSTANCEOF","instanceof",58],["T_WHITESPACE"," ",58],["T_STRING","Mage_Catalog_Model_Product",58],")",["T_WHITESPACE"," ",58],"{",["T_WHITESPACE","\n                ",58],["T_VARIABLE","$this",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","_product",59],["T_WHITESPACE"," ",59],"=",["T_WHITESPACE"," ",59],["T_VARIABLE","$options",59],"[",["T_CONSTANT_ENCAPSED_STRING","'product'",59],"]",";",["T_WHITESPACE","\n            ",59],"}",["T_WHITESPACE"," ",60],["T_ELSE","else",60],["T_WHITESPACE"," ",60],"{",["T_WHITESPACE","\n                ",60],["T_THROW","throw",61],["T_WHITESPACE"," ",61],["T_NEW","new",61],["T_WHITESPACE"," ",61],["T_STRING","Exception",61],"(",["T_CONSTANT_ENCAPSED_STRING","\"Passed parameter 'product' is wrong.\"",61],")",";",["T_WHITESPACE","\n            ",61],"}",["T_WHITESPACE","\n        ",62],"}",["T_WHITESPACE","\n\n        ",63],["T_IF","if",65],["T_WHITESPACE"," ",65],"(","!",["T_ISSET","isset",65],"(",["T_VARIABLE","$options",65],"[",["T_CONSTANT_ENCAPSED_STRING","'operation'",65],"]",")",["T_WHITESPACE"," ",65],["T_BOOLEAN_OR","||",65],["T_WHITESPACE"," ",65],["T_EMPTY","empty",65],"(",["T_VARIABLE","$options",65],"[",["T_CONSTANT_ENCAPSED_STRING","'operation'",65],"]",")",")",["T_WHITESPACE"," ",65],"{",["T_WHITESPACE","\n            ",65],["T_THROW","throw",66],["T_WHITESPACE"," ",66],["T_NEW","new",66],["T_WHITESPACE"," ",66],["T_STRING","Exception",66],"(",["T_CONSTANT_ENCAPSED_STRING","\"Passed parameter 'operation' is empty.\"",66],")",";",["T_WHITESPACE","\n        ",66],"}",["T_WHITESPACE","\n        ",67],["T_VARIABLE","$this",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","_operation",68],["T_WHITESPACE"," ",68],"=",["T_WHITESPACE"," ",68],["T_VARIABLE","$options",68],"[",["T_CONSTANT_ENCAPSED_STRING","'operation'",68],"]",";",["T_WHITESPACE","\n    ",68],"}",["T_WHITESPACE","\n\n    ",69],["T_DOC_COMMENT","\/**\n     * Get validator product\n     *\n     * @return Mage_Catalog_Model_Product|null\n     *\/",71],["T_WHITESPACE","\n    ",75],["T_PROTECTED","protected",76],["T_WHITESPACE"," ",76],["T_FUNCTION","function",76],["T_WHITESPACE"," ",76],["T_STRING","_getProduct",76],"(",")",["T_WHITESPACE","\n    ",76],"{",["T_WHITESPACE","\n        ",77],["T_RETURN","return",78],["T_WHITESPACE"," ",78],["T_VARIABLE","$this",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","_product",78],";",["T_WHITESPACE","\n    ",78],"}",["T_WHITESPACE","\n\n    ",79],["T_DOC_COMMENT","\/**\n     * Is update mode\n     *\n     * @return bool\n     *\/",81],["T_WHITESPACE","\n    ",85],["T_PROTECTED","protected",86],["T_WHITESPACE"," ",86],["T_FUNCTION","function",86],["T_WHITESPACE"," ",86],["T_STRING","_isUpdate",86],"(",")",["T_WHITESPACE","\n    ",86],"{",["T_WHITESPACE","\n        ",87],["T_RETURN","return",88],["T_WHITESPACE"," ",88],["T_VARIABLE","$this",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","_operation",88],["T_WHITESPACE"," ",88],["T_IS_EQUAL","==",88],["T_WHITESPACE"," ",88],["T_STRING","Mage_Api2_Model_Resource",88],["T_DOUBLE_COLON","::",88],["T_STRING","OPERATION_UPDATE",88],";",["T_WHITESPACE","\n    ",88],"}",["T_WHITESPACE","\n\n    ",89],["T_DOC_COMMENT","\/**\n     * Validate product data\n     *\n     * @param array $data\n     * @return bool\n     *\/",91],["T_WHITESPACE","\n    ",96],["T_PUBLIC","public",97],["T_WHITESPACE"," ",97],["T_FUNCTION","function",97],["T_WHITESPACE"," ",97],["T_STRING","isValidData",97],"(",["T_ARRAY","array",97],["T_WHITESPACE"," ",97],["T_VARIABLE","$data",97],")",["T_WHITESPACE","\n    ",97],"{",["T_WHITESPACE","\n        ",98],["T_IF","if",99],["T_WHITESPACE"," ",99],"(",["T_VARIABLE","$this",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","_isUpdate",99],"(",")",")",["T_WHITESPACE"," ",99],"{",["T_WHITESPACE","\n            ",99],["T_VARIABLE","$product",100],["T_WHITESPACE"," ",100],"=",["T_WHITESPACE"," ",100],["T_VARIABLE","$this",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","_getProduct",100],"(",")",";",["T_WHITESPACE","\n            ",100],["T_IF","if",101],["T_WHITESPACE"," ",101],"(","!",["T_STRING","is_null",101],"(",["T_VARIABLE","$product",101],")",["T_WHITESPACE"," ",101],["T_BOOLEAN_AND","&&",101],["T_WHITESPACE"," ",101],["T_VARIABLE","$product",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","getId",101],"(",")",")",["T_WHITESPACE"," ",101],"{",["T_WHITESPACE","\n                ",101],["T_VARIABLE","$data",102],"[",["T_CONSTANT_ENCAPSED_STRING","'attribute_set_id'",102],"]",["T_WHITESPACE"," ",102],"=",["T_WHITESPACE"," ",102],["T_VARIABLE","$product",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","getAttributeSetId",102],"(",")",";",["T_WHITESPACE","\n                ",102],["T_VARIABLE","$data",103],"[",["T_CONSTANT_ENCAPSED_STRING","'type_id'",103],"]",["T_WHITESPACE"," ",103],"=",["T_WHITESPACE"," ",103],["T_VARIABLE","$product",103],["T_OBJECT_OPERATOR","->",103],["T_STRING","getTypeId",103],"(",")",";",["T_WHITESPACE","\n            ",103],"}",["T_WHITESPACE","\n        ",104],"}",["T_WHITESPACE","\n\n        ",105],["T_TRY","try",107],["T_WHITESPACE"," ",107],"{",["T_WHITESPACE","\n            ",107],["T_VARIABLE","$this",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","_validateProductType",108],"(",["T_VARIABLE","$data",108],")",";",["T_WHITESPACE","\n            ",108],["T_DOC_COMMENT","\/** @var $productEntity Mage_Eav_Model_Entity_Type *\/",109],["T_WHITESPACE","\n            ",109],["T_VARIABLE","$productEntity",110],["T_WHITESPACE"," ",110],"=",["T_WHITESPACE"," ",110],["T_STRING","Mage",110],["T_DOUBLE_COLON","::",110],["T_STRING","getModel",110],"(",["T_CONSTANT_ENCAPSED_STRING","'eav\/entity_type'",110],")",["T_OBJECT_OPERATOR","->",110],["T_STRING","loadByCode",110],"(",["T_STRING","Mage_Catalog_Model_Product",110],["T_DOUBLE_COLON","::",110],["T_STRING","ENTITY",110],")",";",["T_WHITESPACE","\n            ",110],["T_VARIABLE","$this",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","_validateAttributeSet",111],"(",["T_VARIABLE","$data",111],",",["T_WHITESPACE"," ",111],["T_VARIABLE","$productEntity",111],")",";",["T_WHITESPACE","\n            ",111],["T_VARIABLE","$this",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","_validateSku",112],"(",["T_VARIABLE","$data",112],")",";",["T_WHITESPACE","\n            ",112],["T_VARIABLE","$this",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","_validateGiftOptions",113],"(",["T_VARIABLE","$data",113],")",";",["T_WHITESPACE","\n            ",113],["T_VARIABLE","$this",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","_validateGroupPrice",114],"(",["T_VARIABLE","$data",114],")",";",["T_WHITESPACE","\n            ",114],["T_VARIABLE","$this",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","_validateTierPrice",115],"(",["T_VARIABLE","$data",115],")",";",["T_WHITESPACE","\n            ",115],["T_VARIABLE","$this",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","_validateStockData",116],"(",["T_VARIABLE","$data",116],")",";",["T_WHITESPACE","\n            ",116],["T_VARIABLE","$this",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","_validateAttributes",117],"(",["T_VARIABLE","$data",117],",",["T_WHITESPACE"," ",117],["T_VARIABLE","$productEntity",117],")",";",["T_WHITESPACE","\n            ",117],["T_VARIABLE","$isSatisfied",118],["T_WHITESPACE"," ",118],"=",["T_WHITESPACE"," ",118],["T_STRING","count",118],"(",["T_VARIABLE","$this",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","getErrors",118],"(",")",")",["T_WHITESPACE"," ",118],["T_IS_EQUAL","==",118],["T_WHITESPACE"," ",118],["T_LNUMBER","0",118],";",["T_WHITESPACE","\n        ",118],"}",["T_WHITESPACE"," ",119],["T_CATCH","catch",119],["T_WHITESPACE"," ",119],"(",["T_STRING","Mage_Api2_Exception",119],["T_WHITESPACE"," ",119],["T_VARIABLE","$e",119],")",["T_WHITESPACE"," ",119],"{",["T_WHITESPACE","\n            ",119],["T_VARIABLE","$this",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","_addError",120],"(",["T_VARIABLE","$e",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","getMessage",120],"(",")",")",";",["T_WHITESPACE","\n            ",120],["T_VARIABLE","$isSatisfied",121],["T_WHITESPACE"," ",121],"=",["T_WHITESPACE"," ",121],["T_STRING","false",121],";",["T_WHITESPACE","\n        ",121],"}",["T_WHITESPACE","\n\n\n        ",122],["T_RETURN","return",125],["T_WHITESPACE"," ",125],["T_VARIABLE","$isSatisfied",125],";",["T_WHITESPACE","\n    ",125],"}",["T_WHITESPACE","\n\n    ",126],["T_DOC_COMMENT","\/**\n     * Collect required EAV attributes, validate applicable attributes and validate source attributes values\n     *\n     * @param array $data\n     * @param Mage_Eav_Model_Entity_Type $productEntity\n     * @return array\n     *\/",128],["T_WHITESPACE","\n    ",134],["T_PROTECTED","protected",135],["T_WHITESPACE"," ",135],["T_FUNCTION","function",135],["T_WHITESPACE"," ",135],["T_STRING","_validateAttributes",135],"(",["T_VARIABLE","$data",135],",",["T_WHITESPACE"," ",135],["T_VARIABLE","$productEntity",135],")",["T_WHITESPACE","\n    ",135],"{",["T_WHITESPACE","\n        ",136],["T_IF","if",137],["T_WHITESPACE"," ",137],"(","!",["T_ISSET","isset",137],"(",["T_VARIABLE","$data",137],"[",["T_CONSTANT_ENCAPSED_STRING","'attribute_set_id'",137],"]",")",["T_WHITESPACE"," ",137],["T_BOOLEAN_OR","||",137],["T_WHITESPACE"," ",137],["T_EMPTY","empty",137],"(",["T_VARIABLE","$data",137],"[",["T_CONSTANT_ENCAPSED_STRING","'attribute_set_id'",137],"]",")",")",["T_WHITESPACE"," ",137],"{",["T_WHITESPACE","\n            ",137],["T_VARIABLE","$this",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","_critical",138],"(",["T_CONSTANT_ENCAPSED_STRING","'Missing \"attribute_set_id\" in request.'",138],",",["T_WHITESPACE"," ",138],["T_STRING","Mage_Api2_Model_Server",138],["T_DOUBLE_COLON","::",138],["T_STRING","HTTP_BAD_REQUEST",138],")",";",["T_WHITESPACE","\n        ",138],"}",["T_WHITESPACE","\n        ",139],["T_IF","if",140],["T_WHITESPACE"," ",140],"(","!",["T_ISSET","isset",140],"(",["T_VARIABLE","$data",140],"[",["T_CONSTANT_ENCAPSED_STRING","'type_id'",140],"]",")",["T_WHITESPACE"," ",140],["T_BOOLEAN_OR","||",140],["T_WHITESPACE"," ",140],["T_EMPTY","empty",140],"(",["T_VARIABLE","$data",140],"[",["T_CONSTANT_ENCAPSED_STRING","'type_id'",140],"]",")",")",["T_WHITESPACE"," ",140],"{",["T_WHITESPACE","\n            ",140],["T_VARIABLE","$this",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","_critical",141],"(",["T_CONSTANT_ENCAPSED_STRING","'Missing \"type_id\" in request.'",141],",",["T_WHITESPACE"," ",141],["T_STRING","Mage_Api2_Model_Server",141],["T_DOUBLE_COLON","::",141],["T_STRING","HTTP_BAD_REQUEST",141],")",";",["T_WHITESPACE","\n        ",141],"}",["T_WHITESPACE","\n        ",142],["T_COMMENT","\/\/ Validate weight\n",143],["T_WHITESPACE","        ",144],["T_IF","if",144],["T_WHITESPACE"," ",144],"(",["T_ISSET","isset",144],"(",["T_VARIABLE","$data",144],"[",["T_CONSTANT_ENCAPSED_STRING","'weight'",144],"]",")",["T_WHITESPACE"," ",144],["T_BOOLEAN_AND","&&",144],["T_WHITESPACE"," ",144],"!",["T_EMPTY","empty",144],"(",["T_VARIABLE","$data",144],"[",["T_CONSTANT_ENCAPSED_STRING","'weight'",144],"]",")",["T_WHITESPACE"," ",144],["T_BOOLEAN_AND","&&",144],["T_WHITESPACE"," ",144],["T_VARIABLE","$data",144],"[",["T_CONSTANT_ENCAPSED_STRING","'weight'",144],"]",["T_WHITESPACE"," ",144],">",["T_WHITESPACE"," ",144],["T_LNUMBER","0",144],["T_WHITESPACE","\n            ",144],["T_BOOLEAN_AND","&&",145],["T_WHITESPACE"," ",145],"!",["T_STRING","Zend_Validate",145],["T_DOUBLE_COLON","::",145],["T_STRING","is",145],"(",["T_VARIABLE","$data",145],"[",["T_CONSTANT_ENCAPSED_STRING","'weight'",145],"]",",",["T_WHITESPACE"," ",145],["T_CONSTANT_ENCAPSED_STRING","'Between'",145],",",["T_WHITESPACE"," ",145],["T_ARRAY","array",145],"(",["T_LNUMBER","0",145],",",["T_WHITESPACE"," ",145],["T_STRING","self",145],["T_DOUBLE_COLON","::",145],["T_STRING","MAX_DECIMAL_VALUE",145],")",")",")",["T_WHITESPACE"," ",145],"{",["T_WHITESPACE","\n            ",145],["T_VARIABLE","$this",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","_addError",146],"(",["T_CONSTANT_ENCAPSED_STRING","'The \"weight\" value is not within the specified range.'",146],")",";",["T_WHITESPACE","\n        ",146],"}",["T_WHITESPACE","\n        ",147],["T_COMMENT","\/\/ msrp_display_actual_price_type attribute values needs to be a string to pass validation\n",148],["T_WHITESPACE","        ",149],["T_COMMENT","\/\/ see Mage_Catalog_Model_Product_Attribute_Source_Msrp_Type_Price::getAllOptions()\n",149],["T_WHITESPACE","        ",150],["T_IF","if",150],["T_WHITESPACE"," ",150],"(",["T_ISSET","isset",150],"(",["T_VARIABLE","$data",150],"[",["T_CONSTANT_ENCAPSED_STRING","'msrp_display_actual_price_type'",150],"]",")",")",["T_WHITESPACE"," ",150],"{",["T_WHITESPACE","\n            ",150],["T_VARIABLE","$data",151],"[",["T_CONSTANT_ENCAPSED_STRING","'msrp_display_actual_price_type'",151],"]",["T_WHITESPACE"," ",151],"=",["T_WHITESPACE"," ",151],["T_STRING_CAST","(string)",151],["T_WHITESPACE"," ",151],["T_VARIABLE","$data",151],"[",["T_CONSTANT_ENCAPSED_STRING","'msrp_display_actual_price_type'",151],"]",";",["T_WHITESPACE","\n        ",151],"}",["T_WHITESPACE","\n        ",152],["T_VARIABLE","$requiredAttributes",153],["T_WHITESPACE"," ",153],"=",["T_WHITESPACE"," ",153],["T_ARRAY","array",153],"(",["T_CONSTANT_ENCAPSED_STRING","'attribute_set_id'",153],")",";",["T_WHITESPACE","\n        ",153],["T_VARIABLE","$positiveNumberAttributes",154],["T_WHITESPACE"," ",154],"=",["T_WHITESPACE"," ",154],["T_ARRAY","array",154],"(",["T_CONSTANT_ENCAPSED_STRING","'weight'",154],",",["T_WHITESPACE"," ",154],["T_CONSTANT_ENCAPSED_STRING","'price'",154],",",["T_WHITESPACE"," ",154],["T_CONSTANT_ENCAPSED_STRING","'special_price'",154],",",["T_WHITESPACE"," ",154],["T_CONSTANT_ENCAPSED_STRING","'msrp'",154],")",";",["T_WHITESPACE","\n        ",154],["T_DOC_COMMENT","\/** @var $attribute Mage_Catalog_Model_Resource_Eav_Attribute *\/",155],["T_WHITESPACE","\n        ",155],["T_FOREACH","foreach",156],["T_WHITESPACE"," ",156],"(",["T_VARIABLE","$productEntity",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","getAttributeCollection",156],"(",["T_VARIABLE","$data",156],"[",["T_CONSTANT_ENCAPSED_STRING","'attribute_set_id'",156],"]",")",["T_WHITESPACE"," ",156],["T_AS","as",156],["T_WHITESPACE"," ",156],["T_VARIABLE","$attribute",156],")",["T_WHITESPACE"," ",156],"{",["T_WHITESPACE","\n            ",156],["T_VARIABLE","$attributeCode",157],["T_WHITESPACE"," ",157],"=",["T_WHITESPACE"," ",157],["T_VARIABLE","$attribute",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","getAttributeCode",157],"(",")",";",["T_WHITESPACE","\n            ",157],["T_VARIABLE","$value",158],["T_WHITESPACE"," ",158],"=",["T_WHITESPACE"," ",158],["T_STRING","false",158],";",["T_WHITESPACE","\n            ",158],["T_VARIABLE","$isSet",159],["T_WHITESPACE"," ",159],"=",["T_WHITESPACE"," ",159],["T_STRING","false",159],";",["T_WHITESPACE","\n            ",159],["T_IF","if",160],["T_WHITESPACE"," ",160],"(",["T_ISSET","isset",160],"(",["T_VARIABLE","$data",160],"[",["T_VARIABLE","$attribute",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","getAttributeCode",160],"(",")","]",")",")",["T_WHITESPACE"," ",160],"{",["T_WHITESPACE","\n                ",160],["T_VARIABLE","$value",161],["T_WHITESPACE"," ",161],"=",["T_WHITESPACE"," ",161],["T_VARIABLE","$data",161],"[",["T_VARIABLE","$attribute",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","getAttributeCode",161],"(",")","]",";",["T_WHITESPACE","\n                ",161],["T_VARIABLE","$isSet",162],["T_WHITESPACE"," ",162],"=",["T_WHITESPACE"," ",162],["T_STRING","true",162],";",["T_WHITESPACE","\n            ",162],"}",["T_WHITESPACE","\n            ",163],["T_VARIABLE","$applicable",164],["T_WHITESPACE"," ",164],"=",["T_WHITESPACE"," ",164],["T_STRING","false",164],";",["T_WHITESPACE","\n            ",164],["T_IF","if",165],["T_WHITESPACE"," ",165],"(","!",["T_VARIABLE","$attribute",165],["T_OBJECT_OPERATOR","->",165],["T_STRING","getApplyTo",165],"(",")",["T_WHITESPACE"," ",165],["T_BOOLEAN_OR","||",165],["T_WHITESPACE"," ",165],["T_STRING","in_array",165],"(",["T_VARIABLE","$data",165],"[",["T_CONSTANT_ENCAPSED_STRING","'type_id'",165],"]",",",["T_WHITESPACE"," ",165],["T_VARIABLE","$attribute",165],["T_OBJECT_OPERATOR","->",165],["T_STRING","getApplyTo",165],"(",")",")",")",["T_WHITESPACE"," ",165],"{",["T_WHITESPACE","\n                ",165],["T_VARIABLE","$applicable",166],["T_WHITESPACE"," ",166],"=",["T_WHITESPACE"," ",166],["T_STRING","true",166],";",["T_WHITESPACE","\n            ",166],"}",["T_WHITESPACE","\n\n            ",167],["T_IF","if",169],["T_WHITESPACE"," ",169],"(","!",["T_VARIABLE","$applicable",169],["T_WHITESPACE"," ",169],["T_BOOLEAN_AND","&&",169],["T_WHITESPACE"," ",169],"!",["T_VARIABLE","$attribute",169],["T_OBJECT_OPERATOR","->",169],["T_STRING","isStatic",169],"(",")",["T_WHITESPACE"," ",169],["T_BOOLEAN_AND","&&",169],["T_WHITESPACE"," ",169],["T_VARIABLE","$isSet",169],")",["T_WHITESPACE"," ",169],"{",["T_WHITESPACE","\n                ",169],["T_VARIABLE","$productTypes",170],["T_WHITESPACE"," ",170],"=",["T_WHITESPACE"," ",170],["T_STRING","Mage_Catalog_Model_Product_Type",170],["T_DOUBLE_COLON","::",170],["T_STRING","getTypes",170],"(",")",";",["T_WHITESPACE","\n                ",170],["T_VARIABLE","$this",171],["T_OBJECT_OPERATOR","->",171],["T_STRING","_addError",171],"(",["T_STRING","sprintf",171],"(",["T_CONSTANT_ENCAPSED_STRING","'Attribute \"%s\" is not applicable for product type \"%s\"'",171],",",["T_WHITESPACE"," ",171],["T_VARIABLE","$attributeCode",171],",",["T_WHITESPACE","\n                    ",171],["T_VARIABLE","$productTypes",172],"[",["T_VARIABLE","$data",172],"[",["T_CONSTANT_ENCAPSED_STRING","'type_id'",172],"]","]","[",["T_CONSTANT_ENCAPSED_STRING","'label'",172],"]",")",")",";",["T_WHITESPACE","\n            ",172],"}",["T_WHITESPACE","\n\n            ",173],["T_IF","if",175],["T_WHITESPACE"," ",175],"(",["T_VARIABLE","$applicable",175],["T_WHITESPACE"," ",175],["T_BOOLEAN_AND","&&",175],["T_WHITESPACE"," ",175],["T_VARIABLE","$isSet",175],")",["T_WHITESPACE"," ",175],"{",["T_WHITESPACE","\n                ",175],["T_COMMENT","\/\/ Validate dropdown attributes\n",176],["T_WHITESPACE","                ",177],["T_IF","if",177],["T_WHITESPACE"," ",177],"(",["T_VARIABLE","$attribute",177],["T_OBJECT_OPERATOR","->",177],["T_STRING","usesSource",177],"(",")",["T_WHITESPACE","\n                    ",177],["T_COMMENT","\/\/ skip check when field will be validated later as a required one\n",178],["T_WHITESPACE","                    ",179],["T_BOOLEAN_AND","&&",179],["T_WHITESPACE"," ",179],"!","(",["T_EMPTY","empty",179],"(",["T_VARIABLE","$value",179],")",["T_WHITESPACE"," ",179],["T_BOOLEAN_AND","&&",179],["T_WHITESPACE"," ",179],["T_VARIABLE","$attribute",179],["T_OBJECT_OPERATOR","->",179],["T_STRING","getIsRequired",179],"(",")",")",")",["T_WHITESPACE"," ",179],"{",["T_WHITESPACE","\n                    ",179],["T_VARIABLE","$allowedValues",180],["T_WHITESPACE"," ",180],"=",["T_WHITESPACE"," ",180],["T_VARIABLE","$this",180],["T_OBJECT_OPERATOR","->",180],["T_STRING","_getAttributeAllowedValues",180],"(",["T_VARIABLE","$attribute",180],["T_OBJECT_OPERATOR","->",180],["T_STRING","getSource",180],"(",")",["T_OBJECT_OPERATOR","->",180],["T_STRING","getAllOptions",180],"(",")",")",";",["T_WHITESPACE","\n                    ",180],["T_IF","if",181],["T_WHITESPACE"," ",181],"(","!",["T_STRING","is_array",181],"(",["T_VARIABLE","$value",181],")",")",["T_WHITESPACE"," ",181],"{",["T_WHITESPACE","\n                        ",181],["T_COMMENT","\/\/ make validation of select and multiselect identical\n",182],["T_WHITESPACE","                        ",183],["T_VARIABLE","$value",183],["T_WHITESPACE"," ",183],"=",["T_WHITESPACE"," ",183],["T_ARRAY","array",183],"(",["T_VARIABLE","$value",183],")",";",["T_WHITESPACE","\n                    ",183],"}",["T_WHITESPACE","\n                    ",184],["T_FOREACH","foreach",185],["T_WHITESPACE"," ",185],"(",["T_VARIABLE","$value",185],["T_WHITESPACE"," ",185],["T_AS","as",185],["T_WHITESPACE"," ",185],["T_VARIABLE","$selectValue",185],")",["T_WHITESPACE"," ",185],"{",["T_WHITESPACE","\n                        ",185],["T_VARIABLE","$useStrictMode",186],["T_WHITESPACE"," ",186],"=",["T_WHITESPACE"," ",186],"!",["T_STRING","is_numeric",186],"(",["T_VARIABLE","$selectValue",186],")",";",["T_WHITESPACE","\n                        ",186],["T_IF","if",187],["T_WHITESPACE"," ",187],"(","!",["T_STRING","in_array",187],"(",["T_VARIABLE","$selectValue",187],",",["T_WHITESPACE"," ",187],["T_VARIABLE","$allowedValues",187],",",["T_WHITESPACE"," ",187],["T_VARIABLE","$useStrictMode",187],")",["T_WHITESPACE","\n                            ",187],["T_BOOLEAN_AND","&&",188],["T_WHITESPACE"," ",188],"!",["T_VARIABLE","$this",188],["T_OBJECT_OPERATOR","->",188],["T_STRING","_isConfigValueUsed",188],"(",["T_VARIABLE","$data",188],",",["T_WHITESPACE"," ",188],["T_VARIABLE","$attributeCode",188],")",")",["T_WHITESPACE"," ",188],"{",["T_WHITESPACE","\n                            ",188],["T_VARIABLE","$this",189],["T_OBJECT_OPERATOR","->",189],["T_STRING","_addError",189],"(",["T_STRING","sprintf",189],"(",["T_CONSTANT_ENCAPSED_STRING","'Invalid value \"%s\" for attribute \"%s\".'",189],",",["T_WHITESPACE","\n                                ",189],["T_VARIABLE","$selectValue",190],",",["T_WHITESPACE"," ",190],["T_VARIABLE","$attributeCode",190],")",")",";",["T_WHITESPACE","\n                        ",190],"}",["T_WHITESPACE","\n                    ",191],"}",["T_WHITESPACE","\n                ",192],"}",["T_WHITESPACE","\n                ",193],["T_COMMENT","\/\/ Validate datetime attributes\n",194],["T_WHITESPACE","                ",195],["T_IF","if",195],["T_WHITESPACE"," ",195],"(",["T_VARIABLE","$attribute",195],["T_OBJECT_OPERATOR","->",195],["T_STRING","getBackendType",195],"(",")",["T_WHITESPACE"," ",195],["T_IS_EQUAL","==",195],["T_WHITESPACE"," ",195],["T_CONSTANT_ENCAPSED_STRING","'datetime'",195],")",["T_WHITESPACE"," ",195],"{",["T_WHITESPACE","\n                    ",195],["T_TRY","try",196],["T_WHITESPACE"," ",196],"{",["T_WHITESPACE","\n                        ",196],["T_VARIABLE","$attribute",197],["T_OBJECT_OPERATOR","->",197],["T_STRING","getBackend",197],"(",")",["T_OBJECT_OPERATOR","->",197],["T_STRING","formatDate",197],"(",["T_VARIABLE","$value",197],")",";",["T_WHITESPACE","\n                    ",197],"}",["T_WHITESPACE"," ",198],["T_CATCH","catch",198],["T_WHITESPACE"," ",198],"(",["T_STRING","Zend_Date_Exception",198],["T_WHITESPACE"," ",198],["T_VARIABLE","$e",198],")",["T_WHITESPACE"," ",198],"{",["T_WHITESPACE","\n                        ",198],["T_VARIABLE","$this",199],["T_OBJECT_OPERATOR","->",199],["T_STRING","_addError",199],"(",["T_STRING","sprintf",199],"(",["T_CONSTANT_ENCAPSED_STRING","'Invalid date in the \"%s\" field.'",199],",",["T_WHITESPACE"," ",199],["T_VARIABLE","$attributeCode",199],")",")",";",["T_WHITESPACE","\n                    ",199],"}",["T_WHITESPACE","\n                ",200],"}",["T_WHITESPACE","\n                ",201],["T_COMMENT","\/\/ Validate positive number required attributes\n",202],["T_WHITESPACE","                ",203],["T_IF","if",203],["T_WHITESPACE"," ",203],"(",["T_STRING","in_array",203],"(",["T_VARIABLE","$attributeCode",203],",",["T_WHITESPACE"," ",203],["T_VARIABLE","$positiveNumberAttributes",203],")",["T_WHITESPACE"," ",203],["T_BOOLEAN_AND","&&",203],["T_WHITESPACE"," ",203],"(","!",["T_EMPTY","empty",203],"(",["T_VARIABLE","$value",203],")",["T_WHITESPACE"," ",203],["T_BOOLEAN_AND","&&",203],["T_WHITESPACE"," ",203],["T_VARIABLE","$value",203],["T_WHITESPACE"," ",203],["T_IS_NOT_IDENTICAL","!==",203],["T_WHITESPACE"," ",203],["T_LNUMBER","0",203],")",["T_WHITESPACE","\n                    ",203],["T_BOOLEAN_AND","&&",204],["T_WHITESPACE"," ",204],"(","!",["T_STRING","is_numeric",204],"(",["T_VARIABLE","$value",204],")",["T_WHITESPACE"," ",204],["T_BOOLEAN_OR","||",204],["T_WHITESPACE"," ",204],["T_VARIABLE","$value",204],["T_WHITESPACE"," ",204],"<",["T_WHITESPACE"," ",204],["T_LNUMBER","0",204],")",["T_WHITESPACE","\n                ",204],")",["T_WHITESPACE"," ",205],"{",["T_WHITESPACE","\n                    ",205],["T_VARIABLE","$this",206],["T_OBJECT_OPERATOR","->",206],["T_STRING","_addError",206],"(",["T_STRING","sprintf",206],"(",["T_CONSTANT_ENCAPSED_STRING","'Please enter a number 0 or greater in the \"%s\" field.'",206],",",["T_WHITESPACE"," ",206],["T_VARIABLE","$attributeCode",206],")",")",";",["T_WHITESPACE","\n                ",206],"}",["T_WHITESPACE","\n            ",207],"}",["T_WHITESPACE","\n\n            ",208],["T_IF","if",210],["T_WHITESPACE"," ",210],"(",["T_VARIABLE","$applicable",210],["T_WHITESPACE"," ",210],["T_BOOLEAN_AND","&&",210],["T_WHITESPACE"," ",210],["T_VARIABLE","$attribute",210],["T_OBJECT_OPERATOR","->",210],["T_STRING","getIsRequired",210],"(",")",["T_WHITESPACE"," ",210],["T_BOOLEAN_AND","&&",210],["T_WHITESPACE"," ",210],["T_VARIABLE","$attribute",210],["T_OBJECT_OPERATOR","->",210],["T_STRING","getIsVisible",210],"(",")",")",["T_WHITESPACE"," ",210],"{",["T_WHITESPACE","\n                ",210],["T_IF","if",211],["T_WHITESPACE"," ",211],"(","!",["T_STRING","in_array",211],"(",["T_VARIABLE","$attributeCode",211],",",["T_WHITESPACE"," ",211],["T_VARIABLE","$positiveNumberAttributes",211],")",["T_WHITESPACE"," ",211],["T_BOOLEAN_OR","||",211],["T_WHITESPACE"," ",211],["T_VARIABLE","$value",211],["T_WHITESPACE"," ",211],["T_IS_NOT_IDENTICAL","!==",211],["T_WHITESPACE"," ",211],["T_LNUMBER","0",211],")",["T_WHITESPACE"," ",211],"{",["T_WHITESPACE","\n                    ",211],["T_VARIABLE","$requiredAttributes",212],"[","]",["T_WHITESPACE"," ",212],"=",["T_WHITESPACE"," ",212],["T_VARIABLE","$attribute",212],["T_OBJECT_OPERATOR","->",212],["T_STRING","getAttributeCode",212],"(",")",";",["T_WHITESPACE","\n                ",212],"}",["T_WHITESPACE","\n            ",213],"}",["T_WHITESPACE","\n        ",214],"}",["T_WHITESPACE","\n\n        ",215],["T_FOREACH","foreach",217],["T_WHITESPACE"," ",217],"(",["T_VARIABLE","$requiredAttributes",217],["T_WHITESPACE"," ",217],["T_AS","as",217],["T_WHITESPACE"," ",217],["T_VARIABLE","$key",217],")",["T_WHITESPACE"," ",217],"{",["T_WHITESPACE","\n            ",217],["T_IF","if",218],["T_WHITESPACE"," ",218],"(","!",["T_STRING","array_key_exists",218],"(",["T_VARIABLE","$key",218],",",["T_WHITESPACE"," ",218],["T_VARIABLE","$data",218],")",")",["T_WHITESPACE"," ",218],"{",["T_WHITESPACE","\n                ",218],["T_IF","if",219],["T_WHITESPACE"," ",219],"(","!",["T_VARIABLE","$this",219],["T_OBJECT_OPERATOR","->",219],["T_STRING","_isUpdate",219],"(",")",")",["T_WHITESPACE"," ",219],"{",["T_WHITESPACE","\n                    ",219],["T_VARIABLE","$this",220],["T_OBJECT_OPERATOR","->",220],["T_STRING","_addError",220],"(",["T_STRING","sprintf",220],"(",["T_CONSTANT_ENCAPSED_STRING","'Missing \"%s\" in request.'",220],",",["T_WHITESPACE"," ",220],["T_VARIABLE","$key",220],")",")",";",["T_WHITESPACE","\n                    ",220],["T_CONTINUE","continue",221],";",["T_WHITESPACE","\n                ",221],"}",["T_WHITESPACE","\n            ",222],"}",["T_WHITESPACE"," ",223],["T_ELSE","else",223],["T_WHITESPACE"," ",223],["T_IF","if",223],["T_WHITESPACE"," ",223],"(","!",["T_STRING","is_numeric",223],"(",["T_VARIABLE","$data",223],"[",["T_VARIABLE","$key",223],"]",")",["T_WHITESPACE"," ",223],["T_BOOLEAN_AND","&&",223],["T_WHITESPACE"," ",223],["T_EMPTY","empty",223],"(",["T_VARIABLE","$data",223],"[",["T_VARIABLE","$key",223],"]",")",")",["T_WHITESPACE"," ",223],"{",["T_WHITESPACE","\n                ",223],["T_VARIABLE","$this",224],["T_OBJECT_OPERATOR","->",224],["T_STRING","_addError",224],"(",["T_STRING","sprintf",224],"(",["T_CONSTANT_ENCAPSED_STRING","'Empty value for \"%s\" in request.'",224],",",["T_WHITESPACE"," ",224],["T_VARIABLE","$key",224],")",")",";",["T_WHITESPACE","\n            ",224],"}",["T_WHITESPACE","\n        ",225],"}",["T_WHITESPACE","\n    ",226],"}",["T_WHITESPACE","\n\n    ",227],["T_DOC_COMMENT","\/**\n     * Validate product type\n     *\n     * @param array $data\n     * @return bool\n     *\/",229],["T_WHITESPACE","\n    ",234],["T_PROTECTED","protected",235],["T_WHITESPACE"," ",235],["T_FUNCTION","function",235],["T_WHITESPACE"," ",235],["T_STRING","_validateProductType",235],"(",["T_VARIABLE","$data",235],")",["T_WHITESPACE","\n    ",235],"{",["T_WHITESPACE","\n        ",236],["T_IF","if",237],["T_WHITESPACE"," ",237],"(",["T_VARIABLE","$this",237],["T_OBJECT_OPERATOR","->",237],["T_STRING","_isUpdate",237],"(",")",")",["T_WHITESPACE"," ",237],"{",["T_WHITESPACE","\n            ",237],["T_RETURN","return",238],["T_WHITESPACE"," ",238],["T_STRING","true",238],";",["T_WHITESPACE","\n        ",238],"}",["T_WHITESPACE","\n        ",239],["T_IF","if",240],["T_WHITESPACE"," ",240],"(","!",["T_ISSET","isset",240],"(",["T_VARIABLE","$data",240],"[",["T_CONSTANT_ENCAPSED_STRING","'type_id'",240],"]",")",["T_WHITESPACE"," ",240],["T_BOOLEAN_OR","||",240],["T_WHITESPACE"," ",240],["T_EMPTY","empty",240],"(",["T_VARIABLE","$data",240],"[",["T_CONSTANT_ENCAPSED_STRING","'type_id'",240],"]",")",")",["T_WHITESPACE"," ",240],"{",["T_WHITESPACE","\n            ",240],["T_VARIABLE","$this",241],["T_OBJECT_OPERATOR","->",241],["T_STRING","_critical",241],"(",["T_CONSTANT_ENCAPSED_STRING","'Missing \"type_id\" in request.'",241],",",["T_WHITESPACE"," ",241],["T_STRING","Mage_Api2_Model_Server",241],["T_DOUBLE_COLON","::",241],["T_STRING","HTTP_BAD_REQUEST",241],")",";",["T_WHITESPACE","\n        ",241],"}",["T_WHITESPACE","\n        ",242],["T_IF","if",243],["T_WHITESPACE"," ",243],"(","!",["T_STRING","array_key_exists",243],"(",["T_VARIABLE","$data",243],"[",["T_CONSTANT_ENCAPSED_STRING","'type_id'",243],"]",",",["T_WHITESPACE"," ",243],["T_STRING","Mage_Catalog_Model_Product_Type",243],["T_DOUBLE_COLON","::",243],["T_STRING","getTypes",243],"(",")",")",")",["T_WHITESPACE"," ",243],"{",["T_WHITESPACE","\n            ",243],["T_VARIABLE","$this",244],["T_OBJECT_OPERATOR","->",244],["T_STRING","_critical",244],"(",["T_CONSTANT_ENCAPSED_STRING","'Invalid product type.'",244],",",["T_WHITESPACE"," ",244],["T_STRING","Mage_Api2_Model_Server",244],["T_DOUBLE_COLON","::",244],["T_STRING","HTTP_BAD_REQUEST",244],")",";",["T_WHITESPACE","\n        ",244],"}",["T_WHITESPACE","\n    ",245],"}",["T_WHITESPACE","\n\n    ",246],["T_DOC_COMMENT","\/**\n     * Validate attribute set\n     *\n     * @param array $data\n     * @param Mage_Eav_Model_Entity_Type $productEntity\n     * @return bool\n     *\/",248],["T_WHITESPACE","\n    ",254],["T_PROTECTED","protected",255],["T_WHITESPACE"," ",255],["T_FUNCTION","function",255],["T_WHITESPACE"," ",255],["T_STRING","_validateAttributeSet",255],"(",["T_VARIABLE","$data",255],",",["T_WHITESPACE"," ",255],["T_VARIABLE","$productEntity",255],")",["T_WHITESPACE","\n    ",255],"{",["T_WHITESPACE","\n        ",256],["T_IF","if",257],["T_WHITESPACE"," ",257],"(",["T_VARIABLE","$this",257],["T_OBJECT_OPERATOR","->",257],["T_STRING","_isUpdate",257],"(",")",")",["T_WHITESPACE"," ",257],"{",["T_WHITESPACE","\n            ",257],["T_RETURN","return",258],["T_WHITESPACE"," ",258],["T_STRING","true",258],";",["T_WHITESPACE","\n        ",258],"}",["T_WHITESPACE","\n        ",259],["T_IF","if",260],["T_WHITESPACE"," ",260],"(","!",["T_ISSET","isset",260],"(",["T_VARIABLE","$data",260],"[",["T_CONSTANT_ENCAPSED_STRING","'attribute_set_id'",260],"]",")",["T_WHITESPACE"," ",260],["T_BOOLEAN_OR","||",260],["T_WHITESPACE"," ",260],["T_EMPTY","empty",260],"(",["T_VARIABLE","$data",260],"[",["T_CONSTANT_ENCAPSED_STRING","'attribute_set_id'",260],"]",")",")",["T_WHITESPACE"," ",260],"{",["T_WHITESPACE","\n            ",260],["T_VARIABLE","$this",261],["T_OBJECT_OPERATOR","->",261],["T_STRING","_critical",261],"(",["T_CONSTANT_ENCAPSED_STRING","'Missing \"attribute_set_id\" in request.'",261],",",["T_WHITESPACE"," ",261],["T_STRING","Mage_Api2_Model_Server",261],["T_DOUBLE_COLON","::",261],["T_STRING","HTTP_BAD_REQUEST",261],")",";",["T_WHITESPACE","\n        ",261],"}",["T_WHITESPACE","\n        ",262],["T_DOC_COMMENT","\/** @var $attributeSet Mage_Eav_Model_Entity_Attribute_Set *\/",263],["T_WHITESPACE","\n        ",263],["T_VARIABLE","$attributeSet",264],["T_WHITESPACE"," ",264],"=",["T_WHITESPACE"," ",264],["T_STRING","Mage",264],["T_DOUBLE_COLON","::",264],["T_STRING","getModel",264],"(",["T_CONSTANT_ENCAPSED_STRING","'eav\/entity_attribute_set'",264],")",["T_OBJECT_OPERATOR","->",264],["T_STRING","load",264],"(",["T_VARIABLE","$data",264],"[",["T_CONSTANT_ENCAPSED_STRING","'attribute_set_id'",264],"]",")",";",["T_WHITESPACE","\n        ",264],["T_IF","if",265],["T_WHITESPACE"," ",265],"(","!",["T_VARIABLE","$attributeSet",265],["T_OBJECT_OPERATOR","->",265],["T_STRING","getId",265],"(",")",["T_WHITESPACE"," ",265],["T_BOOLEAN_OR","||",265],["T_WHITESPACE"," ",265],["T_VARIABLE","$productEntity",265],["T_OBJECT_OPERATOR","->",265],["T_STRING","getEntityTypeId",265],"(",")",["T_WHITESPACE"," ",265],["T_IS_NOT_EQUAL","!=",265],["T_WHITESPACE"," ",265],["T_VARIABLE","$attributeSet",265],["T_OBJECT_OPERATOR","->",265],["T_STRING","getEntityTypeId",265],"(",")",")",["T_WHITESPACE"," ",265],"{",["T_WHITESPACE","\n            ",265],["T_VARIABLE","$this",266],["T_OBJECT_OPERATOR","->",266],["T_STRING","_critical",266],"(",["T_CONSTANT_ENCAPSED_STRING","'Invalid attribute set.'",266],",",["T_WHITESPACE"," ",266],["T_STRING","Mage_Api2_Model_Server",266],["T_DOUBLE_COLON","::",266],["T_STRING","HTTP_BAD_REQUEST",266],")",";",["T_WHITESPACE","\n        ",266],"}",["T_WHITESPACE","\n    ",267],"}",["T_WHITESPACE","\n\n    ",268],["T_DOC_COMMENT","\/**\n     * Validate SKU\n     *\n     * @param array $data\n     * @return bool\n     *\/",270],["T_WHITESPACE","\n    ",275],["T_PROTECTED","protected",276],["T_WHITESPACE"," ",276],["T_FUNCTION","function",276],["T_WHITESPACE"," ",276],["T_STRING","_validateSku",276],"(",["T_VARIABLE","$data",276],")",["T_WHITESPACE","\n    ",276],"{",["T_WHITESPACE","\n        ",277],["T_IF","if",278],["T_WHITESPACE"," ",278],"(",["T_VARIABLE","$this",278],["T_OBJECT_OPERATOR","->",278],["T_STRING","_isUpdate",278],"(",")",["T_WHITESPACE"," ",278],["T_BOOLEAN_AND","&&",278],["T_WHITESPACE"," ",278],"!",["T_ISSET","isset",278],"(",["T_VARIABLE","$data",278],"[",["T_CONSTANT_ENCAPSED_STRING","'sku'",278],"]",")",")",["T_WHITESPACE"," ",278],"{",["T_WHITESPACE","\n            ",278],["T_RETURN","return",279],["T_WHITESPACE"," ",279],["T_STRING","true",279],";",["T_WHITESPACE","\n        ",279],"}",["T_WHITESPACE","\n        ",280],["T_IF","if",281],["T_WHITESPACE"," ",281],"(","!",["T_STRING","Zend_Validate",281],["T_DOUBLE_COLON","::",281],["T_STRING","is",281],"(",["T_STRING_CAST","(string)",281],["T_VARIABLE","$data",281],"[",["T_CONSTANT_ENCAPSED_STRING","'sku'",281],"]",",",["T_WHITESPACE"," ",281],["T_CONSTANT_ENCAPSED_STRING","'StringLength'",281],",",["T_WHITESPACE"," ",281],["T_ARRAY","array",281],"(",["T_CONSTANT_ENCAPSED_STRING","'min'",281],["T_WHITESPACE"," ",281],["T_DOUBLE_ARROW","=>",281],["T_WHITESPACE"," ",281],["T_LNUMBER","0",281],",",["T_WHITESPACE"," ",281],["T_CONSTANT_ENCAPSED_STRING","'max'",281],["T_WHITESPACE"," ",281],["T_DOUBLE_ARROW","=>",281],["T_WHITESPACE"," ",281],["T_LNUMBER","64",281],")",")",")",["T_WHITESPACE"," ",281],"{",["T_WHITESPACE","\n            ",281],["T_VARIABLE","$this",282],["T_OBJECT_OPERATOR","->",282],["T_STRING","_addError",282],"(",["T_CONSTANT_ENCAPSED_STRING","'SKU length should be 64 characters maximum.'",282],")",";",["T_WHITESPACE","\n        ",282],"}",["T_WHITESPACE","\n    ",283],"}",["T_WHITESPACE","\n\n    ",284],["T_DOC_COMMENT","\/**\n     * Validate product gift options data\n     *\n     * @param array $data\n     *\/",286],["T_WHITESPACE","\n    ",290],["T_PROTECTED","protected",291],["T_WHITESPACE"," ",291],["T_FUNCTION","function",291],["T_WHITESPACE"," ",291],["T_STRING","_validateGiftOptions",291],"(",["T_VARIABLE","$data",291],")",["T_WHITESPACE","\n    ",291],"{",["T_WHITESPACE","\n        ",292],["T_IF","if",293],["T_WHITESPACE"," ",293],"(",["T_ISSET","isset",293],"(",["T_VARIABLE","$data",293],"[",["T_CONSTANT_ENCAPSED_STRING","'gift_wrapping_price'",293],"]",")",")",["T_WHITESPACE"," ",293],"{",["T_WHITESPACE","\n            ",293],["T_IF","if",294],["T_WHITESPACE"," ",294],"(","!","(",["T_STRING","is_numeric",294],"(",["T_VARIABLE","$data",294],"[",["T_CONSTANT_ENCAPSED_STRING","'gift_wrapping_price'",294],"]",")",["T_WHITESPACE"," ",294],["T_BOOLEAN_AND","&&",294],["T_WHITESPACE"," ",294],["T_VARIABLE","$data",294],"[",["T_CONSTANT_ENCAPSED_STRING","'gift_wrapping_price'",294],"]",["T_WHITESPACE"," ",294],["T_IS_GREATER_OR_EQUAL",">=",294],["T_WHITESPACE"," ",294],["T_LNUMBER","0",294],")",")",["T_WHITESPACE"," ",294],"{",["T_WHITESPACE","\n                ",294],["T_VARIABLE","$this",295],["T_OBJECT_OPERATOR","->",295],["T_STRING","_addError",295],"(",["T_CONSTANT_ENCAPSED_STRING","'Please enter a number 0 or greater in the \"gift_wrapping_price\" field.'",295],")",";",["T_WHITESPACE","\n            ",295],"}",["T_WHITESPACE","\n        ",296],"}",["T_WHITESPACE","\n    ",297],"}",["T_WHITESPACE","\n\n    ",298],["T_DOC_COMMENT","\/**\n     * Validate Group Price complex attribute\n     *\n     * @param array $data\n     *\/",300],["T_WHITESPACE","\n    ",304],["T_PROTECTED","protected",305],["T_WHITESPACE"," ",305],["T_FUNCTION","function",305],["T_WHITESPACE"," ",305],["T_STRING","_validateGroupPrice",305],"(",["T_VARIABLE","$data",305],")",["T_WHITESPACE","\n    ",305],"{",["T_WHITESPACE","\n        ",306],["T_IF","if",307],["T_WHITESPACE"," ",307],"(",["T_ISSET","isset",307],"(",["T_VARIABLE","$data",307],"[",["T_CONSTANT_ENCAPSED_STRING","'group_price'",307],"]",")",["T_WHITESPACE"," ",307],["T_BOOLEAN_AND","&&",307],["T_WHITESPACE"," ",307],["T_STRING","is_array",307],"(",["T_VARIABLE","$data",307],"[",["T_CONSTANT_ENCAPSED_STRING","'group_price'",307],"]",")",")",["T_WHITESPACE"," ",307],"{",["T_WHITESPACE","\n            ",307],["T_VARIABLE","$groupPrices",308],["T_WHITESPACE"," ",308],"=",["T_WHITESPACE"," ",308],["T_VARIABLE","$data",308],"[",["T_CONSTANT_ENCAPSED_STRING","'group_price'",308],"]",";",["T_WHITESPACE","\n            ",308],["T_FOREACH","foreach",309],["T_WHITESPACE"," ",309],"(",["T_VARIABLE","$groupPrices",309],["T_WHITESPACE"," ",309],["T_AS","as",309],["T_WHITESPACE"," ",309],["T_VARIABLE","$index",309],["T_WHITESPACE"," ",309],["T_DOUBLE_ARROW","=>",309],["T_WHITESPACE"," ",309],["T_VARIABLE","$groupPrice",309],")",["T_WHITESPACE"," ",309],"{",["T_WHITESPACE","\n                ",309],["T_VARIABLE","$fieldSet",310],["T_WHITESPACE"," ",310],"=",["T_WHITESPACE"," ",310],["T_CONSTANT_ENCAPSED_STRING","'group_price:'",310],["T_WHITESPACE"," ",310],".",["T_WHITESPACE"," ",310],["T_VARIABLE","$index",310],";",["T_WHITESPACE","\n                ",310],["T_VARIABLE","$this",311],["T_OBJECT_OPERATOR","->",311],["T_STRING","_validateWebsiteIdForGroupPrice",311],"(",["T_VARIABLE","$groupPrice",311],",",["T_WHITESPACE"," ",311],["T_VARIABLE","$fieldSet",311],")",";",["T_WHITESPACE","\n                ",311],["T_VARIABLE","$this",312],["T_OBJECT_OPERATOR","->",312],["T_STRING","_validateCustomerGroup",312],"(",["T_VARIABLE","$groupPrice",312],",",["T_WHITESPACE"," ",312],["T_VARIABLE","$fieldSet",312],")",";",["T_WHITESPACE","\n                ",312],["T_VARIABLE","$this",313],["T_OBJECT_OPERATOR","->",313],["T_STRING","_validatePositiveNumber",313],"(",["T_VARIABLE","$groupPrice",313],",",["T_WHITESPACE"," ",313],["T_VARIABLE","$fieldSet",313],",",["T_WHITESPACE"," ",313],["T_CONSTANT_ENCAPSED_STRING","'price'",313],",",["T_WHITESPACE"," ",313],["T_STRING","true",313],",",["T_WHITESPACE"," ",313],["T_STRING","true",313],")",";",["T_WHITESPACE","\n            ",313],"}",["T_WHITESPACE","\n        ",314],"}",["T_WHITESPACE","\n    ",315],"}",["T_WHITESPACE","\n\n    ",316],["T_DOC_COMMENT","\/**\n     * Validate Tier Price complex attribute\n     *\n     * @param array $data\n     *\/",318],["T_WHITESPACE","\n    ",322],["T_PROTECTED","protected",323],["T_WHITESPACE"," ",323],["T_FUNCTION","function",323],["T_WHITESPACE"," ",323],["T_STRING","_validateTierPrice",323],"(",["T_VARIABLE","$data",323],")",["T_WHITESPACE","\n    ",323],"{",["T_WHITESPACE","\n        ",324],["T_IF","if",325],["T_WHITESPACE"," ",325],"(",["T_ISSET","isset",325],"(",["T_VARIABLE","$data",325],"[",["T_CONSTANT_ENCAPSED_STRING","'tier_price'",325],"]",")",["T_WHITESPACE"," ",325],["T_BOOLEAN_AND","&&",325],["T_WHITESPACE"," ",325],["T_STRING","is_array",325],"(",["T_VARIABLE","$data",325],"[",["T_CONSTANT_ENCAPSED_STRING","'tier_price'",325],"]",")",")",["T_WHITESPACE"," ",325],"{",["T_WHITESPACE","\n            ",325],["T_VARIABLE","$tierPrices",326],["T_WHITESPACE"," ",326],"=",["T_WHITESPACE"," ",326],["T_VARIABLE","$data",326],"[",["T_CONSTANT_ENCAPSED_STRING","'tier_price'",326],"]",";",["T_WHITESPACE","\n            ",326],["T_FOREACH","foreach",327],["T_WHITESPACE"," ",327],"(",["T_VARIABLE","$tierPrices",327],["T_WHITESPACE"," ",327],["T_AS","as",327],["T_WHITESPACE"," ",327],["T_VARIABLE","$index",327],["T_WHITESPACE"," ",327],["T_DOUBLE_ARROW","=>",327],["T_WHITESPACE"," ",327],["T_VARIABLE","$tierPrice",327],")",["T_WHITESPACE"," ",327],"{",["T_WHITESPACE","\n                ",327],["T_VARIABLE","$fieldSet",328],["T_WHITESPACE"," ",328],"=",["T_WHITESPACE"," ",328],["T_CONSTANT_ENCAPSED_STRING","'tier_price:'",328],["T_WHITESPACE"," ",328],".",["T_WHITESPACE"," ",328],["T_VARIABLE","$index",328],";",["T_WHITESPACE","\n                ",328],["T_VARIABLE","$this",329],["T_OBJECT_OPERATOR","->",329],["T_STRING","_validateWebsiteIdForGroupPrice",329],"(",["T_VARIABLE","$tierPrice",329],",",["T_WHITESPACE"," ",329],["T_VARIABLE","$fieldSet",329],")",";",["T_WHITESPACE","\n                ",329],["T_VARIABLE","$this",330],["T_OBJECT_OPERATOR","->",330],["T_STRING","_validateCustomerGroup",330],"(",["T_VARIABLE","$tierPrice",330],",",["T_WHITESPACE"," ",330],["T_VARIABLE","$fieldSet",330],")",";",["T_WHITESPACE","\n                ",330],["T_VARIABLE","$this",331],["T_OBJECT_OPERATOR","->",331],["T_STRING","_validatePositiveNumber",331],"(",["T_VARIABLE","$tierPrice",331],",",["T_WHITESPACE"," ",331],["T_VARIABLE","$fieldSet",331],",",["T_WHITESPACE"," ",331],["T_CONSTANT_ENCAPSED_STRING","'price_qty'",331],")",";",["T_WHITESPACE","\n                ",331],["T_VARIABLE","$this",332],["T_OBJECT_OPERATOR","->",332],["T_STRING","_validatePositiveNumber",332],"(",["T_VARIABLE","$tierPrice",332],",",["T_WHITESPACE"," ",332],["T_VARIABLE","$fieldSet",332],",",["T_WHITESPACE"," ",332],["T_CONSTANT_ENCAPSED_STRING","'price'",332],")",";",["T_WHITESPACE","\n            ",332],"}",["T_WHITESPACE","\n        ",333],"}",["T_WHITESPACE","\n    ",334],"}",["T_WHITESPACE","\n\n    ",335],["T_DOC_COMMENT","\/**\n     * Check if website id is appropriate according to price scope settings\n     *\n     * @param array $data\n     * @param string $fieldSet\n     *\/",337],["T_WHITESPACE","\n    ",342],["T_PROTECTED","protected",343],["T_WHITESPACE"," ",343],["T_FUNCTION","function",343],["T_WHITESPACE"," ",343],["T_STRING","_validateWebsiteIdForGroupPrice",343],"(",["T_VARIABLE","$data",343],",",["T_WHITESPACE"," ",343],["T_VARIABLE","$fieldSet",343],")",["T_WHITESPACE","\n    ",343],"{",["T_WHITESPACE","\n        ",344],["T_IF","if",345],["T_WHITESPACE"," ",345],"(","!",["T_ISSET","isset",345],"(",["T_VARIABLE","$data",345],"[",["T_CONSTANT_ENCAPSED_STRING","'website_id'",345],"]",")",")",["T_WHITESPACE"," ",345],"{",["T_WHITESPACE","\n            ",345],["T_VARIABLE","$this",346],["T_OBJECT_OPERATOR","->",346],["T_STRING","_addError",346],"(",["T_STRING","sprintf",346],"(",["T_CONSTANT_ENCAPSED_STRING","'The \"website_id\" value in the \"%s\" set is a required field.'",346],",",["T_WHITESPACE"," ",346],["T_VARIABLE","$fieldSet",346],")",")",";",["T_WHITESPACE","\n        ",346],"}",["T_WHITESPACE"," ",347],["T_ELSE","else",347],["T_WHITESPACE"," ",347],"{",["T_WHITESPACE","\n            ",347],["T_DOC_COMMENT","\/** @var $catalogHelper Mage_Catalog_Helper_Data *\/",348],["T_WHITESPACE","\n            ",348],["T_VARIABLE","$catalogHelper",349],["T_WHITESPACE"," ",349],"=",["T_WHITESPACE"," ",349],["T_STRING","Mage",349],["T_DOUBLE_COLON","::",349],["T_STRING","helper",349],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog'",349],")",";",["T_WHITESPACE","\n            ",349],["T_VARIABLE","$website",350],["T_WHITESPACE"," ",350],"=",["T_WHITESPACE"," ",350],["T_STRING","Mage",350],["T_DOUBLE_COLON","::",350],["T_STRING","getModel",350],"(",["T_CONSTANT_ENCAPSED_STRING","'core\/website'",350],")",["T_OBJECT_OPERATOR","->",350],["T_STRING","load",350],"(",["T_VARIABLE","$data",350],"[",["T_CONSTANT_ENCAPSED_STRING","'website_id'",350],"]",")",";",["T_WHITESPACE","\n            ",350],["T_VARIABLE","$isAllWebsitesValue",351],["T_WHITESPACE"," ",351],"=",["T_WHITESPACE"," ",351],["T_STRING","is_numeric",351],"(",["T_VARIABLE","$data",351],"[",["T_CONSTANT_ENCAPSED_STRING","'website_id'",351],"]",")",["T_WHITESPACE"," ",351],["T_BOOLEAN_AND","&&",351],["T_WHITESPACE"," ",351],"(",["T_VARIABLE","$data",351],"[",["T_CONSTANT_ENCAPSED_STRING","'website_id'",351],"]",["T_WHITESPACE"," ",351],["T_IS_EQUAL","==",351],["T_WHITESPACE"," ",351],["T_LNUMBER","0",351],")",";",["T_WHITESPACE","\n            ",351],["T_VARIABLE","$isGlobalPriceScope",352],["T_WHITESPACE"," ",352],"=",["T_WHITESPACE"," ",352],["T_INT_CAST","(int)",352],["T_VARIABLE","$catalogHelper",352],["T_OBJECT_OPERATOR","->",352],["T_STRING","getPriceScope",352],"(",")",["T_WHITESPACE"," ",352],["T_IS_EQUAL","==",352],["T_WHITESPACE"," ",352],["T_STRING","Mage_Catalog_Helper_Data",352],["T_DOUBLE_COLON","::",352],["T_STRING","PRICE_SCOPE_GLOBAL",352],";",["T_WHITESPACE","\n            ",352],["T_IF","if",353],["T_WHITESPACE"," ",353],"(",["T_STRING","is_null",353],"(",["T_VARIABLE","$website",353],["T_OBJECT_OPERATOR","->",353],["T_STRING","getId",353],"(",")",")",["T_WHITESPACE"," ",353],["T_BOOLEAN_OR","||",353],["T_WHITESPACE"," ",353],"(",["T_VARIABLE","$isGlobalPriceScope",353],["T_WHITESPACE"," ",353],["T_BOOLEAN_AND","&&",353],["T_WHITESPACE"," ",353],"!",["T_VARIABLE","$isAllWebsitesValue",353],")",")",["T_WHITESPACE"," ",353],"{",["T_WHITESPACE","\n                ",353],["T_VARIABLE","$this",354],["T_OBJECT_OPERATOR","->",354],["T_STRING","_addError",354],"(",["T_STRING","sprintf",354],"(",["T_CONSTANT_ENCAPSED_STRING","'Invalid \"website_id\" value in the \"%s\" set.'",354],",",["T_WHITESPACE"," ",354],["T_VARIABLE","$fieldSet",354],")",")",";",["T_WHITESPACE","\n            ",354],"}",["T_WHITESPACE","\n        ",355],"}",["T_WHITESPACE","\n    ",356],"}",["T_WHITESPACE","\n\n    ",357],["T_DOC_COMMENT","\/**\n     * Validate product inventory data\n     *\n     * @param array $data\n     *\/",359],["T_WHITESPACE","\n    ",363],["T_PROTECTED","protected",364],["T_WHITESPACE"," ",364],["T_FUNCTION","function",364],["T_WHITESPACE"," ",364],["T_STRING","_validateStockData",364],"(",["T_VARIABLE","$data",364],")",["T_WHITESPACE","\n    ",364],"{",["T_WHITESPACE","\n        ",365],["T_IF","if",366],["T_WHITESPACE"," ",366],"(",["T_ISSET","isset",366],"(",["T_VARIABLE","$data",366],"[",["T_CONSTANT_ENCAPSED_STRING","'stock_data'",366],"]",")",["T_WHITESPACE"," ",366],["T_BOOLEAN_AND","&&",366],["T_WHITESPACE"," ",366],["T_STRING","is_array",366],"(",["T_VARIABLE","$data",366],"[",["T_CONSTANT_ENCAPSED_STRING","'stock_data'",366],"]",")",")",["T_WHITESPACE"," ",366],"{",["T_WHITESPACE","\n            ",366],["T_VARIABLE","$stockData",367],["T_WHITESPACE"," ",367],"=",["T_WHITESPACE"," ",367],["T_VARIABLE","$data",367],"[",["T_CONSTANT_ENCAPSED_STRING","'stock_data'",367],"]",";",["T_WHITESPACE","\n            ",367],["T_VARIABLE","$fieldSet",368],["T_WHITESPACE"," ",368],"=",["T_WHITESPACE"," ",368],["T_CONSTANT_ENCAPSED_STRING","'stock_data'",368],";",["T_WHITESPACE","\n            ",368],["T_IF","if",369],["T_WHITESPACE"," ",369],"(","!","(",["T_ISSET","isset",369],"(",["T_VARIABLE","$stockData",369],"[",["T_CONSTANT_ENCAPSED_STRING","'use_config_manage_stock'",369],"]",")",["T_WHITESPACE"," ",369],["T_BOOLEAN_AND","&&",369],["T_WHITESPACE"," ",369],["T_VARIABLE","$stockData",369],"[",["T_CONSTANT_ENCAPSED_STRING","'use_config_manage_stock'",369],"]",")",")",["T_WHITESPACE"," ",369],"{",["T_WHITESPACE","\n                ",369],["T_VARIABLE","$this",370],["T_OBJECT_OPERATOR","->",370],["T_STRING","_validateBoolean",370],"(",["T_VARIABLE","$stockData",370],",",["T_WHITESPACE"," ",370],["T_VARIABLE","$fieldSet",370],",",["T_WHITESPACE"," ",370],["T_CONSTANT_ENCAPSED_STRING","'manage_stock'",370],")",";",["T_WHITESPACE","\n            ",370],"}",["T_WHITESPACE","\n            ",371],["T_IF","if",372],["T_WHITESPACE"," ",372],"(",["T_VARIABLE","$this",372],["T_OBJECT_OPERATOR","->",372],["T_STRING","_isManageStockEnabled",372],"(",["T_VARIABLE","$stockData",372],")",")",["T_WHITESPACE"," ",372],"{",["T_WHITESPACE","\n                ",372],["T_VARIABLE","$this",373],["T_OBJECT_OPERATOR","->",373],["T_STRING","_validateNumeric",373],"(",["T_VARIABLE","$stockData",373],",",["T_WHITESPACE"," ",373],["T_VARIABLE","$fieldSet",373],",",["T_WHITESPACE"," ",373],["T_CONSTANT_ENCAPSED_STRING","'qty'",373],")",";",["T_WHITESPACE","\n                ",373],["T_VARIABLE","$this",374],["T_OBJECT_OPERATOR","->",374],["T_STRING","_validatePositiveNumber",374],"(",["T_VARIABLE","$stockData",374],",",["T_WHITESPACE"," ",374],["T_VARIABLE","$fieldSet",374],",",["T_WHITESPACE"," ",374],["T_CONSTANT_ENCAPSED_STRING","'min_qty'",374],",",["T_WHITESPACE"," ",374],["T_STRING","false",374],",",["T_WHITESPACE"," ",374],["T_STRING","true",374],",",["T_WHITESPACE"," ",374],["T_STRING","true",374],")",";",["T_WHITESPACE","\n                ",374],["T_VARIABLE","$this",375],["T_OBJECT_OPERATOR","->",375],["T_STRING","_validateNumeric",375],"(",["T_VARIABLE","$stockData",375],",",["T_WHITESPACE"," ",375],["T_VARIABLE","$fieldSet",375],",",["T_WHITESPACE"," ",375],["T_CONSTANT_ENCAPSED_STRING","'notify_stock_qty'",375],",",["T_WHITESPACE"," ",375],["T_STRING","false",375],",",["T_WHITESPACE"," ",375],["T_STRING","true",375],")",";",["T_WHITESPACE","\n                ",375],["T_VARIABLE","$this",376],["T_OBJECT_OPERATOR","->",376],["T_STRING","_validateBoolean",376],"(",["T_VARIABLE","$stockData",376],",",["T_WHITESPACE"," ",376],["T_VARIABLE","$fieldSet",376],",",["T_WHITESPACE"," ",376],["T_CONSTANT_ENCAPSED_STRING","'is_qty_decimal'",376],")",";",["T_WHITESPACE","\n                ",376],["T_IF","if",377],["T_WHITESPACE"," ",377],"(",["T_ISSET","isset",377],"(",["T_VARIABLE","$stockData",377],"[",["T_CONSTANT_ENCAPSED_STRING","'is_qty_decimal'",377],"]",")",["T_WHITESPACE"," ",377],["T_BOOLEAN_AND","&&",377],["T_WHITESPACE"," ",377],["T_BOOL_CAST","(bool)",377],["T_WHITESPACE"," ",377],["T_VARIABLE","$stockData",377],"[",["T_CONSTANT_ENCAPSED_STRING","'is_qty_decimal'",377],"]",["T_WHITESPACE"," ",377],["T_IS_EQUAL","==",377],["T_WHITESPACE"," ",377],["T_STRING","true",377],")",["T_WHITESPACE"," ",377],"{",["T_WHITESPACE","\n                    ",377],["T_VARIABLE","$this",378],["T_OBJECT_OPERATOR","->",378],["T_STRING","_validateBoolean",378],"(",["T_VARIABLE","$stockData",378],",",["T_WHITESPACE"," ",378],["T_VARIABLE","$fieldSet",378],",",["T_WHITESPACE"," ",378],["T_CONSTANT_ENCAPSED_STRING","'is_decimal_divided'",378],")",";",["T_WHITESPACE","\n                ",378],"}",["T_WHITESPACE","\n                ",379],["T_VARIABLE","$this",380],["T_OBJECT_OPERATOR","->",380],["T_STRING","_validateBoolean",380],"(",["T_VARIABLE","$stockData",380],",",["T_WHITESPACE"," ",380],["T_VARIABLE","$fieldSet",380],",",["T_WHITESPACE"," ",380],["T_CONSTANT_ENCAPSED_STRING","'enable_qty_increments'",380],",",["T_WHITESPACE"," ",380],["T_STRING","true",380],")",";",["T_WHITESPACE","\n                ",380],["T_IF","if",381],["T_WHITESPACE"," ",381],"(",["T_ISSET","isset",381],"(",["T_VARIABLE","$stockData",381],"[",["T_CONSTANT_ENCAPSED_STRING","'enable_qty_increments'",381],"]",")",["T_WHITESPACE"," ",381],["T_BOOLEAN_AND","&&",381],["T_WHITESPACE"," ",381],["T_BOOL_CAST","(bool)",381],["T_WHITESPACE"," ",381],["T_VARIABLE","$stockData",381],"[",["T_CONSTANT_ENCAPSED_STRING","'enable_qty_increments'",381],"]",["T_WHITESPACE"," ",381],["T_IS_EQUAL","==",381],["T_WHITESPACE"," ",381],["T_STRING","true",381],")",["T_WHITESPACE"," ",381],"{",["T_WHITESPACE","\n                    ",381],["T_VARIABLE","$this",382],["T_OBJECT_OPERATOR","->",382],["T_STRING","_validatePositiveNumeric",382],"(",["T_VARIABLE","$stockData",382],",",["T_WHITESPACE"," ",382],["T_VARIABLE","$fieldSet",382],",",["T_WHITESPACE"," ",382],["T_CONSTANT_ENCAPSED_STRING","'qty_increments'",382],",",["T_WHITESPACE"," ",382],["T_STRING","false",382],",",["T_WHITESPACE"," ",382],["T_STRING","true",382],")",";",["T_WHITESPACE","\n                ",382],"}",["T_WHITESPACE","\n                ",383],["T_IF","if",384],["T_WHITESPACE"," ",384],"(",["T_STRING","Mage",384],["T_DOUBLE_COLON","::",384],["T_STRING","helper",384],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog'",384],")",["T_OBJECT_OPERATOR","->",384],["T_STRING","isModuleEnabled",384],"(",["T_CONSTANT_ENCAPSED_STRING","'Mage_CatalogInventory'",384],")",")",["T_WHITESPACE"," ",384],"{",["T_WHITESPACE","\n                    ",384],["T_VARIABLE","$this",385],["T_OBJECT_OPERATOR","->",385],["T_STRING","_validateSource",385],"(",["T_VARIABLE","$stockData",385],",",["T_WHITESPACE"," ",385],["T_VARIABLE","$fieldSet",385],",",["T_WHITESPACE"," ",385],["T_CONSTANT_ENCAPSED_STRING","'backorders'",385],",",["T_WHITESPACE","\n                        ",385],["T_CONSTANT_ENCAPSED_STRING","'cataloginventory\/source_backorders'",386],",",["T_WHITESPACE"," ",386],["T_STRING","true",386],")",";",["T_WHITESPACE","\n                    ",386],["T_VARIABLE","$this",387],["T_OBJECT_OPERATOR","->",387],["T_STRING","_validateSource",387],"(",["T_VARIABLE","$stockData",387],",",["T_WHITESPACE"," ",387],["T_VARIABLE","$fieldSet",387],",",["T_WHITESPACE"," ",387],["T_CONSTANT_ENCAPSED_STRING","'is_in_stock'",387],",",["T_WHITESPACE"," ",387],["T_CONSTANT_ENCAPSED_STRING","'cataloginventory\/source_stock'",387],")",";",["T_WHITESPACE","\n                ",387],"}",["T_WHITESPACE","\n            ",388],"}",["T_WHITESPACE","\n\n            ",389],["T_VARIABLE","$this",391],["T_OBJECT_OPERATOR","->",391],["T_STRING","_validatePositiveNumeric",391],"(",["T_VARIABLE","$stockData",391],",",["T_WHITESPACE"," ",391],["T_VARIABLE","$fieldSet",391],",",["T_WHITESPACE"," ",391],["T_CONSTANT_ENCAPSED_STRING","'min_sale_qty'",391],",",["T_WHITESPACE"," ",391],["T_STRING","false",391],",",["T_WHITESPACE"," ",391],["T_STRING","true",391],")",";",["T_WHITESPACE","\n            ",391],["T_VARIABLE","$this",392],["T_OBJECT_OPERATOR","->",392],["T_STRING","_validatePositiveNumeric",392],"(",["T_VARIABLE","$stockData",392],",",["T_WHITESPACE"," ",392],["T_VARIABLE","$fieldSet",392],",",["T_WHITESPACE"," ",392],["T_CONSTANT_ENCAPSED_STRING","'max_sale_qty'",392],",",["T_WHITESPACE"," ",392],["T_STRING","false",392],",",["T_WHITESPACE"," ",392],["T_STRING","true",392],")",";",["T_WHITESPACE","\n        ",392],"}",["T_WHITESPACE","\n    ",393],"}",["T_WHITESPACE","\n\n    ",394],["T_DOC_COMMENT","\/**\n     * Determine if stock management is enabled\n     *\n     * @param array $stockData\n     * @return bool\n     *\/",396],["T_WHITESPACE","\n    ",401],["T_PROTECTED","protected",402],["T_WHITESPACE"," ",402],["T_FUNCTION","function",402],["T_WHITESPACE"," ",402],["T_STRING","_isManageStockEnabled",402],"(",["T_VARIABLE","$stockData",402],")",["T_WHITESPACE","\n    ",402],"{",["T_WHITESPACE","\n        ",403],["T_IF","if",404],["T_WHITESPACE"," ",404],"(","!","(",["T_ISSET","isset",404],"(",["T_VARIABLE","$stockData",404],"[",["T_CONSTANT_ENCAPSED_STRING","'use_config_manage_stock'",404],"]",")",["T_WHITESPACE"," ",404],["T_BOOLEAN_AND","&&",404],["T_WHITESPACE"," ",404],["T_VARIABLE","$stockData",404],"[",["T_CONSTANT_ENCAPSED_STRING","'use_config_manage_stock'",404],"]",")",")",["T_WHITESPACE"," ",404],"{",["T_WHITESPACE","\n            ",404],["T_VARIABLE","$manageStock",405],["T_WHITESPACE"," ",405],"=",["T_WHITESPACE"," ",405],["T_ISSET","isset",405],"(",["T_VARIABLE","$stockData",405],"[",["T_CONSTANT_ENCAPSED_STRING","'manage_stock'",405],"]",")",["T_WHITESPACE"," ",405],["T_BOOLEAN_AND","&&",405],["T_WHITESPACE"," ",405],["T_VARIABLE","$stockData",405],"[",["T_CONSTANT_ENCAPSED_STRING","'manage_stock'",405],"]",";",["T_WHITESPACE","\n        ",405],"}",["T_WHITESPACE"," ",406],["T_ELSE","else",406],["T_WHITESPACE"," ",406],"{",["T_WHITESPACE","\n            ",406],["T_VARIABLE","$manageStock",407],["T_WHITESPACE"," ",407],"=",["T_WHITESPACE"," ",407],["T_STRING","Mage",407],["T_DOUBLE_COLON","::",407],["T_STRING","getStoreConfig",407],"(",["T_WHITESPACE","\n                ",407],["T_STRING","Mage_CatalogInventory_Model_Stock_Item",408],["T_DOUBLE_COLON","::",408],["T_STRING","XML_PATH_ITEM",408],["T_WHITESPACE"," ",408],".",["T_WHITESPACE"," ",408],["T_CONSTANT_ENCAPSED_STRING","'manage_stock'",408],")",";",["T_WHITESPACE","\n        ",408],"}",["T_WHITESPACE","\n        ",409],["T_RETURN","return",410],["T_WHITESPACE"," ",410],["T_BOOL_CAST","(bool)",410],["T_WHITESPACE"," ",410],["T_VARIABLE","$manageStock",410],";",["T_WHITESPACE","\n    ",410],"}",["T_WHITESPACE","\n\n    ",411],["T_DOC_COMMENT","\/**\n     * Validate Customer Group field\n     *\n     * @param string $fieldSet\n     * @param array $data\n     *\/",413],["T_WHITESPACE","\n    ",418],["T_PROTECTED","protected",419],["T_WHITESPACE"," ",419],["T_FUNCTION","function",419],["T_WHITESPACE"," ",419],["T_STRING","_validateCustomerGroup",419],"(",["T_VARIABLE","$data",419],",",["T_WHITESPACE"," ",419],["T_VARIABLE","$fieldSet",419],")",["T_WHITESPACE","\n    ",419],"{",["T_WHITESPACE","\n        ",420],["T_IF","if",421],["T_WHITESPACE"," ",421],"(","!",["T_ISSET","isset",421],"(",["T_VARIABLE","$data",421],"[",["T_CONSTANT_ENCAPSED_STRING","'cust_group'",421],"]",")",")",["T_WHITESPACE"," ",421],"{",["T_WHITESPACE","\n            ",421],["T_VARIABLE","$this",422],["T_OBJECT_OPERATOR","->",422],["T_STRING","_addError",422],"(",["T_STRING","sprintf",422],"(",["T_CONSTANT_ENCAPSED_STRING","'The \"cust_group\" value in the \"%s\" set is a required field.'",422],",",["T_WHITESPACE"," ",422],["T_VARIABLE","$fieldSet",422],")",")",";",["T_WHITESPACE","\n        ",422],"}",["T_WHITESPACE"," ",423],["T_ELSE","else",423],["T_WHITESPACE"," ",423],"{",["T_WHITESPACE","\n            ",423],["T_IF","if",424],["T_WHITESPACE"," ",424],"(","!",["T_STRING","is_numeric",424],"(",["T_VARIABLE","$data",424],"[",["T_CONSTANT_ENCAPSED_STRING","'cust_group'",424],"]",")",")",["T_WHITESPACE"," ",424],"{",["T_WHITESPACE","\n                ",424],["T_VARIABLE","$this",425],["T_OBJECT_OPERATOR","->",425],["T_STRING","_addError",425],"(",["T_STRING","sprintf",425],"(",["T_CONSTANT_ENCAPSED_STRING","'Invalid \"cust_group\" value in the \"%s\" set'",425],",",["T_WHITESPACE"," ",425],["T_VARIABLE","$fieldSet",425],")",")",";",["T_WHITESPACE","\n            ",425],"}",["T_WHITESPACE"," ",426],["T_ELSE","else",426],["T_WHITESPACE"," ",426],"{",["T_WHITESPACE","\n                ",426],["T_VARIABLE","$customerGroup",427],["T_WHITESPACE"," ",427],"=",["T_WHITESPACE"," ",427],["T_STRING","Mage",427],["T_DOUBLE_COLON","::",427],["T_STRING","getModel",427],"(",["T_CONSTANT_ENCAPSED_STRING","'customer\/group'",427],")",["T_OBJECT_OPERATOR","->",427],["T_STRING","load",427],"(",["T_VARIABLE","$data",427],"[",["T_CONSTANT_ENCAPSED_STRING","'cust_group'",427],"]",")",";",["T_WHITESPACE","\n                ",427],["T_IF","if",428],["T_WHITESPACE"," ",428],"(",["T_STRING","is_null",428],"(",["T_VARIABLE","$customerGroup",428],["T_OBJECT_OPERATOR","->",428],["T_STRING","getId",428],"(",")",")",")",["T_WHITESPACE"," ",428],"{",["T_WHITESPACE","\n                    ",428],["T_VARIABLE","$this",429],["T_OBJECT_OPERATOR","->",429],["T_STRING","_addError",429],"(",["T_STRING","sprintf",429],"(",["T_CONSTANT_ENCAPSED_STRING","'Invalid \"cust_group\" value in the \"%s\" set'",429],",",["T_WHITESPACE"," ",429],["T_VARIABLE","$fieldSet",429],")",")",";",["T_WHITESPACE","\n                ",429],"}",["T_WHITESPACE","\n            ",430],"}",["T_WHITESPACE","\n        ",431],"}",["T_WHITESPACE","\n    ",432],"}",["T_WHITESPACE","\n\n    ",433],["T_DOC_COMMENT","\/**\n     * Validate field to be positive number\n     *\n     * @param array $data\n     * @param string $fieldSet\n     * @param string $field\n     * @param bool $required\n     * @param bool $equalsZero\n     * @param bool $skipIfConfigValueUsed\n     *\/",435],["T_WHITESPACE","\n    ",444],["T_PROTECTED","protected",445],["T_WHITESPACE"," ",445],["T_FUNCTION","function",445],["T_WHITESPACE"," ",445],["T_STRING","_validatePositiveNumber",445],"(",["T_VARIABLE","$data",445],",",["T_WHITESPACE"," ",445],["T_VARIABLE","$fieldSet",445],",",["T_WHITESPACE"," ",445],["T_VARIABLE","$field",445],",",["T_WHITESPACE"," ",445],["T_VARIABLE","$required",445],["T_WHITESPACE"," ",445],"=",["T_WHITESPACE"," ",445],["T_STRING","true",445],",",["T_WHITESPACE"," ",445],["T_VARIABLE","$equalsZero",445],["T_WHITESPACE"," ",445],"=",["T_WHITESPACE"," ",445],["T_STRING","false",445],",",["T_WHITESPACE","\n        ",445],["T_VARIABLE","$skipIfConfigValueUsed",446],["T_WHITESPACE"," ",446],"=",["T_WHITESPACE"," ",446],["T_STRING","false",446],")",["T_WHITESPACE","\n    ",446],"{",["T_WHITESPACE","\n        ",447],["T_COMMENT","\/\/ in case when 'Use Config Settings' is selected no validation needed\n",448],["T_WHITESPACE","        ",449],["T_IF","if",449],["T_WHITESPACE"," ",449],"(","!","(",["T_VARIABLE","$skipIfConfigValueUsed",449],["T_WHITESPACE"," ",449],["T_BOOLEAN_AND","&&",449],["T_WHITESPACE"," ",449],["T_VARIABLE","$this",449],["T_OBJECT_OPERATOR","->",449],["T_STRING","_isConfigValueUsed",449],"(",["T_VARIABLE","$data",449],",",["T_WHITESPACE"," ",449],["T_VARIABLE","$field",449],")",")",")",["T_WHITESPACE"," ",449],"{",["T_WHITESPACE","\n            ",449],["T_IF","if",450],["T_WHITESPACE"," ",450],"(","!",["T_ISSET","isset",450],"(",["T_VARIABLE","$data",450],"[",["T_VARIABLE","$field",450],"]",")",["T_WHITESPACE"," ",450],["T_BOOLEAN_AND","&&",450],["T_WHITESPACE"," ",450],["T_VARIABLE","$required",450],")",["T_WHITESPACE"," ",450],"{",["T_WHITESPACE","\n                ",450],["T_VARIABLE","$this",451],["T_OBJECT_OPERATOR","->",451],["T_STRING","_addError",451],"(",["T_STRING","sprintf",451],"(",["T_CONSTANT_ENCAPSED_STRING","'The \"%s\" value in the \"%s\" set is a required field.'",451],",",["T_WHITESPACE"," ",451],["T_VARIABLE","$field",451],",",["T_WHITESPACE"," ",451],["T_VARIABLE","$fieldSet",451],")",")",";",["T_WHITESPACE","\n            ",451],"}",["T_WHITESPACE","\n\n            ",452],["T_IF","if",454],["T_WHITESPACE"," ",454],"(",["T_ISSET","isset",454],"(",["T_VARIABLE","$data",454],"[",["T_VARIABLE","$field",454],"]",")",")",["T_WHITESPACE"," ",454],"{",["T_WHITESPACE","\n                ",454],["T_VARIABLE","$isValid",455],["T_WHITESPACE"," ",455],"=",["T_WHITESPACE"," ",455],["T_VARIABLE","$equalsZero",455],["T_WHITESPACE"," ",455],"?",["T_WHITESPACE"," ",455],["T_VARIABLE","$data",455],"[",["T_VARIABLE","$field",455],"]",["T_WHITESPACE"," ",455],["T_IS_GREATER_OR_EQUAL",">=",455],["T_WHITESPACE"," ",455],["T_LNUMBER","0",455],["T_WHITESPACE"," ",455],":",["T_WHITESPACE"," ",455],["T_VARIABLE","$data",455],"[",["T_VARIABLE","$field",455],"]",["T_WHITESPACE"," ",455],">",["T_WHITESPACE"," ",455],["T_LNUMBER","0",455],";",["T_WHITESPACE","\n                ",455],["T_IF","if",456],["T_WHITESPACE"," ",456],"(","!","(",["T_STRING","is_numeric",456],"(",["T_VARIABLE","$data",456],"[",["T_VARIABLE","$field",456],"]",")",["T_WHITESPACE"," ",456],["T_BOOLEAN_AND","&&",456],["T_WHITESPACE"," ",456],["T_VARIABLE","$isValid",456],")",")",["T_WHITESPACE"," ",456],"{",["T_WHITESPACE","\n                    ",456],["T_VARIABLE","$message",457],["T_WHITESPACE"," ",457],"=",["T_WHITESPACE"," ",457],["T_VARIABLE","$equalsZero",457],["T_WHITESPACE","\n                        ",457],"?",["T_WHITESPACE"," ",458],["T_CONSTANT_ENCAPSED_STRING","'Please enter a number 0 or greater in the \"%s\" field in the \"%s\" set.'",458],["T_WHITESPACE","\n                        ",458],":",["T_WHITESPACE"," ",459],["T_CONSTANT_ENCAPSED_STRING","'Please enter a number greater than 0 in the \"%s\" field in the \"%s\" set.'",459],";",["T_WHITESPACE","\n                    ",459],["T_VARIABLE","$this",460],["T_OBJECT_OPERATOR","->",460],["T_STRING","_addError",460],"(",["T_STRING","sprintf",460],"(",["T_VARIABLE","$message",460],",",["T_WHITESPACE"," ",460],["T_VARIABLE","$field",460],",",["T_WHITESPACE"," ",460],["T_VARIABLE","$fieldSet",460],")",")",";",["T_WHITESPACE","\n                ",460],"}",["T_WHITESPACE","\n            ",461],"}",["T_WHITESPACE","\n        ",462],"}",["T_WHITESPACE","\n    ",463],"}",["T_WHITESPACE","\n\n    ",464],["T_DOC_COMMENT","\/**\n     * Validate field to be a positive number\n     *\n     * @param array $data\n     * @param string $fieldSet\n     * @param string $field\n     * @param bool $required\n     * @param bool $skipIfConfigValueUsed\n     *\/",466],["T_WHITESPACE","\n    ",474],["T_PROTECTED","protected",475],["T_WHITESPACE"," ",475],["T_FUNCTION","function",475],["T_WHITESPACE"," ",475],["T_STRING","_validatePositiveNumeric",475],"(",["T_VARIABLE","$data",475],",",["T_WHITESPACE"," ",475],["T_VARIABLE","$fieldSet",475],",",["T_WHITESPACE"," ",475],["T_VARIABLE","$field",475],",",["T_WHITESPACE"," ",475],["T_VARIABLE","$required",475],["T_WHITESPACE"," ",475],"=",["T_WHITESPACE"," ",475],["T_STRING","false",475],",",["T_WHITESPACE","\n        ",475],["T_VARIABLE","$skipIfConfigValueUsed",476],["T_WHITESPACE"," ",476],"=",["T_WHITESPACE"," ",476],["T_STRING","false",476],")",["T_WHITESPACE","\n    ",476],"{",["T_WHITESPACE","\n        ",477],["T_COMMENT","\/\/ in case when 'Use Config Settings' is selected no validation needed\n",478],["T_WHITESPACE","        ",479],["T_IF","if",479],["T_WHITESPACE"," ",479],"(","!","(",["T_VARIABLE","$skipIfConfigValueUsed",479],["T_WHITESPACE"," ",479],["T_BOOLEAN_AND","&&",479],["T_WHITESPACE"," ",479],["T_VARIABLE","$this",479],["T_OBJECT_OPERATOR","->",479],["T_STRING","_isConfigValueUsed",479],"(",["T_VARIABLE","$data",479],",",["T_WHITESPACE"," ",479],["T_VARIABLE","$field",479],")",")",")",["T_WHITESPACE"," ",479],"{",["T_WHITESPACE","\n            ",479],["T_IF","if",480],["T_WHITESPACE"," ",480],"(","!",["T_ISSET","isset",480],"(",["T_VARIABLE","$data",480],"[",["T_VARIABLE","$field",480],"]",")",["T_WHITESPACE"," ",480],["T_BOOLEAN_AND","&&",480],["T_WHITESPACE"," ",480],["T_VARIABLE","$required",480],")",["T_WHITESPACE"," ",480],"{",["T_WHITESPACE","\n                ",480],["T_VARIABLE","$this",481],["T_OBJECT_OPERATOR","->",481],["T_STRING","_addError",481],"(",["T_STRING","sprintf",481],"(",["T_CONSTANT_ENCAPSED_STRING","'The \"%s\" value in the \"%s\" set is a required field.'",481],",",["T_VARIABLE","$field",481],",",["T_WHITESPACE"," ",481],["T_VARIABLE","$fieldSet",481],")",")",";",["T_WHITESPACE","\n            ",481],"}",["T_WHITESPACE","\n\n            ",482],["T_IF","if",484],["T_WHITESPACE"," ",484],"(",["T_ISSET","isset",484],"(",["T_VARIABLE","$data",484],"[",["T_VARIABLE","$field",484],"]",")",["T_WHITESPACE"," ",484],["T_BOOLEAN_AND","&&",484],["T_WHITESPACE"," ",484],"(","!",["T_STRING","is_numeric",484],"(",["T_VARIABLE","$data",484],"[",["T_VARIABLE","$field",484],"]",")",["T_WHITESPACE"," ",484],["T_BOOLEAN_OR","||",484],["T_WHITESPACE"," ",484],["T_VARIABLE","$data",484],"[",["T_VARIABLE","$field",484],"]",["T_WHITESPACE"," ",484],"<",["T_WHITESPACE"," ",484],["T_LNUMBER","0",484],")",")",["T_WHITESPACE"," ",484],"{",["T_WHITESPACE","\n                ",484],["T_VARIABLE","$this",485],["T_OBJECT_OPERATOR","->",485],["T_STRING","_addError",485],"(",["T_STRING","sprintf",485],"(",["T_CONSTANT_ENCAPSED_STRING","'Please use numbers only in the \"%s\" field in the \"%s\" set. '",485],["T_WHITESPACE"," ",485],".",["T_WHITESPACE","\n                    ",485],["T_CONSTANT_ENCAPSED_STRING","'Please avoid spaces or other non numeric characters.'",486],",",["T_WHITESPACE"," ",486],["T_VARIABLE","$field",486],",",["T_WHITESPACE"," ",486],["T_VARIABLE","$fieldSet",486],")",")",";",["T_WHITESPACE","\n            ",486],"}",["T_WHITESPACE","\n        ",487],"}",["T_WHITESPACE","\n    ",488],"}",["T_WHITESPACE","\n\n    ",489],["T_DOC_COMMENT","\/**\n     * Validate field to be a number\n     *\n     * @param array $data\n     * @param string $fieldSet\n     * @param string $field\n     * @param bool $required\n     * @param bool $skipIfConfigValueUsed\n     *\/",491],["T_WHITESPACE","\n    ",499],["T_PROTECTED","protected",500],["T_WHITESPACE"," ",500],["T_FUNCTION","function",500],["T_WHITESPACE"," ",500],["T_STRING","_validateNumeric",500],"(",["T_VARIABLE","$data",500],",",["T_WHITESPACE"," ",500],["T_VARIABLE","$fieldSet",500],",",["T_WHITESPACE"," ",500],["T_VARIABLE","$field",500],",",["T_WHITESPACE"," ",500],["T_VARIABLE","$required",500],["T_WHITESPACE"," ",500],"=",["T_WHITESPACE"," ",500],["T_STRING","false",500],",",["T_WHITESPACE"," ",500],["T_VARIABLE","$skipIfConfigValueUsed",500],["T_WHITESPACE"," ",500],"=",["T_WHITESPACE"," ",500],["T_STRING","false",500],")",["T_WHITESPACE","\n    ",500],"{",["T_WHITESPACE","\n        ",501],["T_COMMENT","\/\/ in case when 'Use Config Settings' is selected no validation needed\n",502],["T_WHITESPACE","        ",503],["T_IF","if",503],["T_WHITESPACE"," ",503],"(","!","(",["T_VARIABLE","$skipIfConfigValueUsed",503],["T_WHITESPACE"," ",503],["T_BOOLEAN_AND","&&",503],["T_WHITESPACE"," ",503],["T_VARIABLE","$this",503],["T_OBJECT_OPERATOR","->",503],["T_STRING","_isConfigValueUsed",503],"(",["T_VARIABLE","$data",503],",",["T_WHITESPACE"," ",503],["T_VARIABLE","$field",503],")",")",")",["T_WHITESPACE"," ",503],"{",["T_WHITESPACE","\n            ",503],["T_IF","if",504],["T_WHITESPACE"," ",504],"(","!",["T_ISSET","isset",504],"(",["T_VARIABLE","$data",504],"[",["T_VARIABLE","$field",504],"]",")",["T_WHITESPACE"," ",504],["T_BOOLEAN_AND","&&",504],["T_WHITESPACE"," ",504],["T_VARIABLE","$required",504],")",["T_WHITESPACE"," ",504],"{",["T_WHITESPACE","\n                ",504],["T_VARIABLE","$this",505],["T_OBJECT_OPERATOR","->",505],["T_STRING","_addError",505],"(",["T_STRING","sprintf",505],"(",["T_CONSTANT_ENCAPSED_STRING","'The \"%s\" value in the \"%s\" set is a required field.'",505],",",["T_VARIABLE","$field",505],",",["T_WHITESPACE"," ",505],["T_VARIABLE","$fieldSet",505],")",")",";",["T_WHITESPACE","\n            ",505],"}",["T_WHITESPACE","\n\n            ",506],["T_IF","if",508],["T_WHITESPACE"," ",508],"(",["T_ISSET","isset",508],"(",["T_VARIABLE","$data",508],"[",["T_VARIABLE","$field",508],"]",")",["T_WHITESPACE"," ",508],["T_BOOLEAN_AND","&&",508],["T_WHITESPACE"," ",508],"!",["T_STRING","is_numeric",508],"(",["T_VARIABLE","$data",508],"[",["T_VARIABLE","$field",508],"]",")",")",["T_WHITESPACE"," ",508],"{",["T_WHITESPACE","\n                ",508],["T_VARIABLE","$this",509],["T_OBJECT_OPERATOR","->",509],["T_STRING","_addError",509],"(",["T_STRING","sprintf",509],"(",["T_CONSTANT_ENCAPSED_STRING","'Please enter a valid number in the \"%s\" field in the \"%s\" set.'",509],",",["T_WHITESPACE","\n                    ",509],["T_VARIABLE","$field",510],",",["T_WHITESPACE"," ",510],["T_VARIABLE","$fieldSet",510],")",")",";",["T_WHITESPACE","\n            ",510],"}",["T_WHITESPACE","\n        ",511],"}",["T_WHITESPACE","\n    ",512],"}",["T_WHITESPACE","\n\n    ",513],["T_DOC_COMMENT","\/**\n     * Validate dropdown fields value\n     *\n     * @param array $data\n     * @param string $fieldSet\n     * @param string $field\n     * @param string $sourceModelName\n     * @param bool $skipIfConfigValueUsed\n     *\/",515],["T_WHITESPACE","\n    ",523],["T_PROTECTED","protected",524],["T_WHITESPACE"," ",524],["T_FUNCTION","function",524],["T_WHITESPACE"," ",524],["T_STRING","_validateSource",524],"(",["T_VARIABLE","$data",524],",",["T_WHITESPACE"," ",524],["T_VARIABLE","$fieldSet",524],",",["T_WHITESPACE"," ",524],["T_VARIABLE","$field",524],",",["T_WHITESPACE"," ",524],["T_VARIABLE","$sourceModelName",524],",",["T_WHITESPACE"," ",524],["T_VARIABLE","$skipIfConfigValueUsed",524],["T_WHITESPACE"," ",524],"=",["T_WHITESPACE"," ",524],["T_STRING","false",524],")",["T_WHITESPACE","\n    ",524],"{",["T_WHITESPACE","\n        ",525],["T_COMMENT","\/\/ in case when 'Use Config Settings' is selected no validation needed\n",526],["T_WHITESPACE","        ",527],["T_IF","if",527],["T_WHITESPACE"," ",527],"(","!","(",["T_VARIABLE","$skipIfConfigValueUsed",527],["T_WHITESPACE"," ",527],["T_BOOLEAN_AND","&&",527],["T_WHITESPACE"," ",527],["T_VARIABLE","$this",527],["T_OBJECT_OPERATOR","->",527],["T_STRING","_isConfigValueUsed",527],"(",["T_VARIABLE","$data",527],",",["T_WHITESPACE"," ",527],["T_VARIABLE","$field",527],")",")",")",["T_WHITESPACE"," ",527],"{",["T_WHITESPACE","\n            ",527],["T_IF","if",528],["T_WHITESPACE"," ",528],"(",["T_ISSET","isset",528],"(",["T_VARIABLE","$data",528],"[",["T_VARIABLE","$field",528],"]",")",")",["T_WHITESPACE"," ",528],"{",["T_WHITESPACE","\n                ",528],["T_VARIABLE","$sourceModel",529],["T_WHITESPACE"," ",529],"=",["T_WHITESPACE"," ",529],["T_STRING","Mage",529],["T_DOUBLE_COLON","::",529],["T_STRING","getSingleton",529],"(",["T_VARIABLE","$sourceModelName",529],")",";",["T_WHITESPACE","\n                ",529],["T_IF","if",530],["T_WHITESPACE"," ",530],"(",["T_VARIABLE","$sourceModel",530],")",["T_WHITESPACE"," ",530],"{",["T_WHITESPACE","\n                    ",530],["T_VARIABLE","$allowedValues",531],["T_WHITESPACE"," ",531],"=",["T_WHITESPACE"," ",531],["T_VARIABLE","$this",531],["T_OBJECT_OPERATOR","->",531],["T_STRING","_getAttributeAllowedValues",531],"(",["T_VARIABLE","$sourceModel",531],["T_OBJECT_OPERATOR","->",531],["T_STRING","toOptionArray",531],"(",")",")",";",["T_WHITESPACE","\n                    ",531],["T_VARIABLE","$useStrictMode",532],["T_WHITESPACE"," ",532],"=",["T_WHITESPACE"," ",532],"!",["T_STRING","is_numeric",532],"(",["T_VARIABLE","$data",532],"[",["T_VARIABLE","$field",532],"]",")",";",["T_WHITESPACE","\n                    ",532],["T_IF","if",533],["T_WHITESPACE"," ",533],"(","!",["T_STRING","in_array",533],"(",["T_VARIABLE","$data",533],"[",["T_VARIABLE","$field",533],"]",",",["T_WHITESPACE"," ",533],["T_VARIABLE","$allowedValues",533],",",["T_WHITESPACE"," ",533],["T_VARIABLE","$useStrictMode",533],")",")",["T_WHITESPACE"," ",533],"{",["T_WHITESPACE","\n                        ",533],["T_VARIABLE","$this",534],["T_OBJECT_OPERATOR","->",534],["T_STRING","_addError",534],"(",["T_STRING","sprintf",534],"(",["T_CONSTANT_ENCAPSED_STRING","'Invalid \"%s\" value in the \"%s\" set.'",534],",",["T_WHITESPACE"," ",534],["T_VARIABLE","$field",534],",",["T_WHITESPACE"," ",534],["T_VARIABLE","$fieldSet",534],")",")",";",["T_WHITESPACE","\n                    ",534],"}",["T_WHITESPACE","\n                ",535],"}",["T_WHITESPACE","\n            ",536],"}",["T_WHITESPACE","\n        ",537],"}",["T_WHITESPACE","\n    ",538],"}",["T_WHITESPACE","\n\n    ",539],["T_DOC_COMMENT","\/**\n     * Validate bolean fields value\n     *\n     * @param array $data\n     * @param string $fieldSet\n     * @param string $field\n     * @param bool $skipIfConfigValueUsed\n     *\/",541],["T_WHITESPACE","\n    ",548],["T_PROTECTED","protected",549],["T_WHITESPACE"," ",549],["T_FUNCTION","function",549],["T_WHITESPACE"," ",549],["T_STRING","_validateBoolean",549],"(",["T_VARIABLE","$data",549],",",["T_WHITESPACE"," ",549],["T_VARIABLE","$fieldSet",549],",",["T_WHITESPACE"," ",549],["T_VARIABLE","$field",549],",",["T_WHITESPACE"," ",549],["T_VARIABLE","$skipIfConfigValueUsed",549],["T_WHITESPACE"," ",549],"=",["T_WHITESPACE"," ",549],["T_STRING","false",549],")",["T_WHITESPACE","\n    ",549],"{",["T_WHITESPACE","\n        ",550],["T_COMMENT","\/\/ in case when 'Use Config Settings' is selected no validation needed\n",551],["T_WHITESPACE","        ",552],["T_IF","if",552],["T_WHITESPACE"," ",552],"(","!","(",["T_VARIABLE","$skipIfConfigValueUsed",552],["T_WHITESPACE"," ",552],["T_BOOLEAN_AND","&&",552],["T_WHITESPACE"," ",552],["T_VARIABLE","$this",552],["T_OBJECT_OPERATOR","->",552],["T_STRING","_isConfigValueUsed",552],"(",["T_VARIABLE","$data",552],",",["T_WHITESPACE"," ",552],["T_VARIABLE","$field",552],")",")",")",["T_WHITESPACE"," ",552],"{",["T_WHITESPACE","\n            ",552],["T_IF","if",553],["T_WHITESPACE"," ",553],"(",["T_ISSET","isset",553],"(",["T_VARIABLE","$data",553],"[",["T_VARIABLE","$field",553],"]",")",")",["T_WHITESPACE"," ",553],"{",["T_WHITESPACE","\n                ",553],["T_VARIABLE","$allowedValues",554],["T_WHITESPACE"," ",554],"=",["T_WHITESPACE"," ",554],["T_VARIABLE","$this",554],["T_OBJECT_OPERATOR","->",554],["T_STRING","_getAttributeAllowedValues",554],"(",["T_WHITESPACE","\n                    ",554],["T_STRING","Mage",555],["T_DOUBLE_COLON","::",555],["T_STRING","getSingleton",555],"(",["T_CONSTANT_ENCAPSED_STRING","'eav\/entity_attribute_source_boolean'",555],")",["T_OBJECT_OPERATOR","->",555],["T_STRING","getAllOptions",555],"(",")",")",";",["T_WHITESPACE","\n                ",555],["T_VARIABLE","$useStrictMode",556],["T_WHITESPACE"," ",556],"=",["T_WHITESPACE"," ",556],"!",["T_STRING","is_numeric",556],"(",["T_VARIABLE","$data",556],"[",["T_VARIABLE","$field",556],"]",")",";",["T_WHITESPACE","\n                ",556],["T_IF","if",557],["T_WHITESPACE"," ",557],"(","!",["T_STRING","in_array",557],"(",["T_VARIABLE","$data",557],"[",["T_VARIABLE","$field",557],"]",",",["T_WHITESPACE"," ",557],["T_VARIABLE","$allowedValues",557],",",["T_WHITESPACE"," ",557],["T_VARIABLE","$useStrictMode",557],")",")",["T_WHITESPACE"," ",557],"{",["T_WHITESPACE","\n                    ",557],["T_VARIABLE","$this",558],["T_OBJECT_OPERATOR","->",558],["T_STRING","_addError",558],"(",["T_STRING","sprintf",558],"(",["T_CONSTANT_ENCAPSED_STRING","'Invalid \"%s\" value in the \"%s\" set.'",558],",",["T_WHITESPACE"," ",558],["T_VARIABLE","$field",558],",",["T_WHITESPACE"," ",558],["T_VARIABLE","$fieldSet",558],")",")",";",["T_WHITESPACE","\n                ",558],"}",["T_WHITESPACE","\n            ",559],"}",["T_WHITESPACE","\n        ",560],"}",["T_WHITESPACE","\n    ",561],"}",["T_WHITESPACE","\n\n    ",562],["T_DOC_COMMENT","\/**\n     * Retrieve all attribute allowed values from source model in plain array format\n     *\n     * @param array $options\n     * @return array\n     *\/",564],["T_WHITESPACE","\n    ",569],["T_PROTECTED","protected",570],["T_WHITESPACE"," ",570],["T_FUNCTION","function",570],["T_WHITESPACE"," ",570],["T_STRING","_getAttributeAllowedValues",570],"(",["T_ARRAY","array",570],["T_WHITESPACE"," ",570],["T_VARIABLE","$options",570],")",["T_WHITESPACE","\n    ",570],"{",["T_WHITESPACE","\n        ",571],["T_VARIABLE","$values",572],["T_WHITESPACE"," ",572],"=",["T_WHITESPACE"," ",572],["T_ARRAY","array",572],"(",")",";",["T_WHITESPACE","\n        ",572],["T_FOREACH","foreach",573],["T_WHITESPACE"," ",573],"(",["T_VARIABLE","$options",573],["T_WHITESPACE"," ",573],["T_AS","as",573],["T_WHITESPACE"," ",573],["T_VARIABLE","$option",573],")",["T_WHITESPACE"," ",573],"{",["T_WHITESPACE","\n            ",573],["T_IF","if",574],["T_WHITESPACE"," ",574],"(",["T_ISSET","isset",574],"(",["T_VARIABLE","$option",574],"[",["T_CONSTANT_ENCAPSED_STRING","'value'",574],"]",")",")",["T_WHITESPACE"," ",574],"{",["T_WHITESPACE","\n                ",574],["T_VARIABLE","$value",575],["T_WHITESPACE"," ",575],"=",["T_WHITESPACE"," ",575],["T_VARIABLE","$option",575],"[",["T_CONSTANT_ENCAPSED_STRING","'value'",575],"]",";",["T_WHITESPACE","\n                ",575],["T_IF","if",576],["T_WHITESPACE"," ",576],"(",["T_STRING","is_array",576],"(",["T_VARIABLE","$value",576],")",")",["T_WHITESPACE"," ",576],"{",["T_WHITESPACE","\n                    ",576],["T_VARIABLE","$values",577],["T_WHITESPACE"," ",577],"=",["T_WHITESPACE"," ",577],["T_STRING","array_merge",577],"(",["T_VARIABLE","$values",577],",",["T_WHITESPACE"," ",577],["T_VARIABLE","$this",577],["T_OBJECT_OPERATOR","->",577],["T_STRING","_getAttributeAllowedValues",577],"(",["T_VARIABLE","$value",577],")",")",";",["T_WHITESPACE","\n                ",577],"}",["T_WHITESPACE"," ",578],["T_ELSE","else",578],["T_WHITESPACE"," ",578],"{",["T_WHITESPACE","\n                    ",578],["T_VARIABLE","$values",579],"[","]",["T_WHITESPACE"," ",579],"=",["T_WHITESPACE"," ",579],["T_VARIABLE","$value",579],";",["T_WHITESPACE","\n                ",579],"}",["T_WHITESPACE","\n            ",580],"}",["T_WHITESPACE","\n        ",581],"}",["T_WHITESPACE","\n\n        ",582],["T_RETURN","return",584],["T_WHITESPACE"," ",584],["T_VARIABLE","$values",584],";",["T_WHITESPACE","\n    ",584],"}",["T_WHITESPACE","\n\n    ",585],["T_DOC_COMMENT","\/**\n     * Check if value from config is used\n     *\n     * @param array $data\n     * @param string $field\n     * @return bool\n     *\/",587],["T_WHITESPACE","\n    ",593],["T_PROTECTED","protected",594],["T_WHITESPACE"," ",594],["T_FUNCTION","function",594],["T_WHITESPACE"," ",594],["T_STRING","_isConfigValueUsed",594],"(",["T_VARIABLE","$data",594],",",["T_WHITESPACE"," ",594],["T_VARIABLE","$field",594],")",["T_WHITESPACE","\n    ",594],"{",["T_WHITESPACE","\n        ",595],["T_RETURN","return",596],["T_WHITESPACE"," ",596],["T_ISSET","isset",596],"(",["T_VARIABLE","$data",596],"[","\"",["T_ENCAPSED_AND_WHITESPACE","use_config_",596],["T_VARIABLE","$field",596],"\"","]",")",["T_WHITESPACE"," ",596],["T_BOOLEAN_AND","&&",596],["T_WHITESPACE"," ",596],["T_VARIABLE","$data",596],"[","\"",["T_ENCAPSED_AND_WHITESPACE","use_config_",596],["T_VARIABLE","$field",596],"\"","]",";",["T_WHITESPACE","\n    ",596],"}",["T_WHITESPACE","\n\n    ",597],["T_DOC_COMMENT","\/**\n     * Throw API2 exception\n     *\n     * @param string $message\n     * @param int $code\n     * @throws Mage_Api2_Exception\n     *\/",599],["T_WHITESPACE","\n    ",605],["T_PROTECTED","protected",606],["T_WHITESPACE"," ",606],["T_FUNCTION","function",606],["T_WHITESPACE"," ",606],["T_STRING","_critical",606],"(",["T_VARIABLE","$message",606],",",["T_WHITESPACE"," ",606],["T_VARIABLE","$code",606],")",["T_WHITESPACE","\n    ",606],"{",["T_WHITESPACE","\n        ",607],["T_THROW","throw",608],["T_WHITESPACE"," ",608],["T_NEW","new",608],["T_WHITESPACE"," ",608],["T_STRING","Mage_Api2_Exception",608],"(",["T_VARIABLE","$message",608],",",["T_WHITESPACE"," ",608],["T_VARIABLE","$code",608],")",";",["T_WHITESPACE","\n    ",608],"}",["T_WHITESPACE","\n",609],"}",["T_WHITESPACE","\n",610]]