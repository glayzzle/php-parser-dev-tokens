[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Magento\n *\n * NOTICE OF LICENSE\n *\n * This source file is subject to the Open Software License (OSL 3.0)\n * that is bundled with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/opensource.org\/licenses\/osl-3.0.php\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@magento.com so we can send you a copy immediately.\n *\n * DISCLAIMER\n *\n * Do not edit or add to this file if you wish to upgrade Magento to newer\n * versions in the future. If you wish to customize Magento for your\n * needs please refer to http:\/\/www.magento.com for more information.\n *\n * @category    Mage\n * @package     Mage_Catalog\n * @copyright  Copyright (c) 2006-2016 X.commerce, Inc. and affiliates (http:\/\/www.magento.com)\n * @license    http:\/\/opensource.org\/licenses\/osl-3.0.php  Open Software License (OSL 3.0)\n *\/",2],["T_WHITESPACE","\n\n\n",25],["T_DOC_COMMENT","\/**\n * Catalog EAV collection resource abstract model\n * Implement using diferent stores for retrieve attribute values\n *\n * @category    Mage\n * @package     Mage_Catalog\n * @author      Magento Core Team <core@magentocommerce.com>\n *\/",28],["T_WHITESPACE","\n",35],["T_CLASS","class",36],["T_WHITESPACE"," ",36],["T_STRING","Mage_Catalog_Model_Resource_Collection_Abstract",36],["T_WHITESPACE"," ",36],["T_EXTENDS","extends",36],["T_WHITESPACE"," ",36],["T_STRING","Mage_Eav_Model_Entity_Collection_Abstract",36],["T_WHITESPACE","\n",36],"{",["T_WHITESPACE","\n    ",37],["T_DOC_COMMENT","\/**\n     * Current scope (store Id)\n     *\n     * @var int\n     *\/",38],["T_WHITESPACE","\n    ",42],["T_PROTECTED","protected",43],["T_WHITESPACE"," ",43],["T_VARIABLE","$_storeId",43],";",["T_WHITESPACE","\n\n    ",43],["T_DOC_COMMENT","\/**\n     * Set store scope\n     *\n     * @param int|string|Mage_Core_Model_Store $store\n     * @return Mage_Catalog_Model_Resource_Collection_Abstract\n     *\/",45],["T_WHITESPACE","\n    ",50],["T_PUBLIC","public",51],["T_WHITESPACE"," ",51],["T_FUNCTION","function",51],["T_WHITESPACE"," ",51],["T_STRING","setStore",51],"(",["T_VARIABLE","$store",51],")",["T_WHITESPACE","\n    ",51],"{",["T_WHITESPACE","\n        ",52],["T_VARIABLE","$this",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","setStoreId",53],"(",["T_STRING","Mage",53],["T_DOUBLE_COLON","::",53],["T_STRING","app",53],"(",")",["T_OBJECT_OPERATOR","->",53],["T_STRING","getStore",53],"(",["T_VARIABLE","$store",53],")",["T_OBJECT_OPERATOR","->",53],["T_STRING","getId",53],"(",")",")",";",["T_WHITESPACE","\n        ",53],["T_RETURN","return",54],["T_WHITESPACE"," ",54],["T_VARIABLE","$this",54],";",["T_WHITESPACE","\n    ",54],"}",["T_WHITESPACE","\n\n    ",55],["T_DOC_COMMENT","\/**\n     * Set store scope\n     *\n     * @param int|string|Mage_Core_Model_Store $storeId\n     * @return Mage_Catalog_Model_Resource_Collection_Abstract\n     *\/",57],["T_WHITESPACE","\n    ",62],["T_PUBLIC","public",63],["T_WHITESPACE"," ",63],["T_FUNCTION","function",63],["T_WHITESPACE"," ",63],["T_STRING","setStoreId",63],"(",["T_VARIABLE","$storeId",63],")",["T_WHITESPACE","\n    ",63],"{",["T_WHITESPACE","\n        ",64],["T_IF","if",65],["T_WHITESPACE"," ",65],"(",["T_VARIABLE","$storeId",65],["T_WHITESPACE"," ",65],["T_INSTANCEOF","instanceof",65],["T_WHITESPACE"," ",65],["T_STRING","Mage_Core_Model_Store",65],")",["T_WHITESPACE"," ",65],"{",["T_WHITESPACE","\n            ",65],["T_VARIABLE","$storeId",66],["T_WHITESPACE"," ",66],"=",["T_WHITESPACE"," ",66],["T_VARIABLE","$storeId",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","getId",66],"(",")",";",["T_WHITESPACE","\n        ",66],"}",["T_WHITESPACE","\n        ",67],["T_VARIABLE","$this",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","_storeId",68],["T_WHITESPACE"," ",68],"=",["T_WHITESPACE"," ",68],["T_INT_CAST","(int)",68],["T_VARIABLE","$storeId",68],";",["T_WHITESPACE","\n        ",68],["T_RETURN","return",69],["T_WHITESPACE"," ",69],["T_VARIABLE","$this",69],";",["T_WHITESPACE","\n    ",69],"}",["T_WHITESPACE","\n\n    ",70],["T_DOC_COMMENT","\/**\n     * Return current store id\n     *\n     * @return int\n     *\/",72],["T_WHITESPACE","\n    ",76],["T_PUBLIC","public",77],["T_WHITESPACE"," ",77],["T_FUNCTION","function",77],["T_WHITESPACE"," ",77],["T_STRING","getStoreId",77],"(",")",["T_WHITESPACE","\n    ",77],"{",["T_WHITESPACE","\n        ",78],["T_IF","if",79],["T_WHITESPACE"," ",79],"(",["T_STRING","is_null",79],"(",["T_VARIABLE","$this",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","_storeId",79],")",")",["T_WHITESPACE"," ",79],"{",["T_WHITESPACE","\n            ",79],["T_VARIABLE","$this",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","setStoreId",80],"(",["T_STRING","Mage",80],["T_DOUBLE_COLON","::",80],["T_STRING","app",80],"(",")",["T_OBJECT_OPERATOR","->",80],["T_STRING","getStore",80],"(",")",["T_OBJECT_OPERATOR","->",80],["T_STRING","getId",80],"(",")",")",";",["T_WHITESPACE","\n        ",80],"}",["T_WHITESPACE","\n        ",81],["T_RETURN","return",82],["T_WHITESPACE"," ",82],["T_VARIABLE","$this",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","_storeId",82],";",["T_WHITESPACE","\n    ",82],"}",["T_WHITESPACE","\n\n    ",83],["T_DOC_COMMENT","\/**\n     * Retrieve default store id\n     *\n     * @return int\n     *\/",85],["T_WHITESPACE","\n    ",89],["T_PUBLIC","public",90],["T_WHITESPACE"," ",90],["T_FUNCTION","function",90],["T_WHITESPACE"," ",90],["T_STRING","getDefaultStoreId",90],"(",")",["T_WHITESPACE","\n    ",90],"{",["T_WHITESPACE","\n        ",91],["T_RETURN","return",92],["T_WHITESPACE"," ",92],["T_STRING","Mage_Catalog_Model_Abstract",92],["T_DOUBLE_COLON","::",92],["T_STRING","DEFAULT_STORE_ID",92],";",["T_WHITESPACE","\n    ",92],"}",["T_WHITESPACE","\n\n    ",93],["T_DOC_COMMENT","\/**\n     * Retrieve attributes load select\n     *\n     * @param string $table\n     * @param array|int $attributeIds\n     * @return Mage_Eav_Model_Entity_Collection_Abstract\n     *\/",95],["T_WHITESPACE","\n    ",101],["T_PROTECTED","protected",102],["T_WHITESPACE"," ",102],["T_FUNCTION","function",102],["T_WHITESPACE"," ",102],["T_STRING","_getLoadAttributesSelect",102],"(",["T_VARIABLE","$table",102],",",["T_WHITESPACE"," ",102],["T_VARIABLE","$attributeIds",102],["T_WHITESPACE"," ",102],"=",["T_WHITESPACE"," ",102],["T_ARRAY","array",102],"(",")",")",["T_WHITESPACE","\n    ",102],"{",["T_WHITESPACE","\n        ",103],["T_IF","if",104],["T_WHITESPACE"," ",104],"(",["T_EMPTY","empty",104],"(",["T_VARIABLE","$attributeIds",104],")",")",["T_WHITESPACE"," ",104],"{",["T_WHITESPACE","\n            ",104],["T_VARIABLE","$attributeIds",105],["T_WHITESPACE"," ",105],"=",["T_WHITESPACE"," ",105],["T_VARIABLE","$this",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","_selectAttributes",105],";",["T_WHITESPACE","\n        ",105],"}",["T_WHITESPACE","\n        ",106],["T_VARIABLE","$storeId",107],["T_WHITESPACE"," ",107],"=",["T_WHITESPACE"," ",107],["T_VARIABLE","$this",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","getStoreId",107],"(",")",";",["T_WHITESPACE","\n\n        ",107],["T_IF","if",109],["T_WHITESPACE"," ",109],"(",["T_VARIABLE","$storeId",109],")",["T_WHITESPACE"," ",109],"{",["T_WHITESPACE","\n\n            ",109],["T_VARIABLE","$adapter",111],["T_WHITESPACE","        ",111],"=",["T_WHITESPACE"," ",111],["T_VARIABLE","$this",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","getConnection",111],"(",")",";",["T_WHITESPACE","\n            ",111],["T_VARIABLE","$entityIdField",112],["T_WHITESPACE","  ",112],"=",["T_WHITESPACE"," ",112],["T_VARIABLE","$this",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","getEntity",112],"(",")",["T_OBJECT_OPERATOR","->",112],["T_STRING","getEntityIdField",112],"(",")",";",["T_WHITESPACE","\n            ",112],["T_VARIABLE","$joinCondition",113],["T_WHITESPACE","  ",113],"=",["T_WHITESPACE"," ",113],["T_ARRAY","array",113],"(",["T_WHITESPACE","\n                ",113],["T_CONSTANT_ENCAPSED_STRING","'t_s.attribute_id = t_d.attribute_id'",114],",",["T_WHITESPACE","\n                ",114],["T_CONSTANT_ENCAPSED_STRING","'t_s.entity_id = t_d.entity_id'",115],",",["T_WHITESPACE","\n                ",115],["T_VARIABLE","$adapter",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","quoteInto",116],"(",["T_CONSTANT_ENCAPSED_STRING","'t_s.store_id = ?'",116],",",["T_WHITESPACE"," ",116],["T_VARIABLE","$storeId",116],")",["T_WHITESPACE","\n            ",116],")",";",["T_WHITESPACE","\n            ",117],["T_VARIABLE","$select",118],["T_WHITESPACE"," ",118],"=",["T_WHITESPACE"," ",118],["T_VARIABLE","$adapter",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","select",118],"(",")",["T_WHITESPACE","\n                ",118],["T_OBJECT_OPERATOR","->",119],["T_STRING","from",119],"(",["T_ARRAY","array",119],"(",["T_CONSTANT_ENCAPSED_STRING","'t_d'",119],["T_WHITESPACE"," ",119],["T_DOUBLE_ARROW","=>",119],["T_WHITESPACE"," ",119],["T_VARIABLE","$table",119],")",",",["T_WHITESPACE"," ",119],["T_ARRAY","array",119],"(",["T_VARIABLE","$entityIdField",119],",",["T_WHITESPACE"," ",119],["T_CONSTANT_ENCAPSED_STRING","'attribute_id'",119],")",")",["T_WHITESPACE","\n                ",119],["T_OBJECT_OPERATOR","->",120],["T_STRING","joinLeft",120],"(",["T_WHITESPACE","\n                    ",120],["T_ARRAY","array",121],"(",["T_CONSTANT_ENCAPSED_STRING","'t_s'",121],["T_WHITESPACE"," ",121],["T_DOUBLE_ARROW","=>",121],["T_WHITESPACE"," ",121],["T_VARIABLE","$table",121],")",",",["T_WHITESPACE","\n                    ",121],["T_STRING","implode",122],"(",["T_CONSTANT_ENCAPSED_STRING","' AND '",122],",",["T_WHITESPACE"," ",122],["T_VARIABLE","$joinCondition",122],")",",",["T_WHITESPACE","\n                    ",122],["T_ARRAY","array",123],"(",")",")",["T_WHITESPACE","\n                ",123],["T_OBJECT_OPERATOR","->",124],["T_STRING","where",124],"(",["T_CONSTANT_ENCAPSED_STRING","'t_d.entity_type_id = ?'",124],",",["T_WHITESPACE"," ",124],["T_VARIABLE","$this",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","getEntity",124],"(",")",["T_OBJECT_OPERATOR","->",124],["T_STRING","getTypeId",124],"(",")",")",["T_WHITESPACE","\n                ",124],["T_OBJECT_OPERATOR","->",125],["T_STRING","where",125],"(","\"",["T_ENCAPSED_AND_WHITESPACE","t_d.",125],["T_CURLY_OPEN","{",125],["T_VARIABLE","$entityIdField",125],"}",["T_ENCAPSED_AND_WHITESPACE"," IN (?)",125],"\"",",",["T_WHITESPACE"," ",125],["T_STRING","array_keys",125],"(",["T_VARIABLE","$this",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","_itemsById",125],")",")",["T_WHITESPACE","\n                ",125],["T_OBJECT_OPERATOR","->",126],["T_STRING","where",126],"(",["T_CONSTANT_ENCAPSED_STRING","'t_d.attribute_id IN (?)'",126],",",["T_WHITESPACE"," ",126],["T_VARIABLE","$attributeIds",126],")",["T_WHITESPACE","\n                ",126],["T_OBJECT_OPERATOR","->",127],["T_STRING","where",127],"(",["T_CONSTANT_ENCAPSED_STRING","'t_d.store_id = ?'",127],",",["T_WHITESPACE"," ",127],["T_LNUMBER","0",127],")",";",["T_WHITESPACE","\n        ",127],"}",["T_WHITESPACE"," ",128],["T_ELSE","else",128],["T_WHITESPACE"," ",128],"{",["T_WHITESPACE","\n            ",128],["T_VARIABLE","$select",129],["T_WHITESPACE"," ",129],"=",["T_WHITESPACE"," ",129],["T_STRING","parent",129],["T_DOUBLE_COLON","::",129],["T_STRING","_getLoadAttributesSelect",129],"(",["T_VARIABLE","$table",129],")",["T_WHITESPACE","\n                ",129],["T_OBJECT_OPERATOR","->",130],["T_STRING","where",130],"(",["T_CONSTANT_ENCAPSED_STRING","'store_id = ?'",130],",",["T_WHITESPACE"," ",130],["T_VARIABLE","$this",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","getDefaultStoreId",130],"(",")",")",";",["T_WHITESPACE","\n        ",130],"}",["T_WHITESPACE","\n\n        ",131],["T_RETURN","return",133],["T_WHITESPACE"," ",133],["T_VARIABLE","$select",133],";",["T_WHITESPACE","\n    ",133],"}",["T_WHITESPACE","\n\n    ",134],["T_DOC_COMMENT","\/**\n     * @param Varien_Db_Select $select\n     * @param string $table\n     * @param string $type\n     * @return Varien_Db_Select\n     *\/",136],["T_WHITESPACE","\n    ",141],["T_PROTECTED","protected",142],["T_WHITESPACE"," ",142],["T_FUNCTION","function",142],["T_WHITESPACE"," ",142],["T_STRING","_addLoadAttributesSelectValues",142],"(",["T_VARIABLE","$select",142],",",["T_WHITESPACE"," ",142],["T_VARIABLE","$table",142],",",["T_WHITESPACE"," ",142],["T_VARIABLE","$type",142],")",["T_WHITESPACE","\n    ",142],"{",["T_WHITESPACE","\n        ",143],["T_VARIABLE","$storeId",144],["T_WHITESPACE"," ",144],"=",["T_WHITESPACE"," ",144],["T_VARIABLE","$this",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","getStoreId",144],"(",")",";",["T_WHITESPACE","\n        ",144],["T_IF","if",145],["T_WHITESPACE"," ",145],"(",["T_VARIABLE","$storeId",145],")",["T_WHITESPACE"," ",145],"{",["T_WHITESPACE","\n            ",145],["T_VARIABLE","$helper",146],["T_WHITESPACE"," ",146],"=",["T_WHITESPACE"," ",146],["T_STRING","Mage",146],["T_DOUBLE_COLON","::",146],["T_STRING","getResourceHelper",146],"(",["T_CONSTANT_ENCAPSED_STRING","'eav'",146],")",";",["T_WHITESPACE","\n            ",146],["T_VARIABLE","$adapter",147],["T_WHITESPACE","        ",147],"=",["T_WHITESPACE"," ",147],["T_VARIABLE","$this",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","getConnection",147],"(",")",";",["T_WHITESPACE","\n            ",147],["T_VARIABLE","$valueExpr",148],["T_WHITESPACE","      ",148],"=",["T_WHITESPACE"," ",148],["T_VARIABLE","$adapter",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","getCheckSql",148],"(",["T_WHITESPACE","\n                ",148],["T_CONSTANT_ENCAPSED_STRING","'t_s.value_id IS NULL'",149],",",["T_WHITESPACE","\n                ",149],["T_VARIABLE","$helper",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","prepareEavAttributeValue",150],"(",["T_CONSTANT_ENCAPSED_STRING","'t_d.value'",150],",",["T_WHITESPACE"," ",150],["T_VARIABLE","$type",150],")",",",["T_WHITESPACE","\n                ",150],["T_VARIABLE","$helper",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","prepareEavAttributeValue",151],"(",["T_CONSTANT_ENCAPSED_STRING","'t_s.value'",151],",",["T_WHITESPACE"," ",151],["T_VARIABLE","$type",151],")",["T_WHITESPACE","\n            ",151],")",";",["T_WHITESPACE","\n\n            ",152],["T_VARIABLE","$select",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","columns",154],"(",["T_ARRAY","array",154],"(",["T_WHITESPACE","\n                ",154],["T_CONSTANT_ENCAPSED_STRING","'default_value'",155],["T_WHITESPACE"," ",155],["T_DOUBLE_ARROW","=>",155],["T_WHITESPACE"," ",155],["T_VARIABLE","$helper",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","prepareEavAttributeValue",155],"(",["T_CONSTANT_ENCAPSED_STRING","'t_d.value'",155],",",["T_WHITESPACE"," ",155],["T_VARIABLE","$type",155],")",",",["T_WHITESPACE","\n                ",155],["T_CONSTANT_ENCAPSED_STRING","'store_value'",156],["T_WHITESPACE","   ",156],["T_DOUBLE_ARROW","=>",156],["T_WHITESPACE"," ",156],["T_VARIABLE","$helper",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","prepareEavAttributeValue",156],"(",["T_CONSTANT_ENCAPSED_STRING","'t_s.value'",156],",",["T_WHITESPACE"," ",156],["T_VARIABLE","$type",156],")",",",["T_WHITESPACE","\n                ",156],["T_CONSTANT_ENCAPSED_STRING","'value'",157],["T_WHITESPACE","         ",157],["T_DOUBLE_ARROW","=>",157],["T_WHITESPACE"," ",157],["T_VARIABLE","$valueExpr",157],["T_WHITESPACE","\n            ",157],")",")",";",["T_WHITESPACE","\n        ",158],"}",["T_WHITESPACE"," ",159],["T_ELSE","else",159],["T_WHITESPACE"," ",159],"{",["T_WHITESPACE","\n            ",159],["T_VARIABLE","$select",160],["T_WHITESPACE"," ",160],"=",["T_WHITESPACE"," ",160],["T_STRING","parent",160],["T_DOUBLE_COLON","::",160],["T_STRING","_addLoadAttributesSelectValues",160],"(",["T_VARIABLE","$select",160],",",["T_WHITESPACE"," ",160],["T_VARIABLE","$table",160],",",["T_WHITESPACE"," ",160],["T_VARIABLE","$type",160],")",";",["T_WHITESPACE","\n        ",160],"}",["T_WHITESPACE","\n        ",161],["T_RETURN","return",162],["T_WHITESPACE"," ",162],["T_VARIABLE","$select",162],";",["T_WHITESPACE","\n    ",162],"}",["T_WHITESPACE","\n\n    ",163],["T_DOC_COMMENT","\/**\n     * Adding join statement to collection select instance\n     *\n     * @param string $method\n     * @param object $attribute\n     * @param string $tableAlias\n     * @param array $condition\n     * @param string $fieldCode\n     * @param string $fieldAlias\n     * @return Mage_Eav_Model_Entity_Collection_Abstract\n     *\/",165],["T_WHITESPACE","\n    ",175],["T_PROTECTED","protected",176],["T_WHITESPACE"," ",176],["T_FUNCTION","function",176],["T_WHITESPACE"," ",176],["T_STRING","_joinAttributeToSelect",176],"(",["T_VARIABLE","$method",176],",",["T_WHITESPACE"," ",176],["T_VARIABLE","$attribute",176],",",["T_WHITESPACE"," ",176],["T_VARIABLE","$tableAlias",176],",",["T_WHITESPACE"," ",176],["T_VARIABLE","$condition",176],",",["T_WHITESPACE"," ",176],["T_VARIABLE","$fieldCode",176],",",["T_WHITESPACE"," ",176],["T_VARIABLE","$fieldAlias",176],")",["T_WHITESPACE","\n    ",176],"{",["T_WHITESPACE","\n        ",177],["T_IF","if",178],["T_WHITESPACE"," ",178],"(",["T_ISSET","isset",178],"(",["T_VARIABLE","$this",178],["T_OBJECT_OPERATOR","->",178],["T_STRING","_joinAttributes",178],"[",["T_VARIABLE","$fieldCode",178],"]","[",["T_CONSTANT_ENCAPSED_STRING","'store_id'",178],"]",")",")",["T_WHITESPACE"," ",178],"{",["T_WHITESPACE","\n            ",178],["T_VARIABLE","$store_id",179],["T_WHITESPACE"," ",179],"=",["T_WHITESPACE"," ",179],["T_VARIABLE","$this",179],["T_OBJECT_OPERATOR","->",179],["T_STRING","_joinAttributes",179],"[",["T_VARIABLE","$fieldCode",179],"]","[",["T_CONSTANT_ENCAPSED_STRING","'store_id'",179],"]",";",["T_WHITESPACE","\n        ",179],"}",["T_WHITESPACE"," ",180],["T_ELSE","else",180],["T_WHITESPACE"," ",180],"{",["T_WHITESPACE","\n            ",180],["T_VARIABLE","$store_id",181],["T_WHITESPACE"," ",181],"=",["T_WHITESPACE"," ",181],["T_VARIABLE","$this",181],["T_OBJECT_OPERATOR","->",181],["T_STRING","getStoreId",181],"(",")",";",["T_WHITESPACE","\n        ",181],"}",["T_WHITESPACE","\n\n        ",182],["T_VARIABLE","$adapter",184],["T_WHITESPACE"," ",184],"=",["T_WHITESPACE"," ",184],["T_VARIABLE","$this",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","getConnection",184],"(",")",";",["T_WHITESPACE","\n\n        ",184],["T_IF","if",186],["T_WHITESPACE"," ",186],"(",["T_VARIABLE","$store_id",186],["T_WHITESPACE"," ",186],["T_IS_NOT_EQUAL","!=",186],["T_WHITESPACE"," ",186],["T_VARIABLE","$this",186],["T_OBJECT_OPERATOR","->",186],["T_STRING","getDefaultStoreId",186],"(",")",["T_WHITESPACE"," ",186],["T_BOOLEAN_AND","&&",186],["T_WHITESPACE"," ",186],"!",["T_VARIABLE","$attribute",186],["T_OBJECT_OPERATOR","->",186],["T_STRING","isScopeGlobal",186],"(",")",")",["T_WHITESPACE"," ",186],"{",["T_WHITESPACE","\n            ",186],["T_DOC_COMMENT","\/**\n             * Add joining default value for not default store\n             * if value for store is null - we use default value\n             *\/",187],["T_WHITESPACE","\n            ",190],["T_VARIABLE","$defCondition",191],["T_WHITESPACE"," ",191],"=",["T_WHITESPACE"," ",191],["T_CONSTANT_ENCAPSED_STRING","'('",191],".",["T_STRING","implode",191],"(",["T_CONSTANT_ENCAPSED_STRING","') AND ('",191],",",["T_WHITESPACE"," ",191],["T_VARIABLE","$condition",191],")",".",["T_CONSTANT_ENCAPSED_STRING","')'",191],";",["T_WHITESPACE","\n            ",191],["T_VARIABLE","$defAlias",192],["T_WHITESPACE","     ",192],"=",["T_WHITESPACE"," ",192],["T_VARIABLE","$tableAlias",192],["T_WHITESPACE"," ",192],".",["T_WHITESPACE"," ",192],["T_CONSTANT_ENCAPSED_STRING","'_default'",192],";",["T_WHITESPACE","\n            ",192],["T_VARIABLE","$defAlias",193],["T_WHITESPACE","     ",193],"=",["T_WHITESPACE"," ",193],["T_VARIABLE","$this",193],["T_OBJECT_OPERATOR","->",193],["T_STRING","getConnection",193],"(",")",["T_OBJECT_OPERATOR","->",193],["T_STRING","getTableName",193],"(",["T_VARIABLE","$defAlias",193],")",";",["T_WHITESPACE","\n            ",193],["T_VARIABLE","$defFieldAlias",194],"=",["T_WHITESPACE"," ",194],["T_STRING","str_replace",194],"(",["T_VARIABLE","$tableAlias",194],",",["T_WHITESPACE"," ",194],["T_VARIABLE","$defAlias",194],",",["T_WHITESPACE"," ",194],["T_VARIABLE","$fieldAlias",194],")",";",["T_WHITESPACE","\n            ",194],["T_VARIABLE","$tableAlias",195],["T_WHITESPACE","   ",195],"=",["T_WHITESPACE"," ",195],["T_VARIABLE","$this",195],["T_OBJECT_OPERATOR","->",195],["T_STRING","getConnection",195],"(",")",["T_OBJECT_OPERATOR","->",195],["T_STRING","getTableName",195],"(",["T_VARIABLE","$tableAlias",195],")",";",["T_WHITESPACE","\n\n            ",195],["T_VARIABLE","$defCondition",197],["T_WHITESPACE"," ",197],"=",["T_WHITESPACE"," ",197],["T_STRING","str_replace",197],"(",["T_VARIABLE","$tableAlias",197],",",["T_WHITESPACE"," ",197],["T_VARIABLE","$defAlias",197],",",["T_WHITESPACE"," ",197],["T_VARIABLE","$defCondition",197],")",";",["T_WHITESPACE","\n            ",197],["T_VARIABLE","$defCondition",198],["T_CONCAT_EQUAL",".=",198],["T_WHITESPACE"," ",198],["T_VARIABLE","$adapter",198],["T_OBJECT_OPERATOR","->",198],["T_STRING","quoteInto",198],"(",["T_WHITESPACE","\n                ",198],["T_CONSTANT_ENCAPSED_STRING","\" AND \"",199],["T_WHITESPACE"," ",199],".",["T_WHITESPACE"," ",199],["T_VARIABLE","$adapter",199],["T_OBJECT_OPERATOR","->",199],["T_STRING","quoteColumnAs",199],"(","\"",["T_VARIABLE","$defAlias",199],["T_ENCAPSED_AND_WHITESPACE",".store_id",199],"\"",",",["T_WHITESPACE"," ",199],["T_STRING","null",199],")",["T_WHITESPACE"," ",199],".",["T_WHITESPACE"," ",199],["T_CONSTANT_ENCAPSED_STRING","\" = ?\"",199],",",["T_WHITESPACE","\n                ",199],["T_VARIABLE","$this",200],["T_OBJECT_OPERATOR","->",200],["T_STRING","getDefaultStoreId",200],"(",")",")",";",["T_WHITESPACE","\n\n            ",200],["T_VARIABLE","$this",202],["T_OBJECT_OPERATOR","->",202],["T_STRING","getSelect",202],"(",")",["T_OBJECT_OPERATOR","->",202],["T_VARIABLE","$method",202],"(",["T_WHITESPACE","\n                ",202],["T_ARRAY","array",203],"(",["T_VARIABLE","$defAlias",203],["T_WHITESPACE"," ",203],["T_DOUBLE_ARROW","=>",203],["T_WHITESPACE"," ",203],["T_VARIABLE","$attribute",203],["T_OBJECT_OPERATOR","->",203],["T_STRING","getBackend",203],"(",")",["T_OBJECT_OPERATOR","->",203],["T_STRING","getTable",203],"(",")",")",",",["T_WHITESPACE","\n                ",203],["T_VARIABLE","$defCondition",204],",",["T_WHITESPACE","\n                ",204],["T_ARRAY","array",205],"(",")",["T_WHITESPACE","\n            ",205],")",";",["T_WHITESPACE","\n\n            ",206],["T_VARIABLE","$method",208],["T_WHITESPACE"," ",208],"=",["T_WHITESPACE"," ",208],["T_CONSTANT_ENCAPSED_STRING","'joinLeft'",208],";",["T_WHITESPACE","\n            ",208],["T_VARIABLE","$fieldAlias",209],["T_WHITESPACE"," ",209],"=",["T_WHITESPACE"," ",209],["T_VARIABLE","$this",209],["T_OBJECT_OPERATOR","->",209],["T_STRING","getConnection",209],"(",")",["T_OBJECT_OPERATOR","->",209],["T_STRING","getCheckSql",209],"(","\"",["T_CURLY_OPEN","{",209],["T_VARIABLE","$tableAlias",209],"}",["T_ENCAPSED_AND_WHITESPACE",".value_id > 0",209],"\"",",",["T_WHITESPACE","\n                ",209],["T_VARIABLE","$fieldAlias",210],",",["T_WHITESPACE"," ",210],["T_VARIABLE","$defFieldAlias",210],")",";",["T_WHITESPACE","\n            ",210],["T_VARIABLE","$this",211],["T_OBJECT_OPERATOR","->",211],["T_STRING","_joinAttributes",211],"[",["T_VARIABLE","$fieldCode",211],"]","[",["T_CONSTANT_ENCAPSED_STRING","'condition_alias'",211],"]",["T_WHITESPACE"," ",211],"=",["T_WHITESPACE"," ",211],["T_VARIABLE","$fieldAlias",211],";",["T_WHITESPACE","\n            ",211],["T_VARIABLE","$this",212],["T_OBJECT_OPERATOR","->",212],["T_STRING","_joinAttributes",212],"[",["T_VARIABLE","$fieldCode",212],"]","[",["T_CONSTANT_ENCAPSED_STRING","'attribute'",212],"]",["T_WHITESPACE","       ",212],"=",["T_WHITESPACE"," ",212],["T_VARIABLE","$attribute",212],";",["T_WHITESPACE","\n        ",212],"}",["T_WHITESPACE"," ",213],["T_ELSE","else",213],["T_WHITESPACE"," ",213],"{",["T_WHITESPACE","\n            ",213],["T_VARIABLE","$store_id",214],["T_WHITESPACE"," ",214],"=",["T_WHITESPACE"," ",214],["T_VARIABLE","$this",214],["T_OBJECT_OPERATOR","->",214],["T_STRING","getDefaultStoreId",214],"(",")",";",["T_WHITESPACE","\n        ",214],"}",["T_WHITESPACE","\n        ",215],["T_VARIABLE","$condition",216],"[","]",["T_WHITESPACE"," ",216],"=",["T_WHITESPACE"," ",216],["T_VARIABLE","$adapter",216],["T_OBJECT_OPERATOR","->",216],["T_STRING","quoteInto",216],"(",["T_WHITESPACE","\n            ",216],["T_VARIABLE","$adapter",217],["T_OBJECT_OPERATOR","->",217],["T_STRING","quoteColumnAs",217],"(","\"",["T_VARIABLE","$tableAlias",217],["T_ENCAPSED_AND_WHITESPACE",".store_id",217],"\"",",",["T_WHITESPACE"," ",217],["T_STRING","null",217],")",["T_WHITESPACE"," ",217],".",["T_WHITESPACE"," ",217],["T_CONSTANT_ENCAPSED_STRING","' = ?'",217],",",["T_WHITESPACE"," ",217],["T_VARIABLE","$store_id",217],")",";",["T_WHITESPACE","\n        ",217],["T_RETURN","return",218],["T_WHITESPACE"," ",218],["T_STRING","parent",218],["T_DOUBLE_COLON","::",218],["T_STRING","_joinAttributeToSelect",218],"(",["T_VARIABLE","$method",218],",",["T_WHITESPACE"," ",218],["T_VARIABLE","$attribute",218],",",["T_WHITESPACE"," ",218],["T_VARIABLE","$tableAlias",218],",",["T_WHITESPACE"," ",218],["T_VARIABLE","$condition",218],",",["T_WHITESPACE"," ",218],["T_VARIABLE","$fieldCode",218],",",["T_WHITESPACE"," ",218],["T_VARIABLE","$fieldAlias",218],")",";",["T_WHITESPACE","\n    ",218],"}",["T_WHITESPACE","\n",219],"}",["T_WHITESPACE","\n",220]]