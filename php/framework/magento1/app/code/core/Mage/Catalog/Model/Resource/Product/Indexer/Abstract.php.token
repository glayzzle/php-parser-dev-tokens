[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Magento\n *\n * NOTICE OF LICENSE\n *\n * This source file is subject to the Open Software License (OSL 3.0)\n * that is bundled with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/opensource.org\/licenses\/osl-3.0.php\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@magento.com so we can send you a copy immediately.\n *\n * DISCLAIMER\n *\n * Do not edit or add to this file if you wish to upgrade Magento to newer\n * versions in the future. If you wish to customize Magento for your\n * needs please refer to http:\/\/www.magento.com for more information.\n *\n * @category    Mage\n * @package     Mage_Catalog\n * @copyright  Copyright (c) 2006-2016 X.commerce, Inc. and affiliates (http:\/\/www.magento.com)\n * @license    http:\/\/opensource.org\/licenses\/osl-3.0.php  Open Software License (OSL 3.0)\n *\/",2],["T_WHITESPACE","\n\n\n",25],["T_DOC_COMMENT","\/**\n * Catalog Product Indexer Abstract Resource Model\n *\n * @category    Mage\n * @package     Mage_Catalog\n * @author      Magento Core Team <core@magentocommerce.com>\n *\/",28],["T_WHITESPACE","\n",34],["T_ABSTRACT","abstract",35],["T_WHITESPACE"," ",35],["T_CLASS","class",35],["T_WHITESPACE"," ",35],["T_STRING","Mage_Catalog_Model_Resource_Product_Indexer_Abstract",35],["T_WHITESPACE"," ",35],["T_EXTENDS","extends",35],["T_WHITESPACE"," ",35],["T_STRING","Mage_Index_Model_Resource_Abstract",35],["T_WHITESPACE","\n",35],"{",["T_WHITESPACE","\n    ",36],["T_DOC_COMMENT","\/**\n     * Retrieve catalog_product attribute instance by attribute code\n     *\n     * @param string $attributeCode\n     * @return Mage_Catalog_Model_Resource_Eav_Attribute\n     *\/",37],["T_WHITESPACE","\n    ",42],["T_PROTECTED","protected",43],["T_WHITESPACE"," ",43],["T_FUNCTION","function",43],["T_WHITESPACE"," ",43],["T_STRING","_getAttribute",43],"(",["T_VARIABLE","$attributeCode",43],")",["T_WHITESPACE","\n    ",43],"{",["T_WHITESPACE","\n        ",44],["T_RETURN","return",45],["T_WHITESPACE"," ",45],["T_STRING","Mage",45],["T_DOUBLE_COLON","::",45],["T_STRING","getSingleton",45],"(",["T_CONSTANT_ENCAPSED_STRING","'eav\/config'",45],")",["T_OBJECT_OPERATOR","->",45],["T_STRING","getAttribute",45],"(",["T_STRING","Mage_Catalog_Model_Product",45],["T_DOUBLE_COLON","::",45],["T_STRING","ENTITY",45],",",["T_WHITESPACE"," ",45],["T_VARIABLE","$attributeCode",45],")",";",["T_WHITESPACE","\n    ",45],"}",["T_WHITESPACE","\n\n    ",46],["T_DOC_COMMENT","\/**\n     * Add attribute join condition to select and return Zend_Db_Expr\n     * attribute value definition\n     * If $condition is not empty apply limitation for select\n     *\n     * @param Varien_Db_Select $select\n     * @param string $attrCode              the attribute code\n     * @param string|Zend_Db_Expr $entity   the entity field or expression for condition\n     * @param string|Zend_Db_Expr $store    the store field or expression for condition\n     * @param Zend_Db_Expr $condition       the limitation condition\n     * @param bool $required                if required or has condition used INNER join, else - LEFT\n     * @return Zend_Db_Expr                 the attribute value expression\n     *\/",48],["T_WHITESPACE","\n    ",60],["T_PROTECTED","protected",61],["T_WHITESPACE"," ",61],["T_FUNCTION","function",61],["T_WHITESPACE"," ",61],["T_STRING","_addAttributeToSelect",61],"(",["T_VARIABLE","$select",61],",",["T_WHITESPACE"," ",61],["T_VARIABLE","$attrCode",61],",",["T_WHITESPACE"," ",61],["T_VARIABLE","$entity",61],",",["T_WHITESPACE"," ",61],["T_VARIABLE","$store",61],",",["T_WHITESPACE"," ",61],["T_VARIABLE","$condition",61],["T_WHITESPACE"," ",61],"=",["T_WHITESPACE"," ",61],["T_STRING","null",61],",",["T_WHITESPACE"," ",61],["T_VARIABLE","$required",61],["T_WHITESPACE"," ",61],"=",["T_WHITESPACE"," ",61],["T_STRING","false",61],")",["T_WHITESPACE","\n    ",61],"{",["T_WHITESPACE","\n        ",62],["T_VARIABLE","$attribute",63],["T_WHITESPACE","      ",63],"=",["T_WHITESPACE"," ",63],["T_VARIABLE","$this",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","_getAttribute",63],"(",["T_VARIABLE","$attrCode",63],")",";",["T_WHITESPACE","\n        ",63],["T_VARIABLE","$attributeId",64],["T_WHITESPACE","    ",64],"=",["T_WHITESPACE"," ",64],["T_VARIABLE","$attribute",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","getAttributeId",64],"(",")",";",["T_WHITESPACE","\n        ",64],["T_VARIABLE","$attributeTable",65],["T_WHITESPACE"," ",65],"=",["T_WHITESPACE"," ",65],["T_VARIABLE","$attribute",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","getBackend",65],"(",")",["T_OBJECT_OPERATOR","->",65],["T_STRING","getTable",65],"(",")",";",["T_WHITESPACE","\n        ",65],["T_VARIABLE","$adapter",66],["T_WHITESPACE","        ",66],"=",["T_WHITESPACE"," ",66],["T_VARIABLE","$this",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","_getReadAdapter",66],"(",")",";",["T_WHITESPACE","\n        ",66],["T_VARIABLE","$joinType",67],["T_WHITESPACE","       ",67],"=",["T_WHITESPACE"," ",67],"!",["T_STRING","is_null",67],"(",["T_VARIABLE","$condition",67],")",["T_WHITESPACE"," ",67],["T_BOOLEAN_OR","||",67],["T_WHITESPACE"," ",67],["T_VARIABLE","$required",67],["T_WHITESPACE"," ",67],"?",["T_WHITESPACE"," ",67],["T_CONSTANT_ENCAPSED_STRING","'join'",67],["T_WHITESPACE"," ",67],":",["T_WHITESPACE"," ",67],["T_CONSTANT_ENCAPSED_STRING","'joinLeft'",67],";",["T_WHITESPACE","\n\n        ",67],["T_IF","if",69],["T_WHITESPACE"," ",69],"(",["T_VARIABLE","$attribute",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","isScopeGlobal",69],"(",")",")",["T_WHITESPACE"," ",69],"{",["T_WHITESPACE","\n            ",69],["T_VARIABLE","$alias",70],["T_WHITESPACE"," ",70],"=",["T_WHITESPACE"," ",70],["T_CONSTANT_ENCAPSED_STRING","'ta_'",70],["T_WHITESPACE"," ",70],".",["T_WHITESPACE"," ",70],["T_VARIABLE","$attrCode",70],";",["T_WHITESPACE","\n            ",70],["T_VARIABLE","$select",71],["T_OBJECT_OPERATOR","->",71],["T_VARIABLE","$joinType",71],"(",["T_WHITESPACE","\n                ",71],["T_ARRAY","array",72],"(",["T_VARIABLE","$alias",72],["T_WHITESPACE"," ",72],["T_DOUBLE_ARROW","=>",72],["T_WHITESPACE"," ",72],["T_VARIABLE","$attributeTable",72],")",",",["T_WHITESPACE","\n                ",72],"\"",["T_CURLY_OPEN","{",73],["T_VARIABLE","$alias",73],"}",["T_ENCAPSED_AND_WHITESPACE",".entity_id = ",73],["T_CURLY_OPEN","{",73],["T_VARIABLE","$entity",73],"}",["T_ENCAPSED_AND_WHITESPACE"," AND ",73],["T_CURLY_OPEN","{",73],["T_VARIABLE","$alias",73],"}",["T_ENCAPSED_AND_WHITESPACE",".attribute_id = ",73],["T_CURLY_OPEN","{",73],["T_VARIABLE","$attributeId",73],"}","\"",["T_WHITESPACE","\n                    ",73],".",["T_WHITESPACE"," ",74],"\"",["T_ENCAPSED_AND_WHITESPACE"," AND ",74],["T_CURLY_OPEN","{",74],["T_VARIABLE","$alias",74],"}",["T_ENCAPSED_AND_WHITESPACE",".store_id = 0",74],"\"",",",["T_WHITESPACE","\n                ",74],["T_ARRAY","array",75],"(",")",["T_WHITESPACE","\n            ",75],")",";",["T_WHITESPACE","\n            ",76],["T_VARIABLE","$expression",77],["T_WHITESPACE"," ",77],"=",["T_WHITESPACE"," ",77],["T_NEW","new",77],["T_WHITESPACE"," ",77],["T_STRING","Zend_Db_Expr",77],"(","\"",["T_CURLY_OPEN","{",77],["T_VARIABLE","$alias",77],"}",["T_ENCAPSED_AND_WHITESPACE",".value",77],"\"",")",";",["T_WHITESPACE","\n        ",77],"}",["T_WHITESPACE"," ",78],["T_ELSE","else",78],["T_WHITESPACE"," ",78],"{",["T_WHITESPACE","\n            ",78],["T_VARIABLE","$dAlias",79],["T_WHITESPACE"," ",79],"=",["T_WHITESPACE"," ",79],["T_CONSTANT_ENCAPSED_STRING","'tad_'",79],["T_WHITESPACE"," ",79],".",["T_WHITESPACE"," ",79],["T_VARIABLE","$attrCode",79],";",["T_WHITESPACE","\n            ",79],["T_VARIABLE","$sAlias",80],["T_WHITESPACE"," ",80],"=",["T_WHITESPACE"," ",80],["T_CONSTANT_ENCAPSED_STRING","'tas_'",80],["T_WHITESPACE"," ",80],".",["T_WHITESPACE"," ",80],["T_VARIABLE","$attrCode",80],";",["T_WHITESPACE","\n\n            ",80],["T_VARIABLE","$select",82],["T_OBJECT_OPERATOR","->",82],["T_VARIABLE","$joinType",82],"(",["T_WHITESPACE","\n                ",82],["T_ARRAY","array",83],"(",["T_VARIABLE","$dAlias",83],["T_WHITESPACE"," ",83],["T_DOUBLE_ARROW","=>",83],["T_WHITESPACE"," ",83],["T_VARIABLE","$attributeTable",83],")",",",["T_WHITESPACE","\n                ",83],"\"",["T_CURLY_OPEN","{",84],["T_VARIABLE","$dAlias",84],"}",["T_ENCAPSED_AND_WHITESPACE",".entity_id = ",84],["T_CURLY_OPEN","{",84],["T_VARIABLE","$entity",84],"}",["T_ENCAPSED_AND_WHITESPACE"," AND ",84],["T_CURLY_OPEN","{",84],["T_VARIABLE","$dAlias",84],"}",["T_ENCAPSED_AND_WHITESPACE",".attribute_id = ",84],["T_CURLY_OPEN","{",84],["T_VARIABLE","$attributeId",84],"}","\"",["T_WHITESPACE","\n                    ",84],".",["T_WHITESPACE"," ",85],"\"",["T_ENCAPSED_AND_WHITESPACE"," AND ",85],["T_CURLY_OPEN","{",85],["T_VARIABLE","$dAlias",85],"}",["T_ENCAPSED_AND_WHITESPACE",".store_id = 0",85],"\"",",",["T_WHITESPACE","\n                ",85],["T_ARRAY","array",86],"(",")",["T_WHITESPACE","\n            ",86],")",";",["T_WHITESPACE","\n            ",87],["T_VARIABLE","$select",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","joinLeft",88],"(",["T_WHITESPACE","\n                ",88],["T_ARRAY","array",89],"(",["T_VARIABLE","$sAlias",89],["T_WHITESPACE"," ",89],["T_DOUBLE_ARROW","=>",89],["T_WHITESPACE"," ",89],["T_VARIABLE","$attributeTable",89],")",",",["T_WHITESPACE","\n                ",89],"\"",["T_CURLY_OPEN","{",90],["T_VARIABLE","$sAlias",90],"}",["T_ENCAPSED_AND_WHITESPACE",".entity_id = ",90],["T_CURLY_OPEN","{",90],["T_VARIABLE","$entity",90],"}",["T_ENCAPSED_AND_WHITESPACE"," AND ",90],["T_CURLY_OPEN","{",90],["T_VARIABLE","$sAlias",90],"}",["T_ENCAPSED_AND_WHITESPACE",".attribute_id = ",90],["T_CURLY_OPEN","{",90],["T_VARIABLE","$attributeId",90],"}","\"",["T_WHITESPACE","\n                    ",90],".",["T_WHITESPACE"," ",91],"\"",["T_ENCAPSED_AND_WHITESPACE"," AND ",91],["T_CURLY_OPEN","{",91],["T_VARIABLE","$sAlias",91],"}",["T_ENCAPSED_AND_WHITESPACE",".store_id = ",91],["T_CURLY_OPEN","{",91],["T_VARIABLE","$store",91],"}","\"",",",["T_WHITESPACE","\n                ",91],["T_ARRAY","array",92],"(",")",["T_WHITESPACE","\n            ",92],")",";",["T_WHITESPACE","\n            ",93],["T_VARIABLE","$expression",94],["T_WHITESPACE"," ",94],"=",["T_WHITESPACE"," ",94],["T_VARIABLE","$adapter",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","getCheckSql",94],"(",["T_VARIABLE","$adapter",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","getIfNullSql",94],"(","\"",["T_CURLY_OPEN","{",94],["T_VARIABLE","$sAlias",94],"}",["T_ENCAPSED_AND_WHITESPACE",".value_id",94],"\"",",",["T_WHITESPACE"," ",94],"-",["T_LNUMBER","1",94],")",["T_WHITESPACE"," ",94],".",["T_WHITESPACE"," ",94],["T_CONSTANT_ENCAPSED_STRING","' > 0'",94],",",["T_WHITESPACE","\n                ",94],"\"",["T_CURLY_OPEN","{",95],["T_VARIABLE","$sAlias",95],"}",["T_ENCAPSED_AND_WHITESPACE",".value",95],"\"",",",["T_WHITESPACE"," ",95],"\"",["T_CURLY_OPEN","{",95],["T_VARIABLE","$dAlias",95],"}",["T_ENCAPSED_AND_WHITESPACE",".value",95],"\"",")",";",["T_WHITESPACE","\n        ",95],"}",["T_WHITESPACE","\n\n        ",96],["T_IF","if",98],["T_WHITESPACE"," ",98],"(","!",["T_STRING","is_null",98],"(",["T_VARIABLE","$condition",98],")",")",["T_WHITESPACE"," ",98],"{",["T_WHITESPACE","\n            ",98],["T_VARIABLE","$select",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","where",99],"(","\"",["T_CURLY_OPEN","{",99],["T_VARIABLE","$expression",99],"}",["T_CURLY_OPEN","{",99],["T_VARIABLE","$condition",99],"}","\"",")",";",["T_WHITESPACE","\n        ",99],"}",["T_WHITESPACE","\n\n        ",100],["T_RETURN","return",102],["T_WHITESPACE"," ",102],["T_VARIABLE","$expression",102],";",["T_WHITESPACE","\n    ",102],"}",["T_WHITESPACE","\n\n    ",103],["T_DOC_COMMENT","\/**\n     * Add website data join to select\n     * If add default store join also limitation of only has default store website\n     * Joined table has aliases\n     *  cw for website table,\n     *  csg for store group table (joined by website default group)\n     *  cs for store table (joined by website default store)\n     *\n     * @param Varien_Db_Select $select              the select object\n     * @param bool $store                           add default store join\n     * @param string|Zend_Db_Expr $joinCondition    the limitation for website_id\n     * @return Mage_Catalog_Model_Resource_Product_Indexer_Abstract\n     *\/",105],["T_WHITESPACE","\n    ",117],["T_PROTECTED","protected",118],["T_WHITESPACE"," ",118],["T_FUNCTION","function",118],["T_WHITESPACE"," ",118],["T_STRING","_addWebsiteJoinToSelect",118],"(",["T_VARIABLE","$select",118],",",["T_WHITESPACE"," ",118],["T_VARIABLE","$store",118],["T_WHITESPACE"," ",118],"=",["T_WHITESPACE"," ",118],["T_STRING","true",118],",",["T_WHITESPACE"," ",118],["T_VARIABLE","$joinCondition",118],["T_WHITESPACE"," ",118],"=",["T_WHITESPACE"," ",118],["T_STRING","null",118],")",["T_WHITESPACE","\n    ",118],"{",["T_WHITESPACE","\n        ",119],["T_IF","if",120],["T_WHITESPACE"," ",120],"(","!",["T_STRING","is_null",120],"(",["T_VARIABLE","$joinCondition",120],")",")",["T_WHITESPACE"," ",120],"{",["T_WHITESPACE","\n            ",120],["T_VARIABLE","$joinCondition",121],["T_WHITESPACE"," ",121],"=",["T_WHITESPACE"," ",121],["T_CONSTANT_ENCAPSED_STRING","'cw.website_id = '",121],["T_WHITESPACE"," ",121],".",["T_WHITESPACE"," ",121],["T_VARIABLE","$joinCondition",121],";",["T_WHITESPACE","\n        ",121],"}",["T_WHITESPACE","\n\n        ",122],["T_VARIABLE","$select",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","join",124],"(",["T_WHITESPACE","\n            ",124],["T_ARRAY","array",125],"(",["T_CONSTANT_ENCAPSED_STRING","'cw'",125],["T_WHITESPACE"," ",125],["T_DOUBLE_ARROW","=>",125],["T_WHITESPACE"," ",125],["T_VARIABLE","$this",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","getTable",125],"(",["T_CONSTANT_ENCAPSED_STRING","'core\/website'",125],")",")",",",["T_WHITESPACE","\n            ",125],["T_VARIABLE","$joinCondition",126],",",["T_WHITESPACE","\n            ",126],["T_ARRAY","array",127],"(",")",["T_WHITESPACE","\n        ",127],")",";",["T_WHITESPACE","\n\n        ",128],["T_IF","if",130],["T_WHITESPACE"," ",130],"(",["T_VARIABLE","$store",130],")",["T_WHITESPACE"," ",130],"{",["T_WHITESPACE","\n            ",130],["T_VARIABLE","$select",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","join",131],"(",["T_WHITESPACE","\n                ",131],["T_ARRAY","array",132],"(",["T_CONSTANT_ENCAPSED_STRING","'csg'",132],["T_WHITESPACE"," ",132],["T_DOUBLE_ARROW","=>",132],["T_WHITESPACE"," ",132],["T_VARIABLE","$this",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","getTable",132],"(",["T_CONSTANT_ENCAPSED_STRING","'core\/store_group'",132],")",")",",",["T_WHITESPACE","\n                ",132],["T_CONSTANT_ENCAPSED_STRING","'csg.group_id = cw.default_group_id'",133],",",["T_WHITESPACE","\n                ",133],["T_ARRAY","array",134],"(",")",")",["T_WHITESPACE","\n            ",134],["T_OBJECT_OPERATOR","->",135],["T_STRING","join",135],"(",["T_WHITESPACE","\n                ",135],["T_ARRAY","array",136],"(",["T_CONSTANT_ENCAPSED_STRING","'cs'",136],["T_WHITESPACE"," ",136],["T_DOUBLE_ARROW","=>",136],["T_WHITESPACE"," ",136],["T_VARIABLE","$this",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","getTable",136],"(",["T_CONSTANT_ENCAPSED_STRING","'core\/store'",136],")",")",",",["T_WHITESPACE","\n                ",136],["T_CONSTANT_ENCAPSED_STRING","'cs.store_id = csg.default_store_id'",137],",",["T_WHITESPACE","\n                ",137],["T_ARRAY","array",138],"(",")",")",";",["T_WHITESPACE","\n        ",138],"}",["T_WHITESPACE","\n\n        ",139],["T_RETURN","return",141],["T_WHITESPACE"," ",141],["T_VARIABLE","$this",141],";",["T_WHITESPACE","\n    ",141],"}",["T_WHITESPACE","\n\n    ",142],["T_DOC_COMMENT","\/**\n     * Add join for catalog\/product_website table\n     * Joined table has alias pw\n     *\n     * @param Varien_Db_Select $select          the select object\n     * @param string|Zend_Db_Expr $website      the limitation of website_id\n     * @param string|Zend_Db_Expr $product      the limitation of product_id\n     * @return Mage_Catalog_Model_Resource_Product_Indexer_Abstract\n     *\/",144],["T_WHITESPACE","\n    ",152],["T_PROTECTED","protected",153],["T_WHITESPACE"," ",153],["T_FUNCTION","function",153],["T_WHITESPACE"," ",153],["T_STRING","_addProductWebsiteJoinToSelect",153],"(",["T_VARIABLE","$select",153],",",["T_WHITESPACE"," ",153],["T_VARIABLE","$website",153],",",["T_WHITESPACE"," ",153],["T_VARIABLE","$product",153],")",["T_WHITESPACE","\n    ",153],"{",["T_WHITESPACE","\n        ",154],["T_VARIABLE","$select",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","join",155],"(",["T_WHITESPACE","\n            ",155],["T_ARRAY","array",156],"(",["T_CONSTANT_ENCAPSED_STRING","'pw'",156],["T_WHITESPACE"," ",156],["T_DOUBLE_ARROW","=>",156],["T_WHITESPACE"," ",156],["T_VARIABLE","$this",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","getTable",156],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog\/product_website'",156],")",")",",",["T_WHITESPACE","\n            ",156],"\"",["T_ENCAPSED_AND_WHITESPACE","pw.product_id = ",157],["T_CURLY_OPEN","{",157],["T_VARIABLE","$product",157],"}",["T_ENCAPSED_AND_WHITESPACE"," AND pw.website_id = ",157],["T_CURLY_OPEN","{",157],["T_VARIABLE","$website",157],"}","\"",",",["T_WHITESPACE","\n            ",157],["T_ARRAY","array",158],"(",")",["T_WHITESPACE","\n        ",158],")",";",["T_WHITESPACE","\n\n        ",159],["T_RETURN","return",161],["T_WHITESPACE"," ",161],["T_VARIABLE","$this",161],";",["T_WHITESPACE","\n    ",161],"}",["T_WHITESPACE","\n\n    ",162],["T_DOC_COMMENT","\/**\n     * Retrieve product relations by children\n     *\n     * @param int|array $childIds\n     * @return array\n     *\/",164],["T_WHITESPACE","\n    ",169],["T_PUBLIC","public",170],["T_WHITESPACE"," ",170],["T_FUNCTION","function",170],["T_WHITESPACE"," ",170],["T_STRING","getRelationsByChild",170],"(",["T_VARIABLE","$childIds",170],")",["T_WHITESPACE","\n    ",170],"{",["T_WHITESPACE","\n        ",171],["T_VARIABLE","$write",172],["T_WHITESPACE"," ",172],"=",["T_WHITESPACE"," ",172],["T_VARIABLE","$this",172],["T_OBJECT_OPERATOR","->",172],["T_STRING","_getWriteAdapter",172],"(",")",";",["T_WHITESPACE","\n        ",172],["T_VARIABLE","$select",173],["T_WHITESPACE"," ",173],"=",["T_WHITESPACE"," ",173],["T_VARIABLE","$write",173],["T_OBJECT_OPERATOR","->",173],["T_STRING","select",173],"(",")",["T_WHITESPACE","\n            ",173],["T_OBJECT_OPERATOR","->",174],["T_STRING","from",174],"(",["T_VARIABLE","$this",174],["T_OBJECT_OPERATOR","->",174],["T_STRING","getTable",174],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog\/product_relation'",174],")",",",["T_WHITESPACE"," ",174],["T_CONSTANT_ENCAPSED_STRING","'parent_id'",174],")",["T_WHITESPACE","\n            ",174],["T_OBJECT_OPERATOR","->",175],["T_STRING","where",175],"(",["T_CONSTANT_ENCAPSED_STRING","'child_id IN(?)'",175],",",["T_WHITESPACE"," ",175],["T_VARIABLE","$childIds",175],")",";",["T_WHITESPACE","\n\n        ",175],["T_RETURN","return",177],["T_WHITESPACE"," ",177],["T_VARIABLE","$write",177],["T_OBJECT_OPERATOR","->",177],["T_STRING","fetchCol",177],"(",["T_VARIABLE","$select",177],")",";",["T_WHITESPACE","\n    ",177],"}",["T_WHITESPACE","\n\n    ",178],["T_DOC_COMMENT","\/**\n     * Retrieve product relations by parents\n     *\n     * @param int|array $parentIds\n     * @return array\n     *\/",180],["T_WHITESPACE","\n    ",185],["T_PUBLIC","public",186],["T_WHITESPACE"," ",186],["T_FUNCTION","function",186],["T_WHITESPACE"," ",186],["T_STRING","getRelationsByParent",186],"(",["T_VARIABLE","$parentIds",186],")",["T_WHITESPACE","\n    ",186],"{",["T_WHITESPACE","\n        ",187],["T_IF","if",188],["T_WHITESPACE"," ",188],"(","!",["T_STRING","is_array",188],"(",["T_VARIABLE","$parentIds",188],")",")",["T_WHITESPACE"," ",188],"{",["T_WHITESPACE","\n            ",188],["T_VARIABLE","$parentIds",189],["T_WHITESPACE"," ",189],"=",["T_WHITESPACE"," ",189],["T_ARRAY","array",189],"(",["T_VARIABLE","$parentIds",189],")",";",["T_WHITESPACE","\n        ",189],"}",["T_WHITESPACE","\n\n        ",190],["T_VARIABLE","$result",192],["T_WHITESPACE"," ",192],"=",["T_WHITESPACE"," ",192],["T_ARRAY","array",192],"(",")",";",["T_WHITESPACE","\n        ",192],["T_IF","if",193],["T_WHITESPACE"," ",193],"(","!",["T_EMPTY","empty",193],"(",["T_VARIABLE","$parentIds",193],")",")",["T_WHITESPACE"," ",193],"{",["T_WHITESPACE","\n            ",193],["T_VARIABLE","$write",194],["T_WHITESPACE"," ",194],"=",["T_WHITESPACE"," ",194],["T_VARIABLE","$this",194],["T_OBJECT_OPERATOR","->",194],["T_STRING","_getWriteAdapter",194],"(",")",";",["T_WHITESPACE","\n            ",194],["T_VARIABLE","$select",195],["T_WHITESPACE"," ",195],"=",["T_WHITESPACE"," ",195],["T_VARIABLE","$write",195],["T_OBJECT_OPERATOR","->",195],["T_STRING","select",195],"(",")",["T_WHITESPACE","\n                ",195],["T_OBJECT_OPERATOR","->",196],["T_STRING","from",196],"(",["T_VARIABLE","$this",196],["T_OBJECT_OPERATOR","->",196],["T_STRING","getTable",196],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog\/product_relation'",196],")",",",["T_WHITESPACE"," ",196],["T_CONSTANT_ENCAPSED_STRING","'child_id'",196],")",["T_WHITESPACE","\n                ",196],["T_OBJECT_OPERATOR","->",197],["T_STRING","where",197],"(",["T_CONSTANT_ENCAPSED_STRING","'parent_id IN(?)'",197],",",["T_WHITESPACE"," ",197],["T_VARIABLE","$parentIds",197],")",";",["T_WHITESPACE","\n            ",197],["T_VARIABLE","$result",198],["T_WHITESPACE"," ",198],"=",["T_WHITESPACE"," ",198],["T_VARIABLE","$write",198],["T_OBJECT_OPERATOR","->",198],["T_STRING","fetchCol",198],"(",["T_VARIABLE","$select",198],")",";",["T_WHITESPACE","\n        ",198],"}",["T_WHITESPACE","\n\n        ",199],["T_RETURN","return",201],["T_WHITESPACE"," ",201],["T_VARIABLE","$result",201],";",["T_WHITESPACE","\n    ",201],"}",["T_WHITESPACE","\n",202],"}",["T_WHITESPACE","\n",203]]