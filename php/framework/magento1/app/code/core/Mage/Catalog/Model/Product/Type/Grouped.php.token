[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Magento\n *\n * NOTICE OF LICENSE\n *\n * This source file is subject to the Open Software License (OSL 3.0)\n * that is bundled with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/opensource.org\/licenses\/osl-3.0.php\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@magento.com so we can send you a copy immediately.\n *\n * DISCLAIMER\n *\n * Do not edit or add to this file if you wish to upgrade Magento to newer\n * versions in the future. If you wish to customize Magento for your\n * needs please refer to http:\/\/www.magento.com for more information.\n *\n * @category    Mage\n * @package     Mage_Catalog\n * @copyright  Copyright (c) 2006-2016 X.commerce, Inc. and affiliates (http:\/\/www.magento.com)\n * @license    http:\/\/opensource.org\/licenses\/osl-3.0.php  Open Software License (OSL 3.0)\n *\/",2],["T_WHITESPACE","\n\n",25],["T_DOC_COMMENT","\/**\n * Grouped product type implementation\n *\n * @category   Mage\n * @package    Mage_Catalog\n * @author      Magento Core Team <core@magentocommerce.com>\n *\/",27],["T_WHITESPACE","\n",33],["T_CLASS","class",34],["T_WHITESPACE"," ",34],["T_STRING","Mage_Catalog_Model_Product_Type_Grouped",34],["T_WHITESPACE"," ",34],["T_EXTENDS","extends",34],["T_WHITESPACE"," ",34],["T_STRING","Mage_Catalog_Model_Product_Type_Abstract",34],["T_WHITESPACE","\n",34],"{",["T_WHITESPACE","\n    ",35],["T_CONST","const",36],["T_WHITESPACE"," ",36],["T_STRING","TYPE_CODE",36],["T_WHITESPACE"," ",36],"=",["T_WHITESPACE"," ",36],["T_CONSTANT_ENCAPSED_STRING","'grouped'",36],";",["T_WHITESPACE","\n\n    ",36],["T_DOC_COMMENT","\/**\n     * Cache key for Associated Products\n     *\n     * @var string\n     *\/",38],["T_WHITESPACE","\n    ",42],["T_PROTECTED","protected",43],["T_WHITESPACE"," ",43],["T_VARIABLE","$_keyAssociatedProducts",43],["T_WHITESPACE","   ",43],"=",["T_WHITESPACE"," ",43],["T_CONSTANT_ENCAPSED_STRING","'_cache_instance_associated_products'",43],";",["T_WHITESPACE","\n\n    ",43],["T_DOC_COMMENT","\/**\n     * Cache key for Associated Product Ids\n     *\n     * @var string\n     *\/",45],["T_WHITESPACE","\n    ",49],["T_PROTECTED","protected",50],["T_WHITESPACE"," ",50],["T_VARIABLE","$_keyAssociatedProductIds",50],["T_WHITESPACE"," ",50],"=",["T_WHITESPACE"," ",50],["T_CONSTANT_ENCAPSED_STRING","'_cache_instance_associated_product_ids'",50],";",["T_WHITESPACE","\n\n    ",50],["T_DOC_COMMENT","\/**\n     * Cache key for Status Filters\n     *\n     * @var string\n     *\/",52],["T_WHITESPACE","\n    ",56],["T_PROTECTED","protected",57],["T_WHITESPACE"," ",57],["T_VARIABLE","$_keyStatusFilters",57],["T_WHITESPACE","        ",57],"=",["T_WHITESPACE"," ",57],["T_CONSTANT_ENCAPSED_STRING","'_cache_instance_status_filters'",57],";",["T_WHITESPACE","\n\n    ",57],["T_DOC_COMMENT","\/**\n     * Product is composite properties\n     *\n     * @var bool\n     *\/",59],["T_WHITESPACE","\n    ",63],["T_PROTECTED","protected",64],["T_WHITESPACE"," ",64],["T_VARIABLE","$_isComposite",64],["T_WHITESPACE","             ",64],"=",["T_WHITESPACE"," ",64],["T_STRING","true",64],";",["T_WHITESPACE","\n\n    ",64],["T_DOC_COMMENT","\/**\n     * Product is configurable\n     *\n     * @var bool\n     *\/",66],["T_WHITESPACE","\n    ",70],["T_PROTECTED","protected",71],["T_WHITESPACE"," ",71],["T_VARIABLE","$_canConfigure",71],["T_WHITESPACE","            ",71],"=",["T_WHITESPACE"," ",71],["T_STRING","true",71],";",["T_WHITESPACE","\n\n    ",71],["T_DOC_COMMENT","\/**\n     * Return relation info about used products\n     *\n     * @return Varien_Object Object with information data\n     *\/",73],["T_WHITESPACE","\n    ",77],["T_PUBLIC","public",78],["T_WHITESPACE"," ",78],["T_FUNCTION","function",78],["T_WHITESPACE"," ",78],["T_STRING","getRelationInfo",78],"(",")",["T_WHITESPACE","\n    ",78],"{",["T_WHITESPACE","\n        ",79],["T_VARIABLE","$info",80],["T_WHITESPACE"," ",80],"=",["T_WHITESPACE"," ",80],["T_NEW","new",80],["T_WHITESPACE"," ",80],["T_STRING","Varien_Object",80],"(",")",";",["T_WHITESPACE","\n        ",80],["T_VARIABLE","$info",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","setTable",81],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog\/product_link'",81],")",["T_WHITESPACE","\n            ",81],["T_OBJECT_OPERATOR","->",82],["T_STRING","setParentFieldName",82],"(",["T_CONSTANT_ENCAPSED_STRING","'product_id'",82],")",["T_WHITESPACE","\n            ",82],["T_OBJECT_OPERATOR","->",83],["T_STRING","setChildFieldName",83],"(",["T_CONSTANT_ENCAPSED_STRING","'linked_product_id'",83],")",["T_WHITESPACE","\n            ",83],["T_OBJECT_OPERATOR","->",84],["T_STRING","setWhere",84],"(",["T_CONSTANT_ENCAPSED_STRING","'link_type_id='",84],["T_WHITESPACE"," ",84],".",["T_WHITESPACE"," ",84],["T_STRING","Mage_Catalog_Model_Product_Link",84],["T_DOUBLE_COLON","::",84],["T_STRING","LINK_TYPE_GROUPED",84],")",";",["T_WHITESPACE","\n        ",84],["T_RETURN","return",85],["T_WHITESPACE"," ",85],["T_VARIABLE","$info",85],";",["T_WHITESPACE","\n    ",85],"}",["T_WHITESPACE","\n\n    ",86],["T_DOC_COMMENT","\/**\n     * Retrieve Required children ids\n     * Return grouped array, ex array(\n     *   group => array(ids)\n     * )\n     *\n     * @param int $parentId\n     * @param bool $required\n     * @return array\n     *\/",88],["T_WHITESPACE","\n    ",97],["T_PUBLIC","public",98],["T_WHITESPACE"," ",98],["T_FUNCTION","function",98],["T_WHITESPACE"," ",98],["T_STRING","getChildrenIds",98],"(",["T_VARIABLE","$parentId",98],",",["T_WHITESPACE"," ",98],["T_VARIABLE","$required",98],["T_WHITESPACE"," ",98],"=",["T_WHITESPACE"," ",98],["T_STRING","true",98],")",["T_WHITESPACE","\n    ",98],"{",["T_WHITESPACE","\n        ",99],["T_RETURN","return",100],["T_WHITESPACE"," ",100],["T_STRING","Mage",100],["T_DOUBLE_COLON","::",100],["T_STRING","getResourceSingleton",100],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog\/product_link'",100],")",["T_WHITESPACE","\n            ",100],["T_OBJECT_OPERATOR","->",101],["T_STRING","getChildrenIds",101],"(",["T_VARIABLE","$parentId",101],",",["T_WHITESPACE","\n                ",101],["T_STRING","Mage_Catalog_Model_Product_Link",102],["T_DOUBLE_COLON","::",102],["T_STRING","LINK_TYPE_GROUPED",102],")",";",["T_WHITESPACE","\n    ",102],"}",["T_WHITESPACE","\n\n    ",103],["T_DOC_COMMENT","\/**\n     * Retrieve parent ids array by requered child\n     *\n     * @param int|array $childId\n     * @return array\n     *\/",105],["T_WHITESPACE","\n    ",110],["T_PUBLIC","public",111],["T_WHITESPACE"," ",111],["T_FUNCTION","function",111],["T_WHITESPACE"," ",111],["T_STRING","getParentIdsByChild",111],"(",["T_VARIABLE","$childId",111],")",["T_WHITESPACE","\n    ",111],"{",["T_WHITESPACE","\n        ",112],["T_RETURN","return",113],["T_WHITESPACE"," ",113],["T_STRING","Mage",113],["T_DOUBLE_COLON","::",113],["T_STRING","getResourceSingleton",113],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog\/product_link'",113],")",["T_WHITESPACE","\n            ",113],["T_OBJECT_OPERATOR","->",114],["T_STRING","getParentIdsByChild",114],"(",["T_VARIABLE","$childId",114],",",["T_WHITESPACE","\n                ",114],["T_STRING","Mage_Catalog_Model_Product_Link",115],["T_DOUBLE_COLON","::",115],["T_STRING","LINK_TYPE_GROUPED",115],")",";",["T_WHITESPACE","\n    ",115],"}",["T_WHITESPACE","\n\n    ",116],["T_DOC_COMMENT","\/**\n     * Retrieve array of associated products\n     *\n     * @param Mage_Catalog_Model_Product $product\n     * @return array\n     *\/",118],["T_WHITESPACE","\n    ",123],["T_PUBLIC","public",124],["T_WHITESPACE"," ",124],["T_FUNCTION","function",124],["T_WHITESPACE"," ",124],["T_STRING","getAssociatedProducts",124],"(",["T_VARIABLE","$product",124],["T_WHITESPACE"," ",124],"=",["T_WHITESPACE"," ",124],["T_STRING","null",124],")",["T_WHITESPACE","\n    ",124],"{",["T_WHITESPACE","\n        ",125],["T_IF","if",126],["T_WHITESPACE"," ",126],"(","!",["T_VARIABLE","$this",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","getProduct",126],"(",["T_VARIABLE","$product",126],")",["T_OBJECT_OPERATOR","->",126],["T_STRING","hasData",126],"(",["T_VARIABLE","$this",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","_keyAssociatedProducts",126],")",")",["T_WHITESPACE"," ",126],"{",["T_WHITESPACE","\n            ",126],["T_VARIABLE","$associatedProducts",127],["T_WHITESPACE"," ",127],"=",["T_WHITESPACE"," ",127],["T_ARRAY","array",127],"(",")",";",["T_WHITESPACE","\n\n            ",127],["T_IF","if",129],["T_WHITESPACE"," ",129],"(","!",["T_STRING","Mage",129],["T_DOUBLE_COLON","::",129],["T_STRING","app",129],"(",")",["T_OBJECT_OPERATOR","->",129],["T_STRING","getStore",129],"(",")",["T_OBJECT_OPERATOR","->",129],["T_STRING","isAdmin",129],"(",")",")",["T_WHITESPACE"," ",129],"{",["T_WHITESPACE","\n                ",129],["T_VARIABLE","$this",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","setSaleableStatus",130],"(",["T_VARIABLE","$product",130],")",";",["T_WHITESPACE","\n            ",130],"}",["T_WHITESPACE","\n\n            ",131],["T_VARIABLE","$collection",133],["T_WHITESPACE"," ",133],"=",["T_WHITESPACE"," ",133],["T_VARIABLE","$this",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","getAssociatedProductCollection",133],"(",["T_VARIABLE","$product",133],")",["T_WHITESPACE","\n                ",133],["T_OBJECT_OPERATOR","->",134],["T_STRING","addAttributeToSelect",134],"(",["T_CONSTANT_ENCAPSED_STRING","'*'",134],")",["T_WHITESPACE","\n                ",134],["T_OBJECT_OPERATOR","->",135],["T_STRING","addFilterByRequiredOptions",135],"(",")",["T_WHITESPACE","\n                ",135],["T_OBJECT_OPERATOR","->",136],["T_STRING","setPositionOrder",136],"(",")",["T_WHITESPACE","\n                ",136],["T_OBJECT_OPERATOR","->",137],["T_STRING","addStoreFilter",137],"(",["T_VARIABLE","$this",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","getStoreFilter",137],"(",["T_VARIABLE","$product",137],")",")",["T_WHITESPACE","\n                ",137],["T_OBJECT_OPERATOR","->",138],["T_STRING","addAttributeToFilter",138],"(",["T_CONSTANT_ENCAPSED_STRING","'status'",138],",",["T_WHITESPACE"," ",138],["T_ARRAY","array",138],"(",["T_CONSTANT_ENCAPSED_STRING","'in'",138],["T_WHITESPACE"," ",138],["T_DOUBLE_ARROW","=>",138],["T_WHITESPACE"," ",138],["T_VARIABLE","$this",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","getStatusFilters",138],"(",["T_VARIABLE","$product",138],")",")",")",";",["T_WHITESPACE","\n\n            ",138],["T_FOREACH","foreach",140],["T_WHITESPACE"," ",140],"(",["T_VARIABLE","$collection",140],["T_WHITESPACE"," ",140],["T_AS","as",140],["T_WHITESPACE"," ",140],["T_VARIABLE","$item",140],")",["T_WHITESPACE"," ",140],"{",["T_WHITESPACE","\n                ",140],["T_VARIABLE","$associatedProducts",141],"[","]",["T_WHITESPACE"," ",141],"=",["T_WHITESPACE"," ",141],["T_VARIABLE","$item",141],";",["T_WHITESPACE","\n            ",141],"}",["T_WHITESPACE","\n\n            ",142],["T_VARIABLE","$this",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","getProduct",144],"(",["T_VARIABLE","$product",144],")",["T_OBJECT_OPERATOR","->",144],["T_STRING","setData",144],"(",["T_VARIABLE","$this",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","_keyAssociatedProducts",144],",",["T_WHITESPACE"," ",144],["T_VARIABLE","$associatedProducts",144],")",";",["T_WHITESPACE","\n        ",144],"}",["T_WHITESPACE","\n        ",145],["T_RETURN","return",146],["T_WHITESPACE"," ",146],["T_VARIABLE","$this",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","getProduct",146],"(",["T_VARIABLE","$product",146],")",["T_OBJECT_OPERATOR","->",146],["T_STRING","getData",146],"(",["T_VARIABLE","$this",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","_keyAssociatedProducts",146],")",";",["T_WHITESPACE","\n    ",146],"}",["T_WHITESPACE","\n\n    ",147],["T_DOC_COMMENT","\/**\n     * Add status filter to collection\n     *\n     * @param  int $status\n     * @param  Mage_Catalog_Model_Product $product\n     * @return Mage_Catalog_Model_Product_Type_Grouped\n     *\/",149],["T_WHITESPACE","\n    ",155],["T_PUBLIC","public",156],["T_WHITESPACE"," ",156],["T_FUNCTION","function",156],["T_WHITESPACE"," ",156],["T_STRING","addStatusFilter",156],"(",["T_VARIABLE","$status",156],",",["T_WHITESPACE"," ",156],["T_VARIABLE","$product",156],["T_WHITESPACE"," ",156],"=",["T_WHITESPACE"," ",156],["T_STRING","null",156],")",["T_WHITESPACE","\n    ",156],"{",["T_WHITESPACE","\n        ",157],["T_VARIABLE","$statusFilters",158],["T_WHITESPACE"," ",158],"=",["T_WHITESPACE"," ",158],["T_VARIABLE","$this",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","getProduct",158],"(",["T_VARIABLE","$product",158],")",["T_OBJECT_OPERATOR","->",158],["T_STRING","getData",158],"(",["T_VARIABLE","$this",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","_keyStatusFilters",158],")",";",["T_WHITESPACE","\n        ",158],["T_IF","if",159],["T_WHITESPACE"," ",159],"(","!",["T_STRING","is_array",159],"(",["T_VARIABLE","$statusFilters",159],")",")",["T_WHITESPACE"," ",159],"{",["T_WHITESPACE","\n            ",159],["T_VARIABLE","$statusFilters",160],["T_WHITESPACE"," ",160],"=",["T_WHITESPACE"," ",160],["T_ARRAY","array",160],"(",")",";",["T_WHITESPACE","\n        ",160],"}",["T_WHITESPACE","\n\n        ",161],["T_VARIABLE","$statusFilters",163],"[","]",["T_WHITESPACE"," ",163],"=",["T_WHITESPACE"," ",163],["T_VARIABLE","$status",163],";",["T_WHITESPACE","\n        ",163],["T_VARIABLE","$this",164],["T_OBJECT_OPERATOR","->",164],["T_STRING","getProduct",164],"(",["T_VARIABLE","$product",164],")",["T_OBJECT_OPERATOR","->",164],["T_STRING","setData",164],"(",["T_VARIABLE","$this",164],["T_OBJECT_OPERATOR","->",164],["T_STRING","_keyStatusFilters",164],",",["T_WHITESPACE"," ",164],["T_VARIABLE","$statusFilters",164],")",";",["T_WHITESPACE","\n\n        ",164],["T_RETURN","return",166],["T_WHITESPACE"," ",166],["T_VARIABLE","$this",166],";",["T_WHITESPACE","\n    ",166],"}",["T_WHITESPACE","\n\n    ",167],["T_DOC_COMMENT","\/**\n     * Set only saleable filter\n     *\n     * @param  Mage_Catalog_Model_Product $product\n     * @return Mage_Catalog_Model_Product_Type_Grouped\n     *\/",169],["T_WHITESPACE","\n    ",174],["T_PUBLIC","public",175],["T_WHITESPACE"," ",175],["T_FUNCTION","function",175],["T_WHITESPACE"," ",175],["T_STRING","setSaleableStatus",175],"(",["T_VARIABLE","$product",175],["T_WHITESPACE"," ",175],"=",["T_WHITESPACE"," ",175],["T_STRING","null",175],")",["T_WHITESPACE","\n    ",175],"{",["T_WHITESPACE","\n        ",176],["T_VARIABLE","$this",177],["T_OBJECT_OPERATOR","->",177],["T_STRING","getProduct",177],"(",["T_VARIABLE","$product",177],")",["T_OBJECT_OPERATOR","->",177],["T_STRING","setData",177],"(",["T_VARIABLE","$this",177],["T_OBJECT_OPERATOR","->",177],["T_STRING","_keyStatusFilters",177],",",["T_WHITESPACE","\n            ",177],["T_STRING","Mage",178],["T_DOUBLE_COLON","::",178],["T_STRING","getSingleton",178],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog\/product_status'",178],")",["T_OBJECT_OPERATOR","->",178],["T_STRING","getSaleableStatusIds",178],"(",")",")",";",["T_WHITESPACE","\n        ",178],["T_RETURN","return",179],["T_WHITESPACE"," ",179],["T_VARIABLE","$this",179],";",["T_WHITESPACE","\n    ",179],"}",["T_WHITESPACE","\n\n    ",180],["T_DOC_COMMENT","\/**\n     * Return all assigned status filters\n     *\n     * @param Mage_Catalog_Model_Product $product\n     * @return array\n     *\/",182],["T_WHITESPACE","\n    ",187],["T_PUBLIC","public",188],["T_WHITESPACE"," ",188],["T_FUNCTION","function",188],["T_WHITESPACE"," ",188],["T_STRING","getStatusFilters",188],"(",["T_VARIABLE","$product",188],["T_WHITESPACE"," ",188],"=",["T_WHITESPACE"," ",188],["T_STRING","null",188],")",["T_WHITESPACE","\n    ",188],"{",["T_WHITESPACE","\n        ",189],["T_IF","if",190],["T_WHITESPACE"," ",190],"(","!",["T_VARIABLE","$this",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","getProduct",190],"(",["T_VARIABLE","$product",190],")",["T_OBJECT_OPERATOR","->",190],["T_STRING","hasData",190],"(",["T_VARIABLE","$this",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","_keyStatusFilters",190],")",")",["T_WHITESPACE"," ",190],"{",["T_WHITESPACE","\n            ",190],["T_RETURN","return",191],["T_WHITESPACE"," ",191],["T_ARRAY","array",191],"(",["T_WHITESPACE","\n                ",191],["T_STRING","Mage_Catalog_Model_Product_Status",192],["T_DOUBLE_COLON","::",192],["T_STRING","STATUS_ENABLED",192],",",["T_WHITESPACE","\n                ",192],["T_STRING","Mage_Catalog_Model_Product_Status",193],["T_DOUBLE_COLON","::",193],["T_STRING","STATUS_DISABLED",193],["T_WHITESPACE","\n            ",193],")",";",["T_WHITESPACE","\n        ",194],"}",["T_WHITESPACE","\n        ",195],["T_RETURN","return",196],["T_WHITESPACE"," ",196],["T_VARIABLE","$this",196],["T_OBJECT_OPERATOR","->",196],["T_STRING","getProduct",196],"(",["T_VARIABLE","$product",196],")",["T_OBJECT_OPERATOR","->",196],["T_STRING","getData",196],"(",["T_VARIABLE","$this",196],["T_OBJECT_OPERATOR","->",196],["T_STRING","_keyStatusFilters",196],")",";",["T_WHITESPACE","\n    ",196],"}",["T_WHITESPACE","\n\n    ",197],["T_DOC_COMMENT","\/**\n     * Retrieve related products identifiers\n     *\n     * @param Mage_Catalog_Model_Product $product\n     * @return array\n     *\/",199],["T_WHITESPACE","\n    ",204],["T_PUBLIC","public",205],["T_WHITESPACE"," ",205],["T_FUNCTION","function",205],["T_WHITESPACE"," ",205],["T_STRING","getAssociatedProductIds",205],"(",["T_VARIABLE","$product",205],["T_WHITESPACE"," ",205],"=",["T_WHITESPACE"," ",205],["T_STRING","null",205],")",["T_WHITESPACE","\n    ",205],"{",["T_WHITESPACE","\n        ",206],["T_IF","if",207],["T_WHITESPACE"," ",207],"(","!",["T_VARIABLE","$this",207],["T_OBJECT_OPERATOR","->",207],["T_STRING","getProduct",207],"(",["T_VARIABLE","$product",207],")",["T_OBJECT_OPERATOR","->",207],["T_STRING","hasData",207],"(",["T_VARIABLE","$this",207],["T_OBJECT_OPERATOR","->",207],["T_STRING","_keyAssociatedProductIds",207],")",")",["T_WHITESPACE"," ",207],"{",["T_WHITESPACE","\n            ",207],["T_VARIABLE","$associatedProductIds",208],["T_WHITESPACE"," ",208],"=",["T_WHITESPACE"," ",208],["T_ARRAY","array",208],"(",")",";",["T_WHITESPACE","\n            ",208],["T_FOREACH","foreach",209],["T_WHITESPACE"," ",209],"(",["T_VARIABLE","$this",209],["T_OBJECT_OPERATOR","->",209],["T_STRING","getAssociatedProducts",209],"(",["T_VARIABLE","$product",209],")",["T_WHITESPACE"," ",209],["T_AS","as",209],["T_WHITESPACE"," ",209],["T_VARIABLE","$item",209],")",["T_WHITESPACE"," ",209],"{",["T_WHITESPACE","\n                ",209],["T_VARIABLE","$associatedProductIds",210],"[","]",["T_WHITESPACE"," ",210],"=",["T_WHITESPACE"," ",210],["T_VARIABLE","$item",210],["T_OBJECT_OPERATOR","->",210],["T_STRING","getId",210],"(",")",";",["T_WHITESPACE","\n            ",210],"}",["T_WHITESPACE","\n            ",211],["T_VARIABLE","$this",212],["T_OBJECT_OPERATOR","->",212],["T_STRING","getProduct",212],"(",["T_VARIABLE","$product",212],")",["T_OBJECT_OPERATOR","->",212],["T_STRING","setData",212],"(",["T_VARIABLE","$this",212],["T_OBJECT_OPERATOR","->",212],["T_STRING","_keyAssociatedProductIds",212],",",["T_WHITESPACE"," ",212],["T_VARIABLE","$associatedProductIds",212],")",";",["T_WHITESPACE","\n        ",212],"}",["T_WHITESPACE","\n        ",213],["T_RETURN","return",214],["T_WHITESPACE"," ",214],["T_VARIABLE","$this",214],["T_OBJECT_OPERATOR","->",214],["T_STRING","getProduct",214],"(",["T_VARIABLE","$product",214],")",["T_OBJECT_OPERATOR","->",214],["T_STRING","getData",214],"(",["T_VARIABLE","$this",214],["T_OBJECT_OPERATOR","->",214],["T_STRING","_keyAssociatedProductIds",214],")",";",["T_WHITESPACE","\n    ",214],"}",["T_WHITESPACE","\n\n    ",215],["T_DOC_COMMENT","\/**\n     * Retrieve collection of associated products\n     *\n     * @param Mage_Catalog_Model_Product $product\n     * @return Mage_Catalog_Model_Resource_Eav_Mysql4_Product_Link_Product_Collection\n     *\/",217],["T_WHITESPACE","\n    ",222],["T_PUBLIC","public",223],["T_WHITESPACE"," ",223],["T_FUNCTION","function",223],["T_WHITESPACE"," ",223],["T_STRING","getAssociatedProductCollection",223],"(",["T_VARIABLE","$product",223],["T_WHITESPACE"," ",223],"=",["T_WHITESPACE"," ",223],["T_STRING","null",223],")",["T_WHITESPACE","\n    ",223],"{",["T_WHITESPACE","\n        ",224],["T_VARIABLE","$collection",225],["T_WHITESPACE"," ",225],"=",["T_WHITESPACE"," ",225],["T_VARIABLE","$this",225],["T_OBJECT_OPERATOR","->",225],["T_STRING","getProduct",225],"(",["T_VARIABLE","$product",225],")",["T_OBJECT_OPERATOR","->",225],["T_STRING","getLinkInstance",225],"(",")",["T_OBJECT_OPERATOR","->",225],["T_STRING","useGroupedLinks",225],"(",")",["T_WHITESPACE","\n            ",225],["T_OBJECT_OPERATOR","->",226],["T_STRING","getProductCollection",226],"(",")",["T_WHITESPACE","\n            ",226],["T_OBJECT_OPERATOR","->",227],["T_STRING","setFlag",227],"(",["T_CONSTANT_ENCAPSED_STRING","'require_stock_items'",227],",",["T_WHITESPACE"," ",227],["T_STRING","true",227],")",["T_WHITESPACE","\n            ",227],["T_OBJECT_OPERATOR","->",228],["T_STRING","setFlag",228],"(",["T_CONSTANT_ENCAPSED_STRING","'product_children'",228],",",["T_WHITESPACE"," ",228],["T_STRING","true",228],")",["T_WHITESPACE","\n            ",228],["T_OBJECT_OPERATOR","->",229],["T_STRING","setIsStrongMode",229],"(",")",";",["T_WHITESPACE","\n        ",229],["T_VARIABLE","$collection",230],["T_OBJECT_OPERATOR","->",230],["T_STRING","setProduct",230],"(",["T_VARIABLE","$this",230],["T_OBJECT_OPERATOR","->",230],["T_STRING","getProduct",230],"(",["T_VARIABLE","$product",230],")",")",";",["T_WHITESPACE","\n        ",230],["T_RETURN","return",231],["T_WHITESPACE"," ",231],["T_VARIABLE","$collection",231],";",["T_WHITESPACE","\n    ",231],"}",["T_WHITESPACE","\n\n    ",232],["T_DOC_COMMENT","\/**\n     * Check is product available for sale\n     *\n     * @param Mage_Catalog_Model_Product $product\n     * @return bool\n     *\/",234],["T_WHITESPACE","\n    ",239],["T_PUBLIC","public",240],["T_WHITESPACE"," ",240],["T_FUNCTION","function",240],["T_WHITESPACE"," ",240],["T_STRING","isSalable",240],"(",["T_VARIABLE","$product",240],["T_WHITESPACE"," ",240],"=",["T_WHITESPACE"," ",240],["T_STRING","null",240],")",["T_WHITESPACE","\n    ",240],"{",["T_WHITESPACE","\n        ",241],["T_VARIABLE","$salable",242],["T_WHITESPACE"," ",242],"=",["T_WHITESPACE"," ",242],["T_STRING","parent",242],["T_DOUBLE_COLON","::",242],["T_STRING","isSalable",242],"(",["T_VARIABLE","$product",242],")",";",["T_WHITESPACE","\n        ",242],["T_IF","if",243],["T_WHITESPACE"," ",243],"(","!",["T_STRING","is_null",243],"(",["T_VARIABLE","$salable",243],")",")",["T_WHITESPACE"," ",243],"{",["T_WHITESPACE","\n            ",243],["T_RETURN","return",244],["T_WHITESPACE"," ",244],["T_VARIABLE","$salable",244],";",["T_WHITESPACE","\n        ",244],"}",["T_WHITESPACE","\n\n        ",245],["T_VARIABLE","$salable",247],["T_WHITESPACE"," ",247],"=",["T_WHITESPACE"," ",247],["T_STRING","false",247],";",["T_WHITESPACE","\n        ",247],["T_FOREACH","foreach",248],["T_WHITESPACE"," ",248],"(",["T_VARIABLE","$this",248],["T_OBJECT_OPERATOR","->",248],["T_STRING","getAssociatedProducts",248],"(",["T_VARIABLE","$product",248],")",["T_WHITESPACE"," ",248],["T_AS","as",248],["T_WHITESPACE"," ",248],["T_VARIABLE","$associatedProduct",248],")",["T_WHITESPACE"," ",248],"{",["T_WHITESPACE","\n            ",248],["T_VARIABLE","$salable",249],["T_WHITESPACE"," ",249],"=",["T_WHITESPACE"," ",249],["T_VARIABLE","$salable",249],["T_WHITESPACE"," ",249],["T_BOOLEAN_OR","||",249],["T_WHITESPACE"," ",249],["T_VARIABLE","$associatedProduct",249],["T_OBJECT_OPERATOR","->",249],["T_STRING","isSalable",249],"(",")",";",["T_WHITESPACE","\n        ",249],"}",["T_WHITESPACE","\n        ",250],["T_RETURN","return",251],["T_WHITESPACE"," ",251],["T_VARIABLE","$salable",251],";",["T_WHITESPACE","\n    ",251],"}",["T_WHITESPACE","\n\n    ",252],["T_DOC_COMMENT","\/**\n     * Save type related data\n     *\n     * @param Mage_Catalog_Model_Product $product\n     * @return Mage_Catalog_Model_Product_Type_Grouped\n     *\/",254],["T_WHITESPACE","\n    ",259],["T_PUBLIC","public",260],["T_WHITESPACE"," ",260],["T_FUNCTION","function",260],["T_WHITESPACE"," ",260],["T_STRING","save",260],"(",["T_VARIABLE","$product",260],["T_WHITESPACE"," ",260],"=",["T_WHITESPACE"," ",260],["T_STRING","null",260],")",["T_WHITESPACE","\n    ",260],"{",["T_WHITESPACE","\n        ",261],["T_STRING","parent",262],["T_DOUBLE_COLON","::",262],["T_STRING","save",262],"(",["T_VARIABLE","$product",262],")",";",["T_WHITESPACE","\n        ",262],["T_VARIABLE","$this",263],["T_OBJECT_OPERATOR","->",263],["T_STRING","getProduct",263],"(",["T_VARIABLE","$product",263],")",["T_OBJECT_OPERATOR","->",263],["T_STRING","getLinkInstance",263],"(",")",["T_OBJECT_OPERATOR","->",263],["T_STRING","saveGroupedLinks",263],"(",["T_VARIABLE","$this",263],["T_OBJECT_OPERATOR","->",263],["T_STRING","getProduct",263],"(",["T_VARIABLE","$product",263],")",")",";",["T_WHITESPACE","\n        ",263],["T_RETURN","return",264],["T_WHITESPACE"," ",264],["T_VARIABLE","$this",264],";",["T_WHITESPACE","\n    ",264],"}",["T_WHITESPACE","\n\n    ",265],["T_DOC_COMMENT","\/**\n     * Prepare product and its configuration to be added to some products list.\n     * Perform standard preparation process and add logic specific to Grouped product type.\n     *\n     * @param Varien_Object $buyRequest\n     * @param Mage_Catalog_Model_Product $product\n     * @param string $processMode\n     * @return array|string\n     *\/",267],["T_WHITESPACE","\n    ",275],["T_PROTECTED","protected",276],["T_WHITESPACE"," ",276],["T_FUNCTION","function",276],["T_WHITESPACE"," ",276],["T_STRING","_prepareProduct",276],"(",["T_STRING","Varien_Object",276],["T_WHITESPACE"," ",276],["T_VARIABLE","$buyRequest",276],",",["T_WHITESPACE"," ",276],["T_VARIABLE","$product",276],",",["T_WHITESPACE"," ",276],["T_VARIABLE","$processMode",276],")",["T_WHITESPACE","\n    ",276],"{",["T_WHITESPACE","\n        ",277],["T_VARIABLE","$product",278],["T_WHITESPACE"," ",278],"=",["T_WHITESPACE"," ",278],["T_VARIABLE","$this",278],["T_OBJECT_OPERATOR","->",278],["T_STRING","getProduct",278],"(",["T_VARIABLE","$product",278],")",";",["T_WHITESPACE","\n        ",278],["T_VARIABLE","$productsInfo",279],["T_WHITESPACE"," ",279],"=",["T_WHITESPACE"," ",279],["T_VARIABLE","$buyRequest",279],["T_OBJECT_OPERATOR","->",279],["T_STRING","getSuperGroup",279],"(",")",";",["T_WHITESPACE","\n        ",279],["T_VARIABLE","$isStrictProcessMode",280],["T_WHITESPACE"," ",280],"=",["T_WHITESPACE"," ",280],["T_VARIABLE","$this",280],["T_OBJECT_OPERATOR","->",280],["T_STRING","_isStrictProcessMode",280],"(",["T_VARIABLE","$processMode",280],")",";",["T_WHITESPACE","\n\n        ",280],["T_IF","if",282],["T_WHITESPACE"," ",282],"(","!",["T_VARIABLE","$isStrictProcessMode",282],["T_WHITESPACE"," ",282],["T_BOOLEAN_OR","||",282],["T_WHITESPACE"," ",282],"(","!",["T_EMPTY","empty",282],"(",["T_VARIABLE","$productsInfo",282],")",["T_WHITESPACE"," ",282],["T_BOOLEAN_AND","&&",282],["T_WHITESPACE"," ",282],["T_STRING","is_array",282],"(",["T_VARIABLE","$productsInfo",282],")",")",")",["T_WHITESPACE"," ",282],"{",["T_WHITESPACE","\n            ",282],["T_VARIABLE","$products",283],["T_WHITESPACE"," ",283],"=",["T_WHITESPACE"," ",283],["T_ARRAY","array",283],"(",")",";",["T_WHITESPACE","\n            ",283],["T_VARIABLE","$associatedProductsInfo",284],["T_WHITESPACE"," ",284],"=",["T_WHITESPACE"," ",284],["T_ARRAY","array",284],"(",")",";",["T_WHITESPACE","\n            ",284],["T_VARIABLE","$associatedProducts",285],["T_WHITESPACE"," ",285],"=",["T_WHITESPACE"," ",285],["T_VARIABLE","$this",285],["T_OBJECT_OPERATOR","->",285],["T_STRING","getAssociatedProducts",285],"(",["T_VARIABLE","$product",285],")",";",["T_WHITESPACE","\n            ",285],["T_IF","if",286],["T_WHITESPACE"," ",286],"(",["T_VARIABLE","$associatedProducts",286],["T_WHITESPACE"," ",286],["T_BOOLEAN_OR","||",286],["T_WHITESPACE"," ",286],"!",["T_VARIABLE","$isStrictProcessMode",286],")",["T_WHITESPACE"," ",286],"{",["T_WHITESPACE","\n                ",286],["T_FOREACH","foreach",287],["T_WHITESPACE"," ",287],"(",["T_VARIABLE","$associatedProducts",287],["T_WHITESPACE"," ",287],["T_AS","as",287],["T_WHITESPACE"," ",287],["T_VARIABLE","$subProduct",287],")",["T_WHITESPACE"," ",287],"{",["T_WHITESPACE","\n                    ",287],["T_VARIABLE","$subProductId",288],["T_WHITESPACE"," ",288],"=",["T_WHITESPACE"," ",288],["T_VARIABLE","$subProduct",288],["T_OBJECT_OPERATOR","->",288],["T_STRING","getId",288],"(",")",";",["T_WHITESPACE","\n                    ",288],["T_IF","if",289],"(",["T_ISSET","isset",289],"(",["T_VARIABLE","$productsInfo",289],"[",["T_VARIABLE","$subProductId",289],"]",")",")",["T_WHITESPACE"," ",289],"{",["T_WHITESPACE","\n                        ",289],["T_VARIABLE","$qty",290],["T_WHITESPACE"," ",290],"=",["T_WHITESPACE"," ",290],["T_VARIABLE","$productsInfo",290],"[",["T_VARIABLE","$subProductId",290],"]",";",["T_WHITESPACE","\n                        ",290],["T_IF","if",291],["T_WHITESPACE"," ",291],"(","!",["T_EMPTY","empty",291],"(",["T_VARIABLE","$qty",291],")",["T_WHITESPACE"," ",291],["T_BOOLEAN_AND","&&",291],["T_WHITESPACE"," ",291],["T_STRING","is_numeric",291],"(",["T_VARIABLE","$qty",291],")",")",["T_WHITESPACE"," ",291],"{",["T_WHITESPACE","\n\n                            ",291],["T_VARIABLE","$_result",293],["T_WHITESPACE"," ",293],"=",["T_WHITESPACE"," ",293],["T_VARIABLE","$subProduct",293],["T_OBJECT_OPERATOR","->",293],["T_STRING","getTypeInstance",293],"(",["T_STRING","true",293],")",["T_WHITESPACE","\n                                ",293],["T_OBJECT_OPERATOR","->",294],["T_STRING","_prepareProduct",294],"(",["T_VARIABLE","$buyRequest",294],",",["T_WHITESPACE"," ",294],["T_VARIABLE","$subProduct",294],",",["T_WHITESPACE"," ",294],["T_VARIABLE","$processMode",294],")",";",["T_WHITESPACE","\n                            ",294],["T_IF","if",295],["T_WHITESPACE"," ",295],"(",["T_STRING","is_string",295],"(",["T_VARIABLE","$_result",295],")",["T_WHITESPACE"," ",295],["T_BOOLEAN_AND","&&",295],["T_WHITESPACE"," ",295],"!",["T_STRING","is_array",295],"(",["T_VARIABLE","$_result",295],")",")",["T_WHITESPACE"," ",295],"{",["T_WHITESPACE","\n                                ",295],["T_RETURN","return",296],["T_WHITESPACE"," ",296],["T_VARIABLE","$_result",296],";",["T_WHITESPACE","\n                            ",296],"}",["T_WHITESPACE","\n\n                            ",297],["T_IF","if",299],["T_WHITESPACE"," ",299],"(","!",["T_ISSET","isset",299],"(",["T_VARIABLE","$_result",299],"[",["T_LNUMBER","0",299],"]",")",")",["T_WHITESPACE"," ",299],"{",["T_WHITESPACE","\n                                ",299],["T_RETURN","return",300],["T_WHITESPACE"," ",300],["T_STRING","Mage",300],["T_DOUBLE_COLON","::",300],["T_STRING","helper",300],"(",["T_CONSTANT_ENCAPSED_STRING","'checkout'",300],")",["T_OBJECT_OPERATOR","->",300],["T_STRING","__",300],"(",["T_CONSTANT_ENCAPSED_STRING","'Cannot process the item.'",300],")",";",["T_WHITESPACE","\n                            ",300],"}",["T_WHITESPACE","\n\n                            ",301],["T_IF","if",303],["T_WHITESPACE"," ",303],"(",["T_VARIABLE","$isStrictProcessMode",303],")",["T_WHITESPACE"," ",303],"{",["T_WHITESPACE","\n                                ",303],["T_VARIABLE","$_result",304],"[",["T_LNUMBER","0",304],"]",["T_OBJECT_OPERATOR","->",304],["T_STRING","setCartQty",304],"(",["T_VARIABLE","$qty",304],")",";",["T_WHITESPACE","\n                                ",304],["T_VARIABLE","$_result",305],"[",["T_LNUMBER","0",305],"]",["T_OBJECT_OPERATOR","->",305],["T_STRING","addCustomOption",305],"(",["T_CONSTANT_ENCAPSED_STRING","'product_type'",305],",",["T_WHITESPACE"," ",305],["T_STRING","self",305],["T_DOUBLE_COLON","::",305],["T_STRING","TYPE_CODE",305],",",["T_WHITESPACE"," ",305],["T_VARIABLE","$product",305],")",";",["T_WHITESPACE","\n                                ",305],["T_VARIABLE","$_result",306],"[",["T_LNUMBER","0",306],"]",["T_OBJECT_OPERATOR","->",306],["T_STRING","addCustomOption",306],"(",["T_CONSTANT_ENCAPSED_STRING","'info_buyRequest'",306],",",["T_WHITESPACE","\n                                    ",306],["T_STRING","serialize",307],"(",["T_ARRAY","array",307],"(",["T_WHITESPACE","\n                                        ",307],["T_CONSTANT_ENCAPSED_STRING","'super_product_config'",308],["T_WHITESPACE"," ",308],["T_DOUBLE_ARROW","=>",308],["T_WHITESPACE"," ",308],["T_ARRAY","array",308],"(",["T_WHITESPACE","\n                                            ",308],["T_CONSTANT_ENCAPSED_STRING","'product_type'",309],["T_WHITESPACE","  ",309],["T_DOUBLE_ARROW","=>",309],["T_WHITESPACE"," ",309],["T_STRING","self",309],["T_DOUBLE_COLON","::",309],["T_STRING","TYPE_CODE",309],",",["T_WHITESPACE","\n                                            ",309],["T_CONSTANT_ENCAPSED_STRING","'product_id'",310],["T_WHITESPACE","    ",310],["T_DOUBLE_ARROW","=>",310],["T_WHITESPACE"," ",310],["T_VARIABLE","$product",310],["T_OBJECT_OPERATOR","->",310],["T_STRING","getId",310],"(",")",["T_WHITESPACE","\n                                        ",310],")",["T_WHITESPACE","\n                                    ",311],")",")",["T_WHITESPACE","\n                                ",312],")",";",["T_WHITESPACE","\n                                ",313],["T_VARIABLE","$products",314],"[","]",["T_WHITESPACE"," ",314],"=",["T_WHITESPACE"," ",314],["T_VARIABLE","$_result",314],"[",["T_LNUMBER","0",314],"]",";",["T_WHITESPACE","\n                            ",314],"}",["T_WHITESPACE"," ",315],["T_ELSE","else",315],["T_WHITESPACE"," ",315],"{",["T_WHITESPACE","\n                                ",315],["T_VARIABLE","$associatedProductsInfo",316],"[","]",["T_WHITESPACE"," ",316],"=",["T_WHITESPACE"," ",316],["T_ARRAY","array",316],"(",["T_VARIABLE","$subProductId",316],["T_WHITESPACE"," ",316],["T_DOUBLE_ARROW","=>",316],["T_WHITESPACE"," ",316],["T_VARIABLE","$qty",316],")",";",["T_WHITESPACE","\n                                ",316],["T_VARIABLE","$product",317],["T_OBJECT_OPERATOR","->",317],["T_STRING","addCustomOption",317],"(",["T_CONSTANT_ENCAPSED_STRING","'associated_product_'",317],["T_WHITESPACE"," ",317],".",["T_WHITESPACE"," ",317],["T_VARIABLE","$subProductId",317],",",["T_WHITESPACE"," ",317],["T_VARIABLE","$qty",317],")",";",["T_WHITESPACE","\n                            ",317],"}",["T_WHITESPACE","\n                        ",318],"}",["T_WHITESPACE","\n                    ",319],"}",["T_WHITESPACE","\n                ",320],"}",["T_WHITESPACE","\n            ",321],"}",["T_WHITESPACE","\n\n            ",322],["T_IF","if",324],["T_WHITESPACE"," ",324],"(","!",["T_VARIABLE","$isStrictProcessMode",324],["T_WHITESPACE"," ",324],["T_BOOLEAN_OR","||",324],["T_WHITESPACE"," ",324],["T_STRING","count",324],"(",["T_VARIABLE","$associatedProductsInfo",324],")",")",["T_WHITESPACE"," ",324],"{",["T_WHITESPACE","\n                ",324],["T_VARIABLE","$product",325],["T_OBJECT_OPERATOR","->",325],["T_STRING","addCustomOption",325],"(",["T_CONSTANT_ENCAPSED_STRING","'product_type'",325],",",["T_WHITESPACE"," ",325],["T_STRING","self",325],["T_DOUBLE_COLON","::",325],["T_STRING","TYPE_CODE",325],",",["T_WHITESPACE"," ",325],["T_VARIABLE","$product",325],")",";",["T_WHITESPACE","\n                ",325],["T_VARIABLE","$product",326],["T_OBJECT_OPERATOR","->",326],["T_STRING","addCustomOption",326],"(",["T_CONSTANT_ENCAPSED_STRING","'info_buyRequest'",326],",",["T_WHITESPACE"," ",326],["T_STRING","serialize",326],"(",["T_VARIABLE","$buyRequest",326],["T_OBJECT_OPERATOR","->",326],["T_STRING","getData",326],"(",")",")",")",";",["T_WHITESPACE","\n\n                ",326],["T_VARIABLE","$products",328],"[","]",["T_WHITESPACE"," ",328],"=",["T_WHITESPACE"," ",328],["T_VARIABLE","$product",328],";",["T_WHITESPACE","\n            ",328],"}",["T_WHITESPACE","\n\n            ",329],["T_IF","if",331],["T_WHITESPACE"," ",331],"(",["T_STRING","count",331],"(",["T_VARIABLE","$products",331],")",")",["T_WHITESPACE"," ",331],"{",["T_WHITESPACE","\n                ",331],["T_RETURN","return",332],["T_WHITESPACE"," ",332],["T_VARIABLE","$products",332],";",["T_WHITESPACE","\n            ",332],"}",["T_WHITESPACE","\n        ",333],"}",["T_WHITESPACE","\n\n        ",334],["T_RETURN","return",336],["T_WHITESPACE"," ",336],["T_STRING","Mage",336],["T_DOUBLE_COLON","::",336],["T_STRING","helper",336],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog'",336],")",["T_OBJECT_OPERATOR","->",336],["T_STRING","__",336],"(",["T_CONSTANT_ENCAPSED_STRING","'Please specify the quantity of product(s).'",336],")",";",["T_WHITESPACE","\n    ",336],"}",["T_WHITESPACE","\n\n    ",337],["T_DOC_COMMENT","\/**\n     * Retrieve products divided into groups required to purchase\n     * At least one product in each group has to be purchased\n     *\n     * @param Mage_Catalog_Model_Product $product\n     * @return array\n     *\/",339],["T_WHITESPACE","\n    ",345],["T_PUBLIC","public",346],["T_WHITESPACE"," ",346],["T_FUNCTION","function",346],["T_WHITESPACE"," ",346],["T_STRING","getProductsToPurchaseByReqGroups",346],"(",["T_VARIABLE","$product",346],["T_WHITESPACE"," ",346],"=",["T_WHITESPACE"," ",346],["T_STRING","null",346],")",["T_WHITESPACE","\n    ",346],"{",["T_WHITESPACE","\n        ",347],["T_VARIABLE","$product",348],["T_WHITESPACE"," ",348],"=",["T_WHITESPACE"," ",348],["T_VARIABLE","$this",348],["T_OBJECT_OPERATOR","->",348],["T_STRING","getProduct",348],"(",["T_VARIABLE","$product",348],")",";",["T_WHITESPACE","\n        ",348],["T_RETURN","return",349],["T_WHITESPACE"," ",349],["T_ARRAY","array",349],"(",["T_VARIABLE","$this",349],["T_OBJECT_OPERATOR","->",349],["T_STRING","getAssociatedProducts",349],"(",["T_VARIABLE","$product",349],")",")",";",["T_WHITESPACE","\n    ",349],"}",["T_WHITESPACE","\n\n    ",350],["T_DOC_COMMENT","\/**\n     * Prepare selected qty for grouped product's options\n     *\n     * @param  Mage_Catalog_Model_Product $product\n     * @param  Varien_Object $buyRequest\n     * @return array\n     *\/",352],["T_WHITESPACE","\n    ",358],["T_PUBLIC","public",359],["T_WHITESPACE"," ",359],["T_FUNCTION","function",359],["T_WHITESPACE"," ",359],["T_STRING","processBuyRequest",359],"(",["T_VARIABLE","$product",359],",",["T_WHITESPACE"," ",359],["T_VARIABLE","$buyRequest",359],")",["T_WHITESPACE","\n    ",359],"{",["T_WHITESPACE","\n        ",360],["T_VARIABLE","$superGroup",361],["T_WHITESPACE"," ",361],"=",["T_WHITESPACE"," ",361],["T_VARIABLE","$buyRequest",361],["T_OBJECT_OPERATOR","->",361],["T_STRING","getSuperGroup",361],"(",")",";",["T_WHITESPACE","\n        ",361],["T_VARIABLE","$superGroup",362],["T_WHITESPACE"," ",362],"=",["T_WHITESPACE"," ",362],"(",["T_STRING","is_array",362],"(",["T_VARIABLE","$superGroup",362],")",")",["T_WHITESPACE"," ",362],"?",["T_WHITESPACE"," ",362],["T_STRING","array_filter",362],"(",["T_VARIABLE","$superGroup",362],",",["T_WHITESPACE"," ",362],["T_CONSTANT_ENCAPSED_STRING","'intval'",362],")",["T_WHITESPACE"," ",362],":",["T_WHITESPACE"," ",362],["T_ARRAY","array",362],"(",")",";",["T_WHITESPACE","\n\n        ",362],["T_VARIABLE","$options",364],["T_WHITESPACE"," ",364],"=",["T_WHITESPACE"," ",364],["T_ARRAY","array",364],"(",["T_CONSTANT_ENCAPSED_STRING","'super_group'",364],["T_WHITESPACE"," ",364],["T_DOUBLE_ARROW","=>",364],["T_WHITESPACE"," ",364],["T_VARIABLE","$superGroup",364],")",";",["T_WHITESPACE","\n\n        ",364],["T_RETURN","return",366],["T_WHITESPACE"," ",366],["T_VARIABLE","$options",366],";",["T_WHITESPACE","\n    ",366],"}",["T_WHITESPACE","\n",367],"}",["T_WHITESPACE","\n",368]]