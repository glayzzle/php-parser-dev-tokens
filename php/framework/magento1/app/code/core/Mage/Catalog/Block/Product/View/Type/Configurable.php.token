[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Magento\n *\n * NOTICE OF LICENSE\n *\n * This source file is subject to the Open Software License (OSL 3.0)\n * that is bundled with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/opensource.org\/licenses\/osl-3.0.php\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@magento.com so we can send you a copy immediately.\n *\n * DISCLAIMER\n *\n * Do not edit or add to this file if you wish to upgrade Magento to newer\n * versions in the future. If you wish to customize Magento for your\n * needs please refer to http:\/\/www.magento.com for more information.\n *\n * @category    Mage\n * @package     Mage_Catalog\n * @copyright  Copyright (c) 2006-2016 X.commerce, Inc. and affiliates (http:\/\/www.magento.com)\n * @license    http:\/\/opensource.org\/licenses\/osl-3.0.php  Open Software License (OSL 3.0)\n *\/",2],["T_WHITESPACE","\n\n\n",25],["T_DOC_COMMENT","\/**\n * Catalog super product configurable part block\n *\n * @category   Mage\n * @package    Mage_Catalog\n * @author      Magento Core Team <core@magentocommerce.com>\n *\/",28],["T_WHITESPACE","\n",34],["T_CLASS","class",35],["T_WHITESPACE"," ",35],["T_STRING","Mage_Catalog_Block_Product_View_Type_Configurable",35],["T_WHITESPACE"," ",35],["T_EXTENDS","extends",35],["T_WHITESPACE"," ",35],["T_STRING","Mage_Catalog_Block_Product_View_Abstract",35],["T_WHITESPACE","\n",35],"{",["T_WHITESPACE","\n    ",36],["T_DOC_COMMENT","\/**\n     * Prices\n     *\n     * @var array\n     *\/",37],["T_WHITESPACE","\n    ",41],["T_PROTECTED","protected",42],["T_WHITESPACE"," ",42],["T_VARIABLE","$_prices",42],["T_WHITESPACE","      ",42],"=",["T_WHITESPACE"," ",42],["T_ARRAY","array",42],"(",")",";",["T_WHITESPACE","\n\n    ",42],["T_DOC_COMMENT","\/**\n     * Prepared prices\n     *\n     * @var array\n     *\/",44],["T_WHITESPACE","\n    ",48],["T_PROTECTED","protected",49],["T_WHITESPACE"," ",49],["T_VARIABLE","$_resPrices",49],["T_WHITESPACE","   ",49],"=",["T_WHITESPACE"," ",49],["T_ARRAY","array",49],"(",")",";",["T_WHITESPACE","\n\n    ",49],["T_DOC_COMMENT","\/**\n     * Get helper for calculation purposes\n     *\n     * @return Mage_Catalog_Helper_Product_Type_Composite\n     *\/",51],["T_WHITESPACE","\n    ",55],["T_PROTECTED","protected",56],["T_WHITESPACE"," ",56],["T_FUNCTION","function",56],["T_WHITESPACE"," ",56],["T_STRING","_getHelper",56],"(",")",["T_WHITESPACE","\n    ",56],"{",["T_WHITESPACE","\n        ",57],["T_RETURN","return",58],["T_WHITESPACE"," ",58],["T_VARIABLE","$this",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","helper",58],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog\/product_type_composite'",58],")",";",["T_WHITESPACE","\n    ",58],"}",["T_WHITESPACE","\n\n    ",59],["T_DOC_COMMENT","\/**\n     * Get allowed attributes\n     *\n     * @return array\n     *\/",61],["T_WHITESPACE","\n    ",65],["T_PUBLIC","public",66],["T_WHITESPACE"," ",66],["T_FUNCTION","function",66],["T_WHITESPACE"," ",66],["T_STRING","getAllowAttributes",66],"(",")",["T_WHITESPACE","\n    ",66],"{",["T_WHITESPACE","\n        ",67],["T_RETURN","return",68],["T_WHITESPACE"," ",68],["T_VARIABLE","$this",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","getProduct",68],"(",")",["T_OBJECT_OPERATOR","->",68],["T_STRING","getTypeInstance",68],"(",["T_STRING","true",68],")",["T_WHITESPACE","\n            ",68],["T_OBJECT_OPERATOR","->",69],["T_STRING","getConfigurableAttributes",69],"(",["T_VARIABLE","$this",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","getProduct",69],"(",")",")",";",["T_WHITESPACE","\n    ",69],"}",["T_WHITESPACE","\n\n    ",70],["T_DOC_COMMENT","\/**\n     * Check if allowed attributes have options\n     *\n     * @return bool\n     *\/",72],["T_WHITESPACE","\n    ",76],["T_PUBLIC","public",77],["T_WHITESPACE"," ",77],["T_FUNCTION","function",77],["T_WHITESPACE"," ",77],["T_STRING","hasOptions",77],"(",")",["T_WHITESPACE","\n    ",77],"{",["T_WHITESPACE","\n        ",78],["T_VARIABLE","$attributes",79],["T_WHITESPACE"," ",79],"=",["T_WHITESPACE"," ",79],["T_VARIABLE","$this",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","getAllowAttributes",79],"(",")",";",["T_WHITESPACE","\n        ",79],["T_IF","if",80],["T_WHITESPACE"," ",80],"(",["T_STRING","count",80],"(",["T_VARIABLE","$attributes",80],")",")",["T_WHITESPACE"," ",80],"{",["T_WHITESPACE","\n            ",80],["T_FOREACH","foreach",81],["T_WHITESPACE"," ",81],"(",["T_VARIABLE","$attributes",81],["T_WHITESPACE"," ",81],["T_AS","as",81],["T_WHITESPACE"," ",81],["T_VARIABLE","$attribute",81],")",["T_WHITESPACE"," ",81],"{",["T_WHITESPACE","\n                ",81],["T_DOC_COMMENT","\/** @var Mage_Catalog_Model_Product_Type_Configurable_Attribute $attribute *\/",82],["T_WHITESPACE","\n                ",82],["T_IF","if",83],["T_WHITESPACE"," ",83],"(",["T_VARIABLE","$attribute",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","getData",83],"(",["T_CONSTANT_ENCAPSED_STRING","'prices'",83],")",")",["T_WHITESPACE"," ",83],"{",["T_WHITESPACE","\n                    ",83],["T_RETURN","return",84],["T_WHITESPACE"," ",84],["T_STRING","true",84],";",["T_WHITESPACE","\n                ",84],"}",["T_WHITESPACE","\n            ",85],"}",["T_WHITESPACE","\n        ",86],"}",["T_WHITESPACE","\n        ",87],["T_RETURN","return",88],["T_WHITESPACE"," ",88],["T_STRING","false",88],";",["T_WHITESPACE","\n    ",88],"}",["T_WHITESPACE","\n\n    ",89],["T_DOC_COMMENT","\/**\n     * Get Allowed Products\n     *\n     * @return array\n     *\/",91],["T_WHITESPACE","\n    ",95],["T_PUBLIC","public",96],["T_WHITESPACE"," ",96],["T_FUNCTION","function",96],["T_WHITESPACE"," ",96],["T_STRING","getAllowProducts",96],"(",")",["T_WHITESPACE","\n    ",96],"{",["T_WHITESPACE","\n        ",97],["T_IF","if",98],["T_WHITESPACE"," ",98],"(","!",["T_VARIABLE","$this",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","hasAllowProducts",98],"(",")",")",["T_WHITESPACE"," ",98],"{",["T_WHITESPACE","\n            ",98],["T_VARIABLE","$products",99],["T_WHITESPACE"," ",99],"=",["T_WHITESPACE"," ",99],["T_ARRAY","array",99],"(",")",";",["T_WHITESPACE","\n            ",99],["T_VARIABLE","$skipSaleableCheck",100],["T_WHITESPACE"," ",100],"=",["T_WHITESPACE"," ",100],["T_STRING","Mage",100],["T_DOUBLE_COLON","::",100],["T_STRING","helper",100],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog\/product'",100],")",["T_OBJECT_OPERATOR","->",100],["T_STRING","getSkipSaleableCheck",100],"(",")",";",["T_WHITESPACE","\n            ",100],["T_VARIABLE","$allProducts",101],["T_WHITESPACE"," ",101],"=",["T_WHITESPACE"," ",101],["T_VARIABLE","$this",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","getProduct",101],"(",")",["T_OBJECT_OPERATOR","->",101],["T_STRING","getTypeInstance",101],"(",["T_STRING","true",101],")",["T_WHITESPACE","\n                ",101],["T_OBJECT_OPERATOR","->",102],["T_STRING","getUsedProducts",102],"(",["T_STRING","null",102],",",["T_WHITESPACE"," ",102],["T_VARIABLE","$this",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","getProduct",102],"(",")",")",";",["T_WHITESPACE","\n            ",102],["T_FOREACH","foreach",103],["T_WHITESPACE"," ",103],"(",["T_VARIABLE","$allProducts",103],["T_WHITESPACE"," ",103],["T_AS","as",103],["T_WHITESPACE"," ",103],["T_VARIABLE","$product",103],")",["T_WHITESPACE"," ",103],"{",["T_WHITESPACE","\n                ",103],["T_IF","if",104],["T_WHITESPACE"," ",104],"(",["T_VARIABLE","$product",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","isSaleable",104],"(",")",["T_WHITESPACE","\n                    ",104],["T_BOOLEAN_OR","||",105],["T_WHITESPACE"," ",105],["T_VARIABLE","$skipSaleableCheck",105],["T_WHITESPACE","\n                    ",105],["T_BOOLEAN_OR","||",106],["T_WHITESPACE"," ",106],"(","!",["T_VARIABLE","$product",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","getStockItem",106],"(",")",["T_OBJECT_OPERATOR","->",106],["T_STRING","getIsInStock",106],"(",")",["T_WHITESPACE","\n                        ",106],["T_BOOLEAN_AND","&&",107],["T_WHITESPACE"," ",107],["T_STRING","Mage",107],["T_DOUBLE_COLON","::",107],["T_STRING","helper",107],"(",["T_CONSTANT_ENCAPSED_STRING","'cataloginventory'",107],")",["T_OBJECT_OPERATOR","->",107],["T_STRING","isShowOutOfStock",107],"(",")",")",")",["T_WHITESPACE"," ",107],"{",["T_WHITESPACE","\n                    ",107],["T_VARIABLE","$products",108],"[","]",["T_WHITESPACE"," ",108],"=",["T_WHITESPACE"," ",108],["T_VARIABLE","$product",108],";",["T_WHITESPACE","\n                ",108],"}",["T_WHITESPACE","\n            ",109],"}",["T_WHITESPACE","\n            ",110],["T_VARIABLE","$this",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","setAllowProducts",111],"(",["T_VARIABLE","$products",111],")",";",["T_WHITESPACE","\n        ",111],"}",["T_WHITESPACE","\n        ",112],["T_RETURN","return",113],["T_WHITESPACE"," ",113],["T_VARIABLE","$this",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","getData",113],"(",["T_CONSTANT_ENCAPSED_STRING","'allow_products'",113],")",";",["T_WHITESPACE","\n    ",113],"}",["T_WHITESPACE","\n\n    ",114],["T_DOC_COMMENT","\/**\n     * retrieve current store\n     *\n     * @deprecated\n     * @return Mage_Core_Model_Store\n     *\/",116],["T_WHITESPACE","\n    ",121],["T_PUBLIC","public",122],["T_WHITESPACE"," ",122],["T_FUNCTION","function",122],["T_WHITESPACE"," ",122],["T_STRING","getCurrentStore",122],"(",")",["T_WHITESPACE","\n    ",122],"{",["T_WHITESPACE","\n        ",123],["T_RETURN","return",124],["T_WHITESPACE"," ",124],["T_VARIABLE","$this",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","_getHelper",124],"(",")",["T_OBJECT_OPERATOR","->",124],["T_STRING","getCurrentStore",124],"(",")",";",["T_WHITESPACE","\n    ",124],"}",["T_WHITESPACE","\n\n    ",125],["T_DOC_COMMENT","\/**\n     * Returns additional values for js config, con be overriden by descedants\n     *\n     * @return array\n     *\/",127],["T_WHITESPACE","\n    ",131],["T_PROTECTED","protected",132],["T_WHITESPACE"," ",132],["T_FUNCTION","function",132],["T_WHITESPACE"," ",132],["T_STRING","_getAdditionalConfig",132],"(",")",["T_WHITESPACE","\n    ",132],"{",["T_WHITESPACE","\n        ",133],["T_RETURN","return",134],["T_WHITESPACE"," ",134],["T_ARRAY","array",134],"(",")",";",["T_WHITESPACE","\n    ",134],"}",["T_WHITESPACE","\n\n    ",135],["T_DOC_COMMENT","\/**\n     * Composes configuration for js\n     *\n     * @return string\n     *\/",137],["T_WHITESPACE","\n    ",141],["T_PUBLIC","public",142],["T_WHITESPACE"," ",142],["T_FUNCTION","function",142],["T_WHITESPACE"," ",142],["T_STRING","getJsonConfig",142],"(",")",["T_WHITESPACE","\n    ",142],"{",["T_WHITESPACE","\n        ",143],["T_VARIABLE","$attributes",144],["T_WHITESPACE"," ",144],"=",["T_WHITESPACE"," ",144],["T_ARRAY","array",144],"(",")",";",["T_WHITESPACE","\n        ",144],["T_VARIABLE","$options",145],["T_WHITESPACE","    ",145],"=",["T_WHITESPACE"," ",145],["T_ARRAY","array",145],"(",")",";",["T_WHITESPACE","\n        ",145],["T_VARIABLE","$store",146],["T_WHITESPACE","      ",146],"=",["T_WHITESPACE"," ",146],["T_VARIABLE","$this",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","getCurrentStore",146],"(",")",";",["T_WHITESPACE","\n        ",146],["T_VARIABLE","$taxHelper",147],["T_WHITESPACE","  ",147],"=",["T_WHITESPACE"," ",147],["T_STRING","Mage",147],["T_DOUBLE_COLON","::",147],["T_STRING","helper",147],"(",["T_CONSTANT_ENCAPSED_STRING","'tax'",147],")",";",["T_WHITESPACE","\n        ",147],["T_VARIABLE","$currentProduct",148],["T_WHITESPACE"," ",148],"=",["T_WHITESPACE"," ",148],["T_VARIABLE","$this",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","getProduct",148],"(",")",";",["T_WHITESPACE","\n\n        ",148],["T_VARIABLE","$preconfiguredFlag",150],["T_WHITESPACE"," ",150],"=",["T_WHITESPACE"," ",150],["T_VARIABLE","$currentProduct",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","hasPreconfiguredValues",150],"(",")",";",["T_WHITESPACE","\n        ",150],["T_IF","if",151],["T_WHITESPACE"," ",151],"(",["T_VARIABLE","$preconfiguredFlag",151],")",["T_WHITESPACE"," ",151],"{",["T_WHITESPACE","\n            ",151],["T_VARIABLE","$preconfiguredValues",152],["T_WHITESPACE"," ",152],"=",["T_WHITESPACE"," ",152],["T_VARIABLE","$currentProduct",152],["T_OBJECT_OPERATOR","->",152],["T_STRING","getPreconfiguredValues",152],"(",")",";",["T_WHITESPACE","\n            ",152],["T_VARIABLE","$defaultValues",153],["T_WHITESPACE","       ",153],"=",["T_WHITESPACE"," ",153],["T_ARRAY","array",153],"(",")",";",["T_WHITESPACE","\n        ",153],"}",["T_WHITESPACE","\n        ",154],["T_VARIABLE","$productStock",155],["T_WHITESPACE"," ",155],"=",["T_WHITESPACE"," ",155],["T_ARRAY","array",155],"(",")",";",["T_WHITESPACE","\n        ",155],["T_FOREACH","foreach",156],["T_WHITESPACE"," ",156],"(",["T_VARIABLE","$this",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","getAllowProducts",156],"(",")",["T_WHITESPACE"," ",156],["T_AS","as",156],["T_WHITESPACE"," ",156],["T_VARIABLE","$product",156],")",["T_WHITESPACE"," ",156],"{",["T_WHITESPACE","\n            ",156],["T_VARIABLE","$productId",157],["T_WHITESPACE","  ",157],"=",["T_WHITESPACE"," ",157],["T_VARIABLE","$product",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","getId",157],"(",")",";",["T_WHITESPACE","\n            ",157],["T_VARIABLE","$productStock",158],"[",["T_VARIABLE","$productId",158],"]",["T_WHITESPACE"," ",158],"=",["T_WHITESPACE"," ",158],["T_VARIABLE","$product",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","getStockItem",158],"(",")",["T_OBJECT_OPERATOR","->",158],["T_STRING","getIsInStock",158],"(",")",";",["T_WHITESPACE","\n            ",158],["T_FOREACH","foreach",159],["T_WHITESPACE"," ",159],"(",["T_VARIABLE","$this",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","getAllowAttributes",159],"(",")",["T_WHITESPACE"," ",159],["T_AS","as",159],["T_WHITESPACE"," ",159],["T_VARIABLE","$attribute",159],")",["T_WHITESPACE"," ",159],"{",["T_WHITESPACE","\n                ",159],["T_VARIABLE","$productAttribute",160],["T_WHITESPACE","   ",160],"=",["T_WHITESPACE"," ",160],["T_VARIABLE","$attribute",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","getProductAttribute",160],"(",")",";",["T_WHITESPACE","\n                ",160],["T_VARIABLE","$productAttributeId",161],["T_WHITESPACE"," ",161],"=",["T_WHITESPACE"," ",161],["T_VARIABLE","$productAttribute",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","getId",161],"(",")",";",["T_WHITESPACE","\n                ",161],["T_VARIABLE","$attributeValue",162],["T_WHITESPACE","     ",162],"=",["T_WHITESPACE"," ",162],["T_VARIABLE","$product",162],["T_OBJECT_OPERATOR","->",162],["T_STRING","getData",162],"(",["T_VARIABLE","$productAttribute",162],["T_OBJECT_OPERATOR","->",162],["T_STRING","getAttributeCode",162],"(",")",")",";",["T_WHITESPACE","\n                ",162],["T_IF","if",163],["T_WHITESPACE"," ",163],"(","!",["T_ISSET","isset",163],"(",["T_VARIABLE","$options",163],"[",["T_VARIABLE","$productAttributeId",163],"]",")",")",["T_WHITESPACE"," ",163],"{",["T_WHITESPACE","\n                    ",163],["T_VARIABLE","$options",164],"[",["T_VARIABLE","$productAttributeId",164],"]",["T_WHITESPACE"," ",164],"=",["T_WHITESPACE"," ",164],["T_ARRAY","array",164],"(",")",";",["T_WHITESPACE","\n                ",164],"}",["T_WHITESPACE","\n\n                ",165],["T_IF","if",167],["T_WHITESPACE"," ",167],"(","!",["T_ISSET","isset",167],"(",["T_VARIABLE","$options",167],"[",["T_VARIABLE","$productAttributeId",167],"]","[",["T_VARIABLE","$attributeValue",167],"]",")",")",["T_WHITESPACE"," ",167],"{",["T_WHITESPACE","\n                    ",167],["T_VARIABLE","$options",168],"[",["T_VARIABLE","$productAttributeId",168],"]","[",["T_VARIABLE","$attributeValue",168],"]",["T_WHITESPACE"," ",168],"=",["T_WHITESPACE"," ",168],["T_ARRAY","array",168],"(",")",";",["T_WHITESPACE","\n                ",168],"}",["T_WHITESPACE","\n                ",169],["T_VARIABLE","$options",170],"[",["T_VARIABLE","$productAttributeId",170],"]","[",["T_VARIABLE","$attributeValue",170],"]","[","]",["T_WHITESPACE"," ",170],"=",["T_WHITESPACE"," ",170],["T_VARIABLE","$productId",170],";",["T_WHITESPACE","\n            ",170],"}",["T_WHITESPACE","\n        ",171],"}",["T_WHITESPACE","\n\n        ",172],["T_VARIABLE","$this",174],["T_OBJECT_OPERATOR","->",174],["T_STRING","_resPrices",174],["T_WHITESPACE"," ",174],"=",["T_WHITESPACE"," ",174],["T_ARRAY","array",174],"(",["T_WHITESPACE","\n            ",174],["T_VARIABLE","$this",175],["T_OBJECT_OPERATOR","->",175],["T_STRING","_preparePrice",175],"(",["T_VARIABLE","$currentProduct",175],["T_OBJECT_OPERATOR","->",175],["T_STRING","getFinalPrice",175],"(",")",")",["T_WHITESPACE","\n        ",175],")",";",["T_WHITESPACE","\n\n        ",176],["T_FOREACH","foreach",178],["T_WHITESPACE"," ",178],"(",["T_VARIABLE","$this",178],["T_OBJECT_OPERATOR","->",178],["T_STRING","getAllowAttributes",178],"(",")",["T_WHITESPACE"," ",178],["T_AS","as",178],["T_WHITESPACE"," ",178],["T_VARIABLE","$attribute",178],")",["T_WHITESPACE"," ",178],"{",["T_WHITESPACE","\n            ",178],["T_VARIABLE","$productAttribute",179],["T_WHITESPACE"," ",179],"=",["T_WHITESPACE"," ",179],["T_VARIABLE","$attribute",179],["T_OBJECT_OPERATOR","->",179],["T_STRING","getProductAttribute",179],"(",")",";",["T_WHITESPACE","\n            ",179],["T_VARIABLE","$attributeId",180],["T_WHITESPACE"," ",180],"=",["T_WHITESPACE"," ",180],["T_VARIABLE","$productAttribute",180],["T_OBJECT_OPERATOR","->",180],["T_STRING","getId",180],"(",")",";",["T_WHITESPACE","\n            ",180],["T_VARIABLE","$info",181],["T_WHITESPACE"," ",181],"=",["T_WHITESPACE"," ",181],["T_ARRAY","array",181],"(",["T_WHITESPACE","\n               ",181],["T_CONSTANT_ENCAPSED_STRING","'id'",182],["T_WHITESPACE","        ",182],["T_DOUBLE_ARROW","=>",182],["T_WHITESPACE"," ",182],["T_VARIABLE","$productAttribute",182],["T_OBJECT_OPERATOR","->",182],["T_STRING","getId",182],"(",")",",",["T_WHITESPACE","\n               ",182],["T_CONSTANT_ENCAPSED_STRING","'code'",183],["T_WHITESPACE","      ",183],["T_DOUBLE_ARROW","=>",183],["T_WHITESPACE"," ",183],["T_VARIABLE","$productAttribute",183],["T_OBJECT_OPERATOR","->",183],["T_STRING","getAttributeCode",183],"(",")",",",["T_WHITESPACE","\n               ",183],["T_CONSTANT_ENCAPSED_STRING","'label'",184],["T_WHITESPACE","     ",184],["T_DOUBLE_ARROW","=>",184],["T_WHITESPACE"," ",184],["T_VARIABLE","$attribute",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","getLabel",184],"(",")",",",["T_WHITESPACE","\n               ",184],["T_CONSTANT_ENCAPSED_STRING","'options'",185],["T_WHITESPACE","   ",185],["T_DOUBLE_ARROW","=>",185],["T_WHITESPACE"," ",185],["T_ARRAY","array",185],"(",")",["T_WHITESPACE","\n            ",185],")",";",["T_WHITESPACE","\n\n            ",186],["T_VARIABLE","$optionPrices",188],["T_WHITESPACE"," ",188],"=",["T_WHITESPACE"," ",188],["T_ARRAY","array",188],"(",")",";",["T_WHITESPACE","\n            ",188],["T_VARIABLE","$prices",189],["T_WHITESPACE"," ",189],"=",["T_WHITESPACE"," ",189],["T_VARIABLE","$attribute",189],["T_OBJECT_OPERATOR","->",189],["T_STRING","getPrices",189],"(",")",";",["T_WHITESPACE","\n            ",189],["T_IF","if",190],["T_WHITESPACE"," ",190],"(",["T_STRING","is_array",190],"(",["T_VARIABLE","$prices",190],")",")",["T_WHITESPACE"," ",190],"{",["T_WHITESPACE","\n                ",190],["T_FOREACH","foreach",191],["T_WHITESPACE"," ",191],"(",["T_VARIABLE","$prices",191],["T_WHITESPACE"," ",191],["T_AS","as",191],["T_WHITESPACE"," ",191],["T_VARIABLE","$value",191],")",["T_WHITESPACE"," ",191],"{",["T_WHITESPACE","\n                    ",191],["T_IF","if",192],"(","!",["T_VARIABLE","$this",192],["T_OBJECT_OPERATOR","->",192],["T_STRING","_validateAttributeValue",192],"(",["T_VARIABLE","$attributeId",192],",",["T_WHITESPACE"," ",192],["T_VARIABLE","$value",192],",",["T_WHITESPACE"," ",192],["T_VARIABLE","$options",192],")",")",["T_WHITESPACE"," ",192],"{",["T_WHITESPACE","\n                        ",192],["T_CONTINUE","continue",193],";",["T_WHITESPACE","\n                    ",193],"}",["T_WHITESPACE","\n                    ",194],["T_VARIABLE","$currentProduct",195],["T_OBJECT_OPERATOR","->",195],["T_STRING","setConfigurablePrice",195],"(",["T_WHITESPACE","\n                        ",195],["T_VARIABLE","$this",196],["T_OBJECT_OPERATOR","->",196],["T_STRING","_preparePrice",196],"(",["T_VARIABLE","$value",196],"[",["T_CONSTANT_ENCAPSED_STRING","'pricing_value'",196],"]",",",["T_WHITESPACE"," ",196],["T_VARIABLE","$value",196],"[",["T_CONSTANT_ENCAPSED_STRING","'is_percent'",196],"]",")",["T_WHITESPACE","\n                    ",196],")",";",["T_WHITESPACE","\n                    ",197],["T_VARIABLE","$currentProduct",198],["T_OBJECT_OPERATOR","->",198],["T_STRING","setParentId",198],"(",["T_STRING","true",198],")",";",["T_WHITESPACE","\n                    ",198],["T_STRING","Mage",199],["T_DOUBLE_COLON","::",199],["T_STRING","dispatchEvent",199],"(",["T_WHITESPACE","\n                        ",199],["T_CONSTANT_ENCAPSED_STRING","'catalog_product_type_configurable_price'",200],",",["T_WHITESPACE","\n                        ",200],["T_ARRAY","array",201],"(",["T_CONSTANT_ENCAPSED_STRING","'product'",201],["T_WHITESPACE"," ",201],["T_DOUBLE_ARROW","=>",201],["T_WHITESPACE"," ",201],["T_VARIABLE","$currentProduct",201],")",["T_WHITESPACE","\n                    ",201],")",";",["T_WHITESPACE","\n                    ",202],["T_VARIABLE","$configurablePrice",203],["T_WHITESPACE"," ",203],"=",["T_WHITESPACE"," ",203],["T_VARIABLE","$currentProduct",203],["T_OBJECT_OPERATOR","->",203],["T_STRING","getConfigurablePrice",203],"(",")",";",["T_WHITESPACE","\n\n                    ",203],["T_IF","if",205],["T_WHITESPACE"," ",205],"(",["T_ISSET","isset",205],"(",["T_VARIABLE","$options",205],"[",["T_VARIABLE","$attributeId",205],"]","[",["T_VARIABLE","$value",205],"[",["T_CONSTANT_ENCAPSED_STRING","'value_index'",205],"]","]",")",")",["T_WHITESPACE"," ",205],"{",["T_WHITESPACE","\n                        ",205],["T_VARIABLE","$productsIndexOptions",206],["T_WHITESPACE"," ",206],"=",["T_WHITESPACE"," ",206],["T_VARIABLE","$options",206],"[",["T_VARIABLE","$attributeId",206],"]","[",["T_VARIABLE","$value",206],"[",["T_CONSTANT_ENCAPSED_STRING","'value_index'",206],"]","]",";",["T_WHITESPACE","\n                        ",206],["T_VARIABLE","$productsIndex",207],["T_WHITESPACE"," ",207],"=",["T_WHITESPACE"," ",207],["T_ARRAY","array",207],"(",")",";",["T_WHITESPACE","\n                        ",207],["T_FOREACH","foreach",208],["T_WHITESPACE"," ",208],"(",["T_VARIABLE","$productsIndexOptions",208],["T_WHITESPACE"," ",208],["T_AS","as",208],["T_WHITESPACE"," ",208],["T_VARIABLE","$productIndex",208],")",["T_WHITESPACE"," ",208],"{",["T_WHITESPACE","\n                            ",208],["T_IF","if",209],["T_WHITESPACE"," ",209],"(",["T_VARIABLE","$productStock",209],"[",["T_VARIABLE","$productIndex",209],"]",")",["T_WHITESPACE"," ",209],"{",["T_WHITESPACE","\n                                ",209],["T_VARIABLE","$productsIndex",210],"[","]",["T_WHITESPACE"," ",210],"=",["T_WHITESPACE"," ",210],["T_VARIABLE","$productIndex",210],";",["T_WHITESPACE","\n                            ",210],"}",["T_WHITESPACE","\n                        ",211],"}",["T_WHITESPACE","\n                    ",212],"}",["T_WHITESPACE"," ",213],["T_ELSE","else",213],["T_WHITESPACE"," ",213],"{",["T_WHITESPACE","\n                        ",213],["T_VARIABLE","$productsIndex",214],["T_WHITESPACE"," ",214],"=",["T_WHITESPACE"," ",214],["T_ARRAY","array",214],"(",")",";",["T_WHITESPACE","\n                    ",214],"}",["T_WHITESPACE","\n\n                    ",215],["T_VARIABLE","$info",217],"[",["T_CONSTANT_ENCAPSED_STRING","'options'",217],"]","[","]",["T_WHITESPACE"," ",217],"=",["T_WHITESPACE"," ",217],["T_ARRAY","array",217],"(",["T_WHITESPACE","\n                        ",217],["T_CONSTANT_ENCAPSED_STRING","'id'",218],["T_WHITESPACE","        ",218],["T_DOUBLE_ARROW","=>",218],["T_WHITESPACE"," ",218],["T_VARIABLE","$value",218],"[",["T_CONSTANT_ENCAPSED_STRING","'value_index'",218],"]",",",["T_WHITESPACE","\n                        ",218],["T_CONSTANT_ENCAPSED_STRING","'label'",219],["T_WHITESPACE","     ",219],["T_DOUBLE_ARROW","=>",219],["T_WHITESPACE"," ",219],["T_VARIABLE","$value",219],"[",["T_CONSTANT_ENCAPSED_STRING","'label'",219],"]",",",["T_WHITESPACE","\n                        ",219],["T_CONSTANT_ENCAPSED_STRING","'price'",220],["T_WHITESPACE","     ",220],["T_DOUBLE_ARROW","=>",220],["T_WHITESPACE"," ",220],["T_VARIABLE","$configurablePrice",220],",",["T_WHITESPACE","\n                        ",220],["T_CONSTANT_ENCAPSED_STRING","'oldPrice'",221],["T_WHITESPACE","  ",221],["T_DOUBLE_ARROW","=>",221],["T_WHITESPACE"," ",221],["T_VARIABLE","$this",221],["T_OBJECT_OPERATOR","->",221],["T_STRING","_prepareOldPrice",221],"(",["T_VARIABLE","$value",221],"[",["T_CONSTANT_ENCAPSED_STRING","'pricing_value'",221],"]",",",["T_WHITESPACE"," ",221],["T_VARIABLE","$value",221],"[",["T_CONSTANT_ENCAPSED_STRING","'is_percent'",221],"]",")",",",["T_WHITESPACE","\n                        ",221],["T_CONSTANT_ENCAPSED_STRING","'products'",222],["T_WHITESPACE","  ",222],["T_DOUBLE_ARROW","=>",222],["T_WHITESPACE"," ",222],["T_VARIABLE","$productsIndex",222],",",["T_WHITESPACE","\n                    ",222],")",";",["T_WHITESPACE","\n                    ",223],["T_VARIABLE","$optionPrices",224],"[","]",["T_WHITESPACE"," ",224],"=",["T_WHITESPACE"," ",224],["T_VARIABLE","$configurablePrice",224],";",["T_WHITESPACE","\n                ",224],"}",["T_WHITESPACE","\n            ",225],"}",["T_WHITESPACE","\n            ",226],["T_DOC_COMMENT","\/**\n             * Prepare formated values for options choose\n             *\/",227],["T_WHITESPACE","\n            ",229],["T_FOREACH","foreach",230],["T_WHITESPACE"," ",230],"(",["T_VARIABLE","$optionPrices",230],["T_WHITESPACE"," ",230],["T_AS","as",230],["T_WHITESPACE"," ",230],["T_VARIABLE","$optionPrice",230],")",["T_WHITESPACE"," ",230],"{",["T_WHITESPACE","\n                ",230],["T_FOREACH","foreach",231],["T_WHITESPACE"," ",231],"(",["T_VARIABLE","$optionPrices",231],["T_WHITESPACE"," ",231],["T_AS","as",231],["T_WHITESPACE"," ",231],["T_VARIABLE","$additional",231],")",["T_WHITESPACE"," ",231],"{",["T_WHITESPACE","\n                    ",231],["T_VARIABLE","$this",232],["T_OBJECT_OPERATOR","->",232],["T_STRING","_preparePrice",232],"(",["T_STRING","abs",232],"(",["T_VARIABLE","$additional",232],"-",["T_VARIABLE","$optionPrice",232],")",")",";",["T_WHITESPACE","\n                ",232],"}",["T_WHITESPACE","\n            ",233],"}",["T_WHITESPACE","\n            ",234],["T_IF","if",235],"(",["T_VARIABLE","$this",235],["T_OBJECT_OPERATOR","->",235],["T_STRING","_validateAttributeInfo",235],"(",["T_VARIABLE","$info",235],")",")",["T_WHITESPACE"," ",235],"{",["T_WHITESPACE","\n               ",235],["T_VARIABLE","$attributes",236],"[",["T_VARIABLE","$attributeId",236],"]",["T_WHITESPACE"," ",236],"=",["T_WHITESPACE"," ",236],["T_VARIABLE","$info",236],";",["T_WHITESPACE","\n            ",236],"}",["T_WHITESPACE","\n\n            ",237],["T_COMMENT","\/\/ Add attribute default value (if set)\n",239],["T_WHITESPACE","            ",240],["T_IF","if",240],["T_WHITESPACE"," ",240],"(",["T_VARIABLE","$preconfiguredFlag",240],")",["T_WHITESPACE"," ",240],"{",["T_WHITESPACE","\n                ",240],["T_VARIABLE","$configValue",241],["T_WHITESPACE"," ",241],"=",["T_WHITESPACE"," ",241],["T_VARIABLE","$preconfiguredValues",241],["T_OBJECT_OPERATOR","->",241],["T_STRING","getData",241],"(",["T_CONSTANT_ENCAPSED_STRING","'super_attribute\/'",241],["T_WHITESPACE"," ",241],".",["T_WHITESPACE"," ",241],["T_VARIABLE","$attributeId",241],")",";",["T_WHITESPACE","\n                ",241],["T_IF","if",242],["T_WHITESPACE"," ",242],"(",["T_VARIABLE","$configValue",242],")",["T_WHITESPACE"," ",242],"{",["T_WHITESPACE","\n                    ",242],["T_VARIABLE","$defaultValues",243],"[",["T_VARIABLE","$attributeId",243],"]",["T_WHITESPACE"," ",243],"=",["T_WHITESPACE"," ",243],["T_VARIABLE","$configValue",243],";",["T_WHITESPACE","\n                ",243],"}",["T_WHITESPACE","\n            ",244],"}",["T_WHITESPACE","\n        ",245],"}",["T_WHITESPACE","\n\n        ",246],["T_VARIABLE","$taxCalculation",248],["T_WHITESPACE"," ",248],"=",["T_WHITESPACE"," ",248],["T_STRING","Mage",248],["T_DOUBLE_COLON","::",248],["T_STRING","getSingleton",248],"(",["T_CONSTANT_ENCAPSED_STRING","'tax\/calculation'",248],")",";",["T_WHITESPACE","\n        ",248],["T_IF","if",249],["T_WHITESPACE"," ",249],"(","!",["T_VARIABLE","$taxCalculation",249],["T_OBJECT_OPERATOR","->",249],["T_STRING","getCustomer",249],"(",")",["T_WHITESPACE"," ",249],["T_BOOLEAN_AND","&&",249],["T_WHITESPACE"," ",249],["T_STRING","Mage",249],["T_DOUBLE_COLON","::",249],["T_STRING","registry",249],"(",["T_CONSTANT_ENCAPSED_STRING","'current_customer'",249],")",")",["T_WHITESPACE"," ",249],"{",["T_WHITESPACE","\n            ",249],["T_VARIABLE","$taxCalculation",250],["T_OBJECT_OPERATOR","->",250],["T_STRING","setCustomer",250],"(",["T_STRING","Mage",250],["T_DOUBLE_COLON","::",250],["T_STRING","registry",250],"(",["T_CONSTANT_ENCAPSED_STRING","'current_customer'",250],")",")",";",["T_WHITESPACE","\n        ",250],"}",["T_WHITESPACE","\n\n        ",251],["T_VARIABLE","$_request",253],["T_WHITESPACE"," ",253],"=",["T_WHITESPACE"," ",253],["T_VARIABLE","$taxCalculation",253],["T_OBJECT_OPERATOR","->",253],["T_STRING","getDefaultRateRequest",253],"(",")",";",["T_WHITESPACE","\n        ",253],["T_VARIABLE","$_request",254],["T_OBJECT_OPERATOR","->",254],["T_STRING","setProductClassId",254],"(",["T_VARIABLE","$currentProduct",254],["T_OBJECT_OPERATOR","->",254],["T_STRING","getTaxClassId",254],"(",")",")",";",["T_WHITESPACE","\n        ",254],["T_VARIABLE","$defaultTax",255],["T_WHITESPACE"," ",255],"=",["T_WHITESPACE"," ",255],["T_VARIABLE","$taxCalculation",255],["T_OBJECT_OPERATOR","->",255],["T_STRING","getRate",255],"(",["T_VARIABLE","$_request",255],")",";",["T_WHITESPACE","\n\n        ",255],["T_VARIABLE","$_request",257],["T_WHITESPACE"," ",257],"=",["T_WHITESPACE"," ",257],["T_VARIABLE","$taxCalculation",257],["T_OBJECT_OPERATOR","->",257],["T_STRING","getRateRequest",257],"(",")",";",["T_WHITESPACE","\n        ",257],["T_VARIABLE","$_request",258],["T_OBJECT_OPERATOR","->",258],["T_STRING","setProductClassId",258],"(",["T_VARIABLE","$currentProduct",258],["T_OBJECT_OPERATOR","->",258],["T_STRING","getTaxClassId",258],"(",")",")",";",["T_WHITESPACE","\n        ",258],["T_VARIABLE","$currentTax",259],["T_WHITESPACE"," ",259],"=",["T_WHITESPACE"," ",259],["T_VARIABLE","$taxCalculation",259],["T_OBJECT_OPERATOR","->",259],["T_STRING","getRate",259],"(",["T_VARIABLE","$_request",259],")",";",["T_WHITESPACE","\n\n        ",259],["T_VARIABLE","$taxConfig",261],["T_WHITESPACE"," ",261],"=",["T_WHITESPACE"," ",261],["T_ARRAY","array",261],"(",["T_WHITESPACE","\n            ",261],["T_CONSTANT_ENCAPSED_STRING","'includeTax'",262],["T_WHITESPACE","        ",262],["T_DOUBLE_ARROW","=>",262],["T_WHITESPACE"," ",262],["T_VARIABLE","$taxHelper",262],["T_OBJECT_OPERATOR","->",262],["T_STRING","priceIncludesTax",262],"(",")",",",["T_WHITESPACE","\n            ",262],["T_CONSTANT_ENCAPSED_STRING","'showIncludeTax'",263],["T_WHITESPACE","    ",263],["T_DOUBLE_ARROW","=>",263],["T_WHITESPACE"," ",263],["T_VARIABLE","$taxHelper",263],["T_OBJECT_OPERATOR","->",263],["T_STRING","displayPriceIncludingTax",263],"(",")",",",["T_WHITESPACE","\n            ",263],["T_CONSTANT_ENCAPSED_STRING","'showBothPrices'",264],["T_WHITESPACE","    ",264],["T_DOUBLE_ARROW","=>",264],["T_WHITESPACE"," ",264],["T_VARIABLE","$taxHelper",264],["T_OBJECT_OPERATOR","->",264],["T_STRING","displayBothPrices",264],"(",")",",",["T_WHITESPACE","\n            ",264],["T_CONSTANT_ENCAPSED_STRING","'defaultTax'",265],["T_WHITESPACE","        ",265],["T_DOUBLE_ARROW","=>",265],["T_WHITESPACE"," ",265],["T_VARIABLE","$defaultTax",265],",",["T_WHITESPACE","\n            ",265],["T_CONSTANT_ENCAPSED_STRING","'currentTax'",266],["T_WHITESPACE","        ",266],["T_DOUBLE_ARROW","=>",266],["T_WHITESPACE"," ",266],["T_VARIABLE","$currentTax",266],",",["T_WHITESPACE","\n            ",266],["T_CONSTANT_ENCAPSED_STRING","'inclTaxTitle'",267],["T_WHITESPACE","      ",267],["T_DOUBLE_ARROW","=>",267],["T_WHITESPACE"," ",267],["T_STRING","Mage",267],["T_DOUBLE_COLON","::",267],["T_STRING","helper",267],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog'",267],")",["T_OBJECT_OPERATOR","->",267],["T_STRING","__",267],"(",["T_CONSTANT_ENCAPSED_STRING","'Incl. Tax'",267],")",["T_WHITESPACE","\n        ",267],")",";",["T_WHITESPACE","\n\n        ",268],["T_VARIABLE","$config",270],["T_WHITESPACE"," ",270],"=",["T_WHITESPACE"," ",270],["T_ARRAY","array",270],"(",["T_WHITESPACE","\n            ",270],["T_CONSTANT_ENCAPSED_STRING","'attributes'",271],["T_WHITESPACE","        ",271],["T_DOUBLE_ARROW","=>",271],["T_WHITESPACE"," ",271],["T_VARIABLE","$attributes",271],",",["T_WHITESPACE","\n            ",271],["T_CONSTANT_ENCAPSED_STRING","'template'",272],["T_WHITESPACE","          ",272],["T_DOUBLE_ARROW","=>",272],["T_WHITESPACE"," ",272],["T_STRING","str_replace",272],"(",["T_CONSTANT_ENCAPSED_STRING","'%s'",272],",",["T_WHITESPACE"," ",272],["T_CONSTANT_ENCAPSED_STRING","'#{price}'",272],",",["T_WHITESPACE"," ",272],["T_VARIABLE","$store",272],["T_OBJECT_OPERATOR","->",272],["T_STRING","getCurrentCurrency",272],"(",")",["T_OBJECT_OPERATOR","->",272],["T_STRING","getOutputFormat",272],"(",")",")",",",["T_WHITESPACE","\n            ",272],["T_CONSTANT_ENCAPSED_STRING","'basePrice'",273],["T_WHITESPACE","         ",273],["T_DOUBLE_ARROW","=>",273],["T_WHITESPACE"," ",273],["T_VARIABLE","$this",273],["T_OBJECT_OPERATOR","->",273],["T_STRING","_registerJsPrice",273],"(",["T_VARIABLE","$this",273],["T_OBJECT_OPERATOR","->",273],["T_STRING","_convertPrice",273],"(",["T_VARIABLE","$currentProduct",273],["T_OBJECT_OPERATOR","->",273],["T_STRING","getFinalPrice",273],"(",")",")",")",",",["T_WHITESPACE","\n            ",273],["T_CONSTANT_ENCAPSED_STRING","'oldPrice'",274],["T_WHITESPACE","          ",274],["T_DOUBLE_ARROW","=>",274],["T_WHITESPACE"," ",274],["T_VARIABLE","$this",274],["T_OBJECT_OPERATOR","->",274],["T_STRING","_registerJsPrice",274],"(",["T_VARIABLE","$this",274],["T_OBJECT_OPERATOR","->",274],["T_STRING","_convertPrice",274],"(",["T_VARIABLE","$currentProduct",274],["T_OBJECT_OPERATOR","->",274],["T_STRING","getPrice",274],"(",")",")",")",",",["T_WHITESPACE","\n            ",274],["T_CONSTANT_ENCAPSED_STRING","'productId'",275],["T_WHITESPACE","         ",275],["T_DOUBLE_ARROW","=>",275],["T_WHITESPACE"," ",275],["T_VARIABLE","$currentProduct",275],["T_OBJECT_OPERATOR","->",275],["T_STRING","getId",275],"(",")",",",["T_WHITESPACE","\n            ",275],["T_CONSTANT_ENCAPSED_STRING","'chooseText'",276],["T_WHITESPACE","        ",276],["T_DOUBLE_ARROW","=>",276],["T_WHITESPACE"," ",276],["T_STRING","Mage",276],["T_DOUBLE_COLON","::",276],["T_STRING","helper",276],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog'",276],")",["T_OBJECT_OPERATOR","->",276],["T_STRING","__",276],"(",["T_CONSTANT_ENCAPSED_STRING","'Choose an Option...'",276],")",",",["T_WHITESPACE","\n            ",276],["T_CONSTANT_ENCAPSED_STRING","'taxConfig'",277],["T_WHITESPACE","         ",277],["T_DOUBLE_ARROW","=>",277],["T_WHITESPACE"," ",277],["T_VARIABLE","$taxConfig",277],["T_WHITESPACE","\n        ",277],")",";",["T_WHITESPACE","\n\n        ",278],["T_IF","if",280],["T_WHITESPACE"," ",280],"(",["T_VARIABLE","$preconfiguredFlag",280],["T_WHITESPACE"," ",280],["T_BOOLEAN_AND","&&",280],["T_WHITESPACE"," ",280],"!",["T_EMPTY","empty",280],"(",["T_VARIABLE","$defaultValues",280],")",")",["T_WHITESPACE"," ",280],"{",["T_WHITESPACE","\n            ",280],["T_VARIABLE","$config",281],"[",["T_CONSTANT_ENCAPSED_STRING","'defaultValues'",281],"]",["T_WHITESPACE"," ",281],"=",["T_WHITESPACE"," ",281],["T_VARIABLE","$defaultValues",281],";",["T_WHITESPACE","\n        ",281],"}",["T_WHITESPACE","\n\n        ",282],["T_VARIABLE","$config",284],["T_WHITESPACE"," ",284],"=",["T_WHITESPACE"," ",284],["T_STRING","array_merge",284],"(",["T_VARIABLE","$config",284],",",["T_WHITESPACE"," ",284],["T_VARIABLE","$this",284],["T_OBJECT_OPERATOR","->",284],["T_STRING","_getAdditionalConfig",284],"(",")",")",";",["T_WHITESPACE","\n\n        ",284],["T_RETURN","return",286],["T_WHITESPACE"," ",286],["T_STRING","Mage",286],["T_DOUBLE_COLON","::",286],["T_STRING","helper",286],"(",["T_CONSTANT_ENCAPSED_STRING","'core'",286],")",["T_OBJECT_OPERATOR","->",286],["T_STRING","jsonEncode",286],"(",["T_VARIABLE","$config",286],")",";",["T_WHITESPACE","\n    ",286],"}",["T_WHITESPACE","\n\n    ",287],["T_DOC_COMMENT","\/**\n     * Validating of super product option value\n     *\n     * @param array $attributeId\n     * @param array $value\n     * @param array $options\n     * @return boolean\n     *\/",289],["T_WHITESPACE","\n    ",296],["T_PROTECTED","protected",297],["T_WHITESPACE"," ",297],["T_FUNCTION","function",297],["T_WHITESPACE"," ",297],["T_STRING","_validateAttributeValue",297],"(",["T_VARIABLE","$attributeId",297],",",["T_WHITESPACE"," ",297],"&",["T_VARIABLE","$value",297],",",["T_WHITESPACE"," ",297],"&",["T_VARIABLE","$options",297],")",["T_WHITESPACE","\n    ",297],"{",["T_WHITESPACE","\n        ",298],["T_IF","if",299],"(",["T_ISSET","isset",299],"(",["T_VARIABLE","$options",299],"[",["T_VARIABLE","$attributeId",299],"]","[",["T_VARIABLE","$value",299],"[",["T_CONSTANT_ENCAPSED_STRING","'value_index'",299],"]","]",")",")",["T_WHITESPACE"," ",299],"{",["T_WHITESPACE","\n            ",299],["T_RETURN","return",300],["T_WHITESPACE"," ",300],["T_STRING","true",300],";",["T_WHITESPACE","\n        ",300],"}",["T_WHITESPACE","\n\n        ",301],["T_RETURN","return",303],["T_WHITESPACE"," ",303],["T_STRING","false",303],";",["T_WHITESPACE","\n    ",303],"}",["T_WHITESPACE","\n\n    ",304],["T_DOC_COMMENT","\/**\n     * Validation of super product option\n     *\n     * @param array $info\n     * @return boolean\n     *\/",306],["T_WHITESPACE","\n    ",311],["T_PROTECTED","protected",312],["T_WHITESPACE"," ",312],["T_FUNCTION","function",312],["T_WHITESPACE"," ",312],["T_STRING","_validateAttributeInfo",312],"(","&",["T_VARIABLE","$info",312],")",["T_WHITESPACE","\n    ",312],"{",["T_WHITESPACE","\n        ",313],["T_IF","if",314],"(",["T_STRING","count",314],"(",["T_VARIABLE","$info",314],"[",["T_CONSTANT_ENCAPSED_STRING","'options'",314],"]",")",["T_WHITESPACE"," ",314],">",["T_WHITESPACE"," ",314],["T_LNUMBER","0",314],")",["T_WHITESPACE"," ",314],"{",["T_WHITESPACE","\n            ",314],["T_RETURN","return",315],["T_WHITESPACE"," ",315],["T_STRING","true",315],";",["T_WHITESPACE","\n        ",315],"}",["T_WHITESPACE","\n        ",316],["T_RETURN","return",317],["T_WHITESPACE"," ",317],["T_STRING","false",317],";",["T_WHITESPACE","\n    ",317],"}",["T_WHITESPACE","\n\n    ",318],["T_DOC_COMMENT","\/**\n     * Calculation real price\n     *\n     * @deprecated\n     * @param float $price\n     * @param bool $isPercent\n     * @return mixed\n     *\/",320],["T_WHITESPACE","\n    ",327],["T_PROTECTED","protected",328],["T_WHITESPACE"," ",328],["T_FUNCTION","function",328],["T_WHITESPACE"," ",328],["T_STRING","_preparePrice",328],"(",["T_VARIABLE","$price",328],",",["T_WHITESPACE"," ",328],["T_VARIABLE","$isPercent",328],["T_WHITESPACE"," ",328],"=",["T_WHITESPACE"," ",328],["T_STRING","false",328],")",["T_WHITESPACE","\n    ",328],"{",["T_WHITESPACE","\n        ",329],["T_RETURN","return",330],["T_WHITESPACE"," ",330],["T_VARIABLE","$this",330],["T_OBJECT_OPERATOR","->",330],["T_STRING","_getHelper",330],"(",")",["T_OBJECT_OPERATOR","->",330],["T_STRING","preparePrice",330],"(",["T_VARIABLE","$this",330],["T_OBJECT_OPERATOR","->",330],["T_STRING","getProduct",330],"(",")",",",["T_WHITESPACE"," ",330],["T_VARIABLE","$price",330],",",["T_WHITESPACE"," ",330],["T_VARIABLE","$isPercent",330],")",";",["T_WHITESPACE","\n    ",330],"}",["T_WHITESPACE","\n\n    ",331],["T_DOC_COMMENT","\/**\n     * Calculation price before special price\n     *\n     * @deprecated\n     * @param float $price\n     * @param bool $isPercent\n     * @return mixed\n     *\/",333],["T_WHITESPACE","\n    ",340],["T_PROTECTED","protected",341],["T_WHITESPACE"," ",341],["T_FUNCTION","function",341],["T_WHITESPACE"," ",341],["T_STRING","_prepareOldPrice",341],"(",["T_VARIABLE","$price",341],",",["T_WHITESPACE"," ",341],["T_VARIABLE","$isPercent",341],["T_WHITESPACE"," ",341],"=",["T_WHITESPACE"," ",341],["T_STRING","false",341],")",["T_WHITESPACE","\n    ",341],"{",["T_WHITESPACE","\n        ",342],["T_RETURN","return",343],["T_WHITESPACE"," ",343],["T_VARIABLE","$this",343],["T_OBJECT_OPERATOR","->",343],["T_STRING","_getHelper",343],"(",")",["T_OBJECT_OPERATOR","->",343],["T_STRING","prepareOldPrice",343],"(",["T_VARIABLE","$this",343],["T_OBJECT_OPERATOR","->",343],["T_STRING","getProduct",343],"(",")",",",["T_WHITESPACE"," ",343],["T_VARIABLE","$price",343],",",["T_WHITESPACE"," ",343],["T_VARIABLE","$isPercent",343],")",";",["T_WHITESPACE","\n    ",343],"}",["T_WHITESPACE","\n\n    ",344],["T_DOC_COMMENT","\/**\n     * Replace ',' on '.' for js\n     *\n     * @deprecated\n     * @param float $price\n     * @return string\n     *\/",346],["T_WHITESPACE","\n    ",352],["T_PROTECTED","protected",353],["T_WHITESPACE"," ",353],["T_FUNCTION","function",353],["T_WHITESPACE"," ",353],["T_STRING","_registerJsPrice",353],"(",["T_VARIABLE","$price",353],")",["T_WHITESPACE","\n    ",353],"{",["T_WHITESPACE","\n        ",354],["T_RETURN","return",355],["T_WHITESPACE"," ",355],["T_VARIABLE","$this",355],["T_OBJECT_OPERATOR","->",355],["T_STRING","_getHelper",355],"(",")",["T_OBJECT_OPERATOR","->",355],["T_STRING","registerJsPrice",355],"(",["T_VARIABLE","$price",355],")",";",["T_WHITESPACE","\n    ",355],"}",["T_WHITESPACE","\n\n    ",356],["T_DOC_COMMENT","\/**\n     * Convert price from default currency to current currency\n     *\n     * @deprecated\n     * @param float $price\n     * @param boolean $round\n     * @return float\n     *\/",358],["T_WHITESPACE","\n    ",365],["T_PROTECTED","protected",366],["T_WHITESPACE"," ",366],["T_FUNCTION","function",366],["T_WHITESPACE"," ",366],["T_STRING","_convertPrice",366],"(",["T_VARIABLE","$price",366],",",["T_WHITESPACE"," ",366],["T_VARIABLE","$round",366],["T_WHITESPACE"," ",366],"=",["T_WHITESPACE"," ",366],["T_STRING","false",366],")",["T_WHITESPACE","\n    ",366],"{",["T_WHITESPACE","\n        ",367],["T_RETURN","return",368],["T_WHITESPACE"," ",368],["T_VARIABLE","$this",368],["T_OBJECT_OPERATOR","->",368],["T_STRING","_getHelper",368],"(",")",["T_OBJECT_OPERATOR","->",368],["T_STRING","convertPrice",368],"(",["T_VARIABLE","$price",368],",",["T_WHITESPACE"," ",368],["T_VARIABLE","$round",368],")",";",["T_WHITESPACE","\n    ",368],"}",["T_WHITESPACE","\n",369],"}",["T_WHITESPACE","\n",370]]