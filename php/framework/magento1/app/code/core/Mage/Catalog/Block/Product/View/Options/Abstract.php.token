[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Magento\n *\n * NOTICE OF LICENSE\n *\n * This source file is subject to the Open Software License (OSL 3.0)\n * that is bundled with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/opensource.org\/licenses\/osl-3.0.php\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@magento.com so we can send you a copy immediately.\n *\n * DISCLAIMER\n *\n * Do not edit or add to this file if you wish to upgrade Magento to newer\n * versions in the future. If you wish to customize Magento for your\n * needs please refer to http:\/\/www.magento.com for more information.\n *\n * @category    Mage\n * @package     Mage_Catalog\n * @copyright  Copyright (c) 2006-2016 X.commerce, Inc. and affiliates (http:\/\/www.magento.com)\n * @license    http:\/\/opensource.org\/licenses\/osl-3.0.php  Open Software License (OSL 3.0)\n *\/",2],["T_WHITESPACE","\n\n\n",25],["T_DOC_COMMENT","\/**\n * Product options abstract type block\n *\n * @category   Mage\n * @package    Mage_Catalog\n * @author     Magento Core Team <core@magentocommerce.com>\n *\/",28],["T_WHITESPACE","\n",34],["T_ABSTRACT","abstract",35],["T_WHITESPACE"," ",35],["T_CLASS","class",35],["T_WHITESPACE"," ",35],["T_STRING","Mage_Catalog_Block_Product_View_Options_Abstract",35],["T_WHITESPACE"," ",35],["T_EXTENDS","extends",35],["T_WHITESPACE"," ",35],["T_STRING","Mage_Core_Block_Template",35],["T_WHITESPACE","\n",35],"{",["T_WHITESPACE","\n    ",36],["T_DOC_COMMENT","\/**\n     * Product object\n     *\n     * @var Mage_Catalog_Model_Product\n     *\/",37],["T_WHITESPACE","\n    ",41],["T_PROTECTED","protected",42],["T_WHITESPACE"," ",42],["T_VARIABLE","$_product",42],";",["T_WHITESPACE","\n\n    ",42],["T_DOC_COMMENT","\/**\n     * Product option object\n     *\n     * @var Mage_Catalog_Model_Product_Option\n     *\/",44],["T_WHITESPACE","\n    ",48],["T_PROTECTED","protected",49],["T_WHITESPACE"," ",49],["T_VARIABLE","$_option",49],";",["T_WHITESPACE","\n\n    ",49],["T_DOC_COMMENT","\/**\n     * Set Product object\n     *\n     * @param Mage_Catalog_Model_Product $product\n     * @return Mage_Catalog_Block_Product_View_Options_Abstract\n     *\/",51],["T_WHITESPACE","\n    ",56],["T_PUBLIC","public",57],["T_WHITESPACE"," ",57],["T_FUNCTION","function",57],["T_WHITESPACE"," ",57],["T_STRING","setProduct",57],"(",["T_STRING","Mage_Catalog_Model_Product",57],["T_WHITESPACE"," ",57],["T_VARIABLE","$product",57],["T_WHITESPACE"," ",57],"=",["T_WHITESPACE"," ",57],["T_STRING","null",57],")",["T_WHITESPACE","\n    ",57],"{",["T_WHITESPACE","\n        ",58],["T_VARIABLE","$this",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","_product",59],["T_WHITESPACE"," ",59],"=",["T_WHITESPACE"," ",59],["T_VARIABLE","$product",59],";",["T_WHITESPACE","\n        ",59],["T_RETURN","return",60],["T_WHITESPACE"," ",60],["T_VARIABLE","$this",60],";",["T_WHITESPACE","\n    ",60],"}",["T_WHITESPACE","\n\n    ",61],["T_DOC_COMMENT","\/**\n     * Retrieve Product object\n     *\n     * @return Mage_Catalog_Model_Product\n     *\/",63],["T_WHITESPACE","\n    ",67],["T_PUBLIC","public",68],["T_WHITESPACE"," ",68],["T_FUNCTION","function",68],["T_WHITESPACE"," ",68],["T_STRING","getProduct",68],"(",")",["T_WHITESPACE","\n    ",68],"{",["T_WHITESPACE","\n        ",69],["T_RETURN","return",70],["T_WHITESPACE"," ",70],["T_VARIABLE","$this",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","_product",70],";",["T_WHITESPACE","\n    ",70],"}",["T_WHITESPACE","\n\n    ",71],["T_DOC_COMMENT","\/**\n     * Set option\n     *\n     * @param Mage_Catalog_Model_Product_Option $option\n     * @return Mage_Catalog_Block_Product_View_Options_Abstract\n     *\/",73],["T_WHITESPACE","\n    ",78],["T_PUBLIC","public",79],["T_WHITESPACE"," ",79],["T_FUNCTION","function",79],["T_WHITESPACE"," ",79],["T_STRING","setOption",79],"(",["T_STRING","Mage_Catalog_Model_Product_Option",79],["T_WHITESPACE"," ",79],["T_VARIABLE","$option",79],")",["T_WHITESPACE","\n    ",79],"{",["T_WHITESPACE","\n        ",80],["T_VARIABLE","$this",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","_option",81],["T_WHITESPACE"," ",81],"=",["T_WHITESPACE"," ",81],["T_VARIABLE","$option",81],";",["T_WHITESPACE","\n        ",81],["T_RETURN","return",82],["T_WHITESPACE"," ",82],["T_VARIABLE","$this",82],";",["T_WHITESPACE","\n    ",82],"}",["T_WHITESPACE","\n\n    ",83],["T_DOC_COMMENT","\/**\n     * Get option\n     *\n     * @return Mage_Catalog_Model_Product_Option\n     *\/",85],["T_WHITESPACE","\n    ",89],["T_PUBLIC","public",90],["T_WHITESPACE"," ",90],["T_FUNCTION","function",90],["T_WHITESPACE"," ",90],["T_STRING","getOption",90],"(",")",["T_WHITESPACE","\n    ",90],"{",["T_WHITESPACE","\n        ",91],["T_RETURN","return",92],["T_WHITESPACE"," ",92],["T_VARIABLE","$this",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","_option",92],";",["T_WHITESPACE","\n    ",92],"}",["T_WHITESPACE","\n\n    ",93],["T_PUBLIC","public",95],["T_WHITESPACE"," ",95],["T_FUNCTION","function",95],["T_WHITESPACE"," ",95],["T_STRING","getFormatedPrice",95],"(",")",["T_WHITESPACE","\n    ",95],"{",["T_WHITESPACE","\n        ",96],["T_IF","if",97],["T_WHITESPACE"," ",97],"(",["T_VARIABLE","$option",97],["T_WHITESPACE"," ",97],"=",["T_WHITESPACE"," ",97],["T_VARIABLE","$this",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","getOption",97],"(",")",")",["T_WHITESPACE"," ",97],"{",["T_WHITESPACE","\n            ",97],["T_RETURN","return",98],["T_WHITESPACE"," ",98],["T_VARIABLE","$this",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","_formatPrice",98],"(",["T_ARRAY","array",98],"(",["T_WHITESPACE","\n                ",98],["T_CONSTANT_ENCAPSED_STRING","'is_percent'",99],["T_WHITESPACE","    ",99],["T_DOUBLE_ARROW","=>",99],["T_WHITESPACE"," ",99],"(",["T_VARIABLE","$option",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","getPriceType",99],"(",")",["T_WHITESPACE"," ",99],["T_IS_EQUAL","==",99],["T_WHITESPACE"," ",99],["T_CONSTANT_ENCAPSED_STRING","'percent'",99],")",",",["T_WHITESPACE","\n                ",99],["T_CONSTANT_ENCAPSED_STRING","'pricing_value'",100],["T_WHITESPACE"," ",100],["T_DOUBLE_ARROW","=>",100],["T_WHITESPACE"," ",100],["T_VARIABLE","$option",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","getPrice",100],"(",["T_VARIABLE","$option",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","getPriceType",100],"(",")",["T_WHITESPACE"," ",100],["T_IS_EQUAL","==",100],["T_WHITESPACE"," ",100],["T_CONSTANT_ENCAPSED_STRING","'percent'",100],")",["T_WHITESPACE","\n            ",100],")",")",";",["T_WHITESPACE","\n        ",101],"}",["T_WHITESPACE","\n        ",102],["T_RETURN","return",103],["T_WHITESPACE"," ",103],["T_CONSTANT_ENCAPSED_STRING","''",103],";",["T_WHITESPACE","\n    ",103],"}",["T_WHITESPACE","\n\n    ",104],["T_DOC_COMMENT","\/**\n     * Return formated price\n     *\n     * @param array $value\n     * @return string\n     *\/",106],["T_WHITESPACE","\n    ",111],["T_PROTECTED","protected",112],["T_WHITESPACE"," ",112],["T_FUNCTION","function",112],["T_WHITESPACE"," ",112],["T_STRING","_formatPrice",112],"(",["T_VARIABLE","$value",112],",",["T_WHITESPACE"," ",112],["T_VARIABLE","$flag",112],"=",["T_STRING","true",112],")",["T_WHITESPACE","\n    ",112],"{",["T_WHITESPACE","\n        ",113],["T_IF","if",114],["T_WHITESPACE"," ",114],"(",["T_VARIABLE","$value",114],"[",["T_CONSTANT_ENCAPSED_STRING","'pricing_value'",114],"]",["T_WHITESPACE"," ",114],["T_IS_EQUAL","==",114],["T_WHITESPACE"," ",114],["T_LNUMBER","0",114],")",["T_WHITESPACE"," ",114],"{",["T_WHITESPACE","\n            ",114],["T_RETURN","return",115],["T_WHITESPACE"," ",115],["T_CONSTANT_ENCAPSED_STRING","''",115],";",["T_WHITESPACE","\n        ",115],"}",["T_WHITESPACE","\n\n        ",116],["T_VARIABLE","$taxHelper",118],["T_WHITESPACE"," ",118],"=",["T_WHITESPACE"," ",118],["T_STRING","Mage",118],["T_DOUBLE_COLON","::",118],["T_STRING","helper",118],"(",["T_CONSTANT_ENCAPSED_STRING","'tax'",118],")",";",["T_WHITESPACE","\n        ",118],["T_VARIABLE","$store",119],["T_WHITESPACE"," ",119],"=",["T_WHITESPACE"," ",119],["T_VARIABLE","$this",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","getProduct",119],"(",")",["T_OBJECT_OPERATOR","->",119],["T_STRING","getStore",119],"(",")",";",["T_WHITESPACE","\n\n        ",119],["T_VARIABLE","$sign",121],["T_WHITESPACE"," ",121],"=",["T_WHITESPACE"," ",121],["T_CONSTANT_ENCAPSED_STRING","'+'",121],";",["T_WHITESPACE","\n        ",121],["T_IF","if",122],["T_WHITESPACE"," ",122],"(",["T_VARIABLE","$value",122],"[",["T_CONSTANT_ENCAPSED_STRING","'pricing_value'",122],"]",["T_WHITESPACE"," ",122],"<",["T_WHITESPACE"," ",122],["T_LNUMBER","0",122],")",["T_WHITESPACE"," ",122],"{",["T_WHITESPACE","\n            ",122],["T_VARIABLE","$sign",123],["T_WHITESPACE"," ",123],"=",["T_WHITESPACE"," ",123],["T_CONSTANT_ENCAPSED_STRING","'-'",123],";",["T_WHITESPACE","\n            ",123],["T_VARIABLE","$value",124],"[",["T_CONSTANT_ENCAPSED_STRING","'pricing_value'",124],"]",["T_WHITESPACE"," ",124],"=",["T_WHITESPACE"," ",124],["T_LNUMBER","0",124],["T_WHITESPACE"," ",124],"-",["T_WHITESPACE"," ",124],["T_VARIABLE","$value",124],"[",["T_CONSTANT_ENCAPSED_STRING","'pricing_value'",124],"]",";",["T_WHITESPACE","\n        ",124],"}",["T_WHITESPACE","\n\n        ",125],["T_VARIABLE","$priceStr",127],["T_WHITESPACE"," ",127],"=",["T_WHITESPACE"," ",127],["T_VARIABLE","$sign",127],";",["T_WHITESPACE","\n        ",127],["T_VARIABLE","$_priceInclTax",128],["T_WHITESPACE"," ",128],"=",["T_WHITESPACE"," ",128],["T_VARIABLE","$this",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","getPrice",128],"(",["T_VARIABLE","$value",128],"[",["T_CONSTANT_ENCAPSED_STRING","'pricing_value'",128],"]",",",["T_WHITESPACE"," ",128],["T_STRING","true",128],")",";",["T_WHITESPACE","\n        ",128],["T_VARIABLE","$_priceExclTax",129],["T_WHITESPACE"," ",129],"=",["T_WHITESPACE"," ",129],["T_VARIABLE","$this",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","getPrice",129],"(",["T_VARIABLE","$value",129],"[",["T_CONSTANT_ENCAPSED_STRING","'pricing_value'",129],"]",")",";",["T_WHITESPACE","\n        ",129],["T_IF","if",130],["T_WHITESPACE"," ",130],"(",["T_VARIABLE","$taxHelper",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","displayPriceIncludingTax",130],"(",")",")",["T_WHITESPACE"," ",130],"{",["T_WHITESPACE","\n            ",130],["T_VARIABLE","$priceStr",131],["T_WHITESPACE"," ",131],["T_CONCAT_EQUAL",".=",131],["T_WHITESPACE"," ",131],["T_VARIABLE","$this",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","helper",131],"(",["T_CONSTANT_ENCAPSED_STRING","'core'",131],")",["T_OBJECT_OPERATOR","->",131],["T_STRING","currencyByStore",131],"(",["T_VARIABLE","$_priceInclTax",131],",",["T_WHITESPACE"," ",131],["T_VARIABLE","$store",131],",",["T_WHITESPACE"," ",131],["T_STRING","true",131],",",["T_WHITESPACE"," ",131],["T_VARIABLE","$flag",131],")",";",["T_WHITESPACE","\n        ",131],"}",["T_WHITESPACE"," ",132],["T_ELSEIF","elseif",132],["T_WHITESPACE"," ",132],"(",["T_VARIABLE","$taxHelper",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","displayPriceExcludingTax",132],"(",")",")",["T_WHITESPACE"," ",132],"{",["T_WHITESPACE","\n            ",132],["T_VARIABLE","$priceStr",133],["T_WHITESPACE"," ",133],["T_CONCAT_EQUAL",".=",133],["T_WHITESPACE"," ",133],["T_VARIABLE","$this",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","helper",133],"(",["T_CONSTANT_ENCAPSED_STRING","'core'",133],")",["T_OBJECT_OPERATOR","->",133],["T_STRING","currencyByStore",133],"(",["T_VARIABLE","$_priceExclTax",133],",",["T_WHITESPACE"," ",133],["T_VARIABLE","$store",133],",",["T_WHITESPACE"," ",133],["T_STRING","true",133],",",["T_WHITESPACE"," ",133],["T_VARIABLE","$flag",133],")",";",["T_WHITESPACE","\n        ",133],"}",["T_WHITESPACE"," ",134],["T_ELSEIF","elseif",134],["T_WHITESPACE"," ",134],"(",["T_VARIABLE","$taxHelper",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","displayBothPrices",134],"(",")",")",["T_WHITESPACE"," ",134],"{",["T_WHITESPACE","\n            ",134],["T_VARIABLE","$priceStr",135],["T_WHITESPACE"," ",135],["T_CONCAT_EQUAL",".=",135],["T_WHITESPACE"," ",135],["T_VARIABLE","$this",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","helper",135],"(",["T_CONSTANT_ENCAPSED_STRING","'core'",135],")",["T_OBJECT_OPERATOR","->",135],["T_STRING","currencyByStore",135],"(",["T_VARIABLE","$_priceExclTax",135],",",["T_WHITESPACE"," ",135],["T_VARIABLE","$store",135],",",["T_WHITESPACE"," ",135],["T_STRING","true",135],",",["T_WHITESPACE"," ",135],["T_VARIABLE","$flag",135],")",";",["T_WHITESPACE","\n            ",135],["T_IF","if",136],["T_WHITESPACE"," ",136],"(",["T_VARIABLE","$_priceInclTax",136],["T_WHITESPACE"," ",136],["T_IS_NOT_EQUAL","!=",136],["T_WHITESPACE"," ",136],["T_VARIABLE","$_priceExclTax",136],")",["T_WHITESPACE"," ",136],"{",["T_WHITESPACE","\n                ",136],["T_VARIABLE","$priceStr",137],["T_WHITESPACE"," ",137],["T_CONCAT_EQUAL",".=",137],["T_WHITESPACE"," ",137],["T_CONSTANT_ENCAPSED_STRING","' ('",137],".",["T_VARIABLE","$sign",137],".",["T_VARIABLE","$this",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","helper",137],"(",["T_CONSTANT_ENCAPSED_STRING","'core'",137],")",["T_WHITESPACE","\n                    ",137],["T_OBJECT_OPERATOR","->",138],["T_STRING","currencyByStore",138],"(",["T_VARIABLE","$_priceInclTax",138],",",["T_WHITESPACE"," ",138],["T_VARIABLE","$store",138],",",["T_WHITESPACE"," ",138],["T_STRING","true",138],",",["T_WHITESPACE"," ",138],["T_VARIABLE","$flag",138],")",".",["T_CONSTANT_ENCAPSED_STRING","' '",138],".",["T_VARIABLE","$this",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","__",138],"(",["T_CONSTANT_ENCAPSED_STRING","'Incl. Tax'",138],")",".",["T_CONSTANT_ENCAPSED_STRING","')'",138],";",["T_WHITESPACE","\n            ",138],"}",["T_WHITESPACE","\n        ",139],"}",["T_WHITESPACE","\n\n        ",140],["T_IF","if",142],["T_WHITESPACE"," ",142],"(",["T_VARIABLE","$flag",142],")",["T_WHITESPACE"," ",142],"{",["T_WHITESPACE","\n            ",142],["T_VARIABLE","$priceStr",143],["T_WHITESPACE"," ",143],"=",["T_WHITESPACE"," ",143],["T_CONSTANT_ENCAPSED_STRING","'<span class=\"price-notice\">'",143],".",["T_VARIABLE","$priceStr",143],".",["T_CONSTANT_ENCAPSED_STRING","'<\/span>'",143],";",["T_WHITESPACE","\n        ",143],"}",["T_WHITESPACE","\n\n        ",144],["T_RETURN","return",146],["T_WHITESPACE"," ",146],["T_VARIABLE","$priceStr",146],";",["T_WHITESPACE","\n    ",146],"}",["T_WHITESPACE","\n\n    ",147],["T_DOC_COMMENT","\/**\n     * Get price with including\/excluding tax\n     *\n     * @param decimal $price\n     * @param bool $includingTax\n     * @return decimal\n     *\/",149],["T_WHITESPACE","\n    ",155],["T_PUBLIC","public",156],["T_WHITESPACE"," ",156],["T_FUNCTION","function",156],["T_WHITESPACE"," ",156],["T_STRING","getPrice",156],"(",["T_VARIABLE","$price",156],",",["T_WHITESPACE"," ",156],["T_VARIABLE","$includingTax",156],["T_WHITESPACE"," ",156],"=",["T_WHITESPACE"," ",156],["T_STRING","null",156],")",["T_WHITESPACE","\n    ",156],"{",["T_WHITESPACE","\n        ",157],["T_IF","if",158],["T_WHITESPACE"," ",158],"(","!",["T_STRING","is_null",158],"(",["T_VARIABLE","$includingTax",158],")",")",["T_WHITESPACE"," ",158],"{",["T_WHITESPACE","\n            ",158],["T_VARIABLE","$price",159],["T_WHITESPACE"," ",159],"=",["T_WHITESPACE"," ",159],["T_STRING","Mage",159],["T_DOUBLE_COLON","::",159],["T_STRING","helper",159],"(",["T_CONSTANT_ENCAPSED_STRING","'tax'",159],")",["T_OBJECT_OPERATOR","->",159],["T_STRING","getPrice",159],"(",["T_VARIABLE","$this",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","getProduct",159],"(",")",",",["T_WHITESPACE"," ",159],["T_VARIABLE","$price",159],",",["T_WHITESPACE"," ",159],["T_STRING","true",159],")",";",["T_WHITESPACE","\n        ",159],"}",["T_WHITESPACE"," ",160],["T_ELSE","else",160],["T_WHITESPACE"," ",160],"{",["T_WHITESPACE","\n            ",160],["T_VARIABLE","$price",161],["T_WHITESPACE"," ",161],"=",["T_WHITESPACE"," ",161],["T_STRING","Mage",161],["T_DOUBLE_COLON","::",161],["T_STRING","helper",161],"(",["T_CONSTANT_ENCAPSED_STRING","'tax'",161],")",["T_OBJECT_OPERATOR","->",161],["T_STRING","getPrice",161],"(",["T_VARIABLE","$this",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","getProduct",161],"(",")",",",["T_WHITESPACE"," ",161],["T_VARIABLE","$price",161],")",";",["T_WHITESPACE","\n        ",161],"}",["T_WHITESPACE","\n        ",162],["T_RETURN","return",163],["T_WHITESPACE"," ",163],["T_VARIABLE","$price",163],";",["T_WHITESPACE","\n    ",163],"}",["T_WHITESPACE","\n\n    ",164],["T_DOC_COMMENT","\/**\n     * Returns price converted to current currency rate\n     *\n     * @param float $price\n     * @return float\n     *\/",166],["T_WHITESPACE","\n    ",171],["T_PUBLIC","public",172],["T_WHITESPACE"," ",172],["T_FUNCTION","function",172],["T_WHITESPACE"," ",172],["T_STRING","getCurrencyPrice",172],"(",["T_VARIABLE","$price",172],")",["T_WHITESPACE","\n    ",172],"{",["T_WHITESPACE","\n        ",173],["T_VARIABLE","$store",174],["T_WHITESPACE"," ",174],"=",["T_WHITESPACE"," ",174],["T_VARIABLE","$this",174],["T_OBJECT_OPERATOR","->",174],["T_STRING","getProduct",174],"(",")",["T_OBJECT_OPERATOR","->",174],["T_STRING","getStore",174],"(",")",";",["T_WHITESPACE","\n        ",174],["T_RETURN","return",175],["T_WHITESPACE"," ",175],["T_VARIABLE","$this",175],["T_OBJECT_OPERATOR","->",175],["T_STRING","helper",175],"(",["T_CONSTANT_ENCAPSED_STRING","'core'",175],")",["T_OBJECT_OPERATOR","->",175],["T_STRING","currencyByStore",175],"(",["T_VARIABLE","$price",175],",",["T_WHITESPACE"," ",175],["T_VARIABLE","$store",175],",",["T_WHITESPACE"," ",175],["T_STRING","false",175],")",";",["T_WHITESPACE","\n    ",175],"}",["T_WHITESPACE","\n",176],"}",["T_WHITESPACE","\n",177]]