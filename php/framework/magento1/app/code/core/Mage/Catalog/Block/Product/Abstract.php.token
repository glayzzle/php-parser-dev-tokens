[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Magento\n *\n * NOTICE OF LICENSE\n *\n * This source file is subject to the Open Software License (OSL 3.0)\n * that is bundled with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/opensource.org\/licenses\/osl-3.0.php\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@magento.com so we can send you a copy immediately.\n *\n * DISCLAIMER\n *\n * Do not edit or add to this file if you wish to upgrade Magento to newer\n * versions in the future. If you wish to customize Magento for your\n * needs please refer to http:\/\/www.magento.com for more information.\n *\n * @category    Mage\n * @package     Mage_Catalog\n * @copyright  Copyright (c) 2006-2016 X.commerce, Inc. and affiliates (http:\/\/www.magento.com)\n * @license    http:\/\/opensource.org\/licenses\/osl-3.0.php  Open Software License (OSL 3.0)\n *\/",2],["T_WHITESPACE","\n\n\n",25],["T_DOC_COMMENT","\/**\n * Catalog Product Abstract Block\n *\n * @category   Mage\n * @package    Mage_Catalog\n * @author     Magento Core Team <core@magentocommerce.com>\n *\/",28],["T_WHITESPACE","\n",34],["T_ABSTRACT","abstract",35],["T_WHITESPACE"," ",35],["T_CLASS","class",35],["T_WHITESPACE"," ",35],["T_STRING","Mage_Catalog_Block_Product_Abstract",35],["T_WHITESPACE"," ",35],["T_EXTENDS","extends",35],["T_WHITESPACE"," ",35],["T_STRING","Mage_Core_Block_Template",35],["T_WHITESPACE","\n",35],"{",["T_WHITESPACE","\n    ",36],["T_DOC_COMMENT","\/**\n     * Price block array\n     *\n     * @var array\n     *\/",37],["T_WHITESPACE","\n    ",41],["T_PROTECTED","protected",42],["T_WHITESPACE"," ",42],["T_VARIABLE","$_priceBlock",42],["T_WHITESPACE"," ",42],"=",["T_WHITESPACE"," ",42],["T_ARRAY","array",42],"(",")",";",["T_WHITESPACE","\n\n    ",42],["T_DOC_COMMENT","\/**\n     * Default price block\n     *\n     * @var string\n     *\/",44],["T_WHITESPACE","\n    ",48],["T_PROTECTED","protected",49],["T_WHITESPACE"," ",49],["T_VARIABLE","$_block",49],["T_WHITESPACE"," ",49],"=",["T_WHITESPACE"," ",49],["T_CONSTANT_ENCAPSED_STRING","'catalog\/product_price'",49],";",["T_WHITESPACE","\n\n    ",49],["T_DOC_COMMENT","\/**\n     * Price template\n     *\n     * @var string\n     *\/",51],["T_WHITESPACE","\n    ",55],["T_PROTECTED","protected",56],["T_WHITESPACE"," ",56],["T_VARIABLE","$_priceBlockDefaultTemplate",56],["T_WHITESPACE"," ",56],"=",["T_WHITESPACE"," ",56],["T_CONSTANT_ENCAPSED_STRING","'catalog\/product\/price.phtml'",56],";",["T_WHITESPACE","\n\n    ",56],["T_DOC_COMMENT","\/**\n     * Tier price template\n     *\n     * @var string\n     *\/",58],["T_WHITESPACE","\n    ",62],["T_PROTECTED","protected",63],["T_WHITESPACE"," ",63],["T_VARIABLE","$_tierPriceDefaultTemplate",63],["T_WHITESPACE"," ",63],"=",["T_WHITESPACE"," ",63],["T_CONSTANT_ENCAPSED_STRING","'catalog\/product\/view\/tierprices.phtml'",63],";",["T_WHITESPACE","\n\n    ",63],["T_DOC_COMMENT","\/**\n     * Price types\n     *\n     * @var array\n     *\/",65],["T_WHITESPACE","\n    ",69],["T_PROTECTED","protected",70],["T_WHITESPACE"," ",70],["T_VARIABLE","$_priceBlockTypes",70],["T_WHITESPACE"," ",70],"=",["T_WHITESPACE"," ",70],["T_ARRAY","array",70],"(",")",";",["T_WHITESPACE","\n\n    ",70],["T_DOC_COMMENT","\/**\n     * Flag which allow\/disallow to use link for as low as price\n     *\n     * @var bool\n     *\/",72],["T_WHITESPACE","\n    ",76],["T_PROTECTED","protected",77],["T_WHITESPACE"," ",77],["T_VARIABLE","$_useLinkForAsLowAs",77],["T_WHITESPACE"," ",77],"=",["T_WHITESPACE"," ",77],["T_STRING","true",77],";",["T_WHITESPACE","\n\n    ",77],["T_DOC_COMMENT","\/**\n     * Review block instance\n     *\n     * @var null|Mage_Review_Block_Helper\n     *\/",79],["T_WHITESPACE","\n    ",83],["T_PROTECTED","protected",84],["T_WHITESPACE"," ",84],["T_VARIABLE","$_reviewsHelperBlock",84],";",["T_WHITESPACE","\n\n    ",84],["T_DOC_COMMENT","\/**\n     * Default product amount per row\n     *\n     * @var int\n     *\/",86],["T_WHITESPACE","\n    ",90],["T_PROTECTED","protected",91],["T_WHITESPACE"," ",91],["T_VARIABLE","$_defaultColumnCount",91],["T_WHITESPACE"," ",91],"=",["T_WHITESPACE"," ",91],["T_LNUMBER","3",91],";",["T_WHITESPACE","\n\n    ",91],["T_DOC_COMMENT","\/**\n     * Product amount per row depending on custom page layout of category\n     *\n     * @var array\n     *\/",93],["T_WHITESPACE","\n    ",97],["T_PROTECTED","protected",98],["T_WHITESPACE"," ",98],["T_VARIABLE","$_columnCountLayoutDepend",98],["T_WHITESPACE"," ",98],"=",["T_WHITESPACE"," ",98],["T_ARRAY","array",98],"(",")",";",["T_WHITESPACE","\n\n    ",98],["T_DOC_COMMENT","\/**\n     * Default MAP renderer type\n     *\n     * @var string\n     *\/",100],["T_WHITESPACE","\n    ",104],["T_PROTECTED","protected",105],["T_WHITESPACE"," ",105],["T_VARIABLE","$_mapRenderer",105],["T_WHITESPACE"," ",105],"=",["T_WHITESPACE"," ",105],["T_CONSTANT_ENCAPSED_STRING","'msrp'",105],";",["T_WHITESPACE","\n\n    ",105],["T_DOC_COMMENT","\/**\n     * Get catalog product helper\n     *\n     * @return Mage_Catalog_Helper_Product\n     *\/",107],["T_WHITESPACE","\n    ",111],["T_PUBLIC","public",112],["T_WHITESPACE"," ",112],["T_FUNCTION","function",112],["T_WHITESPACE"," ",112],["T_STRING","getProductHelper",112],"(",")",["T_WHITESPACE","\n    ",112],"{",["T_WHITESPACE","\n        ",113],["T_RETURN","return",114],["T_WHITESPACE"," ",114],["T_STRING","Mage",114],["T_DOUBLE_COLON","::",114],["T_STRING","helper",114],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog\/product'",114],")",";",["T_WHITESPACE","\n    ",114],"}",["T_WHITESPACE","\n\n    ",115],["T_DOC_COMMENT","\/**\n     * Retrieve url for add product to cart\n     * Will return product view page URL if product has required options\n     *\n     * @param Mage_Catalog_Model_Product $product\n     * @param array $additional\n     * @return string\n     *\/",117],["T_WHITESPACE","\n    ",124],["T_PUBLIC","public",125],["T_WHITESPACE"," ",125],["T_FUNCTION","function",125],["T_WHITESPACE"," ",125],["T_STRING","getAddToCartUrl",125],"(",["T_VARIABLE","$product",125],",",["T_WHITESPACE"," ",125],["T_VARIABLE","$additional",125],["T_WHITESPACE"," ",125],"=",["T_WHITESPACE"," ",125],["T_ARRAY","array",125],"(",")",")",["T_WHITESPACE","\n    ",125],"{",["T_WHITESPACE","\n        ",126],["T_IF","if",127],["T_WHITESPACE"," ",127],"(","!",["T_VARIABLE","$product",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","getTypeInstance",127],"(",["T_STRING","true",127],")",["T_OBJECT_OPERATOR","->",127],["T_STRING","hasRequiredOptions",127],"(",["T_VARIABLE","$product",127],")",")",["T_WHITESPACE"," ",127],"{",["T_WHITESPACE","\n            ",127],["T_RETURN","return",128],["T_WHITESPACE"," ",128],["T_VARIABLE","$this",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","helper",128],"(",["T_CONSTANT_ENCAPSED_STRING","'checkout\/cart'",128],")",["T_OBJECT_OPERATOR","->",128],["T_STRING","getAddUrl",128],"(",["T_VARIABLE","$product",128],",",["T_WHITESPACE"," ",128],["T_VARIABLE","$additional",128],")",";",["T_WHITESPACE","\n        ",128],"}",["T_WHITESPACE","\n        ",129],["T_VARIABLE","$additional",130],["T_WHITESPACE"," ",130],"=",["T_WHITESPACE"," ",130],["T_STRING","array_merge",130],"(",["T_WHITESPACE","\n            ",130],["T_VARIABLE","$additional",131],",",["T_WHITESPACE","\n            ",131],["T_ARRAY","array",132],"(",["T_STRING","Mage_Core_Model_Url",132],["T_DOUBLE_COLON","::",132],["T_STRING","FORM_KEY",132],["T_WHITESPACE"," ",132],["T_DOUBLE_ARROW","=>",132],["T_WHITESPACE"," ",132],["T_VARIABLE","$this",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","_getSingletonModel",132],"(",["T_CONSTANT_ENCAPSED_STRING","'core\/session'",132],")",["T_OBJECT_OPERATOR","->",132],["T_STRING","getFormKey",132],"(",")",")",["T_WHITESPACE","\n        ",132],")",";",["T_WHITESPACE","\n        ",133],["T_IF","if",134],["T_WHITESPACE"," ",134],"(","!",["T_ISSET","isset",134],"(",["T_VARIABLE","$additional",134],"[",["T_CONSTANT_ENCAPSED_STRING","'_escape'",134],"]",")",")",["T_WHITESPACE"," ",134],"{",["T_WHITESPACE","\n            ",134],["T_VARIABLE","$additional",135],"[",["T_CONSTANT_ENCAPSED_STRING","'_escape'",135],"]",["T_WHITESPACE"," ",135],"=",["T_WHITESPACE"," ",135],["T_STRING","true",135],";",["T_WHITESPACE","\n        ",135],"}",["T_WHITESPACE","\n        ",136],["T_IF","if",137],["T_WHITESPACE"," ",137],"(","!",["T_ISSET","isset",137],"(",["T_VARIABLE","$additional",137],"[",["T_CONSTANT_ENCAPSED_STRING","'_query'",137],"]",")",")",["T_WHITESPACE"," ",137],"{",["T_WHITESPACE","\n            ",137],["T_VARIABLE","$additional",138],"[",["T_CONSTANT_ENCAPSED_STRING","'_query'",138],"]",["T_WHITESPACE"," ",138],"=",["T_WHITESPACE"," ",138],["T_ARRAY","array",138],"(",")",";",["T_WHITESPACE","\n        ",138],"}",["T_WHITESPACE","\n        ",139],["T_VARIABLE","$additional",140],"[",["T_CONSTANT_ENCAPSED_STRING","'_query'",140],"]","[",["T_CONSTANT_ENCAPSED_STRING","'options'",140],"]",["T_WHITESPACE"," ",140],"=",["T_WHITESPACE"," ",140],["T_CONSTANT_ENCAPSED_STRING","'cart'",140],";",["T_WHITESPACE","\n        ",140],["T_RETURN","return",141],["T_WHITESPACE"," ",141],["T_VARIABLE","$this",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","getProductUrl",141],"(",["T_VARIABLE","$product",141],",",["T_WHITESPACE"," ",141],["T_VARIABLE","$additional",141],")",";",["T_WHITESPACE","\n    ",141],"}",["T_WHITESPACE","\n\n    ",142],["T_DOC_COMMENT","\/**\n     * Return model instance\n     *\n     * @param string $className\n     * @param array $arguments\n     * @return Mage_Core_Model_Abstract\n     *\/",144],["T_WHITESPACE","\n    ",150],["T_PROTECTED","protected",151],["T_WHITESPACE"," ",151],["T_FUNCTION","function",151],["T_WHITESPACE"," ",151],["T_STRING","_getSingletonModel",151],"(",["T_VARIABLE","$className",151],",",["T_WHITESPACE"," ",151],["T_VARIABLE","$arguments",151],["T_WHITESPACE"," ",151],"=",["T_WHITESPACE"," ",151],["T_ARRAY","array",151],"(",")",")",["T_WHITESPACE","\n    ",151],"{",["T_WHITESPACE","\n        ",152],["T_RETURN","return",153],["T_WHITESPACE"," ",153],["T_STRING","Mage",153],["T_DOUBLE_COLON","::",153],["T_STRING","getSingleton",153],"(",["T_VARIABLE","$className",153],",",["T_WHITESPACE"," ",153],["T_VARIABLE","$arguments",153],")",";",["T_WHITESPACE","\n    ",153],"}",["T_WHITESPACE","\n\n    ",154],["T_DOC_COMMENT","\/**\n     * Retrieves url for form submitting:\n     * some objects can use setSubmitRouteData() to set route and params for form submitting,\n     * otherwise default url will be used\n     *\n     * @param Mage_Catalog_Model_Product $product\n     * @param array $additional\n     * @return string\n     *\/",156],["T_WHITESPACE","\n    ",164],["T_PUBLIC","public",165],["T_WHITESPACE"," ",165],["T_FUNCTION","function",165],["T_WHITESPACE"," ",165],["T_STRING","getSubmitUrl",165],"(",["T_VARIABLE","$product",165],",",["T_WHITESPACE"," ",165],["T_VARIABLE","$additional",165],["T_WHITESPACE"," ",165],"=",["T_WHITESPACE"," ",165],["T_ARRAY","array",165],"(",")",")",["T_WHITESPACE","\n    ",165],"{",["T_WHITESPACE","\n        ",166],["T_VARIABLE","$submitRouteData",167],["T_WHITESPACE"," ",167],"=",["T_WHITESPACE"," ",167],["T_VARIABLE","$this",167],["T_OBJECT_OPERATOR","->",167],["T_STRING","getData",167],"(",["T_CONSTANT_ENCAPSED_STRING","'submit_route_data'",167],")",";",["T_WHITESPACE","\n        ",167],["T_IF","if",168],["T_WHITESPACE"," ",168],"(",["T_VARIABLE","$submitRouteData",168],")",["T_WHITESPACE"," ",168],"{",["T_WHITESPACE","\n            ",168],["T_VARIABLE","$route",169],["T_WHITESPACE"," ",169],"=",["T_WHITESPACE"," ",169],["T_VARIABLE","$submitRouteData",169],"[",["T_CONSTANT_ENCAPSED_STRING","'route'",169],"]",";",["T_WHITESPACE","\n            ",169],["T_VARIABLE","$params",170],["T_WHITESPACE"," ",170],"=",["T_WHITESPACE"," ",170],["T_ISSET","isset",170],"(",["T_VARIABLE","$submitRouteData",170],"[",["T_CONSTANT_ENCAPSED_STRING","'params'",170],"]",")",["T_WHITESPACE"," ",170],"?",["T_WHITESPACE"," ",170],["T_VARIABLE","$submitRouteData",170],"[",["T_CONSTANT_ENCAPSED_STRING","'params'",170],"]",["T_WHITESPACE"," ",170],":",["T_WHITESPACE"," ",170],["T_ARRAY","array",170],"(",")",";",["T_WHITESPACE","\n            ",170],["T_VARIABLE","$submitUrl",171],["T_WHITESPACE"," ",171],"=",["T_WHITESPACE"," ",171],["T_VARIABLE","$this",171],["T_OBJECT_OPERATOR","->",171],["T_STRING","getUrl",171],"(",["T_VARIABLE","$route",171],",",["T_WHITESPACE"," ",171],["T_STRING","array_merge",171],"(",["T_VARIABLE","$params",171],",",["T_WHITESPACE"," ",171],["T_VARIABLE","$additional",171],")",")",";",["T_WHITESPACE","\n        ",171],"}",["T_WHITESPACE"," ",172],["T_ELSE","else",172],["T_WHITESPACE"," ",172],"{",["T_WHITESPACE","\n            ",172],["T_VARIABLE","$submitUrl",173],["T_WHITESPACE"," ",173],"=",["T_WHITESPACE"," ",173],["T_VARIABLE","$this",173],["T_OBJECT_OPERATOR","->",173],["T_STRING","getAddToCartUrl",173],"(",["T_VARIABLE","$product",173],",",["T_WHITESPACE"," ",173],["T_VARIABLE","$additional",173],")",";",["T_WHITESPACE","\n        ",173],"}",["T_WHITESPACE","\n        ",174],["T_RETURN","return",175],["T_WHITESPACE"," ",175],["T_VARIABLE","$submitUrl",175],";",["T_WHITESPACE","\n    ",175],"}",["T_WHITESPACE","\n\n    ",176],["T_DOC_COMMENT","\/**\n     * Return link to Add to Wishlist\n     *\n     * @param Mage_Catalog_Model_Product $product\n     * @return string\n     *\/",178],["T_WHITESPACE","\n    ",183],["T_PUBLIC","public",184],["T_WHITESPACE"," ",184],["T_FUNCTION","function",184],["T_WHITESPACE"," ",184],["T_STRING","getAddToWishlistUrl",184],"(",["T_VARIABLE","$product",184],")",["T_WHITESPACE","\n    ",184],"{",["T_WHITESPACE","\n        ",185],["T_RETURN","return",186],["T_WHITESPACE"," ",186],["T_VARIABLE","$this",186],["T_OBJECT_OPERATOR","->",186],["T_STRING","helper",186],"(",["T_CONSTANT_ENCAPSED_STRING","'wishlist'",186],")",["T_OBJECT_OPERATOR","->",186],["T_STRING","getAddUrl",186],"(",["T_VARIABLE","$product",186],")",";",["T_WHITESPACE","\n    ",186],"}",["T_WHITESPACE","\n\n    ",187],["T_DOC_COMMENT","\/**\n     * Retrieve Add Product to Compare Products List URL\n     *\n     * @param Mage_Catalog_Model_Product $product\n     * @return string\n     *\/",189],["T_WHITESPACE","\n    ",194],["T_PUBLIC","public",195],["T_WHITESPACE"," ",195],["T_FUNCTION","function",195],["T_WHITESPACE"," ",195],["T_STRING","getAddToCompareUrl",195],"(",["T_VARIABLE","$product",195],")",["T_WHITESPACE","\n    ",195],"{",["T_WHITESPACE","\n        ",196],["T_RETURN","return",197],["T_WHITESPACE"," ",197],["T_VARIABLE","$this",197],["T_OBJECT_OPERATOR","->",197],["T_STRING","helper",197],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog\/product_compare'",197],")",["T_OBJECT_OPERATOR","->",197],["T_STRING","getAddUrl",197],"(",["T_VARIABLE","$product",197],")",";",["T_WHITESPACE","\n    ",197],"}",["T_WHITESPACE","\n\n    ",198],["T_DOC_COMMENT","\/**\n     * Gets minimal sales quantity\n     *\n     * @param Mage_Catalog_Model_Product $product\n     * @return int|null\n     *\/",200],["T_WHITESPACE","\n    ",205],["T_PUBLIC","public",206],["T_WHITESPACE"," ",206],["T_FUNCTION","function",206],["T_WHITESPACE"," ",206],["T_STRING","getMinimalQty",206],"(",["T_VARIABLE","$product",206],")",["T_WHITESPACE","\n    ",206],"{",["T_WHITESPACE","\n        ",207],["T_RETURN","return",208],["T_WHITESPACE"," ",208],["T_VARIABLE","$this",208],["T_OBJECT_OPERATOR","->",208],["T_STRING","getProductHelper",208],"(",")",["T_OBJECT_OPERATOR","->",208],["T_STRING","getMinimalQty",208],"(",["T_VARIABLE","$product",208],")",";",["T_WHITESPACE","\n    ",208],"}",["T_WHITESPACE","\n\n    ",209],["T_DOC_COMMENT","\/**\n     * Return price block\n     *\n     * @param string $productTypeId\n     * @return mixed\n     *\/",211],["T_WHITESPACE","\n    ",216],["T_PROTECTED","protected",217],["T_WHITESPACE"," ",217],["T_FUNCTION","function",217],["T_WHITESPACE"," ",217],["T_STRING","_getPriceBlock",217],"(",["T_VARIABLE","$productTypeId",217],")",["T_WHITESPACE","\n    ",217],"{",["T_WHITESPACE","\n        ",218],["T_IF","if",219],["T_WHITESPACE"," ",219],"(","!",["T_ISSET","isset",219],"(",["T_VARIABLE","$this",219],["T_OBJECT_OPERATOR","->",219],["T_STRING","_priceBlock",219],"[",["T_VARIABLE","$productTypeId",219],"]",")",")",["T_WHITESPACE"," ",219],"{",["T_WHITESPACE","\n            ",219],["T_VARIABLE","$block",220],["T_WHITESPACE"," ",220],"=",["T_WHITESPACE"," ",220],["T_VARIABLE","$this",220],["T_OBJECT_OPERATOR","->",220],["T_STRING","_block",220],";",["T_WHITESPACE","\n            ",220],["T_IF","if",221],["T_WHITESPACE"," ",221],"(",["T_ISSET","isset",221],"(",["T_VARIABLE","$this",221],["T_OBJECT_OPERATOR","->",221],["T_STRING","_priceBlockTypes",221],"[",["T_VARIABLE","$productTypeId",221],"]",")",")",["T_WHITESPACE"," ",221],"{",["T_WHITESPACE","\n                ",221],["T_IF","if",222],["T_WHITESPACE"," ",222],"(",["T_VARIABLE","$this",222],["T_OBJECT_OPERATOR","->",222],["T_STRING","_priceBlockTypes",222],"[",["T_VARIABLE","$productTypeId",222],"]","[",["T_CONSTANT_ENCAPSED_STRING","'block'",222],"]",["T_WHITESPACE"," ",222],["T_IS_NOT_EQUAL","!=",222],["T_WHITESPACE"," ",222],["T_CONSTANT_ENCAPSED_STRING","''",222],")",["T_WHITESPACE"," ",222],"{",["T_WHITESPACE","\n                    ",222],["T_VARIABLE","$block",223],["T_WHITESPACE"," ",223],"=",["T_WHITESPACE"," ",223],["T_VARIABLE","$this",223],["T_OBJECT_OPERATOR","->",223],["T_STRING","_priceBlockTypes",223],"[",["T_VARIABLE","$productTypeId",223],"]","[",["T_CONSTANT_ENCAPSED_STRING","'block'",223],"]",";",["T_WHITESPACE","\n                ",223],"}",["T_WHITESPACE","\n            ",224],"}",["T_WHITESPACE","\n            ",225],["T_VARIABLE","$this",226],["T_OBJECT_OPERATOR","->",226],["T_STRING","_priceBlock",226],"[",["T_VARIABLE","$productTypeId",226],"]",["T_WHITESPACE"," ",226],"=",["T_WHITESPACE"," ",226],["T_VARIABLE","$this",226],["T_OBJECT_OPERATOR","->",226],["T_STRING","getLayout",226],"(",")",["T_OBJECT_OPERATOR","->",226],["T_STRING","createBlock",226],"(",["T_VARIABLE","$block",226],")",";",["T_WHITESPACE","\n        ",226],"}",["T_WHITESPACE","\n        ",227],["T_RETURN","return",228],["T_WHITESPACE"," ",228],["T_VARIABLE","$this",228],["T_OBJECT_OPERATOR","->",228],["T_STRING","_priceBlock",228],"[",["T_VARIABLE","$productTypeId",228],"]",";",["T_WHITESPACE","\n    ",228],"}",["T_WHITESPACE","\n\n    ",229],["T_DOC_COMMENT","\/**\n     * Return Block template\n     *\n     * @param string $productTypeId\n     * @return string\n     *\/",231],["T_WHITESPACE","\n    ",236],["T_PROTECTED","protected",237],["T_WHITESPACE"," ",237],["T_FUNCTION","function",237],["T_WHITESPACE"," ",237],["T_STRING","_getPriceBlockTemplate",237],"(",["T_VARIABLE","$productTypeId",237],")",["T_WHITESPACE","\n    ",237],"{",["T_WHITESPACE","\n        ",238],["T_IF","if",239],["T_WHITESPACE"," ",239],"(",["T_ISSET","isset",239],"(",["T_VARIABLE","$this",239],["T_OBJECT_OPERATOR","->",239],["T_STRING","_priceBlockTypes",239],"[",["T_VARIABLE","$productTypeId",239],"]",")",")",["T_WHITESPACE"," ",239],"{",["T_WHITESPACE","\n            ",239],["T_IF","if",240],["T_WHITESPACE"," ",240],"(",["T_VARIABLE","$this",240],["T_OBJECT_OPERATOR","->",240],["T_STRING","_priceBlockTypes",240],"[",["T_VARIABLE","$productTypeId",240],"]","[",["T_CONSTANT_ENCAPSED_STRING","'template'",240],"]",["T_WHITESPACE"," ",240],["T_IS_NOT_EQUAL","!=",240],["T_WHITESPACE"," ",240],["T_CONSTANT_ENCAPSED_STRING","''",240],")",["T_WHITESPACE"," ",240],"{",["T_WHITESPACE","\n                ",240],["T_RETURN","return",241],["T_WHITESPACE"," ",241],["T_VARIABLE","$this",241],["T_OBJECT_OPERATOR","->",241],["T_STRING","_priceBlockTypes",241],"[",["T_VARIABLE","$productTypeId",241],"]","[",["T_CONSTANT_ENCAPSED_STRING","'template'",241],"]",";",["T_WHITESPACE","\n            ",241],"}",["T_WHITESPACE","\n        ",242],"}",["T_WHITESPACE","\n        ",243],["T_RETURN","return",244],["T_WHITESPACE"," ",244],["T_VARIABLE","$this",244],["T_OBJECT_OPERATOR","->",244],["T_STRING","_priceBlockDefaultTemplate",244],";",["T_WHITESPACE","\n    ",244],"}",["T_WHITESPACE","\n\n\n    ",245],["T_DOC_COMMENT","\/**\n     * Prepares and returns block to render some product type\n     *\n     * @param string $productType\n     * @return Mage_Core_Block_Template\n     *\/",248],["T_WHITESPACE","\n    ",253],["T_PUBLIC","public",254],["T_WHITESPACE"," ",254],["T_FUNCTION","function",254],["T_WHITESPACE"," ",254],["T_STRING","_preparePriceRenderer",254],"(",["T_VARIABLE","$productType",254],")",["T_WHITESPACE","\n    ",254],"{",["T_WHITESPACE","\n        ",255],["T_RETURN","return",256],["T_WHITESPACE"," ",256],["T_VARIABLE","$this",256],["T_OBJECT_OPERATOR","->",256],["T_STRING","_getPriceBlock",256],"(",["T_VARIABLE","$productType",256],")",["T_WHITESPACE","\n            ",256],["T_OBJECT_OPERATOR","->",257],["T_STRING","setTemplate",257],"(",["T_VARIABLE","$this",257],["T_OBJECT_OPERATOR","->",257],["T_STRING","_getPriceBlockTemplate",257],"(",["T_VARIABLE","$productType",257],")",")",["T_WHITESPACE","\n            ",257],["T_OBJECT_OPERATOR","->",258],["T_STRING","setUseLinkForAsLowAs",258],"(",["T_VARIABLE","$this",258],["T_OBJECT_OPERATOR","->",258],["T_STRING","_useLinkForAsLowAs",258],")",";",["T_WHITESPACE","\n    ",258],"}",["T_WHITESPACE","\n\n    ",259],["T_DOC_COMMENT","\/**\n     * Returns product price block html\n     *\n     * @param Mage_Catalog_Model_Product $product\n     * @param boolean $displayMinimalPrice\n     * @param string $idSuffix\n     * @return string\n     *\/",261],["T_WHITESPACE","\n    ",268],["T_PUBLIC","public",269],["T_WHITESPACE"," ",269],["T_FUNCTION","function",269],["T_WHITESPACE"," ",269],["T_STRING","getPriceHtml",269],"(",["T_VARIABLE","$product",269],",",["T_WHITESPACE"," ",269],["T_VARIABLE","$displayMinimalPrice",269],["T_WHITESPACE"," ",269],"=",["T_WHITESPACE"," ",269],["T_STRING","false",269],",",["T_WHITESPACE"," ",269],["T_VARIABLE","$idSuffix",269],["T_WHITESPACE"," ",269],"=",["T_WHITESPACE"," ",269],["T_CONSTANT_ENCAPSED_STRING","''",269],")",["T_WHITESPACE","\n    ",269],"{",["T_WHITESPACE","\n        ",270],["T_VARIABLE","$type_id",271],["T_WHITESPACE"," ",271],"=",["T_WHITESPACE"," ",271],["T_VARIABLE","$product",271],["T_OBJECT_OPERATOR","->",271],["T_STRING","getTypeId",271],"(",")",";",["T_WHITESPACE","\n        ",271],["T_IF","if",272],["T_WHITESPACE"," ",272],"(",["T_STRING","Mage",272],["T_DOUBLE_COLON","::",272],["T_STRING","helper",272],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog'",272],")",["T_OBJECT_OPERATOR","->",272],["T_STRING","canApplyMsrp",272],"(",["T_VARIABLE","$product",272],")",")",["T_WHITESPACE"," ",272],"{",["T_WHITESPACE","\n            ",272],["T_VARIABLE","$realPriceHtml",273],["T_WHITESPACE"," ",273],"=",["T_WHITESPACE"," ",273],["T_VARIABLE","$this",273],["T_OBJECT_OPERATOR","->",273],["T_STRING","_preparePriceRenderer",273],"(",["T_VARIABLE","$type_id",273],")",["T_WHITESPACE","\n                ",273],["T_OBJECT_OPERATOR","->",274],["T_STRING","setProduct",274],"(",["T_VARIABLE","$product",274],")",["T_WHITESPACE","\n                ",274],["T_OBJECT_OPERATOR","->",275],["T_STRING","setDisplayMinimalPrice",275],"(",["T_VARIABLE","$displayMinimalPrice",275],")",["T_WHITESPACE","\n                ",275],["T_OBJECT_OPERATOR","->",276],["T_STRING","setIdSuffix",276],"(",["T_VARIABLE","$idSuffix",276],")",["T_WHITESPACE","\n                ",276],["T_OBJECT_OPERATOR","->",277],["T_STRING","toHtml",277],"(",")",";",["T_WHITESPACE","\n            ",277],["T_VARIABLE","$product",278],["T_OBJECT_OPERATOR","->",278],["T_STRING","setAddToCartUrl",278],"(",["T_VARIABLE","$this",278],["T_OBJECT_OPERATOR","->",278],["T_STRING","getAddToCartUrl",278],"(",["T_VARIABLE","$product",278],")",")",";",["T_WHITESPACE","\n            ",278],["T_VARIABLE","$product",279],["T_OBJECT_OPERATOR","->",279],["T_STRING","setRealPriceHtml",279],"(",["T_VARIABLE","$realPriceHtml",279],")",";",["T_WHITESPACE","\n            ",279],["T_VARIABLE","$type_id",280],["T_WHITESPACE"," ",280],"=",["T_WHITESPACE"," ",280],["T_VARIABLE","$this",280],["T_OBJECT_OPERATOR","->",280],["T_STRING","_mapRenderer",280],";",["T_WHITESPACE","\n        ",280],"}",["T_WHITESPACE","\n\n        ",281],["T_RETURN","return",283],["T_WHITESPACE"," ",283],["T_VARIABLE","$this",283],["T_OBJECT_OPERATOR","->",283],["T_STRING","_preparePriceRenderer",283],"(",["T_VARIABLE","$type_id",283],")",["T_WHITESPACE","\n            ",283],["T_OBJECT_OPERATOR","->",284],["T_STRING","setProduct",284],"(",["T_VARIABLE","$product",284],")",["T_WHITESPACE","\n            ",284],["T_OBJECT_OPERATOR","->",285],["T_STRING","setDisplayMinimalPrice",285],"(",["T_VARIABLE","$displayMinimalPrice",285],")",["T_WHITESPACE","\n            ",285],["T_OBJECT_OPERATOR","->",286],["T_STRING","setIdSuffix",286],"(",["T_VARIABLE","$idSuffix",286],")",["T_WHITESPACE","\n            ",286],["T_OBJECT_OPERATOR","->",287],["T_STRING","toHtml",287],"(",")",";",["T_WHITESPACE","\n    ",287],"}",["T_WHITESPACE","\n\n    ",288],["T_DOC_COMMENT","\/**\n     * Adding customized price template for product type\n     *\n     * @param string $type\n     * @param string $block\n     * @param string $template\n     *\/",290],["T_WHITESPACE","\n    ",296],["T_PUBLIC","public",297],["T_WHITESPACE"," ",297],["T_FUNCTION","function",297],["T_WHITESPACE"," ",297],["T_STRING","addPriceBlockType",297],"(",["T_VARIABLE","$type",297],",",["T_WHITESPACE"," ",297],["T_VARIABLE","$block",297],["T_WHITESPACE"," ",297],"=",["T_WHITESPACE"," ",297],["T_CONSTANT_ENCAPSED_STRING","''",297],",",["T_WHITESPACE"," ",297],["T_VARIABLE","$template",297],["T_WHITESPACE"," ",297],"=",["T_WHITESPACE"," ",297],["T_CONSTANT_ENCAPSED_STRING","''",297],")",["T_WHITESPACE","\n    ",297],"{",["T_WHITESPACE","\n        ",298],["T_IF","if",299],["T_WHITESPACE"," ",299],"(",["T_VARIABLE","$type",299],")",["T_WHITESPACE"," ",299],"{",["T_WHITESPACE","\n            ",299],["T_VARIABLE","$this",300],["T_OBJECT_OPERATOR","->",300],["T_STRING","_priceBlockTypes",300],"[",["T_VARIABLE","$type",300],"]",["T_WHITESPACE"," ",300],"=",["T_WHITESPACE"," ",300],["T_ARRAY","array",300],"(",["T_WHITESPACE","\n                ",300],["T_CONSTANT_ENCAPSED_STRING","'block'",301],["T_WHITESPACE"," ",301],["T_DOUBLE_ARROW","=>",301],["T_WHITESPACE"," ",301],["T_VARIABLE","$block",301],",",["T_WHITESPACE","\n                ",301],["T_CONSTANT_ENCAPSED_STRING","'template'",302],["T_WHITESPACE"," ",302],["T_DOUBLE_ARROW","=>",302],["T_WHITESPACE"," ",302],["T_VARIABLE","$template",302],["T_WHITESPACE","\n            ",302],")",";",["T_WHITESPACE","\n        ",303],"}",["T_WHITESPACE","\n    ",304],"}",["T_WHITESPACE","\n\n    ",305],["T_DOC_COMMENT","\/**\n     * Get product reviews summary\n     *\n     * @param Mage_Catalog_Model_Product $product\n     * @param bool $templateType\n     * @param bool $displayIfNoReviews\n     * @return string\n     *\/",307],["T_WHITESPACE","\n    ",314],["T_PUBLIC","public",315],["T_WHITESPACE"," ",315],["T_FUNCTION","function",315],["T_WHITESPACE"," ",315],["T_STRING","getReviewsSummaryHtml",315],"(",["T_STRING","Mage_Catalog_Model_Product",315],["T_WHITESPACE"," ",315],["T_VARIABLE","$product",315],",",["T_WHITESPACE"," ",315],["T_VARIABLE","$templateType",315],["T_WHITESPACE"," ",315],"=",["T_WHITESPACE"," ",315],["T_STRING","false",315],",",["T_WHITESPACE","\n        ",315],["T_VARIABLE","$displayIfNoReviews",316],["T_WHITESPACE"," ",316],"=",["T_WHITESPACE"," ",316],["T_STRING","false",316],")",["T_WHITESPACE","\n    ",316],"{",["T_WHITESPACE","\n        ",317],["T_IF","if",318],["T_WHITESPACE"," ",318],"(",["T_VARIABLE","$this",318],["T_OBJECT_OPERATOR","->",318],["T_STRING","_initReviewsHelperBlock",318],"(",")",")",["T_WHITESPACE"," ",318],"{",["T_WHITESPACE","\n            ",318],["T_RETURN","return",319],["T_WHITESPACE"," ",319],["T_VARIABLE","$this",319],["T_OBJECT_OPERATOR","->",319],["T_STRING","_reviewsHelperBlock",319],["T_OBJECT_OPERATOR","->",319],["T_STRING","getSummaryHtml",319],"(",["T_VARIABLE","$product",319],",",["T_WHITESPACE"," ",319],["T_VARIABLE","$templateType",319],",",["T_WHITESPACE"," ",319],["T_VARIABLE","$displayIfNoReviews",319],")",";",["T_WHITESPACE","\n        ",319],"}",["T_WHITESPACE","\n\n        ",320],["T_RETURN","return",322],["T_WHITESPACE"," ",322],["T_CONSTANT_ENCAPSED_STRING","''",322],";",["T_WHITESPACE","\n    ",322],"}",["T_WHITESPACE","\n\n    ",323],["T_DOC_COMMENT","\/**\n     * Add\/replace reviews summary template by type\n     *\n     * @param string $type\n     * @param string $template\n     * @return string\n     *\/",325],["T_WHITESPACE","\n    ",331],["T_PUBLIC","public",332],["T_WHITESPACE"," ",332],["T_FUNCTION","function",332],["T_WHITESPACE"," ",332],["T_STRING","addReviewSummaryTemplate",332],"(",["T_VARIABLE","$type",332],",",["T_WHITESPACE"," ",332],["T_VARIABLE","$template",332],")",["T_WHITESPACE","\n    ",332],"{",["T_WHITESPACE","\n        ",333],["T_IF","if",334],["T_WHITESPACE"," ",334],"(",["T_VARIABLE","$this",334],["T_OBJECT_OPERATOR","->",334],["T_STRING","_initReviewsHelperBlock",334],"(",")",")",["T_WHITESPACE"," ",334],"{",["T_WHITESPACE","\n            ",334],["T_VARIABLE","$this",335],["T_OBJECT_OPERATOR","->",335],["T_STRING","_reviewsHelperBlock",335],["T_OBJECT_OPERATOR","->",335],["T_STRING","addTemplate",335],"(",["T_VARIABLE","$type",335],",",["T_WHITESPACE"," ",335],["T_VARIABLE","$template",335],")",";",["T_WHITESPACE","\n        ",335],"}",["T_WHITESPACE","\n\n        ",336],["T_RETURN","return",338],["T_WHITESPACE"," ",338],["T_CONSTANT_ENCAPSED_STRING","''",338],";",["T_WHITESPACE","\n    ",338],"}",["T_WHITESPACE","\n\n    ",339],["T_DOC_COMMENT","\/**\n     * Create reviews summary helper block once\n     *\n     * @return boolean\n     *\/",341],["T_WHITESPACE","\n    ",345],["T_PROTECTED","protected",346],["T_WHITESPACE"," ",346],["T_FUNCTION","function",346],["T_WHITESPACE"," ",346],["T_STRING","_initReviewsHelperBlock",346],"(",")",["T_WHITESPACE","\n    ",346],"{",["T_WHITESPACE","\n        ",347],["T_IF","if",348],["T_WHITESPACE"," ",348],"(","!",["T_VARIABLE","$this",348],["T_OBJECT_OPERATOR","->",348],["T_STRING","_reviewsHelperBlock",348],")",["T_WHITESPACE"," ",348],"{",["T_WHITESPACE","\n            ",348],["T_IF","if",349],["T_WHITESPACE"," ",349],"(","!",["T_STRING","Mage",349],["T_DOUBLE_COLON","::",349],["T_STRING","helper",349],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog'",349],")",["T_OBJECT_OPERATOR","->",349],["T_STRING","isModuleEnabled",349],"(",["T_CONSTANT_ENCAPSED_STRING","'Mage_Review'",349],")",")",["T_WHITESPACE"," ",349],"{",["T_WHITESPACE","\n                ",349],["T_RETURN","return",350],["T_WHITESPACE"," ",350],["T_STRING","false",350],";",["T_WHITESPACE","\n            ",350],"}",["T_WHITESPACE"," ",351],["T_ELSE","else",351],["T_WHITESPACE"," ",351],"{",["T_WHITESPACE","\n                ",351],["T_VARIABLE","$this",352],["T_OBJECT_OPERATOR","->",352],["T_STRING","_reviewsHelperBlock",352],["T_WHITESPACE"," ",352],"=",["T_WHITESPACE"," ",352],["T_VARIABLE","$this",352],["T_OBJECT_OPERATOR","->",352],["T_STRING","getLayout",352],"(",")",["T_OBJECT_OPERATOR","->",352],["T_STRING","createBlock",352],"(",["T_CONSTANT_ENCAPSED_STRING","'review\/helper'",352],")",";",["T_WHITESPACE","\n            ",352],"}",["T_WHITESPACE","\n        ",353],"}",["T_WHITESPACE","\n\n        ",354],["T_RETURN","return",356],["T_WHITESPACE"," ",356],["T_STRING","true",356],";",["T_WHITESPACE","\n    ",356],"}",["T_WHITESPACE","\n\n    ",357],["T_DOC_COMMENT","\/**\n     * Retrieve currently viewed product object\n     *\n     * @return Mage_Catalog_Model_Product\n     *\/",359],["T_WHITESPACE","\n    ",363],["T_PUBLIC","public",364],["T_WHITESPACE"," ",364],["T_FUNCTION","function",364],["T_WHITESPACE"," ",364],["T_STRING","getProduct",364],"(",")",["T_WHITESPACE","\n    ",364],"{",["T_WHITESPACE","\n        ",365],["T_IF","if",366],["T_WHITESPACE"," ",366],"(","!",["T_VARIABLE","$this",366],["T_OBJECT_OPERATOR","->",366],["T_STRING","hasData",366],"(",["T_CONSTANT_ENCAPSED_STRING","'product'",366],")",")",["T_WHITESPACE"," ",366],"{",["T_WHITESPACE","\n            ",366],["T_VARIABLE","$this",367],["T_OBJECT_OPERATOR","->",367],["T_STRING","setData",367],"(",["T_CONSTANT_ENCAPSED_STRING","'product'",367],",",["T_WHITESPACE"," ",367],["T_STRING","Mage",367],["T_DOUBLE_COLON","::",367],["T_STRING","registry",367],"(",["T_CONSTANT_ENCAPSED_STRING","'product'",367],")",")",";",["T_WHITESPACE","\n        ",367],"}",["T_WHITESPACE","\n        ",368],["T_RETURN","return",369],["T_WHITESPACE"," ",369],["T_VARIABLE","$this",369],["T_OBJECT_OPERATOR","->",369],["T_STRING","getData",369],"(",["T_CONSTANT_ENCAPSED_STRING","'product'",369],")",";",["T_WHITESPACE","\n    ",369],"}",["T_WHITESPACE","\n\n    ",370],["T_DOC_COMMENT","\/**\n     * Return tier price template\n     *\n     * @return mixed|string\n     *\/",372],["T_WHITESPACE","\n    ",376],["T_PUBLIC","public",377],["T_WHITESPACE"," ",377],["T_FUNCTION","function",377],["T_WHITESPACE"," ",377],["T_STRING","getTierPriceTemplate",377],"(",")",["T_WHITESPACE","\n    ",377],"{",["T_WHITESPACE","\n        ",378],["T_IF","if",379],["T_WHITESPACE"," ",379],"(","!",["T_VARIABLE","$this",379],["T_OBJECT_OPERATOR","->",379],["T_STRING","hasData",379],"(",["T_CONSTANT_ENCAPSED_STRING","'tier_price_template'",379],")",")",["T_WHITESPACE"," ",379],"{",["T_WHITESPACE","\n            ",379],["T_RETURN","return",380],["T_WHITESPACE"," ",380],["T_VARIABLE","$this",380],["T_OBJECT_OPERATOR","->",380],["T_STRING","_tierPriceDefaultTemplate",380],";",["T_WHITESPACE","\n        ",380],"}",["T_WHITESPACE","\n\n        ",381],["T_RETURN","return",383],["T_WHITESPACE"," ",383],["T_VARIABLE","$this",383],["T_OBJECT_OPERATOR","->",383],["T_STRING","getData",383],"(",["T_CONSTANT_ENCAPSED_STRING","'tier_price_template'",383],")",";",["T_WHITESPACE","\n    ",383],"}",["T_WHITESPACE","\n\n    ",384],["T_DOC_COMMENT","\/**\n     * Returns product tier price block html\n     *\n     * @param null|Mage_Catalog_Model_Product $product\n     * @param null|Mage_Catalog_Model_Product $parent\n     * @return string\n     *\/",386],["T_WHITESPACE","\n    ",392],["T_PUBLIC","public",393],["T_WHITESPACE"," ",393],["T_FUNCTION","function",393],["T_WHITESPACE"," ",393],["T_STRING","getTierPriceHtml",393],"(",["T_VARIABLE","$product",393],["T_WHITESPACE"," ",393],"=",["T_WHITESPACE"," ",393],["T_STRING","null",393],",",["T_WHITESPACE"," ",393],["T_VARIABLE","$parent",393],["T_WHITESPACE"," ",393],"=",["T_WHITESPACE"," ",393],["T_STRING","null",393],")",["T_WHITESPACE","\n    ",393],"{",["T_WHITESPACE","\n        ",394],["T_IF","if",395],["T_WHITESPACE"," ",395],"(",["T_STRING","is_null",395],"(",["T_VARIABLE","$product",395],")",")",["T_WHITESPACE"," ",395],"{",["T_WHITESPACE","\n            ",395],["T_VARIABLE","$product",396],["T_WHITESPACE"," ",396],"=",["T_WHITESPACE"," ",396],["T_VARIABLE","$this",396],["T_OBJECT_OPERATOR","->",396],["T_STRING","getProduct",396],"(",")",";",["T_WHITESPACE","\n        ",396],"}",["T_WHITESPACE","\n        ",397],["T_RETURN","return",398],["T_WHITESPACE"," ",398],["T_VARIABLE","$this",398],["T_OBJECT_OPERATOR","->",398],["T_STRING","_getPriceBlock",398],"(",["T_VARIABLE","$product",398],["T_OBJECT_OPERATOR","->",398],["T_STRING","getTypeId",398],"(",")",")",["T_WHITESPACE","\n            ",398],["T_OBJECT_OPERATOR","->",399],["T_STRING","setTemplate",399],"(",["T_VARIABLE","$this",399],["T_OBJECT_OPERATOR","->",399],["T_STRING","getTierPriceTemplate",399],"(",")",")",["T_WHITESPACE","\n            ",399],["T_OBJECT_OPERATOR","->",400],["T_STRING","setProduct",400],"(",["T_VARIABLE","$product",400],")",["T_WHITESPACE","\n            ",400],["T_OBJECT_OPERATOR","->",401],["T_STRING","setInGrouped",401],"(",["T_VARIABLE","$product",401],["T_OBJECT_OPERATOR","->",401],["T_STRING","isGrouped",401],"(",")",")",["T_WHITESPACE","\n            ",401],["T_OBJECT_OPERATOR","->",402],["T_STRING","setParent",402],"(",["T_VARIABLE","$parent",402],")",["T_WHITESPACE","\n            ",402],["T_OBJECT_OPERATOR","->",403],["T_STRING","callParentToHtml",403],"(",")",";",["T_WHITESPACE","\n    ",403],"}",["T_WHITESPACE","\n\n    ",404],["T_COMMENT","\/*\n     * Calls the object's to Html method.\n     * This method exists to make the code more testable.\n     * By having a protected wrapper for the final method toHtml, we can 'mock' out this method\n     * when unit testing\n     *\n     *  @return string\n     *\/",406],["T_WHITESPACE","\n    ",413],["T_PROTECTED","protected",414],["T_WHITESPACE"," ",414],["T_FUNCTION","function",414],["T_WHITESPACE"," ",414],["T_STRING","callParentToHtml",414],"(",")",["T_WHITESPACE","\n    ",414],"{",["T_WHITESPACE","\n        ",415],["T_RETURN","return",416],["T_WHITESPACE"," ",416],["T_VARIABLE","$this",416],["T_OBJECT_OPERATOR","->",416],["T_STRING","toHtml",416],"(",")",";",["T_WHITESPACE","\n    ",416],"}",["T_WHITESPACE","\n\n    ",417],["T_DOC_COMMENT","\/**\n     * Get tier prices (formatted)\n     *\n     * @param Mage_Catalog_Model_Product $product\n     * @return array\n     *\/",419],["T_WHITESPACE","\n    ",424],["T_PUBLIC","public",425],["T_WHITESPACE"," ",425],["T_FUNCTION","function",425],["T_WHITESPACE"," ",425],["T_STRING","getTierPrices",425],"(",["T_VARIABLE","$product",425],["T_WHITESPACE"," ",425],"=",["T_WHITESPACE"," ",425],["T_STRING","null",425],")",["T_WHITESPACE","\n    ",425],"{",["T_WHITESPACE","\n        ",426],["T_IF","if",427],["T_WHITESPACE"," ",427],"(",["T_STRING","is_null",427],"(",["T_VARIABLE","$product",427],")",")",["T_WHITESPACE"," ",427],"{",["T_WHITESPACE","\n            ",427],["T_VARIABLE","$product",428],["T_WHITESPACE"," ",428],"=",["T_WHITESPACE"," ",428],["T_VARIABLE","$this",428],["T_OBJECT_OPERATOR","->",428],["T_STRING","getProduct",428],"(",")",";",["T_WHITESPACE","\n        ",428],"}",["T_WHITESPACE","\n        ",429],["T_VARIABLE","$prices",430],["T_WHITESPACE"," ",430],"=",["T_WHITESPACE"," ",430],["T_VARIABLE","$product",430],["T_OBJECT_OPERATOR","->",430],["T_STRING","getFormatedTierPrice",430],"(",")",";",["T_WHITESPACE","\n\n        ",430],["T_VARIABLE","$res",432],["T_WHITESPACE"," ",432],"=",["T_WHITESPACE"," ",432],["T_ARRAY","array",432],"(",")",";",["T_WHITESPACE","\n        ",432],["T_IF","if",433],["T_WHITESPACE"," ",433],"(",["T_STRING","is_array",433],"(",["T_VARIABLE","$prices",433],")",")",["T_WHITESPACE"," ",433],"{",["T_WHITESPACE","\n            ",433],["T_FOREACH","foreach",434],["T_WHITESPACE"," ",434],"(",["T_VARIABLE","$prices",434],["T_WHITESPACE"," ",434],["T_AS","as",434],["T_WHITESPACE"," ",434],["T_VARIABLE","$price",434],")",["T_WHITESPACE"," ",434],"{",["T_WHITESPACE","\n                ",434],["T_VARIABLE","$price",435],"[",["T_CONSTANT_ENCAPSED_STRING","'price_qty'",435],"]",["T_WHITESPACE"," ",435],"=",["T_WHITESPACE"," ",435],["T_VARIABLE","$price",435],"[",["T_CONSTANT_ENCAPSED_STRING","'price_qty'",435],"]",["T_WHITESPACE"," ",435],"*",["T_WHITESPACE"," ",435],["T_LNUMBER","1",435],";",["T_WHITESPACE","\n\n                ",435],["T_VARIABLE","$_productPrice",437],["T_WHITESPACE"," ",437],"=",["T_WHITESPACE"," ",437],["T_VARIABLE","$product",437],["T_OBJECT_OPERATOR","->",437],["T_STRING","getPrice",437],"(",")",";",["T_WHITESPACE","\n                ",437],["T_IF","if",438],["T_WHITESPACE"," ",438],"(",["T_VARIABLE","$_productPrice",438],["T_WHITESPACE"," ",438],["T_IS_NOT_EQUAL","!=",438],["T_WHITESPACE"," ",438],["T_VARIABLE","$product",438],["T_OBJECT_OPERATOR","->",438],["T_STRING","getFinalPrice",438],"(",")",")",["T_WHITESPACE"," ",438],"{",["T_WHITESPACE","\n                    ",438],["T_VARIABLE","$_productPrice",439],["T_WHITESPACE"," ",439],"=",["T_WHITESPACE"," ",439],["T_VARIABLE","$product",439],["T_OBJECT_OPERATOR","->",439],["T_STRING","getFinalPrice",439],"(",")",";",["T_WHITESPACE","\n                ",439],"}",["T_WHITESPACE","\n\n                ",440],["T_COMMENT","\/\/ Group price must be used for percent calculation if it is lower\n",442],["T_WHITESPACE","                ",443],["T_VARIABLE","$groupPrice",443],["T_WHITESPACE"," ",443],"=",["T_WHITESPACE"," ",443],["T_VARIABLE","$product",443],["T_OBJECT_OPERATOR","->",443],["T_STRING","getGroupPrice",443],"(",")",";",["T_WHITESPACE","\n                ",443],["T_IF","if",444],["T_WHITESPACE"," ",444],"(",["T_VARIABLE","$_productPrice",444],["T_WHITESPACE"," ",444],">",["T_WHITESPACE"," ",444],["T_VARIABLE","$groupPrice",444],")",["T_WHITESPACE"," ",444],"{",["T_WHITESPACE","\n                    ",444],["T_VARIABLE","$_productPrice",445],["T_WHITESPACE"," ",445],"=",["T_WHITESPACE"," ",445],["T_VARIABLE","$groupPrice",445],";",["T_WHITESPACE","\n                ",445],"}",["T_WHITESPACE","\n\n                ",446],["T_IF","if",448],["T_WHITESPACE"," ",448],"(",["T_VARIABLE","$price",448],"[",["T_CONSTANT_ENCAPSED_STRING","'price'",448],"]",["T_WHITESPACE"," ",448],"<",["T_WHITESPACE"," ",448],["T_VARIABLE","$_productPrice",448],")",["T_WHITESPACE"," ",448],"{",["T_WHITESPACE","\n                    ",448],["T_VARIABLE","$price",449],"[",["T_CONSTANT_ENCAPSED_STRING","'savePercent'",449],"]",["T_WHITESPACE"," ",449],"=",["T_WHITESPACE"," ",449],["T_STRING","ceil",449],"(",["T_LNUMBER","100",449],["T_WHITESPACE"," ",449],"-",["T_WHITESPACE"," ",449],"(","(",["T_LNUMBER","100",449],["T_WHITESPACE"," ",449],"\/",["T_WHITESPACE"," ",449],["T_VARIABLE","$_productPrice",449],")",["T_WHITESPACE"," ",449],"*",["T_WHITESPACE"," ",449],["T_VARIABLE","$price",449],"[",["T_CONSTANT_ENCAPSED_STRING","'price'",449],"]",")",")",";",["T_WHITESPACE","\n\n                    ",449],["T_VARIABLE","$tierPrice",451],["T_WHITESPACE"," ",451],"=",["T_WHITESPACE"," ",451],["T_STRING","Mage",451],["T_DOUBLE_COLON","::",451],["T_STRING","app",451],"(",")",["T_OBJECT_OPERATOR","->",451],["T_STRING","getStore",451],"(",")",["T_OBJECT_OPERATOR","->",451],["T_STRING","convertPrice",451],"(",["T_WHITESPACE","\n                        ",451],["T_STRING","Mage",452],["T_DOUBLE_COLON","::",452],["T_STRING","helper",452],"(",["T_CONSTANT_ENCAPSED_STRING","'tax'",452],")",["T_OBJECT_OPERATOR","->",452],["T_STRING","getPrice",452],"(",["T_VARIABLE","$product",452],",",["T_WHITESPACE"," ",452],["T_VARIABLE","$price",452],"[",["T_CONSTANT_ENCAPSED_STRING","'website_price'",452],"]",")",["T_WHITESPACE","\n                    ",452],")",";",["T_WHITESPACE","\n                    ",453],["T_VARIABLE","$price",454],"[",["T_CONSTANT_ENCAPSED_STRING","'formated_price'",454],"]",["T_WHITESPACE"," ",454],"=",["T_WHITESPACE"," ",454],["T_STRING","Mage",454],["T_DOUBLE_COLON","::",454],["T_STRING","app",454],"(",")",["T_OBJECT_OPERATOR","->",454],["T_STRING","getStore",454],"(",")",["T_OBJECT_OPERATOR","->",454],["T_STRING","formatPrice",454],"(",["T_VARIABLE","$tierPrice",454],")",";",["T_WHITESPACE","\n                    ",454],["T_VARIABLE","$price",455],"[",["T_CONSTANT_ENCAPSED_STRING","'formated_price_incl_tax'",455],"]",["T_WHITESPACE"," ",455],"=",["T_WHITESPACE"," ",455],["T_STRING","Mage",455],["T_DOUBLE_COLON","::",455],["T_STRING","app",455],"(",")",["T_OBJECT_OPERATOR","->",455],["T_STRING","getStore",455],"(",")",["T_OBJECT_OPERATOR","->",455],["T_STRING","formatPrice",455],"(",["T_WHITESPACE","\n                        ",455],["T_STRING","Mage",456],["T_DOUBLE_COLON","::",456],["T_STRING","app",456],"(",")",["T_OBJECT_OPERATOR","->",456],["T_STRING","getStore",456],"(",")",["T_OBJECT_OPERATOR","->",456],["T_STRING","convertPrice",456],"(",["T_WHITESPACE","\n                            ",456],["T_STRING","Mage",457],["T_DOUBLE_COLON","::",457],["T_STRING","helper",457],"(",["T_CONSTANT_ENCAPSED_STRING","'tax'",457],")",["T_OBJECT_OPERATOR","->",457],["T_STRING","getPrice",457],"(",["T_VARIABLE","$product",457],",",["T_WHITESPACE"," ",457],["T_VARIABLE","$price",457],"[",["T_CONSTANT_ENCAPSED_STRING","'website_price'",457],"]",",",["T_WHITESPACE"," ",457],["T_STRING","true",457],")",["T_WHITESPACE","\n                        ",457],")",["T_WHITESPACE","\n                    ",458],")",";",["T_WHITESPACE","\n\n                    ",459],["T_IF","if",461],["T_WHITESPACE"," ",461],"(",["T_STRING","Mage",461],["T_DOUBLE_COLON","::",461],["T_STRING","helper",461],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog'",461],")",["T_OBJECT_OPERATOR","->",461],["T_STRING","canApplyMsrp",461],"(",["T_VARIABLE","$product",461],")",")",["T_WHITESPACE"," ",461],"{",["T_WHITESPACE","\n                        ",461],["T_VARIABLE","$oldPrice",462],["T_WHITESPACE"," ",462],"=",["T_WHITESPACE"," ",462],["T_VARIABLE","$product",462],["T_OBJECT_OPERATOR","->",462],["T_STRING","getFinalPrice",462],"(",")",";",["T_WHITESPACE","\n                        ",462],["T_VARIABLE","$product",463],["T_OBJECT_OPERATOR","->",463],["T_STRING","setPriceCalculation",463],"(",["T_STRING","false",463],")",";",["T_WHITESPACE","\n                        ",463],["T_VARIABLE","$product",464],["T_OBJECT_OPERATOR","->",464],["T_STRING","setPrice",464],"(",["T_VARIABLE","$tierPrice",464],")",";",["T_WHITESPACE","\n                        ",464],["T_VARIABLE","$product",465],["T_OBJECT_OPERATOR","->",465],["T_STRING","setFinalPrice",465],"(",["T_VARIABLE","$tierPrice",465],")",";",["T_WHITESPACE","\n\n                        ",465],["T_VARIABLE","$this",467],["T_OBJECT_OPERATOR","->",467],["T_STRING","getPriceHtml",467],"(",["T_VARIABLE","$product",467],")",";",["T_WHITESPACE","\n                        ",467],["T_VARIABLE","$product",468],["T_OBJECT_OPERATOR","->",468],["T_STRING","setPriceCalculation",468],"(",["T_STRING","true",468],")",";",["T_WHITESPACE","\n\n                        ",468],["T_VARIABLE","$price",470],"[",["T_CONSTANT_ENCAPSED_STRING","'real_price_html'",470],"]",["T_WHITESPACE"," ",470],"=",["T_WHITESPACE"," ",470],["T_VARIABLE","$product",470],["T_OBJECT_OPERATOR","->",470],["T_STRING","getRealPriceHtml",470],"(",")",";",["T_WHITESPACE","\n                        ",470],["T_VARIABLE","$product",471],["T_OBJECT_OPERATOR","->",471],["T_STRING","setFinalPrice",471],"(",["T_VARIABLE","$oldPrice",471],")",";",["T_WHITESPACE","\n                    ",471],"}",["T_WHITESPACE","\n\n                    ",472],["T_VARIABLE","$res",474],"[","]",["T_WHITESPACE"," ",474],"=",["T_WHITESPACE"," ",474],["T_VARIABLE","$price",474],";",["T_WHITESPACE","\n                ",474],"}",["T_WHITESPACE","\n            ",475],"}",["T_WHITESPACE","\n        ",476],"}",["T_WHITESPACE","\n\n        ",477],["T_RETURN","return",479],["T_WHITESPACE"," ",479],["T_VARIABLE","$res",479],";",["T_WHITESPACE","\n    ",479],"}",["T_WHITESPACE","\n\n    ",480],["T_DOC_COMMENT","\/**\n     * Add all attributes and apply pricing logic to products collection\n     * to get correct values in different products lists.\n     * E.g. crosssells, upsells, new products, recently viewed\n     *\n     * @param Mage_Catalog_Model_Resource_Product_Collection $collection\n     * @return Mage_Catalog_Model_Resource_Product_Collection\n     *\/",482],["T_WHITESPACE","\n    ",489],["T_PROTECTED","protected",490],["T_WHITESPACE"," ",490],["T_FUNCTION","function",490],["T_WHITESPACE"," ",490],["T_STRING","_addProductAttributesAndPrices",490],"(",["T_STRING","Mage_Catalog_Model_Resource_Product_Collection",490],["T_WHITESPACE"," ",490],["T_VARIABLE","$collection",490],")",["T_WHITESPACE","\n    ",490],"{",["T_WHITESPACE","\n        ",491],["T_RETURN","return",492],["T_WHITESPACE"," ",492],["T_VARIABLE","$collection",492],["T_WHITESPACE","\n            ",492],["T_OBJECT_OPERATOR","->",493],["T_STRING","addMinimalPrice",493],"(",")",["T_WHITESPACE","\n            ",493],["T_OBJECT_OPERATOR","->",494],["T_STRING","addFinalPrice",494],"(",")",["T_WHITESPACE","\n            ",494],["T_OBJECT_OPERATOR","->",495],["T_STRING","addTaxPercents",495],"(",")",["T_WHITESPACE","\n            ",495],["T_OBJECT_OPERATOR","->",496],["T_STRING","addAttributeToSelect",496],"(",["T_STRING","Mage",496],["T_DOUBLE_COLON","::",496],["T_STRING","getSingleton",496],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog\/config'",496],")",["T_OBJECT_OPERATOR","->",496],["T_STRING","getProductAttributes",496],"(",")",")",["T_WHITESPACE","\n            ",496],["T_OBJECT_OPERATOR","->",497],["T_STRING","addUrlRewrite",497],"(",")",";",["T_WHITESPACE","\n    ",497],"}",["T_WHITESPACE","\n\n    ",498],["T_DOC_COMMENT","\/**\n     * Retrieve given media attribute label or product name if no label\n     *\n     * @param Mage_Catalog_Model_Product $product\n     * @param string $mediaAttributeCode\n     *\n     * @return string\n     *\/",500],["T_WHITESPACE","\n    ",507],["T_PUBLIC","public",508],["T_WHITESPACE"," ",508],["T_FUNCTION","function",508],["T_WHITESPACE"," ",508],["T_STRING","getImageLabel",508],"(",["T_VARIABLE","$product",508],["T_WHITESPACE"," ",508],"=",["T_WHITESPACE"," ",508],["T_STRING","null",508],",",["T_WHITESPACE"," ",508],["T_VARIABLE","$mediaAttributeCode",508],["T_WHITESPACE"," ",508],"=",["T_WHITESPACE"," ",508],["T_CONSTANT_ENCAPSED_STRING","'image'",508],")",["T_WHITESPACE","\n    ",508],"{",["T_WHITESPACE","\n        ",509],["T_IF","if",510],["T_WHITESPACE"," ",510],"(",["T_STRING","is_null",510],"(",["T_VARIABLE","$product",510],")",")",["T_WHITESPACE"," ",510],"{",["T_WHITESPACE","\n            ",510],["T_VARIABLE","$product",511],["T_WHITESPACE"," ",511],"=",["T_WHITESPACE"," ",511],["T_VARIABLE","$this",511],["T_OBJECT_OPERATOR","->",511],["T_STRING","getProduct",511],"(",")",";",["T_WHITESPACE","\n        ",511],"}",["T_WHITESPACE","\n\n        ",512],["T_VARIABLE","$label",514],["T_WHITESPACE"," ",514],"=",["T_WHITESPACE"," ",514],["T_VARIABLE","$product",514],["T_OBJECT_OPERATOR","->",514],["T_STRING","getData",514],"(",["T_VARIABLE","$mediaAttributeCode",514],["T_WHITESPACE"," ",514],".",["T_WHITESPACE"," ",514],["T_CONSTANT_ENCAPSED_STRING","'_label'",514],")",";",["T_WHITESPACE","\n        ",514],["T_IF","if",515],["T_WHITESPACE"," ",515],"(",["T_EMPTY","empty",515],"(",["T_VARIABLE","$label",515],")",")",["T_WHITESPACE"," ",515],"{",["T_WHITESPACE","\n            ",515],["T_VARIABLE","$label",516],["T_WHITESPACE"," ",516],"=",["T_WHITESPACE"," ",516],["T_VARIABLE","$product",516],["T_OBJECT_OPERATOR","->",516],["T_STRING","getName",516],"(",")",";",["T_WHITESPACE","\n        ",516],"}",["T_WHITESPACE","\n\n        ",517],["T_RETURN","return",519],["T_WHITESPACE"," ",519],["T_VARIABLE","$label",519],";",["T_WHITESPACE","\n    ",519],"}",["T_WHITESPACE","\n\n    ",520],["T_DOC_COMMENT","\/**\n     * Retrieve Product URL using UrlDataObject\n     *\n     * @param Mage_Catalog_Model_Product $product\n     * @param array $additional the route params\n     * @return string\n     *\/",522],["T_WHITESPACE","\n    ",528],["T_PUBLIC","public",529],["T_WHITESPACE"," ",529],["T_FUNCTION","function",529],["T_WHITESPACE"," ",529],["T_STRING","getProductUrl",529],"(",["T_VARIABLE","$product",529],",",["T_WHITESPACE"," ",529],["T_VARIABLE","$additional",529],["T_WHITESPACE"," ",529],"=",["T_WHITESPACE"," ",529],["T_ARRAY","array",529],"(",")",")",["T_WHITESPACE","\n    ",529],"{",["T_WHITESPACE","\n        ",530],["T_IF","if",531],["T_WHITESPACE"," ",531],"(",["T_VARIABLE","$this",531],["T_OBJECT_OPERATOR","->",531],["T_STRING","hasProductUrl",531],"(",["T_VARIABLE","$product",531],")",")",["T_WHITESPACE"," ",531],"{",["T_WHITESPACE","\n            ",531],["T_IF","if",532],["T_WHITESPACE"," ",532],"(","!",["T_ISSET","isset",532],"(",["T_VARIABLE","$additional",532],"[",["T_CONSTANT_ENCAPSED_STRING","'_escape'",532],"]",")",")",["T_WHITESPACE"," ",532],"{",["T_WHITESPACE","\n                ",532],["T_VARIABLE","$additional",533],"[",["T_CONSTANT_ENCAPSED_STRING","'_escape'",533],"]",["T_WHITESPACE"," ",533],"=",["T_WHITESPACE"," ",533],["T_STRING","true",533],";",["T_WHITESPACE","\n            ",533],"}",["T_WHITESPACE","\n            ",534],["T_RETURN","return",535],["T_WHITESPACE"," ",535],["T_VARIABLE","$product",535],["T_OBJECT_OPERATOR","->",535],["T_STRING","getUrlModel",535],"(",")",["T_OBJECT_OPERATOR","->",535],["T_STRING","getUrl",535],"(",["T_VARIABLE","$product",535],",",["T_WHITESPACE"," ",535],["T_VARIABLE","$additional",535],")",";",["T_WHITESPACE","\n        ",535],"}",["T_WHITESPACE","\n        ",536],["T_RETURN","return",537],["T_WHITESPACE"," ",537],["T_CONSTANT_ENCAPSED_STRING","'#'",537],";",["T_WHITESPACE","\n    ",537],"}",["T_WHITESPACE","\n\n    ",538],["T_DOC_COMMENT","\/**\n     * Check Product has URL\n     *\n     * @param Mage_Catalog_Model_Product $product\n     * @return bool\n     *\n     *\/",540],["T_WHITESPACE","\n    ",546],["T_PUBLIC","public",547],["T_WHITESPACE"," ",547],["T_FUNCTION","function",547],["T_WHITESPACE"," ",547],["T_STRING","hasProductUrl",547],"(",["T_VARIABLE","$product",547],")",["T_WHITESPACE","\n    ",547],"{",["T_WHITESPACE","\n        ",548],["T_IF","if",549],["T_WHITESPACE"," ",549],"(",["T_VARIABLE","$product",549],["T_OBJECT_OPERATOR","->",549],["T_STRING","getVisibleInSiteVisibilities",549],"(",")",")",["T_WHITESPACE"," ",549],"{",["T_WHITESPACE","\n            ",549],["T_RETURN","return",550],["T_WHITESPACE"," ",550],["T_STRING","true",550],";",["T_WHITESPACE","\n        ",550],"}",["T_WHITESPACE","\n        ",551],["T_RETURN","return",552],["T_WHITESPACE"," ",552],["T_STRING","false",552],";",["T_WHITESPACE","\n    ",552],"}",["T_WHITESPACE","\n\n    ",553],["T_DOC_COMMENT","\/**\n     * Retrieve product amount per row\n     *\n     * @return int\n     *\/",555],["T_WHITESPACE","\n    ",559],["T_PUBLIC","public",560],["T_WHITESPACE"," ",560],["T_FUNCTION","function",560],["T_WHITESPACE"," ",560],["T_STRING","getColumnCount",560],"(",")",["T_WHITESPACE","\n    ",560],"{",["T_WHITESPACE","\n        ",561],["T_IF","if",562],["T_WHITESPACE"," ",562],"(","!",["T_VARIABLE","$this",562],["T_OBJECT_OPERATOR","->",562],["T_STRING","_getData",562],"(",["T_CONSTANT_ENCAPSED_STRING","'column_count'",562],")",")",["T_WHITESPACE"," ",562],"{",["T_WHITESPACE","\n            ",562],["T_VARIABLE","$pageLayout",563],["T_WHITESPACE"," ",563],"=",["T_WHITESPACE"," ",563],["T_VARIABLE","$this",563],["T_OBJECT_OPERATOR","->",563],["T_STRING","getPageLayout",563],"(",")",";",["T_WHITESPACE","\n            ",563],["T_IF","if",564],["T_WHITESPACE"," ",564],"(",["T_VARIABLE","$pageLayout",564],["T_WHITESPACE"," ",564],["T_BOOLEAN_AND","&&",564],["T_WHITESPACE"," ",564],["T_VARIABLE","$this",564],["T_OBJECT_OPERATOR","->",564],["T_STRING","getColumnCountLayoutDepend",564],"(",["T_VARIABLE","$pageLayout",564],["T_OBJECT_OPERATOR","->",564],["T_STRING","getCode",564],"(",")",")",")",["T_WHITESPACE"," ",564],"{",["T_WHITESPACE","\n                ",564],["T_VARIABLE","$this",565],["T_OBJECT_OPERATOR","->",565],["T_STRING","setData",565],"(",["T_WHITESPACE","\n                    ",565],["T_CONSTANT_ENCAPSED_STRING","'column_count'",566],",",["T_WHITESPACE","\n                    ",566],["T_VARIABLE","$this",567],["T_OBJECT_OPERATOR","->",567],["T_STRING","getColumnCountLayoutDepend",567],"(",["T_VARIABLE","$pageLayout",567],["T_OBJECT_OPERATOR","->",567],["T_STRING","getCode",567],"(",")",")",["T_WHITESPACE","\n                ",567],")",";",["T_WHITESPACE","\n            ",568],"}",["T_WHITESPACE"," ",569],["T_ELSE","else",569],["T_WHITESPACE"," ",569],"{",["T_WHITESPACE","\n                ",569],["T_VARIABLE","$this",570],["T_OBJECT_OPERATOR","->",570],["T_STRING","setData",570],"(",["T_CONSTANT_ENCAPSED_STRING","'column_count'",570],",",["T_WHITESPACE"," ",570],["T_VARIABLE","$this",570],["T_OBJECT_OPERATOR","->",570],["T_STRING","_defaultColumnCount",570],")",";",["T_WHITESPACE","\n            ",570],"}",["T_WHITESPACE","\n        ",571],"}",["T_WHITESPACE","\n\n        ",572],["T_RETURN","return",574],["T_WHITESPACE"," ",574],["T_INT_CAST","(int)",574],["T_WHITESPACE"," ",574],["T_VARIABLE","$this",574],["T_OBJECT_OPERATOR","->",574],["T_STRING","_getData",574],"(",["T_CONSTANT_ENCAPSED_STRING","'column_count'",574],")",";",["T_WHITESPACE","\n    ",574],"}",["T_WHITESPACE","\n\n    ",575],["T_DOC_COMMENT","\/**\n     * Add row size depends on page layout\n     *\n     * @param string $pageLayout\n     * @param int $columnCount\n     * @return Mage_Catalog_Block_Product_List\n     *\/",577],["T_WHITESPACE","\n    ",583],["T_PUBLIC","public",584],["T_WHITESPACE"," ",584],["T_FUNCTION","function",584],["T_WHITESPACE"," ",584],["T_STRING","addColumnCountLayoutDepend",584],"(",["T_VARIABLE","$pageLayout",584],",",["T_WHITESPACE"," ",584],["T_VARIABLE","$columnCount",584],")",["T_WHITESPACE","\n    ",584],"{",["T_WHITESPACE","\n        ",585],["T_VARIABLE","$this",586],["T_OBJECT_OPERATOR","->",586],["T_STRING","_columnCountLayoutDepend",586],"[",["T_VARIABLE","$pageLayout",586],"]",["T_WHITESPACE"," ",586],"=",["T_WHITESPACE"," ",586],["T_VARIABLE","$columnCount",586],";",["T_WHITESPACE","\n        ",586],["T_RETURN","return",587],["T_WHITESPACE"," ",587],["T_VARIABLE","$this",587],";",["T_WHITESPACE","\n    ",587],"}",["T_WHITESPACE","\n\n    ",588],["T_DOC_COMMENT","\/**\n     * Remove row size depends on page layout\n     *\n     * @param string $pageLayout\n     * @return Mage_Catalog_Block_Product_List\n     *\/",590],["T_WHITESPACE","\n    ",595],["T_PUBLIC","public",596],["T_WHITESPACE"," ",596],["T_FUNCTION","function",596],["T_WHITESPACE"," ",596],["T_STRING","removeColumnCountLayoutDepend",596],"(",["T_VARIABLE","$pageLayout",596],")",["T_WHITESPACE","\n    ",596],"{",["T_WHITESPACE","\n        ",597],["T_IF","if",598],["T_WHITESPACE"," ",598],"(",["T_ISSET","isset",598],"(",["T_VARIABLE","$this",598],["T_OBJECT_OPERATOR","->",598],["T_STRING","_columnCountLayoutDepend",598],"[",["T_VARIABLE","$pageLayout",598],"]",")",")",["T_WHITESPACE"," ",598],"{",["T_WHITESPACE","\n            ",598],["T_UNSET","unset",599],"(",["T_VARIABLE","$this",599],["T_OBJECT_OPERATOR","->",599],["T_STRING","_columnCountLayoutDepend",599],"[",["T_VARIABLE","$pageLayout",599],"]",")",";",["T_WHITESPACE","\n        ",599],"}",["T_WHITESPACE","\n\n        ",600],["T_RETURN","return",602],["T_WHITESPACE"," ",602],["T_VARIABLE","$this",602],";",["T_WHITESPACE","\n    ",602],"}",["T_WHITESPACE","\n\n    ",603],["T_DOC_COMMENT","\/**\n     * Retrieve row size depends on page layout\n     *\n     * @param string $pageLayout\n     * @return int|boolean\n     *\/",605],["T_WHITESPACE","\n    ",610],["T_PUBLIC","public",611],["T_WHITESPACE"," ",611],["T_FUNCTION","function",611],["T_WHITESPACE"," ",611],["T_STRING","getColumnCountLayoutDepend",611],"(",["T_VARIABLE","$pageLayout",611],")",["T_WHITESPACE","\n    ",611],"{",["T_WHITESPACE","\n        ",612],["T_IF","if",613],["T_WHITESPACE"," ",613],"(",["T_ISSET","isset",613],"(",["T_VARIABLE","$this",613],["T_OBJECT_OPERATOR","->",613],["T_STRING","_columnCountLayoutDepend",613],"[",["T_VARIABLE","$pageLayout",613],"]",")",")",["T_WHITESPACE"," ",613],"{",["T_WHITESPACE","\n            ",613],["T_RETURN","return",614],["T_WHITESPACE"," ",614],["T_VARIABLE","$this",614],["T_OBJECT_OPERATOR","->",614],["T_STRING","_columnCountLayoutDepend",614],"[",["T_VARIABLE","$pageLayout",614],"]",";",["T_WHITESPACE","\n        ",614],"}",["T_WHITESPACE","\n\n        ",615],["T_RETURN","return",617],["T_WHITESPACE"," ",617],["T_STRING","false",617],";",["T_WHITESPACE","\n    ",617],"}",["T_WHITESPACE","\n\n    ",618],["T_DOC_COMMENT","\/**\n     * Retrieve current page layout\n     *\n     * @return Varien_Object\n     *\/",620],["T_WHITESPACE","\n    ",624],["T_PUBLIC","public",625],["T_WHITESPACE"," ",625],["T_FUNCTION","function",625],["T_WHITESPACE"," ",625],["T_STRING","getPageLayout",625],"(",")",["T_WHITESPACE","\n    ",625],"{",["T_WHITESPACE","\n        ",626],["T_RETURN","return",627],["T_WHITESPACE"," ",627],["T_VARIABLE","$this",627],["T_OBJECT_OPERATOR","->",627],["T_STRING","helper",627],"(",["T_CONSTANT_ENCAPSED_STRING","'page\/layout'",627],")",["T_OBJECT_OPERATOR","->",627],["T_STRING","getCurrentPageLayout",627],"(",")",";",["T_WHITESPACE","\n    ",627],"}",["T_WHITESPACE","\n\n    ",628],["T_DOC_COMMENT","\/**\n     * Check whether the price can be shown for the specified product\n     *\n     * @param Mage_Catalog_Model_Product $product\n     * @return bool\n     *\/",630],["T_WHITESPACE","\n    ",635],["T_PUBLIC","public",636],["T_WHITESPACE"," ",636],["T_FUNCTION","function",636],["T_WHITESPACE"," ",636],["T_STRING","getCanShowProductPrice",636],"(",["T_VARIABLE","$product",636],")",["T_WHITESPACE","\n    ",636],"{",["T_WHITESPACE","\n        ",637],["T_RETURN","return",638],["T_WHITESPACE"," ",638],["T_VARIABLE","$product",638],["T_OBJECT_OPERATOR","->",638],["T_STRING","getCanShowPrice",638],"(",")",["T_WHITESPACE"," ",638],["T_IS_NOT_IDENTICAL","!==",638],["T_WHITESPACE"," ",638],["T_STRING","false",638],";",["T_WHITESPACE","\n    ",638],"}",["T_WHITESPACE","\n\n    ",639],["T_DOC_COMMENT","\/**\n     * Get if it is necessary to show product stock status\n     *\n     * @return bool\n     *\/",641],["T_WHITESPACE","\n    ",645],["T_PUBLIC","public",646],["T_WHITESPACE"," ",646],["T_FUNCTION","function",646],["T_WHITESPACE"," ",646],["T_STRING","displayProductStockStatus",646],"(",")",["T_WHITESPACE","\n    ",646],"{",["T_WHITESPACE","\n        ",647],["T_VARIABLE","$statusInfo",648],["T_WHITESPACE"," ",648],"=",["T_WHITESPACE"," ",648],["T_NEW","new",648],["T_WHITESPACE"," ",648],["T_STRING","Varien_Object",648],"(",["T_ARRAY","array",648],"(",["T_CONSTANT_ENCAPSED_STRING","'display_status'",648],["T_WHITESPACE"," ",648],["T_DOUBLE_ARROW","=>",648],["T_WHITESPACE"," ",648],["T_STRING","true",648],")",")",";",["T_WHITESPACE","\n        ",648],["T_STRING","Mage",649],["T_DOUBLE_COLON","::",649],["T_STRING","dispatchEvent",649],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog_block_product_status_display'",649],",",["T_WHITESPACE"," ",649],["T_ARRAY","array",649],"(",["T_CONSTANT_ENCAPSED_STRING","'status'",649],["T_WHITESPACE"," ",649],["T_DOUBLE_ARROW","=>",649],["T_WHITESPACE"," ",649],["T_VARIABLE","$statusInfo",649],")",")",";",["T_WHITESPACE","\n        ",649],["T_RETURN","return",650],["T_WHITESPACE"," ",650],["T_BOOL_CAST","(boolean)",650],["T_VARIABLE","$statusInfo",650],["T_OBJECT_OPERATOR","->",650],["T_STRING","getDisplayStatus",650],"(",")",";",["T_WHITESPACE","\n    ",650],"}",["T_WHITESPACE","\n\n    ",651],["T_DOC_COMMENT","\/**\n     * If exists price template block, retrieve price blocks from it\n     *\n     * @return Mage_Catalog_Block_Product_Abstract\n     *\/",653],["T_WHITESPACE","\n    ",657],["T_PROTECTED","protected",658],["T_WHITESPACE"," ",658],["T_FUNCTION","function",658],["T_WHITESPACE"," ",658],["T_STRING","_prepareLayout",658],"(",")",["T_WHITESPACE","\n    ",658],"{",["T_WHITESPACE","\n        ",659],["T_STRING","parent",660],["T_DOUBLE_COLON","::",660],["T_STRING","_prepareLayout",660],"(",")",";",["T_WHITESPACE","\n\n        ",660],["T_COMMENT","\/* @var $block Mage_Catalog_Block_Product_Price_Template *\/",662],["T_WHITESPACE","\n        ",662],["T_VARIABLE","$block",663],["T_WHITESPACE"," ",663],"=",["T_WHITESPACE"," ",663],["T_VARIABLE","$this",663],["T_OBJECT_OPERATOR","->",663],["T_STRING","getLayout",663],"(",")",["T_OBJECT_OPERATOR","->",663],["T_STRING","getBlock",663],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog_product_price_template'",663],")",";",["T_WHITESPACE","\n        ",663],["T_IF","if",664],["T_WHITESPACE"," ",664],"(",["T_VARIABLE","$block",664],")",["T_WHITESPACE"," ",664],"{",["T_WHITESPACE","\n            ",664],["T_FOREACH","foreach",665],["T_WHITESPACE"," ",665],"(",["T_VARIABLE","$block",665],["T_OBJECT_OPERATOR","->",665],["T_STRING","getPriceBlockTypes",665],"(",")",["T_WHITESPACE"," ",665],["T_AS","as",665],["T_WHITESPACE"," ",665],["T_VARIABLE","$type",665],["T_WHITESPACE"," ",665],["T_DOUBLE_ARROW","=>",665],["T_WHITESPACE"," ",665],["T_VARIABLE","$priceBlock",665],")",["T_WHITESPACE"," ",665],"{",["T_WHITESPACE","\n                ",665],["T_VARIABLE","$this",666],["T_OBJECT_OPERATOR","->",666],["T_STRING","addPriceBlockType",666],"(",["T_VARIABLE","$type",666],",",["T_WHITESPACE"," ",666],["T_VARIABLE","$priceBlock",666],"[",["T_CONSTANT_ENCAPSED_STRING","'block'",666],"]",",",["T_WHITESPACE"," ",666],["T_VARIABLE","$priceBlock",666],"[",["T_CONSTANT_ENCAPSED_STRING","'template'",666],"]",")",";",["T_WHITESPACE","\n            ",666],"}",["T_WHITESPACE","\n        ",667],"}",["T_WHITESPACE","\n\n        ",668],["T_RETURN","return",670],["T_WHITESPACE"," ",670],["T_VARIABLE","$this",670],";",["T_WHITESPACE","\n    ",670],"}",["T_WHITESPACE","\n",671],"}",["T_WHITESPACE","\n",672]]