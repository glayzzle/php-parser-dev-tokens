[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Magento\n *\n * NOTICE OF LICENSE\n *\n * This source file is subject to the Open Software License (OSL 3.0)\n * that is bundled with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/opensource.org\/licenses\/osl-3.0.php\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@magento.com so we can send you a copy immediately.\n *\n * DISCLAIMER\n *\n * Do not edit or add to this file if you wish to upgrade Magento to newer\n * versions in the future. If you wish to customize Magento for your\n * needs please refer to http:\/\/www.magento.com for more information.\n *\n * @category    Mage\n * @package     Mage_Catalog\n * @copyright  Copyright (c) 2006-2016 X.commerce, Inc. and affiliates (http:\/\/www.magento.com)\n * @license    http:\/\/opensource.org\/licenses\/osl-3.0.php  Open Software License (OSL 3.0)\n *\/",2],["T_WHITESPACE","\n\n",25],["T_DOC_COMMENT","\/**\n * Catalog product option model\n *\n * @method Mage_Catalog_Model_Resource_Product_Option _getResource()\n * @method Mage_Catalog_Model_Resource_Product_Option getResource()\n * @method int getProductId()\n * @method Mage_Catalog_Model_Product_Option setProductId(int $value)\n * @method string getType()\n * @method Mage_Catalog_Model_Product_Option setType(string $value)\n * @method int getIsRequire()\n * @method Mage_Catalog_Model_Product_Option setIsRequire(int $value)\n * @method string getSku()\n * @method Mage_Catalog_Model_Product_Option setSku(string $value)\n * @method int getMaxCharacters()\n * @method Mage_Catalog_Model_Product_Option setMaxCharacters(int $value)\n * @method string getFileExtension()\n * @method Mage_Catalog_Model_Product_Option setFileExtension(string $value)\n * @method int getImageSizeX()\n * @method Mage_Catalog_Model_Product_Option setImageSizeX(int $value)\n * @method int getImageSizeY()\n * @method Mage_Catalog_Model_Product_Option setImageSizeY(int $value)\n * @method int getSortOrder()\n * @method Mage_Catalog_Model_Product_Option setSortOrder(int $value)\n *\n * @category    Mage\n * @package     Mage_Catalog\n * @author      Magento Core Team <core@magentocommerce.com>\n *\/",27],["T_WHITESPACE","\n",54],["T_CLASS","class",55],["T_WHITESPACE"," ",55],["T_STRING","Mage_Catalog_Model_Product_Option",55],["T_WHITESPACE"," ",55],["T_EXTENDS","extends",55],["T_WHITESPACE"," ",55],["T_STRING","Mage_Core_Model_Abstract",55],["T_WHITESPACE","\n",55],"{",["T_WHITESPACE","\n    ",56],["T_DOC_COMMENT","\/**\n     * Option group text\n     *\/",57],["T_WHITESPACE","\n    ",59],["T_CONST","const",60],["T_WHITESPACE"," ",60],["T_STRING","OPTION_GROUP_TEXT",60],["T_WHITESPACE","   ",60],"=",["T_WHITESPACE"," ",60],["T_CONSTANT_ENCAPSED_STRING","'text'",60],";",["T_WHITESPACE","\n\n    ",60],["T_DOC_COMMENT","\/**\n     * Option group file\n     *\/",62],["T_WHITESPACE","\n    ",64],["T_CONST","const",65],["T_WHITESPACE"," ",65],["T_STRING","OPTION_GROUP_FILE",65],["T_WHITESPACE","   ",65],"=",["T_WHITESPACE"," ",65],["T_CONSTANT_ENCAPSED_STRING","'file'",65],";",["T_WHITESPACE","\n\n    ",65],["T_DOC_COMMENT","\/**\n     * Option group select\n     *\/",67],["T_WHITESPACE","\n    ",69],["T_CONST","const",70],["T_WHITESPACE"," ",70],["T_STRING","OPTION_GROUP_SELECT",70],["T_WHITESPACE"," ",70],"=",["T_WHITESPACE"," ",70],["T_CONSTANT_ENCAPSED_STRING","'select'",70],";",["T_WHITESPACE","\n\n    ",70],["T_DOC_COMMENT","\/**\n     * Option group date\n     *\/",72],["T_WHITESPACE","\n    ",74],["T_CONST","const",75],["T_WHITESPACE"," ",75],["T_STRING","OPTION_GROUP_DATE",75],["T_WHITESPACE","   ",75],"=",["T_WHITESPACE"," ",75],["T_CONSTANT_ENCAPSED_STRING","'date'",75],";",["T_WHITESPACE","\n\n    ",75],["T_DOC_COMMENT","\/**\n     * Option type field\n     *\/",77],["T_WHITESPACE","\n    ",79],["T_CONST","const",80],["T_WHITESPACE"," ",80],["T_STRING","OPTION_TYPE_FIELD",80],["T_WHITESPACE","     ",80],"=",["T_WHITESPACE"," ",80],["T_CONSTANT_ENCAPSED_STRING","'field'",80],";",["T_WHITESPACE","\n\n    ",80],["T_DOC_COMMENT","\/**\n     * Option type area\n     *\/",82],["T_WHITESPACE","\n    ",84],["T_CONST","const",85],["T_WHITESPACE"," ",85],["T_STRING","OPTION_TYPE_AREA",85],["T_WHITESPACE","      ",85],"=",["T_WHITESPACE"," ",85],["T_CONSTANT_ENCAPSED_STRING","'area'",85],";",["T_WHITESPACE","\n\n    ",85],["T_DOC_COMMENT","\/**\n     * Option group file\n     *\/",87],["T_WHITESPACE","\n    ",89],["T_CONST","const",90],["T_WHITESPACE"," ",90],["T_STRING","OPTION_TYPE_FILE",90],["T_WHITESPACE","      ",90],"=",["T_WHITESPACE"," ",90],["T_CONSTANT_ENCAPSED_STRING","'file'",90],";",["T_WHITESPACE","\n\n    ",90],["T_DOC_COMMENT","\/**\n     * Option type drop down\n     *\/",92],["T_WHITESPACE","\n    ",94],["T_CONST","const",95],["T_WHITESPACE"," ",95],["T_STRING","OPTION_TYPE_DROP_DOWN",95],["T_WHITESPACE"," ",95],"=",["T_WHITESPACE"," ",95],["T_CONSTANT_ENCAPSED_STRING","'drop_down'",95],";",["T_WHITESPACE","\n\n    ",95],["T_DOC_COMMENT","\/**\n     * Option type radio\n     *\/",97],["T_WHITESPACE","\n    ",99],["T_CONST","const",100],["T_WHITESPACE"," ",100],["T_STRING","OPTION_TYPE_RADIO",100],["T_WHITESPACE","     ",100],"=",["T_WHITESPACE"," ",100],["T_CONSTANT_ENCAPSED_STRING","'radio'",100],";",["T_WHITESPACE","\n\n    ",100],["T_DOC_COMMENT","\/**\n     * Option type checkbox\n     *\/",102],["T_WHITESPACE","\n    ",104],["T_CONST","const",105],["T_WHITESPACE"," ",105],["T_STRING","OPTION_TYPE_CHECKBOX",105],["T_WHITESPACE","  ",105],"=",["T_WHITESPACE"," ",105],["T_CONSTANT_ENCAPSED_STRING","'checkbox'",105],";",["T_WHITESPACE","\n\n    ",105],["T_DOC_COMMENT","\/**\n     * Option type multiple\n     *\/",107],["T_WHITESPACE","\n    ",109],["T_CONST","const",110],["T_WHITESPACE"," ",110],["T_STRING","OPTION_TYPE_MULTIPLE",110],["T_WHITESPACE","  ",110],"=",["T_WHITESPACE"," ",110],["T_CONSTANT_ENCAPSED_STRING","'multiple'",110],";",["T_WHITESPACE","\n\n    ",110],["T_DOC_COMMENT","\/**\n     * Option type date\n     *\/",112],["T_WHITESPACE","\n    ",114],["T_CONST","const",115],["T_WHITESPACE"," ",115],["T_STRING","OPTION_TYPE_DATE",115],["T_WHITESPACE","      ",115],"=",["T_WHITESPACE"," ",115],["T_CONSTANT_ENCAPSED_STRING","'date'",115],";",["T_WHITESPACE","\n\n    ",115],["T_DOC_COMMENT","\/**\n     * Option type date\/time\n     *\/",117],["T_WHITESPACE","\n    ",119],["T_CONST","const",120],["T_WHITESPACE"," ",120],["T_STRING","OPTION_TYPE_DATE_TIME",120],["T_WHITESPACE"," ",120],"=",["T_WHITESPACE"," ",120],["T_CONSTANT_ENCAPSED_STRING","'date_time'",120],";",["T_WHITESPACE","\n\n    ",120],["T_DOC_COMMENT","\/**\n     * Option type time\n     *\/",122],["T_WHITESPACE","\n    ",124],["T_CONST","const",125],["T_WHITESPACE"," ",125],["T_STRING","OPTION_TYPE_TIME",125],["T_WHITESPACE","      ",125],"=",["T_WHITESPACE"," ",125],["T_CONSTANT_ENCAPSED_STRING","'time'",125],";",["T_WHITESPACE","\n\n    ",125],["T_DOC_COMMENT","\/**\n     * Product instance\n     *\n     * @var Mage_Catalog_Model_Product\n     *\/",127],["T_WHITESPACE","\n    ",131],["T_PROTECTED","protected",132],["T_WHITESPACE"," ",132],["T_VARIABLE","$_product",132],";",["T_WHITESPACE","\n\n    ",132],["T_DOC_COMMENT","\/**\n     * Options\n     *\n     * @var array\n     *\/",134],["T_WHITESPACE","\n    ",138],["T_PROTECTED","protected",139],["T_WHITESPACE"," ",139],["T_VARIABLE","$_options",139],["T_WHITESPACE"," ",139],"=",["T_WHITESPACE"," ",139],["T_ARRAY","array",139],"(",")",";",["T_WHITESPACE","\n\n    ",139],["T_DOC_COMMENT","\/**\n     * Value instance\n     *\n     * @var Mage_Catalog_Model_Product_Option_Value\n     *\/",141],["T_WHITESPACE","\n    ",145],["T_PROTECTED","protected",146],["T_WHITESPACE"," ",146],["T_VARIABLE","$_valueInstance",146],";",["T_WHITESPACE","\n\n    ",146],["T_DOC_COMMENT","\/**\n     * Values\n     *\n     * @var array\n     *\/",148],["T_WHITESPACE","\n    ",152],["T_PROTECTED","protected",153],["T_WHITESPACE"," ",153],["T_VARIABLE","$_values",153],["T_WHITESPACE"," ",153],"=",["T_WHITESPACE"," ",153],["T_ARRAY","array",153],"(",")",";",["T_WHITESPACE","\n\n    ",153],["T_DOC_COMMENT","\/**\n     * Constructor\n     *\/",155],["T_WHITESPACE","\n    ",157],["T_PROTECTED","protected",158],["T_WHITESPACE"," ",158],["T_FUNCTION","function",158],["T_WHITESPACE"," ",158],["T_STRING","_construct",158],"(",")",["T_WHITESPACE","\n    ",158],"{",["T_WHITESPACE","\n        ",159],["T_VARIABLE","$this",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","_init",160],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog\/product_option'",160],")",";",["T_WHITESPACE","\n    ",160],"}",["T_WHITESPACE","\n\n    ",161],["T_DOC_COMMENT","\/**\n     * Add value of option to values array\n     *\n     * @param Mage_Catalog_Model_Product_Option_Value $value\n     * @return Mage_Catalog_Model_Product_Option\n     *\/",163],["T_WHITESPACE","\n    ",168],["T_PUBLIC","public",169],["T_WHITESPACE"," ",169],["T_FUNCTION","function",169],["T_WHITESPACE"," ",169],["T_STRING","addValue",169],"(",["T_STRING","Mage_Catalog_Model_Product_Option_Value",169],["T_WHITESPACE"," ",169],["T_VARIABLE","$value",169],")",["T_WHITESPACE","\n    ",169],"{",["T_WHITESPACE","\n        ",170],["T_VARIABLE","$this",171],["T_OBJECT_OPERATOR","->",171],["T_STRING","_values",171],"[",["T_VARIABLE","$value",171],["T_OBJECT_OPERATOR","->",171],["T_STRING","getId",171],"(",")","]",["T_WHITESPACE"," ",171],"=",["T_WHITESPACE"," ",171],["T_VARIABLE","$value",171],";",["T_WHITESPACE","\n        ",171],["T_RETURN","return",172],["T_WHITESPACE"," ",172],["T_VARIABLE","$this",172],";",["T_WHITESPACE","\n    ",172],"}",["T_WHITESPACE","\n\n    ",173],["T_DOC_COMMENT","\/**\n     * Get value by given id\n     *\n     * @param int $valueId\n     * @return Mage_Catalog_Model_Product_Option_Value\n     *\/",175],["T_WHITESPACE","\n    ",180],["T_PUBLIC","public",181],["T_WHITESPACE"," ",181],["T_FUNCTION","function",181],["T_WHITESPACE"," ",181],["T_STRING","getValueById",181],"(",["T_VARIABLE","$valueId",181],")",["T_WHITESPACE","\n    ",181],"{",["T_WHITESPACE","\n        ",182],["T_IF","if",183],["T_WHITESPACE"," ",183],"(",["T_ISSET","isset",183],"(",["T_VARIABLE","$this",183],["T_OBJECT_OPERATOR","->",183],["T_STRING","_values",183],"[",["T_VARIABLE","$valueId",183],"]",")",")",["T_WHITESPACE"," ",183],"{",["T_WHITESPACE","\n            ",183],["T_RETURN","return",184],["T_WHITESPACE"," ",184],["T_VARIABLE","$this",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","_values",184],"[",["T_VARIABLE","$valueId",184],"]",";",["T_WHITESPACE","\n        ",184],"}",["T_WHITESPACE","\n\n        ",185],["T_RETURN","return",187],["T_WHITESPACE"," ",187],["T_STRING","null",187],";",["T_WHITESPACE","\n    ",187],"}",["T_WHITESPACE","\n\n    ",188],["T_DOC_COMMENT","\/**\n     * Get values\n     *\n     * @return array\n     *\/",190],["T_WHITESPACE","\n    ",194],["T_PUBLIC","public",195],["T_WHITESPACE"," ",195],["T_FUNCTION","function",195],["T_WHITESPACE"," ",195],["T_STRING","getValues",195],"(",")",["T_WHITESPACE","\n    ",195],"{",["T_WHITESPACE","\n        ",196],["T_RETURN","return",197],["T_WHITESPACE"," ",197],["T_VARIABLE","$this",197],["T_OBJECT_OPERATOR","->",197],["T_STRING","_values",197],";",["T_WHITESPACE","\n    ",197],"}",["T_WHITESPACE","\n\n    ",198],["T_DOC_COMMENT","\/**\n     * Retrieve value instance\n     *\n     * @return Mage_Catalog_Model_Product_Option_Value\n     *\/",200],["T_WHITESPACE","\n    ",204],["T_PUBLIC","public",205],["T_WHITESPACE"," ",205],["T_FUNCTION","function",205],["T_WHITESPACE"," ",205],["T_STRING","getValueInstance",205],"(",")",["T_WHITESPACE","\n    ",205],"{",["T_WHITESPACE","\n        ",206],["T_IF","if",207],["T_WHITESPACE"," ",207],"(","!",["T_VARIABLE","$this",207],["T_OBJECT_OPERATOR","->",207],["T_STRING","_valueInstance",207],")",["T_WHITESPACE"," ",207],"{",["T_WHITESPACE","\n            ",207],["T_VARIABLE","$this",208],["T_OBJECT_OPERATOR","->",208],["T_STRING","_valueInstance",208],["T_WHITESPACE"," ",208],"=",["T_WHITESPACE"," ",208],["T_STRING","Mage",208],["T_DOUBLE_COLON","::",208],["T_STRING","getSingleton",208],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog\/product_option_value'",208],")",";",["T_WHITESPACE","\n        ",208],"}",["T_WHITESPACE","\n        ",209],["T_RETURN","return",210],["T_WHITESPACE"," ",210],["T_VARIABLE","$this",210],["T_OBJECT_OPERATOR","->",210],["T_STRING","_valueInstance",210],";",["T_WHITESPACE","\n    ",210],"}",["T_WHITESPACE","\n\n    ",211],["T_DOC_COMMENT","\/**\n     * Add option for save it\n     *\n     * @param array $option\n     * @return Mage_Catalog_Model_Product_Option\n     *\/",213],["T_WHITESPACE","\n    ",218],["T_PUBLIC","public",219],["T_WHITESPACE"," ",219],["T_FUNCTION","function",219],["T_WHITESPACE"," ",219],["T_STRING","addOption",219],"(",["T_VARIABLE","$option",219],")",["T_WHITESPACE","\n    ",219],"{",["T_WHITESPACE","\n        ",220],["T_VARIABLE","$this",221],["T_OBJECT_OPERATOR","->",221],["T_STRING","_options",221],"[","]",["T_WHITESPACE"," ",221],"=",["T_WHITESPACE"," ",221],["T_VARIABLE","$option",221],";",["T_WHITESPACE","\n        ",221],["T_RETURN","return",222],["T_WHITESPACE"," ",222],["T_VARIABLE","$this",222],";",["T_WHITESPACE","\n    ",222],"}",["T_WHITESPACE","\n\n    ",223],["T_DOC_COMMENT","\/**\n     * Get all options\n     *\n     * @return array\n     *\/",225],["T_WHITESPACE","\n    ",229],["T_PUBLIC","public",230],["T_WHITESPACE"," ",230],["T_FUNCTION","function",230],["T_WHITESPACE"," ",230],["T_STRING","getOptions",230],"(",")",["T_WHITESPACE","\n    ",230],"{",["T_WHITESPACE","\n        ",231],["T_RETURN","return",232],["T_WHITESPACE"," ",232],["T_VARIABLE","$this",232],["T_OBJECT_OPERATOR","->",232],["T_STRING","_options",232],";",["T_WHITESPACE","\n    ",232],"}",["T_WHITESPACE","\n\n    ",233],["T_DOC_COMMENT","\/**\n     * Set options for array\n     *\n     * @param array $options\n     * @return Mage_Catalog_Model_Product_Option\n     *\/",235],["T_WHITESPACE","\n    ",240],["T_PUBLIC","public",241],["T_WHITESPACE"," ",241],["T_FUNCTION","function",241],["T_WHITESPACE"," ",241],["T_STRING","setOptions",241],"(",["T_VARIABLE","$options",241],")",["T_WHITESPACE","\n    ",241],"{",["T_WHITESPACE","\n        ",242],["T_VARIABLE","$this",243],["T_OBJECT_OPERATOR","->",243],["T_STRING","_options",243],["T_WHITESPACE"," ",243],"=",["T_WHITESPACE"," ",243],["T_VARIABLE","$options",243],";",["T_WHITESPACE","\n        ",243],["T_RETURN","return",244],["T_WHITESPACE"," ",244],["T_VARIABLE","$this",244],";",["T_WHITESPACE","\n    ",244],"}",["T_WHITESPACE","\n\n    ",245],["T_DOC_COMMENT","\/**\n     * Set options to empty array\n     *\n     * @return Mage_Catalog_Model_Product_Option\n     *\/",247],["T_WHITESPACE","\n    ",251],["T_PUBLIC","public",252],["T_WHITESPACE"," ",252],["T_FUNCTION","function",252],["T_WHITESPACE"," ",252],["T_STRING","unsetOptions",252],"(",")",["T_WHITESPACE","\n    ",252],"{",["T_WHITESPACE","\n        ",253],["T_VARIABLE","$this",254],["T_OBJECT_OPERATOR","->",254],["T_STRING","_options",254],["T_WHITESPACE"," ",254],"=",["T_WHITESPACE"," ",254],["T_ARRAY","array",254],"(",")",";",["T_WHITESPACE","\n        ",254],["T_RETURN","return",255],["T_WHITESPACE"," ",255],["T_VARIABLE","$this",255],";",["T_WHITESPACE","\n    ",255],"}",["T_WHITESPACE","\n\n    ",256],["T_DOC_COMMENT","\/**\n     * Retrieve product instance\n     *\n     * @return Mage_Catalog_Model_Product\n     *\/",258],["T_WHITESPACE","\n    ",262],["T_PUBLIC","public",263],["T_WHITESPACE"," ",263],["T_FUNCTION","function",263],["T_WHITESPACE"," ",263],["T_STRING","getProduct",263],"(",")",["T_WHITESPACE","\n    ",263],"{",["T_WHITESPACE","\n        ",264],["T_RETURN","return",265],["T_WHITESPACE"," ",265],["T_VARIABLE","$this",265],["T_OBJECT_OPERATOR","->",265],["T_STRING","_product",265],";",["T_WHITESPACE","\n    ",265],"}",["T_WHITESPACE","\n\n    ",266],["T_DOC_COMMENT","\/**\n     * Set product instance\n     *\n     * @param Mage_Catalog_Model_Product $product\n     * @return Mage_Catalog_Model_Product_Option\n     *\/",268],["T_WHITESPACE","\n    ",273],["T_PUBLIC","public",274],["T_WHITESPACE"," ",274],["T_FUNCTION","function",274],["T_WHITESPACE"," ",274],["T_STRING","setProduct",274],"(",["T_STRING","Mage_Catalog_Model_Product",274],["T_WHITESPACE"," ",274],["T_VARIABLE","$product",274],["T_WHITESPACE"," ",274],"=",["T_WHITESPACE"," ",274],["T_STRING","null",274],")",["T_WHITESPACE","\n    ",274],"{",["T_WHITESPACE","\n        ",275],["T_VARIABLE","$this",276],["T_OBJECT_OPERATOR","->",276],["T_STRING","_product",276],["T_WHITESPACE"," ",276],"=",["T_WHITESPACE"," ",276],["T_VARIABLE","$product",276],";",["T_WHITESPACE","\n        ",276],["T_RETURN","return",277],["T_WHITESPACE"," ",277],["T_VARIABLE","$this",277],";",["T_WHITESPACE","\n    ",277],"}",["T_WHITESPACE","\n\n    ",278],["T_DOC_COMMENT","\/**\n     * Get group name of option by given option type\n     *\n     * @param string $type\n     * @return string\n     *\/",280],["T_WHITESPACE","\n    ",285],["T_PUBLIC","public",286],["T_WHITESPACE"," ",286],["T_FUNCTION","function",286],["T_WHITESPACE"," ",286],["T_STRING","getGroupByType",286],"(",["T_VARIABLE","$type",286],["T_WHITESPACE"," ",286],"=",["T_WHITESPACE"," ",286],["T_STRING","null",286],")",["T_WHITESPACE","\n    ",286],"{",["T_WHITESPACE","\n        ",287],["T_IF","if",288],["T_WHITESPACE"," ",288],"(",["T_STRING","is_null",288],"(",["T_VARIABLE","$type",288],")",")",["T_WHITESPACE"," ",288],"{",["T_WHITESPACE","\n            ",288],["T_VARIABLE","$type",289],["T_WHITESPACE"," ",289],"=",["T_WHITESPACE"," ",289],["T_VARIABLE","$this",289],["T_OBJECT_OPERATOR","->",289],["T_STRING","getType",289],"(",")",";",["T_WHITESPACE","\n        ",289],"}",["T_WHITESPACE","\n        ",290],["T_VARIABLE","$optionGroupsToTypes",291],["T_WHITESPACE"," ",291],"=",["T_WHITESPACE"," ",291],["T_ARRAY","array",291],"(",["T_WHITESPACE","\n            ",291],["T_STRING","self",292],["T_DOUBLE_COLON","::",292],["T_STRING","OPTION_TYPE_FIELD",292],["T_WHITESPACE"," ",292],["T_DOUBLE_ARROW","=>",292],["T_WHITESPACE"," ",292],["T_STRING","self",292],["T_DOUBLE_COLON","::",292],["T_STRING","OPTION_GROUP_TEXT",292],",",["T_WHITESPACE","\n            ",292],["T_STRING","self",293],["T_DOUBLE_COLON","::",293],["T_STRING","OPTION_TYPE_AREA",293],["T_WHITESPACE"," ",293],["T_DOUBLE_ARROW","=>",293],["T_WHITESPACE"," ",293],["T_STRING","self",293],["T_DOUBLE_COLON","::",293],["T_STRING","OPTION_GROUP_TEXT",293],",",["T_WHITESPACE","\n            ",293],["T_STRING","self",294],["T_DOUBLE_COLON","::",294],["T_STRING","OPTION_TYPE_FILE",294],["T_WHITESPACE"," ",294],["T_DOUBLE_ARROW","=>",294],["T_WHITESPACE"," ",294],["T_STRING","self",294],["T_DOUBLE_COLON","::",294],["T_STRING","OPTION_GROUP_FILE",294],",",["T_WHITESPACE","\n            ",294],["T_STRING","self",295],["T_DOUBLE_COLON","::",295],["T_STRING","OPTION_TYPE_DROP_DOWN",295],["T_WHITESPACE"," ",295],["T_DOUBLE_ARROW","=>",295],["T_WHITESPACE"," ",295],["T_STRING","self",295],["T_DOUBLE_COLON","::",295],["T_STRING","OPTION_GROUP_SELECT",295],",",["T_WHITESPACE","\n            ",295],["T_STRING","self",296],["T_DOUBLE_COLON","::",296],["T_STRING","OPTION_TYPE_RADIO",296],["T_WHITESPACE"," ",296],["T_DOUBLE_ARROW","=>",296],["T_WHITESPACE"," ",296],["T_STRING","self",296],["T_DOUBLE_COLON","::",296],["T_STRING","OPTION_GROUP_SELECT",296],",",["T_WHITESPACE","\n            ",296],["T_STRING","self",297],["T_DOUBLE_COLON","::",297],["T_STRING","OPTION_TYPE_CHECKBOX",297],["T_WHITESPACE"," ",297],["T_DOUBLE_ARROW","=>",297],["T_WHITESPACE"," ",297],["T_STRING","self",297],["T_DOUBLE_COLON","::",297],["T_STRING","OPTION_GROUP_SELECT",297],",",["T_WHITESPACE","\n            ",297],["T_STRING","self",298],["T_DOUBLE_COLON","::",298],["T_STRING","OPTION_TYPE_MULTIPLE",298],["T_WHITESPACE"," ",298],["T_DOUBLE_ARROW","=>",298],["T_WHITESPACE"," ",298],["T_STRING","self",298],["T_DOUBLE_COLON","::",298],["T_STRING","OPTION_GROUP_SELECT",298],",",["T_WHITESPACE","\n            ",298],["T_STRING","self",299],["T_DOUBLE_COLON","::",299],["T_STRING","OPTION_TYPE_DATE",299],["T_WHITESPACE"," ",299],["T_DOUBLE_ARROW","=>",299],["T_WHITESPACE"," ",299],["T_STRING","self",299],["T_DOUBLE_COLON","::",299],["T_STRING","OPTION_GROUP_DATE",299],",",["T_WHITESPACE","\n            ",299],["T_STRING","self",300],["T_DOUBLE_COLON","::",300],["T_STRING","OPTION_TYPE_DATE_TIME",300],["T_WHITESPACE"," ",300],["T_DOUBLE_ARROW","=>",300],["T_WHITESPACE"," ",300],["T_STRING","self",300],["T_DOUBLE_COLON","::",300],["T_STRING","OPTION_GROUP_DATE",300],",",["T_WHITESPACE","\n            ",300],["T_STRING","self",301],["T_DOUBLE_COLON","::",301],["T_STRING","OPTION_TYPE_TIME",301],["T_WHITESPACE"," ",301],["T_DOUBLE_ARROW","=>",301],["T_WHITESPACE"," ",301],["T_STRING","self",301],["T_DOUBLE_COLON","::",301],["T_STRING","OPTION_GROUP_DATE",301],",",["T_WHITESPACE","\n        ",301],")",";",["T_WHITESPACE","\n\n        ",302],["T_RETURN","return",304],["T_WHITESPACE"," ",304],["T_ISSET","isset",304],"(",["T_VARIABLE","$optionGroupsToTypes",304],"[",["T_VARIABLE","$type",304],"]",")","?",["T_VARIABLE","$optionGroupsToTypes",304],"[",["T_VARIABLE","$type",304],"]",":",["T_CONSTANT_ENCAPSED_STRING","''",304],";",["T_WHITESPACE","\n    ",304],"}",["T_WHITESPACE","\n\n    ",305],["T_DOC_COMMENT","\/**\n     * Group model factory\n     *\n     * @param string $type Option type\n     * @return Mage_Catalog_Model_Product_Option_Group_Abstract\n     *\/",307],["T_WHITESPACE","\n    ",312],["T_PUBLIC","public",313],["T_WHITESPACE"," ",313],["T_FUNCTION","function",313],["T_WHITESPACE"," ",313],["T_STRING","groupFactory",313],"(",["T_VARIABLE","$type",313],")",["T_WHITESPACE","\n    ",313],"{",["T_WHITESPACE","\n        ",314],["T_VARIABLE","$group",315],["T_WHITESPACE"," ",315],"=",["T_WHITESPACE"," ",315],["T_VARIABLE","$this",315],["T_OBJECT_OPERATOR","->",315],["T_STRING","getGroupByType",315],"(",["T_VARIABLE","$type",315],")",";",["T_WHITESPACE","\n        ",315],["T_IF","if",316],["T_WHITESPACE"," ",316],"(","!",["T_EMPTY","empty",316],"(",["T_VARIABLE","$group",316],")",")",["T_WHITESPACE"," ",316],"{",["T_WHITESPACE","\n            ",316],["T_RETURN","return",317],["T_WHITESPACE"," ",317],["T_STRING","Mage",317],["T_DOUBLE_COLON","::",317],["T_STRING","getModel",317],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog\/product_option_type_'",317],["T_WHITESPACE"," ",317],".",["T_WHITESPACE"," ",317],["T_VARIABLE","$group",317],")",";",["T_WHITESPACE","\n        ",317],"}",["T_WHITESPACE","\n        ",318],["T_STRING","Mage",319],["T_DOUBLE_COLON","::",319],["T_STRING","throwException",319],"(",["T_STRING","Mage",319],["T_DOUBLE_COLON","::",319],["T_STRING","helper",319],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog'",319],")",["T_OBJECT_OPERATOR","->",319],["T_STRING","__",319],"(",["T_CONSTANT_ENCAPSED_STRING","'Wrong option type to get group instance.'",319],")",")",";",["T_WHITESPACE","\n    ",319],"}",["T_WHITESPACE","\n\n    ",320],["T_DOC_COMMENT","\/**\n     * Save options.\n     *\n     * @return Mage_Catalog_Model_Product_Option\n     *\/",322],["T_WHITESPACE","\n    ",326],["T_PUBLIC","public",327],["T_WHITESPACE"," ",327],["T_FUNCTION","function",327],["T_WHITESPACE"," ",327],["T_STRING","saveOptions",327],"(",")",["T_WHITESPACE","\n    ",327],"{",["T_WHITESPACE","\n        ",328],["T_FOREACH","foreach",329],["T_WHITESPACE"," ",329],"(",["T_VARIABLE","$this",329],["T_OBJECT_OPERATOR","->",329],["T_STRING","getOptions",329],"(",")",["T_WHITESPACE"," ",329],["T_AS","as",329],["T_WHITESPACE"," ",329],["T_VARIABLE","$option",329],")",["T_WHITESPACE"," ",329],"{",["T_WHITESPACE","\n            ",329],["T_VARIABLE","$this",330],["T_OBJECT_OPERATOR","->",330],["T_STRING","setData",330],"(",["T_VARIABLE","$option",330],")",["T_WHITESPACE","\n                ",330],["T_OBJECT_OPERATOR","->",331],["T_STRING","setData",331],"(",["T_CONSTANT_ENCAPSED_STRING","'product_id'",331],",",["T_WHITESPACE"," ",331],["T_VARIABLE","$this",331],["T_OBJECT_OPERATOR","->",331],["T_STRING","getProduct",331],"(",")",["T_OBJECT_OPERATOR","->",331],["T_STRING","getId",331],"(",")",")",["T_WHITESPACE","\n                ",331],["T_OBJECT_OPERATOR","->",332],["T_STRING","setData",332],"(",["T_CONSTANT_ENCAPSED_STRING","'store_id'",332],",",["T_WHITESPACE"," ",332],["T_VARIABLE","$this",332],["T_OBJECT_OPERATOR","->",332],["T_STRING","getProduct",332],"(",")",["T_OBJECT_OPERATOR","->",332],["T_STRING","getStoreId",332],"(",")",")",";",["T_WHITESPACE","\n\n            ",332],["T_IF","if",334],["T_WHITESPACE"," ",334],"(",["T_VARIABLE","$this",334],["T_OBJECT_OPERATOR","->",334],["T_STRING","getData",334],"(",["T_CONSTANT_ENCAPSED_STRING","'option_id'",334],")",["T_WHITESPACE"," ",334],["T_IS_EQUAL","==",334],["T_WHITESPACE"," ",334],["T_CONSTANT_ENCAPSED_STRING","'0'",334],")",["T_WHITESPACE"," ",334],"{",["T_WHITESPACE","\n                ",334],["T_VARIABLE","$this",335],["T_OBJECT_OPERATOR","->",335],["T_STRING","unsetData",335],"(",["T_CONSTANT_ENCAPSED_STRING","'option_id'",335],")",";",["T_WHITESPACE","\n            ",335],"}",["T_WHITESPACE"," ",336],["T_ELSE","else",336],["T_WHITESPACE"," ",336],"{",["T_WHITESPACE","\n                ",336],["T_VARIABLE","$this",337],["T_OBJECT_OPERATOR","->",337],["T_STRING","setId",337],"(",["T_VARIABLE","$this",337],["T_OBJECT_OPERATOR","->",337],["T_STRING","getData",337],"(",["T_CONSTANT_ENCAPSED_STRING","'option_id'",337],")",")",";",["T_WHITESPACE","\n            ",337],"}",["T_WHITESPACE","\n            ",338],["T_VARIABLE","$isEdit",339],["T_WHITESPACE"," ",339],"=",["T_WHITESPACE"," ",339],["T_BOOL_CAST","(bool)",339],["T_VARIABLE","$this",339],["T_OBJECT_OPERATOR","->",339],["T_STRING","getId",339],"(",")","?",["T_WHITESPACE"," ",339],["T_STRING","true",339],":",["T_STRING","false",339],";",["T_WHITESPACE","\n\n            ",339],["T_IF","if",341],["T_WHITESPACE"," ",341],"(",["T_VARIABLE","$this",341],["T_OBJECT_OPERATOR","->",341],["T_STRING","getData",341],"(",["T_CONSTANT_ENCAPSED_STRING","'is_delete'",341],")",["T_WHITESPACE"," ",341],["T_IS_EQUAL","==",341],["T_WHITESPACE"," ",341],["T_CONSTANT_ENCAPSED_STRING","'1'",341],")",["T_WHITESPACE"," ",341],"{",["T_WHITESPACE","\n                ",341],["T_IF","if",342],["T_WHITESPACE"," ",342],"(",["T_VARIABLE","$isEdit",342],")",["T_WHITESPACE"," ",342],"{",["T_WHITESPACE","\n                    ",342],["T_VARIABLE","$this",343],["T_OBJECT_OPERATOR","->",343],["T_STRING","getValueInstance",343],"(",")",["T_OBJECT_OPERATOR","->",343],["T_STRING","deleteValue",343],"(",["T_VARIABLE","$this",343],["T_OBJECT_OPERATOR","->",343],["T_STRING","getId",343],"(",")",")",";",["T_WHITESPACE","\n                    ",343],["T_VARIABLE","$this",344],["T_OBJECT_OPERATOR","->",344],["T_STRING","deletePrices",344],"(",["T_VARIABLE","$this",344],["T_OBJECT_OPERATOR","->",344],["T_STRING","getId",344],"(",")",")",";",["T_WHITESPACE","\n                    ",344],["T_VARIABLE","$this",345],["T_OBJECT_OPERATOR","->",345],["T_STRING","deleteTitles",345],"(",["T_VARIABLE","$this",345],["T_OBJECT_OPERATOR","->",345],["T_STRING","getId",345],"(",")",")",";",["T_WHITESPACE","\n                    ",345],["T_VARIABLE","$this",346],["T_OBJECT_OPERATOR","->",346],["T_STRING","delete",346],"(",")",";",["T_WHITESPACE","\n                ",346],"}",["T_WHITESPACE","\n            ",347],"}",["T_WHITESPACE"," ",348],["T_ELSE","else",348],["T_WHITESPACE"," ",348],"{",["T_WHITESPACE","\n                ",348],["T_IF","if",349],["T_WHITESPACE"," ",349],"(",["T_VARIABLE","$this",349],["T_OBJECT_OPERATOR","->",349],["T_STRING","getData",349],"(",["T_CONSTANT_ENCAPSED_STRING","'previous_type'",349],")",["T_WHITESPACE"," ",349],["T_IS_NOT_EQUAL","!=",349],["T_WHITESPACE"," ",349],["T_CONSTANT_ENCAPSED_STRING","''",349],")",["T_WHITESPACE"," ",349],"{",["T_WHITESPACE","\n                    ",349],["T_VARIABLE","$previousType",350],["T_WHITESPACE"," ",350],"=",["T_WHITESPACE"," ",350],["T_VARIABLE","$this",350],["T_OBJECT_OPERATOR","->",350],["T_STRING","getData",350],"(",["T_CONSTANT_ENCAPSED_STRING","'previous_type'",350],")",";",["T_WHITESPACE","\n\n                    ",350],["T_DOC_COMMENT","\/**\n                     * if previous option has different group from one is came now\n                     * need to remove all data of previous group\n                     *\/",352],["T_WHITESPACE","\n                    ",355],["T_IF","if",356],["T_WHITESPACE"," ",356],"(",["T_VARIABLE","$this",356],["T_OBJECT_OPERATOR","->",356],["T_STRING","getGroupByType",356],"(",["T_VARIABLE","$previousType",356],")",["T_WHITESPACE"," ",356],["T_IS_NOT_EQUAL","!=",356],["T_WHITESPACE"," ",356],["T_VARIABLE","$this",356],["T_OBJECT_OPERATOR","->",356],["T_STRING","getGroupByType",356],"(",["T_VARIABLE","$this",356],["T_OBJECT_OPERATOR","->",356],["T_STRING","getData",356],"(",["T_CONSTANT_ENCAPSED_STRING","'type'",356],")",")",")",["T_WHITESPACE"," ",356],"{",["T_WHITESPACE","\n\n                        ",356],["T_SWITCH","switch",358],["T_WHITESPACE"," ",358],"(",["T_VARIABLE","$this",358],["T_OBJECT_OPERATOR","->",358],["T_STRING","getGroupByType",358],"(",["T_VARIABLE","$previousType",358],")",")",["T_WHITESPACE"," ",358],"{",["T_WHITESPACE","\n                            ",358],["T_CASE","case",359],["T_WHITESPACE"," ",359],["T_STRING","self",359],["T_DOUBLE_COLON","::",359],["T_STRING","OPTION_GROUP_SELECT",359],":",["T_WHITESPACE","\n                                ",359],["T_VARIABLE","$this",360],["T_OBJECT_OPERATOR","->",360],["T_STRING","unsetData",360],"(",["T_CONSTANT_ENCAPSED_STRING","'values'",360],")",";",["T_WHITESPACE","\n                                ",360],["T_IF","if",361],["T_WHITESPACE"," ",361],"(",["T_VARIABLE","$isEdit",361],")",["T_WHITESPACE"," ",361],"{",["T_WHITESPACE","\n                                    ",361],["T_VARIABLE","$this",362],["T_OBJECT_OPERATOR","->",362],["T_STRING","getValueInstance",362],"(",")",["T_OBJECT_OPERATOR","->",362],["T_STRING","deleteValue",362],"(",["T_VARIABLE","$this",362],["T_OBJECT_OPERATOR","->",362],["T_STRING","getId",362],"(",")",")",";",["T_WHITESPACE","\n                                ",362],"}",["T_WHITESPACE","\n                                ",363],["T_BREAK","break",364],";",["T_WHITESPACE","\n                            ",364],["T_CASE","case",365],["T_WHITESPACE"," ",365],["T_STRING","self",365],["T_DOUBLE_COLON","::",365],["T_STRING","OPTION_GROUP_FILE",365],":",["T_WHITESPACE","\n                                ",365],["T_VARIABLE","$this",366],["T_OBJECT_OPERATOR","->",366],["T_STRING","setData",366],"(",["T_CONSTANT_ENCAPSED_STRING","'file_extension'",366],",",["T_WHITESPACE"," ",366],["T_CONSTANT_ENCAPSED_STRING","''",366],")",";",["T_WHITESPACE","\n                                ",366],["T_VARIABLE","$this",367],["T_OBJECT_OPERATOR","->",367],["T_STRING","setData",367],"(",["T_CONSTANT_ENCAPSED_STRING","'image_size_x'",367],",",["T_WHITESPACE"," ",367],["T_CONSTANT_ENCAPSED_STRING","'0'",367],")",";",["T_WHITESPACE","\n                                ",367],["T_VARIABLE","$this",368],["T_OBJECT_OPERATOR","->",368],["T_STRING","setData",368],"(",["T_CONSTANT_ENCAPSED_STRING","'image_size_y'",368],",",["T_WHITESPACE"," ",368],["T_CONSTANT_ENCAPSED_STRING","'0'",368],")",";",["T_WHITESPACE","\n                                ",368],["T_BREAK","break",369],";",["T_WHITESPACE","\n                            ",369],["T_CASE","case",370],["T_WHITESPACE"," ",370],["T_STRING","self",370],["T_DOUBLE_COLON","::",370],["T_STRING","OPTION_GROUP_TEXT",370],":",["T_WHITESPACE","\n                                ",370],["T_VARIABLE","$this",371],["T_OBJECT_OPERATOR","->",371],["T_STRING","setData",371],"(",["T_CONSTANT_ENCAPSED_STRING","'max_characters'",371],",",["T_WHITESPACE"," ",371],["T_CONSTANT_ENCAPSED_STRING","'0'",371],")",";",["T_WHITESPACE","\n                                ",371],["T_BREAK","break",372],";",["T_WHITESPACE","\n                            ",372],["T_CASE","case",373],["T_WHITESPACE"," ",373],["T_STRING","self",373],["T_DOUBLE_COLON","::",373],["T_STRING","OPTION_GROUP_DATE",373],":",["T_WHITESPACE","\n                                ",373],["T_BREAK","break",374],";",["T_WHITESPACE","\n                        ",374],"}",["T_WHITESPACE","\n                        ",375],["T_IF","if",376],["T_WHITESPACE"," ",376],"(",["T_VARIABLE","$this",376],["T_OBJECT_OPERATOR","->",376],["T_STRING","getGroupByType",376],"(",["T_VARIABLE","$this",376],["T_OBJECT_OPERATOR","->",376],["T_STRING","getData",376],"(",["T_CONSTANT_ENCAPSED_STRING","'type'",376],")",")",["T_WHITESPACE"," ",376],["T_IS_EQUAL","==",376],["T_WHITESPACE"," ",376],["T_STRING","self",376],["T_DOUBLE_COLON","::",376],["T_STRING","OPTION_GROUP_SELECT",376],")",["T_WHITESPACE"," ",376],"{",["T_WHITESPACE","\n                            ",376],["T_VARIABLE","$this",377],["T_OBJECT_OPERATOR","->",377],["T_STRING","setData",377],"(",["T_CONSTANT_ENCAPSED_STRING","'sku'",377],",",["T_WHITESPACE"," ",377],["T_CONSTANT_ENCAPSED_STRING","''",377],")",";",["T_WHITESPACE","\n                            ",377],["T_VARIABLE","$this",378],["T_OBJECT_OPERATOR","->",378],["T_STRING","unsetData",378],"(",["T_CONSTANT_ENCAPSED_STRING","'price'",378],")",";",["T_WHITESPACE","\n                            ",378],["T_VARIABLE","$this",379],["T_OBJECT_OPERATOR","->",379],["T_STRING","unsetData",379],"(",["T_CONSTANT_ENCAPSED_STRING","'price_type'",379],")",";",["T_WHITESPACE","\n                            ",379],["T_IF","if",380],["T_WHITESPACE"," ",380],"(",["T_VARIABLE","$isEdit",380],")",["T_WHITESPACE"," ",380],"{",["T_WHITESPACE","\n                                ",380],["T_VARIABLE","$this",381],["T_OBJECT_OPERATOR","->",381],["T_STRING","deletePrices",381],"(",["T_VARIABLE","$this",381],["T_OBJECT_OPERATOR","->",381],["T_STRING","getId",381],"(",")",")",";",["T_WHITESPACE","\n                            ",381],"}",["T_WHITESPACE","\n                        ",382],"}",["T_WHITESPACE","\n                    ",383],"}",["T_WHITESPACE","\n                ",384],"}",["T_WHITESPACE","\n                ",385],["T_VARIABLE","$this",386],["T_OBJECT_OPERATOR","->",386],["T_STRING","save",386],"(",")",";",["T_WHITESPACE","            ",386],"}",["T_WHITESPACE","\n        ",386],"}",["T_COMMENT","\/\/eof foreach()\n",387],["T_WHITESPACE","        ",388],["T_RETURN","return",388],["T_WHITESPACE"," ",388],["T_VARIABLE","$this",388],";",["T_WHITESPACE","\n    ",388],"}",["T_WHITESPACE","\n\n    ",389],["T_DOC_COMMENT","\/**\n     * After save\n     *\n     * @return Mage_Core_Model_Abstract\n     *\/",391],["T_WHITESPACE","\n    ",395],["T_PROTECTED","protected",396],["T_WHITESPACE"," ",396],["T_FUNCTION","function",396],["T_WHITESPACE"," ",396],["T_STRING","_afterSave",396],"(",")",["T_WHITESPACE","\n    ",396],"{",["T_WHITESPACE","\n        ",397],["T_VARIABLE","$this",398],["T_OBJECT_OPERATOR","->",398],["T_STRING","getValueInstance",398],"(",")",["T_OBJECT_OPERATOR","->",398],["T_STRING","unsetValues",398],"(",")",";",["T_WHITESPACE","\n        ",398],["T_IF","if",399],["T_WHITESPACE"," ",399],"(",["T_STRING","is_array",399],"(",["T_VARIABLE","$this",399],["T_OBJECT_OPERATOR","->",399],["T_STRING","getData",399],"(",["T_CONSTANT_ENCAPSED_STRING","'values'",399],")",")",")",["T_WHITESPACE"," ",399],"{",["T_WHITESPACE","\n            ",399],["T_FOREACH","foreach",400],["T_WHITESPACE"," ",400],"(",["T_VARIABLE","$this",400],["T_OBJECT_OPERATOR","->",400],["T_STRING","getData",400],"(",["T_CONSTANT_ENCAPSED_STRING","'values'",400],")",["T_WHITESPACE"," ",400],["T_AS","as",400],["T_WHITESPACE"," ",400],["T_VARIABLE","$value",400],")",["T_WHITESPACE"," ",400],"{",["T_WHITESPACE","\n                ",400],["T_VARIABLE","$this",401],["T_OBJECT_OPERATOR","->",401],["T_STRING","getValueInstance",401],"(",")",["T_OBJECT_OPERATOR","->",401],["T_STRING","addValue",401],"(",["T_VARIABLE","$value",401],")",";",["T_WHITESPACE","\n            ",401],"}",["T_WHITESPACE","\n\n            ",402],["T_VARIABLE","$this",404],["T_OBJECT_OPERATOR","->",404],["T_STRING","getValueInstance",404],"(",")",["T_OBJECT_OPERATOR","->",404],["T_STRING","setOption",404],"(",["T_VARIABLE","$this",404],")",["T_WHITESPACE","\n                ",404],["T_OBJECT_OPERATOR","->",405],["T_STRING","saveValues",405],"(",")",";",["T_WHITESPACE","\n        ",405],"}",["T_WHITESPACE"," ",406],["T_ELSEIF","elseif",406],["T_WHITESPACE"," ",406],"(",["T_VARIABLE","$this",406],["T_OBJECT_OPERATOR","->",406],["T_STRING","getGroupByType",406],"(",["T_VARIABLE","$this",406],["T_OBJECT_OPERATOR","->",406],["T_STRING","getType",406],"(",")",")",["T_WHITESPACE"," ",406],["T_IS_EQUAL","==",406],["T_WHITESPACE"," ",406],["T_STRING","self",406],["T_DOUBLE_COLON","::",406],["T_STRING","OPTION_GROUP_SELECT",406],")",["T_WHITESPACE"," ",406],"{",["T_WHITESPACE","\n            ",406],["T_STRING","Mage",407],["T_DOUBLE_COLON","::",407],["T_STRING","throwException",407],"(",["T_STRING","Mage",407],["T_DOUBLE_COLON","::",407],["T_STRING","helper",407],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog'",407],")",["T_OBJECT_OPERATOR","->",407],["T_STRING","__",407],"(",["T_CONSTANT_ENCAPSED_STRING","'Select type options required values rows.'",407],")",")",";",["T_WHITESPACE","\n        ",407],"}",["T_WHITESPACE","\n\n        ",408],["T_RETURN","return",410],["T_WHITESPACE"," ",410],["T_STRING","parent",410],["T_DOUBLE_COLON","::",410],["T_STRING","_afterSave",410],"(",")",";",["T_WHITESPACE","\n    ",410],"}",["T_WHITESPACE","\n\n    ",411],["T_DOC_COMMENT","\/**\n     * Return price. If $flag is true and price is percent\n     *  return converted percent to price\n     *\n     * @param bool $flag\n     * @return decimal\n     *\/",413],["T_WHITESPACE","\n    ",419],["T_PUBLIC","public",420],["T_WHITESPACE"," ",420],["T_FUNCTION","function",420],["T_WHITESPACE"," ",420],["T_STRING","getPrice",420],"(",["T_VARIABLE","$flag",420],["T_WHITESPACE"," ",420],"=",["T_WHITESPACE"," ",420],["T_STRING","false",420],")",["T_WHITESPACE","\n    ",420],"{",["T_WHITESPACE","\n        ",421],["T_IF","if",422],["T_WHITESPACE"," ",422],"(",["T_VARIABLE","$flag",422],["T_WHITESPACE"," ",422],["T_BOOLEAN_AND","&&",422],["T_WHITESPACE"," ",422],["T_VARIABLE","$this",422],["T_OBJECT_OPERATOR","->",422],["T_STRING","getPriceType",422],"(",")",["T_WHITESPACE"," ",422],["T_IS_EQUAL","==",422],["T_WHITESPACE"," ",422],["T_CONSTANT_ENCAPSED_STRING","'percent'",422],")",["T_WHITESPACE"," ",422],"{",["T_WHITESPACE","\n            ",422],["T_VARIABLE","$basePrice",423],["T_WHITESPACE"," ",423],"=",["T_WHITESPACE"," ",423],["T_VARIABLE","$this",423],["T_OBJECT_OPERATOR","->",423],["T_STRING","getProduct",423],"(",")",["T_OBJECT_OPERATOR","->",423],["T_STRING","getFinalPrice",423],"(",")",";",["T_WHITESPACE","\n            ",423],["T_VARIABLE","$price",424],["T_WHITESPACE"," ",424],"=",["T_WHITESPACE"," ",424],["T_VARIABLE","$basePrice",424],["T_WHITESPACE"," ",424],"*",["T_WHITESPACE"," ",424],"(",["T_VARIABLE","$this",424],["T_OBJECT_OPERATOR","->",424],["T_STRING","_getData",424],"(",["T_CONSTANT_ENCAPSED_STRING","'price'",424],")","\/",["T_LNUMBER","100",424],")",";",["T_WHITESPACE","\n            ",424],["T_RETURN","return",425],["T_WHITESPACE"," ",425],["T_VARIABLE","$price",425],";",["T_WHITESPACE","\n        ",425],"}",["T_WHITESPACE","\n        ",426],["T_RETURN","return",427],["T_WHITESPACE"," ",427],["T_VARIABLE","$this",427],["T_OBJECT_OPERATOR","->",427],["T_STRING","_getData",427],"(",["T_CONSTANT_ENCAPSED_STRING","'price'",427],")",";",["T_WHITESPACE","\n    ",427],"}",["T_WHITESPACE","\n\n    ",428],["T_DOC_COMMENT","\/**\n     * Delete prices of option\n     *\n     * @param int $option_id\n     * @return Mage_Catalog_Model_Product_Option\n     *\/",430],["T_WHITESPACE","\n    ",435],["T_PUBLIC","public",436],["T_WHITESPACE"," ",436],["T_FUNCTION","function",436],["T_WHITESPACE"," ",436],["T_STRING","deletePrices",436],"(",["T_VARIABLE","$option_id",436],")",["T_WHITESPACE","\n    ",436],"{",["T_WHITESPACE","\n        ",437],["T_VARIABLE","$this",438],["T_OBJECT_OPERATOR","->",438],["T_STRING","getResource",438],"(",")",["T_OBJECT_OPERATOR","->",438],["T_STRING","deletePrices",438],"(",["T_VARIABLE","$option_id",438],")",";",["T_WHITESPACE","\n        ",438],["T_RETURN","return",439],["T_WHITESPACE"," ",439],["T_VARIABLE","$this",439],";",["T_WHITESPACE","\n    ",439],"}",["T_WHITESPACE","\n\n    ",440],["T_DOC_COMMENT","\/**\n     * Delete titles of option\n     *\n     * @param int $option_id\n     * @return Mage_Catalog_Model_Product_Option\n     *\/",442],["T_WHITESPACE","\n    ",447],["T_PUBLIC","public",448],["T_WHITESPACE"," ",448],["T_FUNCTION","function",448],["T_WHITESPACE"," ",448],["T_STRING","deleteTitles",448],"(",["T_VARIABLE","$option_id",448],")",["T_WHITESPACE","\n    ",448],"{",["T_WHITESPACE","\n        ",449],["T_VARIABLE","$this",450],["T_OBJECT_OPERATOR","->",450],["T_STRING","getResource",450],"(",")",["T_OBJECT_OPERATOR","->",450],["T_STRING","deleteTitles",450],"(",["T_VARIABLE","$option_id",450],")",";",["T_WHITESPACE","\n        ",450],["T_RETURN","return",451],["T_WHITESPACE"," ",451],["T_VARIABLE","$this",451],";",["T_WHITESPACE","\n    ",451],"}",["T_WHITESPACE","\n\n    ",452],["T_DOC_COMMENT","\/**\n     * get Product Option Collection\n     *\n     * @param Mage_Catalog_Model_Product $product\n     * @return Mage_Catalog_Model_Resource_Product_Option_Collection\n     *\/",454],["T_WHITESPACE","\n    ",459],["T_PUBLIC","public",460],["T_WHITESPACE"," ",460],["T_FUNCTION","function",460],["T_WHITESPACE"," ",460],["T_STRING","getProductOptionCollection",460],"(",["T_STRING","Mage_Catalog_Model_Product",460],["T_WHITESPACE"," ",460],["T_VARIABLE","$product",460],")",["T_WHITESPACE","\n    ",460],"{",["T_WHITESPACE","\n        ",461],["T_VARIABLE","$collection",462],["T_WHITESPACE"," ",462],"=",["T_WHITESPACE"," ",462],["T_VARIABLE","$this",462],["T_OBJECT_OPERATOR","->",462],["T_STRING","getCollection",462],"(",")",["T_WHITESPACE","\n            ",462],["T_OBJECT_OPERATOR","->",463],["T_STRING","addFieldToFilter",463],"(",["T_CONSTANT_ENCAPSED_STRING","'product_id'",463],",",["T_WHITESPACE"," ",463],["T_VARIABLE","$product",463],["T_OBJECT_OPERATOR","->",463],["T_STRING","getId",463],"(",")",")",["T_WHITESPACE","\n            ",463],["T_OBJECT_OPERATOR","->",464],["T_STRING","addTitleToResult",464],"(",["T_VARIABLE","$product",464],["T_OBJECT_OPERATOR","->",464],["T_STRING","getStoreId",464],"(",")",")",["T_WHITESPACE","\n            ",464],["T_OBJECT_OPERATOR","->",465],["T_STRING","addPriceToResult",465],"(",["T_VARIABLE","$product",465],["T_OBJECT_OPERATOR","->",465],["T_STRING","getStoreId",465],"(",")",")",["T_WHITESPACE","\n            ",465],["T_OBJECT_OPERATOR","->",466],["T_STRING","setOrder",466],"(",["T_CONSTANT_ENCAPSED_STRING","'sort_order'",466],",",["T_WHITESPACE"," ",466],["T_CONSTANT_ENCAPSED_STRING","'asc'",466],")",["T_WHITESPACE","\n            ",466],["T_OBJECT_OPERATOR","->",467],["T_STRING","setOrder",467],"(",["T_CONSTANT_ENCAPSED_STRING","'title'",467],",",["T_WHITESPACE"," ",467],["T_CONSTANT_ENCAPSED_STRING","'asc'",467],")",";",["T_WHITESPACE","\n\n        ",467],["T_IF","if",469],["T_WHITESPACE"," ",469],"(",["T_VARIABLE","$this",469],["T_OBJECT_OPERATOR","->",469],["T_STRING","getAddRequiredFilter",469],"(",")",")",["T_WHITESPACE"," ",469],"{",["T_WHITESPACE","\n            ",469],["T_VARIABLE","$collection",470],["T_OBJECT_OPERATOR","->",470],["T_STRING","addRequiredFilter",470],"(",["T_VARIABLE","$this",470],["T_OBJECT_OPERATOR","->",470],["T_STRING","getAddRequiredFilterValue",470],"(",")",")",";",["T_WHITESPACE","\n        ",470],"}",["T_WHITESPACE","\n\n        ",471],["T_VARIABLE","$collection",473],["T_OBJECT_OPERATOR","->",473],["T_STRING","addValuesToResult",473],"(",["T_VARIABLE","$product",473],["T_OBJECT_OPERATOR","->",473],["T_STRING","getStoreId",473],"(",")",")",";",["T_WHITESPACE","\n        ",473],["T_RETURN","return",474],["T_WHITESPACE"," ",474],["T_VARIABLE","$collection",474],";",["T_WHITESPACE","\n    ",474],"}",["T_WHITESPACE","\n\n    ",475],["T_DOC_COMMENT","\/**\n     * Get collection of values for current option\n     *\n     * @return Mage_Catalog_Model_Resource_Eav_Mysql4_Product_Option_Value_Collection\n     *\/",477],["T_WHITESPACE","\n    ",481],["T_PUBLIC","public",482],["T_WHITESPACE"," ",482],["T_FUNCTION","function",482],["T_WHITESPACE"," ",482],["T_STRING","getValuesCollection",482],"(",")",["T_WHITESPACE","\n    ",482],"{",["T_WHITESPACE","\n        ",483],["T_VARIABLE","$collection",484],["T_WHITESPACE"," ",484],"=",["T_WHITESPACE"," ",484],["T_VARIABLE","$this",484],["T_OBJECT_OPERATOR","->",484],["T_STRING","getValueInstance",484],"(",")",["T_WHITESPACE","\n            ",484],["T_OBJECT_OPERATOR","->",485],["T_STRING","getValuesCollection",485],"(",["T_VARIABLE","$this",485],")",";",["T_WHITESPACE","\n\n        ",485],["T_RETURN","return",487],["T_WHITESPACE"," ",487],["T_VARIABLE","$collection",487],";",["T_WHITESPACE","\n    ",487],"}",["T_WHITESPACE","\n\n    ",488],["T_DOC_COMMENT","\/**\n     * Get collection of values by given option ids\n     *\n     * @param array $optionIds\n     * @param int $store_id\n     * @return unknown\n     *\/",490],["T_WHITESPACE","\n    ",496],["T_PUBLIC","public",497],["T_WHITESPACE"," ",497],["T_FUNCTION","function",497],["T_WHITESPACE"," ",497],["T_STRING","getOptionValuesByOptionId",497],"(",["T_VARIABLE","$optionIds",497],",",["T_WHITESPACE"," ",497],["T_VARIABLE","$store_id",497],")",["T_WHITESPACE","\n    ",497],"{",["T_WHITESPACE","\n        ",498],["T_VARIABLE","$collection",499],["T_WHITESPACE"," ",499],"=",["T_WHITESPACE"," ",499],["T_STRING","Mage",499],["T_DOUBLE_COLON","::",499],["T_STRING","getModel",499],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog\/product_option_value'",499],")",["T_WHITESPACE","\n            ",499],["T_OBJECT_OPERATOR","->",500],["T_STRING","getValuesByOption",500],"(",["T_VARIABLE","$optionIds",500],",",["T_WHITESPACE"," ",500],["T_VARIABLE","$this",500],["T_OBJECT_OPERATOR","->",500],["T_STRING","getId",500],"(",")",",",["T_WHITESPACE"," ",500],["T_VARIABLE","$store_id",500],")",";",["T_WHITESPACE","\n\n        ",500],["T_RETURN","return",502],["T_WHITESPACE"," ",502],["T_VARIABLE","$collection",502],";",["T_WHITESPACE","\n    ",502],"}",["T_WHITESPACE","\n\n    ",503],["T_DOC_COMMENT","\/**\n     * Prepare array of options for duplicate\n     *\n     * @return array\n     *\/",505],["T_WHITESPACE","\n    ",509],["T_PUBLIC","public",510],["T_WHITESPACE"," ",510],["T_FUNCTION","function",510],["T_WHITESPACE"," ",510],["T_STRING","prepareOptionForDuplicate",510],"(",")",["T_WHITESPACE","\n    ",510],"{",["T_WHITESPACE","\n        ",511],["T_VARIABLE","$this",512],["T_OBJECT_OPERATOR","->",512],["T_STRING","setProductId",512],"(",["T_STRING","null",512],")",";",["T_WHITESPACE","\n        ",512],["T_VARIABLE","$this",513],["T_OBJECT_OPERATOR","->",513],["T_STRING","setOptionId",513],"(",["T_STRING","null",513],")",";",["T_WHITESPACE","\n        ",513],["T_VARIABLE","$newOption",514],["T_WHITESPACE"," ",514],"=",["T_WHITESPACE"," ",514],["T_VARIABLE","$this",514],["T_OBJECT_OPERATOR","->",514],["T_STRING","__toArray",514],"(",")",";",["T_WHITESPACE","\n        ",514],["T_VARIABLE","$_values",515],["T_WHITESPACE"," ",515],"=",["T_WHITESPACE"," ",515],["T_VARIABLE","$this",515],["T_OBJECT_OPERATOR","->",515],["T_STRING","getValues",515],"(",")",";",["T_WHITESPACE","\n        ",515],["T_IF","if",516],["T_WHITESPACE"," ",516],"(",["T_VARIABLE","$_values",516],")",["T_WHITESPACE"," ",516],"{",["T_WHITESPACE","\n            ",516],["T_VARIABLE","$newValuesArray",517],["T_WHITESPACE"," ",517],"=",["T_WHITESPACE"," ",517],["T_ARRAY","array",517],"(",")",";",["T_WHITESPACE","\n            ",517],["T_FOREACH","foreach",518],["T_WHITESPACE"," ",518],"(",["T_VARIABLE","$_values",518],["T_WHITESPACE"," ",518],["T_AS","as",518],["T_WHITESPACE"," ",518],["T_VARIABLE","$_value",518],")",["T_WHITESPACE"," ",518],"{",["T_WHITESPACE","\n                ",518],["T_VARIABLE","$newValuesArray",519],"[","]",["T_WHITESPACE"," ",519],"=",["T_WHITESPACE"," ",519],["T_VARIABLE","$_value",519],["T_OBJECT_OPERATOR","->",519],["T_STRING","prepareValueForDuplicate",519],"(",")",";",["T_WHITESPACE","\n            ",519],"}",["T_WHITESPACE","\n            ",520],["T_VARIABLE","$newOption",521],"[",["T_CONSTANT_ENCAPSED_STRING","'values'",521],"]",["T_WHITESPACE"," ",521],"=",["T_WHITESPACE"," ",521],["T_VARIABLE","$newValuesArray",521],";",["T_WHITESPACE","\n        ",521],"}",["T_WHITESPACE","\n\n        ",522],["T_RETURN","return",524],["T_WHITESPACE"," ",524],["T_VARIABLE","$newOption",524],";",["T_WHITESPACE","\n    ",524],"}",["T_WHITESPACE","\n\n    ",525],["T_DOC_COMMENT","\/**\n     * Duplicate options for product\n     *\n     * @param int $oldProductId\n     * @param int $newProductId\n     * @return Mage_Catalog_Model_Product_Option\n     *\/",527],["T_WHITESPACE","\n    ",533],["T_PUBLIC","public",534],["T_WHITESPACE"," ",534],["T_FUNCTION","function",534],["T_WHITESPACE"," ",534],["T_STRING","duplicate",534],"(",["T_VARIABLE","$oldProductId",534],",",["T_WHITESPACE"," ",534],["T_VARIABLE","$newProductId",534],")",["T_WHITESPACE","\n    ",534],"{",["T_WHITESPACE","\n        ",535],["T_VARIABLE","$this",536],["T_OBJECT_OPERATOR","->",536],["T_STRING","getResource",536],"(",")",["T_OBJECT_OPERATOR","->",536],["T_STRING","duplicate",536],"(",["T_VARIABLE","$this",536],",",["T_WHITESPACE"," ",536],["T_VARIABLE","$oldProductId",536],",",["T_WHITESPACE"," ",536],["T_VARIABLE","$newProductId",536],")",";",["T_WHITESPACE","\n\n        ",536],["T_RETURN","return",538],["T_WHITESPACE"," ",538],["T_VARIABLE","$this",538],";",["T_WHITESPACE","\n    ",538],"}",["T_WHITESPACE","\n\n    ",539],["T_DOC_COMMENT","\/**\n     * Retrieve option searchable data\n     *\n     * @param int $productId\n     * @param int $storeId\n     * @return array\n     *\/",541],["T_WHITESPACE","\n    ",547],["T_PUBLIC","public",548],["T_WHITESPACE"," ",548],["T_FUNCTION","function",548],["T_WHITESPACE"," ",548],["T_STRING","getSearchableData",548],"(",["T_VARIABLE","$productId",548],",",["T_WHITESPACE"," ",548],["T_VARIABLE","$storeId",548],")",["T_WHITESPACE","\n    ",548],"{",["T_WHITESPACE","\n        ",549],["T_RETURN","return",550],["T_WHITESPACE"," ",550],["T_VARIABLE","$this",550],["T_OBJECT_OPERATOR","->",550],["T_STRING","_getResource",550],"(",")",["T_OBJECT_OPERATOR","->",550],["T_STRING","getSearchableData",550],"(",["T_VARIABLE","$productId",550],",",["T_WHITESPACE"," ",550],["T_VARIABLE","$storeId",550],")",";",["T_WHITESPACE","\n    ",550],"}",["T_WHITESPACE","\n\n    ",551],["T_DOC_COMMENT","\/**\n     * Clearing object's data\n     *\n     * @return Mage_Catalog_Model_Product_Option\n     *\/",553],["T_WHITESPACE","\n    ",557],["T_PROTECTED","protected",558],["T_WHITESPACE"," ",558],["T_FUNCTION","function",558],["T_WHITESPACE"," ",558],["T_STRING","_clearData",558],"(",")",["T_WHITESPACE","\n    ",558],"{",["T_WHITESPACE","\n        ",559],["T_VARIABLE","$this",560],["T_OBJECT_OPERATOR","->",560],["T_STRING","_data",560],["T_WHITESPACE"," ",560],"=",["T_WHITESPACE"," ",560],["T_ARRAY","array",560],"(",")",";",["T_WHITESPACE","\n        ",560],["T_VARIABLE","$this",561],["T_OBJECT_OPERATOR","->",561],["T_STRING","_values",561],["T_WHITESPACE"," ",561],"=",["T_WHITESPACE"," ",561],["T_ARRAY","array",561],"(",")",";",["T_WHITESPACE","\n        ",561],["T_RETURN","return",562],["T_WHITESPACE"," ",562],["T_VARIABLE","$this",562],";",["T_WHITESPACE","\n    ",562],"}",["T_WHITESPACE","\n\n    ",563],["T_DOC_COMMENT","\/**\n     * Clearing cyclic references\n     *\n     * @return Mage_Catalog_Model_Product_Option\n     *\/",565],["T_WHITESPACE","\n    ",569],["T_PROTECTED","protected",570],["T_WHITESPACE"," ",570],["T_FUNCTION","function",570],["T_WHITESPACE"," ",570],["T_STRING","_clearReferences",570],"(",")",["T_WHITESPACE","\n    ",570],"{",["T_WHITESPACE","\n        ",571],["T_IF","if",572],["T_WHITESPACE"," ",572],"(","!",["T_EMPTY","empty",572],"(",["T_VARIABLE","$this",572],["T_OBJECT_OPERATOR","->",572],["T_STRING","_values",572],")",")",["T_WHITESPACE"," ",572],"{",["T_WHITESPACE","\n            ",572],["T_FOREACH","foreach",573],["T_WHITESPACE"," ",573],"(",["T_VARIABLE","$this",573],["T_OBJECT_OPERATOR","->",573],["T_STRING","_values",573],["T_WHITESPACE"," ",573],["T_AS","as",573],["T_WHITESPACE"," ",573],["T_VARIABLE","$value",573],")",["T_WHITESPACE"," ",573],"{",["T_WHITESPACE","\n                ",573],["T_VARIABLE","$value",574],["T_OBJECT_OPERATOR","->",574],["T_STRING","unsetOption",574],"(",")",";",["T_WHITESPACE","\n            ",574],"}",["T_WHITESPACE","\n        ",575],"}",["T_WHITESPACE","\n        ",576],["T_RETURN","return",577],["T_WHITESPACE"," ",577],["T_VARIABLE","$this",577],";",["T_WHITESPACE","\n    ",577],"}",["T_WHITESPACE","\n\n    ",578],["T_DOC_COMMENT","\/**\n     * Check whether custom option could have multiple values\n     *\n     * @return bool\n     *\/",580],["T_WHITESPACE","\n    ",584],["T_PUBLIC","public",585],["T_WHITESPACE"," ",585],["T_FUNCTION","function",585],["T_WHITESPACE"," ",585],["T_STRING","isMultipleType",585],"(",")",["T_WHITESPACE","\n    ",585],"{",["T_WHITESPACE","\n        ",586],["T_SWITCH","switch",587],["T_WHITESPACE"," ",587],"(",["T_VARIABLE","$this",587],["T_OBJECT_OPERATOR","->",587],["T_STRING","getType",587],"(",")",")",["T_WHITESPACE"," ",587],"{",["T_WHITESPACE","\n            ",587],["T_CASE","case",588],["T_WHITESPACE"," ",588],["T_STRING","self",588],["T_DOUBLE_COLON","::",588],["T_STRING","OPTION_TYPE_MULTIPLE",588],":",["T_WHITESPACE","\n            ",588],["T_CASE","case",589],["T_WHITESPACE"," ",589],["T_STRING","self",589],["T_DOUBLE_COLON","::",589],["T_STRING","OPTION_TYPE_CHECKBOX",589],":",["T_WHITESPACE","\n                ",589],["T_RETURN","return",590],["T_WHITESPACE"," ",590],["T_STRING","true",590],";",["T_WHITESPACE","\n        ",590],"}",["T_WHITESPACE","\n        ",591],["T_RETURN","return",592],["T_WHITESPACE"," ",592],["T_STRING","false",592],";",["T_WHITESPACE","\n    ",592],"}",["T_WHITESPACE","\n",593],"}",["T_WHITESPACE","\n",594]]