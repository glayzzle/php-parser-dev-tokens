[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Magento\n *\n * NOTICE OF LICENSE\n *\n * This source file is subject to the Open Software License (OSL 3.0)\n * that is bundled with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/opensource.org\/licenses\/osl-3.0.php\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@magento.com so we can send you a copy immediately.\n *\n * DISCLAIMER\n *\n * Do not edit or add to this file if you wish to upgrade Magento to newer\n * versions in the future. If you wish to customize Magento for your\n * needs please refer to http:\/\/www.magento.com for more information.\n *\n * @category    Mage\n * @package     Mage_Catalog\n * @copyright  Copyright (c) 2006-2016 X.commerce, Inc. and affiliates (http:\/\/www.magento.com)\n * @license    http:\/\/opensource.org\/licenses\/osl-3.0.php  Open Software License (OSL 3.0)\n *\/",2],["T_WHITESPACE","\n\n",25],["T_DOC_COMMENT","\/**\n * Catalog product model\n *\n * @method Mage_Catalog_Model_Resource_Product getResource()\n * @method Mage_Catalog_Model_Product setHasError(bool $value)\n * @method null|bool getHasError()\n *\n * @category    Mage\n * @package     Mage_Catalog\n * @author      Magento Core Team <core@magentocommerce.com>\n *\/",27],["T_WHITESPACE","\n",37],["T_CLASS","class",38],["T_WHITESPACE"," ",38],["T_STRING","Mage_Catalog_Model_Product",38],["T_WHITESPACE"," ",38],["T_EXTENDS","extends",38],["T_WHITESPACE"," ",38],["T_STRING","Mage_Catalog_Model_Abstract",38],["T_WHITESPACE","\n",38],"{",["T_WHITESPACE","\n    ",39],["T_DOC_COMMENT","\/**\n     * Entity code.\n     * Can be used as part of method name for entity processing\n     *\/",40],["T_WHITESPACE","\n    ",43],["T_CONST","const",44],["T_WHITESPACE"," ",44],["T_STRING","ENTITY",44],["T_WHITESPACE","                 ",44],"=",["T_WHITESPACE"," ",44],["T_CONSTANT_ENCAPSED_STRING","'catalog_product'",44],";",["T_WHITESPACE","\n\n    ",44],["T_CONST","const",46],["T_WHITESPACE"," ",46],["T_STRING","CACHE_TAG",46],["T_WHITESPACE","              ",46],"=",["T_WHITESPACE"," ",46],["T_CONSTANT_ENCAPSED_STRING","'catalog_product'",46],";",["T_WHITESPACE","\n    ",46],["T_PROTECTED","protected",47],["T_WHITESPACE"," ",47],["T_VARIABLE","$_cacheTag",47],["T_WHITESPACE","         ",47],"=",["T_WHITESPACE"," ",47],["T_CONSTANT_ENCAPSED_STRING","'catalog_product'",47],";",["T_WHITESPACE","\n    ",47],["T_PROTECTED","protected",48],["T_WHITESPACE"," ",48],["T_VARIABLE","$_eventPrefix",48],["T_WHITESPACE","      ",48],"=",["T_WHITESPACE"," ",48],["T_CONSTANT_ENCAPSED_STRING","'catalog_product'",48],";",["T_WHITESPACE","\n    ",48],["T_PROTECTED","protected",49],["T_WHITESPACE"," ",49],["T_VARIABLE","$_eventObject",49],["T_WHITESPACE","      ",49],"=",["T_WHITESPACE"," ",49],["T_CONSTANT_ENCAPSED_STRING","'product'",49],";",["T_WHITESPACE","\n    ",49],["T_PROTECTED","protected",50],["T_WHITESPACE"," ",50],["T_VARIABLE","$_canAffectOptions",50],["T_WHITESPACE"," ",50],"=",["T_WHITESPACE"," ",50],["T_STRING","false",50],";",["T_WHITESPACE","\n\n    ",50],["T_DOC_COMMENT","\/**\n     * Product type instance\n     *\n     * @var Mage_Catalog_Model_Product_Type_Abstract\n     *\/",52],["T_WHITESPACE","\n    ",56],["T_PROTECTED","protected",57],["T_WHITESPACE"," ",57],["T_VARIABLE","$_typeInstance",57],["T_WHITESPACE","            ",57],"=",["T_WHITESPACE"," ",57],["T_STRING","null",57],";",["T_WHITESPACE","\n\n    ",57],["T_DOC_COMMENT","\/**\n     * Product type instance as singleton\n     *\/",59],["T_WHITESPACE","\n    ",61],["T_PROTECTED","protected",62],["T_WHITESPACE"," ",62],["T_VARIABLE","$_typeInstanceSingleton",62],["T_WHITESPACE","   ",62],"=",["T_WHITESPACE"," ",62],["T_STRING","null",62],";",["T_WHITESPACE","\n\n    ",62],["T_DOC_COMMENT","\/**\n     * Product link instance\n     *\n     * @var Mage_Catalog_Model_Product_Link\n     *\/",64],["T_WHITESPACE","\n    ",68],["T_PROTECTED","protected",69],["T_WHITESPACE"," ",69],["T_VARIABLE","$_linkInstance",69],";",["T_WHITESPACE","\n\n    ",69],["T_DOC_COMMENT","\/**\n     * Product object customization (not stored in DB)\n     *\n     * @var array\n     *\/",71],["T_WHITESPACE","\n    ",75],["T_PROTECTED","protected",76],["T_WHITESPACE"," ",76],["T_VARIABLE","$_customOptions",76],["T_WHITESPACE"," ",76],"=",["T_WHITESPACE"," ",76],["T_ARRAY","array",76],"(",")",";",["T_WHITESPACE","\n\n    ",76],["T_DOC_COMMENT","\/**\n     * Product Url Instance\n     *\n     * @var Mage_Catalog_Model_Product_Url\n     *\/",78],["T_WHITESPACE","\n    ",82],["T_PROTECTED","protected",83],["T_WHITESPACE"," ",83],["T_VARIABLE","$_urlModel",83],["T_WHITESPACE"," ",83],"=",["T_WHITESPACE"," ",83],["T_STRING","null",83],";",["T_WHITESPACE","\n\n    ",83],["T_PROTECTED","protected",85],["T_WHITESPACE"," ",85],["T_STATIC","static",85],["T_WHITESPACE"," ",85],["T_VARIABLE","$_url",85],";",["T_WHITESPACE","\n    ",85],["T_PROTECTED","protected",86],["T_WHITESPACE"," ",86],["T_STATIC","static",86],["T_WHITESPACE"," ",86],["T_VARIABLE","$_urlRewrite",86],";",["T_WHITESPACE","\n\n    ",86],["T_PROTECTED","protected",88],["T_WHITESPACE"," ",88],["T_VARIABLE","$_errors",88],["T_WHITESPACE"," ",88],"=",["T_WHITESPACE"," ",88],["T_ARRAY","array",88],"(",")",";",["T_WHITESPACE","\n\n    ",88],["T_PROTECTED","protected",90],["T_WHITESPACE"," ",90],["T_VARIABLE","$_optionInstance",90],";",["T_WHITESPACE","\n\n    ",90],["T_PROTECTED","protected",92],["T_WHITESPACE"," ",92],["T_VARIABLE","$_options",92],["T_WHITESPACE"," ",92],"=",["T_WHITESPACE"," ",92],["T_ARRAY","array",92],"(",")",";",["T_WHITESPACE","\n\n    ",92],["T_DOC_COMMENT","\/**\n     * Product reserved attribute codes\n     *\/",94],["T_WHITESPACE","\n    ",96],["T_PROTECTED","protected",97],["T_WHITESPACE"," ",97],["T_VARIABLE","$_reservedAttributes",97],";",["T_WHITESPACE","\n\n    ",97],["T_DOC_COMMENT","\/**\n     * Flag for available duplicate function\n     *\n     * @var boolean\n     *\/",99],["T_WHITESPACE","\n    ",103],["T_PROTECTED","protected",104],["T_WHITESPACE"," ",104],["T_VARIABLE","$_isDuplicable",104],["T_WHITESPACE"," ",104],"=",["T_WHITESPACE"," ",104],["T_STRING","true",104],";",["T_WHITESPACE","\n\n    ",104],["T_DOC_COMMENT","\/**\n     * Flag for get Price function\n     *\n     * @var boolean\n     *\/",106],["T_WHITESPACE","\n    ",110],["T_PROTECTED","protected",111],["T_WHITESPACE"," ",111],["T_VARIABLE","$_calculatePrice",111],["T_WHITESPACE"," ",111],"=",["T_WHITESPACE"," ",111],["T_STRING","true",111],";",["T_WHITESPACE","\n\n    ",111],["T_DOC_COMMENT","\/**\n     * Initialize resources\n     *\/",113],["T_WHITESPACE","\n    ",115],["T_PROTECTED","protected",116],["T_WHITESPACE"," ",116],["T_FUNCTION","function",116],["T_WHITESPACE"," ",116],["T_STRING","_construct",116],"(",")",["T_WHITESPACE","\n    ",116],"{",["T_WHITESPACE","\n        ",117],["T_VARIABLE","$this",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","_init",118],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog\/product'",118],")",";",["T_WHITESPACE","\n    ",118],"}",["T_WHITESPACE","\n\n    ",119],["T_DOC_COMMENT","\/**\n     * Init mapping array of short fields to\n     * its full names\n     *\n     * @return Varien_Object\n     *\/",121],["T_WHITESPACE","\n    ",126],["T_PROTECTED","protected",127],["T_WHITESPACE"," ",127],["T_FUNCTION","function",127],["T_WHITESPACE"," ",127],["T_STRING","_initOldFieldsMap",127],"(",")",["T_WHITESPACE","\n    ",127],"{",["T_WHITESPACE","\n        ",128],["T_VARIABLE","$this",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","_oldFieldsMap",129],["T_WHITESPACE"," ",129],"=",["T_WHITESPACE"," ",129],["T_STRING","Mage",129],["T_DOUBLE_COLON","::",129],["T_STRING","helper",129],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog'",129],")",["T_OBJECT_OPERATOR","->",129],["T_STRING","getOldFieldMap",129],"(",")",";",["T_WHITESPACE","\n        ",129],["T_RETURN","return",130],["T_WHITESPACE"," ",130],["T_VARIABLE","$this",130],";",["T_WHITESPACE","\n    ",130],"}",["T_WHITESPACE","\n\n    ",131],["T_DOC_COMMENT","\/**\n     * Retrieve Store Id\n     *\n     * @return int\n     *\/",133],["T_WHITESPACE","\n    ",137],["T_PUBLIC","public",138],["T_WHITESPACE"," ",138],["T_FUNCTION","function",138],["T_WHITESPACE"," ",138],["T_STRING","getStoreId",138],"(",")",["T_WHITESPACE","\n    ",138],"{",["T_WHITESPACE","\n        ",139],["T_IF","if",140],["T_WHITESPACE"," ",140],"(",["T_VARIABLE","$this",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","hasData",140],"(",["T_CONSTANT_ENCAPSED_STRING","'store_id'",140],")",")",["T_WHITESPACE"," ",140],"{",["T_WHITESPACE","\n            ",140],["T_RETURN","return",141],["T_WHITESPACE"," ",141],["T_VARIABLE","$this",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","getData",141],"(",["T_CONSTANT_ENCAPSED_STRING","'store_id'",141],")",";",["T_WHITESPACE","\n        ",141],"}",["T_WHITESPACE","\n        ",142],["T_RETURN","return",143],["T_WHITESPACE"," ",143],["T_STRING","Mage",143],["T_DOUBLE_COLON","::",143],["T_STRING","app",143],"(",")",["T_OBJECT_OPERATOR","->",143],["T_STRING","getStore",143],"(",")",["T_OBJECT_OPERATOR","->",143],["T_STRING","getId",143],"(",")",";",["T_WHITESPACE","\n    ",143],"}",["T_WHITESPACE","\n\n    ",144],["T_DOC_COMMENT","\/**\n     * Get collection instance\n     *\n     * @return object\n     *\/",146],["T_WHITESPACE","\n    ",150],["T_PUBLIC","public",151],["T_WHITESPACE"," ",151],["T_FUNCTION","function",151],["T_WHITESPACE"," ",151],["T_STRING","getResourceCollection",151],"(",")",["T_WHITESPACE","\n    ",151],"{",["T_WHITESPACE","\n        ",152],["T_IF","if",153],["T_WHITESPACE"," ",153],"(",["T_EMPTY","empty",153],"(",["T_VARIABLE","$this",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","_resourceCollectionName",153],")",")",["T_WHITESPACE"," ",153],"{",["T_WHITESPACE","\n            ",153],["T_STRING","Mage",154],["T_DOUBLE_COLON","::",154],["T_STRING","throwException",154],"(",["T_STRING","Mage",154],["T_DOUBLE_COLON","::",154],["T_STRING","helper",154],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog'",154],")",["T_OBJECT_OPERATOR","->",154],["T_STRING","__",154],"(",["T_CONSTANT_ENCAPSED_STRING","'The model collection resource name is not defined.'",154],")",")",";",["T_WHITESPACE","\n        ",154],"}",["T_WHITESPACE","\n        ",155],["T_VARIABLE","$collection",156],["T_WHITESPACE"," ",156],"=",["T_WHITESPACE"," ",156],["T_STRING","Mage",156],["T_DOUBLE_COLON","::",156],["T_STRING","getResourceModel",156],"(",["T_VARIABLE","$this",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","_resourceCollectionName",156],")",";",["T_WHITESPACE","\n        ",156],["T_VARIABLE","$collection",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","setStoreId",157],"(",["T_VARIABLE","$this",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","getStoreId",157],"(",")",")",";",["T_WHITESPACE","\n        ",157],["T_RETURN","return",158],["T_WHITESPACE"," ",158],["T_VARIABLE","$collection",158],";",["T_WHITESPACE","\n    ",158],"}",["T_WHITESPACE","\n\n    ",159],["T_DOC_COMMENT","\/**\n     * Get product url model\n     *\n     * @return Mage_Catalog_Model_Product_Url\n     *\/",161],["T_WHITESPACE","\n    ",165],["T_PUBLIC","public",166],["T_WHITESPACE"," ",166],["T_FUNCTION","function",166],["T_WHITESPACE"," ",166],["T_STRING","getUrlModel",166],"(",")",["T_WHITESPACE","\n    ",166],"{",["T_WHITESPACE","\n        ",167],["T_IF","if",168],["T_WHITESPACE"," ",168],"(",["T_VARIABLE","$this",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","_urlModel",168],["T_WHITESPACE"," ",168],["T_IS_IDENTICAL","===",168],["T_WHITESPACE"," ",168],["T_STRING","null",168],")",["T_WHITESPACE"," ",168],"{",["T_WHITESPACE","\n            ",168],["T_VARIABLE","$this",169],["T_OBJECT_OPERATOR","->",169],["T_STRING","_urlModel",169],["T_WHITESPACE"," ",169],"=",["T_WHITESPACE"," ",169],["T_STRING","Mage",169],["T_DOUBLE_COLON","::",169],["T_STRING","getSingleton",169],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog\/factory'",169],")",["T_OBJECT_OPERATOR","->",169],["T_STRING","getProductUrlInstance",169],"(",")",";",["T_WHITESPACE","\n        ",169],"}",["T_WHITESPACE","\n        ",170],["T_RETURN","return",171],["T_WHITESPACE"," ",171],["T_VARIABLE","$this",171],["T_OBJECT_OPERATOR","->",171],["T_STRING","_urlModel",171],";",["T_WHITESPACE","\n    ",171],"}",["T_WHITESPACE","\n\n    ",172],["T_DOC_COMMENT","\/**\n     * Validate Product Data\n     *\n     * @todo implement full validation process with errors returning which are ignoring now\n     *\n     * @return Mage_Catalog_Model_Product\n     *\/",174],["T_WHITESPACE","\n    ",180],["T_PUBLIC","public",181],["T_WHITESPACE"," ",181],["T_FUNCTION","function",181],["T_WHITESPACE"," ",181],["T_STRING","validate",181],"(",")",["T_WHITESPACE","\n    ",181],"{",["T_WHITESPACE","\n",182],["T_COMMENT","\/\/        $this->getAttributes();\n",183],["T_COMMENT","\/\/        Mage::dispatchEvent($this->_eventPrefix.'_validate_before', array($this->_eventObject=>$this));\n",184],["T_COMMENT","\/\/        $result = $this->_getResource()->validate($this);\n",185],["T_COMMENT","\/\/        Mage::dispatchEvent($this->_eventPrefix.'_validate_after', array($this->_eventObject=>$this));\n",186],["T_COMMENT","\/\/        return $result;\n",187],["T_WHITESPACE","        ",188],["T_STRING","Mage",188],["T_DOUBLE_COLON","::",188],["T_STRING","dispatchEvent",188],"(",["T_VARIABLE","$this",188],["T_OBJECT_OPERATOR","->",188],["T_STRING","_eventPrefix",188],".",["T_CONSTANT_ENCAPSED_STRING","'_validate_before'",188],",",["T_WHITESPACE"," ",188],["T_ARRAY","array",188],"(",["T_VARIABLE","$this",188],["T_OBJECT_OPERATOR","->",188],["T_STRING","_eventObject",188],["T_DOUBLE_ARROW","=>",188],["T_VARIABLE","$this",188],")",")",";",["T_WHITESPACE","\n        ",188],["T_VARIABLE","$this",189],["T_OBJECT_OPERATOR","->",189],["T_STRING","_getResource",189],"(",")",["T_OBJECT_OPERATOR","->",189],["T_STRING","validate",189],"(",["T_VARIABLE","$this",189],")",";",["T_WHITESPACE","\n        ",189],["T_STRING","Mage",190],["T_DOUBLE_COLON","::",190],["T_STRING","dispatchEvent",190],"(",["T_VARIABLE","$this",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","_eventPrefix",190],".",["T_CONSTANT_ENCAPSED_STRING","'_validate_after'",190],",",["T_WHITESPACE"," ",190],["T_ARRAY","array",190],"(",["T_VARIABLE","$this",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","_eventObject",190],["T_DOUBLE_ARROW","=>",190],["T_VARIABLE","$this",190],")",")",";",["T_WHITESPACE","\n        ",190],["T_RETURN","return",191],["T_WHITESPACE"," ",191],["T_VARIABLE","$this",191],";",["T_WHITESPACE","\n    ",191],"}",["T_WHITESPACE","\n\n    ",192],["T_DOC_COMMENT","\/**\n     * Get product name\n     *\n     * @return string\n     *\/",194],["T_WHITESPACE","\n    ",198],["T_PUBLIC","public",199],["T_WHITESPACE"," ",199],["T_FUNCTION","function",199],["T_WHITESPACE"," ",199],["T_STRING","getName",199],"(",")",["T_WHITESPACE","\n    ",199],"{",["T_WHITESPACE","\n        ",200],["T_RETURN","return",201],["T_WHITESPACE"," ",201],["T_VARIABLE","$this",201],["T_OBJECT_OPERATOR","->",201],["T_STRING","_getData",201],"(",["T_CONSTANT_ENCAPSED_STRING","'name'",201],")",";",["T_WHITESPACE","\n    ",201],"}",["T_WHITESPACE","\n\n    ",202],["T_DOC_COMMENT","\/**\n     * Get product price throught type instance\n     *\n     * @return unknown\n     *\/",204],["T_WHITESPACE","\n    ",208],["T_PUBLIC","public",209],["T_WHITESPACE"," ",209],["T_FUNCTION","function",209],["T_WHITESPACE"," ",209],["T_STRING","getPrice",209],"(",")",["T_WHITESPACE","\n    ",209],"{",["T_WHITESPACE","\n        ",210],["T_IF","if",211],["T_WHITESPACE"," ",211],"(",["T_VARIABLE","$this",211],["T_OBJECT_OPERATOR","->",211],["T_STRING","_calculatePrice",211],["T_WHITESPACE"," ",211],["T_BOOLEAN_OR","||",211],["T_WHITESPACE"," ",211],"!",["T_VARIABLE","$this",211],["T_OBJECT_OPERATOR","->",211],["T_STRING","getData",211],"(",["T_CONSTANT_ENCAPSED_STRING","'price'",211],")",")",["T_WHITESPACE"," ",211],"{",["T_WHITESPACE","\n            ",211],["T_RETURN","return",212],["T_WHITESPACE"," ",212],["T_VARIABLE","$this",212],["T_OBJECT_OPERATOR","->",212],["T_STRING","getPriceModel",212],"(",")",["T_OBJECT_OPERATOR","->",212],["T_STRING","getPrice",212],"(",["T_VARIABLE","$this",212],")",";",["T_WHITESPACE","\n        ",212],"}",["T_WHITESPACE"," ",213],["T_ELSE","else",213],["T_WHITESPACE"," ",213],"{",["T_WHITESPACE","\n            ",213],["T_RETURN","return",214],["T_WHITESPACE"," ",214],["T_VARIABLE","$this",214],["T_OBJECT_OPERATOR","->",214],["T_STRING","getData",214],"(",["T_CONSTANT_ENCAPSED_STRING","'price'",214],")",";",["T_WHITESPACE","\n        ",214],"}",["T_WHITESPACE","\n    ",215],"}",["T_WHITESPACE","\n\n    ",216],["T_DOC_COMMENT","\/**\n     * Set Price calculation flag\n     *\n     * @param bool $calculate\n     * @return void\n     *\/",218],["T_WHITESPACE","\n    ",223],["T_PUBLIC","public",224],["T_WHITESPACE"," ",224],["T_FUNCTION","function",224],["T_WHITESPACE"," ",224],["T_STRING","setPriceCalculation",224],"(",["T_VARIABLE","$calculate",224],["T_WHITESPACE"," ",224],"=",["T_WHITESPACE"," ",224],["T_STRING","true",224],")",["T_WHITESPACE","\n    ",224],"{",["T_WHITESPACE","\n        ",225],["T_VARIABLE","$this",226],["T_OBJECT_OPERATOR","->",226],["T_STRING","_calculatePrice",226],["T_WHITESPACE"," ",226],"=",["T_WHITESPACE"," ",226],["T_VARIABLE","$calculate",226],";",["T_WHITESPACE","\n    ",226],"}",["T_WHITESPACE","\n\n    ",227],["T_DOC_COMMENT","\/**\n     * Get product type identifier\n     *\n     * @return string\n     *\/",229],["T_WHITESPACE","\n    ",233],["T_PUBLIC","public",234],["T_WHITESPACE"," ",234],["T_FUNCTION","function",234],["T_WHITESPACE"," ",234],["T_STRING","getTypeId",234],"(",")",["T_WHITESPACE","\n    ",234],"{",["T_WHITESPACE","\n        ",235],["T_RETURN","return",236],["T_WHITESPACE"," ",236],["T_VARIABLE","$this",236],["T_OBJECT_OPERATOR","->",236],["T_STRING","_getData",236],"(",["T_CONSTANT_ENCAPSED_STRING","'type_id'",236],")",";",["T_WHITESPACE","\n    ",236],"}",["T_WHITESPACE","\n\n    ",237],["T_DOC_COMMENT","\/**\n     * Get product status\n     *\n     * @return int\n     *\/",239],["T_WHITESPACE","\n    ",243],["T_PUBLIC","public",244],["T_WHITESPACE"," ",244],["T_FUNCTION","function",244],["T_WHITESPACE"," ",244],["T_STRING","getStatus",244],"(",")",["T_WHITESPACE","\n    ",244],"{",["T_WHITESPACE","\n        ",245],["T_IF","if",246],["T_WHITESPACE"," ",246],"(",["T_STRING","is_null",246],"(",["T_VARIABLE","$this",246],["T_OBJECT_OPERATOR","->",246],["T_STRING","_getData",246],"(",["T_CONSTANT_ENCAPSED_STRING","'status'",246],")",")",")",["T_WHITESPACE"," ",246],"{",["T_WHITESPACE","\n            ",246],["T_VARIABLE","$this",247],["T_OBJECT_OPERATOR","->",247],["T_STRING","setData",247],"(",["T_CONSTANT_ENCAPSED_STRING","'status'",247],",",["T_WHITESPACE"," ",247],["T_STRING","Mage_Catalog_Model_Product_Status",247],["T_DOUBLE_COLON","::",247],["T_STRING","STATUS_ENABLED",247],")",";",["T_WHITESPACE","\n        ",247],"}",["T_WHITESPACE","\n        ",248],["T_RETURN","return",249],["T_WHITESPACE"," ",249],["T_VARIABLE","$this",249],["T_OBJECT_OPERATOR","->",249],["T_STRING","_getData",249],"(",["T_CONSTANT_ENCAPSED_STRING","'status'",249],")",";",["T_WHITESPACE","\n    ",249],"}",["T_WHITESPACE","\n\n    ",250],["T_DOC_COMMENT","\/**\n     * Retrieve type instance\n     *\n     * Type instance implement type depended logic\n     *\n     * @param  bool $singleton\n     * @return Mage_Catalog_Model_Product_Type_Abstract\n     *\/",252],["T_WHITESPACE","\n    ",259],["T_PUBLIC","public",260],["T_WHITESPACE"," ",260],["T_FUNCTION","function",260],["T_WHITESPACE"," ",260],["T_STRING","getTypeInstance",260],"(",["T_VARIABLE","$singleton",260],["T_WHITESPACE"," ",260],"=",["T_WHITESPACE"," ",260],["T_STRING","false",260],")",["T_WHITESPACE","\n    ",260],"{",["T_WHITESPACE","\n        ",261],["T_IF","if",262],["T_WHITESPACE"," ",262],"(",["T_VARIABLE","$singleton",262],["T_WHITESPACE"," ",262],["T_IS_IDENTICAL","===",262],["T_WHITESPACE"," ",262],["T_STRING","true",262],")",["T_WHITESPACE"," ",262],"{",["T_WHITESPACE","\n            ",262],["T_IF","if",263],["T_WHITESPACE"," ",263],"(",["T_STRING","is_null",263],"(",["T_VARIABLE","$this",263],["T_OBJECT_OPERATOR","->",263],["T_STRING","_typeInstanceSingleton",263],")",")",["T_WHITESPACE"," ",263],"{",["T_WHITESPACE","\n                ",263],["T_VARIABLE","$this",264],["T_OBJECT_OPERATOR","->",264],["T_STRING","_typeInstanceSingleton",264],["T_WHITESPACE"," ",264],"=",["T_WHITESPACE"," ",264],["T_STRING","Mage",264],["T_DOUBLE_COLON","::",264],["T_STRING","getSingleton",264],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog\/product_type'",264],")",["T_WHITESPACE","\n                    ",264],["T_OBJECT_OPERATOR","->",265],["T_STRING","factory",265],"(",["T_VARIABLE","$this",265],",",["T_WHITESPACE"," ",265],["T_STRING","true",265],")",";",["T_WHITESPACE","\n            ",265],"}",["T_WHITESPACE","\n            ",266],["T_RETURN","return",267],["T_WHITESPACE"," ",267],["T_VARIABLE","$this",267],["T_OBJECT_OPERATOR","->",267],["T_STRING","_typeInstanceSingleton",267],";",["T_WHITESPACE","\n        ",267],"}",["T_WHITESPACE","\n\n        ",268],["T_IF","if",270],["T_WHITESPACE"," ",270],"(",["T_VARIABLE","$this",270],["T_OBJECT_OPERATOR","->",270],["T_STRING","_typeInstance",270],["T_WHITESPACE"," ",270],["T_IS_IDENTICAL","===",270],["T_WHITESPACE"," ",270],["T_STRING","null",270],")",["T_WHITESPACE"," ",270],"{",["T_WHITESPACE","\n            ",270],["T_VARIABLE","$this",271],["T_OBJECT_OPERATOR","->",271],["T_STRING","_typeInstance",271],["T_WHITESPACE"," ",271],"=",["T_WHITESPACE"," ",271],["T_STRING","Mage",271],["T_DOUBLE_COLON","::",271],["T_STRING","getSingleton",271],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog\/product_type'",271],")",["T_WHITESPACE","\n                ",271],["T_OBJECT_OPERATOR","->",272],["T_STRING","factory",272],"(",["T_VARIABLE","$this",272],")",";",["T_WHITESPACE","\n        ",272],"}",["T_WHITESPACE","\n        ",273],["T_RETURN","return",274],["T_WHITESPACE"," ",274],["T_VARIABLE","$this",274],["T_OBJECT_OPERATOR","->",274],["T_STRING","_typeInstance",274],";",["T_WHITESPACE","\n    ",274],"}",["T_WHITESPACE","\n\n    ",275],["T_DOC_COMMENT","\/**\n     * Set type instance for external\n     *\n     * @param Mage_Catalog_Model_Product_Type_Abstract $instance  Product type instance\n     * @param bool                                     $singleton Whether instance is singleton\n     * @return Mage_Catalog_Model_Product\n     *\/",277],["T_WHITESPACE","\n    ",283],["T_PUBLIC","public",284],["T_WHITESPACE"," ",284],["T_FUNCTION","function",284],["T_WHITESPACE"," ",284],["T_STRING","setTypeInstance",284],"(",["T_VARIABLE","$instance",284],",",["T_WHITESPACE"," ",284],["T_VARIABLE","$singleton",284],["T_WHITESPACE"," ",284],"=",["T_WHITESPACE"," ",284],["T_STRING","false",284],")",["T_WHITESPACE","\n    ",284],"{",["T_WHITESPACE","\n        ",285],["T_IF","if",286],["T_WHITESPACE"," ",286],"(",["T_VARIABLE","$singleton",286],["T_WHITESPACE"," ",286],["T_IS_IDENTICAL","===",286],["T_WHITESPACE"," ",286],["T_STRING","true",286],")",["T_WHITESPACE"," ",286],"{",["T_WHITESPACE","\n            ",286],["T_VARIABLE","$this",287],["T_OBJECT_OPERATOR","->",287],["T_STRING","_typeInstanceSingleton",287],["T_WHITESPACE"," ",287],"=",["T_WHITESPACE"," ",287],["T_VARIABLE","$instance",287],";",["T_WHITESPACE","\n        ",287],"}",["T_WHITESPACE"," ",288],["T_ELSE","else",288],["T_WHITESPACE"," ",288],"{",["T_WHITESPACE","\n            ",288],["T_VARIABLE","$this",289],["T_OBJECT_OPERATOR","->",289],["T_STRING","_typeInstance",289],["T_WHITESPACE"," ",289],"=",["T_WHITESPACE"," ",289],["T_VARIABLE","$instance",289],";",["T_WHITESPACE","\n        ",289],"}",["T_WHITESPACE","\n        ",290],["T_RETURN","return",291],["T_WHITESPACE"," ",291],["T_VARIABLE","$this",291],";",["T_WHITESPACE","\n    ",291],"}",["T_WHITESPACE","\n\n    ",292],["T_DOC_COMMENT","\/**\n     * Retrieve link instance\n     *\n     * @return  Mage_Catalog_Model_Product_Link\n     *\/",294],["T_WHITESPACE","\n    ",298],["T_PUBLIC","public",299],["T_WHITESPACE"," ",299],["T_FUNCTION","function",299],["T_WHITESPACE"," ",299],["T_STRING","getLinkInstance",299],"(",")",["T_WHITESPACE","\n    ",299],"{",["T_WHITESPACE","\n        ",300],["T_IF","if",301],["T_WHITESPACE"," ",301],"(","!",["T_VARIABLE","$this",301],["T_OBJECT_OPERATOR","->",301],["T_STRING","_linkInstance",301],")",["T_WHITESPACE"," ",301],"{",["T_WHITESPACE","\n            ",301],["T_VARIABLE","$this",302],["T_OBJECT_OPERATOR","->",302],["T_STRING","_linkInstance",302],["T_WHITESPACE"," ",302],"=",["T_WHITESPACE"," ",302],["T_STRING","Mage",302],["T_DOUBLE_COLON","::",302],["T_STRING","getSingleton",302],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog\/product_link'",302],")",";",["T_WHITESPACE","\n        ",302],"}",["T_WHITESPACE","\n        ",303],["T_RETURN","return",304],["T_WHITESPACE"," ",304],["T_VARIABLE","$this",304],["T_OBJECT_OPERATOR","->",304],["T_STRING","_linkInstance",304],";",["T_WHITESPACE","\n    ",304],"}",["T_WHITESPACE","\n\n    ",305],["T_DOC_COMMENT","\/**\n     * Retrive product id by sku\n     *\n     * @param   string $sku\n     * @return  integer\n     *\/",307],["T_WHITESPACE","\n    ",312],["T_PUBLIC","public",313],["T_WHITESPACE"," ",313],["T_FUNCTION","function",313],["T_WHITESPACE"," ",313],["T_STRING","getIdBySku",313],"(",["T_VARIABLE","$sku",313],")",["T_WHITESPACE","\n    ",313],"{",["T_WHITESPACE","\n        ",314],["T_RETURN","return",315],["T_WHITESPACE"," ",315],["T_VARIABLE","$this",315],["T_OBJECT_OPERATOR","->",315],["T_STRING","_getResource",315],"(",")",["T_OBJECT_OPERATOR","->",315],["T_STRING","getIdBySku",315],"(",["T_VARIABLE","$sku",315],")",";",["T_WHITESPACE","\n    ",315],"}",["T_WHITESPACE","\n\n    ",316],["T_DOC_COMMENT","\/**\n     * Retrieve product category id\n     *\n     * @return int\n     *\/",318],["T_WHITESPACE","\n    ",322],["T_PUBLIC","public",323],["T_WHITESPACE"," ",323],["T_FUNCTION","function",323],["T_WHITESPACE"," ",323],["T_STRING","getCategoryId",323],"(",")",["T_WHITESPACE","\n    ",323],"{",["T_WHITESPACE","\n        ",324],["T_IF","if",325],["T_WHITESPACE"," ",325],"(",["T_VARIABLE","$category",325],["T_WHITESPACE"," ",325],"=",["T_WHITESPACE"," ",325],["T_STRING","Mage",325],["T_DOUBLE_COLON","::",325],["T_STRING","registry",325],"(",["T_CONSTANT_ENCAPSED_STRING","'current_category'",325],")",")",["T_WHITESPACE"," ",325],"{",["T_WHITESPACE","\n            ",325],["T_RETURN","return",326],["T_WHITESPACE"," ",326],["T_VARIABLE","$category",326],["T_OBJECT_OPERATOR","->",326],["T_STRING","getId",326],"(",")",";",["T_WHITESPACE","\n        ",326],"}",["T_WHITESPACE","\n        ",327],["T_RETURN","return",328],["T_WHITESPACE"," ",328],["T_STRING","false",328],";",["T_WHITESPACE","\n    ",328],"}",["T_WHITESPACE","\n\n    ",329],["T_DOC_COMMENT","\/**\n     * Retrieve product category\n     *\n     * @return Mage_Catalog_Model_Category\n     *\/",331],["T_WHITESPACE","\n    ",335],["T_PUBLIC","public",336],["T_WHITESPACE"," ",336],["T_FUNCTION","function",336],["T_WHITESPACE"," ",336],["T_STRING","getCategory",336],"(",")",["T_WHITESPACE","\n    ",336],"{",["T_WHITESPACE","\n        ",337],["T_VARIABLE","$category",338],["T_WHITESPACE"," ",338],"=",["T_WHITESPACE"," ",338],["T_VARIABLE","$this",338],["T_OBJECT_OPERATOR","->",338],["T_STRING","getData",338],"(",["T_CONSTANT_ENCAPSED_STRING","'category'",338],")",";",["T_WHITESPACE","\n        ",338],["T_IF","if",339],["T_WHITESPACE"," ",339],"(",["T_STRING","is_null",339],"(",["T_VARIABLE","$category",339],")",["T_WHITESPACE"," ",339],["T_BOOLEAN_AND","&&",339],["T_WHITESPACE"," ",339],["T_VARIABLE","$this",339],["T_OBJECT_OPERATOR","->",339],["T_STRING","getCategoryId",339],"(",")",")",["T_WHITESPACE"," ",339],"{",["T_WHITESPACE","\n            ",339],["T_VARIABLE","$category",340],["T_WHITESPACE"," ",340],"=",["T_WHITESPACE"," ",340],["T_STRING","Mage",340],["T_DOUBLE_COLON","::",340],["T_STRING","getModel",340],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog\/category'",340],")",["T_OBJECT_OPERATOR","->",340],["T_STRING","load",340],"(",["T_VARIABLE","$this",340],["T_OBJECT_OPERATOR","->",340],["T_STRING","getCategoryId",340],"(",")",")",";",["T_WHITESPACE","\n            ",340],["T_VARIABLE","$this",341],["T_OBJECT_OPERATOR","->",341],["T_STRING","setCategory",341],"(",["T_VARIABLE","$category",341],")",";",["T_WHITESPACE","\n        ",341],"}",["T_WHITESPACE","\n        ",342],["T_RETURN","return",343],["T_WHITESPACE"," ",343],["T_VARIABLE","$category",343],";",["T_WHITESPACE","\n    ",343],"}",["T_WHITESPACE","\n\n    ",344],["T_DOC_COMMENT","\/**\n     * Set assigned category IDs array to product\n     *\n     * @param array|string $ids\n     * @return Mage_Catalog_Model_Product\n     *\/",346],["T_WHITESPACE","\n    ",351],["T_PUBLIC","public",352],["T_WHITESPACE"," ",352],["T_FUNCTION","function",352],["T_WHITESPACE"," ",352],["T_STRING","setCategoryIds",352],"(",["T_VARIABLE","$ids",352],")",["T_WHITESPACE","\n    ",352],"{",["T_WHITESPACE","\n        ",353],["T_IF","if",354],["T_WHITESPACE"," ",354],"(",["T_STRING","is_string",354],"(",["T_VARIABLE","$ids",354],")",")",["T_WHITESPACE"," ",354],"{",["T_WHITESPACE","\n            ",354],["T_VARIABLE","$ids",355],["T_WHITESPACE"," ",355],"=",["T_WHITESPACE"," ",355],["T_STRING","explode",355],"(",["T_CONSTANT_ENCAPSED_STRING","','",355],",",["T_WHITESPACE"," ",355],["T_VARIABLE","$ids",355],")",";",["T_WHITESPACE","\n        ",355],"}",["T_WHITESPACE"," ",356],["T_ELSEIF","elseif",356],["T_WHITESPACE"," ",356],"(","!",["T_STRING","is_array",356],"(",["T_VARIABLE","$ids",356],")",")",["T_WHITESPACE"," ",356],"{",["T_WHITESPACE","\n            ",356],["T_STRING","Mage",357],["T_DOUBLE_COLON","::",357],["T_STRING","throwException",357],"(",["T_STRING","Mage",357],["T_DOUBLE_COLON","::",357],["T_STRING","helper",357],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog'",357],")",["T_OBJECT_OPERATOR","->",357],["T_STRING","__",357],"(",["T_CONSTANT_ENCAPSED_STRING","'Invalid category IDs.'",357],")",")",";",["T_WHITESPACE","\n        ",357],"}",["T_WHITESPACE","\n        ",358],["T_FOREACH","foreach",359],["T_WHITESPACE"," ",359],"(",["T_VARIABLE","$ids",359],["T_WHITESPACE"," ",359],["T_AS","as",359],["T_WHITESPACE"," ",359],["T_VARIABLE","$i",359],["T_WHITESPACE"," ",359],["T_DOUBLE_ARROW","=>",359],["T_WHITESPACE"," ",359],["T_VARIABLE","$v",359],")",["T_WHITESPACE"," ",359],"{",["T_WHITESPACE","\n            ",359],["T_IF","if",360],["T_WHITESPACE"," ",360],"(",["T_EMPTY","empty",360],"(",["T_VARIABLE","$v",360],")",")",["T_WHITESPACE"," ",360],"{",["T_WHITESPACE","\n                ",360],["T_UNSET","unset",361],"(",["T_VARIABLE","$ids",361],"[",["T_VARIABLE","$i",361],"]",")",";",["T_WHITESPACE","\n            ",361],"}",["T_WHITESPACE","\n        ",362],"}",["T_WHITESPACE","\n\n        ",363],["T_VARIABLE","$this",365],["T_OBJECT_OPERATOR","->",365],["T_STRING","setData",365],"(",["T_CONSTANT_ENCAPSED_STRING","'category_ids'",365],",",["T_WHITESPACE"," ",365],["T_VARIABLE","$ids",365],")",";",["T_WHITESPACE","\n        ",365],["T_RETURN","return",366],["T_WHITESPACE"," ",366],["T_VARIABLE","$this",366],";",["T_WHITESPACE","\n    ",366],"}",["T_WHITESPACE","\n\n    ",367],["T_DOC_COMMENT","\/**\n     * Retrieve assigned category Ids\n     *\n     * @return array\n     *\/",369],["T_WHITESPACE","\n    ",373],["T_PUBLIC","public",374],["T_WHITESPACE"," ",374],["T_FUNCTION","function",374],["T_WHITESPACE"," ",374],["T_STRING","getCategoryIds",374],"(",")",["T_WHITESPACE","\n    ",374],"{",["T_WHITESPACE","\n        ",375],["T_IF","if",376],["T_WHITESPACE"," ",376],"(","!",["T_WHITESPACE"," ",376],["T_VARIABLE","$this",376],["T_OBJECT_OPERATOR","->",376],["T_STRING","hasData",376],"(",["T_CONSTANT_ENCAPSED_STRING","'category_ids'",376],")",")",["T_WHITESPACE"," ",376],"{",["T_WHITESPACE","\n            ",376],["T_VARIABLE","$wasLocked",377],["T_WHITESPACE"," ",377],"=",["T_WHITESPACE"," ",377],["T_STRING","false",377],";",["T_WHITESPACE","\n            ",377],["T_IF","if",378],["T_WHITESPACE"," ",378],"(",["T_VARIABLE","$this",378],["T_OBJECT_OPERATOR","->",378],["T_STRING","isLockedAttribute",378],"(",["T_CONSTANT_ENCAPSED_STRING","'category_ids'",378],")",")",["T_WHITESPACE"," ",378],"{",["T_WHITESPACE","\n                ",378],["T_VARIABLE","$wasLocked",379],["T_WHITESPACE"," ",379],"=",["T_WHITESPACE"," ",379],["T_STRING","true",379],";",["T_WHITESPACE","\n                ",379],["T_VARIABLE","$this",380],["T_OBJECT_OPERATOR","->",380],["T_STRING","unlockAttribute",380],"(",["T_CONSTANT_ENCAPSED_STRING","'category_ids'",380],")",";",["T_WHITESPACE","\n            ",380],"}",["T_WHITESPACE","\n            ",381],["T_VARIABLE","$ids",382],["T_WHITESPACE"," ",382],"=",["T_WHITESPACE"," ",382],["T_VARIABLE","$this",382],["T_OBJECT_OPERATOR","->",382],["T_STRING","_getResource",382],"(",")",["T_OBJECT_OPERATOR","->",382],["T_STRING","getCategoryIds",382],"(",["T_VARIABLE","$this",382],")",";",["T_WHITESPACE","\n            ",382],["T_VARIABLE","$this",383],["T_OBJECT_OPERATOR","->",383],["T_STRING","setData",383],"(",["T_CONSTANT_ENCAPSED_STRING","'category_ids'",383],",",["T_WHITESPACE"," ",383],["T_VARIABLE","$ids",383],")",";",["T_WHITESPACE","\n            ",383],["T_IF","if",384],["T_WHITESPACE"," ",384],"(",["T_VARIABLE","$wasLocked",384],")",["T_WHITESPACE"," ",384],"{",["T_WHITESPACE","\n                ",384],["T_VARIABLE","$this",385],["T_OBJECT_OPERATOR","->",385],["T_STRING","lockAttribute",385],"(",["T_CONSTANT_ENCAPSED_STRING","'category_ids'",385],")",";",["T_WHITESPACE","\n            ",385],"}",["T_WHITESPACE","\n        ",386],"}",["T_WHITESPACE","\n\n        ",387],["T_RETURN","return",389],["T_WHITESPACE"," ",389],["T_ARRAY_CAST","(array)",389],["T_WHITESPACE"," ",389],["T_VARIABLE","$this",389],["T_OBJECT_OPERATOR","->",389],["T_STRING","_getData",389],"(",["T_CONSTANT_ENCAPSED_STRING","'category_ids'",389],")",";",["T_WHITESPACE","\n    ",389],"}",["T_WHITESPACE","\n\n    ",390],["T_DOC_COMMENT","\/**\n     * Retrieve product categories\n     *\n     * @return Varien_Data_Collection\n     *\/",392],["T_WHITESPACE","\n    ",396],["T_PUBLIC","public",397],["T_WHITESPACE"," ",397],["T_FUNCTION","function",397],["T_WHITESPACE"," ",397],["T_STRING","getCategoryCollection",397],"(",")",["T_WHITESPACE","\n    ",397],"{",["T_WHITESPACE","\n        ",398],["T_RETURN","return",399],["T_WHITESPACE"," ",399],["T_VARIABLE","$this",399],["T_OBJECT_OPERATOR","->",399],["T_STRING","_getResource",399],"(",")",["T_OBJECT_OPERATOR","->",399],["T_STRING","getCategoryCollection",399],"(",["T_VARIABLE","$this",399],")",";",["T_WHITESPACE","\n    ",399],"}",["T_WHITESPACE","\n\n    ",400],["T_DOC_COMMENT","\/**\n     * Retrieve product websites identifiers\n     *\n     * @return array\n     *\/",402],["T_WHITESPACE","\n    ",406],["T_PUBLIC","public",407],["T_WHITESPACE"," ",407],["T_FUNCTION","function",407],["T_WHITESPACE"," ",407],["T_STRING","getWebsiteIds",407],"(",")",["T_WHITESPACE","\n    ",407],"{",["T_WHITESPACE","\n        ",408],["T_IF","if",409],["T_WHITESPACE"," ",409],"(","!",["T_VARIABLE","$this",409],["T_OBJECT_OPERATOR","->",409],["T_STRING","hasWebsiteIds",409],"(",")",")",["T_WHITESPACE"," ",409],"{",["T_WHITESPACE","\n            ",409],["T_VARIABLE","$ids",410],["T_WHITESPACE"," ",410],"=",["T_WHITESPACE"," ",410],["T_VARIABLE","$this",410],["T_OBJECT_OPERATOR","->",410],["T_STRING","_getResource",410],"(",")",["T_OBJECT_OPERATOR","->",410],["T_STRING","getWebsiteIds",410],"(",["T_VARIABLE","$this",410],")",";",["T_WHITESPACE","\n            ",410],["T_VARIABLE","$this",411],["T_OBJECT_OPERATOR","->",411],["T_STRING","setWebsiteIds",411],"(",["T_VARIABLE","$ids",411],")",";",["T_WHITESPACE","\n        ",411],"}",["T_WHITESPACE","\n        ",412],["T_RETURN","return",413],["T_WHITESPACE"," ",413],["T_VARIABLE","$this",413],["T_OBJECT_OPERATOR","->",413],["T_STRING","getData",413],"(",["T_CONSTANT_ENCAPSED_STRING","'website_ids'",413],")",";",["T_WHITESPACE","\n    ",413],"}",["T_WHITESPACE","\n\n    ",414],["T_DOC_COMMENT","\/**\n     * Get all sore ids where product is presented\n     *\n     * @return array\n     *\/",416],["T_WHITESPACE","\n    ",420],["T_PUBLIC","public",421],["T_WHITESPACE"," ",421],["T_FUNCTION","function",421],["T_WHITESPACE"," ",421],["T_STRING","getStoreIds",421],"(",")",["T_WHITESPACE","\n    ",421],"{",["T_WHITESPACE","\n        ",422],["T_IF","if",423],["T_WHITESPACE"," ",423],"(","!",["T_VARIABLE","$this",423],["T_OBJECT_OPERATOR","->",423],["T_STRING","hasStoreIds",423],"(",")",")",["T_WHITESPACE"," ",423],"{",["T_WHITESPACE","\n            ",423],["T_VARIABLE","$storeIds",424],["T_WHITESPACE"," ",424],"=",["T_WHITESPACE"," ",424],["T_ARRAY","array",424],"(",")",";",["T_WHITESPACE","\n            ",424],["T_IF","if",425],["T_WHITESPACE"," ",425],"(",["T_VARIABLE","$websiteIds",425],["T_WHITESPACE"," ",425],"=",["T_WHITESPACE"," ",425],["T_VARIABLE","$this",425],["T_OBJECT_OPERATOR","->",425],["T_STRING","getWebsiteIds",425],"(",")",")",["T_WHITESPACE"," ",425],"{",["T_WHITESPACE","\n                ",425],["T_FOREACH","foreach",426],["T_WHITESPACE"," ",426],"(",["T_VARIABLE","$websiteIds",426],["T_WHITESPACE"," ",426],["T_AS","as",426],["T_WHITESPACE"," ",426],["T_VARIABLE","$websiteId",426],")",["T_WHITESPACE"," ",426],"{",["T_WHITESPACE","\n                    ",426],["T_VARIABLE","$websiteStores",427],["T_WHITESPACE"," ",427],"=",["T_WHITESPACE"," ",427],["T_STRING","Mage",427],["T_DOUBLE_COLON","::",427],["T_STRING","app",427],"(",")",["T_OBJECT_OPERATOR","->",427],["T_STRING","getWebsite",427],"(",["T_VARIABLE","$websiteId",427],")",["T_OBJECT_OPERATOR","->",427],["T_STRING","getStoreIds",427],"(",")",";",["T_WHITESPACE","\n                    ",427],["T_VARIABLE","$storeIds",428],["T_WHITESPACE"," ",428],"=",["T_WHITESPACE"," ",428],["T_STRING","array_merge",428],"(",["T_VARIABLE","$storeIds",428],",",["T_WHITESPACE"," ",428],["T_VARIABLE","$websiteStores",428],")",";",["T_WHITESPACE","\n                ",428],"}",["T_WHITESPACE","\n            ",429],"}",["T_WHITESPACE","\n            ",430],["T_VARIABLE","$this",431],["T_OBJECT_OPERATOR","->",431],["T_STRING","setStoreIds",431],"(",["T_VARIABLE","$storeIds",431],")",";",["T_WHITESPACE","\n        ",431],"}",["T_WHITESPACE","\n        ",432],["T_RETURN","return",433],["T_WHITESPACE"," ",433],["T_VARIABLE","$this",433],["T_OBJECT_OPERATOR","->",433],["T_STRING","getData",433],"(",["T_CONSTANT_ENCAPSED_STRING","'store_ids'",433],")",";",["T_WHITESPACE","\n    ",433],"}",["T_WHITESPACE","\n\n    ",434],["T_DOC_COMMENT","\/**\n     * Retrieve product attributes\n     * if $groupId is null - retrieve all product attributes\n     *\n     * @param int  $groupId   Retrieve attributes of the specified group\n     * @param bool $skipSuper Not used\n     * @return array\n     *\/",436],["T_WHITESPACE","\n    ",443],["T_PUBLIC","public",444],["T_WHITESPACE"," ",444],["T_FUNCTION","function",444],["T_WHITESPACE"," ",444],["T_STRING","getAttributes",444],"(",["T_VARIABLE","$groupId",444],["T_WHITESPACE"," ",444],"=",["T_WHITESPACE"," ",444],["T_STRING","null",444],",",["T_WHITESPACE"," ",444],["T_VARIABLE","$skipSuper",444],["T_WHITESPACE"," ",444],"=",["T_WHITESPACE"," ",444],["T_STRING","false",444],")",["T_WHITESPACE","\n    ",444],"{",["T_WHITESPACE","\n        ",445],["T_VARIABLE","$productAttributes",446],["T_WHITESPACE"," ",446],"=",["T_WHITESPACE"," ",446],["T_VARIABLE","$this",446],["T_OBJECT_OPERATOR","->",446],["T_STRING","getTypeInstance",446],"(",["T_STRING","true",446],")",["T_OBJECT_OPERATOR","->",446],["T_STRING","getEditableAttributes",446],"(",["T_VARIABLE","$this",446],")",";",["T_WHITESPACE","\n        ",446],["T_IF","if",447],["T_WHITESPACE"," ",447],"(",["T_VARIABLE","$groupId",447],")",["T_WHITESPACE"," ",447],"{",["T_WHITESPACE","\n            ",447],["T_VARIABLE","$attributes",448],["T_WHITESPACE"," ",448],"=",["T_WHITESPACE"," ",448],["T_ARRAY","array",448],"(",")",";",["T_WHITESPACE","\n            ",448],["T_FOREACH","foreach",449],["T_WHITESPACE"," ",449],"(",["T_VARIABLE","$productAttributes",449],["T_WHITESPACE"," ",449],["T_AS","as",449],["T_WHITESPACE"," ",449],["T_VARIABLE","$attribute",449],")",["T_WHITESPACE"," ",449],"{",["T_WHITESPACE","\n                ",449],["T_IF","if",450],["T_WHITESPACE"," ",450],"(",["T_VARIABLE","$attribute",450],["T_OBJECT_OPERATOR","->",450],["T_STRING","isInGroup",450],"(",["T_VARIABLE","$this",450],["T_OBJECT_OPERATOR","->",450],["T_STRING","getAttributeSetId",450],"(",")",",",["T_WHITESPACE"," ",450],["T_VARIABLE","$groupId",450],")",")",["T_WHITESPACE"," ",450],"{",["T_WHITESPACE","\n                    ",450],["T_VARIABLE","$attributes",451],"[","]",["T_WHITESPACE"," ",451],"=",["T_WHITESPACE"," ",451],["T_VARIABLE","$attribute",451],";",["T_WHITESPACE","\n                ",451],"}",["T_WHITESPACE","\n            ",452],"}",["T_WHITESPACE","\n        ",453],"}",["T_WHITESPACE"," ",454],["T_ELSE","else",454],["T_WHITESPACE"," ",454],"{",["T_WHITESPACE","\n            ",454],["T_VARIABLE","$attributes",455],["T_WHITESPACE"," ",455],"=",["T_WHITESPACE"," ",455],["T_VARIABLE","$productAttributes",455],";",["T_WHITESPACE","\n        ",455],"}",["T_WHITESPACE","\n\n        ",456],["T_RETURN","return",458],["T_WHITESPACE"," ",458],["T_VARIABLE","$attributes",458],";",["T_WHITESPACE","\n    ",458],"}",["T_WHITESPACE","\n\n    ",459],["T_DOC_COMMENT","\/**\n     * Check product options and type options and save them, too\n     *\/",461],["T_WHITESPACE","\n    ",463],["T_PROTECTED","protected",464],["T_WHITESPACE"," ",464],["T_FUNCTION","function",464],["T_WHITESPACE"," ",464],["T_STRING","_beforeSave",464],"(",")",["T_WHITESPACE","\n    ",464],"{",["T_WHITESPACE","\n        ",465],["T_VARIABLE","$this",466],["T_OBJECT_OPERATOR","->",466],["T_STRING","cleanCache",466],"(",")",";",["T_WHITESPACE","\n        ",466],["T_VARIABLE","$this",467],["T_OBJECT_OPERATOR","->",467],["T_STRING","setTypeHasOptions",467],"(",["T_STRING","false",467],")",";",["T_WHITESPACE","\n        ",467],["T_VARIABLE","$this",468],["T_OBJECT_OPERATOR","->",468],["T_STRING","setTypeHasRequiredOptions",468],"(",["T_STRING","false",468],")",";",["T_WHITESPACE","\n\n        ",468],["T_VARIABLE","$this",470],["T_OBJECT_OPERATOR","->",470],["T_STRING","getTypeInstance",470],"(",["T_STRING","true",470],")",["T_OBJECT_OPERATOR","->",470],["T_STRING","beforeSave",470],"(",["T_VARIABLE","$this",470],")",";",["T_WHITESPACE","\n\n        ",470],["T_VARIABLE","$hasOptions",472],["T_WHITESPACE","         ",472],"=",["T_WHITESPACE"," ",472],["T_STRING","false",472],";",["T_WHITESPACE","\n        ",472],["T_VARIABLE","$hasRequiredOptions",473],["T_WHITESPACE"," ",473],"=",["T_WHITESPACE"," ",473],["T_STRING","false",473],";",["T_WHITESPACE","\n\n        ",473],["T_DOC_COMMENT","\/**\n         * $this->_canAffectOptions - set by type instance only\n         * $this->getCanSaveCustomOptions() - set either in controller when \"Custom Options\" ajax tab is loaded,\n         * or in type instance as well\n         *\/",475],["T_WHITESPACE","\n        ",479],["T_VARIABLE","$this",480],["T_OBJECT_OPERATOR","->",480],["T_STRING","canAffectOptions",480],"(",["T_VARIABLE","$this",480],["T_OBJECT_OPERATOR","->",480],["T_STRING","_canAffectOptions",480],["T_WHITESPACE"," ",480],["T_BOOLEAN_AND","&&",480],["T_WHITESPACE"," ",480],["T_VARIABLE","$this",480],["T_OBJECT_OPERATOR","->",480],["T_STRING","getCanSaveCustomOptions",480],"(",")",")",";",["T_WHITESPACE","\n        ",480],["T_IF","if",481],["T_WHITESPACE"," ",481],"(",["T_VARIABLE","$this",481],["T_OBJECT_OPERATOR","->",481],["T_STRING","getCanSaveCustomOptions",481],"(",")",")",["T_WHITESPACE"," ",481],"{",["T_WHITESPACE","\n            ",481],["T_VARIABLE","$options",482],["T_WHITESPACE"," ",482],"=",["T_WHITESPACE"," ",482],["T_VARIABLE","$this",482],["T_OBJECT_OPERATOR","->",482],["T_STRING","getProductOptions",482],"(",")",";",["T_WHITESPACE","\n            ",482],["T_IF","if",483],["T_WHITESPACE"," ",483],"(",["T_STRING","is_array",483],"(",["T_VARIABLE","$options",483],")",")",["T_WHITESPACE"," ",483],"{",["T_WHITESPACE","\n                ",483],["T_VARIABLE","$this",484],["T_OBJECT_OPERATOR","->",484],["T_STRING","setIsCustomOptionChanged",484],"(",["T_STRING","true",484],")",";",["T_WHITESPACE","\n                ",484],["T_FOREACH","foreach",485],["T_WHITESPACE"," ",485],"(",["T_VARIABLE","$this",485],["T_OBJECT_OPERATOR","->",485],["T_STRING","getProductOptions",485],"(",")",["T_WHITESPACE"," ",485],["T_AS","as",485],["T_WHITESPACE"," ",485],["T_VARIABLE","$option",485],")",["T_WHITESPACE"," ",485],"{",["T_WHITESPACE","\n                    ",485],["T_VARIABLE","$this",486],["T_OBJECT_OPERATOR","->",486],["T_STRING","getOptionInstance",486],"(",")",["T_OBJECT_OPERATOR","->",486],["T_STRING","addOption",486],"(",["T_VARIABLE","$option",486],")",";",["T_WHITESPACE","\n                    ",486],["T_IF","if",487],["T_WHITESPACE"," ",487],"(","(","!",["T_ISSET","isset",487],"(",["T_VARIABLE","$option",487],"[",["T_CONSTANT_ENCAPSED_STRING","'is_delete'",487],"]",")",")",["T_WHITESPACE"," ",487],["T_BOOLEAN_OR","||",487],["T_WHITESPACE"," ",487],["T_VARIABLE","$option",487],"[",["T_CONSTANT_ENCAPSED_STRING","'is_delete'",487],"]",["T_WHITESPACE"," ",487],["T_IS_NOT_EQUAL","!=",487],["T_WHITESPACE"," ",487],["T_CONSTANT_ENCAPSED_STRING","'1'",487],")",["T_WHITESPACE"," ",487],"{",["T_WHITESPACE","\n                        ",487],["T_VARIABLE","$hasOptions",488],["T_WHITESPACE"," ",488],"=",["T_WHITESPACE"," ",488],["T_STRING","true",488],";",["T_WHITESPACE","\n                    ",488],"}",["T_WHITESPACE","\n                ",489],"}",["T_WHITESPACE","\n                ",490],["T_FOREACH","foreach",491],["T_WHITESPACE"," ",491],"(",["T_VARIABLE","$this",491],["T_OBJECT_OPERATOR","->",491],["T_STRING","getOptionInstance",491],"(",")",["T_OBJECT_OPERATOR","->",491],["T_STRING","getOptions",491],"(",")",["T_WHITESPACE"," ",491],["T_AS","as",491],["T_WHITESPACE"," ",491],["T_VARIABLE","$option",491],")",["T_WHITESPACE"," ",491],"{",["T_WHITESPACE","\n                    ",491],["T_IF","if",492],["T_WHITESPACE"," ",492],"(",["T_VARIABLE","$option",492],"[",["T_CONSTANT_ENCAPSED_STRING","'is_require'",492],"]",["T_WHITESPACE"," ",492],["T_IS_EQUAL","==",492],["T_WHITESPACE"," ",492],["T_CONSTANT_ENCAPSED_STRING","'1'",492],")",["T_WHITESPACE"," ",492],"{",["T_WHITESPACE","\n                        ",492],["T_VARIABLE","$hasRequiredOptions",493],["T_WHITESPACE"," ",493],"=",["T_WHITESPACE"," ",493],["T_STRING","true",493],";",["T_WHITESPACE","\n                        ",493],["T_BREAK","break",494],";",["T_WHITESPACE","\n                    ",494],"}",["T_WHITESPACE","\n                ",495],"}",["T_WHITESPACE","\n            ",496],"}",["T_WHITESPACE","\n        ",497],"}",["T_WHITESPACE","\n\n        ",498],["T_DOC_COMMENT","\/**\n         * Set true, if any\n         * Set false, ONLY if options have been affected by Options tab and Type instance tab\n         *\/",500],["T_WHITESPACE","\n        ",503],["T_IF","if",504],["T_WHITESPACE"," ",504],"(",["T_VARIABLE","$hasOptions",504],["T_WHITESPACE"," ",504],["T_BOOLEAN_OR","||",504],["T_WHITESPACE"," ",504],["T_BOOL_CAST","(bool)",504],["T_VARIABLE","$this",504],["T_OBJECT_OPERATOR","->",504],["T_STRING","getTypeHasOptions",504],"(",")",")",["T_WHITESPACE"," ",504],"{",["T_WHITESPACE","\n            ",504],["T_VARIABLE","$this",505],["T_OBJECT_OPERATOR","->",505],["T_STRING","setHasOptions",505],"(",["T_STRING","true",505],")",";",["T_WHITESPACE","\n            ",505],["T_IF","if",506],["T_WHITESPACE"," ",506],"(",["T_VARIABLE","$hasRequiredOptions",506],["T_WHITESPACE"," ",506],["T_BOOLEAN_OR","||",506],["T_WHITESPACE"," ",506],["T_BOOL_CAST","(bool)",506],["T_VARIABLE","$this",506],["T_OBJECT_OPERATOR","->",506],["T_STRING","getTypeHasRequiredOptions",506],"(",")",")",["T_WHITESPACE"," ",506],"{",["T_WHITESPACE","\n                ",506],["T_VARIABLE","$this",507],["T_OBJECT_OPERATOR","->",507],["T_STRING","setRequiredOptions",507],"(",["T_STRING","true",507],")",";",["T_WHITESPACE","\n            ",507],"}",["T_WHITESPACE"," ",508],["T_ELSEIF","elseif",508],["T_WHITESPACE"," ",508],"(",["T_VARIABLE","$this",508],["T_OBJECT_OPERATOR","->",508],["T_STRING","canAffectOptions",508],"(",")",")",["T_WHITESPACE"," ",508],"{",["T_WHITESPACE","\n                ",508],["T_VARIABLE","$this",509],["T_OBJECT_OPERATOR","->",509],["T_STRING","setRequiredOptions",509],"(",["T_STRING","false",509],")",";",["T_WHITESPACE","\n            ",509],"}",["T_WHITESPACE","\n        ",510],"}",["T_WHITESPACE"," ",511],["T_ELSEIF","elseif",511],["T_WHITESPACE"," ",511],"(",["T_VARIABLE","$this",511],["T_OBJECT_OPERATOR","->",511],["T_STRING","canAffectOptions",511],"(",")",")",["T_WHITESPACE"," ",511],"{",["T_WHITESPACE","\n            ",511],["T_VARIABLE","$this",512],["T_OBJECT_OPERATOR","->",512],["T_STRING","setHasOptions",512],"(",["T_STRING","false",512],")",";",["T_WHITESPACE","\n            ",512],["T_VARIABLE","$this",513],["T_OBJECT_OPERATOR","->",513],["T_STRING","setRequiredOptions",513],"(",["T_STRING","false",513],")",";",["T_WHITESPACE","\n        ",513],"}",["T_WHITESPACE","\n        ",514],["T_STRING","parent",515],["T_DOUBLE_COLON","::",515],["T_STRING","_beforeSave",515],"(",")",";",["T_WHITESPACE","\n    ",515],"}",["T_WHITESPACE","\n\n    ",516],["T_DOC_COMMENT","\/**\n     * Check\/set if options can be affected when saving product\n     * If value specified, it will be set.\n     *\n     * @param   bool $value\n     * @return  bool\n     *\/",518],["T_WHITESPACE","\n    ",524],["T_PUBLIC","public",525],["T_WHITESPACE"," ",525],["T_FUNCTION","function",525],["T_WHITESPACE"," ",525],["T_STRING","canAffectOptions",525],"(",["T_VARIABLE","$value",525],["T_WHITESPACE"," ",525],"=",["T_WHITESPACE"," ",525],["T_STRING","null",525],")",["T_WHITESPACE","\n    ",525],"{",["T_WHITESPACE","\n        ",526],["T_IF","if",527],["T_WHITESPACE"," ",527],"(",["T_STRING","null",527],["T_WHITESPACE"," ",527],["T_IS_NOT_IDENTICAL","!==",527],["T_WHITESPACE"," ",527],["T_VARIABLE","$value",527],")",["T_WHITESPACE"," ",527],"{",["T_WHITESPACE","\n            ",527],["T_VARIABLE","$this",528],["T_OBJECT_OPERATOR","->",528],["T_STRING","_canAffectOptions",528],["T_WHITESPACE"," ",528],"=",["T_WHITESPACE"," ",528],["T_BOOL_CAST","(bool)",528],["T_VARIABLE","$value",528],";",["T_WHITESPACE","\n        ",528],"}",["T_WHITESPACE","\n        ",529],["T_RETURN","return",530],["T_WHITESPACE"," ",530],["T_VARIABLE","$this",530],["T_OBJECT_OPERATOR","->",530],["T_STRING","_canAffectOptions",530],";",["T_WHITESPACE","\n    ",530],"}",["T_WHITESPACE","\n\n    ",531],["T_DOC_COMMENT","\/**\n     * Saving product type related data and init index\n     *\n     * @return Mage_Catalog_Model_Product\n     *\/",533],["T_WHITESPACE","\n    ",537],["T_PROTECTED","protected",538],["T_WHITESPACE"," ",538],["T_FUNCTION","function",538],["T_WHITESPACE"," ",538],["T_STRING","_afterSave",538],"(",")",["T_WHITESPACE","\n    ",538],"{",["T_WHITESPACE","\n        ",539],["T_VARIABLE","$this",540],["T_OBJECT_OPERATOR","->",540],["T_STRING","getLinkInstance",540],"(",")",["T_OBJECT_OPERATOR","->",540],["T_STRING","saveProductRelations",540],"(",["T_VARIABLE","$this",540],")",";",["T_WHITESPACE","\n        ",540],["T_VARIABLE","$this",541],["T_OBJECT_OPERATOR","->",541],["T_STRING","getTypeInstance",541],"(",["T_STRING","true",541],")",["T_OBJECT_OPERATOR","->",541],["T_STRING","save",541],"(",["T_VARIABLE","$this",541],")",";",["T_WHITESPACE","\n\n        ",541],["T_DOC_COMMENT","\/**\n         * Product Options\n         *\/",543],["T_WHITESPACE","\n        ",545],["T_VARIABLE","$this",546],["T_OBJECT_OPERATOR","->",546],["T_STRING","getOptionInstance",546],"(",")",["T_OBJECT_OPERATOR","->",546],["T_STRING","setProduct",546],"(",["T_VARIABLE","$this",546],")",["T_WHITESPACE","\n            ",546],["T_OBJECT_OPERATOR","->",547],["T_STRING","saveOptions",547],"(",")",";",["T_WHITESPACE","\n\n        ",547],["T_RETURN","return",549],["T_WHITESPACE"," ",549],["T_STRING","parent",549],["T_DOUBLE_COLON","::",549],["T_STRING","_afterSave",549],"(",")",";",["T_WHITESPACE","\n    ",549],"}",["T_WHITESPACE","\n\n    ",550],["T_DOC_COMMENT","\/**\n     * Clear chache related with product and protect delete from not admin\n     * Register indexing event before delete product\n     *\n     * @return Mage_Catalog_Model_Product\n     *\/",552],["T_WHITESPACE","\n    ",557],["T_PROTECTED","protected",558],["T_WHITESPACE"," ",558],["T_FUNCTION","function",558],["T_WHITESPACE"," ",558],["T_STRING","_beforeDelete",558],"(",")",["T_WHITESPACE","\n    ",558],"{",["T_WHITESPACE","\n        ",559],["T_VARIABLE","$this",560],["T_OBJECT_OPERATOR","->",560],["T_STRING","_protectFromNonAdmin",560],"(",")",";",["T_WHITESPACE","\n        ",560],["T_VARIABLE","$this",561],["T_OBJECT_OPERATOR","->",561],["T_STRING","cleanCache",561],"(",")",";",["T_WHITESPACE","\n\n        ",561],["T_RETURN","return",563],["T_WHITESPACE"," ",563],["T_STRING","parent",563],["T_DOUBLE_COLON","::",563],["T_STRING","_beforeDelete",563],"(",")",";",["T_WHITESPACE","\n    ",563],"}",["T_WHITESPACE","\n\n    ",564],["T_DOC_COMMENT","\/**\n     * Init indexing process after product delete commit\n     *\n     * @return Mage_Catalog_Model_Product\n     *\/",566],["T_WHITESPACE","\n    ",570],["T_PROTECTED","protected",571],["T_WHITESPACE"," ",571],["T_FUNCTION","function",571],["T_WHITESPACE"," ",571],["T_STRING","_afterDeleteCommit",571],"(",")",["T_WHITESPACE","\n    ",571],"{",["T_WHITESPACE","\n        ",572],["T_STRING","parent",573],["T_DOUBLE_COLON","::",573],["T_STRING","_afterDeleteCommit",573],"(",")",";",["T_WHITESPACE","\n\n        ",573],["T_DOC_COMMENT","\/** @var \\Mage_Index_Model_Indexer $indexer *\/",575],["T_WHITESPACE","\n        ",575],["T_VARIABLE","$indexer",576],["T_WHITESPACE"," ",576],"=",["T_WHITESPACE"," ",576],["T_STRING","Mage",576],["T_DOUBLE_COLON","::",576],["T_STRING","getSingleton",576],"(",["T_CONSTANT_ENCAPSED_STRING","'index\/indexer'",576],")",";",["T_WHITESPACE","\n\n        ",576],["T_VARIABLE","$indexer",578],["T_OBJECT_OPERATOR","->",578],["T_STRING","processEntityAction",578],"(",["T_VARIABLE","$this",578],",",["T_WHITESPACE"," ",578],["T_STRING","self",578],["T_DOUBLE_COLON","::",578],["T_STRING","ENTITY",578],",",["T_WHITESPACE"," ",578],["T_STRING","Mage_Index_Model_Event",578],["T_DOUBLE_COLON","::",578],["T_STRING","TYPE_DELETE",578],")",";",["T_WHITESPACE","\n    ",578],"}",["T_WHITESPACE","\n\n    ",579],["T_DOC_COMMENT","\/**\n     * Load product options if they exists\n     *\n     * @return Mage_Catalog_Model_Product\n     *\/",581],["T_WHITESPACE","\n    ",585],["T_PROTECTED","protected",586],["T_WHITESPACE"," ",586],["T_FUNCTION","function",586],["T_WHITESPACE"," ",586],["T_STRING","_afterLoad",586],"(",")",["T_WHITESPACE","\n    ",586],"{",["T_WHITESPACE","\n        ",587],["T_STRING","parent",588],["T_DOUBLE_COLON","::",588],["T_STRING","_afterLoad",588],"(",")",";",["T_WHITESPACE","\n        ",588],["T_DOC_COMMENT","\/**\n         * Load product options\n         *\/",589],["T_WHITESPACE","\n        ",591],["T_IF","if",592],["T_WHITESPACE"," ",592],"(",["T_VARIABLE","$this",592],["T_OBJECT_OPERATOR","->",592],["T_STRING","getHasOptions",592],"(",")",")",["T_WHITESPACE"," ",592],"{",["T_WHITESPACE","\n            ",592],["T_FOREACH","foreach",593],["T_WHITESPACE"," ",593],"(",["T_VARIABLE","$this",593],["T_OBJECT_OPERATOR","->",593],["T_STRING","getProductOptionsCollection",593],"(",")",["T_WHITESPACE"," ",593],["T_AS","as",593],["T_WHITESPACE"," ",593],["T_VARIABLE","$option",593],")",["T_WHITESPACE"," ",593],"{",["T_WHITESPACE","\n                ",593],["T_VARIABLE","$option",594],["T_OBJECT_OPERATOR","->",594],["T_STRING","setProduct",594],"(",["T_VARIABLE","$this",594],")",";",["T_WHITESPACE","\n                ",594],["T_VARIABLE","$this",595],["T_OBJECT_OPERATOR","->",595],["T_STRING","addOption",595],"(",["T_VARIABLE","$option",595],")",";",["T_WHITESPACE","\n            ",595],"}",["T_WHITESPACE","\n        ",596],"}",["T_WHITESPACE","\n        ",597],["T_RETURN","return",598],["T_WHITESPACE"," ",598],["T_VARIABLE","$this",598],";",["T_WHITESPACE","\n    ",598],"}",["T_WHITESPACE","\n\n    ",599],["T_DOC_COMMENT","\/**\n     * Retrieve resource instance wrapper\n     *\n     * @return Mage_Catalog_Model_Resource_Eav_Mysql4_Product\n     *\/",601],["T_WHITESPACE","\n    ",605],["T_PROTECTED","protected",606],["T_WHITESPACE"," ",606],["T_FUNCTION","function",606],["T_WHITESPACE"," ",606],["T_STRING","_getResource",606],"(",")",["T_WHITESPACE","\n    ",606],"{",["T_WHITESPACE","\n        ",607],["T_RETURN","return",608],["T_WHITESPACE"," ",608],["T_STRING","parent",608],["T_DOUBLE_COLON","::",608],["T_STRING","_getResource",608],"(",")",";",["T_WHITESPACE","\n    ",608],"}",["T_WHITESPACE","\n\n    ",609],["T_DOC_COMMENT","\/**\n     * Clear cache related with product id\n     *\n     * @return Mage_Catalog_Model_Product\n     *\/",611],["T_WHITESPACE","\n    ",615],["T_PUBLIC","public",616],["T_WHITESPACE"," ",616],["T_FUNCTION","function",616],["T_WHITESPACE"," ",616],["T_STRING","cleanCache",616],"(",")",["T_WHITESPACE","\n    ",616],"{",["T_WHITESPACE","\n        ",617],["T_STRING","Mage",618],["T_DOUBLE_COLON","::",618],["T_STRING","app",618],"(",")",["T_OBJECT_OPERATOR","->",618],["T_STRING","cleanCache",618],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog_product_'",618],".",["T_VARIABLE","$this",618],["T_OBJECT_OPERATOR","->",618],["T_STRING","getId",618],"(",")",")",";",["T_WHITESPACE","\n        ",618],["T_RETURN","return",619],["T_WHITESPACE"," ",619],["T_VARIABLE","$this",619],";",["T_WHITESPACE","\n    ",619],"}",["T_WHITESPACE","\n\n    ",620],["T_DOC_COMMENT","\/**\n     * Get product price model\n     *\n     * @return Mage_Catalog_Model_Product_Type_Price\n     *\/",622],["T_WHITESPACE","\n    ",626],["T_PUBLIC","public",627],["T_WHITESPACE"," ",627],["T_FUNCTION","function",627],["T_WHITESPACE"," ",627],["T_STRING","getPriceModel",627],"(",")",["T_WHITESPACE","\n    ",627],"{",["T_WHITESPACE","\n        ",628],["T_RETURN","return",629],["T_WHITESPACE"," ",629],["T_STRING","Mage",629],["T_DOUBLE_COLON","::",629],["T_STRING","getSingleton",629],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog\/product_type'",629],")",["T_OBJECT_OPERATOR","->",629],["T_STRING","priceFactory",629],"(",["T_VARIABLE","$this",629],["T_OBJECT_OPERATOR","->",629],["T_STRING","getTypeId",629],"(",")",")",";",["T_WHITESPACE","\n    ",629],"}",["T_WHITESPACE","\n\n    ",630],["T_DOC_COMMENT","\/**\n     * Get product group price\n     *\n     * @return float\n     *\/",632],["T_WHITESPACE","\n    ",636],["T_PUBLIC","public",637],["T_WHITESPACE"," ",637],["T_FUNCTION","function",637],["T_WHITESPACE"," ",637],["T_STRING","getGroupPrice",637],"(",")",["T_WHITESPACE","\n    ",637],"{",["T_WHITESPACE","\n        ",638],["T_RETURN","return",639],["T_WHITESPACE"," ",639],["T_VARIABLE","$this",639],["T_OBJECT_OPERATOR","->",639],["T_STRING","getPriceModel",639],"(",")",["T_OBJECT_OPERATOR","->",639],["T_STRING","getGroupPrice",639],"(",["T_VARIABLE","$this",639],")",";",["T_WHITESPACE","\n    ",639],"}",["T_WHITESPACE","\n\n    ",640],["T_DOC_COMMENT","\/**\n     * Get product tier price by qty\n     *\n     * @param   double $qty\n     * @return  double\n     *\/",642],["T_WHITESPACE","\n    ",647],["T_PUBLIC","public",648],["T_WHITESPACE"," ",648],["T_FUNCTION","function",648],["T_WHITESPACE"," ",648],["T_STRING","getTierPrice",648],"(",["T_VARIABLE","$qty",648],"=",["T_STRING","null",648],")",["T_WHITESPACE","\n    ",648],"{",["T_WHITESPACE","\n        ",649],["T_RETURN","return",650],["T_WHITESPACE"," ",650],["T_VARIABLE","$this",650],["T_OBJECT_OPERATOR","->",650],["T_STRING","getPriceModel",650],"(",")",["T_OBJECT_OPERATOR","->",650],["T_STRING","getTierPrice",650],"(",["T_VARIABLE","$qty",650],",",["T_WHITESPACE"," ",650],["T_VARIABLE","$this",650],")",";",["T_WHITESPACE","\n    ",650],"}",["T_WHITESPACE","\n\n    ",651],["T_DOC_COMMENT","\/**\n     * Count how many tier prices we have for the product\n     *\n     * @return  int\n     *\/",653],["T_WHITESPACE","\n    ",657],["T_PUBLIC","public",658],["T_WHITESPACE"," ",658],["T_FUNCTION","function",658],["T_WHITESPACE"," ",658],["T_STRING","getTierPriceCount",658],"(",")",["T_WHITESPACE","\n    ",658],"{",["T_WHITESPACE","\n        ",659],["T_RETURN","return",660],["T_WHITESPACE"," ",660],["T_VARIABLE","$this",660],["T_OBJECT_OPERATOR","->",660],["T_STRING","getPriceModel",660],"(",")",["T_OBJECT_OPERATOR","->",660],["T_STRING","getTierPriceCount",660],"(",["T_VARIABLE","$this",660],")",";",["T_WHITESPACE","\n    ",660],"}",["T_WHITESPACE","\n\n    ",661],["T_DOC_COMMENT","\/**\n     * Get formated by currency tier price\n     *\n     * @param   double $qty\n     * @return  array || double\n     *\/",663],["T_WHITESPACE","\n    ",668],["T_PUBLIC","public",669],["T_WHITESPACE"," ",669],["T_FUNCTION","function",669],["T_WHITESPACE"," ",669],["T_STRING","getFormatedTierPrice",669],"(",["T_VARIABLE","$qty",669],"=",["T_STRING","null",669],")",["T_WHITESPACE","\n    ",669],"{",["T_WHITESPACE","\n        ",670],["T_RETURN","return",671],["T_WHITESPACE"," ",671],["T_VARIABLE","$this",671],["T_OBJECT_OPERATOR","->",671],["T_STRING","getPriceModel",671],"(",")",["T_OBJECT_OPERATOR","->",671],["T_STRING","getFormatedTierPrice",671],"(",["T_VARIABLE","$qty",671],",",["T_WHITESPACE"," ",671],["T_VARIABLE","$this",671],")",";",["T_WHITESPACE","\n    ",671],"}",["T_WHITESPACE","\n\n    ",672],["T_DOC_COMMENT","\/**\n     * Get formated by currency product price\n     *\n     * @return  array || double\n     *\/",674],["T_WHITESPACE","\n    ",678],["T_PUBLIC","public",679],["T_WHITESPACE"," ",679],["T_FUNCTION","function",679],["T_WHITESPACE"," ",679],["T_STRING","getFormatedPrice",679],"(",")",["T_WHITESPACE","\n    ",679],"{",["T_WHITESPACE","\n        ",680],["T_RETURN","return",681],["T_WHITESPACE"," ",681],["T_VARIABLE","$this",681],["T_OBJECT_OPERATOR","->",681],["T_STRING","getPriceModel",681],"(",")",["T_OBJECT_OPERATOR","->",681],["T_STRING","getFormatedPrice",681],"(",["T_VARIABLE","$this",681],")",";",["T_WHITESPACE","\n    ",681],"}",["T_WHITESPACE","\n\n    ",682],["T_DOC_COMMENT","\/**\n     * Sets final price of product\n     *\n     * This func is equal to magic 'setFinalPrice()', but added as a separate func, because in cart with bundle\n     * products it's called very often in Item->getProduct(). So removing chain of magic with more cpu consuming\n     * algorithms gives nice optimization boost.\n     *\n     * @param float $price Price amount\n     * @return Mage_Catalog_Model_Product\n     *\/",684],["T_WHITESPACE","\n    ",693],["T_PUBLIC","public",694],["T_WHITESPACE"," ",694],["T_FUNCTION","function",694],["T_WHITESPACE"," ",694],["T_STRING","setFinalPrice",694],"(",["T_VARIABLE","$price",694],")",["T_WHITESPACE","\n    ",694],"{",["T_WHITESPACE","\n        ",695],["T_VARIABLE","$this",696],["T_OBJECT_OPERATOR","->",696],["T_STRING","_data",696],"[",["T_CONSTANT_ENCAPSED_STRING","'final_price'",696],"]",["T_WHITESPACE"," ",696],"=",["T_WHITESPACE"," ",696],["T_VARIABLE","$price",696],";",["T_WHITESPACE","\n        ",696],["T_RETURN","return",697],["T_WHITESPACE"," ",697],["T_VARIABLE","$this",697],";",["T_WHITESPACE","\n    ",697],"}",["T_WHITESPACE","\n\n    ",698],["T_DOC_COMMENT","\/**\n     * Get product final price\n     *\n     * @param double $qty\n     * @return double\n     *\/",700],["T_WHITESPACE","\n    ",705],["T_PUBLIC","public",706],["T_WHITESPACE"," ",706],["T_FUNCTION","function",706],["T_WHITESPACE"," ",706],["T_STRING","getFinalPrice",706],"(",["T_VARIABLE","$qty",706],"=",["T_STRING","null",706],")",["T_WHITESPACE","\n    ",706],"{",["T_WHITESPACE","\n        ",707],["T_VARIABLE","$price",708],["T_WHITESPACE"," ",708],"=",["T_WHITESPACE"," ",708],["T_VARIABLE","$this",708],["T_OBJECT_OPERATOR","->",708],["T_STRING","_getData",708],"(",["T_CONSTANT_ENCAPSED_STRING","'final_price'",708],")",";",["T_WHITESPACE","\n        ",708],["T_IF","if",709],["T_WHITESPACE"," ",709],"(",["T_VARIABLE","$price",709],["T_WHITESPACE"," ",709],["T_IS_NOT_IDENTICAL","!==",709],["T_WHITESPACE"," ",709],["T_STRING","null",709],")",["T_WHITESPACE"," ",709],"{",["T_WHITESPACE","\n            ",709],["T_RETURN","return",710],["T_WHITESPACE"," ",710],["T_VARIABLE","$price",710],";",["T_WHITESPACE","\n        ",710],"}",["T_WHITESPACE","\n        ",711],["T_RETURN","return",712],["T_WHITESPACE"," ",712],["T_VARIABLE","$this",712],["T_OBJECT_OPERATOR","->",712],["T_STRING","getPriceModel",712],"(",")",["T_OBJECT_OPERATOR","->",712],["T_STRING","getFinalPrice",712],"(",["T_VARIABLE","$qty",712],",",["T_WHITESPACE"," ",712],["T_VARIABLE","$this",712],")",";",["T_WHITESPACE","\n    ",712],"}",["T_WHITESPACE","\n\n    ",713],["T_DOC_COMMENT","\/**\n     * Returns calculated final price\n     *\n     * @return float\n     *\/",715],["T_WHITESPACE","\n    ",719],["T_PUBLIC","public",720],["T_WHITESPACE"," ",720],["T_FUNCTION","function",720],["T_WHITESPACE"," ",720],["T_STRING","getCalculatedFinalPrice",720],"(",")",["T_WHITESPACE","\n    ",720],"{",["T_WHITESPACE","\n        ",721],["T_RETURN","return",722],["T_WHITESPACE"," ",722],["T_VARIABLE","$this",722],["T_OBJECT_OPERATOR","->",722],["T_STRING","_getData",722],"(",["T_CONSTANT_ENCAPSED_STRING","'calculated_final_price'",722],")",";",["T_WHITESPACE","\n    ",722],"}",["T_WHITESPACE","\n\n    ",723],["T_DOC_COMMENT","\/**\n     * Returns minimal price\n     *\n     * @return float\n     *\/",725],["T_WHITESPACE","\n    ",729],["T_PUBLIC","public",730],["T_WHITESPACE"," ",730],["T_FUNCTION","function",730],["T_WHITESPACE"," ",730],["T_STRING","getMinimalPrice",730],"(",")",["T_WHITESPACE","\n    ",730],"{",["T_WHITESPACE","\n        ",731],["T_RETURN","return",732],["T_WHITESPACE"," ",732],["T_STRING","max",732],"(",["T_VARIABLE","$this",732],["T_OBJECT_OPERATOR","->",732],["T_STRING","_getData",732],"(",["T_CONSTANT_ENCAPSED_STRING","'minimal_price'",732],")",",",["T_WHITESPACE"," ",732],["T_LNUMBER","0",732],")",";",["T_WHITESPACE","\n    ",732],"}",["T_WHITESPACE","\n\n    ",733],["T_DOC_COMMENT","\/**\n     * Returns special price\n     *\n     * @return float\n     *\/",735],["T_WHITESPACE","\n    ",739],["T_PUBLIC","public",740],["T_WHITESPACE"," ",740],["T_FUNCTION","function",740],["T_WHITESPACE"," ",740],["T_STRING","getSpecialPrice",740],"(",")",["T_WHITESPACE","\n    ",740],"{",["T_WHITESPACE","\n        ",741],["T_RETURN","return",742],["T_WHITESPACE"," ",742],["T_VARIABLE","$this",742],["T_OBJECT_OPERATOR","->",742],["T_STRING","_getData",742],"(",["T_CONSTANT_ENCAPSED_STRING","'special_price'",742],")",";",["T_WHITESPACE","\n    ",742],"}",["T_WHITESPACE","\n\n    ",743],["T_DOC_COMMENT","\/**\n     * Returns starting date of the special price\n     *\n     * @return mixed\n     *\/",745],["T_WHITESPACE","\n    ",749],["T_PUBLIC","public",750],["T_WHITESPACE"," ",750],["T_FUNCTION","function",750],["T_WHITESPACE"," ",750],["T_STRING","getSpecialFromDate",750],"(",")",["T_WHITESPACE","\n    ",750],"{",["T_WHITESPACE","\n        ",751],["T_RETURN","return",752],["T_WHITESPACE"," ",752],["T_VARIABLE","$this",752],["T_OBJECT_OPERATOR","->",752],["T_STRING","_getData",752],"(",["T_CONSTANT_ENCAPSED_STRING","'special_from_date'",752],")",";",["T_WHITESPACE","\n    ",752],"}",["T_WHITESPACE","\n\n    ",753],["T_DOC_COMMENT","\/**\n     * Returns end date of the special price\n     *\n     * @return mixed\n     *\/",755],["T_WHITESPACE","\n    ",759],["T_PUBLIC","public",760],["T_WHITESPACE"," ",760],["T_FUNCTION","function",760],["T_WHITESPACE"," ",760],["T_STRING","getSpecialToDate",760],"(",")",["T_WHITESPACE","\n    ",760],"{",["T_WHITESPACE","\n        ",761],["T_RETURN","return",762],["T_WHITESPACE"," ",762],["T_VARIABLE","$this",762],["T_OBJECT_OPERATOR","->",762],["T_STRING","_getData",762],"(",["T_CONSTANT_ENCAPSED_STRING","'special_to_date'",762],")",";",["T_WHITESPACE","\n    ",762],"}",["T_WHITESPACE","\n\n\n",763],["T_COMMENT","\/*******************************************************************************\n ** Linked products API\n *\/",766],["T_WHITESPACE","\n    ",768],["T_DOC_COMMENT","\/**\n     * Retrieve array of related roducts\n     *\n     * @return array\n     *\/",769],["T_WHITESPACE","\n    ",773],["T_PUBLIC","public",774],["T_WHITESPACE"," ",774],["T_FUNCTION","function",774],["T_WHITESPACE"," ",774],["T_STRING","getRelatedProducts",774],"(",")",["T_WHITESPACE","\n    ",774],"{",["T_WHITESPACE","\n        ",775],["T_IF","if",776],["T_WHITESPACE"," ",776],"(","!",["T_VARIABLE","$this",776],["T_OBJECT_OPERATOR","->",776],["T_STRING","hasRelatedProducts",776],"(",")",")",["T_WHITESPACE"," ",776],"{",["T_WHITESPACE","\n            ",776],["T_VARIABLE","$products",777],["T_WHITESPACE"," ",777],"=",["T_WHITESPACE"," ",777],["T_ARRAY","array",777],"(",")",";",["T_WHITESPACE","\n            ",777],["T_VARIABLE","$collection",778],["T_WHITESPACE"," ",778],"=",["T_WHITESPACE"," ",778],["T_VARIABLE","$this",778],["T_OBJECT_OPERATOR","->",778],["T_STRING","getRelatedProductCollection",778],"(",")",";",["T_WHITESPACE","\n            ",778],["T_FOREACH","foreach",779],["T_WHITESPACE"," ",779],"(",["T_VARIABLE","$collection",779],["T_WHITESPACE"," ",779],["T_AS","as",779],["T_WHITESPACE"," ",779],["T_VARIABLE","$product",779],")",["T_WHITESPACE"," ",779],"{",["T_WHITESPACE","\n                ",779],["T_VARIABLE","$products",780],"[","]",["T_WHITESPACE"," ",780],"=",["T_WHITESPACE"," ",780],["T_VARIABLE","$product",780],";",["T_WHITESPACE","\n            ",780],"}",["T_WHITESPACE","\n            ",781],["T_VARIABLE","$this",782],["T_OBJECT_OPERATOR","->",782],["T_STRING","setRelatedProducts",782],"(",["T_VARIABLE","$products",782],")",";",["T_WHITESPACE","\n        ",782],"}",["T_WHITESPACE","\n        ",783],["T_RETURN","return",784],["T_WHITESPACE"," ",784],["T_VARIABLE","$this",784],["T_OBJECT_OPERATOR","->",784],["T_STRING","getData",784],"(",["T_CONSTANT_ENCAPSED_STRING","'related_products'",784],")",";",["T_WHITESPACE","\n    ",784],"}",["T_WHITESPACE","\n\n    ",785],["T_DOC_COMMENT","\/**\n     * Retrieve related products identifiers\n     *\n     * @return array\n     *\/",787],["T_WHITESPACE","\n    ",791],["T_PUBLIC","public",792],["T_WHITESPACE"," ",792],["T_FUNCTION","function",792],["T_WHITESPACE"," ",792],["T_STRING","getRelatedProductIds",792],"(",")",["T_WHITESPACE","\n    ",792],"{",["T_WHITESPACE","\n        ",793],["T_IF","if",794],["T_WHITESPACE"," ",794],"(","!",["T_VARIABLE","$this",794],["T_OBJECT_OPERATOR","->",794],["T_STRING","hasRelatedProductIds",794],"(",")",")",["T_WHITESPACE"," ",794],"{",["T_WHITESPACE","\n            ",794],["T_VARIABLE","$ids",795],["T_WHITESPACE"," ",795],"=",["T_WHITESPACE"," ",795],["T_ARRAY","array",795],"(",")",";",["T_WHITESPACE","\n            ",795],["T_FOREACH","foreach",796],["T_WHITESPACE"," ",796],"(",["T_VARIABLE","$this",796],["T_OBJECT_OPERATOR","->",796],["T_STRING","getRelatedProducts",796],"(",")",["T_WHITESPACE"," ",796],["T_AS","as",796],["T_WHITESPACE"," ",796],["T_VARIABLE","$product",796],")",["T_WHITESPACE"," ",796],"{",["T_WHITESPACE","\n                ",796],["T_VARIABLE","$ids",797],"[","]",["T_WHITESPACE"," ",797],"=",["T_WHITESPACE"," ",797],["T_VARIABLE","$product",797],["T_OBJECT_OPERATOR","->",797],["T_STRING","getId",797],"(",")",";",["T_WHITESPACE","\n            ",797],"}",["T_WHITESPACE","\n            ",798],["T_VARIABLE","$this",799],["T_OBJECT_OPERATOR","->",799],["T_STRING","setRelatedProductIds",799],"(",["T_VARIABLE","$ids",799],")",";",["T_WHITESPACE","\n        ",799],"}",["T_WHITESPACE","\n        ",800],["T_RETURN","return",801],["T_WHITESPACE"," ",801],["T_VARIABLE","$this",801],["T_OBJECT_OPERATOR","->",801],["T_STRING","getData",801],"(",["T_CONSTANT_ENCAPSED_STRING","'related_product_ids'",801],")",";",["T_WHITESPACE","\n    ",801],"}",["T_WHITESPACE","\n\n    ",802],["T_DOC_COMMENT","\/**\n     * Retrieve collection related product\n     *\n     * @return Mage_Catalog_Model_Resource_Product_Link_Product_Collection\n     *\/",804],["T_WHITESPACE","\n    ",808],["T_PUBLIC","public",809],["T_WHITESPACE"," ",809],["T_FUNCTION","function",809],["T_WHITESPACE"," ",809],["T_STRING","getRelatedProductCollection",809],"(",")",["T_WHITESPACE","\n    ",809],"{",["T_WHITESPACE","\n        ",810],["T_VARIABLE","$collection",811],["T_WHITESPACE"," ",811],"=",["T_WHITESPACE"," ",811],["T_VARIABLE","$this",811],["T_OBJECT_OPERATOR","->",811],["T_STRING","getLinkInstance",811],"(",")",["T_OBJECT_OPERATOR","->",811],["T_STRING","useRelatedLinks",811],"(",")",["T_WHITESPACE","\n            ",811],["T_OBJECT_OPERATOR","->",812],["T_STRING","getProductCollection",812],"(",")",["T_WHITESPACE","\n            ",812],["T_OBJECT_OPERATOR","->",813],["T_STRING","setIsStrongMode",813],"(",")",";",["T_WHITESPACE","\n        ",813],["T_VARIABLE","$collection",814],["T_OBJECT_OPERATOR","->",814],["T_STRING","setProduct",814],"(",["T_VARIABLE","$this",814],")",";",["T_WHITESPACE","\n        ",814],["T_RETURN","return",815],["T_WHITESPACE"," ",815],["T_VARIABLE","$collection",815],";",["T_WHITESPACE","\n    ",815],"}",["T_WHITESPACE","\n\n    ",816],["T_DOC_COMMENT","\/**\n     * Retrieve collection related link\n     *\n     * @return Mage_Catalog_Model_Resource_Product_Link_Collection\n     *\/",818],["T_WHITESPACE","\n    ",822],["T_PUBLIC","public",823],["T_WHITESPACE"," ",823],["T_FUNCTION","function",823],["T_WHITESPACE"," ",823],["T_STRING","getRelatedLinkCollection",823],"(",")",["T_WHITESPACE","\n    ",823],"{",["T_WHITESPACE","\n        ",824],["T_VARIABLE","$collection",825],["T_WHITESPACE"," ",825],"=",["T_WHITESPACE"," ",825],["T_VARIABLE","$this",825],["T_OBJECT_OPERATOR","->",825],["T_STRING","getLinkInstance",825],"(",")",["T_OBJECT_OPERATOR","->",825],["T_STRING","useRelatedLinks",825],"(",")",["T_WHITESPACE","\n            ",825],["T_OBJECT_OPERATOR","->",826],["T_STRING","getLinkCollection",826],"(",")",";",["T_WHITESPACE","\n        ",826],["T_VARIABLE","$collection",827],["T_OBJECT_OPERATOR","->",827],["T_STRING","setProduct",827],"(",["T_VARIABLE","$this",827],")",";",["T_WHITESPACE","\n        ",827],["T_VARIABLE","$collection",828],["T_OBJECT_OPERATOR","->",828],["T_STRING","addLinkTypeIdFilter",828],"(",")",";",["T_WHITESPACE","\n        ",828],["T_VARIABLE","$collection",829],["T_OBJECT_OPERATOR","->",829],["T_STRING","addProductIdFilter",829],"(",")",";",["T_WHITESPACE","\n        ",829],["T_VARIABLE","$collection",830],["T_OBJECT_OPERATOR","->",830],["T_STRING","joinAttributes",830],"(",")",";",["T_WHITESPACE","\n        ",830],["T_RETURN","return",831],["T_WHITESPACE"," ",831],["T_VARIABLE","$collection",831],";",["T_WHITESPACE","\n    ",831],"}",["T_WHITESPACE","\n\n    ",832],["T_DOC_COMMENT","\/**\n     * Retrieve array of up sell products\n     *\n     * @return array\n     *\/",834],["T_WHITESPACE","\n    ",838],["T_PUBLIC","public",839],["T_WHITESPACE"," ",839],["T_FUNCTION","function",839],["T_WHITESPACE"," ",839],["T_STRING","getUpSellProducts",839],"(",")",["T_WHITESPACE","\n    ",839],"{",["T_WHITESPACE","\n        ",840],["T_IF","if",841],["T_WHITESPACE"," ",841],"(","!",["T_VARIABLE","$this",841],["T_OBJECT_OPERATOR","->",841],["T_STRING","hasUpSellProducts",841],"(",")",")",["T_WHITESPACE"," ",841],"{",["T_WHITESPACE","\n            ",841],["T_VARIABLE","$products",842],["T_WHITESPACE"," ",842],"=",["T_WHITESPACE"," ",842],["T_ARRAY","array",842],"(",")",";",["T_WHITESPACE","\n            ",842],["T_FOREACH","foreach",843],["T_WHITESPACE"," ",843],"(",["T_VARIABLE","$this",843],["T_OBJECT_OPERATOR","->",843],["T_STRING","getUpSellProductCollection",843],"(",")",["T_WHITESPACE"," ",843],["T_AS","as",843],["T_WHITESPACE"," ",843],["T_VARIABLE","$product",843],")",["T_WHITESPACE"," ",843],"{",["T_WHITESPACE","\n                ",843],["T_VARIABLE","$products",844],"[","]",["T_WHITESPACE"," ",844],"=",["T_WHITESPACE"," ",844],["T_VARIABLE","$product",844],";",["T_WHITESPACE","\n            ",844],"}",["T_WHITESPACE","\n            ",845],["T_VARIABLE","$this",846],["T_OBJECT_OPERATOR","->",846],["T_STRING","setUpSellProducts",846],"(",["T_VARIABLE","$products",846],")",";",["T_WHITESPACE","\n        ",846],"}",["T_WHITESPACE","\n        ",847],["T_RETURN","return",848],["T_WHITESPACE"," ",848],["T_VARIABLE","$this",848],["T_OBJECT_OPERATOR","->",848],["T_STRING","getData",848],"(",["T_CONSTANT_ENCAPSED_STRING","'up_sell_products'",848],")",";",["T_WHITESPACE","\n    ",848],"}",["T_WHITESPACE","\n\n    ",849],["T_DOC_COMMENT","\/**\n     * Retrieve up sell products identifiers\n     *\n     * @return array\n     *\/",851],["T_WHITESPACE","\n    ",855],["T_PUBLIC","public",856],["T_WHITESPACE"," ",856],["T_FUNCTION","function",856],["T_WHITESPACE"," ",856],["T_STRING","getUpSellProductIds",856],"(",")",["T_WHITESPACE","\n    ",856],"{",["T_WHITESPACE","\n        ",857],["T_IF","if",858],["T_WHITESPACE"," ",858],"(","!",["T_VARIABLE","$this",858],["T_OBJECT_OPERATOR","->",858],["T_STRING","hasUpSellProductIds",858],"(",")",")",["T_WHITESPACE"," ",858],"{",["T_WHITESPACE","\n            ",858],["T_VARIABLE","$ids",859],["T_WHITESPACE"," ",859],"=",["T_WHITESPACE"," ",859],["T_ARRAY","array",859],"(",")",";",["T_WHITESPACE","\n            ",859],["T_FOREACH","foreach",860],["T_WHITESPACE"," ",860],"(",["T_VARIABLE","$this",860],["T_OBJECT_OPERATOR","->",860],["T_STRING","getUpSellProducts",860],"(",")",["T_WHITESPACE"," ",860],["T_AS","as",860],["T_WHITESPACE"," ",860],["T_VARIABLE","$product",860],")",["T_WHITESPACE"," ",860],"{",["T_WHITESPACE","\n                ",860],["T_VARIABLE","$ids",861],"[","]",["T_WHITESPACE"," ",861],"=",["T_WHITESPACE"," ",861],["T_VARIABLE","$product",861],["T_OBJECT_OPERATOR","->",861],["T_STRING","getId",861],"(",")",";",["T_WHITESPACE","\n            ",861],"}",["T_WHITESPACE","\n            ",862],["T_VARIABLE","$this",863],["T_OBJECT_OPERATOR","->",863],["T_STRING","setUpSellProductIds",863],"(",["T_VARIABLE","$ids",863],")",";",["T_WHITESPACE","\n        ",863],"}",["T_WHITESPACE","\n        ",864],["T_RETURN","return",865],["T_WHITESPACE"," ",865],["T_VARIABLE","$this",865],["T_OBJECT_OPERATOR","->",865],["T_STRING","getData",865],"(",["T_CONSTANT_ENCAPSED_STRING","'up_sell_product_ids'",865],")",";",["T_WHITESPACE","\n    ",865],"}",["T_WHITESPACE","\n\n    ",866],["T_DOC_COMMENT","\/**\n     * Retrieve collection up sell product\n     *\n     * @return Mage_Catalog_Model_Resource_Product_Link_Product_Collection\n     *\/",868],["T_WHITESPACE","\n    ",872],["T_PUBLIC","public",873],["T_WHITESPACE"," ",873],["T_FUNCTION","function",873],["T_WHITESPACE"," ",873],["T_STRING","getUpSellProductCollection",873],"(",")",["T_WHITESPACE","\n    ",873],"{",["T_WHITESPACE","\n        ",874],["T_VARIABLE","$collection",875],["T_WHITESPACE"," ",875],"=",["T_WHITESPACE"," ",875],["T_VARIABLE","$this",875],["T_OBJECT_OPERATOR","->",875],["T_STRING","getLinkInstance",875],"(",")",["T_OBJECT_OPERATOR","->",875],["T_STRING","useUpSellLinks",875],"(",")",["T_WHITESPACE","\n            ",875],["T_OBJECT_OPERATOR","->",876],["T_STRING","getProductCollection",876],"(",")",["T_WHITESPACE","\n            ",876],["T_OBJECT_OPERATOR","->",877],["T_STRING","setIsStrongMode",877],"(",")",";",["T_WHITESPACE","\n        ",877],["T_VARIABLE","$collection",878],["T_OBJECT_OPERATOR","->",878],["T_STRING","setProduct",878],"(",["T_VARIABLE","$this",878],")",";",["T_WHITESPACE","\n        ",878],["T_RETURN","return",879],["T_WHITESPACE"," ",879],["T_VARIABLE","$collection",879],";",["T_WHITESPACE","\n    ",879],"}",["T_WHITESPACE","\n\n    ",880],["T_DOC_COMMENT","\/**\n     * Retrieve collection up sell link\n     *\n     * @return Mage_Catalog_Model_Resource_Product_Link_Collection\n     *\/",882],["T_WHITESPACE","\n    ",886],["T_PUBLIC","public",887],["T_WHITESPACE"," ",887],["T_FUNCTION","function",887],["T_WHITESPACE"," ",887],["T_STRING","getUpSellLinkCollection",887],"(",")",["T_WHITESPACE","\n    ",887],"{",["T_WHITESPACE","\n        ",888],["T_VARIABLE","$collection",889],["T_WHITESPACE"," ",889],"=",["T_WHITESPACE"," ",889],["T_VARIABLE","$this",889],["T_OBJECT_OPERATOR","->",889],["T_STRING","getLinkInstance",889],"(",")",["T_OBJECT_OPERATOR","->",889],["T_STRING","useUpSellLinks",889],"(",")",["T_WHITESPACE","\n            ",889],["T_OBJECT_OPERATOR","->",890],["T_STRING","getLinkCollection",890],"(",")",";",["T_WHITESPACE","\n        ",890],["T_VARIABLE","$collection",891],["T_OBJECT_OPERATOR","->",891],["T_STRING","setProduct",891],"(",["T_VARIABLE","$this",891],")",";",["T_WHITESPACE","\n        ",891],["T_VARIABLE","$collection",892],["T_OBJECT_OPERATOR","->",892],["T_STRING","addLinkTypeIdFilter",892],"(",")",";",["T_WHITESPACE","\n        ",892],["T_VARIABLE","$collection",893],["T_OBJECT_OPERATOR","->",893],["T_STRING","addProductIdFilter",893],"(",")",";",["T_WHITESPACE","\n        ",893],["T_VARIABLE","$collection",894],["T_OBJECT_OPERATOR","->",894],["T_STRING","joinAttributes",894],"(",")",";",["T_WHITESPACE","\n        ",894],["T_RETURN","return",895],["T_WHITESPACE"," ",895],["T_VARIABLE","$collection",895],";",["T_WHITESPACE","\n    ",895],"}",["T_WHITESPACE","\n\n    ",896],["T_DOC_COMMENT","\/**\n     * Retrieve array of cross sell products\n     *\n     * @return array\n     *\/",898],["T_WHITESPACE","\n    ",902],["T_PUBLIC","public",903],["T_WHITESPACE"," ",903],["T_FUNCTION","function",903],["T_WHITESPACE"," ",903],["T_STRING","getCrossSellProducts",903],"(",")",["T_WHITESPACE","\n    ",903],"{",["T_WHITESPACE","\n        ",904],["T_IF","if",905],["T_WHITESPACE"," ",905],"(","!",["T_VARIABLE","$this",905],["T_OBJECT_OPERATOR","->",905],["T_STRING","hasCrossSellProducts",905],"(",")",")",["T_WHITESPACE"," ",905],"{",["T_WHITESPACE","\n            ",905],["T_VARIABLE","$products",906],["T_WHITESPACE"," ",906],"=",["T_WHITESPACE"," ",906],["T_ARRAY","array",906],"(",")",";",["T_WHITESPACE","\n            ",906],["T_FOREACH","foreach",907],["T_WHITESPACE"," ",907],"(",["T_VARIABLE","$this",907],["T_OBJECT_OPERATOR","->",907],["T_STRING","getCrossSellProductCollection",907],"(",")",["T_WHITESPACE"," ",907],["T_AS","as",907],["T_WHITESPACE"," ",907],["T_VARIABLE","$product",907],")",["T_WHITESPACE"," ",907],"{",["T_WHITESPACE","\n                ",907],["T_VARIABLE","$products",908],"[","]",["T_WHITESPACE"," ",908],"=",["T_WHITESPACE"," ",908],["T_VARIABLE","$product",908],";",["T_WHITESPACE","\n            ",908],"}",["T_WHITESPACE","\n            ",909],["T_VARIABLE","$this",910],["T_OBJECT_OPERATOR","->",910],["T_STRING","setCrossSellProducts",910],"(",["T_VARIABLE","$products",910],")",";",["T_WHITESPACE","\n        ",910],"}",["T_WHITESPACE","\n        ",911],["T_RETURN","return",912],["T_WHITESPACE"," ",912],["T_VARIABLE","$this",912],["T_OBJECT_OPERATOR","->",912],["T_STRING","getData",912],"(",["T_CONSTANT_ENCAPSED_STRING","'cross_sell_products'",912],")",";",["T_WHITESPACE","\n    ",912],"}",["T_WHITESPACE","\n\n    ",913],["T_DOC_COMMENT","\/**\n     * Retrieve cross sell products identifiers\n     *\n     * @return array\n     *\/",915],["T_WHITESPACE","\n    ",919],["T_PUBLIC","public",920],["T_WHITESPACE"," ",920],["T_FUNCTION","function",920],["T_WHITESPACE"," ",920],["T_STRING","getCrossSellProductIds",920],"(",")",["T_WHITESPACE","\n    ",920],"{",["T_WHITESPACE","\n        ",921],["T_IF","if",922],["T_WHITESPACE"," ",922],"(","!",["T_VARIABLE","$this",922],["T_OBJECT_OPERATOR","->",922],["T_STRING","hasCrossSellProductIds",922],"(",")",")",["T_WHITESPACE"," ",922],"{",["T_WHITESPACE","\n            ",922],["T_VARIABLE","$ids",923],["T_WHITESPACE"," ",923],"=",["T_WHITESPACE"," ",923],["T_ARRAY","array",923],"(",")",";",["T_WHITESPACE","\n            ",923],["T_FOREACH","foreach",924],["T_WHITESPACE"," ",924],"(",["T_VARIABLE","$this",924],["T_OBJECT_OPERATOR","->",924],["T_STRING","getCrossSellProducts",924],"(",")",["T_WHITESPACE"," ",924],["T_AS","as",924],["T_WHITESPACE"," ",924],["T_VARIABLE","$product",924],")",["T_WHITESPACE"," ",924],"{",["T_WHITESPACE","\n                ",924],["T_VARIABLE","$ids",925],"[","]",["T_WHITESPACE"," ",925],"=",["T_WHITESPACE"," ",925],["T_VARIABLE","$product",925],["T_OBJECT_OPERATOR","->",925],["T_STRING","getId",925],"(",")",";",["T_WHITESPACE","\n            ",925],"}",["T_WHITESPACE","\n            ",926],["T_VARIABLE","$this",927],["T_OBJECT_OPERATOR","->",927],["T_STRING","setCrossSellProductIds",927],"(",["T_VARIABLE","$ids",927],")",";",["T_WHITESPACE","\n        ",927],"}",["T_WHITESPACE","\n        ",928],["T_RETURN","return",929],["T_WHITESPACE"," ",929],["T_VARIABLE","$this",929],["T_OBJECT_OPERATOR","->",929],["T_STRING","getData",929],"(",["T_CONSTANT_ENCAPSED_STRING","'cross_sell_product_ids'",929],")",";",["T_WHITESPACE","\n    ",929],"}",["T_WHITESPACE","\n\n    ",930],["T_DOC_COMMENT","\/**\n     * Retrieve collection cross sell product\n     *\n     * @return Mage_Catalog_Model_Resource_Eav_Mysql4_Product_Link_Product_Collection\n     *\/",932],["T_WHITESPACE","\n    ",936],["T_PUBLIC","public",937],["T_WHITESPACE"," ",937],["T_FUNCTION","function",937],["T_WHITESPACE"," ",937],["T_STRING","getCrossSellProductCollection",937],"(",")",["T_WHITESPACE","\n    ",937],"{",["T_WHITESPACE","\n        ",938],["T_VARIABLE","$collection",939],["T_WHITESPACE"," ",939],"=",["T_WHITESPACE"," ",939],["T_VARIABLE","$this",939],["T_OBJECT_OPERATOR","->",939],["T_STRING","getLinkInstance",939],"(",")",["T_OBJECT_OPERATOR","->",939],["T_STRING","useCrossSellLinks",939],"(",")",["T_WHITESPACE","\n            ",939],["T_OBJECT_OPERATOR","->",940],["T_STRING","getProductCollection",940],"(",")",["T_WHITESPACE","\n            ",940],["T_OBJECT_OPERATOR","->",941],["T_STRING","setIsStrongMode",941],"(",")",";",["T_WHITESPACE","\n        ",941],["T_VARIABLE","$collection",942],["T_OBJECT_OPERATOR","->",942],["T_STRING","setProduct",942],"(",["T_VARIABLE","$this",942],")",";",["T_WHITESPACE","\n        ",942],["T_RETURN","return",943],["T_WHITESPACE"," ",943],["T_VARIABLE","$collection",943],";",["T_WHITESPACE","\n    ",943],"}",["T_WHITESPACE","\n\n    ",944],["T_DOC_COMMENT","\/**\n     * Retrieve collection cross sell link\n     *\n     * @return Mage_Catalog_Model_Resource_Product_Link_Collection\n     *\/",946],["T_WHITESPACE","\n    ",950],["T_PUBLIC","public",951],["T_WHITESPACE"," ",951],["T_FUNCTION","function",951],["T_WHITESPACE"," ",951],["T_STRING","getCrossSellLinkCollection",951],"(",")",["T_WHITESPACE","\n    ",951],"{",["T_WHITESPACE","\n        ",952],["T_VARIABLE","$collection",953],["T_WHITESPACE"," ",953],"=",["T_WHITESPACE"," ",953],["T_VARIABLE","$this",953],["T_OBJECT_OPERATOR","->",953],["T_STRING","getLinkInstance",953],"(",")",["T_OBJECT_OPERATOR","->",953],["T_STRING","useCrossSellLinks",953],"(",")",["T_WHITESPACE","\n            ",953],["T_OBJECT_OPERATOR","->",954],["T_STRING","getLinkCollection",954],"(",")",";",["T_WHITESPACE","\n        ",954],["T_VARIABLE","$collection",955],["T_OBJECT_OPERATOR","->",955],["T_STRING","setProduct",955],"(",["T_VARIABLE","$this",955],")",";",["T_WHITESPACE","\n        ",955],["T_VARIABLE","$collection",956],["T_OBJECT_OPERATOR","->",956],["T_STRING","addLinkTypeIdFilter",956],"(",")",";",["T_WHITESPACE","\n        ",956],["T_VARIABLE","$collection",957],["T_OBJECT_OPERATOR","->",957],["T_STRING","addProductIdFilter",957],"(",")",";",["T_WHITESPACE","\n        ",957],["T_VARIABLE","$collection",958],["T_OBJECT_OPERATOR","->",958],["T_STRING","joinAttributes",958],"(",")",";",["T_WHITESPACE","\n        ",958],["T_RETURN","return",959],["T_WHITESPACE"," ",959],["T_VARIABLE","$collection",959],";",["T_WHITESPACE","\n    ",959],"}",["T_WHITESPACE","\n\n    ",960],["T_DOC_COMMENT","\/**\n     * Retrieve collection grouped link\n     *\n     * @return Mage_Catalog_Model_Resource_Product_Link_Collection\n     *\/",962],["T_WHITESPACE","\n    ",966],["T_PUBLIC","public",967],["T_WHITESPACE"," ",967],["T_FUNCTION","function",967],["T_WHITESPACE"," ",967],["T_STRING","getGroupedLinkCollection",967],"(",")",["T_WHITESPACE","\n    ",967],"{",["T_WHITESPACE","\n        ",968],["T_VARIABLE","$collection",969],["T_WHITESPACE"," ",969],"=",["T_WHITESPACE"," ",969],["T_VARIABLE","$this",969],["T_OBJECT_OPERATOR","->",969],["T_STRING","getLinkInstance",969],"(",")",["T_OBJECT_OPERATOR","->",969],["T_STRING","useGroupedLinks",969],"(",")",["T_WHITESPACE","\n            ",969],["T_OBJECT_OPERATOR","->",970],["T_STRING","getLinkCollection",970],"(",")",";",["T_WHITESPACE","\n        ",970],["T_VARIABLE","$collection",971],["T_OBJECT_OPERATOR","->",971],["T_STRING","setProduct",971],"(",["T_VARIABLE","$this",971],")",";",["T_WHITESPACE","\n        ",971],["T_VARIABLE","$collection",972],["T_OBJECT_OPERATOR","->",972],["T_STRING","addLinkTypeIdFilter",972],"(",")",";",["T_WHITESPACE","\n        ",972],["T_VARIABLE","$collection",973],["T_OBJECT_OPERATOR","->",973],["T_STRING","addProductIdFilter",973],"(",")",";",["T_WHITESPACE","\n        ",973],["T_VARIABLE","$collection",974],["T_OBJECT_OPERATOR","->",974],["T_STRING","joinAttributes",974],"(",")",";",["T_WHITESPACE","\n        ",974],["T_RETURN","return",975],["T_WHITESPACE"," ",975],["T_VARIABLE","$collection",975],";",["T_WHITESPACE","\n    ",975],"}",["T_WHITESPACE","\n\n",976],["T_COMMENT","\/*******************************************************************************\n ** Media API\n *\/",978],["T_WHITESPACE","\n    ",980],["T_DOC_COMMENT","\/**\n     * Retrive attributes for media gallery\n     *\n     * @return array\n     *\/",981],["T_WHITESPACE","\n    ",985],["T_PUBLIC","public",986],["T_WHITESPACE"," ",986],["T_FUNCTION","function",986],["T_WHITESPACE"," ",986],["T_STRING","getMediaAttributes",986],"(",")",["T_WHITESPACE","\n    ",986],"{",["T_WHITESPACE","\n        ",987],["T_IF","if",988],["T_WHITESPACE"," ",988],"(","!",["T_VARIABLE","$this",988],["T_OBJECT_OPERATOR","->",988],["T_STRING","hasMediaAttributes",988],"(",")",")",["T_WHITESPACE"," ",988],"{",["T_WHITESPACE","\n            ",988],["T_VARIABLE","$mediaAttributes",989],["T_WHITESPACE"," ",989],"=",["T_WHITESPACE"," ",989],["T_ARRAY","array",989],"(",")",";",["T_WHITESPACE","\n            ",989],["T_FOREACH","foreach",990],["T_WHITESPACE"," ",990],"(",["T_VARIABLE","$this",990],["T_OBJECT_OPERATOR","->",990],["T_STRING","getAttributes",990],"(",")",["T_WHITESPACE"," ",990],["T_AS","as",990],["T_WHITESPACE"," ",990],["T_VARIABLE","$attribute",990],")",["T_WHITESPACE"," ",990],"{",["T_WHITESPACE","\n                ",990],["T_IF","if",991],"(",["T_VARIABLE","$attribute",991],["T_OBJECT_OPERATOR","->",991],["T_STRING","getFrontend",991],"(",")",["T_OBJECT_OPERATOR","->",991],["T_STRING","getInputType",991],"(",")",["T_WHITESPACE"," ",991],["T_IS_EQUAL","==",991],["T_WHITESPACE"," ",991],["T_CONSTANT_ENCAPSED_STRING","'media_image'",991],")",["T_WHITESPACE"," ",991],"{",["T_WHITESPACE","\n                    ",991],["T_VARIABLE","$mediaAttributes",992],"[",["T_VARIABLE","$attribute",992],["T_OBJECT_OPERATOR","->",992],["T_STRING","getAttributeCode",992],"(",")","]",["T_WHITESPACE"," ",992],"=",["T_WHITESPACE"," ",992],["T_VARIABLE","$attribute",992],";",["T_WHITESPACE","\n                ",992],"}",["T_WHITESPACE","\n            ",993],"}",["T_WHITESPACE","\n            ",994],["T_VARIABLE","$this",995],["T_OBJECT_OPERATOR","->",995],["T_STRING","setMediaAttributes",995],"(",["T_VARIABLE","$mediaAttributes",995],")",";",["T_WHITESPACE","\n        ",995],"}",["T_WHITESPACE","\n        ",996],["T_RETURN","return",997],["T_WHITESPACE"," ",997],["T_VARIABLE","$this",997],["T_OBJECT_OPERATOR","->",997],["T_STRING","getData",997],"(",["T_CONSTANT_ENCAPSED_STRING","'media_attributes'",997],")",";",["T_WHITESPACE","\n    ",997],"}",["T_WHITESPACE","\n\n    ",998],["T_DOC_COMMENT","\/**\n     * Retrive media gallery images\n     *\n     * @return Varien_Data_Collection\n     *\/",1000],["T_WHITESPACE","\n    ",1004],["T_PUBLIC","public",1005],["T_WHITESPACE"," ",1005],["T_FUNCTION","function",1005],["T_WHITESPACE"," ",1005],["T_STRING","getMediaGalleryImages",1005],"(",")",["T_WHITESPACE","\n    ",1005],"{",["T_WHITESPACE","\n        ",1006],["T_IF","if",1007],"(","!",["T_VARIABLE","$this",1007],["T_OBJECT_OPERATOR","->",1007],["T_STRING","hasData",1007],"(",["T_CONSTANT_ENCAPSED_STRING","'media_gallery_images'",1007],")",["T_WHITESPACE"," ",1007],["T_BOOLEAN_AND","&&",1007],["T_WHITESPACE"," ",1007],["T_STRING","is_array",1007],"(",["T_VARIABLE","$this",1007],["T_OBJECT_OPERATOR","->",1007],["T_STRING","getMediaGallery",1007],"(",["T_CONSTANT_ENCAPSED_STRING","'images'",1007],")",")",")",["T_WHITESPACE"," ",1007],"{",["T_WHITESPACE","\n            ",1007],["T_VARIABLE","$images",1008],["T_WHITESPACE"," ",1008],"=",["T_WHITESPACE"," ",1008],["T_NEW","new",1008],["T_WHITESPACE"," ",1008],["T_STRING","Varien_Data_Collection",1008],"(",")",";",["T_WHITESPACE","\n            ",1008],["T_FOREACH","foreach",1009],["T_WHITESPACE"," ",1009],"(",["T_VARIABLE","$this",1009],["T_OBJECT_OPERATOR","->",1009],["T_STRING","getMediaGallery",1009],"(",["T_CONSTANT_ENCAPSED_STRING","'images'",1009],")",["T_WHITESPACE"," ",1009],["T_AS","as",1009],["T_WHITESPACE"," ",1009],["T_VARIABLE","$image",1009],")",["T_WHITESPACE"," ",1009],"{",["T_WHITESPACE","\n                ",1009],["T_IF","if",1010],["T_WHITESPACE"," ",1010],"(",["T_VARIABLE","$image",1010],"[",["T_CONSTANT_ENCAPSED_STRING","'disabled'",1010],"]",")",["T_WHITESPACE"," ",1010],"{",["T_WHITESPACE","\n                    ",1010],["T_CONTINUE","continue",1011],";",["T_WHITESPACE","\n                ",1011],"}",["T_WHITESPACE","\n                ",1012],["T_VARIABLE","$image",1013],"[",["T_CONSTANT_ENCAPSED_STRING","'url'",1013],"]",["T_WHITESPACE"," ",1013],"=",["T_WHITESPACE"," ",1013],["T_VARIABLE","$this",1013],["T_OBJECT_OPERATOR","->",1013],["T_STRING","getMediaConfig",1013],"(",")",["T_OBJECT_OPERATOR","->",1013],["T_STRING","getMediaUrl",1013],"(",["T_VARIABLE","$image",1013],"[",["T_CONSTANT_ENCAPSED_STRING","'file'",1013],"]",")",";",["T_WHITESPACE","\n                ",1013],["T_VARIABLE","$image",1014],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",1014],"]",["T_WHITESPACE"," ",1014],"=",["T_WHITESPACE"," ",1014],["T_ISSET","isset",1014],"(",["T_VARIABLE","$image",1014],"[",["T_CONSTANT_ENCAPSED_STRING","'value_id'",1014],"]",")",["T_WHITESPACE"," ",1014],"?",["T_WHITESPACE"," ",1014],["T_VARIABLE","$image",1014],"[",["T_CONSTANT_ENCAPSED_STRING","'value_id'",1014],"]",["T_WHITESPACE"," ",1014],":",["T_WHITESPACE"," ",1014],["T_STRING","null",1014],";",["T_WHITESPACE","\n                ",1014],["T_VARIABLE","$image",1015],"[",["T_CONSTANT_ENCAPSED_STRING","'path'",1015],"]",["T_WHITESPACE"," ",1015],"=",["T_WHITESPACE"," ",1015],["T_VARIABLE","$this",1015],["T_OBJECT_OPERATOR","->",1015],["T_STRING","getMediaConfig",1015],"(",")",["T_OBJECT_OPERATOR","->",1015],["T_STRING","getMediaPath",1015],"(",["T_VARIABLE","$image",1015],"[",["T_CONSTANT_ENCAPSED_STRING","'file'",1015],"]",")",";",["T_WHITESPACE","\n                ",1015],["T_VARIABLE","$images",1016],["T_OBJECT_OPERATOR","->",1016],["T_STRING","addItem",1016],"(",["T_NEW","new",1016],["T_WHITESPACE"," ",1016],["T_STRING","Varien_Object",1016],"(",["T_VARIABLE","$image",1016],")",")",";",["T_WHITESPACE","\n            ",1016],"}",["T_WHITESPACE","\n            ",1017],["T_VARIABLE","$this",1018],["T_OBJECT_OPERATOR","->",1018],["T_STRING","setData",1018],"(",["T_CONSTANT_ENCAPSED_STRING","'media_gallery_images'",1018],",",["T_WHITESPACE"," ",1018],["T_VARIABLE","$images",1018],")",";",["T_WHITESPACE","\n        ",1018],"}",["T_WHITESPACE","\n\n        ",1019],["T_RETURN","return",1021],["T_WHITESPACE"," ",1021],["T_VARIABLE","$this",1021],["T_OBJECT_OPERATOR","->",1021],["T_STRING","getData",1021],"(",["T_CONSTANT_ENCAPSED_STRING","'media_gallery_images'",1021],")",";",["T_WHITESPACE","\n    ",1021],"}",["T_WHITESPACE","\n\n    ",1022],["T_DOC_COMMENT","\/**\n     * Add image to media gallery\n     *\n     * @param string        $file              file path of image in file system\n     * @param string|array  $mediaAttribute    code of attribute with type 'media_image',\n     *                                          leave blank if image should be only in gallery\n     * @param boolean       $move              if true, it will move source file\n     * @param boolean       $exclude           mark image as disabled in product page view\n     * @return Mage_Catalog_Model_Product\n     *\/",1024],["T_WHITESPACE","\n    ",1033],["T_PUBLIC","public",1034],["T_WHITESPACE"," ",1034],["T_FUNCTION","function",1034],["T_WHITESPACE"," ",1034],["T_STRING","addImageToMediaGallery",1034],"(",["T_VARIABLE","$file",1034],",",["T_WHITESPACE"," ",1034],["T_VARIABLE","$mediaAttribute",1034],"=",["T_STRING","null",1034],",",["T_WHITESPACE"," ",1034],["T_VARIABLE","$move",1034],"=",["T_STRING","false",1034],",",["T_WHITESPACE"," ",1034],["T_VARIABLE","$exclude",1034],"=",["T_STRING","true",1034],")",["T_WHITESPACE","\n    ",1034],"{",["T_WHITESPACE","\n        ",1035],["T_VARIABLE","$attributes",1036],["T_WHITESPACE"," ",1036],"=",["T_WHITESPACE"," ",1036],["T_VARIABLE","$this",1036],["T_OBJECT_OPERATOR","->",1036],["T_STRING","getTypeInstance",1036],"(",["T_STRING","true",1036],")",["T_OBJECT_OPERATOR","->",1036],["T_STRING","getSetAttributes",1036],"(",["T_VARIABLE","$this",1036],")",";",["T_WHITESPACE","\n        ",1036],["T_IF","if",1037],["T_WHITESPACE"," ",1037],"(","!",["T_ISSET","isset",1037],"(",["T_VARIABLE","$attributes",1037],"[",["T_CONSTANT_ENCAPSED_STRING","'media_gallery'",1037],"]",")",")",["T_WHITESPACE"," ",1037],"{",["T_WHITESPACE","\n            ",1037],["T_RETURN","return",1038],["T_WHITESPACE"," ",1038],["T_VARIABLE","$this",1038],";",["T_WHITESPACE","\n        ",1038],"}",["T_WHITESPACE","\n        ",1039],["T_VARIABLE","$mediaGalleryAttribute",1040],["T_WHITESPACE"," ",1040],"=",["T_WHITESPACE"," ",1040],["T_VARIABLE","$attributes",1040],"[",["T_CONSTANT_ENCAPSED_STRING","'media_gallery'",1040],"]",";",["T_WHITESPACE","\n        ",1040],["T_COMMENT","\/* @var $mediaGalleryAttribute Mage_Catalog_Model_Resource_Eav_Attribute *\/",1041],["T_WHITESPACE","\n        ",1041],["T_VARIABLE","$mediaGalleryAttribute",1042],["T_OBJECT_OPERATOR","->",1042],["T_STRING","getBackend",1042],"(",")",["T_OBJECT_OPERATOR","->",1042],["T_STRING","addImage",1042],"(",["T_VARIABLE","$this",1042],",",["T_WHITESPACE"," ",1042],["T_VARIABLE","$file",1042],",",["T_WHITESPACE"," ",1042],["T_VARIABLE","$mediaAttribute",1042],",",["T_WHITESPACE"," ",1042],["T_VARIABLE","$move",1042],",",["T_WHITESPACE"," ",1042],["T_VARIABLE","$exclude",1042],")",";",["T_WHITESPACE","\n        ",1042],["T_RETURN","return",1043],["T_WHITESPACE"," ",1043],["T_VARIABLE","$this",1043],";",["T_WHITESPACE","\n    ",1043],"}",["T_WHITESPACE","\n\n    ",1044],["T_DOC_COMMENT","\/**\n     * Retrive product media config\n     *\n     * @return Mage_Catalog_Model_Product_Media_Config\n     *\/",1046],["T_WHITESPACE","\n    ",1050],["T_PUBLIC","public",1051],["T_WHITESPACE"," ",1051],["T_FUNCTION","function",1051],["T_WHITESPACE"," ",1051],["T_STRING","getMediaConfig",1051],"(",")",["T_WHITESPACE","\n    ",1051],"{",["T_WHITESPACE","\n        ",1052],["T_RETURN","return",1053],["T_WHITESPACE"," ",1053],["T_STRING","Mage",1053],["T_DOUBLE_COLON","::",1053],["T_STRING","getSingleton",1053],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog\/product_media_config'",1053],")",";",["T_WHITESPACE","\n    ",1053],"}",["T_WHITESPACE","\n\n    ",1054],["T_DOC_COMMENT","\/**\n     * Create duplicate\n     *\n     * @return Mage_Catalog_Model_Product\n     *\/",1056],["T_WHITESPACE","\n    ",1060],["T_PUBLIC","public",1061],["T_WHITESPACE"," ",1061],["T_FUNCTION","function",1061],["T_WHITESPACE"," ",1061],["T_STRING","duplicate",1061],"(",")",["T_WHITESPACE","\n    ",1061],"{",["T_WHITESPACE","\n        ",1062],["T_VARIABLE","$this",1063],["T_OBJECT_OPERATOR","->",1063],["T_STRING","getWebsiteIds",1063],"(",")",";",["T_WHITESPACE","\n        ",1063],["T_VARIABLE","$this",1064],["T_OBJECT_OPERATOR","->",1064],["T_STRING","getCategoryIds",1064],"(",")",";",["T_WHITESPACE","\n\n        ",1064],["T_COMMENT","\/* @var $newProduct Mage_Catalog_Model_Product *\/",1066],["T_WHITESPACE","\n        ",1066],["T_VARIABLE","$newProduct",1067],["T_WHITESPACE"," ",1067],"=",["T_WHITESPACE"," ",1067],["T_STRING","Mage",1067],["T_DOUBLE_COLON","::",1067],["T_STRING","getModel",1067],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog\/product'",1067],")",["T_OBJECT_OPERATOR","->",1067],["T_STRING","setData",1067],"(",["T_VARIABLE","$this",1067],["T_OBJECT_OPERATOR","->",1067],["T_STRING","getData",1067],"(",")",")",["T_WHITESPACE","\n            ",1067],["T_OBJECT_OPERATOR","->",1068],["T_STRING","setIsDuplicate",1068],"(",["T_STRING","true",1068],")",["T_WHITESPACE","\n            ",1068],["T_OBJECT_OPERATOR","->",1069],["T_STRING","setOriginalId",1069],"(",["T_VARIABLE","$this",1069],["T_OBJECT_OPERATOR","->",1069],["T_STRING","getId",1069],"(",")",")",["T_WHITESPACE","\n            ",1069],["T_OBJECT_OPERATOR","->",1070],["T_STRING","setSku",1070],"(",["T_STRING","null",1070],")",["T_WHITESPACE","\n            ",1070],["T_OBJECT_OPERATOR","->",1071],["T_STRING","setStatus",1071],"(",["T_STRING","Mage_Catalog_Model_Product_Status",1071],["T_DOUBLE_COLON","::",1071],["T_STRING","STATUS_DISABLED",1071],")",["T_WHITESPACE","\n            ",1071],["T_OBJECT_OPERATOR","->",1072],["T_STRING","setCreatedAt",1072],"(",["T_STRING","null",1072],")",["T_WHITESPACE","\n            ",1072],["T_OBJECT_OPERATOR","->",1073],["T_STRING","setUpdatedAt",1073],"(",["T_STRING","null",1073],")",["T_WHITESPACE","\n            ",1073],["T_OBJECT_OPERATOR","->",1074],["T_STRING","setId",1074],"(",["T_STRING","null",1074],")",["T_WHITESPACE","\n            ",1074],["T_OBJECT_OPERATOR","->",1075],["T_STRING","setStoreId",1075],"(",["T_STRING","Mage",1075],["T_DOUBLE_COLON","::",1075],["T_STRING","app",1075],"(",")",["T_OBJECT_OPERATOR","->",1075],["T_STRING","getStore",1075],"(",")",["T_OBJECT_OPERATOR","->",1075],["T_STRING","getId",1075],"(",")",")",";",["T_WHITESPACE","\n\n        ",1075],["T_STRING","Mage",1077],["T_DOUBLE_COLON","::",1077],["T_STRING","dispatchEvent",1077],"(",["T_WHITESPACE","\n            ",1077],["T_CONSTANT_ENCAPSED_STRING","'catalog_model_product_duplicate'",1078],",",["T_WHITESPACE","\n            ",1078],["T_ARRAY","array",1079],"(",["T_CONSTANT_ENCAPSED_STRING","'current_product'",1079],["T_WHITESPACE"," ",1079],["T_DOUBLE_ARROW","=>",1079],["T_WHITESPACE"," ",1079],["T_VARIABLE","$this",1079],",",["T_WHITESPACE"," ",1079],["T_CONSTANT_ENCAPSED_STRING","'new_product'",1079],["T_WHITESPACE"," ",1079],["T_DOUBLE_ARROW","=>",1079],["T_WHITESPACE"," ",1079],["T_VARIABLE","$newProduct",1079],")",["T_WHITESPACE","\n        ",1079],")",";",["T_WHITESPACE","\n\n        ",1080],["T_COMMENT","\/* Prepare Related*\/",1082],["T_WHITESPACE","\n        ",1082],["T_VARIABLE","$data",1083],["T_WHITESPACE"," ",1083],"=",["T_WHITESPACE"," ",1083],["T_ARRAY","array",1083],"(",")",";",["T_WHITESPACE","\n        ",1083],["T_VARIABLE","$this",1084],["T_OBJECT_OPERATOR","->",1084],["T_STRING","getLinkInstance",1084],"(",")",["T_OBJECT_OPERATOR","->",1084],["T_STRING","useRelatedLinks",1084],"(",")",";",["T_WHITESPACE","\n        ",1084],["T_VARIABLE","$attributes",1085],["T_WHITESPACE"," ",1085],"=",["T_WHITESPACE"," ",1085],["T_ARRAY","array",1085],"(",")",";",["T_WHITESPACE","\n        ",1085],["T_FOREACH","foreach",1086],["T_WHITESPACE"," ",1086],"(",["T_VARIABLE","$this",1086],["T_OBJECT_OPERATOR","->",1086],["T_STRING","getLinkInstance",1086],"(",")",["T_OBJECT_OPERATOR","->",1086],["T_STRING","getAttributes",1086],"(",")",["T_WHITESPACE"," ",1086],["T_AS","as",1086],["T_WHITESPACE"," ",1086],["T_VARIABLE","$_attribute",1086],")",["T_WHITESPACE"," ",1086],"{",["T_WHITESPACE","\n            ",1086],["T_IF","if",1087],["T_WHITESPACE"," ",1087],"(",["T_ISSET","isset",1087],"(",["T_VARIABLE","$_attribute",1087],"[",["T_CONSTANT_ENCAPSED_STRING","'code'",1087],"]",")",")",["T_WHITESPACE"," ",1087],"{",["T_WHITESPACE","\n                ",1087],["T_VARIABLE","$attributes",1088],"[","]",["T_WHITESPACE"," ",1088],"=",["T_WHITESPACE"," ",1088],["T_VARIABLE","$_attribute",1088],"[",["T_CONSTANT_ENCAPSED_STRING","'code'",1088],"]",";",["T_WHITESPACE","\n            ",1088],"}",["T_WHITESPACE","\n        ",1089],"}",["T_WHITESPACE","\n        ",1090],["T_FOREACH","foreach",1091],["T_WHITESPACE"," ",1091],"(",["T_VARIABLE","$this",1091],["T_OBJECT_OPERATOR","->",1091],["T_STRING","getRelatedLinkCollection",1091],"(",")",["T_WHITESPACE"," ",1091],["T_AS","as",1091],["T_WHITESPACE"," ",1091],["T_VARIABLE","$_link",1091],")",["T_WHITESPACE"," ",1091],"{",["T_WHITESPACE","\n            ",1091],["T_VARIABLE","$data",1092],"[",["T_VARIABLE","$_link",1092],["T_OBJECT_OPERATOR","->",1092],["T_STRING","getLinkedProductId",1092],"(",")","]",["T_WHITESPACE"," ",1092],"=",["T_WHITESPACE"," ",1092],["T_VARIABLE","$_link",1092],["T_OBJECT_OPERATOR","->",1092],["T_STRING","toArray",1092],"(",["T_VARIABLE","$attributes",1092],")",";",["T_WHITESPACE","\n        ",1092],"}",["T_WHITESPACE","\n        ",1093],["T_VARIABLE","$newProduct",1094],["T_OBJECT_OPERATOR","->",1094],["T_STRING","setRelatedLinkData",1094],"(",["T_VARIABLE","$data",1094],")",";",["T_WHITESPACE","\n\n        ",1094],["T_COMMENT","\/* Prepare UpSell*\/",1096],["T_WHITESPACE","\n        ",1096],["T_VARIABLE","$data",1097],["T_WHITESPACE"," ",1097],"=",["T_WHITESPACE"," ",1097],["T_ARRAY","array",1097],"(",")",";",["T_WHITESPACE","\n        ",1097],["T_VARIABLE","$this",1098],["T_OBJECT_OPERATOR","->",1098],["T_STRING","getLinkInstance",1098],"(",")",["T_OBJECT_OPERATOR","->",1098],["T_STRING","useUpSellLinks",1098],"(",")",";",["T_WHITESPACE","\n        ",1098],["T_VARIABLE","$attributes",1099],["T_WHITESPACE"," ",1099],"=",["T_WHITESPACE"," ",1099],["T_ARRAY","array",1099],"(",")",";",["T_WHITESPACE","\n        ",1099],["T_FOREACH","foreach",1100],["T_WHITESPACE"," ",1100],"(",["T_VARIABLE","$this",1100],["T_OBJECT_OPERATOR","->",1100],["T_STRING","getLinkInstance",1100],"(",")",["T_OBJECT_OPERATOR","->",1100],["T_STRING","getAttributes",1100],"(",")",["T_WHITESPACE"," ",1100],["T_AS","as",1100],["T_WHITESPACE"," ",1100],["T_VARIABLE","$_attribute",1100],")",["T_WHITESPACE"," ",1100],"{",["T_WHITESPACE","\n            ",1100],["T_IF","if",1101],["T_WHITESPACE"," ",1101],"(",["T_ISSET","isset",1101],"(",["T_VARIABLE","$_attribute",1101],"[",["T_CONSTANT_ENCAPSED_STRING","'code'",1101],"]",")",")",["T_WHITESPACE"," ",1101],"{",["T_WHITESPACE","\n                ",1101],["T_VARIABLE","$attributes",1102],"[","]",["T_WHITESPACE"," ",1102],"=",["T_WHITESPACE"," ",1102],["T_VARIABLE","$_attribute",1102],"[",["T_CONSTANT_ENCAPSED_STRING","'code'",1102],"]",";",["T_WHITESPACE","\n            ",1102],"}",["T_WHITESPACE","\n        ",1103],"}",["T_WHITESPACE","\n        ",1104],["T_FOREACH","foreach",1105],["T_WHITESPACE"," ",1105],"(",["T_VARIABLE","$this",1105],["T_OBJECT_OPERATOR","->",1105],["T_STRING","getUpSellLinkCollection",1105],"(",")",["T_WHITESPACE"," ",1105],["T_AS","as",1105],["T_WHITESPACE"," ",1105],["T_VARIABLE","$_link",1105],")",["T_WHITESPACE"," ",1105],"{",["T_WHITESPACE","\n            ",1105],["T_VARIABLE","$data",1106],"[",["T_VARIABLE","$_link",1106],["T_OBJECT_OPERATOR","->",1106],["T_STRING","getLinkedProductId",1106],"(",")","]",["T_WHITESPACE"," ",1106],"=",["T_WHITESPACE"," ",1106],["T_VARIABLE","$_link",1106],["T_OBJECT_OPERATOR","->",1106],["T_STRING","toArray",1106],"(",["T_VARIABLE","$attributes",1106],")",";",["T_WHITESPACE","\n        ",1106],"}",["T_WHITESPACE","\n        ",1107],["T_VARIABLE","$newProduct",1108],["T_OBJECT_OPERATOR","->",1108],["T_STRING","setUpSellLinkData",1108],"(",["T_VARIABLE","$data",1108],")",";",["T_WHITESPACE","\n\n        ",1108],["T_COMMENT","\/* Prepare Cross Sell *\/",1110],["T_WHITESPACE","\n        ",1110],["T_VARIABLE","$data",1111],["T_WHITESPACE"," ",1111],"=",["T_WHITESPACE"," ",1111],["T_ARRAY","array",1111],"(",")",";",["T_WHITESPACE","\n        ",1111],["T_VARIABLE","$this",1112],["T_OBJECT_OPERATOR","->",1112],["T_STRING","getLinkInstance",1112],"(",")",["T_OBJECT_OPERATOR","->",1112],["T_STRING","useCrossSellLinks",1112],"(",")",";",["T_WHITESPACE","\n        ",1112],["T_VARIABLE","$attributes",1113],["T_WHITESPACE"," ",1113],"=",["T_WHITESPACE"," ",1113],["T_ARRAY","array",1113],"(",")",";",["T_WHITESPACE","\n        ",1113],["T_FOREACH","foreach",1114],["T_WHITESPACE"," ",1114],"(",["T_VARIABLE","$this",1114],["T_OBJECT_OPERATOR","->",1114],["T_STRING","getLinkInstance",1114],"(",")",["T_OBJECT_OPERATOR","->",1114],["T_STRING","getAttributes",1114],"(",")",["T_WHITESPACE"," ",1114],["T_AS","as",1114],["T_WHITESPACE"," ",1114],["T_VARIABLE","$_attribute",1114],")",["T_WHITESPACE"," ",1114],"{",["T_WHITESPACE","\n            ",1114],["T_IF","if",1115],["T_WHITESPACE"," ",1115],"(",["T_ISSET","isset",1115],"(",["T_VARIABLE","$_attribute",1115],"[",["T_CONSTANT_ENCAPSED_STRING","'code'",1115],"]",")",")",["T_WHITESPACE"," ",1115],"{",["T_WHITESPACE","\n                ",1115],["T_VARIABLE","$attributes",1116],"[","]",["T_WHITESPACE"," ",1116],"=",["T_WHITESPACE"," ",1116],["T_VARIABLE","$_attribute",1116],"[",["T_CONSTANT_ENCAPSED_STRING","'code'",1116],"]",";",["T_WHITESPACE","\n            ",1116],"}",["T_WHITESPACE","\n        ",1117],"}",["T_WHITESPACE","\n        ",1118],["T_FOREACH","foreach",1119],["T_WHITESPACE"," ",1119],"(",["T_VARIABLE","$this",1119],["T_OBJECT_OPERATOR","->",1119],["T_STRING","getCrossSellLinkCollection",1119],"(",")",["T_WHITESPACE"," ",1119],["T_AS","as",1119],["T_WHITESPACE"," ",1119],["T_VARIABLE","$_link",1119],")",["T_WHITESPACE"," ",1119],"{",["T_WHITESPACE","\n            ",1119],["T_VARIABLE","$data",1120],"[",["T_VARIABLE","$_link",1120],["T_OBJECT_OPERATOR","->",1120],["T_STRING","getLinkedProductId",1120],"(",")","]",["T_WHITESPACE"," ",1120],"=",["T_WHITESPACE"," ",1120],["T_VARIABLE","$_link",1120],["T_OBJECT_OPERATOR","->",1120],["T_STRING","toArray",1120],"(",["T_VARIABLE","$attributes",1120],")",";",["T_WHITESPACE","\n        ",1120],"}",["T_WHITESPACE","\n        ",1121],["T_VARIABLE","$newProduct",1122],["T_OBJECT_OPERATOR","->",1122],["T_STRING","setCrossSellLinkData",1122],"(",["T_VARIABLE","$data",1122],")",";",["T_WHITESPACE","\n\n        ",1122],["T_COMMENT","\/* Prepare Grouped *\/",1124],["T_WHITESPACE","\n        ",1124],["T_VARIABLE","$data",1125],["T_WHITESPACE"," ",1125],"=",["T_WHITESPACE"," ",1125],["T_ARRAY","array",1125],"(",")",";",["T_WHITESPACE","\n        ",1125],["T_VARIABLE","$this",1126],["T_OBJECT_OPERATOR","->",1126],["T_STRING","getLinkInstance",1126],"(",")",["T_OBJECT_OPERATOR","->",1126],["T_STRING","useGroupedLinks",1126],"(",")",";",["T_WHITESPACE","\n        ",1126],["T_VARIABLE","$attributes",1127],["T_WHITESPACE"," ",1127],"=",["T_WHITESPACE"," ",1127],["T_ARRAY","array",1127],"(",")",";",["T_WHITESPACE","\n        ",1127],["T_FOREACH","foreach",1128],["T_WHITESPACE"," ",1128],"(",["T_VARIABLE","$this",1128],["T_OBJECT_OPERATOR","->",1128],["T_STRING","getLinkInstance",1128],"(",")",["T_OBJECT_OPERATOR","->",1128],["T_STRING","getAttributes",1128],"(",")",["T_WHITESPACE"," ",1128],["T_AS","as",1128],["T_WHITESPACE"," ",1128],["T_VARIABLE","$_attribute",1128],")",["T_WHITESPACE"," ",1128],"{",["T_WHITESPACE","\n            ",1128],["T_IF","if",1129],["T_WHITESPACE"," ",1129],"(",["T_ISSET","isset",1129],"(",["T_VARIABLE","$_attribute",1129],"[",["T_CONSTANT_ENCAPSED_STRING","'code'",1129],"]",")",")",["T_WHITESPACE"," ",1129],"{",["T_WHITESPACE","\n                ",1129],["T_VARIABLE","$attributes",1130],"[","]",["T_WHITESPACE"," ",1130],"=",["T_WHITESPACE"," ",1130],["T_VARIABLE","$_attribute",1130],"[",["T_CONSTANT_ENCAPSED_STRING","'code'",1130],"]",";",["T_WHITESPACE","\n            ",1130],"}",["T_WHITESPACE","\n        ",1131],"}",["T_WHITESPACE","\n        ",1132],["T_FOREACH","foreach",1133],["T_WHITESPACE"," ",1133],"(",["T_VARIABLE","$this",1133],["T_OBJECT_OPERATOR","->",1133],["T_STRING","getGroupedLinkCollection",1133],"(",")",["T_WHITESPACE"," ",1133],["T_AS","as",1133],["T_WHITESPACE"," ",1133],["T_VARIABLE","$_link",1133],")",["T_WHITESPACE"," ",1133],"{",["T_WHITESPACE","\n            ",1133],["T_VARIABLE","$data",1134],"[",["T_VARIABLE","$_link",1134],["T_OBJECT_OPERATOR","->",1134],["T_STRING","getLinkedProductId",1134],"(",")","]",["T_WHITESPACE"," ",1134],"=",["T_WHITESPACE"," ",1134],["T_VARIABLE","$_link",1134],["T_OBJECT_OPERATOR","->",1134],["T_STRING","toArray",1134],"(",["T_VARIABLE","$attributes",1134],")",";",["T_WHITESPACE","\n        ",1134],"}",["T_WHITESPACE","\n        ",1135],["T_VARIABLE","$newProduct",1136],["T_OBJECT_OPERATOR","->",1136],["T_STRING","setGroupedLinkData",1136],"(",["T_VARIABLE","$data",1136],")",";",["T_WHITESPACE","\n\n        ",1136],["T_VARIABLE","$newProduct",1138],["T_OBJECT_OPERATOR","->",1138],["T_STRING","save",1138],"(",")",";",["T_WHITESPACE","\n\n        ",1138],["T_VARIABLE","$this",1140],["T_OBJECT_OPERATOR","->",1140],["T_STRING","getOptionInstance",1140],"(",")",["T_OBJECT_OPERATOR","->",1140],["T_STRING","duplicate",1140],"(",["T_VARIABLE","$this",1140],["T_OBJECT_OPERATOR","->",1140],["T_STRING","getId",1140],"(",")",",",["T_WHITESPACE"," ",1140],["T_VARIABLE","$newProduct",1140],["T_OBJECT_OPERATOR","->",1140],["T_STRING","getId",1140],"(",")",")",";",["T_WHITESPACE","\n        ",1140],["T_VARIABLE","$this",1141],["T_OBJECT_OPERATOR","->",1141],["T_STRING","getResource",1141],"(",")",["T_OBJECT_OPERATOR","->",1141],["T_STRING","duplicate",1141],"(",["T_VARIABLE","$this",1141],["T_OBJECT_OPERATOR","->",1141],["T_STRING","getId",1141],"(",")",",",["T_WHITESPACE"," ",1141],["T_VARIABLE","$newProduct",1141],["T_OBJECT_OPERATOR","->",1141],["T_STRING","getId",1141],"(",")",")",";",["T_WHITESPACE","\n\n        ",1141],["T_COMMENT","\/\/ TODO - duplicate product on all stores of the websites it is associated with\n",1143],["T_WHITESPACE","        ",1144],["T_COMMENT","\/*if ($storeIds = $this->getWebsiteIds()) {\n            foreach ($storeIds as $storeId) {\n                $this->setStoreId($storeId)\n                   ->load($this->getId());\n\n                $newProduct->setData($this->getData())\n                    ->setSku(null)\n                    ->setStatus(Mage_Catalog_Model_Product_Status::STATUS_DISABLED)\n                    ->setId($newId)\n                    ->save();\n            }\n        }*\/",1144],["T_WHITESPACE","\n        ",1155],["T_RETURN","return",1156],["T_WHITESPACE"," ",1156],["T_VARIABLE","$newProduct",1156],";",["T_WHITESPACE","\n    ",1156],"}",["T_WHITESPACE","\n\n    ",1157],["T_DOC_COMMENT","\/**\n     * Is product grouped\n     *\n     * @return bool\n     *\/",1159],["T_WHITESPACE","\n    ",1163],["T_PUBLIC","public",1164],["T_WHITESPACE"," ",1164],["T_FUNCTION","function",1164],["T_WHITESPACE"," ",1164],["T_STRING","isSuperGroup",1164],"(",")",["T_WHITESPACE","\n    ",1164],"{",["T_WHITESPACE","\n        ",1165],["T_RETURN","return",1166],["T_WHITESPACE"," ",1166],["T_VARIABLE","$this",1166],["T_OBJECT_OPERATOR","->",1166],["T_STRING","getTypeId",1166],"(",")",["T_WHITESPACE"," ",1166],["T_IS_EQUAL","==",1166],["T_WHITESPACE"," ",1166],["T_STRING","Mage_Catalog_Model_Product_Type",1166],["T_DOUBLE_COLON","::",1166],["T_STRING","TYPE_GROUPED",1166],";",["T_WHITESPACE","\n    ",1166],"}",["T_WHITESPACE","\n\n    ",1167],["T_DOC_COMMENT","\/**\n     * Alias for isConfigurable()\n     *\n     * @return bool\n     *\/",1169],["T_WHITESPACE","\n    ",1173],["T_PUBLIC","public",1174],["T_WHITESPACE"," ",1174],["T_FUNCTION","function",1174],["T_WHITESPACE"," ",1174],["T_STRING","isSuperConfig",1174],"(",")",["T_WHITESPACE","\n    ",1174],"{",["T_WHITESPACE","\n        ",1175],["T_RETURN","return",1176],["T_WHITESPACE"," ",1176],["T_VARIABLE","$this",1176],["T_OBJECT_OPERATOR","->",1176],["T_STRING","isConfigurable",1176],"(",")",";",["T_WHITESPACE","\n    ",1176],"}",["T_WHITESPACE","\n    ",1177],["T_DOC_COMMENT","\/**\n     * Check is product grouped\n     *\n     * @return bool\n     *\/",1178],["T_WHITESPACE","\n    ",1182],["T_PUBLIC","public",1183],["T_WHITESPACE"," ",1183],["T_FUNCTION","function",1183],["T_WHITESPACE"," ",1183],["T_STRING","isGrouped",1183],"(",")",["T_WHITESPACE","\n    ",1183],"{",["T_WHITESPACE","\n        ",1184],["T_RETURN","return",1185],["T_WHITESPACE"," ",1185],["T_VARIABLE","$this",1185],["T_OBJECT_OPERATOR","->",1185],["T_STRING","getTypeId",1185],"(",")",["T_WHITESPACE"," ",1185],["T_IS_EQUAL","==",1185],["T_WHITESPACE"," ",1185],["T_STRING","Mage_Catalog_Model_Product_Type",1185],["T_DOUBLE_COLON","::",1185],["T_STRING","TYPE_GROUPED",1185],";",["T_WHITESPACE","\n    ",1185],"}",["T_WHITESPACE","\n\n    ",1186],["T_DOC_COMMENT","\/**\n     * Check is product configurable\n     *\n     * @return bool\n     *\/",1188],["T_WHITESPACE","\n    ",1192],["T_PUBLIC","public",1193],["T_WHITESPACE"," ",1193],["T_FUNCTION","function",1193],["T_WHITESPACE"," ",1193],["T_STRING","isConfigurable",1193],"(",")",["T_WHITESPACE","\n    ",1193],"{",["T_WHITESPACE","\n        ",1194],["T_RETURN","return",1195],["T_WHITESPACE"," ",1195],["T_VARIABLE","$this",1195],["T_OBJECT_OPERATOR","->",1195],["T_STRING","getTypeId",1195],"(",")",["T_WHITESPACE"," ",1195],["T_IS_EQUAL","==",1195],["T_WHITESPACE"," ",1195],["T_STRING","Mage_Catalog_Model_Product_Type",1195],["T_DOUBLE_COLON","::",1195],["T_STRING","TYPE_CONFIGURABLE",1195],";",["T_WHITESPACE","\n    ",1195],"}",["T_WHITESPACE","\n\n    ",1196],["T_DOC_COMMENT","\/**\n     * Whether product configurable or grouped\n     *\n     * @return bool\n     *\/",1198],["T_WHITESPACE","\n    ",1202],["T_PUBLIC","public",1203],["T_WHITESPACE"," ",1203],["T_FUNCTION","function",1203],["T_WHITESPACE"," ",1203],["T_STRING","isSuper",1203],"(",")",["T_WHITESPACE","\n    ",1203],"{",["T_WHITESPACE","\n        ",1204],["T_RETURN","return",1205],["T_WHITESPACE"," ",1205],["T_VARIABLE","$this",1205],["T_OBJECT_OPERATOR","->",1205],["T_STRING","isConfigurable",1205],"(",")",["T_WHITESPACE"," ",1205],["T_BOOLEAN_OR","||",1205],["T_WHITESPACE"," ",1205],["T_VARIABLE","$this",1205],["T_OBJECT_OPERATOR","->",1205],["T_STRING","isGrouped",1205],"(",")",";",["T_WHITESPACE","\n    ",1205],"}",["T_WHITESPACE","\n\n    ",1206],["T_DOC_COMMENT","\/**\n     * Returns visible status IDs in catalog\n     *\n     * @return array\n     *\/",1208],["T_WHITESPACE","\n    ",1212],["T_PUBLIC","public",1213],["T_WHITESPACE"," ",1213],["T_FUNCTION","function",1213],["T_WHITESPACE"," ",1213],["T_STRING","getVisibleInCatalogStatuses",1213],"(",")",["T_WHITESPACE","\n    ",1213],"{",["T_WHITESPACE","\n        ",1214],["T_RETURN","return",1215],["T_WHITESPACE"," ",1215],["T_STRING","Mage",1215],["T_DOUBLE_COLON","::",1215],["T_STRING","getSingleton",1215],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog\/product_status'",1215],")",["T_OBJECT_OPERATOR","->",1215],["T_STRING","getVisibleStatusIds",1215],"(",")",";",["T_WHITESPACE","\n    ",1215],"}",["T_WHITESPACE","\n\n    ",1216],["T_DOC_COMMENT","\/**\n     * Retrieve visible statuses\n     *\n     * @return array\n     *\/",1218],["T_WHITESPACE","\n    ",1222],["T_PUBLIC","public",1223],["T_WHITESPACE"," ",1223],["T_FUNCTION","function",1223],["T_WHITESPACE"," ",1223],["T_STRING","getVisibleStatuses",1223],"(",")",["T_WHITESPACE","\n    ",1223],"{",["T_WHITESPACE","\n        ",1224],["T_RETURN","return",1225],["T_WHITESPACE"," ",1225],["T_STRING","Mage",1225],["T_DOUBLE_COLON","::",1225],["T_STRING","getSingleton",1225],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog\/product_status'",1225],")",["T_OBJECT_OPERATOR","->",1225],["T_STRING","getVisibleStatusIds",1225],"(",")",";",["T_WHITESPACE","\n    ",1225],"}",["T_WHITESPACE","\n\n    ",1226],["T_DOC_COMMENT","\/**\n     * Check Product visilbe in catalog\n     *\n     * @return bool\n     *\/",1228],["T_WHITESPACE","\n    ",1232],["T_PUBLIC","public",1233],["T_WHITESPACE"," ",1233],["T_FUNCTION","function",1233],["T_WHITESPACE"," ",1233],["T_STRING","isVisibleInCatalog",1233],"(",")",["T_WHITESPACE","\n    ",1233],"{",["T_WHITESPACE","\n        ",1234],["T_RETURN","return",1235],["T_WHITESPACE"," ",1235],["T_STRING","in_array",1235],"(",["T_VARIABLE","$this",1235],["T_OBJECT_OPERATOR","->",1235],["T_STRING","getStatus",1235],"(",")",",",["T_WHITESPACE"," ",1235],["T_VARIABLE","$this",1235],["T_OBJECT_OPERATOR","->",1235],["T_STRING","getVisibleInCatalogStatuses",1235],"(",")",")",";",["T_WHITESPACE","\n    ",1235],"}",["T_WHITESPACE","\n\n    ",1236],["T_DOC_COMMENT","\/**\n     * Retrieve visible in site visibilities\n     *\n     * @return array\n     *\/",1238],["T_WHITESPACE","\n    ",1242],["T_PUBLIC","public",1243],["T_WHITESPACE"," ",1243],["T_FUNCTION","function",1243],["T_WHITESPACE"," ",1243],["T_STRING","getVisibleInSiteVisibilities",1243],"(",")",["T_WHITESPACE","\n    ",1243],"{",["T_WHITESPACE","\n        ",1244],["T_RETURN","return",1245],["T_WHITESPACE"," ",1245],["T_STRING","Mage",1245],["T_DOUBLE_COLON","::",1245],["T_STRING","getSingleton",1245],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog\/product_visibility'",1245],")",["T_OBJECT_OPERATOR","->",1245],["T_STRING","getVisibleInSiteIds",1245],"(",")",";",["T_WHITESPACE","\n    ",1245],"}",["T_WHITESPACE","\n\n    ",1246],["T_DOC_COMMENT","\/**\n     * Check Product visible in site\n     *\n     * @return bool\n     *\/",1248],["T_WHITESPACE","\n    ",1252],["T_PUBLIC","public",1253],["T_WHITESPACE"," ",1253],["T_FUNCTION","function",1253],["T_WHITESPACE"," ",1253],["T_STRING","isVisibleInSiteVisibility",1253],"(",")",["T_WHITESPACE","\n    ",1253],"{",["T_WHITESPACE","\n        ",1254],["T_RETURN","return",1255],["T_WHITESPACE"," ",1255],["T_STRING","in_array",1255],"(",["T_VARIABLE","$this",1255],["T_OBJECT_OPERATOR","->",1255],["T_STRING","getVisibility",1255],"(",")",",",["T_WHITESPACE"," ",1255],["T_VARIABLE","$this",1255],["T_OBJECT_OPERATOR","->",1255],["T_STRING","getVisibleInSiteVisibilities",1255],"(",")",")",";",["T_WHITESPACE","\n    ",1255],"}",["T_WHITESPACE","\n\n    ",1256],["T_DOC_COMMENT","\/**\n     * Checks product can be duplicated\n     *\n     * @return boolean\n     *\/",1258],["T_WHITESPACE","\n    ",1262],["T_PUBLIC","public",1263],["T_WHITESPACE"," ",1263],["T_FUNCTION","function",1263],["T_WHITESPACE"," ",1263],["T_STRING","isDuplicable",1263],"(",")",["T_WHITESPACE","\n    ",1263],"{",["T_WHITESPACE","\n        ",1264],["T_RETURN","return",1265],["T_WHITESPACE"," ",1265],["T_VARIABLE","$this",1265],["T_OBJECT_OPERATOR","->",1265],["T_STRING","_isDuplicable",1265],";",["T_WHITESPACE","\n    ",1265],"}",["T_WHITESPACE","\n\n    ",1266],["T_DOC_COMMENT","\/**\n     * Set is duplicable flag\n     *\n     * @param boolean $value\n     * @return Mage_Catalog_Model_Product\n     *\/",1268],["T_WHITESPACE","\n    ",1273],["T_PUBLIC","public",1274],["T_WHITESPACE"," ",1274],["T_FUNCTION","function",1274],["T_WHITESPACE"," ",1274],["T_STRING","setIsDuplicable",1274],"(",["T_VARIABLE","$value",1274],")",["T_WHITESPACE","\n    ",1274],"{",["T_WHITESPACE","\n        ",1275],["T_VARIABLE","$this",1276],["T_OBJECT_OPERATOR","->",1276],["T_STRING","_isDuplicable",1276],["T_WHITESPACE"," ",1276],"=",["T_WHITESPACE"," ",1276],["T_BOOL_CAST","(boolean)",1276],["T_WHITESPACE"," ",1276],["T_VARIABLE","$value",1276],";",["T_WHITESPACE","\n        ",1276],["T_RETURN","return",1277],["T_WHITESPACE"," ",1277],["T_VARIABLE","$this",1277],";",["T_WHITESPACE","\n    ",1277],"}",["T_WHITESPACE","\n\n\n    ",1278],["T_DOC_COMMENT","\/**\n     * Check is product available for sale\n     *\n     * @return bool\n     *\/",1281],["T_WHITESPACE","\n    ",1285],["T_PUBLIC","public",1286],["T_WHITESPACE"," ",1286],["T_FUNCTION","function",1286],["T_WHITESPACE"," ",1286],["T_STRING","isSalable",1286],"(",")",["T_WHITESPACE","\n    ",1286],"{",["T_WHITESPACE","\n        ",1287],["T_STRING","Mage",1288],["T_DOUBLE_COLON","::",1288],["T_STRING","dispatchEvent",1288],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog_product_is_salable_before'",1288],",",["T_WHITESPACE"," ",1288],["T_ARRAY","array",1288],"(",["T_WHITESPACE","\n            ",1288],["T_CONSTANT_ENCAPSED_STRING","'product'",1289],["T_WHITESPACE","   ",1289],["T_DOUBLE_ARROW","=>",1289],["T_WHITESPACE"," ",1289],["T_VARIABLE","$this",1289],["T_WHITESPACE","\n        ",1289],")",")",";",["T_WHITESPACE","\n\n        ",1290],["T_VARIABLE","$salable",1292],["T_WHITESPACE"," ",1292],"=",["T_WHITESPACE"," ",1292],["T_VARIABLE","$this",1292],["T_OBJECT_OPERATOR","->",1292],["T_STRING","isAvailable",1292],"(",")",";",["T_WHITESPACE","\n\n        ",1292],["T_VARIABLE","$object",1294],["T_WHITESPACE"," ",1294],"=",["T_WHITESPACE"," ",1294],["T_NEW","new",1294],["T_WHITESPACE"," ",1294],["T_STRING","Varien_Object",1294],"(",["T_ARRAY","array",1294],"(",["T_WHITESPACE","\n            ",1294],["T_CONSTANT_ENCAPSED_STRING","'product'",1295],["T_WHITESPACE","    ",1295],["T_DOUBLE_ARROW","=>",1295],["T_WHITESPACE"," ",1295],["T_VARIABLE","$this",1295],",",["T_WHITESPACE","\n            ",1295],["T_CONSTANT_ENCAPSED_STRING","'is_salable'",1296],["T_WHITESPACE"," ",1296],["T_DOUBLE_ARROW","=>",1296],["T_WHITESPACE"," ",1296],["T_VARIABLE","$salable",1296],["T_WHITESPACE","\n        ",1296],")",")",";",["T_WHITESPACE","\n        ",1297],["T_STRING","Mage",1298],["T_DOUBLE_COLON","::",1298],["T_STRING","dispatchEvent",1298],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog_product_is_salable_after'",1298],",",["T_WHITESPACE"," ",1298],["T_ARRAY","array",1298],"(",["T_WHITESPACE","\n            ",1298],["T_CONSTANT_ENCAPSED_STRING","'product'",1299],["T_WHITESPACE","   ",1299],["T_DOUBLE_ARROW","=>",1299],["T_WHITESPACE"," ",1299],["T_VARIABLE","$this",1299],",",["T_WHITESPACE","\n            ",1299],["T_CONSTANT_ENCAPSED_STRING","'salable'",1300],["T_WHITESPACE","   ",1300],["T_DOUBLE_ARROW","=>",1300],["T_WHITESPACE"," ",1300],["T_VARIABLE","$object",1300],["T_WHITESPACE","\n        ",1300],")",")",";",["T_WHITESPACE","\n        ",1301],["T_RETURN","return",1302],["T_WHITESPACE"," ",1302],["T_VARIABLE","$object",1302],["T_OBJECT_OPERATOR","->",1302],["T_STRING","getIsSalable",1302],"(",")",";",["T_WHITESPACE","\n    ",1302],"}",["T_WHITESPACE","\n\n    ",1303],["T_DOC_COMMENT","\/**\n     * Check whether the product type or stock allows to purchase the product\n     *\n     * @return bool\n     *\/",1305],["T_WHITESPACE","\n    ",1309],["T_PUBLIC","public",1310],["T_WHITESPACE"," ",1310],["T_FUNCTION","function",1310],["T_WHITESPACE"," ",1310],["T_STRING","isAvailable",1310],"(",")",["T_WHITESPACE","\n    ",1310],"{",["T_WHITESPACE","\n        ",1311],["T_RETURN","return",1312],["T_WHITESPACE"," ",1312],["T_VARIABLE","$this",1312],["T_OBJECT_OPERATOR","->",1312],["T_STRING","getTypeInstance",1312],"(",["T_STRING","true",1312],")",["T_OBJECT_OPERATOR","->",1312],["T_STRING","isSalable",1312],"(",["T_VARIABLE","$this",1312],")",["T_WHITESPACE","\n            ",1312],["T_BOOLEAN_OR","||",1313],["T_WHITESPACE"," ",1313],["T_STRING","Mage",1313],["T_DOUBLE_COLON","::",1313],["T_STRING","helper",1313],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog\/product'",1313],")",["T_OBJECT_OPERATOR","->",1313],["T_STRING","getSkipSaleableCheck",1313],"(",")",";",["T_WHITESPACE","\n    ",1313],"}",["T_WHITESPACE","\n\n    ",1314],["T_DOC_COMMENT","\/**\n     * Is product salable detecting by product type\n     *\n     * @return bool\n     *\/",1316],["T_WHITESPACE","\n    ",1320],["T_PUBLIC","public",1321],["T_WHITESPACE"," ",1321],["T_FUNCTION","function",1321],["T_WHITESPACE"," ",1321],["T_STRING","getIsSalable",1321],"(",")",["T_WHITESPACE","\n    ",1321],"{",["T_WHITESPACE","\n        ",1322],["T_VARIABLE","$productType",1323],["T_WHITESPACE"," ",1323],"=",["T_WHITESPACE"," ",1323],["T_VARIABLE","$this",1323],["T_OBJECT_OPERATOR","->",1323],["T_STRING","getTypeInstance",1323],"(",["T_STRING","true",1323],")",";",["T_WHITESPACE","\n        ",1323],["T_IF","if",1324],["T_WHITESPACE"," ",1324],"(",["T_STRING","method_exists",1324],"(",["T_VARIABLE","$productType",1324],",",["T_WHITESPACE"," ",1324],["T_CONSTANT_ENCAPSED_STRING","'getIsSalable'",1324],")",")",["T_WHITESPACE"," ",1324],"{",["T_WHITESPACE","\n            ",1324],["T_RETURN","return",1325],["T_WHITESPACE"," ",1325],["T_VARIABLE","$productType",1325],["T_OBJECT_OPERATOR","->",1325],["T_STRING","getIsSalable",1325],"(",["T_VARIABLE","$this",1325],")",";",["T_WHITESPACE","\n        ",1325],"}",["T_WHITESPACE","\n        ",1326],["T_IF","if",1327],["T_WHITESPACE"," ",1327],"(",["T_VARIABLE","$this",1327],["T_OBJECT_OPERATOR","->",1327],["T_STRING","hasData",1327],"(",["T_CONSTANT_ENCAPSED_STRING","'is_salable'",1327],")",")",["T_WHITESPACE"," ",1327],"{",["T_WHITESPACE","\n            ",1327],["T_RETURN","return",1328],["T_WHITESPACE"," ",1328],["T_VARIABLE","$this",1328],["T_OBJECT_OPERATOR","->",1328],["T_STRING","getData",1328],"(",["T_CONSTANT_ENCAPSED_STRING","'is_salable'",1328],")",";",["T_WHITESPACE","\n        ",1328],"}",["T_WHITESPACE","\n\n        ",1329],["T_RETURN","return",1331],["T_WHITESPACE"," ",1331],["T_VARIABLE","$this",1331],["T_OBJECT_OPERATOR","->",1331],["T_STRING","isSalable",1331],"(",")",";",["T_WHITESPACE","\n    ",1331],"}",["T_WHITESPACE","\n\n    ",1332],["T_DOC_COMMENT","\/**\n     * Check is a virtual product\n     * Data helper wrapper\n     *\n     * @return bool\n     *\/",1334],["T_WHITESPACE","\n    ",1339],["T_PUBLIC","public",1340],["T_WHITESPACE"," ",1340],["T_FUNCTION","function",1340],["T_WHITESPACE"," ",1340],["T_STRING","isVirtual",1340],"(",")",["T_WHITESPACE","\n    ",1340],"{",["T_WHITESPACE","\n        ",1341],["T_RETURN","return",1342],["T_WHITESPACE"," ",1342],["T_VARIABLE","$this",1342],["T_OBJECT_OPERATOR","->",1342],["T_STRING","getIsVirtual",1342],"(",")",";",["T_WHITESPACE","\n    ",1342],"}",["T_WHITESPACE","\n\n    ",1343],["T_DOC_COMMENT","\/**\n     * Whether the product is a recurring payment\n     *\n     * @return bool\n     *\/",1345],["T_WHITESPACE","\n    ",1349],["T_PUBLIC","public",1350],["T_WHITESPACE"," ",1350],["T_FUNCTION","function",1350],["T_WHITESPACE"," ",1350],["T_STRING","isRecurring",1350],"(",")",["T_WHITESPACE","\n    ",1350],"{",["T_WHITESPACE","\n        ",1351],["T_RETURN","return",1352],["T_WHITESPACE"," ",1352],["T_VARIABLE","$this",1352],["T_OBJECT_OPERATOR","->",1352],["T_STRING","getIsRecurring",1352],"(",")",["T_WHITESPACE"," ",1352],["T_IS_EQUAL","==",1352],["T_WHITESPACE"," ",1352],["T_CONSTANT_ENCAPSED_STRING","'1'",1352],";",["T_WHITESPACE","\n    ",1352],"}",["T_WHITESPACE","\n\n    ",1353],["T_DOC_COMMENT","\/**\n     * Alias for isSalable()\n     *\n     * @return bool\n     *\/",1355],["T_WHITESPACE","\n    ",1359],["T_PUBLIC","public",1360],["T_WHITESPACE"," ",1360],["T_FUNCTION","function",1360],["T_WHITESPACE"," ",1360],["T_STRING","isSaleable",1360],"(",")",["T_WHITESPACE","\n    ",1360],"{",["T_WHITESPACE","\n        ",1361],["T_RETURN","return",1362],["T_WHITESPACE"," ",1362],["T_VARIABLE","$this",1362],["T_OBJECT_OPERATOR","->",1362],["T_STRING","isSalable",1362],"(",")",";",["T_WHITESPACE","\n    ",1362],"}",["T_WHITESPACE","\n\n    ",1363],["T_DOC_COMMENT","\/**\n     * Whether product available in stock\n     *\n     * @return bool\n     *\/",1365],["T_WHITESPACE","\n    ",1369],["T_PUBLIC","public",1370],["T_WHITESPACE"," ",1370],["T_FUNCTION","function",1370],["T_WHITESPACE"," ",1370],["T_STRING","isInStock",1370],"(",")",["T_WHITESPACE","\n    ",1370],"{",["T_WHITESPACE","\n        ",1371],["T_RETURN","return",1372],["T_WHITESPACE"," ",1372],["T_VARIABLE","$this",1372],["T_OBJECT_OPERATOR","->",1372],["T_STRING","getStatus",1372],"(",")",["T_WHITESPACE"," ",1372],["T_IS_EQUAL","==",1372],["T_WHITESPACE"," ",1372],["T_STRING","Mage_Catalog_Model_Product_Status",1372],["T_DOUBLE_COLON","::",1372],["T_STRING","STATUS_ENABLED",1372],";",["T_WHITESPACE","\n    ",1372],"}",["T_WHITESPACE","\n\n    ",1373],["T_DOC_COMMENT","\/**\n     * Get attribute text by its code\n     *\n     * @param $attributeCode Code of the attribute\n     * @return string\n     *\/",1375],["T_WHITESPACE","\n    ",1380],["T_PUBLIC","public",1381],["T_WHITESPACE"," ",1381],["T_FUNCTION","function",1381],["T_WHITESPACE"," ",1381],["T_STRING","getAttributeText",1381],"(",["T_VARIABLE","$attributeCode",1381],")",["T_WHITESPACE","\n    ",1381],"{",["T_WHITESPACE","\n        ",1382],["T_RETURN","return",1383],["T_WHITESPACE"," ",1383],["T_VARIABLE","$this",1383],["T_OBJECT_OPERATOR","->",1383],["T_STRING","getResource",1383],"(",")",["T_WHITESPACE","\n            ",1383],["T_OBJECT_OPERATOR","->",1384],["T_STRING","getAttribute",1384],"(",["T_VARIABLE","$attributeCode",1384],")",["T_WHITESPACE","\n                ",1384],["T_OBJECT_OPERATOR","->",1385],["T_STRING","getSource",1385],"(",")",["T_WHITESPACE","\n                    ",1385],["T_OBJECT_OPERATOR","->",1386],["T_STRING","getOptionText",1386],"(",["T_VARIABLE","$this",1386],["T_OBJECT_OPERATOR","->",1386],["T_STRING","getData",1386],"(",["T_VARIABLE","$attributeCode",1386],")",")",";",["T_WHITESPACE","\n    ",1386],"}",["T_WHITESPACE","\n\n    ",1387],["T_DOC_COMMENT","\/**\n     * Returns array with dates for custom design\n     *\n     * @return array\n     *\/",1389],["T_WHITESPACE","\n    ",1393],["T_PUBLIC","public",1394],["T_WHITESPACE"," ",1394],["T_FUNCTION","function",1394],["T_WHITESPACE"," ",1394],["T_STRING","getCustomDesignDate",1394],"(",")",["T_WHITESPACE","\n    ",1394],"{",["T_WHITESPACE","\n        ",1395],["T_VARIABLE","$result",1396],["T_WHITESPACE"," ",1396],"=",["T_WHITESPACE"," ",1396],["T_ARRAY","array",1396],"(",")",";",["T_WHITESPACE","\n        ",1396],["T_VARIABLE","$result",1397],"[",["T_CONSTANT_ENCAPSED_STRING","'from'",1397],"]",["T_WHITESPACE"," ",1397],"=",["T_WHITESPACE"," ",1397],["T_VARIABLE","$this",1397],["T_OBJECT_OPERATOR","->",1397],["T_STRING","getData",1397],"(",["T_CONSTANT_ENCAPSED_STRING","'custom_design_from'",1397],")",";",["T_WHITESPACE","\n        ",1397],["T_VARIABLE","$result",1398],"[",["T_CONSTANT_ENCAPSED_STRING","'to'",1398],"]",["T_WHITESPACE"," ",1398],"=",["T_WHITESPACE"," ",1398],["T_VARIABLE","$this",1398],["T_OBJECT_OPERATOR","->",1398],["T_STRING","getData",1398],"(",["T_CONSTANT_ENCAPSED_STRING","'custom_design_to'",1398],")",";",["T_WHITESPACE","\n\n        ",1398],["T_RETURN","return",1400],["T_WHITESPACE"," ",1400],["T_VARIABLE","$result",1400],";",["T_WHITESPACE","\n    ",1400],"}",["T_WHITESPACE","\n\n    ",1401],["T_DOC_COMMENT","\/**\n     * Retrieve Product URL\n     *\n     * @param  bool $useSid\n     * @return string\n     *\/",1403],["T_WHITESPACE","\n    ",1408],["T_PUBLIC","public",1409],["T_WHITESPACE"," ",1409],["T_FUNCTION","function",1409],["T_WHITESPACE"," ",1409],["T_STRING","getProductUrl",1409],"(",["T_VARIABLE","$useSid",1409],["T_WHITESPACE"," ",1409],"=",["T_WHITESPACE"," ",1409],["T_STRING","null",1409],")",["T_WHITESPACE","\n    ",1409],"{",["T_WHITESPACE","\n        ",1410],["T_RETURN","return",1411],["T_WHITESPACE"," ",1411],["T_VARIABLE","$this",1411],["T_OBJECT_OPERATOR","->",1411],["T_STRING","getUrlModel",1411],"(",")",["T_OBJECT_OPERATOR","->",1411],["T_STRING","getProductUrl",1411],"(",["T_VARIABLE","$this",1411],",",["T_WHITESPACE"," ",1411],["T_VARIABLE","$useSid",1411],")",";",["T_WHITESPACE","\n    ",1411],"}",["T_WHITESPACE","\n\n    ",1412],["T_DOC_COMMENT","\/**\n     * Retrieve URL in current store\n     *\n     * @param array $params the route params\n     * @return string\n     *\/",1414],["T_WHITESPACE","\n    ",1419],["T_PUBLIC","public",1420],["T_WHITESPACE"," ",1420],["T_FUNCTION","function",1420],["T_WHITESPACE"," ",1420],["T_STRING","getUrlInStore",1420],"(",["T_VARIABLE","$params",1420],["T_WHITESPACE"," ",1420],"=",["T_WHITESPACE"," ",1420],["T_ARRAY","array",1420],"(",")",")",["T_WHITESPACE","\n    ",1420],"{",["T_WHITESPACE","\n        ",1421],["T_RETURN","return",1422],["T_WHITESPACE"," ",1422],["T_VARIABLE","$this",1422],["T_OBJECT_OPERATOR","->",1422],["T_STRING","getUrlModel",1422],"(",")",["T_OBJECT_OPERATOR","->",1422],["T_STRING","getUrlInStore",1422],"(",["T_VARIABLE","$this",1422],",",["T_WHITESPACE"," ",1422],["T_VARIABLE","$params",1422],")",";",["T_WHITESPACE","\n    ",1422],"}",["T_WHITESPACE","\n\n    ",1423],["T_DOC_COMMENT","\/**\n     * Formats URL key\n     *\n     * @param $str URL\n     * @return string\n     *\/",1425],["T_WHITESPACE","\n    ",1430],["T_PUBLIC","public",1431],["T_WHITESPACE"," ",1431],["T_FUNCTION","function",1431],["T_WHITESPACE"," ",1431],["T_STRING","formatUrlKey",1431],"(",["T_VARIABLE","$str",1431],")",["T_WHITESPACE","\n    ",1431],"{",["T_WHITESPACE","\n        ",1432],["T_RETURN","return",1433],["T_WHITESPACE"," ",1433],["T_VARIABLE","$this",1433],["T_OBJECT_OPERATOR","->",1433],["T_STRING","getUrlModel",1433],"(",")",["T_OBJECT_OPERATOR","->",1433],["T_STRING","formatUrlKey",1433],"(",["T_VARIABLE","$str",1433],")",";",["T_WHITESPACE","\n    ",1433],"}",["T_WHITESPACE","\n\n    ",1434],["T_DOC_COMMENT","\/**\n     * Retrieve Product Url Path (include category)\n     *\n     * @param Mage_Catalog_Model_Category $category\n     * @return string\n     *\/",1436],["T_WHITESPACE","\n    ",1441],["T_PUBLIC","public",1442],["T_WHITESPACE"," ",1442],["T_FUNCTION","function",1442],["T_WHITESPACE"," ",1442],["T_STRING","getUrlPath",1442],"(",["T_VARIABLE","$category",1442],"=",["T_STRING","null",1442],")",["T_WHITESPACE","\n    ",1442],"{",["T_WHITESPACE","\n        ",1443],["T_RETURN","return",1444],["T_WHITESPACE"," ",1444],["T_VARIABLE","$this",1444],["T_OBJECT_OPERATOR","->",1444],["T_STRING","getUrlModel",1444],"(",")",["T_OBJECT_OPERATOR","->",1444],["T_STRING","getUrlPath",1444],"(",["T_VARIABLE","$this",1444],",",["T_WHITESPACE"," ",1444],["T_VARIABLE","$category",1444],")",";",["T_WHITESPACE","\n    ",1444],"}",["T_WHITESPACE","\n\n    ",1445],["T_DOC_COMMENT","\/**\n     * Save current attribute with code $code and assign new value\n     *\n     * @param string $code  Attribute code\n     * @param mixed  $value New attribute value\n     * @param int    $store Store ID\n     * @return void\n     *\/",1447],["T_WHITESPACE","\n    ",1454],["T_PUBLIC","public",1455],["T_WHITESPACE"," ",1455],["T_FUNCTION","function",1455],["T_WHITESPACE"," ",1455],["T_STRING","addAttributeUpdate",1455],"(",["T_VARIABLE","$code",1455],",",["T_WHITESPACE"," ",1455],["T_VARIABLE","$value",1455],",",["T_WHITESPACE"," ",1455],["T_VARIABLE","$store",1455],")",["T_WHITESPACE","\n    ",1455],"{",["T_WHITESPACE","\n        ",1456],["T_VARIABLE","$oldValue",1457],["T_WHITESPACE"," ",1457],"=",["T_WHITESPACE"," ",1457],["T_VARIABLE","$this",1457],["T_OBJECT_OPERATOR","->",1457],["T_STRING","getData",1457],"(",["T_VARIABLE","$code",1457],")",";",["T_WHITESPACE","\n        ",1457],["T_VARIABLE","$oldStore",1458],["T_WHITESPACE"," ",1458],"=",["T_WHITESPACE"," ",1458],["T_VARIABLE","$this",1458],["T_OBJECT_OPERATOR","->",1458],["T_STRING","getStoreId",1458],"(",")",";",["T_WHITESPACE","\n\n        ",1458],["T_VARIABLE","$this",1460],["T_OBJECT_OPERATOR","->",1460],["T_STRING","setData",1460],"(",["T_VARIABLE","$code",1460],",",["T_WHITESPACE"," ",1460],["T_VARIABLE","$value",1460],")",";",["T_WHITESPACE","\n        ",1460],["T_VARIABLE","$this",1461],["T_OBJECT_OPERATOR","->",1461],["T_STRING","setStoreId",1461],"(",["T_VARIABLE","$store",1461],")",";",["T_WHITESPACE","\n        ",1461],["T_VARIABLE","$this",1462],["T_OBJECT_OPERATOR","->",1462],["T_STRING","getResource",1462],"(",")",["T_OBJECT_OPERATOR","->",1462],["T_STRING","saveAttribute",1462],"(",["T_VARIABLE","$this",1462],",",["T_WHITESPACE"," ",1462],["T_VARIABLE","$code",1462],")",";",["T_WHITESPACE","\n\n        ",1462],["T_VARIABLE","$this",1464],["T_OBJECT_OPERATOR","->",1464],["T_STRING","setData",1464],"(",["T_VARIABLE","$code",1464],",",["T_WHITESPACE"," ",1464],["T_VARIABLE","$oldValue",1464],")",";",["T_WHITESPACE","\n        ",1464],["T_VARIABLE","$this",1465],["T_OBJECT_OPERATOR","->",1465],["T_STRING","setStoreId",1465],"(",["T_VARIABLE","$oldStore",1465],")",";",["T_WHITESPACE","\n    ",1465],"}",["T_WHITESPACE","\n\n    ",1466],["T_DOC_COMMENT","\/**\n     * Renders the object to array\n     *\n     * @param array $arrAttributes Attribute array\n     * @return array\n     *\/",1468],["T_WHITESPACE","\n    ",1473],["T_PUBLIC","public",1474],["T_WHITESPACE"," ",1474],["T_FUNCTION","function",1474],["T_WHITESPACE"," ",1474],["T_STRING","toArray",1474],"(",["T_ARRAY","array",1474],["T_WHITESPACE"," ",1474],["T_VARIABLE","$arrAttributes",1474],"=",["T_ARRAY","array",1474],"(",")",")",["T_WHITESPACE","\n    ",1474],"{",["T_WHITESPACE","\n        ",1475],["T_VARIABLE","$data",1476],["T_WHITESPACE"," ",1476],"=",["T_WHITESPACE"," ",1476],["T_STRING","parent",1476],["T_DOUBLE_COLON","::",1476],["T_STRING","toArray",1476],"(",["T_VARIABLE","$arrAttributes",1476],")",";",["T_WHITESPACE","\n        ",1476],["T_IF","if",1477],["T_WHITESPACE"," ",1477],"(",["T_VARIABLE","$stock",1477],["T_WHITESPACE"," ",1477],"=",["T_WHITESPACE"," ",1477],["T_VARIABLE","$this",1477],["T_OBJECT_OPERATOR","->",1477],["T_STRING","getStockItem",1477],"(",")",")",["T_WHITESPACE"," ",1477],"{",["T_WHITESPACE","\n            ",1477],["T_VARIABLE","$data",1478],"[",["T_CONSTANT_ENCAPSED_STRING","'stock_item'",1478],"]",["T_WHITESPACE"," ",1478],"=",["T_WHITESPACE"," ",1478],["T_VARIABLE","$stock",1478],["T_OBJECT_OPERATOR","->",1478],["T_STRING","toArray",1478],"(",")",";",["T_WHITESPACE","\n        ",1478],"}",["T_WHITESPACE","\n        ",1479],["T_UNSET","unset",1480],"(",["T_VARIABLE","$data",1480],"[",["T_CONSTANT_ENCAPSED_STRING","'stock_item'",1480],"]","[",["T_CONSTANT_ENCAPSED_STRING","'product'",1480],"]",")",";",["T_WHITESPACE","\n        ",1480],["T_RETURN","return",1481],["T_WHITESPACE"," ",1481],["T_VARIABLE","$data",1481],";",["T_WHITESPACE","\n    ",1481],"}",["T_WHITESPACE","\n\n    ",1482],["T_DOC_COMMENT","\/**\n     * Same as setData(), but also initiates the stock item (if it is there)\n     *\n     * @param array $data Array to form the object from\n     * @return Mage_Catalog_Model_Product\n     *\/",1484],["T_WHITESPACE","\n    ",1489],["T_PUBLIC","public",1490],["T_WHITESPACE"," ",1490],["T_FUNCTION","function",1490],["T_WHITESPACE"," ",1490],["T_STRING","fromArray",1490],"(",["T_VARIABLE","$data",1490],")",["T_WHITESPACE","\n    ",1490],"{",["T_WHITESPACE","\n        ",1491],["T_IF","if",1492],["T_WHITESPACE"," ",1492],"(",["T_ISSET","isset",1492],"(",["T_VARIABLE","$data",1492],"[",["T_CONSTANT_ENCAPSED_STRING","'stock_item'",1492],"]",")",")",["T_WHITESPACE"," ",1492],"{",["T_WHITESPACE","\n            ",1492],["T_IF","if",1493],["T_WHITESPACE"," ",1493],"(",["T_STRING","Mage",1493],["T_DOUBLE_COLON","::",1493],["T_STRING","helper",1493],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog'",1493],")",["T_OBJECT_OPERATOR","->",1493],["T_STRING","isModuleEnabled",1493],"(",["T_CONSTANT_ENCAPSED_STRING","'Mage_CatalogInventory'",1493],")",")",["T_WHITESPACE"," ",1493],"{",["T_WHITESPACE","\n                ",1493],["T_VARIABLE","$stockItem",1494],["T_WHITESPACE"," ",1494],"=",["T_WHITESPACE"," ",1494],["T_STRING","Mage",1494],["T_DOUBLE_COLON","::",1494],["T_STRING","getModel",1494],"(",["T_CONSTANT_ENCAPSED_STRING","'cataloginventory\/stock_item'",1494],")",["T_WHITESPACE","\n                    ",1494],["T_OBJECT_OPERATOR","->",1495],["T_STRING","setData",1495],"(",["T_VARIABLE","$data",1495],"[",["T_CONSTANT_ENCAPSED_STRING","'stock_item'",1495],"]",")",["T_WHITESPACE","\n                    ",1495],["T_OBJECT_OPERATOR","->",1496],["T_STRING","setProduct",1496],"(",["T_VARIABLE","$this",1496],")",";",["T_WHITESPACE","\n                ",1496],["T_VARIABLE","$this",1497],["T_OBJECT_OPERATOR","->",1497],["T_STRING","setStockItem",1497],"(",["T_VARIABLE","$stockItem",1497],")",";",["T_WHITESPACE","\n            ",1497],"}",["T_WHITESPACE","\n            ",1498],["T_UNSET","unset",1499],"(",["T_VARIABLE","$data",1499],"[",["T_CONSTANT_ENCAPSED_STRING","'stock_item'",1499],"]",")",";",["T_WHITESPACE","\n        ",1499],"}",["T_WHITESPACE","\n        ",1500],["T_VARIABLE","$this",1501],["T_OBJECT_OPERATOR","->",1501],["T_STRING","setData",1501],"(",["T_VARIABLE","$data",1501],")",";",["T_WHITESPACE","\n        ",1501],["T_RETURN","return",1502],["T_WHITESPACE"," ",1502],["T_VARIABLE","$this",1502],";",["T_WHITESPACE","\n    ",1502],"}",["T_WHITESPACE","\n\n    ",1503],["T_DOC_COMMENT","\/**\n     * @deprecated after 1.4.2.0\n     * @return Mage_Catalog_Model_Product\n     *\/",1505],["T_WHITESPACE","\n    ",1508],["T_PUBLIC","public",1509],["T_WHITESPACE"," ",1509],["T_FUNCTION","function",1509],["T_WHITESPACE"," ",1509],["T_STRING","loadParentProductIds",1509],"(",")",["T_WHITESPACE","\n    ",1509],"{",["T_WHITESPACE","\n        ",1510],["T_RETURN","return",1511],["T_WHITESPACE"," ",1511],["T_VARIABLE","$this",1511],["T_OBJECT_OPERATOR","->",1511],["T_STRING","setParentProductIds",1511],"(",["T_ARRAY","array",1511],"(",")",")",";",["T_WHITESPACE","\n    ",1511],"}",["T_WHITESPACE","\n\n    ",1512],["T_DOC_COMMENT","\/**\n     * Delete product\n     *\n     * @return Mage_Catalog_Model_Product\n     *\/",1514],["T_WHITESPACE","\n    ",1518],["T_PUBLIC","public",1519],["T_WHITESPACE"," ",1519],["T_FUNCTION","function",1519],["T_WHITESPACE"," ",1519],["T_STRING","delete",1519],"(",")",["T_WHITESPACE","\n    ",1519],"{",["T_WHITESPACE","\n        ",1520],["T_STRING","parent",1521],["T_DOUBLE_COLON","::",1521],["T_STRING","delete",1521],"(",")",";",["T_WHITESPACE","\n        ",1521],["T_STRING","Mage",1522],["T_DOUBLE_COLON","::",1522],["T_STRING","dispatchEvent",1522],"(",["T_VARIABLE","$this",1522],["T_OBJECT_OPERATOR","->",1522],["T_STRING","_eventPrefix",1522],".",["T_CONSTANT_ENCAPSED_STRING","'_delete_after_done'",1522],",",["T_WHITESPACE"," ",1522],["T_ARRAY","array",1522],"(",["T_VARIABLE","$this",1522],["T_OBJECT_OPERATOR","->",1522],["T_STRING","_eventObject",1522],["T_DOUBLE_ARROW","=>",1522],["T_VARIABLE","$this",1522],")",")",";",["T_WHITESPACE","\n        ",1522],["T_RETURN","return",1523],["T_WHITESPACE"," ",1523],["T_VARIABLE","$this",1523],";",["T_WHITESPACE","\n    ",1523],"}",["T_WHITESPACE","\n\n    ",1524],["T_DOC_COMMENT","\/**\n     * Returns request path\n     *\n     * @return string\n     *\/",1526],["T_WHITESPACE","\n    ",1530],["T_PUBLIC","public",1531],["T_WHITESPACE"," ",1531],["T_FUNCTION","function",1531],["T_WHITESPACE"," ",1531],["T_STRING","getRequestPath",1531],"(",")",["T_WHITESPACE","\n    ",1531],"{",["T_WHITESPACE","\n        ",1532],["T_IF","if",1533],["T_WHITESPACE"," ",1533],"(","!",["T_VARIABLE","$this",1533],["T_OBJECT_OPERATOR","->",1533],["T_STRING","_getData",1533],"(",["T_CONSTANT_ENCAPSED_STRING","'request_path'",1533],")",")",["T_WHITESPACE"," ",1533],"{",["T_WHITESPACE","\n            ",1533],["T_VARIABLE","$this",1534],["T_OBJECT_OPERATOR","->",1534],["T_STRING","getProductUrl",1534],"(",")",";",["T_WHITESPACE","\n        ",1534],"}",["T_WHITESPACE","\n        ",1535],["T_RETURN","return",1536],["T_WHITESPACE"," ",1536],["T_VARIABLE","$this",1536],["T_OBJECT_OPERATOR","->",1536],["T_STRING","_getData",1536],"(",["T_CONSTANT_ENCAPSED_STRING","'request_path'",1536],")",";",["T_WHITESPACE","\n    ",1536],"}",["T_WHITESPACE","\n\n    ",1537],["T_DOC_COMMENT","\/**\n     * Custom function for other modules\n     * @return string\n     *\/",1539],["T_WHITESPACE","\n\n    ",1542],["T_PUBLIC","public",1544],["T_WHITESPACE"," ",1544],["T_FUNCTION","function",1544],["T_WHITESPACE"," ",1544],["T_STRING","getGiftMessageAvailable",1544],"(",")",["T_WHITESPACE","\n    ",1544],"{",["T_WHITESPACE","\n        ",1545],["T_RETURN","return",1546],["T_WHITESPACE"," ",1546],["T_VARIABLE","$this",1546],["T_OBJECT_OPERATOR","->",1546],["T_STRING","_getData",1546],"(",["T_CONSTANT_ENCAPSED_STRING","'gift_message_available'",1546],")",";",["T_WHITESPACE","\n    ",1546],"}",["T_WHITESPACE","\n\n    ",1547],["T_DOC_COMMENT","\/**\n     * Returns rating summary\n     *\n     * @return mixed\n     *\/",1549],["T_WHITESPACE","\n    ",1553],["T_PUBLIC","public",1554],["T_WHITESPACE"," ",1554],["T_FUNCTION","function",1554],["T_WHITESPACE"," ",1554],["T_STRING","getRatingSummary",1554],"(",")",["T_WHITESPACE","\n    ",1554],"{",["T_WHITESPACE","\n        ",1555],["T_RETURN","return",1556],["T_WHITESPACE"," ",1556],["T_VARIABLE","$this",1556],["T_OBJECT_OPERATOR","->",1556],["T_STRING","_getData",1556],"(",["T_CONSTANT_ENCAPSED_STRING","'rating_summary'",1556],")",";",["T_WHITESPACE","\n    ",1556],"}",["T_WHITESPACE","\n\n    ",1557],["T_DOC_COMMENT","\/**\n     * Check is product composite\n     *\n     * @return bool\n     *\/",1559],["T_WHITESPACE","\n    ",1563],["T_PUBLIC","public",1564],["T_WHITESPACE"," ",1564],["T_FUNCTION","function",1564],["T_WHITESPACE"," ",1564],["T_STRING","isComposite",1564],"(",")",["T_WHITESPACE","\n    ",1564],"{",["T_WHITESPACE","\n        ",1565],["T_RETURN","return",1566],["T_WHITESPACE"," ",1566],["T_VARIABLE","$this",1566],["T_OBJECT_OPERATOR","->",1566],["T_STRING","getTypeInstance",1566],"(",["T_STRING","true",1566],")",["T_OBJECT_OPERATOR","->",1566],["T_STRING","isComposite",1566],"(",["T_VARIABLE","$this",1566],")",";",["T_WHITESPACE","\n    ",1566],"}",["T_WHITESPACE","\n\n    ",1567],["T_DOC_COMMENT","\/**\n     * Check if product can be configured\n     *\n     * @return bool\n     *\/",1569],["T_WHITESPACE","\n    ",1573],["T_PUBLIC","public",1574],["T_WHITESPACE"," ",1574],["T_FUNCTION","function",1574],["T_WHITESPACE"," ",1574],["T_STRING","canConfigure",1574],"(",")",["T_WHITESPACE","\n    ",1574],"{",["T_WHITESPACE","\n        ",1575],["T_VARIABLE","$options",1576],["T_WHITESPACE"," ",1576],"=",["T_WHITESPACE"," ",1576],["T_VARIABLE","$this",1576],["T_OBJECT_OPERATOR","->",1576],["T_STRING","getOptions",1576],"(",")",";",["T_WHITESPACE","\n        ",1576],["T_RETURN","return",1577],["T_WHITESPACE"," ",1577],"!",["T_EMPTY","empty",1577],"(",["T_VARIABLE","$options",1577],")",["T_WHITESPACE"," ",1577],["T_BOOLEAN_OR","||",1577],["T_WHITESPACE"," ",1577],["T_VARIABLE","$this",1577],["T_OBJECT_OPERATOR","->",1577],["T_STRING","getTypeInstance",1577],"(",["T_STRING","true",1577],")",["T_OBJECT_OPERATOR","->",1577],["T_STRING","canConfigure",1577],"(",["T_VARIABLE","$this",1577],")",";",["T_WHITESPACE","\n    ",1577],"}",["T_WHITESPACE","\n\n    ",1578],["T_DOC_COMMENT","\/**\n     * Retrieve sku through type instance\n     *\n     * @return string\n     *\/",1580],["T_WHITESPACE","\n    ",1584],["T_PUBLIC","public",1585],["T_WHITESPACE"," ",1585],["T_FUNCTION","function",1585],["T_WHITESPACE"," ",1585],["T_STRING","getSku",1585],"(",")",["T_WHITESPACE","\n    ",1585],"{",["T_WHITESPACE","\n        ",1586],["T_RETURN","return",1587],["T_WHITESPACE"," ",1587],["T_VARIABLE","$this",1587],["T_OBJECT_OPERATOR","->",1587],["T_STRING","getTypeInstance",1587],"(",["T_STRING","true",1587],")",["T_OBJECT_OPERATOR","->",1587],["T_STRING","getSku",1587],"(",["T_VARIABLE","$this",1587],")",";",["T_WHITESPACE","\n    ",1587],"}",["T_WHITESPACE","\n\n    ",1588],["T_DOC_COMMENT","\/**\n     * Retrieve weight throught type instance\n     *\n     * @return unknown\n     *\/",1590],["T_WHITESPACE","\n    ",1594],["T_PUBLIC","public",1595],["T_WHITESPACE"," ",1595],["T_FUNCTION","function",1595],["T_WHITESPACE"," ",1595],["T_STRING","getWeight",1595],"(",")",["T_WHITESPACE","\n    ",1595],"{",["T_WHITESPACE","\n        ",1596],["T_RETURN","return",1597],["T_WHITESPACE"," ",1597],["T_VARIABLE","$this",1597],["T_OBJECT_OPERATOR","->",1597],["T_STRING","getTypeInstance",1597],"(",["T_STRING","true",1597],")",["T_OBJECT_OPERATOR","->",1597],["T_STRING","getWeight",1597],"(",["T_VARIABLE","$this",1597],")",";",["T_WHITESPACE","\n    ",1597],"}",["T_WHITESPACE","\n\n    ",1598],["T_DOC_COMMENT","\/**\n     * Retrieve option instance\n     *\n     * @return Mage_Catalog_Model_Product_Option\n     *\/",1600],["T_WHITESPACE","\n    ",1604],["T_PUBLIC","public",1605],["T_WHITESPACE"," ",1605],["T_FUNCTION","function",1605],["T_WHITESPACE"," ",1605],["T_STRING","getOptionInstance",1605],"(",")",["T_WHITESPACE","\n    ",1605],"{",["T_WHITESPACE","\n        ",1606],["T_IF","if",1607],["T_WHITESPACE"," ",1607],"(","!",["T_VARIABLE","$this",1607],["T_OBJECT_OPERATOR","->",1607],["T_STRING","_optionInstance",1607],")",["T_WHITESPACE"," ",1607],"{",["T_WHITESPACE","\n            ",1607],["T_VARIABLE","$this",1608],["T_OBJECT_OPERATOR","->",1608],["T_STRING","_optionInstance",1608],["T_WHITESPACE"," ",1608],"=",["T_WHITESPACE"," ",1608],["T_STRING","Mage",1608],["T_DOUBLE_COLON","::",1608],["T_STRING","getSingleton",1608],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog\/product_option'",1608],")",";",["T_WHITESPACE","\n        ",1608],"}",["T_WHITESPACE","\n        ",1609],["T_RETURN","return",1610],["T_WHITESPACE"," ",1610],["T_VARIABLE","$this",1610],["T_OBJECT_OPERATOR","->",1610],["T_STRING","_optionInstance",1610],";",["T_WHITESPACE","\n    ",1610],"}",["T_WHITESPACE","\n\n    ",1611],["T_DOC_COMMENT","\/**\n     * Retrieve options collection of product\n     *\n     * @return Mage_Catalog_Model_Resource_Eav_Mysql4_Product_Option_Collection\n     *\/",1613],["T_WHITESPACE","\n    ",1617],["T_PUBLIC","public",1618],["T_WHITESPACE"," ",1618],["T_FUNCTION","function",1618],["T_WHITESPACE"," ",1618],["T_STRING","getProductOptionsCollection",1618],"(",")",["T_WHITESPACE","\n    ",1618],"{",["T_WHITESPACE","\n        ",1619],["T_VARIABLE","$collection",1620],["T_WHITESPACE"," ",1620],"=",["T_WHITESPACE"," ",1620],["T_VARIABLE","$this",1620],["T_OBJECT_OPERATOR","->",1620],["T_STRING","getOptionInstance",1620],"(",")",["T_WHITESPACE","\n            ",1620],["T_OBJECT_OPERATOR","->",1621],["T_STRING","getProductOptionCollection",1621],"(",["T_VARIABLE","$this",1621],")",";",["T_WHITESPACE","\n\n        ",1621],["T_RETURN","return",1623],["T_WHITESPACE"," ",1623],["T_VARIABLE","$collection",1623],";",["T_WHITESPACE","\n    ",1623],"}",["T_WHITESPACE","\n\n    ",1624],["T_DOC_COMMENT","\/**\n     * Add option to array of product options\n     *\n     * @param Mage_Catalog_Model_Product_Option $option\n     * @return Mage_Catalog_Model_Product\n     *\/",1626],["T_WHITESPACE","\n    ",1631],["T_PUBLIC","public",1632],["T_WHITESPACE"," ",1632],["T_FUNCTION","function",1632],["T_WHITESPACE"," ",1632],["T_STRING","addOption",1632],"(",["T_STRING","Mage_Catalog_Model_Product_Option",1632],["T_WHITESPACE"," ",1632],["T_VARIABLE","$option",1632],")",["T_WHITESPACE","\n    ",1632],"{",["T_WHITESPACE","\n        ",1633],["T_VARIABLE","$this",1634],["T_OBJECT_OPERATOR","->",1634],["T_STRING","_options",1634],"[",["T_VARIABLE","$option",1634],["T_OBJECT_OPERATOR","->",1634],["T_STRING","getId",1634],"(",")","]",["T_WHITESPACE"," ",1634],"=",["T_WHITESPACE"," ",1634],["T_VARIABLE","$option",1634],";",["T_WHITESPACE","\n        ",1634],["T_RETURN","return",1635],["T_WHITESPACE"," ",1635],["T_VARIABLE","$this",1635],";",["T_WHITESPACE","\n    ",1635],"}",["T_WHITESPACE","\n\n    ",1636],["T_DOC_COMMENT","\/**\n     * Get option from options array of product by given option id\n     *\n     * @param int $optionId\n     * @return Mage_Catalog_Model_Product_Option | null\n     *\/",1638],["T_WHITESPACE","\n    ",1643],["T_PUBLIC","public",1644],["T_WHITESPACE"," ",1644],["T_FUNCTION","function",1644],["T_WHITESPACE"," ",1644],["T_STRING","getOptionById",1644],"(",["T_VARIABLE","$optionId",1644],")",["T_WHITESPACE","\n    ",1644],"{",["T_WHITESPACE","\n        ",1645],["T_IF","if",1646],["T_WHITESPACE"," ",1646],"(",["T_ISSET","isset",1646],"(",["T_VARIABLE","$this",1646],["T_OBJECT_OPERATOR","->",1646],["T_STRING","_options",1646],"[",["T_VARIABLE","$optionId",1646],"]",")",")",["T_WHITESPACE"," ",1646],"{",["T_WHITESPACE","\n            ",1646],["T_RETURN","return",1647],["T_WHITESPACE"," ",1647],["T_VARIABLE","$this",1647],["T_OBJECT_OPERATOR","->",1647],["T_STRING","_options",1647],"[",["T_VARIABLE","$optionId",1647],"]",";",["T_WHITESPACE","\n        ",1647],"}",["T_WHITESPACE","\n\n        ",1648],["T_RETURN","return",1650],["T_WHITESPACE"," ",1650],["T_STRING","null",1650],";",["T_WHITESPACE","\n    ",1650],"}",["T_WHITESPACE","\n\n    ",1651],["T_DOC_COMMENT","\/**\n     * Get all options of product\n     *\n     * @return array\n     *\/",1653],["T_WHITESPACE","\n    ",1657],["T_PUBLIC","public",1658],["T_WHITESPACE"," ",1658],["T_FUNCTION","function",1658],["T_WHITESPACE"," ",1658],["T_STRING","getOptions",1658],"(",")",["T_WHITESPACE","\n    ",1658],"{",["T_WHITESPACE","\n        ",1659],["T_RETURN","return",1660],["T_WHITESPACE"," ",1660],["T_VARIABLE","$this",1660],["T_OBJECT_OPERATOR","->",1660],["T_STRING","_options",1660],";",["T_WHITESPACE","\n    ",1660],"}",["T_WHITESPACE","\n\n    ",1661],["T_DOC_COMMENT","\/**\n     * Retrieve is a virtual product\n     *\n     * @return bool\n     *\/",1663],["T_WHITESPACE","\n    ",1667],["T_PUBLIC","public",1668],["T_WHITESPACE"," ",1668],["T_FUNCTION","function",1668],["T_WHITESPACE"," ",1668],["T_STRING","getIsVirtual",1668],"(",")",["T_WHITESPACE","\n    ",1668],"{",["T_WHITESPACE","\n        ",1669],["T_RETURN","return",1670],["T_WHITESPACE"," ",1670],["T_VARIABLE","$this",1670],["T_OBJECT_OPERATOR","->",1670],["T_STRING","getTypeInstance",1670],"(",["T_STRING","true",1670],")",["T_OBJECT_OPERATOR","->",1670],["T_STRING","isVirtual",1670],"(",["T_VARIABLE","$this",1670],")",";",["T_WHITESPACE","\n    ",1670],"}",["T_WHITESPACE","\n\n    ",1671],["T_DOC_COMMENT","\/**\n     * Add custom option information to product\n     *\n     * @param   string $code    Option code\n     * @param   mixed  $value   Value of the option\n     * @param   int    $product Product ID\n     * @return  Mage_Catalog_Model_Product\n     *\/",1673],["T_WHITESPACE","\n    ",1680],["T_PUBLIC","public",1681],["T_WHITESPACE"," ",1681],["T_FUNCTION","function",1681],["T_WHITESPACE"," ",1681],["T_STRING","addCustomOption",1681],"(",["T_VARIABLE","$code",1681],",",["T_WHITESPACE"," ",1681],["T_VARIABLE","$value",1681],",",["T_WHITESPACE"," ",1681],["T_VARIABLE","$product",1681],"=",["T_STRING","null",1681],")",["T_WHITESPACE","\n    ",1681],"{",["T_WHITESPACE","\n        ",1682],["T_VARIABLE","$product",1683],["T_WHITESPACE"," ",1683],"=",["T_WHITESPACE"," ",1683],["T_VARIABLE","$product",1683],["T_WHITESPACE"," ",1683],"?",["T_WHITESPACE"," ",1683],["T_VARIABLE","$product",1683],["T_WHITESPACE"," ",1683],":",["T_WHITESPACE"," ",1683],["T_VARIABLE","$this",1683],";",["T_WHITESPACE","\n        ",1683],["T_VARIABLE","$option",1684],["T_WHITESPACE"," ",1684],"=",["T_WHITESPACE"," ",1684],["T_STRING","Mage",1684],["T_DOUBLE_COLON","::",1684],["T_STRING","getModel",1684],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog\/product_configuration_item_option'",1684],")",["T_WHITESPACE","\n            ",1684],["T_OBJECT_OPERATOR","->",1685],["T_STRING","addData",1685],"(",["T_ARRAY","array",1685],"(",["T_WHITESPACE","\n                ",1685],["T_CONSTANT_ENCAPSED_STRING","'product_id'",1686],["T_DOUBLE_ARROW","=>",1686],["T_WHITESPACE"," ",1686],["T_VARIABLE","$product",1686],["T_OBJECT_OPERATOR","->",1686],["T_STRING","getId",1686],"(",")",",",["T_WHITESPACE","\n                ",1686],["T_CONSTANT_ENCAPSED_STRING","'product'",1687],["T_WHITESPACE","   ",1687],["T_DOUBLE_ARROW","=>",1687],["T_WHITESPACE"," ",1687],["T_VARIABLE","$product",1687],",",["T_WHITESPACE","\n                ",1687],["T_CONSTANT_ENCAPSED_STRING","'code'",1688],["T_WHITESPACE","      ",1688],["T_DOUBLE_ARROW","=>",1688],["T_WHITESPACE"," ",1688],["T_VARIABLE","$code",1688],",",["T_WHITESPACE","\n                ",1688],["T_CONSTANT_ENCAPSED_STRING","'value'",1689],["T_WHITESPACE","     ",1689],["T_DOUBLE_ARROW","=>",1689],["T_WHITESPACE"," ",1689],["T_VARIABLE","$value",1689],",",["T_WHITESPACE","\n            ",1689],")",")",";",["T_WHITESPACE","\n        ",1690],["T_VARIABLE","$this",1691],["T_OBJECT_OPERATOR","->",1691],["T_STRING","_customOptions",1691],"[",["T_VARIABLE","$code",1691],"]",["T_WHITESPACE"," ",1691],"=",["T_WHITESPACE"," ",1691],["T_VARIABLE","$option",1691],";",["T_WHITESPACE","\n        ",1691],["T_RETURN","return",1692],["T_WHITESPACE"," ",1692],["T_VARIABLE","$this",1692],";",["T_WHITESPACE","\n    ",1692],"}",["T_WHITESPACE","\n\n    ",1693],["T_DOC_COMMENT","\/**\n     * Sets custom options for the product\n     *\n     * @param array $options Array of options\n     * @return void\n     *\/",1695],["T_WHITESPACE","\n    ",1700],["T_PUBLIC","public",1701],["T_WHITESPACE"," ",1701],["T_FUNCTION","function",1701],["T_WHITESPACE"," ",1701],["T_STRING","setCustomOptions",1701],"(",["T_ARRAY","array",1701],["T_WHITESPACE"," ",1701],["T_VARIABLE","$options",1701],")",["T_WHITESPACE","\n    ",1701],"{",["T_WHITESPACE","\n        ",1702],["T_VARIABLE","$this",1703],["T_OBJECT_OPERATOR","->",1703],["T_STRING","_customOptions",1703],["T_WHITESPACE"," ",1703],"=",["T_WHITESPACE"," ",1703],["T_VARIABLE","$options",1703],";",["T_WHITESPACE","\n    ",1703],"}",["T_WHITESPACE","\n\n    ",1704],["T_DOC_COMMENT","\/**\n     * Get all custom options of the product\n     *\n     * @return array\n     *\/",1706],["T_WHITESPACE","\n    ",1710],["T_PUBLIC","public",1711],["T_WHITESPACE"," ",1711],["T_FUNCTION","function",1711],["T_WHITESPACE"," ",1711],["T_STRING","getCustomOptions",1711],"(",")",["T_WHITESPACE","\n    ",1711],"{",["T_WHITESPACE","\n        ",1712],["T_RETURN","return",1713],["T_WHITESPACE"," ",1713],["T_VARIABLE","$this",1713],["T_OBJECT_OPERATOR","->",1713],["T_STRING","_customOptions",1713],";",["T_WHITESPACE","\n    ",1713],"}",["T_WHITESPACE","\n\n    ",1714],["T_DOC_COMMENT","\/**\n     * Get product custom option info\n     *\n     * @param   string $code\n     * @return  array\n     *\/",1716],["T_WHITESPACE","\n    ",1721],["T_PUBLIC","public",1722],["T_WHITESPACE"," ",1722],["T_FUNCTION","function",1722],["T_WHITESPACE"," ",1722],["T_STRING","getCustomOption",1722],"(",["T_VARIABLE","$code",1722],")",["T_WHITESPACE","\n    ",1722],"{",["T_WHITESPACE","\n        ",1723],["T_IF","if",1724],["T_WHITESPACE"," ",1724],"(",["T_ISSET","isset",1724],"(",["T_VARIABLE","$this",1724],["T_OBJECT_OPERATOR","->",1724],["T_STRING","_customOptions",1724],"[",["T_VARIABLE","$code",1724],"]",")",")",["T_WHITESPACE"," ",1724],"{",["T_WHITESPACE","\n            ",1724],["T_RETURN","return",1725],["T_WHITESPACE"," ",1725],["T_VARIABLE","$this",1725],["T_OBJECT_OPERATOR","->",1725],["T_STRING","_customOptions",1725],"[",["T_VARIABLE","$code",1725],"]",";",["T_WHITESPACE","\n        ",1725],"}",["T_WHITESPACE","\n        ",1726],["T_RETURN","return",1727],["T_WHITESPACE"," ",1727],["T_STRING","null",1727],";",["T_WHITESPACE","\n    ",1727],"}",["T_WHITESPACE","\n\n    ",1728],["T_DOC_COMMENT","\/**\n     * Checks if there custom option for this product\n     *\n     * @return bool\n     *\/",1730],["T_WHITESPACE","\n    ",1734],["T_PUBLIC","public",1735],["T_WHITESPACE"," ",1735],["T_FUNCTION","function",1735],["T_WHITESPACE"," ",1735],["T_STRING","hasCustomOptions",1735],"(",")",["T_WHITESPACE","\n    ",1735],"{",["T_WHITESPACE","\n        ",1736],["T_IF","if",1737],["T_WHITESPACE"," ",1737],"(",["T_STRING","count",1737],"(",["T_VARIABLE","$this",1737],["T_OBJECT_OPERATOR","->",1737],["T_STRING","_customOptions",1737],")",")",["T_WHITESPACE"," ",1737],"{",["T_WHITESPACE","\n            ",1737],["T_RETURN","return",1738],["T_WHITESPACE"," ",1738],["T_STRING","true",1738],";",["T_WHITESPACE","\n        ",1738],"}",["T_WHITESPACE"," ",1739],["T_ELSE","else",1739],["T_WHITESPACE"," ",1739],"{",["T_WHITESPACE","\n            ",1739],["T_RETURN","return",1740],["T_WHITESPACE"," ",1740],["T_STRING","false",1740],";",["T_WHITESPACE","\n        ",1740],"}",["T_WHITESPACE","\n    ",1741],"}",["T_WHITESPACE","\n\n    ",1742],["T_DOC_COMMENT","\/**\n     * Check availability display product in category\n     *\n     * @param   int $categoryId\n     * @return  bool\n     *\/",1744],["T_WHITESPACE","\n    ",1749],["T_PUBLIC","public",1750],["T_WHITESPACE"," ",1750],["T_FUNCTION","function",1750],["T_WHITESPACE"," ",1750],["T_STRING","canBeShowInCategory",1750],"(",["T_VARIABLE","$categoryId",1750],")",["T_WHITESPACE","\n    ",1750],"{",["T_WHITESPACE","\n        ",1751],["T_RETURN","return",1752],["T_WHITESPACE"," ",1752],["T_VARIABLE","$this",1752],["T_OBJECT_OPERATOR","->",1752],["T_STRING","_getResource",1752],"(",")",["T_OBJECT_OPERATOR","->",1752],["T_STRING","canBeShowInCategory",1752],"(",["T_VARIABLE","$this",1752],",",["T_WHITESPACE"," ",1752],["T_VARIABLE","$categoryId",1752],")",";",["T_WHITESPACE","\n    ",1752],"}",["T_WHITESPACE","\n\n    ",1753],["T_DOC_COMMENT","\/**\n     * Retrieve category ids where product is available\n     *\n     * @return array\n     *\/",1755],["T_WHITESPACE","\n    ",1759],["T_PUBLIC","public",1760],["T_WHITESPACE"," ",1760],["T_FUNCTION","function",1760],["T_WHITESPACE"," ",1760],["T_STRING","getAvailableInCategories",1760],"(",")",["T_WHITESPACE","\n    ",1760],"{",["T_WHITESPACE","\n        ",1761],["T_RETURN","return",1762],["T_WHITESPACE"," ",1762],["T_VARIABLE","$this",1762],["T_OBJECT_OPERATOR","->",1762],["T_STRING","_getResource",1762],"(",")",["T_OBJECT_OPERATOR","->",1762],["T_STRING","getAvailableInCategories",1762],"(",["T_VARIABLE","$this",1762],")",";",["T_WHITESPACE","\n    ",1762],"}",["T_WHITESPACE","\n\n    ",1763],["T_DOC_COMMENT","\/**\n     * Retrieve default attribute set id\n     *\n     * @return int\n     *\/",1765],["T_WHITESPACE","\n    ",1769],["T_PUBLIC","public",1770],["T_WHITESPACE"," ",1770],["T_FUNCTION","function",1770],["T_WHITESPACE"," ",1770],["T_STRING","getDefaultAttributeSetId",1770],"(",")",["T_WHITESPACE","\n    ",1770],"{",["T_WHITESPACE","\n        ",1771],["T_RETURN","return",1772],["T_WHITESPACE"," ",1772],["T_VARIABLE","$this",1772],["T_OBJECT_OPERATOR","->",1772],["T_STRING","getResource",1772],"(",")",["T_OBJECT_OPERATOR","->",1772],["T_STRING","getEntityType",1772],"(",")",["T_OBJECT_OPERATOR","->",1772],["T_STRING","getDefaultAttributeSetId",1772],"(",")",";",["T_WHITESPACE","\n    ",1772],"}",["T_WHITESPACE","\n\n    ",1773],["T_DOC_COMMENT","\/**\n     * Return Catalog Product Image helper instance\n     *\n     * @return Mage_Catalog_Helper_Image\n     *\/",1775],["T_WHITESPACE","\n    ",1779],["T_PROTECTED","protected",1780],["T_WHITESPACE"," ",1780],["T_FUNCTION","function",1780],["T_WHITESPACE"," ",1780],["T_STRING","_getImageHelper",1780],"(",")",["T_WHITESPACE","\n    ",1780],"{",["T_WHITESPACE","\n        ",1781],["T_RETURN","return",1782],["T_WHITESPACE"," ",1782],["T_STRING","Mage",1782],["T_DOUBLE_COLON","::",1782],["T_STRING","helper",1782],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog\/image'",1782],")",";",["T_WHITESPACE","\n    ",1782],"}",["T_WHITESPACE","\n\n    ",1783],["T_DOC_COMMENT","\/**\n     * Return re-sized image URL\n     *\n     * @deprecated since 1.1.5\n     * @return string\n     *\/",1785],["T_WHITESPACE","\n    ",1790],["T_PUBLIC","public",1791],["T_WHITESPACE"," ",1791],["T_FUNCTION","function",1791],["T_WHITESPACE"," ",1791],["T_STRING","getImageUrl",1791],"(",")",["T_WHITESPACE","\n    ",1791],"{",["T_WHITESPACE","\n        ",1792],["T_RETURN","return",1793],["T_WHITESPACE"," ",1793],["T_STRING_CAST","(string)",1793],["T_VARIABLE","$this",1793],["T_OBJECT_OPERATOR","->",1793],["T_STRING","_getImageHelper",1793],"(",")",["T_OBJECT_OPERATOR","->",1793],["T_STRING","init",1793],"(",["T_VARIABLE","$this",1793],",",["T_WHITESPACE"," ",1793],["T_CONSTANT_ENCAPSED_STRING","'image'",1793],")",["T_OBJECT_OPERATOR","->",1793],["T_STRING","resize",1793],"(",["T_LNUMBER","265",1793],")",";",["T_WHITESPACE","\n    ",1793],"}",["T_WHITESPACE","\n\n    ",1794],["T_DOC_COMMENT","\/**\n     * Return re-sized small image URL\n     *\n     * @deprecated since 1.1.5\n     * @param int $width\n     * @param int $height\n     * @return string\n     *\/",1796],["T_WHITESPACE","\n    ",1803],["T_PUBLIC","public",1804],["T_WHITESPACE"," ",1804],["T_FUNCTION","function",1804],["T_WHITESPACE"," ",1804],["T_STRING","getSmallImageUrl",1804],"(",["T_VARIABLE","$width",1804],["T_WHITESPACE"," ",1804],"=",["T_WHITESPACE"," ",1804],["T_LNUMBER","88",1804],",",["T_WHITESPACE"," ",1804],["T_VARIABLE","$height",1804],["T_WHITESPACE"," ",1804],"=",["T_WHITESPACE"," ",1804],["T_LNUMBER","77",1804],")",["T_WHITESPACE","\n    ",1804],"{",["T_WHITESPACE","\n        ",1805],["T_RETURN","return",1806],["T_WHITESPACE"," ",1806],["T_STRING_CAST","(string)",1806],["T_VARIABLE","$this",1806],["T_OBJECT_OPERATOR","->",1806],["T_STRING","_getImageHelper",1806],"(",")",["T_OBJECT_OPERATOR","->",1806],["T_STRING","init",1806],"(",["T_VARIABLE","$this",1806],",",["T_WHITESPACE"," ",1806],["T_CONSTANT_ENCAPSED_STRING","'small_image'",1806],")",["T_OBJECT_OPERATOR","->",1806],["T_STRING","resize",1806],"(",["T_VARIABLE","$width",1806],",",["T_WHITESPACE"," ",1806],["T_VARIABLE","$height",1806],")",";",["T_WHITESPACE","\n    ",1806],"}",["T_WHITESPACE","\n\n    ",1807],["T_DOC_COMMENT","\/**\n     * Return re-sized thumbnail image URL\n     *\n     * @deprecated since 1.1.5\n     * @param int $width\n     * @param int $height\n     * @return string\n     *\/",1809],["T_WHITESPACE","\n    ",1816],["T_PUBLIC","public",1817],["T_WHITESPACE"," ",1817],["T_FUNCTION","function",1817],["T_WHITESPACE"," ",1817],["T_STRING","getThumbnailUrl",1817],"(",["T_VARIABLE","$width",1817],["T_WHITESPACE"," ",1817],"=",["T_WHITESPACE"," ",1817],["T_LNUMBER","75",1817],",",["T_WHITESPACE"," ",1817],["T_VARIABLE","$height",1817],["T_WHITESPACE"," ",1817],"=",["T_WHITESPACE"," ",1817],["T_LNUMBER","75",1817],")",["T_WHITESPACE","\n    ",1817],"{",["T_WHITESPACE","\n        ",1818],["T_RETURN","return",1819],["T_WHITESPACE"," ",1819],["T_STRING_CAST","(string)",1819],["T_VARIABLE","$this",1819],["T_OBJECT_OPERATOR","->",1819],["T_STRING","_getImageHelper",1819],"(",")",["T_OBJECT_OPERATOR","->",1819],["T_STRING","init",1819],"(",["T_VARIABLE","$this",1819],",",["T_WHITESPACE"," ",1819],["T_CONSTANT_ENCAPSED_STRING","'thumbnail'",1819],")",["T_OBJECT_OPERATOR","->",1819],["T_STRING","resize",1819],"(",["T_VARIABLE","$width",1819],",",["T_WHITESPACE"," ",1819],["T_VARIABLE","$height",1819],")",";",["T_WHITESPACE","\n    ",1819],"}",["T_WHITESPACE","\n\n    ",1820],["T_DOC_COMMENT","\/**\n     *  Returns system reserved attribute codes\n     *\n     *  @return array Reserved attribute names\n     *\/",1822],["T_WHITESPACE","\n    ",1826],["T_PUBLIC","public",1827],["T_WHITESPACE"," ",1827],["T_FUNCTION","function",1827],["T_WHITESPACE"," ",1827],["T_STRING","getReservedAttributes",1827],"(",")",["T_WHITESPACE","\n    ",1827],"{",["T_WHITESPACE","\n        ",1828],["T_IF","if",1829],["T_WHITESPACE"," ",1829],"(",["T_VARIABLE","$this",1829],["T_OBJECT_OPERATOR","->",1829],["T_STRING","_reservedAttributes",1829],["T_WHITESPACE"," ",1829],["T_IS_IDENTICAL","===",1829],["T_WHITESPACE"," ",1829],["T_STRING","null",1829],")",["T_WHITESPACE"," ",1829],"{",["T_WHITESPACE","\n            ",1829],["T_VARIABLE","$_reserved",1830],["T_WHITESPACE"," ",1830],"=",["T_WHITESPACE"," ",1830],["T_ARRAY","array",1830],"(",["T_CONSTANT_ENCAPSED_STRING","'position'",1830],")",";",["T_WHITESPACE","\n            ",1830],["T_VARIABLE","$methods",1831],["T_WHITESPACE"," ",1831],"=",["T_WHITESPACE"," ",1831],["T_STRING","get_class_methods",1831],"(",["T_CLASS_C","__CLASS__",1831],")",";",["T_WHITESPACE","\n            ",1831],["T_FOREACH","foreach",1832],["T_WHITESPACE"," ",1832],"(",["T_VARIABLE","$methods",1832],["T_WHITESPACE"," ",1832],["T_AS","as",1832],["T_WHITESPACE"," ",1832],["T_VARIABLE","$method",1832],")",["T_WHITESPACE"," ",1832],"{",["T_WHITESPACE","\n                ",1832],["T_IF","if",1833],["T_WHITESPACE"," ",1833],"(",["T_STRING","preg_match",1833],"(",["T_CONSTANT_ENCAPSED_STRING","'\/^get([A-Z]{1}.+)\/'",1833],",",["T_WHITESPACE"," ",1833],["T_VARIABLE","$method",1833],",",["T_WHITESPACE"," ",1833],["T_VARIABLE","$matches",1833],")",")",["T_WHITESPACE"," ",1833],"{",["T_WHITESPACE","\n                    ",1833],["T_VARIABLE","$method",1834],["T_WHITESPACE"," ",1834],"=",["T_WHITESPACE"," ",1834],["T_VARIABLE","$matches",1834],"[",["T_LNUMBER","1",1834],"]",";",["T_WHITESPACE","\n                    ",1834],["T_VARIABLE","$tmp",1835],["T_WHITESPACE"," ",1835],"=",["T_WHITESPACE"," ",1835],["T_STRING","strtolower",1835],"(",["T_STRING","preg_replace",1835],"(",["T_CONSTANT_ENCAPSED_STRING","'\/(.)([A-Z])\/'",1835],",",["T_WHITESPACE"," ",1835],["T_CONSTANT_ENCAPSED_STRING","\"$1_$2\"",1835],",",["T_WHITESPACE"," ",1835],["T_VARIABLE","$method",1835],")",")",";",["T_WHITESPACE","\n                    ",1835],["T_VARIABLE","$_reserved",1836],"[","]",["T_WHITESPACE"," ",1836],"=",["T_WHITESPACE"," ",1836],["T_VARIABLE","$tmp",1836],";",["T_WHITESPACE","\n                ",1836],"}",["T_WHITESPACE","\n            ",1837],"}",["T_WHITESPACE","\n            ",1838],["T_VARIABLE","$_allowed",1839],["T_WHITESPACE"," ",1839],"=",["T_WHITESPACE"," ",1839],["T_ARRAY","array",1839],"(",["T_WHITESPACE","\n                ",1839],["T_CONSTANT_ENCAPSED_STRING","'type_id'",1840],",",["T_CONSTANT_ENCAPSED_STRING","'calculated_final_price'",1840],",",["T_CONSTANT_ENCAPSED_STRING","'request_path'",1840],",",["T_CONSTANT_ENCAPSED_STRING","'rating_summary'",1840],["T_WHITESPACE","\n            ",1840],")",";",["T_WHITESPACE","\n            ",1841],["T_VARIABLE","$this",1842],["T_OBJECT_OPERATOR","->",1842],["T_STRING","_reservedAttributes",1842],["T_WHITESPACE"," ",1842],"=",["T_WHITESPACE"," ",1842],["T_STRING","array_diff",1842],"(",["T_VARIABLE","$_reserved",1842],",",["T_WHITESPACE"," ",1842],["T_VARIABLE","$_allowed",1842],")",";",["T_WHITESPACE","\n        ",1842],"}",["T_WHITESPACE","\n        ",1843],["T_RETURN","return",1844],["T_WHITESPACE"," ",1844],["T_VARIABLE","$this",1844],["T_OBJECT_OPERATOR","->",1844],["T_STRING","_reservedAttributes",1844],";",["T_WHITESPACE","\n    ",1844],"}",["T_WHITESPACE","\n\n    ",1845],["T_DOC_COMMENT","\/**\n     *  Check whether attribute reserved or not\n     *\n     *  @param Mage_Catalog_Model_Entity_Attribute $attribute Attribute model object\n     *  @return boolean\n     *\/",1847],["T_WHITESPACE","\n    ",1852],["T_PUBLIC","public",1853],["T_WHITESPACE"," ",1853],["T_FUNCTION","function",1853],["T_WHITESPACE"," ",1853],["T_STRING","isReservedAttribute",1853],["T_WHITESPACE"," ",1853],"(",["T_VARIABLE","$attribute",1853],")",["T_WHITESPACE","\n    ",1853],"{",["T_WHITESPACE","\n        ",1854],["T_RETURN","return",1855],["T_WHITESPACE"," ",1855],["T_VARIABLE","$attribute",1855],["T_OBJECT_OPERATOR","->",1855],["T_STRING","getIsUserDefined",1855],"(",")",["T_WHITESPACE","\n            ",1855],["T_BOOLEAN_AND","&&",1856],["T_WHITESPACE"," ",1856],["T_STRING","in_array",1856],"(",["T_VARIABLE","$attribute",1856],["T_OBJECT_OPERATOR","->",1856],["T_STRING","getAttributeCode",1856],"(",")",",",["T_WHITESPACE"," ",1856],["T_VARIABLE","$this",1856],["T_OBJECT_OPERATOR","->",1856],["T_STRING","getReservedAttributes",1856],"(",")",")",";",["T_WHITESPACE","\n    ",1856],"}",["T_WHITESPACE","\n\n    ",1857],["T_DOC_COMMENT","\/**\n     * Set original loaded data if needed\n     *\n     * @param string $key\n     * @param mixed $data\n     * @return Varien_Object\n     *\/",1859],["T_WHITESPACE","\n    ",1865],["T_PUBLIC","public",1866],["T_WHITESPACE"," ",1866],["T_FUNCTION","function",1866],["T_WHITESPACE"," ",1866],["T_STRING","setOrigData",1866],"(",["T_VARIABLE","$key",1866],"=",["T_STRING","null",1866],",",["T_WHITESPACE"," ",1866],["T_VARIABLE","$data",1866],"=",["T_STRING","null",1866],")",["T_WHITESPACE","\n    ",1866],"{",["T_WHITESPACE","\n        ",1867],["T_IF","if",1868],["T_WHITESPACE"," ",1868],"(",["T_STRING","Mage",1868],["T_DOUBLE_COLON","::",1868],["T_STRING","app",1868],"(",")",["T_OBJECT_OPERATOR","->",1868],["T_STRING","getStore",1868],"(",")",["T_OBJECT_OPERATOR","->",1868],["T_STRING","isAdmin",1868],"(",")",")",["T_WHITESPACE"," ",1868],"{",["T_WHITESPACE","\n            ",1868],["T_RETURN","return",1869],["T_WHITESPACE"," ",1869],["T_STRING","parent",1869],["T_DOUBLE_COLON","::",1869],["T_STRING","setOrigData",1869],"(",["T_VARIABLE","$key",1869],",",["T_WHITESPACE"," ",1869],["T_VARIABLE","$data",1869],")",";",["T_WHITESPACE","\n        ",1869],"}",["T_WHITESPACE","\n\n        ",1870],["T_RETURN","return",1872],["T_WHITESPACE"," ",1872],["T_VARIABLE","$this",1872],";",["T_WHITESPACE","\n    ",1872],"}",["T_WHITESPACE","\n\n    ",1873],["T_DOC_COMMENT","\/**\n     * Reset all model data\n     *\n     * @return Mage_Catalog_Model_Product\n     *\/",1875],["T_WHITESPACE","\n    ",1879],["T_PUBLIC","public",1880],["T_WHITESPACE"," ",1880],["T_FUNCTION","function",1880],["T_WHITESPACE"," ",1880],["T_STRING","reset",1880],"(",")",["T_WHITESPACE","\n    ",1880],"{",["T_WHITESPACE","\n        ",1881],["T_VARIABLE","$this",1882],["T_OBJECT_OPERATOR","->",1882],["T_STRING","unlockAttributes",1882],"(",")",";",["T_WHITESPACE","\n        ",1882],["T_VARIABLE","$this",1883],["T_OBJECT_OPERATOR","->",1883],["T_STRING","_clearData",1883],"(",")",";",["T_WHITESPACE","\n        ",1883],["T_RETURN","return",1884],["T_WHITESPACE"," ",1884],["T_VARIABLE","$this",1884],";",["T_WHITESPACE","\n    ",1884],"}",["T_WHITESPACE","\n\n    ",1885],["T_DOC_COMMENT","\/**\n     * Get cahce tags associated with object id\n     *\n     * @return array\n     *\/",1887],["T_WHITESPACE","\n    ",1891],["T_PUBLIC","public",1892],["T_WHITESPACE"," ",1892],["T_FUNCTION","function",1892],["T_WHITESPACE"," ",1892],["T_STRING","getCacheIdTagsWithCategories",1892],"(",")",["T_WHITESPACE","\n    ",1892],"{",["T_WHITESPACE","\n        ",1893],["T_VARIABLE","$tags",1894],["T_WHITESPACE"," ",1894],"=",["T_WHITESPACE"," ",1894],["T_VARIABLE","$this",1894],["T_OBJECT_OPERATOR","->",1894],["T_STRING","getCacheTags",1894],"(",")",";",["T_WHITESPACE","\n        ",1894],["T_VARIABLE","$affectedCategoryIds",1895],["T_WHITESPACE"," ",1895],"=",["T_WHITESPACE"," ",1895],["T_VARIABLE","$this",1895],["T_OBJECT_OPERATOR","->",1895],["T_STRING","_getResource",1895],"(",")",["T_OBJECT_OPERATOR","->",1895],["T_STRING","getCategoryIdsWithAnchors",1895],"(",["T_VARIABLE","$this",1895],")",";",["T_WHITESPACE","\n        ",1895],["T_FOREACH","foreach",1896],["T_WHITESPACE"," ",1896],"(",["T_VARIABLE","$affectedCategoryIds",1896],["T_WHITESPACE"," ",1896],["T_AS","as",1896],["T_WHITESPACE"," ",1896],["T_VARIABLE","$categoryId",1896],")",["T_WHITESPACE"," ",1896],"{",["T_WHITESPACE","\n            ",1896],["T_VARIABLE","$tags",1897],"[","]",["T_WHITESPACE"," ",1897],"=",["T_WHITESPACE"," ",1897],["T_STRING","Mage_Catalog_Model_Category",1897],["T_DOUBLE_COLON","::",1897],["T_STRING","CACHE_TAG",1897],".",["T_CONSTANT_ENCAPSED_STRING","'_'",1897],".",["T_VARIABLE","$categoryId",1897],";",["T_WHITESPACE","\n        ",1897],"}",["T_WHITESPACE","\n        ",1898],["T_RETURN","return",1899],["T_WHITESPACE"," ",1899],["T_VARIABLE","$tags",1899],";",["T_WHITESPACE","\n    ",1899],"}",["T_WHITESPACE","\n\n    ",1900],["T_DOC_COMMENT","\/**\n     * Remove model onject related cache\n     *\n     * @return Mage_Core_Model_Abstract\n     *\/",1902],["T_WHITESPACE","\n    ",1906],["T_PUBLIC","public",1907],["T_WHITESPACE"," ",1907],["T_FUNCTION","function",1907],["T_WHITESPACE"," ",1907],["T_STRING","cleanModelCache",1907],"(",")",["T_WHITESPACE","\n    ",1907],"{",["T_WHITESPACE","\n        ",1908],["T_VARIABLE","$tags",1909],["T_WHITESPACE"," ",1909],"=",["T_WHITESPACE"," ",1909],["T_VARIABLE","$this",1909],["T_OBJECT_OPERATOR","->",1909],["T_STRING","getCacheIdTagsWithCategories",1909],"(",")",";",["T_WHITESPACE","\n        ",1909],["T_IF","if",1910],["T_WHITESPACE"," ",1910],"(",["T_VARIABLE","$tags",1910],["T_WHITESPACE"," ",1910],["T_IS_NOT_IDENTICAL","!==",1910],["T_WHITESPACE"," ",1910],["T_STRING","false",1910],")",["T_WHITESPACE"," ",1910],"{",["T_WHITESPACE","\n            ",1910],["T_STRING","Mage",1911],["T_DOUBLE_COLON","::",1911],["T_STRING","app",1911],"(",")",["T_OBJECT_OPERATOR","->",1911],["T_STRING","cleanCache",1911],"(",["T_VARIABLE","$tags",1911],")",";",["T_WHITESPACE","\n        ",1911],"}",["T_WHITESPACE","\n        ",1912],["T_RETURN","return",1913],["T_WHITESPACE"," ",1913],["T_VARIABLE","$this",1913],";",["T_WHITESPACE","\n    ",1913],"}",["T_WHITESPACE","\n\n    ",1914],["T_DOC_COMMENT","\/**\n     * Check for empty SKU on each product\n     *\n     * @param  array $productIds\n     * @return boolean|null\n     *\/",1916],["T_WHITESPACE","\n    ",1921],["T_PUBLIC","public",1922],["T_WHITESPACE"," ",1922],["T_FUNCTION","function",1922],["T_WHITESPACE"," ",1922],["T_STRING","isProductsHasSku",1922],"(",["T_ARRAY","array",1922],["T_WHITESPACE"," ",1922],["T_VARIABLE","$productIds",1922],")",["T_WHITESPACE","\n    ",1922],"{",["T_WHITESPACE","\n        ",1923],["T_VARIABLE","$products",1924],["T_WHITESPACE"," ",1924],"=",["T_WHITESPACE"," ",1924],["T_VARIABLE","$this",1924],["T_OBJECT_OPERATOR","->",1924],["T_STRING","_getResource",1924],"(",")",["T_OBJECT_OPERATOR","->",1924],["T_STRING","getProductsSku",1924],"(",["T_VARIABLE","$productIds",1924],")",";",["T_WHITESPACE","\n        ",1924],["T_IF","if",1925],["T_WHITESPACE"," ",1925],"(",["T_STRING","count",1925],"(",["T_VARIABLE","$products",1925],")",")",["T_WHITESPACE"," ",1925],"{",["T_WHITESPACE","\n            ",1925],["T_FOREACH","foreach",1926],["T_WHITESPACE"," ",1926],"(",["T_VARIABLE","$products",1926],["T_WHITESPACE"," ",1926],["T_AS","as",1926],["T_WHITESPACE"," ",1926],["T_VARIABLE","$product",1926],")",["T_WHITESPACE"," ",1926],"{",["T_WHITESPACE","\n                ",1926],["T_IF","if",1927],["T_WHITESPACE"," ",1927],"(","!",["T_STRING","strlen",1927],"(",["T_VARIABLE","$product",1927],"[",["T_CONSTANT_ENCAPSED_STRING","'sku'",1927],"]",")",")",["T_WHITESPACE"," ",1927],"{",["T_WHITESPACE","\n                    ",1927],["T_RETURN","return",1928],["T_WHITESPACE"," ",1928],["T_STRING","false",1928],";",["T_WHITESPACE","\n                ",1928],"}",["T_WHITESPACE","\n            ",1929],"}",["T_WHITESPACE","\n            ",1930],["T_RETURN","return",1931],["T_WHITESPACE"," ",1931],["T_STRING","true",1931],";",["T_WHITESPACE","\n        ",1931],"}",["T_WHITESPACE","\n        ",1932],["T_RETURN","return",1933],["T_WHITESPACE"," ",1933],["T_STRING","null",1933],";",["T_WHITESPACE","\n    ",1933],"}",["T_WHITESPACE","\n\n    ",1934],["T_DOC_COMMENT","\/**\n     * Parse buyRequest into options values used by product\n     *\n     * @param  Varien_Object $buyRequest\n     * @return Varien_Object\n     *\/",1936],["T_WHITESPACE","\n    ",1941],["T_PUBLIC","public",1942],["T_WHITESPACE"," ",1942],["T_FUNCTION","function",1942],["T_WHITESPACE"," ",1942],["T_STRING","processBuyRequest",1942],"(",["T_STRING","Varien_Object",1942],["T_WHITESPACE"," ",1942],["T_VARIABLE","$buyRequest",1942],")",["T_WHITESPACE","\n    ",1942],"{",["T_WHITESPACE","\n        ",1943],["T_VARIABLE","$options",1944],["T_WHITESPACE"," ",1944],"=",["T_WHITESPACE"," ",1944],["T_NEW","new",1944],["T_WHITESPACE"," ",1944],["T_STRING","Varien_Object",1944],"(",")",";",["T_WHITESPACE","\n\n        ",1944],["T_COMMENT","\/* add product custom options data *\/",1946],["T_WHITESPACE","\n        ",1946],["T_VARIABLE","$customOptions",1947],["T_WHITESPACE"," ",1947],"=",["T_WHITESPACE"," ",1947],["T_VARIABLE","$buyRequest",1947],["T_OBJECT_OPERATOR","->",1947],["T_STRING","getOptions",1947],"(",")",";",["T_WHITESPACE","\n        ",1947],["T_IF","if",1948],["T_WHITESPACE"," ",1948],"(",["T_STRING","is_array",1948],"(",["T_VARIABLE","$customOptions",1948],")",")",["T_WHITESPACE"," ",1948],"{",["T_WHITESPACE","\n            ",1948],["T_FOREACH","foreach",1949],["T_WHITESPACE"," ",1949],"(",["T_VARIABLE","$customOptions",1949],["T_WHITESPACE"," ",1949],["T_AS","as",1949],["T_WHITESPACE"," ",1949],["T_VARIABLE","$key",1949],["T_WHITESPACE"," ",1949],["T_DOUBLE_ARROW","=>",1949],["T_WHITESPACE"," ",1949],["T_VARIABLE","$value",1949],")",["T_WHITESPACE"," ",1949],"{",["T_WHITESPACE","\n                ",1949],["T_IF","if",1950],["T_WHITESPACE"," ",1950],"(",["T_VARIABLE","$value",1950],["T_WHITESPACE"," ",1950],["T_IS_IDENTICAL","===",1950],["T_WHITESPACE"," ",1950],["T_CONSTANT_ENCAPSED_STRING","''",1950],")",["T_WHITESPACE"," ",1950],"{",["T_WHITESPACE","\n                    ",1950],["T_UNSET","unset",1951],"(",["T_VARIABLE","$customOptions",1951],"[",["T_VARIABLE","$key",1951],"]",")",";",["T_WHITESPACE","\n                ",1951],"}",["T_WHITESPACE","\n            ",1952],"}",["T_WHITESPACE","\n            ",1953],["T_VARIABLE","$options",1954],["T_OBJECT_OPERATOR","->",1954],["T_STRING","setOptions",1954],"(",["T_VARIABLE","$customOptions",1954],")",";",["T_WHITESPACE","\n        ",1954],"}",["T_WHITESPACE","\n\n        ",1955],["T_COMMENT","\/* add product type selected options data *\/",1957],["T_WHITESPACE","\n        ",1957],["T_VARIABLE","$type",1958],["T_WHITESPACE"," ",1958],"=",["T_WHITESPACE"," ",1958],["T_VARIABLE","$this",1958],["T_OBJECT_OPERATOR","->",1958],["T_STRING","getTypeInstance",1958],"(",["T_STRING","true",1958],")",";",["T_WHITESPACE","\n        ",1958],["T_VARIABLE","$typeSpecificOptions",1959],["T_WHITESPACE"," ",1959],"=",["T_WHITESPACE"," ",1959],["T_VARIABLE","$type",1959],["T_OBJECT_OPERATOR","->",1959],["T_STRING","processBuyRequest",1959],"(",["T_VARIABLE","$this",1959],",",["T_WHITESPACE"," ",1959],["T_VARIABLE","$buyRequest",1959],")",";",["T_WHITESPACE","\n        ",1959],["T_VARIABLE","$options",1960],["T_OBJECT_OPERATOR","->",1960],["T_STRING","addData",1960],"(",["T_VARIABLE","$typeSpecificOptions",1960],")",";",["T_WHITESPACE","\n\n        ",1960],["T_COMMENT","\/* check correctness of product's options *\/",1962],["T_WHITESPACE","\n        ",1962],["T_VARIABLE","$options",1963],["T_OBJECT_OPERATOR","->",1963],["T_STRING","setErrors",1963],"(",["T_VARIABLE","$type",1963],["T_OBJECT_OPERATOR","->",1963],["T_STRING","checkProductConfiguration",1963],"(",["T_VARIABLE","$this",1963],",",["T_WHITESPACE"," ",1963],["T_VARIABLE","$buyRequest",1963],")",")",";",["T_WHITESPACE","\n\n        ",1963],["T_RETURN","return",1965],["T_WHITESPACE"," ",1965],["T_VARIABLE","$options",1965],";",["T_WHITESPACE","\n    ",1965],"}",["T_WHITESPACE","\n\n    ",1966],["T_DOC_COMMENT","\/**\n     * Get preconfigured values from product\n     *\n     * @return Varien_Object\n     *\/",1968],["T_WHITESPACE","\n    ",1972],["T_PUBLIC","public",1973],["T_WHITESPACE"," ",1973],["T_FUNCTION","function",1973],["T_WHITESPACE"," ",1973],["T_STRING","getPreconfiguredValues",1973],"(",")",["T_WHITESPACE","\n    ",1973],"{",["T_WHITESPACE","\n        ",1974],["T_VARIABLE","$preconfiguredValues",1975],["T_WHITESPACE"," ",1975],"=",["T_WHITESPACE"," ",1975],["T_VARIABLE","$this",1975],["T_OBJECT_OPERATOR","->",1975],["T_STRING","getData",1975],"(",["T_CONSTANT_ENCAPSED_STRING","'preconfigured_values'",1975],")",";",["T_WHITESPACE","\n        ",1975],["T_IF","if",1976],["T_WHITESPACE"," ",1976],"(","!",["T_VARIABLE","$preconfiguredValues",1976],")",["T_WHITESPACE"," ",1976],"{",["T_WHITESPACE","\n            ",1976],["T_VARIABLE","$preconfiguredValues",1977],["T_WHITESPACE"," ",1977],"=",["T_WHITESPACE"," ",1977],["T_NEW","new",1977],["T_WHITESPACE"," ",1977],["T_STRING","Varien_Object",1977],"(",")",";",["T_WHITESPACE","\n        ",1977],"}",["T_WHITESPACE","\n\n        ",1978],["T_RETURN","return",1980],["T_WHITESPACE"," ",1980],["T_VARIABLE","$preconfiguredValues",1980],";",["T_WHITESPACE","\n    ",1980],"}",["T_WHITESPACE","\n\n    ",1981],["T_DOC_COMMENT","\/**\n     * Prepare product custom options.\n     * To be sure that all product custom options does not has ID and has product instance\n     *\n     * @return Mage_Catalog_Model_Product\n     *\/",1983],["T_WHITESPACE","\n    ",1988],["T_PUBLIC","public",1989],["T_WHITESPACE"," ",1989],["T_FUNCTION","function",1989],["T_WHITESPACE"," ",1989],["T_STRING","prepareCustomOptions",1989],"(",")",["T_WHITESPACE","\n    ",1989],"{",["T_WHITESPACE","\n        ",1990],["T_FOREACH","foreach",1991],["T_WHITESPACE"," ",1991],"(",["T_VARIABLE","$this",1991],["T_OBJECT_OPERATOR","->",1991],["T_STRING","getCustomOptions",1991],"(",")",["T_WHITESPACE"," ",1991],["T_AS","as",1991],["T_WHITESPACE"," ",1991],["T_VARIABLE","$option",1991],")",["T_WHITESPACE"," ",1991],"{",["T_WHITESPACE","\n            ",1991],["T_IF","if",1992],["T_WHITESPACE"," ",1992],"(","!",["T_STRING","is_object",1992],"(",["T_VARIABLE","$option",1992],["T_OBJECT_OPERATOR","->",1992],["T_STRING","getProduct",1992],"(",")",")",["T_WHITESPACE"," ",1992],["T_BOOLEAN_OR","||",1992],["T_WHITESPACE"," ",1992],["T_VARIABLE","$option",1992],["T_OBJECT_OPERATOR","->",1992],["T_STRING","getId",1992],"(",")",")",["T_WHITESPACE"," ",1992],"{",["T_WHITESPACE","\n                ",1992],["T_VARIABLE","$this",1993],["T_OBJECT_OPERATOR","->",1993],["T_STRING","addCustomOption",1993],"(",["T_VARIABLE","$option",1993],["T_OBJECT_OPERATOR","->",1993],["T_STRING","getCode",1993],"(",")",",",["T_WHITESPACE"," ",1993],["T_VARIABLE","$option",1993],["T_OBJECT_OPERATOR","->",1993],["T_STRING","getValue",1993],"(",")",")",";",["T_WHITESPACE","\n            ",1993],"}",["T_WHITESPACE","\n        ",1994],"}",["T_WHITESPACE","\n\n        ",1995],["T_RETURN","return",1997],["T_WHITESPACE"," ",1997],["T_VARIABLE","$this",1997],";",["T_WHITESPACE","\n    ",1997],"}",["T_WHITESPACE","\n\n    ",1998],["T_DOC_COMMENT","\/**\n     * Clearing references on product\n     *\n     * @return Mage_Catalog_Model_Product\n     *\/",2000],["T_WHITESPACE","\n    ",2004],["T_PROTECTED","protected",2005],["T_WHITESPACE"," ",2005],["T_FUNCTION","function",2005],["T_WHITESPACE"," ",2005],["T_STRING","_clearReferences",2005],"(",")",["T_WHITESPACE","\n    ",2005],"{",["T_WHITESPACE","\n        ",2006],["T_VARIABLE","$this",2007],["T_OBJECT_OPERATOR","->",2007],["T_STRING","_clearOptionReferences",2007],"(",")",";",["T_WHITESPACE","\n        ",2007],["T_RETURN","return",2008],["T_WHITESPACE"," ",2008],["T_VARIABLE","$this",2008],";",["T_WHITESPACE","\n    ",2008],"}",["T_WHITESPACE","\n\n    ",2009],["T_DOC_COMMENT","\/**\n     * Clearing product's data\n     *\n     * @return Mage_Catalog_Model_Product\n     *\/",2011],["T_WHITESPACE","\n    ",2015],["T_PROTECTED","protected",2016],["T_WHITESPACE"," ",2016],["T_FUNCTION","function",2016],["T_WHITESPACE"," ",2016],["T_STRING","_clearData",2016],"(",")",["T_WHITESPACE","\n    ",2016],"{",["T_WHITESPACE","\n        ",2017],["T_FOREACH","foreach",2018],["T_WHITESPACE"," ",2018],"(",["T_VARIABLE","$this",2018],["T_OBJECT_OPERATOR","->",2018],["T_STRING","_data",2018],["T_WHITESPACE"," ",2018],["T_AS","as",2018],["T_WHITESPACE"," ",2018],["T_VARIABLE","$data",2018],")","{",["T_WHITESPACE","\n            ",2018],["T_IF","if",2019],["T_WHITESPACE"," ",2019],"(",["T_STRING","is_object",2019],"(",["T_VARIABLE","$data",2019],")",["T_WHITESPACE"," ",2019],["T_BOOLEAN_AND","&&",2019],["T_WHITESPACE"," ",2019],["T_STRING","method_exists",2019],"(",["T_VARIABLE","$data",2019],",",["T_WHITESPACE"," ",2019],["T_CONSTANT_ENCAPSED_STRING","'reset'",2019],")",")","{",["T_WHITESPACE","\n                ",2019],["T_VARIABLE","$data",2020],["T_OBJECT_OPERATOR","->",2020],["T_STRING","reset",2020],"(",")",";",["T_WHITESPACE","\n            ",2020],"}",["T_WHITESPACE","\n        ",2021],"}",["T_WHITESPACE","\n\n        ",2022],["T_VARIABLE","$this",2024],["T_OBJECT_OPERATOR","->",2024],["T_STRING","setData",2024],"(",["T_ARRAY","array",2024],"(",")",")",";",["T_WHITESPACE","\n        ",2024],["T_VARIABLE","$this",2025],["T_OBJECT_OPERATOR","->",2025],["T_STRING","setOrigData",2025],"(",")",";",["T_WHITESPACE","\n        ",2025],["T_VARIABLE","$this",2026],["T_OBJECT_OPERATOR","->",2026],["T_STRING","_customOptions",2026],["T_WHITESPACE","       ",2026],"=",["T_WHITESPACE"," ",2026],["T_ARRAY","array",2026],"(",")",";",["T_WHITESPACE","\n        ",2026],["T_VARIABLE","$this",2027],["T_OBJECT_OPERATOR","->",2027],["T_STRING","_optionInstance",2027],["T_WHITESPACE","      ",2027],"=",["T_WHITESPACE"," ",2027],["T_STRING","null",2027],";",["T_WHITESPACE","\n        ",2027],["T_VARIABLE","$this",2028],["T_OBJECT_OPERATOR","->",2028],["T_STRING","_options",2028],["T_WHITESPACE","             ",2028],"=",["T_WHITESPACE"," ",2028],["T_ARRAY","array",2028],"(",")",";",["T_WHITESPACE","\n        ",2028],["T_VARIABLE","$this",2029],["T_OBJECT_OPERATOR","->",2029],["T_STRING","_canAffectOptions",2029],["T_WHITESPACE","    ",2029],"=",["T_WHITESPACE"," ",2029],["T_STRING","false",2029],";",["T_WHITESPACE","\n        ",2029],["T_VARIABLE","$this",2030],["T_OBJECT_OPERATOR","->",2030],["T_STRING","_errors",2030],["T_WHITESPACE","              ",2030],"=",["T_WHITESPACE"," ",2030],["T_ARRAY","array",2030],"(",")",";",["T_WHITESPACE","\n\n        ",2030],["T_RETURN","return",2032],["T_WHITESPACE"," ",2032],["T_VARIABLE","$this",2032],";",["T_WHITESPACE","\n    ",2032],"}",["T_WHITESPACE","\n\n    ",2033],["T_DOC_COMMENT","\/**\n     * Clearing references to product from product's options\n     *\n     * @return Mage_Catalog_Model_Product\n     *\/",2035],["T_WHITESPACE","\n    ",2039],["T_PROTECTED","protected",2040],["T_WHITESPACE"," ",2040],["T_FUNCTION","function",2040],["T_WHITESPACE"," ",2040],["T_STRING","_clearOptionReferences",2040],"(",")",["T_WHITESPACE","\n    ",2040],"{",["T_WHITESPACE","\n        ",2041],["T_DOC_COMMENT","\/**\n         * unload product options\n         *\/",2042],["T_WHITESPACE","\n        ",2044],["T_IF","if",2045],["T_WHITESPACE"," ",2045],"(","!",["T_EMPTY","empty",2045],"(",["T_VARIABLE","$this",2045],["T_OBJECT_OPERATOR","->",2045],["T_STRING","_options",2045],")",")",["T_WHITESPACE"," ",2045],"{",["T_WHITESPACE","\n            ",2045],["T_FOREACH","foreach",2046],["T_WHITESPACE"," ",2046],"(",["T_VARIABLE","$this",2046],["T_OBJECT_OPERATOR","->",2046],["T_STRING","_options",2046],["T_WHITESPACE"," ",2046],["T_AS","as",2046],["T_WHITESPACE"," ",2046],["T_VARIABLE","$key",2046],["T_WHITESPACE"," ",2046],["T_DOUBLE_ARROW","=>",2046],["T_WHITESPACE"," ",2046],["T_VARIABLE","$option",2046],")",["T_WHITESPACE"," ",2046],"{",["T_WHITESPACE","\n                ",2046],["T_VARIABLE","$option",2047],["T_OBJECT_OPERATOR","->",2047],["T_STRING","setProduct",2047],"(",")",";",["T_WHITESPACE","\n                ",2047],["T_VARIABLE","$option",2048],["T_OBJECT_OPERATOR","->",2048],["T_STRING","clearInstance",2048],"(",")",";",["T_WHITESPACE","\n            ",2048],"}",["T_WHITESPACE","\n        ",2049],"}",["T_WHITESPACE","\n\n        ",2050],["T_RETURN","return",2052],["T_WHITESPACE"," ",2052],["T_VARIABLE","$this",2052],";",["T_WHITESPACE","\n    ",2052],"}",["T_WHITESPACE","\n\n    ",2053],["T_DOC_COMMENT","\/**\n     * Retrieve product entities info as array\n     *\n     * @param string|array $columns One or several columns\n     * @return array\n     *\/",2055],["T_WHITESPACE","\n    ",2060],["T_PUBLIC","public",2061],["T_WHITESPACE"," ",2061],["T_FUNCTION","function",2061],["T_WHITESPACE"," ",2061],["T_STRING","getProductEntitiesInfo",2061],"(",["T_VARIABLE","$columns",2061],["T_WHITESPACE"," ",2061],"=",["T_WHITESPACE"," ",2061],["T_STRING","null",2061],")",["T_WHITESPACE","\n    ",2061],"{",["T_WHITESPACE","\n        ",2062],["T_RETURN","return",2063],["T_WHITESPACE"," ",2063],["T_VARIABLE","$this",2063],["T_OBJECT_OPERATOR","->",2063],["T_STRING","_getResource",2063],"(",")",["T_OBJECT_OPERATOR","->",2063],["T_STRING","getProductEntitiesInfo",2063],"(",["T_VARIABLE","$columns",2063],")",";",["T_WHITESPACE","\n    ",2063],"}",["T_WHITESPACE","\n\n    ",2064],["T_DOC_COMMENT","\/**\n     * Checks whether product has disabled status\n     *\n     * @return bool\n     *\/",2066],["T_WHITESPACE","\n    ",2070],["T_PUBLIC","public",2071],["T_WHITESPACE"," ",2071],["T_FUNCTION","function",2071],["T_WHITESPACE"," ",2071],["T_STRING","isDisabled",2071],"(",")",["T_WHITESPACE","\n    ",2071],"{",["T_WHITESPACE","\n        ",2072],["T_RETURN","return",2073],["T_WHITESPACE"," ",2073],["T_VARIABLE","$this",2073],["T_OBJECT_OPERATOR","->",2073],["T_STRING","getStatus",2073],"(",")",["T_WHITESPACE"," ",2073],["T_IS_EQUAL","==",2073],["T_WHITESPACE"," ",2073],["T_STRING","Mage_Catalog_Model_Product_Status",2073],["T_DOUBLE_COLON","::",2073],["T_STRING","STATUS_DISABLED",2073],";",["T_WHITESPACE","\n    ",2073],"}",["T_WHITESPACE","\n\n    ",2074],["T_DOC_COMMENT","\/**\n     * Callback function which called after transaction commit in resource model\n     *\n     * @return Mage_Catalog_Model_Product\n     *\/",2076],["T_WHITESPACE","\n    ",2080],["T_PUBLIC","public",2081],["T_WHITESPACE"," ",2081],["T_FUNCTION","function",2081],["T_WHITESPACE"," ",2081],["T_STRING","afterCommitCallback",2081],"(",")",["T_WHITESPACE","\n    ",2081],"{",["T_WHITESPACE","\n        ",2082],["T_STRING","parent",2083],["T_DOUBLE_COLON","::",2083],["T_STRING","afterCommitCallback",2083],"(",")",";",["T_WHITESPACE","\n\n        ",2083],["T_DOC_COMMENT","\/** @var \\Mage_Index_Model_Indexer $indexer *\/",2085],["T_WHITESPACE","\n        ",2085],["T_VARIABLE","$indexer",2086],["T_WHITESPACE"," ",2086],"=",["T_WHITESPACE"," ",2086],["T_STRING","Mage",2086],["T_DOUBLE_COLON","::",2086],["T_STRING","getSingleton",2086],"(",["T_CONSTANT_ENCAPSED_STRING","'index\/indexer'",2086],")",";",["T_WHITESPACE","\n        ",2086],["T_VARIABLE","$indexer",2087],["T_OBJECT_OPERATOR","->",2087],["T_STRING","processEntityAction",2087],"(",["T_VARIABLE","$this",2087],",",["T_WHITESPACE"," ",2087],["T_STRING","self",2087],["T_DOUBLE_COLON","::",2087],["T_STRING","ENTITY",2087],",",["T_WHITESPACE"," ",2087],["T_STRING","Mage_Index_Model_Event",2087],["T_DOUBLE_COLON","::",2087],["T_STRING","TYPE_SAVE",2087],")",";",["T_WHITESPACE","\n\n        ",2087],["T_RETURN","return",2089],["T_WHITESPACE"," ",2089],["T_VARIABLE","$this",2089],";",["T_WHITESPACE","\n    ",2089],"}",["T_WHITESPACE","\n",2090],"}",["T_WHITESPACE","\n",2091]]