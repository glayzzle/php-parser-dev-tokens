[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Magento\n *\n * NOTICE OF LICENSE\n *\n * This source file is subject to the Open Software License (OSL 3.0)\n * that is bundled with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/opensource.org\/licenses\/osl-3.0.php\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@magento.com so we can send you a copy immediately.\n *\n * DISCLAIMER\n *\n * Do not edit or add to this file if you wish to upgrade Magento to newer\n * versions in the future. If you wish to customize Magento for your\n * needs please refer to http:\/\/www.magento.com for more information.\n *\n * @category    Mage\n * @package     Mage_Catalog\n * @copyright  Copyright (c) 2006-2016 X.commerce, Inc. and affiliates (http:\/\/www.magento.com)\n * @license    http:\/\/opensource.org\/licenses\/osl-3.0.php  Open Software License (OSL 3.0)\n *\/",2],["T_WHITESPACE","\n\n",25],["T_DOC_COMMENT","\/**\n * Catalog product attribute set api\n *\n * @category   Mage\n * @package    Mage_Catalog\n * @author     Magento Core Team <core@magentocommerce.com>\n *\/",27],["T_WHITESPACE","\n",33],["T_CLASS","class",34],["T_WHITESPACE"," ",34],["T_STRING","Mage_Catalog_Model_Product_Attribute_Set_Api",34],["T_WHITESPACE"," ",34],["T_EXTENDS","extends",34],["T_WHITESPACE"," ",34],["T_STRING","Mage_Api_Model_Resource_Abstract",34],["T_WHITESPACE","\n",34],"{",["T_WHITESPACE","\n    ",35],["T_DOC_COMMENT","\/**\n     * Retrieve attribute set list\n     *\n     * @return array\n     *\/",36],["T_WHITESPACE","\n    ",40],["T_PUBLIC","public",41],["T_WHITESPACE"," ",41],["T_FUNCTION","function",41],["T_WHITESPACE"," ",41],["T_STRING","items",41],"(",")",["T_WHITESPACE","\n    ",41],"{",["T_WHITESPACE","\n        ",42],["T_VARIABLE","$entityType",43],["T_WHITESPACE"," ",43],"=",["T_WHITESPACE"," ",43],["T_STRING","Mage",43],["T_DOUBLE_COLON","::",43],["T_STRING","getModel",43],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog\/product'",43],")",["T_OBJECT_OPERATOR","->",43],["T_STRING","getResource",43],"(",")",["T_OBJECT_OPERATOR","->",43],["T_STRING","getEntityType",43],"(",")",";",["T_WHITESPACE","\n        ",43],["T_VARIABLE","$collection",44],["T_WHITESPACE"," ",44],"=",["T_WHITESPACE"," ",44],["T_STRING","Mage",44],["T_DOUBLE_COLON","::",44],["T_STRING","getResourceModel",44],"(",["T_CONSTANT_ENCAPSED_STRING","'eav\/entity_attribute_set_collection'",44],")",["T_WHITESPACE","\n            ",44],["T_OBJECT_OPERATOR","->",45],["T_STRING","setEntityTypeFilter",45],"(",["T_VARIABLE","$entityType",45],["T_OBJECT_OPERATOR","->",45],["T_STRING","getId",45],"(",")",")",";",["T_WHITESPACE","\n\n        ",45],["T_VARIABLE","$result",47],["T_WHITESPACE"," ",47],"=",["T_WHITESPACE"," ",47],["T_ARRAY","array",47],"(",")",";",["T_WHITESPACE","\n        ",47],["T_FOREACH","foreach",48],["T_WHITESPACE"," ",48],"(",["T_VARIABLE","$collection",48],["T_WHITESPACE"," ",48],["T_AS","as",48],["T_WHITESPACE"," ",48],["T_VARIABLE","$attributeSet",48],")",["T_WHITESPACE"," ",48],"{",["T_WHITESPACE","\n            ",48],["T_VARIABLE","$result",49],"[","]",["T_WHITESPACE"," ",49],"=",["T_WHITESPACE"," ",49],["T_ARRAY","array",49],"(",["T_WHITESPACE","\n                ",49],["T_CONSTANT_ENCAPSED_STRING","'set_id'",50],["T_WHITESPACE"," ",50],["T_DOUBLE_ARROW","=>",50],["T_WHITESPACE"," ",50],["T_VARIABLE","$attributeSet",50],["T_OBJECT_OPERATOR","->",50],["T_STRING","getId",50],"(",")",",",["T_WHITESPACE","\n                ",50],["T_CONSTANT_ENCAPSED_STRING","'name'",51],["T_WHITESPACE","   ",51],["T_DOUBLE_ARROW","=>",51],["T_WHITESPACE"," ",51],["T_VARIABLE","$attributeSet",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","getAttributeSetName",51],"(",")",["T_WHITESPACE","\n            ",51],")",";",["T_WHITESPACE","\n\n        ",52],"}",["T_WHITESPACE","\n\n        ",54],["T_RETURN","return",56],["T_WHITESPACE"," ",56],["T_VARIABLE","$result",56],";",["T_WHITESPACE","\n    ",56],"}",["T_WHITESPACE","\n\n    ",57],["T_DOC_COMMENT","\/**\n     * Create new attribute set based on another set\n     *\n     * @param string $attributeSetName\n     * @param string $skeletonSetId\n     * @return integer\n     *\/",59],["T_WHITESPACE","\n    ",65],["T_PUBLIC","public",66],["T_WHITESPACE"," ",66],["T_FUNCTION","function",66],["T_WHITESPACE"," ",66],["T_STRING","create",66],"(",["T_VARIABLE","$attributeSetName",66],",",["T_WHITESPACE"," ",66],["T_VARIABLE","$skeletonSetId",66],")",["T_WHITESPACE","\n    ",66],"{",["T_WHITESPACE","\n        ",67],["T_COMMENT","\/\/ check if set with requested $skeletonSetId exists\n",68],["T_WHITESPACE","        ",69],["T_IF","if",69],["T_WHITESPACE"," ",69],"(","!",["T_STRING","Mage",69],["T_DOUBLE_COLON","::",69],["T_STRING","getModel",69],"(",["T_CONSTANT_ENCAPSED_STRING","'eav\/entity_attribute_set'",69],")",["T_OBJECT_OPERATOR","->",69],["T_STRING","load",69],"(",["T_VARIABLE","$skeletonSetId",69],")",["T_OBJECT_OPERATOR","->",69],["T_STRING","getId",69],"(",")",")","{",["T_WHITESPACE","\n            ",69],["T_VARIABLE","$this",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","_fault",70],"(",["T_CONSTANT_ENCAPSED_STRING","'invalid_skeleton_set_id'",70],")",";",["T_WHITESPACE","\n        ",70],"}",["T_WHITESPACE","\n        ",71],["T_COMMENT","\/\/ get catalog product entity type id\n",72],["T_WHITESPACE","        ",73],["T_VARIABLE","$entityTypeId",73],["T_WHITESPACE"," ",73],"=",["T_WHITESPACE"," ",73],["T_STRING","Mage",73],["T_DOUBLE_COLON","::",73],["T_STRING","getModel",73],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog\/product'",73],")",["T_OBJECT_OPERATOR","->",73],["T_STRING","getResource",73],"(",")",["T_OBJECT_OPERATOR","->",73],["T_STRING","getTypeId",73],"(",")",";",["T_WHITESPACE","\n        ",73],["T_DOC_COMMENT","\/** @var $attributeSet Mage_Eav_Model_Entity_Attribute_Set *\/",74],["T_WHITESPACE","\n        ",74],["T_VARIABLE","$attributeSet",75],["T_WHITESPACE"," ",75],"=",["T_WHITESPACE"," ",75],["T_STRING","Mage",75],["T_DOUBLE_COLON","::",75],["T_STRING","getModel",75],"(",["T_CONSTANT_ENCAPSED_STRING","'eav\/entity_attribute_set'",75],")",["T_WHITESPACE","\n                ",75],["T_OBJECT_OPERATOR","->",76],["T_STRING","setEntityTypeId",76],"(",["T_VARIABLE","$entityTypeId",76],")",["T_WHITESPACE","\n                ",76],["T_OBJECT_OPERATOR","->",77],["T_STRING","setAttributeSetName",77],"(",["T_VARIABLE","$attributeSetName",77],")",";",["T_WHITESPACE","\n        ",77],["T_TRY","try",78],["T_WHITESPACE"," ",78],"{",["T_WHITESPACE","\n            ",78],["T_COMMENT","\/\/ check if name is valid\n",79],["T_WHITESPACE","            ",80],["T_VARIABLE","$attributeSet",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","validate",80],"(",")",";",["T_WHITESPACE","\n            ",80],["T_COMMENT","\/\/ copy parameters to new set from skeleton set\n",81],["T_WHITESPACE","            ",82],["T_VARIABLE","$attributeSet",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","save",82],"(",")",";",["T_WHITESPACE","\n            ",82],["T_VARIABLE","$attributeSet",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","initFromSkeleton",83],"(",["T_VARIABLE","$skeletonSetId",83],")",["T_OBJECT_OPERATOR","->",83],["T_STRING","save",83],"(",")",";",["T_WHITESPACE","\n        ",83],"}",["T_WHITESPACE"," ",84],["T_CATCH","catch",84],["T_WHITESPACE"," ",84],"(",["T_STRING","Mage_Eav_Exception",84],["T_WHITESPACE"," ",84],["T_VARIABLE","$e",84],")",["T_WHITESPACE"," ",84],"{",["T_WHITESPACE","\n            ",84],["T_VARIABLE","$this",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","_fault",85],"(",["T_CONSTANT_ENCAPSED_STRING","'invalid_data'",85],",",["T_WHITESPACE"," ",85],["T_VARIABLE","$e",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","getMessage",85],"(",")",")",";",["T_WHITESPACE","\n        ",85],"}",["T_WHITESPACE"," ",86],["T_CATCH","catch",86],["T_WHITESPACE"," ",86],"(",["T_STRING","Exception",86],["T_WHITESPACE"," ",86],["T_VARIABLE","$e",86],")",["T_WHITESPACE"," ",86],"{",["T_WHITESPACE","\n            ",86],["T_VARIABLE","$this",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","_fault",87],"(",["T_CONSTANT_ENCAPSED_STRING","'create_attribute_set_error'",87],",",["T_WHITESPACE"," ",87],["T_VARIABLE","$e",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","getMessage",87],"(",")",")",";",["T_WHITESPACE","\n        ",87],"}",["T_WHITESPACE","\n        ",88],["T_RETURN","return",89],["T_WHITESPACE"," ",89],["T_INT_CAST","(int)",89],["T_VARIABLE","$attributeSet",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","getId",89],"(",")",";",["T_WHITESPACE","\n    ",89],"}",["T_WHITESPACE","\n\n    ",90],["T_DOC_COMMENT","\/**\n     * Remove attribute set\n     *\n     * @param string $attributeSetId\n     * @param bool $forceProductsRemove\n     * @return bool\n     *\/",92],["T_WHITESPACE","\n    ",98],["T_PUBLIC","public",99],["T_WHITESPACE"," ",99],["T_FUNCTION","function",99],["T_WHITESPACE"," ",99],["T_STRING","remove",99],"(",["T_VARIABLE","$attributeSetId",99],",",["T_WHITESPACE"," ",99],["T_VARIABLE","$forceProductsRemove",99],["T_WHITESPACE"," ",99],"=",["T_WHITESPACE"," ",99],["T_STRING","false",99],")",["T_WHITESPACE","\n    ",99],"{",["T_WHITESPACE","\n        ",100],["T_COMMENT","\/\/ if attribute set has related goods and $forceProductsRemove is not set throw exception\n",101],["T_WHITESPACE","        ",102],["T_IF","if",102],["T_WHITESPACE"," ",102],"(","!",["T_VARIABLE","$forceProductsRemove",102],")",["T_WHITESPACE"," ",102],"{",["T_WHITESPACE","\n            ",102],["T_DOC_COMMENT","\/** @var $catalogProductsCollection Mage_Catalog_Model_Resource_Eav_Mysql4_Product_Collection *\/",103],["T_WHITESPACE","\n            ",103],["T_VARIABLE","$catalogProductsCollection",104],["T_WHITESPACE"," ",104],"=",["T_WHITESPACE"," ",104],["T_STRING","Mage",104],["T_DOUBLE_COLON","::",104],["T_STRING","getModel",104],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog\/product'",104],")",["T_OBJECT_OPERATOR","->",104],["T_STRING","getCollection",104],"(",")",["T_WHITESPACE","\n                    ",104],["T_OBJECT_OPERATOR","->",105],["T_STRING","addFieldToFilter",105],"(",["T_CONSTANT_ENCAPSED_STRING","'attribute_set_id'",105],",",["T_WHITESPACE"," ",105],["T_VARIABLE","$attributeSetId",105],")",";",["T_WHITESPACE","\n            ",105],["T_IF","if",106],["T_WHITESPACE"," ",106],"(",["T_STRING","count",106],"(",["T_VARIABLE","$catalogProductsCollection",106],")",")",["T_WHITESPACE"," ",106],"{",["T_WHITESPACE","\n                ",106],["T_VARIABLE","$this",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","_fault",107],"(",["T_CONSTANT_ENCAPSED_STRING","'attribute_set_has_related_products'",107],")",";",["T_WHITESPACE","\n            ",107],"}",["T_WHITESPACE","\n        ",108],"}",["T_WHITESPACE","\n        ",109],["T_VARIABLE","$attributeSet",110],["T_WHITESPACE"," ",110],"=",["T_WHITESPACE"," ",110],["T_STRING","Mage",110],["T_DOUBLE_COLON","::",110],["T_STRING","getModel",110],"(",["T_CONSTANT_ENCAPSED_STRING","'eav\/entity_attribute_set'",110],")",["T_OBJECT_OPERATOR","->",110],["T_STRING","load",110],"(",["T_VARIABLE","$attributeSetId",110],")",";",["T_WHITESPACE","\n        ",110],["T_COMMENT","\/\/ check if set with requested id exists\n",111],["T_WHITESPACE","        ",112],["T_IF","if",112],["T_WHITESPACE"," ",112],"(","!",["T_VARIABLE","$attributeSet",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","getId",112],"(",")",")","{",["T_WHITESPACE","\n            ",112],["T_VARIABLE","$this",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","_fault",113],"(",["T_CONSTANT_ENCAPSED_STRING","'invalid_attribute_set_id'",113],")",";",["T_WHITESPACE","\n        ",113],"}",["T_WHITESPACE","\n        ",114],["T_TRY","try",115],["T_WHITESPACE"," ",115],"{",["T_WHITESPACE","\n            ",115],["T_VARIABLE","$attributeSet",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","delete",116],"(",")",";",["T_WHITESPACE","\n        ",116],"}",["T_WHITESPACE"," ",117],["T_CATCH","catch",117],["T_WHITESPACE"," ",117],"(",["T_STRING","Exception",117],["T_WHITESPACE"," ",117],["T_VARIABLE","$e",117],")",["T_WHITESPACE"," ",117],"{",["T_WHITESPACE","\n            ",117],["T_VARIABLE","$this",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","_fault",118],"(",["T_CONSTANT_ENCAPSED_STRING","'remove_attribute_set_error'",118],",",["T_WHITESPACE"," ",118],["T_VARIABLE","$e",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","getMessage",118],"(",")",")",";",["T_WHITESPACE","\n        ",118],"}",["T_WHITESPACE","\n        ",119],["T_RETURN","return",120],["T_WHITESPACE"," ",120],["T_STRING","true",120],";",["T_WHITESPACE","\n    ",120],"}",["T_WHITESPACE","\n\n    ",121],["T_DOC_COMMENT","\/**\n     * Add attribute to attribute set\n     *\n     * @param string $attributeId\n     * @param string $attributeSetId\n     * @param string|null $attributeGroupId\n     * @param string $sortOrder\n     * @return bool\n     *\/",123],["T_WHITESPACE","\n    ",131],["T_PUBLIC","public",132],["T_WHITESPACE"," ",132],["T_FUNCTION","function",132],["T_WHITESPACE"," ",132],["T_STRING","attributeAdd",132],"(",["T_VARIABLE","$attributeId",132],",",["T_WHITESPACE"," ",132],["T_VARIABLE","$attributeSetId",132],",",["T_WHITESPACE"," ",132],["T_VARIABLE","$attributeGroupId",132],["T_WHITESPACE"," ",132],"=",["T_WHITESPACE"," ",132],["T_STRING","null",132],",",["T_WHITESPACE"," ",132],["T_VARIABLE","$sortOrder",132],["T_WHITESPACE"," ",132],"=",["T_WHITESPACE"," ",132],["T_CONSTANT_ENCAPSED_STRING","'0'",132],")",["T_WHITESPACE","\n    ",132],"{",["T_WHITESPACE","\n        ",133],["T_COMMENT","\/\/ check if attribute with requested id exists\n",134],["T_WHITESPACE","        ",135],["T_DOC_COMMENT","\/** @var $attribute Mage_Eav_Model_Entity_Attribute *\/",135],["T_WHITESPACE","\n        ",135],["T_VARIABLE","$attribute",136],["T_WHITESPACE"," ",136],"=",["T_WHITESPACE"," ",136],["T_STRING","Mage",136],["T_DOUBLE_COLON","::",136],["T_STRING","getModel",136],"(",["T_CONSTANT_ENCAPSED_STRING","'eav\/entity_attribute'",136],")",["T_OBJECT_OPERATOR","->",136],["T_STRING","load",136],"(",["T_VARIABLE","$attributeId",136],")",";",["T_WHITESPACE","\n        ",136],["T_IF","if",137],["T_WHITESPACE"," ",137],"(","!",["T_VARIABLE","$attribute",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","getId",137],"(",")",")",["T_WHITESPACE"," ",137],"{",["T_WHITESPACE","\n            ",137],["T_VARIABLE","$this",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","_fault",138],"(",["T_CONSTANT_ENCAPSED_STRING","'invalid_attribute_id'",138],")",";",["T_WHITESPACE","\n        ",138],"}",["T_WHITESPACE","\n        ",139],["T_COMMENT","\/\/ check if attribute set with requested id exists\n",140],["T_WHITESPACE","        ",141],["T_DOC_COMMENT","\/** @var $attributeSet Mage_Eav_Model_Entity_Attribute_Set *\/",141],["T_WHITESPACE","\n        ",141],["T_VARIABLE","$attributeSet",142],["T_WHITESPACE"," ",142],"=",["T_WHITESPACE"," ",142],["T_STRING","Mage",142],["T_DOUBLE_COLON","::",142],["T_STRING","getModel",142],"(",["T_CONSTANT_ENCAPSED_STRING","'eav\/entity_attribute_set'",142],")",["T_OBJECT_OPERATOR","->",142],["T_STRING","load",142],"(",["T_VARIABLE","$attributeSetId",142],")",";",["T_WHITESPACE","\n        ",142],["T_IF","if",143],["T_WHITESPACE"," ",143],"(","!",["T_VARIABLE","$attributeSet",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","getId",143],"(",")",")",["T_WHITESPACE"," ",143],"{",["T_WHITESPACE","\n            ",143],["T_VARIABLE","$this",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","_fault",144],"(",["T_CONSTANT_ENCAPSED_STRING","'invalid_attribute_set_id'",144],")",";",["T_WHITESPACE","\n        ",144],"}",["T_WHITESPACE","\n        ",145],["T_IF","if",146],["T_WHITESPACE"," ",146],"(","!",["T_EMPTY","empty",146],"(",["T_VARIABLE","$attributeGroupId",146],")",")",["T_WHITESPACE"," ",146],"{",["T_WHITESPACE","\n            ",146],["T_COMMENT","\/\/ check if attribute group with requested id exists\n",147],["T_WHITESPACE","            ",148],["T_IF","if",148],["T_WHITESPACE"," ",148],"(","!",["T_STRING","Mage",148],["T_DOUBLE_COLON","::",148],["T_STRING","getModel",148],"(",["T_CONSTANT_ENCAPSED_STRING","'eav\/entity_attribute_group'",148],")",["T_OBJECT_OPERATOR","->",148],["T_STRING","load",148],"(",["T_VARIABLE","$attributeGroupId",148],")",["T_OBJECT_OPERATOR","->",148],["T_STRING","getId",148],"(",")",")",["T_WHITESPACE"," ",148],"{",["T_WHITESPACE","\n                ",148],["T_VARIABLE","$this",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","_fault",149],"(",["T_CONSTANT_ENCAPSED_STRING","'invalid_attribute_group_id'",149],")",";",["T_WHITESPACE","\n            ",149],"}",["T_WHITESPACE","\n        ",150],"}",["T_WHITESPACE"," ",151],["T_ELSE","else",151],["T_WHITESPACE"," ",151],"{",["T_WHITESPACE","\n            ",151],["T_COMMENT","\/\/ define default attribute group id for current attribute set\n",152],["T_WHITESPACE","            ",153],["T_VARIABLE","$attributeGroupId",153],["T_WHITESPACE"," ",153],"=",["T_WHITESPACE"," ",153],["T_VARIABLE","$attributeSet",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","getDefaultGroupId",153],"(",")",";",["T_WHITESPACE","\n        ",153],"}",["T_WHITESPACE","\n        ",154],["T_VARIABLE","$attribute",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","setAttributeSetId",155],"(",["T_VARIABLE","$attributeSet",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","getId",155],"(",")",")",["T_OBJECT_OPERATOR","->",155],["T_STRING","loadEntityAttributeIdBySet",155],"(",")",";",["T_WHITESPACE","\n        ",155],["T_IF","if",156],["T_WHITESPACE"," ",156],"(",["T_VARIABLE","$attribute",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","getEntityAttributeId",156],"(",")",")",["T_WHITESPACE"," ",156],"{",["T_WHITESPACE","\n            ",156],["T_VARIABLE","$this",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","_fault",157],"(",["T_CONSTANT_ENCAPSED_STRING","'attribute_is_already_in_set'",157],")",";",["T_WHITESPACE","\n        ",157],"}",["T_WHITESPACE","\n        ",158],["T_TRY","try",159],["T_WHITESPACE"," ",159],"{",["T_WHITESPACE","\n           ",159],["T_VARIABLE","$attribute",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","setEntityTypeId",160],"(",["T_VARIABLE","$attributeSet",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","getEntityTypeId",160],"(",")",")",["T_WHITESPACE","\n                    ",160],["T_OBJECT_OPERATOR","->",161],["T_STRING","setAttributeSetId",161],"(",["T_VARIABLE","$attributeSetId",161],")",["T_WHITESPACE","\n                    ",161],["T_OBJECT_OPERATOR","->",162],["T_STRING","setAttributeGroupId",162],"(",["T_VARIABLE","$attributeGroupId",162],")",["T_WHITESPACE","\n                    ",162],["T_OBJECT_OPERATOR","->",163],["T_STRING","setSortOrder",163],"(",["T_VARIABLE","$sortOrder",163],")",["T_WHITESPACE","\n                    ",163],["T_OBJECT_OPERATOR","->",164],["T_STRING","save",164],"(",")",";",["T_WHITESPACE","\n        ",164],"}",["T_WHITESPACE"," ",165],["T_CATCH","catch",165],["T_WHITESPACE"," ",165],"(",["T_STRING","Exception",165],["T_WHITESPACE"," ",165],["T_VARIABLE","$e",165],")",["T_WHITESPACE"," ",165],"{",["T_WHITESPACE","\n            ",165],["T_VARIABLE","$this",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","_fault",166],"(",["T_CONSTANT_ENCAPSED_STRING","'add_attribute_error'",166],",",["T_WHITESPACE"," ",166],["T_VARIABLE","$e",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","getMessage",166],"(",")",")",";",["T_WHITESPACE","\n        ",166],"}",["T_WHITESPACE","\n        ",167],["T_RETURN","return",168],["T_WHITESPACE"," ",168],["T_STRING","true",168],";",["T_WHITESPACE","\n    ",168],"}",["T_WHITESPACE","\n\n    ",169],["T_DOC_COMMENT","\/**\n     * Remove attribute from attribute set\n     *\n     * @param string $attributeId\n     * @param string $attributeSetId\n     * @return bool\n     *\/",171],["T_WHITESPACE","\n    ",177],["T_PUBLIC","public",178],["T_WHITESPACE"," ",178],["T_FUNCTION","function",178],["T_WHITESPACE"," ",178],["T_STRING","attributeRemove",178],"(",["T_VARIABLE","$attributeId",178],",",["T_WHITESPACE"," ",178],["T_VARIABLE","$attributeSetId",178],")",["T_WHITESPACE","\n    ",178],"{",["T_WHITESPACE","\n        ",179],["T_COMMENT","\/\/ check if attribute with requested id exists\n",180],["T_WHITESPACE","        ",181],["T_DOC_COMMENT","\/** @var $attribute Mage_Eav_Model_Entity_Attribute *\/",181],["T_WHITESPACE","\n        ",181],["T_VARIABLE","$attribute",182],["T_WHITESPACE"," ",182],"=",["T_WHITESPACE"," ",182],["T_STRING","Mage",182],["T_DOUBLE_COLON","::",182],["T_STRING","getModel",182],"(",["T_CONSTANT_ENCAPSED_STRING","'eav\/entity_attribute'",182],")",["T_OBJECT_OPERATOR","->",182],["T_STRING","load",182],"(",["T_VARIABLE","$attributeId",182],")",";",["T_WHITESPACE","\n        ",182],["T_IF","if",183],["T_WHITESPACE"," ",183],"(","!",["T_VARIABLE","$attribute",183],["T_OBJECT_OPERATOR","->",183],["T_STRING","getId",183],"(",")",")",["T_WHITESPACE"," ",183],"{",["T_WHITESPACE","\n            ",183],["T_VARIABLE","$this",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","_fault",184],"(",["T_CONSTANT_ENCAPSED_STRING","'invalid_attribute_id'",184],")",";",["T_WHITESPACE","\n        ",184],"}",["T_WHITESPACE","\n        ",185],["T_COMMENT","\/\/ check if attribute set with requested id exists\n",186],["T_WHITESPACE","        ",187],["T_DOC_COMMENT","\/** @var $attributeSet Mage_Eav_Model_Entity_Attribute_Set *\/",187],["T_WHITESPACE","\n        ",187],["T_VARIABLE","$attributeSet",188],["T_WHITESPACE"," ",188],"=",["T_WHITESPACE"," ",188],["T_STRING","Mage",188],["T_DOUBLE_COLON","::",188],["T_STRING","getModel",188],"(",["T_CONSTANT_ENCAPSED_STRING","'eav\/entity_attribute_set'",188],")",["T_OBJECT_OPERATOR","->",188],["T_STRING","load",188],"(",["T_VARIABLE","$attributeSetId",188],")",";",["T_WHITESPACE","\n        ",188],["T_IF","if",189],["T_WHITESPACE"," ",189],"(","!",["T_VARIABLE","$attributeSet",189],["T_OBJECT_OPERATOR","->",189],["T_STRING","getId",189],"(",")",")",["T_WHITESPACE"," ",189],"{",["T_WHITESPACE","\n            ",189],["T_VARIABLE","$this",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","_fault",190],"(",["T_CONSTANT_ENCAPSED_STRING","'invalid_attribute_set_id'",190],")",";",["T_WHITESPACE","\n        ",190],"}",["T_WHITESPACE","\n        ",191],["T_COMMENT","\/\/ check if attribute is in set\n",192],["T_WHITESPACE","        ",193],["T_VARIABLE","$attribute",193],["T_OBJECT_OPERATOR","->",193],["T_STRING","setAttributeSetId",193],"(",["T_VARIABLE","$attributeSet",193],["T_OBJECT_OPERATOR","->",193],["T_STRING","getId",193],"(",")",")",["T_OBJECT_OPERATOR","->",193],["T_STRING","loadEntityAttributeIdBySet",193],"(",")",";",["T_WHITESPACE","\n        ",193],["T_IF","if",194],["T_WHITESPACE"," ",194],"(","!",["T_VARIABLE","$attribute",194],["T_OBJECT_OPERATOR","->",194],["T_STRING","getEntityAttributeId",194],"(",")",")",["T_WHITESPACE"," ",194],"{",["T_WHITESPACE","\n            ",194],["T_VARIABLE","$this",195],["T_OBJECT_OPERATOR","->",195],["T_STRING","_fault",195],"(",["T_CONSTANT_ENCAPSED_STRING","'attribute_is_not_in_set'",195],")",";",["T_WHITESPACE","\n        ",195],"}",["T_WHITESPACE","\n        ",196],["T_TRY","try",197],["T_WHITESPACE"," ",197],"{",["T_WHITESPACE","\n            ",197],["T_COMMENT","\/\/ delete record from eav_entity_attribute\n",198],["T_WHITESPACE","            ",199],["T_COMMENT","\/\/ using entity_attribute_id loaded by loadEntityAttributeIdBySet()\n",199],["T_WHITESPACE","            ",200],["T_VARIABLE","$attribute",200],["T_OBJECT_OPERATOR","->",200],["T_STRING","deleteEntity",200],"(",")",";",["T_WHITESPACE","\n        ",200],"}",["T_WHITESPACE"," ",201],["T_CATCH","catch",201],["T_WHITESPACE"," ",201],"(",["T_STRING","Exception",201],["T_WHITESPACE"," ",201],["T_VARIABLE","$e",201],")",["T_WHITESPACE"," ",201],"{",["T_WHITESPACE","\n            ",201],["T_VARIABLE","$this",202],["T_OBJECT_OPERATOR","->",202],["T_STRING","_fault",202],"(",["T_CONSTANT_ENCAPSED_STRING","'remove_attribute_error'",202],",",["T_WHITESPACE"," ",202],["T_VARIABLE","$e",202],["T_OBJECT_OPERATOR","->",202],["T_STRING","getMessage",202],"(",")",")",";",["T_WHITESPACE","\n        ",202],"}",["T_WHITESPACE","\n\n        ",203],["T_RETURN","return",205],["T_WHITESPACE"," ",205],["T_STRING","true",205],";",["T_WHITESPACE","\n    ",205],"}",["T_WHITESPACE","\n\n    ",206],["T_DOC_COMMENT","\/**\n     * Create group within existing attribute set\n     *\n     * @param  string|int $attributeSetId\n     * @param  string $groupName\n     * @return int\n     *\/",208],["T_WHITESPACE","\n    ",214],["T_PUBLIC","public",215],["T_WHITESPACE"," ",215],["T_FUNCTION","function",215],["T_WHITESPACE"," ",215],["T_STRING","groupAdd",215],"(",["T_VARIABLE","$attributeSetId",215],",",["T_WHITESPACE"," ",215],["T_VARIABLE","$groupName",215],")",["T_WHITESPACE","\n    ",215],"{",["T_WHITESPACE","\n        ",216],["T_DOC_COMMENT","\/** @var $group Mage_Eav_Model_Entity_Attribute_Group *\/",217],["T_WHITESPACE","\n        ",217],["T_VARIABLE","$group",218],["T_WHITESPACE"," ",218],"=",["T_WHITESPACE"," ",218],["T_STRING","Mage",218],["T_DOUBLE_COLON","::",218],["T_STRING","getModel",218],"(",["T_CONSTANT_ENCAPSED_STRING","'eav\/entity_attribute_group'",218],")",";",["T_WHITESPACE","\n        ",218],["T_VARIABLE","$group",219],["T_OBJECT_OPERATOR","->",219],["T_STRING","setAttributeSetId",219],"(",["T_VARIABLE","$attributeSetId",219],")",["T_WHITESPACE","\n                ",219],["T_OBJECT_OPERATOR","->",220],["T_STRING","setAttributeGroupName",220],"(",["T_WHITESPACE","\n                    ",220],["T_STRING","Mage",221],["T_DOUBLE_COLON","::",221],["T_STRING","helper",221],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog'",221],")",["T_OBJECT_OPERATOR","->",221],["T_STRING","stripTags",221],"(",["T_VARIABLE","$groupName",221],")",["T_WHITESPACE","\n                ",221],")",";",["T_WHITESPACE","\n        ",222],["T_IF","if",223],["T_WHITESPACE"," ",223],"(",["T_VARIABLE","$group",223],["T_OBJECT_OPERATOR","->",223],["T_STRING","itemExists",223],"(",")",")",["T_WHITESPACE"," ",223],"{",["T_WHITESPACE","\n            ",223],["T_VARIABLE","$this",224],["T_OBJECT_OPERATOR","->",224],["T_STRING","_fault",224],"(",["T_CONSTANT_ENCAPSED_STRING","'group_already_exists'",224],")",";",["T_WHITESPACE","\n        ",224],"}",["T_WHITESPACE","\n        ",225],["T_TRY","try",226],["T_WHITESPACE"," ",226],"{",["T_WHITESPACE","\n            ",226],["T_VARIABLE","$group",227],["T_OBJECT_OPERATOR","->",227],["T_STRING","save",227],"(",")",";",["T_WHITESPACE","\n        ",227],"}",["T_WHITESPACE"," ",228],["T_CATCH","catch",228],["T_WHITESPACE"," ",228],"(",["T_STRING","Exception",228],["T_WHITESPACE"," ",228],["T_VARIABLE","$e",228],")",["T_WHITESPACE"," ",228],"{",["T_WHITESPACE","\n            ",228],["T_VARIABLE","$this",229],["T_OBJECT_OPERATOR","->",229],["T_STRING","_fault",229],"(",["T_CONSTANT_ENCAPSED_STRING","'group_add_error'",229],",",["T_WHITESPACE"," ",229],["T_VARIABLE","$e",229],["T_OBJECT_OPERATOR","->",229],["T_STRING","getMessage",229],"(",")",")",";",["T_WHITESPACE","\n        ",229],"}",["T_WHITESPACE","\n        ",230],["T_RETURN","return",231],["T_WHITESPACE"," ",231],["T_INT_CAST","(int)",231],["T_VARIABLE","$group",231],["T_OBJECT_OPERATOR","->",231],["T_STRING","getId",231],"(",")",";",["T_WHITESPACE","\n    ",231],"}",["T_WHITESPACE","\n\n    ",232],["T_DOC_COMMENT","\/**\n     * Rename existing group\n     *\n     * @param string|int $groupId\n     * @param string $groupName\n     * @return boolean\n     *\/",234],["T_WHITESPACE","\n    ",240],["T_PUBLIC","public",241],["T_WHITESPACE"," ",241],["T_FUNCTION","function",241],["T_WHITESPACE"," ",241],["T_STRING","groupRename",241],"(",["T_VARIABLE","$groupId",241],",",["T_WHITESPACE"," ",241],["T_VARIABLE","$groupName",241],")",["T_WHITESPACE","\n    ",241],"{",["T_WHITESPACE","\n        ",242],["T_VARIABLE","$model",243],["T_WHITESPACE"," ",243],"=",["T_WHITESPACE"," ",243],["T_STRING","Mage",243],["T_DOUBLE_COLON","::",243],["T_STRING","getModel",243],"(",["T_CONSTANT_ENCAPSED_STRING","'eav\/entity_attribute_group'",243],")",["T_OBJECT_OPERATOR","->",243],["T_STRING","load",243],"(",["T_VARIABLE","$groupId",243],")",";",["T_WHITESPACE","\n\n        ",243],["T_IF","if",245],["T_WHITESPACE"," ",245],"(","!",["T_VARIABLE","$model",245],["T_OBJECT_OPERATOR","->",245],["T_STRING","getAttributeGroupName",245],"(",")",")",["T_WHITESPACE"," ",245],"{",["T_WHITESPACE","\n            ",245],["T_VARIABLE","$this",246],["T_OBJECT_OPERATOR","->",246],["T_STRING","_fault",246],"(",["T_CONSTANT_ENCAPSED_STRING","'invalid_attribute_group_id'",246],")",";",["T_WHITESPACE","\n        ",246],"}",["T_WHITESPACE","\n\n        ",247],["T_VARIABLE","$model",249],["T_OBJECT_OPERATOR","->",249],["T_STRING","setAttributeGroupName",249],"(",["T_WHITESPACE","\n                ",249],["T_STRING","Mage",250],["T_DOUBLE_COLON","::",250],["T_STRING","helper",250],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog'",250],")",["T_OBJECT_OPERATOR","->",250],["T_STRING","stripTags",250],"(",["T_VARIABLE","$groupName",250],")",["T_WHITESPACE","\n        ",250],")",";",["T_WHITESPACE","\n        ",251],["T_TRY","try",252],["T_WHITESPACE"," ",252],"{",["T_WHITESPACE","\n            ",252],["T_VARIABLE","$model",253],["T_OBJECT_OPERATOR","->",253],["T_STRING","save",253],"(",")",";",["T_WHITESPACE","\n        ",253],"}",["T_WHITESPACE"," ",254],["T_CATCH","catch",254],["T_WHITESPACE"," ",254],"(",["T_STRING","Exception",254],["T_WHITESPACE"," ",254],["T_VARIABLE","$e",254],")",["T_WHITESPACE"," ",254],"{",["T_WHITESPACE","\n            ",254],["T_VARIABLE","$this",255],["T_OBJECT_OPERATOR","->",255],["T_STRING","_fault",255],"(",["T_CONSTANT_ENCAPSED_STRING","'group_rename_error'",255],",",["T_WHITESPACE"," ",255],["T_VARIABLE","$e",255],["T_OBJECT_OPERATOR","->",255],["T_STRING","getMessage",255],"(",")",")",";",["T_WHITESPACE","\n        ",255],"}",["T_WHITESPACE","\n        ",256],["T_RETURN","return",257],["T_WHITESPACE"," ",257],["T_STRING","true",257],";",["T_WHITESPACE","\n    ",257],"}",["T_WHITESPACE","\n\n    ",258],["T_DOC_COMMENT","\/**\n        * Remove group from existing attribute set\n        *\n        * @param  string|int $attributeGroupId\n        * @return bool\n        *\/",260],["T_WHITESPACE","\n       ",265],["T_PUBLIC","public",266],["T_WHITESPACE"," ",266],["T_FUNCTION","function",266],["T_WHITESPACE"," ",266],["T_STRING","groupRemove",266],"(",["T_VARIABLE","$attributeGroupId",266],")",["T_WHITESPACE","\n       ",266],"{",["T_WHITESPACE","\n           ",267],["T_DOC_COMMENT","\/** @var $group Mage_Catalog_Model_Product_Attribute_Group *\/",268],["T_WHITESPACE","\n           ",268],["T_VARIABLE","$group",269],["T_WHITESPACE"," ",269],"=",["T_WHITESPACE"," ",269],["T_STRING","Mage",269],["T_DOUBLE_COLON","::",269],["T_STRING","getModel",269],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog\/product_attribute_group'",269],")",["T_OBJECT_OPERATOR","->",269],["T_STRING","load",269],"(",["T_VARIABLE","$attributeGroupId",269],")",";",["T_WHITESPACE","\n           ",269],["T_IF","if",270],["T_WHITESPACE"," ",270],"(","!",["T_VARIABLE","$group",270],["T_OBJECT_OPERATOR","->",270],["T_STRING","getId",270],"(",")",")",["T_WHITESPACE"," ",270],"{",["T_WHITESPACE","\n               ",270],["T_VARIABLE","$this",271],["T_OBJECT_OPERATOR","->",271],["T_STRING","_fault",271],"(",["T_CONSTANT_ENCAPSED_STRING","'invalid_attribute_group_id'",271],")",";",["T_WHITESPACE","\n           ",271],"}",["T_WHITESPACE","\n           ",272],["T_IF","if",273],["T_WHITESPACE"," ",273],"(",["T_VARIABLE","$group",273],["T_OBJECT_OPERATOR","->",273],["T_STRING","hasConfigurableAttributes",273],"(",")",")",["T_WHITESPACE"," ",273],"{",["T_WHITESPACE","\n               ",273],["T_VARIABLE","$this",274],["T_OBJECT_OPERATOR","->",274],["T_STRING","_fault",274],"(",["T_CONSTANT_ENCAPSED_STRING","'group_has_configurable_attributes'",274],")",";",["T_WHITESPACE","\n           ",274],"}",["T_WHITESPACE","\n           ",275],["T_IF","if",276],["T_WHITESPACE"," ",276],"(",["T_VARIABLE","$group",276],["T_OBJECT_OPERATOR","->",276],["T_STRING","hasSystemAttributes",276],"(",")",")",["T_WHITESPACE"," ",276],"{",["T_WHITESPACE","\n               ",276],["T_VARIABLE","$this",277],["T_OBJECT_OPERATOR","->",277],["T_STRING","_fault",277],"(",["T_CONSTANT_ENCAPSED_STRING","'group_has_system_attributes'",277],")",";",["T_WHITESPACE","\n           ",277],"}",["T_WHITESPACE","\n           ",278],["T_TRY","try",279],["T_WHITESPACE"," ",279],"{",["T_WHITESPACE","\n               ",279],["T_VARIABLE","$group",280],["T_OBJECT_OPERATOR","->",280],["T_STRING","delete",280],"(",")",";",["T_WHITESPACE","\n           ",280],"}",["T_WHITESPACE"," ",281],["T_CATCH","catch",281],["T_WHITESPACE"," ",281],"(",["T_STRING","Exception",281],["T_WHITESPACE"," ",281],["T_VARIABLE","$e",281],")",["T_WHITESPACE"," ",281],"{",["T_WHITESPACE","\n               ",281],["T_VARIABLE","$this",282],["T_OBJECT_OPERATOR","->",282],["T_STRING","_fault",282],"(",["T_CONSTANT_ENCAPSED_STRING","'group_remove_error'",282],",",["T_WHITESPACE"," ",282],["T_VARIABLE","$e",282],["T_OBJECT_OPERATOR","->",282],["T_STRING","getMessage",282],"(",")",")",";",["T_WHITESPACE","\n           ",282],"}",["T_WHITESPACE","\n           ",283],["T_RETURN","return",284],["T_WHITESPACE"," ",284],["T_STRING","true",284],";",["T_WHITESPACE","\n       ",284],"}",["T_WHITESPACE","\n\n",285],"}",["T_WHITESPACE"," ",287],["T_COMMENT","\/\/ Class Mage_Catalog_Model_Product_Attribute_Set_Api End\n",287]]