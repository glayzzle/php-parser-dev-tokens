[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Magento\n *\n * NOTICE OF LICENSE\n *\n * This source file is subject to the Open Software License (OSL 3.0)\n * that is bundled with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/opensource.org\/licenses\/osl-3.0.php\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@magento.com so we can send you a copy immediately.\n *\n * DISCLAIMER\n *\n * Do not edit or add to this file if you wish to upgrade Magento to newer\n * versions in the future. If you wish to customize Magento for your\n * needs please refer to http:\/\/www.magento.com for more information.\n *\n * @category    Mage\n * @package     Mage_Catalog\n * @copyright  Copyright (c) 2006-2016 X.commerce, Inc. and affiliates (http:\/\/www.magento.com)\n * @license    http:\/\/opensource.org\/licenses\/osl-3.0.php  Open Software License (OSL 3.0)\n *\/",2],["T_WHITESPACE","\n\n\n",25],["T_DOC_COMMENT","\/**\n * Catalog Configurable Product Attribute Collection\n *\n * @category    Mage\n * @package     Mage_Catalog\n * @author      Magento Core Team <core@magentocommerce.com>\n *\/",28],["T_WHITESPACE","\n",34],["T_CLASS","class",35],["T_WHITESPACE"," ",35],["T_STRING","Mage_Catalog_Model_Resource_Product_Type_Configurable_Attribute_Collection",35],["T_WHITESPACE","\n    ",35],["T_EXTENDS","extends",36],["T_WHITESPACE"," ",36],["T_STRING","Mage_Core_Model_Resource_Db_Collection_Abstract",36],["T_WHITESPACE","\n",36],"{",["T_WHITESPACE","\n    ",37],["T_DOC_COMMENT","\/**\n     * Configurable attributes label table name\n     *\n     * @var string\n     *\/",38],["T_WHITESPACE","\n    ",42],["T_PROTECTED","protected",43],["T_WHITESPACE"," ",43],["T_VARIABLE","$_labelTable",43],";",["T_WHITESPACE","\n\n    ",43],["T_DOC_COMMENT","\/**\n     * Configurable attributes price table name\n     *\n     * @var string\n     *\/",45],["T_WHITESPACE","\n    ",49],["T_PROTECTED","protected",50],["T_WHITESPACE"," ",50],["T_VARIABLE","$_priceTable",50],";",["T_WHITESPACE","\n\n    ",50],["T_DOC_COMMENT","\/**\n     * Product instance\n     *\n     * @var Mage_Catalog_Model_Product\n     *\/",52],["T_WHITESPACE","\n    ",56],["T_PROTECTED","protected",57],["T_WHITESPACE"," ",57],["T_VARIABLE","$_product",57],";",["T_WHITESPACE","\n\n    ",57],["T_DOC_COMMENT","\/**\n     * Initialize connection and define table names\n     *\n     *\/",59],["T_WHITESPACE","\n    ",62],["T_PROTECTED","protected",63],["T_WHITESPACE"," ",63],["T_FUNCTION","function",63],["T_WHITESPACE"," ",63],["T_STRING","_construct",63],"(",")",["T_WHITESPACE","\n    ",63],"{",["T_WHITESPACE","\n        ",64],["T_VARIABLE","$this",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","_init",65],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog\/product_type_configurable_attribute'",65],")",";",["T_WHITESPACE","\n        ",65],["T_VARIABLE","$this",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","_labelTable",66],["T_WHITESPACE"," ",66],"=",["T_WHITESPACE"," ",66],["T_VARIABLE","$this",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","getTable",66],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog\/product_super_attribute_label'",66],")",";",["T_WHITESPACE","\n        ",66],["T_VARIABLE","$this",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","_priceTable",67],["T_WHITESPACE"," ",67],"=",["T_WHITESPACE"," ",67],["T_VARIABLE","$this",67],["T_OBJECT_OPERATOR","->",67],["T_STRING","getTable",67],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog\/product_super_attribute_pricing'",67],")",";",["T_WHITESPACE","\n    ",67],"}",["T_WHITESPACE","\n\n    ",68],["T_DOC_COMMENT","\/**\n     * Retrieve catalog helper\n     *\n     * @return Mage_Catalog_Helper_Data\n     *\/",70],["T_WHITESPACE","\n    ",74],["T_PUBLIC","public",75],["T_WHITESPACE"," ",75],["T_FUNCTION","function",75],["T_WHITESPACE"," ",75],["T_STRING","getHelper",75],"(",")",["T_WHITESPACE","\n    ",75],"{",["T_WHITESPACE","\n        ",76],["T_RETURN","return",77],["T_WHITESPACE"," ",77],["T_STRING","Mage",77],["T_DOUBLE_COLON","::",77],["T_STRING","helper",77],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog'",77],")",";",["T_WHITESPACE","\n    ",77],"}",["T_WHITESPACE","\n\n    ",78],["T_DOC_COMMENT","\/**\n     * Set Product filter (Configurable)\n     *\n     * @param Mage_Catalog_Model_Product $product\n     * @return Mage_Catalog_Model_Resource_Product_Type_Configurable_Attribute_Collection\n     *\/",80],["T_WHITESPACE","\n    ",85],["T_PUBLIC","public",86],["T_WHITESPACE"," ",86],["T_FUNCTION","function",86],["T_WHITESPACE"," ",86],["T_STRING","setProductFilter",86],"(",["T_VARIABLE","$product",86],")",["T_WHITESPACE","\n    ",86],"{",["T_WHITESPACE","\n        ",87],["T_VARIABLE","$this",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","_product",88],["T_WHITESPACE"," ",88],"=",["T_WHITESPACE"," ",88],["T_VARIABLE","$product",88],";",["T_WHITESPACE","\n        ",88],["T_RETURN","return",89],["T_WHITESPACE"," ",89],["T_VARIABLE","$this",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","addFieldToFilter",89],"(",["T_CONSTANT_ENCAPSED_STRING","'product_id'",89],",",["T_WHITESPACE"," ",89],["T_VARIABLE","$product",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","getId",89],"(",")",")",";",["T_WHITESPACE","\n    ",89],"}",["T_WHITESPACE","\n\n    ",90],["T_DOC_COMMENT","\/**\n     * Set order collection by Position\n     *\n     * @param string $dir\n     * @return Mage_Catalog_Model_Resource_Product_Type_Configurable_Attribute_Collection\n     *\/",92],["T_WHITESPACE","\n    ",97],["T_PUBLIC","public",98],["T_WHITESPACE"," ",98],["T_FUNCTION","function",98],["T_WHITESPACE"," ",98],["T_STRING","orderByPosition",98],"(",["T_VARIABLE","$dir",98],["T_WHITESPACE"," ",98],"=",["T_WHITESPACE"," ",98],["T_STRING","self",98],["T_DOUBLE_COLON","::",98],["T_STRING","SORT_ORDER_ASC",98],")",["T_WHITESPACE","\n    ",98],"{",["T_WHITESPACE","\n        ",99],["T_VARIABLE","$this",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","setOrder",100],"(",["T_CONSTANT_ENCAPSED_STRING","'position '",100],",",["T_WHITESPACE","  ",100],["T_VARIABLE","$dir",100],")",";",["T_WHITESPACE","\n        ",100],["T_RETURN","return",101],["T_WHITESPACE"," ",101],["T_VARIABLE","$this",101],";",["T_WHITESPACE","\n    ",101],"}",["T_WHITESPACE","\n\n    ",102],["T_DOC_COMMENT","\/**\n     * Retrieve Store Id\n     *\n     * @return int\n     *\/",104],["T_WHITESPACE","\n    ",108],["T_PUBLIC","public",109],["T_WHITESPACE"," ",109],["T_FUNCTION","function",109],["T_WHITESPACE"," ",109],["T_STRING","getStoreId",109],"(",")",["T_WHITESPACE","\n    ",109],"{",["T_WHITESPACE","\n        ",110],["T_RETURN","return",111],["T_WHITESPACE"," ",111],["T_INT_CAST","(int)",111],["T_VARIABLE","$this",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","_product",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","getStoreId",111],"(",")",";",["T_WHITESPACE","\n    ",111],"}",["T_WHITESPACE","\n\n    ",112],["T_DOC_COMMENT","\/**\n     * After load collection process\n     *\n     * @return Mage_Catalog_Model_Resource_Product_Type_Configurable_Attribute_Collection\n     *\/",114],["T_WHITESPACE","\n    ",118],["T_PROTECTED","protected",119],["T_WHITESPACE"," ",119],["T_FUNCTION","function",119],["T_WHITESPACE"," ",119],["T_STRING","_afterLoad",119],"(",")",["T_WHITESPACE","\n    ",119],"{",["T_WHITESPACE","\n        ",120],["T_STRING","parent",121],["T_DOUBLE_COLON","::",121],["T_STRING","_afterLoad",121],"(",")",";",["T_WHITESPACE","\n        ",121],["T_STRING","Varien_Profiler",122],["T_DOUBLE_COLON","::",122],["T_STRING","start",122],"(",["T_CONSTANT_ENCAPSED_STRING","'TTT1:'",122],".",["T_METHOD_C","__METHOD__",122],")",";",["T_WHITESPACE","\n        ",122],["T_VARIABLE","$this",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","_addProductAttributes",123],"(",")",";",["T_WHITESPACE","\n        ",123],["T_STRING","Varien_Profiler",124],["T_DOUBLE_COLON","::",124],["T_STRING","stop",124],"(",["T_CONSTANT_ENCAPSED_STRING","'TTT1:'",124],".",["T_METHOD_C","__METHOD__",124],")",";",["T_WHITESPACE","\n        ",124],["T_STRING","Varien_Profiler",125],["T_DOUBLE_COLON","::",125],["T_STRING","start",125],"(",["T_CONSTANT_ENCAPSED_STRING","'TTT2:'",125],".",["T_METHOD_C","__METHOD__",125],")",";",["T_WHITESPACE","\n        ",125],["T_VARIABLE","$this",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","_addAssociatedProductFilters",126],"(",")",";",["T_WHITESPACE","\n        ",126],["T_STRING","Varien_Profiler",127],["T_DOUBLE_COLON","::",127],["T_STRING","stop",127],"(",["T_CONSTANT_ENCAPSED_STRING","'TTT2:'",127],".",["T_METHOD_C","__METHOD__",127],")",";",["T_WHITESPACE","\n        ",127],["T_STRING","Varien_Profiler",128],["T_DOUBLE_COLON","::",128],["T_STRING","start",128],"(",["T_CONSTANT_ENCAPSED_STRING","'TTT3:'",128],".",["T_METHOD_C","__METHOD__",128],")",";",["T_WHITESPACE","\n        ",128],["T_VARIABLE","$this",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","_loadLabels",129],"(",")",";",["T_WHITESPACE","\n        ",129],["T_STRING","Varien_Profiler",130],["T_DOUBLE_COLON","::",130],["T_STRING","stop",130],"(",["T_CONSTANT_ENCAPSED_STRING","'TTT3:'",130],".",["T_METHOD_C","__METHOD__",130],")",";",["T_WHITESPACE","\n        ",130],["T_STRING","Varien_Profiler",131],["T_DOUBLE_COLON","::",131],["T_STRING","start",131],"(",["T_CONSTANT_ENCAPSED_STRING","'TTT4:'",131],".",["T_METHOD_C","__METHOD__",131],")",";",["T_WHITESPACE","\n        ",131],["T_VARIABLE","$this",132],["T_OBJECT_OPERATOR","->",132],["T_STRING","_loadPrices",132],"(",")",";",["T_WHITESPACE","\n        ",132],["T_STRING","Varien_Profiler",133],["T_DOUBLE_COLON","::",133],["T_STRING","stop",133],"(",["T_CONSTANT_ENCAPSED_STRING","'TTT4:'",133],".",["T_METHOD_C","__METHOD__",133],")",";",["T_WHITESPACE","\n        ",133],["T_RETURN","return",134],["T_WHITESPACE"," ",134],["T_VARIABLE","$this",134],";",["T_WHITESPACE","\n    ",134],"}",["T_WHITESPACE","\n\n    ",135],["T_DOC_COMMENT","\/**\n     * Add product attributes to collection items\n     *\n     * @return Mage_Catalog_Model_Resource_Product_Type_Configurable_Attribute_Collection\n     *\/",137],["T_WHITESPACE","\n    ",141],["T_PROTECTED","protected",142],["T_WHITESPACE"," ",142],["T_FUNCTION","function",142],["T_WHITESPACE"," ",142],["T_STRING","_addProductAttributes",142],"(",")",["T_WHITESPACE","\n    ",142],"{",["T_WHITESPACE","\n        ",143],["T_FOREACH","foreach",144],["T_WHITESPACE"," ",144],"(",["T_VARIABLE","$this",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","_items",144],["T_WHITESPACE"," ",144],["T_AS","as",144],["T_WHITESPACE"," ",144],["T_VARIABLE","$item",144],")",["T_WHITESPACE"," ",144],"{",["T_WHITESPACE","\n            ",144],["T_VARIABLE","$productAttribute",145],["T_WHITESPACE"," ",145],"=",["T_WHITESPACE"," ",145],["T_VARIABLE","$this",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","getProduct",145],"(",")",["T_OBJECT_OPERATOR","->",145],["T_STRING","getTypeInstance",145],"(",["T_STRING","true",145],")",["T_WHITESPACE","\n                ",145],["T_OBJECT_OPERATOR","->",146],["T_STRING","getAttributeById",146],"(",["T_VARIABLE","$item",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","getAttributeId",146],"(",")",",",["T_WHITESPACE"," ",146],["T_VARIABLE","$this",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","getProduct",146],"(",")",")",";",["T_WHITESPACE","\n            ",146],["T_VARIABLE","$item",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","setProductAttribute",147],"(",["T_VARIABLE","$productAttribute",147],")",";",["T_WHITESPACE","\n        ",147],"}",["T_WHITESPACE","\n        ",148],["T_RETURN","return",149],["T_WHITESPACE"," ",149],["T_VARIABLE","$this",149],";",["T_WHITESPACE","\n    ",149],"}",["T_WHITESPACE","\n\n    ",150],["T_DOC_COMMENT","\/**\n     * Add Associated Product Filters (From Product Type Instance)\n     *\n     * @return Mage_Catalog_Model_Resource_Product_Type_Configurable_Attribute_Collection\n     *\/",152],["T_WHITESPACE","\n    ",156],["T_PUBLIC","public",157],["T_WHITESPACE"," ",157],["T_FUNCTION","function",157],["T_WHITESPACE"," ",157],["T_STRING","_addAssociatedProductFilters",157],"(",")",["T_WHITESPACE","\n    ",157],"{",["T_WHITESPACE","\n        ",158],["T_VARIABLE","$this",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","getProduct",159],"(",")",["T_OBJECT_OPERATOR","->",159],["T_STRING","getTypeInstance",159],"(",["T_STRING","true",159],")",["T_WHITESPACE","\n            ",159],["T_OBJECT_OPERATOR","->",160],["T_STRING","getUsedProducts",160],"(",["T_VARIABLE","$this",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","getColumnValues",160],"(",["T_CONSTANT_ENCAPSED_STRING","'attribute_id'",160],")",",",["T_WHITESPACE"," ",160],["T_VARIABLE","$this",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","getProduct",160],"(",")",")",";",["T_WHITESPACE"," ",160],["T_COMMENT","\/\/Filter associated products\n",160],["T_WHITESPACE","        ",161],["T_RETURN","return",161],["T_WHITESPACE"," ",161],["T_VARIABLE","$this",161],";",["T_WHITESPACE","\n    ",161],"}",["T_WHITESPACE","\n\n    ",162],["T_DOC_COMMENT","\/**\n     * Load attribute labels\n     *\n     * @return Mage_Catalog_Model_Resource_Product_Type_Configurable_Attribute_Collection\n     *\/",164],["T_WHITESPACE","\n    ",168],["T_PROTECTED","protected",169],["T_WHITESPACE"," ",169],["T_FUNCTION","function",169],["T_WHITESPACE"," ",169],["T_STRING","_loadLabels",169],"(",")",["T_WHITESPACE","\n    ",169],"{",["T_WHITESPACE","\n        ",170],["T_IF","if",171],["T_WHITESPACE"," ",171],"(",["T_VARIABLE","$this",171],["T_OBJECT_OPERATOR","->",171],["T_STRING","count",171],"(",")",")",["T_WHITESPACE"," ",171],"{",["T_WHITESPACE","\n            ",171],["T_VARIABLE","$useDefaultCheck",172],["T_WHITESPACE"," ",172],"=",["T_WHITESPACE"," ",172],["T_VARIABLE","$this",172],["T_OBJECT_OPERATOR","->",172],["T_STRING","getConnection",172],"(",")",["T_OBJECT_OPERATOR","->",172],["T_STRING","getCheckSql",172],"(",["T_WHITESPACE","\n                ",172],["T_CONSTANT_ENCAPSED_STRING","'store.use_default IS NULL'",173],",",["T_WHITESPACE","\n                ",173],["T_CONSTANT_ENCAPSED_STRING","'def.use_default'",174],",",["T_WHITESPACE","\n                ",174],["T_CONSTANT_ENCAPSED_STRING","'store.use_default'",175],["T_WHITESPACE","\n            ",175],")",";",["T_WHITESPACE","\n\n            ",176],["T_VARIABLE","$labelCheck",178],["T_WHITESPACE"," ",178],"=",["T_WHITESPACE"," ",178],["T_VARIABLE","$this",178],["T_OBJECT_OPERATOR","->",178],["T_STRING","getConnection",178],"(",")",["T_OBJECT_OPERATOR","->",178],["T_STRING","getCheckSql",178],"(",["T_WHITESPACE","\n                ",178],["T_CONSTANT_ENCAPSED_STRING","'store.value IS NULL'",179],",",["T_WHITESPACE","\n                ",179],["T_CONSTANT_ENCAPSED_STRING","'def.value'",180],",",["T_WHITESPACE","\n                ",180],["T_CONSTANT_ENCAPSED_STRING","'store.value'",181],["T_WHITESPACE","\n            ",181],")",";",["T_WHITESPACE","\n\n            ",182],["T_VARIABLE","$select",184],["T_WHITESPACE"," ",184],"=",["T_WHITESPACE"," ",184],["T_VARIABLE","$this",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","getConnection",184],"(",")",["T_OBJECT_OPERATOR","->",184],["T_STRING","select",184],"(",")",["T_WHITESPACE","\n                ",184],["T_OBJECT_OPERATOR","->",185],["T_STRING","from",185],"(",["T_ARRAY","array",185],"(",["T_CONSTANT_ENCAPSED_STRING","'def'",185],["T_WHITESPACE"," ",185],["T_DOUBLE_ARROW","=>",185],["T_WHITESPACE"," ",185],["T_VARIABLE","$this",185],["T_OBJECT_OPERATOR","->",185],["T_STRING","_labelTable",185],")",")",["T_WHITESPACE","\n                ",185],["T_OBJECT_OPERATOR","->",186],["T_STRING","joinLeft",186],"(",["T_WHITESPACE","\n                    ",186],["T_ARRAY","array",187],"(",["T_CONSTANT_ENCAPSED_STRING","'store'",187],["T_WHITESPACE"," ",187],["T_DOUBLE_ARROW","=>",187],["T_WHITESPACE"," ",187],["T_VARIABLE","$this",187],["T_OBJECT_OPERATOR","->",187],["T_STRING","_labelTable",187],")",",",["T_WHITESPACE","\n                    ",187],["T_VARIABLE","$this",188],["T_OBJECT_OPERATOR","->",188],["T_STRING","getConnection",188],"(",")",["T_OBJECT_OPERATOR","->",188],["T_STRING","quoteInto",188],"(",["T_WHITESPACE","\n                        ",188],["T_CONSTANT_ENCAPSED_STRING","'store.product_super_attribute_id = def.product_super_attribute_id AND store.store_id = ?'",189],",",["T_WHITESPACE","\n                        ",189],["T_VARIABLE","$this",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","getStoreId",190],"(",")",["T_WHITESPACE","\n                    ",190],")",",",["T_WHITESPACE","\n                    ",191],["T_ARRAY","array",192],"(",["T_WHITESPACE","\n                        ",192],["T_CONSTANT_ENCAPSED_STRING","'use_default'",193],["T_WHITESPACE"," ",193],["T_DOUBLE_ARROW","=>",193],["T_WHITESPACE"," ",193],["T_VARIABLE","$useDefaultCheck",193],",",["T_WHITESPACE","\n                        ",193],["T_CONSTANT_ENCAPSED_STRING","'label'",194],["T_WHITESPACE"," ",194],["T_DOUBLE_ARROW","=>",194],["T_WHITESPACE"," ",194],["T_VARIABLE","$labelCheck",194],["T_WHITESPACE","\n                    ",194],")",")",["T_WHITESPACE","\n                ",195],["T_OBJECT_OPERATOR","->",196],["T_STRING","where",196],"(",["T_CONSTANT_ENCAPSED_STRING","'def.product_super_attribute_id IN (?)'",196],",",["T_WHITESPACE"," ",196],["T_STRING","array_keys",196],"(",["T_VARIABLE","$this",196],["T_OBJECT_OPERATOR","->",196],["T_STRING","_items",196],")",")",["T_WHITESPACE","\n                ",196],["T_OBJECT_OPERATOR","->",197],["T_STRING","where",197],"(",["T_CONSTANT_ENCAPSED_STRING","'def.store_id = ?'",197],",",["T_WHITESPACE"," ",197],["T_LNUMBER","0",197],")",";",["T_WHITESPACE","\n\n                ",197],["T_VARIABLE","$result",199],["T_WHITESPACE"," ",199],"=",["T_WHITESPACE"," ",199],["T_VARIABLE","$this",199],["T_OBJECT_OPERATOR","->",199],["T_STRING","getConnection",199],"(",")",["T_OBJECT_OPERATOR","->",199],["T_STRING","fetchAll",199],"(",["T_VARIABLE","$select",199],")",";",["T_WHITESPACE","\n                ",199],["T_FOREACH","foreach",200],["T_WHITESPACE"," ",200],"(",["T_VARIABLE","$result",200],["T_WHITESPACE"," ",200],["T_AS","as",200],["T_WHITESPACE"," ",200],["T_VARIABLE","$data",200],")",["T_WHITESPACE"," ",200],"{",["T_WHITESPACE","\n                    ",200],["T_VARIABLE","$this",201],["T_OBJECT_OPERATOR","->",201],["T_STRING","getItemById",201],"(",["T_VARIABLE","$data",201],"[",["T_CONSTANT_ENCAPSED_STRING","'product_super_attribute_id'",201],"]",")",["T_OBJECT_OPERATOR","->",201],["T_STRING","setLabel",201],"(",["T_VARIABLE","$data",201],"[",["T_CONSTANT_ENCAPSED_STRING","'label'",201],"]",")",";",["T_WHITESPACE","\n                    ",201],["T_VARIABLE","$this",202],["T_OBJECT_OPERATOR","->",202],["T_STRING","getItemById",202],"(",["T_VARIABLE","$data",202],"[",["T_CONSTANT_ENCAPSED_STRING","'product_super_attribute_id'",202],"]",")",["T_OBJECT_OPERATOR","->",202],["T_STRING","setUseDefault",202],"(",["T_VARIABLE","$data",202],"[",["T_CONSTANT_ENCAPSED_STRING","'use_default'",202],"]",")",";",["T_WHITESPACE","\n                ",202],"}",["T_WHITESPACE","\n        ",203],"}",["T_WHITESPACE","\n        ",204],["T_RETURN","return",205],["T_WHITESPACE"," ",205],["T_VARIABLE","$this",205],";",["T_WHITESPACE","\n    ",205],"}",["T_WHITESPACE","\n\n    ",206],["T_DOC_COMMENT","\/**\n     * Load attribute prices information\n     *\n     * @return Mage_Catalog_Model_Resource_Product_Type_Configurable_Attribute_Collection\n     *\/",208],["T_WHITESPACE","\n    ",212],["T_PROTECTED","protected",213],["T_WHITESPACE"," ",213],["T_FUNCTION","function",213],["T_WHITESPACE"," ",213],["T_STRING","_loadPrices",213],"(",")",["T_WHITESPACE","\n    ",213],"{",["T_WHITESPACE","\n        ",214],["T_IF","if",215],["T_WHITESPACE"," ",215],"(",["T_VARIABLE","$this",215],["T_OBJECT_OPERATOR","->",215],["T_STRING","count",215],"(",")",")",["T_WHITESPACE"," ",215],"{",["T_WHITESPACE","\n            ",215],["T_VARIABLE","$pricings",216],["T_WHITESPACE"," ",216],"=",["T_WHITESPACE"," ",216],["T_ARRAY","array",216],"(",["T_WHITESPACE","\n                ",216],["T_LNUMBER","0",217],["T_WHITESPACE"," ",217],["T_DOUBLE_ARROW","=>",217],["T_WHITESPACE"," ",217],["T_ARRAY","array",217],"(",")",["T_WHITESPACE","\n            ",217],")",";",["T_WHITESPACE","\n\n            ",218],["T_IF","if",220],["T_WHITESPACE"," ",220],"(",["T_VARIABLE","$this",220],["T_OBJECT_OPERATOR","->",220],["T_STRING","getHelper",220],"(",")",["T_OBJECT_OPERATOR","->",220],["T_STRING","isPriceGlobal",220],"(",")",")",["T_WHITESPACE"," ",220],"{",["T_WHITESPACE","\n                ",220],["T_VARIABLE","$websiteId",221],["T_WHITESPACE"," ",221],"=",["T_WHITESPACE"," ",221],["T_LNUMBER","0",221],";",["T_WHITESPACE","\n            ",221],"}",["T_WHITESPACE"," ",222],["T_ELSE","else",222],["T_WHITESPACE"," ",222],"{",["T_WHITESPACE","\n                ",222],["T_VARIABLE","$websiteId",223],["T_WHITESPACE"," ",223],"=",["T_WHITESPACE"," ",223],["T_INT_CAST","(int)",223],["T_STRING","Mage",223],["T_DOUBLE_COLON","::",223],["T_STRING","app",223],"(",")",["T_OBJECT_OPERATOR","->",223],["T_STRING","getStore",223],"(",["T_VARIABLE","$this",223],["T_OBJECT_OPERATOR","->",223],["T_STRING","getStoreId",223],"(",")",")",["T_OBJECT_OPERATOR","->",223],["T_STRING","getWebsiteId",223],"(",")",";",["T_WHITESPACE","\n                ",223],["T_VARIABLE","$pricing",224],"[",["T_VARIABLE","$websiteId",224],"]",["T_WHITESPACE"," ",224],"=",["T_WHITESPACE"," ",224],["T_ARRAY","array",224],"(",")",";",["T_WHITESPACE","\n            ",224],"}",["T_WHITESPACE","\n\n            ",225],["T_VARIABLE","$select",227],["T_WHITESPACE"," ",227],"=",["T_WHITESPACE"," ",227],["T_VARIABLE","$this",227],["T_OBJECT_OPERATOR","->",227],["T_STRING","getConnection",227],"(",")",["T_OBJECT_OPERATOR","->",227],["T_STRING","select",227],"(",")",["T_WHITESPACE","\n                ",227],["T_OBJECT_OPERATOR","->",228],["T_STRING","from",228],"(",["T_ARRAY","array",228],"(",["T_CONSTANT_ENCAPSED_STRING","'price'",228],["T_WHITESPACE"," ",228],["T_DOUBLE_ARROW","=>",228],["T_WHITESPACE"," ",228],["T_VARIABLE","$this",228],["T_OBJECT_OPERATOR","->",228],["T_STRING","_priceTable",228],")",")",["T_WHITESPACE","\n                ",228],["T_OBJECT_OPERATOR","->",229],["T_STRING","where",229],"(",["T_CONSTANT_ENCAPSED_STRING","'price.product_super_attribute_id IN (?)'",229],",",["T_WHITESPACE"," ",229],["T_STRING","array_keys",229],"(",["T_VARIABLE","$this",229],["T_OBJECT_OPERATOR","->",229],["T_STRING","_items",229],")",")",";",["T_WHITESPACE","\n\n            ",229],["T_IF","if",231],["T_WHITESPACE"," ",231],"(",["T_VARIABLE","$websiteId",231],["T_WHITESPACE"," ",231],">",["T_WHITESPACE"," ",231],["T_LNUMBER","0",231],")",["T_WHITESPACE"," ",231],"{",["T_WHITESPACE","\n                ",231],["T_VARIABLE","$select",232],["T_OBJECT_OPERATOR","->",232],["T_STRING","where",232],"(",["T_CONSTANT_ENCAPSED_STRING","'price.website_id IN(?)'",232],",",["T_WHITESPACE"," ",232],["T_ARRAY","array",232],"(",["T_LNUMBER","0",232],",",["T_WHITESPACE"," ",232],["T_VARIABLE","$websiteId",232],")",")",";",["T_WHITESPACE","\n            ",232],"}",["T_WHITESPACE"," ",233],["T_ELSE","else",233],["T_WHITESPACE"," ",233],"{",["T_WHITESPACE","\n                ",233],["T_VARIABLE","$select",234],["T_OBJECT_OPERATOR","->",234],["T_STRING","where",234],"(",["T_CONSTANT_ENCAPSED_STRING","'price.website_id = ?'",234],",",["T_WHITESPACE"," ",234],["T_LNUMBER","0",234],")",";",["T_WHITESPACE","\n            ",234],"}",["T_WHITESPACE","\n\n            ",235],["T_VARIABLE","$query",237],["T_WHITESPACE"," ",237],"=",["T_WHITESPACE"," ",237],["T_VARIABLE","$this",237],["T_OBJECT_OPERATOR","->",237],["T_STRING","getConnection",237],"(",")",["T_OBJECT_OPERATOR","->",237],["T_STRING","query",237],"(",["T_VARIABLE","$select",237],")",";",["T_WHITESPACE","\n\n            ",237],["T_WHILE","while",239],["T_WHITESPACE"," ",239],"(",["T_VARIABLE","$row",239],["T_WHITESPACE"," ",239],"=",["T_WHITESPACE"," ",239],["T_VARIABLE","$query",239],["T_OBJECT_OPERATOR","->",239],["T_STRING","fetch",239],"(",")",")",["T_WHITESPACE"," ",239],"{",["T_WHITESPACE","\n                ",239],["T_VARIABLE","$pricings",240],"[",["T_INT_CAST","(int)",240],["T_VARIABLE","$row",240],"[",["T_CONSTANT_ENCAPSED_STRING","'website_id'",240],"]","]","[","]",["T_WHITESPACE"," ",240],"=",["T_WHITESPACE"," ",240],["T_VARIABLE","$row",240],";",["T_WHITESPACE","\n            ",240],"}",["T_WHITESPACE","\n\n            ",241],["T_VARIABLE","$values",243],["T_WHITESPACE"," ",243],"=",["T_WHITESPACE"," ",243],["T_ARRAY","array",243],"(",")",";",["T_WHITESPACE","\n            ",243],["T_VARIABLE","$sortOrder",244],["T_WHITESPACE"," ",244],"=",["T_WHITESPACE"," ",244],["T_LNUMBER","1",244],";",["T_WHITESPACE","\n            ",244],["T_FOREACH","foreach",245],["T_WHITESPACE"," ",245],"(",["T_VARIABLE","$this",245],["T_OBJECT_OPERATOR","->",245],["T_STRING","_items",245],["T_WHITESPACE"," ",245],["T_AS","as",245],["T_WHITESPACE"," ",245],["T_VARIABLE","$item",245],")",["T_WHITESPACE"," ",245],"{",["T_WHITESPACE","\n                ",245],["T_VARIABLE","$productAttribute",246],["T_WHITESPACE"," ",246],"=",["T_WHITESPACE"," ",246],["T_VARIABLE","$item",246],["T_OBJECT_OPERATOR","->",246],["T_STRING","getProductAttribute",246],"(",")",";",["T_WHITESPACE","\n                ",246],["T_IF","if",247],["T_WHITESPACE"," ",247],"(","!","(",["T_VARIABLE","$productAttribute",247],["T_WHITESPACE"," ",247],["T_INSTANCEOF","instanceof",247],["T_WHITESPACE"," ",247],["T_STRING","Mage_Eav_Model_Entity_Attribute_Abstract",247],")",")",["T_WHITESPACE"," ",247],"{",["T_WHITESPACE","\n                    ",247],["T_CONTINUE","continue",248],";",["T_WHITESPACE","\n                ",248],"}",["T_WHITESPACE","\n                ",249],["T_VARIABLE","$options",250],["T_WHITESPACE"," ",250],"=",["T_WHITESPACE"," ",250],["T_VARIABLE","$productAttribute",250],["T_OBJECT_OPERATOR","->",250],["T_STRING","getFrontend",250],"(",")",["T_OBJECT_OPERATOR","->",250],["T_STRING","getSelectOptions",250],"(",")",";",["T_WHITESPACE","\n\n                ",250],["T_VARIABLE","$optionsByValue",252],["T_WHITESPACE"," ",252],"=",["T_WHITESPACE"," ",252],["T_ARRAY","array",252],"(",")",";",["T_WHITESPACE","\n                ",252],["T_FOREACH","foreach",253],["T_WHITESPACE"," ",253],"(",["T_VARIABLE","$options",253],["T_WHITESPACE"," ",253],["T_AS","as",253],["T_WHITESPACE"," ",253],["T_VARIABLE","$option",253],")",["T_WHITESPACE"," ",253],"{",["T_WHITESPACE","\n                    ",253],["T_VARIABLE","$optionsByValue",254],"[",["T_VARIABLE","$option",254],"[",["T_CONSTANT_ENCAPSED_STRING","'value'",254],"]","]",["T_WHITESPACE"," ",254],"=",["T_WHITESPACE"," ",254],["T_ARRAY","array",254],"(",["T_CONSTANT_ENCAPSED_STRING","'label'",254],["T_WHITESPACE"," ",254],["T_DOUBLE_ARROW","=>",254],["T_WHITESPACE"," ",254],["T_VARIABLE","$option",254],"[",["T_CONSTANT_ENCAPSED_STRING","'label'",254],"]",",",["T_WHITESPACE"," ",254],["T_CONSTANT_ENCAPSED_STRING","'order'",254],["T_WHITESPACE"," ",254],["T_DOUBLE_ARROW","=>",254],["T_WHITESPACE"," ",254],["T_VARIABLE","$sortOrder",254],["T_INC","++",254],")",";",["T_WHITESPACE","\n                ",254],"}",["T_WHITESPACE","\n\n                ",255],["T_FOREACH","foreach",257],["T_WHITESPACE"," ",257],"(",["T_VARIABLE","$this",257],["T_OBJECT_OPERATOR","->",257],["T_STRING","getProduct",257],"(",")",["T_OBJECT_OPERATOR","->",257],["T_STRING","getTypeInstance",257],"(",["T_STRING","true",257],")",["T_WHITESPACE","\n                             ",257],["T_OBJECT_OPERATOR","->",258],["T_STRING","getUsedProducts",258],"(",["T_ARRAY","array",258],"(",["T_VARIABLE","$productAttribute",258],["T_OBJECT_OPERATOR","->",258],["T_STRING","getAttributeCode",258],"(",")",")",",",["T_WHITESPACE"," ",258],["T_VARIABLE","$this",258],["T_OBJECT_OPERATOR","->",258],["T_STRING","getProduct",258],"(",")",")",["T_WHITESPACE","\n                         ",258],["T_AS","as",259],["T_WHITESPACE"," ",259],["T_VARIABLE","$associatedProduct",259],")",["T_WHITESPACE"," ",259],"{",["T_WHITESPACE","\n\n                    ",259],["T_VARIABLE","$optionValue",261],["T_WHITESPACE"," ",261],"=",["T_WHITESPACE"," ",261],["T_VARIABLE","$associatedProduct",261],["T_OBJECT_OPERATOR","->",261],["T_STRING","getData",261],"(",["T_VARIABLE","$productAttribute",261],["T_OBJECT_OPERATOR","->",261],["T_STRING","getAttributeCode",261],"(",")",")",";",["T_WHITESPACE","\n\n                    ",261],["T_IF","if",263],["T_WHITESPACE"," ",263],"(",["T_STRING","array_key_exists",263],"(",["T_VARIABLE","$optionValue",263],",",["T_WHITESPACE"," ",263],["T_VARIABLE","$optionsByValue",263],")",")",["T_WHITESPACE"," ",263],"{",["T_WHITESPACE","\n                        ",263],["T_COMMENT","\/\/ If option available in associated product\n",264],["T_WHITESPACE","                        ",265],["T_IF","if",265],["T_WHITESPACE"," ",265],"(","!",["T_ISSET","isset",265],"(",["T_VARIABLE","$values",265],"[",["T_VARIABLE","$item",265],["T_OBJECT_OPERATOR","->",265],["T_STRING","getId",265],"(",")",["T_WHITESPACE"," ",265],".",["T_WHITESPACE"," ",265],["T_CONSTANT_ENCAPSED_STRING","':'",265],["T_WHITESPACE"," ",265],".",["T_WHITESPACE"," ",265],["T_VARIABLE","$optionValue",265],"]",")",")",["T_WHITESPACE"," ",265],"{",["T_WHITESPACE","\n                            ",265],["T_COMMENT","\/\/ If option not added, we will add it.\n",266],["T_WHITESPACE","                            ",267],["T_VARIABLE","$values",267],"[",["T_VARIABLE","$item",267],["T_OBJECT_OPERATOR","->",267],["T_STRING","getId",267],"(",")",["T_WHITESPACE"," ",267],".",["T_WHITESPACE"," ",267],["T_CONSTANT_ENCAPSED_STRING","':'",267],["T_WHITESPACE"," ",267],".",["T_WHITESPACE"," ",267],["T_VARIABLE","$optionValue",267],"]",["T_WHITESPACE"," ",267],"=",["T_WHITESPACE"," ",267],["T_ARRAY","array",267],"(",["T_WHITESPACE","\n                                ",267],["T_CONSTANT_ENCAPSED_STRING","'product_super_attribute_id'",268],["T_WHITESPACE"," ",268],["T_DOUBLE_ARROW","=>",268],["T_WHITESPACE"," ",268],["T_VARIABLE","$item",268],["T_OBJECT_OPERATOR","->",268],["T_STRING","getId",268],"(",")",",",["T_WHITESPACE","\n                                ",268],["T_CONSTANT_ENCAPSED_STRING","'value_index'",269],["T_WHITESPACE","                ",269],["T_DOUBLE_ARROW","=>",269],["T_WHITESPACE"," ",269],["T_VARIABLE","$optionValue",269],",",["T_WHITESPACE","\n                                ",269],["T_CONSTANT_ENCAPSED_STRING","'label'",270],["T_WHITESPACE","                      ",270],["T_DOUBLE_ARROW","=>",270],["T_WHITESPACE"," ",270],["T_VARIABLE","$optionsByValue",270],"[",["T_VARIABLE","$optionValue",270],"]","[",["T_CONSTANT_ENCAPSED_STRING","'label'",270],"]",",",["T_WHITESPACE","\n                                ",270],["T_CONSTANT_ENCAPSED_STRING","'default_label'",271],["T_WHITESPACE","              ",271],["T_DOUBLE_ARROW","=>",271],["T_WHITESPACE"," ",271],["T_VARIABLE","$optionsByValue",271],"[",["T_VARIABLE","$optionValue",271],"]","[",["T_CONSTANT_ENCAPSED_STRING","'label'",271],"]",",",["T_WHITESPACE","\n                                ",271],["T_CONSTANT_ENCAPSED_STRING","'store_label'",272],["T_WHITESPACE","                ",272],["T_DOUBLE_ARROW","=>",272],["T_WHITESPACE"," ",272],["T_VARIABLE","$optionsByValue",272],"[",["T_VARIABLE","$optionValue",272],"]","[",["T_CONSTANT_ENCAPSED_STRING","'label'",272],"]",",",["T_WHITESPACE","\n                                ",272],["T_CONSTANT_ENCAPSED_STRING","'is_percent'",273],["T_WHITESPACE","                 ",273],["T_DOUBLE_ARROW","=>",273],["T_WHITESPACE"," ",273],["T_LNUMBER","0",273],",",["T_WHITESPACE","\n                                ",273],["T_CONSTANT_ENCAPSED_STRING","'pricing_value'",274],["T_WHITESPACE","              ",274],["T_DOUBLE_ARROW","=>",274],["T_WHITESPACE"," ",274],["T_STRING","null",274],",",["T_WHITESPACE","\n                                ",274],["T_CONSTANT_ENCAPSED_STRING","'use_default_value'",275],["T_WHITESPACE","          ",275],["T_DOUBLE_ARROW","=>",275],["T_WHITESPACE"," ",275],["T_STRING","true",275],",",["T_WHITESPACE","\n                                ",275],["T_CONSTANT_ENCAPSED_STRING","'order'",276],["T_WHITESPACE","                      ",276],["T_DOUBLE_ARROW","=>",276],["T_WHITESPACE"," ",276],["T_VARIABLE","$optionsByValue",276],"[",["T_VARIABLE","$optionValue",276],"]","[",["T_CONSTANT_ENCAPSED_STRING","'order'",276],"]",["T_WHITESPACE","\n                            ",276],")",";",["T_WHITESPACE","\n                        ",277],"}",["T_WHITESPACE","\n                    ",278],"}",["T_WHITESPACE","\n                ",279],"}",["T_WHITESPACE","\n            ",280],"}",["T_WHITESPACE","\n\n            ",281],["T_STRING","uasort",283],"(",["T_VARIABLE","$values",283],",",["T_WHITESPACE"," ",283],["T_FUNCTION","function",283],"(",["T_VARIABLE","$a",283],",",["T_WHITESPACE"," ",283],["T_VARIABLE","$b",283],")",["T_WHITESPACE"," ",283],"{",["T_WHITESPACE","\n                ",283],["T_RETURN","return",284],["T_WHITESPACE"," ",284],["T_VARIABLE","$a",284],"[",["T_CONSTANT_ENCAPSED_STRING","'order'",284],"]",["T_WHITESPACE"," ",284],"-",["T_WHITESPACE"," ",284],["T_VARIABLE","$b",284],"[",["T_CONSTANT_ENCAPSED_STRING","'order'",284],"]",";",["T_WHITESPACE","\n            ",284],"}",")",";",["T_WHITESPACE","\n\n            ",285],["T_FOREACH","foreach",287],["T_WHITESPACE"," ",287],"(",["T_VARIABLE","$pricings",287],"[",["T_LNUMBER","0",287],"]",["T_WHITESPACE"," ",287],["T_AS","as",287],["T_WHITESPACE"," ",287],["T_VARIABLE","$pricing",287],")",["T_WHITESPACE"," ",287],"{",["T_WHITESPACE","\n                ",287],["T_COMMENT","\/\/ Addding pricing to options\n",288],["T_WHITESPACE","                ",289],["T_VARIABLE","$valueKey",289],["T_WHITESPACE"," ",289],"=",["T_WHITESPACE"," ",289],["T_VARIABLE","$pricing",289],"[",["T_CONSTANT_ENCAPSED_STRING","'product_super_attribute_id'",289],"]",["T_WHITESPACE"," ",289],".",["T_WHITESPACE"," ",289],["T_CONSTANT_ENCAPSED_STRING","':'",289],["T_WHITESPACE"," ",289],".",["T_WHITESPACE"," ",289],["T_VARIABLE","$pricing",289],"[",["T_CONSTANT_ENCAPSED_STRING","'value_index'",289],"]",";",["T_WHITESPACE","\n                ",289],["T_IF","if",290],["T_WHITESPACE"," ",290],"(",["T_ISSET","isset",290],"(",["T_VARIABLE","$values",290],"[",["T_VARIABLE","$valueKey",290],"]",")",")",["T_WHITESPACE"," ",290],"{",["T_WHITESPACE","\n                    ",290],["T_VARIABLE","$values",291],"[",["T_VARIABLE","$valueKey",291],"]","[",["T_CONSTANT_ENCAPSED_STRING","'pricing_value'",291],"]",["T_WHITESPACE","     ",291],"=",["T_WHITESPACE"," ",291],["T_VARIABLE","$pricing",291],"[",["T_CONSTANT_ENCAPSED_STRING","'pricing_value'",291],"]",";",["T_WHITESPACE","\n                    ",291],["T_VARIABLE","$values",292],"[",["T_VARIABLE","$valueKey",292],"]","[",["T_CONSTANT_ENCAPSED_STRING","'is_percent'",292],"]",["T_WHITESPACE","        ",292],"=",["T_WHITESPACE"," ",292],["T_VARIABLE","$pricing",292],"[",["T_CONSTANT_ENCAPSED_STRING","'is_percent'",292],"]",";",["T_WHITESPACE","\n                    ",292],["T_VARIABLE","$values",293],"[",["T_VARIABLE","$valueKey",293],"]","[",["T_CONSTANT_ENCAPSED_STRING","'value_id'",293],"]",["T_WHITESPACE","          ",293],"=",["T_WHITESPACE"," ",293],["T_VARIABLE","$pricing",293],"[",["T_CONSTANT_ENCAPSED_STRING","'value_id'",293],"]",";",["T_WHITESPACE","\n                    ",293],["T_VARIABLE","$values",294],"[",["T_VARIABLE","$valueKey",294],"]","[",["T_CONSTANT_ENCAPSED_STRING","'use_default_value'",294],"]",["T_WHITESPACE"," ",294],"=",["T_WHITESPACE"," ",294],["T_STRING","true",294],";",["T_WHITESPACE","\n                ",294],"}",["T_WHITESPACE","\n            ",295],"}",["T_WHITESPACE","\n\n            ",296],["T_IF","if",298],["T_WHITESPACE"," ",298],"(",["T_VARIABLE","$websiteId",298],["T_WHITESPACE"," ",298],["T_BOOLEAN_AND","&&",298],["T_WHITESPACE"," ",298],["T_ISSET","isset",298],"(",["T_VARIABLE","$pricings",298],"[",["T_VARIABLE","$websiteId",298],"]",")",")",["T_WHITESPACE"," ",298],"{",["T_WHITESPACE","\n                ",298],["T_FOREACH","foreach",299],["T_WHITESPACE"," ",299],"(",["T_VARIABLE","$pricings",299],"[",["T_VARIABLE","$websiteId",299],"]",["T_WHITESPACE"," ",299],["T_AS","as",299],["T_WHITESPACE"," ",299],["T_VARIABLE","$pricing",299],")",["T_WHITESPACE"," ",299],"{",["T_WHITESPACE","\n                    ",299],["T_VARIABLE","$valueKey",300],["T_WHITESPACE"," ",300],"=",["T_WHITESPACE"," ",300],["T_VARIABLE","$pricing",300],"[",["T_CONSTANT_ENCAPSED_STRING","'product_super_attribute_id'",300],"]",["T_WHITESPACE"," ",300],".",["T_WHITESPACE"," ",300],["T_CONSTANT_ENCAPSED_STRING","':'",300],["T_WHITESPACE"," ",300],".",["T_WHITESPACE"," ",300],["T_VARIABLE","$pricing",300],"[",["T_CONSTANT_ENCAPSED_STRING","'value_index'",300],"]",";",["T_WHITESPACE","\n                    ",300],["T_IF","if",301],["T_WHITESPACE"," ",301],"(",["T_ISSET","isset",301],"(",["T_VARIABLE","$values",301],"[",["T_VARIABLE","$valueKey",301],"]",")",")",["T_WHITESPACE"," ",301],"{",["T_WHITESPACE","\n                        ",301],["T_VARIABLE","$values",302],"[",["T_VARIABLE","$valueKey",302],"]","[",["T_CONSTANT_ENCAPSED_STRING","'pricing_value'",302],"]",["T_WHITESPACE","     ",302],"=",["T_WHITESPACE"," ",302],["T_VARIABLE","$pricing",302],"[",["T_CONSTANT_ENCAPSED_STRING","'pricing_value'",302],"]",";",["T_WHITESPACE","\n                        ",302],["T_VARIABLE","$values",303],"[",["T_VARIABLE","$valueKey",303],"]","[",["T_CONSTANT_ENCAPSED_STRING","'is_percent'",303],"]",["T_WHITESPACE","        ",303],"=",["T_WHITESPACE"," ",303],["T_VARIABLE","$pricing",303],"[",["T_CONSTANT_ENCAPSED_STRING","'is_percent'",303],"]",";",["T_WHITESPACE","\n                        ",303],["T_VARIABLE","$values",304],"[",["T_VARIABLE","$valueKey",304],"]","[",["T_CONSTANT_ENCAPSED_STRING","'value_id'",304],"]",["T_WHITESPACE","          ",304],"=",["T_WHITESPACE"," ",304],["T_VARIABLE","$pricing",304],"[",["T_CONSTANT_ENCAPSED_STRING","'value_id'",304],"]",";",["T_WHITESPACE","\n                        ",304],["T_VARIABLE","$values",305],"[",["T_VARIABLE","$valueKey",305],"]","[",["T_CONSTANT_ENCAPSED_STRING","'use_default_value'",305],"]",["T_WHITESPACE"," ",305],"=",["T_WHITESPACE"," ",305],["T_STRING","false",305],";",["T_WHITESPACE","\n                    ",305],"}",["T_WHITESPACE","\n                ",306],"}",["T_WHITESPACE","\n            ",307],"}",["T_WHITESPACE","\n\n            ",308],["T_FOREACH","foreach",310],["T_WHITESPACE"," ",310],"(",["T_VARIABLE","$values",310],["T_WHITESPACE"," ",310],["T_AS","as",310],["T_WHITESPACE"," ",310],["T_VARIABLE","$data",310],")",["T_WHITESPACE"," ",310],"{",["T_WHITESPACE","\n                ",310],["T_VARIABLE","$this",311],["T_OBJECT_OPERATOR","->",311],["T_STRING","getItemById",311],"(",["T_VARIABLE","$data",311],"[",["T_CONSTANT_ENCAPSED_STRING","'product_super_attribute_id'",311],"]",")",["T_OBJECT_OPERATOR","->",311],["T_STRING","addPrice",311],"(",["T_VARIABLE","$data",311],")",";",["T_WHITESPACE","\n            ",311],"}",["T_WHITESPACE","\n        ",312],"}",["T_WHITESPACE","\n        ",313],["T_RETURN","return",314],["T_WHITESPACE"," ",314],["T_VARIABLE","$this",314],";",["T_WHITESPACE","\n    ",314],"}",["T_WHITESPACE","\n\n    ",315],["T_DOC_COMMENT","\/**\n     * Retrive product instance\n     *\n     * @return Mage_Catalog_Model_Product\n     *\/",317],["T_WHITESPACE","\n    ",321],["T_PUBLIC","public",322],["T_WHITESPACE"," ",322],["T_FUNCTION","function",322],["T_WHITESPACE"," ",322],["T_STRING","getProduct",322],"(",")",["T_WHITESPACE","\n    ",322],"{",["T_WHITESPACE","\n        ",323],["T_RETURN","return",324],["T_WHITESPACE"," ",324],["T_VARIABLE","$this",324],["T_OBJECT_OPERATOR","->",324],["T_STRING","_product",324],";",["T_WHITESPACE","\n    ",324],"}",["T_WHITESPACE","\n",325],"}",["T_WHITESPACE","\n",326]]