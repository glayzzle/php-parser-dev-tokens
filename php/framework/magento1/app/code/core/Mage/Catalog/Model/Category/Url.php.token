[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Magento\n *\n * NOTICE OF LICENSE\n *\n * This source file is subject to the Open Software License (OSL 3.0)\n * that is bundled with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/opensource.org\/licenses\/osl-3.0.php\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@magento.com so we can send you a copy immediately.\n *\n * DISCLAIMER\n *\n * Do not edit or add to this file if you wish to upgrade Magento to newer\n * versions in the future. If you wish to customize Magento for your\n * needs please refer to http:\/\/www.magento.com for more information.\n *\n * @category    Mage\n * @package     Mage_Catalog\n * @copyright  Copyright (c) 2006-2016 X.commerce, Inc. and affiliates (http:\/\/www.magento.com)\n * @license    http:\/\/opensource.org\/licenses\/osl-3.0.php  Open Software License (OSL 3.0)\n *\/",2],["T_WHITESPACE","\n\n",25],["T_DOC_COMMENT","\/**\n * Catalog category url\n *\n * @category   Mage\n * @package    Mage_Catalog\n * @author     Magento Core Team <core@magentocommerce.com>\n *\/",27],["T_WHITESPACE","\n",33],["T_CLASS","class",34],["T_WHITESPACE"," ",34],["T_STRING","Mage_Catalog_Model_Category_Url",34],["T_WHITESPACE","\n",34],"{",["T_WHITESPACE","\n    ",35],["T_DOC_COMMENT","\/**\n     * Url instance\n     *\n     * @var Mage_Core_Model_Url\n     *\/",36],["T_WHITESPACE","\n    ",40],["T_PROTECTED","protected",41],["T_WHITESPACE"," ",41],["T_VARIABLE","$_url",41],";",["T_WHITESPACE","\n\n    ",41],["T_DOC_COMMENT","\/**\n     * Factory instance\n     *\n     * @var Mage_Catalog_Model_Factory\n     *\/",43],["T_WHITESPACE","\n    ",47],["T_PROTECTED","protected",48],["T_WHITESPACE"," ",48],["T_VARIABLE","$_factory",48],";",["T_WHITESPACE","\n\n    ",48],["T_DOC_COMMENT","\/**\n     * Url rewrite instance\n     *\n     * @var Mage_Core_Model_Url_Rewrite\n     *\/",50],["T_WHITESPACE","\n    ",54],["T_PROTECTED","protected",55],["T_WHITESPACE"," ",55],["T_VARIABLE","$_urlRewrite",55],";",["T_WHITESPACE","\n\n    ",55],["T_DOC_COMMENT","\/**\n     * Initialize Url model\n     *\n     * @param array $args\n     *\/",57],["T_WHITESPACE","\n    ",61],["T_PUBLIC","public",62],["T_WHITESPACE"," ",62],["T_FUNCTION","function",62],["T_WHITESPACE"," ",62],["T_STRING","__construct",62],"(",["T_ARRAY","array",62],["T_WHITESPACE"," ",62],["T_VARIABLE","$args",62],["T_WHITESPACE"," ",62],"=",["T_WHITESPACE"," ",62],["T_ARRAY","array",62],"(",")",")",["T_WHITESPACE","\n    ",62],"{",["T_WHITESPACE","\n        ",63],["T_VARIABLE","$this",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","_factory",64],["T_WHITESPACE"," ",64],"=",["T_WHITESPACE"," ",64],"!",["T_EMPTY","empty",64],"(",["T_VARIABLE","$args",64],"[",["T_CONSTANT_ENCAPSED_STRING","'factory'",64],"]",")",["T_WHITESPACE"," ",64],"?",["T_WHITESPACE"," ",64],["T_VARIABLE","$args",64],"[",["T_CONSTANT_ENCAPSED_STRING","'factory'",64],"]",["T_WHITESPACE"," ",64],":",["T_WHITESPACE"," ",64],["T_STRING","Mage",64],["T_DOUBLE_COLON","::",64],["T_STRING","getSingleton",64],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog\/factory'",64],")",";",["T_WHITESPACE","\n    ",64],"}",["T_WHITESPACE","\n\n    ",65],["T_DOC_COMMENT","\/**\n     * Retrieve Url for specified category\n     *\n     * @param Mage_Catalog_Model_Category $category\n     * @return string\n     *\/",67],["T_WHITESPACE","\n    ",72],["T_PUBLIC","public",73],["T_WHITESPACE"," ",73],["T_FUNCTION","function",73],["T_WHITESPACE"," ",73],["T_STRING","getCategoryUrl",73],"(",["T_STRING","Mage_Catalog_Model_Category",73],["T_WHITESPACE"," ",73],["T_VARIABLE","$category",73],")",["T_WHITESPACE","\n    ",73],"{",["T_WHITESPACE","\n        ",74],["T_VARIABLE","$url",75],["T_WHITESPACE"," ",75],"=",["T_WHITESPACE"," ",75],["T_VARIABLE","$category",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","getData",75],"(",["T_CONSTANT_ENCAPSED_STRING","'url'",75],")",";",["T_WHITESPACE","\n        ",75],["T_IF","if",76],["T_WHITESPACE"," ",76],"(",["T_STRING","null",76],["T_WHITESPACE"," ",76],["T_IS_NOT_IDENTICAL","!==",76],["T_WHITESPACE"," ",76],["T_VARIABLE","$url",76],")",["T_WHITESPACE"," ",76],"{",["T_WHITESPACE","\n            ",76],["T_RETURN","return",77],["T_WHITESPACE"," ",77],["T_VARIABLE","$url",77],";",["T_WHITESPACE","\n        ",77],"}",["T_WHITESPACE","\n\n        ",78],["T_STRING","Varien_Profiler",80],["T_DOUBLE_COLON","::",80],["T_STRING","start",80],"(",["T_CONSTANT_ENCAPSED_STRING","'REWRITE: '",80],".",["T_METHOD_C","__METHOD__",80],")",";",["T_WHITESPACE","\n\n        ",80],["T_IF","if",82],["T_WHITESPACE"," ",82],"(",["T_VARIABLE","$category",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","hasData",82],"(",["T_CONSTANT_ENCAPSED_STRING","'request_path'",82],")",["T_WHITESPACE"," ",82],["T_BOOLEAN_AND","&&",82],["T_WHITESPACE"," ",82],["T_VARIABLE","$category",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","getData",82],"(",["T_CONSTANT_ENCAPSED_STRING","'request_path'",82],")",["T_WHITESPACE"," ",82],["T_IS_NOT_EQUAL","!=",82],["T_WHITESPACE"," ",82],["T_CONSTANT_ENCAPSED_STRING","''",82],")",["T_WHITESPACE"," ",82],"{",["T_WHITESPACE","\n            ",82],["T_VARIABLE","$category",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","setData",83],"(",["T_CONSTANT_ENCAPSED_STRING","'url'",83],",",["T_WHITESPACE"," ",83],["T_VARIABLE","$this",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","_getDirectUrl",83],"(",["T_VARIABLE","$category",83],")",")",";",["T_WHITESPACE","\n            ",83],["T_STRING","Varien_Profiler",84],["T_DOUBLE_COLON","::",84],["T_STRING","stop",84],"(",["T_CONSTANT_ENCAPSED_STRING","'REWRITE: '",84],".",["T_METHOD_C","__METHOD__",84],")",";",["T_WHITESPACE","\n            ",84],["T_RETURN","return",85],["T_WHITESPACE"," ",85],["T_VARIABLE","$category",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","getData",85],"(",["T_CONSTANT_ENCAPSED_STRING","'url'",85],")",";",["T_WHITESPACE","\n        ",85],"}",["T_WHITESPACE","\n\n        ",86],["T_VARIABLE","$requestPath",88],["T_WHITESPACE"," ",88],"=",["T_WHITESPACE"," ",88],["T_VARIABLE","$this",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","_getRequestPath",88],"(",["T_VARIABLE","$category",88],")",";",["T_WHITESPACE","\n        ",88],["T_IF","if",89],["T_WHITESPACE"," ",89],"(",["T_VARIABLE","$requestPath",89],")",["T_WHITESPACE"," ",89],"{",["T_WHITESPACE","\n            ",89],["T_VARIABLE","$category",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","setRequestPath",90],"(",["T_VARIABLE","$requestPath",90],")",";",["T_WHITESPACE","\n            ",90],["T_VARIABLE","$category",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","setData",91],"(",["T_CONSTANT_ENCAPSED_STRING","'url'",91],",",["T_WHITESPACE"," ",91],["T_VARIABLE","$this",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","_getDirectUrl",91],"(",["T_VARIABLE","$category",91],")",")",";",["T_WHITESPACE","\n            ",91],["T_STRING","Varien_Profiler",92],["T_DOUBLE_COLON","::",92],["T_STRING","stop",92],"(",["T_CONSTANT_ENCAPSED_STRING","'REWRITE: '",92],".",["T_METHOD_C","__METHOD__",92],")",";",["T_WHITESPACE","\n            ",92],["T_RETURN","return",93],["T_WHITESPACE"," ",93],["T_VARIABLE","$category",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","getData",93],"(",["T_CONSTANT_ENCAPSED_STRING","'url'",93],")",";",["T_WHITESPACE","\n        ",93],"}",["T_WHITESPACE","\n\n        ",94],["T_STRING","Varien_Profiler",96],["T_DOUBLE_COLON","::",96],["T_STRING","stop",96],"(",["T_CONSTANT_ENCAPSED_STRING","'REWRITE: '",96],".",["T_METHOD_C","__METHOD__",96],")",";",["T_WHITESPACE","\n\n        ",96],["T_VARIABLE","$category",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","setData",98],"(",["T_CONSTANT_ENCAPSED_STRING","'url'",98],",",["T_WHITESPACE"," ",98],["T_VARIABLE","$category",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","getCategoryIdUrl",98],"(",")",")",";",["T_WHITESPACE","\n        ",98],["T_RETURN","return",99],["T_WHITESPACE"," ",99],["T_VARIABLE","$category",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","getData",99],"(",["T_CONSTANT_ENCAPSED_STRING","'url'",99],")",";",["T_WHITESPACE","\n    ",99],"}",["T_WHITESPACE","\n\n    ",100],["T_DOC_COMMENT","\/**\n     * Returns category URL by which it can be accessed\n     * @param Mage_Catalog_Model_Category $category\n     * @return string\n     *\/",102],["T_WHITESPACE","\n    ",106],["T_PROTECTED","protected",107],["T_WHITESPACE"," ",107],["T_FUNCTION","function",107],["T_WHITESPACE"," ",107],["T_STRING","_getDirectUrl",107],"(",["T_STRING","Mage_Catalog_Model_Category",107],["T_WHITESPACE"," ",107],["T_VARIABLE","$category",107],")",["T_WHITESPACE","\n    ",107],"{",["T_WHITESPACE","\n        ",108],["T_RETURN","return",109],["T_WHITESPACE"," ",109],["T_VARIABLE","$this",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","getUrlInstance",109],"(",")",["T_OBJECT_OPERATOR","->",109],["T_STRING","getDirectUrl",109],"(",["T_VARIABLE","$category",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","getRequestPath",109],"(",")",")",";",["T_WHITESPACE","\n    ",109],"}",["T_WHITESPACE","\n\n    ",110],["T_DOC_COMMENT","\/**\n     * Retrieve request path\n     *\n     * @param Mage_Catalog_Model_Category $category\n     * @return bool|string\n     *\/",112],["T_WHITESPACE","\n    ",117],["T_PROTECTED","protected",118],["T_WHITESPACE"," ",118],["T_FUNCTION","function",118],["T_WHITESPACE"," ",118],["T_STRING","_getRequestPath",118],"(",["T_STRING","Mage_Catalog_Model_Category",118],["T_WHITESPACE"," ",118],["T_VARIABLE","$category",118],")",["T_WHITESPACE","\n    ",118],"{",["T_WHITESPACE","\n        ",119],["T_VARIABLE","$rewrite",120],["T_WHITESPACE"," ",120],"=",["T_WHITESPACE"," ",120],["T_VARIABLE","$this",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","getUrlRewrite",120],"(",")",";",["T_WHITESPACE","\n        ",120],["T_VARIABLE","$storeId",121],["T_WHITESPACE"," ",121],"=",["T_WHITESPACE"," ",121],["T_VARIABLE","$category",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","getStoreId",121],"(",")",";",["T_WHITESPACE","\n        ",121],["T_IF","if",122],["T_WHITESPACE"," ",122],"(",["T_VARIABLE","$storeId",122],")",["T_WHITESPACE"," ",122],"{",["T_WHITESPACE","\n            ",122],["T_VARIABLE","$rewrite",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","setStoreId",123],"(",["T_VARIABLE","$storeId",123],")",";",["T_WHITESPACE","\n        ",123],"}",["T_WHITESPACE","\n        ",124],["T_VARIABLE","$idPath",125],["T_WHITESPACE"," ",125],"=",["T_WHITESPACE"," ",125],["T_CONSTANT_ENCAPSED_STRING","'category\/'",125],["T_WHITESPACE"," ",125],".",["T_WHITESPACE"," ",125],["T_VARIABLE","$category",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","getId",125],"(",")",";",["T_WHITESPACE","\n        ",125],["T_VARIABLE","$rewrite",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","loadByIdPath",126],"(",["T_VARIABLE","$idPath",126],")",";",["T_WHITESPACE","\n        ",126],["T_IF","if",127],["T_WHITESPACE"," ",127],"(",["T_VARIABLE","$rewrite",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","getId",127],"(",")",")",["T_WHITESPACE"," ",127],"{",["T_WHITESPACE","\n            ",127],["T_RETURN","return",128],["T_WHITESPACE"," ",128],["T_VARIABLE","$rewrite",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","getRequestPath",128],"(",")",";",["T_WHITESPACE","\n        ",128],"}",["T_WHITESPACE","\n        ",129],["T_RETURN","return",130],["T_WHITESPACE"," ",130],["T_STRING","false",130],";",["T_WHITESPACE","\n    ",130],"}",["T_WHITESPACE","\n\n    ",131],["T_DOC_COMMENT","\/**\n     * Retrieve Url instance\n     *\n     * @return Mage_Core_Model_Url\n     *\/",133],["T_WHITESPACE","\n    ",137],["T_PUBLIC","public",138],["T_WHITESPACE"," ",138],["T_FUNCTION","function",138],["T_WHITESPACE"," ",138],["T_STRING","getUrlInstance",138],"(",")",["T_WHITESPACE","\n    ",138],"{",["T_WHITESPACE","\n        ",139],["T_IF","if",140],["T_WHITESPACE"," ",140],"(",["T_STRING","null",140],["T_WHITESPACE"," ",140],["T_IS_IDENTICAL","===",140],["T_WHITESPACE"," ",140],["T_VARIABLE","$this",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","_url",140],")",["T_WHITESPACE"," ",140],"{",["T_WHITESPACE","\n            ",140],["T_VARIABLE","$this",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","_url",141],["T_WHITESPACE"," ",141],"=",["T_WHITESPACE"," ",141],["T_VARIABLE","$this",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","_factory",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","getModel",141],"(",["T_CONSTANT_ENCAPSED_STRING","'core\/url'",141],")",";",["T_WHITESPACE","\n        ",141],"}",["T_WHITESPACE","\n        ",142],["T_RETURN","return",143],["T_WHITESPACE"," ",143],["T_VARIABLE","$this",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","_url",143],";",["T_WHITESPACE","\n    ",143],"}",["T_WHITESPACE","\n\n    ",144],["T_DOC_COMMENT","\/**\n     * Retrieve Url rewrite instance\n     *\n     * @return Mage_Core_Model_Url_Rewrite\n     *\/",146],["T_WHITESPACE","\n    ",150],["T_PUBLIC","public",151],["T_WHITESPACE"," ",151],["T_FUNCTION","function",151],["T_WHITESPACE"," ",151],["T_STRING","getUrlRewrite",151],"(",")",["T_WHITESPACE","\n    ",151],"{",["T_WHITESPACE","\n        ",152],["T_IF","if",153],["T_WHITESPACE"," ",153],"(",["T_STRING","null",153],["T_WHITESPACE"," ",153],["T_IS_IDENTICAL","===",153],["T_WHITESPACE"," ",153],["T_VARIABLE","$this",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","_urlRewrite",153],")",["T_WHITESPACE"," ",153],"{",["T_WHITESPACE","\n            ",153],["T_VARIABLE","$this",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","_urlRewrite",154],["T_WHITESPACE"," ",154],"=",["T_WHITESPACE"," ",154],["T_VARIABLE","$this",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","_factory",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","getUrlRewriteInstance",154],"(",")",";",["T_WHITESPACE","\n        ",154],"}",["T_WHITESPACE","\n        ",155],["T_RETURN","return",156],["T_WHITESPACE"," ",156],["T_VARIABLE","$this",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","_urlRewrite",156],";",["T_WHITESPACE","\n    ",156],"}",["T_WHITESPACE","\n",157],"}",["T_WHITESPACE","\n",158]]