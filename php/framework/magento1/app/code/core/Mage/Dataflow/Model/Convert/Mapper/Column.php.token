[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Magento\n *\n * NOTICE OF LICENSE\n *\n * This source file is subject to the Open Software License (OSL 3.0)\n * that is bundled with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/opensource.org\/licenses\/osl-3.0.php\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@magento.com so we can send you a copy immediately.\n *\n * DISCLAIMER\n *\n * Do not edit or add to this file if you wish to upgrade Magento to newer\n * versions in the future. If you wish to customize Magento for your\n * needs please refer to http:\/\/www.magento.com for more information.\n *\n * @category    Mage\n * @package     Mage_Dataflow\n * @copyright  Copyright (c) 2006-2016 X.commerce, Inc. and affiliates (http:\/\/www.magento.com)\n * @license    http:\/\/opensource.org\/licenses\/osl-3.0.php  Open Software License (OSL 3.0)\n *\/",2],["T_WHITESPACE","\n\n\n",25],["T_DOC_COMMENT","\/**\n * Convert column mapper\n *\n * @category   Mage\n * @package    Mage_Dataflow\n * @author      Magento Core Team <core@magentocommerce.com>\n *\/",28],["T_WHITESPACE","\n",34],["T_CLASS","class",35],["T_WHITESPACE"," ",35],["T_STRING","Mage_Dataflow_Model_Convert_Mapper_Column",35],["T_WHITESPACE"," ",35],["T_EXTENDS","extends",35],["T_WHITESPACE"," ",35],["T_STRING","Mage_Dataflow_Model_Convert_Mapper_Abstract",35],["T_WHITESPACE","\n",35],"{",["T_WHITESPACE","\n    ",36],["T_DOC_COMMENT","\/**\n     * Dataflow batch model\n     *\n     * @var Mage_Dataflow_Model_Batch\n     *\/",37],["T_WHITESPACE","\n    ",41],["T_PROTECTED","protected",42],["T_WHITESPACE"," ",42],["T_VARIABLE","$_batch",42],";",["T_WHITESPACE","\n\n    ",42],["T_DOC_COMMENT","\/**\n     * Dataflow batch export model\n     *\n     * @var Mage_Dataflow_Model_Batch_Export\n     *\/",44],["T_WHITESPACE","\n    ",48],["T_PROTECTED","protected",49],["T_WHITESPACE"," ",49],["T_VARIABLE","$_batchExport",49],";",["T_WHITESPACE","\n\n    ",49],["T_DOC_COMMENT","\/**\n     * Dataflow batch import model\n     *\n     * @var Mage_Dataflow_Model_Batch_Import\n     *\/",51],["T_WHITESPACE","\n    ",55],["T_PROTECTED","protected",56],["T_WHITESPACE"," ",56],["T_VARIABLE","$_batchImport",56],";",["T_WHITESPACE","\n\n    ",56],["T_DOC_COMMENT","\/**\n     * Retrieve Batch model singleton\n     *\n     * @return Mage_Dataflow_Model_Batch\n     *\/",58],["T_WHITESPACE","\n    ",62],["T_PUBLIC","public",63],["T_WHITESPACE"," ",63],["T_FUNCTION","function",63],["T_WHITESPACE"," ",63],["T_STRING","getBatchModel",63],"(",")",["T_WHITESPACE","\n    ",63],"{",["T_WHITESPACE","\n        ",64],["T_IF","if",65],["T_WHITESPACE"," ",65],"(",["T_STRING","is_null",65],"(",["T_VARIABLE","$this",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","_batch",65],")",")",["T_WHITESPACE"," ",65],"{",["T_WHITESPACE","\n            ",65],["T_VARIABLE","$this",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","_batch",66],["T_WHITESPACE"," ",66],"=",["T_WHITESPACE"," ",66],["T_STRING","Mage",66],["T_DOUBLE_COLON","::",66],["T_STRING","getSingleton",66],"(",["T_CONSTANT_ENCAPSED_STRING","'dataflow\/batch'",66],")",";",["T_WHITESPACE","\n        ",66],"}",["T_WHITESPACE","\n        ",67],["T_RETURN","return",68],["T_WHITESPACE"," ",68],["T_VARIABLE","$this",68],["T_OBJECT_OPERATOR","->",68],["T_STRING","_batch",68],";",["T_WHITESPACE","\n    ",68],"}",["T_WHITESPACE","\n\n    ",69],["T_DOC_COMMENT","\/**\n     * Retrieve Batch export model\n     *\n     * @return Mage_Dataflow_Model_Batch_Export\n     *\/",71],["T_WHITESPACE","\n    ",75],["T_PUBLIC","public",76],["T_WHITESPACE"," ",76],["T_FUNCTION","function",76],["T_WHITESPACE"," ",76],["T_STRING","getBatchExportModel",76],"(",")",["T_WHITESPACE","\n    ",76],"{",["T_WHITESPACE","\n        ",77],["T_IF","if",78],["T_WHITESPACE"," ",78],"(",["T_STRING","is_null",78],"(",["T_VARIABLE","$this",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","_batchExport",78],")",")",["T_WHITESPACE"," ",78],"{",["T_WHITESPACE","\n            ",78],["T_VARIABLE","$object",79],["T_WHITESPACE"," ",79],"=",["T_WHITESPACE"," ",79],["T_STRING","Mage",79],["T_DOUBLE_COLON","::",79],["T_STRING","getModel",79],"(",["T_CONSTANT_ENCAPSED_STRING","'dataflow\/batch_export'",79],")",";",["T_WHITESPACE","\n            ",79],["T_VARIABLE","$this",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","_batchExport",80],["T_WHITESPACE"," ",80],"=",["T_WHITESPACE"," ",80],["T_STRING","Varien_Object_Cache",80],["T_DOUBLE_COLON","::",80],["T_STRING","singleton",80],"(",")",["T_OBJECT_OPERATOR","->",80],["T_STRING","save",80],"(",["T_VARIABLE","$object",80],")",";",["T_WHITESPACE","\n        ",80],"}",["T_WHITESPACE","\n        ",81],["T_RETURN","return",82],["T_WHITESPACE"," ",82],["T_STRING","Varien_Object_Cache",82],["T_DOUBLE_COLON","::",82],["T_STRING","singleton",82],"(",")",["T_OBJECT_OPERATOR","->",82],["T_STRING","load",82],"(",["T_VARIABLE","$this",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","_batchExport",82],")",";",["T_WHITESPACE","\n    ",82],"}",["T_WHITESPACE","\n\n    ",83],["T_DOC_COMMENT","\/**\n     * Retrieve Batch import model\n     *\n     * @return Mage_Dataflow_Model_Import_Export\n     *\/",85],["T_WHITESPACE","\n    ",89],["T_PUBLIC","public",90],["T_WHITESPACE"," ",90],["T_FUNCTION","function",90],["T_WHITESPACE"," ",90],["T_STRING","getBatchImportModel",90],"(",")",["T_WHITESPACE","\n    ",90],"{",["T_WHITESPACE","\n        ",91],["T_IF","if",92],["T_WHITESPACE"," ",92],"(",["T_STRING","is_null",92],"(",["T_VARIABLE","$this",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","_batchImport",92],")",")",["T_WHITESPACE"," ",92],"{",["T_WHITESPACE","\n            ",92],["T_VARIABLE","$object",93],["T_WHITESPACE"," ",93],"=",["T_WHITESPACE"," ",93],["T_STRING","Mage",93],["T_DOUBLE_COLON","::",93],["T_STRING","getModel",93],"(",["T_CONSTANT_ENCAPSED_STRING","'dataflow\/batch_import'",93],")",";",["T_WHITESPACE","\n            ",93],["T_VARIABLE","$this",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","_batchImport",94],["T_WHITESPACE"," ",94],"=",["T_WHITESPACE"," ",94],["T_STRING","Varien_Object_Cache",94],["T_DOUBLE_COLON","::",94],["T_STRING","singleton",94],"(",")",["T_OBJECT_OPERATOR","->",94],["T_STRING","save",94],"(",["T_VARIABLE","$object",94],")",";",["T_WHITESPACE","\n        ",94],"}",["T_WHITESPACE","\n        ",95],["T_RETURN","return",96],["T_WHITESPACE"," ",96],["T_STRING","Varien_Object_Cache",96],["T_DOUBLE_COLON","::",96],["T_STRING","singleton",96],"(",")",["T_OBJECT_OPERATOR","->",96],["T_STRING","load",96],"(",["T_VARIABLE","$this",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","_batchImport",96],")",";",["T_WHITESPACE","\n    ",96],"}",["T_WHITESPACE","\n\n    ",97],["T_PUBLIC","public",99],["T_WHITESPACE"," ",99],["T_FUNCTION","function",99],["T_WHITESPACE"," ",99],["T_STRING","map",99],"(",")",["T_WHITESPACE","\n    ",99],"{",["T_WHITESPACE","\n        ",100],["T_VARIABLE","$batchModel",101],["T_WHITESPACE","  ",101],"=",["T_WHITESPACE"," ",101],["T_VARIABLE","$this",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","getBatchModel",101],"(",")",";",["T_WHITESPACE","\n        ",101],["T_VARIABLE","$batchExport",102],["T_WHITESPACE"," ",102],"=",["T_WHITESPACE"," ",102],["T_VARIABLE","$this",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","getBatchExportModel",102],"(",")",";",["T_WHITESPACE","\n\n        ",102],["T_VARIABLE","$batchExportIds",104],["T_WHITESPACE"," ",104],"=",["T_WHITESPACE"," ",104],["T_VARIABLE","$batchExport",104],["T_WHITESPACE","\n            ",104],["T_OBJECT_OPERATOR","->",105],["T_STRING","setBatchId",105],"(",["T_VARIABLE","$this",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","getBatchModel",105],"(",")",["T_OBJECT_OPERATOR","->",105],["T_STRING","getId",105],"(",")",")",["T_WHITESPACE","\n            ",105],["T_OBJECT_OPERATOR","->",106],["T_STRING","getIdCollection",106],"(",")",";",["T_WHITESPACE","\n\n        ",106],["T_VARIABLE","$onlySpecified",108],["T_WHITESPACE"," ",108],"=",["T_WHITESPACE"," ",108],["T_BOOL_CAST","(bool)",108],["T_VARIABLE","$this",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","getVar",108],"(",["T_CONSTANT_ENCAPSED_STRING","'_only_specified'",108],")",["T_WHITESPACE"," ",108],["T_IS_IDENTICAL","===",108],["T_WHITESPACE"," ",108],["T_STRING","true",108],";",["T_WHITESPACE","\n\n        ",108],["T_IF","if",110],["T_WHITESPACE"," ",110],"(","!",["T_VARIABLE","$onlySpecified",110],")",["T_WHITESPACE"," ",110],"{",["T_WHITESPACE","\n            ",110],["T_FOREACH","foreach",111],["T_WHITESPACE"," ",111],"(",["T_VARIABLE","$batchExportIds",111],["T_WHITESPACE"," ",111],["T_AS","as",111],["T_WHITESPACE"," ",111],["T_VARIABLE","$batchExportId",111],")",["T_WHITESPACE"," ",111],"{",["T_WHITESPACE","\n                ",111],["T_VARIABLE","$batchExport",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","load",112],"(",["T_VARIABLE","$batchExportId",112],")",";",["T_WHITESPACE","\n                ",112],["T_VARIABLE","$batchModel",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","parseFieldList",113],"(",["T_VARIABLE","$batchExport",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","getBatchData",113],"(",")",")",";",["T_WHITESPACE","\n            ",113],"}",["T_WHITESPACE","\n\n            ",114],["T_RETURN","return",116],["T_WHITESPACE"," ",116],["T_VARIABLE","$this",116],";",["T_WHITESPACE","\n        ",116],"}",["T_WHITESPACE","\n\n        ",117],["T_IF","if",119],["T_WHITESPACE"," ",119],"(",["T_VARIABLE","$this",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","getVar",119],"(",["T_CONSTANT_ENCAPSED_STRING","'map'",119],")",["T_WHITESPACE"," ",119],["T_BOOLEAN_AND","&&",119],["T_WHITESPACE"," ",119],["T_STRING","is_array",119],"(",["T_VARIABLE","$this",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","getVar",119],"(",["T_CONSTANT_ENCAPSED_STRING","'map'",119],")",")",")",["T_WHITESPACE"," ",119],"{",["T_WHITESPACE","\n            ",119],["T_VARIABLE","$attributesToSelect",120],["T_WHITESPACE"," ",120],"=",["T_WHITESPACE"," ",120],["T_VARIABLE","$this",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","getVar",120],"(",["T_CONSTANT_ENCAPSED_STRING","'map'",120],")",";",["T_WHITESPACE","\n        ",120],"}",["T_WHITESPACE","\n        ",121],["T_ELSE","else",122],["T_WHITESPACE"," ",122],"{",["T_WHITESPACE","\n            ",122],["T_VARIABLE","$attributesToSelect",123],["T_WHITESPACE"," ",123],"=",["T_WHITESPACE"," ",123],["T_ARRAY","array",123],"(",")",";",["T_WHITESPACE","\n        ",123],"}",["T_WHITESPACE","\n\n        ",124],["T_IF","if",126],["T_WHITESPACE"," ",126],"(","!",["T_VARIABLE","$attributesToSelect",126],")",["T_WHITESPACE"," ",126],"{",["T_WHITESPACE","\n            ",126],["T_VARIABLE","$this",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","getBatchExportModel",127],"(",")",["T_WHITESPACE","\n                ",127],["T_OBJECT_OPERATOR","->",128],["T_STRING","setBatchId",128],"(",["T_VARIABLE","$this",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","getBatchModel",128],"(",")",["T_OBJECT_OPERATOR","->",128],["T_STRING","getId",128],"(",")",")",["T_WHITESPACE","\n                ",128],["T_OBJECT_OPERATOR","->",129],["T_STRING","deleteCollection",129],"(",")",";",["T_WHITESPACE","\n\n            ",129],["T_THROW","throw",131],["T_WHITESPACE"," ",131],["T_NEW","new",131],["T_WHITESPACE"," ",131],["T_STRING","Exception",131],"(",["T_STRING","Mage",131],["T_DOUBLE_COLON","::",131],["T_STRING","helper",131],"(",["T_CONSTANT_ENCAPSED_STRING","'dataflow'",131],")",["T_OBJECT_OPERATOR","->",131],["T_STRING","__",131],"(",["T_CONSTANT_ENCAPSED_STRING","'Error in field mapping: field list for mapping is not defined.'",131],")",")",";",["T_WHITESPACE","\n        ",131],"}",["T_WHITESPACE","\n\n        ",132],["T_FOREACH","foreach",134],["T_WHITESPACE"," ",134],"(",["T_VARIABLE","$batchExportIds",134],["T_WHITESPACE"," ",134],["T_AS","as",134],["T_WHITESPACE"," ",134],["T_VARIABLE","$batchExportId",134],")",["T_WHITESPACE"," ",134],"{",["T_WHITESPACE","\n            ",134],["T_VARIABLE","$batchExport",135],["T_WHITESPACE"," ",135],"=",["T_WHITESPACE"," ",135],["T_VARIABLE","$this",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","getBatchExportModel",135],"(",")",["T_OBJECT_OPERATOR","->",135],["T_STRING","load",135],"(",["T_VARIABLE","$batchExportId",135],")",";",["T_WHITESPACE","\n            ",135],["T_VARIABLE","$row",136],["T_WHITESPACE"," ",136],"=",["T_WHITESPACE"," ",136],["T_VARIABLE","$batchExport",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","getBatchData",136],"(",")",";",["T_WHITESPACE","\n\n            ",136],["T_VARIABLE","$newRow",138],["T_WHITESPACE"," ",138],"=",["T_WHITESPACE"," ",138],["T_ARRAY","array",138],"(",")",";",["T_WHITESPACE","\n            ",138],["T_FOREACH","foreach",139],["T_WHITESPACE"," ",139],"(",["T_VARIABLE","$attributesToSelect",139],["T_WHITESPACE"," ",139],["T_AS","as",139],["T_WHITESPACE"," ",139],["T_VARIABLE","$field",139],["T_WHITESPACE"," ",139],["T_DOUBLE_ARROW","=>",139],["T_WHITESPACE"," ",139],["T_VARIABLE","$mapField",139],")",["T_WHITESPACE"," ",139],"{",["T_WHITESPACE","\n                ",139],["T_VARIABLE","$newRow",140],"[",["T_VARIABLE","$mapField",140],"]",["T_WHITESPACE"," ",140],"=",["T_WHITESPACE"," ",140],["T_ISSET","isset",140],"(",["T_VARIABLE","$row",140],"[",["T_VARIABLE","$field",140],"]",")",["T_WHITESPACE"," ",140],"?",["T_WHITESPACE"," ",140],["T_VARIABLE","$row",140],"[",["T_VARIABLE","$field",140],"]",["T_WHITESPACE"," ",140],":",["T_WHITESPACE"," ",140],["T_STRING","null",140],";",["T_WHITESPACE","\n            ",140],"}",["T_WHITESPACE","\n\n            ",141],["T_VARIABLE","$batchExport",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","setBatchData",143],"(",["T_VARIABLE","$newRow",143],")",["T_WHITESPACE","\n                ",143],["T_OBJECT_OPERATOR","->",144],["T_STRING","setStatus",144],"(",["T_LNUMBER","2",144],")",["T_WHITESPACE","\n                ",144],["T_OBJECT_OPERATOR","->",145],["T_STRING","save",145],"(",")",";",["T_WHITESPACE","\n            ",145],["T_VARIABLE","$this",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","getBatchModel",146],"(",")",["T_OBJECT_OPERATOR","->",146],["T_STRING","parseFieldList",146],"(",["T_VARIABLE","$batchExport",146],["T_OBJECT_OPERATOR","->",146],["T_STRING","getBatchData",146],"(",")",")",";",["T_WHITESPACE","\n        ",146],"}",["T_WHITESPACE","\n\n        ",147],["T_RETURN","return",149],["T_WHITESPACE"," ",149],["T_VARIABLE","$this",149],";",["T_WHITESPACE","\n    ",149],"}",["T_WHITESPACE","\n",150],"}",["T_WHITESPACE","\n",151]]