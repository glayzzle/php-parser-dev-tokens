[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Magento\n *\n * NOTICE OF LICENSE\n *\n * This source file is subject to the Open Software License (OSL 3.0)\n * that is bundled with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/opensource.org\/licenses\/osl-3.0.php\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@magento.com so we can send you a copy immediately.\n *\n * DISCLAIMER\n *\n * Do not edit or add to this file if you wish to upgrade Magento to newer\n * versions in the future. If you wish to customize Magento for your\n * needs please refer to http:\/\/www.magento.com for more information.\n *\n * @category    Mage\n * @package     Mage_Dataflow\n * @copyright  Copyright (c) 2006-2016 X.commerce, Inc. and affiliates (http:\/\/www.magento.com)\n * @license    http:\/\/opensource.org\/licenses\/osl-3.0.php  Open Software License (OSL 3.0)\n *\/",2],["T_WHITESPACE","\n\n",25],["T_DOC_COMMENT","\/**\n * @deprecated after 1.5.0.1\n *\/",27],["T_WHITESPACE","\n",29],["T_CLASS","class",30],["T_WHITESPACE"," ",30],["T_STRING","Mage_Catalog_Model_Mysql4_Convert",30],["T_WHITESPACE","\n",30],"{",["T_WHITESPACE","\n    ",31],["T_PROTECTED","protected",32],["T_WHITESPACE"," ",32],["T_VARIABLE","$_productsBySku",32],";",["T_WHITESPACE","\n    ",32],["T_PROTECTED","protected",33],["T_WHITESPACE"," ",33],["T_VARIABLE","$_productEntity",33],";",["T_WHITESPACE","\n    ",33],["T_PROTECTED","protected",34],["T_WHITESPACE"," ",34],["T_VARIABLE","$_skuAttribute",34],";",["T_WHITESPACE","\n\n    ",34],["T_PUBLIC","public",36],["T_WHITESPACE"," ",36],["T_FUNCTION","function",36],["T_WHITESPACE"," ",36],["T_STRING","getConnection",36],"(",")",["T_WHITESPACE","\n    ",36],"{",["T_WHITESPACE","\n        ",37],["T_RETURN","return",38],["T_WHITESPACE"," ",38],["T_STRING","Mage",38],["T_DOUBLE_COLON","::",38],["T_STRING","getSingleton",38],"(",["T_CONSTANT_ENCAPSED_STRING","'core\/resource'",38],")",["T_OBJECT_OPERATOR","->",38],["T_STRING","getConnection",38],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog_write'",38],")",";",["T_WHITESPACE","\n    ",38],"}",["T_WHITESPACE","\n\n    ",39],["T_PUBLIC","public",41],["T_WHITESPACE"," ",41],["T_FUNCTION","function",41],["T_WHITESPACE"," ",41],["T_STRING","getSelect",41],"(",")",["T_WHITESPACE","\n    ",41],"{",["T_WHITESPACE","\n        ",42],["T_RETURN","return",43],["T_WHITESPACE"," ",43],["T_VARIABLE","$this",43],["T_OBJECT_OPERATOR","->",43],["T_STRING","getConnection",43],"(",")",["T_OBJECT_OPERATOR","->",43],["T_STRING","select",43],"(",")",";",["T_WHITESPACE","\n    ",43],"}",["T_WHITESPACE","\n\n    ",44],["T_PUBLIC","public",46],["T_WHITESPACE"," ",46],["T_FUNCTION","function",46],["T_WHITESPACE"," ",46],["T_STRING","getTable",46],"(",["T_VARIABLE","$table",46],")",["T_WHITESPACE","\n    ",46],"{",["T_WHITESPACE","\n        ",47],["T_RETURN","return",48],["T_WHITESPACE"," ",48],["T_STRING","Mage",48],["T_DOUBLE_COLON","::",48],["T_STRING","getSingleton",48],"(",["T_CONSTANT_ENCAPSED_STRING","'core\/resource'",48],")",["T_OBJECT_OPERATOR","->",48],["T_STRING","getTableName",48],"(",["T_VARIABLE","$table",48],")",";",["T_WHITESPACE","\n    ",48],"}",["T_WHITESPACE","\n\n    ",49],["T_PUBLIC","public",51],["T_WHITESPACE"," ",51],["T_FUNCTION","function",51],["T_WHITESPACE"," ",51],["T_STRING","getProductEntity",51],"(",["T_VARIABLE","$field",51],"=",["T_STRING","null",51],")",["T_WHITESPACE","\n    ",51],"{",["T_WHITESPACE","\n        ",52],["T_IF","if",53],["T_WHITESPACE"," ",53],"(","!",["T_VARIABLE","$this",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","_productEntity",53],")",["T_WHITESPACE"," ",53],"{",["T_WHITESPACE","\n            ",53],["T_VARIABLE","$this",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","_productEntity",54],["T_WHITESPACE"," ",54],"=",["T_WHITESPACE"," ",54],["T_STRING","Mage",54],["T_DOUBLE_COLON","::",54],["T_STRING","getResourceModel",54],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog\/product'",54],")",["T_WHITESPACE","\n                ",54],["T_OBJECT_OPERATOR","->",55],["T_STRING","loadAllAttributes",55],"(",")",";",["T_WHITESPACE","\n        ",55],"}",["T_WHITESPACE","\n        ",56],["T_RETURN","return",57],["T_WHITESPACE"," ",57],["T_STRING","is_null",57],"(",["T_VARIABLE","$field",57],")",["T_WHITESPACE"," ",57],"?",["T_WHITESPACE"," ",57],["T_VARIABLE","$this",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","_productEntity",57],["T_WHITESPACE"," ",57],":",["T_WHITESPACE"," ",57],["T_VARIABLE","$this",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","_productEntity",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","getData",57],"(",["T_VARIABLE","$field",57],")",";",["T_WHITESPACE","\n    ",57],"}",["T_WHITESPACE","\n\n    ",58],["T_PUBLIC","public",60],["T_WHITESPACE"," ",60],["T_FUNCTION","function",60],["T_WHITESPACE"," ",60],["T_STRING","getSkuAttribute",60],"(",["T_VARIABLE","$field",60],"=",["T_CONSTANT_ENCAPSED_STRING","'attribute_id'",60],")",["T_WHITESPACE","\n    ",60],"{",["T_WHITESPACE","\n        ",61],["T_IF","if",62],["T_WHITESPACE"," ",62],"(","!",["T_VARIABLE","$this",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","_skuAttribute",62],")",["T_WHITESPACE"," ",62],"{",["T_WHITESPACE","\n            ",62],["T_VARIABLE","$this",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","_skuAttribute",63],["T_WHITESPACE"," ",63],"=",["T_WHITESPACE"," ",63],["T_VARIABLE","$this",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","getProductEntity",63],"(",")",["T_OBJECT_OPERATOR","->",63],["T_STRING","getAttribute",63],"(",["T_CONSTANT_ENCAPSED_STRING","'sku'",63],")",";",["T_WHITESPACE","\n        ",63],"}",["T_WHITESPACE","\n        ",64],["T_RETURN","return",65],["T_WHITESPACE"," ",65],["T_VARIABLE","$this",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","_skuAttribute",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","getData",65],"(",["T_VARIABLE","$field",65],")",";",["T_WHITESPACE","\n    ",65],"}",["T_WHITESPACE","\n\n    ",66],["T_PUBLIC","public",68],["T_WHITESPACE"," ",68],["T_FUNCTION","function",68],["T_WHITESPACE"," ",68],["T_STRING","getProductIdBySku",68],"(",["T_VARIABLE","$sku",68],")",["T_WHITESPACE","\n    ",68],"{",["T_WHITESPACE","\n        ",69],["T_IF","if",70],["T_WHITESPACE"," ",70],"(","!",["T_VARIABLE","$this",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","_productsBySku",70],")",["T_WHITESPACE"," ",70],"{",["T_WHITESPACE","\n            ",70],["T_VARIABLE","$select",71],["T_WHITESPACE"," ",71],"=",["T_WHITESPACE"," ",71],["T_VARIABLE","$this",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","getSelect",71],"(",")",["T_WHITESPACE","\n                ",71],["T_OBJECT_OPERATOR","->",72],["T_STRING","from",72],"(",["T_VARIABLE","$this",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","getTable",72],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog\/product'",72],")",",",["T_WHITESPACE"," ",72],["T_ARRAY","array",72],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_id'",72],",",["T_WHITESPACE"," ",72],["T_CONSTANT_ENCAPSED_STRING","'sku'",72],")",")",";",["T_WHITESPACE","\n            ",72],["T_VARIABLE","$products",73],["T_WHITESPACE"," ",73],"=",["T_WHITESPACE"," ",73],["T_VARIABLE","$this",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","getConnection",73],"(",")",["T_OBJECT_OPERATOR","->",73],["T_STRING","fetchAll",73],"(",["T_VARIABLE","$select",73],")",";",["T_WHITESPACE","\n\n            ",73],["T_VARIABLE","$this",75],["T_OBJECT_OPERATOR","->",75],["T_STRING","_productsBySku",75],["T_WHITESPACE"," ",75],"=",["T_WHITESPACE"," ",75],["T_ARRAY","array",75],"(",")",";",["T_WHITESPACE","\n            ",75],["T_FOREACH","foreach",76],["T_WHITESPACE"," ",76],"(",["T_VARIABLE","$products",76],["T_WHITESPACE"," ",76],["T_AS","as",76],["T_WHITESPACE"," ",76],["T_VARIABLE","$p",76],")",["T_WHITESPACE"," ",76],"{",["T_WHITESPACE","\n                ",76],["T_VARIABLE","$this",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","_productsBySku",77],"[",["T_VARIABLE","$p",77],"[",["T_CONSTANT_ENCAPSED_STRING","'sku'",77],"]","]",["T_WHITESPACE"," ",77],"=",["T_WHITESPACE"," ",77],["T_VARIABLE","$p",77],"[",["T_CONSTANT_ENCAPSED_STRING","'entity_id'",77],"]",";",["T_WHITESPACE","\n            ",77],"}",["T_WHITESPACE","\n        ",78],"}",["T_WHITESPACE","\n        ",79],["T_RETURN","return",80],["T_WHITESPACE"," ",80],["T_ISSET","isset",80],"(",["T_VARIABLE","$this",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","_productsBySku",80],"[",["T_VARIABLE","$sku",80],"]",")",["T_WHITESPACE"," ",80],"?",["T_WHITESPACE"," ",80],["T_VARIABLE","$this",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","_productsBySku",80],"[",["T_VARIABLE","$sku",80],"]",["T_WHITESPACE"," ",80],":",["T_WHITESPACE"," ",80],["T_STRING","false",80],";",["T_WHITESPACE","\n    ",80],"}",["T_WHITESPACE","\n\n    ",81],["T_PUBLIC","public",83],["T_WHITESPACE"," ",83],["T_FUNCTION","function",83],["T_WHITESPACE"," ",83],["T_STRING","addProductToStore",83],"(",["T_VARIABLE","$productId",83],",",["T_WHITESPACE"," ",83],["T_VARIABLE","$storeId",83],")",["T_WHITESPACE","\n    ",83],"{",["T_WHITESPACE","\n        ",84],["T_VARIABLE","$write",85],["T_WHITESPACE"," ",85],"=",["T_WHITESPACE"," ",85],["T_VARIABLE","$this",85],["T_OBJECT_OPERATOR","->",85],["T_STRING","getConnection",85],"(",")",";",["T_WHITESPACE","\n        ",85],["T_VARIABLE","$table",86],["T_WHITESPACE"," ",86],"=",["T_WHITESPACE"," ",86],["T_VARIABLE","$this",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","getTable",86],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog\/product_store'",86],")",";",["T_WHITESPACE","\n        ",86],["T_TRY","try",87],["T_WHITESPACE"," ",87],"{",["T_WHITESPACE","\n            ",87],["T_IF","if",88],["T_WHITESPACE"," ",88],"(","!",["T_VARIABLE","$write",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","fetchOne",88],"(","\"",["T_ENCAPSED_AND_WHITESPACE","select * from ",88],["T_VARIABLE","$table",88],["T_ENCAPSED_AND_WHITESPACE"," where product_id=",88],"\"",".",["T_INT_CAST","(int)",88],["T_VARIABLE","$productId",88],".",["T_CONSTANT_ENCAPSED_STRING","\" and store_id=\"",88],".",["T_INT_CAST","(int)",88],["T_VARIABLE","$storeId",88],")",")",["T_WHITESPACE"," ",88],"{",["T_WHITESPACE","\n               ",88],["T_VARIABLE","$write",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","query",89],"(","\"",["T_ENCAPSED_AND_WHITESPACE","insert into ",89],["T_VARIABLE","$table",89],["T_ENCAPSED_AND_WHITESPACE"," (product_id, store_id) values (",89],"\"",".",["T_INT_CAST","(int)",89],["T_VARIABLE","$productId",89],".",["T_CONSTANT_ENCAPSED_STRING","\",\"",89],".",["T_INT_CAST","(int)",89],["T_VARIABLE","$storeId",89],".",["T_CONSTANT_ENCAPSED_STRING","\")\"",89],")",";",["T_WHITESPACE","\n            ",89],"}",["T_WHITESPACE","\n        ",90],"}",["T_WHITESPACE"," ",91],["T_CATCH","catch",91],["T_WHITESPACE"," ",91],"(",["T_STRING","Exception",91],["T_WHITESPACE"," ",91],["T_VARIABLE","$e",91],")",["T_WHITESPACE"," ",91],"{",["T_WHITESPACE","\n            ",91],["T_THROW","throw",92],["T_WHITESPACE"," ",92],["T_VARIABLE","$e",92],";",["T_WHITESPACE","\n        ",92],"}",["T_WHITESPACE","\n        ",93],["T_RETURN","return",94],["T_WHITESPACE"," ",94],["T_VARIABLE","$this",94],";",["T_WHITESPACE","\n    ",94],"}",["T_WHITESPACE","\n\n    ",95],["T_PUBLIC","public",97],["T_WHITESPACE"," ",97],["T_FUNCTION","function",97],["T_WHITESPACE"," ",97],["T_STRING","exportAttributes",97],"(",")",["T_WHITESPACE","\n    ",97],"{",["T_WHITESPACE","\n        ",98],["T_VARIABLE","$attributeFields",99],["T_WHITESPACE"," ",99],"=",["T_WHITESPACE"," ",99],["T_ARRAY","array",99],"(",["T_WHITESPACE","\n            ",99],["T_CONSTANT_ENCAPSED_STRING","'attribute_code'",100],",",["T_WHITESPACE","\n            ",100],["T_CONSTANT_ENCAPSED_STRING","'frontend_label'",101],",",["T_WHITESPACE"," ",101],["T_CONSTANT_ENCAPSED_STRING","'frontend_input'",101],",",["T_WHITESPACE"," ",101],["T_CONSTANT_ENCAPSED_STRING","'frontend_class'",101],",",["T_WHITESPACE"," ",101],["T_CONSTANT_ENCAPSED_STRING","'frontend_model'",101],",",["T_WHITESPACE","\n            ",101],["T_CONSTANT_ENCAPSED_STRING","'backend_type'",102],",",["T_WHITESPACE"," ",102],["T_CONSTANT_ENCAPSED_STRING","'backend_table'",102],",",["T_WHITESPACE"," ",102],["T_CONSTANT_ENCAPSED_STRING","'backend_model'",102],",",["T_WHITESPACE","\n            ",102],["T_CONSTANT_ENCAPSED_STRING","'source_model'",103],",",["T_WHITESPACE"," ",103],["T_CONSTANT_ENCAPSED_STRING","'attribute_model'",103],",",["T_WHITESPACE","\n            ",103],["T_CONSTANT_ENCAPSED_STRING","'is_visible'",104],",",["T_WHITESPACE"," ",104],["T_CONSTANT_ENCAPSED_STRING","'is_user_defined'",104],",",["T_WHITESPACE"," ",104],["T_CONSTANT_ENCAPSED_STRING","'is_global'",104],",",["T_WHITESPACE"," ",104],["T_CONSTANT_ENCAPSED_STRING","'is_required'",104],",",["T_WHITESPACE"," ",104],["T_CONSTANT_ENCAPSED_STRING","'is_unique'",104],",",["T_WHITESPACE","\n            ",104],["T_CONSTANT_ENCAPSED_STRING","'is_visible_on_front'",105],",",["T_WHITESPACE"," ",105],["T_CONSTANT_ENCAPSED_STRING","'is_searchable'",105],",",["T_WHITESPACE"," ",105],["T_CONSTANT_ENCAPSED_STRING","'is_filterable'",105],",",["T_WHITESPACE"," ",105],["T_CONSTANT_ENCAPSED_STRING","'is_comparable'",105],",",["T_WHITESPACE","\n            ",105],["T_CONSTANT_ENCAPSED_STRING","'default_value'",106],",",["T_WHITESPACE"," ",106],["T_CONSTANT_ENCAPSED_STRING","'apply_to'",106],",",["T_WHITESPACE"," ",106],["T_CONSTANT_ENCAPSED_STRING","'use_in_super_product'",106],",",["T_WHITESPACE","\n        ",106],")",";",["T_WHITESPACE","\n\n        ",107],["T_VARIABLE","$select",109],["T_WHITESPACE"," ",109],"=",["T_WHITESPACE"," ",109],["T_VARIABLE","$this",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","getSelect",109],"(",")",["T_WHITESPACE","\n            ",109],["T_OBJECT_OPERATOR","->",110],["T_STRING","from",110],"(",["T_ARRAY","array",110],"(",["T_CONSTANT_ENCAPSED_STRING","'et'",110],["T_DOUBLE_ARROW","=>",110],["T_VARIABLE","$this",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","getTable",110],"(",["T_CONSTANT_ENCAPSED_STRING","'eav\/entity_type'",110],")",")",",",["T_WHITESPACE"," ",110],["T_CONSTANT_ENCAPSED_STRING","'entity_type_code'",110],")",["T_WHITESPACE","\n            ",110],["T_OBJECT_OPERATOR","->",111],["T_STRING","join",111],"(",["T_ARRAY","array",111],"(",["T_CONSTANT_ENCAPSED_STRING","'a'",111],["T_DOUBLE_ARROW","=>",111],["T_VARIABLE","$this",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","getTable",111],"(",["T_CONSTANT_ENCAPSED_STRING","'eav\/attribute'",111],")",")",",",["T_WHITESPACE"," ",111],["T_CONSTANT_ENCAPSED_STRING","'a.entity_type_id=et.entity_type_id'",111],",",["T_WHITESPACE"," ",111],["T_VARIABLE","$attributeFields",111],")",["T_WHITESPACE","\n            ",111],["T_OBJECT_OPERATOR","->",112],["T_STRING","where",112],"(",["T_CONSTANT_ENCAPSED_STRING","'et.entity_type_code in (?)'",112],",",["T_WHITESPACE"," ",112],["T_ARRAY","array",112],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog_product'",112],",",["T_WHITESPACE"," ",112],["T_CONSTANT_ENCAPSED_STRING","'catalog_category'",112],")",")",["T_WHITESPACE","\n            ",112],["T_OBJECT_OPERATOR","->",113],["T_STRING","order",113],"(",["T_CONSTANT_ENCAPSED_STRING","'if(not a.is_user_defined, 1, 2)'",113],")",["T_OBJECT_OPERATOR","->",113],["T_STRING","order",113],"(",["T_CONSTANT_ENCAPSED_STRING","'attribute_code'",113],")",";",["T_WHITESPACE","\n\n        ",113],["T_VARIABLE","$attributes",115],["T_WHITESPACE"," ",115],"=",["T_WHITESPACE"," ",115],["T_VARIABLE","$this",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","getConnection",115],"(",")",["T_OBJECT_OPERATOR","->",115],["T_STRING","fetchAll",115],"(",["T_VARIABLE","$select",115],")",";",["T_WHITESPACE","\n\n        ",115],["T_RETURN","return",117],["T_WHITESPACE"," ",117],["T_VARIABLE","$attributes",117],";",["T_WHITESPACE","\n    ",117],"}",["T_WHITESPACE","\n\n    ",118],["T_PUBLIC","public",120],["T_WHITESPACE"," ",120],["T_FUNCTION","function",120],["T_WHITESPACE"," ",120],["T_STRING","exportAttributeSets",120],"(",")",["T_WHITESPACE","\n    ",120],"{",["T_WHITESPACE","\n        ",121],["T_VARIABLE","$select",122],["T_WHITESPACE"," ",122],"=",["T_WHITESPACE"," ",122],["T_VARIABLE","$this",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","getSelect",122],"(",")",["T_WHITESPACE","\n            ",122],["T_OBJECT_OPERATOR","->",123],["T_STRING","from",123],"(",["T_ARRAY","array",123],"(",["T_CONSTANT_ENCAPSED_STRING","'et'",123],["T_DOUBLE_ARROW","=>",123],["T_VARIABLE","$this",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","getTable",123],"(",["T_CONSTANT_ENCAPSED_STRING","'eav\/entity_type'",123],")",")",",",["T_WHITESPACE"," ",123],["T_CONSTANT_ENCAPSED_STRING","'entity_type_code'",123],")",["T_WHITESPACE","\n            ",123],["T_OBJECT_OPERATOR","->",124],["T_STRING","join",124],"(",["T_ARRAY","array",124],"(",["T_CONSTANT_ENCAPSED_STRING","'s'",124],["T_DOUBLE_ARROW","=>",124],["T_VARIABLE","$this",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","getTable",124],"(",["T_CONSTANT_ENCAPSED_STRING","'eav\/attribute_set'",124],")",")",",",["T_WHITESPACE"," ",124],["T_CONSTANT_ENCAPSED_STRING","'s.entity_type_id=et.entity_type_id'",124],",",["T_WHITESPACE"," ",124],["T_CONSTANT_ENCAPSED_STRING","'attribute_set_name'",124],")",["T_WHITESPACE","\n            ",124],["T_OBJECT_OPERATOR","->",125],["T_STRING","join",125],"(",["T_ARRAY","array",125],"(",["T_CONSTANT_ENCAPSED_STRING","'g'",125],["T_DOUBLE_ARROW","=>",125],["T_VARIABLE","$this",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","getTable",125],"(",["T_CONSTANT_ENCAPSED_STRING","'eav\/attribute_group'",125],")",")",",",["T_WHITESPACE"," ",125],["T_CONSTANT_ENCAPSED_STRING","'g.attribute_set_id=s.attribute_set_id'",125],",",["T_WHITESPACE"," ",125],["T_CONSTANT_ENCAPSED_STRING","'attribute_group_name'",125],")",["T_WHITESPACE","\n            ",125],["T_OBJECT_OPERATOR","->",126],["T_STRING","join",126],"(",["T_ARRAY","array",126],"(",["T_CONSTANT_ENCAPSED_STRING","'ea'",126],["T_DOUBLE_ARROW","=>",126],["T_VARIABLE","$this",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","getTable",126],"(",["T_CONSTANT_ENCAPSED_STRING","'eav\/entity_attribute'",126],")",")",",",["T_WHITESPACE"," ",126],["T_CONSTANT_ENCAPSED_STRING","'ea.attribute_group_id=g.attribute_group_id'",126],",",["T_WHITESPACE"," ",126],["T_ARRAY","array",126],"(",")",")",["T_WHITESPACE","\n            ",126],["T_OBJECT_OPERATOR","->",127],["T_STRING","join",127],"(",["T_ARRAY","array",127],"(",["T_CONSTANT_ENCAPSED_STRING","'a'",127],["T_DOUBLE_ARROW","=>",127],["T_VARIABLE","$this",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","getTable",127],"(",["T_CONSTANT_ENCAPSED_STRING","'eav\/attribute'",127],")",")",",",["T_WHITESPACE"," ",127],["T_CONSTANT_ENCAPSED_STRING","'a.attribute_id=ea.attribute_id'",127],",",["T_WHITESPACE"," ",127],["T_CONSTANT_ENCAPSED_STRING","'attribute_code'",127],")",["T_WHITESPACE","\n            ",127],["T_OBJECT_OPERATOR","->",128],["T_STRING","where",128],"(",["T_CONSTANT_ENCAPSED_STRING","'et.entity_type_code in (?)'",128],",",["T_WHITESPACE"," ",128],["T_ARRAY","array",128],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog_product'",128],",",["T_WHITESPACE"," ",128],["T_CONSTANT_ENCAPSED_STRING","'catalog_category'",128],")",")",["T_WHITESPACE","\n            ",128],["T_OBJECT_OPERATOR","->",129],["T_STRING","order",129],"(",["T_CONSTANT_ENCAPSED_STRING","'et.entity_type_code'",129],")",["T_OBJECT_OPERATOR","->",129],["T_STRING","order",129],"(",["T_CONSTANT_ENCAPSED_STRING","'s.sort_order'",129],")",["T_OBJECT_OPERATOR","->",129],["T_STRING","order",129],"(",["T_CONSTANT_ENCAPSED_STRING","'g.sort_order'",129],")",";",["T_WHITESPACE","\n\n        ",129],["T_VARIABLE","$sets",131],["T_WHITESPACE"," ",131],"=",["T_WHITESPACE"," ",131],["T_VARIABLE","$this",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","getConnection",131],"(",")",["T_OBJECT_OPERATOR","->",131],["T_STRING","fetchAll",131],"(",["T_VARIABLE","$select",131],")",";",["T_WHITESPACE","\n\n        ",131],["T_RETURN","return",133],["T_WHITESPACE"," ",133],["T_VARIABLE","$sets",133],";",["T_WHITESPACE","\n    ",133],"}",["T_WHITESPACE","\n\n    ",134],["T_PUBLIC","public",136],["T_WHITESPACE"," ",136],["T_FUNCTION","function",136],["T_WHITESPACE"," ",136],["T_STRING","exportAttributeOptions",136],"(",")",["T_WHITESPACE","\n    ",136],"{",["T_WHITESPACE","\n        ",137],["T_VARIABLE","$select",138],["T_WHITESPACE"," ",138],"=",["T_WHITESPACE"," ",138],["T_VARIABLE","$this",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","getSelect",138],"(",")",["T_WHITESPACE","\n            ",138],["T_OBJECT_OPERATOR","->",139],["T_STRING","from",139],"(",["T_ARRAY","array",139],"(",["T_CONSTANT_ENCAPSED_STRING","'et'",139],["T_DOUBLE_ARROW","=>",139],["T_VARIABLE","$this",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","getTable",139],"(",["T_CONSTANT_ENCAPSED_STRING","'eav\/entity_type'",139],")",")",",",["T_WHITESPACE"," ",139],["T_CONSTANT_ENCAPSED_STRING","'entity_type_code'",139],")",["T_WHITESPACE","\n            ",139],["T_OBJECT_OPERATOR","->",140],["T_STRING","join",140],"(",["T_ARRAY","array",140],"(",["T_CONSTANT_ENCAPSED_STRING","'a'",140],["T_DOUBLE_ARROW","=>",140],["T_VARIABLE","$this",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","getTable",140],"(",["T_CONSTANT_ENCAPSED_STRING","'eav\/attribute'",140],")",")",",",["T_WHITESPACE"," ",140],["T_CONSTANT_ENCAPSED_STRING","'a.entity_type_id=et.entity_type_id'",140],",",["T_WHITESPACE"," ",140],["T_CONSTANT_ENCAPSED_STRING","'attribute_code'",140],")",["T_WHITESPACE","\n            ",140],["T_OBJECT_OPERATOR","->",141],["T_STRING","join",141],"(",["T_ARRAY","array",141],"(",["T_CONSTANT_ENCAPSED_STRING","'ao'",141],["T_DOUBLE_ARROW","=>",141],["T_VARIABLE","$this",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","getTable",141],"(",["T_CONSTANT_ENCAPSED_STRING","'eav\/attribute_option'",141],")",")",",",["T_WHITESPACE"," ",141],["T_CONSTANT_ENCAPSED_STRING","'ao.attribute_id=a.attribute_id'",141],",",["T_WHITESPACE"," ",141],["T_ARRAY","array",141],"(",")",")",["T_WHITESPACE","\n            ",141],["T_OBJECT_OPERATOR","->",142],["T_STRING","where",142],"(",["T_CONSTANT_ENCAPSED_STRING","'et.entity_type_code in (?)'",142],",",["T_WHITESPACE"," ",142],["T_ARRAY","array",142],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog_product'",142],",",["T_WHITESPACE"," ",142],["T_CONSTANT_ENCAPSED_STRING","'catalog_category'",142],")",")",["T_WHITESPACE","\n            ",142],["T_OBJECT_OPERATOR","->",143],["T_STRING","order",143],"(",["T_CONSTANT_ENCAPSED_STRING","'a.attribute_code'",143],")",["T_OBJECT_OPERATOR","->",143],["T_STRING","order",143],"(",["T_CONSTANT_ENCAPSED_STRING","'ao.sort_order'",143],")",";",["T_WHITESPACE","\n\n        ",143],["T_VARIABLE","$stores",145],["T_WHITESPACE"," ",145],"=",["T_WHITESPACE"," ",145],["T_STRING","Mage",145],["T_DOUBLE_COLON","::",145],["T_STRING","getConfig",145],"(",")",["T_OBJECT_OPERATOR","->",145],["T_STRING","getNode",145],"(",["T_CONSTANT_ENCAPSED_STRING","'stores'",145],")",["T_OBJECT_OPERATOR","->",145],["T_STRING","children",145],"(",")",";",["T_WHITESPACE","\n        ",145],["T_FOREACH","foreach",146],["T_WHITESPACE"," ",146],"(",["T_VARIABLE","$stores",146],["T_WHITESPACE"," ",146],["T_AS","as",146],["T_WHITESPACE"," ",146],["T_VARIABLE","$storeName",146],["T_DOUBLE_ARROW","=>",146],["T_VARIABLE","$storeConfig",146],")",["T_WHITESPACE"," ",146],"{",["T_WHITESPACE","\n            ",146],["T_VARIABLE","$select",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","joinLeft",147],"(",["T_WHITESPACE","\n                ",147],["T_ARRAY","array",148],"(",["T_VARIABLE","$storeName",148],["T_DOUBLE_ARROW","=>",148],["T_VARIABLE","$this",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","getTable",148],"(",["T_CONSTANT_ENCAPSED_STRING","'eav\/attribute_option_value'",148],")",")",",",["T_WHITESPACE","\n                ",148],"\"",["T_VARIABLE","$storeName",149],["T_ENCAPSED_AND_WHITESPACE",".option_id=ao.option_id and ",149],["T_VARIABLE","$storeName",149],["T_ENCAPSED_AND_WHITESPACE",".store_id=",149],"\"",".",["T_VARIABLE","$storeConfig",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","descend",149],"(",["T_CONSTANT_ENCAPSED_STRING","'system\/store\/id'",149],")",",",["T_WHITESPACE","\n                ",149],["T_ARRAY","array",150],"(",["T_VARIABLE","$storeName",150],["T_DOUBLE_ARROW","=>",150],"\"",["T_VARIABLE","$storeName",150],["T_ENCAPSED_AND_WHITESPACE",".value",150],"\"",")",["T_WHITESPACE","\n            ",150],")",";",["T_WHITESPACE","\n        ",151],"}",["T_WHITESPACE","\n\n        ",152],["T_VARIABLE","$options",154],["T_WHITESPACE"," ",154],"=",["T_WHITESPACE"," ",154],["T_VARIABLE","$this",154],["T_OBJECT_OPERATOR","->",154],["T_STRING","getConnection",154],"(",")",["T_OBJECT_OPERATOR","->",154],["T_STRING","fetchAll",154],"(",["T_VARIABLE","$select",154],")",";",["T_WHITESPACE","\n\n        ",154],["T_RETURN","return",156],["T_WHITESPACE"," ",156],["T_VARIABLE","$options",156],";",["T_WHITESPACE","\n    ",156],"}",["T_WHITESPACE","\n\n    ",157],["T_PUBLIC","public",159],["T_WHITESPACE"," ",159],["T_FUNCTION","function",159],["T_WHITESPACE"," ",159],["T_STRING","exportProductLinks",159],"(",")",["T_WHITESPACE","\n    ",159],"{",["T_WHITESPACE","\n        ",160],["T_VARIABLE","$skuTable",161],["T_WHITESPACE"," ",161],"=",["T_WHITESPACE"," ",161],["T_VARIABLE","$this",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","getTable",161],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog\/product'",161],")",".",["T_CONSTANT_ENCAPSED_STRING","'_'",161],".",["T_VARIABLE","$this",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","getSkuAttribute",161],"(",["T_CONSTANT_ENCAPSED_STRING","'backend_type'",161],")",";",["T_WHITESPACE","\n        ",161],["T_VARIABLE","$skuCond",162],["T_WHITESPACE"," ",162],"=",["T_WHITESPACE"," ",162],["T_CONSTANT_ENCAPSED_STRING","' and sku.store_id=0 and sku.attribute_id='",162],".",["T_VARIABLE","$this",162],["T_OBJECT_OPERATOR","->",162],["T_STRING","getSkuAttribute",162],"(",["T_CONSTANT_ENCAPSED_STRING","'attribute_id'",162],")",";",["T_WHITESPACE","\n\n        ",162],["T_VARIABLE","$select",164],["T_WHITESPACE"," ",164],"=",["T_WHITESPACE"," ",164],["T_VARIABLE","$this",164],["T_OBJECT_OPERATOR","->",164],["T_STRING","getSelect",164],"(",")",["T_WHITESPACE","\n            ",164],["T_OBJECT_OPERATOR","->",165],["T_STRING","from",165],"(",["T_ARRAY","array",165],"(",["T_CONSTANT_ENCAPSED_STRING","'lt'",165],["T_DOUBLE_ARROW","=>",165],["T_VARIABLE","$this",165],["T_OBJECT_OPERATOR","->",165],["T_STRING","getTable",165],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog\/product_link_type'",165],")",")",",",["T_WHITESPACE"," ",165],["T_ARRAY","array",165],"(",["T_CONSTANT_ENCAPSED_STRING","'link_type'",165],["T_DOUBLE_ARROW","=>",165],["T_CONSTANT_ENCAPSED_STRING","'code'",165],")",")",["T_WHITESPACE","\n            ",165],["T_OBJECT_OPERATOR","->",166],["T_STRING","join",166],"(",["T_ARRAY","array",166],"(",["T_CONSTANT_ENCAPSED_STRING","'l'",166],["T_DOUBLE_ARROW","=>",166],["T_VARIABLE","$this",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","getTable",166],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog\/product_link'",166],")",")",",",["T_WHITESPACE"," ",166],["T_CONSTANT_ENCAPSED_STRING","'l.link_type_id=lt.link_type_id'",166],",",["T_WHITESPACE"," ",166],["T_ARRAY","array",166],"(",")",")",["T_WHITESPACE","\n            ",166],["T_OBJECT_OPERATOR","->",167],["T_STRING","join",167],"(",["T_ARRAY","array",167],"(",["T_CONSTANT_ENCAPSED_STRING","'sku'",167],["T_DOUBLE_ARROW","=>",167],["T_VARIABLE","$skuTable",167],")",",",["T_WHITESPACE"," ",167],["T_CONSTANT_ENCAPSED_STRING","'sku.entity_id=l.product_id'",167],".",["T_VARIABLE","$skuCond",167],",",["T_WHITESPACE"," ",167],["T_ARRAY","array",167],"(",["T_CONSTANT_ENCAPSED_STRING","'sku'",167],["T_DOUBLE_ARROW","=>",167],["T_CONSTANT_ENCAPSED_STRING","'value'",167],")",")",["T_WHITESPACE","\n            ",167],["T_OBJECT_OPERATOR","->",168],["T_STRING","join",168],"(",["T_ARRAY","array",168],"(",["T_CONSTANT_ENCAPSED_STRING","'linked'",168],["T_DOUBLE_ARROW","=>",168],["T_VARIABLE","$skuTable",168],")",",",["T_WHITESPACE"," ",168],["T_CONSTANT_ENCAPSED_STRING","'linked.entity_id=l.product_id'",168],".",["T_VARIABLE","$skuCond",168],",",["T_WHITESPACE"," ",168],["T_ARRAY","array",168],"(",["T_CONSTANT_ENCAPSED_STRING","'linked'",168],["T_DOUBLE_ARROW","=>",168],["T_CONSTANT_ENCAPSED_STRING","'value'",168],")",")",["T_WHITESPACE","\n            ",168],["T_OBJECT_OPERATOR","->",169],["T_STRING","order",169],"(",["T_CONSTANT_ENCAPSED_STRING","'sku'",169],")",["T_OBJECT_OPERATOR","->",169],["T_STRING","order",169],"(",["T_CONSTANT_ENCAPSED_STRING","'link_type'",169],")",";",["T_WHITESPACE","\n        ",169],["T_VARIABLE","$links",170],["T_WHITESPACE"," ",170],"=",["T_WHITESPACE"," ",170],["T_VARIABLE","$this",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","getConnection",170],"(",")",["T_OBJECT_OPERATOR","->",170],["T_STRING","fetchAll",170],"(",["T_VARIABLE","$select",170],")",";",["T_WHITESPACE","\n\n        ",170],["T_RETURN","return",172],["T_WHITESPACE"," ",172],["T_VARIABLE","$links",172],";",["T_WHITESPACE","\n    ",172],"}",["T_WHITESPACE","\n\n    ",173],["T_PUBLIC","public",175],["T_WHITESPACE"," ",175],["T_FUNCTION","function",175],["T_WHITESPACE"," ",175],["T_STRING","exportProductsInCategories",175],"(",")",["T_WHITESPACE","\n    ",175],"{",["T_WHITESPACE","\n        ",176],["T_VARIABLE","$skuTable",177],["T_WHITESPACE"," ",177],"=",["T_WHITESPACE"," ",177],["T_VARIABLE","$this",177],["T_OBJECT_OPERATOR","->",177],["T_STRING","getTable",177],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog\/product'",177],")",".",["T_CONSTANT_ENCAPSED_STRING","'_'",177],".",["T_VARIABLE","$this",177],["T_OBJECT_OPERATOR","->",177],["T_STRING","getSkuAttribute",177],"(",["T_CONSTANT_ENCAPSED_STRING","'backend_type'",177],")",";",["T_WHITESPACE","\n        ",177],["T_VARIABLE","$skuCond",178],["T_WHITESPACE"," ",178],"=",["T_WHITESPACE"," ",178],["T_CONSTANT_ENCAPSED_STRING","' and sku.store_id=0 and sku.attribute_id='",178],".",["T_VARIABLE","$this",178],["T_OBJECT_OPERATOR","->",178],["T_STRING","getSkuAttribute",178],"(",["T_CONSTANT_ENCAPSED_STRING","'attribute_id'",178],")",";",["T_WHITESPACE","\n\n        ",178],["T_VARIABLE","$select",180],["T_WHITESPACE"," ",180],"=",["T_WHITESPACE"," ",180],["T_VARIABLE","$this",180],["T_OBJECT_OPERATOR","->",180],["T_STRING","getSelect",180],"(",")",["T_WHITESPACE","\n            ",180],["T_OBJECT_OPERATOR","->",181],["T_STRING","from",181],"(",["T_ARRAY","array",181],"(",["T_CONSTANT_ENCAPSED_STRING","'cp'",181],["T_DOUBLE_ARROW","=>",181],["T_VARIABLE","$this",181],["T_OBJECT_OPERATOR","->",181],["T_STRING","getTable",181],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog\/category_product'",181],")",")",",",["T_WHITESPACE"," ",181],["T_ARRAY","array",181],"(",["T_CONSTANT_ENCAPSED_STRING","'category_id'",181],",",["T_WHITESPACE"," ",181],["T_CONSTANT_ENCAPSED_STRING","'position'",181],")",")",["T_WHITESPACE","\n            ",181],["T_OBJECT_OPERATOR","->",182],["T_STRING","join",182],"(",["T_ARRAY","array",182],"(",["T_CONSTANT_ENCAPSED_STRING","'sku'",182],["T_DOUBLE_ARROW","=>",182],["T_VARIABLE","$skuTable",182],")",",",["T_WHITESPACE"," ",182],["T_CONSTANT_ENCAPSED_STRING","'sku.entity_id=cp.product_id'",182],".",["T_VARIABLE","$skuCond",182],",",["T_WHITESPACE"," ",182],["T_ARRAY","array",182],"(",["T_CONSTANT_ENCAPSED_STRING","'sku'",182],["T_DOUBLE_ARROW","=>",182],["T_CONSTANT_ENCAPSED_STRING","'value'",182],")",")",["T_WHITESPACE","\n            ",182],["T_OBJECT_OPERATOR","->",183],["T_STRING","order",183],"(",["T_CONSTANT_ENCAPSED_STRING","'category_id'",183],")",["T_OBJECT_OPERATOR","->",183],["T_STRING","order",183],"(",["T_CONSTANT_ENCAPSED_STRING","'position'",183],")",["T_OBJECT_OPERATOR","->",183],["T_STRING","order",183],"(",["T_CONSTANT_ENCAPSED_STRING","'sku'",183],")",";",["T_WHITESPACE","\n\n        ",183],["T_VARIABLE","$prodCats",185],["T_WHITESPACE"," ",185],"=",["T_WHITESPACE"," ",185],["T_VARIABLE","$this",185],["T_OBJECT_OPERATOR","->",185],["T_STRING","getConnection",185],"(",")",["T_OBJECT_OPERATOR","->",185],["T_STRING","fetchAll",185],"(",["T_VARIABLE","$select",185],")",";",["T_WHITESPACE","\n\n        ",185],["T_RETURN","return",187],["T_WHITESPACE"," ",187],["T_VARIABLE","$prodCats",187],";",["T_WHITESPACE","\n    ",187],"}",["T_WHITESPACE","\n\n    ",188],["T_PUBLIC","public",190],["T_WHITESPACE"," ",190],["T_FUNCTION","function",190],["T_WHITESPACE"," ",190],["T_STRING","exportProductsInStores",190],"(",")",["T_WHITESPACE","\n    ",190],"{",["T_WHITESPACE","\n        ",191],["T_VARIABLE","$skuTable",192],["T_WHITESPACE"," ",192],"=",["T_WHITESPACE"," ",192],["T_VARIABLE","$this",192],["T_OBJECT_OPERATOR","->",192],["T_STRING","getTable",192],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog\/product'",192],")",".",["T_CONSTANT_ENCAPSED_STRING","'_'",192],".",["T_VARIABLE","$this",192],["T_OBJECT_OPERATOR","->",192],["T_STRING","getSkuAttribute",192],"(",["T_CONSTANT_ENCAPSED_STRING","'backend_type'",192],")",";",["T_WHITESPACE","\n        ",192],["T_VARIABLE","$skuCond",193],["T_WHITESPACE"," ",193],"=",["T_WHITESPACE"," ",193],["T_CONSTANT_ENCAPSED_STRING","' and sku.store_id=0 and sku.attribute_id='",193],".",["T_VARIABLE","$this",193],["T_OBJECT_OPERATOR","->",193],["T_STRING","getSkuAttribute",193],"(",["T_CONSTANT_ENCAPSED_STRING","'attribute_id'",193],")",";",["T_WHITESPACE","\n\n        ",193],["T_VARIABLE","$select",195],["T_WHITESPACE"," ",195],"=",["T_WHITESPACE"," ",195],["T_VARIABLE","$this",195],["T_OBJECT_OPERATOR","->",195],["T_STRING","getSelect",195],"(",")",["T_WHITESPACE","\n            ",195],["T_OBJECT_OPERATOR","->",196],["T_STRING","from",196],"(",["T_ARRAY","array",196],"(",["T_CONSTANT_ENCAPSED_STRING","'ps'",196],["T_DOUBLE_ARROW","=>",196],["T_VARIABLE","$this",196],["T_OBJECT_OPERATOR","->",196],["T_STRING","getTable",196],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog\/product_store'",196],")",")",",",["T_WHITESPACE"," ",196],["T_ARRAY","array",196],"(",")",")",["T_WHITESPACE","\n            ",196],["T_OBJECT_OPERATOR","->",197],["T_STRING","join",197],"(",["T_ARRAY","array",197],"(",["T_CONSTANT_ENCAPSED_STRING","'s'",197],["T_DOUBLE_ARROW","=>",197],["T_VARIABLE","$this",197],["T_OBJECT_OPERATOR","->",197],["T_STRING","getTable",197],"(",["T_CONSTANT_ENCAPSED_STRING","'core\/store'",197],")",")",",",["T_WHITESPACE"," ",197],["T_CONSTANT_ENCAPSED_STRING","'s.store_id=ps.store_id'",197],",",["T_WHITESPACE"," ",197],["T_ARRAY","array",197],"(",["T_CONSTANT_ENCAPSED_STRING","'store'",197],["T_DOUBLE_ARROW","=>",197],["T_CONSTANT_ENCAPSED_STRING","'code'",197],")",")",["T_WHITESPACE","\n            ",197],["T_OBJECT_OPERATOR","->",198],["T_STRING","join",198],"(",["T_ARRAY","array",198],"(",["T_CONSTANT_ENCAPSED_STRING","'sku'",198],["T_DOUBLE_ARROW","=>",198],["T_VARIABLE","$skuTable",198],")",",",["T_WHITESPACE"," ",198],["T_CONSTANT_ENCAPSED_STRING","'sku.entity_id=ps.product_id'",198],".",["T_VARIABLE","$skuCond",198],",",["T_WHITESPACE"," ",198],["T_ARRAY","array",198],"(",["T_CONSTANT_ENCAPSED_STRING","'sku'",198],["T_DOUBLE_ARROW","=>",198],["T_CONSTANT_ENCAPSED_STRING","'value'",198],")",")",["T_WHITESPACE","\n            ",198],["T_OBJECT_OPERATOR","->",199],["T_STRING","order",199],"(",["T_CONSTANT_ENCAPSED_STRING","'store'",199],")",["T_OBJECT_OPERATOR","->",199],["T_STRING","order",199],"(",["T_CONSTANT_ENCAPSED_STRING","'sku'",199],")",";",["T_WHITESPACE","\n\n        ",199],["T_VARIABLE","$prodStores",201],["T_WHITESPACE"," ",201],"=",["T_WHITESPACE"," ",201],["T_VARIABLE","$this",201],["T_OBJECT_OPERATOR","->",201],["T_STRING","getConnection",201],"(",")",["T_OBJECT_OPERATOR","->",201],["T_STRING","fetchAll",201],"(",["T_VARIABLE","$select",201],")",";",["T_WHITESPACE","\n\n        ",201],["T_RETURN","return",203],["T_WHITESPACE"," ",203],["T_VARIABLE","$prodStores",203],";",["T_WHITESPACE","\n    ",203],"}",["T_WHITESPACE","\n\n    ",204],["T_PUBLIC","public",206],["T_WHITESPACE"," ",206],["T_FUNCTION","function",206],["T_WHITESPACE"," ",206],["T_STRING","exportCategories",206],"(",")",["T_WHITESPACE","\n    ",206],"{",["T_WHITESPACE","\n        ",207],["T_VARIABLE","$collection",208],["T_WHITESPACE"," ",208],"=",["T_WHITESPACE"," ",208],["T_STRING","Mage",208],["T_DOUBLE_COLON","::",208],["T_STRING","getResourceModel",208],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog\/category_collection'",208],")",["T_WHITESPACE","\n            ",208],["T_OBJECT_OPERATOR","->",209],["T_STRING","addAttributeToSelect",209],"(",["T_CONSTANT_ENCAPSED_STRING","'*'",209],")",["T_WHITESPACE","\n            ",209],["T_OBJECT_OPERATOR","->",210],["T_STRING","load",210],"(",")",";",["T_WHITESPACE","\n\n        ",210],["T_VARIABLE","$categories",212],["T_WHITESPACE"," ",212],"=",["T_WHITESPACE"," ",212],["T_ARRAY","array",212],"(",")",";",["T_WHITESPACE","\n        ",212],["T_FOREACH","foreach",213],["T_WHITESPACE"," ",213],"(",["T_VARIABLE","$collection",213],["T_WHITESPACE"," ",213],["T_AS","as",213],["T_WHITESPACE"," ",213],["T_VARIABLE","$object",213],")",["T_WHITESPACE"," ",213],"{",["T_WHITESPACE","\n            ",213],["T_VARIABLE","$row",214],["T_WHITESPACE"," ",214],"=",["T_WHITESPACE"," ",214],["T_VARIABLE","$object",214],["T_OBJECT_OPERATOR","->",214],["T_STRING","getData",214],"(",")",";",["T_WHITESPACE","\n            ",214],["T_VARIABLE","$categories",215],"[","]",["T_WHITESPACE"," ",215],"=",["T_WHITESPACE"," ",215],["T_VARIABLE","$row",215],";",["T_WHITESPACE","\n        ",215],"}",["T_WHITESPACE","\n\n        ",216],["T_RETURN","return",218],["T_WHITESPACE"," ",218],["T_VARIABLE","$categories",218],";",["T_WHITESPACE","\n    ",218],"}",["T_WHITESPACE","\n\n    ",219],["T_PUBLIC","public",221],["T_WHITESPACE"," ",221],["T_FUNCTION","function",221],["T_WHITESPACE"," ",221],["T_STRING","exportProducts",221],"(",")",["T_WHITESPACE","\n    ",221],"{",["T_WHITESPACE","\n        ",222],["T_VARIABLE","$attrSets",223],["T_WHITESPACE"," ",223],"=",["T_WHITESPACE"," ",223],["T_STRING","Mage",223],["T_DOUBLE_COLON","::",223],["T_STRING","getResourceModel",223],"(",["T_CONSTANT_ENCAPSED_STRING","'eav\/entity_attribute_set_collection'",223],")",["T_OBJECT_OPERATOR","->",223],["T_STRING","load",223],"(",")",";",["T_WHITESPACE","\n        ",223],["T_VARIABLE","$attrSetName",224],["T_WHITESPACE"," ",224],"=",["T_WHITESPACE"," ",224],["T_ARRAY","array",224],"(",")",";",["T_WHITESPACE","\n        ",224],["T_FOREACH","foreach",225],["T_WHITESPACE"," ",225],"(",["T_VARIABLE","$attrSets",225],["T_WHITESPACE"," ",225],["T_AS","as",225],["T_WHITESPACE"," ",225],["T_VARIABLE","$attrSet",225],")",["T_WHITESPACE"," ",225],"{",["T_WHITESPACE","\n            ",225],["T_VARIABLE","$attrSetName",226],"[",["T_VARIABLE","$attrSet",226],["T_OBJECT_OPERATOR","->",226],["T_STRING","getId",226],"(",")","]",["T_WHITESPACE"," ",226],"=",["T_WHITESPACE"," ",226],["T_VARIABLE","$attrSet",226],["T_OBJECT_OPERATOR","->",226],["T_STRING","getAttributeSetName",226],"(",")",";",["T_WHITESPACE","\n        ",226],"}",["T_WHITESPACE","\n\n        ",227],["T_VARIABLE","$select",229],["T_WHITESPACE"," ",229],"=",["T_WHITESPACE"," ",229],["T_VARIABLE","$this",229],["T_OBJECT_OPERATOR","->",229],["T_STRING","getSelect",229],"(",")",["T_WHITESPACE","\n            ",229],["T_OBJECT_OPERATOR","->",230],["T_STRING","from",230],"(",["T_ARRAY","array",230],"(",["T_CONSTANT_ENCAPSED_STRING","'ao'",230],["T_DOUBLE_ARROW","=>",230],["T_VARIABLE","$this",230],["T_OBJECT_OPERATOR","->",230],["T_STRING","getTable",230],"(",["T_CONSTANT_ENCAPSED_STRING","'eav\/attribute_option'",230],")",")",",",["T_WHITESPACE"," ",230],["T_ARRAY","array",230],"(",["T_CONSTANT_ENCAPSED_STRING","'attribute_id'",230],",",["T_WHITESPACE"," ",230],["T_CONSTANT_ENCAPSED_STRING","'option_id'",230],")",")",["T_WHITESPACE","\n            ",230],["T_OBJECT_OPERATOR","->",231],["T_STRING","join",231],"(",["T_ARRAY","array",231],"(",["T_CONSTANT_ENCAPSED_STRING","'aov'",231],["T_DOUBLE_ARROW","=>",231],["T_VARIABLE","$this",231],["T_OBJECT_OPERATOR","->",231],["T_STRING","getTable",231],"(",["T_CONSTANT_ENCAPSED_STRING","'eav\/attribute_option_value'",231],")",")",",",["T_WHITESPACE"," ",231],["T_CONSTANT_ENCAPSED_STRING","'aov.option_id=ao.option_id'",231],",",["T_WHITESPACE"," ",231],["T_ARRAY","array",231],"(",["T_CONSTANT_ENCAPSED_STRING","'value_id'",231],",",["T_WHITESPACE"," ",231],["T_CONSTANT_ENCAPSED_STRING","'value'",231],")",")",["T_WHITESPACE","\n            ",231],["T_OBJECT_OPERATOR","->",232],["T_STRING","where",232],"(",["T_CONSTANT_ENCAPSED_STRING","'aov.store_id=0'",232],")",";",["T_WHITESPACE","\n\n        ",232],["T_VARIABLE","$collection",234],["T_WHITESPACE"," ",234],"=",["T_WHITESPACE"," ",234],["T_STRING","Mage",234],["T_DOUBLE_COLON","::",234],["T_STRING","getResourceModel",234],"(",["T_CONSTANT_ENCAPSED_STRING","'catalog\/product_collection'",234],")",["T_WHITESPACE","\n            ",234],["T_OBJECT_OPERATOR","->",235],["T_STRING","addAttributeToSelect",235],"(",["T_CONSTANT_ENCAPSED_STRING","'*'",235],")",["T_WHITESPACE","\n            ",235],["T_OBJECT_OPERATOR","->",236],["T_STRING","load",236],"(",")",";",["T_WHITESPACE","\n\n        ",236],["T_VARIABLE","$products",238],["T_WHITESPACE"," ",238],"=",["T_WHITESPACE"," ",238],["T_ARRAY","array",238],"(",")",";",["T_WHITESPACE","\n        ",238],["T_FOREACH","foreach",239],["T_WHITESPACE"," ",239],"(",["T_VARIABLE","$collection",239],["T_WHITESPACE"," ",239],["T_AS","as",239],["T_WHITESPACE"," ",239],["T_VARIABLE","$object",239],")",["T_WHITESPACE"," ",239],"{",["T_WHITESPACE","\n            ",239],["T_VARIABLE","$r",240],["T_WHITESPACE"," ",240],"=",["T_WHITESPACE"," ",240],["T_VARIABLE","$object",240],["T_OBJECT_OPERATOR","->",240],["T_STRING","getData",240],"(",")",";",["T_WHITESPACE","\n\n            ",240],["T_UNSET","unset",242],"(",["T_VARIABLE","$r",242],"[",["T_CONSTANT_ENCAPSED_STRING","'entity_id'",242],"]",",",["T_WHITESPACE"," ",242],["T_VARIABLE","$r",242],"[",["T_CONSTANT_ENCAPSED_STRING","'entity_type_id'",242],"]",")",";",["T_WHITESPACE","\n            ",242],["T_VARIABLE","$r",243],"[",["T_CONSTANT_ENCAPSED_STRING","'attribute_set_id'",243],"]",["T_WHITESPACE"," ",243],"=",["T_WHITESPACE"," ",243],["T_VARIABLE","$attrSetName",243],"[",["T_VARIABLE","$r",243],"[",["T_CONSTANT_ENCAPSED_STRING","'attribute_set_id'",243],"]","]",";",["T_WHITESPACE","\n\n            ",243],["T_VARIABLE","$products",245],"[","]",["T_WHITESPACE"," ",245],"=",["T_WHITESPACE"," ",245],["T_VARIABLE","$r",245],";",["T_WHITESPACE","\n        ",245],"}",["T_WHITESPACE","\n\n        ",246],["T_RETURN","return",248],["T_WHITESPACE"," ",248],["T_VARIABLE","$products",248],";",["T_WHITESPACE","\n    ",248],"}",["T_WHITESPACE","\n\n    ",249],["T_PUBLIC","public",251],["T_WHITESPACE"," ",251],["T_FUNCTION","function",251],["T_WHITESPACE"," ",251],["T_STRING","exportImageGallery",251],"(",")",["T_WHITESPACE","\n    ",251],"{",["T_WHITESPACE","\n        ",252],["T_RETURN","return",253],["T_WHITESPACE"," ",253],["T_ARRAY","array",253],"(",")",";",["T_WHITESPACE","\n    ",253],"}",["T_WHITESPACE","\n\n    ",254],["T_PUBLIC","public",256],["T_WHITESPACE"," ",256],["T_FUNCTION","function",256],["T_WHITESPACE"," ",256],["T_STRING","getProductAttributeOption",256],"(",["T_VARIABLE","$attribute",256],",",["T_WHITESPACE"," ",256],["T_VARIABLE","$value",256],")",["T_WHITESPACE","\n    ",256],"{",["T_WHITESPACE","\n        ",257],["T_COMMENT","#$attribute = Mage::get\n",258],["T_WHITESPACE","    ",259],"}",["T_WHITESPACE","\n\n    ",259],["T_PUBLIC","public",261],["T_WHITESPACE"," ",261],["T_FUNCTION","function",261],["T_WHITESPACE"," ",261],["T_STRING","importProducts",261],"(",["T_ARRAY","array",261],["T_WHITESPACE"," ",261],["T_VARIABLE","$data",261],")",["T_WHITESPACE","\n    ",261],"{",["T_WHITESPACE","\n        ",262],["T_COMMENT","\/*\n        $entity = Mage::getResourceModel('catalog\/product')\n           ->loadAllAttributes();\n\n        $options =\n\n        foreach ($data as $row) {\n            if (empty($row['sku'])) {\n                continue;\n            }\n            $sku = $row['sku'];\n        }\n        *\/",263],["T_WHITESPACE","\n    ",275],"}",["T_WHITESPACE","\n",276],"}",["T_WHITESPACE","\n",277]]