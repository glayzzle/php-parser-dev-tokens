[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Magento\n *\n * NOTICE OF LICENSE\n *\n * This source file is subject to the Open Software License (OSL 3.0)\n * that is bundled with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/opensource.org\/licenses\/osl-3.0.php\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@magento.com so we can send you a copy immediately.\n *\n * DISCLAIMER\n *\n * Do not edit or add to this file if you wish to upgrade Magento to newer\n * versions in the future. If you wish to customize Magento for your\n * needs please refer to http:\/\/www.magento.com for more information.\n *\n * @category    Mage\n * @package     Mage_Log\n * @copyright  Copyright (c) 2006-2016 X.commerce, Inc. and affiliates (http:\/\/www.magento.com)\n * @license    http:\/\/opensource.org\/licenses\/osl-3.0.php  Open Software License (OSL 3.0)\n *\/",2],["T_WHITESPACE","\n\n",25],["T_VARIABLE","$installer",27],["T_WHITESPACE"," ",27],"=",["T_WHITESPACE"," ",27],["T_VARIABLE","$this",27],";",["T_WHITESPACE","\n",27],["T_COMMENT","\/* @var $installer Mage_Core_Model_Resource_Setup *\/",28],["T_WHITESPACE","\n\n",28],["T_VARIABLE","$installer",30],["T_OBJECT_OPERATOR","->",30],["T_STRING","startSetup",30],"(",")",";",["T_WHITESPACE","\n\n",30],["T_VARIABLE","$installer",32],["T_OBJECT_OPERATOR","->",32],["T_STRING","run",32],"(","\"",["T_ENCAPSED_AND_WHITESPACE","\n\n-- DROP TABLE IF EXISTS ",32],["T_CURLY_OPEN","{",34],["T_VARIABLE","$this",34],["T_OBJECT_OPERATOR","->",34],["T_STRING","getTable",34],"(",["T_CONSTANT_ENCAPSED_STRING","'log_customer'",34],")","}",["T_ENCAPSED_AND_WHITESPACE",";\nCREATE TABLE ",34],["T_CURLY_OPEN","{",35],["T_VARIABLE","$this",35],["T_OBJECT_OPERATOR","->",35],["T_STRING","getTable",35],"(",["T_CONSTANT_ENCAPSED_STRING","'log_customer'",35],")","}",["T_ENCAPSED_AND_WHITESPACE"," (\n  `log_id` int(10) unsigned NOT NULL auto_increment,\n  `visitor_id` bigint(20) unsigned default NULL,\n  `customer_id` int(11) NOT NULL default '0',\n  `login_at` datetime NOT NULL default '0000-00-00 00:00:00',\n  `logout_at` datetime default NULL,\n  PRIMARY KEY  (`log_id`)\n) ENGINE=MyISAM DEFAULT CHARSET=utf8 COMMENT='Customers log information';\n\n-- DROP TABLE IF EXISTS ",35],["T_CURLY_OPEN","{",44],["T_VARIABLE","$this",44],["T_OBJECT_OPERATOR","->",44],["T_STRING","getTable",44],"(",["T_CONSTANT_ENCAPSED_STRING","'log_quote'",44],")","}",["T_ENCAPSED_AND_WHITESPACE",";\nCREATE TABLE ",44],["T_CURLY_OPEN","{",45],["T_VARIABLE","$this",45],["T_OBJECT_OPERATOR","->",45],["T_STRING","getTable",45],"(",["T_CONSTANT_ENCAPSED_STRING","'log_quote'",45],")","}",["T_ENCAPSED_AND_WHITESPACE"," (\n  `quote_id` int(10) unsigned NOT NULL default '0',\n  `visitor_id` bigint(20) unsigned default NULL,\n  `created_at` datetime NOT NULL default '0000-00-00 00:00:00',\n  `deleted_at` datetime default NULL,\n  PRIMARY KEY  (`quote_id`)\n) ENGINE=MyISAM DEFAULT CHARSET=utf8 COMMENT='Quote log data';\n\n-- DROP TABLE IF EXISTS ",45],["T_CURLY_OPEN","{",53],["T_VARIABLE","$this",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","getTable",53],"(",["T_CONSTANT_ENCAPSED_STRING","'log_summary'",53],")","}",["T_ENCAPSED_AND_WHITESPACE",";\nCREATE TABLE ",53],["T_CURLY_OPEN","{",54],["T_VARIABLE","$this",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","getTable",54],"(",["T_CONSTANT_ENCAPSED_STRING","'log_summary'",54],")","}",["T_ENCAPSED_AND_WHITESPACE"," (\n  `summary_id` bigint(20) unsigned NOT NULL auto_increment,\n  `type_id` smallint(5) unsigned default NULL,\n  `visitor_count` int(11) NOT NULL default '0',\n  `customer_count` int(11) NOT NULL default '0',\n  `add_date` datetime NOT NULL default '0000-00-00 00:00:00',\n  PRIMARY KEY  (`summary_id`)\n) ENGINE=MyISAM DEFAULT CHARSET=utf8 COMMENT='Summary log information';\n\n-- DROP TABLE IF EXISTS ",54],["T_CURLY_OPEN","{",63],["T_VARIABLE","$this",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","getTable",63],"(",["T_CONSTANT_ENCAPSED_STRING","'log_summary_type'",63],")","}",["T_ENCAPSED_AND_WHITESPACE",";\nCREATE TABLE ",63],["T_CURLY_OPEN","{",64],["T_VARIABLE","$this",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","getTable",64],"(",["T_CONSTANT_ENCAPSED_STRING","'log_summary_type'",64],")","}",["T_ENCAPSED_AND_WHITESPACE"," (\n  `type_id` smallint(5) unsigned NOT NULL auto_increment,\n  `type_code` varchar(64) NOT NULL default '',\n  `period` smallint(5) unsigned NOT NULL default '0',\n  `period_type` enum('MINUTE','HOUR','DAY','WEEK','MONTH') NOT NULL default 'MINUTE',\n  PRIMARY KEY  (`type_id`)\n) ENGINE=MyISAM DEFAULT CHARSET=utf8 COMMENT='Type of summary information';\n\ninsert  into ",64],["T_CURLY_OPEN","{",72],["T_VARIABLE","$this",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","getTable",72],"(",["T_CONSTANT_ENCAPSED_STRING","'log_summary_type'",72],")","}",["T_ENCAPSED_AND_WHITESPACE"," (`type_id`,`type_code`,`period`,`period_type`) values\n    (1,'hour',1,'HOUR'),(2,'day',1,'DAY')\n\/* ,(3,'week',1,'WEEK'),(4,'month',1,'MONTH') *\/;\n\n-- DROP TABLE IF EXISTS ",72],["T_CURLY_OPEN","{",76],["T_VARIABLE","$this",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","getTable",76],"(",["T_CONSTANT_ENCAPSED_STRING","'log_url'",76],")","}",["T_ENCAPSED_AND_WHITESPACE",";\nCREATE TABLE ",76],["T_CURLY_OPEN","{",77],["T_VARIABLE","$this",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","getTable",77],"(",["T_CONSTANT_ENCAPSED_STRING","'log_url'",77],")","}",["T_ENCAPSED_AND_WHITESPACE"," (\n  `url_id` bigint(20) unsigned NOT NULL default '0',\n  `visitor_id` bigint(20) unsigned default NULL,\n  `visit_time` datetime NOT NULL default '0000-00-00 00:00:00'\n) ENGINE=MyISAM DEFAULT CHARSET=utf8 COMMENT='URL visiting history';\n\n-- DROP TABLE IF EXISTS ",77],["T_CURLY_OPEN","{",83],["T_VARIABLE","$this",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","getTable",83],"(",["T_CONSTANT_ENCAPSED_STRING","'log_url_info'",83],")","}",["T_ENCAPSED_AND_WHITESPACE",";\nCREATE TABLE ",83],["T_CURLY_OPEN","{",84],["T_VARIABLE","$this",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","getTable",84],"(",["T_CONSTANT_ENCAPSED_STRING","'log_url_info'",84],")","}",["T_ENCAPSED_AND_WHITESPACE"," (\n  `url_id` bigint(20) unsigned NOT NULL auto_increment,\n  `url` varchar(255) NOT NULL default '',\n  `referer` varchar(255) default NULL,\n  PRIMARY KEY  (`url_id`)\n) ENGINE=MyISAM DEFAULT CHARSET=utf8 COMMENT='Detale information about url visit';\n\n-- DROP TABLE IF EXISTS ",84],["T_CURLY_OPEN","{",91],["T_VARIABLE","$this",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","getTable",91],"(",["T_CONSTANT_ENCAPSED_STRING","'log_visitor'",91],")","}",["T_ENCAPSED_AND_WHITESPACE",";\nCREATE TABLE ",91],["T_CURLY_OPEN","{",92],["T_VARIABLE","$this",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","getTable",92],"(",["T_CONSTANT_ENCAPSED_STRING","'log_visitor'",92],")","}",["T_ENCAPSED_AND_WHITESPACE"," (\n  `visitor_id` bigint(20) unsigned NOT NULL auto_increment,\n  `session_id` char(64) NOT NULL default '',\n  `first_visit_at` datetime default NULL,\n  `last_visit_at` datetime NOT NULL default '0000-00-00 00:00:00',\n  `last_url_id` bigint(20) unsigned NOT NULL default '0',\n  PRIMARY KEY  (`visitor_id`)\n) ENGINE=MyISAM DEFAULT CHARSET=utf8 COMMENT='System visitors log';\n\n-- DROP TABLE IF EXISTS ",92],["T_CURLY_OPEN","{",101],["T_VARIABLE","$this",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","getTable",101],"(",["T_CONSTANT_ENCAPSED_STRING","'log_visitor_info'",101],")","}",["T_ENCAPSED_AND_WHITESPACE",";\nCREATE TABLE ",101],["T_CURLY_OPEN","{",102],["T_VARIABLE","$this",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","getTable",102],"(",["T_CONSTANT_ENCAPSED_STRING","'log_visitor_info'",102],")","}",["T_ENCAPSED_AND_WHITESPACE"," (\n  `visitor_id` bigint(20) unsigned NOT NULL default '0',\n  `http_referer` varchar(255) default NULL,\n  `http_user_agent` varchar(255) default NULL,\n  `http_accept_charset` varchar(255) default NULL,\n  `http_accept_language` varchar(255) default NULL,\n  `server_addr` bigint(20) default NULL,\n  `remote_addr` bigint(20) default NULL,\n  PRIMARY KEY  (`visitor_id`)\n) ENGINE=MyISAM DEFAULT CHARSET=utf8 COMMENT='Additional information by visitor';\n\n    ",102],"\"",")",";",["T_WHITESPACE","\n\n",113],["T_VARIABLE","$installer",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","endSetup",115],"(",")",";",["T_WHITESPACE","\n",115]]