[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Magento\n *\n * NOTICE OF LICENSE\n *\n * This source file is subject to the Open Software License (OSL 3.0)\n * that is bundled with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/opensource.org\/licenses\/osl-3.0.php\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@magento.com so we can send you a copy immediately.\n *\n * DISCLAIMER\n *\n * Do not edit or add to this file if you wish to upgrade Magento to newer\n * versions in the future. If you wish to customize Magento for your\n * needs please refer to http:\/\/www.magento.com for more information.\n *\n * @category    Mage\n * @package     Mage_Log\n * @copyright  Copyright (c) 2006-2016 X.commerce, Inc. and affiliates (http:\/\/www.magento.com)\n * @license    http:\/\/opensource.org\/licenses\/osl-3.0.php  Open Software License (OSL 3.0)\n *\/",2],["T_WHITESPACE","\n\n\n",25],["T_DOC_COMMENT","\/**\n * Visitor log collection\n *\n * @category    Mage\n * @package     Mage_Log\n * @author      Magento Core Team <core@magentocommerce.com>\n *\/",28],["T_WHITESPACE","\n\n",34],["T_CLASS","class",36],["T_WHITESPACE"," ",36],["T_STRING","Mage_Log_Model_Resource_Visitor_Collection",36],["T_WHITESPACE"," ",36],["T_EXTENDS","extends",36],["T_WHITESPACE"," ",36],["T_STRING","Mage_Core_Model_Resource_Db_Collection_Abstract",36],["T_WHITESPACE","\n",36],"{",["T_WHITESPACE","\n    ",37],["T_DOC_COMMENT","\/**\n     * Visitor data table name\n     *\n     * @var string\n     *\/",38],["T_WHITESPACE","\n    ",42],["T_PROTECTED","protected",43],["T_WHITESPACE"," ",43],["T_VARIABLE","$_visitorTable",43],";",["T_WHITESPACE","\n\n    ",43],["T_DOC_COMMENT","\/**\n     * Visitor data info table name\n     *\n     * @var string\n     *\/",45],["T_WHITESPACE","\n    ",49],["T_PROTECTED","protected",50],["T_WHITESPACE"," ",50],["T_VARIABLE","$_visitorInfoTable",50],";",["T_WHITESPACE","\n\n    ",50],["T_DOC_COMMENT","\/**\n     * Customer data table\n     *\n     * @var string\n     *\/",52],["T_WHITESPACE","\n    ",56],["T_PROTECTED","protected",57],["T_WHITESPACE"," ",57],["T_VARIABLE","$_customerTable",57],";",["T_WHITESPACE","\n\n    ",57],["T_DOC_COMMENT","\/**\n     * Log URL data table name.\n     *\n     * @var string\n     *\/",59],["T_WHITESPACE","\n    ",63],["T_PROTECTED","protected",64],["T_WHITESPACE"," ",64],["T_VARIABLE","$_urlTable",64],";",["T_WHITESPACE","\n\n    ",64],["T_DOC_COMMENT","\/**\n     * Log URL expanded data table name.\n     *\n     * @var string\n     *\/",66],["T_WHITESPACE","\n    ",70],["T_PROTECTED","protected",71],["T_WHITESPACE"," ",71],["T_VARIABLE","$_urlInfoTable",71],";",["T_WHITESPACE","\n\n    ",71],["T_DOC_COMMENT","\/**\n     * Aggregator data table.\n     *\n     * @var string\n     *\/",73],["T_WHITESPACE","\n    ",77],["T_PROTECTED","protected",78],["T_WHITESPACE"," ",78],["T_VARIABLE","$_summaryTable",78],";",["T_WHITESPACE","\n\n    ",78],["T_DOC_COMMENT","\/**\n     * Aggregator type data table.\n     *\n     * @var string\n     *\/",80],["T_WHITESPACE","\n    ",84],["T_PROTECTED","protected",85],["T_WHITESPACE"," ",85],["T_VARIABLE","$_summaryTypeTable",85],";",["T_WHITESPACE","\n\n    ",85],["T_DOC_COMMENT","\/**\n     * Quote data table.\n     *\n     * @var string\n     *\/",87],["T_WHITESPACE","\n    ",91],["T_PROTECTED","protected",92],["T_WHITESPACE"," ",92],["T_VARIABLE","$_quoteTable",92],";",["T_WHITESPACE","\n\n    ",92],["T_DOC_COMMENT","\/**\n     * Online filter used flag\n     *\n     * @var bool\n     *\/",94],["T_WHITESPACE","\n    ",98],["T_PROTECTED","protected",99],["T_WHITESPACE"," ",99],["T_VARIABLE","$_isOnlineFilterUsed",99],["T_WHITESPACE"," ",99],"=",["T_WHITESPACE"," ",99],["T_STRING","false",99],";",["T_WHITESPACE","\n\n    ",99],["T_DOC_COMMENT","\/**\n     * Field map\n     *\n     * @var array\n     *\/",101],["T_WHITESPACE","\n    ",105],["T_PROTECTED","protected",106],["T_WHITESPACE"," ",106],["T_VARIABLE","$_fieldMap",106],["T_WHITESPACE"," ",106],"=",["T_WHITESPACE"," ",106],["T_ARRAY","array",106],"(",["T_WHITESPACE","\n        ",106],["T_CONSTANT_ENCAPSED_STRING","'customer_firstname'",107],["T_WHITESPACE","  ",107],["T_DOUBLE_ARROW","=>",107],["T_WHITESPACE"," ",107],["T_CONSTANT_ENCAPSED_STRING","'customer_firstname_table.value'",107],",",["T_WHITESPACE","\n        ",107],["T_CONSTANT_ENCAPSED_STRING","'customer_middlename'",108],["T_WHITESPACE"," ",108],["T_DOUBLE_ARROW","=>",108],["T_WHITESPACE"," ",108],["T_CONSTANT_ENCAPSED_STRING","'customer_middlename_table.value'",108],",",["T_WHITESPACE","\n        ",108],["T_CONSTANT_ENCAPSED_STRING","'customer_lastname'",109],["T_WHITESPACE","   ",109],["T_DOUBLE_ARROW","=>",109],["T_WHITESPACE"," ",109],["T_CONSTANT_ENCAPSED_STRING","'customer_lastname_table.value'",109],",",["T_WHITESPACE","\n        ",109],["T_CONSTANT_ENCAPSED_STRING","'customer_email'",110],["T_WHITESPACE","      ",110],["T_DOUBLE_ARROW","=>",110],["T_WHITESPACE"," ",110],["T_CONSTANT_ENCAPSED_STRING","'customer_email_table.email'",110],",",["T_WHITESPACE","\n        ",110],["T_CONSTANT_ENCAPSED_STRING","'customer_id'",111],["T_WHITESPACE","         ",111],["T_DOUBLE_ARROW","=>",111],["T_WHITESPACE"," ",111],["T_CONSTANT_ENCAPSED_STRING","'customer_table.customer_id'",111],",",["T_WHITESPACE","\n        ",111],["T_CONSTANT_ENCAPSED_STRING","'url'",112],["T_WHITESPACE","                 ",112],["T_DOUBLE_ARROW","=>",112],["T_WHITESPACE"," ",112],["T_CONSTANT_ENCAPSED_STRING","'url_info_table.url'",112],["T_WHITESPACE","\n    ",112],")",";",["T_WHITESPACE","\n\n    ",113],["T_DOC_COMMENT","\/**\n     * Collection resource initialization\n     *\/",115],["T_WHITESPACE","\n    ",117],["T_PROTECTED","protected",118],["T_WHITESPACE"," ",118],["T_FUNCTION","function",118],["T_WHITESPACE"," ",118],["T_STRING","_construct",118],"(",")",["T_WHITESPACE","\n    ",118],"{",["T_WHITESPACE","\n        ",119],["T_VARIABLE","$this",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","_init",120],"(",["T_CONSTANT_ENCAPSED_STRING","'log\/visitor'",120],")",";",["T_WHITESPACE","\n\n        ",120],["T_VARIABLE","$this",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","_visitorTable",122],["T_WHITESPACE","     ",122],"=",["T_WHITESPACE"," ",122],["T_VARIABLE","$this",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","getTable",122],"(",["T_CONSTANT_ENCAPSED_STRING","'log\/visitor'",122],")",";",["T_WHITESPACE","\n        ",122],["T_VARIABLE","$this",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","_visitorInfoTable",123],["T_WHITESPACE"," ",123],"=",["T_WHITESPACE"," ",123],["T_VARIABLE","$this",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","getTable",123],"(",["T_CONSTANT_ENCAPSED_STRING","'log\/visitor_info'",123],")",";",["T_WHITESPACE","\n        ",123],["T_VARIABLE","$this",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","_urlTable",124],["T_WHITESPACE","         ",124],"=",["T_WHITESPACE"," ",124],["T_VARIABLE","$this",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","getTable",124],"(",["T_CONSTANT_ENCAPSED_STRING","'log\/url_table'",124],")",";",["T_WHITESPACE","\n        ",124],["T_VARIABLE","$this",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","_urlInfoTable",125],["T_WHITESPACE","     ",125],"=",["T_WHITESPACE"," ",125],["T_VARIABLE","$this",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","getTable",125],"(",["T_CONSTANT_ENCAPSED_STRING","'log\/url_info_table'",125],")",";",["T_WHITESPACE","\n        ",125],["T_VARIABLE","$this",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","_customerTable",126],["T_WHITESPACE","    ",126],"=",["T_WHITESPACE"," ",126],["T_VARIABLE","$this",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","getTable",126],"(",["T_CONSTANT_ENCAPSED_STRING","'log\/customer'",126],")",";",["T_WHITESPACE","\n        ",126],["T_VARIABLE","$this",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","_summaryTable",127],["T_WHITESPACE","     ",127],"=",["T_WHITESPACE"," ",127],["T_VARIABLE","$this",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","getTable",127],"(",["T_CONSTANT_ENCAPSED_STRING","'log\/summary_table'",127],")",";",["T_WHITESPACE","\n        ",127],["T_VARIABLE","$this",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","_summaryTypeTable",128],["T_WHITESPACE"," ",128],"=",["T_WHITESPACE"," ",128],["T_VARIABLE","$this",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","getTable",128],"(",["T_CONSTANT_ENCAPSED_STRING","'log\/summary_type_table'",128],")",";",["T_WHITESPACE","\n        ",128],["T_VARIABLE","$this",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","_quoteTable",129],["T_WHITESPACE","       ",129],"=",["T_WHITESPACE"," ",129],["T_VARIABLE","$this",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","getTable",129],"(",["T_CONSTANT_ENCAPSED_STRING","'log\/quote_table'",129],")",";",["T_WHITESPACE","\n    ",129],"}",["T_WHITESPACE","\n\n    ",130],["T_DOC_COMMENT","\/**\n     * Filter for customers only\n     *\n     * @return Mage_Log_Model_Resource_Visitor_Collection\n     *\/",132],["T_WHITESPACE","\n    ",136],["T_PUBLIC","public",137],["T_WHITESPACE"," ",137],["T_FUNCTION","function",137],["T_WHITESPACE"," ",137],["T_STRING","showCustomersOnly",137],"(",")",["T_WHITESPACE","\n    ",137],"{",["T_WHITESPACE","\n        ",138],["T_VARIABLE","$this",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","getSelect",139],"(",")",["T_WHITESPACE","\n            ",139],["T_OBJECT_OPERATOR","->",140],["T_STRING","where",140],"(",["T_CONSTANT_ENCAPSED_STRING","'customer_table.customer_id > 0'",140],")",["T_WHITESPACE","\n            ",140],["T_OBJECT_OPERATOR","->",141],["T_STRING","group",141],"(",["T_CONSTANT_ENCAPSED_STRING","'customer_table.customer_id'",141],")",";",["T_WHITESPACE","\n\n        ",141],["T_RETURN","return",143],["T_WHITESPACE"," ",143],["T_VARIABLE","$this",143],";",["T_WHITESPACE","\n    ",143],"}",["T_WHITESPACE","\n\n    ",144],["T_DOC_COMMENT","\/**\n     * Get GROUP BY date format\n     *\n     * @deprecated since 1.5.0.0\n     * @param string $type\n     * @return string\n     *\/",146],["T_WHITESPACE","\n    ",152],["T_PROTECTED","protected",153],["T_WHITESPACE"," ",153],["T_FUNCTION","function",153],["T_WHITESPACE"," ",153],["T_STRING","_getGroupByDateFormat",153],"(",["T_VARIABLE","$type",153],")",["T_WHITESPACE","\n    ",153],"{",["T_WHITESPACE","\n        ",154],["T_SWITCH","switch",155],["T_WHITESPACE"," ",155],"(",["T_VARIABLE","$type",155],")",["T_WHITESPACE"," ",155],"{",["T_WHITESPACE","\n            ",155],["T_CASE","case",156],["T_WHITESPACE"," ",156],["T_CONSTANT_ENCAPSED_STRING","'day'",156],":",["T_WHITESPACE","\n                ",156],["T_VARIABLE","$format",157],["T_WHITESPACE"," ",157],"=",["T_WHITESPACE"," ",157],["T_CONSTANT_ENCAPSED_STRING","'%Y-%m-%d'",157],";",["T_WHITESPACE","\n                ",157],["T_BREAK","break",158],";",["T_WHITESPACE","\n            ",158],["T_DEFAULT","default",159],":",["T_WHITESPACE","\n            ",159],["T_CASE","case",160],["T_WHITESPACE"," ",160],["T_CONSTANT_ENCAPSED_STRING","'hour'",160],":",["T_WHITESPACE","\n                ",160],["T_VARIABLE","$format",161],["T_WHITESPACE"," ",161],"=",["T_WHITESPACE"," ",161],["T_CONSTANT_ENCAPSED_STRING","'%Y-%m-%d %H'",161],";",["T_WHITESPACE","\n                ",161],["T_BREAK","break",162],";",["T_WHITESPACE","\n        ",162],"}",["T_WHITESPACE","\n        ",163],["T_RETURN","return",164],["T_WHITESPACE"," ",164],["T_VARIABLE","$format",164],";",["T_WHITESPACE","\n    ",164],"}",["T_WHITESPACE","\n\n    ",165],["T_DOC_COMMENT","\/**\n     * Get range by type\n     *\n     * @deprecated since 1.5.0.0\n     * @param string $typeCode\n     * @return string\n     *\/",167],["T_WHITESPACE","\n    ",173],["T_PROTECTED","protected",174],["T_WHITESPACE"," ",174],["T_FUNCTION","function",174],["T_WHITESPACE"," ",174],["T_STRING","_getRangeByType",174],"(",["T_VARIABLE","$typeCode",174],")",["T_WHITESPACE","\n    ",174],"{",["T_WHITESPACE","\n        ",175],["T_SWITCH","switch",176],["T_WHITESPACE"," ",176],"(",["T_VARIABLE","$typeCode",176],")",["T_WHITESPACE","\n        ",176],"{",["T_WHITESPACE","\n            ",177],["T_CASE","case",178],["T_WHITESPACE"," ",178],["T_CONSTANT_ENCAPSED_STRING","'day'",178],":",["T_WHITESPACE","\n                ",178],["T_VARIABLE","$range",179],["T_WHITESPACE"," ",179],"=",["T_WHITESPACE"," ",179],["T_CONSTANT_ENCAPSED_STRING","'DAY'",179],";",["T_WHITESPACE","\n                ",179],["T_BREAK","break",180],";",["T_WHITESPACE","\n            ",180],["T_CASE","case",181],["T_WHITESPACE"," ",181],["T_CONSTANT_ENCAPSED_STRING","'hour'",181],":",["T_WHITESPACE","\n                ",181],["T_VARIABLE","$range",182],["T_WHITESPACE"," ",182],"=",["T_WHITESPACE"," ",182],["T_CONSTANT_ENCAPSED_STRING","'HOUR'",182],";",["T_WHITESPACE","\n                ",182],["T_BREAK","break",183],";",["T_WHITESPACE","\n            ",183],["T_CASE","case",184],["T_WHITESPACE"," ",184],["T_CONSTANT_ENCAPSED_STRING","'minute'",184],":",["T_WHITESPACE","\n            ",184],["T_DEFAULT","default",185],":",["T_WHITESPACE","\n                ",185],["T_VARIABLE","$range",186],["T_WHITESPACE"," ",186],"=",["T_WHITESPACE"," ",186],["T_CONSTANT_ENCAPSED_STRING","'MINUTE'",186],";",["T_WHITESPACE","\n                ",186],["T_BREAK","break",187],";",["T_WHITESPACE","\n\n        ",187],"}",["T_WHITESPACE","\n\n        ",189],["T_RETURN","return",191],["T_WHITESPACE"," ",191],["T_VARIABLE","$range",191],";",["T_WHITESPACE","\n    ",191],"}",["T_WHITESPACE","\n\n    ",192],["T_DOC_COMMENT","\/**\n     * Filter by customer ID, as 'type' field does not exist\n     *\n     * @param string $fieldName\n     * @param array $condition\n     * @return Mage_Log_Model_Resource_Visitor_Collection\n     *\/",194],["T_WHITESPACE","\n    ",200],["T_PUBLIC","public",201],["T_WHITESPACE"," ",201],["T_FUNCTION","function",201],["T_WHITESPACE"," ",201],["T_STRING","addFieldToFilter",201],"(",["T_VARIABLE","$fieldName",201],",",["T_WHITESPACE"," ",201],["T_VARIABLE","$condition",201],["T_WHITESPACE"," ",201],"=",["T_WHITESPACE"," ",201],["T_STRING","null",201],")",["T_WHITESPACE","\n    ",201],"{",["T_WHITESPACE","\n        ",202],["T_IF","if",203],["T_WHITESPACE"," ",203],"(",["T_VARIABLE","$fieldName",203],["T_WHITESPACE"," ",203],["T_IS_EQUAL","==",203],["T_WHITESPACE"," ",203],["T_CONSTANT_ENCAPSED_STRING","'type'",203],["T_WHITESPACE"," ",203],["T_BOOLEAN_AND","&&",203],["T_WHITESPACE"," ",203],["T_STRING","is_array",203],"(",["T_VARIABLE","$condition",203],")",["T_WHITESPACE"," ",203],["T_BOOLEAN_AND","&&",203],["T_WHITESPACE"," ",203],["T_ISSET","isset",203],"(",["T_VARIABLE","$condition",203],"[",["T_CONSTANT_ENCAPSED_STRING","'eq'",203],"]",")",")",["T_WHITESPACE"," ",203],"{",["T_WHITESPACE","\n            ",203],["T_VARIABLE","$fieldName",204],["T_WHITESPACE"," ",204],"=",["T_WHITESPACE"," ",204],["T_CONSTANT_ENCAPSED_STRING","'customer_id'",204],";",["T_WHITESPACE","\n            ",204],["T_IF","if",205],["T_WHITESPACE"," ",205],"(",["T_VARIABLE","$condition",205],"[",["T_CONSTANT_ENCAPSED_STRING","'eq'",205],"]",["T_WHITESPACE"," ",205],["T_IS_IDENTICAL","===",205],["T_WHITESPACE"," ",205],["T_STRING","Mage_Log_Model_Visitor",205],["T_DOUBLE_COLON","::",205],["T_STRING","VISITOR_TYPE_VISITOR",205],")",["T_WHITESPACE"," ",205],"{",["T_WHITESPACE","\n                ",205],["T_VARIABLE","$condition",206],["T_WHITESPACE"," ",206],"=",["T_WHITESPACE"," ",206],["T_ARRAY","array",206],"(",["T_CONSTANT_ENCAPSED_STRING","'null'",206],["T_WHITESPACE"," ",206],["T_DOUBLE_ARROW","=>",206],["T_WHITESPACE"," ",206],["T_LNUMBER","1",206],")",";",["T_WHITESPACE","\n            ",206],"}",["T_WHITESPACE"," ",207],["T_ELSE","else",207],["T_WHITESPACE"," ",207],"{",["T_WHITESPACE","\n                ",207],["T_VARIABLE","$condition",208],["T_WHITESPACE"," ",208],"=",["T_WHITESPACE"," ",208],["T_ARRAY","array",208],"(",["T_CONSTANT_ENCAPSED_STRING","'moreq'",208],["T_WHITESPACE"," ",208],["T_DOUBLE_ARROW","=>",208],["T_WHITESPACE"," ",208],["T_LNUMBER","1",208],")",";",["T_WHITESPACE","\n            ",208],"}",["T_WHITESPACE","\n        ",209],"}",["T_WHITESPACE","\n        ",210],["T_RETURN","return",211],["T_WHITESPACE"," ",211],["T_STRING","parent",211],["T_DOUBLE_COLON","::",211],["T_STRING","addFieldToFilter",211],"(",["T_VARIABLE","$this",211],["T_OBJECT_OPERATOR","->",211],["T_STRING","_getFieldMap",211],"(",["T_VARIABLE","$fieldName",211],")",",",["T_WHITESPACE"," ",211],["T_VARIABLE","$condition",211],")",";",["T_WHITESPACE","\n    ",211],"}",["T_WHITESPACE","\n\n    ",212],["T_DOC_COMMENT","\/**\n     * Return field with table prefix\n     *\n     * @param string $fieldName\n     * @return string\n     *\/",214],["T_WHITESPACE","\n    ",219],["T_PROTECTED","protected",220],["T_WHITESPACE"," ",220],["T_FUNCTION","function",220],["T_WHITESPACE"," ",220],["T_STRING","_getFieldMap",220],"(",["T_VARIABLE","$fieldName",220],")",["T_WHITESPACE","\n    ",220],"{",["T_WHITESPACE","\n        ",221],["T_IF","if",222],"(",["T_ISSET","isset",222],"(",["T_VARIABLE","$this",222],["T_OBJECT_OPERATOR","->",222],["T_STRING","_fieldMap",222],"[",["T_VARIABLE","$fieldName",222],"]",")",")",["T_WHITESPACE"," ",222],"{",["T_WHITESPACE","\n            ",222],["T_RETURN","return",223],["T_WHITESPACE"," ",223],["T_VARIABLE","$this",223],["T_OBJECT_OPERATOR","->",223],["T_STRING","_fieldMap",223],"[",["T_VARIABLE","$fieldName",223],"]",";",["T_WHITESPACE","\n        ",223],"}",["T_WHITESPACE"," ",224],["T_ELSE","else",224],["T_WHITESPACE"," ",224],"{",["T_WHITESPACE","\n            ",224],["T_RETURN","return",225],["T_WHITESPACE"," ",225],["T_CONSTANT_ENCAPSED_STRING","'main_table.'",225],["T_WHITESPACE"," ",225],".",["T_WHITESPACE"," ",225],["T_VARIABLE","$fieldName",225],";",["T_WHITESPACE","\n        ",225],"}",["T_WHITESPACE","\n    ",226],"}",["T_WHITESPACE","\n\n    ",227],["T_DOC_COMMENT","\/**\n     * Load data\n     *\n     * @param boolean $printQuery\n     * @param boolean $logQuery\n     * @return Mage_Core_Model_Resource_Db_Collection_Abstract\n     *\/",229],["T_WHITESPACE","\n    ",235],["T_PUBLIC","public",236],["T_WHITESPACE"," ",236],["T_FUNCTION","function",236],["T_WHITESPACE"," ",236],["T_STRING","load",236],"(",["T_VARIABLE","$printQuery",236],["T_WHITESPACE"," ",236],"=",["T_WHITESPACE"," ",236],["T_STRING","false",236],",",["T_WHITESPACE"," ",236],["T_VARIABLE","$logQuery",236],["T_WHITESPACE"," ",236],"=",["T_WHITESPACE"," ",236],["T_STRING","false",236],")",["T_WHITESPACE","\n    ",236],"{",["T_WHITESPACE","\n        ",237],["T_IF","if",238],["T_WHITESPACE"," ",238],"(",["T_VARIABLE","$this",238],["T_OBJECT_OPERATOR","->",238],["T_STRING","isLoaded",238],"(",")",")",["T_WHITESPACE"," ",238],"{",["T_WHITESPACE","\n            ",238],["T_RETURN","return",239],["T_WHITESPACE"," ",239],["T_VARIABLE","$this",239],";",["T_WHITESPACE","\n        ",239],"}",["T_WHITESPACE","\n        ",240],["T_STRING","Mage",241],["T_DOUBLE_COLON","::",241],["T_STRING","dispatchEvent",241],"(",["T_CONSTANT_ENCAPSED_STRING","'log_visitor_collection_load_before'",241],",",["T_WHITESPACE"," ",241],["T_ARRAY","array",241],"(",["T_CONSTANT_ENCAPSED_STRING","'collection'",241],["T_WHITESPACE"," ",241],["T_DOUBLE_ARROW","=>",241],["T_WHITESPACE"," ",241],["T_VARIABLE","$this",241],")",")",";",["T_WHITESPACE","\n        ",241],["T_RETURN","return",242],["T_WHITESPACE"," ",242],["T_STRING","parent",242],["T_DOUBLE_COLON","::",242],["T_STRING","load",242],"(",["T_VARIABLE","$printQuery",242],",",["T_WHITESPACE"," ",242],["T_VARIABLE","$logQuery",242],")",";",["T_WHITESPACE","\n    ",242],"}",["T_WHITESPACE","\n\n    ",243],["T_DOC_COMMENT","\/**\n     * Return true if online filter used\n     *\n     * @return boolean\n     *\/",245],["T_WHITESPACE","\n    ",249],["T_PUBLIC","public",250],["T_WHITESPACE"," ",250],["T_FUNCTION","function",250],["T_WHITESPACE"," ",250],["T_STRING","getIsOnlineFilterUsed",250],"(",")",["T_WHITESPACE","\n    ",250],"{",["T_WHITESPACE","\n        ",251],["T_RETURN","return",252],["T_WHITESPACE"," ",252],["T_VARIABLE","$this",252],["T_OBJECT_OPERATOR","->",252],["T_STRING","_isOnlineFilterUsed",252],";",["T_WHITESPACE","\n    ",252],"}",["T_WHITESPACE","\n\n    ",253],["T_DOC_COMMENT","\/**\n     * Filter visitors by specified store ids\n     *\n     * @param array|int $storeIds\n     *\/",255],["T_WHITESPACE","\n    ",259],["T_PUBLIC","public",260],["T_WHITESPACE"," ",260],["T_FUNCTION","function",260],["T_WHITESPACE"," ",260],["T_STRING","addVisitorStoreFilter",260],"(",["T_VARIABLE","$storeIds",260],")",["T_WHITESPACE","\n    ",260],"{",["T_WHITESPACE","\n        ",261],["T_VARIABLE","$this",262],["T_OBJECT_OPERATOR","->",262],["T_STRING","getSelect",262],"(",")",["T_OBJECT_OPERATOR","->",262],["T_STRING","where",262],"(",["T_CONSTANT_ENCAPSED_STRING","'visitor_table.store_id IN (?)'",262],",",["T_WHITESPACE"," ",262],["T_VARIABLE","$storeIds",262],")",";",["T_WHITESPACE","\n    ",262],"}",["T_WHITESPACE","\n",263],"}",["T_WHITESPACE","\n",264]]