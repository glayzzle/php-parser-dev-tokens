[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Magento\n *\n * NOTICE OF LICENSE\n *\n * This source file is subject to the Open Software License (OSL 3.0)\n * that is bundled with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/opensource.org\/licenses\/osl-3.0.php\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@magento.com so we can send you a copy immediately.\n *\n * DISCLAIMER\n *\n * Do not edit or add to this file if you wish to upgrade Magento to newer\n * versions in the future. If you wish to customize Magento for your\n * needs please refer to http:\/\/www.magento.com for more information.\n *\n * @category    Mage\n * @package     Mage_Rss\n * @copyright  Copyright (c) 2006-2016 X.commerce, Inc. and affiliates (http:\/\/www.magento.com)\n * @license    http:\/\/opensource.org\/licenses\/osl-3.0.php  Open Software License (OSL 3.0)\n *\/",2],["T_WHITESPACE","\n\n",25],["T_DOC_COMMENT","\/**\n * Poll index controller\n *\n * @file        IndexController.php\n * @author      Magento Core Team <core@magentocommerce.com>\n *\/",27],["T_WHITESPACE","\n",32],["T_CLASS","class",33],["T_WHITESPACE"," ",33],["T_STRING","Mage_Rss_IndexController",33],["T_WHITESPACE"," ",33],["T_EXTENDS","extends",33],["T_WHITESPACE"," ",33],["T_STRING","Mage_Rss_Controller_Abstract",33],["T_WHITESPACE","\n",33],"{",["T_WHITESPACE","\n    ",34],["T_DOC_COMMENT","\/**\n     * Current wishlist\n     *\n     * @var Mage_Wishlist_Model_Wishlist\n     *\/",35],["T_WHITESPACE","\n    ",39],["T_PROTECTED","protected",40],["T_WHITESPACE"," ",40],["T_VARIABLE","$_wishlist",40],";",["T_WHITESPACE","\n\n    ",40],["T_DOC_COMMENT","\/**\n     * Current customer\n     *\n     * @var Mage_Customer_Model_Customer\n     *\/",42],["T_WHITESPACE","\n    ",46],["T_PROTECTED","protected",47],["T_WHITESPACE"," ",47],["T_VARIABLE","$_customer",47],";",["T_WHITESPACE","\n\n    ",47],["T_DOC_COMMENT","\/**\n     * Index action\n     *\/",49],["T_WHITESPACE","\n    ",51],["T_PUBLIC","public",52],["T_WHITESPACE"," ",52],["T_FUNCTION","function",52],["T_WHITESPACE"," ",52],["T_STRING","indexAction",52],"(",")",["T_WHITESPACE","\n    ",52],"{",["T_WHITESPACE","\n        ",53],["T_IF","if",54],["T_WHITESPACE"," ",54],"(",["T_VARIABLE","$this",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","_getHelper",54],"(",["T_CONSTANT_ENCAPSED_STRING","'rss'",54],")",["T_OBJECT_OPERATOR","->",54],["T_STRING","isRssEnabled",54],"(",")",")",["T_WHITESPACE"," ",54],"{",["T_WHITESPACE","\n            ",54],["T_VARIABLE","$this",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","loadLayout",55],"(",")",";",["T_WHITESPACE","\n            ",55],["T_VARIABLE","$this",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","renderLayout",56],"(",")",";",["T_WHITESPACE","\n        ",56],"}",["T_WHITESPACE"," ",57],["T_ELSE","else",57],["T_WHITESPACE"," ",57],"{",["T_WHITESPACE","\n            ",57],["T_VARIABLE","$this",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","getResponse",58],"(",")",["T_OBJECT_OPERATOR","->",58],["T_STRING","setHeader",58],"(",["T_CONSTANT_ENCAPSED_STRING","'HTTP\/1.1'",58],",",["T_CONSTANT_ENCAPSED_STRING","'404 Not Found'",58],")",";",["T_WHITESPACE","\n            ",58],["T_VARIABLE","$this",59],["T_OBJECT_OPERATOR","->",59],["T_STRING","getResponse",59],"(",")",["T_OBJECT_OPERATOR","->",59],["T_STRING","setHeader",59],"(",["T_CONSTANT_ENCAPSED_STRING","'Status'",59],",",["T_CONSTANT_ENCAPSED_STRING","'404 File not found'",59],")",";",["T_WHITESPACE","\n            ",59],["T_VARIABLE","$this",60],["T_OBJECT_OPERATOR","->",60],["T_STRING","_forward",60],"(",["T_CONSTANT_ENCAPSED_STRING","'defaultNoRoute'",60],")",";",["T_WHITESPACE","\n        ",60],"}",["T_WHITESPACE","\n    ",61],"}",["T_WHITESPACE","\n\n    ",62],["T_DOC_COMMENT","\/**\n     * Display feed not found message\n     *\/",64],["T_WHITESPACE","\n    ",66],["T_PUBLIC","public",67],["T_WHITESPACE"," ",67],["T_FUNCTION","function",67],["T_WHITESPACE"," ",67],["T_STRING","nofeedAction",67],"(",")",["T_WHITESPACE","\n    ",67],"{",["T_WHITESPACE","\n        ",68],["T_VARIABLE","$this",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","getResponse",69],"(",")",["T_OBJECT_OPERATOR","->",69],["T_STRING","setHeader",69],"(",["T_CONSTANT_ENCAPSED_STRING","'HTTP\/1.1'",69],",",["T_CONSTANT_ENCAPSED_STRING","'404 Not Found'",69],")",";",["T_WHITESPACE","\n        ",69],["T_VARIABLE","$this",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","getResponse",70],"(",")",["T_OBJECT_OPERATOR","->",70],["T_STRING","setHeader",70],"(",["T_CONSTANT_ENCAPSED_STRING","'Status'",70],",",["T_CONSTANT_ENCAPSED_STRING","'404 File not found'",70],")",";",["T_WHITESPACE","\n        ",70],["T_VARIABLE","$this",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","loadLayout",71],"(",["T_STRING","false",71],")",";",["T_WHITESPACE","\n        ",71],["T_VARIABLE","$this",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","renderLayout",72],"(",")",";",["T_WHITESPACE","\n    ",72],"}",["T_WHITESPACE","\n\n    ",73],["T_DOC_COMMENT","\/**\n     * Wishlist rss feed action\n     * Show all public wishlists and private wishlists that belong to current user\n     *\n     * @return mixed\n     *\/",75],["T_WHITESPACE","\n    ",80],["T_PUBLIC","public",81],["T_WHITESPACE"," ",81],["T_FUNCTION","function",81],["T_WHITESPACE"," ",81],["T_STRING","wishlistAction",81],"(",")",["T_WHITESPACE","\n    ",81],"{",["T_WHITESPACE","\n        ",82],["T_IF","if",83],["T_WHITESPACE"," ",83],"(","!",["T_VARIABLE","$this",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","isFeedEnable",83],"(",["T_CONSTANT_ENCAPSED_STRING","'wishlist\/active'",83],")",")",["T_WHITESPACE"," ",83],"{",["T_WHITESPACE","\n            ",83],["T_VARIABLE","$this",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","_forward",84],"(",["T_CONSTANT_ENCAPSED_STRING","'nofeed'",84],",",["T_CONSTANT_ENCAPSED_STRING","'index'",84],",",["T_CONSTANT_ENCAPSED_STRING","'rss'",84],")",";",["T_WHITESPACE","\n            ",84],["T_RETURN","return",85],";",["T_WHITESPACE","\n        ",85],"}",["T_WHITESPACE","\n\n        ",86],["T_VARIABLE","$wishlist",88],["T_WHITESPACE"," ",88],"=",["T_WHITESPACE"," ",88],["T_VARIABLE","$this",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","_getWishlist",88],"(",")",";",["T_WHITESPACE","\n        ",88],["T_IF","if",89],["T_WHITESPACE"," ",89],"(","!",["T_VARIABLE","$wishlist",89],")",["T_WHITESPACE"," ",89],"{",["T_WHITESPACE","\n            ",89],["T_VARIABLE","$this",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","_forward",90],"(",["T_CONSTANT_ENCAPSED_STRING","'nofeed'",90],",",["T_CONSTANT_ENCAPSED_STRING","'index'",90],",",["T_CONSTANT_ENCAPSED_STRING","'rss'",90],")",";",["T_WHITESPACE","\n            ",90],["T_RETURN","return",91],";",["T_WHITESPACE","\n        ",91],"}",["T_WHITESPACE","\n\n        ",92],["T_IF","if",94],["T_WHITESPACE"," ",94],"(",["T_VARIABLE","$wishlist",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","getVisibility",94],"(",")",")",["T_WHITESPACE"," ",94],"{",["T_WHITESPACE","\n            ",94],["T_VARIABLE","$this",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","_showWishlistRss",95],"(",")",";",["T_WHITESPACE","\n            ",95],["T_RETURN","return",96],["T_WHITESPACE"," ",96],";",["T_WHITESPACE","\n        ",96],"}",["T_WHITESPACE"," ",97],["T_ELSE","else",97],["T_WHITESPACE"," ",97],["T_IF","if",97],["T_WHITESPACE"," ",97],"(",["T_STRING","Mage",97],["T_DOUBLE_COLON","::",97],["T_STRING","getSingleton",97],"(",["T_CONSTANT_ENCAPSED_STRING","'customer\/session'",97],")",["T_OBJECT_OPERATOR","->",97],["T_STRING","authenticate",97],"(",["T_VARIABLE","$this",97],")",["T_WHITESPACE","\n            ",97],["T_BOOLEAN_AND","&&",98],["T_WHITESPACE"," ",98],["T_VARIABLE","$wishlist",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","getCustomerId",98],"(",")",["T_WHITESPACE"," ",98],["T_IS_EQUAL","==",98],["T_WHITESPACE"," ",98],["T_VARIABLE","$this",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","_getCustomer",98],"(",")",["T_OBJECT_OPERATOR","->",98],["T_STRING","getId",98],"(",")",["T_WHITESPACE","\n        ",98],")",["T_WHITESPACE"," ",99],"{",["T_WHITESPACE","\n            ",99],["T_VARIABLE","$this",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","_showWishlistRss",100],"(",")",";",["T_WHITESPACE","\n        ",100],"}",["T_WHITESPACE"," ",101],["T_ELSE","else",101],["T_WHITESPACE"," ",101],"{",["T_WHITESPACE","\n            ",101],["T_VARIABLE","$this",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","_forward",102],"(",["T_CONSTANT_ENCAPSED_STRING","'nofeed'",102],",",["T_CONSTANT_ENCAPSED_STRING","'index'",102],",",["T_CONSTANT_ENCAPSED_STRING","'rss'",102],")",";",["T_WHITESPACE","\n        ",102],"}",["T_WHITESPACE","\n    ",103],"}",["T_WHITESPACE","\n\n    ",104],["T_DOC_COMMENT","\/**\n     * Show wishlist rss\n     *\/",106],["T_WHITESPACE","\n    ",108],["T_PROTECTED","protected",109],["T_WHITESPACE"," ",109],["T_FUNCTION","function",109],["T_WHITESPACE"," ",109],["T_STRING","_showWishlistRss",109],"(",")",["T_WHITESPACE","\n    ",109],"{",["T_WHITESPACE","\n        ",110],["T_VARIABLE","$this",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","getResponse",111],"(",")",["T_OBJECT_OPERATOR","->",111],["T_STRING","setHeader",111],"(",["T_CONSTANT_ENCAPSED_STRING","'Content-type'",111],",",["T_WHITESPACE"," ",111],["T_CONSTANT_ENCAPSED_STRING","'text\/xml; charset=UTF-8'",111],")",";",["T_WHITESPACE","\n        ",111],["T_VARIABLE","$this",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","loadLayout",112],"(",["T_STRING","false",112],")",";",["T_WHITESPACE","\n        ",112],["T_VARIABLE","$this",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","renderLayout",113],"(",")",";",["T_WHITESPACE","\n    ",113],"}",["T_WHITESPACE","\n\n    ",114],["T_DOC_COMMENT","\/**\n     * Retrieve Wishlist model\n     *\n     * @return Mage_Wishlist_Model_Wishlist\n     *\/",116],["T_WHITESPACE","\n    ",120],["T_PROTECTED","protected",121],["T_WHITESPACE"," ",121],["T_FUNCTION","function",121],["T_WHITESPACE"," ",121],["T_STRING","_getWishlist",121],"(",")",["T_WHITESPACE","\n    ",121],"{",["T_WHITESPACE","\n        ",122],["T_IF","if",123],["T_WHITESPACE"," ",123],"(",["T_STRING","is_null",123],"(",["T_VARIABLE","$this",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","_wishlist",123],")",")",["T_WHITESPACE"," ",123],"{",["T_WHITESPACE","\n            ",123],["T_VARIABLE","$this",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","_wishlist",124],["T_WHITESPACE"," ",124],"=",["T_WHITESPACE"," ",124],["T_STRING","Mage",124],["T_DOUBLE_COLON","::",124],["T_STRING","getModel",124],"(",["T_CONSTANT_ENCAPSED_STRING","'wishlist\/wishlist'",124],")",";",["T_WHITESPACE","\n            ",124],["T_VARIABLE","$wishlistId",125],["T_WHITESPACE"," ",125],"=",["T_WHITESPACE"," ",125],["T_VARIABLE","$this",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","getRequest",125],"(",")",["T_OBJECT_OPERATOR","->",125],["T_STRING","getParam",125],"(",["T_CONSTANT_ENCAPSED_STRING","'wishlist_id'",125],")",";",["T_WHITESPACE","\n            ",125],["T_IF","if",126],["T_WHITESPACE"," ",126],"(",["T_VARIABLE","$wishlistId",126],")",["T_WHITESPACE"," ",126],"{",["T_WHITESPACE","\n                ",126],["T_VARIABLE","$this",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","_wishlist",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","load",127],"(",["T_VARIABLE","$wishlistId",127],")",";",["T_WHITESPACE","\n            ",127],"}",["T_WHITESPACE"," ",128],["T_ELSE","else",128],["T_WHITESPACE"," ",128],"{",["T_WHITESPACE","\n                ",128],["T_IF","if",129],["T_WHITESPACE"," ",129],"(",["T_VARIABLE","$this",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","_getCustomer",129],"(",")",["T_OBJECT_OPERATOR","->",129],["T_STRING","getId",129],"(",")",")",["T_WHITESPACE"," ",129],"{",["T_WHITESPACE","\n                    ",129],["T_VARIABLE","$this",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","_wishlist",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","loadByCustomer",130],"(",["T_VARIABLE","$this",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","_getCustomer",130],"(",")",")",";",["T_WHITESPACE","\n                ",130],"}",["T_WHITESPACE","\n            ",131],"}",["T_WHITESPACE","\n        ",132],"}",["T_WHITESPACE","\n        ",133],["T_RETURN","return",134],["T_WHITESPACE"," ",134],["T_VARIABLE","$this",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","_wishlist",134],";",["T_WHITESPACE","\n    ",134],"}",["T_WHITESPACE","\n\n    ",135],["T_DOC_COMMENT","\/**\n     * Retrieve Customer instance\n     *\n     * @return Mage_Customer_Model_Customer\n     *\/",137],["T_WHITESPACE","\n    ",141],["T_PROTECTED","protected",142],["T_WHITESPACE"," ",142],["T_FUNCTION","function",142],["T_WHITESPACE"," ",142],["T_STRING","_getCustomer",142],"(",")",["T_WHITESPACE","\n    ",142],"{",["T_WHITESPACE","\n        ",143],["T_IF","if",144],["T_WHITESPACE"," ",144],"(",["T_STRING","is_null",144],"(",["T_VARIABLE","$this",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","_customer",144],")",")",["T_WHITESPACE"," ",144],"{",["T_WHITESPACE","\n            ",144],["T_VARIABLE","$this",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","_customer",145],["T_WHITESPACE"," ",145],"=",["T_WHITESPACE"," ",145],["T_STRING","Mage",145],["T_DOUBLE_COLON","::",145],["T_STRING","getModel",145],"(",["T_CONSTANT_ENCAPSED_STRING","'customer\/customer'",145],")",";",["T_WHITESPACE","\n\n            ",145],["T_VARIABLE","$params",147],["T_WHITESPACE"," ",147],"=",["T_WHITESPACE"," ",147],["T_VARIABLE","$this",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","_getHelper",147],"(",["T_CONSTANT_ENCAPSED_STRING","'core'",147],")",["T_OBJECT_OPERATOR","->",147],["T_STRING","urlDecode",147],"(",["T_VARIABLE","$this",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","getRequest",147],"(",")",["T_OBJECT_OPERATOR","->",147],["T_STRING","getParam",147],"(",["T_CONSTANT_ENCAPSED_STRING","'data'",147],")",")",";",["T_WHITESPACE","\n            ",147],["T_VARIABLE","$data",148],["T_WHITESPACE","   ",148],"=",["T_WHITESPACE"," ",148],["T_STRING","explode",148],"(",["T_CONSTANT_ENCAPSED_STRING","','",148],",",["T_WHITESPACE"," ",148],["T_VARIABLE","$params",148],")",";",["T_WHITESPACE","\n            ",148],["T_VARIABLE","$customerId",149],["T_WHITESPACE","    ",149],"=",["T_WHITESPACE"," ",149],["T_STRING","abs",149],"(",["T_STRING","intval",149],"(",["T_VARIABLE","$data",149],"[",["T_LNUMBER","0",149],"]",")",")",";",["T_WHITESPACE","\n            ",149],["T_IF","if",150],["T_WHITESPACE"," ",150],"(",["T_VARIABLE","$customerId",150],["T_WHITESPACE"," ",150],["T_BOOLEAN_AND","&&",150],["T_WHITESPACE"," ",150],"(",["T_VARIABLE","$customerId",150],["T_WHITESPACE"," ",150],["T_IS_EQUAL","==",150],["T_WHITESPACE"," ",150],["T_STRING","Mage",150],["T_DOUBLE_COLON","::",150],["T_STRING","getSingleton",150],"(",["T_CONSTANT_ENCAPSED_STRING","'customer\/session'",150],")",["T_OBJECT_OPERATOR","->",150],["T_STRING","getCustomerId",150],"(",")",")",["T_WHITESPACE"," ",150],")",["T_WHITESPACE"," ",150],"{",["T_WHITESPACE","\n                ",150],["T_VARIABLE","$this",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","_customer",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","load",151],"(",["T_VARIABLE","$customerId",151],")",";",["T_WHITESPACE","\n            ",151],"}",["T_WHITESPACE","\n        ",152],"}",["T_WHITESPACE","\n\n        ",153],["T_RETURN","return",155],["T_WHITESPACE"," ",155],["T_VARIABLE","$this",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","_customer",155],";",["T_WHITESPACE","\n    ",155],"}",["T_WHITESPACE","\n",156],"}",["T_WHITESPACE","\n",157]]