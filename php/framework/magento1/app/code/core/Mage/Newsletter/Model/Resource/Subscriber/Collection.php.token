[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Magento\n *\n * NOTICE OF LICENSE\n *\n * This source file is subject to the Open Software License (OSL 3.0)\n * that is bundled with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/opensource.org\/licenses\/osl-3.0.php\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@magento.com so we can send you a copy immediately.\n *\n * DISCLAIMER\n *\n * Do not edit or add to this file if you wish to upgrade Magento to newer\n * versions in the future. If you wish to customize Magento for your\n * needs please refer to http:\/\/www.magento.com for more information.\n *\n * @category    Mage\n * @package     Mage_Newsletter\n * @copyright  Copyright (c) 2006-2016 X.commerce, Inc. and affiliates (http:\/\/www.magento.com)\n * @license    http:\/\/opensource.org\/licenses\/osl-3.0.php  Open Software License (OSL 3.0)\n *\/",2],["T_WHITESPACE","\n\n\n",25],["T_DOC_COMMENT","\/**\n * Newsletter subscribers collection\n *\n * @category    Mage\n * @package     Mage_Newsletter\n * @author      Magento Core Team <core@magentocommerce.com>\n *\/",28],["T_WHITESPACE","\n",34],["T_CLASS","class",35],["T_WHITESPACE"," ",35],["T_STRING","Mage_Newsletter_Model_Resource_Subscriber_Collection",35],["T_WHITESPACE"," ",35],["T_EXTENDS","extends",35],["T_WHITESPACE"," ",35],["T_STRING","Mage_Core_Model_Resource_Db_Collection_Abstract",35],["T_WHITESPACE","\n",35],"{",["T_WHITESPACE","\n\n    ",36],["T_DOC_COMMENT","\/**\n     * Queue link table name\n     *\n     * @var string\n     *\/",38],["T_WHITESPACE","\n    ",42],["T_PROTECTED","protected",43],["T_WHITESPACE"," ",43],["T_VARIABLE","$_queueLinkTable",43],";",["T_WHITESPACE","\n\n    ",43],["T_DOC_COMMENT","\/**\n     * Store table name\n     *\n     * @var string\n     *\/",45],["T_WHITESPACE","\n    ",49],["T_PROTECTED","protected",50],["T_WHITESPACE"," ",50],["T_VARIABLE","$_storeTable",50],";",["T_WHITESPACE","\n\n    ",50],["T_DOC_COMMENT","\/**\n     * Queue joined flag\n     *\n     * @var boolean\n     *\/",52],["T_WHITESPACE","\n    ",56],["T_PROTECTED","protected",57],["T_WHITESPACE"," ",57],["T_VARIABLE","$_queueJoinedFlag",57],["T_WHITESPACE","    ",57],"=",["T_WHITESPACE"," ",57],["T_STRING","false",57],";",["T_WHITESPACE","\n\n    ",57],["T_DOC_COMMENT","\/**\n     * Flag that indicates apply of customers info on load\n     *\n     * @var boolean\n     *\/",59],["T_WHITESPACE","\n    ",63],["T_PROTECTED","protected",64],["T_WHITESPACE"," ",64],["T_VARIABLE","$_showCustomersInfo",64],["T_WHITESPACE","  ",64],"=",["T_WHITESPACE"," ",64],["T_STRING","false",64],";",["T_WHITESPACE","\n\n    ",64],["T_DOC_COMMENT","\/**\n     * Filter for count\n     *\n     * @var array\n     *\/",66],["T_WHITESPACE","\n    ",70],["T_PROTECTED","protected",71],["T_WHITESPACE"," ",71],["T_VARIABLE","$_countFilterPart",71],["T_WHITESPACE","    ",71],"=",["T_WHITESPACE"," ",71],["T_ARRAY","array",71],"(",")",";",["T_WHITESPACE","\n\n    ",71],["T_DOC_COMMENT","\/**\n     * Constructor\n     * Configures collection\n     *\n     *\/",73],["T_WHITESPACE","\n    ",77],["T_PROTECTED","protected",78],["T_WHITESPACE"," ",78],["T_FUNCTION","function",78],["T_WHITESPACE"," ",78],["T_STRING","_construct",78],"(",")",["T_WHITESPACE","\n    ",78],"{",["T_WHITESPACE","\n        ",79],["T_STRING","parent",80],["T_DOUBLE_COLON","::",80],["T_STRING","_construct",80],"(",")",";",["T_WHITESPACE","\n        ",80],["T_VARIABLE","$this",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","_init",81],"(",["T_CONSTANT_ENCAPSED_STRING","'newsletter\/subscriber'",81],")",";",["T_WHITESPACE","\n        ",81],["T_VARIABLE","$this",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","_queueLinkTable",82],["T_WHITESPACE"," ",82],"=",["T_WHITESPACE"," ",82],["T_VARIABLE","$this",82],["T_OBJECT_OPERATOR","->",82],["T_STRING","getTable",82],"(",["T_CONSTANT_ENCAPSED_STRING","'newsletter\/queue_link'",82],")",";",["T_WHITESPACE","\n        ",82],["T_VARIABLE","$this",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","_storeTable",83],["T_WHITESPACE","     ",83],"=",["T_WHITESPACE"," ",83],["T_VARIABLE","$this",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","getTable",83],"(",["T_CONSTANT_ENCAPSED_STRING","'core\/store'",83],")",";",["T_WHITESPACE","\n\n\n        ",83],["T_COMMENT","\/\/ defining mapping for fields represented in several tables\n",86],["T_WHITESPACE","        ",87],["T_VARIABLE","$this",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","_map",87],"[",["T_CONSTANT_ENCAPSED_STRING","'fields'",87],"]","[",["T_CONSTANT_ENCAPSED_STRING","'customer_lastname'",87],"]",["T_WHITESPACE","   ",87],"=",["T_WHITESPACE"," ",87],["T_CONSTANT_ENCAPSED_STRING","'customer_lastname_table.value'",87],";",["T_WHITESPACE","\n        ",87],["T_VARIABLE","$this",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","_map",88],"[",["T_CONSTANT_ENCAPSED_STRING","'fields'",88],"]","[",["T_CONSTANT_ENCAPSED_STRING","'customer_middlename'",88],"]",["T_WHITESPACE"," ",88],"=",["T_WHITESPACE"," ",88],["T_CONSTANT_ENCAPSED_STRING","'customer_middlename_table.value'",88],";",["T_WHITESPACE","\n        ",88],["T_VARIABLE","$this",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","_map",89],"[",["T_CONSTANT_ENCAPSED_STRING","'fields'",89],"]","[",["T_CONSTANT_ENCAPSED_STRING","'customer_firstname'",89],"]",["T_WHITESPACE","  ",89],"=",["T_WHITESPACE"," ",89],["T_CONSTANT_ENCAPSED_STRING","'customer_firstname_table.value'",89],";",["T_WHITESPACE","\n        ",89],["T_VARIABLE","$this",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","_map",90],"[",["T_CONSTANT_ENCAPSED_STRING","'fields'",90],"]","[",["T_CONSTANT_ENCAPSED_STRING","'type'",90],"]",["T_WHITESPACE","                ",90],"=",["T_WHITESPACE"," ",90],["T_VARIABLE","$this",90],["T_OBJECT_OPERATOR","->",90],["T_STRING","getResource",90],"(",")",["T_OBJECT_OPERATOR","->",90],["T_STRING","getReadConnection",90],"(",")",["T_WHITESPACE","\n            ",90],["T_OBJECT_OPERATOR","->",91],["T_STRING","getCheckSql",91],"(",["T_CONSTANT_ENCAPSED_STRING","'main_table.customer_id = 0'",91],",",["T_WHITESPACE"," ",91],["T_LNUMBER","1",91],",",["T_WHITESPACE"," ",91],["T_LNUMBER","2",91],")",";",["T_WHITESPACE","\n        ",91],["T_VARIABLE","$this",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","_map",92],"[",["T_CONSTANT_ENCAPSED_STRING","'fields'",92],"]","[",["T_CONSTANT_ENCAPSED_STRING","'website_id'",92],"]",["T_WHITESPACE","          ",92],"=",["T_WHITESPACE"," ",92],["T_CONSTANT_ENCAPSED_STRING","'store.website_id'",92],";",["T_WHITESPACE","\n        ",92],["T_VARIABLE","$this",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","_map",93],"[",["T_CONSTANT_ENCAPSED_STRING","'fields'",93],"]","[",["T_CONSTANT_ENCAPSED_STRING","'group_id'",93],"]",["T_WHITESPACE","            ",93],"=",["T_WHITESPACE"," ",93],["T_CONSTANT_ENCAPSED_STRING","'store.group_id'",93],";",["T_WHITESPACE","\n        ",93],["T_VARIABLE","$this",94],["T_OBJECT_OPERATOR","->",94],["T_STRING","_map",94],"[",["T_CONSTANT_ENCAPSED_STRING","'fields'",94],"]","[",["T_CONSTANT_ENCAPSED_STRING","'store_id'",94],"]",["T_WHITESPACE","            ",94],"=",["T_WHITESPACE"," ",94],["T_CONSTANT_ENCAPSED_STRING","'main_table.store_id'",94],";",["T_WHITESPACE","\n    ",94],"}",["T_WHITESPACE","\n\n    ",95],["T_DOC_COMMENT","\/**\n     * Set loading mode subscribers by queue\n     *\n     * @param Mage_Newsletter_Model_Queue $queue\n     * @return Mage_Newsletter_Model_Resource_Subscriber_Collection\n     *\/",97],["T_WHITESPACE","\n    ",102],["T_PUBLIC","public",103],["T_WHITESPACE"," ",103],["T_FUNCTION","function",103],["T_WHITESPACE"," ",103],["T_STRING","useQueue",103],"(",["T_STRING","Mage_Newsletter_Model_Queue",103],["T_WHITESPACE"," ",103],["T_VARIABLE","$queue",103],")",["T_WHITESPACE","\n    ",103],"{",["T_WHITESPACE","\n        ",104],["T_VARIABLE","$this",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","getSelect",105],"(",")",["T_WHITESPACE","\n            ",105],["T_OBJECT_OPERATOR","->",106],["T_STRING","join",106],"(",["T_ARRAY","array",106],"(",["T_CONSTANT_ENCAPSED_STRING","'link'",106],["T_DOUBLE_ARROW","=>",106],["T_VARIABLE","$this",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","_queueLinkTable",106],")",",",["T_WHITESPACE"," ",106],["T_CONSTANT_ENCAPSED_STRING","\"link.subscriber_id = main_table.subscriber_id\"",106],",",["T_WHITESPACE"," ",106],["T_ARRAY","array",106],"(",")",")",["T_WHITESPACE","\n            ",106],["T_OBJECT_OPERATOR","->",107],["T_STRING","where",107],"(",["T_CONSTANT_ENCAPSED_STRING","\"link.queue_id = ? \"",107],",",["T_WHITESPACE"," ",107],["T_VARIABLE","$queue",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","getId",107],"(",")",")",";",["T_WHITESPACE","\n        ",107],["T_VARIABLE","$this",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","_queueJoinedFlag",108],["T_WHITESPACE"," ",108],"=",["T_WHITESPACE"," ",108],["T_STRING","true",108],";",["T_WHITESPACE","\n        ",108],["T_RETURN","return",109],["T_WHITESPACE"," ",109],["T_VARIABLE","$this",109],";",["T_WHITESPACE","\n    ",109],"}",["T_WHITESPACE","\n\n    ",110],["T_DOC_COMMENT","\/**\n     * Set using of links to only unsendet letter subscribers.\n     *\n     * @return Mage_Newsletter_Model_Resource_Subscriber_Collection\n     *\/",112],["T_WHITESPACE","\n    ",116],["T_PUBLIC","public",117],["T_WHITESPACE"," ",117],["T_FUNCTION","function",117],["T_WHITESPACE"," ",117],["T_STRING","useOnlyUnsent",117],"(",")",["T_WHITESPACE","\n    ",117],"{",["T_WHITESPACE","\n        ",118],["T_IF","if",119],["T_WHITESPACE"," ",119],"(",["T_VARIABLE","$this",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","_queueJoinedFlag",119],")",["T_WHITESPACE"," ",119],"{",["T_WHITESPACE","\n            ",119],["T_VARIABLE","$this",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","addFieldToFilter",120],"(",["T_CONSTANT_ENCAPSED_STRING","'link.letter_sent_at'",120],",",["T_WHITESPACE"," ",120],["T_ARRAY","array",120],"(",["T_CONSTANT_ENCAPSED_STRING","'null'",120],["T_WHITESPACE"," ",120],["T_DOUBLE_ARROW","=>",120],["T_WHITESPACE"," ",120],["T_LNUMBER","1",120],")",")",";",["T_WHITESPACE","\n        ",120],"}",["T_WHITESPACE","\n\n        ",121],["T_RETURN","return",123],["T_WHITESPACE"," ",123],["T_VARIABLE","$this",123],";",["T_WHITESPACE","\n    ",123],"}",["T_WHITESPACE","\n\n    ",124],["T_DOC_COMMENT","\/**\n     * Adds customer info to select\n     *\n     * @return Mage_Newsletter_Model_Resource_Subscriber_Collection\n     *\/",126],["T_WHITESPACE","\n    ",130],["T_PUBLIC","public",131],["T_WHITESPACE"," ",131],["T_FUNCTION","function",131],["T_WHITESPACE"," ",131],["T_STRING","showCustomerInfo",131],"(",")",["T_WHITESPACE","\n    ",131],"{",["T_WHITESPACE","\n        ",132],["T_VARIABLE","$adapter",133],["T_WHITESPACE","    ",133],"=",["T_WHITESPACE"," ",133],["T_VARIABLE","$this",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","getConnection",133],"(",")",";",["T_WHITESPACE","\n        ",133],["T_VARIABLE","$customer",134],["T_WHITESPACE","   ",134],"=",["T_WHITESPACE"," ",134],["T_STRING","Mage",134],["T_DOUBLE_COLON","::",134],["T_STRING","getModel",134],"(",["T_CONSTANT_ENCAPSED_STRING","'customer\/customer'",134],")",";",["T_WHITESPACE","\n        ",134],["T_VARIABLE","$firstname",135],["T_WHITESPACE","  ",135],"=",["T_WHITESPACE"," ",135],["T_VARIABLE","$customer",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","getAttribute",135],"(",["T_CONSTANT_ENCAPSED_STRING","'firstname'",135],")",";",["T_WHITESPACE","\n        ",135],["T_VARIABLE","$lastname",136],["T_WHITESPACE","   ",136],"=",["T_WHITESPACE"," ",136],["T_VARIABLE","$customer",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","getAttribute",136],"(",["T_CONSTANT_ENCAPSED_STRING","'lastname'",136],")",";",["T_WHITESPACE","\n        ",136],["T_VARIABLE","$middlename",137],["T_WHITESPACE"," ",137],"=",["T_WHITESPACE"," ",137],["T_VARIABLE","$customer",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","getAttribute",137],"(",["T_CONSTANT_ENCAPSED_STRING","'middlename'",137],")",";",["T_WHITESPACE","\n\n        ",137],["T_VARIABLE","$this",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","getSelect",139],"(",")",["T_WHITESPACE","\n            ",139],["T_OBJECT_OPERATOR","->",140],["T_STRING","joinLeft",140],"(",["T_WHITESPACE","\n                ",140],["T_ARRAY","array",141],"(",["T_CONSTANT_ENCAPSED_STRING","'customer_lastname_table'",141],["T_WHITESPACE"," ",141],["T_DOUBLE_ARROW","=>",141],["T_WHITESPACE"," ",141],["T_VARIABLE","$lastname",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","getBackend",141],"(",")",["T_OBJECT_OPERATOR","->",141],["T_STRING","getTable",141],"(",")",")",",",["T_WHITESPACE","\n                ",141],["T_VARIABLE","$adapter",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","quoteInto",142],"(",["T_CONSTANT_ENCAPSED_STRING","'customer_lastname_table.entity_id=main_table.customer_id\n                    AND customer_lastname_table.attribute_id = ?'",142],",",["T_WHITESPACE"," ",143],["T_INT_CAST","(int)",143],["T_WHITESPACE"," ",143],["T_VARIABLE","$lastname",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","getAttributeId",143],"(",")",["T_WHITESPACE","\n                ",143],")",",",["T_WHITESPACE","\n                ",144],["T_ARRAY","array",145],"(",["T_CONSTANT_ENCAPSED_STRING","'customer_lastname'",145],["T_DOUBLE_ARROW","=>",145],["T_CONSTANT_ENCAPSED_STRING","'value'",145],")",["T_WHITESPACE","\n            ",145],")",["T_WHITESPACE","\n            ",146],["T_OBJECT_OPERATOR","->",147],["T_STRING","joinLeft",147],"(",["T_WHITESPACE","\n                ",147],["T_ARRAY","array",148],"(",["T_CONSTANT_ENCAPSED_STRING","'customer_middlename_table'",148],["T_WHITESPACE"," ",148],["T_DOUBLE_ARROW","=>",148],["T_WHITESPACE"," ",148],["T_VARIABLE","$middlename",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","getBackend",148],"(",")",["T_OBJECT_OPERATOR","->",148],["T_STRING","getTable",148],"(",")",")",",",["T_WHITESPACE","\n                ",148],["T_VARIABLE","$adapter",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","quoteInto",149],"(",["T_CONSTANT_ENCAPSED_STRING","'customer_middlename_table.entity_id=main_table.customer_id\n                    AND customer_middlename_table.attribute_id = ?'",149],",",["T_WHITESPACE"," ",150],["T_INT_CAST","(int)",150],["T_WHITESPACE"," ",150],["T_VARIABLE","$middlename",150],["T_OBJECT_OPERATOR","->",150],["T_STRING","getAttributeId",150],"(",")",["T_WHITESPACE","\n                ",150],")",",",["T_WHITESPACE","\n                ",151],["T_ARRAY","array",152],"(",["T_CONSTANT_ENCAPSED_STRING","'customer_middlename'",152],["T_DOUBLE_ARROW","=>",152],["T_CONSTANT_ENCAPSED_STRING","'value'",152],")",["T_WHITESPACE","\n            ",152],")",["T_WHITESPACE","\n            ",153],["T_OBJECT_OPERATOR","->",154],["T_STRING","joinLeft",154],"(",["T_WHITESPACE","\n                ",154],["T_ARRAY","array",155],"(",["T_CONSTANT_ENCAPSED_STRING","'customer_firstname_table'",155],["T_WHITESPACE"," ",155],["T_DOUBLE_ARROW","=>",155],["T_WHITESPACE"," ",155],["T_VARIABLE","$firstname",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","getBackend",155],"(",")",["T_OBJECT_OPERATOR","->",155],["T_STRING","getTable",155],"(",")",")",",",["T_WHITESPACE","\n                ",155],["T_VARIABLE","$adapter",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","quoteInto",156],"(",["T_CONSTANT_ENCAPSED_STRING","'customer_firstname_table.entity_id=main_table.customer_id\n                    AND customer_firstname_table.attribute_id = ?'",156],",",["T_WHITESPACE"," ",157],["T_INT_CAST","(int)",157],["T_WHITESPACE"," ",157],["T_VARIABLE","$firstname",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","getAttributeId",157],"(",")",["T_WHITESPACE","\n                ",157],")",",",["T_WHITESPACE","\n                ",158],["T_ARRAY","array",159],"(",["T_CONSTANT_ENCAPSED_STRING","'customer_firstname'",159],["T_DOUBLE_ARROW","=>",159],["T_CONSTANT_ENCAPSED_STRING","'value'",159],")",["T_WHITESPACE","\n            ",159],")",";",["T_WHITESPACE","\n\n        ",160],["T_RETURN","return",162],["T_WHITESPACE"," ",162],["T_VARIABLE","$this",162],";",["T_WHITESPACE","\n    ",162],"}",["T_WHITESPACE","\n\n    ",163],["T_DOC_COMMENT","\/**\n     * Add type field expression to select\n     *\n     * @return Mage_Newsletter_Model_Resource_Subscriber_Collection\n     *\/",165],["T_WHITESPACE","\n    ",169],["T_PUBLIC","public",170],["T_WHITESPACE"," ",170],["T_FUNCTION","function",170],["T_WHITESPACE"," ",170],["T_STRING","addSubscriberTypeField",170],"(",")",["T_WHITESPACE","\n    ",170],"{",["T_WHITESPACE","\n        ",171],["T_VARIABLE","$this",172],["T_OBJECT_OPERATOR","->",172],["T_STRING","getSelect",172],"(",")",["T_WHITESPACE","\n            ",172],["T_OBJECT_OPERATOR","->",173],["T_STRING","columns",173],"(",["T_ARRAY","array",173],"(",["T_CONSTANT_ENCAPSED_STRING","'type'",173],["T_DOUBLE_ARROW","=>",173],["T_NEW","new",173],["T_WHITESPACE"," ",173],["T_STRING","Zend_Db_Expr",173],"(",["T_VARIABLE","$this",173],["T_OBJECT_OPERATOR","->",173],["T_STRING","_getMappedField",173],"(",["T_CONSTANT_ENCAPSED_STRING","'type'",173],")",")",")",")",";",["T_WHITESPACE","\n        ",173],["T_RETURN","return",174],["T_WHITESPACE"," ",174],["T_VARIABLE","$this",174],";",["T_WHITESPACE","\n    ",174],"}",["T_WHITESPACE","\n\n    ",175],["T_DOC_COMMENT","\/**\n     * Sets flag for customer info loading on load\n     *\n     * @return Mage_Newsletter_Model_Resource_Subscriber_Collection\n     *\/",177],["T_WHITESPACE","\n    ",181],["T_PUBLIC","public",182],["T_WHITESPACE"," ",182],["T_FUNCTION","function",182],["T_WHITESPACE"," ",182],["T_STRING","showStoreInfo",182],"(",")",["T_WHITESPACE","\n    ",182],"{",["T_WHITESPACE","\n        ",183],["T_VARIABLE","$this",184],["T_OBJECT_OPERATOR","->",184],["T_STRING","getSelect",184],"(",")",["T_OBJECT_OPERATOR","->",184],["T_STRING","join",184],"(",["T_WHITESPACE","\n            ",184],["T_ARRAY","array",185],"(",["T_CONSTANT_ENCAPSED_STRING","'store'",185],["T_WHITESPACE"," ",185],["T_DOUBLE_ARROW","=>",185],["T_WHITESPACE"," ",185],["T_VARIABLE","$this",185],["T_OBJECT_OPERATOR","->",185],["T_STRING","_storeTable",185],")",",",["T_WHITESPACE","\n            ",185],["T_CONSTANT_ENCAPSED_STRING","'store.store_id = main_table.store_id'",186],",",["T_WHITESPACE","\n            ",186],["T_ARRAY","array",187],"(",["T_CONSTANT_ENCAPSED_STRING","'group_id'",187],",",["T_WHITESPACE"," ",187],["T_CONSTANT_ENCAPSED_STRING","'website_id'",187],")",["T_WHITESPACE","\n        ",187],")",";",["T_WHITESPACE","\n\n        ",188],["T_RETURN","return",190],["T_WHITESPACE"," ",190],["T_VARIABLE","$this",190],";",["T_WHITESPACE","\n    ",190],"}",["T_WHITESPACE","\n\n    ",191],["T_DOC_COMMENT","\/**\n     * Returns field table alias\n     *\n     * @deprecated after 1.4.0.0-rc1\n     *\n     * @param string $field\n     * @return string\n     *\/",193],["T_WHITESPACE","\n    ",200],["T_PUBLIC","public",201],["T_WHITESPACE"," ",201],["T_FUNCTION","function",201],["T_WHITESPACE"," ",201],["T_STRING","_getFieldTableAlias",201],"(",["T_VARIABLE","$field",201],")",["T_WHITESPACE","\n    ",201],"{",["T_WHITESPACE","\n        ",202],["T_IF","if",203],["T_WHITESPACE"," ",203],"(",["T_STRING","strpos",203],"(",["T_VARIABLE","$field",203],",",["T_WHITESPACE"," ",203],["T_CONSTANT_ENCAPSED_STRING","'customer'",203],")",["T_WHITESPACE"," ",203],["T_IS_IDENTICAL","===",203],["T_WHITESPACE"," ",203],["T_LNUMBER","0",203],")",["T_WHITESPACE"," ",203],"{",["T_WHITESPACE","\n           ",203],["T_RETURN","return",204],["T_WHITESPACE"," ",204],["T_VARIABLE","$field",204],["T_WHITESPACE"," ",204],".",["T_CONSTANT_ENCAPSED_STRING","'_table.value'",204],";",["T_WHITESPACE","\n        ",204],"}",["T_WHITESPACE","\n\n        ",205],["T_IF","if",207],["T_WHITESPACE"," ",207],"(",["T_VARIABLE","$field",207],["T_WHITESPACE"," ",207],["T_IS_EQUAL","==",207],["T_WHITESPACE"," ",207],["T_CONSTANT_ENCAPSED_STRING","'type'",207],")",["T_WHITESPACE"," ",207],"{",["T_WHITESPACE","\n            ",207],["T_RETURN","return",208],["T_WHITESPACE"," ",208],["T_VARIABLE","$this",208],["T_OBJECT_OPERATOR","->",208],["T_STRING","getConnection",208],"(",")",["T_OBJECT_OPERATOR","->",208],["T_STRING","getCheckSql",208],"(",["T_CONSTANT_ENCAPSED_STRING","'main_table.customer_id = 0'",208],",",["T_WHITESPACE"," ",208],["T_LNUMBER","1",208],",",["T_WHITESPACE"," ",208],["T_LNUMBER","2",208],")",";",["T_WHITESPACE","\n        ",208],"}",["T_WHITESPACE","\n\n        ",209],["T_IF","if",211],["T_WHITESPACE"," ",211],"(",["T_STRING","in_array",211],"(",["T_VARIABLE","$field",211],",",["T_WHITESPACE"," ",211],["T_ARRAY","array",211],"(",["T_CONSTANT_ENCAPSED_STRING","'website_id'",211],",",["T_WHITESPACE"," ",211],["T_CONSTANT_ENCAPSED_STRING","'group_id'",211],")",")",")",["T_WHITESPACE"," ",211],"{",["T_WHITESPACE","\n            ",211],["T_RETURN","return",212],["T_WHITESPACE"," ",212],["T_CONSTANT_ENCAPSED_STRING","'store.'",212],["T_WHITESPACE"," ",212],".",["T_WHITESPACE"," ",212],["T_VARIABLE","$field",212],";",["T_WHITESPACE","\n        ",212],"}",["T_WHITESPACE","\n\n        ",213],["T_RETURN","return",215],["T_WHITESPACE"," ",215],["T_CONSTANT_ENCAPSED_STRING","'main_table.'",215],["T_WHITESPACE"," ",215],".",["T_WHITESPACE"," ",215],["T_VARIABLE","$field",215],";",["T_WHITESPACE","\n    ",215],"}",["T_WHITESPACE","\n\n    ",216],["T_DOC_COMMENT","\/**\n     * Returns select count sql\n     *\n     * @return string\n     *\/",218],["T_WHITESPACE","\n    ",222],["T_PUBLIC","public",223],["T_WHITESPACE"," ",223],["T_FUNCTION","function",223],["T_WHITESPACE"," ",223],["T_STRING","getSelectCountSql",223],"(",")",["T_WHITESPACE","\n    ",223],"{",["T_WHITESPACE","\n\n        ",224],["T_VARIABLE","$select",226],["T_WHITESPACE"," ",226],"=",["T_WHITESPACE"," ",226],["T_STRING","parent",226],["T_DOUBLE_COLON","::",226],["T_STRING","getSelectCountSql",226],"(",")",";",["T_WHITESPACE","\n        ",226],["T_VARIABLE","$countSelect",227],["T_WHITESPACE"," ",227],"=",["T_WHITESPACE"," ",227],["T_CLONE","clone",227],["T_WHITESPACE"," ",227],["T_VARIABLE","$this",227],["T_OBJECT_OPERATOR","->",227],["T_STRING","getSelect",227],"(",")",";",["T_WHITESPACE","\n\n        ",227],["T_VARIABLE","$countSelect",229],["T_OBJECT_OPERATOR","->",229],["T_STRING","reset",229],"(",["T_STRING","Zend_Db_Select",229],["T_DOUBLE_COLON","::",229],["T_STRING","HAVING",229],")",";",["T_WHITESPACE","\n\n        ",229],["T_RETURN","return",231],["T_WHITESPACE"," ",231],["T_VARIABLE","$select",231],";",["T_WHITESPACE","\n    ",231],"}",["T_WHITESPACE","\n\n    ",232],["T_DOC_COMMENT","\/**\n     * Load only subscribed customers\n     *\n     * @return Mage_Newsletter_Model_Resource_Subscriber_Collection\n     *\/",234],["T_WHITESPACE","\n    ",238],["T_PUBLIC","public",239],["T_WHITESPACE"," ",239],["T_FUNCTION","function",239],["T_WHITESPACE"," ",239],["T_STRING","useOnlyCustomers",239],"(",")",["T_WHITESPACE","\n    ",239],"{",["T_WHITESPACE","\n        ",240],["T_VARIABLE","$this",241],["T_OBJECT_OPERATOR","->",241],["T_STRING","addFieldToFilter",241],"(",["T_CONSTANT_ENCAPSED_STRING","'main_table.customer_id'",241],",",["T_WHITESPACE"," ",241],["T_ARRAY","array",241],"(",["T_CONSTANT_ENCAPSED_STRING","'gt'",241],["T_WHITESPACE"," ",241],["T_DOUBLE_ARROW","=>",241],["T_WHITESPACE"," ",241],["T_LNUMBER","0",241],")",")",";",["T_WHITESPACE","\n\n        ",241],["T_RETURN","return",243],["T_WHITESPACE"," ",243],["T_VARIABLE","$this",243],";",["T_WHITESPACE","\n    ",243],"}",["T_WHITESPACE","\n\n    ",244],["T_DOC_COMMENT","\/**\n     * Show only with subscribed status\n     *\n     * @return Mage_Newsletter_Model_Resource_Subscriber_Collection\n     *\/",246],["T_WHITESPACE","\n    ",250],["T_PUBLIC","public",251],["T_WHITESPACE"," ",251],["T_FUNCTION","function",251],["T_WHITESPACE"," ",251],["T_STRING","useOnlySubscribed",251],"(",")",["T_WHITESPACE","\n    ",251],"{",["T_WHITESPACE","\n        ",252],["T_VARIABLE","$this",253],["T_OBJECT_OPERATOR","->",253],["T_STRING","addFieldToFilter",253],"(",["T_CONSTANT_ENCAPSED_STRING","'main_table.subscriber_status'",253],",",["T_WHITESPACE"," ",253],["T_STRING","Mage_Newsletter_Model_Subscriber",253],["T_DOUBLE_COLON","::",253],["T_STRING","STATUS_SUBSCRIBED",253],")",";",["T_WHITESPACE","\n\n        ",253],["T_RETURN","return",255],["T_WHITESPACE"," ",255],["T_VARIABLE","$this",255],";",["T_WHITESPACE","\n    ",255],"}",["T_WHITESPACE","\n\n    ",256],["T_DOC_COMMENT","\/**\n     * Filter collection by specified store ids\n     *\n     * @param array|int $storeIds\n     * @return Mage_Newsletter_Model_Resource_Subscriber_Collection\n     *\/",258],["T_WHITESPACE","\n    ",263],["T_PUBLIC","public",264],["T_WHITESPACE"," ",264],["T_FUNCTION","function",264],["T_WHITESPACE"," ",264],["T_STRING","addStoreFilter",264],"(",["T_VARIABLE","$storeIds",264],")",["T_WHITESPACE","\n    ",264],"{",["T_WHITESPACE","\n        ",265],["T_VARIABLE","$this",266],["T_OBJECT_OPERATOR","->",266],["T_STRING","addFieldToFilter",266],"(",["T_CONSTANT_ENCAPSED_STRING","'main_table.store_id'",266],",",["T_WHITESPACE"," ",266],["T_ARRAY","array",266],"(",["T_CONSTANT_ENCAPSED_STRING","'in'",266],["T_DOUBLE_ARROW","=>",266],["T_VARIABLE","$storeIds",266],")",")",";",["T_WHITESPACE","\n        ",266],["T_RETURN","return",267],["T_WHITESPACE"," ",267],["T_VARIABLE","$this",267],";",["T_WHITESPACE","\n    ",267],"}",["T_WHITESPACE","\n",268],"}",["T_WHITESPACE","\n",269]]