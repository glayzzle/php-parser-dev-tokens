[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Magento\n *\n * NOTICE OF LICENSE\n *\n * This source file is subject to the Open Software License (OSL 3.0)\n * that is bundled with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/opensource.org\/licenses\/osl-3.0.php\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@magento.com so we can send you a copy immediately.\n *\n * DISCLAIMER\n *\n * Do not edit or add to this file if you wish to upgrade Magento to newer\n * versions in the future. If you wish to customize Magento for your\n * needs please refer to http:\/\/www.magento.com for more information.\n *\n * @category    Mage\n * @package     Mage_Newsletter\n * @copyright  Copyright (c) 2006-2016 X.commerce, Inc. and affiliates (http:\/\/www.magento.com)\n * @license    http:\/\/opensource.org\/licenses\/osl-3.0.php  Open Software License (OSL 3.0)\n *\/",2],["T_WHITESPACE","\n\n\n",25],["T_DOC_COMMENT","\/**\n * Newsletter queue resource model\n *\n * @category    Mage\n * @package     Mage_Newsletter\n * @author      Magento Core Team <core@magentocommerce.com>\n *\/",28],["T_WHITESPACE","\n",34],["T_CLASS","class",35],["T_WHITESPACE"," ",35],["T_STRING","Mage_Newsletter_Model_Resource_Queue",35],["T_WHITESPACE"," ",35],["T_EXTENDS","extends",35],["T_WHITESPACE"," ",35],["T_STRING","Mage_Core_Model_Resource_Db_Abstract",35],["T_WHITESPACE","\n",35],"{",["T_WHITESPACE","\n    ",36],["T_DOC_COMMENT","\/**\n     * Define main table\n     *\n     *\/",37],["T_WHITESPACE","\n    ",40],["T_PROTECTED","protected",41],["T_WHITESPACE"," ",41],["T_FUNCTION","function",41],["T_WHITESPACE"," ",41],["T_STRING","_construct",41],"(",")",["T_WHITESPACE","\n    ",41],"{",["T_WHITESPACE","\n        ",42],["T_VARIABLE","$this",43],["T_OBJECT_OPERATOR","->",43],["T_STRING","_init",43],"(",["T_CONSTANT_ENCAPSED_STRING","'newsletter\/queue'",43],",",["T_WHITESPACE"," ",43],["T_CONSTANT_ENCAPSED_STRING","'queue_id'",43],")",";",["T_WHITESPACE","\n    ",43],"}",["T_WHITESPACE","\n\n    ",44],["T_DOC_COMMENT","\/**\n     * Add subscribers to queue\n     *\n     * @param Mage_Newsletter_Model_Queue $queue\n     * @param array $subscriberIds\n     *\/",46],["T_WHITESPACE","\n    ",51],["T_PUBLIC","public",52],["T_WHITESPACE"," ",52],["T_FUNCTION","function",52],["T_WHITESPACE"," ",52],["T_STRING","addSubscribersToQueue",52],"(",["T_STRING","Mage_Newsletter_Model_Queue",52],["T_WHITESPACE"," ",52],["T_VARIABLE","$queue",52],",",["T_WHITESPACE"," ",52],["T_ARRAY","array",52],["T_WHITESPACE"," ",52],["T_VARIABLE","$subscriberIds",52],")",["T_WHITESPACE","\n    ",52],"{",["T_WHITESPACE","\n        ",53],["T_IF","if",54],["T_WHITESPACE"," ",54],"(",["T_STRING","count",54],"(",["T_VARIABLE","$subscriberIds",54],")",["T_IS_EQUAL","==",54],["T_LNUMBER","0",54],")",["T_WHITESPACE"," ",54],"{",["T_WHITESPACE","\n            ",54],["T_STRING","Mage",55],["T_DOUBLE_COLON","::",55],["T_STRING","throwException",55],"(",["T_STRING","Mage",55],["T_DOUBLE_COLON","::",55],["T_STRING","helper",55],"(",["T_CONSTANT_ENCAPSED_STRING","'newsletter'",55],")",["T_OBJECT_OPERATOR","->",55],["T_STRING","__",55],"(",["T_CONSTANT_ENCAPSED_STRING","'No subscribers selected.'",55],")",")",";",["T_WHITESPACE","\n        ",55],"}",["T_WHITESPACE","\n\n        ",56],["T_IF","if",58],["T_WHITESPACE"," ",58],"(","!",["T_VARIABLE","$queue",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","getId",58],"(",")",["T_WHITESPACE"," ",58],["T_BOOLEAN_AND","&&",58],["T_WHITESPACE"," ",58],["T_VARIABLE","$queue",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","getQueueStatus",58],"(",")",["T_IS_NOT_EQUAL","!=",58],["T_STRING","Mage_Newsletter_Model_Queue",58],["T_DOUBLE_COLON","::",58],["T_STRING","STATUS_NEVER",58],")",["T_WHITESPACE"," ",58],"{",["T_WHITESPACE","\n            ",58],["T_STRING","Mage",59],["T_DOUBLE_COLON","::",59],["T_STRING","throwException",59],"(",["T_STRING","Mage",59],["T_DOUBLE_COLON","::",59],["T_STRING","helper",59],"(",["T_CONSTANT_ENCAPSED_STRING","'newsletter'",59],")",["T_OBJECT_OPERATOR","->",59],["T_STRING","__",59],"(",["T_CONSTANT_ENCAPSED_STRING","'Invalid queue selected.'",59],")",")",";",["T_WHITESPACE","\n        ",59],"}",["T_WHITESPACE","\n\n        ",60],["T_VARIABLE","$adapter",62],["T_WHITESPACE"," ",62],"=",["T_WHITESPACE"," ",62],["T_VARIABLE","$this",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","_getWriteAdapter",62],"(",")",";",["T_WHITESPACE","\n\n        ",62],["T_VARIABLE","$select",64],["T_WHITESPACE"," ",64],"=",["T_WHITESPACE"," ",64],["T_VARIABLE","$adapter",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","select",64],"(",")",";",["T_WHITESPACE","\n        ",64],["T_VARIABLE","$select",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","from",65],"(",["T_VARIABLE","$this",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","getTable",65],"(",["T_CONSTANT_ENCAPSED_STRING","'newsletter\/queue_link'",65],")",",",["T_WHITESPACE"," ",65],["T_CONSTANT_ENCAPSED_STRING","'subscriber_id'",65],")",["T_WHITESPACE","\n            ",65],["T_OBJECT_OPERATOR","->",66],["T_STRING","where",66],"(",["T_CONSTANT_ENCAPSED_STRING","'queue_id = ?'",66],",",["T_WHITESPACE"," ",66],["T_VARIABLE","$queue",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","getId",66],"(",")",")",["T_WHITESPACE","\n            ",66],["T_OBJECT_OPERATOR","->",67],["T_STRING","where",67],"(",["T_CONSTANT_ENCAPSED_STRING","'subscriber_id in (?)'",67],",",["T_WHITESPACE"," ",67],["T_VARIABLE","$subscriberIds",67],")",";",["T_WHITESPACE","\n\n        ",67],["T_VARIABLE","$usedIds",69],["T_WHITESPACE"," ",69],"=",["T_WHITESPACE"," ",69],["T_VARIABLE","$adapter",69],["T_OBJECT_OPERATOR","->",69],["T_STRING","fetchCol",69],"(",["T_VARIABLE","$select",69],")",";",["T_WHITESPACE","\n        ",69],["T_VARIABLE","$adapter",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","beginTransaction",70],"(",")",";",["T_WHITESPACE","\n        ",70],["T_TRY","try",71],["T_WHITESPACE"," ",71],"{",["T_WHITESPACE","\n            ",71],["T_FOREACH","foreach",72],["T_WHITESPACE"," ",72],"(",["T_VARIABLE","$subscriberIds",72],["T_WHITESPACE"," ",72],["T_AS","as",72],["T_WHITESPACE"," ",72],["T_VARIABLE","$subscriberId",72],")",["T_WHITESPACE"," ",72],"{",["T_WHITESPACE","\n                ",72],["T_IF","if",73],["T_WHITESPACE"," ",73],"(",["T_STRING","in_array",73],"(",["T_VARIABLE","$subscriberId",73],",",["T_WHITESPACE"," ",73],["T_VARIABLE","$usedIds",73],")",")",["T_WHITESPACE"," ",73],"{",["T_WHITESPACE","\n                    ",73],["T_CONTINUE","continue",74],";",["T_WHITESPACE","\n                ",74],"}",["T_WHITESPACE","\n                ",75],["T_VARIABLE","$data",76],["T_WHITESPACE"," ",76],"=",["T_WHITESPACE"," ",76],["T_ARRAY","array",76],"(",")",";",["T_WHITESPACE","\n                ",76],["T_VARIABLE","$data",77],"[",["T_CONSTANT_ENCAPSED_STRING","'queue_id'",77],"]",["T_WHITESPACE"," ",77],"=",["T_WHITESPACE"," ",77],["T_VARIABLE","$queue",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","getId",77],"(",")",";",["T_WHITESPACE","\n                ",77],["T_VARIABLE","$data",78],"[",["T_CONSTANT_ENCAPSED_STRING","'subscriber_id'",78],"]",["T_WHITESPACE"," ",78],"=",["T_WHITESPACE"," ",78],["T_VARIABLE","$subscriberId",78],";",["T_WHITESPACE","\n                ",78],["T_VARIABLE","$adapter",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","insert",79],"(",["T_VARIABLE","$this",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","getTable",79],"(",["T_CONSTANT_ENCAPSED_STRING","'newsletter\/queue_link'",79],")",",",["T_WHITESPACE"," ",79],["T_VARIABLE","$data",79],")",";",["T_WHITESPACE","\n            ",79],"}",["T_WHITESPACE","\n            ",80],["T_VARIABLE","$adapter",81],["T_OBJECT_OPERATOR","->",81],["T_STRING","commit",81],"(",")",";",["T_WHITESPACE","\n        ",81],"}",["T_WHITESPACE","\n        ",82],["T_CATCH","catch",83],["T_WHITESPACE"," ",83],"(",["T_STRING","Exception",83],["T_WHITESPACE"," ",83],["T_VARIABLE","$e",83],")",["T_WHITESPACE"," ",83],"{",["T_WHITESPACE","\n            ",83],["T_VARIABLE","$adapter",84],["T_OBJECT_OPERATOR","->",84],["T_STRING","rollBack",84],"(",")",";",["T_WHITESPACE","\n        ",84],"}",["T_WHITESPACE","\n    ",85],"}",["T_WHITESPACE","\n\n    ",86],["T_DOC_COMMENT","\/**\n     * Removes subscriber from queue\n     *\n     * @param Mage_Newsletter_Model_Queue $queue\n     *\/",88],["T_WHITESPACE","\n    ",92],["T_PUBLIC","public",93],["T_WHITESPACE"," ",93],["T_FUNCTION","function",93],["T_WHITESPACE"," ",93],["T_STRING","removeSubscribersFromQueue",93],"(",["T_STRING","Mage_Newsletter_Model_Queue",93],["T_WHITESPACE"," ",93],["T_VARIABLE","$queue",93],")",["T_WHITESPACE","\n    ",93],"{",["T_WHITESPACE","\n        ",94],["T_VARIABLE","$adapter",95],["T_WHITESPACE"," ",95],"=",["T_WHITESPACE"," ",95],["T_VARIABLE","$this",95],["T_OBJECT_OPERATOR","->",95],["T_STRING","_getWriteAdapter",95],"(",")",";",["T_WHITESPACE","\n        ",95],["T_TRY","try",96],["T_WHITESPACE"," ",96],"{",["T_WHITESPACE","\n            ",96],["T_VARIABLE","$adapter",97],["T_OBJECT_OPERATOR","->",97],["T_STRING","delete",97],"(",["T_WHITESPACE","\n                ",97],["T_VARIABLE","$this",98],["T_OBJECT_OPERATOR","->",98],["T_STRING","getTable",98],"(",["T_CONSTANT_ENCAPSED_STRING","'newsletter\/queue_link'",98],")",",",["T_WHITESPACE","\n                ",98],["T_ARRAY","array",99],"(",["T_WHITESPACE","\n                    ",99],["T_CONSTANT_ENCAPSED_STRING","'queue_id = ?'",100],["T_WHITESPACE"," ",100],["T_DOUBLE_ARROW","=>",100],["T_WHITESPACE"," ",100],["T_VARIABLE","$queue",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","getId",100],"(",")",",",["T_WHITESPACE","\n                    ",100],["T_CONSTANT_ENCAPSED_STRING","'letter_sent_at IS NULL'",101],["T_WHITESPACE","\n                ",101],")",["T_WHITESPACE","\n            ",102],")",";",["T_WHITESPACE","\n\n            ",103],["T_VARIABLE","$adapter",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","commit",105],"(",")",";",["T_WHITESPACE","\n        ",105],"}",["T_WHITESPACE","\n        ",106],["T_CATCH","catch",107],["T_WHITESPACE"," ",107],"(",["T_STRING","Exception",107],["T_WHITESPACE"," ",107],["T_VARIABLE","$e",107],")",["T_WHITESPACE"," ",107],"{",["T_WHITESPACE","\n            ",107],["T_VARIABLE","$adapter",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","rollBack",108],"(",")",";",["T_WHITESPACE","\n        ",108],"}",["T_WHITESPACE","\n    ",109],"}",["T_WHITESPACE","\n\n    ",110],["T_DOC_COMMENT","\/**\n     * Links queue to store\n     *\n     * @param Mage_Newsletter_Model_Queue $queue\n     * @return Mage_Newsletter_Model_Resource_Queue\n     *\/",112],["T_WHITESPACE","\n    ",117],["T_PUBLIC","public",118],["T_WHITESPACE"," ",118],["T_FUNCTION","function",118],["T_WHITESPACE"," ",118],["T_STRING","setStores",118],"(",["T_STRING","Mage_Newsletter_Model_Queue",118],["T_WHITESPACE"," ",118],["T_VARIABLE","$queue",118],")",["T_WHITESPACE","\n    ",118],"{",["T_WHITESPACE","\n        ",119],["T_VARIABLE","$adapter",120],["T_WHITESPACE"," ",120],"=",["T_WHITESPACE"," ",120],["T_VARIABLE","$this",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","_getWriteAdapter",120],"(",")",";",["T_WHITESPACE","\n        ",120],["T_VARIABLE","$adapter",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","delete",121],"(",["T_WHITESPACE","\n            ",121],["T_VARIABLE","$this",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","getTable",122],"(",["T_CONSTANT_ENCAPSED_STRING","'newsletter\/queue_store_link'",122],")",",",["T_WHITESPACE","\n            ",122],["T_ARRAY","array",123],"(",["T_CONSTANT_ENCAPSED_STRING","'queue_id = ?'",123],["T_WHITESPACE"," ",123],["T_DOUBLE_ARROW","=>",123],["T_WHITESPACE"," ",123],["T_VARIABLE","$queue",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","getId",123],"(",")",")",["T_WHITESPACE","\n        ",123],")",";",["T_WHITESPACE","\n\n        ",124],["T_VARIABLE","$stores",126],["T_WHITESPACE"," ",126],"=",["T_WHITESPACE"," ",126],["T_VARIABLE","$queue",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","getStores",126],"(",")",";",["T_WHITESPACE","\n        ",126],["T_IF","if",127],["T_WHITESPACE"," ",127],"(","!",["T_STRING","is_array",127],"(",["T_VARIABLE","$stores",127],")",")",["T_WHITESPACE"," ",127],"{",["T_WHITESPACE","\n            ",127],["T_VARIABLE","$stores",128],["T_WHITESPACE"," ",128],"=",["T_WHITESPACE"," ",128],["T_ARRAY","array",128],"(",")",";",["T_WHITESPACE","\n        ",128],"}",["T_WHITESPACE","\n\n        ",129],["T_FOREACH","foreach",131],["T_WHITESPACE"," ",131],"(",["T_VARIABLE","$stores",131],["T_WHITESPACE"," ",131],["T_AS","as",131],["T_WHITESPACE"," ",131],["T_VARIABLE","$storeId",131],")",["T_WHITESPACE"," ",131],"{",["T_WHITESPACE","\n            ",131],["T_VARIABLE","$data",132],["T_WHITESPACE"," ",132],"=",["T_WHITESPACE"," ",132],["T_ARRAY","array",132],"(",")",";",["T_WHITESPACE","\n            ",132],["T_VARIABLE","$data",133],"[",["T_CONSTANT_ENCAPSED_STRING","'store_id'",133],"]",["T_WHITESPACE"," ",133],"=",["T_WHITESPACE"," ",133],["T_VARIABLE","$storeId",133],";",["T_WHITESPACE","\n            ",133],["T_VARIABLE","$data",134],"[",["T_CONSTANT_ENCAPSED_STRING","'queue_id'",134],"]",["T_WHITESPACE"," ",134],"=",["T_WHITESPACE"," ",134],["T_VARIABLE","$queue",134],["T_OBJECT_OPERATOR","->",134],["T_STRING","getId",134],"(",")",";",["T_WHITESPACE","\n            ",134],["T_VARIABLE","$adapter",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","insert",135],"(",["T_VARIABLE","$this",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","getTable",135],"(",["T_CONSTANT_ENCAPSED_STRING","'newsletter\/queue_store_link'",135],")",",",["T_WHITESPACE"," ",135],["T_VARIABLE","$data",135],")",";",["T_WHITESPACE","\n        ",135],"}",["T_WHITESPACE","\n        ",136],["T_VARIABLE","$this",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","removeSubscribersFromQueue",137],"(",["T_VARIABLE","$queue",137],")",";",["T_WHITESPACE","\n\n        ",137],["T_IF","if",139],["T_WHITESPACE"," ",139],"(",["T_STRING","count",139],"(",["T_VARIABLE","$stores",139],")",["T_WHITESPACE"," ",139],["T_IS_EQUAL","==",139],["T_WHITESPACE"," ",139],["T_LNUMBER","0",139],")",["T_WHITESPACE"," ",139],"{",["T_WHITESPACE","\n            ",139],["T_RETURN","return",140],["T_WHITESPACE"," ",140],["T_VARIABLE","$this",140],";",["T_WHITESPACE","\n        ",140],"}",["T_WHITESPACE","\n\n        ",141],["T_VARIABLE","$subscribers",143],["T_WHITESPACE"," ",143],"=",["T_WHITESPACE"," ",143],["T_STRING","Mage",143],["T_DOUBLE_COLON","::",143],["T_STRING","getResourceSingleton",143],"(",["T_CONSTANT_ENCAPSED_STRING","'newsletter\/subscriber_collection'",143],")",["T_WHITESPACE","\n            ",143],["T_OBJECT_OPERATOR","->",144],["T_STRING","addFieldToFilter",144],"(",["T_CONSTANT_ENCAPSED_STRING","'store_id'",144],",",["T_WHITESPACE"," ",144],["T_ARRAY","array",144],"(",["T_CONSTANT_ENCAPSED_STRING","'in'",144],["T_DOUBLE_ARROW","=>",144],["T_VARIABLE","$stores",144],")",")",["T_WHITESPACE","\n            ",144],["T_OBJECT_OPERATOR","->",145],["T_STRING","useOnlySubscribed",145],"(",")",["T_WHITESPACE","\n            ",145],["T_OBJECT_OPERATOR","->",146],["T_STRING","load",146],"(",")",";",["T_WHITESPACE","\n\n        ",146],["T_VARIABLE","$subscriberIds",148],["T_WHITESPACE"," ",148],"=",["T_WHITESPACE"," ",148],["T_ARRAY","array",148],"(",")",";",["T_WHITESPACE","\n\n        ",148],["T_FOREACH","foreach",150],["T_WHITESPACE"," ",150],"(",["T_VARIABLE","$subscribers",150],["T_WHITESPACE"," ",150],["T_AS","as",150],["T_WHITESPACE"," ",150],["T_VARIABLE","$subscriber",150],")",["T_WHITESPACE"," ",150],"{",["T_WHITESPACE","\n            ",150],["T_VARIABLE","$subscriberIds",151],"[","]",["T_WHITESPACE"," ",151],"=",["T_WHITESPACE"," ",151],["T_VARIABLE","$subscriber",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","getId",151],"(",")",";",["T_WHITESPACE","\n        ",151],"}",["T_WHITESPACE","\n\n        ",152],["T_IF","if",154],["T_WHITESPACE"," ",154],"(",["T_STRING","count",154],"(",["T_VARIABLE","$subscriberIds",154],")",["T_WHITESPACE"," ",154],">",["T_WHITESPACE"," ",154],["T_LNUMBER","0",154],")",["T_WHITESPACE"," ",154],"{",["T_WHITESPACE","\n            ",154],["T_VARIABLE","$this",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","addSubscribersToQueue",155],"(",["T_VARIABLE","$queue",155],",",["T_WHITESPACE"," ",155],["T_VARIABLE","$subscriberIds",155],")",";",["T_WHITESPACE","\n        ",155],"}",["T_WHITESPACE","\n\n        ",156],["T_RETURN","return",158],["T_WHITESPACE"," ",158],["T_VARIABLE","$this",158],";",["T_WHITESPACE","\n    ",158],"}",["T_WHITESPACE","\n\n    ",159],["T_DOC_COMMENT","\/**\n     * Returns queue linked stores\n     *\n     * @param Mage_Newsletter_Model_Queue $queue\n     * @return array\n     *\/",161],["T_WHITESPACE","\n    ",166],["T_PUBLIC","public",167],["T_WHITESPACE"," ",167],["T_FUNCTION","function",167],["T_WHITESPACE"," ",167],["T_STRING","getStores",167],"(",["T_STRING","Mage_Newsletter_Model_Queue",167],["T_WHITESPACE"," ",167],["T_VARIABLE","$queue",167],")",["T_WHITESPACE","\n    ",167],"{",["T_WHITESPACE","\n        ",168],["T_VARIABLE","$adapter",169],["T_WHITESPACE"," ",169],"=",["T_WHITESPACE"," ",169],["T_VARIABLE","$this",169],["T_OBJECT_OPERATOR","->",169],["T_STRING","_getReadAdapter",169],"(",")",";",["T_WHITESPACE","\n        ",169],["T_VARIABLE","$select",170],["T_WHITESPACE"," ",170],"=",["T_WHITESPACE"," ",170],["T_VARIABLE","$adapter",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","select",170],"(",")",["T_OBJECT_OPERATOR","->",170],["T_STRING","from",170],"(",["T_VARIABLE","$this",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","getTable",170],"(",["T_CONSTANT_ENCAPSED_STRING","'newsletter\/queue_store_link'",170],")",",",["T_WHITESPACE"," ",170],["T_CONSTANT_ENCAPSED_STRING","'store_id'",170],")",["T_WHITESPACE","\n            ",170],["T_OBJECT_OPERATOR","->",171],["T_STRING","where",171],"(",["T_CONSTANT_ENCAPSED_STRING","'queue_id = :queue_id'",171],")",";",["T_WHITESPACE","\n\n        ",171],["T_IF","if",173],["T_WHITESPACE"," ",173],"(","!","(",["T_VARIABLE","$result",173],["T_WHITESPACE"," ",173],"=",["T_WHITESPACE"," ",173],["T_VARIABLE","$adapter",173],["T_OBJECT_OPERATOR","->",173],["T_STRING","fetchCol",173],"(",["T_VARIABLE","$select",173],",",["T_WHITESPACE"," ",173],["T_ARRAY","array",173],"(",["T_CONSTANT_ENCAPSED_STRING","'queue_id'",173],["T_DOUBLE_ARROW","=>",173],["T_VARIABLE","$queue",173],["T_OBJECT_OPERATOR","->",173],["T_STRING","getId",173],"(",")",")",")",")",")",["T_WHITESPACE"," ",173],"{",["T_WHITESPACE","\n            ",173],["T_VARIABLE","$result",174],["T_WHITESPACE"," ",174],"=",["T_WHITESPACE"," ",174],["T_ARRAY","array",174],"(",")",";",["T_WHITESPACE","\n        ",174],"}",["T_WHITESPACE","\n\n        ",175],["T_RETURN","return",177],["T_WHITESPACE"," ",177],["T_VARIABLE","$result",177],";",["T_WHITESPACE","\n    ",177],"}",["T_WHITESPACE","\n\n    ",178],["T_DOC_COMMENT","\/**\n     * Saving template after saving queue action\n     *\n     * @param Mage_Core_Model_Abstract $queue\n     * @return Mage_Newsletter_Model_Resource_Queue\n     *\/",180],["T_WHITESPACE","\n    ",185],["T_PROTECTED","protected",186],["T_WHITESPACE"," ",186],["T_FUNCTION","function",186],["T_WHITESPACE"," ",186],["T_STRING","_afterSave",186],"(",["T_STRING","Mage_Core_Model_Abstract",186],["T_WHITESPACE"," ",186],["T_VARIABLE","$queue",186],")",["T_WHITESPACE","\n    ",186],"{",["T_WHITESPACE","\n        ",187],["T_IF","if",188],["T_WHITESPACE"," ",188],"(",["T_VARIABLE","$queue",188],["T_OBJECT_OPERATOR","->",188],["T_STRING","getSaveStoresFlag",188],"(",")",")",["T_WHITESPACE"," ",188],"{",["T_WHITESPACE","\n            ",188],["T_VARIABLE","$this",189],["T_OBJECT_OPERATOR","->",189],["T_STRING","setStores",189],"(",["T_VARIABLE","$queue",189],")",";",["T_WHITESPACE","\n        ",189],"}",["T_WHITESPACE","\n        ",190],["T_RETURN","return",191],["T_WHITESPACE"," ",191],["T_VARIABLE","$this",191],";",["T_WHITESPACE","\n    ",191],"}",["T_WHITESPACE","\n",192],"}",["T_WHITESPACE","\n",193]]