[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Magento\n *\n * NOTICE OF LICENSE\n *\n * This source file is subject to the Open Software License (OSL 3.0)\n * that is bundled with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/opensource.org\/licenses\/osl-3.0.php\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@magento.com so we can send you a copy immediately.\n *\n * DISCLAIMER\n *\n * Do not edit or add to this file if you wish to upgrade Magento to newer\n * versions in the future. If you wish to customize Magento for your\n * needs please refer to http:\/\/www.magento.com for more information.\n *\n * @category    Mage\n * @package     Mage_Newsletter\n * @copyright  Copyright (c) 2006-2016 X.commerce, Inc. and affiliates (http:\/\/www.magento.com)\n * @license    http:\/\/opensource.org\/licenses\/osl-3.0.php  Open Software License (OSL 3.0)\n *\/",2],["T_WHITESPACE","\n\n",25],["T_VARIABLE","$installer",27],["T_WHITESPACE"," ",27],"=",["T_WHITESPACE"," ",27],["T_VARIABLE","$this",27],";",["T_WHITESPACE","\n",27],["T_COMMENT","\/* @var $installer Mage_Core_Model_Resource_Setup *\/",28],["T_WHITESPACE","\n\n",28],["T_VARIABLE","$installer",30],["T_OBJECT_OPERATOR","->",30],["T_STRING","startSetup",30],"(",")",";",["T_WHITESPACE","\n\n",30],["T_VARIABLE","$installer",32],["T_OBJECT_OPERATOR","->",32],["T_STRING","run",32],"(","\"",["T_ENCAPSED_AND_WHITESPACE","\n\n\/*Table structure for table `newsletter_problem` *\/\n\n-- DROP TABLE IF EXISTS ",32],["T_CURLY_OPEN","{",36],["T_VARIABLE","$this",36],["T_OBJECT_OPERATOR","->",36],["T_STRING","getTable",36],"(",["T_CONSTANT_ENCAPSED_STRING","'newsletter_problem'",36],")","}",["T_ENCAPSED_AND_WHITESPACE",";\nCREATE TABLE ",36],["T_CURLY_OPEN","{",37],["T_VARIABLE","$this",37],["T_OBJECT_OPERATOR","->",37],["T_STRING","getTable",37],"(",["T_CONSTANT_ENCAPSED_STRING","'newsletter_problem'",37],")","}",["T_ENCAPSED_AND_WHITESPACE"," (\n  `problem_id` int(7) unsigned NOT NULL auto_increment,\n  `subscriber_id` int(7) unsigned default NULL,\n  `queue_id` int(7) unsigned NOT NULL default '0',\n  `problem_error_code` int(3) unsigned default '0',\n  `problem_error_text` varchar(200) default NULL,\n  PRIMARY KEY  (`problem_id`),\n  KEY `FK_PROBLEM_SUBSCRIBER` (`subscriber_id`),\n  KEY `FK_PROBLEM_QUEUE` (`queue_id`),\n  CONSTRAINT `FK_PROBLEM_QUEUE` FOREIGN KEY (`queue_id`) REFERENCES ",37],["T_CURLY_OPEN","{",46],["T_VARIABLE","$this",46],["T_OBJECT_OPERATOR","->",46],["T_STRING","getTable",46],"(",["T_CONSTANT_ENCAPSED_STRING","'newsletter_queue'",46],")","}",["T_ENCAPSED_AND_WHITESPACE"," (`queue_id`),\n  CONSTRAINT `FK_PROBLEM_SUBSCRIBER` FOREIGN KEY (`subscriber_id`) REFERENCES ",46],["T_CURLY_OPEN","{",47],["T_VARIABLE","$this",47],["T_OBJECT_OPERATOR","->",47],["T_STRING","getTable",47],"(",["T_CONSTANT_ENCAPSED_STRING","'newsletter_subscriber'",47],")","}",["T_ENCAPSED_AND_WHITESPACE"," (`subscriber_id`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8 COMMENT='Newsletter problems';\n\n\/*Data for the table `newsletter_problem` *\/\n\n\/*Table structure for table `newsletter_queue` *\/\n\n-- DROP TABLE IF EXISTS ",47],["T_CURLY_OPEN","{",54],["T_VARIABLE","$this",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","getTable",54],"(",["T_CONSTANT_ENCAPSED_STRING","'newsletter_queue'",54],")","}",["T_ENCAPSED_AND_WHITESPACE",";\nCREATE TABLE ",54],["T_CURLY_OPEN","{",55],["T_VARIABLE","$this",55],["T_OBJECT_OPERATOR","->",55],["T_STRING","getTable",55],"(",["T_CONSTANT_ENCAPSED_STRING","'newsletter_queue'",55],")","}",["T_ENCAPSED_AND_WHITESPACE"," (\n  `queue_id` int(7) unsigned NOT NULL auto_increment,\n  `template_id` int(7) unsigned NOT NULL default '0',\n  `queue_status` int(3) unsigned NOT NULL default '0',\n  `queue_start_at` datetime default NULL,\n  `queue_finish_at` datetime default NULL,\n  PRIMARY KEY  (`queue_id`),\n  KEY `FK_QUEUE_TEMPLATE` (`template_id`),\n  CONSTRAINT `FK_QUEUE_TEMPLATE` FOREIGN KEY (`template_id`) REFERENCES ",55],["T_CURLY_OPEN","{",63],["T_VARIABLE","$this",63],["T_OBJECT_OPERATOR","->",63],["T_STRING","getTable",63],"(",["T_CONSTANT_ENCAPSED_STRING","'newsletter_template'",63],")","}",["T_ENCAPSED_AND_WHITESPACE"," (`template_id`) ON DELETE CASCADE\n) ENGINE=InnoDB DEFAULT CHARSET=utf8 COMMENT='Newsletter queue';\n\n\/*Data for the table `newsletter_queue` *\/\n\n\/*Table structure for table `newsletter_queue_link` *\/\n\n-- DROP TABLE IF EXISTS ",63],["T_CURLY_OPEN","{",70],["T_VARIABLE","$this",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","getTable",70],"(",["T_CONSTANT_ENCAPSED_STRING","'newsletter_queue_link'",70],")","}",["T_ENCAPSED_AND_WHITESPACE",";\nCREATE TABLE ",70],["T_CURLY_OPEN","{",71],["T_VARIABLE","$this",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","getTable",71],"(",["T_CONSTANT_ENCAPSED_STRING","'newsletter_queue_link'",71],")","}",["T_ENCAPSED_AND_WHITESPACE"," (\n  `queue_link_id` int(9) unsigned NOT NULL auto_increment,\n  `queue_id` int(7) unsigned NOT NULL default '0',\n  `subscriber_id` int(7) unsigned NOT NULL default '0',\n  `letter_sent_at` datetime default NULL,\n  PRIMARY KEY  (`queue_link_id`),\n  KEY `FK_QUEUE_LINK_SUBSCRIBER` (`subscriber_id`),\n  KEY `FK_QUEUE_LINK_QUEUE` (`queue_id`),\n  CONSTRAINT `FK_QUEUE_LINK_QUEUE` FOREIGN KEY (`queue_id`) REFERENCES ",71],["T_CURLY_OPEN","{",79],["T_VARIABLE","$this",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","getTable",79],"(",["T_CONSTANT_ENCAPSED_STRING","'newsletter_queue'",79],")","}",["T_ENCAPSED_AND_WHITESPACE"," (`queue_id`) ON DELETE CASCADE,\n  CONSTRAINT `FK_QUEUE_LINK_SUBSCRIBER` FOREIGN KEY (`subscriber_id`) REFERENCES ",79],["T_CURLY_OPEN","{",80],["T_VARIABLE","$this",80],["T_OBJECT_OPERATOR","->",80],["T_STRING","getTable",80],"(",["T_CONSTANT_ENCAPSED_STRING","'newsletter_subscriber'",80],")","}",["T_ENCAPSED_AND_WHITESPACE"," (`subscriber_id`) ON DELETE CASCADE\n) ENGINE=InnoDB DEFAULT CHARSET=utf8 COMMENT='Newsletter queue to subscriber link';\n\n\/*Data for the table `newsletter_queue_link` *\/\n\n\/*Table structure for table `newsletter_queue_store_link` *\/\n\n-- DROP TABLE IF EXISTS ",80],["T_CURLY_OPEN","{",87],["T_VARIABLE","$this",87],["T_OBJECT_OPERATOR","->",87],["T_STRING","getTable",87],"(",["T_CONSTANT_ENCAPSED_STRING","'newsletter_queue_store_link'",87],")","}",["T_ENCAPSED_AND_WHITESPACE",";\nCREATE TABLE ",87],["T_CURLY_OPEN","{",88],["T_VARIABLE","$this",88],["T_OBJECT_OPERATOR","->",88],["T_STRING","getTable",88],"(",["T_CONSTANT_ENCAPSED_STRING","'newsletter_queue_store_link'",88],")","}",["T_ENCAPSED_AND_WHITESPACE"," (\n  `queue_id` int(7) unsigned NOT NULL default '0',\n  `store_id` smallint(5) unsigned NOT NULL default '0',\n  PRIMARY KEY  (`queue_id`,`store_id`),\n  CONSTRAINT `FK_LINK_QUEUE` FOREIGN KEY (`queue_id`) REFERENCES ",88],["T_CURLY_OPEN","{",92],["T_VARIABLE","$this",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","getTable",92],"(",["T_CONSTANT_ENCAPSED_STRING","'newsletter_queue'",92],")","}",["T_ENCAPSED_AND_WHITESPACE"," (`queue_id`) ON DELETE CASCADE\n) ENGINE=InnoDB DEFAULT CHARSET=utf8;\n\n\/*Data for the table `newsletter_queue_store_link` *\/\n\n\/*Table structure for table `newsletter_subscriber` *\/\n\n-- DROP TABLE IF EXISTS ",92],["T_CURLY_OPEN","{",99],["T_VARIABLE","$this",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","getTable",99],"(",["T_CONSTANT_ENCAPSED_STRING","'newsletter_subscriber'",99],")","}",["T_ENCAPSED_AND_WHITESPACE",";\nCREATE TABLE ",99],["T_CURLY_OPEN","{",100],["T_VARIABLE","$this",100],["T_OBJECT_OPERATOR","->",100],["T_STRING","getTable",100],"(",["T_CONSTANT_ENCAPSED_STRING","'newsletter_subscriber'",100],")","}",["T_ENCAPSED_AND_WHITESPACE"," (\n  `subscriber_id` int(7) unsigned NOT NULL auto_increment,\n  `store_id` int(3) unsigned default '0',\n  `change_status_at` datetime default NULL,\n  `customer_id` int(11) unsigned NOT NULL default '0',\n  `subscriber_email` varchar(150) character set latin1 collate latin1_general_ci NOT NULL default '',\n  `subscriber_status` int(3) NOT NULL default '0',\n  `subscriber_confirm_code` varchar(32) default 'NULL',\n  PRIMARY KEY  (`subscriber_id`),\n  KEY `FK_SUBSCRIBER_STORE` (`store_id`),\n  KEY `FK_SUBSCRIBER_CUSTOMER` (`customer_id`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8 COMMENT='Newsletter subscribers';\n\n\/*Data for the table `newsletter_subscriber` *\/\n\n\/*Table structure for table `newsletter_template` *\/\n\n-- DROP TABLE IF EXISTS ",100],["T_CURLY_OPEN","{",117],["T_VARIABLE","$this",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","getTable",117],"(",["T_CONSTANT_ENCAPSED_STRING","'newsletter_template'",117],")","}",["T_ENCAPSED_AND_WHITESPACE",";\nCREATE TABLE ",117],["T_CURLY_OPEN","{",118],["T_VARIABLE","$this",118],["T_OBJECT_OPERATOR","->",118],["T_STRING","getTable",118],"(",["T_CONSTANT_ENCAPSED_STRING","'newsletter_template'",118],")","}",["T_ENCAPSED_AND_WHITESPACE"," (\n  `template_id` int(7) unsigned NOT NULL auto_increment,\n  `template_code` varchar(150) default NULL,\n  `template_text` text,\n  `template_text_preprocessed` text,\n  `template_type` int(3) unsigned default NULL,\n  `template_subject` varchar(200) default NULL,\n  `template_sender_name` varchar(200) default NULL,\n  `template_sender_email` varchar(200) character set latin1 collate latin1_general_ci default NULL,\n  `template_actual` tinyint(1) unsigned default '1',\n  `added_at` datetime default NULL,\n  `modified_at` datetime default NULL,\n  PRIMARY KEY  (`template_id`),\n  KEY `template_actual` (`template_actual`),\n  KEY `added_at` (`added_at`),\n  KEY `modified_at` (`modified_at`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8 COMMENT='Newsletter templates';\n\n\/*Data for the table `newsletter_template` *\/\n\ninsert  into ",118],["T_CURLY_OPEN","{",138],["T_VARIABLE","$this",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","getTable",138],"(",["T_CONSTANT_ENCAPSED_STRING","'newsletter_template'",138],")","}",["T_ENCAPSED_AND_WHITESPACE","(`template_id`,`template_code`,`template_text`,`template_text_preprocessed`,`template_type`,`template_subject`,`template_sender_name`,`template_sender_email`,`template_actual`,`added_at`,`modified_at`) values (1,'Great Newsletter','This is a GREAT <br> <br> Newsletter','This is a GREAT <br> <br> Newsletter',2,'Greatness','Magento','david@varien.com',0,'2007-08-29 17:30:31','2007-08-29 17:30:31'),(2,'Great Newsletter','This is a GREAT <br> <br> Newsletter','This is a GREAT <br> <br> Newsletter',2,'Greatness','Magento','david@varien.com',0,'2007-08-29 17:30:31','2007-08-29 17:30:31'),(3,'Great Newsletter','This is a GREAT <br> <br> Newsletter',NULL,2,'Greatness','Magento','david@varien.com',1,'2007-08-29 17:30:31','2007-08-29 17:30:31');\n    ",138],"\"",")",";",["T_WHITESPACE","\n\n",139],["T_VARIABLE","$installer",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","endSetup",141],"(",")",";",["T_WHITESPACE","\n",141]]