[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Magento\n *\n * NOTICE OF LICENSE\n *\n * This source file is subject to the Open Software License (OSL 3.0)\n * that is bundled with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/opensource.org\/licenses\/osl-3.0.php\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@magento.com so we can send you a copy immediately.\n *\n * DISCLAIMER\n *\n * Do not edit or add to this file if you wish to upgrade Magento to newer\n * versions in the future. If you wish to customize Magento for your\n * needs please refer to http:\/\/www.magento.com for more information.\n *\n * @category    Mage\n * @package     Mage_Api2\n * @copyright  Copyright (c) 2006-2016 X.commerce, Inc. and affiliates (http:\/\/www.magento.com)\n * @license    http:\/\/opensource.org\/licenses\/osl-3.0.php  Open Software License (OSL 3.0)\n *\/",2],["T_WHITESPACE","\n\n",25],["T_DOC_COMMENT","\/**\n * API2 acl global rule tree\n *\n * @category   Mage\n * @package    Mage_Api2\n * @author     Magento Core Team <core@magentocommerce.com>\n *\/",27],["T_WHITESPACE","\n",33],["T_CLASS","class",34],["T_WHITESPACE"," ",34],["T_STRING","Mage_Api2_Model_Acl_Global_Rule_Tree",34],["T_WHITESPACE"," ",34],["T_EXTENDS","extends",34],["T_WHITESPACE"," ",34],["T_STRING","Mage_Core_Helper_Abstract",34],["T_WHITESPACE","\n",34],"{",["T_WHITESPACE","\n    ",35],["T_COMMENT","\/**#@+\n     * Tree types\n     *\/",36],["T_WHITESPACE","\n    ",38],["T_CONST","const",39],["T_WHITESPACE"," ",39],["T_STRING","TYPE_ATTRIBUTE",39],["T_WHITESPACE"," ",39],"=",["T_WHITESPACE"," ",39],["T_CONSTANT_ENCAPSED_STRING","'attribute'",39],";",["T_WHITESPACE","\n    ",39],["T_CONST","const",40],["T_WHITESPACE"," ",40],["T_STRING","TYPE_PRIVILEGE",40],["T_WHITESPACE"," ",40],"=",["T_WHITESPACE"," ",40],["T_CONSTANT_ENCAPSED_STRING","'privilege'",40],";",["T_WHITESPACE","\n    ",40],["T_COMMENT","\/**#@-*\/",41],["T_WHITESPACE","\n\n    ",41],["T_COMMENT","\/**#@+\n     * Names\n     *\/",43],["T_WHITESPACE","\n    ",45],["T_CONST","const",46],["T_WHITESPACE"," ",46],["T_STRING","NAME_CHILDREN",46],["T_WHITESPACE","         ",46],"=",["T_WHITESPACE"," ",46],["T_CONSTANT_ENCAPSED_STRING","'children'",46],";",["T_WHITESPACE","\n    ",46],["T_CONST","const",47],["T_WHITESPACE"," ",47],["T_STRING","NAME_PRIVILEGE",47],["T_WHITESPACE","        ",47],"=",["T_WHITESPACE"," ",47],["T_CONSTANT_ENCAPSED_STRING","'privilege'",47],";",["T_WHITESPACE","\n    ",47],["T_CONST","const",48],["T_WHITESPACE"," ",48],["T_STRING","NAME_OPERATION",48],["T_WHITESPACE","        ",48],"=",["T_WHITESPACE"," ",48],["T_CONSTANT_ENCAPSED_STRING","'operation'",48],";",["T_WHITESPACE","\n    ",48],["T_CONST","const",49],["T_WHITESPACE"," ",49],["T_STRING","NAME_ATTRIBUTE",49],["T_WHITESPACE","        ",49],"=",["T_WHITESPACE"," ",49],["T_CONSTANT_ENCAPSED_STRING","'attribute'",49],";",["T_WHITESPACE","\n    ",49],["T_CONST","const",50],["T_WHITESPACE"," ",50],["T_STRING","NAME_RESOURCE",50],["T_WHITESPACE","         ",50],"=",["T_WHITESPACE"," ",50],["T_CONSTANT_ENCAPSED_STRING","'resource'",50],";",["T_WHITESPACE","\n    ",50],["T_CONST","const",51],["T_WHITESPACE"," ",51],["T_STRING","NAME_RESOURCE_GROUPS",51],["T_WHITESPACE","  ",51],"=",["T_WHITESPACE"," ",51],["T_CONSTANT_ENCAPSED_STRING","'resource_groups'",51],";",["T_WHITESPACE","\n    ",51],["T_CONST","const",52],["T_WHITESPACE"," ",52],["T_STRING","NAME_GROUP",52],["T_WHITESPACE","            ",52],"=",["T_WHITESPACE"," ",52],["T_CONSTANT_ENCAPSED_STRING","'group'",52],";",["T_WHITESPACE","\n    ",52],["T_COMMENT","\/**#@-*\/",53],["T_WHITESPACE","\n\n    ",53],["T_DOC_COMMENT","\/**\n     * Separator for tree ID\n     *\/",55],["T_WHITESPACE","\n    ",57],["T_CONST","const",58],["T_WHITESPACE"," ",58],["T_STRING","ID_SEPARATOR",58],["T_WHITESPACE"," ",58],"=",["T_WHITESPACE"," ",58],["T_CONSTANT_ENCAPSED_STRING","'-'",58],";",["T_WHITESPACE","\n\n    ",58],["T_DOC_COMMENT","\/**\n     * Role\n     *\n     * @var Mage_Api2_Model_Acl_Global_Role\n     *\/",60],["T_WHITESPACE","\n    ",64],["T_PROTECTED","protected",65],["T_WHITESPACE"," ",65],["T_VARIABLE","$_role",65],";",["T_WHITESPACE","\n\n    ",65],["T_DOC_COMMENT","\/**\n     * Resources permissions\n     *\n     * @var array\n     *\/",67],["T_WHITESPACE","\n    ",71],["T_PROTECTED","protected",72],["T_WHITESPACE"," ",72],["T_VARIABLE","$_resourcesPermissions",72],";",["T_WHITESPACE","\n\n    ",72],["T_DOC_COMMENT","\/**\n     * Resources from config model\n     *\n     * @var Varien_Simplexml_Element\n     *\/",74],["T_WHITESPACE","\n    ",78],["T_PROTECTED","protected",79],["T_WHITESPACE"," ",79],["T_VARIABLE","$_resourcesConfig",79],";",["T_WHITESPACE","\n\n    ",79],["T_DOC_COMMENT","\/**\n     * Exist privileges\n     *\n     * @var array\n     *\/",81],["T_WHITESPACE","\n    ",85],["T_PROTECTED","protected",86],["T_WHITESPACE"," ",86],["T_VARIABLE","$_existPrivileges",86],";",["T_WHITESPACE","\n\n    ",86],["T_DOC_COMMENT","\/**\n     * Exist operations\n     *\n     * @var array\n     *\/",88],["T_WHITESPACE","\n    ",92],["T_PROTECTED","protected",93],["T_WHITESPACE"," ",93],["T_VARIABLE","$_existOperations",93],";",["T_WHITESPACE","\n\n    ",93],["T_DOC_COMMENT","\/**\n     * Tree type\n     *\n     * @var string\n     *\/",95],["T_WHITESPACE","\n    ",99],["T_PROTECTED","protected",100],["T_WHITESPACE"," ",100],["T_VARIABLE","$_type",100],";",["T_WHITESPACE","\n\n    ",100],["T_DOC_COMMENT","\/**\n     * Initialized\n     *\n     * @var bool\n     *\/",102],["T_WHITESPACE","\n    ",106],["T_PROTECTED","protected",107],["T_WHITESPACE"," ",107],["T_VARIABLE","$_initialized",107],["T_WHITESPACE"," ",107],"=",["T_WHITESPACE"," ",107],["T_STRING","false",107],";",["T_WHITESPACE","\n\n    ",107],["T_DOC_COMMENT","\/**\n     * Flag if resource has entity only attributes\n     *\n     * @var bool\n     *\/",109],["T_WHITESPACE","\n    ",113],["T_PROTECTED","protected",114],["T_WHITESPACE"," ",114],["T_VARIABLE","$_hasEntityOnlyAttributes",114],["T_WHITESPACE"," ",114],"=",["T_WHITESPACE"," ",114],["T_STRING","false",114],";",["T_WHITESPACE","\n\n    ",114],["T_DOC_COMMENT","\/**\n     * Constructor\n     *\n     * In the constructor should be set tree type: attributes or privileges.\n     * Attributes for tree with resources, operations and attributes.\n     * Privileges for tree with resources and privileges.\n     *\n     * @param array $options\n     *\/",116],["T_WHITESPACE","\n    ",124],["T_PUBLIC","public",125],["T_WHITESPACE"," ",125],["T_FUNCTION","function",125],["T_WHITESPACE"," ",125],["T_STRING","__construct",125],"(",["T_VARIABLE","$options",125],")",["T_WHITESPACE","\n    ",125],"{",["T_WHITESPACE","\n        ",126],["T_VARIABLE","$this",127],["T_OBJECT_OPERATOR","->",127],["T_STRING","_type",127],["T_WHITESPACE"," ",127],"=",["T_WHITESPACE"," ",127],["T_VARIABLE","$options",127],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",127],"]",";",["T_WHITESPACE","\n\n        ",127],["T_SWITCH","switch",129],["T_WHITESPACE"," ",129],"(",["T_VARIABLE","$this",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","_type",129],")",["T_WHITESPACE"," ",129],"{",["T_WHITESPACE","\n            ",129],["T_CASE","case",130],["T_WHITESPACE"," ",130],["T_STRING","self",130],["T_DOUBLE_COLON","::",130],["T_STRING","TYPE_ATTRIBUTE",130],":",["T_WHITESPACE","\n                ",130],["T_DOC_COMMENT","\/** @var $operationSource Mage_Api2_Model_Acl_Filter_Attribute_Operation *\/",131],["T_WHITESPACE","\n                ",131],["T_VARIABLE","$operationSource",132],["T_WHITESPACE"," ",132],"=",["T_WHITESPACE"," ",132],["T_STRING","Mage",132],["T_DOUBLE_COLON","::",132],["T_STRING","getModel",132],"(",["T_CONSTANT_ENCAPSED_STRING","'api2\/acl_filter_attribute_operation'",132],")",";",["T_WHITESPACE","\n                ",132],["T_VARIABLE","$this",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","_existOperations",133],["T_WHITESPACE"," ",133],"=",["T_WHITESPACE"," ",133],["T_VARIABLE","$operationSource",133],["T_OBJECT_OPERATOR","->",133],["T_STRING","toArray",133],"(",")",";",["T_WHITESPACE","\n                ",133],["T_BREAK","break",134],";",["T_WHITESPACE","\n\n            ",134],["T_CASE","case",136],["T_WHITESPACE"," ",136],["T_STRING","self",136],["T_DOUBLE_COLON","::",136],["T_STRING","TYPE_PRIVILEGE",136],":",["T_WHITESPACE","\n                ",136],["T_DOC_COMMENT","\/** @var $privilegeSource Mage_Api2_Model_Acl_Global_Rule_Privilege *\/",137],["T_WHITESPACE","\n                ",137],["T_VARIABLE","$privilegeSource",138],["T_WHITESPACE"," ",138],"=",["T_WHITESPACE"," ",138],["T_STRING","Mage",138],["T_DOUBLE_COLON","::",138],["T_STRING","getModel",138],"(",["T_CONSTANT_ENCAPSED_STRING","'api2\/acl_global_rule_privilege'",138],")",";",["T_WHITESPACE","\n                ",138],["T_VARIABLE","$this",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","_existPrivileges",139],["T_WHITESPACE"," ",139],"=",["T_WHITESPACE"," ",139],["T_VARIABLE","$privilegeSource",139],["T_OBJECT_OPERATOR","->",139],["T_STRING","toArray",139],"(",")",";",["T_WHITESPACE","\n                ",139],["T_BREAK","break",140],";",["T_WHITESPACE","\n\n            ",140],["T_DEFAULT","default",142],":",["T_WHITESPACE","\n                ",142],["T_THROW","throw",143],["T_WHITESPACE"," ",143],["T_NEW","new",143],["T_WHITESPACE"," ",143],["T_STRING","Exception",143],"(",["T_STRING","sprintf",143],"(",["T_CONSTANT_ENCAPSED_STRING","'Unknown tree type \"%s\".'",143],",",["T_WHITESPACE"," ",143],["T_VARIABLE","$this",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","_type",143],")",")",";",["T_WHITESPACE","\n                ",143],["T_BREAK","break",144],";",["T_WHITESPACE","\n        ",144],"}",["T_WHITESPACE","\n    ",145],"}",["T_WHITESPACE","\n\n    ",146],["T_DOC_COMMENT","\/**\n     * Initialize block\n     *\n     * @return Mage_Api2_Model_Acl_Global_Rule_Tree\n     * @throws Exception\n     *\/",148],["T_WHITESPACE","\n    ",153],["T_PROTECTED","protected",154],["T_WHITESPACE"," ",154],["T_FUNCTION","function",154],["T_WHITESPACE"," ",154],["T_STRING","_init",154],"(",")",["T_WHITESPACE","\n    ",154],"{",["T_WHITESPACE","\n        ",155],["T_IF","if",156],["T_WHITESPACE"," ",156],"(",["T_VARIABLE","$this",156],["T_OBJECT_OPERATOR","->",156],["T_STRING","_initialized",156],")",["T_WHITESPACE"," ",156],"{",["T_WHITESPACE","\n            ",156],["T_RETURN","return",157],["T_WHITESPACE"," ",157],["T_VARIABLE","$this",157],";",["T_WHITESPACE","\n        ",157],"}",["T_WHITESPACE","\n\n        ",158],["T_DOC_COMMENT","\/** @var $config Mage_Api2_Model_Config *\/",160],["T_WHITESPACE","\n        ",160],["T_VARIABLE","$config",161],["T_WHITESPACE"," ",161],"=",["T_WHITESPACE"," ",161],["T_STRING","Mage",161],["T_DOUBLE_COLON","::",161],["T_STRING","getModel",161],"(",["T_CONSTANT_ENCAPSED_STRING","'api2\/config'",161],")",";",["T_WHITESPACE","\n        ",161],["T_VARIABLE","$this",162],["T_OBJECT_OPERATOR","->",162],["T_STRING","_resourcesConfig",162],["T_WHITESPACE"," ",162],"=",["T_WHITESPACE"," ",162],["T_VARIABLE","$config",162],["T_OBJECT_OPERATOR","->",162],["T_STRING","getResourceGroups",162],"(",")",";",["T_WHITESPACE","\n\n        ",162],["T_IF","if",164],["T_WHITESPACE"," ",164],"(",["T_VARIABLE","$this",164],["T_OBJECT_OPERATOR","->",164],["T_STRING","_type",164],["T_WHITESPACE"," ",164],["T_IS_EQUAL","==",164],["T_WHITESPACE"," ",164],["T_STRING","self",164],["T_DOUBLE_COLON","::",164],["T_STRING","TYPE_ATTRIBUTE",164],["T_WHITESPACE"," ",164],["T_BOOLEAN_AND","&&",164],["T_WHITESPACE"," ",164],"!",["T_VARIABLE","$this",164],["T_OBJECT_OPERATOR","->",164],["T_STRING","_existOperations",164],")",["T_WHITESPACE"," ",164],"{",["T_WHITESPACE","\n            ",164],["T_THROW","throw",165],["T_WHITESPACE"," ",165],["T_NEW","new",165],["T_WHITESPACE"," ",165],["T_STRING","Exception",165],"(",["T_CONSTANT_ENCAPSED_STRING","'Operations is not set'",165],")",";",["T_WHITESPACE","\n        ",165],"}",["T_WHITESPACE","\n\n        ",166],["T_IF","if",168],["T_WHITESPACE"," ",168],"(",["T_VARIABLE","$this",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","_type",168],["T_WHITESPACE"," ",168],["T_IS_EQUAL","==",168],["T_WHITESPACE"," ",168],["T_STRING","self",168],["T_DOUBLE_COLON","::",168],["T_STRING","TYPE_PRIVILEGE",168],["T_WHITESPACE"," ",168],["T_BOOLEAN_AND","&&",168],["T_WHITESPACE"," ",168],"!",["T_VARIABLE","$this",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","_existPrivileges",168],")",["T_WHITESPACE"," ",168],"{",["T_WHITESPACE","\n            ",168],["T_THROW","throw",169],["T_WHITESPACE"," ",169],["T_NEW","new",169],["T_WHITESPACE"," ",169],["T_STRING","Exception",169],"(",["T_CONSTANT_ENCAPSED_STRING","'Privileges is not set.'",169],")",";",["T_WHITESPACE","\n        ",169],"}",["T_WHITESPACE","\n\n        ",170],["T_RETURN","return",172],["T_WHITESPACE"," ",172],["T_VARIABLE","$this",172],";",["T_WHITESPACE","\n    ",172],"}",["T_WHITESPACE","\n\n    ",173],["T_DOC_COMMENT","\/**\n     * Convert to array serialized post data from tree grid\n     *\n     * @return array\n     *\/",175],["T_WHITESPACE","\n    ",179],["T_PUBLIC","public",180],["T_WHITESPACE"," ",180],["T_FUNCTION","function",180],["T_WHITESPACE"," ",180],["T_STRING","getPostResources",180],"(",")",["T_WHITESPACE","\n    ",180],"{",["T_WHITESPACE","\n        ",181],["T_VARIABLE","$isAll",182],["T_WHITESPACE"," ",182],"=",["T_WHITESPACE"," ",182],["T_STRING","Mage",182],["T_DOUBLE_COLON","::",182],["T_STRING","app",182],"(",")",["T_OBJECT_OPERATOR","->",182],["T_STRING","getRequest",182],"(",")",["T_OBJECT_OPERATOR","->",182],["T_STRING","getParam",182],"(",["T_STRING","Mage_Api2_Model_Acl_Global_Rule",182],["T_DOUBLE_COLON","::",182],["T_STRING","RESOURCE_ALL",182],")",";",["T_WHITESPACE","\n        ",182],["T_VARIABLE","$allow",183],["T_WHITESPACE"," ",183],"=",["T_WHITESPACE"," ",183],["T_STRING","Mage_Api2_Model_Acl_Global_Rule_Permission",183],["T_DOUBLE_COLON","::",183],["T_STRING","TYPE_ALLOW",183],";",["T_WHITESPACE","\n        ",183],["T_IF","if",184],["T_WHITESPACE"," ",184],"(",["T_VARIABLE","$isAll",184],")",["T_WHITESPACE"," ",184],"{",["T_WHITESPACE","\n            ",184],["T_VARIABLE","$resources",185],["T_WHITESPACE"," ",185],"=",["T_WHITESPACE"," ",185],["T_ARRAY","array",185],"(",["T_WHITESPACE","\n                ",185],["T_STRING","Mage_Api2_Model_Acl_Global_Rule",186],["T_DOUBLE_COLON","::",186],["T_STRING","RESOURCE_ALL",186],["T_WHITESPACE"," ",186],["T_DOUBLE_ARROW","=>",186],["T_WHITESPACE"," ",186],["T_ARRAY","array",186],"(",["T_WHITESPACE","\n                    ",186],["T_STRING","null",187],["T_WHITESPACE"," ",187],["T_DOUBLE_ARROW","=>",187],["T_WHITESPACE"," ",187],["T_VARIABLE","$allow",187],["T_WHITESPACE","\n                ",187],")",["T_WHITESPACE","\n            ",188],")",";",["T_WHITESPACE","\n        ",189],"}",["T_WHITESPACE"," ",190],["T_ELSE","else",190],["T_WHITESPACE"," ",190],"{",["T_WHITESPACE","\n            ",190],["T_VARIABLE","$resources",191],["T_WHITESPACE"," ",191],"=",["T_WHITESPACE"," ",191],["T_ARRAY","array",191],"(",")",";",["T_WHITESPACE","\n            ",191],["T_VARIABLE","$checkedResources",192],["T_WHITESPACE"," ",192],"=",["T_WHITESPACE"," ",192],["T_STRING","explode",192],"(",["T_CONSTANT_ENCAPSED_STRING","','",192],",",["T_WHITESPACE"," ",192],["T_STRING","Mage",192],["T_DOUBLE_COLON","::",192],["T_STRING","app",192],"(",")",["T_OBJECT_OPERATOR","->",192],["T_STRING","getRequest",192],"(",")",["T_OBJECT_OPERATOR","->",192],["T_STRING","getParam",192],"(",["T_CONSTANT_ENCAPSED_STRING","'resource'",192],")",")",";",["T_WHITESPACE","\n            ",192],["T_VARIABLE","$prefixResource",193],["T_WHITESPACE","  ",193],"=",["T_WHITESPACE"," ",193],["T_STRING","self",193],["T_DOUBLE_COLON","::",193],["T_STRING","NAME_RESOURCE",193],["T_WHITESPACE"," ",193],".",["T_WHITESPACE"," ",193],["T_STRING","self",193],["T_DOUBLE_COLON","::",193],["T_STRING","ID_SEPARATOR",193],";",["T_WHITESPACE","\n            ",193],["T_SWITCH","switch",194],["T_WHITESPACE"," ",194],"(",["T_VARIABLE","$this",194],["T_OBJECT_OPERATOR","->",194],["T_STRING","_type",194],")",["T_WHITESPACE"," ",194],"{",["T_WHITESPACE","\n                ",194],["T_CASE","case",195],["T_WHITESPACE"," ",195],["T_STRING","self",195],["T_DOUBLE_COLON","::",195],["T_STRING","TYPE_PRIVILEGE",195],":",["T_WHITESPACE","\n                    ",195],["T_VARIABLE","$prefixPrivilege",196],["T_WHITESPACE"," ",196],"=",["T_WHITESPACE"," ",196],["T_STRING","self",196],["T_DOUBLE_COLON","::",196],["T_STRING","NAME_PRIVILEGE",196],["T_WHITESPACE"," ",196],".",["T_WHITESPACE"," ",196],["T_STRING","self",196],["T_DOUBLE_COLON","::",196],["T_STRING","ID_SEPARATOR",196],";",["T_WHITESPACE","\n                    ",196],["T_VARIABLE","$nameResource",197],["T_WHITESPACE"," ",197],"=",["T_WHITESPACE"," ",197],["T_STRING","null",197],";",["T_WHITESPACE","\n                    ",197],["T_FOREACH","foreach",198],["T_WHITESPACE"," ",198],"(",["T_VARIABLE","$checkedResources",198],["T_WHITESPACE"," ",198],["T_AS","as",198],["T_WHITESPACE"," ",198],["T_VARIABLE","$i",198],["T_WHITESPACE"," ",198],["T_DOUBLE_ARROW","=>",198],["T_WHITESPACE"," ",198],["T_VARIABLE","$item",198],")",["T_WHITESPACE"," ",198],"{",["T_WHITESPACE","\n                        ",198],["T_IF","if",199],["T_WHITESPACE"," ",199],"(",["T_LNUMBER","0",199],["T_WHITESPACE"," ",199],["T_IS_IDENTICAL","===",199],["T_WHITESPACE"," ",199],["T_STRING","strpos",199],"(",["T_VARIABLE","$item",199],",",["T_WHITESPACE"," ",199],["T_VARIABLE","$prefixResource",199],")",")",["T_WHITESPACE"," ",199],"{",["T_WHITESPACE","\n                            ",199],["T_VARIABLE","$nameResource",200],["T_WHITESPACE"," ",200],"=",["T_WHITESPACE"," ",200],["T_STRING","substr",200],"(",["T_VARIABLE","$item",200],",",["T_WHITESPACE"," ",200],["T_STRING","mb_strlen",200],"(",["T_VARIABLE","$prefixResource",200],",",["T_WHITESPACE"," ",200],["T_CONSTANT_ENCAPSED_STRING","'UTF-8'",200],")",")",";",["T_WHITESPACE","\n                            ",200],["T_VARIABLE","$resources",201],"[",["T_VARIABLE","$nameResource",201],"]",["T_WHITESPACE"," ",201],"=",["T_WHITESPACE"," ",201],["T_ARRAY","array",201],"(",")",";",["T_WHITESPACE","\n                        ",201],"}",["T_WHITESPACE"," ",202],["T_ELSEIF","elseif",202],["T_WHITESPACE"," ",202],"(",["T_LNUMBER","0",202],["T_WHITESPACE"," ",202],["T_IS_IDENTICAL","===",202],["T_WHITESPACE"," ",202],["T_STRING","strpos",202],"(",["T_VARIABLE","$item",202],",",["T_WHITESPACE"," ",202],["T_VARIABLE","$prefixPrivilege",202],")",")",["T_WHITESPACE"," ",202],"{",["T_WHITESPACE","\n                            ",202],["T_VARIABLE","$name",203],["T_WHITESPACE"," ",203],"=",["T_WHITESPACE"," ",203],["T_STRING","substr",203],"(",["T_VARIABLE","$item",203],",",["T_WHITESPACE"," ",203],["T_STRING","mb_strlen",203],"(",["T_VARIABLE","$prefixPrivilege",203],",",["T_WHITESPACE"," ",203],["T_CONSTANT_ENCAPSED_STRING","'UTF-8'",203],")",")",";",["T_WHITESPACE","\n                            ",203],["T_VARIABLE","$namePrivilege",204],["T_WHITESPACE"," ",204],"=",["T_WHITESPACE"," ",204],["T_STRING","str_replace",204],"(",["T_VARIABLE","$nameResource",204],["T_WHITESPACE"," ",204],".",["T_WHITESPACE"," ",204],["T_STRING","self",204],["T_DOUBLE_COLON","::",204],["T_STRING","ID_SEPARATOR",204],",",["T_WHITESPACE"," ",204],["T_CONSTANT_ENCAPSED_STRING","''",204],",",["T_WHITESPACE"," ",204],["T_VARIABLE","$name",204],")",";",["T_WHITESPACE","\n                            ",204],["T_VARIABLE","$resources",205],"[",["T_VARIABLE","$nameResource",205],"]","[",["T_VARIABLE","$namePrivilege",205],"]",["T_WHITESPACE"," ",205],"=",["T_WHITESPACE"," ",205],["T_VARIABLE","$allow",205],";",["T_WHITESPACE","\n                        ",205],"}",["T_WHITESPACE"," ",206],["T_ELSE","else",206],["T_WHITESPACE"," ",206],"{",["T_WHITESPACE","\n                            ",206],["T_UNSET","unset",207],"(",["T_VARIABLE","$checkedResources",207],"[",["T_VARIABLE","$i",207],"]",")",";",["T_WHITESPACE","\n                        ",207],"}",["T_WHITESPACE","\n                    ",208],"}",["T_WHITESPACE","\n                    ",209],["T_BREAK","break",210],";",["T_WHITESPACE","\n\n                ",210],["T_CASE","case",212],["T_WHITESPACE"," ",212],["T_STRING","self",212],["T_DOUBLE_COLON","::",212],["T_STRING","TYPE_ATTRIBUTE",212],":",["T_WHITESPACE","\n                    ",212],["T_VARIABLE","$prefixOperation",213],["T_WHITESPACE"," ",213],"=",["T_WHITESPACE"," ",213],["T_STRING","self",213],["T_DOUBLE_COLON","::",213],["T_STRING","NAME_OPERATION",213],["T_WHITESPACE"," ",213],".",["T_WHITESPACE"," ",213],["T_STRING","self",213],["T_DOUBLE_COLON","::",213],["T_STRING","ID_SEPARATOR",213],";",["T_WHITESPACE","\n                    ",213],["T_VARIABLE","$prefixAttribute",214],["T_WHITESPACE"," ",214],"=",["T_WHITESPACE"," ",214],["T_STRING","self",214],["T_DOUBLE_COLON","::",214],["T_STRING","NAME_ATTRIBUTE",214],["T_WHITESPACE"," ",214],".",["T_WHITESPACE"," ",214],["T_STRING","self",214],["T_DOUBLE_COLON","::",214],["T_STRING","ID_SEPARATOR",214],";",["T_WHITESPACE","\n                    ",214],["T_VARIABLE","$nameResource",215],["T_WHITESPACE"," ",215],"=",["T_WHITESPACE"," ",215],["T_STRING","null",215],";",["T_WHITESPACE","\n                    ",215],["T_FOREACH","foreach",216],["T_WHITESPACE"," ",216],"(",["T_VARIABLE","$checkedResources",216],["T_WHITESPACE"," ",216],["T_AS","as",216],["T_WHITESPACE"," ",216],["T_VARIABLE","$i",216],["T_WHITESPACE"," ",216],["T_DOUBLE_ARROW","=>",216],["T_WHITESPACE"," ",216],["T_VARIABLE","$item",216],")",["T_WHITESPACE"," ",216],"{",["T_WHITESPACE","\n                        ",216],["T_IF","if",217],["T_WHITESPACE"," ",217],"(",["T_LNUMBER","0",217],["T_WHITESPACE"," ",217],["T_IS_IDENTICAL","===",217],["T_WHITESPACE"," ",217],["T_STRING","strpos",217],"(",["T_VARIABLE","$item",217],",",["T_WHITESPACE"," ",217],["T_VARIABLE","$prefixResource",217],")",")",["T_WHITESPACE"," ",217],"{",["T_WHITESPACE","\n                            ",217],["T_VARIABLE","$nameResource",218],["T_WHITESPACE"," ",218],"=",["T_WHITESPACE"," ",218],["T_STRING","substr",218],"(",["T_VARIABLE","$item",218],",",["T_WHITESPACE"," ",218],["T_STRING","mb_strlen",218],"(",["T_VARIABLE","$prefixResource",218],",",["T_WHITESPACE"," ",218],["T_CONSTANT_ENCAPSED_STRING","'UTF-8'",218],")",")",";",["T_WHITESPACE","\n                            ",218],["T_VARIABLE","$resources",219],"[",["T_VARIABLE","$nameResource",219],"]",["T_WHITESPACE"," ",219],"=",["T_WHITESPACE"," ",219],["T_ARRAY","array",219],"(",")",";",["T_WHITESPACE","\n                        ",219],"}",["T_WHITESPACE"," ",220],["T_ELSEIF","elseif",220],["T_WHITESPACE"," ",220],"(",["T_LNUMBER","0",220],["T_WHITESPACE"," ",220],["T_IS_IDENTICAL","===",220],["T_WHITESPACE"," ",220],["T_STRING","strpos",220],"(",["T_VARIABLE","$item",220],",",["T_WHITESPACE"," ",220],["T_VARIABLE","$prefixOperation",220],")",")",["T_WHITESPACE"," ",220],"{",["T_WHITESPACE","\n                            ",220],["T_VARIABLE","$name",221],["T_WHITESPACE"," ",221],"=",["T_WHITESPACE"," ",221],["T_STRING","substr",221],"(",["T_VARIABLE","$item",221],",",["T_WHITESPACE"," ",221],["T_STRING","mb_strlen",221],"(",["T_VARIABLE","$prefixOperation",221],",",["T_WHITESPACE"," ",221],["T_CONSTANT_ENCAPSED_STRING","'UTF-8'",221],")",")",";",["T_WHITESPACE","\n                            ",221],["T_VARIABLE","$operationName",222],["T_WHITESPACE"," ",222],"=",["T_WHITESPACE"," ",222],["T_STRING","str_replace",222],"(",["T_VARIABLE","$nameResource",222],["T_WHITESPACE"," ",222],".",["T_WHITESPACE"," ",222],["T_STRING","self",222],["T_DOUBLE_COLON","::",222],["T_STRING","ID_SEPARATOR",222],",",["T_WHITESPACE"," ",222],["T_CONSTANT_ENCAPSED_STRING","''",222],",",["T_WHITESPACE"," ",222],["T_VARIABLE","$name",222],")",";",["T_WHITESPACE","\n                            ",222],["T_VARIABLE","$resources",223],"[",["T_VARIABLE","$nameResource",223],"]","[",["T_VARIABLE","$operationName",223],"]",["T_WHITESPACE"," ",223],"=",["T_WHITESPACE"," ",223],["T_ARRAY","array",223],"(",")",";",["T_WHITESPACE","\n                        ",223],"}",["T_WHITESPACE"," ",224],["T_ELSEIF","elseif",224],["T_WHITESPACE"," ",224],"(",["T_LNUMBER","0",224],["T_WHITESPACE"," ",224],["T_IS_IDENTICAL","===",224],["T_WHITESPACE"," ",224],["T_STRING","strpos",224],"(",["T_VARIABLE","$item",224],",",["T_WHITESPACE"," ",224],["T_VARIABLE","$prefixAttribute",224],")",")",["T_WHITESPACE"," ",224],"{",["T_WHITESPACE","\n                            ",224],["T_VARIABLE","$name",225],["T_WHITESPACE"," ",225],"=",["T_WHITESPACE"," ",225],["T_STRING","substr",225],"(",["T_VARIABLE","$item",225],",",["T_WHITESPACE"," ",225],["T_STRING","mb_strlen",225],"(",["T_VARIABLE","$prefixOperation",225],",",["T_WHITESPACE"," ",225],["T_CONSTANT_ENCAPSED_STRING","'UTF-8'",225],")",")",";",["T_WHITESPACE","\n                            ",225],["T_VARIABLE","$attributeName",226],["T_WHITESPACE"," ",226],"=",["T_WHITESPACE"," ",226],["T_STRING","str_replace",226],"(",["T_WHITESPACE","\n                                ",226],["T_VARIABLE","$nameResource",227],["T_WHITESPACE"," ",227],".",["T_WHITESPACE"," ",227],["T_STRING","self",227],["T_DOUBLE_COLON","::",227],["T_STRING","ID_SEPARATOR",227],["T_WHITESPACE"," ",227],".",["T_WHITESPACE"," ",227],["T_VARIABLE","$operationName",227],["T_WHITESPACE"," ",227],".",["T_WHITESPACE"," ",227],["T_STRING","self",227],["T_DOUBLE_COLON","::",227],["T_STRING","ID_SEPARATOR",227],",",["T_WHITESPACE","\n                                ",227],["T_CONSTANT_ENCAPSED_STRING","''",228],",",["T_WHITESPACE","\n                                ",228],["T_VARIABLE","$name",229],["T_WHITESPACE","\n                            ",229],")",";",["T_WHITESPACE","\n                            ",230],["T_VARIABLE","$resources",231],"[",["T_VARIABLE","$nameResource",231],"]","[",["T_VARIABLE","$operationName",231],"]","[",["T_VARIABLE","$attributeName",231],"]",["T_WHITESPACE"," ",231],"=",["T_WHITESPACE"," ",231],["T_VARIABLE","$allow",231],";",["T_WHITESPACE","\n                        ",231],"}",["T_WHITESPACE"," ",232],["T_ELSE","else",232],["T_WHITESPACE"," ",232],"{",["T_WHITESPACE","\n                            ",232],["T_UNSET","unset",233],"(",["T_VARIABLE","$checkedResources",233],"[",["T_VARIABLE","$i",233],"]",")",";",["T_WHITESPACE","\n                        ",233],"}",["T_WHITESPACE","\n                    ",234],"}",["T_WHITESPACE","\n                    ",235],["T_BREAK","break",236],";",["T_WHITESPACE","\n\n                ",236],["T_COMMENT","\/\/no default\n",238],["T_WHITESPACE","            ",239],"}",["T_WHITESPACE","\n        ",239],"}",["T_WHITESPACE","\n        ",240],["T_RETURN","return",241],["T_WHITESPACE"," ",241],["T_VARIABLE","$resources",241],";",["T_WHITESPACE","\n    ",241],"}",["T_WHITESPACE","\n\n    ",242],["T_DOC_COMMENT","\/**\n     * Check if everything is allowed\n     *\n     * @return boolean\n     *\/",244],["T_WHITESPACE","\n    ",248],["T_PUBLIC","public",249],["T_WHITESPACE"," ",249],["T_FUNCTION","function",249],["T_WHITESPACE"," ",249],["T_STRING","getEverythingAllowed",249],"(",")",["T_WHITESPACE","\n    ",249],"{",["T_WHITESPACE","\n        ",250],["T_VARIABLE","$this",251],["T_OBJECT_OPERATOR","->",251],["T_STRING","_init",251],"(",")",";",["T_WHITESPACE","\n\n        ",251],["T_VARIABLE","$all",253],["T_WHITESPACE"," ",253],"=",["T_WHITESPACE"," ",253],["T_STRING","Mage_Api2_Model_Acl_Global_Rule",253],["T_DOUBLE_COLON","::",253],["T_STRING","RESOURCE_ALL",253],";",["T_WHITESPACE","\n        ",253],["T_RETURN","return",254],["T_WHITESPACE"," ",254],"!",["T_EMPTY","empty",254],"(",["T_VARIABLE","$this",254],["T_OBJECT_OPERATOR","->",254],["T_STRING","_resourcesPermissions",254],"[",["T_VARIABLE","$all",254],"]",")",";",["T_WHITESPACE","\n    ",254],"}",["T_WHITESPACE","\n\n    ",255],["T_DOC_COMMENT","\/**\n     * Get tree resources\n     *\n     * @return array\n     *\/",257],["T_WHITESPACE","\n    ",261],["T_PUBLIC","public",262],["T_WHITESPACE"," ",262],["T_FUNCTION","function",262],["T_WHITESPACE"," ",262],["T_STRING","getTreeResources",262],"(",")",["T_WHITESPACE","\n    ",262],"{",["T_WHITESPACE","\n        ",263],["T_VARIABLE","$this",264],["T_OBJECT_OPERATOR","->",264],["T_STRING","_init",264],"(",")",";",["T_WHITESPACE","\n        ",264],["T_VARIABLE","$root",265],["T_WHITESPACE"," ",265],"=",["T_WHITESPACE"," ",265],["T_VARIABLE","$this",265],["T_OBJECT_OPERATOR","->",265],["T_STRING","_getTreeNode",265],"(",["T_VARIABLE","$this",265],["T_OBJECT_OPERATOR","->",265],["T_STRING","_resourcesConfig",265],",",["T_WHITESPACE"," ",265],["T_LNUMBER","1",265],")",";",["T_WHITESPACE","\n        ",265],["T_RETURN","return",266],["T_WHITESPACE"," ",266],["T_ISSET","isset",266],"(",["T_VARIABLE","$root",266],"[",["T_STRING","self",266],["T_DOUBLE_COLON","::",266],["T_STRING","NAME_CHILDREN",266],"]",")",["T_WHITESPACE"," ",266],"?",["T_WHITESPACE"," ",266],["T_VARIABLE","$root",266],"[",["T_STRING","self",266],["T_DOUBLE_COLON","::",266],["T_STRING","NAME_CHILDREN",266],"]",["T_WHITESPACE"," ",266],":",["T_WHITESPACE"," ",266],["T_ARRAY","array",266],"(",")",";",["T_WHITESPACE","\n    ",266],"}",["T_WHITESPACE","\n\n    ",267],["T_DOC_COMMENT","\/**\n     * Get tree node\n     *\n     * @param Varien_Simplexml_Element|array $node\n     * @param int $level\n     * @return array\n     *\/",269],["T_WHITESPACE","\n    ",275],["T_PROTECTED","protected",276],["T_WHITESPACE"," ",276],["T_FUNCTION","function",276],["T_WHITESPACE"," ",276],["T_STRING","_getTreeNode",276],"(",["T_VARIABLE","$node",276],",",["T_WHITESPACE"," ",276],["T_VARIABLE","$level",276],["T_WHITESPACE"," ",276],"=",["T_WHITESPACE"," ",276],["T_LNUMBER","0",276],")",["T_WHITESPACE","\n    ",276],"{",["T_WHITESPACE","\n        ",277],["T_VARIABLE","$item",278],["T_WHITESPACE"," ",278],"=",["T_WHITESPACE"," ",278],["T_ARRAY","array",278],"(",")",";",["T_WHITESPACE","\n\n        ",278],["T_VARIABLE","$isResource",280],["T_WHITESPACE"," ",280],"=",["T_WHITESPACE"," ",280],["T_STRING","false",280],";",["T_WHITESPACE","\n        ",280],["T_VARIABLE","$isGroup",281],["T_WHITESPACE","    ",281],"=",["T_WHITESPACE"," ",281],["T_STRING","false",281],";",["T_WHITESPACE","\n        ",281],["T_VARIABLE","$name",282],["T_WHITESPACE","       ",282],"=",["T_WHITESPACE"," ",282],["T_STRING","null",282],";",["T_WHITESPACE","\n\n        ",282],["T_IF","if",284],["T_WHITESPACE"," ",284],"(",["T_VARIABLE","$level",284],["T_WHITESPACE"," ",284],["T_IS_NOT_EQUAL","!=",284],["T_WHITESPACE"," ",284],["T_LNUMBER","0",284],")",["T_WHITESPACE"," ",284],"{",["T_WHITESPACE","\n            ",284],["T_VARIABLE","$name",285],["T_WHITESPACE"," ",285],"=",["T_WHITESPACE"," ",285],["T_VARIABLE","$node",285],["T_OBJECT_OPERATOR","->",285],["T_STRING","getName",285],"(",")",";",["T_WHITESPACE","\n            ",285],["T_IF","if",286],["T_WHITESPACE"," ",286],"(","!",["T_INT_CAST","(int)",286],["T_WHITESPACE"," ",286],["T_VARIABLE","$node",286],["T_OBJECT_OPERATOR","->",286],["T_STRING","resource",286],")",["T_WHITESPACE"," ",286],"{",["T_WHITESPACE","\n                ",286],["T_IF","if",287],["T_WHITESPACE"," ",287],"(",["T_STRING","self",287],["T_DOUBLE_COLON","::",287],["T_STRING","NAME_RESOURCE_GROUPS",287],["T_WHITESPACE"," ",287],["T_IS_NOT_EQUAL","!=",287],["T_WHITESPACE"," ",287],["T_VARIABLE","$name",287],")",["T_WHITESPACE"," ",287],"{",["T_WHITESPACE","\n                    ",287],["T_VARIABLE","$isGroup",288],["T_WHITESPACE"," ",288],"=",["T_WHITESPACE"," ",288],["T_STRING","true",288],";",["T_WHITESPACE","\n                    ",288],["T_VARIABLE","$item",289],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",289],"]",["T_WHITESPACE"," ",289],"=",["T_WHITESPACE"," ",289],["T_STRING","self",289],["T_DOUBLE_COLON","::",289],["T_STRING","NAME_GROUP",289],["T_WHITESPACE"," ",289],".",["T_WHITESPACE"," ",289],["T_STRING","self",289],["T_DOUBLE_COLON","::",289],["T_STRING","ID_SEPARATOR",289],["T_WHITESPACE"," ",289],".",["T_WHITESPACE"," ",289],["T_VARIABLE","$name",289],";",["T_WHITESPACE","\n                ",289],"}",["T_WHITESPACE","\n                ",290],["T_VARIABLE","$item",291],"[",["T_CONSTANT_ENCAPSED_STRING","'text'",291],"]",["T_WHITESPACE"," ",291],"=",["T_WHITESPACE"," ",291],["T_STRING_CAST","(string)",291],["T_WHITESPACE"," ",291],["T_VARIABLE","$node",291],["T_OBJECT_OPERATOR","->",291],["T_STRING","title",291],";",["T_WHITESPACE","\n            ",291],"}",["T_WHITESPACE"," ",292],["T_ELSE","else",292],["T_WHITESPACE"," ",292],"{",["T_WHITESPACE","\n                ",292],["T_VARIABLE","$isResource",293],["T_WHITESPACE"," ",293],"=",["T_WHITESPACE"," ",293],["T_STRING","true",293],";",["T_WHITESPACE","\n                ",293],["T_VARIABLE","$item",294],"[",["T_CONSTANT_ENCAPSED_STRING","'id'",294],"]",["T_WHITESPACE"," ",294],"=",["T_WHITESPACE"," ",294],["T_STRING","self",294],["T_DOUBLE_COLON","::",294],["T_STRING","NAME_RESOURCE",294],["T_WHITESPACE"," ",294],".",["T_WHITESPACE"," ",294],["T_STRING","self",294],["T_DOUBLE_COLON","::",294],["T_STRING","ID_SEPARATOR",294],["T_WHITESPACE"," ",294],".",["T_WHITESPACE"," ",294],["T_VARIABLE","$name",294],";",["T_WHITESPACE","\n                ",294],["T_VARIABLE","$item",295],"[",["T_CONSTANT_ENCAPSED_STRING","'text'",295],"]",["T_WHITESPACE"," ",295],"=",["T_WHITESPACE"," ",295],["T_VARIABLE","$this",295],["T_OBJECT_OPERATOR","->",295],["T_STRING","__",295],"(",["T_CONSTANT_ENCAPSED_STRING","'%s'",295],",",["T_WHITESPACE"," ",295],["T_STRING_CAST","(string)",295],["T_WHITESPACE"," ",295],["T_VARIABLE","$node",295],["T_OBJECT_OPERATOR","->",295],["T_STRING","title",295],")",";",["T_WHITESPACE","\n            ",295],"}",["T_WHITESPACE","\n            ",296],["T_VARIABLE","$item",297],"[",["T_CONSTANT_ENCAPSED_STRING","'checked'",297],"]",["T_WHITESPACE"," ",297],"=",["T_WHITESPACE"," ",297],["T_STRING","false",297],";",["T_WHITESPACE","\n            ",297],["T_VARIABLE","$item",298],"[",["T_CONSTANT_ENCAPSED_STRING","'sort_order'",298],"]",["T_WHITESPACE"," ",298],"=",["T_WHITESPACE"," ",298],["T_ISSET","isset",298],"(",["T_VARIABLE","$node",298],["T_OBJECT_OPERATOR","->",298],["T_STRING","sort_order",298],")",["T_WHITESPACE"," ",298],"?",["T_WHITESPACE"," ",298],["T_STRING_CAST","(string)",298],["T_WHITESPACE"," ",298],["T_VARIABLE","$node",298],["T_OBJECT_OPERATOR","->",298],["T_STRING","sort_order",298],["T_WHITESPACE"," ",298],":",["T_WHITESPACE"," ",298],["T_LNUMBER","0",298],";",["T_WHITESPACE","\n        ",298],"}",["T_WHITESPACE","\n        ",299],["T_IF","if",300],["T_WHITESPACE"," ",300],"(",["T_ISSET","isset",300],"(",["T_VARIABLE","$node",300],["T_OBJECT_OPERATOR","->",300],["T_STRING","children",300],")",")",["T_WHITESPACE"," ",300],"{",["T_WHITESPACE","\n            ",300],["T_VARIABLE","$children",301],["T_WHITESPACE"," ",301],"=",["T_WHITESPACE"," ",301],["T_VARIABLE","$node",301],["T_OBJECT_OPERATOR","->",301],["T_STRING","children",301],["T_OBJECT_OPERATOR","->",301],["T_STRING","children",301],"(",")",";",["T_WHITESPACE","\n        ",301],"}",["T_WHITESPACE"," ",302],["T_ELSE","else",302],["T_WHITESPACE"," ",302],"{",["T_WHITESPACE","\n            ",302],["T_VARIABLE","$children",303],["T_WHITESPACE"," ",303],"=",["T_WHITESPACE"," ",303],["T_VARIABLE","$node",303],["T_OBJECT_OPERATOR","->",303],["T_STRING","children",303],"(",")",";",["T_WHITESPACE","\n        ",303],"}",["T_WHITESPACE","\n\n        ",304],["T_IF","if",306],["T_WHITESPACE"," ",306],"(",["T_EMPTY","empty",306],"(",["T_VARIABLE","$children",306],")",")",["T_WHITESPACE"," ",306],"{",["T_WHITESPACE","\n            ",306],["T_DOC_COMMENT","\/**\n             * Node doesn't have any child nodes\n             * and it should be skipped\n             *\/",307],["T_WHITESPACE","\n            ",310],["T_RETURN","return",311],["T_WHITESPACE"," ",311],["T_VARIABLE","$item",311],";",["T_WHITESPACE","\n        ",311],"}",["T_WHITESPACE","\n\n        ",312],["T_VARIABLE","$item",314],"[",["T_STRING","self",314],["T_DOUBLE_COLON","::",314],["T_STRING","NAME_CHILDREN",314],"]",["T_WHITESPACE"," ",314],"=",["T_WHITESPACE"," ",314],["T_ARRAY","array",314],"(",")",";",["T_WHITESPACE","\n\n        ",314],["T_IF","if",316],["T_WHITESPACE"," ",316],"(",["T_VARIABLE","$isResource",316],")",["T_WHITESPACE"," ",316],"{",["T_WHITESPACE","\n            ",316],["T_IF","if",317],["T_WHITESPACE"," ",317],"(",["T_STRING","self",317],["T_DOUBLE_COLON","::",317],["T_STRING","TYPE_ATTRIBUTE",317],["T_WHITESPACE"," ",317],["T_IS_EQUAL","==",317],["T_WHITESPACE"," ",317],["T_VARIABLE","$this",317],["T_OBJECT_OPERATOR","->",317],["T_STRING","_type",317],")",["T_WHITESPACE"," ",317],"{",["T_WHITESPACE","\n                ",317],["T_IF","if",318],["T_WHITESPACE"," ",318],"(","!",["T_VARIABLE","$this",318],["T_OBJECT_OPERATOR","->",318],["T_STRING","_addOperations",318],"(",["T_VARIABLE","$item",318],",",["T_WHITESPACE"," ",318],["T_VARIABLE","$node",318],",",["T_WHITESPACE"," ",318],["T_VARIABLE","$name",318],")",")",["T_WHITESPACE"," ",318],"{",["T_WHITESPACE","\n                    ",318],["T_RETURN","return",319],["T_WHITESPACE"," ",319],["T_STRING","null",319],";",["T_WHITESPACE","\n                ",319],"}",["T_WHITESPACE","\n            ",320],"}",["T_WHITESPACE"," ",321],["T_ELSEIF","elseif",321],["T_WHITESPACE"," ",321],"(",["T_STRING","self",321],["T_DOUBLE_COLON","::",321],["T_STRING","TYPE_PRIVILEGE",321],["T_WHITESPACE"," ",321],["T_IS_EQUAL","==",321],["T_WHITESPACE"," ",321],["T_VARIABLE","$this",321],["T_OBJECT_OPERATOR","->",321],["T_STRING","_type",321],")",["T_WHITESPACE"," ",321],"{",["T_WHITESPACE","\n                ",321],["T_IF","if",322],["T_WHITESPACE"," ",322],"(","!",["T_VARIABLE","$this",322],["T_OBJECT_OPERATOR","->",322],["T_STRING","_addPrivileges",322],"(",["T_VARIABLE","$item",322],",",["T_WHITESPACE"," ",322],["T_VARIABLE","$node",322],",",["T_WHITESPACE"," ",322],["T_VARIABLE","$name",322],")",")",["T_WHITESPACE"," ",322],"{",["T_WHITESPACE","\n                    ",322],["T_RETURN","return",323],["T_WHITESPACE"," ",323],["T_STRING","null",323],";",["T_WHITESPACE","\n                ",323],"}",["T_WHITESPACE","\n            ",324],"}",["T_WHITESPACE","\n        ",325],"}",["T_WHITESPACE","\n\n        ",326],["T_DOC_COMMENT","\/** @var $child Varien_Simplexml_Element *\/",328],["T_WHITESPACE","\n        ",328],["T_FOREACH","foreach",329],["T_WHITESPACE"," ",329],"(",["T_VARIABLE","$children",329],["T_WHITESPACE"," ",329],["T_AS","as",329],["T_WHITESPACE"," ",329],["T_VARIABLE","$child",329],")",["T_WHITESPACE"," ",329],"{",["T_WHITESPACE","\n            ",329],["T_IF","if",330],["T_WHITESPACE"," ",330],"(",["T_VARIABLE","$child",330],["T_OBJECT_OPERATOR","->",330],["T_STRING","getName",330],"(",")",["T_WHITESPACE"," ",330],["T_IS_NOT_EQUAL","!=",330],["T_WHITESPACE"," ",330],["T_CONSTANT_ENCAPSED_STRING","'title'",330],["T_WHITESPACE"," ",330],["T_BOOLEAN_AND","&&",330],["T_WHITESPACE"," ",330],["T_VARIABLE","$child",330],["T_OBJECT_OPERATOR","->",330],["T_STRING","getName",330],"(",")",["T_WHITESPACE"," ",330],["T_IS_NOT_EQUAL","!=",330],["T_WHITESPACE"," ",330],["T_CONSTANT_ENCAPSED_STRING","'sort_order'",330],")",["T_WHITESPACE"," ",330],"{",["T_WHITESPACE","\n                ",330],["T_IF","if",331],["T_WHITESPACE"," ",331],"(","!",["T_STRING_CAST","(string)",331],["T_WHITESPACE"," ",331],["T_VARIABLE","$child",331],["T_OBJECT_OPERATOR","->",331],["T_STRING","title",331],")",["T_WHITESPACE"," ",331],"{",["T_WHITESPACE","\n                    ",331],["T_CONTINUE","continue",332],";",["T_WHITESPACE","\n                ",332],"}",["T_WHITESPACE","\n\n                ",333],["T_IF","if",335],["T_WHITESPACE"," ",335],"(",["T_VARIABLE","$level",335],["T_WHITESPACE"," ",335],["T_IS_NOT_EQUAL","!=",335],["T_WHITESPACE"," ",335],["T_LNUMBER","0",335],")",["T_WHITESPACE"," ",335],"{",["T_WHITESPACE","\n                    ",335],["T_VARIABLE","$subNode",336],["T_WHITESPACE"," ",336],"=",["T_WHITESPACE"," ",336],["T_VARIABLE","$this",336],["T_OBJECT_OPERATOR","->",336],["T_STRING","_getTreeNode",336],"(",["T_VARIABLE","$child",336],",",["T_WHITESPACE"," ",336],["T_VARIABLE","$level",336],["T_WHITESPACE"," ",336],"+",["T_WHITESPACE"," ",336],["T_LNUMBER","1",336],")",";",["T_WHITESPACE","\n                    ",336],["T_IF","if",337],["T_WHITESPACE"," ",337],"(","!",["T_VARIABLE","$subNode",337],")",["T_WHITESPACE"," ",337],"{",["T_WHITESPACE","\n                        ",337],["T_CONTINUE","continue",338],";",["T_WHITESPACE","\n                    ",338],"}",["T_WHITESPACE","\n                    ",339],["T_COMMENT","\/\/if sub-node check then check current node\n",340],["T_WHITESPACE","                    ",341],["T_IF","if",341],["T_WHITESPACE"," ",341],"(","!",["T_EMPTY","empty",341],"(",["T_VARIABLE","$subNode",341],"[",["T_CONSTANT_ENCAPSED_STRING","'checked'",341],"]",")",")",["T_WHITESPACE"," ",341],"{",["T_WHITESPACE","\n                        ",341],["T_VARIABLE","$item",342],"[",["T_CONSTANT_ENCAPSED_STRING","'checked'",342],"]",["T_WHITESPACE"," ",342],"=",["T_WHITESPACE"," ",342],["T_STRING","true",342],";",["T_WHITESPACE","\n                    ",342],"}",["T_WHITESPACE","\n                    ",343],["T_VARIABLE","$item",344],"[",["T_STRING","self",344],["T_DOUBLE_COLON","::",344],["T_STRING","NAME_CHILDREN",344],"]","[","]",["T_WHITESPACE"," ",344],"=",["T_WHITESPACE"," ",344],["T_VARIABLE","$subNode",344],";",["T_WHITESPACE","\n                ",344],"}",["T_WHITESPACE"," ",345],["T_ELSE","else",345],["T_WHITESPACE"," ",345],"{",["T_WHITESPACE","\n                    ",345],["T_VARIABLE","$item",346],["T_WHITESPACE"," ",346],"=",["T_WHITESPACE"," ",346],["T_VARIABLE","$this",346],["T_OBJECT_OPERATOR","->",346],["T_STRING","_getTreeNode",346],"(",["T_VARIABLE","$child",346],",",["T_WHITESPACE"," ",346],["T_VARIABLE","$level",346],["T_WHITESPACE"," ",346],"+",["T_WHITESPACE"," ",346],["T_LNUMBER","1",346],")",";",["T_WHITESPACE","\n                ",346],"}",["T_WHITESPACE","\n            ",347],"}",["T_WHITESPACE","\n        ",348],"}",["T_WHITESPACE","\n        ",349],["T_IF","if",350],["T_WHITESPACE"," ",350],"(","!",["T_EMPTY","empty",350],"(",["T_VARIABLE","$item",350],"[",["T_STRING","self",350],["T_DOUBLE_COLON","::",350],["T_STRING","NAME_CHILDREN",350],"]",")",")",["T_WHITESPACE"," ",350],"{",["T_WHITESPACE","\n            ",350],["T_STRING","usort",351],"(",["T_VARIABLE","$item",351],"[",["T_STRING","self",351],["T_DOUBLE_COLON","::",351],["T_STRING","NAME_CHILDREN",351],"]",",",["T_WHITESPACE"," ",351],["T_ARRAY","array",351],"(",["T_VARIABLE","$this",351],",",["T_WHITESPACE"," ",351],["T_CONSTANT_ENCAPSED_STRING","'_sortTree'",351],")",")",";",["T_WHITESPACE","\n        ",351],"}",["T_WHITESPACE"," ",352],["T_ELSEIF","elseif",352],["T_WHITESPACE"," ",352],"(",["T_VARIABLE","$isGroup",352],")",["T_WHITESPACE"," ",352],"{",["T_WHITESPACE","\n            ",352],["T_COMMENT","\/\/skip empty group\n",353],["T_WHITESPACE","            ",354],["T_RETURN","return",354],["T_WHITESPACE"," ",354],["T_STRING","null",354],";",["T_WHITESPACE","\n        ",354],"}",["T_WHITESPACE","\n        ",355],["T_RETURN","return",356],["T_WHITESPACE"," ",356],["T_VARIABLE","$item",356],";",["T_WHITESPACE","\n    ",356],"}",["T_WHITESPACE","\n\n    ",357],["T_DOC_COMMENT","\/**\n     * Add privileges\n     *\n     * @param array $item                       Tree node\n     * @param Varien_Simplexml_Element $node    XML node\n     * @param string $name                      Resource name\n     * @return bool\n     *\/",359],["T_WHITESPACE","\n    ",366],["T_PROTECTED","protected",367],["T_WHITESPACE"," ",367],["T_FUNCTION","function",367],["T_WHITESPACE"," ",367],["T_STRING","_addPrivileges",367],"(","&",["T_VARIABLE","$item",367],",",["T_WHITESPACE"," ",367],["T_STRING","Varien_Simplexml_Element",367],["T_WHITESPACE"," ",367],["T_VARIABLE","$node",367],",",["T_WHITESPACE"," ",367],["T_VARIABLE","$name",367],")",["T_WHITESPACE","\n    ",367],"{",["T_WHITESPACE","\n        ",368],["T_VARIABLE","$roleConfigNodeName",369],["T_WHITESPACE"," ",369],"=",["T_WHITESPACE"," ",369],["T_VARIABLE","$this",369],["T_OBJECT_OPERATOR","->",369],["T_STRING","getRole",369],"(",")",["T_OBJECT_OPERATOR","->",369],["T_STRING","getConfigNodeName",369],"(",")",";",["T_WHITESPACE","\n        ",369],["T_VARIABLE","$possibleList",370],["T_WHITESPACE"," ",370],"=",["T_WHITESPACE"," ",370],["T_ARRAY","array",370],"(",")",";",["T_WHITESPACE","\n        ",370],["T_IF","if",371],["T_WHITESPACE"," ",371],"(",["T_ISSET","isset",371],"(",["T_VARIABLE","$node",371],["T_OBJECT_OPERATOR","->",371],["T_STRING","privileges",371],")",")",["T_WHITESPACE"," ",371],"{",["T_WHITESPACE","\n            ",371],["T_VARIABLE","$possibleRoles",372],["T_WHITESPACE"," ",372],"=",["T_WHITESPACE"," ",372],["T_VARIABLE","$node",372],["T_OBJECT_OPERATOR","->",372],["T_STRING","privileges",372],["T_OBJECT_OPERATOR","->",372],["T_STRING","asArray",372],"(",")",";",["T_WHITESPACE","\n            ",372],["T_IF","if",373],["T_WHITESPACE"," ",373],"(",["T_ISSET","isset",373],"(",["T_VARIABLE","$possibleRoles",373],"[",["T_VARIABLE","$roleConfigNodeName",373],"]",")",")",["T_WHITESPACE"," ",373],"{",["T_WHITESPACE","\n                ",373],["T_VARIABLE","$possibleList",374],["T_WHITESPACE"," ",374],"=",["T_WHITESPACE"," ",374],["T_VARIABLE","$possibleRoles",374],"[",["T_VARIABLE","$roleConfigNodeName",374],"]",";",["T_WHITESPACE","\n            ",374],"}",["T_WHITESPACE","\n        ",375],"}",["T_WHITESPACE","\n\n        ",376],["T_IF","if",378],["T_WHITESPACE"," ",378],"(","!",["T_VARIABLE","$possibleList",378],")",["T_WHITESPACE"," ",378],"{",["T_WHITESPACE","\n            ",378],["T_RETURN","return",379],["T_WHITESPACE"," ",379],["T_STRING","false",379],";",["T_WHITESPACE","\n        ",379],"}",["T_WHITESPACE","\n\n        ",380],["T_VARIABLE","$cnt",382],["T_WHITESPACE"," ",382],"=",["T_WHITESPACE"," ",382],["T_LNUMBER","0",382],";",["T_WHITESPACE","\n        ",382],["T_FOREACH","foreach",383],["T_WHITESPACE"," ",383],"(",["T_VARIABLE","$this",383],["T_OBJECT_OPERATOR","->",383],["T_STRING","_existPrivileges",383],["T_WHITESPACE"," ",383],["T_AS","as",383],["T_WHITESPACE"," ",383],["T_VARIABLE","$key",383],["T_WHITESPACE"," ",383],["T_DOUBLE_ARROW","=>",383],["T_WHITESPACE"," ",383],["T_VARIABLE","$title",383],")",["T_WHITESPACE"," ",383],"{",["T_WHITESPACE","\n            ",383],["T_IF","if",384],["T_WHITESPACE"," ",384],"(",["T_EMPTY","empty",384],"(",["T_VARIABLE","$possibleList",384],"[",["T_VARIABLE","$key",384],"]",")",")",["T_WHITESPACE"," ",384],"{",["T_WHITESPACE","\n                ",384],["T_CONTINUE","continue",385],";",["T_WHITESPACE","\n            ",385],"}",["T_WHITESPACE","\n            ",386],["T_VARIABLE","$checked",387],["T_WHITESPACE"," ",387],"=",["T_WHITESPACE"," ",387],"!",["T_EMPTY","empty",387],"(",["T_VARIABLE","$this",387],["T_OBJECT_OPERATOR","->",387],["T_STRING","_resourcesPermissions",387],"[",["T_VARIABLE","$name",387],"]","[",["T_CONSTANT_ENCAPSED_STRING","'privileges'",387],"]","[",["T_VARIABLE","$roleConfigNodeName",387],"]","[",["T_VARIABLE","$key",387],"]",")",";",["T_WHITESPACE","\n            ",387],["T_VARIABLE","$item",388],"[",["T_CONSTANT_ENCAPSED_STRING","'checked'",388],"]",["T_WHITESPACE"," ",388],"=",["T_WHITESPACE"," ",388],["T_VARIABLE","$checked",388],["T_WHITESPACE"," ",388],"?",["T_WHITESPACE"," ",388],["T_VARIABLE","$checked",388],["T_WHITESPACE"," ",388],":",["T_WHITESPACE"," ",388],["T_VARIABLE","$item",388],"[",["T_CONSTANT_ENCAPSED_STRING","'checked'",388],"]",";",["T_WHITESPACE","\n            ",388],["T_VARIABLE","$subItem",389],["T_WHITESPACE"," ",389],"=",["T_WHITESPACE"," ",389],["T_ARRAY","array",389],"(",["T_WHITESPACE","\n                ",389],["T_CONSTANT_ENCAPSED_STRING","'id'",390],["T_WHITESPACE"," ",390],["T_DOUBLE_ARROW","=>",390],["T_WHITESPACE"," ",390],["T_STRING","self",390],["T_DOUBLE_COLON","::",390],["T_STRING","NAME_PRIVILEGE",390],["T_WHITESPACE"," ",390],".",["T_WHITESPACE"," ",390],["T_STRING","self",390],["T_DOUBLE_COLON","::",390],["T_STRING","ID_SEPARATOR",390],["T_WHITESPACE"," ",390],".",["T_WHITESPACE"," ",390],["T_VARIABLE","$name",390],["T_WHITESPACE"," ",390],".",["T_WHITESPACE"," ",390],["T_STRING","self",390],["T_DOUBLE_COLON","::",390],["T_STRING","ID_SEPARATOR",390],["T_WHITESPACE"," ",390],".",["T_WHITESPACE"," ",390],["T_VARIABLE","$key",390],",",["T_WHITESPACE","\n                ",390],["T_CONSTANT_ENCAPSED_STRING","'text'",391],["T_WHITESPACE"," ",391],["T_DOUBLE_ARROW","=>",391],["T_WHITESPACE"," ",391],["T_VARIABLE","$title",391],",",["T_WHITESPACE","\n                ",391],["T_CONSTANT_ENCAPSED_STRING","'checked'",392],["T_WHITESPACE"," ",392],["T_DOUBLE_ARROW","=>",392],["T_WHITESPACE"," ",392],["T_VARIABLE","$checked",392],",",["T_WHITESPACE","\n                ",392],["T_CONSTANT_ENCAPSED_STRING","'sort_order'",393],["T_WHITESPACE"," ",393],["T_DOUBLE_ARROW","=>",393],["T_WHITESPACE"," ",393],["T_INC","++",393],["T_VARIABLE","$cnt",393],",",["T_WHITESPACE","\n            ",393],")",";",["T_WHITESPACE","\n            ",394],["T_VARIABLE","$item",395],"[",["T_STRING","self",395],["T_DOUBLE_COLON","::",395],["T_STRING","NAME_CHILDREN",395],"]","[","]",["T_WHITESPACE"," ",395],"=",["T_WHITESPACE"," ",395],["T_VARIABLE","$subItem",395],";",["T_WHITESPACE","\n        ",395],"}",["T_WHITESPACE","\n        ",396],["T_RETURN","return",397],["T_WHITESPACE"," ",397],["T_STRING","true",397],";",["T_WHITESPACE","\n    ",397],"}",["T_WHITESPACE","\n\n    ",398],["T_DOC_COMMENT","\/**\n     * Add operation\n     *\n     * @param array $item                       Tree node\n     * @param Varien_Simplexml_Element $node    XML node\n     * @param string $name                      Resource name\n     * @return bool\n     *\/",400],["T_WHITESPACE","\n    ",407],["T_PROTECTED","protected",408],["T_WHITESPACE"," ",408],["T_FUNCTION","function",408],["T_WHITESPACE"," ",408],["T_STRING","_addOperations",408],"(","&",["T_VARIABLE","$item",408],",",["T_WHITESPACE"," ",408],["T_STRING","Varien_Simplexml_Element",408],["T_WHITESPACE"," ",408],["T_VARIABLE","$node",408],",",["T_WHITESPACE"," ",408],["T_VARIABLE","$name",408],")",["T_WHITESPACE","\n    ",408],"{",["T_WHITESPACE","\n        ",409],["T_VARIABLE","$cnt",410],["T_WHITESPACE"," ",410],"=",["T_WHITESPACE"," ",410],["T_LNUMBER","0",410],";",["T_WHITESPACE","\n        ",410],["T_FOREACH","foreach",411],["T_WHITESPACE"," ",411],"(",["T_VARIABLE","$this",411],["T_OBJECT_OPERATOR","->",411],["T_STRING","_existOperations",411],["T_WHITESPACE"," ",411],["T_AS","as",411],["T_WHITESPACE"," ",411],["T_VARIABLE","$key",411],["T_WHITESPACE"," ",411],["T_DOUBLE_ARROW","=>",411],["T_WHITESPACE"," ",411],["T_VARIABLE","$title",411],")",["T_WHITESPACE"," ",411],"{",["T_WHITESPACE","\n            ",411],["T_VARIABLE","$subItem",412],["T_WHITESPACE"," ",412],"=",["T_WHITESPACE"," ",412],["T_ARRAY","array",412],"(",["T_WHITESPACE","\n                ",412],["T_CONSTANT_ENCAPSED_STRING","'id'",413],["T_WHITESPACE"," ",413],["T_DOUBLE_ARROW","=>",413],["T_WHITESPACE"," ",413],["T_STRING","self",413],["T_DOUBLE_COLON","::",413],["T_STRING","NAME_OPERATION",413],["T_WHITESPACE"," ",413],".",["T_WHITESPACE"," ",413],["T_STRING","self",413],["T_DOUBLE_COLON","::",413],["T_STRING","ID_SEPARATOR",413],["T_WHITESPACE"," ",413],".",["T_WHITESPACE"," ",413],["T_VARIABLE","$name",413],["T_WHITESPACE"," ",413],".",["T_WHITESPACE"," ",413],["T_STRING","self",413],["T_DOUBLE_COLON","::",413],["T_STRING","ID_SEPARATOR",413],["T_WHITESPACE"," ",413],".",["T_WHITESPACE"," ",413],["T_VARIABLE","$key",413],",",["T_WHITESPACE","\n                ",413],["T_CONSTANT_ENCAPSED_STRING","'text'",414],["T_WHITESPACE"," ",414],["T_DOUBLE_ARROW","=>",414],["T_WHITESPACE"," ",414],["T_VARIABLE","$title",414],",",["T_WHITESPACE","\n                ",414],["T_CONSTANT_ENCAPSED_STRING","'checked'",415],["T_WHITESPACE"," ",415],["T_DOUBLE_ARROW","=>",415],["T_WHITESPACE"," ",415],["T_STRING","false",415],",",["T_WHITESPACE","\n                ",415],["T_CONSTANT_ENCAPSED_STRING","'sort_order'",416],["T_WHITESPACE"," ",416],["T_DOUBLE_ARROW","=>",416],["T_WHITESPACE"," ",416],["T_INC","++",416],["T_VARIABLE","$cnt",416],",",["T_WHITESPACE","\n            ",416],")",";",["T_WHITESPACE","\n\n            ",417],["T_IF","if",419],["T_WHITESPACE"," ",419],"(","!",["T_EMPTY","empty",419],"(",["T_VARIABLE","$this",419],["T_OBJECT_OPERATOR","->",419],["T_STRING","_resourcesPermissions",419],"[",["T_VARIABLE","$name",419],"]","[",["T_CONSTANT_ENCAPSED_STRING","'operations'",419],"]","[",["T_VARIABLE","$key",419],"]","[",["T_CONSTANT_ENCAPSED_STRING","'attributes'",419],"]",")",")",["T_WHITESPACE"," ",419],"{",["T_WHITESPACE","\n                ",419],["T_IF","if",420],["T_WHITESPACE"," ",420],"(","!",["T_VARIABLE","$this",420],["T_OBJECT_OPERATOR","->",420],["T_STRING","_addAttribute",420],"(",["T_VARIABLE","$subItem",420],",",["T_WHITESPACE"," ",420],["T_VARIABLE","$node",420],",",["T_WHITESPACE"," ",420],["T_VARIABLE","$name",420],",",["T_WHITESPACE"," ",420],["T_VARIABLE","$key",420],")",")",["T_WHITESPACE"," ",420],"{",["T_WHITESPACE","\n                    ",420],["T_VARIABLE","$cnt",421],["T_DEC","--",421],";",["T_WHITESPACE","\n                    ",421],["T_CONTINUE","continue",422],";",["T_WHITESPACE","\n                ",422],"}",["T_WHITESPACE","\n            ",423],"}",["T_WHITESPACE"," ",424],["T_ELSE","else",424],["T_WHITESPACE"," ",424],"{",["T_WHITESPACE","\n                ",424],["T_VARIABLE","$cnt",425],["T_DEC","--",425],";",["T_WHITESPACE","\n                ",425],["T_CONTINUE","continue",426],";",["T_WHITESPACE","\n            ",426],"}",["T_WHITESPACE","\n            ",427],["T_IF","if",428],["T_WHITESPACE"," ",428],"(","!",["T_EMPTY","empty",428],"(",["T_VARIABLE","$subItem",428],"[",["T_CONSTANT_ENCAPSED_STRING","'checked'",428],"]",")",")",["T_WHITESPACE"," ",428],"{",["T_WHITESPACE","\n                ",428],["T_VARIABLE","$item",429],"[",["T_CONSTANT_ENCAPSED_STRING","'checked'",429],"]",["T_WHITESPACE"," ",429],"=",["T_WHITESPACE"," ",429],["T_STRING","true",429],";",["T_WHITESPACE","\n            ",429],"}",["T_WHITESPACE","\n            ",430],["T_VARIABLE","$item",431],"[",["T_STRING","self",431],["T_DOUBLE_COLON","::",431],["T_STRING","NAME_CHILDREN",431],"]","[","]",["T_WHITESPACE"," ",431],"=",["T_WHITESPACE"," ",431],["T_VARIABLE","$subItem",431],";",["T_WHITESPACE","\n        ",431],"}",["T_WHITESPACE","\n        ",432],["T_IF","if",433],["T_WHITESPACE"," ",433],"(","!",["T_VARIABLE","$cnt",433],")",["T_WHITESPACE"," ",433],"{",["T_WHITESPACE","\n            ",433],["T_RETURN","return",434],["T_WHITESPACE"," ",434],["T_STRING","false",434],";",["T_WHITESPACE","\n        ",434],"}",["T_WHITESPACE","\n        ",435],["T_RETURN","return",436],["T_WHITESPACE"," ",436],["T_STRING","true",436],";",["T_WHITESPACE","\n    ",436],"}",["T_WHITESPACE","\n\n    ",437],["T_DOC_COMMENT","\/**\n     * Add privileges\n     *\n     * @param array $item Tree node\n     * @param Varien_Simplexml_Element $node XML node\n     * @param string $name Node name\n     * @param string $privilege Privilege name\n     * @return bool\n     *\/",439],["T_WHITESPACE","\n    ",447],["T_PROTECTED","protected",448],["T_WHITESPACE"," ",448],["T_FUNCTION","function",448],["T_WHITESPACE"," ",448],["T_STRING","_addAttribute",448],"(","&",["T_VARIABLE","$item",448],",",["T_WHITESPACE"," ",448],["T_STRING","Varien_Simplexml_Element",448],["T_WHITESPACE"," ",448],["T_VARIABLE","$node",448],",",["T_WHITESPACE"," ",448],["T_VARIABLE","$name",448],",",["T_WHITESPACE"," ",448],["T_VARIABLE","$privilege",448],")",["T_WHITESPACE","\n    ",448],"{",["T_WHITESPACE","\n        ",449],["T_VARIABLE","$cnt",450],["T_WHITESPACE"," ",450],"=",["T_WHITESPACE"," ",450],["T_LNUMBER","0",450],";",["T_WHITESPACE","\n        ",450],["T_FOREACH","foreach",451],["T_WHITESPACE"," ",451],"(",["T_VARIABLE","$this",451],["T_OBJECT_OPERATOR","->",451],["T_STRING","_resourcesPermissions",451],"[",["T_VARIABLE","$name",451],"]","[",["T_CONSTANT_ENCAPSED_STRING","'operations'",451],"]","[",["T_VARIABLE","$privilege",451],"]","[",["T_CONSTANT_ENCAPSED_STRING","'attributes'",451],"]",["T_WHITESPACE"," ",451],["T_AS","as",451],["T_WHITESPACE"," ",451],["T_VARIABLE","$key",451],["T_WHITESPACE"," ",451],["T_DOUBLE_ARROW","=>",451],["T_WHITESPACE"," ",451],["T_VARIABLE","$attribute",451],")",["T_WHITESPACE"," ",451],"{",["T_WHITESPACE","\n            ",451],["T_VARIABLE","$title",452],["T_WHITESPACE"," ",452],"=",["T_WHITESPACE"," ",452],["T_VARIABLE","$attribute",452],"[",["T_CONSTANT_ENCAPSED_STRING","'title'",452],"]",";",["T_WHITESPACE","\n            ",452],["T_VARIABLE","$status",453],["T_WHITESPACE"," ",453],"=",["T_WHITESPACE"," ",453],["T_VARIABLE","$attribute",453],"[",["T_CONSTANT_ENCAPSED_STRING","'status'",453],"]",";",["T_WHITESPACE","\n\n            ",453],["T_VARIABLE","$checked",455],["T_WHITESPACE"," ",455],"=",["T_WHITESPACE"," ",455],["T_VARIABLE","$status",455],["T_WHITESPACE"," ",455],["T_IS_EQUAL","==",455],["T_WHITESPACE"," ",455],["T_STRING","Mage_Api2_Model_Acl_Global_Rule_Permission",455],["T_DOUBLE_COLON","::",455],["T_STRING","TYPE_ALLOW",455],";",["T_WHITESPACE","\n            ",455],["T_VARIABLE","$item",456],"[",["T_CONSTANT_ENCAPSED_STRING","'checked'",456],"]",["T_WHITESPACE"," ",456],"=",["T_WHITESPACE"," ",456],["T_VARIABLE","$checked",456],["T_WHITESPACE"," ",456],"?",["T_WHITESPACE"," ",456],["T_VARIABLE","$checked",456],["T_WHITESPACE"," ",456],":",["T_WHITESPACE"," ",456],["T_VARIABLE","$item",456],"[",["T_CONSTANT_ENCAPSED_STRING","'checked'",456],"]",";",["T_WHITESPACE","\n            ",456],["T_VARIABLE","$item",457],"[",["T_STRING","self",457],["T_DOUBLE_COLON","::",457],["T_STRING","NAME_CHILDREN",457],"]","[","]",["T_WHITESPACE"," ",457],"=",["T_WHITESPACE"," ",457],["T_ARRAY","array",457],"(",["T_WHITESPACE","\n                ",457],["T_CONSTANT_ENCAPSED_STRING","'id'",458],["T_WHITESPACE"," ",458],["T_DOUBLE_ARROW","=>",458],["T_WHITESPACE"," ",458],["T_STRING","self",458],["T_DOUBLE_COLON","::",458],["T_STRING","NAME_ATTRIBUTE",458],["T_WHITESPACE"," ",458],".",["T_WHITESPACE"," ",458],["T_STRING","self",458],["T_DOUBLE_COLON","::",458],["T_STRING","ID_SEPARATOR",458],["T_WHITESPACE"," ",458],".",["T_WHITESPACE"," ",458],["T_VARIABLE","$name",458],["T_WHITESPACE"," ",458],".",["T_WHITESPACE"," ",458],["T_STRING","self",458],["T_DOUBLE_COLON","::",458],["T_STRING","ID_SEPARATOR",458],["T_WHITESPACE"," ",458],".",["T_WHITESPACE"," ",458],["T_VARIABLE","$privilege",458],["T_WHITESPACE","\n                    ",458],".",["T_WHITESPACE"," ",459],["T_STRING","self",459],["T_DOUBLE_COLON","::",459],["T_STRING","ID_SEPARATOR",459],["T_WHITESPACE"," ",459],".",["T_WHITESPACE"," ",459],["T_VARIABLE","$key",459],",",["T_WHITESPACE","\n                ",459],["T_CONSTANT_ENCAPSED_STRING","'text'",460],["T_WHITESPACE"," ",460],["T_DOUBLE_ARROW","=>",460],["T_WHITESPACE"," ",460],["T_VARIABLE","$title",460],",",["T_WHITESPACE","\n                ",460],["T_CONSTANT_ENCAPSED_STRING","'checked'",461],["T_WHITESPACE"," ",461],["T_DOUBLE_ARROW","=>",461],["T_WHITESPACE"," ",461],["T_VARIABLE","$checked",461],",",["T_WHITESPACE","\n                ",461],["T_CONSTANT_ENCAPSED_STRING","'sort_order'",462],["T_WHITESPACE"," ",462],["T_DOUBLE_ARROW","=>",462],["T_WHITESPACE"," ",462],["T_INC","++",462],["T_VARIABLE","$cnt",462],",",["T_WHITESPACE","\n            ",462],")",";",["T_WHITESPACE","\n        ",463],"}",["T_WHITESPACE","\n\n        ",464],["T_RETURN","return",466],["T_WHITESPACE"," ",466],["T_STRING","true",466],";",["T_WHITESPACE","\n    ",466],"}",["T_WHITESPACE","\n\n    ",467],["T_DOC_COMMENT","\/**\n     * Compare two nodes of the Resource Tree\n     *\n     * @param array $a\n     * @param array $b\n     * @return int\n     *\/",469],["T_WHITESPACE","\n    ",475],["T_PROTECTED","protected",476],["T_WHITESPACE"," ",476],["T_FUNCTION","function",476],["T_WHITESPACE"," ",476],["T_STRING","_sortTree",476],"(",["T_VARIABLE","$a",476],",",["T_WHITESPACE"," ",476],["T_VARIABLE","$b",476],")",["T_WHITESPACE","\n    ",476],"{",["T_WHITESPACE","\n        ",477],["T_RETURN","return",478],["T_WHITESPACE"," ",478],["T_VARIABLE","$a",478],"[",["T_CONSTANT_ENCAPSED_STRING","'sort_order'",478],"]",["T_WHITESPACE"," ",478],"<",["T_WHITESPACE"," ",478],["T_VARIABLE","$b",478],"[",["T_CONSTANT_ENCAPSED_STRING","'sort_order'",478],"]",["T_WHITESPACE"," ",478],"?",["T_WHITESPACE"," ",478],"-",["T_LNUMBER","1",478],["T_WHITESPACE"," ",478],":",["T_WHITESPACE"," ",478],"(",["T_VARIABLE","$a",478],"[",["T_CONSTANT_ENCAPSED_STRING","'sort_order'",478],"]",["T_WHITESPACE"," ",478],">",["T_WHITESPACE"," ",478],["T_VARIABLE","$b",478],"[",["T_CONSTANT_ENCAPSED_STRING","'sort_order'",478],"]",["T_WHITESPACE"," ",478],"?",["T_WHITESPACE"," ",478],["T_LNUMBER","1",478],["T_WHITESPACE"," ",478],":",["T_WHITESPACE"," ",478],["T_LNUMBER","0",478],")",";",["T_WHITESPACE","\n    ",478],"}",["T_WHITESPACE","\n\n    ",479],["T_DOC_COMMENT","\/**\n     * Set role\n     *\n     * @param Mage_Api2_Model_Acl_Global_Role $role\n     * @return Mage_Api2_Model_Acl_Global_Rule_Tree\n     *\/",481],["T_WHITESPACE","\n    ",486],["T_PUBLIC","public",487],["T_WHITESPACE"," ",487],["T_FUNCTION","function",487],["T_WHITESPACE"," ",487],["T_STRING","setRole",487],"(",["T_VARIABLE","$role",487],")",["T_WHITESPACE","\n    ",487],"{",["T_WHITESPACE","\n        ",488],["T_VARIABLE","$this",489],["T_OBJECT_OPERATOR","->",489],["T_STRING","_role",489],["T_WHITESPACE"," ",489],"=",["T_WHITESPACE"," ",489],["T_VARIABLE","$role",489],";",["T_WHITESPACE","\n        ",489],["T_RETURN","return",490],["T_WHITESPACE"," ",490],["T_VARIABLE","$this",490],";",["T_WHITESPACE","\n    ",490],"}",["T_WHITESPACE","\n\n    ",491],["T_DOC_COMMENT","\/**\n     * Get role\n     *\n     * @return Mage_Api2_Model_Acl_Global_Role\n     *\/",493],["T_WHITESPACE","\n    ",497],["T_PUBLIC","public",498],["T_WHITESPACE"," ",498],["T_FUNCTION","function",498],["T_WHITESPACE"," ",498],["T_STRING","getRole",498],"(",")",["T_WHITESPACE","\n    ",498],"{",["T_WHITESPACE","\n        ",499],["T_RETURN","return",500],["T_WHITESPACE"," ",500],["T_VARIABLE","$this",500],["T_OBJECT_OPERATOR","->",500],["T_STRING","_role",500],";",["T_WHITESPACE","\n    ",500],"}",["T_WHITESPACE","\n\n    ",501],["T_DOC_COMMENT","\/**\n     * Set resources permissions\n     *\n     * @param array $resourcesPermissions\n     * @return Mage_Api2_Model_Acl_Global_Rule_Tree\n     *\/",503],["T_WHITESPACE","\n    ",508],["T_PUBLIC","public",509],["T_WHITESPACE"," ",509],["T_FUNCTION","function",509],["T_WHITESPACE"," ",509],["T_STRING","setResourcesPermissions",509],"(",["T_VARIABLE","$resourcesPermissions",509],")",["T_WHITESPACE","\n    ",509],"{",["T_WHITESPACE","\n        ",510],["T_VARIABLE","$this",511],["T_OBJECT_OPERATOR","->",511],["T_STRING","_resourcesPermissions",511],["T_WHITESPACE"," ",511],"=",["T_WHITESPACE"," ",511],["T_VARIABLE","$resourcesPermissions",511],";",["T_WHITESPACE","\n        ",511],["T_RETURN","return",512],["T_WHITESPACE"," ",512],["T_VARIABLE","$this",512],";",["T_WHITESPACE","\n    ",512],"}",["T_WHITESPACE","\n\n    ",513],["T_DOC_COMMENT","\/**\n     * Get resources permissions\n     *\n     * @return array\n     *\/",515],["T_WHITESPACE","\n    ",519],["T_PUBLIC","public",520],["T_WHITESPACE"," ",520],["T_FUNCTION","function",520],["T_WHITESPACE"," ",520],["T_STRING","getResourcesPermissions",520],"(",")",["T_WHITESPACE","\n    ",520],"{",["T_WHITESPACE","\n        ",521],["T_RETURN","return",522],["T_WHITESPACE"," ",522],["T_VARIABLE","$this",522],["T_OBJECT_OPERATOR","->",522],["T_STRING","_resourcesPermissions",522],";",["T_WHITESPACE","\n    ",522],"}",["T_WHITESPACE","\n\n    ",523],["T_DOC_COMMENT","\/**\n     * Set has entity only attributes flag\n     *\n     * @param bool $hasEntityOnlyAttributes\n     * @return Mage_Api2_Model_Acl_Global_Rule_Tree\n     *\/",525],["T_WHITESPACE","\n    ",530],["T_PUBLIC","public",531],["T_WHITESPACE"," ",531],["T_FUNCTION","function",531],["T_WHITESPACE"," ",531],["T_STRING","setHasEntityOnlyAttributes",531],"(",["T_VARIABLE","$hasEntityOnlyAttributes",531],")",["T_WHITESPACE","\n    ",531],"{",["T_WHITESPACE","\n        ",532],["T_VARIABLE","$this",533],["T_OBJECT_OPERATOR","->",533],["T_STRING","_hasEntityOnlyAttributes",533],["T_WHITESPACE"," ",533],"=",["T_WHITESPACE"," ",533],["T_VARIABLE","$hasEntityOnlyAttributes",533],";",["T_WHITESPACE","\n        ",533],["T_RETURN","return",534],["T_WHITESPACE"," ",534],["T_VARIABLE","$this",534],";",["T_WHITESPACE","\n    ",534],"}",["T_WHITESPACE","\n\n    ",535],["T_DOC_COMMENT","\/**\n     * Get has entity only attributes flag\n     *\n     * @return bool\n     *\/",537],["T_WHITESPACE","\n    ",541],["T_PUBLIC","public",542],["T_WHITESPACE"," ",542],["T_FUNCTION","function",542],["T_WHITESPACE"," ",542],["T_STRING","getHasEntityOnlyAttributes",542],"(",")",["T_WHITESPACE","\n    ",542],"{",["T_WHITESPACE","\n        ",543],["T_RETURN","return",544],["T_WHITESPACE"," ",544],["T_VARIABLE","$this",544],["T_OBJECT_OPERATOR","->",544],["T_STRING","_hasEntityOnlyAttributes",544],";",["T_WHITESPACE","\n    ",544],"}",["T_WHITESPACE","\n",545],"}",["T_WHITESPACE","\n",546]]