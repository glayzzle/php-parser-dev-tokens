[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Magento\n *\n * NOTICE OF LICENSE\n *\n * This source file is subject to the Open Software License (OSL 3.0)\n * that is bundled with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/opensource.org\/licenses\/osl-3.0.php\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@magento.com so we can send you a copy immediately.\n *\n * DISCLAIMER\n *\n * Do not edit or add to this file if you wish to upgrade Magento to newer\n * versions in the future. If you wish to customize Magento for your\n * needs please refer to http:\/\/www.magento.com for more information.\n *\n * @category    Mage\n * @package     Mage_Api2\n * @copyright  Copyright (c) 2006-2016 X.commerce, Inc. and affiliates (http:\/\/www.magento.com)\n * @license    http:\/\/opensource.org\/licenses\/osl-3.0.php  Open Software License (OSL 3.0)\n *\/",2],["T_WHITESPACE","\n\n",25],["T_DOC_COMMENT","\/**\n * Webservice api2 config model\n *\n * @category   Mage\n * @package    Mage_Api2\n * @author     Magento Core Team <core@magentocommerce.com>\n *\/",27],["T_WHITESPACE","\n",33],["T_CLASS","class",34],["T_WHITESPACE"," ",34],["T_STRING","Mage_Api2_Model_Config",34],["T_WHITESPACE"," ",34],["T_EXTENDS","extends",34],["T_WHITESPACE"," ",34],["T_STRING","Varien_Simplexml_Config",34],["T_WHITESPACE","\n",34],"{",["T_WHITESPACE","\n    ",35],["T_DOC_COMMENT","\/**\n     * Node name of resource groups\n     *\/",36],["T_WHITESPACE","\n    ",38],["T_CONST","const",39],["T_WHITESPACE"," ",39],["T_STRING","NODE_RESOURCE_GROUPS",39],["T_WHITESPACE"," ",39],"=",["T_WHITESPACE"," ",39],["T_CONSTANT_ENCAPSED_STRING","'resource_groups'",39],";",["T_WHITESPACE","\n\n    ",39],["T_DOC_COMMENT","\/**\n     * Id for config cache\n     *\/",41],["T_WHITESPACE","\n    ",43],["T_CONST","const",44],["T_WHITESPACE"," ",44],["T_STRING","CACHE_ID",44],["T_WHITESPACE","  ",44],"=",["T_WHITESPACE"," ",44],["T_CONSTANT_ENCAPSED_STRING","'config_api2'",44],";",["T_WHITESPACE","\n\n    ",44],["T_DOC_COMMENT","\/**\n     * Tag name for config cache\n     *\/",46],["T_WHITESPACE","\n    ",48],["T_CONST","const",49],["T_WHITESPACE"," ",49],["T_STRING","CACHE_TAG",49],["T_WHITESPACE"," ",49],"=",["T_WHITESPACE"," ",49],["T_CONSTANT_ENCAPSED_STRING","'CONFIG_API2'",49],";",["T_WHITESPACE","\n\n    ",49],["T_DOC_COMMENT","\/**\n     * Is resources added to group\n     *\n     * @var boolean\n     *\/",51],["T_WHITESPACE","\n    ",55],["T_PROTECTED","protected",56],["T_WHITESPACE"," ",56],["T_VARIABLE","$_resourcesGrouped",56],["T_WHITESPACE"," ",56],"=",["T_WHITESPACE"," ",56],["T_STRING","false",56],";",["T_WHITESPACE","\n\n    ",56],["T_DOC_COMMENT","\/**\n     * Constructor\n     * Initializes XML for this configuration\n     * Local cache configuration\n     *\n     * @param string|Varien_Simplexml_Element|null $sourceData\n     *\/",58],["T_WHITESPACE","\n    ",64],["T_PUBLIC","public",65],["T_WHITESPACE"," ",65],["T_FUNCTION","function",65],["T_WHITESPACE"," ",65],["T_STRING","__construct",65],"(",["T_VARIABLE","$sourceData",65],["T_WHITESPACE"," ",65],"=",["T_WHITESPACE"," ",65],["T_STRING","null",65],")",["T_WHITESPACE","\n    ",65],"{",["T_WHITESPACE","\n        ",66],["T_STRING","parent",67],["T_DOUBLE_COLON","::",67],["T_STRING","__construct",67],"(",["T_VARIABLE","$sourceData",67],")",";",["T_WHITESPACE","\n\n        ",67],["T_VARIABLE","$canUserCache",69],["T_WHITESPACE"," ",69],"=",["T_WHITESPACE"," ",69],["T_STRING","Mage",69],["T_DOUBLE_COLON","::",69],["T_STRING","app",69],"(",")",["T_OBJECT_OPERATOR","->",69],["T_STRING","useCache",69],"(",["T_CONSTANT_ENCAPSED_STRING","'config'",69],")",";",["T_WHITESPACE","\n        ",69],["T_IF","if",70],["T_WHITESPACE"," ",70],"(",["T_VARIABLE","$canUserCache",70],")",["T_WHITESPACE"," ",70],"{",["T_WHITESPACE","\n            ",70],["T_VARIABLE","$this",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","setCacheId",71],"(",["T_STRING","self",71],["T_DOUBLE_COLON","::",71],["T_STRING","CACHE_ID",71],")",["T_WHITESPACE","\n                ",71],["T_OBJECT_OPERATOR","->",72],["T_STRING","setCacheTags",72],"(",["T_ARRAY","array",72],"(",["T_STRING","self",72],["T_DOUBLE_COLON","::",72],["T_STRING","CACHE_TAG",72],")",")",["T_WHITESPACE","\n                ",72],["T_OBJECT_OPERATOR","->",73],["T_STRING","setCacheChecksum",73],"(",["T_STRING","null",73],")",["T_WHITESPACE","\n                ",73],["T_OBJECT_OPERATOR","->",74],["T_STRING","setCache",74],"(",["T_STRING","Mage",74],["T_DOUBLE_COLON","::",74],["T_STRING","app",74],"(",")",["T_OBJECT_OPERATOR","->",74],["T_STRING","getCache",74],"(",")",")",";",["T_WHITESPACE","\n\n            ",74],["T_IF","if",76],["T_WHITESPACE"," ",76],"(",["T_VARIABLE","$this",76],["T_OBJECT_OPERATOR","->",76],["T_STRING","loadCache",76],"(",")",")",["T_WHITESPACE"," ",76],"{",["T_WHITESPACE","\n                ",76],["T_RETURN","return",77],";",["T_WHITESPACE","\n            ",77],"}",["T_WHITESPACE","\n        ",78],"}",["T_WHITESPACE","\n\n        ",79],["T_COMMENT","\/\/ Load data of config files api2.xml\n",81],["T_WHITESPACE","        ",82],["T_VARIABLE","$config",82],["T_WHITESPACE"," ",82],"=",["T_WHITESPACE"," ",82],["T_STRING","Mage",82],["T_DOUBLE_COLON","::",82],["T_STRING","getConfig",82],"(",")",["T_OBJECT_OPERATOR","->",82],["T_STRING","loadModulesConfiguration",82],"(",["T_CONSTANT_ENCAPSED_STRING","'api2.xml'",82],")",";",["T_WHITESPACE","\n        ",82],["T_VARIABLE","$this",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","setXml",83],"(",["T_VARIABLE","$config",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","getNode",83],"(",["T_CONSTANT_ENCAPSED_STRING","'api2'",83],")",")",";",["T_WHITESPACE","\n\n        ",83],["T_IF","if",85],["T_WHITESPACE"," ",85],"(",["T_VARIABLE","$canUserCache",85],")",["T_WHITESPACE"," ",85],"{",["T_WHITESPACE","\n            ",85],["T_VARIABLE","$this",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","saveCache",86],"(",")",";",["T_WHITESPACE","\n        ",86],"}",["T_WHITESPACE","\n    ",87],"}",["T_WHITESPACE","\n\n    ",88],["T_DOC_COMMENT","\/**\n     * Fetch all routes of the given api type from config files api2.xml\n     *\n     * @param string $apiType\n     * @throws Mage_Api2_Exception\n     * @return array\n     *\/",90],["T_WHITESPACE","\n    ",96],["T_PUBLIC","public",97],["T_WHITESPACE"," ",97],["T_FUNCTION","function",97],["T_WHITESPACE"," ",97],["T_STRING","getRoutes",97],"(",["T_VARIABLE","$apiType",97],")",["T_WHITESPACE","\n    ",97],"{",["T_WHITESPACE","\n        ",98],["T_DOC_COMMENT","\/** @var $helper Mage_Api2_Helper_Data *\/",99],["T_WHITESPACE","\n        ",99],["T_VARIABLE","$helper",100],["T_WHITESPACE"," ",100],"=",["T_WHITESPACE"," ",100],["T_STRING","Mage",100],["T_DOUBLE_COLON","::",100],["T_STRING","helper",100],"(",["T_CONSTANT_ENCAPSED_STRING","'api2'",100],")",";",["T_WHITESPACE","\n        ",100],["T_IF","if",101],["T_WHITESPACE"," ",101],"(","!",["T_VARIABLE","$helper",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","isApiTypeSupported",101],"(",["T_VARIABLE","$apiType",101],")",")",["T_WHITESPACE"," ",101],"{",["T_WHITESPACE","\n            ",101],["T_THROW","throw",102],["T_WHITESPACE"," ",102],["T_NEW","new",102],["T_WHITESPACE"," ",102],["T_STRING","Mage_Api2_Exception",102],"(",["T_STRING","sprintf",102],"(",["T_CONSTANT_ENCAPSED_STRING","'API type \"%s\" is not supported'",102],",",["T_WHITESPACE"," ",102],["T_VARIABLE","$apiType",102],")",",",["T_WHITESPACE","\n                ",102],["T_STRING","Mage_Api2_Model_Server",103],["T_DOUBLE_COLON","::",103],["T_STRING","HTTP_BAD_REQUEST",103],")",";",["T_WHITESPACE","\n        ",103],"}",["T_WHITESPACE","\n\n        ",104],["T_VARIABLE","$routes",106],["T_WHITESPACE"," ",106],"=",["T_WHITESPACE"," ",106],["T_ARRAY","array",106],"(",")",";",["T_WHITESPACE","\n        ",106],["T_FOREACH","foreach",107],["T_WHITESPACE"," ",107],"(",["T_VARIABLE","$this",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","getResources",107],"(",")",["T_WHITESPACE"," ",107],["T_AS","as",107],["T_WHITESPACE"," ",107],["T_VARIABLE","$resourceKey",107],["T_WHITESPACE"," ",107],["T_DOUBLE_ARROW","=>",107],["T_WHITESPACE"," ",107],["T_VARIABLE","$resource",107],")",["T_WHITESPACE"," ",107],"{",["T_WHITESPACE","\n            ",107],["T_IF","if",108],["T_WHITESPACE"," ",108],"(","!",["T_VARIABLE","$resource",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","routes",108],")",["T_WHITESPACE"," ",108],"{",["T_WHITESPACE","\n                ",108],["T_CONTINUE","continue",109],";",["T_WHITESPACE","\n            ",109],"}",["T_WHITESPACE","\n\n            ",110],["T_DOC_COMMENT","\/** @var $routes Varien_Simplexml_Element *\/",112],["T_WHITESPACE","\n            ",112],["T_FOREACH","foreach",113],["T_WHITESPACE"," ",113],"(",["T_VARIABLE","$resource",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","routes",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","children",113],"(",")",["T_WHITESPACE"," ",113],["T_AS","as",113],["T_WHITESPACE"," ",113],["T_VARIABLE","$route",113],")",["T_WHITESPACE"," ",113],"{",["T_WHITESPACE","\n                ",113],["T_VARIABLE","$arguments",114],["T_WHITESPACE"," ",114],"=",["T_WHITESPACE"," ",114],["T_ARRAY","array",114],"(",["T_WHITESPACE","\n                    ",114],["T_STRING","Mage_Api2_Model_Route_Abstract",115],["T_DOUBLE_COLON","::",115],["T_STRING","PARAM_ROUTE",115],["T_WHITESPACE","    ",115],["T_DOUBLE_ARROW","=>",115],["T_WHITESPACE"," ",115],["T_STRING_CAST","(string)",115],["T_VARIABLE","$route",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","route",115],",",["T_WHITESPACE","\n                    ",115],["T_STRING","Mage_Api2_Model_Route_Abstract",116],["T_DOUBLE_COLON","::",116],["T_STRING","PARAM_DEFAULTS",116],["T_WHITESPACE"," ",116],["T_DOUBLE_ARROW","=>",116],["T_WHITESPACE"," ",116],["T_ARRAY","array",116],"(",["T_WHITESPACE","\n                        ",116],["T_CONSTANT_ENCAPSED_STRING","'model'",117],["T_WHITESPACE","       ",117],["T_DOUBLE_ARROW","=>",117],["T_WHITESPACE"," ",117],["T_STRING_CAST","(string)",117],["T_VARIABLE","$resource",117],["T_OBJECT_OPERATOR","->",117],["T_STRING","model",117],",",["T_WHITESPACE","\n                        ",117],["T_CONSTANT_ENCAPSED_STRING","'type'",118],["T_WHITESPACE","        ",118],["T_DOUBLE_ARROW","=>",118],["T_WHITESPACE"," ",118],["T_STRING_CAST","(string)",118],["T_VARIABLE","$resourceKey",118],",",["T_WHITESPACE","\n                        ",118],["T_CONSTANT_ENCAPSED_STRING","'action_type'",119],["T_WHITESPACE"," ",119],["T_DOUBLE_ARROW","=>",119],["T_WHITESPACE"," ",119],["T_STRING_CAST","(string)",119],["T_VARIABLE","$route",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","action_type",119],["T_WHITESPACE","\n                    ",119],")",["T_WHITESPACE","\n                ",120],")",";",["T_WHITESPACE","\n\n                ",121],["T_VARIABLE","$routes",123],"[","]",["T_WHITESPACE"," ",123],"=",["T_WHITESPACE"," ",123],["T_STRING","Mage",123],["T_DOUBLE_COLON","::",123],["T_STRING","getModel",123],"(",["T_CONSTANT_ENCAPSED_STRING","'api2\/route_'",123],["T_WHITESPACE"," ",123],".",["T_WHITESPACE"," ",123],["T_VARIABLE","$apiType",123],",",["T_WHITESPACE"," ",123],["T_VARIABLE","$arguments",123],")",";",["T_WHITESPACE","\n            ",123],"}",["T_WHITESPACE","\n        ",124],"}",["T_WHITESPACE","\n        ",125],["T_RETURN","return",126],["T_WHITESPACE"," ",126],["T_VARIABLE","$routes",126],";",["T_WHITESPACE","\n    ",126],"}",["T_WHITESPACE","\n\n    ",127],["T_DOC_COMMENT","\/**\n     * Retrieve all resources from config files api2.xml\n     *\n     * @return Varien_Simplexml_Element\n     *\/",129],["T_WHITESPACE","\n    ",133],["T_PUBLIC","public",134],["T_WHITESPACE"," ",134],["T_FUNCTION","function",134],["T_WHITESPACE"," ",134],["T_STRING","getResources",134],"(",")",["T_WHITESPACE","\n    ",134],"{",["T_WHITESPACE","\n        ",135],["T_RETURN","return",136],["T_WHITESPACE"," ",136],["T_VARIABLE","$this",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","getNode",136],"(",["T_CONSTANT_ENCAPSED_STRING","'resources'",136],")",["T_OBJECT_OPERATOR","->",136],["T_STRING","children",136],"(",")",";",["T_WHITESPACE","\n    ",136],"}",["T_WHITESPACE","\n\n    ",137],["T_DOC_COMMENT","\/**\n     * Retrieve all resources types\n     *\n     * @return array\n     *\/",139],["T_WHITESPACE","\n    ",143],["T_PUBLIC","public",144],["T_WHITESPACE"," ",144],["T_FUNCTION","function",144],["T_WHITESPACE"," ",144],["T_STRING","getResourcesTypes",144],"(",")",["T_WHITESPACE","\n    ",144],"{",["T_WHITESPACE","\n        ",145],["T_VARIABLE","$list",146],["T_WHITESPACE"," ",146],"=",["T_WHITESPACE"," ",146],["T_ARRAY","array",146],"(",")",";",["T_WHITESPACE","\n\n        ",146],["T_FOREACH","foreach",148],["T_WHITESPACE"," ",148],"(",["T_VARIABLE","$this",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","getResources",148],"(",")",["T_WHITESPACE"," ",148],["T_AS","as",148],["T_WHITESPACE"," ",148],["T_VARIABLE","$resourceType",148],["T_WHITESPACE"," ",148],["T_DOUBLE_ARROW","=>",148],["T_WHITESPACE"," ",148],["T_VARIABLE","$resourceCfg",148],")",["T_WHITESPACE"," ",148],"{",["T_WHITESPACE","\n            ",148],["T_VARIABLE","$list",149],"[","]",["T_WHITESPACE"," ",149],"=",["T_WHITESPACE"," ",149],["T_STRING_CAST","(string)",149],["T_WHITESPACE"," ",149],["T_VARIABLE","$resourceType",149],";",["T_WHITESPACE","\n        ",149],"}",["T_WHITESPACE","\n        ",150],["T_RETURN","return",151],["T_WHITESPACE"," ",151],["T_VARIABLE","$list",151],";",["T_WHITESPACE","\n    ",151],"}",["T_WHITESPACE","\n\n    ",152],["T_DOC_COMMENT","\/**\n     * Retrieve all resource groups from config files api2.xml\n     *\n     * @return Varien_Simplexml_Element|boolean\n     *\/",154],["T_WHITESPACE","\n    ",158],["T_PUBLIC","public",159],["T_WHITESPACE"," ",159],["T_FUNCTION","function",159],["T_WHITESPACE"," ",159],["T_STRING","getResourceGroups",159],"(",")",["T_WHITESPACE","\n    ",159],"{",["T_WHITESPACE","\n        ",160],["T_VARIABLE","$groups",161],["T_WHITESPACE"," ",161],"=",["T_WHITESPACE"," ",161],["T_VARIABLE","$this",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","getXpath",161],"(",["T_CONSTANT_ENCAPSED_STRING","'\/\/'",161],["T_WHITESPACE"," ",161],".",["T_WHITESPACE"," ",161],["T_STRING","self",161],["T_DOUBLE_COLON","::",161],["T_STRING","NODE_RESOURCE_GROUPS",161],")",";",["T_WHITESPACE","\n        ",161],["T_IF","if",162],["T_WHITESPACE"," ",162],"(","!",["T_VARIABLE","$groups",162],")",["T_WHITESPACE"," ",162],"{",["T_WHITESPACE","\n            ",162],["T_RETURN","return",163],["T_WHITESPACE"," ",163],["T_STRING","false",163],";",["T_WHITESPACE","\n        ",163],"}",["T_WHITESPACE","\n\n        ",164],["T_DOC_COMMENT","\/** @var $groups Varien_Simplexml_Element *\/",166],["T_WHITESPACE","\n        ",166],["T_VARIABLE","$groups",167],["T_WHITESPACE"," ",167],"=",["T_WHITESPACE"," ",167],["T_VARIABLE","$groups",167],"[",["T_LNUMBER","0",167],"]",";",["T_WHITESPACE","\n\n        ",167],["T_IF","if",169],["T_WHITESPACE"," ",169],"(","!",["T_VARIABLE","$this",169],["T_OBJECT_OPERATOR","->",169],["T_STRING","_resourcesGrouped",169],")",["T_WHITESPACE"," ",169],"{",["T_WHITESPACE","\n            ",169],["T_DOC_COMMENT","\/** @var $node Varien_Simplexml_Element *\/",170],["T_WHITESPACE","\n            ",170],["T_FOREACH","foreach",171],["T_WHITESPACE"," ",171],"(",["T_VARIABLE","$this",171],["T_OBJECT_OPERATOR","->",171],["T_STRING","getResources",171],"(",")",["T_WHITESPACE"," ",171],["T_AS","as",171],["T_WHITESPACE"," ",171],["T_VARIABLE","$node",171],")",["T_WHITESPACE"," ",171],"{",["T_WHITESPACE","\n                ",171],["T_VARIABLE","$result",172],["T_WHITESPACE"," ",172],"=",["T_WHITESPACE"," ",172],["T_VARIABLE","$node",172],["T_OBJECT_OPERATOR","->",172],["T_STRING","xpath",172],"(",["T_CONSTANT_ENCAPSED_STRING","'group'",172],")",";",["T_WHITESPACE","\n                ",172],["T_IF","if",173],["T_WHITESPACE"," ",173],"(","!",["T_VARIABLE","$result",173],")",["T_WHITESPACE"," ",173],"{",["T_WHITESPACE","\n                    ",173],["T_CONTINUE","continue",174],";",["T_WHITESPACE","\n                ",174],"}",["T_WHITESPACE","\n                ",175],["T_VARIABLE","$groupName",176],["T_WHITESPACE"," ",176],"=",["T_WHITESPACE"," ",176],["T_STRING_CAST","(string)",176],["T_WHITESPACE"," ",176],["T_VARIABLE","$result",176],"[",["T_LNUMBER","0",176],"]",";",["T_WHITESPACE","\n                ",176],["T_IF","if",177],["T_WHITESPACE"," ",177],"(",["T_VARIABLE","$groupName",177],")",["T_WHITESPACE"," ",177],"{",["T_WHITESPACE","\n                    ",177],["T_VARIABLE","$result",178],["T_WHITESPACE"," ",178],"=",["T_WHITESPACE"," ",178],["T_VARIABLE","$groups",178],["T_OBJECT_OPERATOR","->",178],["T_STRING","xpath",178],"(",["T_CONSTANT_ENCAPSED_STRING","'.\/\/'",178],["T_WHITESPACE"," ",178],".",["T_WHITESPACE"," ",178],["T_VARIABLE","$groupName",178],")",";",["T_WHITESPACE","\n                    ",178],["T_IF","if",179],["T_WHITESPACE"," ",179],"(","!",["T_VARIABLE","$result",179],")",["T_WHITESPACE"," ",179],"{",["T_WHITESPACE","\n                        ",179],["T_CONTINUE","continue",180],";",["T_WHITESPACE","\n                    ",180],"}",["T_WHITESPACE","\n\n                    ",181],["T_DOC_COMMENT","\/** @var $group Varien_Simplexml_Element *\/",183],["T_WHITESPACE","\n                    ",183],["T_VARIABLE","$group",184],["T_WHITESPACE"," ",184],"=",["T_WHITESPACE"," ",184],["T_VARIABLE","$result",184],"[",["T_LNUMBER","0",184],"]",";",["T_WHITESPACE","\n\n                    ",184],["T_IF","if",186],["T_WHITESPACE"," ",186],"(","!",["T_ISSET","isset",186],"(",["T_VARIABLE","$group",186],["T_OBJECT_OPERATOR","->",186],["T_STRING","children",186],")",")",["T_WHITESPACE"," ",186],"{",["T_WHITESPACE","\n                        ",186],["T_VARIABLE","$children",187],["T_WHITESPACE"," ",187],"=",["T_WHITESPACE"," ",187],["T_NEW","new",187],["T_WHITESPACE"," ",187],["T_STRING","Varien_Simplexml_Element",187],"(",["T_CONSTANT_ENCAPSED_STRING","'<children \/>'",187],")",";",["T_WHITESPACE","\n                    ",187],"}",["T_WHITESPACE"," ",188],["T_ELSE","else",188],["T_WHITESPACE"," ",188],"{",["T_WHITESPACE","\n                        ",188],["T_VARIABLE","$children",189],["T_WHITESPACE"," ",189],"=",["T_WHITESPACE"," ",189],["T_VARIABLE","$group",189],["T_OBJECT_OPERATOR","->",189],["T_STRING","children",189],";",["T_WHITESPACE","\n                    ",189],"}",["T_WHITESPACE","\n                    ",190],["T_VARIABLE","$node",191],["T_OBJECT_OPERATOR","->",191],["T_STRING","resource",191],["T_WHITESPACE"," ",191],"=",["T_WHITESPACE"," ",191],["T_LNUMBER","1",191],";",["T_WHITESPACE","\n                    ",191],["T_VARIABLE","$children",192],["T_OBJECT_OPERATOR","->",192],["T_STRING","appendChild",192],"(",["T_VARIABLE","$node",192],")",";",["T_WHITESPACE","\n                    ",192],["T_VARIABLE","$group",193],["T_OBJECT_OPERATOR","->",193],["T_STRING","appendChild",193],"(",["T_VARIABLE","$children",193],")",";",["T_WHITESPACE","\n                ",193],"}",["T_WHITESPACE","\n            ",194],"}",["T_WHITESPACE","\n        ",195],"}",["T_WHITESPACE","\n        ",196],["T_RETURN","return",197],["T_WHITESPACE"," ",197],["T_VARIABLE","$groups",197],";",["T_WHITESPACE","\n    ",197],"}",["T_WHITESPACE","\n\n    ",198],["T_DOC_COMMENT","\/**\n     * Retrieve resource group from config files api2.xml\n     *\n     * @param string $name\n     * @return Mage_Core_Model_Config_Element|boolean\n     *\/",200],["T_WHITESPACE","\n    ",205],["T_PUBLIC","public",206],["T_WHITESPACE"," ",206],["T_FUNCTION","function",206],["T_WHITESPACE"," ",206],["T_STRING","getResourceGroup",206],"(",["T_VARIABLE","$name",206],")",["T_WHITESPACE","\n    ",206],"{",["T_WHITESPACE","\n        ",207],["T_VARIABLE","$group",208],["T_WHITESPACE"," ",208],"=",["T_WHITESPACE"," ",208],["T_VARIABLE","$this",208],["T_OBJECT_OPERATOR","->",208],["T_STRING","getResourceGroups",208],"(",")",["T_OBJECT_OPERATOR","->",208],["T_STRING","xpath",208],"(",["T_CONSTANT_ENCAPSED_STRING","'.\/\/'",208],["T_WHITESPACE"," ",208],".",["T_WHITESPACE"," ",208],["T_VARIABLE","$name",208],")",";",["T_WHITESPACE","\n        ",208],["T_IF","if",209],["T_WHITESPACE"," ",209],"(","!",["T_VARIABLE","$group",209],")",["T_WHITESPACE"," ",209],"{",["T_WHITESPACE","\n            ",209],["T_RETURN","return",210],["T_WHITESPACE"," ",210],["T_STRING","false",210],";",["T_WHITESPACE","\n        ",210],"}",["T_WHITESPACE","\n        ",211],["T_RETURN","return",212],["T_WHITESPACE"," ",212],["T_VARIABLE","$group",212],"[",["T_LNUMBER","0",212],"]",";",["T_WHITESPACE","\n    ",212],"}",["T_WHITESPACE","\n\n    ",213],["T_DOC_COMMENT","\/**\n     * Retrieve resource by type (node)\n     *\n     * @param string $node\n     * @return Varien_Simplexml_Element|boolean\n     *\/",215],["T_WHITESPACE","\n    ",220],["T_PUBLIC","public",221],["T_WHITESPACE"," ",221],["T_FUNCTION","function",221],["T_WHITESPACE"," ",221],["T_STRING","getResource",221],"(",["T_VARIABLE","$node",221],")",["T_WHITESPACE","\n    ",221],"{",["T_WHITESPACE","\n        ",222],["T_RETURN","return",223],["T_WHITESPACE"," ",223],["T_VARIABLE","$this",223],["T_OBJECT_OPERATOR","->",223],["T_STRING","getNode",223],"(",["T_CONSTANT_ENCAPSED_STRING","'resources\/'",223],["T_WHITESPACE"," ",223],".",["T_WHITESPACE"," ",223],["T_VARIABLE","$node",223],")",";",["T_WHITESPACE","\n    ",223],"}",["T_WHITESPACE","\n\n    ",224],["T_DOC_COMMENT","\/**\n     * Retrieve resource attributes\n     *\n     * @param string $node\n     * @return array\n     *\/",226],["T_WHITESPACE","\n    ",231],["T_PUBLIC","public",232],["T_WHITESPACE"," ",232],["T_FUNCTION","function",232],["T_WHITESPACE"," ",232],["T_STRING","getResourceAttributes",232],"(",["T_VARIABLE","$node",232],")",["T_WHITESPACE","\n    ",232],"{",["T_WHITESPACE","\n        ",233],["T_VARIABLE","$attributes",234],["T_WHITESPACE"," ",234],"=",["T_WHITESPACE"," ",234],["T_VARIABLE","$this",234],["T_OBJECT_OPERATOR","->",234],["T_STRING","getNode",234],"(",["T_CONSTANT_ENCAPSED_STRING","'resources\/'",234],["T_WHITESPACE"," ",234],".",["T_WHITESPACE"," ",234],["T_VARIABLE","$node",234],["T_WHITESPACE"," ",234],".",["T_WHITESPACE"," ",234],["T_CONSTANT_ENCAPSED_STRING","'\/attributes'",234],")",";",["T_WHITESPACE","\n        ",234],["T_RETURN","return",235],["T_WHITESPACE"," ",235],["T_VARIABLE","$attributes",235],["T_WHITESPACE"," ",235],"?",["T_WHITESPACE"," ",235],["T_VARIABLE","$attributes",235],["T_OBJECT_OPERATOR","->",235],["T_STRING","asCanonicalArray",235],"(",")",["T_WHITESPACE"," ",235],":",["T_WHITESPACE"," ",235],["T_ARRAY","array",235],"(",")",";",["T_WHITESPACE","\n    ",235],"}",["T_WHITESPACE","\n\n    ",236],["T_DOC_COMMENT","\/**\n     * Get excluded attributes of API resource\n     *\n     * @param string $resource\n     * @param string $userType\n     * @param string $operation\n     * @return array\n     *\/",238],["T_WHITESPACE","\n    ",245],["T_PUBLIC","public",246],["T_WHITESPACE"," ",246],["T_FUNCTION","function",246],["T_WHITESPACE"," ",246],["T_STRING","getResourceExcludedAttributes",246],"(",["T_VARIABLE","$resource",246],",",["T_WHITESPACE"," ",246],["T_VARIABLE","$userType",246],",",["T_WHITESPACE"," ",246],["T_VARIABLE","$operation",246],")",["T_WHITESPACE","\n    ",246],"{",["T_WHITESPACE","\n        ",247],["T_VARIABLE","$node",248],["T_WHITESPACE"," ",248],"=",["T_WHITESPACE"," ",248],["T_VARIABLE","$this",248],["T_OBJECT_OPERATOR","->",248],["T_STRING","getNode",248],"(",["T_CONSTANT_ENCAPSED_STRING","'resources\/'",248],["T_WHITESPACE"," ",248],".",["T_WHITESPACE"," ",248],["T_VARIABLE","$resource",248],["T_WHITESPACE"," ",248],".",["T_WHITESPACE"," ",248],["T_CONSTANT_ENCAPSED_STRING","'\/exclude_attributes\/'",248],["T_WHITESPACE"," ",248],".",["T_WHITESPACE"," ",248],["T_VARIABLE","$userType",248],["T_WHITESPACE"," ",248],".",["T_WHITESPACE"," ",248],["T_CONSTANT_ENCAPSED_STRING","'\/'",248],["T_WHITESPACE"," ",248],".",["T_WHITESPACE"," ",248],["T_VARIABLE","$operation",248],")",";",["T_WHITESPACE","\n        ",248],["T_VARIABLE","$exclAttributes",249],["T_WHITESPACE"," ",249],"=",["T_WHITESPACE"," ",249],["T_ARRAY","array",249],"(",")",";",["T_WHITESPACE","\n\n        ",249],["T_IF","if",251],["T_WHITESPACE"," ",251],"(",["T_VARIABLE","$node",251],")",["T_WHITESPACE"," ",251],"{",["T_WHITESPACE","\n            ",251],["T_FOREACH","foreach",252],["T_WHITESPACE"," ",252],"(",["T_VARIABLE","$node",252],["T_OBJECT_OPERATOR","->",252],["T_STRING","children",252],"(",")",["T_WHITESPACE"," ",252],["T_AS","as",252],["T_WHITESPACE"," ",252],["T_VARIABLE","$attribute",252],["T_WHITESPACE"," ",252],["T_DOUBLE_ARROW","=>",252],["T_WHITESPACE"," ",252],["T_VARIABLE","$status",252],")",["T_WHITESPACE"," ",252],"{",["T_WHITESPACE","\n                ",252],["T_IF","if",253],["T_WHITESPACE"," ",253],"(",["T_STRING_CAST","(string)",253],["T_WHITESPACE"," ",253],["T_VARIABLE","$status",253],")",["T_WHITESPACE"," ",253],"{",["T_WHITESPACE","\n                    ",253],["T_VARIABLE","$exclAttributes",254],"[","]",["T_WHITESPACE"," ",254],"=",["T_WHITESPACE"," ",254],["T_VARIABLE","$attribute",254],";",["T_WHITESPACE","\n                ",254],"}",["T_WHITESPACE","\n            ",255],"}",["T_WHITESPACE","\n        ",256],"}",["T_WHITESPACE","\n        ",257],["T_RETURN","return",258],["T_WHITESPACE"," ",258],["T_VARIABLE","$exclAttributes",258],";",["T_WHITESPACE","\n    ",258],"}",["T_WHITESPACE","\n\n    ",259],["T_DOC_COMMENT","\/**\n     * Get forced attributes of API resource\n     *\n     * @param string $resource\n     * @param string $userType\n     * @return array\n     *\/",261],["T_WHITESPACE","\n    ",267],["T_PUBLIC","public",268],["T_WHITESPACE"," ",268],["T_FUNCTION","function",268],["T_WHITESPACE"," ",268],["T_STRING","getResourceForcedAttributes",268],"(",["T_VARIABLE","$resource",268],",",["T_WHITESPACE"," ",268],["T_VARIABLE","$userType",268],")",["T_WHITESPACE","\n    ",268],"{",["T_WHITESPACE","\n        ",269],["T_VARIABLE","$node",270],["T_WHITESPACE"," ",270],"=",["T_WHITESPACE"," ",270],["T_VARIABLE","$this",270],["T_OBJECT_OPERATOR","->",270],["T_STRING","getNode",270],"(",["T_CONSTANT_ENCAPSED_STRING","'resources\/'",270],["T_WHITESPACE"," ",270],".",["T_WHITESPACE"," ",270],["T_VARIABLE","$resource",270],["T_WHITESPACE"," ",270],".",["T_WHITESPACE"," ",270],["T_CONSTANT_ENCAPSED_STRING","'\/force_attributes\/'",270],["T_WHITESPACE"," ",270],".",["T_WHITESPACE"," ",270],["T_VARIABLE","$userType",270],")",";",["T_WHITESPACE","\n        ",270],["T_VARIABLE","$forcedAttributes",271],["T_WHITESPACE"," ",271],"=",["T_WHITESPACE"," ",271],["T_ARRAY","array",271],"(",")",";",["T_WHITESPACE","\n\n        ",271],["T_IF","if",273],["T_WHITESPACE"," ",273],"(",["T_VARIABLE","$node",273],")",["T_WHITESPACE"," ",273],"{",["T_WHITESPACE","\n            ",273],["T_FOREACH","foreach",274],["T_WHITESPACE"," ",274],"(",["T_VARIABLE","$node",274],["T_OBJECT_OPERATOR","->",274],["T_STRING","children",274],"(",")",["T_WHITESPACE"," ",274],["T_AS","as",274],["T_WHITESPACE"," ",274],["T_VARIABLE","$attribute",274],["T_WHITESPACE"," ",274],["T_DOUBLE_ARROW","=>",274],["T_WHITESPACE"," ",274],["T_VARIABLE","$status",274],")",["T_WHITESPACE"," ",274],"{",["T_WHITESPACE","\n                ",274],["T_IF","if",275],["T_WHITESPACE"," ",275],"(",["T_STRING_CAST","(string)",275],["T_WHITESPACE"," ",275],["T_VARIABLE","$status",275],")",["T_WHITESPACE"," ",275],"{",["T_WHITESPACE","\n                    ",275],["T_VARIABLE","$forcedAttributes",276],"[","]",["T_WHITESPACE"," ",276],"=",["T_WHITESPACE"," ",276],["T_VARIABLE","$attribute",276],";",["T_WHITESPACE","\n                ",276],"}",["T_WHITESPACE","\n            ",277],"}",["T_WHITESPACE","\n        ",278],"}",["T_WHITESPACE","\n        ",279],["T_RETURN","return",280],["T_WHITESPACE"," ",280],["T_VARIABLE","$forcedAttributes",280],";",["T_WHITESPACE","\n    ",280],"}",["T_WHITESPACE","\n\n    ",281],["T_DOC_COMMENT","\/**\n     * Get included attributes\n     *\n     * @param string $resource API resource ID\n     * @param string $userType API user type\n     * @param string $operationType Type of operation: one of Mage_Api2_Model_Resource::OPERATION_ATTRIBUTE_... constant\n     * @return array\n     *\/",283],["T_WHITESPACE","\n    ",290],["T_PUBLIC","public",291],["T_WHITESPACE"," ",291],["T_FUNCTION","function",291],["T_WHITESPACE"," ",291],["T_STRING","getResourceIncludedAttributes",291],"(",["T_VARIABLE","$resource",291],",",["T_WHITESPACE"," ",291],["T_VARIABLE","$userType",291],",",["T_WHITESPACE"," ",291],["T_VARIABLE","$operationType",291],")",["T_WHITESPACE","\n    ",291],"{",["T_WHITESPACE","\n        ",292],["T_VARIABLE","$node",293],["T_WHITESPACE"," ",293],"=",["T_WHITESPACE"," ",293],["T_VARIABLE","$this",293],["T_OBJECT_OPERATOR","->",293],["T_STRING","getNode",293],"(",["T_CONSTANT_ENCAPSED_STRING","'resources\/'",293],["T_WHITESPACE"," ",293],".",["T_WHITESPACE"," ",293],["T_VARIABLE","$resource",293],["T_WHITESPACE"," ",293],".",["T_WHITESPACE"," ",293],["T_CONSTANT_ENCAPSED_STRING","'\/include_attributes\/'",293],["T_WHITESPACE"," ",293],".",["T_WHITESPACE"," ",293],["T_VARIABLE","$userType",293],["T_WHITESPACE"," ",293],".",["T_WHITESPACE"," ",293],["T_CONSTANT_ENCAPSED_STRING","'\/'",293],["T_WHITESPACE"," ",293],".",["T_WHITESPACE"," ",293],["T_VARIABLE","$operationType",293],")",";",["T_WHITESPACE","\n        ",293],["T_VARIABLE","$inclAttributes",294],["T_WHITESPACE"," ",294],"=",["T_WHITESPACE"," ",294],["T_ARRAY","array",294],"(",")",";",["T_WHITESPACE","\n\n        ",294],["T_IF","if",296],["T_WHITESPACE"," ",296],"(",["T_VARIABLE","$node",296],")",["T_WHITESPACE"," ",296],"{",["T_WHITESPACE","\n            ",296],["T_FOREACH","foreach",297],["T_WHITESPACE"," ",297],"(",["T_VARIABLE","$node",297],["T_OBJECT_OPERATOR","->",297],["T_STRING","children",297],"(",")",["T_WHITESPACE"," ",297],["T_AS","as",297],["T_WHITESPACE"," ",297],["T_VARIABLE","$attribute",297],["T_WHITESPACE"," ",297],["T_DOUBLE_ARROW","=>",297],["T_WHITESPACE"," ",297],["T_VARIABLE","$status",297],")",["T_WHITESPACE"," ",297],"{",["T_WHITESPACE","\n                ",297],["T_IF","if",298],["T_WHITESPACE"," ",298],"(",["T_STRING_CAST","(string)",298],["T_WHITESPACE"," ",298],["T_VARIABLE","$status",298],")",["T_WHITESPACE"," ",298],"{",["T_WHITESPACE","\n                    ",298],["T_VARIABLE","$inclAttributes",299],"[","]",["T_WHITESPACE"," ",299],"=",["T_WHITESPACE"," ",299],["T_VARIABLE","$attribute",299],";",["T_WHITESPACE","\n                ",299],"}",["T_WHITESPACE","\n            ",300],"}",["T_WHITESPACE","\n        ",301],"}",["T_WHITESPACE","\n        ",302],["T_RETURN","return",303],["T_WHITESPACE"," ",303],["T_VARIABLE","$inclAttributes",303],";",["T_WHITESPACE","\n    ",303],"}",["T_WHITESPACE","\n\n    ",304],["T_DOC_COMMENT","\/**\n     * Get entity only attributes\n     *\n     * @param string $resource API resource ID\n     * @param string $userType API user type\n     * @param string $operationType Type of operation: one of Mage_Api2_Model_Resource::OPERATION_ATTRIBUTE_... constant\n     * @return array\n     *\/",306],["T_WHITESPACE","\n    ",313],["T_PUBLIC","public",314],["T_WHITESPACE"," ",314],["T_FUNCTION","function",314],["T_WHITESPACE"," ",314],["T_STRING","getResourceEntityOnlyAttributes",314],"(",["T_VARIABLE","$resource",314],",",["T_WHITESPACE"," ",314],["T_VARIABLE","$userType",314],",",["T_WHITESPACE"," ",314],["T_VARIABLE","$operationType",314],")",["T_WHITESPACE","\n    ",314],"{",["T_WHITESPACE","\n        ",315],["T_VARIABLE","$node",316],["T_WHITESPACE"," ",316],"=",["T_WHITESPACE"," ",316],["T_VARIABLE","$this",316],["T_OBJECT_OPERATOR","->",316],["T_STRING","getNode",316],"(",["T_CONSTANT_ENCAPSED_STRING","'resources\/'",316],["T_WHITESPACE"," ",316],".",["T_WHITESPACE"," ",316],["T_VARIABLE","$resource",316],["T_WHITESPACE"," ",316],".",["T_WHITESPACE"," ",316],["T_CONSTANT_ENCAPSED_STRING","'\/entity_only_attributes\/'",316],["T_WHITESPACE"," ",316],".",["T_WHITESPACE"," ",316],["T_VARIABLE","$userType",316],["T_WHITESPACE"," ",316],".",["T_WHITESPACE"," ",316],["T_CONSTANT_ENCAPSED_STRING","'\/'",316],["T_WHITESPACE"," ",316],".",["T_WHITESPACE","\n            ",316],["T_VARIABLE","$operationType",317],")",";",["T_WHITESPACE","\n        ",317],["T_VARIABLE","$entityOnlyAttributes",318],["T_WHITESPACE"," ",318],"=",["T_WHITESPACE"," ",318],["T_ARRAY","array",318],"(",")",";",["T_WHITESPACE","\n\n        ",318],["T_IF","if",320],["T_WHITESPACE"," ",320],"(",["T_VARIABLE","$node",320],")",["T_WHITESPACE"," ",320],"{",["T_WHITESPACE","\n            ",320],["T_FOREACH","foreach",321],["T_WHITESPACE"," ",321],"(",["T_VARIABLE","$node",321],["T_OBJECT_OPERATOR","->",321],["T_STRING","children",321],"(",")",["T_WHITESPACE"," ",321],["T_AS","as",321],["T_WHITESPACE"," ",321],["T_VARIABLE","$attribute",321],["T_WHITESPACE"," ",321],["T_DOUBLE_ARROW","=>",321],["T_WHITESPACE"," ",321],["T_VARIABLE","$status",321],")",["T_WHITESPACE"," ",321],"{",["T_WHITESPACE","\n                ",321],["T_IF","if",322],["T_WHITESPACE"," ",322],"(",["T_STRING_CAST","(string)",322],["T_WHITESPACE"," ",322],["T_VARIABLE","$status",322],")",["T_WHITESPACE"," ",322],"{",["T_WHITESPACE","\n                    ",322],["T_VARIABLE","$entityOnlyAttributes",323],"[","]",["T_WHITESPACE"," ",323],"=",["T_WHITESPACE"," ",323],["T_VARIABLE","$attribute",323],";",["T_WHITESPACE","\n                ",323],"}",["T_WHITESPACE","\n            ",324],"}",["T_WHITESPACE","\n        ",325],"}",["T_WHITESPACE","\n        ",326],["T_RETURN","return",327],["T_WHITESPACE"," ",327],["T_VARIABLE","$entityOnlyAttributes",327],";",["T_WHITESPACE","\n    ",327],"}",["T_WHITESPACE","\n\n    ",328],["T_DOC_COMMENT","\/**\n     * Retrieve resource working model\n     *\n     * @param string $node\n     * @return string\n     *\/",330],["T_WHITESPACE","\n    ",335],["T_PUBLIC","public",336],["T_WHITESPACE"," ",336],["T_FUNCTION","function",336],["T_WHITESPACE"," ",336],["T_STRING","getResourceWorkingModel",336],"(",["T_VARIABLE","$node",336],")",["T_WHITESPACE","\n    ",336],"{",["T_WHITESPACE","\n        ",337],["T_RETURN","return",338],["T_WHITESPACE"," ",338],["T_STRING_CAST","(string)",338],["T_VARIABLE","$this",338],["T_OBJECT_OPERATOR","->",338],["T_STRING","getNode",338],"(",["T_CONSTANT_ENCAPSED_STRING","'resources\/'",338],["T_WHITESPACE"," ",338],".",["T_WHITESPACE"," ",338],["T_VARIABLE","$node",338],["T_WHITESPACE"," ",338],".",["T_WHITESPACE"," ",338],["T_CONSTANT_ENCAPSED_STRING","'\/working_model'",338],")",";",["T_WHITESPACE","\n    ",338],"}",["T_WHITESPACE","\n\n    ",339],["T_DOC_COMMENT","\/**\n     * Get resource allowed versions sorted in reverse order\n     *\n     * @param string $node\n     * @return array\n     * @throws Exception\n     *\/",341],["T_WHITESPACE","\n    ",347],["T_PUBLIC","public",348],["T_WHITESPACE"," ",348],["T_FUNCTION","function",348],["T_WHITESPACE"," ",348],["T_STRING","getVersions",348],"(",["T_VARIABLE","$node",348],")",["T_WHITESPACE","\n    ",348],"{",["T_WHITESPACE","\n        ",349],["T_VARIABLE","$element",350],["T_WHITESPACE"," ",350],"=",["T_WHITESPACE"," ",350],["T_VARIABLE","$this",350],["T_OBJECT_OPERATOR","->",350],["T_STRING","getNode",350],"(",["T_CONSTANT_ENCAPSED_STRING","'resources\/'",350],["T_WHITESPACE"," ",350],".",["T_WHITESPACE"," ",350],["T_VARIABLE","$node",350],["T_WHITESPACE"," ",350],".",["T_WHITESPACE"," ",350],["T_CONSTANT_ENCAPSED_STRING","'\/versions'",350],")",";",["T_WHITESPACE","\n        ",350],["T_IF","if",351],["T_WHITESPACE"," ",351],"(","!",["T_VARIABLE","$element",351],")",["T_WHITESPACE"," ",351],"{",["T_WHITESPACE","\n            ",351],["T_THROW","throw",352],["T_WHITESPACE"," ",352],["T_NEW","new",352],["T_WHITESPACE"," ",352],["T_STRING","Exception",352],"(",["T_WHITESPACE","\n                ",352],["T_STRING","sprintf",353],"(",["T_CONSTANT_ENCAPSED_STRING","'Resource \"%s\" does not have node <versions> in config.'",353],",",["T_WHITESPACE"," ",353],["T_STRING","htmlspecialchars",353],"(",["T_VARIABLE","$node",353],")",")",["T_WHITESPACE","\n            ",353],")",";",["T_WHITESPACE","\n        ",354],"}",["T_WHITESPACE","\n\n        ",355],["T_VARIABLE","$versions",357],["T_WHITESPACE"," ",357],"=",["T_WHITESPACE"," ",357],["T_STRING","explode",357],"(",["T_CONSTANT_ENCAPSED_STRING","','",357],",",["T_WHITESPACE"," ",357],["T_STRING_CAST","(string)",357],["T_VARIABLE","$element",357],")",";",["T_WHITESPACE","\n        ",357],["T_IF","if",358],["T_WHITESPACE"," ",358],"(",["T_STRING","count",358],"(",["T_STRING","array_filter",358],"(",["T_VARIABLE","$versions",358],",",["T_WHITESPACE"," ",358],["T_CONSTANT_ENCAPSED_STRING","'is_numeric'",358],")",")",["T_WHITESPACE"," ",358],["T_IS_NOT_EQUAL","!=",358],["T_WHITESPACE"," ",358],["T_STRING","count",358],"(",["T_VARIABLE","$versions",358],")",")",["T_WHITESPACE"," ",358],"{",["T_WHITESPACE","\n            ",358],["T_THROW","throw",359],["T_WHITESPACE"," ",359],["T_NEW","new",359],["T_WHITESPACE"," ",359],["T_STRING","Exception",359],"(",["T_STRING","sprintf",359],"(",["T_CONSTANT_ENCAPSED_STRING","'Invalid resource \"%s\" versions in config.'",359],",",["T_WHITESPACE"," ",359],["T_STRING","htmlspecialchars",359],"(",["T_VARIABLE","$node",359],")",")",")",";",["T_WHITESPACE","\n        ",359],"}",["T_WHITESPACE","\n\n        ",360],["T_STRING","rsort",362],"(",["T_VARIABLE","$versions",362],",",["T_WHITESPACE"," ",362],["T_STRING","SORT_NUMERIC",362],")",";",["T_WHITESPACE","\n\n        ",362],["T_RETURN","return",364],["T_WHITESPACE"," ",364],["T_VARIABLE","$versions",364],";",["T_WHITESPACE","\n    ",364],"}",["T_WHITESPACE","\n\n    ",365],["T_DOC_COMMENT","\/**\n     * Retrieve resource model\n     *\n     * @param string $node\n     * @return string\n     *\/",367],["T_WHITESPACE","\n    ",372],["T_PUBLIC","public",373],["T_WHITESPACE"," ",373],["T_FUNCTION","function",373],["T_WHITESPACE"," ",373],["T_STRING","getResourceModel",373],"(",["T_VARIABLE","$node",373],")",["T_WHITESPACE","\n    ",373],"{",["T_WHITESPACE","\n        ",374],["T_RETURN","return",375],["T_WHITESPACE"," ",375],["T_STRING_CAST","(string)",375],["T_VARIABLE","$this",375],["T_OBJECT_OPERATOR","->",375],["T_STRING","getNode",375],"(",["T_CONSTANT_ENCAPSED_STRING","'resources\/'",375],["T_WHITESPACE"," ",375],".",["T_WHITESPACE"," ",375],["T_VARIABLE","$node",375],["T_WHITESPACE"," ",375],".",["T_WHITESPACE"," ",375],["T_CONSTANT_ENCAPSED_STRING","'\/model'",375],")",";",["T_WHITESPACE","\n    ",375],"}",["T_WHITESPACE","\n\n    ",376],["T_DOC_COMMENT","\/**\n     * Retrieve API user privileges for specified resource\n     *\n     * @param string $resource\n     * @param string $userType\n     * @return array\n     *\/",378],["T_WHITESPACE","\n    ",384],["T_PUBLIC","public",385],["T_WHITESPACE"," ",385],["T_FUNCTION","function",385],["T_WHITESPACE"," ",385],["T_STRING","getResourceUserPrivileges",385],"(",["T_VARIABLE","$resource",385],",",["T_WHITESPACE"," ",385],["T_VARIABLE","$userType",385],")",["T_WHITESPACE","\n    ",385],"{",["T_WHITESPACE","\n        ",386],["T_VARIABLE","$attributes",387],["T_WHITESPACE"," ",387],"=",["T_WHITESPACE"," ",387],["T_VARIABLE","$this",387],["T_OBJECT_OPERATOR","->",387],["T_STRING","getNode",387],"(",["T_CONSTANT_ENCAPSED_STRING","'resources\/'",387],["T_WHITESPACE"," ",387],".",["T_WHITESPACE"," ",387],["T_VARIABLE","$resource",387],["T_WHITESPACE"," ",387],".",["T_WHITESPACE"," ",387],["T_CONSTANT_ENCAPSED_STRING","'\/privileges\/'",387],["T_WHITESPACE"," ",387],".",["T_WHITESPACE"," ",387],["T_VARIABLE","$userType",387],")",";",["T_WHITESPACE","\n        ",387],["T_RETURN","return",388],["T_WHITESPACE"," ",388],["T_VARIABLE","$attributes",388],["T_WHITESPACE"," ",388],"?",["T_WHITESPACE"," ",388],["T_VARIABLE","$attributes",388],["T_OBJECT_OPERATOR","->",388],["T_STRING","asCanonicalArray",388],"(",")",["T_WHITESPACE"," ",388],":",["T_WHITESPACE"," ",388],["T_ARRAY","array",388],"(",")",";",["T_WHITESPACE","\n    ",388],"}",["T_WHITESPACE","\n\n    ",389],["T_DOC_COMMENT","\/**\n     * Retrieve resource subresources\n     *\n     * @param string $node\n     * @return array\n     *\/",391],["T_WHITESPACE","\n    ",396],["T_PUBLIC","public",397],["T_WHITESPACE"," ",397],["T_FUNCTION","function",397],["T_WHITESPACE"," ",397],["T_STRING","getResourceSubresources",397],"(",["T_VARIABLE","$node",397],")",["T_WHITESPACE","\n    ",397],"{",["T_WHITESPACE","\n        ",398],["T_VARIABLE","$subresources",399],["T_WHITESPACE"," ",399],"=",["T_WHITESPACE"," ",399],["T_VARIABLE","$this",399],["T_OBJECT_OPERATOR","->",399],["T_STRING","getNode",399],"(",["T_CONSTANT_ENCAPSED_STRING","'resources\/'",399],["T_WHITESPACE"," ",399],".",["T_WHITESPACE"," ",399],["T_VARIABLE","$node",399],["T_WHITESPACE"," ",399],".",["T_WHITESPACE"," ",399],["T_CONSTANT_ENCAPSED_STRING","'\/subresources'",399],")",";",["T_WHITESPACE","\n        ",399],["T_RETURN","return",400],["T_WHITESPACE"," ",400],["T_VARIABLE","$subresources",400],["T_WHITESPACE"," ",400],"?",["T_WHITESPACE"," ",400],["T_VARIABLE","$subresources",400],["T_OBJECT_OPERATOR","->",400],["T_STRING","asCanonicalArray",400],"(",")",["T_WHITESPACE"," ",400],":",["T_WHITESPACE"," ",400],["T_ARRAY","array",400],"(",")",";",["T_WHITESPACE","\n    ",400],"}",["T_WHITESPACE","\n\n    ",401],["T_DOC_COMMENT","\/**\n     * Get validation config by validator type\n     *\n     * @param string $resourceType\n     * @param string $validatorType\n     * @return array\n     *\/",403],["T_WHITESPACE","\n    ",409],["T_PUBLIC","public",410],["T_WHITESPACE"," ",410],["T_FUNCTION","function",410],["T_WHITESPACE"," ",410],["T_STRING","getValidationConfig",410],"(",["T_VARIABLE","$resourceType",410],",",["T_WHITESPACE"," ",410],["T_VARIABLE","$validatorType",410],")",["T_WHITESPACE","\n    ",410],"{",["T_WHITESPACE","\n        ",411],["T_VARIABLE","$config",412],["T_WHITESPACE"," ",412],"=",["T_WHITESPACE"," ",412],["T_VARIABLE","$this",412],["T_OBJECT_OPERATOR","->",412],["T_STRING","getNode",412],"(",["T_CONSTANT_ENCAPSED_STRING","'resources\/'",412],["T_WHITESPACE"," ",412],".",["T_WHITESPACE"," ",412],["T_VARIABLE","$resourceType",412],["T_WHITESPACE"," ",412],".",["T_WHITESPACE"," ",412],["T_CONSTANT_ENCAPSED_STRING","'\/validators\/'",412],["T_WHITESPACE"," ",412],".",["T_WHITESPACE"," ",412],["T_VARIABLE","$validatorType",412],")",";",["T_WHITESPACE","\n        ",412],["T_RETURN","return",413],["T_WHITESPACE"," ",413],["T_VARIABLE","$config",413],["T_WHITESPACE"," ",413],"?",["T_WHITESPACE"," ",413],["T_VARIABLE","$config",413],["T_OBJECT_OPERATOR","->",413],["T_STRING","asCanonicalArray",413],"(",")",["T_WHITESPACE"," ",413],":",["T_WHITESPACE"," ",413],["T_ARRAY","array",413],"(",")",";",["T_WHITESPACE","\n    ",413],"}",["T_WHITESPACE","\n\n    ",414],["T_DOC_COMMENT","\/**\n     * Get latest version of resource model. If second arg is specified - use it as a limiter\n     *\n     * @param string $resourceType Resource type\n     * @param int $lowerOrEqualsTo OPTIONAL If specified - return version equal or lower to\n     * @return int\n     *\/",416],["T_WHITESPACE","\n    ",422],["T_PUBLIC","public",423],["T_WHITESPACE"," ",423],["T_FUNCTION","function",423],["T_WHITESPACE"," ",423],["T_STRING","getResourceLastVersion",423],"(",["T_VARIABLE","$resourceType",423],",",["T_WHITESPACE"," ",423],["T_VARIABLE","$lowerOrEqualsTo",423],["T_WHITESPACE"," ",423],"=",["T_WHITESPACE"," ",423],["T_STRING","null",423],")",["T_WHITESPACE","\n    ",423],"{",["T_WHITESPACE","\n        ",424],["T_VARIABLE","$availVersions",425],["T_WHITESPACE"," ",425],"=",["T_WHITESPACE"," ",425],["T_VARIABLE","$this",425],["T_OBJECT_OPERATOR","->",425],["T_STRING","getVersions",425],"(",["T_VARIABLE","$resourceType",425],")",";",["T_WHITESPACE"," ",425],["T_COMMENT","\/\/ already ordered in reverse order\n",425],["T_WHITESPACE","        ",426],["T_VARIABLE","$useVersion",426],["T_WHITESPACE","    ",426],"=",["T_WHITESPACE"," ",426],["T_STRING","reset",426],"(",["T_VARIABLE","$availVersions",426],")",";",["T_WHITESPACE","\n\n        ",426],["T_IF","if",428],["T_WHITESPACE"," ",428],"(",["T_STRING","null",428],["T_WHITESPACE"," ",428],["T_IS_NOT_IDENTICAL","!==",428],["T_WHITESPACE"," ",428],["T_VARIABLE","$lowerOrEqualsTo",428],")",["T_WHITESPACE"," ",428],"{",["T_WHITESPACE","\n            ",428],["T_FOREACH","foreach",429],["T_WHITESPACE"," ",429],"(",["T_VARIABLE","$availVersions",429],["T_WHITESPACE"," ",429],["T_AS","as",429],["T_WHITESPACE"," ",429],["T_VARIABLE","$availVersion",429],")",["T_WHITESPACE"," ",429],"{",["T_WHITESPACE","\n                ",429],["T_IF","if",430],["T_WHITESPACE"," ",430],"(",["T_VARIABLE","$availVersion",430],["T_WHITESPACE"," ",430],["T_IS_SMALLER_OR_EQUAL","<=",430],["T_WHITESPACE"," ",430],["T_VARIABLE","$lowerOrEqualsTo",430],")",["T_WHITESPACE"," ",430],"{",["T_WHITESPACE","\n                    ",430],["T_VARIABLE","$useVersion",431],["T_WHITESPACE"," ",431],"=",["T_WHITESPACE"," ",431],["T_VARIABLE","$availVersion",431],";",["T_WHITESPACE","\n                    ",431],["T_BREAK","break",432],";",["T_WHITESPACE","\n                ",432],"}",["T_WHITESPACE","\n            ",433],"}",["T_WHITESPACE","\n        ",434],"}",["T_WHITESPACE","\n        ",435],["T_RETURN","return",436],["T_WHITESPACE"," ",436],["T_INT_CAST","(int)",436],["T_VARIABLE","$useVersion",436],";",["T_WHITESPACE","\n    ",436],"}",["T_WHITESPACE","\n\n    ",437],["T_DOC_COMMENT","\/**\n     * Get route with Mage_Api2_Model_Resource::ACTION_TYPE_ENTITY type\n     *\n     * @param string $node\n     * @return string\n     *\/",439],["T_WHITESPACE","\n    ",444],["T_PUBLIC","public",445],["T_WHITESPACE"," ",445],["T_FUNCTION","function",445],["T_WHITESPACE"," ",445],["T_STRING","getRouteWithEntityTypeAction",445],"(",["T_VARIABLE","$node",445],")",["T_WHITESPACE","\n    ",445],"{",["T_WHITESPACE","\n        ",446],["T_RETURN","return",447],["T_WHITESPACE"," ",447],["T_STRING_CAST","(string)",447],["T_VARIABLE","$this",447],["T_OBJECT_OPERATOR","->",447],["T_STRING","getNode",447],"(",["T_CONSTANT_ENCAPSED_STRING","'resources\/'",447],["T_WHITESPACE"," ",447],".",["T_WHITESPACE"," ",447],["T_VARIABLE","$node",447],["T_WHITESPACE"," ",447],".",["T_WHITESPACE"," ",447],["T_CONSTANT_ENCAPSED_STRING","'\/routes\/route_entity\/route'",447],")",";",["T_WHITESPACE","\n    ",447],"}",["T_WHITESPACE","\n",448],"}",["T_WHITESPACE","\n",449]]