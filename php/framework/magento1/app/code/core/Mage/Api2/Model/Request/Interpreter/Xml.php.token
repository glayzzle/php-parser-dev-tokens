[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Magento\n *\n * NOTICE OF LICENSE\n *\n * This source file is subject to the Open Software License (OSL 3.0)\n * that is bundled with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/opensource.org\/licenses\/osl-3.0.php\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@magento.com so we can send you a copy immediately.\n *\n * DISCLAIMER\n *\n * Do not edit or add to this file if you wish to upgrade Magento to newer\n * versions in the future. If you wish to customize Magento for your\n * needs please refer to http:\/\/www.magento.com for more information.\n *\n * @category    Mage\n * @package     Mage_Api2\n * @copyright  Copyright (c) 2006-2016 X.commerce, Inc. and affiliates (http:\/\/www.magento.com)\n * @license    http:\/\/opensource.org\/licenses\/osl-3.0.php  Open Software License (OSL 3.0)\n *\/",2],["T_WHITESPACE","\n\n",25],["T_DOC_COMMENT","\/**\n * Request content interpreter XML adapter\n *\n * @category    Mage\n * @package     Mage_Api2\n * @author      Magento Core Team <core@magentocommerce.com>\n *\/",27],["T_WHITESPACE","\n",33],["T_CLASS","class",34],["T_WHITESPACE"," ",34],["T_STRING","Mage_Api2_Model_Request_Interpreter_Xml",34],["T_WHITESPACE"," ",34],["T_IMPLEMENTS","implements",34],["T_WHITESPACE"," ",34],["T_STRING","Mage_Api2_Model_Request_Interpreter_Interface",34],["T_WHITESPACE","\n",34],"{",["T_WHITESPACE","\n    ",35],["T_DOC_COMMENT","\/**\n     * Default name for item of non-associative array\n     *\/",36],["T_WHITESPACE","\n    ",38],["T_CONST","const",39],["T_WHITESPACE"," ",39],["T_STRING","ARRAY_NON_ASSOC_ITEM_NAME",39],["T_WHITESPACE"," ",39],"=",["T_WHITESPACE"," ",39],["T_CONSTANT_ENCAPSED_STRING","'data_item'",39],";",["T_WHITESPACE","\n\n    ",39],["T_DOC_COMMENT","\/**\n     * Load error string.\n     *\n     * Is null if there was no error while loading\n     *\n     * @var string\n     *\/",41],["T_WHITESPACE","\n    ",47],["T_PROTECTED","protected",48],["T_WHITESPACE"," ",48],["T_VARIABLE","$_loadErrorStr",48],["T_WHITESPACE"," ",48],"=",["T_WHITESPACE"," ",48],["T_STRING","null",48],";",["T_WHITESPACE","\n\n    ",48],["T_DOC_COMMENT","\/**\n     * Parse Request body into array of params\n     *\n     * @param string $body  Posted content from request\n     * @return array\n     * @throws Exception|Mage_Api2_Exception\n     *\/",50],["T_WHITESPACE","\n    ",56],["T_PUBLIC","public",57],["T_WHITESPACE"," ",57],["T_FUNCTION","function",57],["T_WHITESPACE"," ",57],["T_STRING","interpret",57],"(",["T_VARIABLE","$body",57],")",["T_WHITESPACE","\n    ",57],"{",["T_WHITESPACE","\n        ",58],["T_IF","if",59],["T_WHITESPACE"," ",59],"(","!",["T_STRING","is_string",59],"(",["T_VARIABLE","$body",59],")",")",["T_WHITESPACE"," ",59],"{",["T_WHITESPACE","\n            ",59],["T_THROW","throw",60],["T_WHITESPACE"," ",60],["T_NEW","new",60],["T_WHITESPACE"," ",60],["T_STRING","Exception",60],"(",["T_STRING","sprintf",60],"(",["T_CONSTANT_ENCAPSED_STRING","'Invalid data type \"%s\". String expected.'",60],",",["T_WHITESPACE"," ",60],["T_STRING","gettype",60],"(",["T_VARIABLE","$body",60],")",")",")",";",["T_WHITESPACE","\n        ",60],"}",["T_WHITESPACE","\n        ",61],["T_VARIABLE","$body",62],["T_WHITESPACE"," ",62],"=",["T_WHITESPACE"," ",62],["T_STRING","false",62],["T_WHITESPACE"," ",62],["T_IS_NOT_IDENTICAL","!==",62],["T_WHITESPACE"," ",62],["T_STRING","strpos",62],"(",["T_VARIABLE","$body",62],",",["T_WHITESPACE"," ",62],["T_CONSTANT_ENCAPSED_STRING","'<?xml'",62],")",["T_WHITESPACE"," ",62],"?",["T_WHITESPACE"," ",62],["T_VARIABLE","$body",62],["T_WHITESPACE"," ",62],":",["T_WHITESPACE"," ",62],["T_CONSTANT_ENCAPSED_STRING","'<?xml version=\"1.0\"?>'",62],["T_WHITESPACE"," ",62],".",["T_WHITESPACE"," ",62],["T_STRING","PHP_EOL",62],["T_WHITESPACE"," ",62],".",["T_WHITESPACE"," ",62],["T_VARIABLE","$body",62],";",["T_WHITESPACE","\n\n        ",62],["T_COMMENT","\/\/ disable external entity loading to prevent possible vulnerability\n",64],["T_WHITESPACE","        ",65],["T_STRING","libxml_disable_entity_loader",65],"(",["T_STRING","true",65],")",";",["T_WHITESPACE","\n        ",65],["T_STRING","set_error_handler",66],"(",["T_ARRAY","array",66],"(",["T_VARIABLE","$this",66],",",["T_WHITESPACE"," ",66],["T_CONSTANT_ENCAPSED_STRING","'_loadErrorHandler'",66],")",")",";",["T_WHITESPACE"," ",66],["T_COMMENT","\/\/ Warnings and errors are suppressed\n",66],["T_WHITESPACE","        ",67],["T_VARIABLE","$config",67],["T_WHITESPACE"," ",67],"=",["T_WHITESPACE"," ",67],["T_STRING","simplexml_load_string",67],"(",["T_VARIABLE","$body",67],")",";",["T_WHITESPACE","\n        ",67],["T_STRING","restore_error_handler",68],"(",")",";",["T_WHITESPACE","\n        ",68],["T_COMMENT","\/\/ restore default behavior to make possible to load external entities\n",69],["T_WHITESPACE","        ",70],["T_STRING","libxml_disable_entity_loader",70],"(",["T_STRING","false",70],")",";",["T_WHITESPACE","\n\n        ",70],["T_COMMENT","\/\/ Check if there was a error while loading file\n",72],["T_WHITESPACE","        ",73],["T_IF","if",73],["T_WHITESPACE"," ",73],"(",["T_VARIABLE","$this",73],["T_OBJECT_OPERATOR","->",73],["T_STRING","_loadErrorStr",73],["T_WHITESPACE"," ",73],["T_IS_NOT_IDENTICAL","!==",73],["T_WHITESPACE"," ",73],["T_STRING","null",73],")",["T_WHITESPACE"," ",73],"{",["T_WHITESPACE","\n            ",73],["T_THROW","throw",74],["T_WHITESPACE"," ",74],["T_NEW","new",74],["T_WHITESPACE"," ",74],["T_STRING","Mage_Api2_Exception",74],"(",["T_CONSTANT_ENCAPSED_STRING","'Decoding error.'",74],",",["T_WHITESPACE"," ",74],["T_STRING","Mage_Api2_Model_Server",74],["T_DOUBLE_COLON","::",74],["T_STRING","HTTP_BAD_REQUEST",74],")",";",["T_WHITESPACE","\n        ",74],"}",["T_WHITESPACE","\n\n        ",75],["T_VARIABLE","$xml",77],["T_WHITESPACE"," ",77],"=",["T_WHITESPACE"," ",77],["T_VARIABLE","$this",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","_toArray",77],"(",["T_VARIABLE","$config",77],")",";",["T_WHITESPACE","\n        ",77],["T_RETURN","return",78],["T_WHITESPACE"," ",78],["T_VARIABLE","$xml",78],";",["T_WHITESPACE","\n    ",78],"}",["T_WHITESPACE","\n\n    ",79],["T_DOC_COMMENT","\/**\n     * Returns an associativearray from a SimpleXMLElement.\n     *\n     * @param  SimpleXMLElement $xmlObject Convert a SimpleXMLElement into an array\n     * @return array\n     *\/",81],["T_WHITESPACE","\n    ",86],["T_PROTECTED","protected",87],["T_WHITESPACE"," ",87],["T_FUNCTION","function",87],["T_WHITESPACE"," ",87],["T_STRING","_toArray",87],"(",["T_STRING","SimpleXMLElement",87],["T_WHITESPACE"," ",87],["T_VARIABLE","$xmlObject",87],")",["T_WHITESPACE","\n    ",87],"{",["T_WHITESPACE","\n        ",88],["T_VARIABLE","$config",89],["T_WHITESPACE"," ",89],"=",["T_WHITESPACE"," ",89],["T_ARRAY","array",89],"(",")",";",["T_WHITESPACE","\n        ",89],["T_COMMENT","\/\/ Search for parent node values\n",90],["T_WHITESPACE","        ",91],["T_IF","if",91],["T_WHITESPACE"," ",91],"(",["T_STRING","count",91],"(",["T_VARIABLE","$xmlObject",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","attributes",91],"(",")",")",["T_WHITESPACE"," ",91],">",["T_WHITESPACE"," ",91],["T_LNUMBER","0",91],")",["T_WHITESPACE"," ",91],"{",["T_WHITESPACE","\n            ",91],["T_FOREACH","foreach",92],["T_WHITESPACE"," ",92],"(",["T_VARIABLE","$xmlObject",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","attributes",92],"(",")",["T_WHITESPACE"," ",92],["T_AS","as",92],["T_WHITESPACE"," ",92],["T_VARIABLE","$key",92],["T_WHITESPACE"," ",92],["T_DOUBLE_ARROW","=>",92],["T_WHITESPACE"," ",92],["T_VARIABLE","$value",92],")",["T_WHITESPACE"," ",92],"{",["T_WHITESPACE","\n                ",92],["T_VARIABLE","$value",93],["T_WHITESPACE"," ",93],"=",["T_WHITESPACE"," ",93],["T_STRING_CAST","(string)",93],["T_VARIABLE","$value",93],";",["T_WHITESPACE","\n                ",93],["T_IF","if",94],["T_WHITESPACE"," ",94],"(",["T_STRING","array_key_exists",94],"(",["T_VARIABLE","$key",94],",",["T_WHITESPACE"," ",94],["T_VARIABLE","$config",94],")",")",["T_WHITESPACE"," ",94],"{",["T_WHITESPACE","\n                    ",94],["T_IF","if",95],["T_WHITESPACE"," ",95],"(","!",["T_STRING","is_array",95],"(",["T_VARIABLE","$config",95],"[",["T_VARIABLE","$key",95],"]",")",")",["T_WHITESPACE"," ",95],"{",["T_WHITESPACE","\n                        ",95],["T_VARIABLE","$config",96],"[",["T_VARIABLE","$key",96],"]",["T_WHITESPACE"," ",96],"=",["T_WHITESPACE"," ",96],["T_ARRAY","array",96],"(",["T_VARIABLE","$config",96],"[",["T_VARIABLE","$key",96],"]",")",";",["T_WHITESPACE","\n                    ",96],"}",["T_WHITESPACE","\n                    ",97],["T_VARIABLE","$config",98],"[",["T_VARIABLE","$key",98],"]","[","]",["T_WHITESPACE"," ",98],"=",["T_WHITESPACE"," ",98],["T_VARIABLE","$value",98],";",["T_WHITESPACE","\n                ",98],"}",["T_WHITESPACE"," ",99],["T_ELSE","else",99],["T_WHITESPACE"," ",99],"{",["T_WHITESPACE","\n                    ",99],["T_VARIABLE","$config",100],"[",["T_VARIABLE","$key",100],"]",["T_WHITESPACE"," ",100],"=",["T_WHITESPACE"," ",100],["T_VARIABLE","$value",100],";",["T_WHITESPACE","\n                ",100],"}",["T_WHITESPACE","\n            ",101],"}",["T_WHITESPACE","\n        ",102],"}",["T_WHITESPACE","\n\n        ",103],["T_COMMENT","\/\/ Search for children\n",105],["T_WHITESPACE","        ",106],["T_IF","if",106],["T_WHITESPACE"," ",106],"(",["T_STRING","count",106],"(",["T_VARIABLE","$xmlObject",106],["T_OBJECT_OPERATOR","->",106],["T_STRING","children",106],"(",")",")",["T_WHITESPACE"," ",106],">",["T_WHITESPACE"," ",106],["T_LNUMBER","0",106],")",["T_WHITESPACE"," ",106],"{",["T_WHITESPACE","\n            ",106],["T_FOREACH","foreach",107],["T_WHITESPACE"," ",107],"(",["T_VARIABLE","$xmlObject",107],["T_OBJECT_OPERATOR","->",107],["T_STRING","children",107],"(",")",["T_WHITESPACE"," ",107],["T_AS","as",107],["T_WHITESPACE"," ",107],["T_VARIABLE","$key",107],["T_WHITESPACE"," ",107],["T_DOUBLE_ARROW","=>",107],["T_WHITESPACE"," ",107],["T_VARIABLE","$value",107],")",["T_WHITESPACE"," ",107],"{",["T_WHITESPACE","\n                ",107],["T_IF","if",108],["T_WHITESPACE"," ",108],"(",["T_STRING","count",108],"(",["T_VARIABLE","$value",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","children",108],"(",")",")",["T_WHITESPACE"," ",108],">",["T_WHITESPACE"," ",108],["T_LNUMBER","0",108],")",["T_WHITESPACE"," ",108],"{",["T_WHITESPACE","\n                    ",108],["T_VARIABLE","$value",109],["T_WHITESPACE"," ",109],"=",["T_WHITESPACE"," ",109],["T_VARIABLE","$this",109],["T_OBJECT_OPERATOR","->",109],["T_STRING","_toArray",109],"(",["T_VARIABLE","$value",109],")",";",["T_WHITESPACE","\n                ",109],"}",["T_WHITESPACE"," ",110],["T_ELSE","else",110],["T_WHITESPACE"," ",110],["T_IF","if",110],["T_WHITESPACE"," ",110],"(",["T_STRING","count",110],"(",["T_VARIABLE","$value",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","attributes",110],"(",")",")",["T_WHITESPACE"," ",110],">",["T_WHITESPACE"," ",110],["T_LNUMBER","0",110],")",["T_WHITESPACE"," ",110],"{",["T_WHITESPACE","\n                    ",110],["T_VARIABLE","$attributes",111],["T_WHITESPACE"," ",111],"=",["T_WHITESPACE"," ",111],["T_VARIABLE","$value",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","attributes",111],"(",")",";",["T_WHITESPACE","\n                    ",111],["T_IF","if",112],["T_WHITESPACE"," ",112],"(",["T_ISSET","isset",112],"(",["T_VARIABLE","$attributes",112],"[",["T_CONSTANT_ENCAPSED_STRING","'value'",112],"]",")",")",["T_WHITESPACE"," ",112],"{",["T_WHITESPACE","\n                        ",112],["T_VARIABLE","$value",113],["T_WHITESPACE"," ",113],"=",["T_WHITESPACE"," ",113],["T_STRING_CAST","(string)",113],["T_VARIABLE","$attributes",113],"[",["T_CONSTANT_ENCAPSED_STRING","'value'",113],"]",";",["T_WHITESPACE","\n                    ",113],"}",["T_WHITESPACE"," ",114],["T_ELSE","else",114],["T_WHITESPACE"," ",114],"{",["T_WHITESPACE","\n                        ",114],["T_VARIABLE","$value",115],["T_WHITESPACE"," ",115],"=",["T_WHITESPACE"," ",115],["T_VARIABLE","$this",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","_toArray",115],"(",["T_VARIABLE","$value",115],")",";",["T_WHITESPACE","\n                    ",115],"}",["T_WHITESPACE","\n                ",116],"}",["T_WHITESPACE"," ",117],["T_ELSE","else",117],["T_WHITESPACE"," ",117],"{",["T_WHITESPACE","\n                    ",117],["T_VARIABLE","$value",118],["T_WHITESPACE"," ",118],"=",["T_WHITESPACE"," ",118],["T_STRING_CAST","(string)",118],["T_WHITESPACE"," ",118],["T_VARIABLE","$value",118],";",["T_WHITESPACE","\n                ",118],"}",["T_WHITESPACE","\n                ",119],["T_IF","if",120],["T_WHITESPACE"," ",120],"(",["T_STRING","array_key_exists",120],"(",["T_VARIABLE","$key",120],",",["T_WHITESPACE"," ",120],["T_VARIABLE","$config",120],")",")",["T_WHITESPACE"," ",120],"{",["T_WHITESPACE","\n                    ",120],["T_IF","if",121],["T_WHITESPACE"," ",121],"(","!",["T_STRING","is_array",121],"(",["T_VARIABLE","$config",121],"[",["T_VARIABLE","$key",121],"]",")",["T_WHITESPACE"," ",121],["T_BOOLEAN_OR","||",121],["T_WHITESPACE"," ",121],"!",["T_STRING","array_key_exists",121],"(",["T_LNUMBER","0",121],",",["T_WHITESPACE"," ",121],["T_VARIABLE","$config",121],"[",["T_VARIABLE","$key",121],"]",")",")",["T_WHITESPACE"," ",121],"{",["T_WHITESPACE","\n                        ",121],["T_VARIABLE","$config",122],"[",["T_VARIABLE","$key",122],"]",["T_WHITESPACE"," ",122],"=",["T_WHITESPACE"," ",122],["T_ARRAY","array",122],"(",["T_VARIABLE","$config",122],"[",["T_VARIABLE","$key",122],"]",")",";",["T_WHITESPACE","\n                    ",122],"}",["T_WHITESPACE","\n                    ",123],["T_VARIABLE","$config",124],"[",["T_VARIABLE","$key",124],"]","[","]",["T_WHITESPACE"," ",124],"=",["T_WHITESPACE"," ",124],["T_VARIABLE","$value",124],";",["T_WHITESPACE","\n                ",124],"}",["T_WHITESPACE"," ",125],["T_ELSE","else",125],["T_WHITESPACE"," ",125],"{",["T_WHITESPACE","\n                    ",125],["T_IF","if",126],["T_WHITESPACE"," ",126],"(",["T_STRING","self",126],["T_DOUBLE_COLON","::",126],["T_STRING","ARRAY_NON_ASSOC_ITEM_NAME",126],["T_WHITESPACE"," ",126],["T_IS_NOT_EQUAL","!=",126],["T_WHITESPACE"," ",126],["T_VARIABLE","$key",126],")",["T_WHITESPACE"," ",126],"{",["T_WHITESPACE","\n                        ",126],["T_VARIABLE","$config",127],"[",["T_VARIABLE","$key",127],"]",["T_WHITESPACE"," ",127],"=",["T_WHITESPACE"," ",127],["T_VARIABLE","$value",127],";",["T_WHITESPACE","\n                    ",127],"}",["T_WHITESPACE"," ",128],["T_ELSE","else",128],["T_WHITESPACE"," ",128],"{",["T_WHITESPACE","\n                        ",128],["T_VARIABLE","$config",129],"[","]",["T_WHITESPACE"," ",129],"=",["T_WHITESPACE"," ",129],["T_VARIABLE","$value",129],";",["T_WHITESPACE","\n                    ",129],"}",["T_WHITESPACE","\n                ",130],"}",["T_WHITESPACE","\n            ",131],"}",["T_WHITESPACE","\n        ",132],"}",["T_WHITESPACE","\n\n        ",133],["T_RETURN","return",135],["T_WHITESPACE"," ",135],["T_VARIABLE","$config",135],";",["T_WHITESPACE","\n    ",135],"}",["T_WHITESPACE","\n\n    ",136],["T_DOC_COMMENT","\/**\n     * Handle any errors from load xml\n     *\n     * @param integer $errno\n     * @param string $errstr\n     * @param string $errfile\n     * @param integer $errline\n     *\/",138],["T_WHITESPACE","\n    ",145],["T_PROTECTED","protected",146],["T_WHITESPACE"," ",146],["T_FUNCTION","function",146],["T_WHITESPACE"," ",146],["T_STRING","_loadErrorHandler",146],"(",["T_VARIABLE","$errno",146],",",["T_WHITESPACE"," ",146],["T_VARIABLE","$errstr",146],",",["T_WHITESPACE"," ",146],["T_VARIABLE","$errfile",146],",",["T_WHITESPACE"," ",146],["T_VARIABLE","$errline",146],")",["T_WHITESPACE","\n    ",146],"{",["T_WHITESPACE","\n        ",147],["T_IF","if",148],["T_WHITESPACE"," ",148],"(",["T_VARIABLE","$this",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","_loadErrorStr",148],["T_WHITESPACE"," ",148],["T_IS_IDENTICAL","===",148],["T_WHITESPACE"," ",148],["T_STRING","null",148],")",["T_WHITESPACE"," ",148],"{",["T_WHITESPACE","\n            ",148],["T_VARIABLE","$this",149],["T_OBJECT_OPERATOR","->",149],["T_STRING","_loadErrorStr",149],["T_WHITESPACE"," ",149],"=",["T_WHITESPACE"," ",149],["T_VARIABLE","$errstr",149],";",["T_WHITESPACE","\n        ",149],"}",["T_WHITESPACE"," ",150],["T_ELSE","else",150],["T_WHITESPACE"," ",150],"{",["T_WHITESPACE","\n            ",150],["T_VARIABLE","$this",151],["T_OBJECT_OPERATOR","->",151],["T_STRING","_loadErrorStr",151],["T_WHITESPACE"," ",151],["T_CONCAT_EQUAL",".=",151],["T_WHITESPACE"," ",151],"(",["T_STRING","PHP_EOL",151],["T_WHITESPACE"," ",151],".",["T_WHITESPACE"," ",151],["T_VARIABLE","$errstr",151],")",";",["T_WHITESPACE","\n        ",151],"}",["T_WHITESPACE","\n    ",152],"}",["T_WHITESPACE","\n",153],"}",["T_WHITESPACE","\n",154]]