[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Magento\n *\n * NOTICE OF LICENSE\n *\n * This source file is subject to the Open Software License (OSL 3.0)\n * that is bundled with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/opensource.org\/licenses\/osl-3.0.php\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@magento.com so we can send you a copy immediately.\n *\n * DISCLAIMER\n *\n * Do not edit or add to this file if you wish to upgrade Magento to newer\n * versions in the future. If you wish to customize Magento for your\n * needs please refer to http:\/\/www.magento.com for more information.\n *\n * @category    Mage\n * @package     Mage_Eav\n * @copyright  Copyright (c) 2006-2016 X.commerce, Inc. and affiliates (http:\/\/www.magento.com)\n * @license    http:\/\/opensource.org\/licenses\/osl-3.0.php  Open Software License (OSL 3.0)\n *\/",2],["T_WHITESPACE","\n\n\n",25],["T_DOC_COMMENT","\/**\n * Entity\/Attribute\/Model - entity abstract\n *\n * @category   Mage\n * @package    Mage_Eav\n * @author     Magento Core Team <core@magentocommerce.com>\n *\/",28],["T_WHITESPACE","\n",34],["T_ABSTRACT","abstract",35],["T_WHITESPACE"," ",35],["T_CLASS","class",35],["T_WHITESPACE"," ",35],["T_STRING","Mage_Eav_Model_Entity_Abstract",35],["T_WHITESPACE"," ",35],["T_EXTENDS","extends",35],["T_WHITESPACE"," ",35],["T_STRING","Mage_Core_Model_Resource_Abstract",35],["T_WHITESPACE","\n    ",35],["T_IMPLEMENTS","implements",36],["T_WHITESPACE"," ",36],["T_STRING","Mage_Eav_Model_Entity_Interface",36],["T_WHITESPACE","\n",36],"{",["T_WHITESPACE","\n    ",37],["T_DOC_COMMENT","\/**\n     * Read connection\n     *\n     * @var Varien_Db_Adapter_Pdo_Mysql\n     *\/",38],["T_WHITESPACE","\n    ",42],["T_PROTECTED","protected",43],["T_WHITESPACE"," ",43],["T_VARIABLE","$_read",43],";",["T_WHITESPACE","\n\n    ",43],["T_DOC_COMMENT","\/**\n     * Write connection\n     *\n     * @var Varien_Db_Adapter_Pdo_Mysql\n     *\/",45],["T_WHITESPACE","\n    ",49],["T_PROTECTED","protected",50],["T_WHITESPACE"," ",50],["T_VARIABLE","$_write",50],";",["T_WHITESPACE","\n\n    ",50],["T_DOC_COMMENT","\/**\n     * Entity type configuration\n     *\n     * @var Mage_Eav_Model_Entity_Type\n     *\/",52],["T_WHITESPACE","\n    ",56],["T_PROTECTED","protected",57],["T_WHITESPACE"," ",57],["T_VARIABLE","$_type",57],";",["T_WHITESPACE","\n\n    ",57],["T_DOC_COMMENT","\/**\n     * Attributes array by attribute id\n     *\n     * @var array\n     *\/",59],["T_WHITESPACE","\n    ",63],["T_PROTECTED","protected",64],["T_WHITESPACE"," ",64],["T_VARIABLE","$_attributesById",64],["T_WHITESPACE","              ",64],"=",["T_WHITESPACE"," ",64],["T_ARRAY","array",64],"(",")",";",["T_WHITESPACE","\n\n    ",64],["T_DOC_COMMENT","\/**\n     * Attributes array by attribute name\n     *\n     * @var unknown_type\n     *\/",66],["T_WHITESPACE","\n    ",70],["T_PROTECTED","protected",71],["T_WHITESPACE"," ",71],["T_VARIABLE","$_attributesByCode",71],["T_WHITESPACE","            ",71],"=",["T_WHITESPACE"," ",71],["T_ARRAY","array",71],"(",")",";",["T_WHITESPACE","\n\n    ",71],["T_DOC_COMMENT","\/**\n     * 2-dimentional array by table name and attribute name\n     *\n     * @var array\n     *\/",73],["T_WHITESPACE","\n    ",77],["T_PROTECTED","protected",78],["T_WHITESPACE"," ",78],["T_VARIABLE","$_attributesByTable",78],["T_WHITESPACE","           ",78],"=",["T_WHITESPACE"," ",78],["T_ARRAY","array",78],"(",")",";",["T_WHITESPACE","\n\n    ",78],["T_DOC_COMMENT","\/**\n     * Attributes that are static fields in entity table\n     *\n     * @var array\n     *\/",80],["T_WHITESPACE","\n    ",84],["T_PROTECTED","protected",85],["T_WHITESPACE"," ",85],["T_VARIABLE","$_staticAttributes",85],["T_WHITESPACE"," ",85],"=",["T_WHITESPACE"," ",85],["T_ARRAY","array",85],"(",")",";",["T_WHITESPACE","\n\n    ",85],["T_DOC_COMMENT","\/**\n     * Default Attributes that are static\n     *\n     * @var array\n     *\/",87],["T_WHITESPACE","\n    ",91],["T_PROTECTED","protected",92],["T_WHITESPACE"," ",92],["T_STATIC","static",92],["T_WHITESPACE"," ",92],["T_VARIABLE","$_defaultAttributes",92],["T_WHITESPACE","    ",92],"=",["T_WHITESPACE"," ",92],["T_ARRAY","array",92],"(",")",";",["T_WHITESPACE","\n\n    ",92],["T_DOC_COMMENT","\/**\n     * Entity table\n     *\n     * @var string\n     *\/",94],["T_WHITESPACE","\n    ",98],["T_PROTECTED","protected",99],["T_WHITESPACE"," ",99],["T_VARIABLE","$_entityTable",99],";",["T_WHITESPACE","\n\n    ",99],["T_DOC_COMMENT","\/**\n     * Describe data for tables\n     *\n     * @var array\n     *\/",101],["T_WHITESPACE","\n    ",105],["T_PROTECTED","protected",106],["T_WHITESPACE"," ",106],["T_VARIABLE","$_describeTable",106],["T_WHITESPACE","               ",106],"=",["T_WHITESPACE"," ",106],["T_ARRAY","array",106],"(",")",";",["T_WHITESPACE","\n\n    ",106],["T_DOC_COMMENT","\/**\n     * Entity table identification field name\n     *\n     * @var string\n     *\/",108],["T_WHITESPACE","\n    ",112],["T_PROTECTED","protected",113],["T_WHITESPACE"," ",113],["T_VARIABLE","$_entityIdField",113],";",["T_WHITESPACE","\n\n    ",113],["T_DOC_COMMENT","\/**\n     * Entity values table identification field name\n     *\n     * @var string\n     *\/",115],["T_WHITESPACE","\n    ",119],["T_PROTECTED","protected",120],["T_WHITESPACE"," ",120],["T_VARIABLE","$_valueEntityIdField",120],";",["T_WHITESPACE","\n\n    ",120],["T_DOC_COMMENT","\/**\n     * Entity value table prefix\n     *\n     * @var string\n     *\/",122],["T_WHITESPACE","\n    ",126],["T_PROTECTED","protected",127],["T_WHITESPACE"," ",127],["T_VARIABLE","$_valueTablePrefix",127],";",["T_WHITESPACE","\n\n    ",127],["T_COMMENT","\/* Entity table string\n     *\n     * @var string\n     *\/",129],["T_WHITESPACE","\n    ",132],["T_PROTECTED","protected",133],["T_WHITESPACE"," ",133],["T_VARIABLE","$_entityTablePrefix",133],";",["T_WHITESPACE","\n\n    ",133],["T_DOC_COMMENT","\/**\n     * Partial load flag\n     *\n     * @var boolean\n     *\/",135],["T_WHITESPACE","\n    ",139],["T_PROTECTED","protected",140],["T_WHITESPACE"," ",140],["T_VARIABLE","$_isPartialLoad",140],["T_WHITESPACE"," ",140],"=",["T_WHITESPACE"," ",140],["T_STRING","false",140],";",["T_WHITESPACE","\n\n    ",140],["T_DOC_COMMENT","\/**\n     * Partial save flag\n     *\n     * @var boolean\n     *\/",142],["T_WHITESPACE","\n    ",146],["T_PROTECTED","protected",147],["T_WHITESPACE"," ",147],["T_VARIABLE","$_isPartialSave",147],["T_WHITESPACE"," ",147],"=",["T_WHITESPACE"," ",147],["T_STRING","false",147],";",["T_WHITESPACE","\n\n    ",147],["T_DOC_COMMENT","\/**\n     * Attribute set id which used for get sorted attributes\n     *\n     * @var int\n     *\/",149],["T_WHITESPACE","\n    ",153],["T_PROTECTED","protected",154],["T_WHITESPACE"," ",154],["T_VARIABLE","$_sortingSetId",154],["T_WHITESPACE"," ",154],"=",["T_WHITESPACE"," ",154],["T_STRING","null",154],";",["T_WHITESPACE","\n\n    ",154],["T_DOC_COMMENT","\/**\n     * Entity attribute values per backend table to delete\n     *\n     * @var array\n     *\/",156],["T_WHITESPACE","\n    ",160],["T_PROTECTED","protected",161],["T_WHITESPACE"," ",161],["T_VARIABLE","$_attributeValuesToDelete",161],["T_WHITESPACE"," ",161],"=",["T_WHITESPACE"," ",161],["T_ARRAY","array",161],"(",")",";",["T_WHITESPACE","\n\n    ",161],["T_DOC_COMMENT","\/**\n     * Entity attribute values per backend table to save\n     *\n     * @var array\n     *\/",163],["T_WHITESPACE","\n    ",167],["T_PROTECTED","protected",168],["T_WHITESPACE"," ",168],["T_VARIABLE","$_attributeValuesToSave",168],["T_WHITESPACE","   ",168],"=",["T_WHITESPACE"," ",168],["T_ARRAY","array",168],"(",")",";",["T_WHITESPACE","\n\n    ",168],["T_DOC_COMMENT","\/**\n     * Array of describe attribute backend tables\n     * The table name as key\n     *\n     * @var array\n     *\/",170],["T_WHITESPACE","\n    ",175],["T_PROTECTED","protected",176],["T_WHITESPACE"," ",176],["T_STATIC","static",176],["T_WHITESPACE"," ",176],["T_VARIABLE","$_attributeBackendTables",176],["T_WHITESPACE","   ",176],"=",["T_WHITESPACE"," ",176],["T_ARRAY","array",176],"(",")",";",["T_WHITESPACE","\n\n    ",176],["T_DOC_COMMENT","\/**\n     * Set connections for entity operations\n     *\n     * @param Zend_Db_Adapter_Abstract|string $read\n     * @param Zend_Db_Adapter_Abstract|string|null $write\n     * @return Mage_Eav_Model_Entity_Abstract\n     *\/",178],["T_WHITESPACE","\n    ",184],["T_PUBLIC","public",185],["T_WHITESPACE"," ",185],["T_FUNCTION","function",185],["T_WHITESPACE"," ",185],["T_STRING","setConnection",185],"(",["T_VARIABLE","$read",185],",",["T_WHITESPACE"," ",185],["T_VARIABLE","$write",185],["T_WHITESPACE"," ",185],"=",["T_WHITESPACE"," ",185],["T_STRING","null",185],")",["T_WHITESPACE","\n    ",185],"{",["T_WHITESPACE","\n        ",186],["T_VARIABLE","$this",187],["T_OBJECT_OPERATOR","->",187],["T_STRING","_read",187],["T_WHITESPACE","  ",187],"=",["T_WHITESPACE"," ",187],["T_VARIABLE","$read",187],";",["T_WHITESPACE","\n        ",187],["T_VARIABLE","$this",188],["T_OBJECT_OPERATOR","->",188],["T_STRING","_write",188],["T_WHITESPACE"," ",188],"=",["T_WHITESPACE"," ",188],["T_VARIABLE","$write",188],["T_WHITESPACE"," ",188],"?",["T_WHITESPACE"," ",188],["T_VARIABLE","$write",188],["T_WHITESPACE"," ",188],":",["T_WHITESPACE"," ",188],["T_VARIABLE","$read",188],";",["T_WHITESPACE","\n\n        ",188],["T_RETURN","return",190],["T_WHITESPACE"," ",190],["T_VARIABLE","$this",190],";",["T_WHITESPACE","\n    ",190],"}",["T_WHITESPACE","\n\n    ",191],["T_DOC_COMMENT","\/**\n     * Resource initialization\n     *\/",193],["T_WHITESPACE","\n    ",195],["T_PROTECTED","protected",196],["T_WHITESPACE"," ",196],["T_FUNCTION","function",196],["T_WHITESPACE"," ",196],["T_STRING","_construct",196],"(",")",["T_WHITESPACE","\n    ",196],"{","}",["T_WHITESPACE","\n\n    ",197],["T_DOC_COMMENT","\/**\n     * Retrieve connection for read data\n     *\n     * @return Varien_Db_Adapter_Interface\n     *\/",199],["T_WHITESPACE","\n    ",203],["T_PROTECTED","protected",204],["T_WHITESPACE"," ",204],["T_FUNCTION","function",204],["T_WHITESPACE"," ",204],["T_STRING","_getReadAdapter",204],"(",")",["T_WHITESPACE","\n    ",204],"{",["T_WHITESPACE","\n        ",205],["T_IF","if",206],["T_WHITESPACE"," ",206],"(",["T_STRING","is_string",206],"(",["T_VARIABLE","$this",206],["T_OBJECT_OPERATOR","->",206],["T_STRING","_read",206],")",")",["T_WHITESPACE"," ",206],"{",["T_WHITESPACE","\n            ",206],["T_VARIABLE","$this",207],["T_OBJECT_OPERATOR","->",207],["T_STRING","_read",207],["T_WHITESPACE"," ",207],"=",["T_WHITESPACE"," ",207],["T_STRING","Mage",207],["T_DOUBLE_COLON","::",207],["T_STRING","getSingleton",207],"(",["T_CONSTANT_ENCAPSED_STRING","'core\/resource'",207],")",["T_OBJECT_OPERATOR","->",207],["T_STRING","getConnection",207],"(",["T_VARIABLE","$this",207],["T_OBJECT_OPERATOR","->",207],["T_STRING","_read",207],")",";",["T_WHITESPACE","\n        ",207],"}",["T_WHITESPACE","\n        ",208],["T_RETURN","return",209],["T_WHITESPACE"," ",209],["T_VARIABLE","$this",209],["T_OBJECT_OPERATOR","->",209],["T_STRING","_read",209],";",["T_WHITESPACE","\n    ",209],"}",["T_WHITESPACE","\n\n    ",210],["T_DOC_COMMENT","\/**\n     * Retrieve connection for write data\n     *\n     * @return Varien_Db_Adapter_Interface\n     *\/",212],["T_WHITESPACE","\n    ",216],["T_PROTECTED","protected",217],["T_WHITESPACE"," ",217],["T_FUNCTION","function",217],["T_WHITESPACE"," ",217],["T_STRING","_getWriteAdapter",217],"(",")",["T_WHITESPACE","\n    ",217],"{",["T_WHITESPACE","\n        ",218],["T_IF","if",219],["T_WHITESPACE"," ",219],"(",["T_STRING","is_string",219],"(",["T_VARIABLE","$this",219],["T_OBJECT_OPERATOR","->",219],["T_STRING","_write",219],")",")",["T_WHITESPACE"," ",219],"{",["T_WHITESPACE","\n            ",219],["T_VARIABLE","$this",220],["T_OBJECT_OPERATOR","->",220],["T_STRING","_write",220],["T_WHITESPACE"," ",220],"=",["T_WHITESPACE"," ",220],["T_STRING","Mage",220],["T_DOUBLE_COLON","::",220],["T_STRING","getSingleton",220],"(",["T_CONSTANT_ENCAPSED_STRING","'core\/resource'",220],")",["T_OBJECT_OPERATOR","->",220],["T_STRING","getConnection",220],"(",["T_VARIABLE","$this",220],["T_OBJECT_OPERATOR","->",220],["T_STRING","_write",220],")",";",["T_WHITESPACE","\n        ",220],"}",["T_WHITESPACE","\n        ",221],["T_RETURN","return",222],["T_WHITESPACE"," ",222],["T_VARIABLE","$this",222],["T_OBJECT_OPERATOR","->",222],["T_STRING","_write",222],";",["T_WHITESPACE","\n    ",222],"}",["T_WHITESPACE","\n\n    ",223],["T_DOC_COMMENT","\/**\n     * Retrieve read DB connection\n     *\n     * @return Varien_Db_Adapter_Interface\n     *\/",225],["T_WHITESPACE","\n    ",229],["T_PUBLIC","public",230],["T_WHITESPACE"," ",230],["T_FUNCTION","function",230],["T_WHITESPACE"," ",230],["T_STRING","getReadConnection",230],"(",")",["T_WHITESPACE","\n    ",230],"{",["T_WHITESPACE","\n        ",231],["T_RETURN","return",232],["T_WHITESPACE"," ",232],["T_VARIABLE","$this",232],["T_OBJECT_OPERATOR","->",232],["T_STRING","_getReadAdapter",232],"(",")",";",["T_WHITESPACE","\n    ",232],"}",["T_WHITESPACE","\n\n    ",233],["T_DOC_COMMENT","\/**\n     * Retrieve write DB connection\n     *\n     * @return Varien_Db_Adapter_Interface\n     *\/",235],["T_WHITESPACE","\n    ",239],["T_PUBLIC","public",240],["T_WHITESPACE"," ",240],["T_FUNCTION","function",240],["T_WHITESPACE"," ",240],["T_STRING","getWriteConnection",240],"(",")",["T_WHITESPACE","\n    ",240],"{",["T_WHITESPACE","\n        ",241],["T_RETURN","return",242],["T_WHITESPACE"," ",242],["T_VARIABLE","$this",242],["T_OBJECT_OPERATOR","->",242],["T_STRING","_getWriteAdapter",242],"(",")",";",["T_WHITESPACE","\n    ",242],"}",["T_WHITESPACE","\n\n    ",243],["T_DOC_COMMENT","\/**\n     * For compatibility with Mage_Core_Model_Abstract\n     *\n     * @return string\n     *\/",245],["T_WHITESPACE","\n    ",249],["T_PUBLIC","public",250],["T_WHITESPACE"," ",250],["T_FUNCTION","function",250],["T_WHITESPACE"," ",250],["T_STRING","getIdFieldName",250],"(",")",["T_WHITESPACE","\n    ",250],"{",["T_WHITESPACE","\n        ",251],["T_RETURN","return",252],["T_WHITESPACE"," ",252],["T_VARIABLE","$this",252],["T_OBJECT_OPERATOR","->",252],["T_STRING","getEntityIdField",252],"(",")",";",["T_WHITESPACE","\n    ",252],"}",["T_WHITESPACE","\n\n    ",253],["T_DOC_COMMENT","\/**\n     * Retreive table name\n     *\n     * @param string $alias\n     * @return string\n     *\/",255],["T_WHITESPACE","\n    ",260],["T_PUBLIC","public",261],["T_WHITESPACE"," ",261],["T_FUNCTION","function",261],["T_WHITESPACE"," ",261],["T_STRING","getTable",261],"(",["T_VARIABLE","$alias",261],")",["T_WHITESPACE","\n    ",261],"{",["T_WHITESPACE","\n        ",262],["T_RETURN","return",263],["T_WHITESPACE"," ",263],["T_STRING","Mage",263],["T_DOUBLE_COLON","::",263],["T_STRING","getSingleton",263],"(",["T_CONSTANT_ENCAPSED_STRING","'core\/resource'",263],")",["T_OBJECT_OPERATOR","->",263],["T_STRING","getTableName",263],"(",["T_VARIABLE","$alias",263],")",";",["T_WHITESPACE","\n    ",263],"}",["T_WHITESPACE","\n\n    ",264],["T_DOC_COMMENT","\/**\n     * Set configuration for the entity\n     *\n     * Accepts config node or name of entity type\n     *\n     * @param string|Mage_Eav_Model_Entity_Type $type\n     * @return Mage_Eav_Model_Entity_Abstract\n     *\/",266],["T_WHITESPACE","\n    ",273],["T_PUBLIC","public",274],["T_WHITESPACE"," ",274],["T_FUNCTION","function",274],["T_WHITESPACE"," ",274],["T_STRING","setType",274],"(",["T_VARIABLE","$type",274],")",["T_WHITESPACE","\n    ",274],"{",["T_WHITESPACE","\n        ",275],["T_VARIABLE","$this",276],["T_OBJECT_OPERATOR","->",276],["T_STRING","_type",276],["T_WHITESPACE"," ",276],"=",["T_WHITESPACE"," ",276],["T_STRING","Mage",276],["T_DOUBLE_COLON","::",276],["T_STRING","getSingleton",276],"(",["T_CONSTANT_ENCAPSED_STRING","'eav\/config'",276],")",["T_OBJECT_OPERATOR","->",276],["T_STRING","getEntityType",276],"(",["T_VARIABLE","$type",276],")",";",["T_WHITESPACE","\n        ",276],["T_VARIABLE","$this",277],["T_OBJECT_OPERATOR","->",277],["T_STRING","_afterSetConfig",277],"(",")",";",["T_WHITESPACE","\n        ",277],["T_RETURN","return",278],["T_WHITESPACE"," ",278],["T_VARIABLE","$this",278],";",["T_WHITESPACE","\n    ",278],"}",["T_WHITESPACE","\n\n    ",279],["T_DOC_COMMENT","\/**\n     * Retrieve current entity config\n     *\n     * @return Mage_Eav_Model_Entity_Type\n     *\/",281],["T_WHITESPACE","\n    ",285],["T_PUBLIC","public",286],["T_WHITESPACE"," ",286],["T_FUNCTION","function",286],["T_WHITESPACE"," ",286],["T_STRING","getEntityType",286],"(",")",["T_WHITESPACE","\n    ",286],"{",["T_WHITESPACE","\n        ",287],["T_IF","if",288],["T_WHITESPACE"," ",288],"(",["T_EMPTY","empty",288],"(",["T_VARIABLE","$this",288],["T_OBJECT_OPERATOR","->",288],["T_STRING","_type",288],")",")",["T_WHITESPACE"," ",288],"{",["T_WHITESPACE","\n            ",288],["T_THROW","throw",289],["T_WHITESPACE"," ",289],["T_STRING","Mage",289],["T_DOUBLE_COLON","::",289],["T_STRING","exception",289],"(",["T_CONSTANT_ENCAPSED_STRING","'Mage_Eav'",289],",",["T_WHITESPACE"," ",289],["T_STRING","Mage",289],["T_DOUBLE_COLON","::",289],["T_STRING","helper",289],"(",["T_CONSTANT_ENCAPSED_STRING","'eav'",289],")",["T_OBJECT_OPERATOR","->",289],["T_STRING","__",289],"(",["T_CONSTANT_ENCAPSED_STRING","'Entity is not initialized'",289],")",")",";",["T_WHITESPACE","\n        ",289],"}",["T_WHITESPACE","\n        ",290],["T_RETURN","return",291],["T_WHITESPACE"," ",291],["T_VARIABLE","$this",291],["T_OBJECT_OPERATOR","->",291],["T_STRING","_type",291],";",["T_WHITESPACE","\n    ",291],"}",["T_WHITESPACE","\n\n    ",292],["T_DOC_COMMENT","\/**\n     * Get entity type name\n     *\n     * @return string\n     *\/",294],["T_WHITESPACE","\n    ",298],["T_PUBLIC","public",299],["T_WHITESPACE"," ",299],["T_FUNCTION","function",299],["T_WHITESPACE"," ",299],["T_STRING","getType",299],"(",")",["T_WHITESPACE","\n    ",299],"{",["T_WHITESPACE","\n        ",300],["T_RETURN","return",301],["T_WHITESPACE"," ",301],["T_VARIABLE","$this",301],["T_OBJECT_OPERATOR","->",301],["T_STRING","getEntityType",301],"(",")",["T_OBJECT_OPERATOR","->",301],["T_STRING","getEntityTypeCode",301],"(",")",";",["T_WHITESPACE","\n    ",301],"}",["T_WHITESPACE","\n\n    ",302],["T_DOC_COMMENT","\/**\n     * Get entity type id\n     *\n     * @return int\n     *\/",304],["T_WHITESPACE","\n    ",308],["T_PUBLIC","public",309],["T_WHITESPACE"," ",309],["T_FUNCTION","function",309],["T_WHITESPACE"," ",309],["T_STRING","getTypeId",309],"(",")",["T_WHITESPACE","\n    ",309],"{",["T_WHITESPACE","\n        ",310],["T_RETURN","return",311],["T_WHITESPACE"," ",311],["T_INT_CAST","(int)",311],["T_VARIABLE","$this",311],["T_OBJECT_OPERATOR","->",311],["T_STRING","getEntityType",311],"(",")",["T_OBJECT_OPERATOR","->",311],["T_STRING","getEntityTypeId",311],"(",")",";",["T_WHITESPACE","\n    ",311],"}",["T_WHITESPACE","\n\n    ",312],["T_DOC_COMMENT","\/**\n     * Unset attributes\n     *\n     * If NULL or not supplied removes configuration of all attributes\n     * If string - removes only one, if array - all specified\n     *\n     * @param array|string|null $attributes\n     * @return Mage_Eav_Model_Entity_Abstract\n     *\/",314],["T_WHITESPACE","\n    ",322],["T_PUBLIC","public",323],["T_WHITESPACE"," ",323],["T_FUNCTION","function",323],["T_WHITESPACE"," ",323],["T_STRING","unsetAttributes",323],"(",["T_VARIABLE","$attributes",323],["T_WHITESPACE"," ",323],"=",["T_WHITESPACE"," ",323],["T_STRING","null",323],")",["T_WHITESPACE","\n    ",323],"{",["T_WHITESPACE","\n        ",324],["T_IF","if",325],["T_WHITESPACE"," ",325],"(",["T_VARIABLE","$attributes",325],["T_WHITESPACE"," ",325],["T_IS_IDENTICAL","===",325],["T_WHITESPACE"," ",325],["T_STRING","null",325],")",["T_WHITESPACE"," ",325],"{",["T_WHITESPACE","\n            ",325],["T_VARIABLE","$this",326],["T_OBJECT_OPERATOR","->",326],["T_STRING","_attributesByCode",326],["T_WHITESPACE","    ",326],"=",["T_WHITESPACE"," ",326],["T_ARRAY","array",326],"(",")",";",["T_WHITESPACE","\n            ",326],["T_VARIABLE","$this",327],["T_OBJECT_OPERATOR","->",327],["T_STRING","_attributesById",327],["T_WHITESPACE","      ",327],"=",["T_WHITESPACE"," ",327],["T_ARRAY","array",327],"(",")",";",["T_WHITESPACE","\n            ",327],["T_VARIABLE","$this",328],["T_OBJECT_OPERATOR","->",328],["T_STRING","_attributesByTable",328],["T_WHITESPACE","   ",328],"=",["T_WHITESPACE"," ",328],["T_ARRAY","array",328],"(",")",";",["T_WHITESPACE","\n            ",328],["T_RETURN","return",329],["T_WHITESPACE"," ",329],["T_VARIABLE","$this",329],";",["T_WHITESPACE","\n        ",329],"}",["T_WHITESPACE","\n\n        ",330],["T_IF","if",332],["T_WHITESPACE"," ",332],"(",["T_STRING","is_string",332],"(",["T_VARIABLE","$attributes",332],")",")",["T_WHITESPACE"," ",332],"{",["T_WHITESPACE","\n            ",332],["T_VARIABLE","$attributes",333],["T_WHITESPACE"," ",333],"=",["T_WHITESPACE"," ",333],["T_ARRAY","array",333],"(",["T_VARIABLE","$attributes",333],")",";",["T_WHITESPACE","\n        ",333],"}",["T_WHITESPACE","\n\n        ",334],["T_IF","if",336],["T_WHITESPACE"," ",336],"(","!",["T_STRING","is_array",336],"(",["T_VARIABLE","$attributes",336],")",")",["T_WHITESPACE"," ",336],"{",["T_WHITESPACE","\n            ",336],["T_THROW","throw",337],["T_WHITESPACE"," ",337],["T_STRING","Mage",337],["T_DOUBLE_COLON","::",337],["T_STRING","exception",337],"(",["T_CONSTANT_ENCAPSED_STRING","'Mage_Eav'",337],",",["T_WHITESPACE"," ",337],["T_STRING","Mage",337],["T_DOUBLE_COLON","::",337],["T_STRING","helper",337],"(",["T_CONSTANT_ENCAPSED_STRING","'eav'",337],")",["T_OBJECT_OPERATOR","->",337],["T_STRING","__",337],"(",["T_CONSTANT_ENCAPSED_STRING","'Unknown parameter'",337],")",")",";",["T_WHITESPACE","\n        ",337],"}",["T_WHITESPACE","\n\n        ",338],["T_FOREACH","foreach",340],["T_WHITESPACE"," ",340],"(",["T_VARIABLE","$attributes",340],["T_WHITESPACE"," ",340],["T_AS","as",340],["T_WHITESPACE"," ",340],["T_VARIABLE","$attrCode",340],")",["T_WHITESPACE"," ",340],"{",["T_WHITESPACE","\n            ",340],["T_IF","if",341],["T_WHITESPACE"," ",341],"(","!",["T_ISSET","isset",341],"(",["T_VARIABLE","$this",341],["T_OBJECT_OPERATOR","->",341],["T_STRING","_attributesByCode",341],"[",["T_VARIABLE","$attrCode",341],"]",")",")",["T_WHITESPACE"," ",341],"{",["T_WHITESPACE","\n                ",341],["T_CONTINUE","continue",342],";",["T_WHITESPACE","\n            ",342],"}",["T_WHITESPACE","\n\n            ",343],["T_VARIABLE","$attr",345],["T_WHITESPACE"," ",345],"=",["T_WHITESPACE"," ",345],["T_VARIABLE","$this",345],["T_OBJECT_OPERATOR","->",345],["T_STRING","getAttribute",345],"(",["T_VARIABLE","$attrCode",345],")",";",["T_WHITESPACE","\n            ",345],["T_UNSET","unset",346],"(",["T_VARIABLE","$this",346],["T_OBJECT_OPERATOR","->",346],["T_STRING","_attributesById",346],"[",["T_VARIABLE","$attr",346],["T_OBJECT_OPERATOR","->",346],["T_STRING","getId",346],"(",")","]",")",";",["T_WHITESPACE","\n            ",346],["T_UNSET","unset",347],"(",["T_VARIABLE","$this",347],["T_OBJECT_OPERATOR","->",347],["T_STRING","_attributesByTable",347],"[",["T_VARIABLE","$attr",347],["T_OBJECT_OPERATOR","->",347],["T_STRING","getBackend",347],"(",")",["T_OBJECT_OPERATOR","->",347],["T_STRING","getTable",347],"(",")","]","[",["T_VARIABLE","$attrCode",347],"]",")",";",["T_WHITESPACE","\n            ",347],["T_UNSET","unset",348],"(",["T_VARIABLE","$this",348],["T_OBJECT_OPERATOR","->",348],["T_STRING","_attributesByCode",348],"[",["T_VARIABLE","$attrCode",348],"]",")",";",["T_WHITESPACE","\n        ",348],"}",["T_WHITESPACE","\n\n        ",349],["T_RETURN","return",351],["T_WHITESPACE"," ",351],["T_VARIABLE","$this",351],";",["T_WHITESPACE","\n    ",351],"}",["T_WHITESPACE","\n\n    ",352],["T_DOC_COMMENT","\/**\n     * Retrieve attribute instance by name, id or config node\n     *\n     * This will add the attribute configuration to entity's attributes cache\n     *\n     * If attribute is not found false is returned\n     *\n     * @param string|integer|Mage_Core_Model_Config_Element $attribute\n     * @return Mage_Eav_Model_Entity_Attribute_Abstract || false\n     *\/",354],["T_WHITESPACE","\n    ",363],["T_PUBLIC","public",364],["T_WHITESPACE"," ",364],["T_FUNCTION","function",364],["T_WHITESPACE"," ",364],["T_STRING","getAttribute",364],"(",["T_VARIABLE","$attribute",364],")",["T_WHITESPACE","\n    ",364],"{",["T_WHITESPACE","\n        ",365],["T_IF","if",366],["T_WHITESPACE"," ",366],"(",["T_STRING","is_numeric",366],"(",["T_VARIABLE","$attribute",366],")",")",["T_WHITESPACE"," ",366],"{",["T_WHITESPACE","\n            ",366],["T_VARIABLE","$attributeId",367],["T_WHITESPACE"," ",367],"=",["T_WHITESPACE"," ",367],["T_VARIABLE","$attribute",367],";",["T_WHITESPACE","\n\n            ",367],["T_IF","if",369],["T_WHITESPACE"," ",369],"(",["T_ISSET","isset",369],"(",["T_VARIABLE","$this",369],["T_OBJECT_OPERATOR","->",369],["T_STRING","_attributesById",369],"[",["T_VARIABLE","$attributeId",369],"]",")",")",["T_WHITESPACE"," ",369],"{",["T_WHITESPACE","\n                ",369],["T_RETURN","return",370],["T_WHITESPACE"," ",370],["T_VARIABLE","$this",370],["T_OBJECT_OPERATOR","->",370],["T_STRING","_attributesById",370],"[",["T_VARIABLE","$attributeId",370],"]",";",["T_WHITESPACE","\n            ",370],"}",["T_WHITESPACE","\n            ",371],["T_VARIABLE","$attributeInstance",372],["T_WHITESPACE"," ",372],"=",["T_WHITESPACE"," ",372],["T_STRING","Mage",372],["T_DOUBLE_COLON","::",372],["T_STRING","getSingleton",372],"(",["T_CONSTANT_ENCAPSED_STRING","'eav\/config'",372],")",["T_OBJECT_OPERATOR","->",372],["T_STRING","getAttribute",372],"(",["T_VARIABLE","$this",372],["T_OBJECT_OPERATOR","->",372],["T_STRING","getEntityType",372],"(",")",",",["T_WHITESPACE"," ",372],["T_VARIABLE","$attributeId",372],")",";",["T_WHITESPACE","\n            ",372],["T_IF","if",373],["T_WHITESPACE"," ",373],"(",["T_VARIABLE","$attributeInstance",373],")",["T_WHITESPACE"," ",373],"{",["T_WHITESPACE","\n                ",373],["T_VARIABLE","$attributeCode",374],["T_WHITESPACE"," ",374],"=",["T_WHITESPACE"," ",374],["T_VARIABLE","$attributeInstance",374],["T_OBJECT_OPERATOR","->",374],["T_STRING","getAttributeCode",374],"(",")",";",["T_WHITESPACE","\n            ",374],"}",["T_WHITESPACE","\n\n        ",375],"}",["T_WHITESPACE"," ",377],["T_ELSE","else",377],["T_WHITESPACE"," ",377],["T_IF","if",377],["T_WHITESPACE"," ",377],"(",["T_STRING","is_string",377],"(",["T_VARIABLE","$attribute",377],")",")",["T_WHITESPACE"," ",377],"{",["T_WHITESPACE","\n            ",377],["T_VARIABLE","$attributeCode",378],["T_WHITESPACE"," ",378],"=",["T_WHITESPACE"," ",378],["T_VARIABLE","$attribute",378],";",["T_WHITESPACE","\n\n            ",378],["T_IF","if",380],["T_WHITESPACE"," ",380],"(",["T_ISSET","isset",380],"(",["T_VARIABLE","$this",380],["T_OBJECT_OPERATOR","->",380],["T_STRING","_attributesByCode",380],"[",["T_VARIABLE","$attributeCode",380],"]",")",")",["T_WHITESPACE"," ",380],"{",["T_WHITESPACE","\n                ",380],["T_RETURN","return",381],["T_WHITESPACE"," ",381],["T_VARIABLE","$this",381],["T_OBJECT_OPERATOR","->",381],["T_STRING","_attributesByCode",381],"[",["T_VARIABLE","$attributeCode",381],"]",";",["T_WHITESPACE","\n            ",381],"}",["T_WHITESPACE","\n            ",382],["T_VARIABLE","$attributeInstance",383],["T_WHITESPACE"," ",383],"=",["T_WHITESPACE"," ",383],["T_STRING","Mage",383],["T_DOUBLE_COLON","::",383],["T_STRING","getSingleton",383],"(",["T_CONSTANT_ENCAPSED_STRING","'eav\/config'",383],")",["T_WHITESPACE","\n                ",383],["T_OBJECT_OPERATOR","->",384],["T_STRING","getAttribute",384],"(",["T_VARIABLE","$this",384],["T_OBJECT_OPERATOR","->",384],["T_STRING","getEntityType",384],"(",")",",",["T_WHITESPACE"," ",384],["T_VARIABLE","$attributeCode",384],")",";",["T_WHITESPACE","\n            ",384],["T_IF","if",385],["T_WHITESPACE"," ",385],"(","!",["T_VARIABLE","$attributeInstance",385],["T_OBJECT_OPERATOR","->",385],["T_STRING","getAttributeCode",385],"(",")",["T_WHITESPACE"," ",385],["T_BOOLEAN_AND","&&",385],["T_WHITESPACE"," ",385],["T_STRING","in_array",385],"(",["T_VARIABLE","$attribute",385],",",["T_WHITESPACE"," ",385],["T_VARIABLE","$this",385],["T_OBJECT_OPERATOR","->",385],["T_STRING","getDefaultAttributes",385],"(",")",")",")",["T_WHITESPACE"," ",385],"{",["T_WHITESPACE","\n                ",385],["T_VARIABLE","$attributeInstance",386],["T_WHITESPACE","\n                    ",386],["T_OBJECT_OPERATOR","->",387],["T_STRING","setAttributeCode",387],"(",["T_VARIABLE","$attribute",387],")",["T_WHITESPACE","\n                    ",387],["T_OBJECT_OPERATOR","->",388],["T_STRING","setBackendType",388],"(",["T_STRING","Mage_Eav_Model_Entity_Attribute_Abstract",388],["T_DOUBLE_COLON","::",388],["T_STRING","TYPE_STATIC",388],")",["T_WHITESPACE","\n                    ",388],["T_OBJECT_OPERATOR","->",389],["T_STRING","setIsGlobal",389],"(",["T_LNUMBER","1",389],")",["T_WHITESPACE","\n                    ",389],["T_OBJECT_OPERATOR","->",390],["T_STRING","setEntity",390],"(",["T_VARIABLE","$this",390],")",["T_WHITESPACE","\n                    ",390],["T_OBJECT_OPERATOR","->",391],["T_STRING","setEntityType",391],"(",["T_VARIABLE","$this",391],["T_OBJECT_OPERATOR","->",391],["T_STRING","getEntityType",391],"(",")",")",["T_WHITESPACE","\n                    ",391],["T_OBJECT_OPERATOR","->",392],["T_STRING","setEntityTypeId",392],"(",["T_VARIABLE","$this",392],["T_OBJECT_OPERATOR","->",392],["T_STRING","getEntityType",392],"(",")",["T_OBJECT_OPERATOR","->",392],["T_STRING","getId",392],"(",")",")",";",["T_WHITESPACE","\n            ",392],"}",["T_WHITESPACE","\n        ",393],"}",["T_WHITESPACE"," ",394],["T_ELSE","else",394],["T_WHITESPACE"," ",394],["T_IF","if",394],["T_WHITESPACE"," ",394],"(",["T_VARIABLE","$attribute",394],["T_WHITESPACE"," ",394],["T_INSTANCEOF","instanceof",394],["T_WHITESPACE"," ",394],["T_STRING","Mage_Eav_Model_Entity_Attribute_Abstract",394],")",["T_WHITESPACE"," ",394],"{",["T_WHITESPACE","\n\n            ",394],["T_VARIABLE","$attributeInstance",396],["T_WHITESPACE"," ",396],"=",["T_WHITESPACE"," ",396],["T_VARIABLE","$attribute",396],";",["T_WHITESPACE","\n            ",396],["T_VARIABLE","$attributeCode",397],["T_WHITESPACE"," ",397],"=",["T_WHITESPACE"," ",397],["T_VARIABLE","$attributeInstance",397],["T_OBJECT_OPERATOR","->",397],["T_STRING","getAttributeCode",397],"(",")",";",["T_WHITESPACE","\n            ",397],["T_IF","if",398],["T_WHITESPACE"," ",398],"(",["T_ISSET","isset",398],"(",["T_VARIABLE","$this",398],["T_OBJECT_OPERATOR","->",398],["T_STRING","_attributesByCode",398],"[",["T_VARIABLE","$attributeCode",398],"]",")",")",["T_WHITESPACE"," ",398],"{",["T_WHITESPACE","\n                ",398],["T_RETURN","return",399],["T_WHITESPACE"," ",399],["T_VARIABLE","$this",399],["T_OBJECT_OPERATOR","->",399],["T_STRING","_attributesByCode",399],"[",["T_VARIABLE","$attributeCode",399],"]",";",["T_WHITESPACE","\n            ",399],"}",["T_WHITESPACE","\n        ",400],"}",["T_WHITESPACE","\n\n        ",401],["T_IF","if",403],["T_WHITESPACE"," ",403],"(",["T_EMPTY","empty",403],"(",["T_VARIABLE","$attributeInstance",403],")",["T_WHITESPACE","\n            ",403],["T_BOOLEAN_OR","||",404],["T_WHITESPACE"," ",404],"!","(",["T_VARIABLE","$attributeInstance",404],["T_WHITESPACE"," ",404],["T_INSTANCEOF","instanceof",404],["T_WHITESPACE"," ",404],["T_STRING","Mage_Eav_Model_Entity_Attribute_Abstract",404],")",["T_WHITESPACE","\n            ",404],["T_BOOLEAN_OR","||",405],["T_WHITESPACE"," ",405],"(","!",["T_VARIABLE","$attributeInstance",405],["T_OBJECT_OPERATOR","->",405],["T_STRING","getId",405],"(",")",["T_WHITESPACE","\n            ",405],["T_BOOLEAN_AND","&&",406],["T_WHITESPACE"," ",406],"!",["T_STRING","in_array",406],"(",["T_VARIABLE","$attributeInstance",406],["T_OBJECT_OPERATOR","->",406],["T_STRING","getAttributeCode",406],"(",")",",",["T_WHITESPACE"," ",406],["T_VARIABLE","$this",406],["T_OBJECT_OPERATOR","->",406],["T_STRING","getDefaultAttributes",406],"(",")",")",")",["T_WHITESPACE","\n        ",406],")",["T_WHITESPACE"," ",407],"{",["T_WHITESPACE","\n            ",407],["T_RETURN","return",408],["T_WHITESPACE"," ",408],["T_STRING","false",408],";",["T_WHITESPACE","\n        ",408],"}",["T_WHITESPACE","\n\n        ",409],["T_VARIABLE","$attribute",411],["T_WHITESPACE"," ",411],"=",["T_WHITESPACE"," ",411],["T_VARIABLE","$attributeInstance",411],";",["T_WHITESPACE","\n\n        ",411],["T_IF","if",413],["T_WHITESPACE"," ",413],"(",["T_EMPTY","empty",413],"(",["T_VARIABLE","$attributeId",413],")",")",["T_WHITESPACE"," ",413],"{",["T_WHITESPACE","\n            ",413],["T_VARIABLE","$attributeId",414],["T_WHITESPACE"," ",414],"=",["T_WHITESPACE"," ",414],["T_VARIABLE","$attribute",414],["T_OBJECT_OPERATOR","->",414],["T_STRING","getAttributeId",414],"(",")",";",["T_WHITESPACE","\n        ",414],"}",["T_WHITESPACE","\n\n        ",415],["T_IF","if",417],["T_WHITESPACE"," ",417],"(","!",["T_VARIABLE","$attribute",417],["T_OBJECT_OPERATOR","->",417],["T_STRING","getAttributeCode",417],"(",")",")",["T_WHITESPACE"," ",417],"{",["T_WHITESPACE","\n            ",417],["T_VARIABLE","$attribute",418],["T_OBJECT_OPERATOR","->",418],["T_STRING","setAttributeCode",418],"(",["T_VARIABLE","$attributeCode",418],")",";",["T_WHITESPACE","\n        ",418],"}",["T_WHITESPACE","\n        ",419],["T_IF","if",420],["T_WHITESPACE"," ",420],"(","!",["T_VARIABLE","$attribute",420],["T_OBJECT_OPERATOR","->",420],["T_STRING","getAttributeModel",420],"(",")",")",["T_WHITESPACE"," ",420],"{",["T_WHITESPACE","\n            ",420],["T_VARIABLE","$attribute",421],["T_OBJECT_OPERATOR","->",421],["T_STRING","setAttributeModel",421],"(",["T_VARIABLE","$this",421],["T_OBJECT_OPERATOR","->",421],["T_STRING","_getDefaultAttributeModel",421],"(",")",")",";",["T_WHITESPACE","\n        ",421],"}",["T_WHITESPACE","\n\n        ",422],["T_VARIABLE","$this",424],["T_OBJECT_OPERATOR","->",424],["T_STRING","addAttribute",424],"(",["T_VARIABLE","$attribute",424],")",";",["T_WHITESPACE","\n\n        ",424],["T_RETURN","return",426],["T_WHITESPACE"," ",426],["T_VARIABLE","$attribute",426],";",["T_WHITESPACE","\n    ",426],"}",["T_WHITESPACE","\n\n    ",427],["T_DOC_COMMENT","\/**\n     * Return default static virtual attribute that doesn't exists in EAV attributes\n     *\n     * @param string $attributeCode\n     * @return Mage_Eav_Model_Entity_Attribute\n     *\/",429],["T_WHITESPACE","\n    ",434],["T_PROTECTED","protected",435],["T_WHITESPACE"," ",435],["T_FUNCTION","function",435],["T_WHITESPACE"," ",435],["T_STRING","_getDefaultAttribute",435],"(",["T_VARIABLE","$attributeCode",435],")",["T_WHITESPACE","\n    ",435],"{",["T_WHITESPACE","\n        ",436],["T_VARIABLE","$entityTypeId",437],["T_WHITESPACE"," ",437],"=",["T_WHITESPACE"," ",437],["T_VARIABLE","$this",437],["T_OBJECT_OPERATOR","->",437],["T_STRING","getEntityType",437],"(",")",["T_OBJECT_OPERATOR","->",437],["T_STRING","getId",437],"(",")",";",["T_WHITESPACE","\n        ",437],["T_IF","if",438],["T_WHITESPACE"," ",438],"(","!",["T_ISSET","isset",438],"(",["T_STRING","self",438],["T_DOUBLE_COLON","::",438],["T_VARIABLE","$_defaultAttributes",438],"[",["T_VARIABLE","$entityTypeId",438],"]","[",["T_VARIABLE","$attributeCode",438],"]",")",")",["T_WHITESPACE"," ",438],"{",["T_WHITESPACE","\n            ",438],["T_VARIABLE","$attribute",439],["T_WHITESPACE"," ",439],"=",["T_WHITESPACE"," ",439],["T_STRING","Mage",439],["T_DOUBLE_COLON","::",439],["T_STRING","getModel",439],"(",["T_VARIABLE","$this",439],["T_OBJECT_OPERATOR","->",439],["T_STRING","getEntityType",439],"(",")",["T_OBJECT_OPERATOR","->",439],["T_STRING","getAttributeModel",439],"(",")",")",["T_WHITESPACE","\n                ",439],["T_OBJECT_OPERATOR","->",440],["T_STRING","setAttributeCode",440],"(",["T_VARIABLE","$attributeCode",440],")",["T_WHITESPACE","\n                ",440],["T_OBJECT_OPERATOR","->",441],["T_STRING","setBackendType",441],"(",["T_STRING","Mage_Eav_Model_Entity_Attribute_Abstract",441],["T_DOUBLE_COLON","::",441],["T_STRING","TYPE_STATIC",441],")",["T_WHITESPACE","\n                ",441],["T_OBJECT_OPERATOR","->",442],["T_STRING","setIsGlobal",442],"(",["T_LNUMBER","1",442],")",["T_WHITESPACE","\n                ",442],["T_OBJECT_OPERATOR","->",443],["T_STRING","setEntityType",443],"(",["T_VARIABLE","$this",443],["T_OBJECT_OPERATOR","->",443],["T_STRING","getEntityType",443],"(",")",")",["T_WHITESPACE","\n                ",443],["T_OBJECT_OPERATOR","->",444],["T_STRING","setEntityTypeId",444],"(",["T_VARIABLE","$this",444],["T_OBJECT_OPERATOR","->",444],["T_STRING","getEntityType",444],"(",")",["T_OBJECT_OPERATOR","->",444],["T_STRING","getId",444],"(",")",")",";",["T_WHITESPACE","\n            ",444],["T_STRING","self",445],["T_DOUBLE_COLON","::",445],["T_VARIABLE","$_defaultAttributes",445],"[",["T_VARIABLE","$entityTypeId",445],"]","[",["T_VARIABLE","$attributeCode",445],"]",["T_WHITESPACE"," ",445],"=",["T_WHITESPACE"," ",445],["T_VARIABLE","$attribute",445],";",["T_WHITESPACE","\n        ",445],"}",["T_WHITESPACE","\n\n        ",446],["T_RETURN","return",448],["T_WHITESPACE"," ",448],["T_STRING","self",448],["T_DOUBLE_COLON","::",448],["T_VARIABLE","$_defaultAttributes",448],"[",["T_VARIABLE","$entityTypeId",448],"]","[",["T_VARIABLE","$attributeCode",448],"]",";",["T_WHITESPACE","\n    ",448],"}",["T_WHITESPACE","\n\n    ",449],["T_DOC_COMMENT","\/**\n     * Adding attribute to entity\n     *\n     * @param   Mage_Eav_Model_Entity_Attribute_Abstract $attribute\n     * @return  Mage_Eav_Model_Entity_Abstract\n     *\/",451],["T_WHITESPACE","\n    ",456],["T_PUBLIC","public",457],["T_WHITESPACE"," ",457],["T_FUNCTION","function",457],["T_WHITESPACE"," ",457],["T_STRING","addAttribute",457],"(",["T_STRING","Mage_Eav_Model_Entity_Attribute_Abstract",457],["T_WHITESPACE"," ",457],["T_VARIABLE","$attribute",457],")",["T_WHITESPACE","\n    ",457],"{",["T_WHITESPACE","\n        ",458],["T_VARIABLE","$attribute",459],["T_OBJECT_OPERATOR","->",459],["T_STRING","setEntity",459],"(",["T_VARIABLE","$this",459],")",";",["T_WHITESPACE","\n        ",459],["T_VARIABLE","$attributeCode",460],["T_WHITESPACE"," ",460],"=",["T_WHITESPACE"," ",460],["T_VARIABLE","$attribute",460],["T_OBJECT_OPERATOR","->",460],["T_STRING","getAttributeCode",460],"(",")",";",["T_WHITESPACE","\n\n        ",460],["T_VARIABLE","$this",462],["T_OBJECT_OPERATOR","->",462],["T_STRING","_attributesByCode",462],"[",["T_VARIABLE","$attributeCode",462],"]",["T_WHITESPACE"," ",462],"=",["T_WHITESPACE"," ",462],["T_VARIABLE","$attribute",462],";",["T_WHITESPACE","\n\n        ",462],["T_IF","if",464],["T_WHITESPACE"," ",464],"(",["T_VARIABLE","$attribute",464],["T_OBJECT_OPERATOR","->",464],["T_STRING","isStatic",464],"(",")",")",["T_WHITESPACE"," ",464],"{",["T_WHITESPACE","\n            ",464],["T_VARIABLE","$this",465],["T_OBJECT_OPERATOR","->",465],["T_STRING","_staticAttributes",465],"[",["T_VARIABLE","$attributeCode",465],"]",["T_WHITESPACE"," ",465],"=",["T_WHITESPACE"," ",465],["T_VARIABLE","$attribute",465],";",["T_WHITESPACE","\n        ",465],"}",["T_WHITESPACE"," ",466],["T_ELSE","else",466],["T_WHITESPACE"," ",466],"{",["T_WHITESPACE","\n            ",466],["T_VARIABLE","$this",467],["T_OBJECT_OPERATOR","->",467],["T_STRING","_attributesById",467],"[",["T_VARIABLE","$attribute",467],["T_OBJECT_OPERATOR","->",467],["T_STRING","getId",467],"(",")","]",["T_WHITESPACE"," ",467],"=",["T_WHITESPACE"," ",467],["T_VARIABLE","$attribute",467],";",["T_WHITESPACE","\n            ",467],["T_VARIABLE","$this",468],["T_OBJECT_OPERATOR","->",468],["T_STRING","_attributesByTable",468],"[",["T_VARIABLE","$attribute",468],["T_OBJECT_OPERATOR","->",468],["T_STRING","getBackendTable",468],"(",")","]","[",["T_VARIABLE","$attributeCode",468],"]",["T_WHITESPACE"," ",468],"=",["T_WHITESPACE"," ",468],["T_VARIABLE","$attribute",468],";",["T_WHITESPACE","\n        ",468],"}",["T_WHITESPACE","\n\n        ",469],["T_RETURN","return",471],["T_WHITESPACE"," ",471],["T_VARIABLE","$this",471],";",["T_WHITESPACE","\n    ",471],"}",["T_WHITESPACE","\n\n    ",472],["T_DOC_COMMENT","\/**\n     * Retreive partial load flag\n     *\n     * @param boolean $flag\n     * @return boolean\n     *\/",474],["T_WHITESPACE","\n    ",479],["T_PUBLIC","public",480],["T_WHITESPACE"," ",480],["T_FUNCTION","function",480],["T_WHITESPACE"," ",480],["T_STRING","isPartialLoad",480],"(",["T_VARIABLE","$flag",480],["T_WHITESPACE"," ",480],"=",["T_WHITESPACE"," ",480],["T_STRING","null",480],")",["T_WHITESPACE","\n    ",480],"{",["T_WHITESPACE","\n        ",481],["T_VARIABLE","$result",482],["T_WHITESPACE"," ",482],"=",["T_WHITESPACE"," ",482],["T_VARIABLE","$this",482],["T_OBJECT_OPERATOR","->",482],["T_STRING","_isPartialLoad",482],";",["T_WHITESPACE","\n        ",482],["T_IF","if",483],["T_WHITESPACE"," ",483],"(",["T_VARIABLE","$flag",483],["T_WHITESPACE"," ",483],["T_IS_NOT_IDENTICAL","!==",483],["T_WHITESPACE"," ",483],["T_STRING","null",483],")",["T_WHITESPACE"," ",483],"{",["T_WHITESPACE","\n            ",483],["T_VARIABLE","$this",484],["T_OBJECT_OPERATOR","->",484],["T_STRING","_isPartialLoad",484],["T_WHITESPACE"," ",484],"=",["T_WHITESPACE"," ",484],["T_BOOL_CAST","(bool)",484],["T_VARIABLE","$flag",484],";",["T_WHITESPACE","\n        ",484],"}",["T_WHITESPACE","\n        ",485],["T_RETURN","return",486],["T_WHITESPACE"," ",486],["T_VARIABLE","$result",486],";",["T_WHITESPACE","\n    ",486],"}",["T_WHITESPACE","\n\n    ",487],["T_DOC_COMMENT","\/**\n     * Retreive partial save flag\n     *\n     * @param boolean $flag\n     * @return boolean\n     *\/",489],["T_WHITESPACE","\n    ",494],["T_PUBLIC","public",495],["T_WHITESPACE"," ",495],["T_FUNCTION","function",495],["T_WHITESPACE"," ",495],["T_STRING","isPartialSave",495],"(",["T_VARIABLE","$flag",495],["T_WHITESPACE"," ",495],"=",["T_WHITESPACE"," ",495],["T_STRING","null",495],")",["T_WHITESPACE","\n    ",495],"{",["T_WHITESPACE","\n        ",496],["T_VARIABLE","$result",497],["T_WHITESPACE"," ",497],"=",["T_WHITESPACE"," ",497],["T_VARIABLE","$this",497],["T_OBJECT_OPERATOR","->",497],["T_STRING","_isPartialSave",497],";",["T_WHITESPACE","\n        ",497],["T_IF","if",498],["T_WHITESPACE"," ",498],"(",["T_VARIABLE","$flag",498],["T_WHITESPACE"," ",498],["T_IS_NOT_IDENTICAL","!==",498],["T_WHITESPACE"," ",498],["T_STRING","null",498],")",["T_WHITESPACE"," ",498],"{",["T_WHITESPACE","\n            ",498],["T_VARIABLE","$this",499],["T_OBJECT_OPERATOR","->",499],["T_STRING","_isPartialSave",499],["T_WHITESPACE"," ",499],"=",["T_WHITESPACE"," ",499],["T_BOOL_CAST","(bool)",499],["T_VARIABLE","$flag",499],";",["T_WHITESPACE","\n        ",499],"}",["T_WHITESPACE","\n        ",500],["T_RETURN","return",501],["T_WHITESPACE"," ",501],["T_VARIABLE","$result",501],";",["T_WHITESPACE","\n    ",501],"}",["T_WHITESPACE","\n\n    ",502],["T_DOC_COMMENT","\/**\n     * Retrieve configuration for all attributes\n     *\n     * @return Mage_Eav_Model_Entity_Attribute_Abstract\n     *\/",504],["T_WHITESPACE","\n    ",508],["T_PUBLIC","public",509],["T_WHITESPACE"," ",509],["T_FUNCTION","function",509],["T_WHITESPACE"," ",509],["T_STRING","loadAllAttributes",509],"(",["T_VARIABLE","$object",509],"=",["T_STRING","null",509],")",["T_WHITESPACE","\n    ",509],"{",["T_WHITESPACE","\n        ",510],["T_VARIABLE","$attributeCodes",511],["T_WHITESPACE"," ",511],"=",["T_WHITESPACE"," ",511],["T_STRING","Mage",511],["T_DOUBLE_COLON","::",511],["T_STRING","getSingleton",511],"(",["T_CONSTANT_ENCAPSED_STRING","'eav\/config'",511],")",["T_WHITESPACE","\n            ",511],["T_OBJECT_OPERATOR","->",512],["T_STRING","getEntityAttributeCodes",512],"(",["T_VARIABLE","$this",512],["T_OBJECT_OPERATOR","->",512],["T_STRING","getEntityType",512],"(",")",",",["T_WHITESPACE"," ",512],["T_VARIABLE","$object",512],")",";",["T_WHITESPACE","\n\n        ",512],["T_DOC_COMMENT","\/**\n         * Check and init default attributes\n         *\/",514],["T_WHITESPACE","\n        ",516],["T_VARIABLE","$defaultAttributes",517],["T_WHITESPACE"," ",517],"=",["T_WHITESPACE"," ",517],["T_VARIABLE","$this",517],["T_OBJECT_OPERATOR","->",517],["T_STRING","getDefaultAttributes",517],"(",")",";",["T_WHITESPACE","\n        ",517],["T_FOREACH","foreach",518],["T_WHITESPACE"," ",518],"(",["T_VARIABLE","$defaultAttributes",518],["T_WHITESPACE"," ",518],["T_AS","as",518],["T_WHITESPACE"," ",518],["T_VARIABLE","$attributeCode",518],")",["T_WHITESPACE"," ",518],"{",["T_WHITESPACE","\n            ",518],["T_VARIABLE","$attributeIndex",519],["T_WHITESPACE"," ",519],"=",["T_WHITESPACE"," ",519],["T_STRING","array_search",519],"(",["T_VARIABLE","$attributeCode",519],",",["T_WHITESPACE"," ",519],["T_VARIABLE","$attributeCodes",519],")",";",["T_WHITESPACE","\n            ",519],["T_IF","if",520],["T_WHITESPACE"," ",520],"(",["T_VARIABLE","$attributeIndex",520],["T_WHITESPACE"," ",520],["T_IS_NOT_IDENTICAL","!==",520],["T_WHITESPACE"," ",520],["T_STRING","false",520],")",["T_WHITESPACE"," ",520],"{",["T_WHITESPACE","\n                ",520],["T_VARIABLE","$this",521],["T_OBJECT_OPERATOR","->",521],["T_STRING","getAttribute",521],"(",["T_VARIABLE","$attributeCodes",521],"[",["T_VARIABLE","$attributeIndex",521],"]",")",";",["T_WHITESPACE","\n                ",521],["T_UNSET","unset",522],"(",["T_VARIABLE","$attributeCodes",522],"[",["T_VARIABLE","$attributeIndex",522],"]",")",";",["T_WHITESPACE","\n            ",522],"}",["T_WHITESPACE"," ",523],["T_ELSE","else",523],["T_WHITESPACE"," ",523],"{",["T_WHITESPACE","\n                ",523],["T_VARIABLE","$this",524],["T_OBJECT_OPERATOR","->",524],["T_STRING","addAttribute",524],"(",["T_VARIABLE","$this",524],["T_OBJECT_OPERATOR","->",524],["T_STRING","_getDefaultAttribute",524],"(",["T_VARIABLE","$attributeCode",524],")",")",";",["T_WHITESPACE","\n            ",524],"}",["T_WHITESPACE","\n        ",525],"}",["T_WHITESPACE","\n\n        ",526],["T_FOREACH","foreach",528],["T_WHITESPACE"," ",528],"(",["T_VARIABLE","$attributeCodes",528],["T_WHITESPACE"," ",528],["T_AS","as",528],["T_WHITESPACE"," ",528],["T_VARIABLE","$code",528],")",["T_WHITESPACE"," ",528],"{",["T_WHITESPACE","\n            ",528],["T_VARIABLE","$this",529],["T_OBJECT_OPERATOR","->",529],["T_STRING","getAttribute",529],"(",["T_VARIABLE","$code",529],")",";",["T_WHITESPACE","\n        ",529],"}",["T_WHITESPACE","\n\n        ",530],["T_RETURN","return",532],["T_WHITESPACE"," ",532],["T_VARIABLE","$this",532],";",["T_WHITESPACE","\n    ",532],"}",["T_WHITESPACE","\n\n    ",533],["T_DOC_COMMENT","\/**\n     * Retrieve sorted attributes\n     *\n     * @param int $setId\n     * @return array\n     *\/",535],["T_WHITESPACE","\n    ",540],["T_PUBLIC","public",541],["T_WHITESPACE"," ",541],["T_FUNCTION","function",541],["T_WHITESPACE"," ",541],["T_STRING","getSortedAttributes",541],"(",["T_VARIABLE","$setId",541],["T_WHITESPACE"," ",541],"=",["T_WHITESPACE"," ",541],["T_STRING","null",541],")",["T_WHITESPACE","\n    ",541],"{",["T_WHITESPACE","\n        ",542],["T_VARIABLE","$attributes",543],["T_WHITESPACE"," ",543],"=",["T_WHITESPACE"," ",543],["T_VARIABLE","$this",543],["T_OBJECT_OPERATOR","->",543],["T_STRING","getAttributesByCode",543],"(",")",";",["T_WHITESPACE","\n        ",543],["T_IF","if",544],["T_WHITESPACE"," ",544],"(",["T_VARIABLE","$setId",544],["T_WHITESPACE"," ",544],["T_IS_IDENTICAL","===",544],["T_WHITESPACE"," ",544],["T_STRING","null",544],")",["T_WHITESPACE"," ",544],"{",["T_WHITESPACE","\n            ",544],["T_VARIABLE","$setId",545],["T_WHITESPACE"," ",545],"=",["T_WHITESPACE"," ",545],["T_VARIABLE","$this",545],["T_OBJECT_OPERATOR","->",545],["T_STRING","getEntityType",545],"(",")",["T_OBJECT_OPERATOR","->",545],["T_STRING","getDefaultAttributeSetId",545],"(",")",";",["T_WHITESPACE","\n        ",545],"}",["T_WHITESPACE","\n\n        ",546],["T_COMMENT","\/\/ initialize set info\n",548],["T_WHITESPACE","        ",549],["T_STRING","Mage",549],["T_DOUBLE_COLON","::",549],["T_STRING","getSingleton",549],"(",["T_CONSTANT_ENCAPSED_STRING","'eav\/entity_attribute_set'",549],")",["T_WHITESPACE","\n            ",549],["T_OBJECT_OPERATOR","->",550],["T_STRING","addSetInfo",550],"(",["T_VARIABLE","$this",550],["T_OBJECT_OPERATOR","->",550],["T_STRING","getEntityType",550],"(",")",",",["T_WHITESPACE"," ",550],["T_VARIABLE","$attributes",550],",",["T_WHITESPACE"," ",550],["T_VARIABLE","$setId",550],")",";",["T_WHITESPACE","\n\n        ",550],["T_FOREACH","foreach",552],["T_WHITESPACE"," ",552],"(",["T_VARIABLE","$attributes",552],["T_WHITESPACE"," ",552],["T_AS","as",552],["T_WHITESPACE"," ",552],["T_VARIABLE","$code",552],["T_WHITESPACE"," ",552],["T_DOUBLE_ARROW","=>",552],["T_WHITESPACE"," ",552],["T_VARIABLE","$attribute",552],")",["T_WHITESPACE"," ",552],"{",["T_WHITESPACE","\n            ",552],["T_COMMENT","\/* @var $attribute Mage_Eav_Model_Entity_Attribute_Abstract *\/",553],["T_WHITESPACE","\n            ",553],["T_IF","if",554],["T_WHITESPACE"," ",554],"(","!",["T_VARIABLE","$attribute",554],["T_OBJECT_OPERATOR","->",554],["T_STRING","isInSet",554],"(",["T_VARIABLE","$setId",554],")",")",["T_WHITESPACE"," ",554],"{",["T_WHITESPACE","\n                ",554],["T_UNSET","unset",555],"(",["T_VARIABLE","$attributes",555],"[",["T_VARIABLE","$code",555],"]",")",";",["T_WHITESPACE","\n            ",555],"}",["T_WHITESPACE","\n        ",556],"}",["T_WHITESPACE","\n\n        ",557],["T_VARIABLE","$this",559],["T_OBJECT_OPERATOR","->",559],["T_STRING","_sortingSetId",559],["T_WHITESPACE"," ",559],"=",["T_WHITESPACE"," ",559],["T_VARIABLE","$setId",559],";",["T_WHITESPACE","\n        ",559],["T_STRING","uasort",560],"(",["T_VARIABLE","$attributes",560],",",["T_WHITESPACE"," ",560],["T_ARRAY","array",560],"(",["T_VARIABLE","$this",560],",",["T_WHITESPACE"," ",560],["T_CONSTANT_ENCAPSED_STRING","'attributesCompare'",560],")",")",";",["T_WHITESPACE","\n        ",560],["T_RETURN","return",561],["T_WHITESPACE"," ",561],["T_VARIABLE","$attributes",561],";",["T_WHITESPACE","\n    ",561],"}",["T_WHITESPACE","\n\n    ",562],["T_DOC_COMMENT","\/**\n     * Compare attributes\n     *\n     * @param Mage_Eav_Model_Entity_Attribute $attribute1\n     * @param Mage_Eav_Model_Entity_Attribute $attribute2\n     * @return int\n     *\/",564],["T_WHITESPACE","\n    ",570],["T_PUBLIC","public",571],["T_WHITESPACE"," ",571],["T_FUNCTION","function",571],["T_WHITESPACE"," ",571],["T_STRING","attributesCompare",571],"(",["T_VARIABLE","$attribute1",571],",",["T_WHITESPACE"," ",571],["T_VARIABLE","$attribute2",571],")",["T_WHITESPACE","\n    ",571],"{",["T_WHITESPACE","\n        ",572],["T_VARIABLE","$sortPath",573],["T_WHITESPACE","      ",573],"=",["T_WHITESPACE"," ",573],["T_STRING","sprintf",573],"(",["T_CONSTANT_ENCAPSED_STRING","'attribute_set_info\/%s\/sort'",573],",",["T_WHITESPACE"," ",573],["T_VARIABLE","$this",573],["T_OBJECT_OPERATOR","->",573],["T_STRING","_sortingSetId",573],")",";",["T_WHITESPACE","\n        ",573],["T_VARIABLE","$groupSortPath",574],["T_WHITESPACE"," ",574],"=",["T_WHITESPACE"," ",574],["T_STRING","sprintf",574],"(",["T_CONSTANT_ENCAPSED_STRING","'attribute_set_info\/%s\/group_sort'",574],",",["T_WHITESPACE"," ",574],["T_VARIABLE","$this",574],["T_OBJECT_OPERATOR","->",574],["T_STRING","_sortingSetId",574],")",";",["T_WHITESPACE","\n\n        ",574],["T_VARIABLE","$sort1",576],["T_WHITESPACE"," ",576],"=",["T_WHITESPACE","  ",576],"(",["T_VARIABLE","$attribute1",576],["T_OBJECT_OPERATOR","->",576],["T_STRING","getData",576],"(",["T_VARIABLE","$groupSortPath",576],")",["T_WHITESPACE"," ",576],"*",["T_WHITESPACE"," ",576],["T_LNUMBER","1000",576],")",["T_WHITESPACE"," ",576],"+",["T_WHITESPACE"," ",576],"(",["T_VARIABLE","$attribute1",576],["T_OBJECT_OPERATOR","->",576],["T_STRING","getData",576],"(",["T_VARIABLE","$sortPath",576],")",["T_WHITESPACE"," ",576],"*",["T_WHITESPACE"," ",576],["T_DNUMBER","0.0001",576],")",";",["T_WHITESPACE","\n        ",576],["T_VARIABLE","$sort2",577],["T_WHITESPACE"," ",577],"=",["T_WHITESPACE","  ",577],"(",["T_VARIABLE","$attribute2",577],["T_OBJECT_OPERATOR","->",577],["T_STRING","getData",577],"(",["T_VARIABLE","$groupSortPath",577],")",["T_WHITESPACE"," ",577],"*",["T_WHITESPACE"," ",577],["T_LNUMBER","1000",577],")",["T_WHITESPACE"," ",577],"+",["T_WHITESPACE"," ",577],"(",["T_VARIABLE","$attribute2",577],["T_OBJECT_OPERATOR","->",577],["T_STRING","getData",577],"(",["T_VARIABLE","$sortPath",577],")",["T_WHITESPACE"," ",577],"*",["T_WHITESPACE"," ",577],["T_DNUMBER","0.0001",577],")",";",["T_WHITESPACE","\n\n        ",577],["T_IF","if",579],["T_WHITESPACE"," ",579],"(",["T_VARIABLE","$sort1",579],["T_WHITESPACE"," ",579],">",["T_WHITESPACE"," ",579],["T_VARIABLE","$sort2",579],")",["T_WHITESPACE"," ",579],"{",["T_WHITESPACE","\n            ",579],["T_RETURN","return",580],["T_WHITESPACE"," ",580],["T_LNUMBER","1",580],";",["T_WHITESPACE","\n        ",580],"}",["T_WHITESPACE"," ",581],["T_ELSEIF","elseif",581],["T_WHITESPACE"," ",581],"(",["T_VARIABLE","$sort1",581],["T_WHITESPACE"," ",581],"<",["T_WHITESPACE"," ",581],["T_VARIABLE","$sort2",581],")",["T_WHITESPACE"," ",581],"{",["T_WHITESPACE","\n            ",581],["T_RETURN","return",582],["T_WHITESPACE"," ",582],"-",["T_LNUMBER","1",582],";",["T_WHITESPACE","\n        ",582],"}",["T_WHITESPACE","\n\n        ",583],["T_RETURN","return",585],["T_WHITESPACE"," ",585],["T_LNUMBER","0",585],";",["T_WHITESPACE","\n    ",585],"}",["T_WHITESPACE","\n\n    ",586],["T_DOC_COMMENT","\/**\n     * Check whether the attribute is Applicable to the object\n     *\n     * @param   Varien_Object $object\n     * @param   Mage_Eav_Model_Entity_Attribute_Abstract $attribute\n     * @return  boolean\n     *\/",588],["T_WHITESPACE","\n    ",594],["T_PROTECTED","protected",595],["T_WHITESPACE"," ",595],["T_FUNCTION","function",595],["T_WHITESPACE"," ",595],["T_STRING","_isApplicableAttribute",595],"(",["T_VARIABLE","$object",595],",",["T_WHITESPACE"," ",595],["T_VARIABLE","$attribute",595],")",["T_WHITESPACE","\n    ",595],"{",["T_WHITESPACE","\n        ",596],["T_RETURN","return",597],["T_WHITESPACE"," ",597],["T_STRING","true",597],";",["T_WHITESPACE","\n    ",597],"}",["T_WHITESPACE","\n\n    ",598],["T_DOC_COMMENT","\/**\n     * Walk through the attributes and run method with optional arguments\n     *\n     * Returns array with results for each attribute\n     *\n     * if $method is in format \"part\/method\" will run method on specified part\n     * for example: $this->walkAttributes('backend\/validate');\n     *\n     * @param string $method\n     * @param array $args\n     * @param array $part attribute, backend, frontend, source\n     * @return array\n     *\/",600],["T_WHITESPACE","\n    ",612],["T_PUBLIC","public",613],["T_WHITESPACE"," ",613],["T_FUNCTION","function",613],["T_WHITESPACE"," ",613],["T_STRING","walkAttributes",613],"(",["T_VARIABLE","$partMethod",613],",",["T_WHITESPACE"," ",613],["T_ARRAY","array",613],["T_WHITESPACE"," ",613],["T_VARIABLE","$args",613],["T_WHITESPACE"," ",613],"=",["T_WHITESPACE"," ",613],["T_ARRAY","array",613],"(",")",")",["T_WHITESPACE","\n    ",613],"{",["T_WHITESPACE","\n        ",614],["T_VARIABLE","$methodArr",615],["T_WHITESPACE"," ",615],"=",["T_WHITESPACE"," ",615],["T_STRING","explode",615],"(",["T_CONSTANT_ENCAPSED_STRING","'\/'",615],",",["T_WHITESPACE"," ",615],["T_VARIABLE","$partMethod",615],")",";",["T_WHITESPACE","\n        ",615],["T_SWITCH","switch",616],["T_WHITESPACE"," ",616],"(",["T_STRING","sizeof",616],"(",["T_VARIABLE","$methodArr",616],")",")",["T_WHITESPACE"," ",616],"{",["T_WHITESPACE","\n            ",616],["T_CASE","case",617],["T_WHITESPACE"," ",617],["T_LNUMBER","1",617],":",["T_WHITESPACE","\n                ",617],["T_VARIABLE","$part",618],["T_WHITESPACE","   ",618],"=",["T_WHITESPACE"," ",618],["T_CONSTANT_ENCAPSED_STRING","'attribute'",618],";",["T_WHITESPACE","\n                ",618],["T_VARIABLE","$method",619],["T_WHITESPACE"," ",619],"=",["T_WHITESPACE"," ",619],["T_VARIABLE","$methodArr",619],"[",["T_LNUMBER","0",619],"]",";",["T_WHITESPACE","\n                ",619],["T_BREAK","break",620],";",["T_WHITESPACE","\n\n            ",620],["T_CASE","case",622],["T_WHITESPACE"," ",622],["T_LNUMBER","2",622],":",["T_WHITESPACE","\n                ",622],["T_VARIABLE","$part",623],["T_WHITESPACE","   ",623],"=",["T_WHITESPACE"," ",623],["T_VARIABLE","$methodArr",623],"[",["T_LNUMBER","0",623],"]",";",["T_WHITESPACE","\n                ",623],["T_VARIABLE","$method",624],["T_WHITESPACE"," ",624],"=",["T_WHITESPACE"," ",624],["T_VARIABLE","$methodArr",624],"[",["T_LNUMBER","1",624],"]",";",["T_WHITESPACE","\n                ",624],["T_BREAK","break",625],";",["T_WHITESPACE","\n        ",625],"}",["T_WHITESPACE","\n        ",626],["T_VARIABLE","$results",627],["T_WHITESPACE"," ",627],"=",["T_WHITESPACE"," ",627],["T_ARRAY","array",627],"(",")",";",["T_WHITESPACE","\n        ",627],["T_FOREACH","foreach",628],["T_WHITESPACE"," ",628],"(",["T_VARIABLE","$this",628],["T_OBJECT_OPERATOR","->",628],["T_STRING","getAttributesByCode",628],"(",")",["T_WHITESPACE"," ",628],["T_AS","as",628],["T_WHITESPACE"," ",628],["T_VARIABLE","$attrCode",628],["T_WHITESPACE"," ",628],["T_DOUBLE_ARROW","=>",628],["T_WHITESPACE"," ",628],["T_VARIABLE","$attribute",628],")",["T_WHITESPACE"," ",628],"{",["T_WHITESPACE","\n\n            ",628],["T_IF","if",630],["T_WHITESPACE"," ",630],"(",["T_ISSET","isset",630],"(",["T_VARIABLE","$args",630],"[",["T_LNUMBER","0",630],"]",")",["T_WHITESPACE"," ",630],["T_BOOLEAN_AND","&&",630],["T_WHITESPACE"," ",630],["T_STRING","is_object",630],"(",["T_VARIABLE","$args",630],"[",["T_LNUMBER","0",630],"]",")",["T_WHITESPACE"," ",630],["T_BOOLEAN_AND","&&",630],["T_WHITESPACE"," ",630],"!",["T_VARIABLE","$this",630],["T_OBJECT_OPERATOR","->",630],["T_STRING","_isApplicableAttribute",630],"(",["T_VARIABLE","$args",630],"[",["T_LNUMBER","0",630],"]",",",["T_WHITESPACE"," ",630],["T_VARIABLE","$attribute",630],")",")",["T_WHITESPACE"," ",630],"{",["T_WHITESPACE","\n                ",630],["T_CONTINUE","continue",631],";",["T_WHITESPACE","\n            ",631],"}",["T_WHITESPACE","\n\n            ",632],["T_SWITCH","switch",634],["T_WHITESPACE"," ",634],"(",["T_VARIABLE","$part",634],")",["T_WHITESPACE"," ",634],"{",["T_WHITESPACE","\n                ",634],["T_CASE","case",635],["T_WHITESPACE"," ",635],["T_CONSTANT_ENCAPSED_STRING","'attribute'",635],":",["T_WHITESPACE","\n                    ",635],["T_VARIABLE","$instance",636],["T_WHITESPACE"," ",636],"=",["T_WHITESPACE"," ",636],["T_VARIABLE","$attribute",636],";",["T_WHITESPACE","\n                    ",636],["T_BREAK","break",637],";",["T_WHITESPACE","\n\n                ",637],["T_CASE","case",639],["T_WHITESPACE"," ",639],["T_CONSTANT_ENCAPSED_STRING","'backend'",639],":",["T_WHITESPACE","\n                    ",639],["T_VARIABLE","$instance",640],["T_WHITESPACE"," ",640],"=",["T_WHITESPACE"," ",640],["T_VARIABLE","$attribute",640],["T_OBJECT_OPERATOR","->",640],["T_STRING","getBackend",640],"(",")",";",["T_WHITESPACE","\n                    ",640],["T_BREAK","break",641],";",["T_WHITESPACE","\n\n                ",641],["T_CASE","case",643],["T_WHITESPACE"," ",643],["T_CONSTANT_ENCAPSED_STRING","'frontend'",643],":",["T_WHITESPACE","\n                    ",643],["T_VARIABLE","$instance",644],["T_WHITESPACE"," ",644],"=",["T_WHITESPACE"," ",644],["T_VARIABLE","$attribute",644],["T_OBJECT_OPERATOR","->",644],["T_STRING","getFrontend",644],"(",")",";",["T_WHITESPACE","\n                    ",644],["T_BREAK","break",645],";",["T_WHITESPACE","\n\n                ",645],["T_CASE","case",647],["T_WHITESPACE"," ",647],["T_CONSTANT_ENCAPSED_STRING","'source'",647],":",["T_WHITESPACE","\n                    ",647],["T_VARIABLE","$instance",648],["T_WHITESPACE"," ",648],"=",["T_WHITESPACE"," ",648],["T_VARIABLE","$attribute",648],["T_OBJECT_OPERATOR","->",648],["T_STRING","getSource",648],"(",")",";",["T_WHITESPACE","\n                    ",648],["T_BREAK","break",649],";",["T_WHITESPACE","\n            ",649],"}",["T_WHITESPACE","\n\n            ",650],["T_IF","if",652],["T_WHITESPACE"," ",652],"(","!",["T_VARIABLE","$this",652],["T_OBJECT_OPERATOR","->",652],["T_STRING","_isCallableAttributeInstance",652],"(",["T_VARIABLE","$instance",652],",",["T_WHITESPACE"," ",652],["T_VARIABLE","$method",652],",",["T_WHITESPACE"," ",652],["T_VARIABLE","$args",652],")",")",["T_WHITESPACE"," ",652],"{",["T_WHITESPACE","\n                ",652],["T_CONTINUE","continue",653],";",["T_WHITESPACE","\n            ",653],"}",["T_WHITESPACE","\n\n            ",654],["T_TRY","try",656],["T_WHITESPACE"," ",656],"{",["T_WHITESPACE","\n                ",656],["T_VARIABLE","$results",657],"[",["T_VARIABLE","$attrCode",657],"]",["T_WHITESPACE"," ",657],"=",["T_WHITESPACE"," ",657],["T_STRING","call_user_func_array",657],"(",["T_ARRAY","array",657],"(",["T_VARIABLE","$instance",657],",",["T_WHITESPACE"," ",657],["T_VARIABLE","$method",657],")",",",["T_WHITESPACE"," ",657],["T_VARIABLE","$args",657],")",";",["T_WHITESPACE","\n            ",657],"}",["T_WHITESPACE"," ",658],["T_CATCH","catch",658],["T_WHITESPACE"," ",658],"(",["T_STRING","Mage_Eav_Model_Entity_Attribute_Exception",658],["T_WHITESPACE"," ",658],["T_VARIABLE","$e",658],")",["T_WHITESPACE"," ",658],"{",["T_WHITESPACE","\n                ",658],["T_THROW","throw",659],["T_WHITESPACE"," ",659],["T_VARIABLE","$e",659],";",["T_WHITESPACE","\n            ",659],"}",["T_WHITESPACE"," ",660],["T_CATCH","catch",660],["T_WHITESPACE"," ",660],"(",["T_STRING","Exception",660],["T_WHITESPACE"," ",660],["T_VARIABLE","$e",660],")",["T_WHITESPACE"," ",660],"{",["T_WHITESPACE","\n                ",660],["T_VARIABLE","$e",661],["T_WHITESPACE"," ",661],"=",["T_WHITESPACE"," ",661],["T_STRING","Mage",661],["T_DOUBLE_COLON","::",661],["T_STRING","getModel",661],"(",["T_CONSTANT_ENCAPSED_STRING","'eav\/entity_attribute_exception'",661],",",["T_WHITESPACE"," ",661],["T_VARIABLE","$e",661],["T_OBJECT_OPERATOR","->",661],["T_STRING","getMessage",661],"(",")",")",";",["T_WHITESPACE","\n                ",661],["T_VARIABLE","$e",662],["T_OBJECT_OPERATOR","->",662],["T_STRING","setAttributeCode",662],"(",["T_VARIABLE","$attrCode",662],")",["T_OBJECT_OPERATOR","->",662],["T_STRING","setPart",662],"(",["T_VARIABLE","$part",662],")",";",["T_WHITESPACE","\n                ",662],["T_THROW","throw",663],["T_WHITESPACE"," ",663],["T_VARIABLE","$e",663],";",["T_WHITESPACE","\n            ",663],"}",["T_WHITESPACE","\n        ",664],"}",["T_WHITESPACE","\n\n        ",665],["T_RETURN","return",667],["T_WHITESPACE"," ",667],["T_VARIABLE","$results",667],";",["T_WHITESPACE","\n    ",667],"}",["T_WHITESPACE","\n\n    ",668],["T_DOC_COMMENT","\/**\n     * Check whether attribute instance (attribute, backend, frontend or source) has method and applicable\n     *\n     * @param Mage_Eav_Model_Entity_Attribute_Abstract|Mage_Eav_Model_Entity_Attribute_Backend_Abstract|Mage_Eav_Model_Entity_Attribute_Frontend_Abstract|Mage_Eav_Model_Entity_Attribute_Source_Abstract $instance\n     * @param string $method\n     * @param array $args array of arguments\n     * @return boolean\n     *\/",670],["T_WHITESPACE","\n    ",677],["T_PROTECTED","protected",678],["T_WHITESPACE"," ",678],["T_FUNCTION","function",678],["T_WHITESPACE"," ",678],["T_STRING","_isCallableAttributeInstance",678],"(",["T_VARIABLE","$instance",678],",",["T_WHITESPACE"," ",678],["T_VARIABLE","$method",678],",",["T_WHITESPACE"," ",678],["T_VARIABLE","$args",678],")",["T_WHITESPACE","\n    ",678],"{",["T_WHITESPACE","\n        ",679],["T_IF","if",680],["T_WHITESPACE"," ",680],"(","!",["T_STRING","is_object",680],"(",["T_VARIABLE","$instance",680],")",["T_WHITESPACE"," ",680],["T_BOOLEAN_OR","||",680],["T_WHITESPACE"," ",680],"!",["T_STRING","method_exists",680],"(",["T_VARIABLE","$instance",680],",",["T_WHITESPACE"," ",680],["T_VARIABLE","$method",680],")",")",["T_WHITESPACE"," ",680],"{",["T_WHITESPACE","\n            ",680],["T_RETURN","return",681],["T_WHITESPACE"," ",681],["T_STRING","false",681],";",["T_WHITESPACE","\n        ",681],"}",["T_WHITESPACE","\n\n        ",682],["T_RETURN","return",684],["T_WHITESPACE"," ",684],["T_STRING","true",684],";",["T_WHITESPACE","\n    ",684],"}",["T_WHITESPACE","\n\n    ",685],["T_DOC_COMMENT","\/**\n     * Get attributes by name array\n     *\n     * @return array\n     *\/",687],["T_WHITESPACE","\n    ",691],["T_PUBLIC","public",692],["T_WHITESPACE"," ",692],["T_FUNCTION","function",692],["T_WHITESPACE"," ",692],["T_STRING","getAttributesByCode",692],"(",")",["T_WHITESPACE","\n    ",692],"{",["T_WHITESPACE","\n        ",693],["T_RETURN","return",694],["T_WHITESPACE"," ",694],["T_VARIABLE","$this",694],["T_OBJECT_OPERATOR","->",694],["T_STRING","_attributesByCode",694],";",["T_WHITESPACE","\n    ",694],"}",["T_WHITESPACE","\n\n    ",695],["T_DOC_COMMENT","\/**\n     * Get attributes by id array\n     *\n     * @return array\n     *\/",697],["T_WHITESPACE","\n    ",701],["T_PUBLIC","public",702],["T_WHITESPACE"," ",702],["T_FUNCTION","function",702],["T_WHITESPACE"," ",702],["T_STRING","getAttributesById",702],"(",")",["T_WHITESPACE","\n    ",702],"{",["T_WHITESPACE","\n        ",703],["T_RETURN","return",704],["T_WHITESPACE"," ",704],["T_VARIABLE","$this",704],["T_OBJECT_OPERATOR","->",704],["T_STRING","_attributesById",704],";",["T_WHITESPACE","\n    ",704],"}",["T_WHITESPACE","\n\n    ",705],["T_DOC_COMMENT","\/**\n     * Get attributes by table and name array\n     *\n     * @return array\n     *\/",707],["T_WHITESPACE","\n    ",711],["T_PUBLIC","public",712],["T_WHITESPACE"," ",712],["T_FUNCTION","function",712],["T_WHITESPACE"," ",712],["T_STRING","getAttributesByTable",712],"(",")",["T_WHITESPACE","\n    ",712],"{",["T_WHITESPACE","\n        ",713],["T_RETURN","return",714],["T_WHITESPACE"," ",714],["T_VARIABLE","$this",714],["T_OBJECT_OPERATOR","->",714],["T_STRING","_attributesByTable",714],";",["T_WHITESPACE","\n    ",714],"}",["T_WHITESPACE","\n\n    ",715],["T_DOC_COMMENT","\/**\n     * Get entity table name\n     *\n     * @return string\n     *\/",717],["T_WHITESPACE","\n    ",721],["T_PUBLIC","public",722],["T_WHITESPACE"," ",722],["T_FUNCTION","function",722],["T_WHITESPACE"," ",722],["T_STRING","getEntityTable",722],"(",")",["T_WHITESPACE","\n    ",722],"{",["T_WHITESPACE","\n        ",723],["T_IF","if",724],["T_WHITESPACE"," ",724],"(","!",["T_VARIABLE","$this",724],["T_OBJECT_OPERATOR","->",724],["T_STRING","_entityTable",724],")",["T_WHITESPACE"," ",724],"{",["T_WHITESPACE","\n            ",724],["T_VARIABLE","$table",725],["T_WHITESPACE"," ",725],"=",["T_WHITESPACE"," ",725],["T_VARIABLE","$this",725],["T_OBJECT_OPERATOR","->",725],["T_STRING","getEntityType",725],"(",")",["T_OBJECT_OPERATOR","->",725],["T_STRING","getEntityTable",725],"(",")",";",["T_WHITESPACE","\n            ",725],["T_IF","if",726],["T_WHITESPACE"," ",726],"(","!",["T_VARIABLE","$table",726],")",["T_WHITESPACE"," ",726],"{",["T_WHITESPACE","\n                ",726],["T_VARIABLE","$table",727],["T_WHITESPACE"," ",727],"=",["T_WHITESPACE"," ",727],["T_STRING","Mage_Eav_Model_Entity",727],["T_DOUBLE_COLON","::",727],["T_STRING","DEFAULT_ENTITY_TABLE",727],";",["T_WHITESPACE","\n            ",727],"}",["T_WHITESPACE","\n            ",728],["T_VARIABLE","$this",729],["T_OBJECT_OPERATOR","->",729],["T_STRING","_entityTable",729],["T_WHITESPACE"," ",729],"=",["T_WHITESPACE"," ",729],["T_STRING","Mage",729],["T_DOUBLE_COLON","::",729],["T_STRING","getSingleton",729],"(",["T_CONSTANT_ENCAPSED_STRING","'core\/resource'",729],")",["T_OBJECT_OPERATOR","->",729],["T_STRING","getTableName",729],"(",["T_VARIABLE","$table",729],")",";",["T_WHITESPACE","\n        ",729],"}",["T_WHITESPACE","\n\n        ",730],["T_RETURN","return",732],["T_WHITESPACE"," ",732],["T_VARIABLE","$this",732],["T_OBJECT_OPERATOR","->",732],["T_STRING","_entityTable",732],";",["T_WHITESPACE","\n    ",732],"}",["T_WHITESPACE","\n\n    ",733],["T_DOC_COMMENT","\/**\n     * Get entity id field name in entity table\n     *\n     * @return string\n     *\/",735],["T_WHITESPACE","\n    ",739],["T_PUBLIC","public",740],["T_WHITESPACE"," ",740],["T_FUNCTION","function",740],["T_WHITESPACE"," ",740],["T_STRING","getEntityIdField",740],"(",")",["T_WHITESPACE","\n    ",740],"{",["T_WHITESPACE","\n        ",741],["T_IF","if",742],["T_WHITESPACE"," ",742],"(","!",["T_VARIABLE","$this",742],["T_OBJECT_OPERATOR","->",742],["T_STRING","_entityIdField",742],")",["T_WHITESPACE"," ",742],"{",["T_WHITESPACE","\n            ",742],["T_VARIABLE","$this",743],["T_OBJECT_OPERATOR","->",743],["T_STRING","_entityIdField",743],["T_WHITESPACE"," ",743],"=",["T_WHITESPACE"," ",743],["T_VARIABLE","$this",743],["T_OBJECT_OPERATOR","->",743],["T_STRING","getEntityType",743],"(",")",["T_OBJECT_OPERATOR","->",743],["T_STRING","getEntityIdField",743],"(",")",";",["T_WHITESPACE","\n            ",743],["T_IF","if",744],["T_WHITESPACE"," ",744],"(","!",["T_VARIABLE","$this",744],["T_OBJECT_OPERATOR","->",744],["T_STRING","_entityIdField",744],")",["T_WHITESPACE"," ",744],"{",["T_WHITESPACE","\n                ",744],["T_VARIABLE","$this",745],["T_OBJECT_OPERATOR","->",745],["T_STRING","_entityIdField",745],["T_WHITESPACE"," ",745],"=",["T_WHITESPACE"," ",745],["T_STRING","Mage_Eav_Model_Entity",745],["T_DOUBLE_COLON","::",745],["T_STRING","DEFAULT_ENTITY_ID_FIELD",745],";",["T_WHITESPACE","\n            ",745],"}",["T_WHITESPACE","\n        ",746],"}",["T_WHITESPACE","\n\n        ",747],["T_RETURN","return",749],["T_WHITESPACE"," ",749],["T_VARIABLE","$this",749],["T_OBJECT_OPERATOR","->",749],["T_STRING","_entityIdField",749],";",["T_WHITESPACE","\n    ",749],"}",["T_WHITESPACE","\n\n    ",750],["T_DOC_COMMENT","\/**\n     * Get default entity id field name in attribute values tables\n     *\n     * @return string\n     *\/",752],["T_WHITESPACE","\n    ",756],["T_PUBLIC","public",757],["T_WHITESPACE"," ",757],["T_FUNCTION","function",757],["T_WHITESPACE"," ",757],["T_STRING","getValueEntityIdField",757],"(",")",["T_WHITESPACE","\n    ",757],"{",["T_WHITESPACE","\n        ",758],["T_RETURN","return",759],["T_WHITESPACE"," ",759],["T_VARIABLE","$this",759],["T_OBJECT_OPERATOR","->",759],["T_STRING","getEntityIdField",759],"(",")",";",["T_WHITESPACE","\n    ",759],"}",["T_WHITESPACE","\n\n    ",760],["T_DOC_COMMENT","\/**\n     * Get prefix for value tables\n     *\n     * @return string\n     *\/",762],["T_WHITESPACE","\n    ",766],["T_PUBLIC","public",767],["T_WHITESPACE"," ",767],["T_FUNCTION","function",767],["T_WHITESPACE"," ",767],["T_STRING","getValueTablePrefix",767],"(",")",["T_WHITESPACE","\n    ",767],"{",["T_WHITESPACE","\n        ",768],["T_IF","if",769],["T_WHITESPACE"," ",769],"(","!",["T_VARIABLE","$this",769],["T_OBJECT_OPERATOR","->",769],["T_STRING","_valueTablePrefix",769],")",["T_WHITESPACE"," ",769],"{",["T_WHITESPACE","\n            ",769],["T_VARIABLE","$prefix",770],["T_WHITESPACE"," ",770],"=",["T_WHITESPACE"," ",770],["T_STRING_CAST","(string)",770],["T_VARIABLE","$this",770],["T_OBJECT_OPERATOR","->",770],["T_STRING","getEntityType",770],"(",")",["T_OBJECT_OPERATOR","->",770],["T_STRING","getValueTablePrefix",770],"(",")",";",["T_WHITESPACE","\n            ",770],["T_IF","if",771],["T_WHITESPACE"," ",771],"(","!",["T_EMPTY","empty",771],"(",["T_VARIABLE","$prefix",771],")",")",["T_WHITESPACE"," ",771],"{",["T_WHITESPACE","\n                ",771],["T_VARIABLE","$this",772],["T_OBJECT_OPERATOR","->",772],["T_STRING","_valueTablePrefix",772],["T_WHITESPACE"," ",772],"=",["T_WHITESPACE"," ",772],["T_VARIABLE","$prefix",772],";",["T_WHITESPACE","\n                ",772],["T_DOC_COMMENT","\/**\n                 * entity type prefix include DB table name prefix\n                 *\/",773],["T_WHITESPACE","\n                ",775],["T_COMMENT","\/\/Mage::getSingleton('core\/resource')->getTableName($prefix);\n",776],["T_WHITESPACE","            ",777],"}",["T_WHITESPACE"," ",777],["T_ELSE","else",777],["T_WHITESPACE"," ",777],"{",["T_WHITESPACE","\n                ",777],["T_VARIABLE","$this",778],["T_OBJECT_OPERATOR","->",778],["T_STRING","_valueTablePrefix",778],["T_WHITESPACE"," ",778],"=",["T_WHITESPACE"," ",778],["T_VARIABLE","$this",778],["T_OBJECT_OPERATOR","->",778],["T_STRING","getEntityTable",778],"(",")",";",["T_WHITESPACE","\n            ",778],"}",["T_WHITESPACE","\n        ",779],"}",["T_WHITESPACE","\n\n        ",780],["T_RETURN","return",782],["T_WHITESPACE"," ",782],["T_VARIABLE","$this",782],["T_OBJECT_OPERATOR","->",782],["T_STRING","_valueTablePrefix",782],";",["T_WHITESPACE","\n    ",782],"}",["T_WHITESPACE","\n\n    ",783],["T_DOC_COMMENT","\/**\n     * Get entity table prefix for value\n     *\n     * @return string\n     *\/",785],["T_WHITESPACE","\n    ",789],["T_PUBLIC","public",790],["T_WHITESPACE"," ",790],["T_FUNCTION","function",790],["T_WHITESPACE"," ",790],["T_STRING","getEntityTablePrefix",790],"(",")",["T_WHITESPACE","\n    ",790],"{",["T_WHITESPACE","\n        ",791],["T_IF","if",792],["T_WHITESPACE"," ",792],"(",["T_EMPTY","empty",792],"(",["T_VARIABLE","$this",792],["T_OBJECT_OPERATOR","->",792],["T_STRING","_entityTablePrefix",792],")",")",["T_WHITESPACE"," ",792],"{",["T_WHITESPACE","\n            ",792],["T_VARIABLE","$prefix",793],["T_WHITESPACE"," ",793],"=",["T_WHITESPACE"," ",793],["T_VARIABLE","$this",793],["T_OBJECT_OPERATOR","->",793],["T_STRING","getEntityType",793],"(",")",["T_OBJECT_OPERATOR","->",793],["T_STRING","getEntityTablePrefix",793],"(",")",";",["T_WHITESPACE","\n            ",793],["T_IF","if",794],["T_WHITESPACE"," ",794],"(",["T_EMPTY","empty",794],"(",["T_VARIABLE","$prefix",794],")",")",["T_WHITESPACE"," ",794],"{",["T_WHITESPACE","\n                ",794],["T_VARIABLE","$prefix",795],["T_WHITESPACE"," ",795],"=",["T_WHITESPACE"," ",795],["T_VARIABLE","$this",795],["T_OBJECT_OPERATOR","->",795],["T_STRING","getEntityType",795],"(",")",["T_OBJECT_OPERATOR","->",795],["T_STRING","getEntityTable",795],"(",")",";",["T_WHITESPACE","\n                ",795],["T_IF","if",796],["T_WHITESPACE"," ",796],"(",["T_EMPTY","empty",796],"(",["T_VARIABLE","$prefix",796],")",")",["T_WHITESPACE"," ",796],"{",["T_WHITESPACE","\n                    ",796],["T_VARIABLE","$prefix",797],["T_WHITESPACE"," ",797],"=",["T_WHITESPACE"," ",797],["T_STRING","Mage_Eav_Model_Entity",797],["T_DOUBLE_COLON","::",797],["T_STRING","DEFAULT_ENTITY_TABLE",797],";",["T_WHITESPACE","\n                ",797],"}",["T_WHITESPACE","\n            ",798],"}",["T_WHITESPACE","\n            ",799],["T_VARIABLE","$this",800],["T_OBJECT_OPERATOR","->",800],["T_STRING","_entityTablePrefix",800],["T_WHITESPACE"," ",800],"=",["T_WHITESPACE"," ",800],["T_VARIABLE","$prefix",800],";",["T_WHITESPACE","\n        ",800],"}",["T_WHITESPACE","\n\n        ",801],["T_RETURN","return",803],["T_WHITESPACE"," ",803],["T_VARIABLE","$this",803],["T_OBJECT_OPERATOR","->",803],["T_STRING","_entityTablePrefix",803],";",["T_WHITESPACE","\n    ",803],"}",["T_WHITESPACE","\n\n    ",804],["T_DOC_COMMENT","\/**\n     * Check whether the attribute is a real field in entity table\n     *\n     * @see Mage_Eav_Model_Entity_Abstract::getAttribute for $attribute format\n     * @param integer|string|Mage_Eav_Model_Entity_Attribute_Abstract $attribute\n     *\n     * @return boolean\n     *\/",806],["T_WHITESPACE","\n    ",813],["T_PUBLIC","public",814],["T_WHITESPACE"," ",814],["T_FUNCTION","function",814],["T_WHITESPACE"," ",814],["T_STRING","isAttributeStatic",814],"(",["T_VARIABLE","$attribute",814],")",["T_WHITESPACE","\n    ",814],"{",["T_WHITESPACE","\n        ",815],["T_VARIABLE","$attrInstance",816],["T_WHITESPACE"," ",816],"=",["T_WHITESPACE"," ",816],["T_VARIABLE","$this",816],["T_OBJECT_OPERATOR","->",816],["T_STRING","getAttribute",816],"(",["T_VARIABLE","$attribute",816],")",";",["T_WHITESPACE","\n        ",816],["T_RETURN","return",817],["T_WHITESPACE"," ",817],["T_VARIABLE","$attrInstance",817],["T_WHITESPACE"," ",817],["T_BOOLEAN_AND","&&",817],["T_WHITESPACE"," ",817],["T_VARIABLE","$attrInstance",817],["T_OBJECT_OPERATOR","->",817],["T_STRING","getBackend",817],"(",")",["T_OBJECT_OPERATOR","->",817],["T_STRING","isStatic",817],"(",")",";",["T_WHITESPACE","\n    ",817],"}",["T_WHITESPACE","\n\n    ",818],["T_DOC_COMMENT","\/**\n     * Validate all object's attributes against configuration\n     *\n     * @param Varien_Object $object\n     * @throws Mage_Eav_Model_Entity_Attribute_Exception\n     * @return bool|array\n     *\/",820],["T_WHITESPACE","\n    ",826],["T_PUBLIC","public",827],["T_WHITESPACE"," ",827],["T_FUNCTION","function",827],["T_WHITESPACE"," ",827],["T_STRING","validate",827],"(",["T_VARIABLE","$object",827],")",["T_WHITESPACE","\n    ",827],"{",["T_WHITESPACE","\n        ",828],["T_VARIABLE","$this",829],["T_OBJECT_OPERATOR","->",829],["T_STRING","loadAllAttributes",829],"(",["T_VARIABLE","$object",829],")",";",["T_WHITESPACE","\n        ",829],["T_VARIABLE","$result",830],["T_WHITESPACE"," ",830],"=",["T_WHITESPACE"," ",830],["T_VARIABLE","$this",830],["T_OBJECT_OPERATOR","->",830],["T_STRING","walkAttributes",830],"(",["T_CONSTANT_ENCAPSED_STRING","'backend\/validate'",830],",",["T_WHITESPACE"," ",830],["T_ARRAY","array",830],"(",["T_VARIABLE","$object",830],")",")",";",["T_WHITESPACE","\n        ",830],["T_VARIABLE","$errors",831],["T_WHITESPACE"," ",831],"=",["T_WHITESPACE"," ",831],["T_ARRAY","array",831],"(",")",";",["T_WHITESPACE","\n        ",831],["T_FOREACH","foreach",832],["T_WHITESPACE"," ",832],"(",["T_VARIABLE","$result",832],["T_WHITESPACE"," ",832],["T_AS","as",832],["T_WHITESPACE"," ",832],["T_VARIABLE","$attributeCode",832],["T_WHITESPACE"," ",832],["T_DOUBLE_ARROW","=>",832],["T_WHITESPACE"," ",832],["T_VARIABLE","$error",832],")",["T_WHITESPACE"," ",832],"{",["T_WHITESPACE","\n            ",832],["T_IF","if",833],["T_WHITESPACE"," ",833],"(",["T_VARIABLE","$error",833],["T_WHITESPACE"," ",833],["T_IS_IDENTICAL","===",833],["T_WHITESPACE"," ",833],["T_STRING","false",833],")",["T_WHITESPACE"," ",833],"{",["T_WHITESPACE","\n                ",833],["T_VARIABLE","$errors",834],"[",["T_VARIABLE","$attributeCode",834],"]",["T_WHITESPACE"," ",834],"=",["T_WHITESPACE"," ",834],["T_STRING","true",834],";",["T_WHITESPACE","\n            ",834],"}",["T_WHITESPACE"," ",835],["T_ELSEIF","elseif",835],["T_WHITESPACE"," ",835],"(",["T_STRING","is_string",835],"(",["T_VARIABLE","$error",835],")",")",["T_WHITESPACE"," ",835],"{",["T_WHITESPACE","\n                ",835],["T_VARIABLE","$errors",836],"[",["T_VARIABLE","$attributeCode",836],"]",["T_WHITESPACE"," ",836],"=",["T_WHITESPACE"," ",836],["T_VARIABLE","$error",836],";",["T_WHITESPACE","\n            ",836],"}",["T_WHITESPACE","\n        ",837],"}",["T_WHITESPACE","\n        ",838],["T_IF","if",839],["T_WHITESPACE"," ",839],"(","!",["T_VARIABLE","$errors",839],")",["T_WHITESPACE"," ",839],"{",["T_WHITESPACE","\n            ",839],["T_RETURN","return",840],["T_WHITESPACE"," ",840],["T_STRING","true",840],";",["T_WHITESPACE","\n        ",840],"}",["T_WHITESPACE","\n\n        ",841],["T_RETURN","return",843],["T_WHITESPACE"," ",843],["T_VARIABLE","$errors",843],";",["T_WHITESPACE","\n    ",843],"}",["T_WHITESPACE","\n\n    ",844],["T_DOC_COMMENT","\/**\n     * Set new increment id to object\n     *\n     * @param Varien_Object $object\n     * @return Mage_Eav_Model_Entity_Abstract\n     *\/",846],["T_WHITESPACE","\n    ",851],["T_PUBLIC","public",852],["T_WHITESPACE"," ",852],["T_FUNCTION","function",852],["T_WHITESPACE"," ",852],["T_STRING","setNewIncrementId",852],"(",["T_STRING","Varien_Object",852],["T_WHITESPACE"," ",852],["T_VARIABLE","$object",852],")",["T_WHITESPACE","\n    ",852],"{",["T_WHITESPACE","\n        ",853],["T_IF","if",854],["T_WHITESPACE"," ",854],"(",["T_VARIABLE","$object",854],["T_OBJECT_OPERATOR","->",854],["T_STRING","getIncrementId",854],"(",")",")",["T_WHITESPACE"," ",854],"{",["T_WHITESPACE","\n            ",854],["T_RETURN","return",855],["T_WHITESPACE"," ",855],["T_VARIABLE","$this",855],";",["T_WHITESPACE","\n        ",855],"}",["T_WHITESPACE","\n\n        ",856],["T_VARIABLE","$incrementId",858],["T_WHITESPACE"," ",858],"=",["T_WHITESPACE"," ",858],["T_VARIABLE","$this",858],["T_OBJECT_OPERATOR","->",858],["T_STRING","getEntityType",858],"(",")",["T_OBJECT_OPERATOR","->",858],["T_STRING","fetchNewIncrementId",858],"(",["T_VARIABLE","$object",858],["T_OBJECT_OPERATOR","->",858],["T_STRING","getStoreId",858],"(",")",")",";",["T_WHITESPACE","\n\n        ",858],["T_IF","if",860],["T_WHITESPACE"," ",860],"(",["T_VARIABLE","$incrementId",860],["T_WHITESPACE"," ",860],["T_IS_NOT_IDENTICAL","!==",860],["T_WHITESPACE"," ",860],["T_STRING","false",860],")",["T_WHITESPACE"," ",860],"{",["T_WHITESPACE","\n            ",860],["T_VARIABLE","$object",861],["T_OBJECT_OPERATOR","->",861],["T_STRING","setIncrementId",861],"(",["T_VARIABLE","$incrementId",861],")",";",["T_WHITESPACE","\n        ",861],"}",["T_WHITESPACE","\n\n        ",862],["T_RETURN","return",864],["T_WHITESPACE"," ",864],["T_VARIABLE","$this",864],";",["T_WHITESPACE","\n    ",864],"}",["T_WHITESPACE","\n\n    ",865],["T_DOC_COMMENT","\/**\n     * Check attribute unique value\n     *\n     * @param Mage_Eav_Model_Entity_Attribute_Abstract $attribute\n     * @param Varien_Object $object\n     * @return boolean\n     *\/",867],["T_WHITESPACE","\n    ",873],["T_PUBLIC","public",874],["T_WHITESPACE"," ",874],["T_FUNCTION","function",874],["T_WHITESPACE"," ",874],["T_STRING","checkAttributeUniqueValue",874],"(",["T_STRING","Mage_Eav_Model_Entity_Attribute_Abstract",874],["T_WHITESPACE"," ",874],["T_VARIABLE","$attribute",874],",",["T_WHITESPACE"," ",874],["T_VARIABLE","$object",874],")",["T_WHITESPACE","\n    ",874],"{",["T_WHITESPACE","\n        ",875],["T_VARIABLE","$adapter",876],["T_WHITESPACE"," ",876],"=",["T_WHITESPACE"," ",876],["T_VARIABLE","$this",876],["T_OBJECT_OPERATOR","->",876],["T_STRING","_getReadAdapter",876],"(",")",";",["T_WHITESPACE","\n        ",876],["T_VARIABLE","$select",877],["T_WHITESPACE"," ",877],"=",["T_WHITESPACE"," ",877],["T_VARIABLE","$adapter",877],["T_OBJECT_OPERATOR","->",877],["T_STRING","select",877],"(",")",";",["T_WHITESPACE","\n        ",877],["T_IF","if",878],["T_WHITESPACE"," ",878],"(",["T_VARIABLE","$attribute",878],["T_OBJECT_OPERATOR","->",878],["T_STRING","getBackend",878],"(",")",["T_OBJECT_OPERATOR","->",878],["T_STRING","getType",878],"(",")",["T_WHITESPACE"," ",878],["T_IS_IDENTICAL","===",878],["T_WHITESPACE"," ",878],["T_CONSTANT_ENCAPSED_STRING","'static'",878],")",["T_WHITESPACE"," ",878],"{",["T_WHITESPACE","\n            ",878],["T_VARIABLE","$value",879],["T_WHITESPACE"," ",879],"=",["T_WHITESPACE"," ",879],["T_VARIABLE","$object",879],["T_OBJECT_OPERATOR","->",879],["T_STRING","getData",879],"(",["T_VARIABLE","$attribute",879],["T_OBJECT_OPERATOR","->",879],["T_STRING","getAttributeCode",879],"(",")",")",";",["T_WHITESPACE","\n            ",879],["T_VARIABLE","$bind",880],["T_WHITESPACE"," ",880],"=",["T_WHITESPACE"," ",880],["T_ARRAY","array",880],"(",["T_WHITESPACE","\n                ",880],["T_CONSTANT_ENCAPSED_STRING","'entity_type_id'",881],["T_WHITESPACE"," ",881],["T_DOUBLE_ARROW","=>",881],["T_WHITESPACE"," ",881],["T_VARIABLE","$this",881],["T_OBJECT_OPERATOR","->",881],["T_STRING","getTypeId",881],"(",")",",",["T_WHITESPACE","\n                ",881],["T_CONSTANT_ENCAPSED_STRING","'attribute_code'",882],["T_WHITESPACE"," ",882],["T_DOUBLE_ARROW","=>",882],["T_WHITESPACE"," ",882],["T_STRING","trim",882],"(",["T_VARIABLE","$value",882],")",["T_WHITESPACE","\n            ",882],")",";",["T_WHITESPACE","\n\n            ",883],["T_VARIABLE","$select",885],["T_WHITESPACE","\n                ",885],["T_OBJECT_OPERATOR","->",886],["T_STRING","from",886],"(",["T_VARIABLE","$this",886],["T_OBJECT_OPERATOR","->",886],["T_STRING","getEntityTable",886],"(",")",",",["T_WHITESPACE"," ",886],["T_VARIABLE","$this",886],["T_OBJECT_OPERATOR","->",886],["T_STRING","getEntityIdField",886],"(",")",")",["T_WHITESPACE","\n                ",886],["T_OBJECT_OPERATOR","->",887],["T_STRING","where",887],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_type_id = :entity_type_id'",887],")",["T_WHITESPACE","\n                ",887],["T_OBJECT_OPERATOR","->",888],["T_STRING","where",888],"(",["T_VARIABLE","$attribute",888],["T_OBJECT_OPERATOR","->",888],["T_STRING","getAttributeCode",888],"(",")",["T_WHITESPACE"," ",888],".",["T_WHITESPACE"," ",888],["T_CONSTANT_ENCAPSED_STRING","' = :attribute_code'",888],")",";",["T_WHITESPACE","\n        ",888],"}",["T_WHITESPACE"," ",889],["T_ELSE","else",889],["T_WHITESPACE"," ",889],"{",["T_WHITESPACE","\n            ",889],["T_VARIABLE","$value",890],["T_WHITESPACE"," ",890],"=",["T_WHITESPACE"," ",890],["T_VARIABLE","$object",890],["T_OBJECT_OPERATOR","->",890],["T_STRING","getData",890],"(",["T_VARIABLE","$attribute",890],["T_OBJECT_OPERATOR","->",890],["T_STRING","getAttributeCode",890],"(",")",")",";",["T_WHITESPACE","\n            ",890],["T_IF","if",891],["T_WHITESPACE"," ",891],"(",["T_VARIABLE","$attribute",891],["T_OBJECT_OPERATOR","->",891],["T_STRING","getBackend",891],"(",")",["T_OBJECT_OPERATOR","->",891],["T_STRING","getType",891],"(",")",["T_WHITESPACE"," ",891],["T_IS_EQUAL","==",891],["T_WHITESPACE"," ",891],["T_CONSTANT_ENCAPSED_STRING","'datetime'",891],")",["T_WHITESPACE"," ",891],"{",["T_WHITESPACE","\n                ",891],["T_VARIABLE","$date",892],["T_WHITESPACE","  ",892],"=",["T_WHITESPACE"," ",892],["T_NEW","new",892],["T_WHITESPACE"," ",892],["T_STRING","Zend_Date",892],"(",["T_VARIABLE","$value",892],",",["T_WHITESPACE"," ",892],["T_STRING","Varien_Date",892],["T_DOUBLE_COLON","::",892],["T_STRING","DATE_INTERNAL_FORMAT",892],")",";",["T_WHITESPACE","\n                ",892],["T_VARIABLE","$value",893],["T_WHITESPACE"," ",893],"=",["T_WHITESPACE"," ",893],["T_VARIABLE","$date",893],["T_OBJECT_OPERATOR","->",893],["T_STRING","toString",893],"(",["T_STRING","Varien_Date",893],["T_DOUBLE_COLON","::",893],["T_STRING","DATETIME_INTERNAL_FORMAT",893],")",";",["T_WHITESPACE","\n            ",893],"}",["T_WHITESPACE","\n            ",894],["T_VARIABLE","$bind",895],["T_WHITESPACE"," ",895],"=",["T_WHITESPACE"," ",895],["T_ARRAY","array",895],"(",["T_WHITESPACE","\n                ",895],["T_CONSTANT_ENCAPSED_STRING","'entity_type_id'",896],["T_WHITESPACE"," ",896],["T_DOUBLE_ARROW","=>",896],["T_WHITESPACE"," ",896],["T_VARIABLE","$this",896],["T_OBJECT_OPERATOR","->",896],["T_STRING","getTypeId",896],"(",")",",",["T_WHITESPACE","\n                ",896],["T_CONSTANT_ENCAPSED_STRING","'attribute_id'",897],["T_WHITESPACE","   ",897],["T_DOUBLE_ARROW","=>",897],["T_WHITESPACE"," ",897],["T_VARIABLE","$attribute",897],["T_OBJECT_OPERATOR","->",897],["T_STRING","getId",897],"(",")",",",["T_WHITESPACE","\n                ",897],["T_CONSTANT_ENCAPSED_STRING","'value'",898],["T_WHITESPACE","          ",898],["T_DOUBLE_ARROW","=>",898],["T_WHITESPACE"," ",898],["T_STRING","trim",898],"(",["T_VARIABLE","$value",898],")",["T_WHITESPACE","\n            ",898],")",";",["T_WHITESPACE","\n            ",899],["T_VARIABLE","$select",900],["T_WHITESPACE","\n                ",900],["T_OBJECT_OPERATOR","->",901],["T_STRING","from",901],"(",["T_VARIABLE","$attribute",901],["T_OBJECT_OPERATOR","->",901],["T_STRING","getBackend",901],"(",")",["T_OBJECT_OPERATOR","->",901],["T_STRING","getTable",901],"(",")",",",["T_WHITESPACE"," ",901],["T_VARIABLE","$attribute",901],["T_OBJECT_OPERATOR","->",901],["T_STRING","getBackend",901],"(",")",["T_OBJECT_OPERATOR","->",901],["T_STRING","getEntityIdField",901],"(",")",")",["T_WHITESPACE","\n                ",901],["T_OBJECT_OPERATOR","->",902],["T_STRING","where",902],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_type_id = :entity_type_id'",902],")",["T_WHITESPACE","\n                ",902],["T_OBJECT_OPERATOR","->",903],["T_STRING","where",903],"(",["T_CONSTANT_ENCAPSED_STRING","'attribute_id = :attribute_id'",903],")",["T_WHITESPACE","\n                ",903],["T_OBJECT_OPERATOR","->",904],["T_STRING","where",904],"(",["T_CONSTANT_ENCAPSED_STRING","'value = :value'",904],")",";",["T_WHITESPACE","\n        ",904],"}",["T_WHITESPACE","\n        ",905],["T_VARIABLE","$data",906],["T_WHITESPACE"," ",906],"=",["T_WHITESPACE"," ",906],["T_VARIABLE","$adapter",906],["T_OBJECT_OPERATOR","->",906],["T_STRING","fetchCol",906],"(",["T_VARIABLE","$select",906],",",["T_WHITESPACE"," ",906],["T_VARIABLE","$bind",906],")",";",["T_WHITESPACE","\n\n        ",906],["T_IF","if",908],["T_WHITESPACE"," ",908],"(",["T_VARIABLE","$object",908],["T_OBJECT_OPERATOR","->",908],["T_STRING","getId",908],"(",")",")",["T_WHITESPACE"," ",908],"{",["T_WHITESPACE","\n            ",908],["T_IF","if",909],["T_WHITESPACE"," ",909],"(",["T_ISSET","isset",909],"(",["T_VARIABLE","$data",909],"[",["T_LNUMBER","0",909],"]",")",")",["T_WHITESPACE"," ",909],"{",["T_WHITESPACE","\n                ",909],["T_RETURN","return",910],["T_WHITESPACE"," ",910],["T_VARIABLE","$data",910],"[",["T_LNUMBER","0",910],"]",["T_WHITESPACE"," ",910],["T_IS_EQUAL","==",910],["T_WHITESPACE"," ",910],["T_VARIABLE","$object",910],["T_OBJECT_OPERATOR","->",910],["T_STRING","getId",910],"(",")",";",["T_WHITESPACE","\n            ",910],"}",["T_WHITESPACE","\n            ",911],["T_RETURN","return",912],["T_WHITESPACE"," ",912],["T_STRING","true",912],";",["T_WHITESPACE","\n        ",912],"}",["T_WHITESPACE","\n\n        ",913],["T_RETURN","return",915],["T_WHITESPACE"," ",915],"!",["T_STRING","count",915],"(",["T_VARIABLE","$data",915],")",";",["T_WHITESPACE","\n    ",915],"}",["T_WHITESPACE","\n\n    ",916],["T_DOC_COMMENT","\/**\n     * Retreive default source model\n     *\n     * @return string\n     *\/",918],["T_WHITESPACE","\n    ",922],["T_PUBLIC","public",923],["T_WHITESPACE"," ",923],["T_FUNCTION","function",923],["T_WHITESPACE"," ",923],["T_STRING","getDefaultAttributeSourceModel",923],"(",")",["T_WHITESPACE","\n    ",923],"{",["T_WHITESPACE","\n        ",924],["T_RETURN","return",925],["T_WHITESPACE"," ",925],["T_STRING","Mage_Eav_Model_Entity",925],["T_DOUBLE_COLON","::",925],["T_STRING","DEFAULT_SOURCE_MODEL",925],";",["T_WHITESPACE","\n    ",925],"}",["T_WHITESPACE","\n\n    ",926],["T_DOC_COMMENT","\/**\n     * Load entity's attributes into the object\n     *\n     * @param   Mage_Core_Model_Abstract $object\n     * @param   integer $entityId\n     * @param   array|null $attributes\n     * @return  Mage_Eav_Model_Entity_Abstract\n     *\/",928],["T_WHITESPACE","\n    ",935],["T_PUBLIC","public",936],["T_WHITESPACE"," ",936],["T_FUNCTION","function",936],["T_WHITESPACE"," ",936],["T_STRING","load",936],"(",["T_VARIABLE","$object",936],",",["T_WHITESPACE"," ",936],["T_VARIABLE","$entityId",936],",",["T_WHITESPACE"," ",936],["T_VARIABLE","$attributes",936],["T_WHITESPACE"," ",936],"=",["T_WHITESPACE"," ",936],["T_ARRAY","array",936],"(",")",")",["T_WHITESPACE","\n    ",936],"{",["T_WHITESPACE","\n        ",937],["T_STRING","Varien_Profiler",938],["T_DOUBLE_COLON","::",938],["T_STRING","start",938],"(",["T_CONSTANT_ENCAPSED_STRING","'__EAV_LOAD_MODEL__'",938],")",";",["T_WHITESPACE","\n        ",938],["T_DOC_COMMENT","\/**\n         * Load object base row data\n         *\/",939],["T_WHITESPACE","\n        ",941],["T_VARIABLE","$select",942],["T_WHITESPACE","  ",942],"=",["T_WHITESPACE"," ",942],["T_VARIABLE","$this",942],["T_OBJECT_OPERATOR","->",942],["T_STRING","_getLoadRowSelect",942],"(",["T_VARIABLE","$object",942],",",["T_WHITESPACE"," ",942],["T_VARIABLE","$entityId",942],")",";",["T_WHITESPACE","\n        ",942],["T_VARIABLE","$row",943],["T_WHITESPACE","     ",943],"=",["T_WHITESPACE"," ",943],["T_VARIABLE","$this",943],["T_OBJECT_OPERATOR","->",943],["T_STRING","_getReadAdapter",943],"(",")",["T_OBJECT_OPERATOR","->",943],["T_STRING","fetchRow",943],"(",["T_VARIABLE","$select",943],")",";",["T_WHITESPACE","\n\n        ",943],["T_IF","if",945],["T_WHITESPACE"," ",945],"(",["T_STRING","is_array",945],"(",["T_VARIABLE","$row",945],")",")",["T_WHITESPACE"," ",945],"{",["T_WHITESPACE","\n            ",945],["T_VARIABLE","$object",946],["T_OBJECT_OPERATOR","->",946],["T_STRING","addData",946],"(",["T_VARIABLE","$row",946],")",";",["T_WHITESPACE","\n        ",946],"}",["T_WHITESPACE"," ",947],["T_ELSE","else",947],["T_WHITESPACE"," ",947],"{",["T_WHITESPACE","\n            ",947],["T_VARIABLE","$object",948],["T_OBJECT_OPERATOR","->",948],["T_STRING","isObjectNew",948],"(",["T_STRING","true",948],")",";",["T_WHITESPACE","\n        ",948],"}",["T_WHITESPACE","\n\n        ",949],["T_IF","if",951],["T_WHITESPACE"," ",951],"(",["T_EMPTY","empty",951],"(",["T_VARIABLE","$attributes",951],")",")",["T_WHITESPACE"," ",951],"{",["T_WHITESPACE","\n            ",951],["T_VARIABLE","$this",952],["T_OBJECT_OPERATOR","->",952],["T_STRING","loadAllAttributes",952],"(",["T_VARIABLE","$object",952],")",";",["T_WHITESPACE","\n        ",952],"}",["T_WHITESPACE"," ",953],["T_ELSE","else",953],["T_WHITESPACE"," ",953],"{",["T_WHITESPACE","\n            ",953],["T_FOREACH","foreach",954],["T_WHITESPACE"," ",954],"(",["T_VARIABLE","$attributes",954],["T_WHITESPACE"," ",954],["T_AS","as",954],["T_WHITESPACE"," ",954],["T_VARIABLE","$attrCode",954],")",["T_WHITESPACE"," ",954],"{",["T_WHITESPACE","\n                ",954],["T_VARIABLE","$this",955],["T_OBJECT_OPERATOR","->",955],["T_STRING","getAttribute",955],"(",["T_VARIABLE","$attrCode",955],")",";",["T_WHITESPACE","\n            ",955],"}",["T_WHITESPACE","\n        ",956],"}",["T_WHITESPACE","\n\n        ",957],["T_VARIABLE","$this",959],["T_OBJECT_OPERATOR","->",959],["T_STRING","_loadModelAttributes",959],"(",["T_VARIABLE","$object",959],")",";",["T_WHITESPACE","\n\n        ",959],["T_VARIABLE","$object",961],["T_OBJECT_OPERATOR","->",961],["T_STRING","setOrigData",961],"(",")",";",["T_WHITESPACE","\n        ",961],["T_STRING","Varien_Profiler",962],["T_DOUBLE_COLON","::",962],["T_STRING","start",962],"(",["T_CONSTANT_ENCAPSED_STRING","'__EAV_LOAD_MODEL_AFTER_LOAD__'",962],")",";",["T_WHITESPACE","\n\n        ",962],["T_VARIABLE","$this",964],["T_OBJECT_OPERATOR","->",964],["T_STRING","_afterLoad",964],"(",["T_VARIABLE","$object",964],")",";",["T_WHITESPACE","\n        ",964],["T_STRING","Varien_Profiler",965],["T_DOUBLE_COLON","::",965],["T_STRING","stop",965],"(",["T_CONSTANT_ENCAPSED_STRING","'__EAV_LOAD_MODEL_AFTER_LOAD__'",965],")",";",["T_WHITESPACE","\n\n        ",965],["T_STRING","Varien_Profiler",967],["T_DOUBLE_COLON","::",967],["T_STRING","stop",967],"(",["T_CONSTANT_ENCAPSED_STRING","'__EAV_LOAD_MODEL__'",967],")",";",["T_WHITESPACE","\n        ",967],["T_RETURN","return",968],["T_WHITESPACE"," ",968],["T_VARIABLE","$this",968],";",["T_WHITESPACE","\n    ",968],"}",["T_WHITESPACE","\n\n    ",969],["T_DOC_COMMENT","\/**\n     * Load model attributes data\n     *\n     * @param Mage_Core_Model_Abstract $object\n     * @return Mage_Eav_Model_Entity_Abstract\n     *\/",971],["T_WHITESPACE","\n    ",976],["T_PROTECTED","protected",977],["T_WHITESPACE"," ",977],["T_FUNCTION","function",977],["T_WHITESPACE"," ",977],["T_STRING","_loadModelAttributes",977],"(",["T_VARIABLE","$object",977],")",["T_WHITESPACE","\n    ",977],"{",["T_WHITESPACE","\n        ",978],["T_IF","if",979],["T_WHITESPACE"," ",979],"(","!",["T_VARIABLE","$object",979],["T_OBJECT_OPERATOR","->",979],["T_STRING","getId",979],"(",")",")",["T_WHITESPACE"," ",979],"{",["T_WHITESPACE","\n            ",979],["T_RETURN","return",980],["T_WHITESPACE"," ",980],["T_VARIABLE","$this",980],";",["T_WHITESPACE","\n        ",980],"}",["T_WHITESPACE","\n\n        ",981],["T_STRING","Varien_Profiler",983],["T_DOUBLE_COLON","::",983],["T_STRING","start",983],"(",["T_CONSTANT_ENCAPSED_STRING","'__EAV_LOAD_MODEL_ATTRIBUTES__'",983],")",";",["T_WHITESPACE","\n\n        ",983],["T_VARIABLE","$selects",985],["T_WHITESPACE"," ",985],"=",["T_WHITESPACE"," ",985],["T_ARRAY","array",985],"(",")",";",["T_WHITESPACE","\n        ",985],["T_FOREACH","foreach",986],["T_WHITESPACE"," ",986],"(",["T_STRING","array_keys",986],"(",["T_VARIABLE","$this",986],["T_OBJECT_OPERATOR","->",986],["T_STRING","getAttributesByTable",986],"(",")",")",["T_WHITESPACE"," ",986],["T_AS","as",986],["T_WHITESPACE"," ",986],["T_VARIABLE","$table",986],")",["T_WHITESPACE"," ",986],"{",["T_WHITESPACE","\n            ",986],["T_VARIABLE","$attribute",987],["T_WHITESPACE"," ",987],"=",["T_WHITESPACE"," ",987],["T_STRING","current",987],"(",["T_VARIABLE","$this",987],["T_OBJECT_OPERATOR","->",987],["T_STRING","_attributesByTable",987],"[",["T_VARIABLE","$table",987],"]",")",";",["T_WHITESPACE","\n            ",987],["T_VARIABLE","$eavType",988],["T_WHITESPACE"," ",988],"=",["T_WHITESPACE"," ",988],["T_VARIABLE","$attribute",988],["T_OBJECT_OPERATOR","->",988],["T_STRING","getBackendType",988],"(",")",";",["T_WHITESPACE","\n            ",988],["T_VARIABLE","$select",989],["T_WHITESPACE"," ",989],"=",["T_WHITESPACE"," ",989],["T_VARIABLE","$this",989],["T_OBJECT_OPERATOR","->",989],["T_STRING","_getLoadAttributesSelect",989],"(",["T_VARIABLE","$object",989],",",["T_WHITESPACE"," ",989],["T_VARIABLE","$table",989],")",";",["T_WHITESPACE","\n            ",989],["T_VARIABLE","$selects",990],"[",["T_VARIABLE","$eavType",990],"]","[","]",["T_WHITESPACE"," ",990],"=",["T_WHITESPACE"," ",990],["T_VARIABLE","$this",990],["T_OBJECT_OPERATOR","->",990],["T_STRING","_addLoadAttributesSelectFields",990],"(",["T_VARIABLE","$select",990],",",["T_WHITESPACE"," ",990],["T_VARIABLE","$table",990],",",["T_WHITESPACE"," ",990],["T_VARIABLE","$eavType",990],")",";",["T_WHITESPACE","\n        ",990],"}",["T_WHITESPACE","\n        ",991],["T_VARIABLE","$selectGroups",992],["T_WHITESPACE"," ",992],"=",["T_WHITESPACE"," ",992],["T_STRING","Mage",992],["T_DOUBLE_COLON","::",992],["T_STRING","getResourceHelper",992],"(",["T_CONSTANT_ENCAPSED_STRING","'eav'",992],")",["T_OBJECT_OPERATOR","->",992],["T_STRING","getLoadAttributesSelectGroups",992],"(",["T_VARIABLE","$selects",992],")",";",["T_WHITESPACE","\n        ",992],["T_FOREACH","foreach",993],["T_WHITESPACE"," ",993],"(",["T_VARIABLE","$selectGroups",993],["T_WHITESPACE"," ",993],["T_AS","as",993],["T_WHITESPACE"," ",993],["T_VARIABLE","$selects",993],")",["T_WHITESPACE"," ",993],"{",["T_WHITESPACE","\n            ",993],["T_IF","if",994],["T_WHITESPACE"," ",994],"(","!",["T_EMPTY","empty",994],"(",["T_VARIABLE","$selects",994],")",")",["T_WHITESPACE"," ",994],"{",["T_WHITESPACE","\n                ",994],["T_VARIABLE","$select",995],["T_WHITESPACE"," ",995],"=",["T_WHITESPACE"," ",995],["T_VARIABLE","$this",995],["T_OBJECT_OPERATOR","->",995],["T_STRING","_prepareLoadSelect",995],"(",["T_VARIABLE","$selects",995],")",";",["T_WHITESPACE","\n                ",995],["T_VARIABLE","$values",996],["T_WHITESPACE"," ",996],"=",["T_WHITESPACE"," ",996],["T_VARIABLE","$this",996],["T_OBJECT_OPERATOR","->",996],["T_STRING","_getReadAdapter",996],"(",")",["T_OBJECT_OPERATOR","->",996],["T_STRING","fetchAll",996],"(",["T_VARIABLE","$select",996],")",";",["T_WHITESPACE","\n                ",996],["T_FOREACH","foreach",997],["T_WHITESPACE"," ",997],"(",["T_VARIABLE","$values",997],["T_WHITESPACE"," ",997],["T_AS","as",997],["T_WHITESPACE"," ",997],["T_VARIABLE","$valueRow",997],")",["T_WHITESPACE"," ",997],"{",["T_WHITESPACE","\n                    ",997],["T_VARIABLE","$this",998],["T_OBJECT_OPERATOR","->",998],["T_STRING","_setAttributeValue",998],"(",["T_VARIABLE","$object",998],",",["T_WHITESPACE"," ",998],["T_VARIABLE","$valueRow",998],")",";",["T_WHITESPACE","\n                ",998],"}",["T_WHITESPACE","\n            ",999],"}",["T_WHITESPACE","\n        ",1000],"}",["T_WHITESPACE","\n\n        ",1001],["T_STRING","Varien_Profiler",1003],["T_DOUBLE_COLON","::",1003],["T_STRING","stop",1003],"(",["T_CONSTANT_ENCAPSED_STRING","'__EAV_LOAD_MODEL_ATTRIBUTES__'",1003],")",";",["T_WHITESPACE","\n\n        ",1003],["T_RETURN","return",1005],["T_WHITESPACE"," ",1005],["T_VARIABLE","$this",1005],";",["T_WHITESPACE","\n    ",1005],"}",["T_WHITESPACE","\n\n    ",1006],["T_DOC_COMMENT","\/**\n     * Prepare select object for loading entity attributes values\n     *\n     * @param  array $selects\n     * @return Zend_Db_Select\n     *\/",1008],["T_WHITESPACE","\n    ",1013],["T_PROTECTED","protected",1014],["T_WHITESPACE"," ",1014],["T_FUNCTION","function",1014],["T_WHITESPACE"," ",1014],["T_STRING","_prepareLoadSelect",1014],"(",["T_ARRAY","array",1014],["T_WHITESPACE"," ",1014],["T_VARIABLE","$selects",1014],")",["T_WHITESPACE","\n    ",1014],"{",["T_WHITESPACE","\n        ",1015],["T_RETURN","return",1016],["T_WHITESPACE"," ",1016],["T_VARIABLE","$this",1016],["T_OBJECT_OPERATOR","->",1016],["T_STRING","_getReadAdapter",1016],"(",")",["T_OBJECT_OPERATOR","->",1016],["T_STRING","select",1016],"(",")",["T_OBJECT_OPERATOR","->",1016],["T_STRING","union",1016],"(",["T_VARIABLE","$selects",1016],",",["T_WHITESPACE"," ",1016],["T_STRING","Zend_Db_Select",1016],["T_DOUBLE_COLON","::",1016],["T_STRING","SQL_UNION_ALL",1016],")",";",["T_WHITESPACE","\n    ",1016],"}",["T_WHITESPACE","\n\n    ",1017],["T_DOC_COMMENT","\/**\n     * Retrieve select object for loading base entity row\n     *\n     * @param   Varien_Object $object\n     * @param   mixed $rowId\n     * @return  Zend_Db_Select\n     *\/",1019],["T_WHITESPACE","\n    ",1025],["T_PROTECTED","protected",1026],["T_WHITESPACE"," ",1026],["T_FUNCTION","function",1026],["T_WHITESPACE"," ",1026],["T_STRING","_getLoadRowSelect",1026],"(",["T_VARIABLE","$object",1026],",",["T_WHITESPACE"," ",1026],["T_VARIABLE","$rowId",1026],")",["T_WHITESPACE","\n    ",1026],"{",["T_WHITESPACE","\n        ",1027],["T_VARIABLE","$select",1028],["T_WHITESPACE"," ",1028],"=",["T_WHITESPACE"," ",1028],["T_VARIABLE","$this",1028],["T_OBJECT_OPERATOR","->",1028],["T_STRING","_getReadAdapter",1028],"(",")",["T_OBJECT_OPERATOR","->",1028],["T_STRING","select",1028],"(",")",["T_WHITESPACE","\n            ",1028],["T_OBJECT_OPERATOR","->",1029],["T_STRING","from",1029],"(",["T_VARIABLE","$this",1029],["T_OBJECT_OPERATOR","->",1029],["T_STRING","getEntityTable",1029],"(",")",")",["T_WHITESPACE","\n            ",1029],["T_OBJECT_OPERATOR","->",1030],["T_STRING","where",1030],"(",["T_VARIABLE","$this",1030],["T_OBJECT_OPERATOR","->",1030],["T_STRING","getEntityIdField",1030],"(",")",["T_WHITESPACE"," ",1030],".",["T_WHITESPACE"," ",1030],["T_CONSTANT_ENCAPSED_STRING","' =?'",1030],",",["T_WHITESPACE"," ",1030],["T_VARIABLE","$rowId",1030],")",";",["T_WHITESPACE","\n\n        ",1030],["T_RETURN","return",1032],["T_WHITESPACE"," ",1032],["T_VARIABLE","$select",1032],";",["T_WHITESPACE","\n    ",1032],"}",["T_WHITESPACE","\n\n    ",1033],["T_DOC_COMMENT","\/**\n     * Retrieve select object for loading entity attributes values\n     *\n     * @param   Varien_Object $object\n     * @param   mixed $rowId\n     * @return  Zend_Db_Select\n     *\/",1035],["T_WHITESPACE","\n    ",1041],["T_PROTECTED","protected",1042],["T_WHITESPACE"," ",1042],["T_FUNCTION","function",1042],["T_WHITESPACE"," ",1042],["T_STRING","_getLoadAttributesSelect",1042],"(",["T_VARIABLE","$object",1042],",",["T_WHITESPACE"," ",1042],["T_VARIABLE","$table",1042],")",["T_WHITESPACE","\n    ",1042],"{",["T_WHITESPACE","\n        ",1043],["T_VARIABLE","$select",1044],["T_WHITESPACE"," ",1044],"=",["T_WHITESPACE"," ",1044],["T_VARIABLE","$this",1044],["T_OBJECT_OPERATOR","->",1044],["T_STRING","_getReadAdapter",1044],"(",")",["T_OBJECT_OPERATOR","->",1044],["T_STRING","select",1044],"(",")",["T_WHITESPACE","\n            ",1044],["T_OBJECT_OPERATOR","->",1045],["T_STRING","from",1045],"(",["T_VARIABLE","$table",1045],",",["T_WHITESPACE"," ",1045],["T_ARRAY","array",1045],"(",")",")",["T_WHITESPACE","\n            ",1045],["T_OBJECT_OPERATOR","->",1046],["T_STRING","where",1046],"(",["T_VARIABLE","$this",1046],["T_OBJECT_OPERATOR","->",1046],["T_STRING","getEntityIdField",1046],"(",")",["T_WHITESPACE"," ",1046],".",["T_WHITESPACE"," ",1046],["T_CONSTANT_ENCAPSED_STRING","' =?'",1046],",",["T_WHITESPACE"," ",1046],["T_VARIABLE","$object",1046],["T_OBJECT_OPERATOR","->",1046],["T_STRING","getId",1046],"(",")",")",";",["T_WHITESPACE","\n\n        ",1046],["T_RETURN","return",1048],["T_WHITESPACE"," ",1048],["T_VARIABLE","$select",1048],";",["T_WHITESPACE","\n    ",1048],"}",["T_WHITESPACE","\n\n    ",1049],["T_DOC_COMMENT","\/**\n     * Adds Columns prepared for union\n     *\n     * @param Varien_Db_Select $select\n     * @param string $table\n     * @param string $type\n     * @return Varien_Db_Select\n     *\/",1051],["T_WHITESPACE","\n    ",1058],["T_PROTECTED","protected",1059],["T_WHITESPACE"," ",1059],["T_FUNCTION","function",1059],["T_WHITESPACE"," ",1059],["T_STRING","_addLoadAttributesSelectFields",1059],"(",["T_VARIABLE","$select",1059],",",["T_WHITESPACE"," ",1059],["T_VARIABLE","$table",1059],",",["T_WHITESPACE"," ",1059],["T_VARIABLE","$type",1059],")",["T_WHITESPACE","\n    ",1059],"{",["T_WHITESPACE","\n        ",1060],["T_VARIABLE","$select",1061],["T_OBJECT_OPERATOR","->",1061],["T_STRING","columns",1061],"(",["T_WHITESPACE","\n            ",1061],["T_STRING","Mage",1062],["T_DOUBLE_COLON","::",1062],["T_STRING","getResourceHelper",1062],"(",["T_CONSTANT_ENCAPSED_STRING","'eav'",1062],")",["T_OBJECT_OPERATOR","->",1062],["T_STRING","attributeSelectFields",1062],"(",["T_VARIABLE","$table",1062],",",["T_WHITESPACE"," ",1062],["T_VARIABLE","$type",1062],")",["T_WHITESPACE","\n        ",1062],")",";",["T_WHITESPACE","\n        ",1063],["T_RETURN","return",1064],["T_WHITESPACE"," ",1064],["T_VARIABLE","$select",1064],";",["T_WHITESPACE","\n    ",1064],"}",["T_WHITESPACE","\n\n    ",1065],["T_DOC_COMMENT","\/**\n     * Initialize attribute value for object\n     *\n     * @deprecated after 1.5.1.0 - mistake in method name\n     *\n     * @param   Varien_Object $object\n     * @param   array $valueRow\n     * @return  Mage_Eav_Model_Entity_Abstract\n     *\/",1067],["T_WHITESPACE","\n    ",1075],["T_PROTECTED","protected",1076],["T_WHITESPACE"," ",1076],["T_FUNCTION","function",1076],["T_WHITESPACE"," ",1076],["T_STRING","_setAttribteValue",1076],"(",["T_VARIABLE","$object",1076],",",["T_WHITESPACE"," ",1076],["T_VARIABLE","$valueRow",1076],")",["T_WHITESPACE","\n    ",1076],"{",["T_WHITESPACE","\n        ",1077],["T_RETURN","return",1078],["T_WHITESPACE"," ",1078],["T_STRING","_setAttributeValue",1078],"(",["T_VARIABLE","$object",1078],",",["T_WHITESPACE"," ",1078],["T_VARIABLE","$valueRow",1078],")",";",["T_WHITESPACE","\n    ",1078],"}",["T_WHITESPACE","\n\n    ",1079],["T_DOC_COMMENT","\/**\n     * Initialize attribute value for object\n     *\n     * @param   Varien_Object $object\n     * @param   array $valueRow\n     * @return  Mage_Eav_Model_Entity_Abstract\n     *\/",1081],["T_WHITESPACE","\n    ",1087],["T_PROTECTED","protected",1088],["T_WHITESPACE"," ",1088],["T_FUNCTION","function",1088],["T_WHITESPACE"," ",1088],["T_STRING","_setAttributeValue",1088],"(",["T_VARIABLE","$object",1088],",",["T_WHITESPACE"," ",1088],["T_VARIABLE","$valueRow",1088],")",["T_WHITESPACE","\n    ",1088],"{",["T_WHITESPACE","\n        ",1089],["T_VARIABLE","$attribute",1090],["T_WHITESPACE"," ",1090],"=",["T_WHITESPACE"," ",1090],["T_VARIABLE","$this",1090],["T_OBJECT_OPERATOR","->",1090],["T_STRING","getAttribute",1090],"(",["T_VARIABLE","$valueRow",1090],"[",["T_CONSTANT_ENCAPSED_STRING","'attribute_id'",1090],"]",")",";",["T_WHITESPACE","\n        ",1090],["T_IF","if",1091],["T_WHITESPACE"," ",1091],"(",["T_VARIABLE","$attribute",1091],")",["T_WHITESPACE"," ",1091],"{",["T_WHITESPACE","\n            ",1091],["T_VARIABLE","$attributeCode",1092],["T_WHITESPACE"," ",1092],"=",["T_WHITESPACE"," ",1092],["T_VARIABLE","$attribute",1092],["T_OBJECT_OPERATOR","->",1092],["T_STRING","getAttributeCode",1092],"(",")",";",["T_WHITESPACE","\n            ",1092],["T_VARIABLE","$object",1093],["T_OBJECT_OPERATOR","->",1093],["T_STRING","setData",1093],"(",["T_VARIABLE","$attributeCode",1093],",",["T_WHITESPACE"," ",1093],["T_VARIABLE","$valueRow",1093],"[",["T_CONSTANT_ENCAPSED_STRING","'value'",1093],"]",")",";",["T_WHITESPACE","\n            ",1093],["T_VARIABLE","$attribute",1094],["T_OBJECT_OPERATOR","->",1094],["T_STRING","getBackend",1094],"(",")",["T_OBJECT_OPERATOR","->",1094],["T_STRING","setEntityValueId",1094],"(",["T_VARIABLE","$object",1094],",",["T_WHITESPACE"," ",1094],["T_VARIABLE","$valueRow",1094],"[",["T_CONSTANT_ENCAPSED_STRING","'value_id'",1094],"]",")",";",["T_WHITESPACE","\n        ",1094],"}",["T_WHITESPACE","\n\n        ",1095],["T_RETURN","return",1097],["T_WHITESPACE"," ",1097],["T_VARIABLE","$this",1097],";",["T_WHITESPACE","\n    ",1097],"}",["T_WHITESPACE","\n\n    ",1098],["T_DOC_COMMENT","\/**\n     * Save entity's attributes into the object's resource\n     *\n     * @param   Varien_Object $object\n     * @return  Mage_Eav_Model_Entity_Abstract\n     *\/",1100],["T_WHITESPACE","\n    ",1105],["T_PUBLIC","public",1106],["T_WHITESPACE"," ",1106],["T_FUNCTION","function",1106],["T_WHITESPACE"," ",1106],["T_STRING","save",1106],"(",["T_STRING","Varien_Object",1106],["T_WHITESPACE"," ",1106],["T_VARIABLE","$object",1106],")",["T_WHITESPACE","\n    ",1106],"{",["T_WHITESPACE","\n        ",1107],["T_IF","if",1108],["T_WHITESPACE"," ",1108],"(",["T_VARIABLE","$object",1108],["T_OBJECT_OPERATOR","->",1108],["T_STRING","isDeleted",1108],"(",")",")",["T_WHITESPACE"," ",1108],"{",["T_WHITESPACE","\n            ",1108],["T_RETURN","return",1109],["T_WHITESPACE"," ",1109],["T_VARIABLE","$this",1109],["T_OBJECT_OPERATOR","->",1109],["T_STRING","delete",1109],"(",["T_VARIABLE","$object",1109],")",";",["T_WHITESPACE","\n        ",1109],"}",["T_WHITESPACE","\n\n        ",1110],["T_IF","if",1112],["T_WHITESPACE"," ",1112],"(","!",["T_VARIABLE","$this",1112],["T_OBJECT_OPERATOR","->",1112],["T_STRING","isPartialSave",1112],"(",")",")",["T_WHITESPACE"," ",1112],"{",["T_WHITESPACE","\n            ",1112],["T_VARIABLE","$this",1113],["T_OBJECT_OPERATOR","->",1113],["T_STRING","loadAllAttributes",1113],"(",["T_VARIABLE","$object",1113],")",";",["T_WHITESPACE","\n        ",1113],"}",["T_WHITESPACE","\n\n        ",1114],["T_IF","if",1116],["T_WHITESPACE"," ",1116],"(","!",["T_VARIABLE","$object",1116],["T_OBJECT_OPERATOR","->",1116],["T_STRING","getEntityTypeId",1116],"(",")",")",["T_WHITESPACE"," ",1116],"{",["T_WHITESPACE","\n            ",1116],["T_VARIABLE","$object",1117],["T_OBJECT_OPERATOR","->",1117],["T_STRING","setEntityTypeId",1117],"(",["T_VARIABLE","$this",1117],["T_OBJECT_OPERATOR","->",1117],["T_STRING","getTypeId",1117],"(",")",")",";",["T_WHITESPACE","\n        ",1117],"}",["T_WHITESPACE","\n\n        ",1118],["T_VARIABLE","$object",1120],["T_OBJECT_OPERATOR","->",1120],["T_STRING","setParentId",1120],"(",["T_INT_CAST","(int)",1120],["T_WHITESPACE"," ",1120],["T_VARIABLE","$object",1120],["T_OBJECT_OPERATOR","->",1120],["T_STRING","getParentId",1120],"(",")",")",";",["T_WHITESPACE","\n\n        ",1120],["T_VARIABLE","$this",1122],["T_OBJECT_OPERATOR","->",1122],["T_STRING","_beforeSave",1122],"(",["T_VARIABLE","$object",1122],")",";",["T_WHITESPACE","\n        ",1122],["T_VARIABLE","$this",1123],["T_OBJECT_OPERATOR","->",1123],["T_STRING","_processSaveData",1123],"(",["T_VARIABLE","$this",1123],["T_OBJECT_OPERATOR","->",1123],["T_STRING","_collectSaveData",1123],"(",["T_VARIABLE","$object",1123],")",")",";",["T_WHITESPACE","\n        ",1123],["T_VARIABLE","$this",1124],["T_OBJECT_OPERATOR","->",1124],["T_STRING","_afterSave",1124],"(",["T_VARIABLE","$object",1124],")",";",["T_WHITESPACE","\n\n        ",1124],["T_RETURN","return",1126],["T_WHITESPACE"," ",1126],["T_VARIABLE","$this",1126],";",["T_WHITESPACE","\n    ",1126],"}",["T_WHITESPACE","\n\n    ",1127],["T_DOC_COMMENT","\/**\n     * Retrieve Object instance with original data\n     *\n     * @param Varien_Object $object\n     * @return Varien_Object\n     *\/",1129],["T_WHITESPACE","\n    ",1134],["T_PROTECTED","protected",1135],["T_WHITESPACE"," ",1135],["T_FUNCTION","function",1135],["T_WHITESPACE"," ",1135],["T_STRING","_getOrigObject",1135],"(",["T_VARIABLE","$object",1135],")",["T_WHITESPACE","\n    ",1135],"{",["T_WHITESPACE","\n        ",1136],["T_VARIABLE","$className",1137],["T_WHITESPACE","  ",1137],"=",["T_WHITESPACE"," ",1137],["T_STRING","get_class",1137],"(",["T_VARIABLE","$object",1137],")",";",["T_WHITESPACE","\n        ",1137],["T_VARIABLE","$origObject",1138],["T_WHITESPACE"," ",1138],"=",["T_WHITESPACE"," ",1138],["T_NEW","new",1138],["T_WHITESPACE"," ",1138],["T_VARIABLE","$className",1138],"(",")",";",["T_WHITESPACE","\n        ",1138],["T_VARIABLE","$origObject",1139],["T_OBJECT_OPERATOR","->",1139],["T_STRING","setData",1139],"(",["T_ARRAY","array",1139],"(",")",")",";",["T_WHITESPACE","\n        ",1139],["T_VARIABLE","$this",1140],["T_OBJECT_OPERATOR","->",1140],["T_STRING","load",1140],"(",["T_VARIABLE","$origObject",1140],",",["T_WHITESPACE"," ",1140],["T_VARIABLE","$object",1140],["T_OBJECT_OPERATOR","->",1140],["T_STRING","getData",1140],"(",["T_VARIABLE","$this",1140],["T_OBJECT_OPERATOR","->",1140],["T_STRING","getEntityIdField",1140],"(",")",")",")",";",["T_WHITESPACE","\n\n        ",1140],["T_RETURN","return",1142],["T_WHITESPACE"," ",1142],["T_VARIABLE","$origObject",1142],";",["T_WHITESPACE","\n    ",1142],"}",["T_WHITESPACE","\n\n    ",1143],["T_DOC_COMMENT","\/**\n     * Prepare entity object data for save\n     *\n     * result array structure:\n     * array (\n     *  'newObject', 'entityRow', 'insert', 'update', 'delete'\n     * )\n     *\n     * @param   Varien_Object $newObject\n     * @return  array\n     *\/",1145],["T_WHITESPACE","\n    ",1155],["T_PROTECTED","protected",1156],["T_WHITESPACE"," ",1156],["T_FUNCTION","function",1156],["T_WHITESPACE"," ",1156],["T_STRING","_collectSaveData",1156],"(",["T_VARIABLE","$newObject",1156],")",["T_WHITESPACE","\n    ",1156],"{",["T_WHITESPACE","\n        ",1157],["T_VARIABLE","$newData",1158],["T_WHITESPACE","   ",1158],"=",["T_WHITESPACE"," ",1158],["T_VARIABLE","$newObject",1158],["T_OBJECT_OPERATOR","->",1158],["T_STRING","getData",1158],"(",")",";",["T_WHITESPACE","\n        ",1158],["T_VARIABLE","$entityId",1159],["T_WHITESPACE","  ",1159],"=",["T_WHITESPACE"," ",1159],["T_VARIABLE","$newObject",1159],["T_OBJECT_OPERATOR","->",1159],["T_STRING","getData",1159],"(",["T_VARIABLE","$this",1159],["T_OBJECT_OPERATOR","->",1159],["T_STRING","getEntityIdField",1159],"(",")",")",";",["T_WHITESPACE","\n\n        ",1159],["T_COMMENT","\/\/ define result data\n",1161],["T_WHITESPACE","        ",1162],["T_VARIABLE","$entityRow",1162],["T_WHITESPACE","  ",1162],"=",["T_WHITESPACE"," ",1162],["T_ARRAY","array",1162],"(",")",";",["T_WHITESPACE","\n        ",1162],["T_VARIABLE","$insert",1163],["T_WHITESPACE","     ",1163],"=",["T_WHITESPACE"," ",1163],["T_ARRAY","array",1163],"(",")",";",["T_WHITESPACE","\n        ",1163],["T_VARIABLE","$update",1164],["T_WHITESPACE","     ",1164],"=",["T_WHITESPACE"," ",1164],["T_ARRAY","array",1164],"(",")",";",["T_WHITESPACE","\n        ",1164],["T_VARIABLE","$delete",1165],["T_WHITESPACE","     ",1165],"=",["T_WHITESPACE"," ",1165],["T_ARRAY","array",1165],"(",")",";",["T_WHITESPACE","\n\n        ",1165],["T_IF","if",1167],["T_WHITESPACE"," ",1167],"(","!",["T_EMPTY","empty",1167],"(",["T_VARIABLE","$entityId",1167],")",")",["T_WHITESPACE"," ",1167],"{",["T_WHITESPACE","\n            ",1167],["T_VARIABLE","$origData",1168],["T_WHITESPACE"," ",1168],"=",["T_WHITESPACE"," ",1168],["T_VARIABLE","$newObject",1168],["T_OBJECT_OPERATOR","->",1168],["T_STRING","getOrigData",1168],"(",")",";",["T_WHITESPACE","\n            ",1168],["T_DOC_COMMENT","\/**\n             * get current data in db for this entity if original data is empty\n             *\/",1169],["T_WHITESPACE","\n            ",1171],["T_IF","if",1172],["T_WHITESPACE"," ",1172],"(",["T_EMPTY","empty",1172],"(",["T_VARIABLE","$origData",1172],")",")",["T_WHITESPACE"," ",1172],"{",["T_WHITESPACE","\n                ",1172],["T_VARIABLE","$origData",1173],["T_WHITESPACE"," ",1173],"=",["T_WHITESPACE"," ",1173],["T_VARIABLE","$this",1173],["T_OBJECT_OPERATOR","->",1173],["T_STRING","_getOrigObject",1173],"(",["T_VARIABLE","$newObject",1173],")",["T_OBJECT_OPERATOR","->",1173],["T_STRING","getOrigData",1173],"(",")",";",["T_WHITESPACE","\n            ",1173],"}",["T_WHITESPACE","\n\n            ",1174],["T_DOC_COMMENT","\/**\n             * drop attributes that are unknown in new data\n             * not needed after introduction of partial entity loading\n             *\/",1176],["T_WHITESPACE","\n            ",1179],["T_FOREACH","foreach",1180],["T_WHITESPACE"," ",1180],"(",["T_VARIABLE","$origData",1180],["T_WHITESPACE"," ",1180],["T_AS","as",1180],["T_WHITESPACE"," ",1180],["T_VARIABLE","$k",1180],["T_WHITESPACE"," ",1180],["T_DOUBLE_ARROW","=>",1180],["T_WHITESPACE"," ",1180],["T_VARIABLE","$v",1180],")",["T_WHITESPACE"," ",1180],"{",["T_WHITESPACE","\n                ",1180],["T_IF","if",1181],["T_WHITESPACE"," ",1181],"(","!",["T_STRING","array_key_exists",1181],"(",["T_VARIABLE","$k",1181],",",["T_WHITESPACE"," ",1181],["T_VARIABLE","$newData",1181],")",")",["T_WHITESPACE"," ",1181],"{",["T_WHITESPACE","\n                    ",1181],["T_UNSET","unset",1182],"(",["T_VARIABLE","$origData",1182],"[",["T_VARIABLE","$k",1182],"]",")",";",["T_WHITESPACE","\n                ",1182],"}",["T_WHITESPACE","\n            ",1183],"}",["T_WHITESPACE","\n        ",1184],"}",["T_WHITESPACE"," ",1185],["T_ELSE","else",1185],["T_WHITESPACE"," ",1185],"{",["T_WHITESPACE","\n            ",1185],["T_VARIABLE","$origData",1186],["T_WHITESPACE"," ",1186],"=",["T_WHITESPACE"," ",1186],["T_ARRAY","array",1186],"(",")",";",["T_WHITESPACE","\n        ",1186],"}",["T_WHITESPACE","\n\n        ",1187],["T_VARIABLE","$staticFields",1189],["T_WHITESPACE","   ",1189],"=",["T_WHITESPACE"," ",1189],["T_VARIABLE","$this",1189],["T_OBJECT_OPERATOR","->",1189],["T_STRING","_getWriteAdapter",1189],"(",")",["T_OBJECT_OPERATOR","->",1189],["T_STRING","describeTable",1189],"(",["T_VARIABLE","$this",1189],["T_OBJECT_OPERATOR","->",1189],["T_STRING","getEntityTable",1189],"(",")",")",";",["T_WHITESPACE","\n        ",1189],["T_VARIABLE","$staticFields",1190],["T_WHITESPACE","   ",1190],"=",["T_WHITESPACE"," ",1190],["T_STRING","array_keys",1190],"(",["T_VARIABLE","$staticFields",1190],")",";",["T_WHITESPACE","\n        ",1190],["T_VARIABLE","$attributeCodes",1191],["T_WHITESPACE"," ",1191],"=",["T_WHITESPACE"," ",1191],["T_STRING","array_keys",1191],"(",["T_VARIABLE","$this",1191],["T_OBJECT_OPERATOR","->",1191],["T_STRING","_attributesByCode",1191],")",";",["T_WHITESPACE","\n\n        ",1191],["T_FOREACH","foreach",1193],["T_WHITESPACE"," ",1193],"(",["T_VARIABLE","$newData",1193],["T_WHITESPACE"," ",1193],["T_AS","as",1193],["T_WHITESPACE"," ",1193],["T_VARIABLE","$k",1193],["T_WHITESPACE"," ",1193],["T_DOUBLE_ARROW","=>",1193],["T_WHITESPACE"," ",1193],["T_VARIABLE","$v",1193],")",["T_WHITESPACE"," ",1193],"{",["T_WHITESPACE","\n            ",1193],["T_DOC_COMMENT","\/**\n             * Check attribute information\n             *\/",1194],["T_WHITESPACE","\n            ",1196],["T_IF","if",1197],["T_WHITESPACE"," ",1197],"(",["T_STRING","is_numeric",1197],"(",["T_VARIABLE","$k",1197],")",["T_WHITESPACE"," ",1197],["T_BOOLEAN_OR","||",1197],["T_WHITESPACE"," ",1197],["T_STRING","is_array",1197],"(",["T_VARIABLE","$v",1197],")",")",["T_WHITESPACE"," ",1197],"{",["T_WHITESPACE","\n                ",1197],["T_CONTINUE","continue",1198],";",["T_WHITESPACE","\n            ",1198],"}",["T_WHITESPACE","\n            ",1199],["T_DOC_COMMENT","\/**\n             * Check if data key is presented in static fields or attribute codes\n             *\/",1200],["T_WHITESPACE","\n            ",1202],["T_IF","if",1203],["T_WHITESPACE"," ",1203],"(","!",["T_STRING","in_array",1203],"(",["T_VARIABLE","$k",1203],",",["T_WHITESPACE"," ",1203],["T_VARIABLE","$staticFields",1203],")",["T_WHITESPACE"," ",1203],["T_BOOLEAN_AND","&&",1203],["T_WHITESPACE"," ",1203],"!",["T_STRING","in_array",1203],"(",["T_VARIABLE","$k",1203],",",["T_WHITESPACE"," ",1203],["T_VARIABLE","$attributeCodes",1203],")",")",["T_WHITESPACE"," ",1203],"{",["T_WHITESPACE","\n                ",1203],["T_CONTINUE","continue",1204],";",["T_WHITESPACE","\n            ",1204],"}",["T_WHITESPACE","\n\n            ",1205],["T_VARIABLE","$attribute",1207],["T_WHITESPACE"," ",1207],"=",["T_WHITESPACE"," ",1207],["T_VARIABLE","$this",1207],["T_OBJECT_OPERATOR","->",1207],["T_STRING","getAttribute",1207],"(",["T_VARIABLE","$k",1207],")",";",["T_WHITESPACE","\n            ",1207],["T_IF","if",1208],["T_WHITESPACE"," ",1208],"(",["T_EMPTY","empty",1208],"(",["T_VARIABLE","$attribute",1208],")",")",["T_WHITESPACE"," ",1208],"{",["T_WHITESPACE","\n                ",1208],["T_CONTINUE","continue",1209],";",["T_WHITESPACE","\n            ",1209],"}",["T_WHITESPACE","\n\n            ",1210],["T_VARIABLE","$attrId",1212],["T_WHITESPACE"," ",1212],"=",["T_WHITESPACE"," ",1212],["T_VARIABLE","$attribute",1212],["T_OBJECT_OPERATOR","->",1212],["T_STRING","getAttributeId",1212],"(",")",";",["T_WHITESPACE","\n\n            ",1212],["T_DOC_COMMENT","\/**\n             * if attribute is static add to entity row and continue\n             *\/",1214],["T_WHITESPACE","\n            ",1216],["T_IF","if",1217],["T_WHITESPACE"," ",1217],"(",["T_VARIABLE","$this",1217],["T_OBJECT_OPERATOR","->",1217],["T_STRING","isAttributeStatic",1217],"(",["T_VARIABLE","$k",1217],")",")",["T_WHITESPACE"," ",1217],"{",["T_WHITESPACE","\n                ",1217],["T_VARIABLE","$entityRow",1218],"[",["T_VARIABLE","$k",1218],"]",["T_WHITESPACE"," ",1218],"=",["T_WHITESPACE"," ",1218],["T_VARIABLE","$this",1218],["T_OBJECT_OPERATOR","->",1218],["T_STRING","_prepareStaticValue",1218],"(",["T_VARIABLE","$k",1218],",",["T_WHITESPACE"," ",1218],["T_VARIABLE","$v",1218],")",";",["T_WHITESPACE","\n                ",1218],["T_CONTINUE","continue",1219],";",["T_WHITESPACE","\n            ",1219],"}",["T_WHITESPACE","\n\n            ",1220],["T_DOC_COMMENT","\/**\n             * Check comparability for attribute value\n             *\/",1222],["T_WHITESPACE","\n            ",1224],["T_IF","if",1225],["T_WHITESPACE"," ",1225],"(",["T_VARIABLE","$this",1225],["T_OBJECT_OPERATOR","->",1225],["T_STRING","_canUpdateAttribute",1225],"(",["T_VARIABLE","$attribute",1225],",",["T_WHITESPACE"," ",1225],["T_VARIABLE","$v",1225],",",["T_WHITESPACE"," ",1225],["T_VARIABLE","$origData",1225],")",")",["T_WHITESPACE"," ",1225],"{",["T_WHITESPACE","\n                ",1225],["T_IF","if",1226],["T_WHITESPACE"," ",1226],"(",["T_VARIABLE","$this",1226],["T_OBJECT_OPERATOR","->",1226],["T_STRING","_isAttributeValueEmpty",1226],"(",["T_VARIABLE","$attribute",1226],",",["T_WHITESPACE"," ",1226],["T_VARIABLE","$v",1226],")",")",["T_WHITESPACE"," ",1226],"{",["T_WHITESPACE","\n                    ",1226],["T_VARIABLE","$delete",1227],"[",["T_VARIABLE","$attribute",1227],["T_OBJECT_OPERATOR","->",1227],["T_STRING","getBackend",1227],"(",")",["T_OBJECT_OPERATOR","->",1227],["T_STRING","getTable",1227],"(",")","]","[","]",["T_WHITESPACE"," ",1227],"=",["T_WHITESPACE"," ",1227],["T_ARRAY","array",1227],"(",["T_WHITESPACE","\n                        ",1227],["T_CONSTANT_ENCAPSED_STRING","'attribute_id'",1228],["T_WHITESPACE","  ",1228],["T_DOUBLE_ARROW","=>",1228],["T_WHITESPACE"," ",1228],["T_VARIABLE","$attrId",1228],",",["T_WHITESPACE","\n                        ",1228],["T_CONSTANT_ENCAPSED_STRING","'value_id'",1229],["T_WHITESPACE","      ",1229],["T_DOUBLE_ARROW","=>",1229],["T_WHITESPACE"," ",1229],["T_VARIABLE","$attribute",1229],["T_OBJECT_OPERATOR","->",1229],["T_STRING","getBackend",1229],"(",")",["T_OBJECT_OPERATOR","->",1229],["T_STRING","getEntityValueId",1229],"(",["T_VARIABLE","$newObject",1229],")",["T_WHITESPACE","\n                    ",1229],")",";",["T_WHITESPACE","\n                ",1230],"}",["T_WHITESPACE"," ",1231],["T_ELSEIF","elseif",1231],["T_WHITESPACE"," ",1231],"(",["T_VARIABLE","$v",1231],["T_WHITESPACE"," ",1231],["T_IS_NOT_IDENTICAL","!==",1231],["T_WHITESPACE"," ",1231],["T_VARIABLE","$origData",1231],"[",["T_VARIABLE","$k",1231],"]",")",["T_WHITESPACE"," ",1231],"{",["T_WHITESPACE","\n                    ",1231],["T_VARIABLE","$update",1232],"[",["T_VARIABLE","$attrId",1232],"]",["T_WHITESPACE"," ",1232],"=",["T_WHITESPACE"," ",1232],["T_ARRAY","array",1232],"(",["T_WHITESPACE","\n                        ",1232],["T_CONSTANT_ENCAPSED_STRING","'value_id'",1233],["T_WHITESPACE"," ",1233],["T_DOUBLE_ARROW","=>",1233],["T_WHITESPACE"," ",1233],["T_VARIABLE","$attribute",1233],["T_OBJECT_OPERATOR","->",1233],["T_STRING","getBackend",1233],"(",")",["T_OBJECT_OPERATOR","->",1233],["T_STRING","getEntityValueId",1233],"(",["T_VARIABLE","$newObject",1233],")",",",["T_WHITESPACE","\n                        ",1233],["T_CONSTANT_ENCAPSED_STRING","'value'",1234],["T_WHITESPACE","    ",1234],["T_DOUBLE_ARROW","=>",1234],["T_WHITESPACE"," ",1234],["T_VARIABLE","$v",1234],",",["T_WHITESPACE","\n                    ",1234],")",";",["T_WHITESPACE","\n                ",1235],"}",["T_WHITESPACE","\n            ",1236],"}",["T_WHITESPACE"," ",1237],["T_ELSE","else",1237],["T_WHITESPACE"," ",1237],["T_IF","if",1237],["T_WHITESPACE"," ",1237],"(","!",["T_VARIABLE","$this",1237],["T_OBJECT_OPERATOR","->",1237],["T_STRING","_isAttributeValueEmpty",1237],"(",["T_VARIABLE","$attribute",1237],",",["T_WHITESPACE"," ",1237],["T_VARIABLE","$v",1237],")",")",["T_WHITESPACE"," ",1237],"{",["T_WHITESPACE","\n                ",1237],["T_VARIABLE","$insert",1238],"[",["T_VARIABLE","$attrId",1238],"]",["T_WHITESPACE"," ",1238],"=",["T_WHITESPACE"," ",1238],["T_VARIABLE","$v",1238],";",["T_WHITESPACE","\n            ",1238],"}",["T_WHITESPACE","\n        ",1239],"}",["T_WHITESPACE","\n\n        ",1240],["T_VARIABLE","$result",1242],["T_WHITESPACE"," ",1242],"=",["T_WHITESPACE"," ",1242],["T_STRING","compact",1242],"(",["T_CONSTANT_ENCAPSED_STRING","'newObject'",1242],",",["T_WHITESPACE"," ",1242],["T_CONSTANT_ENCAPSED_STRING","'entityRow'",1242],",",["T_WHITESPACE"," ",1242],["T_CONSTANT_ENCAPSED_STRING","'insert'",1242],",",["T_WHITESPACE"," ",1242],["T_CONSTANT_ENCAPSED_STRING","'update'",1242],",",["T_WHITESPACE"," ",1242],["T_CONSTANT_ENCAPSED_STRING","'delete'",1242],")",";",["T_WHITESPACE","\n        ",1242],["T_RETURN","return",1243],["T_WHITESPACE"," ",1243],["T_VARIABLE","$result",1243],";",["T_WHITESPACE","\n    ",1243],"}",["T_WHITESPACE","\n\n    ",1244],["T_DOC_COMMENT","\/**\n     * Return if attribute exists in original data array.\n     *\n     * @param Mage_Eav_Model_Entity_Attribute_Abstract $attribute\n     * @param mixed $value New value of the attribute. Can be used in subclasses.\n     * @param array $origData\n     * @return bool\n     *\/",1246],["T_WHITESPACE","\n    ",1253],["T_PROTECTED","protected",1254],["T_WHITESPACE"," ",1254],["T_FUNCTION","function",1254],["T_WHITESPACE"," ",1254],["T_STRING","_canUpdateAttribute",1254],"(",["T_STRING","Mage_Eav_Model_Entity_Attribute_Abstract",1254],["T_WHITESPACE"," ",1254],["T_VARIABLE","$attribute",1254],",",["T_WHITESPACE"," ",1254],["T_VARIABLE","$v",1254],",",["T_WHITESPACE"," ",1254],["T_ARRAY","array",1254],["T_WHITESPACE"," ",1254],"&",["T_VARIABLE","$origData",1254],")",["T_WHITESPACE","\n    ",1254],"{",["T_WHITESPACE","\n        ",1255],["T_RETURN","return",1256],["T_WHITESPACE"," ",1256],["T_STRING","array_key_exists",1256],"(",["T_VARIABLE","$attribute",1256],["T_OBJECT_OPERATOR","->",1256],["T_STRING","getAttributeCode",1256],"(",")",",",["T_WHITESPACE"," ",1256],["T_VARIABLE","$origData",1256],")",";",["T_WHITESPACE","\n    ",1256],"}",["T_WHITESPACE","\n\n    ",1257],["T_DOC_COMMENT","\/**\n     * Retrieve static field properties\n     *\n     * @param string $field\n     * @return array\n     *\/",1259],["T_WHITESPACE","\n    ",1264],["T_PROTECTED","protected",1265],["T_WHITESPACE"," ",1265],["T_FUNCTION","function",1265],["T_WHITESPACE"," ",1265],["T_STRING","_getStaticFieldProperties",1265],"(",["T_VARIABLE","$field",1265],")",["T_WHITESPACE","\n    ",1265],"{",["T_WHITESPACE","\n        ",1266],["T_IF","if",1267],["T_WHITESPACE"," ",1267],"(",["T_EMPTY","empty",1267],"(",["T_VARIABLE","$this",1267],["T_OBJECT_OPERATOR","->",1267],["T_STRING","_describeTable",1267],"[",["T_VARIABLE","$this",1267],["T_OBJECT_OPERATOR","->",1267],["T_STRING","getEntityTable",1267],"(",")","]",")",")",["T_WHITESPACE"," ",1267],"{",["T_WHITESPACE","\n            ",1267],["T_VARIABLE","$this",1268],["T_OBJECT_OPERATOR","->",1268],["T_STRING","_describeTable",1268],"[",["T_VARIABLE","$this",1268],["T_OBJECT_OPERATOR","->",1268],["T_STRING","getEntityTable",1268],"(",")","]",["T_WHITESPACE"," ",1268],"=",["T_WHITESPACE"," ",1268],["T_VARIABLE","$this",1268],["T_OBJECT_OPERATOR","->",1268],["T_STRING","_getWriteAdapter",1268],"(",")",["T_WHITESPACE","\n                ",1268],["T_OBJECT_OPERATOR","->",1269],["T_STRING","describeTable",1269],"(",["T_VARIABLE","$this",1269],["T_OBJECT_OPERATOR","->",1269],["T_STRING","getEntityTable",1269],"(",")",")",";",["T_WHITESPACE","\n        ",1269],"}",["T_WHITESPACE","\n\n        ",1270],["T_IF","if",1272],["T_WHITESPACE"," ",1272],"(",["T_ISSET","isset",1272],"(",["T_VARIABLE","$this",1272],["T_OBJECT_OPERATOR","->",1272],["T_STRING","_describeTable",1272],"[",["T_VARIABLE","$this",1272],["T_OBJECT_OPERATOR","->",1272],["T_STRING","getEntityTable",1272],"(",")","]","[",["T_VARIABLE","$field",1272],"]",")",")",["T_WHITESPACE"," ",1272],"{",["T_WHITESPACE","\n            ",1272],["T_RETURN","return",1273],["T_WHITESPACE"," ",1273],["T_VARIABLE","$this",1273],["T_OBJECT_OPERATOR","->",1273],["T_STRING","_describeTable",1273],"[",["T_VARIABLE","$this",1273],["T_OBJECT_OPERATOR","->",1273],["T_STRING","getEntityTable",1273],"(",")","]","[",["T_VARIABLE","$field",1273],"]",";",["T_WHITESPACE","\n        ",1273],"}",["T_WHITESPACE","\n\n        ",1274],["T_RETURN","return",1276],["T_WHITESPACE"," ",1276],["T_STRING","false",1276],";",["T_WHITESPACE","\n    ",1276],"}",["T_WHITESPACE","\n\n    ",1277],["T_DOC_COMMENT","\/**\n     * Prepare static value for save\n     *\n     * @param string $key\n     * @param mixed $value\n     * @return mixed\n     *\/",1279],["T_WHITESPACE","\n    ",1285],["T_PROTECTED","protected",1286],["T_WHITESPACE"," ",1286],["T_FUNCTION","function",1286],["T_WHITESPACE"," ",1286],["T_STRING","_prepareStaticValue",1286],"(",["T_VARIABLE","$key",1286],",",["T_WHITESPACE"," ",1286],["T_VARIABLE","$value",1286],")",["T_WHITESPACE","\n    ",1286],"{",["T_WHITESPACE","\n        ",1287],["T_VARIABLE","$fieldProp",1288],["T_WHITESPACE"," ",1288],"=",["T_WHITESPACE"," ",1288],["T_VARIABLE","$this",1288],["T_OBJECT_OPERATOR","->",1288],["T_STRING","_getStaticFieldProperties",1288],"(",["T_VARIABLE","$key",1288],")",";",["T_WHITESPACE","\n\n        ",1288],["T_IF","if",1290],["T_WHITESPACE"," ",1290],"(","!",["T_VARIABLE","$fieldProp",1290],")",["T_WHITESPACE"," ",1290],"{",["T_WHITESPACE","\n            ",1290],["T_RETURN","return",1291],["T_WHITESPACE"," ",1291],["T_VARIABLE","$value",1291],";",["T_WHITESPACE","\n        ",1291],"}",["T_WHITESPACE","\n\n        ",1292],["T_IF","if",1294],["T_WHITESPACE"," ",1294],"(",["T_VARIABLE","$fieldProp",1294],"[",["T_CONSTANT_ENCAPSED_STRING","'DATA_TYPE'",1294],"]",["T_WHITESPACE"," ",1294],["T_IS_EQUAL","==",1294],["T_WHITESPACE"," ",1294],["T_CONSTANT_ENCAPSED_STRING","'decimal'",1294],")",["T_WHITESPACE"," ",1294],"{",["T_WHITESPACE","\n            ",1294],["T_VARIABLE","$value",1295],["T_WHITESPACE"," ",1295],"=",["T_WHITESPACE"," ",1295],["T_STRING","Mage",1295],["T_DOUBLE_COLON","::",1295],["T_STRING","app",1295],"(",")",["T_OBJECT_OPERATOR","->",1295],["T_STRING","getLocale",1295],"(",")",["T_OBJECT_OPERATOR","->",1295],["T_STRING","getNumber",1295],"(",["T_VARIABLE","$value",1295],")",";",["T_WHITESPACE","\n        ",1295],"}",["T_WHITESPACE","\n\n        ",1296],["T_RETURN","return",1298],["T_WHITESPACE"," ",1298],["T_VARIABLE","$value",1298],";",["T_WHITESPACE","\n    ",1298],"}",["T_WHITESPACE","\n\n    ",1299],["T_DOC_COMMENT","\/**\n     * Save object collected data\n     *\n     * @param   array $saveData array('newObject', 'entityRow', 'insert', 'update', 'delete')\n     * @return  Mage_Eav_Model_Entity_Abstract\n     *\/",1301],["T_WHITESPACE","\n    ",1306],["T_PROTECTED","protected",1307],["T_WHITESPACE"," ",1307],["T_FUNCTION","function",1307],["T_WHITESPACE"," ",1307],["T_STRING","_processSaveData",1307],"(",["T_VARIABLE","$saveData",1307],")",["T_WHITESPACE","\n    ",1307],"{",["T_WHITESPACE","\n        ",1308],["T_VARIABLE","$this",1309],["T_OBJECT_OPERATOR","->",1309],["T_STRING","_attributeValuesToSave",1309],["T_WHITESPACE","   ",1309],"=",["T_WHITESPACE"," ",1309],["T_ARRAY","array",1309],"(",")",";",["T_WHITESPACE","\n        ",1309],["T_VARIABLE","$this",1310],["T_OBJECT_OPERATOR","->",1310],["T_STRING","_attributeValuesToDelete",1310],["T_WHITESPACE"," ",1310],"=",["T_WHITESPACE"," ",1310],["T_ARRAY","array",1310],"(",")",";",["T_WHITESPACE","\n\n        ",1310],["T_DOC_COMMENT","\/**\n         * Import variables from save data array\n         *\n         * @see Mage_Eav_Model_Entity_Attribute_Abstract::_collectSaveData()\n         *\n         * @var array $entityRow\n         * @var Mage_Core_Model_Abstract $newObject\n         * @var array $insert\n         * @var array $update\n         * @var array $delete\n         *\/",1312],["T_WHITESPACE","\n        ",1322],["T_VARIABLE","$newObject",1323],["T_WHITESPACE"," ",1323],"=",["T_WHITESPACE"," ",1323],["T_VARIABLE","$saveData",1323],"[",["T_CONSTANT_ENCAPSED_STRING","'newObject'",1323],"]",";",["T_WHITESPACE","\n        ",1323],["T_VARIABLE","$entityRow",1324],["T_WHITESPACE"," ",1324],"=",["T_WHITESPACE"," ",1324],["T_VARIABLE","$saveData",1324],"[",["T_CONSTANT_ENCAPSED_STRING","'entityRow'",1324],"]",";",["T_WHITESPACE","\n        ",1324],["T_VARIABLE","$insert",1325],["T_WHITESPACE","    ",1325],"=",["T_WHITESPACE"," ",1325],["T_VARIABLE","$saveData",1325],"[",["T_CONSTANT_ENCAPSED_STRING","'insert'",1325],"]",";",["T_WHITESPACE","\n        ",1325],["T_VARIABLE","$update",1326],["T_WHITESPACE","    ",1326],"=",["T_WHITESPACE"," ",1326],["T_VARIABLE","$saveData",1326],"[",["T_CONSTANT_ENCAPSED_STRING","'update'",1326],"]",";",["T_WHITESPACE","\n        ",1326],["T_VARIABLE","$delete",1327],["T_WHITESPACE","    ",1327],"=",["T_WHITESPACE"," ",1327],["T_VARIABLE","$saveData",1327],"[",["T_CONSTANT_ENCAPSED_STRING","'delete'",1327],"]",";",["T_WHITESPACE","\n\n        ",1327],["T_VARIABLE","$adapter",1329],["T_WHITESPACE","        ",1329],"=",["T_WHITESPACE"," ",1329],["T_VARIABLE","$this",1329],["T_OBJECT_OPERATOR","->",1329],["T_STRING","_getWriteAdapter",1329],"(",")",";",["T_WHITESPACE","\n        ",1329],["T_VARIABLE","$insertEntity",1330],["T_WHITESPACE","   ",1330],"=",["T_WHITESPACE"," ",1330],["T_STRING","true",1330],";",["T_WHITESPACE","\n        ",1330],["T_VARIABLE","$entityTable",1331],["T_WHITESPACE","    ",1331],"=",["T_WHITESPACE"," ",1331],["T_VARIABLE","$this",1331],["T_OBJECT_OPERATOR","->",1331],["T_STRING","getEntityTable",1331],"(",")",";",["T_WHITESPACE","\n        ",1331],["T_VARIABLE","$entityIdField",1332],["T_WHITESPACE","  ",1332],"=",["T_WHITESPACE"," ",1332],["T_VARIABLE","$this",1332],["T_OBJECT_OPERATOR","->",1332],["T_STRING","getEntityIdField",1332],"(",")",";",["T_WHITESPACE","\n        ",1332],["T_VARIABLE","$entityId",1333],["T_WHITESPACE","       ",1333],"=",["T_WHITESPACE"," ",1333],["T_VARIABLE","$newObject",1333],["T_OBJECT_OPERATOR","->",1333],["T_STRING","getId",1333],"(",")",";",["T_WHITESPACE","\n\n        ",1333],["T_UNSET","unset",1335],"(",["T_VARIABLE","$entityRow",1335],"[",["T_VARIABLE","$entityIdField",1335],"]",")",";",["T_WHITESPACE","\n        ",1335],["T_IF","if",1336],["T_WHITESPACE"," ",1336],"(","!",["T_EMPTY","empty",1336],"(",["T_VARIABLE","$entityId",1336],")",["T_WHITESPACE"," ",1336],["T_BOOLEAN_AND","&&",1336],["T_WHITESPACE"," ",1336],["T_STRING","is_numeric",1336],"(",["T_VARIABLE","$entityId",1336],")",")",["T_WHITESPACE"," ",1336],"{",["T_WHITESPACE","\n            ",1336],["T_VARIABLE","$bind",1337],["T_WHITESPACE","   ",1337],"=",["T_WHITESPACE"," ",1337],["T_ARRAY","array",1337],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_id'",1337],["T_WHITESPACE"," ",1337],["T_DOUBLE_ARROW","=>",1337],["T_WHITESPACE"," ",1337],["T_VARIABLE","$entityId",1337],")",";",["T_WHITESPACE","\n            ",1337],["T_VARIABLE","$select",1338],["T_WHITESPACE"," ",1338],"=",["T_WHITESPACE"," ",1338],["T_VARIABLE","$adapter",1338],["T_OBJECT_OPERATOR","->",1338],["T_STRING","select",1338],"(",")",["T_WHITESPACE","\n                ",1338],["T_OBJECT_OPERATOR","->",1339],["T_STRING","from",1339],"(",["T_VARIABLE","$entityTable",1339],",",["T_WHITESPACE"," ",1339],["T_VARIABLE","$entityIdField",1339],")",["T_WHITESPACE","\n                ",1339],["T_OBJECT_OPERATOR","->",1340],["T_STRING","where",1340],"(","\"",["T_CURLY_OPEN","{",1340],["T_VARIABLE","$entityIdField",1340],"}",["T_ENCAPSED_AND_WHITESPACE"," = :entity_id",1340],"\"",")",";",["T_WHITESPACE","\n            ",1340],["T_VARIABLE","$result",1341],["T_WHITESPACE"," ",1341],"=",["T_WHITESPACE"," ",1341],["T_VARIABLE","$adapter",1341],["T_OBJECT_OPERATOR","->",1341],["T_STRING","fetchOne",1341],"(",["T_VARIABLE","$select",1341],",",["T_WHITESPACE"," ",1341],["T_VARIABLE","$bind",1341],")",";",["T_WHITESPACE","\n            ",1341],["T_IF","if",1342],["T_WHITESPACE"," ",1342],"(",["T_VARIABLE","$result",1342],")",["T_WHITESPACE"," ",1342],"{",["T_WHITESPACE","\n                ",1342],["T_VARIABLE","$insertEntity",1343],["T_WHITESPACE"," ",1343],"=",["T_WHITESPACE"," ",1343],["T_STRING","false",1343],";",["T_WHITESPACE","\n            ",1343],"}",["T_WHITESPACE","\n        ",1344],"}",["T_WHITESPACE"," ",1345],["T_ELSE","else",1345],["T_WHITESPACE"," ",1345],"{",["T_WHITESPACE","\n            ",1345],["T_VARIABLE","$entityId",1346],["T_WHITESPACE"," ",1346],"=",["T_WHITESPACE"," ",1346],["T_STRING","null",1346],";",["T_WHITESPACE","\n        ",1346],"}",["T_WHITESPACE","\n\n        ",1347],["T_DOC_COMMENT","\/**\n         * Process base row\n         *\/",1349],["T_WHITESPACE","\n        ",1351],["T_VARIABLE","$entityObject",1352],["T_WHITESPACE"," ",1352],"=",["T_WHITESPACE"," ",1352],["T_NEW","new",1352],["T_WHITESPACE"," ",1352],["T_STRING","Varien_Object",1352],"(",["T_VARIABLE","$entityRow",1352],")",";",["T_WHITESPACE","\n        ",1352],["T_VARIABLE","$entityRow",1353],["T_WHITESPACE","    ",1353],"=",["T_WHITESPACE"," ",1353],["T_VARIABLE","$this",1353],["T_OBJECT_OPERATOR","->",1353],["T_STRING","_prepareDataForTable",1353],"(",["T_VARIABLE","$entityObject",1353],",",["T_WHITESPACE"," ",1353],["T_VARIABLE","$entityTable",1353],")",";",["T_WHITESPACE","\n        ",1353],["T_IF","if",1354],["T_WHITESPACE"," ",1354],"(",["T_VARIABLE","$insertEntity",1354],")",["T_WHITESPACE"," ",1354],"{",["T_WHITESPACE","\n            ",1354],["T_IF","if",1355],["T_WHITESPACE"," ",1355],"(","!",["T_EMPTY","empty",1355],"(",["T_VARIABLE","$entityId",1355],")",")",["T_WHITESPACE"," ",1355],"{",["T_WHITESPACE","\n                ",1355],["T_VARIABLE","$entityRow",1356],"[",["T_VARIABLE","$entityIdField",1356],"]",["T_WHITESPACE"," ",1356],"=",["T_WHITESPACE"," ",1356],["T_VARIABLE","$entityId",1356],";",["T_WHITESPACE","\n                ",1356],["T_VARIABLE","$adapter",1357],["T_OBJECT_OPERATOR","->",1357],["T_STRING","insertForce",1357],"(",["T_VARIABLE","$entityTable",1357],",",["T_WHITESPACE"," ",1357],["T_VARIABLE","$entityRow",1357],")",";",["T_WHITESPACE","\n            ",1357],"}",["T_WHITESPACE"," ",1358],["T_ELSE","else",1358],["T_WHITESPACE"," ",1358],"{",["T_WHITESPACE","\n                ",1358],["T_VARIABLE","$adapter",1359],["T_OBJECT_OPERATOR","->",1359],["T_STRING","insert",1359],"(",["T_VARIABLE","$entityTable",1359],",",["T_WHITESPACE"," ",1359],["T_VARIABLE","$entityRow",1359],")",";",["T_WHITESPACE","\n                ",1359],["T_VARIABLE","$entityId",1360],["T_WHITESPACE"," ",1360],"=",["T_WHITESPACE"," ",1360],["T_VARIABLE","$adapter",1360],["T_OBJECT_OPERATOR","->",1360],["T_STRING","lastInsertId",1360],"(",["T_VARIABLE","$entityTable",1360],")",";",["T_WHITESPACE","\n            ",1360],"}",["T_WHITESPACE","\n            ",1361],["T_VARIABLE","$newObject",1362],["T_OBJECT_OPERATOR","->",1362],["T_STRING","setId",1362],"(",["T_VARIABLE","$entityId",1362],")",";",["T_WHITESPACE","\n        ",1362],"}",["T_WHITESPACE"," ",1363],["T_ELSE","else",1363],["T_WHITESPACE"," ",1363],"{",["T_WHITESPACE","\n            ",1363],["T_VARIABLE","$where",1364],["T_WHITESPACE"," ",1364],"=",["T_WHITESPACE"," ",1364],["T_STRING","sprintf",1364],"(",["T_CONSTANT_ENCAPSED_STRING","'%s=%d'",1364],",",["T_WHITESPACE"," ",1364],["T_VARIABLE","$adapter",1364],["T_OBJECT_OPERATOR","->",1364],["T_STRING","quoteIdentifier",1364],"(",["T_VARIABLE","$entityIdField",1364],")",",",["T_WHITESPACE"," ",1364],["T_VARIABLE","$entityId",1364],")",";",["T_WHITESPACE","\n            ",1364],["T_VARIABLE","$adapter",1365],["T_OBJECT_OPERATOR","->",1365],["T_STRING","update",1365],"(",["T_VARIABLE","$entityTable",1365],",",["T_WHITESPACE"," ",1365],["T_VARIABLE","$entityRow",1365],",",["T_WHITESPACE"," ",1365],["T_VARIABLE","$where",1365],")",";",["T_WHITESPACE","\n        ",1365],"}",["T_WHITESPACE","\n\n        ",1366],["T_DOC_COMMENT","\/**\n         * insert attribute values\n         *\/",1368],["T_WHITESPACE","\n        ",1370],["T_IF","if",1371],["T_WHITESPACE"," ",1371],"(","!",["T_EMPTY","empty",1371],"(",["T_VARIABLE","$insert",1371],")",")",["T_WHITESPACE"," ",1371],"{",["T_WHITESPACE","\n            ",1371],["T_FOREACH","foreach",1372],["T_WHITESPACE"," ",1372],"(",["T_VARIABLE","$insert",1372],["T_WHITESPACE"," ",1372],["T_AS","as",1372],["T_WHITESPACE"," ",1372],["T_VARIABLE","$attributeId",1372],["T_WHITESPACE"," ",1372],["T_DOUBLE_ARROW","=>",1372],["T_WHITESPACE"," ",1372],["T_VARIABLE","$value",1372],")",["T_WHITESPACE"," ",1372],"{",["T_WHITESPACE","\n                ",1372],["T_VARIABLE","$attribute",1373],["T_WHITESPACE"," ",1373],"=",["T_WHITESPACE"," ",1373],["T_VARIABLE","$this",1373],["T_OBJECT_OPERATOR","->",1373],["T_STRING","getAttribute",1373],"(",["T_VARIABLE","$attributeId",1373],")",";",["T_WHITESPACE","\n                ",1373],["T_VARIABLE","$this",1374],["T_OBJECT_OPERATOR","->",1374],["T_STRING","_insertAttribute",1374],"(",["T_VARIABLE","$newObject",1374],",",["T_WHITESPACE"," ",1374],["T_VARIABLE","$attribute",1374],",",["T_WHITESPACE"," ",1374],["T_VARIABLE","$value",1374],")",";",["T_WHITESPACE","\n            ",1374],"}",["T_WHITESPACE","\n        ",1375],"}",["T_WHITESPACE","\n\n        ",1376],["T_DOC_COMMENT","\/**\n         * update attribute values\n         *\/",1378],["T_WHITESPACE","\n        ",1380],["T_IF","if",1381],["T_WHITESPACE"," ",1381],"(","!",["T_EMPTY","empty",1381],"(",["T_VARIABLE","$update",1381],")",")",["T_WHITESPACE"," ",1381],"{",["T_WHITESPACE","\n            ",1381],["T_FOREACH","foreach",1382],["T_WHITESPACE"," ",1382],"(",["T_VARIABLE","$update",1382],["T_WHITESPACE"," ",1382],["T_AS","as",1382],["T_WHITESPACE"," ",1382],["T_VARIABLE","$attributeId",1382],["T_WHITESPACE"," ",1382],["T_DOUBLE_ARROW","=>",1382],["T_WHITESPACE"," ",1382],["T_VARIABLE","$v",1382],")",["T_WHITESPACE"," ",1382],"{",["T_WHITESPACE","\n                ",1382],["T_VARIABLE","$attribute",1383],["T_WHITESPACE"," ",1383],"=",["T_WHITESPACE"," ",1383],["T_VARIABLE","$this",1383],["T_OBJECT_OPERATOR","->",1383],["T_STRING","getAttribute",1383],"(",["T_VARIABLE","$attributeId",1383],")",";",["T_WHITESPACE","\n                ",1383],["T_VARIABLE","$this",1384],["T_OBJECT_OPERATOR","->",1384],["T_STRING","_updateAttribute",1384],"(",["T_VARIABLE","$newObject",1384],",",["T_WHITESPACE"," ",1384],["T_VARIABLE","$attribute",1384],",",["T_WHITESPACE"," ",1384],["T_VARIABLE","$v",1384],"[",["T_CONSTANT_ENCAPSED_STRING","'value_id'",1384],"]",",",["T_WHITESPACE"," ",1384],["T_VARIABLE","$v",1384],"[",["T_CONSTANT_ENCAPSED_STRING","'value'",1384],"]",")",";",["T_WHITESPACE","\n            ",1384],"}",["T_WHITESPACE","\n        ",1385],"}",["T_WHITESPACE","\n\n        ",1386],["T_DOC_COMMENT","\/**\n         * delete empty attribute values\n         *\/",1388],["T_WHITESPACE","\n        ",1390],["T_IF","if",1391],["T_WHITESPACE"," ",1391],"(","!",["T_EMPTY","empty",1391],"(",["T_VARIABLE","$delete",1391],")",")",["T_WHITESPACE"," ",1391],"{",["T_WHITESPACE","\n            ",1391],["T_FOREACH","foreach",1392],["T_WHITESPACE"," ",1392],"(",["T_VARIABLE","$delete",1392],["T_WHITESPACE"," ",1392],["T_AS","as",1392],["T_WHITESPACE"," ",1392],["T_VARIABLE","$table",1392],["T_WHITESPACE"," ",1392],["T_DOUBLE_ARROW","=>",1392],["T_WHITESPACE"," ",1392],["T_VARIABLE","$values",1392],")",["T_WHITESPACE"," ",1392],"{",["T_WHITESPACE","\n                ",1392],["T_VARIABLE","$this",1393],["T_OBJECT_OPERATOR","->",1393],["T_STRING","_deleteAttributes",1393],"(",["T_VARIABLE","$newObject",1393],",",["T_WHITESPACE"," ",1393],["T_VARIABLE","$table",1393],",",["T_WHITESPACE"," ",1393],["T_VARIABLE","$values",1393],")",";",["T_WHITESPACE","\n            ",1393],"}",["T_WHITESPACE","\n        ",1394],"}",["T_WHITESPACE","\n\n        ",1395],["T_VARIABLE","$this",1397],["T_OBJECT_OPERATOR","->",1397],["T_STRING","_processAttributeValues",1397],"(",")",";",["T_WHITESPACE","\n\n        ",1397],["T_VARIABLE","$newObject",1399],["T_OBJECT_OPERATOR","->",1399],["T_STRING","isObjectNew",1399],"(",["T_STRING","false",1399],")",";",["T_WHITESPACE","\n\n        ",1399],["T_RETURN","return",1401],["T_WHITESPACE"," ",1401],["T_VARIABLE","$this",1401],";",["T_WHITESPACE","\n    ",1401],"}",["T_WHITESPACE","\n\n    ",1402],["T_DOC_COMMENT","\/**\n     * Insert entity attribute value\n     *\n     * @param   Varien_Object $object\n     * @param   Mage_Eav_Model_Entity_Attribute_Abstract $attribute\n     * @param   mixed $value\n     * @return  Mage_Eav_Model_Entity_Abstract\n     *\/",1404],["T_WHITESPACE","\n    ",1411],["T_PROTECTED","protected",1412],["T_WHITESPACE"," ",1412],["T_FUNCTION","function",1412],["T_WHITESPACE"," ",1412],["T_STRING","_insertAttribute",1412],"(",["T_VARIABLE","$object",1412],",",["T_WHITESPACE"," ",1412],["T_VARIABLE","$attribute",1412],",",["T_WHITESPACE"," ",1412],["T_VARIABLE","$value",1412],")",["T_WHITESPACE","\n    ",1412],"{",["T_WHITESPACE","\n        ",1413],["T_RETURN","return",1414],["T_WHITESPACE"," ",1414],["T_VARIABLE","$this",1414],["T_OBJECT_OPERATOR","->",1414],["T_STRING","_saveAttribute",1414],"(",["T_VARIABLE","$object",1414],",",["T_WHITESPACE"," ",1414],["T_VARIABLE","$attribute",1414],",",["T_WHITESPACE"," ",1414],["T_VARIABLE","$value",1414],")",";",["T_WHITESPACE","\n    ",1414],"}",["T_WHITESPACE","\n\n    ",1415],["T_DOC_COMMENT","\/**\n     * Update entity attribute value\n     *\n     * @param   Varien_Object $object\n     * @param   Mage_Eav_Model_Entity_Attribute_Abstract $attribute\n     * @param   mixed $valueId\n     * @param   mixed $value\n     * @return  Mage_Eav_Model_Entity_Abstract\n     *\/",1417],["T_WHITESPACE","\n    ",1425],["T_PROTECTED","protected",1426],["T_WHITESPACE"," ",1426],["T_FUNCTION","function",1426],["T_WHITESPACE"," ",1426],["T_STRING","_updateAttribute",1426],"(",["T_VARIABLE","$object",1426],",",["T_WHITESPACE"," ",1426],["T_VARIABLE","$attribute",1426],",",["T_WHITESPACE"," ",1426],["T_VARIABLE","$valueId",1426],",",["T_WHITESPACE"," ",1426],["T_VARIABLE","$value",1426],")",["T_WHITESPACE","\n    ",1426],"{",["T_WHITESPACE","\n        ",1427],["T_RETURN","return",1428],["T_WHITESPACE"," ",1428],["T_VARIABLE","$this",1428],["T_OBJECT_OPERATOR","->",1428],["T_STRING","_saveAttribute",1428],"(",["T_VARIABLE","$object",1428],",",["T_WHITESPACE"," ",1428],["T_VARIABLE","$attribute",1428],",",["T_WHITESPACE"," ",1428],["T_VARIABLE","$value",1428],")",";",["T_WHITESPACE","\n    ",1428],"}",["T_WHITESPACE","\n\n    ",1429],["T_DOC_COMMENT","\/**\n     * Save entity attribute value\n     *\n     * Collect for mass save\n     *\n     * @param Mage_Core_Model_Abstract $object\n     * @param Mage_Eav_Model_Entity_Attribute_Abstract $attribute\n     * @param mixed $value\n     * @return Mage_Eav_Model_Entity_Abstract\n     *\/",1431],["T_WHITESPACE","\n    ",1440],["T_PROTECTED","protected",1441],["T_WHITESPACE"," ",1441],["T_FUNCTION","function",1441],["T_WHITESPACE"," ",1441],["T_STRING","_saveAttribute",1441],"(",["T_VARIABLE","$object",1441],",",["T_WHITESPACE"," ",1441],["T_VARIABLE","$attribute",1441],",",["T_WHITESPACE"," ",1441],["T_VARIABLE","$value",1441],")",["T_WHITESPACE","\n    ",1441],"{",["T_WHITESPACE","\n        ",1442],["T_VARIABLE","$table",1443],["T_WHITESPACE"," ",1443],"=",["T_WHITESPACE"," ",1443],["T_VARIABLE","$attribute",1443],["T_OBJECT_OPERATOR","->",1443],["T_STRING","getBackend",1443],"(",")",["T_OBJECT_OPERATOR","->",1443],["T_STRING","getTable",1443],"(",")",";",["T_WHITESPACE","\n        ",1443],["T_IF","if",1444],["T_WHITESPACE"," ",1444],"(","!",["T_ISSET","isset",1444],"(",["T_VARIABLE","$this",1444],["T_OBJECT_OPERATOR","->",1444],["T_STRING","_attributeValuesToSave",1444],"[",["T_VARIABLE","$table",1444],"]",")",")",["T_WHITESPACE"," ",1444],"{",["T_WHITESPACE","\n            ",1444],["T_VARIABLE","$this",1445],["T_OBJECT_OPERATOR","->",1445],["T_STRING","_attributeValuesToSave",1445],"[",["T_VARIABLE","$table",1445],"]",["T_WHITESPACE"," ",1445],"=",["T_WHITESPACE"," ",1445],["T_ARRAY","array",1445],"(",")",";",["T_WHITESPACE","\n        ",1445],"}",["T_WHITESPACE","\n\n        ",1446],["T_VARIABLE","$entityIdField",1448],["T_WHITESPACE"," ",1448],"=",["T_WHITESPACE"," ",1448],["T_VARIABLE","$attribute",1448],["T_OBJECT_OPERATOR","->",1448],["T_STRING","getBackend",1448],"(",")",["T_OBJECT_OPERATOR","->",1448],["T_STRING","getEntityIdField",1448],"(",")",";",["T_WHITESPACE","\n\n        ",1448],["T_VARIABLE","$data",1450],["T_WHITESPACE","   ",1450],"=",["T_WHITESPACE"," ",1450],["T_ARRAY","array",1450],"(",["T_WHITESPACE","\n            ",1450],["T_CONSTANT_ENCAPSED_STRING","'entity_type_id'",1451],["T_WHITESPACE","    ",1451],["T_DOUBLE_ARROW","=>",1451],["T_WHITESPACE"," ",1451],["T_VARIABLE","$object",1451],["T_OBJECT_OPERATOR","->",1451],["T_STRING","getEntityTypeId",1451],"(",")",",",["T_WHITESPACE","\n            ",1451],["T_VARIABLE","$entityIdField",1452],["T_WHITESPACE","      ",1452],["T_DOUBLE_ARROW","=>",1452],["T_WHITESPACE"," ",1452],["T_VARIABLE","$object",1452],["T_OBJECT_OPERATOR","->",1452],["T_STRING","getId",1452],"(",")",",",["T_WHITESPACE","\n            ",1452],["T_CONSTANT_ENCAPSED_STRING","'attribute_id'",1453],["T_WHITESPACE","      ",1453],["T_DOUBLE_ARROW","=>",1453],["T_WHITESPACE"," ",1453],["T_VARIABLE","$attribute",1453],["T_OBJECT_OPERATOR","->",1453],["T_STRING","getId",1453],"(",")",",",["T_WHITESPACE","\n            ",1453],["T_CONSTANT_ENCAPSED_STRING","'value'",1454],["T_WHITESPACE","             ",1454],["T_DOUBLE_ARROW","=>",1454],["T_WHITESPACE"," ",1454],["T_VARIABLE","$this",1454],["T_OBJECT_OPERATOR","->",1454],["T_STRING","_prepareValueForSave",1454],"(",["T_VARIABLE","$value",1454],",",["T_WHITESPACE"," ",1454],["T_VARIABLE","$attribute",1454],")",["T_WHITESPACE","\n        ",1454],")",";",["T_WHITESPACE","\n\n        ",1455],["T_VARIABLE","$this",1457],["T_OBJECT_OPERATOR","->",1457],["T_STRING","_attributeValuesToSave",1457],"[",["T_VARIABLE","$table",1457],"]","[","]",["T_WHITESPACE"," ",1457],"=",["T_WHITESPACE"," ",1457],["T_VARIABLE","$data",1457],";",["T_WHITESPACE","\n\n        ",1457],["T_RETURN","return",1459],["T_WHITESPACE"," ",1459],["T_VARIABLE","$this",1459],";",["T_WHITESPACE","\n    ",1459],"}",["T_WHITESPACE","\n\n    ",1460],["T_DOC_COMMENT","\/**\n     * Save and detele collected attribute values\n     *\n     * @return Mage_Eav_Model_Entity_Abstract\n     *\/",1462],["T_WHITESPACE","\n    ",1466],["T_PROTECTED","protected",1467],["T_WHITESPACE"," ",1467],["T_FUNCTION","function",1467],["T_WHITESPACE"," ",1467],["T_STRING","_processAttributeValues",1467],"(",")",["T_WHITESPACE","\n    ",1467],"{",["T_WHITESPACE","\n        ",1468],["T_TRY","try",1469],["T_WHITESPACE"," ",1469],"{",["T_WHITESPACE","\n            ",1469],["T_VARIABLE","$adapter",1470],["T_WHITESPACE"," ",1470],"=",["T_WHITESPACE"," ",1470],["T_VARIABLE","$this",1470],["T_OBJECT_OPERATOR","->",1470],["T_STRING","_getWriteAdapter",1470],"(",")",";",["T_WHITESPACE","\n            ",1470],["T_FOREACH","foreach",1471],["T_WHITESPACE"," ",1471],"(",["T_VARIABLE","$this",1471],["T_OBJECT_OPERATOR","->",1471],["T_STRING","_attributeValuesToSave",1471],["T_WHITESPACE"," ",1471],["T_AS","as",1471],["T_WHITESPACE"," ",1471],["T_VARIABLE","$table",1471],["T_WHITESPACE"," ",1471],["T_DOUBLE_ARROW","=>",1471],["T_WHITESPACE"," ",1471],["T_VARIABLE","$data",1471],")",["T_WHITESPACE"," ",1471],"{",["T_WHITESPACE","\n                ",1471],["T_VARIABLE","$adapter",1472],["T_OBJECT_OPERATOR","->",1472],["T_STRING","insertOnDuplicate",1472],"(",["T_VARIABLE","$table",1472],",",["T_WHITESPACE"," ",1472],["T_VARIABLE","$data",1472],",",["T_WHITESPACE"," ",1472],["T_ARRAY","array",1472],"(",["T_CONSTANT_ENCAPSED_STRING","'value'",1472],")",")",";",["T_WHITESPACE","\n            ",1472],"}",["T_WHITESPACE","\n\n            ",1473],["T_FOREACH","foreach",1475],["T_WHITESPACE"," ",1475],"(",["T_VARIABLE","$this",1475],["T_OBJECT_OPERATOR","->",1475],["T_STRING","_attributeValuesToDelete",1475],["T_WHITESPACE"," ",1475],["T_AS","as",1475],["T_WHITESPACE"," ",1475],["T_VARIABLE","$table",1475],["T_WHITESPACE"," ",1475],["T_DOUBLE_ARROW","=>",1475],["T_WHITESPACE"," ",1475],["T_VARIABLE","$valueIds",1475],")",["T_WHITESPACE"," ",1475],"{",["T_WHITESPACE","\n                ",1475],["T_VARIABLE","$adapter",1476],["T_OBJECT_OPERATOR","->",1476],["T_STRING","delete",1476],"(",["T_VARIABLE","$table",1476],",",["T_WHITESPACE"," ",1476],["T_ARRAY","array",1476],"(",["T_CONSTANT_ENCAPSED_STRING","'value_id IN (?)'",1476],["T_WHITESPACE"," ",1476],["T_DOUBLE_ARROW","=>",1476],["T_WHITESPACE"," ",1476],["T_VARIABLE","$valueIds",1476],")",")",";",["T_WHITESPACE","\n            ",1476],"}",["T_WHITESPACE","\n\n            ",1477],["T_COMMENT","\/\/ reset data arrays\n",1479],["T_WHITESPACE","            ",1480],["T_VARIABLE","$this",1480],["T_OBJECT_OPERATOR","->",1480],["T_STRING","_attributeValuesToSave",1480],["T_WHITESPACE","   ",1480],"=",["T_WHITESPACE"," ",1480],["T_ARRAY","array",1480],"(",")",";",["T_WHITESPACE","\n            ",1480],["T_VARIABLE","$this",1481],["T_OBJECT_OPERATOR","->",1481],["T_STRING","_attributeValuesToDelete",1481],["T_WHITESPACE"," ",1481],"=",["T_WHITESPACE"," ",1481],["T_ARRAY","array",1481],"(",")",";",["T_WHITESPACE","\n        ",1481],"}",["T_WHITESPACE"," ",1482],["T_CATCH","catch",1482],["T_WHITESPACE"," ",1482],"(",["T_STRING","Exception",1482],["T_WHITESPACE"," ",1482],["T_VARIABLE","$e",1482],")",["T_WHITESPACE"," ",1482],"{",["T_WHITESPACE","\n            ",1482],["T_VARIABLE","$this",1483],["T_OBJECT_OPERATOR","->",1483],["T_STRING","_attributeValuesToSave",1483],["T_WHITESPACE","   ",1483],"=",["T_WHITESPACE"," ",1483],["T_ARRAY","array",1483],"(",")",";",["T_WHITESPACE","\n            ",1483],["T_VARIABLE","$this",1484],["T_OBJECT_OPERATOR","->",1484],["T_STRING","_attributeValuesToDelete",1484],["T_WHITESPACE"," ",1484],"=",["T_WHITESPACE"," ",1484],["T_ARRAY","array",1484],"(",")",";",["T_WHITESPACE","\n            ",1484],["T_THROW","throw",1485],["T_WHITESPACE"," ",1485],["T_VARIABLE","$e",1485],";",["T_WHITESPACE","\n        ",1485],"}",["T_WHITESPACE","\n\n        ",1486],["T_RETURN","return",1488],["T_WHITESPACE"," ",1488],["T_VARIABLE","$this",1488],";",["T_WHITESPACE","\n    ",1488],"}",["T_WHITESPACE","\n\n    ",1489],["T_DOC_COMMENT","\/**\n     * Prepare value for save\n     *\n     * @param mixed $value\n     * @param Mage_Eav_Model_Entity_Attribute_Abstract $attribute\n     * @return mixed\n     *\/",1491],["T_WHITESPACE","\n    ",1497],["T_PROTECTED","protected",1498],["T_WHITESPACE"," ",1498],["T_FUNCTION","function",1498],["T_WHITESPACE"," ",1498],["T_STRING","_prepareValueForSave",1498],"(",["T_VARIABLE","$value",1498],",",["T_WHITESPACE"," ",1498],["T_STRING","Mage_Eav_Model_Entity_Attribute_Abstract",1498],["T_WHITESPACE"," ",1498],["T_VARIABLE","$attribute",1498],")",["T_WHITESPACE","\n    ",1498],"{",["T_WHITESPACE","\n        ",1499],["T_IF","if",1500],["T_WHITESPACE"," ",1500],"(",["T_VARIABLE","$attribute",1500],["T_OBJECT_OPERATOR","->",1500],["T_STRING","getBackendType",1500],"(",")",["T_WHITESPACE"," ",1500],["T_IS_EQUAL","==",1500],["T_WHITESPACE"," ",1500],["T_CONSTANT_ENCAPSED_STRING","'decimal'",1500],")",["T_WHITESPACE"," ",1500],"{",["T_WHITESPACE","\n            ",1500],["T_RETURN","return",1501],["T_WHITESPACE"," ",1501],["T_STRING","Mage",1501],["T_DOUBLE_COLON","::",1501],["T_STRING","app",1501],"(",")",["T_OBJECT_OPERATOR","->",1501],["T_STRING","getLocale",1501],"(",")",["T_OBJECT_OPERATOR","->",1501],["T_STRING","getNumber",1501],"(",["T_VARIABLE","$value",1501],")",";",["T_WHITESPACE","\n        ",1501],"}",["T_WHITESPACE","\n\n        ",1502],["T_VARIABLE","$backendTable",1504],["T_WHITESPACE"," ",1504],"=",["T_WHITESPACE"," ",1504],["T_VARIABLE","$attribute",1504],["T_OBJECT_OPERATOR","->",1504],["T_STRING","getBackendTable",1504],"(",")",";",["T_WHITESPACE","\n        ",1504],["T_IF","if",1505],["T_WHITESPACE"," ",1505],"(","!",["T_ISSET","isset",1505],"(",["T_STRING","self",1505],["T_DOUBLE_COLON","::",1505],["T_VARIABLE","$_attributeBackendTables",1505],"[",["T_VARIABLE","$backendTable",1505],"]",")",")",["T_WHITESPACE"," ",1505],"{",["T_WHITESPACE","\n            ",1505],["T_STRING","self",1506],["T_DOUBLE_COLON","::",1506],["T_VARIABLE","$_attributeBackendTables",1506],"[",["T_VARIABLE","$backendTable",1506],"]",["T_WHITESPACE"," ",1506],"=",["T_WHITESPACE"," ",1506],["T_VARIABLE","$this",1506],["T_OBJECT_OPERATOR","->",1506],["T_STRING","_getReadAdapter",1506],"(",")",["T_OBJECT_OPERATOR","->",1506],["T_STRING","describeTable",1506],"(",["T_VARIABLE","$backendTable",1506],")",";",["T_WHITESPACE","\n        ",1506],"}",["T_WHITESPACE","\n        ",1507],["T_VARIABLE","$describe",1508],["T_WHITESPACE"," ",1508],"=",["T_WHITESPACE"," ",1508],["T_STRING","self",1508],["T_DOUBLE_COLON","::",1508],["T_VARIABLE","$_attributeBackendTables",1508],"[",["T_VARIABLE","$backendTable",1508],"]",";",["T_WHITESPACE","\n        ",1508],["T_RETURN","return",1509],["T_WHITESPACE"," ",1509],["T_VARIABLE","$this",1509],["T_OBJECT_OPERATOR","->",1509],["T_STRING","_getReadAdapter",1509],"(",")",["T_OBJECT_OPERATOR","->",1509],["T_STRING","prepareColumnValue",1509],"(",["T_VARIABLE","$describe",1509],"[",["T_CONSTANT_ENCAPSED_STRING","'value'",1509],"]",",",["T_WHITESPACE"," ",1509],["T_VARIABLE","$value",1509],")",";",["T_WHITESPACE","\n    ",1509],"}",["T_WHITESPACE","\n\n    ",1510],["T_DOC_COMMENT","\/**\n     * Delete entity attribute values\n     *\n     * @param   Varien_Object $object\n     * @param   string $table\n     * @param   array $info\n     * @return  Varien_Object\n     *\/",1512],["T_WHITESPACE","\n    ",1519],["T_PROTECTED","protected",1520],["T_WHITESPACE"," ",1520],["T_FUNCTION","function",1520],["T_WHITESPACE"," ",1520],["T_STRING","_deleteAttributes",1520],"(",["T_VARIABLE","$object",1520],",",["T_WHITESPACE"," ",1520],["T_VARIABLE","$table",1520],",",["T_WHITESPACE"," ",1520],["T_VARIABLE","$info",1520],")",["T_WHITESPACE","\n    ",1520],"{",["T_WHITESPACE","\n        ",1521],["T_VARIABLE","$valueIds",1522],["T_WHITESPACE"," ",1522],"=",["T_WHITESPACE"," ",1522],["T_ARRAY","array",1522],"(",")",";",["T_WHITESPACE","\n        ",1522],["T_FOREACH","foreach",1523],["T_WHITESPACE"," ",1523],"(",["T_VARIABLE","$info",1523],["T_WHITESPACE"," ",1523],["T_AS","as",1523],["T_WHITESPACE"," ",1523],["T_VARIABLE","$itemData",1523],")",["T_WHITESPACE"," ",1523],"{",["T_WHITESPACE","\n            ",1523],["T_VARIABLE","$valueIds",1524],"[","]",["T_WHITESPACE"," ",1524],"=",["T_WHITESPACE"," ",1524],["T_VARIABLE","$itemData",1524],"[",["T_CONSTANT_ENCAPSED_STRING","'value_id'",1524],"]",";",["T_WHITESPACE","\n        ",1524],"}",["T_WHITESPACE","\n\n        ",1525],["T_IF","if",1527],["T_WHITESPACE"," ",1527],"(",["T_EMPTY","empty",1527],"(",["T_VARIABLE","$valueIds",1527],")",")",["T_WHITESPACE"," ",1527],"{",["T_WHITESPACE","\n            ",1527],["T_RETURN","return",1528],["T_WHITESPACE"," ",1528],["T_VARIABLE","$this",1528],";",["T_WHITESPACE","\n        ",1528],"}",["T_WHITESPACE","\n\n        ",1529],["T_IF","if",1531],["T_WHITESPACE"," ",1531],"(",["T_ISSET","isset",1531],"(",["T_VARIABLE","$this",1531],["T_OBJECT_OPERATOR","->",1531],["T_STRING","_attributeValuesToDelete",1531],"[",["T_VARIABLE","$table",1531],"]",")",")",["T_WHITESPACE"," ",1531],"{",["T_WHITESPACE","\n            ",1531],["T_VARIABLE","$this",1532],["T_OBJECT_OPERATOR","->",1532],["T_STRING","_attributeValuesToDelete",1532],"[",["T_VARIABLE","$table",1532],"]",["T_WHITESPACE"," ",1532],"=",["T_WHITESPACE"," ",1532],["T_STRING","array_merge",1532],"(",["T_VARIABLE","$this",1532],["T_OBJECT_OPERATOR","->",1532],["T_STRING","_attributeValuesToDelete",1532],"[",["T_VARIABLE","$table",1532],"]",",",["T_WHITESPACE"," ",1532],["T_VARIABLE","$valueIds",1532],")",";",["T_WHITESPACE","\n        ",1532],"}",["T_WHITESPACE"," ",1533],["T_ELSE","else",1533],["T_WHITESPACE"," ",1533],"{",["T_WHITESPACE","\n            ",1533],["T_VARIABLE","$this",1534],["T_OBJECT_OPERATOR","->",1534],["T_STRING","_attributeValuesToDelete",1534],"[",["T_VARIABLE","$table",1534],"]",["T_WHITESPACE"," ",1534],"=",["T_WHITESPACE"," ",1534],["T_VARIABLE","$valueIds",1534],";",["T_WHITESPACE","\n        ",1534],"}",["T_WHITESPACE","\n\n        ",1535],["T_RETURN","return",1537],["T_WHITESPACE"," ",1537],["T_VARIABLE","$this",1537],";",["T_WHITESPACE","\n    ",1537],"}",["T_WHITESPACE","\n\n    ",1538],["T_DOC_COMMENT","\/**\n     * Save attribute\n     *\n     * @param Varien_Object $object\n     * @param string $attributeCode\n     * @return Mage_Eav_Model_Entity_Abstract\n     *\/",1540],["T_WHITESPACE","\n    ",1546],["T_PUBLIC","public",1547],["T_WHITESPACE"," ",1547],["T_FUNCTION","function",1547],["T_WHITESPACE"," ",1547],["T_STRING","saveAttribute",1547],"(",["T_STRING","Varien_Object",1547],["T_WHITESPACE"," ",1547],["T_VARIABLE","$object",1547],",",["T_WHITESPACE"," ",1547],["T_VARIABLE","$attributeCode",1547],")",["T_WHITESPACE","\n    ",1547],"{",["T_WHITESPACE","\n        ",1548],["T_VARIABLE","$this",1549],["T_OBJECT_OPERATOR","->",1549],["T_STRING","_attributeValuesToSave",1549],["T_WHITESPACE","   ",1549],"=",["T_WHITESPACE"," ",1549],["T_ARRAY","array",1549],"(",")",";",["T_WHITESPACE","\n        ",1549],["T_VARIABLE","$this",1550],["T_OBJECT_OPERATOR","->",1550],["T_STRING","_attributeValuesToDelete",1550],["T_WHITESPACE"," ",1550],"=",["T_WHITESPACE"," ",1550],["T_ARRAY","array",1550],"(",")",";",["T_WHITESPACE","\n\n        ",1550],["T_VARIABLE","$attribute",1552],["T_WHITESPACE","      ",1552],"=",["T_WHITESPACE"," ",1552],["T_VARIABLE","$this",1552],["T_OBJECT_OPERATOR","->",1552],["T_STRING","getAttribute",1552],"(",["T_VARIABLE","$attributeCode",1552],")",";",["T_WHITESPACE","\n        ",1552],["T_VARIABLE","$backend",1553],["T_WHITESPACE","        ",1553],"=",["T_WHITESPACE"," ",1553],["T_VARIABLE","$attribute",1553],["T_OBJECT_OPERATOR","->",1553],["T_STRING","getBackend",1553],"(",")",";",["T_WHITESPACE","\n        ",1553],["T_VARIABLE","$table",1554],["T_WHITESPACE","          ",1554],"=",["T_WHITESPACE"," ",1554],["T_VARIABLE","$backend",1554],["T_OBJECT_OPERATOR","->",1554],["T_STRING","getTable",1554],"(",")",";",["T_WHITESPACE","\n        ",1554],["T_VARIABLE","$entity",1555],["T_WHITESPACE","         ",1555],"=",["T_WHITESPACE"," ",1555],["T_VARIABLE","$attribute",1555],["T_OBJECT_OPERATOR","->",1555],["T_STRING","getEntity",1555],"(",")",";",["T_WHITESPACE","\n        ",1555],["T_VARIABLE","$entityIdField",1556],["T_WHITESPACE","  ",1556],"=",["T_WHITESPACE"," ",1556],["T_VARIABLE","$entity",1556],["T_OBJECT_OPERATOR","->",1556],["T_STRING","getEntityIdField",1556],"(",")",";",["T_WHITESPACE","\n        ",1556],["T_VARIABLE","$adapter",1557],["T_WHITESPACE","        ",1557],"=",["T_WHITESPACE"," ",1557],["T_VARIABLE","$this",1557],["T_OBJECT_OPERATOR","->",1557],["T_STRING","_getWriteAdapter",1557],"(",")",";",["T_WHITESPACE","\n\n        ",1557],["T_VARIABLE","$row",1559],["T_WHITESPACE"," ",1559],"=",["T_WHITESPACE"," ",1559],["T_ARRAY","array",1559],"(",["T_WHITESPACE","\n            ",1559],["T_CONSTANT_ENCAPSED_STRING","'entity_type_id'",1560],["T_WHITESPACE"," ",1560],["T_DOUBLE_ARROW","=>",1560],["T_WHITESPACE"," ",1560],["T_VARIABLE","$entity",1560],["T_OBJECT_OPERATOR","->",1560],["T_STRING","getTypeId",1560],"(",")",",",["T_WHITESPACE","\n            ",1560],["T_CONSTANT_ENCAPSED_STRING","'attribute_id'",1561],["T_WHITESPACE","   ",1561],["T_DOUBLE_ARROW","=>",1561],["T_WHITESPACE"," ",1561],["T_VARIABLE","$attribute",1561],["T_OBJECT_OPERATOR","->",1561],["T_STRING","getId",1561],"(",")",",",["T_WHITESPACE","\n            ",1561],["T_VARIABLE","$entityIdField",1562],["T_WHITESPACE","   ",1562],["T_DOUBLE_ARROW","=>",1562],["T_WHITESPACE"," ",1562],["T_VARIABLE","$object",1562],["T_OBJECT_OPERATOR","->",1562],["T_STRING","getData",1562],"(",["T_VARIABLE","$entityIdField",1562],")",",",["T_WHITESPACE","\n        ",1562],")",";",["T_WHITESPACE","\n\n        ",1563],["T_VARIABLE","$newValue",1565],["T_WHITESPACE"," ",1565],"=",["T_WHITESPACE"," ",1565],["T_VARIABLE","$object",1565],["T_OBJECT_OPERATOR","->",1565],["T_STRING","getData",1565],"(",["T_VARIABLE","$attributeCode",1565],")",";",["T_WHITESPACE","\n        ",1565],["T_IF","if",1566],["T_WHITESPACE"," ",1566],"(",["T_VARIABLE","$attribute",1566],["T_OBJECT_OPERATOR","->",1566],["T_STRING","isValueEmpty",1566],"(",["T_VARIABLE","$newValue",1566],")",")",["T_WHITESPACE"," ",1566],"{",["T_WHITESPACE","\n            ",1566],["T_VARIABLE","$newValue",1567],["T_WHITESPACE"," ",1567],"=",["T_WHITESPACE"," ",1567],["T_STRING","null",1567],";",["T_WHITESPACE","\n        ",1567],"}",["T_WHITESPACE","\n\n        ",1568],["T_VARIABLE","$whereArr",1570],["T_WHITESPACE"," ",1570],"=",["T_WHITESPACE"," ",1570],["T_ARRAY","array",1570],"(",")",";",["T_WHITESPACE","\n        ",1570],["T_FOREACH","foreach",1571],["T_WHITESPACE"," ",1571],"(",["T_VARIABLE","$row",1571],["T_WHITESPACE"," ",1571],["T_AS","as",1571],["T_WHITESPACE"," ",1571],["T_VARIABLE","$field",1571],["T_WHITESPACE"," ",1571],["T_DOUBLE_ARROW","=>",1571],["T_WHITESPACE"," ",1571],["T_VARIABLE","$value",1571],")",["T_WHITESPACE"," ",1571],"{",["T_WHITESPACE","\n            ",1571],["T_VARIABLE","$whereArr",1572],"[","]",["T_WHITESPACE"," ",1572],"=",["T_WHITESPACE"," ",1572],["T_VARIABLE","$adapter",1572],["T_OBJECT_OPERATOR","->",1572],["T_STRING","quoteInto",1572],"(",["T_VARIABLE","$field",1572],["T_WHITESPACE"," ",1572],".",["T_WHITESPACE"," ",1572],["T_CONSTANT_ENCAPSED_STRING","'=?'",1572],",",["T_WHITESPACE"," ",1572],["T_VARIABLE","$value",1572],")",";",["T_WHITESPACE","\n        ",1572],"}",["T_WHITESPACE","\n        ",1573],["T_VARIABLE","$where",1574],["T_WHITESPACE"," ",1574],"=",["T_WHITESPACE"," ",1574],["T_STRING","implode",1574],"(",["T_CONSTANT_ENCAPSED_STRING","' AND '",1574],",",["T_WHITESPACE"," ",1574],["T_VARIABLE","$whereArr",1574],")",";",["T_WHITESPACE","\n\n        ",1574],["T_VARIABLE","$adapter",1576],["T_OBJECT_OPERATOR","->",1576],["T_STRING","beginTransaction",1576],"(",")",";",["T_WHITESPACE","\n\n        ",1576],["T_TRY","try",1578],["T_WHITESPACE"," ",1578],"{",["T_WHITESPACE","\n            ",1578],["T_VARIABLE","$select",1579],["T_WHITESPACE"," ",1579],"=",["T_WHITESPACE"," ",1579],["T_VARIABLE","$adapter",1579],["T_OBJECT_OPERATOR","->",1579],["T_STRING","select",1579],"(",")",["T_WHITESPACE","\n                ",1579],["T_OBJECT_OPERATOR","->",1580],["T_STRING","from",1580],"(",["T_VARIABLE","$table",1580],",",["T_WHITESPACE"," ",1580],["T_CONSTANT_ENCAPSED_STRING","'value_id'",1580],")",["T_WHITESPACE","\n                ",1580],["T_OBJECT_OPERATOR","->",1581],["T_STRING","where",1581],"(",["T_VARIABLE","$where",1581],")",";",["T_WHITESPACE","\n            ",1581],["T_VARIABLE","$origValueId",1582],["T_WHITESPACE"," ",1582],"=",["T_WHITESPACE"," ",1582],["T_VARIABLE","$adapter",1582],["T_OBJECT_OPERATOR","->",1582],["T_STRING","fetchOne",1582],"(",["T_VARIABLE","$select",1582],")",";",["T_WHITESPACE","\n\n            ",1582],["T_IF","if",1584],["T_WHITESPACE"," ",1584],"(",["T_VARIABLE","$origValueId",1584],["T_WHITESPACE"," ",1584],["T_IS_IDENTICAL","===",1584],["T_WHITESPACE"," ",1584],["T_STRING","false",1584],["T_WHITESPACE"," ",1584],["T_BOOLEAN_AND","&&",1584],["T_WHITESPACE"," ",1584],"(",["T_VARIABLE","$newValue",1584],["T_WHITESPACE"," ",1584],["T_IS_NOT_IDENTICAL","!==",1584],["T_WHITESPACE"," ",1584],["T_STRING","null",1584],")",")",["T_WHITESPACE"," ",1584],"{",["T_WHITESPACE","\n                ",1584],["T_VARIABLE","$this",1585],["T_OBJECT_OPERATOR","->",1585],["T_STRING","_insertAttribute",1585],"(",["T_VARIABLE","$object",1585],",",["T_WHITESPACE"," ",1585],["T_VARIABLE","$attribute",1585],",",["T_WHITESPACE"," ",1585],["T_VARIABLE","$newValue",1585],")",";",["T_WHITESPACE","\n            ",1585],"}",["T_WHITESPACE"," ",1586],["T_ELSEIF","elseif",1586],["T_WHITESPACE"," ",1586],"(",["T_VARIABLE","$origValueId",1586],["T_WHITESPACE"," ",1586],["T_IS_NOT_IDENTICAL","!==",1586],["T_WHITESPACE"," ",1586],["T_STRING","false",1586],["T_WHITESPACE"," ",1586],["T_BOOLEAN_AND","&&",1586],["T_WHITESPACE"," ",1586],"(",["T_VARIABLE","$newValue",1586],["T_WHITESPACE"," ",1586],["T_IS_NOT_IDENTICAL","!==",1586],["T_WHITESPACE"," ",1586],["T_STRING","null",1586],")",")",["T_WHITESPACE"," ",1586],"{",["T_WHITESPACE","\n                ",1586],["T_VARIABLE","$this",1587],["T_OBJECT_OPERATOR","->",1587],["T_STRING","_updateAttribute",1587],"(",["T_VARIABLE","$object",1587],",",["T_WHITESPACE"," ",1587],["T_VARIABLE","$attribute",1587],",",["T_WHITESPACE"," ",1587],["T_VARIABLE","$origValueId",1587],",",["T_WHITESPACE"," ",1587],["T_VARIABLE","$newValue",1587],")",";",["T_WHITESPACE","\n            ",1587],"}",["T_WHITESPACE"," ",1588],["T_ELSEIF","elseif",1588],["T_WHITESPACE"," ",1588],"(",["T_VARIABLE","$origValueId",1588],["T_WHITESPACE"," ",1588],["T_IS_NOT_IDENTICAL","!==",1588],["T_WHITESPACE"," ",1588],["T_STRING","false",1588],["T_WHITESPACE"," ",1588],["T_BOOLEAN_AND","&&",1588],["T_WHITESPACE"," ",1588],"(",["T_VARIABLE","$newValue",1588],["T_WHITESPACE"," ",1588],["T_IS_IDENTICAL","===",1588],["T_WHITESPACE"," ",1588],["T_STRING","null",1588],")",")",["T_WHITESPACE"," ",1588],"{",["T_WHITESPACE","\n                ",1588],["T_VARIABLE","$adapter",1589],["T_OBJECT_OPERATOR","->",1589],["T_STRING","delete",1589],"(",["T_VARIABLE","$table",1589],",",["T_WHITESPACE"," ",1589],["T_VARIABLE","$where",1589],")",";",["T_WHITESPACE","\n            ",1589],"}",["T_WHITESPACE","\n            ",1590],["T_VARIABLE","$this",1591],["T_OBJECT_OPERATOR","->",1591],["T_STRING","_processAttributeValues",1591],"(",")",";",["T_WHITESPACE","\n            ",1591],["T_VARIABLE","$adapter",1592],["T_OBJECT_OPERATOR","->",1592],["T_STRING","commit",1592],"(",")",";",["T_WHITESPACE","\n        ",1592],"}",["T_WHITESPACE"," ",1593],["T_CATCH","catch",1593],["T_WHITESPACE"," ",1593],"(",["T_STRING","Exception",1593],["T_WHITESPACE"," ",1593],["T_VARIABLE","$e",1593],")",["T_WHITESPACE"," ",1593],"{",["T_WHITESPACE","\n            ",1593],["T_VARIABLE","$adapter",1594],["T_OBJECT_OPERATOR","->",1594],["T_STRING","rollback",1594],"(",")",";",["T_WHITESPACE","\n            ",1594],["T_THROW","throw",1595],["T_WHITESPACE"," ",1595],["T_VARIABLE","$e",1595],";",["T_WHITESPACE","\n        ",1595],"}",["T_WHITESPACE","\n\n        ",1596],["T_RETURN","return",1598],["T_WHITESPACE"," ",1598],["T_VARIABLE","$this",1598],";",["T_WHITESPACE","\n    ",1598],"}",["T_WHITESPACE","\n\n    ",1599],["T_DOC_COMMENT","\/**\n     * Delete entity using current object's data\n     *\n     * @return Mage_Eav_Model_Entity_Abstract\n     *\/",1601],["T_WHITESPACE","\n    ",1605],["T_PUBLIC","public",1606],["T_WHITESPACE"," ",1606],["T_FUNCTION","function",1606],["T_WHITESPACE"," ",1606],["T_STRING","delete",1606],"(",["T_VARIABLE","$object",1606],")",["T_WHITESPACE","\n    ",1606],"{",["T_WHITESPACE","\n        ",1607],["T_IF","if",1608],["T_WHITESPACE"," ",1608],"(",["T_STRING","is_numeric",1608],"(",["T_VARIABLE","$object",1608],")",")",["T_WHITESPACE"," ",1608],"{",["T_WHITESPACE","\n            ",1608],["T_VARIABLE","$id",1609],["T_WHITESPACE"," ",1609],"=",["T_WHITESPACE"," ",1609],["T_INT_CAST","(int)",1609],["T_VARIABLE","$object",1609],";",["T_WHITESPACE","\n        ",1609],"}",["T_WHITESPACE"," ",1610],["T_ELSEIF","elseif",1610],["T_WHITESPACE"," ",1610],"(",["T_VARIABLE","$object",1610],["T_WHITESPACE"," ",1610],["T_INSTANCEOF","instanceof",1610],["T_WHITESPACE"," ",1610],["T_STRING","Varien_Object",1610],")",["T_WHITESPACE"," ",1610],"{",["T_WHITESPACE","\n            ",1610],["T_VARIABLE","$id",1611],["T_WHITESPACE"," ",1611],"=",["T_WHITESPACE"," ",1611],["T_INT_CAST","(int)",1611],["T_VARIABLE","$object",1611],["T_OBJECT_OPERATOR","->",1611],["T_STRING","getId",1611],"(",")",";",["T_WHITESPACE","\n        ",1611],"}",["T_WHITESPACE","\n\n        ",1612],["T_VARIABLE","$this",1614],["T_OBJECT_OPERATOR","->",1614],["T_STRING","_beforeDelete",1614],"(",["T_VARIABLE","$object",1614],")",";",["T_WHITESPACE","\n\n        ",1614],["T_TRY","try",1616],["T_WHITESPACE"," ",1616],"{",["T_WHITESPACE","\n            ",1616],["T_VARIABLE","$where",1617],["T_WHITESPACE"," ",1617],"=",["T_WHITESPACE"," ",1617],["T_ARRAY","array",1617],"(",["T_WHITESPACE","\n                ",1617],["T_VARIABLE","$this",1618],["T_OBJECT_OPERATOR","->",1618],["T_STRING","getEntityIdField",1618],"(",")",["T_WHITESPACE"," ",1618],".",["T_WHITESPACE"," ",1618],["T_CONSTANT_ENCAPSED_STRING","'=?'",1618],["T_WHITESPACE"," ",1618],["T_DOUBLE_ARROW","=>",1618],["T_WHITESPACE"," ",1618],["T_VARIABLE","$id",1618],["T_WHITESPACE","\n            ",1618],")",";",["T_WHITESPACE","\n            ",1619],["T_VARIABLE","$this",1620],["T_OBJECT_OPERATOR","->",1620],["T_STRING","_getWriteAdapter",1620],"(",")",["T_OBJECT_OPERATOR","->",1620],["T_STRING","delete",1620],"(",["T_VARIABLE","$this",1620],["T_OBJECT_OPERATOR","->",1620],["T_STRING","getEntityTable",1620],"(",")",",",["T_WHITESPACE"," ",1620],["T_VARIABLE","$where",1620],")",";",["T_WHITESPACE","\n            ",1620],["T_VARIABLE","$this",1621],["T_OBJECT_OPERATOR","->",1621],["T_STRING","loadAllAttributes",1621],"(",["T_VARIABLE","$object",1621],")",";",["T_WHITESPACE","\n            ",1621],["T_FOREACH","foreach",1622],["T_WHITESPACE"," ",1622],"(",["T_VARIABLE","$this",1622],["T_OBJECT_OPERATOR","->",1622],["T_STRING","getAttributesByTable",1622],"(",")",["T_WHITESPACE"," ",1622],["T_AS","as",1622],["T_WHITESPACE"," ",1622],["T_VARIABLE","$table",1622],["T_WHITESPACE"," ",1622],["T_DOUBLE_ARROW","=>",1622],["T_WHITESPACE"," ",1622],["T_VARIABLE","$attributes",1622],")",["T_WHITESPACE"," ",1622],"{",["T_WHITESPACE","\n                ",1622],["T_VARIABLE","$this",1623],["T_OBJECT_OPERATOR","->",1623],["T_STRING","_getWriteAdapter",1623],"(",")",["T_OBJECT_OPERATOR","->",1623],["T_STRING","delete",1623],"(",["T_VARIABLE","$table",1623],",",["T_WHITESPACE"," ",1623],["T_VARIABLE","$where",1623],")",";",["T_WHITESPACE","\n            ",1623],"}",["T_WHITESPACE","\n        ",1624],"}",["T_WHITESPACE"," ",1625],["T_CATCH","catch",1625],["T_WHITESPACE"," ",1625],"(",["T_STRING","Exception",1625],["T_WHITESPACE"," ",1625],["T_VARIABLE","$e",1625],")",["T_WHITESPACE"," ",1625],"{",["T_WHITESPACE","\n            ",1625],["T_THROW","throw",1626],["T_WHITESPACE"," ",1626],["T_VARIABLE","$e",1626],";",["T_WHITESPACE","\n        ",1626],"}",["T_WHITESPACE","\n\n        ",1627],["T_VARIABLE","$this",1629],["T_OBJECT_OPERATOR","->",1629],["T_STRING","_afterDelete",1629],"(",["T_VARIABLE","$object",1629],")",";",["T_WHITESPACE","\n        ",1629],["T_RETURN","return",1630],["T_WHITESPACE"," ",1630],["T_VARIABLE","$this",1630],";",["T_WHITESPACE","\n    ",1630],"}",["T_WHITESPACE","\n\n    ",1631],["T_DOC_COMMENT","\/**\n     * After Load Entity process\n     *\n     * @param Varien_Object $object\n     * @return Mage_Eav_Model_Entity_Abstract\n     *\/",1633],["T_WHITESPACE","\n    ",1638],["T_PROTECTED","protected",1639],["T_WHITESPACE"," ",1639],["T_FUNCTION","function",1639],["T_WHITESPACE"," ",1639],["T_STRING","_afterLoad",1639],"(",["T_STRING","Varien_Object",1639],["T_WHITESPACE"," ",1639],["T_VARIABLE","$object",1639],")",["T_WHITESPACE","\n    ",1639],"{",["T_WHITESPACE","\n        ",1640],["T_VARIABLE","$this",1641],["T_OBJECT_OPERATOR","->",1641],["T_STRING","walkAttributes",1641],"(",["T_CONSTANT_ENCAPSED_STRING","'backend\/afterLoad'",1641],",",["T_WHITESPACE"," ",1641],["T_ARRAY","array",1641],"(",["T_VARIABLE","$object",1641],")",")",";",["T_WHITESPACE","\n        ",1641],["T_RETURN","return",1642],["T_WHITESPACE"," ",1642],["T_VARIABLE","$this",1642],";",["T_WHITESPACE","\n    ",1642],"}",["T_WHITESPACE","\n\n    ",1643],["T_DOC_COMMENT","\/**\n     * Before delete Entity process\n     *\n     * @param Varien_Object $object\n     * @return Mage_Eav_Model_Entity_Abstract\n     *\/",1645],["T_WHITESPACE","\n    ",1650],["T_PROTECTED","protected",1651],["T_WHITESPACE"," ",1651],["T_FUNCTION","function",1651],["T_WHITESPACE"," ",1651],["T_STRING","_beforeSave",1651],"(",["T_STRING","Varien_Object",1651],["T_WHITESPACE"," ",1651],["T_VARIABLE","$object",1651],")",["T_WHITESPACE","\n    ",1651],"{",["T_WHITESPACE","\n        ",1652],["T_VARIABLE","$this",1653],["T_OBJECT_OPERATOR","->",1653],["T_STRING","walkAttributes",1653],"(",["T_CONSTANT_ENCAPSED_STRING","'backend\/beforeSave'",1653],",",["T_WHITESPACE"," ",1653],["T_ARRAY","array",1653],"(",["T_VARIABLE","$object",1653],")",")",";",["T_WHITESPACE","\n        ",1653],["T_RETURN","return",1654],["T_WHITESPACE"," ",1654],["T_VARIABLE","$this",1654],";",["T_WHITESPACE","\n    ",1654],"}",["T_WHITESPACE","\n\n    ",1655],["T_DOC_COMMENT","\/**\n     * After Save Entity process\n     *\n     * @param Varien_Object $object\n     * @return Mage_Eav_Model_Entity_Abstract\n     *\/",1657],["T_WHITESPACE","\n    ",1662],["T_PROTECTED","protected",1663],["T_WHITESPACE"," ",1663],["T_FUNCTION","function",1663],["T_WHITESPACE"," ",1663],["T_STRING","_afterSave",1663],"(",["T_STRING","Varien_Object",1663],["T_WHITESPACE"," ",1663],["T_VARIABLE","$object",1663],")",["T_WHITESPACE","\n    ",1663],"{",["T_WHITESPACE","\n        ",1664],["T_VARIABLE","$this",1665],["T_OBJECT_OPERATOR","->",1665],["T_STRING","walkAttributes",1665],"(",["T_CONSTANT_ENCAPSED_STRING","'backend\/afterSave'",1665],",",["T_WHITESPACE"," ",1665],["T_ARRAY","array",1665],"(",["T_VARIABLE","$object",1665],")",")",";",["T_WHITESPACE","\n        ",1665],["T_RETURN","return",1666],["T_WHITESPACE"," ",1666],["T_VARIABLE","$this",1666],";",["T_WHITESPACE","\n    ",1666],"}",["T_WHITESPACE","\n\n    ",1667],["T_DOC_COMMENT","\/**\n     * Before Delete Entity process\n     *\n     * @param Varien_Object $object\n     * @return Mage_Eav_Model_Entity_Abstract\n     *\/",1669],["T_WHITESPACE","\n    ",1674],["T_PROTECTED","protected",1675],["T_WHITESPACE"," ",1675],["T_FUNCTION","function",1675],["T_WHITESPACE"," ",1675],["T_STRING","_beforeDelete",1675],"(",["T_STRING","Varien_Object",1675],["T_WHITESPACE"," ",1675],["T_VARIABLE","$object",1675],")",["T_WHITESPACE","\n    ",1675],"{",["T_WHITESPACE","\n        ",1676],["T_VARIABLE","$this",1677],["T_OBJECT_OPERATOR","->",1677],["T_STRING","walkAttributes",1677],"(",["T_CONSTANT_ENCAPSED_STRING","'backend\/beforeDelete'",1677],",",["T_WHITESPACE"," ",1677],["T_ARRAY","array",1677],"(",["T_VARIABLE","$object",1677],")",")",";",["T_WHITESPACE","\n        ",1677],["T_RETURN","return",1678],["T_WHITESPACE"," ",1678],["T_VARIABLE","$this",1678],";",["T_WHITESPACE","\n    ",1678],"}",["T_WHITESPACE","\n\n    ",1679],["T_DOC_COMMENT","\/**\n     * After delete entity process\n     *\n     * @param Varien_Object $object\n     * @return Mage_Eav_Model_Entity_Abstract\n     *\/",1681],["T_WHITESPACE","\n    ",1686],["T_PROTECTED","protected",1687],["T_WHITESPACE"," ",1687],["T_FUNCTION","function",1687],["T_WHITESPACE"," ",1687],["T_STRING","_afterDelete",1687],"(",["T_STRING","Varien_Object",1687],["T_WHITESPACE"," ",1687],["T_VARIABLE","$object",1687],")",["T_WHITESPACE","\n    ",1687],"{",["T_WHITESPACE","\n        ",1688],["T_VARIABLE","$this",1689],["T_OBJECT_OPERATOR","->",1689],["T_STRING","walkAttributes",1689],"(",["T_CONSTANT_ENCAPSED_STRING","'backend\/afterDelete'",1689],",",["T_WHITESPACE"," ",1689],["T_ARRAY","array",1689],"(",["T_VARIABLE","$object",1689],")",")",";",["T_WHITESPACE","\n        ",1689],["T_RETURN","return",1690],["T_WHITESPACE"," ",1690],["T_VARIABLE","$this",1690],";",["T_WHITESPACE","\n    ",1690],"}",["T_WHITESPACE","\n\n    ",1691],["T_DOC_COMMENT","\/**\n     * Retrieve Default attribute model\n     *\n     * @return string\n     *\/",1693],["T_WHITESPACE","\n    ",1697],["T_PROTECTED","protected",1698],["T_WHITESPACE"," ",1698],["T_FUNCTION","function",1698],["T_WHITESPACE"," ",1698],["T_STRING","_getDefaultAttributeModel",1698],"(",")",["T_WHITESPACE","\n    ",1698],"{",["T_WHITESPACE","\n        ",1699],["T_RETURN","return",1700],["T_WHITESPACE"," ",1700],["T_STRING","Mage_Eav_Model_Entity",1700],["T_DOUBLE_COLON","::",1700],["T_STRING","DEFAULT_ATTRIBUTE_MODEL",1700],";",["T_WHITESPACE","\n    ",1700],"}",["T_WHITESPACE","\n\n    ",1701],["T_DOC_COMMENT","\/**\n     * Retrieve default entity attributes\n     *\n     * @return array\n     *\/",1703],["T_WHITESPACE","\n    ",1707],["T_PROTECTED","protected",1708],["T_WHITESPACE"," ",1708],["T_FUNCTION","function",1708],["T_WHITESPACE"," ",1708],["T_STRING","_getDefaultAttributes",1708],"(",")",["T_WHITESPACE","\n    ",1708],"{",["T_WHITESPACE","\n        ",1709],["T_RETURN","return",1710],["T_WHITESPACE"," ",1710],["T_ARRAY","array",1710],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_type_id'",1710],",",["T_WHITESPACE"," ",1710],["T_CONSTANT_ENCAPSED_STRING","'attribute_set_id'",1710],",",["T_WHITESPACE"," ",1710],["T_CONSTANT_ENCAPSED_STRING","'created_at'",1710],",",["T_WHITESPACE"," ",1710],["T_CONSTANT_ENCAPSED_STRING","'updated_at'",1710],",",["T_WHITESPACE"," ",1710],["T_CONSTANT_ENCAPSED_STRING","'parent_id'",1710],",",["T_WHITESPACE"," ",1710],["T_CONSTANT_ENCAPSED_STRING","'increment_id'",1710],")",";",["T_WHITESPACE","\n    ",1710],"}",["T_WHITESPACE","\n\n    ",1711],["T_DOC_COMMENT","\/**\n     * Retrieve default entity static attributes\n     *\n     * @return array\n     *\/",1713],["T_WHITESPACE","\n    ",1717],["T_PUBLIC","public",1718],["T_WHITESPACE"," ",1718],["T_FUNCTION","function",1718],["T_WHITESPACE"," ",1718],["T_STRING","getDefaultAttributes",1718],"(",")",["T_WHITESPACE"," ",1718],"{",["T_WHITESPACE","\n        ",1718],["T_RETURN","return",1719],["T_WHITESPACE"," ",1719],["T_STRING","array_unique",1719],"(",["T_STRING","array_merge",1719],"(",["T_VARIABLE","$this",1719],["T_OBJECT_OPERATOR","->",1719],["T_STRING","_getDefaultAttributes",1719],"(",")",",",["T_WHITESPACE"," ",1719],["T_ARRAY","array",1719],"(",["T_VARIABLE","$this",1719],["T_OBJECT_OPERATOR","->",1719],["T_STRING","getEntityIdField",1719],"(",")",")",")",")",";",["T_WHITESPACE","\n    ",1719],"}",["T_WHITESPACE","\n\n    ",1720],["T_DOC_COMMENT","\/**\n     * After set config process\n     *\n     * @deprecated\n     * @return Mage_Eav_Model_Entity_Abstract\n     *\/",1722],["T_WHITESPACE","\n    ",1727],["T_PROTECTED","protected",1728],["T_WHITESPACE"," ",1728],["T_FUNCTION","function",1728],["T_WHITESPACE"," ",1728],["T_STRING","_afterSetConfig",1728],"(",")",["T_WHITESPACE","\n    ",1728],"{",["T_WHITESPACE","\n        ",1729],["T_RETURN","return",1730],["T_WHITESPACE"," ",1730],["T_VARIABLE","$this",1730],";",["T_WHITESPACE","\n    ",1730],"}",["T_WHITESPACE","\n\n    ",1731],["T_DOC_COMMENT","\/**\n     * Check is attribute value empty\n     *\n     * @param Mage_Eav_Model_Entity_Attribute_Abstract $attribute\n     * @param mixed $value\n     * @return bool\n     *\/",1733],["T_WHITESPACE","\n    ",1739],["T_PROTECTED","protected",1740],["T_WHITESPACE"," ",1740],["T_FUNCTION","function",1740],["T_WHITESPACE"," ",1740],["T_STRING","_isAttributeValueEmpty",1740],"(",["T_STRING","Mage_Eav_Model_Entity_Attribute_Abstract",1740],["T_WHITESPACE"," ",1740],["T_VARIABLE","$attribute",1740],",",["T_WHITESPACE"," ",1740],["T_VARIABLE","$value",1740],")",["T_WHITESPACE","\n    ",1740],"{",["T_WHITESPACE","\n        ",1741],["T_RETURN","return",1742],["T_WHITESPACE"," ",1742],["T_VARIABLE","$attribute",1742],["T_OBJECT_OPERATOR","->",1742],["T_STRING","isValueEmpty",1742],"(",["T_VARIABLE","$value",1742],")",";",["T_WHITESPACE","\n    ",1742],"}",["T_WHITESPACE","\n",1743],"}",["T_WHITESPACE","\n",1744]]