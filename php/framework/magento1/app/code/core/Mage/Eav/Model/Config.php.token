[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Magento\n *\n * NOTICE OF LICENSE\n *\n * This source file is subject to the Open Software License (OSL 3.0)\n * that is bundled with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/opensource.org\/licenses\/osl-3.0.php\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@magento.com so we can send you a copy immediately.\n *\n * DISCLAIMER\n *\n * Do not edit or add to this file if you wish to upgrade Magento to newer\n * versions in the future. If you wish to customize Magento for your\n * needs please refer to http:\/\/www.magento.com for more information.\n *\n * @category    Mage\n * @package     Mage_Eav\n * @copyright  Copyright (c) 2006-2016 X.commerce, Inc. and affiliates (http:\/\/www.magento.com)\n * @license    http:\/\/opensource.org\/licenses\/osl-3.0.php  Open Software License (OSL 3.0)\n *\/",2],["T_WHITESPACE","\n\n\n",25],["T_CLASS","class",28],["T_WHITESPACE"," ",28],["T_STRING","Mage_Eav_Model_Config",28],["T_WHITESPACE","\n",28],"{",["T_WHITESPACE","\n    ",29],["T_CONST","const",30],["T_WHITESPACE"," ",30],["T_STRING","ENTITIES_CACHE_ID",30],["T_WHITESPACE","     ",30],"=",["T_WHITESPACE"," ",30],["T_CONSTANT_ENCAPSED_STRING","'EAV_ENTITY_TYPES'",30],";",["T_WHITESPACE","\n    ",30],["T_CONST","const",31],["T_WHITESPACE"," ",31],["T_STRING","ATTRIBUTES_CACHE_ID",31],["T_WHITESPACE","   ",31],"=",["T_WHITESPACE"," ",31],["T_CONSTANT_ENCAPSED_STRING","'EAV_ENTITY_ATTRIBUTES'",31],";",["T_WHITESPACE","\n\n    ",31],["T_DOC_COMMENT","\/**\n     * Entity types data\n     *\n     * @var array\n     *\/",33],["T_WHITESPACE","\n    ",37],["T_PROTECTED","protected",38],["T_WHITESPACE"," ",38],["T_VARIABLE","$_entityData",38],";",["T_WHITESPACE","\n\n    ",38],["T_DOC_COMMENT","\/**\n     * Attributes data\n     *\n     * @var array\n     *\/",40],["T_WHITESPACE","\n    ",44],["T_PROTECTED","protected",45],["T_WHITESPACE"," ",45],["T_VARIABLE","$_attributeData",45],";",["T_WHITESPACE","\n\n    ",45],["T_DOC_COMMENT","\/**\n     * Information about preloaded attributes\n     *\n     * @var array\n     *\/",47],["T_WHITESPACE","\n    ",51],["T_PROTECTED","protected",52],["T_WHITESPACE"," ",52],["T_VARIABLE","$_preloadedAttributes",52],["T_WHITESPACE","              ",52],"=",["T_WHITESPACE"," ",52],["T_ARRAY","array",52],"(",")",";",["T_WHITESPACE","\n\n    ",52],["T_DOC_COMMENT","\/**\n     * Information about entity types with initialized attributes\n     *\n     * @var array\n     *\/",54],["T_WHITESPACE","\n    ",58],["T_PROTECTED","protected",59],["T_WHITESPACE"," ",59],["T_VARIABLE","$_initializedAttributes",59],["T_WHITESPACE","            ",59],"=",["T_WHITESPACE"," ",59],["T_ARRAY","array",59],"(",")",";",["T_WHITESPACE","\n\n    ",59],["T_DOC_COMMENT","\/**\n     * Attribute codes cache array\n     *\n     * @var array\n     *\/",61],["T_WHITESPACE","\n    ",65],["T_PROTECTED","protected",66],["T_WHITESPACE"," ",66],["T_VARIABLE","$_attributeCodes",66],["T_WHITESPACE","                   ",66],"=",["T_WHITESPACE"," ",66],["T_ARRAY","array",66],"(",")",";",["T_WHITESPACE","\n\n    ",66],["T_DOC_COMMENT","\/**\n     * Initialized objects\n     *\n     * array ($objectId => $object)\n     *\n     * @var array\n     *\/",68],["T_WHITESPACE","\n    ",74],["T_PROTECTED","protected",75],["T_WHITESPACE"," ",75],["T_VARIABLE","$_objects",75],";",["T_WHITESPACE","\n\n    ",75],["T_DOC_COMMENT","\/**\n     * References between codes and identifiers\n     *\n     * array (\n     *      'attributes'=> array ($attributeId => $attributeCode),\n     *      'entities'  => array ($entityId => $entityCode)\n     * )\n     *\n     * @var array\n     *\/",77],["T_WHITESPACE","\n    ",86],["T_PROTECTED","protected",87],["T_WHITESPACE"," ",87],["T_VARIABLE","$_references",87],";",["T_WHITESPACE","\n\n    ",87],["T_DOC_COMMENT","\/**\n     * Cache flag\n     *\n     * @var unknown_type\n     *\/",89],["T_WHITESPACE","\n    ",93],["T_PROTECTED","protected",94],["T_WHITESPACE"," ",94],["T_VARIABLE","$_isCacheEnabled",94],["T_WHITESPACE","                    ",94],"=",["T_WHITESPACE"," ",94],["T_STRING","null",94],";",["T_WHITESPACE","\n\n    ",94],["T_DOC_COMMENT","\/**\n     * Array of attributes objects used in collections\n     *\n     * @var array\n     *\/",96],["T_WHITESPACE","\n    ",100],["T_PROTECTED","protected",101],["T_WHITESPACE"," ",101],["T_VARIABLE","$_collectionAttributes",101],["T_WHITESPACE","              ",101],"=",["T_WHITESPACE"," ",101],["T_ARRAY","array",101],"(",")",";",["T_WHITESPACE","\n\n    ",101],["T_DOC_COMMENT","\/**\n     * Reset object state\n     *\n     * @deprecated\n     * @return Mage_Eav_Model_Config\n     *\/",103],["T_WHITESPACE","\n    ",108],["T_PUBLIC","public",109],["T_WHITESPACE"," ",109],["T_FUNCTION","function",109],["T_WHITESPACE"," ",109],["T_STRING","clear",109],"(",")",["T_WHITESPACE","\n    ",109],"{",["T_WHITESPACE","\n        ",110],["T_VARIABLE","$this",111],["T_OBJECT_OPERATOR","->",111],["T_STRING","_entityData",111],["T_WHITESPACE","            ",111],"=",["T_WHITESPACE"," ",111],["T_STRING","null",111],";",["T_WHITESPACE","\n        ",111],["T_VARIABLE","$this",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","_attributeData",112],["T_WHITESPACE","         ",112],"=",["T_WHITESPACE"," ",112],["T_STRING","null",112],";",["T_WHITESPACE","\n        ",112],["T_VARIABLE","$this",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","_objects",113],["T_WHITESPACE","               ",113],"=",["T_WHITESPACE"," ",113],["T_STRING","null",113],";",["T_WHITESPACE","\n        ",113],["T_VARIABLE","$this",114],["T_OBJECT_OPERATOR","->",114],["T_STRING","_references",114],["T_WHITESPACE","            ",114],"=",["T_WHITESPACE"," ",114],["T_STRING","null",114],";",["T_WHITESPACE","\n        ",114],["T_VARIABLE","$this",115],["T_OBJECT_OPERATOR","->",115],["T_STRING","_preloadedAttributes",115],["T_WHITESPACE","   ",115],"=",["T_WHITESPACE"," ",115],["T_ARRAY","array",115],"(",")",";",["T_WHITESPACE","\n        ",115],["T_VARIABLE","$this",116],["T_OBJECT_OPERATOR","->",116],["T_STRING","_initializedAttributes",116],["T_WHITESPACE"," ",116],"=",["T_WHITESPACE"," ",116],["T_ARRAY","array",116],"(",")",";",["T_WHITESPACE","\n        ",116],["T_RETURN","return",117],["T_WHITESPACE"," ",117],["T_VARIABLE","$this",117],";",["T_WHITESPACE","\n    ",117],"}",["T_WHITESPACE","\n\n    ",118],["T_DOC_COMMENT","\/**\n     * Get object by identifier\n     *\n     * @param   mixed $id\n     * @return  mixed\n     *\/",120],["T_WHITESPACE","\n    ",125],["T_PROTECTED","protected",126],["T_WHITESPACE"," ",126],["T_FUNCTION","function",126],["T_WHITESPACE"," ",126],["T_STRING","_load",126],"(",["T_VARIABLE","$id",126],")",["T_WHITESPACE","\n    ",126],"{",["T_WHITESPACE","\n        ",127],["T_RETURN","return",128],["T_WHITESPACE"," ",128],["T_ISSET","isset",128],"(",["T_VARIABLE","$this",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","_objects",128],"[",["T_VARIABLE","$id",128],"]",")",["T_WHITESPACE"," ",128],"?",["T_WHITESPACE"," ",128],["T_VARIABLE","$this",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","_objects",128],"[",["T_VARIABLE","$id",128],"]",["T_WHITESPACE"," ",128],":",["T_WHITESPACE"," ",128],["T_STRING","null",128],";",["T_WHITESPACE","\n    ",128],"}",["T_WHITESPACE","\n\n    ",129],["T_DOC_COMMENT","\/**\n     * Associate object with identifier\n     *\n     * @param   mixed $obj\n     * @param   mixed $id\n     * @return  Mage_Eav_Model_Config\n     *\/",131],["T_WHITESPACE","\n    ",137],["T_PROTECTED","protected",138],["T_WHITESPACE"," ",138],["T_FUNCTION","function",138],["T_WHITESPACE"," ",138],["T_STRING","_save",138],"(",["T_VARIABLE","$obj",138],",",["T_WHITESPACE"," ",138],["T_VARIABLE","$id",138],")",["T_WHITESPACE","\n    ",138],"{",["T_WHITESPACE","\n        ",139],["T_VARIABLE","$this",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","_objects",140],"[",["T_VARIABLE","$id",140],"]",["T_WHITESPACE"," ",140],"=",["T_WHITESPACE"," ",140],["T_VARIABLE","$obj",140],";",["T_WHITESPACE","\n        ",140],["T_RETURN","return",141],["T_WHITESPACE"," ",141],["T_VARIABLE","$this",141],";",["T_WHITESPACE","\n    ",141],"}",["T_WHITESPACE","\n\n    ",142],["T_DOC_COMMENT","\/**\n     * Specify reference for entity type id\n     *\n     * @param   int $id\n     * @param   string $code\n     * @return  Mage_Eav_Model_Config\n     *\/",144],["T_WHITESPACE","\n    ",150],["T_PROTECTED","protected",151],["T_WHITESPACE"," ",151],["T_FUNCTION","function",151],["T_WHITESPACE"," ",151],["T_STRING","_addEntityTypeReference",151],"(",["T_VARIABLE","$id",151],",",["T_WHITESPACE"," ",151],["T_VARIABLE","$code",151],")",["T_WHITESPACE","\n    ",151],"{",["T_WHITESPACE","\n        ",152],["T_VARIABLE","$this",153],["T_OBJECT_OPERATOR","->",153],["T_STRING","_references",153],"[",["T_CONSTANT_ENCAPSED_STRING","'entity'",153],"]","[",["T_VARIABLE","$id",153],"]",["T_WHITESPACE"," ",153],"=",["T_WHITESPACE"," ",153],["T_VARIABLE","$code",153],";",["T_WHITESPACE","\n        ",153],["T_RETURN","return",154],["T_WHITESPACE"," ",154],["T_VARIABLE","$this",154],";",["T_WHITESPACE","\n    ",154],"}",["T_WHITESPACE","\n\n    ",155],["T_DOC_COMMENT","\/**\n     * Get entity type code by id\n     *\n     * @param   int $id\n     * @return  string\n     *\/",157],["T_WHITESPACE","\n    ",162],["T_PROTECTED","protected",163],["T_WHITESPACE"," ",163],["T_FUNCTION","function",163],["T_WHITESPACE"," ",163],["T_STRING","_getEntityTypeReference",163],"(",["T_VARIABLE","$id",163],")",["T_WHITESPACE","\n    ",163],"{",["T_WHITESPACE","\n        ",164],["T_RETURN","return",165],["T_WHITESPACE"," ",165],["T_ISSET","isset",165],"(",["T_VARIABLE","$this",165],["T_OBJECT_OPERATOR","->",165],["T_STRING","_references",165],"[",["T_CONSTANT_ENCAPSED_STRING","'entity'",165],"]","[",["T_VARIABLE","$id",165],"]",")",["T_WHITESPACE"," ",165],"?",["T_WHITESPACE"," ",165],["T_VARIABLE","$this",165],["T_OBJECT_OPERATOR","->",165],["T_STRING","_references",165],"[",["T_CONSTANT_ENCAPSED_STRING","'entity'",165],"]","[",["T_VARIABLE","$id",165],"]",["T_WHITESPACE"," ",165],":",["T_WHITESPACE"," ",165],["T_STRING","null",165],";",["T_WHITESPACE","\n    ",165],"}",["T_WHITESPACE","\n\n    ",166],["T_DOC_COMMENT","\/**\n     * Specify reference between entity attribute id and attribute code\n     *\n     * @param   int $id\n     * @param   string $code\n     * @param   string $entityTypeCode\n     * @return  Mage_Eav_Model_Config\n     *\/",168],["T_WHITESPACE","\n    ",175],["T_PROTECTED","protected",176],["T_WHITESPACE"," ",176],["T_FUNCTION","function",176],["T_WHITESPACE"," ",176],["T_STRING","_addAttributeReference",176],"(",["T_VARIABLE","$id",176],",",["T_WHITESPACE"," ",176],["T_VARIABLE","$code",176],",",["T_WHITESPACE"," ",176],["T_VARIABLE","$entityTypeCode",176],")",["T_WHITESPACE","\n    ",176],"{",["T_WHITESPACE","\n        ",177],["T_VARIABLE","$this",178],["T_OBJECT_OPERATOR","->",178],["T_STRING","_references",178],"[",["T_CONSTANT_ENCAPSED_STRING","'attribute'",178],"]","[",["T_VARIABLE","$entityTypeCode",178],"]","[",["T_VARIABLE","$id",178],"]",["T_WHITESPACE"," ",178],"=",["T_WHITESPACE"," ",178],["T_VARIABLE","$code",178],";",["T_WHITESPACE","\n        ",178],["T_RETURN","return",179],["T_WHITESPACE"," ",179],["T_VARIABLE","$this",179],";",["T_WHITESPACE","\n    ",179],"}",["T_WHITESPACE","\n\n    ",180],["T_DOC_COMMENT","\/**\n     * Get attribute code by attribute id\n     *\n     * @param   int $id\n     * @param   string $entityTypeCode\n     * @return  string\n     *\/",182],["T_WHITESPACE","\n    ",188],["T_PROTECTED","protected",189],["T_WHITESPACE"," ",189],["T_FUNCTION","function",189],["T_WHITESPACE"," ",189],["T_STRING","_getAttributeReference",189],"(",["T_VARIABLE","$id",189],",",["T_WHITESPACE"," ",189],["T_VARIABLE","$entityTypeCode",189],")",["T_WHITESPACE","\n    ",189],"{",["T_WHITESPACE","\n        ",190],["T_IF","if",191],["T_WHITESPACE"," ",191],"(",["T_ISSET","isset",191],"(",["T_VARIABLE","$this",191],["T_OBJECT_OPERATOR","->",191],["T_STRING","_references",191],"[",["T_CONSTANT_ENCAPSED_STRING","'attribute'",191],"]","[",["T_VARIABLE","$entityTypeCode",191],"]","[",["T_VARIABLE","$id",191],"]",")",")",["T_WHITESPACE"," ",191],"{",["T_WHITESPACE","\n            ",191],["T_RETURN","return",192],["T_WHITESPACE"," ",192],["T_VARIABLE","$this",192],["T_OBJECT_OPERATOR","->",192],["T_STRING","_references",192],"[",["T_CONSTANT_ENCAPSED_STRING","'attribute'",192],"]","[",["T_VARIABLE","$entityTypeCode",192],"]","[",["T_VARIABLE","$id",192],"]",";",["T_WHITESPACE","\n        ",192],"}",["T_WHITESPACE","\n        ",193],["T_RETURN","return",194],["T_WHITESPACE"," ",194],["T_STRING","null",194],";",["T_WHITESPACE","\n    ",194],"}",["T_WHITESPACE","\n\n    ",195],["T_DOC_COMMENT","\/**\n     * Get internal cache key for entity type code\n     *\n     * @param   string $code\n     * @return  string\n     *\/",197],["T_WHITESPACE","\n    ",202],["T_PROTECTED","protected",203],["T_WHITESPACE"," ",203],["T_FUNCTION","function",203],["T_WHITESPACE"," ",203],["T_STRING","_getEntityKey",203],"(",["T_VARIABLE","$code",203],")",["T_WHITESPACE","\n    ",203],"{",["T_WHITESPACE","\n        ",204],["T_RETURN","return",205],["T_WHITESPACE"," ",205],["T_CONSTANT_ENCAPSED_STRING","'ENTITY\/'",205],["T_WHITESPACE"," ",205],".",["T_WHITESPACE"," ",205],["T_VARIABLE","$code",205],";",["T_WHITESPACE","\n    ",205],"}",["T_WHITESPACE","\n\n    ",206],["T_DOC_COMMENT","\/**\n     * Get internal cache key for attribute object cache\n     *\n     * @param   string $entityTypeCode\n     * @param   string $attributeCode\n     * @return  string\n     *\/",208],["T_WHITESPACE","\n    ",214],["T_PROTECTED","protected",215],["T_WHITESPACE"," ",215],["T_FUNCTION","function",215],["T_WHITESPACE"," ",215],["T_STRING","_getAttributeKey",215],"(",["T_VARIABLE","$entityTypeCode",215],",",["T_WHITESPACE"," ",215],["T_VARIABLE","$attributeCode",215],")",["T_WHITESPACE","\n    ",215],"{",["T_WHITESPACE","\n        ",216],["T_RETURN","return",217],["T_WHITESPACE"," ",217],["T_CONSTANT_ENCAPSED_STRING","'ATTRIBUTE\/'",217],["T_WHITESPACE"," ",217],".",["T_WHITESPACE"," ",217],["T_VARIABLE","$entityTypeCode",217],["T_WHITESPACE"," ",217],".",["T_WHITESPACE"," ",217],["T_CONSTANT_ENCAPSED_STRING","'\/'",217],["T_WHITESPACE"," ",217],".",["T_WHITESPACE"," ",217],["T_VARIABLE","$attributeCode",217],";",["T_WHITESPACE","\n    ",217],"}",["T_WHITESPACE","\n\n    ",218],["T_DOC_COMMENT","\/**\n     * Check EAV cache availability\n     *\n     * @return bool\n     *\/",220],["T_WHITESPACE","\n    ",224],["T_PROTECTED","protected",225],["T_WHITESPACE"," ",225],["T_FUNCTION","function",225],["T_WHITESPACE"," ",225],["T_STRING","_isCacheEnabled",225],"(",")",["T_WHITESPACE","\n    ",225],"{",["T_WHITESPACE","\n        ",226],["T_IF","if",227],["T_WHITESPACE"," ",227],"(",["T_VARIABLE","$this",227],["T_OBJECT_OPERATOR","->",227],["T_STRING","_isCacheEnabled",227],["T_WHITESPACE"," ",227],["T_IS_IDENTICAL","===",227],["T_WHITESPACE"," ",227],["T_STRING","null",227],")",["T_WHITESPACE"," ",227],"{",["T_WHITESPACE","\n            ",227],["T_VARIABLE","$this",228],["T_OBJECT_OPERATOR","->",228],["T_STRING","_isCacheEnabled",228],["T_WHITESPACE"," ",228],"=",["T_WHITESPACE"," ",228],["T_STRING","Mage",228],["T_DOUBLE_COLON","::",228],["T_STRING","app",228],"(",")",["T_OBJECT_OPERATOR","->",228],["T_STRING","useCache",228],"(",["T_CONSTANT_ENCAPSED_STRING","'eav'",228],")",";",["T_WHITESPACE","\n        ",228],"}",["T_WHITESPACE","\n        ",229],["T_RETURN","return",230],["T_WHITESPACE"," ",230],["T_VARIABLE","$this",230],["T_OBJECT_OPERATOR","->",230],["T_STRING","_isCacheEnabled",230],";",["T_WHITESPACE","\n    ",230],"}",["T_WHITESPACE","\n\n    ",231],["T_DOC_COMMENT","\/**\n     * Initialize all entity types data\n     *\n     * @return Mage_Eav_Model_Config\n     *\/",233],["T_WHITESPACE","\n    ",237],["T_PROTECTED","protected",238],["T_WHITESPACE"," ",238],["T_FUNCTION","function",238],["T_WHITESPACE"," ",238],["T_STRING","_initEntityTypes",238],"(",")",["T_WHITESPACE","\n    ",238],"{",["T_WHITESPACE","\n        ",239],["T_IF","if",240],["T_WHITESPACE"," ",240],"(",["T_STRING","is_array",240],"(",["T_VARIABLE","$this",240],["T_OBJECT_OPERATOR","->",240],["T_STRING","_entityData",240],")",")",["T_WHITESPACE"," ",240],"{",["T_WHITESPACE","\n            ",240],["T_RETURN","return",241],["T_WHITESPACE"," ",241],["T_VARIABLE","$this",241],";",["T_WHITESPACE","\n        ",241],"}",["T_WHITESPACE","\n        ",242],["T_STRING","Varien_Profiler",243],["T_DOUBLE_COLON","::",243],["T_STRING","start",243],"(",["T_CONSTANT_ENCAPSED_STRING","'EAV: '",243],".",["T_METHOD_C","__METHOD__",243],")",";",["T_WHITESPACE","\n\n        ",243],["T_DOC_COMMENT","\/**\n         * try load information about entity types from cache\n         *\/",245],["T_WHITESPACE","\n        ",247],["T_IF","if",248],["T_WHITESPACE"," ",248],"(",["T_VARIABLE","$this",248],["T_OBJECT_OPERATOR","->",248],["T_STRING","_isCacheEnabled",248],"(",")",["T_WHITESPACE","\n            ",248],["T_BOOLEAN_AND","&&",249],["T_WHITESPACE"," ",249],"(",["T_VARIABLE","$cache",249],["T_WHITESPACE"," ",249],"=",["T_WHITESPACE"," ",249],["T_STRING","Mage",249],["T_DOUBLE_COLON","::",249],["T_STRING","app",249],"(",")",["T_OBJECT_OPERATOR","->",249],["T_STRING","loadCache",249],"(",["T_STRING","self",249],["T_DOUBLE_COLON","::",249],["T_STRING","ENTITIES_CACHE_ID",249],")",")",")",["T_WHITESPACE"," ",249],"{",["T_WHITESPACE","\n\n            ",249],["T_VARIABLE","$this",251],["T_OBJECT_OPERATOR","->",251],["T_STRING","_entityData",251],["T_WHITESPACE"," ",251],"=",["T_WHITESPACE"," ",251],["T_STRING","unserialize",251],"(",["T_VARIABLE","$cache",251],")",";",["T_WHITESPACE","\n            ",251],["T_FOREACH","foreach",252],["T_WHITESPACE"," ",252],"(",["T_VARIABLE","$this",252],["T_OBJECT_OPERATOR","->",252],["T_STRING","_entityData",252],["T_WHITESPACE"," ",252],["T_AS","as",252],["T_WHITESPACE"," ",252],["T_VARIABLE","$typeCode",252],["T_WHITESPACE"," ",252],["T_DOUBLE_ARROW","=>",252],["T_WHITESPACE"," ",252],["T_VARIABLE","$data",252],")",["T_WHITESPACE"," ",252],"{",["T_WHITESPACE","\n                ",252],["T_VARIABLE","$typeId",253],["T_WHITESPACE"," ",253],"=",["T_WHITESPACE"," ",253],["T_VARIABLE","$data",253],"[",["T_CONSTANT_ENCAPSED_STRING","'entity_type_id'",253],"]",";",["T_WHITESPACE","\n                ",253],["T_VARIABLE","$this",254],["T_OBJECT_OPERATOR","->",254],["T_STRING","_addEntityTypeReference",254],"(",["T_VARIABLE","$typeId",254],",",["T_WHITESPACE"," ",254],["T_VARIABLE","$typeCode",254],")",";",["T_WHITESPACE","\n            ",254],"}",["T_WHITESPACE","\n            ",255],["T_STRING","Varien_Profiler",256],["T_DOUBLE_COLON","::",256],["T_STRING","stop",256],"(",["T_CONSTANT_ENCAPSED_STRING","'EAV: '",256],".",["T_METHOD_C","__METHOD__",256],")",";",["T_WHITESPACE","\n            ",256],["T_RETURN","return",257],["T_WHITESPACE"," ",257],["T_VARIABLE","$this",257],";",["T_WHITESPACE","\n        ",257],"}",["T_WHITESPACE","\n\n        ",258],["T_VARIABLE","$entityTypesData",260],["T_WHITESPACE"," ",260],"=",["T_WHITESPACE"," ",260],["T_STRING","Mage",260],["T_DOUBLE_COLON","::",260],["T_STRING","getModel",260],"(",["T_CONSTANT_ENCAPSED_STRING","'eav\/entity_type'",260],")",["T_OBJECT_OPERATOR","->",260],["T_STRING","getCollection",260],"(",")",["T_OBJECT_OPERATOR","->",260],["T_STRING","getData",260],"(",")",";",["T_WHITESPACE","\n        ",260],["T_VARIABLE","$types",261],["T_WHITESPACE","           ",261],"=",["T_WHITESPACE"," ",261],["T_ARRAY","array",261],"(",")",";",["T_WHITESPACE","\n\n        ",261],["T_DOC_COMMENT","\/**\n         * prepare entity type data\n         *\/",263],["T_WHITESPACE","\n        ",265],["T_FOREACH","foreach",266],["T_WHITESPACE"," ",266],"(",["T_VARIABLE","$entityTypesData",266],["T_WHITESPACE"," ",266],["T_AS","as",266],["T_WHITESPACE"," ",266],["T_VARIABLE","$typeData",266],")",["T_WHITESPACE"," ",266],"{",["T_WHITESPACE","\n            ",266],["T_IF","if",267],["T_WHITESPACE"," ",267],"(","!",["T_ISSET","isset",267],"(",["T_VARIABLE","$typeData",267],"[",["T_CONSTANT_ENCAPSED_STRING","'attribute_model'",267],"]",")",")",["T_WHITESPACE"," ",267],"{",["T_WHITESPACE","\n                ",267],["T_VARIABLE","$typeData",268],"[",["T_CONSTANT_ENCAPSED_STRING","'attribute_model'",268],"]",["T_WHITESPACE"," ",268],"=",["T_WHITESPACE"," ",268],["T_CONSTANT_ENCAPSED_STRING","'eav\/entity_attribute'",268],";",["T_WHITESPACE","\n            ",268],"}",["T_WHITESPACE","\n\n            ",269],["T_VARIABLE","$typeCode",271],["T_WHITESPACE","   ",271],"=",["T_WHITESPACE"," ",271],["T_VARIABLE","$typeData",271],"[",["T_CONSTANT_ENCAPSED_STRING","'entity_type_code'",271],"]",";",["T_WHITESPACE","\n            ",271],["T_VARIABLE","$typeId",272],["T_WHITESPACE","     ",272],"=",["T_WHITESPACE"," ",272],["T_VARIABLE","$typeData",272],"[",["T_CONSTANT_ENCAPSED_STRING","'entity_type_id'",272],"]",";",["T_WHITESPACE","\n\n            ",272],["T_VARIABLE","$this",274],["T_OBJECT_OPERATOR","->",274],["T_STRING","_addEntityTypeReference",274],"(",["T_VARIABLE","$typeId",274],",",["T_WHITESPACE"," ",274],["T_VARIABLE","$typeCode",274],")",";",["T_WHITESPACE","\n            ",274],["T_VARIABLE","$types",275],"[",["T_VARIABLE","$typeCode",275],"]",["T_WHITESPACE"," ",275],"=",["T_WHITESPACE"," ",275],["T_VARIABLE","$typeData",275],";",["T_WHITESPACE","\n        ",275],"}",["T_WHITESPACE","\n\n        ",276],["T_VARIABLE","$this",278],["T_OBJECT_OPERATOR","->",278],["T_STRING","_entityData",278],["T_WHITESPACE"," ",278],"=",["T_WHITESPACE"," ",278],["T_VARIABLE","$types",278],";",["T_WHITESPACE","\n\n        ",278],["T_IF","if",280],["T_WHITESPACE"," ",280],"(",["T_VARIABLE","$this",280],["T_OBJECT_OPERATOR","->",280],["T_STRING","_isCacheEnabled",280],"(",")",")",["T_WHITESPACE"," ",280],"{",["T_WHITESPACE","\n            ",280],["T_STRING","Mage",281],["T_DOUBLE_COLON","::",281],["T_STRING","app",281],"(",")",["T_OBJECT_OPERATOR","->",281],["T_STRING","saveCache",281],"(",["T_STRING","serialize",281],"(",["T_VARIABLE","$this",281],["T_OBJECT_OPERATOR","->",281],["T_STRING","_entityData",281],")",",",["T_WHITESPACE"," ",281],["T_STRING","self",281],["T_DOUBLE_COLON","::",281],["T_STRING","ENTITIES_CACHE_ID",281],",",["T_WHITESPACE","\n                ",281],["T_ARRAY","array",282],"(",["T_CONSTANT_ENCAPSED_STRING","'eav'",282],",",["T_WHITESPACE"," ",282],["T_STRING","Mage_Eav_Model_Entity_Attribute",282],["T_DOUBLE_COLON","::",282],["T_STRING","CACHE_TAG",282],")",["T_WHITESPACE","\n            ",282],")",";",["T_WHITESPACE","\n        ",283],"}",["T_WHITESPACE","\n        ",284],["T_STRING","Varien_Profiler",285],["T_DOUBLE_COLON","::",285],["T_STRING","stop",285],"(",["T_CONSTANT_ENCAPSED_STRING","'EAV: '",285],".",["T_METHOD_C","__METHOD__",285],")",";",["T_WHITESPACE","\n        ",285],["T_RETURN","return",286],["T_WHITESPACE"," ",286],["T_VARIABLE","$this",286],";",["T_WHITESPACE","\n    ",286],"}",["T_WHITESPACE","\n\n    ",287],["T_DOC_COMMENT","\/**\n     * Get entity type object by entity type code\/identifier\n     *\n     * @param   mixed $code\n     * @return  Mage_Eav_Model_Entity_Type\n     *\/",289],["T_WHITESPACE","\n    ",294],["T_PUBLIC","public",295],["T_WHITESPACE"," ",295],["T_FUNCTION","function",295],["T_WHITESPACE"," ",295],["T_STRING","getEntityType",295],"(",["T_VARIABLE","$code",295],")",["T_WHITESPACE","\n    ",295],"{",["T_WHITESPACE","\n        ",296],["T_IF","if",297],["T_WHITESPACE"," ",297],"(",["T_VARIABLE","$code",297],["T_WHITESPACE"," ",297],["T_INSTANCEOF","instanceof",297],["T_WHITESPACE"," ",297],["T_STRING","Mage_Eav_Model_Entity_Type",297],")",["T_WHITESPACE"," ",297],"{",["T_WHITESPACE","\n            ",297],["T_RETURN","return",298],["T_WHITESPACE"," ",298],["T_VARIABLE","$code",298],";",["T_WHITESPACE","\n        ",298],"}",["T_WHITESPACE","\n        ",299],["T_STRING","Varien_Profiler",300],["T_DOUBLE_COLON","::",300],["T_STRING","start",300],"(",["T_CONSTANT_ENCAPSED_STRING","'EAV: '",300],".",["T_METHOD_C","__METHOD__",300],")",";",["T_WHITESPACE","\n\n        ",300],["T_IF","if",302],["T_WHITESPACE"," ",302],"(",["T_STRING","is_numeric",302],"(",["T_VARIABLE","$code",302],")",")",["T_WHITESPACE"," ",302],"{",["T_WHITESPACE","\n            ",302],["T_VARIABLE","$entityCode",303],["T_WHITESPACE"," ",303],"=",["T_WHITESPACE"," ",303],["T_VARIABLE","$this",303],["T_OBJECT_OPERATOR","->",303],["T_STRING","_getEntityTypeReference",303],"(",["T_VARIABLE","$code",303],")",";",["T_WHITESPACE","\n            ",303],["T_IF","if",304],["T_WHITESPACE"," ",304],"(",["T_VARIABLE","$entityCode",304],["T_WHITESPACE"," ",304],["T_IS_NOT_IDENTICAL","!==",304],["T_WHITESPACE"," ",304],["T_STRING","null",304],")",["T_WHITESPACE"," ",304],"{",["T_WHITESPACE","\n                ",304],["T_VARIABLE","$code",305],["T_WHITESPACE"," ",305],"=",["T_WHITESPACE"," ",305],["T_VARIABLE","$entityCode",305],";",["T_WHITESPACE","\n            ",305],"}",["T_WHITESPACE","\n        ",306],"}",["T_WHITESPACE","\n\n        ",307],["T_VARIABLE","$entityKey",309],["T_WHITESPACE"," ",309],"=",["T_WHITESPACE"," ",309],["T_VARIABLE","$this",309],["T_OBJECT_OPERATOR","->",309],["T_STRING","_getEntityKey",309],"(",["T_VARIABLE","$code",309],")",";",["T_WHITESPACE","\n        ",309],["T_VARIABLE","$entityType",310],["T_WHITESPACE"," ",310],"=",["T_WHITESPACE"," ",310],["T_VARIABLE","$this",310],["T_OBJECT_OPERATOR","->",310],["T_STRING","_load",310],"(",["T_VARIABLE","$entityKey",310],")",";",["T_WHITESPACE","\n        ",310],["T_IF","if",311],["T_WHITESPACE"," ",311],"(",["T_VARIABLE","$entityType",311],")",["T_WHITESPACE"," ",311],"{",["T_WHITESPACE","\n            ",311],["T_STRING","Varien_Profiler",312],["T_DOUBLE_COLON","::",312],["T_STRING","stop",312],"(",["T_CONSTANT_ENCAPSED_STRING","'EAV: '",312],".",["T_METHOD_C","__METHOD__",312],")",";",["T_WHITESPACE","\n            ",312],["T_RETURN","return",313],["T_WHITESPACE"," ",313],["T_VARIABLE","$entityType",313],";",["T_WHITESPACE","\n        ",313],"}",["T_WHITESPACE","\n\n\n        ",314],["T_VARIABLE","$entityType",317],["T_WHITESPACE"," ",317],"=",["T_WHITESPACE"," ",317],["T_STRING","Mage",317],["T_DOUBLE_COLON","::",317],["T_STRING","getModel",317],"(",["T_CONSTANT_ENCAPSED_STRING","'eav\/entity_type'",317],")",";",["T_WHITESPACE","\n        ",317],["T_IF","if",318],["T_WHITESPACE"," ",318],"(",["T_ISSET","isset",318],"(",["T_VARIABLE","$this",318],["T_OBJECT_OPERATOR","->",318],["T_STRING","_entityData",318],"[",["T_VARIABLE","$code",318],"]",")",")",["T_WHITESPACE"," ",318],"{",["T_WHITESPACE","\n            ",318],["T_VARIABLE","$entityType",319],["T_OBJECT_OPERATOR","->",319],["T_STRING","setData",319],"(",["T_VARIABLE","$this",319],["T_OBJECT_OPERATOR","->",319],["T_STRING","_entityData",319],"[",["T_VARIABLE","$code",319],"]",")",";",["T_WHITESPACE","\n        ",319],"}",["T_WHITESPACE"," ",320],["T_ELSE","else",320],["T_WHITESPACE"," ",320],"{",["T_WHITESPACE","\n            ",320],["T_IF","if",321],["T_WHITESPACE"," ",321],"(",["T_STRING","is_numeric",321],"(",["T_VARIABLE","$code",321],")",")",["T_WHITESPACE"," ",321],"{",["T_WHITESPACE","\n                ",321],["T_VARIABLE","$entityType",322],["T_OBJECT_OPERATOR","->",322],["T_STRING","load",322],"(",["T_VARIABLE","$code",322],")",";",["T_WHITESPACE","\n            ",322],"}",["T_WHITESPACE"," ",323],["T_ELSE","else",323],["T_WHITESPACE"," ",323],"{",["T_WHITESPACE","\n                ",323],["T_VARIABLE","$entityType",324],["T_OBJECT_OPERATOR","->",324],["T_STRING","loadByCode",324],"(",["T_VARIABLE","$code",324],")",";",["T_WHITESPACE","\n            ",324],"}",["T_WHITESPACE","\n\n            ",325],["T_IF","if",327],["T_WHITESPACE"," ",327],"(","!",["T_VARIABLE","$entityType",327],["T_OBJECT_OPERATOR","->",327],["T_STRING","getId",327],"(",")",")",["T_WHITESPACE"," ",327],"{",["T_WHITESPACE","\n                ",327],["T_STRING","Mage",328],["T_DOUBLE_COLON","::",328],["T_STRING","throwException",328],"(",["T_STRING","Mage",328],["T_DOUBLE_COLON","::",328],["T_STRING","helper",328],"(",["T_CONSTANT_ENCAPSED_STRING","'eav'",328],")",["T_OBJECT_OPERATOR","->",328],["T_STRING","__",328],"(",["T_CONSTANT_ENCAPSED_STRING","'Invalid entity_type specified: %s'",328],",",["T_WHITESPACE"," ",328],["T_VARIABLE","$code",328],")",")",";",["T_WHITESPACE","\n            ",328],"}",["T_WHITESPACE","\n        ",329],"}",["T_WHITESPACE","\n        ",330],["T_VARIABLE","$this",331],["T_OBJECT_OPERATOR","->",331],["T_STRING","_addEntityTypeReference",331],"(",["T_VARIABLE","$entityType",331],["T_OBJECT_OPERATOR","->",331],["T_STRING","getId",331],"(",")",",",["T_WHITESPACE"," ",331],["T_VARIABLE","$entityType",331],["T_OBJECT_OPERATOR","->",331],["T_STRING","getEntityTypeCode",331],"(",")",")",";",["T_WHITESPACE","\n        ",331],["T_VARIABLE","$this",332],["T_OBJECT_OPERATOR","->",332],["T_STRING","_save",332],"(",["T_VARIABLE","$entityType",332],",",["T_WHITESPACE"," ",332],["T_VARIABLE","$entityKey",332],")",";",["T_WHITESPACE","\n\n        ",332],["T_STRING","Varien_Profiler",334],["T_DOUBLE_COLON","::",334],["T_STRING","stop",334],"(",["T_CONSTANT_ENCAPSED_STRING","'EAV: '",334],".",["T_METHOD_C","__METHOD__",334],")",";",["T_WHITESPACE","\n        ",334],["T_RETURN","return",335],["T_WHITESPACE"," ",335],["T_VARIABLE","$entityType",335],";",["T_WHITESPACE","\n    ",335],"}",["T_WHITESPACE","\n\n    ",336],["T_DOC_COMMENT","\/**\n     * Initialize all attributes for entity type\n     *\n     * @param   string $entityType\n     * @return  Mage_Eav_Model_Config\n     *\/",338],["T_WHITESPACE","\n    ",343],["T_PROTECTED","protected",344],["T_WHITESPACE"," ",344],["T_FUNCTION","function",344],["T_WHITESPACE"," ",344],["T_STRING","_initAttributes",344],"(",["T_VARIABLE","$entityType",344],")",["T_WHITESPACE","\n    ",344],"{",["T_WHITESPACE","\n        ",345],["T_VARIABLE","$entityType",346],["T_WHITESPACE","     ",346],"=",["T_WHITESPACE"," ",346],["T_VARIABLE","$this",346],["T_OBJECT_OPERATOR","->",346],["T_STRING","getEntityType",346],"(",["T_VARIABLE","$entityType",346],")",";",["T_WHITESPACE","\n        ",346],["T_VARIABLE","$entityTypeCode",347],["T_WHITESPACE"," ",347],"=",["T_WHITESPACE"," ",347],["T_VARIABLE","$entityType",347],["T_OBJECT_OPERATOR","->",347],["T_STRING","getEntityTypeCode",347],"(",")",";",["T_WHITESPACE","\n\n        ",347],["T_IF","if",349],["T_WHITESPACE"," ",349],"(",["T_ISSET","isset",349],"(",["T_VARIABLE","$this",349],["T_OBJECT_OPERATOR","->",349],["T_STRING","_initializedAttributes",349],"[",["T_VARIABLE","$entityTypeCode",349],"]",")",")",["T_WHITESPACE"," ",349],"{",["T_WHITESPACE","\n            ",349],["T_RETURN","return",350],["T_WHITESPACE"," ",350],["T_VARIABLE","$this",350],";",["T_WHITESPACE","\n        ",350],"}",["T_WHITESPACE","\n        ",351],["T_STRING","Varien_Profiler",352],["T_DOUBLE_COLON","::",352],["T_STRING","start",352],"(",["T_CONSTANT_ENCAPSED_STRING","'EAV: '",352],".",["T_METHOD_C","__METHOD__",352],")",";",["T_WHITESPACE","\n\n        ",352],["T_VARIABLE","$attributesInfo",354],["T_WHITESPACE"," ",354],"=",["T_WHITESPACE"," ",354],["T_STRING","Mage",354],["T_DOUBLE_COLON","::",354],["T_STRING","getResourceModel",354],"(",["T_VARIABLE","$entityType",354],["T_OBJECT_OPERATOR","->",354],["T_STRING","getEntityAttributeCollection",354],"(",")",")",["T_WHITESPACE","\n            ",354],["T_OBJECT_OPERATOR","->",355],["T_STRING","setEntityTypeFilter",355],"(",["T_VARIABLE","$entityType",355],")",["T_WHITESPACE","\n            ",355],["T_OBJECT_OPERATOR","->",356],["T_STRING","getData",356],"(",")",";",["T_WHITESPACE","\n\n        ",356],["T_VARIABLE","$codes",358],["T_WHITESPACE"," ",358],"=",["T_WHITESPACE"," ",358],["T_ARRAY","array",358],"(",")",";",["T_WHITESPACE","\n        ",358],["T_FOREACH","foreach",359],["T_WHITESPACE"," ",359],"(",["T_VARIABLE","$attributesInfo",359],["T_WHITESPACE"," ",359],["T_AS","as",359],["T_WHITESPACE"," ",359],["T_VARIABLE","$attribute",359],")",["T_WHITESPACE"," ",359],"{",["T_WHITESPACE","\n            ",359],["T_VARIABLE","$this",360],["T_OBJECT_OPERATOR","->",360],["T_STRING","_createAttribute",360],"(",["T_VARIABLE","$entityType",360],",",["T_WHITESPACE"," ",360],["T_VARIABLE","$attribute",360],")",";",["T_WHITESPACE","\n            ",360],["T_VARIABLE","$codes",361],"[","]",["T_WHITESPACE"," ",361],"=",["T_WHITESPACE"," ",361],["T_VARIABLE","$attribute",361],"[",["T_CONSTANT_ENCAPSED_STRING","'attribute_code'",361],"]",";",["T_WHITESPACE","\n        ",361],"}",["T_WHITESPACE","\n\n        ",362],["T_VARIABLE","$entityType",364],["T_OBJECT_OPERATOR","->",364],["T_STRING","setAttributeCodes",364],"(",["T_VARIABLE","$codes",364],")",";",["T_WHITESPACE","\n        ",364],["T_VARIABLE","$this",365],["T_OBJECT_OPERATOR","->",365],["T_STRING","_initializedAttributes",365],"[",["T_VARIABLE","$entityTypeCode",365],"]",["T_WHITESPACE"," ",365],"=",["T_WHITESPACE"," ",365],["T_STRING","true",365],";",["T_WHITESPACE","\n\n        ",365],["T_STRING","Varien_Profiler",367],["T_DOUBLE_COLON","::",367],["T_STRING","stop",367],"(",["T_CONSTANT_ENCAPSED_STRING","'EAV: '",367],".",["T_METHOD_C","__METHOD__",367],")",";",["T_WHITESPACE","\n        ",367],["T_RETURN","return",368],["T_WHITESPACE"," ",368],["T_VARIABLE","$this",368],";",["T_WHITESPACE","\n    ",368],"}",["T_WHITESPACE","\n\n    ",369],["T_DOC_COMMENT","\/**\n     * Get attribute by code for entity type\n     *\n     * @param   mixed $entityType\n     * @param   mixed $code\n     * @return  Mage_Eav_Model_Entity_Attribute_Abstract|false\n     *\/",371],["T_WHITESPACE","\n    ",377],["T_PUBLIC","public",378],["T_WHITESPACE"," ",378],["T_FUNCTION","function",378],["T_WHITESPACE"," ",378],["T_STRING","getAttribute",378],"(",["T_VARIABLE","$entityType",378],",",["T_WHITESPACE"," ",378],["T_VARIABLE","$code",378],")",["T_WHITESPACE","\n    ",378],"{",["T_WHITESPACE","\n        ",379],["T_IF","if",380],["T_WHITESPACE"," ",380],"(",["T_VARIABLE","$code",380],["T_WHITESPACE"," ",380],["T_INSTANCEOF","instanceof",380],["T_WHITESPACE"," ",380],["T_STRING","Mage_Eav_Model_Entity_Attribute_Interface",380],")",["T_WHITESPACE"," ",380],"{",["T_WHITESPACE","\n            ",380],["T_RETURN","return",381],["T_WHITESPACE"," ",381],["T_VARIABLE","$code",381],";",["T_WHITESPACE","\n        ",381],"}",["T_WHITESPACE","\n\n        ",382],["T_STRING","Varien_Profiler",384],["T_DOUBLE_COLON","::",384],["T_STRING","start",384],"(",["T_CONSTANT_ENCAPSED_STRING","'EAV: '",384],".",["T_METHOD_C","__METHOD__",384],")",";",["T_WHITESPACE","\n\n        ",384],["T_VARIABLE","$entityTypeCode",386],["T_WHITESPACE"," ",386],"=",["T_WHITESPACE"," ",386],["T_VARIABLE","$this",386],["T_OBJECT_OPERATOR","->",386],["T_STRING","getEntityType",386],"(",["T_VARIABLE","$entityType",386],")",["T_OBJECT_OPERATOR","->",386],["T_STRING","getEntityTypeCode",386],"(",")",";",["T_WHITESPACE","\n        ",386],["T_VARIABLE","$entityType",387],["T_WHITESPACE","     ",387],"=",["T_WHITESPACE"," ",387],["T_VARIABLE","$this",387],["T_OBJECT_OPERATOR","->",387],["T_STRING","getEntityType",387],"(",["T_VARIABLE","$entityType",387],")",";",["T_WHITESPACE","\n\n        ",387],["T_DOC_COMMENT","\/**\n         * Validate attribute code\n         *\/",389],["T_WHITESPACE","\n        ",391],["T_IF","if",392],["T_WHITESPACE"," ",392],"(",["T_STRING","is_numeric",392],"(",["T_VARIABLE","$code",392],")",")",["T_WHITESPACE"," ",392],"{",["T_WHITESPACE","\n            ",392],["T_VARIABLE","$attributeCode",393],["T_WHITESPACE"," ",393],"=",["T_WHITESPACE"," ",393],["T_VARIABLE","$this",393],["T_OBJECT_OPERATOR","->",393],["T_STRING","_getAttributeReference",393],"(",["T_VARIABLE","$code",393],",",["T_WHITESPACE"," ",393],["T_VARIABLE","$entityTypeCode",393],")",";",["T_WHITESPACE","\n            ",393],["T_IF","if",394],["T_WHITESPACE"," ",394],"(",["T_VARIABLE","$attributeCode",394],")",["T_WHITESPACE"," ",394],"{",["T_WHITESPACE","\n                ",394],["T_VARIABLE","$code",395],["T_WHITESPACE"," ",395],"=",["T_WHITESPACE"," ",395],["T_VARIABLE","$attributeCode",395],";",["T_WHITESPACE","\n            ",395],"}",["T_WHITESPACE","\n        ",396],"}",["T_WHITESPACE","\n        ",397],["T_VARIABLE","$attributeKey",398],["T_WHITESPACE"," ",398],"=",["T_WHITESPACE"," ",398],["T_VARIABLE","$this",398],["T_OBJECT_OPERATOR","->",398],["T_STRING","_getAttributeKey",398],"(",["T_VARIABLE","$entityTypeCode",398],",",["T_WHITESPACE"," ",398],["T_VARIABLE","$code",398],")",";",["T_WHITESPACE","\n\n        ",398],["T_DOC_COMMENT","\/**\n         * Try use loaded attribute\n         *\/",400],["T_WHITESPACE","\n        ",402],["T_VARIABLE","$attribute",403],["T_WHITESPACE"," ",403],"=",["T_WHITESPACE"," ",403],["T_VARIABLE","$this",403],["T_OBJECT_OPERATOR","->",403],["T_STRING","_load",403],"(",["T_VARIABLE","$attributeKey",403],")",";",["T_WHITESPACE","\n        ",403],["T_IF","if",404],["T_WHITESPACE"," ",404],"(",["T_VARIABLE","$attribute",404],")",["T_WHITESPACE"," ",404],"{",["T_WHITESPACE","\n            ",404],["T_STRING","Varien_Profiler",405],["T_DOUBLE_COLON","::",405],["T_STRING","stop",405],"(",["T_CONSTANT_ENCAPSED_STRING","'EAV: '",405],".",["T_METHOD_C","__METHOD__",405],")",";",["T_WHITESPACE","\n            ",405],["T_RETURN","return",406],["T_WHITESPACE"," ",406],["T_VARIABLE","$attribute",406],";",["T_WHITESPACE","\n        ",406],"}",["T_WHITESPACE","\n\n        ",407],["T_IF","if",409],["T_WHITESPACE"," ",409],"(",["T_ISSET","isset",409],"(",["T_VARIABLE","$this",409],["T_OBJECT_OPERATOR","->",409],["T_STRING","_attributeData",409],"[",["T_VARIABLE","$entityTypeCode",409],"]","[",["T_VARIABLE","$code",409],"]",")",")",["T_WHITESPACE"," ",409],"{",["T_WHITESPACE","\n            ",409],["T_VARIABLE","$data",410],["T_WHITESPACE"," ",410],"=",["T_WHITESPACE"," ",410],["T_VARIABLE","$this",410],["T_OBJECT_OPERATOR","->",410],["T_STRING","_attributeData",410],"[",["T_VARIABLE","$entityTypeCode",410],"]","[",["T_VARIABLE","$code",410],"]",";",["T_WHITESPACE","\n            ",410],["T_UNSET","unset",411],"(",["T_VARIABLE","$this",411],["T_OBJECT_OPERATOR","->",411],["T_STRING","_attributeData",411],"[",["T_VARIABLE","$entityTypeCode",411],"]","[",["T_VARIABLE","$code",411],"]",")",";",["T_WHITESPACE","\n            ",411],["T_VARIABLE","$attribute",412],["T_WHITESPACE"," ",412],"=",["T_WHITESPACE"," ",412],["T_STRING","Mage",412],["T_DOUBLE_COLON","::",412],["T_STRING","getModel",412],"(",["T_VARIABLE","$data",412],"[",["T_CONSTANT_ENCAPSED_STRING","'attribute_model'",412],"]",",",["T_WHITESPACE"," ",412],["T_VARIABLE","$data",412],")",";",["T_WHITESPACE","\n        ",412],"}",["T_WHITESPACE"," ",413],["T_ELSE","else",413],["T_WHITESPACE"," ",413],"{",["T_WHITESPACE","\n            ",413],["T_IF","if",414],["T_WHITESPACE"," ",414],"(",["T_STRING","is_numeric",414],"(",["T_VARIABLE","$code",414],")",")",["T_WHITESPACE"," ",414],"{",["T_WHITESPACE","\n                ",414],["T_VARIABLE","$attribute",415],["T_WHITESPACE"," ",415],"=",["T_WHITESPACE"," ",415],["T_STRING","Mage",415],["T_DOUBLE_COLON","::",415],["T_STRING","getModel",415],"(",["T_VARIABLE","$entityType",415],["T_OBJECT_OPERATOR","->",415],["T_STRING","getAttributeModel",415],"(",")",")",["T_OBJECT_OPERATOR","->",415],["T_STRING","load",415],"(",["T_VARIABLE","$code",415],")",";",["T_WHITESPACE","\n                ",415],["T_IF","if",416],["T_WHITESPACE"," ",416],"(",["T_VARIABLE","$attribute",416],["T_OBJECT_OPERATOR","->",416],["T_STRING","getEntityTypeId",416],"(",")",["T_WHITESPACE"," ",416],["T_IS_NOT_EQUAL","!=",416],["T_WHITESPACE"," ",416],["T_VARIABLE","$entityType",416],["T_OBJECT_OPERATOR","->",416],["T_STRING","getId",416],"(",")",")",["T_WHITESPACE"," ",416],"{",["T_WHITESPACE","\n                    ",416],["T_RETURN","return",417],["T_WHITESPACE"," ",417],["T_STRING","false",417],";",["T_WHITESPACE","\n                ",417],"}",["T_WHITESPACE","\n                ",418],["T_VARIABLE","$attributeKey",419],["T_WHITESPACE"," ",419],"=",["T_WHITESPACE"," ",419],["T_VARIABLE","$this",419],["T_OBJECT_OPERATOR","->",419],["T_STRING","_getAttributeKey",419],"(",["T_VARIABLE","$entityTypeCode",419],",",["T_WHITESPACE"," ",419],["T_VARIABLE","$attribute",419],["T_OBJECT_OPERATOR","->",419],["T_STRING","getAttributeCode",419],"(",")",")",";",["T_WHITESPACE","\n            ",419],"}",["T_WHITESPACE"," ",420],["T_ELSE","else",420],["T_WHITESPACE"," ",420],"{",["T_WHITESPACE","\n                ",420],["T_VARIABLE","$attribute",421],["T_WHITESPACE"," ",421],"=",["T_WHITESPACE"," ",421],["T_STRING","Mage",421],["T_DOUBLE_COLON","::",421],["T_STRING","getModel",421],"(",["T_VARIABLE","$entityType",421],["T_OBJECT_OPERATOR","->",421],["T_STRING","getAttributeModel",421],"(",")",")",["T_WHITESPACE","\n                    ",421],["T_OBJECT_OPERATOR","->",422],["T_STRING","loadByCode",422],"(",["T_VARIABLE","$entityType",422],",",["T_WHITESPACE"," ",422],["T_VARIABLE","$code",422],")",["T_WHITESPACE","\n                    ",422],["T_OBJECT_OPERATOR","->",423],["T_STRING","setAttributeCode",423],"(",["T_VARIABLE","$code",423],")",";",["T_WHITESPACE","\n            ",423],"}",["T_WHITESPACE","\n        ",424],"}",["T_WHITESPACE","\n\n        ",425],["T_IF","if",427],["T_WHITESPACE"," ",427],"(",["T_VARIABLE","$attribute",427],")",["T_WHITESPACE"," ",427],"{",["T_WHITESPACE","\n            ",427],["T_VARIABLE","$entity",428],["T_WHITESPACE"," ",428],"=",["T_WHITESPACE"," ",428],["T_VARIABLE","$entityType",428],["T_OBJECT_OPERATOR","->",428],["T_STRING","getEntity",428],"(",")",";",["T_WHITESPACE","\n            ",428],["T_IF","if",429],["T_WHITESPACE"," ",429],"(",["T_VARIABLE","$entity",429],["T_WHITESPACE"," ",429],["T_BOOLEAN_AND","&&",429],["T_WHITESPACE"," ",429],["T_STRING","in_array",429],"(",["T_VARIABLE","$attribute",429],["T_OBJECT_OPERATOR","->",429],["T_STRING","getAttributeCode",429],"(",")",",",["T_WHITESPACE"," ",429],["T_VARIABLE","$entity",429],["T_OBJECT_OPERATOR","->",429],["T_STRING","getDefaultAttributes",429],"(",")",")",")",["T_WHITESPACE"," ",429],"{",["T_WHITESPACE","\n                ",429],["T_VARIABLE","$attribute",430],["T_OBJECT_OPERATOR","->",430],["T_STRING","setBackendType",430],"(",["T_STRING","Mage_Eav_Model_Entity_Attribute_Abstract",430],["T_DOUBLE_COLON","::",430],["T_STRING","TYPE_STATIC",430],")",["T_WHITESPACE","\n                    ",430],["T_OBJECT_OPERATOR","->",431],["T_STRING","setIsGlobal",431],"(",["T_LNUMBER","1",431],")",";",["T_WHITESPACE","\n            ",431],"}",["T_WHITESPACE","\n            ",432],["T_VARIABLE","$attribute",433],["T_OBJECT_OPERATOR","->",433],["T_STRING","setEntityType",433],"(",["T_VARIABLE","$entityType",433],")",["T_WHITESPACE","\n                ",433],["T_OBJECT_OPERATOR","->",434],["T_STRING","setEntityTypeId",434],"(",["T_VARIABLE","$entityType",434],["T_OBJECT_OPERATOR","->",434],["T_STRING","getId",434],"(",")",")",";",["T_WHITESPACE","\n            ",434],["T_VARIABLE","$this",435],["T_OBJECT_OPERATOR","->",435],["T_STRING","_addAttributeReference",435],"(",["T_VARIABLE","$attribute",435],["T_OBJECT_OPERATOR","->",435],["T_STRING","getId",435],"(",")",",",["T_WHITESPACE"," ",435],["T_VARIABLE","$attribute",435],["T_OBJECT_OPERATOR","->",435],["T_STRING","getAttributeCode",435],"(",")",",",["T_WHITESPACE"," ",435],["T_VARIABLE","$entityTypeCode",435],")",";",["T_WHITESPACE","\n            ",435],["T_VARIABLE","$this",436],["T_OBJECT_OPERATOR","->",436],["T_STRING","_save",436],"(",["T_VARIABLE","$attribute",436],",",["T_WHITESPACE"," ",436],["T_VARIABLE","$attributeKey",436],")",";",["T_WHITESPACE","\n        ",436],"}",["T_WHITESPACE","\n        ",437],["T_STRING","Varien_Profiler",438],["T_DOUBLE_COLON","::",438],["T_STRING","stop",438],"(",["T_CONSTANT_ENCAPSED_STRING","'EAV: '",438],".",["T_METHOD_C","__METHOD__",438],")",";",["T_WHITESPACE","\n\n        ",438],["T_RETURN","return",440],["T_WHITESPACE"," ",440],["T_VARIABLE","$attribute",440],";",["T_WHITESPACE","\n    ",440],"}",["T_WHITESPACE","\n\n    ",441],["T_DOC_COMMENT","\/**\n     * Get codes of all entity type attributes\n     *\n     * @param  mixed $entityType\n     * @param  Varien_Object $object\n     * @return array\n     *\/",443],["T_WHITESPACE","\n    ",449],["T_PUBLIC","public",450],["T_WHITESPACE"," ",450],["T_FUNCTION","function",450],["T_WHITESPACE"," ",450],["T_STRING","getEntityAttributeCodes",450],"(",["T_VARIABLE","$entityType",450],",",["T_WHITESPACE"," ",450],["T_VARIABLE","$object",450],["T_WHITESPACE"," ",450],"=",["T_WHITESPACE"," ",450],["T_STRING","null",450],")",["T_WHITESPACE","\n    ",450],"{",["T_WHITESPACE","\n        ",451],["T_VARIABLE","$entityType",452],["T_WHITESPACE","     ",452],"=",["T_WHITESPACE"," ",452],["T_VARIABLE","$this",452],["T_OBJECT_OPERATOR","->",452],["T_STRING","getEntityType",452],"(",["T_VARIABLE","$entityType",452],")",";",["T_WHITESPACE","\n        ",452],["T_VARIABLE","$attributeSetId",453],["T_WHITESPACE"," ",453],"=",["T_WHITESPACE"," ",453],["T_LNUMBER","0",453],";",["T_WHITESPACE","\n        ",453],["T_IF","if",454],["T_WHITESPACE"," ",454],"(","(",["T_VARIABLE","$object",454],["T_WHITESPACE"," ",454],["T_INSTANCEOF","instanceof",454],["T_WHITESPACE"," ",454],["T_STRING","Varien_Object",454],")",["T_WHITESPACE"," ",454],["T_BOOLEAN_AND","&&",454],["T_WHITESPACE"," ",454],["T_VARIABLE","$object",454],["T_OBJECT_OPERATOR","->",454],["T_STRING","getAttributeSetId",454],"(",")",")",["T_WHITESPACE"," ",454],"{",["T_WHITESPACE","\n             ",454],["T_VARIABLE","$attributeSetId",455],["T_WHITESPACE"," ",455],"=",["T_WHITESPACE"," ",455],["T_VARIABLE","$object",455],["T_OBJECT_OPERATOR","->",455],["T_STRING","getAttributeSetId",455],"(",")",";",["T_WHITESPACE","\n        ",455],"}",["T_WHITESPACE","\n        ",456],["T_VARIABLE","$storeId",457],["T_WHITESPACE"," ",457],"=",["T_WHITESPACE"," ",457],["T_LNUMBER","0",457],";",["T_WHITESPACE","\n        ",457],["T_IF","if",458],["T_WHITESPACE"," ",458],"(","(",["T_VARIABLE","$object",458],["T_WHITESPACE"," ",458],["T_INSTANCEOF","instanceof",458],["T_WHITESPACE"," ",458],["T_STRING","Varien_Object",458],")",["T_WHITESPACE"," ",458],["T_BOOLEAN_AND","&&",458],["T_WHITESPACE"," ",458],["T_VARIABLE","$object",458],["T_OBJECT_OPERATOR","->",458],["T_STRING","getStoreId",458],"(",")",")",["T_WHITESPACE"," ",458],"{",["T_WHITESPACE","\n            ",458],["T_VARIABLE","$storeId",459],["T_WHITESPACE"," ",459],"=",["T_WHITESPACE"," ",459],["T_VARIABLE","$object",459],["T_OBJECT_OPERATOR","->",459],["T_STRING","getStoreId",459],"(",")",";",["T_WHITESPACE","\n        ",459],"}",["T_WHITESPACE","\n        ",460],["T_VARIABLE","$cacheKey",461],["T_WHITESPACE"," ",461],"=",["T_WHITESPACE"," ",461],["T_STRING","sprintf",461],"(",["T_CONSTANT_ENCAPSED_STRING","'%d-%d'",461],",",["T_WHITESPACE"," ",461],["T_VARIABLE","$entityType",461],["T_OBJECT_OPERATOR","->",461],["T_STRING","getId",461],"(",")",",",["T_WHITESPACE"," ",461],["T_VARIABLE","$attributeSetId",461],")",";",["T_WHITESPACE","\n        ",461],["T_IF","if",462],["T_WHITESPACE"," ",462],"(",["T_ISSET","isset",462],"(",["T_VARIABLE","$this",462],["T_OBJECT_OPERATOR","->",462],["T_STRING","_attributeCodes",462],"[",["T_VARIABLE","$cacheKey",462],"]",")",")",["T_WHITESPACE"," ",462],"{",["T_WHITESPACE","\n            ",462],["T_RETURN","return",463],["T_WHITESPACE"," ",463],["T_VARIABLE","$this",463],["T_OBJECT_OPERATOR","->",463],["T_STRING","_attributeCodes",463],"[",["T_VARIABLE","$cacheKey",463],"]",";",["T_WHITESPACE","\n        ",463],"}",["T_WHITESPACE","\n\n        ",464],["T_IF","if",466],["T_WHITESPACE"," ",466],"(",["T_VARIABLE","$attributeSetId",466],")",["T_WHITESPACE"," ",466],"{",["T_WHITESPACE","\n            ",466],["T_VARIABLE","$attributesInfo",467],["T_WHITESPACE"," ",467],"=",["T_WHITESPACE"," ",467],["T_STRING","Mage",467],["T_DOUBLE_COLON","::",467],["T_STRING","getResourceModel",467],"(",["T_VARIABLE","$entityType",467],["T_OBJECT_OPERATOR","->",467],["T_STRING","getEntityAttributeCollection",467],"(",")",")",["T_WHITESPACE","\n                ",467],["T_OBJECT_OPERATOR","->",468],["T_STRING","setEntityTypeFilter",468],"(",["T_VARIABLE","$entityType",468],")",["T_WHITESPACE","\n                ",468],["T_OBJECT_OPERATOR","->",469],["T_STRING","setAttributeSetFilter",469],"(",["T_VARIABLE","$attributeSetId",469],")",["T_WHITESPACE","\n                ",469],["T_OBJECT_OPERATOR","->",470],["T_STRING","addStoreLabel",470],"(",["T_VARIABLE","$storeId",470],")",["T_WHITESPACE","\n                ",470],["T_OBJECT_OPERATOR","->",471],["T_STRING","getData",471],"(",")",";",["T_WHITESPACE","\n            ",471],["T_VARIABLE","$attributes",472],["T_WHITESPACE"," ",472],"=",["T_WHITESPACE"," ",472],["T_ARRAY","array",472],"(",")",";",["T_WHITESPACE","\n            ",472],["T_FOREACH","foreach",473],["T_WHITESPACE"," ",473],"(",["T_VARIABLE","$attributesInfo",473],["T_WHITESPACE"," ",473],["T_AS","as",473],["T_WHITESPACE"," ",473],["T_VARIABLE","$attributeData",473],")",["T_WHITESPACE"," ",473],"{",["T_WHITESPACE","\n                ",473],["T_VARIABLE","$attributes",474],"[","]",["T_WHITESPACE"," ",474],"=",["T_WHITESPACE"," ",474],["T_VARIABLE","$attributeData",474],"[",["T_CONSTANT_ENCAPSED_STRING","'attribute_code'",474],"]",";",["T_WHITESPACE","\n                ",474],["T_VARIABLE","$this",475],["T_OBJECT_OPERATOR","->",475],["T_STRING","_createAttribute",475],"(",["T_VARIABLE","$entityType",475],",",["T_WHITESPACE"," ",475],["T_VARIABLE","$attributeData",475],")",";",["T_WHITESPACE","\n            ",475],"}",["T_WHITESPACE","\n        ",476],"}",["T_WHITESPACE"," ",477],["T_ELSE","else",477],["T_WHITESPACE"," ",477],"{",["T_WHITESPACE","\n            ",477],["T_VARIABLE","$this",478],["T_OBJECT_OPERATOR","->",478],["T_STRING","_initAttributes",478],"(",["T_VARIABLE","$entityType",478],")",";",["T_WHITESPACE","\n            ",478],["T_VARIABLE","$attributes",479],["T_WHITESPACE"," ",479],"=",["T_WHITESPACE"," ",479],["T_VARIABLE","$this",479],["T_OBJECT_OPERATOR","->",479],["T_STRING","getEntityType",479],"(",["T_VARIABLE","$entityType",479],")",["T_OBJECT_OPERATOR","->",479],["T_STRING","getAttributeCodes",479],"(",")",";",["T_WHITESPACE","\n        ",479],"}",["T_WHITESPACE","\n\n        ",480],["T_VARIABLE","$this",482],["T_OBJECT_OPERATOR","->",482],["T_STRING","_attributeCodes",482],"[",["T_VARIABLE","$cacheKey",482],"]",["T_WHITESPACE"," ",482],"=",["T_WHITESPACE"," ",482],["T_VARIABLE","$attributes",482],";",["T_WHITESPACE","\n\n        ",482],["T_RETURN","return",484],["T_WHITESPACE"," ",484],["T_VARIABLE","$attributes",484],";",["T_WHITESPACE","\n    ",484],"}",["T_WHITESPACE","\n\n    ",485],["T_DOC_COMMENT","\/**\n     * Preload entity type attributes for performance optimization\n     *\n     * @param   mixed $entityType\n     * @param   mixed $attributes\n     * @return  Mage_Eav_Model_Config\n     *\/",487],["T_WHITESPACE","\n    ",493],["T_PUBLIC","public",494],["T_WHITESPACE"," ",494],["T_FUNCTION","function",494],["T_WHITESPACE"," ",494],["T_STRING","preloadAttributes",494],"(",["T_VARIABLE","$entityType",494],",",["T_WHITESPACE"," ",494],["T_VARIABLE","$attributes",494],")",["T_WHITESPACE","\n    ",494],"{",["T_WHITESPACE","\n        ",495],["T_IF","if",496],["T_WHITESPACE"," ",496],"(",["T_STRING","is_string",496],"(",["T_VARIABLE","$attributes",496],")",")",["T_WHITESPACE"," ",496],"{",["T_WHITESPACE","\n            ",496],["T_VARIABLE","$attributes",497],["T_WHITESPACE"," ",497],"=",["T_WHITESPACE"," ",497],["T_ARRAY","array",497],"(",["T_VARIABLE","$attributes",497],")",";",["T_WHITESPACE","\n        ",497],"}",["T_WHITESPACE","\n\n        ",498],["T_VARIABLE","$entityType",500],["T_WHITESPACE","     ",500],"=",["T_WHITESPACE"," ",500],["T_VARIABLE","$this",500],["T_OBJECT_OPERATOR","->",500],["T_STRING","getEntityType",500],"(",["T_VARIABLE","$entityType",500],")",";",["T_WHITESPACE","\n        ",500],["T_VARIABLE","$entityTypeCode",501],["T_WHITESPACE"," ",501],"=",["T_WHITESPACE"," ",501],["T_VARIABLE","$entityType",501],["T_OBJECT_OPERATOR","->",501],["T_STRING","getEntityTypeCode",501],"(",")",";",["T_WHITESPACE","\n\n        ",501],["T_IF","if",503],["T_WHITESPACE"," ",503],"(","!",["T_ISSET","isset",503],"(",["T_VARIABLE","$this",503],["T_OBJECT_OPERATOR","->",503],["T_STRING","_preloadedAttributes",503],"[",["T_VARIABLE","$entityTypeCode",503],"]",")",")",["T_WHITESPACE"," ",503],"{",["T_WHITESPACE","\n            ",503],["T_VARIABLE","$this",504],["T_OBJECT_OPERATOR","->",504],["T_STRING","_preloadedAttributes",504],"[",["T_VARIABLE","$entityTypeCode",504],"]",["T_WHITESPACE"," ",504],"=",["T_WHITESPACE"," ",504],["T_VARIABLE","$attributes",504],";",["T_WHITESPACE","\n        ",504],"}",["T_WHITESPACE"," ",505],["T_ELSE","else",505],["T_WHITESPACE"," ",505],"{",["T_WHITESPACE","\n            ",505],["T_VARIABLE","$attributes",506],["T_WHITESPACE"," ",506],"=",["T_WHITESPACE"," ",506],["T_STRING","array_diff",506],"(",["T_VARIABLE","$attributes",506],",",["T_WHITESPACE"," ",506],["T_VARIABLE","$this",506],["T_OBJECT_OPERATOR","->",506],["T_STRING","_preloadedAttributes",506],"[",["T_VARIABLE","$entityTypeCode",506],"]",")",";",["T_WHITESPACE","\n            ",506],["T_VARIABLE","$this",507],["T_OBJECT_OPERATOR","->",507],["T_STRING","_preloadedAttributes",507],"[",["T_VARIABLE","$entityTypeCode",507],"]",["T_WHITESPACE"," ",507],"=",["T_WHITESPACE"," ",507],["T_STRING","array_merge",507],"(",["T_VARIABLE","$this",507],["T_OBJECT_OPERATOR","->",507],["T_STRING","_preloadedAttributes",507],"[",["T_VARIABLE","$entityTypeCode",507],"]",",",["T_WHITESPACE","\n                ",507],["T_VARIABLE","$attributes",508],["T_WHITESPACE","\n            ",508],")",";",["T_WHITESPACE","\n        ",509],"}",["T_WHITESPACE","\n\n        ",510],["T_IF","if",512],["T_WHITESPACE"," ",512],"(",["T_EMPTY","empty",512],"(",["T_VARIABLE","$attributes",512],")",")",["T_WHITESPACE"," ",512],"{",["T_WHITESPACE","\n            ",512],["T_RETURN","return",513],["T_WHITESPACE"," ",513],["T_VARIABLE","$this",513],";",["T_WHITESPACE","\n        ",513],"}",["T_WHITESPACE","\n        ",514],["T_STRING","Varien_Profiler",515],["T_DOUBLE_COLON","::",515],["T_STRING","start",515],"(",["T_CONSTANT_ENCAPSED_STRING","'EAV: '",515],".",["T_METHOD_C","__METHOD__",515],["T_WHITESPACE"," ",515],".",["T_WHITESPACE"," ",515],["T_CONSTANT_ENCAPSED_STRING","':'",515],".",["T_VARIABLE","$entityTypeCode",515],")",";",["T_WHITESPACE","\n\n        ",515],["T_VARIABLE","$attributesInfo",517],["T_WHITESPACE"," ",517],"=",["T_WHITESPACE"," ",517],["T_STRING","Mage",517],["T_DOUBLE_COLON","::",517],["T_STRING","getResourceModel",517],"(",["T_VARIABLE","$entityType",517],["T_OBJECT_OPERATOR","->",517],["T_STRING","getEntityAttributeCollection",517],"(",")",")",["T_WHITESPACE","\n            ",517],["T_OBJECT_OPERATOR","->",518],["T_STRING","setEntityTypeFilter",518],"(",["T_VARIABLE","$entityType",518],")",["T_WHITESPACE","\n            ",518],["T_OBJECT_OPERATOR","->",519],["T_STRING","setCodeFilter",519],"(",["T_VARIABLE","$attributes",519],")",["T_WHITESPACE","\n            ",519],["T_OBJECT_OPERATOR","->",520],["T_STRING","getData",520],"(",")",";",["T_WHITESPACE","\n\n        ",520],["T_IF","if",522],["T_WHITESPACE"," ",522],"(","!",["T_VARIABLE","$attributesInfo",522],")",["T_WHITESPACE"," ",522],"{",["T_WHITESPACE","\n            ",522],["T_STRING","Varien_Profiler",523],["T_DOUBLE_COLON","::",523],["T_STRING","stop",523],"(",["T_CONSTANT_ENCAPSED_STRING","'EAV: '",523],".",["T_METHOD_C","__METHOD__",523],["T_WHITESPACE"," ",523],".",["T_WHITESPACE"," ",523],["T_CONSTANT_ENCAPSED_STRING","':'",523],".",["T_VARIABLE","$entityTypeCode",523],")",";",["T_WHITESPACE","\n            ",523],["T_RETURN","return",524],["T_WHITESPACE"," ",524],["T_VARIABLE","$this",524],";",["T_WHITESPACE","\n        ",524],"}",["T_WHITESPACE","\n\n        ",525],["T_VARIABLE","$attributesData",527],["T_WHITESPACE"," ",527],"=",["T_WHITESPACE"," ",527],["T_VARIABLE","$codes",527],["T_WHITESPACE"," ",527],"=",["T_WHITESPACE"," ",527],["T_ARRAY","array",527],"(",")",";",["T_WHITESPACE","\n\n        ",527],["T_FOREACH","foreach",529],["T_WHITESPACE"," ",529],"(",["T_VARIABLE","$attributesInfo",529],["T_WHITESPACE"," ",529],["T_AS","as",529],["T_WHITESPACE"," ",529],["T_VARIABLE","$attribute",529],")",["T_WHITESPACE"," ",529],"{",["T_WHITESPACE","\n            ",529],["T_IF","if",530],["T_WHITESPACE"," ",530],"(",["T_EMPTY","empty",530],"(",["T_VARIABLE","$attribute",530],"[",["T_CONSTANT_ENCAPSED_STRING","'attribute_model'",530],"]",")",")",["T_WHITESPACE"," ",530],"{",["T_WHITESPACE","\n                ",530],["T_VARIABLE","$attribute",531],"[",["T_CONSTANT_ENCAPSED_STRING","'attribute_model'",531],"]",["T_WHITESPACE"," ",531],"=",["T_WHITESPACE"," ",531],["T_VARIABLE","$entityType",531],["T_OBJECT_OPERATOR","->",531],["T_STRING","getAttributeModel",531],"(",")",";",["T_WHITESPACE","\n            ",531],"}",["T_WHITESPACE","\n\n            ",532],["T_VARIABLE","$attributeCode",534],["T_WHITESPACE","  ",534],"=",["T_WHITESPACE"," ",534],["T_VARIABLE","$attribute",534],"[",["T_CONSTANT_ENCAPSED_STRING","'attribute_code'",534],"]",";",["T_WHITESPACE","\n            ",534],["T_VARIABLE","$attributeId",535],["T_WHITESPACE","    ",535],"=",["T_WHITESPACE"," ",535],["T_VARIABLE","$attribute",535],"[",["T_CONSTANT_ENCAPSED_STRING","'attribute_id'",535],"]",";",["T_WHITESPACE","\n\n            ",535],["T_VARIABLE","$this",537],["T_OBJECT_OPERATOR","->",537],["T_STRING","_addAttributeReference",537],"(",["T_VARIABLE","$attributeId",537],",",["T_WHITESPACE"," ",537],["T_VARIABLE","$attributeCode",537],",",["T_WHITESPACE"," ",537],["T_VARIABLE","$entityTypeCode",537],")",";",["T_WHITESPACE","\n            ",537],["T_VARIABLE","$attributesData",538],"[",["T_VARIABLE","$attributeCode",538],"]",["T_WHITESPACE"," ",538],"=",["T_WHITESPACE"," ",538],["T_VARIABLE","$attribute",538],";",["T_WHITESPACE","\n            ",538],["T_VARIABLE","$codes",539],"[","]",["T_WHITESPACE","                        ",539],"=",["T_WHITESPACE"," ",539],["T_VARIABLE","$attributeCode",539],";",["T_WHITESPACE","\n        ",539],"}",["T_WHITESPACE","\n\n        ",540],["T_VARIABLE","$this",542],["T_OBJECT_OPERATOR","->",542],["T_STRING","_attributeData",542],"[",["T_VARIABLE","$entityTypeCode",542],"]",["T_WHITESPACE"," ",542],"=",["T_WHITESPACE"," ",542],["T_VARIABLE","$attributesData",542],";",["T_WHITESPACE","\n\n        ",542],["T_STRING","Varien_Profiler",544],["T_DOUBLE_COLON","::",544],["T_STRING","stop",544],"(",["T_CONSTANT_ENCAPSED_STRING","'EAV: '",544],".",["T_METHOD_C","__METHOD__",544],["T_WHITESPACE"," ",544],".",["T_WHITESPACE"," ",544],["T_CONSTANT_ENCAPSED_STRING","':'",544],".",["T_VARIABLE","$entityTypeCode",544],")",";",["T_WHITESPACE","\n\n        ",544],["T_RETURN","return",546],["T_WHITESPACE"," ",546],["T_VARIABLE","$this",546],";",["T_WHITESPACE","\n    ",546],"}",["T_WHITESPACE","\n\n    ",547],["T_DOC_COMMENT","\/**\n     * Get attribute object for colection usage\n     *\n     * @param   mixed $entityType\n     * @param   string $attribute\n     * @return  Mage_Eav_Model_Entity_Attribute_Abstract|null\n     *\/",549],["T_WHITESPACE","\n    ",555],["T_PUBLIC","public",556],["T_WHITESPACE"," ",556],["T_FUNCTION","function",556],["T_WHITESPACE"," ",556],["T_STRING","getCollectionAttribute",556],"(",["T_VARIABLE","$entityType",556],",",["T_WHITESPACE"," ",556],["T_VARIABLE","$attribute",556],")",["T_WHITESPACE","\n    ",556],"{",["T_WHITESPACE","\n        ",557],["T_VARIABLE","$entityType",558],["T_WHITESPACE"," ",558],"=",["T_WHITESPACE"," ",558],["T_VARIABLE","$this",558],["T_OBJECT_OPERATOR","->",558],["T_STRING","getEntityType",558],"(",["T_VARIABLE","$entityType",558],")",";",["T_WHITESPACE","\n        ",558],["T_VARIABLE","$entityTypeCode",559],["T_WHITESPACE"," ",559],"=",["T_WHITESPACE"," ",559],["T_VARIABLE","$entityType",559],["T_OBJECT_OPERATOR","->",559],["T_STRING","getEntityTypeCode",559],"(",")",";",["T_WHITESPACE","\n\n        ",559],["T_IF","if",561],["T_WHITESPACE"," ",561],"(",["T_STRING","is_numeric",561],"(",["T_VARIABLE","$attribute",561],")",")",["T_WHITESPACE"," ",561],"{",["T_WHITESPACE","\n            ",561],["T_VARIABLE","$attribute",562],["T_WHITESPACE"," ",562],"=",["T_WHITESPACE"," ",562],["T_VARIABLE","$this",562],["T_OBJECT_OPERATOR","->",562],["T_STRING","_getAttributeReference",562],"(",["T_VARIABLE","$attribute",562],",",["T_WHITESPACE"," ",562],["T_VARIABLE","$entityTypeCode",562],")",";",["T_WHITESPACE","\n            ",562],["T_IF","if",563],["T_WHITESPACE"," ",563],"(","!",["T_VARIABLE","$attribute",563],")",["T_WHITESPACE"," ",563],"{",["T_WHITESPACE","\n                ",563],["T_RETURN","return",564],["T_WHITESPACE"," ",564],["T_STRING","null",564],";",["T_WHITESPACE","\n            ",564],"}",["T_WHITESPACE","\n        ",565],"}",["T_WHITESPACE","\n\n        ",566],["T_VARIABLE","$attributeKey",568],["T_WHITESPACE","    ",568],"=",["T_WHITESPACE"," ",568],["T_VARIABLE","$this",568],["T_OBJECT_OPERATOR","->",568],["T_STRING","_getAttributeKey",568],"(",["T_VARIABLE","$entityTypeCode",568],",",["T_WHITESPACE"," ",568],["T_VARIABLE","$attribute",568],")",";",["T_WHITESPACE","\n        ",568],["T_VARIABLE","$attributeObject",569],["T_WHITESPACE"," ",569],"=",["T_WHITESPACE"," ",569],["T_VARIABLE","$this",569],["T_OBJECT_OPERATOR","->",569],["T_STRING","_load",569],"(",["T_VARIABLE","$attributeKey",569],")",";",["T_WHITESPACE","\n        ",569],["T_IF","if",570],["T_WHITESPACE"," ",570],"(",["T_VARIABLE","$attributeObject",570],")",["T_WHITESPACE"," ",570],"{",["T_WHITESPACE","\n            ",570],["T_RETURN","return",571],["T_WHITESPACE"," ",571],["T_VARIABLE","$attributeObject",571],";",["T_WHITESPACE","\n        ",571],"}",["T_WHITESPACE","\n\n        ",572],["T_RETURN","return",574],["T_WHITESPACE"," ",574],["T_VARIABLE","$this",574],["T_OBJECT_OPERATOR","->",574],["T_STRING","getAttribute",574],"(",["T_VARIABLE","$entityType",574],",",["T_WHITESPACE"," ",574],["T_VARIABLE","$attribute",574],")",";",["T_WHITESPACE","\n    ",574],"}",["T_WHITESPACE","\n\n    ",575],["T_DOC_COMMENT","\/**\n     * Prepare attributes for usage in EAV collection\n     *\n     * @param   mixed $entityType\n     * @param   array $attributes\n     * @return  Mage_Eav_Model_Config\n     *\/",577],["T_WHITESPACE","\n    ",583],["T_PUBLIC","public",584],["T_WHITESPACE"," ",584],["T_FUNCTION","function",584],["T_WHITESPACE"," ",584],["T_STRING","loadCollectionAttributes",584],"(",["T_VARIABLE","$entityType",584],",",["T_WHITESPACE"," ",584],["T_VARIABLE","$attributes",584],")",["T_WHITESPACE","\n    ",584],"{",["T_WHITESPACE","\n        ",585],["T_VARIABLE","$entityType",586],["T_WHITESPACE","     ",586],"=",["T_WHITESPACE"," ",586],["T_VARIABLE","$this",586],["T_OBJECT_OPERATOR","->",586],["T_STRING","getEntityType",586],"(",["T_VARIABLE","$entityType",586],")",";",["T_WHITESPACE","\n        ",586],["T_VARIABLE","$entityTypeCode",587],["T_WHITESPACE"," ",587],"=",["T_WHITESPACE"," ",587],["T_VARIABLE","$entityType",587],["T_OBJECT_OPERATOR","->",587],["T_STRING","getEntityTypeCode",587],"(",")",";",["T_WHITESPACE","\n\n        ",587],["T_IF","if",589],["T_WHITESPACE"," ",589],"(","!",["T_ISSET","isset",589],"(",["T_VARIABLE","$this",589],["T_OBJECT_OPERATOR","->",589],["T_STRING","_collectionAttributes",589],"[",["T_VARIABLE","$entityTypeCode",589],"]",")",")",["T_WHITESPACE"," ",589],"{",["T_WHITESPACE","\n            ",589],["T_VARIABLE","$this",590],["T_OBJECT_OPERATOR","->",590],["T_STRING","_collectionAttributes",590],"[",["T_VARIABLE","$entityTypeCode",590],"]",["T_WHITESPACE"," ",590],"=",["T_WHITESPACE"," ",590],["T_ARRAY","array",590],"(",")",";",["T_WHITESPACE","\n        ",590],"}",["T_WHITESPACE","\n        ",591],["T_VARIABLE","$loadedAttributes",592],["T_WHITESPACE"," ",592],"=",["T_WHITESPACE"," ",592],["T_STRING","array_keys",592],"(",["T_VARIABLE","$this",592],["T_OBJECT_OPERATOR","->",592],["T_STRING","_collectionAttributes",592],"[",["T_VARIABLE","$entityTypeCode",592],"]",")",";",["T_WHITESPACE","\n        ",592],["T_VARIABLE","$attributes",593],["T_WHITESPACE"," ",593],"=",["T_WHITESPACE"," ",593],["T_STRING","array_diff",593],"(",["T_VARIABLE","$attributes",593],",",["T_WHITESPACE"," ",593],["T_VARIABLE","$loadedAttributes",593],")",";",["T_WHITESPACE","\n\n        ",593],["T_FOREACH","foreach",595],["T_WHITESPACE"," ",595],"(",["T_VARIABLE","$attributes",595],["T_WHITESPACE"," ",595],["T_AS","as",595],["T_WHITESPACE"," ",595],["T_VARIABLE","$k",595],["T_WHITESPACE"," ",595],["T_DOUBLE_ARROW","=>",595],["T_WHITESPACE"," ",595],["T_VARIABLE","$attribute",595],")",["T_WHITESPACE"," ",595],"{",["T_WHITESPACE","\n            ",595],["T_IF","if",596],["T_WHITESPACE"," ",596],"(",["T_STRING","is_numeric",596],"(",["T_VARIABLE","$attribute",596],")",")",["T_WHITESPACE"," ",596],"{",["T_WHITESPACE","\n                ",596],["T_VARIABLE","$attribute",597],["T_WHITESPACE"," ",597],"=",["T_WHITESPACE"," ",597],["T_VARIABLE","$this",597],["T_OBJECT_OPERATOR","->",597],["T_STRING","_getAttributeReference",597],"(",["T_VARIABLE","$attribute",597],",",["T_WHITESPACE"," ",597],["T_VARIABLE","$entityTypeCode",597],")",";",["T_WHITESPACE","\n            ",597],"}",["T_WHITESPACE","\n            ",598],["T_VARIABLE","$attributeKey",599],["T_WHITESPACE"," ",599],"=",["T_WHITESPACE"," ",599],["T_VARIABLE","$this",599],["T_OBJECT_OPERATOR","->",599],["T_STRING","_getAttributeKey",599],"(",["T_VARIABLE","$entityTypeCode",599],",",["T_WHITESPACE"," ",599],["T_VARIABLE","$attribute",599],")",";",["T_WHITESPACE","\n            ",599],["T_IF","if",600],["T_WHITESPACE"," ",600],"(",["T_VARIABLE","$this",600],["T_OBJECT_OPERATOR","->",600],["T_STRING","_load",600],"(",["T_VARIABLE","$attributeKey",600],")",")",["T_WHITESPACE"," ",600],"{",["T_WHITESPACE","\n                ",600],["T_UNSET","unset",601],"(",["T_VARIABLE","$attributes",601],"[",["T_VARIABLE","$k",601],"]",")",";",["T_WHITESPACE","\n            ",601],"}",["T_WHITESPACE","\n        ",602],"}",["T_WHITESPACE","\n\n        ",603],["T_IF","if",605],["T_WHITESPACE"," ",605],"(",["T_EMPTY","empty",605],"(",["T_VARIABLE","$attributes",605],")",")",["T_WHITESPACE"," ",605],"{",["T_WHITESPACE","\n            ",605],["T_RETURN","return",606],["T_WHITESPACE"," ",606],["T_VARIABLE","$this",606],";",["T_WHITESPACE","\n        ",606],"}",["T_WHITESPACE","\n        ",607],["T_VARIABLE","$attributeCollection",608],["T_WHITESPACE"," ",608],"=",["T_WHITESPACE"," ",608],["T_VARIABLE","$entityType",608],["T_OBJECT_OPERATOR","->",608],["T_STRING","getEntityAttributeCollection",608],"(",")",";",["T_WHITESPACE","\n        ",608],["T_VARIABLE","$attributesInfo",609],["T_WHITESPACE"," ",609],"=",["T_WHITESPACE"," ",609],["T_STRING","Mage",609],["T_DOUBLE_COLON","::",609],["T_STRING","getResourceModel",609],"(",["T_VARIABLE","$attributeCollection",609],")",["T_WHITESPACE","\n            ",609],["T_OBJECT_OPERATOR","->",610],["T_STRING","useLoadDataFields",610],"(",")",["T_WHITESPACE","\n            ",610],["T_OBJECT_OPERATOR","->",611],["T_STRING","setEntityTypeFilter",611],"(",["T_VARIABLE","$entityType",611],")",["T_WHITESPACE","\n            ",611],["T_OBJECT_OPERATOR","->",612],["T_STRING","setCodeFilter",612],"(",["T_VARIABLE","$attributes",612],")",["T_WHITESPACE","\n            ",612],["T_OBJECT_OPERATOR","->",613],["T_STRING","getData",613],"(",")",";",["T_WHITESPACE","\n\n        ",613],["T_FOREACH","foreach",615],["T_WHITESPACE"," ",615],"(",["T_VARIABLE","$attributesInfo",615],["T_WHITESPACE"," ",615],["T_AS","as",615],["T_WHITESPACE"," ",615],["T_VARIABLE","$attributeData",615],")",["T_WHITESPACE"," ",615],"{",["T_WHITESPACE","\n            ",615],["T_VARIABLE","$attribute",616],["T_WHITESPACE"," ",616],"=",["T_WHITESPACE"," ",616],["T_VARIABLE","$this",616],["T_OBJECT_OPERATOR","->",616],["T_STRING","_createAttribute",616],"(",["T_VARIABLE","$entityType",616],",",["T_WHITESPACE"," ",616],["T_VARIABLE","$attributeData",616],")",";",["T_WHITESPACE","\n            ",616],["T_VARIABLE","$this",617],["T_OBJECT_OPERATOR","->",617],["T_STRING","_collectionAttributes",617],"[",["T_VARIABLE","$entityTypeCode",617],"]","[",["T_VARIABLE","$attribute",617],["T_OBJECT_OPERATOR","->",617],["T_STRING","getAttributeCode",617],"(",")","]",["T_WHITESPACE"," ",617],"=",["T_VARIABLE","$attribute",617],";",["T_WHITESPACE","\n        ",617],"}",["T_WHITESPACE","\n\n        ",618],["T_RETURN","return",620],["T_WHITESPACE"," ",620],["T_VARIABLE","$this",620],";",["T_WHITESPACE","\n    ",620],"}",["T_WHITESPACE","\n\n    ",621],["T_DOC_COMMENT","\/**\n     * Create attribute from attribute data array\n     *\n     * @param string $entityType\n     * @param array $attributeData\n     * @return Mage_Eav_Model_Entity_Attribute_Abstract\n     *\/",623],["T_WHITESPACE","\n    ",629],["T_PROTECTED","protected",630],["T_WHITESPACE"," ",630],["T_FUNCTION","function",630],["T_WHITESPACE"," ",630],["T_STRING","_createAttribute",630],"(",["T_VARIABLE","$entityType",630],",",["T_WHITESPACE"," ",630],["T_VARIABLE","$attributeData",630],")",["T_WHITESPACE","\n    ",630],"{",["T_WHITESPACE","\n        ",631],["T_VARIABLE","$entityType",632],["T_WHITESPACE","     ",632],"=",["T_WHITESPACE"," ",632],["T_VARIABLE","$this",632],["T_OBJECT_OPERATOR","->",632],["T_STRING","getEntityType",632],"(",["T_VARIABLE","$entityType",632],")",";",["T_WHITESPACE","\n        ",632],["T_VARIABLE","$entityTypeCode",633],["T_WHITESPACE"," ",633],"=",["T_WHITESPACE"," ",633],["T_VARIABLE","$entityType",633],["T_OBJECT_OPERATOR","->",633],["T_STRING","getEntityTypeCode",633],"(",")",";",["T_WHITESPACE","\n\n        ",633],["T_VARIABLE","$attributeKey",635],["T_WHITESPACE"," ",635],"=",["T_WHITESPACE"," ",635],["T_VARIABLE","$this",635],["T_OBJECT_OPERATOR","->",635],["T_STRING","_getAttributeKey",635],"(",["T_VARIABLE","$entityTypeCode",635],",",["T_WHITESPACE"," ",635],["T_VARIABLE","$attributeData",635],"[",["T_CONSTANT_ENCAPSED_STRING","'attribute_code'",635],"]",")",";",["T_WHITESPACE","\n        ",635],["T_VARIABLE","$attribute",636],["T_WHITESPACE"," ",636],"=",["T_WHITESPACE"," ",636],["T_VARIABLE","$this",636],["T_OBJECT_OPERATOR","->",636],["T_STRING","_load",636],"(",["T_VARIABLE","$attributeKey",636],")",";",["T_WHITESPACE","\n        ",636],["T_IF","if",637],["T_WHITESPACE"," ",637],"(",["T_VARIABLE","$attribute",637],")",["T_WHITESPACE"," ",637],"{",["T_WHITESPACE","\n            ",637],["T_VARIABLE","$existsFullAttribute",638],["T_WHITESPACE"," ",638],"=",["T_WHITESPACE"," ",638],["T_VARIABLE","$attribute",638],["T_OBJECT_OPERATOR","->",638],["T_STRING","hasIsRequired",638],"(",")",";",["T_WHITESPACE","\n            ",638],["T_VARIABLE","$fullAttributeData",639],["T_WHITESPACE","   ",639],"=",["T_WHITESPACE"," ",639],["T_STRING","array_key_exists",639],"(",["T_CONSTANT_ENCAPSED_STRING","'is_required'",639],",",["T_WHITESPACE"," ",639],["T_VARIABLE","$attributeData",639],")",";",["T_WHITESPACE","\n\n            ",639],["T_IF","if",641],["T_WHITESPACE"," ",641],"(",["T_VARIABLE","$existsFullAttribute",641],["T_WHITESPACE"," ",641],["T_BOOLEAN_OR","||",641],["T_WHITESPACE"," ",641],"(","!",["T_VARIABLE","$existsFullAttribute",641],["T_WHITESPACE"," ",641],["T_BOOLEAN_AND","&&",641],["T_WHITESPACE"," ",641],"!",["T_VARIABLE","$fullAttributeData",641],")",")",["T_WHITESPACE"," ",641],"{",["T_WHITESPACE","\n                ",641],["T_RETURN","return",642],["T_WHITESPACE"," ",642],["T_VARIABLE","$attribute",642],";",["T_WHITESPACE","\n            ",642],"}",["T_WHITESPACE","\n        ",643],"}",["T_WHITESPACE","\n\n        ",644],["T_IF","if",646],["T_WHITESPACE"," ",646],"(","!",["T_EMPTY","empty",646],"(",["T_VARIABLE","$attributeData",646],"[",["T_CONSTANT_ENCAPSED_STRING","'attribute_model'",646],"]",")",")",["T_WHITESPACE"," ",646],"{",["T_WHITESPACE","\n            ",646],["T_VARIABLE","$model",647],["T_WHITESPACE"," ",647],"=",["T_WHITESPACE"," ",647],["T_VARIABLE","$attributeData",647],"[",["T_CONSTANT_ENCAPSED_STRING","'attribute_model'",647],"]",";",["T_WHITESPACE","\n        ",647],"}",["T_WHITESPACE"," ",648],["T_ELSE","else",648],["T_WHITESPACE"," ",648],"{",["T_WHITESPACE","\n            ",648],["T_VARIABLE","$model",649],["T_WHITESPACE"," ",649],"=",["T_WHITESPACE"," ",649],["T_VARIABLE","$entityType",649],["T_OBJECT_OPERATOR","->",649],["T_STRING","getAttributeModel",649],"(",")",";",["T_WHITESPACE","\n        ",649],"}",["T_WHITESPACE","\n        ",650],["T_VARIABLE","$attribute",651],["T_WHITESPACE"," ",651],"=",["T_WHITESPACE"," ",651],["T_STRING","Mage",651],["T_DOUBLE_COLON","::",651],["T_STRING","getModel",651],"(",["T_VARIABLE","$model",651],")",["T_OBJECT_OPERATOR","->",651],["T_STRING","setData",651],"(",["T_VARIABLE","$attributeData",651],")",";",["T_WHITESPACE","\n        ",651],["T_VARIABLE","$this",652],["T_OBJECT_OPERATOR","->",652],["T_STRING","_addAttributeReference",652],"(",["T_WHITESPACE","\n            ",652],["T_VARIABLE","$attributeData",653],"[",["T_CONSTANT_ENCAPSED_STRING","'attribute_id'",653],"]",",",["T_WHITESPACE","\n            ",653],["T_VARIABLE","$attributeData",654],"[",["T_CONSTANT_ENCAPSED_STRING","'attribute_code'",654],"]",",",["T_WHITESPACE","\n            ",654],["T_VARIABLE","$entityTypeCode",655],["T_WHITESPACE","\n        ",655],")",";",["T_WHITESPACE","\n        ",656],["T_VARIABLE","$attributeKey",657],["T_WHITESPACE"," ",657],"=",["T_WHITESPACE"," ",657],["T_VARIABLE","$this",657],["T_OBJECT_OPERATOR","->",657],["T_STRING","_getAttributeKey",657],"(",["T_VARIABLE","$entityTypeCode",657],",",["T_WHITESPACE"," ",657],["T_VARIABLE","$attributeData",657],"[",["T_CONSTANT_ENCAPSED_STRING","'attribute_code'",657],"]",")",";",["T_WHITESPACE","\n        ",657],["T_VARIABLE","$this",658],["T_OBJECT_OPERATOR","->",658],["T_STRING","_save",658],"(",["T_VARIABLE","$attribute",658],",",["T_WHITESPACE"," ",658],["T_VARIABLE","$attributeKey",658],")",";",["T_WHITESPACE","\n\n        ",658],["T_RETURN","return",660],["T_WHITESPACE"," ",660],["T_VARIABLE","$attribute",660],";",["T_WHITESPACE","\n    ",660],"}",["T_WHITESPACE","\n\n    ",661],["T_DOC_COMMENT","\/**\n     * Validate attribute data from import\n     *\n     * @param array $attributeData\n     * @return bool\n     *\/",663],["T_WHITESPACE","\n    ",668],["T_PROTECTED","protected",669],["T_WHITESPACE"," ",669],["T_FUNCTION","function",669],["T_WHITESPACE"," ",669],["T_STRING","_validateAttributeData",669],"(",["T_VARIABLE","$attributeData",669],["T_WHITESPACE"," ",669],"=",["T_WHITESPACE"," ",669],["T_STRING","null",669],")",["T_WHITESPACE","\n    ",669],"{",["T_WHITESPACE","\n        ",670],["T_IF","if",671],["T_WHITESPACE"," ",671],"(","!",["T_STRING","is_array",671],"(",["T_VARIABLE","$attributeData",671],")",")",["T_WHITESPACE"," ",671],"{",["T_WHITESPACE","\n            ",671],["T_RETURN","return",672],["T_WHITESPACE"," ",672],["T_STRING","false",672],";",["T_WHITESPACE","\n        ",672],"}",["T_WHITESPACE","\n        ",673],["T_VARIABLE","$requiredKeys",674],["T_WHITESPACE"," ",674],"=",["T_WHITESPACE"," ",674],["T_ARRAY","array",674],"(",["T_WHITESPACE","\n            ",674],["T_CONSTANT_ENCAPSED_STRING","'attribute_id'",675],",",["T_WHITESPACE","\n            ",675],["T_CONSTANT_ENCAPSED_STRING","'attribute_code'",676],",",["T_WHITESPACE","\n            ",676],["T_CONSTANT_ENCAPSED_STRING","'entity_type_id'",677],",",["T_WHITESPACE","\n            ",677],["T_CONSTANT_ENCAPSED_STRING","'attribute_model'",678],["T_WHITESPACE","\n        ",678],")",";",["T_WHITESPACE","\n        ",679],["T_FOREACH","foreach",680],["T_WHITESPACE"," ",680],"(",["T_VARIABLE","$requiredKeys",680],["T_WHITESPACE"," ",680],["T_AS","as",680],["T_WHITESPACE"," ",680],["T_VARIABLE","$key",680],")",["T_WHITESPACE"," ",680],"{",["T_WHITESPACE","\n            ",680],["T_IF","if",681],["T_WHITESPACE"," ",681],"(","!",["T_STRING","array_key_exists",681],"(",["T_VARIABLE","$key",681],",",["T_WHITESPACE"," ",681],["T_VARIABLE","$attributeData",681],")",")",["T_WHITESPACE"," ",681],"{",["T_WHITESPACE","\n                ",681],["T_RETURN","return",682],["T_WHITESPACE"," ",682],["T_STRING","false",682],";",["T_WHITESPACE","\n            ",682],"}",["T_WHITESPACE","\n        ",683],"}",["T_WHITESPACE","\n\n        ",684],["T_RETURN","return",686],["T_WHITESPACE"," ",686],["T_STRING","true",686],";",["T_WHITESPACE","\n    ",686],"}",["T_WHITESPACE","\n\n    ",687],["T_DOC_COMMENT","\/**\n     * Import attributes data from external source\n     *\n     * @param string|Mage_Eav_Model_Entity_Type $entityType\n     * @param array $attributes\n     * @return Mage_Eav_Model_Config\n     *\/",689],["T_WHITESPACE","\n    ",695],["T_PUBLIC","public",696],["T_WHITESPACE"," ",696],["T_FUNCTION","function",696],["T_WHITESPACE"," ",696],["T_STRING","importAttributesData",696],"(",["T_VARIABLE","$entityType",696],",",["T_WHITESPACE"," ",696],["T_ARRAY","array",696],["T_WHITESPACE"," ",696],["T_VARIABLE","$attributes",696],")",["T_WHITESPACE","\n    ",696],"{",["T_WHITESPACE","\n        ",697],["T_VARIABLE","$entityType",698],["T_WHITESPACE"," ",698],"=",["T_WHITESPACE"," ",698],["T_VARIABLE","$this",698],["T_OBJECT_OPERATOR","->",698],["T_STRING","getEntityType",698],"(",["T_VARIABLE","$entityType",698],")",";",["T_WHITESPACE","\n        ",698],["T_FOREACH","foreach",699],["T_WHITESPACE"," ",699],"(",["T_VARIABLE","$attributes",699],["T_WHITESPACE"," ",699],["T_AS","as",699],["T_WHITESPACE"," ",699],["T_VARIABLE","$attributeData",699],")",["T_WHITESPACE"," ",699],"{",["T_WHITESPACE","\n            ",699],["T_IF","if",700],["T_WHITESPACE"," ",700],"(","!",["T_VARIABLE","$this",700],["T_OBJECT_OPERATOR","->",700],["T_STRING","_validateAttributeData",700],"(",["T_VARIABLE","$attributeData",700],")",")",["T_WHITESPACE"," ",700],"{",["T_WHITESPACE","\n                ",700],["T_CONTINUE","continue",701],";",["T_WHITESPACE","\n            ",701],"}",["T_WHITESPACE","\n            ",702],["T_VARIABLE","$this",703],["T_OBJECT_OPERATOR","->",703],["T_STRING","_createAttribute",703],"(",["T_VARIABLE","$entityType",703],",",["T_WHITESPACE"," ",703],["T_VARIABLE","$attributeData",703],")",";",["T_WHITESPACE","\n        ",703],"}",["T_WHITESPACE","\n\n        ",704],["T_RETURN","return",706],["T_WHITESPACE"," ",706],["T_VARIABLE","$this",706],";",["T_WHITESPACE","\n    ",706],"}",["T_WHITESPACE","\n",707],"}",["T_WHITESPACE","\n",708]]