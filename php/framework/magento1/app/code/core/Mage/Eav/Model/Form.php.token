[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Magento\n *\n * NOTICE OF LICENSE\n *\n * This source file is subject to the Open Software License (OSL 3.0)\n * that is bundled with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/opensource.org\/licenses\/osl-3.0.php\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@magento.com so we can send you a copy immediately.\n *\n * DISCLAIMER\n *\n * Do not edit or add to this file if you wish to upgrade Magento to newer\n * versions in the future. If you wish to customize Magento for your\n * needs please refer to http:\/\/www.magento.com for more information.\n *\n * @category    Mage\n * @package     Mage_Eav\n * @copyright  Copyright (c) 2006-2016 X.commerce, Inc. and affiliates (http:\/\/www.magento.com)\n * @license    http:\/\/opensource.org\/licenses\/osl-3.0.php  Open Software License (OSL 3.0)\n *\/",2],["T_WHITESPACE","\n\n\n",25],["T_DOC_COMMENT","\/**\n * EAV Entity Form Model\n *\n * @category    Mage\n * @package     Mage_Eav\n * @author      Magento Core Team <core@magentocommerce.com>\n *\/",28],["T_WHITESPACE","\n",34],["T_ABSTRACT","abstract",35],["T_WHITESPACE"," ",35],["T_CLASS","class",35],["T_WHITESPACE"," ",35],["T_STRING","Mage_Eav_Model_Form",35],["T_WHITESPACE","\n",35],"{",["T_WHITESPACE","\n    ",36],["T_DOC_COMMENT","\/**\n     * Current module pathname\n     *\n     * @var string\n     *\/",37],["T_WHITESPACE","\n    ",41],["T_PROTECTED","protected",42],["T_WHITESPACE"," ",42],["T_VARIABLE","$_moduleName",42],["T_WHITESPACE"," ",42],"=",["T_WHITESPACE"," ",42],["T_CONSTANT_ENCAPSED_STRING","''",42],";",["T_WHITESPACE","\n\n    ",42],["T_DOC_COMMENT","\/**\n     * Current EAV entity type code\n     *\n     * @var string\n     *\/",44],["T_WHITESPACE","\n    ",48],["T_PROTECTED","protected",49],["T_WHITESPACE"," ",49],["T_VARIABLE","$_entityTypeCode",49],["T_WHITESPACE"," ",49],"=",["T_WHITESPACE"," ",49],["T_CONSTANT_ENCAPSED_STRING","''",49],";",["T_WHITESPACE","\n\n    ",49],["T_DOC_COMMENT","\/**\n     * Current store instance\n     *\n     * @var Mage_Core_Model_Store\n     *\/",51],["T_WHITESPACE","\n    ",55],["T_PROTECTED","protected",56],["T_WHITESPACE"," ",56],["T_VARIABLE","$_store",56],";",["T_WHITESPACE","\n\n    ",56],["T_DOC_COMMENT","\/**\n     * Current entity type instance\n     *\n     * @var Mage_Eav_Model_Entity_Type\n     *\/",58],["T_WHITESPACE","\n    ",62],["T_PROTECTED","protected",63],["T_WHITESPACE"," ",63],["T_VARIABLE","$_entityType",63],";",["T_WHITESPACE","\n\n    ",63],["T_DOC_COMMENT","\/**\n     * Current entity instance\n     *\n     * @var Mage_Core_Model_Abstract\n     *\/",65],["T_WHITESPACE","\n    ",69],["T_PROTECTED","protected",70],["T_WHITESPACE"," ",70],["T_VARIABLE","$_entity",70],";",["T_WHITESPACE","\n\n    ",70],["T_DOC_COMMENT","\/**\n     * Current form code\n     *\n     * @var string\n     *\/",72],["T_WHITESPACE","\n    ",76],["T_PROTECTED","protected",77],["T_WHITESPACE"," ",77],["T_VARIABLE","$_formCode",77],";",["T_WHITESPACE","\n\n    ",77],["T_DOC_COMMENT","\/**\n     * Array of form attributes\n     *\n     * @var array\n     *\/",79],["T_WHITESPACE","\n    ",83],["T_PROTECTED","protected",84],["T_WHITESPACE"," ",84],["T_VARIABLE","$_attributes",84],";",["T_WHITESPACE","\n\n    ",84],["T_DOC_COMMENT","\/**\n     * Array of form system attributes\n     *\n     * @var array\n     *\/",86],["T_WHITESPACE","\n    ",90],["T_PROTECTED","protected",91],["T_WHITESPACE"," ",91],["T_VARIABLE","$_systemAttributes",91],";",["T_WHITESPACE","\n\n    ",91],["T_DOC_COMMENT","\/**\n     * Array of form user defined attributes\n     *\n     * @var array\n     *\/",93],["T_WHITESPACE","\n    ",97],["T_PROTECTED","protected",98],["T_WHITESPACE"," ",98],["T_VARIABLE","$_userAttributes",98],";",["T_WHITESPACE","\n\n    ",98],["T_DOC_COMMENT","\/**\n     * Is AJAX request flag\n     *\n     * @var boolean\n     *\/",100],["T_WHITESPACE","\n    ",104],["T_PROTECTED","protected",105],["T_WHITESPACE"," ",105],["T_VARIABLE","$_isAjax",105],["T_WHITESPACE","          ",105],"=",["T_WHITESPACE"," ",105],["T_STRING","false",105],";",["T_WHITESPACE","\n\n    ",105],["T_DOC_COMMENT","\/**\n     * Whether the invisible form fields need to be filtered\/ignored\n     *\n     * @var bool\n     *\/",107],["T_WHITESPACE","\n    ",111],["T_PROTECTED","protected",112],["T_WHITESPACE"," ",112],["T_VARIABLE","$_ignoreInvisible",112],["T_WHITESPACE"," ",112],"=",["T_WHITESPACE"," ",112],["T_STRING","true",112],";",["T_WHITESPACE","\n\n    ",112],["T_DOC_COMMENT","\/**\n     * Checks correct module choice\n     *\n     * @throws Mage_Core_Exception\n     *\/",114],["T_WHITESPACE","\n    ",118],["T_PUBLIC","public",119],["T_WHITESPACE"," ",119],["T_FUNCTION","function",119],["T_WHITESPACE"," ",119],["T_STRING","__construct",119],"(",")",["T_WHITESPACE","\n    ",119],"{",["T_WHITESPACE","\n        ",120],["T_IF","if",121],["T_WHITESPACE"," ",121],"(",["T_EMPTY","empty",121],"(",["T_VARIABLE","$this",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","_moduleName",121],")",")",["T_WHITESPACE"," ",121],"{",["T_WHITESPACE","\n            ",121],["T_STRING","Mage",122],["T_DOUBLE_COLON","::",122],["T_STRING","throwException",122],"(",["T_STRING","Mage",122],["T_DOUBLE_COLON","::",122],["T_STRING","helper",122],"(",["T_CONSTANT_ENCAPSED_STRING","'eav'",122],")",["T_OBJECT_OPERATOR","->",122],["T_STRING","__",122],"(",["T_CONSTANT_ENCAPSED_STRING","'Current module pathname is undefined'",122],")",")",";",["T_WHITESPACE","\n        ",122],"}",["T_WHITESPACE","\n        ",123],["T_IF","if",124],["T_WHITESPACE"," ",124],"(",["T_EMPTY","empty",124],"(",["T_VARIABLE","$this",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","_entityTypeCode",124],")",")",["T_WHITESPACE"," ",124],"{",["T_WHITESPACE","\n            ",124],["T_STRING","Mage",125],["T_DOUBLE_COLON","::",125],["T_STRING","throwException",125],"(",["T_STRING","Mage",125],["T_DOUBLE_COLON","::",125],["T_STRING","helper",125],"(",["T_CONSTANT_ENCAPSED_STRING","'eav'",125],")",["T_OBJECT_OPERATOR","->",125],["T_STRING","__",125],"(",["T_CONSTANT_ENCAPSED_STRING","'Current module EAV entity is undefined'",125],")",")",";",["T_WHITESPACE","\n        ",125],"}",["T_WHITESPACE","\n    ",126],"}",["T_WHITESPACE","\n\n    ",127],["T_DOC_COMMENT","\/**\n     * Get EAV Entity Form Attribute Collection\n     *\n     * @return mixed\n     *\/",129],["T_WHITESPACE","\n    ",133],["T_PROTECTED","protected",134],["T_WHITESPACE"," ",134],["T_FUNCTION","function",134],["T_WHITESPACE"," ",134],["T_STRING","_getFormAttributeCollection",134],"(",")",["T_WHITESPACE","\n    ",134],"{",["T_WHITESPACE","\n        ",135],["T_RETURN","return",136],["T_WHITESPACE"," ",136],["T_STRING","Mage",136],["T_DOUBLE_COLON","::",136],["T_STRING","getResourceModel",136],"(",["T_VARIABLE","$this",136],["T_OBJECT_OPERATOR","->",136],["T_STRING","_moduleName",136],["T_WHITESPACE"," ",136],".",["T_WHITESPACE"," ",136],["T_CONSTANT_ENCAPSED_STRING","'\/form_attribute_collection'",136],")",";",["T_WHITESPACE","\n    ",136],"}",["T_WHITESPACE","\n\n    ",137],["T_DOC_COMMENT","\/**\n     * Set current store\n     *\n     * @param Mage_Core_Model_Store|string|int $store\n     * @return Mage_Eav_Model_Form\n     *\/",139],["T_WHITESPACE","\n    ",144],["T_PUBLIC","public",145],["T_WHITESPACE"," ",145],["T_FUNCTION","function",145],["T_WHITESPACE"," ",145],["T_STRING","setStore",145],"(",["T_VARIABLE","$store",145],")",["T_WHITESPACE","\n    ",145],"{",["T_WHITESPACE","\n        ",146],["T_VARIABLE","$this",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","_store",147],["T_WHITESPACE"," ",147],"=",["T_WHITESPACE"," ",147],["T_STRING","Mage",147],["T_DOUBLE_COLON","::",147],["T_STRING","app",147],"(",")",["T_OBJECT_OPERATOR","->",147],["T_STRING","getStore",147],"(",["T_VARIABLE","$store",147],")",";",["T_WHITESPACE","\n        ",147],["T_RETURN","return",148],["T_WHITESPACE"," ",148],["T_VARIABLE","$this",148],";",["T_WHITESPACE","\n    ",148],"}",["T_WHITESPACE","\n\n    ",149],["T_DOC_COMMENT","\/**\n     * Set entity instance\n     *\n     * @param Mage_Core_Model_Abstract $entity\n     * @return Mage_Eav_Model_Form\n     *\/",151],["T_WHITESPACE","\n    ",156],["T_PUBLIC","public",157],["T_WHITESPACE"," ",157],["T_FUNCTION","function",157],["T_WHITESPACE"," ",157],["T_STRING","setEntity",157],"(",["T_STRING","Mage_Core_Model_Abstract",157],["T_WHITESPACE"," ",157],["T_VARIABLE","$entity",157],")",["T_WHITESPACE","\n    ",157],"{",["T_WHITESPACE","\n        ",158],["T_VARIABLE","$this",159],["T_OBJECT_OPERATOR","->",159],["T_STRING","_entity",159],["T_WHITESPACE"," ",159],"=",["T_WHITESPACE"," ",159],["T_VARIABLE","$entity",159],";",["T_WHITESPACE","\n        ",159],["T_IF","if",160],["T_WHITESPACE"," ",160],"(",["T_VARIABLE","$entity",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","getEntityTypeId",160],"(",")",")",["T_WHITESPACE"," ",160],"{",["T_WHITESPACE","\n            ",160],["T_VARIABLE","$this",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","setEntityType",161],"(",["T_VARIABLE","$entity",161],["T_OBJECT_OPERATOR","->",161],["T_STRING","getEntityTypeId",161],"(",")",")",";",["T_WHITESPACE","\n        ",161],"}",["T_WHITESPACE","\n        ",162],["T_RETURN","return",163],["T_WHITESPACE"," ",163],["T_VARIABLE","$this",163],";",["T_WHITESPACE","\n    ",163],"}",["T_WHITESPACE","\n\n    ",164],["T_DOC_COMMENT","\/**\n     * Set entity type instance\n     *\n     * @param Mage_Eav_Model_Entity_Type|string|int $entityType\n     * @return Mage_Eav_Model_Form\n     *\/",166],["T_WHITESPACE","\n    ",171],["T_PUBLIC","public",172],["T_WHITESPACE"," ",172],["T_FUNCTION","function",172],["T_WHITESPACE"," ",172],["T_STRING","setEntityType",172],"(",["T_VARIABLE","$entityType",172],")",["T_WHITESPACE","\n    ",172],"{",["T_WHITESPACE","\n        ",173],["T_VARIABLE","$this",174],["T_OBJECT_OPERATOR","->",174],["T_STRING","_entityType",174],["T_WHITESPACE"," ",174],"=",["T_WHITESPACE"," ",174],["T_STRING","Mage",174],["T_DOUBLE_COLON","::",174],["T_STRING","getSingleton",174],"(",["T_CONSTANT_ENCAPSED_STRING","'eav\/config'",174],")",["T_OBJECT_OPERATOR","->",174],["T_STRING","getEntityType",174],"(",["T_VARIABLE","$entityType",174],")",";",["T_WHITESPACE","\n        ",174],["T_RETURN","return",175],["T_WHITESPACE"," ",175],["T_VARIABLE","$this",175],";",["T_WHITESPACE","\n    ",175],"}",["T_WHITESPACE","\n\n    ",176],["T_DOC_COMMENT","\/**\n     * Set form code\n     *\n     * @param string $formCode\n     * @return Mage_Eav_Model_Form\n     *\/",178],["T_WHITESPACE","\n    ",183],["T_PUBLIC","public",184],["T_WHITESPACE"," ",184],["T_FUNCTION","function",184],["T_WHITESPACE"," ",184],["T_STRING","setFormCode",184],"(",["T_VARIABLE","$formCode",184],")",["T_WHITESPACE","\n    ",184],"{",["T_WHITESPACE","\n        ",185],["T_VARIABLE","$this",186],["T_OBJECT_OPERATOR","->",186],["T_STRING","_formCode",186],["T_WHITESPACE"," ",186],"=",["T_WHITESPACE"," ",186],["T_VARIABLE","$formCode",186],";",["T_WHITESPACE","\n        ",186],["T_RETURN","return",187],["T_WHITESPACE"," ",187],["T_VARIABLE","$this",187],";",["T_WHITESPACE","\n    ",187],"}",["T_WHITESPACE","\n\n    ",188],["T_DOC_COMMENT","\/**\n     * Return current store instance\n     *\n     * @return Mage_Core_Model_Store\n     *\/",190],["T_WHITESPACE","\n    ",194],["T_PUBLIC","public",195],["T_WHITESPACE"," ",195],["T_FUNCTION","function",195],["T_WHITESPACE"," ",195],["T_STRING","getStore",195],"(",")",["T_WHITESPACE","\n    ",195],"{",["T_WHITESPACE","\n        ",196],["T_IF","if",197],["T_WHITESPACE"," ",197],"(",["T_STRING","is_null",197],"(",["T_VARIABLE","$this",197],["T_OBJECT_OPERATOR","->",197],["T_STRING","_store",197],")",")",["T_WHITESPACE"," ",197],"{",["T_WHITESPACE","\n            ",197],["T_VARIABLE","$this",198],["T_OBJECT_OPERATOR","->",198],["T_STRING","_store",198],["T_WHITESPACE"," ",198],"=",["T_WHITESPACE"," ",198],["T_STRING","Mage",198],["T_DOUBLE_COLON","::",198],["T_STRING","app",198],"(",")",["T_OBJECT_OPERATOR","->",198],["T_STRING","getStore",198],"(",")",";",["T_WHITESPACE","\n        ",198],"}",["T_WHITESPACE","\n        ",199],["T_RETURN","return",200],["T_WHITESPACE"," ",200],["T_VARIABLE","$this",200],["T_OBJECT_OPERATOR","->",200],["T_STRING","_store",200],";",["T_WHITESPACE","\n    ",200],"}",["T_WHITESPACE","\n\n    ",201],["T_DOC_COMMENT","\/**\n     * Return current form code\n     *\n     * @throws Mage_Core_Exception\n     * @return string\n     *\/",203],["T_WHITESPACE","\n    ",208],["T_PUBLIC","public",209],["T_WHITESPACE"," ",209],["T_FUNCTION","function",209],["T_WHITESPACE"," ",209],["T_STRING","getFormCode",209],"(",")",["T_WHITESPACE","\n    ",209],"{",["T_WHITESPACE","\n        ",210],["T_IF","if",211],["T_WHITESPACE"," ",211],"(",["T_EMPTY","empty",211],"(",["T_VARIABLE","$this",211],["T_OBJECT_OPERATOR","->",211],["T_STRING","_formCode",211],")",")",["T_WHITESPACE"," ",211],"{",["T_WHITESPACE","\n            ",211],["T_STRING","Mage",212],["T_DOUBLE_COLON","::",212],["T_STRING","throwException",212],"(",["T_STRING","Mage",212],["T_DOUBLE_COLON","::",212],["T_STRING","helper",212],"(",["T_CONSTANT_ENCAPSED_STRING","'eav'",212],")",["T_OBJECT_OPERATOR","->",212],["T_STRING","__",212],"(",["T_CONSTANT_ENCAPSED_STRING","'Form code is not defined'",212],")",")",";",["T_WHITESPACE","\n        ",212],"}",["T_WHITESPACE","\n        ",213],["T_RETURN","return",214],["T_WHITESPACE"," ",214],["T_VARIABLE","$this",214],["T_OBJECT_OPERATOR","->",214],["T_STRING","_formCode",214],";",["T_WHITESPACE","\n    ",214],"}",["T_WHITESPACE","\n\n    ",215],["T_DOC_COMMENT","\/**\n     * Return entity type instance\n     * Return EAV entity type if entity type is not defined\n     *\n     * @return Mage_Eav_Model_Entity_Type\n     *\/",217],["T_WHITESPACE","\n    ",222],["T_PUBLIC","public",223],["T_WHITESPACE"," ",223],["T_FUNCTION","function",223],["T_WHITESPACE"," ",223],["T_STRING","getEntityType",223],"(",")",["T_WHITESPACE","\n    ",223],"{",["T_WHITESPACE","\n        ",224],["T_IF","if",225],["T_WHITESPACE"," ",225],"(",["T_STRING","is_null",225],"(",["T_VARIABLE","$this",225],["T_OBJECT_OPERATOR","->",225],["T_STRING","_entityType",225],")",")",["T_WHITESPACE"," ",225],"{",["T_WHITESPACE","\n            ",225],["T_VARIABLE","$this",226],["T_OBJECT_OPERATOR","->",226],["T_STRING","setEntityType",226],"(",["T_VARIABLE","$this",226],["T_OBJECT_OPERATOR","->",226],["T_STRING","_entityTypeCode",226],")",";",["T_WHITESPACE","\n        ",226],"}",["T_WHITESPACE","\n        ",227],["T_RETURN","return",228],["T_WHITESPACE"," ",228],["T_VARIABLE","$this",228],["T_OBJECT_OPERATOR","->",228],["T_STRING","_entityType",228],";",["T_WHITESPACE","\n    ",228],"}",["T_WHITESPACE","\n\n    ",229],["T_DOC_COMMENT","\/**\n     * Return current entity instance\n     *\n     * @throws Mage_Core_Exception\n     * @return Mage_Core_Model_Abstract\n     *\/",231],["T_WHITESPACE","\n    ",236],["T_PUBLIC","public",237],["T_WHITESPACE"," ",237],["T_FUNCTION","function",237],["T_WHITESPACE"," ",237],["T_STRING","getEntity",237],"(",")",["T_WHITESPACE","\n    ",237],"{",["T_WHITESPACE","\n        ",238],["T_IF","if",239],["T_WHITESPACE"," ",239],"(",["T_STRING","is_null",239],"(",["T_VARIABLE","$this",239],["T_OBJECT_OPERATOR","->",239],["T_STRING","_entity",239],")",")",["T_WHITESPACE"," ",239],"{",["T_WHITESPACE","\n            ",239],["T_STRING","Mage",240],["T_DOUBLE_COLON","::",240],["T_STRING","throwException",240],"(",["T_STRING","Mage",240],["T_DOUBLE_COLON","::",240],["T_STRING","helper",240],"(",["T_CONSTANT_ENCAPSED_STRING","'eav'",240],")",["T_OBJECT_OPERATOR","->",240],["T_STRING","__",240],"(",["T_CONSTANT_ENCAPSED_STRING","'Entity instance is not defined'",240],")",")",";",["T_WHITESPACE","\n        ",240],"}",["T_WHITESPACE","\n        ",241],["T_RETURN","return",242],["T_WHITESPACE"," ",242],["T_VARIABLE","$this",242],["T_OBJECT_OPERATOR","->",242],["T_STRING","_entity",242],";",["T_WHITESPACE","\n    ",242],"}",["T_WHITESPACE","\n\n    ",243],["T_DOC_COMMENT","\/**\n     * Return array of form attributes\n     *\n     * @return array\n     *\/",245],["T_WHITESPACE","\n    ",249],["T_PUBLIC","public",250],["T_WHITESPACE"," ",250],["T_FUNCTION","function",250],["T_WHITESPACE"," ",250],["T_STRING","getAttributes",250],"(",")",["T_WHITESPACE","\n    ",250],"{",["T_WHITESPACE","\n        ",251],["T_IF","if",252],["T_WHITESPACE"," ",252],"(",["T_STRING","is_null",252],"(",["T_VARIABLE","$this",252],["T_OBJECT_OPERATOR","->",252],["T_STRING","_attributes",252],")",")",["T_WHITESPACE"," ",252],"{",["T_WHITESPACE","\n            ",252],["T_COMMENT","\/* @var $collection Mage_Eav_Model_Resource_Form_Attribute_Collection *\/",253],["T_WHITESPACE","\n            ",253],["T_VARIABLE","$collection",254],["T_WHITESPACE"," ",254],"=",["T_WHITESPACE"," ",254],["T_VARIABLE","$this",254],["T_OBJECT_OPERATOR","->",254],["T_STRING","_getFormAttributeCollection",254],"(",")",";",["T_WHITESPACE","\n\n            ",254],["T_VARIABLE","$collection",256],["T_OBJECT_OPERATOR","->",256],["T_STRING","setStore",256],"(",["T_VARIABLE","$this",256],["T_OBJECT_OPERATOR","->",256],["T_STRING","getStore",256],"(",")",")",["T_WHITESPACE","\n                ",256],["T_OBJECT_OPERATOR","->",257],["T_STRING","setEntityType",257],"(",["T_VARIABLE","$this",257],["T_OBJECT_OPERATOR","->",257],["T_STRING","getEntityType",257],"(",")",")",["T_WHITESPACE","\n                ",257],["T_OBJECT_OPERATOR","->",258],["T_STRING","addFormCodeFilter",258],"(",["T_VARIABLE","$this",258],["T_OBJECT_OPERATOR","->",258],["T_STRING","getFormCode",258],"(",")",")",["T_WHITESPACE","\n                ",258],["T_OBJECT_OPERATOR","->",259],["T_STRING","setSortOrder",259],"(",")",";",["T_WHITESPACE","\n\n            ",259],["T_VARIABLE","$this",261],["T_OBJECT_OPERATOR","->",261],["T_STRING","_attributes",261],["T_WHITESPACE","      ",261],"=",["T_WHITESPACE"," ",261],["T_ARRAY","array",261],"(",")",";",["T_WHITESPACE","\n            ",261],["T_VARIABLE","$this",262],["T_OBJECT_OPERATOR","->",262],["T_STRING","_userAttributes",262],["T_WHITESPACE","  ",262],"=",["T_WHITESPACE"," ",262],["T_ARRAY","array",262],"(",")",";",["T_WHITESPACE","\n            ",262],["T_FOREACH","foreach",263],["T_WHITESPACE"," ",263],"(",["T_VARIABLE","$collection",263],["T_WHITESPACE"," ",263],["T_AS","as",263],["T_WHITESPACE"," ",263],["T_VARIABLE","$attribute",263],")",["T_WHITESPACE"," ",263],"{",["T_WHITESPACE","\n                ",263],["T_COMMENT","\/* @var $attribute Mage_Eav_Model_Entity_Attribute *\/",264],["T_WHITESPACE","\n                ",264],["T_VARIABLE","$this",265],["T_OBJECT_OPERATOR","->",265],["T_STRING","_attributes",265],"[",["T_VARIABLE","$attribute",265],["T_OBJECT_OPERATOR","->",265],["T_STRING","getAttributeCode",265],"(",")","]",["T_WHITESPACE"," ",265],"=",["T_WHITESPACE"," ",265],["T_VARIABLE","$attribute",265],";",["T_WHITESPACE","\n                ",265],["T_IF","if",266],["T_WHITESPACE"," ",266],"(",["T_VARIABLE","$attribute",266],["T_OBJECT_OPERATOR","->",266],["T_STRING","getIsUserDefined",266],"(",")",")",["T_WHITESPACE"," ",266],"{",["T_WHITESPACE","\n                    ",266],["T_VARIABLE","$this",267],["T_OBJECT_OPERATOR","->",267],["T_STRING","_userAttributes",267],"[",["T_VARIABLE","$attribute",267],["T_OBJECT_OPERATOR","->",267],["T_STRING","getAttributeCode",267],"(",")","]",["T_WHITESPACE"," ",267],"=",["T_WHITESPACE"," ",267],["T_VARIABLE","$attribute",267],";",["T_WHITESPACE","\n                ",267],"}",["T_WHITESPACE"," ",268],["T_ELSE","else",268],["T_WHITESPACE"," ",268],"{",["T_WHITESPACE","\n                    ",268],["T_VARIABLE","$this",269],["T_OBJECT_OPERATOR","->",269],["T_STRING","_systemAttributes",269],"[",["T_VARIABLE","$attribute",269],["T_OBJECT_OPERATOR","->",269],["T_STRING","getAttributeCode",269],"(",")","]",["T_WHITESPACE"," ",269],"=",["T_WHITESPACE"," ",269],["T_VARIABLE","$attribute",269],";",["T_WHITESPACE","\n                ",269],"}",["T_WHITESPACE","\n            ",270],"}",["T_WHITESPACE","\n        ",271],"}",["T_WHITESPACE","\n        ",272],["T_RETURN","return",273],["T_WHITESPACE"," ",273],["T_VARIABLE","$this",273],["T_OBJECT_OPERATOR","->",273],["T_STRING","_attributes",273],";",["T_WHITESPACE","\n    ",273],"}",["T_WHITESPACE","\n\n    ",274],["T_DOC_COMMENT","\/**\n     * Return attribute instance by code or false\n     *\n     * @param string $attributeCode\n     * @return Mage_Eav_Model_Entity_Attribute|false\n     *\/",276],["T_WHITESPACE","\n    ",281],["T_PUBLIC","public",282],["T_WHITESPACE"," ",282],["T_FUNCTION","function",282],["T_WHITESPACE"," ",282],["T_STRING","getAttribute",282],"(",["T_VARIABLE","$attributeCode",282],")",["T_WHITESPACE","\n    ",282],"{",["T_WHITESPACE","\n        ",283],["T_VARIABLE","$attributes",284],["T_WHITESPACE"," ",284],"=",["T_WHITESPACE"," ",284],["T_VARIABLE","$this",284],["T_OBJECT_OPERATOR","->",284],["T_STRING","getAttributes",284],"(",")",";",["T_WHITESPACE","\n        ",284],["T_IF","if",285],["T_WHITESPACE"," ",285],"(",["T_ISSET","isset",285],"(",["T_VARIABLE","$attributes",285],"[",["T_VARIABLE","$attributeCode",285],"]",")",")",["T_WHITESPACE"," ",285],"{",["T_WHITESPACE","\n            ",285],["T_RETURN","return",286],["T_WHITESPACE"," ",286],["T_VARIABLE","$attributes",286],"[",["T_VARIABLE","$attributeCode",286],"]",";",["T_WHITESPACE","\n        ",286],"}",["T_WHITESPACE","\n        ",287],["T_RETURN","return",288],["T_WHITESPACE"," ",288],["T_STRING","false",288],";",["T_WHITESPACE","\n    ",288],"}",["T_WHITESPACE","\n\n    ",289],["T_DOC_COMMENT","\/**\n     * Return array of form user defined attributes\n     *\n     * @return array\n     *\/",291],["T_WHITESPACE","\n    ",295],["T_PUBLIC","public",296],["T_WHITESPACE"," ",296],["T_FUNCTION","function",296],["T_WHITESPACE"," ",296],["T_STRING","getUserAttributes",296],"(",")",["T_WHITESPACE","\n    ",296],"{",["T_WHITESPACE","\n        ",297],["T_IF","if",298],["T_WHITESPACE"," ",298],"(",["T_STRING","is_null",298],"(",["T_VARIABLE","$this",298],["T_OBJECT_OPERATOR","->",298],["T_STRING","_userAttributes",298],")",")",["T_WHITESPACE"," ",298],"{",["T_WHITESPACE","\n            ",298],["T_COMMENT","\/\/ load attributes\n",299],["T_WHITESPACE","            ",300],["T_VARIABLE","$this",300],["T_OBJECT_OPERATOR","->",300],["T_STRING","getAttributes",300],"(",")",";",["T_WHITESPACE","\n        ",300],"}",["T_WHITESPACE","\n        ",301],["T_RETURN","return",302],["T_WHITESPACE"," ",302],["T_VARIABLE","$this",302],["T_OBJECT_OPERATOR","->",302],["T_STRING","_userAttributes",302],";",["T_WHITESPACE","\n    ",302],"}",["T_WHITESPACE","\n\n    ",303],["T_DOC_COMMENT","\/**\n     * Return array of form system attributes\n     *\n     * @return array\n     *\/",305],["T_WHITESPACE","\n    ",309],["T_PUBLIC","public",310],["T_WHITESPACE"," ",310],["T_FUNCTION","function",310],["T_WHITESPACE"," ",310],["T_STRING","getSystemAttributes",310],"(",")",["T_WHITESPACE","\n    ",310],"{",["T_WHITESPACE","\n        ",311],["T_IF","if",312],["T_WHITESPACE"," ",312],"(",["T_STRING","is_null",312],"(",["T_VARIABLE","$this",312],["T_OBJECT_OPERATOR","->",312],["T_STRING","_systemAttributes",312],")",")",["T_WHITESPACE"," ",312],"{",["T_WHITESPACE","\n            ",312],["T_COMMENT","\/\/ load attributes\n",313],["T_WHITESPACE","            ",314],["T_VARIABLE","$this",314],["T_OBJECT_OPERATOR","->",314],["T_STRING","getAttributes",314],"(",")",";",["T_WHITESPACE","\n        ",314],"}",["T_WHITESPACE","\n        ",315],["T_RETURN","return",316],["T_WHITESPACE"," ",316],["T_VARIABLE","$this",316],["T_OBJECT_OPERATOR","->",316],["T_STRING","_systemAttributes",316],";",["T_WHITESPACE","\n    ",316],"}",["T_WHITESPACE","\n\n    ",317],["T_DOC_COMMENT","\/**\n     * Return attribute data model by attribute\n     *\n     * @param Mage_Eav_Model_Entity_Attribute $attribute\n     * @return Mage_Eav_Model_Attribute_Data_Abstract\n     *\/",319],["T_WHITESPACE","\n    ",324],["T_PROTECTED","protected",325],["T_WHITESPACE"," ",325],["T_FUNCTION","function",325],["T_WHITESPACE"," ",325],["T_STRING","_getAttributeDataModel",325],"(",["T_STRING","Mage_Eav_Model_Entity_Attribute",325],["T_WHITESPACE"," ",325],["T_VARIABLE","$attribute",325],")",["T_WHITESPACE","\n    ",325],"{",["T_WHITESPACE","\n        ",326],["T_VARIABLE","$dataModel",327],["T_WHITESPACE"," ",327],"=",["T_WHITESPACE"," ",327],["T_STRING","Mage_Eav_Model_Attribute_Data",327],["T_DOUBLE_COLON","::",327],["T_STRING","factory",327],"(",["T_VARIABLE","$attribute",327],",",["T_WHITESPACE"," ",327],["T_VARIABLE","$this",327],["T_OBJECT_OPERATOR","->",327],["T_STRING","getEntity",327],"(",")",")",";",["T_WHITESPACE","\n        ",327],["T_VARIABLE","$dataModel",328],["T_OBJECT_OPERATOR","->",328],["T_STRING","setIsAjaxRequest",328],"(",["T_VARIABLE","$this",328],["T_OBJECT_OPERATOR","->",328],["T_STRING","getIsAjaxRequest",328],"(",")",")",";",["T_WHITESPACE","\n\n        ",328],["T_RETURN","return",330],["T_WHITESPACE"," ",330],["T_VARIABLE","$dataModel",330],";",["T_WHITESPACE","\n    ",330],"}",["T_WHITESPACE","\n\n    ",331],["T_DOC_COMMENT","\/**\n     * Prepare request with data and returns it\n     *\n     * @param array $data\n     * @return Zend_Controller_Request_Http\n     *\/",333],["T_WHITESPACE","\n    ",338],["T_PUBLIC","public",339],["T_WHITESPACE"," ",339],["T_FUNCTION","function",339],["T_WHITESPACE"," ",339],["T_STRING","prepareRequest",339],"(",["T_ARRAY","array",339],["T_WHITESPACE"," ",339],["T_VARIABLE","$data",339],")",["T_WHITESPACE","\n    ",339],"{",["T_WHITESPACE","\n        ",340],["T_VARIABLE","$request",341],["T_WHITESPACE"," ",341],"=",["T_WHITESPACE"," ",341],["T_CLONE","clone",341],["T_WHITESPACE"," ",341],["T_STRING","Mage",341],["T_DOUBLE_COLON","::",341],["T_STRING","app",341],"(",")",["T_OBJECT_OPERATOR","->",341],["T_STRING","getRequest",341],"(",")",";",["T_WHITESPACE","\n        ",341],["T_VARIABLE","$request",342],["T_OBJECT_OPERATOR","->",342],["T_STRING","setParamSources",342],"(",")",";",["T_WHITESPACE","\n        ",342],["T_VARIABLE","$request",343],["T_OBJECT_OPERATOR","->",343],["T_STRING","clearParams",343],"(",")",";",["T_WHITESPACE","\n        ",343],["T_VARIABLE","$request",344],["T_OBJECT_OPERATOR","->",344],["T_STRING","setParams",344],"(",["T_VARIABLE","$data",344],")",";",["T_WHITESPACE","\n\n        ",344],["T_RETURN","return",346],["T_WHITESPACE"," ",346],["T_VARIABLE","$request",346],";",["T_WHITESPACE","\n    ",346],"}",["T_WHITESPACE","\n\n    ",347],["T_DOC_COMMENT","\/**\n     * Extract data from request and return associative data array\n     *\n     * @param Zend_Controller_Request_Http $request\n     * @param string $scope the request scope\n     * @param boolean $scopeOnly search value only in scope or search value in global too\n     * @return array\n     *\/",349],["T_WHITESPACE","\n    ",356],["T_PUBLIC","public",357],["T_WHITESPACE"," ",357],["T_FUNCTION","function",357],["T_WHITESPACE"," ",357],["T_STRING","extractData",357],"(",["T_STRING","Zend_Controller_Request_Http",357],["T_WHITESPACE"," ",357],["T_VARIABLE","$request",357],",",["T_WHITESPACE"," ",357],["T_VARIABLE","$scope",357],["T_WHITESPACE"," ",357],"=",["T_WHITESPACE"," ",357],["T_STRING","null",357],",",["T_WHITESPACE"," ",357],["T_VARIABLE","$scopeOnly",357],["T_WHITESPACE"," ",357],"=",["T_WHITESPACE"," ",357],["T_STRING","true",357],")",["T_WHITESPACE","\n    ",357],"{",["T_WHITESPACE","\n        ",358],["T_VARIABLE","$data",359],["T_WHITESPACE"," ",359],"=",["T_WHITESPACE"," ",359],["T_ARRAY","array",359],"(",")",";",["T_WHITESPACE","\n        ",359],["T_FOREACH","foreach",360],["T_WHITESPACE"," ",360],"(",["T_VARIABLE","$this",360],["T_OBJECT_OPERATOR","->",360],["T_STRING","getAttributes",360],"(",")",["T_WHITESPACE"," ",360],["T_AS","as",360],["T_WHITESPACE"," ",360],["T_VARIABLE","$attribute",360],")",["T_WHITESPACE"," ",360],"{",["T_WHITESPACE","\n            ",360],["T_IF","if",361],["T_WHITESPACE"," ",361],"(",["T_VARIABLE","$this",361],["T_OBJECT_OPERATOR","->",361],["T_STRING","_isAttributeOmitted",361],"(",["T_VARIABLE","$attribute",361],")",")",["T_WHITESPACE"," ",361],"{",["T_WHITESPACE","\n                ",361],["T_CONTINUE","continue",362],";",["T_WHITESPACE","\n            ",362],"}",["T_WHITESPACE","\n            ",363],["T_VARIABLE","$dataModel",364],["T_WHITESPACE"," ",364],"=",["T_WHITESPACE"," ",364],["T_VARIABLE","$this",364],["T_OBJECT_OPERATOR","->",364],["T_STRING","_getAttributeDataModel",364],"(",["T_VARIABLE","$attribute",364],")",";",["T_WHITESPACE","\n            ",364],["T_VARIABLE","$dataModel",365],["T_OBJECT_OPERATOR","->",365],["T_STRING","setRequestScope",365],"(",["T_VARIABLE","$scope",365],")",";",["T_WHITESPACE","\n            ",365],["T_VARIABLE","$dataModel",366],["T_OBJECT_OPERATOR","->",366],["T_STRING","setRequestScopeOnly",366],"(",["T_VARIABLE","$scopeOnly",366],")",";",["T_WHITESPACE","\n            ",366],["T_VARIABLE","$data",367],"[",["T_VARIABLE","$attribute",367],["T_OBJECT_OPERATOR","->",367],["T_STRING","getAttributeCode",367],"(",")","]",["T_WHITESPACE"," ",367],"=",["T_WHITESPACE"," ",367],["T_VARIABLE","$dataModel",367],["T_OBJECT_OPERATOR","->",367],["T_STRING","extractValue",367],"(",["T_VARIABLE","$request",367],")",";",["T_WHITESPACE","\n        ",367],"}",["T_WHITESPACE","\n        ",368],["T_RETURN","return",369],["T_WHITESPACE"," ",369],["T_VARIABLE","$data",369],";",["T_WHITESPACE","\n    ",369],"}",["T_WHITESPACE","\n\n    ",370],["T_DOC_COMMENT","\/**\n     * Validate data array and return true or array of errors\n     *\n     * @param array $data\n     * @return boolean|array\n     *\/",372],["T_WHITESPACE","\n    ",377],["T_PUBLIC","public",378],["T_WHITESPACE"," ",378],["T_FUNCTION","function",378],["T_WHITESPACE"," ",378],["T_STRING","validateData",378],"(",["T_ARRAY","array",378],["T_WHITESPACE"," ",378],["T_VARIABLE","$data",378],")",["T_WHITESPACE","\n    ",378],"{",["T_WHITESPACE","\n        ",379],["T_VARIABLE","$errors",380],["T_WHITESPACE"," ",380],"=",["T_WHITESPACE"," ",380],["T_ARRAY","array",380],"(",")",";",["T_WHITESPACE","\n        ",380],["T_FOREACH","foreach",381],["T_WHITESPACE"," ",381],"(",["T_VARIABLE","$this",381],["T_OBJECT_OPERATOR","->",381],["T_STRING","getAttributes",381],"(",")",["T_WHITESPACE"," ",381],["T_AS","as",381],["T_WHITESPACE"," ",381],["T_VARIABLE","$attribute",381],")",["T_WHITESPACE"," ",381],"{",["T_WHITESPACE","\n            ",381],["T_IF","if",382],["T_WHITESPACE"," ",382],"(",["T_VARIABLE","$this",382],["T_OBJECT_OPERATOR","->",382],["T_STRING","_isAttributeOmitted",382],"(",["T_VARIABLE","$attribute",382],")",")",["T_WHITESPACE"," ",382],"{",["T_WHITESPACE","\n                ",382],["T_CONTINUE","continue",383],";",["T_WHITESPACE","\n            ",383],"}",["T_WHITESPACE","\n            ",384],["T_VARIABLE","$dataModel",385],["T_WHITESPACE"," ",385],"=",["T_WHITESPACE"," ",385],["T_VARIABLE","$this",385],["T_OBJECT_OPERATOR","->",385],["T_STRING","_getAttributeDataModel",385],"(",["T_VARIABLE","$attribute",385],")",";",["T_WHITESPACE","\n            ",385],["T_VARIABLE","$dataModel",386],["T_OBJECT_OPERATOR","->",386],["T_STRING","setExtractedData",386],"(",["T_VARIABLE","$data",386],")",";",["T_WHITESPACE","\n            ",386],["T_IF","if",387],["T_WHITESPACE"," ",387],"(","!",["T_ISSET","isset",387],"(",["T_VARIABLE","$data",387],"[",["T_VARIABLE","$attribute",387],["T_OBJECT_OPERATOR","->",387],["T_STRING","getAttributeCode",387],"(",")","]",")",")",["T_WHITESPACE"," ",387],"{",["T_WHITESPACE","\n                ",387],["T_VARIABLE","$data",388],"[",["T_VARIABLE","$attribute",388],["T_OBJECT_OPERATOR","->",388],["T_STRING","getAttributeCode",388],"(",")","]",["T_WHITESPACE"," ",388],"=",["T_WHITESPACE"," ",388],["T_STRING","null",388],";",["T_WHITESPACE","\n            ",388],"}",["T_WHITESPACE","\n            ",389],["T_VARIABLE","$result",390],["T_WHITESPACE"," ",390],"=",["T_WHITESPACE"," ",390],["T_VARIABLE","$dataModel",390],["T_OBJECT_OPERATOR","->",390],["T_STRING","validateValue",390],"(",["T_VARIABLE","$data",390],"[",["T_VARIABLE","$attribute",390],["T_OBJECT_OPERATOR","->",390],["T_STRING","getAttributeCode",390],"(",")","]",")",";",["T_WHITESPACE","\n            ",390],["T_IF","if",391],["T_WHITESPACE"," ",391],"(",["T_VARIABLE","$result",391],["T_WHITESPACE"," ",391],["T_IS_NOT_IDENTICAL","!==",391],["T_WHITESPACE"," ",391],["T_STRING","true",391],")",["T_WHITESPACE"," ",391],"{",["T_WHITESPACE","\n                ",391],["T_VARIABLE","$errors",392],["T_WHITESPACE"," ",392],"=",["T_WHITESPACE"," ",392],["T_STRING","array_merge",392],"(",["T_VARIABLE","$errors",392],",",["T_WHITESPACE"," ",392],["T_VARIABLE","$result",392],")",";",["T_WHITESPACE","\n            ",392],"}",["T_WHITESPACE","\n        ",393],"}",["T_WHITESPACE","\n\n        ",394],["T_IF","if",396],["T_WHITESPACE"," ",396],"(",["T_STRING","count",396],"(",["T_VARIABLE","$errors",396],")",["T_WHITESPACE"," ",396],["T_IS_EQUAL","==",396],["T_WHITESPACE"," ",396],["T_LNUMBER","0",396],")",["T_WHITESPACE"," ",396],"{",["T_WHITESPACE","\n            ",396],["T_RETURN","return",397],["T_WHITESPACE"," ",397],["T_STRING","true",397],";",["T_WHITESPACE","\n        ",397],"}",["T_WHITESPACE","\n\n        ",398],["T_RETURN","return",400],["T_WHITESPACE"," ",400],["T_VARIABLE","$errors",400],";",["T_WHITESPACE","\n    ",400],"}",["T_WHITESPACE","\n\n    ",401],["T_DOC_COMMENT","\/**\n     * Compact data array to current entity\n     *\n     * @param array $data\n     * @return Mage_Eav_Model_Form\n     *\/",403],["T_WHITESPACE","\n    ",408],["T_PUBLIC","public",409],["T_WHITESPACE"," ",409],["T_FUNCTION","function",409],["T_WHITESPACE"," ",409],["T_STRING","compactData",409],"(",["T_ARRAY","array",409],["T_WHITESPACE"," ",409],["T_VARIABLE","$data",409],")",["T_WHITESPACE","\n    ",409],"{",["T_WHITESPACE","\n        ",410],["T_FOREACH","foreach",411],["T_WHITESPACE"," ",411],"(",["T_VARIABLE","$this",411],["T_OBJECT_OPERATOR","->",411],["T_STRING","getAttributes",411],"(",")",["T_WHITESPACE"," ",411],["T_AS","as",411],["T_WHITESPACE"," ",411],["T_VARIABLE","$attribute",411],")",["T_WHITESPACE"," ",411],"{",["T_WHITESPACE","\n            ",411],["T_IF","if",412],["T_WHITESPACE"," ",412],"(",["T_VARIABLE","$this",412],["T_OBJECT_OPERATOR","->",412],["T_STRING","_isAttributeOmitted",412],"(",["T_VARIABLE","$attribute",412],")",")",["T_WHITESPACE"," ",412],"{",["T_WHITESPACE","\n                ",412],["T_CONTINUE","continue",413],";",["T_WHITESPACE","\n            ",413],"}",["T_WHITESPACE","\n            ",414],["T_VARIABLE","$dataModel",415],["T_WHITESPACE"," ",415],"=",["T_WHITESPACE"," ",415],["T_VARIABLE","$this",415],["T_OBJECT_OPERATOR","->",415],["T_STRING","_getAttributeDataModel",415],"(",["T_VARIABLE","$attribute",415],")",";",["T_WHITESPACE","\n            ",415],["T_VARIABLE","$dataModel",416],["T_OBJECT_OPERATOR","->",416],["T_STRING","setExtractedData",416],"(",["T_VARIABLE","$data",416],")",";",["T_WHITESPACE","\n            ",416],["T_IF","if",417],["T_WHITESPACE"," ",417],"(","!",["T_ISSET","isset",417],"(",["T_VARIABLE","$data",417],"[",["T_VARIABLE","$attribute",417],["T_OBJECT_OPERATOR","->",417],["T_STRING","getAttributeCode",417],"(",")","]",")",")",["T_WHITESPACE"," ",417],"{",["T_WHITESPACE","\n                ",417],["T_VARIABLE","$data",418],"[",["T_VARIABLE","$attribute",418],["T_OBJECT_OPERATOR","->",418],["T_STRING","getAttributeCode",418],"(",")","]",["T_WHITESPACE"," ",418],"=",["T_WHITESPACE"," ",418],["T_STRING","false",418],";",["T_WHITESPACE","\n            ",418],"}",["T_WHITESPACE","\n            ",419],["T_VARIABLE","$dataModel",420],["T_OBJECT_OPERATOR","->",420],["T_STRING","compactValue",420],"(",["T_VARIABLE","$data",420],"[",["T_VARIABLE","$attribute",420],["T_OBJECT_OPERATOR","->",420],["T_STRING","getAttributeCode",420],"(",")","]",")",";",["T_WHITESPACE","\n        ",420],"}",["T_WHITESPACE","\n\n        ",421],["T_RETURN","return",423],["T_WHITESPACE"," ",423],["T_VARIABLE","$this",423],";",["T_WHITESPACE","\n    ",423],"}",["T_WHITESPACE","\n\n    ",424],["T_DOC_COMMENT","\/**\n     * Restore data array from SESSION to current entity\n     *\n     * @param array $data\n     * @return Mage_Eav_Model_Form\n     *\/",426],["T_WHITESPACE","\n    ",431],["T_PUBLIC","public",432],["T_WHITESPACE"," ",432],["T_FUNCTION","function",432],["T_WHITESPACE"," ",432],["T_STRING","restoreData",432],"(",["T_ARRAY","array",432],["T_WHITESPACE"," ",432],["T_VARIABLE","$data",432],")",["T_WHITESPACE","\n    ",432],"{",["T_WHITESPACE","\n        ",433],["T_FOREACH","foreach",434],["T_WHITESPACE"," ",434],"(",["T_VARIABLE","$this",434],["T_OBJECT_OPERATOR","->",434],["T_STRING","getAttributes",434],"(",")",["T_WHITESPACE"," ",434],["T_AS","as",434],["T_WHITESPACE"," ",434],["T_VARIABLE","$attribute",434],")",["T_WHITESPACE"," ",434],"{",["T_WHITESPACE","\n            ",434],["T_IF","if",435],["T_WHITESPACE"," ",435],"(",["T_VARIABLE","$this",435],["T_OBJECT_OPERATOR","->",435],["T_STRING","_isAttributeOmitted",435],"(",["T_VARIABLE","$attribute",435],")",")",["T_WHITESPACE"," ",435],"{",["T_WHITESPACE","\n                ",435],["T_CONTINUE","continue",436],";",["T_WHITESPACE","\n            ",436],"}",["T_WHITESPACE","\n            ",437],["T_VARIABLE","$dataModel",438],["T_WHITESPACE"," ",438],"=",["T_WHITESPACE"," ",438],["T_VARIABLE","$this",438],["T_OBJECT_OPERATOR","->",438],["T_STRING","_getAttributeDataModel",438],"(",["T_VARIABLE","$attribute",438],")",";",["T_WHITESPACE","\n            ",438],["T_VARIABLE","$dataModel",439],["T_OBJECT_OPERATOR","->",439],["T_STRING","setExtractedData",439],"(",["T_VARIABLE","$data",439],")",";",["T_WHITESPACE","\n            ",439],["T_IF","if",440],["T_WHITESPACE"," ",440],"(","!",["T_ISSET","isset",440],"(",["T_VARIABLE","$data",440],"[",["T_VARIABLE","$attribute",440],["T_OBJECT_OPERATOR","->",440],["T_STRING","getAttributeCode",440],"(",")","]",")",")",["T_WHITESPACE"," ",440],"{",["T_WHITESPACE","\n                ",440],["T_VARIABLE","$data",441],"[",["T_VARIABLE","$attribute",441],["T_OBJECT_OPERATOR","->",441],["T_STRING","getAttributeCode",441],"(",")","]",["T_WHITESPACE"," ",441],"=",["T_WHITESPACE"," ",441],["T_STRING","false",441],";",["T_WHITESPACE","\n            ",441],"}",["T_WHITESPACE","\n            ",442],["T_VARIABLE","$dataModel",443],["T_OBJECT_OPERATOR","->",443],["T_STRING","restoreValue",443],"(",["T_VARIABLE","$data",443],"[",["T_VARIABLE","$attribute",443],["T_OBJECT_OPERATOR","->",443],["T_STRING","getAttributeCode",443],"(",")","]",")",";",["T_WHITESPACE","\n        ",443],"}",["T_WHITESPACE","\n        ",444],["T_RETURN","return",445],["T_WHITESPACE"," ",445],["T_VARIABLE","$this",445],";",["T_WHITESPACE","\n    ",445],"}",["T_WHITESPACE","\n\n    ",446],["T_DOC_COMMENT","\/**\n     * Return array of entity formated values\n     *\n     * @param string $format\n     * @return array\n     *\/",448],["T_WHITESPACE","\n    ",453],["T_PUBLIC","public",454],["T_WHITESPACE"," ",454],["T_FUNCTION","function",454],["T_WHITESPACE"," ",454],["T_STRING","outputData",454],"(",["T_VARIABLE","$format",454],["T_WHITESPACE"," ",454],"=",["T_WHITESPACE"," ",454],["T_STRING","Mage_Eav_Model_Attribute_Data",454],["T_DOUBLE_COLON","::",454],["T_STRING","OUTPUT_FORMAT_TEXT",454],")",["T_WHITESPACE","\n    ",454],"{",["T_WHITESPACE","\n        ",455],["T_VARIABLE","$data",456],["T_WHITESPACE"," ",456],"=",["T_WHITESPACE"," ",456],["T_ARRAY","array",456],"(",")",";",["T_WHITESPACE","\n        ",456],["T_FOREACH","foreach",457],["T_WHITESPACE"," ",457],"(",["T_VARIABLE","$this",457],["T_OBJECT_OPERATOR","->",457],["T_STRING","getAttributes",457],"(",")",["T_WHITESPACE"," ",457],["T_AS","as",457],["T_WHITESPACE"," ",457],["T_VARIABLE","$attribute",457],")",["T_WHITESPACE"," ",457],"{",["T_WHITESPACE","\n            ",457],["T_IF","if",458],["T_WHITESPACE"," ",458],"(",["T_VARIABLE","$this",458],["T_OBJECT_OPERATOR","->",458],["T_STRING","_isAttributeOmitted",458],"(",["T_VARIABLE","$attribute",458],")",")",["T_WHITESPACE"," ",458],"{",["T_WHITESPACE","\n                ",458],["T_CONTINUE","continue",459],";",["T_WHITESPACE","\n            ",459],"}",["T_WHITESPACE","\n            ",460],["T_VARIABLE","$dataModel",461],["T_WHITESPACE"," ",461],"=",["T_WHITESPACE"," ",461],["T_VARIABLE","$this",461],["T_OBJECT_OPERATOR","->",461],["T_STRING","_getAttributeDataModel",461],"(",["T_VARIABLE","$attribute",461],")",";",["T_WHITESPACE","\n            ",461],["T_VARIABLE","$dataModel",462],["T_OBJECT_OPERATOR","->",462],["T_STRING","setExtractedData",462],"(",["T_VARIABLE","$data",462],")",";",["T_WHITESPACE","\n            ",462],["T_VARIABLE","$data",463],"[",["T_VARIABLE","$attribute",463],["T_OBJECT_OPERATOR","->",463],["T_STRING","getAttributeCode",463],"(",")","]",["T_WHITESPACE"," ",463],"=",["T_WHITESPACE"," ",463],["T_VARIABLE","$dataModel",463],["T_OBJECT_OPERATOR","->",463],["T_STRING","outputValue",463],"(",["T_VARIABLE","$format",463],")",";",["T_WHITESPACE","\n        ",463],"}",["T_WHITESPACE","\n        ",464],["T_RETURN","return",465],["T_WHITESPACE"," ",465],["T_VARIABLE","$data",465],";",["T_WHITESPACE","\n    ",465],"}",["T_WHITESPACE","\n\n    ",466],["T_DOC_COMMENT","\/**\n     * Restore entity original data\n     *\n     * @return Mage_Eav_Model_Form\n     *\/",468],["T_WHITESPACE","\n    ",472],["T_PUBLIC","public",473],["T_WHITESPACE"," ",473],["T_FUNCTION","function",473],["T_WHITESPACE"," ",473],["T_STRING","resetEntityData",473],"(",")",["T_WHITESPACE","\n    ",473],"{",["T_WHITESPACE","\n        ",474],["T_FOREACH","foreach",475],["T_WHITESPACE"," ",475],"(",["T_VARIABLE","$this",475],["T_OBJECT_OPERATOR","->",475],["T_STRING","getAttributes",475],"(",")",["T_WHITESPACE"," ",475],["T_AS","as",475],["T_WHITESPACE"," ",475],["T_VARIABLE","$attribute",475],")",["T_WHITESPACE"," ",475],"{",["T_WHITESPACE","\n            ",475],["T_IF","if",476],["T_WHITESPACE"," ",476],"(",["T_VARIABLE","$this",476],["T_OBJECT_OPERATOR","->",476],["T_STRING","_isAttributeOmitted",476],"(",["T_VARIABLE","$attribute",476],")",")",["T_WHITESPACE"," ",476],"{",["T_WHITESPACE","\n                ",476],["T_CONTINUE","continue",477],";",["T_WHITESPACE","\n            ",477],"}",["T_WHITESPACE","\n            ",478],["T_VARIABLE","$value",479],["T_WHITESPACE"," ",479],"=",["T_WHITESPACE"," ",479],["T_VARIABLE","$this",479],["T_OBJECT_OPERATOR","->",479],["T_STRING","getEntity",479],"(",")",["T_OBJECT_OPERATOR","->",479],["T_STRING","getOrigData",479],"(",["T_VARIABLE","$attribute",479],["T_OBJECT_OPERATOR","->",479],["T_STRING","getAttributeCode",479],"(",")",")",";",["T_WHITESPACE","\n            ",479],["T_VARIABLE","$this",480],["T_OBJECT_OPERATOR","->",480],["T_STRING","getEntity",480],"(",")",["T_OBJECT_OPERATOR","->",480],["T_STRING","setData",480],"(",["T_VARIABLE","$attribute",480],["T_OBJECT_OPERATOR","->",480],["T_STRING","getAttributeCode",480],"(",")",",",["T_WHITESPACE"," ",480],["T_VARIABLE","$value",480],")",";",["T_WHITESPACE","\n        ",480],"}",["T_WHITESPACE","\n        ",481],["T_RETURN","return",482],["T_WHITESPACE"," ",482],["T_VARIABLE","$this",482],";",["T_WHITESPACE","\n    ",482],"}",["T_WHITESPACE","\n\n    ",483],["T_DOC_COMMENT","\/**\n     * Set is AJAX Request flag\n     *\n     * @param boolean $flag\n     * @return Mage_Eav_Model_Form\n     *\/",485],["T_WHITESPACE","\n    ",490],["T_PUBLIC","public",491],["T_WHITESPACE"," ",491],["T_FUNCTION","function",491],["T_WHITESPACE"," ",491],["T_STRING","setIsAjaxRequest",491],"(",["T_VARIABLE","$flag",491],["T_WHITESPACE"," ",491],"=",["T_WHITESPACE"," ",491],["T_STRING","true",491],")",["T_WHITESPACE","\n    ",491],"{",["T_WHITESPACE","\n        ",492],["T_VARIABLE","$this",493],["T_OBJECT_OPERATOR","->",493],["T_STRING","_isAjax",493],["T_WHITESPACE"," ",493],"=",["T_WHITESPACE"," ",493],["T_BOOL_CAST","(bool)",493],["T_VARIABLE","$flag",493],";",["T_WHITESPACE","\n        ",493],["T_RETURN","return",494],["T_WHITESPACE"," ",494],["T_VARIABLE","$this",494],";",["T_WHITESPACE","\n    ",494],"}",["T_WHITESPACE","\n\n    ",495],["T_DOC_COMMENT","\/**\n     * Return is AJAX Request\n     *\n     * @return boolean\n     *\/",497],["T_WHITESPACE","\n    ",501],["T_PUBLIC","public",502],["T_WHITESPACE"," ",502],["T_FUNCTION","function",502],["T_WHITESPACE"," ",502],["T_STRING","getIsAjaxRequest",502],"(",")",["T_WHITESPACE","\n    ",502],"{",["T_WHITESPACE","\n        ",503],["T_RETURN","return",504],["T_WHITESPACE"," ",504],["T_VARIABLE","$this",504],["T_OBJECT_OPERATOR","->",504],["T_STRING","_isAjax",504],";",["T_WHITESPACE","\n    ",504],"}",["T_WHITESPACE","\n\n    ",505],["T_DOC_COMMENT","\/**\n     * Set default attribute values for new entity\n     *\n     * @return Mage_Eav_Model_Form\n     *\/",507],["T_WHITESPACE","\n    ",511],["T_PUBLIC","public",512],["T_WHITESPACE"," ",512],["T_FUNCTION","function",512],["T_WHITESPACE"," ",512],["T_STRING","initDefaultValues",512],"(",")",["T_WHITESPACE","\n    ",512],"{",["T_WHITESPACE","\n        ",513],["T_IF","if",514],["T_WHITESPACE"," ",514],"(","!",["T_VARIABLE","$this",514],["T_OBJECT_OPERATOR","->",514],["T_STRING","getEntity",514],"(",")",["T_OBJECT_OPERATOR","->",514],["T_STRING","getId",514],"(",")",")",["T_WHITESPACE"," ",514],"{",["T_WHITESPACE","\n            ",514],["T_FOREACH","foreach",515],["T_WHITESPACE"," ",515],"(",["T_VARIABLE","$this",515],["T_OBJECT_OPERATOR","->",515],["T_STRING","getAttributes",515],"(",")",["T_WHITESPACE"," ",515],["T_AS","as",515],["T_WHITESPACE"," ",515],["T_VARIABLE","$attribute",515],")",["T_WHITESPACE"," ",515],"{",["T_WHITESPACE","\n                ",515],["T_VARIABLE","$default",516],["T_WHITESPACE"," ",516],"=",["T_WHITESPACE"," ",516],["T_VARIABLE","$attribute",516],["T_OBJECT_OPERATOR","->",516],["T_STRING","getDefaultValue",516],"(",")",";",["T_WHITESPACE","\n                ",516],["T_IF","if",517],["T_WHITESPACE"," ",517],"(",["T_VARIABLE","$default",517],["T_WHITESPACE"," ",517],["T_IS_NOT_EQUAL","!=",517],["T_WHITESPACE"," ",517],["T_CONSTANT_ENCAPSED_STRING","''",517],")",["T_WHITESPACE"," ",517],"{",["T_WHITESPACE","\n                    ",517],["T_VARIABLE","$this",518],["T_OBJECT_OPERATOR","->",518],["T_STRING","getEntity",518],"(",")",["T_OBJECT_OPERATOR","->",518],["T_STRING","setData",518],"(",["T_VARIABLE","$attribute",518],["T_OBJECT_OPERATOR","->",518],["T_STRING","getAttributeCode",518],"(",")",",",["T_WHITESPACE"," ",518],["T_VARIABLE","$default",518],")",";",["T_WHITESPACE","\n                ",518],"}",["T_WHITESPACE","\n            ",519],"}",["T_WHITESPACE","\n        ",520],"}",["T_WHITESPACE","\n        ",521],["T_RETURN","return",522],["T_WHITESPACE"," ",522],["T_VARIABLE","$this",522],";",["T_WHITESPACE","\n    ",522],"}",["T_WHITESPACE","\n\n    ",523],["T_DOC_COMMENT","\/**\n     * Combined getter\/setter whether to omit invisible attributes during rendering\/validation\n     *\n     * @param mixed $setValue\n     * @return bool|Mage_Eav_Model_Form\n     *\/",525],["T_WHITESPACE","\n    ",530],["T_PUBLIC","public",531],["T_WHITESPACE"," ",531],["T_FUNCTION","function",531],["T_WHITESPACE"," ",531],["T_STRING","ignoreInvisible",531],"(",["T_VARIABLE","$setValue",531],["T_WHITESPACE"," ",531],"=",["T_WHITESPACE"," ",531],["T_STRING","null",531],")",["T_WHITESPACE","\n    ",531],"{",["T_WHITESPACE","\n        ",532],["T_IF","if",533],["T_WHITESPACE"," ",533],"(",["T_STRING","null",533],["T_WHITESPACE"," ",533],["T_IS_NOT_IDENTICAL","!==",533],["T_WHITESPACE"," ",533],["T_VARIABLE","$setValue",533],")",["T_WHITESPACE"," ",533],"{",["T_WHITESPACE","\n            ",533],["T_VARIABLE","$this",534],["T_OBJECT_OPERATOR","->",534],["T_STRING","_ignoreInvisible",534],["T_WHITESPACE"," ",534],"=",["T_WHITESPACE"," ",534],["T_BOOL_CAST","(bool)",534],["T_VARIABLE","$setValue",534],";",["T_WHITESPACE","\n            ",534],["T_RETURN","return",535],["T_WHITESPACE"," ",535],["T_VARIABLE","$this",535],";",["T_WHITESPACE","\n        ",535],"}",["T_WHITESPACE","\n        ",536],["T_RETURN","return",537],["T_WHITESPACE"," ",537],["T_VARIABLE","$this",537],["T_OBJECT_OPERATOR","->",537],["T_STRING","_ignoreInvisible",537],";",["T_WHITESPACE","\n    ",537],"}",["T_WHITESPACE","\n\n    ",538],["T_DOC_COMMENT","\/**\n     * Whether the specified attribute needs to skip rendering\/validation\n     *\n     * @param Mage_Eav_Model_Attribute $attribute\n     * @return bool\n     *\/",540],["T_WHITESPACE","\n    ",545],["T_PROTECTED","protected",546],["T_WHITESPACE"," ",546],["T_FUNCTION","function",546],["T_WHITESPACE"," ",546],["T_STRING","_isAttributeOmitted",546],"(",["T_VARIABLE","$attribute",546],")",["T_WHITESPACE","\n    ",546],"{",["T_WHITESPACE","\n        ",547],["T_IF","if",548],["T_WHITESPACE"," ",548],"(",["T_VARIABLE","$this",548],["T_OBJECT_OPERATOR","->",548],["T_STRING","_ignoreInvisible",548],["T_WHITESPACE"," ",548],["T_BOOLEAN_AND","&&",548],["T_WHITESPACE"," ",548],"!",["T_VARIABLE","$attribute",548],["T_OBJECT_OPERATOR","->",548],["T_STRING","getIsVisible",548],"(",")",")",["T_WHITESPACE"," ",548],"{",["T_WHITESPACE","\n            ",548],["T_RETURN","return",549],["T_WHITESPACE"," ",549],["T_STRING","true",549],";",["T_WHITESPACE","\n        ",549],"}",["T_WHITESPACE","\n        ",550],["T_RETURN","return",551],["T_WHITESPACE"," ",551],["T_STRING","false",551],";",["T_WHITESPACE","\n    ",551],"}",["T_WHITESPACE","\n",552],"}",["T_WHITESPACE","\n",553]]