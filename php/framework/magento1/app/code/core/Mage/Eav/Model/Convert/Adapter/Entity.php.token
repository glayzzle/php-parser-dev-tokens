[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Magento\n *\n * NOTICE OF LICENSE\n *\n * This source file is subject to the Open Software License (OSL 3.0)\n * that is bundled with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/opensource.org\/licenses\/osl-3.0.php\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@magento.com so we can send you a copy immediately.\n *\n * DISCLAIMER\n *\n * Do not edit or add to this file if you wish to upgrade Magento to newer\n * versions in the future. If you wish to customize Magento for your\n * needs please refer to http:\/\/www.magento.com for more information.\n *\n * @category    Mage\n * @package     Mage_Eav\n * @copyright  Copyright (c) 2006-2016 X.commerce, Inc. and affiliates (http:\/\/www.magento.com)\n * @license    http:\/\/opensource.org\/licenses\/osl-3.0.php  Open Software License (OSL 3.0)\n *\/",2],["T_WHITESPACE","\n\n\n",25],["T_CLASS","class",28],["T_WHITESPACE"," ",28],["T_STRING","Mage_Eav_Model_Convert_Adapter_Entity",28],["T_WHITESPACE","\n    ",28],["T_EXTENDS","extends",29],["T_WHITESPACE"," ",29],["T_STRING","Mage_Dataflow_Model_Convert_Adapter_Abstract",29],["T_WHITESPACE","\n",29],"{",["T_WHITESPACE","\n    ",30],["T_DOC_COMMENT","\/**\n     * Current store model\n     *\n     * @var Mage_Core_Model_Store\n     *\/",31],["T_WHITESPACE","\n    ",35],["T_PROTECTED","protected",36],["T_WHITESPACE"," ",36],["T_VARIABLE","$_store",36],";",["T_WHITESPACE","\n\n    ",36],["T_PROTECTED","protected",38],["T_WHITESPACE"," ",38],["T_VARIABLE","$_filter",38],["T_WHITESPACE"," ",38],"=",["T_WHITESPACE"," ",38],["T_ARRAY","array",38],"(",")",";",["T_WHITESPACE","\n    ",38],["T_PROTECTED","protected",39],["T_WHITESPACE"," ",39],["T_VARIABLE","$_joinFilter",39],["T_WHITESPACE"," ",39],"=",["T_WHITESPACE"," ",39],["T_ARRAY","array",39],"(",")",";",["T_WHITESPACE","\n    ",39],["T_PROTECTED","protected",40],["T_WHITESPACE"," ",40],["T_VARIABLE","$_joinAttr",40],["T_WHITESPACE"," ",40],"=",["T_WHITESPACE"," ",40],["T_ARRAY","array",40],"(",")",";",["T_WHITESPACE","\n    ",40],["T_PROTECTED","protected",41],["T_WHITESPACE"," ",41],["T_VARIABLE","$_attrToDb",41],";",["T_WHITESPACE","\n    ",41],["T_PROTECTED","protected",42],["T_WHITESPACE"," ",42],["T_VARIABLE","$_joinField",42],["T_WHITESPACE"," ",42],"=",["T_WHITESPACE"," ",42],["T_ARRAY","array",42],"(",")",";",["T_WHITESPACE","\n\n    ",42],["T_DOC_COMMENT","\/**\n     * Retrieve store Id\n     *\n     * @return int\n     *\/",44],["T_WHITESPACE","\n    ",48],["T_PUBLIC","public",49],["T_WHITESPACE"," ",49],["T_FUNCTION","function",49],["T_WHITESPACE"," ",49],["T_STRING","getStoreId",49],"(",")",["T_WHITESPACE","\n    ",49],"{",["T_WHITESPACE","\n        ",50],["T_IF","if",51],["T_WHITESPACE"," ",51],"(",["T_STRING","is_null",51],"(",["T_VARIABLE","$this",51],["T_OBJECT_OPERATOR","->",51],["T_STRING","_store",51],")",")",["T_WHITESPACE"," ",51],"{",["T_WHITESPACE","\n            ",51],["T_TRY","try",52],["T_WHITESPACE"," ",52],"{",["T_WHITESPACE","\n                ",52],["T_VARIABLE","$this",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","_store",53],["T_WHITESPACE"," ",53],"=",["T_WHITESPACE"," ",53],["T_STRING","Mage",53],["T_DOUBLE_COLON","::",53],["T_STRING","app",53],"(",")",["T_OBJECT_OPERATOR","->",53],["T_STRING","getStore",53],"(",["T_VARIABLE","$this",53],["T_OBJECT_OPERATOR","->",53],["T_STRING","getVar",53],"(",["T_CONSTANT_ENCAPSED_STRING","'store'",53],")",")",";",["T_WHITESPACE","\n            ",53],"}",["T_WHITESPACE","\n            ",54],["T_CATCH","catch",55],["T_WHITESPACE"," ",55],"(",["T_STRING","Exception",55],["T_WHITESPACE"," ",55],["T_VARIABLE","$e",55],")",["T_WHITESPACE"," ",55],"{",["T_WHITESPACE","\n                ",55],["T_VARIABLE","$message",56],["T_WHITESPACE"," ",56],"=",["T_WHITESPACE"," ",56],["T_STRING","Mage",56],["T_DOUBLE_COLON","::",56],["T_STRING","helper",56],"(",["T_CONSTANT_ENCAPSED_STRING","'eav'",56],")",["T_OBJECT_OPERATOR","->",56],["T_STRING","__",56],"(",["T_CONSTANT_ENCAPSED_STRING","'Invalid store specified'",56],")",";",["T_WHITESPACE","\n                ",56],["T_VARIABLE","$this",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","addException",57],"(",["T_VARIABLE","$message",57],",",["T_WHITESPACE"," ",57],["T_STRING","Varien_Convert_Exception",57],["T_DOUBLE_COLON","::",57],["T_STRING","FATAL",57],")",";",["T_WHITESPACE","\n                ",57],["T_THROW","throw",58],["T_WHITESPACE"," ",58],["T_VARIABLE","$e",58],";",["T_WHITESPACE","\n            ",58],"}",["T_WHITESPACE","\n        ",59],"}",["T_WHITESPACE","\n        ",60],["T_RETURN","return",61],["T_WHITESPACE"," ",61],["T_VARIABLE","$this",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","_store",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","getId",61],"(",")",";",["T_WHITESPACE","\n    ",61],"}",["T_WHITESPACE","\n\n    ",62],["T_DOC_COMMENT","\/**\n     * @param $attrFilter - $attrArray['attrDB']   = ['like','eq','fromTo','dateFromTo]\n     * @param $attrToDb    - attribute name to DB field\n     * @return Mage_Eav_Model_Convert_Adapter_Entity\n    *\/",64],["T_WHITESPACE","\n    ",68],["T_PROTECTED","protected",69],["T_WHITESPACE"," ",69],["T_FUNCTION","function",69],["T_WHITESPACE"," ",69],["T_STRING","_parseVars",69],"(",")",["T_WHITESPACE","\n    ",69],"{",["T_WHITESPACE","\n        ",70],["T_VARIABLE","$varFilters",71],["T_WHITESPACE"," ",71],"=",["T_WHITESPACE"," ",71],["T_VARIABLE","$this",71],["T_OBJECT_OPERATOR","->",71],["T_STRING","getVars",71],"(",")",";",["T_WHITESPACE","\n        ",71],["T_VARIABLE","$filters",72],["T_WHITESPACE"," ",72],"=",["T_WHITESPACE"," ",72],["T_ARRAY","array",72],"(",")",";",["T_WHITESPACE","\n        ",72],["T_FOREACH","foreach",73],["T_WHITESPACE"," ",73],"(",["T_VARIABLE","$varFilters",73],["T_WHITESPACE"," ",73],["T_AS","as",73],["T_WHITESPACE"," ",73],["T_VARIABLE","$key",73],["T_WHITESPACE"," ",73],["T_DOUBLE_ARROW","=>",73],["T_WHITESPACE"," ",73],["T_VARIABLE","$val",73],")",["T_WHITESPACE"," ",73],"{",["T_WHITESPACE","\n            ",73],["T_IF","if",74],["T_WHITESPACE"," ",74],"(",["T_STRING","substr",74],"(",["T_VARIABLE","$key",74],",",["T_LNUMBER","0",74],",",["T_LNUMBER","6",74],")",["T_WHITESPACE"," ",74],["T_IS_IDENTICAL","===",74],["T_WHITESPACE"," ",74],["T_CONSTANT_ENCAPSED_STRING","'filter'",74],")",["T_WHITESPACE"," ",74],"{",["T_WHITESPACE","\n                ",74],["T_VARIABLE","$keys",75],["T_WHITESPACE"," ",75],"=",["T_WHITESPACE"," ",75],["T_STRING","explode",75],"(",["T_CONSTANT_ENCAPSED_STRING","'\/'",75],",",["T_WHITESPACE"," ",75],["T_VARIABLE","$key",75],",",["T_WHITESPACE"," ",75],["T_LNUMBER","2",75],")",";",["T_WHITESPACE","\n                ",75],["T_VARIABLE","$filters",76],"[",["T_VARIABLE","$keys",76],"[",["T_LNUMBER","1",76],"]","]",["T_WHITESPACE"," ",76],"=",["T_WHITESPACE"," ",76],["T_VARIABLE","$val",76],";",["T_WHITESPACE","\n            ",76],"}",["T_WHITESPACE","\n        ",77],"}",["T_WHITESPACE","\n        ",78],["T_RETURN","return",79],["T_WHITESPACE"," ",79],["T_VARIABLE","$filters",79],";",["T_WHITESPACE","\n    ",79],"}",["T_WHITESPACE","\n\n    ",80],["T_PUBLIC","public",82],["T_WHITESPACE"," ",82],["T_FUNCTION","function",82],["T_WHITESPACE"," ",82],["T_STRING","setFilter",82],"(",["T_VARIABLE","$attrFilterArray",82],",",["T_WHITESPACE"," ",82],["T_VARIABLE","$attrToDb",82],["T_WHITESPACE"," ",82],"=",["T_WHITESPACE"," ",82],["T_STRING","null",82],",",["T_WHITESPACE"," ",82],["T_VARIABLE","$bind",82],["T_WHITESPACE"," ",82],"=",["T_WHITESPACE"," ",82],["T_STRING","null",82],",",["T_WHITESPACE"," ",82],["T_VARIABLE","$joinType",82],["T_WHITESPACE"," ",82],"=",["T_WHITESPACE"," ",82],["T_STRING","null",82],")",["T_WHITESPACE","\n    ",82],"{",["T_WHITESPACE","\n        ",83],["T_IF","if",84],["T_WHITESPACE"," ",84],"(",["T_STRING","is_null",84],"(",["T_VARIABLE","$bind",84],")",")",["T_WHITESPACE"," ",84],"{",["T_WHITESPACE","\n            ",84],["T_VARIABLE","$defBind",85],["T_WHITESPACE"," ",85],"=",["T_WHITESPACE"," ",85],["T_CONSTANT_ENCAPSED_STRING","'entity_id'",85],";",["T_WHITESPACE","\n        ",85],"}",["T_WHITESPACE","\n        ",86],["T_IF","if",87],["T_WHITESPACE"," ",87],"(",["T_STRING","is_null",87],"(",["T_VARIABLE","$joinType",87],")",")",["T_WHITESPACE"," ",87],"{",["T_WHITESPACE","\n            ",87],["T_VARIABLE","$joinType",88],["T_WHITESPACE"," ",88],"=",["T_WHITESPACE"," ",88],["T_CONSTANT_ENCAPSED_STRING","'LEFT'",88],";",["T_WHITESPACE","\n        ",88],"}",["T_WHITESPACE","\n\n        ",89],["T_VARIABLE","$this",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","_attrToDb",91],"=",["T_VARIABLE","$attrToDb",91],";",["T_WHITESPACE","\n        ",91],["T_VARIABLE","$filters",92],["T_WHITESPACE"," ",92],"=",["T_WHITESPACE"," ",92],["T_VARIABLE","$this",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","_parseVars",92],"(",")",";",["T_WHITESPACE","\n\n        ",92],["T_FOREACH","foreach",94],["T_WHITESPACE"," ",94],"(",["T_VARIABLE","$attrFilterArray",94],["T_WHITESPACE"," ",94],["T_AS","as",94],["T_WHITESPACE"," ",94],["T_VARIABLE","$key",94],["T_WHITESPACE"," ",94],["T_DOUBLE_ARROW","=>",94],["T_WHITESPACE"," ",94],["T_VARIABLE","$type",94],")",["T_WHITESPACE"," ",94],"{",["T_WHITESPACE","\n            ",94],["T_IF","if",95],["T_WHITESPACE"," ",95],"(",["T_STRING","is_array",95],"(",["T_VARIABLE","$type",95],")",")",["T_WHITESPACE"," ",95],"{",["T_WHITESPACE","\n                ",95],["T_IF","if",96],["T_WHITESPACE"," ",96],"(",["T_ISSET","isset",96],"(",["T_VARIABLE","$type",96],"[",["T_CONSTANT_ENCAPSED_STRING","'bind'",96],"]",")",")",["T_WHITESPACE"," ",96],"{",["T_WHITESPACE","\n                   ",96],["T_VARIABLE","$bind",97],["T_WHITESPACE"," ",97],"=",["T_WHITESPACE"," ",97],["T_VARIABLE","$type",97],"[",["T_CONSTANT_ENCAPSED_STRING","'bind'",97],"]",";",["T_WHITESPACE","\n                ",97],"}",["T_WHITESPACE"," ",98],["T_ELSE","else",98],["T_WHITESPACE"," ",98],"{",["T_WHITESPACE","\n                   ",98],["T_VARIABLE","$bind",99],["T_WHITESPACE"," ",99],"=",["T_WHITESPACE"," ",99],["T_VARIABLE","$defBind",99],";",["T_WHITESPACE","\n                ",99],"}",["T_WHITESPACE","\n                ",100],["T_VARIABLE","$type",101],["T_WHITESPACE"," ",101],"=",["T_WHITESPACE"," ",101],["T_VARIABLE","$type",101],"[",["T_CONSTANT_ENCAPSED_STRING","'type'",101],"]",";",["T_WHITESPACE","\n            ",101],"}",["T_WHITESPACE","\n\n            ",102],["T_IF","if",104],["T_WHITESPACE"," ",104],"(",["T_VARIABLE","$type",104],["T_WHITESPACE"," ",104],["T_IS_EQUAL","==",104],["T_WHITESPACE"," ",104],["T_CONSTANT_ENCAPSED_STRING","'dateFromTo'",104],["T_WHITESPACE"," ",104],["T_BOOLEAN_OR","||",104],["T_WHITESPACE"," ",104],["T_VARIABLE","$type",104],["T_WHITESPACE"," ",104],["T_IS_EQUAL","==",104],["T_WHITESPACE"," ",104],["T_CONSTANT_ENCAPSED_STRING","'datetimeFromTo'",104],")",["T_WHITESPACE"," ",104],"{",["T_WHITESPACE","\n                ",104],["T_FOREACH","foreach",105],["T_WHITESPACE"," ",105],"(",["T_VARIABLE","$filters",105],["T_WHITESPACE"," ",105],["T_AS","as",105],["T_WHITESPACE"," ",105],["T_VARIABLE","$k",105],["T_WHITESPACE"," ",105],["T_DOUBLE_ARROW","=>",105],["T_WHITESPACE"," ",105],["T_VARIABLE","$v",105],")",["T_WHITESPACE"," ",105],"{",["T_WHITESPACE","\n                    ",105],["T_IF","if",106],["T_WHITESPACE"," ",106],"(",["T_STRING","strpos",106],"(",["T_VARIABLE","$k",106],",",["T_WHITESPACE"," ",106],["T_VARIABLE","$key",106],["T_WHITESPACE"," ",106],".",["T_WHITESPACE"," ",106],["T_CONSTANT_ENCAPSED_STRING","'\/'",106],")",["T_WHITESPACE"," ",106],["T_IS_IDENTICAL","===",106],["T_WHITESPACE"," ",106],["T_LNUMBER","0",106],")",["T_WHITESPACE"," ",106],"{",["T_WHITESPACE","\n                        ",106],["T_VARIABLE","$split",107],["T_WHITESPACE"," ",107],"=",["T_WHITESPACE"," ",107],["T_STRING","explode",107],"(",["T_CONSTANT_ENCAPSED_STRING","'\/'",107],",",["T_WHITESPACE"," ",107],["T_VARIABLE","$k",107],")",";",["T_WHITESPACE","\n                        ",107],["T_VARIABLE","$filters",108],"[",["T_VARIABLE","$key",108],"]","[",["T_VARIABLE","$split",108],"[",["T_LNUMBER","1",108],"]","]",["T_WHITESPACE"," ",108],"=",["T_WHITESPACE"," ",108],["T_VARIABLE","$v",108],";",["T_WHITESPACE","\n                    ",108],"}",["T_WHITESPACE","\n                ",109],"}",["T_WHITESPACE","\n            ",110],"}",["T_WHITESPACE","\n\n            ",111],["T_VARIABLE","$keyDB",113],["T_WHITESPACE"," ",113],"=",["T_WHITESPACE"," ",113],"(",["T_ISSET","isset",113],"(",["T_VARIABLE","$this",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","_attrToDb",113],"[",["T_VARIABLE","$key",113],"]",")",")",["T_WHITESPACE"," ",113],"?",["T_WHITESPACE"," ",113],["T_VARIABLE","$this",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","_attrToDb",113],"[",["T_VARIABLE","$key",113],"]",["T_WHITESPACE"," ",113],":",["T_WHITESPACE"," ",113],["T_VARIABLE","$key",113],";",["T_WHITESPACE","\n\n            ",113],["T_VARIABLE","$exp",115],["T_WHITESPACE"," ",115],"=",["T_WHITESPACE"," ",115],["T_STRING","explode",115],"(",["T_CONSTANT_ENCAPSED_STRING","'\/'",115],",",["T_VARIABLE","$key",115],")",";",["T_WHITESPACE","\n\n            ",115],["T_IF","if",117],"(",["T_ISSET","isset",117],"(",["T_VARIABLE","$exp",117],"[",["T_LNUMBER","1",117],"]",")",")","{",["T_WHITESPACE","\n                ",117],["T_IF","if",118],"(",["T_ISSET","isset",118],"(",["T_VARIABLE","$filters",118],"[",["T_VARIABLE","$exp",118],"[",["T_LNUMBER","1",118],"]","]",")",")","{",["T_WHITESPACE","\n                   ",118],["T_VARIABLE","$val",119],["T_WHITESPACE"," ",119],"=",["T_WHITESPACE"," ",119],["T_VARIABLE","$filters",119],"[",["T_VARIABLE","$exp",119],"[",["T_LNUMBER","1",119],"]","]",";",["T_WHITESPACE","\n                   ",119],["T_VARIABLE","$this",120],["T_OBJECT_OPERATOR","->",120],["T_STRING","setJoinAttr",120],"(",["T_ARRAY","array",120],"(",["T_WHITESPACE","\n                       ",120],["T_CONSTANT_ENCAPSED_STRING","'attribute'",121],["T_WHITESPACE"," ",121],["T_DOUBLE_ARROW","=>",121],["T_WHITESPACE"," ",121],["T_VARIABLE","$keyDB",121],",",["T_WHITESPACE","\n                       ",121],["T_CONSTANT_ENCAPSED_STRING","'bind'",122],["T_WHITESPACE"," ",122],["T_DOUBLE_ARROW","=>",122],["T_WHITESPACE"," ",122],["T_VARIABLE","$bind",122],",",["T_WHITESPACE","\n                       ",122],["T_CONSTANT_ENCAPSED_STRING","'joinType'",123],["T_WHITESPACE"," ",123],["T_DOUBLE_ARROW","=>",123],["T_WHITESPACE"," ",123],["T_VARIABLE","$joinType",123],["T_WHITESPACE","\n                    ",123],")",")",";",["T_WHITESPACE","\n                ",124],"}",["T_WHITESPACE"," ",125],["T_ELSE","else",125],["T_WHITESPACE"," ",125],"{",["T_WHITESPACE","\n                    ",125],["T_VARIABLE","$val",126],["T_WHITESPACE"," ",126],"=",["T_WHITESPACE"," ",126],["T_STRING","null",126],";",["T_WHITESPACE","\n                ",126],"}",["T_WHITESPACE","\n                ",127],["T_VARIABLE","$keyDB",128],["T_WHITESPACE"," ",128],"=",["T_WHITESPACE"," ",128],["T_STRING","str_replace",128],"(",["T_CONSTANT_ENCAPSED_STRING","'\/'",128],",",["T_CONSTANT_ENCAPSED_STRING","'_'",128],",",["T_VARIABLE","$keyDB",128],")",";",["T_WHITESPACE","\n            ",128],"}",["T_WHITESPACE"," ",129],["T_ELSE","else",129],["T_WHITESPACE"," ",129],"{",["T_WHITESPACE","\n                ",129],["T_VARIABLE","$val",130],["T_WHITESPACE"," ",130],"=",["T_WHITESPACE"," ",130],["T_ISSET","isset",130],"(",["T_VARIABLE","$filters",130],"[",["T_VARIABLE","$key",130],"]",")",["T_WHITESPACE"," ",130],"?",["T_WHITESPACE"," ",130],["T_VARIABLE","$filters",130],"[",["T_VARIABLE","$key",130],"]",["T_WHITESPACE"," ",130],":",["T_WHITESPACE"," ",130],["T_STRING","null",130],";",["T_WHITESPACE","\n            ",130],"}",["T_WHITESPACE","\n            ",131],["T_IF","if",132],["T_WHITESPACE"," ",132],"(",["T_STRING","is_null",132],"(",["T_VARIABLE","$val",132],")",")",["T_WHITESPACE"," ",132],"{",["T_WHITESPACE","\n                ",132],["T_CONTINUE","continue",133],";",["T_WHITESPACE","\n            ",133],"}",["T_WHITESPACE","\n            ",134],["T_VARIABLE","$attr",135],["T_WHITESPACE"," ",135],"=",["T_WHITESPACE"," ",135],["T_ARRAY","array",135],"(",")",";",["T_WHITESPACE","\n            ",135],["T_SWITCH","switch",136],["T_WHITESPACE"," ",136],"(",["T_VARIABLE","$type",136],")","{",["T_WHITESPACE","\n                ",136],["T_CASE","case",137],["T_WHITESPACE"," ",137],["T_CONSTANT_ENCAPSED_STRING","'eq'",137],":",["T_WHITESPACE","\n                    ",137],["T_VARIABLE","$attr",138],["T_WHITESPACE"," ",138],"=",["T_WHITESPACE"," ",138],["T_ARRAY","array",138],"(",["T_WHITESPACE","\n                        ",138],["T_CONSTANT_ENCAPSED_STRING","'attribute'",139],["T_WHITESPACE"," ",139],["T_DOUBLE_ARROW","=>",139],["T_WHITESPACE"," ",139],["T_VARIABLE","$keyDB",139],",",["T_WHITESPACE","\n                        ",139],["T_CONSTANT_ENCAPSED_STRING","'eq'",140],["T_WHITESPACE","        ",140],["T_DOUBLE_ARROW","=>",140],["T_WHITESPACE"," ",140],["T_VARIABLE","$val",140],["T_WHITESPACE","\n                    ",140],")",";",["T_WHITESPACE","\n                    ",141],["T_BREAK","break",142],";",["T_WHITESPACE","\n                ",142],["T_CASE","case",143],["T_WHITESPACE"," ",143],["T_CONSTANT_ENCAPSED_STRING","'like'",143],":",["T_WHITESPACE","\n                    ",143],["T_VARIABLE","$attr",144],["T_WHITESPACE"," ",144],"=",["T_WHITESPACE"," ",144],["T_ARRAY","array",144],"(",["T_WHITESPACE","\n                        ",144],["T_CONSTANT_ENCAPSED_STRING","'attribute'",145],["T_WHITESPACE"," ",145],["T_DOUBLE_ARROW","=>",145],["T_WHITESPACE"," ",145],["T_VARIABLE","$keyDB",145],",",["T_WHITESPACE","\n                        ",145],["T_CONSTANT_ENCAPSED_STRING","'like'",146],["T_WHITESPACE","      ",146],["T_DOUBLE_ARROW","=>",146],["T_WHITESPACE"," ",146],["T_CONSTANT_ENCAPSED_STRING","'%'",146],".",["T_VARIABLE","$val",146],".",["T_CONSTANT_ENCAPSED_STRING","'%'",146],["T_WHITESPACE","\n                    ",146],")",";",["T_WHITESPACE","\n                    ",147],["T_BREAK","break",148],";",["T_WHITESPACE","\n                ",148],["T_CASE","case",149],["T_WHITESPACE"," ",149],["T_CONSTANT_ENCAPSED_STRING","'startsWith'",149],":",["T_WHITESPACE","\n                     ",149],["T_VARIABLE","$attr",150],["T_WHITESPACE"," ",150],"=",["T_WHITESPACE"," ",150],["T_ARRAY","array",150],"(",["T_WHITESPACE","\n                         ",150],["T_CONSTANT_ENCAPSED_STRING","'attribute'",151],["T_WHITESPACE"," ",151],["T_DOUBLE_ARROW","=>",151],["T_WHITESPACE"," ",151],["T_VARIABLE","$keyDB",151],",",["T_WHITESPACE","\n                         ",151],["T_CONSTANT_ENCAPSED_STRING","'like'",152],["T_WHITESPACE","      ",152],["T_DOUBLE_ARROW","=>",152],["T_WHITESPACE"," ",152],["T_VARIABLE","$val",152],".",["T_CONSTANT_ENCAPSED_STRING","'%'",152],["T_WHITESPACE","\n                     ",152],")",";",["T_WHITESPACE","\n                     ",153],["T_BREAK","break",154],";",["T_WHITESPACE","\n                ",154],["T_CASE","case",155],["T_WHITESPACE"," ",155],["T_CONSTANT_ENCAPSED_STRING","'fromTo'",155],":",["T_WHITESPACE","\n                    ",155],["T_VARIABLE","$attr",156],["T_WHITESPACE"," ",156],"=",["T_WHITESPACE"," ",156],["T_ARRAY","array",156],"(",["T_WHITESPACE","\n                        ",156],["T_CONSTANT_ENCAPSED_STRING","'attribute'",157],["T_WHITESPACE"," ",157],["T_DOUBLE_ARROW","=>",157],["T_WHITESPACE"," ",157],["T_VARIABLE","$keyDB",157],",",["T_WHITESPACE","\n                        ",157],["T_CONSTANT_ENCAPSED_STRING","'from'",158],["T_WHITESPACE","      ",158],["T_DOUBLE_ARROW","=>",158],["T_WHITESPACE"," ",158],["T_VARIABLE","$val",158],"[",["T_CONSTANT_ENCAPSED_STRING","'from'",158],"]",",",["T_WHITESPACE","\n                        ",158],["T_CONSTANT_ENCAPSED_STRING","'to'",159],["T_WHITESPACE","        ",159],["T_DOUBLE_ARROW","=>",159],["T_WHITESPACE"," ",159],["T_VARIABLE","$val",159],"[",["T_CONSTANT_ENCAPSED_STRING","'to'",159],"]",["T_WHITESPACE","\n                    ",159],")",";",["T_WHITESPACE","\n                    ",160],["T_BREAK","break",161],";",["T_WHITESPACE","\n                ",161],["T_CASE","case",162],["T_WHITESPACE"," ",162],["T_CONSTANT_ENCAPSED_STRING","'dateFromTo'",162],":",["T_WHITESPACE","\n                    ",162],["T_VARIABLE","$attr",163],["T_WHITESPACE"," ",163],"=",["T_WHITESPACE"," ",163],["T_ARRAY","array",163],"(",["T_WHITESPACE","\n                        ",163],["T_CONSTANT_ENCAPSED_STRING","'attribute'",164],["T_WHITESPACE"," ",164],["T_DOUBLE_ARROW","=>",164],["T_WHITESPACE"," ",164],["T_VARIABLE","$keyDB",164],",",["T_WHITESPACE","\n                        ",164],["T_CONSTANT_ENCAPSED_STRING","'from'",165],["T_WHITESPACE","      ",165],["T_DOUBLE_ARROW","=>",165],["T_WHITESPACE"," ",165],["T_VARIABLE","$val",165],"[",["T_CONSTANT_ENCAPSED_STRING","'from'",165],"]",",",["T_WHITESPACE","\n                        ",165],["T_CONSTANT_ENCAPSED_STRING","'to'",166],["T_WHITESPACE","        ",166],["T_DOUBLE_ARROW","=>",166],["T_WHITESPACE"," ",166],["T_VARIABLE","$val",166],"[",["T_CONSTANT_ENCAPSED_STRING","'to'",166],"]",",",["T_WHITESPACE","\n                        ",166],["T_CONSTANT_ENCAPSED_STRING","'date'",167],["T_WHITESPACE","      ",167],["T_DOUBLE_ARROW","=>",167],["T_WHITESPACE"," ",167],["T_STRING","true",167],["T_WHITESPACE","\n                    ",167],")",";",["T_WHITESPACE","\n                    ",168],["T_BREAK","break",169],";",["T_WHITESPACE","\n                ",169],["T_CASE","case",170],["T_WHITESPACE"," ",170],["T_CONSTANT_ENCAPSED_STRING","'datetimeFromTo'",170],":",["T_WHITESPACE","\n                    ",170],["T_VARIABLE","$attr",171],["T_WHITESPACE"," ",171],"=",["T_WHITESPACE"," ",171],["T_ARRAY","array",171],"(",["T_WHITESPACE","\n                        ",171],["T_CONSTANT_ENCAPSED_STRING","'attribute'",172],["T_WHITESPACE"," ",172],["T_DOUBLE_ARROW","=>",172],["T_WHITESPACE"," ",172],["T_VARIABLE","$keyDB",172],",",["T_WHITESPACE","\n                        ",172],["T_CONSTANT_ENCAPSED_STRING","'from'",173],["T_WHITESPACE","      ",173],["T_DOUBLE_ARROW","=>",173],["T_WHITESPACE"," ",173],["T_ISSET","isset",173],"(",["T_VARIABLE","$val",173],"[",["T_CONSTANT_ENCAPSED_STRING","'from'",173],"]",")",["T_WHITESPACE"," ",173],"?",["T_WHITESPACE"," ",173],["T_VARIABLE","$val",173],"[",["T_CONSTANT_ENCAPSED_STRING","'from'",173],"]",["T_WHITESPACE"," ",173],":",["T_WHITESPACE"," ",173],["T_STRING","null",173],",",["T_WHITESPACE","\n                        ",173],["T_CONSTANT_ENCAPSED_STRING","'to'",174],["T_WHITESPACE","        ",174],["T_DOUBLE_ARROW","=>",174],["T_WHITESPACE"," ",174],["T_ISSET","isset",174],"(",["T_VARIABLE","$val",174],"[",["T_CONSTANT_ENCAPSED_STRING","'to'",174],"]",")",["T_WHITESPACE"," ",174],"?",["T_WHITESPACE"," ",174],["T_VARIABLE","$val",174],"[",["T_CONSTANT_ENCAPSED_STRING","'to'",174],"]",["T_WHITESPACE"," ",174],":",["T_WHITESPACE"," ",174],["T_STRING","null",174],",",["T_WHITESPACE","\n                        ",174],["T_CONSTANT_ENCAPSED_STRING","'datetime'",175],["T_WHITESPACE","  ",175],["T_DOUBLE_ARROW","=>",175],["T_WHITESPACE"," ",175],["T_STRING","true",175],["T_WHITESPACE","\n                    ",175],")",";",["T_WHITESPACE","\n                    ",176],["T_BREAK","break",177],";",["T_WHITESPACE","\n                ",177],["T_DEFAULT","default",178],":",["T_WHITESPACE","\n                ",178],["T_BREAK","break",179],";",["T_WHITESPACE","\n            ",179],"}",["T_WHITESPACE","\n            ",180],["T_VARIABLE","$this",181],["T_OBJECT_OPERATOR","->",181],["T_STRING","_filter",181],"[","]",["T_WHITESPACE"," ",181],"=",["T_WHITESPACE"," ",181],["T_VARIABLE","$attr",181],";",["T_WHITESPACE","\n        ",181],"}",["T_WHITESPACE","\n\n        ",182],["T_RETURN","return",184],["T_WHITESPACE"," ",184],["T_VARIABLE","$this",184],";",["T_WHITESPACE","\n    ",184],"}",["T_WHITESPACE","\n\n    ",185],["T_PUBLIC","public",187],["T_WHITESPACE"," ",187],["T_FUNCTION","function",187],["T_WHITESPACE"," ",187],["T_STRING","getFilter",187],"(",")",["T_WHITESPACE","\n    ",187],"{",["T_WHITESPACE","\n        ",188],["T_RETURN","return",189],["T_WHITESPACE"," ",189],["T_VARIABLE","$this",189],["T_OBJECT_OPERATOR","->",189],["T_STRING","_filter",189],";",["T_WHITESPACE","\n    ",189],"}",["T_WHITESPACE","\n\n    ",190],["T_PROTECTED","protected",192],["T_WHITESPACE"," ",192],["T_FUNCTION","function",192],["T_WHITESPACE"," ",192],["T_STRING","getFieldValue",192],"(",["T_VARIABLE","$fields",192],["T_WHITESPACE"," ",192],"=",["T_WHITESPACE"," ",192],["T_ARRAY","array",192],"(",")",",",["T_WHITESPACE"," ",192],["T_VARIABLE","$name",192],")",["T_WHITESPACE","\n    ",192],"{",["T_WHITESPACE","\n        ",193],["T_VARIABLE","$result",194],["T_WHITESPACE"," ",194],"=",["T_WHITESPACE"," ",194],["T_ARRAY","array",194],"(",")",";",["T_WHITESPACE","\n        ",194],["T_IF","if",195],["T_WHITESPACE"," ",195],"(",["T_VARIABLE","$fields",195],["T_WHITESPACE"," ",195],["T_BOOLEAN_AND","&&",195],["T_WHITESPACE"," ",195],["T_VARIABLE","$name",195],")",["T_WHITESPACE"," ",195],"{",["T_WHITESPACE","\n            ",195],["T_FOREACH","foreach",196],"(",["T_VARIABLE","$fields",196],["T_WHITESPACE"," ",196],["T_AS","as",196],["T_WHITESPACE"," ",196],["T_VARIABLE","$index",196],["T_WHITESPACE"," ",196],["T_DOUBLE_ARROW","=>",196],["T_WHITESPACE"," ",196],["T_VARIABLE","$value",196],")",["T_WHITESPACE"," ",196],"{",["T_WHITESPACE","\n                ",196],["T_VARIABLE","$exp",197],["T_WHITESPACE"," ",197],"=",["T_WHITESPACE"," ",197],["T_STRING","explode",197],"(",["T_CONSTANT_ENCAPSED_STRING","'\/'",197],",",["T_WHITESPACE"," ",197],["T_VARIABLE","$index",197],")",";",["T_WHITESPACE","\n                ",197],["T_IF","if",198],["T_WHITESPACE"," ",198],"(",["T_ISSET","isset",198],"(",["T_VARIABLE","$exp",198],"[",["T_LNUMBER","1",198],"]",")",["T_WHITESPACE"," ",198],["T_BOOLEAN_AND","&&",198],["T_WHITESPACE"," ",198],["T_VARIABLE","$exp",198],"[",["T_LNUMBER","0",198],"]",["T_WHITESPACE"," ",198],["T_IS_EQUAL","==",198],["T_WHITESPACE"," ",198],["T_VARIABLE","$name",198],")",["T_WHITESPACE"," ",198],"{",["T_WHITESPACE","\n                    ",198],["T_VARIABLE","$result",199],"[",["T_VARIABLE","$exp",199],"[",["T_LNUMBER","1",199],"]","]",["T_WHITESPACE"," ",199],"=",["T_WHITESPACE"," ",199],["T_VARIABLE","$value",199],";",["T_WHITESPACE","\n                ",199],"}",["T_WHITESPACE","\n            ",200],"}",["T_WHITESPACE","\n            ",201],["T_IF","if",202],["T_WHITESPACE"," ",202],"(",["T_VARIABLE","$result",202],")",["T_WHITESPACE"," ",202],["T_RETURN","return",202],["T_WHITESPACE"," ",202],["T_VARIABLE","$result",202],";",["T_WHITESPACE","\n        ",202],"}",["T_WHITESPACE","\n        ",203],["T_RETURN","return",204],["T_WHITESPACE"," ",204],["T_STRING","false",204],";",["T_WHITESPACE","\n    ",204],"}",["T_WHITESPACE","\n\n    ",205],["T_PUBLIC","public",207],["T_WHITESPACE"," ",207],["T_FUNCTION","function",207],["T_WHITESPACE"," ",207],["T_STRING","setJoinAttr",207],"(",["T_VARIABLE","$joinAttr",207],")",["T_WHITESPACE","\n    ",207],"{",["T_WHITESPACE","\n        ",208],["T_IF","if",209],"(",["T_STRING","is_array",209],"(",["T_VARIABLE","$joinAttr",209],")",")","{",["T_WHITESPACE","\n            ",209],["T_VARIABLE","$joinArrAttr",210],["T_WHITESPACE"," ",210],"=",["T_WHITESPACE"," ",210],["T_ARRAY","array",210],"(",")",";",["T_WHITESPACE","\n            ",210],["T_VARIABLE","$joinArrAttr",211],"[",["T_CONSTANT_ENCAPSED_STRING","'attribute'",211],"]",["T_WHITESPACE"," ",211],"=",["T_WHITESPACE"," ",211],["T_ISSET","isset",211],"(",["T_VARIABLE","$joinAttr",211],"[",["T_CONSTANT_ENCAPSED_STRING","'attribute'",211],"]",")",["T_WHITESPACE"," ",211],"?",["T_WHITESPACE"," ",211],["T_VARIABLE","$joinAttr",211],"[",["T_CONSTANT_ENCAPSED_STRING","'attribute'",211],"]",["T_WHITESPACE"," ",211],":",["T_WHITESPACE"," ",211],["T_STRING","null",211],";",["T_WHITESPACE","\n            ",211],["T_VARIABLE","$joinArrAttr",212],"[",["T_CONSTANT_ENCAPSED_STRING","'alias'",212],"]",["T_WHITESPACE"," ",212],"=",["T_WHITESPACE"," ",212],["T_ISSET","isset",212],"(",["T_VARIABLE","$joinAttr",212],"[",["T_CONSTANT_ENCAPSED_STRING","'attribute'",212],"]",")",["T_WHITESPACE"," ",212],"?",["T_WHITESPACE"," ",212],["T_STRING","str_replace",212],"(",["T_CONSTANT_ENCAPSED_STRING","'\/'",212],",",["T_CONSTANT_ENCAPSED_STRING","'_'",212],",",["T_VARIABLE","$joinAttr",212],"[",["T_CONSTANT_ENCAPSED_STRING","'attribute'",212],"]",")",":",["T_STRING","null",212],";",["T_WHITESPACE","\n            ",212],["T_VARIABLE","$joinArrAttr",213],"[",["T_CONSTANT_ENCAPSED_STRING","'bind'",213],"]",["T_WHITESPACE"," ",213],"=",["T_WHITESPACE"," ",213],["T_ISSET","isset",213],"(",["T_VARIABLE","$joinAttr",213],"[",["T_CONSTANT_ENCAPSED_STRING","'bind'",213],"]",")",["T_WHITESPACE"," ",213],"?",["T_WHITESPACE"," ",213],["T_VARIABLE","$joinAttr",213],"[",["T_CONSTANT_ENCAPSED_STRING","'bind'",213],"]",["T_WHITESPACE"," ",213],":",["T_WHITESPACE"," ",213],["T_STRING","null",213],";",["T_WHITESPACE","\n            ",213],["T_VARIABLE","$joinArrAttr",214],"[",["T_CONSTANT_ENCAPSED_STRING","'joinType'",214],"]",["T_WHITESPACE"," ",214],"=",["T_WHITESPACE"," ",214],["T_ISSET","isset",214],"(",["T_VARIABLE","$joinAttr",214],"[",["T_CONSTANT_ENCAPSED_STRING","'joinType'",214],"]",")",["T_WHITESPACE"," ",214],"?",["T_WHITESPACE"," ",214],["T_VARIABLE","$joinAttr",214],"[",["T_CONSTANT_ENCAPSED_STRING","'joinType'",214],"]",["T_WHITESPACE"," ",214],":",["T_WHITESPACE"," ",214],["T_STRING","null",214],";",["T_WHITESPACE","\n            ",214],["T_VARIABLE","$joinArrAttr",215],"[",["T_CONSTANT_ENCAPSED_STRING","'storeId'",215],"]",["T_WHITESPACE"," ",215],"=",["T_WHITESPACE"," ",215],["T_ISSET","isset",215],"(",["T_VARIABLE","$joinAttr",215],"[",["T_CONSTANT_ENCAPSED_STRING","'storeId'",215],"]",")",["T_WHITESPACE"," ",215],"?",["T_WHITESPACE"," ",215],["T_VARIABLE","$joinAttr",215],"[",["T_CONSTANT_ENCAPSED_STRING","'storeId'",215],"]",["T_WHITESPACE"," ",215],":",["T_WHITESPACE"," ",215],["T_VARIABLE","$this",215],["T_OBJECT_OPERATOR","->",215],["T_STRING","getStoreId",215],"(",")",";",["T_WHITESPACE","\n            ",215],["T_VARIABLE","$this",216],["T_OBJECT_OPERATOR","->",216],["T_STRING","_joinAttr",216],"[","]",["T_WHITESPACE"," ",216],"=",["T_WHITESPACE"," ",216],["T_VARIABLE","$joinArrAttr",216],";",["T_WHITESPACE","\n        ",216],"}",["T_WHITESPACE","\n\n    ",217],"}",["T_WHITESPACE","\n\n    ",219],["T_DOC_COMMENT","\/**\n     * Add join field\n     *\n     * @param array $joinField   Variable should be have view:\n     *     Example:\n     *         array(\n     *            'alias'     => 'alias_table',\n     *            'attribute' => 'table_name', \/\/table name, must be used path of table like 'module\/table_name'\n     *            'field'     => 'field_name', \/\/selected field name (optional)\n     *            \/\/bind main condition\n     *            \/\/left field use for joined table\n     *            \/\/and right field use for main table of collection\n     *            \/\/NOTE: around '=' cannot be used ' ' (space) because on the exploding not use space trimming\n     *            'bind'      => 'self_item_id=other_id',\n     *            'cond'      => 'alias_table.entity_id = e.entity_id', \/\/additional condition (optional)\n     *            'joinType'  => 'LEFT'\n     *         )\n     *     NOTE: Optional key must be have NULL at least\n     * @return void\n     *\/",221],["T_WHITESPACE","\n    ",240],["T_PUBLIC","public",241],["T_WHITESPACE"," ",241],["T_FUNCTION","function",241],["T_WHITESPACE"," ",241],["T_STRING","setJoinField",241],"(",["T_VARIABLE","$joinField",241],")",["T_WHITESPACE","\n    ",241],"{",["T_WHITESPACE","\n        ",242],["T_IF","if",243],["T_WHITESPACE"," ",243],"(",["T_STRING","is_array",243],"(",["T_VARIABLE","$joinField",243],")",")",["T_WHITESPACE"," ",243],"{",["T_WHITESPACE","\n            ",243],["T_VARIABLE","$this",244],["T_OBJECT_OPERATOR","->",244],["T_STRING","_joinField",244],"[","]",["T_WHITESPACE"," ",244],"=",["T_WHITESPACE"," ",244],["T_VARIABLE","$joinField",244],";",["T_WHITESPACE","\n        ",244],"}",["T_WHITESPACE","\n    ",245],"}",["T_WHITESPACE","\n\n    ",246],["T_PUBLIC","public",248],["T_WHITESPACE"," ",248],["T_FUNCTION","function",248],["T_WHITESPACE"," ",248],["T_STRING","load",248],"(",")",["T_WHITESPACE","\n    ",248],"{",["T_WHITESPACE","\n        ",249],["T_IF","if",250],["T_WHITESPACE"," ",250],"(","!","(",["T_VARIABLE","$entityType",250],["T_WHITESPACE"," ",250],"=",["T_WHITESPACE"," ",250],["T_VARIABLE","$this",250],["T_OBJECT_OPERATOR","->",250],["T_STRING","getVar",250],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_type'",250],")",")",["T_WHITESPACE","\n            ",250],["T_BOOLEAN_OR","||",251],["T_WHITESPACE"," ",251],"!","(",["T_STRING","Mage",251],["T_DOUBLE_COLON","::",251],["T_STRING","getResourceSingleton",251],"(",["T_VARIABLE","$entityType",251],")",["T_WHITESPACE"," ",251],["T_INSTANCEOF","instanceof",251],["T_WHITESPACE"," ",251],["T_STRING","Mage_Eav_Model_Entity_Interface",251],")",")",["T_WHITESPACE"," ",251],"{",["T_WHITESPACE","\n            ",251],["T_VARIABLE","$this",252],["T_OBJECT_OPERATOR","->",252],["T_STRING","addException",252],"(",["T_STRING","Mage",252],["T_DOUBLE_COLON","::",252],["T_STRING","helper",252],"(",["T_CONSTANT_ENCAPSED_STRING","'eav'",252],")",["T_OBJECT_OPERATOR","->",252],["T_STRING","__",252],"(",["T_CONSTANT_ENCAPSED_STRING","'Invalid entity specified'",252],")",",",["T_WHITESPACE"," ",252],["T_STRING","Varien_Convert_Exception",252],["T_DOUBLE_COLON","::",252],["T_STRING","FATAL",252],")",";",["T_WHITESPACE","\n        ",252],"}",["T_WHITESPACE","\n        ",253],["T_TRY","try",254],["T_WHITESPACE"," ",254],"{",["T_WHITESPACE","\n            ",254],["T_VARIABLE","$collection",255],["T_WHITESPACE"," ",255],"=",["T_WHITESPACE"," ",255],["T_VARIABLE","$this",255],["T_OBJECT_OPERATOR","->",255],["T_STRING","_getCollectionForLoad",255],"(",["T_VARIABLE","$entityType",255],")",";",["T_WHITESPACE","\n\n            ",255],["T_IF","if",257],["T_WHITESPACE"," ",257],"(",["T_ISSET","isset",257],"(",["T_VARIABLE","$this",257],["T_OBJECT_OPERATOR","->",257],["T_STRING","_joinAttr",257],")",["T_WHITESPACE"," ",257],["T_BOOLEAN_AND","&&",257],["T_WHITESPACE"," ",257],["T_STRING","is_array",257],"(",["T_VARIABLE","$this",257],["T_OBJECT_OPERATOR","->",257],["T_STRING","_joinAttr",257],")",")",["T_WHITESPACE"," ",257],"{",["T_WHITESPACE","\n                ",257],["T_FOREACH","foreach",258],["T_WHITESPACE"," ",258],"(",["T_VARIABLE","$this",258],["T_OBJECT_OPERATOR","->",258],["T_STRING","_joinAttr",258],["T_WHITESPACE"," ",258],["T_AS","as",258],["T_WHITESPACE"," ",258],["T_VARIABLE","$val",258],")",["T_WHITESPACE"," ",258],"{",["T_WHITESPACE","\n",258],["T_COMMENT","\/\/                    print_r($val);\n",259],["T_WHITESPACE","                    ",260],["T_VARIABLE","$collection",260],["T_OBJECT_OPERATOR","->",260],["T_STRING","joinAttribute",260],"(",["T_WHITESPACE","\n                        ",260],["T_VARIABLE","$val",261],"[",["T_CONSTANT_ENCAPSED_STRING","'alias'",261],"]",",",["T_WHITESPACE","\n                        ",261],["T_VARIABLE","$val",262],"[",["T_CONSTANT_ENCAPSED_STRING","'attribute'",262],"]",",",["T_WHITESPACE","\n                        ",262],["T_VARIABLE","$val",263],"[",["T_CONSTANT_ENCAPSED_STRING","'bind'",263],"]",",",["T_WHITESPACE","\n                        ",263],["T_STRING","null",264],",",["T_WHITESPACE","\n                        ",264],["T_STRING","strtolower",265],"(",["T_VARIABLE","$val",265],"[",["T_CONSTANT_ENCAPSED_STRING","'joinType'",265],"]",")",",",["T_WHITESPACE","\n                        ",265],["T_VARIABLE","$val",266],"[",["T_CONSTANT_ENCAPSED_STRING","'storeId'",266],"]",["T_WHITESPACE","\n                    ",266],")",";",["T_WHITESPACE","\n                ",267],"}",["T_WHITESPACE","\n            ",268],"}",["T_WHITESPACE","\n\n            ",269],["T_VARIABLE","$filterQuery",271],["T_WHITESPACE"," ",271],"=",["T_WHITESPACE"," ",271],["T_VARIABLE","$this",271],["T_OBJECT_OPERATOR","->",271],["T_STRING","getFilter",271],"(",")",";",["T_WHITESPACE","\n            ",271],["T_IF","if",272],["T_WHITESPACE"," ",272],"(",["T_STRING","is_array",272],"(",["T_VARIABLE","$filterQuery",272],")",")",["T_WHITESPACE"," ",272],"{",["T_WHITESPACE","\n                ",272],["T_FOREACH","foreach",273],["T_WHITESPACE"," ",273],"(",["T_VARIABLE","$filterQuery",273],["T_WHITESPACE"," ",273],["T_AS","as",273],["T_WHITESPACE"," ",273],["T_VARIABLE","$val",273],")",["T_WHITESPACE"," ",273],"{",["T_WHITESPACE","\n                    ",273],["T_VARIABLE","$collection",274],["T_OBJECT_OPERATOR","->",274],["T_STRING","addFieldToFilter",274],"(",["T_ARRAY","array",274],"(",["T_VARIABLE","$val",274],")",")",";",["T_WHITESPACE","\n                ",274],"}",["T_WHITESPACE","\n            ",275],"}",["T_WHITESPACE","\n\n            ",276],["T_VARIABLE","$joinFields",278],["T_WHITESPACE"," ",278],"=",["T_WHITESPACE"," ",278],["T_VARIABLE","$this",278],["T_OBJECT_OPERATOR","->",278],["T_STRING","_joinField",278],";",["T_WHITESPACE","\n            ",278],["T_IF","if",279],["T_WHITESPACE"," ",279],"(",["T_ISSET","isset",279],"(",["T_VARIABLE","$joinFields",279],")",["T_WHITESPACE"," ",279],["T_BOOLEAN_AND","&&",279],["T_WHITESPACE"," ",279],["T_STRING","is_array",279],"(",["T_VARIABLE","$joinFields",279],")",")",["T_WHITESPACE"," ",279],"{",["T_WHITESPACE","\n                ",279],["T_FOREACH","foreach",280],["T_WHITESPACE"," ",280],"(",["T_VARIABLE","$joinFields",280],["T_WHITESPACE"," ",280],["T_AS","as",280],["T_WHITESPACE"," ",280],["T_VARIABLE","$field",280],")",["T_WHITESPACE"," ",280],"{",["T_WHITESPACE","\n",280],["T_COMMENT","\/\/                  print_r($field);\n",281],["T_WHITESPACE","                    ",282],["T_VARIABLE","$collection",282],["T_OBJECT_OPERATOR","->",282],["T_STRING","joinField",282],"(",["T_WHITESPACE","\n                        ",282],["T_VARIABLE","$field",283],"[",["T_CONSTANT_ENCAPSED_STRING","'alias'",283],"]",",",["T_WHITESPACE","\n                        ",283],["T_VARIABLE","$field",284],"[",["T_CONSTANT_ENCAPSED_STRING","'attribute'",284],"]",",",["T_WHITESPACE","\n                        ",284],["T_VARIABLE","$field",285],"[",["T_CONSTANT_ENCAPSED_STRING","'field'",285],"]",",",["T_WHITESPACE","\n                        ",285],["T_VARIABLE","$field",286],"[",["T_CONSTANT_ENCAPSED_STRING","'bind'",286],"]",",",["T_WHITESPACE","\n                        ",286],["T_VARIABLE","$field",287],"[",["T_CONSTANT_ENCAPSED_STRING","'cond'",287],"]",",",["T_WHITESPACE","\n                        ",287],["T_VARIABLE","$field",288],"[",["T_CONSTANT_ENCAPSED_STRING","'joinType'",288],"]",")",";",["T_WHITESPACE","\n               ",288],"}",["T_WHITESPACE","\n           ",289],"}",["T_WHITESPACE","\n\n           ",290],["T_DOC_COMMENT","\/**\n            * Load collection ids\n            *\/",292],["T_WHITESPACE","\n           ",294],["T_VARIABLE","$entityIds",295],["T_WHITESPACE"," ",295],"=",["T_WHITESPACE"," ",295],["T_VARIABLE","$collection",295],["T_OBJECT_OPERATOR","->",295],["T_STRING","getAllIds",295],"(",")",";",["T_WHITESPACE","\n\n           ",295],["T_VARIABLE","$message",297],["T_WHITESPACE"," ",297],"=",["T_WHITESPACE"," ",297],["T_STRING","Mage",297],["T_DOUBLE_COLON","::",297],["T_STRING","helper",297],"(",["T_CONSTANT_ENCAPSED_STRING","'eav'",297],")",["T_OBJECT_OPERATOR","->",297],["T_STRING","__",297],"(",["T_CONSTANT_ENCAPSED_STRING","\"Loaded %d records\"",297],",",["T_WHITESPACE"," ",297],["T_STRING","count",297],"(",["T_VARIABLE","$entityIds",297],")",")",";",["T_WHITESPACE","\n           ",297],["T_VARIABLE","$this",298],["T_OBJECT_OPERATOR","->",298],["T_STRING","addException",298],"(",["T_VARIABLE","$message",298],")",";",["T_WHITESPACE","\n        ",298],"}",["T_WHITESPACE","\n        ",299],["T_CATCH","catch",300],["T_WHITESPACE"," ",300],"(",["T_STRING","Varien_Convert_Exception",300],["T_WHITESPACE"," ",300],["T_VARIABLE","$e",300],")",["T_WHITESPACE"," ",300],"{",["T_WHITESPACE","\n            ",300],["T_THROW","throw",301],["T_WHITESPACE"," ",301],["T_VARIABLE","$e",301],";",["T_WHITESPACE","\n        ",301],"}",["T_WHITESPACE","\n        ",302],["T_CATCH","catch",303],["T_WHITESPACE"," ",303],"(",["T_STRING","Exception",303],["T_WHITESPACE"," ",303],["T_VARIABLE","$e",303],")",["T_WHITESPACE"," ",303],"{",["T_WHITESPACE","\n            ",303],["T_VARIABLE","$message",304],["T_WHITESPACE"," ",304],"=",["T_WHITESPACE"," ",304],["T_STRING","Mage",304],["T_DOUBLE_COLON","::",304],["T_STRING","helper",304],"(",["T_CONSTANT_ENCAPSED_STRING","'eav'",304],")",["T_OBJECT_OPERATOR","->",304],["T_STRING","__",304],"(",["T_CONSTANT_ENCAPSED_STRING","'Problem loading the collection, aborting. Error: %s'",304],",",["T_WHITESPACE"," ",304],["T_VARIABLE","$e",304],["T_OBJECT_OPERATOR","->",304],["T_STRING","getMessage",304],"(",")",")",";",["T_WHITESPACE","\n            ",304],["T_VARIABLE","$this",305],["T_OBJECT_OPERATOR","->",305],["T_STRING","addException",305],"(",["T_VARIABLE","$message",305],",",["T_WHITESPACE"," ",305],["T_STRING","Varien_Convert_Exception",305],["T_DOUBLE_COLON","::",305],["T_STRING","FATAL",305],")",";",["T_WHITESPACE","\n        ",305],"}",["T_WHITESPACE","\n\n        ",306],["T_DOC_COMMENT","\/**\n         * Set collection ids\n         *\/",308],["T_WHITESPACE","\n        ",310],["T_VARIABLE","$this",311],["T_OBJECT_OPERATOR","->",311],["T_STRING","setData",311],"(",["T_VARIABLE","$entityIds",311],")",";",["T_WHITESPACE","\n        ",311],["T_RETURN","return",312],["T_WHITESPACE"," ",312],["T_VARIABLE","$this",312],";",["T_WHITESPACE","\n    ",312],"}",["T_WHITESPACE","\n\n    ",313],["T_DOC_COMMENT","\/**\n     * Retrieve collection for load\n     *\n     * @return Mage_Eav_Model_Entity_Collection\n     *\/",315],["T_WHITESPACE","\n    ",319],["T_PROTECTED","protected",320],["T_WHITESPACE"," ",320],["T_FUNCTION","function",320],["T_WHITESPACE"," ",320],["T_STRING","_getCollectionForLoad",320],"(",["T_VARIABLE","$entityType",320],")",["T_WHITESPACE","\n    ",320],"{",["T_WHITESPACE","\n        ",321],["T_RETURN","return",322],["T_WHITESPACE"," ",322],["T_STRING","Mage",322],["T_DOUBLE_COLON","::",322],["T_STRING","getResourceModel",322],"(",["T_VARIABLE","$entityType",322],".",["T_CONSTANT_ENCAPSED_STRING","'_collection'",322],")",";",["T_WHITESPACE","\n    ",322],"}",["T_WHITESPACE","\n\n    ",323],["T_PUBLIC","public",325],["T_WHITESPACE"," ",325],["T_FUNCTION","function",325],["T_WHITESPACE"," ",325],["T_STRING","save",325],"(",")",["T_WHITESPACE","\n    ",325],"{",["T_WHITESPACE","\n        ",326],["T_VARIABLE","$collection",327],["T_WHITESPACE"," ",327],"=",["T_WHITESPACE"," ",327],["T_VARIABLE","$this",327],["T_OBJECT_OPERATOR","->",327],["T_STRING","getData",327],"(",")",";",["T_WHITESPACE","\n        ",327],["T_IF","if",328],["T_WHITESPACE"," ",328],"(",["T_VARIABLE","$collection",328],["T_WHITESPACE"," ",328],["T_INSTANCEOF","instanceof",328],["T_WHITESPACE"," ",328],["T_STRING","Mage_Eav_Model_Entity_Collection_Abstract",328],")",["T_WHITESPACE"," ",328],"{",["T_WHITESPACE","\n            ",328],["T_VARIABLE","$this",329],["T_OBJECT_OPERATOR","->",329],["T_STRING","addException",329],"(",["T_STRING","Mage",329],["T_DOUBLE_COLON","::",329],["T_STRING","helper",329],"(",["T_CONSTANT_ENCAPSED_STRING","'eav'",329],")",["T_OBJECT_OPERATOR","->",329],["T_STRING","__",329],"(",["T_CONSTANT_ENCAPSED_STRING","'Entity collections expected.'",329],")",",",["T_WHITESPACE"," ",329],["T_STRING","Varien_Convert_Exception",329],["T_DOUBLE_COLON","::",329],["T_STRING","FATAL",329],")",";",["T_WHITESPACE","\n        ",329],"}",["T_WHITESPACE","\n\n        ",330],["T_VARIABLE","$this",332],["T_OBJECT_OPERATOR","->",332],["T_STRING","addException",332],"(",["T_VARIABLE","$collection",332],["T_OBJECT_OPERATOR","->",332],["T_STRING","getSize",332],"(",")",".",["T_CONSTANT_ENCAPSED_STRING","' records found.'",332],")",";",["T_WHITESPACE","\n\n        ",332],["T_IF","if",334],["T_WHITESPACE"," ",334],"(","!",["T_VARIABLE","$collection",334],["T_WHITESPACE"," ",334],["T_INSTANCEOF","instanceof",334],["T_WHITESPACE"," ",334],["T_STRING","Mage_Eav_Model_Entity_Collection_Abstract",334],")",["T_WHITESPACE"," ",334],"{",["T_WHITESPACE","\n            ",334],["T_VARIABLE","$this",335],["T_OBJECT_OPERATOR","->",335],["T_STRING","addException",335],"(",["T_STRING","Mage",335],["T_DOUBLE_COLON","::",335],["T_STRING","helper",335],"(",["T_CONSTANT_ENCAPSED_STRING","'eav'",335],")",["T_OBJECT_OPERATOR","->",335],["T_STRING","__",335],"(",["T_CONSTANT_ENCAPSED_STRING","'Entity collection expected.'",335],")",",",["T_WHITESPACE"," ",335],["T_STRING","Varien_Convert_Exception",335],["T_DOUBLE_COLON","::",335],["T_STRING","FATAL",335],")",";",["T_WHITESPACE","\n        ",335],"}",["T_WHITESPACE","\n        ",336],["T_TRY","try",337],["T_WHITESPACE"," ",337],"{",["T_WHITESPACE","\n            ",337],["T_VARIABLE","$i",338],["T_WHITESPACE"," ",338],"=",["T_WHITESPACE"," ",338],["T_LNUMBER","0",338],";",["T_WHITESPACE","\n            ",338],["T_FOREACH","foreach",339],["T_WHITESPACE"," ",339],"(",["T_VARIABLE","$collection",339],["T_OBJECT_OPERATOR","->",339],["T_STRING","getIterator",339],"(",")",["T_WHITESPACE"," ",339],["T_AS","as",339],["T_WHITESPACE"," ",339],["T_VARIABLE","$model",339],")",["T_WHITESPACE"," ",339],"{",["T_WHITESPACE","\n                ",339],["T_VARIABLE","$model",340],["T_OBJECT_OPERATOR","->",340],["T_STRING","save",340],"(",")",";",["T_WHITESPACE","\n                ",340],["T_VARIABLE","$i",341],["T_INC","++",341],";",["T_WHITESPACE","\n            ",341],"}",["T_WHITESPACE","\n            ",342],["T_VARIABLE","$this",343],["T_OBJECT_OPERATOR","->",343],["T_STRING","addException",343],"(",["T_STRING","Mage",343],["T_DOUBLE_COLON","::",343],["T_STRING","helper",343],"(",["T_CONSTANT_ENCAPSED_STRING","'eav'",343],")",["T_OBJECT_OPERATOR","->",343],["T_STRING","__",343],"(",["T_CONSTANT_ENCAPSED_STRING","\"Saved %d record(s).\"",343],",",["T_WHITESPACE"," ",343],["T_VARIABLE","$i",343],")",")",";",["T_WHITESPACE","\n        ",343],"}",["T_WHITESPACE","\n        ",344],["T_CATCH","catch",345],["T_WHITESPACE"," ",345],"(",["T_STRING","Varien_Convert_Exception",345],["T_WHITESPACE"," ",345],["T_VARIABLE","$e",345],")",["T_WHITESPACE"," ",345],"{",["T_WHITESPACE","\n            ",345],["T_THROW","throw",346],["T_WHITESPACE"," ",346],["T_VARIABLE","$e",346],";",["T_WHITESPACE","\n        ",346],"}",["T_WHITESPACE","\n        ",347],["T_CATCH","catch",348],["T_WHITESPACE"," ",348],"(",["T_STRING","Exception",348],["T_WHITESPACE"," ",348],["T_VARIABLE","$e",348],")",["T_WHITESPACE"," ",348],"{",["T_WHITESPACE","\n            ",348],["T_VARIABLE","$this",349],["T_OBJECT_OPERATOR","->",349],["T_STRING","addException",349],"(",["T_STRING","Mage",349],["T_DOUBLE_COLON","::",349],["T_STRING","helper",349],"(",["T_CONSTANT_ENCAPSED_STRING","'eav'",349],")",["T_OBJECT_OPERATOR","->",349],["T_STRING","__",349],"(",["T_CONSTANT_ENCAPSED_STRING","'Problem saving the collection, aborting. Error: %s'",349],",",["T_WHITESPACE"," ",349],["T_VARIABLE","$e",349],["T_OBJECT_OPERATOR","->",349],["T_STRING","getMessage",349],"(",")",")",",",["T_WHITESPACE","\n                ",349],["T_STRING","Varien_Convert_Exception",350],["T_DOUBLE_COLON","::",350],["T_STRING","FATAL",350],")",";",["T_WHITESPACE","\n        ",350],"}",["T_WHITESPACE","\n        ",351],["T_RETURN","return",352],["T_WHITESPACE"," ",352],["T_VARIABLE","$this",352],";",["T_WHITESPACE","\n    ",352],"}",["T_WHITESPACE","\n",353],"}",["T_WHITESPACE","\n",354]]