[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Magento\n *\n * NOTICE OF LICENSE\n *\n * This source file is subject to the Open Software License (OSL 3.0)\n * that is bundled with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/opensource.org\/licenses\/osl-3.0.php\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@magento.com so we can send you a copy immediately.\n *\n * DISCLAIMER\n *\n * Do not edit or add to this file if you wish to upgrade Magento to newer\n * versions in the future. If you wish to customize Magento for your\n * needs please refer to http:\/\/www.magento.com for more information.\n *\n * @category    Mage\n * @package     Mage_Eav\n * @copyright  Copyright (c) 2006-2016 X.commerce, Inc. and affiliates (http:\/\/www.magento.com)\n * @license    http:\/\/opensource.org\/licenses\/osl-3.0.php  Open Software License (OSL 3.0)\n *\/",2],["T_WHITESPACE","\n\n\n",25],["T_DOC_COMMENT","\/**\n * Eav attribute set model\n *\n * @method Mage_Eav_Model_Resource_Entity_Attribute_Set _getResource()\n * @method Mage_Eav_Model_Resource_Entity_Attribute_Set getResource()\n * @method int getEntityTypeId()\n * @method Mage_Eav_Model_Entity_Attribute_Set setEntityTypeId(int $value)\n * @method string getAttributeSetName()\n * @method Mage_Eav_Model_Entity_Attribute_Set setAttributeSetName(string $value)\n * @method int getSortOrder()\n * @method Mage_Eav_Model_Entity_Attribute_Set setSortOrder(int $value)\n *\n * @category    Mage\n * @package     Mage_Eav\n * @author      Magento Core Team <core@magentocommerce.com>\n *\/",28],["T_WHITESPACE","\n",43],["T_CLASS","class",44],["T_WHITESPACE"," ",44],["T_STRING","Mage_Eav_Model_Entity_Attribute_Set",44],["T_WHITESPACE"," ",44],["T_EXTENDS","extends",44],["T_WHITESPACE"," ",44],["T_STRING","Mage_Core_Model_Abstract",44],["T_WHITESPACE","\n",44],"{",["T_WHITESPACE","\n    ",45],["T_DOC_COMMENT","\/**\n     * Prefix of model events names\n     * @var string\n     *\/",46],["T_WHITESPACE","\n    ",49],["T_PROTECTED","protected",50],["T_WHITESPACE"," ",50],["T_VARIABLE","$_eventPrefix",50],["T_WHITESPACE"," ",50],"=",["T_WHITESPACE"," ",50],["T_CONSTANT_ENCAPSED_STRING","'eav_entity_attribute_set'",50],";",["T_WHITESPACE","\n\n    ",50],["T_DOC_COMMENT","\/**\n     * Initialize resource model\n     *\n     *\/",52],["T_WHITESPACE","\n    ",55],["T_PROTECTED","protected",56],["T_WHITESPACE"," ",56],["T_FUNCTION","function",56],["T_WHITESPACE"," ",56],["T_STRING","_construct",56],"(",")",["T_WHITESPACE","\n    ",56],"{",["T_WHITESPACE","\n        ",57],["T_VARIABLE","$this",58],["T_OBJECT_OPERATOR","->",58],["T_STRING","_init",58],"(",["T_CONSTANT_ENCAPSED_STRING","'eav\/entity_attribute_set'",58],")",";",["T_WHITESPACE","\n    ",58],"}",["T_WHITESPACE","\n\n    ",59],["T_DOC_COMMENT","\/**\n     * Init attribute set from skeleton (another attribute set)\n     *\n     * @param int $skeletonId\n     * @return Mage_Eav_Model_Entity_Attribute_Set\n     *\/",61],["T_WHITESPACE","\n    ",66],["T_PUBLIC","public",67],["T_WHITESPACE"," ",67],["T_FUNCTION","function",67],["T_WHITESPACE"," ",67],["T_STRING","initFromSkeleton",67],"(",["T_VARIABLE","$skeletonId",67],")",["T_WHITESPACE","\n    ",67],"{",["T_WHITESPACE","\n        ",68],["T_VARIABLE","$groups",69],["T_WHITESPACE"," ",69],"=",["T_WHITESPACE"," ",69],["T_STRING","Mage",69],["T_DOUBLE_COLON","::",69],["T_STRING","getModel",69],"(",["T_CONSTANT_ENCAPSED_STRING","'eav\/entity_attribute_group'",69],")",["T_WHITESPACE","\n            ",69],["T_OBJECT_OPERATOR","->",70],["T_STRING","getResourceCollection",70],"(",")",["T_WHITESPACE","\n            ",70],["T_OBJECT_OPERATOR","->",71],["T_STRING","setAttributeSetFilter",71],"(",["T_VARIABLE","$skeletonId",71],")",["T_WHITESPACE","\n            ",71],["T_OBJECT_OPERATOR","->",72],["T_STRING","load",72],"(",")",";",["T_WHITESPACE","\n\n        ",72],["T_VARIABLE","$newGroups",74],["T_WHITESPACE"," ",74],"=",["T_WHITESPACE"," ",74],["T_ARRAY","array",74],"(",")",";",["T_WHITESPACE","\n        ",74],["T_FOREACH","foreach",75],["T_WHITESPACE"," ",75],"(",["T_VARIABLE","$groups",75],["T_WHITESPACE"," ",75],["T_AS","as",75],["T_WHITESPACE"," ",75],["T_VARIABLE","$group",75],")",["T_WHITESPACE"," ",75],"{",["T_WHITESPACE","\n            ",75],["T_VARIABLE","$newGroup",76],["T_WHITESPACE"," ",76],"=",["T_WHITESPACE"," ",76],["T_CLONE","clone",76],["T_WHITESPACE"," ",76],["T_VARIABLE","$group",76],";",["T_WHITESPACE","\n            ",76],["T_VARIABLE","$newGroup",77],["T_OBJECT_OPERATOR","->",77],["T_STRING","setId",77],"(",["T_STRING","null",77],")",["T_WHITESPACE","\n                ",77],["T_OBJECT_OPERATOR","->",78],["T_STRING","setAttributeSetId",78],"(",["T_VARIABLE","$this",78],["T_OBJECT_OPERATOR","->",78],["T_STRING","getId",78],"(",")",")",["T_WHITESPACE","\n                ",78],["T_OBJECT_OPERATOR","->",79],["T_STRING","setDefaultId",79],"(",["T_VARIABLE","$group",79],["T_OBJECT_OPERATOR","->",79],["T_STRING","getDefaultId",79],"(",")",")",";",["T_WHITESPACE","\n\n            ",79],["T_VARIABLE","$groupAttributesCollection",81],["T_WHITESPACE"," ",81],"=",["T_WHITESPACE"," ",81],["T_STRING","Mage",81],["T_DOUBLE_COLON","::",81],["T_STRING","getModel",81],"(",["T_CONSTANT_ENCAPSED_STRING","'eav\/entity_attribute'",81],")",["T_WHITESPACE","\n                ",81],["T_OBJECT_OPERATOR","->",82],["T_STRING","getResourceCollection",82],"(",")",["T_WHITESPACE","\n                ",82],["T_OBJECT_OPERATOR","->",83],["T_STRING","setAttributeGroupFilter",83],"(",["T_VARIABLE","$group",83],["T_OBJECT_OPERATOR","->",83],["T_STRING","getId",83],"(",")",")",["T_WHITESPACE","\n                ",83],["T_OBJECT_OPERATOR","->",84],["T_STRING","load",84],"(",")",";",["T_WHITESPACE","\n\n            ",84],["T_VARIABLE","$newAttributes",86],["T_WHITESPACE"," ",86],"=",["T_WHITESPACE"," ",86],["T_ARRAY","array",86],"(",")",";",["T_WHITESPACE","\n            ",86],["T_FOREACH","foreach",87],["T_WHITESPACE"," ",87],"(",["T_VARIABLE","$groupAttributesCollection",87],["T_WHITESPACE"," ",87],["T_AS","as",87],["T_WHITESPACE"," ",87],["T_VARIABLE","$attribute",87],")",["T_WHITESPACE"," ",87],"{",["T_WHITESPACE","\n                ",87],["T_VARIABLE","$newAttribute",88],["T_WHITESPACE"," ",88],"=",["T_WHITESPACE"," ",88],["T_STRING","Mage",88],["T_DOUBLE_COLON","::",88],["T_STRING","getModel",88],"(",["T_CONSTANT_ENCAPSED_STRING","'eav\/entity_attribute'",88],")",["T_WHITESPACE","\n                    ",88],["T_OBJECT_OPERATOR","->",89],["T_STRING","setId",89],"(",["T_VARIABLE","$attribute",89],["T_OBJECT_OPERATOR","->",89],["T_STRING","getId",89],"(",")",")",["T_WHITESPACE","\n                    ",89],["T_COMMENT","\/\/->setAttributeGroupId($newGroup->getId())\n",90],["T_WHITESPACE","                    ",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","setAttributeSetId",91],"(",["T_VARIABLE","$this",91],["T_OBJECT_OPERATOR","->",91],["T_STRING","getId",91],"(",")",")",["T_WHITESPACE","\n                    ",91],["T_OBJECT_OPERATOR","->",92],["T_STRING","setEntityTypeId",92],"(",["T_VARIABLE","$this",92],["T_OBJECT_OPERATOR","->",92],["T_STRING","getEntityTypeId",92],"(",")",")",["T_WHITESPACE","\n                    ",92],["T_OBJECT_OPERATOR","->",93],["T_STRING","setSortOrder",93],"(",["T_VARIABLE","$attribute",93],["T_OBJECT_OPERATOR","->",93],["T_STRING","getSortOrder",93],"(",")",")",";",["T_WHITESPACE","\n                ",93],["T_VARIABLE","$newAttributes",94],"[","]",["T_WHITESPACE"," ",94],"=",["T_WHITESPACE"," ",94],["T_VARIABLE","$newAttribute",94],";",["T_WHITESPACE","\n            ",94],"}",["T_WHITESPACE","\n            ",95],["T_VARIABLE","$newGroup",96],["T_OBJECT_OPERATOR","->",96],["T_STRING","setAttributes",96],"(",["T_VARIABLE","$newAttributes",96],")",";",["T_WHITESPACE","\n            ",96],["T_VARIABLE","$newGroups",97],"[","]",["T_WHITESPACE"," ",97],"=",["T_WHITESPACE"," ",97],["T_VARIABLE","$newGroup",97],";",["T_WHITESPACE","\n        ",97],"}",["T_WHITESPACE","\n        ",98],["T_VARIABLE","$this",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","setGroups",99],"(",["T_VARIABLE","$newGroups",99],")",";",["T_WHITESPACE","\n\n        ",99],["T_RETURN","return",101],["T_WHITESPACE"," ",101],["T_VARIABLE","$this",101],";",["T_WHITESPACE","\n    ",101],"}",["T_WHITESPACE","\n\n    ",102],["T_DOC_COMMENT","\/**\n     * Collect data for save\n     *\n     * @param array $data\n     * @return Mage_Eav_Model_Entity_Attribute_Set\n     *\/",104],["T_WHITESPACE","\n    ",109],["T_PUBLIC","public",110],["T_WHITESPACE"," ",110],["T_FUNCTION","function",110],["T_WHITESPACE"," ",110],["T_STRING","organizeData",110],"(",["T_VARIABLE","$data",110],")",["T_WHITESPACE","\n    ",110],"{",["T_WHITESPACE","\n        ",111],["T_VARIABLE","$modelGroupArray",112],["T_WHITESPACE"," ",112],"=",["T_WHITESPACE"," ",112],["T_ARRAY","array",112],"(",")",";",["T_WHITESPACE","\n        ",112],["T_VARIABLE","$modelAttributeArray",113],["T_WHITESPACE"," ",113],"=",["T_WHITESPACE"," ",113],["T_ARRAY","array",113],"(",")",";",["T_WHITESPACE","\n        ",113],["T_VARIABLE","$attributeIds",114],["T_WHITESPACE"," ",114],"=",["T_WHITESPACE"," ",114],["T_ARRAY","array",114],"(",")",";",["T_WHITESPACE","\n        ",114],["T_IF","if",115],["T_WHITESPACE"," ",115],"(",["T_VARIABLE","$data",115],"[",["T_CONSTANT_ENCAPSED_STRING","'attributes'",115],"]",")",["T_WHITESPACE"," ",115],"{",["T_WHITESPACE","\n            ",115],["T_VARIABLE","$ids",116],["T_WHITESPACE"," ",116],"=",["T_WHITESPACE"," ",116],["T_ARRAY","array",116],"(",")",";",["T_WHITESPACE","\n            ",116],["T_FOREACH","foreach",117],["T_WHITESPACE"," ",117],"(",["T_VARIABLE","$data",117],"[",["T_CONSTANT_ENCAPSED_STRING","'attributes'",117],"]",["T_WHITESPACE"," ",117],["T_AS","as",117],["T_WHITESPACE"," ",117],["T_VARIABLE","$attribute",117],")",["T_WHITESPACE"," ",117],"{",["T_WHITESPACE","\n                ",117],["T_VARIABLE","$ids",118],"[","]",["T_WHITESPACE"," ",118],"=",["T_WHITESPACE"," ",118],["T_VARIABLE","$attribute",118],"[",["T_LNUMBER","0",118],"]",";",["T_WHITESPACE","\n            ",118],"}",["T_WHITESPACE","\n            ",119],["T_VARIABLE","$attributeIds",120],["T_WHITESPACE"," ",120],"=",["T_WHITESPACE"," ",120],["T_STRING","Mage",120],["T_DOUBLE_COLON","::",120],["T_STRING","getResourceSingleton",120],"(",["T_CONSTANT_ENCAPSED_STRING","'eav\/entity_attribute'",120],")",["T_WHITESPACE","\n                ",120],["T_OBJECT_OPERATOR","->",121],["T_STRING","getValidAttributeIds",121],"(",["T_VARIABLE","$ids",121],")",";",["T_WHITESPACE","\n        ",121],"}",["T_WHITESPACE","\n        ",122],["T_IF","if",123],"(",["T_WHITESPACE"," ",123],["T_VARIABLE","$data",123],"[",["T_CONSTANT_ENCAPSED_STRING","'groups'",123],"]",["T_WHITESPACE"," ",123],")",["T_WHITESPACE"," ",123],"{",["T_WHITESPACE","\n            ",123],["T_FOREACH","foreach",124],["T_WHITESPACE"," ",124],"(",["T_VARIABLE","$data",124],"[",["T_CONSTANT_ENCAPSED_STRING","'groups'",124],"]",["T_WHITESPACE"," ",124],["T_AS","as",124],["T_WHITESPACE"," ",124],["T_VARIABLE","$group",124],")",["T_WHITESPACE"," ",124],"{",["T_WHITESPACE","\n                ",124],["T_VARIABLE","$modelGroup",125],["T_WHITESPACE"," ",125],"=",["T_WHITESPACE"," ",125],["T_STRING","Mage",125],["T_DOUBLE_COLON","::",125],["T_STRING","getModel",125],"(",["T_CONSTANT_ENCAPSED_STRING","'eav\/entity_attribute_group'",125],")",";",["T_WHITESPACE","\n                ",125],["T_VARIABLE","$modelGroup",126],["T_OBJECT_OPERATOR","->",126],["T_STRING","setId",126],"(",["T_STRING","is_numeric",126],"(",["T_VARIABLE","$group",126],"[",["T_LNUMBER","0",126],"]",")",["T_WHITESPACE"," ",126],["T_BOOLEAN_AND","&&",126],["T_WHITESPACE"," ",126],["T_VARIABLE","$group",126],"[",["T_LNUMBER","0",126],"]",["T_WHITESPACE"," ",126],">",["T_WHITESPACE"," ",126],["T_LNUMBER","0",126],["T_WHITESPACE"," ",126],"?",["T_WHITESPACE"," ",126],["T_VARIABLE","$group",126],"[",["T_LNUMBER","0",126],"]",["T_WHITESPACE"," ",126],":",["T_WHITESPACE"," ",126],["T_STRING","null",126],")",["T_WHITESPACE","\n                    ",126],["T_OBJECT_OPERATOR","->",127],["T_STRING","setAttributeGroupName",127],"(",["T_VARIABLE","$group",127],"[",["T_LNUMBER","1",127],"]",")",["T_WHITESPACE","\n                    ",127],["T_OBJECT_OPERATOR","->",128],["T_STRING","setAttributeSetId",128],"(",["T_VARIABLE","$this",128],["T_OBJECT_OPERATOR","->",128],["T_STRING","getId",128],"(",")",")",["T_WHITESPACE","\n                    ",128],["T_OBJECT_OPERATOR","->",129],["T_STRING","setSortOrder",129],"(",["T_VARIABLE","$group",129],"[",["T_LNUMBER","2",129],"]",")",";",["T_WHITESPACE","\n\n                ",129],["T_IF","if",131],"(",["T_WHITESPACE"," ",131],["T_VARIABLE","$data",131],"[",["T_CONSTANT_ENCAPSED_STRING","'attributes'",131],"]",["T_WHITESPACE"," ",131],")",["T_WHITESPACE"," ",131],"{",["T_WHITESPACE","\n                    ",131],["T_FOREACH","foreach",132],"(",["T_WHITESPACE"," ",132],["T_VARIABLE","$data",132],"[",["T_CONSTANT_ENCAPSED_STRING","'attributes'",132],"]",["T_WHITESPACE"," ",132],["T_AS","as",132],["T_WHITESPACE"," ",132],["T_VARIABLE","$attribute",132],["T_WHITESPACE"," ",132],")",["T_WHITESPACE"," ",132],"{",["T_WHITESPACE","\n                        ",132],["T_IF","if",133],"(",["T_WHITESPACE"," ",133],["T_VARIABLE","$attribute",133],"[",["T_LNUMBER","1",133],"]",["T_WHITESPACE"," ",133],["T_IS_EQUAL","==",133],["T_WHITESPACE"," ",133],["T_VARIABLE","$group",133],"[",["T_LNUMBER","0",133],"]",["T_WHITESPACE"," ",133],["T_BOOLEAN_AND","&&",133],["T_WHITESPACE"," ",133],["T_STRING","in_array",133],"(",["T_VARIABLE","$attribute",133],"[",["T_LNUMBER","0",133],"]",",",["T_WHITESPACE"," ",133],["T_VARIABLE","$attributeIds",133],")",["T_WHITESPACE"," ",133],")",["T_WHITESPACE"," ",133],"{",["T_WHITESPACE","\n                            ",133],["T_VARIABLE","$modelAttribute",134],["T_WHITESPACE"," ",134],"=",["T_WHITESPACE"," ",134],["T_STRING","Mage",134],["T_DOUBLE_COLON","::",134],["T_STRING","getModel",134],"(",["T_CONSTANT_ENCAPSED_STRING","'eav\/entity_attribute'",134],")",";",["T_WHITESPACE","\n                            ",134],["T_VARIABLE","$modelAttribute",135],["T_OBJECT_OPERATOR","->",135],["T_STRING","setId",135],"(",["T_VARIABLE","$attribute",135],"[",["T_LNUMBER","0",135],"]",")",["T_WHITESPACE","\n                                ",135],["T_OBJECT_OPERATOR","->",136],["T_STRING","setAttributeGroupId",136],"(",["T_VARIABLE","$attribute",136],"[",["T_LNUMBER","1",136],"]",")",["T_WHITESPACE","\n                                ",136],["T_OBJECT_OPERATOR","->",137],["T_STRING","setAttributeSetId",137],"(",["T_VARIABLE","$this",137],["T_OBJECT_OPERATOR","->",137],["T_STRING","getId",137],"(",")",")",["T_WHITESPACE","\n                                ",137],["T_OBJECT_OPERATOR","->",138],["T_STRING","setEntityTypeId",138],"(",["T_VARIABLE","$this",138],["T_OBJECT_OPERATOR","->",138],["T_STRING","getEntityTypeId",138],"(",")",")",["T_WHITESPACE","\n                                ",138],["T_OBJECT_OPERATOR","->",139],["T_STRING","setSortOrder",139],"(",["T_VARIABLE","$attribute",139],"[",["T_LNUMBER","2",139],"]",")",";",["T_WHITESPACE","\n                            ",139],["T_VARIABLE","$modelAttributeArray",140],"[","]",["T_WHITESPACE"," ",140],"=",["T_WHITESPACE"," ",140],["T_VARIABLE","$modelAttribute",140],";",["T_WHITESPACE","\n                        ",140],"}",["T_WHITESPACE","\n                    ",141],"}",["T_WHITESPACE","\n                    ",142],["T_VARIABLE","$modelGroup",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","setAttributes",143],"(",["T_VARIABLE","$modelAttributeArray",143],")",";",["T_WHITESPACE","\n                    ",143],["T_VARIABLE","$modelAttributeArray",144],["T_WHITESPACE"," ",144],"=",["T_WHITESPACE"," ",144],["T_ARRAY","array",144],"(",")",";",["T_WHITESPACE","\n                ",144],"}",["T_WHITESPACE","\n                ",145],["T_VARIABLE","$modelGroupArray",146],"[","]",["T_WHITESPACE"," ",146],"=",["T_WHITESPACE"," ",146],["T_VARIABLE","$modelGroup",146],";",["T_WHITESPACE","\n            ",146],"}",["T_WHITESPACE","\n            ",147],["T_VARIABLE","$this",148],["T_OBJECT_OPERATOR","->",148],["T_STRING","setGroups",148],"(",["T_VARIABLE","$modelGroupArray",148],")",";",["T_WHITESPACE","\n        ",148],"}",["T_WHITESPACE","\n\n\n        ",149],["T_IF","if",152],"(",["T_WHITESPACE"," ",152],["T_VARIABLE","$data",152],"[",["T_CONSTANT_ENCAPSED_STRING","'not_attributes'",152],"]",["T_WHITESPACE"," ",152],")",["T_WHITESPACE"," ",152],"{",["T_WHITESPACE","\n            ",152],["T_VARIABLE","$modelAttributeArray",153],["T_WHITESPACE"," ",153],"=",["T_WHITESPACE"," ",153],["T_ARRAY","array",153],"(",")",";",["T_WHITESPACE","\n            ",153],["T_FOREACH","foreach",154],"(",["T_WHITESPACE"," ",154],["T_VARIABLE","$data",154],"[",["T_CONSTANT_ENCAPSED_STRING","'not_attributes'",154],"]",["T_WHITESPACE"," ",154],["T_AS","as",154],["T_WHITESPACE"," ",154],["T_VARIABLE","$attributeId",154],["T_WHITESPACE"," ",154],")",["T_WHITESPACE"," ",154],"{",["T_WHITESPACE","\n                ",154],["T_VARIABLE","$modelAttribute",155],["T_WHITESPACE"," ",155],"=",["T_WHITESPACE"," ",155],["T_STRING","Mage",155],["T_DOUBLE_COLON","::",155],["T_STRING","getModel",155],"(",["T_CONSTANT_ENCAPSED_STRING","'eav\/entity_attribute'",155],")",";",["T_WHITESPACE","\n\n                ",155],["T_VARIABLE","$modelAttribute",157],["T_OBJECT_OPERATOR","->",157],["T_STRING","setEntityAttributeId",157],"(",["T_VARIABLE","$attributeId",157],")",";",["T_WHITESPACE","\n                ",157],["T_VARIABLE","$modelAttributeArray",158],"[","]",["T_WHITESPACE"," ",158],"=",["T_WHITESPACE"," ",158],["T_VARIABLE","$modelAttribute",158],";",["T_WHITESPACE","\n            ",158],"}",["T_WHITESPACE","\n            ",159],["T_VARIABLE","$this",160],["T_OBJECT_OPERATOR","->",160],["T_STRING","setRemoveAttributes",160],"(",["T_VARIABLE","$modelAttributeArray",160],")",";",["T_WHITESPACE","\n        ",160],"}",["T_WHITESPACE","\n\n        ",161],["T_IF","if",163],"(",["T_WHITESPACE"," ",163],["T_VARIABLE","$data",163],"[",["T_CONSTANT_ENCAPSED_STRING","'removeGroups'",163],"]",["T_WHITESPACE"," ",163],")",["T_WHITESPACE"," ",163],"{",["T_WHITESPACE","\n            ",163],["T_VARIABLE","$modelGroupArray",164],["T_WHITESPACE"," ",164],"=",["T_WHITESPACE"," ",164],["T_ARRAY","array",164],"(",")",";",["T_WHITESPACE","\n            ",164],["T_FOREACH","foreach",165],"(",["T_WHITESPACE"," ",165],["T_VARIABLE","$data",165],"[",["T_CONSTANT_ENCAPSED_STRING","'removeGroups'",165],"]",["T_WHITESPACE"," ",165],["T_AS","as",165],["T_WHITESPACE"," ",165],["T_VARIABLE","$groupId",165],["T_WHITESPACE"," ",165],")",["T_WHITESPACE"," ",165],"{",["T_WHITESPACE","\n                ",165],["T_VARIABLE","$modelGroup",166],["T_WHITESPACE"," ",166],"=",["T_WHITESPACE"," ",166],["T_STRING","Mage",166],["T_DOUBLE_COLON","::",166],["T_STRING","getModel",166],"(",["T_CONSTANT_ENCAPSED_STRING","'eav\/entity_attribute_group'",166],")",";",["T_WHITESPACE","\n                ",166],["T_VARIABLE","$modelGroup",167],["T_OBJECT_OPERATOR","->",167],["T_STRING","setId",167],"(",["T_VARIABLE","$groupId",167],")",";",["T_WHITESPACE","\n\n                ",167],["T_VARIABLE","$modelGroupArray",169],"[","]",["T_WHITESPACE"," ",169],"=",["T_WHITESPACE"," ",169],["T_VARIABLE","$modelGroup",169],";",["T_WHITESPACE","\n            ",169],"}",["T_WHITESPACE","\n            ",170],["T_VARIABLE","$this",171],["T_OBJECT_OPERATOR","->",171],["T_STRING","setRemoveGroups",171],"(",["T_VARIABLE","$modelGroupArray",171],")",";",["T_WHITESPACE","\n        ",171],"}",["T_WHITESPACE","\n        ",172],["T_VARIABLE","$this",173],["T_OBJECT_OPERATOR","->",173],["T_STRING","setAttributeSetName",173],"(",["T_VARIABLE","$data",173],"[",["T_CONSTANT_ENCAPSED_STRING","'attribute_set_name'",173],"]",")",["T_WHITESPACE","\n            ",173],["T_OBJECT_OPERATOR","->",174],["T_STRING","setEntityTypeId",174],"(",["T_VARIABLE","$this",174],["T_OBJECT_OPERATOR","->",174],["T_STRING","getEntityTypeId",174],"(",")",")",";",["T_WHITESPACE","\n\n        ",174],["T_RETURN","return",176],["T_WHITESPACE"," ",176],["T_VARIABLE","$this",176],";",["T_WHITESPACE","\n    ",176],"}",["T_WHITESPACE","\n\n    ",177],["T_DOC_COMMENT","\/**\n     * Validate attribute set name\n     *\n     * @param string $name\n     * @throws Mage_Eav_Exception\n     * @return bool\n     *\/",179],["T_WHITESPACE","\n    ",185],["T_PUBLIC","public",186],["T_WHITESPACE"," ",186],["T_FUNCTION","function",186],["T_WHITESPACE"," ",186],["T_STRING","validate",186],"(",")",["T_WHITESPACE","\n    ",186],"{",["T_WHITESPACE","\n        ",187],["T_IF","if",188],["T_WHITESPACE"," ",188],"(","!",["T_VARIABLE","$this",188],["T_OBJECT_OPERATOR","->",188],["T_STRING","_getResource",188],"(",")",["T_OBJECT_OPERATOR","->",188],["T_STRING","validate",188],"(",["T_VARIABLE","$this",188],",",["T_WHITESPACE"," ",188],["T_VARIABLE","$this",188],["T_OBJECT_OPERATOR","->",188],["T_STRING","getAttributeSetName",188],"(",")",")",")",["T_WHITESPACE"," ",188],"{",["T_WHITESPACE","\n            ",188],["T_THROW","throw",189],["T_WHITESPACE"," ",189],["T_STRING","Mage",189],["T_DOUBLE_COLON","::",189],["T_STRING","exception",189],"(",["T_CONSTANT_ENCAPSED_STRING","'Mage_Eav'",189],",",["T_WHITESPACE","\n                ",189],["T_STRING","Mage",190],["T_DOUBLE_COLON","::",190],["T_STRING","helper",190],"(",["T_CONSTANT_ENCAPSED_STRING","'eav'",190],")",["T_OBJECT_OPERATOR","->",190],["T_STRING","__",190],"(",["T_CONSTANT_ENCAPSED_STRING","'Attribute set with the \"%s\" name already exists.'",190],",",["T_WHITESPACE"," ",190],["T_VARIABLE","$this",190],["T_OBJECT_OPERATOR","->",190],["T_STRING","getAttributeSetName",190],"(",")",")",["T_WHITESPACE","\n            ",190],")",";",["T_WHITESPACE","\n        ",191],"}",["T_WHITESPACE","\n\n        ",192],["T_RETURN","return",194],["T_WHITESPACE"," ",194],["T_STRING","true",194],";",["T_WHITESPACE","\n    ",194],"}",["T_WHITESPACE","\n\n    ",195],["T_DOC_COMMENT","\/**\n     * Add set info to attributes\n     *\n     * @param string|Mage_Eav_Model_Entity_Type $entityType\n     * @param array $attributes\n     * @param int $setId\n     * @return Mage_Eav_Model_Entity_Attribute_Set\n     *\/",197],["T_WHITESPACE","\n    ",204],["T_PUBLIC","public",205],["T_WHITESPACE"," ",205],["T_FUNCTION","function",205],["T_WHITESPACE"," ",205],["T_STRING","addSetInfo",205],"(",["T_VARIABLE","$entityType",205],",",["T_WHITESPACE"," ",205],["T_ARRAY","array",205],["T_WHITESPACE"," ",205],["T_VARIABLE","$attributes",205],",",["T_WHITESPACE"," ",205],["T_VARIABLE","$setId",205],["T_WHITESPACE"," ",205],"=",["T_WHITESPACE"," ",205],["T_STRING","null",205],")",["T_WHITESPACE","\n    ",205],"{",["T_WHITESPACE","\n        ",206],["T_VARIABLE","$attributeIds",207],["T_WHITESPACE","   ",207],"=",["T_WHITESPACE"," ",207],["T_ARRAY","array",207],"(",")",";",["T_WHITESPACE","\n        ",207],["T_VARIABLE","$config",208],["T_WHITESPACE","         ",208],"=",["T_WHITESPACE"," ",208],["T_STRING","Mage",208],["T_DOUBLE_COLON","::",208],["T_STRING","getSingleton",208],"(",["T_CONSTANT_ENCAPSED_STRING","'eav\/config'",208],")",";",["T_WHITESPACE","\n        ",208],["T_VARIABLE","$entityType",209],["T_WHITESPACE","     ",209],"=",["T_WHITESPACE"," ",209],["T_VARIABLE","$config",209],["T_OBJECT_OPERATOR","->",209],["T_STRING","getEntityType",209],"(",["T_VARIABLE","$entityType",209],")",";",["T_WHITESPACE","\n        ",209],["T_FOREACH","foreach",210],["T_WHITESPACE"," ",210],"(",["T_VARIABLE","$attributes",210],["T_WHITESPACE"," ",210],["T_AS","as",210],["T_WHITESPACE"," ",210],["T_VARIABLE","$attribute",210],")",["T_WHITESPACE"," ",210],"{",["T_WHITESPACE","\n            ",210],["T_VARIABLE","$attribute",211],["T_WHITESPACE"," ",211],"=",["T_WHITESPACE"," ",211],["T_VARIABLE","$config",211],["T_OBJECT_OPERATOR","->",211],["T_STRING","getAttribute",211],"(",["T_VARIABLE","$entityType",211],",",["T_WHITESPACE"," ",211],["T_VARIABLE","$attribute",211],")",";",["T_WHITESPACE","\n            ",211],["T_IF","if",212],["T_WHITESPACE"," ",212],"(",["T_VARIABLE","$setId",212],["T_WHITESPACE"," ",212],["T_BOOLEAN_AND","&&",212],["T_WHITESPACE"," ",212],["T_STRING","is_array",212],"(",["T_VARIABLE","$attribute",212],["T_OBJECT_OPERATOR","->",212],["T_STRING","getAttributeSetInfo",212],"(",["T_VARIABLE","$setId",212],")",")",")",["T_WHITESPACE"," ",212],"{",["T_WHITESPACE","\n                ",212],["T_CONTINUE","continue",213],";",["T_WHITESPACE","\n            ",213],"}",["T_WHITESPACE","\n            ",214],["T_IF","if",215],["T_WHITESPACE"," ",215],"(","!",["T_VARIABLE","$attribute",215],["T_OBJECT_OPERATOR","->",215],["T_STRING","getAttributeId",215],"(",")",")",["T_WHITESPACE"," ",215],"{",["T_WHITESPACE","\n                ",215],["T_CONTINUE","continue",216],";",["T_WHITESPACE","\n            ",216],"}",["T_WHITESPACE","\n            ",217],["T_VARIABLE","$attributeIds",218],"[","]",["T_WHITESPACE"," ",218],"=",["T_WHITESPACE"," ",218],["T_VARIABLE","$attribute",218],["T_OBJECT_OPERATOR","->",218],["T_STRING","getAttributeId",218],"(",")",";",["T_WHITESPACE","\n        ",218],"}",["T_WHITESPACE","\n\n        ",219],["T_IF","if",221],["T_WHITESPACE"," ",221],"(",["T_VARIABLE","$attributeIds",221],")",["T_WHITESPACE"," ",221],"{",["T_WHITESPACE","\n            ",221],["T_VARIABLE","$setInfo",222],["T_WHITESPACE"," ",222],"=",["T_WHITESPACE"," ",222],["T_VARIABLE","$this",222],["T_OBJECT_OPERATOR","->",222],["T_STRING","_getResource",222],"(",")",["T_WHITESPACE","\n                ",222],["T_OBJECT_OPERATOR","->",223],["T_STRING","getSetInfo",223],"(",["T_VARIABLE","$attributeIds",223],",",["T_WHITESPACE"," ",223],["T_VARIABLE","$setId",223],")",";",["T_WHITESPACE","\n\n            ",223],["T_FOREACH","foreach",225],["T_WHITESPACE"," ",225],"(",["T_VARIABLE","$attributes",225],["T_WHITESPACE"," ",225],["T_AS","as",225],["T_WHITESPACE"," ",225],["T_VARIABLE","$attribute",225],")",["T_WHITESPACE"," ",225],"{",["T_WHITESPACE","\n                ",225],["T_VARIABLE","$attribute",226],["T_WHITESPACE"," ",226],"=",["T_WHITESPACE"," ",226],["T_VARIABLE","$config",226],["T_OBJECT_OPERATOR","->",226],["T_STRING","getAttribute",226],"(",["T_VARIABLE","$entityType",226],",",["T_WHITESPACE"," ",226],["T_VARIABLE","$attribute",226],")",";",["T_WHITESPACE","\n                ",226],["T_IF","if",227],["T_WHITESPACE"," ",227],"(","!",["T_VARIABLE","$attribute",227],["T_OBJECT_OPERATOR","->",227],["T_STRING","getAttributeId",227],"(",")",")",["T_WHITESPACE"," ",227],"{",["T_WHITESPACE","\n                    ",227],["T_CONTINUE","continue",228],";",["T_WHITESPACE","\n                ",228],"}",["T_WHITESPACE","\n                ",229],["T_IF","if",230],["T_WHITESPACE"," ",230],"(","!",["T_STRING","in_array",230],"(",["T_VARIABLE","$attribute",230],["T_OBJECT_OPERATOR","->",230],["T_STRING","getAttributeId",230],"(",")",",",["T_WHITESPACE"," ",230],["T_VARIABLE","$attributeIds",230],")",")",["T_WHITESPACE"," ",230],"{",["T_WHITESPACE","\n                    ",230],["T_CONTINUE","continue",231],";",["T_WHITESPACE","\n                ",231],"}",["T_WHITESPACE","\n                ",232],["T_IF","if",233],["T_WHITESPACE"," ",233],"(",["T_STRING","is_numeric",233],"(",["T_VARIABLE","$setId",233],")",")",["T_WHITESPACE"," ",233],"{",["T_WHITESPACE","\n                    ",233],["T_VARIABLE","$attributeSetInfo",234],["T_WHITESPACE"," ",234],"=",["T_WHITESPACE"," ",234],["T_VARIABLE","$attribute",234],["T_OBJECT_OPERATOR","->",234],["T_STRING","getAttributeSetInfo",234],"(",")",";",["T_WHITESPACE","\n                    ",234],["T_IF","if",235],["T_WHITESPACE"," ",235],"(","!",["T_STRING","is_array",235],"(",["T_VARIABLE","$attributeSetInfo",235],")",")",["T_WHITESPACE"," ",235],"{",["T_WHITESPACE","\n                        ",235],["T_VARIABLE","$attributeSetInfo",236],["T_WHITESPACE"," ",236],"=",["T_WHITESPACE"," ",236],["T_ARRAY","array",236],"(",")",";",["T_WHITESPACE","\n                    ",236],"}",["T_WHITESPACE","\n                    ",237],["T_IF","if",238],["T_WHITESPACE"," ",238],"(",["T_ISSET","isset",238],"(",["T_VARIABLE","$setInfo",238],"[",["T_VARIABLE","$attribute",238],["T_OBJECT_OPERATOR","->",238],["T_STRING","getAttributeId",238],"(",")","]","[",["T_VARIABLE","$setId",238],"]",")",")",["T_WHITESPACE"," ",238],"{",["T_WHITESPACE","\n                        ",238],["T_VARIABLE","$attributeSetInfo",239],"[",["T_VARIABLE","$setId",239],"]",["T_WHITESPACE"," ",239],"=",["T_WHITESPACE"," ",239],["T_VARIABLE","$setInfo",239],"[",["T_VARIABLE","$attribute",239],["T_OBJECT_OPERATOR","->",239],["T_STRING","getAttributeId",239],"(",")","]","[",["T_VARIABLE","$setId",239],"]",";",["T_WHITESPACE","\n                    ",239],"}",["T_WHITESPACE","\n                    ",240],["T_VARIABLE","$attribute",241],["T_OBJECT_OPERATOR","->",241],["T_STRING","setAttributeSetInfo",241],"(",["T_VARIABLE","$attributeSetInfo",241],")",";",["T_WHITESPACE","\n                ",241],"}",["T_WHITESPACE"," ",242],["T_ELSE","else",242],["T_WHITESPACE"," ",242],"{",["T_WHITESPACE","\n                    ",242],["T_IF","if",243],["T_WHITESPACE"," ",243],"(",["T_ISSET","isset",243],"(",["T_VARIABLE","$setInfo",243],"[",["T_VARIABLE","$attribute",243],["T_OBJECT_OPERATOR","->",243],["T_STRING","getAttributeId",243],"(",")","]",")",")",["T_WHITESPACE"," ",243],"{",["T_WHITESPACE","\n                        ",243],["T_VARIABLE","$attribute",244],["T_OBJECT_OPERATOR","->",244],["T_STRING","setAttributeSetInfo",244],"(",["T_VARIABLE","$setInfo",244],"[",["T_VARIABLE","$attribute",244],["T_OBJECT_OPERATOR","->",244],["T_STRING","getAttributeId",244],"(",")","]",")",";",["T_WHITESPACE","\n                    ",244],"}",["T_WHITESPACE","\n                    ",245],["T_ELSE","else",246],["T_WHITESPACE"," ",246],"{",["T_WHITESPACE","\n                        ",246],["T_VARIABLE","$attribute",247],["T_OBJECT_OPERATOR","->",247],["T_STRING","setAttributeSetInfo",247],"(",["T_ARRAY","array",247],"(",")",")",";",["T_WHITESPACE","\n                    ",247],"}",["T_WHITESPACE","\n                ",248],"}",["T_WHITESPACE","\n            ",249],"}",["T_WHITESPACE","\n        ",250],"}",["T_WHITESPACE","\n\n        ",251],["T_RETURN","return",253],["T_WHITESPACE"," ",253],["T_VARIABLE","$this",253],";",["T_WHITESPACE","\n    ",253],"}",["T_WHITESPACE","\n\n    ",254],["T_DOC_COMMENT","\/**\n     * Return default Group Id for current or defined Attribute Set\n     *\n     * @param int $setId\n     * @return int|null\n     *\/",256],["T_WHITESPACE","\n    ",261],["T_PUBLIC","public",262],["T_WHITESPACE"," ",262],["T_FUNCTION","function",262],["T_WHITESPACE"," ",262],["T_STRING","getDefaultGroupId",262],"(",["T_VARIABLE","$setId",262],["T_WHITESPACE"," ",262],"=",["T_WHITESPACE"," ",262],["T_STRING","null",262],")",["T_WHITESPACE","\n    ",262],"{",["T_WHITESPACE","\n        ",263],["T_IF","if",264],["T_WHITESPACE"," ",264],"(",["T_VARIABLE","$setId",264],["T_WHITESPACE"," ",264],["T_IS_IDENTICAL","===",264],["T_WHITESPACE"," ",264],["T_STRING","null",264],")",["T_WHITESPACE"," ",264],"{",["T_WHITESPACE","\n            ",264],["T_VARIABLE","$setId",265],["T_WHITESPACE"," ",265],"=",["T_WHITESPACE"," ",265],["T_VARIABLE","$this",265],["T_OBJECT_OPERATOR","->",265],["T_STRING","getId",265],"(",")",";",["T_WHITESPACE","\n        ",265],"}",["T_WHITESPACE","\n        ",266],["T_IF","if",267],["T_WHITESPACE"," ",267],"(",["T_VARIABLE","$setId",267],")",["T_WHITESPACE"," ",267],"{",["T_WHITESPACE","\n            ",267],["T_VARIABLE","$groupId",268],["T_WHITESPACE"," ",268],"=",["T_WHITESPACE"," ",268],["T_VARIABLE","$this",268],["T_OBJECT_OPERATOR","->",268],["T_STRING","_getResource",268],"(",")",["T_OBJECT_OPERATOR","->",268],["T_STRING","getDefaultGroupId",268],"(",["T_VARIABLE","$setId",268],")",";",["T_WHITESPACE","\n        ",268],"}",["T_WHITESPACE"," ",269],["T_ELSE","else",269],["T_WHITESPACE"," ",269],"{",["T_WHITESPACE","\n            ",269],["T_VARIABLE","$groupId",270],["T_WHITESPACE"," ",270],"=",["T_WHITESPACE"," ",270],["T_STRING","null",270],";",["T_WHITESPACE","\n        ",270],"}",["T_WHITESPACE","\n        ",271],["T_RETURN","return",272],["T_WHITESPACE"," ",272],["T_VARIABLE","$groupId",272],";",["T_WHITESPACE","\n    ",272],"}",["T_WHITESPACE","\n",273],"}",["T_WHITESPACE","\n",274]]