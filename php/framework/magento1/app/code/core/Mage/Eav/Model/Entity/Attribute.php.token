[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Magento\n *\n * NOTICE OF LICENSE\n *\n * This source file is subject to the Open Software License (OSL 3.0)\n * that is bundled with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/opensource.org\/licenses\/osl-3.0.php\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@magento.com so we can send you a copy immediately.\n *\n * DISCLAIMER\n *\n * Do not edit or add to this file if you wish to upgrade Magento to newer\n * versions in the future. If you wish to customize Magento for your\n * needs please refer to http:\/\/www.magento.com for more information.\n *\n * @category    Mage\n * @package     Mage_Eav\n * @copyright  Copyright (c) 2006-2016 X.commerce, Inc. and affiliates (http:\/\/www.magento.com)\n * @license    http:\/\/opensource.org\/licenses\/osl-3.0.php  Open Software License (OSL 3.0)\n *\/",2],["T_WHITESPACE","\n\n\n",25],["T_DOC_COMMENT","\/**\n * EAV Entity attribute model\n *\n * @category   Mage\n * @package    Mage_Eav\n * @author     Magento Core Team <core@magentocommerce.com>\n *\/",28],["T_WHITESPACE","\n",34],["T_CLASS","class",35],["T_WHITESPACE"," ",35],["T_STRING","Mage_Eav_Model_Entity_Attribute",35],["T_WHITESPACE"," ",35],["T_EXTENDS","extends",35],["T_WHITESPACE"," ",35],["T_STRING","Mage_Eav_Model_Entity_Attribute_Abstract",35],["T_WHITESPACE","\n",35],"{",["T_WHITESPACE","\n    ",36],["T_DOC_COMMENT","\/**\n     * Prefix of model events names\n     *\n     * @var string\n     *\/",37],["T_WHITESPACE","\n    ",41],["T_PROTECTED","protected",42],["T_WHITESPACE"," ",42],["T_VARIABLE","$_eventPrefix",42],["T_WHITESPACE","                         ",42],"=",["T_WHITESPACE"," ",42],["T_CONSTANT_ENCAPSED_STRING","'eav_entity_attribute'",42],";",["T_WHITESPACE","\n\n    ",42],["T_CONST","CONST",44],["T_WHITESPACE"," ",44],["T_STRING","ATTRIBUTE_CODE_MAX_LENGTH",44],["T_WHITESPACE","                 ",44],"=",["T_WHITESPACE"," ",44],["T_LNUMBER","30",44],";",["T_WHITESPACE","\n\n    ",44],["T_DOC_COMMENT","\/**\n     * Parameter name in event\n     *\n     * In observe method you can use $observer->getEvent()->getAttribute() in this case\n     *\n     * @var string\n     *\/",46],["T_WHITESPACE","\n    ",52],["T_PROTECTED","protected",53],["T_WHITESPACE"," ",53],["T_VARIABLE","$_eventObject",53],["T_WHITESPACE"," ",53],"=",["T_WHITESPACE"," ",53],["T_CONSTANT_ENCAPSED_STRING","'attribute'",53],";",["T_WHITESPACE","\n\n    ",53],["T_CONST","const",55],["T_WHITESPACE"," ",55],["T_STRING","CACHE_TAG",55],["T_WHITESPACE","         ",55],"=",["T_WHITESPACE"," ",55],["T_CONSTANT_ENCAPSED_STRING","'EAV_ATTRIBUTE'",55],";",["T_WHITESPACE","\n    ",55],["T_PROTECTED","protected",56],["T_WHITESPACE"," ",56],["T_VARIABLE","$_cacheTag",56],["T_WHITESPACE","    ",56],"=",["T_WHITESPACE"," ",56],["T_CONSTANT_ENCAPSED_STRING","'EAV_ATTRIBUTE'",56],";",["T_WHITESPACE","\n\n    ",56],["T_DOC_COMMENT","\/**\n     * Retreive default attribute backend model by attribute code\n     *\n     * @return string\n     *\/",58],["T_WHITESPACE","\n    ",62],["T_PROTECTED","protected",63],["T_WHITESPACE"," ",63],["T_FUNCTION","function",63],["T_WHITESPACE"," ",63],["T_STRING","_getDefaultBackendModel",63],"(",")",["T_WHITESPACE","\n    ",63],"{",["T_WHITESPACE","\n        ",64],["T_SWITCH","switch",65],["T_WHITESPACE"," ",65],"(",["T_VARIABLE","$this",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","getAttributeCode",65],"(",")",")",["T_WHITESPACE"," ",65],"{",["T_WHITESPACE","\n            ",65],["T_CASE","case",66],["T_WHITESPACE"," ",66],["T_CONSTANT_ENCAPSED_STRING","'created_at'",66],":",["T_WHITESPACE","\n                ",66],["T_RETURN","return",67],["T_WHITESPACE"," ",67],["T_CONSTANT_ENCAPSED_STRING","'eav\/entity_attribute_backend_time_created'",67],";",["T_WHITESPACE","\n\n            ",67],["T_CASE","case",69],["T_WHITESPACE"," ",69],["T_CONSTANT_ENCAPSED_STRING","'updated_at'",69],":",["T_WHITESPACE","\n                ",69],["T_RETURN","return",70],["T_WHITESPACE"," ",70],["T_CONSTANT_ENCAPSED_STRING","'eav\/entity_attribute_backend_time_updated'",70],";",["T_WHITESPACE","\n\n            ",70],["T_CASE","case",72],["T_WHITESPACE"," ",72],["T_CONSTANT_ENCAPSED_STRING","'store_id'",72],":",["T_WHITESPACE","\n                ",72],["T_RETURN","return",73],["T_WHITESPACE"," ",73],["T_CONSTANT_ENCAPSED_STRING","'eav\/entity_attribute_backend_store'",73],";",["T_WHITESPACE","\n\n            ",73],["T_CASE","case",75],["T_WHITESPACE"," ",75],["T_CONSTANT_ENCAPSED_STRING","'increment_id'",75],":",["T_WHITESPACE","\n                ",75],["T_RETURN","return",76],["T_WHITESPACE"," ",76],["T_CONSTANT_ENCAPSED_STRING","'eav\/entity_attribute_backend_increment'",76],";",["T_WHITESPACE","\n        ",76],"}",["T_WHITESPACE","\n\n        ",77],["T_RETURN","return",79],["T_WHITESPACE"," ",79],["T_STRING","parent",79],["T_DOUBLE_COLON","::",79],["T_STRING","_getDefaultBackendModel",79],"(",")",";",["T_WHITESPACE","\n    ",79],"}",["T_WHITESPACE","\n\n    ",80],["T_DOC_COMMENT","\/**\n     * Retreive default attribute frontend model\n     *\n     * @return string\n     *\/",82],["T_WHITESPACE","\n    ",86],["T_PROTECTED","protected",87],["T_WHITESPACE"," ",87],["T_FUNCTION","function",87],["T_WHITESPACE"," ",87],["T_STRING","_getDefaultFrontendModel",87],"(",")",["T_WHITESPACE","\n    ",87],"{",["T_WHITESPACE","\n        ",88],["T_RETURN","return",89],["T_WHITESPACE"," ",89],["T_STRING","parent",89],["T_DOUBLE_COLON","::",89],["T_STRING","_getDefaultFrontendModel",89],"(",")",";",["T_WHITESPACE","\n    ",89],"}",["T_WHITESPACE","\n\n    ",90],["T_DOC_COMMENT","\/**\n     * Retreive default attribute source model\n     *\n     * @return string\n     *\/",92],["T_WHITESPACE","\n    ",96],["T_PROTECTED","protected",97],["T_WHITESPACE"," ",97],["T_FUNCTION","function",97],["T_WHITESPACE"," ",97],["T_STRING","_getDefaultSourceModel",97],"(",")",["T_WHITESPACE","\n    ",97],"{",["T_WHITESPACE","\n        ",98],["T_IF","if",99],["T_WHITESPACE"," ",99],"(",["T_VARIABLE","$this",99],["T_OBJECT_OPERATOR","->",99],["T_STRING","getAttributeCode",99],"(",")",["T_WHITESPACE"," ",99],["T_IS_EQUAL","==",99],["T_WHITESPACE"," ",99],["T_CONSTANT_ENCAPSED_STRING","'store_id'",99],")",["T_WHITESPACE"," ",99],"{",["T_WHITESPACE","\n            ",99],["T_RETURN","return",100],["T_WHITESPACE"," ",100],["T_CONSTANT_ENCAPSED_STRING","'eav\/entity_attribute_source_store'",100],";",["T_WHITESPACE","\n        ",100],"}",["T_WHITESPACE","\n        ",101],["T_RETURN","return",102],["T_WHITESPACE"," ",102],["T_STRING","parent",102],["T_DOUBLE_COLON","::",102],["T_STRING","_getDefaultSourceModel",102],"(",")",";",["T_WHITESPACE","\n    ",102],"}",["T_WHITESPACE","\n\n    ",103],["T_DOC_COMMENT","\/**\n     * Delete entity\n     *\n     * @return Mage_Eav_Model_Resource_Entity_Attribute\n     *\/",105],["T_WHITESPACE","\n    ",109],["T_PUBLIC","public",110],["T_WHITESPACE"," ",110],["T_FUNCTION","function",110],["T_WHITESPACE"," ",110],["T_STRING","deleteEntity",110],"(",")",["T_WHITESPACE","\n    ",110],"{",["T_WHITESPACE","\n        ",111],["T_RETURN","return",112],["T_WHITESPACE"," ",112],["T_VARIABLE","$this",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","_getResource",112],"(",")",["T_OBJECT_OPERATOR","->",112],["T_STRING","deleteEntity",112],"(",["T_VARIABLE","$this",112],")",";",["T_WHITESPACE","\n    ",112],"}",["T_WHITESPACE","\n\n    ",113],["T_DOC_COMMENT","\/**\n     * Load entity_attribute_id into $this by $this->attribute_set_id\n     *\n     * @return Mage_Core_Model_Abstract\n     *\/",115],["T_WHITESPACE","\n    ",119],["T_PUBLIC","public",120],["T_WHITESPACE"," ",120],["T_FUNCTION","function",120],["T_WHITESPACE"," ",120],["T_STRING","loadEntityAttributeIdBySet",120],"(",")",["T_WHITESPACE","\n    ",120],"{",["T_WHITESPACE","\n        ",121],["T_COMMENT","\/\/ load attributes collection filtered by attribute_id and attribute_set_id\n",122],["T_WHITESPACE","        ",123],["T_VARIABLE","$filteredAttributes",123],["T_WHITESPACE"," ",123],"=",["T_WHITESPACE"," ",123],["T_VARIABLE","$this",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","getResourceCollection",123],"(",")",["T_WHITESPACE","\n            ",123],["T_OBJECT_OPERATOR","->",124],["T_STRING","setAttributeSetFilter",124],"(",["T_VARIABLE","$this",124],["T_OBJECT_OPERATOR","->",124],["T_STRING","getAttributeSetId",124],"(",")",")",["T_WHITESPACE","\n            ",124],["T_OBJECT_OPERATOR","->",125],["T_STRING","addFieldToFilter",125],"(",["T_CONSTANT_ENCAPSED_STRING","'entity_attribute.attribute_id'",125],",",["T_WHITESPACE"," ",125],["T_VARIABLE","$this",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","getId",125],"(",")",")",["T_WHITESPACE","\n            ",125],["T_OBJECT_OPERATOR","->",126],["T_STRING","load",126],"(",")",";",["T_WHITESPACE","\n        ",126],["T_IF","if",127],["T_WHITESPACE"," ",127],"(",["T_STRING","count",127],"(",["T_VARIABLE","$filteredAttributes",127],")",["T_WHITESPACE"," ",127],">",["T_WHITESPACE"," ",127],["T_LNUMBER","0",127],")",["T_WHITESPACE"," ",127],"{",["T_WHITESPACE","\n            ",127],["T_COMMENT","\/\/ getFirstItem() can be used as we can have one or zero records in the collection\n",128],["T_WHITESPACE","            ",129],["T_VARIABLE","$this",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","setEntityAttributeId",129],"(",["T_VARIABLE","$filteredAttributes",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","getFirstItem",129],"(",")",["T_OBJECT_OPERATOR","->",129],["T_STRING","getEntityAttributeId",129],"(",")",")",";",["T_WHITESPACE","\n        ",129],"}",["T_WHITESPACE","\n        ",130],["T_RETURN","return",131],["T_WHITESPACE"," ",131],["T_VARIABLE","$this",131],";",["T_WHITESPACE","\n    ",131],"}",["T_WHITESPACE","\n\n    ",132],["T_DOC_COMMENT","\/**\n     * Prepare data for save\n     *\n     * @return Mage_Eav_Model_Entity_Attribute\n     * @throws Mage_Eav_Exception\n     *\/",134],["T_WHITESPACE","\n    ",139],["T_PROTECTED","protected",140],["T_WHITESPACE"," ",140],["T_FUNCTION","function",140],["T_WHITESPACE"," ",140],["T_STRING","_beforeSave",140],"(",")",["T_WHITESPACE","\n    ",140],"{",["T_WHITESPACE","\n        ",141],["T_DOC_COMMENT","\/**\n         * Check for maximum attribute_code length\n         *\/",142],["T_WHITESPACE","\n        ",144],["T_IF","if",145],["T_WHITESPACE"," ",145],"(",["T_ISSET","isset",145],"(",["T_VARIABLE","$this",145],["T_OBJECT_OPERATOR","->",145],["T_STRING","_data",145],"[",["T_CONSTANT_ENCAPSED_STRING","'attribute_code'",145],"]",")",["T_WHITESPACE"," ",145],["T_BOOLEAN_AND","&&",145],["T_WHITESPACE","\n            ",145],"!",["T_STRING","Zend_Validate",146],["T_DOUBLE_COLON","::",146],["T_STRING","is",146],"(",["T_WHITESPACE","\n                ",146],["T_VARIABLE","$this",147],["T_OBJECT_OPERATOR","->",147],["T_STRING","_data",147],"[",["T_CONSTANT_ENCAPSED_STRING","'attribute_code'",147],"]",",",["T_WHITESPACE","\n                ",147],["T_CONSTANT_ENCAPSED_STRING","'StringLength'",148],",",["T_WHITESPACE","\n                ",148],["T_ARRAY","array",149],"(",["T_CONSTANT_ENCAPSED_STRING","'max'",149],["T_WHITESPACE"," ",149],["T_DOUBLE_ARROW","=>",149],["T_WHITESPACE"," ",149],["T_STRING","self",149],["T_DOUBLE_COLON","::",149],["T_STRING","ATTRIBUTE_CODE_MAX_LENGTH",149],")",["T_WHITESPACE","\n            ",149],")",["T_WHITESPACE","\n        ",150],")",["T_WHITESPACE"," ",151],"{",["T_WHITESPACE","\n            ",151],["T_THROW","throw",152],["T_WHITESPACE"," ",152],["T_STRING","Mage",152],["T_DOUBLE_COLON","::",152],["T_STRING","exception",152],"(",["T_CONSTANT_ENCAPSED_STRING","'Mage_Eav'",152],",",["T_WHITESPACE"," ",152],["T_STRING","Mage",152],["T_DOUBLE_COLON","::",152],["T_STRING","helper",152],"(",["T_CONSTANT_ENCAPSED_STRING","'eav'",152],")",["T_OBJECT_OPERATOR","->",152],["T_STRING","__",152],"(",["T_CONSTANT_ENCAPSED_STRING","'Maximum length of attribute code must be less then %s symbols'",152],",",["T_WHITESPACE"," ",152],["T_STRING","self",152],["T_DOUBLE_COLON","::",152],["T_STRING","ATTRIBUTE_CODE_MAX_LENGTH",152],")",")",";",["T_WHITESPACE","\n        ",152],"}",["T_WHITESPACE","\n\n        ",153],["T_VARIABLE","$defaultValue",155],["T_WHITESPACE","   ",155],"=",["T_WHITESPACE"," ",155],["T_VARIABLE","$this",155],["T_OBJECT_OPERATOR","->",155],["T_STRING","getDefaultValue",155],"(",")",";",["T_WHITESPACE","\n        ",155],["T_VARIABLE","$hasDefaultValue",156],["T_WHITESPACE"," ",156],"=",["T_WHITESPACE"," ",156],"(",["T_STRING_CAST","(string)",156],["T_VARIABLE","$defaultValue",156],["T_WHITESPACE"," ",156],["T_IS_NOT_EQUAL","!=",156],["T_WHITESPACE"," ",156],["T_CONSTANT_ENCAPSED_STRING","''",156],")",";",["T_WHITESPACE","\n\n        ",156],["T_IF","if",158],["T_WHITESPACE"," ",158],"(",["T_VARIABLE","$this",158],["T_OBJECT_OPERATOR","->",158],["T_STRING","getBackendType",158],"(",")",["T_WHITESPACE"," ",158],["T_IS_EQUAL","==",158],["T_WHITESPACE"," ",158],["T_CONSTANT_ENCAPSED_STRING","'decimal'",158],["T_WHITESPACE"," ",158],["T_BOOLEAN_AND","&&",158],["T_WHITESPACE"," ",158],["T_VARIABLE","$hasDefaultValue",158],")",["T_WHITESPACE"," ",158],"{",["T_WHITESPACE","\n            ",158],["T_VARIABLE","$locale",159],["T_WHITESPACE"," ",159],"=",["T_WHITESPACE"," ",159],["T_STRING","Mage",159],["T_DOUBLE_COLON","::",159],["T_STRING","app",159],"(",")",["T_OBJECT_OPERATOR","->",159],["T_STRING","getLocale",159],"(",")",["T_OBJECT_OPERATOR","->",159],["T_STRING","getLocaleCode",159],"(",")",";",["T_WHITESPACE","\n            ",159],["T_IF","if",160],["T_WHITESPACE"," ",160],"(","!",["T_STRING","Zend_Locale_Format",160],["T_DOUBLE_COLON","::",160],["T_STRING","isNumber",160],"(",["T_VARIABLE","$defaultValue",160],",",["T_WHITESPACE"," ",160],["T_ARRAY","array",160],"(",["T_CONSTANT_ENCAPSED_STRING","'locale'",160],["T_WHITESPACE"," ",160],["T_DOUBLE_ARROW","=>",160],["T_WHITESPACE"," ",160],["T_VARIABLE","$locale",160],")",")",")",["T_WHITESPACE"," ",160],"{",["T_WHITESPACE","\n                 ",160],["T_THROW","throw",161],["T_WHITESPACE"," ",161],["T_STRING","Mage",161],["T_DOUBLE_COLON","::",161],["T_STRING","exception",161],"(",["T_CONSTANT_ENCAPSED_STRING","'Mage_Eav'",161],",",["T_WHITESPACE"," ",161],["T_STRING","Mage",161],["T_DOUBLE_COLON","::",161],["T_STRING","helper",161],"(",["T_CONSTANT_ENCAPSED_STRING","'eav'",161],")",["T_OBJECT_OPERATOR","->",161],["T_STRING","__",161],"(",["T_CONSTANT_ENCAPSED_STRING","'Invalid default decimal value'",161],")",")",";",["T_WHITESPACE","\n            ",161],"}",["T_WHITESPACE","\n\n            ",162],["T_TRY","try",164],["T_WHITESPACE"," ",164],"{",["T_WHITESPACE","\n                ",164],["T_VARIABLE","$filter",165],["T_WHITESPACE"," ",165],"=",["T_WHITESPACE"," ",165],["T_NEW","new",165],["T_WHITESPACE"," ",165],["T_STRING","Zend_Filter_LocalizedToNormalized",165],"(",["T_WHITESPACE","\n                    ",165],["T_ARRAY","array",166],"(",["T_CONSTANT_ENCAPSED_STRING","'locale'",166],["T_WHITESPACE"," ",166],["T_DOUBLE_ARROW","=>",166],["T_WHITESPACE"," ",166],["T_STRING","Mage",166],["T_DOUBLE_COLON","::",166],["T_STRING","app",166],"(",")",["T_OBJECT_OPERATOR","->",166],["T_STRING","getLocale",166],"(",")",["T_OBJECT_OPERATOR","->",166],["T_STRING","getLocaleCode",166],"(",")",")",["T_WHITESPACE","\n                ",166],")",";",["T_WHITESPACE","\n                ",167],["T_VARIABLE","$this",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","setDefaultValue",168],"(",["T_VARIABLE","$filter",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","filter",168],"(",["T_VARIABLE","$defaultValue",168],")",")",";",["T_WHITESPACE","\n            ",168],"}",["T_WHITESPACE"," ",169],["T_CATCH","catch",169],["T_WHITESPACE"," ",169],"(",["T_STRING","Exception",169],["T_WHITESPACE"," ",169],["T_VARIABLE","$e",169],")",["T_WHITESPACE"," ",169],"{",["T_WHITESPACE","\n                ",169],["T_THROW","throw",170],["T_WHITESPACE"," ",170],["T_STRING","Mage",170],["T_DOUBLE_COLON","::",170],["T_STRING","exception",170],"(",["T_CONSTANT_ENCAPSED_STRING","'Mage_Eav'",170],",",["T_WHITESPACE"," ",170],["T_STRING","Mage",170],["T_DOUBLE_COLON","::",170],["T_STRING","helper",170],"(",["T_CONSTANT_ENCAPSED_STRING","'eav'",170],")",["T_OBJECT_OPERATOR","->",170],["T_STRING","__",170],"(",["T_CONSTANT_ENCAPSED_STRING","'Invalid default decimal value'",170],")",")",";",["T_WHITESPACE","\n            ",170],"}",["T_WHITESPACE","\n        ",171],"}",["T_WHITESPACE","\n\n        ",172],["T_IF","if",174],["T_WHITESPACE"," ",174],"(",["T_VARIABLE","$this",174],["T_OBJECT_OPERATOR","->",174],["T_STRING","getBackendType",174],"(",")",["T_WHITESPACE"," ",174],["T_IS_EQUAL","==",174],["T_WHITESPACE"," ",174],["T_CONSTANT_ENCAPSED_STRING","'datetime'",174],")",["T_WHITESPACE"," ",174],"{",["T_WHITESPACE","\n            ",174],["T_IF","if",175],["T_WHITESPACE"," ",175],"(","!",["T_VARIABLE","$this",175],["T_OBJECT_OPERATOR","->",175],["T_STRING","getBackendModel",175],"(",")",")",["T_WHITESPACE"," ",175],"{",["T_WHITESPACE","\n                ",175],["T_VARIABLE","$this",176],["T_OBJECT_OPERATOR","->",176],["T_STRING","setBackendModel",176],"(",["T_CONSTANT_ENCAPSED_STRING","'eav\/entity_attribute_backend_datetime'",176],")",";",["T_WHITESPACE","\n            ",176],"}",["T_WHITESPACE","\n\n            ",177],["T_IF","if",179],["T_WHITESPACE"," ",179],"(","!",["T_VARIABLE","$this",179],["T_OBJECT_OPERATOR","->",179],["T_STRING","getFrontendModel",179],"(",")",")",["T_WHITESPACE"," ",179],"{",["T_WHITESPACE","\n                ",179],["T_VARIABLE","$this",180],["T_OBJECT_OPERATOR","->",180],["T_STRING","setFrontendModel",180],"(",["T_CONSTANT_ENCAPSED_STRING","'eav\/entity_attribute_frontend_datetime'",180],")",";",["T_WHITESPACE","\n            ",180],"}",["T_WHITESPACE","\n\n            ",181],["T_COMMENT","\/\/ save default date value as timestamp\n",183],["T_WHITESPACE","            ",184],["T_IF","if",184],["T_WHITESPACE"," ",184],"(",["T_VARIABLE","$hasDefaultValue",184],")",["T_WHITESPACE"," ",184],"{",["T_WHITESPACE","\n                ",184],["T_VARIABLE","$format",185],["T_WHITESPACE"," ",185],"=",["T_WHITESPACE"," ",185],["T_STRING","Mage",185],["T_DOUBLE_COLON","::",185],["T_STRING","app",185],"(",")",["T_OBJECT_OPERATOR","->",185],["T_STRING","getLocale",185],"(",")",["T_OBJECT_OPERATOR","->",185],["T_STRING","getDateFormat",185],"(",["T_STRING","Mage_Core_Model_Locale",185],["T_DOUBLE_COLON","::",185],["T_STRING","FORMAT_TYPE_SHORT",185],")",";",["T_WHITESPACE","\n                ",185],["T_TRY","try",186],["T_WHITESPACE"," ",186],"{",["T_WHITESPACE","\n                    ",186],["T_VARIABLE","$defaultValue",187],["T_WHITESPACE"," ",187],"=",["T_WHITESPACE"," ",187],["T_STRING","Mage",187],["T_DOUBLE_COLON","::",187],["T_STRING","app",187],"(",")",["T_OBJECT_OPERATOR","->",187],["T_STRING","getLocale",187],"(",")",["T_OBJECT_OPERATOR","->",187],["T_STRING","date",187],"(",["T_VARIABLE","$defaultValue",187],",",["T_WHITESPACE"," ",187],["T_VARIABLE","$format",187],",",["T_WHITESPACE"," ",187],["T_STRING","null",187],",",["T_WHITESPACE"," ",187],["T_STRING","false",187],")",["T_OBJECT_OPERATOR","->",187],["T_STRING","toValue",187],"(",")",";",["T_WHITESPACE","\n                    ",187],["T_VARIABLE","$this",188],["T_OBJECT_OPERATOR","->",188],["T_STRING","setDefaultValue",188],"(",["T_VARIABLE","$defaultValue",188],")",";",["T_WHITESPACE","\n                ",188],"}",["T_WHITESPACE"," ",189],["T_CATCH","catch",189],["T_WHITESPACE"," ",189],"(",["T_STRING","Exception",189],["T_WHITESPACE"," ",189],["T_VARIABLE","$e",189],")",["T_WHITESPACE"," ",189],"{",["T_WHITESPACE","\n                    ",189],["T_THROW","throw",190],["T_WHITESPACE"," ",190],["T_STRING","Mage",190],["T_DOUBLE_COLON","::",190],["T_STRING","exception",190],"(",["T_CONSTANT_ENCAPSED_STRING","'Mage_Eav'",190],",",["T_WHITESPACE"," ",190],["T_STRING","Mage",190],["T_DOUBLE_COLON","::",190],["T_STRING","helper",190],"(",["T_CONSTANT_ENCAPSED_STRING","'eav'",190],")",["T_OBJECT_OPERATOR","->",190],["T_STRING","__",190],"(",["T_CONSTANT_ENCAPSED_STRING","'Invalid default date'",190],")",")",";",["T_WHITESPACE","\n                ",190],"}",["T_WHITESPACE","\n            ",191],"}",["T_WHITESPACE","\n        ",192],"}",["T_WHITESPACE","\n\n        ",193],["T_IF","if",195],["T_WHITESPACE"," ",195],"(",["T_VARIABLE","$this",195],["T_OBJECT_OPERATOR","->",195],["T_STRING","getBackendType",195],"(",")",["T_WHITESPACE"," ",195],["T_IS_EQUAL","==",195],["T_WHITESPACE"," ",195],["T_CONSTANT_ENCAPSED_STRING","'gallery'",195],")",["T_WHITESPACE"," ",195],"{",["T_WHITESPACE","\n            ",195],["T_IF","if",196],["T_WHITESPACE"," ",196],"(","!",["T_VARIABLE","$this",196],["T_OBJECT_OPERATOR","->",196],["T_STRING","getBackendModel",196],"(",")",")",["T_WHITESPACE"," ",196],"{",["T_WHITESPACE","\n                ",196],["T_VARIABLE","$this",197],["T_OBJECT_OPERATOR","->",197],["T_STRING","setBackendModel",197],"(",["T_CONSTANT_ENCAPSED_STRING","'eav\/entity_attribute_backend_media'",197],")",";",["T_WHITESPACE","\n            ",197],"}",["T_WHITESPACE","\n        ",198],"}",["T_WHITESPACE","\n\n        ",199],["T_RETURN","return",201],["T_WHITESPACE"," ",201],["T_STRING","parent",201],["T_DOUBLE_COLON","::",201],["T_STRING","_beforeSave",201],"(",")",";",["T_WHITESPACE","\n    ",201],"}",["T_WHITESPACE","\n\n    ",202],["T_DOC_COMMENT","\/**\n     * Save additional data\n     *\n     * @return Mage_Eav_Model_Entity_Attribute\n     *\/",204],["T_WHITESPACE","\n    ",208],["T_PROTECTED","protected",209],["T_WHITESPACE"," ",209],["T_FUNCTION","function",209],["T_WHITESPACE"," ",209],["T_STRING","_afterSave",209],"(",")",["T_WHITESPACE","\n    ",209],"{",["T_WHITESPACE","\n        ",210],["T_VARIABLE","$this",211],["T_OBJECT_OPERATOR","->",211],["T_STRING","_getResource",211],"(",")",["T_OBJECT_OPERATOR","->",211],["T_STRING","saveInSetIncluding",211],"(",["T_VARIABLE","$this",211],")",";",["T_WHITESPACE","\n        ",211],["T_RETURN","return",212],["T_WHITESPACE"," ",212],["T_STRING","parent",212],["T_DOUBLE_COLON","::",212],["T_STRING","_afterSave",212],"(",")",";",["T_WHITESPACE","\n    ",212],"}",["T_WHITESPACE","\n\n    ",213],["T_DOC_COMMENT","\/**\n     * Detect backend storage type using frontend input type\n     *\n     * @return string backend_type field value\n     * @param string $type frontend_input field value\n     *\/",215],["T_WHITESPACE","\n    ",220],["T_PUBLIC","public",221],["T_WHITESPACE"," ",221],["T_FUNCTION","function",221],["T_WHITESPACE"," ",221],["T_STRING","getBackendTypeByInput",221],"(",["T_VARIABLE","$type",221],")",["T_WHITESPACE","\n    ",221],"{",["T_WHITESPACE","\n        ",222],["T_VARIABLE","$field",223],["T_WHITESPACE"," ",223],"=",["T_WHITESPACE"," ",223],["T_STRING","null",223],";",["T_WHITESPACE","\n        ",223],["T_SWITCH","switch",224],["T_WHITESPACE"," ",224],"(",["T_VARIABLE","$type",224],")",["T_WHITESPACE"," ",224],"{",["T_WHITESPACE","\n            ",224],["T_CASE","case",225],["T_WHITESPACE"," ",225],["T_CONSTANT_ENCAPSED_STRING","'text'",225],":",["T_WHITESPACE","\n            ",225],["T_CASE","case",226],["T_WHITESPACE"," ",226],["T_CONSTANT_ENCAPSED_STRING","'gallery'",226],":",["T_WHITESPACE","\n            ",226],["T_CASE","case",227],["T_WHITESPACE"," ",227],["T_CONSTANT_ENCAPSED_STRING","'media_image'",227],":",["T_WHITESPACE","\n                ",227],["T_VARIABLE","$field",228],["T_WHITESPACE"," ",228],"=",["T_WHITESPACE"," ",228],["T_CONSTANT_ENCAPSED_STRING","'varchar'",228],";",["T_WHITESPACE","\n                ",228],["T_BREAK","break",229],";",["T_WHITESPACE","\n\n            ",229],["T_CASE","case",231],["T_WHITESPACE"," ",231],["T_CONSTANT_ENCAPSED_STRING","'image'",231],":",["T_WHITESPACE","\n            ",231],["T_CASE","case",232],["T_WHITESPACE"," ",232],["T_CONSTANT_ENCAPSED_STRING","'textarea'",232],":",["T_WHITESPACE","\n            ",232],["T_CASE","case",233],["T_WHITESPACE"," ",233],["T_CONSTANT_ENCAPSED_STRING","'multiselect'",233],":",["T_WHITESPACE","\n                ",233],["T_VARIABLE","$field",234],["T_WHITESPACE"," ",234],"=",["T_WHITESPACE"," ",234],["T_CONSTANT_ENCAPSED_STRING","'text'",234],";",["T_WHITESPACE","\n                ",234],["T_BREAK","break",235],";",["T_WHITESPACE","\n\n            ",235],["T_CASE","case",237],["T_WHITESPACE"," ",237],["T_CONSTANT_ENCAPSED_STRING","'date'",237],":",["T_WHITESPACE","\n                ",237],["T_VARIABLE","$field",238],["T_WHITESPACE"," ",238],"=",["T_WHITESPACE"," ",238],["T_CONSTANT_ENCAPSED_STRING","'datetime'",238],";",["T_WHITESPACE","\n                ",238],["T_BREAK","break",239],";",["T_WHITESPACE","\n\n            ",239],["T_CASE","case",241],["T_WHITESPACE"," ",241],["T_CONSTANT_ENCAPSED_STRING","'select'",241],":",["T_WHITESPACE","\n            ",241],["T_CASE","case",242],["T_WHITESPACE"," ",242],["T_CONSTANT_ENCAPSED_STRING","'boolean'",242],":",["T_WHITESPACE","\n                ",242],["T_VARIABLE","$field",243],["T_WHITESPACE"," ",243],"=",["T_WHITESPACE"," ",243],["T_CONSTANT_ENCAPSED_STRING","'int'",243],";",["T_WHITESPACE","\n                ",243],["T_BREAK","break",244],";",["T_WHITESPACE","\n\n            ",244],["T_CASE","case",246],["T_WHITESPACE"," ",246],["T_CONSTANT_ENCAPSED_STRING","'price'",246],":",["T_WHITESPACE","\n                ",246],["T_VARIABLE","$field",247],["T_WHITESPACE"," ",247],"=",["T_WHITESPACE"," ",247],["T_CONSTANT_ENCAPSED_STRING","'decimal'",247],";",["T_WHITESPACE","\n                ",247],["T_BREAK","break",248],";",["T_WHITESPACE","\n        ",248],"}",["T_WHITESPACE","\n\n        ",249],["T_RETURN","return",251],["T_WHITESPACE"," ",251],["T_VARIABLE","$field",251],";",["T_WHITESPACE","\n    ",251],"}",["T_WHITESPACE","\n\n    ",252],["T_DOC_COMMENT","\/**\n     * Detect default value using frontend input type\n     *\n     * @return string default_value field value\n     * @param string $type frontend_input field name\n     *\/",254],["T_WHITESPACE","\n    ",259],["T_PUBLIC","public",260],["T_WHITESPACE"," ",260],["T_FUNCTION","function",260],["T_WHITESPACE"," ",260],["T_STRING","getDefaultValueByInput",260],"(",["T_VARIABLE","$type",260],")",["T_WHITESPACE","\n    ",260],"{",["T_WHITESPACE","\n        ",261],["T_VARIABLE","$field",262],["T_WHITESPACE"," ",262],"=",["T_WHITESPACE"," ",262],["T_CONSTANT_ENCAPSED_STRING","''",262],";",["T_WHITESPACE","\n        ",262],["T_SWITCH","switch",263],["T_WHITESPACE"," ",263],"(",["T_VARIABLE","$type",263],")",["T_WHITESPACE"," ",263],"{",["T_WHITESPACE","\n            ",263],["T_CASE","case",264],["T_WHITESPACE"," ",264],["T_CONSTANT_ENCAPSED_STRING","'select'",264],":",["T_WHITESPACE","\n            ",264],["T_CASE","case",265],["T_WHITESPACE"," ",265],["T_CONSTANT_ENCAPSED_STRING","'gallery'",265],":",["T_WHITESPACE","\n            ",265],["T_CASE","case",266],["T_WHITESPACE"," ",266],["T_CONSTANT_ENCAPSED_STRING","'media_image'",266],":",["T_WHITESPACE","\n                ",266],["T_BREAK","break",267],";",["T_WHITESPACE","\n            ",267],["T_CASE","case",268],["T_WHITESPACE"," ",268],["T_CONSTANT_ENCAPSED_STRING","'multiselect'",268],":",["T_WHITESPACE","\n                ",268],["T_VARIABLE","$field",269],["T_WHITESPACE"," ",269],"=",["T_WHITESPACE"," ",269],["T_STRING","null",269],";",["T_WHITESPACE","\n                ",269],["T_BREAK","break",270],";",["T_WHITESPACE","\n\n            ",270],["T_CASE","case",272],["T_WHITESPACE"," ",272],["T_CONSTANT_ENCAPSED_STRING","'text'",272],":",["T_WHITESPACE","\n            ",272],["T_CASE","case",273],["T_WHITESPACE"," ",273],["T_CONSTANT_ENCAPSED_STRING","'price'",273],":",["T_WHITESPACE","\n            ",273],["T_CASE","case",274],["T_WHITESPACE"," ",274],["T_CONSTANT_ENCAPSED_STRING","'image'",274],":",["T_WHITESPACE","\n            ",274],["T_CASE","case",275],["T_WHITESPACE"," ",275],["T_CONSTANT_ENCAPSED_STRING","'weight'",275],":",["T_WHITESPACE","\n                ",275],["T_VARIABLE","$field",276],["T_WHITESPACE"," ",276],"=",["T_WHITESPACE"," ",276],["T_CONSTANT_ENCAPSED_STRING","'default_value_text'",276],";",["T_WHITESPACE","\n                ",276],["T_BREAK","break",277],";",["T_WHITESPACE","\n\n            ",277],["T_CASE","case",279],["T_WHITESPACE"," ",279],["T_CONSTANT_ENCAPSED_STRING","'textarea'",279],":",["T_WHITESPACE","\n                ",279],["T_VARIABLE","$field",280],["T_WHITESPACE"," ",280],"=",["T_WHITESPACE"," ",280],["T_CONSTANT_ENCAPSED_STRING","'default_value_textarea'",280],";",["T_WHITESPACE","\n                ",280],["T_BREAK","break",281],";",["T_WHITESPACE","\n\n            ",281],["T_CASE","case",283],["T_WHITESPACE"," ",283],["T_CONSTANT_ENCAPSED_STRING","'date'",283],":",["T_WHITESPACE","\n                ",283],["T_VARIABLE","$field",284],["T_WHITESPACE"," ",284],"=",["T_WHITESPACE"," ",284],["T_CONSTANT_ENCAPSED_STRING","'default_value_date'",284],";",["T_WHITESPACE","\n                ",284],["T_BREAK","break",285],";",["T_WHITESPACE","\n\n            ",285],["T_CASE","case",287],["T_WHITESPACE"," ",287],["T_CONSTANT_ENCAPSED_STRING","'boolean'",287],":",["T_WHITESPACE","\n                ",287],["T_VARIABLE","$field",288],["T_WHITESPACE"," ",288],"=",["T_WHITESPACE"," ",288],["T_CONSTANT_ENCAPSED_STRING","'default_value_yesno'",288],";",["T_WHITESPACE","\n                ",288],["T_BREAK","break",289],";",["T_WHITESPACE","\n        ",289],"}",["T_WHITESPACE","\n\n        ",290],["T_RETURN","return",292],["T_WHITESPACE"," ",292],["T_VARIABLE","$field",292],";",["T_WHITESPACE","\n    ",292],"}",["T_WHITESPACE","\n\n    ",293],["T_DOC_COMMENT","\/**\n     * Retreive attribute codes by frontend type\n     *\n     * @param string $type\n     * @return array\n     *\/",295],["T_WHITESPACE","\n    ",300],["T_PUBLIC","public",301],["T_WHITESPACE"," ",301],["T_FUNCTION","function",301],["T_WHITESPACE"," ",301],["T_STRING","getAttributeCodesByFrontendType",301],"(",["T_VARIABLE","$type",301],")",["T_WHITESPACE","\n    ",301],"{",["T_WHITESPACE","\n        ",302],["T_RETURN","return",303],["T_WHITESPACE"," ",303],["T_VARIABLE","$this",303],["T_OBJECT_OPERATOR","->",303],["T_STRING","getResource",303],"(",")",["T_OBJECT_OPERATOR","->",303],["T_STRING","getAttributeCodesByFrontendType",303],"(",["T_VARIABLE","$type",303],")",";",["T_WHITESPACE","\n    ",303],"}",["T_WHITESPACE","\n\n    ",304],["T_DOC_COMMENT","\/**\n     * Return array of labels of stores\n     *\n     * @return array\n     *\/",306],["T_WHITESPACE","\n    ",310],["T_PUBLIC","public",311],["T_WHITESPACE"," ",311],["T_FUNCTION","function",311],["T_WHITESPACE"," ",311],["T_STRING","getStoreLabels",311],"(",")",["T_WHITESPACE","\n    ",311],"{",["T_WHITESPACE","\n        ",312],["T_IF","if",313],["T_WHITESPACE"," ",313],"(","!",["T_VARIABLE","$this",313],["T_OBJECT_OPERATOR","->",313],["T_STRING","getData",313],"(",["T_CONSTANT_ENCAPSED_STRING","'store_labels'",313],")",")",["T_WHITESPACE"," ",313],"{",["T_WHITESPACE","\n            ",313],["T_VARIABLE","$storeLabel",314],["T_WHITESPACE"," ",314],"=",["T_WHITESPACE"," ",314],["T_VARIABLE","$this",314],["T_OBJECT_OPERATOR","->",314],["T_STRING","getResource",314],"(",")",["T_OBJECT_OPERATOR","->",314],["T_STRING","getStoreLabelsByAttributeId",314],"(",["T_VARIABLE","$this",314],["T_OBJECT_OPERATOR","->",314],["T_STRING","getId",314],"(",")",")",";",["T_WHITESPACE","\n            ",314],["T_VARIABLE","$this",315],["T_OBJECT_OPERATOR","->",315],["T_STRING","setData",315],"(",["T_CONSTANT_ENCAPSED_STRING","'store_labels'",315],",",["T_WHITESPACE"," ",315],["T_VARIABLE","$storeLabel",315],")",";",["T_WHITESPACE","\n        ",315],"}",["T_WHITESPACE","\n        ",316],["T_RETURN","return",317],["T_WHITESPACE"," ",317],["T_VARIABLE","$this",317],["T_OBJECT_OPERATOR","->",317],["T_STRING","getData",317],"(",["T_CONSTANT_ENCAPSED_STRING","'store_labels'",317],")",";",["T_WHITESPACE","\n    ",317],"}",["T_WHITESPACE","\n\n    ",318],["T_DOC_COMMENT","\/**\n     * Return store label of attribute\n     *\n     * @return string\n     *\/",320],["T_WHITESPACE","\n    ",324],["T_PUBLIC","public",325],["T_WHITESPACE"," ",325],["T_FUNCTION","function",325],["T_WHITESPACE"," ",325],["T_STRING","getStoreLabel",325],"(",["T_VARIABLE","$storeId",325],["T_WHITESPACE"," ",325],"=",["T_WHITESPACE"," ",325],["T_STRING","null",325],")",["T_WHITESPACE","\n    ",325],"{",["T_WHITESPACE","\n        ",326],["T_IF","if",327],["T_WHITESPACE"," ",327],"(",["T_VARIABLE","$this",327],["T_OBJECT_OPERATOR","->",327],["T_STRING","hasData",327],"(",["T_CONSTANT_ENCAPSED_STRING","'store_label'",327],")",")",["T_WHITESPACE"," ",327],"{",["T_WHITESPACE","\n            ",327],["T_RETURN","return",328],["T_WHITESPACE"," ",328],["T_VARIABLE","$this",328],["T_OBJECT_OPERATOR","->",328],["T_STRING","getData",328],"(",["T_CONSTANT_ENCAPSED_STRING","'store_label'",328],")",";",["T_WHITESPACE","\n        ",328],"}",["T_WHITESPACE","\n        ",329],["T_VARIABLE","$store",330],["T_WHITESPACE"," ",330],"=",["T_WHITESPACE"," ",330],["T_STRING","Mage",330],["T_DOUBLE_COLON","::",330],["T_STRING","app",330],"(",")",["T_OBJECT_OPERATOR","->",330],["T_STRING","getStore",330],"(",["T_VARIABLE","$storeId",330],")",";",["T_WHITESPACE","\n        ",330],["T_VARIABLE","$label",331],["T_WHITESPACE"," ",331],"=",["T_WHITESPACE"," ",331],["T_STRING","false",331],";",["T_WHITESPACE","\n        ",331],["T_IF","if",332],["T_WHITESPACE"," ",332],"(","!",["T_VARIABLE","$store",332],["T_OBJECT_OPERATOR","->",332],["T_STRING","isAdmin",332],"(",")",")",["T_WHITESPACE"," ",332],"{",["T_WHITESPACE","\n            ",332],["T_VARIABLE","$labels",333],["T_WHITESPACE"," ",333],"=",["T_WHITESPACE"," ",333],["T_VARIABLE","$this",333],["T_OBJECT_OPERATOR","->",333],["T_STRING","getStoreLabels",333],"(",")",";",["T_WHITESPACE","\n            ",333],["T_IF","if",334],["T_WHITESPACE"," ",334],"(",["T_ISSET","isset",334],"(",["T_VARIABLE","$labels",334],"[",["T_VARIABLE","$store",334],["T_OBJECT_OPERATOR","->",334],["T_STRING","getId",334],"(",")","]",")",")",["T_WHITESPACE"," ",334],"{",["T_WHITESPACE","\n                ",334],["T_RETURN","return",335],["T_WHITESPACE"," ",335],["T_VARIABLE","$labels",335],"[",["T_VARIABLE","$store",335],["T_OBJECT_OPERATOR","->",335],["T_STRING","getId",335],"(",")","]",";",["T_WHITESPACE","\n            ",335],"}",["T_WHITESPACE","\n        ",336],"}",["T_WHITESPACE","\n        ",337],["T_RETURN","return",338],["T_WHITESPACE"," ",338],["T_VARIABLE","$this",338],["T_OBJECT_OPERATOR","->",338],["T_STRING","getFrontendLabel",338],"(",")",";",["T_WHITESPACE","\n    ",338],"}",["T_WHITESPACE","\n",339],"}",["T_WHITESPACE","\n",340]]