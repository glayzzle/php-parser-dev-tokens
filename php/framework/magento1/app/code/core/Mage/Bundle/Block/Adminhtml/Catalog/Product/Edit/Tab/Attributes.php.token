[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Magento\n *\n * NOTICE OF LICENSE\n *\n * This source file is subject to the Open Software License (OSL 3.0)\n * that is bundled with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/opensource.org\/licenses\/osl-3.0.php\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@magento.com so we can send you a copy immediately.\n *\n * DISCLAIMER\n *\n * Do not edit or add to this file if you wish to upgrade Magento to newer\n * versions in the future. If you wish to customize Magento for your\n * needs please refer to http:\/\/www.magento.com for more information.\n *\n * @category    Mage\n * @package     Mage_Bundle\n * @copyright  Copyright (c) 2006-2016 X.commerce, Inc. and affiliates (http:\/\/www.magento.com)\n * @license    http:\/\/opensource.org\/licenses\/osl-3.0.php  Open Software License (OSL 3.0)\n *\/",2],["T_WHITESPACE","\n\n",25],["T_DOC_COMMENT","\/**\n * Bundle product attributes tab\n *\n * @category    Mage\n * @package     Mage_Bundle\n * @author      Magento Core Team <core@magentocommerce.com>\n *\/",27],["T_WHITESPACE","\n",33],["T_CLASS","class",34],["T_WHITESPACE"," ",34],["T_STRING","Mage_Bundle_Block_Adminhtml_Catalog_Product_Edit_Tab_Attributes",34],["T_WHITESPACE","\n    ",34],["T_EXTENDS","extends",35],["T_WHITESPACE"," ",35],["T_STRING","Mage_Adminhtml_Block_Catalog_Product_Edit_Tab_Attributes",35],["T_WHITESPACE","\n",35],"{",["T_WHITESPACE","\n    ",36],["T_DOC_COMMENT","\/**\n     * Prepare attributes form of bundle product\n     *\n     * @return void\n     *\/",37],["T_WHITESPACE","\n    ",41],["T_PROTECTED","protected",42],["T_WHITESPACE"," ",42],["T_FUNCTION","function",42],["T_WHITESPACE"," ",42],["T_STRING","_prepareForm",42],"(",")",["T_WHITESPACE","\n    ",42],"{",["T_WHITESPACE","\n        ",43],["T_STRING","parent",44],["T_DOUBLE_COLON","::",44],["T_STRING","_prepareForm",44],"(",")",";",["T_WHITESPACE","\n\n        ",44],["T_VARIABLE","$special_price",46],["T_WHITESPACE"," ",46],"=",["T_WHITESPACE"," ",46],["T_VARIABLE","$this",46],["T_OBJECT_OPERATOR","->",46],["T_STRING","getForm",46],"(",")",["T_OBJECT_OPERATOR","->",46],["T_STRING","getElement",46],"(",["T_CONSTANT_ENCAPSED_STRING","'special_price'",46],")",";",["T_WHITESPACE","\n        ",46],["T_IF","if",47],["T_WHITESPACE"," ",47],"(",["T_VARIABLE","$special_price",47],")",["T_WHITESPACE"," ",47],"{",["T_WHITESPACE","\n            ",47],["T_VARIABLE","$special_price",48],["T_OBJECT_OPERATOR","->",48],["T_STRING","setRenderer",48],"(",["T_WHITESPACE","\n                ",48],["T_VARIABLE","$this",49],["T_OBJECT_OPERATOR","->",49],["T_STRING","getLayout",49],"(",")",["T_OBJECT_OPERATOR","->",49],["T_STRING","createBlock",49],"(",["T_CONSTANT_ENCAPSED_STRING","'bundle\/adminhtml_catalog_product_edit_tab_attributes_special'",49],")",["T_WHITESPACE","\n                    ",49],["T_OBJECT_OPERATOR","->",50],["T_STRING","setDisableChild",50],"(",["T_STRING","false",50],")",["T_WHITESPACE","\n            ",50],")",";",["T_WHITESPACE","\n        ",51],"}",["T_WHITESPACE","\n\n        ",52],["T_VARIABLE","$sku",54],["T_WHITESPACE"," ",54],"=",["T_WHITESPACE"," ",54],["T_VARIABLE","$this",54],["T_OBJECT_OPERATOR","->",54],["T_STRING","getForm",54],"(",")",["T_OBJECT_OPERATOR","->",54],["T_STRING","getElement",54],"(",["T_CONSTANT_ENCAPSED_STRING","'sku'",54],")",";",["T_WHITESPACE","\n        ",54],["T_IF","if",55],["T_WHITESPACE"," ",55],"(",["T_VARIABLE","$sku",55],")",["T_WHITESPACE"," ",55],"{",["T_WHITESPACE","\n            ",55],["T_VARIABLE","$sku",56],["T_OBJECT_OPERATOR","->",56],["T_STRING","setRenderer",56],"(",["T_WHITESPACE","\n                ",56],["T_VARIABLE","$this",57],["T_OBJECT_OPERATOR","->",57],["T_STRING","getLayout",57],"(",")",["T_OBJECT_OPERATOR","->",57],["T_STRING","createBlock",57],"(",["T_CONSTANT_ENCAPSED_STRING","'bundle\/adminhtml_catalog_product_edit_tab_attributes_extend'",57],")",["T_WHITESPACE","\n                    ",57],["T_OBJECT_OPERATOR","->",58],["T_STRING","setDisableChild",58],"(",["T_STRING","false",58],")",["T_WHITESPACE","\n            ",58],")",";",["T_WHITESPACE","\n        ",59],"}",["T_WHITESPACE","\n\n        ",60],["T_VARIABLE","$price",62],["T_WHITESPACE"," ",62],"=",["T_WHITESPACE"," ",62],["T_VARIABLE","$this",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","getForm",62],"(",")",["T_OBJECT_OPERATOR","->",62],["T_STRING","getElement",62],"(",["T_CONSTANT_ENCAPSED_STRING","'price'",62],")",";",["T_WHITESPACE","\n        ",62],["T_IF","if",63],["T_WHITESPACE"," ",63],"(",["T_VARIABLE","$price",63],")",["T_WHITESPACE"," ",63],"{",["T_WHITESPACE","\n            ",63],["T_VARIABLE","$price",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","setRenderer",64],"(",["T_WHITESPACE","\n                ",64],["T_VARIABLE","$this",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","getLayout",65],"(",")",["T_OBJECT_OPERATOR","->",65],["T_STRING","createBlock",65],"(",["T_CONSTANT_ENCAPSED_STRING","'bundle\/adminhtml_catalog_product_edit_tab_attributes_extend'",65],",",["T_WHITESPACE","\n                    ",65],["T_CONSTANT_ENCAPSED_STRING","'adminhtml.catalog.product.bundle.edit.tab.attributes.price'",66],")",["T_OBJECT_OPERATOR","->",66],["T_STRING","setDisableChild",66],"(",["T_STRING","true",66],")",["T_WHITESPACE","\n            ",66],")",";",["T_WHITESPACE","\n        ",67],"}",["T_WHITESPACE","\n\n        ",68],["T_VARIABLE","$tax",70],["T_WHITESPACE"," ",70],"=",["T_WHITESPACE"," ",70],["T_VARIABLE","$this",70],["T_OBJECT_OPERATOR","->",70],["T_STRING","getForm",70],"(",")",["T_OBJECT_OPERATOR","->",70],["T_STRING","getElement",70],"(",["T_CONSTANT_ENCAPSED_STRING","'tax_class_id'",70],")",";",["T_WHITESPACE","\n        ",70],["T_IF","if",71],["T_WHITESPACE"," ",71],"(",["T_VARIABLE","$tax",71],")",["T_WHITESPACE"," ",71],"{",["T_WHITESPACE","\n            ",71],["T_VARIABLE","$tax",72],["T_OBJECT_OPERATOR","->",72],["T_STRING","setAfterElementHtml",72],"(",["T_WHITESPACE","\n                ",72],["T_CONSTANT_ENCAPSED_STRING","'<script type=\"text\/javascript\">'",73],["T_WHITESPACE","\n                ",73],".",["T_WHITESPACE"," ",74],["T_CONSTANT_ENCAPSED_STRING","\"\n                \/\/<![CDATA[\n                function changeTaxClassId() {\n                    if ($('price_type').value == '\"",74],["T_WHITESPACE"," ",77],".",["T_WHITESPACE"," ",77],["T_STRING","Mage_Bundle_Model_Product_Price",77],["T_DOUBLE_COLON","::",77],["T_STRING","PRICE_TYPE_DYNAMIC",77],["T_WHITESPACE"," ",77],".",["T_WHITESPACE"," ",77],["T_CONSTANT_ENCAPSED_STRING","\"') {\n                        $('tax_class_id').disabled = true;\n                        $('tax_class_id').value = '0';\n                        $('tax_class_id').removeClassName('required-entry');\n                        if ($('advice-required-entry-tax_class_id')) {\n                            $('advice-required-entry-tax_class_id').remove();\n                        }\n                    } else {\n                        $('tax_class_id').disabled = false;\n                        \"",77],["T_WHITESPACE"," ",86],".",["T_WHITESPACE"," ",86],"(",["T_VARIABLE","$tax",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","getRequired",86],"(",")",["T_WHITESPACE"," ",86],"?",["T_WHITESPACE"," ",86],["T_CONSTANT_ENCAPSED_STRING","\"$('tax_class_id').addClassName('required-entry');\"",86],["T_WHITESPACE"," ",86],":",["T_WHITESPACE"," ",86],["T_CONSTANT_ENCAPSED_STRING","''",86],")",["T_WHITESPACE"," ",86],".",["T_WHITESPACE"," ",86],["T_CONSTANT_ENCAPSED_STRING","\"\n                    }\n                }\n\n                document.observe('dom:loaded', function() {\n                    if ($('price_type')) {\n                        $('price_type').observe('change', changeTaxClassId);\n                        changeTaxClassId();\n                    }\n                });\n                \/\/]]>\n                \"",86],["T_WHITESPACE","\n                ",97],".",["T_WHITESPACE"," ",98],["T_CONSTANT_ENCAPSED_STRING","'<\/script>'",98],["T_WHITESPACE","\n            ",98],")",";",["T_WHITESPACE","\n        ",99],"}",["T_WHITESPACE","\n\n        ",100],["T_VARIABLE","$weight",102],["T_WHITESPACE"," ",102],"=",["T_WHITESPACE"," ",102],["T_VARIABLE","$this",102],["T_OBJECT_OPERATOR","->",102],["T_STRING","getForm",102],"(",")",["T_OBJECT_OPERATOR","->",102],["T_STRING","getElement",102],"(",["T_CONSTANT_ENCAPSED_STRING","'weight'",102],")",";",["T_WHITESPACE","\n        ",102],["T_IF","if",103],["T_WHITESPACE"," ",103],"(",["T_VARIABLE","$weight",103],")",["T_WHITESPACE"," ",103],"{",["T_WHITESPACE","\n            ",103],["T_VARIABLE","$weight",104],["T_OBJECT_OPERATOR","->",104],["T_STRING","setRenderer",104],"(",["T_WHITESPACE","\n                ",104],["T_VARIABLE","$this",105],["T_OBJECT_OPERATOR","->",105],["T_STRING","getLayout",105],"(",")",["T_OBJECT_OPERATOR","->",105],["T_STRING","createBlock",105],"(",["T_CONSTANT_ENCAPSED_STRING","'bundle\/adminhtml_catalog_product_edit_tab_attributes_extend'",105],")",["T_WHITESPACE","\n                    ",105],["T_OBJECT_OPERATOR","->",106],["T_STRING","setDisableChild",106],"(",["T_STRING","true",106],")",["T_WHITESPACE","\n            ",106],")",";",["T_WHITESPACE","\n        ",107],"}",["T_WHITESPACE","\n\n        ",108],["T_VARIABLE","$tier_price",110],["T_WHITESPACE"," ",110],"=",["T_WHITESPACE"," ",110],["T_VARIABLE","$this",110],["T_OBJECT_OPERATOR","->",110],["T_STRING","getForm",110],"(",")",["T_OBJECT_OPERATOR","->",110],["T_STRING","getElement",110],"(",["T_CONSTANT_ENCAPSED_STRING","'tier_price'",110],")",";",["T_WHITESPACE","\n        ",110],["T_IF","if",111],["T_WHITESPACE"," ",111],"(",["T_VARIABLE","$tier_price",111],")",["T_WHITESPACE"," ",111],"{",["T_WHITESPACE","\n            ",111],["T_VARIABLE","$tier_price",112],["T_OBJECT_OPERATOR","->",112],["T_STRING","setRenderer",112],"(",["T_WHITESPACE","\n                ",112],["T_VARIABLE","$this",113],["T_OBJECT_OPERATOR","->",113],["T_STRING","getLayout",113],"(",")",["T_OBJECT_OPERATOR","->",113],["T_STRING","createBlock",113],"(",["T_CONSTANT_ENCAPSED_STRING","'adminhtml\/catalog_product_edit_tab_price_tier'",113],")",["T_WHITESPACE","\n                    ",113],["T_OBJECT_OPERATOR","->",114],["T_STRING","setPriceColumnHeader",114],"(",["T_STRING","Mage",114],["T_DOUBLE_COLON","::",114],["T_STRING","helper",114],"(",["T_CONSTANT_ENCAPSED_STRING","'bundle'",114],")",["T_OBJECT_OPERATOR","->",114],["T_STRING","__",114],"(",["T_CONSTANT_ENCAPSED_STRING","'Percent Discount'",114],")",")",["T_WHITESPACE","\n                    ",114],["T_OBJECT_OPERATOR","->",115],["T_STRING","setPriceValidation",115],"(",["T_CONSTANT_ENCAPSED_STRING","'validate-greater-than-zero validate-percents'",115],")",["T_WHITESPACE","\n            ",115],")",";",["T_WHITESPACE","\n        ",116],"}",["T_WHITESPACE","\n\n        ",117],["T_VARIABLE","$groupPrice",119],["T_WHITESPACE"," ",119],"=",["T_WHITESPACE"," ",119],["T_VARIABLE","$this",119],["T_OBJECT_OPERATOR","->",119],["T_STRING","getForm",119],"(",")",["T_OBJECT_OPERATOR","->",119],["T_STRING","getElement",119],"(",["T_CONSTANT_ENCAPSED_STRING","'group_price'",119],")",";",["T_WHITESPACE","\n        ",119],["T_IF","if",120],["T_WHITESPACE"," ",120],"(",["T_VARIABLE","$groupPrice",120],")",["T_WHITESPACE"," ",120],"{",["T_WHITESPACE","\n            ",120],["T_VARIABLE","$groupPrice",121],["T_OBJECT_OPERATOR","->",121],["T_STRING","setRenderer",121],"(",["T_WHITESPACE","\n                ",121],["T_VARIABLE","$this",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","getLayout",122],"(",")",["T_OBJECT_OPERATOR","->",122],["T_STRING","createBlock",122],"(",["T_CONSTANT_ENCAPSED_STRING","'adminhtml\/catalog_product_edit_tab_price_group'",122],")",["T_WHITESPACE","\n                    ",122],["T_OBJECT_OPERATOR","->",123],["T_STRING","setPriceColumnHeader",123],"(",["T_STRING","Mage",123],["T_DOUBLE_COLON","::",123],["T_STRING","helper",123],"(",["T_CONSTANT_ENCAPSED_STRING","'bundle'",123],")",["T_OBJECT_OPERATOR","->",123],["T_STRING","__",123],"(",["T_CONSTANT_ENCAPSED_STRING","'Percent Discount'",123],")",")",["T_WHITESPACE","\n                    ",123],["T_OBJECT_OPERATOR","->",124],["T_STRING","setIsPercent",124],"(",["T_STRING","true",124],")",["T_WHITESPACE","\n                    ",124],["T_OBJECT_OPERATOR","->",125],["T_STRING","setPriceValidation",125],"(",["T_CONSTANT_ENCAPSED_STRING","'validate-greater-than-zero validate-percents'",125],")",["T_WHITESPACE","\n            ",125],")",";",["T_WHITESPACE","\n        ",126],"}",["T_WHITESPACE","\n\n        ",127],["T_VARIABLE","$mapEnabled",129],["T_WHITESPACE"," ",129],"=",["T_WHITESPACE"," ",129],["T_VARIABLE","$this",129],["T_OBJECT_OPERATOR","->",129],["T_STRING","getForm",129],"(",")",["T_OBJECT_OPERATOR","->",129],["T_STRING","getElement",129],"(",["T_CONSTANT_ENCAPSED_STRING","'msrp_enabled'",129],")",";",["T_WHITESPACE","\n        ",129],["T_IF","if",130],["T_WHITESPACE"," ",130],"(",["T_VARIABLE","$mapEnabled",130],["T_WHITESPACE"," ",130],["T_BOOLEAN_AND","&&",130],["T_WHITESPACE"," ",130],["T_VARIABLE","$this",130],["T_OBJECT_OPERATOR","->",130],["T_STRING","getCanEditPrice",130],"(",")",["T_WHITESPACE"," ",130],["T_IS_NOT_IDENTICAL","!==",130],["T_WHITESPACE"," ",130],["T_STRING","false",130],")",["T_WHITESPACE"," ",130],"{",["T_WHITESPACE","\n            ",130],["T_VARIABLE","$mapEnabled",131],["T_OBJECT_OPERATOR","->",131],["T_STRING","setAfterElementHtml",131],"(",["T_WHITESPACE","\n                ",131],["T_CONSTANT_ENCAPSED_STRING","'<script type=\"text\/javascript\">'",132],["T_WHITESPACE","\n                ",132],".",["T_WHITESPACE"," ",133],["T_CONSTANT_ENCAPSED_STRING","\"\n                function changePriceTypeMap() {\n                    if ($('price_type').value == \"",133],["T_WHITESPACE"," ",135],".",["T_WHITESPACE"," ",135],["T_STRING","Mage_Bundle_Model_Product_Price",135],["T_DOUBLE_COLON","::",135],["T_STRING","PRICE_TYPE_DYNAMIC",135],["T_WHITESPACE"," ",135],".",["T_WHITESPACE"," ",135],["T_CONSTANT_ENCAPSED_STRING","\") {\n                        $('msrp_enabled').setValue(\"",135],["T_WHITESPACE","\n                        ",136],".",["T_WHITESPACE"," ",137],["T_STRING","Mage_Catalog_Model_Product_Attribute_Source_Msrp_Type_Enabled",137],["T_DOUBLE_COLON","::",137],["T_STRING","MSRP_ENABLE_NO",137],["T_WHITESPACE","\n                        ",137],".",["T_WHITESPACE"," ",138],["T_CONSTANT_ENCAPSED_STRING","\");\n                        $('msrp_enabled').disable();\n                        $('msrp_display_actual_price_type').setValue(\"",138],["T_WHITESPACE","\n                        ",140],".",["T_WHITESPACE"," ",141],["T_STRING","Mage_Catalog_Model_Product_Attribute_Source_Msrp_Type_Price",141],["T_DOUBLE_COLON","::",141],["T_STRING","TYPE_USE_CONFIG",141],["T_WHITESPACE","\n                        ",141],".",["T_WHITESPACE"," ",142],["T_CONSTANT_ENCAPSED_STRING","\");\n                        $('msrp_display_actual_price_type').disable();\n                        $('msrp').setValue('');\n                        $('msrp').disable();\n                    } else {\n                        $('msrp_enabled').enable();\n                        $('msrp_display_actual_price_type').enable();\n                        $('msrp').enable();\n                    }\n                }\n                document.observe('dom:loaded', function() {\n                    $('price_type').observe('change', changePriceTypeMap);\n                    changePriceTypeMap();\n                });\n                \"",142],["T_WHITESPACE","\n                ",156],".",["T_WHITESPACE"," ",157],["T_CONSTANT_ENCAPSED_STRING","'<\/script>'",157],["T_WHITESPACE","\n            ",157],")",";",["T_WHITESPACE","\n        ",158],"}",["T_WHITESPACE","\n    ",159],"}",["T_WHITESPACE","\n\n    ",160],["T_DOC_COMMENT","\/**\n     * Get current product from registry\n     *\n     * @return Mage_Catalog_Model_Product\n     *\/",162],["T_WHITESPACE","\n    ",166],["T_PUBLIC","public",167],["T_WHITESPACE"," ",167],["T_FUNCTION","function",167],["T_WHITESPACE"," ",167],["T_STRING","getProduct",167],"(",")",["T_WHITESPACE","\n    ",167],"{",["T_WHITESPACE","\n        ",168],["T_IF","if",169],["T_WHITESPACE"," ",169],"(","!",["T_VARIABLE","$this",169],["T_OBJECT_OPERATOR","->",169],["T_STRING","getData",169],"(",["T_CONSTANT_ENCAPSED_STRING","'product'",169],")",")","{",["T_WHITESPACE","\n            ",169],["T_VARIABLE","$this",170],["T_OBJECT_OPERATOR","->",170],["T_STRING","setData",170],"(",["T_CONSTANT_ENCAPSED_STRING","'product'",170],",",["T_WHITESPACE"," ",170],["T_STRING","Mage",170],["T_DOUBLE_COLON","::",170],["T_STRING","registry",170],"(",["T_CONSTANT_ENCAPSED_STRING","'product'",170],")",")",";",["T_WHITESPACE","\n        ",170],"}",["T_WHITESPACE","\n        ",171],["T_RETURN","return",172],["T_WHITESPACE"," ",172],["T_VARIABLE","$this",172],["T_OBJECT_OPERATOR","->",172],["T_STRING","getData",172],"(",["T_CONSTANT_ENCAPSED_STRING","'product'",172],")",";",["T_WHITESPACE","\n    ",172],"}",["T_WHITESPACE","\n",173],"}",["T_WHITESPACE","\n",174]]