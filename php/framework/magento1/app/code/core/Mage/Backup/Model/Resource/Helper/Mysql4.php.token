[["T_OPEN_TAG","<?php\n",1],["T_DOC_COMMENT","\/**\n * Magento\n *\n * NOTICE OF LICENSE\n *\n * This source file is subject to the Open Software License (OSL 3.0)\n * that is bundled with this package in the file LICENSE.txt.\n * It is also available through the world-wide-web at this URL:\n * http:\/\/opensource.org\/licenses\/osl-3.0.php\n * If you did not receive a copy of the license and are unable to\n * obtain it through the world-wide-web, please send an email\n * to license@magento.com so we can send you a copy immediately.\n *\n * DISCLAIMER\n *\n * Do not edit or add to this file if you wish to upgrade Magento to newer\n * versions in the future. If you wish to customize Magento for your\n * needs please refer to http:\/\/www.magento.com for more information.\n *\n * @category    Mage\n * @package     Mage_Backup\n * @copyright  Copyright (c) 2006-2016 X.commerce, Inc. and affiliates (http:\/\/www.magento.com)\n * @license    http:\/\/opensource.org\/licenses\/osl-3.0.php  Open Software License (OSL 3.0)\n *\/",2],["T_WHITESPACE","\n\n",25],["T_CLASS","class",27],["T_WHITESPACE"," ",27],["T_STRING","Mage_Backup_Model_Resource_Helper_Mysql4",27],["T_WHITESPACE"," ",27],["T_EXTENDS","extends",27],["T_WHITESPACE"," ",27],["T_STRING","Mage_Core_Model_Resource_Helper_Mysql4",27],["T_WHITESPACE","\n",27],"{",["T_WHITESPACE","\n    ",28],["T_DOC_COMMENT","\/**\n     * Tables foreign key data array\n     * [tbl_name] = array(create foreign key strings)\n     *\n     * @var array\n     *\/",29],["T_WHITESPACE","\n    ",34],["T_PROTECTED","protected",35],["T_WHITESPACE"," ",35],["T_VARIABLE","$_foreignKeys",35],["T_WHITESPACE","    ",35],"=",["T_WHITESPACE"," ",35],["T_ARRAY","array",35],"(",")",";",["T_WHITESPACE","\n\n    ",35],["T_DOC_COMMENT","\/**\n     * Retrieve SQL fragment for drop table\n     *\n     * @param string $tableName\n     * @return string\n     *\/",37],["T_WHITESPACE","\n    ",42],["T_PUBLIC","public",43],["T_WHITESPACE"," ",43],["T_FUNCTION","function",43],["T_WHITESPACE"," ",43],["T_STRING","getTableDropSql",43],"(",["T_VARIABLE","$tableName",43],")",["T_WHITESPACE","\n    ",43],"{",["T_WHITESPACE","\n        ",44],["T_VARIABLE","$quotedTableName",45],["T_WHITESPACE"," ",45],"=",["T_WHITESPACE"," ",45],["T_VARIABLE","$this",45],["T_OBJECT_OPERATOR","->",45],["T_STRING","_getReadAdapter",45],"(",")",["T_OBJECT_OPERATOR","->",45],["T_STRING","quoteIdentifier",45],"(",["T_VARIABLE","$tableName",45],")",";",["T_WHITESPACE","\n        ",45],["T_RETURN","return",46],["T_WHITESPACE"," ",46],["T_STRING","sprintf",46],"(",["T_CONSTANT_ENCAPSED_STRING","'DROP TABLE IF EXISTS %s;'",46],",",["T_WHITESPACE"," ",46],["T_VARIABLE","$quotedTableName",46],")",";",["T_WHITESPACE","\n    ",46],"}",["T_WHITESPACE","\n\n    ",47],["T_DOC_COMMENT","\/**\n     * Retrieve foreign keys for table(s)\n     *\n     * @param string|null $tableName\n     * @return string|false\n     *\/",49],["T_WHITESPACE","\n    ",54],["T_PUBLIC","public",55],["T_WHITESPACE"," ",55],["T_FUNCTION","function",55],["T_WHITESPACE"," ",55],["T_STRING","getTableForeignKeysSql",55],"(",["T_VARIABLE","$tableName",55],["T_WHITESPACE"," ",55],"=",["T_WHITESPACE"," ",55],["T_STRING","null",55],")",["T_WHITESPACE","\n    ",55],"{",["T_WHITESPACE","\n        ",56],["T_VARIABLE","$sql",57],["T_WHITESPACE"," ",57],"=",["T_WHITESPACE"," ",57],["T_STRING","false",57],";",["T_WHITESPACE","\n\n        ",57],["T_IF","if",59],["T_WHITESPACE"," ",59],"(",["T_VARIABLE","$tableName",59],["T_WHITESPACE"," ",59],["T_IS_IDENTICAL","===",59],["T_WHITESPACE"," ",59],["T_STRING","null",59],")",["T_WHITESPACE"," ",59],"{",["T_WHITESPACE","\n            ",59],["T_VARIABLE","$sql",60],["T_WHITESPACE"," ",60],"=",["T_WHITESPACE"," ",60],["T_CONSTANT_ENCAPSED_STRING","''",60],";",["T_WHITESPACE","\n            ",60],["T_FOREACH","foreach",61],["T_WHITESPACE"," ",61],"(",["T_VARIABLE","$this",61],["T_OBJECT_OPERATOR","->",61],["T_STRING","_foreignKeys",61],["T_WHITESPACE"," ",61],["T_AS","as",61],["T_WHITESPACE"," ",61],["T_VARIABLE","$table",61],["T_WHITESPACE"," ",61],["T_DOUBLE_ARROW","=>",61],["T_WHITESPACE"," ",61],["T_VARIABLE","$foreignKeys",61],")",["T_WHITESPACE"," ",61],"{",["T_WHITESPACE","\n                ",61],["T_VARIABLE","$sql",62],["T_WHITESPACE"," ",62],["T_CONCAT_EQUAL",".=",62],["T_WHITESPACE"," ",62],["T_VARIABLE","$this",62],["T_OBJECT_OPERATOR","->",62],["T_STRING","_buildForeignKeysAlterTableSql",62],"(",["T_VARIABLE","$table",62],",",["T_WHITESPACE"," ",62],["T_VARIABLE","$foreignKeys",62],")",";",["T_WHITESPACE","\n            ",62],"}",["T_WHITESPACE","\n        ",63],"}",["T_WHITESPACE"," ",64],["T_ELSE","else",64],["T_WHITESPACE"," ",64],["T_IF","if",64],["T_WHITESPACE"," ",64],"(",["T_ISSET","isset",64],"(",["T_VARIABLE","$this",64],["T_OBJECT_OPERATOR","->",64],["T_STRING","_foreignKeys",64],"[",["T_VARIABLE","$tableName",64],"]",")",")",["T_WHITESPACE"," ",64],"{",["T_WHITESPACE","\n            ",64],["T_VARIABLE","$foreignKeys",65],["T_WHITESPACE"," ",65],"=",["T_WHITESPACE"," ",65],["T_VARIABLE","$this",65],["T_OBJECT_OPERATOR","->",65],["T_STRING","_foreignKeys",65],"[",["T_VARIABLE","$tableName",65],"]",";",["T_WHITESPACE","\n            ",65],["T_VARIABLE","$sql",66],["T_WHITESPACE"," ",66],"=",["T_WHITESPACE"," ",66],["T_VARIABLE","$this",66],["T_OBJECT_OPERATOR","->",66],["T_STRING","_buildForeignKeysAlterTableSql",66],"(",["T_VARIABLE","$tableName",66],",",["T_WHITESPACE"," ",66],["T_VARIABLE","$foreignKeys",66],")",";",["T_WHITESPACE","\n        ",66],"}",["T_WHITESPACE","\n\n        ",67],["T_RETURN","return",69],["T_WHITESPACE"," ",69],["T_VARIABLE","$sql",69],";",["T_WHITESPACE","\n    ",69],"}",["T_WHITESPACE","\n\n    ",70],["T_DOC_COMMENT","\/**\n     * Build sql that will add foreign keys to it\n     *\n     * @param string $tableName\n     * @param array $foreignKeys\n     * @return string\n     *\/",72],["T_WHITESPACE","\n    ",78],["T_PROTECTED","protected",79],["T_WHITESPACE"," ",79],["T_FUNCTION","function",79],["T_WHITESPACE"," ",79],["T_STRING","_buildForeignKeysAlterTableSql",79],"(",["T_VARIABLE","$tableName",79],",",["T_WHITESPACE"," ",79],["T_VARIABLE","$foreignKeys",79],")",["T_WHITESPACE","\n    ",79],"{",["T_WHITESPACE","\n        ",80],["T_IF","if",81],["T_WHITESPACE"," ",81],"(","!",["T_STRING","is_array",81],"(",["T_VARIABLE","$foreignKeys",81],")",["T_WHITESPACE"," ",81],["T_BOOLEAN_OR","||",81],["T_WHITESPACE"," ",81],["T_EMPTY","empty",81],"(",["T_VARIABLE","$foreignKeys",81],")",")",["T_WHITESPACE"," ",81],"{",["T_WHITESPACE","\n            ",81],["T_RETURN","return",82],["T_WHITESPACE"," ",82],["T_CONSTANT_ENCAPSED_STRING","''",82],";",["T_WHITESPACE","\n        ",82],"}",["T_WHITESPACE","\n\n        ",83],["T_RETURN","return",85],["T_WHITESPACE"," ",85],["T_STRING","sprintf",85],"(",["T_CONSTANT_ENCAPSED_STRING","\"ALTER TABLE %s\\n  %s;\\n\"",85],",",["T_WHITESPACE","\n            ",85],["T_VARIABLE","$this",86],["T_OBJECT_OPERATOR","->",86],["T_STRING","_getReadAdapter",86],"(",")",["T_OBJECT_OPERATOR","->",86],["T_STRING","quoteIdentifier",86],"(",["T_VARIABLE","$tableName",86],")",",",["T_WHITESPACE","\n            ",86],["T_STRING","join",87],"(",["T_CONSTANT_ENCAPSED_STRING","\",\\n  \"",87],",",["T_WHITESPACE"," ",87],["T_VARIABLE","$foreignKeys",87],")",["T_WHITESPACE","\n        ",87],")",";",["T_WHITESPACE","\n    ",88],"}",["T_WHITESPACE","\n\n     ",89],["T_DOC_COMMENT","\/**\n     * Get create script for table\n     *\n     * @param string $tableName\n     * @param boolean $addDropIfExists\n     * @return string\n     *\/",91],["T_WHITESPACE","\n    ",97],["T_PUBLIC","public",98],["T_WHITESPACE"," ",98],["T_FUNCTION","function",98],["T_WHITESPACE"," ",98],["T_STRING","getTableCreateScript",98],"(",["T_VARIABLE","$tableName",98],",",["T_WHITESPACE"," ",98],["T_VARIABLE","$addDropIfExists",98],["T_WHITESPACE"," ",98],"=",["T_WHITESPACE"," ",98],["T_STRING","false",98],")",["T_WHITESPACE","\n    ",98],"{",["T_WHITESPACE","\n        ",99],["T_VARIABLE","$script",100],["T_WHITESPACE"," ",100],"=",["T_WHITESPACE"," ",100],["T_CONSTANT_ENCAPSED_STRING","''",100],";",["T_WHITESPACE","\n        ",100],["T_VARIABLE","$quotedTableName",101],["T_WHITESPACE"," ",101],"=",["T_WHITESPACE"," ",101],["T_VARIABLE","$this",101],["T_OBJECT_OPERATOR","->",101],["T_STRING","_getReadAdapter",101],"(",")",["T_OBJECT_OPERATOR","->",101],["T_STRING","quoteIdentifier",101],"(",["T_VARIABLE","$tableName",101],")",";",["T_WHITESPACE","\n\n        ",101],["T_IF","if",103],["T_WHITESPACE"," ",103],"(",["T_VARIABLE","$addDropIfExists",103],")",["T_WHITESPACE"," ",103],"{",["T_WHITESPACE","\n            ",103],["T_VARIABLE","$script",104],["T_WHITESPACE"," ",104],["T_CONCAT_EQUAL",".=",104],["T_WHITESPACE"," ",104],["T_CONSTANT_ENCAPSED_STRING","'DROP TABLE IF EXISTS '",104],["T_WHITESPACE"," ",104],".",["T_WHITESPACE"," ",104],["T_VARIABLE","$quotedTableName",104],["T_WHITESPACE"," ",104],".",["T_CONSTANT_ENCAPSED_STRING","\";\\n\"",104],";",["T_WHITESPACE","\n        ",104],"}",["T_WHITESPACE","\n        ",105],["T_COMMENT","\/\/TODO fix me\n",106],["T_WHITESPACE","        ",107],["T_VARIABLE","$sql",107],["T_WHITESPACE","     ",107],"=",["T_WHITESPACE"," ",107],["T_CONSTANT_ENCAPSED_STRING","'SHOW CREATE TABLE '",107],["T_WHITESPACE"," ",107],".",["T_WHITESPACE"," ",107],["T_VARIABLE","$quotedTableName",107],";",["T_WHITESPACE","\n        ",107],["T_VARIABLE","$data",108],["T_WHITESPACE","    ",108],"=",["T_WHITESPACE"," ",108],["T_VARIABLE","$this",108],["T_OBJECT_OPERATOR","->",108],["T_STRING","_getReadAdapter",108],"(",")",["T_OBJECT_OPERATOR","->",108],["T_STRING","fetchRow",108],"(",["T_VARIABLE","$sql",108],")",";",["T_WHITESPACE","\n        ",108],["T_VARIABLE","$script",109],["T_WHITESPACE"," ",109],["T_CONCAT_EQUAL",".=",109],["T_WHITESPACE"," ",109],["T_ISSET","isset",109],"(",["T_VARIABLE","$data",109],"[",["T_CONSTANT_ENCAPSED_STRING","'Create Table'",109],"]",")",["T_WHITESPACE"," ",109],"?",["T_WHITESPACE"," ",109],["T_VARIABLE","$data",109],"[",["T_CONSTANT_ENCAPSED_STRING","'Create Table'",109],"]",".",["T_CONSTANT_ENCAPSED_STRING","\";\\n\"",109],["T_WHITESPACE"," ",109],":",["T_WHITESPACE"," ",109],["T_CONSTANT_ENCAPSED_STRING","''",109],";",["T_WHITESPACE","\n\n        ",109],["T_RETURN","return",111],["T_WHITESPACE"," ",111],["T_VARIABLE","$script",111],";",["T_WHITESPACE","\n    ",111],"}",["T_WHITESPACE","\n    ",112],["T_DOC_COMMENT","\/**\n     * Retrieve SQL fragment for create table\n     *\n     * @param string $tableName\n     * @param bool $withForeignKeys\n     * @return string\n     *\/",113],["T_WHITESPACE","\n    ",119],["T_PUBLIC","public",120],["T_WHITESPACE"," ",120],["T_FUNCTION","function",120],["T_WHITESPACE"," ",120],["T_STRING","getTableCreateSql",120],"(",["T_VARIABLE","$tableName",120],",",["T_WHITESPACE"," ",120],["T_VARIABLE","$withForeignKeys",120],["T_WHITESPACE"," ",120],"=",["T_WHITESPACE"," ",120],["T_STRING","false",120],")",["T_WHITESPACE","\n    ",120],"{",["T_WHITESPACE","\n        ",121],["T_VARIABLE","$adapter",122],["T_WHITESPACE","         ",122],"=",["T_WHITESPACE"," ",122],["T_VARIABLE","$this",122],["T_OBJECT_OPERATOR","->",122],["T_STRING","_getReadAdapter",122],"(",")",";",["T_WHITESPACE","\n        ",122],["T_VARIABLE","$quotedTableName",123],["T_WHITESPACE"," ",123],"=",["T_WHITESPACE"," ",123],["T_VARIABLE","$adapter",123],["T_OBJECT_OPERATOR","->",123],["T_STRING","quoteIdentifier",123],"(",["T_VARIABLE","$tableName",123],")",";",["T_WHITESPACE","\n        ",123],["T_VARIABLE","$query",124],["T_WHITESPACE","           ",124],"=",["T_WHITESPACE"," ",124],["T_CONSTANT_ENCAPSED_STRING","'SHOW CREATE TABLE '",124],["T_WHITESPACE"," ",124],".",["T_WHITESPACE"," ",124],["T_VARIABLE","$quotedTableName",124],";",["T_WHITESPACE","\n        ",124],["T_VARIABLE","$row",125],["T_WHITESPACE","             ",125],"=",["T_WHITESPACE"," ",125],["T_VARIABLE","$adapter",125],["T_OBJECT_OPERATOR","->",125],["T_STRING","fetchRow",125],"(",["T_VARIABLE","$query",125],")",";",["T_WHITESPACE","\n\n        ",125],["T_IF","if",127],["T_WHITESPACE"," ",127],"(","!",["T_VARIABLE","$row",127],["T_WHITESPACE"," ",127],["T_BOOLEAN_OR","||",127],["T_WHITESPACE"," ",127],"!",["T_ISSET","isset",127],"(",["T_VARIABLE","$row",127],"[",["T_CONSTANT_ENCAPSED_STRING","'Table'",127],"]",")",["T_WHITESPACE"," ",127],["T_BOOLEAN_OR","||",127],["T_WHITESPACE"," ",127],"!",["T_ISSET","isset",127],"(",["T_VARIABLE","$row",127],"[",["T_CONSTANT_ENCAPSED_STRING","'Create Table'",127],"]",")",")",["T_WHITESPACE"," ",127],"{",["T_WHITESPACE","\n            ",127],["T_RETURN","return",128],["T_WHITESPACE"," ",128],["T_STRING","false",128],";",["T_WHITESPACE","\n        ",128],"}",["T_WHITESPACE","\n\n        ",129],["T_VARIABLE","$regExp",131],["T_WHITESPACE","  ",131],"=",["T_WHITESPACE"," ",131],["T_CONSTANT_ENCAPSED_STRING","'\/,\\s+CONSTRAINT `([^`]*)` FOREIGN KEY \\(`([^`]*)`\\) '",131],["T_WHITESPACE","\n            ",131],".",["T_WHITESPACE"," ",132],["T_CONSTANT_ENCAPSED_STRING","'REFERENCES `([^`]*)` \\(`([^`]*)`\\)'",132],["T_WHITESPACE","\n            ",132],".",["T_WHITESPACE"," ",133],["T_CONSTANT_ENCAPSED_STRING","'( ON DELETE (RESTRICT|CASCADE|SET NULL|NO ACTION))?'",133],["T_WHITESPACE","\n            ",133],".",["T_WHITESPACE"," ",134],["T_CONSTANT_ENCAPSED_STRING","'( ON UPDATE (RESTRICT|CASCADE|SET NULL|NO ACTION))?\/'",134],";",["T_WHITESPACE","\n        ",134],["T_VARIABLE","$matches",135],["T_WHITESPACE"," ",135],"=",["T_WHITESPACE"," ",135],["T_ARRAY","array",135],"(",")",";",["T_WHITESPACE","\n        ",135],["T_STRING","preg_match_all",136],"(",["T_VARIABLE","$regExp",136],",",["T_WHITESPACE"," ",136],["T_VARIABLE","$row",136],"[",["T_CONSTANT_ENCAPSED_STRING","'Create Table'",136],"]",",",["T_WHITESPACE"," ",136],["T_VARIABLE","$matches",136],",",["T_WHITESPACE"," ",136],["T_STRING","PREG_SET_ORDER",136],")",";",["T_WHITESPACE","\n\n        ",136],["T_IF","if",138],["T_WHITESPACE"," ",138],"(",["T_STRING","is_array",138],"(",["T_VARIABLE","$matches",138],")",")",["T_WHITESPACE"," ",138],"{",["T_WHITESPACE","\n            ",138],["T_FOREACH","foreach",139],["T_WHITESPACE"," ",139],"(",["T_VARIABLE","$matches",139],["T_WHITESPACE"," ",139],["T_AS","as",139],["T_WHITESPACE"," ",139],["T_VARIABLE","$match",139],")",["T_WHITESPACE"," ",139],"{",["T_WHITESPACE","\n                ",139],["T_VARIABLE","$this",140],["T_OBJECT_OPERATOR","->",140],["T_STRING","_foreignKeys",140],"[",["T_VARIABLE","$tableName",140],"]","[","]",["T_WHITESPACE"," ",140],"=",["T_WHITESPACE"," ",140],["T_STRING","sprintf",140],"(",["T_CONSTANT_ENCAPSED_STRING","'ADD CONSTRAINT %s FOREIGN KEY (%s) REFERENCES %s (%s)%s%s'",140],",",["T_WHITESPACE","\n                    ",140],["T_VARIABLE","$adapter",141],["T_OBJECT_OPERATOR","->",141],["T_STRING","quoteIdentifier",141],"(",["T_VARIABLE","$match",141],"[",["T_LNUMBER","1",141],"]",")",",",["T_WHITESPACE","\n                    ",141],["T_VARIABLE","$adapter",142],["T_OBJECT_OPERATOR","->",142],["T_STRING","quoteIdentifier",142],"(",["T_VARIABLE","$match",142],"[",["T_LNUMBER","2",142],"]",")",",",["T_WHITESPACE","\n                    ",142],["T_VARIABLE","$adapter",143],["T_OBJECT_OPERATOR","->",143],["T_STRING","quoteIdentifier",143],"(",["T_VARIABLE","$match",143],"[",["T_LNUMBER","3",143],"]",")",",",["T_WHITESPACE","\n                    ",143],["T_VARIABLE","$adapter",144],["T_OBJECT_OPERATOR","->",144],["T_STRING","quoteIdentifier",144],"(",["T_VARIABLE","$match",144],"[",["T_LNUMBER","4",144],"]",")",",",["T_WHITESPACE","\n                    ",144],["T_ISSET","isset",145],"(",["T_VARIABLE","$match",145],"[",["T_LNUMBER","5",145],"]",")",["T_WHITESPACE"," ",145],"?",["T_WHITESPACE"," ",145],["T_VARIABLE","$match",145],"[",["T_LNUMBER","5",145],"]",["T_WHITESPACE"," ",145],":",["T_WHITESPACE"," ",145],["T_CONSTANT_ENCAPSED_STRING","''",145],",",["T_WHITESPACE","\n                    ",145],["T_ISSET","isset",146],"(",["T_VARIABLE","$match",146],"[",["T_LNUMBER","7",146],"]",")",["T_WHITESPACE"," ",146],"?",["T_WHITESPACE"," ",146],["T_VARIABLE","$match",146],"[",["T_LNUMBER","7",146],"]",["T_WHITESPACE"," ",146],":",["T_WHITESPACE"," ",146],["T_CONSTANT_ENCAPSED_STRING","''",146],["T_WHITESPACE","\n                ",146],")",";",["T_WHITESPACE","\n            ",147],"}",["T_WHITESPACE","\n        ",148],"}",["T_WHITESPACE","\n\n        ",149],["T_IF","if",151],["T_WHITESPACE"," ",151],"(",["T_VARIABLE","$withForeignKeys",151],")",["T_WHITESPACE"," ",151],"{",["T_WHITESPACE","\n            ",151],["T_VARIABLE","$sql",152],["T_WHITESPACE"," ",152],"=",["T_WHITESPACE"," ",152],["T_VARIABLE","$row",152],"[",["T_CONSTANT_ENCAPSED_STRING","'Create Table'",152],"]",";",["T_WHITESPACE","\n        ",152],"}",["T_WHITESPACE"," ",153],["T_ELSE","else",153],["T_WHITESPACE"," ",153],"{",["T_WHITESPACE","\n            ",153],["T_VARIABLE","$sql",154],["T_WHITESPACE"," ",154],"=",["T_WHITESPACE"," ",154],["T_STRING","preg_replace",154],"(",["T_VARIABLE","$regExp",154],",",["T_WHITESPACE"," ",154],["T_CONSTANT_ENCAPSED_STRING","''",154],",",["T_WHITESPACE"," ",154],["T_VARIABLE","$row",154],"[",["T_CONSTANT_ENCAPSED_STRING","'Create Table'",154],"]",")",";",["T_WHITESPACE","\n        ",154],"}",["T_WHITESPACE","\n\n        ",155],["T_RETURN","return",157],["T_WHITESPACE"," ",157],["T_VARIABLE","$sql",157],["T_WHITESPACE"," ",157],".",["T_WHITESPACE"," ",157],["T_CONSTANT_ENCAPSED_STRING","';'",157],";",["T_WHITESPACE","\n    ",157],"}",["T_WHITESPACE","\n    ",158],["T_DOC_COMMENT","\/**\n     * Returns SQL header data, move from original resource model\n     *\n     * @return string\n     *\/",159],["T_WHITESPACE","\n    ",163],["T_PUBLIC","public",164],["T_WHITESPACE"," ",164],["T_FUNCTION","function",164],["T_WHITESPACE"," ",164],["T_STRING","getHeader",164],"(",")",["T_WHITESPACE","\n    ",164],"{",["T_WHITESPACE","\n        ",165],["T_VARIABLE","$dbConfig",166],["T_WHITESPACE"," ",166],"=",["T_WHITESPACE"," ",166],["T_VARIABLE","$this",166],["T_OBJECT_OPERATOR","->",166],["T_STRING","_getReadAdapter",166],"(",")",["T_OBJECT_OPERATOR","->",166],["T_STRING","getConfig",166],"(",")",";",["T_WHITESPACE","\n\n        ",166],["T_VARIABLE","$versionRow",168],["T_WHITESPACE"," ",168],"=",["T_WHITESPACE"," ",168],["T_VARIABLE","$this",168],["T_OBJECT_OPERATOR","->",168],["T_STRING","_getReadAdapter",168],"(",")",["T_OBJECT_OPERATOR","->",168],["T_STRING","fetchRow",168],"(",["T_CONSTANT_ENCAPSED_STRING","'SHOW VARIABLES LIKE \\'version\\''",168],")",";",["T_WHITESPACE","\n        ",168],["T_VARIABLE","$hostName",169],["T_WHITESPACE","   ",169],"=",["T_WHITESPACE"," ",169],"!",["T_EMPTY","empty",169],"(",["T_VARIABLE","$dbConfig",169],"[",["T_CONSTANT_ENCAPSED_STRING","'unix_socket'",169],"]",")",["T_WHITESPACE"," ",169],"?",["T_WHITESPACE"," ",169],["T_VARIABLE","$dbConfig",169],"[",["T_CONSTANT_ENCAPSED_STRING","'unix_socket'",169],"]",["T_WHITESPACE","\n            ",169],":",["T_WHITESPACE"," ",170],"(","!",["T_EMPTY","empty",170],"(",["T_VARIABLE","$dbConfig",170],"[",["T_CONSTANT_ENCAPSED_STRING","'host'",170],"]",")",["T_WHITESPACE"," ",170],"?",["T_WHITESPACE"," ",170],["T_VARIABLE","$dbConfig",170],"[",["T_CONSTANT_ENCAPSED_STRING","'host'",170],"]",["T_WHITESPACE"," ",170],":",["T_WHITESPACE"," ",170],["T_CONSTANT_ENCAPSED_STRING","'localhost'",170],")",";",["T_WHITESPACE","\n\n        ",170],["T_VARIABLE","$header",172],["T_WHITESPACE"," ",172],"=",["T_WHITESPACE"," ",172],["T_CONSTANT_ENCAPSED_STRING","\"-- Magento DB backup\\n\"",172],["T_WHITESPACE","\n            ",172],".",["T_WHITESPACE"," ",173],["T_CONSTANT_ENCAPSED_STRING","\"--\\n\"",173],["T_WHITESPACE","\n            ",173],".",["T_WHITESPACE"," ",174],"\"",["T_ENCAPSED_AND_WHITESPACE","-- Host: ",174],["T_CURLY_OPEN","{",174],["T_VARIABLE","$hostName",174],"}",["T_ENCAPSED_AND_WHITESPACE","    Database: ",174],["T_CURLY_OPEN","{",174],["T_VARIABLE","$dbConfig",174],"[",["T_CONSTANT_ENCAPSED_STRING","'dbname'",174],"]","}",["T_ENCAPSED_AND_WHITESPACE","\\n",174],"\"",["T_WHITESPACE","\n            ",174],".",["T_WHITESPACE"," ",175],["T_CONSTANT_ENCAPSED_STRING","\"-- ------------------------------------------------------\\n\"",175],["T_WHITESPACE","\n            ",175],".",["T_WHITESPACE"," ",176],"\"",["T_ENCAPSED_AND_WHITESPACE","-- Server version: ",176],["T_CURLY_OPEN","{",176],["T_VARIABLE","$versionRow",176],"[",["T_CONSTANT_ENCAPSED_STRING","'Value'",176],"]","}",["T_ENCAPSED_AND_WHITESPACE","\\n\\n",176],"\"",["T_WHITESPACE","\n            ",176],".",["T_WHITESPACE"," ",177],["T_CONSTANT_ENCAPSED_STRING","\"\/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT *\/;\\n\"",177],["T_WHITESPACE","\n            ",177],".",["T_WHITESPACE"," ",178],["T_CONSTANT_ENCAPSED_STRING","\"\/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS *\/;\\n\"",178],["T_WHITESPACE","\n            ",178],".",["T_WHITESPACE"," ",179],["T_CONSTANT_ENCAPSED_STRING","\"\/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION *\/;\\n\"",179],["T_WHITESPACE","\n            ",179],".",["T_WHITESPACE"," ",180],["T_CONSTANT_ENCAPSED_STRING","\"\/*!40101 SET NAMES utf8 *\/;\\n\"",180],["T_WHITESPACE","\n            ",180],".",["T_WHITESPACE"," ",181],["T_CONSTANT_ENCAPSED_STRING","\"\/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 *\/;\\n\"",181],["T_WHITESPACE","\n            ",181],".",["T_WHITESPACE"," ",182],["T_CONSTANT_ENCAPSED_STRING","\"\/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 *\/;\\n\"",182],["T_WHITESPACE","\n            ",182],".",["T_WHITESPACE"," ",183],["T_CONSTANT_ENCAPSED_STRING","\"\/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='NO_AUTO_VALUE_ON_ZERO' *\/;\\n\"",183],["T_WHITESPACE","\n            ",183],".",["T_WHITESPACE"," ",184],["T_CONSTANT_ENCAPSED_STRING","\"\/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 *\/;\\n\"",184],";",["T_WHITESPACE","\n\n        ",184],["T_RETURN","return",186],["T_WHITESPACE"," ",186],["T_VARIABLE","$header",186],";",["T_WHITESPACE","\n    ",186],"}",["T_WHITESPACE","\n\n    ",187],["T_DOC_COMMENT","\/**\n     * Returns SQL footer data, move from original resource model\n     *\n     * @return string\n     *\/",189],["T_WHITESPACE","\n    ",193],["T_PUBLIC","public",194],["T_WHITESPACE"," ",194],["T_FUNCTION","function",194],["T_WHITESPACE"," ",194],["T_STRING","getFooter",194],"(",")",["T_WHITESPACE","\n    ",194],"{",["T_WHITESPACE","\n        ",195],["T_VARIABLE","$footer",196],["T_WHITESPACE"," ",196],"=",["T_WHITESPACE"," ",196],["T_CONSTANT_ENCAPSED_STRING","\"\\n\/*!40101 SET SQL_MODE=@OLD_SQL_MODE *\/;\\n\"",196],["T_WHITESPACE","\n            ",196],".",["T_WHITESPACE"," ",197],["T_CONSTANT_ENCAPSED_STRING","\"\/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS *\/; \\n\"",197],["T_WHITESPACE","\n            ",197],".",["T_WHITESPACE"," ",198],["T_CONSTANT_ENCAPSED_STRING","\"\/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS *\/;\\n\"",198],["T_WHITESPACE","\n            ",198],".",["T_WHITESPACE"," ",199],["T_CONSTANT_ENCAPSED_STRING","\"\/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT *\/;\\n\"",199],["T_WHITESPACE","\n            ",199],".",["T_WHITESPACE"," ",200],["T_CONSTANT_ENCAPSED_STRING","\"\/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS *\/;\\n\"",200],["T_WHITESPACE","\n            ",200],".",["T_WHITESPACE"," ",201],["T_CONSTANT_ENCAPSED_STRING","\"\/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION *\/;\\n\"",201],["T_WHITESPACE","\n            ",201],".",["T_WHITESPACE"," ",202],["T_CONSTANT_ENCAPSED_STRING","\"\/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES *\/;\\n\"",202],["T_WHITESPACE","\n            ",202],".",["T_WHITESPACE"," ",203],["T_CONSTANT_ENCAPSED_STRING","\"\\n-- Dump completed on \"",203],["T_WHITESPACE"," ",203],".",["T_WHITESPACE"," ",203],["T_STRING","Mage",203],["T_DOUBLE_COLON","::",203],["T_STRING","getSingleton",203],"(",["T_CONSTANT_ENCAPSED_STRING","'core\/date'",203],")",["T_OBJECT_OPERATOR","->",203],["T_STRING","gmtDate",203],"(",")",["T_WHITESPACE"," ",203],".",["T_WHITESPACE"," ",203],["T_CONSTANT_ENCAPSED_STRING","\" GMT\"",203],";",["T_WHITESPACE","\n\n        ",203],["T_RETURN","return",205],["T_WHITESPACE"," ",205],["T_VARIABLE","$footer",205],";",["T_WHITESPACE","\n    ",205],"}",["T_WHITESPACE","\n\n    ",206],["T_DOC_COMMENT","\/**\n     * Retrieve before insert data SQL fragment\n     *\n     * @param string $tableName\n     * @return string\n     *\/",208],["T_WHITESPACE","\n    ",213],["T_PUBLIC","public",214],["T_WHITESPACE"," ",214],["T_FUNCTION","function",214],["T_WHITESPACE"," ",214],["T_STRING","getTableDataBeforeSql",214],"(",["T_VARIABLE","$tableName",214],")",["T_WHITESPACE","\n    ",214],"{",["T_WHITESPACE","\n        ",215],["T_VARIABLE","$quotedTableName",216],["T_WHITESPACE"," ",216],"=",["T_WHITESPACE"," ",216],["T_VARIABLE","$this",216],["T_OBJECT_OPERATOR","->",216],["T_STRING","_getReadAdapter",216],"(",")",["T_OBJECT_OPERATOR","->",216],["T_STRING","quoteIdentifier",216],"(",["T_VARIABLE","$tableName",216],")",";",["T_WHITESPACE","\n        ",216],["T_RETURN","return",217],["T_WHITESPACE"," ",217],["T_CONSTANT_ENCAPSED_STRING","\"\\n--\\n\"",217],["T_WHITESPACE","\n            ",217],".",["T_WHITESPACE"," ",218],"\"",["T_ENCAPSED_AND_WHITESPACE","-- Dumping data for table ",218],["T_CURLY_OPEN","{",218],["T_VARIABLE","$quotedTableName",218],"}",["T_ENCAPSED_AND_WHITESPACE","\\n",218],"\"",["T_WHITESPACE","\n            ",218],".",["T_WHITESPACE"," ",219],["T_CONSTANT_ENCAPSED_STRING","\"--\\n\\n\"",219],["T_WHITESPACE","\n            ",219],".",["T_WHITESPACE"," ",220],"\"",["T_ENCAPSED_AND_WHITESPACE","LOCK TABLES ",220],["T_CURLY_OPEN","{",220],["T_VARIABLE","$quotedTableName",220],"}",["T_ENCAPSED_AND_WHITESPACE"," WRITE;\\n",220],"\"",["T_WHITESPACE","\n            ",220],".",["T_WHITESPACE"," ",221],"\"",["T_ENCAPSED_AND_WHITESPACE","\/*!40000 ALTER TABLE ",221],["T_CURLY_OPEN","{",221],["T_VARIABLE","$quotedTableName",221],"}",["T_ENCAPSED_AND_WHITESPACE"," DISABLE KEYS *\/;\\n",221],"\"",";",["T_WHITESPACE","\n    ",221],"}",["T_WHITESPACE","\n\n    ",222],["T_DOC_COMMENT","\/**\n     * Retrieve after insert data SQL fragment\n     *\n     * @param string $tableName\n     * @return string\n     *\/",224],["T_WHITESPACE","\n    ",229],["T_PUBLIC","public",230],["T_WHITESPACE"," ",230],["T_FUNCTION","function",230],["T_WHITESPACE"," ",230],["T_STRING","getTableDataAfterSql",230],"(",["T_VARIABLE","$tableName",230],")",["T_WHITESPACE","\n    ",230],"{",["T_WHITESPACE","\n        ",231],["T_VARIABLE","$quotedTableName",232],["T_WHITESPACE"," ",232],"=",["T_WHITESPACE"," ",232],["T_VARIABLE","$this",232],["T_OBJECT_OPERATOR","->",232],["T_STRING","_getReadAdapter",232],"(",")",["T_OBJECT_OPERATOR","->",232],["T_STRING","quoteIdentifier",232],"(",["T_VARIABLE","$tableName",232],")",";",["T_WHITESPACE","\n        ",232],["T_RETURN","return",233],["T_WHITESPACE"," ",233],"\"",["T_ENCAPSED_AND_WHITESPACE","\/*!40000 ALTER TABLE ",233],["T_CURLY_OPEN","{",233],["T_VARIABLE","$quotedTableName",233],"}",["T_ENCAPSED_AND_WHITESPACE"," ENABLE KEYS *\/;\\n",233],"\"",["T_WHITESPACE","\n            ",233],".",["T_WHITESPACE"," ",234],["T_CONSTANT_ENCAPSED_STRING","\"UNLOCK TABLES;\\n\"",234],";",["T_WHITESPACE","\n    ",234],"}",["T_WHITESPACE","\n\n    ",235],["T_DOC_COMMENT","\/**\n     * Return table part data SQL insert\n     *\n     * @param string $tableName\n     * @param int $count\n     * @param int $offset\n     * @return string\n     *\/",237],["T_WHITESPACE","\n    ",244],["T_PUBLIC","public",245],["T_WHITESPACE"," ",245],["T_FUNCTION","function",245],["T_WHITESPACE"," ",245],["T_STRING","getPartInsertSql",245],"(",["T_VARIABLE","$tableName",245],",",["T_WHITESPACE"," ",245],["T_VARIABLE","$count",245],["T_WHITESPACE"," ",245],"=",["T_WHITESPACE"," ",245],["T_STRING","null",245],",",["T_WHITESPACE"," ",245],["T_VARIABLE","$offset",245],["T_WHITESPACE"," ",245],"=",["T_WHITESPACE"," ",245],["T_STRING","null",245],")",["T_WHITESPACE","\n    ",245],"{",["T_WHITESPACE","\n        ",246],["T_VARIABLE","$sql",247],["T_WHITESPACE"," ",247],"=",["T_WHITESPACE"," ",247],["T_STRING","null",247],";",["T_WHITESPACE","\n        ",247],["T_VARIABLE","$adapter",248],["T_WHITESPACE"," ",248],"=",["T_WHITESPACE"," ",248],["T_VARIABLE","$this",248],["T_OBJECT_OPERATOR","->",248],["T_STRING","_getWriteAdapter",248],"(",")",";",["T_WHITESPACE","\n        ",248],["T_VARIABLE","$select",249],["T_WHITESPACE"," ",249],"=",["T_WHITESPACE"," ",249],["T_VARIABLE","$adapter",249],["T_OBJECT_OPERATOR","->",249],["T_STRING","select",249],"(",")",["T_WHITESPACE","\n            ",249],["T_OBJECT_OPERATOR","->",250],["T_STRING","from",250],"(",["T_VARIABLE","$tableName",250],")",["T_WHITESPACE","\n            ",250],["T_OBJECT_OPERATOR","->",251],["T_STRING","limit",251],"(",["T_VARIABLE","$count",251],",",["T_WHITESPACE"," ",251],["T_VARIABLE","$offset",251],")",";",["T_WHITESPACE","\n        ",251],["T_VARIABLE","$query",252],["T_WHITESPACE","  ",252],"=",["T_WHITESPACE"," ",252],["T_VARIABLE","$adapter",252],["T_OBJECT_OPERATOR","->",252],["T_STRING","query",252],"(",["T_VARIABLE","$select",252],")",";",["T_WHITESPACE","\n\n        ",252],["T_WHILE","while",254],["T_WHITESPACE"," ",254],"(",["T_VARIABLE","$row",254],["T_WHITESPACE"," ",254],"=",["T_WHITESPACE"," ",254],["T_VARIABLE","$query",254],["T_OBJECT_OPERATOR","->",254],["T_STRING","fetch",254],"(",")",")",["T_WHITESPACE"," ",254],"{",["T_WHITESPACE","\n            ",254],["T_IF","if",255],["T_WHITESPACE"," ",255],"(",["T_VARIABLE","$sql",255],["T_WHITESPACE"," ",255],["T_IS_IDENTICAL","===",255],["T_WHITESPACE"," ",255],["T_STRING","null",255],")",["T_WHITESPACE"," ",255],"{",["T_WHITESPACE","\n                ",255],["T_VARIABLE","$sql",256],["T_WHITESPACE"," ",256],"=",["T_WHITESPACE"," ",256],["T_STRING","sprintf",256],"(",["T_CONSTANT_ENCAPSED_STRING","'INSERT INTO %s VALUES '",256],",",["T_WHITESPACE"," ",256],["T_VARIABLE","$adapter",256],["T_OBJECT_OPERATOR","->",256],["T_STRING","quoteIdentifier",256],"(",["T_VARIABLE","$tableName",256],")",")",";",["T_WHITESPACE","\n            ",256],"}",["T_WHITESPACE"," ",257],["T_ELSE","else",257],["T_WHITESPACE"," ",257],"{",["T_WHITESPACE","\n                ",257],["T_VARIABLE","$sql",258],["T_WHITESPACE"," ",258],["T_CONCAT_EQUAL",".=",258],["T_WHITESPACE"," ",258],["T_CONSTANT_ENCAPSED_STRING","','",258],";",["T_WHITESPACE","\n            ",258],"}",["T_WHITESPACE","\n\n            ",259],["T_VARIABLE","$sql",261],["T_WHITESPACE"," ",261],["T_CONCAT_EQUAL",".=",261],["T_WHITESPACE"," ",261],["T_VARIABLE","$this",261],["T_OBJECT_OPERATOR","->",261],["T_STRING","_quoteRow",261],"(",["T_VARIABLE","$tableName",261],",",["T_WHITESPACE"," ",261],["T_VARIABLE","$row",261],")",";",["T_WHITESPACE","\n        ",261],"}",["T_WHITESPACE","\n\n        ",262],["T_IF","if",264],["T_WHITESPACE"," ",264],"(",["T_VARIABLE","$sql",264],["T_WHITESPACE"," ",264],["T_IS_NOT_IDENTICAL","!==",264],["T_WHITESPACE"," ",264],["T_STRING","null",264],")",["T_WHITESPACE"," ",264],"{",["T_WHITESPACE","\n            ",264],["T_VARIABLE","$sql",265],["T_WHITESPACE"," ",265],["T_CONCAT_EQUAL",".=",265],["T_WHITESPACE"," ",265],["T_CONSTANT_ENCAPSED_STRING","';'",265],["T_WHITESPACE"," ",265],".",["T_WHITESPACE"," ",265],["T_CONSTANT_ENCAPSED_STRING","\"\\n\"",265],";",["T_WHITESPACE","\n        ",265],"}",["T_WHITESPACE","\n\n        ",266],["T_RETURN","return",268],["T_WHITESPACE"," ",268],["T_VARIABLE","$sql",268],";",["T_WHITESPACE","\n    ",268],"}",["T_WHITESPACE","\n    ",269],["T_DOC_COMMENT","\/**\n     * Return table data SQL insert\n     *\n     * @param string $tableName\n     * @return string\n     *\/",270],["T_WHITESPACE","\n    ",275],["T_PUBLIC","public",276],["T_WHITESPACE"," ",276],["T_FUNCTION","function",276],["T_WHITESPACE"," ",276],["T_STRING","getInsertSql",276],"(",["T_VARIABLE","$tableName",276],")",["T_WHITESPACE","\n    ",276],"{",["T_WHITESPACE","\n        ",277],["T_RETURN","return",278],["T_WHITESPACE"," ",278],["T_VARIABLE","$this",278],["T_OBJECT_OPERATOR","->",278],["T_STRING","getPartInsertSql",278],"(",["T_VARIABLE","$tableName",278],")",";",["T_WHITESPACE","\n    ",278],"}",["T_WHITESPACE","\n    ",279],["T_DOC_COMMENT","\/**\n     * Quote Table Row\n     *\n     * @param string $tableName\n     * @param array $row\n     * @return string\n     *\/",280],["T_WHITESPACE","\n    ",286],["T_PROTECTED","protected",287],["T_WHITESPACE"," ",287],["T_FUNCTION","function",287],["T_WHITESPACE"," ",287],["T_STRING","_quoteRow",287],"(",["T_VARIABLE","$tableName",287],",",["T_WHITESPACE"," ",287],["T_ARRAY","array",287],["T_WHITESPACE"," ",287],["T_VARIABLE","$row",287],")",["T_WHITESPACE","\n    ",287],"{",["T_WHITESPACE","\n        ",288],["T_VARIABLE","$adapter",289],["T_WHITESPACE","   ",289],"=",["T_WHITESPACE"," ",289],["T_VARIABLE","$this",289],["T_OBJECT_OPERATOR","->",289],["T_STRING","_getReadAdapter",289],"(",")",";",["T_WHITESPACE","\n        ",289],["T_VARIABLE","$describe",290],["T_WHITESPACE","  ",290],"=",["T_WHITESPACE"," ",290],["T_VARIABLE","$adapter",290],["T_OBJECT_OPERATOR","->",290],["T_STRING","describeTable",290],"(",["T_VARIABLE","$tableName",290],")",";",["T_WHITESPACE","\n        ",290],["T_VARIABLE","$dataTypes",291],["T_WHITESPACE"," ",291],"=",["T_WHITESPACE"," ",291],["T_ARRAY","array",291],"(",["T_CONSTANT_ENCAPSED_STRING","'bigint'",291],",",["T_WHITESPACE"," ",291],["T_CONSTANT_ENCAPSED_STRING","'mediumint'",291],",",["T_WHITESPACE"," ",291],["T_CONSTANT_ENCAPSED_STRING","'smallint'",291],",",["T_WHITESPACE"," ",291],["T_CONSTANT_ENCAPSED_STRING","'tinyint'",291],")",";",["T_WHITESPACE","\n        ",291],["T_VARIABLE","$rowData",292],["T_WHITESPACE","   ",292],"=",["T_WHITESPACE"," ",292],["T_ARRAY","array",292],"(",")",";",["T_WHITESPACE","\n        ",292],["T_FOREACH","foreach",293],["T_WHITESPACE"," ",293],"(",["T_VARIABLE","$row",293],["T_WHITESPACE"," ",293],["T_AS","as",293],["T_WHITESPACE"," ",293],["T_VARIABLE","$k",293],["T_WHITESPACE"," ",293],["T_DOUBLE_ARROW","=>",293],["T_WHITESPACE"," ",293],["T_VARIABLE","$v",293],")",["T_WHITESPACE"," ",293],"{",["T_WHITESPACE","\n            ",293],["T_IF","if",294],["T_WHITESPACE"," ",294],"(",["T_VARIABLE","$v",294],["T_WHITESPACE"," ",294],["T_IS_IDENTICAL","===",294],["T_WHITESPACE"," ",294],["T_STRING","null",294],")",["T_WHITESPACE"," ",294],"{",["T_WHITESPACE","\n                ",294],["T_VARIABLE","$value",295],["T_WHITESPACE"," ",295],"=",["T_WHITESPACE"," ",295],["T_CONSTANT_ENCAPSED_STRING","'NULL'",295],";",["T_WHITESPACE","\n            ",295],"}",["T_WHITESPACE"," ",296],["T_ELSEIF","elseif",296],["T_WHITESPACE"," ",296],"(",["T_STRING","in_array",296],"(",["T_STRING","strtolower",296],"(",["T_VARIABLE","$describe",296],"[",["T_VARIABLE","$k",296],"]","[",["T_CONSTANT_ENCAPSED_STRING","'DATA_TYPE'",296],"]",")",",",["T_WHITESPACE"," ",296],["T_VARIABLE","$dataTypes",296],")",")",["T_WHITESPACE"," ",296],"{",["T_WHITESPACE","\n                ",296],["T_VARIABLE","$value",297],["T_WHITESPACE"," ",297],"=",["T_WHITESPACE"," ",297],["T_VARIABLE","$v",297],";",["T_WHITESPACE","\n            ",297],"}",["T_WHITESPACE"," ",298],["T_ELSE","else",298],["T_WHITESPACE"," ",298],"{",["T_WHITESPACE","\n                ",298],["T_VARIABLE","$value",299],["T_WHITESPACE"," ",299],"=",["T_WHITESPACE"," ",299],["T_VARIABLE","$adapter",299],["T_OBJECT_OPERATOR","->",299],["T_STRING","quoteInto",299],"(",["T_CONSTANT_ENCAPSED_STRING","'?'",299],",",["T_WHITESPACE"," ",299],["T_VARIABLE","$v",299],")",";",["T_WHITESPACE","\n            ",299],"}",["T_WHITESPACE","\n            ",300],["T_VARIABLE","$rowData",301],"[","]",["T_WHITESPACE"," ",301],"=",["T_WHITESPACE"," ",301],["T_VARIABLE","$value",301],";",["T_WHITESPACE","\n        ",301],"}",["T_WHITESPACE","\n\n        ",302],["T_RETURN","return",304],["T_WHITESPACE"," ",304],["T_STRING","sprintf",304],"(",["T_CONSTANT_ENCAPSED_STRING","'(%s)'",304],",",["T_WHITESPACE"," ",304],["T_STRING","implode",304],"(",["T_CONSTANT_ENCAPSED_STRING","','",304],",",["T_WHITESPACE"," ",304],["T_VARIABLE","$rowData",304],")",")",";",["T_WHITESPACE","\n    ",304],"}",["T_WHITESPACE","\n\n    ",305],["T_DOC_COMMENT","\/**\n     * Turn on serializable mode\n     *\/",307],["T_WHITESPACE","\n    ",309],["T_PUBLIC","public",310],["T_WHITESPACE"," ",310],["T_FUNCTION","function",310],["T_WHITESPACE"," ",310],["T_STRING","turnOnSerializableMode",310],"(",")",["T_WHITESPACE","\n    ",310],"{",["T_WHITESPACE","\n        ",311],["T_VARIABLE","$this",312],["T_OBJECT_OPERATOR","->",312],["T_STRING","_getReadAdapter",312],"(",")",["T_OBJECT_OPERATOR","->",312],["T_STRING","query",312],"(",["T_CONSTANT_ENCAPSED_STRING","\"SET SESSION TRANSACTION ISOLATION LEVEL SERIALIZABLE\"",312],")",";",["T_WHITESPACE","\n    ",312],"}",["T_WHITESPACE","\n\n    ",313],["T_DOC_COMMENT","\/**\n     * Turn on read committed mode\n     *\/",315],["T_WHITESPACE","\n    ",317],["T_PUBLIC","public",318],["T_WHITESPACE"," ",318],["T_FUNCTION","function",318],["T_WHITESPACE"," ",318],["T_STRING","turnOnReadCommittedMode",318],"(",")",["T_WHITESPACE","\n    ",318],"{",["T_WHITESPACE","\n        ",319],["T_VARIABLE","$this",320],["T_OBJECT_OPERATOR","->",320],["T_STRING","_getReadAdapter",320],"(",")",["T_OBJECT_OPERATOR","->",320],["T_STRING","query",320],"(",["T_CONSTANT_ENCAPSED_STRING","\"SET SESSION TRANSACTION ISOLATION LEVEL READ COMMITTED\"",320],")",";",["T_WHITESPACE","\n    ",320],"}",["T_WHITESPACE","\n",321],"}",["T_WHITESPACE","\n",322]]